(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.AoKuuIC7{position:relative;width:100%;max-width:800px;height:420px;margin:40px auto;border:1px solid #e5e7eb;border-radius:16px;overflow:hidden;background:#fafafa}.uhF9S2AB{position:absolute;inset:0;background:#00000080;display:none;align-items:center;justify-content:center;padding:16px}.uhF9S2AB.dw2xZ5PP{display:flex}.pVED4Nqg{width:min(520px,100%);background:#fff;border-radius:16px;box-shadow:0 10px 30px #00000040;padding:20px}.pVED4Nqg header{display:flex;align-items:center;gap:12px;margin-bottom:12px}.pVED4Nqg h2{margin:0;font:600 18px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}.pVED4Nqg p{margin:8px 0 16px;color:#4b5563;font-size:14px}.Aoi4NtJr{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center;margin:8px 0 20px}.rwg0Q1BZ{height:40px;display:flex;align-items:center;padding:0 12px;border:1px solid #e5e7eb;border-radius:10px;background:#f9fafb;color:#374151;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.AcSgxO5d{display:flex;justify-content:flex-end;gap:10px}.jqZV6ino{height:40px;padding:0 14px;border:1px solid transparent;border-radius:10px;background:#111827;color:#fff;font:500 14px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;cursor:pointer}.jqZV6ino input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}label.jqZV6ino{position:relative;overflow:hidden;display:inline-flex;align-items:center;justify-content:center;height:40px;padding:0 14px;border-radius:10px;background:#111827;color:#fff;font:500 14px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;cursor:pointer}label.jqZV6ino input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;display:none}.jqZV6ino:focus-visible{outline:2px solid #6366f1;outline-offset:2px}.jqZV6ino:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.jqZV6ino.MUyNmMHh{background:#fff;color:#111827;border-color:#e5e7eb}.Lub8lEDq{position:relative;width:100%;height:100%;overflow:hidden;background-color:#fff}.Lub8lEDq .gAt88WSK,.Lub8lEDq .f-yoEwGQ{pointer-events:none;position:absolute;overflow:hidden;top:0;left:0;width:100%;height:100%}.f-yoEwGQ ._3Au4Qe-K{position:absolute}.f-yoEwGQ textarea._3Au4Qe-K{resize:none;overflow:hidden}.f-yoEwGQ textarea._3Au4Qe-K,.f-yoEwGQ input[type=text]._3Au4Qe-K{outline:none;margin:0;padding:0;box-sizing:border-box;border:inset 2px}@keyframes marching-ants{0%{background-position:0 0,0 100%,0 0,100% 0}to{background-position:20px 0,-20px 100%,0 -20px,100% 20px}}:root{--rc-drag-handle-size: 12px;--rc-drag-handle-mobile-size: 24px;--rc-drag-handle-bg-colour: rgba(0, 0, 0, .2);--rc-drag-bar-size: 6px;--rc-border-color: rgba(255, 255, 255, .7);--rc-focus-color: #0088ff}.ReactCrop{position:relative;display:inline-block;cursor:crosshair;max-width:100%}.ReactCrop *,.ReactCrop *:before,.ReactCrop *:after{box-sizing:border-box}.ReactCrop--disabled,.ReactCrop--locked{cursor:inherit}.ReactCrop__child-wrapper{overflow:hidden;max-height:inherit}.ReactCrop__child-wrapper>img,.ReactCrop__child-wrapper>video{display:block;max-width:100%;max-height:inherit}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>img,.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>video{touch-action:none}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__crop-selection{touch-action:none}.ReactCrop__crop-mask{position:absolute;inset:0;pointer-events:none;width:calc(100% + .5px);height:calc(100% + .5px)}.ReactCrop__crop-selection{position:absolute;top:0;left:0;transform:translateZ(0);cursor:move}.ReactCrop--disabled .ReactCrop__crop-selection{cursor:inherit}.ReactCrop--circular-crop .ReactCrop__crop-selection{border-radius:50%}.ReactCrop--circular-crop .ReactCrop__crop-selection:after{pointer-events:none;content:"";position:absolute;inset:-1px;border:1px solid var(--rc-border-color);opacity:.3}.ReactCrop--no-animate .ReactCrop__crop-selection{outline:1px dashed white}.ReactCrop__crop-selection:not(.ReactCrop--no-animate .ReactCrop__crop-selection){animation:marching-ants 1s;background-image:linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%);background-size:10px 1px,10px 1px,1px 10px,1px 10px;background-position:0 0,0 100%,0 0,100% 0;background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;color:#fff;animation-play-state:running;animation-timing-function:linear;animation-iteration-count:infinite}.ReactCrop__crop-selection:focus{outline:2px solid var(--rc-focus-color);outline-offset:-1px}.ReactCrop--invisible-crop .ReactCrop__crop-mask,.ReactCrop--invisible-crop .ReactCrop__crop-selection{display:none}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after,.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{content:"";display:block;position:absolute;background-color:#fff6}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after{width:1px;height:100%}.ReactCrop__rule-of-thirds-vt:before{left:33.3333333333%}.ReactCrop__rule-of-thirds-vt:after{left:66.6666666667%}.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{width:100%;height:1px}.ReactCrop__rule-of-thirds-hz:before{top:33.3333333333%}.ReactCrop__rule-of-thirds-hz:after{top:66.6666666667%}.ReactCrop__drag-handle{position:absolute;width:var(--rc-drag-handle-size);height:var(--rc-drag-handle-size);background-color:var(--rc-drag-handle-bg-colour);border:1px solid var(--rc-border-color)}.ReactCrop__drag-handle:focus{background:var(--rc-focus-color)}.ReactCrop .ord-nw{top:0;left:0;transform:translate(-50%,-50%);cursor:nw-resize}.ReactCrop .ord-n{top:0;left:50%;transform:translate(-50%,-50%);cursor:n-resize}.ReactCrop .ord-ne{top:0;right:0;transform:translate(50%,-50%);cursor:ne-resize}.ReactCrop .ord-e{top:50%;right:0;transform:translate(50%,-50%);cursor:e-resize}.ReactCrop .ord-se{bottom:0;right:0;transform:translate(50%,50%);cursor:se-resize}.ReactCrop .ord-s{bottom:0;left:50%;transform:translate(-50%,50%);cursor:s-resize}.ReactCrop .ord-sw{bottom:0;left:0;transform:translate(-50%,50%);cursor:sw-resize}.ReactCrop .ord-w{top:50%;left:0;transform:translate(-50%,-50%);cursor:w-resize}.ReactCrop__disabled .ReactCrop__drag-handle{cursor:inherit}.ReactCrop__drag-bar{position:absolute}.ReactCrop__drag-bar.ord-n{top:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(-50%)}.ReactCrop__drag-bar.ord-e{right:0;top:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(50%)}.ReactCrop__drag-bar.ord-s{bottom:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(50%)}.ReactCrop__drag-bar.ord-w{top:0;left:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(-50%)}.ReactCrop--new-crop .ReactCrop__drag-bar,.ReactCrop--new-crop .ReactCrop__drag-handle,.ReactCrop--fixed-aspect .ReactCrop__drag-bar,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-n,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-e,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-s,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-w{display:none}@media (pointer: coarse){.ReactCrop .ord-n,.ReactCrop .ord-e,.ReactCrop .ord-s,.ReactCrop .ord-w{display:none}.ReactCrop__drag-handle{width:var(--rc-drag-handle-mobile-size);height:var(--rc-drag-handle-mobile-size)}}')),document.head.appendChild(e)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}})();
var stratumEditor=(function(Nv){"use strict";function TK(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function vC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yC={exports:{}},bp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP;function MK(){if(qP)return bp;qP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var a in o)a!=="key"&&(i[a]=o[a])}else i=o;return o=i.ref,{$$typeof:e,type:n,key:s,ref:o!==void 0?o:null,props:i}}return bp.Fragment=t,bp.jsx=r,bp.jsxs=r,bp}var YP;function OK(){return YP||(YP=1,yC.exports=MK()),yC.exports}var x=OK();/**
Copyright (c) 2020 Egor Nepomnyaschih @license (MIT)
*/const Dl=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],XP=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Bv(e){if(e>=XP.length)throw new Error("Unable to parse base64 string.");const t=XP[e];if(t===255)throw new Error("Unable to parse base64 string.");return t}function Fv(e){let t="",r,n=e.length;for(r=2;r<n;r+=3)t+=Dl[e[r-2]>>2],t+=Dl[(e[r-2]&3)<<4|e[r-1]>>4],t+=Dl[(e[r-1]&15)<<2|e[r]>>6],t+=Dl[e[r]&63];return r===n+1&&(t+=Dl[e[r-2]>>2],t+=Dl[(e[r-2]&3)<<4],t+="=="),r===n&&(t+=Dl[e[r-2]>>2],t+=Dl[(e[r-2]&3)<<4|e[r-1]>>4],t+=Dl[(e[r-1]&15)<<2],t+="="),t}function bC(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(t!==-1&&t<e.length-2)throw new Error("Unable to parse base64 string.");let r=e.endsWith("==")?2:e.endsWith("=")?1:0,n=e.length,o=new Uint8Array(3*(n/4)),i;for(let s=0,a=0;s<n;s+=4,a+=3)i=Bv(e.charCodeAt(s))<<18|Bv(e.charCodeAt(s+1))<<12|Bv(e.charCodeAt(s+2))<<6|Bv(e.charCodeAt(s+3)),o[a]=i>>16,o[a+1]=i>>8&255,o[a+2]=i&255;return o.subarray(0,o.length-r)}const ha=[...Array.from({length:128},(e,t)=>String.fromCharCode(t)),"Ђ","Ѓ","‚","ѓ","„","…","†","‡","€","‰","Љ","‹","Њ","Ќ","Ћ","Џ","ђ","‘","’","“","”","•","–","—","","™","љ","›","њ","ќ","ћ","џ"," ","Ў","ў","Ћ","¤","Ґ","¦","§","Ё","©","Є","«","¬","","®","Ї","°","±","І","і","ґ","µ","¶","·","ё","№","є","»","ј","Ѕ","ѕ","ї","А","Б","В","Г","Д","Е","Ж","З","И","Й","К","Л","М","Н","О","П","Р","С","Т","У","Ф","Х","Ц","Ч","Ш","Щ","Ъ","Ы","Ь","Э","Ю","Я","а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"];function jv(e){return Array.from(e).map(t=>ha[t]).join("")}const Vv=32,RK=10;function wC(e){return new Uint8Array([...e].map(t=>{const r=ha.indexOf(t);return r>-1?r:Vv}))}class Al{constructor(){this.listeners=new Set,this.listenersOnce=new Set}add(t){this.listeners.add(t)}addOnce(t){this.listenersOnce.add(t)}remove(t){this.listeners.delete(t),this.listenersOnce.delete(t)}dispatch(...t){this.listeners.forEach(r=>r(...t)),this.listenersOnce.forEach(r=>r(...t)),this.listenersOnce.clear()}}const wp=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare;/**
 * Gauss-Jordan elimination by lovasoa (https://github.com/lovasoa) @license (MIT)
 */class SC{constructor(t,r){this.data=new Array(t.length);for(let n=0,o=t[0].length;n<t.length;n++){this.data[n]=new Array(o);for(let i=0;i<o;i++)this.data[n][i]=t[n][i]}if(r){if(typeof r[0]!="object")for(let n=0;n<r.length;n++)r[n]=[r[n]];this.mirror=new SC(r)}}swap(t,r){this.mirror&&this.mirror.swap(t,r);const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}multline(t,r){this.mirror&&this.mirror.multline(t,r);const n=this.data[t];for(let o=n.length-1;o>=0;o--)n[o]*=r}addmul(t,r,n){this.mirror&&this.mirror.addmul(t,r,n);const o=this.data[t],i=this.data[r];for(let s=o.length-1;s>=0;s--)o[s]=o[s]+n*i[s]}hasNullLine(t){for(let r=0;r<this.data[t].length;r++)if(this.data[t][r]!==0)return!1;return!0}gauss(){let t=0;const r=this.data.length,n=this.data[0].length,o=[];for(let i=0;i<n;i++){let s=0,a=0;for(let c=t;c<r;c++){const d=this.data[c][i];Math.abs(d)>Math.abs(s)&&(a=c,s=d)}if(s===0)o.push(t);else{this.multline(a,1/s),this.swap(a,t);for(let c=0;c<r;c++)c!==t&&this.addmul(c,t,-this.data[c][i])}t++}for(let i=0;i<o.length;i++)if(!this.mirror.hasNullLine(o[i]))throw new Error("singular matrix");return this.mirror.data}}function IK(e){const{a:t,b:r}=e,n=new SC(t,r).gauss();if(n.length>0&&n[0].length===1)for(let o=0;o<n.length;o++)n[o]=n[o][0];return n}function ZP(e,t,r,n){const o=r-e,i=n-t;return Math.sqrt(o*o+i*i)}function QP(e,t,r,n,o){for(let i=t?0:2,s=t?e.length-2:0;i<e.length;s=i,i+=2){const a=e[i],c=e[i+1],d=e[s],h=e[s+1],f=a-d,g=c-h,m=f*f+g*g;if(m===0&&ZP(n,o,d,h)<=r)return s/2;let y=((n-d)*f+(o-h)*g)/m;if(y=Math.max(0,Math.min(1,y)),ZP(n,o,d+y*f,h+y*g)<=r)return s/2}return-1}function PK(e,t,r){let n=!1;for(let o=0,i=e.length-2;o<e.length;i=o,o+=2){const s=e[o],a=e[o+1],c=e[i],d=e[i+1];(a<=r&&r<d||d<=r&&r<a)&&d-a!==0&&t>(c-s)*(r-a)/(d-a)+s&&(n=!n)}return n}function kK(e){const t=e[0]*(e[4]*e[8]-e[7]*e[5])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]);return[(e[4]*e[8]-e[7]*e[5])/t,(e[2]*e[7]-e[1]*e[8])/t,(e[1]*e[5]-e[2]*e[4])/t,(e[5]*e[6]-e[3]*e[8])/t,(e[0]*e[8]-e[2]*e[6])/t,(e[3]*e[2]-e[0]*e[5])/t,(e[3]*e[7]-e[6]*e[4])/t,(e[6]*e[1]-e[0]*e[7])/t,(e[0]*e[4]-e[3]*e[1])/t]}function DK(e,t){return t===null?void 0:t}function AK(e){return JSON.stringify(e,DK)}const LK=/[\/\?<>\\:\*\|"]/g,NK=/[\x00-\x1f\x80-\x9f]/g,BK=/^\.+$/,FK=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,jK=/[\. ]+$/;function JP(e){return e.replace(LK,"").replace(NK,"").replace(BK,"").replace(FK,"").replace(jK,"")}class Ll{constructor(t){this.m=new Map,t?.forEach(([r,n])=>this.set(r,n))}set(t,r){const n=this.m.get(t);return n?n.add(r):this.m.set(t,new Set([r])),this}get(t){return this.m.get(t)??null}delete(t){return this.m.delete(t)}forEach(t){return this.m.forEach(t)}[Symbol.iterator](){return this.m.entries()}values(){return this.m.values()}}const VK=[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","!","∀","#","∃","%","&","∍","(",")","*","+",",","−",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","≅","Α","Β","Χ","Δ","Ε","Φ","Γ","Η","Ι","ϑ","Κ","Λ","Μ","Ν","Ο","Π","Θ","Ρ","Σ","Τ","Υ","ς","Ω","Ξ","Ψ","Ζ","[","∴","]","⊥","_","‾","α","β","χ","δ","ε","φ","γ","η","ι","ϕ","κ","λ","μ","ν","ο","π","θ","ρ","σ","τ","υ","ϖ","ω","ξ","ψ","ζ","{","|","}","~"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","€","ϒ","′","≤","⁄","∞","ƒ","♣","♦","♥","♠","↔","←","↑","→","↓","°","±","″","≥","×","∝","∂","•","÷","≠","≡","≈","…","⏐","⎯","↵","ℵ","ℑ","ℜ","℘","⊗","⊕","∅","∩","∪","⊃","⊇","⊄","⊂","⊆","∈","∉","∠","∇","®","©","™","∏","√","⋅","¬","∧","∨","⇔","⇐","⇑","⇒","⇓","◊","〈","®","©","™","∑","⎛","⎜","⎝","⎡","⎢","⎣","⎧","⎨","⎩","⎪"," ","〉","∫","⌠","⎮","⌡","⎞","⎟","⎠","⎤","⎥","⎦","⎫","⎬","⎭"," "];function ek(e){let t="";for(let r=0;r<e.length;++r){let n=ha.indexOf(e[r]);n===142?n=163:n<0&&(n=0),t+=VK[n]}return t}class Xi extends Map{static freeKey(t,r){let n=r||0;for(;t.has(++n););return n}static freeNegativeKey(t){let r=0;for(;t.has(--r););return r}}function tk(e,t){return e.filter(r=>r!==t)}function on(e){return e||void 0}function Sp(e){return e.length?e:void 0}function rk(e){return(e&e-1)===0}function CC(e,t,r){return Math.min(Math.max(e,t),r)}function nk(e,t){e=Math.abs(e)%100;const r=e%10;return e>10&&e<20?t[2]:r>1&&r<5?t[1]:r===1?t[0]:t[2]}function $K(e){const t=e.split("."),r=t.length>1?t.pop():"";return{base:t.join("."),ext:r}}function ok(e){return new Array().concat(...e)}function Cp(e,t){const r=[];for(const n of e)t(n)&&r.push(n);return r}function ik(e,t){return e.filter(r=>r!==t)}function*sk(e,t){for(const r of e)yield t(r)}function Si(e,t){const r=[];for(const n of e){const o=t(n);o&&r.push(o)}return r}function zK(e,t){const r=e.length-1,n=[];for(let o=r;o>=0;--o)n.push(t(e[o]));return n}function xC(e){return e*180/Math.PI}function xp(e){return e*Math.PI/180}function _C(e,t,r){const n=e.filter(o=>o!==r);return n.splice(t,0,r),n}function UK(e){return Math.round(e*1e5)/1e5}function GK(e,t){if(!e){const r=t.split(" ");r.includes("не")?r.splice(r.indexOf("не"),1):r.splice(1,0,"не");const n=Error(r.join(" "));if(n.stack){const o=n.stack.split(`
`);n.stack=[o[0],...o.slice(2)].join(`
`)}throw n}}class EC extends Error{}const ak=(e,t,r)=>{typeof r=="string"||r instanceof Blob?e.append(t,r):r instanceof Date?e.append(t,r.toISOString()):e.append(t,JSON.stringify(r))},HK={bodySerializer:e=>{const t=new FormData;return Object.entries(e).forEach(([r,n])=>{n!=null&&(Array.isArray(n)?n.forEach(o=>ak(t,r,o)):ak(t,r,n))}),t}},WK={bodySerializer:e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():r)},KK=({onRequest:e,onSseError:t,onSseEvent:r,responseTransformer:n,responseValidator:o,sseDefaultRetryDelay:i,sseMaxRetryAttempts:s,sseMaxRetryDelay:a,sseSleepFn:c,url:d,...h})=>{let f;const g=c??(b=>new Promise(v=>setTimeout(v,b)));return{stream:async function*(){let b=i??3e3,v=0;const C=h.signal??new AbortController().signal;for(;!C.aborted;){v++;const E=h.headers instanceof Headers?h.headers:new Headers(h.headers);f!==void 0&&E.set("Last-Event-ID",f);try{const T={redirect:"follow",...h,body:h.serializedBody,headers:E,signal:C};let R=new Request(d,T);e&&(R=await e(d,T));const I=await(h.fetch??globalThis.fetch)(R);if(!I.ok)throw new Error(`SSE failed: ${I.status} ${I.statusText}`);if(!I.body)throw new Error("No body in SSE response");const N=I.body.pipeThrough(new TextDecoderStream).getReader();let P="";const L=()=>{try{N.cancel()}catch{}};C.addEventListener("abort",L);try{for(;;){const{done:D,value:$}=await N.read();if(D)break;P+=$;const B=P.split(`

`);P=B.pop()??"";for(const U of B){const q=U.split(`
`),W=[];let V;for(const re of q)if(re.startsWith("data:"))W.push(re.replace(/^data:\s*/,""));else if(re.startsWith("event:"))V=re.replace(/^event:\s*/,"");else if(re.startsWith("id:"))f=re.replace(/^id:\s*/,"");else if(re.startsWith("retry:")){const z=Number.parseInt(re.replace(/^retry:\s*/,""),10);Number.isNaN(z)||(b=z)}let Y,Q=!1;if(W.length){const re=W.join(`
`);try{Y=JSON.parse(re),Q=!0}catch{Y=re}}Q&&(o&&await o(Y),n&&(Y=await n(Y))),r?.({data:Y,event:V,id:f,retry:b}),W.length&&(yield Y)}}}finally{C.removeEventListener("abort",L),N.releaseLock()}break}catch(T){if(t?.(T),s!==void 0&&v>=s)break;const R=Math.min(b*2**(v-1),a??3e4);await g(R)}}}()}},qK=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},YK=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},XK=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},lk=({allowReserved:e,explode:t,name:r,style:n,value:o})=>{if(!t){const a=(e?o:o.map(c=>encodeURIComponent(c))).join(YK(n));switch(n){case"label":return`.${a}`;case"matrix":return`;${r}=${a}`;case"simple":return a;default:return`${r}=${a}`}}const i=qK(n),s=o.map(a=>n==="label"||n==="simple"?e?a:encodeURIComponent(a):$v({allowReserved:e,name:r,value:a})).join(i);return n==="label"||n==="matrix"?i+s:s},$v=({allowReserved:e,name:t,value:r})=>{if(r==null)return"";if(typeof r=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?r:encodeURIComponent(r)}`},ck=({allowReserved:e,explode:t,name:r,style:n,value:o,valueOnly:i})=>{if(o instanceof Date)return i?o.toISOString():`${r}=${o.toISOString()}`;if(n!=="deepObject"&&!t){let c=[];Object.entries(o).forEach(([h,f])=>{c=[...c,h,e?f:encodeURIComponent(f)]});const d=c.join(",");switch(n){case"form":return`${r}=${d}`;case"label":return`.${d}`;case"matrix":return`;${r}=${d}`;default:return d}}const s=XK(n),a=Object.entries(o).map(([c,d])=>$v({allowReserved:e,name:n==="deepObject"?`${r}[${c}]`:c,value:d})).join(s);return n==="label"||n==="matrix"?s+a:a},ZK=/\{[^{}]+\}/g,QK=({path:e,url:t})=>{let r=t;const n=t.match(ZK);if(n)for(const o of n){let i=!1,s=o.substring(1,o.length-1),a="simple";s.endsWith("*")&&(i=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(s=s.substring(1),a="label"):s.startsWith(";")&&(s=s.substring(1),a="matrix");const c=e[s];if(c==null)continue;if(Array.isArray(c)){r=r.replace(o,lk({explode:i,name:s,style:a,value:c}));continue}if(typeof c=="object"){r=r.replace(o,ck({explode:i,name:s,style:a,value:c,valueOnly:!0}));continue}if(a==="matrix"){r=r.replace(o,`;${$v({name:s,value:c})}`);continue}const d=encodeURIComponent(a==="label"?`.${c}`:c);r=r.replace(o,d)}return r},JK=({baseUrl:e,path:t,query:r,querySerializer:n,url:o})=>{const i=o.startsWith("/")?o:`/${o}`;let s=(e??"")+i;t&&(s=QK({path:t,url:s}));let a=r?n(r):"";return a.startsWith("?")&&(a=a.substring(1)),a&&(s+=`?${a}`),s};function eq(e){const t=e.body!==void 0;if(t&&e.bodySerializer)return"serializedBody"in e?e.serializedBody!==void 0&&e.serializedBody!==""?e.serializedBody:null:e.body!==""?e.body:null;if(t)return e.body}const tq=async(e,t)=>{const r=typeof t=="function"?await t(e):t;if(r)return e.scheme==="bearer"?`Bearer ${r}`:e.scheme==="basic"?`Basic ${btoa(r)}`:r},uk=({allowReserved:e,array:t,object:r}={})=>o=>{const i=[];if(o&&typeof o=="object")for(const s in o){const a=o[s];if(a!=null)if(Array.isArray(a)){const c=lk({allowReserved:e,explode:!0,name:s,style:"form",value:a,...t});c&&i.push(c)}else if(typeof a=="object"){const c=ck({allowReserved:e,explode:!0,name:s,style:"deepObject",value:a,...r});c&&i.push(c)}else{const c=$v({allowReserved:e,name:s,value:a});c&&i.push(c)}}return i.join("&")},rq=e=>{if(!e)return"stream";const t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return"blob";if(t.startsWith("text/"))return"text"}},nq=(e,t)=>t?!!(e.headers.has(t)||e.query?.[t]||e.headers.get("Cookie")?.includes(`${t}=`)):!1,oq=async({security:e,...t})=>{for(const r of e){if(nq(t,r.name))continue;const n=await tq(r,t.auth);if(!n)continue;const o=r.name??"Authorization";switch(r.in){case"query":t.query||(t.query={}),t.query[o]=n;break;case"cookie":t.headers.append("Cookie",`${o}=${n}`);break;case"header":default:t.headers.set(o,n);break}}},dk=e=>JK({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:uk(e.querySerializer),url:e.url}),hk=(e,t)=>{const r={...e,...t};return r.baseUrl?.endsWith("/")&&(r.baseUrl=r.baseUrl.substring(0,r.baseUrl.length-1)),r.headers=fk(e.headers,t.headers),r},iq=e=>{const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t},fk=(...e)=>{const t=new Headers;for(const r of e){if(!r)continue;const n=r instanceof Headers?iq(r):Object.entries(r);for(const[o,i]of n)if(i===null)t.delete(o);else if(Array.isArray(i))for(const s of i)t.append(o,s);else i!==void 0&&t.set(o,typeof i=="object"?JSON.stringify(i):i)}return t};class TC{constructor(){this.fns=[]}clear(){this.fns=[]}eject(t){const r=this.getInterceptorIndex(t);this.fns[r]&&(this.fns[r]=null)}exists(t){const r=this.getInterceptorIndex(t);return!!this.fns[r]}getInterceptorIndex(t){return typeof t=="number"?this.fns[t]?t:-1:this.fns.indexOf(t)}update(t,r){const n=this.getInterceptorIndex(t);return this.fns[n]?(this.fns[n]=r,t):!1}use(t){return this.fns.push(t),this.fns.length-1}}const sq=()=>({error:new TC,request:new TC,response:new TC}),aq=uk({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),lq={"Content-Type":"application/json"},cq=(e={})=>({...WK,headers:lq,parseAs:"auto",querySerializer:aq,...e}),uq=(e={})=>{let t=hk(cq(),e);const r=()=>({...t}),n=d=>(t=hk(t,d),r()),o=sq(),i=async d=>{const h={...t,...d,fetch:d.fetch??t.fetch??globalThis.fetch,headers:fk(t.headers,d.headers),serializedBody:void 0};h.security&&await oq({...h,security:h.security}),h.requestValidator&&await h.requestValidator(h),h.body!==void 0&&h.bodySerializer&&(h.serializedBody=h.bodySerializer(h.body)),(h.body===void 0||h.serializedBody==="")&&h.headers.delete("Content-Type");const f=dk(h);return{opts:h,url:f}},s=async d=>{const{opts:h,url:f}=await i(d),g={redirect:"follow",...h,body:eq(h)};let m=new Request(f,g);for(const M of o.request.fns)M&&(m=await M(m,h));const y=h.fetch;let b=await y(m);for(const M of o.response.fns)M&&(b=await M(b,m,h));const v={request:m,response:b};if(b.ok){const M=(h.parseAs==="auto"?rq(b.headers.get("Content-Type")):h.parseAs)??"json";if(b.status===204||b.headers.get("Content-Length")==="0"){let N;switch(M){case"arrayBuffer":case"blob":case"text":N=await b[M]();break;case"formData":N=new FormData;break;case"stream":N=b.body;break;case"json":default:N={};break}return h.responseStyle==="data"?N:{data:N,...v}}let I;switch(M){case"arrayBuffer":case"blob":case"formData":case"json":case"text":I=await b[M]();break;case"stream":return h.responseStyle==="data"?b.body:{data:b.body,...v}}return M==="json"&&(h.responseValidator&&await h.responseValidator(I),h.responseTransformer&&(I=await h.responseTransformer(I))),h.responseStyle==="data"?I:{data:I,...v}}const C=await b.text();let E;try{E=JSON.parse(C)}catch{}const T=E??C;let R=T;for(const M of o.error.fns)M&&(R=await M(T,b,m,h));if(R=R||{},h.throwOnError)throw R;return h.responseStyle==="data"?void 0:{error:R,...v}},a=d=>h=>s({...h,method:d}),c=d=>async h=>{const{opts:f,url:g}=await i(h);return KK({...f,body:f.body,headers:f.headers,method:d,onRequest:async(m,y)=>{let b=new Request(m,y);for(const v of o.request.fns)v&&(b=await v(b,f));return b},url:g})};return{buildUrl:dk,connect:a("CONNECT"),delete:a("DELETE"),get:a("GET"),getConfig:r,head:a("HEAD"),interceptors:o,options:a("OPTIONS"),patch:a("PATCH"),post:a("POST"),put:a("PUT"),request:s,setConfig:n,sse:{connect:c("CONNECT"),delete:c("DELETE"),get:c("GET"),head:c("HEAD"),options:c("OPTIONS"),patch:c("PATCH"),post:c("POST"),put:c("PUT"),trace:c("TRACE")},trace:a("TRACE")}},dq=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/account/limits",...e}),hq=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e}),fq=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e,headers:{"Content-Type":"application/json",...e.headers}}),pq=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs/{dirId}",...e}),gq=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/libs",...e,headers:{"Content-Type":"application/json",...e.headers}}),pk=e=>e.client.put({security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/index",...e,headers:{"Content-Type":"application/json",...e.headers}}),mq=e=>e.client.post({...HK,security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/files",...e,headers:{"Content-Type":null,...e.headers}}),vq=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/projects",...e,headers:{"Content-Type":"application/json",...e.headers}}),yq=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e}),bq=e=>e.client.patch({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e,headers:{"Content-Type":"application/json",...e.headers}}),wq=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/config",...e}),Sq=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/zip",...e}),Cq=e=>e.client.post({url:"/session",...e,headers:{"Content-Type":"application/json",...e.headers}}),xq=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/session/validate",...e});class _q{constructor({baseUrl:t}){this.onError=new Al;const r=uq({baseUrl:t,cache:"no-store"});r.interceptors.error.use((n,o,i,s)=>{if(!s.throwOnError&&o.status===422||s?.ignoreStatus&&o.status<500)return n;const a=`${s.method} ${s.url} ${o.status} (${o.statusText}):
${n.message||"Неизвестная причина"}`;throw this.onError.dispatch(a),Error(a)}),this.c=r}setAuthData(t){this.c.setConfig({auth:t.accessToken})}removeAuthData(){this.c.setConfig({auth:void 0})}async createSession(t,r){const n=await Cq({client:this.c,body:{login:t,password:r},throwOnError:!1});if(n.error)throw new EC(n.error.message);return n.data}async isSessionValid(){GK(this.c.getConfig().auth,"SAPIClient.setAuthData был вызван");const{response:t}=await xq({client:this.c,ignoreStatus:!0});return t.status<400}async getAccountLimits(){const{data:t}=await dq({client:this.c});return t}async getRootDirContent({libs:t,projects:r}){const{data:n}=await hq({client:this.c,query:{libs:t,projects:r}});return n}async getDirContent(t,{libs:r,projects:n}){const{data:o}=await pq({client:this.c,path:{dirId:t},query:{libs:r,projects:n}});return o}async createDir(t,r){const n=await fq({client:this.c,throwOnError:!1,body:{name:t,parentDirId:r}});return n.error?{created:!1,dir:n.error.conflictDir}:{created:!0,...n.data}}async createLib(t,r){const n=await gq({client:this.c,throwOnError:!1,body:{name:t,parentDirId:r}});return n.error?{created:!1,library:n.error.conflictLibrary}:{created:!0,...n.data}}async createProject(t){const r=await vq({client:this.c,throwOnError:!1,body:t});return r.error?{created:!1,project:r.error.conflictProject}:{created:!0,...r.data}}async updateProject(t,r){await bq({client:this.c,path:{projectId:t},body:r})}async getProject(t){const{data:r}=await yq({client:this.c,path:{projectId:t}});return r}async getProjectPlayerConfig(t){const{data:r}=await wq({client:this.c,path:{projectId:t}});return r}async updateLibraryIndex(t,r){await pk({client:this.c,path:{libraryId:t},body:r,bodySerializer:AK})}async updateLibraryIndexRaw(t,r){await pk({client:this.c,path:{libraryId:t},body:r,bodySerializer:null})}async createLibraryFiles(t,r,n){return(await mq({client:this.c,path:{libraryId:t},query:n,body:{files:r}})).data}async getProjectPlayerZip(t){return(await Sq({client:this.c,path:{projectId:t}})).data}}var MC={exports:{}},_r={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk;function Eq(){if(gk)return _r;gk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=f&&z[f]||z["@@iterator"],typeof z=="function"?z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v(z,K,Z){this.props=z,this.context=K,this.refs=b,this.updater=Z||m}v.prototype.isReactComponent={},v.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=v.prototype;function E(z,K,Z){this.props=z,this.context=K,this.refs=b,this.updater=Z||m}var T=E.prototype=new C;T.constructor=E,y(T,v.prototype),T.isPureReactComponent=!0;var R=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function N(z,K,Z,le,ce,ue){return Z=ue.ref,{$$typeof:e,type:z,key:K,ref:Z!==void 0?Z:null,props:ue}}function P(z,K){return N(z.type,K,void 0,void 0,void 0,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function D(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Z){return K[Z]})}var $=/\/+/g;function B(z,K){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):K.toString(36)}function U(){}function q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(U,U):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function W(z,K,Z,le,ce){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var ae=!1;if(z===null)ae=!0;else switch(ue){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(z.$$typeof){case e:case t:ae=!0;break;case h:return ae=z._init,W(ae(z._payload),K,Z,le,ce)}}if(ae)return ce=ce(z),ae=le===""?"."+B(z,0):le,R(ce)?(Z="",ae!=null&&(Z=ae.replace($,"$&/")+"/"),W(ce,K,Z,"",function(xe){return xe})):ce!=null&&(L(ce)&&(ce=P(ce,Z+(ce.key==null||z&&z.key===ce.key?"":(""+ce.key).replace($,"$&/")+"/")+ae)),K.push(ce)),1;ae=0;var ye=le===""?".":le+":";if(R(z))for(var Me=0;Me<z.length;Me++)le=z[Me],ue=ye+B(le,Me),ae+=W(le,K,Z,ue,ce);else if(Me=g(z),typeof Me=="function")for(z=Me.call(z),Me=0;!(le=z.next()).done;)le=le.value,ue=ye+B(le,Me++),ae+=W(le,K,Z,ue,ce);else if(ue==="object"){if(typeof z.then=="function")return W(q(z),K,Z,le,ce);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ae}function V(z,K,Z){if(z==null)return z;var le=[],ce=0;return W(z,le,"","",function(ue){return K.call(Z,ue,ce++)}),le}function Y(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(Z){(z._status===0||z._status===-1)&&(z._status=1,z._result=Z)},function(Z){(z._status===0||z._status===-1)&&(z._status=2,z._result=Z)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var Q=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function re(){}return _r.Children={map:V,forEach:function(z,K,Z){V(z,function(){K.apply(this,arguments)},Z)},count:function(z){var K=0;return V(z,function(){K++}),K},toArray:function(z){return V(z,function(K){return K})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},_r.Component=v,_r.Fragment=r,_r.Profiler=o,_r.PureComponent=E,_r.StrictMode=n,_r.Suspense=c,_r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,_r.__COMPILER_RUNTIME={__proto__:null,c:function(z){return M.H.useMemoCache(z)}},_r.cache=function(z){return function(){return z.apply(null,arguments)}},_r.cloneElement=function(z,K,Z){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=y({},z.props),ce=z.key,ue=void 0;if(K!=null)for(ae in K.ref!==void 0&&(ue=void 0),K.key!==void 0&&(ce=""+K.key),K)!I.call(K,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&K.ref===void 0||(le[ae]=K[ae]);var ae=arguments.length-2;if(ae===1)le.children=Z;else if(1<ae){for(var ye=Array(ae),Me=0;Me<ae;Me++)ye[Me]=arguments[Me+2];le.children=ye}return N(z.type,ce,void 0,void 0,ue,le)},_r.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},_r.createElement=function(z,K,Z){var le,ce={},ue=null;if(K!=null)for(le in K.key!==void 0&&(ue=""+K.key),K)I.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=K[le]);var ae=arguments.length-2;if(ae===1)ce.children=Z;else if(1<ae){for(var ye=Array(ae),Me=0;Me<ae;Me++)ye[Me]=arguments[Me+2];ce.children=ye}if(z&&z.defaultProps)for(le in ae=z.defaultProps,ae)ce[le]===void 0&&(ce[le]=ae[le]);return N(z,ue,void 0,void 0,null,ce)},_r.createRef=function(){return{current:null}},_r.forwardRef=function(z){return{$$typeof:a,render:z}},_r.isValidElement=L,_r.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Y}},_r.memo=function(z,K){return{$$typeof:d,type:z,compare:K===void 0?null:K}},_r.startTransition=function(z){var K=M.T,Z={};M.T=Z;try{var le=z(),ce=M.S;ce!==null&&ce(Z,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(re,Q)}catch(ue){Q(ue)}finally{M.T=K}},_r.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},_r.use=function(z){return M.H.use(z)},_r.useActionState=function(z,K,Z){return M.H.useActionState(z,K,Z)},_r.useCallback=function(z,K){return M.H.useCallback(z,K)},_r.useContext=function(z){return M.H.useContext(z)},_r.useDebugValue=function(){},_r.useDeferredValue=function(z,K){return M.H.useDeferredValue(z,K)},_r.useEffect=function(z,K,Z){var le=M.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,K)},_r.useId=function(){return M.H.useId()},_r.useImperativeHandle=function(z,K,Z){return M.H.useImperativeHandle(z,K,Z)},_r.useInsertionEffect=function(z,K){return M.H.useInsertionEffect(z,K)},_r.useLayoutEffect=function(z,K){return M.H.useLayoutEffect(z,K)},_r.useMemo=function(z,K){return M.H.useMemo(z,K)},_r.useOptimistic=function(z,K){return M.H.useOptimistic(z,K)},_r.useReducer=function(z,K,Z){return M.H.useReducer(z,K,Z)},_r.useRef=function(z){return M.H.useRef(z)},_r.useState=function(z){return M.H.useState(z)},_r.useSyncExternalStore=function(z,K,Z){return M.H.useSyncExternalStore(z,K,Z)},_r.useTransition=function(){return M.H.useTransition()},_r.version="19.1.1",_r}var mk;function di(){return mk||(mk=1,MC.exports=Eq()),MC.exports}var _=di();const vr=vC(_),OC=TK({__proto__:null,default:vr},[_]),RC=document.createElement("a");function IC(e,t){const r=URL.createObjectURL(e);RC.href=r,RC.download=t,RC.click(),setTimeout(()=>URL.revokeObjectURL(r),1e3)}function vk(e,t){t.target===e&&t.preventDefault()}class Wu{constructor(t=window){this.frameId=0,this.runner=t.requestAnimationFrame}get running(){return this.frameId!==0}run(t){if(this.running)return;const{runner:r}=this,n=()=>{this.frameId=t()?r(n):0};this.frameId=r(n)}stop(){this.running&&(cancelAnimationFrame(this.frameId),this.frameId=0)}}function yk(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(new Error(`Ошибка загрузки ${e}`)),n.src=e})}const _p={baseUrl:"./content"};function Zi(e){return e.startsWith("blob:")?e:_p.legacyMode||e.startsWith("library")||e.startsWith("icons")?`${_p.baseUrl}/${e}`:`${_p.baseUrl}/${e.slice(0,2)}/${e.slice(2)}`}const Tq="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let zv=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=Tq[r[e]&63];return t},bk=0;function wk(){return(++bk).toString()}function Uv(){return(++bk).toString()}function Mq(e){try{return JSON.parse(localStorage.getItem(e))}catch{return null}}function Oq(e,t){localStorage.setItem(e,JSON.stringify(t))}function Rq(e){localStorage.removeItem(e)}class Wn{constructor(t=!1){this.once=t,this.listeners=new Set}add(t){this.listeners.add(t)}remove(t){this.listeners.delete(t)}dispatch(...t){this.listeners.forEach(r=>r(...t)),this.once&&this.listeners.clear()}}class Iq{constructor(){this.value=null}set(t){this.value=t}}function Sk(e,t){if(!t)return"C:\\"+PC(e);const r=t.toUpperCase().split("/"),n=e.split("/"),o=n.map(d=>d.toUpperCase());let i=0;for(;i<r.length&&i<o.length&&o[i]===r[i];++i);const s=Array.from({length:r.length-i},()=>".."),a=Array.from({length:n.length-i},(d,h)=>n[i+h]);return s.concat(a).join("\\")}function PC(e){return e.split("/").join("\\")}function Pq(e,t){navigator.clipboard?navigator.clipboard.writeText(e):prompt(t,e)}function kq(e){const t=Sk(e.path,e.lib.vfs.projectRootDir?.path);Pq(t,"Относительный путь")}function Dq(e,t=250){return setTimeout.bind(null,e,t)}function _h(e,t,r=""){r&&(r="."+r);let n=2,o=t+r;for(;e.getEntry(o);)o=t+" "+n+r,++n;return o}class Ci extends Error{}class Aq extends Ci{constructor(){super("Имя имиджа должно состоять из букв, цифр и подчеркивания")}}function Ck(e){if(!/^[_A-ZА-Я][_A-ZА-Я0-9]*$/i.test(e))throw new Aq}function xk(e){return{name:e,image:{icon:{atlas:"system.dbm",index:0}},uuid:zv(),date:new Date().toJSON()}}const Lq={cols:0,rows:0,minV:0,minH:0,data:[]},Nq={};async function Bq(e){const t=URL.createObjectURL(e),r=await yk(t),{naturalWidth:n,naturalHeight:o}=r;return URL.revokeObjectURL(t),{width:n,height:o}}function Fq(){return parseInt(new URLSearchParams(location.search).get("p"))}function jq(e){history.pushState({},"",`./?p=${e}`)}function Ku(e,t){return wp(e.name,t.name)}function _k(e){return`${location.origin+location.pathname}play/?p=${e.id}&key=${e.accessKey}`}function qu(e){return(Math.round(e*1e5)/1e5).toString()}const Gv=[];async function Vq(e,{width:t,height:r}){const n=Gv.find(({type:s,size:a,name:c,data:{image:d}})=>e.type===s&&e.size===a&&e.name===c&&d.width===t&&d.height===r);if(!n)return null;const o=`${e.name} (${e.type}, ${e.size}б, ${t}x${r}): `;return(await fetch(Zi(n.data.image.src),{method:"HEAD",cache:"no-cache"})).ok?(console.log(o+"взято из кеша"),n.data):(Gv.splice(Gv.indexOf(n)),console.log(o+"нет на сервере, удалено из кеша"),null)}class $q{constructor(t,r){this.client=t,this.libraryId=r}async upload(t){const r=[],{client:n,libraryId:o}=this,i=[],s=t.map(async c=>{const d=c.name.split("."),h=d.length>1?d.at(-1).toLowerCase():"";if(h==="cur"||h==="ico"||c.type==="image/x-win-bitmap"||c.type==="image/x-icon"||c.type==="image/vnd.microsoft.icon"){i.push({file:c,mapFn:m=>({cursor:{src:m}})});return}if(c.type.startsWith("image/")){const m=await Bq(c),y=await Vq(c,m);if(y){r.push({data:y,file:c});return}const{width:b,height:v}=m;i.push({file:c,mapFn:C=>({image:{src:C,width:b,height:v}})});return}if(c.type.startsWith("video/")){i.push({file:c,mapFn:m=>({video:{src:m}})});return}if(c.type.startsWith("audio/")){i.push({file:c,mapFn:m=>({audio:{src:m}})});return}if(c.type.startsWith("font/")){i.push({file:c,mapFn:m=>({ttf:{src:m}})});return}const f=await c.arrayBuffer(),g=Fv(new Uint8Array(f));r.push({file:c,data:{base64:g,size:f.byteLength}})});try{await Promise.all(s)}catch(c){if(!(c instanceof Error))throw c;return alert(c.message),[]}if(!i.length)return r;let a;try{a=await n.createLibraryFiles(o,i.map(c=>c.file))}catch(c){return alert(`Не удалось загрузить файлы: ${c.message}`),[]}return i.forEach(({file:c,mapFn:d},h)=>{const f=a.files[h];if(!f.data)return;const{src:g,size:m}=f.data,y={...d(g),size:m};y.image&&Gv.push({name:c.name,size:c.size,type:c.type,data:y}),r.push({file:c,data:y})}),r}}const Yu=_p;Yu.localStoragePrefix="editor",Yu.apiUrl="./api",Yu.zoomWithCtrl=!!localStorage.getItem("zoomWithCtrl");var rt=(e=>(e[e.PI=3.1415926536]="PI",e[e.WORD8=0]="WORD8",e[e.INT8=1]="INT8",e[e.WORD16=2]="WORD16",e[e.INT16=3]="INT16",e[e.WORD32=4]="WORD32",e[e.INT32=5]="INT32",e[e.FLOAT32=6]="FLOAT32",e[e.FLOAT40=7]="FLOAT40",e[e.FLOAT64=8]="FLOAT64",e[e.FLOAT80=9]="FLOAT80",e[e.PEN2D=1]="PEN2D",e[e.BRUSH2D=2]="BRUSH2D",e[e.DIB2D=3]="DIB2D",e[e.DOUBLEDIB2D=4]="DOUBLEDIB2D",e[e.FONT2D=5]="FONT2D",e[e.STRING2D=6]="STRING2D",e[e.TEXT2D=7]="TEXT2D",e[e.SPACE3D=8]="SPACE3D",e[e.TEXTURE3D=9]="TEXTURE3D",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_CLOSE=16]="WM_CLOSE",e[e.WM_GETMINMAXINFO=36]="WM_GETMINMAXINFO",e[e.WM_COMMAND=273]="WM_COMMAND",e[e.WM_MOUSEMOVE=512]="WM_MOUSEMOVE",e[e.WM_LBUTTONDOWN=513]="WM_LBUTTONDOWN",e[e.WM_LBUTTONUP=514]="WM_LBUTTONUP",e[e.WM_LBUTTONDBLCLK=515]="WM_LBUTTONDBLCLK",e[e.WM_RBUTTONDOWN=516]="WM_RBUTTONDOWN",e[e.WM_RBUTTONUP=517]="WM_RBUTTONUP",e[e.WM_RBUTTONDBLCLK=518]="WM_RBUTTONDBLCLK",e[e.WM_MBUTTONDOWN=519]="WM_MBUTTONDOWN",e[e.WM_MBUTTONUP=520]="WM_MBUTTONUP",e[e.WM_MBUTTONDBLCLK=521]="WM_MBUTTONDBLCLK",e[e.WM_ALLMOUSEMESSAGE=1536]="WM_ALLMOUSEMESSAGE",e[e.WM_ALLKEYMESSAGE=1537]="WM_ALLKEYMESSAGE",e[e.WM_KEYDOWN=256]="WM_KEYDOWN",e[e.WM_KEYUP=257]="WM_KEYUP",e[e.WM_CANCLOSE=1538]="WM_CANCLOSE",e[e.WM_SPACEDONE=1539]="WM_SPACEDONE",e[e.WM_SPACEINIT=1540]="WM_SPACEINIT",e[e.WM_CONTROLNOTIFY=1544]="WM_CONTROLNOTIFY",e[e.WM_HYPERJUMP=1546]="WM_HYPERJUMP",e[e.SIZE_RESTORED=0]="SIZE_RESTORED",e[e.SIZE_MINIMIZED=1]="SIZE_MINIMIZED",e[e.SIZE_MAXIMIZED=2]="SIZE_MAXIMIZED",e[e.SIZE_MAXSHOW=3]="SIZE_MAXSHOW",e[e.SIZE_MAXHIDE=4]="SIZE_MAXHIDE",e[e.OTGROUP2D=3]="OTGROUP2D",e[e.OTRGROUP2D=4]="OTRGROUP2D",e[e.OTGROUP3D=5]="OTGROUP3D",e[e.OTOBJECT3D=10]="OTOBJECT3D",e[e.OTLINE_2D=20]="OTLINE_2D",e[e.OTBITMAP_2D=21]="OTBITMAP_2D",e[e.OTDOUBLEBITMAP_2D=22]="OTDOUBLEBITMAP_2D",e[e.OTTEXT_2D=23]="OTTEXT_2D",e[e.OTVIEW3D_2D=24]="OTVIEW3D_2D",e[e.OTEDITFRAME=50]="OTEDITFRAME",e[e.OTROTATECENTER=51]="OTROTATECENTER",e[e.OTFRAME3D=52]="OTFRAME3D",e[e.OTAXIS3D=53]="OTAXIS3D",e[e.OTPEN2D=101]="OTPEN2D",e[e.OTBRUSH2D=102]="OTBRUSH2D",e[e.OTDIB2D=103]="OTDIB2D",e[e.OTDOUBLEDIB2D=104]="OTDOUBLEDIB2D",e[e.OTFONT2D=105]="OTFONT2D",e[e.OTSTRING2D=106]="OTSTRING2D",e[e.OTTEXT2D=107]="OTTEXT2D",e[e.OTREFTODIB2D=110]="OTREFTODIB2D",e[e.OTREFTODOUBLEDIB2D=111]="OTREFTODOUBLEDIB2D",e[e.ATTRSET=1]="ATTRSET",e[e.ATTRRESET=2]="ATTRRESET",e[e.ATTRPUT=3]="ATTRPUT",e[e.PFC_MOVEOBJECT=32768]="PFC_MOVEOBJECT",e[e.PFC_SETCURRENT=16384]="PFC_SETCURRENT",e[e.PFC_SETFRAME=8192]="PFC_SETFRAME",e[e.PFC_PENS=1]="PFC_PENS",e[e.PFC_BRUHS=2]="PFC_BRUHS",e[e.PFC_DIBS=4]="PFC_DIBS",e[e.PFC_DDIBS=8]="PFC_DDIBS",e[e.PFC_STRINGS=16]="PFC_STRINGS",e[e.PFC_FONTS=32]="PFC_FONTS",e[e.PFC_TEXTS=64]="PFC_TEXTS",e[e.PFC_3D=128]="PFC_3D",e[e.PFC_ALL=255]="PFC_ALL",e[e.OID_RESERVED=32e3]="OID_RESERVED",e[e.OID_RCENTER=32001]="OID_RCENTER",e[e.OID_FRAME2D1=32002]="OID_FRAME2D1",e[e.OID_FRAME2D2=32003]="OID_FRAME2D2",e[e.OID_FRAME2D3=32004]="OID_FRAME2D3",e[e.OID_FRAME2D4=32005]="OID_FRAME2D4",e[e.OID_FRAME2D5=32006]="OID_FRAME2D5",e[e.OID_FRAME2D6=32007]="OID_FRAME2D6",e[e.OID_FRAME2D7=32008]="OID_FRAME2D7",e[e.OID_FRAME2D8=32009]="OID_FRAME2D8",e[e.OID_FRAME2D=32010]="OID_FRAME2D",e[e.OID_AXIS3D=32100]="OID_AXIS3D",e[e.OID_FRAME3D1=32102]="OID_FRAME3D1",e[e.OID_FRAME3D2=32103]="OID_FRAME3D2",e[e.OID_FRAME3D3=32104]="OID_FRAME3D3",e[e.OID_FRAME3D4=32105]="OID_FRAME3D4",e[e.OID_FRAME3D5=32106]="OID_FRAME3D5",e[e.OID_FRAME3D6=32107]="OID_FRAME3D6",e[e.OID_FRAME3D7=32108]="OID_FRAME3D7",e[e.OID_FRAME3D8=32109]="OID_FRAME3D8",e[e.OID_FRAME3D=32110]="OID_FRAME3D",e[e.MB_OK=0]="MB_OK",e[e.MB_OKCANCEL=1]="MB_OKCANCEL",e[e.MB_ABORTRETRYIGNORE=2]="MB_ABORTRETRYIGNORE",e[e.MB_YESNOCANCEL=3]="MB_YESNOCANCEL",e[e.MB_YESNO=4]="MB_YESNO",e[e.MB_RETRYCANCEL=5]="MB_RETRYCANCEL",e[e.MB_TYPEMASK=15]="MB_TYPEMASK",e[e.MB_ICONHAND=16]="MB_ICONHAND",e[e.MB_ICONQUESTION=32]="MB_ICONQUESTION",e[e.MB_ICONEXCLAMATION=48]="MB_ICONEXCLAMATION",e[e.MB_ICONASTERISK=64]="MB_ICONASTERISK",e[e.MB_ICONMASK=240]="MB_ICONMASK",e[e.MB_ICONINFORMATION=64]="MB_ICONINFORMATION",e[e.MB_ICONSTOP=16]="MB_ICONSTOP",e[e.MB_DEFBUTTON1=0]="MB_DEFBUTTON1",e[e.MB_DEFBUTTON2=256]="MB_DEFBUTTON2",e[e.MB_DEFBUTTON3=512]="MB_DEFBUTTON3",e[e.MB_DEFMASK=3840]="MB_DEFMASK",e[e.MB_APPLMODAL=0]="MB_APPLMODAL",e[e.MB_SYSTEMMODAL=4096]="MB_SYSTEMMODAL",e[e.MB_TASKMODAL=8192]="MB_TASKMODAL",e[e.MB_NOFOCUS=32768]="MB_NOFOCUS",e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWNORMAL=1]="SW_SHOWNORMAL",e[e.SW_NORMAL=1]="SW_NORMAL",e[e.SW_SHOWMINIMIZED=2]="SW_SHOWMINIMIZED",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_MAXIMIZE=3]="SW_MAXIMIZE",e[e.SW_SHOWNOACTIVATE=4]="SW_SHOWNOACTIVATE",e[e.SW_SHOW=5]="SW_SHOW",e[e.SW_MINIMIZE=6]="SW_MINIMIZE",e[e.SW_SHOWMINNOACTIVE=7]="SW_SHOWMINNOACTIVE",e[e.SW_SHOWNA=8]="SW_SHOWNA",e[e.SW_RESTORE=9]="SW_RESTORE",e[e.MCIERR_INVALID_DEVICE_ID=257]="MCIERR_INVALID_DEVICE_ID",e[e.MCIERR_UNRECOGNIZED_KEYWORD=259]="MCIERR_UNRECOGNIZED_KEYWORD",e[e.MCIERR_UNRECOGNIZED_COMMAND=261]="MCIERR_UNRECOGNIZED_COMMAND",e[e.MCIERR_HARDWARE=262]="MCIERR_HARDWARE",e[e.MCIERR_INVALID_DEVICE_NAME=263]="MCIERR_INVALID_DEVICE_NAME",e[e.MCIERR_OUT_OF_MEMORY=264]="MCIERR_OUT_OF_MEMORY",e[e.MCIERR_DEVICE_OPEN=265]="MCIERR_DEVICE_OPEN",e[e.MCIERR_CANNOT_LOAD_DRIVER=266]="MCIERR_CANNOT_LOAD_DRIVER",e[e.MCIERR_MISSING_COMMAND_STRING=267]="MCIERR_MISSING_COMMAND_STRING",e[e.MCIERR_PARAM_OVERFLOW=268]="MCIERR_PARAM_OVERFLOW",e[e.MCIERR_MISSING_STRING_ARGUMENT=269]="MCIERR_MISSING_STRING_ARGUMENT",e[e.MCIERR_BAD_INTEGER=270]="MCIERR_BAD_INTEGER",e[e.MCIERR_PARSER_INTERNAL=271]="MCIERR_PARSER_INTERNAL",e[e.MCIERR_DRIVER_INTERNAL=272]="MCIERR_DRIVER_INTERNAL",e[e.MCIERR_MISSING_PARAMETER=273]="MCIERR_MISSING_PARAMETER",e[e.MCIERR_UNSUPPORTED_FUNCTION=274]="MCIERR_UNSUPPORTED_FUNCTION",e[e.MCIERR_FILE_NOT_FOUND=275]="MCIERR_FILE_NOT_FOUND",e[e.MCIERR_DEVICE_NOT_READY=276]="MCIERR_DEVICE_NOT_READY",e[e.MCIERR_INTERNAL=277]="MCIERR_INTERNAL",e[e.MCIERR_DRIVER=278]="MCIERR_DRIVER",e[e.MCIERR_CANNOT_USE_ALL=279]="MCIERR_CANNOT_USE_ALL",e[e.MCIERR_MULTIPLE=280]="MCIERR_MULTIPLE",e[e.MCIERR_EXTENSION_NOT_FOUND=281]="MCIERR_EXTENSION_NOT_FOUND",e[e.MCIERR_OUTOFRANGE=282]="MCIERR_OUTOFRANGE",e[e.MCIERR_FLAGS_NOT_COMPATIBLE=284]="MCIERR_FLAGS_NOT_COMPATIBLE",e[e.MCIERR_FILE_NOT_SAVED=286]="MCIERR_FILE_NOT_SAVED",e[e.MCIERR_DEVICE_TYPE_REQUIRED=287]="MCIERR_DEVICE_TYPE_REQUIRED",e[e.MCIERR_DEVICE_LOCKED=288]="MCIERR_DEVICE_LOCKED",e[e.MCIERR_DUPLICATE_ALIAS=289]="MCIERR_DUPLICATE_ALIAS",e[e.MCIERR_BAD_CONSTANT=290]="MCIERR_BAD_CONSTANT",e[e.MCIERR_MUST_USE_SHAREABLE=291]="MCIERR_MUST_USE_SHAREABLE",e[e.MCIERR_MISSING_DEVICE_NAME=292]="MCIERR_MISSING_DEVICE_NAME",e[e.MCIERR_BAD_TIME_FORMAT=293]="MCIERR_BAD_TIME_FORMAT",e[e.MCIERR_NO_CLOSING_QUOTE=294]="MCIERR_NO_CLOSING_QUOTE",e[e.MCIERR_DUPLICATE_FLAGS=295]="MCIERR_DUPLICATE_FLAGS",e[e.MCIERR_INVALID_FILE=296]="MCIERR_INVALID_FILE",e[e.MCIERR_NULL_PARAMETER_BLOCK=297]="MCIERR_NULL_PARAMETER_BLOCK",e[e.MCIERR_UNNAMED_RESOURCE=298]="MCIERR_UNNAMED_RESOURCE",e[e.MCIERR_NEW_REQUIRES_ALIAS=299]="MCIERR_NEW_REQUIRES_ALIAS",e[e.MCIERR_NOTIFY_ON_AUTO_OPEN=300]="MCIERR_NOTIFY_ON_AUTO_OPEN",e[e.MCIERR_NO_ELEMENT_ALLOWED=301]="MCIERR_NO_ELEMENT_ALLOWED",e[e.MCIERR_NONAPPLICABLE_FUNCTION=302]="MCIERR_NONAPPLICABLE_FUNCTION",e[e.MCIERR_ILLEGAL_FOR_AUTO_OPEN=303]="MCIERR_ILLEGAL_FOR_AUTO_OPEN",e[e.MCIERR_FILENAME_REQUIRED=304]="MCIERR_FILENAME_REQUIRED",e[e.MCIERR_EXTRA_CHARACTERS=305]="MCIERR_EXTRA_CHARACTERS",e[e.MCIERR_DEVICE_NOT_INSTALLED=306]="MCIERR_DEVICE_NOT_INSTALLED",e[e.MCIERR_GET_CD=307]="MCIERR_GET_CD",e[e.MCIERR_SET_CD=308]="MCIERR_SET_CD",e[e.MCIERR_SET_DRIVE=309]="MCIERR_SET_DRIVE",e[e.MCIERR_DEVICE_LENGTH=310]="MCIERR_DEVICE_LENGTH",e[e.MCIERR_DEVICE_ORD_LENGTH=311]="MCIERR_DEVICE_ORD_LENGTH",e[e.MCIERR_NO_INTEGER=312]="MCIERR_NO_INTEGER",e[e.MCIERR_WAVE_OUTPUTSINUSE=320]="MCIERR_WAVE_OUTPUTSINUSE",e[e.MCIERR_WAVE_SETOUTPUTINUSE=321]="MCIERR_WAVE_SETOUTPUTINUSE",e[e.MCIERR_WAVE_INPUTSINUSE=322]="MCIERR_WAVE_INPUTSINUSE",e[e.MCIERR_WAVE_SETINPUTINUSE=323]="MCIERR_WAVE_SETINPUTINUSE",e[e.MCIERR_WAVE_OUTPUTUNSPECIFIED=324]="MCIERR_WAVE_OUTPUTUNSPECIFIED",e[e.MCIERR_WAVE_INPUTUNSPECIFIED=325]="MCIERR_WAVE_INPUTUNSPECIFIED",e[e.MCIERR_WAVE_OUTPUTSUNSUITABLE=326]="MCIERR_WAVE_OUTPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETOUTPUTUNSUITABLE=327]="MCIERR_WAVE_SETOUTPUTUNSUITABLE",e[e.MCIERR_WAVE_INPUTSUNSUITABLE=328]="MCIERR_WAVE_INPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETINPUTUNSUITABLE=329]="MCIERR_WAVE_SETINPUTUNSUITABLE",e[e.MCIERR_SEQ_DIV_INCOMPATIBLE=336]="MCIERR_SEQ_DIV_INCOMPATIBLE",e[e.MCIERR_SEQ_PORT_INUSE=337]="MCIERR_SEQ_PORT_INUSE",e[e.MCIERR_SEQ_PORT_NONEXISTENT=338]="MCIERR_SEQ_PORT_NONEXISTENT",e[e.MCIERR_SEQ_PORT_MAPNODEVICE=339]="MCIERR_SEQ_PORT_MAPNODEVICE",e[e.MCIERR_SEQ_PORT_MISCERROR=340]="MCIERR_SEQ_PORT_MISCERROR",e[e.MCIERR_SEQ_TIMER=341]="MCIERR_SEQ_TIMER",e[e.MCIERR_SEQ_PORTUNSPECIFIED=342]="MCIERR_SEQ_PORTUNSPECIFIED",e[e.MCIERR_SEQ_NOMIDIPRESENT=343]="MCIERR_SEQ_NOMIDIPRESENT",e[e.MCIERR_NO_WINDOW=346]="MCIERR_NO_WINDOW",e[e.MCIERR_CREATEWINDOW=347]="MCIERR_CREATEWINDOW",e[e.MCIERR_FILE_READ=348]="MCIERR_FILE_READ",e[e.MCIERR_FILE_WRITE=349]="MCIERR_FILE_WRITE",e[e.WS_VISIBLE=268435456]="WS_VISIBLE",e[e.WS_DISABLED=134217728]="WS_DISABLED",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_DLGFRAME=4194304]="WS_DLGFRAME",e[e.WS_VSCROLL=2097152]="WS_VSCROLL",e[e.WS_HSCROLL=1048576]="WS_HSCROLL",e[e.WS_SYSMENU=524288]="WS_SYSMENU",e[e.WS_THICKFRAME=262144]="WS_THICKFRAME",e[e.WS_MINIMIZEBOX=131072]="WS_MINIMIZEBOX",e[e.WS_MAXIMIZEBOX=65536]="WS_MAXIMIZEBOX",e[e.WS_GROUP=131072]="WS_GROUP",e[e.WS_TABSTOP=65536]="WS_TABSTOP",e[e.WS_OVERLAPPED=0]="WS_OVERLAPPED",e[e.WS_POPUP=2147483648]="WS_POPUP",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.IDX_PRIMARY=1]="IDX_PRIMARY",e[e.IDX_UNIQUE=2]="IDX_UNIQUE",e[e.IDX_DESCENDING=4]="IDX_DESCENDING",e[e.IDX_MAINTAINED=8]="IDX_MAINTAINED",e[e.IDX_SUBSET=16]="IDX_SUBSET",e[e.IDX_EXPR=32]="IDX_EXPR",e[e.IDX_IDXOOD=64]="IDX_IDXOOD",e[e.IDX_CASEINSENS=128]="IDX_CASEINSENS",e[e.FLDDBCHAR=513]="FLDDBCHAR",e[e.FLDDBNUM=514]="FLDDBNUM",e[e.FLDDBMEMO=515]="FLDDBMEMO",e[e.FLDDBBOOL=516]="FLDDBBOOL",e[e.FLDDBDATE=517]="FLDDBDATE",e[e.FLDDBFLOAT=518]="FLDDBFLOAT",e[e.FLDDBLOCK=519]="FLDDBLOCK",e[e.FLDDBOLEBLOB=520]="FLDDBOLEBLOB",e[e.FLDDBBINARY=521]="FLDDBBINARY",e[e.FLDDBBYTES=522]="FLDDBBYTES",e[e.BS_PUSHBUTTON=0]="BS_PUSHBUTTON",e[e.BS_DEFPUSHBUTTON=1]="BS_DEFPUSHBUTTON",e[e.BS_CHECKBOX=2]="BS_CHECKBOX",e[e.BS_AUTOCHECKBOX=3]="BS_AUTOCHECKBOX",e[e.BS_RADIOBUTTON=4]="BS_RADIOBUTTON",e[e.BS_3STATE=5]="BS_3STATE",e[e.BS_AUTO3STATE=6]="BS_AUTO3STATE",e[e.BS_GROUPBOX=7]="BS_GROUPBOX",e[e.BS_USERBUTTON=8]="BS_USERBUTTON",e[e.BS_AUTORADIOBUTTON=9]="BS_AUTORADIOBUTTON",e[e.BS_OWNERDRAW=11]="BS_OWNERDRAW",e[e.BS_LEFTTEXT=32]="BS_LEFTTEXT",e[e.ES_LEFT=0]="ES_LEFT",e[e.ES_CENTER=1]="ES_CENTER",e[e.ES_RIGHT=2]="ES_RIGHT",e[e.ES_MULTILINE=4]="ES_MULTILINE",e[e.ES_UPPERCASE=8]="ES_UPPERCASE",e[e.ES_LOWERCASE=16]="ES_LOWERCASE",e[e.ES_PASSWORD=32]="ES_PASSWORD",e[e.ES_AUTOVSCROLL=64]="ES_AUTOVSCROLL",e[e.ES_AUTOHSCROLL=128]="ES_AUTOHSCROLL",e[e.ES_NOHIDESEL=256]="ES_NOHIDESEL",e[e.SBS_HORZ=0]="SBS_HORZ",e[e.SBS_VERT=1]="SBS_VERT",e[e.SBS_TOPALIGN=2]="SBS_TOPALIGN",e[e.SBS_LEFTALIGN=2]="SBS_LEFTALIGN",e[e.SBS_BOTTOMALIGN=4]="SBS_BOTTOMALIGN",e[e.SBS_RIGHTALIGN=4]="SBS_RIGHTALIGN",e[e.SBS_SIZEBOXTOPLEFTALIGN=2]="SBS_SIZEBOXTOPLEFTALIGN",e[e.SBS_SIZEBOXBOTTOMRIGHTALIGN=4]="SBS_SIZEBOXBOTTOMRIGHTALIGN",e[e.SBS_SIZEBOX=8]="SBS_SIZEBOX",e[e.LBS_NOTIFY=1]="LBS_NOTIFY",e[e.LBS_SORT=2]="LBS_SORT",e[e.LBS_NOREDRAW=4]="LBS_NOREDRAW",e[e.LBS_MULTIPLESEL=8]="LBS_MULTIPLESEL",e[e.LBS_OWNERDRAWFIXED=16]="LBS_OWNERDRAWFIXED",e[e.LBS_OWNERDRAWVARIABLE=32]="LBS_OWNERDRAWVARIABLE",e[e.LBS_HASSTRINGS=64]="LBS_HASSTRINGS",e[e.LBS_USETABSTOPS=128]="LBS_USETABSTOPS",e[e.LBS_NOINTEGRALHEIGHT=256]="LBS_NOINTEGRALHEIGHT",e[e.LBS_MULTICOLUMN=512]="LBS_MULTICOLUMN",e[e.LBS_WANTKEYBOARDINPUT=1024]="LBS_WANTKEYBOARDINPUT",e[e.LBS_EXTENDEDSEL=2048]="LBS_EXTENDEDSEL",e[e.CBS_SIMPLE=1]="CBS_SIMPLE",e[e.CBS_DROPDOWN=2]="CBS_DROPDOWN",e[e.CBS_DROPDOWNLIST=3]="CBS_DROPDOWNLIST",e[e.CBS_OWNERDRAWFIXED=16]="CBS_OWNERDRAWFIXED",e[e.CBS_OWNERDRAWVARIABLE=32]="CBS_OWNERDRAWVARIABLE",e[e.CBS_AUTOHSCROLL=64]="CBS_AUTOHSCROLL",e[e.CBS_OEMCONVERT=128]="CBS_OEMCONVERT",e[e.CBS_SORT=256]="CBS_SORT",e[e.CBS_HASSTRINGS=512]="CBS_HASSTRINGS",e[e.CBS_NOINTEGRALHEIGHT=1024]="CBS_NOINTEGRALHEIGHT",e[e.BS_SOLID=0]="BS_SOLID",e[e.BS_NULL=1]="BS_NULL",e[e.BS_HATCHED=2]="BS_HATCHED",e[e.BS_PATTERN=3]="BS_PATTERN",e[e.BS_GRADIENT_LINEAR=10]="BS_GRADIENT_LINEAR",e[e.HS_HORIZONTAL=0]="HS_HORIZONTAL",e[e.HS_VERTICAL=1]="HS_VERTICAL",e[e.HS_FDIAGONAL=2]="HS_FDIAGONAL",e[e.HS_BDIAGONAL=3]="HS_BDIAGONAL",e[e.HS_CROSS=4]="HS_CROSS",e[e.HS_DIAGCROSS=5]="HS_DIAGCROSS",e[e.PS_SOLID=0]="PS_SOLID",e[e.PS_DASH=1]="PS_DASH",e[e.PS_DOT=2]="PS_DOT",e[e.PS_DASHDOT=3]="PS_DASHDOT",e[e.PS_DASHDOTDOT=4]="PS_DASHDOTDOT",e[e.PS_NULL=5]="PS_NULL",e[e.PS_INSIDEFRAME=6]="PS_INSIDEFRAME",e[e.R2_BLACK=1]="R2_BLACK",e[e.R2_NOTMERGEPEN=2]="R2_NOTMERGEPEN",e[e.R2_MASKNOTPEN=3]="R2_MASKNOTPEN",e[e.R2_NOTCOPYPEN=4]="R2_NOTCOPYPEN",e[e.R2_MASKPENNOT=5]="R2_MASKPENNOT",e[e.R2_NOT=6]="R2_NOT",e[e.R2_XORPEN=7]="R2_XORPEN",e[e.R2_NOTMASKPEN=8]="R2_NOTMASKPEN",e[e.R2_MASKPEN=9]="R2_MASKPEN",e[e.R2_NOTXORPEN=10]="R2_NOTXORPEN",e[e.R2_NOP=11]="R2_NOP",e[e.R2_MERGENOTPEN=12]="R2_MERGENOTPEN",e[e.R2_COPYPEN=13]="R2_COPYPEN",e[e.R2_MERGEPENNOT=14]="R2_MERGEPENNOT",e[e.R2_MERGEPEN=15]="R2_MERGEPEN",e[e.R2_WHITE=16]="R2_WHITE",e[e.FILE_ATTRIBUTE_ARCHIVE=32]="FILE_ATTRIBUTE_ARCHIVE",e[e.FILE_ATTRIBUTE_COMPRESSED=2048]="FILE_ATTRIBUTE_COMPRESSED",e[e.FILE_ATTRIBUTE_DIRECTORY=16]="FILE_ATTRIBUTE_DIRECTORY",e[e.FILE_ATTRIBUTE_HIDDEN=2]="FILE_ATTRIBUTE_HIDDEN",e[e.FILE_ATTRIBUTE_NORMAL=128]="FILE_ATTRIBUTE_NORMAL",e[e.FILE_ATTRIBUTE_OFFLINE=4096]="FILE_ATTRIBUTE_OFFLINE",e[e.FILE_ATTRIBUTE_READONLY=1]="FILE_ATTRIBUTE_READONLY",e[e.FILE_ATTRIBUTE_SYSTEM=4]="FILE_ATTRIBUTE_SYSTEM",e[e.FILE_ATTRIBUTE_TEMPORARY=256]="FILE_ATTRIBUTE_TEMPORARY",e[e.VF_LOCAL=2]="VF_LOCAL",e[e.VF_EQVAR=256]="VF_EQVAR",e[e.VF_ARGUMENT=512]="VF_ARGUMENT",e[e.VF_RETURN=1024]="VF_RETURN",e[e.CUR_ARROW=0]="CUR_ARROW",e[e.CUR_CROSS=1]="CUR_CROSS",e[e.CUR_TEXT=2]="CUR_TEXT",e[e.CUR_NO=3]="CUR_NO",e[e.CUR_SIZE=4]="CUR_SIZE",e[e.CUR_SIZENESW=5]="CUR_SIZENESW",e[e.CUR_SIZENS=6]="CUR_SIZENS",e[e.CUR_SIZENWSE=7]="CUR_SIZENWSE",e[e.CUR_SIZEWE=8]="CUR_SIZEWE",e[e.CUR_UPARROW=9]="CUR_UPARROW",e[e.CUR_WAIT=10]="CUR_WAIT",e[e.CUR_LINK=11]="CUR_LINK",e[e.CUR_HELP=12]="CUR_HELP",e[e.SHADOWTYPE_STENCIL_MODULATIVE=18]="SHADOWTYPE_STENCIL_MODULATIVE",e[e.SHADOWTYPE_STENCIL_ADDITIVE=17]="SHADOWTYPE_STENCIL_ADDITIVE",e[e.SHADOWTYPE_TEXTURE_MODULATIVE=34]="SHADOWTYPE_TEXTURE_MODULATIVE",e[e.SHADOWTYPE_TEXTURE_ADDITIVE=33]="SHADOWTYPE_TEXTURE_ADDITIVE",e[e.FOG_NONE=0]="FOG_NONE",e[e.FOG_EXP=1]="FOG_EXP",e[e.FOG_EXP2=2]="FOG_EXP2",e[e.FOG_LINEAR=3]="FOG_LINEAR",e[e.TEX_TYPE_1D=1]="TEX_TYPE_1D",e[e.TEX_TYPE_2D=2]="TEX_TYPE_2D",e[e.TEX_TYPE_3D=3]="TEX_TYPE_3D",e[e.TEX_TYPE_CUBE_MAP=4]="TEX_TYPE_CUBE_MAP",e[e.SBF_ONE=0]="SBF_ONE",e[e.SBF_ZERO=1]="SBF_ZERO",e[e.SBF_DEST_COLOUR=2]="SBF_DEST_COLOUR",e[e.SBF_SOURCE_COLOUR=3]="SBF_SOURCE_COLOUR",e[e.SBF_ONE_MINUS_DEST_COLOUR=4]="SBF_ONE_MINUS_DEST_COLOUR",e[e.SBF_ONE_MINUS_SOURCE_COLOUR=5]="SBF_ONE_MINUS_SOURCE_COLOUR",e[e.SBF_DEST_ALPHA=6]="SBF_DEST_ALPHA",e[e.SBF_SOURCE_ALPHA=7]="SBF_SOURCE_ALPHA",e[e.SBF_ONE_MINUS_DEST_ALPHA=8]="SBF_ONE_MINUS_DEST_ALPHA",e[e.SBF_ONE_MINUS_SOURCE_ALPHA=9]="SBF_ONE_MINUS_SOURCE_ALPHA",e[e.CMPF_ALWAYS_FAIL=0]="CMPF_ALWAYS_FAIL",e[e.CMPF_ALWAYS_PASS=1]="CMPF_ALWAYS_PASS",e[e.CMPF_LESS=2]="CMPF_LESS",e[e.CMPF_LESS_EQUAL=3]="CMPF_LESS_EQUAL",e[e.CMPF_EQUAL=4]="CMPF_EQUAL",e[e.CMPF_NOT_EQUAL=5]="CMPF_NOT_EQUAL",e[e.CMPF_GREATER_EQUAL=6]="CMPF_GREATER_EQUAL",e[e.CMPF_GREATER=7]="CMPF_GREATER",e[e.CULL_NONE=1]="CULL_NONE",e[e.CULL_CLOCKWISE=2]="CULL_CLOCKWISE",e[e.CULL_ANTICLOCKWISE=3]="CULL_ANTICLOCKWISE",e[e.SO_FLAT=0]="SO_FLAT",e[e.SO_GOURAUD=1]="SO_GOURAUD",e[e.SO_PHONG=2]="SO_PHONG",e[e.PM_POINTS=1]="PM_POINTS",e[e.PM_WIREFRAME=2]="PM_WIREFRAME",e[e.PM_SOLID=3]="PM_SOLID",e[e.LT_POINT=0]="LT_POINT",e[e.LT_DIRECTIONAL=1]="LT_DIRECTIONAL",e[e.LT_SPOTLIGHT=2]="LT_SPOTLIGHT",e[e.PT_ORTHOGRAPHIC=0]="PT_ORTHOGRAPHIC",e[e.PT_PERSPECTIVE=1]="PT_PERSPECTIVE",e[e.OT_POINT_LIST=1]="OT_POINT_LIST",e[e.OT_LINE_LIST=2]="OT_LINE_LIST",e[e.OT_LINE_STRIP=3]="OT_LINE_STRIP",e[e.OT_TRIANGLE_LIST=4]="OT_TRIANGLE_LIST",e[e.OT_TRIANGLE_STRIP=5]="OT_TRIANGLE_STRIP",e[e.OT_TRIANGLE_FAN=6]="OT_TRIANGLE_FAN",e[e.BBT_POINT=0]="BBT_POINT",e[e.BBT_ORIENTED_COMMON=1]="BBT_ORIENTED_COMMON",e[e.BBT_ORIENTED_SELF=2]="BBT_ORIENTED_SELF",e[e.BBT_PERPENDICULAR_COMMON=3]="BBT_PERPENDICULAR_COMMON",e[e.BBT_PERPENDICULAR_SELF=4]="BBT_PERPENDICULAR_SELF",e[e.GMM_RELATIVE=0]="GMM_RELATIVE",e[e.GMM_PIXELS=1]="GMM_PIXELS",e[e.GMM_RELATIVE_ASPECT_ADJUSTED=2]="GMM_RELATIVE_ASPECT_ADJUSTED",e[e.GHA_LEFT=0]="GHA_LEFT",e[e.GHA_CENTER=1]="GHA_CENTER",e[e.GHA_RIGHT=2]="GHA_RIGHT",e[e.GVA_TOP=0]="GVA_TOP",e[e.GVA_CENTER=1]="GVA_CENTER",e[e.GVA_BOTTOM=2]="GVA_BOTTOM",e[e.MTHA_LEFT=0]="MTHA_LEFT",e[e.MTHA_CENTER=1]="MTHA_CENTER",e[e.MTVA_BELOW=0]="MTVA_BELOW",e[e.MTVA_ABOVE=1]="MTVA_ABOVE",e[e.MTVA_CENTER=2]="MTVA_CENTER",e[e.PT_BOOL=0]="PT_BOOL",e[e.PT_REAL=1]="PT_REAL",e[e.PT_INT=2]="PT_INT",e[e.PT_UNSIGNED_INT=3]="PT_UNSIGNED_INT",e[e.PT_SHORT=4]="PT_SHORT",e[e.PT_UNSIGNED_SHORT=5]="PT_UNSIGNED_SHORT",e[e.PT_LONG=6]="PT_LONG",e[e.PT_UNSIGNED_LONG=7]="PT_UNSIGNED_LONG",e[e.PT_STRING=8]="PT_STRING",e[e.PT_VECTOR3=9]="PT_VECTOR3",e[e.PT_MATRIX3=10]="PT_MATRIX3",e[e.PT_MATRIX4=11]="PT_MATRIX4",e[e.PT_QUATERNION=12]="PT_QUATERNION",e[e.PT_COLOURVALUE=13]="PT_COLOURVALUE",e[e.NUI_SP_HIP_CENTER=0]="NUI_SP_HIP_CENTER",e[e.NUI_SP_SPINE=1]="NUI_SP_SPINE",e[e.NUI_SP_SHOULDER_CENTER=2]="NUI_SP_SHOULDER_CENTER",e[e.NUI_SP_HEAD=3]="NUI_SP_HEAD",e[e.NUI_SP_SHOULDER_LEFT=4]="NUI_SP_SHOULDER_LEFT",e[e.NUI_SP_ELBOW_LEFT=5]="NUI_SP_ELBOW_LEFT",e[e.NUI_SP_WRIST_LEFT=6]="NUI_SP_WRIST_LEFT",e[e.NUI_SP_HAND_LEFT=7]="NUI_SP_HAND_LEFT",e[e.NUI_SP_SHOULDER_RIGHT=8]="NUI_SP_SHOULDER_RIGHT",e[e.NUI_SP_ELBOW_RIGHT=9]="NUI_SP_ELBOW_RIGHT",e[e.NUI_SP_WRIST_RIGHT=10]="NUI_SP_WRIST_RIGHT",e[e.NUI_SP_HAND_RIGHT=11]="NUI_SP_HAND_RIGHT",e[e.NUI_SP_HIP_LEFT=12]="NUI_SP_HIP_LEFT",e[e.NUI_SP_KNEE_LEFT=13]="NUI_SP_KNEE_LEFT",e[e.NUI_SP_ANKLE_LEFT=14]="NUI_SP_ANKLE_LEFT",e[e.NUI_SP_FOOT_LEFT=15]="NUI_SP_FOOT_LEFT",e[e.NUI_SP_HIP_RIGHT=16]="NUI_SP_HIP_RIGHT",e[e.NUI_SP_KNEE_RIGHT=17]="NUI_SP_KNEE_RIGHT",e[e.NUI_SP_ANKLE_RIGHT=18]="NUI_SP_ANKLE_RIGHT",e[e.NUI_SP_FOOT_RIGHT=19]="NUI_SP_FOOT_RIGHT",e[e.NUI_SP_COUNT=20]="NUI_SP_COUNT",e))(rt||{});const kC=258,Ek=[{src:"default.dbm",width:224,height:928},{src:"animals.dbm",width:224,height:736},{src:"art.dbm",width:416,height:256},{src:"be_icons.dbm",width:160,height:1504},{src:"diamonds.dbm",width:256,height:544},{src:"folders.dbm",width:416,height:352},{src:"folders2.dbm",width:192,height:1376},{src:"hardware.dbm",width:64,height:2656},{src:"mask.bmp",width:64,height:64},{src:"people.dbm",width:416,height:576},{src:"recycle.dbm",width:32,height:3296},{src:"science.dbm",width:128,height:608},{src:"signs.dbm",width:96,height:1504},{src:"system.dbm",width:64,height:736},{src:"varpoint.bmp",width:32,height:128},{src:"varpoint.dbm",width:160,height:32},{src:"windows.dbm",width:512,height:384},{src:"_default.bmp",width:96,height:96}];function DC(e){return Ek.find(t=>t.src===e)??Ek[0]}function AC(e,t){const r=e.width/32,n=t%r*32,o=Math.floor(t/r)*32;return{x:n,y:o}}function zq(e,t,r){const n=e.width/32;return t/32+r/32*n}var bt=(e=>(e[e.FLOAT=1]="FLOAT",e[e.STRING=2]="STRING",e[e.HANDLE=3]="HANDLE",e[e.COLORREF=4]="COLORREF",e))(bt||{});const Hv=1,Tk="1.1",Wv=0,LC=1,NC=2,Mk=3,Kv=4,BC="CM_CLEARALL",FC="CM_PREVPAGE",$a=8;var Nl=(e=>(e[e.FLOAT_REF=bt.FLOAT|$a]="FLOAT_REF",e[e.STRING_REF=bt.STRING|$a]="STRING_REF",e[e.HANDLE_REF=bt.HANDLE|$a]="HANDLE_REF",e[e.COLORREF_REF=bt.COLORREF|$a]="COLORREF_REF",e))(Nl||{});class Uq{constructor(){this.blocks=[]}pushBlock(t){return this.blocks.push(t),t}popBlock(t){const r=this.blocks.pop();if(r?.expect!==t)throw Error(`Ожидалось ${t}`);return r}lastBlock(){return this.blocks.length>0?this.blocks[this.blocks.length-1]:null}haveABreakHaveAKitKat(){for(let t=this.blocks.length-1;t>=0;--t)if(this.blocks[t].canBreak)return"break;";return"return;"}}const Gq="map",Hq="g",jC="schema",VC="string",Ok="n",Rk="o",Ik={[bt.FLOAT]:"f",[bt.HANDLE]:"i",[bt.COLORREF]:"i",[bt.STRING]:"s"},Wq=`
"use strict"
const { map, values } = memory;
const of = values.oldFloats;
const nf = values.newFloats;
const oi = values.oldInts;
const ni = values.newInts;
const os = values.oldStrings;
const ns = values.newStrings;
function string(value) {
    return (Math.round(value * 1e5) / 1e5).toString()
}
`,Kq="userFunction",qq="solveEquationsFor",{FLOAT:Vt,STRING:Ro,HANDLE:qv,COLORREF:Yq}=bt,Xq=[["ABS",{argTypes:[Vt],retType:Vt,template:"Math.abs(#0) || 0"}],["ALLTRIM",{argTypes:[Ro],retType:Ro,template:"(#0).trim()"}],["AND",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) && (#1) ? 1 : 0"}],["ARCTAN",{argTypes:[Vt],retType:Vt,template:"Math.atan(#0)||0"}],["AVERAGE",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) / 2 + (#1) / 2"}],["COMPARE",{argTypes:[Ro,Ro],retType:Vt,template:"(#0) == (#1) ? 1 : 0"}],["COS",{argTypes:[Vt],retType:Vt,template:"Math.cos(#0) || 0"}],["DEG",{argTypes:[Vt],retType:Vt,template:"180 * (#0) / Math.PI || 0"}],["DELTA",{argTypes:[Vt],retType:Vt,template:"(#0) ? 0 : 1"}],["ED",{argTypes:[Vt],retType:Vt,template:"(#0) > 0 ? 1 : 0"}],["ED",{argTypes:[qv],retType:Vt,template:"(#0) > 0 ? 1 : 0"}],["EXP",{argTypes:[Vt],retType:Vt,template:"Math.exp(#0) || 0"}],["FLOAT",{argTypes:[Yq],retType:Vt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Vt],retType:Vt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[qv],retType:Vt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Ro],retType:Vt,template:"parseFloat(#0) || 0"}],["HANDLE",{argTypes:[Vt],retType:qv,template:"parseInt(#0) || 0"}],["LEFT",{argTypes:[Ro,Vt],retType:Ro,template:"(#0).substring(0, #1)"}],["LENGTH",{argTypes:[Ro],retType:Vt,template:"(#0).length"}],["LIMIT",{argTypes:[Vt,Vt,Vt],retType:Vt,template:"Math.max(#1, Math.min(#2, #0))||0"}],["LOWER",{argTypes:[Ro],retType:Ro,template:"(#0).toLowerCase()"}],["LTRIM",{argTypes:[Ro],retType:Ro,template:'(#0).replace(/^\\s+/, "")'}],["MAX",{argTypes:[Vt,Vt],retType:Vt,template:"Math.max(#0, #1) || 0"}],["MIN",{argTypes:[Vt,Vt],retType:Vt,template:"Math.min(#0, #1) || 0"}],["NOT",{argTypes:[Vt],retType:Vt,template:"(#0) ? 0 : 1"}],["NOT",{argTypes:[qv],retType:Vt,template:"(#0) ? 0 : 1"}],["NOTBIN",{argTypes:[Vt],retType:Vt,template:"~(#0)"}],["OR",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) || (#1) ? 1 : 0"}],["RAD",{argTypes:[Vt],retType:Vt,template:"Math.PI * (#0) / 180 || 0"}],["REPLICATE",{argTypes:[Ro,Vt],retType:Ro,template:"(#0).repeat(#1)"}],["RND",{argTypes:[Vt],retType:Vt,template:"(#0) * Math.random()"}],["RTRIM",{argTypes:[Ro],retType:Ro,template:'(#0).replace(/\\s+$/, "")'}],["SGN",{argTypes:[Vt],retType:Vt,template:"Math.sign(#0) || 0"}],["SIN",{argTypes:[Vt],retType:Vt,template:"Math.sin(#0) || 0"}],["SQR",{argTypes:[Vt],retType:Vt,template:"(#0) ** 2"}],["SQRT",{argTypes:[Vt],retType:Vt,template:"Math.sqrt(#0) || 0"}],["STRING",{argTypes:[Vt],retType:Ro,template:`${VC}(#0)`}],["TAN",{argTypes:[Vt],retType:Vt,template:"Math.tan(#0) || 0"}],["TRUNC",{argTypes:[Vt],retType:Vt,template:"Math.trunc(#0) || 0"}],["UPPER",{argTypes:[Ro],retType:Ro,template:"(#0).toUpperCase()"}],["XOR",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) !== 0 ^ (#1) !== 0"}],["XORBIN",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) ^ (#1)"}]],Zq=(()=>{const e=new Map;return Xq.forEach(([t,r])=>{let n=e.get(t);n||e.set(t,n=[]),n.push(r)}),e})(),{FLOAT:Ht,STRING:Io,HANDLE:za,COLORREF:Yv}=bt,Pk=[{name:"^",arg:[Ht,Ht],ret:Ht,text:"#0 ** #1",prior:13},{name:"*",arg:[Ht,Ht],ret:Ht,text:"#0 * #1",prior:12},{name:"/",arg:[Ht,Ht],ret:Ht,text:"#0 / (#1 || Infinity)",prior:12},{name:"%",arg:[Ht,Ht],ret:Ht,text:"#0 % #1",prior:12},{name:"+",arg:[Ht,Ht],ret:Ht,text:"#0 + #1",prior:11},{name:"+",arg:[Io,Io],ret:Io,text:"#0 + #1",prior:11},{name:"+",arg:[Io,Ht],ret:Io,text:`#0 + ${VC}(#1)`,prior:11},{name:"+",arg:[Ht,Io],ret:Io,text:`${VC}(#0) + #1`,prior:11},{name:"-",arg:[Ht,Ht],ret:Ht,text:"#0 - #1",prior:11},{name:"<<",arg:[Ht,Ht],ret:Ht,text:"#0 << #1",prior:10},{name:">>",arg:[Ht,Ht],ret:Ht,text:"#0 >> #1",prior:10},{name:">",arg:[Ht,Ht],ret:Ht,text:"+(#0 > #1)",prior:9},{name:">=",arg:[Ht,Ht],ret:Ht,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[Ht,Ht],ret:Ht,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[Ht,Ht],ret:Ht,text:"+(#0 <= #1)",prior:9},{name:">",arg:[Io,Io],ret:Ht,text:"+(#0 > #1)",prior:9},{name:">=",arg:[Io,Io],ret:Ht,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[Io,Io],ret:Ht,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[Io,Io],ret:Ht,text:"+(#0 <= #1)",prior:9},{name:"==",arg:[Ht,Ht],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"==",arg:[Io,Io],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"==",arg:[za,za],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"==",arg:[Yv,Yv],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"!=",arg:[Ht,Ht],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[Io,Io],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[za,za],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[Yv,Yv],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"&",arg:[Ht,Ht],ret:Ht,text:"#0 & #1",prior:7},{name:"|",arg:[Ht,Ht],ret:Ht,text:"#0 | #1",prior:5},{name:"&&",arg:[Ht,Ht],ret:Ht,text:"+Boolean(#0 && #1)",prior:4},{name:"&&",arg:[za,za],ret:za,text:"+Boolean(#0 && #1)",prior:4},{name:"||",arg:[Ht,Ht],ret:Ht,text:"+Boolean(#0 || #1)",prior:3},{name:"||",arg:[za,za],ret:za,text:"+Boolean(#0 || #1)",prior:3}],Qq=Array.from(new Ll(Pk.map(e=>[e.prior,e.name]))).sort((e,t)=>t[0]-e[0]).map(e=>Array.from(e[1]));class Jq{constructor(){this.m=new Map}declareVar(t,r,n){const o=t.toLowerCase(),i=this.m.get(o);if(i&&i[0].type!==r)throw Error(`Переменная уже объявлена: ${t}`);const s={name:t,type:r,attrib:n||void 0};this.m.set(o,[s,this.m.size])}makeInEquation(t){const r=t.toLowerCase(),n=this.m.get(r);if(!n)throw Error(`Неизвестная переменная: ${t}`);if(n[0].type!==bt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);n[0].inEquation=!0}setAsReturn(t){const r=t.toLowerCase(),n=this.m.get(r);if(!n)throw Error(`Неизвестная переменная: ${t}`);n[0].attrib=(n[0].attrib??0)|rt.VF_RETURN}getFloatVar(t){const r=t.toLowerCase(),n=this.m.get(r);if(!n)throw Error(`Неизвестная переменная: ${t}`);if(n[0].type!==bt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);return`$${r}`}_getOrCreateVar(t,r){const n=t.toLowerCase(),o=this.m.get(n);if(o)return[n,o[0]];const i={name:t,type:r};return this.m.set(n,[i,this.m.size]),[n,i]}getOrCreateVar(t,r,n=bt.FLOAT){const[o,{type:i}]=this._getOrCreateVar(r,n),s=`${t?Ok:Rk}${Ik[i]}`,a=`$${o}`;return{text:`${s}[${a}]`,type:i}}derefer(t,r=bt.FLOAT){const n=t.first;if(n.type!=="var"||t.rest.length>0)throw Error("Должно быть имя переменной");const[o,{type:i}]=this._getOrCreateVar(n.name,r),s=`${n.isNew?Ok:Rk}${Ik[i]}`,a=`$${o}`;return[s,a]}result(){return[...this.m.values()].sort((t,r)=>t[1]-r[1]).map(t=>t[0])}}function kk(e,t){const r=t.args.map(a=>Ua(e,a)),n=t.name.toUpperCase(),o=Zq.get(n);if(o){const a=o.find(({argTypes:d})=>d.length===r.length&&d.every((h,f)=>h===r[f].type));if(!a)throw Error(`Некорректная сигнатура функции ${t.name}(${r.map(d=>bt[d.type])}).
Возможные варианты:
`+o.map(d=>`${t.name}(${d.argTypes.map(h=>bt[h])})`).join(`
`));const c=r.map(d=>d.text);return{text:a.template.replace(/#(\d)/g,(d,h)=>c[h]),type:a.retType}}if(n==="EXIT"){if(r.length>0)throw Error(`${t.name}: ожидалось 0 аргументов, получено ${r.length}`);return{text:"return",type:null}}const i=e.funcTable?.get(n);if(!i)throw Error(`Функция не существует: ${`${t.name}(${r.map(a=>bt[a.type])})`}`);const s=i.find(a=>{if(!a.argTypes.every((f,g)=>{if(g>=r.length)return!1;const m=f&$a-1;return r[g].type===m}))return!1;const d=r.length-a.argTypes.length;if(!d)return!0;if(a.type==="user")return!1;const{restArgsTypes:h}=a;return d%h.length!==0?!1:r.slice(-d).every((f,g)=>f.type===h[g%h.length])});if(!s){const a=`${t.name}(${r.map(d=>bt[d.type])})`,c=i.map(d=>{const h=d.argTypes.map(f=>(f&$a?"&":"")+bt[f&$a-1]);return d.type==="plugin"&&d.restArgsTypes.length&&h.push(`[${d.restArgsTypes.map(f=>bt[f])}]`),` - ${t.name}(${h})`});throw Error(`Некорректная сигнатура функции ${a}.
Возможные варианты:
${c.join(`;
`)}`)}if(s.type==="plugin"){const a=r.map((c,d)=>s.argTypes[d]&$a?e.vars.derefer(t.args[d]):c.text);return{text:`${Hq}.${s.path}.call(${[jC,...a]})`,type:s.retType}}else{const a=r.map(c=>c.text);return{text:`${jC}.${Kq}(${[`"${s.name}"`,`[${a}]`]})`,type:s.retType}}}function e9(e){return`t${e.tmpVarCount++}`}function Xv(e,t){switch(t.isNew&&t.type!=="var"&&e.bugs.push(["Применение оператора '~' не к переменной",t]),t.type){case"float":return{text:parseFloat(t.value).toString(),type:bt.FLOAT};case"handle":return{text:parseInt(t.value,10).toString(),type:bt.HANDLE};case"string":return{text:"`"+t.value.replace(/[`$\\]/g,"\\$&")+"`",type:bt.STRING};case"var":{const r=rt[t.name.toUpperCase()]?.toString();return r?{text:r,type:bt.FLOAT}:e.vars.getOrCreateVar(t.isNew,t.name)}case"call":{let r=t;if(t.isNew&&t.args.length){const i={...t.args[0].first,isNew:!0},s=[{...t.args[0],first:i},...t.args.slice(1)];r={...t,args:s}}const n=e9(e),o=kk(e,r);if(!o.type)throw Error(`Функция ${t.name} не возвращает значения`);return e.lines.push(`const ${n}=${o.text};`),{text:n,type:o.type}}case"-":case"!":{let r=t.op;t.isNew&&(r={...r,isNew:!0});const n=Xv(e,r);if(n.type!==bt.FLOAT)throw Error(`Оператор "${t.type}" не применим к ${bt[n.type]}`);return{text:`(${t.type}${n.text})`,type:n.type}}case"subexpr":{const r=Ua(e,t.expr);return{text:`(${r.text})`,type:r.type}}}}function Ua(e,{first:t,rest:r}){if(!r.length)return Xv(e,t);const n=[{type:"decl",op:t},...ok(r.map(i=>[i.action,{type:"decl",op:i.operand}]))];Qq.forEach(i=>{for(;;){const s=n.findIndex(y=>typeof y=="string"&&i.includes(y));if(s<0)break;const a=n[s],c=n[s-1],d=n[s+1],h=c.type==="decl"?Xv(e,c.op):c.res,f=d.type==="decl"?Xv(e,d.op):d.res,g=Pk.find(({name:y,arg:b})=>y===a&&b[0]===h.type&&b[1]===f.type);if(!g)throw Error(`Оператор '${a}' неприменим к '${bt[h.type]}', '${bt[f.type]}'`);const m={text:g.text.replace(/#\d/g,y=>(y==="#0"?h:f).text),type:g.ret};n.splice(s-1,3,{type:"parsed",res:m})}});const o=n[0];if(typeof o!="object"||o.type!=="parsed")throw Error("Ошибка разбора выражения");return o.res}function Dk(e,t,r){if(t!==r)throw Error(`"${e}" имеет тип ${bt[t]}, но правое выражение возвращает ${bt[r]}`)}function Ak(e,t){switch(t.type){case":=":{const n=Ua(e,t.expr),o=e.vars.getOrCreateVar(!0,t.to,n.type);Dk(t.to,o.type,n.type),e.lines.push(`${o.text} = ${n.text};`);break}case"callChain":{t.functions.forEach(n=>{const o=kk(e,n);e.lines.push(`${o.text};`)});break}case"if":{e.b.pushBlock({canBreak:!1,expect:"endif",hasElse:!1});const n=Ua(e,t.expr);e.lines.push(`if (${n.text}) {`);break}case"else":{const n=e.b.lastBlock();if(n?.expect!=="endif"||n.hasElse)throw Error("else должен находиться после if");n.hasElse=!0,e.lines.push("} else {");break}case"endif":{e.b.popBlock("endif"),e.lines.push("}");break}case"varsDec":{const{datatype:n,modifiers:o,names:i}=t;let s;switch(n){case"FLOAT":case"INTEGER":s=bt.FLOAT;break;case"HANDLE":s=bt.HANDLE;break;case"STRING":s=bt.STRING;break;case"COLORREF":s=bt.COLORREF;break}const a=(o.includes("LOCAL")?rt.VF_LOCAL:0)|(o.includes("PARAMETER")?rt.VF_ARGUMENT:0);i.forEach(c=>e.vars.declareVar(c,s,a));break}case"while":{e.b.pushBlock({expect:"endwhile",canBreak:!0});const n=`g${++e.whileGuardCount}`;e.lines.push(`var ${n} = 0;`),e.lines.push("while (true) {"),e.lines.push(`if (++${n} > 100000) throw Error("Бесконечный цикл (100000 итераций)");`);const o=Ua(e,t.expr);e.lines.push(`if (!(${o.text})) break;`);break}case"endwhile":{e.b.popBlock("endwhile"),e.lines.push("}");break}case"do":{e.b.pushBlock({expect:"until",canBreak:!0}),e.lines.push("do {");break}case"until":{e.b.popBlock("until");const n=Ua(e,t.expr);e.lines.push(`} while (${n.text});`);break}case"switch":{e.b.pushBlock({expect:"endswitch",canBreak:!0,caseCount:0}),e.lines.push("do { //switch");break}case"endswitch":{const n=e.b.popBlock("endswitch");if(!n.caseCount)throw Error("Ожидалось case");for(let o=0;o<n.caseCount;++o)e.lines.push("}");e.lines.push("} while (false); //endswitch");break}case"case":{const n=e.b.lastBlock();if(n?.expect!=="endswitch")throw Error("case должен находиться внутри блока switch");n.caseCount&&e.lines.push("} else {"),++n.caseCount;const o=Ua(e,t.expr);e.lines.push(`if (${o.text}) { //case`);break}case"default":{if(e.b.lastBlock()?.expect!=="endswitch")throw Error("default должен находиться внутри блока switch");e.lines.push("} else { //default");break}case"break":e.lines.push(e.b.haveABreakHaveAKitKat());break;case"=":{const n={...e,lines:[]},o=Ua(n,t.lhs);if(o.type!==bt.FLOAT)throw Error("Левая часть выражения не возвращает FLOAT");const i=Ua(n,t.rhs);if(i.type!==bt.FLOAT)throw Error("Правая часть выражения не возвращает FLOAT");n.lines.push(`return ${i.text} - (${o.text});`),e.equations.push(n.lines);break}case"::=":{const n={...e,lines:[]},o=Ua(n,t.expr),i=e.vars.getOrCreateVar(!0,t.to,o.type);Dk(t.to,i.type,o.type),n.lines.push(`${i.text} = ${o.text};`),e.defers.push(n.lines);break}case"eqResult":{if(t.deferred)t.vars.forEach(n=>e.vars.makeInEquation(n));else{const n=t.vars.map(o=>e.vars.getFloatVar(o));e.lines.push(`${jC}.${qq}([${n}]);`)}break}case"function":{e.isFunction=!0;break}case"return":{e.vars.setAsReturn(t.to);break}default:throw Error(`Неизвестный оператор: "${t.type}"`)}}function t9(e,t,r){const n=e.vars.result(),{lines:o,bugs:i,equations:s,defers:a,isFunction:c}=e;if(o.length===0&&s.length===0&&a.length===0)return{bugs:i,vars:n,isFunction:c,mainText:"",equationsTexts:[],defersTexts:[]};const d=n.map((v,C)=>`const $${v.name.toLowerCase()} = ${Gq}[${C}];`).join(`
`),h=Wq+`
`+d+`
`,f=t?`//# sourceURL=_transpiled/${t}`:"",g=r?.split(`
`).map(v=>"// "+v).join(`
`)??"",m=o.length?g+h+o.join(`
`)+f:"",y=s.map((v,C)=>h+v.join(`
`)+(f&&`${f}_eq_${C}`)),b=a.map((v,C)=>h+v.join(`
`)+(f&&`${f}_defer_${C}`));return{bugs:i,vars:n,isFunction:c,mainText:m,equationsTexts:y,defersTexts:b}}function r9(e,{funcTable:t,sourceURL:r,comment:n}={}){const o={funcTable:t,vars:new Jq,b:new Uq,lines:[],defers:[],equations:[],isFunction:!1,bugs:[],tmpVarCount:0,whileGuardCount:0};e.forEach((s,a)=>{try{Ak(o,s);let c=s.then;for(;c;)Ak(o,c),c=c.then}catch(c){throw c instanceof Error?Error(`Строка ${a+1}: ${c.message}`):c}});const i=o.b.lastBlock();if(i)throw Error(`Строка ${e.length}: ожидалось ${i.expect}`);return t9(o,r,n)}const $C="'",zC='"';function n9(e){let t="",r=null;for(let n=0;n<e.length;++n){const o=e[n];if(o===$C&&r!==zC?r=r?null:$C:o===zC&&r!==$C&&(r=r?null:zC),r){t+=o;continue}if(o==="/"){const i=e[n+1];if(i==="*"){for(n+=2;n<e.length&&(e[n]!=="*"||e[n+1]!=="/");)++n;++n;continue}if(i==="/"){for(++n;n<e.length&&e[++n]!==`
`;);t[t.length-1]!==`
`&&(t+=`
`);continue}}if(o===";"||o===`
`){t[t.length-1]!==`
`&&(t+=`
`);continue}if(o==="\r"){e[n+1]===`
`&&++n,t[t.length-1]!==`
`&&(t+=`
`);continue}t+=o}return t[t.length-1]===`
`?t:t+`
`}function o9(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function Ep(e,t,r,n){this.message=e,this.expected=t,this.found=r,this.location=n,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ep)}o9(Ep,Error),Ep.buildMessage=function(e,t){var r={literal:function(d){return'"'+o(d.text)+'"'},class:function(d){var h="",f;for(f=0;f<d.parts.length;f++)h+=d.parts[f]instanceof Array?i(d.parts[f][0])+"-"+i(d.parts[f][1]):i(d.parts[f]);return"["+(d.inverted?"^":"")+h+"]"},any:function(d){return"any character"},end:function(d){return"end of input"},other:function(d){return d.description}};function n(d){return d.charCodeAt(0).toString(16).toUpperCase()}function o(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+n(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+n(h)})}function i(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+n(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+n(h)})}function s(d){return r[d.type](d)}function a(d){var h=new Array(d.length),f,g;for(f=0;f<d.length;f++)h[f]=s(d[f]);if(h.sort(),h.length>0){for(f=1,g=1;f<h.length;f++)h[f-1]!==h[f]&&(h[g]=h[f],g++);h.length=g}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function c(d){return d?'"'+o(d)+'"':"end of input"}return"Expected "+a(e)+" but "+c(t)+" found."};function i9(e,t){t=t!==void 0?t:{};var r={},n={Code:ah},o=ah,i=function(G){return G},s=function(G){return G.filter(ne=>ne)},a=wn("variable name"),c=function(G){return{type:"var",name:G}},d=",",h=Wt(",",!1),f=function(G){return G},g=wn("function call"),m="(",y=Wt("(",!1),b=")",v=Wt(")",!1),C=function(G,ne){return{type:"call",name:G,args:ne}},E="-",T=Wt("-",!1),R="!",M=Wt("!",!1),I=wn("!<operand> or -<operand>"),N=function(G,ne){return{type:G,op:ne}},P=wn("(<expression>)"),L=function(G){return{type:"subexpr",expr:G}},D=wn("operand"),$="~",B=Wt("~",!1),U=function(G,ne){return{...ne,isNew:!!G}},q="^",W=Wt("^",!1),V="*",Y=Wt("*",!1),Q="/",re=Wt("/",!1),z="%",K=Wt("%",!1),Z="+",le=Wt("+",!1),ce=">=",ue=Wt(">=",!1),ae=">",ye=Wt(">",!1),Me="<=",xe=Wt("<=",!1),he="<",pe=Wt("<",!1),Se="==",Ee=Wt("==",!1),ke="!=",Te=Wt("!=",!1),Ve="&&",nt=Wt("&&",!1),je="&",Rt=Wt("&",!1),dt="||",Ct=Wt("||",!1),$e="|",It=Wt("|",!1),mt=wn("expression"),Bt=function(G,ne,Ce){return{action:ne,operand:Ce}},zt=function(G,ne){return{first:G,rest:ne}},qt=function(G,ne){return ne},tr=function(G,ne){return[G].concat(ne)},gt=function(G,ne){return ne},_t=function(G,ne,Ce){return{type:"varsDec",datatype:G,modifiers:ne,names:Ce}},He=wn("assignment operator"),ct=":=",ut=Wt(":=",!1),St="::=",at=Wt("::=",!1),At=function(G,ne,Ce){return{type:ne,to:G,expr:Ce}},ft=wn("equality operator"),Pt="=",Ir=Wt("=",!1),Dr=function(G,ne,Ce){return{type:ne,lhs:G,rhs:Ce}},un=wn("immediately equation result"),xr=function(G,ne){return ne},Tn="?",qr=Wt("?",!1),Bn=function(G,ne){return{type:"eqResult",deferred:!1,vars:[G].concat(ne)}},Fn=wn("deferred equation result"),sr=function(G,ne){return{type:"eqResult",deferred:!0,vars:[G].concat(ne)}},Ar=wn("function call chain"),Lt=function(G,ne){return{type:"callChain",functions:[G].concat(ne)}},Ft=wn("( <expression> )"),nr=function(G){return G},rr=wn("if(<condition>)"),Or="if",uo=Wt("if",!0),Bo=function(G){return{type:"if",expr:G}},ri=wn("while(<condition>)"),Oi="while",Gn=Wt("while",!0),Dn=function(G){return{type:"while",expr:G}},gn=wn("until(<condition>)"),bo="until",Ri=Wt("until",!0),Mn=function(G){return{type:"until",expr:G}},or=wn("case(<condition>)"),Xe="case",Ze=Wt("case",!0),st=function(G,ne){return{type:"case",expr:G,then:ne}},Qt="else",cr=Wt("else",!0),mn=function(G){return{type:"else",then:G}},Yr="endif",Hn=Wt("endif",!0),Ii=function(G){return{type:"endif",then:G}},fs="break",ni=Wt("break",!0),ra=function(){return{type:"break"}},Pr="endwhile",On=Wt("endwhile",!0),oi=function(){return{type:"endwhile"}},Pi="do",Lf=Wt("do",!0),gu=function(){return{type:"do"}},gi="endswitch",Nf=Wt("endswitch",!0),zm=function(){return{type:"endswitch"}},Pa="switch",Yd=Wt("switch",!0),ic=function(){return{type:"switch"}},Bf="default",ii=Wt("default",!0),mu=function(G){return{type:"default",then:G}},Xd="function",Zd=Wt("function",!0),vl=function(){return{type:"function"}},Ff=wn("return <var name>"),jf="return",yl=Wt("return",!0),vn=function(G){return{type:"return",to:G}},Qd="handle",Jd=Wt("HANDLE",!0),wo=function(){return"HANDLE"},na="string",sc=Wt("STRING",!0),ac=function(){return"STRING"},ka="float",vu=Wt("FLOAT",!0),oa=function(){return"FLOAT"},bl="colorref",yu=Wt("COLORREF",!0),ia=function(){return"COLORREF"},eh="integer",mi=Wt("INTEGER",!0),vi=function(){return"INTEGER"},Da="local",yn=Wt("LOCAL",!0),ps=function(){return"LOCAL"},lc="nosave",cc=Wt("NOSAVE",!0),uc=function(){return"NOSAVE"},dc="parameter",Fo=Wt("PARAMETER",!0),Aa=function(){return"PARAMETER"},to=/^[_a-z\u0430-\u044F0-9]/i,si=Hi(["_",["a","z"],["а","я"],["0","9"]],!1,!0),hc=wn("function name"),gs=/^[0-9]/,wl=Hi([["0","9"]],!1,!1),bu=".",th=Wt(".",!1),fc=/^[eE]/,Sl=Hi(["e","E"],!1,!1),Vf=/^[+\-]/,$f=Hi(["+","-"],!1,!1),Um=wn("float"),zf=function(G){return{type:"float",value:G}},rh=wn("handle"),Gm="#",Cl=Wt("#",!1),wu=function(G){return{type:"handle",value:G.length>0?G:"0"}},nh="'",Su=Wt("'",!1),Xr=/^[^']/,oh=Hi(["'"],!0,!1),ih='"',sh=Wt('"',!1),ki=/^[^"]/,xl=Hi(['"'],!0,!1),Uf=function(G){return{type:"string",value:G[1]}},Gf=wn("space or tab"),ai=/^[ \t]/,ho=Hi([" ","	"],!1,!1),Cu=wn("new line"),Hf=`
`,Hm=Wt(`
`,!1),Wm=wn("whitespace"),bn=/^[ \t\n\r]/,xu=Hi([" ","	",`
`,"\r"],!1,!1),te=0,_o=[{line:1,column:1}],yi=0,_l=[],Le=0,El;if("startRule"in t){if(!(t.startRule in n))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=n[t.startRule]}function Wt(G,ne){return{type:"literal",text:G,ignoreCase:ne}}function Hi(G,ne,Ce){return{type:"class",parts:G,inverted:ne,ignoreCase:Ce}}function pc(){return{type:"end"}}function wn(G){return{type:"other",description:G}}function _u(G){var ne=_o[G],Ce;if(ne)return ne;for(Ce=G-1;!_o[Ce];)Ce--;for(ne=_o[Ce],ne={line:ne.line,column:ne.column};Ce<G;)e.charCodeAt(Ce)===10?(ne.line++,ne.column=1):ne.column++,Ce++;return _o[G]=ne,ne}function ms(G,ne){var Ce=_u(G),me=_u(ne);return{start:{offset:G,line:Ce.line,column:Ce.column},end:{offset:ne,line:me.line,column:me.column}}}function Qe(G){te<yi||(te>yi&&(yi=te,_l=[]),_l.push(G))}function Wf(G,ne,Ce){return new Ep(Ep.buildMessage(G,ne),G,ne,Ce)}function ah(){var G,ne,Ce,me,Fe,Ae,jt;for(G=te,ne=[],Ce=te,me=[],Fe=Et();Fe!==r;)me.push(Fe),Fe=Et();if(me!==r)if(Fe=qo(),Fe===r&&(Fe=null),Fe!==r){for(Ae=[],jt=Et();jt!==r;)Ae.push(jt),jt=Et();Ae!==r?(jt=Qm(),jt!==r?(me=i(Fe),Ce=me):(te=Ce,Ce=r)):(te=Ce,Ce=r)}else te=Ce,Ce=r;else te=Ce,Ce=r;for(;Ce!==r;){for(ne.push(Ce),Ce=te,me=[],Fe=Et();Fe!==r;)me.push(Fe),Fe=Et();if(me!==r)if(Fe=qo(),Fe===r&&(Fe=null),Fe!==r){for(Ae=[],jt=Et();jt!==r;)Ae.push(jt),jt=Et();Ae!==r?(jt=Qm(),jt!==r?(me=i(Fe),Ce=me):(te=Ce,Ce=r)):(te=Ce,Ce=r)}else te=Ce,Ce=r;else te=Ce,Ce=r}return ne!==r&&(ne=s(ne)),G=ne,G}function La(){var G,ne;return Le++,G=te,ne=bi(),ne!==r&&(ne=c(ne)),G=ne,Le--,G===r&&(ne=r,Le===0&&Qe(a)),G}function Na(){var G,ne,Ce,me,Fe;for(G=te,ne=[],Ce=Et();Ce!==r;)ne.push(Ce),Ce=Et();if(ne!==r)if(Ce=ys(),Ce!==r){for(me=[],Fe=Et();Fe!==r;)me.push(Fe),Fe=Et();me!==r?(e.charCodeAt(te)===44?(Fe=d,te++):(Fe=r,Le===0&&Qe(h)),Fe===r&&(Fe=null),Fe!==r?(ne=f(Ce),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r;return G}function vs(){var G,ne,Ce,me,Fe,Ae,jt,Jt;if(Le++,G=te,ne=yS(),ne!==r){for(Ce=[],me=Et();me!==r;)Ce.push(me),me=Et();if(Ce!==r)if(e.charCodeAt(te)===40?(me=m,te++):(me=r,Le===0&&Qe(y)),me!==r){for(Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();if(Fe!==r){for(Ae=[],jt=Na();jt!==r;)Ae.push(jt),jt=Na();if(Ae!==r){for(jt=[],Jt=Et();Jt!==r;)jt.push(Jt),Jt=Et();jt!==r?(e.charCodeAt(te)===41?(Jt=b,te++):(Jt=r,Le===0&&Qe(v)),Jt!==r?(ne=C(ne,Ae),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r}else te=G,G=r}else te=G,G=r;else te=G,G=r}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(g)),G}function Ba(){var G;return e.charCodeAt(te)===45?(G=E,te++):(G=r,Le===0&&Qe(T)),G===r&&(e.charCodeAt(te)===33?(G=R,te++):(G=r,Le===0&&Qe(M))),G}function Wi(){var G,ne,Ce,me;if(Le++,G=te,ne=Ba(),ne!==r){for(Ce=[],me=Et();me!==r;)Ce.push(me),me=Et();Ce!==r?(me=sa(),me!==r?(ne=N(ne,me),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(I)),G}function io(){var G,ne,Ce,me,Fe,Ae;if(Le++,G=te,e.charCodeAt(te)===40?(ne=m,te++):(ne=r,Le===0&&Qe(y)),ne!==r){for(Ce=[],me=Et();me!==r;)Ce.push(me),me=Et();if(Ce!==r)if(me=ys(),me!==r){for(Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();Fe!==r?(e.charCodeAt(te)===41?(Ae=b,te++):(Ae=r,Le===0&&Qe(v)),Ae!==r?(ne=L(me),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(P)),G}function sa(){var G,ne,Ce,me;if(Le++,G=te,e.charCodeAt(te)===126?(ne=$,te++):(ne=r,Le===0&&Qe(B)),ne===r&&(ne=null),ne!==r){for(Ce=[],me=Et();me!==r;)Ce.push(me),me=Et();Ce!==r?(me=Wi(),me===r&&(me=bS(),me===r&&(me=wS(),me===r&&(me=Zm(),me===r&&(me=vs(),me===r&&(me=La(),me===r&&(me=io())))))),me!==r?(ne=U(ne,me),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(D)),G}function lh(){var G;return e.charCodeAt(te)===94?(G=q,te++):(G=r,Le===0&&Qe(W)),G===r&&(e.charCodeAt(te)===42?(G=V,te++):(G=r,Le===0&&Qe(Y)),G===r&&(e.charCodeAt(te)===47?(G=Q,te++):(G=r,Le===0&&Qe(re)),G===r&&(e.charCodeAt(te)===37?(G=z,te++):(G=r,Le===0&&Qe(K)),G===r&&(e.charCodeAt(te)===43?(G=Z,te++):(G=r,Le===0&&Qe(le)),G===r&&(e.charCodeAt(te)===45?(G=E,te++):(G=r,Le===0&&Qe(T)),G===r&&(e.substr(te,2)===ce?(G=ce,te+=2):(G=r,Le===0&&Qe(ue)),G===r&&(e.charCodeAt(te)===62?(G=ae,te++):(G=r,Le===0&&Qe(ye)),G===r&&(e.substr(te,2)===Me?(G=Me,te+=2):(G=r,Le===0&&Qe(xe)),G===r&&(e.charCodeAt(te)===60?(G=he,te++):(G=r,Le===0&&Qe(pe)),G===r&&(e.substr(te,2)===Se?(G=Se,te+=2):(G=r,Le===0&&Qe(Ee)),G===r&&(e.substr(te,2)===ke?(G=ke,te+=2):(G=r,Le===0&&Qe(Te)),G===r&&(e.substr(te,2)===Ve?(G=Ve,te+=2):(G=r,Le===0&&Qe(nt)),G===r&&(e.charCodeAt(te)===38?(G=je,te++):(G=r,Le===0&&Qe(Rt)),G===r&&(e.substr(te,2)===dt?(G=dt,te+=2):(G=r,Le===0&&Qe(Ct)),G===r&&(e.charCodeAt(te)===124?(G=$e,te++):(G=r,Le===0&&Qe(It))))))))))))))))),G}function ys(){var G,ne,Ce,me,Fe,Ae,jt,Jt;if(Le++,G=te,ne=sa(),ne!==r){for(Ce=[],me=te,Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();if(Fe!==r)if(Ae=lh(),Ae!==r){for(jt=[],Jt=Et();Jt!==r;)jt.push(Jt),Jt=Et();jt!==r?(Jt=sa(),Jt!==r?(Fe=Bt(ne,Ae,Jt),me=Fe):(te=me,me=r)):(te=me,me=r)}else te=me,me=r;else te=me,me=r;for(;me!==r;){for(Ce.push(me),me=te,Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();if(Fe!==r)if(Ae=lh(),Ae!==r){for(jt=[],Jt=Et();Jt!==r;)jt.push(Jt),Jt=Et();jt!==r?(Jt=sa(),Jt!==r?(Fe=Bt(ne,Ae,Jt),me=Fe):(te=me,me=r)):(te=me,me=r)}else te=me,me=r;else te=me,me=r}Ce!==r?(ne=zt(ne,Ce),G=ne):(te=G,G=r)}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(mt)),G}function Tl(){var G,ne,Ce,me,Fe,Ae,jt,Jt;if(G=te,ne=bi(),ne!==r){for(Ce=[],me=te,Fe=hn(),Fe!==r?(e.charCodeAt(te)===44?(Ae=d,te++):(Ae=r,Le===0&&Qe(h)),Ae!==r?(jt=hn(),jt!==r?(Jt=bi(),Jt!==r?(Fe=qt(ne,Jt),me=Fe):(te=me,me=r)):(te=me,me=r)):(te=me,me=r)):(te=me,me=r);me!==r;)Ce.push(me),me=te,Fe=hn(),Fe!==r?(e.charCodeAt(te)===44?(Ae=d,te++):(Ae=r,Le===0&&Qe(h)),Ae!==r?(jt=hn(),jt!==r?(Jt=bi(),Jt!==r?(Fe=qt(ne,Jt),me=Fe):(te=me,me=r)):(te=me,me=r)):(te=me,me=r)):(te=me,me=r);Ce!==r?(ne=tr(ne,Ce),G=ne):(te=G,G=r)}else te=G,G=r;return G}function ch(){var G,ne,Ce,me,Fe,Ae,jt,Jt,To;if(G=te,ne=Eo(),ne!==r){if(Ce=[],me=Et(),me!==r)for(;me!==r;)Ce.push(me),me=Et();else Ce=r;if(Ce!==r)if(me=hn(),me!==r){if(Fe=[],Ae=te,jt=Ml(),jt!==r){if(Jt=[],To=Et(),To!==r)for(;To!==r;)Jt.push(To),To=Et();else Jt=r;Jt!==r?(jt=gt(ne,jt),Ae=jt):(te=Ae,Ae=r)}else te=Ae,Ae=r;for(;Ae!==r;)if(Fe.push(Ae),Ae=te,jt=Ml(),jt!==r){if(Jt=[],To=Et(),To!==r)for(;To!==r;)Jt.push(To),To=Et();else Jt=r;Jt!==r?(jt=gt(ne,jt),Ae=jt):(te=Ae,Ae=r)}else te=Ae,Ae=r;Fe!==r?(Ae=Tl(),Ae!==r?(ne=_t(ne,Fe,Ae),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r}else te=G,G=r;return G}function uh(){var G,ne,Ce,me,Fe,Ae;if(Le++,G=te,ne=bi(),ne!==r)if(Ce=hn(),Ce!==r)if(e.substr(te,2)===ct?(me=ct,te+=2):(me=r,Le===0&&Qe(ut)),me===r&&(e.substr(te,3)===St?(me=St,te+=3):(me=r,Le===0&&Qe(at))),me!==r){for(Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();Fe!==r?(Ae=ys(),Ae!==r?(ne=At(ne,me,Ae),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r;else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(He)),G}function Kf(){var G,ne,Ce,me,Fe,Ae;if(Le++,G=te,ne=ys(),ne!==r)if(Ce=hn(),Ce!==r)if(e.charCodeAt(te)===61?(me=Pt,te++):(me=r,Le===0&&Qe(Ir)),me!==r){for(Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();Fe!==r?(Ae=ys(),Ae!==r?(ne=Dr(ne,me,Ae),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r;else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(ft)),G}function qf(){var G,ne,Ce,me,Fe,Ae,jt,Jt;if(Le++,G=te,ne=bi(),ne!==r){for(Ce=[],me=te,Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();if(Fe!==r)if(e.charCodeAt(te)===44?(Ae=d,te++):(Ae=r,Le===0&&Qe(h)),Ae!==r){for(jt=[],Jt=Et();Jt!==r;)jt.push(Jt),Jt=Et();jt!==r?(Jt=bi(),Jt!==r?(Fe=xr(ne,Jt),me=Fe):(te=me,me=r)):(te=me,me=r)}else te=me,me=r;else te=me,me=r;for(;me!==r;){for(Ce.push(me),me=te,Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();if(Fe!==r)if(e.charCodeAt(te)===44?(Ae=d,te++):(Ae=r,Le===0&&Qe(h)),Ae!==r){for(jt=[],Jt=Et();Jt!==r;)jt.push(Jt),Jt=Et();jt!==r?(Jt=bi(),Jt!==r?(Fe=xr(ne,Jt),me=Fe):(te=me,me=r)):(te=me,me=r)}else te=me,me=r;else te=me,me=r}if(Ce!==r){for(me=[],Fe=Et();Fe!==r;)me.push(Fe),Fe=Et();if(me!==r)if(e.charCodeAt(te)===61?(Fe=Pt,te++):(Fe=r,Le===0&&Qe(Ir)),Fe!==r){for(Ae=[],jt=Et();jt!==r;)Ae.push(jt),jt=Et();Ae!==r?(e.charCodeAt(te)===63?(jt=Tn,te++):(jt=r,Le===0&&Qe(qr)),jt!==r?(ne=Bn(ne,Ce),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r}else te=G,G=r}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(un)),G}function Km(){var G,ne,Ce,me,Fe,Ae,jt,Jt,To,bs;if(Le++,G=te,e.charCodeAt(te)===63?(ne=Tn,te++):(ne=r,Le===0&&Qe(qr)),ne!==r)if(Ce=hn(),Ce!==r)if(me=bi(),me!==r){for(Fe=[],Ae=te,jt=hn(),jt!==r?(e.charCodeAt(te)===44?(Jt=d,te++):(Jt=r,Le===0&&Qe(h)),Jt!==r?(To=hn(),To!==r?(bs=bi(),bs!==r?(jt=xr(me,bs),Ae=jt):(te=Ae,Ae=r)):(te=Ae,Ae=r)):(te=Ae,Ae=r)):(te=Ae,Ae=r);Ae!==r;)Fe.push(Ae),Ae=te,jt=hn(),jt!==r?(e.charCodeAt(te)===44?(Jt=d,te++):(Jt=r,Le===0&&Qe(h)),Jt!==r?(To=hn(),To!==r?(bs=bi(),bs!==r?(jt=xr(me,bs),Ae=jt):(te=Ae,Ae=r)):(te=Ae,Ae=r)):(te=Ae,Ae=r)):(te=Ae,Ae=r);Fe!==r?(ne=sr(me,Fe),G=ne):(te=G,G=r)}else te=G,G=r;else te=G,G=r;else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(Fn)),G}function qm(){var G,ne,Ce,me,Fe,Ae;if(Le++,G=te,ne=vs(),ne!==r){if(Ce=[],me=te,Fe=[],Ae=Et(),Ae!==r)for(;Ae!==r;)Fe.push(Ae),Ae=Et();else Fe=r;for(Fe!==r?(Ae=vs(),Ae!==r?(Fe=xr(ne,Ae),me=Fe):(te=me,me=r)):(te=me,me=r);me!==r;){if(Ce.push(me),me=te,Fe=[],Ae=Et(),Ae!==r)for(;Ae!==r;)Fe.push(Ae),Ae=Et();else Fe=r;Fe!==r?(Ae=vs(),Ae!==r?(Fe=xr(ne,Ae),me=Fe):(te=me,me=r)):(te=me,me=r)}Ce!==r?(ne=Lt(ne,Ce),G=ne):(te=G,G=r)}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(Ar)),G}function Yf(){var G,ne,Ce,me,Fe,Ae;if(Le++,G=te,e.charCodeAt(te)===40?(ne=m,te++):(ne=r,Le===0&&Qe(y)),ne!==r){for(Ce=[],me=Et();me!==r;)Ce.push(me),me=Et();if(Ce!==r)if(me=ys(),me!==r){for(Fe=[],Ae=Et();Ae!==r;)Fe.push(Ae),Ae=Et();Fe!==r?(e.charCodeAt(te)===41?(Ae=b,te++):(Ae=r,Le===0&&Qe(v)),Ae!==r?(ne=nr(me),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(Ft)),G}function Ym(){var G,ne,Ce,me,Fe;for(Le++,G=te,ne=[],Ce=Et();Ce!==r;)ne.push(Ce),Ce=Et();if(ne!==r)if(Ce=ys(),Ce!==r){for(me=[],Fe=Et();Fe!==r;)me.push(Fe),Fe=Et();me!==r?(e.charCodeAt(te)===41?(Fe=b,te++):(Fe=r,Le===0&&Qe(v)),Fe!==r?(ne=nr(Ce),G=ne):(te=G,G=r)):(te=G,G=r)}else te=G,G=r;else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(Ft)),G}function S(){var G;return G=Yf(),G===r&&(G=Ym()),G}function F(){var G,ne,Ce;if(G=te,ne=[],Ce=Et(),Ce!==r)for(;Ce!==r;)ne.push(Ce),Ce=Et();else ne=r;return ne!==r?(Ce=qo(),Ce!==r?(ne=f(Ce),G=ne):(te=G,G=r)):(te=G,G=r),G}function X(){var G,ne,Ce,me;return Le++,G=te,e.substr(te,2).toLowerCase()===Or?(ne=e.substr(te,2),te+=2):(ne=r,Le===0&&Qe(uo)),ne!==r?(Ce=hn(),Ce!==r?(me=S(),me!==r?(ne=Bo(me),G=ne):(te=G,G=r)):(te=G,G=r)):(te=G,G=r),Le--,G===r&&(ne=r,Le===0&&Qe(rr)),G}function ee(){var G,ne,Ce,me;return Le++,G=te,e.substr(te,5).toLowerCase()===Oi?(ne=e.substr(te,5),te+=5):(ne=r,Le===0&&Qe(Gn)),ne!==r?(Ce=hn(),Ce!==r?(me=S(),me!==r?(ne=Dn(me),G=ne):(te=G,G=r)):(te=G,G=r)):(te=G,G=r),Le--,G===r&&(ne=r,Le===0&&Qe(ri)),G}function oe(){var G,ne,Ce,me;return Le++,G=te,e.substr(te,5).toLowerCase()===bo?(ne=e.substr(te,5),te+=5):(ne=r,Le===0&&Qe(Ri)),ne!==r?(Ce=hn(),Ce!==r?(me=S(),me!==r?(ne=Mn(me),G=ne):(te=G,G=r)):(te=G,G=r)):(te=G,G=r),Le--,G===r&&(ne=r,Le===0&&Qe(gn)),G}function de(){var G,ne,Ce,me,Fe;return Le++,G=te,e.substr(te,4).toLowerCase()===Xe?(ne=e.substr(te,4),te+=4):(ne=r,Le===0&&Qe(Ze)),ne!==r?(Ce=hn(),Ce!==r?(me=S(),me!==r?(Fe=F(),Fe===r&&(Fe=null),Fe!==r?(ne=st(me,Fe),G=ne):(te=G,G=r)):(te=G,G=r)):(te=G,G=r)):(te=G,G=r),Le--,G===r&&(ne=r,Le===0&&Qe(or)),G}function ge(){var G,ne,Ce;return G=te,e.substr(te,4).toLowerCase()===Qt?(ne=e.substr(te,4),te+=4):(ne=r,Le===0&&Qe(cr)),ne!==r?(Ce=F(),Ce===r&&(Ce=null),Ce!==r?(ne=mn(Ce),G=ne):(te=G,G=r)):(te=G,G=r),G}function Re(){var G,ne,Ce;return G=te,e.substr(te,5).toLowerCase()===Yr?(ne=e.substr(te,5),te+=5):(ne=r,Le===0&&Qe(Hn)),ne!==r?(Ce=F(),Ce===r&&(Ce=null),Ce!==r?(ne=Ii(Ce),G=ne):(te=G,G=r)):(te=G,G=r),G}function Ue(){var G,ne;return G=te,e.substr(te,5).toLowerCase()===fs?(ne=e.substr(te,5),te+=5):(ne=r,Le===0&&Qe(ni)),ne!==r&&(ne=ra()),G=ne,G}function qe(){var G,ne;return G=te,e.substr(te,8).toLowerCase()===Pr?(ne=e.substr(te,8),te+=8):(ne=r,Le===0&&Qe(On)),ne!==r&&(ne=oi()),G=ne,G}function ot(){var G,ne;return G=te,e.substr(te,2).toLowerCase()===Pi?(ne=e.substr(te,2),te+=2):(ne=r,Le===0&&Qe(Lf)),ne!==r&&(ne=gu()),G=ne,G}function kt(){var G,ne;return G=te,e.substr(te,9).toLowerCase()===gi?(ne=e.substr(te,9),te+=9):(ne=r,Le===0&&Qe(Nf)),ne!==r&&(ne=zm()),G=ne,G}function Ut(){var G,ne;return G=te,e.substr(te,6).toLowerCase()===Pa?(ne=e.substr(te,6),te+=6):(ne=r,Le===0&&Qe(Yd)),ne!==r&&(ne=ic()),G=ne,G}function ur(){var G,ne,Ce;return G=te,e.substr(te,7).toLowerCase()===Bf?(ne=e.substr(te,7),te+=7):(ne=r,Le===0&&Qe(ii)),ne!==r?(Ce=F(),Ce===r&&(Ce=null),Ce!==r?(ne=mu(Ce),G=ne):(te=G,G=r)):(te=G,G=r),G}function mr(){var G,ne;return G=te,e.substr(te,8).toLowerCase()===Xd?(ne=e.substr(te,8),te+=8):(ne=r,Le===0&&Qe(Zd)),ne!==r&&(ne=vl()),G=ne,G}function dn(){var G,ne,Ce,me;return Le++,G=te,e.substr(te,6).toLowerCase()===jf?(ne=e.substr(te,6),te+=6):(ne=r,Le===0&&Qe(yl)),ne!==r?(Ce=hn(),Ce!==r?(me=bi(),me!==r?(ne=vn(me),G=ne):(te=G,G=r)):(te=G,G=r)):(te=G,G=r),Le--,G===r&&(ne=r,Le===0&&Qe(Ff)),G}function qo(){var G;return G=ch(),G===r&&(G=uh(),G===r&&(G=Kf(),G===r&&(G=qf(),G===r&&(G=Km(),G===r&&(G=X(),G===r&&(G=ge(),G===r&&(G=Re(),G===r&&(G=Ue(),G===r&&(G=ee(),G===r&&(G=qe(),G===r&&(G=ot(),G===r&&(G=oe(),G===r&&(G=kt(),G===r&&(G=Ut(),G===r&&(G=de(),G===r&&(G=ur(),G===r&&(G=qm(),G===r&&(G=mr(),G===r&&(G=dn()))))))))))))))))))),G}function Eo(){var G,ne;return G=te,e.substr(te,6).toLowerCase()===Qd?(ne=e.substr(te,6),te+=6):(ne=r,Le===0&&Qe(Jd)),ne!==r&&(ne=wo()),G=ne,G===r&&(G=te,e.substr(te,6).toLowerCase()===na?(ne=e.substr(te,6),te+=6):(ne=r,Le===0&&Qe(sc)),ne!==r&&(ne=ac()),G=ne,G===r&&(G=te,e.substr(te,5).toLowerCase()===ka?(ne=e.substr(te,5),te+=5):(ne=r,Le===0&&Qe(vu)),ne!==r&&(ne=oa()),G=ne,G===r&&(G=te,e.substr(te,8).toLowerCase()===bl?(ne=e.substr(te,8),te+=8):(ne=r,Le===0&&Qe(yu)),ne!==r&&(ne=ia()),G=ne,G===r&&(G=te,e.substr(te,7).toLowerCase()===eh?(ne=e.substr(te,7),te+=7):(ne=r,Le===0&&Qe(mi)),ne!==r&&(ne=vi()),G=ne)))),G}function Ml(){var G,ne;return G=te,e.substr(te,5).toLowerCase()===Da?(ne=e.substr(te,5),te+=5):(ne=r,Le===0&&Qe(yn)),ne!==r&&(ne=ps()),G=ne,G===r&&(G=te,e.substr(te,6).toLowerCase()===lc?(ne=e.substr(te,6),te+=6):(ne=r,Le===0&&Qe(cc)),ne!==r&&(ne=uc()),G=ne,G===r&&(G=te,e.substr(te,9).toLowerCase()===dc?(ne=e.substr(te,9),te+=9):(ne=r,Le===0&&Qe(Fo)),ne!==r&&(ne=Aa()),G=ne)),G}function bi(){var G,ne,Ce;if(Le++,G=te,ne=[],to.test(e.charAt(te))?(Ce=e.charAt(te),te++):(Ce=r,Le===0&&Qe(si)),Ce!==r)for(;Ce!==r;)ne.push(Ce),to.test(e.charAt(te))?(Ce=e.charAt(te),te++):(Ce=r,Le===0&&Qe(si));else ne=r;return ne!==r?G=e.substring(G,te):G=ne,Le--,G===r&&(ne=r,Le===0&&Qe(a)),G}function yS(){var G;return Le++,G=bi(),Le--,G===r&&Le===0&&Qe(hc),G}function Xm(){var G,ne;if(G=[],gs.test(e.charAt(te))?(ne=e.charAt(te),te++):(ne=r,Le===0&&Qe(wl)),ne!==r)for(;ne!==r;)G.push(ne),gs.test(e.charAt(te))?(ne=e.charAt(te),te++):(ne=r,Le===0&&Qe(wl));else G=r;return G}function dI(){var G,ne,Ce;return G=te,e.charCodeAt(te)===46?(ne=bu,te++):(ne=r,Le===0&&Qe(th)),ne!==r?(Ce=Xm(),Ce!==r?(ne=[ne,Ce],G=ne):(te=G,G=r)):(te=G,G=r),G}function hI(){var G,ne,Ce,me;return G=te,fc.test(e.charAt(te))?(ne=e.charAt(te),te++):(ne=r,Le===0&&Qe(Sl)),ne!==r?(Vf.test(e.charAt(te))?(Ce=e.charAt(te),te++):(Ce=r,Le===0&&Qe($f)),Ce===r&&(Ce=null),Ce!==r?(me=Xm(),me!==r?(ne=[ne,Ce,me],G=ne):(te=G,G=r)):(te=G,G=r)):(te=G,G=r),G}function bS(){var G,ne,Ce,me,Fe,Ae;return Le++,G=te,ne=te,Ce=te,me=Xm(),me!==r?(Fe=dI(),Fe===r&&(Fe=null),Fe!==r?(Ae=hI(),Ae===r&&(Ae=null),Ae!==r?(me=[me,Fe,Ae],Ce=me):(te=Ce,Ce=r)):(te=Ce,Ce=r)):(te=Ce,Ce=r),Ce!==r?ne=e.substring(ne,te):ne=Ce,ne!==r&&(ne=zf(ne)),G=ne,Le--,G===r&&(ne=r,Le===0&&Qe(Um)),G}function wS(){var G,ne,Ce,me,Fe;if(Le++,G=te,e.charCodeAt(te)===35?(ne=Gm,te++):(ne=r,Le===0&&Qe(Cl)),ne!==r){for(Ce=te,me=[],gs.test(e.charAt(te))?(Fe=e.charAt(te),te++):(Fe=r,Le===0&&Qe(wl));Fe!==r;)me.push(Fe),gs.test(e.charAt(te))?(Fe=e.charAt(te),te++):(Fe=r,Le===0&&Qe(wl));me!==r?Ce=e.substring(Ce,te):Ce=me,Ce!==r?(ne=wu(Ce),G=ne):(te=G,G=r)}else te=G,G=r;return Le--,G===r&&(ne=r,Le===0&&Qe(rh)),G}function Zm(){var G,ne,Ce,me,Fe,Ae;if(G=te,ne=te,e.charCodeAt(te)===39?(Ce=nh,te++):(Ce=r,Le===0&&Qe(Su)),Ce!==r){for(me=te,Fe=[],Xr.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=r,Le===0&&Qe(oh));Ae!==r;)Fe.push(Ae),Xr.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=r,Le===0&&Qe(oh));Fe!==r?me=e.substring(me,te):me=Fe,me!==r?(e.charCodeAt(te)===39?(Fe=nh,te++):(Fe=r,Le===0&&Qe(Su)),Fe!==r?(Ce=[Ce,me,Fe],ne=Ce):(te=ne,ne=r)):(te=ne,ne=r)}else te=ne,ne=r;if(ne===r)if(ne=te,e.charCodeAt(te)===34?(Ce=ih,te++):(Ce=r,Le===0&&Qe(sh)),Ce!==r){for(me=te,Fe=[],ki.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=r,Le===0&&Qe(xl));Ae!==r;)Fe.push(Ae),ki.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=r,Le===0&&Qe(xl));Fe!==r?me=e.substring(me,te):me=Fe,me!==r?(e.charCodeAt(te)===34?(Fe=ih,te++):(Fe=r,Le===0&&Qe(sh)),Fe!==r?(Ce=[Ce,me,Fe],ne=Ce):(te=ne,ne=r)):(te=ne,ne=r)}else te=ne,ne=r;return ne!==r&&(ne=Uf(ne)),G=ne,G}function Et(){var G;return Le++,ai.test(e.charAt(te))?(G=e.charAt(te),te++):(G=r,Le===0&&Qe(ho)),Le--,G===r&&Le===0&&Qe(Gf),G}function Qm(){var G;return Le++,e.charCodeAt(te)===10?(G=Hf,te++):(G=r,Le===0&&Qe(Hm)),Le--,G===r&&Le===0&&Qe(Cu),G}function hn(){var G,ne;for(Le++,G=[],bn.test(e.charAt(te))?(ne=e.charAt(te),te++):(ne=r,Le===0&&Qe(xu));ne!==r;)G.push(ne),bn.test(e.charAt(te))?(ne=e.charAt(te),te++):(ne=r,Le===0&&Qe(xu));return Le--,G===r&&(ne=r,Le===0&&Qe(Wm)),G}if(El=o(),El!==r&&te===e.length)return El;throw El!==r&&te<e.length&&Qe(pc()),Wf(_l,yi<e.length?e.charAt(yi):null,yi<e.length?ms(yi,yi+1):ms(yi,yi))}const s9=i9;class Zv extends Error{constructor(t){super(t.join(`
`)),this.errors=t}format(t=`
`){return this.errors.join(t)}}function a9(e,t){let r;try{r=s9(e)}catch(n){if(!(n instanceof Error))throw n;const o=n.location.start,i=`Строка ${o.line} столбец ${o.column}: ${n.message}`;throw new Zv([i])}try{return r9(r,t)}catch(n){throw n instanceof Error?new Zv([n.message]):n}}function l9(e,t){let r;try{r=n9(e)}catch(n){throw n instanceof Error?new Zv([n.message]):n}return a9(r,t)}function UC(e){return new Function("g","schema","memory",e)}const c9={[bt.FLOAT]:"F",[bt.STRING]:"S",[bt.HANDLE]:"H",[bt.COLORREF]:"C",[Nl.FLOAT_REF]:"G",[Nl.STRING_REF]:"T",[Nl.HANDLE_REF]:"I",[Nl.COLORREF_REF]:"D"};function u9(e){return e.map(t=>c9[t]).join("")}const GC=[];class Lk{constructor(){this.m=new Map}addFunc(t,r){const n=r.a||GC,o=r.rest||GC,i=n.concat(o),s=t.toUpperCase();let a=this.m.get(s);if(!a)this.m.set(s,a=[]);else{const d=$a-1;if(a.some(h=>{const f=h.argTypes.concat(h.type==="plugin"?h.restArgsTypes:GC);return f.length===i.length&&f.every((g,m)=>(g&d)===(i[m]&d))}))throw Error(`Функция '${t}' с аргументами '${n}' уже существует`)}const c="$"+t+(n.length?"$"+u9(i):"");return a.push({type:"plugin",path:c,argTypes:n,restArgsTypes:o,retType:r.r||null}),c}addUserFunc(t){const r=t.name.toUpperCase(),n=this.m.get(r);if(!n)return this.m.set(r,[t]),!0;const o=$a-1;return n.some(i=>i.argTypes.length===t.argTypes.length&&i.argTypes.every((s,a)=>(s&o)===t.argTypes[a]))?!1:(n.push(t),!0)}compile(t,r,n){return l9(t,{funcTable:this.m,sourceURL:r,comment:n})}}const k=bt.FLOAT,fe=bt.STRING,A=bt.HANDLE,fr=bt.COLORREF,Ye=Nl.FLOAT_REF,$o=Nl.STRING_REF,d9=Nl.HANDLE_REF;Nl.COLORREF_REF;const h9=.752812499999996,f9=1.3283520132835271,p9=Date.now(),Xu=new Date(314159265358),Nk=13.204656862745098;function HC(e,t){const r=e.toUpperCase(),n=r.includes("WS_CHILD"),o=r.includes("WS_BYSPACE"),i=r.includes("WS_POPUP"),s=r.includes("WS_NORESIZE"),a=r.includes("WS_AUTOORG"),c=r.includes("WS_SPACESIZE"),d=r.includes("WS_DIALOG"),h=r.includes("WS_NOCAPTION"),f=r.includes("WS_VSCROLL"),g=r.includes("WS_HSCROLL"),m=o?{...t}:{};return n&&(m.child=!0),g&&(m.hscroll=!0),f&&(m.vscroll=!0),c&&(m.size={type:"content"}),s&&(m.fixed=!0),i&&(m.popup=!0),a&&(m.autoorg=!0),d&&!h&&(m.showCloseButton=!0),m}function Bk(e){const t=e.file()?.base64;return t?jv(bC(t)):""}class g9{constructor(t,r){this.key=t,this.fields=r??[]}insert(t){if(t==="FLOAT")return this.fields.push({type:t,value:0}),1;if(t==="HANDLE")return this.fields.push({type:t,value:0}),1;if(t==="STRING")return this.fields.push({type:t,value:""}),1;throw Error(`Неизвестный тип элемента: ${t}`)}insertClass(t,r){const n=r.map(o=>{const i=o[0].toUpperCase();switch(o[1]){case bt.FLOAT:return[i,{type:"FLOAT",value:0}];case bt.STRING:return[i,{type:"STRING",value:""}];default:return[i,{type:"HANDLE",value:0}]}});return this.fields.push({type:"STRUCT",realType:t,value:new Map(n)}),1}set(t,r,n){if(t<0||t>this.fields.length-1)return;let o=this.fields[t];if(o.type==="STRUCT"){const i=o.value.get(r.toUpperCase());if(!i)return;o=i}if(typeof n=="string"){if(o.type!=="STRING")return;o.value=n}else{if(o.type==="STRING")return;o.value=n}}remove(t){return this.fields.splice(t,1).length?1:0}count(){return this.fields.length}type(t){if(t<0||t>this.fields.length-1)return"";const r=this.fields[t];return r.type==="STRUCT"?r.realType:r.type}getFloat(t,r){if(t<0||t>this.fields.length-1)return 0;let n=this.fields[t];if(n.type==="STRUCT"){const o=n.value.get(r.toUpperCase());if(!o)return 0;n=o}return n.type==="FLOAT"?n.value:0}getHandle(t,r){if(t<0||t>this.fields.length-1)return 0;let n=this.fields[t];if(n.type==="STRUCT"){const o=n.value.get(r.toUpperCase());if(!o)return 0;n=o}return n.type==="HANDLE"?n.value:0}getString(t,r){if(t<0||t>this.fields.length-1)return"";let n=this.fields[t];if(n.type==="STRUCT"){const o=n.value.get(r.toUpperCase());if(!o)return"";n=o}return n.type==="STRING"?n.value:""}sort(t){if(!t?.length)return this.fields.sort((r,n)=>r.value-n.value),1;if(t.length===1)return t[0].desc?this.fields.sort((r,n)=>n.value-r.value):this.fields.sort((r,n)=>r.value-n.value),1;throw console.log(t),Error("VSort: сортировка по нескольким полям не реализована")}}function m9(e,t){const r=Xi.freeKey(e),n=new g9(r,t);return e.set(r,n),n}function v9(){return this.kernel.createArray().key}function y9(e){this.kernel.arrays.delete(e)}function b9(e){return this.kernel.arrays.get(e)?.count()??0}function w9(e,t){return this.kernel.arrays.get(e)?.type(t)??""}function S9(e,t){const r=this.kernel.arrays.get(e);if(!r)return 0;const n=t.toUpperCase();if(n==="STRING"||n==="FLOAT"||n==="HANDLE")return r.insert(n);const o=this.kernel.classes.get(t);if(!o)return 0;const i=o.vars.list.map(s=>[s.name,s.type]);return r.insertClass(o.name,i)}function C9(e,t){return this.kernel.arrays.get(e)?.remove(t)??0}function x9(){return this.kernel.arrays.clear(),1}function _9(e,t,r){return this.kernel.arrays.get(e)?.getString(Math.floor(t),r)??""}function E9(e,t,r){return this.kernel.arrays.get(e)?.getHandle(Math.floor(t),r)??0}function T9(e,t,r){return this.kernel.arrays.get(e)?.getFloat(Math.floor(t),r)??0}function WC(e,t,r,n){this.kernel.arrays.get(e)?.set(t,r,n)}function M9(e,...t){const r=this.kernel.arrays.get(e);return r?r.sort(t.map(n=>({desc:!1,field:n}))):0}function O9(e,t,...r){const n=this.kernel.arrays.get(e);if(!n)return 0;const o=!!t;return n.sort(r.map(i=>({desc:o,field:i})))}function R9(e,...t){const r=this.kernel.arrays.get(e);if(!r)return 0;const n=[];for(let o=0;o<t.length;o+=2){const i=t[o],s=!!t[o+1];n.push({desc:s,field:i})}return r.sort(n)}function I9(e){e("New",{r:A},v9),e("Delete",{a:[A]},y9),e("VGetCount",{a:[A],r:k},b9),e("VGetType",{a:[A,k],r:fe},w9),e("VInsert",{a:[A,fe],r:k},S9),e("VDelete",{a:[A,k],r:k},C9),e("VClearAll",{},x9),e("VGetS",{a:[A,k,fe],r:fe},_9),e("VGetH",{a:[A,k,fe],r:A},E9),e("VGetF",{a:[A,k,fe],r:k},T9),e("VSet",{a:[A,k,fe,k]},WC),e("VSet",{a:[A,k,fe,fe]},WC),e("VSet",{a:[A,k,fe,A]},WC),e("VSort",{a:[A],rest:[fe],r:k},M9),e("VSort",{a:[A,k],rest:[fe],r:k},O9),e("VSort",{a:[A],rest:[fe,k],r:k},R9)}const P9={name:"arrays",register:I9,setup(e){const t=new Map;e.arrays=t,e.createArray=m9.bind(null,t)}},Fk=new Set;function Qi(...e){Fk.size!==Fk.add(e[0]).size&&console.warn(...e)}function k9(e){throw Qi("AudioGetBalance",e),Error("Not implemented")}function D9(e){throw Qi("AudioGetLength",e),Error("Not implemented")}function A9(e){throw Qi("AudioGetPosition",e),Error("Not implemented")}function L9(e){throw Qi("AudioGetRepeat",e),Error("Not implemented")}function N9(e){throw Qi("AudioGetTone",e),Error("Not implemented")}function B9(e){throw Qi("AudioGetVolume",e),Error("Not implemented")}function F9(e){const t=this.kernel.audios.get(e);return t&&!t.paused?1:0}function j9(e){throw Qi("AudioIsSeekable",e),Error("Not implemented")}function V9(e){const t=this.prj.dir.resolve(e).file()?.audio;if(!t)return 0;const r=new Audio(Zi(t.src)),n=Xi.freeKey(this.kernel.audios);return this.kernel.audios.set(n,r),n}function $9(e){this.kernel.audios.get(e)?.play()}function z9(e){Qi("AudioReset",e)}function U9(e,t){Qi("AudioSetBalance",e,t)}function G9(e,t){Qi("AudioSetPosition",e,t)}function H9(e,t){Qi("AudioSetRepeat",e,t)}function W9(e,t){Qi("AudioSetTone",e,t)}function K9(e,t){Qi("AudioSetVolume",e,t)}function q9(e){this.kernel.audios.get(e)?.pause()}function Y9(e){e("AudioGetBalance",{a:[A],r:k},k9),e("AudioGetLength",{a:[A],r:k},D9),e("AudioGetPosition",{a:[A],r:k},A9),e("AudioGetRepeat",{a:[A],r:k},L9),e("AudioGetTone",{a:[A],r:k},N9),e("AudioGetVolume",{a:[A],r:k},B9),e("AudioIsPlaying",{a:[A],r:k},F9),e("AudioIsSeekable",{a:[A],r:k},j9),e("AudioOpenSound",{a:[fe],r:A},V9),e("AudioPlay",{a:[A]},$9),e("AudioReset",{a:[A]},z9),e("AudioSetBalance",{a:[A,k]},U9),e("AudioSetPosition",{a:[A,k]},G9),e("AudioSetRepeat",{a:[A,k]},H9),e("AudioSetTone",{a:[A,k]},W9),e("AudioSetVolume",{a:[A,k]},K9),e("AudioStop",{a:[A]},q9)}const X9={name:"audio",register:Y9,setup(e){e.audios=new Map}};function Z9(e){return this.resolve(e)?.klass.name??""}function jk(...e){throw console.warn("createLink",...e),Error("Not implemented")}function Q9(...e){throw console.warn("createObject",...e),Error("Not implemented")}function J9(){throw Error("Not implemented")}function e8(...e){throw console.warn("setLinkVars",...e),Error("Not implemented")}function t8(e){return this.kernel.classes.get(e)?.children.length??0}function r8(){return this.ndata?.key??0}function n8(e){return this.resolve(e)?.ndata?.key??0}function o8(e,t){if(t<0)return 0;const r=this.kernel.classes.get(e)?.children;return r&&t<r.length?r[t].key:0}function i8(e,t){return this.kernel.classes.get(e)?.children.find(r=>r.key===t)?.klass??""}function s8(e,t,r){return this.kernel.classes.get(e)?.connections.find(({nodes:[n,o]})=>n===t&&o===r||n===r&&o===t)?.key??0}function a8(e,t){const r=this.kernel.classes.get(e)?.modelText;if(!r)return 0;const n=this.kernel.streams.get(t);if(!n)return 0;const o=wC(r);return n.write(o),o.length}function Vk(e,t){const r=this.kernel.classes.get(e);if(!r)return 0;const n=this.kernel.streams.get(t)?.buffer();if(!n)return 0;const o=jv(new Uint8Array(n)),i=r.modelText;r.set({modelText:o});try{r.compile()}catch(s){if(!(s instanceof Error))throw s;return console.warn(s.message),r.set({modelText:i}),0}return 1}function l8(e,t){const r=this.resolve(e);if(!r)return"";const n=r.klass.vars.get(t);return n?r.getVarValueS(n)??"":""}function KC(e,t){const r=this.resolve(e);if(!r)return 0;const n=r.klass.vars.get(t);return n?r.getVarValueFHC(n)??0:0}function Qv(e,t,r){const n=this.resolve(e);if(!n)return;const o=n.klass.vars.get(t);o&&n.setVarValue(o,r)}function $k(e,t,r,n,o,i,s,a,c,d,h,f){const g=this.kernel.classes.get(e)?.vars.list;if(t<0||!g||t>=g.length)return r[n]="",o[i]="",s[a]="",c[d]="",h&&(h[f]=0),0;const m=g[t];return r[n]=m.name,o[i]=bt[m.type],s[a]=m.defaultValue??"",c[d]=m.description??"",h&&(h[f]=m.attrib),1}function c8(e){return this.kernel.classes.get(e)?.vars.list.length??0}function u8(e,t,r){const n=this.kernel.classes.get(e);if(!n)return 0;const o=n.children.findIndex(s=>s.key===t);if(o<0)return 0;const i=n.children.slice();return i[o]={...i[o],name:r},n.set({children:i}),1}function d8(e,t){return this.kernel.classes.get(e)?.children.find(r=>r.key===t)?.name??""}function h8(e,t){const r=this.resolve(e);if(!r)return 0;const n=this.prj.dir.resolve(t).file();if(!n)return 0;const o=r.getValues();return n.set({stt:o}),1}function f8(e,t){const r=this.resolve(e);if(!r)return 0;const n=this.prj.dir.resolve(t).file()?.stt;return n?(r.applyValues(n),1):0}function p8(e){return this.resolve(e)?.initValues(!0)?1:0}function g8(){this.kernel._functionNotImplemented("Stop",this)}function m8(e){e<=0||this.kernel.setProjects([])}function v8(){this.kernel.setProjects(ik(this.kernel.projects,this.prj))}function y8(e){e("GetClassName",{a:[fe],r:fe},Z9),e("CreateLink",{a:[fe,A,A],r:A},jk),e("CreateLink",{a:[fe,fe,fe],r:A},jk),e("CreateObject",{a:[fe,fe,fe,k,k],r:A},Q9),e("DeleteObject",{a:[fe,A,k],r:k},J9),e("SetLinkVars",{a:[fe,A,fe],r:k},e8),e("GetObjectCount",{a:[fe],r:k},t8),e("GetHObject",{r:A},r8),e("GetHObjectByName",{a:[fe],r:A},n8),e("GetHObjectByNum",{a:[fe,k],r:A},o8),e("GetObjectClass",{a:[fe,A],r:fe},i8),e("GetLink",{a:[fe,A,A],r:A},s8),e("GetModelText",{a:[fe,A],r:k},a8),e("SetModelText",{a:[fe,A],r:k},Vk),e("SetModelText",{a:[fe,A,k],r:k},Vk),e("GetVarS",{a:[fe,fe],r:fe},l8),e("GetVarF",{a:[fe,fe],r:k},KC),e("GetVarH",{a:[fe,fe],r:A},KC),e("GetVarC",{a:[fe,fe],r:fr},KC),e("SetVar",{a:[fe,fe,k]},Qv),e("SetVar",{a:[fe,fe,fe]},Qv),e("SetVar",{a:[fe,fe,A]},Qv),e("SetVar",{a:[fe,fe,fr]},Qv),e("GetVarInfo",{a:[fe,k,$o,$o,$o,$o],r:k},$k),e("GetVarInfo",{a:[fe,k,$o,$o,$o,$o,Ye],r:k},$k),e("GetVarCount",{a:[fe],r:k},c8),e("SetObjectName",{a:[fe,A,fe],r:k},u8),e("GetNameByHandle",{a:[fe,A],r:fe},d8),e("SaveObjectState",{a:[fe,fe],r:k},h8),e("LoadObjectState",{a:[fe,fe],r:k},f8),e("SetVarsToDefault",{a:[fe],r:k},p8),e("Stop",{a:[k]},g8),e("Quit",{a:[k]},m8),e("CloseAll",{},v8)}const b8={name:"class",deps:["streams"],register:y8};function w8(e,t,r,n,o,i,s,a){let c;switch(t.toUpperCase()){case"EDIT":c="Edit";break;case"BUTTON":c="Button";break;case"COMBOBOX":c="ComboBox";break;case"LISTBOX":c="ListBox";break;default:return 0}const d=this.kernel.scenes.get(e);if(!d)return 0;const h=d.scene;let f=o,g=i;const m=d.matrix;if(m){const b=o*m[2]+i*m[5]+m[8];f=(o*m[0]+i*m[3]+m[6])/b,g=(o*m[1]+i*m[4]+m[7])/b}const y=h.input(c,{x:f,y:g,width:s,height:a,value:r,style:n});return h.set({order:h.order.concat(y)}),y.key}function zk(e,t,r,n){const o=this.kernel.scenes.get(e)?.scene.objects.get(t);if(o?.type!=="input")return"";const{value:i}=o;return typeof r>"u"?i:i.slice(r,r+n)}function S8(e,t,r){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="input"&&n.set({value:r})?1:0}function C8(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);return o?.type==="input"&&o.set({font:n.fonts.get(r)??null})?1:0}function x8(){return this.kernel._functionNotImplemented("EnableControl2d"),0}function _8(e,t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return;const n=r.objects.get(t);n?.type==="input"&&n._html.focus()}function E8(){return this.kernel._functionNotImplemented("IsDlgButtonChecked"),0}function T8(){return this.kernel._functionNotImplemented("CheckDlgButton2d"),1}function M8(e){e("CreateControlObject2d",{a:[A,fe,fe,k,k,k,k,k,k],r:A},w8),e("GetControlText2d",{a:[A,A],r:fe},zk),e("GetControlText2d",{a:[A,A,k,k],r:fe},zk),e("SetControlText2d",{a:[A,A,fe],r:k},S8),e("SetControlFont2d",{a:[A,A,A],r:k},C8),e("EnableControl2d",{a:[A,A,k],r:k},x8),e("SetControlFocus2d",{a:[A,A]},_8),e("IsDlgButtonChecked2d",{a:[A,A],r:k},E8),e("CheckDlgButton2d",{a:[A,A,k],r:k},T8)}const O8={name:"controls",deps:["windows"],register:M8},qC=_p;qC.hideVideoControls=!1;const Tp=["Arial","Verdana","Tahoma","Times New Roman","Georgia","Courier New","cursive"];class R8{constructor(t){if(this.pens=new Set,this.brushes=new Set,this.images=new Set,this.imagesOpaque=new Set,this.strings=new Set,this.fonts=new Set,this.texts=new Set,t)if(t.type==="group")for(const r of Mp(t))r.type!=="group"&&this.add(r);else this.add(t)}add(t){switch(t.type){case"line":t.pen&&this.pens.add(t.pen),t.brush&&(this.add(t.brush),this.brushes.add(t.brush));break;case"imageView":(t.opaque?this.imagesOpaque:this.images).add(t.image);break;case"textView":this.add(t.text),this.texts.add(t.text);break;case"input":t.font&&this.fonts.add(t.font);break;case"brush":t.image&&this.imagesOpaque.add(t.image);break;case"text":t.parts.forEach(r=>{this.strings.add(r.string),this.fonts.add(r.font)});break;case"scene":t.background&&(this.add(t.background),this.brushes.add(t.background));break}return this}}function*Mp(e,t){e.type==="group"&&(yield*e.descendants(t)),yield e}function*I8(e,t){for(const r of e)r.type==="group"&&(yield*r.descendants(t)),yield r}function P8(e){if(e.type!=="group")return{objects:[e.toJSON()],order:[e.key]};const t=Array.from(Mp(e,!0),r=>r.toJSON());return{objects:t,order:Si(e.scene.order,r=>t.some(n=>n.key===r.key)&&r.key)}}function Jv(e,t){const r=[],n=new R8,o=new WeakSet;let i=null;const s=Symbol.iterator in e?I8(e,!0):Mp(e,!0);for(const a of s)i=a.scene,r.push(a.toJSON()),a.type!=="group"&&(n.add(a),o.add(a));return{pens:Array.from(n.pens,a=>a.toJSON()),brushes:Array.from(n.brushes,a=>a.toJSON()),images:Array.from(n.images,a=>a.toJSON()),imagesOpaque:Array.from(n.imagesOpaque,a=>a.toJSON()),strings:Array.from(n.strings,a=>a.toJSON()),fonts:Array.from(n.fonts,a=>a.toJSON()),texts:Array.from(n.texts,a=>a.toJSON()),objects:r,order:i&&!t?Si(i.order,a=>o.has(a)&&a.key):[]}}function YC(e){return Cp(e.values(),t=>!t.parent)}function Eh(e,t,r){const{objects:n}=e.merge(t,r),o=YC(n);return o.length>1?e.group(o,{key:r==="unused"?-1:0}):o[0]}const k8={x:0,y:0,w:0,h:0};function Zu(e){let t=1/0,r=1/0,n=-1/0,o=-1/0;for(const i of e)i.x<t&&(t=i.x),i.y<r&&(r=i.y),i.x+i.width>n&&(n=i.x+i.width),i.y+i.height>o&&(o=i.y+i.height);return t===1/0?k8:{x:t,y:r,w:n-t,h:o-r}}const Vn=qC,Ts={"dialog-overlay":"uhF9S2AB",active:"dw2xZ5PP",dialog:"pVED4Nqg","file-row":"Aoi4NtJr","file-name":"rwg0Q1BZ","btn-row":"AcSgxO5d",btn:"jqZV6ino",secondary:"MUyNmMHh"};class D8{constructor(t){this.file=null,this.onConfirm=new Al,this.onCancel=new Al,this.overlay=document.createElement("div"),this.overlay.className=Ts["dialog-overlay"];const r=document.createElement("div");r.className=Ts.dialog,r.innerHTML=`
      <header>
        <h2>Выбор файла</h2>
      </header>
      <div class="${Ts["file-row"]}">
        <div class="${Ts["file-name"]}">Файл не выбран</div>
        <label class="${Ts.btn}" style="position:relative; overflow:hidden;">
          <input type="file"readonly >
          Выбрать файл
        </label>
      </div>
      <div class="${Ts["btn-row"]}">
        <button data-confirm class="${Ts.btn}" disabled>Ок</button>
        <button data-cancel class="${Ts.btn} ${Ts.secondary}">Отмена</button>
      </div>
    `,this.overlay.appendChild(r),t.appendChild(this.overlay),this.fileInput=r.querySelector('input[type="file"]'),this.fileNameDiv=r.querySelector(`.${Ts["file-name"]}`),this.confirmBtn=r.querySelector("[data-confirm]"),this.cancelBtn=r.querySelector("[data-cancel]"),this.fileInput.addEventListener("change",()=>{const n=this.fileInput.files?.[0]||null;this.file=n,n?(this.fileNameDiv.textContent=n.name,this.confirmBtn.disabled=!1):(this.fileNameDiv.textContent="Файл не выбран",this.confirmBtn.disabled=!0)}),this.cancelBtn.addEventListener("click",()=>{this.close(),this.onCancel.dispatch(),this.file=null}),this.confirmBtn.addEventListener("click",()=>{this.file&&(this.close(),this.onConfirm.dispatch(this.file),this.file=null)})}open(){this.overlay.parentElement?.appendChild(this.overlay),this.overlay.classList.add(Ts.active)}close(){this.overlay.classList.remove(Ts.active),this.fileInput.value="",this.fileNameDiv.textContent="Файл не выбран",this.confirmBtn.disabled=!0}get element(){return this.overlay}}class A8{constructor(){this.state={status:"idle"}}openDialog(){if(this.state.status==="shouldOpen"){if(Vn.throwIfFileLoadDialogCalledTwice)throw Error("fileLoadDialog уже был вызван в текущем цикле");return}this.state={status:"shouldOpen"}}setDialogResult(t){this.state={status:"picked",data:t}}reset(){this.state={status:"idle"}}}let L8=0;function N8(){const e=this.kernel.fileLoadDialogController;if(e.state.status!=="picked")return e.openDialog(),"?";const t=e.state.data;if(e.reset(),!t)return"";const r=this.prj.dir.resolve(`D://temp/file${++L8}`);return this.kernel.tempFileController.addFile(r,t),r.toString()}function B8(e,t,r){const n=this.prj.dir.resolve(r||"data.txt");return this.kernel.tempFileController.addFilepathForSave(n),n.toString()}function F8(e){e("FileSaveDialog",{a:[fe,fe,fe],r:fe},B8),e("FileLoadDialog",{a:[fe,fe,fe],r:fe},N8)}const j8={name:"dialogs",deps:["streams","windows"],register:F8,setup(e){e.fileLoadDialogController=new A8,e.selectFileDialog=new D8(e.windowSystem.windowFactory.root),e.afterCycle.add(()=>{if(e.fileLoadDialogController.state.status!=="shouldOpen")return;e.pause(),e.selectFileDialog.open();async function t(n){e.selectFileDialog.onConfirm.remove(t),e.selectFileDialog.onCancel.remove(r);try{if(n.type.startsWith("image/")){const o=URL.createObjectURL(n),i=await yk(o),{naturalWidth:s,naturalHeight:a}=i;e.fileLoadDialogController.setDialogResult({file:n,content:{image:{width:s,height:a,src:o}}})}else{const o=await n.arrayBuffer(),i=Fv(new Uint8Array(o));e.fileLoadDialogController.setDialogResult({file:n,content:{base64:i}})}}finally{e.continue()}}function r(){e.selectFileDialog.onConfirm.remove(t),e.selectFileDialog.onCancel.remove(r),e.fileLoadDialogController.setDialogResult(null),e.continue()}e.selectFileDialog.onConfirm.addOnce(t),e.selectFileDialog.onCancel.addOnce(r)})}};function V8(e){return this.prj.dir.resolve(e).create("folder")?1:0}function $8(e){const t=this.prj.dir.resolve(e);return t.file()||this.kernel.projectLoader.exists(t)?1:0}function z8(e){const t=this.kernel.classes.get(e);return t?t.file.path.resolve("..").toString()+"\\":""}function U8(){return this.prj.dir.toString()}function G8(){return"C:\\Windows"}function H8(e){const t=this.prj.dir.resolve(e).resolveMany();if(!t.length)return 0;const r=t.map(n=>{const o=[["NAME",{type:"STRING",value:n.name}],["SIZE",{type:"FLOAT",value:n.size}],["ATTR",{type:"FLOAT",value:0}],["YEAR",{type:"FLOAT",value:Xu.getFullYear()}],["MONTH",{type:"FLOAT",value:Xu.getMonth()+1}],["DAY",{type:"FLOAT",value:Xu.getDate()}],["DAYOFWEEK",{type:"FLOAT",value:Xu.getDay()}],["HOUR",{type:"FLOAT",value:Xu.getHours()}],["MINUTE",{type:"FLOAT",value:Xu.getMinutes()}],["SECOND",{type:"FLOAT",value:Xu.getSeconds()}]];return{type:"STRUCT",realType:"FILE_ATTRIBUTE",value:new Map(o)}});return this.kernel.createArray(r).key}function W8(e){return e.length===0||e[e.length-1]==="\\"?e:e+"\\"}function K8(e){e("CreateDir",{a:[fe],r:k},V8),e("FileExist",{a:[fe],r:k},$8),e("GetClassDirectory",{a:[fe],r:fe},z8),e("GetProjectDirectory",{r:fe},U8),e("GetWindowsDirectory",{r:fe},G8),e("GetFileList",{a:[fe,k],r:A},H8),e("AddSlash",{a:[fe],r:fe},W8)}const q8={name:"filesystem",deps:["arrays"],register:K8},Y8=["gray","blue","navy","gray","#b5b5b5","white","black","black","black","white","gray","gray","gray","navy","white","#b5b5b5","gray","gray","black","gray","white"],Th=1<<24,Op=2<<24,Uk=4<<24;function X8(e){const t=parseInt(e);if(!isNaN(t))return t;const r=e.toLowerCase().trim();if(r.startsWith("rgb")){const n=r.split("(")[1].split(")")[0].split(",").map(o=>parseInt(o));return n[0]|n[1]<<8|n[2]<<16}return r.startsWith("transparent")?Th:r.startsWith("syscolor")?Op|parseInt(r.split("(")[1].split(")")[0]):0}function XC(e){if(e&Th)return null;const t=e&255;if(e&Op)return Y8[t]||"black";const r=e>>8&255,n=e>>16&255;return e&Uk?`rgba(${t},${r},${n}, 0.5)`:`rgb(${t},${r},${n})`}function Ga(e,t,r,n){const o=n==="transparent"?Th:n==="syscolor"?Op:n==="editor"?Uk:0;return e&255|(t&255)<<8|(r&255)<<16|o}function Z8(e){return e&255}function Q8(e){return e>>8&255}function J8(e){return e>>16&255}function e7(e){if(e&Th)return"Transparent";const t=e&255;if(e&Op)return`SysColor(${t})`;const r=e>>8&255,n=e>>16&255;return`rgb(${t},${r},${n})`}function ZC(e){if(e&Th)return"#ffffff";const t=(e&255).toString(16);if(e&Op)return"#000000";const r=(e>>8&255).toString(16),n=(e>>16&255).toString(16);return`#${t.length>1?t:`0${t}`}${r.length>1?r:`0${r}`}${n.length>1?n:`0${n}`}`}function QC(e){const t=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return Ga(t,r,n)}const fa=1,Oc=2,Ms=4,Rp=8;function Rc(e){return e>>8&31}function JC(e){return e<<8}const t7=1,r7=2,n7=4,Gk=8;function o7(e){const t=this.kernel.scenes.get(e);return t?t.scene.x:0}function i7(e){const t=this.kernel.scenes.get(e);return t?t.scene.y:0}function s7(e,t,r){const n=this.kernel.scenes.get(e);return n?(n.setOrg(t,r),1):0}function a7(e){return this.kernel.scenes.get(e)?.window.scale??0}function l7(e,t){return this.kernel.scenes.get(e)?.window.set({scale:t})?1:0}function c7(e,t,r,n,o,i,s){const a=this.kernel.scenes.get(e)?.scene.toBlob({x:n,y:o,w:i,h:s});if(!a)return 0;const c=t.match(/(?:.*[\\/])?(.+?)(\..*)?$/),d=c&&c.length>1?c[1]:"Screenshot";return a.then(h=>IC(h,d)),1}function u7(e){return this.kernel.scenes.get(e)?.scene.background?.key??0}function d7(e,t){const r=this.kernel.scenes.get(e)?.scene;return r?.set({background:r.brushes.get(t)??null})?1:0}function h7(){return 0}function f7(e){return this.kernel.scenes.get(e)?.scene.hiddenLayers??0}function p7(e,t){return this.kernel.scenes.get(e)?.scene.set({hiddenLayers:t})?1:0}function g7(){return 1}function m7(e,t,r,n,o){return this.kernel.scenes.get(e)?.scene.pen({color:n,rop:o,style:t,width:r}).key??0}function v7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.color??0}function y7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.rop??0}function b7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.style??0}function w7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.width??0}function S7(e,t,r){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({color:r})?1:0}function C7(e,t,r){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({rop:r})?1:0}function x7(e,t,r){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({style:r})?1:0}function _7(e,t,r){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({width:r})?1:0}function E7(e,t,r,n,o,i){const s=this.kernel.scenes.get(e)?.scene;return s?.brush({color:n,hatch:r,rop:i,style:t,image:s.imagesOpaque.get(o)}).key??0}function T7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.color??0}function M7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.rop??0}function O7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.style??0}function R7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.hatch??0}function I7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.image?.key??0}function P7(e,t,r){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({color:r})?1:0}function k7(e,t,r){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({rop:r})?1:0}function D7(e,t,r){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({style:r})?1:0}function A7(e,t,r){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({hatch:r})?1:0}function L7(e,t,r){const n=this.kernel.scenes.get(e)?.scene;return n?.brushes.get(t)?.set({image:n.imagesOpaque.get(r)??null})?1:0}function Hk({kernel:e},t,r,n,o){return e.scenes.get(t)?.scene.font({name:r,size:n,style:o}).key??0}function N7(e,t,r,n){return Hk(this,e,t,r,n)}function B7(e,t,r,n){return Hk(this,e,t,r*f9,n)}function F7(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.name??""}function j7(e,t){return(this.kernel.scenes.get(e)?.scene.fonts.get(t)?.size??0)*h9}function V7(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.style??0}function $7(e,t,r){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({name:r})?1:0}function z7(e,t,r){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({size:r})?1:0}function U7(e,t,r){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({style:r})?1:0}function G7(e,t){return this.kernel.scenes.get(e)?.scene.string(t).key??0}function H7(e,t){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.text??""}function W7(e,t,r){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.set({text:r})?1:0}function K7(e,t,r,n,o){const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const s=i.strings.get(r);if(!s)return 0;const a=i.fonts.get(t);return a?i.text([{string:s,font:a,fgcolor:n,bgcolor:o}]).key:0}function q7(e,t){return this.kernel.scenes.get(e)?.scene.texts.get(t)?.parts.length??0}function Mh({kernel:e},t,r,n){if(n<0)return null;const o=e.scenes.get(t)?.scene.texts.get(r)?.parts;return o&&n<o.length?o[n]:null}function Wk(e,t,r=0){return Mh(this,e,t,r)?.font.key??0}function Kk(e,t,r=0){return Mh(this,e,t,r)?.string.key??0}function qk(e,t,r=0){return Mh(this,e,t,r)?.fgcolor??0}function Yk(e,t,r=0){return Mh(this,e,t,r)?.bgcolor??0}function Xk(e,t,r,n,o,i,s){if(r<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t)?.parts;return!c||r>=c.length?0:(c[r].set({string:a.strings.get(o),font:a.fonts.get(n),fgcolor:i,bgcolor:s}),1)}function Y7(e,t,r,n,o,i){return Xk.call(this,e,t,0,r,n,o,i)}function X7(e,t,r,n){if(r<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.texts.get(t)?.parts;if(!i||r>=i.length)return 0;const s=o.fonts.get(n);return s?(i[r].set({font:s}),1):0}function Z7(e,t,r,n){if(r<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.texts.get(t)?.parts;if(!i||r>=i.length)return 0;const s=o.strings.get(n);return s?(i[r].set({string:s}),1):0}function Q7(e,t,r,n){return Mh(this,e,t,r)?.set({fgcolor:n})?1:0}function J7(e,t,r,n){return Mh(this,e,t,r)?.set({bgcolor:n})?1:0}function Zk(e,t,r,n,o,i,s){if(r<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t);if(!c)return 0;const d=a.fonts.get(n);if(!d)return 0;const h=a.strings.get(o);if(!h)return 0;const f=r<c.parts.length,g=c.part({font:d,string:h,fgcolor:i,bgcolor:s},f);if(f){const m=c.parts.slice();m.splice(r,0,g),c.set({parts:m})}return 1}function eY(e,t,r,n,o,i){return Zk.call(this,e,t,1/0,r,n,o,i)}function tY(e,t,r){if(r<0)return 0;const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.texts.get(t);if(!o||r>=o.parts.length)return 0;const i=o.parts.slice();return i.splice(r,1),o.set({parts:i},!0),1}function Qk({kernel:e},{prj:t},r,n,o){const i=e.scenes.get(r)?.scene;if(!i)return 0;const s=t.dir.resolve(n),a=e.tempFileController.getTempFile(s)?.content;let c;if(a){if(!a.image)return Vn.debugFile&&console.warn(`create(Double)DIB2d: Загруженный файл ${s} существует, но формат не image.`),0;c=a.image}else{const d=s.file();if(!d)return 0;if(!d.image)return Vn.debugFile&&console.warn(`create(Double)DIB2d: Файл ${s} существует, но формат не image.`),0;c=d.image}return i.image(c,{opaque:o}).key}function rY(e,t){return Qk(this,this,e,t,!0)}function nY(e,t){return Qk(this,this,e,t)}function oY(e,t,r,n){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.pixel(r,n)??0}function iY(e,t,r,n,o){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.setPixel(r,n,o)?1:0}function sY(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let o;switch(t){case rt.PEN2D:o=n.pens;break;case rt.BRUSH2D:o=n.brushes;break;case rt.DOUBLEDIB2D:o=n.images;break;case rt.DIB2D:o=n.imagesOpaque;break;case rt.STRING2D:o=n.strings;break;case rt.FONT2D:o=n.fonts;break;case rt.TEXT2D:o=n.texts;break;case rt.SPACE3D:throw Error("Не реализовано");default:return 0}return o.get(r)?.delete(!0)?1:0}function aY(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let o;switch(t){case rt.PEN2D:o=n.pens;break;case rt.BRUSH2D:o=n.brushes;break;case rt.DOUBLEDIB2D:o=n.images;break;case rt.DIB2D:o=n.imagesOpaque;break;case rt.STRING2D:o=n.strings;break;case rt.FONT2D:o=n.fonts;break;case rt.TEXT2D:o=n.texts;break;case rt.SPACE3D:throw Error("Не реализовано");default:return 0}let i=1/0;for(const s of o.keys())s>r&&s<i&&(i=s);return i===1/0?0:i}function lY(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let o;switch(t){case rt.PEN2D:o=n.pens;break;case rt.BRUSH2D:o=n.brushes;break;case rt.DOUBLEDIB2D:o=n.images;break;case rt.DIB2D:o=n.imagesOpaque;break;case rt.STRING2D:o=n.strings;break;case rt.FONT2D:o=n.fonts;break;case rt.TEXT2D:o=n.texts;break;case rt.SPACE3D:throw Error("Не реализовано");default:return 0}return o.get(r)?.subs.size??0}function cY(e,t,r){return Ga(e,t,r)}function uY(e,t,r,n){return Ga(e,t,r,n===1?"transparent":n===2?"syscolor":"rgb")}function dY(e){return e&4294967295}function hY(e){return Z8(e)}function fY(e){return Q8(e)}function pY(e){return J8(e)}function gY(e,t,r,n,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=this.prj.dir.resolve(t).file()?.scene?.data;return s?i.paste(s,r,n,o)?.key??0:0}function mY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.delete(!0)?1:0}function vY(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!r)return 0;switch(r.type){case"group":return rt.OTGROUP2D;case"line":return rt.OTLINE_2D;case"imageView":return r.opaque?rt.OTBITMAP_2D:rt.OTDOUBLEBITMAP_2D;case"textView":return rt.OTTEXT_2D;case"videoView":return 0;case"input":return 26}}function yY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.data?.name??""}function bY(e,t,r){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?(n.data.name=r,1):0}function wY(e,t,r){if(!r)return 0;const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let o;if(t){const i=n.objects.get(t);if(!i)return 0;if(i.data?.name===r)return i.key;if(i.type!=="group")return 0;o=i.descendants()}else o=n.objects.values();for(const i of o)if(i.data?.name===r)return i.key;return 0}function SY(e,t){const r=this.kernel.scenes.get(e);if(!r)return 0;const n=r.scene.objects.get(t);if(!n)return 0;const o=r.invmatrix;if(!o)return n.x;const i=n.x,s=n.y,a=i*o[2]+s*o[5]+o[8];return(i*o[0]+s*o[3]+o[6])/a}function CY(e,t){const r=this.kernel.scenes.get(e);if(!r)return 0;const n=r.scene.objects.get(t);if(!n)return 0;const o=r.invmatrix;if(!o)return n.y;const i=n.x,s=n.y,a=i*o[2]+s*o[5]+o[8];return(i*o[1]+s*o[4]+o[7])/a}function xY(e,t,r,n){const o=this.kernel.scenes.get(e);if(!o)return 0;const i=o.scene.objects.get(t);if(!i)return 0;let s=r,a=n;const c=o.matrix;if(c){const d=r*c[2]+n*c[5]+c[8];s=(r*c[0]+n*c[3]+c[6])/d,a=(r*c[1]+n*c[4]+c[7])/d}return i.set({x:s,y:a}),1}function _Y(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.width??0}function EY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.height??0}function TY(e,t,r,n){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.set({width:r,height:n})?1:0}function MY(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!r)return 0;switch(r.type){case"group":case"line":case"input":return r.width;case"imageView":return r.image.width;case"textView":return r.text.width;case"videoView":return r.video.width}}function OY(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!r)return 0;switch(r.type){case"group":case"line":case"input":return r.height;case"imageView":return r.image.height;case"textView":return r.text.height;case"videoView":return r.video.height}}function RY(e,t,r,n,o,i){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!s)return r[n]=0,o[i]=0,0;switch(s.type){case"group":case"line":case"input":return r[n]=s.width,o[i]=s.height,1;case"imageView":return r[n]=s.image.width,o[i]=s.image.height,1;case"textView":return r[n]=s.text.width,o[i]=s.text.height,1;case"videoView":return r[n]=s.video.width,o[i]=s.video.height,1}}function IY(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r&&(r.type==="textView"||r.type==="imageView")?r.angle:0}function PY(e,t,r,n,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(!s)return 0;let a=r,c=n;const d=i.matrix;if(d){const h=r*d[2]+n*d[5]+d[8];a=(r*d[0]+n*d[3]+d[6])/h,c=(r*d[1]+n*d[4]+d[7])/h}return s.rotate(o,{x:a,y:c}),1}function e0({kernel:e},t,r,n){const o=e.scenes.get(t)?.scene.objects.get(r);if(!o)return 0;const i=n?o.attrib&-2:o.attrib|1;return o.set({attrib:i}),1}function kY(e,t,r){return e0(this,e,t,!!r)}function DY(e,t){e0(this,e,t,!0)}function AY(e,t){e0(this,e,t,!1)}function LY(e,t,r){return this.kernel.scenes.get(e)?.pick(t,r,!0)?.key??0}function NY(){return this.kernel.windowSystem.lastPickedPrimaryKey}function BY(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?(this.kernel.windowSystem.clipboard=Jv(r),1):0}function FY(e,t,r,n){const o=this.kernel.windowSystem.clipboard;return o?this.kernel.scenes.get(e)?.paste(o,t,r,n)?.key??0:0}function jY(e,t,r){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;let o=n.attrib;switch(r){case 0:o&=-13;break;case 1:o&=~Ms,o|=Rp;break;case 2:o&=~Rp,o|=Ms;break;default:return 0}return n.set({attrib:o}),1}function VY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.attrib??0}function $Y(e,t,r,n){const o=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!o)return 0;let{attrib:i}=o;switch(n){case rt.ATTRSET:i|=r;break;case rt.ATTRRESET:i&=~r;break;case rt.ATTRPUT:i=r;break;default:return 0}return o.set({attrib:i}),1}function zY(e,t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let n=1/0;for(const o of r.objects.keys())o>t&&o<n&&(n=o);return n===1/0?0:n}function UY(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);if(!o)return 0;const i=n.objects.get(r);return i&&o.x+o.width>=i.x&&i.x+i.width>=o.x&&o.y+o.height>=i.y&&i.y+i.height>=o.y?1:0}function GY(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[0].key:0}function HY(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[t.length-1].key:0}function WY(e,t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const n=r.objects.get(t);if(!n||n.type==="group")return 0;const o=r.order,i=o.indexOf(n);return i<1?0:o[i-1].key}function KY(e,t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const n=r.objects.get(t);if(!n||n.type==="group")return 0;const o=r.order,i=o.indexOf(n);return i>-1&&i<o.length-1?o[i+1].key:0}function qY(e,t){const r=t-1;if(r<0)return 0;const n=this.kernel.scenes.get(e)?.scene.order;return n&&r<n.length?n[r].key:0}function YY(e,t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const n=r.objects.get(t);if(!n||n.type==="group")return 0;const i=r.order.indexOf(n);return i<0?0:i+1}function XY(e,t,r){const n=r-1;if(n<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.objects.get(t);if(!i||i.type==="group")return 0;const s=o.order,a=[];for(let c=0;c<s.length;++c){const d=s[c];d!==i&&a.push(d),n===c&&a.push(i)}return n>=s.length&&a.push(i),o.set({order:a}),1}function ZY(e,t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const n=r.objects.get(t);if(!n||n.type==="group")return 0;const o=r.order.filter(i=>i!==n);return o.unshift(n),r.set({order:o}),1}function QY(e,t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const n=r.objects.get(t);if(!n||n.type==="group")return 0;const o=r.order.filter(i=>i!==n);return o.push(n),r.set({order:o}),1}function JY(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);if(!o||o.type==="group")return 0;const i=n.objects.get(r);if(!i||i.type==="group")return 0;const s=n.order.slice(),a=s.indexOf(o);if(a<0)return 0;const c=s.indexOf(i);if(c<0)return 0;const d=s[a];return s[a]=s[c],s[c]=d,n.set({order:s}),1}function Jk({kernel:e},t,r,n,o){const i=e.scenes.get(t);if(!i)return 0;const{matrix:s,scene:a}=i;if(s)for(let d=0;d<o.length;d+=2){const h=o[d+0],f=o[d+1],g=h*s[2]+f*s[5]+s[8];o[d+0]=(h*s[0]+f*s[3]+s[6])/g,o[d+1]=(h*s[1]+f*s[4]+s[7])/g}const c=a.line(o,{pen:a.pens.get(r),brush:a.brushes.get(n)});return a.set({order:a.order.concat(c)}),c.key}function eX(e,t,r,...n){return Jk(this,e,t,r,n)}function tX(e,t,r,n,o){return Jk(this,e,t,r,[n,o])}function rX(e,t,r,n,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(s?.type!=="line")return 0;let a=n,c=o;const d=i.matrix;if(d){const h=n*d[2]+o*d[5]+d[8];a=(n*d[0]+o*d[3]+d[6])/h,c=(n*d[1]+o*d[4]+d[7])/h}return s.addPoint({x:a,y:c},r)?1:0}function nX(e,t,r,n,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(s?.type!=="line")return 0;let a=n,c=o;const d=i.matrix;if(d){const h=n*d[2]+o*d[5]+d[8];a=(n*d[0]+o*d[3]+d[6])/h,c=(n*d[1]+o*d[4]+d[7])/h}return s.setPoint(r,{x:a,y:c})?1:0}function oX(e,t,r){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.removePoint(r)?1:0}function iX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="line"&&r.pen?.key||0}function sX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="line"&&r.brush?.key||0}function aX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="line"?r.length:0}function lX(e,t,r){const n=this.kernel.scenes.get(e);if(!n)return 0;const o=n.scene.objects.get(t),i=o?.type==="line"&&o.point(r);if(!i)return 0;const{x:s,y:a}=i,c=n.invmatrix;if(!c)return s;const d=s*c[2]+a*c[5]+c[8];return(s*c[0]+a*c[3]+c[6])/d}function cX(e,t,r){const n=this.kernel.scenes.get(e);if(!n)return 0;const o=n.scene.objects.get(t),i=o?.type==="line"&&o.point(r);if(!i)return 0;const{x:s,y:a}=i,c=n.invmatrix;if(!c)return a;const d=s*c[2]+a*c[5]+c[8];return(s*c[1]+a*c[4]+c[7])/d}function uX(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);return o?.type==="line"&&o.set({brush:n.brushes.get(r)??null})?1:0}function dX(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);return o?.type==="line"&&o.set({pen:n.pens.get(r)??null})?1:0}function hX(e,t,r,n,o,i,s,a){const c=this.kernel.scenes.get(e)?.scene.objects.get(t);if(c?.type!=="line")return 0;const d={angle:r,length:n,fill:!!o},h={angle:i,length:s,fill:!!a};return c.set({start:d,end:h}),1}function fX(e,...t){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let n=!0;const o=t.map(i=>{const s=r.objects.get(i);return(!s||s.parent)&&(n=!1),s});return n?r.group(o).key:0}function pX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type!=="group"?0:(r.set({children:[]}).delete(),1)}function gX(e,t,r){if(t===r)return 0;const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);if(o?.type!=="group")return 0;const i=n.objects.get(r);if(!i||i.parent)return 0;if(i.type==="group"){let s=o;for(;s=s.parent;)if(s===i)return 0}return o.set({children:o.children.concat(i)}),1}function mX(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);if(o?.type!=="group")return 0;const i=n.objects.get(r);return i?.parent!==o?0:(o.set({children:o.children.filter(s=>s!==i)}),1)}function vX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="group"?r.children.length:0}function yX(e,t,r){if(r<0)return 0;const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(n?.type!=="group")return 0;const o=n.children;return r<o.length?o[r].key:0}function bX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.parent?.key??0}function wX(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.objects.get(t);if(o?.type!=="group")return 0;for(let i=0;i<o.children.length;++i){const s=o.children[i];if(s.key===r)return i+1;if(s.type==="group"){for(const a of s.descendants())if(a.key===r)return i+1}}return 0}function eD({kernel:e},t,r,n,o,i){const s=e.scenes.get(t);if(!s)return 0;const a=s.scene,c=(i?a.imagesOpaque:a.images).get(r);if(!c)return 0;let d=n,h=o;const f=s.matrix;if(f){const m=n*f[2]+o*f[5]+f[8];d=(n*f[0]+o*f[3]+f[6])/m,h=(n*f[1]+o*f[4]+f[7])/m}const g=a.imageView(c,{x:d,y:h,opaque:i});return a.set({order:a.order.concat(g)}),g.key}function SX(e,t,r,n){return eD(this,e,t,r,n,!0)}function CX(e,t,r,n){return eD(this,e,t,r,n)}function xX(e,t,r,n,o,i,s,a,c,d){const h=this.kernel.scenes.get(e)?.scene.objects.get(t);if(h?.type!=="imageView")return r[n]=0,o[i]=0,s[a]=0,c[d]=0,0;const f=h.area;return r[n]=f?.x??0,o[i]=f?.y??0,s[a]=f?.w??h.image.width,c[d]=f?.h??h.image.height,1}function _X(e,t,r,n,o,i){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);return s?.type==="imageView"&&s.set({area:{x:r,y:n,w:o,h:i}})?1:0}function EX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="imageView"&&r.opaque&&r.image.key||0}function TX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="imageView"&&!r.opaque&&r.image.key||0}function MX(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.imagesOpaque.get(r);if(!o)return 0;const i=n.objects.get(t);return i?.type==="imageView"&&i.opaque&&i.set({image:o})?1:0}function OX(e,t,r){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const o=n.images.get(r);if(!o)return 0;const i=n.objects.get(t);return i?.type==="imageView"&&!i.opaque&&i.set({image:o})?1:0}function RX(e,t,r,n,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene,a=s.texts.get(t);if(!a)return 0;let c=r,d=n;const h=i.matrix;if(h){const g=r*h[2]+n*h[5]+h[8];c=(r*h[0]+n*h[3]+h[6])/g,d=(r*h[1]+n*h[4]+h[7])/g}const f=s.textView(a,{x:c,y:d,angle:o});return s.set({order:s.order.concat(f)}),f.key}function IX(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="textView"&&r.text.key||0}function PX(e){e("GetSpaceOrg2dx",{a:[A],r:k},o7),e("GetSpaceOrg2dy",{a:[A],r:k},i7),e("SetSpaceOrg2d",{a:[A,k,k],r:k},s7),e("GetScaleSpace2d",{a:[A],r:k},a7),e("SetScaleSpace2d",{a:[A,k],r:k},l7),e("SaveRectArea2d",{a:[A,fe,k,k,k,k,k],r:k},c7),e("GetBkBrush2d",{a:[A],r:A},u7),e("SetBkBrush2d",{a:[A,A],r:k},d7),e("LockSpace2d",{a:[A,k],r:k},h7),e("GetSpaceLayers2d",{a:[A],r:k},f7),e("SetSpaceLayers2d",{a:[A,k],r:k},p7),e("SetSpaceRenderEngine2d",{a:[A,k],r:k},g7),e("CreatePen2d",{a:[A,k,k,fr,k],r:A},m7),e("GetPenColor2d",{a:[A,A],r:fr},v7),e("GetPenRop2d",{a:[A,A],r:k},y7),e("GetPenStyle2d",{a:[A,A],r:k},b7),e("GetPenWidth2d",{a:[A,A],r:k},w7),e("SetPenColor2d",{a:[A,A,fr],r:k},S7),e("SetPenRop2d",{a:[A,A,k],r:k},C7),e("SetPenStyle2d",{a:[A,A,k],r:k},x7),e("SetPenWidth2d",{a:[A,A,k],r:k},_7),e("CreateBrush2d",{a:[A,k,k,fr,A,k],r:A},E7),e("GetBrushColor2d",{a:[A,A],r:fr},T7),e("GetBrushRop2d",{a:[A,A],r:k},M7),e("GetBrushStyle2d",{a:[A,A],r:k},O7),e("GetBrushHatch2d",{a:[A,A],r:k},R7),e("GetBrushDib2d",{a:[A,A],r:A},I7),e("SetBrushColor2d",{a:[A,A,fr],r:k},P7),e("SetBrushRop2d",{a:[A,A,k],r:k},k7),e("SetBrushStyle2d",{a:[A,A,k],r:k},D7),e("SetBrushHatch2d",{a:[A,A,k],r:k},A7),e("SetBrushDib2d",{a:[A,A,A],r:k},L7),e("CreateFont2d",{a:[A,fe,k,k],r:A},N7),e("CreateFont2dpt",{a:[A,fe,k,k],r:A},B7),e("GetFontName2d",{a:[A,A],r:fe},F7),e("GetFontSize2d",{a:[A,A],r:k},j7),e("GetFontStyle2d",{a:[A,A],r:k},V7),e("SetFontName2d",{a:[A,A,fe],r:k},$7),e("SetFontSize2d",{a:[A,A,k],r:k},z7),e("SetFontStyle2d",{a:[A,A,k],r:k},U7),e("CreateString2d",{a:[A,fe],r:A},G7),e("GetString2d",{a:[A,A],r:fe},H7),e("SetString2d",{a:[A,A,fe],r:k},W7),e("CreateText2d",{a:[A,A,A,fr,fr],r:A},K7),e("GetTextCount2d",{a:[A,A],r:k},q7),e("GetTextFont2d",{a:[A,A],r:A},Wk),e("GetTextFont2d",{a:[A,A,k],r:A},Wk),e("GetTextString2d",{a:[A,A],r:A},Kk),e("GetTextString2d",{a:[A,A,k],r:A},Kk),e("GetTextFgColor2d",{a:[A,A],r:fr},qk),e("GetTextFgColor2d",{a:[A,A,k],r:fr},qk),e("GetTextBkColor2d",{a:[A,A],r:fr},Yk),e("GetTextBkColor2d",{a:[A,A,k],r:fr},Yk),e("SetText2d",{a:[A,A,A,A,fr,fr],r:k},Y7),e("SetText2d",{a:[A,A,k,A,A,fr,fr],r:k},Xk),e("SetTextFont2d",{a:[A,A,k,A],r:k},X7),e("SetTextString2d",{a:[A,A,k,A],r:k},Z7),e("SetTextFgColor2d",{a:[A,A,k,fr],r:k},Q7),e("SetTextBkColor2d",{a:[A,A,k,fr],r:k},J7),e("AddText2d",{a:[A,A,A,A,fr,fr],r:k},eY),e("AddText2d",{a:[A,A,k,A,A,fr,fr],r:k},Zk),e("RemoveText2d",{a:[A,A,k],r:k},tY),e("CreateDIB2d",{a:[A,fe],r:A},rY),e("CreateDoubleDIB2d",{a:[A,fe],r:A},nY),e("GetDibPixel2d",{a:[A,A,k,k],r:fr},oY),e("SetDibPixel2d",{a:[A,A,k,k,fr],r:k},iY),e("DeleteTool2d",{a:[A,k,A],r:k},sY),e("GetNextTool2d",{a:[A,k,A],r:A},aY),e("GetToolRef2d",{a:[A,k,A],r:k},lY),e("Rgb",{a:[k,k,k],r:fr},cY),e("RgbEx",{a:[k,k,k,k],r:fr},uY),e("Rgbf",{a:[k],r:fr},dY),e("GetRValue",{a:[fr],r:k},hY),e("GetGValue",{a:[fr],r:k},fY),e("GetBValue",{a:[fr],r:k},pY),e("CreateObjectFromFile2d",{a:[A,fe,k,k,k],r:A},gY),e("DeleteObject2d",{a:[A,A],r:k},mY),e("GetObjectType2d",{a:[A,A],r:k},vY),e("GetObjectName2d",{a:[A,A],r:fe},yY),e("SetObjectName2d",{a:[A,A,fe],r:k},bY),e("GetObject2dByName",{a:[A,A,fe],r:A},wY),e("GetObjectOrg2dx",{a:[A,A],r:k},SY),e("GetObjectOrg2dy",{a:[A,A],r:k},CY),e("SetObjectOrg2d",{a:[A,A,k,k],r:k},xY),e("GetObjectWidth2d",{a:[A,A],r:k},_Y),e("GetObjectHeight2d",{a:[A,A],r:k},EY),e("SetObjectSize2d",{a:[A,A,k,k],r:k},TY),e("GetActualWidth2d",{a:[A,A],r:k},MY),e("GetActualHeight2d",{a:[A,A],r:k},OY),e("GetActualSize2d",{a:[A,A,Ye,Ye],r:k},RY),e("GetObjectAngle2d",{a:[A,A],r:k},IY),e("RotateObject2d",{a:[A,A,k,k,k],r:k},PY),e("SetShowObject2d",{a:[A,A,k],r:k},kY),e("ShowObject2d",{a:[A,A]},DY),e("HideObject2d",{a:[A,A]},AY),e("GetObjectFromPoint2d",{a:[A,k,k],r:A},LY),e("GetLastPrimary2d",{r:A},NY),e("CopyToClipboard2d",{a:[A,A],r:k},BY),e("PasteFromClipboard2d",{a:[A,k,k,k],r:A},FY),e("LockObject2d",{a:[A,A,k],r:k},jY),e("GetObjectAttribute2d",{a:[A,A],r:k},VY),e("SetObjectAttribute2d",{a:[A,A,k,k],r:k},$Y),e("GetNextObject2d",{a:[A,A],r:A},zY),e("IsObjectsIntersect2d",{a:[A,A,A,k],r:k},UY),e("GetBottomObject2d",{a:[A],r:A},GY),e("GetTopObject2d",{a:[A],r:A},HY),e("GetLowerObject2d",{a:[A,A],r:A},WY),e("GetUpperObject2d",{a:[A,A],r:A},KY),e("GetObjectFromZOrder2d",{a:[A,k],r:A},qY),e("GetZOrder2d",{a:[A,A],r:k},YY),e("SetZOrder2d",{a:[A,A,k],r:k},XY),e("ObjectToBottom2d",{a:[A,A],r:k},ZY),e("ObjectToTop2d",{a:[A,A],r:k},QY),e("SwapObject2d",{a:[A,A,A],r:k},JY),e("CreatePolyLine2d",{a:[A,A,A],rest:[k,k],r:A},eX),e("CreateLine2d",{a:[A,A,A,k,k],r:A},tX),e("AddPoint2d",{a:[A,A,k,k,k],r:k},rX),e("SetVectorPoint2d",{a:[A,A,k,k,k],r:k},nX),e("DelPoint2d",{a:[A,A,k],r:k},oX),e("GetPenObject2d",{a:[A,A],r:A},iX),e("GetBrushObject2d",{a:[A,A],r:A},sX),e("GetVectorNumPoints2d",{a:[A,A],r:k},aX),e("GetVectorPoint2dx",{a:[A,A,k],r:k},lX),e("GetVectorPoint2dy",{a:[A,A,k],r:k},cX),e("SetBrushObject2d",{a:[A,A,A],r:A},uX),e("SetPenObject2d",{a:[A,A,A],r:A},dX),e("SetLineArrows2d",{a:[A,A,k,k,k,k,k,k],r:k},hX),e("CreateGroup2d",{a:[A],rest:[A],r:A},fX),e("DeleteGroup2d",{a:[A,A],r:k},pX),e("AddGroupItem2d",{a:[A,A,A],r:k},gX),e("DelGroupItem2d",{a:[A,A,A],r:k},mX),e("GetGroupItemsNum2d",{a:[A,A],r:k},vX),e("GetGroupItem2d",{a:[A,A,k],r:A},yX),e("GetObjectParent2d",{a:[A,A],r:A},bX),e("IsGroupContainObject2d",{a:[A,A,A],r:k},wX),e("CreateBitmap2d",{a:[A,A,k,k],r:A},SX),e("CreateDoubleBitmap2d",{a:[A,A,k,k],r:A},CX),e("GetBitmapSrcRect2d",{a:[A,A,Ye,Ye,Ye,Ye],r:k},xX),e("SetBitmapSrcRect2d",{a:[A,A,k,k,k,k],r:k},_X),e("GetDibObject2d",{a:[A,A],r:A},EX),e("GetDDibObject2d",{a:[A,A],r:A},TX),e("SetDibObject2d",{a:[A,A,A],r:k},MX),e("SetDDibObject2d",{a:[A,A,A],r:k},OX),e("CreateRasterText2d",{a:[A,A,k,k,k],r:A},RX),e("GetTextObject2d",{a:[A,A],r:A},IX)}const kX={name:"graphics2d",deps:["windows","streams"],register:PX};var tD=1e-6,Ji=typeof Float32Array<"u"?Float32Array:Array;function ey(){var e=new Ji(9);return Ji!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function rD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Qo(){var e=new Ji(16);return Ji!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function DX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function nD(e,t){if(e===t){var r=t[1],n=t[2],o=t[3],i=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=o,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function oD(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],s=t[4],a=t[5],c=t[6],d=t[7],h=t[8],f=t[9],g=t[10],m=t[11],y=t[12],b=t[13],v=t[14],C=t[15],E=r*a-n*s,T=r*c-o*s,R=r*d-i*s,M=n*c-o*a,I=n*d-i*a,N=o*d-i*c,P=h*b-f*y,L=h*v-g*y,D=h*C-m*y,$=f*v-g*b,B=f*C-m*b,U=g*C-m*v,q=E*U-T*B+R*$+M*D-I*L+N*P;return q?(q=1/q,e[0]=(a*U-c*B+d*$)*q,e[1]=(o*B-n*U-i*$)*q,e[2]=(b*N-v*I+C*M)*q,e[3]=(g*I-f*N-m*M)*q,e[4]=(c*D-s*U-d*L)*q,e[5]=(r*U-o*D+i*L)*q,e[6]=(v*R-y*N-C*T)*q,e[7]=(h*N-g*R+m*T)*q,e[8]=(s*B-a*D+d*P)*q,e[9]=(n*D-r*B-i*P)*q,e[10]=(y*I-b*R+C*E)*q,e[11]=(f*R-h*I-m*E)*q,e[12]=(a*L-s*$-c*P)*q,e[13]=(r*$-n*L+o*P)*q,e[14]=(b*T-y*M-v*E)*q,e[15]=(h*M-f*T+g*E)*q,e):null}function AX(e,t,r){var n=t[0],o=t[1],i=t[2],s=t[3],a=t[4],c=t[5],d=t[6],h=t[7],f=t[8],g=t[9],m=t[10],y=t[11],b=t[12],v=t[13],C=t[14],E=t[15],T=r[0],R=r[1],M=r[2],I=r[3];return e[0]=T*n+R*a+M*f+I*b,e[1]=T*o+R*c+M*g+I*v,e[2]=T*i+R*d+M*m+I*C,e[3]=T*s+R*h+M*y+I*E,T=r[4],R=r[5],M=r[6],I=r[7],e[4]=T*n+R*a+M*f+I*b,e[5]=T*o+R*c+M*g+I*v,e[6]=T*i+R*d+M*m+I*C,e[7]=T*s+R*h+M*y+I*E,T=r[8],R=r[9],M=r[10],I=r[11],e[8]=T*n+R*a+M*f+I*b,e[9]=T*o+R*c+M*g+I*v,e[10]=T*i+R*d+M*m+I*C,e[11]=T*s+R*h+M*y+I*E,T=r[12],R=r[13],M=r[14],I=r[15],e[12]=T*n+R*a+M*f+I*b,e[13]=T*o+R*c+M*g+I*v,e[14]=T*i+R*d+M*m+I*C,e[15]=T*s+R*h+M*y+I*E,e}function LX(e,t,r){var n=r[0],o=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function NX(e,t,r){var n=r[0],o=r[1],i=r[2],s=Math.sqrt(n*n+o*o+i*i),a,c,d;return s<tD?null:(s=1/s,n*=s,o*=s,i*=s,a=Math.sin(t),c=Math.cos(t),d=1-c,e[0]=n*n*d+c,e[1]=o*n*d+i*a,e[2]=i*n*d-o*a,e[3]=0,e[4]=n*o*d-i*a,e[5]=o*o*d+c,e[6]=i*o*d+n*a,e[7]=0,e[8]=n*i*d+o*a,e[9]=o*i*d-n*a,e[10]=i*i*d+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function t0(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function iD(e,t){var r=t[0],n=t[1],o=t[2],i=t[4],s=t[5],a=t[6],c=t[8],d=t[9],h=t[10];return e[0]=Math.sqrt(r*r+n*n+o*o),e[1]=Math.sqrt(i*i+s*s+a*a),e[2]=Math.sqrt(c*c+d*d+h*h),e}function BX(e,t){var r=new Ji(3);iD(r,t);var n=1/r[0],o=1/r[1],i=1/r[2],s=t[0]*n,a=t[1]*o,c=t[2]*i,d=t[4]*n,h=t[5]*o,f=t[6]*i,g=t[8]*n,m=t[9]*o,y=t[10]*i,b=s+h+y,v=0;return b>0?(v=Math.sqrt(b+1)*2,e[3]=.25*v,e[0]=(f-m)/v,e[1]=(g-c)/v,e[2]=(a-d)/v):s>h&&s>y?(v=Math.sqrt(1+s-h-y)*2,e[3]=(f-m)/v,e[0]=.25*v,e[1]=(a+d)/v,e[2]=(g+c)/v):h>y?(v=Math.sqrt(1+h-s-y)*2,e[3]=(g-c)/v,e[0]=(a+d)/v,e[1]=.25*v,e[2]=(f+m)/v):(v=Math.sqrt(1+y-s-h)*2,e[3]=(a-d)/v,e[0]=(g+c)/v,e[1]=(f+m)/v,e[2]=.25*v),e}function sD(e,t,r,n){var o=t[0],i=t[1],s=t[2],a=t[3],c=o+o,d=i+i,h=s+s,f=o*c,g=o*d,m=o*h,y=i*d,b=i*h,v=s*h,C=a*c,E=a*d,T=a*h,R=n[0],M=n[1],I=n[2];return e[0]=(1-(y+v))*R,e[1]=(g+T)*R,e[2]=(m-E)*R,e[3]=0,e[4]=(g-T)*M,e[5]=(1-(f+v))*M,e[6]=(b+C)*M,e[7]=0,e[8]=(m+E)*I,e[9]=(b-C)*I,e[10]=(1-(f+y))*I,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function FX(e,t,r,n,o){var i=1/Math.tan(t/2);if(e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,o!=null&&o!==1/0){var s=1/(n-o);e[10]=(o+n)*s,e[14]=2*o*n*s}else e[10]=-1,e[14]=-2*n;return e}var jX=FX;function VX(e,t,r,n){var o=t[0],i=t[1],s=t[2],a=n[0],c=n[1],d=n[2],h=o-r[0],f=i-r[1],g=s-r[2],m=h*h+f*f+g*g;m>0&&(m=1/Math.sqrt(m),h*=m,f*=m,g*=m);var y=c*g-d*f,b=d*h-a*g,v=a*f-c*h;return m=y*y+b*b+v*v,m>0&&(m=1/Math.sqrt(m),y*=m,b*=m,v*=m),e[0]=y,e[1]=b,e[2]=v,e[3]=0,e[4]=f*v-g*b,e[5]=g*y-h*v,e[6]=h*b-f*y,e[7]=0,e[8]=h,e[9]=f,e[10]=g,e[11]=0,e[12]=o,e[13]=i,e[14]=s,e[15]=1,e}var Bl=AX;function sn(){var e=new Ji(3);return Ji!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function $X(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function hi(e,t,r){var n=new Ji(3);return n[0]=e,n[1]=t,n[2]=r,n}function aD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ha(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function zX(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function UX(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function GX(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function HX(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function WX(e,t){var r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(r*r+n*n+o*o)}function KX(e,t){var r=t[0]-e[0],n=t[1]-e[1],o=t[2]-e[2];return r*r+n*n+o*o}function qX(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function ty(e,t){var r=t[0],n=t[1],o=t[2],i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Ic(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Oh(e,t,r){var n=t[0],o=t[1],i=t[2],s=r[0],a=r[1],c=r[2];return e[0]=o*c-i*a,e[1]=i*s-n*c,e[2]=n*a-o*s,e}function Pc(e,t,r){var n=t[0],o=t[1],i=t[2],s=r[3]*n+r[7]*o+r[11]*i+r[15];return s=s||1,e[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/s,e[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/s,e[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/s,e}function YX(e,t){var r=e[0],n=e[1],o=e[2],i=t[0],s=t[1],a=t[2],c=Math.sqrt((r*r+n*n+o*o)*(i*i+s*s+a*a)),d=c&&Ic(e,t)/c;return Math.acos(Math.min(Math.max(d,-1),1))}var Ip=UX,XX=GX,ZX=WX,r0=KX,QX=$X,lD=qX;(function(){var e=sn();return function(t,r,n,o,i,s){var a,c;for(r||(r=3),n||(n=0),o?c=Math.min(o*r+n,t.length):c=t.length,a=n;a<c;a+=r)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],i(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}})();function JX(){var e=new Ji(4);return Ji!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Pp(e,t,r,n){var o=new Ji(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o}function n0(e,t,r,n,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=o,e}function eZ(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],s=r*r+n*n+o*o+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=r*s,e[1]=n*s,e[2]=o*s,e[3]=i*s,e}(function(){var e=JX();return function(t,r,n,o,i,s){var a,c;for(r||(r=4),n||(n=0),o?c=Math.min(o*r+n,t.length):c=t.length,a=n;a<c;a+=r)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],i(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}})();function kp(){var e=new Ji(4);return Ji!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function tZ(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function rZ(e,t,r){r=r*.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function nZ(e,t,r){r*=.5;var n=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(r),c=Math.cos(r);return e[0]=n*c+s*a,e[1]=o*c+i*a,e[2]=i*c-o*a,e[3]=s*c-n*a,e}function oZ(e,t,r){r*=.5;var n=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(r),c=Math.cos(r);return e[0]=n*c-i*a,e[1]=o*c+s*a,e[2]=i*c+n*a,e[3]=s*c-o*a,e}function iZ(e,t,r){r*=.5;var n=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(r),c=Math.cos(r);return e[0]=n*c+o*a,e[1]=o*c-n*a,e[2]=i*c+s*a,e[3]=s*c-i*a,e}function o0(e,t,r,n){var o=t[0],i=t[1],s=t[2],a=t[3],c=r[0],d=r[1],h=r[2],f=r[3],g,m,y,b,v;return m=o*c+i*d+s*h+a*f,m<0&&(m=-m,c=-c,d=-d,h=-h,f=-f),1-m>tD?(g=Math.acos(m),y=Math.sin(g),b=Math.sin((1-n)*g)/y,v=Math.sin(n*g)/y):(b=1-n,v=n),e[0]=b*o+v*c,e[1]=b*i+v*d,e[2]=b*s+v*h,e[3]=b*a+v*f,e}function sZ(e,t){var r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[o*3+o]&&(o=2);var i=(o+1)%3,s=(o+2)%3;n=Math.sqrt(t[o*3+o]-t[i*3+i]-t[s*3+s]+1),e[o]=.5*n,n=.5/n,e[3]=(t[i*3+s]-t[s*3+i])*n,e[i]=(t[i*3+o]+t[o*3+i])*n,e[s]=(t[s*3+o]+t[o*3+s])*n}return e}var aZ=n0,i0=eZ;(function(){var e=sn(),t=hi(1,0,0),r=hi(0,1,0);return function(n,o,i){var s=Ic(o,i);return s<-.999999?(Oh(e,t,o),QX(e)<1e-6&&Oh(e,r,o),ty(e,e),rZ(n,e,Math.PI),n):s>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(Oh(e,o,i),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+s,i0(n,n))}})(),(function(){var e=kp(),t=kp();return function(r,n,o,i,s,a){return o0(e,n,s,a),o0(t,o,i,a),o0(r,e,t,2*a*(1-a)),r}})(),(function(){var e=ey();return function(t,r,n,o){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=o[0],e[4]=o[1],e[7]=o[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],i0(t,sZ(t,e))}})();function lZ(e,t,r){const n=[],o=Math.ceil(r/8);e.font=t;let i=0;const s=o,a=o,c=o,d=o;let h=0;for(let m=0;m<16;++m){let y=0;for(let b=0;b<16;++b){const v=m*16+b,C=ha[v],{width:E}=e.measureText(C),T=r;n.push({x:y+c,y:h+s,w:E,h:T,asc:s,desc:a,left:c,right:d}),y+=c+Math.ceil(E)+d}h+=s+r+a,i=Math.max(i,y)}return{font:t,fontSize:r,glyphRects:n,width:i,height:h}}function cZ(e,{font:t,glyphRects:r,height:n,width:o}){e.canvas.width=o,e.canvas.height=n,e.font=t,e.fillStyle="white",e.textAlign="left",e.textBaseline="top",e.fontKerning="none",r.forEach(({x:i,y:s},a)=>{e.fillText(ha[a],i,s)})}const uZ=2,dZ=0,hZ=1,fZ=2,pZ=3,gZ=4,mZ=5,vZ=6,yZ=7,bZ=8,wZ=9,SZ=0,Dp=1,CZ=2,xZ=1,_Z=2,EZ=3,cD=4,TZ=5,MZ=6,OZ=0,RZ=1,IZ=0,uD=1,ry=0,Ap=1,ny=2,PZ=0,kZ=1,DZ=2,oy=0,iy=1,Lp=2;class s0{constructor(t){this.objectsGenerator=t,this.list=new WeakMap,this.cur=null}get(t){const{cur:r}=this;if(r&&r.ctx===t)return r;const n=this.list.get(t);if(n)return this.cur=n;const o=this.objectsGenerator(t);return this.list.set(t,this.cur=o),o}}function Np(e,t,r){const n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){console.log(r.split(`
`).map((s,a)=>`${a+1}: ${s}`).join(`
`));const i=e.getShaderInfoLog(n);throw Error(`Ошибка компиляции шейдера (${t===e.VERTEX_SHADER?"vertex":"fragment"}): ${i}`)}return n}function a0(e,t,r){const n=e.getUniformLocation(t,r);if(!n)throw Error(`Программа не содержит Uniform '${r}'`);return n}class AZ{constructor(){this.entries=new Map}add(t,r,n){let o=this.entries.get(t);o||this.entries.set(t,o=new Map);let i=o.get(r);i?i.push(n):o.set(r,i=[n])}filterInline(t){this.entries.forEach((r,n)=>{r.forEach((o,i)=>{const s=o.filter(t);s.length?r.set(i,s):r.delete(i)}),r.size||this.entries.delete(n)})}}var LZ=`precision mediump float;
#ifdef UV
uniform sampler2D uTexture;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){
#ifndef GOURAUD
vec4 vLightColor4=vec4(1,1,1,1);
#endif
#ifdef UV
gl_FragColor=texture2D(uTexture,vTexCoord)*vLightColor4;
#else
gl_FragColor=vLightColor4;
#endif
}`,NZ=`uniform mat4 uMVP4;
#ifdef GOURAUD
uniform vec3 uWorldLightPos;uniform mat4 uWorldMat4;uniform mat3 uWorldNormalMat;uniform vec3 uAmbientColor;uniform vec4 uTechDiffuseColor4;
#endif
attribute vec4 aPos4;
#ifdef GOURAUD
attribute vec3 aNormal;
#endif
#ifdef UV
attribute vec2 aUv;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){gl_Position=uMVP4*aPos4;
#ifdef GOURAUD
vec3 lightDir=normalize(uWorldLightPos-(uWorldMat4*aPos4).xyz);vec3 worldNormal=normalize(uWorldNormalMat*aNormal);vec3 uLightDiffuse=vec3(1,1,1);float uLightPower=1.;vec3 diffuse=uLightDiffuse*uLightPower*max(dot(worldNormal,lightDir),.0);vec3 GI=uAmbientColor+(uTechDiffuseColor4.rgb*diffuse);vLightColor4=vec4(GI,uTechDiffuseColor4.a);
#endif
#ifdef UV
vTexCoord=aUv;
#endif
}`;let sy=-1;const Rh=[{usesUV:!1,shadingMode:-1,index:++sy},{usesUV:!1,shadingMode:Dp,index:++sy},{usesUV:!0,shadingMode:-1,index:++sy},{usesUV:!0,shadingMode:Dp,index:++sy}],dD={usesUV:!0,shadingMode:-1,index:-1};class hD{constructor(t,r,n,o){this.ctx=t,this.shaderProgram=r,this.hasNormalsSupport=n,this.hasUVSupport=o,this._activeTech=null,this._activeVAO=null}use(){const{ctx:t}=this;t._activeProgram!==this&&(t._setActiveProgram(this),t.gl.useProgram(this.shaderProgram),this._activeTech=null,this._activeVAO=null,++t.stats.switchesProgram,this.init())}_setActiveTech(t){this._activeTech=t}_setActiveVAO(t){this._activeVAO=t}}const fD=Rh.map(({usesUV:e,shadingMode:t})=>{const r=[];return e&&r.push("UV"),r.push(t===Dp?"GOURAUD":t===CZ?"PHONG":t===SZ?"FLAT":"NO_SHADING"),r.map(n=>`#define ${n}
`).join("")}),BZ=fD.map(e=>e+NZ),FZ=fD.map(e=>e+LZ),jZ=sn();class pD extends hD{constructor(t,r,n,o){const{gl:i}=t,s=i.createProgram();if(i.attachShader(s,n),i.attachShader(s,o),i.bindAttribLocation(s,oy,"aPos4"),i.bindAttribLocation(s,iy,"aNormal"),i.bindAttribLocation(s,Lp,"aUv"),i.linkProgram(s),!i.getProgramParameter(s,i.LINK_STATUS)){const d=i.getProgramInfoLog(s);throw Error(`Ошибка Link Program: ${d}`)}const a=r.shadingMode>-1;super(t,s,a,r.usesUV),this.caps=r,this.uTechDiffuseColor4=null,this.uAmbientColor=null,this.uWorldLightPos=null,this.uWorldMat4=null,this.uWorldNormalMat=null;const c=a0.bind(null,i,s);this.uVMP4=c("uMVP4"),a&&(this.uTechDiffuseColor4=c("uTechDiffuseColor4"),this.uWorldLightPos=c("uWorldLightPos"),this.uWorldMat4=c("uWorldMat4"),this.uWorldNormalMat=c("uWorldNormalMat"),this.uAmbientColor=c("uAmbientColor")),this.gl=i}init(){this.hasNormalsSupport&&this.gl.uniform3fv(this.uWorldLightPos,this.ctx._lightPosition)}setMVPMatrix(t){this.gl.uniformMatrix4fv(this.uVMP4,!1,t)}setNormalMatrix(t,r){const{gl:n}=this;n.uniformMatrix4fv(this.uWorldMat4,!1,t),n.uniformMatrix3fv(this.uWorldNormalMat,!1,r)}setDiffuse(t){this.gl.uniform4fv(this.uTechDiffuseColor4,t)}setAmbient(t){this.gl.uniform3fv(this.uAmbientColor,XX(jZ,this.ctx._ambientColor,t))}useTexture(){}}var VZ="precision mediump float;varying vec2 tCoord;uniform vec4 color;uniform bool useTexture;uniform sampler2D tex;void main(){gl_FragColor=useTexture ? texture2D(tex,tCoord)*color : color;}",$Z="attribute vec2 v;attribute vec2 uv;uniform vec4 p;uniform vec4 uvRect;varying vec2 tCoord;void main(){gl_Position=vec4((p.x+p.z*v.x)*2.-1.,(-p.y+p.w*v.y)*2.+1.,0,1);tCoord=vec2(uvRect.x+uvRect.z*uv.x,uvRect.y+uvRect.w*uv.y);}";class zZ extends hD{constructor(t){const{gl:r}=t,n=Np(r,r.VERTEX_SHADER,$Z),o=Np(r,r.FRAGMENT_SHADER,VZ),i=r.createProgram();if(r.attachShader(i,n),r.attachShader(i,o),r.bindAttribLocation(i,oy,"v"),r.bindAttribLocation(i,Lp,"uv"),r.linkProgram(i),!r.getProgramParameter(i,r.LINK_STATUS)){const a=r.getProgramInfoLog(i);throw Error(`Ошибка Link Program: ${a}`)}super(t,i,!1,!0),this.textureInUse=!1;const s=a0.bind(null,r,i);this.uPos=s("p"),this.uUVRect=s("uvRect"),this.uColor=s("color"),this.uUseTexture=s("useTexture"),this.gl=t.gl}setColor(t){this.gl.uniform4fv(this.uColor,t)}setPositionAndScale(t,r,n,o){this.gl.uniform4f(this.uPos,t,r,n,o)}setUVRect(t){this.gl.uniform4fv(this.uUVRect,t)}useTexture(t){this.textureInUse!==t&&(this.textureInUse=t,this.gl.uniform1f(this.uUseTexture,+t))}init(){}}var UZ="precision mediump float;uniform sampler2D uTexture;uniform vec4 uTextColor;varying vec2 vTexCoord;void main(){float alpha=texture2D(uTexture,vTexCoord).a*uTextColor.a;gl_FragColor=vec4(uTextColor.rgb,alpha);}";class GZ extends pD{constructor(t,r){const{gl:n}=t,o=Np(n,n.FRAGMENT_SHADER,UZ);super(t,dD,r,o),this.uTextColor=a0(n,this.shaderProgram,"uTextColor")}setTextColor(t){this.gl.uniform4fv(this.uTextColor,t)}}class Bp{use(t){const r=this.selectProgram(t);return r.use(),r._activeTech===this||(r._setActiveTech(this),this.apply(r),++t.stats.switchesTech),r}}class HZ extends Bp{constructor(t){super(),this.material=t,this.passVersion=-1,this.texture=null,this.programCaps=null,this.pass=t.techs[0].passes[0]}prepare(){const{pass:t}=this;if(this.passVersion===t._version)return;this.passVersion=t._version;const n=!!(this.texture=t._getDefaultTextureUnit()?.getTexture()||null),o=t.lightingEnabled?Dp:0,i=Rh.find(s=>s.usesUV===n&&s.shadingMode===o);if(!i)throw Error(`Материал "${this.material.name}": программа с заданными требованиями (usesUV: ${n}, shadingMode: ${o}) не существует`);this.programCaps=i}hasOpacity(){const{pass:t}=this;return t.diffuse[3]<1}getProgramCaps(){return this.prepare(),this.programCaps}selectProgram(t){return this.prepare(),t.meshPrograms[this.programCaps.index]}apply(t){const{ctx:r}=t,{pass:n}=this;r.setDepthWrite(n.depthWrite),r.setDepthCheck(n.depthCheck),this.texture?.use(r),t.setDiffuse(n.diffuse),t.setAmbient(n.ambient)}}class WZ extends Bp{constructor(t){super(),this.material=t,this.pass=t.techs[0].passes[0]}selectProgram(t){return t.overlayProgram}apply(t){const{pass:r}=this,n=r._getDefaultTextureUnit()?.getTexture();n?(n.use(t.ctx),t.useTexture(!0)):t.useTexture(!1),t.setColor(r.diffuse)}}class KZ extends Bp{constructor(t,r){super(),this.fontTexture=t,this.colorSource=r}getProgramCaps(){return dD}selectProgram(t){return t.textProgram}apply(t){this.fontTexture.use(t.ctx),t.setTextColor(this.colorSource.color)}}const qZ=Pp(0,0,1,1);class YZ extends Bp{constructor(t){super(),this.fontTexture=t}selectProgram(t){return t.overlayProgram}apply(t){this.fontTexture.use(t.ctx),t.useTexture(!0),t.setUVRect(qZ)}}const l0=document.createElement("canvas").getContext("2d",{alpha:!0});class XZ{constructor(t){this.fontName=t,this.cache=new s0(this.genFontTexture.bind(this)),this.textOverlayRenderTech=null;const r=Math.round(150/72*20);this.glyphData=lZ(l0,`${r}px ${this.fontName}`,r)}genFontTexture(t){cZ(l0,this.glyphData);const{gl:r}=t,n=r.createTexture();return t.setTexture(n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,l0.canvas),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),{ctx:t,texture:n}}use(t){t.setTexture(this.cache.get(t).texture)}getTextOverlayRenderTech(){return this.textOverlayRenderTech||(this.textOverlayRenderTech=new YZ(this)),this.textOverlayRenderTech}}class ZZ{constructor(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesVAO=0,this.switchesFace=0,this.dcOpaque=0,this.dcTransparent=0,this.dcOverlay=0,this.dcTotal=0;const t=this;Object.defineProperty(window,"s",{configurable:!0,get(){return t}})}reset(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesFace=0,this.switchesVAO=0,this.dcOpaque=0,this.dcTransparent=0,this.dcTotal=0,this.dcOverlay=0}}class QZ{constructor(t){this.gl=t,this.currentTexture=null,this.uvEnabled=!1,this.normalsEnabled=!1,this.backFacesInUse=!1,this.depthWrite=!0,this.depthCheck=!0,this.blendSFactor=WebGLRenderingContext.ONE,this.blendDFactor=WebGLRenderingContext.ZERO,this._ambientColor=sn(),this._lightPosition=sn(),this.stats=new ZZ,this._activeProgram=null,t.enable(t.CULL_FACE),t.enableVertexAttribArray(oy),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.hasIndices32Support=!!t.getExtension("OES_element_index_uint");const r=BZ.map(i=>Np(t,t.VERTEX_SHADER,i)),n=FZ.map(i=>Np(t,t.FRAGMENT_SHADER,i));this.meshPrograms=Rh.map((i,s)=>new pD(this,i,r[s],n[s]));const o=r[Rh.findIndex(i=>i.usesUV&&i.shadingMode<0)];this.textProgram=new GZ(this,o),this.overlayProgram=new zZ(this)}_setActiveProgram(t){this._activeProgram=t}reset(){this.stats.reset()}setLighting(t,r){aD(this._ambientColor,t),aD(this._lightPosition,r),this._activeProgram?.init()}enableUV(){this.uvEnabled||(this.uvEnabled=!0,this.gl.enableVertexAttribArray(Lp))}disableUV(){this.uvEnabled&&(this.uvEnabled=!1,this.gl.disableVertexAttribArray(Lp))}enableNormals(){this.normalsEnabled||(this.normalsEnabled=!0,this.gl.enableVertexAttribArray(iy))}disableNormals(){this.normalsEnabled&&(this.normalsEnabled=!1,this.gl.disableVertexAttribArray(iy))}useBackFaces(t){if(this.backFacesInUse===t)return;this.backFacesInUse=t;const{gl:r}=this;r.frontFace(t?r.CW:r.CCW),++this.stats.switchesFace}setTexture(t){if(this.currentTexture===t)return;this.currentTexture=t;const{gl:r}=this;r.bindTexture(r.TEXTURE_2D,t),++this.stats.switchesTexture}setDepthWrite(t){this.depthWrite!==t&&(this.depthWrite=t,this.gl.depthMask(t))}setDepthCheck(t){if(this.depthCheck===t)return;this.depthCheck=t;const{gl:r}=this;r.depthFunc(t?r.LESS:r.ALWAYS)}setBlendFunc(t,r){this.blendSFactor===t&&this.blendDFactor===r||(this.blendSFactor=t,this.blendDFactor=r,this.gl.blendFunc(t,r))}}function Fl(e){const t=e.split(" ").map(r=>parseFloat(r));return t.length===4&&!t.some(isNaN)?[t[0],t[1],t[2]-t[0],t[3]-t[1]]:null}function JZ(e){const t=e.split(" ").slice(0,3).map(r=>parseFloat(r));return t.some(isNaN)?null:[...t,1]}class c0{constructor(t,r,n){this.o=t,this.type=r,this.overlay=null,this.parent=null,this.children=[],this.visible=!0,this.x=0,this.y=0,this.width=0,this.height=0,this.metricsMode=IZ,this.horAlign=ry,this.horTextAlign=ry,this.vertAlign=PZ,this.caption="",this.charHeight=12,this.spaceWidth=0,this.color=[1,1,1,1],this.material=null,this.uv=[0,0,1,1],this.uvTL=[0,0,1,1],this.uvTR=[0,0,1,1],this.uvBL=[0,0,1,1],this.uvBR=[0,0,1,1],this.uvL=[0,0,1,1],this.uvR=[0,0,1,1],this.uvT=[0,0,1,1],this.uvB=[0,0,1,1],this.borders=[0,0,0,0],this.textMesh=null,t.overlayElements.set(this.key=t.key(),this),this.name=n?.name??""}drawAt(t,r,n,o,i,s,a){const{visible:c,vertAlign:d,horAlign:h,metricsMode:f,x:g,y:m,width:y,height:b}=this;if(!c)return;const v=f===uD,C=(v?g/s:g)+(h===ny?o:h===Ap?o/2:0)+r,E=(v?m/a:m)+(d===DZ?i:d===kZ?i/2:0)+n,T=v?y/s:y,R=v?b/a:b;this.draw(t,C,E,T,R,s,a),this.children.forEach(M=>M.drawAt(t,C,E,T,R,s,a))}setMetricsMode(t){return this.metricsMode=t,this}setChildren(t){return this.children.forEach(r=>r.parent=null),this.children=Array.from(new Set(t)),this.children.forEach(r=>r.parent=this),this}setVisible(t){return this.visible=t,this}setPosition(t,r){return this.x=t,this.y=r,this}setSize(t,r){return this.width=t,this.height=r,this}setAlignment(t,r){return this.horAlign=t,this.vertAlign=r,this}setCaption(t){return this.caption!==t&&(this.caption=t,this.textMesh=null),this}setColor(t,r,n,o){return this.color=[t,r,n,o],this}setMaterial(t){return this.material=t,this}setParam(t,r){switch(t){case"uv_coords":{const o=Fl(r);o&&(this.uv=o);break}case"border_material":break;case"border_size":{const o=r.split(" ").map(i=>Math.max(parseInt(i),2));o.length===4&&!o.some(isNaN)&&(this.borders=o);break}case"border_topleft_uv":{const o=Fl(r);o&&(this.uvTL=o);break}case"border_topright_uv":{const o=Fl(r);o&&(this.uvTR=o);break}case"border_bottomleft_uv":{const o=Fl(r);o&&(this.uvBL=o);break}case"border_bottomright_uv":{const o=Fl(r);o&&(this.uvBR=o);break}case"border_left_uv":{const o=Fl(r);o&&(this.uvL=o);break}case"border_right_uv":{const o=Fl(r);o&&(this.uvR=o);break}case"border_top_uv":{const o=Fl(r);o&&(this.uvT=o);break}case"border_bottom_uv":{const o=Fl(r);o&&(this.uvB=o);break}case"font_name":break;case"alignment":this.horTextAlign=r==="center"?Ap:r==="right"?ny:ry;break;case"colour":const n=JZ(r);n&&(this.color=n);break;case"char_height":{const o=parseInt(r)||12;this.charHeight!==o&&(this.charHeight=o,this.textMesh=null);break}case"space_width":{const o=parseInt(r)||12;this.spaceWidth!==o&&(this.spaceWidth=o,this.textMesh=null);break}default:console.warn(`Неизвестный параметр StringInterface: '${t}'`);break}}}class Ih{constructor(t){this.data=t,this.cache=new s0(this.genBuffers.bind(this)),this.gl=null;const{indices:r,positions:n,positionSize:o}=t,i=this.useIndices32=r instanceof Uint32Array;this.positionSize=o,this.hasIndices=!!r,this.count=r?.length??n.length/o,this.drawMode=t.drawMode??WebGLRenderingContext.TRIANGLES,this.indicesType=i?WebGLRenderingContext.UNSIGNED_INT:WebGLRenderingContext.UNSIGNED_SHORT}genBuffers(t){const{gl:r}=t,{indices:n,positions:o,uvs:i,normals:s}=this.data,a=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,o,r.STATIC_DRAW);let c;i?(c=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,i,r.STATIC_DRAW)):c=null;let d;s?(d=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,d),r.bufferData(r.ARRAY_BUFFER,s,r.STATIC_DRAW)):d=null;let h;return n?(h=r.createBuffer(),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,h),r.bufferData(r.ELEMENT_ARRAY_BUFFER,n,r.STATIC_DRAW),this.useIndices32&&!t.hasIndices32Support&&(console.warn("WebGL: Не поддерживаются 32-битные индексы"),this.indicesType=r.UNSIGNED_SHORT,this.count=0)):h=null,{ctx:t,positionsBuffer:a,uvsBuffer:c,normalsBuffer:d,indexBuffer:h}}use(t){if(t._activeVAO===this)return;t._setActiveVAO(this);const{ctx:r}=t,{positionsBuffer:n,uvsBuffer:o,normalsBuffer:i,indexBuffer:s}=this.cache.get(r),{gl:a}=r;a.bindBuffer(a.ARRAY_BUFFER,n),a.vertexAttribPointer(oy,this.positionSize,a.FLOAT,!1,0,0),o&&t.hasUVSupport?(a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(Lp,2,a.FLOAT,!1,0,0),r.enableUV()):r.disableUV(),i&&t.hasNormalsSupport?(a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(iy,3,a.FLOAT,!1,0,0),r.enableNormals()):r.disableNormals(),s&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s),this.gl=a,++r.stats.switchesVAO}draw(){const{gl:t,drawMode:r,count:n,indicesType:o,hasIndices:i}=this;i?t.drawElements(r,n,o,0):t.drawArrays(r,0,n)}_drawRange(t,r){const{gl:n,drawMode:o,indicesType:i}=this;n.drawElements(o,r,i,t)}}class eQ{constructor(t,r,n){this.sharedVAO=t,this.count=n,this.byteOffset=r*(t.useIndices32?4:2)}use(t){this.sharedVAO.use(t)}draw(){this.sharedVAO._drawRange(this.byteOffset,this.count)}}const ay=new Ih({positionSize:2,positions:new Float32Array([0,0,0,-1,1,-1,1,0]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),drawMode:WebGLRenderingContext.TRIANGLE_FAN});class tQ extends c0{constructor(t,r){super(t,"Panel",r)}draw(t,r,n,o,i){const{material:s,uv:a}=this;if(!s)return;const c=s._getPanelOverlayRenderTech().use(t);ay.use(c),c.setUVRect(a),c.setPositionAndScale(r,n,o,i),ay.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class rQ extends c0{constructor(t,r){super(t,"BorderPanel",r)}draw(t,r,n,o,i,s,a){const{material:c,uv:d,borders:h,uvTL:f,uvT:g,uvTR:m,uvR:y,uvBR:b,uvB:v,uvBL:C,uvL:E,metricsMode:T}=this;if(!c)return;const R=c._getPanelOverlayRenderTech().use(t);ay.use(R);const M=T===uD,I=M?h[0]/s:h[0],N=M?h[1]/s:h[1],P=M?h[2]/a:h[2],L=M?h[3]/a:h[3],D=o-I-N,$=i-P-L;[[[I,P,D,$],d],[[0,0,I,P],f],[[I,0,D,P],g],[[I+D,0,N,P],m],[[I+D,P,N,$],y],[[I+D,P+$,N,L],b],[[I,P+$,D,L],v],[[0,P+$,I,L],C],[[0,P,I,$],E]].forEach(([U,q])=>{R.setUVRect(q),R.setPositionAndScale(r+U[0],n+U[1],U[2],U[3]),ay.draw(),++t.stats.dcOverlay,++t.stats.dcTotal})}}function gD(e,t,r=ry,n=0){const{glyphRects:o,fontSize:i,height:s,width:a}=e,c=[...t],d=(n||o[Vv].w)/i;let h=0;const f=[];let g=0,m=0;{let E={glyphs:[],width:0},T=0;c.forEach(R=>{const M=ha.indexOf(R),I=M>-1?M:Vv;if(I===RK){f.push(E),g=Math.max(g,E.width),m+=1,E={glyphs:[],width:0},T=0,E.width=0;return}const N=o[I];if(I===Vv)(r!==Ap||!f.length||E.glyphs.length)&&(E.width+=d,E.glyphs.push(null));else{const P=N.w/i,L=N.h/i;E.width+=P,T=Math.max(T,L),E.glyphs.push(N),++h}}),f.push(E),g=Math.max(g,E.width),m+=T}if(!h)return{caption:t,width:g,height:m,vao:null,align:r};const y=new Float32Array(h*8),b=new Float32Array(h*8),v=new Uint16Array(h*6);{let E=0,T=0;f.forEach(R=>{let M=r===Ap?(g-R.width)/2:r===ny?g-R.width:0;R.glyphs.forEach(I=>{if(!I){M+=d;return}const N=I.w/i,P=I.x-I.left,L=I.y-I.asc,D=I.left+I.w+I.right,$=I.asc+I.h+I.desc,B=D/i,U=$/i,q=E*8,W=E*6,V=E*4;++E;{const Y=M-I.left/i,Q=T+I.asc/i;M+=N;const re=Y,z=Y,K=Y+B,Z=K,le=Q,ce=Q-U,ue=ce,ae=le;y[q+0]=re,y[q+1]=le,y[q+2]=z,y[q+3]=ce,y[q+4]=K,y[q+5]=ue,y[q+6]=Z,y[q+7]=ae}{const Y=P/a,Q=Y,re=(P+D)/a,z=re,K=L/s,Z=(L+$)/s,le=Z,ce=K;b[q+0]=Y,b[q+1]=K,b[q+2]=Q,b[q+3]=Z,b[q+4]=re,b[q+5]=le,b[q+6]=z,b[q+7]=ce}v[W+0]=V+0,v[W+1]=V+1,v[W+2]=V+2,v[W+3]=V+0,v[W+4]=V+2,v[W+5]=V+3}),T-=1})}const C=new Ih({positionSize:2,positions:y,uvs:b,indices:v});return{caption:t,width:g,height:m,vao:C,align:r}}class nQ extends c0{constructor(t,r){super(t,"TextArea",r),this.tech=t._getFontTexture().getTextOverlayRenderTech()}draw(t,r,n,o,i,s,a){const{caption:c,tech:d,horTextAlign:h,spaceWidth:f}=this;if(!c)return;const{vao:g,width:m}=this.textMesh||(this.textMesh=gD(d.fontTexture.glyphData,c,h,f));if(!g)return;const y=d.use(t);g.use(y);const b=this.charHeight*.75,v=b/s,C=b/a,E=r-(h===ny?m*v:h===Ap?m*v/2:0);y.setPositionAndScale(E,n,v,C),y.setColor(this.color),g.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class ly{constructor(){this.renderIteration=0,this.currentRenderList=null}_setCurrentRenderList(t){this.currentRenderList=t}_setRenderIteration(t){this.renderIteration=t}_techOrVAOChanged(){this.currentRenderList?._removeElement(this)}}class oQ{constructor(){this.renderIteration=0,this.gcFilter=t=>t.currentRenderList===this,this.capsGroups=Rh.map(()=>new AZ)}clear(){++this.renderIteration}add(t){if(t._setRenderIteration(this.renderIteration),t.currentRenderList===this)return;t._setCurrentRenderList(this);const r=t.getRenderTech(),n=t.getVAO(),o=r.getProgramCaps();this.capsGroups[o.index].add(r,n,t)}_removeElement(t){t._setCurrentRenderList(null),this.gc()}render(t,r){let n=!1;const{renderIteration:o}=this,{stats:i}=t;for(const s of this.capsGroups)s.entries.forEach((a,c)=>{const d=c.use(t),{hasNormalsSupport:h}=d;a.forEach((f,g)=>{g.use(d),f.forEach(m=>{if(m.currentRenderList!==this){n=!0;return}if(m.renderIteration!==o){m._setCurrentRenderList(null),n=!0;return}t.useBackFaces(m.isMirrored()),h&&d.setNormalMatrix(m.getWorldMatrix(),m.getWorldNormalMatrix()),d.setMVPMatrix(m.getMVPMatrix(r)),g.draw(),++i.dcOpaque,++i.dcTotal})})});n&&this.gc()}gc(){for(const t of this.capsGroups)t.filterInline(this.gcFilter)}}class mD{constructor(){this.elements=[],this.renderIteration=0}clear(){++this.renderIteration}add(t){t._setRenderIteration(this.renderIteration),t.currentRenderList!==this&&(t._setCurrentRenderList(this),this.elements.push(t))}_removeElement(){}render(t,r){let n=!1;const{renderIteration:o}=this,{stats:i}=t;if(r.node){const s=r.node.getWorldPosition();this.elements.sort((a,c)=>r0(s,c.getWorldCOM())-r0(s,a.getWorldCOM()))}else this.elements.sort((s,a)=>lD(a.getWorldCOM())-lD(s.getWorldCOM()));this.elements.forEach(s=>{if(s.currentRenderList!==this){n=!0;return}if(s.renderIteration!==o){s._setCurrentRenderList(null),n=!0;return}const a=s.getRenderTech(),c=s.getVAO(),d=a.use(t);c.use(d),t.useBackFaces(s.isMirrored()),d.hasNormalsSupport&&d.setNormalMatrix(s.getWorldMatrix(),s.getWorldNormalMatrix()),d.setMVPMatrix(s.getMVPMatrix(r)),c.draw(),++i.dcTotal,++i.dcTransparent}),n&&this.gc()}gc(){this.elements=this.elements.filter(t=>t.currentRenderList===this)}}class iQ{constructor(t){this.image=t,this.cache=new s0(this.genTexture.bind(this))}genTexture(t){const{gl:r}=t,n=r.createTexture();function o(s){t.setTexture(n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s),rk(s.width)&&rk(s.height)?r.generateMipmap(r.TEXTURE_2D):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE))}const{image:i}=this;return i.complete&&i.naturalHeight?o(i):(t.setTexture(n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array([211,211,211,64])),i.complete||i.addEventListener("load",()=>o(i))),{ctx:t,texture:n}}use(t){t.setTexture(this.cache.get(t).texture)}}const sQ=Qo(),aQ=ey(),vD=sn(),lQ=hi(0,1,0),yD=hi(0,0,-1),cQ=hi(1,1,1),uQ=Pp(1,1,1,1),u0=sn(),d0=sn(),h0=sn(),f0=sn(),p0=sn();function bD({origin:e,dir:t},r,n,o){Ip(u0,n,r),Ip(d0,o,r),Oh(h0,t,d0);const i=Ic(u0,h0);if(i>-Number.EPSILON&&i<Number.EPSILON)return 1/0;const s=1/i;Ip(f0,e,r);const a=Ic(f0,h0)*s;if(a<0||a>1)return 1/0;Oh(p0,f0,u0);const c=Ic(t,p0)*s;if(c<0||a+c>1)return 1/0;const d=Ic(d0,p0)*s;return d>Number.EPSILON?d:1/0}const kc=sn(),Dc=sn(),Ac=sn();function dQ(e,t){let r=1/0;for(let n=0;n+8<t.length;n+=9){kc[0]=t[n+0],kc[1]=t[n+1],kc[2]=t[n+2],Dc[0]=t[n+3],Dc[1]=t[n+4],Dc[2]=t[n+5],Ac[0]=t[n+6],Ac[1]=t[n+7],Ac[2]=t[n+8];const o=bD(e,kc,Dc,Ac);r>o&&(r=o)}return r}function hQ(e,t,r){let n=1/0;for(let o=0;o+2<r.length;o+=3){const i=r[o+0]*3,s=r[o+1]*3,a=r[o+2]*3;kc[0]=t[i+0],kc[1]=t[i+1],kc[2]=t[i+2],Dc[0]=t[s+0],Dc[1]=t[s+1],Dc[2]=t[s+2],Ac[0]=t[a+0],Ac[1]=t[a+1],Ac[2]=t[a+2];const c=bD(e,kc,Dc,Ac);n>c&&(n=c)}return n}function fQ(e,t,r){const[n,o,i]=t;return e[0]=r[0]*n+r[4]*o+r[8]*i,e[1]=r[1]*n+r[5]*o+r[9]*i,e[2]=r[2]*n+r[6]*o+r[10]*i,ty(e,e)}function pQ(e,t,r){return Pc(e.origin,t.origin,r),fQ(e.dir,t.dir,r),e}function wD(e){switch(e){case dZ:return WebGLRenderingContext.ONE;case hZ:return WebGLRenderingContext.ZERO;case fZ:return WebGLRenderingContext.DST_COLOR;case pZ:return WebGLRenderingContext.SRC_COLOR;case gZ:return WebGLRenderingContext.ONE_MINUS_DST_COLOR;case mZ:return WebGLRenderingContext.ONE_MINUS_SRC_COLOR;case vZ:return WebGLRenderingContext.DST_ALPHA;case yZ:return WebGLRenderingContext.SRC_ALPHA;case bZ:return WebGLRenderingContext.ONE_MINUS_DST_ALPHA;case wZ:return WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;default:return 0}}function gQ(e){switch(e){case xZ:return WebGLRenderingContext.POINTS;case _Z:return WebGLRenderingContext.LINES;case EZ:return WebGLRenderingContext.LINE_STRIP;case TZ:return WebGLRenderingContext.TRIANGLE_STRIP;case MZ:return WebGLRenderingContext.TRIANGLE_FAN;default:return WebGLRenderingContext.TRIANGLES}}function g0(){return{origin:sn(),dir:hi(0,0,1)}}const mQ=new Ih({positionSize:2,positions:new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,-.5]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),indices:new Uint16Array([0,2,1,0,3,2,0,1,2,0,2,3])});class vQ extends ly{constructor(t,r,n){super(),this.set=t,this.position=r,this.parentScale=n,this.worldMatrix=Qo(),this.localMatrix=Qo(),this.worldCOM=sn(),this.rotation=kp(),this.mvpMatrix=Qo(),this.worldMatrixVersion=0,this.comWorldMatrixVersion=0,this.shouldUpdateLocalMatrix=!0,this.key=t.o.key()}getMVPMatrix(t){return Bl(this.mvpMatrix,t._getVPMatrix(),this.getWorldMatrix())}getWorldMatrix(){const{set:t}=this;this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,sD(this.localMatrix,this.rotation,this.position,this.parentScale),this.worldMatrixVersion=0);const r=t.node;return this.worldMatrixVersion!==r._worldMatrixVersion&&(this.worldMatrixVersion=r._worldMatrixVersion,Bl(this.worldMatrix,r._getWorldMatrix(),this.localMatrix)),this.worldMatrix}getWorldCOM(){const t=this.set.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Pc(this.worldCOM,this.position,t._getWorldMatrix()),t0(this.worldCOM,this.getWorldMatrix())),this.worldCOM}getVAO(){return mQ}getRenderTech(){return this.set.material._getMeshRenderTech()}getWorldNormalMatrix(){return aQ}isMirrored(){return!1}_onAttached(){this.worldMatrixVersion=0,this.comWorldMatrixVersion=0}_updateLocalMatrix(){this.shouldUpdateLocalMatrix=!0}}class Ph{constructor(t,r){this.o=t,this.node=null,this.visible=!0,t.movables.set(this.key=t.key(),this),this.name=r?.name??""}destroy(){this.detach(),this.o.movables.delete(this.key)}setVisible(t){return this.visible=t,this}detach(){const t=this.node;return t?(t.movables=t.movables.filter(r=>r!==this),this.node=null,this):this}}class yQ extends Ph{constructor(t,r){super(t,r),this.commonScale=hi(1,1,1),this.type=OZ,this.material=null,this.billboards=[],t.billboardSets.set(this.key,this)}destroy(){super.destroy(),this.o.billboardSets.delete(this.key)}createBillboard(t,r,n){const o=new vQ(this,hi(t,r,n),this.commonScale);return this.billboards.push(o),o}setCommonDirection(t,r,n){return this}setCommonUpVector(t,r,n){return this}setDimensions(t,r){Ha(this.commonScale,t,r,1);for(const n of this.billboards)n._updateLocalMatrix();return this}setType(t){if(t!==RZ)throw Error(`billboardSet_SetBillboardType: тип ${t} не реализован`);return this.type=t,this}setMaterial(t){if(this.material!==t){this.material=t;for(const r of this.billboards)r._techOrVAOChanged()}return this}_onAttached(){for(const t of this.billboards)t._onAttached()}_setup(t){const{material:r}=this;if(!r)return;const n=r._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements;for(const o of this.billboards)n.add(o)}}const SD=new Map;class bQ{constructor(t){this.info=t,this.texture=null,this.image=null,this.loadImage()}loadImage(){if(this.image)return this.image;const t=Zi(this.info.src),r=SD.get(t);if(r)return this.image=r;const n=new Image;return n.crossOrigin="",n.src=t,SD.set(t,n),this.image=n}getTexture(){return this.texture||(this.image||(this.image=this.loadImage()),this.texture=new iQ(this.image)),this.texture}}const cy=sn();class CD{constructor(t,r){this.center=t,this.sqrRadius=r*r}intersectsWith(t){const{center:r}=this;if(r0(r,t.origin)<=this.sqrRadius)return!0;Ip(cy,r,t.origin);const n=Ic(cy,t.dir),o=Ic(cy,cy)-n*n;if(o>this.sqrRadius)return!1;const i=Math.sqrt(this.sqrRadius-o);return n+i>=0}}class wQ{constructor(t,r,n){this.parent=t,this.data=r,this.indexOffset=n,this.material=null,this.vao=null,this.materialFound=!1,this.materialName=r.material||"",this.useSharedGeometry=r.useSharedGeometry||!1;const o=r.useSharedGeometry?t.data.sharedGeometry:r.geometry;if(!o)throw Error("Mesh не имеет геометрии");if(o.length>1)throw Error("Mesh с несколькими VertexBuffer не реализованы");const[i]=o;if(!i.positions)throw Error("Mesh без Positions не поддерживается");this.vBufferData=i;const{maxX:s,maxY:a,maxZ:c,minX:d,minY:h,minZ:f}=r.extrema||i.positions.extrema,g=(s+d)/2,m=(a+h)/2,y=(c+f)/2;this.center=hi(g,m,y);const b=Math.max(s-d,a-h,c-f)/2;this.boundingSphere=new CD(this.center,b)}getCOM(){return this.center}getVertexCount(){return this.vBufferData.vertexCount}getDefaultMaterial(){if(this.materialFound)return this.material;if(this.materialFound=!0,!this.materialName)return null;const t=this.parent.o.materialByName.get(this.materialName)??null;if(!t){const r=this.parent.submeshes.indexOf(this);console.warn(`Ogre: ${this.parent.meta}[${r}]: материал '${this.materialName}' не существует`)}return this.material=t}getVAO(){if(this.vao)return this.vao;if(this.useSharedGeometry){const a=this.indexOffset;let c=this.data.indices.length;return this.vao=new eQ(this.parent._getSharedVAO(),a,c)}const{vBufferData:t,data:r}=this,n=new Float32Array(t.positions.coords),o=t.normals?.length?new Float32Array(t.normals):null,i=t.uvs?.length?new Float32Array(t.uvs[0]):null,s=new(r.useIndices32?Uint32Array:Uint16Array)(r.indices);return this.vao=new Ih({positionSize:3,positions:n,uvs:i,normals:o,indices:s})}getClosestIntersection(t){return this.boundingSphere.intersectsWith(t)?hQ(t,this.vBufferData.positions.coords,this.data.indices):1/0}}class SQ{constructor(t,r){this.o=t,this.data=r,this.sharedVAO=null;let n=0;this.submeshes=r.submeshes.map(o=>{const i=new wQ(this,o,n);return n+=o.indices.length,i})}_getSharedVAO(){if(this.sharedVAO)return this.sharedVAO;const[t]=this.data.sharedGeometry;let r=!1,n=0;this.data.submeshes.forEach(d=>{d.useIndices32&&(r=!0),n+=d.indices.length});const o=new(r?Uint32Array:Uint16Array)(n);let i=0;this.data.submeshes.forEach(d=>{o.set(d.indices,i),i+=d.indices.length});const s=new Float32Array(t.positions.coords),a=t.normals?.length?new Float32Array(t.normals):null,c=t.uvs?.length?new Float32Array(t.uvs[0]):null;return this.sharedVAO=new Ih({positionSize:3,positions:s,uvs:c,normals:a,indices:o})}}class CQ extends Ph{constructor(t,r){super(t,r),t.lights.set(this.key,this)}destroy(){super.destroy(),this.o.lights.delete(this.key)}_onAttached(){}_setup(t){t.globalLight=this}}class xQ{constructor(t,r=""){this.pass=t,this.name=r,this.texture=null,this.imageNameUC=null,this.imageFound=!1,t.tech.mat.o.texUnits.set(this.key=t.tech.mat.o.key(),this)}setTexture(t,r){if(r!==uZ)throw Error("textureUnitState_SetTexture: Используемый тип текстуры не поддерживается");return this.texture=t?.getTexture()||null,this}setTextureName(t){return this.imageNameUC=t.toUpperCase(),this}getTexture(){return this.imageFound||this.texture?this.texture:(this.imageFound=!0,this.imageNameUC?this.texture=this.pass.tech.mat.o.imageResByNameUC.get(this.imageNameUC)?.getTexture()||null:null)}}class _Q{constructor(t){this.tech=t,this.textures=[],this.ambient=hi(1,1,1),this.diffuse=Pp(1,1,1,1),this.specular=Pp(0,0,0,1),this.emissive=hi(0,0,0),this.shininess=0,this.lightingEnabled=!0,this.shadingMode=Dp,this.depthCheck=!0,this.depthWrite=!0,this._glBlendSFactor=WebGLRenderingContext.ONE,this._glBlendDFactor=WebGLRenderingContext.ZERO,this._version=0,t.mat.o.passes.set(this.key=t.mat.o.key(),this)}_getDefaultTextureUnit(){const{textures:t}=this;return t.length?t[0]:null}createTextureUnit(t){const r=new xQ(this,t);return this.textures.push(r),r}setLightingEnabled(t){return this.lightingEnabled=t,this}setAmbient(t,r,n){return Ha(this.ambient,t,r,n),this}setDiffuse(t,r,n,o){return n0(this.diffuse,t,r,n,o),this}setSpecular(t,r,n,o){return n0(this.specular,t,r,n,o),this}setEmissive(t,r,n){return Ha(this.emissive,t,r,n),this}setShininess(t){return this.shininess=t,this}setShadingMode(t){return this.shadingMode=t,this}setDepthCheckEnabled(t){return this.depthCheck=t,this}setDepthWriteEnabled(t){return this.depthWrite=t,this}setSceneBlending(t,r){return this._glBlendSFactor=wD(t)||WebGLRenderingContext.ONE,this._glBlendDFactor=wD(r)||WebGLRenderingContext.ZERO,this}}class EQ{constructor(t){this.mat=t,t.o.techniques.set(this.key=t.o.key(),this),this.passes=[new _Q(this)]}pass(t){return t>=0&&t<this.passes.length?this.passes[t]:null}}class TQ{constructor(t,r){this.o=t,this.name=r,this.meshRenderTech=null,this.panelOverlayRenderTech=null,t.materialByKey.set(this.key=t.key(),this),t.materialByName.has(r)||t.materialByName.set(r,this),this.techs=[new EQ(this)]}tech(t){return t>=0&&t<this.techs.length?this.techs[t]:null}_getMeshRenderTech(){return this.meshRenderTech||(this.meshRenderTech=new HZ(this)),this.meshRenderTech}_getPanelOverlayRenderTech(){return this.panelOverlayRenderTech||(this.panelOverlayRenderTech=new WZ(this)),this.panelOverlayRenderTech}}const kh=Qo();class MQ extends ly{constructor(t,r,n,o,i){super(),this.text=t,this.renderTech=r,this.vao=n,this.width=o,this.height=i,this.mvpMatrix=Qo(),this.worldCOM=sn(),this.comWorldMatrixVersion=1}getMVPMatrix(t){const{node:r,charHeight:n}=this.text,o=Bl(this.mvpMatrix,t._getViewMatrix(),r._getWorldMatrix()),i=Math.hypot(o[0],o[1],o[2])*n,s=Math.hypot(o[4],o[5],o[6])*n,a=-this.width*i,c=this.height*s;return kh[0]=i,kh[5]=s,kh[12]=o[12]+a,kh[13]=o[13]+c,kh[14]=o[14],Bl(this.mvpMatrix,t._getProjectionMatrix(),kh)}getWorldCOM(){const t=this.text.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,t0(this.worldCOM,t._getWorldMatrix())),this.worldCOM}getVAO(){return this.vao}getRenderTech(){return this.renderTech}getWorldMatrix(){throw new Error("Method not implemented.")}getWorldNormalMatrix(){throw new Error("Method not implemented.")}isMirrored(){return!1}_onAttached(){this.comWorldMatrixVersion=1}}class OQ extends Ph{constructor(t,r,n){super(t,n),this.textElement=null,this.textElementCreated=!1,this.color=Pp(1,1,1,1),this.charHeight=1,t.movableTexts.set(this.key,this),this.caption=r,this.fontName=n?.fontName||""}destroy(){super.destroy(),this.o.movableTexts.delete(this.key)}setCharHeight(t){return this.charHeight=t,this}_onAttached(){this.textElement?._onAttached()}_setup(t){if(!this.textElementCreated&&(this.textElementCreated=!0,this.caption)){const n=this.o._getFontTexture(this.fontName),{vao:o,width:i,height:s}=gD(n.glyphData,this.caption);if(o){const a=new KZ(n,this);this.textElement=new MQ(this,a,o,i,s)}}const{textElement:r}=this;r&&t.textElements.add(r)}}class RQ{constructor(t,r=""){this.o=t,this.name=r,this.children=[],this.visible=!1,this.scaleX=1,this.scaleY=1,this.z=0,t.overlays.set(this.key=t.key(),this)}setChildren(t){return this.children.forEach(r=>r.overlay=null),this.children=Array.from(new Set(t)),this.children.forEach(r=>{r.overlay=this,r.parent&&(console.warn("OverlayElement has parent"),r.parent=null)}),this}setZ(t){return this.z=t,this.o.overlayQueue=null,this}setScale(t,r){return this.scaleX=t,this.scaleY=r,this}setVisible(t){return this.visible=t,this.o.overlayQueue=null,this}render(t){const{ctx:r}=t.window,{drawingBufferWidth:n,drawingBufferHeight:o}=r.gl;this.children.forEach(i=>i.drawAt(r,0,0,1,1,n,o))}}class IQ{constructor(t,r){this.window=t,this.bg=hi(.2,.2,.2),this.overlaysEnabled=!0,t.o.viewports.set(this.key=t.o.key(),this),this.camera=r,r._setViewport(this)}setCamera(t){return this.camera!==t&&(this.camera._setViewport(null),this.camera=t._setViewport(this)),this}enableOverlays(t){return this.overlaysEnabled=t,this}setBackground(t,r,n){return Ha(this.bg,t,r,n),this}}class PQ{constructor(t,r,n,o){this.o=t,this.mouseSource=o,this.viewports=new Set,this.x=0,this.y=0,this.width=0,this.height=0,this.wheelPosition=0,this.buttonsPressed=[!1,!1,!1,!1],this.mainViewport=null,t.windows.set(this.key=t.key(),this);const i=this.view=document.createElement("canvas");this.width=i.width=r,this.height=i.height=n,i.style.pointerEvents="none";const s=i.getContext("webgl",{alpha:!1,depth:!0,antialias:!0,desynchronized:!1});this.ctx=new QZ(s)}createViewport(t,r){const n=new IQ(this,t);if(this.viewports.size)throw Error("Создание нескольких Viewport не реализовано");return this.mainViewport=n,this.viewports.add(n),n}keyPressed(t){if(t===0)return!1;throw console.log(`Нажата ли клавиша: ${t}`),Error()}buttonPressed(t){return this.mouseSource.keyPressed(t==="left"?1:t==="right"?2:4)}mouse(){const t=this.mouseSource.mouse,r=this.mouseSource.scene;return{x:t.x-r.x,y:t.y-r.y}}render(t){const{ctx:r}=this,{gl:n}=r;this.viewports.forEach(o=>{const{camera:i}=o;i._updateActualAspect();const{scene:s}=i,{globalLight:a,opaqueElements:c,textElements:d,transparentElements:h}=s._setup(t);if(r.reset(),n.clearColor(...o.bg,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),r.setLighting(s.ambient,a?.node.getWorldPosition()||vD),n.enable(n.DEPTH_TEST),c.render(r,i),n.enable(n.BLEND),h.render(r,i),n.disable(n.DEPTH_TEST),r.useBackFaces(!1),d.render(r,i),o.overlaysEnabled){let f;(f=this.o.overlayQueue)||(f=this.o.overlayQueue=[...this.o.overlays.values()].filter(g=>g.visible).sort((g,m)=>g.z-m.z)),f.forEach(g=>g.render(o))}n.disable(n.BLEND)})}}const xD=sn(),_D=sn(),ED=sn();class kQ extends Ph{constructor(t,r){super(t.o,r),this.scene=t,this.projectionMatrix=Qo(),this.vpMatrix=Qo(),this.inverseVPMatrix=Qo(),this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.vpWorldMatrixVersion=1,this.shouldUpdateInverseVPMatrix=!0,this.inverseVPWorldMatrixVersion=1,this.viewportAspect=10,this.viewport=null,this.nearDist=1,this.farDist=1e3,this.fov=Math.PI/4,this.aspect=1.3333333333333333,this.autoAspect=!0,t.o.cameras.set(this.key,this),r&&this.set(r)}destroy(){super.destroy(),this.o.cameras.delete(this.key)}useViewportAspect(){return!!this.viewport&&this.autoAspect}_setViewport(t){return this.viewport=t,this}set({farDist:t=this.farDist,fov:r=this.fov,nearDist:n=this.nearDist,aspect:o=this.aspect}){return(this.farDist!==t||this.fov!==r||this.nearDist!==n||this.aspect!==o&&!this.useViewportAspect())&&(this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.shouldUpdateInverseVPMatrix=!0),this.farDist=t,this.fov=r,this.nearDist=n,this.aspect=o,this}_updateActualAspect(){if(!this.autoAspect)return;const{view:t}=this.viewport.window,r=t.width/t.height;this.viewportAspect!==r&&(this.viewportAspect=r,this.shouldUpdateProjectionMatrix=!0)}_getViewMatrix(){return this.node?._getInverseWorldMatrix()||sQ}_getProjectionMatrix(){return this.shouldUpdateProjectionMatrix&&(this.shouldUpdateProjectionMatrix=!1,jX(this.projectionMatrix,this.fov,this.useViewportAspect()?this.viewportAspect:this.aspect,this.nearDist,this.farDist)),this.projectionMatrix}_getVPMatrix(){const{node:t}=this;return t?((this.shouldUpdateVPMatrix||this.vpWorldMatrixVersion!==t._worldMatrixVersion)&&(this.shouldUpdateVPMatrix=!1,this.vpWorldMatrixVersion=t._worldMatrixVersion,Bl(this.vpMatrix,this._getProjectionMatrix(),this._getViewMatrix())),this.vpMatrix):this._getProjectionMatrix()}_getInverseVPMatrix(){const{node:t}=this,r=t?t._worldMatrixVersion:1;return(this.shouldUpdateInverseVPMatrix||this.inverseVPWorldMatrixVersion!==r)&&(this.shouldUpdateInverseVPMatrix=!1,this.inverseVPWorldMatrixVersion=r,oD(this.inverseVPMatrix,this._getVPMatrix())),this.inverseVPMatrix}getRay(t,r,n){const o=this._getInverseVPMatrix(),i=2*t-1,s=1-2*r;return Ha(xD,i,s,-1),Pc(n.origin,xD,o),Ha(_D,i,s,0),Pc(ED,_D,o),Ip(n.dir,ED,n.origin),ty(n.dir,n.dir),n}_onAttached(){this.vpWorldMatrixVersion=1,this.inverseVPWorldMatrixVersion=1}_setup(){}}class DQ extends ly{constructor(t,r){super(),this.entity=t,this.submesh=r,this.worldCOM=sn(),this.comWorldMatrixVersion=0,this.material=null,this.vertexCount=r.getVertexCount(),this.material=r.getDefaultMaterial()}setMaterial(t){return this.material!==t&&(this.material=t,this._techOrVAOChanged()),this}_setup(t){const{material:r}=this;r&&(r._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}getWorldMatrix(){return this.entity.node._getWorldMatrix()}getWorldNormalMatrix(){return this.entity._getWorldNormalMatrix()}getWorldCOM(){const t=this.entity.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Pc(this.worldCOM,this.submesh.getCOM(),t._getWorldMatrix())),this.worldCOM}getVAO(){return this.submesh.getVAO()}getRenderTech(){return this.material._getMeshRenderTech()}isMirrored(){return this.entity.node._isMirrored()}getMVPMatrix(t){return this.entity._getMVPMatrix(t)}_onAttached(){this.comWorldMatrixVersion=0}}const TD=Qo();class MD extends Ph{constructor(t,{submeshes:r},n){super(t.o,n),this.scene=t,this.mvpMatrix=Qo(),this.worldNormalMatrix=ey(),this.normalWorldMatrixVersion=1,t.o.entities.set(this.key,this),this.subEntities=r.map(o=>new DQ(this,o))}destroy(){super.destroy(),this.o.entities.delete(this.key)}subEntity(t){return t>=0&&t<this.subEntities.length?this.subEntities[t]:null}_getMVPMatrix(t){return Bl(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,nD(TD,t._getInverseWorldMatrix()),rD(this.worldNormalMatrix,TD)),this.worldNormalMatrix}_getClosestIntersection(t){let r=1/0;for(const{submesh:n}of this.subEntities){const o=n.getClosestIntersection(t);r>o&&(r=o)}return r}_onAttached(){this.normalWorldMatrixVersion=1;for(const t of this.subEntities)t._onAttached()}_setup(t){for(const r of this.subEntities)r._setup(t)}}class AQ extends Bp{selectProgram(t){return t.meshPrograms[0]}apply(t){const{ctx:r}=t;r.setDepthWrite(!0),r.setDepthCheck(!0),t.setDiffuse(uQ),t.setAmbient(cQ)}hasOpacity(){return!1}getProgramCaps(){return Rh[0]}}const LQ=new AQ;class NQ extends ly{constructor(t,r,n){super(),this.object=t,this.drawType=r,this.worldCOM=sn(),this.comWorldMatrixVersion=0,this.coords=[],this.normals=[],this.isComplete=!1,this.vao=null,this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0,this.minZ=1/0,this.maxZ=-1/0,this.center=null,this.boundingSphere=null,this.vertexCount=0,this.renderTech=n?._getMeshRenderTech()||LQ}addVertex(t,r,n){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t),this.minY=Math.min(this.minY,r),this.maxY=Math.max(this.maxY,r),this.minZ=Math.min(this.minZ,n),this.maxZ=Math.max(this.maxZ,n),this.coords.push(t,r,n),++this.vertexCount}addNormal(t,r,n){this.normals.push(t,r,n)}end(){this.isComplete=!0;const{maxX:t,maxY:r,maxZ:n,minX:o,minY:i,minZ:s}=this,a=(t+o)/2,c=(r+i)/2,d=(n+s)/2;this.center=hi(a,c,d);const h=Math.max(t-o,r-i,n-s)/2;this.boundingSphere=new CD(this.center,h)}getWorldMatrix(){return this.object.node._getWorldMatrix()}getWorldNormalMatrix(){return this.object._getWorldNormalMatrix()}getWorldCOM(){const t=this.object.node;return t?(this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Pc(this.worldCOM,this.center,t._getWorldMatrix())),this.worldCOM):vD}getVAO(){return this.vao?this.vao:this.vao=new Ih({positionSize:3,positions:new Float32Array(this.coords),normals:this.normals.length?new Float32Array(this.normals):null,drawMode:gQ(this.drawType)})}getRenderTech(){return this.renderTech}isMirrored(){return this.object.node._isMirrored()}getMVPMatrix(t){return this.object._getMVPMatrix(t)}getClosestIntersection(t){return this.drawType!==cD||!this.isComplete||!this.boundingSphere.intersectsWith(t)?1/0:dQ(t,this.coords)}_setup(t){this.isComplete&&(this.renderTech.hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}_onAttached(){this.comWorldMatrixVersion=0}}const OD=Qo();class RD extends Ph{constructor(t,r){super(t.o,r),this.scene=t,this.mvpMatrix=Qo(),this.worldNormalMatrix=ey(),this.normalWorldMatrixVersion=0,this.sections=[],t.o.manualObjects.set(this.key,this)}destroy(){super.destroy(),this.o.manualObjects.delete(this.key)}createSection(t,r){const n=new NQ(this,t,r);return this.sections.push(n),n}clear(){this.sections=[]}_getMVPMatrix(t){return Bl(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,nD(OD,t._getInverseWorldMatrix()),rD(this.worldNormalMatrix,OD)),this.worldNormalMatrix}_getClosestIntersection(t){let r=1/0;for(const n of this.sections){const o=n.getClosestIntersection(t);r>o&&(r=o)}return r}_onAttached(){this.normalWorldMatrixVersion=0;for(const t of this.sections)t._onAttached()}_setup(t){for(const r of this.sections)r._setup(t)}}class BQ{constructor(t){this.entries=t,this.length=t.length}getEntry(t){const{entries:r}=this;return t>=0&&t<r.length?r[t]:null}sort(){this.entries.sort((t,r)=>t.distance-r.distance)}}class FQ{constructor(t,r){this.scene=t,this.localMatrix=Qo(),this.worldMatrix=Qo(),this.inverseWorldMatrix=Qo(),this.worldPosition=sn(),this.worldRotation=kp(),this.worldScale=hi(1,1,1),this.mirrored=!1,this.shouldUpdateLocalMatrix=!1,this.shouldUpdateWorldMatrix=!1,this.shouldUpdateInverseWorldMatrix=!1,this.shouldUpdateMirroredInfo=!1,this.shouldUpdateWorldPosition=!1,this.shouldUpdateWorldRotation=!1,this.shouldUpdateWorldScale=!1,this.position=sn(),this.scale=hi(1,1,1),this.rotation=kp(),this._worldMatrixVersion=1,this.children=[],this.parent=null,t.o.nodes.set(this.key=t.o.key(),this),this.name=r?.name??""}destroy(){this.children.forEach(t=>{t.parent=null,t.updateWorldMatrixRecursive()}),this.removeParent(),this.scene.o.nodes.delete(this.key)}getChild(t){const{children:r}=this;return t>=0&&t<r.length?r[t]:null}addChild(t){const r=t.parent;if(r){if(r===this)return this;let n=this.parent;for(;n;){if(n===t)throw Error("SceneNode.addChild: child является родительским узлом текущего узла");n=n.parent}}if(t===this)throw Error("SceneNode.addChild: child является текущим узлом");if(t.scene!==this.scene)throw Error("SceneNode.addChild: child принадлежит другой сцене");return t.removeParent(),this.children.push(t),t.parent=this,t.updateWorldMatrixRecursive(),this}updateWorldMatrixRecursive(){if(!this.shouldUpdateWorldMatrix){this.shouldUpdateWorldMatrix=!0,++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldPosition=!0,this.shouldUpdateWorldRotation=!0,this.shouldUpdateWorldScale=!0;for(const t of this.children)t.updateWorldMatrixRecursive()}}updateLocalMatrix(){this.shouldUpdateLocalMatrix||(this.shouldUpdateLocalMatrix=!0,this.updateWorldMatrixRecursive())}updateChildrenMirroredInfoRecursive(){if(!this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!0;for(const t of this.children)t.updateChildrenMirroredInfoRecursive()}}updateMirroredInfo(){if(this.shouldUpdateMirroredInfo)return;const{scale:t}=this;if(this.mirrored!==Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0){this.shouldUpdateMirroredInfo=!0;for(const r of this.children)r.updateChildrenMirroredInfoRecursive()}}removeParent(){const t=this.parent;return t?(t.children=t.children.filter(r=>r!==this),this.parent=null,this):this}setPosition(t,r,n){return Ha(this.position,t,r,n),this.updateLocalMatrix(),this}setRotation(t,r,n,o){return i0(this.rotation,aZ(this.rotation,t,r,n,o)),this.updateLocalMatrix(),this}resetRotation(){return tZ(this.rotation),this.updateLocalMatrix(),this}rotateX(t){return nZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateY(t){return oZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateZ(t){return iZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}setScale(t,r,n){return Ha(this.scale,t,r,n),this.updateLocalMatrix(),this.updateMirroredInfo(),this}_getWorldMatrixForRotation(){++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldRotation=!0;for(const t of this.children)t.updateWorldMatrixRecursive();return this.worldMatrix}_getWorldMatrix(){return this.shouldUpdateWorldMatrix&&(this.shouldUpdateWorldMatrix=!1,this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,sD(this.localMatrix,this.rotation,this.position,this.scale)),this.parent?Bl(this.worldMatrix,this.parent._getWorldMatrix(),this.localMatrix):DX(this.worldMatrix,this.localMatrix)),this.worldMatrix}_getInverseWorldMatrix(){return this.shouldUpdateInverseWorldMatrix&&(this.shouldUpdateInverseWorldMatrix=!1,oD(this.inverseWorldMatrix,this._getWorldMatrix())),this.inverseWorldMatrix}_isMirrored(){if(this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!1;const{scale:t}=this;this.mirrored=Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0,this.parent?._isMirrored()&&(this.mirrored=!this.mirrored)}return this.mirrored}getWorldPosition(){return this.shouldUpdateWorldPosition&&(this.shouldUpdateWorldPosition=!1,t0(this.worldPosition,this._getWorldMatrix())),this.worldPosition}getWorldRotation(){return this.shouldUpdateWorldRotation&&(this.shouldUpdateWorldRotation=!1,BX(this.worldRotation,this._getWorldMatrix())),this.worldRotation}getWorldScale(){return this.shouldUpdateWorldScale&&(this.shouldUpdateWorldScale=!1,iD(this.worldScale,this._getWorldMatrix())),this.worldScale}}const m0=sn(),ID=sn(),jQ=sn(),uy=g0(),Fp=sn();class PD extends FQ{constructor(t,r){super(t,r),this.trackingInfo=null,this.movables=[],t.o.sceneNodes.set(this.key,this)}destroy(){super.destroy(),this.movables.forEach(t=>t.node=null),this.scene.o.sceneNodes.delete(this.key)}getMovable(t){const{movables:r}=this;return t>=0&&t<r.length?r[t]:null}attach(t){const r=t.node;if(r){if(r===this)return this;t.detach()}return this.movables.push(t),t.node=this,t._onAttached(this),this}setAutoTracking(t,r,n,o){if(!t)return this.trackingInfo=null,this;let i,s;const{trackingInfo:a}=this;if(a){if(i=a.direction,s=a.orientationMat,a.target===t&&i[0]===r&&i[1]===n&&i[2]===o)return this;Ha(i,r,n,o)}else i=hi(r,n,o),s=Qo();ty(m0,i);const c=YX(m0,yD);return Oh(ID,m0,yD),NX(s,c,ID),this.trackingInfo={target:t,direction:i,orientationMat:s},this}updateTracking(){const{parent:t,trackingInfo:r}=this;if(!r||!t)return;const n=this.getWorldScale(),o=this._getWorldMatrixForRotation();VX(o,this.getWorldPosition(),r.target.getWorldPosition(),Pc(jQ,lQ,t._getWorldMatrix())),Bl(o,o,r.orientationMat),LX(o,o,n)}_setup(t){this.updateTracking();for(const r of this.movables)r.visible&&r._setup(t);for(const r of this.children)r._setup(t)}_findIntersections(t,r){let n=!1;for(const o of this.movables){if(!(o instanceof MD||o instanceof RD))continue;n||(n=!0,pQ(uy,t,this._getInverseWorldMatrix()));const i=o._getClosestIntersection(uy);if(i<1/0){zX(Fp,uy.origin,HX(Fp,uy.dir,i)),Pc(Fp,Fp,this._getWorldMatrix());const s=ZX(t.origin,Fp);r.push({movable:o,distance:s})}}for(const o of this.children)o._findIntersections(t,r)}}class VQ{constructor(t){this.o=t,this.renderInfo={globalLight:null,opaqueElements:new oQ,transparentElements:new mD,textElements:new mD},this.frameNumber=0,this.ambient=sn(),t.scenes.set(this.key=t.key(),this),this.root=new PD(this)}setAmbient(t,r,n){return Ha(this.ambient,t,r,n),this}createSceneNode(t){return new PD(this,t)}createCamera(t){return new kQ(this,t)}createEntity(t,r){return new MD(this,t,r)}createManualObject(t){return new RD(this,t)}_setup(t){if(this.frameNumber===t)return this.renderInfo;this.frameNumber=t;const{renderInfo:r}=this;return r.globalLight=null,r.opaqueElements.clear(),r.transparentElements.clear(),r.textElements.clear(),this.root._setup(r),r}rayCast(t){const r=[];return this.root._findIntersections(t,r),new BQ(r)}}class $Q{constructor(){this.windows=new Map,this.scenes=new Map,this.viewports=new Map,this.overlays=new Map,this.overlayElements=new Map,this.entities=new Map,this.manualObjects=new Map,this.nodes=new Map,this.sceneNodes=new Map,this.movables=new Map,this.cameras=new Map,this.billboardSets=new Map,this.lights=new Map,this.movableTexts=new Map,this.materialByKey=new Map,this.materialByName=new Map,this.techniques=new Map,this.passes=new Map,this.texUnits=new Map,this.imageResByNameUC=new Map,this.meshResByNameUC=new Map,this.primaryWindow=null,this.overlayQueue=null,this.fontMap=new Map,this.globalKey=1e3,this.drawNumber=0}_getFontTexture(t){const r=t||"sans-serif",n=r.toUpperCase(),o=this.fontMap.get(n);if(o)return o;const i=new XZ(r);return this.fontMap.set(n,i),i}key(){return++this.globalKey}createRenderWindow(t,r,n){const o=new PQ(this,t,r,n);return this.primaryWindow||=o,o}createScene(){return new VQ(this)}createMovableText(t,r){return new OQ(this,t,r)}createLight(t){return new CQ(this,t)}createBillboardSet(t){return new yQ(this,t)}createMaterial(t){return new TQ(this,t)}createOverlayElement(t,r){switch(t){case"Panel":return new tQ(this,r);case"BorderPanel":return new rQ(this,r);case"TextArea":return new nQ(this,r);default:throw Error(`createOverlayElement: тип '${t}' не реализован`)}}createOverlay(t){return new RQ(this,t)}createMesh(t,r){const n=new SQ(this,t);return this.meshResByNameUC.set(r.toUpperCase(),n),n}createImage(t,r){const n=new bQ(t);return this.imageResByNameUC.set(r.toUpperCase(),n),n}renderAll(){const t=++this.drawNumber;this.windows.forEach(r=>r.render(t))}}const kD=new Set;function Sr(...e){kD.size!==kD.add(e[0]).size&&console.warn(...e)}function zQ(e,t,r,n,o){if(!this.kernel.egor.scenes.get(e))return 0;const s=this.kernel.egor.manualObjects.get(t);if(!s)return 0;const a=s.sections[0];return a.addVertex(r,n,o),a.vertexCount}function UQ(e,t,r,n,...o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function GQ(e,t,r,n,...o){throw Sr("ApplyTexture3d",e,t,r,n,o),Error("ApplyTexture3d: Функция не реализована")}function HQ(e,t,r,n,o,i){if(!this.kernel.egor.scenes.get(e))return 0;const a=this.kernel.egor.cameras.get(t);return a?this.kernel.egor.createRenderWindow(1e3,1e3,{}).createViewport(a).key:0}function WQ(e,t,r,n,o,i,s,a,c,d,h,f,g){const m=this.kernel.egor.scenes.get(e);return m?m.createCamera().key:0}function KQ(e,t){throw Sr("CreateDefCamera3d",e,t),Error("CreateDefCamera3d: Функция не реализована")}function qQ(e,t,r,n,o,i,s,a,c,d){throw Sr("CreateMaterial3d",e,t,r,n,o,i,s,a,c,d),Error("CreateMaterial3d: Функция не реализована")}function YQ(e){const t=this.kernel.egor.scenes.get(e);if(!t)return 0;const r=t.createManualObject();return r.createSection(cD,null),r.key}function XQ(e,t){throw Sr("CreateObjectFromFile3d",e,t),Error("CreateObjectFromFile3d: Функция не реализована")}function ZQ(e){return this.kernel.egor.createScene().key}function QQ(e,t,r,n,o,i){throw Sr("CreateSurface3d",e,t,r,n,o,i),Error("CreateSurface3d: Функция не реализована")}function JQ(e,t,r){throw Sr("DelPoint3d",e,t,r),Error("DelPoint3d: Функция не реализована")}function eJ(e,t,r){throw Sr("DelPrimitive3d",e,t,r),Error("DelPrimitive3d: Функция не реализована")}function tJ(e){throw Sr("DeleteSpace3d",e),Error("DeleteSpace3d: Функция не реализована")}function rJ(e,t){throw Sr("DuplicateObject3d",e,t),Error("DuplicateObject3d: Функция не реализована")}function nJ(e,t,r,n){throw Sr("FitToCamera3d",e,t,r,n),Error("FitToCamera3d: Функция не реализована")}function oJ(e,t){throw Sr("GetActiveCamera3d",e,t),Error("getActiveCamera3d: Функция не реализована")}function iJ(e,t,r,n,o){throw Sr("GetColors3d",e,t,r,n,o),Error("GetColors3d: Функция не реализована")}function sJ(e,t){throw Sr("GetMaterialByName3d",e,t),Error("GetMaterialByName3d: Функция не реализована")}function aJ(e,t){throw Sr("GetNumPoints3d",e,t),Error("GetNumPoints3d: Функция не реализована")}function lJ(e,t){throw Sr("GetNumPrimitives3d",e,t),Error("GetNumPrimitives3d: Функция не реализована")}function cJ(e,t,r,n,o,i,s,a){throw Sr("GetObject3dFromPoint2d",e,t,r,n,i,a),Error("GetObject3dFromPoint2d: Функция не реализована")}function uJ(e,t,r,n,o,i,s,a){throw Sr("GetObjectBase3d",e,t,n,i,a),Error("GetObjectBase3d: Функция не реализована")}function dJ(e,t,r){throw Sr("GetObjectBase3dM",e,t,r),Error("GetObjectBase3dM: Функция не реализована")}function hJ(e,t){throw Sr("GetObjectColor3d",e,t),Error("GetObjectColor3d: Функция не реализована")}function fJ(e,t,r){throw Sr("GetObjectDimension3d",e,t,r),Error("GetObjectDimension3d: Функция не реализована")}function pJ(e,t,r){return r}function gJ(e,t,r){throw Sr("GetObjectPoints3d",e,t,r),Error("GetObjectPoints3d: Функция не реализована")}function mJ(e,t,r,n,o,i,s,a,c){throw Sr("GetPoint3d",e,t,r,o,s,c),Error("GetPoint3d: Функция не реализована")}function vJ(e,t){throw Sr("GetSpace3d",e,t),Error("getSpace3d: Функция не реализована")}function yJ(e,t,r,n,o){const i=this.kernel.egor.scenes.get(e);return i?i.createManualObject().key:0}function bJ(e,t,r,n,o,i,s,a){throw Sr("MakeCylinder3d",e,t,r,n,o,i,s,a),Error("MakeCylinder3d: Функция не реализована")}function wJ(e,t,r,n,o,i){throw Sr("MakeGrid3d",e,t,r,n,o,i),Error("MakeGrid3d: Функция не реализована")}function SJ(e,t,r,n,o,i){throw Sr("MakeSphere3d",e,t,r,n,o,i),Error("MakeSphere3d: Функция не реализована")}function CJ(){Sr("MakeTore3d")}function xJ(e,t,r,n,o,i,s,a){throw Sr("MakeTube3d",e,t,r,n,o,i,s,a),Error("MakeTube3d: Функция не реализована")}function _J(e){throw Sr("PopCrdSystem3d",e),Error("PopCrdSystem3d: Функция не реализована")}function EJ(e){throw Sr("PushCrdSystem3d",e),Error("PushCrdSystem3d: Функция не реализована")}function TJ(e,t){throw Sr("RemoveTexture3d",e,t),Error("RemoveTexture3d: Функция не реализована")}function MJ(e,t,r,n){throw Sr("RotateObject3d",e,t,r,n),Error("RotateObject3d: Функция не реализована")}function OJ(e,t,r,n){throw Sr("RotateObjectPoints3d",e,t,r,n),Error("RotateObjectPoints3d: Функция не реализована")}function RJ(e,t){throw Sr("SelectLocalCrd3d",e,t),Error("SelectLocalCrd3d: Функция не реализована")}function IJ(e,t){throw Sr("SelectViewCrd3d",e,t),Error("SelectViewCrd3d: Функция не реализована")}function PJ(e){throw Sr("SelectWorldCrd3d",e),Error("SelectWorldCrd3d: Функция не реализована")}function kJ(e,t,r,n,o){throw Sr("SetColors3d",e,t,r,n,o),Error("SetColors3d: Функция не реализована")}function DJ(e,t,r,n,o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function AJ(e,t,r){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function LJ(e,t,r){throw Sr("SetObjectMatrix3d",e,t,r),Error("SetObjectMatrix3d: Функция не реализована")}function NJ(e,t,r){throw Sr("SetObjectPoints3d",e,t,r),Error("SetObjectPoints3d: Функция не реализована")}function BJ(e,t,r,n,o,i){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function FJ(e,t,r,n,o,...i){return 1}function jJ(e,t,r,n,o,i,s,a,c,d,h){throw Sr("SweepAndExtrude3d",e,t,r,n,o,i,s,a,c,d,h),Error("SweepAndExtrude3d: Функция не реализована")}function VJ(){Sr("SwitchToCamera3d")}function $J(e,t,r,n,o,i){throw Sr("TransformCamera3d",e,t,r,n,o,i),Error("TransformCamera3d: Функция не реализована")}function zJ(e,t,r){throw Sr("TransformObject3d",e,t,r),Error("TransformObject3d: Функция не реализована")}function UJ(e,t,r){throw Sr("TransformObjectPoints3d",e,t,r),Error("TransformObjectPoints3d: Функция не реализована")}function GJ(e,t,r,n){return!this.kernel.egor.scenes.get(t)||!this.kernel.egor.cameras.get(r)?0:1}function HJ(e){e("AddPoint3d",{a:[A,A,k,k,k],r:k},zQ),e("AddPrimitive3d",{a:[A,A,k,fr],rest:[k],r:k},UQ),e("ApplyTexture3d",{a:[A,A,A,A],rest:[k],r:k},GQ),e("Create3dView2d",{a:[A,A,k,k,k,k],r:A},HQ),e("CreateCamera3dEx",{a:[A,fe,k,k,fr,k,k,k,k,k,k,k,k],r:A},WQ),e("CreateDefCamera3d",{a:[A,k],r:A},KQ),e("CreateMaterial3d",{a:[A,fe,fe,fr,fr,fr,fr,k,k,k],r:A},qQ),e("CreateObject3d",{a:[A],r:A},YQ),e("CreateObjectFromFile3d",{a:[A,fe],r:A},XQ),e("CreateSpace3d",{a:[A],r:A},ZQ),e("CreateSurface3d",{a:[A,A,k,k,fr,k],r:A},QQ),e("DelPoint3d",{a:[A,A,k],r:k},JQ),e("DelPrimitive3d",{a:[A,A,k],r:k},eJ),e("DeleteSpace3d",{a:[A],r:k},tJ),e("DuplicateObject3d",{a:[A,A],r:A},rJ),e("FitToCamera3d",{a:[A,A,A,k],r:k},nJ),e("GetActiveCamera3d",{a:[A,A],r:A},oJ),e("GetColors3d",{a:[A,A,k,k,k],r:k},iJ),e("GetMaterialByName3d",{a:[A,fe],r:A},sJ),e("GetNumPoints3d",{a:[A,A],r:k},aJ),e("GetNumPrimitives3d",{a:[A,A],r:k},lJ),e("GetObject3dFromPoint2d",{a:[A,A,k,k,d9,Ye],r:A},cJ),e("GetObjectBase3d",{a:[A,A,Ye,Ye,Ye],r:k},uJ),e("GetObjectBase3dM",{a:[A,A,k],r:k},dJ),e("GetObjectColor3d",{a:[A,A],r:fr},hJ),e("GetObjectDimension3d",{a:[A,A,k],r:k},fJ),e("GetObjectMatrix3d",{a:[A,A,k],r:k},pJ),e("GetObjectPoints3d",{a:[A,A,k],r:k},gJ),e("GetPoint3d",{a:[A,A,k,Ye,Ye,Ye],r:k},mJ),e("GetSpace3d",{a:[A,A],r:A},vJ),e("MakeBar3d",{a:[A,fr,k,k,k],r:A},yJ),e("MakeCylinder3d",{a:[A,A,fr,k,k,k,k,k],r:A},bJ),e("MakeGrid3d",{a:[A,k,k,k,k,fr],r:A},wJ),e("MakeSphere3d",{a:[A,A,fr,k,k,k],r:A},SJ),e("MakeTore3d",{a:[]},CJ),e("MakeTube3d",{a:[A,A,fr,k,k,k,k,k],r:A},xJ),e("PopCrdSystem3d",{a:[A],r:k},_J),e("PushCrdSystem3d",{a:[A],r:k},EJ),e("RemoveTexture3d",{a:[A,A],r:k},TJ),e("RotateObject3d",{a:[A,A,k,k],r:k},MJ),e("RotateObjectPoints3d",{a:[A,A,k,k],r:k},OJ),e("SelectLocalCrd3d",{a:[A,A],r:k},RJ),e("SelectViewCrd3d",{a:[A,A],r:k},IJ),e("SelectWorldCrd3d",{a:[A],r:k},PJ),e("SetColors3d",{a:[A,A,k,k,k],r:k},kJ),e("SetObjectBase3d",{a:[A,A,k,k,k],r:k},DJ),e("SetObjectColor3d",{a:[A,A,fr],r:k},AJ),e("SetObjectMatrix3d",{a:[A,A,k],r:k},LJ),e("SetObjectPoints3d",{a:[A,A,k],r:k},NJ),e("SetPoint3d",{a:[A,A,k,k,k,k],r:k},BJ),e("SetPrimitive3d",{a:[A,A,k,k,fr],rest:[k],r:k},FJ),e("SweepAndExtrude3d",{a:[A,A,k,k,k,k,k,k,k,fr,k],r:A},jJ),e("SwitchToCamera3d",{a:[]},VJ),e("TransformCamera3d",{a:[A,A,k,k,k,k],r:k},$J),e("TransformObject3d",{a:[A,A,k],r:k},zJ),e("TransformObjectPoints3d",{a:[A,A,k],r:k},UJ),e("_CameraProc3d",{a:[fe,A,A,k],r:k},GJ)}const WJ={name:"graphics3d",deps:["ogre"],register:HJ};class jl{constructor(t){this.minV=Math.floor(t.minV),this.minH=Math.floor(t.minH),this.rows=t.rows,this.cols=t.cols,this.m=t.data?new Float64Array(t.data):new Float64Array(this.rows*this.cols)}isSquare(){return this.cols===this.rows}get(t,r){const n=Math.floor(t)-this.minV,o=Math.floor(r)-this.minH;return n<0||o<0||n>=this.rows||o>=this.cols?0:this.m[n*this.cols+o]}set(t,r,n){const o=Math.floor(t)-this.minV,i=Math.floor(r)-this.minH;return o<0||i<0||o>=this.rows||i>=this.cols?0:(this.m[o*this.cols+i]=n,n)}sum(){return this.m.reduce((t,r)=>t+r,0)}glue(t,r,n){const o=this,i=Math.min(o.minH,t.minH+n),s=Math.min(o.minV,t.minV+r),a=Math.max(o.cols+o.minH,t.cols+t.minH+n),c=Math.max(o.rows+o.minV,t.rows+t.minV+r),d=new jl({cols:a-i,rows:c-s,minH:i,minV:s});for(let h=t.minV;h<t.rows+t.minV;h++)for(let f=t.minH;f<t.cols+t.minH;f++)d.set(h+r,f+n,t.get(h,f));for(let h=o.minV;h<o.rows+o.minV;h++)for(let f=o.minH;f<o.cols+o.minH;f++)d.set(h,f,o.get(h,f));return d}add(t){const r=this,n=Math.min(r.minH,t.minH),o=Math.min(r.minV,t.minV),i=Math.max(r.cols+r.minH,t.cols+t.minH),a=Math.max(r.rows+r.minV,t.rows+t.minV)-o,c=i-n,d=new jl({cols:c,rows:a,minH:n,minV:o}),h=Math.min(r.rows,t.rows),f=Math.min(r.cols,t.cols);for(let g=0;g<h;g++)for(let m=0;m<f;m++)d.m[g+c+m]=r.m[g*r.cols+m]+t.m[g+t.cols+m];return d}mul(t){const r=this;if(r.cols!==t.rows)return null;const n=t.cols,o=r.rows,i=new jl({cols:n,rows:o,minH:r.minH,minV:r.minV});for(let s=0;s<o;s++)for(let a=0;a<n;a++){let c=0;for(let d=0;d<r.cols;d++)c+=r.m[s*r.cols+d]*t.m[d*t.cols+a];i.m[s*n+a]=c}return i}det(){if(!this.isSquare())throw Error("Not a square matrix");const t=this.rows;if(t===1)return this.m[0];if(t===2)return this.m[0]*this.m[3]-this.m[1]*this.m[2];const r=Array.from(this.m);let n=1;for(let o=0;o<t;o++){let i=o,s=Math.abs(r[o*t+o]);for(let a=o+1;a<t;a++){const c=Math.abs(r[a*t+o]);c>s&&(s=c,i=a)}if(s===0)return 0;if(i!==o){n=-n;for(let a=o;a<t;a++){const c=r[o*t+a];r[o*t+a]=r[i*t+a],r[i*t+a]=c}}for(let a=o+1;a<t;a++){const c=r[a*t+o]/r[o*t+o];for(let d=o;d<t;d++)r[a*t+d]-=c*r[o*t+d]}n*=r[o*t+o]}return n}obr(){if(!this.isSquare()||this.det()===0)return null;const t=this.rows,r=new jl({cols:this.cols,rows:this.rows,minH:0,minV:0,data:Array.from(this.m)}),n=new jl({cols:this.cols,rows:this.rows,minH:0,minV:0});for(let o=0;o<t;o++)for(let i=0;i<t;i++)n.set(o,i,0),o===i&&n.set(o,i,1);for(let o=0;o<t;o++){let i=r.get(o,o);for(let s=0;s<t;s++)r.set(o,s,r.get(o,s)/i),n.set(o,s,n.get(o,s)/i);for(let s=o+1;s<t;s++){i=r.get(s,o);for(let a=0;a<t;a++)r.set(s,a,r.get(s,a)-r.get(o,a)*i),n.set(s,a,n.get(s,a)-n.get(o,a)*i)}}for(let o=t-1;o>0;o--)for(let i=o-1;i>=0;i--){let s=r.get(i,o);for(let a=0;a<t;a++)r.set(i,a,r.get(i,a)-r.get(o,a)*s),n.set(i,a,n.get(i,a)-n.get(o,a)*s)}return n.minH=this.minH,n.minV=this.minV,n}diag(t){this.fill(0);const r=Math.min(this.rows,this.cols);for(let n=0;n<r;n++)this.set(n,n,t);return 1}fill(t){return this.m.fill(t),1}sortByRow(t,r){const n=t-this.minV;if(n<0||n>=this.rows)return 0;const o=Array.from({length:this.cols},(s,a)=>Array.from({length:this.rows},(c,d)=>this.m[d*this.cols+a])),i=r?(s,a)=>a[n]-s[n]:(s,a)=>s[n]-a[n];return o.sort(i),o.forEach((s,a)=>{s.forEach((c,d)=>{this.m[d*this.cols+a]=c})}),1}sortByColumn(t,r){const n=t-this.minH;if(n<0||n>=this.cols)return 0;const o=Array.from({length:this.rows},(s,a)=>{const c=a*this.cols,d=c+this.cols;return Array.from(this.m.subarray(c,d))}),i=r?(s,a)=>a[n]-s[n]:(s,a)=>s[n]-a[n];return o.sort(i),this.m=new Float64Array(ok(o)),1}data(){const{minH:t,minV:r,cols:n,rows:o,m:i}=this;return{minV:r,minH:t,cols:n,rows:o,data:[...i]}}}function KJ(e,t,r,n,o,i){if(i<=0)return 0;const s=Math.floor(r)-Math.floor(t)+1,a=Math.floor(o)-Math.floor(n)+1;if(s<=0||a<=0)return 0;const c=e||Xi.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,new jl({rows:s,cols:a,minV:t,minH:n})),c}function qJ(e,t){return t<=0?0:this.kernel.matrices.delete(e)?1:0}function YJ(e,t,r){return r<=0?0:this.kernel.matrices.get(e)?.fill(t)??0}function XJ(e,t,r,n){return n<=0?0:this.kernel.matrices.get(e)?.get(t,r)??0}function ZJ(e,t,r,n,o){return o<=0?0:this.kernel.matrices.get(e)?.set(t,r,n)??0}function QJ(e,t){if(t<=0)return 0;throw Error("MEditor: редактор матриц не реализован")}function JJ(e,t,r){return r<=0?0:this.kernel.matrices.get(e)?.diag(t)??0}function eee(e,t){if(t<=0)return 0;const r=this.kernel.matrices.get(e);return!r||!r.isSquare()?0:r.det()}function tee(e,t,r,n){if(n<=0)return 0;const o=this.kernel.matrices.get(e);if(!o)return 0;const i=this.kernel.matrices.get(t);if(!i)return 0;const s=o.add(i);if(!s)return 0;const a=r||Xi.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function ree(e,t){return t<=0?0:this.kernel.matrices.get(e)?.sum()??0}function nee(e,t,r,n){if(n<=0)return 0;const o=this.kernel.matrices.get(e),i=this.kernel.matrices.get(t);if(!o||!i)return 0;const s=o.mul(i);if(!s)return 0;const a=r||Xi.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function oee(e,t,r,n,o,i){if(i<=0)return 0;const s=this.kernel.matrices.get(e),a=this.kernel.matrices.get(t);if(!s||!a)return 0;const c=r||Xi.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,s.glue(a,Math.floor(n),Math.floor(o))),c}function iee(e,t,r){if(r<=0)return 0;const n=this.kernel.matrices.get(e);if(!n)return 0;const o=n.obr();if(!o)return 0;const i=t||Xi.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(i,o),i}function see(e,t,r){if(r<=0)return 0;const n=this.kernel.matrices.get(e);if(!n)return 0;const o=this.prj.dir.resolve(t).create("file");return o?(o.set({mat:n.data()}),1):0}function aee(e,t,r){if(r<=0)return 0;const n=this.prj.dir.resolve(t).file()?.mat;if(!n)return 0;const o=e||Xi.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(o,new jl(n)),o}function lee(e,t,r,n){if(n<=0)return 0;const o=this.kernel.matrices.get(e);if(!o)return 0;switch(r){case 1:return o.sortByColumn(t,!1);case 2:return o.sortByColumn(t,!0);case 3:return o.sortByRow(t,!1);case 4:return o.sortByRow(t,!0);default:return 0}}function cee(e){e("MCreate",{a:[k,k,k,k,k,k],r:k},KJ),e("MDelete",{a:[k,k],r:k},qJ),e("MFill",{a:[k,k,k],r:k},YJ),e("MGet",{a:[k,k,k,k],r:k},XJ),e("MPut",{a:[k,k,k,k,k],r:k},ZJ),e("MEditor",{a:[k,k]},QJ),e("MDiag",{a:[k,k,k],r:k},JJ),e("MDet",{a:[k,k],r:k},eee),e("MSum",{a:[k,k],r:k},ree),e("MMul",{a:[k,k,k,k],r:k},nee),e("MGlue",{a:[k,k,k,k,k,k],r:k},oee),e("MObr",{a:[k,k,k],r:k},iee),e("MSaveAs",{a:[k,fe,k],r:k},see),e("MLoad",{a:[k,fe,k],r:k},aee),e("MSort",{a:[k,k,k,k],r:k},lee),e("MAddC",{a:[k,k,k,k],r:k},tee)}const uee={name:"matrix",register:cee,setup(e){e.matrices=new Map,e.onProjectOpen.add(t=>{t.dir.forEach(r=>{if(!r.mat)return;const n=r.path.basename(),o=parseInt(n.substring(0,n.length-5));isNaN(o)||!o||e.matrices.has(o)||e.matrices.set(o,new jl(r.mat))},!1)})}};function DD(e,t,r,n,o){const i=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!i)return;const s=this.resolve(r);s?.klass.vars.msg&&i.subscribe(s,n,t,o)}function AD(e,t,r){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;const o=this.resolve(t);o?.klass.vars.msg&&n.unsubscribe(o,r)}function dee(e,t){const r=this.kernel.scenes.get(e);if(!r)return;const n=this.resolve(t);n?.klass.vars.msg&&r.setCapture(n)}function hee(){this.kernel.windowSystem.releaseCapture()}function fee(e,t,...r){if(this.kernel.recursionLvl>58)return;let n=null;if(t&&(n=this.kernel.classes.get(t),!n))return;/[\*\?]/.test(e)&&this.kernel._functionNotImplemented("SendMessage с path содержащим '*'/'?'",this);const o=this.resolveMany(e,n);if(!o.length)return;const i=new Array(r.length),s=this.klass.vars,a=o[0].klass.vars;for(let c=0;c<r.length;c+=2){const d=s.get(r[c+0]);if(!d)continue;const h=a.get(r[c+1]);h&&(i[c+0]=d,i[c+1]=h)}o.forEach(c=>{if(c===this)return;for(let v=0;v<i.length;v+=2){const C=i[v+0];if(!C)continue;const E=i[v+1];c.setVarValue(E,this.getVarValue(C))}++this.kernel.recursionLvl,c.computeSchema(),--this.kernel.recursionLvl;const{map:d,values:{newFloats:h,oldFloats:f,newInts:g,oldInts:m,newStrings:y,oldStrings:b}}=c;for(let v=0;v<d.length;++v){const C=d[v];f[C]=h[C],m[C]=g[C],b[C]=y[C]}for(let v=0;v<i.length;v+=2){const C=i[v+0];if(!C)continue;const E=i[v+1];this.setNewValue(C,c.getVarValue(E))}})}function pee(e){e("RegisterObject",{s:!0,a:[A,A,fe,k,k]},DD),e("RegisterObject",{s:!0,a:[fe,A,fe,k,k]},DD),e("UnregisterObject",{s:!0,a:[A,fe,k]},AD),e("UnregisterObject",{s:!0,a:[fe,fe,k]},AD),e("SetCapture",{s:!0,a:[A,fe,k]},dee),e("ReleaseCapture",{},hee),e("SendMessage",{s:!0,a:[fe,fe],rest:[fe,fe]},fee)}const gee={name:"messages",deps:["windows"],register:pee,setup(e){e.recursionLvl=0}};function mee(e){if(!e)return 0;const t=ha.indexOf(e[0]);return t<0?0:t}function vee(e){return e<0||e>255?"":ha[e]}function yee(e,t,r){switch(r){case r&rt.MB_OK:return alert(e),1;case r&rt.MB_OKCANCEL:return confirm(e)?1:2;case r&rt.MB_YESNO:return confirm(e)?6:7;default:return 0}}function LD(e,t,r=1){e[t]+=r}function ND(e,t,r=1){e[t]-=r}function bee(){}function wee(e,t){return this.kernel._functionNotImplemented("DialogBox"),1}function See(e,t,r){throw Error("ChoseFolderDialog: Not implemented")}function Cee(e){return e>1?0:e<-1?Math.PI:Math.acos(e)||0}function xee(e){return e>1?Math.PI/2:e<-1?-Math.PI/2:Math.asin(e)||0}function _ee(e,t,r){return e.split(t).join(r)}function Eee(e,t,r){return e.substring(0,r)===t.substring(0,r)?1:0}function Tee(e,t){return t===0?e>=0?0:Math.PI:t>0?-Math.atan(e/t)+Math.PI/2:-Math.atan(e/t)+Math.PI*1.5}function Mee(e){return e>0?(Math.log(e)||0)/Math.LN10:-1e100}function Oee(e){return e>0?Math.log(e)||0:-1e100}function Ree(e,t){return e>0&&t>0?Math.log(t)/Math.log(e)||0:-1e100}function Iee(e,t,r){if(t==="")return-1;for(var n=-1,o=0,i=0;i<r;++i){if(n=e.indexOf(t,o),n<0)return-1;o=n+t.length}return n}function Pee(e,t){return e.substring(e.length-t)}function kee(e,t){var r=Math.ceil(10**t);return Math.round(e*r-Number.EPSILON)/r||0}function Dee(e,t){return e.substring(t)}function Aee(e,t,r){return e.substring(t,Math.max(t,0)+r)}function Lee(e){e("Ascii",{a:[fe],r:k},mee),e("Chr",{a:[k],r:fe},vee),e("MessageBox",{a:[fe,fe,k],r:k},yee),e("DialogBox",{a:[fe,A],r:1},wee),e("ChoseFolderDialog",{a:[fe,fe,k],r:fe},See),e("Inc",{a:[Ye]},LD),e("Inc",{a:[Ye,k]},LD),e("Dec",{a:[Ye]},ND),e("Dec",{a:[Ye,k]},ND),e("Randomize",{a:[k]},bee),e("Arccos",{a:[k],r:k},Cee),e("Arcsin",{a:[k],r:k},xee),e("Change",{a:[fe,fe,fe],r:fe},_ee),e("Comparei",{a:[fe,fe,k],r:k},Eee),e("GetangleByXy",{a:[k,k],r:k},Tee),e("Lg",{a:[k],r:k},Mee),e("Ln",{a:[k],r:k},Oee),e("Log",{a:[k,k],r:k},Ree),e("Pos",{a:[fe,fe,k],r:k},Iee),e("Right",{a:[fe,k],r:fe},Pee),e("Round",{a:[k,k],r:k},kee),e("Substr",{a:[fe,k],r:fe},Dee),e("Substr",{a:[fe,k,k],r:fe},Aee)}const Nee={name:"misc",register:Lee};function Bee(e){const t=this.prj.dir.resolve(e).file()?.video;if(!t)return 0;const r=Xi.freeKey(this.kernel.videos);return this.kernel.videos.set(r,t),r}function Fee(e,t,r,n,o,i){const s=this.kernel.videos.get(t);if(!s)return 0;const a=this.kernel.scenes.get(e);if(!a)return 0;const c=a.scene;let d=r,h=n;const f=a.matrix;if(f){const y=r*f[2]+n*f[5]+f[8];d=(r*f[0]+n*f[3]+f[6])/y,h=(r*f[1]+n*f[4]+f[7])/y}const g=o>=0||i>=0,m=c.video(Zi(s.src),{x:d,y:h,width:Math.max(0,o),height:Math.max(0,i),fixed:g});return c.set({order:c.order.concat(m)}),m.key}function jee(e,t){throw Error("videoSetPos2d: Not implemented")}function Vee(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"?r.getPosition()*Nk:0}function $ee(e,t,r){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.setPosition(r/Nk)?1:0}function zee(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.play()?1:0}function Uee(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.pause()?1:0}function Gee(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.play()?1:0}function Hee(e,t){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.stop()?1:0}function Wee(){return rt.MCIERR_INVALID_DEVICE_NAME}function Kee(){return""}function qee(){return 0}function Yee(e){e("OpenVideo",{a:[fe,k],r:A},Bee),e("CreateVideoFrame2d",{a:[A,A,k,k,k,k,k],r:A},Fee),e("VideoSetPos2d",{a:[A,k],r:k},jee),e("FrameGetPos2d",{a:[A,A],r:k},Vee),e("FrameSetPos2d",{a:[A,A,k],r:k},$ee),e("VideoPlay2d",{a:[A,A,k,k,k,k],r:k},zee),e("VideoPause2d",{a:[A,A],r:k},Uee),e("VideoResume2d",{a:[A,A],r:k},Gee),e("VideoStop2d",{a:[A,A],r:k},Hee),e("MciSendString",{a:[fe],r:k},Wee),e("MciSendStringStr",{a:[fe],r:fe},Kee),e("SndPlaySound",{a:[fe,k],r:k},qee)}const Xee={name:"multimedia",deps:["windows"],register:Yee,setup(e){e.videos=new Map}};let Zee=0,Qee=0,Jee=0,ete=0,tte=0,rte=0,nte=0,ote=0;const BD=new Set;function Ie(...e){BD.size!==BD.add(e[0]).size&&console.warn(...e)}const ite=g0(),v0=g0();function ste(e,t){Ie("AnimationState_AddTime",e,t)}function ate(e){throw Ie("AnimationState_GetEnabled",e),Error("Not implemented")}function lte(e){throw Ie("AnimationState_GetLength",e),Error("Not implemented")}function cte(e){throw Ie("AnimationState_GetLoop",e),Error("Not implemented")}function ute(e){throw Ie("AnimationState_GetTimePosition",e),Error("Not implemented")}function dte(e){throw Ie("AnimationState_GetWeight",e),Error("Not implemented")}function hte(e,t){Ie("AnimationState_SetEnabled",e,t)}function fte(e,t){Ie("AnimationState_SetLength",e,t)}function pte(e,t){Ie("AnimationState_SetLoop",e,t)}function gte(e,t){Ie("AnimationState_SetTimePosition",e,t)}function mte(e,t){Ie("AnimationState_SetWeight",e,t)}function vte(e,t,r,n,o){throw Ie("Billboard_GetColour",e,t,r,n,o),Error("Not implemented")}function yte(e,t,r,n){throw Ie("Billboard_GetPosition",e),Error("Not implemented")}function bte(e){throw Ie("Billboard_GetRotation",e),Error("Not implemented")}function wte(e,t,r,n,o){Ie("Billboard_SetColour",e,t,r,n,o)}function Ste(e,t,r,n){Ie("Billboard_SetPosition",e,t,r,n)}function Cte(e,t){Ie("Billboard_SetRotation",e,t)}function xte(e,t,r){return this.kernel.egor.createBillboardSet({name:t||"__BillboardSet_"+Zee++,poolSize:r}).key??0}function _te(e,t,r,n){return this.kernel.egor.billboardSets.get(e)?.createBillboard(t,r,n).key??0}function Ete(e){Ie("BillboardSet_Destroy",e)}function Tte(e,t){throw Ie("BillboardSet_GetBillboard",e,t),Error("Not implemented")}function Mte(e){throw Ie("BillboardSet_GetBillboardType",e),Error("Not implemented")}function Ote(e,t,r,n){throw Ie("BillboardSet_GetCommonDirection",e,t,r,n),Error("Not implemented")}function Rte(e,t,r,n){throw Ie("BillboardSet_GetCommonUpVector",e,t,r,n),Error("Not implemented")}function Ite(e,t,r){throw Ie("BillboardSet_GetDefaultDimensions",e,t,r),Error("Not implemented")}function Pte(e,t){throw Ie("BillboardSet_GetMaterialName",e,t),Error("Not implemented")}function kte(e){throw Ie("BillboardSet_GetNumBillboards",e),Error("Not implemented")}function Dte(e,t){Ie("BillboardSet_RemoveBillboard",e,t)}function Ate(e,t){this.kernel.egor.billboardSets.get(e)?.setType(t)}function Lte(e,t,r,n){this.kernel.egor.billboardSets.get(e)?.setCommonDirection(t,r,n)}function Nte(e,t,r,n){this.kernel.egor.billboardSets.get(e)?.setCommonUpVector(t,r,n)}function Bte(e,t,r){this.kernel.egor.billboardSets.get(e)?.setDimensions(t,r)}function Fte(e,t){this.kernel.egor.billboardSets.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function jte(e){throw Ie("Bone_GetManuallyControlled",e),Error("Not implemented")}function Vte(e){Ie("Bone_Reset",e)}function $te(e,t){Ie("Bone_SetManuallyControlled",e,t)}function zte(e,t){return this.kernel.egor.scenes.get(e)?.createCamera({name:t||"__Camera_"+Qee++}).key??0}function Ute(e){Ie("Camera_Destroy",e)}function Gte(e){throw Ie("Camera_GetAspectRatio",e),Error("Not implemented")}function Hte(e){throw Ie("Camera_GetFarClipDistance",e),Error("Not implemented")}function Wte(e){throw Ie("Camera_GetFOV",e),Error("Not implemented")}function Kte(e){throw Ie("Camera_GetNearClipDistance",e),Error("Not implemented")}function qte(e){throw Ie("Camera_GetPolygonMode",e),Error("Not implemented")}function Yte(e){throw Ie("Camera_GetProjectionType",e),Error("Not implemented")}function Xte(e,t){Ie("Camera_SetAspectRatio",e,t)}function Zte(e,t){this.kernel.egor.cameras.get(e)?.set({farDist:t})}function Qte(e,t){Ie("Camera_SetFocalLength",e,t)}function Jte(e,t){this.kernel.egor.cameras.get(e)?.set({fov:t})}function ere(e,t,r){Ie("Camera_SetFrustumOffset",e,t,r)}function tre(e,t){this.kernel.egor.cameras.get(e)?.set({nearDist:t})}function rre(e,t){Ie("Camera_SetPolygonMode",e,t)}function nre(e,t){Ie("Camera_SetProjectionType",e,t)}function ore(e){return this.kernel.egorRayCastResult?.getEntry(e)?.distance||0}function ire(e){return this.kernel.egorRayCastResult?.getEntry(e)?.movable.key||0}function sre(){return this.kernel.egorRayCastResult?.length||0}function are(e,t,r,n,o,i,s){const a=this.kernel.egor.scenes.get(e);if(!a){this.kernel.egorRayCastResult=null;return}const{dir:c,origin:d}=v0;d[0]=t,d[1]=r,d[2]=n,c[0]=o,c[1]=i,c[2]=s,this.kernel.egorRayCastResult=a?.rayCast(v0)}function lre(){this.kernel.egorRayCastResult?.sort()}function cre(e){throw Ie("Compositor_GetEnabled",e),Error("Not implemented")}function ure(e,t){Ie("Compositor_SetEnabled",e,t)}function dre(e,t,r){if(!r)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;const o=this.kernel.egor.meshResByNameUC.get(r.toUpperCase());if(!o)throw Error(`Mesh не существует: '${r}'`);return n.createEntity(o,{name:t||"__Entity_"+Jee++}).key??0}function hre(e){this.kernel.egor.entities.get(e)?.destroy()}function fre(e,t){throw Ie("Entity_GetAnimationState",e,t),Error("Not implemented")}function pre(e,t){throw Ie("Entity_GetBone",e,t),Error("Not implemented")}function gre(e,t){throw Ie("Entity_GetIndexCount",e,t),Error("Not implemented")}function mre(e,t,r){throw Ie("Entity_GetMaterial",e,t,r),Error("Not implemented")}function vre(e){return this.kernel.egor.entities.get(e)?.subEntities.length??0}function FD(e,t=0){const r=this.kernel.egor.entities.get(e);return r?t>=0?r.subEntity(t)?.vertexCount??0:r.subEntities.reduce((n,o)=>n+o.vertexCount,0):0}function yre(e,t,r){const n=this.kernel.egor.entities.get(e);if(!n)return;const o=this.kernel.egor.materialByName.get(r);o&&n.subEntity(t)?.setMaterial(o)}function bre(e,t){return this.kernel.egor.createLight({name:t||"__Light_"+ete++}).key??0}function wre(e){Ie("Light_Destroy",e)}function Sre(e){throw Ie("Light_GetPowerScale",e),Error("Not implemented")}function Cre(e,t,r,n,o){Ie("Light_SetAttenuation",e,t,r,n,o)}function xre(e,t,r,n){Ie("Light_SetDiffuseColour",e,t,r,n)}function _re(e,t){Ie("Light_SetPowerScale",e,t)}function Ere(e,t,r,n){Ie("Light_SetSpecularColour",e,t,r,n)}function Tre(e,t,r,n){Ie("Light_SetSpotlightRange",e,t,r,n)}function Mre(e,t){Ie("Light_SetType",e,t)}function Ore(e,t,r){const{egor:n}=this.kernel,o=n.manualObjects.get(e);if(!o)return;const i=n.materialByName.get(t)||null,s=o.createSection(r,i);this.kernel.egorManualObjectsSections.set(o,s)}function Rre(e){this.kernel.egor.manualObjects.get(e)?.clear()}function Ire(e,t,r,n,o){Ie("ManualObject_Colour",e,t,r,n,o)}function Pre(e,t){Ie("ManualObject_ConvertToMesh",e,t)}function kre(e,t){return this.kernel.egor.scenes.get(e)?.createManualObject({name:t||"__ManualObject_"+tte++}).key||0}function Dre(e){this.kernel.egor.manualObjects.get(e)?.destroy()}function Are(e){const t=this.kernel.egor.manualObjects.get(e);if(!t)return;const r=this.kernel.egorManualObjectsSections.get(t);r&&(r.end(),this.kernel.egorManualObjectsSections.delete(t))}function Lre(e,t){Ie("ManualObject_EstimateIndexCount",e,t)}function Nre(e,t){Ie("ManualObject_EstimateVertexCount",e,t)}function Bre(e){throw Ie("ManualObject_GetDynamic",e),Error("Not implemented")}function Fre(e,t){Ie("ManualObject_Index",e,t)}function jre(e,t,r,n){const o=this.kernel.egor.manualObjects.get(e);o&&this.kernel.egorManualObjectsSections.get(o)?.addNormal(t,r,n)}function Vre(e,t,r,n){const o=this.kernel.egor.manualObjects.get(e);o&&this.kernel.egorManualObjectsSections.get(o)?.addVertex(t,r,n)}function $re(e,t){Ie("ManualObject_SetDynamic",e,t)}function zre(e,t,r){Ie("ManualObject_TextureCoord",e,t,r)}function Ure(e){return this.kernel.egor.createMaterial(e||"__Material_"+rte++).key}function Gre(e){return e&&this.kernel.egor.materialByName.get(e)?.key||0}function Hre(e){throw Ie("Material_GetBestTechnique",e),Error("Not implemented")}function Wre(e,t){throw Ie("Material_GetName",e,t),Error("Not implemented")}function Kre(e,t){return this.kernel.egor.materialByKey.get(e)?.tech(t)?.key??0}function qre(e,t){throw Ie("Material_GetTechniqueByName",e,t),Error("Not implemented")}function Yre(e,t,r,n,o,i,s){throw Ie("Movable_GetBoundingBox",e,t,r,n,o,i,s),Error("Not implemented")}function Xre(e){throw Ie("Movable_GetCastShadows",e),Error("Not implemented")}function Zre(e,t,r){const n=this.kernel.egor.movables.get(e);n&&(t[r]=n.name)}function Qre(e){return this.kernel.egor.movables.get(e)?.node?.key??0}function Jre(e){const t=this.kernel.egor.movables.get(e);return t?t.visible?1:0:-1}function ene(e,t){Ie("Movable_SetCastShadows",e,t)}function tne(e,t){const r=this.kernel.egor.movables.get(e);r&&this.kernel.egor.sceneNodes.get(t)?.attach(r)}function rne(e,t){this.kernel.egor.movables.get(e)?.setVisible(!!t)}function nne(e,t,r){return this.kernel.egor.createMovableText(t,{name:e||"__MovableText_"+nte++,fontName:r}).key}function one(e){Ie("MovableText_Destroy",e)}function ine(e,t){throw Ie("MovableText_GetCaption",e,t),Error("Not implemented")}function sne(e){throw Ie("MovableText_GetCharacterHeight",e),Error("Not implemented")}function ane(e,t,r,n,o){throw Ie("MovableText_GetColor",e,t,r,n,o),Error("Not implemented")}function lne(e,t){throw Ie("MovableText_GetFontName",e,t),Error("Not implemented")}function cne(e,t,r,n){throw Ie("MovableText_GetGlobalTranslation",e,t,r,n),Error("Not implemented")}function une(e,t,r,n){throw Ie("MovableText_GetLocalTranslation",e,t,r,n),Error("Not implemented")}function dne(e){throw Ie("MovableText_GetSpaceWidth",e),Error("Not implemented")}function hne(e,t,r){throw Ie("MovableText_GetTextAlignment",e,t,r),Error("Not implemented")}function fne(e,t){Ie("MovableText_SetCaption",e,t)}function pne(e,t){this.kernel.egor.movableTexts.get(e)?.setCharHeight(t)}function gne(e,t,r,n,o){Ie("MovableText_SetColor",e,t,r,n,o)}function mne(e,t){Ie("MovableText_SetFontName",e,t)}function vne(e,t,r,n){Ie("MovableText_SetGlobalTranslation",e,t,r,n)}function yne(e,t,r,n){Ie("MovableText_SetLocalTranslation",e,t,r,n)}function bne(e,t){Ie("MovableText_SetSpaceWidth",e,t)}function wne(e,t,r){Ie("MovableText_SetTextAlignment",e,t,r)}function Sne(e,t){Ie("Node_AddChild",e,t)}function Cne(e,t){return this.kernel.egor.nodes.get(e)?.getChild(t)?.key||0}function xne(e,t,r,n,o,i,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldPosition();t[r]=c[0],n[o]=c[1],i[s]=c[2]}function _ne(e,t,r,n,o,i,s,a,c){const d=this.kernel.egor.nodes.get(e);if(!d)return;const h=d.getWorldRotation();n[o]=h[0],i[s]=h[1],a[c]=h[2],t[r]=h[3]}function Ene(e,t,r,n,o,i,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldScale();t[r]=c[0],n[o]=c[1],i[s]=c[2]}function Tne(e,t,r){t[r]=this.kernel.egor.nodes.get(e)?.name??""}function Mne(e){return this.kernel.egor.nodes.get(e)?.children.length??-1}function One(e){throw Ie("Node_GetParent",e),Error("Not implemented")}function Rne(e,t,r,n,o,i,s){const a=this.kernel.egor.nodes.get(e);a&&(t[r]=a.position[0],n[o]=a.position[1],i[s]=a.position[2])}function Ine(e,t,r,n,o,i,s,a,c){const d=this.kernel.egor.nodes.get(e);d&&(n[o]=d.rotation[0],i[s]=d.rotation[1],a[c]=d.rotation[2],t[r]=d.rotation[3])}function Pne(e,t,r,n,o,i,s){const a=this.kernel.egor.nodes.get(e);a&&(t[r]=a.scale[0],n[o]=a.scale[1],i[s]=a.scale[2])}function kne(e,t){Ie("Node_RemoveChild",e,t)}function Dne(e,t){const r=this.kernel.egor.nodes.get(t);if(!r)return;const n=this.kernel.egor.nodes.get(e);n&&r.addChild(n)}function Ane(e,t,r,n){this.kernel.egor.nodes.get(e)?.setPosition(t,r,n)}function Lne(e,t,r,n,o){throw Ie("Node_SetRotationAxis",e,t,r,n,o),Error("Node_SetRotationAxis")}function Nne(e,t,r,n){this.kernel.egor.nodes.get(e)?.resetRotation().rotateX(t).rotateY(r).rotateZ(n)}function Bne(e,t,r,n){throw Error()}function Fne(e,t,r,n){this.kernel.egor.nodes.get(e)?.resetRotation().rotateY(t).rotateX(r).rotateZ(n)}function jne(e,t,r,n){throw Error()}function Vne(e,t,r,n){throw Error()}function $ne(e,t,r,n){this.kernel.egor.nodes.get(e)?.resetRotation().rotateZ(t).rotateY(r).rotateX(n)}function zne(e,t,r,n,o){this.kernel.egor.nodes.get(e)?.setRotation(r,n,o,t)}function Une(e,t,r,n){this.kernel.egor.nodes.get(e)?.setScale(t,r,n)}function Gne(e,t){const r=this.kernel.egor.overlays.get(e);if(!r)return;const n=this.kernel.egor.overlayElements.get(t);n&&r.setChildren(r.children.concat(n))}function Hne(e){return this.kernel.egor.createOverlay(e).key}function Wne(e,t,r){throw Ie("Overlay_FindElementAt",e,t,r),Error("Not implemented")}function Kne(e){if(!e)return 0;for(const t of this.kernel.egor.overlays.values())if(t.name===e)return t.key;return 0}function qne(e,t){throw Ie("Overlay_GetName",e,t),Error("Not implemented")}function Yne(e){throw Ie("Overlay_GetRotate",e),Error("Not implemented")}function Xne(e,t,r){throw Ie("Overlay_GetScale",e,t,r),Error("Not implemented")}function Zne(e,t,r){throw Ie("Overlay_GetScroll",e,t,r),Error("Not implemented")}function Qne(e){throw Ie("Overlay_GetVisible",e),Error("Not implemented")}function Jne(e){throw Ie("Overlay_GetZOrder",e),Error("Not implemented")}function eoe(e,t){Ie("Overlay_RemoveChild",e,t)}function toe(e,t){Ie("Overlay_SetRotate",e,t)}function roe(e,t,r){this.kernel.egor.overlays.get(e)?.setScale(t,r)}function noe(e,t,r){Ie("Overlay_SetScroll",e,t,r)}function ooe(e,t){this.kernel.egor.overlays.get(e)?.setVisible(!!t)}function ioe(e,t){this.kernel.egor.overlays.get(e)?.setZ(t)}function soe(e,t){const r=this.kernel.egor.overlayElements.get(e);if(!r)return;const n=this.kernel.egor.overlayElements.get(t);n&&r.setChildren(r.children.concat(n))}function aoe(e,t){throw Ie("OverlayContainer_GetChild",e,t),Error("Not implemented")}function loe(e){throw Ie("OverlayContainer_GetChildCount",e),Error("Not implemented")}function coe(e,t){Ie("OverlayContainer_RemoveChild",e,t)}function uoe(e,t){if(e!=="BorderPanel"&&e!=="Panel"&&e!=="TextArea")throw Error(`Неизвестный тип OverlayElement: '${e}'`);return this.kernel.egor.createOverlayElement(e,{name:t}).key}function doe(e){if(!e)return 0;for(const t of this.kernel.egor.overlayElements.values())if(t.name===e)return t.key;return 0}function hoe(e,t,r,n,o){const i=this.kernel.egor.overlayElements.get(e);t[r]=i?.horAlign??0,n[o]=i?.vertAlign??0}function foe(e,t,r){t[r]=this.kernel.egor.overlayElements.get(e)?.caption??""}function poe(e,t,r,n,o){throw Ie("OverlayElement_GetColour",e,t,r,n,o),Error("Not implemented")}function goe(e,t,r){t[r]=this.kernel.egor.overlayElements.get(e)?.material?.name??""}function moe(e){return this.kernel.egor.overlayElements.get(e)?.metricsMode??0}function voe(e){return this.kernel.egor.overlayElements.get(e)?.parent?.key??0}function yoe(e,t,r,n,o){const i=this.kernel.egor.overlayElements.get(e);t[r]=i?.x??0,n[o]=i?.y??0}function boe(e,t,r,n,o){const i=this.kernel.egor.overlayElements.get(e);t[r]=i?.width??0,n[o]=i?.height??0}function woe(e){const t=this.kernel.egor.overlayElements.get(e);return t?t.visible?1:0:-1}function Soe(e){throw Ie("OverlayElement_IsContainer",e),Error("Not implemented")}function Coe(e,t,r){this.kernel.egor.overlayElements.get(e)?.setAlignment(t,r)}function xoe(e,t){this.kernel.egor.overlayElements.get(e)?.setCaption(t)}function _oe(e,t,r,n,o){this.kernel.egor.overlayElements.get(e)?.setColor(t,r,n,o)}function Eoe(e,t){this.kernel.egor.overlayElements.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function Toe(e,t){this.kernel.egor.overlayElements.get(e)?.setMetricsMode(t)}function Moe(e,t,r){this.kernel.egor.overlayElements.get(e)?.setPosition(t,r)}function Ooe(e,t,r){this.kernel.egor.overlayElements.get(e)?.setSize(t,r)}function Roe(e,t){this.kernel.egor.overlayElements.get(e)?.setVisible(!!t)}function Ioe(e,t,r){throw Ie("ParticleSystem_Create",e,t,r),Error("Not implemented")}function Poe(e,t,r){throw Ie("ParticleSystem_CreateEx",e,t,r),Error("Not implemented")}function koe(e){Ie("ParticleSystem_Destroy",e)}function Doe(e,t){Ie("ParticleSystem_GetName",e,t)}function Aoe(e){throw Ie("ParticleSystem_GetParent",e),Error("Not implemented")}function Loe(e){throw Ie("ParticleSystem_GetVisible",e),Error("Not implemented")}function Noe(e,t){Ie("ParticleSystem_SetParent",e,t)}function Boe(e,t){Ie("ParticleSystem_SetVisible",e,t)}function Foe(e,t){throw Ie("Pass_Create",e,t),Error("Not implemented")}function joe(e,t,r){throw Ie("Pass_GetAlphaRejectSettings",e,t,r),Error("Not implemented")}function Voe(e,t,r,n,o){throw Ie("Pass_GetAmbient",e,t,r,n,o),Error("Not implemented")}function $oe(e){throw Ie("Pass_GetColourWriteEnabled",e),Error("Not implemented")}function zoe(e){throw Ie("Pass_GetCullingMode",e),Error("Not implemented")}function Uoe(e){throw Ie("Pass_GetDepthCheckEnabled",e),Error("Not implemented")}function Goe(e){throw Ie("Pass_GetDepthFunction",e),Error("Not implemented")}function Hoe(e){throw Ie("Pass_GetDepthWriteEnabled",e),Error("Not implemented")}function Woe(e,t,r,n,o){throw Ie("Pass_GetDiffuse",e,t,r,n,o),Error("Not implemented")}function Koe(e){throw Ie("Pass_GetLightingEnabled",e),Error("Not implemented")}function qoe(e){throw Ie("Pass_GetPolygonMode",e),Error("Not implemented")}function Yoe(e,t,r){throw Ie("Pass_GetSceneBlending",e,t,r),Error("Not implemented")}function Xoe(e,t,r,n,o){throw Ie("Pass_GetSelfIllumination",e,t,r,n,o),Error("Not implemented")}function Zoe(e){throw Ie("Pass_GetShadingMode",e),Error("Not implemented")}function Qoe(e){throw Ie("Pass_GetShininess",e),Error("Not implemented")}function Joe(e,t,r,n,o){throw Ie("Pass_GetSpecular",e,t,r,n,o),Error("Not implemented")}function eie(e,t){throw Ie("Pass_GetTextureUnitStateByIndex",e,t),Error("Not implemented")}function tie(e,t){throw Ie("Pass_GetTextureUnitStateByName",e,t),Error("Not implemented")}function rie(e,t,r){Ie("Pass_SetAlphaRejectSettings",e,t,r)}function nie(e,t,r,n){this.kernel.egor.passes.get(e)?.setAmbient(t,r,n)}function oie(e,t){Ie("Pass_SetColourWriteEnabled",e,t)}function iie(e,t){Ie("Pass_SetCullingMode",e,t)}function sie(e,t){this.kernel.egor.passes.get(e)?.setDepthCheckEnabled(!!t)}function aie(e,t){Ie("Pass_SetDepthFunction",e,t)}function lie(e,t){this.kernel.egor.passes.get(e)?.setDepthWriteEnabled(!!t)}function cie(e,t,r,n,o){this.kernel.egor.passes.get(e)?.setDiffuse(t,r,n,o)}function uie(e,t){this.kernel.egor.passes.get(e)?.setLightingEnabled(!!t)}function die(e,t){Ie("Pass_SetPolygonMode",e,t)}function hie(e,t,r){this.kernel.egor.passes.get(e)?.setSceneBlending(t,r)}function fie(e,t,r,n){this.kernel.egor.passes.get(e)?.setEmissive(t,r,n)}function pie(e,t){this.kernel.egor.passes.get(e)?.setShadingMode(t)}function gie(e,t){this.kernel.egor.passes.get(e)?.setShininess(t)}function mie(e,t,r,n,o){this.kernel.egor.passes.get(e)?.setSpecular(t,r,n,o)}function vie(e,t,r){throw Ie("RenderTexture_Create",e,t,r),Error("Not implemented")}function yie(e){Ie("RenderTexture_Destroy",e)}function bie(e){const t=this.kernel.scenes.get(e);if(!t)throw Error("Внешние 3D окна не поддерживаются");const r=t.window.width,n=t.window.height,o=this.kernel.egor.createRenderWindow(r,n,t);return t.insertFrame(o.view,{title:"",width:r,height:n}),o.key}function wie(e,t,r,n){const o=this.kernel.scenes.get(e);if(!o)throw Error("Внешние 3D окна не поддерживаются");const i=this.kernel.egor.createRenderWindow(r,n,o);return o.insertFrame(i.view,{title:t,width:r,height:n}),i.key}function Sie(e,t,r,n){throw Ie("RenderWindow_CreateEx",e,t,r,n),Error("Not implemented")}function Cie(e){Ie("RenderWindow_Destroy",e)}function xie(e){throw Ie("RenderWindow_Get",e),Error("Not implemented")}function _ie(){throw Ie("RenderWindow_GetCount"),Error("Not implemented")}function Eie(e){throw Ie("RenderWindow_GetCursorHovered",e),Error("Not implemented")}function Tie(e,t,r,n,o){const i=this.kernel.egor.windows.get(e)?.mouse();t[r]=i?.x??0,n[o]=i?.y??0}function Mie(e,t){return this.kernel.egor.windows.get(e)?.keyPressed(t)?1:0}function Oie(e,t){const r=t===0?"left":t===1?"right":t===2?"middle":null;return r&&this.kernel.egor.windows.get(e)?.buttonPressed(r)?1:0}function Rie(e,t,r,n,o){const i=this.kernel.egor.windows.get(e);t[r]=i?.x??0,n[o]=i?.y??0}function Iie(){return this.kernel.egor.primaryWindow?.key??0}function Pie(e,t,r,n,o){const i=this.kernel.egor.windows.get(e);t[r]=i?.width??0,n[o]=i?.height??0}function kie(e,t){throw Ie("RenderWindow_GetViewport",e,t),Error("Not implemented")}function Die(e){return this.kernel.egor.windows.get(e)?.viewports.size??0}function Aie(e){return this.kernel.egor.windows.get(e)?.wheelPosition??0}function Lie(e,t,r){Ie("RenderWindow_SetPosition",e,t,r)}function Nie(e,t,r){Ie("RenderWindow_SetSize",e,t,r)}function Bie(e){throw Ie("RenderWindow_ToggleFullscreen",e),Error("Not implemented")}function Fie(e,t,r,n){Ie("Root_AddResourceLocation",e,t,r,n)}function jie(e){Bk(this.prj.dir.resolve(e))?.split(`\r
`).forEach(r=>{const n=r.trim().toUpperCase();if(!n.startsWith("FILESYSTEM")&&!n.startsWith("ZIP"))return;const o=n.split("=")[1].trim();this.prj.dir.resolve(o).forEach(s=>{if(s.image){const a=s.path.basename(),c=this.kernel.egor.createImage(s.image,a);c.meta=s.path.toString();return}if(s.mesh){const a=s.path.basename(),c=this.kernel.egor.createMesh(s.mesh,a);c.meta=s.path.toString();return}if(s.base64){const a=s.path.basename().toUpperCase(),c=Bk(s.path);if(a.endsWith(".MATERIAL")){const d=c.split(`
`).map(h=>h.trim());for(let h=0;h<d.length;h++){const f=d[h],g=f.startsWith("material ")&&f.replace("material ","").split('"').join("");if(!g)continue;const y=this.kernel.egor.createMaterial(g).techs[0].passes[0];for(let b=h+1;b<d.length;b++){const v=d[b];if(v==="}")break;const C=v.startsWith("shading ")&&v.replace("shading ","");if(C){const N=C.toLowerCase()==="phong"?rt.SO_PHONG:rt.SO_GOURAUD;y.setShadingMode(N);continue}const E=v.startsWith("ambient ")&&v.replace("ambient ","");if(E){const N=E.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setAmbient(...N);continue}const T=v.startsWith("diffuse ")&&v.replace("diffuse ","");if(T){const N=T.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setDiffuse(...N);continue}const R=v.startsWith("specular ")&&v.replace("specular ","");if(R){const N=R.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setSpecular(...N),N.length>4&&y.setShininess(N[4]);continue}const M=v.startsWith("emissive ")&&v.replace("emissive ","");if(M){const N=M.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setEmissive(...N),N.length>4&&y.setShininess(N[4]);continue}if(v.startsWith("texture_unit"))for(let N=b+1;N<d.length;N++){const P=d[N];if(P==="}")break;const L=P.startsWith("texture ")&&P.replace("texture ","");if(L){const D=L.toUpperCase();y.createTextureUnit().setTextureName(D);continue}}}}}}},!1)})}function Vie(){}function $ie(){Ie("Root_Destroy")}function zie(){throw Ie("Root_GetTime"),Error("Not implemented")}function Uie(){}function Gie(){}function Hie(){return 1}function Wie(){return this.kernel.egorShouldRender=!0,1}function Kie(){return 1}function qie(){Ie("Root_SaveConfig")}function Yie(){return 1}function Xie(e){Ie("Scene_Clear",e)}function Zie(e){if(e!=="OctreeSceneManager"&&e!=="BSPSceneManager"&&e!=="TerrainSceneManager")throw Error(`Неподдерживаемый тип сцены: ${e}`);return this.kernel.egor.createScene().key}function Qie(e){Ie("Scene_Destroy",e)}function Jie(e,t){throw Ie("Scene_GetCamera",e,t),Error("Not implemented")}function ese(e,t){if(!t)return 0;const r=this.kernel.egor.scenes.get(e);if(!r)return 0;for(const n of this.kernel.egor.entities.values())if(n.scene===r&&n.name===t)return n.key;return 0}function tse(e,t){throw Ie("Scene_GetLight",e,t),Error("Not implemented")}function rse(e,t){throw Ie("Scene_GetParticleSystem",e,t),Error("Not implemented")}function nse(e){return this.kernel.egor.scenes.get(e)?.root.key??0}function ose(e,t){if(!t)return 0;const r=this.kernel.egor.scenes.get(e);if(!r)return 0;for(const n of this.kernel.egor.sceneNodes.values())if(n.scene===r&&n.name===t)return n.key;return 0}function ise(e){throw Ie("Scene_GetShadowTechnique",e),Error("Not implemented")}function sse(e,t){Ie("Scene_Load",e,t)}function ase(e,t,r,n){this.kernel.egor.scenes.get(e)?.setAmbient(t,r,n)}function lse(e,t,r,n,o,i,s,a){Ie("Scene_SetFog",e,t,r,n,o,i,s,a)}function cse(e,t){Ie("Scene_SetShadowTechnique",e,t)}function use(e,t,r,n){e&&Ie("Scene_SetSkyBox",e,t,r,n)}function dse(e,t){Ie("Scene_SetWorldGeometry",e,t)}function hse(e,t){Ie("SceneNode_AttachObject",e,t)}function fse(e,t){return this.kernel.egor.scenes.get(e)?.createSceneNode({name:t||"__SceneNode_"+ote++}).key??0}function pse(e){this.kernel.egor.sceneNodes.get(e)?.destroy()}function gse(e,t){Ie("SceneNode_DetachObject",e,t)}function mse(e){return this.kernel.egor.sceneNodes.get(e)?.movables.length??-1}function vse(e,t){return this.kernel.egor.sceneNodes.get(e)?.getMovable(t)?.key||0}function yse(e){throw Ie("SceneNode_GetScene",e),Error("Not implemented")}function bse(e,t,r,n,o){this.kernel.egor.sceneNodes.get(e)?.setAutoTracking(this.kernel.egor.sceneNodes.get(t)??null,r,n,o)}function wse(e,t,r){const n=this.kernel.egor.sceneNodes.get(e);if(!n)return;const o=!!t;if(!r){n.movables.forEach(i=>i.setVisible(o));return}(function i(s){s.movables.forEach(a=>a.setVisible(o)),s.children.forEach(a=>i(a))})(n)}function Sse(e,t,r){Ie("StringInterface_GetParameter",e,t,r)}function Cse(e){throw Ie("StringInterface_GetParameterCount",e),Error("Not implemented")}function xse(e,t,r){Ie("StringInterface_GetParameterDescription",e,t,r)}function _se(e,t,r){Ie("StringInterface_GetParameterName",e,t,r)}function Ese(e,t){throw Ie("StringInterface_GetParameterType",e,t),Error("Not implemented")}function Tse(e,t,r){const n=this.kernel.egor.overlayElements.get(e);n&&n.setParam(t,r)}function Mse(e,t){throw Ie("Technique_Create",e,t),Error("Not implemented")}function Ose(e,t){return this.kernel.egor.techniques.get(e)?.pass(t)?.key??0}function Rse(e,t){throw Ie("Technique_GetPassByName",e,t),Error("Not implemented")}function Ise(e,t){return this.kernel.egor.passes.get(e)?.createTextureUnit(t).key??0}function Pse(e,t,r){Ie("TextureUnitState_GetTexture",e,t,r)}function kse(e,t,r){this.kernel.egor.texUnits.get(e)?.setTexture(this.kernel.egor.imageResByNameUC.get(t.toUpperCase())??null,r)}function Dse(e,t,r){throw Ie("Viewport_AddCompositor",e,t,r),Error("Not implemented")}function Ase(e,t,r){const n=this.kernel.egor.cameras.get(t);return n?this.kernel.egor.windows.get(e)?.createViewport(n,r).key??0:0}function Lse(e){Ie("Viewport_Destroy",e)}function Nse(e,t,r,n){throw Ie("Viewport_GetBackgroundColour",e,t,r,n),Error("Not implemented")}function Bse(e){throw Ie("Viewport_GetCamera",e),Error("Not implemented")}function Fse(e,t){throw Ie("Viewport_GetCompositor",e,t),Error("Not implemented")}function jse(e,t,r,n,o){throw Ie("Viewport_GetDimensions",e,t,r,n,o),Error("Not implemented")}function Vse(e){throw Ie("Viewport_GetNumCompositors",e),Error("Not implemented")}function $se(e){throw Ie("Viewport_GetOverlaysEnabled",e),Error("Not implemented")}function zse(e,t,r,n,o,i,s,a,c,d,h,f,g,m,y){const{origin:b,dir:v}=this.kernel.egor.viewports.get(e)?.camera.getRay(t,r,v0)||ite;n[o]=b[0],i[s]=b[1],a[c]=b[2],d[h]=v[0],f[g]=v[1],m[y]=v[2]}function Use(e,t){Ie("Viewport_RemoveCompositor",e,t)}function Gse(e,t,r,n){this.kernel.egor.viewports.get(e)?.setBackground(t,r,n)}function Hse(e,t){const r=this.kernel.egor.cameras.get(t);r&&this.kernel.egor.viewports.get(e)?.setCamera(r)}function Wse(e,t,r,n,o){Ie("Viewport_SetDimensions",e,t,r,n,o)}function Kse(e,t){this.kernel.egor.viewports.get(e)?.enableOverlays(!!t)}function qse(e){e("AnimationState_AddTime",{a:[A,k]},ste),e("AnimationState_GetEnabled",{a:[A],r:k},ate),e("AnimationState_GetLength",{a:[A],r:k},lte),e("AnimationState_GetLoop",{a:[A],r:k},cte),e("AnimationState_GetTimePosition",{a:[A],r:k},ute),e("AnimationState_GetWeight",{a:[A],r:k},dte),e("AnimationState_SetEnabled",{a:[A,k]},hte),e("AnimationState_SetLength",{a:[A,k]},fte),e("AnimationState_SetLoop",{a:[A,k]},pte),e("AnimationState_SetTimePosition",{a:[A,k]},gte),e("AnimationState_SetWeight",{a:[A,k]},mte),e("Billboard_GetColour",{a:[A,Ye,Ye,Ye,Ye]},vte),e("Billboard_GetPosition",{a:[A,Ye,Ye,Ye]},yte),e("Billboard_GetRotation",{a:[A],r:k},bte),e("Billboard_SetColour",{a:[A,k,k,k,k]},wte),e("Billboard_SetPosition",{a:[A,k,k,k]},Ste),e("Billboard_SetRotation",{a:[A,k]},Cte),e("BillboardSet_Create",{a:[A,fe,k],r:A},xte),e("BillboardSet_CreateBillboard",{a:[A,k,k,k],r:A},_te),e("BillboardSet_Destroy",{a:[A]},Ete),e("BillboardSet_GetBillboard",{a:[A,k],r:A},Tte),e("BillboardSet_GetBillboardType",{a:[A],r:k},Mte),e("BillboardSet_GetCommonDirection",{a:[A,Ye,Ye,Ye]},Ote),e("BillboardSet_GetCommonUpVector",{a:[A,Ye,Ye,Ye]},Rte),e("BillboardSet_GetDefaultDimensions",{a:[A,Ye,Ye]},Ite),e("BillboardSet_GetMaterialName",{a:[A,$o]},Pte),e("BillboardSet_GetNumBillboards",{a:[A],r:k},kte),e("BillboardSet_RemoveBillboard",{a:[A,A]},Dte),e("BillboardSet_SetBillboardType",{a:[A,k]},Ate),e("BillboardSet_SetCommonDirection",{a:[A,k,k,k]},Lte),e("BillboardSet_SetCommonUpVector",{a:[A,k,k,k]},Nte),e("BillboardSet_SetDefaultDimensions",{a:[A,k,k]},Bte),e("BillboardSet_SetMaterialName",{a:[A,fe]},Fte),e("Bone_GetManuallyControlled",{a:[A],r:k},jte),e("Bone_Reset",{a:[A]},Vte),e("Bone_SetManuallyControlled",{a:[A,k]},$te),e("Camera_Create",{a:[A,fe],r:A},zte),e("Camera_Destroy",{a:[A]},Ute),e("Camera_GetAspectRatio",{a:[A],r:k},Gte),e("Camera_GetFarClipDistance",{a:[A],r:k},Hte),e("Camera_GetFOV",{a:[A],r:k},Wte),e("Camera_GetNearClipDistance",{a:[A],r:k},Kte),e("Camera_GetPolygonMode",{a:[A],r:k},qte),e("Camera_GetProjectionType",{a:[A],r:k},Yte),e("Camera_SetAspectRatio",{a:[A,k]},Xte),e("Camera_SetFarClipDistance",{a:[A,k]},Zte),e("Camera_SetFocalLength",{a:[A,k]},Qte),e("Camera_SetFOV",{a:[A,k]},Jte),e("Camera_SetFrustumOffset",{a:[A,k,k]},ere),e("Camera_SetNearClipDistance",{a:[A,k]},tre),e("Camera_SetPolygonMode",{a:[A,k]},rre),e("Camera_SetProjectionType",{a:[A,k]},nre),e("Collision_GetDistance",{a:[k],r:k},ore),e("Collision_GetObject",{a:[k],r:A},ire),e("Collision_GetResultCount",{r:k},sre),e("Collision_RayCast",{a:[A,k,k,k,k,k,k]},are),e("Collision_Sort",{},lre),e("Compositor_GetEnabled",{a:[A],r:k},cre),e("Compositor_SetEnabled",{a:[A,k]},ure),e("Entity_Create",{a:[A,fe,fe],r:A},dre),e("Entity_Destroy",{a:[A]},hre),e("Entity_GetAnimationState",{a:[A,fe],r:A},fre),e("Entity_GetBone",{a:[A,fe],r:A},pre),e("Entity_GetIndexCount",{a:[A,k],r:k},gre),e("Entity_GetMaterial",{a:[A,k,$o]},mre),e("Entity_GetSubEntityCount",{a:[A],r:k},vre),e("Entity_GetVertexCount",{a:[A],r:k},FD),e("Entity_GetVertexCount",{a:[A,k],r:k},FD),e("Entity_SetMaterial",{a:[A,k,fe]},yre),e("Light_Create",{a:[A,fe],r:A},bre),e("Light_Destroy",{a:[A]},wre),e("Light_GetPowerScale",{a:[A],r:k},Sre),e("Light_SetAttenuation",{a:[A,k,k,k,k]},Cre),e("Light_SetDiffuseColour",{a:[A,k,k,k]},xre),e("Light_SetPowerScale",{a:[A,k]},_re),e("Light_SetSpecularColour",{a:[A,k,k,k]},Ere),e("Light_SetSpotlightRange",{a:[A,k,k,k]},Tre),e("Light_SetType",{a:[A,k]},Mre),e("ManualObject_Begin",{a:[A,fe,k]},Ore),e("ManualObject_Clear",{a:[A]},Rre),e("ManualObject_Colour",{a:[A,k,k,k,k]},Ire),e("ManualObject_ConvertToMesh",{a:[A,fe]},Pre),e("ManualObject_Create",{a:[A,fe],r:A},kre),e("ManualObject_Destroy",{a:[A]},Dre),e("ManualObject_End",{a:[A]},Are),e("ManualObject_EstimateIndexCount",{a:[A,k]},Lre),e("ManualObject_EstimateVertexCount",{a:[A,k]},Nre),e("ManualObject_GetDynamic",{a:[A],r:k},Bre),e("ManualObject_Index",{a:[A,k]},Fre),e("ManualObject_Normal",{a:[A,k,k,k]},jre),e("ManualObject_Position",{a:[A,k,k,k]},Vre),e("ManualObject_SetDynamic",{a:[A,k]},$re),e("ManualObject_TextureCoord",{a:[A,k,k]},zre),e("Material_Create",{a:[fe],r:A},Ure),e("Material_Get",{a:[fe],r:A},Gre),e("Material_GetBestTechnique",{a:[A],r:A},Hre),e("Material_GetName",{a:[A,$o]},Wre),e("Material_GetTechniqueByIndex",{a:[A,k],r:A},Kre),e("Material_GetTechniqueByName",{a:[A,fe],r:A},qre),e("Movable_GetBoundingBox",{a:[A,Ye,Ye,Ye,Ye,Ye,Ye]},Yre),e("Movable_GetCastShadows",{a:[A],r:k},Xre),e("Movable_GetName",{a:[A,$o]},Zre),e("Movable_GetParent",{a:[A],r:A},Qre),e("Movable_GetVisible",{a:[A],r:k},Jre),e("Movable_SetCastShadows",{a:[A,k]},ene),e("Movable_SetParent",{a:[A,A]},tne),e("Movable_SetVisible",{a:[A,k]},rne),e("MovableText_Create",{a:[fe,fe,fe],r:A},nne),e("MovableText_Destroy",{a:[A]},one),e("MovableText_GetCaption",{a:[A,$o]},ine),e("MovableText_GetCharacterHeight",{a:[A],r:k},sne),e("MovableText_GetColor",{a:[A,Ye,Ye,Ye,Ye]},ane),e("MovableText_GetFontName",{a:[A,$o]},lne),e("MovableText_GetGlobalTranslation",{a:[A,Ye,Ye,Ye]},cne),e("MovableText_GetLocalTranslation",{a:[A,Ye,Ye,Ye]},une),e("MovableText_GetSpaceWidth",{a:[A],r:k},dne),e("MovableText_GetTextAlignment",{a:[A,Ye,Ye]},hne),e("MovableText_SetCaption",{a:[A,fe]},fne),e("MovableText_SetCharacterHeight",{a:[A,k]},pne),e("MovableText_SetColor",{a:[A,k,k,k,k]},gne),e("MovableText_SetFontName",{a:[A,fe]},mne),e("MovableText_SetGlobalTranslation",{a:[A,k,k,k]},vne),e("MovableText_SetLocalTranslation",{a:[A,k,k,k]},yne),e("MovableText_SetSpaceWidth",{a:[A,k]},bne),e("MovableText_SetTextAlignment",{a:[A,k,k]},wne),e("Node_AddChild",{a:[A,A]},Sne),e("Node_GetChild",{a:[A,k],r:A},Cne),e("Node_GetDerivedPosition",{a:[A,Ye,Ye,Ye]},xne),e("Node_GetDerivedRotationQuaternion",{a:[A,Ye,Ye,Ye,Ye]},_ne),e("Node_GetDerivedScale",{a:[A,Ye,Ye,Ye]},Ene),e("Node_GetName",{a:[A,$o]},Tne),e("Node_GetNumChildren",{a:[A],r:k},Mne),e("Node_GetParent",{a:[A],r:A},One),e("Node_GetPosition",{a:[A,Ye,Ye,Ye]},Rne),e("Node_GetRotationQuaternion",{a:[A,Ye,Ye,Ye,Ye]},Ine),e("Node_GetScale",{a:[A,Ye,Ye,Ye]},Pne),e("Node_RemoveChild",{a:[A,A]},kne),e("Node_SetParent",{a:[A,A]},Dne),e("Node_SetPosition",{a:[A,k,k,k]},Ane),e("Node_SetRotationAxis",{a:[A,k,k,k,k]},Lne),e("Node_SetRotationEulerXYZ",{a:[A,k,k,k]},Nne),e("Node_SetRotationEulerXZY",{a:[A,k,k,k]},Bne),e("Node_SetRotationEulerYXZ",{a:[A,k,k,k]},Fne),e("Node_SetRotationEulerYZX",{a:[A,k,k,k]},jne),e("Node_SetRotationEulerZXY",{a:[A,k,k,k]},Vne),e("Node_SetRotationEulerZYX",{a:[A,k,k,k]},$ne),e("Node_SetRotationQuaternion",{a:[A,k,k,k,k]},zne),e("Node_SetScale",{a:[A,k,k,k]},Une),e("Overlay_AddChild",{a:[A,A]},Gne),e("Overlay_Create",{a:[fe],r:A},Hne),e("Overlay_FindElementAt",{a:[A,k,k],r:A},Wne),e("Overlay_Get",{a:[fe],r:A},Kne),e("Overlay_GetName",{a:[A,$o]},qne),e("Overlay_GetRotate",{a:[A],r:k},Yne),e("Overlay_GetScale",{a:[A,Ye,Ye]},Xne),e("Overlay_GetScroll",{a:[A,Ye,Ye]},Zne),e("Overlay_GetVisible",{a:[A],r:k},Qne),e("Overlay_GetZOrder",{a:[A],r:k},Jne),e("Overlay_RemoveChild",{a:[A,A]},eoe),e("Overlay_SetRotate",{a:[A,k]},toe),e("Overlay_SetScale",{a:[A,k,k]},roe),e("Overlay_SetScroll",{a:[A,k,k]},noe),e("Overlay_SetVisible",{a:[A,k]},ooe),e("Overlay_SetZOrder",{a:[A,k]},ioe),e("OverlayContainer_AddChild",{a:[A,A]},soe),e("OverlayContainer_GetChild",{a:[A,k],r:A},aoe),e("OverlayContainer_GetChildCount",{a:[A],r:k},loe),e("OverlayContainer_RemoveChild",{a:[A,A]},coe),e("OverlayElement_Create",{a:[fe,fe],r:A},uoe),e("OverlayElement_Get",{a:[fe],r:A},doe),e("OverlayElement_GetAlignment",{a:[A,Ye,Ye]},hoe),e("OverlayElement_GetCaption",{a:[A,$o]},foe),e("OverlayElement_GetColour",{a:[A,Ye,Ye,Ye,Ye]},poe),e("OverlayElement_GetMaterialName",{a:[A,$o]},goe),e("OverlayElement_GetMetricsMode",{a:[A],r:k},moe),e("OverlayElement_GetParent",{a:[A],r:A},voe),e("OverlayElement_GetPosition",{a:[A,Ye,Ye]},yoe),e("OverlayElement_GetSize",{a:[A,Ye,Ye]},boe),e("OverlayElement_GetVisible",{a:[A],r:k},woe),e("OverlayElement_IsContainer",{a:[A],r:k},Soe),e("OverlayElement_SetAlignment",{a:[A,k,k]},Coe),e("OverlayElement_SetCaption",{a:[A,fe]},xoe),e("OverlayElement_SetColour",{a:[A,k,k,k,k]},_oe),e("OverlayElement_SetMaterialName",{a:[A,fe]},Eoe),e("OverlayElement_SetMetricsMode",{a:[A,k]},Toe),e("OverlayElement_SetPosition",{a:[A,k,k]},Moe),e("OverlayElement_SetSize",{a:[A,k,k]},Ooe),e("OverlayElement_SetVisible",{a:[A,k]},Roe),e("ParticleSystem_Create",{a:[A,fe,fe],r:A},Ioe),e("ParticleSystem_CreateEx",{a:[A,fe,fe],r:A},Poe),e("ParticleSystem_Destroy",{a:[A]},koe),e("ParticleSystem_GetName",{a:[A,fe]},Doe),e("ParticleSystem_GetParent",{a:[A],r:A},Aoe),e("ParticleSystem_GetVisible",{a:[A],r:k},Loe),e("ParticleSystem_SetParent",{a:[A,A]},Noe),e("ParticleSystem_SetVisible",{a:[A,k]},Boe),e("Pass_Create",{a:[A,fe],r:A},Foe),e("Pass_GetAlphaRejectSettings",{a:[A,Ye,Ye]},joe),e("Pass_GetAmbient",{a:[A,Ye,Ye,Ye,Ye]},Voe),e("Pass_GetColourWriteEnabled",{a:[A],r:k},$oe),e("Pass_GetCullingMode",{a:[A],r:k},zoe),e("Pass_GetDepthCheckEnabled",{a:[A],r:k},Uoe),e("Pass_GetDepthFunction",{a:[A],r:k},Goe),e("Pass_GetDepthWriteEnabled",{a:[A],r:k},Hoe),e("Pass_GetDiffuse",{a:[A,Ye,Ye,Ye,Ye]},Woe),e("Pass_GetLightingEnabled",{a:[A],r:k},Koe),e("Pass_GetPolygonMode",{a:[A],r:k},qoe),e("Pass_GetSceneBlending",{a:[A,Ye,Ye]},Yoe),e("Pass_GetSelfIllumination",{a:[A,Ye,Ye,Ye,Ye]},Xoe),e("Pass_GetShadingMode",{a:[A],r:k},Zoe),e("Pass_GetShininess",{a:[A],r:k},Qoe),e("Pass_GetSpecular",{a:[A,Ye,Ye,Ye,Ye]},Joe),e("Pass_GetTextureUnitStateByIndex",{a:[A,k],r:A},eie),e("Pass_GetTextureUnitStateByName",{a:[A,fe],r:A},tie),e("Pass_SetAlphaRejectSettings",{a:[A,k,k]},rie),e("Pass_SetAmbient",{a:[A,k,k,k,k]},nie),e("Pass_SetColourWriteEnabled",{a:[A,k]},oie),e("Pass_SetCullingMode",{a:[A,k]},iie),e("Pass_SetDepthCheckEnabled",{a:[A,k]},sie),e("Pass_SetDepthFunction",{a:[A,k]},aie),e("Pass_SetDepthWriteEnabled",{a:[A,k]},lie),e("Pass_SetDiffuse",{a:[A,k,k,k,k]},cie),e("Pass_SetLightingEnabled",{a:[A,k]},uie),e("Pass_SetPolygonMode",{a:[A,k]},die),e("Pass_SetSceneBlending",{a:[A,k,k]},hie),e("Pass_SetSelfIllumination",{a:[A,k,k,k,k]},fie),e("Pass_SetShadingMode",{a:[A,k]},pie),e("Pass_SetShininess",{a:[A,k]},gie),e("Pass_SetSpecular",{a:[A,k,k,k,k]},mie),e("RenderTexture_Create",{a:[fe,k,k],r:A},vie),e("RenderTexture_Destroy",{a:[A]},yie),e("RenderWindow_Create",{a:[A,k,k],r:A},bie),e("RenderWindow_Create2",{a:[A,fe,k,k,k,k,k,k],r:A},wie),e("RenderWindow_CreateEx",{a:[A,k,k,k],r:A},Sie),e("RenderWindow_Destroy",{a:[A]},Cie),e("RenderWindow_Get",{a:[k],r:A},xie),e("RenderWindow_GetCount",{r:k},_ie),e("RenderWindow_GetCursorHovered",{a:[A],r:k},Eie),e("RenderWindow_GetCursorPosition",{a:[A,Ye,Ye]},Tie),e("RenderWindow_GetKeyboardButtonPressed",{a:[A,k],r:k},Mie),e("RenderWindow_GetMouseButtonPressed",{a:[A,k],r:k},Oie),e("RenderWindow_GetPosition",{a:[A,Ye,Ye]},Rie),e("RenderWindow_GetPrimary",{r:A},Iie),e("RenderWindow_GetSize",{a:[A,Ye,Ye]},Pie),e("RenderWindow_GetViewport",{a:[A,k],r:A},kie),e("RenderWindow_GetViewportCount",{a:[A],r:k},Die),e("RenderWindow_GetWheelPosition",{a:[A],r:k},Aie),e("RenderWindow_SetPosition",{a:[A,k,k]},Lie),e("RenderWindow_SetSize",{a:[A,k,k]},Nie),e("RenderWindow_ToggleFullscreen",{a:[A],r:k},Bie),e("Root_AddResourceLocation",{a:[fe,fe,fe,k]},Fie),e("Root_AddResourceLocationFromConfigFile",{a:[fe]},jie),e("Root_Create",{a:[fe,fe,fe]},Vie),e("Root_Destroy",{},$ie),e("Root_GetTime",{r:k},zie),e("Root_Initialise",{},Uie),e("Root_InitialiseAllResourceGroups",{},Gie),e("Root_IsInitialised",{r:k},Hie),e("Root_RenderOneFrame",{r:k},Wie),e("Root_RestoreConfig",{r:k},Kie),e("Root_SaveConfig",{},qie),e("Root_ShowConfigDialog",{r:k},Yie),e("Scene_Clear",{a:[A]},Xie),e("Scene_Create",{a:[fe],r:A},Zie),e("Scene_Destroy",{a:[A]},Qie),e("Scene_GetCamera",{a:[A,fe],r:A},Jie),e("Scene_GetEntity",{a:[A,fe],r:A},ese),e("Scene_GetLight",{a:[A,fe],r:A},tse),e("Scene_GetParticleSystem",{a:[A,fe],r:A},rse),e("Scene_GetRootSceneNode",{a:[A],r:A},nse),e("Scene_GetSceneNode",{a:[A,fe],r:A},ose),e("Scene_GetShadowTechnique",{a:[A],r:k},ise),e("Scene_Load",{a:[A,fe]},sse),e("Scene_SetAmbientLight",{a:[A,k,k,k]},ase),e("Scene_SetFog",{a:[A,k,k,k,k,k,k,k]},lse),e("Scene_SetShadowTechnique",{a:[A,k]},cse),e("Scene_SetSkyBox",{a:[A,k,fe,k]},use),e("Scene_SetWorldGeometry",{a:[A,fe]},dse),e("SceneNode_AttachObject",{a:[A,A]},hse),e("SceneNode_Create",{a:[A,fe],r:A},fse),e("SceneNode_Destroy",{a:[A]},pse),e("SceneNode_DetachObject",{a:[A,A]},gse),e("SceneNode_GetNumObjects",{a:[A],r:k},mse),e("SceneNode_GetObject",{a:[A,k],r:A},vse),e("SceneNode_GetScene",{a:[A],r:A},yse),e("SceneNode_SetAutoTracking",{a:[A,A,k,k,k]},bse),e("SceneNode_SetVisible",{a:[A,k,k]},wse),e("StringInterface_GetParameter",{a:[A,fe,fe]},Sse),e("StringInterface_GetParameterCount",{a:[A],r:k},Cse),e("StringInterface_GetParameterDescription",{a:[A,k,fe]},xse),e("StringInterface_GetParameterName",{a:[A,k,fe]},_se),e("StringInterface_GetParameterType",{a:[A,k],r:k},Ese),e("StringInterface_SetParameter",{a:[A,fe,fe]},Tse),e("Technique_Create",{a:[A,fe],r:A},Mse),e("Technique_GetPassByIndex",{a:[A,k],r:A},Ose),e("Technique_GetPassByName",{a:[A,fe],r:A},Rse),e("TextureUnitState_Create",{a:[A,fe],r:A},Ise),e("TextureUnitState_GetTexture",{a:[A,fe,A]},Pse),e("TextureUnitState_SetTexture",{a:[A,fe,k]},kse),e("Viewport_AddCompositor",{a:[A,fe,k],r:A},Dse),e("Viewport_Create",{a:[A,A,k],r:A},Ase),e("Viewport_Destroy",{a:[A]},Lse),e("Viewport_GetBackgroundColour",{a:[A,Ye,Ye,Ye]},Nse),e("Viewport_GetCamera",{a:[A],r:A},Bse),e("Viewport_GetCompositor",{a:[A,k],r:A},Fse),e("Viewport_GetDimensions",{a:[A,Ye,Ye,Ye,Ye]},jse),e("Viewport_GetNumCompositors",{a:[A],r:k},Vse),e("Viewport_GetOverlaysEnabled",{a:[A],r:k},$se),e("Viewport_GetRay",{a:[A,k,k,Ye,Ye,Ye,Ye,Ye,Ye]},zse),e("Viewport_RemoveCompositor",{a:[A,A]},Use),e("Viewport_SetBackgroundColour",{a:[A,k,k,k]},Gse),e("Viewport_SetCamera",{a:[A,A]},Hse),e("Viewport_SetDimensions",{a:[A,k,k,k,k]},Wse),e("Viewport_SetOverlaysEnabled",{a:[A,k]},Kse)}const Yse={name:"ogre",deps:["windows"],register:qse,setup(e){e.egor=new $Q,e.egorShouldRender=!1,e.egorRayCastResult=null,e.egorManualObjectsSections=new WeakMap,e.afterCycle.add(()=>{e.egorShouldRender&&(e.egorShouldRender=!1,e.egor.renderAll())})}},Xse=13,Zse=10,Qse=[1,1,2,2,4,4,4,5,8,10];function jD(e){return e<0||e>9?0:Qse[e]}class VD{constructor(t,r=null){if(this.file=r,t){const n=bC(t);this.v=new DataView(n.buffer,n.byteOffset,n.byteLength)}else this.v=new DataView(new ArrayBuffer(0));this.p=0,this.width=8}copyTo(t,r,n){return r<0||r+n>this.v.byteLength?0:(t.v.byteLength<n?t.v=new DataView(this.v.buffer.slice(r,n)):new Uint8Array(t.v.buffer).set(new Uint8Array(this.v.buffer,r,n)),1)}seek(t){return this.p=t}eof(){return this.p>=this.size()?1:0}pos(){return this.p}size(){return this.v.byteLength}setWidth(t){return this.width=t,1}widthNumber(){const t=jD(this.width);if(t===0)return 0;const r=this.p,n=r+t;if(n>this.size())return 0;switch(this.p=n,this.width){case 0:return this.v.getUint8(r);case 1:return this.v.getInt8(r);case 2:return this.v.getUint16(r,!0);case 3:return this.v.getInt16(r,!0);case 4:return this.v.getUint32(r,!0);case 5:return this.v.getInt32(r,!0);case 6:return this.v.getFloat32(r,!0);case 7:throw Error("Чтение FLOAT40 не поддерживается");case 8:return this.v.getFloat64(r,!0);case 9:throw Error("Чтение FLOAT80 не поддерживается");default:return 0}}resize(t){const r=new Uint8Array(new ArrayBuffer(t));r.set(new Uint8Array(this.v.buffer)),this.v=new DataView(r.buffer)}writeWidthNumber(t){const r=jD(this.width);if(r===0)return 0;const n=this.p,o=n+r;switch(o>this.size()&&this.resize(o),this.p=o,this.width){case 0:return this.v.setUint8(n,t),1;case 1:return this.v.setInt8(n,t),1;case 2:return this.v.setUint16(n,t,!0),2;case 3:return this.v.setInt16(n,t,!0),2;case 4:return this.v.setUint32(n,t,!0),4;case 5:return this.v.setInt32(n,t,!0),4;case 6:return this.v.setFloat32(n,t,!0),4;case 7:throw Error("FLOAT40 не поддерживается");case 8:return this.v.setFloat64(n,t,!0),8;case 9:throw Error("FLOAT80 не поддерживается");default:return 0}}getLine(t,r){const n=this.p,o=Math.min(t,this.size()-n);if(o<=0)return"";let i=0,s="";for(;i<o;){const a=this.v.getUint8(n+i);i++;const c=ha[a];if(s+=c,c===r)break}return this.p+=i,s}line(){const t=this.p,r=this.size()-t;if(r<=0)return"";let n=0,o=0;for(;n<r;){const s=this.v.getUint8(t+n);if(s===0){o=1;break}if(s===Xse&&n+1<r&&this.v.getUint8(t+n+1)===Zse){o=2;break}n+=1}const i=jv(new Uint8Array(this.v.buffer,t,n));return this.p=t+n+o,i}writeLine(t){const r=t+`\r
`;let n=this.p;const o=n+r.length;return o>this.size()&&this.resize(o),this.p=o,wC(r).forEach((s,a)=>this.v.setUint8(n+a,s)),r.length}write(t){let r=this.p;const n=r+t.length;n>this.size()&&this.resize(n),this.p=n,t.forEach((o,i)=>this.v.setUint8(r+i,o))}buffer(){return this.v.buffer}}class Jse{constructor(){this.saveFilePaths=[],this.tempFiles=[]}addFile(t,r){this.tempFiles.push({path:t,data:r})}addFilepathForSave(t){this.saveFilePaths.push(t)}getTempFile(t){for(const r of this.tempFiles)if(r.path.equals(t))return r.data;return null}isTempSavePath(t){return this.saveFilePaths.some(r=>r.equals(t))}}function eae(e,t,r){const n=e.toUpperCase(),o=r.toUpperCase(),i=o.includes("CREATE"),s=o.includes("READONLY"),a=Xi.freeKey(this.kernel.streams);if(t==="?")throw Error("Некорректное использование fileLoadDialog");if(n==="FILE"){const c=this.prj.dir.resolve(t);let d=null,h="";if(i){if(d=c.create("file",{base64:h}),!d)return 0}else{const f=this.kernel.tempFileController.getTempFile(c)?.content;if(f){if(!f.base64)return Vn.debugFile&&console.warn(`CreateStream: Загруженный файл ${c} существует, но формат не base64.`),0;h=f.base64}else{if(d=c.file(),!d)return 0;if(h=d.base64,!h)return Vn.debugFile&&console.warn(`CreateStream: Файл ${c} существует, но формат не base64.`),0}}return this.kernel.streams.set(a,new VD(h,s?null:d)),a}return n==="MEMORY"?(this.kernel.streams.set(a,new VD),a):(console.warn(`Поток типа ${n} не поддерживается`),0)}function tae(e){const t=this.kernel.streams.get(e);if(!t)return 0;if(this.kernel.streams.delete(e),!t.file)return 1;const r=new Uint8Array(t.buffer());t.file.set({base64:Fv(r)});const n=this.kernel.tempFileController.isTempSavePath(t.file.path);return this.kernel.handleWrite(t.file,r,n),1}function rae(e,t){return this.kernel.streams.get(e)?.seek(t)??0}function nae(e){return this.kernel.streams.get(e)?.eof()??0}function oae(e){return this.kernel.streams.get(e)?.pos()??0}function iae(e){return this.kernel.streams.get(e)?.size()??0}function sae(e,t){return this.kernel.streams.get(e)?.setWidth(t)??0}function aae(e){return this.kernel.streams.get(e)?.widthNumber()??0}function lae(e){return this.kernel.streams.get(e)?.line()??""}function cae(e,t){return this.kernel.streams.get(e)?.writeWidthNumber(t)??0}function uae(e,t){return this.kernel.streams.get(e)?.writeLine(t)??0}function dae(e,t,r){return this.kernel.streams.get(e)?.getLine(t,r)??""}function hae(e,t,r,n){const o=this.kernel.streams.get(e);if(!o)return 0;const i=this.kernel.streams.get(t);return i?o.copyTo(i,r,n):0}function fae(e){e("CreateStream",{a:[fe,fe,fe],r:A},eae),e("CloseStream",{a:[A],r:k},tae),e("Seek",{a:[A,k],r:k},rae),e("Eof",{a:[A],r:k},nae),e("GetPos",{a:[A],r:k},oae),e("GetSize",{a:[A],r:k},iae),e("SetWidth",{a:[A,k],r:k},sae),e("Read",{a:[A],r:k},aae),e("ReadLn",{a:[A],r:fe},lae),e("Write",{a:[A,k],r:k},cae),e("WriteLn",{a:[A,fe],r:k},uae),e("GetLine",{a:[A,k,fe],r:fe},dae),e("CopyBlock",{a:[A,A,k,k],r:k},hae)}const pae={name:"streams",register:fae,setup(e){e.streams=new Map,e.tempFileController=new Jse}},jp=new Uint8Array(256);function $D(e){return e>=0&&e<256?!!jp[e]:!1}function gae(){return this.kernel._functionNotImplemented("System"),0}function mae(e){return $D(e)?1:0}function vae(e,t,r,n,o){const i=this.kernel.windows.get(e);if(!i)return t[r]=0,n[o]=0,0;const{x:s,y:a}=i.mouse,c=i.invmatrix;if(!c)return t[r]=s,n[o]=a,1;const d=s*c[2]+a*c[5]+c[8];return t[r]=(s*c[0]+a*c[3]+c[6])/d,n[o]=(s*c[1]+a*c[4]+c[7])/d,1}function yae(e){this.kernel.windowSystem.showCursor(e>0)}function zD(e,t){const r=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!r)return;let n;switch(t){case rt.CUR_ARROW:n="auto";break;case rt.CUR_CROSS:n="crosshair";break;case rt.CUR_TEXT:n="text";break;case rt.CUR_NO:n="not-allowed";break;case rt.CUR_SIZE:n="move";break;case rt.CUR_SIZENESW:n="nesw-resize";break;case rt.CUR_SIZENS:n="ns-resize	";break;case rt.CUR_SIZENWSE:n="nwse-resize";break;case rt.CUR_SIZEWE:n="ew-resize";break;case rt.CUR_UPARROW:n="n-resize";break;case rt.CUR_WAIT:n="wait";break;case rt.CUR_LINK:n="pointer";break;case rt.CUR_HELP:n="help";break;default:n="auto";break}r.setCursor(n)}function UD(e,t){const r=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!r)return;const n=this.prj.dir.resolve(t).file()?.cursor;r.setCursor(n?`url(${Zi(n.src)}), auto`:"default")}function bae(){return Date.now()-p9}function wae(e,t,r,n,o,i,s,a){const c=new Date;e[t]=c.getHours(),r[n]=c.getMinutes(),o[i]=c.getSeconds(),s[a]=c.getMilliseconds()*.1}function Sae(e,t,r,n,o,i){const s=new Date;e[t]=s.getFullYear(),r[n]=s.getMonth()+1,o[i]=s.getDate()}function Cae(e,t,r,...[n,o,i,s,a]){if(r>4)return 0;const c=this.kernel.scenes.get(e)?.scene.objects.get(t);return c?(r<0?delete c.data.hyper:c.data.hyper={mode:r,target:n,object:o,effect:i,window:s,params:a},1):0}function xae(e,t,r,n){const o=this.kernel.scenes.get(e);if(!o)return;const i=(o.scene.objects.get(n)??o.pick(t,r))?.data?.hyper;i&&o.hyperClick(i,{x:t,y:r})}function _ae(){return this.kernel.windowSystem.windowFactory.screenWidth}function Eae(){return this.kernel.windowSystem.windowFactory.screenHeight}function Tae(){return 0}function Mae(){return 0}function Oae(){return this.kernel.windowSystem.windowFactory.screenWidth}function Rae(){return this.kernel.windowSystem.windowFactory.screenHeight}function Iae(){return 0}function Pae(){return 0}function kae(){return 0}function Dae(){return 0}function Aae(){return 0}function Lae(){return 0}function Nae(e,t){return this.kernel.handleExe(e,t)?1:0}function Bae(e,t,r,n){return this.kernel.handleShell(e,t,r,n)?1:0}function Fae(e){this.kernel.log(e,this)}function jae(e){e("System",{a:[k],rest:[k],r:k},gae),e("GetAsyncKeyState",{a:[k],r:k},mae),e("GetMousePos",{a:[fe,Ye,Ye],r:k},vae),e("ShowCursor",{a:[k]},yae),e("LoadCursor",{a:[A,fe]},UD),e("LoadCursor",{a:[fe,fe]},UD),e("SetStandartCursor",{a:[A,k]},zD),e("SetStandartCursor",{a:[fe,k]},zD),e("GetTickCount",{r:k},bae),e("GetTime",{a:[Ye,Ye,Ye,Ye]},wae),e("GetDate",{a:[Ye,Ye,Ye]},Sae),e("SetHyperJump2d",{a:[A,A,k],rest:[fe],r:k},Cae),e("StdHyperJump",{a:[A,k,k,A,k]},xae),e("GetScreenWidth",{r:k},_ae),e("GetScreenHeight",{r:k},Eae),e("GetWorkAreaX",{r:k},Tae),e("GetWorkAreaY",{r:k},Mae),e("GetWorkAreaWidth",{r:k},Oae),e("GetWorkAreaHeight",{r:k},Rae),e("GetTitleHeight",{r:k},Iae),e("GetSmallTitleHeight",{r:k},Pae),e("GetFixedFrameWidth",{r:k},kae),e("GetFixedFrameHeight",{r:k},Dae),e("GetSizeFrameWidth",{r:k},Aae),e("GetSizeFrameHeight",{r:k},Lae),e("WinExecute",{a:[fe,k],r:k},Nae),e("Shell",{a:[fe,fe,fe,k],r:k},Bae),e("LogMessage",{a:[fe]},Fae)}const Vae={name:"system",deps:["windows"],register:jae};function $ae(e){return e.toString()}function zae(e,t){return e<0||e>255?"":ha[e]}function Uae(e){e("FloatToString",{a:[k],r:fe},$ae),e("ConvertToAscii",{a:[k,k],r:fe},zae)}const Gae={name:"vrtkbd",register:Uae},Vp={src:"library",mount:"library"};async function y0({id:e,src:t,hash:r},n){let o;const i=e||t;try{o=await fetch(`${Zi(i)}/index.json${r?"?"+r:""}`,n)}catch(a){throw a instanceof Error?Error("Сервер библиотек не отвечает"):a}if(o.status===404)throw Error(`404: Библиотека '${i}' не существует`);const s=await o.json();if(!o.ok)throw Error(s.message||"Неизвестная ошибка");return s}function b0(e,t,r){t.forEach(({key:n,klass:o})=>{const i=r.get(o)?.image;if(!i||i.prior==="icon"||!i.scene?.data?.objects?.length)return;const s=e.objects.get(n);s?.type==="group"&&GD(s,i.scene.data,i.resizable)})}function GD(e,t,r,n){const{children:o}=e,i=o.length?o[0]:null,s=Eh(e.scene,t,n).set({x:e.x,y:e.y,attrib:e.attrib});if(i){const a=e.attrib|fa;r?(i.set({attrib:a}),s.set({width:i.width,height:i.height})):i.set({attrib:a,width:1,height:1})}return e.set({children:o.concat(s)}),s}function Hae(e){return(e.startsWith("#")?parseInt(e.slice(1)):parseInt(e))||0}function $p(e,t){switch(e){case bt.FLOAT:{const r=parseFloat(t.replace(",","."));if(!isNaN(r))return r;const n=rt[t.toUpperCase()];return typeof n=="number"?n:null}case bt.HANDLE:return Hae(t);case bt.STRING:return t;case bt.COLORREF:return X8(t)}}function HD(e,t){switch(e){case bt.FLOAT:return UK(t).toString();case bt.STRING:return t;case bt.HANDLE:return"#"+t;case bt.COLORREF:return e7(t)}}class Wae{constructor(t,r){this.prevContainerWidth=0,this.prevContainerHeight=0,this.width=0,this.height=0,this.updateScene=()=>{const{scene:s,scrollContainerEl:a}=this,c=a.clientWidth,d=a.clientHeight;(this.prevContainerWidth!==c||this.prevContainerHeight!==d)&&(this.prevContainerWidth=c,this.prevContainerHeight=d,s.resizeView(c,d));const h=a.scrollLeft+this.offsetX,f=a.scrollTop+this.offsetY;return(s.x!==h||s.y!==f)&&s.set({x:h,y:f}),!0},this.scene=t,new Wu().run(this.updateScene);const o=document.createElement("div");o.className="wrapper-scroll-container",o.style="width: 100%; height: 100%;";const i=document.createElement("div");i.className="wrapper-scroll-dummy",i.style="width: 100%; height: 100%;",o.append(i),r.append(o),this.dummyEl=i,this.scrollContainerEl=o,this.offsetX=0,this.offsetY=0}scrollTo(t,r){const n=t-this.offsetX,o=r-this.offsetY;this.scrollContainerEl.scrollLeft=n,this.scrollContainerEl.scrollTop=o,this.updateScene()}set({x:t=this.offsetX,y:r=this.offsetY,width:n=this.width,height:o=this.height}){let i=!1;this.offsetX!==t&&(this.offsetX=t,i=!0,this.scrollContainerEl.style.overflowX="scroll"),this.offsetY!==r&&(this.offsetY=r,i=!0,this.scrollContainerEl.style.overflowY="scroll"),this.width!==n&&(this.width=n,this.dummyEl.style.width=n+"px",this.scrollContainerEl.style.overflowX="scroll"),this.height!==o&&(this.height=o,this.dummyEl.style.height=o+"px",this.scrollContainerEl.style.overflowY="scroll"),i&&this.updateScene()}}class WD{constructor(t){this.scrollArea=null,this.sceneRect=null,this.autoScroll=!1,this.yScroll=!1,this.xScroll=!1;const r=t.view.style;r.position="absolute",r.top="0px",r.left="0px",r.pointerEvents="none";const n=document.createElement("div");n.className="stratum-scene-wrapper",n.style="position: relative; width: 100%; height: 100%; overflow:hidden;";const o=document.createElement("div");o.className="stratum-subwindow-root",o.style="position: absolute; top: 0px; left: 0px",n.append(t.view,o),this.scene=t,this.domElement=n,this.subwindowRoot=o}setOrg(t,r){this.scrollArea?this.scrollArea.scrollTo(t,r):this.scene.set({x:t,y:r})}getWidth(t){return(t||!this.sceneRect)&&(this.sceneRect=Zu(this.scene.objects.values())),this.sceneRect.w}getHeight(t){return(t||!this.sceneRect)&&(this.sceneRect=Zu(this.scene.objects.values())),this.sceneRect.h}reCalc(){if(!this.autoScroll||!this.xScroll&&!this.yScroll)return;const t=this.sceneRect=Zu(this.scene.objects.values());this.set({width:on(this.xScroll&&t.w),height:on(this.yScroll&&t.h)})}getOrCreateScrollArea(){return this.scrollArea||(this.scrollArea=new Wae(this.scene,this.domElement)),this.scrollArea}setAutoScroll(t){this.autoScroll=t}set(t){t.width&&(this.xScroll=!0),t.height&&(this.yScroll=!0),this.getOrCreateScrollArea().set(t)}}const Kae=new Map([["Backspace",8],["Tab",9],["Enter",13],["ShiftLeft",16],["ControlLeft",17],["AltLeft",18],["Pause",19],["CapsLock",20],["Escape",27],["Space",32],["PageUp",33],["PageDown",34],["End",35],["Home",36],["ArrowLeft",37],["ArrowUp",38],["ArrowRight",39],["ArrowDown",40],["PrintScreen",44],["Insert",45],["Delete",46],["Digit0",48],["Digit1",49],["Digit2",50],["Digit3",51],["Digit4",52],["Digit5",53],["Digit6",54],["Digit7",55],["Digit8",56],["Digit9",57],["KeyA",65],["KeyB",66],["KeyC",67],["KeyD",68],["KeyE",69],["KeyF",70],["KeyG",71],["KeyH",72],["KeyI",73],["KeyJ",74],["KeyK",75],["KeyL",76],["KeyM",77],["KeyN",78],["KeyO",79],["KeyP",80],["KeyQ",81],["KeyR",82],["KeyS",83],["KeyT",84],["KeyU",85],["KeyV",86],["KeyW",87],["KeyX",88],["KeyY",89],["KeyZ",90],["Comma",188],["Period",190],["Slash",191]]),qae=[37,38,39,40,45,46];class KD{constructor(t,r,n){this.parent=t,this.sceneView=r,this.realX=NaN,this.realY=NaN,this.x=0,this.y=0,this.width=0,this.height=0,this.title="",this.visible=!0,this.scale=1,this.onClose=new Al,this.lastScrollTime=0,this.manuallyScrolled=!1;const o=this.view=document.createElement("div");o.setAttribute("class","stratum-subwindow"),o.style.setProperty("position","absolute"),o.style.setProperty("transform-origin","top left"),this.set(n),o.appendChild(r),t.sceneWrapper.subwindowRoot.appendChild(o),o.addEventListener("scroll",()=>{if(this.manuallyScrolled){this.manuallyScrolled=!1;return}this.lastScrollTime=Date.now()})}scrollTo(t,r){Date.now()-this.lastScrollTime<50||(this.view.scrollTo({left:t,top:r}),this.manuallyScrolled=!0)}set({x:t=this.x,y:r=this.y,width:n=this.width,height:o=this.height,title:i=this.title,visible:s=this.visible,scale:a=this.scale}){const{parent:c,view:d}=this,{style:h}=d,f=(t-c.scene.x)*c.window.scale,g=(r-c.scene.y)*c.window.scale,m=1/a;return this.scale!==a&&(a===1?h.removeProperty("transform"):h.setProperty("transform",`scale(${a})`)),this.realX!==f&&h.setProperty("left",f+"px"),this.realY!==g&&h.setProperty("top",g+"px"),(this.width!==n||this.scale!==a)&&h.setProperty("width",n*m+"px"),(this.height!==o||this.scale!==a)&&h.setProperty("height",o*m+"px"),this.visible!==s&&h.setProperty("display",s?"block":"none"),this.realX=f,this.realY=g,this.x=t,this.y=r,this.width=n,this.height=o,this.title=i,this.visible=s,this.scale=a,this}toTop(){this.view.parentElement?.append(this.view)}offsetLeft(){return this.view.offsetLeft}offsetTop(){return this.view.offsetTop}disablePointerEvents(){this.view.style.pointerEvents="none"}close(){this.view.remove()}}class w0{constructor(t,r,{key:n,matrix:o,name:i,prj:s,scene:a,window:c,parent:d,source:h,sceneWrapper:f}){this.kernel=t,this.c=r,this.currentCursor="default",this.cursorOverHyp=!1,this.all=new Set([this]),this.mouseMoveSubs=new Ll,this.leftButtonUpSubs=new Ll,this.leftButtonDownSubs=new Ll,this.rightButtonUpSubs=new Ll,this.rightButtonDownSubs=new Ll,this.middleButtonUpSubs=new Ll,this.middleButtonDownSubs=new Ll,this.keyDownSubs=new Set,this.keyUpSubs=new Set,this.keyCharSubs=new Set,this.controlNotifySubs=new Ll,this.windowMoveSubs=new Set,this.spaceDoneSubs=new Set,this.sizeSubs=new Set,this.hiddenBy=null,this.mouse={x:0,y:0},this.scene=a,this.window=c,this.key=n,this.name=i,this.prj=s,this.matrix=o??null,this.invmatrix=o?kK(o):null,this.parent=d??null,this.source=h??null,a.view.style.pointerEvents="auto",a.view.tabIndex=0,a.view.style.outline="none",a.view.style.touchAction="none";const g=this.handleKeyboard.bind(this);a.view.addEventListener("keydown",g),a.view.addEventListener("keyup",g);const m=this.handlePointer.bind(this);a.view.addEventListener("pointerdown",m),a.view.addEventListener("pointermove",m),a.view.addEventListener("pointerup",m),a.view.addEventListener("pointercancel",m),a.oninputchanged=this.handleInput.bind(this),this.sceneWrapper=f,c.onClose.add(()=>this.remove())}getWidth(t){return this.sceneWrapper.getWidth(t)}getHeight(t){return this.sceneWrapper.getHeight(t)}keyPressed(t){return $D(t)}setMouseCoordsRecursive(t,r){if(this.mouse.x=t,this.mouse.y=r,this.parent){const n=this.window.x-this.parent.scene.x+t,o=this.window.y-this.parent.scene.y+r;this.parent.setMouseCoordsRecursive(n,o)}}handlePointer(t){const r=!!(t.buttons&1),n=!!(t.buttons&2),o=!!(t.buttons&4);if(jp[1]=+r,jp[2]=+n,jp[4]=+o,!t.isPrimary||t.target!==t.currentTarget)return;this.c.captureTarget?.w.scene.view.setPointerCapture(t.pointerId);const{scene:i}=this,s=Math.round(t.offsetX+i.x),a=Math.round(t.offsetY+i.y);this.setMouseCoordsRecursive(s,a);let c=i.pick(s,a);for(;c;){const R=c.parent;if(!R)break;c=R}const d=c?.data?.hyper;let h,f;switch(t.type){case"pointerdown":{switch(this.c.closePopups(this),t.button){case 0:d&&!d.disabled&&this.hyperClick(d,{x:s,y:a}),h=this.leftButtonDownSubs,f=rt.WM_LBUTTONDOWN;break;case 1:h=this.middleButtonDownSubs,f=rt.WM_MBUTTONDOWN;break;case 2:h=this.rightButtonDownSubs,f=rt.WM_RBUTTONDOWN;break;default:return}break}case"pointerup":case"pointercancel":{switch(t.button){case 0:h=this.leftButtonUpSubs,f=rt.WM_LBUTTONUP;break;case 1:h=this.middleButtonUpSubs,f=rt.WM_MBUTTONUP;break;case 2:h=this.rightButtonUpSubs,f=rt.WM_RBUTTONUP;break;default:return}break}case"pointermove":this.cursorOverHyp=!!d&&!d.disabled,this.updateCursor(),h=this.mouseMoveSubs,f=rt.WM_MOUSEMOVE;break}let g=s,m=a;const y=this.invmatrix;if(y){const R=s*y[2]+a*y[5]+y[8];g=(s*y[0]+a*y[3]+y[6])/R,m=(s*y[1]+a*y[4]+y[7])/R}const{captureTarget:b}=this.c,v=r?1:0,C=n?2:0,E=o?16:0,T=v|C|E;h.forEach((R,M)=>{if(!(b&&b.w===this&&b.s===M||R.has(c)||R.has(null)))return;const{msg:N,xpos:P,ypos:L,fwkeys:D}=M.klass.vars;M.setVarValue(N,f),P&&M.setVarValue(P,g),L&&M.setVarValue(L,m),D&&M.setVarValue(D,T),M.compute(!0)})}updateCursor(){this.scene.set({cursor:this.c.cursorVisible?this.cursorOverHyp?"pointer":this.currentCursor:"none"})}handleKeyboard(t){if(t.target!==t.currentTarget)return;const r=t.type,n=Kae.get(t.code)??0;!n&&t.code&&console.warn(`Неизвестная клавиша: ${t.code}`),jp[n]=+(r==="keydown");const o=1,i=0;let s,a;switch(r){case"keydown":s=this.keyDownSubs,a=rt.WM_KEYDOWN;break;case"keyup":s=this.keyUpSubs,a=rt.WM_KEYUP;break}if(s.forEach(c=>{const{msg:d,wvkey:h,repeat:f,scancode:g}=c.klass.vars;c.setVarValue(d,a),h&&c.setVarValue(h,n),f&&c.setVarValue(f,o),g&&c.setVarValue(g,i),c.compute(!0)}),r==="keydown"&&!qae.includes(n)){const c=ha.indexOf(t.key),d=c<0?n:c;this.keyCharSubs.forEach(h=>{const{msg:f,wvkey:g,repeat:m,scancode:y}=h.klass.vars;h.setVarValue(f,kC),g&&h.setVarValue(g,d),m&&h.setVarValue(m,o),y&&h.setVarValue(y,i),h.compute(!0)})}}handleInput(t){const r=this.controlNotifySubs,n=rt.WM_CONTROLNOTIFY;let o;switch(t.type){case"input":o=768;break;case"focus":this.c.closePopups(this),o=256;break;case"blur":o=512;break;case"click":o=0;break;default:return}r.forEach((i,s)=>{if(!(i.has(t.target)||i.has(null)))return;const{msg:c,_hobject:d,iditem:h,wnotifycode:f}=s.klass.vars;s.setVarValue(c,n),d&&s.setVarValue(d,t.target.key),h&&s.setVarValue(h,0),f&&s.setVarValue(f,o),s.compute(!0)})}setCapture(t){this.c.captureTarget={w:this,s:t}}releaseCapture(){}subscribe(t,r,n,o){const i=o&1,s=this.scene.objects.get(n)??null;switch(r){case rt.WM_MOVE:this.windowMoveSubs.add(t);break;case rt.WM_SPACEDONE:this.spaceDoneSubs.add(t);break;case rt.WM_SIZE:this.sizeSubs.add(t);break;case rt.WM_CONTROLNOTIFY:(s||n===0)&&this.controlNotifySubs.set(t,s);break;case rt.WM_MOUSEMOVE:(s||!i)&&this.mouseMoveSubs.set(t,i?s:null);break;case rt.WM_LBUTTONDOWN:(s||!i)&&this.leftButtonDownSubs.set(t,i?s:null);break;case rt.WM_LBUTTONUP:(s||!i)&&this.leftButtonUpSubs.set(t,i?s:null);break;case rt.WM_RBUTTONDOWN:(s||!i)&&this.rightButtonDownSubs.set(t,i?s:null);break;case rt.WM_RBUTTONUP:(s||!i)&&this.rightButtonUpSubs.set(t,i?s:null);break;case rt.WM_MBUTTONDOWN:(s||!i)&&this.middleButtonDownSubs.set(t,i?s:null);break;case rt.WM_MBUTTONUP:(s||!i)&&this.middleButtonUpSubs.set(t,i?s:null);break;case rt.WM_ALLMOUSEMESSAGE:if(!s&&i)break;const a=i?s:null;this.mouseMoveSubs.set(t,a),this.leftButtonDownSubs.set(t,a),this.leftButtonUpSubs.set(t,a),this.rightButtonDownSubs.set(t,a),this.rightButtonUpSubs.set(t,a),this.middleButtonDownSubs.set(t,a),this.middleButtonUpSubs.set(t,a);break;case rt.WM_KEYDOWN:this.keyDownSubs.add(t);break;case rt.WM_KEYUP:this.keyUpSubs.add(t);break;case kC:this.keyCharSubs.add(t);break;case rt.WM_ALLKEYMESSAGE:this.keyDownSubs.add(t),this.keyUpSubs.add(t),this.keyCharSubs.add(t);break;default:t.kernel._functionNotImplemented(`Подписка на ${rt[r]}`,t);break}}unsubscribe(t,r){switch(r){case rt.WM_MOVE:this.windowMoveSubs.delete(t);break;case rt.WM_SPACEDONE:this.spaceDoneSubs.delete(t);break;case rt.WM_SIZE:this.sizeSubs.delete(t);break;case rt.WM_CONTROLNOTIFY:this.controlNotifySubs.delete(t);break;case rt.WM_MOUSEMOVE:this.mouseMoveSubs.delete(t);break;case rt.WM_LBUTTONDOWN:this.leftButtonDownSubs.delete(t);break;case rt.WM_LBUTTONUP:this.leftButtonUpSubs.delete(t);break;case rt.WM_RBUTTONDOWN:this.rightButtonDownSubs.delete(t);break;case rt.WM_RBUTTONUP:this.rightButtonUpSubs.delete(t);break;case rt.WM_MBUTTONDOWN:this.middleButtonDownSubs.delete(t);break;case rt.WM_MBUTTONUP:this.middleButtonUpSubs.delete(t);break;case rt.WM_ALLMOUSEMESSAGE:this.mouseMoveSubs.delete(t),this.leftButtonDownSubs.delete(t),this.leftButtonUpSubs.delete(t),this.rightButtonDownSubs.delete(t),this.rightButtonUpSubs.delete(t),this.middleButtonDownSubs.delete(t),this.middleButtonUpSubs.delete(t);break;case rt.WM_KEYDOWN:this.keyDownSubs.delete(t);break;case rt.WM_KEYUP:this.keyUpSubs.delete(t);break;case kC:this.keyCharSubs.delete(t);break;case rt.WM_ALLKEYMESSAGE:this.keyDownSubs.delete(t),this.keyUpSubs.delete(t),this.keyCharSubs.delete(t);break}}setOrg(t,r){this.sceneWrapper.setOrg(t,r)}setVerticalScroller(t){t.min>t.max||this.sceneWrapper.set({y:t.min,height:t.max-t.min})}setHorizontalScroller(t){t.min>t.max||this.sceneWrapper.set({x:t.min,width:t.max-t.min})}setCursor(t){this.currentCursor=t,this.updateCursor()}insertFrame(t,r){new KD(this,t,{x:this.scene.x,y:this.scene.y}).disablePointerEvents()}subwindow({gSpaceDTO:{data:t,matrix:r,options:n},project:o,name:i,at:s,source:a}){const c=this.c.sceneFactory.create(t),d={...s,title:i},h=n?.size;if(h?.type==="fixed")d.width=h.width,d.height=h.height;else if(c.objects.size){const b=Zu(c.objects.values());n?.autoorg&&c.set({x:b.x,y:b.y}),d.width=b.w,d.height=b.h}const f=new WD(c),g=new KD(this,f.domElement,d),m=Xi.freeKey(this.c.scenes),y=new w0(this.kernel,this.c,{key:m,name:i,prj:o,scene:c,window:g,matrix:r,source:a,parent:this,sceneWrapper:f});return this.c.scenes.set(m,y),this.c.windows.set(i,y),this.all.add(y),y}pick(t,r,n){let o=t,i=r;const s=this.matrix;if(s){const c=t*s[2]+r*s[5]+s[8];o=(t*s[0]+r*s[3]+s[6])/c,i=(t*s[1]+r*s[4]+s[7])/c}let a=this.scene.pick(o,i);if(n&&(this.c.lastPickedPrimaryKey=a?.key??0),!a)return null;for(;a.parent;)a=a.parent;return a}paste(t,r,n,o){if(!t.objects?.length)return null;let i=t;if(o&rt.PFC_ALL){const h={...t};o&rt.PFC_PENS&&delete h.pens,o&rt.PFC_BRUHS&&delete h.brushes,o&rt.PFC_DDIBS&&delete h.images,o&rt.PFC_DIBS&&delete h.imagesOpaque,o&rt.PFC_STRINGS&&delete h.strings,o&rt.PFC_FONTS&&delete h.fonts,o&rt.PFC_TEXTS&&delete h.texts,i=h}const s=Eh(this.scene,i);if(!(o&rt.PFC_MOVEOBJECT))return s;let a=r,c=n;const d=this.matrix;if(d){const h=r*d[2]+n*d[5]+d[8];a=(r*d[0]+n*d[3]+d[6])/h,c=(r*d[1]+n*d[4]+d[7])/h}return s.set({x:a,y:c})}hyperClick(t,r){const{prj:n}=this;switch(t.object&&console.warn("Посылка WM_HYPERJUMP не реализована"),t.mode){case Wv:{const o=t.target;if(!o)break;const i=this.kernel.classes.get(o);if(!i)break;const{scene:s}=i,a=t.window||(s?.options?.popup?"PopupWindow":"MainWindow");if(this.c.windows.has(a))return;const c={x:r.x-this.scene.x,y:r.y-this.scene.y},d=this.c.window({name:a,gSpaceDTO:s??{},project:n,at:c,source:{type:"classname",data:i.name}});s&&b0(d.scene,i.children,this.kernel.classes);break}case LC:{const o=t.target;if(!o)break;this.kernel.handleExe(o);break}case NC:{const o=t.target;if(!o)break;const i=t.params?.toUpperCase().includes("/HIDEWINDOWS"),s=n.dir.resolve(o);this.kernel.projectLoader.open(s).then(a=>{if(!a){console.warn(`${s} не существует`);return}const c=this.kernel.addProject(a);i&&this.c.hideProjectWindows(n,c)}).catch(a=>{if(!(a instanceof Error))throw a;console.warn(`Не удалось открыть ${s}: ${a.message}`)});break}case Mk:break;case Kv:{const o=t.target?.toUpperCase();if(!o)break;o===BC?this.kernel.setProjects([]):o===FC?this.kernel.setProjects(ik(this.kernel.projects,n)):console.warn(`Действие '${o}' не реализовано.`);break}default:console.warn("Неизвестный тип гиперперехода"),console.log(t)}}remove(){this.c._closeWindows(this.all)}}class Yae{constructor(t,{sceneFactory:r,windowFactory:n}){this.kernel=t,this.scenes=new Map,this.windows=new Map,this.cursorVisible=!0,this.captureTarget=null,this.lastPickedPrimaryKey=0,this.clipboard=null,this.openedPopups=new Set,this.sceneFactory=r,this.windowFactory=n}window({gSpaceDTO:{data:t,matrix:r,options:n},project:o,name:i,at:s,source:a}){const c=this.sceneFactory.create(t),d=n?.size,h={...s,title:i,popup:n?.popup,showCloseButton:n.showCloseButton,...d?.type==="fixed"&&{width:d.width,height:d.height}};if(d?.type==="fixed")h.width=d.width,h.height=d.height;else{const b=Zu(c.objects.values());h.width=b.w,h.height=b.h,c.set({x:b.x,y:b.y})}const f=new WD(c),g=this.windowFactory.window(f.domElement,h),m=Xi.freeKey(this.scenes),y=new w0(this.kernel,this,{key:m,name:i,prj:o,scene:c,window:g,matrix:r,source:a,sceneWrapper:f});return n?.hscroll&&f.set({width:y.getWidth()}),n?.vscroll&&f.set({height:y.getHeight()}),n?.autoscroll&&f.setAutoScroll(!0),n?.popup&&this.openedPopups.add(y),this.scenes.set(m,y),this.windows.set(i,y),y}releaseCapture(){this.captureTarget?.w.releaseCapture(),this.captureTarget=null}showCursor(t){this.cursorVisible=t,this.windows.forEach(r=>r.updateCursor())}_closeWindows(t){this.scenes.forEach(r=>{if(!t.has(r))return;r===this.captureTarget?.w&&(this.captureTarget=null);const{key:n,name:o}=r;setTimeout(()=>{const i=rt.WM_SPACEDONE;r.spaceDoneSubs.forEach(s=>{const{msg:a,_hspace:c,_windowName:d}=s.klass.vars;s.setVarValue(a,i),c&&s.setVarValue(c,n),d&&s.setVarValue(d,o),s.compute(!0)})}),r.scene.dispose(),r.window.close(),this.scenes.delete(r.key),this.windows.delete(r.name),this.openedPopups.delete(r)})}closePopups(t){const r=new Set;this.openedPopups.forEach(n=>{n!==t&&n.all.forEach(o=>r.add(o))}),this._closeWindows(r)}clearAll(){this.scenes.clear(),this.windows.clear(),this.cursorVisible=!0,this.lastPickedPrimaryKey=0}hideProjectWindows(t,r){this.windows.forEach(n=>{n.prj===t&&(n.window.set({visible:!1}),n.hiddenBy=r)})}closeProjectWindows(t){const r=new Set([...this.windows.values()].filter(n=>n.prj===t));this._closeWindows(r),this.windows.forEach(n=>{n.hiddenBy===t&&(n.window.set({visible:!0}),n.hiddenBy=null)})}}function Xae(e,t,r,n,o,i,s,a){const{prj:c}=this,d=this.kernel.windows.get(e);if(d)return d.key;let h=null,f=null,g=null;if(r){const C=this.kernel.classes.get(r),E=C?.scene;if(E)h=E,f={type:"classname",data:C.name},g=C.children;else{const T=c.dir.resolve(r),R=T.file()?.scene;R&&(h=R,f={type:"filename",data:T.toString()})}}const m=HC(a,h?.options);!m.size&&i>0&&s>0&&(m.size={type:"fixed",width:i,height:s});const y={name:e,gSpaceDTO:{...h,options:m},project:c,at:{x:n,y:o},source:f},b=m.child&&this.kernel.windows.get(t),v=b?b.subwindow(y):this.kernel.windowSystem.window(y);return g&&b0(v.scene,g,this.kernel.classes),v.key}function Zae(e){return this.kernel.windows.get(e)?.window.width??0}function Qae(e){return this.kernel.windows.get(e)?.window.height??0}function Jae(e){return this.kernel.scenes.get(e)?.name??""}function ele(e){return this.kernel.windows.get(e)?.window.x??0}function tle(e){return this.kernel.windows.get(e)?.window.y??0}function rle(e){return this.kernel.windows.get(e)?.key??0}function nle(e){return this.kernel.windows.get(e)?.window.width??0}function ole(e){return this.kernel.windows.get(e)?.window.height??0}function ile(e){return this.kernel.windows.get(e)?.window.title??""}function sle(e,t,r){return this.kernel.windows.get(e)?.window.set({width:t,height:r})?1:0}function ale(e,t,r,n){const o=this.kernel.windows.get(e);return o?(t>0?o.setHorizontalScroller({min:r,max:n||o.getWidth(!0)}):o.setVerticalScroller({min:r,max:n||o.getHeight(!0)}),1):0}function lle(e,t,r){return this.kernel.windows.get(e)?.window.set({x:t,y:r})?1:0}function cle(e,t,r,n,o){return this.kernel.windows.get(e)?.window.set({x:t,y:r,width:n,height:o})?1:0}function ule(e,t,r){return this.kernel.windows.get(e)?.window.set({width:t,height:r})?1:0}function dle(e,t){return this.kernel.windows.get(e)?.window.set({title:t})?1:0}function qD(){return this.kernel._functionNotImplemented("SetWindowTransparent"),1}function YD(){return this.kernel._functionNotImplemented("SetWindowTransparentColor"),1}function XD(e,t){return t?(this.kernel._functionNotImplemented("SetWindowRegion"),1):0}function hle(){return this.kernel._functionNotImplemented("SetWindowOwner"),1}function fle(e,t){const r=this.kernel.windows.get(e)?.window;if(!r)return 0;switch(t){case rt.SW_HIDE:r.set({visible:!1});break;case rt.SW_SHOW:case rt.SW_NORMAL:r.set({visible:!0});break}return 1}function ple(e){const t=this.kernel.windows.get(e)?.window;return t?(t.toTop(),1):0}function gle(e){return this.kernel.windows.get(e)?.remove()?1:0}function mle(){return 0}function vle(e){return this.kernel.windows.has(e)?1:0}function yle(e){return this.kernel.windows.get(e)?.window.visible?1:0}function ble(e,t,r){const{prj:n}=this,o=this.kernel.windows.get(e);if(o)return o.key;const i=n.dir.resolve(t),s=i.file()?.scene??null,a=HC(r,s?.options);return this.kernel.windowSystem.window({name:e,gSpaceDTO:{...s,options:a},project:n,source:s?{type:"filename",data:i.toString()}:null}).key}function wle(e,t,r){const{prj:n}=this,o=this.kernel.windows.get(e);if(o)return o.key;const i=this.kernel.classes.get(t),s=i?.scene,a=HC(r,s?.options),c=this.kernel.windowSystem.window({name:e,gSpaceDTO:{...s,options:a},project:n,source:i?{type:"classname",data:i.name}:null});return s&&b0(c.scene,i.children,this.kernel.classes),c.key}function Sle(){return this.kernel._functionNotImplemented("OpenClassScheme"),1}function Cle(){return this.kernel._functionNotImplemented("CloseClassScheme"),1}function xle(){}function _le(){}function Ele(){}function Tle(e,t){const r=this.kernel.windows.get(e)?.source;return r&&r.type===t.toLowerCase()&&r.data||""}function Mle(e){e("CreateWindowEx",{a:[fe,fe,fe,k,k,k,k,fe],r:A},Xae),e("GetClientWidth",{a:[fe],r:k},Zae),e("GetClientHeight",{a:[fe],r:k},Qae),e("GetWindowName",{a:[A],r:fe},Jae),e("GetWindowOrgX",{a:[fe],r:k},ele),e("GetWindowOrgY",{a:[fe],r:k},tle),e("GetWindowSpace",{a:[fe],r:A},rle),e("GetWindowWidth",{a:[fe],r:k},nle),e("GetWindowHeight",{a:[fe],r:k},ole),e("GetWindowTitle",{a:[fe],r:fe},ile),e("SetClientSize",{a:[fe,k,k],r:k},sle),e("SetScrollRange",{a:[fe,k,k,k],r:k},ale),e("SetWindowOrg",{a:[fe,k,k],r:k},lle),e("SetWindowPos",{a:[fe,k,k,k,k],r:k},cle),e("SetWindowSize",{a:[fe,k,k],r:k},ule),e("SetWindowTitle",{a:[fe,fe],r:k},dle),e("SetWindowTransparent",{a:[fe,k],r:k},qD),e("SetWindowTransparent",{a:[A,k],r:k},qD),e("SetWindowTransparentColor",{a:[fe,fr],r:k},YD),e("SetWindowTransparentColor",{a:[A,fr],r:k},YD),e("SetWindowRegion",{a:[fe,A],r:k},XD),e("SetWindowRegion",{a:[A,A],r:k},XD),e("SetWindowOwner",{a:[A,A],r:k},hle),e("ShowWindow",{a:[fe,k],r:k},fle),e("BringWindowToTop",{a:[fe],r:k},ple),e("CloseWindow",{a:[fe],r:k},gle),e("IsIconic",{a:[fe],r:k},mle),e("IsWindowExist",{a:[fe],r:k},vle),e("IsWindowVisible",{a:[fe],r:k},yle),e("LoadSpaceWindow",{a:[fe,fe,fe],r:A},ble),e("OpenSchemeWindow",{a:[fe,fe,fe],r:A},wle),e("OpenClassScheme",{a:[fe,k],r:A},Sle),e("CloseClassScheme",{a:[fe],r:k},Cle),e("CascadeWindows",{},xle),e("Tile",{a:[k]},_le),e("ArrangeIcons",{},Ele),e("GetWindowProp",{a:[fe,fe],r:fe},Tle)}const ZD=[{name:"windows",register:Mle,setup(e,t){if(!t)throw Error("Плагин 'windows': не указаны зависимости");const r=new Yae(e,t);e.windowSystem=r,e.windows=r.windows,e.scenes=r.scenes,e.onProjectClose.add(n=>e.windowSystem.closeProjectWindows(n)),e.afterCycle.add(()=>e.windows.forEach(n=>n.sceneWrapper.reCalc()))}},pae,P9,X9,b8,q8,kX,O8,uee,gee,Nee,Xee,Yse,WJ,Vae,j8],Ole=[Gae];class Rle{constructor(t,r){this.id=t,this.attrib=0,this.description="",this.defaultValue=null,this.inEquation=!1,this.parsed=null,this.name=r.name,this.type=r.type,this.set(r)}set({attrib:t=this.attrib,defaultValue:r=this.defaultValue,description:n=this.description,inEquation:o=this.inEquation}){return this.parsed=r!==null?$p(this.type,r):null,this.attrib=t,this.defaultValue=r,this.description=n,this.inEquation=o,this}}class QD{constructor(t){this._disable=null,this._enable=null,this.orgx=null,this.orgy=null,this._hobject=null,this._objname=null,this._classname=null,this.msg=null,this.xpos=null,this.ypos=null,this.fwkeys=null,this.wvkey=null,this.repeat=null,this.scancode=null,this.nwidth=null,this.nheight=null,this._hspace=null,this._windowName=null,this.iditem=null,this.wnotifycode=null;const r=t?.map((n,o)=>[n.name.toUpperCase(),new Rle(o,n)]);if(this.list=r?.map(n=>n[1])??[],this.m=new Map(r),!!r)for(const[n,o]of r){const i=o.type,{FLOAT:s,STRING:a,HANDLE:c}=bt;n==="_ENABLE"&&i===s?this._enable=o:n==="_DISABLE"&&i===s?this._disable=o:n==="MSG"&&i===s?this.msg=o:n==="_HOBJECT"&&i===c?this._hobject=o:n==="IDITEM"&&i===s?this.iditem=o:n==="WNOTIFYCODE"&&i===s?this.wnotifycode=o:n==="NWIDTH"&&i===s?this.nwidth=o:n==="NHEIGHT"&&i===s?this.nheight=o:n==="XPOS"&&i===s?this.xpos=o:n==="YPOS"&&i===s?this.ypos=o:n==="FWKEYS"&&i===s?this.fwkeys=o:n==="ORGX"&&i===s?this.orgx=o:n==="ORGY"&&i===s?this.orgy=o:n==="_OBJNAME"&&i===a?this._objname=o:n==="_CLASSNAME"&&i===a?this._classname=o:n==="WVKEY"&&i===s?this.wvkey=o:n==="REPEAT"&&i===s?this.repeat=o:n==="SCANCODE"&&i===s?this.scancode=o:n==="_HSPACE"&&i===c?this._hspace=o:n==="_WINDOWNAME"&&i===a&&(this._windowName=o)}}get(t){return this.m.get(t.toUpperCase())??null}}class Ile{constructor({compiler:t,data:r,file:n,id:o,modelGlobals:i}){this.onChildrenChanged=new Al,this.main=null,this.defers=[],this.equations=[],this.transpiledCode=null,this.isCompiled=!1;const{name:s,transpiled:a,uniqid:c,uuid:d,vars:h}=r;this.id=o,this.compiler=t,this.modelGlobals=i,this.file=n,this.name=s,this.nameUC=s.toUpperCase(),this.vars=new QD(h),this.transpiledCode=a??null,this.uniqid=c??0,this.uuid=d||"",this.children=r.children||[],this.connections=r.connections||[],this.scene=r.scene||null,this.image=r.image||null,this.modelText=r.modelText||"",this.isFunction=r.isFunction||!1}set({vars:t,children:r=this.children,connections:n=this.connections,scene:o=this.scene,image:i=this.image,modelText:s=this.modelText,isFunction:a=this.isFunction}){return t&&(this.vars=new QD(t)),this.modelText!==s&&(this.isCompiled=!1),this.children!==r&&(this.children=r,this.onChildrenChanged.dispatch(r)),this.connections=n,this.scene=o,this.image=i,this.modelText=s,this.isFunction=a,this}compile(){if(this.isCompiled)return;this.isCompiled=!0;let t;if(this.transpiledCode)Vn.debugCompiler&&console.log(`Компиляция (кешировано) ${this.name} (${this.vars.list.length} переменных)`),t=this.transpiledCode,this.transpiledCode=null;else{const n=this.file.path.toString().slice(3);Vn.debugCompiler&&console.log(`Компиляция '${this.name}' ('${n}'): ${this.vars.list.length} переменных`);try{const o=this.compiler.compile(this.modelText,this.name,n);Vn.debugCompiler&&o.bugs.length&&console.warn(`${this.name}:
${o.bugs.map(([a])=>` -${a}`).join(`
`)}`);const i=this.vars,s=o.vars.map(a=>{const c=i.get(a.name);if(!c)return a;const{defaultValue:d,description:h}=c;return{...a,defaultValue:d,description:h}});this.set({vars:s,isFunction:o.isFunction}),t=o}catch(o){throw o instanceof Zv?Error(`Ошибка компиляции '${this.name}' ('${n}'): '${o.message}'`):o}}const{modelGlobals:r}=this;this.main=t.mainText?UC(t.mainText).bind(null,r):null,this.defers=t.defersTexts?.map(n=>UC(n).bind(null,r))||[],this.equations=t.equationsTexts?.map(n=>UC(n).bind(null,r))||[]}getUserFunctionSignature(){const t=this.vars.list;return{type:"user",name:this.name,argTypes:t.filter(r=>r.attrib&rt.VF_ARGUMENT).map(r=>r.type),retType:t.find(r=>r.attrib&rt.VF_RETURN)?.type??null}}}class Ple{constructor(){this.files=new WeakSet,this.m=new Map}add(t){const{nameUC:r}=t,n=this.m.get(r);if(n)throw Error(`Конфликт имен имиджей: '${t.name}' ('${t.file.path}') уже существует в файле '${n.file.path}'`);return this.m.set(r,t),this.files.add(t.file),this}get(t){return this.m.get(t.toUpperCase())??null}hasFile(t){return this.files.has(t)}unload(t){this.m.forEach(r=>r.id===t&&this.files.delete(r.file)),this.m=new Map(Cp(this.m,r=>r[1].id!==t))}}class dy extends Error{constructor(t,r){super(t),this.original=r}}class kle{constructor({newFloats:t,newInts:r,newStrings:n,oldFloats:o,oldInts:i,oldStrings:s}){this.newFloats=t,this.oldFloats=o,this.newInts=r,this.oldInts=i,this.newStrings=n,this.oldStrings=s}sync(){this.oldFloats.set(this.newFloats),this.oldInts.set(this.newInts);const{newStrings:t,oldStrings:r}=this;for(let n=0;n<t.length;++n)r[n]=t[n]}}class JD{constructor(){this.floatCnt=0,this.intCnt=0,this.strCnt=0}add(t){switch(t.type){case bt.FLOAT:return this.floatCnt++;case bt.HANDLE:case bt.COLORREF:return this.intCnt++;case bt.STRING:return this.strCnt++}}allocMemory(t){const r=new Float64Array(this.floatCnt),n=new Int32Array(this.intCnt),o=Array.from({length:this.strCnt},()=>"");return new kle({newFloats:r,oldFloats:t?r:r.slice(),newInts:n,oldInts:t?n:n.slice(),newStrings:o,oldStrings:t?o:o.slice()})}}class eA{constructor(t,r){this.v=t,this.a=r,this.index=-1,this.connected=new Set}propagateIndex(t){this.index>=0||(this.index=t,this.connected.forEach(r=>r.propagateIndex(t)))}connectWith(t){this.connected.add(t),t.connected.add(this)}getIndex(){return this.index<0&&this.propagateIndex(this.a.add(this.v)),this.index}}function Dle(e,t){const{children:r}=e;t.forEach(({nodes:[n,o],vars:i,attrib:s=0})=>{if(s&Hv)return;let a=`Имидж ${e.klass.name}: связь #${n}-#${o}: `;const c=n>0?r.find(h=>h.ndata.key===n):e;if(!c){console.warn(a+`Дочерний имидж #${n} не существует`);return}const d=o>0?r.find(h=>h.ndata.key===o):e;if(!d){console.warn(a+`Дочерний имидж #${o} не существует`);return}a=`Имидж ${e.klass.name}: связь #${n} (${c.klass.name}) - #${o} (${d.klass.name}): `,i.forEach(([h,f])=>{const g=c.klass.vars.get(h);if(!g){console.warn(a+`Переменная ${c.klass.name}:${h} не существует`);return}const m=d.klass.vars.get(f);if(!m){console.warn(a+`Переменная ${d.klass.name}:${f} не существует`);return}if(g.type!==m.type){console.warn(a+`Типы переменных ${c.klass.name}:${h} и ${d.klass.name}:${f} не совпадают`);return}c.vars[g.id].connectWith(d.vars[m.id])})})}function tA(e,t,r,n=null){e.compile();const o=e.vars.list.map(a=>new eA(a,r)),i=e.children.map(a=>{const c=t.get(a.klass);if(!c)throw Error(`Подимидж ${a.klass} #${a.key} имиджа ${e.name} не существует`);return tA(c,t,r,a)}),s={klass:e,ndata:n,vars:o,children:i};return e.connections.length&&Dle(s,e.connections),s}function rA(e,t,r){const n=e.vars.map(i=>{const s=i.getIndex();return i.v.inEquation&&r.add(s),s}),o=e.children.map(i=>rA(i,t,r));return t.createSchema({...e,varMap:n,children:o,prj:t})}function Ale(){return!1}function Lle(e,t){return e.values.newFloats[e.map[t]]>0}function Nle(e,t){return e.values.newFloats[e.map[t]]<=0}class Ble{constructor({prj:t,klass:r,ndata:n,varMap:o,children:i}){this.isDisabled=Ale,this.updateChildNodeData=c=>{c.length===this.children.length&&c.forEach((d,h)=>{const f=this.children[h],g=f.ndata;g.key!==d.key||g.klass!==d.klass||(g.name&&this.resolveMap.delete(g.name),d.name&&this.resolveMap.set(d.name.toUpperCase(),f),f.ndata=d)})},this.prj=t,this.klass=r,this.ndata=n,this.map=o,this.children=i;const{_disable:s,_enable:a}=r.vars;s&&(!a||s.id<a.id)?this.isDisabled=Lle.bind(null,this,s.id):a&&(!s||a.id<s.id)&&(this.isDisabled=Nle.bind(null,this,a.id)),this.resolveMap=new Map([["",this]]),i.forEach(c=>{c.resolveMap.set("..",this);const{key:d,name:h}=c.ndata;this.resolveMap.set("#"+d,c),h&&this.resolveMap.set(h.toUpperCase(),c)}),r.onChildrenChanged.add(this.updateChildNodeData)}get kernel(){return this.prj.kernel}get values(){return this.prj.memory}resolve(t){if(t.length===0)return this;const r=t.toUpperCase().split("\\");let n=t[0]==="\\"?this.prj.root:this;for(const o of r){const i=n.resolveMap.get(o);if(!i)return null;n=i}return n}resolveMany(t,r){if(t){const n=this.resolve(t);return!n||r&&n.klass!==r?[]:[n]}return r?this.prj.getKlassSchemas(r):[]}initValues(t){this.children.forEach(n=>n.initValues());const{vars:r}=this.klass;return r.list.forEach(n=>{let o;if(n.parsed!==null)o=n.parsed;else switch(n){case r.orgx:o=this.ndata?.x??0;break;case r.orgy:o=this.ndata?.y??0;break;case r._hobject:o=this.ndata?.key??0;break;case r._objname:o=this.ndata?.name??"";break;case r._classname:o=this.klass.name;break;default:if(!t)return;o=n.type===bt.STRING?"":0;break}this.setVarValue(n,o)}),this}applyValues({values:t,klass:r,klassID:n,klassUUID:o,children:i}){const{uniqid:s,uuid:a}=this.klass;if(t?.length)if(a&&a===o||s&&s===n||r.toUpperCase()===this.klass.nameUC){const{vars:c}=this.klass;t.forEach(({name:d,value:h})=>{const f=c.get(d);if(!f)return;const g=$p(f.type,h);g!==null&&this.setVarValue(f,g)})}else console.warn(`Не удалось применить состояние к ${this.path()}: ожидалось ${r} (${n}), получен ${this.klass.name} (${s})`);return i?.forEach(c=>this.children.find(d=>d.ndata.key===c.key)?.applyValues(c)),this}getValues(){const{klass:t,ndata:r}=this,n=this.children.map(i=>i.getValues()),o=t.vars.list.map(i=>{const s=HD(i.type,this.getVarValue(i));return{name:i.name,value:s}});return{key:r?.key??0,klass:t.name,klassID:t.uniqid,values:o,children:n}}computeAndPushVector(t,r,{a:n,b:o}){const{oldFloats:i,newFloats:s}=this.values;let a=!1;const c=t(this,this),d=r.map(h=>{s[h]=i[h]=1;const f=c-t(this,this);return s[h]=i[h]=0,f!==0&&(a=!0),f});a&&(n.push(d),o.push(c))}computeEquationVectors(t,r){this.children.forEach(n=>n.computeEquationVectors(t,r)),this.klass.equations.forEach(n=>this.computeAndPushVector(n,t,r))}computeSchemaDefers(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchemaDefers()),this.klass.defers.forEach(t=>t(this,this))}computeSchema(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchema()),Vn.debugExecution&&console.log(`Выполняется ${this.path()}`);try{this.klass.main?.(this,this)}catch(t){throw t instanceof Error?new dy(`${this.path()}: ${t.message}`,t):t}return this}compute(t){if(!t&&this.isDisabled())return this;this.computeSchema();const{equationVars:r}=this.prj;return r.length&&this.prj.solveEquationsFor(r),this.computeSchemaDefers(),this.values.sync(),this}userFunction(t,r){const n=this.kernel.classes.get(t);if(!n)throw Error(`Функция не существует: ${t}`);if(!n.isFunction)throw Error(`Имидж ${t} существует, но не является функцией`);n.compile();const o=n.vars.list;if(r.length>o.length)throw Error(`${t}: ${r.length} аргументов, но функция имеет ${o.length} переменных`);const i=new JD,s={map:o.map(c=>new eA(c,i).getIndex()),values:i.allocMemory(!0)};r.forEach((c,d)=>{const h=o[d];if(!this.setVarValue.call(s,h,c))throw Error(`Аргумент ${d} имеет тип ${typeof c}; ожидалось ${h.type}`)}),n.main?.(this,s);const a=o.find(c=>c.attrib&rt.VF_RETURN);if(a)return this.getVarValue.call(s,a)}solveEquationsFor(t){this.prj.solveEquationsFor(t)}path(){if(this===this.prj.root)return this.klass.name;const t=[this];for(;;){const r=t[0].resolveMap.get("..");if(r===this.prj.root)break;t.unshift(r)}return t.map(r=>`${r.klass.name} (#${r.ndata.key})`).join(" - ")}getVarValue(t){const{newFloats:r,newInts:n,newStrings:o}=this.values,i=this.map[t.id];switch(t.type){case bt.FLOAT:return r[i];case bt.HANDLE:case bt.COLORREF:return n[i];case bt.STRING:return o[i]}}setVarValue(t,r){const{newFloats:n,oldFloats:o,newInts:i,oldInts:s,newStrings:a,oldStrings:c}=this.values,d=this.map[t.id];switch(t.type){case bt.FLOAT:if(typeof r!="number")return!1;n[d]=o[d]=r;break;case bt.HANDLE:case bt.COLORREF:if(typeof r!="number")return!1;i[d]=s[d]=r;break;case bt.STRING:if(typeof r!="string")return!1;a[d]=c[d]=r;break}return!0}setNewValue(t,r){const{newFloats:n,newInts:o,newStrings:i}=this.values,s=this.map[t.id];switch(t.type){case bt.FLOAT:if(typeof r!="number")return!1;n[s]=r;break;case bt.HANDLE:case bt.COLORREF:if(typeof r!="number")return!1;o[s]=r;break;case bt.STRING:if(typeof r!="string")return!1;i[s]=r;break}return!0}getVarValueFHC(t){const{newFloats:r,newInts:n}=this.values,o=this.map[t.id];switch(t.type){case bt.FLOAT:return r[o];case bt.HANDLE:case bt.COLORREF:return n[o];default:return null}}getVarValueS(t){return t.type===bt.STRING?this.values.newStrings[this.map[t.id]]:null}}class Fle{constructor({id:t,dir:r,rootKlass:n,state:o,kernel:i}){this.classTypes=new WeakMap,this.id=t,this.dir=r,this.kernel=i;const s=new Set,a=new JD,c=tA(n,i.classes,a),d=this.root=rA(c,this,s);this.memory=a.allocMemory(),d.initValues(),o&&d.applyValues(o),this.equationVars=Array.from(s)}createSchema(t){const r=new Ble(t),n=this.classTypes.get(r.klass);return n?n.push(r):this.classTypes.set(r.klass,[r]),r}getKlassSchemas(t){return this.classTypes.get(t)??[]}solveEquationsFor(t){const{oldFloats:r,newFloats:n}=this.memory,o=t.map(s=>{const a=r[s];return n[s]=r[s]=0,a}),i={a:[],b:[]};this.root.computeEquationVectors(t,i),t.forEach((s,a)=>r[s]=o[a]);try{const s=IK(i);t.forEach((a,c)=>n[a]=s[c])}catch{t.forEach(a=>n[a]=0)}}}function jle(e=[]){const t=new Lk;return ZD.concat(e).forEach(r=>r.register(t.addFunc.bind(t))),t}function Hr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Vle={};function hy(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:Vle}var nA=Object.assign,fy=Object.getOwnPropertyDescriptor,Wa=Object.defineProperty,py=Object.prototype,S0=[];Object.freeze(S0);var C0={};Object.freeze(C0);var $le=typeof Proxy<"u",zle=Object.toString();function oA(){$le||Hr("Proxy not available")}function iA(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Dh=function(){};function pa(e){return typeof e=="function"}function Qu(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function gy(e){return e!==null&&typeof e=="object"}function Lc(e){if(!gy(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r.toString()===zle}function sA(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function my(e,t,r){Wa(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function aA(e,t,r){Wa(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function Ju(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(n){return gy(n)&&n[r]===!0}}function Ah(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Ule(e){var t=Object.getPrototypeOf(e),r=Object.getPrototypeOf(t),n=Object.getPrototypeOf(r);return n===null}function Vl(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var lA=typeof Object.getOwnPropertySymbols<"u";function Gle(e){var t=Object.keys(e);if(!lA)return t;var r=Object.getOwnPropertySymbols(e);return r.length?[].concat(t,r.filter(function(n){return py.propertyIsEnumerable.call(e,n)})):t}var vy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:lA?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function cA(e){return e===null?null:typeof e=="object"?""+e:e}function $l(e,t){return py.hasOwnProperty.call(e,t)}var Hle=Object.getOwnPropertyDescriptors||function(t){var r={};return vy(t).forEach(function(n){r[n]=fy(t,n)}),r};function es(e,t){return!!(e&t)}function ts(e,t,r){return r?e|=t:e&=~t,e}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Wle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qle(n.key),n)}}function Lh(e,t,r){return t&&Wle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nh(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Yle(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(null,arguments)}function dA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,x0(e,t)}function x0(e,t){return x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},x0(e,t)}function Kle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qle(e){var t=Kle(e,"string");return typeof t=="symbol"?t:t+""}function Yle(e,t){if(e){if(typeof e=="string")return uA(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uA(e,t):void 0}}var Ka=Symbol("mobx-stored-annotations");function qa(e){function t(r,n){if(Up(n))return e.decorate_20223_(r,n);zp(r,n,e)}return Object.assign(t,e)}function zp(e,t,r){$l(e,Ka)||my(e,Ka,ed({},e[Ka])),rce(r)||(e[Ka][t]=r)}function Xle(e){return $l(e,Ka)||my(e,Ka,ed({},e[Ka])),e[Ka]}function Up(e){return typeof e=="object"&&typeof e.kind=="string"}var yr=Symbol("mobx administration"),Nc=(function(){function e(r){r===void 0&&(r="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Zr.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.reportObserved=function(){return IA(this)},t.reportChanged=function(){Os(),PA(this),Rs()},t.toString=function(){return this.name_},Lh(e,[{key:"isBeingObserved",get:function(){return es(this.flags_,e.isBeingObservedMask_)},set:function(n){this.flags_=ts(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return es(this.flags_,e.isPendingUnobservationMask_)},set:function(n){this.flags_=ts(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return es(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=ts(this.flags_,e.diffValueMask_,n===1)}}])})();Nc.isBeingObservedMask_=1,Nc.isPendingUnobservationMask_=2,Nc.diffValueMask_=4;var _0=Ju("Atom",Nc);function hA(e,t,r){t===void 0&&(t=Dh),r===void 0&&(r=Dh);var n=new Nc(e);return t!==Dh&&aue(n,t),r!==Dh&&FA(n,r),n}function Zle(e,t){return iL(e,t)}function Qle(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Bh={structural:Zle,default:Qle};function td(e,t,r){return UA(e)?e:Array.isArray(e)?Pe.array(e,{name:r}):Lc(e)?Pe.object(e,void 0,{name:r}):Ah(e)?Pe.map(e,{name:r}):Vl(e)?Pe.set(e,{name:r}):typeof e=="function"&&!qp(e)&&!Yp(e)?sA(e)?no(e):Kp(r,e):e}function Jle(e,t,r){if(e==null||Ny(e)||Ay(e)||id(e)||Za(e))return e;if(Array.isArray(e))return Pe.array(e,{name:r,deep:!1});if(Lc(e))return Pe.object(e,void 0,{name:r,deep:!1});if(Ah(e))return Pe.map(e,{name:r,deep:!1});if(Vl(e))return Pe.set(e,{name:r,deep:!1})}function yy(e){return e}function ece(e,t){return iL(e,t)?t:e}var tce="override";function rce(e){return e.annotationType_===tce}function Gp(e,t){return{annotationType_:e,options_:t,make_:nce,extend_:oce,decorate_20223_:ice}}function nce(e,t,r,n){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,r,!1)===null?0:1;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if(qp(r.value))return 1;var i=fA(e,this,t,r,!1);return Wa(n,t,i),2}function oce(e,t,r,n){var o=fA(e,this,t,r);return e.defineProperty_(t,o,n)}function ice(e,t){var r=t.kind,n=t.name,o=t.addInitializer,i=this,s=function(d){var h,f,g,m;return rd((h=(f=i.options_)==null?void 0:f.name)!=null?h:n.toString(),d,(g=(m=i.options_)==null?void 0:m.autoAction)!=null?g:!1)};if(r=="field")return function(c){var d,h=c;return qp(h)||(h=s(h)),(d=i.options_)!=null&&d.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(r=="method"){var a;return qp(e)||(e=s(e)),(a=this.options_)!=null&&a.bound&&o(function(){var c=this,d=c[n].bind(c);d.isMobxAction=!0,c[n]=d}),e}Hr("Cannot apply '"+i.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function sce(e,t,r,n){t.annotationType_,n.value}function fA(e,t,r,n,o){var i,s,a,c,d,h,f;o===void 0&&(o=Mt.safeDescriptors),sce(e,t,r,n);var g=n.value;if((i=t.options_)!=null&&i.bound){var m;g=g.bind((m=e.proxy_)!=null?m:e.target_)}return{value:rd((s=(a=t.options_)==null?void 0:a.name)!=null?s:r.toString(),g,(c=(d=t.options_)==null?void 0:d.autoAction)!=null?c:!1,(h=t.options_)!=null&&h.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function pA(e,t){return{annotationType_:e,options_:t,make_:ace,extend_:lce,decorate_20223_:cce}}function ace(e,t,r,n){var o;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!$l(e.target_,t)||!Yp(e.target_[t]))&&this.extend_(e,t,r,!1)===null)return 0;if(Yp(r.value))return 1;var i=gA(e,this,t,r,!1,!1);return Wa(n,t,i),2}function lce(e,t,r,n){var o,i=gA(e,this,t,r,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,i,n)}function cce(e,t){var r,n=t.name,o=t.addInitializer;return Yp(e)||(e=no(e)),(r=this.options_)!=null&&r.bound&&o(function(){var i=this,s=i[n].bind(i);s.isMobXFlow=!0,i[n]=s}),e}function uce(e,t,r,n){t.annotationType_,n.value}function gA(e,t,r,n,o,i){i===void 0&&(i=Mt.safeDescriptors),uce(e,t,r,n);var s=n.value;if(Yp(s)||(s=no(s)),o){var a;s=s.bind((a=e.proxy_)!=null?a:e.target_),s.isMobXFlow=!0}return{value:s,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function E0(e,t){return{annotationType_:e,options_:t,make_:dce,extend_:hce,decorate_20223_:fce}}function dce(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function hce(e,t,r,n){return pce(e,this,t,r),e.defineComputedProperty_(t,ed({},this.options_,{get:r.get,set:r.set}),n)}function fce(e,t){var r=this,n=t.name,o=t.addInitializer;return o(function(){var i=jh(this)[yr],s=ed({},r.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+n.toString()),i.values_.set(n,new ga(s))}),function(){return this[yr].getObservablePropValue_(n)}}function pce(e,t,r,n){t.annotationType_,n.get}function by(e,t){return{annotationType_:e,options_:t,make_:gce,extend_:mce,decorate_20223_:vce}}function gce(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function mce(e,t,r,n){var o,i;return yce(e,this),e.defineObservableProperty_(t,r.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:td,n)}function vce(e,t){var r=this,n=t.kind,o=t.name,i=new WeakSet;function s(a,c){var d,h,f=jh(a)[yr],g=new nd(c,(d=(h=r.options_)==null?void 0:h.enhancer)!=null?d:td,"ObservableObject."+o.toString(),!1);f.values_.set(o,g),i.add(a)}if(n=="accessor")return{get:function(){return i.has(this)||s(this,e.get.call(this)),this[yr].getObservablePropValue_(o)},set:function(c){return i.has(this)||s(this,c),this[yr].setObservablePropValue_(o,c)},init:function(c){return i.has(this)||s(this,c),c}}}function yce(e,t,r,n){t.annotationType_}var bce="true",wce=mA();function mA(e){return{annotationType_:bce,options_:e,make_:Sce,extend_:Cce,decorate_20223_:xce}}function Sce(e,t,r,n){var o,i;if(r.get)return Kn.make_(e,t,r,n);if(r.set){var s=rd(t.toString(),r.set);return n===e.target_?e.defineProperty_(t,{configurable:Mt.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(Wa(n,t,{configurable:!0,set:s}),2)}if(n!==e.target_&&typeof r.value=="function"){var a;if(sA(r.value)){var c,d=(c=this.options_)!=null&&c.autoBind?no.bound:no;return d.make_(e,t,r,n)}var h=(a=this.options_)!=null&&a.autoBind?Kp.bound:Kp;return h.make_(e,t,r,n)}var f=((o=this.options_)==null?void 0:o.deep)===!1?Pe.ref:Pe;if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var g;r.value=r.value.bind((g=e.proxy_)!=null?g:e.target_)}return f.make_(e,t,r,n)}function Cce(e,t,r,n){var o,i;if(r.get)return Kn.extend_(e,t,r,n);if(r.set)return e.defineProperty_(t,{configurable:Mt.safeDescriptors?e.isPlainObject_:!0,set:rd(t.toString(),r.set)},n);if(typeof r.value=="function"&&(o=this.options_)!=null&&o.autoBind){var s;r.value=r.value.bind((s=e.proxy_)!=null?s:e.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Pe.ref:Pe;return a.extend_(e,t,r,n)}function xce(e,t){Hr("'"+this.annotationType_+"' cannot be used as a decorator")}var _ce="observable",Ece="observable.ref",Tce="observable.shallow",Mce="observable.struct",vA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(vA);function wy(e){return e||vA}var T0=by(_ce),Oce=by(Ece,{enhancer:yy}),Rce=by(Tce,{enhancer:Jle}),Ice=by(Mce,{enhancer:ece}),yA=qa(T0);function Sy(e){return e.deep===!0?td:e.deep===!1?yy:kce(e.defaultDecorator)}function Pce(e){var t;return e?(t=e.defaultDecorator)!=null?t:mA(e):void 0}function kce(e){var t,r;return e&&(t=(r=e.options_)==null?void 0:r.enhancer)!=null?t:td}function bA(e,t,r){if(Up(t))return T0.decorate_20223_(e,t);if(Qu(t)){zp(e,t,T0);return}return UA(e)?e:Lc(e)?Pe.object(e,t,r):Array.isArray(e)?Pe.array(e,t):Ah(e)?Pe.map(e,t):Vl(e)?Pe.set(e,t):typeof e=="object"&&e!==null?e:Pe.box(e,t)}nA(bA,yA);var Dce={box:function(t,r){var n=wy(r);return new nd(t,Sy(n),n.name,!0,n.equals)},array:function(t,r){var n=wy(r);return(Mt.useProxies===!1||n.proxy===!1?Pue:Sue)(t,Sy(n),n.name)},map:function(t,r){var n=wy(r);return new WA(t,Sy(n),n.name)},set:function(t,r){var n=wy(r);return new qA(t,Sy(n),n.name)},object:function(t,r,n){return sd(function(){return due(Mt.useProxies===!1||n?.proxy===!1?jh({},n):yue({},n),t,r)})},ref:qa(Oce),shallow:qa(Rce),deep:yA,struct:qa(Ice)},Pe=nA(bA,Dce),wA="computed",Ace="computed.struct",M0=E0(wA),Lce=E0(Ace,{equals:Bh.structural}),Kn=function(t,r){if(Up(r))return M0.decorate_20223_(t,r);if(Qu(r))return zp(t,r,M0);if(Lc(t))return qa(E0(wA,t));var n=Lc(r)?r:{};return n.get=t,n.name||(n.name=t.name||""),new ga(n)};Object.assign(Kn,M0),Kn.struct=qa(Lce);var SA,CA,Cy=0,Nce=1,Bce=(SA=(CA=fy(function(){},"name"))==null?void 0:CA.configurable)!=null?SA:!1,xA={value:"action",configurable:!0,writable:!1,enumerable:!1};function rd(e,t,r,n){r===void 0&&(r=!1);function o(){return Fce(e,r,t,n||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},Bce&&(xA.value=e,Wa(o,"name",xA)),o}function Fce(e,t,r,n,o){var i=jce(e,t);try{return r.apply(n,o)}catch(s){throw i.error_=s,s}finally{Vce(i)}}function jce(e,t,r,n){var o=!1,i=0,s=Mt.trackingDerivation,a=!t||!s;Os();var c=Mt.allowStateChanges;a&&(od(),c=xy(!0));var d=I0(!0),h={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:c,prevAllowStateReads_:d,notifySpy_:o,startTime_:i,actionId_:Nce++,parentActionId_:Cy};return Cy=h.actionId_,h}function Vce(e){Cy!==e.actionId_&&Hr(30),Cy=e.parentActionId_,e.error_!==void 0&&(Mt.suppressReactionErrors=!0),_y(e.prevAllowStateChanges_),Hp(e.prevAllowStateReads_),Rs(),e.runAsAction_&&zl(e.prevDerivation_),Mt.suppressReactionErrors=!1}function $ce(e,t){var r=xy(e);try{return t()}finally{_y(r)}}function xy(e){var t=Mt.allowStateChanges;return Mt.allowStateChanges=e,t}function _y(e){Mt.allowStateChanges=e}var nd=(function(e){function t(n,o,i,s,a){var c;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=Bh.default),c=e.call(this,i)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=o,c.name_=i,c.equals=a,c.value_=o(n,void 0,i),c}dA(t,e);var r=t.prototype;return r.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},r.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==Mt.UNCHANGED&&this.setNewValue_(o)},r.prepareNewValue_=function(o){if(Is(this)){var i=Ps(this,{object:this,type:Xa,newValue:o});if(!i)return Mt.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?Mt.UNCHANGED:o},r.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),ma(this)&&va(this,{type:Xa,object:this,newValue:o,oldValue:i})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(o){return Xp(this,o)},r.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Xa,newValue:this.value_,oldValue:void 0}),Zp(this,o)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return cA(this.get())},r[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Nc),ga=(function(){function e(r){this.dependenciesState_=Zr.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Zr.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new My(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ty.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||Hr(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=rd("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?Bh.structural:Bh.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Wce(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.get=function(){if(this.isComputing&&Hr(32,this.name_,this.derivation),Mt.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)O0(this)&&(this.warnAboutUntrackedRead_(),Os(),this.value_=this.computeValue_(!1),Rs());else if(IA(this),O0(this)){var n=Mt.trackingContext;this.keepAlive_&&!n&&(Mt.trackingContext=this),this.trackAndCompute()&&Hce(this),Mt.trackingContext=n}var o=this.value_;if(Oy(o))throw o.cause;return o},t.set=function(n){if(this.setter_){this.isRunningSetter&&Hr(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter=!1}}else Hr(34,this.name_)},t.trackAndCompute=function(){var n=this.value_,o=this.dependenciesState_===Zr.NOT_TRACKING_,i=this.computeValue_(!0),s=o||Oy(n)||Oy(i)||!this.equals_(n,i);return s&&(this.value_=i),s},t.computeValue_=function(n){this.isComputing=!0;var o=xy(!1),i;if(n)i=_A(this,this.derivation,this.scope_);else if(Mt.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(s){i=new My(s)}return _y(o),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||(R0(this),this.value_=void 0)},t.observe_=function(n,o){var i=this,s=!0,a=void 0;return NA(function(){var c=i.get();if(!s||o){var d=od();n({observableKind:"computed",debugObjectName:i.name_,type:Xa,object:i,newValue:c,oldValue:a}),zl(d)}s=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return cA(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Lh(e,[{key:"isComputing",get:function(){return es(this.flags_,e.isComputingMask_)},set:function(n){this.flags_=ts(this.flags_,e.isComputingMask_,n)}},{key:"isRunningSetter",get:function(){return es(this.flags_,e.isRunningSetterMask_)},set:function(n){this.flags_=ts(this.flags_,e.isRunningSetterMask_,n)}},{key:"isBeingObserved",get:function(){return es(this.flags_,e.isBeingObservedMask_)},set:function(n){this.flags_=ts(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function(){return es(this.flags_,e.isPendingUnobservationMask_)},set:function(n){this.flags_=ts(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function(){return es(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=ts(this.flags_,e.diffValueMask_,n===1)}}])})();ga.isComputingMask_=1,ga.isRunningSetterMask_=2,ga.isBeingObservedMask_=4,ga.isPendingUnobservationMask_=8,ga.diffValueMask_=16;var Ey=Ju("ComputedValue",ga),Zr;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Zr||(Zr={}));var Ty;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Ty||(Ty={}));var My=function(t){this.cause=void 0,this.cause=t};function Oy(e){return e instanceof My}function O0(e){switch(e.dependenciesState_){case Zr.UP_TO_DATE_:return!1;case Zr.NOT_TRACKING_:case Zr.STALE_:return!0;case Zr.POSSIBLY_STALE_:{for(var t=I0(!0),r=od(),n=e.observing_,o=n.length,i=0;i<o;i++){var s=n[i];if(Ey(s)){if(Mt.disableErrorBoundaries)s.get();else try{s.get()}catch{return zl(r),Hp(t),!0}if(e.dependenciesState_===Zr.STALE_)return zl(r),Hp(t),!0}}return TA(e),zl(r),Hp(t),!1}}}function u5e(e){}function _A(e,t,r){var n=I0(!0);TA(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Mt.runId;var o=Mt.trackingDerivation;Mt.trackingDerivation=e,Mt.inBatch++;var i;if(Mt.disableErrorBoundaries===!0)i=t.call(r);else try{i=t.call(r)}catch(s){i=new My(s)}return Mt.inBatch--,Mt.trackingDerivation=o,zce(e),Hp(n),i}function zce(e){for(var t=e.observing_,r=e.observing_=e.newObserving_,n=Zr.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,s=0;s<i;s++){var a=r[s];a.diffValue===0&&(a.diffValue=1,o!==s&&(r[o]=a),o++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];c.diffValue===0&&OA(c,e),c.diffValue=0}for(;o--;){var d=r[o];d.diffValue===1&&(d.diffValue=0,Gce(d,e))}n!==Zr.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}function R0(e){var t=e.observing_;e.observing_=[];for(var r=t.length;r--;)OA(t[r],e);e.dependenciesState_=Zr.NOT_TRACKING_}function EA(e){var t=od();try{return e()}finally{zl(t)}}function od(){var e=Mt.trackingDerivation;return Mt.trackingDerivation=null,e}function zl(e){Mt.trackingDerivation=e}function I0(e){var t=Mt.allowStateReads;return Mt.allowStateReads=e,t}function Hp(e){Mt.allowStateReads=e}function TA(e){if(e.dependenciesState_!==Zr.UP_TO_DATE_){e.dependenciesState_=Zr.UP_TO_DATE_;for(var t=e.observing_,r=t.length;r--;)t[r].lowestObserverState_=Zr.UP_TO_DATE_}}var Ry=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Iy=!0,MA=!1,Mt=(function(){var e=hy();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Iy=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Ry().version&&(Iy=!1),Iy?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ry):(setTimeout(function(){MA||Hr(35)},1),new Ry)})();function Uce(){if((Mt.pendingReactions.length||Mt.inBatch||Mt.isRunningReactions)&&Hr(36),MA=!0,Iy){var e=hy();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),Mt=new Ry}}function Gce(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function OA(e,t){e.observers_.delete(t),e.observers_.size===0&&RA(e)}function RA(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Mt.pendingUnobservations.push(e))}function Os(){Mt.inBatch++}function Rs(){if(--Mt.inBatch===0){kA();for(var e=Mt.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,r.observers_.size===0&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBUO()),r instanceof ga&&r.suspend_())}Mt.pendingUnobservations=[]}}function IA(e){var t=Mt.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Mt.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&Mt.inBatch>0&&RA(e),!1)}function PA(e){e.lowestObserverState_!==Zr.STALE_&&(e.lowestObserverState_=Zr.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Zr.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Zr.STALE_}))}function Hce(e){e.lowestObserverState_!==Zr.STALE_&&(e.lowestObserverState_=Zr.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Zr.POSSIBLY_STALE_?t.dependenciesState_=Zr.STALE_:t.dependenciesState_===Zr.UP_TO_DATE_&&(e.lowestObserverState_=Zr.UP_TO_DATE_)}))}function Wce(e){e.lowestObserverState_===Zr.UP_TO_DATE_&&(e.lowestObserverState_=Zr.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Zr.UP_TO_DATE_&&(t.dependenciesState_=Zr.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Ya=(function(){function e(r,n,o,i){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Zr.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Ty.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=o,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Mt.pendingReactions.push(this),kA())},t.runReaction_=function(){if(!this.isDisposed){Os(),this.isScheduled=!1;var n=Mt.trackingContext;if(Mt.trackingContext=this,O0(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}Mt.trackingContext=n,Rs()}},t.track=function(n){if(!this.isDisposed){Os(),this.isRunning=!0;var o=Mt.trackingContext;Mt.trackingContext=this;var i=_A(this,n,void 0);Mt.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&R0(this),Oy(i)&&this.reportExceptionInDerivation_(i.cause),Rs()}},t.reportExceptionInDerivation_=function(n){var o=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(Mt.disableErrorBoundaries)throw n;var i="[mobx] uncaught error in '"+this+"'";Mt.suppressReactionErrors||console.error(i,n),Mt.globalReactionErrorHandlers.forEach(function(s){return s(n,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Os(),R0(this),Rs()))},t.getDisposer_=function(n){var o=this,i=function s(){o.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",s)};return n==null||n.addEventListener==null||n.addEventListener("abort",i),i[yr]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(n){},Lh(e,[{key:"isDisposed",get:function(){return es(this.flags_,e.isDisposedMask_)},set:function(n){this.flags_=ts(this.flags_,e.isDisposedMask_,n)}},{key:"isScheduled",get:function(){return es(this.flags_,e.isScheduledMask_)},set:function(n){this.flags_=ts(this.flags_,e.isScheduledMask_,n)}},{key:"isTrackPending",get:function(){return es(this.flags_,e.isTrackPendingMask_)},set:function(n){this.flags_=ts(this.flags_,e.isTrackPendingMask_,n)}},{key:"isRunning",get:function(){return es(this.flags_,e.isRunningMask_)},set:function(n){this.flags_=ts(this.flags_,e.isRunningMask_,n)}},{key:"diffValue",get:function(){return es(this.flags_,e.diffValueMask_)?1:0},set:function(n){this.flags_=ts(this.flags_,e.diffValueMask_,n===1)}}])})();Ya.isDisposedMask_=1,Ya.isScheduledMask_=2,Ya.isTrackPendingMask_=4,Ya.isRunningMask_=8,Ya.diffValueMask_=16;var Kce=100,P0=function(t){return t()};function kA(){Mt.inBatch>0||Mt.isRunningReactions||P0(qce)}function qce(){Mt.isRunningReactions=!0;for(var e=Mt.pendingReactions,t=0;e.length>0;){++t===Kce&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction_()}Mt.isRunningReactions=!1}var Py=Ju("Reaction",Ya);function Yce(e){var t=P0;P0=function(n){return e(function(){return t(n)})}}function Wp(){return!1}function d5e(e){}function h5e(e){}function f5e(e){}function Xce(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var DA="action",Zce="action.bound",AA="autoAction",Qce="autoAction.bound",Jce="<unnamed action>",k0=Gp(DA),eue=Gp(Zce,{bound:!0}),D0=Gp(AA,{autoAction:!0}),tue=Gp(Qce,{autoAction:!0,bound:!0});function LA(e){var t=function(n,o){if(pa(n))return rd(n.name||Jce,n,e);if(pa(o))return rd(n,o,e);if(Up(o))return(e?D0:k0).decorate_20223_(n,o);if(Qu(o))return zp(n,o,e?D0:k0);if(Qu(n))return qa(Gp(e?AA:DA,{name:n,autoAction:e}))};return t}var be=LA(!1);Object.assign(be,k0);var Kp=LA(!0);Object.assign(Kp,D0),be.bound=qa(eue),Kp.bound=qa(tue);function qp(e){return pa(e)&&e.isMobxAction===!0}function NA(e,t){var r,n,o,i;t===void 0&&(t=C0);var s=(r=(n=t)==null?void 0:n.name)!=null?r:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new Ya(s,function(){this.track(f)},t.onError,t.requiresObservable);else{var d=BA(t),h=!1;c=new Ya(s,function(){h||(h=!0,d(function(){h=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){e(c)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((i=t)==null?void 0:i.signal)}var rue=function(t){return t()};function BA(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:rue}function nue(e,t,r){var n,o,i;r===void 0&&(r=C0);var s=(n=r.name)!=null?n:"Reaction",a=be(s,r.onError?oue(r.onError,t):t),c=!r.scheduler&&!r.delay,d=BA(r),h=!0,f=!1,g,m=r.compareStructural?Bh.structural:r.equals||Bh.default,y=new Ya(s,function(){h||c?b():f||(f=!0,d(b))},r.onError,r.requiresObservable);function b(){if(f=!1,!y.isDisposed){var v=!1,C=g;y.track(function(){var E=$ce(!1,function(){return e(y)});v=h||!m(g,E),g=E}),(h&&r.fireImmediately||!h&&v)&&a(g,C,y),h=!1}}return(o=r)!=null&&(o=o.signal)!=null&&o.aborted||y.schedule_(),y.getDisposer_((i=r)==null?void 0:i.signal)}function oue(e,t){return function(){try{return t.apply(this,arguments)}catch(r){e.call(this,r)}}}var iue="onBO",sue="onBUO";function aue(e,t,r){return jA(iue,e,t,r)}function FA(e,t,r){return jA(sue,e,t,r)}function jA(e,t,r,n){var o=By(t),i=pa(n)?n:r,s=e+"L";return o[s]?o[s].add(i):o[s]=new Set([i]),function(){var a=o[s];a&&(a.delete(i),a.size===0&&delete o[s])}}var lue="never",ky="always",cue="observed";function uue(e){e.isolateGlobalState===!0&&Uce();var t=e.useProxies,r=e.enforceActions;if(t!==void 0&&(Mt.useProxies=t===ky?!0:t===lue?!1:typeof Proxy<"u"),t==="ifavailable"&&(Mt.verifyProxies=!0),r!==void 0){var n=r===ky?ky:r===cue;Mt.enforceActions=n,Mt.allowStateChanges=!(n===!0||n===ky)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(Mt[o]=!!e[o])}),Mt.allowStateReads=!Mt.observableRequiresReaction,e.reactionScheduler&&Yce(e.reactionScheduler)}function due(e,t,r,n){var o=Hle(t);return sd(function(){var i=jh(e,n)[yr];vy(o).forEach(function(s){i.extend_(s,o[s],r&&s in r?r[s]:!0)})}),e}function hue(e,t){return VA(By(e,t))}function VA(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=fue(e.observing_).map(VA)),t}function fue(e){return Array.from(new Set(e))}var pue=0;function $A(){this.message="FLOW_CANCELLED"}$A.prototype=Object.create(Error.prototype);var A0=pA("flow"),gue=pA("flow.bound",{bound:!0}),no=Object.assign(function(t,r){if(Up(r))return A0.decorate_20223_(t,r);if(Qu(r))return zp(t,r,A0);var n=t,o=n.name||"<unnamed flow>",i=function(){var a=this,c=arguments,d=++pue,h=be(o+" - runid: "+d+" - init",n).apply(a,c),f,g=void 0,m=new Promise(function(y,b){var v=0;f=b;function C(R){g=void 0;var M;try{M=be(o+" - runid: "+d+" - yield "+v++,h.next).call(h,R)}catch(I){return b(I)}T(M)}function E(R){g=void 0;var M;try{M=be(o+" - runid: "+d+" - yield "+v++,h.throw).call(h,R)}catch(I){return b(I)}T(M)}function T(R){if(pa(R?.then)){R.then(T,b);return}return R.done?y(R.value):(g=Promise.resolve(R.value),g.then(C,E))}C(void 0)});return m.cancel=be(o+" - runid: "+d+" - cancel",function(){try{g&&zA(g);var y=h.return(void 0),b=Promise.resolve(y.value);b.then(Dh,Dh),zA(b),f(new $A)}catch(v){f(v)}}),m};return i.isMobXFlow=!0,i},A0);no.bound=qa(gue);function zA(e){pa(e.cancel)&&e.cancel()}function Yp(e){return e?.isMobXFlow===!0}function mue(e,t){return e?Ny(e)||!!e[yr]||_0(e)||Py(e)||Ey(e):!1}function UA(e){return mue(e)}function Ul(e,t){t===void 0&&(t=void 0),Os();try{return e.apply(t)}finally{Rs()}}function Fh(e){return e[yr]}var vue={has:function(t,r){return Fh(t).has_(r)},get:function(t,r){return Fh(t).get_(r)},set:function(t,r,n){var o;return Qu(r)?(o=Fh(t).set_(r,n,!0))!=null?o:!0:!1},deleteProperty:function(t,r){var n;return Qu(r)?(n=Fh(t).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(t,r,n){var o;return(o=Fh(t).defineProperty_(r,n))!=null?o:!0},ownKeys:function(t){return Fh(t).ownKeys_()},preventExtensions:function(t){Hr(13)}};function yue(e,t){var r,n;return oA(),e=jh(e,t),(n=(r=e[yr]).proxy_)!=null?n:r.proxy_=new Proxy(e,vue)}function Is(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Xp(e,t){var r=e.interceptors_||(e.interceptors_=[]);return r.push(t),iA(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function Ps(e,t){var r=od();try{for(var n=[].concat(e.interceptors_||[]),o=0,i=n.length;o<i&&(t=n[o](t),t&&!t.type&&Hr(14),!!t);o++);return t}finally{zl(r)}}function ma(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Zp(e,t){var r=e.changeListeners_||(e.changeListeners_=[]);return r.push(t),iA(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function va(e,t){var r=od(),n=e.changeListeners_;if(n){n=n.slice();for(var o=0,i=n.length;o<i;o++)n[o](t);zl(r)}}function vt(e,t,r){return sd(function(){var n,o=jh(e,r)[yr];(n=t)!=null||(t=Xle(e)),vy(t).forEach(function(i){return o.make_(i,t[i])})}),e}var GA="splice",Xa="update",bue=1e4,wue={get:function(t,r){var n=t[yr];return r===yr?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):$l(Dy,r)?Dy[r]:t[r]},set:function(t,r,n){var o=t[yr];return r==="length"&&o.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?t[r]=n:o.set_(parseInt(r),n),!0},preventExtensions:function(){Hr(15)}},L0=(function(){function e(r,n,o,i){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new Nc(r),this.enhancer_=function(s,a){return n(s,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},t.intercept_=function(n){return Xp(this,n)},t.observe_=function(n,o){return o===void 0&&(o=!1),o&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Zp(this,n)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&Hr("Out of range: "+n);var o=this.values_.length;if(n!==o)if(n>o){for(var i=new Array(n-o),s=0;s<n-o;s++)i[s]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(n,o-n)},t.updateArrayLength_=function(n,o){n!==this.lastKnownLength_&&Hr(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&nL(n+o+1)},t.spliceWithArray_=function(n,o,i){var s=this;this.atom_;var a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?o=a-n:o==null?o=0:o=Math.max(0,Math.min(o,a-n)),i===void 0&&(i=S0),Is(this)){var c=Ps(this,{object:this.proxy_,type:GA,index:n,removedCount:o,added:i});if(!c)return S0;o=c.removedCount,i=c.added}if(i=i.length===0?i:i.map(function(f){return s.enhancer_(f,void 0)}),this.legacyMode_){var d=i.length-o;this.updateArrayLength_(a,d)}var h=this.spliceItemsIntoValues_(n,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(n,i,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(n,o,i){if(i.length<bue){var s;return(s=this.values_).splice.apply(s,[n,o].concat(i))}else{var a=this.values_.slice(n,n+o),c=this.values_.slice(n+o);this.values_.length+=i.length-o;for(var d=0;d<i.length;d++)this.values_[n+d]=i[d];for(var h=0;h<c.length;h++)this.values_[n+i.length+h]=c[h];return a}},t.notifyArrayChildUpdate_=function(n,o,i){var s=!this.owned_&&Wp(),a=ma(this),c=a||s?{observableKind:"array",object:this.proxy_,type:Xa,debugObjectName:this.atom_.name_,index:n,newValue:o,oldValue:i}:null;this.atom_.reportChanged(),a&&va(this,c)},t.notifyArraySplice_=function(n,o,i){var s=!this.owned_&&Wp(),a=ma(this),c=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:GA,index:n,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&va(this,c)},t.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},t.set_=function(n,o){var i=this.values_;if(this.legacyMode_&&n>i.length&&Hr(17,n,i.length),n<i.length){this.atom_;var s=i[n];if(Is(this)){var a=Ps(this,{type:Xa,object:this.proxy_,index:n,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,s);var c=o!==s;c&&(i[n]=o,this.notifyArrayChildUpdate_(n,o,s))}else{for(var d=new Array(n+1-i.length),h=0;h<d.length-1;h++)d[h]=void 0;d[d.length-1]=o,this.spliceWithArray_(i.length,0,d)}},e})();function Sue(e,t,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),oA(),sd(function(){var o=new L0(r,t,n,!1);aA(o.values_,yr,o);var i=new Proxy(o.values_,wue);return o.proxy_=i,e&&e.length&&o.spliceWithArray_(0,0,e),i})}var Dy={clear:function(){return this.splice(0)},replace:function(t){var r=this[yr];return r.spliceWithArray_(0,r.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var s=this[yr];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,r)}return s.spliceWithArray_(t,r,o)},spliceWithArray:function(t,r,n){return this[yr].spliceWithArray_(t,r,n)},push:function(){for(var t=this[yr],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[yr].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[yr],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return Mt.trackingDerivation&&Hr(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Mt.trackingDerivation&&Hr(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var r=this[yr],n=r.dehanceValues_(r.values_).indexOf(t);return n>-1?(this.splice(n,1),!0):!1}};Ln("at",rs),Ln("concat",rs),Ln("flat",rs),Ln("includes",rs),Ln("indexOf",rs),Ln("join",rs),Ln("lastIndexOf",rs),Ln("slice",rs),Ln("toString",rs),Ln("toLocaleString",rs),Ln("toSorted",rs),Ln("toSpliced",rs),Ln("with",rs),Ln("every",ya),Ln("filter",ya),Ln("find",ya),Ln("findIndex",ya),Ln("findLast",ya),Ln("findLastIndex",ya),Ln("flatMap",ya),Ln("forEach",ya),Ln("map",ya),Ln("some",ya),Ln("toReversed",ya),Ln("reduce",HA),Ln("reduceRight",HA);function Ln(e,t){typeof Array.prototype[e]=="function"&&(Dy[e]=t(e))}function rs(e){return function(){var t=this[yr];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_);return r[e].apply(r,arguments)}}function ya(e){return function(t,r){var n=this,o=this[yr];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[e](function(s,a){return t.call(r,s,a,n)})}}function HA(e){return function(){var t=this,r=this[yr];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),o=arguments[0];return arguments[0]=function(i,s,a){return o(i,s,a,t)},n[e].apply(n,arguments)}}var Cue=Ju("ObservableArrayAdministration",L0);function Ay(e){return gy(e)&&Cue(e[yr])}var xue={},Bc="add",Ly="delete",WA=(function(){function e(r,n,o){var i=this;n===void 0&&(n=td),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[yr]=xue,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=o,pa(Map)||Hr(18),sd(function(){i.keysAtom_=hA("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,r&&i.merge(r)})}var t=e.prototype;return t.has_=function(n){return this.data_.has(n)},t.has=function(n){var o=this;if(!Mt.trackingDerivation)return this.has_(n);var i=this.hasMap_.get(n);if(!i){var s=i=new nd(this.has_(n),yy,"ObservableMap.key?",!1);this.hasMap_.set(n,s),FA(s,function(){return o.hasMap_.delete(n)})}return i.get()},t.set=function(n,o){var i=this.has_(n);if(Is(this)){var s=Ps(this,{type:i?Xa:Bc,object:this,newValue:o,name:n});if(!s)return this;o=s.newValue}return i?this.updateValue_(n,o):this.addValue_(n,o),this},t.delete=function(n){var o=this;if(this.keysAtom_,Is(this)){var i=Ps(this,{type:Ly,object:this,name:n});if(!i)return!1}if(this.has_(n)){var s=Wp(),a=ma(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Ly,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return Ul(function(){var d;o.keysAtom_.reportChanged(),(d=o.hasMap_.get(n))==null||d.setNewValue_(!1);var h=o.data_.get(n);h.setNewValue_(void 0),o.data_.delete(n)}),a&&va(this,c),!0}return!1},t.updateValue_=function(n,o){var i=this.data_.get(n);if(o=i.prepareNewValue_(o),o!==Mt.UNCHANGED){var s=Wp(),a=ma(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Xa,object:this,oldValue:i.value_,name:n,newValue:o}:null;i.setNewValue_(o),a&&va(this,c)}},t.addValue_=function(n,o){var i=this;this.keysAtom_,Ul(function(){var d,h=new nd(o,i.enhancer_,"ObservableMap.key",!1);i.data_.set(n,h),o=h.value_,(d=i.hasMap_.get(n))==null||d.setNewValue_(!0),i.keysAtom_.reportChanged()});var s=Wp(),a=ma(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Bc,object:this,name:n,newValue:o}:null;a&&va(this,c)},t.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var n=this,o=this.keys();return KA({next:function(){var s=o.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:n.get(c)}}})},t.entries=function(){var n=this,o=this.keys();return KA({next:function(){var s=o.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:[c,n.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(n,o){for(var i=Nh(this),s;!(s=i()).done;){var a=s.value,c=a[0],d=a[1];n.call(o,d,c,this)}},t.merge=function(n){var o=this;return id(n)&&(n=new Map(n)),Ul(function(){Lc(n)?Gle(n).forEach(function(i){return o.set(i,n[i])}):Array.isArray(n)?n.forEach(function(i){var s=i[0],a=i[1];return o.set(s,a)}):Ah(n)?(Ule(n)||Hr(19,n),n.forEach(function(i,s){return o.set(s,i)})):n!=null&&Hr(20,n)}),this},t.clear=function(){var n=this;Ul(function(){EA(function(){for(var o=Nh(n.keys()),i;!(i=o()).done;){var s=i.value;n.delete(s)}})})},t.replace=function(n){var o=this;return Ul(function(){for(var i=_ue(n),s=new Map,a=!1,c=Nh(o.data_.keys()),d;!(d=c()).done;){var h=d.value;if(!i.has(h)){var f=o.delete(h);if(f)a=!0;else{var g=o.data_.get(h);s.set(h,g)}}}for(var m=Nh(i.entries()),y;!(y=m()).done;){var b=y.value,v=b[0],C=b[1],E=o.data_.has(v);if(o.set(v,C),o.data_.has(v)){var T=o.data_.get(v);s.set(v,T),E||(a=!0)}}if(!a)if(o.data_.size!==s.size)o.keysAtom_.reportChanged();else for(var R=o.data_.keys(),M=s.keys(),I=R.next(),N=M.next();!I.done;){if(I.value!==N.value){o.keysAtom_.reportChanged();break}I=R.next(),N=M.next()}o.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(n,o){return Zp(this,n)},t.intercept_=function(n){return Xp(this,n)},Lh(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),id=Ju("ObservableMap",WA);function KA(e){return e[Symbol.toStringTag]="MapIterator",V0(e)}function _ue(e){if(Ah(e)||id(e))return e;if(Array.isArray(e))return new Map(e);if(Lc(e)){var t=new Map;for(var r in e)t.set(r,e[r]);return t}else return Hr(21,e)}var Eue={},qA=(function(){function e(r,n,o){var i=this;n===void 0&&(n=td),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[yr]=Eue,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,pa(Set)||Hr(22),this.enhancer_=function(s,a){return n(s,a,o)},sd(function(){i.atom_=hA(i.name_),r&&i.replace(r)})}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.clear=function(){var n=this;Ul(function(){EA(function(){for(var o=Nh(n.data_.values()),i;!(i=o()).done;){var s=i.value;n.delete(s)}})})},t.forEach=function(n,o){for(var i=Nh(this),s;!(s=i()).done;){var a=s.value;n.call(o,a,a,this)}},t.add=function(n){var o=this;if(this.atom_,Is(this)){var i=Ps(this,{type:Bc,object:this,newValue:n});if(!i)return this;n=i.newValue}if(!this.has(n)){Ul(function(){o.data_.add(o.enhancer_(n,void 0)),o.atom_.reportChanged()});var s=!1,a=ma(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:Bc,object:this,newValue:n}:null;a&&va(this,c)}return this},t.delete=function(n){var o=this;if(Is(this)){var i=Ps(this,{type:Ly,object:this,oldValue:n});if(!i)return!1}if(this.has(n)){var s=!1,a=ma(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:Ly,object:this,oldValue:n}:null;return Ul(function(){o.atom_.reportChanged(),o.data_.delete(n)}),a&&va(this,c),!0}return!1},t.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},t.entries=function(){var n=this.values();return YA({next:function(){var i=n.next(),s=i.value,a=i.done;return a?{value:void 0,done:a}:{value:[s,s],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var n=this,o=this.data_.values();return YA({next:function(){var s=o.next(),a=s.value,c=s.done;return c?{value:void 0,done:c}:{value:n.dehanceValue_(a),done:c}}})},t.intersection=function(n){if(Vl(n)&&!Za(n))return n.intersection(this);var o=new Set(this);return o.intersection(n)},t.union=function(n){if(Vl(n)&&!Za(n))return n.union(this);var o=new Set(this);return o.union(n)},t.difference=function(n){return new Set(this).difference(n)},t.symmetricDifference=function(n){if(Vl(n)&&!Za(n))return n.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(n)},t.isSubsetOf=function(n){return new Set(this).isSubsetOf(n)},t.isSupersetOf=function(n){return new Set(this).isSupersetOf(n)},t.isDisjointFrom=function(n){if(Vl(n)&&!Za(n))return n.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(n)},t.replace=function(n){var o=this;return Za(n)&&(n=new Set(n)),Ul(function(){Array.isArray(n)?(o.clear(),n.forEach(function(i){return o.add(i)})):Vl(n)?(o.clear(),n.forEach(function(i){return o.add(i)})):n!=null&&Hr("Cannot initialize set from "+n)}),this},t.observe_=function(n,o){return Zp(this,n)},t.intercept_=function(n){return Xp(this,n)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Lh(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Za=Ju("ObservableSet",qA);function YA(e){return e[Symbol.toStringTag]="SetIterator",V0(e)}var XA=Object.create(null),ZA="remove",QA=(function(){function e(r,n,o,i){n===void 0&&(n=new Map),i===void 0&&(i=wce),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new Nc("ObservableObject.keys"),this.isPlainObject_=Lc(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(n){return this.values_.get(n).get()},t.setObservablePropValue_=function(n,o){var i=this.values_.get(n);if(i instanceof ga)return i.set(o),!0;if(Is(this)){var s=Ps(this,{type:Xa,object:this.proxy_||this.target_,name:n,newValue:o});if(!s)return null;o=s.newValue}if(o=i.prepareNewValue_(o),o!==Mt.UNCHANGED){var a=ma(this),c=!1,d=a||c?{type:Xa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:n,newValue:o}:null;i.setNewValue_(o),a&&va(this,d)}return!0},t.get_=function(n){return Mt.trackingDerivation&&!$l(this.target_,n)&&this.has_(n),this.target_[n]},t.set_=function(n,o,i){return i===void 0&&(i=!1),$l(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,o):i?Reflect.set(this.target_,n,o):(this.target_[n]=o,!0):this.extend_(n,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(n){if(!Mt.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(n);return o||(o=new nd(n in this.target_,yy,"ObservableObject.key?",!1),this.pendingKeys_.set(n,o)),o.get()},t.make_=function(n,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(n in this.target_)){var i;if((i=this.target_[Ka])!=null&&i[n])return;Hr(1,o.annotationType_,this.name_+"."+n.toString())}for(var s=this.target_;s&&s!==py;){var a=fy(s,n);if(a){var c=o.make_(this,n,a,s);if(c===0)return;if(c===1)break}s=Object.getPrototypeOf(s)}eL(this,o,n)}},t.extend_=function(n,o,i,s){if(s===void 0&&(s=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(n,o,s);var a=i.extend_(this,n,o,s);return a&&eL(this,i,n),a},t.defineProperty_=function(n,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Os();var s=this.delete_(n);if(!s)return s;if(Is(this)){var a=Ps(this,{object:this.proxy_||this.target_,name:n,type:Bc,newValue:o.value});if(!a)return null;var c=a.newValue;o.value!==c&&(o=ed({},o,{value:c}))}if(i){if(!Reflect.defineProperty(this.target_,n,o))return!1}else Wa(this.target_,n,o);this.notifyPropertyAddition_(n,o.value)}finally{Rs()}return!0},t.defineObservableProperty_=function(n,o,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Os();var a=this.delete_(n);if(!a)return a;if(Is(this)){var c=Ps(this,{object:this.proxy_||this.target_,name:n,type:Bc,newValue:o});if(!c)return null;o=c.newValue}var d=JA(n),h={configurable:Mt.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(s){if(!Reflect.defineProperty(this.target_,n,h))return!1}else Wa(this.target_,n,h);var f=new nd(o,i,"ObservableObject.key",!1);this.values_.set(n,f),this.notifyPropertyAddition_(n,f.value_)}finally{Rs()}return!0},t.defineComputedProperty_=function(n,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Os();var s=this.delete_(n);if(!s)return s;if(Is(this)){var a=Ps(this,{object:this.proxy_||this.target_,name:n,type:Bc,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var c=JA(n),d={configurable:Mt.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,n,d))return!1}else Wa(this.target_,n,d);this.values_.set(n,new ga(o)),this.notifyPropertyAddition_(n,void 0)}finally{Rs()}return!0},t.delete_=function(n,o){if(o===void 0&&(o=!1),this.keysAtom_,!$l(this.target_,n))return!0;if(Is(this)){var i=Ps(this,{object:this.proxy_||this.target_,name:n,type:ZA});if(!i)return null}try{var s;Os();var a=ma(this),c=!1,d=this.values_.get(n),h=void 0;if(!d&&(a||c)){var f;h=(f=fy(this.target_,n))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(d&&(this.values_.delete(n),d instanceof nd&&(h=d.value_),PA(d)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(n))==null||s.set(n in this.target_),a||c){var g={type:ZA,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:n};a&&va(this,g)}}finally{Rs()}return!0},t.observe_=function(n,o){return Zp(this,n)},t.intercept_=function(n){return Xp(this,n)},t.notifyPropertyAddition_=function(n,o){var i,s=ma(this),a=!1;if(s||a){var c=s||a?{type:Bc,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:o}:null;s&&va(this,c)}(i=this.pendingKeys_)==null||(i=i.get(n))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),vy(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function jh(e,t){var r;if($l(e,yr))return e;var n=(r=t?.name)!=null?r:"ObservableObject",o=new QA(e,new Map,String(n),Pce(t));return my(e,yr,o),e}var Tue=Ju("ObservableObjectAdministration",QA);function JA(e){return XA[e]||(XA[e]={get:function(){return this[yr].getObservablePropValue_(e)},set:function(r){return this[yr].setObservablePropValue_(e,r)}})}function Ny(e){return gy(e)?Tue(e[yr]):!1}function eL(e,t,r){var n;(n=e.target_[Ka])==null||delete n[r]}var Mue=rL(0),Oue=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),N0=0,tL=function(){};function Rue(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Rue(tL,Array.prototype);var B0=(function(e){function t(n,o,i,s){var a;return i===void 0&&(i="ObservableArray"),s===void 0&&(s=!1),a=e.call(this)||this,sd(function(){var c=new L0(i,o,s,!0);c.proxy_=a,aA(a,yr,c),n&&n.length&&a.spliceWithArray(0,0,n),Oue&&Object.defineProperty(a,"0",Mue)}),a}dA(t,e);var r=t.prototype;return r.concat=function(){this[yr].atom_.reportObserved();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return Ay(a)?a.slice():a}))},r[Symbol.iterator]=function(){var n=this,o=0;return V0({next:function(){return o<n.length?{value:n[o++],done:!1}:{done:!0,value:void 0}}})},Lh(t,[{key:"length",get:function(){return this[yr].getArrayLength_()},set:function(o){this[yr].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(tL);Object.entries(Dy).forEach(function(e){var t=e[0],r=e[1];t!=="concat"&&my(B0.prototype,t,r)});function rL(e){return{enumerable:!1,configurable:!0,get:function(){return this[yr].get_(e)},set:function(r){this[yr].set_(e,r)}}}function Iue(e){Wa(B0.prototype,""+e,rL(e))}function nL(e){if(e>N0){for(var t=N0;t<e+100;t++)Iue(t);N0=e}}nL(1e3);function Pue(e,t,r){return new B0(e,t,r)}function By(e,t){if(typeof e=="object"&&e!==null){if(Ay(e))return t!==void 0&&Hr(23),e[yr].atom_;if(Za(e))return e.atom_;if(id(e)){if(t===void 0)return e.keysAtom_;var r=e.data_.get(t)||e.hasMap_.get(t);return r||Hr(25,t,F0(e)),r}if(Ny(e)){if(!t)return Hr(26);var n=e[yr].values_.get(t);return n||Hr(27,t,F0(e)),n}if(_0(e)||Ey(e)||Py(e))return e}else if(pa(e)&&Py(e[yr]))return e[yr];Hr(28)}function kue(e,t){if(e||Hr(29),_0(e)||Ey(e)||Py(e)||id(e)||Za(e))return e;if(e[yr])return e[yr];Hr(24,e)}function F0(e,t){var r;if(t!==void 0)r=By(e,t);else{if(qp(e))return e.name;Ny(e)||id(e)||Za(e)?r=kue(e):r=By(e)}return r.name_}function sd(e){var t=od(),r=xy(!0);Os();try{return e()}finally{Rs(),_y(r),zl(t)}}var oL=py.toString;function iL(e,t,r){return r===void 0&&(r=-1),j0(e,t,r)}function j0(e,t,r,n,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var s=oL.call(e);if(s!==oL.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++;break}e=sL(e),t=sL(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,d=t.constructor;if(c!==d&&!(pa(c)&&c instanceof c&&pa(d)&&d instanceof d)&&"constructor"in e&&"constructor"in t)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],o=o||[];for(var h=n.length;h--;)if(n[h]===e)return o[h]===t;if(n.push(e),o.push(t),a){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!j0(e[h],t[h],r-1,n,o))return!1}else{var f=Object.keys(e),g=f.length;if(Object.keys(t).length!==g)return!1;for(var m=0;m<g;m++){var y=f[m];if(!($l(t,y)&&j0(e[y],t[y],r-1,n,o)))return!1}}return n.pop(),o.pop(),!0}function sL(e){return Ay(e)?e.slice():Ah(e)||id(e)||Vl(e)||Za(e)?Array.from(e.entries()):e}var aL,Due=((aL=hy().Iterator)==null?void 0:aL.prototype)||{};function V0(e){return e[Symbol.iterator]=Aue,Object.assign(Object.create(Due),e)}function Aue(){return this}["Symbol","Map","Set"].forEach(function(e){var t=hy();typeof t[e]>"u"&&Hr("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Xce,extras:{getDebugName:F0},$mobx:yr});var ad={},$0={},lL;function Lue(){return lL||(lL=1,Object.defineProperty($0,"__esModule",{value:!0})),$0}var z0={},cL;function Nue(){return cL||(cL=1,Object.defineProperty(z0,"__esModule",{value:!0})),z0}var U0={},uL;function Bue(){return uL||(uL=1,Object.defineProperty(U0,"__esModule",{value:!0})),U0}var G0={},dL;function Fue(){return dL||(dL=1,Object.defineProperty(G0,"__esModule",{value:!0})),G0}var H0={},hL;function jue(){return hL||(hL=1,Object.defineProperty(H0,"__esModule",{value:!0})),H0}var W0={},fL;function Vue(){return fL||(fL=1,Object.defineProperty(W0,"__esModule",{value:!0})),W0}var K0={},pL;function $ue(){return pL||(pL=1,Object.defineProperty(K0,"__esModule",{value:!0})),K0}var q0={},gL;function zue(){return gL||(gL=1,Object.defineProperty(q0,"__esModule",{value:!0})),q0}var Y0={},mL;function Uue(){return mL||(mL=1,Object.defineProperty(Y0,"__esModule",{value:!0})),Y0}var X0={},vL;function Gue(){return vL||(vL=1,Object.defineProperty(X0,"__esModule",{value:!0})),X0}var Z0={},yL;function Hue(){return yL||(yL=1,Object.defineProperty(Z0,"__esModule",{value:!0})),Z0}var Q0={},bL;function Wue(){return bL||(bL=1,Object.defineProperty(Q0,"__esModule",{value:!0})),Q0}var J0={},wL;function Kue(){return wL||(wL=1,Object.defineProperty(J0,"__esModule",{value:!0})),J0}var ex={},SL;function que(){return SL||(SL=1,Object.defineProperty(ex,"__esModule",{value:!0})),ex}var tx={},CL;function Yue(){return CL||(CL=1,Object.defineProperty(tx,"__esModule",{value:!0})),tx}var rx={},xL;function Xue(){return xL||(xL=1,Object.defineProperty(rx,"__esModule",{value:!0})),rx}var nx={},_L;function Zue(){return _L||(_L=1,Object.defineProperty(nx,"__esModule",{value:!0})),nx}var ox={},EL;function Que(){return EL||(EL=1,Object.defineProperty(ox,"__esModule",{value:!0})),ox}var ix={},TL;function Jue(){return TL||(TL=1,Object.defineProperty(ix,"__esModule",{value:!0})),ix}var sx={},ML;function ede(){return ML||(ML=1,Object.defineProperty(sx,"__esModule",{value:!0})),sx}var ax={},OL;function tde(){return OL||(OL=1,Object.defineProperty(ax,"__esModule",{value:!0})),ax}var lx={},RL;function rde(){return RL||(RL=1,Object.defineProperty(lx,"__esModule",{value:!0})),lx}var cx={},IL;function nde(){return IL||(IL=1,Object.defineProperty(cx,"__esModule",{value:!0})),cx}var ux={},PL;function ode(){return PL||(PL=1,Object.defineProperty(ux,"__esModule",{value:!0})),ux}var dx={},kL;function ide(){return kL||(kL=1,Object.defineProperty(dx,"__esModule",{value:!0})),dx}var hx={},DL;function sde(){return DL||(DL=1,Object.defineProperty(hx,"__esModule",{value:!0})),hx}var fx={},AL;function ade(){return AL||(AL=1,Object.defineProperty(fx,"__esModule",{value:!0})),fx}var px={},LL;function lde(){return LL||(LL=1,Object.defineProperty(px,"__esModule",{value:!0})),px}var gx={},NL;function cde(){return NL||(NL=1,Object.defineProperty(gx,"__esModule",{value:!0})),gx}var mx={},BL;function ude(){return BL||(BL=1,Object.defineProperty(mx,"__esModule",{value:!0})),mx}var vx={},FL;function dde(){return FL||(FL=1,Object.defineProperty(vx,"__esModule",{value:!0})),vx}var yx={},jL;function hde(){return jL||(jL=1,Object.defineProperty(yx,"__esModule",{value:!0})),yx}var bx={},VL;function fde(){return VL||(VL=1,Object.defineProperty(bx,"__esModule",{value:!0})),bx}var wx={},$L;function pde(){return $L||($L=1,Object.defineProperty(wx,"__esModule",{value:!0})),wx}var Sx={},zL;function gde(){return zL||(zL=1,Object.defineProperty(Sx,"__esModule",{value:!0})),Sx}var Cx={},UL;function mde(){return UL||(UL=1,Object.defineProperty(Cx,"__esModule",{value:!0})),Cx}var xx={},GL;function vde(){return GL||(GL=1,Object.defineProperty(xx,"__esModule",{value:!0})),xx}var _x={},HL;function yde(){return HL||(HL=1,Object.defineProperty(_x,"__esModule",{value:!0})),_x}var Ex={},WL;function bde(){return WL||(WL=1,Object.defineProperty(Ex,"__esModule",{value:!0})),Ex}var Tx={},KL;function wde(){return KL||(KL=1,Object.defineProperty(Tx,"__esModule",{value:!0})),Tx}var Mx={},qL;function Sde(){return qL||(qL=1,Object.defineProperty(Mx,"__esModule",{value:!0})),Mx}var Ox={},YL;function Cde(){return YL||(YL=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var Rx={},XL;function xde(){return XL||(XL=1,Object.defineProperty(Rx,"__esModule",{value:!0})),Rx}var Ix={},ZL;function _de(){return ZL||(ZL=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var Px={},QL;function Ede(){return QL||(QL=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var kx={},JL;function Tde(){return JL||(JL=1,Object.defineProperty(kx,"__esModule",{value:!0})),kx}var Dx={},eN;function Mde(){return eN||(eN=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var Ax={},tN;function Ode(){return tN||(tN=1,Object.defineProperty(Ax,"__esModule",{value:!0})),Ax}var Lx={},rN;function Rde(){return rN||(rN=1,Object.defineProperty(Lx,"__esModule",{value:!0})),Lx}var Nx={},nN;function Ide(){return nN||(nN=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Bx={},oN;function Pde(){return oN||(oN=1,Object.defineProperty(Bx,"__esModule",{value:!0})),Bx}var Fx={},iN;function kde(){return iN||(iN=1,Object.defineProperty(Fx,"__esModule",{value:!0})),Fx}var jx={},sN;function Dde(){return sN||(sN=1,Object.defineProperty(jx,"__esModule",{value:!0})),jx}var Vx={},aN;function Ade(){return aN||(aN=1,Object.defineProperty(Vx,"__esModule",{value:!0})),Vx}var $x={},lN;function Lde(){return lN||(lN=1,Object.defineProperty($x,"__esModule",{value:!0})),$x}var zx={},cN;function Nde(){return cN||(cN=1,Object.defineProperty(zx,"__esModule",{value:!0})),zx}var Ux={},uN;function Bde(){return uN||(uN=1,Object.defineProperty(Ux,"__esModule",{value:!0})),Ux}var Gx={},dN;function Fde(){return dN||(dN=1,Object.defineProperty(Gx,"__esModule",{value:!0})),Gx}var Hx={},hN;function jde(){return hN||(hN=1,Object.defineProperty(Hx,"__esModule",{value:!0})),Hx}var Wx={},fN;function Vde(){return fN||(fN=1,Object.defineProperty(Wx,"__esModule",{value:!0})),Wx}var Kx={},pN;function $de(){return pN||(pN=1,Object.defineProperty(Kx,"__esModule",{value:!0})),Kx}var qx={},gN;function zde(){return gN||(gN=1,Object.defineProperty(qx,"__esModule",{value:!0})),qx}var Yx={},mN;function Ude(){return mN||(mN=1,Object.defineProperty(Yx,"__esModule",{value:!0})),Yx}var Xx={},vN;function Gde(){return vN||(vN=1,Object.defineProperty(Xx,"__esModule",{value:!0})),Xx}var Zx={},yN;function Hde(){return yN||(yN=1,Object.defineProperty(Zx,"__esModule",{value:!0})),Zx}var Qx={},bN;function Wde(){return bN||(bN=1,Object.defineProperty(Qx,"__esModule",{value:!0})),Qx}var Jx={},wN;function Kde(){return wN||(wN=1,Object.defineProperty(Jx,"__esModule",{value:!0})),Jx}var Qp={},SN;function qde(){if(SN)return Qp;SN=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.UnreachableCaseError=void 0;class e extends Error{constructor(r){super(`Unreachable case: ${r}`)}}return Qp.UnreachableCaseError=e,Qp}var Jp={},CN;function Yde(){if(CN)return Jp;CN=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.assert=void 0;function e(t,r="no additional info provided"){if(!t)throw new Error("Assertion Error: "+r)}return Jp.assert=e,Jp}var eg={},xN;function Xde(){if(xN)return eg;xN=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.createFactoryWithConstraint=void 0;const e=()=>t=>t;return eg.createFactoryWithConstraint=e,eg}var tg={},_N;function Zde(){if(_N)return tg;_N=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.isExact=void 0;const e=()=>t=>t;return tg.isExact=e,tg}var rg={},EN;function Qde(){if(EN)return rg;EN=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.noop=void 0;function e(...t){}return rg.noop=e,rg}var e_={},TN;function Jde(){return TN||(TN=1,Object.defineProperty(e_,"__esModule",{value:!0})),e_}var MN;function ehe(){return MN||(MN=1,(function(e){var t=ad&&ad.__createBinding||(Object.create?(function(n,o,i,s){s===void 0&&(s=i);var a=Object.getOwnPropertyDescriptor(o,i);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,a)}):(function(n,o,i,s){s===void 0&&(s=i),n[s]=o[i]})),r=ad&&ad.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Lue(),e),r(Nue(),e),r(Bue(),e),r(Fue(),e),r(jue(),e),r(Vue(),e),r($ue(),e),r(zue(),e),r(Uue(),e),r(Gue(),e),r(Hue(),e),r(Wue(),e),r(Kue(),e),r(que(),e),r(Yue(),e),r(Xue(),e),r(Zue(),e),r(Que(),e),r(Jue(),e),r(ede(),e),r(tde(),e),r(rde(),e),r(nde(),e),r(ode(),e),r(ide(),e),r(sde(),e),r(ade(),e),r(lde(),e),r(cde(),e),r(ude(),e),r(dde(),e),r(hde(),e),r(fde(),e),r(pde(),e),r(gde(),e),r(mde(),e),r(vde(),e),r(yde(),e),r(bde(),e),r(wde(),e),r(Sde(),e),r(Cde(),e),r(xde(),e),r(_de(),e),r(Ede(),e),r(Tde(),e),r(Mde(),e),r(Ode(),e),r(Rde(),e),r(Ide(),e),r(Pde(),e),r(kde(),e),r(Dde(),e),r(Ade(),e),r(Lde(),e),r(Nde(),e),r(Bde(),e),r(Fde(),e),r(jde(),e),r(Vde(),e),r($de(),e),r(zde(),e),r(Ude(),e),r(Gde(),e),r(Hde(),e),r(Wde(),e),r(Kde(),e),r(qde(),e),r(Yde(),e),r(Xde(),e),r(Zde(),e),r(Qde(),e),r(Jde(),e)})(ad)),ad}var ks=ehe();function the(e){const t=e.vars.allList,r=Si(t,o=>o.isArgument&&o.type),n=t.find(o=>o.isReturn)?.type??null;return{type:"user",name:e.name,argTypes:r,retType:n}}function rhe(e,t){const r=jle(t);return e.forEach(n=>n.isFunction&&r.addUserFunc(the(n))),r}class nhe{constructor({klass:t,lib:r,pluginsGetter:n}){this.type="codeEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.onError=new Wn,this.onSaved=new Wn,this.klass=t,this.lib=r,this.pluginsGetter=n,this.currentText=this.savedText=t.modelText.split(`\r
`).join(`
`),vt(this,{currentLineNumber:Pe.ref,currentColumnIndex:Pe.ref,currentText:Pe.ref,savedText:Pe.ref,hasChanges:Kn,save:be,setCurrentText:be,setCursorPosition:be})}get _reactKey(){return"code-"+this.klass.generatedUUID}get title(){return this.klass.name+" (код)"}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){ks.assert(!this.isReadonly);try{const t=this.currentText.split(`
`).join(`\r
`),n=rhe(this.lib.list,this.pluginsGetter()).compile(t,this.klass.name,this.klass.file.path);if(n.bugs.length)throw Error(n.bugs.map(([o])=>` -${o}`).join(`
`));if(this.savedText===this.currentText)return;this.klass.vars.set(n.vars),this.klass.set({modelText:t,isFunction:n.isFunction}),this.savedText=this.currentText,this.onSaved.dispatch()}catch(t){if(!(t instanceof Error))return;this.onError.dispatch(t.message)}}setCurrentText(t){this.currentText=t}setCursorPosition(t,r){this.currentLineNumber=t,this.currentColumnIndex=r}}var Fy={exports:{}},ohe=Fy.exports,ON;function Qr(){return ON||(ON=1,(function(e,t){(function(r,n){e.exports=n()})(ohe,function(){var r=Array.prototype.slice;function n(S,F){F&&(S.prototype=Object.create(F.prototype)),S.prototype.constructor=S}function o(S){return c(S)?S:Ee(S)}n(i,o);function i(S){return d(S)?S:ke(S)}n(s,o);function s(S){return h(S)?S:Te(S)}n(a,o);function a(S){return c(S)&&!f(S)?S:Ve(S)}function c(S){return!!(S&&S[m])}function d(S){return!!(S&&S[y])}function h(S){return!!(S&&S[b])}function f(S){return d(S)||h(S)}function g(S){return!!(S&&S[v])}o.isIterable=c,o.isKeyed=d,o.isIndexed=h,o.isAssociative=f,o.isOrdered=g,o.Keyed=i,o.Indexed=s,o.Set=a;var m="@@__IMMUTABLE_ITERABLE__@@",y="@@__IMMUTABLE_KEYED__@@",b="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",C="delete",E=5,T=1<<E,R=T-1,M={},I={value:!1},N={value:!1};function P(S){return S.value=!1,S}function L(S){S&&(S.value=!0)}function D(){}function $(S,F){F=F||0;for(var X=Math.max(0,S.length-F),ee=new Array(X),oe=0;oe<X;oe++)ee[oe]=S[oe+F];return ee}function B(S){return S.size===void 0&&(S.size=S.__iterate(q)),S.size}function U(S,F){if(typeof F!="number"){var X=F>>>0;if(""+X!==F||X===4294967295)return NaN;F=X}return F<0?B(S)+F:F}function q(){return!0}function W(S,F,X){return(S===0||X!==void 0&&S<=-X)&&(F===void 0||X!==void 0&&F>=X)}function V(S,F){return Q(S,F,0)}function Y(S,F){return Q(S,F,F)}function Q(S,F,X){return S===void 0?X:S<0?Math.max(0,F+S):F===void 0?S:Math.min(F,S)}var re=0,z=1,K=2,Z=typeof Symbol=="function"&&Symbol.iterator,le="@@iterator",ce=Z||le;function ue(S){this.next=S}ue.prototype.toString=function(){return"[Iterator]"},ue.KEYS=re,ue.VALUES=z,ue.ENTRIES=K,ue.prototype.inspect=ue.prototype.toSource=function(){return this.toString()},ue.prototype[ce]=function(){return this};function ae(S,F,X,ee){var oe=S===0?F:S===1?X:[F,X];return ee?ee.value=oe:ee={value:oe,done:!1},ee}function ye(){return{value:void 0,done:!0}}function Me(S){return!!pe(S)}function xe(S){return S&&typeof S.next=="function"}function he(S){var F=pe(S);return F&&F.call(S)}function pe(S){var F=S&&(Z&&S[Z]||S[le]);if(typeof F=="function")return F}function Se(S){return S&&typeof S.length=="number"}n(Ee,o);function Ee(S){return S==null?mt():c(S)?S.toSeq():qt(S)}Ee.of=function(){return Ee(arguments)},Ee.prototype.toSeq=function(){return this},Ee.prototype.toString=function(){return this.__toString("Seq {","}")},Ee.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Ee.prototype.__iterate=function(S,F){return gt(this,S,F,!0)},Ee.prototype.__iterator=function(S,F){return _t(this,S,F,!0)},n(ke,Ee);function ke(S){return S==null?mt().toKeyedSeq():c(S)?d(S)?S.toSeq():S.fromEntrySeq():Bt(S)}ke.prototype.toKeyedSeq=function(){return this},n(Te,Ee);function Te(S){return S==null?mt():c(S)?d(S)?S.entrySeq():S.toIndexedSeq():zt(S)}Te.of=function(){return Te(arguments)},Te.prototype.toIndexedSeq=function(){return this},Te.prototype.toString=function(){return this.__toString("Seq [","]")},Te.prototype.__iterate=function(S,F){return gt(this,S,F,!1)},Te.prototype.__iterator=function(S,F){return _t(this,S,F,!1)},n(Ve,Ee);function Ve(S){return(S==null?mt():c(S)?d(S)?S.entrySeq():S:zt(S)).toSetSeq()}Ve.of=function(){return Ve(arguments)},Ve.prototype.toSetSeq=function(){return this},Ee.isSeq=$e,Ee.Keyed=ke,Ee.Set=Ve,Ee.Indexed=Te;var nt="@@__IMMUTABLE_SEQ__@@";Ee.prototype[nt]=!0,n(je,Te);function je(S){this._array=S,this.size=S.length}je.prototype.get=function(S,F){return this.has(S)?this._array[U(this,S)]:F},je.prototype.__iterate=function(S,F){for(var X=this._array,ee=X.length-1,oe=0;oe<=ee;oe++)if(S(X[F?ee-oe:oe],oe,this)===!1)return oe+1;return oe},je.prototype.__iterator=function(S,F){var X=this._array,ee=X.length-1,oe=0;return new ue(function(){return oe>ee?ye():ae(S,oe,X[F?ee-oe++:oe++])})},n(Rt,ke);function Rt(S){var F=Object.keys(S);this._object=S,this._keys=F,this.size=F.length}Rt.prototype.get=function(S,F){return F!==void 0&&!this.has(S)?F:this._object[S]},Rt.prototype.has=function(S){return this._object.hasOwnProperty(S)},Rt.prototype.__iterate=function(S,F){for(var X=this._object,ee=this._keys,oe=ee.length-1,de=0;de<=oe;de++){var ge=ee[F?oe-de:de];if(S(X[ge],ge,this)===!1)return de+1}return de},Rt.prototype.__iterator=function(S,F){var X=this._object,ee=this._keys,oe=ee.length-1,de=0;return new ue(function(){var ge=ee[F?oe-de:de];return de++>oe?ye():ae(S,ge,X[ge])})},Rt.prototype[v]=!0,n(dt,Te);function dt(S){this._iterable=S,this.size=S.length||S.size}dt.prototype.__iterateUncached=function(S,F){if(F)return this.cacheResult().__iterate(S,F);var X=this._iterable,ee=he(X),oe=0;if(xe(ee))for(var de;!(de=ee.next()).done&&S(de.value,oe++,this)!==!1;);return oe},dt.prototype.__iteratorUncached=function(S,F){if(F)return this.cacheResult().__iterator(S,F);var X=this._iterable,ee=he(X);if(!xe(ee))return new ue(ye);var oe=0;return new ue(function(){var de=ee.next();return de.done?de:ae(S,oe++,de.value)})},n(Ct,Te);function Ct(S){this._iterator=S,this._iteratorCache=[]}Ct.prototype.__iterateUncached=function(S,F){if(F)return this.cacheResult().__iterate(S,F);for(var X=this._iterator,ee=this._iteratorCache,oe=0;oe<ee.length;)if(S(ee[oe],oe++,this)===!1)return oe;for(var de;!(de=X.next()).done;){var ge=de.value;if(ee[oe]=ge,S(ge,oe++,this)===!1)break}return oe},Ct.prototype.__iteratorUncached=function(S,F){if(F)return this.cacheResult().__iterator(S,F);var X=this._iterator,ee=this._iteratorCache,oe=0;return new ue(function(){if(oe>=ee.length){var de=X.next();if(de.done)return de;ee[oe]=de.value}return ae(S,oe,ee[oe++])})};function $e(S){return!!(S&&S[nt])}var It;function mt(){return It||(It=new je([]))}function Bt(S){var F=Array.isArray(S)?new je(S).fromEntrySeq():xe(S)?new Ct(S).fromEntrySeq():Me(S)?new dt(S).fromEntrySeq():typeof S=="object"?new Rt(S):void 0;if(!F)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+S);return F}function zt(S){var F=tr(S);if(!F)throw new TypeError("Expected Array or iterable object of values: "+S);return F}function qt(S){var F=tr(S)||typeof S=="object"&&new Rt(S);if(!F)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+S);return F}function tr(S){return Se(S)?new je(S):xe(S)?new Ct(S):Me(S)?new dt(S):void 0}function gt(S,F,X,ee){var oe=S._cache;if(oe){for(var de=oe.length-1,ge=0;ge<=de;ge++){var Re=oe[X?de-ge:ge];if(F(Re[1],ee?Re[0]:ge,S)===!1)return ge+1}return ge}return S.__iterateUncached(F,X)}function _t(S,F,X,ee){var oe=S._cache;if(oe){var de=oe.length-1,ge=0;return new ue(function(){var Re=oe[X?de-ge:ge];return ge++>de?ye():ae(F,ee?Re[0]:ge-1,Re[1])})}return S.__iteratorUncached(F,X)}function He(S,F){return F?ct(F,S,"",{"":S}):ut(S)}function ct(S,F,X,ee){return Array.isArray(F)?S.call(ee,X,Te(F).map(function(oe,de){return ct(S,oe,de,F)})):St(F)?S.call(ee,X,ke(F).map(function(oe,de){return ct(S,oe,de,F)})):F}function ut(S){return Array.isArray(S)?Te(S).map(ut).toList():St(S)?ke(S).map(ut).toMap():S}function St(S){return S&&(S.constructor===Object||S.constructor===void 0)}function at(S,F){if(S===F||S!==S&&F!==F)return!0;if(!S||!F)return!1;if(typeof S.valueOf=="function"&&typeof F.valueOf=="function"){if(S=S.valueOf(),F=F.valueOf(),S===F||S!==S&&F!==F)return!0;if(!S||!F)return!1}return!!(typeof S.equals=="function"&&typeof F.equals=="function"&&S.equals(F))}function At(S,F){if(S===F)return!0;if(!c(F)||S.size!==void 0&&F.size!==void 0&&S.size!==F.size||S.__hash!==void 0&&F.__hash!==void 0&&S.__hash!==F.__hash||d(S)!==d(F)||h(S)!==h(F)||g(S)!==g(F))return!1;if(S.size===0&&F.size===0)return!0;var X=!f(S);if(g(S)){var ee=S.entries();return F.every(function(Ue,qe){var ot=ee.next().value;return ot&&at(ot[1],Ue)&&(X||at(ot[0],qe))})&&ee.next().done}var oe=!1;if(S.size===void 0)if(F.size===void 0)typeof S.cacheResult=="function"&&S.cacheResult();else{oe=!0;var de=S;S=F,F=de}var ge=!0,Re=F.__iterate(function(Ue,qe){if(X?!S.has(Ue):oe?!at(Ue,S.get(qe,M)):!at(S.get(qe,M),Ue))return ge=!1,!1});return ge&&S.size===Re}n(ft,Te);function ft(S,F){if(!(this instanceof ft))return new ft(S,F);if(this._value=S,this.size=F===void 0?1/0:Math.max(0,F),this.size===0){if(Pt)return Pt;Pt=this}}ft.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ft.prototype.get=function(S,F){return this.has(S)?this._value:F},ft.prototype.includes=function(S){return at(this._value,S)},ft.prototype.slice=function(S,F){var X=this.size;return W(S,F,X)?this:new ft(this._value,Y(F,X)-V(S,X))},ft.prototype.reverse=function(){return this},ft.prototype.indexOf=function(S){return at(this._value,S)?0:-1},ft.prototype.lastIndexOf=function(S){return at(this._value,S)?this.size:-1},ft.prototype.__iterate=function(S,F){for(var X=0;X<this.size;X++)if(S(this._value,X,this)===!1)return X+1;return X},ft.prototype.__iterator=function(S,F){var X=this,ee=0;return new ue(function(){return ee<X.size?ae(S,ee++,X._value):ye()})},ft.prototype.equals=function(S){return S instanceof ft?at(this._value,S._value):At(S)};var Pt;function Ir(S,F){if(!S)throw new Error(F)}n(Dr,Te);function Dr(S,F,X){if(!(this instanceof Dr))return new Dr(S,F,X);if(Ir(X!==0,"Cannot step a Range by 0"),S=S||0,F===void 0&&(F=1/0),X=X===void 0?1:Math.abs(X),F<S&&(X=-X),this._start=S,this._end=F,this._step=X,this.size=Math.max(0,Math.ceil((F-S)/X-1)+1),this.size===0){if(un)return un;un=this}}Dr.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Dr.prototype.get=function(S,F){return this.has(S)?this._start+U(this,S)*this._step:F},Dr.prototype.includes=function(S){var F=(S-this._start)/this._step;return F>=0&&F<this.size&&F===Math.floor(F)},Dr.prototype.slice=function(S,F){return W(S,F,this.size)?this:(S=V(S,this.size),F=Y(F,this.size),F<=S?new Dr(0,0):new Dr(this.get(S,this._end),this.get(F,this._end),this._step))},Dr.prototype.indexOf=function(S){var F=S-this._start;if(F%this._step===0){var X=F/this._step;if(X>=0&&X<this.size)return X}return-1},Dr.prototype.lastIndexOf=function(S){return this.indexOf(S)},Dr.prototype.__iterate=function(S,F){for(var X=this.size-1,ee=this._step,oe=F?this._start+X*ee:this._start,de=0;de<=X;de++){if(S(oe,de,this)===!1)return de+1;oe+=F?-ee:ee}return de},Dr.prototype.__iterator=function(S,F){var X=this.size-1,ee=this._step,oe=F?this._start+X*ee:this._start,de=0;return new ue(function(){var ge=oe;return oe+=F?-ee:ee,de>X?ye():ae(S,de++,ge)})},Dr.prototype.equals=function(S){return S instanceof Dr?this._start===S._start&&this._end===S._end&&this._step===S._step:At(this,S)};var un;n(xr,o);function xr(){throw TypeError("Abstract")}n(Tn,xr);function Tn(){}n(qr,xr);function qr(){}n(Bn,xr);function Bn(){}xr.Keyed=Tn,xr.Indexed=qr,xr.Set=Bn;var Fn=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(F,X){F=F|0,X=X|0;var ee=F&65535,oe=X&65535;return ee*oe+((F>>>16)*oe+ee*(X>>>16)<<16>>>0)|0};function sr(S){return S>>>1&1073741824|S&3221225471}function Ar(S){if(S===!1||S===null||S===void 0||typeof S.valueOf=="function"&&(S=S.valueOf(),S===!1||S===null||S===void 0))return 0;if(S===!0)return 1;var F=typeof S;if(F==="number"){var X=S|0;for(X!==S&&(X^=S*4294967295);S>4294967295;)S/=4294967295,X^=S;return sr(X)}if(F==="string")return S.length>Dn?Lt(S):Ft(S);if(typeof S.hashCode=="function")return S.hashCode();if(F==="object")return nr(S);if(typeof S.toString=="function")return Ft(S.toString());throw new Error("Value type "+F+" cannot be hashed.")}function Lt(S){var F=Ri[S];return F===void 0&&(F=Ft(S),bo===gn&&(bo=0,Ri={}),bo++,Ri[S]=F),F}function Ft(S){for(var F=0,X=0;X<S.length;X++)F=31*F+S.charCodeAt(X)|0;return sr(F)}function nr(S){var F;if(Bo&&(F=ri.get(S),F!==void 0)||(F=S[Gn],F!==void 0)||!Or&&(F=S.propertyIsEnumerable&&S.propertyIsEnumerable[Gn],F!==void 0||(F=uo(S),F!==void 0)))return F;if(F=++Oi,Oi&1073741824&&(Oi=0),Bo)ri.set(S,F);else{if(rr!==void 0&&rr(S)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Or)Object.defineProperty(S,Gn,{enumerable:!1,configurable:!1,writable:!1,value:F});else if(S.propertyIsEnumerable!==void 0&&S.propertyIsEnumerable===S.constructor.prototype.propertyIsEnumerable)S.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},S.propertyIsEnumerable[Gn]=F;else if(S.nodeType!==void 0)S[Gn]=F;else throw new Error("Unable to set a non-enumerable property on object.")}return F}var rr=Object.isExtensible,Or=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function uo(S){if(S&&S.nodeType>0)switch(S.nodeType){case 1:return S.uniqueID;case 9:return S.documentElement&&S.documentElement.uniqueID}}var Bo=typeof WeakMap=="function",ri;Bo&&(ri=new WeakMap);var Oi=0,Gn="__immutablehash__";typeof Symbol=="function"&&(Gn=Symbol(Gn));var Dn=16,gn=255,bo=0,Ri={};function Mn(S){Ir(S!==1/0,"Cannot perform this action with an infinite size.")}n(or,Tn);function or(S){return S==null?On():Xe(S)&&!g(S)?S:On().withMutations(function(F){var X=i(S);Mn(X.size),X.forEach(function(ee,oe){return F.set(oe,ee)})})}or.prototype.toString=function(){return this.__toString("Map {","}")},or.prototype.get=function(S,F){return this._root?this._root.get(0,void 0,S,F):F},or.prototype.set=function(S,F){return oi(this,S,F)},or.prototype.setIn=function(S,F){return this.updateIn(S,M,function(){return F})},or.prototype.remove=function(S){return oi(this,S,M)},or.prototype.deleteIn=function(S){return this.updateIn(S,function(){return M})},or.prototype.update=function(S,F,X){return arguments.length===1?S(this):this.updateIn([S],F,X)},or.prototype.updateIn=function(S,F,X){X||(X=F,F=void 0);var ee=ii(this,Gf(S),F,X);return ee===M?void 0:ee},or.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):On()},or.prototype.merge=function(){return Pa(this,void 0,arguments)},or.prototype.mergeWith=function(S){var F=r.call(arguments,1);return Pa(this,S,F)},or.prototype.mergeIn=function(S){var F=r.call(arguments,1);return this.updateIn(S,On(),function(X){return typeof X.merge=="function"?X.merge.apply(X,F):F[F.length-1]})},or.prototype.mergeDeep=function(){return Pa(this,Yd,arguments)},or.prototype.mergeDeepWith=function(S){var F=r.call(arguments,1);return Pa(this,ic(S),F)},or.prototype.mergeDeepIn=function(S){var F=r.call(arguments,1);return this.updateIn(S,On(),function(X){return typeof X.mergeDeep=="function"?X.mergeDeep.apply(X,F):F[F.length-1]})},or.prototype.sort=function(S){return yn(Cl(this,S))},or.prototype.sortBy=function(S,F){return yn(Cl(this,F,S))},or.prototype.withMutations=function(S){var F=this.asMutable();return S(F),F.wasAltered()?F.__ensureOwner(this.__ownerID):this},or.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new D)},or.prototype.asImmutable=function(){return this.__ensureOwner()},or.prototype.wasAltered=function(){return this.__altered},or.prototype.__iterator=function(S,F){return new Ii(this,S,F)},or.prototype.__iterate=function(S,F){var X=this,ee=0;return this._root&&this._root.iterate(function(oe){return ee++,S(oe[1],oe[0],X)},F),ee},or.prototype.__ensureOwner=function(S){return S===this.__ownerID?this:S?ra(this.size,this._root,S,this.__hash):(this.__ownerID=S,this.__altered=!1,this)};function Xe(S){return!!(S&&S[Ze])}or.isMap=Xe;var Ze="@@__IMMUTABLE_MAP__@@",st=or.prototype;st[Ze]=!0,st[C]=st.remove,st.removeIn=st.deleteIn;function Qt(S,F){this.ownerID=S,this.entries=F}Qt.prototype.get=function(S,F,X,ee){for(var oe=this.entries,de=0,ge=oe.length;de<ge;de++)if(at(X,oe[de][0]))return oe[de][1];return ee},Qt.prototype.update=function(S,F,X,ee,oe,de,ge){for(var Re=oe===M,Ue=this.entries,qe=0,ot=Ue.length;qe<ot&&!at(ee,Ue[qe][0]);qe++);var kt=qe<ot;if(kt?Ue[qe][1]===oe:Re)return this;if(L(ge),(Re||!kt)&&L(de),!(Re&&Ue.length===1)){if(!kt&&!Re&&Ue.length>=Ff)return gi(S,Ue,ee,oe);var Ut=S&&S===this.ownerID,ur=Ut?Ue:$(Ue);return kt?Re?qe===ot-1?ur.pop():ur[qe]=ur.pop():ur[qe]=[ee,oe]:ur.push([ee,oe]),Ut?(this.entries=ur,this):new Qt(S,ur)}};function cr(S,F,X){this.ownerID=S,this.bitmap=F,this.nodes=X}cr.prototype.get=function(S,F,X,ee){F===void 0&&(F=Ar(X));var oe=1<<((S===0?F:F>>>S)&R),de=this.bitmap;return(de&oe)===0?ee:this.nodes[mu(de&oe-1)].get(S+E,F,X,ee)},cr.prototype.update=function(S,F,X,ee,oe,de,ge){X===void 0&&(X=Ar(ee));var Re=(F===0?X:X>>>F)&R,Ue=1<<Re,qe=this.bitmap,ot=(qe&Ue)!==0;if(!ot&&oe===M)return this;var kt=mu(qe&Ue-1),Ut=this.nodes,ur=ot?Ut[kt]:void 0,mr=Pi(ur,S,F+E,X,ee,oe,de,ge);if(mr===ur)return this;if(!ot&&mr&&Ut.length>=jf)return zm(S,Ut,qe,Re,mr);if(ot&&!mr&&Ut.length===2&&Lf(Ut[kt^1]))return Ut[kt^1];if(ot&&mr&&Ut.length===1&&Lf(mr))return mr;var dn=S&&S===this.ownerID,qo=ot?mr?qe:qe^Ue:qe|Ue,Eo=ot?mr?Xd(Ut,kt,mr,dn):vl(Ut,kt,dn):Zd(Ut,kt,mr,dn);return dn?(this.bitmap=qo,this.nodes=Eo,this):new cr(S,qo,Eo)};function mn(S,F,X){this.ownerID=S,this.count=F,this.nodes=X}mn.prototype.get=function(S,F,X,ee){F===void 0&&(F=Ar(X));var oe=(S===0?F:F>>>S)&R,de=this.nodes[oe];return de?de.get(S+E,F,X,ee):ee},mn.prototype.update=function(S,F,X,ee,oe,de,ge){X===void 0&&(X=Ar(ee));var Re=(F===0?X:X>>>F)&R,Ue=oe===M,qe=this.nodes,ot=qe[Re];if(Ue&&!ot)return this;var kt=Pi(ot,S,F+E,X,ee,oe,de,ge);if(kt===ot)return this;var Ut=this.count;if(!ot)Ut++;else if(!kt&&(Ut--,Ut<yl))return Nf(S,qe,Ut,Re);var ur=S&&S===this.ownerID,mr=Xd(qe,Re,kt,ur);return ur?(this.count=Ut,this.nodes=mr,this):new mn(S,Ut,mr)};function Yr(S,F,X){this.ownerID=S,this.keyHash=F,this.entries=X}Yr.prototype.get=function(S,F,X,ee){for(var oe=this.entries,de=0,ge=oe.length;de<ge;de++)if(at(X,oe[de][0]))return oe[de][1];return ee},Yr.prototype.update=function(S,F,X,ee,oe,de,ge){X===void 0&&(X=Ar(ee));var Re=oe===M;if(X!==this.keyHash)return Re?this:(L(ge),L(de),gu(this,S,F,X,[ee,oe]));for(var Ue=this.entries,qe=0,ot=Ue.length;qe<ot&&!at(ee,Ue[qe][0]);qe++);var kt=qe<ot;if(kt?Ue[qe][1]===oe:Re)return this;if(L(ge),(Re||!kt)&&L(de),Re&&ot===2)return new Hn(S,this.keyHash,Ue[qe^1]);var Ut=S&&S===this.ownerID,ur=Ut?Ue:$(Ue);return kt?Re?qe===ot-1?ur.pop():ur[qe]=ur.pop():ur[qe]=[ee,oe]:ur.push([ee,oe]),Ut?(this.entries=ur,this):new Yr(S,this.keyHash,ur)};function Hn(S,F,X){this.ownerID=S,this.keyHash=F,this.entry=X}Hn.prototype.get=function(S,F,X,ee){return at(X,this.entry[0])?this.entry[1]:ee},Hn.prototype.update=function(S,F,X,ee,oe,de,ge){var Re=oe===M,Ue=at(ee,this.entry[0]);if(Ue?oe===this.entry[1]:Re)return this;if(L(ge),Re){L(de);return}return Ue?S&&S===this.ownerID?(this.entry[1]=oe,this):new Hn(S,this.keyHash,[ee,oe]):(L(de),gu(this,S,F,Ar(ee),[ee,oe]))},Qt.prototype.iterate=Yr.prototype.iterate=function(S,F){for(var X=this.entries,ee=0,oe=X.length-1;ee<=oe;ee++)if(S(X[F?oe-ee:ee])===!1)return!1},cr.prototype.iterate=mn.prototype.iterate=function(S,F){for(var X=this.nodes,ee=0,oe=X.length-1;ee<=oe;ee++){var de=X[F?oe-ee:ee];if(de&&de.iterate(S,F)===!1)return!1}},Hn.prototype.iterate=function(S,F){return S(this.entry)},n(Ii,ue);function Ii(S,F,X){this._type=F,this._reverse=X,this._stack=S._root&&ni(S._root)}Ii.prototype.next=function(){for(var S=this._type,F=this._stack;F;){var X=F.node,ee=F.index++,oe;if(X.entry){if(ee===0)return fs(S,X.entry)}else if(X.entries){if(oe=X.entries.length-1,ee<=oe)return fs(S,X.entries[this._reverse?oe-ee:ee])}else if(oe=X.nodes.length-1,ee<=oe){var de=X.nodes[this._reverse?oe-ee:ee];if(de){if(de.entry)return fs(S,de.entry);F=this._stack=ni(de,F)}continue}F=this._stack=this._stack.__prev}return ye()};function fs(S,F){return ae(S,F[0],F[1])}function ni(S,F){return{node:S,index:0,__prev:F}}function ra(S,F,X,ee){var oe=Object.create(st);return oe.size=S,oe._root=F,oe.__ownerID=X,oe.__hash=ee,oe.__altered=!1,oe}var Pr;function On(){return Pr||(Pr=ra(0))}function oi(S,F,X){var ee,oe;if(S._root){var de=P(I),ge=P(N);if(ee=Pi(S._root,S.__ownerID,0,void 0,F,X,de,ge),!ge.value)return S;oe=S.size+(de.value?X===M?-1:1:0)}else{if(X===M)return S;oe=1,ee=new Qt(S.__ownerID,[[F,X]])}return S.__ownerID?(S.size=oe,S._root=ee,S.__hash=void 0,S.__altered=!0,S):ee?ra(oe,ee):On()}function Pi(S,F,X,ee,oe,de,ge,Re){return S?S.update(F,X,ee,oe,de,ge,Re):de===M?S:(L(Re),L(ge),new Hn(F,ee,[oe,de]))}function Lf(S){return S.constructor===Hn||S.constructor===Yr}function gu(S,F,X,ee,oe){if(S.keyHash===ee)return new Yr(F,ee,[S.entry,oe]);var de=(X===0?S.keyHash:S.keyHash>>>X)&R,ge=(X===0?ee:ee>>>X)&R,Re,Ue=de===ge?[gu(S,F,X+E,ee,oe)]:(Re=new Hn(F,ee,oe),de<ge?[S,Re]:[Re,S]);return new cr(F,1<<de|1<<ge,Ue)}function gi(S,F,X,ee){S||(S=new D);for(var oe=new Hn(S,Ar(X),[X,ee]),de=0;de<F.length;de++){var ge=F[de];oe=oe.update(S,0,void 0,ge[0],ge[1])}return oe}function Nf(S,F,X,ee){for(var oe=0,de=0,ge=new Array(X),Re=0,Ue=1,qe=F.length;Re<qe;Re++,Ue<<=1){var ot=F[Re];ot!==void 0&&Re!==ee&&(oe|=Ue,ge[de++]=ot)}return new cr(S,oe,ge)}function zm(S,F,X,ee,oe){for(var de=0,ge=new Array(T),Re=0;X!==0;Re++,X>>>=1)ge[Re]=X&1?F[de++]:void 0;return ge[ee]=oe,new mn(S,de+1,ge)}function Pa(S,F,X){for(var ee=[],oe=0;oe<X.length;oe++){var de=X[oe],ge=i(de);c(de)||(ge=ge.map(function(Re){return He(Re)})),ee.push(ge)}return Bf(S,F,ee)}function Yd(S,F,X){return S&&S.mergeDeep&&c(F)?S.mergeDeep(F):at(S,F)?S:F}function ic(S){return function(F,X,ee){if(F&&F.mergeDeepWith&&c(X))return F.mergeDeepWith(S,X);var oe=S(F,X,ee);return at(F,oe)?F:oe}}function Bf(S,F,X){return X=X.filter(function(ee){return ee.size!==0}),X.length===0?S:S.size===0&&!S.__ownerID&&X.length===1?S.constructor(X[0]):S.withMutations(function(ee){for(var oe=F?function(ge,Re){ee.update(Re,M,function(Ue){return Ue===M?ge:F(Ue,ge,Re)})}:function(ge,Re){ee.set(Re,ge)},de=0;de<X.length;de++)X[de].forEach(oe)})}function ii(S,F,X,ee){var oe=S===M,de=F.next();if(de.done){var ge=oe?X:S,Re=ee(ge);return Re===ge?S:Re}Ir(oe||S&&S.set,"invalid keyPath");var Ue=de.value,qe=oe?M:S.get(Ue,M),ot=ii(qe,F,X,ee);return ot===qe?S:ot===M?S.remove(Ue):(oe?On():S).set(Ue,ot)}function mu(S){return S=S-(S>>1&1431655765),S=(S&858993459)+(S>>2&858993459),S=S+(S>>4)&252645135,S=S+(S>>8),S=S+(S>>16),S&127}function Xd(S,F,X,ee){var oe=ee?S:$(S);return oe[F]=X,oe}function Zd(S,F,X,ee){var oe=S.length+1;if(ee&&F+1===oe)return S[F]=X,S;for(var de=new Array(oe),ge=0,Re=0;Re<oe;Re++)Re===F?(de[Re]=X,ge=-1):de[Re]=S[Re+ge];return de}function vl(S,F,X){var ee=S.length-1;if(X&&F===ee)return S.pop(),S;for(var oe=new Array(ee),de=0,ge=0;ge<ee;ge++)ge===F&&(de=1),oe[ge]=S[ge+de];return oe}var Ff=T/4,jf=T/2,yl=T/4;n(vn,qr);function vn(S){var F=oa();if(S==null)return F;if(Qd(S))return S;var X=s(S),ee=X.size;return ee===0?F:(Mn(ee),ee>0&&ee<T?ka(0,ee,E,null,new na(X.toArray())):F.withMutations(function(oe){oe.setSize(ee),X.forEach(function(de,ge){return oe.set(ge,de)})}))}vn.of=function(){return this(arguments)},vn.prototype.toString=function(){return this.__toString("List [","]")},vn.prototype.get=function(S,F){if(S=U(this,S),S>=0&&S<this.size){S+=this._origin;var X=eh(this,S);return X&&X.array[S&R]}return F},vn.prototype.set=function(S,F){return bl(this,S,F)},vn.prototype.remove=function(S){return this.has(S)?S===0?this.shift():S===this.size-1?this.pop():this.splice(S,1):this},vn.prototype.insert=function(S,F){return this.splice(S,0,F)},vn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=E,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):oa()},vn.prototype.push=function(){var S=arguments,F=this.size;return this.withMutations(function(X){mi(X,0,F+S.length);for(var ee=0;ee<S.length;ee++)X.set(F+ee,S[ee])})},vn.prototype.pop=function(){return mi(this,0,-1)},vn.prototype.unshift=function(){var S=arguments;return this.withMutations(function(F){mi(F,-S.length);for(var X=0;X<S.length;X++)F.set(X,S[X])})},vn.prototype.shift=function(){return mi(this,1)},vn.prototype.merge=function(){return vi(this,void 0,arguments)},vn.prototype.mergeWith=function(S){var F=r.call(arguments,1);return vi(this,S,F)},vn.prototype.mergeDeep=function(){return vi(this,Yd,arguments)},vn.prototype.mergeDeepWith=function(S){var F=r.call(arguments,1);return vi(this,ic(S),F)},vn.prototype.setSize=function(S){return mi(this,0,S)},vn.prototype.slice=function(S,F){var X=this.size;return W(S,F,X)?this:mi(this,V(S,X),Y(F,X))},vn.prototype.__iterator=function(S,F){var X=0,ee=ac(this,F);return new ue(function(){var oe=ee();return oe===sc?ye():ae(S,X++,oe)})},vn.prototype.__iterate=function(S,F){for(var X=0,ee=ac(this,F),oe;(oe=ee())!==sc&&S(oe,X++,this)!==!1;);return X},vn.prototype.__ensureOwner=function(S){return S===this.__ownerID?this:S?ka(this._origin,this._capacity,this._level,this._root,this._tail,S,this.__hash):(this.__ownerID=S,this)};function Qd(S){return!!(S&&S[Jd])}vn.isList=Qd;var Jd="@@__IMMUTABLE_LIST__@@",wo=vn.prototype;wo[Jd]=!0,wo[C]=wo.remove,wo.setIn=st.setIn,wo.deleteIn=wo.removeIn=st.removeIn,wo.update=st.update,wo.updateIn=st.updateIn,wo.mergeIn=st.mergeIn,wo.mergeDeepIn=st.mergeDeepIn,wo.withMutations=st.withMutations,wo.asMutable=st.asMutable,wo.asImmutable=st.asImmutable,wo.wasAltered=st.wasAltered;function na(S,F){this.array=S,this.ownerID=F}na.prototype.removeBefore=function(S,F,X){if(X===F?1<<F:this.array.length===0)return this;var ee=X>>>F&R;if(ee>=this.array.length)return new na([],S);var oe=ee===0,de;if(F>0){var ge=this.array[ee];if(de=ge&&ge.removeBefore(S,F-E,X),de===ge&&oe)return this}if(oe&&!de)return this;var Re=ia(this,S);if(!oe)for(var Ue=0;Ue<ee;Ue++)Re.array[Ue]=void 0;return de&&(Re.array[ee]=de),Re},na.prototype.removeAfter=function(S,F,X){if(X===(F?1<<F:0)||this.array.length===0)return this;var ee=X-1>>>F&R;if(ee>=this.array.length)return this;var oe;if(F>0){var de=this.array[ee];if(oe=de&&de.removeAfter(S,F-E,X),oe===de&&ee===this.array.length-1)return this}var ge=ia(this,S);return ge.array.splice(ee+1),oe&&(ge.array[ee]=oe),ge};var sc={};function ac(S,F){var X=S._origin,ee=S._capacity,oe=Da(ee),de=S._tail;return ge(S._root,S._level,0);function ge(qe,ot,kt){return ot===0?Re(qe,kt):Ue(qe,ot,kt)}function Re(qe,ot){var kt=ot===oe?de&&de.array:qe&&qe.array,Ut=ot>X?0:X-ot,ur=ee-ot;return ur>T&&(ur=T),function(){if(Ut===ur)return sc;var mr=F?--ur:Ut++;return kt&&kt[mr]}}function Ue(qe,ot,kt){var Ut,ur=qe&&qe.array,mr=kt>X?0:X-kt>>ot,dn=(ee-kt>>ot)+1;return dn>T&&(dn=T),function(){do{if(Ut){var qo=Ut();if(qo!==sc)return qo;Ut=null}if(mr===dn)return sc;var Eo=F?--dn:mr++;Ut=ge(ur&&ur[Eo],ot-E,kt+(Eo<<ot))}while(!0)}}}function ka(S,F,X,ee,oe,de,ge){var Re=Object.create(wo);return Re.size=F-S,Re._origin=S,Re._capacity=F,Re._level=X,Re._root=ee,Re._tail=oe,Re.__ownerID=de,Re.__hash=ge,Re.__altered=!1,Re}var vu;function oa(){return vu||(vu=ka(0,0,E))}function bl(S,F,X){if(F=U(S,F),F!==F)return S;if(F>=S.size||F<0)return S.withMutations(function(ge){F<0?mi(ge,F).set(0,X):mi(ge,0,F+1).set(F,X)});F+=S._origin;var ee=S._tail,oe=S._root,de=P(N);return F>=Da(S._capacity)?ee=yu(ee,S.__ownerID,0,F,X,de):oe=yu(oe,S.__ownerID,S._level,F,X,de),de.value?S.__ownerID?(S._root=oe,S._tail=ee,S.__hash=void 0,S.__altered=!0,S):ka(S._origin,S._capacity,S._level,oe,ee):S}function yu(S,F,X,ee,oe,de){var ge=ee>>>X&R,Re=S&&ge<S.array.length;if(!Re&&oe===void 0)return S;var Ue;if(X>0){var qe=S&&S.array[ge],ot=yu(qe,F,X-E,ee,oe,de);return ot===qe?S:(Ue=ia(S,F),Ue.array[ge]=ot,Ue)}return Re&&S.array[ge]===oe?S:(L(de),Ue=ia(S,F),oe===void 0&&ge===Ue.array.length-1?Ue.array.pop():Ue.array[ge]=oe,Ue)}function ia(S,F){return F&&S&&F===S.ownerID?S:new na(S?S.array.slice():[],F)}function eh(S,F){if(F>=Da(S._capacity))return S._tail;if(F<1<<S._level+E){for(var X=S._root,ee=S._level;X&&ee>0;)X=X.array[F>>>ee&R],ee-=E;return X}}function mi(S,F,X){F!==void 0&&(F=F|0),X!==void 0&&(X=X|0);var ee=S.__ownerID||new D,oe=S._origin,de=S._capacity,ge=oe+F,Re=X===void 0?de:X<0?de+X:oe+X;if(ge===oe&&Re===de)return S;if(ge>=Re)return S.clear();for(var Ue=S._level,qe=S._root,ot=0;ge+ot<0;)qe=new na(qe&&qe.array.length?[void 0,qe]:[],ee),Ue+=E,ot+=1<<Ue;ot&&(ge+=ot,oe+=ot,Re+=ot,de+=ot);for(var kt=Da(de),Ut=Da(Re);Ut>=1<<Ue+E;)qe=new na(qe&&qe.array.length?[qe]:[],ee),Ue+=E;var ur=S._tail,mr=Ut<kt?eh(S,Re-1):Ut>kt?new na([],ee):ur;if(ur&&Ut>kt&&ge<de&&ur.array.length){qe=ia(qe,ee);for(var dn=qe,qo=Ue;qo>E;qo-=E){var Eo=kt>>>qo&R;dn=dn.array[Eo]=ia(dn.array[Eo],ee)}dn.array[kt>>>E&R]=ur}if(Re<de&&(mr=mr&&mr.removeAfter(ee,0,Re)),ge>=Ut)ge-=Ut,Re-=Ut,Ue=E,qe=null,mr=mr&&mr.removeBefore(ee,0,ge);else if(ge>oe||Ut<kt){for(ot=0;qe;){var Ml=ge>>>Ue&R;if(Ml!==Ut>>>Ue&R)break;Ml&&(ot+=(1<<Ue)*Ml),Ue-=E,qe=qe.array[Ml]}qe&&ge>oe&&(qe=qe.removeBefore(ee,Ue,ge-ot)),qe&&Ut<kt&&(qe=qe.removeAfter(ee,Ue,Ut-ot)),ot&&(ge-=ot,Re-=ot)}return S.__ownerID?(S.size=Re-ge,S._origin=ge,S._capacity=Re,S._level=Ue,S._root=qe,S._tail=mr,S.__hash=void 0,S.__altered=!0,S):ka(ge,Re,Ue,qe,mr)}function vi(S,F,X){for(var ee=[],oe=0,de=0;de<X.length;de++){var ge=X[de],Re=s(ge);Re.size>oe&&(oe=Re.size),c(ge)||(Re=Re.map(function(Ue){return He(Ue)})),ee.push(Re)}return oe>S.size&&(S=S.setSize(oe)),Bf(S,F,ee)}function Da(S){return S<T?0:S-1>>>E<<E}n(yn,or);function yn(S){return S==null?uc():ps(S)?S:uc().withMutations(function(F){var X=i(S);Mn(X.size),X.forEach(function(ee,oe){return F.set(oe,ee)})})}yn.of=function(){return this(arguments)},yn.prototype.toString=function(){return this.__toString("OrderedMap {","}")},yn.prototype.get=function(S,F){var X=this._map.get(S);return X!==void 0?this._list.get(X)[1]:F},yn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):uc()},yn.prototype.set=function(S,F){return dc(this,S,F)},yn.prototype.remove=function(S){return dc(this,S,M)},yn.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},yn.prototype.__iterate=function(S,F){var X=this;return this._list.__iterate(function(ee){return ee&&S(ee[1],ee[0],X)},F)},yn.prototype.__iterator=function(S,F){return this._list.fromEntrySeq().__iterator(S,F)},yn.prototype.__ensureOwner=function(S){if(S===this.__ownerID)return this;var F=this._map.__ensureOwner(S),X=this._list.__ensureOwner(S);return S?lc(F,X,S,this.__hash):(this.__ownerID=S,this._map=F,this._list=X,this)};function ps(S){return Xe(S)&&g(S)}yn.isOrderedMap=ps,yn.prototype[v]=!0,yn.prototype[C]=yn.prototype.remove;function lc(S,F,X,ee){var oe=Object.create(yn.prototype);return oe.size=S?S.size:0,oe._map=S,oe._list=F,oe.__ownerID=X,oe.__hash=ee,oe}var cc;function uc(){return cc||(cc=lc(On(),oa()))}function dc(S,F,X){var ee=S._map,oe=S._list,de=ee.get(F),ge=de!==void 0,Re,Ue;if(X===M){if(!ge)return S;oe.size>=T&&oe.size>=ee.size*2?(Ue=oe.filter(function(qe,ot){return qe!==void 0&&de!==ot}),Re=Ue.toKeyedSeq().map(function(qe){return qe[0]}).flip().toMap(),S.__ownerID&&(Re.__ownerID=Ue.__ownerID=S.__ownerID)):(Re=ee.remove(F),Ue=de===oe.size-1?oe.pop():oe.set(de,void 0))}else if(ge){if(X===oe.get(de)[1])return S;Re=ee,Ue=oe.set(de,[F,X])}else Re=ee.set(F,oe.size),Ue=oe.set(oe.size,[F,X]);return S.__ownerID?(S.size=Re.size,S._map=Re,S._list=Ue,S.__hash=void 0,S):lc(Re,Ue)}n(Fo,ke);function Fo(S,F){this._iter=S,this._useKeys=F,this.size=S.size}Fo.prototype.get=function(S,F){return this._iter.get(S,F)},Fo.prototype.has=function(S){return this._iter.has(S)},Fo.prototype.valueSeq=function(){return this._iter.valueSeq()},Fo.prototype.reverse=function(){var S=this,F=wl(this,!0);return this._useKeys||(F.valueSeq=function(){return S._iter.toSeq().reverse()}),F},Fo.prototype.map=function(S,F){var X=this,ee=gs(this,S,F);return this._useKeys||(ee.valueSeq=function(){return X._iter.toSeq().map(S,F)}),ee},Fo.prototype.__iterate=function(S,F){var X=this,ee;return this._iter.__iterate(this._useKeys?function(oe,de){return S(oe,de,X)}:(ee=F?ih(this):0,function(oe){return S(oe,F?--ee:ee++,X)}),F)},Fo.prototype.__iterator=function(S,F){if(this._useKeys)return this._iter.__iterator(S,F);var X=this._iter.__iterator(z,F),ee=F?ih(this):0;return new ue(function(){var oe=X.next();return oe.done?oe:ae(S,F?--ee:ee++,oe.value,oe)})},Fo.prototype[v]=!0,n(Aa,Te);function Aa(S){this._iter=S,this.size=S.size}Aa.prototype.includes=function(S){return this._iter.includes(S)},Aa.prototype.__iterate=function(S,F){var X=this,ee=0;return this._iter.__iterate(function(oe){return S(oe,ee++,X)},F)},Aa.prototype.__iterator=function(S,F){var X=this._iter.__iterator(z,F),ee=0;return new ue(function(){var oe=X.next();return oe.done?oe:ae(S,ee++,oe.value,oe)})},n(to,Ve);function to(S){this._iter=S,this.size=S.size}to.prototype.has=function(S){return this._iter.includes(S)},to.prototype.__iterate=function(S,F){var X=this;return this._iter.__iterate(function(ee){return S(ee,ee,X)},F)},to.prototype.__iterator=function(S,F){var X=this._iter.__iterator(z,F);return new ue(function(){var ee=X.next();return ee.done?ee:ae(S,ee.value,ee.value,ee)})},n(si,ke);function si(S){this._iter=S,this.size=S.size}si.prototype.entrySeq=function(){return this._iter.toSeq()},si.prototype.__iterate=function(S,F){var X=this;return this._iter.__iterate(function(ee){if(ee){oh(ee);var oe=c(ee);return S(oe?ee.get(1):ee[1],oe?ee.get(0):ee[0],X)}},F)},si.prototype.__iterator=function(S,F){var X=this._iter.__iterator(z,F);return new ue(function(){for(;;){var ee=X.next();if(ee.done)return ee;var oe=ee.value;if(oe){oh(oe);var de=c(oe);return ae(S,de?oe.get(0):oe[0],de?oe.get(1):oe[1],ee)}}})},Aa.prototype.cacheResult=Fo.prototype.cacheResult=to.prototype.cacheResult=si.prototype.cacheResult=xl;function hc(S){var F=ki(S);return F._iter=S,F.size=S.size,F.flip=function(){return S},F.reverse=function(){var X=S.reverse.apply(this);return X.flip=function(){return S.reverse()},X},F.has=function(X){return S.includes(X)},F.includes=function(X){return S.has(X)},F.cacheResult=xl,F.__iterateUncached=function(X,ee){var oe=this;return S.__iterate(function(de,ge){return X(ge,de,oe)!==!1},ee)},F.__iteratorUncached=function(X,ee){if(X===K){var oe=S.__iterator(X,ee);return new ue(function(){var de=oe.next();if(!de.done){var ge=de.value[0];de.value[0]=de.value[1],de.value[1]=ge}return de})}return S.__iterator(X===z?re:z,ee)},F}function gs(S,F,X){var ee=ki(S);return ee.size=S.size,ee.has=function(oe){return S.has(oe)},ee.get=function(oe,de){var ge=S.get(oe,M);return ge===M?de:F.call(X,ge,oe,S)},ee.__iterateUncached=function(oe,de){var ge=this;return S.__iterate(function(Re,Ue,qe){return oe(F.call(X,Re,Ue,qe),Ue,ge)!==!1},de)},ee.__iteratorUncached=function(oe,de){var ge=S.__iterator(K,de);return new ue(function(){var Re=ge.next();if(Re.done)return Re;var Ue=Re.value,qe=Ue[0];return ae(oe,qe,F.call(X,Ue[1],qe,S),Re)})},ee}function wl(S,F){var X=ki(S);return X._iter=S,X.size=S.size,X.reverse=function(){return S},S.flip&&(X.flip=function(){var ee=hc(S);return ee.reverse=function(){return S.flip()},ee}),X.get=function(ee,oe){return S.get(F?ee:-1-ee,oe)},X.has=function(ee){return S.has(F?ee:-1-ee)},X.includes=function(ee){return S.includes(ee)},X.cacheResult=xl,X.__iterate=function(ee,oe){var de=this;return S.__iterate(function(ge,Re){return ee(ge,Re,de)},!oe)},X.__iterator=function(ee,oe){return S.__iterator(ee,!oe)},X}function bu(S,F,X,ee){var oe=ki(S);return ee&&(oe.has=function(de){var ge=S.get(de,M);return ge!==M&&!!F.call(X,ge,de,S)},oe.get=function(de,ge){var Re=S.get(de,M);return Re!==M&&F.call(X,Re,de,S)?Re:ge}),oe.__iterateUncached=function(de,ge){var Re=this,Ue=0;return S.__iterate(function(qe,ot,kt){if(F.call(X,qe,ot,kt))return Ue++,de(qe,ee?ot:Ue-1,Re)},ge),Ue},oe.__iteratorUncached=function(de,ge){var Re=S.__iterator(K,ge),Ue=0;return new ue(function(){for(;;){var qe=Re.next();if(qe.done)return qe;var ot=qe.value,kt=ot[0],Ut=ot[1];if(F.call(X,Ut,kt,S))return ae(de,ee?kt:Ue++,Ut,qe)}})},oe}function th(S,F,X){var ee=or().asMutable();return S.__iterate(function(oe,de){ee.update(F.call(X,oe,de,S),0,function(ge){return ge+1})}),ee.asImmutable()}function fc(S,F,X){var ee=d(S),oe=(g(S)?yn():or()).asMutable();S.__iterate(function(ge,Re){oe.update(F.call(X,ge,Re,S),function(Ue){return Ue=Ue||[],Ue.push(ee?[Re,ge]:ge),Ue})});var de=sh(S);return oe.map(function(ge){return Xr(S,de(ge))})}function Sl(S,F,X,ee){var oe=S.size;if(F!==void 0&&(F=F|0),X!==void 0&&(X=X|0),W(F,X,oe))return S;var de=V(F,oe),ge=Y(X,oe);if(de!==de||ge!==ge)return Sl(S.toSeq().cacheResult(),F,X,ee);var Re=ge-de,Ue;Re===Re&&(Ue=Re<0?0:Re);var qe=ki(S);return qe.size=Ue===0?Ue:S.size&&Ue||void 0,!ee&&$e(S)&&Ue>=0&&(qe.get=function(ot,kt){return ot=U(this,ot),ot>=0&&ot<Ue?S.get(ot+de,kt):kt}),qe.__iterateUncached=function(ot,kt){var Ut=this;if(Ue===0)return 0;if(kt)return this.cacheResult().__iterate(ot,kt);var ur=0,mr=!0,dn=0;return S.__iterate(function(qo,Eo){if(!(mr&&(mr=ur++<de)))return dn++,ot(qo,ee?Eo:dn-1,Ut)!==!1&&dn!==Ue}),dn},qe.__iteratorUncached=function(ot,kt){if(Ue!==0&&kt)return this.cacheResult().__iterator(ot,kt);var Ut=Ue!==0&&S.__iterator(ot,kt),ur=0,mr=0;return new ue(function(){for(;ur++<de;)Ut.next();if(++mr>Ue)return ye();var dn=Ut.next();return ee||ot===z?dn:ot===re?ae(ot,mr-1,void 0,dn):ae(ot,mr-1,dn.value[1],dn)})},qe}function Vf(S,F,X){var ee=ki(S);return ee.__iterateUncached=function(oe,de){var ge=this;if(de)return this.cacheResult().__iterate(oe,de);var Re=0;return S.__iterate(function(Ue,qe,ot){return F.call(X,Ue,qe,ot)&&++Re&&oe(Ue,qe,ge)}),Re},ee.__iteratorUncached=function(oe,de){var ge=this;if(de)return this.cacheResult().__iterator(oe,de);var Re=S.__iterator(K,de),Ue=!0;return new ue(function(){if(!Ue)return ye();var qe=Re.next();if(qe.done)return qe;var ot=qe.value,kt=ot[0],Ut=ot[1];return F.call(X,Ut,kt,ge)?oe===K?qe:ae(oe,kt,Ut,qe):(Ue=!1,ye())})},ee}function $f(S,F,X,ee){var oe=ki(S);return oe.__iterateUncached=function(de,ge){var Re=this;if(ge)return this.cacheResult().__iterate(de,ge);var Ue=!0,qe=0;return S.__iterate(function(ot,kt,Ut){if(!(Ue&&(Ue=F.call(X,ot,kt,Ut))))return qe++,de(ot,ee?kt:qe-1,Re)}),qe},oe.__iteratorUncached=function(de,ge){var Re=this;if(ge)return this.cacheResult().__iterator(de,ge);var Ue=S.__iterator(K,ge),qe=!0,ot=0;return new ue(function(){var kt,Ut,ur;do{if(kt=Ue.next(),kt.done)return ee||de===z?kt:de===re?ae(de,ot++,void 0,kt):ae(de,ot++,kt.value[1],kt);var mr=kt.value;Ut=mr[0],ur=mr[1],qe&&(qe=F.call(X,ur,Ut,Re))}while(qe);return de===K?kt:ae(de,Ut,ur,kt)})},oe}function Um(S,F){var X=d(S),ee=[S].concat(F).map(function(ge){return c(ge)?X&&(ge=i(ge)):ge=X?Bt(ge):zt(Array.isArray(ge)?ge:[ge]),ge}).filter(function(ge){return ge.size!==0});if(ee.length===0)return S;if(ee.length===1){var oe=ee[0];if(oe===S||X&&d(oe)||h(S)&&h(oe))return oe}var de=new je(ee);return X?de=de.toKeyedSeq():h(S)||(de=de.toSetSeq()),de=de.flatten(!0),de.size=ee.reduce(function(ge,Re){if(ge!==void 0){var Ue=Re.size;if(Ue!==void 0)return ge+Ue}},0),de}function zf(S,F,X){var ee=ki(S);return ee.__iterateUncached=function(oe,de){var ge=0,Re=!1;function Ue(qe,ot){var kt=this;qe.__iterate(function(Ut,ur){return(!F||ot<F)&&c(Ut)?Ue(Ut,ot+1):oe(Ut,X?ur:ge++,kt)===!1&&(Re=!0),!Re},de)}return Ue(S,0),ge},ee.__iteratorUncached=function(oe,de){var ge=S.__iterator(oe,de),Re=[],Ue=0;return new ue(function(){for(;ge;){var qe=ge.next();if(qe.done!==!1){ge=Re.pop();continue}var ot=qe.value;if(oe===K&&(ot=ot[1]),(!F||Re.length<F)&&c(ot))Re.push(ge),ge=ot.__iterator(oe,de);else return X?qe:ae(oe,Ue++,ot,qe)}return ye()})},ee}function rh(S,F,X){var ee=sh(S);return S.toSeq().map(function(oe,de){return ee(F.call(X,oe,de,S))}).flatten(!0)}function Gm(S,F){var X=ki(S);return X.size=S.size&&S.size*2-1,X.__iterateUncached=function(ee,oe){var de=this,ge=0;return S.__iterate(function(Re,Ue){return(!ge||ee(F,ge++,de)!==!1)&&ee(Re,ge++,de)!==!1},oe),ge},X.__iteratorUncached=function(ee,oe){var de=S.__iterator(z,oe),ge=0,Re;return new ue(function(){return(!Re||ge%2)&&(Re=de.next(),Re.done)?Re:ge%2?ae(ee,ge++,F):ae(ee,ge++,Re.value,Re)})},X}function Cl(S,F,X){F||(F=Uf);var ee=d(S),oe=0,de=S.toSeq().map(function(ge,Re){return[Re,ge,oe++,X?X(ge,Re,S):ge]}).toArray();return de.sort(function(ge,Re){return F(ge[3],Re[3])||ge[2]-Re[2]}).forEach(ee?function(ge,Re){de[Re].length=2}:function(ge,Re){de[Re]=ge[1]}),ee?ke(de):h(S)?Te(de):Ve(de)}function wu(S,F,X){if(F||(F=Uf),X){var ee=S.toSeq().map(function(oe,de){return[oe,X(oe,de,S)]}).reduce(function(oe,de){return nh(F,oe[1],de[1])?de:oe});return ee&&ee[0]}else return S.reduce(function(oe,de){return nh(F,oe,de)?de:oe})}function nh(S,F,X){var ee=S(X,F);return ee===0&&X!==F&&(X==null||X!==X)||ee>0}function Su(S,F,X){var ee=ki(S);return ee.size=new je(X).map(function(oe){return oe.size}).min(),ee.__iterate=function(oe,de){for(var ge=this.__iterator(z,de),Re,Ue=0;!(Re=ge.next()).done&&oe(Re.value,Ue++,this)!==!1;);return Ue},ee.__iteratorUncached=function(oe,de){var ge=X.map(function(qe){return qe=o(qe),he(de?qe.reverse():qe)}),Re=0,Ue=!1;return new ue(function(){var qe;return Ue||(qe=ge.map(function(ot){return ot.next()}),Ue=qe.some(function(ot){return ot.done})),Ue?ye():ae(oe,Re++,F.apply(null,qe.map(function(ot){return ot.value})))})},ee}function Xr(S,F){return $e(S)?F:S.constructor(F)}function oh(S){if(S!==Object(S))throw new TypeError("Expected [K, V] tuple: "+S)}function ih(S){return Mn(S.size),B(S)}function sh(S){return d(S)?i:h(S)?s:a}function ki(S){return Object.create((d(S)?ke:h(S)?Te:Ve).prototype)}function xl(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ee.prototype.cacheResult.call(this)}function Uf(S,F){return S>F?1:S<F?-1:0}function Gf(S){var F=he(S);if(!F){if(!Se(S))throw new TypeError("Expected iterable or array-like: "+S);F=he(o(S))}return F}n(ai,Tn);function ai(S,F){var X,ee=function(ge){if(ge instanceof ee)return ge;if(!(this instanceof ee))return new ee(ge);if(!X){X=!0;var Re=Object.keys(S);Hm(oe,Re),oe.size=Re.length,oe._name=F,oe._keys=Re,oe._defaultValues=S}this._map=or(ge)},oe=ee.prototype=Object.create(ho);return oe.constructor=ee,ee}ai.prototype.toString=function(){return this.__toString(Hf(this)+" {","}")},ai.prototype.has=function(S){return this._defaultValues.hasOwnProperty(S)},ai.prototype.get=function(S,F){if(!this.has(S))return F;var X=this._defaultValues[S];return this._map?this._map.get(S,X):X},ai.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var S=this.constructor;return S._empty||(S._empty=Cu(this,On()))},ai.prototype.set=function(S,F){if(!this.has(S))throw new Error('Cannot set unknown key "'+S+'" on '+Hf(this));var X=this._map&&this._map.set(S,F);return this.__ownerID||X===this._map?this:Cu(this,X)},ai.prototype.remove=function(S){if(!this.has(S))return this;var F=this._map&&this._map.remove(S);return this.__ownerID||F===this._map?this:Cu(this,F)},ai.prototype.wasAltered=function(){return this._map.wasAltered()},ai.prototype.__iterator=function(S,F){var X=this;return i(this._defaultValues).map(function(ee,oe){return X.get(oe)}).__iterator(S,F)},ai.prototype.__iterate=function(S,F){var X=this;return i(this._defaultValues).map(function(ee,oe){return X.get(oe)}).__iterate(S,F)},ai.prototype.__ensureOwner=function(S){if(S===this.__ownerID)return this;var F=this._map&&this._map.__ensureOwner(S);return S?Cu(this,F,S):(this.__ownerID=S,this._map=F,this)};var ho=ai.prototype;ho[C]=ho.remove,ho.deleteIn=ho.removeIn=st.removeIn,ho.merge=st.merge,ho.mergeWith=st.mergeWith,ho.mergeIn=st.mergeIn,ho.mergeDeep=st.mergeDeep,ho.mergeDeepWith=st.mergeDeepWith,ho.mergeDeepIn=st.mergeDeepIn,ho.setIn=st.setIn,ho.update=st.update,ho.updateIn=st.updateIn,ho.withMutations=st.withMutations,ho.asMutable=st.asMutable,ho.asImmutable=st.asImmutable;function Cu(S,F,X){var ee=Object.create(Object.getPrototypeOf(S));return ee._map=F,ee.__ownerID=X,ee}function Hf(S){return S._name||S.constructor.name||"Record"}function Hm(S,F){try{F.forEach(Wm.bind(void 0,S))}catch{}}function Wm(S,F){Object.defineProperty(S,F,{get:function(){return this.get(F)},set:function(X){Ir(this.__ownerID,"Cannot set on an immutable record."),this.set(F,X)}})}n(bn,Bn);function bn(S){return S==null?El():xu(S)&&!g(S)?S:El().withMutations(function(F){var X=a(S);Mn(X.size),X.forEach(function(ee){return F.add(ee)})})}bn.of=function(){return this(arguments)},bn.fromKeys=function(S){return this(i(S).keySeq())},bn.prototype.toString=function(){return this.__toString("Set {","}")},bn.prototype.has=function(S){return this._map.has(S)},bn.prototype.add=function(S){return yi(this,this._map.set(S,!0))},bn.prototype.remove=function(S){return yi(this,this._map.remove(S))},bn.prototype.clear=function(){return yi(this,this._map.clear())},bn.prototype.union=function(){var S=r.call(arguments,0);return S=S.filter(function(F){return F.size!==0}),S.length===0?this:this.size===0&&!this.__ownerID&&S.length===1?this.constructor(S[0]):this.withMutations(function(F){for(var X=0;X<S.length;X++)a(S[X]).forEach(function(ee){return F.add(ee)})})},bn.prototype.intersect=function(){var S=r.call(arguments,0);if(S.length===0)return this;S=S.map(function(X){return a(X)});var F=this;return this.withMutations(function(X){F.forEach(function(ee){S.every(function(oe){return oe.includes(ee)})||X.remove(ee)})})},bn.prototype.subtract=function(){var S=r.call(arguments,0);if(S.length===0)return this;S=S.map(function(X){return a(X)});var F=this;return this.withMutations(function(X){F.forEach(function(ee){S.some(function(oe){return oe.includes(ee)})&&X.remove(ee)})})},bn.prototype.merge=function(){return this.union.apply(this,arguments)},bn.prototype.mergeWith=function(S){var F=r.call(arguments,1);return this.union.apply(this,F)},bn.prototype.sort=function(S){return Wt(Cl(this,S))},bn.prototype.sortBy=function(S,F){return Wt(Cl(this,F,S))},bn.prototype.wasAltered=function(){return this._map.wasAltered()},bn.prototype.__iterate=function(S,F){var X=this;return this._map.__iterate(function(ee,oe){return S(oe,oe,X)},F)},bn.prototype.__iterator=function(S,F){return this._map.map(function(X,ee){return ee}).__iterator(S,F)},bn.prototype.__ensureOwner=function(S){if(S===this.__ownerID)return this;var F=this._map.__ensureOwner(S);return S?this.__make(F,S):(this.__ownerID=S,this._map=F,this)};function xu(S){return!!(S&&S[te])}bn.isSet=xu;var te="@@__IMMUTABLE_SET__@@",_o=bn.prototype;_o[te]=!0,_o[C]=_o.remove,_o.mergeDeep=_o.merge,_o.mergeDeepWith=_o.mergeWith,_o.withMutations=st.withMutations,_o.asMutable=st.asMutable,_o.asImmutable=st.asImmutable,_o.__empty=El,_o.__make=_l;function yi(S,F){return S.__ownerID?(S.size=F.size,S._map=F,S):F===S._map?S:F.size===0?S.__empty():S.__make(F)}function _l(S,F){var X=Object.create(_o);return X.size=S?S.size:0,X._map=S,X.__ownerID=F,X}var Le;function El(){return Le||(Le=_l(On()))}n(Wt,bn);function Wt(S){return S==null?ms():Hi(S)?S:ms().withMutations(function(F){var X=a(S);Mn(X.size),X.forEach(function(ee){return F.add(ee)})})}Wt.of=function(){return this(arguments)},Wt.fromKeys=function(S){return this(i(S).keySeq())},Wt.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Hi(S){return xu(S)&&g(S)}Wt.isOrderedSet=Hi;var pc=Wt.prototype;pc[v]=!0,pc.__empty=ms,pc.__make=wn;function wn(S,F){var X=Object.create(pc);return X.size=S?S.size:0,X._map=S,X.__ownerID=F,X}var _u;function ms(){return _u||(_u=wn(uc()))}n(Qe,qr);function Qe(S){return S==null?Ba():Wf(S)?S:Ba().unshiftAll(S)}Qe.of=function(){return this(arguments)},Qe.prototype.toString=function(){return this.__toString("Stack [","]")},Qe.prototype.get=function(S,F){var X=this._head;for(S=U(this,S);X&&S--;)X=X.next;return X?X.value:F},Qe.prototype.peek=function(){return this._head&&this._head.value},Qe.prototype.push=function(){if(arguments.length===0)return this;for(var S=this.size+arguments.length,F=this._head,X=arguments.length-1;X>=0;X--)F={value:arguments[X],next:F};return this.__ownerID?(this.size=S,this._head=F,this.__hash=void 0,this.__altered=!0,this):Na(S,F)},Qe.prototype.pushAll=function(S){if(S=s(S),S.size===0)return this;Mn(S.size);var F=this.size,X=this._head;return S.reverse().forEach(function(ee){F++,X={value:ee,next:X}}),this.__ownerID?(this.size=F,this._head=X,this.__hash=void 0,this.__altered=!0,this):Na(F,X)},Qe.prototype.pop=function(){return this.slice(1)},Qe.prototype.unshift=function(){return this.push.apply(this,arguments)},Qe.prototype.unshiftAll=function(S){return this.pushAll(S)},Qe.prototype.shift=function(){return this.pop.apply(this,arguments)},Qe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ba()},Qe.prototype.slice=function(S,F){if(W(S,F,this.size))return this;var X=V(S,this.size),ee=Y(F,this.size);if(ee!==this.size)return qr.prototype.slice.call(this,S,F);for(var oe=this.size-X,de=this._head;X--;)de=de.next;return this.__ownerID?(this.size=oe,this._head=de,this.__hash=void 0,this.__altered=!0,this):Na(oe,de)},Qe.prototype.__ensureOwner=function(S){return S===this.__ownerID?this:S?Na(this.size,this._head,S,this.__hash):(this.__ownerID=S,this.__altered=!1,this)},Qe.prototype.__iterate=function(S,F){if(F)return this.reverse().__iterate(S);for(var X=0,ee=this._head;ee&&S(ee.value,X++,this)!==!1;)ee=ee.next;return X},Qe.prototype.__iterator=function(S,F){if(F)return this.reverse().__iterator(S);var X=0,ee=this._head;return new ue(function(){if(ee){var oe=ee.value;return ee=ee.next,ae(S,X++,oe)}return ye()})};function Wf(S){return!!(S&&S[ah])}Qe.isStack=Wf;var ah="@@__IMMUTABLE_STACK__@@",La=Qe.prototype;La[ah]=!0,La.withMutations=st.withMutations,La.asMutable=st.asMutable,La.asImmutable=st.asImmutable,La.wasAltered=st.wasAltered;function Na(S,F,X,ee){var oe=Object.create(La);return oe.size=S,oe._head=F,oe.__ownerID=X,oe.__hash=ee,oe.__altered=!1,oe}var vs;function Ba(){return vs||(vs=Na(0))}function Wi(S,F){var X=function(ee){S.prototype[ee]=F[ee]};return Object.keys(F).forEach(X),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(F).forEach(X),S}o.Iterator=ue,Wi(o,{toArray:function(){Mn(this.size);var S=new Array(this.size||0);return this.valueSeq().__iterate(function(F,X){S[X]=F}),S},toIndexedSeq:function(){return new Aa(this)},toJS:function(){return this.toSeq().map(function(S){return S&&typeof S.toJS=="function"?S.toJS():S}).__toJS()},toJSON:function(){return this.toSeq().map(function(S){return S&&typeof S.toJSON=="function"?S.toJSON():S}).__toJS()},toKeyedSeq:function(){return new Fo(this,!0)},toMap:function(){return or(this.toKeyedSeq())},toObject:function(){Mn(this.size);var S={};return this.__iterate(function(F,X){S[X]=F}),S},toOrderedMap:function(){return yn(this.toKeyedSeq())},toOrderedSet:function(){return Wt(d(this)?this.valueSeq():this)},toSet:function(){return bn(d(this)?this.valueSeq():this)},toSetSeq:function(){return new to(this)},toSeq:function(){return h(this)?this.toIndexedSeq():d(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Qe(d(this)?this.valueSeq():this)},toList:function(){return vn(d(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(S,F){return this.size===0?S+F:S+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+F},concat:function(){var S=r.call(arguments,0);return Xr(this,Um(this,S))},includes:function(S){return this.some(function(F){return at(F,S)})},entries:function(){return this.__iterator(K)},every:function(S,F){Mn(this.size);var X=!0;return this.__iterate(function(ee,oe,de){if(!S.call(F,ee,oe,de))return X=!1,!1}),X},filter:function(S,F){return Xr(this,bu(this,S,F,!0))},find:function(S,F,X){var ee=this.findEntry(S,F);return ee?ee[1]:X},findEntry:function(S,F){var X;return this.__iterate(function(ee,oe,de){if(S.call(F,ee,oe,de))return X=[oe,ee],!1}),X},findLastEntry:function(S,F){return this.toSeq().reverse().findEntry(S,F)},forEach:function(S,F){return Mn(this.size),this.__iterate(F?S.bind(F):S)},join:function(S){Mn(this.size),S=S!==void 0?""+S:",";var F="",X=!0;return this.__iterate(function(ee){X?X=!1:F+=S,F+=ee!=null?ee.toString():""}),F},keys:function(){return this.__iterator(re)},map:function(S,F){return Xr(this,gs(this,S,F))},reduce:function(S,F,X){Mn(this.size);var ee,oe;return arguments.length<2?oe=!0:ee=F,this.__iterate(function(de,ge,Re){oe?(oe=!1,ee=de):ee=S.call(X,ee,de,ge,Re)}),ee},reduceRight:function(S,F,X){var ee=this.toKeyedSeq().reverse();return ee.reduce.apply(ee,arguments)},reverse:function(){return Xr(this,wl(this,!0))},slice:function(S,F){return Xr(this,Sl(this,S,F,!0))},some:function(S,F){return!this.every(Tl(S),F)},sort:function(S){return Xr(this,Cl(this,S))},values:function(){return this.__iterator(z)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(S,F){return B(S?this.toSeq().filter(S,F):this)},countBy:function(S,F){return th(this,S,F)},equals:function(S){return At(this,S)},entrySeq:function(){var S=this;if(S._cache)return new je(S._cache);var F=S.toSeq().map(ys).toIndexedSeq();return F.fromEntrySeq=function(){return S.toSeq()},F},filterNot:function(S,F){return this.filter(Tl(S),F)},findLast:function(S,F,X){return this.toKeyedSeq().reverse().find(S,F,X)},first:function(){return this.find(q)},flatMap:function(S,F){return Xr(this,rh(this,S,F))},flatten:function(S){return Xr(this,zf(this,S,!0))},fromEntrySeq:function(){return new si(this)},get:function(S,F){return this.find(function(X,ee){return at(ee,S)},void 0,F)},getIn:function(S,F){for(var X=this,ee=Gf(S),oe;!(oe=ee.next()).done;){var de=oe.value;if(X=X&&X.get?X.get(de,M):M,X===M)return F}return X},groupBy:function(S,F){return fc(this,S,F)},has:function(S){return this.get(S,M)!==M},hasIn:function(S){return this.getIn(S,M)!==M},isSubset:function(S){return S=typeof S.includes=="function"?S:o(S),this.every(function(F){return S.includes(F)})},isSuperset:function(S){return S=typeof S.isSubset=="function"?S:o(S),S.isSubset(this)},keySeq:function(){return this.toSeq().map(lh).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(S){return wu(this,S)},maxBy:function(S,F){return wu(this,F,S)},min:function(S){return wu(this,S?ch(S):qf)},minBy:function(S,F){return wu(this,F?ch(F):qf,S)},rest:function(){return this.slice(1)},skip:function(S){return this.slice(Math.max(0,S))},skipLast:function(S){return Xr(this,this.toSeq().reverse().skip(S).reverse())},skipWhile:function(S,F){return Xr(this,$f(this,S,F,!0))},skipUntil:function(S,F){return this.skipWhile(Tl(S),F)},sortBy:function(S,F){return Xr(this,Cl(this,F,S))},take:function(S){return this.slice(0,Math.max(0,S))},takeLast:function(S){return Xr(this,this.toSeq().reverse().take(S).reverse())},takeWhile:function(S,F){return Xr(this,Vf(this,S,F))},takeUntil:function(S,F){return this.takeWhile(Tl(S),F)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Km(this))}});var io=o.prototype;io[m]=!0,io[ce]=io.values,io.__toJS=io.toArray,io.__toStringMapper=uh,io.inspect=io.toSource=function(){return this.toString()},io.chain=io.flatMap,io.contains=io.includes,(function(){try{Object.defineProperty(io,"length",{get:function(){if(!o.noLengthWarning){var S;try{throw new Error}catch(F){S=F.stack}if(S.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+S),this.size}}})}catch{}})(),Wi(i,{flip:function(){return Xr(this,hc(this))},findKey:function(S,F){var X=this.findEntry(S,F);return X&&X[0]},findLastKey:function(S,F){return this.toSeq().reverse().findKey(S,F)},keyOf:function(S){return this.findKey(function(F){return at(F,S)})},lastKeyOf:function(S){return this.findLastKey(function(F){return at(F,S)})},mapEntries:function(S,F){var X=this,ee=0;return Xr(this,this.toSeq().map(function(oe,de){return S.call(F,[de,oe],ee++,X)}).fromEntrySeq())},mapKeys:function(S,F){var X=this;return Xr(this,this.toSeq().flip().map(function(ee,oe){return S.call(F,ee,oe,X)}).flip())}});var sa=i.prototype;sa[y]=!0,sa[ce]=io.entries,sa.__toJS=io.toObject,sa.__toStringMapper=function(S,F){return JSON.stringify(F)+": "+uh(S)},Wi(s,{toKeyedSeq:function(){return new Fo(this,!1)},filter:function(S,F){return Xr(this,bu(this,S,F,!1))},findIndex:function(S,F){var X=this.findEntry(S,F);return X?X[0]:-1},indexOf:function(S){var F=this.toKeyedSeq().keyOf(S);return F===void 0?-1:F},lastIndexOf:function(S){var F=this.toKeyedSeq().reverse().keyOf(S);return F===void 0?-1:F},reverse:function(){return Xr(this,wl(this,!1))},slice:function(S,F){return Xr(this,Sl(this,S,F,!1))},splice:function(S,F){var X=arguments.length;if(F=Math.max(F|0,0),X===0||X===2&&!F)return this;S=V(S,S<0?this.count():this.size);var ee=this.slice(0,S);return Xr(this,X===1?ee:ee.concat($(arguments,2),this.slice(S+F)))},findLastIndex:function(S,F){var X=this.toKeyedSeq().findLastKey(S,F);return X===void 0?-1:X},first:function(){return this.get(0)},flatten:function(S){return Xr(this,zf(this,S,!1))},get:function(S,F){return S=U(this,S),S<0||this.size===1/0||this.size!==void 0&&S>this.size?F:this.find(function(X,ee){return ee===S},void 0,F)},has:function(S){return S=U(this,S),S>=0&&(this.size!==void 0?this.size===1/0||S<this.size:this.indexOf(S)!==-1)},interpose:function(S){return Xr(this,Gm(this,S))},interleave:function(){var S=[this].concat($(arguments)),F=Su(this.toSeq(),Te.of,S),X=F.flatten(!0);return F.size&&(X.size=F.size*S.length),Xr(this,X)},last:function(){return this.get(-1)},skipWhile:function(S,F){return Xr(this,$f(this,S,F,!1))},zip:function(){var S=[this].concat($(arguments));return Xr(this,Su(this,Kf,S))},zipWith:function(S){var F=$(arguments);return F[0]=this,Xr(this,Su(this,S,F))}}),s.prototype[b]=!0,s.prototype[v]=!0,Wi(a,{get:function(S,F){return this.has(S)?S:F},includes:function(S){return this.has(S)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=io.includes,Wi(ke,i.prototype),Wi(Te,s.prototype),Wi(Ve,a.prototype),Wi(Tn,i.prototype),Wi(qr,s.prototype),Wi(Bn,a.prototype);function lh(S,F){return F}function ys(S,F){return[F,S]}function Tl(S){return function(){return!S.apply(this,arguments)}}function ch(S){return function(){return-S.apply(this,arguments)}}function uh(S){return typeof S=="string"?JSON.stringify(S):S}function Kf(){return $(arguments)}function qf(S,F){return S<F?1:S>F?-1:0}function Km(S){if(S.size===1/0)return 0;var F=g(S),X=d(S),ee=F?1:0,oe=S.__iterate(X?F?function(de,ge){ee=31*ee+Yf(Ar(de),Ar(ge))|0}:function(de,ge){ee=ee+Yf(Ar(de),Ar(ge))|0}:F?function(de){ee=31*ee+Ar(de)|0}:function(de){ee=ee+Ar(de)|0});return qm(oe,ee)}function qm(S,F){return F=Fn(F,3432918353),F=Fn(F<<15|F>>>-15,461845907),F=Fn(F<<13|F>>>-13,5),F=(F+3864292196|0)^S,F=Fn(F^F>>>16,2246822507),F=Fn(F^F>>>13,3266489909),F=sr(F^F>>>16),F}function Yf(S,F){return S^F+2654435769+(S<<6)+(S>>2)|0}var Ym={Iterable:o,Seq:Ee,Collection:xr,Map:or,OrderedMap:yn,List:vn,Stack:Qe,Set:bn,OrderedSet:Wt,Record:ai,Range:Dr,Repeat:ft,is:at,fromJS:He};return Ym})})(Fy)),Fy.exports}var t_,RN;function ng(){if(RN)return t_;RN=1;var e=Qr(),t=e.OrderedMap,r={createFromArray:function(o){return t(o.map(function(i){return[i.getKey(),i]}))}};return t_=r,t_}var r_,IN;function Ds(){if(IN)return r_;IN=1;function e(f,g){f.prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g}var t=Qr(),r=t.Map,n=t.OrderedSet,o=t.Record,i=n(),s={style:i,entity:null},a=o(s),c=(function(f){e(g,f);function g(){return f.apply(this,arguments)||this}var m=g.prototype;return m.getStyle=function(){return this.get("style")},m.getEntity=function(){return this.get("entity")},m.hasStyle=function(b){return this.getStyle().includes(b)},g.applyStyle=function(b,v){var C=b.set("style",b.getStyle().add(v));return g.create(C)},g.removeStyle=function(b,v){var C=b.set("style",b.getStyle().remove(v));return g.create(C)},g.applyEntity=function(b,v){var C=b.getEntity()===v?b:b.set("entity",v);return g.create(C)},g.create=function(b){if(!b)return d;var v={style:i,entity:null},C=r(v).merge(b),E=h.get(C);if(E)return E;var T=new g(C);return h=h.set(C,T),T},g.fromJS=function(b){var v=b.style,C=b.entity;return new g({style:Array.isArray(v)?n(v):v,entity:Array.isArray(C)?n(C):C})},g})(a),d=new c,h=r([[r(s),d]]);return c.EMPTY=d,r_=c,r_}var n_,PN;function og(){if(PN)return n_;PN=1;function e(t,r,n,o){if(t.size){var i=0;t.reduce(function(s,a,c){return r(s,a)||(n(s)&&o(i,c),i=c),a}),n(t.last())&&o(i,t.count())}}return n_=e,n_}var o_,kN;function ld(){if(kN)return o_;kN=1;function e(v,C){v.prototype=Object.create(C.prototype),v.prototype.constructor=v,v.__proto__=C}var t=Ds(),r=og(),n=Qr(),o=n.List,i=n.Map,s=n.OrderedSet,a=n.Record,c=n.Repeat,d=s(),h={key:"",type:"unstyled",text:"",characterList:o(),depth:0,data:i()},f=a(h),g=function(C){if(!C)return C;var E=C.characterList,T=C.text;return T&&!E&&(C.characterList=o(c(t.EMPTY,T.length))),C},m=(function(v){e(C,v);function C(T){return v.call(this,g(T))||this}var E=C.prototype;return E.getKey=function(){return this.get("key")},E.getType=function(){return this.get("type")},E.getText=function(){return this.get("text")},E.getCharacterList=function(){return this.get("characterList")},E.getLength=function(){return this.getText().length},E.getDepth=function(){return this.get("depth")},E.getData=function(){return this.get("data")},E.getInlineStyleAt=function(R){var M=this.getCharacterList().get(R);return M?M.getStyle():d},E.getEntityAt=function(R){var M=this.getCharacterList().get(R);return M?M.getEntity():null},E.findStyleRanges=function(R,M){r(this.getCharacterList(),y,R,M)},E.findEntityRanges=function(R,M){r(this.getCharacterList(),b,R,M)},C})(f);function y(v,C){return v.getStyle()===C.getStyle()}function b(v,C){return v.getEntity()===C.getEntity()}return o_=m,o_}var i_,DN;function As(){if(DN)return i_;DN=1;function e(b,v){b.prototype=Object.create(v.prototype),b.prototype.constructor=b,b.__proto__=v}var t=Ds(),r=og(),n=Qr(),o=n.List,i=n.Map,s=n.OrderedSet,a=n.Record,c=n.Repeat,d=s(),h={parent:null,characterList:o(),data:i(),depth:0,key:"",text:"",type:"unstyled",children:o(),prevSibling:null,nextSibling:null},f=function(v,C){return v.getStyle()===C.getStyle()},g=function(v,C){return v.getEntity()===C.getEntity()},m=function(v){if(!v)return v;var C=v.characterList,E=v.text;return E&&!C&&(v.characterList=o(c(t.EMPTY,E.length))),v},y=(function(b){e(v,b);function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;return b.call(this,m(E))||this}var C=v.prototype;return C.getKey=function(){return this.get("key")},C.getType=function(){return this.get("type")},C.getText=function(){return this.get("text")},C.getCharacterList=function(){return this.get("characterList")},C.getLength=function(){return this.getText().length},C.getDepth=function(){return this.get("depth")},C.getData=function(){return this.get("data")},C.getInlineStyleAt=function(T){var R=this.getCharacterList().get(T);return R?R.getStyle():d},C.getEntityAt=function(T){var R=this.getCharacterList().get(T);return R?R.getEntity():null},C.getChildKeys=function(){return this.get("children")},C.getParentKey=function(){return this.get("parent")},C.getPrevSiblingKey=function(){return this.get("prevSibling")},C.getNextSiblingKey=function(){return this.get("nextSibling")},C.findStyleRanges=function(T,R){r(this.getCharacterList(),f,T,R)},C.findEntityRanges=function(T,R){r(this.getCharacterList(),g,T,R)},v})(a(h));return i_=y,i_}var s_,AN;function ihe(){if(AN)return s_;AN=1;var e=Ds(),t=Qr(),r=t.Map,n={add:function(s,a,c){return o(s,a,c,!0)},remove:function(s,a,c){return o(s,a,c,!1)}};function o(i,s,a,c){var d=i.getBlockMap(),h=s.getStartKey(),f=s.getStartOffset(),g=s.getEndKey(),m=s.getEndOffset(),y=d.skipUntil(function(b,v){return v===h}).takeUntil(function(b,v){return v===g}).concat(r([[g,d.get(g)]])).map(function(b,v){var C,E;h===g?(C=f,E=m):(C=v===h?f:0,E=v===g?m:b.getLength());for(var T=b.getCharacterList(),R;C<E;)R=T.get(C),T=T.set(C,c?e.applyStyle(R,a):e.removeStyle(R,a)),C++;return b.set("characterList",T)});return i.merge({blockMap:d.merge(y),selectionBefore:s,selectionAfter:s})}return s_=n,s_}var a_,LN;function she(){if(LN)return a_;LN=1;var e=Ds();function t(r,n,o,i){for(var s=n,a=r.getCharacterList();s<o;)a=a.set(s,e.applyEntity(a.get(s),i)),s++;return r.set("characterList",a)}return a_=t,a_}var l_,NN;function ahe(){if(NN)return l_;NN=1;var e=she(),t=Qr();function r(n,o,i){var s=n.getBlockMap(),a=o.getStartKey(),c=o.getStartOffset(),d=o.getEndKey(),h=o.getEndOffset(),f=s.skipUntil(function(g,m){return m===a}).takeUntil(function(g,m){return m===d}).toOrderedMap().merge(t.OrderedMap([[d,s.get(d)]])).map(function(g,m){var y=m===a?c:0,b=m===d?h:g.getLength();return e(g,y,b,i)});return n.merge({blockMap:s.merge(f),selectionBefore:o,selectionAfter:o})}return l_=r,l_}var c_,BN;function lhe(){if(BN)return c_;BN=1;var e={getRemovalRange:function(r,n,o,i,s){var a=o.split(" ");a=a.map(function(C,E){if(s==="forward"){if(E>0)return" "+C}else if(E<a.length-1)return C+" ";return C});for(var c=i,d,h,f=null,g=null,m=0;m<a.length;m++){if(h=a[m],d=c+h.length,r<d&&c<n)f!==null||(f=c),g=d;else if(f!==null)break;c=d}var y=i+o.length,b=f===i,v=g===y;return(!b&&v||b&&!v)&&(s==="forward"?g!==y&&g++:f!==i&&f--),{start:f,end:g}}};return c_=e,c_}var u_,FN;function en(){if(FN)return u_;FN=1;function e(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(!t){var s;if(r===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;s=new Error(r.replace(/%s/g,function(){return String(o[a++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}return u_=e,u_}var d_,jN;function che(){if(jN)return d_;jN=1;var e=en();function t(r,n){var o=[];return r.findEntityRanges(function(i){return i.getEntity()===n},function(i,s){o.push({start:i,end:s})}),o.length||e(!1),o}return d_=t,d_}var h_,VN;function uhe(){if(VN)return h_;VN=1;var e=lhe(),t=che(),r=en();function n(i,s,a,c,d){var h=c.getStartOffset(),f=c.getEndOffset(),g=s.getEntityAt(h),m=a.getEntityAt(f-1);if(!g&&!m)return c;var y=c;if(g&&g===m)y=o(i,s,y,d,g,!0,!0);else if(g&&m){var b=o(i,s,y,d,g,!1,!0),v=o(i,a,y,d,m,!1,!1);y=y.merge({anchorOffset:b.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:!1})}else if(g){var C=o(i,s,y,d,g,!1,!0);y=y.merge({anchorOffset:C.getStartOffset(),isBackward:!1})}else if(m){var E=o(i,a,y,d,m,!1,!1);y=y.merge({focusOffset:E.getEndOffset(),isBackward:!1})}return y}function o(i,s,a,c,d,h,f){var g=a.getStartOffset(),m=a.getEndOffset(),y=i.__get(d),b=y.getMutability(),v=f?g:m;if(b==="MUTABLE")return a;var C=t(s,d).filter(function(R){return v<=R.end&&v>=R.start});C.length!=1&&r(!1);var E=C[0];if(b==="IMMUTABLE")return a.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1});h||(f?m=E.end:g=E.start);var T=e.getRemovalRange(g,m,s.getText().slice(E.start,E.end),E.start,c);return a.merge({anchorOffset:T.start,focusOffset:T.end,isBackward:!1})}return h_=n,h_}var f_,$N;function Qa(){if($N)return f_;$N=1;var e={},t=Math.pow(2,24);function r(){for(var n;n===void 0||e.hasOwnProperty(n)||!isNaN(+n);)n=Math.floor(Math.random()*t).toString(32);return e[n]=!0,n}return f_=r,f_}var p_,zN;function UN(){if(zN)return p_;zN=1;var e=As(),t=Qa(),r=Qr(),n=r.OrderedMap,o=function(c){var d={},h;return n(c.withMutations(function(f){f.forEach(function(g,m){var y=g.getKey(),b=g.getNextSiblingKey(),v=g.getPrevSiblingKey(),C=g.getChildKeys(),E=g.getParentKey(),T=t();if(d[y]=T,b){var R=f.get(b);R?f.setIn([b,"prevSibling"],T):f.setIn([y,"nextSibling"],null)}if(v){var M=f.get(v);M?f.setIn([v,"nextSibling"],T):f.setIn([y,"prevSibling"],null)}if(E&&f.get(E)){var I=f.get(E),N=I.getChildKeys();f.setIn([E,"children"],N.set(N.indexOf(g.getKey()),T))}else f.setIn([y,"parent"],null),h&&(f.setIn([h.getKey(),"nextSibling"],T),f.setIn([y,"prevSibling"],d[h.getKey()])),h=f.get(y);C.forEach(function(P){var L=f.get(P);L?f.setIn([P,"parent"],T):f.setIn([y,"children"],g.getChildKeys().filter(function(D){return D!==P}))})})}).toArray().map(function(f){return[d[f.getKey()],f.set("key",d[f.getKey()])]}))},i=function(c){return n(c.toArray().map(function(d){var h=t();return[h,d.set("key",h)]}))},s=function(c){var d=c.first()instanceof e;return d?o(c):i(c)};return p_=s,p_}var g_,GN;function HN(){if(GN)return g_;GN=1;var e=Ds(),t=og(),r=en();function n(s,a){var c=s.getBlockMap(),d=s.getEntityMap(),h={},f=a.getStartKey(),g=a.getStartOffset(),m=c.get(f),y=i(d,m,g);y!==m&&(h[f]=y);var b=a.getEndKey(),v=a.getEndOffset(),C=c.get(b);f===b&&(C=y);var E=i(d,C,v);return E!==C&&(h[b]=E),Object.keys(h).length?s.merge({blockMap:c.merge(h),selectionAfter:a}):s.set("selectionAfter",a)}function o(s,a,c){var d;return t(s,function(h,f){return h.getEntity()===f.getEntity()},function(h){return h.getEntity()===a},function(h,f){h<=c&&f>=c&&(d={start:h,end:f})}),typeof d!="object"&&r(!1),d}function i(s,a,c){var d=a.getCharacterList(),h=c>0?d.get(c-1):void 0,f=c<d.count()?d.get(c):void 0,g=h?h.getEntity():void 0,m=f?f.getEntity():void 0;if(m&&m===g){var y=s.__get(m);if(y.getMutability()!=="MUTABLE"){for(var b=o(d,m,c),v=b.start,C=b.end,E;v<C;)E=d.get(v),d=d.set(v,e.applyEntity(E,null)),v++;return a.set("characterList",d)}}return a}return g_=n,g_}var m_,WN;function jy(){if(WN)return m_;WN=1;var e=UN(),t=HN(),r=function(o,i){var s=i.getStartKey(),a=i.getStartOffset(),c=i.getEndKey(),d=i.getEndOffset(),h=t(o,i),f=h.getBlockMap(),g=f.keySeq(),m=g.indexOf(s),y=g.indexOf(c)+1;return e(f.slice(m,y).map(function(b,v){var C=b.getText(),E=b.getCharacterList();return s===c?b.merge({text:C.slice(a,d),characterList:E.slice(a,d)}):v===s?b.merge({text:C.slice(a),characterList:E.slice(a)}):v===c?b.merge({text:C.slice(0,d),characterList:E.slice(0,d)}):b}))};return m_=r,m_}var v_,KN;function qN(){if(KN)return v_;KN=1;function e(t,r,n){var o=t;if(n===o.count())r.forEach(function(a){o=o.push(a)});else if(n===0)r.reverse().forEach(function(a){o=o.unshift(a)});else{var i=o.slice(0,n),s=o.slice(n);o=i.concat(r,s).toList()}return o}return v_=e,v_}var y_,YN;function dhe(){if(YN)return y_;YN=1;var e=ng(),t=As(),r=Qr(),n=qN(),o=en(),i=UN(),s=r.List,a=function(b,v,C,E,T,R){var M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",I=C.get(T),N=I.getText(),P=I.getCharacterList(),L=T,D=R+E.getText().length,$=null;switch(M){case"MERGE_OLD_DATA_TO_NEW_DATA":$=E.getData().merge(I.getData());break;case"REPLACE_WITH_NEW_DATA":$=E.getData();break}var B=I.getType();N&&B==="unstyled"&&(B=E.getType());var U=I.merge({text:N.slice(0,R)+E.getText()+N.slice(R),characterList:n(P,E.getCharacterList(),R),type:B,data:$});return b.merge({blockMap:C.set(T,U),selectionBefore:v,selectionAfter:v.merge({anchorKey:L,anchorOffset:D,focusKey:L,focusOffset:D,isBackward:!1})})},c=function(b,v,C){var E=b.getText(),T=b.getCharacterList(),R=E.slice(0,v),M=T.slice(0,v),I=C.first();return b.merge({text:R+I.getText(),characterList:M.concat(I.getCharacterList()),type:R?b.getType():I.getType(),data:I.getData()})},d=function(b,v,C){var E=b.getText(),T=b.getCharacterList(),R=E.length,M=E.slice(v,R),I=T.slice(v,R),N=C.last();return N.merge({text:N.getText()+M,characterList:N.getCharacterList().concat(I),data:N.getData()})},h=function(b,v){var C=b.getKey(),E=b,T=[];for(v.get(C)&&T.push(C);E&&E.getNextSiblingKey();){var R=E.getNextSiblingKey();if(!R)break;T.push(R),E=v.get(R)}return T},f=function(b,v,C,E){return b.withMutations(function(T){var R=C.getKey(),M=E.getKey(),I=C.getNextSiblingKey(),N=C.getParentKey(),P=h(E,b),L=P[P.length-1];if(T.get(M)?(T.setIn([R,"nextSibling"],M),T.setIn([M,"prevSibling"],R)):(T.setIn([R,"nextSibling"],E.getNextSiblingKey()),T.setIn([E.getNextSiblingKey(),"prevSibling"],R)),T.setIn([L,"nextSibling"],I),I&&T.setIn([I,"prevSibling"],L),P.forEach(function(W){return T.setIn([W,"parent"],N)}),N){var D=b.get(N),$=D.getChildKeys(),B=$.indexOf(R),U=B+1,q=$.toArray();q.splice.apply(q,[U,0].concat(P)),T.setIn([N,"children"],s(q))}})},g=function(b,v,C,E,T,R){var M=C.first()instanceof t,I=[],N=E.size,P=C.get(T),L=E.first(),D=E.last(),$=D.getLength(),B=D.getKey(),U=M&&(!P.getChildKeys().isEmpty()||!L.getChildKeys().isEmpty());C.forEach(function(W,V){if(V!==T){I.push(W);return}U?I.push(W):I.push(c(W,R,E)),E.slice(U?0:1,N-1).forEach(function(Y){return I.push(Y)}),I.push(d(W,R,E))});var q=e.createFromArray(I);return M&&(q=f(q,C,P,L)),b.merge({blockMap:q,selectionBefore:v,selectionAfter:v.merge({anchorKey:B,anchorOffset:$,focusKey:B,focusOffset:$,isBackward:!1})})},m=function(b,v,C){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";v.isCollapsed()||o(!1);var T=b.getBlockMap(),R=i(C),M=v.getStartKey(),I=v.getStartOffset(),N=T.get(M);return N instanceof t&&(N.getChildKeys().isEmpty()||o(!1)),R.size===1?a(b,v,T,R.first(),M,I,E):g(b,v,T,R,M,I)};return y_=m,y_}var b_,XN;function hhe(){if(XN)return b_;XN=1;var e=Qr(),t=qN(),r=en(),n=e.Repeat;function o(i,s,a,c){s.isCollapsed()||r(!1);var d=null;if(a!=null&&(d=a.length),d==null||d===0)return i;var h=i.getBlockMap(),f=s.getStartKey(),g=s.getStartOffset(),m=h.get(f),y=m.getText(),b=m.merge({text:y.slice(0,g)+a+y.slice(g,m.getLength()),characterList:t(m.getCharacterList(),n(c,d).toList(),g)}),v=g+d;return i.merge({blockMap:h.set(f,b),selectionAfter:s.merge({anchorOffset:v,focusOffset:v})})}return b_=o,b_}var w_,ZN;function QN(){if(ZN)return w_;ZN=1;var e=Qr(),t=e.Map;function r(n,o,i){var s=o.getStartKey(),a=o.getEndKey(),c=n.getBlockMap(),d=c.toSeq().skipUntil(function(h,f){return f===s}).takeUntil(function(h,f){return f===a}).concat(t([[a,c.get(a)]])).map(i);return n.merge({blockMap:c.merge(d),selectionBefore:o,selectionAfter:o})}return w_=r,w_}var S_,JN;function eB(){if(JN)return S_;JN=1;var e=As(),t=function(n,o){var i=n instanceof e;if(!i)return null;var s=n.getNextSiblingKey();if(s)return s;var a=n.getParentKey();if(!a)return null;for(var c=o.get(a);c&&!c.getNextSiblingKey();){var d=c.getParentKey();c=d?o.get(d):null}return c?c.getNextSiblingKey():null};return S_=t,S_}var C_,tB;function fhe(){if(tB)return C_;tB=1;var e=As(),t=eB(),r=Qr();r.List;var n=r.Map,o=function(m,y,b){if(m){var v=y.get(m);v&&y.set(m,b(v))}},i=function(m,y){var b=[];if(!m)return b;for(var v=y.get(m);v&&v.getParentKey();){var C=v.getParentKey();C&&b.push(C),v=C?y.get(C):null}return b},s=function(m,y){var b=[];if(!m)return b;for(var v=t(m,y);v&&y.get(v);){var C=y.get(v);b.push(v),v=C.getParentKey()?t(C,y):null}return b},a=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getNextSiblingKey();v&&!y.get(v);)v=b.get(v).getNextSiblingKey()||null;return v},c=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getPrevSiblingKey();v&&!y.get(v);)v=b.get(v).getPrevSiblingKey()||null;return v},d=function(m,y,b,v){return m.withMutations(function(C){if(o(y.getKey(),C,function(I){return I.merge({nextSibling:a(I,C,v),prevSibling:c(I,C,v)})}),o(b.getKey(),C,function(I){return I.merge({nextSibling:a(I,C,v),prevSibling:c(I,C,v)})}),i(y.getKey(),v).forEach(function(I){return o(I,C,function(N){return N.merge({children:N.getChildKeys().filter(function(P){return C.get(P)}),nextSibling:a(N,C,v),prevSibling:c(N,C,v)})})}),o(y.getNextSiblingKey(),C,function(I){return I.merge({prevSibling:y.getPrevSiblingKey()})}),o(y.getPrevSiblingKey(),C,function(I){return I.merge({nextSibling:a(I,C,v)})}),o(b.getNextSiblingKey(),C,function(I){return I.merge({prevSibling:c(I,C,v)})}),o(b.getPrevSiblingKey(),C,function(I){return I.merge({nextSibling:b.getNextSiblingKey()})}),i(b.getKey(),v).forEach(function(I){o(I,C,function(N){return N.merge({children:N.getChildKeys().filter(function(P){return C.get(P)}),nextSibling:a(N,C,v),prevSibling:c(N,C,v)})})}),s(b,v).forEach(function(I){return o(I,C,function(N){return N.merge({nextSibling:a(N,C,v),prevSibling:c(N,C,v)})})}),m.get(y.getKey())==null&&m.get(b.getKey())!=null&&b.getParentKey()===y.getKey()&&b.getPrevSiblingKey()==null){var E=y.getPrevSiblingKey();o(b.getKey(),C,function(I){return I.merge({prevSibling:E})}),o(E,C,function(I){return I.merge({nextSibling:b.getKey()})});var T=E?m.get(E):null,R=T?T.getParentKey():null;if(y.getChildKeys().forEach(function(I){o(I,C,function(N){return N.merge({parent:R})})}),R!=null){var M=m.get(R);o(R,C,function(I){return I.merge({children:M.getChildKeys().concat(y.getChildKeys())})})}o(y.getChildKeys().find(function(I){var N=m.get(I);return N.getNextSiblingKey()===null}),C,function(I){return I.merge({nextSibling:y.getNextSiblingKey()})})}})},h=function(m,y){if(y.isCollapsed())return m;var b=m.getBlockMap(),v=y.getStartKey(),C=y.getStartOffset(),E=y.getEndKey(),T=y.getEndOffset(),R=b.get(v),M=b.get(E),I=R instanceof e,N=[];if(I){var P=M.getChildKeys(),L=i(E,b);M.getNextSiblingKey()&&(N=N.concat(L)),P.isEmpty()||(N=N.concat(L.concat([E]))),N=N.concat(i(t(M,b),b))}var D;R===M?D=f(R.getCharacterList(),C,T):D=R.getCharacterList().slice(0,C).concat(M.getCharacterList().slice(T));var $=R.merge({text:R.getText().slice(0,C)+M.getText().slice(T),characterList:D}),B=I&&C===0&&T===0&&M.getParentKey()===v&&M.getPrevSiblingKey()==null,U=B?n([[v,null]]):b.toSeq().skipUntil(function(W,V){return V===v}).takeUntil(function(W,V){return V===E}).filter(function(W,V){return N.indexOf(V)===-1}).concat(n([[E,null]])).map(function(W,V){return V===v?$:null}),q=b.merge(U).filter(function(W){return!!W});return I&&R!==M&&(q=d(q,R,M,b)),m.merge({blockMap:q,selectionBefore:y,selectionAfter:y.merge({anchorKey:v,anchorOffset:C,focusKey:v,focusOffset:C,isBackward:!1})})},f=function(m,y,b){if(y===0)for(;y<b;)m=m.shift(),y++;else if(b===m.count())for(;b>y;)m=m.pop(),b--;else{var v=m.slice(0,y),C=m.slice(b);m=v.concat(C).toList()}return m};return C_=h,C_}var x_,rB;function phe(){if(rB)return x_;rB=1;var e=As(),t=Qa(),r=Qr(),n=en(),o=QN(),i=r.List,s=r.Map,a=function(f,g,m){if(f){var y=g.get(f);y&&g.set(f,m(y))}},c=function(f,g,m){return f.withMutations(function(y){var b=g.getKey(),v=m.getKey();a(g.getParentKey(),y,function(C){var E=C.getChildKeys(),T=E.indexOf(b)+1,R=E.toArray();return R.splice(T,0,v),C.merge({children:i(R)})}),a(g.getNextSiblingKey(),y,function(C){return C.merge({prevSibling:v})}),a(b,y,function(C){return C.merge({nextSibling:v})}),a(v,y,function(C){return C.merge({prevSibling:b})})})},d=function(f,g){g.isCollapsed()||n(!1);var m=g.getAnchorKey(),y=f.getBlockMap(),b=y.get(m),v=b.getText();if(!v){var C=b.getType();if(C==="unordered-list-item"||C==="ordered-list-item")return o(f,g,function($){return $.merge({type:"unstyled",depth:0})})}var E=g.getAnchorOffset(),T=b.getCharacterList(),R=t(),M=b instanceof e,I=b.merge({text:v.slice(0,E),characterList:T.slice(0,E)}),N=I.merge({key:R,text:v.slice(E),characterList:T.slice(E),data:s()}),P=y.toSeq().takeUntil(function($){return $===b}),L=y.toSeq().skipUntil(function($){return $===b}).rest(),D=P.concat([[m,I],[R,N]],L).toOrderedMap();return M&&(b.getChildKeys().isEmpty()||n(!1),D=c(D,I,N)),f.merge({blockMap:D,selectionBefore:g,selectionAfter:g.merge({anchorKey:R,anchorOffset:0,focusKey:R,focusOffset:0,isBackward:!1})})};return x_=d,x_}var __,nB;function Ai(){if(nB)return __;nB=1;var e=Ds(),t=ihe(),r=ahe(),n=uhe(),o=jy(),i=Qr(),s=dhe(),a=hhe(),c=en(),d=QN(),h=HN(),f=fhe(),g=phe(),m=i.OrderedSet,y={replaceText:function(v,C,E,T,R){var M=h(v,C),I=f(M,C),N=e.create({style:T||m(),entity:R||null});return a(I,I.getSelectionAfter(),E,N)},insertText:function(v,C,E,T,R){return C.isCollapsed()||c(!1),y.replaceText(v,C,E,T,R)},moveText:function(v,C,E){var T=o(v,C),R=y.removeRange(v,C,"backward");return y.replaceWithFragment(R,E,T)},replaceWithFragment:function(v,C,E){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",R=h(v,C),M=f(R,C);return s(M,M.getSelectionAfter(),E,T)},removeRange:function(v,C,E){var T,R,M,I;C.getIsBackward()&&(C=C.merge({anchorKey:C.getFocusKey(),anchorOffset:C.getFocusOffset(),focusKey:C.getAnchorKey(),focusOffset:C.getAnchorOffset(),isBackward:!1})),T=C.getAnchorKey(),R=C.getFocusKey(),M=v.getBlockForKey(T),I=v.getBlockForKey(R);var N=C.getStartOffset(),P=C.getEndOffset(),L=M.getEntityAt(N),D=I.getEntityAt(P-1);if(T===R&&L&&L===D){var $=n(v.getEntityMap(),M,I,C,E);return f(v,$)}var B=h(v,C);return f(B,C)},splitBlock:function(v,C){var E=h(v,C),T=f(E,C);return g(T,T.getSelectionAfter())},applyInlineStyle:function(v,C,E){return t.add(v,C,E)},removeInlineStyle:function(v,C,E){return t.remove(v,C,E)},setBlockType:function(v,C,E){return d(v,C,function(T){return T.merge({type:E,depth:0})})},setBlockData:function(v,C,E){return d(v,C,function(T){return T.merge({data:E})})},mergeBlockData:function(v,C,E){return d(v,C,function(T){return T.merge({data:T.getData().merge(E)})})},applyEntity:function(v,C,E){var T=h(v,C);return r(T,C,E)}};return __=y,__}var E_,oB;function iB(){if(oB)return E_;oB=1;function e(t){return Object.keys(t).map(function(r){return t[r]})}return E_=e,E_}var T_,sB;function ghe(){if(sB)return T_;sB=1;function e(C){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(C,M,T[M])})}return C}function t(C,E,T){return E in C?Object.defineProperty(C,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[E]=T,C}function r(C,E){if(C==null)return{};var T={},R=Object.keys(C),M,I;for(I=0;I<R.length;I++)M=R[I],!(E.indexOf(M)>=0)&&(T[M]=C[M]);return T}var n=og(),o=iB(),i=Qr(),s=i.List,a=i.Repeat,c=i.Record,d=function(){return!0},h={start:null,end:null},f=c(h),g={start:null,end:null,decoratorKey:null,leaves:null},m=c(g),y={generate:function(E,T,R){var M=T.getLength();if(!M)return s.of(new m({start:0,end:0,decoratorKey:null,leaves:s.of(new f({start:0,end:0}))}));var I=[],N=R?R.getDecorations(T,E):s(a(null,M)),P=T.getCharacterList();return n(N,v,d,function(L,D){I.push(new m({start:L,end:D,decoratorKey:N.get(L),leaves:b(P.slice(L,D).toList(),L)}))}),s(I)},fromJS:function(E){var T=E.leaves,R=r(E,["leaves"]);return new m(e({},R,{leaves:T!=null?s(Array.isArray(T)?T:o(T)).map(function(M){return f(M)}):null}))}};function b(C,E){var T=[],R=C.map(function(M){return M.getStyle()}).toList();return n(R,v,d,function(M,I){T.push(new f({start:M+E,end:I+E}))}),s(T)}function v(C,E){return C===E}return T_=y,T_}var M_,aB;function lB(){if(aB)return M_;aB=1;function e(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.__proto__=s}var t=Qr(),r=t.Record,n=r({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),o=(function(i){e(s,i);function s(){return i.apply(this,arguments)||this}var a=s.prototype;return a.getType=function(){return this.get("type")},a.getMutability=function(){return this.get("mutability")},a.getData=function(){return this.get("data")},s})(n);return M_=o,M_}var O_,cB;function mhe(){if(cB)return O_;cB=1;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=Math.random()*16|0,n=t=="x"?r:r&3|8;return n.toString(16)})}return O_=e,O_}var R_,uB;function Vy(){if(uB)return R_;uB=1;function e(f){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{},y=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(m).filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable}))),y.forEach(function(b){t(f,b,m[b])})}return f}function t(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var r=lB(),n=Qr(),o=en(),i=mhe(),s=n.Map,a=s(),c=i();function d(f,g){console.warn("WARNING: "+f+` will be deprecated soon!
Please use "`+g+'" instead.')}var h={getLastCreatedEntityKey:function(){return d("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),h.__getLastCreatedEntityKey()},create:function(g,m,y){return d("DraftEntity.create","contentState.createEntity"),h.__create(g,m,y)},add:function(g){return d("DraftEntity.add","contentState.addEntity"),h.__add(g)},get:function(g){return d("DraftEntity.get","contentState.getEntity"),h.__get(g)},__getAll:function(){return a},__loadWithEntities:function(g){a=g,c=i()},mergeData:function(g,m){return d("DraftEntity.mergeData","contentState.mergeEntityData"),h.__mergeData(g,m)},replaceData:function(g,m){return d("DraftEntity.replaceData","contentState.replaceEntityData"),h.__replaceData(g,m)},__getLastCreatedEntityKey:function(){return c},__create:function(g,m,y){return h.__add(new r({type:g,mutability:m,data:y||{}}))},__add:function(g){return c=i(),a=a.set(c,g),c},__get:function(g){var m=a.get(g);return m||o(!1),m},__mergeData:function(g,m){var y=h.__get(g),b=e({},y.getData(),m),v=y.set("data",b);return a=a.set(g,v),v},__replaceData:function(g,m){var y=h.__get(g),b=y.set("data",m);return a=a.set(g,b),b}};return R_=h,R_}var I_,dB;function $y(){if(dB)return I_;dB=1;function e(s,a){s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a}var t=Qr(),r=t.Record,n={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},o=r(n),i=(function(s){e(a,s);function a(){return s.apply(this,arguments)||this}var c=a.prototype;return c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},c.getAnchorKey=function(){return this.get("anchorKey")},c.getAnchorOffset=function(){return this.get("anchorOffset")},c.getFocusKey=function(){return this.get("focusKey")},c.getFocusOffset=function(){return this.get("focusOffset")},c.getIsBackward=function(){return this.get("isBackward")},c.getHasFocus=function(){return this.get("hasFocus")},c.hasEdgeWithin=function(h,f,g){var m=this.getAnchorKey(),y=this.getFocusKey();if(m===y&&m===h){var b=this.getStartOffset(),v=this.getEndOffset();return f<=b&&b<=g||f<=v&&v<=g}if(h!==m&&h!==y)return!1;var C=h===m?this.getAnchorOffset():this.getFocusOffset();return f<=C&&g>=C},c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},a.createEmpty=function(h){return new a({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1,hasFocus:!1})},a})(o);return I_=i,I_}var P_,hB;function Fc(){return hB||(hB=1,P_=function(e){return typeof window<"u"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1}),P_}var k_,fB;function pB(){if(fB)return k_;fB=1;var e=new RegExp("\r","g");function t(r){return r.replace(e,"")}return k_=t,k_}var D_,gB;function A_(){if(gB)return D_;gB=1;function e(N){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{},D=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),D.forEach(function($){t(N,$,L[$])})}return N}function t(N,P,L){return P in N?Object.defineProperty(N,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[P]=L,N}function r(N,P){N.prototype=Object.create(P.prototype),N.prototype.constructor=N,N.__proto__=P}var n=ng(),o=Ds(),i=ld(),s=As(),a=Vy(),c=$y(),d=Qa(),h=iB(),f=Fc(),g=Qr(),m=pB(),y=g.List,b=g.Record,v=g.Repeat,C=g.Map,E=g.OrderedMap,T={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},R=b(T),M=f("draft_tree_data_support")?s:i,I=(function(N){r(P,N);function P(){return N.apply(this,arguments)||this}var L=P.prototype;return L.getEntityMap=function(){return a},L.getBlockMap=function(){return this.get("blockMap")},L.getSelectionBefore=function(){return this.get("selectionBefore")},L.getSelectionAfter=function(){return this.get("selectionAfter")},L.getBlockForKey=function($){var B=this.getBlockMap().get($);return B},L.getKeyBefore=function($){return this.getBlockMap().reverse().keySeq().skipUntil(function(B){return B===$}).skip(1).first()},L.getKeyAfter=function($){return this.getBlockMap().keySeq().skipUntil(function(B){return B===$}).skip(1).first()},L.getBlockAfter=function($){return this.getBlockMap().skipUntil(function(B,U){return U===$}).skip(1).first()},L.getBlockBefore=function($){return this.getBlockMap().reverse().skipUntil(function(B,U){return U===$}).skip(1).first()},L.getBlocksAsArray=function(){return this.getBlockMap().toArray()},L.getFirstBlock=function(){return this.getBlockMap().first()},L.getLastBlock=function(){return this.getBlockMap().last()},L.getPlainText=function($){return this.getBlockMap().map(function(B){return B?B.getText():""}).join($||`
`)},L.getLastCreatedEntityKey=function(){return a.__getLastCreatedEntityKey()},L.hasText=function(){var $=this.getBlockMap();return $.size>1||escape($.first().getText()).replace(/%u200B/g,"").length>0},L.createEntity=function($,B,U){return a.__create($,B,U),this},L.mergeEntityData=function($,B){return a.__mergeData($,B),this},L.replaceEntityData=function($,B){return a.__replaceData($,B),this},L.addEntity=function($){return a.__add($),this},L.getEntity=function($){return a.__get($)},L.getAllEntities=function(){return a.__getAll()},L.loadWithEntities=function($){return a.__loadWithEntities($)},P.createFromBlockArray=function($,B){var U=Array.isArray($)?$:$.contentBlocks,q=n.createFromArray(U),W=q.isEmpty()?new c:c.createEmpty(q.first().getKey());return new P({blockMap:q,entityMap:B||a,selectionBefore:W,selectionAfter:W})},P.createFromText=function($){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,U=$.split(B),q=U.map(function(W){return W=m(W),new M({key:d(),text:W,type:"unstyled",characterList:y(v(o.EMPTY,W.length))})});return P.createFromBlockArray(q)},P.fromJS=function($){return new P(e({},$,{blockMap:E($.blockMap).map(P.createContentBlockFromJS),selectionBefore:new c($.selectionBefore),selectionAfter:new c($.selectionAfter)}))},P.createContentBlockFromJS=function($){var B=$.characterList;return new M(e({},$,{data:C($.data),characterList:B!=null?y((Array.isArray(B)?B:h(B)).map(function(U){return o.fromJS(U)})):void 0}))},P})(R);return D_=I,D_}var L_,mB;function zy(){if(mB)return L_;mB=1;var e=en(),t="NEUTRAL",r="LTR",n="RTL",o=null;function i(g){return g===r||g===n}function s(g){return i(g)||e(!1),g===r?"ltr":"rtl"}function a(g,m){return i(g)||e(!1),i(m)||e(!1),g===m?null:s(g)}function c(g){o=g}function d(){c(r)}function h(){return o||this.initGlobalDir(),o||e(!1),o}var f={NEUTRAL:t,LTR:r,RTL:n,isStrong:i,getHTMLDir:s,getHTMLDirIfDifferent:a,setGlobalDir:c,initGlobalDir:d,getGlobalDir:h};return L_=f,L_}var N_,vB;function B_(){if(vB)return N_;vB=1;var e=zy(),t=en(),r={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},n=new RegExp("["+r.L+r.R+r.AL+"]"),o=new RegExp("["+r.R+r.AL+"]");function i(g){var m=n.exec(g);return m==null?null:m[0]}function s(g){var m=i(g);return m==null?e.NEUTRAL:o.exec(m)?e.RTL:e.LTR}function a(g,m){if(m=m||e.NEUTRAL,!g.length)return m;var y=s(g);return y===e.NEUTRAL?m:y}function c(g,m){return m||(m=e.getGlobalDir()),e.isStrong(m)||t(!1),a(g,m)}function d(g,m){return c(g,m)===e.LTR}function h(g,m){return c(g,m)===e.RTL}var f={firstStrongChar:i,firstStrongCharDir:s,resolveBlockDir:a,getDirection:c,isDirectionLTR:d,isDirectionRTL:h};return N_=f,N_}var F_,yB;function vhe(){if(yB)return F_;yB=1;function e(i,s,a){return s in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}var t=B_(),r=zy(),n=en(),o=(function(){function i(a){e(this,"_defaultDir",void 0),e(this,"_lastDir",void 0),a?r.isStrong(a)||n(!1):a=r.getGlobalDir(),this._defaultDir=a,this.reset()}var s=i.prototype;return s.reset=function(){this._lastDir=this._defaultDir},s.getDirection=function(c){return this._lastDir=t.getDirection(c,this._lastDir),this._lastDir},i})();return F_=o,F_}var j_,bB;function Li(){if(bB)return j_;bB=1;var e=function(r){if(r!=null)return r;throw new Error("Got unexpected null or undefined")};return j_=e,j_}var V_,wB;function yhe(){if(wB)return V_;wB=1;var e=vhe(),t=Qr(),r=Li(),n=t.OrderedMap,o,i={getDirectionMap:function(a,c){o?o.reset():o=new e;var d=a.getBlockMap(),h=d.valueSeq().map(function(g){return r(o).getDirection(g.getText())}),f=n(d.keySeq().zip(h));return c!=null&&t.is(c,f)?c:f}};return V_=i,V_}var $_,SB;function Nn(){if(SB)return $_;SB=1;function e(N){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{},D=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),D.forEach(function($){t(N,$,L[$])})}return N}function t(N,P,L){return P in N?Object.defineProperty(N,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[P]=L,N}var r=ghe(),n=A_(),o=yhe(),i=$y(),s=Qr(),a=s.OrderedSet,c=s.Record,d=s.Stack,h=s.OrderedMap,f=s.List,g={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:d(),selection:null,treeMap:null,undoStack:d()},m=c(g),y=(function(){P.createEmpty=function(D){return this.createWithText("",D)},P.createWithText=function(D,$){return P.createWithContent(n.createFromText(D),$)},P.createWithContent=function(D,$){if(D.getBlockMap().count()===0)return P.createEmpty($);var B=D.getBlockMap().first().getKey();return P.create({currentContent:D,undoStack:d(),redoStack:d(),decorator:$||null,selection:i.createEmpty(B)})},P.create=function(D){var $=D.currentContent,B=D.decorator,U=e({},D,{treeMap:v($,B),directionMap:o.getDirectionMap($)});return new P(new m(U))},P.fromJS=function(D){return new P(new m(e({},D,{directionMap:D.directionMap!=null?h(D.directionMap):D.directionMap,inlineStyleOverride:D.inlineStyleOverride!=null?a(D.inlineStyleOverride):D.inlineStyleOverride,nativelyRenderedContent:D.nativelyRenderedContent!=null?n.fromJS(D.nativelyRenderedContent):D.nativelyRenderedContent,redoStack:D.redoStack!=null?d(D.redoStack.map(function($){return n.fromJS($)})):D.redoStack,selection:D.selection!=null?new i(D.selection):D.selection,treeMap:D.treeMap!=null?h(D.treeMap).map(function($){return f($).map(function(B){return r.fromJS(B)})}):D.treeMap,undoStack:D.undoStack!=null?d(D.undoStack.map(function($){return n.fromJS($)})):D.undoStack,currentContent:n.fromJS(D.currentContent)})))},P.set=function(D,$){var B=D.getImmutable().withMutations(function(U){var q=U.get("decorator"),W=q;$.decorator===null?W=null:$.decorator&&(W=$.decorator);var V=$.currentContent||D.getCurrentContent();if(W!==q){var Y=U.get("treeMap"),Q;W&&q?Q=E(V,V.getBlockMap(),Y,W,q):Q=v(V,W),U.merge({decorator:W,treeMap:Q,nativelyRenderedContent:null});return}var re=D.getCurrentContent();V!==re&&U.set("treeMap",C(D,V.getBlockMap(),V.getEntityMap(),W)),U.merge($)});return new P(B)};var N=P.prototype;N.toJS=function(){return this.getImmutable().toJS()},N.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},N.getCurrentContent=function(){return this.getImmutable().get("currentContent")},N.getUndoStack=function(){return this.getImmutable().get("undoStack")},N.getRedoStack=function(){return this.getImmutable().get("redoStack")},N.getSelection=function(){return this.getImmutable().get("selection")},N.getDecorator=function(){return this.getImmutable().get("decorator")},N.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},N.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},N.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},N.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},N.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},P.setInlineStyleOverride=function(D,$){return P.set(D,{inlineStyleOverride:$})},N.getCurrentInlineStyle=function(){var D=this.getInlineStyleOverride();if(D!=null)return D;var $=this.getCurrentContent(),B=this.getSelection();return B.isCollapsed()?R($,B):M($,B)},N.getBlockTree=function(D){return this.getImmutable().getIn(["treeMap",D])},N.isSelectionAtStartOfContent=function(){var D=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(D,0,0)},N.isSelectionAtEndOfContent=function(){var D=this.getCurrentContent(),$=D.getBlockMap(),B=$.last(),U=B.getLength();return this.getSelection().hasEdgeWithin(B.getKey(),U,U)},N.getDirectionMap=function(){return this.getImmutable().get("directionMap")},P.acceptSelection=function(D,$){return b(D,$,!1)},P.forceSelection=function(D,$){return $.getHasFocus()||($=$.set("hasFocus",!0)),b(D,$,!0)},P.moveSelectionToEnd=function(D){var $=D.getCurrentContent(),B=$.getLastBlock(),U=B.getKey(),q=B.getLength();return P.acceptSelection(D,new i({anchorKey:U,anchorOffset:q,focusKey:U,focusOffset:q,isBackward:!1}))},P.moveFocusToEnd=function(D){var $=P.moveSelectionToEnd(D);return P.forceSelection($,$.getSelection())},P.push=function(D,$,B){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(D.getCurrentContent()===$)return D;var q=o.getDirectionMap($,D.getDirectionMap());if(!D.getAllowUndo())return P.set(D,{currentContent:$,directionMap:q,lastChangeType:B,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:null});var W=D.getSelection(),V=D.getCurrentContent(),Y=D.getUndoStack(),Q=$;W!==V.getSelectionAfter()||T(D,B)?(Y=Y.push(V),Q=Q.set("selectionBefore",W)):(B==="insert-characters"||B==="backspace-character"||B==="delete-character")&&(Q=Q.set("selectionBefore",V.getSelectionBefore()));var re=D.getInlineStyleOverride(),z=["adjust-depth","change-block-type","split-block"];z.indexOf(B)===-1&&(re=null);var K={currentContent:Q,directionMap:q,undoStack:Y,redoStack:d(),lastChangeType:B,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:re};return P.set(D,K)},P.undo=function(D){if(!D.getAllowUndo())return D;var $=D.getUndoStack(),B=$.peek();if(!B)return D;var U=D.getCurrentContent(),q=o.getDirectionMap(B,D.getDirectionMap());return P.set(D,{currentContent:B,directionMap:q,undoStack:$.shift(),redoStack:D.getRedoStack().push(U),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:U.getSelectionBefore()})},P.redo=function(D){if(!D.getAllowUndo())return D;var $=D.getRedoStack(),B=$.peek();if(!B)return D;var U=D.getCurrentContent(),q=o.getDirectionMap(B,D.getDirectionMap());return P.set(D,{currentContent:B,directionMap:q,undoStack:D.getUndoStack().push(U),redoStack:$.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:B.getSelectionAfter()})};function P(L){t(this,"_immutable",void 0),this._immutable=L}return N.getImmutable=function(){return this._immutable},P})();function b(N,P,L){return y.set(N,{selection:P,forceSelection:L,nativelyRenderedContent:null,inlineStyleOverride:null})}function v(N,P){return N.getBlockMap().map(function(L){return r.generate(N,L,P)}).toOrderedMap()}function C(N,P,L,D){var $=N.getCurrentContent().set("entityMap",L),B=$.getBlockMap(),U=N.getImmutable().get("treeMap");return U.merge(P.toSeq().filter(function(q,W){return q!==B.get(W)}).map(function(q){return r.generate($,q,D)}))}function E(N,P,L,D,$){return L.merge(P.toSeq().filter(function(B){return D.getDecorations(B,N)!==$.getDecorations(B,N)}).map(function(B){return r.generate(N,B,D)}))}function T(N,P){var L=N.getLastChangeType();return P!==L||P!=="insert-characters"&&P!=="backspace-character"&&P!=="delete-character"}function R(N,P){var L=P.getStartKey(),D=P.getStartOffset(),$=N.getBlockForKey(L);return D>0?$.getInlineStyleAt(D-1):$.getLength()?$.getInlineStyleAt(0):I(N,L)}function M(N,P){var L=P.getStartKey(),D=P.getStartOffset(),$=N.getBlockForKey(L);return D<$.getLength()?$.getInlineStyleAt(D):D>0?$.getInlineStyleAt(D-1):I(N,L)}function I(N,P){var L=N.getBlockMap().reverse().skipUntil(function(D,$){return $===P}).skip(1).skipUntil(function(D,$){return D.getLength()}).first();return L?L.getInlineStyleAt(L.getLength()-1):a()}return $_=y,$_}var z_,CB;function bhe(){if(CB)return z_;CB=1;var e=As(),t=eB(),r=Qr(),n=en(),o=r.OrderedMap,i=r.List,s=function(h,f,g){if(h){var m=f.get(h);m&&f.set(h,g(m))}},a=function(h,f,g,m,y){if(!y)return h;var b=m==="after",v=f.getKey(),C=g.getKey(),E=f.getParentKey(),T=f.getNextSiblingKey(),R=f.getPrevSiblingKey(),M=g.getParentKey(),I=b?g.getNextSiblingKey():C,N=b?C:g.getPrevSiblingKey();return h.withMutations(function(P){s(E,P,function(L){var D=L.getChildKeys();return L.merge({children:D.delete(D.indexOf(v))})}),s(R,P,function(L){return L.merge({nextSibling:T})}),s(T,P,function(L){return L.merge({prevSibling:R})}),s(I,P,function(L){return L.merge({prevSibling:v})}),s(N,P,function(L){return L.merge({nextSibling:v})}),s(M,P,function(L){var D=L.getChildKeys(),$=D.indexOf(C),B=b?$+1:$!==0?$-1:0,U=D.toArray();return U.splice(B,0,v),L.merge({children:i(U)})}),s(v,P,function(L){return L.merge({nextSibling:I,prevSibling:N,parent:M})})})},c=function(h,f,g,m){m==="replace"&&n(!1);var y=g.getKey(),b=f.getKey();b===y&&n(!1);var v=h.getBlockMap(),C=f instanceof e,E=[f],T=v.delete(b);C&&(E=[],T=v.withMutations(function(D){var $=f.getNextSiblingKey(),B=t(f,D);D.toSeq().skipUntil(function(U){return U.getKey()===b}).takeWhile(function(U){var q=U.getKey(),W=q===b,V=$&&q!==$,Y=!$&&U.getParentKey()&&(!B||q!==B);return!!(W||V||Y)}).forEach(function(U){E.push(U),D.delete(U.getKey())})}));var R=T.toSeq().takeUntil(function(D){return D===g}),M=T.toSeq().skipUntil(function(D){return D===g}).skip(1),I=E.map(function(D){return[D.getKey(),D]}),N=o();if(m==="before"){var P=h.getBlockBefore(y);!P||P.getKey()!==f.getKey()||n(!1),N=R.concat([].concat(I,[[y,g]]),M).toOrderedMap()}else if(m==="after"){var L=h.getBlockAfter(y);!L||L.getKey()!==b||n(!1),N=R.concat([[y,g]].concat(I),M).toOrderedMap()}return h.merge({blockMap:a(N,f,g,m,C),selectionBefore:h.getSelectionAfter(),selectionAfter:h.getSelectionAfter().merge({anchorKey:b,focusKey:b})})};return z_=c,z_}var U_,xB;function whe(){if(xB)return U_;xB=1;function e(C){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(C,M,T[M])})}return C}function t(C,E,T){return E in C?Object.defineProperty(C,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[E]=T,C}var r=ng(),n=Ds(),o=ld(),i=As(),s=Ai(),a=Nn(),c=Qa(),d=Fc(),h=Qr(),f=bhe(),g=d("draft_tree_data_support"),m=g?i:o,y=h.List,b=h.Repeat,v={insertAtomicBlock:function(E,T,R){var M=E.getCurrentContent(),I=E.getSelection(),N=s.removeRange(M,I,"backward"),P=N.getSelectionAfter(),L=s.splitBlock(N,P),D=L.getSelectionAfter(),$=s.setBlockType(L,D,"atomic"),B=n.create({entity:T}),U={key:c(),type:"atomic",text:R,characterList:y(b(B,R.length))},q={key:c(),type:"unstyled"};g&&(U=e({},U,{nextSibling:q.key}),q=e({},q,{prevSibling:U.key}));var W=[new m(U),new m(q)],V=r.createFromArray(W),Y=s.replaceWithFragment($,D,V),Q=Y.merge({selectionBefore:I,selectionAfter:Y.getSelectionAfter().set("hasFocus",!0)});return a.push(E,Q,"insert-fragment")},moveAtomicBlock:function(E,T,R,M){var I=E.getCurrentContent(),N=E.getSelection(),P;if(M==="before"||M==="after"){var L=I.getBlockForKey(M==="before"?R.getStartKey():R.getEndKey());P=f(I,T,L,M)}else{var D=s.removeRange(I,R,"backward"),$=D.getSelectionAfter(),B=D.getBlockForKey($.getFocusKey());if($.getStartOffset()===0)P=f(D,T,B,"before");else if($.getEndOffset()===B.getLength())P=f(D,T,B,"after");else{var U=s.splitBlock(D,$),q=U.getSelectionAfter(),W=U.getBlockForKey(q.getFocusKey());P=f(U,T,W,"before")}}var V=P.merge({selectionBefore:N,selectionAfter:P.getSelectionAfter().set("hasFocus",!0)});return a.push(E,V,"move-block")}};return U_=v,U_}var G_,_B;function She(){if(_B)return G_;_B=1;function e(a,c,d){return c in a?Object.defineProperty(a,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[c]=d,a}var t=Qr(),r=t.List,n=".",o=(function(){function a(d){e(this,"_decorators",void 0),this._decorators=d.slice()}var c=a.prototype;return c.getDecorations=function(h,f){var g=Array(h.getText().length).fill(null);return this._decorators.forEach(function(m,y){var b=0,v=m.strategy,C=function(T,R){i(g,T,R)&&(s(g,T,R,y+n+b),b++)};v(h,C,f)}),r(g)},c.getComponentForKey=function(h){var f=parseInt(h.split(n)[0],10);return this._decorators[f].component},c.getPropsForKey=function(h){var f=parseInt(h.split(n)[0],10);return this._decorators[f].props},a})();function i(a,c,d){for(var h=c;h<d;h++)if(a[h]!=null)return!1;return!0}function s(a,c,d,h){for(var f=c;f<d;f++)a[f]=h}return G_=o,G_}var H_,EB;function cd(){if(EB)return H_;EB=1;function e(r){return typeof r=="object"?Object.keys(r).filter(function(n){return r[n]}).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}function t(r){return r.replace(/\//g,"-")}return H_=e,H_}var W_,TB;function K_(){if(TB)return W_;TB=1;var e=di(),t=cd(),r=Qr(),n=r.Map,o=e.createElement("ul",{className:t("public/DraftStyleDefault/ul")}),i=e.createElement("ol",{className:t("public/DraftStyleDefault/ol")}),s=e.createElement("pre",{className:t("public/DraftStyleDefault/pre")}),a=n({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:o},"ordered-list-item":{element:"li",wrapper:i},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:s},unstyled:{element:"div",aliasedElements:["p"]}});return W_=a,W_}var q_,MB;function OB(){return MB||(MB=1,q_={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}),q_}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Y_,RB;function ud(){if(RB)return Y_;RB=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var s={},a=0;a<10;a++)s["_"+String.fromCharCode(a)]=a;var c=Object.getOwnPropertyNames(s).map(function(h){return s[h]});if(c.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(h){d[h]=h}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Y_=o()?Object.assign:function(i,s){for(var a,c=n(i),d,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var f in a)t.call(a,f)&&(c[f]=a[f]);if(e){d=e(a);for(var g=0;g<d.length;g++)r.call(a,d[g])&&(c[d[g]]=a[d[g]])}}return c},Y_}var ig={exports:{}},Che=ig.exports,IB;function xhe(){return IB||(IB=1,(function(e,t){(function(r,n){var o="0.7.41",i="",s="?",a="function",c="undefined",d="object",h="string",f="major",g="model",m="name",y="type",b="vendor",v="version",C="architecture",E="console",T="mobile",R="tablet",M="smarttv",I="wearable",N="embedded",P=500,L="Amazon",D="Apple",$="ASUS",B="BlackBerry",U="Browser",q="Chrome",W="Edge",V="Firefox",Y="Google",Q="Honor",re="Huawei",z="Lenovo",K="LG",Z="Microsoft",le="Motorola",ce="Nvidia",ue="OnePlus",ae="Opera",ye="OPPO",Me="Samsung",xe="Sharp",he="Sony",pe="Xiaomi",Se="Zebra",Ee="Facebook",ke="Chromium OS",Te="Mac OS",Ve=" Browser",nt=function(He,ct){var ut={};for(var St in He)ct[St]&&ct[St].length%2===0?ut[St]=ct[St].concat(He[St]):ut[St]=He[St];return ut},je=function(He){for(var ct={},ut=0;ut<He.length;ut++)ct[He[ut].toUpperCase()]=He[ut];return ct},Rt=function(He,ct){return typeof He===h?dt(ct).indexOf(dt(He))!==-1:!1},dt=function(He){return He.toLowerCase()},Ct=function(He){return typeof He===h?He.replace(/[^\d\.]/g,i).split(".")[0]:n},$e=function(He,ct){if(typeof He===h)return He=He.replace(/^\s\s*/,i),typeof ct===c?He:He.substring(0,P)},It=function(He,ct){for(var ut=0,St,at,At,ft,Pt,Ir;ut<ct.length&&!Pt;){var Dr=ct[ut],un=ct[ut+1];for(St=at=0;St<Dr.length&&!Pt&&Dr[St];)if(Pt=Dr[St++].exec(He),Pt)for(At=0;At<un.length;At++)Ir=Pt[++at],ft=un[At],typeof ft===d&&ft.length>0?ft.length===2?typeof ft[1]==a?this[ft[0]]=ft[1].call(this,Ir):this[ft[0]]=ft[1]:ft.length===3?typeof ft[1]===a&&!(ft[1].exec&&ft[1].test)?this[ft[0]]=Ir?ft[1].call(this,Ir,ft[2]):n:this[ft[0]]=Ir?Ir.replace(ft[1],ft[2]):n:ft.length===4&&(this[ft[0]]=Ir?ft[3].call(this,Ir.replace(ft[1],ft[2])):n):this[ft]=Ir||n;ut+=2}},mt=function(He,ct){for(var ut in ct)if(typeof ct[ut]===d&&ct[ut].length>0){for(var St=0;St<ct[ut].length;St++)if(Rt(ct[ut][St],He))return ut===s?n:ut}else if(Rt(ct[ut],He))return ut===s?n:ut;return ct.hasOwnProperty("*")?ct["*"]:He},Bt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},zt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},qt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,ae+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,ae+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,ae]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+U],v],[/\bfocus\/([\w\.]+)/i],[v,[m,V+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI"+Ve]],[/fxios\/([\w\.-]+)/i],[v,[m,V]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+Ve],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,Me+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Ee],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,q+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,q+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,mt,Bt]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,V+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[C,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[C,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[C,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[C,/ower/,i,dt]],[/ sun4\w[;\)]/i],[[C,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[C,dt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[b,Me],[y,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[b,Me],[y,T]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[b,D],[y,T]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[b,D],[y,R]],[/(macintosh);/i],[g,[b,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[b,xe],[y,T]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[b,Q],[y,R]],[/honor([-\w ]+)[;\)]/i],[g,[b,Q],[y,T]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[b,re],[y,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[b,re],[y,T]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[b,pe],[y,R]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[b,pe],[y,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[b,ye],[y,T]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[b,mt,{OnePlus:["304","403","203"],"*":ye}],[y,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[b,"Vivo"],[y,T]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[b,"Realme"],[y,T]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[b,le],[y,T]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[b,le],[y,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[b,K],[y,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[b,K],[y,T]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[b,z],[y,R]],[/(nokia) (t[12][01])/i],[b,g,[y,R]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[y,T],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[b,Y],[y,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[b,Y],[y,T]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[b,he],[y,T]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[b,he],[y,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[b,ue],[y,T]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[b,L],[y,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[b,L],[y,T]],[/(playbook);[-\w\),; ]+(rim)/i],[g,b,[y,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[b,B],[y,T]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[b,$],[y,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[b,$],[y,T]],[/(nexus 9)/i],[g,[b,"HTC"],[y,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[g,/_/g," "],[y,T]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[b,"TCL"],[y,R]],[/(itel) ((\w+))/i],[[b,dt],g,[y,mt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[b,"Acer"],[y,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[b,"Meizu"],[y,T]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[b,"Ulefone"],[y,T]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[b,"Energizer"],[y,T]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[b,"Cat"],[y,T]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[b,"Smartfren"],[y,T]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[b,"Nothing"],[y,T]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[b,"Archos"],[y,R]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[b,"Archos"],[y,T]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,g,[y,R]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,g,[y,T]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,g,[y,R]],[/(surface duo)/i],[g,[b,Z],[y,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[b,"Fairphone"],[y,T]],[/(u304aa)/i],[g,[b,"AT&T"],[y,T]],[/\bsie-(\w*)/i],[g,[b,"Siemens"],[y,T]],[/\b(rct\w+) b/i],[g,[b,"RCA"],[y,R]],[/\b(venue[\d ]{2,7}) b/i],[g,[b,"Dell"],[y,R]],[/\b(q(?:mv|ta)\w+) b/i],[g,[b,"Verizon"],[y,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[b,"Barnes & Noble"],[y,R]],[/\b(tm\d{3}\w+) b/i],[g,[b,"NuVision"],[y,R]],[/\b(k88) b/i],[g,[b,"ZTE"],[y,R]],[/\b(nx\d{3}j) b/i],[g,[b,"ZTE"],[y,T]],[/\b(gen\d{3}) b.+49h/i],[g,[b,"Swiss"],[y,T]],[/\b(zur\d{3}) b/i],[g,[b,"Swiss"],[y,R]],[/\b((zeki)?tb.*\b) b/i],[g,[b,"Zeki"],[y,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],g,[y,R]],[/\b(ns-?\w{0,9}) b/i],[g,[b,"Insignia"],[y,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[b,"NextBook"],[y,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],g,[y,T]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],g,[y,T]],[/\b(ph-1) /i],[g,[b,"Essential"],[y,T]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[b,"Envizen"],[y,R]],[/\b(trio[-\w\. ]+) b/i],[g,[b,"MachSpeed"],[y,R]],[/\btu_(1491) b/i],[g,[b,"Rotor"],[y,R]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[b,ce],[y,R]],[/(sprint) (\w+)/i],[b,g,[y,T]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[b,Z],[y,T]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[b,Se],[y,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[b,Se],[y,T]],[/smart-tv.+(samsung)/i],[b,[y,M]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[b,Me],[y,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,K],[y,M]],[/(apple) ?tv/i],[b,[g,D+" TV"],[y,M]],[/crkey/i],[[g,q+"cast"],[b,Y],[y,M]],[/droid.+aft(\w+)( bui|\))/i],[g,[b,L],[y,M]],[/(shield \w+ tv)/i],[g,[b,ce],[y,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[b,xe],[y,M]],[/(bravia[\w ]+)( bui|\))/i],[g,[b,he],[y,M]],[/(mi(tv|box)-?\w+) bui/i],[g,[b,pe],[y,M]],[/Hbbtv.*(technisat) (.*);/i],[b,g,[y,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,$e],[g,$e],[y,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[y,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,g,[y,E]],[/droid.+; (shield)( bui|\))/i],[g,[b,ce],[y,E]],[/(playstation \w+)/i],[g,[b,he],[y,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[b,Z],[y,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[b,Me],[y,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,g,[y,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[b,ye],[y,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[b,D],[y,I]],[/(opwwe\d{3})/i],[g,[b,ue],[y,I]],[/(moto 360)/i],[g,[b,le],[y,I]],[/(smartwatch 3)/i],[g,[b,he],[y,I]],[/(g watch r)/i],[g,[b,K],[y,I]],[/droid.+; (wt63?0{2,3})\)/i],[g,[b,Se],[y,I]],[/droid.+; (glass) \d/i],[g,[b,Y],[y,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,g,[y,I]],[/; (quest( \d| pro)?)/i],[g,[b,Ee],[y,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[y,N]],[/(aeobc)\b/i],[g,[b,L],[y,N]],[/(homepod).+mac os/i],[g,[b,D],[y,N]],[/windows iot/i],[[y,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[y,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[y,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,T]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,W+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[v,mt,zt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,mt,zt],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Te],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,v],[/\(bb(10);/i],[v,[m,B]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,V+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,q+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,ke],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},tr=function(He,ct){if(typeof He===d&&(ct=He,He=n),!(this instanceof tr))return new tr(He,ct).getResult();var ut=typeof r!==c&&r.navigator?r.navigator:n,St=He||(ut&&ut.userAgent?ut.userAgent:i),at=ut&&ut.userAgentData?ut.userAgentData:n,At=ct?nt(qt,ct):qt,ft=ut&&ut.userAgent==St;return this.getBrowser=function(){var Pt={};return Pt[m]=n,Pt[v]=n,It.call(Pt,St,At.browser),Pt[f]=Ct(Pt[v]),ft&&ut&&ut.brave&&typeof ut.brave.isBrave==a&&(Pt[m]="Brave"),Pt},this.getCPU=function(){var Pt={};return Pt[C]=n,It.call(Pt,St,At.cpu),Pt},this.getDevice=function(){var Pt={};return Pt[b]=n,Pt[g]=n,Pt[y]=n,It.call(Pt,St,At.device),ft&&!Pt[y]&&at&&at.mobile&&(Pt[y]=T),ft&&Pt[g]=="Macintosh"&&ut&&typeof ut.standalone!==c&&ut.maxTouchPoints&&ut.maxTouchPoints>2&&(Pt[g]="iPad",Pt[y]=R),Pt},this.getEngine=function(){var Pt={};return Pt[m]=n,Pt[v]=n,It.call(Pt,St,At.engine),Pt},this.getOS=function(){var Pt={};return Pt[m]=n,Pt[v]=n,It.call(Pt,St,At.os),ft&&!Pt[m]&&at&&at.platform&&at.platform!="Unknown"&&(Pt[m]=at.platform.replace(/chrome os/i,ke).replace(/macos/i,Te)),Pt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return St},this.setUA=function(Pt){return St=typeof Pt===h&&Pt.length>P?$e(Pt,P):Pt,this},this.setUA(St),this};tr.VERSION=o,tr.BROWSER=je([m,v,f]),tr.CPU=je([C]),tr.DEVICE=je([g,b,y,E,T,M,R,I,N]),tr.ENGINE=tr.OS=je([m,v]),e.exports&&(t=e.exports=tr),t.UAParser=tr;var gt=typeof r!==c&&(r.jQuery||r.Zepto);if(gt&&!gt.ua){var _t=new tr;gt.ua=_t.getResult(),gt.ua.get=function(){return _t.getUA()},gt.ua.set=function(He){_t.setUA(He);var ct=_t.getResult();for(var ut in ct)gt.ua[ut]=ct[ut]}}})(typeof window=="object"?window:Che)})(ig,ig.exports)),ig.exports}var X_,PB;function _he(){if(PB)return X_;PB=1;var e=xhe(),t="Unknown",r={"Mac OS":"Mac OS X"};function n(d){return r[d]||d}function o(d){if(!d)return{major:"",minor:""};var h=d.split(".");return{major:h[0],minor:h[1]}}var i=new e,s=i.getResult(),a=o(s.browser.version),c={browserArchitecture:s.cpu.architecture||t,browserFullVersion:s.browser.version||t,browserMinorVersion:a.minor||t,browserName:s.browser.name||t,browserVersion:s.browser.major||t,deviceName:s.device.model||t,engineName:s.engine.name||t,engineVersion:s.engine.version||t,platformArchitecture:s.cpu.architecture||t,platformName:n(s.os.name)||t,platformVersion:s.os.version||t,platformFullVersion:s.os.version||t};return X_=c,X_}var Z_,kB;function Ehe(){if(kB)return Z_;kB=1;var e=en(),t=/\./,r=/\|\|/,n=/\s+\-\s+/,o=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,i=/^(\d*)(.*)/;function s(P,L){var D=P.split(r);return D.length>1?D.some(function($){return N.contains($,L)}):(P=D[0].trim(),a(P,L))}function a(P,L){var D=P.split(n);if(D.length>0&&D.length<=2||e(!1),D.length===1)return c(D[0],L);var $=D[0],B=D[1];return C($)&&C(B)||e(!1),c(">="+$,L)&&c("<="+B,L)}function c(P,L){if(P=P.trim(),P==="")return!0;var D=L.split(t),$=b(P),B=$.modifier,U=$.rangeComponents;switch(B){case"<":return d(D,U);case"<=":return h(D,U);case">=":return g(D,U);case">":return m(D,U);case"~":case"~>":return y(D,U);default:return f(D,U)}}function d(P,L){return I(P,L)===-1}function h(P,L){var D=I(P,L);return D===-1||D===0}function f(P,L){return I(P,L)===0}function g(P,L){var D=I(P,L);return D===1||D===0}function m(P,L){return I(P,L)===1}function y(P,L){var D=L.slice(),$=L.slice();$.length>1&&$.pop();var B=$.length-1,U=parseInt($[B],10);return v(U)&&($[B]=U+1+""),g(P,D)&&d(P,$)}function b(P){var L=P.split(t),D=L[0].match(o);return D||e(!1),{modifier:D[1],rangeComponents:[D[2]].concat(L.slice(1))}}function v(P){return!isNaN(P)&&isFinite(P)}function C(P){return!b(P).modifier}function E(P,L){for(var D=P.length;D<L;D++)P[D]="0"}function T(P,L){P=P.slice(),L=L.slice(),E(P,L.length);for(var D=0;D<L.length;D++){var $=L[D].match(/^[x*]$/i);if($&&(L[D]=P[D]="0",$[0]==="*"&&D===L.length-1))for(var B=D;B<P.length;B++)P[B]="0"}return E(L,P.length),[P,L]}function R(P,L){var D=P.match(i)[1],$=L.match(i)[1],B=parseInt(D,10),U=parseInt($,10);return v(B)&&v(U)&&B!==U?M(B,U):M(P,L)}function M(P,L){return typeof P!=typeof L&&e(!1),P>L?1:P<L?-1:0}function I(P,L){for(var D=T(P,L),$=D[0],B=D[1],U=0;U<B.length;U++){var q=R($[U],B[U]);if(q)return q}return 0}var N={contains:function(L,D){return s(L.trim(),D.trim())}};return Z_=N,Z_}var Q_,DB;function The(){if(DB)return Q_;DB=1;var e=Object.prototype.hasOwnProperty;function t(r,n,o){if(!r)return null;var i={};for(var s in r)e.call(r,s)&&(i[s]=n.call(o,r[s],s,r));return i}return Q_=t,Q_}var J_,AB;function Mhe(){if(AB)return J_;AB=1;function e(t){var r={};return function(n){return r.hasOwnProperty(n)||(r[n]=t.call(this,n)),r[n]}}return J_=e,J_}var eE,LB;function Ni(){if(LB)return eE;LB=1;var e=_he(),t=Ehe(),r=The(),n=Mhe();function o(a,c,d,h){if(a===d)return!0;if(!d.startsWith(a))return!1;var f=d.slice(a.length);return c?(f=h?h(f):f,t.contains(f,c)):!1}function i(a){return e.platformName==="Windows"?a.replace(/^\s*NT/,""):a}var s={isBrowser:function(c){return o(e.browserName,e.browserFullVersion,c)},isBrowserArchitecture:function(c){return o(e.browserArchitecture,null,c)},isDevice:function(c){return o(e.deviceName,null,c)},isEngine:function(c){return o(e.engineName,e.engineVersion,c)},isPlatform:function(c){return o(e.platformName,e.platformFullVersion,c,i)},isPlatformArchitecture:function(c){return o(e.platformArchitecture,null,c)}};return eE=r(s,n),eE}var tE,NB;function Uy(){if(NB)return tE;NB=1;function e(t){return!t||!t.ownerDocument?document:t.ownerDocument}return tE=e,tE}var rE,BB;function dd(){if(BB)return rE;BB=1;function e(t){return!t||!t.ownerDocument?!1:t.nodeType===Node.ELEMENT_NODE}return rE=e,rE}var nE,FB;function jB(){if(FB)return nE;FB=1;var e=dd();function t(r){if(e(r)){var n=r,o=n.getAttribute("data-offset-key");if(o)return o;for(var i=0;i<n.childNodes.length;i++){var s=t(n.childNodes[i]);if(s)return s}}return null}return nE=t,nE}var oE,VB;function Gy(){if(VB)return oE;VB=1;var e=Uy(),t=jB();function r(n){for(var o=n;o&&o!==e(n).documentElement;){var i=t(o);if(i!=null)return i;o=o.parentNode}return null}return oE=r,oE}var iE,$B;function zB(){if($B)return iE;$B=1;function e(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}return iE=e,iE}var sE,UB;function Ohe(){if(UB)return sE;UB=1;function e(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var t=Ni(),r=Gy(),n=zB(),o=Qr(),i=en(),s=Li(),a=o.Map,c={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=t.isBrowser("IE <= 11"),h=(function(){function f(m){var y=this;e(this,"observer",void 0),e(this,"container",void 0),e(this,"mutations",void 0),e(this,"onCharData",void 0),this.container=m,this.mutations=a();var b=n(m);b.MutationObserver&&!d?this.observer=new b.MutationObserver(function(v){return y.registerMutations(v)}):this.onCharData=function(v){v.target instanceof Node||i(!1),y.registerMutation({type:"characterData",target:v.target})}}var g=f.prototype;return g.start=function(){this.observer?this.observer.observe(this.container,c):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},g.stopAndFlushMutations=function(){var y=this.observer;y?(this.registerMutations(y.takeRecords()),y.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var b=this.mutations;return this.mutations=a(),b},g.registerMutations=function(y){for(var b=0;b<y.length;b++)this.registerMutation(y[b])},g.getMutationTextContent=function(y){var b=y.type,v=y.target,C=y.removedNodes;if(b==="characterData"){if(v.textContent!=="")return d?v.textContent.replace(`
`,""):v.textContent}else if(b==="childList"){if(C&&C.length)return"";if(v.textContent!=="")return v.textContent}return null},g.registerMutation=function(y){var b=this.getMutationTextContent(y);if(b!=null){var v=s(r(y.target));this.mutations=this.mutations.set(v,b)}},f})();return sE=h,sE}var aE,GB;function Gl(){if(GB)return aE;GB=1;var e="-",t={encode:function(n,o,i){return n+e+o+e+i},decode:function(n){var o=n.split(e).reverse(),i=o[0],s=o[1],a=o.slice(2);return{blockKey:a.reverse().join(e),decoratorKey:parseInt(s,10),leafKey:parseInt(i,10)}}};return aE=t,aE}var lE,HB;function Hy(){return HB||(HB=1,lE={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}),lE}var cE,WB;function KB(){return WB||(WB=1,cE={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}),cE}var uE,qB;function sg(){if(qB)return uE;qB=1;function e(t){return!t||!t.ownerDocument?!1:t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement}return uE=e,uE}var dE,YB;function XB(){if(YB)return dE;YB=1;var e=en(),t=sg();function r(n){var o=n.editorContainer;o||e(!1),t(o.firstChild)||e(!1);var i=o.firstChild;return i}return dE=r,dE}var hE,ZB;function QB(){if(ZB)return hE;ZB=1;var e=Gl(),t=Li();function r(n,o,i,s,a){var c=t(n.getSelection());if(!o||!s)return c;var d=e.decode(o),h=d.blockKey,f=n.getBlockTree(h),g=f&&f.getIn([d.decoratorKey,"leaves",d.leafKey]),m=e.decode(s),y=m.blockKey,b=n.getBlockTree(y),v=b&&b.getIn([m.decoratorKey,"leaves",m.leafKey]);if(!g||!v)return c;var C=g.get("start"),E=v.get("start"),T=g?C+i:null,R=v?E+a:null,M=c.getAnchorKey()===h&&c.getAnchorOffset()===T&&c.getFocusKey()===y&&c.getFocusOffset()===R;if(M)return c;var I=!1;if(h===y){var N=g.get("end"),P=v.get("end");E===C&&P===N?I=a<i:I=E<C}else{var L=n.getCurrentContent().getBlockMap().keySeq().skipUntil(function(D){return D===h||D===y}).first();I=L===y}return c.merge({anchorKey:h,anchorOffset:T,focusKey:y,focusOffset:R,isBackward:I})}return hE=r,hE}var fE,JB;function eF(){if(JB)return fE;JB=1;var e=Gy(),t=jB(),r=QB(),n=en(),o=dd(),i=Li();function s(f,g,m,y,b,v){var C=m.nodeType===Node.TEXT_NODE,E=b.nodeType===Node.TEXT_NODE;if(C&&E)return{selectionState:r(f,i(e(m)),y,i(e(b)),v),needsRecovery:!1};var T=null,R=null,M=!0;return C?(T={key:i(e(m)),offset:y},R=d(g,b,v)):E?(R={key:i(e(b)),offset:v},T=d(g,m,y)):(T=d(g,m,y),R=d(g,b,v),m===b&&y===v&&(M=!!m.firstChild&&m.firstChild.nodeName!=="BR")),{selectionState:r(f,T.key,T.offset,R.key,R.offset),needsRecovery:M}}function a(f){for(;f.firstChild&&(o(f.firstChild)&&f.firstChild.getAttribute("data-blocks")==="true"||t(f.firstChild));)f=f.firstChild;return f}function c(f){for(;f.lastChild&&(o(f.lastChild)&&f.lastChild.getAttribute("data-blocks")==="true"||t(f.lastChild));)f=f.lastChild;return f}function d(f,g,m){var y=g,b=e(y);if(b!=null||f&&(f===y||f.firstChild===y)||n(!1),f===y){y=y.firstChild,o(y)||n(!1);var v=y;y=v,y.getAttribute("data-contents")!=="true"&&n(!1),m>0&&(m=y.childNodes.length)}if(m===0){var C=null;if(b!=null)C=b;else{var E=a(y);C=i(t(E))}return{key:C,offset:0}}var T=y.childNodes[m-1],R=null,M=null;if(!t(T))R=i(b),M=h(T);else{var I=c(T);R=i(t(I)),M=h(I)}return{key:R,offset:M}}function h(f){var g=f.textContent;return g===`
`?0:g.length}return fE=s,fE}var pE,tF;function rF(){if(tF)return pE;tF=1;var e=eF();function t(r,n){var o=n.ownerDocument.defaultView.getSelection(),i=o.anchorNode,s=o.anchorOffset,a=o.focusNode,c=o.focusOffset,d=o.rangeCount;return d===0||i==null||a==null?{selectionState:r.getSelection().set("hasFocus",!1),needsRecovery:!1}:e(r,n,i,s,a,c)}return pE=t,pE}var gE,nF;function oF(){if(nF)return gE;nF=1;var e=KB(),t=Nn(),r=XB(),n=rF();function o(i){if(i._blockSelectEvents||i._latestEditorState!==i.props.editorState){if(i._blockSelectEvents){var s=i.props.editorState,a=s.getSelection();e.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(a.toJS())})}return}var c=i.props.editorState,d=n(c,r(i)),h=d.selectionState;h!==c.getSelection()&&(d.needsRecovery?c=t.forceSelection(c,h):c=t.acceptSelection(c,h),i.update(c))}return gE=o,gE}var mE,iF;function sF(){if(iF)return mE;iF=1;function e(t){return t!=null&&t!=""}return mE={notEmptyKey:e},mE}var vE,aF;function yE(){if(aF)return vE;aF=1;var e=sF(),t=e.notEmptyKey;function r(o,i){var s;if(i.isCollapsed()){var a=i.getAnchorKey(),c=i.getAnchorOffset();return c>0?(s=o.getBlockForKey(a).getEntityAt(c-1),s!==o.getBlockForKey(a).getEntityAt(c)?null:n(o.getEntityMap(),s)):null}var d=i.getStartKey(),h=i.getStartOffset(),f=o.getBlockForKey(d);return s=h===f.getLength()?null:f.getEntityAt(h),n(o.getEntityMap(),s)}function n(o,i){if(t(i)){var s=o.__get(i);return s.getMutability()==="MUTABLE"?i:null}return null}return vE=r,vE}var bE,lF;function Rhe(){if(lF)return bE;lF=1;var e=Ohe(),t=Ai(),r=Gl(),n=Nn(),o=Hy(),i=Ni(),s=oF(),a=XB(),c=rF(),d=yE(),h=Li(),f=i.isBrowser("IE"),g=20,m=!1,y=!1,b=null;function v(E){b||(b=new e(a(E)),b.start())}var C={onCompositionStart:function(T){y=!0,v(T)},onCompositionEnd:function(T){m=!1,y=!1,setTimeout(function(){m||C.resolveComposition(T)},g)},onSelect:s,onKeyDown:function(T,R){if(!y){C.resolveComposition(T),T._onKeyDown(R);return}(R.which===o.RIGHT||R.which===o.LEFT)&&R.preventDefault()},onKeyPress:function(T,R){R.which===o.RETURN&&R.preventDefault()},resolveComposition:function(T){if(!y){var R=h(b).stopAndFlushMutations();b=null,m=!0;var M=n.set(T._latestEditorState,{inCompositionMode:!1});if(T.exitCurrentMode(),!R.size){T.update(M);return}var I=M.getCurrentContent();R.forEach(function(D,$){var B=r.decode($),U=B.blockKey,q=B.decoratorKey,W=B.leafKey,V=M.getBlockTree(U).getIn([q,"leaves",W]),Y=V.start,Q=V.end,re=M.getSelection().merge({anchorKey:U,focusKey:U,anchorOffset:Y,focusOffset:Q,isBackward:!1}),z=d(I,re),K=I.getBlockForKey(U).getInlineStyleAt(Y);I=t.replaceText(I,re,D,K,z),M=n.set(M,{currentContent:I})});var N=c(M,a(T)),P=N.selectionState;T.restoreEditorDOM();var L=f?n.forceSelection(M,P):n.acceptSelection(M,P);T.update(n.push(L,I,"insert-characters"))}}};return bE=C,bE}var wE,cF;function Ihe(){if(cF)return wE;cF=1;var e=ud();function t(){return t=e||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function r(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var n=Gl(),o=di(),i=B_(),s=zy(),a=(function(c){r(d,c);function d(){return c.apply(this,arguments)||this}var h=d.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.children,b=g.contentState,v=g.decorator,C=g.decoratorKey,E=g.direction,T=g.leafSet,R=g.text,M=m.getKey(),I=T.get("leaves"),N=v.getComponentForKey(C),P=v.getPropsForKey(C),L=n.encode(M,parseInt(C,10),0),D=R.slice(I.first().get("start"),I.last().get("end")),$=s.getHTMLDirIfDifferent(i.getDirection(D),E);return o.createElement(N,t({},P,{contentState:b,decoratedText:D,dir:$,key:L,entityKey:m.getEntityAt(T.get("start")),offsetKey:L}),y)},d})(o.Component);return wE=a,wE}var SE,uF;function Phe(){if(uF)return SE;uF=1;function e(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function t(g,m){g.prototype=Object.create(m.prototype),g.prototype.constructor=g,g.__proto__=m}function r(g,m,y){return m in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y,g}var n=di(),o=Ni(),i=en(),s=dd(),a=o.isBrowser("IE <= 11");function c(g){return a?g.textContent===`
`:g.tagName==="BR"}var d=function(m){return a?n.createElement("span",{key:"A","data-text":"true",ref:m},`
`):n.createElement("br",{key:"A","data-text":"true",ref:m})},h=function(m){return a?n.createElement("span",{key:"B","data-text":"true",ref:m},`
`):n.createElement("br",{key:"B","data-text":"true",ref:m})},f=(function(g){t(m,g);function m(b){var v;return v=g.call(this,b)||this,r(e(v),"_forceFlag",void 0),r(e(v),"_node",void 0),v._forceFlag=!1,v}var y=m.prototype;return y.shouldComponentUpdate=function(v){var C=this._node,E=v.children==="";s(C)||i(!1);var T=C;return E?!c(T):T.textContent!==v.children},y.componentDidMount=function(){this._forceFlag=!this._forceFlag},y.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},y.render=function(){var v=this;return this.props.children===""?this._forceFlag?d(function(C){return v._node=C}):h(function(C){return v._node=C}):n.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(E){return v._node=E}},this.props.children)},m})(n.Component);return SE=f,SE}var CE,dF;function hF(){if(dF)return CE;dF=1;var e=dd();function t(r){return!r||!r.ownerDocument?!1:e(r)&&r.nodeName==="BR"}return CE=t,CE}var xE,fF;function pF(){return fF||(fF=1,xE={initODS:function(){},handleExtensionCausedError:function(){}}),xE}var _E,gF;function khe(){if(gF)return _E;gF=1;function e(t){var r=t?t.ownerDocument||t:document,n=r.defaultView||window;return!!(t&&(typeof n.Node=="function"?t instanceof n.Node:typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"))}return _E=e,_E}var EE,mF;function Dhe(){if(mF)return EE;mF=1;var e=khe();function t(r){return e(r)&&r.nodeType==3}return EE=t,EE}var TE,vF;function ME(){if(vF)return TE;vF=1;var e=Dhe();function t(r,n){return!r||!n?!1:r===n?!0:e(r)?!1:e(n)?t(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1}return TE=t,TE}var OE,yF;function bF(){if(yF)return OE;yF=1;function e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}return OE=e,OE}var RE,wF;function Ahe(){if(wF)return RE;wF=1;var e=pF(),t=KB(),r=Ni(),n=ME(),o=bF(),i=Uy(),s=en(),a=dd(),c=r.isBrowser("IE");function d(v,C){if(!v)return"[empty]";var E=h(v,C);if(E.nodeType===Node.TEXT_NODE)return E.textContent;a(E)||s(!1);var T=E;return T.outerHTML}function h(v,C){var E=C!==void 0?C(v):[];if(v.nodeType===Node.TEXT_NODE){var T=v.textContent.length;return i(v).createTextNode("[text "+T+(E.length?" | "+E.join(", "):"")+"]")}var R=v.cloneNode();R.nodeType===1&&E.length&&R.setAttribute("data-labels",E.join(", "));for(var M=v.childNodes,I=0;I<M.length;I++)R.appendChild(h(M[I],C));return R}function f(v,C){for(var E=v,T=E;E;){if(a(E)&&T.hasAttribute("contenteditable"))return d(E,C);E=E.parentNode,T=E}return"Could not find contentEditable parent of node"}function g(v){return v.nodeValue===null?v.childNodes.length:v.nodeValue.length}function m(v,C,E,T,R){var M=i(C);if(n(M.documentElement,C)){var I=M.defaultView.getSelection(),N=v.getAnchorKey(),P=v.getAnchorOffset(),L=v.getFocusKey(),D=v.getFocusOffset(),$=v.getIsBackward();if(!I.extend&&$){var B=N,U=P;N=L,P=D,L=B,D=U,$=!1}var q=N===E&&T<=P&&R>=P,W=L===E&&T<=D&&R>=D;if(q&&W){I.removeAllRanges(),b(I,C,P-T,v),y(I,C,D-T,v);return}if(!$)q&&(I.removeAllRanges(),b(I,C,P-T,v)),W&&y(I,C,D-T,v);else if(W&&(I.removeAllRanges(),b(I,C,D-T,v)),q){var V=I.focusNode,Y=I.focusOffset;I.removeAllRanges(),b(I,C,P-T,v),y(I,V,Y,v)}}}function y(v,C,E,T){var R=o(),M=v.extend;if(M&&C!=null&&n(R,C)){E>g(C)&&t.logSelectionStateFailure({anonymizedDom:f(C),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())});var I=C===v.focusNode;try{v.rangeCount>0&&v.extend&&v.extend(C,E)}catch(P){throw t.logSelectionStateFailure({anonymizedDom:f(C,function(L){var D=[];return L===R&&D.push("active element"),L===v.anchorNode&&D.push("selection anchor node"),L===v.focusNode&&D.push("selection focus node"),D}),extraParams:JSON.stringify({activeElementName:R?R.nodeName:null,nodeIsFocus:C===v.focusNode,nodeWasFocus:I,selectionRangeCount:v.rangeCount,selectionAnchorNodeName:v.anchorNode?v.anchorNode.nodeName:null,selectionAnchorOffset:v.anchorOffset,selectionFocusNodeName:v.focusNode?v.focusNode.nodeName:null,selectionFocusOffset:v.focusOffset,message:P?""+P:null,offset:E},null,2),selectionState:JSON.stringify(T.toJS(),null,2)}),P}}else if(C&&v.rangeCount>0){var N=v.getRangeAt(0);N.setEnd(C,E),v.addRange(N.cloneRange())}}function b(v,C,E,T){var R=i(C).createRange();if(E>g(C)&&(t.logSelectionStateFailure({anonymizedDom:f(C),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())}),e.handleExtensionCausedError()),R.setStart(C,E),c)try{v.addRange(R)}catch{}else v.addRange(R)}return RE={setDraftEditorSelection:m,addFocusToSelection:y},RE}var IE,SF;function CF(){if(SF)return IE;SF=1;var e=ud();function t(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function r(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h.__proto__=f}function n(h,f,g){return f in h?Object.defineProperty(h,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[f]=g,h}var o=Phe(),i=di(),s=en(),a=hF(),c=Ahe().setDraftEditorSelection,d=(function(h){r(f,h);function f(){for(var m,y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return m=h.call.apply(h,[this].concat(b))||this,n(t(m),"leaf",void 0),m}var g=f.prototype;return g._setSelection=function(){var y=this.props.selection;if(!(y==null||!y.getHasFocus())){var b=this.props,v=b.block,C=b.start,E=b.text,T=v.getKey(),R=C+E.length;if(y.hasEdgeWithin(T,C,R)){var M=this.leaf;M||s(!1);var I=M.firstChild;I||s(!1);var N;I.nodeType===Node.TEXT_NODE?N=I:a(I)?N=M:(N=I.firstChild,N||s(!1)),c(y,N,T,C,R)}}},g.shouldComponentUpdate=function(y){var b=this.leaf;b||s(!1);var v=b.textContent!==y.text||y.styleSet!==this.props.styleSet||y.forceSelection;return v},g.componentDidUpdate=function(){this._setSelection()},g.componentDidMount=function(){this._setSelection()},g.render=function(){var y=this,b=this.props.block,v=this.props.text;v.endsWith(`
`)&&this.props.isLast&&(v+=`
`);var C=this.props,E=C.customStyleMap,T=C.customStyleFn,R=C.offsetKey,M=C.styleSet,I=M.reduce(function(P,L){var D={},$=E[L];return $!==void 0&&P.textDecoration!==$.textDecoration&&(D.textDecoration=[P.textDecoration,$.textDecoration].join(" ").trim()),e(P,$,D)},{});if(T){var N=T(M,b);I=e(I,N)}return i.createElement("span",{"data-offset-key":R,ref:function(L){return y.leaf=L},style:I},i.createElement(o,null,v))},f})(i.Component);return IE=d,IE}var PE,xF;function Lhe(){if(xF)return PE;xF=1;function e(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var t=Ihe(),r=CF(),n=Gl(),o=Qr(),i=di(),s=cd();o.List;var a=(function(c){e(d,c);function d(){return c.apply(this,arguments)||this}var h=d.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.contentState,b=g.customStyleFn,v=g.customStyleMap,C=g.decorator,E=g.direction,T=g.forceSelection,R=g.hasSelection,M=g.selection,I=g.tree,N=m.getKey(),P=m.getText(),L=I.size-1,D=this.props.children||I.map(function($,B){var U=$.get("decoratorKey"),q=$.get("leaves"),W=q.size-1,V=q.map(function(Y,Q){var re=n.encode(N,B,Q),z=Y.get("start"),K=Y.get("end");return i.createElement(r,{key:re,offsetKey:re,block:m,start:z,selection:R?M:null,forceSelection:T,text:P.slice(z,K),styleSet:m.getInlineStyleAt(z),customStyleMap:v,customStyleFn:b,isLast:U===L&&Q===W})}).toArray();return!U||!C?V:i.createElement(t,{block:m,children:V,contentState:y,decorator:C,decoratorKey:U,direction:E,leafSet:$,text:P,key:B})}).toArray();return i.createElement("div",{"data-offset-key":n.encode(N,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":E==="LTR","public/DraftStyleDefault/rtl":E==="RTL"})},D)},d})(i.Component);return PE=a,PE}var kE,_F;function DE(){if(_F)return kE;_F=1;function e(r,n){return!!n&&(r===n.documentElement||r===n.body)}var t={getTop:function(n){var o=n.ownerDocument;return e(n,o)?o.body.scrollTop||o.documentElement.scrollTop:n.scrollTop},setTop:function(n,o){var i=n.ownerDocument;e(n,i)?i.body.scrollTop=i.documentElement.scrollTop=o:n.scrollTop=o},getLeft:function(n){var o=n.ownerDocument;return e(n,o)?o.body.scrollLeft||o.documentElement.scrollLeft:n.scrollLeft},setLeft:function(n,o){var i=n.ownerDocument;e(n,i)?i.body.scrollLeft=i.documentElement.scrollLeft=o:n.scrollLeft=o}};return kE=t,kE}var AE,EF;function Nhe(){if(EF)return AE;EF=1;var e=/-(.)/g;function t(r){return r.replace(e,function(n,o){return o.toUpperCase()})}return AE=t,AE}var LE,TF;function Bhe(){if(TF)return LE;TF=1;var e=/([A-Z])/g;function t(r){return r.replace(e,"-$1").toLowerCase()}return LE=t,LE}var NE,MF;function Fhe(){if(MF)return NE;MF=1;var e=Nhe(),t=Bhe();function r(o){return o==null?o:String(o)}function n(o,i){var s;if(window.getComputedStyle&&(s=window.getComputedStyle(o,null),s))return r(s.getPropertyValue(t(i)));if(document.defaultView&&document.defaultView.getComputedStyle){if(s=document.defaultView.getComputedStyle(o,null),s)return r(s.getPropertyValue(t(i)));if(i==="display")return"none"}return o.currentStyle?r(i==="float"?o.currentStyle.cssFloat||o.currentStyle.styleFloat:o.currentStyle[e(i)]):r(o.style&&o.style[e(i)])}return NE=n,NE}var BE,OF;function Wy(){if(OF)return BE;OF=1;var e=Fhe();function t(n,o){var i=r.get(n,o);return i==="auto"||i==="scroll"}var r={get:e,getScrollParent:function(o){if(!o)return null;for(var i=o.ownerDocument;o&&o!==i.body;){if(t(o,"overflow")||t(o,"overflowY")||t(o,"overflowX"))return o;o=o.parentNode}return i.defaultView||i.parentWindow}};return BE=r,BE}var FE,RF;function jhe(){if(RF)return FE;RF=1;var e=ME();function t(r){var n=r.ownerDocument.documentElement;if(!("getBoundingClientRect"in r)||!e(n,r))return{left:0,right:0,top:0,bottom:0};var o=r.getBoundingClientRect();return{left:Math.round(o.left)-n.clientLeft,right:Math.round(o.right)-n.clientLeft,top:Math.round(o.top)-n.clientTop,bottom:Math.round(o.bottom)-n.clientTop}}return FE=t,FE}var jE,IF;function PF(){if(IF)return jE;IF=1;var e=jhe();function t(r){var n=e(r);return{x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top}}return jE=t,jE}var VE,kF;function Vhe(){if(kF)return VE;kF=1;var e=typeof navigator<"u"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function t(r){return r=r||document,r.scrollingElement?r.scrollingElement:!e&&r.compatMode==="CSS1Compat"?r.documentElement:r.body}return VE=t,VE}var $E,DF;function $he(){if(DF)return $E;DF=1;function e(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}return $E=e,$E}var zE,AF;function Ky(){if(AF)return zE;AF=1;var e=Vhe(),t=$he();function r(n){var o=e(n.ownerDocument||n.document);n.Window&&n instanceof n.Window&&(n=o);var i=t(n),s=n===o?n.ownerDocument.documentElement:n,a=n.scrollWidth-s.clientWidth,c=n.scrollHeight-s.clientHeight;return i.x=Math.max(0,Math.min(i.x,a)),i.y=Math.max(0,Math.min(i.y,c)),i}return zE=r,zE}var UE,LF;function NF(){if(LF)return UE;LF=1;function e(){var n;return document.documentElement&&(n=document.documentElement.clientWidth),!n&&document.body&&(n=document.body.clientWidth),n||0}function t(){var n;return document.documentElement&&(n=document.documentElement.clientHeight),!n&&document.body&&(n=document.body.clientHeight),n||0}function r(){return{width:window.innerWidth||e(),height:window.innerHeight||t()}}return r.withoutScrollbars=function(){return{width:e(),height:t()}},UE=r,UE}var GE,BF;function zhe(){if(BF)return GE;BF=1;var e=ud();function t(){return t=e||function(L){for(var D=1;D<arguments.length;D++){var $=arguments[D];for(var B in $)Object.prototype.hasOwnProperty.call($,B)&&(L[B]=$[B])}return L},t.apply(this,arguments)}function r(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function n(L,D){L.prototype=Object.create(D.prototype),L.prototype.constructor=L,L.__proto__=D}function o(L){for(var D=1;D<arguments.length;D++){var $=arguments[D]!=null?arguments[D]:{},B=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols($).filter(function(U){return Object.getOwnPropertyDescriptor($,U).enumerable}))),B.forEach(function(U){i(L,U,$[U])})}return L}function i(L,D,$){return D in L?Object.defineProperty(L,D,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[D]=$,L}var s=Lhe(),a=Gl(),c=di(),d=DE(),h=Wy(),f=PF(),g=Ky(),m=NF(),y=Qr(),b=en(),v=sg(),C=10;y.List;var E=function(D,$){return D.getAnchorKey()===$||D.getFocusKey()===$},T=function(D,$){var B=D.getNextSiblingKey();return B?$.getBlockForKey(B).getType()===D.getType():!1},R=function(D,$,B){var U=[],q=!0,W=!1,V=void 0;try{for(var Y=B.reverse()[Symbol.iterator](),Q;!(q=(Q=Y.next()).done);q=!0){var re=Q.value;if(re.type!==$)break;U.push(re)}}catch(Z){W=!0,V=Z}finally{try{!q&&Y.return!=null&&Y.return()}finally{if(W)throw V}}B.splice(B.indexOf(U[0]),U.length+1);var z=U.reverse(),K=z[0].key;return B.push(c.cloneElement(D,{key:"".concat(K,"-wrap"),"data-offset-key":a.encode(K,0,0)},z)),B},M=function(D,$){var B=$.get(D.getType())||$.get("unstyled"),U=B.wrapper,q=B.element||$.get("unstyled").element;return{Element:q,wrapperTemplate:U}},I=function(D,$){var B=$(D);if(!B)return{};var U=B.component,q=B.props,W=B.editable;return{CustomComponent:U,customProps:q,customEditable:W}},N=function(D,$,B,U,q,W){var V={"data-block":!0,"data-editor":$,"data-offset-key":B,key:D.getKey(),ref:W},Y=U(D);return Y&&(V.className=Y),q.customEditable!==void 0&&(V=o({},V,{contentEditable:q.customEditable,suppressContentEditableWarning:!0})),V},P=(function(L){n(D,L);function D(){for(var B,U=arguments.length,q=new Array(U),W=0;W<U;W++)q[W]=arguments[W];return B=L.call.apply(L,[this].concat(q))||this,i(r(B),"wrapperRef",c.createRef()),B}var $=D.prototype;return $.shouldComponentUpdate=function(U){var q=this.props,W=q.block,V=q.direction,Y=q.tree,Q=!W.getChildKeys().isEmpty(),re=W!==U.block||Y!==U.tree||V!==U.direction||E(U.selection,U.block.getKey())&&U.forceSelection;return Q||re},$.componentDidMount=function(){var U=this.props.selection,q=U.getEndKey();if(!(!U.getHasFocus()||q!==this.props.block.getKey())){var W=this.wrapperRef.current;if(W){var V=h.getScrollParent(W),Y=g(V),Q;if(V===window){var re=f(W),z=re.y+re.height,K=m().height;Q=z-K,Q>0&&window.scrollTo(Y.x,Y.y+Q+C)}else{v(W)||b(!1);var Z=W,le=Z.offsetHeight+Z.offsetTop,ce=V.offsetHeight+Y.y;Q=le-ce,Q>0&&d.setTop(V,d.getTop(V)+Q+C)}}}},$.render=function(){var U=this,q=this.props,W=q.block,V=q.blockRenderMap,Y=q.blockRendererFn,Q=q.blockStyleFn,re=q.contentState,z=q.decorator,K=q.editorKey,Z=q.editorState,le=q.customStyleFn,ce=q.customStyleMap,ue=q.direction,ae=q.forceSelection,ye=q.selection,Me=q.tree,xe=null;W.children.size&&(xe=W.children.reduce(function(je,Rt){var dt=a.encode(Rt,0,0),Ct=re.getBlockForKey(Rt),$e=I(Ct,Y),It=$e.CustomComponent||D,mt=M(Ct,V),Bt=mt.Element,zt=mt.wrapperTemplate,qt=N(Ct,K,dt,Q,$e,null),tr=o({},U.props,{tree:Z.getBlockTree(Rt),blockProps:$e.customProps,offsetKey:dt,block:Ct});return je.push(c.createElement(Bt,qt,c.createElement(It,tr))),!zt||T(Ct,re)||R(zt,Bt,je),je},[]));var he=W.getKey(),pe=a.encode(he,0,0),Se=I(W,Y),Ee=Se.CustomComponent,ke=Ee!=null?c.createElement(Ee,t({},this.props,{tree:Z.getBlockTree(he),blockProps:Se.customProps,offsetKey:pe,block:W})):c.createElement(s,{block:W,children:xe,contentState:re,customStyleFn:le,customStyleMap:ce,decorator:z,direction:ue,forceSelection:ae,hasSelection:E(ye,he),selection:ye,tree:Me});if(W.getParentKey())return ke;var Te=M(W,V),Ve=Te.Element,nt=N(W,K,pe,Q,Se,this.wrapperRef);return c.createElement(Ve,nt,ke)},D})(c.Component);return GE=P,GE}var HE,FF;function Uhe(){if(FF)return HE;FF=1;var e=ud();function t(){return t=e||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function r(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var n=zhe(),o=Gl(),i=di(),s=Li(),a=(function(c){r(d,c);function d(){return c.apply(this,arguments)||this}var h=d.prototype;return h.shouldComponentUpdate=function(g){var m=this.props.editorState,y=g.editorState,b=m.getDirectionMap(),v=y.getDirectionMap();if(b!==v)return!0;var C=m.getSelection().getHasFocus(),E=y.getSelection().getHasFocus();if(C!==E)return!0;var T=y.getNativelyRenderedContent(),R=m.isInCompositionMode(),M=y.isInCompositionMode();if(m===y||T!==null&&y.getCurrentContent()===T||R&&M)return!1;var I=m.getCurrentContent(),N=y.getCurrentContent(),P=m.getDecorator(),L=y.getDecorator();return R!==M||I!==N||P!==L||y.mustForceSelection()},h.render=function(){for(var g=this.props,m=g.blockRenderMap,y=g.blockRendererFn,b=g.blockStyleFn,v=g.customStyleMap,C=g.customStyleFn,E=g.editorState,T=g.editorKey,R=g.textDirectionality,M=E.getCurrentContent(),I=E.getSelection(),N=E.mustForceSelection(),P=E.getDecorator(),L=s(E.getDirectionMap()),D=M.getBlocksAsArray(),$=D[0],B=[],U=$;U;){var q=U.getKey(),W={blockRenderMap:m,blockRendererFn:y,blockStyleFn:b,contentState:M,customStyleFn:C,customStyleMap:v,decorator:P,editorKey:T,editorState:E,forceSelection:N,selection:I,block:U,direction:R||L.get(q),tree:E.getBlockTree(q)},V=m.get(U.getType())||m.get("unstyled"),Y=V.wrapper;B.push({block:i.createElement(n,t({key:q},W)),wrapperTemplate:Y,key:q,offsetKey:o.encode(q,0,0)});var Q=U.getNextSiblingKey();U=Q?M.getBlockForKey(Q):null}for(var re=[],z=0;z<B.length;){var K=B[z];if(K.wrapperTemplate){var Z=[];do Z.push(B[z].block),z++;while(z<B.length&&B[z].wrapperTemplate===K.wrapperTemplate);var le=i.cloneElement(K.wrapperTemplate,{key:K.key+"-wrap","data-offset-key":K.offsetKey},Z);re.push(le)}else re.push(K.block),z++}return i.createElement("div",{"data-contents":"true"},re)},d})(i.Component);return HE=a,HE}var WE,jF;function VF(){if(jF)return WE;jF=1;var e=ud();function t(){return t=e||function(I){for(var N=1;N<arguments.length;N++){var P=arguments[N];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(I[L]=P[L])}return I},t.apply(this,arguments)}function r(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function n(I,N){I.prototype=Object.create(N.prototype),I.prototype.constructor=I,I.__proto__=N}function o(I,N,P){return N in I?Object.defineProperty(I,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):I[N]=P,I}var i=CF(),s=Gl(),a=di(),c=DE(),d=Wy(),h=B_(),f=zy(),g=cd(),m=PF(),y=Ky(),b=NF(),v=en(),C=sg(),E=Li(),T=10,R=function(N,P){return N.getAnchorKey()===P||N.getFocusKey()===P},M=(function(I){n(N,I);function N(){for(var L,D=arguments.length,$=new Array(D),B=0;B<D;B++)$[B]=arguments[B];return L=I.call.apply(I,[this].concat($))||this,o(r(L),"_node",void 0),L}var P=N.prototype;return P.shouldComponentUpdate=function(D){return this.props.block!==D.block||this.props.tree!==D.tree||this.props.direction!==D.direction||R(D.selection,D.block.getKey())&&D.forceSelection},P.componentDidMount=function(){if(!this.props.preventScroll){var D=this.props.selection,$=D.getEndKey();if(!(!D.getHasFocus()||$!==this.props.block.getKey())){var B=this._node;if(B!=null){var U=d.getScrollParent(B),q=y(U),W;if(U===window){var V=m(B),Y=V.y+V.height,Q=b().height;W=Y-Q,W>0&&window.scrollTo(q.x,q.y+W+T)}else{C(B)||v(!1);var re=B.offsetHeight+B.offsetTop,z=U.offsetTop+U.offsetHeight,K=z+q.y;W=re-K,W>0&&c.setTop(U,c.getTop(U)+W+T)}}}}},P._renderChildren=function(){var D=this,$=this.props.block,B=$.getKey(),U=$.getText(),q=this.props.tree.size-1,W=R(this.props.selection,B);return this.props.tree.map(function(V,Y){var Q=V.get("leaves");if(Q.size===0)return null;var re=Q.size-1,z=Q.map(function(Se,Ee){var ke=s.encode(B,Y,Ee),Te=Se.get("start"),Ve=Se.get("end");return a.createElement(i,{key:ke,offsetKey:ke,block:$,start:Te,selection:W?D.props.selection:null,forceSelection:D.props.forceSelection,text:U.slice(Te,Ve),styleSet:$.getInlineStyleAt(Te),customStyleMap:D.props.customStyleMap,customStyleFn:D.props.customStyleFn,isLast:Y===q&&Ee===re})}).toArray(),K=V.get("decoratorKey");if(K==null||!D.props.decorator)return z;var Z=E(D.props.decorator),le=Z.getComponentForKey(K);if(!le)return z;var ce=Z.getPropsForKey(K),ue=s.encode(B,Y,0),ae=Q.first().get("start"),ye=Q.last().get("end"),Me=U.slice(ae,ye),xe=$.getEntityAt(V.get("start")),he=f.getHTMLDirIfDifferent(h.getDirection(Me),D.props.direction),pe={contentState:D.props.contentState,decoratedText:Me,dir:he,start:ae,end:ye,blockKey:B,entityKey:xe,offsetKey:ue};return a.createElement(le,t({},ce,pe,{key:ue}),z)}).toArray()},P.render=function(){var D=this,$=this.props,B=$.direction,U=$.offsetKey,q=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":B==="LTR","public/DraftStyleDefault/rtl":B==="RTL"});return a.createElement("div",{"data-offset-key":U,className:q,ref:function(V){return D._node=V}},this._renderChildren())},N})(a.Component);return WE=M,WE}var KE,$F;function Ghe(){if($F)return KE;$F=1;function e(t){var r=t||"",n=arguments.length;if(n>1)for(var o=1;o<n;o++){var i=arguments[o];i&&(r=(r?r+" ":"")+i)}return r}return KE=e,KE}var qE,zF;function Hhe(){if(zF)return qE;zF=1;var e=ud();function t(){return t=e||function(m){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(m[v]=b[v])}return m},t.apply(this,arguments)}function r(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(C){return Object.getOwnPropertyDescriptor(b,C).enumerable}))),v.forEach(function(C){n(m,C,b[C])})}return m}function n(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}function o(m,y){m.prototype=Object.create(y.prototype),m.prototype.constructor=m,m.__proto__=y}var i=VF(),s=Gl(),a=di(),c=cd(),d=Ghe(),h=Li(),f=function(y,b,v,C){return c({"public/DraftStyleDefault/unorderedListItem":y==="unordered-list-item","public/DraftStyleDefault/orderedListItem":y==="ordered-list-item","public/DraftStyleDefault/reset":v,"public/DraftStyleDefault/depth0":b===0,"public/DraftStyleDefault/depth1":b===1,"public/DraftStyleDefault/depth2":b===2,"public/DraftStyleDefault/depth3":b===3,"public/DraftStyleDefault/depth4":b>=4,"public/DraftStyleDefault/listLTR":C==="LTR","public/DraftStyleDefault/listRTL":C==="RTL"})},g=(function(m){o(y,m);function y(){return m.apply(this,arguments)||this}var b=y.prototype;return b.shouldComponentUpdate=function(C){var E=this.props.editorState,T=C.editorState,R=E.getDirectionMap(),M=T.getDirectionMap();if(R!==M)return!0;var I=E.getSelection().getHasFocus(),N=T.getSelection().getHasFocus();if(I!==N)return!0;var P=T.getNativelyRenderedContent(),L=E.isInCompositionMode(),D=T.isInCompositionMode();if(E===T||P!==null&&T.getCurrentContent()===P||L&&D)return!1;var $=E.getCurrentContent(),B=T.getCurrentContent(),U=E.getDecorator(),q=T.getDecorator();return L!==D||$!==B||U!==q||T.mustForceSelection()},b.render=function(){for(var C=this.props,E=C.blockRenderMap,T=C.blockRendererFn,R=C.blockStyleFn,M=C.customStyleMap,I=C.customStyleFn,N=C.editorState,P=C.editorKey,L=C.preventScroll,D=C.textDirectionality,$=N.getCurrentContent(),B=N.getSelection(),U=N.mustForceSelection(),q=N.getDecorator(),W=h(N.getDirectionMap()),V=$.getBlocksAsArray(),Y=[],Q=null,re=null,z=0;z<V.length;z++){var K=V[z],Z=K.getKey(),le=K.getType(),ce=T(K),ue=void 0,ae=void 0,ye=void 0;ce&&(ue=ce.component,ae=ce.props,ye=ce.editable);var Me=D||W.get(Z),xe=s.encode(Z,0,0),he={contentState:$,block:K,blockProps:ae,blockStyleFn:R,customStyleMap:M,customStyleFn:I,decorator:q,direction:Me,forceSelection:U,offsetKey:xe,preventScroll:L,selection:B,tree:N.getBlockTree(Z)},pe=E.get(le)||E.get("unstyled"),Se=pe.wrapper,Ee=pe.element||E.get("unstyled").element,ke=K.getDepth(),Te="";if(R&&(Te=R(K)),Ee==="li"){var Ve=re!==Se||Q===null||ke>Q;Te=d(Te,f(le,ke,Ve,Me))}var nt=ue||i,je={className:Te,"data-block":!0,"data-editor":P,"data-offset-key":xe,key:Z};ye!==void 0&&(je=r({},je,{contentEditable:ye,suppressContentEditableWarning:!0}));var Rt=a.createElement(Ee,je,a.createElement(nt,t({},he,{key:Z})));Y.push({block:Rt,wrapperTemplate:Se,key:Z,offsetKey:xe}),Se?Q=K.getDepth():Q=null,re=Se}for(var dt=[],Ct=0;Ct<Y.length;){var $e=Y[Ct];if($e.wrapperTemplate){var It=[];do It.push(Y[Ct].block),Ct++;while(Ct<Y.length&&Y[Ct].wrapperTemplate===$e.wrapperTemplate);var mt=a.cloneElement($e.wrapperTemplate,{key:$e.key+"-wrap","data-offset-key":$e.offsetKey},It);dt.push(mt)}else dt.push($e.block),Ct++}return a.createElement("div",{"data-contents":"true"},dt)},y})(a.Component);return qE=g,qE}var YE,UF;function Whe(){if(UF)return YE;UF=1;var e=Fc(),t=e("draft_tree_data_support");return YE=t?Uhe():Hhe(),YE}var XE,GF;function Khe(){if(GF)return XE;GF=1;var e={isImage:function(n){return t(n)[0]==="image"},isJpeg:function(n){var o=t(n);return e.isImage(n)&&(o[1]==="jpeg"||o[1]==="pjpeg")}};function t(r){return r.split("/")}return XE=e,XE}var ZE,HF;function qhe(){if(HF)return ZE;HF=1;var e=en();function t(o){var i=o.length;if(!Array.isArray(o)&&(typeof o=="object"||typeof o=="function")||e(!1),typeof i!="number"&&e(!1),i===0||i-1 in o||e(!1),typeof o.callee=="function"&&e(!1),o.hasOwnProperty)try{return Array.prototype.slice.call(o)}catch{}for(var s=Array(i),a=0;a<i;a++)s[a]=o[a];return s}function r(o){return!!o&&(typeof o=="object"||typeof o=="function")&&"length"in o&&!("setInterval"in o)&&typeof o.nodeType!="number"&&(Array.isArray(o)||"callee"in o||"item"in o)}function n(o){return r(o)?Array.isArray(o)?o.slice():t(o):[o]}return ZE=n,ZE}var QE,WF;function KF(){if(WF)return QE;WF=1;function e(r){return function(){return r}}var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(r){return r},QE=t,QE}var JE,qF;function YF(){if(qF)return JE;qF=1;var e=Khe(),t=qhe(),r=KF(),n=new RegExp(`\r
`,"g"),o=`
`,i={"text/rtf":1,"text/html":1};function s(c){if(c.kind=="file")return c.getAsFile()}var a=(function(){function c(h){this.data=h,this.types=h.types?t(h.types):[]}var d=c.prototype;return d.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(f){return i[f]})},d.getText=function(){var f;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(f=this.data.getData("text/plain")):f=this.data.getData("Text")),f?f.replace(n,o):null},d.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},d.isLink=function(){return this.types.some(function(f){return f.indexOf("Url")!=-1||f.indexOf("text/uri-list")!=-1||f.indexOf("text/x-moz-url")})},d.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var f=this.data.getData("text/x-moz-url").split(`
`);return f[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},d.isImage=function(){var f=this.types.some(function(b){return b.indexOf("application/x-moz-file")!=-1});if(f)return!0;for(var g=this.getFiles(),m=0;m<g.length;m++){var y=g[m].type;if(!e.isImage(y))return!1}return!0},d.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},d.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(s).filter(r.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},d.hasFiles=function(){return this.getFiles().length>0},c})();return JE=a,JE}var e1,XF;function ZF(){if(XF)return e1;XF=1;var e=en(),t=/\.textClipping$/,r={"text/plain":!0,"text/html":!0,"text/rtf":!0},n=5e3;function o(s,a){var c=0,d=[];s.forEach(function(h){i(h,function(f){c++,f&&d.push(f.slice(0,n)),c==s.length&&a(d.join("\r"))})})}function i(s,a){if(!globalThis.FileReader||s.type&&!(s.type in r)){a("");return}if(s.type===""){var c="";t.test(s.name)&&(c=s.name.replace(t,"")),a(c);return}var d=new FileReader;d.onload=function(){var h=d.result;typeof h!="string"&&e(!1),a(h)},d.onerror=function(){a("")},d.readAsText(s)}return e1=o,e1}var t1,QF;function qy(){if(QF)return t1;QF=1;function e(t){return t==="handled"||t===!0}return t1=e,t1}var r1,JF;function Yhe(){if(JF)return r1;JF=1;var e=YF(),t=Ai(),r=Nn(),n=Gy(),o=Uy(),i=ZF(),s=QB(),a=zB(),c=qy(),d=Li();function h(b,v){var C=null,E=null,T=o(b.currentTarget);if(typeof T.caretRangeFromPoint=="function"){var R=T.caretRangeFromPoint(b.x,b.y);C=R.startContainer,E=R.startOffset}else if(b.rangeParent)C=b.rangeParent,E=b.rangeOffset;else return null;C=d(C),E=d(E);var M=d(n(C));return s(v,M,E,M,E)}var f={onDragEnd:function(v){v.exitCurrentMode(),g(v)},onDrop:function(v,C){var E=new e(C.nativeEvent.dataTransfer),T=v._latestEditorState,R=h(C.nativeEvent,T);if(C.preventDefault(),v._dragCount=0,v.exitCurrentMode(),R!=null){var M=E.getFiles();if(M.length>0){if(v.props.handleDroppedFiles&&c(v.props.handleDroppedFiles(R,M)))return;i(M,function(N){N&&v.update(y(T,R,N))});return}var I=v._internalDrag?"internal":"external";v.props.handleDrop&&c(v.props.handleDrop(R,E,I))||(v._internalDrag?v.update(m(T,R)):v.update(y(T,R,E.getText()))),g(v)}}};function g(b){b._internalDrag=!1;var v=b.editorContainer;if(v){var C=new MouseEvent("mouseup",{view:a(v),bubbles:!0,cancelable:!0});v.dispatchEvent(C)}}function m(b,v){var C=t.moveText(b.getCurrentContent(),b.getSelection(),v);return r.push(b,C,"insert-fragment")}function y(b,v,C){var E=t.insertText(b.getCurrentContent(),v,C,b.getCurrentInlineStyle());return r.push(b,E,"insert-fragment")}return r1=f,r1}var n1,ej;function Xhe(){if(ej)return n1;ej=1;function e(t){var r=t.getSelection(),n=r.getAnchorKey(),o=t.getBlockTree(n),i=r.getStartOffset(),s=!1;return o.some(function(a){return i===a.get("start")?(s=!0,!0):i<a.get("end")?a.get("leaves").some(function(c){var d=c.get("start");return i===d?(s=!0,!0):!1}):!1}),s}return n1=e,n1}var o1={},tj;function Zhe(){return tj||(tj=1,(function(e,t){if(e.setImmediate)return;var r=1,n={},o=!1,i=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),R=0;R<T.length;R++)T[R]=arguments[R+1];var M={callback:E,args:T};return n[r]=M,s(r),r++}function c(E){delete n[E]}function d(E){var T=E.callback,R=E.args;switch(R.length){case 0:T();break;case 1:T(R[0]);break;case 2:T(R[0],R[1]);break;case 3:T(R[0],R[1],R[2]);break;default:T.apply(t,R);break}}function h(E){if(o)setTimeout(h,0,E);else{var T=n[E];if(T){o=!0;try{d(T)}finally{c(E),o=!1}}}}function f(){s=function(E){process.nextTick(function(){h(E)})}}function g(){if(e.postMessage&&!e.importScripts){var E=!0,T=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=T,E}}function m(){var E="setImmediate$"+Math.random()+"$",T=function(R){R.source===e&&typeof R.data=="string"&&R.data.indexOf(E)===0&&h(+R.data.slice(E.length))};e.addEventListener?e.addEventListener("message",T,!1):e.attachEvent("onmessage",T),s=function(R){e.postMessage(E+R,"*")}}function y(){var E=new MessageChannel;E.port1.onmessage=function(T){var R=T.data;h(R)},s=function(T){E.port2.postMessage(T)}}function b(){var E=i.documentElement;s=function(T){var R=i.createElement("script");R.onreadystatechange=function(){h(T),R.onreadystatechange=null,E.removeChild(R),R=null},E.appendChild(R)}}function v(){s=function(E){setTimeout(h,0,E)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(e);C=C&&C.setTimeout?C:e,{}.toString.call(e.process)==="[object process]"?f():g()?m():e.MessageChannel?y():i&&"onreadystatechange"in i.createElement("script")?b():v(),C.setImmediate=a,C.clearImmediate=c})(typeof self>"u"?typeof globalThis>"u"?o1:globalThis:self)),o1}var i1,rj;function Qhe(){return rj||(rj=1,Zhe(),i1=globalThis.setImmediate),i1}var s1,nj;function Jhe(){if(nj)return s1;nj=1;var e=Ai(),t=Nn(),r=Ni(),n=yE(),o=qy(),i=Xhe(),s=Li(),a=Qhe(),c="'",d="/",h=r.isBrowser("Firefox");function f(y){return h&&(y==c||y==d)}function g(y,b,v,C,E){var T=e.replaceText(y.getCurrentContent(),y.getSelection(),b,v,C);return t.push(y,T,"insert-characters",E)}function m(y,b){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0);var v=y._latestEditorState,C=b.data;if(C){if(y.props.handleBeforeInput&&o(y.props.handleBeforeInput(C,v,b.timeStamp))){b.preventDefault();return}var E=v.getSelection(),T=E.getStartOffset(),R=E.getAnchorKey();if(!E.isCollapsed()){b.preventDefault(),y.update(g(v,C,v.getCurrentInlineStyle(),n(v.getCurrentContent(),v.getSelection()),!0));return}var M=g(v,C,v.getCurrentInlineStyle(),n(v.getCurrentContent(),v.getSelection()),!1),I=!1;if(I||(I=i(y._latestCommittedEditorState)),!I){var N=v.getBlockTree(R),P=M.getBlockTree(R);I=N.size!==P.size||N.zip(P).some(function(L){var D=L[0],$=L[1],B=D.get("start"),U=B+(B>=T?C.length:0),q=D.get("end"),W=q+(q>=T?C.length:0),V=$.get("start"),Y=$.get("end"),Q=$.get("decoratorKey");return D.get("decoratorKey")!==Q||D.get("leaves").size!==$.get("leaves").size||U!==V||W!==Y||Q!=null&&Y-V!==q-B})}if(I||(I=f(C)),I||(I=s(M.getDirectionMap()).get(R)!==s(v.getDirectionMap()).get(R)),I){b.preventDefault(),M=t.set(M,{forceSelection:!0}),y.update(M);return}M=t.set(M,{nativelyRenderedContent:M.getCurrentContent()}),y._pendingStateFromBeforeInput=M,a(function(){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0)})}}return s1=m,s1}var a1,oj;function efe(){if(oj)return a1;oj=1;var e=Nn(),t=ME(),r=bF();function n(o,i){var s=i.currentTarget.ownerDocument;if(!o.props.preserveSelectionOnBlur&&r(s)===s.body){var a=s.defaultView.getSelection(),c=o.editor;a.rangeCount===1&&t(c,a.anchorNode)&&t(c,a.focusNode)&&a.removeAllRanges()}var d=o._latestEditorState,h=d.getSelection();if(h.getHasFocus()){var f=h.set("hasFocus",!1);o.props.onBlur&&o.props.onBlur(i),o.update(e.acceptSelection(d,f))}}return a1=n,a1}var l1,ij;function tfe(){if(ij)return l1;ij=1;var e=Nn();function t(r,n){r.setMode("composite"),r.update(e.set(r._latestEditorState,{inCompositionMode:!0})),r._onCompositionStart(n)}return l1=t,l1}var c1,sj;function aj(){if(sj)return c1;sj=1;var e=jy();function t(r){var n=r.getSelection();return n.isCollapsed()?null:e(r.getCurrentContent(),n)}return c1=t,c1}var u1,lj;function rfe(){if(lj)return u1;lj=1;var e=aj();function t(r,n){var o=r._latestEditorState,i=o.getSelection();if(i.isCollapsed()){n.preventDefault();return}r.setClipboard(e(r._latestEditorState))}return u1=t,u1}var d1,cj;function nfe(){if(cj)return d1;cj=1;function e(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var r=t;if(!r.ownerDocument.defaultView)return r instanceof Node;if(r instanceof r.ownerDocument.defaultView.Node)return!0}return!1}return d1=e,d1}var h1,uj;function ofe(){if(uj)return h1;uj=1;var e=Ai(),t=Nn(),r=Wy(),n=aj(),o=Ky(),i=nfe();function s(c,d){var h=c._latestEditorState,f=h.getSelection(),g=d.target,m;if(f.isCollapsed()){d.preventDefault();return}if(i(g)){var y=g;m=o(r.getScrollParent(y))}var b=n(h);c.setClipboard(b),c.setMode("cut"),setTimeout(function(){c.restoreEditorDOM(m),c.exitCurrentMode(),c.update(a(h))},0)}function a(c){var d=e.removeRange(c.getCurrentContent(),c.getSelection(),"forward");return t.push(c,d,"remove-range")}return h1=s,h1}var f1,dj;function ife(){if(dj)return f1;dj=1;function e(t,r){t.setMode("drag"),r.preventDefault()}return f1=e,f1}var p1,hj;function sfe(){if(hj)return p1;hj=1;function e(t){t._internalDrag=!0,t.setMode("drag")}return p1=e,p1}var g1,fj;function afe(){if(fj)return g1;fj=1;var e=Nn(),t=Ni();function r(n,o){var i=n._latestEditorState,s=i.getSelection();if(!s.getHasFocus()){var a=s.set("hasFocus",!0);n.props.onFocus&&n.props.onFocus(o),t.isBrowser("Chrome < 60.0.3081.0")?n.update(e.forceSelection(i,a)):n.update(e.acceptSelection(i,a))}}return g1=r,g1}var m1,pj;function hd(){if(pj)return m1;pj=1;var e=en(),t=55296,r=56319,n=56320,o=57343,i=/[\uD800-\uDFFF]/;function s(b){return t<=b&&b<=o}function a(b,v){if(0<=v&&v<b.length||e(!1),v+1===b.length)return!1;var C=b.charCodeAt(v),E=b.charCodeAt(v+1);return t<=C&&C<=r&&n<=E&&E<=o}function c(b){return i.test(b)}function d(b,v){return 1+s(b.charCodeAt(v))}function h(b){if(!c(b))return b.length;for(var v=0,C=0;C<b.length;C+=d(b,C))v++;return v}function f(b,v,C){if(v=v||0,C=C===void 0?1/0:C||0,!c(b))return b.substr(v,C);var E=b.length;if(E<=0||v>E||C<=0)return"";var T=0;if(v>0){for(;v>0&&T<E;v--)T+=d(b,T);if(T>=E)return""}else if(v<0){for(T=E;v<0&&0<T;v++)T-=d(b,T-1);T<0&&(T=0)}var R=E;if(C<E)for(R=T;C>0&&R<E;C--)R+=d(b,R);return b.substring(T,R)}function g(b,v,C){v=v||0,C=C===void 0?1/0:C||0,v<0&&(v=0),C<0&&(C=0);var E=Math.abs(C-v);return v=v<C?v:C,f(b,v,E)}function m(b){for(var v=[],C=0;C<b.length;C+=d(b,C))v.push(b.codePointAt(C));return v}var y={getCodePoints:m,getUTF16Length:d,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:a,strlen:h,substring:g,substr:f};return m1=y,m1}var v1,gj;function y1(){if(gj)return v1;gj=1;var e=KF(),t=e;return v1=t,v1}var b1,mj;function w1(){if(mj)return b1;mj=1,y1();function e(t,r){var n=t.getSelection(),o=t.getCurrentContent(),i=n.getStartKey(),s=n.getStartOffset(),a=i,c=0;if(r>s){var d=o.getKeyBefore(i);if(d==null)a=i;else{a=d;var h=o.getBlockForKey(d);c=h.getText().length}}else c=s-r;return n.merge({focusKey:a,focusOffset:c,isBackward:!0})}return b1=e,b1}var S1,vj;function ag(){if(vj)return S1;vj=1;var e=Ai(),t=Fc(),r=t("draft_tree_data_support");function n(o,i,s){var a=o.getSelection(),c=o.getCurrentContent(),d=a,h=a.getAnchorKey(),f=a.getFocusKey(),g=c.getBlockForKey(h);if(r&&s==="forward"&&h!==f)return c;if(a.isCollapsed()){if(s==="forward"){if(o.isSelectionAtEndOfContent())return c;if(r){var m=a.getAnchorOffset()===c.getBlockForKey(h).getLength();if(m){var y=c.getBlockForKey(g.nextSibling);if(!y||y.getLength()===0)return c}}}else if(o.isSelectionAtStartOfContent())return c;if(d=i(o),d===a)return c}return e.removeRange(c,d,s)}return S1=n,S1}var C1,yj;function bj(){if(yj)return C1;yj=1;var e=Nn(),t=hd(),r=w1(),n=ag();function o(i){var s=n(i,function(c){var d=c.getSelection(),h=c.getCurrentContent(),f=d.getAnchorKey(),g=d.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g-1];return r(c,m?t.getUTF16Length(m,0):1)},"backward");if(s===i.getCurrentContent())return i;var a=i.getSelection();return e.push(i,s.set("selectionBefore",a),a.isCollapsed()?"backspace-character":"remove-range")}return C1=o,C1}var x1,wj;function lfe(){if(wj)return x1;wj=1;var e=Ai(),t=Gl(),r=Nn(),n=Ni(),o=sF(),i=o.notEmptyKey,s=Gy(),a=bj(),c=Li(),d=n.isEngine("Gecko"),h=`

`;function f(m,y){switch(m){case"deleteContentBackward":return a(y)}return y}function g(m,y){m._pendingStateFromBeforeInput!==void 0&&(m.update(m._pendingStateFromBeforeInput),m._pendingStateFromBeforeInput=void 0);var b=m.editor,v=b.ownerDocument.defaultView.getSelection(),C=v.anchorNode,E=v.isCollapsed,T=C?.nodeType!==Node.TEXT_NODE&&C?.nodeType!==Node.ELEMENT_NODE;if(!(C==null||T)){if(C.nodeType===Node.TEXT_NODE&&(C.previousSibling!==null||C.nextSibling!==null)){var R=C.parentNode;if(R==null)return;C.nodeValue=R.textContent;for(var M=R.firstChild;M!=null;M=M.nextSibling)M!==C&&R.removeChild(M)}var I=C.textContent,N=m._latestEditorState,P=c(s(C)),L=t.decode(P),D=L.blockKey,$=L.decoratorKey,B=L.leafKey,U=N.getBlockTree(D).getIn([$,"leaves",B]),q=U.start,W=U.end,V=N.getCurrentContent(),Y=V.getBlockForKey(D),Q=Y.getText().slice(q,W);if(I.endsWith(h)&&(I=I.slice(0,-1)),I===Q){var re=y.nativeEvent.inputType;if(re){var z=f(re,N);if(z!==N){m.restoreEditorDOM(),m.update(z);return}}return}var K=N.getSelection(),Z=K.merge({anchorOffset:q,focusOffset:W,isBackward:!1}),le=Y.getEntityAt(q),ce=i(le)?V.getEntity(le):null,ue=ce!=null?ce.getMutability():null,ae=ue==="MUTABLE",ye=ae?"spellcheck-change":"apply-entity",Me=e.replaceText(V,Z,I,Y.getInlineStyleAt(q),ae?Y.getEntityAt(q):null),xe,he,pe,Se;if(d)xe=v.anchorOffset,he=v.focusOffset,pe=q+Math.min(xe,he),Se=pe+Math.abs(xe-he),xe=pe,he=Se;else{var Ee=I.length-Q.length;pe=K.getStartOffset(),Se=K.getEndOffset(),xe=E?Se+Ee:pe,he=Se+Ee}var ke=Me.merge({selectionBefore:V.getSelectionAfter(),selectionAfter:K.merge({anchorOffset:xe,focusOffset:he})});m.update(r.push(N,ke,ye))}}return x1=g,x1}var _1,Sj;function cfe(){if(Sj)return _1;Sj=1;var e=Hy();function t(r){return r.which===e.RETURN&&(r.getModifierState("Shift")||r.getModifierState("Alt")||r.getModifierState("Control"))}return _1=t,_1}var E1,Cj;function T1(){if(Cj)return E1;Cj=1;var e=Ni(),t=cfe(),r=e.isPlatform("Mac OS X"),n={isCtrlKeyCommand:function(i){return!!i.ctrlKey&&!i.altKey},isOptionKeyCommand:function(i){return r&&i.altKey},usesMacOSHeuristics:function(){return r},hasCommandModifier:function(i){return r?!!i.metaKey&&!i.altKey:n.isCtrlKeyCommand(i)},isSoftNewlineEvent:t};return E1=n,E1}var M1,xj;function ufe(){if(xj)return M1;xj=1;var e=Ai(),t=Nn(),r=jy(),n=Li(),o=null,i={cut:function(a){var c=a.getCurrentContent(),d=a.getSelection(),h=null;if(d.isCollapsed()){var f=d.getAnchorKey(),g=c.getBlockForKey(f).getLength();if(g===d.getAnchorOffset()){var m=c.getKeyAfter(f);if(m==null)return a;h=d.set("focusKey",m).set("focusOffset",0)}else h=d.set("focusOffset",g)}else h=d;h=n(h),o=r(c,h);var y=e.removeRange(c,h,"forward");return y===c?a:t.push(a,y,"remove-range")},paste:function(a){if(!o)return a;var c=e.replaceWithFragment(a.getCurrentContent(),a.getSelection(),o);return t.push(a,c,"insert-fragment")}};return M1=i,M1}var O1,_j;function Ej(){if(_j)return O1;_j=1;var e=Ni(),t=en(),r=e.isBrowser("Chrome");function n(i){for(var s=i.cloneRange(),a=[],c=i.endContainer;c!=null;c=c.parentNode){var d=c===i.commonAncestorContainer;d?s.setStart(i.startContainer,i.startOffset):s.setStart(s.endContainer,0);var h=Array.from(s.getClientRects());if(a.push(h),d){var f;return a.reverse(),(f=[]).concat.apply(f,a)}s.setEndBefore(c)}t(!1)}var o=r?n:function(i){return Array.from(i.getClientRects())};return O1=o,O1}var R1,Tj;function dfe(){if(Tj)return R1;Tj=1;var e=hd(),t=Uy(),r=Ej(),n=en();function o(c){var d=getComputedStyle(c),h=t(c),f=h.createElement("div");f.style.fontFamily=d.fontFamily,f.style.fontSize=d.fontSize,f.style.fontStyle=d.fontStyle,f.style.fontWeight=d.fontWeight,f.style.lineHeight=d.lineHeight,f.style.position="absolute",f.textContent="M";var g=h.body;g||n(!1),g.appendChild(f);var m=f.getBoundingClientRect();return g.removeChild(f),m.height}function i(c,d){for(var h=1/0,f=1/0,g=-1/0,m=-1/0,y=0;y<c.length;y++){var b=c[y];b.width===0||b.width===1||(h=Math.min(h,b.top),f=Math.min(f,b.bottom),g=Math.max(g,b.top),m=Math.max(m,b.bottom))}return g<=f&&g-h<d&&m-f<d}function s(c){switch(c.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return c.length;default:return c.childNodes.length}}function a(c){c.collapsed||n(!1),c=c.cloneRange();var d=c.startContainer;d.nodeType!==1&&(d=d.parentNode);var h=o(d),f=c.endContainer,g=c.endOffset;for(c.setStart(c.startContainer,0);i(r(c),h)&&(f=c.startContainer,g=c.startOffset,f.parentNode||n(!1),c.setStartBefore(f),!(f.nodeType===1&&getComputedStyle(f).display!=="inline")););var m=f,y=g-1;do{for(var b=m.nodeValue,v=y;v>=0;v--)if(!(b!=null&&v>0&&e.isSurrogatePair(b,v-1)))if(c.setStart(m,v),i(r(c),h))f=m,g=v;else break;if(v===-1||m.childNodes.length===0)break;m=m.childNodes[v],y=s(m)}while(!0);return c.setStart(f,g),c}return R1=a,R1}var I1,Mj;function hfe(){if(Mj)return I1;Mj=1;var e=Nn(),t=dfe(),r=eF(),n=w1(),o=ag();function i(s,a){var c=o(s,function(d){var h=d.getSelection();if(h.isCollapsed()&&h.getAnchorOffset()===0)return n(d,1);var f=a.currentTarget.ownerDocument,g=f.defaultView.getSelection(),m=g.getRangeAt(0);return m=t(m),r(d,null,m.endContainer,m.endOffset,m.startContainer,m.startOffset).selectionState},"backward");return c===s.getCurrentContent()?s:e.push(s,c,"remove-range")}return I1=i,I1}var P1,Oj;function ffe(){if(Oj)return P1;Oj=1;var e=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]`;return P1={getPunctuation:function(){return e}},P1}var k1,Rj;function Ij(){if(Rj)return k1;Rj=1;var e=ffe(),t=e.getPunctuation(),r="['‘’]",n="\\s|(?![_])"+t,o="^(?:"+n+")*(?:"+r+"|(?!"+n+").)*(?:(?!"+n+").)",i=new RegExp(o),s="(?:(?!"+n+").)(?:"+r+"|(?!"+n+").)*(?:"+n+")*$",a=new RegExp(s);function c(h,f){var g=f?a.exec(h):i.exec(h);return g?g[0]:h}var d={getBackward:function(f){return c(f,!0)},getForward:function(f){return c(f,!1)}};return k1=d,k1}var D1,Pj;function pfe(){if(Pj)return D1;Pj=1;var e=Ij(),t=Nn(),r=w1(),n=ag();function o(i){var s=n(i,function(a){var c=a.getSelection(),d=c.getStartOffset();if(d===0)return r(a,1);var h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(0,d),m=e.getBackward(g);return r(a,m.length||1)},"backward");return s===i.getCurrentContent()?i:t.push(i,s,"remove-range")}return D1=o,D1}var A1,kj;function Dj(){if(kj)return A1;kj=1,y1();function e(t,r){var n=t.getSelection(),o=n.getStartKey(),i=n.getStartOffset(),s=t.getCurrentContent(),a=o,c,d=s.getBlockForKey(o);return r>d.getText().length-i?(a=s.getKeyAfter(o),c=0):c=i+r,n.merge({focusKey:a,focusOffset:c})}return A1=e,A1}var L1,Aj;function gfe(){if(Aj)return L1;Aj=1;var e=Ij(),t=Nn(),r=Dj(),n=ag();function o(i){var s=n(i,function(a){var c=a.getSelection(),d=c.getStartOffset(),h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(d),m=e.getForward(g);return r(a,m.length||1)},"forward");return s===i.getCurrentContent()?i:t.push(i,s,"remove-range")}return L1=o,L1}var N1,Lj;function mfe(){if(Lj)return N1;Lj=1;var e=Ai(),t=Nn();function r(n){var o=e.splitBlock(n.getCurrentContent(),n.getSelection());return t.push(n,o,"split-block")}return N1=r,N1}var B1,Nj;function vfe(){if(Nj)return B1;Nj=1;var e=Nn();function t(r){var n=r.getSelection(),o=n.getEndKey(),i=r.getCurrentContent(),s=i.getBlockForKey(o).getLength();return e.set(r,{selection:n.merge({anchorKey:o,anchorOffset:s,focusKey:o,focusOffset:s,isBackward:!1}),forceSelection:!0})}return B1=t,B1}var F1,Bj;function yfe(){if(Bj)return F1;Bj=1;var e=Nn();function t(r){var n=r.getSelection(),o=n.getStartKey();return e.set(r,{selection:n.merge({anchorKey:o,anchorOffset:0,focusKey:o,focusOffset:0,isBackward:!1}),forceSelection:!0})}return F1=t,F1}var j1,Fj;function bfe(){if(Fj)return j1;Fj=1;var e=Nn(),t=hd(),r=Dj(),n=ag();function o(i){var s=n(i,function(c){var d=c.getSelection(),h=c.getCurrentContent(),f=d.getAnchorKey(),g=d.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g];return r(c,m?t.getUTF16Length(m,0):1)},"forward");if(s===i.getCurrentContent())return i;var a=i.getSelection();return e.push(i,s.set("selectionBefore",a),a.isCollapsed()?"delete-character":"remove-range")}return j1=o,j1}var V1,jj;function wfe(){if(jj)return V1;jj=1;var e=Ai(),t=Nn(),r=jy();function n(o){var i=o.getSelection();if(!i.isCollapsed())return o;var s=i.getAnchorOffset();if(s===0)return o;var a=i.getAnchorKey(),c=o.getCurrentContent(),d=c.getBlockForKey(a),h=d.getLength();if(h<=1)return o;var f,g;s===h?(f=i.set("anchorOffset",s-1),g=i):(f=i.set("focusOffset",s+1),g=f.set("anchorOffset",s+1));var m=r(c,f),y=e.removeRange(c,f,"backward"),b=y.getSelectionAfter(),v=b.getAnchorOffset()-1,C=b.merge({anchorOffset:v,focusOffset:v}),E=e.replaceWithFragment(y,C,m),T=t.push(o,E,"insert-fragment");return t.acceptSelection(T,g)}return V1=n,V1}var $1,Vj;function Sfe(){if(Vj)return $1;Vj=1;var e=Nn();function t(r,n,o){var i=e.undo(n);if(n.getLastChangeType()==="spellcheck-change"){var s=i.getCurrentContent();o(e.set(i,{nativelyRenderedContent:s}));return}if(r.preventDefault(),!n.getNativelyRenderedContent()){o(i);return}o(e.set(n,{nativelyRenderedContent:null})),setTimeout(function(){o(i)},0)}return $1=t,$1}var z1,$j;function Cfe(){if($j)return z1;$j=1;var e=Ai(),t=Nn(),r=T1(),n=Hy(),o=ufe(),i=Ni(),s=qy(),a=hfe(),c=pfe(),d=gfe(),h=mfe(),f=vfe(),g=yfe(),m=bj(),y=bfe(),b=wfe(),v=Sfe(),C=r.isOptionKeyCommand,E=i.isBrowser("Chrome");function T(M,I,N){switch(M){case"redo":return t.redo(I);case"delete":return y(I);case"delete-word":return d(I);case"backspace":return m(I);case"backspace-word":return c(I);case"backspace-to-start-of-line":return a(I,N);case"split-block":return h(I);case"transpose-characters":return b(I);case"move-selection-to-start-of-block":return g(I);case"move-selection-to-end-of-block":return f(I);case"secondary-cut":return o.cut(I);case"secondary-paste":return o.paste(I);default:return I}}function R(M,I){var N=I.which,P=M._latestEditorState;function L(U){var q=M.props[U];return q?(q(I),!0):!1}switch(N){case n.RETURN:if(I.preventDefault(),M.props.handleReturn&&s(M.props.handleReturn(I,P)))return;break;case n.ESC:if(I.preventDefault(),L("onEscape"))return;break;case n.TAB:if(L("onTab"))return;break;case n.UP:if(L("onUpArrow"))return;break;case n.RIGHT:if(L("onRightArrow"))return;break;case n.DOWN:if(L("onDownArrow"))return;break;case n.LEFT:if(L("onLeftArrow"))return;break;case n.SPACE:E&&C(I)&&I.preventDefault()}var D=M.props.keyBindingFn(I);if(D==null||D===""){if(N===n.SPACE&&E&&C(I)){var $=e.replaceText(P.getCurrentContent(),P.getSelection()," ");M.update(t.push(P,$,"insert-characters"))}return}if(D==="undo"){v(I,P,M.update);return}if(I.preventDefault(),!(M.props.handleKeyCommand&&s(M.props.handleKeyCommand(D,P,I.timeStamp)))){var B=T(D,P,I);B!==P&&M.update(B)}}return z1=R,z1}var U1,zj;function xfe(){if(zj)return U1;zj=1;function e(r,n,o){return n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}var t=(function(){function r(o){e(this,"_uri",void 0),this._uri=o}var n=r.prototype;return n.toString=function(){return this._uri},r})();return U1=t,U1}var G1,Uj;function Gj(){if(Uj)return G1;Uj=1;var e=Ni(),t=en(),r=e.isBrowser("IE <= 9");function n(o){var i,s=null;return!r&&document.implementation&&document.implementation.createHTMLDocument&&(i=document.implementation.createHTMLDocument("foo"),i.documentElement||t(!1),i.documentElement.innerHTML=o,s=i.getElementsByTagName("body")[0]),s}return G1=n,G1}var H1,Hj;function _fe(){if(Hj)return H1;Hj=1;var e=dd();function t(r){return!r||!r.ownerDocument?!1:e(r)&&r.nodeName==="A"}return H1=t,H1}var W1,Wj;function Efe(){if(Wj)return W1;Wj=1;var e=dd();function t(r){return!r||!r.ownerDocument?!1:e(r)&&r.nodeName==="IMG"}return W1=t,W1}var K1,Kj;function qj(){if(Kj)return K1;Kj=1;var e;function t(xe){for(var he=1;he<arguments.length;he++){var pe=arguments[he]!=null?arguments[he]:{},Se=Object.keys(pe);typeof Object.getOwnPropertySymbols=="function"&&(Se=Se.concat(Object.getOwnPropertySymbols(pe).filter(function(Ee){return Object.getOwnPropertyDescriptor(pe,Ee).enumerable}))),Se.forEach(function(Ee){r(xe,Ee,pe[Ee])})}return xe}function r(xe,he,pe){return he in xe?Object.defineProperty(xe,he,{value:pe,enumerable:!0,configurable:!0,writable:!0}):xe[he]=pe,xe}var n=Ds(),o=ld(),i=As(),s=K_(),a=Vy(),c=xfe(),d=cd(),h=Qa(),f=Gj(),g=Fc(),m=Qr(),y=m.List,b=m.Map,v=m.OrderedSet,C=_fe(),E=hF(),T=sg(),R=Efe(),M=g("draft_tree_data_support"),I="&nbsp;",N=" ",P=new RegExp("\r","g"),L=new RegExp(`
`,"g"),D=new RegExp(`^
`,"g"),$=new RegExp(I,"g"),B=new RegExp("&#13;?","g"),U=new RegExp("&#8203;?","g"),q=["bold","bolder","500","600","700","800","900"],W=["light","lighter","normal","100","200","300","400"],V=["className","href","rel","target","title"],Y=["alt","className","height","src","width"],Q=(e={},r(e,d("public/DraftStyleDefault/depth0"),0),r(e,d("public/DraftStyleDefault/depth1"),1),r(e,d("public/DraftStyleDefault/depth2"),2),r(e,d("public/DraftStyleDefault/depth3"),3),r(e,d("public/DraftStyleDefault/depth4"),4),e),re=b({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),z=function(he){var pe={};return he.mapKeys(function(Se,Ee){var ke=[Ee.element];Ee.aliasedElements!==void 0&&ke.push.apply(ke,Ee.aliasedElements),ke.forEach(function(Te){pe[Te]===void 0?pe[Te]=Se:typeof pe[Te]=="string"?pe[Te]=[pe[Te],Se]:pe[Te].push(Se)})}),b(pe)},K=function(he){if(T(he)){var pe=he;if(pe.style.fontFamily.includes("monospace"))return"CODE"}return null},Z=function(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(Q).some(function(Se){he.classList.contains(Se)&&(pe=Q[Se])}),pe},le=function(he){if(!C(he))return!1;var pe=he;if(!pe.href||pe.protocol!=="http:"&&pe.protocol!=="https:"&&pe.protocol!=="mailto:"&&pe.protocol!=="tel:")return!1;try{var Se=new c(pe.href);return!0}catch{return!1}},ce=function(he){if(!R(he))return!1;var pe=he;return!!(pe.attributes.getNamedItem("src")&&pe.attributes.getNamedItem("src").value)},ue=function(he,pe){if(!T(he))return pe;var Se=he,Ee=Se.style.fontWeight,ke=Se.style.fontStyle,Te=Se.style.textDecoration;return pe.withMutations(function(Ve){q.indexOf(Ee)>=0?Ve.add("BOLD"):W.indexOf(Ee)>=0&&Ve.remove("BOLD"),ke==="italic"?Ve.add("ITALIC"):ke==="normal"&&Ve.remove("ITALIC"),Te==="underline"&&Ve.add("UNDERLINE"),Te==="line-through"&&Ve.add("STRIKETHROUGH"),Te==="none"&&(Ve.remove("UNDERLINE"),Ve.remove("STRIKETHROUGH"))})},ae=function(he){return he==="ul"||he==="ol"},ye=(function(){function xe(pe,Se){r(this,"characterList",y()),r(this,"currentBlockType","unstyled"),r(this,"currentDepth",0),r(this,"currentEntity",null),r(this,"currentText",""),r(this,"wrapper",null),r(this,"blockConfigs",[]),r(this,"contentBlocks",[]),r(this,"entityMap",a),r(this,"blockTypeMap",void 0),r(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=pe,this.disambiguate=Se}var he=xe.prototype;return he.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=a,this.wrapper=null,this.contentBlocks=[]},he.addDOMNode=function(Se){var Ee;return this.contentBlocks=[],this.currentDepth=0,(Ee=this.blockConfigs).push.apply(Ee,this._toBlockConfigs([Se],v())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},he.getContentBlocks=function(){return this.contentBlocks.length===0&&(M?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},he._makeBlockConfig=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee=Se.key||h(),ke=t({key:Ee,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},Se);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",ke},he._toBlockConfigs=function(Se,Ee){for(var ke=[],Te=0;Te<Se.length;Te++){var Ve=Se[Te],nt=Ve.nodeName.toLowerCase();if(nt==="body"||ae(nt)){this._trimCurrentText(),this.currentText!==""&&ke.push(this._makeBlockConfig());var je=this.currentDepth,Rt=this.wrapper;ae(nt)&&(this.wrapper=nt,ae(Rt)&&this.currentDepth++),ke.push.apply(ke,this._toBlockConfigs(Array.from(Ve.childNodes),Ee)),this.currentDepth=je,this.wrapper=Rt;continue}var dt=this.blockTypeMap.get(nt);if(dt!==void 0){this._trimCurrentText(),this.currentText!==""&&ke.push(this._makeBlockConfig());var Ct=this.currentDepth,$e=this.wrapper;if(this.wrapper=nt==="pre"?"pre":this.wrapper,typeof dt!="string"&&(dt=this.disambiguate(nt,this.wrapper)||dt[0]||"unstyled"),!M&&T(Ve)&&(dt==="unordered-list-item"||dt==="ordered-list-item")){var It=Ve;this.currentDepth=Z(It,this.currentDepth)}var mt=h(),Bt=this._toBlockConfigs(Array.from(Ve.childNodes),Ee);this._trimCurrentText(),ke.push(this._makeBlockConfig({key:mt,childConfigs:Bt,type:dt})),this.currentDepth=Ct,this.wrapper=$e;continue}if(nt==="#text"){this._addTextNode(Ve,Ee);continue}if(nt==="br"){this._addBreakNode(Ve,Ee);continue}if(ce(Ve)){this._addImgNode(Ve,Ee);continue}if(le(Ve)){this._addAnchorNode(Ve,ke,Ee);continue}var zt=Ee;re.has(nt)&&(zt=zt.add(re.get(nt))),zt=ue(Ve,zt);var qt=K(Ve);qt!=null&&(zt=zt.add(qt)),ke.push.apply(ke,this._toBlockConfigs(Array.from(Ve.childNodes),zt))}return ke},he._appendText=function(Se,Ee){var ke;this.currentText+=Se;var Te=n.create({style:Ee,entity:this.currentEntity});this.characterList=(ke=this.characterList).push.apply(ke,Array(Se.length).fill(Te))},he._trimCurrentText=function(){var Se=this.currentText.length,Ee=Se-this.currentText.trimLeft().length,ke=this.currentText.trimRight().length,Te=this.characterList.findEntry(function(Ve){return Ve.getEntity()!==null});Ee=Te!==void 0?Math.min(Ee,Te[0]):Ee,Te=this.characterList.reverse().findEntry(function(Ve){return Ve.getEntity()!==null}),ke=Te!==void 0?Math.max(ke,Se-Te[0]):ke,Ee>ke?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(Ee,ke),this.characterList=this.characterList.slice(Ee,ke))},he._addTextNode=function(Se,Ee){var ke=Se.textContent,Te=ke.trim();Te===""&&this.wrapper!=="pre"&&(ke=" "),this.wrapper!=="pre"&&(ke=ke.replace(D,""),ke=ke.replace(L,N)),this._appendText(ke,Ee)},he._addBreakNode=function(Se,Ee){E(Se)&&this._appendText(`
`,Ee)},he._addImgNode=function(Se,Ee){if(R(Se)){var ke=Se,Te={};Y.forEach(function(Ve){var nt=ke.getAttribute(Ve);nt&&(Te[Ve]=nt)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",Te),g("draftjs_fix_paste_for_img")?ke.getAttribute("role")!=="presentation"&&this._appendText("📷",Ee):this._appendText("📷",Ee),this.currentEntity=null}},he._addAnchorNode=function(Se,Ee,ke){if(C(Se)){var Te=Se,Ve={};V.forEach(function(nt){var je=Te.getAttribute(nt);je&&(Ve[nt]=je)}),Ve.url=new c(Te.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",Ve||{}),Ee.push.apply(Ee,this._toBlockConfigs(Array.from(Se.childNodes),ke)),this.currentEntity=null}},he._toContentBlocks=function(Se){for(var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ke=Se.length-1,Te=0;Te<=ke;Te++){var Ve=Se[Te];Ve.parent=Ee,Ve.prevSibling=Te>0?Se[Te-1].key:null,Ve.nextSibling=Te<ke?Se[Te+1].key:null,Ve.children=y(Ve.childConfigs.map(function(nt){return nt.key})),this.contentBlocks.push(new i(t({},Ve))),this._toContentBlocks(Ve.childConfigs,Ve.key)}},he._hoistContainersInBlockConfigs=function(Se){var Ee=this,ke=y(Se).flatMap(function(Te){return Te.type!=="unstyled"||Te.text!==""?[Te]:Ee._hoistContainersInBlockConfigs(Te.childConfigs)});return ke},he._toFlatContentBlocks=function(Se){var Ee=this,ke=this._hoistContainersInBlockConfigs(Se);ke.forEach(function(Te){var Ve=Ee._extractTextFromBlockConfigs(Te.childConfigs),nt=Ve.text,je=Ve.characterList;Ee.contentBlocks.push(new o(t({},Te,{text:Te.text+nt,characterList:Te.characterList.concat(je)})))})},he._extractTextFromBlockConfigs=function(Se){for(var Ee=Se.length-1,ke="",Te=y(),Ve=0;Ve<=Ee;Ve++){var nt=Se[Ve];ke+=nt.text,Te=Te.concat(nt.characterList),ke!==""&&nt.type!=="unstyled"&&(ke+=`
`,Te=Te.push(Te.last()));var je=this._extractTextFromBlockConfigs(nt.childConfigs);ke+=je.text,Te=Te.concat(je.characterList)}return{text:ke,characterList:Te}},xe})(),Me=function(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s;he=he.trim().replace(P,"").replace($,N).replace(B,"").replace(U,"");var Ee=pe(he);if(!Ee)return null;var ke=z(Se),Te=function(nt,je){return nt==="li"?je==="ol"?"ordered-list-item":"unordered-list-item":null};return new ye(ke,Te).addDOMNode(Ee).getContentBlocks()};return K1=Me,K1}var q1,Yj;function Tfe(){if(Yj)return q1;Yj=1;function e(b){for(var v=1;v<arguments.length;v++){var C=arguments[v]!=null?arguments[v]:{},E=Object.keys(C);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(C).filter(function(T){return Object.getOwnPropertyDescriptor(C,T).enumerable}))),E.forEach(function(T){t(b,T,C[T])})}return b}function t(b,v,C){return v in b?Object.defineProperty(b,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):b[v]=C,b}var r=ld(),n=As(),o=qj(),i=Qa(),s=Gj(),a=Fc(),c=Qr(),d=pB(),h=c.List,f=c.Repeat,g=a("draft_tree_data_support"),m=g?n:r,y={processHTML:function(v,C){return o(v,s,C)},processText:function(v,C,E){return v.reduce(function(T,R,M){R=d(R);var I=i(),N={key:I,type:E,text:R,characterList:h(f(C,R.length))};if(g&&M!==0){var P=M-1,L=T[P]=T[P].merge({nextSibling:I});N=e({},N,{prevSibling:L.getKey()})}return T.push(new m(N)),T},[])}};return q1=y,q1}var Y1,Xj;function Mfe(){if(Xj)return Y1;Xj=1;function e(t,r,n,o){var i=r.getStartKey(),s=r.getEndKey(),a=t.getBlockMap(),c=a.toSeq().skipUntil(function(d,h){return h===i}).takeUntil(function(d,h){return h===s}).concat([[s,a.get(s)]]).map(function(d){var h=d.getDepth()+n;return h=Math.max(0,Math.min(h,o)),d.set("depth",h)});return a=a.merge(c),t.merge({blockMap:a,selectionBefore:r,selectionAfter:r})}return Y1=e,Y1}var X1,Zj;function Qj(){if(Zj)return X1;Zj=1;var e=Ai(),t=Nn(),r=Mfe(),n=Li(),o={currentBlockContainsLink:function(s){var a=s.getSelection(),c=s.getCurrentContent(),d=c.getEntityMap();return c.getBlockForKey(a.getAnchorKey()).getCharacterList().slice(a.getStartOffset(),a.getEndOffset()).some(function(h){var f=h.getEntity();return!!f&&d.__get(f).getType()==="LINK"})},getCurrentBlockType:function(s){var a=s.getSelection();return s.getCurrentContent().getBlockForKey(a.getStartKey()).getType()},getDataObjectForLinkURL:function(s){return{url:s.toString()}},handleKeyCommand:function(s,a,c){switch(a){case"bold":return o.toggleInlineStyle(s,"BOLD");case"italic":return o.toggleInlineStyle(s,"ITALIC");case"underline":return o.toggleInlineStyle(s,"UNDERLINE");case"code":return o.toggleCode(s);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return o.onBackspace(s);case"delete":case"delete-word":case"delete-to-end-of-block":return o.onDelete(s);default:return null}},insertSoftNewline:function(s){var a=e.insertText(s.getCurrentContent(),s.getSelection(),`
`,s.getCurrentInlineStyle(),null),c=t.push(s,a,"insert-characters");return t.forceSelection(c,a.getSelectionAfter())},onBackspace:function(s){var a=s.getSelection();if(!a.isCollapsed()||a.getAnchorOffset()||a.getFocusOffset())return null;var c=s.getCurrentContent(),d=a.getStartKey(),h=c.getBlockBefore(d);if(h&&h.getType()==="atomic"){var f=c.getBlockMap().delete(h.getKey()),g=c.merge({blockMap:f,selectionAfter:a});if(g!==c)return t.push(s,g,"remove-range")}var m=o.tryToRemoveBlockStyle(s);return m?t.push(s,m,"change-block-type"):null},onDelete:function(s){var a=s.getSelection();if(!a.isCollapsed())return null;var c=s.getCurrentContent(),d=a.getStartKey(),h=c.getBlockForKey(d),f=h.getLength();if(a.getStartOffset()<f)return null;var g=c.getBlockAfter(d);if(!g||g.getType()!=="atomic")return null;var m=a.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),y=e.removeRange(c,m,"forward");return y!==c?t.push(s,y,"remove-range"):null},onTab:function(s,a,c){var d=a.getSelection(),h=d.getAnchorKey();if(h!==d.getFocusKey())return a;var f=a.getCurrentContent(),g=f.getBlockForKey(h),m=g.getType();if(m!=="unordered-list-item"&&m!=="ordered-list-item")return a;s.preventDefault();var y=g.getDepth();if(!s.shiftKey&&y===c)return a;var b=r(f,d,s.shiftKey?-1:1,c);return t.push(a,b,"adjust-depth")},toggleBlockType:function(s,a){var c=s.getSelection(),d=c.getStartKey(),h=c.getEndKey(),f=s.getCurrentContent(),g=c;if(d!==h&&c.getEndOffset()===0){var m=n(f.getBlockBefore(h));h=m.getKey(),g=g.merge({anchorKey:d,anchorOffset:c.getStartOffset(),focusKey:h,focusOffset:m.getLength(),isBackward:!1})}var y=f.getBlockMap().skipWhile(function(v,C){return C!==d}).reverse().skipWhile(function(v,C){return C!==h}).some(function(v){return v.getType()==="atomic"});if(y)return s;var b=f.getBlockForKey(d).getType()===a?"unstyled":a;return t.push(s,e.setBlockType(f,g,b),"change-block-type")},toggleCode:function(s){var a=s.getSelection(),c=a.getAnchorKey(),d=a.getFocusKey();return a.isCollapsed()||c!==d?o.toggleBlockType(s,"code-block"):o.toggleInlineStyle(s,"CODE")},toggleInlineStyle:function(s,a){var c=s.getSelection(),d=s.getCurrentInlineStyle();if(c.isCollapsed())return t.setInlineStyleOverride(s,d.has(a)?d.remove(a):d.add(a));var h=s.getCurrentContent(),f;return d.has(a)?f=e.removeInlineStyle(h,c,a):f=e.applyInlineStyle(h,c,a),t.push(s,f,"change-inline-style")},toggleLink:function(s,a,c){var d=e.applyEntity(s.getCurrentContent(),a,c);return t.push(s,d,"apply-entity")},tryToRemoveBlockStyle:function(s){var a=s.getSelection(),c=a.getAnchorOffset();if(a.isCollapsed()&&c===0){var d=a.getAnchorKey(),h=s.getCurrentContent(),f=h.getBlockForKey(d),g=f.getType(),m=h.getBlockBefore(d);if(g==="code-block"&&m&&m.getType()==="code-block"&&m.getLength()!==0)return null;if(g!=="unstyled")return e.setBlockType(h,a,"unstyled")}return null}};return X1=o,X1}var Z1,Jj;function Ofe(){if(Jj)return Z1;Jj=1;var e=/\r\n?|\n/g;function t(r){return r.split(e)}return Z1=t,Z1}var Q1,eV;function Rfe(){if(eV)return Q1;eV=1;var e=ng(),t=Ds(),r=YF(),n=Ai(),o=Tfe(),i=Nn(),s=Qj(),a=yE(),c=ZF(),d=qy(),h=Ofe();function f(y,b){b.preventDefault();var v=new r(b.clipboardData);if(!v.isRichText()){var C=v.getFiles(),E=v.getText();if(C.length>0){if(y.props.handlePastedFiles&&d(y.props.handlePastedFiles(C)))return;c(C,function(z){if(z=z||E,!!z){var K=y._latestEditorState,Z=h(z),le=t.create({style:K.getCurrentInlineStyle(),entity:a(K.getCurrentContent(),K.getSelection())}),ce=s.getCurrentBlockType(K),ue=o.processText(Z,le,ce),ae=e.createFromArray(ue),ye=n.replaceWithFragment(K.getCurrentContent(),K.getSelection(),ae);y.update(i.push(K,ye,"insert-fragment"))}});return}}var T=[],R=v.getText(),M=v.getHTML(),I=y._latestEditorState;if(y.props.formatPastedText){var N=y.props.formatPastedText(R,M),P=N.text,L=N.html;R=P,M=L}if(!(y.props.handlePastedText&&d(y.props.handlePastedText(R,M,I)))){if(R&&(T=h(R)),!y.props.stripPastedStyles){var D=y.getClipboard();if(!y.props.formatPastedText&&v.isRichText()&&D){var $;if((($=M)===null||$===void 0?void 0:$.indexOf(y.getEditorKey()))!==-1||T.length===1&&D.size===1&&D.first().getText()===R){y.update(g(y._latestEditorState,D));return}}else if(D&&v.types.includes("com.apple.webarchive")&&!v.types.includes("text/html")&&m(T,D)){y.update(g(y._latestEditorState,D));return}if(M){var B=o.processHTML(M,y.props.blockRenderMap);if(B){var U=B.contentBlocks,q=B.entityMap;if(U){var W=e.createFromArray(U);y.update(g(y._latestEditorState,W,q));return}}}y.setClipboard(null)}if(T.length){var V=t.create({style:I.getCurrentInlineStyle(),entity:a(I.getCurrentContent(),I.getSelection())}),Y=s.getCurrentBlockType(I),Q=o.processText(T,V,Y),re=e.createFromArray(Q);y.update(g(y._latestEditorState,re))}}}function g(y,b,v){var C=n.replaceWithFragment(y.getCurrentContent(),y.getSelection(),b);return i.push(y,C.set("entityMap",v),"insert-fragment")}function m(y,b){return y.length===b.size&&b.valueSeq().every(function(v,C){return v.getText()===y[C]})}return Q1=f,Q1}var J1,tV;function Ife(){if(tV)return J1;tV=1;var e=Ni(),t=Jhe(),r=efe(),n=tfe(),o=rfe(),i=ofe(),s=ife(),a=sfe(),c=afe(),d=lfe(),h=Cfe(),f=Rfe(),g=oF(),m=e.isBrowser("Chrome"),y=e.isBrowser("Firefox"),b=m||y?g:function(C){},v={onBeforeInput:t,onBlur:r,onCompositionStart:n,onCopy:o,onCut:i,onDragOver:s,onDragStart:a,onFocus:c,onInput:d,onKeyDown:h,onPaste:f,onSelect:g,onMouseUp:b,onKeyUp:b};return J1=v,J1}var eT={exports:{}},fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rV;function Pfe(){if(rV)return fi;rV=1;var e=di();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(c,d,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:c,containerInfo:d,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,fi.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,h)},fi.flushSync=function(c){var d=s.T,h=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=d,n.p=h,n.d.f()}},fi.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},fi.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},fi.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,f=a(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):h==="script"&&n.d.X(c,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fi.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=a(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},fi.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,f=a(h,d.crossOrigin);n.d.L(c,h,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fi.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=a(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},fi.requestFormReset=function(c){n.d.r(c)},fi.unstable_batchedUpdates=function(c,d){return c(d)},fi.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},fi.useFormStatus=function(){return s.H.useHostTransitionStatus()},fi.version="19.1.1",fi}var nV;function tT(){if(nV)return eT.exports;nV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),eT.exports=Pfe(),eT.exports}var rT,oV;function kfe(){if(oV)return rT;oV=1;var e=tT(),t=e.unstable_flushControlled;return rT=t,rT}var nT,iV;function Dfe(){if(iV)return nT;iV=1;function e(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i}var t=di(),r=cd(),n=(function(o){e(i,o);function i(){return o.apply(this,arguments)||this}var s=i.prototype;return s.shouldComponentUpdate=function(c){return this.props.text!==c.text||this.props.editorState.getSelection().getHasFocus()!==c.editorState.getSelection().getHasFocus()},s.render=function(){var c=this.props.editorState.getSelection().getHasFocus(),d=r({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":c}),h={whiteSpace:"pre-wrap"};return t.createElement("div",{className:d},t.createElement("div",{className:r("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:h},this.props.text))},i})(t.Component);return nT=n,nT}var oT,sV;function aV(){if(sV)return oT;sV=1;var e=T1(),t=Hy(),r=Ni(),n=r.isPlatform("Mac OS X"),o=n&&r.isBrowser("Firefox < 29"),i=e.hasCommandModifier,s=e.isCtrlKeyCommand;function a(g){return n&&g.altKey||s(g)}function c(g){return i(g)?g.shiftKey?"redo":"undo":null}function d(g){return!n&&g.shiftKey?null:a(g)?"delete-word":"delete"}function h(g){return i(g)&&n?"backspace-to-start-of-line":a(g)?"backspace-word":"backspace"}function f(g){switch(g.keyCode){case 66:return i(g)?"bold":null;case 68:return s(g)?"delete":null;case 72:return s(g)?"backspace":null;case 73:return i(g)?"italic":null;case 74:return i(g)?"code":null;case 75:return n&&s(g)?"secondary-cut":null;case 77:return s(g)?"split-block":null;case 79:return s(g)?"split-block":null;case 84:return n&&s(g)?"transpose-characters":null;case 85:return i(g)?"underline":null;case 87:return n&&s(g)?"backspace-word":null;case 89:return s(g)?n?"secondary-paste":"redo":null;case 90:return c(g)||null;case t.RETURN:return"split-block";case t.DELETE:return d(g);case t.BACKSPACE:return h(g);case t.LEFT:return o&&i(g)?"move-selection-to-start-of-block":null;case t.RIGHT:return o&&i(g)?"move-selection-to-end-of-block":null;default:return null}}return oT=f,oT}var iT,lV;function Afe(){if(lV)return iT;lV=1;var e=ud();function t(){return t=e||function(Q){for(var re=1;re<arguments.length;re++){var z=arguments[re];for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&(Q[K]=z[K])}return Q},t.apply(this,arguments)}function r(Q){for(var re=1;re<arguments.length;re++){var z=arguments[re]!=null?arguments[re]:{},K=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(K=K.concat(Object.getOwnPropertySymbols(z).filter(function(Z){return Object.getOwnPropertyDescriptor(z,Z).enumerable}))),K.forEach(function(Z){o(Q,Z,z[Z])})}return Q}function n(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function o(Q,re,z){return re in Q?Object.defineProperty(Q,re,{value:z,enumerable:!0,configurable:!0,writable:!0}):Q[re]=z,Q}function i(Q,re){Q.prototype=Object.create(re.prototype),Q.prototype.constructor=Q,Q.__proto__=re}var s=K_(),a=OB(),c=Rhe(),d=Whe(),h=Yhe(),f=Ife(),g=kfe(),m=Dfe(),y=pF(),b=Nn(),v=di(),C=DE(),E=Wy(),T=Ni(),R=cd(),M=Qa(),I=aV(),N=Ky(),P=Fc(),L=en(),D=sg(),$=Li(),B=T.isBrowser("IE"),U=!B,q={edit:f,composite:c,drag:h,cut:null,render:null},W=!1,V=(function(Q){i(re,Q);function re(){return Q.apply(this,arguments)||this}var z=re.prototype;return z.render=function(){return null},z.componentDidMount=function(){this._update()},z.componentDidUpdate=function(){this._update()},z._update=function(){var Z=this.props.editor;Z._latestEditorState=this.props.editorState,Z._blockSelectEvents=!0},re})(v.Component),Y=(function(Q){i(re,Q);function re(K){var Z;return Z=Q.call(this,K)||this,o(n(Z),"_blockSelectEvents",void 0),o(n(Z),"_clipboard",void 0),o(n(Z),"_handler",void 0),o(n(Z),"_dragCount",void 0),o(n(Z),"_internalDrag",void 0),o(n(Z),"_editorKey",void 0),o(n(Z),"_placeholderAccessibilityID",void 0),o(n(Z),"_latestEditorState",void 0),o(n(Z),"_latestCommittedEditorState",void 0),o(n(Z),"_pendingStateFromBeforeInput",void 0),o(n(Z),"_onBeforeInput",void 0),o(n(Z),"_onBlur",void 0),o(n(Z),"_onCharacterData",void 0),o(n(Z),"_onCompositionEnd",void 0),o(n(Z),"_onCompositionStart",void 0),o(n(Z),"_onCopy",void 0),o(n(Z),"_onCut",void 0),o(n(Z),"_onDragEnd",void 0),o(n(Z),"_onDragOver",void 0),o(n(Z),"_onDragStart",void 0),o(n(Z),"_onDrop",void 0),o(n(Z),"_onInput",void 0),o(n(Z),"_onFocus",void 0),o(n(Z),"_onKeyDown",void 0),o(n(Z),"_onKeyPress",void 0),o(n(Z),"_onKeyUp",void 0),o(n(Z),"_onMouseDown",void 0),o(n(Z),"_onMouseUp",void 0),o(n(Z),"_onPaste",void 0),o(n(Z),"_onSelect",void 0),o(n(Z),"editor",void 0),o(n(Z),"editorContainer",void 0),o(n(Z),"focus",void 0),o(n(Z),"blur",void 0),o(n(Z),"setMode",void 0),o(n(Z),"exitCurrentMode",void 0),o(n(Z),"restoreEditorDOM",void 0),o(n(Z),"setClipboard",void 0),o(n(Z),"getClipboard",void 0),o(n(Z),"getEditorKey",void 0),o(n(Z),"update",void 0),o(n(Z),"onDragEnter",void 0),o(n(Z),"onDragLeave",void 0),o(n(Z),"_handleEditorContainerRef",function(le){Z.editorContainer=le,Z.editor=le!==null?le.firstChild:null}),o(n(Z),"focus",function(le){var ce=Z.props.editorState,ue=ce.getSelection().getHasFocus(),ae=Z.editor;if(ae){var ye=E.getScrollParent(ae),Me=le||N(ye),xe=Me.x,he=Me.y;D(ae)||L(!1),ae.focus(),ye===window?window.scrollTo(xe,he):C.setTop(ye,he),ue||Z.update(b.forceSelection(ce,ce.getSelection()))}}),o(n(Z),"blur",function(){var le=Z.editor;le&&(D(le)||L(!1),le.blur())}),o(n(Z),"setMode",function(le){var ce=Z.props,ue=ce.onPaste,ae=ce.onCut,ye=ce.onCopy,Me=r({},q.edit);ue&&(Me.onPaste=ue),ae&&(Me.onCut=ae),ye&&(Me.onCopy=ye);var xe=r({},q,{edit:Me});Z._handler=xe[le]}),o(n(Z),"exitCurrentMode",function(){Z.setMode("edit")}),o(n(Z),"restoreEditorDOM",function(le){Z.setState({contentsKey:Z.state.contentsKey+1},function(){Z.focus(le)})}),o(n(Z),"setClipboard",function(le){Z._clipboard=le}),o(n(Z),"getClipboard",function(){return Z._clipboard}),o(n(Z),"update",function(le){Z._latestEditorState=le,Z.props.onChange(le)}),o(n(Z),"onDragEnter",function(){Z._dragCount++}),o(n(Z),"onDragLeave",function(){Z._dragCount--,Z._dragCount===0&&Z.exitCurrentMode()}),Z._blockSelectEvents=!1,Z._clipboard=null,Z._handler=null,Z._dragCount=0,Z._editorKey=K.editorKey||M(),Z._placeholderAccessibilityID="placeholder-"+Z._editorKey,Z._latestEditorState=K.editorState,Z._latestCommittedEditorState=K.editorState,Z._onBeforeInput=Z._buildHandler("onBeforeInput"),Z._onBlur=Z._buildHandler("onBlur"),Z._onCharacterData=Z._buildHandler("onCharacterData"),Z._onCompositionEnd=Z._buildHandler("onCompositionEnd"),Z._onCompositionStart=Z._buildHandler("onCompositionStart"),Z._onCopy=Z._buildHandler("onCopy"),Z._onCut=Z._buildHandler("onCut"),Z._onDragEnd=Z._buildHandler("onDragEnd"),Z._onDragOver=Z._buildHandler("onDragOver"),Z._onDragStart=Z._buildHandler("onDragStart"),Z._onDrop=Z._buildHandler("onDrop"),Z._onInput=Z._buildHandler("onInput"),Z._onFocus=Z._buildHandler("onFocus"),Z._onKeyDown=Z._buildHandler("onKeyDown"),Z._onKeyPress=Z._buildHandler("onKeyPress"),Z._onKeyUp=Z._buildHandler("onKeyUp"),Z._onMouseDown=Z._buildHandler("onMouseDown"),Z._onMouseUp=Z._buildHandler("onMouseUp"),Z._onPaste=Z._buildHandler("onPaste"),Z._onSelect=Z._buildHandler("onSelect"),Z.getEditorKey=function(){return Z._editorKey},Z.state={contentsKey:0},Z}var z=re.prototype;return z._buildHandler=function(Z){var le=this;return function(ce){if(!le.props.readOnly){var ue=le._handler&&le._handler[Z];ue&&(g?g(function(){return ue(le,ce)}):ue(le,ce))}}},z._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},z._renderPlaceholder=function(){if(this._showPlaceholder()){var Z={text:$(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,Z)}return null},z._renderARIADescribedBy=function(){var Z=this.props.ariaDescribedBy||"",le=this._showPlaceholder()?this._placeholderAccessibilityID:"";return Z.replace("{{editor_id_placeholder}}",le)||void 0},z.render=function(){var Z=this.props,le=Z.blockRenderMap,ce=Z.blockRendererFn,ue=Z.blockStyleFn,ae=Z.customStyleFn,ye=Z.customStyleMap,Me=Z.editorState,xe=Z.preventScroll,he=Z.readOnly,pe=Z.textAlignment,Se=Z.textDirectionality,Ee=R({"DraftEditor/root":!0,"DraftEditor/alignLeft":pe==="left","DraftEditor/alignRight":pe==="right","DraftEditor/alignCenter":pe==="center"}),ke={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},Te=this.props.role||"textbox",Ve=Te==="combobox"?!!this.props.ariaExpanded:null,nt={blockRenderMap:le,blockRendererFn:ce,blockStyleFn:ue,customStyleMap:r({},a,ye),customStyleFn:ae,editorKey:this._editorKey,editorState:Me,preventScroll:xe,textDirectionality:Se};return v.createElement("div",{className:Ee},this._renderPlaceholder(),v.createElement("div",{className:R("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":he?null:this.props.ariaActiveDescendantID,"aria-autocomplete":he?null:this.props.ariaAutoComplete,"aria-controls":he?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":he?null:Ve,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":he?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:R({notranslate:!he,"public/DraftEditor/content":!0}),contentEditable:!he,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:he?null:Te,spellCheck:U&&this.props.spellCheck,style:ke,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(V,{editor:this,editorState:Me}),v.createElement(d,t({},nt,{key:"contents"+this.state.contentsKey})))))},z.componentDidMount=function(){this._blockSelectEvents=!1,!W&&P("draft_ods_enabled")&&(W=!0,y.initODS()),this.setMode("edit"),B&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):globalThis.execCommand("AutoUrlDetect",!1,!1))},z.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},re})(v.Component);return o(Y,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:s,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:I,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),iT=Y,iT}var cV={},uV;function Lfe(){return uV||(uV=1),cV}var sT,dV;function hV(){if(dV)return sT;dV=1;var e={stringify:function(r){return"_"+String(r)},unstringify:function(r){return r.slice(1)}};return sT=e,sT}var aT,fV;function Nfe(){if(fV)return aT;fV=1;var e=hV(),t=hd(),r=t.strlen;function n(o,i){var s=[];return o.findEntityRanges(function(a){return!!a.getEntity()},function(a,c){var d=o.getText(),h=o.getEntityAt(a);s.push({offset:r(d.slice(0,a)),length:r(d.slice(a,c)),key:Number(i[e.stringify(h)])})}),s}return aT=n,aT}var lT,pV;function Bfe(){if(pV)return lT;pV=1;var e=hd(),t=og(),r=function(c,d){return c===d},n=function(c){return!!c},o=[];function i(a,c,d){var h=[],f=c.map(function(g){return g.has(d)}).toList();return t(f,r,n,function(g,m){var y=a.getText();h.push({offset:e.strlen(y.slice(0,g)),length:e.strlen(y.slice(g,m)),style:d})}),h}function s(a){var c=a.getCharacterList().map(function(h){return h.getStyle()}).toList(),d=c.flatten().toSet().map(function(h){return i(a,c,h)});return Array.prototype.concat.apply(o,d.toJS())}return lT=s,lT}var cT,gV;function Ffe(){if(gV)return cT;gV=1;function e(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(C){return Object.getOwnPropertyDescriptor(b,C).enumerable}))),v.forEach(function(C){t(m,C,b[C])})}return m}function t(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}var r=ld(),n=As(),o=hV(),i=Nfe(),s=Bfe(),a=en(),c=function(y,b){return{key:y.getKey(),text:y.getText(),type:y.getType(),depth:y.getDepth(),inlineStyleRanges:s(y),entityRanges:i(y,b),data:y.getData().toObject()}},d=function(y,b,v,C){if(y instanceof r){v.push(c(y,b));return}y instanceof n||a(!1);var E=y.getParentKey(),T=C[y.getKey()]=e({},c(y,b),{children:[]});if(E){C[E].children.push(T);return}v.push(T)},h=function(y,b){var v=b.entityMap,C=[],E={},T={},R=0;return y.getBlockMap().forEach(function(M){M.findEntityRanges(function(I){return I.getEntity()!==null},function(I){var N=M.getEntityAt(I),P=o.stringify(N);T[P]||(T[P]=N,v[P]="".concat(R),R++)}),d(M,v,C,E)}),{blocks:C,entityMap:v}},f=function(y,b){var v=b.blocks,C=b.entityMap,E={};return Object.keys(C).forEach(function(T,R){var M=y.getEntity(o.unstringify(T));E[R]={type:M.getType(),mutability:M.getMutability(),data:M.getData()}}),{blocks:v,entityMap:E}},g=function(y){var b={entityMap:{},blocks:[]};return b=h(y,b),b=f(y,b),b};return cT=g,cT}var uT,mV;function jfe(){if(mV)return uT;mV=1;function e(c){for(var d=1;d<arguments.length;d++){var h=arguments[d]!=null?arguments[d]:{},f=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(h).filter(function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),f.forEach(function(g){t(c,g,h[g])})}return c}function t(c,d,h){return d in c?Object.defineProperty(c,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[d]=h,c}var r=Qa(),n=en(),o=function(d,h){for(var f=[].concat(d).reverse();f.length;){var g=f.pop();h(g);var m=g.children;Array.isArray(m)||n(!1),f=f.concat([].concat(m.reverse()))}},i=function(d){if(!(d&&d.type))return!1;var h=d.type;return h==="unordered-list-item"||h==="ordered-list-item"},s=function(d){Array.isArray(d.children)&&(d.children=d.children.map(function(h){return h.type===d.type?e({},h,{depth:(d.depth||0)+1}):h}))},a={fromRawTreeStateToRawState:function(d){var h=d.blocks,f=[];return Array.isArray(h)||n(!1),!Array.isArray(h)||!h.length?d:(o(h,function(g){var m=e({},g);i(g)&&(m.depth=m.depth||0,s(g),g.children!=null&&g.children.length>0)||(delete m.children,f.push(m))}),d.blocks=f,e({},d,{blocks:f}))},fromRawStateToRawTreeState:function(d){var h=[],f=[];return d.blocks.forEach(function(g){var m=i(g),y=g.depth||0,b=e({},g,{children:[]});if(!m){h.push(b);return}var v=f[0];if(v==null&&y===0)h.push(b);else if(v==null||v.depth<y-1){var C={key:r(),text:"",depth:y-1,type:g.type,children:[],entityRanges:[],inlineStyleRanges:[]};f.unshift(C),y===1?h.push(C):v?.children.push(C),C.children.push(b)}else if(v.depth===y-1)v.children.push(b);else{for(;v!=null&&v.depth>=y;)f.shift(),v=f[0];y>0?v.children.push(b):h.push(b)}}),e({},d,{blocks:h})}};return uT=a,uT}var dT,vV;function Vfe(){if(vV)return dT;vV=1,y1();var e={isValidBlock:function(r,n){var o=r.getKey(),i=r.getParentKey();if(i!=null){var s=n.get(i);if(!s.getChildKeys().includes(o))return!1}var a=r.getChildKeys().map(function(g){return n.get(g)});if(!a.every(function(g){return g.getParentKey()===o}))return!1;var c=r.getPrevSiblingKey();if(c!=null){var d=n.get(c);if(d.getNextSiblingKey()!==o)return!1}var h=r.getNextSiblingKey();if(h!=null){var f=n.get(h);if(f.getPrevSiblingKey()!==o)return!1}return!(h!==null&&c!==null&&c===h||r.text!=""&&r.getChildKeys().size>0)},isConnectedTree:function(r){var n=r.toArray().filter(function(m){return m.getParentKey()==null&&m.getPrevSiblingKey()==null});if(n.length!==1)return!1;for(var o=n.shift(),i=0,s=o.getKey(),a=[];s!=null;){var c=r.get(s),d=c.getChildKeys(),h=c.getNextSiblingKey();if(d.size>0){h!=null&&a.unshift(h);var f=d.map(function(m){return r.get(m)}),g=f.find(function(m){return m.getPrevSiblingKey()==null});if(g==null)return!1;s=g.getKey()}else c.getNextSiblingKey()!=null?s=c.getNextSiblingKey():s=a.shift();i++}return i===r.size},isValidTree:function(r){var n=this,o=r.toArray();return o.every(function(i){return n.isValidBlock(i,r)})?this.isConnectedTree(r):!1}};return dT=e,dT}var hT,yV;function $fe(){if(yV)return hT;yV=1;var e=Ds(),t=Qr(),r=t.List;function n(o,i){var s=o.map(function(a,c){var d=i[c];return e.create({style:a,entity:d})});return r(s)}return hT=n,hT}var fT,bV;function zfe(){if(bV)return fT;bV=1;var e=hd(),t=e.substr;function r(n,o){var i=Array(n.length).fill(null);return o&&o.forEach(function(s){for(var a=t(n,0,s.offset).length,c=a+t(n,s.offset,s.length).length,d=a;d<c;d++)i[d]=s.key}),i}return fT=r,fT}var pT,wV;function Ufe(){if(wV)return pT;wV=1;var e=hd(),t=Qr(),r=t.OrderedSet,n=e.substr,o=r();function i(s,a){var c=Array(s.length).fill(o);return a&&a.forEach(function(d){for(var h=n(s,0,d.offset).length,f=h+n(s,d.offset,d.length).length;h<f;)c[h]=c[h].add(d.style),h++}),c}return pT=i,pT}var gT,SV;function Gfe(){if(SV)return gT;SV=1;function e(B){for(var U=1;U<arguments.length;U++){var q=arguments[U]!=null?arguments[U]:{},W=Object.keys(q);typeof Object.getOwnPropertySymbols=="function"&&(W=W.concat(Object.getOwnPropertySymbols(q).filter(function(V){return Object.getOwnPropertyDescriptor(q,V).enumerable}))),W.forEach(function(V){t(B,V,q[V])})}return B}function t(B,U,q){return U in B?Object.defineProperty(B,U,{value:q,enumerable:!0,configurable:!0,writable:!0}):B[U]=q,B}var r=ld(),n=As(),o=A_(),i=Vy(),s=jfe();Vfe();var a=$y(),c=$fe(),d=zfe(),h=Ufe(),f=Qa(),g=Fc(),m=Qr(),y=en(),b=g("draft_tree_data_support"),v=m.List,C=m.Map,E=m.OrderedMap,T=function(U,q){var W=U.key,V=U.type,Y=U.data,Q=U.text,re=U.depth,z={text:Q,depth:re||0,type:V||"unstyled",key:W||f(),data:C(Y),characterList:R(U,q)};return z},R=function(U,q){var W=U.text,V=U.entityRanges,Y=U.inlineStyleRanges,Q=V||[],re=Y||[];return c(h(W,re),d(W,Q.filter(function(z){return q.hasOwnProperty(z.key)}).map(function(z){return e({},z,{key:q[z.key]})})))},M=function(U){return e({},U,{key:U.key||f()})},I=function(U,q,W){var V=q.map(function(Y){return e({},Y,{parentRef:W})});return U.concat(V.reverse())},N=function(U,q){return U.map(M).reduce(function(W,V,Y){Array.isArray(V.children)||y(!1);var Q=V.children.map(M),re=new n(e({},T(V,q),{prevSibling:Y===0?null:U[Y-1].key,nextSibling:Y===U.length-1?null:U[Y+1].key,children:v(Q.map(function(Me){return Me.key}))}));W=W.set(re.getKey(),re);for(var z=I([],Q,re);z.length>0;){var K=z.pop(),Z=K.parentRef,le=Z.getChildKeys(),ce=le.indexOf(K.key),ue=Array.isArray(K.children);if(!ue){ue||y(!1);break}var ae=K.children.map(M),ye=new n(e({},T(K,q),{parent:Z.getKey(),children:v(ae.map(function(Me){return Me.key})),prevSibling:ce===0?null:le.get(ce-1),nextSibling:ce===le.size-1?null:le.get(ce+1)}));W=W.set(ye.getKey(),ye),z=I(z,ae,ye)}return W},E())},P=function(U,q){return E(U.map(function(W){var V=new r(T(W,q));return[V.getKey(),V]}))},L=function(U,q){var W=U.blocks.find(function(Q){return Array.isArray(Q.children)&&Q.children.length>0}),V=b&&!W?s.fromRawStateToRawTreeState(U).blocks:U.blocks;if(!b)return P(W?s.fromRawTreeStateToRawState(U).blocks:V,q);var Y=N(V,q);return Y},D=function(U){var q=U.entityMap,W={};return Object.keys(q).forEach(function(V){var Y=q[V],Q=Y.type,re=Y.mutability,z=Y.data;W[V]=i.__create(Q,re,z||{})}),W},$=function(U){Array.isArray(U.blocks)||y(!1);var q=D(U),W=L(U,q),V=W.isEmpty()?new a:a.createEmpty(W.first().getKey());return new o({blockMap:W,entityMap:q,selectionBefore:V,selectionAfter:V})};return gT=$,gT}var mT,CV;function Hfe(){if(CV)return mT;CV=1;var e=Ej();function t(r){var n=e(r),o=0,i=0,s=0,a=0;if(n.length){if(n.length>1&&n[0].width===0){var c=n[1];o=c.top,i=c.right,s=c.bottom,a=c.left}else{var d=n[0];o=d.top,i=d.right,s=d.bottom,a=d.left}for(var h=1;h<n.length;h++){var f=n[h];f.height!==0&&f.width!==0&&(o=Math.min(o,f.top),i=Math.max(i,f.right),s=Math.max(s,f.bottom),a=Math.min(a,f.left))}}return{top:o,right:i,bottom:s,left:a,width:i-a,height:s-o}}return mT=t,mT}var vT,xV;function Wfe(){if(xV)return vT;xV=1;var e=Hfe();function t(r){var n=r.getSelection();if(!n.rangeCount)return null;var o=n.getRangeAt(0),i=e(o),s=i.top,a=i.right,c=i.bottom,d=i.left;return s===0&&a===0&&c===0&&d===0?null:i}return vT=t,vT}var yT,_V;function Kfe(){if(_V)return yT;_V=1;var e=whe(),t=ng(),r=Ds(),n=She(),o=ld(),i=A_(),s=K_(),a=OB(),c=Afe(),d=VF(),h=Vy(),f=Ai(),g=lB(),m=Nn(),y=T1(),b=Lfe(),v=Qj(),C=$y(),E=Ffe(),T=Gfe(),R=Qa(),M=aV(),I=Wfe(),N=qj(),P={Editor:c,EditorBlock:d,EditorState:m,CompositeDecorator:n,Entity:h,EntityInstance:g,BlockMapBuilder:t,CharacterMetadata:r,ContentBlock:o,ContentState:i,RawDraftContentState:b,SelectionState:C,AtomicBlockUtils:e,KeyBindingUtil:y,Modifier:f,RichUtils:v,DefaultDraftBlockRenderMap:s,DefaultDraftInlineStyle:a,convertFromHTML:N,convertFromRaw:T,convertToRaw:E,genKey:R,getDefaultKeyBinding:M,getVisibleSelectionRect:I};return yT=P,yT}var Ls=Kfe();const EV=Tp[0],bT=16,TV="#000000",MV=["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH"];let qfe=0;function OV(e,t){return{type:"unstyled",depth:0,key:"block"+ ++qfe,entityRanges:[],inlineStyleRanges:t,text:e}}function wT(e,t){const r=e+"_";return t.startsWith(r)?t.split("_")[1]:null}function ST(e,t){const r=e+"_";return t.find(n=>!!n&&n.startsWith(r))?.split("_")[1]||null}function Yfe(e){const t=[];let r="",n=[];for(const o of e.parts){const i=ZC(o.fgcolor),{actualName:s,style:a,size:c,name:d}=o.font,h=d==="Symbol",f=a&1,g=a&2,m=a&4,y=a&8,b=[`color_${i}`,`fontSize_${c||bT}px`,`fontFamily_${s}`];f&&b.push("ITALIC"),g&&b.push("UNDERLINE"),m&&b.push("STRIKETHROUGH"),y&&b.push("BOLD");let v=!1;for(const C of o.string.text.split(`\r
`).join(`
`).split(`
`)){const E=h?ek(C):C;if(v&&(t.push(OV(r,n)),r="",n=[]),v=!0,!E)continue;const T=r.length,R=E.length;b.forEach(M=>n.push({offset:T,length:R,style:M})),r+=E}}return r&&t.push(OV(r,n)),{blocks:t,entityMap:{}}}function Xfe(e,{blocks:t}){const{scene:r}=e,n=[];let o=null;for(let i=0;i<t.length;++i){const{text:s,inlineStyleRanges:a}=t[i];for(let c=0;c<s.length;++c){let d=!1,h=!1,f=!1,g=!1,m=0,y=0,b="";for(const C of a){if(c<C.offset||c>=C.offset+C.length)continue;const E=C.style;let T;E==="BOLD"?d=!0:E==="ITALIC"?h=!0:E==="STRIKETHROUGH"?f=!0:E==="UNDERLINE"?g=!0:(T=wT("color",E))?m||=QC(T):(T=wT("fontSize",E))?y||=parseInt(T):(T=wT("fontFamily",E))&&(b||=T)}const v=(h?1:0)|(g?2:0)|(f?4:0)|(d?8:0);(!o||o.fgcolor!==m||o.font.size!==y||o.font.style!==v||o.font.name!==b)&&(o={fgcolor:m,string:r.string(""),font:r.font({size:y,style:v,name:b})},n.push(e.part(o,!0))),o.string.set({text:o.string.text+s[c]})}i!==t.length-1&&(o?o.string.set({text:o.string.text+`\r
`}):(o={string:r.string(`\r
`),font:r.font()},n.push(e.part(o,!0))))}e.set({parts:n})}function CT(e,t,r){const n=t+"_",o=n+r,i=e.getSelection(),s=e.getCurrentInlineStyle(),a=f=>!!f&&f.startsWith(n);if(i.isCollapsed())return Ls.EditorState.setInlineStyleOverride(e,s.filter(f=>!a(f)).toSet().add(o));let c=e.getCurrentContent();const d=s.filter(a).toArray();let h;for(;h=d.pop();)c=Ls.Modifier.removeInlineStyle(c,i,h);return c=Ls.Modifier.applyInlineStyle(c,i,o),Ls.EditorState.push(e,c,"change-inline-style")}class Zfe{constructor(t,r){this.isClosed=!1,this.fontDecorations=[],this.fontSize=bT.toString(),this.fontColor=TV,this.fontName=EV,this.text=r,this.state=Ls.EditorState.createWithContent(Ls.convertFromRaw(Yfe(r))),vt(this,{isClosed:Pe.ref,state:Pe.ref,fontDecorations:Pe.ref,fontSize:Pe.ref,fontColor:Pe.ref,fontName:Pe.ref,setState:be,set:be,applyAndClose:be,close:be})}setState(t){this.state=t;const r=t.getCurrentInlineStyle();if(!r)return;this.fontDecorations=MV.filter(o=>r.has(o)),this.fontName=ST("fontFamily",r)||EV,this.fontColor=ST("color",r)||TV;const n=ST("fontSize",r);this.fontSize=(n&&parseInt(n)||bT).toString()}set({fontDecorations:t=this.fontDecorations,fontSize:r=this.fontSize,fontColor:n=this.fontColor,fontName:o=this.fontName}){let{state:i}=this;const s=i.getCurrentInlineStyle();for(const a of MV){const c=t.includes(a),d=s.has(a);c!==d&&(i=Ls.RichUtils.toggleInlineStyle(i,a))}i=CT(i,"fontSize",r+"px"),i=CT(i,"color",n),i=CT(i,"fontFamily",o),this.state=i,this.fontDecorations=t,this.fontSize=r,this.fontColor=n,this.fontName=o}applyAndClose(){const t=Ls.convertToRaw(this.state.getCurrentContent());if(t.blocks.length!==1||t.blocks[0].text){const{text:r}=this;Xfe(r,t)}this.isClosed=!0}close(){this.isClosed=!0}}class fd{constructor(t,r,{key:n,data:o}){this.scene=t,this.m=r,this.subs=new Set,this.key=n||Xi.freeKey(r),this.key>0&&this.m.set(this.key,this),this.data=o?{...o}:{}}delete(){return this.subs.size?!1:(this.key>0&&this.m.delete(this.key),this.key=0,!0)}toJSON(){const{key:t,data:r}=this;let n;for(const o in r)typeof r[o]<"u"&&((n||={})[o]=r[o]);return n?{key:t,data:n}:{key:t}}}class Vh extends fd{constructor(t,r){super(t,t.objects,r),this.parent=null,this._deletedByParent=!1;const{x:n,y:o,width:i,height:s,attrib:a}=r;this.x=n??0,this.y=o??0,this.width=i??0,this.height=s??0,this.attrib=a??0}delete(){if(super.delete(),this._deletedByParent)return!0;const{parent:t,scene:r}=this;return t?.set({children:t.children.filter(n=>n.key)}),r.set({order:r.order.filter(n=>n.key)}),!0}set(t){const{attrib:r,x:n,y:o,width:i,height:s}=t;this.attrib=r??this.attrib;let a=!1;{const c=(n??this.x)-this.x,d=(o??this.y)-this.y;(c!==0||d!==0)&&(this._virtualMoved(c,d),a=!0)}if(i||s){const c=this.width||1,d=this.height||1,h=i&&i>0?i:c,f=s&&s>0?s:d,g=h/c,m=f/d;(g!==1||m!==1)&&(this._virtualResized(this.x,this.y,g,m),a=!0)}return a&&this.parent?._childChanged(),this.scene._dirty=!0,this}rotate(t,{x:r,y:n}={x:this.x,y:this.y}){return t===0?this:(this._virtualRotated(r,n,t),this.parent?._childChanged(),this)}_virtualUpdateBBox(t,r,n,o){this.x=t,this.y=r,this.width=n,this.height=o}_virtualMoved(t,r){this._virtualUpdateBBox(this.x+t,this.y+r,this.width,this.height)}_virtualResized(t,r,n,o){const i=t+(this.x-t)*n,s=r+(this.y-r)*o,a=(this.width||1)*n,c=(this.height||1)*o;this._virtualUpdateBBox(i,s,a,c)}_virtualRotated(t,r,n){const o=Math.sin(n),i=Math.cos(n),s=this.x-t,a=this.y-r,c=s*i-a*o+t,d=s*o+a*i+r;this._virtualUpdateBBox(c,d,this.width,this.height)}toJSON(){const{attrib:t,height:r,width:n,x:o,y:i}=this;return{...super.toJSON(),attrib:t,height:r,width:n,x:o,y:i}}toString(){return"Графический элемент"}}class Qfe extends Vh{constructor(t,r,n){super(t,n),this.type="group",this.children=[],this.set({...n,children:r})}delete(t){return this.children.forEach(r=>{r._deletedByParent=!0,r.delete(t)}),super.delete()}set(t,r){typeof t.children<"u"&&(this.children.forEach(o=>o.parent=null),this.children=t.children,this.children.forEach(o=>o.parent=this),this.children.length>0?this._childChanged():(this._virtualUpdateBBox(this.x,this.y,0,0),this.parent?._childChanged()));const{attrib:n}=t;return typeof n<"u"&&!r&&this.children.forEach(o=>o.set({attrib:n})),super.set(t)}_childChanged(){let t=1/0,r=-1/0,n=1/0,o=-1/0;this.children.forEach(i=>{t=Math.min(t,i.x),n=Math.min(n,i.y),r=Math.max(r,i.x+i.width),o=Math.max(o,i.y+i.height)}),this._virtualUpdateBBox(t,n,r-t,o-n),this.parent?._childChanged()}_virtualMoved(t,r){if(this.children.length===0){super._virtualMoved(t,r);return}this.children.forEach(n=>n._virtualMoved(t,r)),this._virtualUpdateBBox(this.x+t,this.y+r,this.width,this.height)}_virtualResized(t,r,n,o){if(this.children.length===0){super._virtualResized(t,r,n,o);return}let i=1/0,s=-1/0,a=1/0,c=-1/0;this.children.forEach(d=>{d._virtualResized(t,r,n,o),i=Math.min(i,d.x),a=Math.min(a,d.y),s=Math.max(s,d.x+d.width),c=Math.max(c,d.y+d.height)}),this._virtualUpdateBBox(i,a,s-i,c-a)}_virtualRotated(t,r,n){if(this.children.length===0){super._virtualRotated(t,r,n);return}let o=1/0,i=-1/0,s=1/0,a=-1/0;this.children.forEach(c=>{c._virtualRotated(t,r,n),o=Math.min(o,c.x),s=Math.min(s,c.y),i=Math.max(i,c.x+c.width),a=Math.max(a,c.y+c.height)}),this._virtualUpdateBBox(o,s,i-o,a-s)}*descendants(t){for(const r of this.children)t&&r.key<=0||(r.type==="group"&&(yield*r.descendants(t)),yield r)}toJSON(){const{type:t}=this,{x:r,y:n,width:o,height:i,...s}=super.toJSON(),a=this.children.filter(c=>c.key>0).map(c=>c.key);return{...s,type:t,children:a}}toString(){return"Группа"}}class Jfe{constructor(){this.type="scene",this._dirty=!0,this.x=0,this.y=0,this.order=[],this.background=null,this.hiddenLayers=0,this.grid=null,this.cursor=null,this.selectUnselectable=!1,this.disableInputs=!1,this.objects=new Map,this.pens=new Map,this.brushes=new Map,this.images=new Map,this.imagesOpaque=new Map,this.strings=new Map,this.fonts=new Map,this.texts=new Map,this.oninputchanged=null}set({x:t=this.x,y:r=this.y,order:n=this.order,hiddenLayers:o=this.hiddenLayers,selectUnselectable:i=this.selectUnselectable,disableInputs:s=this.disableInputs,grid:a=this.grid,background:c=this.background,cursor:d=this.cursor}){if(this.background!==c&&(this.background?.subs.delete(this),this.background=c,this.background?.subs.add(this)),this.disableInputs!==s){const h=s?"none":"auto";this.objects.forEach(f=>{f.type==="input"&&(f._html.style.pointerEvents=h)})}return this.x=Math.round(t),this.y=Math.round(r),this.order=n,this.hiddenLayers=o,this.selectUnselectable=i,this.disableInputs=s,this.grid=a,this.cursor=d,this}pick(t,r){const{order:n,hiddenLayers:o,selectUnselectable:i}=this;for(let s=n.length-1;s>=0;--s){const a=n[s],c=a.attrib,d=c&fa,h=c&Oc,f=c&Ms,g=c&Rp,m=Rc(c);if(d||g&&!i||!h&&1<<m&o||f)continue;let y=t-a.x,b=r-a.y,v=0;if(a.type==="line"){if(a.pen)v=a.pen.width/2||.5;else if(!a.brush)continue;v=Math.max(v,4)}else if(a.type==="textView"||a.type==="imageView"){const C=Math.sin(-a.angle),E=Math.cos(-a.angle),T=y*E-b*C,R=y*C+b*E;y=T,b=R}if(!(y<-v||y>a.width+v||b<-v||b>a.height+v)&&!(a.type==="line"&&!a.inside(y,b,v)))return a}return null}fromJSON(t){this.set({...t,background:void 0,order:void 0}).merge(t,"exact");const r=t.background&&this.brushes.get(t.background);r&&this.set({background:r})}toJSON(){const{background:t,x:r,y:n,hiddenLayers:o,selectUnselectable:i,grid:s,pens:a,brushes:c,images:d,imagesOpaque:h,fonts:f,strings:g,texts:m,objects:y,order:b}=this;return{background:t?.key,x:r,y:n,hiddenLayers:o,selectUnselectable:i,grid:s,pens:[...a.values()].map(v=>v.toJSON()),brushes:[...c.values()].map(v=>v.toJSON()),images:[...d.values()].map(v=>v.toJSON()),imagesOpaque:[...h.values()].map(v=>v.toJSON()),fonts:[...f.values()].map(v=>v.toJSON()),strings:[...g.values()].map(v=>v.toJSON()),texts:[...m.values()].map(v=>v.toJSON()),objects:[...y.values()].map(v=>v.toJSON()),order:b.filter(v=>v.key>0).map(v=>v.key)}}merge(t,r="free",n){const o=r==="free"?0:-1;function i(P,L){return r==="exact"?L?{...P,...L}:P:{...P,...L,key:o}}const s=t.pens?.map(P=>[P.key,this.pen(i(P))]),a=t.images?.map(P=>[P.key,this.image(P,i(P))]),c=t.imagesOpaque?.map(P=>[P.key,this.image(P,i(P,{opaque:!0}))]),d=t.fonts?.map(P=>[P.key,this.font(i(P))]),h=t.strings?.map(P=>[P.key,this.string(P.text||"",i(P))]),f=s?new Map(s):this.pens,g=a?new Map(a):this.images,m=c?new Map(c):this.imagesOpaque,y=d?new Map(d):this.fonts,b=h?new Map(h):this.strings,v=t.brushes?.map(P=>{const L=P.image&&m.get(P.image)||null;return[P.key,this.brush(i(P,{image:L}))]}),C=v?new Map(v):this.brushes,E=t.texts?.map(P=>{const L=P.parts.map((D,$)=>{const B=y.get(D.font)||jc(`Текст #${P.key}[${$}]: Шрифт #${D.font} не существует`),U=b.get(D.string)||jc(`Текст #${P.key}[${$}]: Строка #${D.string} не существует`);return{...D,font:B,string:U}});return[P.key,this.text(L,i(P))]}),T=E?new Map(E):this.texts,R=[],M=t.objects?.map(P=>{switch(P.type){case"line":{const L=P.pen&&f.get(P.pen)||null,D=P.brush&&C.get(P.brush)||null;return[P.key,this.line(P.coords,i(P,{pen:L,brush:D}))]}case"imageView":{const D=(P.opaque?m:g).get(P.image)||jc(`ImageView (opaque: ${P.opaque}) #${P.key}: Изображение #${P.image} не существует`);return[P.key,this.imageView(D,i(P))]}case"textView":{const L=T.get(P.text)||jc(`TextView #${P.key}: Текст #${P.text} не существует`);return[P.key,this.textView(L,i(P))]}case"input":{const L=P.font&&y.get(P.font)||null;return[P.key,this.input(P.inputType,i(P,{font:L}))]}case"videoView":return[P.key,this.video(Zi(P.src),i(P))];case"group":{const L=this.group([],i(P));return R.push({g:L,o:P}),[P.key,L]}case"3dView":throw Error(`Объект #${P.key} является 3D проекцией. Они еще не реализованы.`)}}),I=new Map(M);for(const{g:P,o:L}of R){const D=L.children.map($=>I.get($)||jc(`Группа #${P.key}: Объект #${$} не существует.`));P.set({children:D})}const N=t.order?.map(P=>{const L=I.get(P)||jc(`Объект #${P} не существует и не может быть отображен.`);return L.type==="group"&&jc(`Объект #${P} является группой и не может быть отображен.`),L});return!n&&N?.length&&this.set({order:this.order.concat(N)}),{objects:I,brushes:C,fonts:y,images:g,imagesOpaque:m,pens:f,strings:b,texts:T,order:N||[]}}_exist(t,r){return r&&r.key&&r.key>0&&t.get(r.key)}_not(t,r){return r&&r.key&&r.key>0&&t.get(r.key)&&jc(`Объект #${r.key} уже существует`),!0}group(t,r={}){return this._not(this.objects,r)&&new Qfe(this,t,r)}line(t,r){return this._not(this.objects,r)&&this._line(t,r)}imageView(t,r){return this._not(this.objects,r)&&this._imageView(t,r)}textView(t,r){return this._not(this.objects,r)&&this._textView(t,r)}input(t,r){return this._not(this.objects,r)&&this._input(t,r)}video(t,r){return this._not(this.objects,r)&&this._video(t,r)}pen(t){return this._exist(this.pens,t)||this._pen(t)}brush(t){return this._exist(this.brushes,t)||this._brush(t)}image(t,r){return this._exist(r?.opaque?this.imagesOpaque:this.images,r)||this._image(t,r)}string(t,r){return this._exist(this.strings,r)||this._string(t,r)}font(t){return this._exist(this.fonts,t)||this._font(t)}text(t,r){return this._exist(this.texts,r)||this._text(t,r)}}function jc(e){throw Error(e)}class epe extends Vh{constructor(t,r,n){const o={...n,width:n.width??r.width,height:n.height??r.height,image:r};super(t,o),this.image=r,this.type="imageView",this.area=null,this.opaque=n.opaque??!1,r.subs.add(this),this.angle=n.angle||0,this.set(o)}set({area:t=this.area,image:r=this.image,...n}){return this.image!==r&&(this.image.subs.delete(this),this.image=r,this.image.subs.add(this)),this.area=t,super.set(n)}_virtualRotated(t,r,n){super._virtualRotated(t,r,n),this.angle+=n}toJSON(){const{image:t,area:r,opaque:n,type:o,angle:i}=this;return{...super.toJSON(),type:o,image:t.key,area:r,opaque:n,angle:i}}delete(t){const{image:r}=this;return r.subs.delete(this),t||r.delete(),super.delete()}toString(){return"Картинка"}}class tpe extends epe{constructor(t,r,n){super(t,r,n),this._svg=document.createElementNS("http://www.w3.org/2000/svg","image"),this._visible=!0,this._src=null,this._area=null,this._x=0,this._y=0,this._w=0,this._h=0,this._angle=0,this.clipRect=null,this.hasArea=!0,this._svg.setAttribute("preserveAspectRatio","none")}_render(){const t=this.attrib,r=t&fa,n=Rc(t),o=!(r||1<<n&this.scene.hiddenLayers);if(this._visible!==o&&(this._visible=o,o?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!o)return;const i=this.image,s=this._src!==i.realSrc;s&&this._svg.setAttribute("href",this._src=i.realSrc);const a=this.area,c=!!a,d=this.hasArea!==c;this.hasArea=c;const h=this._area!==a||s;if(h){this._area=a;const v=i.width,C=i.height;if(a){const E=Math.min(Math.max(a.x,0),v),T=Math.min(Math.max(a.y,0),C),R=Math.min(Math.max(a.w,0),v-E),M=Math.min(Math.max(a.h,0),C-T);if(!this.clipRect){const{id:N,rect:P}=this.scene._createClipRect();this._svg.setAttribute("clip-path",`url(#${N})`),this.clipRect=P}const{clipRect:I}=this;I.setAttribute("x",E.toString()),I.setAttribute("y",T.toString()),I.setAttribute("width",R.toString()),I.setAttribute("height",M.toString())}else this._svg.removeAttribute("clip-path"),this.clipRect?.remove(),this.clipRect=null}const f=this.x-this.scene.x,g=this.y-this.scene.y,m=this.width,y=this.height,b=this.angle;if(f!==this._x||g!==this._y||this._w!==m||this._h!==y||this._angle!==b||h){const{area:v}=this;this._x=f,this._y=g,this._w=m,this._h=y,this._angle=b;let C=`translate(${f}, ${g}),rotate(${b*180/Math.PI})`;v?C+=`scale(${m/v.w}, ${y/v.h}), translate(${-v.x}, ${-v.y})`:(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())),this._svg.setAttribute("transform",C),d&&(c?(this._svg.removeAttribute("width"),this._svg.removeAttribute("height")):(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())))}}}class rpe extends Vh{constructor(t,r,n){super(t,n),this.inputType=r,this.type="input",this.value="",this.style=0,this.font=null,this.set(n)}set({value:t=this.value,style:r=this.style,font:n=this.font,...o}){return this.value=t,this.style=r,this.font!==n&&(this.font?.subs.delete(this),this.font=n,this.font?.subs.add(this)),super.set(o)}toJSON(){const{inputType:t,style:r,font:n,type:o,value:i}=this;return{...super.toJSON(),type:o,inputType:t,exStyle:0,font:n?.key,style:r,value:i}}delete(t){const{font:r}=this;return r&&(r.subs.delete(this),t||r.delete()),super.delete()}toString(){return`Элемент интерфейса '${this.inputType}'`}}const Yy={"jf-scene":"Lub8lEDq","jf-scene-svg":"gAt88WSK","jf-scene-html":"f-yoEwGQ","jf-input":"_3Au4Qe-K"},RV=4,npe=64;class ope extends rpe{constructor(t,r,n){super(t,r,n),this._svg=!1,this._visible=!0,this._css=null,this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:o=0}=n;let i;o&RV?i=document.createElement("textarea"):(i=document.createElement("input"),r==="Button"?i.type="button":i.type="text"),r==="Button"?i.addEventListener("click",this):i.addEventListener("input",this),i.tabIndex=-1,i.className=Yy["jf-input"],i.spellcheck=!1,i.name=`jf-${this.key}`,i.addEventListener("focus",this),i.addEventListener("blur",this),this.st=i.style,this.st.pointerEvents=t.disableInputs?"none":"auto",this._html=i}handleEvent(t){const{scene:r,_html:n,style:o}=this;o&RV&&!(o&npe)&&n.scrollHeight>n.clientHeight&&(n.value=n.value.slice(0,-1)),this.value=this._value=n.value,r.oninputchanged?.({type:t.type,scene:r,target:this})}_render(){const t=this.attrib,r=t&fa,n=Rc(t),o=!(r||1<<n&this.scene.hiddenLayers);if(this._visible!==o&&(this._visible=o,o?this.st.removeProperty("display"):this.st.setProperty("display","none")),!o)return;const i=this.font?.css()||null;if(this._css!==i)if(this._css=i,i){const f=`${i.fontWeight} ${i.fontStyle} ${i.fontSize*.566726660156244}px ${i.fontFamily}`;this.st.setProperty("font",f)}else this.st.removeProperty("font");this._value!==this.value&&(this._html.value=this._value=this.value);const s=this.x-this.scene.x,a=this.y-this.scene.y,c=this.width,d=this.height;this._x!==s&&this.st.setProperty("left",(this._x=s).toString()+"px"),this._y!==a&&this.st.setProperty("top",(this._y=a).toString()+"px"),this._w!==c&&this.st.setProperty("width",(this._w=c).toString()+"px"),this._h!==d&&this.st.setProperty("height",(this._h=d).toString()+"px")}}class ipe extends Vh{constructor(t,r,n){super(t,n),this.type="line",this._coordsDirty=!0,this.pen=null,this.brush=null,this.start=null,this.end=null,this.setCoords(r).set(n)}get length(){return this.coords.length/2}set({pen:t=this.pen,brush:r=this.brush,start:n=this.start,end:o=this.end,...i}){return this.pen!==t&&(this.pen?.subs.delete(this),this.pen=t,this.pen?.subs.add(this)),this.brush!==r&&(this.brush?.subs.delete(this),this.brush=r,this.brush?.subs.add(this)),this.start=n,this.end=o,super.set(i)}addPoint({x:t,y:r},n=this.length){const o=n*2,i=this.coords,s=t-this.x,a=r-this.y;return o<0||o>=i.length?i.push(s,a):i.splice(o,0,s,a),this._pointCountChanged(),!0}point(t){const r=t*2,n=this.coords;return r>=0&&r<n.length?{x:n[r]+this.x,y:n[r+1]+this.y}:null}setPoint(t,{x:r,y:n}){const o=t*2,i=this.coords;return o<0||o>=i.length?!1:(i[o+0]=r-this.x,i[o+1]=n-this.y,this._pointCountChanged(),!0)}removePoint(t){const r=t*2,n=this.coords;return n.length<=2||r<0||r>=n.length?!1:(n.splice(r,2),this._pointCountChanged(),!0)}setCoords(t){if(!t.length||t.length%2)throw Error("Количество координат должно быть четным.");return this.x=0,this.y=0,this.coords=t.slice(),this._pointCountChanged(),this}getIntersectionIndex(t,r){const{coords:n,brush:o,pen:i}=this;let s=0;return i&&(s=i.width/2||.5),s=Math.max(s,4),QP(n,!!o,s,t,r)}inside(t,r,n){const{coords:o,brush:i}=this;return i&&PK(o,t,r)||QP(o,!!i,n,t,r)!==-1}_pointCountChanged(){const t=this.coords;let r=t[0],n=t[1],o=r,i=n;for(let s=2;s<t.length;s+=2){const a=t[s+0],c=t[s+1];a<r&&(r=a),a>o&&(o=a),c<n&&(n=c),c>i&&(i=c)}if(r!==0||n!==0)for(let s=0;s<t.length;s+=2)t[s+0]-=r,t[s+1]-=n;this._virtualUpdateBBox(this.x+r,this.y+n,o-r,i-n),this.parent?._childChanged(),this._coordsDirty=this.scene._dirty=!0}_virtualResized(t,r,n,o){const i=this.coords;for(let c=0;c<i.length;c+=2)i[c+0]*=n,i[c+1]*=o;const s=t+(this.x-t)*n,a=r+(this.y-r)*o;this._virtualUpdateBBox(s,a,this.width*n,this.height*o),this._coordsDirty=!0}_virtualRotated(t,r,n){const o=this.coords,i=t-this.x,s=r-this.y,a=Math.sin(n),c=Math.cos(n);let d=1/0,h=-1/0,f=1/0,g=-1/0;for(let m=0;m<o.length;m+=2){const y=o[m+0]-i,b=o[m+1]-s,v=y*c-b*a+i,C=y*a+b*c+s;o[m+0]=v,o[m+1]=C,v<d&&(d=v),v>h&&(h=v),C<f&&(f=C),C>g&&(g=C)}if(d!==0||f!==0)for(let m=0;m<o.length;m+=2)o[m+0]-=d,o[m+1]-=f;this._virtualUpdateBBox(this.x+d,this.y+f,h-d,g-f),this._coordsDirty=!0}toJSON(){const{coords:t,brush:r,end:n,pen:o,start:i,type:s}=this;return{...super.toJSON(),type:s,coords:t.slice(),brush:r?.key,end:n,pen:o?.key,start:i}}delete(t){const{pen:r,brush:n}=this;return r&&(r.subs.delete(this),t||r.delete()),n&&(n.subs.delete(this),t||n.delete(t)),super.delete()}toString(){return"Полилиния"}}let spe=0;function ape(){const e=`mark_${++spe}`,t=document.createElementNS("http://www.w3.org/2000/svg","marker");t.setAttribute("id",e),t.setAttribute("orient","auto"),t.setAttribute("refX","0");const r=document.createElementNS("http://www.w3.org/2000/svg","polyline");return t.appendChild(r),{shape:r,marker:t,id:e}}function IV(e,t,r,n){const o=r.width||1,i=r.stroke(),s=t.fill?i:null,a=t.fill?null:i;e.marker.setAttribute("markerWidth",(t.width+o).toString()),e.marker.setAttribute("markerHeight",(t.oy*2+o).toString()),n&&e.marker.setAttribute("refX",t.width.toString()),e.marker.setAttribute("refY",t.oy.toString()),e.marker.setAttribute("markerUnits","userSpaceOnUse"),e.shape.setAttribute("points",t.coords),e.shape.setAttribute("stroke-width",o.toString()),a?e.shape.setAttribute("stroke",a):e.shape.removeAttribute("stroke"),e.shape.setAttribute("fill",s||"none")}function PV(e,t){if(e.angle===0||e.length===0)return null;const r=Math.abs(e.length*Math.sin(e.angle)),n=Math.abs(e.length*Math.cos(e.angle)),o=t?[0,0,n,r,0,r*2]:[n,0,0,r,n,r*2];return{coords:kV(o),fill:e.fill??!1,width:n,oy:r}}function kV(e){let t="";for(let r=0;r<e.length;r+=2)t+=e[r]+","+e[r+1]+" ";return t}function DV(e){const t=document.createElementNS("http://www.w3.org/2000/svg",e);return t.setAttribute("fill-rule","evenodd"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t}class lpe extends ipe{constructor(t,r,n){super(t,r,n),this._visible=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0,this._svg=DV(this._svgType=n.brush&&r.length>4?"polygon":"polyline")}createMarker(t){const r=ape();return this.scene.defs.appendChild(r.marker),this._svg.setAttribute(t?"marker-end":"marker-start",`url(#${r.id})`),r}_render(){const t=this.attrib,r=t&fa,n=t&Oc,o=Rc(t),i=this.pen,s=this.brush,a=!r&&!!(i||s)&&(!!n||!(1<<o&this.scene.hiddenLayers));if(this._visible!==a&&(this._visible=a,a?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!a)return;const c=this.brush&&this.length>2?"polygon":"polyline";if(this._svgType!==c){this._svgType=c,this._coordsDirty=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0;const E=DV(c);this._svg.parentElement&&this._svg.replaceWith(E),this._svg=E}this._coordsDirty&&(this._coordsDirty=!1,this._svg.setAttribute("points",kV(this.coords)));const d=i?.width||1,h=i?.stroke()||null,f=i?.dash()||null;if(this._width!==d){this._width=d;const E=d.toString();this._svg.setAttribute("stroke-width",E),this._startMark?.shape.setAttribute("stroke-width",E),this._endMark?.shape.setAttribute("stroke-width",E)}this._stroke!==h&&(this._stroke=h,h?(this._svg.setAttribute("stroke",h),this._startMark?.shape.setAttribute("stroke",h),this._endMark?.shape.setAttribute("stroke",h)):this._svg.removeAttribute("stroke")),this._dash!==f&&(this._dash=f,f?this._svg.setAttribute("stroke-dasharray",f):this._svg.removeAttribute("stroke-dasharray"));const g=this.length>2&&s?.fill()||"none";this._fill!==g&&(this._fill=g,this._svg.setAttribute("fill",g));const m=s?.blend()||i?.blend()||null;this._blend!==m&&(this._blend=m,m?this._svg.style.setProperty("mix-blend-mode",m):this._svg.style.removeProperty("mix-blend-mode"));const y=i&&(s?null:this.start),b=i&&(s?null:this.end);if(this._start!==y){this._start=y;const E=y&&PV(y,!0);E?IV(this._startMark||=this.createMarker(!0),E,i,!0):(this._startMark?.marker.remove(),this._startMark=null)}if(this._end!==b){this._end=b;const E=b&&PV(b,!1);E?IV(this._endMark||=this.createMarker(!1),E,i,!1):(this._endMark?.marker.remove(),this._endMark=null)}const v=this.x-this.scene.x,C=this.y-this.scene.y;(v!==this._x||C!==this._y)&&(this._x=v,this._y=C,this._svg.setAttribute("transform",`translate(${v}, ${C})`))}}class cpe extends Vh{constructor(t,r,n){const o={...n,width:n.width??r.width,height:n.height??r.height,text:r};super(t,o),this.text=r,this.type="textView",r.subs.add(this),this.angle=n.angle??0,this.set({...n,text:r})}set({text:t=this.text,...r}){return this.text!==t&&(this.text.subs.delete(this),this.text=t,this.text.subs.add(this)),super.set(r)}_virtualRotated(t,r,n){super._virtualRotated(t,r,n),this.angle+=n}toJSON(){const{text:t,angle:r,type:n}=this;return{...super.toJSON(),type:n,text:t.key,angle:r}}delete(t){const{text:r}=this;return r.subs.delete(this),t||r.delete(t),super.delete()}toString(){return"Текст"}}function AV(e){const t=document.createElementNS("http://www.w3.org/2000/svg","tspan");return e&&(t.setAttribute("x","0px"),t.setAttribute("dy","1.15em")),t}class upe{constructor(t,r){this.owner=t,this.part=r,this._strs=[],this._css=null,this._fgcolor=NaN,this.spans=r.string.split().map((n,o)=>AV(o>0))}update(){let t=!1;const{part:r,spans:n}=this,o=r.string.split(),i=r.font.css();if(this._strs!==o){this._strs=o,t=!0,n.length!==o.length&&(this._fgcolor=NaN);let s;for(let a=0;a<o.length;++a){if(a<n.length)s=n[a];else{const d=AV(!0);n.push(d),s.after(d),s=d,this._css=null}let c=o[a];i.isSymbolFont&&(c=ek(c)),s.textContent=c||"​"}for(;n.length>o.length;)n.pop()?.remove()}if(this._css!==i&&(this._css=i,t=!0,n.forEach(s=>{s.setAttribute("font-family",i.fontFamily),s.setAttribute("font-size",i.fontSize.toString()),s.setAttribute("font-style",i.fontStyle),s.setAttribute("text-decoration",i.textDecoration),s.setAttribute("font-weight",i.fontWeight)})),this._fgcolor!==r.fgcolor){this._fgcolor=r.fgcolor;const s=XC(r.fgcolor)??"transparent";n.forEach(a=>a.setAttribute("fill",s))}return t}}class dpe extends cpe{constructor(t,r,n){if(super(t,r,n),this._svg=document.createElementNS("http://www.w3.org/2000/svg","text"),this._visible=!0,this._parts=[],this._partsSVG=[],this._sizes={w:0,h:0},this._angle=0,this._x=0,this._y=0,this._svg.setAttribute("dominant-baseline","text-before-edge"),this._svg.setAttribute("alignment-baseline","text-before-edge"),this._svg.setAttribute("letter-spacing","-0.07"),this._svg.style.setProperty("white-space","pre"),this._svg.style.setProperty("user-select","none"),r._textCalc=this._calcSizes.bind(this),!n.width||!n.height){const o=n.width??r.width,i=n.height??r.height;this._virtualUpdateBBox(this.x,this.y,o,i)}}_calcSizes(){const t=this.text?.parts;if(!t||!this.updateParts(t))return this._sizes;const r=this._svg.parentElement;r||this.scene.root.appendChild(this._svg);const{y:n=0,width:o,height:i}=this._svg.getBBox();return r||this._svg.remove(),this._sizes={w:o,h:n+i}}updateParts(t){if(this._parts!==t){this._parts=t;const r=[];this._partsSVG=t.map(n=>{const o=new upe(this,n);return r.push(...o.spans),o}),this._svg.replaceChildren(...r)}return this._partsSVG.reduce((r,n)=>n.update()||r,!1)}_render(){const t=this.attrib,r=t&fa,n=t&Oc,o=Rc(t),i=this.text?.parts,s=(!!n||!(r||1<<o&this.scene.hiddenLayers))&&!!i;if(this._visible!==s&&(this._visible=s,s?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!s)return;this.updateParts(i);const a=this.x-this.scene.x,c=this.y-this.scene.y,d=this.angle;(a!==this._x||c!==this._y||this._angle!==d)&&(this._x=a,this._y=c,this._angle=d,this._svg.setAttribute("transform",`translate(${a}, ${c}), rotate(${d*180/Math.PI})`))}}class hpe extends Vh{constructor(t,r){super(t,r),this.type="videoView",this.fixed=!1,this.fixed=r.fixed??this.fixed}set(t){return this.fixed=t.fixed??this.fixed,super.set(t)}toJSON(){throw new Error("Method not implemented.")}toString(){return"Видео"}}class fpe{constructor(t){this.e=t}get width(){return this.e.videoWidth}get height(){return this.e.videoHeight}}class ppe extends hpe{constructor(t,r,n){super(t,n),this._svg=!1,this._html=document.createElement("video"),this.st=this._html.style,this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const o=this._html;o.src=r,this.video=new fpe(o),this.st.setProperty("position","absolute"),this.st.setProperty("background","black"),qC.hideVideoControls?this.st.setProperty("pointer-events","none"):(o.setAttribute("controls","true"),this.st.setProperty("pointer-events","auto"))}getState(){const t=this._html;return t.paused?t.currentTime?"pause":"stop":"play"}setPosition(t){const r=this._html;return t!==r.currentTime&&(r.currentTime=t),this}getPosition(){return this._html.currentTime}play(){const t=this._html;return t.paused&&t.play(),this}stop(){const t=this._html;return t.paused||t.pause(),this}pause(){const t=this._html;return t.paused||t.pause(),t.currentTime&&(t.currentTime=0),this}_render(){const t=this.attrib,r=t&fa,n=Rc(t),o=!(r||1<<n&this.scene.hiddenLayers);if(this._visible!==o&&(this._visible=o,o?this.st.removeProperty("display"):this.st.setProperty("display","none")),!o)return;const i=this.x-this.scene.x,s=this.y-this.scene.y;if(this._x!==i&&this.st.setProperty("left",(this._x=i).toString()+"px"),this._y!==s&&this.st.setProperty("top",(this._y=s).toString()+"px"),this.fixed){const a=this.width,c=this.height;this._w!==a&&this.st.setProperty("width",(this._w=a).toString()+"px"),this._h!==c&&this.st.setProperty("height",(this._h=c).toString()+"px")}}}class gpe extends fd{constructor(t,r){super(t,t.brushes,r),this.type="brush",this.color=0,this.style=0,this.rop=0,this.hatch=0,this.image=null,this.set(r)}set({color:t=this.color,hatch:r=this.hatch,image:n=this.image,rop:o=this.rop,style:i=this.style}){return this.image!==n&&(this.image?.subs.delete(this),this.image=n,this.image?.subs.add(this)),this.color=t,this.style=i,this.rop=o,this.hatch=r,this}toJSON(){const{color:t,hatch:r,image:n,rop:o,style:i}=this;return{...super.toJSON(),color:t,hatch:r,image:n?.key,rop:o,style:i}}delete(t){if(!super.delete())return!1;const{image:r}=this;return r&&(r.subs.delete(this),t||r.delete()),!0}}const mpe=9,vpe=10,ype=0,bpe=1,wpe=3;class Spe extends gpe{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=XC(this._color=this.color):this._cssColor}blend(){switch(this.rop){case mpe:return"multiply";case vpe:return"multiply";default:return null}}fill(){switch(this.style){case ype:return this.cssColor();case bpe:return null;case wpe:return this.image?.pattern()??"black";default:return"white"}}}const Cpe=Tp.map(e=>e.toUpperCase());function xpe(e){if(!e)return Tp[0];if(e==="Symbol")return"Times New Roman";const t=e.toUpperCase(),r=t.endsWith(" CYR")?t.slice(0,t.length-4):t;return Tp[Math.max(Cpe.indexOf(r),0)]}class _pe extends fd{constructor(t,r){super(t,t.fonts,r),this.name="",this.size=0,this.style=0,this._renderedFont=null,this.set(r)}get actualName(){return this._renderedFont||=xpe(this.name)}set({name:t=this.name,size:r=this.size,style:n=this.style}){return this.name!==t&&(this.name=t,this._renderedFont=null),this.size=r,this.style=n,this}toJSON(){const{name:t,size:r,style:n}=this;return{...super.toJSON(),name:t,size:r,style:n}}}class Epe extends _pe{constructor(){super(...arguments),this._size=NaN,this._style=NaN,this._family="",this._decoration="",this._fstyle="",this._weight="",this._css=this.css()}css(){const{actualName:t,size:r,style:n}=this;let o=!1;if(this._style!==n){this._style=n,o=!0;const i=n&t7,s=n&r7,a=n&n7,c=n&Gk;this._decoration=`${s?"underline":""} ${a?"line-through":""}`,this._fstyle=i?"italic":"normal",this._weight=c?"bold":"normal"}return this._family!==t&&(this._family=t,o=!0),this._size!==r&&(this._size=r,o=!0),o?this._css={isSymbolFont:this.name==="Symbol",fontFamily:this._family,textDecoration:this._decoration,fontSize:r||15.940224159402327,fontStyle:this._fstyle,fontWeight:this._weight}:this._css}}class Tpe extends fd{constructor(t,{width:r,height:n,src:o},i){super(t,i.opaque?t.imagesOpaque:t.images,i),this.width=r,this.height=n,this.src=o,this.realSrc=Zi(o)}toJSON(){const{height:t,src:r,width:n}=this;return{...super.toJSON(),height:t,src:r,width:n}}}let Mpe=0;class Ope extends Tpe{constructor(){super(...arguments),this._pattern=null}pixel(){return 0}setPixel(){return!0}pattern(){if(this._pattern)return this._pattern.url;const t=document.createElementNS("http://www.w3.org/2000/svg","pattern"),r=`patt_${++Mpe}`;t.setAttribute("id",r),t.setAttribute("patternUnits","userSpaceOnUse"),t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString());const n=document.createElementNS("http://www.w3.org/2000/svg","image");n.setAttribute("href",this.realSrc),t.appendChild(n),this.scene.defs.appendChild(t);const o=`url(#${r})`;return this._pattern={e:t,url:o},o}}class Rpe extends fd{constructor(t,r){super(t,t.pens,r),this.color=0,this.style=0,this.rop=0,this.width=0,this.set(r)}set({color:t,rop:r,style:n,width:o}){return this.color=t??this.color,this.style=n??this.style,this.rop=r??this.rop,this.width=o??this.width,this}toJSON(){const{color:t,rop:r,style:n,width:o}=this;return{...super.toJSON(),color:t,rop:r,style:n,width:o}}}const Ipe=0,Ppe=1,kpe=2,Dpe=3,Ape=4,Lpe=5,Npe=9,Bpe=10;class Fpe extends Rpe{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=XC(this._color=this.color):this._cssColor}blend(){switch(this.rop){case Npe:return"multiply";case Bpe:return"multiply";default:return null}}stroke(){return this.style===Lpe?null:this.cssColor()}dash(){switch(this.style){case Ipe:return null;case Ppe:return"16 4";case kpe:return"2 4";case Dpe:return"16 4 2 4";case Ape:return"16 4 2 4 2 4";default:return null}}}class jpe extends fd{constructor(t,r,n){super(t,t.strings,n),this.text=r,this.set({...n,text:r})}set({text:t}){return this.text=t??this.text,this}toJSON(){const{text:t}=this;return{...super.toJSON(),text:t}}}class Vpe extends jpe{constructor(){super(...arguments),this._text="",this._parts=[""]}split(){return this._text!==this.text?this._parts=(this._text=this.text).split(`\r
`).join(`
`).split(`
`):this._parts}}class $pe{constructor(t,{font:r,string:n,fgcolor:o,bgcolor:i}){this.text=t,this.font=r,this.string=n,this.fgcolor=o||0,this.bgcolor=i??Th,r.subs.add(this),n.subs.add(this)}set({font:t=this.font,string:r=this.string,fgcolor:n=this.fgcolor,bgcolor:o=this.bgcolor}){return this.font!==t&&(this.font.subs.delete(this),this.font=t,t.subs.add(this)),this.string!==r&&(this.string.subs.delete(this),this.string=r,r.subs.add(this)),this.fgcolor=n,this.bgcolor=o,this}delete(t){this.font.subs.delete(this),this.string.subs.delete(this),t||(this.font.delete(),this.string.delete())}toJSON(){const{font:t,string:r,fgcolor:n,bgcolor:o}=this;return{font:t.key,string:r.key,fgcolor:n,bgcolor:o}}}class zpe extends fd{constructor(t,r,n){super(t,t.texts,n),this.type="text",this.parts=[],this.parts=r.map(o=>this.part(o,!0))}set({parts:t=this.parts},r){return this.parts!==t&&(this.parts.forEach(n=>!t.includes(n)&&n.delete(r)),this.parts=t),this}part(t,r){const n=new $pe(this,t);return r||(this.parts=this.parts.concat(n)),n}toJSON(){const t=this.parts.map(r=>r.toJSON());return{...super.toJSON(),parts:t}}delete(t){return super.delete()?(this.parts.forEach(r=>r.delete(t)),!0):!1}}class Upe extends zpe{constructor(){super(...arguments),this._textCalc=null}get width(){return this._textCalc?.().w??0}get height(){return this._textCalc?.().h??0}}function LV(e,t,r){const n=new Set(r);let o=0,i=null;t.forEach(s=>{if(n.delete(s),o<r.length&&s===r[o])++o;else{const a=i?i.nextElementSibling:e.firstElementChild;e.insertBefore(s._svg||s._html,a)}i=s._svg||s._html}),n.forEach(s=>(s._svg||s._html).remove())}const xT=new WeakMap;let Gpe=0;class _T extends Jfe{constructor(t,r=window){super(),this.prevOrder=[],this.svgOrder=[],this.htmlOrder=[],this.bgRect=null,this._bg=null,this._cursor=null;const n=this.root=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("class",Yy["jf-scene-svg"]);const o=this.defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=this.htmlRoot=document.createElement("div");i.className=Yy["jf-scene-html"];const s=this.view=document.createElement("div");s.className=Yy["jf-scene"],s.addEventListener("selectstart",vk.bind(null,s)),s.addEventListener("contextmenu",vk.bind(null,s)),n.append(o),s.append(n,i),t&&this.fromJSON(t);let a=xT.get(r);a||(a=[new Wu(r),new Set],xT.set(r,a)),a[1].add(this),a[0].run(_T.redrawAll.bind(null,a[1])),this.realWindow=window}static redrawAll(t){return t.forEach(r=>r._render()),t.size>0}dispose(){xT.get(this.realWindow)?.[1].delete(this)}resizeView(t,r){this.view.style.width=t+"px",this.view.style.height=r+"px"}_render(t=!1){if(!t&&!this.view.parentElement)return;const{background:r,prevOrder:n,svgOrder:o,root:i,htmlOrder:s,htmlRoot:a,cursor:c}=this;a.scrollTop!==0&&(a.scrollTop=0),a.scrollLeft!==0&&(a.scrollLeft=0),this._cursor!==c&&(this._cursor=c,this.view.style.cursor=c||"auto");const d=r?.fill()??null;let h=!1;if(h=this._bg!==d)if(this._bg=d,d){if(!this.bgRect){const g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("width","100%"),g.setAttribute("height","100%"),this.bgRect={_svg:g,_render:()=>{}}}this.bgRect._svg.setAttribute("fill",d)}else this.bgRect?._svg.remove(),this.bgRect=null;const f=this.order;if(n!==f||h){const g=this.bgRect?[this.bgRect]:[],m=[];f.forEach(y=>{y._svg?g.push(y):m.push(y)}),o.length>0?LV(i,g,o):i.append(...g.map(y=>y._svg)),s.length>0?LV(a,m,s):m.length>0&&a.append(...m.map(y=>y._html)),this.svgOrder=g,this.htmlOrder=m,this.prevOrder=f}f.forEach(g=>g._render())}toSVG(t,r){const{x:n,y:o,hiddenLayers:i}=this;this.set({x:t.x,y:t.y,hiddenLayers:0}),this._render(!0);let s;return r?(s=this.root,this.dispose()):(s=this.root.cloneNode(!0),this.set({x:n,y:o,hiddenLayers:i}),t&&this._render(!0)),s.removeAttribute("style"),s.removeAttribute("class"),s.setAttribute("viewBox",`0 0 ${t.w} ${t.h}`),s}toBlob(t){const r=this.toSVG(t);r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r.setAttribute("width",t.w+"px"),r.setAttribute("height",t.h+"px"),r.setAttribute("preserveAspectRatio","xMidYMid slice");const o=`<?xml version="1.0"?>\r
`+new XMLSerializer().serializeToString(r);return Promise.resolve(new Blob([o],{type:"image/svg+xml"}))}_line(t,r={}){return new lpe(this,t,r)}_imageView(t,r={}){return new tpe(this,t,r)}_textView(t,r={}){return new dpe(this,t,r)}_input(t,r={}){return new ope(this,t,r)}_video(t,r={}){return new ppe(this,t,r)}_pen(t={}){return new Fpe(this,t)}_brush(t={}){return new Spe(this,t)}_image(t,r={}){return new Ope(this,t,r)}_string(t,r={}){return new Vpe(this,t,r)}_font(t={}){return new Epe(this,t)}_text(t,r={}){return new Upe(this,t,r)}_createClipRect(){const t=`clipPath_${++Gpe}`,r=document.createElementNS("http://www.w3.org/2000/svg","clipPath");r.setAttribute("id",t);const n=document.createElementNS("http://www.w3.org/2000/svg","rect");return r.appendChild(n),this.defs.appendChild(r),{id:t,rect:n}}}const ET=_T;class Hpe{constructor(t,r,n){this.ed=t,this.object=r,this.speed=1;const o=t._history;o.pendNextEdit(),r.type==="_pseudoGroup"?o.savePositions(r._jf):o.saveTransform(r._jf),n&&this.handleKeyboard(n)}handleKeyboard(t){let r=0,n=0;switch(t.key){case"ArrowUp":r=0,n=-1;break;case"ArrowDown":r=0,n=1;break;case"ArrowLeft":r=-1,n=0;break;case"ArrowRight":r=1,n=0;break;default:return this}if(t.type==="keyup")return this.finish();const{object:o}=this,i=this.speed,s=o.x,a=o.y;return o.set({x:s+r*i,y:a+n*i}),++this.speed,this}finish(){return this.ed._history.pushPendingEdit(),null}}const Vc=Symbol(),Xy=Symbol(),NV=Symbol(),BV=Symbol(),$c=Symbol(),pd=Symbol(),FV="application/vnd.stratum.clipboard",{PS_DASH:TT,PS_DOT:jV,BS_NULL:Wpe}=rt,MT=Ga(255,0,0),Kpe=Ga(255,255,0),qpe=Ga(129,165,212,"editor"),Ype=Ga(0,0,0,"editor"),OT=Ga(0,0,0),Xpe=Ga(0,0,255),RT=Ga(128,128,128),VV=JC(16),$V=JC(24),IT={src:"icons/varpoint.dbm.png",width:160,height:32},Po=-1,Ns=Oc|Ms;class Zpe{constructor(t){this.s=t;const r=Po;this.blueSelectionShadowBrush=t.brush({key:r,color:qpe}),this.graySelectionBorderBrush=t.brush({key:r,color:RT}),this.redBrush=t.brush({key:r,color:MT}),this.yellowBrush=t.brush({key:r,color:Kpe}),this.transparentSelectionBorderBrush=t.brush({key:r,color:Ype}),this.nullBrush=t.brush({key:r,color:0,style:Wpe}),this.selectionAreaPen=t.pen({key:r,color:OT,width:1,style:TT}),this.blackSelectionBorderPen=t.pen({key:r,color:OT,width:2}),this.highlightAreaPen=t.pen({key:r,color:RT,width:1,style:TT}),this.highlightAreaPenRed=t.pen({key:r,color:Xpe,width:1,style:TT}),this.defaultFont=t.font({key:r,size:16}),this.reorderFont=t.font({key:r,size:20,style:Gk}),this.classFont=t.font({key:r,size:12}),this.captStr=t.string("",{key:r}),this.captText=t.text([{string:this.captStr,font:this.defaultFont}],{key:r})}padIconImage(){const t=this.s;return[...t.images.values()].find(r=>r.src===IT.src)??t.image(IT)}iconImage(t){const r=DC(t),n=`icons/${r.src}.png`,o=this.s;return[...o.images.values()].find(i=>i.src===n)??o.image({...r,src:n})}makeBorder(t,r){return t.scene.line([0,0,t.width+8,0,t.width+8,t.height+8,0,t.height+8],{key:Po,attrib:Ns,x:t.x-4,y:t.y-4,pen:r?this.highlightAreaPenRed:this.highlightAreaPen,brush:this.nullBrush})}highlightFor(t,r){const n=t.scene;let o;const i=Zy(t);if(i){const s=this.makeBorder(i.a.slot,!0),a=this.makeBorder(i.b.slot,!0);o=this.tempGroup([s,a]),n.set({order:n.order.concat(s,a)})}else o=this.makeBorder(t,r),PT(t)&&o.rotate(t.angle,t),n.set({order:n.order.concat(o)});return o}textFor(t){const{s:r}=this,n=zV(t);this.captStr.set({text:n});const o=n.length*8,i=r.textView(this.captText,{key:Po,attrib:Ns,x:Math.min(Math.max(t.x,t.scene.x+4),t.scene.x+t.scene.view.clientWidth-o),y:Math.min(Math.max(t.y-32,t.scene.y+4),t.scene.y+t.scene.view.clientHeight-32)});return r.set({order:r.order.concat(i)}),i}createTextFor(t,r){const{s:n}=this,o=n.string(r,{key:Po}),i=n.text([{string:o,font:this.reorderFont}],{key:Po}),s=n.textView(i,{key:Po,attrib:Ns,x:t.x,y:t.y}),a=24,c=24,d=n.line([t.x,t.y,t.x+a,t.y,t.x+a,t.y+c,t.x,t.y+c],{key:Po,attrib:Ns,brush:this.redBrush}),h=n.string(zV(t),{key:Po}),f=n.text([{string:h,font:this.classFont}],{key:Po}),g=t.x,m=t.y+c,y=n.textView(f,{key:Po,attrib:Ns,x:g,y:m}),b=y.width,v=y.height,C=n.line([g,m,g+b,m,g+b,m+v,g,m+v],{key:Po,attrib:Ns,brush:this.yellowBrush}),E=n.group([s,d,y,C],{key:Po});return n.set({order:n.order.concat(d,s,C,y)}),[o,E]}createSelectionArea(t,r,n,o){const{s:i}=this,s=i.line([0,0,n,0,n,o,0,o],{key:Po,attrib:Ns,x:t,y:r,pen:this.selectionAreaPen,brush:this.nullBrush});return i.set({order:i.order.concat(s)}),s}tempGroup(t){return this.s.group(t,{key:Po})}}function gd(e){return e.data[$c]||null}function PT(e){return e.type==="textView"||e.type==="imageView"}function zV(e){const t=lg(e);if(t)return t.toString();if(e.parent&&lg(e.parent))return e.type==="imageView"&&e.key>0?`Иконка #${e.key} ${e.attrib&1?" (скрыта)":""}`:"Изображение имиджа";const r=e+(e.data.name?` '${e.data.name}'`:"")+(e.key>0?` #${e.key}`:"");if(e.type!=="group")return r;const n=e.children.length;return`${r} [${n}]`}function lg(e){return e.data[Vc]??null}function cg(e){const t=e.data[Vc];return t?.type==="child"?t:null}function Qpe(e){const t=e.data[Vc];return t?.type==="pad"?t:null}function Zy(e){const t=e.data[Vc];return t?.type==="connection"?t:null}function xi(e){const t=e.data[Vc];return t&&(t.type==="child"||t.type==="pad")?t:null}let Jpe=0;function $n(){return++Jpe}function ege(e){let t=e;for(;t.parent&&t.parent.key>0;)t=t.parent;return t}function UV(e){return Eh(e.scene,P8(e))}function Qy(e){return!!e.data[BV]}function tge(e){if(e.length<2)return e;const t=Cp(new Set(e),r=>!r.parent&&!Qy(r)&&r.key>0);return t.length?t:[e[0]]}function GV(e){const{hiddenLayers:t}=e;return Cp(e.objects.values(),r=>{if(r.parent)return!1;const n=r.attrib;return!(n&fa||t&1<<Rc(n))})}class kT extends Ci{}function ug(e,t){if(!e)throw new kT(t)}function DT(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function HV(e){return{fonts:[{key:1,size:16}],strings:[{key:1,text:e}],texts:[{key:1,parts:[{font:1,string:1}]}],objects:[{type:"textView",key:1,text:1}],order:[1]}}function WV(e){return{images:[{key:1,...e}],objects:[{type:"imageView",key:1,image:1}],order:[1]}}const rge=HV("Sample Text"),nge={objects:[{type:"input",key:1,inputType:"Edit",width:64,height:20}],order:[1]},oge={objects:[{type:"input",key:1,inputType:"Button",width:64,height:20,value:"Кнопка"}],order:[1]},ige={pens:[{key:1,color:0,width:1}],brushes:[{key:1,color:RT}],objects:[{type:"line",key:1,coords:[0,0,0,100,100,100,100,0],pen:1,brush:1}],order:[1]};function sge(e){const t=e.getData(FV);return t?JSON.parse(t):null}function KV(e,t){e.setData(FV,JSON.stringify(t))}class qV{constructor(t){this.ed=t,this.title="Изменение порядка имиджей",this.counter=-1,this.childWeakMap=new WeakMap;const{children:r,_tools:n}=t;this.markers=r.map((o,i)=>{const s=(i+1).toString(),a=n.createTextFor(o.slot,s);return this.childWeakMap.set(o,a),a})}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:r}=this,{sceneX:n,sceneY:o}=t,i=r._pick(n,o),s=i&&cg(i);if(!s)return this;const a=r.children.indexOf(s);let c=(t.shiftKey?a:this.counter)+1;const d=_C(r.children,c,s);return d.indexOf(s)!==a&&(d.forEach((h,f)=>this.childWeakMap.get(h)?.[0].set({text:(f+1).toString()})),r._history.saveChildOrder(),r.setChildOrder(d)),!t.shiftKey&&c>=d.length?this.finish():(this.counter=c,this)}finish(){for(const[t,r]of this.markers)r.delete();return null}}class age{constructor(t){this.ed=t,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:r}=this,n=t.sceneX,o=t.sceneY,i=r._scene,s=i.line([n,o,n+1,o+1],{pen:i.pen({color:OT}),attrib:Ns});return i.set({order:i.order.concat(s)}),new AT(r,s)}}class AT{constructor(t,r){this.ed=t,this.line=r,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){const{line:r}=this;if(t.type==="pointerup")return r.length===2&&Math.hypot(r.width,r.height)>5?this.finishLine():this;const n=r.point(r.length-2);let o=t.sceneX,i=t.sceneY;if(t.type==="pointermove"){if(t.ctrlKey&&n){const s=Math.abs(o-n.x),a=Math.abs(i-n.y);s>a?i=n.y:o=n.x}return r.setPoint(r.length-1,{x:o,y:i}),this}return n&&Math.hypot(n.x-o,n.y-i)<5?this:t.shiftKey?this.finishLine():(r.addPoint({x:o+1,y:i+1}),new AT(this.ed,r))}finishLine(){const{line:t,ed:r}=this;t.set({attrib:t.attrib&~Ns}),r._refreshChildImages();const n=[t];return r._history.saveCreatedObjects(n),r._createSelection(n),null}finish(){const{line:t}=this;t.length<3?this.line.delete():(t.removePoint(t.length-1),this.finishLine())}}class lge{constructor(t,r,n="Создание объекта"){this.ed=t,this.sample=r,this.title=n,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:r,sample:n}=this,o=Eh(r._scene,n).set({x:t.sceneX,y:t.sceneY});r._refreshChildImages();const i=[o];return r._history.saveCreatedObjects(i),r._createSelection(i),null}}class cge{constructor(t,r,n="Создание объекта"){this.ed=t,this.sample=r,this.title=n,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:r,sample:n}=this,o=t.sceneX,i=t.sceneY,s=Eh(r._scene,n);return s.set({x:o,y:i,width:1,height:1,attrib:s.attrib|Ns}),new uge(r,s,this.title)}}class uge{constructor(t,r,n="Создание объекта"){this.ed=t,this.object=r,this.title=n,this.cursor="crosshair",this.start={x:r.x,y:r.y}}handlePointer(t){const{object:r,start:n}=this;if(t.type==="pointermove"){const s=Math.min(t.sceneX,n.x),a=Math.min(t.sceneY,n.y),c=Math.abs(t.sceneX-n.x),d=Math.abs(t.sceneY-n.y);return r.set({x:s,y:a,width:c,height:d}),this}if(r.width<10&&r.height<10)return this;r.set({attrib:r.attrib&~Ns});const{ed:o}=this;o._refreshChildImages();const i=[r];return o._history.saveCreatedObjects(i),o._createSelection(i),null}finish(){this.object.delete()}}class dge{constructor(t){this.ed=t,this.title="Выбор первой цели",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:r}=this,n=t.sceneX,o=t.sceneY,i=r._pick(n,o),s=i&&xi(i);return s?new YV(r,s,{x:n,y:o}):this}}class YV{constructor(t,r,n=DT(r.slot)){this.ed=t,this.a=r,this.title="Выбор второй цели",this.cursor="crosshair";const{x:o,y:i}=n,s=t._scene,a=this.slot=s.line([o,i,o,i],{pen:s.pen({color:MT}),attrib:Ns});s.set({order:s.order.concat(a)})}handlePointer(t){const r=t.sceneX,n=t.sceneY,{slot:o}=this;if(t.type==="pointermove")return o.setPoint(1,{x:r,y:n}),this;const{ed:i,a:s}=this,a=i._pick(r,n),c=a&&xi(a);if(!c||c===s)return this;const d=i.connections.find(g=>g.includes(s)&&g.includes(c));if(d)return this.finish(),i._createSelection([d.slot]),null;o.set({attrib:$V});const h=i.schema.createConnection(s.schema,c.schema,{key:o.key,aPadKey:on(s.type==="pad"&&s.key),bPadKey:on(c.type==="pad"&&c.key)});i._createConnection(o,h),i._refreshChildImages();const f=[o];return i._history.saveCreatedObjects(f),i._createSelection(f),null}finish(){this.slot.delete()}}class Jy{constructor(t,r,n=!1){if(this.ed=t,this.area=null,this.kept=null,this.startX=r.sceneX,this.startY=r.sceneY,n){const a=t.selection;a&&(a.type==="multi"||!a.object._jf.parent&&!Qy(a.object._jf))&&(this.kept=a._getJF())}else t.selection?.reset();const{selectUnselectable:o,hiddenLayers:i}=t._scene,s=Cp(t._scene.objects.values(),a=>{if(a.parent||Qy(a)||this.kept?.includes(a))return!1;const c=a.attrib,d=c&1,h=c&4,f=c&8,g=c>>8&31;return!(d||f&&!o||1<<g&i||h)});this.objects=s}handlePointer(t){if(t.type==="pointerup")return this.removeAreaBox(),null;const r=Math.min(t.sceneX,this.startX),n=Math.min(t.sceneY,this.startY),o=Math.abs(t.sceneX-this.startX),i=Math.abs(t.sceneY-this.startY),{ed:s}=this;o>0&&i>0?this.area?this.area.set({x:r,y:n,width:o,height:i}):this.area=s._tools.createSelectionArea(r,n,o,i):this.removeAreaBox();const a=s.selection?._getJF()||[];let c=!1;const d=this.objects.filter(h=>{const f=h.x>=r&&h.y>=n&&h.x+h.width<=r+o&&h.y+h.height<=n+i;return c||=f&&!a.includes(h)||!f&&a.includes(h),f});return c&&s._createSelection(this.kept?.concat(d)??d),this}finish(){this.removeAreaBox()}removeAreaBox(){this.area&&(this.area.delete(!0),this.area=null)}}class hge{constructor(t,r,n){this.ed=t,this.ctrl=r,this.disableHighlights=!0;const o=this.prop=r.data[pd],i=o.direction;this.cursor=i==="vert"?"ns-resize":i==="horiz"?"ew-resize":"move",this.startX=r.x,this.startY=r.y,this.shiftx=n.sceneX-this.startX,this.shifty=n.sceneY-this.startY;const s=o.selection.object;this.origW=s.width,this.origH=s.height;const a=t._history;a.pendNextEdit(),a.saveTransform(s._jf)}handlePointer(t){if(t.type==="pointerup")return this.finish();let r=t.sceneX-this.shiftx,n=t.sceneY-this.shifty;if(this.prop.direction==="vert")r=this.startX;else if(this.prop.direction==="horiz")n=this.startY;else if(t.ctrlKey){const o=r-this.startX,i=n-this.startY;Math.abs(o)>Math.abs(i)?n=this.startY+this.origH*(o/this.origW):r=this.startX+this.origW*(i/this.origH)}return this.ctrl.set({x:r,y:n}),this.prop.notifyPositionChanged(),this}finish(){const t=this.ed._history;return this.ctrl.x===this.startX&&this.ctrl.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class fge{constructor(t,r,n){this.ctrl=r,this.disableHighlights=!0;const o=this.prop=r.data[pd],i=o.direction;this.cursor=i==="vert"?"ns-resize":i==="horiz"?"ew-resize":"move",this.startX=r.x,this.startY=r.y,this.shiftx=n.sceneX-this.startX,this.shifty=n.sceneY-this.startY;const s=o.selection.object;this.origW=s.width,this.origH=s.height}handlePointer(t){if(t.type==="pointerup")return this.finish(),null;let r=t.sceneX-this.shiftx,n=t.sceneY-this.shifty;if(this.prop.direction==="vert")r=this.startX;else if(this.prop.direction==="horiz")n=this.startY;else if(t.ctrlKey){const o=r-this.startX,i=n-this.startY;Math.abs(o)>Math.abs(i)?n=this.startY+this.origH*(o/this.origW):r=this.startX+this.origW*(i/this.origH)}return this.ctrl.set({x:r,y:n}),this.prop.notifyPositionChanged(),this}finish(){this.prop.complete?.()}}class LT{constructor(t,r,n){this.ed=t,this.object=r,this.disableHighlights=!0,this.cursor="grabbing",this.startX=r.x,this.startY=r.y,this.shiftx=n.sceneX-this.startX,this.shifty=n.sceneY-this.startY,t._history.pendNextEdit()}handlePointer(t){let r=t.sceneX-this.shiftx,n=t.sceneY-this.shifty;if(t.type==="pointerup")return this.finish();if(t.ctrlKey){const o=Math.abs(r-this.startX),i=Math.abs(n-this.startY);o>i?n=this.startY:r=this.startX}return this.object.set({x:r,y:n}),this}finish(){const t=this.ed._history;return this.object.x===this.startX&&this.object.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class pge{constructor(t,r,n){this.ed=t,this.o=r,this.cursor="copy",this.startX=n.sceneX,this.startY=n.sceneY}handlePointer(t){if(t.type==="pointerup")return null;if(t.type!=="pointermove")return this;const r=t.sceneX-this.startX,n=t.sceneY-this.startY;if(Math.hypot(r,n)<16)return this;const{ed:o,o:i}=this,s=o._cloneObject(i).set({x:i.x+r,y:i.y+n});xi(s)?._notifySlotMoved();const a=[s],c=o._history;return c.batch(()=>{c.saveCreatedObjects(a);const d=o._createSelection(a);return d?new LT(o,d.object,t):this})}}class gge{constructor(t){this.ed=t}handlePointer(t){if(t.type!=="pointerdown")return this;const r=t.shiftKey,n=t.shiftKey,{ed:o}=this,i=o._pickSmart(t.sceneX,t.sceneY,!r);if(!i)return new Jy(o,t,r);const s=i.data[pd];if(s){if(typeof s.lineEditorIndex=="number"){if(t.shiftKey){const h=o.selection;if(h?.type!=="single")return this;const f=h.object;return f.type!=="line"?this:(f.removePoint(s.lineEditorIndex),this)}return new fge(o,i,t)}return n?new LT(o,s.selection.object,t):new hge(o,i,t)}const a=Qy(i);if(!r){const h=i.data[$c]||o._createSelection([i]);return!a&&h?new LT(o,h.object,t):this}const c=o.selection;if(!c)return new Jy(o,t);const d=ege(i);if(c.type==="single"){if(a){const h=c.object;if(t.shiftKey&&h.type==="line"&&Zy(h._jf)){const f=h._jf,g=f.getIntersectionIndex(t.sceneX-f.x,t.sceneY-f.y);return g<0?this:(h.addPoint(t.sceneX,t.sceneY,g+1),this)}return new Jy(o,t)}if(c.object._jf===d){if(c.object.type==="line"&&c.object.isPointsEditModeActive){const h=c.object._jf,f=h.getIntersectionIndex(t.sceneX-h.x,t.sceneY-h.y);return f<0?this:(c.object.addPoint(t.sceneX,t.sceneY,f+1),this)}return new pge(o,d,t)}c.object._jf.parent?o._createSelection([d]):o._createSelection([c.object._jf,d])}else c.object._jf.includes(d)?o._createSelection(c.object._jf.filter(h=>h!==d)):o._createSelection(c.object._jf.concat(d));return new Jy(o,t,!0)}}class mge{constructor(t){this.ed=t,this.defaultAction=new gge(this.ed),this.currentAction=this.defaultAction,this.inTransition=!1,vt(this,{currentAction:Pe.ref,inAction:Kn,actionTitle:Kn})}get actionTitle(){return this.currentAction.title||""}get inAction(){return this.currentAction!==this.defaultAction}get isInChildReorderMode(){return this.currentAction instanceof qV}get canHandlePointer(){return!!this.currentAction.handlePointer}get highlightsDisallowed(){return!!this.currentAction.disableHighlights}handlePointer(t){this.currentAction.handlePointer&&(this.inTransition=!0,this.switchAction(this.currentAction.handlePointer(t)||this.defaultAction),this.inTransition=!1)}handleKeyboard(t){return this.currentAction.handleKeyboard?(this.inTransition=!0,this.switchAction(this.currentAction.handleKeyboard(t)||this.defaultAction),this.inTransition=!1,!0):!1}finishCurrent(){this.inTransition||(this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(this.defaultAction),this.inTransition=!1)}startMoveObjectWithKeyboard(t,r){this.startAction(new Hpe(this.ed,t,r))}startCreateConnection(t){this.startAction(t?new YV(this.ed,t):new dge(this.ed))}startCreateSample(t,r){this.startAction(new cge(this.ed,t,r))}startSelectSampleCoords(t,r){this.startAction(new lge(this.ed,t,r))}startCreateLine(){this.startAction(new age(this.ed))}startReorderChildren(){this.startAction(new qV(this.ed))}switchAction(t){this.currentAction!==t&&(this.currentAction=t,this.ed._scene.set({cursor:t?.cursor??null}))}startAction(t){ks.assert(!this.inTransition),this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(t),this.inTransition=!1}}class eb{constructor(t,r,n){this.type="child",this.connections=[],this.resizable=!1,this.hovered=!1,this.imgContainer=null,this.scene=t,this.schema=r,this.slot=n,n.data[Vc]=this;const o=n.children.length&&n.children[0];let i;o&&o.type==="imageView"?(i=o,i.data[NV]=this,i.data[Xy]=this):i=null,this.icon=i,this.replaceImage(r.klass.image),this._subscribe(),vt(this,{schema:Pe.ref,hovered:Pe.ref,select:be,connections:!1,resizable:!1})}get key(){return this.slot.key}select(t=!1){this.scene._createSelection([this.slot],!0,t)}_forceHide(){this.replaceImage({...this.schema.klass.image,scene:void 0})}_forceUpdate(){this.replaceImage(this.schema.klass.image)}_subscribe(){this.schema.klass.onImageChanged.add(this.scene._childImageChanged)}_unsubscribe(){this.schema.klass.onImageChanged.remove(this.scene._childImageChanged)}toString(){return`${this.schema.name} #${this.key}`}_saveChanges(){const{slot:t,schema:r}=this;r.node.set({sceneName:t.data.name||"",sceneX:t.x,sceneY:t.y})}_notifyConnectionRemoved(t){this.connections=this.connections.filter(r=>r!==t)}_setHover(t){this.hovered=t}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_copy(){const{key:t,schema:r}=this;return{key:t,klass:r.klass.name,klassUUID:on(r.klass.uuid),state:r.getState()}}_replaceSchema(t){if(t.node!==this.schema.node)throw Error("Типы имиджей не совпадают");this.schema=t}replaceImage(t){const r=!!t?.resizable,n=this.resizable!==r;this.resizable=r;const o=r?this.slot.width:32,i=r?this.slot.height:32;if(this.imgContainer?.delete(),this.imgContainer=null,this.icon){const{atlas:a,index:c=0}=t?.icon??{},d=this.scene._tools.iconImage(a),{x:h,y:f}=AC(d,c);this.icon.set({image:d,width:o,height:i,area:{x:h,y:f,w:32,h:32},attrib:this.slot.attrib})}const s=t?.scene?.data;if(!(!s?.objects?.length||t?.prior==="icon")){this.imgContainer=GD(this.slot,s,r&&!n,"unused");for(const a of Mp(this.imgContainer))a.data[Xy]=this;n&&r&&this.icon?.set({width:this.slot.width,height:this.slot.height})}}}class dg{constructor(t,r,n){this.type="connection",this.scene=t,this.schemaConnection=r;let o,i;if(t.schema===r.a){if(o=t.pads.find(c=>c.key===r.aPadKey),!o)throw Error(`Площадка A #${r.aPadKey} не существует`)}else if(o=t.children.find(c=>c.schema===r.a),!o)throw Error(`Дочерний имидж ${r.a} не существует`);if(t.schema===r.b){if(i=t.pads.find(c=>c.key===r.bPadKey),!i)throw Error(`Площадка B #${r.bPadKey} не существует`)}else if(i=t.children.find(c=>c.schema===r.b),!i)throw Error(`Дочерний имидж ${r.b} не существует`);this.a=o,this.b=i,this.slot=n;const s=n.point(0);this.shift1=s?{x:s.x-o.slot.x,y:s.y-o.slot.y}:{x:0,y:0},this.size1={x:o.slot.width,y:o.slot.height},o.connections=o.connections.concat(this);const a=n.point(n.length-1);this.shift2=a?{x:a.x-i.slot.x,y:a.y-i.slot.y}:{x:0,y:0},this.size2={x:i.slot.width,y:i.slot.height},i.connections=i.connections.concat(this),n.data[Vc]=this,n.data[BV]=!0,this.updatePen(),vt(this,{schemaConnection:Pe.ref,setDisabled:be,includes:!1})}updateShift(){const{slot:t,a:r,b:n}=this,o=t.point(0),i=t.point(t.length-1);this.shift1=o?{x:o.x-r.slot.x,y:o.y-r.slot.y}:{x:0,y:0},this.shift2=i?{x:i.x-n.slot.x,y:i.y-n.slot.y}:{x:0,y:0}}setDisabled(t){this.schemaConnection.setDisabled(t),this.updatePen()}get key(){return this.slot.key}includes(t){return this.a===t||this.b===t}toString(){return`Связь #${this.key}: ${this.a} - ${this.b}`}_copy(){return this.schemaConnection.proto.toJSON()}_notifyTargetMoved(){const{slot:t,shift1:r,shift2:n,a:o,b:i}=this,s=r.x*(o.slot.width/this.size1.x),a=r.y*(o.slot.height/this.size1.y),c=n.x*(i.slot.width/this.size2.x),d=n.y*(i.slot.height/this.size2.y),h=o.slot.x+s,f=o.slot.y+a,g=i.slot.x+c,m=i.slot.y+d;t.setPoint(0,{x:h,y:f}),t.setPoint(t.length-1,{x:g,y:m})}_notifySlotRemoved(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}_replaceConnection(t){if(t.proto!==this.schemaConnection.proto)throw Error("Типы связей не совпадают");this.schemaConnection=t}updatePen(){const t=this.slot.pen;if(!t)return;let r=t.style;this.schemaConnection.isDisabled?r|=jV:r&=~jV,t.set({style:r})}}class tb{constructor(t,r){this.type="pad",this.connections=[],this.scene=t,this.schema=t.schema,this.slot=r,r.data[Vc]=this,vt(this,{schema:Pe.ref,connections:!1})}get key(){return this.slot.key}toString(){return`Площадка #${this.key}`}_notifyConnectionRemoved(t){this.connections=this.connections.filter(r=>r!==t)}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_replaceSchema(){this.schema=this.scene.schema}}class NT{constructor(t,r,n,o=$n()){this.ed=t,this.id=o;const i=t._scene,s=new Set(r),a=new Set,c=[],d=[],h=[];r.forEach(f=>{if(f.parent&&f.parent.key>0){const m=f.parent.children.indexOf(f);h.push([f.key,f.parent.key,m])}const g=lg(f);g&&(g.type==="connection"?(g._notifySlotRemoved(),a.add(g)):(g.connections.forEach(m=>{m._notifySlotRemoved(),a.add(m),s.add(m.slot)}),g.type==="child"?c.push(g):d.push(g.slot.key)))}),this.parentRelations=h,this.deletedPads=d,this.deletedChildren=c.map(f=>f._copy()),this.deletedConnections=Array.from(a,f=>f._copy()),this.prevObjectOrder=Si(i.order,f=>f.key>0&&f.key),this.prevChildOrder=t.children.map(f=>f.key),this.deletedData=Jv(s,!0),this.title=n??`Удалено${a.size?" (включая связи)":""}: ${s.size}`,s.forEach(f=>f.delete()),a.forEach(f=>f.schemaConnection.remove()),c.forEach(f=>f.schema.remove()),c.length&&this.ed._notifyChildrenRemoved(),d.length&&this.ed._notifyPadsRemoved(),a.size&&this.ed._notifyConnectionsRemoved()}undo(){const{ed:t}=this;let r=[];const{schema:n}=t;n&&(r=this.deletedChildren.map(c=>{const d=n.resolveKlass(c.klass,c.klassUUID);return ug(d,`Имидж не существует: ${c.klass}`),ug(!n.hasAncestor(d),`Невозможно добавить '${d.name}' в схему: рекурсивная зависимость`),{...c,klass:d}}));const o=t._scene,{objects:i}=o.merge(this.deletedData,"exact",!0),s=YC(i);this.parentRelations.forEach(([c,d,h])=>{const f=o.objects.get(d);if(f?.type!=="group")throw Error(`Группа #${d} объекта #${c} не существует`);const g=o.objects.get(c);if(!g)throw Error(`Объект #${c} не существует`);const m=f.children.slice();m.splice(h,0,g),f.set({children:m})});const a=this.prevObjectOrder.map(c=>{const d=o.objects.get(c);if(!d||d.type==="group")throw Error(`Объект #${c} не существует`);return d});if(o.set({order:a}),n){const c=this.deletedPads.map(y=>{const b=o.objects.get(y);if(b?.type!=="imageView")throw Error(`Отображение площадки #${y} не существует`);return new tb(t,b)});t._setPads(t.pads.concat(c));const d=r.map(y=>{const b=o.objects.get(y.key);if(b?.type!=="group")throw Error(`Изображение имиджа '${y.klass.name} #${y.key}' отсутствует на сцене`);const v=n.createChild(y.klass,{key:b.key},y.state);return new eb(t,v,b)}),h=t.children.concat(d);t._setChildren(h);const f=this.prevChildOrder.map(y=>{const b=h.find(v=>v.key===y);if(!b)throw Error(`Имидж #${y} не найден`);return b});t.setChildOrder(f);const g=this.deletedConnections.map(y=>{const b=o.objects.get(y.key);if(b?.type!=="line")throw Error(`Изображение связи '#${y.key}' отсутствует на сцене`);const[v,C]=y.nodes,E=o.objects.get(Math.abs(v)),T=E&&xi(E);if(!T)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const R=o.objects.get(Math.abs(C)),M=R&&xi(R);if(!M)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const I=n.createConnection(T.schema,M.schema,{key:b.key,aPadKey:on(T.type==="pad"&&T.key),bPadKey:on(M.type==="pad"&&M.key),attrib:y.attrib,vars:y.vars});return new dg(t,I,b)}),m=t.connections.concat(g);t._setConnections(m),t._refreshChildImages()}return t._createSelection(s),new XV(this.ed,s,this.title,this.id)}}class XV{constructor(t,r,n=`Создано ${r.length} объектов`,o=$n()){this.ed=t,this.title=n,this.id=o,this.keys=r.map(i=>i.key),t._sceneChanged()}undo(){const t=this.ed._scene,r=this.keys.map(n=>{const o=t.objects.get(n);if(!o)throw Error(`Объект #${n} не существует`);return o});return new NT(this.ed,r,this.title,this.id)}}class ZV{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title=`Расформирована группа #${r.key}`;const o=r.children;this.groupKey=r.key,this.childKeys=r.children.map(i=>i.key),r.set({children:[]}),this.delAct=new NT(t,[r]),t._createSelection(o)}undo(){const{ed:t,childKeys:r,groupKey:n,delAct:o}=this;o.undo();const i=t._scene,s=r.map(c=>{const d=i.objects.get(c);if(!d)throw Error(`Объект #${c} не существует`);return d}),a=i.objects.get(n);if(a?.type!=="group")throw Error(`#${n} не является группой`);return a.set({children:s}),t._createSelection([a]),new QV(t,a,this.id)}}class QV{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.groupKey=r.key,this.title=`Сформирована группа #${this.groupKey}`,t._sceneChanged()}undo(){const{groupKey:t,ed:r}=this,n=r._scene.objects.get(t);if(n?.type!=="group")throw Error(`#${t} не является группой`);return new ZV(r,n,this.id)}}class rb{constructor(t,r,n,o=$n()){this.ed=t,this.id=o,this.updatedAt=Date.now(),this.objectKey=n?.key||0,this.sceneOrder=r.filter(i=>i.key>0).map(i=>i.key),this.title=`Изменен z-порядок #${this.objectKey}`}updateTimestamp(){this.updatedAt=Date.now()}undo(){const t=this.ed._scene,r=this.sceneOrder.map(i=>{const s=t.objects.get(i);if(!s||s.type==="group")throw Error(`Объект #${i} не существует`);return s}),n=t.order;t.set({order:r}),this.ed._refreshChildImages();const o=t.order.find(i=>i.key===this.objectKey)??null;return o&&this.ed._createSelection([o]),new rb(this.ed,n,o,this.id)}}class BT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменён порядок имиджей",this.childOrder=r.map(o=>o.key)}undo(){const t=this.ed.children,r=this.childOrder.map(n=>{const o=this.ed.children.find(i=>i.key===n);if(!o)throw Error(`Имидж #${n} не найден`);return o});return this.ed.setChildOrder(r),this.ed._refreshChildImages(),new BT(this.ed,t,this.id)}}class nb{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Перемещение объекта",this.transforms=r.map(o=>({key:o.key,x:o.x,y:o.y,w:o.width,h:o.height}))}undo(){const t=this.ed._scene,r=this.transforms.map(o=>{const i=t.objects.get(o.key);if(!i)throw Error(`Объект #${o.key} не существует`);return i}),n=new nb(this.ed,r,this.id);return this.transforms.forEach((o,i)=>{const s=r[i];s.set({x:o.x,y:o.y,width:o.w,height:o.h}),xi(s)?._notifySlotMoved()}),this.ed._createSelection(r),n}}class FT{constructor(t,r,n,o=null,i=$n()){this.ed=t,this.angle=n,this.id=i,this.objectKey=r.key,this.pivot=o||{x:r.x,y:r.y},this.title=`Поворот объекта на: ${qu(xC(n))}`}undo(){const{objectKey:t,angle:r,pivot:n}=this,o=this.ed._scene.objects.get(t);if(!o)throw Error(`Объект #${t} не существует`);return o.rotate(-r,n),this.ed._createSelection([o]),new FT(this.ed,o,-r,n,this.id)}}class jT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменение атрибутов объекта",this.targetObjectKey=r.key,this.attribsDTO=Array.from(Mp(r,!0),o=>({objectKey:o.key,attrib:o.attrib}))}undo(){const t=this.ed._scene,r=t.objects.get(this.targetObjectKey);if(!r)throw Error(`Объект #${this.targetObjectKey} не существует`);const n=this.attribsDTO.map(({objectKey:i})=>{const s=t.objects.get(i);if(!s)throw Error(`Объект #${i} не существует`);return s}),o=new jT(this.ed,r,this.id);return this.attribsDTO.forEach(({attrib:i},s)=>{n[s].set({attrib:i},!0)}),this.ed._createSelection([r]),o}}class VT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменение гипербазы",this.objectKey=r.key,this.savedHyper=r.data.hyper||null}undo(){const r=this.ed._scene.objects.get(this.objectKey);if(!r)throw Error(`Объект #${this.objectKey} не существует`);const n=new VT(this.ed,r,this.id),{savedHyper:o}=this;return o?r.data.hyper=o:delete r.data.hyper,this.ed._createSelection([r]),n}}class $T{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменение имени объекта",this.objectKey=r.key,this.objectName=r.data.name||""}undo(){const r=this.ed._scene.objects.get(this.objectKey);if(!r)throw Error(`Объект #${this.objectKey} не существует`);const n=new $T(this.ed,r,this.id),{objectName:o}=this;return o?r.data.name=o:delete r.data.name,this.ed._createSelection([r]),n}}class zT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменение значения Input",this.inputObjectKey=r.key,this.inputObjectValue=r.value}undo(){const r=this.ed._scene.objects.get(this.inputObjectKey);if(r?.type!=="input")throw Error(`Объект Input #${this.inputObjectKey} не существует`);const n=new zT(this.ed,r,this.id);return r.set({value:this.inputObjectValue}),this.ed._createSelection([r]),n}}class UT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменение отображаемого фрагмента",this.isComplete=!1,this.imageViewKey=r.key,this.imageViewArea=r.area}undo(){const r=this.ed._scene.objects.get(this.imageViewKey);if(r?.type!=="imageView")throw Error(`Объект ImageView #${this.imageViewKey} не существует`);const n=new UT(this.ed,r,this.id);return r.set({area:this.imageViewArea}),this.ed._createSelection([r]),n}complete(){this.isComplete=!0}}class GT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменение свойств кисти",this.brushKey=r.key,this.color=r.color,this.style=r.style,this.rop=r.rop,this.hatch=r.hatch}undo(){const{ed:t}=this,n=t._scene.brushes.get(this.brushKey);if(!n)throw Error(`Кисть #${this.brushKey} не существует`);const o=new GT(this.ed,n);return n.set({color:this.color,hatch:this.hatch,rop:this.rop,style:this.style}),o}}class HT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Изменение свойств pen",this.penKey=r.key,this.color=r.color,this.rop=r.rop,this.style=r.style,this.width=r.width}undo(){const{ed:t}=this,n=t._scene.pens.get(this.penKey);if(!n)throw Error(`Pen #${this.penKey} не существует`);const o=new HT(this.ed,n);return n.set({width:this.width,color:this.color,style:this.style,rop:this.rop}),o}}class WT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Установка паттерна",this.brushKey=r.key,this.brushImageKey=r.image?.key||0}undo(){const{ed:t,brushImageKey:r}=this,n=t._scene,o=n.brushes.get(this.brushKey);if(!o)throw Error(`Кисть #${this.brushKey} не существует`);let i;if(r){const a=n.imagesOpaque.get(r);if(!a)throw Error(`Изображение #${this.brushImageKey} не существует`);i=a}else i=null;const s=new WT(t,o);return o.set({image:i}),s}}class JV{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Создано изображение",this.imageKey=r.key}undo(){const r=this.ed._scene.imagesOpaque.get(this.imageKey);if(!r)throw Error(`Изображение #${this.imageKey} не существует`);return new e$(this.ed,r)}}class e${constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Удаление изображения",this.imageDTO=r.toJSON(),this.imageDeleted=r.delete()}undo(){const{ed:t}=this,r=t._scene;let n;if(this.imageDeleted)n=r.image(this.imageDTO,{opaque:!0,key:this.imageDTO.key});else if(n=r.imagesOpaque.get(this.imageDTO.key),!n)throw Error(`Изображение #${this.imageDTO.key} не существует`);return new JV(t,n)}}class KT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Установка Pen",this.lineKey=r.key,this.linePenKey=r.pen?.key||0}undo(){const{ed:t,linePenKey:r}=this,n=t._scene,o=n.objects.get(this.lineKey);if(o?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let i;if(r){const a=n.pens.get(r);if(!a)throw Error(`Изображение #${this.linePenKey} не существует`);i=a}else i=null;const s=new KT(t,o);return o.set({pen:i}),s}}class ob{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Создан Pen",this.penKey=r.key}undo(){const r=this.ed._scene.pens.get(this.penKey);if(!r)throw Error(`Pen #${this.penKey} не существует`);return new ob(this.ed,r)}}class vge{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Удаление Pen",this.penDTO=r.toJSON(),this.penDeleted=r.delete()}undo(){const{ed:t}=this,r=t._scene;let n;if(this.penDeleted)n=r.pen(this.penDTO);else if(n=r.pens.get(this.penDTO.key),!n)throw Error(`Pen #${this.penDTO.key} не существует`);return new ob(t,n)}}class qT{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Установка Brush",this.lineKey=r.key,this.lineBrushKey=r.brush?.key||0}undo(){const{ed:t,lineBrushKey:r}=this,n=t._scene,o=n.objects.get(this.lineKey);if(o?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let i;if(r){const a=n.brushes.get(r);if(!a)throw Error(`Кисть #${this.lineBrushKey} не существует`);i=a}else i=null;const s=new qT(t,o);return o.set({brush:i}),s}}class ib{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Создан Brush",this.brushKey=r.key}undo(){const r=this.ed._scene.brushes.get(this.brushKey);if(!r)throw Error(`Brush #${this.brushKey} не существует`);return new ib(this.ed,r)}}class yge{constructor(t,r,n=$n()){this.ed=t,this.id=n,this.title="Удаление Brush",this.brushDTO=r.toJSON(),this.brushDeleted=r.delete()}undo(){const{ed:t}=this,r=t._scene;let n;if(this.brushDeleted)n=r.brush(this.brushDTO);else if(n=r.brushes.get(this.brushDTO.key),!n)throw Error(`Изображение #${this.brushDTO.key} не существует`);return new ib(t,n)}}class YT{constructor(t,r=$n()){this.commits=t,this.id=r,this.title=t[0].title}undo(){const t=zK(this.commits,r=>r.undo());return new YT(t,this.id)}}class bge{constructor(t){this.ed=t,this.canUndo=!1,this.canRedo=!1,this.redoCommits=[],this.undoCommits=[],this.pendingEdit=null,this.pendingMode=!1,this.lastActionID=0,this.savedActionID=0,this.saveTaskQueued=!1,this.batchEdits=[],this.batchMode=!1,vt(this,{hasChanges:Kn,lastActionID:Pe.ref,savedActionID:Pe.ref,canUndo:Pe.ref,canRedo:Pe.ref})}get hasChanges(){return this.savedActionID!==this.lastActionID}markUnchanged(){this.savedActionID=this.lastActionID}saveCreatedObjects(t){this.finishActions(),this.addEdit(new XV(this.ed,t))}deleteObjects(t){this.finishActions(),this.addEdit(new NT(this.ed,t))}saveNewGroup(t){this.finishActions(),this.addEdit(new QV(this.ed,t))}ungroupGroup(t){this.finishActions(),this.addEdit(new ZV(this.ed,t))}saveTransform(t){this.finishActions()&&this.addEdit(new nb(this.ed,[t]))}savePositions(t){this.finishActions()&&this.addEdit(new nb(this.ed,t))}saveRotation(t,r,n){this.finishActions(),this.addEdit(new FT(this.ed,t,r,n))}saveHyper(t){this.finishActions(),this.addEdit(new VT(this.ed,t))}saveAttrib(t){this.finishActions(),this.addEdit(new jT(this.ed,t))}saveName(t){this.finishActions(),this.addEdit(new $T(this.ed,t))}savePoints(t){this.finishActions()}saveArrows(t){this.finishActions()}saveArea(t){this.finishActions()&&this.addEdit(new UT(this.ed,t))}saveInputValue(t){this.finishActions(),this.addEdit(new zT(this.ed,t))}savePenProps(t){this.finishActions()&&this.addEdit(new HT(this.ed,t))}saveBrushProps(t){this.finishActions()&&this.addEdit(new GT(this.ed,t))}saveBrushImage(t){this.finishActions(),this.addEdit(new WT(this.ed,t))}saveCreatedPen(t){this.finishActions(),this.addEdit(new ob(this.ed,t))}saveCreatedBrush(t){this.finishActions(),this.addEdit(new ib(this.ed,t))}saveCreatedImage(t){this.finishActions(),this.addEdit(new JV(this.ed,t))}deleteImage(t){this.finishActions(),this.addEdit(new e$(this.ed,t))}deletePen(t){this.finishActions(),this.addEdit(new vge(this.ed,t))}saveLinePen(t){this.finishActions(),this.addEdit(new KT(this.ed,t))}deleteBrush(t){this.finishActions(),this.addEdit(new yge(this.ed,t))}saveLineBrush(t){this.finishActions(),this.addEdit(new qT(this.ed,t))}saveSceneOrder(t,r=null,n=300){this.finishActions();const o=this.undoCommits.at(-1);if(o instanceof rb&&Date.now()-o.updatedAt<n){o.updateTimestamp();return}const i=new rb(this.ed,t,r);this.addEdit(i)}saveChildOrder(){this.finishActions(),this.addEdit(new BT(this.ed,this.ed.children))}separateCommit(){this.undoCommits.at(-1)?.complete?.()}undo(){const t=this.undoCommits.pop();if(!t)return;this.ed.selection?.reset();let r;try{r=t.undo()}catch(n){throw n instanceof kT&&this.undoCommits.push(t),n}this.redoCommits.push(r),this.lastActionID=this.undoCommits.at(-1)?.id||0,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}redo(){const t=this.redoCommits.pop();if(!t)return;this.ed.selection?.reset();let r;try{r=t.undo()}catch(n){throw n instanceof kT&&this.redoCommits.push(t),n}this.undoCommits.push(r),this.lastActionID=r.id,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}batch(t){this.batchMode=!0;const r=t();this.batchMode=!1;const{batchEdits:n}=this;if(this.batchEdits=[],!this.finishActions())return r;let o;return n.length>1?o=new YT(n):o=n[0],this.addEdit(o),r}pendNextEdit(){this.pendingMode=!0}pushPendingEdit(){this.pendingMode=!1;const{pendingEdit:t}=this;t&&(this.pendingEdit=null,this.addEdit(t))}clearPendingEdit(){this.pendingMode=!1,this.pendingEdit=null}addEdit(t){if(this.batchMode){this.batchEdits.push(t);return}if(this.pendingMode){const r=this.pendingEdit;r&&(this.addEditToStack(r),console.warn(`Действие '${r.title}' было завершено автоматически.
Оно должно быть завершено вручную через '${this.pushPendingEdit.name}' или '${this.clearPendingEdit.name}'`)),this.pendingEdit=t;return}this.addEditToStack(t)}addEditToStack(t){this.undoCommits.push(t),this.canUndo=!0,this.redoCommits=[],this.canRedo=!1,this.lastActionID=t.id,this.saveChanges()}saveChanges(){this.saveTaskQueued||(this.saveTaskQueued=!0,queueMicrotask(()=>{this.saveTaskQueued=!1,this.ed._saveChanges()}))}finishActions(){return this.batchMode?!0:this.pendingEdit?!1:(this.ed._actions.finishCurrent(),!0)}}class sb{constructor(t,r){this.scene=t,this._jf=r,r.key>0&&r.type==="group"?this.children=r.children.map(n=>new sb(t,n)):this.children=[],this.isChildImage=r.key<0,this.isChildIcon=!!r.data[NV],vt(this,{select:be})}get key(){return this._jf.key}get type(){return this._jf.type}get name(){return this._jf.data.name||""}select(){this.scene._createSelection([this._jf],!0)}}function XT(e,t){return Array.from({length:t-e+1},(r,n)=>{const o=n+e;return[o,o.toString()]})}const ab=XT(0,15),t$=XT(16,23),wge=XT(24,31);class r${constructor(t,r,{canResize:n=!0,canMove:o=!0,canRotate:i=!0,canSetName:s=!0,canSetHyper:a=!0,layerRange:c=ab}){this.scene=t,this._canResize=n,this.canMove=o,this.canRotate=i,this.canSetName=s,this.canSetHyper=a,this.layerRange=c;const{x:d,y:h,width:f,height:g,data:m,attrib:y}=r,{name:b="",hyper:v=null}=m,C=CC(Rc(y),c[0][0],c.at(-1)[0]),E=!!(y&Rp);this.x=d,this.y=h,this.width=f,this.height=g,this.name=b,this.layer=C,this.isUnselectable=E,this.hyper=v,vt(this,{x:Pe.ref,y:Pe.ref,width:Pe.ref,height:Pe.ref,name:Pe.ref,isUnselectable:Pe.ref,layer:Pe.ref,hyper:Pe.ref,set:be,rotate:be,delete:be})}destroy(){}onTransformChanged(){}get key(){return this._jf.key}get canResize(){return this._canResize}set({x:t=this.x,y:r=this.y,width:n=this.width,height:o=this.height,name:i=this.name,layer:s=this.layer,isUnselectable:a=this.isUnselectable,hyper:c=this.hyper}){const d=this._jf;if(n=Math.max(n,1),o=Math.max(o,1),(this.x!==t||this.y!==r||this.width!==n||this.height!==o)&&(this.x=t,this.y=r,this.width=n,this.height=o,this.scene._history.saveTransform(d),d.set({x:t,y:r,width:n,height:o}),this.onTransformChanged(),xi(d)?._notifySlotMoved(),gd(d)?._notifySelectedObjectTransformed()),this.name!==i&&(this.name=i,this.scene._history.saveName(d),i?d.data.name=i:delete d.data.name),this.layer!==s||this.isUnselectable!==a){this.layer=s,this.isUnselectable=a;const h=(a?Rp:0)|JC(s);this.scene._history.saveAttrib(d),d.set({attrib:h})}this.hyper!==c&&(this.hyper=c,this.scene._history.saveHyper(d),c?d.data.hyper=c:delete d.data.hyper)}rotate(t,r){if(t===0)return;const n=this._jf;this.scene._history.saveRotation(n,t,r),n.rotate(t,r),this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,gd(n)?._notifySelectedObjectTransformed()}delete(){gd(this._jf)?.reset(),this.scene._history.deleteObjects([this._jf])}}class hg extends r${constructor(t,r,n={}){super(t,r,n),this._z=r.scene.order.indexOf(r),vt(this,{_z:Pe.ref,moveToTop:be,moveToBottom:be,increaseZ:be,decreaseZ:be})}get z(){return this._z+1}setZ(t){if(this._z===t||t<0)return;const r=this._jf.scene,n=r.order,o=_C(n,t,this._jf);r.set({order:o}),this.scene._refreshChildImages();const i=r.order.indexOf(this._jf);i!==this._z&&(this._z=i,this.scene._history.saveSceneOrder(n,this._jf))}moveToTop(){this.setZ(this._jf.scene.order.length-1)}moveToBottom(){this.setZ(0)}increaseZ(){this.setZ(this._z+1)}decreaseZ(){this.setZ(this._z-1)}}class n${constructor(t,r){const{color:n,rop:o,style:i,width:s}=r;this.style=i,this.color=n,this.rop=o,this.width=s,this.scene=t,this._jf=r,vt(this,{style:Pe.ref,color:Pe.ref,rop:Pe.ref,width:Pe.ref,set:be})}set({style:t=this._jf.style,color:r=this.color,rop:n=this.rop,width:o=this.width}){this.style=t,this.color=r,this.rop=n,this.width=o,this.scene._history.savePenProps(this._jf),this._jf.set({color:r,rop:n,style:t,width:o})}}class o${constructor(t,r,n){const{color:o,rop:i,style:s,hatch:a,image:c}=r;this.style=s,this.color=o,this.rop=i,this.hatch=a,this.image=c,this.scene=t,this._jf=r,this.target=n,vt(this,{color:Pe.ref,rop:Pe.ref,style:Pe.ref,hatch:Pe.ref,image:Pe.ref,set:be,setImage:be})}set({style:t=this.style,color:r=this.color,rop:n=this.rop,hatch:o=this.hatch}){const i=this.scene._history;i.batch(()=>{this.color=r,this.style=t,this.rop=n,this.hatch=o;const s=this._jf;if(i.saveBrushProps(s),s.set({color:r,rop:n,style:t,hatch:o}),s.image&&t!==rt.BS_PATTERN){this.image=null;const a=s.image;i.saveBrushImage(s),s.set({image:null}),i.deleteImage(a)}})}setImage(t){const r=this.scene._history;r.batch(()=>{this.image=t;const n=this._jf,o=this.scene._scene.image(t,{opaque:!0});r.saveCreatedImage(o);const i=n.image;r.saveBrushImage(n),n.set({image:o}),i&&r.deleteImage(i)})}}const zc=5;class Sge extends hg{constructor(t,r){const n=Zy(r);super(t,r,{canMove:!n,canResize:!n,canRotate:!n,canSetName:!n,canSetHyper:!n,layerRange:n?wge:ab}),this.isPointsEditModeActive=!1,this.type="line",this.hasAngle=!1,this.pen=r.pen&&new n$(t,r.pen),this.brush=r.brush&&new o$(t,r.brush,r),this.start=r.start,this.end=r.end,this.connection=n,this._jf=r;const o=t._tools,i=t._scene,s=o.blackSelectionBorderPen,a=o.redBrush,c=Oc|fa|Ms,d=[],h=[],f=zc*2;for(let g=0;g<r.length;++g){const m=r.point(g);d.push(m);const y=i.line([0,0,f,0,f,f,0,f],{key:Po,x:m.x-zc,y:m.y-zc,brush:a,pen:s,attrib:c});h.push(y)}i.set({order:i.order.concat(h)}),this.points=d,this.markers=h,vt(this,{pen:Pe.ref,brush:Pe.ref,start:Pe.ref,end:Pe.ref,points:Pe.ref,isPointsEditModeActive:Pe.ref,createPen:be,removePen:be,createBrush:be,removeBrush:be,setArrows:be,addPoint:be,removePoint:be,setPoint:be,setPointsEditMode:be})}destroy(){const t=this.scene._scene;t.set({order:t.order.filter(r=>!this.markers.includes(r))})}setPointsEditMode(t){this.isPointsEditModeActive=t;const{selection:r}=this.scene;if(r?.type==="single")if(r.setVisible(!t),t){const n=this.markers.length-1;this.markers.forEach((o,i)=>{o.set({attrib:o.attrib&-6}),o.data[pd]={selection:r,direction:"both",lineEditorIndex:i,notifyPositionChanged:this.alignPointsToShape.bind(this,o),complete:on((i===0||i===n)&&this.complete.bind(this,o))}})}else this.markers.forEach(n=>n.set({attrib:n.attrib|(fa|Ms)})),r._notifySelectedObjectTransformed()}complete(t){}alignPointsToShape(t=null){const r=this._jf,n=[];for(let o=0;o<r.length;++o){const i=r.point(o);n.push(i);const s=this.markers[o];s!==t?s.set({x:i.x-zc,y:i.y-zc}):r.setPoint(o,{x:t.x+zc,y:t.y+zc})}this.points=n,this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this.connection?.updateShift()}onTransformChanged(){this.alignPointsToShape()}createPen(t){if(this.pen)return;const r=this.scene._scene.pen(t),n=this._jf,o=this.scene._history;o.batch(()=>{o.saveCreatedPen(r),o.saveLinePen(n)}),n.set({pen:r}),this.pen=new n$(this.scene,r)}removePen(){const{pen:t}=this;if(!t)return;const r=this._jf,n=this.scene._history;n.batch(()=>{n.saveLinePen(r),r.set({pen:null}),n.deletePen(t._jf)}),this.pen=null}createBrush(t){if(this.brush)return;const r=this.scene._scene.brush(t),n=this._jf,o=this.scene._history;o.batch(()=>{o.saveLineBrush(n),n.set({brush:null}),o.saveCreatedBrush(r)}),n.set({brush:r}),this.brush=new o$(this.scene,r,this._jf)}removeBrush(){const{brush:t}=this;if(!t)return;const r=this._jf,n=this.scene._history;n.batch(()=>{n.saveLineBrush(r),r.set({brush:null}),n.deleteBrush(t._jf)}),this.brush=null}setArrows({start:t=this.start,end:r=this.end}){this.start=t,this.end=r,this.scene._history.saveArrows(this._jf),this._jf.set({start:t,end:r})}onSinglePointChanged(){this.alignPointsToShape();const t=this._jf;this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,gd(t)?._notifySelectedObjectTransformed()}addPoint(t,r,n){this.scene._history.savePoints(this._jf),this._jf.addPoint({x:t,y:r},n);const o=zc*2,i=this.scene._tools,s=this.scene._scene,a=s.line([0,0,o,0,o,o,0,o],{key:Po,x:t,y:r,brush:i.redBrush,pen:i.blackSelectionBorderPen});this.markers.push(a),s.set({order:s.order.concat(a)}),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive)}setPoint(t,r,n){this.scene._history.savePoints(this._jf),this._jf.setPoint(t,{x:r,y:n}),this.connection?.updateShift(),this.onSinglePointChanged()}removePoint(t){this.scene._history.savePoints(this._jf),this._jf.removePoint(t)&&(this.markers.splice(t,1)[0].delete(!0),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive))}}class Cge extends hg{constructor(t,r){const n=Qpe(r);super(t,r,{canResize:!n,canRotate:!n,layerRange:n?t$:ab}),this.type="imageView",this.hasAngle=!0,this.pad=n,this.angle=r.angle,this.area=r.area,this._jf=r,vt(this,{angle:Pe.ref,area:Pe.ref,setAngle:be,setArea:be})}get image(){return this._jf.image}setAngle(t){const r=this._jf;if(t===r.angle)return;const n=t-r.angle;this.scene._history.saveRotation(r,n),r.rotate(n),this.angle=r.angle,gd(r)?._notifySelectedObjectTransformed()}setArea(t){this.area=t,this.scene._history.saveArea(this._jf),this._jf.set({area:t})}}class xge extends hg{constructor(t,r){super(t,r),this.type="textView",this.hasAngle=!0,this._jf=r,this.angle=r.angle,vt(this,{angle:Pe.ref,setAngle:be})}setAngle(t){const r=this._jf;if(t===r.angle)return;const n=t-r.angle;this.scene._history.saveRotation(r,n),r.rotate(n),this.angle=r.angle,gd(r)?._notifySelectedObjectTransformed()}}class _ge extends hg{constructor(t,r){super(t,r,{canRotate:!1,canSetHyper:!1}),this.type="input",this.hasAngle=!1,this._jf=r,this.value=r.value,vt(this,{value:Pe.ref,setValue:be})}get inputType(){return this._jf.inputType}setValue(t){this.value=t,this.scene._history.saveInputValue(this._jf),this._jf.set({value:t})}}class Ege extends hg{constructor(t,r){super(t,r,{canRotate:!1}),this.type="videoView",this.hasAngle=!1,this._jf=r}}class Tge extends r${constructor(t,r){const n=cg(r);super(t,r,{canRotate:!n,layerRange:n?t$:ab}),this.type="group",this.hasAngle=!1,this._jf=r,this.child=n,this.children=r.children.map(o=>new sb(t,o)),vt(this,{ungroup:be,canResize:Kn})}get canResize(){return this.child?this.child.schema.klass.image?.resizable||!1:!0}get canUngroup(){return!this.child}ungroup(){ks.assert(this.canUngroup);const t=this._jf;gd(t)?.reset();const r=t.children;this.scene._history.ungroupGroup(t),this.scene._createSelection(r)}}class Mge{constructor(t,r){this._reactKey=wk(),this.type="_pseudoGroup",this._jf=t.map(i=>i._jf),this.objects=t,this.selection=r;const{x:n,y:o}=Zu(this._jf);this.x=n,this.y=o,this.canCreateGroup=t.filter(i=>!lg(i._jf)).length>1,this.canCreateConnection=t.length===2&&t.every(i=>xi(i._jf)),vt(this,{x:Pe.ref,y:Pe.ref,createConnection:be,createGroup:be,delete:be,set:be})}get canMove(){return!0}set({x:t=this.x,y:r=this.y}){const n=t-this.x,o=r-this.y;n===0&&o===0||(this.x=t,this.y=r,this.selection.scene._history.savePositions(this._jf),this._jf.forEach(i=>{const s=i.x+n,a=i.y+o;i.set({x:s,y:a}),xi(i)?._notifySlotMoved()}),this.selection._notifySelectedObjectTransformed())}createGroup(){ks.assert(this.canCreateGroup);const t=this.selection.scene;this.selection.reset();const r=t._scene.group(this._jf.filter(n=>!lg(n)));t._history.saveNewGroup(r),t._createSelection([r])}createConnection(){ks.assert(this.canCreateConnection),this.selection.scene.startCreateConnection()}delete(){this.selection.reset(),this.selection.scene._history.deleteObjects(this._jf)}}function Oge(e,t){switch(t.type){case"line":return new Sge(e,t);case"imageView":return new Cge(e,t);case"textView":return new xge(e,t);case"input":return new _ge(e,t);case"videoView":return new Ege(e,t);case"group":return new Tge(e,t)}}class Rge{constructor(t,r){this.target=r;const n=t._scene,o=t._tools;this.scene=n;const i=o.blueSelectionShadowBrush,s=r.objects.map(({_jf:a})=>{const c=n.line([0,0,a.width,0,a.width,a.height,0,a.height],{key:Po,attrib:Oc|Ms,x:a.x,y:a.y,brush:i});return PT(a)&&c.rotate(a.angle,a),c});n.set({order:n.order.concat(s)}),this.shadows=s}align(){const{objects:t}=this.target;this.shadows.forEach((r,n)=>{const o=t[n]._jf,{x:i,y:s}=o;r.set({x:i,y:s}),PT(o)?r.rotate(-o.angle).set({x:i,y:s}).rotate(o.angle,o):r.set({x:i,y:s})})}toTop(){const{shadows:t,scene:r}=this,n=r.order.filter(o=>!t.includes(o)).concat(t);r.set({order:n})}remove(){const{shadows:t,scene:r}=this,n=r.order.filter(o=>!t.includes(o));r.set({order:n})}}class Ige{constructor(t,r){this.type="multi",this.scene=t,r.forEach(o=>o._jf.data[$c]=this);const n=this.object=new Mge(r,this);this.shadow=new Rge(t,n),vt(this,{reset:be})}setVisible(t){}reset(){this.shadow.remove(),this.object.objects.forEach(({_jf:t})=>delete t.data[$c]),this.scene._notifySelectionRemoved()}_notifySelectedObjectTransformed(){this.shadow.align()}_notifySceneOrderChanged(){this.shadow.toTop()}_getJF(){return this.object._jf}}const qn=10,i$=Math.PI*2;class Pge{constructor(t){const{scene:r}=t,n=this.scene=r._scene,o=r._tools,i=o.blackSelectionBorderPen,s=o.graySelectionBorderBrush,a=Oc|Ms,{a:c,b:d}=t,h=o.makeBorder(c.slot,!0),f=o.makeBorder(d.slot,!0),g=[h,f],{slot:m}=t;if(m.length===2){const{x:y,y:b}=t.slot.point(0),{x:v,y:C}=t.slot.point(1),E=(y+v+qn)/2,T=(b+C+qn)/2,R=n.line([0,0,qn,0,qn,qn,0,qn],{key:Po,x:E-qn,y:T-qn,brush:s,pen:i,attrib:a});g.push(R)}n.set({order:n.order.concat(g)}),this.objects=g}setVisible(t){}align(){}toTop(){const{scene:t,objects:r}=this,n=t.order.filter(o=>!r.includes(o)).concat(r);t.set({order:n})}remove(){const{scene:t,objects:r}=this,n=t.order.filter(o=>!r.includes(o));t.set({order:n})}}class kge{constructor(t,r){this.prevAngle=0;const{scene:n}=r;this.selection=t,this.o=r,this.scene=n;const o=n._scene,i=n._tools,s=r.canResize&&(!r.hasAngle||r.angle%i$===0),a=s?i.blackSelectionBorderPen:null,c=s?i.graySelectionBorderBrush:i.transparentSelectionBorderBrush,d=Oc|(s?0:Ms),h=(v,C,E="both")=>{const T=o.line([0,0,qn,0,qn,qn,0,qn],{key:Po,x:v,y:C,brush:c,pen:a,attrib:d});return T.data[pd]={selection:t,direction:E,notifyPositionChanged:this.resizeWith.bind(this,T)},T},f=r.x-qn,g=r.y-qn,m=r.width+qn,y=r.height+qn,b=[h(f,g),h(f+m/2,g,"vert"),h(f+m,g),h(f+m,g+y/2,"horiz"),h(f+m,g+y),h(f+m/2,g+y,"vert"),h(f,g+y),h(f,g+y/2,"horiz")];r.canRotate&&r.hasAngle&&(b.forEach(v=>v.rotate(r.angle,r)),this.prevAngle=r.angle),o.set({order:o.order.concat(...b)}),this.border=b}setVisible(t){t?this.border.forEach(r=>r.set({attrib:r.attrib&-6})):this.border.forEach(r=>r.set({attrib:r.attrib|(fa|Ms)}))}align(){const{o:t,border:r}=this,n=t.x-qn,o=t.y-qn,i=t.width+qn,s=t.height+qn,a=t.canRotate&&t.hasAngle;if(a){const c=t.angle%i$;for(const d of this.border){d.rotate(-this.prevAngle);let{attrib:h}=d;c?h|=Ms:h&=~Ms;const f=this.scene._tools;d.set({attrib:h,pen:c?null:f.blackSelectionBorderPen,brush:c?f.transparentSelectionBorderBrush:f.graySelectionBorderBrush})}}r[0].set({x:n,y:o}),r[1].set({x:n+i/2,y:o}),r[2].set({x:n+i,y:o}),r[3].set({x:n+i,y:o+s/2}),r[4].set({x:n+i,y:o+s}),r[5].set({x:n+i/2,y:o+s}),r[6].set({x:n,y:o+s}),r[7].set({x:n,y:o+s/2}),a&&(this.border.forEach(c=>c.rotate(t.angle,t)),this.prevAngle=t.angle)}toTop(){const{border:t}=this,r=this.scene._scene,n=r.order.filter(o=>!t.includes(o)).concat(t);r.set({order:n})}remove(){const{border:t}=this,r=this.scene._scene,n=r.order.filter(o=>!t.includes(o));r.set({order:n})}resizeWith(t){const r=this.border,n=[r[0],r[1],r[2]],o=[r[2],r[3],r[4]],i=[r[4],r[5],r[6]],s=[r[6],r[7],r[0]],{x:a,y:c}=t;n.includes(t)&&n.forEach(v=>v.set({y:c})),i.includes(t)&&i.forEach(v=>v.set({y:c})),s.includes(t)&&s.forEach(v=>v.set({x:a})),o.includes(t)&&o.forEach(v=>v.set({x:a})),n[1].set({x:(n[0].x+n[2].x)/2}),i[1].set({x:(i[0].x+i[2].x)/2}),s[1].set({y:(s[0].y+s[2].y)/2}),o[1].set({y:(o[0].y+o[2].y)/2});const d=s.reduce((v,C)=>Math.min(v,C.x),1/0),h=o.reduce((v,C)=>Math.max(v,C.x),-1/0),f=n.reduce((v,C)=>Math.min(v,C.y),1/0),g=i.reduce((v,C)=>Math.max(v,C.y),-1/0),m=h-d-qn,y=g-f-qn,{o:b}=this;this.selection._notifyBorderRectChanged({x:m<1?b.x:d+qn,y:y<1?b.y:f+qn,w:Math.max(m,1),h:Math.max(y,1)}),(m<1||y<1)&&this.align()}}class Dge{constructor(t,r){this.type="single",this.ignoreObjectTransforms=!1,this.scene=t,this.object=r,r._jf.data[$c]=this;const n=r.type==="line"&&r.connection;n?this.border=new Pge(n):this.border=new kge(this,r),vt(this,{reset:be})}setVisible(t){this.border.setVisible(t)}reset(){delete this.object._jf.data[$c],this.border.remove(),this.scene._notifySelectionRemoved(),this.object.destroy()}_notifyBorderRectChanged(t){const{x:r,y:n,w:o,h:i}=t;this.ignoreObjectTransforms=!0,this.object.set({x:r,y:n,width:o,height:i}),this.ignoreObjectTransforms=!1}_notifySelectedObjectTransformed(){this.ignoreObjectTransforms||this.border.align()}_notifySceneOrderChanged(){this.border.toTop()}_getJF(){return[this.object._jf]}}const s$=65535,a$=255<<16,l$=255<<24,Age=1,Lge=2,Nge=4;class ZT{constructor(t,{fileContentTransfer:r=null,fileUploader:n=null,schema:o=null}={}){this.onNodeSelected=new Wn,this.onSaved=new Wn,this.selection=null,this.textEditor=null,this.lastCursorX=0,this.lastCursorY=0,this.viewScale=1,this._actions=new mge(this),this._history=new bge(this),this.cameraMoveStart=null,this.prevPicked=null,this.highlightedItem=null,this.lastCutId="",this.pointerInside=!1,this.focusAfterViewMounted=null,this.isViewMounted=!1,this._childImageChanged=()=>{this._refreshChildImages(),this.selection&&this._createSelection(this.selection._getJF()),this.connections.forEach(d=>d._notifyTargetMoved())},this.handleWheel=d=>{if(d.preventDefault(),d.stopPropagation(),Yu.zoomWithCtrl&&!d.ctrlKey){const y=this._scene;this.setSceneXY(y.x+Math.round(d.deltaX*.5),y.y+Math.round(d.deltaY*.5));return}const f=this.viewScale,g=Math.sign(d.deltaY)*Math.max(f**2,1)*.1,m=f-g;this._setScale(m,d)},this.handleCopy=d=>{if(!this.isFocused)return;d.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&KV(d.clipboardData,h)},this.handleCut=d=>{if(!this.isFocused)return;d.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&(KV(d.clipboardData,h),d.clipboardData.setData(`editor-cut-${this.lastCutId=zv()}`,"true")),this.selection?.object.delete()},this.handlePaste=d=>{this.isFocused&&(d.preventDefault(),this.insertFromDropOrPaste(d.clipboardData,{x:this.lastCursorX,y:this.lastCursorY}))},this.handleDrop=d=>{this.handleDragLeave(),d.preventDefault(),d.stopPropagation(),this.focus();const h=this._scene.x+Math.round(d.offsetX),f=this._scene.y+Math.round(d.offsetY);this.insertFromDropOrPaste(d.dataTransfer,{x:h,y:f})},this.handleDragOver=d=>{d.preventDefault();const h=d.dataTransfer;h.dropEffect="none";const f=this.fileContentTransfer?.get(h);if(f){(f.image||f.scene||this.schema&&f.klass?.isInLibrary)&&(h.dropEffect="link");return}const{items:g,types:m}=h;if(g.length&&g[0].type.startsWith("image/")||m.some(y=>y==="text/plain")){h.dropEffect="copy";return}},this.handleDragEnter=d=>{this.handleDragOver(d),d.dataTransfer.dropEffect!=="none"&&this.view.parentElement?.style.setProperty("outline","dashed orange 2px")},this.handleDragLeave=()=>{this.view.parentElement?.style.setProperty("outline","none")},this.handlePointer=d=>{if(!d.isPrimary)return;d.preventDefault(),d.stopPropagation();const h=Math.round(d.offsetX),f=Math.round(d.offsetY),g=this._scene.x+h,m=this._scene.y+f;if(d.type==="pointerdown"&&(this.view.setPointerCapture(d.pointerId),this.focus()),d.ctrlKey?this._tryHighlight(g,m,d.shiftKey):this._removeHighlights(),d.buttons&Lge){this.cameraMoveStart||={x:g,y:m};const v=this.cameraMoveStart.x-h,C=this.cameraMoveStart.y-f;this._scene.set({x:v,y:C})}else this.cameraMoveStart=null,this.lastCursorX=g,this.lastCursorY=m;const y=this._actions;if(!y.canHandlePointer)return;if(d.buttons&Nge){y.inAction?y.finishCurrent():this.selection?.reset();return}const b=(d.type==="pointermove"||d.buttons&Age)&&d.type!=="pointercancel"?d.type:"pointerup";y.handlePointer({type:b,ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,sceneX:g,sceneY:m})},this.handlePointerEnter=()=>{this.pointerInside=!0},this.handlePointerLeave=()=>{this.pointerInside=!1,this._removeHighlights()},this.handleWindowKeyboardEvent=d=>{!d.repeat&&this.pointerInside&&(d.key==="Control"||d.key==="Shift")&&(d.ctrlKey?this._tryHighlight(this.lastCursorX,this.lastCursorY,d.shiftKey):this._removeHighlights())},this.handleKeyboard=d=>{this._handleKeyboard(d)&&(d.preventDefault(),d.stopPropagation())};const i=this._scene=new ET(t),{view:s}=i;s.tabIndex=-1,s.style.outline="none",s.style.transformOrigin="top left",i.set({disableInputs:!0});const{hiddenLayers:a,selectUnselectable:c}=i;this.hideOther=!!(a&s$),this.hideChildren=!!(a&a$),this.hideConnections=!!(a&l$),this.selectUnselectable=c,this._tools=new Zpe(i),this.fileContentTransfer=r,this.fileUploader=n,o?(this.schema=o,this.pads=Si(i.order,d=>d.type==="imageView"&&d.image.src===IT.src&&new tb(this,d)),this.children=o.children.list.map(d=>{const h=i.objects.get(d.key);if(h?.type!=="group")throw Error(`Изображение имиджа '${d}' отсутствует на сцене`);return new eb(this,d,h)}),this.connections=o.childConnections.list.map(d=>{const h=i.objects.get(d.key);if(h?.type!=="line")throw Error(`Изображение связи '#${d.key}' отсутствует на сцене`);return new dg(this,d,h)})):(this.schema=null,this.pads=[],this.children=[],this.connections=[]),vt(this,{schema:Pe.ref,lastCursorX:Pe.ref,lastCursorY:Pe.ref,viewScale:Pe.ref,selection:Pe.ref,children:!1,pads:!1,connections:!1,hideChildren:Pe.ref,hideConnections:Pe.ref,hideOther:Pe.ref,selectUnselectable:Pe.ref,textEditor:Pe.ref,handleDrop:be,handlePointer:be,handleCopy:be,handleCut:be,handlePaste:be,handlePointerLeave:be,handleWindowKeyboardEvent:be,handleKeyboard:be,handleWheel:be,setLayers:be,setChildOrder:be,cancel:be,undo:be,redo:be,save:be,selectAll:be,selectNext:be,startCreateConnection:be,startCreateText:be,startCreateInput:be,startCreateRect:be,startCreateLine:be,startCreateButton:be,openTextEditor:be,startReorderChildren:be,replaceSchema:be,onViewMounted:be,onViewUnmounted:be,pendNextEdit:be,pushPendingEdit:be,resetScale:be,uploadFile:no,focus:!1,dispose:!1}),s.addEventListener("wheel",this.handleWheel,{passive:!1}),s.addEventListener("dragover",this.handleDragOver),s.addEventListener("dragenter",this.handleDragEnter),s.addEventListener("dragleave",this.handleDragLeave),s.addEventListener("drop",this.handleDrop),s.addEventListener("pointerdown",this.handlePointer),s.addEventListener("pointermove",this.handlePointer),s.addEventListener("pointerup",this.handlePointer),s.addEventListener("pointercancel",this.handlePointer),s.addEventListener("pointerenter",this.handlePointerEnter),s.addEventListener("pointerleave",this.handlePointerLeave),s.addEventListener("keydown",this.handleKeyboard),s.addEventListener("keyup",this.handleKeyboard),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste),document.addEventListener("cut",this.handleCut),window.addEventListener("keydown",this.handleWindowKeyboardEvent),window.addEventListener("keyup",this.handleWindowKeyboardEvent)}dispose(){this.children.forEach(t=>t._unsubscribe()),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("cut",this.handleCut),window.removeEventListener("keydown",this.handleWindowKeyboardEvent),window.removeEventListener("keyup",this.handleWindowKeyboardEvent),this._scene.dispose()}resetScale(){this._setScale(1)}replaceSchema(t){if(ks.assert(this.schema),t!==this.schema){if(t.klass!==this.schema.klass)throw Error("Типы имиджей не совпадают");this.schema=t,this.pads.forEach(r=>r._replaceSchema()),t.children.list.forEach((r,n)=>{this.children[n]._replaceSchema(r)}),t.childConnections.list.forEach((r,n)=>{this.connections[n]._replaceConnection(r)})}}setLayers({hideChildren:t=this.hideChildren,hideConnections:r=this.hideConnections,hideOther:n=this.hideOther,selectUnselectable:o=this.selectUnselectable}){if(this.hideOther!==n||this.hideChildren!==t||this.hideConnections!==r){this.hideChildren=t,this.hideConnections=r,this.hideOther=n;const i=(n?s$:0)|(t?a$:0)|(r?l$:0);this._scene.set({hiddenLayers:i}),this._saveChanges()}this.selectUnselectable!==o&&(this._scene.set({selectUnselectable:o}),this.selectUnselectable=o)}setChildOrder(t){const{schema:r}=this;r&&(r.reorderChildren(t.map(n=>n.schema)),this.children=t)}get hasChanges(){return this._history.hasChanges}get inAction(){return this._actions.inAction}get isInChildReorderMode(){return this._actions.isInChildReorderMode}get canUndo(){return this._history.canUndo}undo(){this._history.undo()}get canRedo(){return this._history.canRedo}redo(){this._history.redo()}cancel(){this._actions.finishCurrent()}_abort(){}selectAll(){this._actions.finishCurrent();const t=GV(this._scene);t.length&&this._createSelection(t)}selectNext(t){this._actions.finishCurrent();const r=GV(this._scene);if(!r.length)return;const n=this.selection?._getJF()[0].key||0,o=r.sort((s,a)=>t?a.key-s.key:s.key-a.key),i=o.find(s=>t?s.key<n:s.key>n)||o[0];this._createSelection([i],!0)}startCreateConnection(){if(!this.schema)return;this._abort(),this.setLayers({hideConnections:!1,hideChildren:!1});let t=null,r=null;const n=this.selection?._getJF();if(n&&(n.length===1||n.length===2)&&(t=xi(n[0]),r=n.length===2?xi(n[1]):null),t&&r){const o=this.connections.find(c=>c.includes(t)&&c.includes(r));if(o){this._createSelection([o.slot]);return}const i=this.createConnectionSlot(t,r),s=this.schema.createConnection(t.schema,r.schema,{key:i.key,aPadKey:on(t.type==="pad"&&t.key),bPadKey:on(r.type==="pad"&&r.key)});this._createConnection(i,s);const a=[i];this._history.saveCreatedObjects(a),this._createSelection(a)}else{this.selection?.reset();const o=t||r;this._actions.startCreateConnection(o)}}startReorderChildren(){this.schema&&(this.selection?.reset(),this.setLayers({hideChildren:!1}),this._actions.startReorderChildren())}startCreateLine(){this.setLayers({hideOther:!1}),this._actions.startCreateLine()}startCreateText(){this.setLayers({hideOther:!1}),this._actions.startSelectSampleCoords(rge,"Выбор координат элемента текста")}startCreateSample(t,r){this.setLayers({hideOther:!1}),this._actions.startCreateSample(t,r)}startCreateInput(){this.startCreateSample(nge,"Создание элемента ввода")}startCreateButton(){this.startCreateSample(oge,"Создание кнопки")}startCreateRect(){this.startCreateSample(ige,"Создание прямоугольника")}pendNextEdit(){this._history.pendNextEdit()}pushPendingEdit(){this._history.pushPendingEdit()}get view(){return this._scene.view}get isFocused(){return document.activeElement===this.view}focus(){this.view.focus()}_pick(t,r){const n=this._scene.pick(t,r);return n?.data[Xy]?.slot||n}_pickSmart(t,r,n){let o=this._pick(t,r);if(!o)return this.prevPicked=null,null;if(o.data[pd])return o;let i=null;if(n){const s=Date.now();this.prevPicked&&s-this.prevPicked.pickedAt<300&&(i=this.prevPicked.item),this.prevPicked={item:o,pickedAt:s}}else this.prevPicked=null;for(;o.parent&&o.parent!==i&&!o.data[$c];)o=o.parent;return n&&(this.prevPicked.item=o),o}_createSelection(t,r,n){this._removeHighlights(),this.selection?.reset();const o=tge(t);if(!o.length)return null;if(!this.isInChildReorderMode)if(o.length===1){const[i]=o,s=Oge(this,i);this.selection=new Dge(this,s);const a=cg(i);a&&this.onNodeSelected.dispatch(a.schema)}else{const i=o.map(s=>new sb(this,s));this.selection=new Ige(this,i)}if(r){const[i]=o,{x:s,y:a}=i;this.isViewMounted?(n||this._outOfView(s,a))&&this._centerCameraOn(i):this.focusAfterViewMounted=i}return this.selection}onViewMounted(){this.isViewMounted=!0;const t=this.focusAfterViewMounted;t&&this._centerCameraOn(t),this.focusAfterViewMounted=null}onViewUnmounted(){this.isViewMounted=!1}_setHighlight(t,r=!0){if(this.highlightedItem?.item===t)return;this._removeHighlights(void 0,r),r&&cg(t)?._setHover(!0);const n=this._tools.highlightFor(t),o=this._tools.textFor(t);this.highlightedItem={item:t,border:n,text:o}}_removeHighlights(t,r=!0){const n=this.highlightedItem;n&&(t&&n.item!==t||(r&&cg(n.item)?._setHover(!1),n.border?.delete(!0),n.text?.delete(!0),this.highlightedItem=null))}_tryHighlight(t,r,n=!1){if(this._actions.highlightsDisallowed)return;let o=this._pick(t,r);if(!n)for(;o?.parent;)o=o.parent;if(!o||o.data[$c]||o.data[pd]){this._removeHighlights();return}this._setHighlight(o),this.highlightedItem?.text?.set({x:t,y:r+24})}_outOfView(t,r){const n=this._scene,o=CC(t,n.x,n.x+n.view.clientWidth),i=CC(r,n.y,n.y+n.view.clientHeight);return o!==t||i!==r?{x:o,y:i}:null}_centerCameraOn(t){const r=this._scene,n=t.x-(r.view.clientWidth-t.width)/2,o=t.y-(r.view.clientHeight-t.height)/2;this.setSceneXY(n,o)}_hideChildImages(){this.children.forEach(t=>t._forceHide())}_refreshChildImages(){this.children.forEach(o=>o._forceUpdate());const t=this._scene,r=[],n=[];for(const o of t.order)o.key>0||o.data[Xy]?r.push(o):n.push(o);t.set({order:r.concat(n)})}_notifyChildrenRemoved(){this.children=this.children.filter(t=>(t._unsubscribe(),t.slot.key>0)),this.children.forEach(t=>t._subscribe())}_notifyPadsRemoved(){this.pads=this.pads.filter(t=>t.slot.key>0)}_notifyConnectionsRemoved(){this.connections=this.connections.filter(t=>t.slot.key>0)}_sceneChanged(){}openTextEditor(t){this.textEditor=new Zfe(this,t._jf.text)}save(){return this._actions.finishCurrent(),this._history.markUnchanged(),this._scene.toJSON()}_saveChanges(){const{schema:t}=this;if(!t)return;this._hideChildImages();const r=this._scene.toJSON();this._refreshChildImages();const{klass:n}=t;n.set({scene:{...n.scene,data:r}}),this.children.forEach(o=>o._saveChanges()),t.applyChanges(),this.onSaved.dispatch()}_cloneObject(t){let r;const n=this._scene,o=xi(t);if(o){const s=this.schema;let a;if(o.type==="pad")r=UV(o.slot),a=this.createPad(r);else{r=this.createChildSlot(o.schema.klass,t.x,t.y,o.slot.attrib);const f=s.createChild(o.schema.klass,{key:r.key},o.schema.getState());a=this.createChild(r,f);for(let g in t.data)r.data[g]=t.data[g]}const{objects:c,order:d}=n.merge(Jv(o.connections.map(f=>f.slot)),"free",!0);n.set({order:d.concat(n.order)});const h=o.connections.map(f=>{const g=c.get(f.key);ks.assert(g?.type==="line");const m=o===f.a?a:f.a,y=o===f.b?a:f.b,b=s.createConnection(m.schema,y.schema,{key:g.key,aPadKey:on(m.type==="pad"&&m.key),bPadKey:on(y.type==="pad"&&y.key),attrib:f.schemaConnection.attrib,vars:f.schemaConnection.proto.nestedConnections.map(v=>v.toJSON())});return new dg(this,b,g)});this.connections=this.connections.concat(h)}else r=UV(t);const i=r.data.name;if(i){const s=i.replace(/\d+$/,a=>(parseInt(a)+1).toString());r.data.name=s!==i?s:s+"2"}return this._refreshChildImages(),r}insertFromDropOrPaste(t,r){const n=sge(t);if(n){const a=t.getData(`editor-cut-${this.lastCutId}`);a&&(this.lastCutId=""),this.insertFromClipboard(n,a?null:r);return}const o=this.fileContentTransfer?.pop(t);if(o){const{klass:a}=o;if(a){this.insertKlass(a,r);return}const{image:c}=o;if(c){const h=WV(c);this.insertSceneData(h,r,{name:PC(o.path)});return}const d=o.scene?.data.data;if(d){this.insertSceneData(d,r,{name:PC(o.path)});return}return}const i=t.files.item(0);if(i){this.uploadFile(i,r);return}const s=t.getData("text/plain");if(s){const a=HV(s);this.insertSceneData(a,r);return}}*uploadFile(t,r){const{fileUploader:n}=this;if(!n)return;const o=yield n.upload([t]);if(!o.length)return;const[{data:i}]=o;if(i.image){const a=WV(i.image);this.insertSceneData(a,r,{name:t.name});return}const s=i.scene?.data;s&&this.insertSceneData(s,r)}insertKlass(t,r){if(!this.schema)return;this.setLayers({hideChildren:!1}),this._abort();let n;if(this.schema.klass===t){const s=this.createPadSlot(r.x,r.y);n=this.createPad(s)}else{ug(!this.schema.hasAncestor(t),`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const s=this.createChildSlot(t,r.x,r.y),a=this.schema.createChild(t,{key:s.key});n=this.createChild(s,a)}const{slot:o}=n;o.set({x:r.x-o.width/2,y:r.y-o.height/2}),this._refreshChildImages();const i=[n.slot];this._history.saveCreatedObjects(i),this._createSelection(i)}insertFromClipboard(t,r){this._abort(),this.selection?.reset();const{schema:n}=this;let o;n&&(o=t.children?.map(f=>{const g=n.resolveKlass(f.klass,f.klassUUID);return ug(g,`Имидж не существует: ${f.klass}`),ug(!n.hasAncestor(g),`Невозможно добавить '${g.name}' в схему: рекурсивная зависимость`),{...f,klass:g}}));const s=this._scene.merge(t.scene).objects;let a=YC(s);if(n){if(o&&o.length){const f=Si(o,g=>{const m=s.get(g.key);if(m?.type!=="group"){console.warn(`Изображение имиджа '${g.klass} #${g.key}' отсутствует на сцене`);return}const y=n.createChild(g.klass,{key:m.key},g.state);return new eb(this,y,m)});this.children=this.children.concat(f)}if(t.pads?.length){const f=Si(t.pads,g=>{const m=s.get(g);if(m?.type!=="imageView"){console.warn(`Изображение площадки #${g}' отсутствует на сцене`);return}return new tb(this,m)});this.pads=this.pads.concat(f)}if(t.connections?.length){const f=Si(t.connections,g=>{const m=s.get(g.key);if(m?.type!=="line"){console.warn(`Изображение связи '#${g.key}' отсутствует на сцене`);return}const[y,b]=g.nodes,v=s.get(Math.abs(y)),C=v&&xi(v);if(!C){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const E=s.get(Math.abs(b)),T=E&&xi(E);if(!T){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const R=n.createConnection(C.schema,T.schema,{key:m.key,aPadKey:on(C.type==="pad"&&C.key),bPadKey:on(T.type==="pad"&&T.key),attrib:g.attrib,vars:g.vars});return new dg(this,R,m)});this.connections=this.connections.concat(f)}this._refreshChildImages()}else(t.children?.length||t.pads?.length||t.connections?.length)&&(t.children?.forEach(f=>s.get(f.key)?.delete()),t.pads?.forEach(f=>s.get(f)?.delete()),t.connections?.forEach(f=>s.get(f.key)?.delete()),a=a.filter(f=>f.key>0));if(!a.length)return;const c=a,d=this._tools.tempGroup(c);r&&d.set({x:r.x-d.width/2,y:r.y-d.height/2});const h=this._outOfView(d.x,d.y);h&&(r?d.set(h):this._centerCameraOn(c[0])),d.set({children:[]}),this._history.saveCreatedObjects(c),this._createSelection(c)}insertSceneData(t,r,n){if(!t.objects?.length)return;this._abort(),this.selection?.reset();const o=Eh(this._scene,t);n&&Object.assign(o.data,n),o.set({x:r.x-o.width/2,y:r.y-o.height/2}),this._refreshChildImages();const i=[o];this._history.saveCreatedObjects(i),this._createSelection(i)}setSceneXY(t,r){const n=this._scene;this.lastCursorX+=t-n.x,this.lastCursorY+=r-n.y,this._scene.set({x:t,y:r})}_setScale(t,r){const n=this.viewScale;this.viewScale=Math.min(Math.max(t,.25),4);const o=100/this.viewScale,i=this.view.style;i.transform=`scale(${this.viewScale})`,i.width=`${o}%`,i.height=`${o}%`;const s=this._scene,a=this.viewScale/n,c=r?.offsetX||0,d=r?.offsetY||0,h=s.x+c*a-c,f=s.y+d*a-d;s.set({x:h,y:f}),this._tools.defaultFont.set({size:16*(1/this.viewScale)})}copySelection(){const t=this.selection;if(!t)return null;const r=t._getJF().filter(c=>!Zy(c));if(!r.length)return null;const n=[],o=[],i=[],s=new WeakSet;return r.forEach(c=>{const d=xi(c);d&&(d.type==="child"?n.push(d._copy()):o.push(d.slot.key),s.add(d))}),this.connections.forEach(c=>{const{a:d,b:h}=c;s.has(d)&&s.has(h)&&(r.push(c.slot),i.push(c._copy()))}),{scene:Jv(r),children:n,connections:i,pads:o}}_handleKeyboard(t){if(t.ctrlKey||t.altKey)return!1;const r=this._actions;if(r.handleKeyboard(t))return!0;if(t.type!=="keydown"||t.key!=="ArrowUp"&&t.key!=="ArrowDown"&&t.key!=="ArrowLeft"&&t.key!=="ArrowRight")return!1;const{selection:n}=this;if(!n||r.inAction){if(!this.cameraMoveStart){const o=t.shiftKey?80:20,i=this._scene,s=i.x+(t.key==="ArrowLeft"?-o:t.key==="ArrowRight"?o:0),a=i.y+(t.key==="ArrowUp"?-o:t.key==="ArrowDown"?o:0);this.setSceneXY(s,a)}return!0}if(t.shiftKey){if(n.type==="single"&&n.object.type!=="group")switch(t.key){case"ArrowLeft":n.object.decreaseZ();break;case"ArrowRight":n.object.increaseZ();break;case"ArrowUp":n.object.moveToTop();break;case"ArrowDown":n.object.moveToBottom();break}return!0}return n.object.canMove&&r.startMoveObjectWithKeyboard(n.object,t),!0}createConnectionSlot(t,r){const n=this._scene,o=n.pen({color:MT}),i=DT(t.slot),s=DT(r.slot),a=n.line([i.x,i.y,s.x,s.y],{pen:o,attrib:$V});return n.set({order:[a,...n.order]}),a}createChildSlot(t,r,n,o=VV){const i=this._scene,s=this._tools.iconImage(t.image?.icon?.atlas),a=i.imageView(s,{x:r,y:n,width:32,height:32,area:{x:0,y:0,w:32,h:32}});return i.set({order:i.order.concat(a)}),i.group([a],{attrib:o})}createPadSlot(t,r){const n=this._scene,o=this._tools.padIconImage(),i=n.imageView(o,{x:t,y:r,width:32,height:32,area:{x:0,y:0,w:32,h:32},attrib:VV});return n.set({order:n.order.concat(i)}),i}createPad(t){const r=new tb(this,t);return this.pads=this.pads.concat(r),r}createChild(t,r){const n=new eb(this,r,t);return this.children=this.children.concat(n),n}_createConnection(t,r){const n=new dg(this,r,t),{order:o}=this._scene,i=n.a.type==="child"?n.a.icon:n.a.slot,s=n.b.type==="child"?n.b.icon:n.b.slot;if(i&&s){const a=Math.min(o.indexOf(i),o.indexOf(s));this._scene.set({order:_C(o,a,t)})}return this.connections=this.connections.concat(n),n}_notifySelectionRemoved(){this.selection=null}_setPads(t){this.pads=t}_setConnections(t){this.connections=t}_setChildren(t){this.children=t}}class Bge{constructor(t,r){this.type="fileSceneEditor",this.editable=!0,this.fileScene=t,this.scene=new ZT(t.data.data||{},{...r,fileUploader:r.getFileUploader(t.file.lib)})}get _reactKey(){return this.fileScene.file.itemId}get title(){return this.fileScene.file.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.fileScene.file.isReadonly}get isDeleted(){return this.fileScene.file.isDeleted}save(){ks.assert(!this.isReadonly);const t=this.scene.save(),r=this.fileScene;r.setData({...r.data,data:t})}dispose(){this.scene.dispose()}}class Fge{constructor(t,r){this.type="klassPropsEditor",this.editable=!0,this.klass=t,this.scene=new ZT(t.image?.scene?.data||{},{...r,fileUploader:r.getFileUploader(t.file.lib)})}get _reactKey(){return"props-"+this.klass.generatedUUID}get title(){return this.klass.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){ks.assert(!this.isReadonly);const t=this.scene.save(),{klass:r}=this;r.set({image:{...r.image,scene:{...r.image?.scene,data:t}}})}dispose(){this.scene.dispose()}}class jge{constructor(t,r){this.type="schemaEditor",this.editable=!1,this.klass=t.klass,this.scene=new ZT(t.klass.scene?.data||{},{...r,schema:t,fileUploader:r.getFileUploader(t.klass.file.lib)})}get _reactKey(){return"scene-"+this.klass.generatedUUID}get schema(){return this.scene.schema}get title(){return`${this.klass.name} (схема)`}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}replaceSchema(t){this.scene.replaceSchema(t)}dispose(){this.scene.dispose()}}class Vge{constructor(t){this.type="textEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.fileBinary=t,this.currentText=this.savedText=jv(t.data).split(`\r
`).join(`
`),vt(this,{currentLineNumber:Pe.ref,currentColumnIndex:Pe.ref,currentText:Pe.ref,savedText:Pe.ref,hasChanges:Kn,save:be,setCurrentText:be,setCursorPosition:be})}get _reactKey(){return this.fileBinary.file.itemId}get title(){return this.fileBinary.file.name}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.fileBinary.file.isReadonly}get isDeleted(){return this.fileBinary.file.isDeleted}save(){ks.assert(!this.isReadonly),this.fileBinary.setData(wC(this.currentText.split(`
`).join(`\r
`))),this.savedText=this.currentText}setCurrentText(t){this.currentText=t}setCursorPosition(t,r){this.currentLineNumber=t,this.currentColumnIndex=r}}function c$(e){return e.type==="fileSceneEditor"||e.type==="klassPropsEditor"||e.type==="schemaEditor"}function $ge(e){return e.type==="codeEditor"}const zge=["input","select","button","textarea"];function Uge(){const{activeElement:e}=document;return!!(e&&zge.includes(e.tagName.toLowerCase()))}function Gge(e){return e.shiftKey?e.code.startsWith("Digit")?parseInt(e.code[e.code.length-1]):NaN:parseInt(e.key)}function Hge(e){const{selection:t}=e;return!t||t.type==="multi"||t.object.type!=="group"?null:t.object.child}function Wge(e,t,r){if(r.altKey)return!1;const{scene:n}=e;if(r.ctrlKey)return n.inAction?!1:r.code==="KeyY"||r.shiftKey&&r.code==="KeyZ"?(n.redo(),!0):r.code==="KeyZ"?(n.undo(),!0):r.code==="KeyA"?(r.repeat||n.selectAll(),!0):!1;if(r.code==="Escape")return n.inAction?n.cancel():n.selection?.reset(),!0;if(r.key==="Enter"||r.code==="Space"||r.code==="KeyS"||r.code==="KeyD"){if(!n.isFocused)return!1;const i=Hge(n);switch(r.code){case"KeyD":{const s=i?.schema.klass||n.schema?.klass;s&&t.openKlassCode(s);break}case"KeyS":{const s=i?.schema||n.schema;s&&t.openSchema(s);break}default:{const s=i?.schema.klass||n.schema?.klass;s&&t.openKlassProps(s);break}}return!0}if(parseInt(r.key)){if(r.shiftKey)return!1;if(r.key==="1")n.setLayers({hideChildren:!n.hideChildren});else if(r.key==="2")n.setLayers({hideConnections:!n.hideConnections});else if(r.key==="3")n.setLayers({hideOther:!n.hideOther});else if(r.key==="4")n.setLayers({selectUnselectable:!n.selectUnselectable});else return!1;return!0}if(r.code==="Backquote")return n.setLayers({hideChildren:!1,hideOther:!1,hideConnections:!1}),!0;if(r.code==="Tab")return n.isFocused?(n.inAction||n.selectNext(r.shiftKey),!0):!1;if(r.code==="KeyR"&&(n.isInChildReorderMode?n.cancel():n.startReorderChildren()),n.inAction)return!1;const o=n.selection;return r.key==="Delete"?(o?.object.delete(),!0):r.code==="KeyG"?(o?.type==="multi"&&o.object.canCreateGroup&&o.object.createGroup(),!0):r.code==="KeyU"?(o?.type==="single"&&o.object.type==="group"&&o.object.canUngroup&&o.object.ungroup(),!0):r.code==="KeyN"?(o?.type==="single"&&o.object.set({isUnselectable:!o.object.isUnselectable}),!0):r.code==="KeyE"?(o?.type==="single"&&o.object.type==="textView"&&n.openTextEditor(o.object),!0):r.code==="KeyC"?(n.startCreateConnection(),!0):r.code==="KeyL"?(n.startCreateLine(),!0):r.code==="KeyT"?(n.startCreateText(),!0):r.code==="KeyI"?(n.startCreateInput(),!0):r.code==="KeyB"?(n.startCreateButton(),!0):r.code==="KeyQ"?(n.startCreateRect(),!0):!1}function Kge(e,t,r){if(r.ctrlKey&&r.code==="KeyS"){if(!r.repeat){const o=e.tabs.currentTab?.editor;o?.save&&!o.isReadonly&&o.save()}return!0}if(r.ctrlKey&&r.code==="KeyR"){const o=e.player.player;return o?o.isMinimized?o.maximize():o.close():e.player.openPlayer(),!0}if(r.ctrlKey&&r.code==="KeyP")return t.rightPanelMinimized.toggle(),!0;if(r.ctrlKey&&r.code==="KeyF"){if(r.shiftKey)return e.vfsFilterVisible.setFalse(),t.leftPanelMinimized.toggle(),!0;{t.activeLeftPanelActiveView.set("files");let o=0;t.leftPanelMinimized.isTrue&&(t.leftPanelMinimized.setFalse(),o=300),setTimeout(e.vfsFilterVisible.setTrue,o)}return!0}if((r.ctrlKey||r.altKey)&&r.code==="KeyW"){const o=e.player.player;return o&&!o.isMinimized?o.close():e.tabs.currentTab?.close(),!0}if(r.altKey){const o=Gge(r);if(!isNaN(o)){if(e.tabs.tabs.length){const i=o>0?o-1:e.tabs.tabs.length-1;e.tabs.setCurrentTab(e.tabs.tabs[i])}return!0}}if(document.activeElement?.tagName.toLowerCase()==="textarea"||Uge())return!1;r.ctrlKey&&r.code==="KeyA"&&r.preventDefault();const n=e.tabs.currentTab?.editor;return!!(n&&c$(n)&&Wge(n,e,r))}function qge(e,t){if(e.currentModalDialog.current)return!1;const{currentProject:r}=e;return!!r&&Kge(r,e,t)}function Yge(e,t){t.ctrlKey&&(t.code==="KeyS"||t.code==="KeyR")&&t.preventDefault(),qge(e,t)&&t.preventDefault()}class Xge{constructor(t){this.current=t,vt(this,{current:Pe.ref,set:be})}set(t){this.current=t}}class md{constructor(t=!1){this.isTrue=t,this.setTrue=()=>{this.isTrue=!0},this.setFalse=()=>{this.isTrue=!1},this.toggle=()=>{this.isTrue=!this.isTrue},vt(this,{isTrue:Pe.ref,setTrue:be,setFalse:be,toggle:be})}}class Zge extends Ci{}class Qge{constructor(t){this.isLoggingIn=!1,this.isDataFetching=!1,this.profileName="",this.projectCount=69,this.projectLimit=100500,this.libraryCount=0,this.libraryLimit=0,this.onLogin=new Wn,this.onBeforeLogout=new Wn,this.apiClient=t,vt(this,{isLoggingIn:Pe.ref,isDataFetching:Pe.ref,libraryCount:Pe.ref,libraryLimit:Pe.ref,profileName:Pe.ref,projectCount:Pe.ref,projectLimit:Pe.ref,logout:be,restorePrevSession:no,login:no,fetchLimits:no})}*restorePrevSession(t){const{apiClient:r}=this;r.setAuthData(t.authData);const n=yield r.isSessionValid();return this.fetchLimits(t.profile),n}*login(t,r){const{apiClient:n}=this;this.isLoggingIn=!0;let o;try{o=yield n.createSession(t,r)}catch(i){throw i instanceof EC?new Zge(i.message):i}finally{this.isLoggingIn=!1}n.setAuthData(o.authData),this.onLogin.dispatch(o),this.fetchLimits(o.profile)}*fetchLimits(t){this.profileName=t.name||"";const{apiClient:r}=this;this.isDataFetching=!0;let n;try{n=yield r.getAccountLimits()}finally{this.isDataFetching=!1}this.libraryCount=n.libCount,this.libraryLimit=n.libLimit,this.projectCount=n.projectCount,this.projectLimit=n.projectLimit}logout(){this.onBeforeLogout.dispatch()}}class Jge{constructor(){this.isOpen=!1,this.menuItems=[],this.anchorPosition={x:0,y:0},vt(this,{isOpen:Pe.ref,menuItems:Pe.ref,anchorPosition:Pe.ref,open:be,close:be})}open(t,r,n){this.anchorPosition={x:t,y:r},this.menuItems=n,this.isOpen=!0}close(){this.isOpen=!1}}class eme{constructor(){this.klassFiles=new WeakSet,this.map=new Map,this.mapUUID=new Map,this._list=null,this.klassNameValidator=t=>this.get(t),this.onKlassRename=(t,r)=>{if(this.klassFiles.has(t.file)){this.map.delete(r),this.map.set(t.nameUC,t);for(const{children:n}of this.map.values())for(const o of n.list)(o.klassUUID?o.klassUUID===t.uuid:o.klassName.toUpperCase()===r)&&o._notifyKlassRenamed(t.name);this.updateList()}},this.onKlassFileRemoved=t=>{if(!this.klassFiles.delete(t))return;const r=t.klass;this.removeKlass(r),this.mapUUID.delete(r.generatedUUID),this.map.delete(r.nameUC),this.updateList()},this.removeKlass=t=>{t._setIsInLibrary(!1),t.nameValidator.set(null),t.onRename.remove(this.onKlassRename),t.file.onRemoved.remove(this.onKlassFileRemoved)},this.nodeCache=new WeakMap}get list(){return this._list||(this._list=[...this.map.values()].sort(Ku)),this._list}add(t){if(this.klassFiles.has(t.file))return;const r=this.map.get(t.nameUC);r&&console.warn(`Имидж '${r.name}' уже существует в файле '${r.file.path}'`),this.klassFiles.add(t.file),this.mapUUID.set(t.generatedUUID,t),this.map.set(t.nameUC,t),t._setIsInLibrary(!0),t.nameValidator.set(this.klassNameValidator),t.onRename.add(this.onKlassRename),t.file.onRemoved.add(this.onKlassFileRemoved)}clean(){this.map.forEach(this.removeKlass),this.klassFiles=new WeakSet,this.mapUUID.clear(),this.map.clear()}updateList(){this._list=null}get(t){return this.map.get(t.toUpperCase())??null}getByUUID(t){return this.mapUUID.get(t)??null}getByNode(t){const r=this.nodeCache.get(t);if(r)return r;const n=t.klassUUID?this.getByUUID(t.klassUUID):this.get(t.klassName);return n&&this.nodeCache.set(t,n),n}}class tme{constructor(t){this.recursiveSearch=!0,this.searchDirs=[],this.standardSearchDir=null,this._klassLibrary=new eme,this.onVFSDirsRemoved=r=>{const n=this.searchDirs.filter(o=>!r.has(o));this.searchDirs.length!==n.length&&(this.searchDirs=n)},this.rebuildLibrary=()=>{const{recursiveSearch:r,searchDirs:n,_klassLibrary:o,standardSearchDir:i}=this;if(o.clean(),i)for(const{klass:s}of i.recursive())s&&o.add(s);for(const s of n){const a=r?s.recursive():s.files;for(const{klass:c}of a)c&&o.add(c)}o.updateList()},t.onDirsRemoved.add(this.onVFSDirsRemoved),t.onEntriesMoved.add(this.rebuildLibrary),vt(this,{recursiveSearch:Pe.ref,searchDirs:Pe.ref})}get klassLibrary(){return this._klassLibrary}setRecursiveSearch(t){this.recursiveSearch=t}setStandardSearchDir(t){this.standardSearchDir=t,t.setSearchDirMarker(!0)}addSearchDir(t){this.searchDirs.includes(t)||(this.searchDirs=this.searchDirs.concat(t),t.setSearchDirMarker(!0))}removeSearchDir(t){t.setSearchDirMarker(!1),this.searchDirs=this.searchDirs.filter(r=>r!==t)}}class QT{constructor(t="transfer"){this.current=null,this.transferType="vnd.stratum/"+(t+"-"+zv()).toLowerCase()}put(t,r,n="all"){this.current=r,t.setData(this.transferType,"true"),t.effectAllowed=n}pop(t){if(!this.canDrop(t))return null;const r=this.current;return this.current=null,r}get(t){return this.canDrop(t)?this.current:null}canDrop(t){return t.types.includes(this.transferType)}}class rme{constructor(t,r){this.multiplexer=t,this.editor=r,vt(this,{close:be})}close(){this.editor.dispose?.(),this.multiplexer._notifyItemClosed(this)}}class nme{constructor(t){this.sceneArgs=t,this.items=[]}addEditor(t){const r=new rme(this,t);return this.items=this.items.concat(r),r}openSchemaEditor(t){const{klass:r}=t,n=this.items.find(o=>{const{editor:i}=o;return i.type==="schemaEditor"&&i.klass===r});if(n){const{editor:o}=n;return o.schema!==t&&o.replaceSchema(t),n}return this.addEditor(new jge(t,this.sceneArgs))}openCodeEditor(t){const{klass:r}=t,n=this.items.find(({editor:o})=>o.type==="codeEditor"&&o.klass===r);return n||this.addEditor(new nhe(t))}openKlassPropsEditor(t){const r=this.items.find(({editor:n})=>n.type==="klassPropsEditor"&&n.klass===t);return r||this.addEditor(new Fge(t,this.sceneArgs))}openFileSceneEditor(t){const r=this.items.find(({editor:n})=>n.type==="fileSceneEditor"&&n.fileScene===t);return r||this.addEditor(new Bge(t,this.sceneArgs))}openBinaryFileEditor(t){const r=this.items.find(({editor:n})=>n.type==="textEditor"&&n.fileBinary===t);return r||this.addEditor(new Vge(t))}_notifyItemClosed(t){this.items=this.items.filter(r=>r!==t)}}class u${constructor({klass:t,klassUUID:r,key:n,name:o="",x:i=0,y:s=0},a){this.onSpecialValueChanged=new Wn,this.connections=new Set,this.parent=a,this.klassName=t,this.klassUUID=r||null,this.key=n,this.sceneName=o,this.sceneX=i,this.sceneY=s,vt(this,{sceneX:!1,sceneY:!1,sceneName:!1,klassName:!1,set:be,remove:be,toJSON:!1})}set({sceneX:t=this.sceneX,sceneY:r=this.sceneY,sceneName:n=this.sceneName}){let o=!1;this.sceneX!==t&&(this.sceneX=t,o=!0),this.sceneY!==r&&(this.sceneY=r,o=!0),this.sceneName!==n&&(this.sceneName=n,o=!0),o&&(this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged())}remove(){this.connections.forEach(t=>t.remove()),this.parent._notifyChildNodeRemoved(this)}toJSON(){return{key:this.key,klass:this.klassName,klassUUID:on(this.klassUUID),x:this.sceneX,y:this.sceneY,name:on(this.sceneName)}}_notifyKlassRenamed(t){this.klassName=t,this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged()}_addConnection(t){this.connections.add(t)}_removeConnection(t){this.connections.delete(t)}}class ome{constructor(t,r){this.list=[],this.parent=t,this.list=r?.map(n=>new u$(n,t))||[],vt(this,{list:!1,create:be,reorder:be,get:!1})}get(t){return this.list.find(r=>r.key===t)||null}create(t){const{list:r}=this,n=new u$(t,this.parent);return this.list=r.concat(n),this.parent._notifyChildListChanged(),n}reorder(t){this.list=t,this.parent._notifyChildListChanged()}_removeChild(t){this.list=tk(this.list,t)}}class d${constructor(t,r){this.data=t,this.carrier=r}get a(){return this.data[0]}get b(){return this.data[1]}_setNames(t){this.data=t}toJSON(){return this.data}}class h${constructor(t,r,{key:n,vars:o,attrib:i=0},s){this.onNestedConnectionsChanged=new Wn,this.onDisabledChanged=new Wn,this.isRemoved=!1,this.key=n,this.parent=s,this.a=t,this.b=r,typeof t!="number"&&t._addConnection(this),typeof r!="number"&&r._addConnection(this),this.nestedConnections=o?.map(a=>new d$(a,this))||[],this.attrib=i,vt(this,{attrib:Pe.ref,nestedConnections:!1,setDisabled:be,setNestedConnections:be,remove:be,toJSON:!1})}get isDisabled(){return!!(this.attrib&Hv)}setNestedConnections(t){const r=this.nestedConnections;this.nestedConnections=t.map(n=>{const o=n[0].toUpperCase(),i=n[1].toUpperCase(),s=r.find(a=>a.a.toUpperCase()===o&&a.b.toUpperCase()===i);return s?(s._setNames(n),s):new d$(n,this)}),this.onNestedConnectionsChanged.dispatch(),this.parent._notifyContentChanged()}setDisabled(t){t?this.attrib|=Hv:this.attrib&=~Hv,this.onDisabledChanged.dispatch(),this.parent._notifyContentChanged()}remove(){if(this.isRemoved)return;this.isRemoved=!0;const{a:t,b:r}=this;typeof t!="number"&&t._removeConnection(this),typeof r!="number"&&r._removeConnection(this),this.parent._notifyConnectionRemoved(this)}toJSON(){const{attrib:t,nestedConnections:r,a:n,b:o,key:i}=this,s=typeof n=="number"?-n:n.key,a=typeof o=="number"?-o:o.key;return{key:i,nodes:[s,a],vars:r.map(({a:c,b:d})=>[c,d]),attrib:on(t)}}}class ime{constructor(t,r){if(this.parent=t,r){const{children:n}=t;this.list=Si(r,o=>{const[i,s]=o.nodes,a=i>0?n.get(i):-i;if(!a)return null;const c=s>0?n.get(s):-s;return c?new h$(a,c,o,t):null})}else this.list=[];vt(this,{list:!1,create:be})}create(t,r,n){const o=new h$(t,r,n,this.parent);return this.list=this.list.concat(o),this.parent._notifyConnectionListChanged(),o}_removeConnection(t){this.list=tk(this.list,t)}}class f${constructor(t){this.data=t,this.isLocal=!0}get isArgument(){return!!((this.data.attrib||0)&rt.VF_ARGUMENT)}get isReturn(){return!!((this.data.attrib||0)&rt.VF_RETURN)}get type(){return this.data.type}toJSON(){return this.data}}class p${constructor({name:t,type:r,attrib:n=0,defaultValue:o=null,description:i=""},s){this.isLocal=!1,this.onValueChanged=new Wn,this.klass=s,this.name=t,this.type=r,this.attrib=n,this.description=i;const a=this.nameUC=t.toUpperCase();o!==null&&$p(r,o)!==null?this.value=o:this.value=null,a==="ORGX"&&r===bt.FLOAT||a==="ORGY"&&r===bt.FLOAT||a==="_HOBJECT"&&r===bt.HANDLE||a==="_OBJNAME"&&r===bt.STRING||a==="_CLASSNAME"&&r===bt.STRING?this.specialValueType=a:this.specialValueType="none",vt(this,{value:Pe.ref,name:Pe.ref,description:Pe.ref,attrib:!1,setValue:be,setDescription:be,isValidValue:!1,toJSON:!1})}get isArgument(){return!!(this.attrib&rt.VF_ARGUMENT)}get isReturn(){return!!(this.attrib&rt.VF_RETURN)}setDescription(t){this.description=t,this.klass._notifyContentChanged()}setValue(t){return t!==null&&!this.isValidValue(t)?!1:(this.value=t,this.onValueChanged.dispatch(),this.klass._notifyContentChanged(),!0)}isValidValue(t){return $p(this.type,t)!==null}toJSON(){return{name:this.name,type:this.type,attrib:on(this.attrib),defaultValue:this.value??void 0,description:on(this.description)}}_changeAttrib(t){this.attrib=t}_rename(t){this.name=t}}function g$({attrib:e=0}){return!!(e&rt.VF_LOCAL)}class sme{constructor(t,r){this.list=[],this.onVarListChanged=new Wn,this.klass=t,this.allList=r?.map(n=>g$(n)?new f$(n):new p$(n,t))||[],this.list=this.allList.filter(n=>!n.isLocal),this.listMap=new Map(this.list.map(n=>[n.nameUC,n])),vt(this,{list:!1,allList:!1,set:be,get:!1})}set(t){const{list:r}=this;this.allList=t.map(n=>{if(g$(n))return new f$(n);const o=n.name.toUpperCase(),i=r.find(s=>s.type===n.type&&s.nameUC===o);return i?(i._rename(n.name),i._changeAttrib(n.attrib||0),i):new p$(n,this.klass)}),this.list=this.allList.filter(n=>!n.isLocal),this.listMap=new Map(this.list.map(n=>[n.nameUC,n])),this.onVarListChanged.dispatch(),this.klass._notifyVarListChanged()}get(t){return this.listMap.get(t.toUpperCase())||null}}const ame={};class m$ extends Ci{constructor(t){super(`Имидж '${t.name}' уже существует в файле '${t.file.path}'`)}}class lme{constructor(t,r){this.onRename=new Wn,this.onImageChanged=new Wn,this.onVarListChanged=new Wn,this.onConnectionListChanged=new Wn,this.onChildListChanged=new Wn,this.nameValidator=new Iq,this.isInLibrary=!1,this.file=t,this.name=r.name,this.nameUC=r.name.toUpperCase(),this.uuid=r.uuid||null,this.generatedUUID=r.uuid||zv(),this.modelText=r.modelText||"",this.isFunction=r.isFunction||!1,this.date=r.date?new Date(r.date):new Date,this.uniqid=r.uniqid||0,this.vars=new sme(this,r.vars),this.children=new ome(this,r.children),this.childConnections=new ime(this,r.connections),this.scene=r.scene||null,this.image=r.image||null,this.description=r.description||"",vt(this,{hasCode:Kn,hasScene:Kn,name:Pe.ref,nameUC:Pe.ref,image:Pe.ref,isInLibrary:Pe.ref,scene:Pe.ref,modelText:!1,isFunction:!1,rename:be,set:be,toJSON:!1})}get hasScene(){return!!this.scene?.data}get hasCode(){return!!this.modelText}get isReadonly(){return this.file.isReadonly}get imageData(){const{image:t}=this;if(!t||t.prior==="icon")return null;const r=t.scene?.data;return r?.objects?.length?r:null}get icon(){return this.image?.icon||ame}_setIsInLibrary(t){this.isInLibrary=t}set({scene:t=this.scene,image:r=this.image,modelText:n=this.modelText,isFunction:o=this.isFunction}){ks.assert(!this.isReadonly);let i=!1;this.scene!==t&&(this.scene=t,i=!0),this.image!==r&&(this.image=r,this.onImageChanged.dispatch(),i=!0),this.modelText!==n&&(this.modelText=n,i=!0),this.isFunction!==o&&(this.isFunction=o,i=!0),i&&this._notifyContentChanged()}rename(t){if(ks.assert(!this.isReadonly),!t||t===this.name)return;Ck(t);const r=t.toUpperCase();if(r!==this.nameUC){const o=this.nameValidator.value?.(t);if(o)throw new m$(o)}const n=this.nameUC;this.name=t,this.nameUC=r,this.onRename.dispatch(this,n),this._notifyContentChanged()}toJSON(){return{name:this.name,uuid:on(this.uuid),uniqid:on(this.uniqid),date:this.date.toJSON(),vars:Sp(this.vars.allList.map(t=>t.toJSON())),children:Sp(this.children.list.map(t=>t.toJSON())),connections:Sp(this.childConnections.list.map(t=>t.toJSON())),description:on(this.description),isFunction:on(this.isFunction),modelText:on(this.modelText),image:this.image,scene:this.scene}}_notifyVarListChanged(){this.onVarListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionListChanged(){this.onConnectionListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionRemoved(t){this.childConnections._removeConnection(t),this._notifyConnectionListChanged()}_notifyChildListChanged(){this.onChildListChanged.dispatch(),this._notifyContentChanged()}_notifyChildNodeRemoved(t){this.children._removeChild(t),this._notifyChildListChanged()}_notifyContentChanged(){this.file._notifyContentChanged()}}class cme{constructor({apiClient:t,project:r}){this.isSyncing=!1,this.apiClient=t,this.project=r,vt(this,{isSyncing:Pe.ref,sync:no})}get changesList(){const{project:t}=this;let r=Si(t.libs,n=>n.hasChanges&&n.name);return t.schema.isStateChanged&&(r=["Состояние схемы"].concat(r)),t.isDirty&&(r=["Настройки проекта"].concat(r)),r}*sync(){if(this.isSyncing)return;const{apiClient:t,project:r}=this;r.saveSchemaStateToFile();const n=Si(r.libs,i=>{const{vfsLib:s}=i;if(!s.isDirty)return;const a=s.toJSON();return s.setDirtyMarker(!1),[i,a]}),o=on(r.isDirty&&r.toRemoteProjectData(!1));r.setDirtyMarker(!1),this.isSyncing=!0;for(const[i,s]of n)try{yield t.updateLibraryIndex(i.id,s)}catch(a){console.error(a),i.vfsLib.setDirtyMarker(!0),console.warn(`Не удалось синхронизировать '${i.name}' (${i.id})`)}if(o){const i=r.libs.map(a=>a.id),s=r.subProjects.map(a=>a.id);try{yield t.updateProject(r.id,{config:o,libIds:i,subprojectIds:s})}catch(a){console.error(a),r.setDirtyMarker(!0),console.warn("Не удалось синхронизировать настройки проекта")}}this.isSyncing=!1}}class Uc{constructor(t){this.value=null,this.kind="own",this.master=null,vt(this,{value:Pe.ref,kind:Pe.ref,master:Pe.ref})}static{this.stub=new Uc(!0)}_setValue(t,r,n){this.master=r,this.value=t,this.kind=n}_resetValue(){this.value=null}}class v${constructor(t,r){this._reactKey=wk(),this.ownValue=null,this.varConnections=new Set,this.sharedValueStorage=new Uc,this.onValueChanged=()=>{this.sharedValueStorage._resetValue(),this.schema._notifyValuesChanged()},this.klassVar=t,this.schema=r,t.onValueChanged.add(this.onValueChanged),vt(this,{sharedValueStorage:Pe.ref,ownValue:Pe.ref,setOwnValue:be,getConnectedVars:!1,getConnections:!1,setDefaultValue:!1,setDescription:!1})}_dispose(){this.klassVar.onValueChanged.remove(this.onValueChanged),this.varConnections.forEach(t=>t._dispose())}get name(){return this.klassVar.name}get type(){return this.klassVar.type}get computedValue(){return this.sharedValueStorage.value}get computedValueKind(){const{sharedValueStorage:t}=this,{master:r}=t;return r===this||r===null?t.kind:this.ownValue===null?"alien":"overwritten"}get defaultValue(){return this.klassVar.value}get description(){return this.klassVar.description}getConnections(){return this.varConnections.values()}_setOwnValue(t){this.klassVar.isValidValue(t)&&(this.ownValue=t)}setOwnValue(t){return t!==null&&!this.klassVar.isValidValue(t)?!1:(this.ownValue=t,this.onValueChanged(),this.schema._notifyStateChanged(),!0)}setDefaultValue(t){return this.klassVar.setValue(t)}setDescription(t){this.klassVar.setDescription(t)}getConnectedVars(t){const r=new Set;return this._getConnectedVars(r),t||r.delete(this),r}_applyDefaultValue(){const{klassVar:t}=this,r=t.value;if(r!==null){this.sharedValueStorage._setValue(r,this,"classDefault");return}if(t.specialValueType==="none")return;let n;switch(t.specialValueType){case"ORGX":n=this.schema.node?.sceneX.toString();break;case"ORGY":n=this.schema.node?.sceneY.toString();break;case"_HOBJECT":{const o=this.schema.node?.key;o&&(n="#"+o);break}case"_OBJNAME":n=this.schema.node?.sceneName;break;case"_CLASSNAME":n=this.schema.klass.name;break}n?this.sharedValueStorage._setValue(n,this,"classSpecial"):this.sharedValueStorage._resetValue()}toString(){return this.name}_applyOwnValue(){const{ownValue:t}=this;t!==null&&this.sharedValueStorage._setValue(t,this,"own")}propagateSharedValueStorage(t){if(this.sharedValueStorage!==t){this.sharedValueStorage=t;for(const r of this.varConnections){if(r.carrier.isDisabled)continue;(this===r.a?r.b:r.a).propagateSharedValueStorage(t)}}}_getConnectedVars(t){if(!t.has(this)){t.add(this);for(const r of this.varConnections){if(r.carrier.isDisabled)continue;(this===r.a?r.b:r.a)._getConnectedVars(t)}}}_notifyConnectionCreated(t){this.varConnections.add(t),this.sharedValueStorage=Uc.stub}_notifyConnectionRemoved(t){this.varConnections.delete(t),this.sharedValueStorage=Uc.stub}_notifyConnectionDisabledChanged(){this.sharedValueStorage=Uc.stub}_reduce(){this.sharedValueStorage===Uc.stub&&this.propagateSharedValueStorage(new Uc)}}class ume{constructor(t,r){this.klassVars=t,this.schema=r,this.list=t.list.map(n=>new v$(n,r)),this.map=new WeakMap(this.list.map(n=>[n.klassVar,n])),vt(this,{list:Pe.ref,get:!1})}get(t){const r=this.klassVars.get(t);return r&&this.map.get(r)||null}_rebuild(){const{list:t}=this,r=new Set(t);this.list=this.klassVars.list.map(n=>{const o=t.find(i=>i.klassVar===n);return o?(r.delete(o),o):new v$(n,this.schema)}),this.map=new WeakMap(this.list.map(n=>[n.klassVar,n])),r.forEach(n=>{n.ownValue!==null&&this.schema._notifyStateChanged(),n._dispose()})}}class dme{constructor(t,r,n,o){this.a=t,this.b=r,this.proto=n,this.carrier=o,this.isBroken=!0}}class hme{constructor(t,r,n,o){this.a=t,this.b=r,this.proto=n,this.carrier=o,this.isBroken=!1,t._notifyConnectionCreated(this),r._notifyConnectionCreated(this)}_dispose(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}}class y${constructor(t,r,n,o){this.aPadKey=0,this.bPadKey=0,this.nestedConnections=[],this.onNestedConnectionsChanged=()=>{this.parent._notifyConnectionChanged(this)},this.onDisabledChanged=()=>{this.nestedConnections.forEach(i=>{i.isBroken||(i.a._notifyConnectionDisabledChanged(),i.b._notifyConnectionDisabledChanged())}),this.parent._notifyConnectionDisabledChanged()},this.parent=o,this.a=t,this.b=r,this.proto=n,typeof n.a=="number"&&(this.aPadKey=n.a),typeof n.b=="number"&&(this.bPadKey=n.b),this._rebuildNestedConnections(),this.proto.onNestedConnectionsChanged.add(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.add(this.onDisabledChanged),vt(this,{nestedConnections:Pe.ref,setDisabled:!1,remove:!1})}_dispose(){this.proto.onNestedConnectionsChanged.remove(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.remove(this.onDisabledChanged),this.nestedConnections.forEach(t=>!t.isBroken&&t._dispose())}get key(){return this.proto.key}get attrib(){return this.proto.attrib}get isDisabled(){return this.proto.isDisabled}setDisabled(t){this.proto.setDisabled(t)}remove(){this.proto.remove()}_rebuildNestedConnections(){const{nestedConnections:t,a:r,b:n}=this,o=new Set(t);this.nestedConnections=this.proto.nestedConnections.map(i=>{const s=t.find(h=>h.proto===i);if(s)return o.delete(s),s;const a=r.vars.get(i.a),c=n.vars.get(i.b);return a&&c&&a.klassVar.type===c.klassVar.type?new hme(a,c,i,this):new dme(a||i.a,c||i.b,i,this)}),o.forEach(i=>!i.isBroken&&i._dispose())}}class fme{constructor(t){this.parent=t,this.list=[],this._rebuild()}_create(t,r,n){const o=new y$(t,r,n,this.parent);return this.list=this.list.concat(o),o}_rebuild(){const{list:t,parent:r}=this,{klass:n}=r,o=r.children.list,i=new Set(t);this.list=n.childConnections.list.map(s=>{const a=t.find(g=>g.proto===s);if(a)return i.delete(a),a;const{a:c,b:d}=s,h=typeof c=="number"?r:o.find(g=>g.node===c),f=typeof d=="number"?r:o.find(g=>g.node===d);if(!h||!f)throw Error("Неизвестная ошибка (schema.ts)");return new y$(h,f,s,r)}),i.forEach(s=>s._dispose())}}class pme{constructor(t,r){this.parent=t,this.library=r,this.list=[],this._rebuild(),vt(this,{list:Pe.ref,get:!1})}get(t){return this.list.find(r=>r.key===t)||null}_create(t,r,n=null){const o=new lb(t,this.library,n,r,this.parent);return this.list=this.list.concat(o),o}_setOrder(t){this.list=t}_rebuild(t){const{library:r,list:n,parent:o}=this,i=new Set(n);this.list=o.klass.children.list.map(s=>{const a=n.find(d=>d.node===s);if(a)return i.delete(a),a;const c=r.getByNode(s);if(!c)throw Error(`Имидж '${s.klassName}' не существует`);return new lb(c,r,null,s,o)}),i.forEach(s=>s._dispose(t))}}class gme{constructor(t){this.root=t,this.onDescendantsDeleted=new Wn,this.changedNestedConns=new Set,this.changedVars=new Set,this.changedChildren=new Set,this.changedConnections=new Set,this._needReduce=!0,this._needReapplyValues=!0,this._stateChanged=!1,vt(this,{_stateChanged:Pe.ref})}rebuild(){const{changedChildren:t,changedConnections:r,changedVars:n,changedNestedConns:o}=this;if(n.size&&(this._needReduce=!0,n.forEach(i=>i._rebuild()),n.clear()),o.size&&(this._needReduce=!0,o.forEach(i=>i._rebuildNestedConnections()),o.clear()),t.size){this._needReduce=!0;const i=new Set;t.forEach(s=>s._rebuild(i)),t.clear(),i.size&&this.onDescendantsDeleted.dispatch(i)}r.size&&(this._needReduce=!0,r.forEach(i=>i._rebuild()),r.clear()),this._needReduce&&(this._needReapplyValues=!0,this.root._reduceVars(),this._needReduce=!1),this._needReapplyValues&&(this.root._applyDefaultValues(),this.root._applyOwnValues(),this._needReapplyValues=!1)}}class lb{constructor(t,r,n,o=null,i=null){this.itemId=Uv(),this.canCreateChild=!0,this.canCreateConnection=!0,this.canReorderChildren=!0,this.onSpecialValueChanged=()=>{this.root._needReapplyValues=!0},this.onVarListChanged=()=>{const{node:s}=this;s&&(this.klass.vars.list.some(({specialValueType:a})=>a!=="none"&&a!=="_HOBJECT")?s.onSpecialValueChanged.add(this.onSpecialValueChanged):s.onSpecialValueChanged.remove(this.onSpecialValueChanged)),this.root.changedVars.add(this.vars)},this.onConnectionListChanged=()=>{this.root.changedConnections.add(this.childConnections)},this.onChildListChanged=()=>{this.root.changedChildren.add(this.children),this.root._needReapplyValues=!0},this.isFake=i&&i.isFake||n&&"isFake"in n||!1,this.klass=t,this.library=r,this.node=o,this.parent=i,this.root=i?.root||new gme(this),this.vars=new ume(t.vars,this),this.children=new pme(this,r),this.childConnections=new fme(this),o&&t.vars.list.some(({specialValueType:s})=>s!=="none"&&s!=="_HOBJECT")&&o.onSpecialValueChanged.add(this.onSpecialValueChanged),t.onVarListChanged.add(this.onVarListChanged),t.onConnectionListChanged.add(this.onConnectionListChanged),t.onChildListChanged.add(this.onChildListChanged),n&&!("isFake"in n)&&(this.setState(n),i&&(this.root._stateChanged=!0)),i||this.root.rebuild(),vt(this,{createChild:be,createConnection:be,reorderChildren:be,remove:be,applyChanges:be,markStateUnchanged:be,getState:!1,hasAncestor:!1,resolveKlass:!1,hasNode:!1})}_dispose(t){this.children.list.forEach(n=>n._dispose(t));const{klass:r}=this;this.node?.onSpecialValueChanged.remove(this.onSpecialValueChanged),r.onVarListChanged.remove(this.onVarListChanged),r.onConnectionListChanged.remove(this.onConnectionListChanged),r.onChildListChanged.remove(this.onChildListChanged),this.vars.list.forEach(n=>n._dispose()),this.childConnections.list.forEach(n=>n._dispose()),t.add(this)}get name(){return this.klass.name}get key(){return this.node?.key||0}get isStateChanged(){return this.root._stateChanged}get onDescendantsDeleted(){return this.root.onDescendantsDeleted}getState(t){const r=Si(this.children.list,o=>o.getState()),n=Si(this.vars.list,o=>o.ownValue!==null&&{name:o.klassVar.name,value:o.ownValue});return!t&&!r.length&&!n.length?null:{key:this.key,klass:this.klass.name,klassID:on(this.klass.uniqid),klassUUID:on(this.klass.uuid),values:Sp(n),children:Sp(r)}}resolveKlass(t,r){const n=this.library;return r?n.getByUUID(r):n.get(t)}hasAncestor(t){return this.klass===t||this.parent?.hasAncestor(t)||!1}createChild(t,r,n){if(this.hasAncestor(t))throw Error(`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const o={klass:t.name,klassUUID:on(t.uuid),key:r.key,name:r.name,x:r.x,y:r.y},i=this.klass.children.create(o);return this.children._create(t,i,n)}createConnection(t,r,{key:n,aPadKey:o=0,bPadKey:i=0,vars:s,attrib:a}){const c=this===t?o:t.node,d=this===r?i:r.node;if(typeof c!="number"&&t.parent!==this||typeof d!="number"&&r.parent!==this)throw Error("Связь должна существовать в пределах одной схемы");const h=this.klass.childConnections.create(c,d,{key:n,vars:s,attrib:a});return this.childConnections._create(t,r,h)}reorderChildren(t){this.klass.children.reorder(t.map(r=>r.node)),this.children._setOrder(t)}remove(){if(!this.node)throw Error("Невозможно удалить корень схемы");this.node.remove()}applyChanges(){this.root.rebuild()}hasNode(t){return this.root===t.root}toString(){return this.key?`${this.klass.name} #${this.key}`:this.klass.name}markStateUnchanged(){this.root._stateChanged=!1}_notifyStateChanged(){this.root._stateChanged=!0}_notifyValuesChanged(){this.root._needReapplyValues=!0}_notifyConnectionDisabledChanged(){this.root._needReduce=!0}_notifyConnectionChanged(t){this.root.changedNestedConns.add(t)}setState({klass:t,children:r,klassID:n,klassUUID:o,values:i}){const{uniqid:s,uuid:a}=this.klass;if(i?.length&&(a&&a===o||s&&s===n||t.toUpperCase()===this.klass.nameUC)){const{vars:c}=this;i.forEach(d=>c.get(d.name)?._setOwnValue(d.value))}r?.forEach(c=>this.children.get(c.key)?.setState(c))}_reduceVars(){this.children.list.forEach(t=>t._reduceVars()),this.vars.list.forEach(t=>t._reduce())}_applyDefaultValues(){this.children.list.forEach(t=>t._applyDefaultValues()),this.vars.list.forEach(t=>t._applyDefaultValue())}_applyOwnValues(){this.vars.list.forEach(t=>t._applyOwnValue()),this.children.list.forEach(t=>t._applyOwnValues())}}class mme{constructor(t,r){this.tabs=t,this.item=r,vt(this,{close:be})}get _reactKey(){return this.item.editor._reactKey}get editor(){return this.item.editor}close(){const{editor:t}=this.item;return t.hasChanges&&!window.confirm(`${t.title} содержит несохраненные изменения. Все равно закрыть?`)?!1:(this.item.close(),this.tabs._notifyTabClosed(this),!0)}}class vme{constructor(){this.tabs=[],this.currentTab=null,this.tabHistory=[],vt(this,{currentTab:Pe.ref,tabs:Pe.ref,addTab:be,setCurrentTab:be,reorderTabs:be})}addTab(t){const r=this.tabs.find(o=>o.item===t);if(r)return this.setCurrentTab(r),!1;const n=new mme(this,t);return this.tabs=this.tabs.concat(n),this.tabHistory.push(n),this.currentTab=n,!0}setCurrentTab(t){this.currentTab!==t&&(this.currentTab=t,this.tabHistory=this.tabHistory.filter(r=>r!==t).concat(t))}reorderTabs(t){this.tabs=t}_notifyTabClosed(t){this.tabs=this.tabs.filter(r=>r!==t),this.tabHistory=this.tabHistory.filter(r=>r!==t),this.currentTab===t&&(this.currentTab=this.tabHistory.at(-1)||null)}}class fg extends Ci{constructor(t){super(`${t.type==="file"?"Файл":"Каталог"} '${t.name}' уже существует в этом каталоге`)}}class $h extends Ci{constructor(t){super(`'${t.path}' доступен только для чтения`)}}class b$ extends Ci{constructor(){super("Не задано имя файл или каталога")}}class yme{constructor(t,r,n){this.type="file",this.itemId=Uv(),this.isDeleted=!1,this.onRemoved=new Wn(!0),this.name=t,this.nameUC=t.toUpperCase(),this.parent=n,this.size=r.size||0,this.klass=r.cls?new lme(this,r.cls):null,this.stt=r.stt?new Cme(this,r.stt):null,this.scene=r.scene?new Sme(this,r.scene):null,this.matrix=r.mat?new wme(this,r.mat):null,this.binary=typeof r.base64=="string"?new bme(this,r.base64,this.size):null,this.image=r.image||null,this.video=r.video||null,this.audio=r.audio||null,this.ttf=r.ttf||null,this.cursor=r.cursor||null,this.mesh=r.mesh||null,vt(this,{isDeleted:Pe.ref,name:Pe.ref,nameUC:Pe.ref,parent:Pe.ref,rename:be,remove:be,toJSON:!1})}get isPrjFile(){return this.parent.lib.vfs.projectFile===this}get lib(){return this.parent.lib}get path(){return this.parent.path+"/"+this.name}get isReadonly(){return this.parent.isReadonly}get canEdit(){return!this.isReadonly}get hasRelativePath(){return!this.lib.isDefault}rename(t){if(!this.canEdit)throw new $h(this);if(t=JP(t),!t||this.name===t)return;const r=t.toUpperCase();if(this.nameUC!==r){const n=this.parent.getEntry(r);if(n)throw new fg(n);this.nameUC=r}this.name=t,this.parent._notifyFileRenamed(),this._notifyContentChanged()}remove(){if(!this.canEdit)throw new $h(this);this.parent._notifyFileRemoved(this),this._remove()}toJSON(){const{image:t,video:r,cursor:n,stt:o,binary:i,scene:s,klass:a,audio:c,matrix:d,ttf:h,mesh:f}=this;return{size:i?.byteLength??on(this.size),cls:a?.toJSON(),image:t,scene:s?.data,video:r,cursor:n,stt:o?.data,base64:i?.base64,audio:c,mat:d?.data,ttf:h,mesh:f}}_notifyParentDeleted(){this._remove()}_notifyParentChanged(t){this.parent=t}_notifyContentChanged(){this.lib._notifyFilesChanged()}_remove(){this.isDeleted=!0,this._notifyContentChanged(),this.onRemoved.dispatch(this)}}class bme{constructor(t,r,n){this._data=null,this.file=t,this.isTextFile=/\.(txt|json|config)$/i.test(t.name),this.byteLength=n,this._base64=r,vt(this,{byteLength:Pe.ref,setData:be})}get data(){return this._data||(this._data=bC(this._base64)),this._data}get base64(){if(!this._base64){const{_data:t}=this;return this._base64=t?Fv(t):""}return this._base64}setData(t){this._data=t,this._base64="",this.byteLength=t.byteLength,this.file._notifyContentChanged()}}class wme{constructor(t,r){this.file=t,this.data=r,vt(this,{data:!1,setData:be})}setData(t){this.data=t,this.file._notifyContentChanged()}}class Sme{constructor(t,r){this.file=t,this.data=r,vt(this,{data:Pe.ref,setData:be})}setData(t){this.data=t,this.file._notifyContentChanged()}}class Cme{constructor(t,r){this.file=t,this.data=r,vt(this,{data:!1,setData:be})}setData(t){this.data=t,this.file._notifyContentChanged()}}class cb{constructor(t,r){this.dirs=[],this.files=[],this.isSearchDir=!1,this.isDeleted=!1,this.type="dir",this.itemId=Uv(),this.name=t,this.nameUC=t.toUpperCase(),this.parent=r instanceof cb?r:null,this.lib=r instanceof w$?r:r.lib,vt(this,{name:Pe.ref,nameUC:Pe.ref,isDeleted:Pe.ref,parent:Pe.ref,lib:Pe.ref,dirs:Pe.ref,files:Pe.ref,isSearchDir:Pe.ref,rename:be,remove:be,insertEntry:be,createDir:be,createFile:be,setSearchDirMarker:be,getDir:!1,getEntry:!1,getFile:!1,hasAncestor:!1,recursive:!1,resolveDir:!1,resolveFile:!1})}get path(){const{parent:t}=this;return t?t.path+"/"+this.name:this.name}get isReadonly(){return this.lib.isReadonly}get canCreateFiles(){return!this.isReadonly}get isProjectRootDir(){return this.lib.vfs.projectRootDir===this}get canEdit(){return!!this.parent&&!this.isReadonly}get canAddToSearchDir(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasRelativePath(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasFiles(){return this.files.length>0||this.dirs.some(t=>t.hasFiles)}rename(t){if(!this.canEdit)throw new $h(this);if(t=JP(t),!t||this.name===t)return;const r=t.toUpperCase();if(this.nameUC!==r){const n=this.parent?.getEntry(r);if(n)throw new fg(n);this.nameUC=r}this.name=t,this.parent?._notifyDirRenamed(),this.hasFiles&&this.lib._notifyFilesChanged()}remove(){if(!this.parent||this.isReadonly)throw new $h(this);this.parent._notifyDirRemoved(this);const t=new Set;this.removeRecursive(t),this.lib.vfs._notifyDirsRemoved(t)}insertEntry(t){if(!t.parent||t.parent===this)return;if(!this.canCreateFiles)throw new $h(this);if(!t.canEdit)throw new $h(t);const r=this.getEntry(t.name);if(r)throw new fg(r);const n=t.type==="file"||t.hasFiles;n&&t.lib._notifyFilesChanged(),t.type==="file"?(t.parent._notifyFileRemoved(t),this.files=this.files.concat(t).sort(Ku)):(t.parent._notifyDirRemoved(t),this.dirs=this.dirs.concat(t).sort(Ku)),t._notifyParentChanged(this),n&&this.lib._notifyFilesChanged(),this.lib.vfs._notifyEntriesMoved()}createDir(t){if(!t)throw new b$;const r=this.getEntry(t);if(r){if(r.type==="dir")return r;throw new fg(r)}const n=new cb(t,this);return this.dirs=this.dirs.concat(n).sort(Ku),n}createFile(t,r){const n=this._createFile(t,r);return this.lib._notifyFilesChanged(),n}setSearchDirMarker(t){this.isSearchDir=t}getDir(t){const r=t.toUpperCase();return this.dirs.find(n=>n.nameUC===r)||null}getFile(t){const r=t.toUpperCase();return this.files.find(n=>n.nameUC===r)||null}getEntry(t){const r=t.toUpperCase();return this.files.find(n=>n.nameUC===r)||this.dirs.find(n=>n.nameUC===r)||null}resolveDir(t){if(!t)return this;const r=t.split("/");let n=this;for(let o=0;o<r.length;++o){const i=n.getDir(r[o]);if(!i)return null;n=i}return n}resolveFile(t){if(!t)return null;const r=t.lastIndexOf("/");return r<0?this.getFile(t):this.resolveDir(t.slice(0,r))?.resolveFile(t.slice(r+1))||null}_createFile(t,r){if(!t)throw new b$;const n=this.getEntry(t);if(n)throw new fg(n);const o=new yme(t,r,this);return this.files=this.files.concat(o).sort(Ku),o}_notifyDirRemoved(t){this.dirs=this.dirs.filter(r=>r!==t)}_notifyFileRemoved(t){this.files=this.files.filter(r=>r!==t)}_notifyDirRenamed(){this.dirs=this.dirs.slice().sort(Ku)}_notifyFileRenamed(){this.files=this.files.slice().sort(Ku)}_notifyParentChanged(t){this.parent=t,this.lib!==t.lib&&this.updateTreeAndLibRecursive(t.lib)}updateTreeAndLibRecursive(t){this.lib=t,this.dirs.forEach(r=>r.updateTreeAndLibRecursive(t))}removeRecursive(t){this.isDeleted=!0,t.add(this),this.dirs.forEach(r=>r.removeRecursive(t)),this.files.forEach(r=>r._notifyParentDeleted()),this.dirs=[],this.files=[]}hasAncestor(t){return this===t||this.parent?.hasAncestor(t)||!1}*recursive(){for(const t of this.dirs)yield*t.recursive();for(const t of this.files)yield t}}class w${constructor(t,r,{isDefault:n=!1,isReadonly:o=!1}={}){this.isDirty=!1,this.vfs=t,this.isDefault=n,this.isReadonly=n||o,this.rootDir=new cb(r,this),vt(this,{isDirty:Pe.ref,setDirtyMarker:be,toJSON:!1})}setDirtyMarker(t){this.isDirty=t}toJSON(){function t(r,n="",o=[]){for(const i of r.dirs)t(i,n+i.name+"/",o);for(const i of r.files){const s=n+i.name;o.push({path:s,...i.toJSON()})}return o}return{version:Tk,files:t(this.rootDir)}}_notifyFilesChanged(){this.isDirty=!0}}class xme{constructor(){this.libs=[],this.projectFile=null,this.onDirsRemoved=new Wn,this.onEntriesMoved=new Wn,vt(this,{libs:Pe.ref,projectFile:!1,createLibrary:be,resolveDir:!1,resolveFile:!1,setProjectFile:!1})}get projectRootDir(){return this.projectFile?.parent||null}setProjectFile(t){this.projectFile=t}createLibrary(t,{files:r},n){const o=new w$(this,t,n);for(const i of r){const s=i.path.split("/");let a=o.rootDir;for(let c=0;c<s.length-1;++c)a=a.createDir(s[c]);a._createFile(s[s.length-1],i)}return this.libs=this.libs.concat(o),o}resolveDir(t){const r=this.getRootDir(t);return r&&r.resolveDir(t.slice(r.name.length+1))}resolveFile(t){const r=this.getRootDir(t);return r&&r.resolveFile(t.slice(r.name.length+1))}_notifyDirsRemoved(t){this.onDirsRemoved.dispatch(t)}_notifyEntriesMoved(){this.onEntriesMoved.dispatch()}getRootDir(t){const r=t.toUpperCase();let n=null;for(const o of this.libs){const{rootDir:i}=o;r.startsWith(i.nameUC)&&(!n||n.name.length<i.name.length)&&(n=i)}return n}}class _me{constructor(){this.type="all",this.text="",this.textUC="",vt(this,{textUC:Pe.ref,type:Pe.ref,text:Pe.ref,isActive:Kn,setType:be,setText:be,isFilePassing:!1})}get isActive(){const{type:t,text:r}=this;return t!=="all"||r.length>1}setType(t){this.type=t}setText(t){this.text=t,this.textUC=t.toUpperCase()}isFilePassing(t){const{type:r,textUC:n}=this,o=r==="all"||r==="klass"&&!!t.klass||r==="image"&&!!t.image,i=!n||(t.klass?t.klass.nameUC+" "+t.nameUC:t.nameUC).includes(n);return o&&i}}class Eme{constructor(t){this.projectLoader=t,this.onProjectOpen=new Al,this.onProjectClose=new Al,this.afterCycle=new Al,this.classes=new Ple,this.pluginFunctions={},this.handlers={closed:new Set,error:new Set,shell:new Set,write:new Set,afterCycle:new Set},this.projects=[],this.compiler=new Lk,this.pluginNames=[],this.optionalPlugins=[],this.prevProjects=[],this.paused=!1,this.showed=new Set}pause(){this.paused=!0}continue(){this.paused=!1}addProject({filepath:t,searchDirs:r,dir:n,stt:o,settings:i}){Vn.debugProject&&console.log(`Открывается ${t}`);const s=Symbol(t.toString());let a;try{i.plugins?.forEach(d=>{const h=this.optionalPlugins.find(({plugin:f})=>f.name===d);if(!h)throw Error(`Проект требует плагин '${d}'`);this.addPlugin(h.plugin,h.opts),Vn.debugProject&&console.log(`Загружен плагин '${d}'`)}),r.forEach(d=>{const h=!i.nonRecursive||d===this.projectLoader.stdlibDir;d.forEach(f=>{if(!f.cls||this.classes.hasFile(f))return;const g=new Ile({id:s,data:f.cls,file:f,compiler:this.compiler,modelGlobals:this.pluginFunctions});g.isFunction&&this.compiler.addUserFunc(g.getUserFunctionSignature()),this.classes.add(g)},h)});const c=this.classes.get(i.rootClass);if(!c)throw Error(`${t}: Корневой имидж ${i.rootClass} не существует.`);a=new Fle({kernel:this,id:s,filepath:t,dir:n,rootKlass:c,state:o})}catch(c){throw this.classes.unload(s),c}return this.setProjects(this.projects.concat(a)),this.onProjectOpen.dispatch(a),a}compute(){if(this.paused)return!0;if(this.prevProjects!==this.projects){const r=this.prevProjects.filter(n=>!this.projects.includes(n));this.prevProjects=this.projects,r.forEach(n=>{Vn.debugProject&&console.log(`Закрывается ${n.id.description}`),this.onProjectClose.dispatch(n),this.classes.unload(n.id)})}if(!this.projects.length)return!1;const t=this.projects[this.projects.length-1];try{t.root.compute(),this.afterCycle.dispatch()}catch(r){throw r instanceof dy?new dy(`Проект ${t.id.description}, ${r.message}`,r.original):r}return this.handlers.afterCycle.forEach(r=>r()),!0}setProjects(t){this.projects=t}log(t,r){Vn.logMessage&&console.info(r?`${r.path()}: ${t}`:t)}handleExe(t,r){const n=t.lastIndexOf(".exe"),o=n<0?t:t.substring(0,n);return this.handlers.shell.forEach(i=>i(o,"","",r??0)),!0}handleShell(t,r,n,o){return this.handlers.shell.forEach(i=>i(t,r,n,o)),!0}handleWrite(t,r,n){const o=t.path.toString();this.handlers.write.forEach(i=>i(o,r)),n&&IC(new Blob([r],{type:"text/plain"}),t.path.basename())}addPlugin(t,r){this.pluginNames.includes(t.name)||(t.deps?.forEach(n=>{if(!this.pluginNames.includes(n))throw Error(`Плагин '${t.name}' зависит от '${n}'`)}),this.pluginNames.push(t.name),t.register((n,o,i)=>{const s=this.compiler.addFunc(n,o);this.pluginFunctions[s]=i}),t.setup?.(this,r))}addOptionalPlugin(t,r){this.optionalPlugins.push({plugin:t,opts:r})}_functionNotImplemented(t,r){if(this.showed.size===this.showed.add(t.toUpperCase()).size)return;const n=`${t} не реализована`;console.warn(r?`${r.path()}: ${n}`:n)}}class Tme{constructor(t,r,n){this.kernel=t,this.initial=r,this.diag={iterations:0,missingCommands:[]},this._status="closed",this.loop=null,this.speed="smooth",this.computer=new Wu(n)}loadPlugin(t,r){return this.kernel.addOptionalPlugin(t,r),this}set({speed:t=this.speed}){return this.speed=t,this}get status(){return this._status}play(){return this.loop?this:(this.kernel.addProject(this.initial),this.diag.iterations=0,this.loop=()=>{let t;try{t=this.kernel.compute()}catch(r){if(!(r instanceof dy))throw r;console.error(r.original);const n=r.message;return this._status="error",this.kernel.handlers.error.forEach(o=>o(n)),!1}return t?++this.diag.iterations:(this.loop=null,this._status="closed",this.kernel.handlers.closed.forEach(r=>r())),t},this.computer.run(this.loop),this._status="playing",this)}close(){return this.computer.stop(),this._status==="error"?(this.kernel.setProjects([]),this.kernel.compute(),this.loop=null,this._status="closed"):(this.kernel.setProjects([]),this.loop?.()),this}pause(){return this.computer.running&&(this.computer.stop(),this._status="paused"),this}continue(){return!this.computer.running&&this.loop&&(this.computer.run(this.loop),this._status="playing"),this}step(){return!this.computer.running&&this.loop&&this.loop(),this}on(t,r){return this.kernel.handlers[t].add(r),this}off(t,r){const n=this.kernel.handlers[t];return r?n.delete(r):this.kernel.handlers[t].clear(),this}}let JT=class{constructor(t=""){this.name=t,this.type="folder",this.items=new Map}};class S${constructor(t,r={}){this.path=t,this.type="file",this.size=null,this.cls=null,this.image=null,this.scene=null,this.video=null,this.audio=null,this.ttf=null,this.cursor=null,this.stt=null,this.mat=null,this.base64=null,this.mesh=null,this.set(r)}set({size:t=this.size,cls:r=this.cls,image:n=this.image,scene:o=this.scene,video:i=this.video,audio:s=this.audio,ttf:a=this.ttf,cursor:c=this.cursor,stt:d=this.stt,mat:h=this.mat,mesh:f=this.mesh,base64:g=this.base64}){return this.size=t,this.cls=r,this.image=n,this.scene=o,this.video=i,this.audio=s,this.ttf=a,this.cursor=c,this.stt=d,this.mat=h,this.mesh=f,this.base64=g,this}}class Hl{constructor(t,r,n){if(this.fs=t,this.parts=r,this.str=null,r[0].length!==2&&r[0][1]!==":")throw Error("Неправильное имя тома диска");this.partsUC=n??r.map(o=>o.toUpperCase())}static splitPath(t){return t.split(/[/\\]/).map(r=>r.trim()).filter(r=>r.length>0)}resolve(t){const r=Hl.splitPath(t);if(!r.length)return this;const n=r[0].length===2&&r[0][1]===":",o=n?[r[0]]:this.parts.slice(),i=n?[r[0].toUpperCase()]:this.partsUC.slice();for(let s=n?1:0;s<r.length;++s){const a=r[s];a===".."?o.length>1&&(o.pop(),i.pop()):a!=="."&&(o.push(a),i.push(a.toUpperCase()))}return new Hl(this.fs,o,i)}toString(){return this.str?this.str:this.str=this.parts.join("\\")}basename(){return this.parts[this.parts.length-1]}equals(t){const r=this.partsUC,n=t.partsUC;if(r.length!==n.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==n[o])return!1;return!0}startsWith(t){const r=this.partsUC,n=t.partsUC;if(r.length<n.length)return!1;for(let o=0;o<n.length;++o)if(r[o]!==n[o])return!1;return!0}static getFolder(t,r,n){let o=t;for(let i=0;i<r.length-(n?0:1);++i){const s=o.items.get(r[i]);if(!s||s.type!=="folder")return null;o=s}return o}create(t,r){const{partsUC:n}=this,o=Hl.getFolder(this.fs,n);if(!o)return null;const i=n[n.length-1],s=o.items.get(i);if(t==="folder")return s||o.items.set(i,new JT),this;if(s)return s.type!=="file"?null:(r&&s.set(r),s);const a=new S$(this,r);return o.items.set(i,a),a}createWithDirs(t){const{parts:r,partsUC:n}=this;let o=this.fs;for(let c=0;c<r.length-1;++c){let d=o.items.get(n[c]);if(!d)d=new JT(r[c]),o.items.set(n[c],d);else if(d.type==="file")throw Error(`Невозможно создать директорию ${this}: файл ${d.path} уже существует.`);o=d}const i=n[n.length-1];if(o.items.has(i))throw Error(`Невозможно создать директорию ${this}: файл уже существует.`);const a=new S$(this,t);return o.items.set(i,a),a}file(){const{partsUC:t}=this,r=Hl.getFolder(this.fs,t);if(!r)return Vn.debugFile&&console.warn(`${this.toString()} не существует`),null;const n=t[t.length-1],o=r.items.get(n);return o?o.type!=="file"?(Vn.debugFile&&console.warn(`${this.toString()} является каталогом`),null):o:(Vn.debugFile&&console.warn(`${this.toString()} не существует`),null)}forEach(t,r){const{partsUC:n}=this,o=Hl.getFolder(this.fs,n,!0);o&&o.items.forEach(function i(s){s.type==="folder"?r&&s.items.forEach(i):t(s)})}resolveMany(){const{partsUC:t}=this,r=Hl.getFolder(this.fs,t);if(!r)return[];const n=t[t.length-1];if(n.includes("*")){const[s,a]=n.split("*");let c;return!s&&!a?c=[".","..",...r.items]:c=[...r.items].filter(([d])=>d.startsWith(s)&&d.endsWith(a)),c.map(d=>{if(typeof d=="string")return{name:d,size:0};const h=d[1];return h.type==="folder"?{name:h.name,size:0}:{name:h.path.basename(),size:h.size??0}})}const o=r.items.get(n);return o?[o.type==="folder"?{name:o.name,size:0}:{name:o.path.basename(),size:o.size??0}]:[]}}class Mme extends Error{constructor(t){super(`Проект ${t} загружается`)}}class Ome{constructor(t){this.loadedLibs=new Set,this.fs=new JT,this.stdlibDir=new Hl(this.fs,["D:",Vp.mount]),this.projects=t.map(r=>{const n=this.path(r.filepath||"project.spj");return{config:r,path:n,state:{type:"notLoaded"}}})}path(t,r="C:"){return new Hl(this.fs,[r].concat(t.split("/")))}exists(t){return this.projects.some(({path:r})=>r.equals(t))}async open(t){const r=this.projects.find(({path:i})=>i.equals(t));if(!r)return null;const n=r.state;if(n.type==="loading")throw new Mme(r.path);if(n.type==="loaded")return n.parsedProjectConfig;r.state={type:"loading"};let o;try{const{path:i,config:s}=r,a=s.libs.concat(Vp).map(async y=>{let b;if(y.id){if(this.loadedLibs.size===this.loadedLibs.add(y.id).size)return;b=y.id===Vp.src?"D:":"C:"}else{if(this.loadedLibs.size===this.loadedLibs.add(y.src).size)return;b=y.src===Vp.src?"D:":"C:"}const{files:v}=y.data||await y0(y,{cache:Vn.cache});v.forEach(C=>this.path(y.mount?`${y.mount}/${C.path}`:C.path,b).createWithDirs(C))});await Promise.all(a);const{searchDirs:c,stt:d}=s.data,h=i.resolve(".."),f=[this.stdlibDir,h].concat(c?.map(y=>this.path(y))??[]),g=d?this.path(d):h.resolve("_preload.stt"),m=g.file()?.stt;m||console.warn(`Файл состояния ${g} не существует`),o={settings:s.data,filepath:i,dir:h,searchDirs:f,stt:m}}catch(i){throw r.state={type:"notLoaded"},i}return r.state={type:"loaded",parsedProjectConfig:o},o}}function Rme(e){e.style.transformOrigin="top left",e.insertAdjacentHTML("afterend",`
<div id="mobzoom-icons-container">
    <img draggable="false" id="mobzoom-in-btn" src="images/zoom-in-icon.svg" />
    <img draggable="false" id="mobzoom-out-btn" src="images/zoom-out-icon.svg" />
</div>`);const r=document.getElementById("mobzoom-in-btn");r.oncontextmenu=N=>N.preventDefault();const n=document.getElementById("mobzoom-out-btn");n.oncontextmenu=N=>N.preventDefault();const o=new Wu(e.ownerDocument.defaultView);let i=1;const s=()=>{if(!isNaN(a))i*=1.05;else if(!isNaN(c))i*=.95;else return!1;return i=Math.min(Math.max(i,.1),1),e.style.transform=`scale(${i})`,e.style.width=`${100/i}%`,e.style.height=`${100/i}%`,!0};let a=NaN;r.onpointerdown=N=>{isNaN(a)&&(o.run(s),r.setPointerCapture(a=N.pointerId))},r.onpointerup=N=>{a===N.pointerId&&(a=NaN)},r.onpointercancel=N=>{a===N.pointerId&&(a=NaN)};let c=NaN;n.onpointerdown=N=>{isNaN(c)&&(o.run(s),n.setPointerCapture(c=N.pointerId))},n.onpointerup=N=>{c===N.pointerId&&(c=NaN)},n.onpointercancel=N=>{c===N.pointerId&&(c=NaN)};const d=new Wu(e.ownerDocument.defaultView);let h=null;const f=new Map;let g=0,m=0;function y(N){if(!(f.size>2)){if(f.size<2){h=null,(Math.abs(g)>1||Math.abs(m)>1)&&d.run(()=>(g-=Math.sign(g)*.4,m-=Math.sign(m)*.4,e.scrollLeft-=g,e.scrollTop-=m,Math.abs(g)>1||Math.abs(m)>1));return}N.stopPropagation();{h=[...f.values()];const[P,L]=h;P.x-L.x,P.y-L.y}}}let b=null;function v(N){f.set(N.pointerId,{id:N.pointerId,x:N.screenX,y:N.screenY}),d.stop(),N.isPrimary&&(b=[N.clientX,N.clientY]),y(N)}function C(N){f.delete(N.pointerId),N.isPrimary&&(b=null,E.stop()),y(N)}const E=new Wu(e.ownerDocument.defaultView),T=100;let R=[0,0];function M(){const[N,P]=R;if(b){const $=N-b[0],B=P-b[1];if($**2+B**2<100)return!1}let L=0,D=0;if(N<T)L=N-T;else{const $=window.innerWidth-N;$<T&&(L=T-$)}if(L/=40,P<T)D=P-T;else{const $=window.innerHeight-P;$<T&&(D=T-$)}return D/=40,L&&(e.scrollLeft+=Math.E**Math.abs(L)*Math.sign(L)),D&&(e.scrollTop+=Math.E**Math.abs(D)*Math.sign(D)),!0}function I(N){if(!h&&N.isPrimary?(R[0]=N.clientX,R[1]=N.clientY,E.run(M)):E.stop(),!h)return;const P=f.get(N.pointerId);if(P){N.isPrimary||(N.stopPropagation(),g=N.screenX-P.x,m=N.screenY-P.y,e.scrollLeft-=g,e.scrollTop-=m);{const[L,D]=h;L.x-D.x,L.y-D.y}P.x=N.screenX,P.y=N.screenY}}e.addEventListener("pointerdown",v,{capture:!0}),e.addEventListener("pointerup",C),e.addEventListener("pointercancel",C),e.addEventListener("pointermove",I,{capture:!0})}const Ime=window.devicePixelRatio;function Pme(){const e=document.createElement("button");return e.style=`
        background: darkgray;
        border: none;
        font-size: 24px;
        cursor: pointer;
        position: absolute;
        right: 19px;
        top: 4px;
        border-radius: 12%;
        user-select: none;
    `,e.textContent="×",e}class kme{constructor(t,r,{popup:n,title:o,...i}){this.system=t,this.view=r,this.onClose=new Al,this.x=0,this.y=0,this.width=0,this.height=0,this.visible=!0,this.scale=1,this.scaleFactor=NaN,this.instantClose=!1,this.hideTimeout=0;const{root:s}=t;if(this.sizeWatcher=new Wu(s.ownerDocument.defaultView),this.origTitle=s.ownerDocument.title,!n&&o&&(s.ownerDocument.title=this.origTitle?`${this.origTitle} - ${o}`:o),this.title=o??"",this.popup=n||!1,this.set(i),s.appendChild(r),this.width=i.width||r.clientWidth,this.height=i.height||r.clientHeight,!n){if(i.showCloseButton&&t.firstWindow){const a=Pme();r.append(a),a.onclick=()=>this.onClose.dispatch(),this.instantClose=!0}Vn.adaptiveScaling?this.sizeWatcher.run(this.rescale.bind(this)):Vn.touchGestures&&(r.style.left="0px",r.style.top="0px")}}toTop(){}rescale(){const{system:t,view:r,width:n,height:o}=this,i=window.devicePixelRatio/Ime,s=t.root.clientWidth*i,a=t.root.clientHeight*i,c=s/(n||s),d=a/(o||a),h=Math.min(c,d,1);if(this.scaleFactor!==h){this.scaleFactor=h;const f=r.style;h<1?(f.left="0px",f.top="0px",f.transform=`scale(${h})`):(f.left="auto",f.top="auto",f.transform="none")}return!0}set({x:t=this.x,y:r=this.y,width:n=this.width,height:o=this.height,title:i=this.title,visible:s=this.visible,scale:a=this.scale}){const{view:c}=this,{style:d}=c,h=1/a;if(this.scale!==a&&(a===1?d.removeProperty("transform"):d.setProperty("transform",`scale(${a})`)),this.popup){if(this.x!==t){const f=this.system.firstWindow?.offsetLeft()||0;d.setProperty("left",t+f+"px")}if(this.y!==r){const f=this.system.firstWindow?.offsetTop()||0;d.setProperty("top",r+f+"px")}}return(this.width!==n||this.scale!==a)&&d.setProperty("width",n*h+"px"),(this.height!==o||this.scale!==a)&&d.setProperty("height",o*h+"px"),this.visible!==s&&(this.view.style.opacity=s?"1":"0",this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(()=>this.view.style.setProperty("display",s?"block":"none"),s?0:250)),this.x=t,this.y=r,this.width=n,this.height=o,this.title=i,this.visible=s,this.scale=a,this}offsetLeft(){return this.view.offsetLeft}offsetTop(){return this.view.offsetTop}remove(){this.view.style.opacity="0",setTimeout(()=>this.view.remove(),250)}close(){this.system._removeWindow(this),this.sizeWatcher.stop(),this.popup?this.remove():(this.remove(),this.system.root.ownerDocument.title=this.origTitle)}}class Dme{constructor(t){this.firstWindow=null,this.root=(typeof t=="string"?document.getElementById(t):t)||document.body,Vn.touchGestures&&Rme(this.root)}get screenWidth(){return this.root.clientWidth}get screenHeight(){return this.root.clientHeight}_removeWindow(t){this.firstWindow===t&&(this.firstWindow=null)}window(t,r){let{x:n,y:o}=r;t.style.setProperty("position","absolute"),r.popup?(n=Math.max(r.x||0,0),o=Math.max(r.y||0,0),r.height&&(o=Math.min(o,this.screenHeight-r.height-11)),t.style.left=n+"px",t.style.top=o+"px",t.style.boxShadow="13px 11px 6px 0px rgb(0 0 0 / 50%)",t.style.border="1px black solid",t.setAttribute("class","stratum-popup")):(t.style.transformOrigin="top left",t.setAttribute("class","stratum-window"),t.style.margin="0 auto",t.style.left="0px",t.style.right="0px"),t.style.setProperty("opacity","0"),t.style.setProperty("transition","opacity 250ms linear"),setTimeout(()=>t.style.setProperty("opacity","1")),t.style.setProperty("width",r.width?r.width+"px":"100%"),t.style.setProperty("height",r.height?r.height+"px":"100%");const i=new kme(this,t,{...r,x:n,y:o});return!r.popup&&!this.firstWindow&&(this.firstWindow=i),i}}class Ame{constructor(t){this.realWindow=t}create(t){return new ET(t,this.realWindow)}}async function Lme(e){const{projects:t}=e;if(!t.length)throw Error("Список проектов пуст");const r=new Ome(t),n=r.path(e.initial||t[0].filepath||"project.spj"),o=await r.open(n);if(!o)throw Error(`Проект ${n} не существует`);const i=new Eme(r),s=new Dme(Vn.root),a=s.root.ownerDocument.defaultView,d={sceneFactory:new Ame(a),windowFactory:s};return ZD.forEach(h=>i.addPlugin(h,d)),Ole.forEach(h=>i.addOptionalPlugin(h,d)),new Tme(i,o,a)}class Nme{constructor(){this.vars=[],vt(this,{vars:Pe.ref,add:be,clear:be,remove:be})}add(t){this.vars.includes(t)||(this.vars=this.vars.concat(t))}remove(t){this.vars=this.vars.filter(r=>r!==t)}clear(){this.vars=[]}}class Bme{constructor(t,{klassVar:r}){this.value="",this.schema=t,this.klassVar=r,this._updateValue(),vt(this,{value:Pe.ref,setValue:be})}get id(){return this.klassVar.id.toString()}get name(){return this.klassVar.name}get type(){return this.klassVar.type}setValue(t){const{klassVar:r,schema:n}=this,o=$p(r.type,t);if(o===null)return!1;const i=n._pSchema.setVarValue(r,o);return i&&this._updateValue(),i}_updateValue(){const{klassVar:t,schema:r}=this,n=r._pSchema.getVarValue(t);this.value=HD(t.type,n)}}const Fme={};class eM{constructor({pSchema:t,parent:r=null,root:n=this,player:o}){this.itemId=Uv(),this.isActive=!1,this.root=n,this.parent=r,this.player=o,this._pSchema=t,this.vars=t.klass.vars.list.map(i=>new Bme(this,{klassVar:i})),this.children=t.children.map(i=>new eM({root:n,player:o,pSchema:i,parent:this})),vt(this,{isActive:Pe.ref,makeActive:be})}get imageData(){const{image:t}=this._pSchema.klass;if(!t||t.prior==="icon")return null;const r=t.scene?.data;return r?.objects?.length?r:null}get icon(){return this._pSchema.klass.image?.icon||Fme}makeActive(){this.isActive=!0,this.player._setActiveSchema(this)}toString(){const{_pSchema:t}=this;return t.ndata?`${t.klass.name} #${t.ndata.key}`:t.klass.name}_updateValues(){this.vars.forEach(t=>t._updateValue())}}const jme=4;class Vme{constructor(t,{player:r}){this.isMinimized=!1,this.activeSchema=null,this.rootSchema=null,this.iterationCount=0,this.onPlayerClosed=()=>{this.mgr._onPlayerClosed()},this.onPlayerCycleCompleted=()=>{++this.iterationCount;const n=this.player.kernel.projects.at(-1);if(!n){this.rootSchema=null;return}if((!this.rootSchema||this.rootSchema._pSchema!==n.root)&&(this.rootSchema=new eM({pSchema:n.root,player:this}),this.activeSchema=this.rootSchema,this.markedVars.clear(),this.mgr._updateMarkedVars(this.rootSchema)),this.status==="paused"||!((this.iterationCount-1)%jme)){const o=new Set;this.activeSchema&&o.add(this.activeSchema),this.markedVars.vars.forEach(i=>{o.add(i.schema)}),o.forEach(i=>{i._updateValues()})}},this.player=r,this.mgr=t,this.status=r.status,this.markedVars=new Nme,vt(this,{isMinimized:Pe.ref,status:Pe.ref,activeSchema:Pe.ref,rootSchema:Pe.ref,iterationCount:Pe.ref,onPlayerClosed:be,onPlayerCycleCompleted:be,close:be,continue:be,maximize:be,minimize:be,pause:be,step:be}),r.on("closed",this.onPlayerClosed),r.on("afterCycle",this.onPlayerCycleCompleted)}updatePlayerStatus(){this.status=this.player.status}close(){this.player.close(),this.onPlayerClosed()}pause(){this.player.pause(),this.updatePlayerStatus()}continue(){this.player.continue(),this.updatePlayerStatus()}step(){this.player.step(),this.updatePlayerStatus()}minimize(){this.isMinimized=!0}maximize(){this.isMinimized=!1}_setActiveSchema(t){this.activeSchema=t}}class $me{constructor(t){this.onBeforeRun=new Wn,this.mountRef=_.createRef(),this.status="closed",this.player=null,this.markedVars=new Set,this.project=t,vt(this,{player:Pe.ref,status:Pe.ref,openPlayer:no})}addMarkedVar(t){this.markedVars.add(t)}removeMarkedVar(t){this.markedVars.delete(t)}*openPlayer(){if(this.status!=="closed")return;const t=this.mountRef.current;if(!t)return;this.status="initializing",this.onBeforeRun.dispatch(),Vn.cache="no-cache",Vn.debugProject=!0,Vn.logMessage=!0,Vn.root=t;const{project:r}=this;r.saveSchemaStateToFile();const n=r.toRemoteProjectData(!0),o=[n].concat(r.subProjects.map(a=>a.config)),i=n.filepath;console.log({projects:o,initial:i});let s;try{s=yield Lme({projects:o,initial:i})}catch(a){throw this._onPlayerClosed(),alert(a.message),a}s.on("error",alert);try{s.play()}catch(a){throw this._onPlayerClosed(),alert(`При запуске проекта произошла ошибка:
`+a.message),a}this.player=new Vme(this,{player:s}),this.status="running"}_onPlayerClosed(){this.status="closed",this.player=null}_updateMarkedVars(t){this.markedVars.forEach(r=>{let n=r.schema;const o=[n.key];for(;;){const a=n.parent;if(!a||!a.key)break;o.push(a.key),n=a}let i=t;for(const a of o.reverse()){const c=i.children.find(d=>d._pSchema.ndata?.key===a);if(!c)return;i=c}const s=i.vars.find(a=>a.name===r.name);s&&this.player?.markedVars.add(s)})}}class C${constructor(t,r,n,o){this.project=t,this.id=r,this.name=n,this.config=o,vt(this,{remove:be})}remove(){this.project._removeSubProject(this)}}class zme{constructor(t){this.isDirty=!1,this.libs=[],this.subProjects=[],this.vfsFilter=new _me,this.vfsFilterVisible=new md,this.player=new $me(this),this.tabs=new vme,this.onCollapseFilesButtonClick=new Wn,this.onNodeSelected=new Wn,this.vfsFileTransfer=new QT("fileContent"),this.selectSchema=r=>{this.onNodeSelected.dispatch(r)},this.apiClient=t.apiClient,this.id=t.id,this.accessKey=t.accessKey,this.name=t.name,this.vfs=t.vfs,this.schema=t.schema,this.klassLibraryBuilder=t.classLibraryBuilder,this.plugins=t.plugins,this.projectFile=t.projectFile,this.sttFile=t.sttFile,this.libs=t.libs,this.subProjects=t.subProjects.map(({id:r,name:n,config:o})=>new C$(this,r,n,o)),this.editorMultiplexer=new nme({fileContentTransfer:this.vfsFileTransfer,getFileUploader:this.getFileUploader.bind(this)}),this.syncer=new cme({apiClient:t.apiClient,project:this}),vt(this,{isDirty:Pe.ref,libs:Pe.ref,subProjects:Pe.ref,plugins:Pe.ref,sttFile:Pe.ref,setRecursiveKlassSearch:be,addKlassSearchDir:be,removeKlassSearchDir:be,addSubProject:be,createNewKlass:be,openBinaryFile:be,focusOnNode:be,openFile:be,openKlassCode:be,openKlassProps:be,openKlassScene:be,openMatrixFile:be,openSceneFile:be,openSchema:be,saveSchemaStateToFile:be,setDirtyMarker:be,getFileUploader:!1,toRemoteProjectData:!1})}close(){return this.hasChanges&&!confirm("Несохраненные изменения будут потеряны, продолжить?")?!1:(this.player.player?.close(),this.tabs.tabs.every(t=>t.close()))}get hasChanges(){return this.isDirty||this.schema.isStateChanged||this.libs.some(t=>t.hasChanges)}get klassLibrary(){return this.klassLibraryBuilder.klassLibrary}get recursiveKlassSearch(){return this.klassLibraryBuilder.recursiveSearch}get klassSearchDirs(){return this.klassLibraryBuilder.searchDirs}addMarkedVar(t){this.player.addMarkedVar(t)}removeMarkedVar(t){this.player.removeMarkedVar(t)}setDirtyMarker(t){this.isDirty=t}setRecursiveKlassSearch(t){const{klassLibraryBuilder:r}=this;r.setRecursiveSearch(t),r.rebuildLibrary(),this.isDirty=!0}addKlassSearchDir(t){const{klassLibraryBuilder:r}=this;r.addSearchDir(t),r.rebuildLibrary(),this.isDirty=!0}removeKlassSearchDir(t){const{klassLibraryBuilder:r}=this;r.removeSearchDir(t),r.rebuildLibrary(),this.isDirty=!0}addSubProject(t,r,n){const o=new C$(this,t,r,n);return this.subProjects=this.subProjects.concat(o).sort((i,s)=>wp(i.config.filepath||"",s.config.filepath||"")),this.isDirty=!0,o}createNewKlass(t,r){Ck(t);const n=this.klassLibrary.get(t);if(n)throw new m$(n);const o=_h(r,t,"cls"),i=r.createFile(o,{cls:xk(t)});return this.klassLibraryBuilder.rebuildLibrary(),i.klass}saveSchemaStateToFile(){const{schema:t}=this;if(!t.isStateChanged)return;const r=t.getState(!0);this.sttFile||(this.sttFile=this.projectFile.parent.createFile("_preload.stt",{stt:r}).stt),this.sttFile.setData(r),t.markStateUnchanged()}openSchema(t){const r=this.editorMultiplexer.openSchemaEditor(t);if(this.tabs.addTab(r)){const{scene:n}=r.editor;n.onNodeSelected.add(this.selectSchema),n.onSaved.add(()=>{n.schema&&(this.schema.hasNode(n.schema)||this.schema.applyChanges())})}return r}focusOnNode(t,r=!1){const n=this.openSchema(t.parent||t);t.parent?n.editor.scene.children.find(o=>o.schema===t)?.select(r):n.editor.scene.selection?.reset()}openKlassProps(t){this.tabs.addTab(this.editorMultiplexer.openKlassPropsEditor(t))}openKlassScene(t){this.openSchema(new lb(t,this.klassLibrary,{isFake:!0}))}openKlassCode(t){const r=this.klassLibrary,n=this.editorMultiplexer.openCodeEditor({klass:t,lib:r,pluginsGetter:()=>[]});if(this.tabs.addTab(n)){const{editor:o}=n;o.onError.add(i=>{alert(i)}),o.onSaved.add(()=>this.schema.applyChanges())}}openFile(t){if(t.klass){this.openKlassProps(t.klass);return}if(t.scene){this.tabs.addTab(this.editorMultiplexer.openFileSceneEditor(t.scene));return}if(t.binary){this.tabs.addTab(this.editorMultiplexer.openBinaryFileEditor(t.binary));return}}openSceneFile(t){}openMatrixFile(t){}openBinaryFile(t){}getFileUploader(t){const r=this.libs.find(n=>n.vfsLib===t);return r?new $q(this.apiClient,r.id):null}toRemoteProjectData(t){const r={rootClass:this.schema.klass.name,searchDirs:this.klassLibraryBuilder.searchDirs.map(n=>n.path),nonRecursive:!this.klassLibraryBuilder.recursiveSearch,stt:this.sttFile?.file.path,plugins:this.plugins};return{filepath:this.projectFile.path,libs:this.libs.map(n=>n.toRemoteFilesData(t)),data:r}}_removeSubProject(t){this.subProjects=this.subProjects.filter(r=>r!==t),this.isDirty=!0}async export(){const t=await this.apiClient.getProjectPlayerZip(this.id);IC(t,`${this.id}.zip`)}}class Ume{constructor(t,r,n,o){this.id=t,this.name=r,this.contentDirname=n,this.vfsLib=o}get hasChanges(){return this.vfsLib.isDirty}remove(){}toRemoteFilesData(t){return{src:this.contentDirname,mount:this.vfsLib.rootDir.name,data:on(t&&this.vfsLib.toJSON()),hash:Date.now().toString()}}}class x${constructor({libDto:t,parent:r,selector:n}){this.selector=n,this.id=t.id,this.name=t.name,this.parent=r,this.contentDirname=t.contentDirname,vt(this,{getPath:!1})}getPath(){const t=this.parent.getPath();return t?t+"/"+this.name:this.name}}class tM{constructor({selector:t,projectDto:r,parent:n}){this.parent=n,this.selector=t,this.projectDto=r,vt(this,{select:be})}get id(){return this.projectDto.id}get name(){return this.projectDto.name}get config(){return this.projectDto.config}select(){this.selector._onProjectSelected(this)}}const Gme={id:0,name:""};class ub{constructor({selector:t,apiClient:r,dirDto:n=Gme,parent:o=null}){this.dirs=[],this.libs=[],this.projects=[],this.isChildrenFetching=!1,this.isChildrenFetched=!1,this.selector=t,this.apiClient=r,this.id=n.id,this.name=n.name,this.parent=o,vt(this,{isChildrenFetching:Pe.ref,isChildrenFetched:Pe.ref,libs:Pe.ref,dirs:Pe.ref,projects:Pe.ref,clear:be,fetchChildren:no,createNewDir:no,createNewLibrary:no,createNewProject:no,getPath:!1})}*fetchChildren(){if(this.isChildrenFetching||this.isChildrenFetched)return;const{apiClient:t,selector:r}=this;this.isChildrenFetching=!0;let n;try{this.id?n=yield t.getDirContent(this.id,{libs:!0,projects:!0}):n=yield t.getRootDirContent({libs:!0,projects:!0})}finally{this.isChildrenFetching=!1}this.isChildrenFetched=!0,this.dirs=n.dirs.map(o=>new ub({selector:r,parent:this,apiClient:t,dirDto:o})).sort((o,i)=>wp(o.name,i.name)),n.libs&&(this.libs=n.libs.map(o=>new x$({selector:r,parent:this,apiClient:t,libDto:o})).sort((o,i)=>wp(o.name,i.name))),n.projects&&(this.projects=n.projects?.map(o=>new tM({selector:r,parent:this,projectDto:o})).sort((o,i)=>wp(o.name,i.name)))}clear(){this.isChildrenFetched=!1,this.dirs=[],this.libs=[]}*createNewDir(t){const{apiClient:r,selector:n}=this,{dir:o,created:i}=yield r.createDir(t,this.id);if(!i)throw new Ci(`Каталог '${o.name}' уже существует`);const s=new ub({dirDto:o,selector:n,apiClient:r,parent:this});return this.dirs=this.dirs.concat(s),s}*createNewLibrary(t){const{apiClient:r,selector:n}=this,{library:o,created:i}=yield r.createLib(t,this.id);if(!i)throw new Ci(`Библиотека '${o.name}' уже существует`);const s=new x$({libDto:o,selector:n,apiClient:r,parent:this});return this.libs=this.libs.concat(s),s}*createNewProject(t,r,n){const{selector:o,apiClient:i}=this,{project:s,created:a}=yield i.createProject({name:t,config:r,parentDirId:this.id,libIds:[n.id]});if(!a)throw new Ci(`Проект '${s.name}' уже существует`);const c=new tM({selector:o,parent:this,projectDto:s});return this.projects=this.projects.concat(c),c}getPath(){const t=this.parent?.getPath();return t?t+"/"+this.name:this.name}}class _${constructor(t,r=!1){this.onProjectSelected=new Wn,this.isProjectCreationInProgress=!1,this.apiClient=t,this.libsMode=r,this.root=new ub({selector:this,apiClient:t}),vt(this,{isProjectCreationInProgress:Pe.ref,createNewProject:no,getDirById:!1})}*createNewProject(t){const r=t.getPath(),n=prompt(`Введите название проекта (будет создан в ${r?`папке '${r}'`:"корневой папке"})`);if(!n)return;let o;this.isProjectCreationInProgress=!0;try{const i=yield t.createNewLibrary(n),s="project.spj",a="root";yield this.apiClient.updateLibraryIndex(i.id,{version:Tk,files:[{path:s},{path:"root.cls",cls:xk(a)}]});const c=i.getPath(),d={data:{rootClass:a},libs:[{src:i.contentDirname,mount:c}],filepath:c+"/"+s};o=yield t.createNewProject(n,d,i)}catch(i){if(i instanceof EC){alert(i.message);return}throw i}finally{this.isProjectCreationInProgress=!1}this.onProjectSelected.dispatch(o)}getDirById(t){return(function r(n){if(n.id===t)return n;for(const o of n.dirs){const i=r(o);if(i)return i}return null})(this.root)}_onProjectSelected(t){this.onProjectSelected.dispatch(t)}}class Hme{constructor({apiClient:t}){this.loadingMessage="Инициализация редактора",this.currentProject=null,this.ctxMenu=new Jge,this.currentModalDialog=_.createRef(),this.activeLeftPanelActiveView=new Xge("schema"),this.mainMenuVisible=new md,this.loginFormVisible=new md,this.leftPanelMinimized=new md,this.rightPanelMinimized=new md,this.subProjectSelectorVisible=new md,this.librarySelectorVisible=new md,this.onNewSession=i=>{Oq(this.getLocalStorageCredentialsKey(),i),this.onLogin()},this.onBeforeLogout=()=>{this.closeCurrentProject()&&(this.apiClient.removeAuthData(),Rq(this.getLocalStorageCredentialsKey()),this.projectSelector.root.clear(),this.mainMenuVisible.setFalse(),this.loginFormVisible.setTrue())},this.onProjectSelected=i=>{this.mainMenuVisible.setFalse(),!(i.id===this.currentProject?.id||!this.closeCurrentProject())&&(jq(i.id),i instanceof tM&&"subprojects"in i.projectDto?this.changeProject(i.projectDto):this.loadProjectById(i.id))},this.onPopState=i=>{this.loginFormVisible.isTrue||(i.preventDefault(),this.mainMenuVisible.setFalse(),this.tryLoadPreviousProject())},this.onBeforeUnload=i=>{const{currentProject:s}=this;s&&(s.tabs.tabs.length||s.hasChanges)&&i.preventDefault()},this.apiClient=t,t.onError.add(i=>alert("API: "+i)),(this.projectSelector=new _$(t)).onProjectSelected.add(this.onProjectSelected),(this.subProjectSelector=new _$(t)).onProjectSelected.add(({id:i,name:s,config:a})=>{this.currentProject?.addSubProject(i,s,a),this.subProjectSelectorVisible.setFalse()});const o=this.accountSettings=new Qge(t);o.onLogin.add(this.onNewSession),o.onBeforeLogout.add(this.onBeforeLogout),vt(this,{currentProject:Pe.ref,loadingMessage:Pe.ref,openSubProject:be,onPopState:be,init:no,changeProject:no,loadProjectById:no}),window.addEventListener("popstate",this.onPopState),window.addEventListener("beforeunload",this.onBeforeUnload),window.addEventListener("error",({error:i})=>alert(i.message)),window.addEventListener("keydown",Yge.bind(null,this))}*init(){let t=!1;const r=Mq(this.getLocalStorageCredentialsKey());r&&(this.loadingMessage="Вход в аккаунт",t=yield this.accountSettings.restorePrevSession(r)),this.loadingMessage="",t?this.onLogin():this.onBeforeLogout()}openSubProject(t){this.onProjectSelected(t)}onLogin(){this.projectSelector.root.fetchChildren(),this.loginFormVisible.setFalse(),this.tryLoadPreviousProject()}closeCurrentProject(){const{currentProject:t}=this;return t&&!t.close()?!1:(this.currentProject=null,!0)}tryLoadPreviousProject(){const t=Fq();if(t){if(this.currentProject?.id===t||!this.closeCurrentProject())return;this.loadProjectById(t)}else{if(!this.closeCurrentProject())return;this.mainMenuVisible.setTrue()}}*loadProjectById(t){this.loadingMessage=`Получение информации о проекте 'id:${t}'`;let r;try{r=yield this.apiClient.getProject(t)}catch(n){throw this.mainMenuVisible.setTrue(),n}finally{this.loadingMessage=""}this.changeProject(r)}*changeProject(t){let r;try{const{config:n}=t,o=`Загрузка ресурсов проекта '${n.filepath||t.name}'`;console.log(o),console.log(t),this.loadingMessage=o;const i=new xme,s=y0(Vp),a=t.libs.map(async M=>{const{id:I,name:N,writeAccess:P,contentDirname:L}=M,D=await y0({src:L},{cache:"no-cache"}),$=n.libs.find(U=>U.src===L).mount,B=i.createLibrary($,D,{isReadonly:!P});return new Ume(I,N,L,B)}),c=yield Promise.all(a),d=i.resolveFile(n.filepath||"project.spj");if(!d)throw new Ci(`Файл проекта '${n.filepath}' не существует`);const h=d.parent;i.setProjectFile(d);const f=yield s,g=i.createLibrary("Стандартная библиотека",f,{isDefault:!0});this.loadingMessage="Построение схемы имиджей";const m=new tme(i);m.setRecursiveSearch(!n.data.nonRecursive),m.setStandardSearchDir(g.rootDir),m.addSearchDir(h),n.data.searchDirs?.forEach(M=>{const I=i.resolveDir(M);I?m.addSearchDir(I):console.warn(`Каталог поиска имиджей '${M}' не существует`)}),m.rebuildLibrary();const y=m.klassLibrary,b=n.data.rootClass,v=y.get(b);if(!v)throw new Ci(`Корневой имидж '${b}' не существует`);const C=n.data.stt,E=C?i.resolveFile(C):h.getFile("_preload.stt"),T=E?.type==="file"?E.stt:null,R=new lb(v,y,T?.data);r=new zme({apiClient:this.apiClient,id:t.id,accessKey:t.accessKey,name:t.name,vfs:i,schema:R,classLibraryBuilder:m,plugins:n.data.plugins||[],projectFile:d,sttFile:T,libs:c,subProjects:t.subprojects})}catch(n){throw alert(`При загрузке проекта произошла ошибка:
`+n.message),this.mainMenuVisible.setTrue(),n}finally{this.loadingMessage=""}this.currentProject=r,console.log(_k(r)),this.onProjectChanged(r)}onProjectChanged(t){t.focusOnNode(t.schema)}getLocalStorageCredentialsKey(){return`${Yu.localStoragePrefix}/session_data`}}class Nt{constructor(t=!1){const r=this;r.d=[],r[db]=r[db],r[gg]=r[gg],(typeof t!="boolean"||!t)&&vt(this,{props:Pe.ref})}get m(){return this.props.m}addDisposer(t){this.d.push(t)}}const pg=Nt.prototype,Wme=Object,Kme=Wme.assign,db="parent",gg="props",E$={vmFactory:(e,t)=>new e(t),Wrapper:_.Fragment},T$=_.createContext(null);function rM({value:e,children:t}){return _.createElement(T$.Provider,{value:e},t)}function nM(){return _.useContext(T$)}if(!_.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!vt)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var hb=tT();const fb=vC(hb);function qme(e){e()}function Yme(e){e||(e=qme),uue({reactionScheduler:e})}function Xme(e){return hue(e)}var Zme=1e4,Qme=1e4,Jme=(function(){function e(t){var r=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(n){n===void 0&&(n=Zme),clearTimeout(r.sweepTimeout),r.sweepTimeout=void 0;var o=Date.now();r.registrations.forEach(function(i,s){o-i.registeredAt>=n&&(r.finalize(i.value),r.registrations.delete(s))}),r.registrations.size>0&&r.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){r.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r,n){this.registrations.set(n,{value:r,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Qme))}}),e})(),eve=typeof FinalizationRegistry<"u"?FinalizationRegistry:Jme,oM=new eve(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),iM={exports:{}},sM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M$;function tve(){if(M$)return sM;M$=1;var e=di();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(f,g){var m=g(),y=n({inst:{value:m,getSnapshot:g}}),b=y[0].inst,v=y[1];return i(function(){b.value=m,b.getSnapshot=g,c(b)&&v({inst:b})},[f,m,g]),o(function(){return c(b)&&v({inst:b}),f(function(){c(b)&&v({inst:b})})},[f]),s(m),m}function c(f){var g=f.getSnapshot;f=f.value;try{var m=g();return!r(f,m)}catch{return!0}}function d(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return sM.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,sM}var O$;function R$(){return O$||(O$=1,iM.exports=tve()),iM.exports}var aM=R$();function I$(e){e.reaction=new Ya("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function rve(e,t){t===void 0&&(t="observed");var r=vr.useRef(null);if(!r.current){var n={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return oM.unregister(n),n.onStoreChange=a,n.reaction||(I$(n),n.stateVersion=Symbol()),function(){var c;n.onStoreChange=null,(c=n.reaction)===null||c===void 0||c.dispose(),n.reaction=null}},getSnapshot:function(){return n.stateVersion}};r.current=n}var o=r.current;o.reaction||(I$(o),oM.register(r,o,o)),vr.useDebugValue(o.reaction,Xme),aM.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var i,s;if(o.reaction.track(function(){try{i=e()}catch(a){s=a}}),s)throw s;return i}var lM,cM,P$=typeof Symbol=="function"&&Symbol.for,nve=(cM=(lM=Object.getOwnPropertyDescriptor(function(){},"name"))===null||lM===void 0?void 0:lM.configurable)!==null&&cM!==void 0?cM:!1,k$=P$?Symbol.for("react.forward_ref"):typeof _.forwardRef=="function"&&_.forwardRef(function(e){return null}).$$typeof,D$=P$?Symbol.for("react.memo"):typeof _.memo=="function"&&_.memo(function(e){return null}).$$typeof;function mg(e,t){var r;if(D$&&e.$$typeof===D$)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var n=(r=void 0)!==null&&r!==void 0?r:!1,o=e,i=e.displayName||e.name;if(k$&&e.$$typeof===k$&&(n=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(a,c){return rve(function(){return o(a,c)},i)};return s.displayName=e.displayName,nve&&Object.defineProperty(s,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(s.contextTypes=e.contextTypes),n&&(s=_.forwardRef(s)),s=_.memo(s),ive(e,s),s}var ove={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function ive(e,t){Object.keys(e).forEach(function(r){ove[r]||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}var uM;Yme(hb.unstable_batchedUpdates),uM=oM.finalizeAllImmediately;const pb=_.createContext(null),A$=(e,t,r={},n,o=e.$$typeof===Symbol.for("react.forward_ref"),i,s,a)=>(i=(c,d)=>(s=t(c),a=_.createElement(_.useState(()=>r.observer===!1?e:mg(e))[0],Kme({},c,{vm:s,ref:o?d:void 0})),n&&(a=_.createElement(pb.Provider,{value:s},a)),_.createElement(E$.Wrapper,null,a)),o&&(i=_.forwardRef(i)),i=_.memo(i,r.propsAreEqual),i),sve="onViewMounted",ave="onViewUpdated",lve="onViewUnmounted",cve="onViewMountedSync",uve="onViewUpdatedSync",dve="onViewUnmountedSync",L$=(e,t,r,n,o,i,s,a=_.useRef(!1))=>{e(()=>{a.current&&(i&&i(),t[r]&&t[r]()),a.current=!0}),e(()=>(t[n]&&t[n](),()=>{s&&s(),t[o]&&t[o]()}),[])},Dt=e=>(t,r)=>A$(t,(n,o)=>{const i=nM();return o=_.useContext(pb),o=_.useState(s=>(pg[db]=o,pg[gg]=n,s=E$.vmFactory(e,i),delete pg[db],delete pg[gg],s))[0],L$(_.useEffect,o,ave,sve,lve,null,()=>o.d=o.d.filter(s=>{s()})),L$(_.useLayoutEffect,o,uve,cve,dve,be(()=>o[gg]=n)),o},r,e.name||"Anonymous"),ko=()=>(e,t)=>A$(e,()=>_.useContext(pb),t);for(const[e,t]of[[NA,"autorun"],[nue,"reaction"]])pg[t]=function(){return this.d[this.d.push(e.apply(0,arguments))-1]};class p5e extends _.PureComponent{static{this.contextType=pb}get viewModel(){return this.context}}function ba(){return nM().app}function dM(){return nM().project}function N$(){return ba().currentModalDialog}function hve({app:e,children:t}){return x.jsx(rM,{value:{app:e},children:t})}function fve({project:e,children:t}){const r=ba();return x.jsx(rM,{value:{app:r,project:e},children:t})}class pve extends Nt{constructor(){super()}}const vg={black:"#000",white:"#fff"},zh={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Uh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Gc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Gh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ja={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},yg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},gve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Wl(e,...t){const r=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${r} for the full message.`}const bg="$$material";function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(null,arguments)}function mve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function vve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var yve=(function(){function e(r){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vve(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=mve(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e})(),pi="-ms-",gb="-moz-",tn="-webkit-",B$="comm",hM="rule",fM="decl",bve="@import",F$="@keyframes",wve="@layer",Sve=Math.abs,mb=String.fromCharCode,Cve=Object.assign;function xve(e,t){return Jo(e,0)^45?(((t<<2^Jo(e,0))<<2^Jo(e,1))<<2^Jo(e,2))<<2^Jo(e,3):0}function j$(e){return e.trim()}function _ve(e,t){return(e=t.exec(e))?e[0]:e}function rn(e,t,r){return e.replace(t,r)}function pM(e,t){return e.indexOf(t)}function Jo(e,t){return e.charCodeAt(t)|0}function wg(e,t,r){return e.slice(t,r)}function el(e){return e.length}function gM(e){return e.length}function vb(e,t){return t.push(e),e}function Eve(e,t){return e.map(t).join("")}var yb=1,Hh=1,V$=0,Bi=0,xo=0,Wh="";function bb(e,t,r,n,o,i,s){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:yb,column:Hh,length:s,return:""}}function Sg(e,t){return Cve(bb("",null,null,"",null,null,0),e,{length:-e.length},t)}function Tve(){return xo}function Mve(){return xo=Bi>0?Jo(Wh,--Bi):0,Hh--,xo===10&&(Hh=1,yb--),xo}function ns(){return xo=Bi<V$?Jo(Wh,Bi++):0,Hh++,xo===10&&(Hh=1,yb++),xo}function tl(){return Jo(Wh,Bi)}function wb(){return Bi}function Cg(e,t){return wg(Wh,e,t)}function xg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $$(e){return yb=Hh=1,V$=el(Wh=e),Bi=0,[]}function z$(e){return Wh="",e}function Sb(e){return j$(Cg(Bi-1,mM(e===91?e+2:e===40?e+1:e)))}function Ove(e){for(;(xo=tl())&&xo<33;)ns();return xg(e)>2||xg(xo)>3?"":" "}function Rve(e,t){for(;--t&&ns()&&!(xo<48||xo>102||xo>57&&xo<65||xo>70&&xo<97););return Cg(e,wb()+(t<6&&tl()==32&&ns()==32))}function mM(e){for(;ns();)switch(xo){case e:return Bi;case 34:case 39:e!==34&&e!==39&&mM(xo);break;case 40:e===41&&mM(e);break;case 92:ns();break}return Bi}function Ive(e,t){for(;ns()&&e+xo!==57;)if(e+xo===84&&tl()===47)break;return"/*"+Cg(t,Bi-1)+"*"+mb(e===47?e:ns())}function Pve(e){for(;!xg(tl());)ns();return Cg(e,Bi)}function kve(e){return z$(Cb("",null,null,null,[""],e=$$(e),0,[0],e))}function Cb(e,t,r,n,o,i,s,a,c){for(var d=0,h=0,f=s,g=0,m=0,y=0,b=1,v=1,C=1,E=0,T="",R=o,M=i,I=n,N=T;v;)switch(y=E,E=ns()){case 40:if(y!=108&&Jo(N,f-1)==58){pM(N+=rn(Sb(E),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:N+=Sb(E);break;case 9:case 10:case 13:case 32:N+=Ove(y);break;case 92:N+=Rve(wb()-1,7);continue;case 47:switch(tl()){case 42:case 47:vb(Dve(Ive(ns(),wb()),t,r),c);break;default:N+="/"}break;case 123*b:a[d++]=el(N)*C;case 125*b:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+h:C==-1&&(N=rn(N,/\f/g,"")),m>0&&el(N)-f&&vb(m>32?G$(N+";",n,r,f-1):G$(rn(N," ","")+";",n,r,f-2),c);break;case 59:N+=";";default:if(vb(I=U$(N,t,r,d,h,o,a,T,R=[],M=[],f),i),E===123)if(h===0)Cb(N,t,I,I,R,i,f,a,M);else switch(g===99&&Jo(N,3)===110?100:g){case 100:case 108:case 109:case 115:Cb(e,I,I,n&&vb(U$(e,I,I,0,0,o,a,T,o,R=[],f),M),o,M,f,a,n?R:M);break;default:Cb(N,I,I,I,[""],M,0,a,M)}}d=h=m=0,b=C=1,T=N="",f=s;break;case 58:f=1+el(N),m=y;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&Mve()==125)continue}switch(N+=mb(E),E*b){case 38:C=h>0?1:(N+="\f",-1);break;case 44:a[d++]=(el(N)-1)*C,C=1;break;case 64:tl()===45&&(N+=Sb(ns())),g=tl(),h=f=el(T=N+=Pve(wb())),E++;break;case 45:y===45&&el(N)==2&&(b=0)}}return i}function U$(e,t,r,n,o,i,s,a,c,d,h){for(var f=o-1,g=o===0?i:[""],m=gM(g),y=0,b=0,v=0;y<n;++y)for(var C=0,E=wg(e,f+1,f=Sve(b=s[y])),T=e;C<m;++C)(T=j$(b>0?g[C]+" "+E:rn(E,/&\f/g,g[C])))&&(c[v++]=T);return bb(e,t,r,o===0?hM:a,c,d,h)}function Dve(e,t,r){return bb(e,t,r,B$,mb(Tve()),wg(e,2,-2),0)}function G$(e,t,r,n){return bb(e,t,r,fM,wg(e,0,n),wg(e,n+1,-1),n)}function Kh(e,t){for(var r="",n=gM(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function Ave(e,t,r,n){switch(e.type){case wve:if(e.children.length)break;case bve:case fM:return e.return=e.return||e.value;case B$:return"";case F$:return e.return=e.value+"{"+Kh(e.children,n)+"}";case hM:e.value=e.props.join(",")}return el(r=Kh(e.children,n))?e.return=e.value+"{"+r+"}":""}function Lve(e){var t=gM(e);return function(r,n,o,i){for(var s="",a=0;a<t;a++)s+=e[a](r,n,o,i)||"";return s}}function Nve(e){return function(t){t.root||(t=t.return)&&e(t)}}function H$(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Bve=function(t,r,n){for(var o=0,i=0;o=i,i=tl(),o===38&&i===12&&(r[n]=1),!xg(i);)ns();return Cg(t,Bi)},Fve=function(t,r){var n=-1,o=44;do switch(xg(o)){case 0:o===38&&tl()===12&&(r[n]=1),t[n]+=Bve(Bi-1,r,n);break;case 2:t[n]+=Sb(o);break;case 4:if(o===44){t[++n]=tl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=mb(o)}while(o=ns());return t},jve=function(t,r){return z$(Fve($$(t),r))},W$=new WeakMap,Vve=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!W$.get(n))&&!o){W$.set(t,!0);for(var i=[],s=jve(r,i),a=n.props,c=0,d=0;c<s.length;c++)for(var h=0;h<a.length;h++,d++)t.props[d]=i[c]?s[c].replace(/&\f/g,a[h]):a[h]+" "+s[c]}}},$ve=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function K$(e,t){switch(xve(e,t)){case 5103:return tn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tn+e+gb+e+pi+e+e;case 6828:case 4268:return tn+e+pi+e+e;case 6165:return tn+e+pi+"flex-"+e+e;case 5187:return tn+e+rn(e,/(\w+).+(:[^]+)/,tn+"box-$1$2"+pi+"flex-$1$2")+e;case 5443:return tn+e+pi+"flex-item-"+rn(e,/flex-|-self/,"")+e;case 4675:return tn+e+pi+"flex-line-pack"+rn(e,/align-content|flex-|-self/,"")+e;case 5548:return tn+e+pi+rn(e,"shrink","negative")+e;case 5292:return tn+e+pi+rn(e,"basis","preferred-size")+e;case 6060:return tn+"box-"+rn(e,"-grow","")+tn+e+pi+rn(e,"grow","positive")+e;case 4554:return tn+rn(e,/([^-])(transform)/g,"$1"+tn+"$2")+e;case 6187:return rn(rn(rn(e,/(zoom-|grab)/,tn+"$1"),/(image-set)/,tn+"$1"),e,"")+e;case 5495:case 3959:return rn(e,/(image-set\([^]*)/,tn+"$1$`$1");case 4968:return rn(rn(e,/(.+:)(flex-)?(.*)/,tn+"box-pack:$3"+pi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tn+e+e;case 4095:case 3583:case 4068:case 2532:return rn(e,/(.+)-inline(.+)/,tn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(el(e)-1-t>6)switch(Jo(e,t+1)){case 109:if(Jo(e,t+4)!==45)break;case 102:return rn(e,/(.+:)(.+)-([^]+)/,"$1"+tn+"$2-$3$1"+gb+(Jo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~pM(e,"stretch")?K$(rn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Jo(e,t+1)!==115)break;case 6444:switch(Jo(e,el(e)-3-(~pM(e,"!important")&&10))){case 107:return rn(e,":",":"+tn)+e;case 101:return rn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tn+(Jo(e,14)===45?"inline-":"")+"box$3$1"+tn+"$2$3$1"+pi+"$2box$3")+e}break;case 5936:switch(Jo(e,t+11)){case 114:return tn+e+pi+rn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tn+e+pi+rn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tn+e+pi+rn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tn+e+pi+e+e}return e}var zve=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case fM:t.return=K$(t.value,t.length);break;case F$:return Kh([Sg(t,{value:rn(t.value,"@","@"+tn)})],o);case hM:if(t.length)return Eve(t.props,function(i){switch(_ve(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Kh([Sg(t,{props:[rn(i,/:(read-\w+)/,":"+gb+"$1")]})],o);case"::placeholder":return Kh([Sg(t,{props:[rn(i,/:(plac\w+)/,":"+tn+"input-$1")]}),Sg(t,{props:[rn(i,/:(plac\w+)/,":"+gb+"$1")]}),Sg(t,{props:[rn(i,/:(plac\w+)/,pi+"input-$1")]})],o)}return""})}},Uve=[zve],Gve=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var v=b.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var o=t.stylisPlugins||Uve,i={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var v=b.getAttribute("data-emotion").split(" "),C=1;C<v.length;C++)i[v[C]]=!0;a.push(b)});var c,d=[Vve,$ve];{var h,f=[Ave,Nve(function(b){h.insert(b)})],g=Lve(d.concat(o,f)),m=function(v){return Kh(kve(v),g)};c=function(v,C,E,T){h=E,m(v?v+"{"+C.styles+"}":C.styles),T&&(y.inserted[C.name]=!0)}}var y={key:r,sheet:new yve({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return y.sheet.hydrate(a),y},vM={exports:{}},an={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q$;function Hve(){if(q$)return an;q$=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function T(M){if(typeof M=="object"&&M!==null){var I=M.$$typeof;switch(I){case t:switch(M=M.type,M){case c:case d:case n:case i:case o:case f:return M;default:switch(M=M&&M.$$typeof,M){case a:case h:case y:case m:case s:return M;default:return I}}case r:return I}}}function R(M){return T(M)===d}return an.AsyncMode=c,an.ConcurrentMode=d,an.ContextConsumer=a,an.ContextProvider=s,an.Element=t,an.ForwardRef=h,an.Fragment=n,an.Lazy=y,an.Memo=m,an.Portal=r,an.Profiler=i,an.StrictMode=o,an.Suspense=f,an.isAsyncMode=function(M){return R(M)||T(M)===c},an.isConcurrentMode=R,an.isContextConsumer=function(M){return T(M)===a},an.isContextProvider=function(M){return T(M)===s},an.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},an.isForwardRef=function(M){return T(M)===h},an.isFragment=function(M){return T(M)===n},an.isLazy=function(M){return T(M)===y},an.isMemo=function(M){return T(M)===m},an.isPortal=function(M){return T(M)===r},an.isProfiler=function(M){return T(M)===i},an.isStrictMode=function(M){return T(M)===o},an.isSuspense=function(M){return T(M)===f},an.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===n||M===d||M===i||M===o||M===f||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===y||M.$$typeof===m||M.$$typeof===s||M.$$typeof===a||M.$$typeof===h||M.$$typeof===v||M.$$typeof===C||M.$$typeof===E||M.$$typeof===b)},an.typeOf=T,an}var Y$;function Wve(){return Y$||(Y$=1,vM.exports=Hve()),vM.exports}var yM,X$;function Kve(){if(X$)return yM;X$=1;var e=Wve(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=o;function s(y){return e.isMemo(y)?o:i[y.$$typeof]||t}var a=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function m(y,b,v){if(typeof b!="string"){if(g){var C=f(b);C&&C!==g&&m(y,C,v)}var E=c(b);d&&(E=E.concat(d(b)));for(var T=s(y),R=s(b),M=0;M<E.length;++M){var I=E[M];if(!r[I]&&!(v&&v[I])&&!(R&&R[I])&&!(T&&T[I])){var N=h(b,I);try{a(y,I,N)}catch{}}}}return y}return yM=m,yM}Kve();var qve=!0;function Z$(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(n+=o+" ")}),n}var bM=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||qve===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},wM=function(t,r,n){bM(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function Yve(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Xve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zve=/[A-Z]|^ms/g,Qve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Q$=function(t){return t.charCodeAt(1)===45},J$=function(t){return t!=null&&typeof t!="boolean"},SM=H$(function(e){return Q$(e)?e:e.replace(Zve,"-$&").toLowerCase()}),ez=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Qve,function(n,o,i){return rl={name:o,styles:i,next:rl},o})}return Xve[t]!==1&&!Q$(t)&&typeof r=="number"&&r!==0?r+"px":r};function _g(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return rl={name:o.name,styles:o.styles,next:rl},o.name;var i=r;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)rl={name:s.name,styles:s.styles,next:rl},s=s.next;var a=i.styles+";";return a}return Jve(e,t,r)}case"function":{if(e!==void 0){var c=rl,d=r(e);return rl=c,_g(e,t,d)}break}}var h=r;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function Jve(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=_g(e,t,r[o])+";";else for(var i in r){var s=r[i];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?n+=i+"{"+t[a]+"}":J$(a)&&(n+=SM(i)+":"+ez(i,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var c=0;c<s.length;c++)J$(s[c])&&(n+=SM(i)+":"+ez(i,s[c])+";");else{var d=_g(e,t,s);switch(i){case"animation":case"animationName":{n+=SM(i)+":"+d+";";break}default:n+=i+"{"+d+"}"}}}return n}var tz=/label:\s*([^\s;{]+)\s*(;|$)/g,rl;function Eg(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";rl=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,o+=_g(r,t,i);else{var s=i;o+=s[0]}for(var a=1;a<e.length;a++)if(o+=_g(r,t,e[a]),n){var c=i;o+=c[a]}tz.lastIndex=0;for(var d="",h;(h=tz.exec(o))!==null;)d+="-"+h[1];var f=Yve(o)+d;return{name:f,styles:o,next:rl}}var eye=function(t){return t()},rz=OC.useInsertionEffect?OC.useInsertionEffect:!1,nz=rz||eye,oz=rz||_.useLayoutEffect,iz=_.createContext(typeof HTMLElement<"u"?Gve({key:"css"}):null);iz.Provider;var CM=function(t){return _.forwardRef(function(r,n){var o=_.useContext(iz);return t(r,o,n)})},xb=_.createContext({}),xM={}.hasOwnProperty,_M="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",tye=function(t,r){var n={};for(var o in r)xM.call(r,o)&&(n[o]=r[o]);return n[_M]=t,n},rye=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return bM(r,n,o),nz(function(){return wM(r,n,o)}),null},nye=CM(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var o=e[_M],i=[n],s="";typeof e.className=="string"?s=Z$(t.registered,i,e.className):e.className!=null&&(s=e.className+" ");var a=Eg(i,void 0,_.useContext(xb));s+=t.key+"-"+a.name;var c={};for(var d in e)xM.call(e,d)&&d!=="css"&&d!==_M&&(c[d]=e[d]);return c.className=s,r&&(c.ref=r),_.createElement(_.Fragment,null,_.createElement(rye,{cache:t,serialized:a,isStringTag:typeof o=="string"}),_.createElement(o,c))}),oye=nye,sz=function(t,r){var n=arguments;if(r==null||!xM.call(r,"css"))return _.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=oye,i[1]=tye(t,r);for(var s=2;s<o;s++)i[s]=n[s];return _.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(sz||(sz={}));var iye=CM(function(e,t){var r=e.styles,n=Eg([r],void 0,_.useContext(xb)),o=_.useRef();return oz(function(){var i=t.key+"-global",s=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",i),s.hydrate([c])),o.current=[s,a],function(){s.flush()}},[t]),oz(function(){var i=o.current,s=i[0],a=i[1];if(a){i[1]=!1;return}if(n.next!==void 0&&wM(t,n.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}t.insert("",n,s,!1)},[t,n.name]),null});function Hc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Eg(t)}function Bs(){var e=Hc.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var sye=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aye=H$(function(e){return sye.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),lye=aye,cye=function(t){return t!=="theme"},az=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?lye:cye},lz=function(t,r,n){var o;if(r){var i=r.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(s){return t.__emotion_forwardProp(s)&&i(s)}:i}return typeof o!="function"&&n&&(o=t.__emotion_forwardProp),o},uye=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return bM(r,n,o),nz(function(){return wM(r,n,o)}),null},dye=function e(t,r){var n=t.__emotion_real===t,o=n&&t.__emotion_base||t,i,s;r!==void 0&&(i=r.label,s=r.target);var a=lz(t,r,n),c=a||az(o),d=!c("as");return function(){var h=arguments,f=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var g=h[0];f.push(g[0]);for(var m=h.length,y=1;y<m;y++)f.push(h[y],g[y])}var b=CM(function(v,C,E){var T=d&&v.as||o,R="",M=[],I=v;if(v.theme==null){I={};for(var N in v)I[N]=v[N];I.theme=_.useContext(xb)}typeof v.className=="string"?R=Z$(C.registered,M,v.className):v.className!=null&&(R=v.className+" ");var P=Eg(f.concat(M),C.registered,I);R+=C.key+"-"+P.name,s!==void 0&&(R+=" "+s);var L=d&&a===void 0?az(T):c,D={};for(var $ in v)d&&$==="as"||L($)&&(D[$]=v[$]);return D.className=R,E&&(D.ref=E),_.createElement(_.Fragment,null,_.createElement(uye,{cache:C,serialized:P,isStringTag:typeof T=="string"}),_.createElement(T,D))});return b.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=o,b.__emotion_styles=f,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+s}}),b.withComponent=function(v,C){var E=e(v,H({},r,C,{shouldForwardProp:lz(b,C,!0)}));return E.apply(void 0,f)},b}},hye=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],EM=dye.bind(null);hye.forEach(function(e){EM[e]=EM(e)});var TM={exports:{}},MM,cz;function fye(){if(cz)return MM;cz=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return MM=e,MM}var OM,uz;function pye(){if(uz)return OM;uz=1;var e=fye();function t(){}function r(){}return r.resetWarningCache=t,OM=function(){function n(s,a,c,d,h,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},OM}var dz;function gye(){return dz||(dz=1,TM.exports=pye()()),TM.exports}var mye=gye();const Oe=vC(mye);function vye(e){return e==null||Object.keys(e).length===0}function yye(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?o=>t(vye(o)?r:o):t;return x.jsx(iye,{styles:n})}function hz(e,t){return EM(e,t)}function bye(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const fz=[];function Wc(e){return fz[0]=e,Eg(fz)}var RM={exports:{}},xn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pz;function wye(){if(pz)return xn;pz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case e:switch(b=b.type,b){case r:case o:case n:case c:case d:case g:return b;default:switch(b=b&&b.$$typeof,b){case s:case a:case f:case h:return b;case i:return b;default:return v}}case t:return v}}}return xn.ContextConsumer=i,xn.ContextProvider=s,xn.Element=e,xn.ForwardRef=a,xn.Fragment=r,xn.Lazy=f,xn.Memo=h,xn.Portal=t,xn.Profiler=o,xn.StrictMode=n,xn.Suspense=c,xn.SuspenseList=d,xn.isContextConsumer=function(b){return y(b)===i},xn.isContextProvider=function(b){return y(b)===s},xn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},xn.isForwardRef=function(b){return y(b)===a},xn.isFragment=function(b){return y(b)===r},xn.isLazy=function(b){return y(b)===f},xn.isMemo=function(b){return y(b)===h},xn.isPortal=function(b){return y(b)===t},xn.isProfiler=function(b){return y(b)===o},xn.isStrictMode=function(b){return y(b)===n},xn.isSuspense=function(b){return y(b)===c},xn.isSuspenseList=function(b){return y(b)===d},xn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===o||b===n||b===c||b===d||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===h||b.$$typeof===s||b.$$typeof===i||b.$$typeof===a||b.$$typeof===m||b.getModuleId!==void 0)},xn.typeOf=y,xn}var gz;function Sye(){return gz||(gz=1,RM.exports=wye()),RM.exports}var mz=Sye();function nl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function vz(e){if(_.isValidElement(e)||mz.isValidElementType(e)||!nl(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=vz(e[r])}),t}function zo(e,t,r={clone:!0}){const n=r.clone?{...e}:e;return nl(e)&&nl(t)&&Object.keys(t).forEach(o=>{_.isValidElement(t[o])||mz.isValidElementType(t[o])?n[o]=t[o]:nl(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&nl(e[o])?n[o]=zo(e[o],t[o],r):r.clone?n[o]=nl(t[o])?vz(t[o]):t[o]:n[o]=t[o]}),n}const Cye=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function xye(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...o}=e,i=Cye(t),s=Object.keys(i);function a(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${r})`}function c(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-n/100}${r})`}function d(g,m){const y=s.indexOf(m);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${r}) and (max-width:${(y!==-1&&typeof t[s[y]]=="number"?t[s[y]]:m)-n/100}${r})`}function h(g){return s.indexOf(g)+1<s.length?d(g,s[s.indexOf(g)+1]):a(g)}function f(g){const m=s.indexOf(g);return m===0?a(s[1]):m===s.length-1?c(s[m]):d(g,s[s.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:a,down:c,between:d,only:h,not:f,unit:r,...o}}function yz(e,t){if(!e.containerQueries)return t;const r=Object.keys(t).filter(n=>n.startsWith("@container")).sort((n,o)=>{const i=/min-width:\s*([0-9.]+)/;return+(n.match(i)?.[1]||0)-+(o.match(i)?.[1]||0)});return r.length?r.reduce((n,o)=>{const i=t[o];return delete n[o],n[o]=i,n},{...t}):t}function _ye(e,t){return t==="@"||t.startsWith("@")&&(e.some(r=>t.startsWith(`@${r}`))||!!t.match(/^@\d/))}function Eye(e,t){const r=t.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,o]=r,i=Number.isNaN(+n)?n||0:+n;return e.containerQueries(o).up(i)}function Tye(e){const t=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function r(i,s){i.up=(...a)=>t(e.breakpoints.up(...a),s),i.down=(...a)=>t(e.breakpoints.down(...a),s),i.between=(...a)=>t(e.breakpoints.between(...a),s),i.only=(...a)=>t(e.breakpoints.only(...a),s),i.not=(...a)=>{const c=t(e.breakpoints.not(...a),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const n={},o=i=>(r(n,i),n);return r(o),{...e,containerQueries:o}}const Mye={borderRadius:4};function Tg(e,t){return t?zo(e,t,{clone:!1}):e}const _b={xs:0,sm:600,md:900,lg:1200,xl:1536},bz={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${_b[e]}px)`},Oye={containerQueries:e=>({up:t=>{let r=typeof t=="number"?t:_b[t]||t;return typeof r=="number"&&(r=`${r}px`),e?`@container ${e} (min-width:${r})`:`@container (min-width:${r})`}})};function wa(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const i=n.breakpoints||bz;return t.reduce((s,a,c)=>(s[i.up(i.keys[c])]=r(t[c]),s),{})}if(typeof t=="object"){const i=n.breakpoints||bz;return Object.keys(t).reduce((s,a)=>{if(_ye(i.keys,a)){const c=Eye(n.containerQueries?n:Oye,a);c&&(s[c]=r(t[a],a))}else if(Object.keys(i.values||_b).includes(a)){const c=i.up(a);s[c]=r(t[a],a)}else{const c=a;s[c]=t[c]}return s},{})}return r(t)}function wz(e={}){return e.keys?.reduce((r,n)=>{const o=e.up(n);return r[o]={},r},{})||{}}function IM(e,t){return e.reduce((r,n)=>{const o=r[n];return(!o||Object.keys(o).length===0)&&delete r[n],r},t)}function Rye(e,...t){const r=wz(e),n=[r,...t].reduce((o,i)=>zo(o,i),{});return IM(Object.keys(r),n)}function Iye(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((o,i)=>{i<e.length&&(r[o]=!0)}):n.forEach(o=>{e[o]!=null&&(r[o]=!0)}),r}function PM({values:e,breakpoints:t,base:r}){const n=r||Iye(e,t),o=Object.keys(n);if(o.length===0)return e;let i;return o.reduce((s,a,c)=>(Array.isArray(e)?(s[a]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[i],i=a):s[a]=e,s),{})}function We(e){if(typeof e!="string")throw new Error(Wl(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Eb(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(n!=null)return n}return t.split(".").reduce((n,o)=>n&&n[o]!=null?n[o]:null,e)}function Tb(e,t,r,n=r){let o;return typeof e=="function"?o=e(r):Array.isArray(e)?o=e[r]||n:o=Eb(e,r)||n,t&&(o=t(o,n,e)),o}function go(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:o}=e,i=s=>{if(s[t]==null)return null;const a=s[t],c=s.theme,d=Eb(c,n)||{};return wa(s,a,f=>{let g=Tb(d,o,f);return f===g&&typeof f=="string"&&(g=Tb(d,o,`${t}${f==="default"?"":We(f)}`,f)),r===!1?g:{[r]:g}})};return i.propTypes={},i.filterProps=[t],i}function Pye(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const kye={m:"margin",p:"padding"},Dye={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Sz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Aye=Pye(e=>{if(e.length>2)if(Sz[e])e=Sz[e];else return[e];const[t,r]=e.split(""),n=kye[t],o=Dye[r]||"";return Array.isArray(o)?o.map(i=>n+i):[n+o]}),kM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],DM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...kM,...DM];function Mg(e,t,r,n){const o=Eb(e,t,!0)??r;return typeof o=="number"||typeof o=="string"?i=>typeof i=="string"?i:typeof o=="string"?o.startsWith("var(")&&i===0?0:o.startsWith("var(")&&i===1?o:`calc(${i} * ${o})`:o*i:Array.isArray(o)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),a=o[s];return i>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof o=="function"?o:()=>{}}function Mb(e){return Mg(e,"spacing",8)}function vd(e,t){return typeof t=="string"||t==null?t:e(t)}function Lye(e,t){return r=>e.reduce((n,o)=>(n[o]=vd(t,r),n),{})}function Nye(e,t,r,n){if(!t.includes(r))return null;const o=Aye(r),i=Lye(o,n),s=e[r];return wa(e,s,i)}function Cz(e,t){const r=Mb(e.theme);return Object.keys(e).map(n=>Nye(e,t,n,r)).reduce(Tg,{})}function ao(e){return Cz(e,kM)}ao.propTypes={},ao.filterProps=kM;function lo(e){return Cz(e,DM)}lo.propTypes={},lo.filterProps=DM;function xz(e=8,t=Mb({spacing:e})){if(e.mui)return e;const r=(...n)=>(n.length===0?[1]:n).map(i=>{const s=t(i);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}function Ob(...e){const t=e.reduce((n,o)=>(o.filterProps.forEach(i=>{n[i]=o}),n),{}),r=n=>Object.keys(n).reduce((o,i)=>t[i]?Tg(o,t[i](n)):o,{});return r.propTypes={},r.filterProps=e.reduce((n,o)=>n.concat(o.filterProps),[]),r}function Fs(e){return typeof e!="number"?e:`${e}px solid`}function js(e,t){return go({prop:e,themeKey:"borders",transform:t})}const Bye=js("border",Fs),Fye=js("borderTop",Fs),jye=js("borderRight",Fs),Vye=js("borderBottom",Fs),$ye=js("borderLeft",Fs),zye=js("borderColor"),Uye=js("borderTopColor"),Gye=js("borderRightColor"),Hye=js("borderBottomColor"),Wye=js("borderLeftColor"),Kye=js("outline",Fs),qye=js("outlineColor"),Rb=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Mg(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:vd(t,n)});return wa(e,e.borderRadius,r)}return null};Rb.propTypes={},Rb.filterProps=["borderRadius"],Ob(Bye,Fye,jye,Vye,$ye,zye,Uye,Gye,Hye,Wye,Rb,Kye,qye);const Ib=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Mg(e.theme,"spacing",8),r=n=>({gap:vd(t,n)});return wa(e,e.gap,r)}return null};Ib.propTypes={},Ib.filterProps=["gap"];const Pb=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Mg(e.theme,"spacing",8),r=n=>({columnGap:vd(t,n)});return wa(e,e.columnGap,r)}return null};Pb.propTypes={},Pb.filterProps=["columnGap"];const kb=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Mg(e.theme,"spacing",8),r=n=>({rowGap:vd(t,n)});return wa(e,e.rowGap,r)}return null};kb.propTypes={},kb.filterProps=["rowGap"];const Yye=go({prop:"gridColumn"}),Xye=go({prop:"gridRow"}),Zye=go({prop:"gridAutoFlow"}),Qye=go({prop:"gridAutoColumns"}),Jye=go({prop:"gridAutoRows"}),ebe=go({prop:"gridTemplateColumns"}),tbe=go({prop:"gridTemplateRows"}),rbe=go({prop:"gridTemplateAreas"}),nbe=go({prop:"gridArea"});Ob(Ib,Pb,kb,Yye,Xye,Zye,Qye,Jye,ebe,tbe,rbe,nbe);function qh(e,t){return t==="grey"?t:e}const obe=go({prop:"color",themeKey:"palette",transform:qh}),ibe=go({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qh}),sbe=go({prop:"backgroundColor",themeKey:"palette",transform:qh});Ob(obe,ibe,sbe);function os(e){return e<=1&&e!==0?`${e*100}%`:e}const abe=go({prop:"width",transform:os}),AM=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{const n=e.theme?.breakpoints?.values?.[r]||_b[r];return n?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:os(r)}};return wa(e,e.maxWidth,t)}return null};AM.filterProps=["maxWidth"];const lbe=go({prop:"minWidth",transform:os}),cbe=go({prop:"height",transform:os}),ube=go({prop:"maxHeight",transform:os}),dbe=go({prop:"minHeight",transform:os});go({prop:"size",cssProperty:"width",transform:os}),go({prop:"size",cssProperty:"height",transform:os});const hbe=go({prop:"boxSizing"});Ob(abe,AM,lbe,cbe,ube,dbe,hbe);const Og={border:{themeKey:"borders",transform:Fs},borderTop:{themeKey:"borders",transform:Fs},borderRight:{themeKey:"borders",transform:Fs},borderBottom:{themeKey:"borders",transform:Fs},borderLeft:{themeKey:"borders",transform:Fs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Rb},color:{themeKey:"palette",transform:qh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qh},backgroundColor:{themeKey:"palette",transform:qh},p:{style:lo},pt:{style:lo},pr:{style:lo},pb:{style:lo},pl:{style:lo},px:{style:lo},py:{style:lo},padding:{style:lo},paddingTop:{style:lo},paddingRight:{style:lo},paddingBottom:{style:lo},paddingLeft:{style:lo},paddingX:{style:lo},paddingY:{style:lo},paddingInline:{style:lo},paddingInlineStart:{style:lo},paddingInlineEnd:{style:lo},paddingBlock:{style:lo},paddingBlockStart:{style:lo},paddingBlockEnd:{style:lo},m:{style:ao},mt:{style:ao},mr:{style:ao},mb:{style:ao},ml:{style:ao},mx:{style:ao},my:{style:ao},margin:{style:ao},marginTop:{style:ao},marginRight:{style:ao},marginBottom:{style:ao},marginLeft:{style:ao},marginX:{style:ao},marginY:{style:ao},marginInline:{style:ao},marginInlineStart:{style:ao},marginInlineEnd:{style:ao},marginBlock:{style:ao},marginBlockStart:{style:ao},marginBlockEnd:{style:ao},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ib},rowGap:{style:kb},columnGap:{style:Pb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:os},maxWidth:{style:AM},minWidth:{transform:os},height:{transform:os},maxHeight:{transform:os},minHeight:{transform:os},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function fbe(...e){const t=e.reduce((n,o)=>n.concat(Object.keys(o)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function pbe(e,t){return typeof e=="function"?e(t):e}function gbe(){function e(r,n,o,i){const s={[r]:n,theme:o},a=i[r];if(!a)return{[r]:n};const{cssProperty:c=r,themeKey:d,transform:h,style:f}=a;if(n==null)return null;if(d==="typography"&&n==="inherit")return{[r]:n};const g=Eb(o,d)||{};return f?f(s):wa(s,n,y=>{let b=Tb(g,h,y);return y===b&&typeof y=="string"&&(b=Tb(g,h,`${r}${y==="default"?"":We(y)}`,y)),c===!1?b:{[c]:b}})}function t(r){const{sx:n,theme:o={},nested:i}=r||{};if(!n)return null;const s=o.unstable_sxConfig??Og;function a(c){let d=c;if(typeof c=="function")d=c(o);else if(typeof c!="object")return c;if(!d)return null;const h=wz(o.breakpoints),f=Object.keys(h);let g=h;return Object.keys(d).forEach(m=>{const y=pbe(d[m],o);if(y!=null)if(typeof y=="object")if(s[m])g=Tg(g,e(m,y,o,s));else{const b=wa({theme:o},y,v=>({[m]:v}));fbe(b,y)?g[m]=t({sx:y,theme:o,nested:!0}):g=Tg(g,b)}else g=Tg(g,e(m,y,o,s))}),!i&&o.modularCssLayers?{"@layer sx":yz(o,IM(f,g))}:yz(o,IM(f,g))}return Array.isArray(n)?n.map(a):a(n)}return t}const yd=gbe();yd.filterProps=["sx"];function mbe(e,t){const r=this;if(r.vars){if(!r.colorSchemes?.[e]||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(e);return n==="&"?t:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:t})}return r.palette.mode===e?t:{}}function Db(e={},...t){const{breakpoints:r={},palette:n={},spacing:o,shape:i={},...s}=e,a=xye(r),c=xz(o);let d=zo({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:c,shape:{...Mye,...i}},s);return d=Tye(d),d.applyStyles=mbe,d=t.reduce((h,f)=>zo(h,f),d),d.unstable_sxConfig={...Og,...s?.unstable_sxConfig},d.unstable_sx=function(f){return yd({sx:f,theme:this})},d}function vbe(e){return Object.keys(e).length===0}function ybe(e=null){const t=_.useContext(xb);return!t||vbe(t)?e:t}const bbe=Db();function Ab(e=bbe){return ybe(e)}function LM(e){const t=Wc(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function wbe({styles:e,themeId:t,defaultTheme:r={}}){const n=Ab(r),o=t&&n[t]||n;let i=typeof e=="function"?e(o):e;return o.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>LM(typeof s=="function"?s(o):s)):i=LM(i)),x.jsx(yye,{styles:i})}const Sbe=e=>{const t={systemProps:{},otherProps:{}},r=e?.theme?.unstable_sxConfig??Og;return Object.keys(e).forEach(n=>{r[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function NM(e){const{sx:t,...r}=e,{systemProps:n,otherProps:o}=Sbe(r);let i;return Array.isArray(t)?i=[n,...t]:typeof t=="function"?i=(...s)=>{const a=t(...s);return nl(a)?{...n,...a}:n}:i={...n,...t},{...o,sx:i}}const _z=e=>e,Ez=(()=>{let e=_z;return{configure(t){e=t},generate(t){return e(t)},reset(){e=_z}}})();function Tz(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Tz(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Tz(e))&&(n&&(n+=" "),n+=t);return n}function Cbe(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=e,i=hz("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(yd);return _.forwardRef(function(c,d){const h=Ab(r),{className:f,component:g="div",...m}=NM(c);return x.jsx(i,{as:g,ref:d,className:Ke(f,o?o(n):n),theme:t&&h[t]||h,...m})})}const xbe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xt(e,t,r="Mui"){const n=xbe[t];return n?`${r}-${n}`:`${Ez.generate(e)}-${t}`}function Kt(e,t,r="Mui"){const n={};return t.forEach(o=>{n[o]=Xt(e,o,r)}),n}function Mz(e){const{variants:t,...r}=e,n={variants:t,style:Wc(r),isProcessed:!0};return n.style===r||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=Wc(o.style))}),n}const _be=Db();function Yh(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function bd(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Ebe(e){return e?(t,r)=>r[e]:null}function Tbe(e,t,r){e.theme=Obe(e.theme)?r:e.theme[t]||e.theme}function Lb(e,t,r){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(o=>Lb(e,o,r));if(Array.isArray(n?.variants)){let o;if(n.isProcessed)o=r?bd(n.style,r):n.style;else{const{variants:i,...s}=n;o=r?bd(Wc(s),r):s}return Oz(e,n.variants,[o],r)}return n?.isProcessed?r?bd(Wc(n.style),r):n.style:r?bd(Wc(n),r):n}function Oz(e,t,r=[],n=void 0){let o;e:for(let i=0;i<t.length;i+=1){const s=t[i];if(typeof s.props=="function"){if(o??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(o))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&e.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(o??={...e,...e.ownerState,ownerState:e.ownerState},r.push(n?bd(Wc(s.style(o)),n):s.style(o))):r.push(n?bd(Wc(s.style),n):s.style)}return r}function Rz(e={}){const{themeId:t,defaultTheme:r=_be,rootShouldForwardProp:n=Yh,slotShouldForwardProp:o=Yh}=e;function i(a){Tbe(a,t,r)}return(a,c={})=>{bye(a,I=>I.filter(N=>N!==yd));const{name:d,slot:h,skipVariantsResolver:f,skipSx:g,overridesResolver:m=Ebe(Ibe(h)),...y}=c,b=d&&d.startsWith("Mui")||h?"components":"custom",v=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,C=g||!1;let E=Yh;h==="Root"||h==="root"?E=n:h?E=o:Rbe(a)&&(E=void 0);const T=hz(a,{shouldForwardProp:E,label:Mbe(),...y}),R=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(P){return Lb(P,I,P.theme.modularCssLayers?b:void 0)};if(nl(I)){const N=Mz(I);return function(L){return N.variants?Lb(L,N,L.theme.modularCssLayers?b:void 0):L.theme.modularCssLayers?bd(N.style,b):N.style}}return I},M=(...I)=>{const N=[],P=I.map(R),L=[];if(N.push(i),d&&m&&L.push(function(U){const W=U.theme.components?.[d]?.styleOverrides;if(!W)return null;const V={};for(const Y in W)V[Y]=Lb(U,W[Y],U.theme.modularCssLayers?"theme":void 0);return m(U,V)}),d&&!v&&L.push(function(U){const W=U.theme?.components?.[d]?.variants;return W?Oz(U,W,[],U.theme.modularCssLayers?"theme":void 0):null}),C||L.push(yd),Array.isArray(P[0])){const B=P.shift(),U=new Array(N.length).fill(""),q=new Array(L.length).fill("");let W;W=[...U,...B,...q],W.raw=[...U,...B.raw,...q],N.unshift(W)}const D=[...N,...P,...L],$=T(...D);return a.muiName&&($.muiName=a.muiName),$};return T.withConfig&&(M.withConfig=T.withConfig),M}}function Mbe(e,t){return void 0}function Obe(e){for(const t in e)return!1;return!0}function Rbe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ibe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const Fr=Rz();function wd(e,t,r=!1){const n={...t};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=o;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],a=t[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=c;n[i][d]=wd(s[d],a[d],r)}}}else i==="className"&&r&&t.className?n.className=Ke(e?.className,t?.className):i==="style"&&r&&t.style?n.style={...e?.style,...t?.style}:n[i]===void 0&&(n[i]=e[i])}return n}function Iz(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:wd(t.components[r].defaultProps,n)}function Pz({props:e,name:t,defaultTheme:r,themeId:n}){let o=Ab(r);return n&&(o=o[n]||o),Iz({theme:o,name:t,props:e})}const zr=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Pbe(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function BM(e,t=0,r=1){return Pbe(e,t,r)}function kbe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,o)=>o<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Kc(e){if(e.type)return e;if(e.charAt(0)==="#")return Kc(kbe(e));const t=e.indexOf("("),r=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Wl(9,e));let n=e.substring(t+1,e.length-1),o;if(r==="color"){if(n=n.split(" "),o=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Wl(10,o))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:o}}const Dbe=e=>{const t=Kc(e);return t.values.slice(0,3).map((r,n)=>t.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},Rg=(e,t)=>{try{return Dbe(e)}catch{return e}};function Nb(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.includes("rgb")?n=n.map((o,i)=>i<3?parseInt(o,10):o):t.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function kz(e){e=Kc(e);const{values:t}=e,r=t[0],n=t[1]/100,o=t[2]/100,i=n*Math.min(o,1-o),s=(d,h=(d+r/30)%12)=>o-i*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",c.push(t[3])),Nb({type:a,values:c})}function FM(e){e=Kc(e);let t=e.type==="hsl"||e.type==="hsla"?Kc(kz(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Abe(e,t){const r=FM(e),n=FM(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Vs(e,t){return e=Kc(e),t=BM(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Nb(e)}function Sd(e,t,r){try{return Vs(e,t)}catch{return e}}function Ig(e,t){if(e=Kc(e),t=BM(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Nb(e)}function fn(e,t,r){try{return Ig(e,t)}catch{return e}}function Pg(e,t){if(e=Kc(e),t=BM(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.includes("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Nb(e)}function pn(e,t,r){try{return Pg(e,t)}catch{return e}}function Lbe(e,t=.15){return FM(e)>.5?Ig(e,t):Pg(e,t)}function Bb(e,t,r){try{return Lbe(e,t)}catch{return e}}const Nbe=_.createContext(),Uo=()=>_.useContext(Nbe)??!1,Bbe=_.createContext(void 0);function Fbe(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const o=t.components[r];return o.defaultProps?wd(o.defaultProps,n,t.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?wd(o,n,t.components.mergeClassNameAndStyle):n}function jbe({props:e,name:t}){const r=_.useContext(Bbe);return Fbe({props:e,name:t,theme:{components:r}})}let Dz=0;function Vbe(e){const[t,r]=_.useState(e),n=e||t;return _.useEffect(()=>{t==null&&(Dz+=1,r(`mui-${Dz}`))},[t]),n}const Az={...OC}.useId;function kr(e){if(Az!==void 0){const t=Az();return e??t}return Vbe(e)}const Lz={theme:void 0};function $be(e){let t,r;return function(o){let i=t;return(i===void 0||o.theme!==r)&&(Lz.theme=o.theme,i=Mz(e(Lz)),t=i,r=o.theme),i}}function zbe(e=""){function t(...n){if(!n.length)return"";const o=n[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...n.slice(1))})`:`, ${o}`}return(n,...o)=>`var(--${e?`${e}-`:""}${n}${t(...o)})`}const Nz=(e,t,r,n=[])=>{let o=e;t.forEach((i,s)=>{s===t.length-1?Array.isArray(o)?o[Number(i)]=r:o&&typeof o=="object"&&(o[i]=r):o&&typeof o=="object"&&(o[i]||(o[i]=n.includes(i)?[]:{}),o=o[i])})},Ube=(e,t,r)=>{function n(o,i=[],s=[]){Object.entries(o).forEach(([a,c])=>{(!r||r&&!r([...i,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?n(c,[...i,a],Array.isArray(c)?[...s,a]:s):t([...i,a],c,s))})}n(e)},Gbe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function jM(e,t){const{prefix:r,shouldSkipGeneratingVar:n}=t||{},o={},i={},s={};return Ube(e,(a,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!n||!n(a,c))){const h=`--${r?`${r}-`:""}${a.join("-")}`,f=Gbe(a,c);Object.assign(o,{[h]:f}),Nz(i,a,`var(${h})`,d),Nz(s,a,`var(${h}, ${f})`,d)}},a=>a[0]==="vars"),{css:o,vars:i,varsWithDefaults:s}}function Hbe(e,t={}){const{getSelector:r=C,disableCssColorScheme:n,colorSchemeSelector:o,enableContrastVars:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...d}=e,{vars:h,css:f,varsWithDefaults:g}=jM(d,t);let m=g;const y={},{[c]:b,...v}=s;if(Object.entries(v||{}).forEach(([R,M])=>{const{vars:I,css:N,varsWithDefaults:P}=jM(M,t);m=zo(m,P),y[R]={css:N,vars:I}}),b){const{css:R,vars:M,varsWithDefaults:I}=jM(b,t);m=zo(m,I),y[c]={css:R,vars:M}}function C(R,M){let I=o;if(o==="class"&&(I=".%s"),o==="data"&&(I="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(I=`[${o}="%s"]`),R){if(I==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${s[R]?.palette?.mode||R})`]:{":root":M}};if(I)return e.defaultColorScheme===R?`:root, ${I.replace("%s",String(R))}`:I.replace("%s",String(R))}return":root"}return{vars:m,generateThemeVars:()=>{let R={...h};return Object.entries(y).forEach(([,{vars:M}])=>{R=zo(R,M)}),R},generateStyleSheets:()=>{const R=[],M=e.defaultColorScheme||"light";function I(L,D){Object.keys(D).length&&R.push(typeof L=="string"?{[L]:{...D}}:L)}I(r(void 0,{...f}),f);const{[M]:N,...P}=y;if(N){const{css:L}=N,D=s[M]?.palette?.mode,$=!n&&D?{colorScheme:D,...L}:{...L};I(r(M,{...$}),$)}return Object.entries(P).forEach(([L,{css:D}])=>{const $=s[L]?.palette?.mode,B=!n&&$?{colorScheme:$,...D}:{...D};I(r(L,{...B}),B)}),i&&R.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),R}}}function Wbe(e){return function(r){return e==="media"?`@media (prefers-color-scheme: ${r})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${r}"] &`:e==="class"?`.${r} &`:e==="data"?`[data-${r}] &`:`${e.replace("%s",r)} &`:"&"}}function ht(e,t,r=void 0){const n={};for(const o in e){const i=e[o];let s="",a=!0;for(let c=0;c<i.length;c+=1){const d=i[c];d&&(s+=(a===!0?"":" ")+t(d),a=!1,r&&r[d]&&(s+=" "+r[d]))}n[o]=s}return n}function Fb(e,t){return _.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}const Kbe=Db(),qbe=Fr("div",{name:"MuiStack",slot:"Root"});function Ybe(e){return Pz({props:e,name:"MuiStack",defaultTheme:Kbe})}function Xbe(e,t){const r=_.Children.toArray(e).filter(Boolean);return r.reduce((n,o,i)=>(n.push(o),i<r.length-1&&n.push(_.cloneElement(t,{key:`separator-${i}`})),n),[])}const Zbe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Qbe=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...wa({theme:t},PM({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n}))};if(e.spacing){const n=Mb(t),o=Object.keys(t.breakpoints.values).reduce((c,d)=>((typeof e.spacing=="object"&&e.spacing[d]!=null||typeof e.direction=="object"&&e.direction[d]!=null)&&(c[d]=!0),c),{}),i=PM({values:e.direction,base:o}),s=PM({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((c,d,h)=>{if(!i[c]){const g=d>0?i[h[d-1]]:"column";i[c]=g}}),r=zo(r,wa({theme:t},s,(c,d)=>e.useFlexGap?{gap:vd(n,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Zbe(d?i[d]:e.direction)}`]:vd(n,c)}}))}return r=Rye(t.breakpoints,r),r};function Jbe(e={}){const{createStyledComponent:t=qbe,useThemeProps:r=Ybe,componentName:n="MuiStack"}=e,o=()=>ht({root:["root"]},c=>Xt(n,c),{}),i=t(Qbe);return _.forwardRef(function(c,d){const h=r(c),f=NM(h),{component:g="div",direction:m="column",spacing:y=0,divider:b,children:v,className:C,useFlexGap:E=!1,...T}=f,R={direction:m,spacing:y,useFlexGap:E},M=o();return x.jsx(i,{as:g,ownerState:R,ref:d,className:Ke(M.root,C),...T,children:b?Xbe(v,b):v})})}function Bz(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vg.white,default:vg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Fz=Bz();function jz(){return{text:{primary:vg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VM=jz();function Vz(e,t,r,n){const o=n.light||n,i=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Pg(e.main,o):t==="dark"&&(e.dark=Ig(e.main,i)))}function $z(e,t,r,n,o){const i=o.light||o,s=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(i*100).toFixed(0)}%)`:r==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function ewe(e="light"){return e==="dark"?{main:Gc[200],light:Gc[50],dark:Gc[400]}:{main:Gc[700],light:Gc[400],dark:Gc[800]}}function twe(e="light"){return e==="dark"?{main:Uh[200],light:Uh[50],dark:Uh[400]}:{main:Uh[500],light:Uh[300],dark:Uh[700]}}function rwe(e="light"){return e==="dark"?{main:zh[500],light:zh[300],dark:zh[700]}:{main:zh[700],light:zh[400],dark:zh[800]}}function nwe(e="light"){return e==="dark"?{main:Gh[400],light:Gh[300],dark:Gh[700]}:{main:Gh[700],light:Gh[500],dark:Gh[900]}}function owe(e="light"){return e==="dark"?{main:Ja[400],light:Ja[300],dark:Ja[700]}:{main:Ja[800],light:Ja[500],dark:Ja[900]}}function iwe(e="light"){return e==="dark"?{main:yg[400],light:yg[300],dark:yg[700]}:{main:"#ed6c02",light:yg[500],dark:yg[900]}}function swe(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function $M(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:o,...i}=e,s=e.primary||ewe(t),a=e.secondary||twe(t),c=e.error||rwe(t),d=e.info||nwe(t),h=e.success||owe(t),f=e.warning||iwe(t);function g(v){return o?swe(v):Abe(v,VM.text.primary)>=r?VM.text.primary:Fz.text.primary}const m=({color:v,name:C,mainShade:E=500,lightShade:T=300,darkShade:R=700})=>{if(v={...v},!v.main&&v[E]&&(v.main=v[E]),!v.hasOwnProperty("main"))throw new Error(Wl(11,C?` (${C})`:"",E));if(typeof v.main!="string")throw new Error(Wl(12,C?` (${C})`:"",JSON.stringify(v.main)));return o?($z(o,v,"light",T,n),$z(o,v,"dark",R,n)):(Vz(v,"light",T,n),Vz(v,"dark",R,n)),v.contrastText||(v.contrastText=g(v.main)),v};let y;return t==="light"?y=Bz():t==="dark"&&(y=jz()),zo({common:{...vg},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:gve,contrastThreshold:r,getContrastText:g,augmentColor:m,tonalOffset:n,...y},i)}function awe(e){const t={};return Object.entries(e).forEach(n=>{const[o,i]=n;typeof i=="object"&&(t[o]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}function lwe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function cwe(e){return Math.round(e*1e5)/1e5}const zz={textTransform:"uppercase"},Uz='"Roboto", "Helvetica", "Arial", sans-serif';function uwe(e,t){const{fontFamily:r=Uz,fontSize:n=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:d,pxToRem:h,...f}=typeof t=="function"?t(e):t,g=n/14,m=h||(v=>`${v/c*g}rem`),y=(v,C,E,T,R)=>({fontFamily:r,fontWeight:v,fontSize:m(C),lineHeight:E,...r===Uz?{letterSpacing:`${cwe(T/C)}em`}:{},...R,...d}),b={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(i,48,1.167,0),h4:y(i,34,1.235,.25),h5:y(i,24,1.334,0),h6:y(s,20,1.6,.15),subtitle1:y(i,16,1.75,.15),subtitle2:y(s,14,1.57,.1),body1:y(i,16,1.5,.15),body2:y(i,14,1.43,.15),button:y(s,14,1.75,.4,zz),caption:y(i,12,1.66,.4),overline:y(i,12,2.66,1,zz),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zo({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:n,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:a,...b},f,{clone:!1})}const dwe=.2,hwe=.14,fwe=.12;function Yn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${dwe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${hwe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${fwe})`].join(",")}const pwe=["none",Yn(0,2,1,-1,0,1,1,0,0,1,3,0),Yn(0,3,1,-2,0,2,2,0,0,1,5,0),Yn(0,3,3,-2,0,3,4,0,0,1,8,0),Yn(0,2,4,-1,0,4,5,0,0,1,10,0),Yn(0,3,5,-1,0,5,8,0,0,1,14,0),Yn(0,3,5,-1,0,6,10,0,0,1,18,0),Yn(0,4,5,-2,0,7,10,1,0,2,16,1),Yn(0,5,5,-3,0,8,10,1,0,3,14,2),Yn(0,5,6,-3,0,9,12,1,0,3,16,2),Yn(0,6,6,-3,0,10,14,1,0,4,18,3),Yn(0,6,7,-4,0,11,15,1,0,4,20,3),Yn(0,7,8,-4,0,12,17,2,0,5,22,4),Yn(0,7,8,-4,0,13,19,2,0,5,24,4),Yn(0,7,9,-4,0,14,21,2,0,5,26,4),Yn(0,8,9,-5,0,15,22,2,0,6,28,5),Yn(0,8,10,-5,0,16,24,2,0,6,30,5),Yn(0,8,11,-5,0,17,26,2,0,6,32,5),Yn(0,9,11,-5,0,18,28,2,0,7,34,6),Yn(0,9,12,-6,0,19,29,2,0,7,36,6),Yn(0,10,13,-6,0,20,31,3,0,8,38,7),Yn(0,10,13,-6,0,21,33,3,0,8,40,7),Yn(0,10,14,-6,0,22,35,3,0,8,42,7),Yn(0,11,14,-7,0,23,36,3,0,9,44,8),Yn(0,11,15,-7,0,24,38,3,0,9,46,8)],gwe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Gz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Hz(e){return`${Math.round(e)}ms`}function mwe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function vwe(e){const t={...gwe,...e.easing},r={...Gz,...e.duration};return{getAutoHeightDuration:mwe,create:(o=["all"],i={})=>{const{duration:s=r.standard,easing:a=t.easeInOut,delay:c=0,...d}=i;return(Array.isArray(o)?o:[o]).map(h=>`${h} ${typeof s=="string"?s:Hz(s)} ${a} ${typeof c=="string"?c:Hz(c)}`).join(",")},...e,easing:t,duration:r}}const ywe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function bwe(e){return nl(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Wz(e={}){const t={...e};function r(n){const o=Object.entries(n);for(let i=0;i<o.length;i++){const[s,a]=o[i];!bwe(a)||s.startsWith("unstable_")?delete n[s]:nl(a)&&(n[s]={...a},r(n[s]))}}return r(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Kz(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const wwe=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let r=0;for(let n=0;n<t.length;n+=1)r+=+t[n];return r};function Swe(e){Object.assign(e,{alpha(t,r){const n=this||e;return n.colorSpace?`oklch(from ${t} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:Vs(t,wwe(r))},lighten(t,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${t}, #fff ${Kz(r)})`:Pg(t,r)},darken(t,r){const n=this||e;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${t}, #000 ${Kz(r)})`:Ig(t,r)}})}function zM(e={},...t){const{breakpoints:r,mixins:n={},spacing:o,palette:i={},transitions:s={},typography:a={},shape:c,colorSpace:d,...h}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Wl(20));const f=$M({...i,colorSpace:d}),g=Db(e);let m=zo(g,{mixins:lwe(g.breakpoints,n),palette:f,shadows:pwe.slice(),typography:uwe(f,a),transitions:vwe(s),zIndex:{...ywe}});return m=zo(m,h),m=t.reduce((y,b)=>zo(y,b),m),m.unstable_sxConfig={...Og,...h?.unstable_sxConfig},m.unstable_sx=function(b){return yd({sx:b,theme:this})},m.toRuntimeSource=Wz,Swe(m),m}function UM(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Cwe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const r=UM(t);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function qz(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Yz(e){return e==="dark"?Cwe:[]}function xwe(e){const{palette:t={mode:"light"},opacity:r,overlays:n,colorSpace:o,...i}=e,s=$M({...t,colorSpace:o});return{palette:s,opacity:{...qz(s.mode),...r},overlays:n||Yz(s.mode),...i}}function _we(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const Ewe=e=>[...[...Array(25)].map((t,r)=>`--${e?`${e}-`:""}overlays-${r}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Twe=e=>(t,r)=>{const n=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if(o==="class"&&(i=".%s"),o==="data"&&(i="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(i=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return Ewe(e.cssVarPrefix).forEach(a=>{s[a]=r[a],delete r[a]}),i==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:s}}:i?{[i.replace("%s",t)]:s,[`${n}, ${i.replace("%s",t)}`]:r}:{[n]:{...r,...s}}}if(i&&i!=="media")return`${n}, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[n]:r}};if(i)return i.replace("%s",String(t))}return n};function Mwe(e,t){t.forEach(r=>{e[r]||(e[r]={})})}function Je(e,t,r){!e[t]&&r&&(e[t]=r)}function kg(e){return typeof e!="string"||!e.startsWith("hsl")?e:kz(e)}function Kl(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Rg(kg(e[t])))}function Owe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const ol=e=>{try{return e()}catch{}},Rwe=(e="mui")=>zbe(e);function GM(e,t,r,n,o){if(!r)return;r=r===!0?{}:r;const i=o==="dark"?"dark":"light";if(!n){t[o]=xwe({...r,palette:{mode:i,...r?.palette},colorSpace:e});return}const{palette:s,...a}=zM({...n,palette:{mode:i,...r?.palette},colorSpace:e});return t[o]={...r,palette:s,opacity:{...qz(i),...r?.opacity},overlays:r?.overlays||Yz(i)},a}function Iwe(e={},...t){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=_we,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:d=":root",...h}=e,f=Object.keys(r)[0],g=n||(r.light&&f!=="light"?"light":f),m=Rwe(i),{[g]:y,light:b,dark:v,...C}=r,E={...C};let T=y;if((g==="dark"&&!("dark"in r)||g==="light"&&!("light"in r))&&(T=!0),!T)throw new Error(Wl(21,g));let R;s&&(R="oklch");const M=GM(R,E,T,h,g);b&&!E.light&&GM(R,E,b,void 0,"light"),v&&!E.dark&&GM(R,E,v,void 0,"dark");let I={defaultColorScheme:g,...M,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:d,getCssVar:m,colorSchemes:E,font:{...awe(M.typography),...M.font},spacing:Owe(h.spacing)};Object.keys(I.colorSchemes).forEach($=>{const B=I.colorSchemes[$].palette,U=W=>{const V=W.split("-"),Y=V[1],Q=V[2];return m(W,B[Y][Q])};B.mode==="light"&&(Je(B.common,"background","#fff"),Je(B.common,"onBackground","#000")),B.mode==="dark"&&(Je(B.common,"background","#000"),Je(B.common,"onBackground","#fff"));function q(W,V,Y){if(R){let Q;return W===Sd&&(Q=`transparent ${((1-Y)*100).toFixed(0)}%`),W===fn&&(Q=`#000 ${(Y*100).toFixed(0)}%`),W===pn&&(Q=`#fff ${(Y*100).toFixed(0)}%`),`color-mix(in ${R}, ${V}, ${Q})`}return W(V,Y)}if(Mwe(B,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),B.mode==="light"){Je(B.Alert,"errorColor",q(fn,B.error.light,.6)),Je(B.Alert,"infoColor",q(fn,B.info.light,.6)),Je(B.Alert,"successColor",q(fn,B.success.light,.6)),Je(B.Alert,"warningColor",q(fn,B.warning.light,.6)),Je(B.Alert,"errorFilledBg",U("palette-error-main")),Je(B.Alert,"infoFilledBg",U("palette-info-main")),Je(B.Alert,"successFilledBg",U("palette-success-main")),Je(B.Alert,"warningFilledBg",U("palette-warning-main")),Je(B.Alert,"errorFilledColor",ol(()=>B.getContrastText(B.error.main))),Je(B.Alert,"infoFilledColor",ol(()=>B.getContrastText(B.info.main))),Je(B.Alert,"successFilledColor",ol(()=>B.getContrastText(B.success.main))),Je(B.Alert,"warningFilledColor",ol(()=>B.getContrastText(B.warning.main))),Je(B.Alert,"errorStandardBg",q(pn,B.error.light,.9)),Je(B.Alert,"infoStandardBg",q(pn,B.info.light,.9)),Je(B.Alert,"successStandardBg",q(pn,B.success.light,.9)),Je(B.Alert,"warningStandardBg",q(pn,B.warning.light,.9)),Je(B.Alert,"errorIconColor",U("palette-error-main")),Je(B.Alert,"infoIconColor",U("palette-info-main")),Je(B.Alert,"successIconColor",U("palette-success-main")),Je(B.Alert,"warningIconColor",U("palette-warning-main")),Je(B.AppBar,"defaultBg",U("palette-grey-100")),Je(B.Avatar,"defaultBg",U("palette-grey-400")),Je(B.Button,"inheritContainedBg",U("palette-grey-300")),Je(B.Button,"inheritContainedHoverBg",U("palette-grey-A100")),Je(B.Chip,"defaultBorder",U("palette-grey-400")),Je(B.Chip,"defaultAvatarColor",U("palette-grey-700")),Je(B.Chip,"defaultIconColor",U("palette-grey-700")),Je(B.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Je(B.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Je(B.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Je(B.LinearProgress,"primaryBg",q(pn,B.primary.main,.62)),Je(B.LinearProgress,"secondaryBg",q(pn,B.secondary.main,.62)),Je(B.LinearProgress,"errorBg",q(pn,B.error.main,.62)),Je(B.LinearProgress,"infoBg",q(pn,B.info.main,.62)),Je(B.LinearProgress,"successBg",q(pn,B.success.main,.62)),Je(B.LinearProgress,"warningBg",q(pn,B.warning.main,.62)),Je(B.Skeleton,"bg",R?q(Sd,B.text.primary,.11):`rgba(${U("palette-text-primaryChannel")} / 0.11)`),Je(B.Slider,"primaryTrack",q(pn,B.primary.main,.62)),Je(B.Slider,"secondaryTrack",q(pn,B.secondary.main,.62)),Je(B.Slider,"errorTrack",q(pn,B.error.main,.62)),Je(B.Slider,"infoTrack",q(pn,B.info.main,.62)),Je(B.Slider,"successTrack",q(pn,B.success.main,.62)),Je(B.Slider,"warningTrack",q(pn,B.warning.main,.62));const W=R?q(fn,B.background.default,.6825):Bb(B.background.default,.8);Je(B.SnackbarContent,"bg",W),Je(B.SnackbarContent,"color",ol(()=>R?VM.text.primary:B.getContrastText(W))),Je(B.SpeedDialAction,"fabHoverBg",Bb(B.background.paper,.15)),Je(B.StepConnector,"border",U("palette-grey-400")),Je(B.StepContent,"border",U("palette-grey-400")),Je(B.Switch,"defaultColor",U("palette-common-white")),Je(B.Switch,"defaultDisabledColor",U("palette-grey-100")),Je(B.Switch,"primaryDisabledColor",q(pn,B.primary.main,.62)),Je(B.Switch,"secondaryDisabledColor",q(pn,B.secondary.main,.62)),Je(B.Switch,"errorDisabledColor",q(pn,B.error.main,.62)),Je(B.Switch,"infoDisabledColor",q(pn,B.info.main,.62)),Je(B.Switch,"successDisabledColor",q(pn,B.success.main,.62)),Je(B.Switch,"warningDisabledColor",q(pn,B.warning.main,.62)),Je(B.TableCell,"border",q(pn,q(Sd,B.divider,1),.88)),Je(B.Tooltip,"bg",q(Sd,B.grey[700],.92))}if(B.mode==="dark"){Je(B.Alert,"errorColor",q(pn,B.error.light,.6)),Je(B.Alert,"infoColor",q(pn,B.info.light,.6)),Je(B.Alert,"successColor",q(pn,B.success.light,.6)),Je(B.Alert,"warningColor",q(pn,B.warning.light,.6)),Je(B.Alert,"errorFilledBg",U("palette-error-dark")),Je(B.Alert,"infoFilledBg",U("palette-info-dark")),Je(B.Alert,"successFilledBg",U("palette-success-dark")),Je(B.Alert,"warningFilledBg",U("palette-warning-dark")),Je(B.Alert,"errorFilledColor",ol(()=>B.getContrastText(B.error.dark))),Je(B.Alert,"infoFilledColor",ol(()=>B.getContrastText(B.info.dark))),Je(B.Alert,"successFilledColor",ol(()=>B.getContrastText(B.success.dark))),Je(B.Alert,"warningFilledColor",ol(()=>B.getContrastText(B.warning.dark))),Je(B.Alert,"errorStandardBg",q(fn,B.error.light,.9)),Je(B.Alert,"infoStandardBg",q(fn,B.info.light,.9)),Je(B.Alert,"successStandardBg",q(fn,B.success.light,.9)),Je(B.Alert,"warningStandardBg",q(fn,B.warning.light,.9)),Je(B.Alert,"errorIconColor",U("palette-error-main")),Je(B.Alert,"infoIconColor",U("palette-info-main")),Je(B.Alert,"successIconColor",U("palette-success-main")),Je(B.Alert,"warningIconColor",U("palette-warning-main")),Je(B.AppBar,"defaultBg",U("palette-grey-900")),Je(B.AppBar,"darkBg",U("palette-background-paper")),Je(B.AppBar,"darkColor",U("palette-text-primary")),Je(B.Avatar,"defaultBg",U("palette-grey-600")),Je(B.Button,"inheritContainedBg",U("palette-grey-800")),Je(B.Button,"inheritContainedHoverBg",U("palette-grey-700")),Je(B.Chip,"defaultBorder",U("palette-grey-700")),Je(B.Chip,"defaultAvatarColor",U("palette-grey-300")),Je(B.Chip,"defaultIconColor",U("palette-grey-300")),Je(B.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Je(B.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Je(B.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Je(B.LinearProgress,"primaryBg",q(fn,B.primary.main,.5)),Je(B.LinearProgress,"secondaryBg",q(fn,B.secondary.main,.5)),Je(B.LinearProgress,"errorBg",q(fn,B.error.main,.5)),Je(B.LinearProgress,"infoBg",q(fn,B.info.main,.5)),Je(B.LinearProgress,"successBg",q(fn,B.success.main,.5)),Je(B.LinearProgress,"warningBg",q(fn,B.warning.main,.5)),Je(B.Skeleton,"bg",R?q(Sd,B.text.primary,.13):`rgba(${U("palette-text-primaryChannel")} / 0.13)`),Je(B.Slider,"primaryTrack",q(fn,B.primary.main,.5)),Je(B.Slider,"secondaryTrack",q(fn,B.secondary.main,.5)),Je(B.Slider,"errorTrack",q(fn,B.error.main,.5)),Je(B.Slider,"infoTrack",q(fn,B.info.main,.5)),Je(B.Slider,"successTrack",q(fn,B.success.main,.5)),Je(B.Slider,"warningTrack",q(fn,B.warning.main,.5));const W=R?q(pn,B.background.default,.985):Bb(B.background.default,.98);Je(B.SnackbarContent,"bg",W),Je(B.SnackbarContent,"color",ol(()=>R?Fz.text.primary:B.getContrastText(W))),Je(B.SpeedDialAction,"fabHoverBg",Bb(B.background.paper,.15)),Je(B.StepConnector,"border",U("palette-grey-600")),Je(B.StepContent,"border",U("palette-grey-600")),Je(B.Switch,"defaultColor",U("palette-grey-300")),Je(B.Switch,"defaultDisabledColor",U("palette-grey-600")),Je(B.Switch,"primaryDisabledColor",q(fn,B.primary.main,.55)),Je(B.Switch,"secondaryDisabledColor",q(fn,B.secondary.main,.55)),Je(B.Switch,"errorDisabledColor",q(fn,B.error.main,.55)),Je(B.Switch,"infoDisabledColor",q(fn,B.info.main,.55)),Je(B.Switch,"successDisabledColor",q(fn,B.success.main,.55)),Je(B.Switch,"warningDisabledColor",q(fn,B.warning.main,.55)),Je(B.TableCell,"border",q(fn,q(Sd,B.divider,1),.68)),Je(B.Tooltip,"bg",q(Sd,B.grey[700],.92))}Kl(B.background,"default"),Kl(B.background,"paper"),Kl(B.common,"background"),Kl(B.common,"onBackground"),Kl(B,"divider"),Object.keys(B).forEach(W=>{const V=B[W];W!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&Je(B[W],"mainChannel",Rg(kg(V.main))),V.light&&Je(B[W],"lightChannel",Rg(kg(V.light))),V.dark&&Je(B[W],"darkChannel",Rg(kg(V.dark))),V.contrastText&&Je(B[W],"contrastTextChannel",Rg(kg(V.contrastText))),W==="text"&&(Kl(B[W],"primary"),Kl(B[W],"secondary")),W==="action"&&(V.active&&Kl(B[W],"active"),V.selected&&Kl(B[W],"selected")))})}),I=t.reduce(($,B)=>zo($,B),I);const N={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:Twe(I),enableContrastVars:s},{vars:P,generateThemeVars:L,generateStyleSheets:D}=Hbe(I,N);return I.vars=P,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([$,B])=>{I[$]=B}),I.generateThemeVars=L,I.generateStyleSheets=D,I.generateSpacing=function(){return xz(h.spacing,Mb(this))},I.getColorSchemeSelector=Wbe(c),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=a,I.unstable_sxConfig={...Og,...h?.unstable_sxConfig},I.unstable_sx=function(B){return yd({sx:B,theme:this})},I.toRuntimeSource=Wz,I}function Xz(e,t,r){e.colorSchemes&&r&&(e.colorSchemes[t]={...r!==!0&&r,palette:$M({...r===!0?{}:r.palette,mode:t})})}function Zz(e={},...t){const{palette:r,cssVariables:n=!1,colorSchemes:o=r?void 0:{light:!0},defaultColorScheme:i=r?.mode,...s}=e,a=i||"light",c=o?.[a],d={...o,...r?{[a]:{...typeof c!="boolean"&&c,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in e))return zM(e,...t);let h=r;"palette"in e||d[a]&&(d[a]!==!0?h=d[a].palette:a==="dark"&&(h={mode:"dark"}));const f=zM({...e,palette:h},...t);return f.defaultColorScheme=a,f.colorSchemes=d,f.palette.mode==="light"&&(f.colorSchemes.light={...d.light!==!0&&d.light,palette:f.palette},Xz(f,"dark",d.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:f.palette},Xz(f,"light",d.light)),f}return!r&&!("light"in d)&&a==="light"&&(d.light=!0),Iwe({...s,colorSchemes:d,defaultColorScheme:a,...typeof n!="boolean"&&n},...t)}function Pwe(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function kwe(e){return parseFloat(e)}const jb=Zz();function il(){const e=Ab(jb);return e[bg]||e}function Dwe({props:e,name:t}){return Pz({props:e,name:t,defaultTheme:jb,themeId:bg})}function Qz(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const _i=e=>Qz(e)&&e!=="classes",we=Rz({themeId:bg,defaultTheme:jb,rootShouldForwardProp:_i});function Jz(...e){return e.reduce((t,r)=>r==null?t:function(...o){t.apply(this,o),r.apply(this,o)},()=>{})}function Awe(e){return x.jsx(wbe,{...e,defaultTheme:jb,themeId:bg})}function Lwe(e){return function(r){return x.jsx(Awe,{styles:typeof e=="function"?n=>e({theme:n,...r}):e})}}function Nwe(){return NM}const Gt=$be;function ir(e){return jbe(e)}function Bwe(e){return Xt("MuiSvgIcon",e)}Kt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Fwe=e=>{const{color:t,fontSize:r,classes:n}=e,o={root:["root",t!=="inherit"&&`color${We(t)}`,`fontSize${We(r)}`]};return ht(o,Bwe,n)},jwe=we("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${We(r.color)}`],t[`fontSize${We(r.fontSize)}`]]}})(Gt(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),HM=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:f,viewBox:g="0 0 24 24",...m}=n,y=_.isValidElement(o)&&o.type==="svg",b={...n,color:s,component:a,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:y},v={};h||(v.viewBox=g);const C=Fwe(b);return x.jsxs(jwe,{as:a,className:Ke(C.root,i),focusable:"false",color:d,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:r,...v,...m,...y&&o.props,ownerState:b,children:[y?o.props.children:o,f?x.jsx("title",{children:f}):null]})});HM.muiName="SvgIcon";function xt(e,t){function r(n,o){return x.jsx(HM,{"data-testid":void 0,ref:o,...n,children:e})}return r.muiName=HM.muiName,_.memo(_.forwardRef(r))}function qc(e,t=166){let r;function n(...o){const i=()=>{e.apply(this,o)};clearTimeout(r),r=setTimeout(i,t)}return n.clear=()=>{clearTimeout(r)},n}function Xn(e){return e&&e.ownerDocument||document}function is(e){return Xn(e).defaultView||window}function WM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Cd(e){const{controlled:t,default:r,name:n,state:o="value"}=e,{current:i}=_.useRef(t!==void 0),[s,a]=_.useState(r),c=i?t:s,d=_.useCallback(h=>{i||a(h)},[]);return[c,d]}function $t(e){const t=_.useRef(e);return zr(()=>{t.current=e}),_.useRef((...r)=>(0,t.current)(...r)).current}function Er(...e){const t=_.useRef(void 0),r=_.useCallback(n=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,a=s(n);return typeof a=="function"?a:()=>{s(null)}}return i.current=n,()=>{i.current=null}});return()=>{o.forEach(i=>i?.())}},e);return _.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function Vwe(e,t){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function eU(e,t){if(!e)return t;function r(s,a){const c={};return Object.keys(a).forEach(d=>{Vwe(d,a[d])&&typeof s[d]=="function"&&(c[d]=(...h)=>{s[d](...h),a[d](...h)})}),c}if(typeof e=="function"||typeof t=="function")return s=>{const a=typeof t=="function"?t(s):t,c=typeof e=="function"?e({...s,...a}):e,d=Ke(s?.className,a?.className,c?.className),h=r(c,a);return{...a,...c,...h,...!!d&&{className:d},...a?.style&&c?.style&&{style:{...a.style,...c.style}},...a?.sx&&c?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const n=t,o=r(e,n),i=Ke(n?.className,e?.className);return{...t,...e,...o,...!!i&&{className:i},...n?.style&&e?.style&&{style:{...n.style,...e.style}},...n?.sx&&e?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function pt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KM(e,t){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},KM(e,t)}function tU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,KM(e,t)}const rU={disabled:!1},Vb=vr.createContext(null);var $we=function(t){return t.scrollTop},Dg="unmounted",xd="exited",_d="entering",Xh="entered",qM="exiting",$s=(function(e){tU(t,e);function t(n,o){var i;i=e.call(this,n,o)||this;var s=o,a=s&&!s.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?a?(c=xd,i.appearStatus=_d):c=Xh:n.unmountOnExit||n.mountOnEnter?c=Dg:c=xd,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===Dg?{status:xd}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==_d&&s!==Xh&&(i=_d):(s===_d||s===Xh)&&(i=qM)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},r.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===_d){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:fb.findDOMNode(this);s&&$we(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xd&&this.setState({status:Dg})},r.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,c=this.props.nodeRef?[a]:[fb.findDOMNode(this),a],d=c[0],h=c[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!o&&!s||rU.disabled){this.safeSetState({status:Xh},function(){i.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:_d},function(){i.props.onEntering(d,h),i.onTransitionEnd(g,function(){i.safeSetState({status:Xh},function(){i.props.onEntered(d,h)})})})},r.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:fb.findDOMNode(this);if(!i||rU.disabled){this.safeSetState({status:xd},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:qM},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:xd},function(){o.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},r.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:fb.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],d=c[0],h=c[1];this.props.addEndListener(d,h)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===Dg)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=pt(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return vr.createElement(Vb.Provider,{value:null},typeof s=="function"?s(o,a):vr.cloneElement(vr.Children.only(s),a))},t})(vr.Component);$s.contextType=Vb,$s.propTypes={};function Zh(){}$s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zh,onEntering:Zh,onEntered:Zh,onExit:Zh,onExiting:Zh,onExited:Zh},$s.UNMOUNTED=Dg,$s.EXITED=xd,$s.ENTERING=_d,$s.ENTERED=Xh,$s.EXITING=qM;function zwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YM(e,t){var r=function(i){return t&&_.isValidElement(i)?t(i):i},n=Object.create(null);return e&&_.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function Uwe(e,t){e=e||{},t=t||{};function r(h){return h in t?t[h]:e[h]}var n=Object.create(null),o=[];for(var i in e)i in t?o.length&&(n[i]=o,o=[]):o.push(i);var s,a={};for(var c in t){if(n[c])for(s=0;s<n[c].length;s++){var d=n[c][s];a[n[c][s]]=r(d)}a[c]=r(c)}for(s=0;s<o.length;s++)a[o[s]]=r(o[s]);return a}function Ed(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Gwe(e,t){return YM(e.children,function(r){return _.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ed(r,"appear",e),enter:Ed(r,"enter",e),exit:Ed(r,"exit",e)})})}function Hwe(e,t,r){var n=YM(e.children),o=Uwe(t,n);return Object.keys(o).forEach(function(i){var s=o[i];if(_.isValidElement(s)){var a=i in t,c=i in n,d=t[i],h=_.isValidElement(d)&&!d.props.in;c&&(!a||h)?o[i]=_.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:Ed(s,"exit",e),enter:Ed(s,"enter",e)}):!c&&a&&!h?o[i]=_.cloneElement(s,{in:!1}):c&&a&&_.isValidElement(d)&&(o[i]=_.cloneElement(s,{onExited:r.bind(null,s),in:d.props.in,exit:Ed(s,"exit",e),enter:Ed(s,"enter",e)}))}}),o}var Wwe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Kwe={component:"div",childFactory:function(t){return t}},XM=(function(e){tU(t,e);function t(n,o){var i;i=e.call(this,n,o)||this;var s=i.handleExited.bind(zwe(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,c=i.firstRender;return{children:c?Gwe(o,a):Hwe(o,s,a),firstRender:!1}},r.handleExited=function(o,i){var s=YM(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var c=H({},a.children);return delete c[o.key],{children:c}}))},r.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=pt(o,["component","childFactory"]),c=this.state.contextValue,d=Wwe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?vr.createElement(Vb.Provider,{value:c},d):vr.createElement(Vb.Provider,{value:c},vr.createElement(i,a,d))},t})(vr.Component);XM.propTypes={},XM.defaultProps=Kwe;const nU={};function ss(e,t){const r=_.useRef(nU);return r.current===nU&&(r.current=e(t)),r}const qwe=[];function $b(e){_.useEffect(e,qwe)}class zb{static create(){return new zb}currentId=null;start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Fi(){const e=ss(zb.create).current;return $b(e.disposeEffect),e}const ZM=e=>e.scrollTop;function Yc(e,t){const{timeout:r,easing:n,style:o={}}=e;return{duration:o.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:o.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:o.transitionDelay}}function Ywe(e){return Xt("MuiCollapse",e)}Kt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Xwe=e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ht(n,Ywe,r)},Zwe=we("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(Gt(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Qwe=we("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Jwe=we("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),QM=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:c,easing:d,in:h,onEnter:f,onEntered:g,onEntering:m,onExit:y,onExited:b,onExiting:v,orientation:C="vertical",style:E,timeout:T=Gz.standard,TransitionComponent:R=$s,...M}=n,I={...n,orientation:C,collapsedSize:a},N=Xwe(I),P=il(),L=Fi(),D=_.useRef(null),$=_.useRef(),B=typeof a=="number"?`${a}px`:a,U=C==="horizontal",q=U?"width":"height",W=_.useRef(null),V=Er(r,W),Y=ae=>ye=>{if(ae){const Me=W.current;ye===void 0?ae(Me):ae(Me,ye)}},Q=()=>D.current?D.current[U?"clientWidth":"clientHeight"]:0,re=Y((ae,ye)=>{D.current&&U&&(D.current.style.position="absolute"),ae.style[q]=B,f&&f(ae,ye)}),z=Y((ae,ye)=>{const Me=Q();D.current&&U&&(D.current.style.position="");const{duration:xe,easing:he}=Yc({style:E,timeout:T,easing:d},{mode:"enter"});if(T==="auto"){const pe=P.transitions.getAutoHeightDuration(Me);ae.style.transitionDuration=`${pe}ms`,$.current=pe}else ae.style.transitionDuration=typeof xe=="string"?xe:`${xe}ms`;ae.style[q]=`${Me}px`,ae.style.transitionTimingFunction=he,m&&m(ae,ye)}),K=Y((ae,ye)=>{ae.style[q]="auto",g&&g(ae,ye)}),Z=Y(ae=>{ae.style[q]=`${Q()}px`,y&&y(ae)}),le=Y(b),ce=Y(ae=>{const ye=Q(),{duration:Me,easing:xe}=Yc({style:E,timeout:T,easing:d},{mode:"exit"});if(T==="auto"){const he=P.transitions.getAutoHeightDuration(ye);ae.style.transitionDuration=`${he}ms`,$.current=he}else ae.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;ae.style[q]=B,ae.style.transitionTimingFunction=xe,v&&v(ae)}),ue=ae=>{T==="auto"&&L.start($.current||0,ae),o&&o(W.current,ae)};return x.jsx(R,{in:h,onEnter:re,onEntered:K,onEntering:z,onExit:Z,onExited:le,onExiting:ce,addEndListener:ue,nodeRef:W,timeout:T==="auto"?null:T,...M,children:(ae,{ownerState:ye,...Me})=>x.jsx(Zwe,{as:c,className:Ke(N.root,s,{entered:N.entered,exited:!h&&B==="0px"&&N.hidden}[ae]),style:{[U?"minWidth":"minHeight"]:B,...E},ref:V,ownerState:{...I,state:ae},...Me,children:x.jsx(Qwe,{ownerState:{...I,state:ae},className:N.wrapper,ref:D,children:x.jsx(Jwe,{ownerState:{...I,state:ae},className:N.wrapperInner,children:i})})})})});QM&&(QM.muiSupportAuto=!0);function eSe(e){return Xt("MuiPaper",e)}Kt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const tSe=e=>{const{square:t,elevation:r,variant:n,classes:o}=e,i={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return ht(i,eSe,o)},rSe=we("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(Gt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Td=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiPaper"}),o=il(),{className:i,component:s="div",elevation:a=1,square:c=!1,variant:d="elevation",...h}=n,f={...n,component:s,elevation:a,square:c,variant:d},g=tSe(f);return x.jsx(rSe,{as:s,ownerState:f,className:Ke(g.root,i),ref:r,...h,style:{...d==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[a],...o.vars&&{"--Paper-overlay":o.vars.overlays?.[a]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Vs("#fff",UM(a))}, ${Vs("#fff",UM(a))})`}},...h.style}})});function Qh(e){return typeof e=="string"}function oU(e,t,r){return e===void 0||Qh(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function Ub(e,t,r){return typeof e=="function"?e(t,r):e}function as(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function iU(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function sU(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:o,className:i}=e;if(!t){const m=Ke(r?.className,i,o?.className,n?.className),y={...r?.style,...o?.style,...n?.style},b={...r,...o,...n};return m.length>0&&(b.className=m),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const s=as({...o,...n}),a=iU(n),c=iU(o),d=t(s),h=Ke(d?.className,r?.className,i,o?.className,n?.className),f={...d?.style,...r?.style,...o?.style,...n?.style},g={...d,...r,...c,...a};return h.length>0&&(g.className=h),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:d.ref}}function lr(e,t){const{className:r,elementType:n,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...c}=t,{component:d,slots:h={[e]:void 0},slotProps:f={[e]:void 0},...g}=i,m=h[e]||n,y=Ub(f[e],o),{props:{component:b,...v},internalRef:C}=sU({className:r,...c,externalForwardedProps:e==="root"?g:void 0,externalSlotProps:y}),E=Er(C,y?.ref,t.ref),T=e==="root"?b||d:b,R=oU(m,{...e==="root"&&!d&&!h[e]&&s,...e!=="root"&&!h[e]&&s,...v,...T&&!a&&{as:T},...T&&a&&{component:T},ref:E},o);return[m,R]}function Gb(e){try{return e.matches(":focus-visible")}catch{}return!1}class Hb{static create(){return new Hb}static use(){const t=ss(Hb.create).current,[r,n]=_.useState(!1);return t.shouldMount=r,t.setShouldMount=n,_.useEffect(t.mountEffect,[r]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=oSe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function nSe(){return Hb.use()}function oSe(){let e,t;const r=new Promise((n,o)=>{e=n,t=o});return r.resolve=e,r.reject=t,r}function iSe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:o,rippleY:i,rippleSize:s,in:a,onExited:c,timeout:d}=e,[h,f]=_.useState(!1),g=Ke(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),m={width:s,height:s,top:-(s/2)+i,left:-(s/2)+o},y=Ke(r.child,h&&r.childLeaving,n&&r.childPulsate);return!a&&!h&&f(!0),_.useEffect(()=>{if(!a&&c!=null){const b=setTimeout(c,d);return()=>{clearTimeout(b)}}},[c,a,d]),x.jsx("span",{className:g,style:m,children:x.jsx("span",{className:y})})}const zs=Kt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),JM=550,sSe=80,aSe=Bs`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,lSe=Bs`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,cSe=Bs`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,uSe=we("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),dSe=we(iSe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${zs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${aSe};
    animation-duration: ${JM}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${zs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${zs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${zs.childLeaving} {
    opacity: 0;
    animation-name: ${lSe};
    animation-duration: ${JM}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${zs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${cSe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,hSe=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s,...a}=n,[c,d]=_.useState([]),h=_.useRef(0),f=_.useRef(null);_.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const g=_.useRef(!1),m=Fi(),y=_.useRef(null),b=_.useRef(null),v=_.useCallback(R=>{const{pulsate:M,rippleX:I,rippleY:N,rippleSize:P,cb:L}=R;d(D=>[...D,x.jsx(dSe,{classes:{ripple:Ke(i.ripple,zs.ripple),rippleVisible:Ke(i.rippleVisible,zs.rippleVisible),ripplePulsate:Ke(i.ripplePulsate,zs.ripplePulsate),child:Ke(i.child,zs.child),childLeaving:Ke(i.childLeaving,zs.childLeaving),childPulsate:Ke(i.childPulsate,zs.childPulsate)},timeout:JM,pulsate:M,rippleX:I,rippleY:N,rippleSize:P},h.current)]),h.current+=1,f.current=L},[i]),C=_.useCallback((R={},M={},I=()=>{})=>{const{pulsate:N=!1,center:P=o||M.pulsate,fakeElement:L=!1}=M;if(R?.type==="mousedown"&&g.current){g.current=!1;return}R?.type==="touchstart"&&(g.current=!0);const D=L?null:b.current,$=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,U,q;if(P||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)B=Math.round($.width/2),U=Math.round($.height/2);else{const{clientX:W,clientY:V}=R.touches&&R.touches.length>0?R.touches[0]:R;B=Math.round(W-$.left),U=Math.round(V-$.top)}if(P)q=Math.sqrt((2*$.width**2+$.height**2)/3),q%2===0&&(q+=1);else{const W=Math.max(Math.abs((D?D.clientWidth:0)-B),B)*2+2,V=Math.max(Math.abs((D?D.clientHeight:0)-U),U)*2+2;q=Math.sqrt(W**2+V**2)}R?.touches?y.current===null&&(y.current=()=>{v({pulsate:N,rippleX:B,rippleY:U,rippleSize:q,cb:I})},m.start(sSe,()=>{y.current&&(y.current(),y.current=null)})):v({pulsate:N,rippleX:B,rippleY:U,rippleSize:q,cb:I})},[o,v,m]),E=_.useCallback(()=>{C({},{pulsate:!0})},[C]),T=_.useCallback((R,M)=>{if(m.clear(),R?.type==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{T(R,M)});return}y.current=null,d(I=>I.length>0?I.slice(1):I),f.current=M},[m]);return _.useImperativeHandle(r,()=>({pulsate:E,start:C,stop:T}),[E,C,T]),x.jsx(uSe,{className:Ke(zs.root,i.root,s),ref:b,...a,children:x.jsx(XM,{component:null,exit:!0,children:c})})});function fSe(e){return Xt("MuiButtonBase",e)}const aU=Kt("MuiButtonBase",["root","disabled","focusVisible"]),pSe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:o}=e,s=ht({root:["root",t&&"disabled",r&&"focusVisible"]},fSe,o);return r&&n&&(s.root+=` ${n}`),s},gSe=we("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${aU.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),sl=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:c="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:g=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:b,onClick:v,onContextMenu:C,onDragLeave:E,onFocus:T,onFocusVisible:R,onKeyDown:M,onKeyUp:I,onMouseDown:N,onMouseLeave:P,onMouseUp:L,onTouchEnd:D,onTouchMove:$,onTouchStart:B,tabIndex:U=0,TouchRippleProps:q,touchRippleRef:W,type:V,...Y}=n,Q=_.useRef(null),re=nSe(),z=Er(re.ref,W),[K,Z]=_.useState(!1);d&&K&&Z(!1),_.useImperativeHandle(o,()=>({focusVisible:()=>{Z(!0),Q.current.focus()}}),[]);const le=re.shouldMount&&!h&&!d;_.useEffect(()=>{K&&g&&!h&&re.pulsate()},[h,g,K,re]);const ce=ql(re,"start",N,f),ue=ql(re,"stop",C,f),ae=ql(re,"stop",E,f),ye=ql(re,"stop",L,f),Me=ql(re,"stop",$e=>{K&&$e.preventDefault(),P&&P($e)},f),xe=ql(re,"start",B,f),he=ql(re,"stop",D,f),pe=ql(re,"stop",$,f),Se=ql(re,"stop",$e=>{Gb($e.target)||Z(!1),b&&b($e)},!1),Ee=$t($e=>{Q.current||(Q.current=$e.currentTarget),Gb($e.target)&&(Z(!0),R&&R($e)),T&&T($e)}),ke=()=>{const $e=Q.current;return c&&c!=="button"&&!($e.tagName==="A"&&$e.href)},Te=$t($e=>{g&&!$e.repeat&&K&&$e.key===" "&&re.stop($e,()=>{re.start($e)}),$e.target===$e.currentTarget&&ke()&&$e.key===" "&&$e.preventDefault(),M&&M($e),$e.target===$e.currentTarget&&ke()&&$e.key==="Enter"&&!d&&($e.preventDefault(),v&&v($e))}),Ve=$t($e=>{g&&$e.key===" "&&K&&!$e.defaultPrevented&&re.stop($e,()=>{re.pulsate($e)}),I&&I($e),v&&$e.target===$e.currentTarget&&ke()&&$e.key===" "&&!$e.defaultPrevented&&v($e)});let nt=c;nt==="button"&&(Y.href||Y.to)&&(nt=y);const je={};nt==="button"?(je.type=V===void 0?"button":V,je.disabled=d):(!Y.href&&!Y.to&&(je.role="button"),d&&(je["aria-disabled"]=d));const Rt=Er(r,Q),dt={...n,centerRipple:i,component:c,disabled:d,disableRipple:h,disableTouchRipple:f,focusRipple:g,tabIndex:U,focusVisible:K},Ct=pSe(dt);return x.jsxs(gSe,{as:nt,className:Ke(Ct.root,a),ownerState:dt,onBlur:Se,onClick:v,onContextMenu:ue,onFocus:Ee,onKeyDown:Te,onKeyUp:Ve,onMouseDown:ce,onMouseLeave:Me,onMouseUp:ye,onDragLeave:ae,onTouchEnd:he,onTouchMove:pe,onTouchStart:xe,ref:Rt,tabIndex:d?-1:U,type:V,...je,...Y,children:[s,le?x.jsx(hSe,{ref:z,center:i,...q}):null]})});function ql(e,t,r,n=!1){return $t(o=>(r&&r(o),n||e[t](o),!0))}function mSe(e){return typeof e.main=="string"}function vSe(e,t=[]){if(!mSe(e))return!1;for(const r of t)if(!e.hasOwnProperty(r)||typeof e[r]!="string")return!1;return!0}function Zn(e=[]){return([,t])=>t&&vSe(t,e)}function ySe(e){return Xt("MuiCircularProgress",e)}Kt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Xc=44,eO=Bs`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,tO=Bs`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,bSe=typeof eO!="string"?Hc`
        animation: ${eO} 1.4s linear infinite;
      `:null,wSe=typeof tO!="string"?Hc`
        animation: ${tO} 1.4s ease-in-out infinite;
      `:null,SSe=e=>{const{classes:t,variant:r,color:n,disableShrink:o}=e,i={root:["root",r,`color${We(n)}`],svg:["svg"],circle:["circle",`circle${We(r)}`,o&&"circleDisableShrink"]};return ht(i,ySe,t)},CSe=we("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${We(r.color)}`]]}})(Gt(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:bSe||{animation:`${eO} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),xSe=we("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),_Se=we("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${We(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(Gt(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:wSe||{animation:`${tO} 1.4s ease-in-out infinite`}}]}))),Jh=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,size:a=40,style:c,thickness:d=3.6,value:h=0,variant:f="indeterminate",...g}=n,m={...n,color:i,disableShrink:s,size:a,thickness:d,value:h,variant:f},y=SSe(m),b={},v={},C={};if(f==="determinate"){const E=2*Math.PI*((Xc-d)/2);b.strokeDasharray=E.toFixed(3),C["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*E).toFixed(3)}px`,v.transform="rotate(-90deg)"}return x.jsx(CSe,{className:Ke(y.root,o),style:{width:a,height:a,...v,...c},ownerState:m,ref:r,role:"progressbar",...C,...g,children:x.jsx(xSe,{className:y.svg,ownerState:m,viewBox:`${Xc/2} ${Xc/2} ${Xc} ${Xc}`,children:x.jsx(_Se,{className:y.circle,style:b,ownerState:m,cx:Xc,cy:Xc,r:(Xc-d)/2,fill:"none",strokeWidth:d})})})});function ESe(e){return Xt("MuiIconButton",e)}const rO=Kt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),TSe=e=>{const{classes:t,disabled:r,color:n,edge:o,size:i,loading:s}=e,a={root:["root",s&&"loading",r&&"disabled",n!=="default"&&`color${We(n)}`,o&&`edge${We(o)}`,`size${We(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ht(a,ESe,t)},MSe=we(sl,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.loading&&t.loading,r.color!=="default"&&t[`color${We(r.color)}`],r.edge&&t[`edge${We(r.edge)}`],t[`size${We(r.size)}`]]}})(Gt(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Gt(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${rO.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${rO.loading}`]:{color:"transparent"}}))),OSe=we("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),br=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiIconButton"}),{edge:o=!1,children:i,className:s,color:a="default",disabled:c=!1,disableFocusRipple:d=!1,size:h="medium",id:f,loading:g=null,loadingIndicator:m,...y}=n,b=kr(f),v=m??x.jsx(Jh,{"aria-labelledby":b,color:"inherit",size:16}),C={...n,edge:o,color:a,disabled:c,disableFocusRipple:d,loading:g,loadingIndicator:v,size:h},E=TSe(C);return x.jsxs(MSe,{id:g?b:f,className:Ke(E.root,s),centerRipple:!0,focusRipple:!d,disabled:c||g,ref:r,...y,ownerState:C,children:[typeof g=="boolean"&&x.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:x.jsx(OSe,{className:E.loadingIndicator,ownerState:C,children:g&&v})}),i]})}),RSe=xt(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function ISe(e){return Xt("MuiTypography",e)}const lU=Kt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),PSe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},kSe=Nwe(),DSe=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,e.align!=="inherit"&&`align${We(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return ht(a,ISe,s)},ASe=we("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${We(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(Gt(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${We(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),cU={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mo=_.forwardRef(function(t,r){const{color:n,...o}=ir({props:t,name:"MuiTypography"}),i=!PSe[n],s=kSe({...o,...i&&{color:n}}),{align:a="inherit",className:c,component:d,gutterBottom:h=!1,noWrap:f=!1,paragraph:g=!1,variant:m="body1",variantMapping:y=cU,...b}=s,v={...s,align:a,color:n,className:c,component:d,gutterBottom:h,noWrap:f,paragraph:g,variant:m,variantMapping:y},C=d||(g?"p":y[m]||cU[m])||"span",E=DSe(v);return x.jsx(ASe,{as:C,ref:r,className:Ke(E.root,c),...b,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})});function LSe(e){return Xt("MuiAppBar",e)}Kt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const NSe=e=>{const{color:t,position:r,classes:n}=e,o={root:["root",`color${We(t)}`,`position${We(r)}`]};return ht(o,LSe,n)},uU=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,BSe=we(Td,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${We(r.position)}`],t[`color${We(r.color)}`]]}})(Gt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Zn(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?uU(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?uU(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),FSe=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiAppBar"}),{className:o,color:i="primary",enableColorOnDark:s=!1,position:a="fixed",...c}=n,d={...n,color:i,position:a,enableColorOnDark:s},h=NSe(d);return x.jsx(BSe,{square:!0,component:"header",ownerState:d,elevation:4,className:Ke(h.root,o,a==="fixed"&&"mui-fixed"),ref:r,...c})}),nO=e=>{const t=_.useRef({});return _.useEffect(()=>{t.current=e}),t.current};function dU({array1:e,array2:t,parser:r=n=>n}){return e&&t&&e.length===t.length&&e.every((n,o)=>r(n)===r(t[o]))}function hU(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function jSe(e={}){const{ignoreAccents:t=!0,ignoreCase:r=!0,limit:n,matchFrom:o="any",stringify:i,trim:s=!1}=e;return(a,{inputValue:c,getOptionLabel:d})=>{let h=s?c.trim():c;r&&(h=h.toLowerCase()),t&&(h=hU(h));const f=h?a.filter(g=>{let m=(i||d)(g);return r&&(m=m.toLowerCase()),t&&(m=hU(m)),o==="start"?m.startsWith(h):m.includes(h)}):a;return typeof n=="number"?f.slice(0,n):f}}const VSe=jSe(),fU=5,$Se=e=>e.current!==null&&e.current.parentElement?.contains(document.activeElement),zSe=[];function pU(e,t,r,n){if(t||e==null||n)return"";const o=r(e);return typeof o=="string"?o:""}function USe(e){const{unstable_isActiveElementInListbox:t=$Se,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:c=!1,componentName:d="useAutocomplete",defaultValue:h=e.multiple?zSe:null,disableClearable:f=!1,disableCloseOnSelect:g=!1,disabled:m,disabledItemsFocusable:y=!1,disableListWrap:b=!1,filterOptions:v=VSe,filterSelectedOptions:C=!1,freeSolo:E=!1,getOptionDisabled:T,getOptionKey:R,getOptionLabel:M=Xe=>Xe.label??Xe,groupBy:I,handleHomeEndKeys:N=!e.freeSolo,id:P,includeInputInList:L=!1,inputValue:D,isOptionEqualToValue:$=(Xe,Ze)=>Xe===Ze,multiple:B=!1,onChange:U,onClose:q,onHighlightChange:W,onInputChange:V,onOpen:Y,open:Q,openOnFocus:re=!1,options:z,readOnly:K=!1,renderValue:Z,selectOnFocus:le=!e.freeSolo,value:ce}=e,ue=kr(P);let ae=M;ae=Xe=>{const Ze=M(Xe);return typeof Ze!="string"?String(Ze):Ze};const ye=_.useRef(!1),Me=_.useRef(!0),xe=_.useRef(null),he=_.useRef(null),[pe,Se]=_.useState(null),[Ee,ke]=_.useState(-1),Te=o?0:-1,Ve=_.useRef(Te),nt=_.useRef(pU(h??ce,B,ae)).current,[je,Rt]=Cd({controlled:ce,default:h,name:d}),[dt,Ct]=Cd({controlled:D,default:nt,name:d,state:"inputValue"}),[$e,It]=_.useState(!1),mt=_.useCallback((Xe,Ze,st)=>{if(!(B?je.length<Ze.length:Ze!==null)&&!a)return;const cr=pU(Ze,B,ae,Z);dt!==cr&&(Ct(cr),V&&V(Xe,cr,st))},[ae,dt,B,V,Ct,a,je,Z]),[Bt,zt]=Cd({controlled:Q,default:!1,name:d,state:"open"}),[qt,tr]=_.useState(!0),gt=!B&&je!=null&&dt===ae(je),_t=Bt&&!K,He=_t?v(z.filter(Xe=>!(C&&(B?je:[je]).some(Ze=>Ze!==null&&$(Xe,Ze)))),{inputValue:gt&&qt?"":dt,getOptionLabel:ae}):[],ct=nO({filteredOptions:He,value:je,inputValue:dt});_.useEffect(()=>{const Xe=je!==ct.value;$e&&!Xe||E&&!Xe||mt(null,je,"reset")},[je,mt,$e,ct.value,E]);const ut=Bt&&He.length>0&&!K,St=$t(Xe=>{if(Xe===-1)xe.current.focus();else{const Ze=Z?"data-item-index":"data-tag-index";pe.querySelector(`[${Ze}="${Xe}"]`).focus()}});_.useEffect(()=>{B&&Ee>je.length-1&&(ke(-1),St(-1))},[je,B,Ee,St]);function at(Xe,Ze){if(!he.current||Xe<0||Xe>=He.length)return-1;let st=Xe;for(;;){const Qt=he.current.querySelector(`[data-option-index="${st}"]`),cr=y?!1:!Qt||Qt.disabled||Qt.getAttribute("aria-disabled")==="true";if(Qt&&Qt.hasAttribute("tabindex")&&!cr)return st;if(Ze==="next"?st=(st+1)%He.length:st=(st-1+He.length)%He.length,st===Xe)return-1}}const At=$t(({event:Xe,index:Ze,reason:st})=>{if(Ve.current=Ze,Ze===-1?xe.current.removeAttribute("aria-activedescendant"):xe.current.setAttribute("aria-activedescendant",`${ue}-option-${Ze}`),W&&["mouse","keyboard","touch"].includes(st)&&W(Xe,Ze===-1?null:He[Ze],st),!he.current)return;const Qt=he.current.querySelector(`[role="option"].${r}-focused`);Qt&&(Qt.classList.remove(`${r}-focused`),Qt.classList.remove(`${r}-focusVisible`));let cr=he.current;if(he.current.getAttribute("role")!=="listbox"&&(cr=he.current.parentElement.querySelector('[role="listbox"]')),!cr)return;if(Ze===-1){cr.scrollTop=0;return}const mn=he.current.querySelector(`[data-option-index="${Ze}"]`);if(mn&&(mn.classList.add(`${r}-focused`),st==="keyboard"&&mn.classList.add(`${r}-focusVisible`),cr.scrollHeight>cr.clientHeight&&st!=="mouse"&&st!=="touch")){const Yr=mn,Hn=cr.clientHeight+cr.scrollTop,Ii=Yr.offsetTop+Yr.offsetHeight;Ii>Hn?cr.scrollTop=Ii-cr.clientHeight:Yr.offsetTop-Yr.offsetHeight*(I?1.3:0)<cr.scrollTop&&(cr.scrollTop=Yr.offsetTop-Yr.offsetHeight*(I?1.3:0))}}),ft=$t(({event:Xe,diff:Ze,direction:st="next",reason:Qt})=>{if(!_t)return;const mn=at((()=>{const Yr=He.length-1;if(Ze==="reset")return Te;if(Ze==="start")return 0;if(Ze==="end")return Yr;const Hn=Ve.current+Ze;return Hn<0?Hn===-1&&L?-1:b&&Ve.current!==-1||Math.abs(Ze)>1?0:Yr:Hn>Yr?Hn===Yr+1&&L?-1:b||Math.abs(Ze)>1?Yr:0:Hn})(),st);if(At({index:mn,reason:Qt,event:Xe}),n&&Ze!=="reset")if(mn===-1)xe.current.value=dt;else{const Yr=ae(He[mn]);xe.current.value=Yr,Yr.toLowerCase().indexOf(dt.toLowerCase())===0&&dt.length>0&&xe.current.setSelectionRange(dt.length,Yr.length)}}),Pt=!dU({array1:ct.filteredOptions,array2:He,parser:ae}),Ir=()=>{const Xe=(Ze,st)=>{const Qt=Ze?ae(Ze):"",cr=st?ae(st):"";return Qt===cr};if(Ve.current!==-1&&!dU({array1:ct.filteredOptions,array2:He,parser:ae})&&ct.inputValue===dt&&(B?je.length===ct.value.length&&ct.value.every((Ze,st)=>ae(je[st])===ae(Ze)):Xe(ct.value,je))){const Ze=ct.filteredOptions[Ve.current];if(Ze)return He.findIndex(st=>ae(st)===ae(Ze))}return-1},Dr=_.useCallback(()=>{if(!_t)return;const Xe=Ir();if(Xe!==-1){Ve.current=Xe;return}const Ze=B?je[0]:je;if(He.length===0||Ze==null){ft({diff:"reset"});return}if(he.current){if(Ze!=null){const st=He[Ve.current];if(B&&st&&je.findIndex(cr=>$(st,cr))!==-1)return;const Qt=He.findIndex(cr=>$(cr,Ze));Qt===-1?ft({diff:"reset"}):At({index:Qt});return}if(Ve.current>=He.length-1){At({index:He.length-1});return}At({index:Ve.current})}},[He.length,B?!1:je,C,ft,At,_t,dt,B]),un=$t(Xe=>{WM(he,Xe),Xe&&Dr()});_.useEffect(()=>{Pt&&Dr()},[Dr,Pt]);const xr=Xe=>{Bt||(zt(!0),tr(!0),Y&&Y(Xe))},Tn=(Xe,Ze)=>{Bt&&(zt(!1),q&&q(Xe,Ze))},qr=(Xe,Ze,st,Qt)=>{if(B){if(je.length===Ze.length&&je.every((cr,mn)=>cr===Ze[mn]))return}else if(je===Ze)return;U&&U(Xe,Ze,st,Qt),Rt(Ze)},Bn=_.useRef(!1),Fn=(Xe,Ze,st="selectOption",Qt="options")=>{let cr=st,mn=Ze;if(B){mn=Array.isArray(je)?je.slice():[];const Yr=mn.findIndex(Hn=>$(Ze,Hn));Yr===-1?mn.push(Ze):Qt!=="freeSolo"&&(mn.splice(Yr,1),cr="removeOption")}mt(Xe,mn,cr),qr(Xe,mn,cr,{option:Ze}),!g&&(!Xe||!Xe.ctrlKey&&!Xe.metaKey)&&Tn(Xe,cr),(s===!0||s==="touch"&&Bn.current||s==="mouse"&&!Bn.current)&&xe.current.blur()};function sr(Xe,Ze){if(Xe===-1)return-1;let st=Xe;for(;;){if(Ze==="next"&&st===je.length||Ze==="previous"&&st===-1)return-1;const Qt=Z?"data-item-index":"data-tag-index",cr=pe.querySelector(`[${Qt}="${st}"]`);if(!cr||!cr.hasAttribute("tabindex")||cr.disabled||cr.getAttribute("aria-disabled")==="true")st+=Ze==="next"?1:-1;else return st}}const Ar=(Xe,Ze)=>{if(!B)return;dt===""&&Tn(Xe,"toggleInput");let st=Ee;Ee===-1?dt===""&&Ze==="previous"&&(st=je.length-1):(st+=Ze==="next"?1:-1,st<0&&(st=0),st===je.length&&(st=-1)),st=sr(st,Ze),ke(st),St(st)},Lt=Xe=>{ye.current=!0,Ct(""),V&&V(Xe,"","clear"),qr(Xe,B?[]:null,"clear")},Ft=Xe=>Ze=>{if(Xe.onKeyDown&&Xe.onKeyDown(Ze),!Ze.defaultMuiPrevented&&(Ee!==-1&&!["ArrowLeft","ArrowRight"].includes(Ze.key)&&(ke(-1),St(-1)),Ze.which!==229))switch(Ze.key){case"Home":_t&&N&&(Ze.preventDefault(),ft({diff:"start",direction:"next",reason:"keyboard",event:Ze}));break;case"End":_t&&N&&(Ze.preventDefault(),ft({diff:"end",direction:"previous",reason:"keyboard",event:Ze}));break;case"PageUp":Ze.preventDefault(),ft({diff:-fU,direction:"previous",reason:"keyboard",event:Ze}),xr(Ze);break;case"PageDown":Ze.preventDefault(),ft({diff:fU,direction:"next",reason:"keyboard",event:Ze}),xr(Ze);break;case"ArrowDown":Ze.preventDefault(),ft({diff:1,direction:"next",reason:"keyboard",event:Ze}),xr(Ze);break;case"ArrowUp":Ze.preventDefault(),ft({diff:-1,direction:"previous",reason:"keyboard",event:Ze}),xr(Ze);break;case"ArrowLeft":!B&&Z?St(0):Ar(Ze,"previous");break;case"ArrowRight":!B&&Z?St(-1):Ar(Ze,"next");break;case"Enter":if(Ve.current!==-1&&_t){const st=He[Ve.current],Qt=T?T(st):!1;if(Ze.preventDefault(),Qt)return;Fn(Ze,st,"selectOption"),n&&xe.current.setSelectionRange(xe.current.value.length,xe.current.value.length)}else E&&dt!==""&&gt===!1&&(B&&Ze.preventDefault(),Fn(Ze,dt,"createOption","freeSolo"));break;case"Escape":_t?(Ze.preventDefault(),Ze.stopPropagation(),Tn(Ze,"escape")):c&&(dt!==""||B&&je.length>0||Z)&&(Ze.preventDefault(),Ze.stopPropagation(),Lt(Ze));break;case"Backspace":if(B&&!K&&dt===""&&je.length>0){const st=Ee===-1?je.length-1:Ee,Qt=je.slice();Qt.splice(st,1),qr(Ze,Qt,"removeOption",{option:je[st]})}!B&&Z&&!K&&(Rt(null),St(-1));break;case"Delete":if(B&&!K&&dt===""&&je.length>0&&Ee!==-1){const st=Ee,Qt=je.slice();Qt.splice(st,1),qr(Ze,Qt,"removeOption",{option:je[st]})}!B&&Z&&!K&&(Rt(null),St(-1));break}},nr=Xe=>{It(!0),re&&!ye.current&&xr(Xe)},rr=Xe=>{if(t(he)){xe.current.focus();return}It(!1),Me.current=!0,ye.current=!1,i&&Ve.current!==-1&&_t?Fn(Xe,He[Ve.current],"blur"):i&&E&&dt!==""?Fn(Xe,dt,"blur","freeSolo"):a&&mt(Xe,je,"blur"),Tn(Xe,"blur")},Or=Xe=>{const Ze=Xe.target.value;dt!==Ze&&(Ct(Ze),tr(!1),V&&V(Xe,Ze,"input")),Ze===""?!f&&!B&&qr(Xe,null,"clear"):xr(Xe)},uo=Xe=>{const Ze=Number(Xe.currentTarget.getAttribute("data-option-index"));Ve.current!==Ze&&At({event:Xe,index:Ze,reason:"mouse"})},Bo=Xe=>{At({event:Xe,index:Number(Xe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Bn.current=!0},ri=Xe=>{const Ze=Number(Xe.currentTarget.getAttribute("data-option-index"));Fn(Xe,He[Ze],"selectOption"),Bn.current=!1},Oi=Xe=>Ze=>{const st=je.slice();st.splice(Xe,1),qr(Ze,st,"removeOption",{option:je[Xe]})},Gn=Xe=>{qr(Xe,null,"removeOption",{option:je})},Dn=Xe=>{Bt?Tn(Xe,"toggleInput"):xr(Xe)},gn=Xe=>{Xe.currentTarget.contains(Xe.target)&&Xe.target.getAttribute("id")!==ue&&Xe.preventDefault()},bo=Xe=>{Xe.currentTarget.contains(Xe.target)&&(xe.current.focus(),le&&Me.current&&xe.current.selectionEnd-xe.current.selectionStart===0&&xe.current.select(),Me.current=!1)},Ri=Xe=>{!m&&(dt===""||!Bt)&&Dn(Xe)};let Mn=E&&dt.length>0;Mn=Mn||(B?je.length>0:je!==null);let or=He;return I&&(or=He.reduce((Xe,Ze,st)=>{const Qt=I(Ze);return Xe.length>0&&Xe[Xe.length-1].group===Qt?Xe[Xe.length-1].options.push(Ze):Xe.push({key:st,index:st,group:Qt,options:[Ze]}),Xe},[])),m&&$e&&rr(),{getRootProps:(Xe={})=>({...Xe,onKeyDown:Ft(Xe),onMouseDown:gn,onClick:bo}),getInputLabelProps:()=>({id:`${ue}-label`,htmlFor:ue}),getInputProps:()=>({id:ue,value:dt,onBlur:rr,onFocus:nr,onChange:Or,onMouseDown:Ri,"aria-activedescendant":_t?"":null,"aria-autocomplete":n?"both":"list","aria-controls":ut?`${ue}-listbox`:void 0,"aria-expanded":ut,autoComplete:"off",ref:xe,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Lt}),getItemProps:({index:Xe=0}={})=>({...B&&{key:Xe},...Z?{"data-item-index":Xe}:{"data-tag-index":Xe},tabIndex:-1,...!K&&{onDelete:B?Oi(Xe):Gn}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Dn}),getTagProps:({index:Xe})=>({key:Xe,"data-tag-index":Xe,tabIndex:-1,...!K&&{onDelete:Oi(Xe)}}),getListboxProps:()=>({role:"listbox",id:`${ue}-listbox`,"aria-labelledby":`${ue}-label`,ref:un,onMouseDown:Xe=>{Xe.preventDefault()}}),getOptionProps:({index:Xe,option:Ze})=>{const st=(B?je:[je]).some(cr=>cr!=null&&$(Ze,cr)),Qt=T?T(Ze):!1;return{key:R?.(Ze)??ae(Ze),tabIndex:-1,role:"option",id:`${ue}-option-${Xe}`,onMouseMove:uo,onClick:ri,onTouchStart:Bo,"data-option-index":Xe,"aria-disabled":Qt,"aria-selected":st}},id:ue,inputValue:dt,value:je,dirty:Mn,expanded:_t&&pe,popupOpen:_t,focused:$e||Ee!==-1,anchorEl:pe,setAnchorEl:Se,focusedItem:Ee,focusedTag:Ee,groupedOptions:or}}var ji="top",Us="bottom",Gs="right",Vi="left",oO="auto",Ag=[ji,Us,Gs,Vi],ef="start",Lg="end",GSe="clippingParents",gU="viewport",Ng="popper",HSe="reference",mU=Ag.reduce(function(e,t){return e.concat([t+"-"+ef,t+"-"+Lg])},[]),vU=[].concat(Ag,[oO]).reduce(function(e,t){return e.concat([t,t+"-"+ef,t+"-"+Lg])},[]),WSe="beforeRead",KSe="read",qSe="afterRead",YSe="beforeMain",XSe="main",ZSe="afterMain",QSe="beforeWrite",JSe="write",eCe="afterWrite",tCe=[WSe,KSe,qSe,YSe,XSe,ZSe,QSe,JSe,eCe];function al(e){return e?(e.nodeName||"").toLowerCase():null}function ls(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Md(e){var t=ls(e).Element;return e instanceof t||e instanceof Element}function Hs(e){var t=ls(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function iO(e){if(typeof ShadowRoot>"u")return!1;var t=ls(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function rCe(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},o=t.attributes[r]||{},i=t.elements[r];!Hs(i)||!al(i)||(Object.assign(i.style,n),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function nCe(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],i=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),a=s.reduce(function(c,d){return c[d]="",c},{});!Hs(o)||!al(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const oCe={name:"applyStyles",enabled:!0,phase:"write",fn:rCe,effect:nCe,requires:["computeStyles"]};function ll(e){return e.split("-")[0]}var Od=Math.max,Wb=Math.min,tf=Math.round;function sO(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function yU(){return!/^((?!chrome|android).)*safari/i.test(sO())}function rf(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&Hs(e)&&(o=e.offsetWidth>0&&tf(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&tf(n.height)/e.offsetHeight||1);var s=Md(e)?ls(e):window,a=s.visualViewport,c=!yU()&&r,d=(n.left+(c&&a?a.offsetLeft:0))/o,h=(n.top+(c&&a?a.offsetTop:0))/i,f=n.width/o,g=n.height/i;return{width:f,height:g,top:h,right:d+f,bottom:h+g,left:d,x:d,y:h}}function aO(e){var t=rf(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function bU(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&iO(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Yl(e){return ls(e).getComputedStyle(e)}function iCe(e){return["table","td","th"].indexOf(al(e))>=0}function Zc(e){return((Md(e)?e.ownerDocument:e.document)||window.document).documentElement}function Kb(e){return al(e)==="html"?e:e.assignedSlot||e.parentNode||(iO(e)?e.host:null)||Zc(e)}function wU(e){return!Hs(e)||Yl(e).position==="fixed"?null:e.offsetParent}function sCe(e){var t=/firefox/i.test(sO()),r=/Trident/i.test(sO());if(r&&Hs(e)){var n=Yl(e);if(n.position==="fixed")return null}var o=Kb(e);for(iO(o)&&(o=o.host);Hs(o)&&["html","body"].indexOf(al(o))<0;){var i=Yl(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Bg(e){for(var t=ls(e),r=wU(e);r&&iCe(r)&&Yl(r).position==="static";)r=wU(r);return r&&(al(r)==="html"||al(r)==="body"&&Yl(r).position==="static")?t:r||sCe(e)||t}function lO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fg(e,t,r){return Od(e,Wb(t,r))}function aCe(e,t,r){var n=Fg(e,t,r);return n>r?r:n}function SU(){return{top:0,right:0,bottom:0,left:0}}function CU(e){return Object.assign({},SU(),e)}function xU(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var lCe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,CU(typeof t!="number"?t:xU(t,Ag))};function cCe(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,a=ll(r.placement),c=lO(a),d=[Vi,Gs].indexOf(a)>=0,h=d?"height":"width";if(!(!i||!s)){var f=lCe(o.padding,r),g=aO(i),m=c==="y"?ji:Vi,y=c==="y"?Us:Gs,b=r.rects.reference[h]+r.rects.reference[c]-s[c]-r.rects.popper[h],v=s[c]-r.rects.reference[c],C=Bg(i),E=C?c==="y"?C.clientHeight||0:C.clientWidth||0:0,T=b/2-v/2,R=f[m],M=E-g[h]-f[y],I=E/2-g[h]/2+T,N=Fg(R,I,M),P=c;r.modifiersData[n]=(t={},t[P]=N,t.centerOffset=N-I,t)}}function uCe(e){var t=e.state,r=e.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||bU(t.elements.popper,o)&&(t.elements.arrow=o))}const dCe={name:"arrow",enabled:!0,phase:"main",fn:cCe,effect:uCe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nf(e){return e.split("-")[1]}var hCe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fCe(e,t){var r=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:tf(r*o)/o||0,y:tf(n*o)/o||0}}function _U(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,f=e.isFixed,g=s.x,m=g===void 0?0:g,y=s.y,b=y===void 0?0:y,v=typeof h=="function"?h({x:m,y:b}):{x:m,y:b};m=v.x,b=v.y;var C=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),T=Vi,R=ji,M=window;if(d){var I=Bg(r),N="clientHeight",P="clientWidth";if(I===ls(r)&&(I=Zc(r),Yl(I).position!=="static"&&a==="absolute"&&(N="scrollHeight",P="scrollWidth")),I=I,o===ji||(o===Vi||o===Gs)&&i===Lg){R=Us;var L=f&&I===M&&M.visualViewport?M.visualViewport.height:I[N];b-=L-n.height,b*=c?1:-1}if(o===Vi||(o===ji||o===Us)&&i===Lg){T=Gs;var D=f&&I===M&&M.visualViewport?M.visualViewport.width:I[P];m-=D-n.width,m*=c?1:-1}}var $=Object.assign({position:a},d&&hCe),B=h===!0?fCe({x:m,y:b},ls(r)):{x:m,y:b};if(m=B.x,b=B.y,c){var U;return Object.assign({},$,(U={},U[R]=E?"0":"",U[T]=C?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",U))}return Object.assign({},$,(t={},t[R]=E?b+"px":"",t[T]=C?m+"px":"",t.transform="",t))}function pCe(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,a=r.roundOffsets,c=a===void 0?!0:a,d={placement:ll(t.placement),variation:nf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,_U(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,_U(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const gCe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pCe,data:{}};var qb={passive:!0};function mCe(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=o===void 0?!0:o,s=n.resize,a=s===void 0?!0:s,c=ls(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(h){h.addEventListener("scroll",r.update,qb)}),a&&c.addEventListener("resize",r.update,qb),function(){i&&d.forEach(function(h){h.removeEventListener("scroll",r.update,qb)}),a&&c.removeEventListener("resize",r.update,qb)}}const vCe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mCe,data:{}};var yCe={left:"right",right:"left",bottom:"top",top:"bottom"};function Yb(e){return e.replace(/left|right|bottom|top/g,function(t){return yCe[t]})}var bCe={start:"end",end:"start"};function EU(e){return e.replace(/start|end/g,function(t){return bCe[t]})}function cO(e){var t=ls(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function uO(e){return rf(Zc(e)).left+cO(e).scrollLeft}function wCe(e,t){var r=ls(e),n=Zc(e),o=r.visualViewport,i=n.clientWidth,s=n.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;var d=yU();(d||!d&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a+uO(e),y:c}}function SCe(e){var t,r=Zc(e),n=cO(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Od(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Od(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+uO(e),c=-n.scrollTop;return Yl(o||r).direction==="rtl"&&(a+=Od(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}function dO(e){var t=Yl(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function TU(e){return["html","body","#document"].indexOf(al(e))>=0?e.ownerDocument.body:Hs(e)&&dO(e)?e:TU(Kb(e))}function jg(e,t){var r;t===void 0&&(t=[]);var n=TU(e),o=n===((r=e.ownerDocument)==null?void 0:r.body),i=ls(n),s=o?[i].concat(i.visualViewport||[],dO(n)?n:[]):n,a=t.concat(s);return o?a:a.concat(jg(Kb(s)))}function hO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function CCe(e,t){var r=rf(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function MU(e,t,r){return t===gU?hO(wCe(e,r)):Md(t)?CCe(t,r):hO(SCe(Zc(e)))}function xCe(e){var t=jg(Kb(e)),r=["absolute","fixed"].indexOf(Yl(e).position)>=0,n=r&&Hs(e)?Bg(e):e;return Md(n)?t.filter(function(o){return Md(o)&&bU(o,n)&&al(o)!=="body"}):[]}function _Ce(e,t,r,n){var o=t==="clippingParents"?xCe(e):[].concat(t),i=[].concat(o,[r]),s=i[0],a=i.reduce(function(c,d){var h=MU(e,d,n);return c.top=Od(h.top,c.top),c.right=Wb(h.right,c.right),c.bottom=Wb(h.bottom,c.bottom),c.left=Od(h.left,c.left),c},MU(e,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function OU(e){var t=e.reference,r=e.element,n=e.placement,o=n?ll(n):null,i=n?nf(n):null,s=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,c;switch(o){case ji:c={x:s,y:t.y-r.height};break;case Us:c={x:s,y:t.y+t.height};break;case Gs:c={x:t.x+t.width,y:a};break;case Vi:c={x:t.x-r.width,y:a};break;default:c={x:t.x,y:t.y}}var d=o?lO(o):null;if(d!=null){var h=d==="y"?"height":"width";switch(i){case ef:c[d]=c[d]-(t[h]/2-r[h]/2);break;case Lg:c[d]=c[d]+(t[h]/2-r[h]/2);break}}return c}function Vg(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=n===void 0?e.placement:n,i=r.strategy,s=i===void 0?e.strategy:i,a=r.boundary,c=a===void 0?GSe:a,d=r.rootBoundary,h=d===void 0?gU:d,f=r.elementContext,g=f===void 0?Ng:f,m=r.altBoundary,y=m===void 0?!1:m,b=r.padding,v=b===void 0?0:b,C=CU(typeof v!="number"?v:xU(v,Ag)),E=g===Ng?HSe:Ng,T=e.rects.popper,R=e.elements[y?E:g],M=_Ce(Md(R)?R:R.contextElement||Zc(e.elements.popper),c,h,s),I=rf(e.elements.reference),N=OU({reference:I,element:T,placement:o}),P=hO(Object.assign({},T,N)),L=g===Ng?P:I,D={top:M.top-L.top+C.top,bottom:L.bottom-M.bottom+C.bottom,left:M.left-L.left+C.left,right:L.right-M.right+C.right},$=e.modifiersData.offset;if(g===Ng&&$){var B=$[o];Object.keys(D).forEach(function(U){var q=[Gs,Us].indexOf(U)>=0?1:-1,W=[ji,Us].indexOf(U)>=0?"y":"x";D[U]+=B[W]*q})}return D}function ECe(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,s=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,d=c===void 0?vU:c,h=nf(n),f=h?a?mU:mU.filter(function(y){return nf(y)===h}):Ag,g=f.filter(function(y){return d.indexOf(y)>=0});g.length===0&&(g=f);var m=g.reduce(function(y,b){return y[b]=Vg(e,{placement:b,boundary:o,rootBoundary:i,padding:s})[ll(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function TCe(e){if(ll(e)===oO)return[];var t=Yb(e);return[EU(e),t,EU(t)]}function MCe(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=o===void 0?!0:o,s=r.altAxis,a=s===void 0?!0:s,c=r.fallbackPlacements,d=r.padding,h=r.boundary,f=r.rootBoundary,g=r.altBoundary,m=r.flipVariations,y=m===void 0?!0:m,b=r.allowedAutoPlacements,v=t.options.placement,C=ll(v),E=C===v,T=c||(E||!y?[Yb(v)]:TCe(v)),R=[v].concat(T).reduce(function(ce,ue){return ce.concat(ll(ue)===oO?ECe(t,{placement:ue,boundary:h,rootBoundary:f,padding:d,flipVariations:y,allowedAutoPlacements:b}):ue)},[]),M=t.rects.reference,I=t.rects.popper,N=new Map,P=!0,L=R[0],D=0;D<R.length;D++){var $=R[D],B=ll($),U=nf($)===ef,q=[ji,Us].indexOf(B)>=0,W=q?"width":"height",V=Vg(t,{placement:$,boundary:h,rootBoundary:f,altBoundary:g,padding:d}),Y=q?U?Gs:Vi:U?Us:ji;M[W]>I[W]&&(Y=Yb(Y));var Q=Yb(Y),re=[];if(i&&re.push(V[B]<=0),a&&re.push(V[Y]<=0,V[Q]<=0),re.every(function(ce){return ce})){L=$,P=!1;break}N.set($,re)}if(P)for(var z=y?3:1,K=function(ue){var ae=R.find(function(ye){var Me=N.get(ye);if(Me)return Me.slice(0,ue).every(function(xe){return xe})});if(ae)return L=ae,"break"},Z=z;Z>0;Z--){var le=K(Z);if(le==="break")break}t.placement!==L&&(t.modifiersData[n]._skip=!0,t.placement=L,t.reset=!0)}}const OCe={name:"flip",enabled:!0,phase:"main",fn:MCe,requiresIfExists:["offset"],data:{_skip:!1}};function RU(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function IU(e){return[ji,Gs,Us,Vi].some(function(t){return e[t]>=0})}function RCe(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Vg(t,{elementContext:"reference"}),a=Vg(t,{altBoundary:!0}),c=RU(s,n),d=RU(a,o,i),h=IU(c),f=IU(d);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const ICe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RCe};function PCe(e,t,r){var n=ll(e),o=[Vi,ji].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Vi,Gs].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function kCe(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=o===void 0?[0,0]:o,s=vU.reduce(function(h,f){return h[f]=PCe(f,t.rects,i),h},{}),a=s[t.placement],c=a.x,d=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[n]=s}const DCe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kCe};function ACe(e){var t=e.state,r=e.name;t.modifiersData[r]=OU({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const LCe={name:"popperOffsets",enabled:!0,phase:"read",fn:ACe,data:{}};function NCe(e){return e==="x"?"y":"x"}function BCe(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=o===void 0?!0:o,s=r.altAxis,a=s===void 0?!1:s,c=r.boundary,d=r.rootBoundary,h=r.altBoundary,f=r.padding,g=r.tether,m=g===void 0?!0:g,y=r.tetherOffset,b=y===void 0?0:y,v=Vg(t,{boundary:c,rootBoundary:d,padding:f,altBoundary:h}),C=ll(t.placement),E=nf(t.placement),T=!E,R=lO(C),M=NCe(R),I=t.modifiersData.popperOffsets,N=t.rects.reference,P=t.rects.popper,L=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,D=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(I){if(i){var U,q=R==="y"?ji:Vi,W=R==="y"?Us:Gs,V=R==="y"?"height":"width",Y=I[R],Q=Y+v[q],re=Y-v[W],z=m?-P[V]/2:0,K=E===ef?N[V]:P[V],Z=E===ef?-P[V]:-N[V],le=t.elements.arrow,ce=m&&le?aO(le):{width:0,height:0},ue=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:SU(),ae=ue[q],ye=ue[W],Me=Fg(0,N[V],ce[V]),xe=T?N[V]/2-z-Me-ae-D.mainAxis:K-Me-ae-D.mainAxis,he=T?-N[V]/2+z+Me+ye+D.mainAxis:Z+Me+ye+D.mainAxis,pe=t.elements.arrow&&Bg(t.elements.arrow),Se=pe?R==="y"?pe.clientTop||0:pe.clientLeft||0:0,Ee=(U=$?.[R])!=null?U:0,ke=Y+xe-Ee-Se,Te=Y+he-Ee,Ve=Fg(m?Wb(Q,ke):Q,Y,m?Od(re,Te):re);I[R]=Ve,B[R]=Ve-Y}if(a){var nt,je=R==="x"?ji:Vi,Rt=R==="x"?Us:Gs,dt=I[M],Ct=M==="y"?"height":"width",$e=dt+v[je],It=dt-v[Rt],mt=[ji,Vi].indexOf(C)!==-1,Bt=(nt=$?.[M])!=null?nt:0,zt=mt?$e:dt-N[Ct]-P[Ct]-Bt+D.altAxis,qt=mt?dt+N[Ct]+P[Ct]-Bt-D.altAxis:It,tr=m&&mt?aCe(zt,dt,qt):Fg(m?zt:$e,dt,m?qt:It);I[M]=tr,B[M]=tr-dt}t.modifiersData[n]=B}}const FCe={name:"preventOverflow",enabled:!0,phase:"main",fn:BCe,requiresIfExists:["offset"]};function jCe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function VCe(e){return e===ls(e)||!Hs(e)?cO(e):jCe(e)}function $Ce(e){var t=e.getBoundingClientRect(),r=tf(t.width)/e.offsetWidth||1,n=tf(t.height)/e.offsetHeight||1;return r!==1||n!==1}function zCe(e,t,r){r===void 0&&(r=!1);var n=Hs(t),o=Hs(t)&&$Ce(t),i=Zc(t),s=rf(e,o,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((al(t)!=="body"||dO(i))&&(a=VCe(t)),Hs(t)?(c=rf(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=uO(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function UCe(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function o(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var c=t.get(a);c&&o(c)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||o(i)}),n}function GCe(e){var t=UCe(e);return tCe.reduce(function(r,n){return r.concat(t.filter(function(o){return o.phase===n}))},[])}function HCe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function WCe(e){var t=e.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var PU={placement:"bottom",modifiers:[],strategy:"absolute"};function kU(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function KCe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,o=t.defaultOptions,i=o===void 0?PU:o;return function(a,c,d){d===void 0&&(d=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},PU,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],g=!1,m={state:h,setOptions:function(C){var E=typeof C=="function"?C(h.options):C;b(),h.options=Object.assign({},i,h.options,E),h.scrollParents={reference:Md(a)?jg(a):a.contextElement?jg(a.contextElement):[],popper:jg(c)};var T=GCe(WCe([].concat(n,h.options.modifiers)));return h.orderedModifiers=T.filter(function(R){return R.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var C=h.elements,E=C.reference,T=C.popper;if(kU(E,T)){h.rects={reference:zCe(E,Bg(T),h.options.strategy==="fixed"),popper:aO(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(D){return h.modifiersData[D.name]=Object.assign({},D.data)});for(var R=0;R<h.orderedModifiers.length;R++){if(h.reset===!0){h.reset=!1,R=-1;continue}var M=h.orderedModifiers[R],I=M.fn,N=M.options,P=N===void 0?{}:N,L=M.name;typeof I=="function"&&(h=I({state:h,options:P,name:L,instance:m})||h)}}}},update:HCe(function(){return new Promise(function(v){m.forceUpdate(),v(h)})}),destroy:function(){b(),g=!0}};if(!kU(a,c))return m;m.setOptions(d).then(function(v){!g&&d.onFirstUpdate&&d.onFirstUpdate(v)});function y(){h.orderedModifiers.forEach(function(v){var C=v.name,E=v.options,T=E===void 0?{}:E,R=v.effect;if(typeof R=="function"){var M=R({state:h,name:C,instance:m,options:T}),I=function(){};f.push(M||I)}})}function b(){f.forEach(function(v){return v()}),f=[]}return m}}var qCe=[vCe,LCe,gCe,oCe,DCe,OCe,FCe,dCe,ICe],YCe=KCe({defaultModifiers:qCe});function Go(e){const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:o=!1,...i}=e,s=o?{}:Ub(r,n),{props:a,internalRef:c}=sU({...i,externalSlotProps:s}),d=Er(c,s?.ref,e.additionalProps?.ref);return oU(t,{...a,ref:d},n)}function Qc(e){return parseInt(_.version,10)>=19?e?.props?.ref||null:e?.ref||null}function XCe(e){return typeof e=="function"?e():e}const DU=_.forwardRef(function(t,r){const{children:n,container:o,disablePortal:i=!1}=t,[s,a]=_.useState(null),c=Er(_.isValidElement(n)?Qc(n):null,r);if(zr(()=>{i||a(XCe(o)||document.body)},[o,i]),zr(()=>{if(s&&!i)return WM(r,s),()=>{WM(r,null)}},[r,s,i]),i){if(_.isValidElement(n)){const d={ref:c};return _.cloneElement(n,d)}return n}return s&&hb.createPortal(n,s)});function ZCe(e){return Xt("MuiPopper",e)}Kt("MuiPopper",["root"]);function QCe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function fO(e){return typeof e=="function"?e():e}function JCe(e){return e.nodeType!==void 0}const e0e=e=>{const{classes:t}=e;return ht({root:["root"]},ZCe,t)},t0e={},r0e=_.forwardRef(function(t,r){const{anchorEl:n,children:o,direction:i,disablePortal:s,modifiers:a,open:c,placement:d,popperOptions:h,popperRef:f,slotProps:g={},slots:m={},TransitionProps:y,ownerState:b,...v}=t,C=_.useRef(null),E=Er(C,r),T=_.useRef(null),R=Er(T,f),M=_.useRef(R);zr(()=>{M.current=R},[R]),_.useImperativeHandle(f,()=>T.current,[]);const I=QCe(d,i),[N,P]=_.useState(I),[L,D]=_.useState(fO(n));_.useEffect(()=>{T.current&&T.current.forceUpdate()}),_.useEffect(()=>{n&&D(fO(n))},[n]),zr(()=>{if(!L||!c)return;const W=Q=>{P(Q.placement)};let V=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{W(Q)}}];a!=null&&(V=V.concat(a)),h&&h.modifiers!=null&&(V=V.concat(h.modifiers));const Y=YCe(L,C.current,{placement:I,...h,modifiers:V});return M.current(Y),()=>{Y.destroy(),M.current(null)}},[L,s,a,c,h,I]);const $={placement:N};y!==null&&($.TransitionProps=y);const B=e0e(t),U=m.root??"div",q=Go({elementType:U,externalSlotProps:g.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:E},ownerState:t,className:B.root});return x.jsx(U,{...q,children:typeof o=="function"?o($):o})}),n0e=we(_.forwardRef(function(t,r){const{anchorEl:n,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:d,open:h,placement:f="bottom",popperOptions:g=t0e,popperRef:m,style:y,transition:b=!1,slotProps:v={},slots:C={},...E}=t,[T,R]=_.useState(!0),M=()=>{R(!1)},I=()=>{R(!0)};if(!c&&!h&&(!b||T))return null;let N;if(i)N=i;else if(n){const D=fO(n);N=D&&JCe(D)?Xn(D).body:Xn(null).body}const P=!h&&c&&(!b||T)?"none":void 0,L=b?{in:h,onEnter:M,onExited:I}:void 0;return x.jsx(DU,{disablePortal:a,container:N,children:x.jsx(r0e,{anchorEl:n,direction:s,disablePortal:a,modifiers:d,ref:r,open:b?!T:h,placement:f,popperOptions:g,popperRef:m,slotProps:v,slots:C,...E,style:{position:"fixed",top:0,left:0,display:P,...y},TransitionProps:L,children:o})})}),{name:"MuiPopper",slot:"Root"})({}),$g=_.forwardRef(function(t,r){const n=Uo(),o=ir({props:t,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:c,container:d,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:C,slots:E,slotProps:T,...R}=o,M=E?.root??a?.Root,I={anchorEl:i,container:d,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:C,...R};return x.jsx(n0e,{as:s,direction:n?"rtl":"ltr",slots:{root:M},slotProps:T??c,...I,ref:r})});function o0e(e){return Xt("MuiListSubheader",e)}Kt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const i0e=e=>{const{classes:t,color:r,disableGutters:n,inset:o,disableSticky:i}=e,s={root:["root",r!=="default"&&`color${We(r)}`,!n&&"gutters",o&&"inset",!i&&"sticky"]};return ht(s,o0e,t)},s0e=we("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${We(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})(Gt(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),pO=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiListSubheader"}),{className:o,color:i="default",component:s="li",disableGutters:a=!1,disableSticky:c=!1,inset:d=!1,...h}=n,f={...n,color:i,component:s,disableGutters:a,disableSticky:c,inset:d},g=i0e(f);return x.jsx(s0e,{as:s,className:Ke(g.root,o),ref:r,ownerState:f,...h})});pO&&(pO.muiSkipListHighlight=!0);const a0e=xt(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function l0e(e){return Xt("MuiChip",e)}const jr=Kt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),c0e=e=>{const{classes:t,disabled:r,size:n,color:o,iconColor:i,onDelete:s,clickable:a,variant:c}=e,d={root:["root",c,r&&"disabled",`size${We(n)}`,`color${We(o)}`,a&&"clickable",a&&`clickableColor${We(o)}`,s&&"deletable",s&&`deletableColor${We(o)}`,`${c}${We(o)}`],label:["label",`label${We(n)}`],avatar:["avatar",`avatar${We(n)}`,`avatarColor${We(o)}`],icon:["icon",`icon${We(n)}`,`iconColor${We(i)}`],deleteIcon:["deleteIcon",`deleteIcon${We(n)}`,`deleteIconColor${We(o)}`,`deleteIcon${We(c)}Color${We(o)}`]};return ht(d,l0e,t)},u0e=we("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:o,clickable:i,onDelete:s,size:a,variant:c}=r;return[{[`& .${jr.avatar}`]:t.avatar},{[`& .${jr.avatar}`]:t[`avatar${We(a)}`]},{[`& .${jr.avatar}`]:t[`avatarColor${We(n)}`]},{[`& .${jr.icon}`]:t.icon},{[`& .${jr.icon}`]:t[`icon${We(a)}`]},{[`& .${jr.icon}`]:t[`iconColor${We(o)}`]},{[`& .${jr.deleteIcon}`]:t.deleteIcon},{[`& .${jr.deleteIcon}`]:t[`deleteIcon${We(a)}`]},{[`& .${jr.deleteIcon}`]:t[`deleteIconColor${We(n)}`]},{[`& .${jr.deleteIcon}`]:t[`deleteIcon${We(c)}Color${We(n)}`]},t.root,t[`size${We(a)}`],t[`color${We(n)}`],i&&t.clickable,i&&n!=="default"&&t[`clickableColor${We(n)})`],s&&t.deletable,s&&n!=="default"&&t[`deletableColor${We(n)}`],t[c],t[`${c}${We(n)}`]]}})(Gt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${jr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${jr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${jr.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${jr.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${jr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${jr.icon}`]:{marginLeft:5,marginRight:-6},[`& .${jr.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${jr.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${jr.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Zn(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(e.vars||e).palette[r].main,color:(e.vars||e).palette[r].contrastText,[`& .${jr.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[r].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${jr.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${jr.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${jr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(Zn(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${jr.focusVisible}`]:{background:(e.vars||e).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${jr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Zn(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${jr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${jr.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${jr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${jr.avatar}`]:{marginLeft:4},[`& .${jr.avatarSmall}`]:{marginLeft:2},[`& .${jr.icon}`]:{marginLeft:4},[`& .${jr.iconSmall}`]:{marginLeft:2},[`& .${jr.deleteIcon}`]:{marginRight:5},[`& .${jr.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Zn()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.alpha((e.vars||e).palette[r].main,.7)}`,[`&.${jr.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${jr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.focusOpacity)},[`& .${jr.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[r].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[r].main}}}}))]}})),d0e=we("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${We(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function AU(e){return e.key==="Backspace"||e.key==="Delete"}const gO=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:c,deleteIcon:d,disabled:h=!1,icon:f,label:g,onClick:m,onDelete:y,onKeyDown:b,onKeyUp:v,size:C="medium",variant:E="filled",tabIndex:T,skipFocusWhenDisabled:R=!1,slots:M={},slotProps:I={},...N}=n,P=_.useRef(null),L=Er(P,r),D=ae=>{ae.stopPropagation(),y&&y(ae)},$=ae=>{ae.currentTarget===ae.target&&AU(ae)&&ae.preventDefault(),b&&b(ae)},B=ae=>{ae.currentTarget===ae.target&&y&&AU(ae)&&y(ae),v&&v(ae)},U=s!==!1&&m?!0:s,q=U||y?sl:c||"div",W={...n,component:q,disabled:h,size:C,color:a,iconColor:_.isValidElement(f)&&f.props.color||a,onDelete:!!y,clickable:U,variant:E},V=c0e(W),Y=q===sl?{component:c||"div",focusVisibleClassName:V.focusVisible,...y&&{disableRipple:!0}}:{};let Q=null;y&&(Q=d&&_.isValidElement(d)?_.cloneElement(d,{className:Ke(d.props.className,V.deleteIcon),onClick:D}):x.jsx(a0e,{className:V.deleteIcon,onClick:D}));let re=null;o&&_.isValidElement(o)&&(re=_.cloneElement(o,{className:Ke(V.avatar,o.props.className)}));let z=null;f&&_.isValidElement(f)&&(z=_.cloneElement(f,{className:Ke(V.icon,f.props.className)}));const K={slots:M,slotProps:I},[Z,le]=lr("root",{elementType:u0e,externalForwardedProps:{...K,...N},ownerState:W,shouldForwardComponentProp:!0,ref:L,className:Ke(V.root,i),additionalProps:{disabled:U&&h?!0:void 0,tabIndex:R&&h?-1:T,...Y},getSlotProps:ae=>({...ae,onClick:ye=>{ae.onClick?.(ye),m?.(ye)},onKeyDown:ye=>{ae.onKeyDown?.(ye),$(ye)},onKeyUp:ye=>{ae.onKeyUp?.(ye),B(ye)}})}),[ce,ue]=lr("label",{elementType:d0e,externalForwardedProps:K,ownerState:W,className:V.label});return x.jsxs(Z,{as:q,...le,children:[re||z,x.jsx(ce,{...ue,children:g}),Q]})});function Xb(e){return parseInt(e,10)||0}const h0e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function f0e(e){for(const t in e)return!1;return!0}function LU(e){return f0e(e)||e.outerHeightStyle===0&&!e.overflowing}const p0e=_.forwardRef(function(t,r){const{onChange:n,maxRows:o,minRows:i=1,style:s,value:a,...c}=t,{current:d}=_.useRef(a!=null),h=_.useRef(null),f=Er(r,h),g=_.useRef(null),m=_.useRef(null),y=_.useCallback(()=>{const T=h.current,R=m.current;if(!T||!R)return;const I=is(T).getComputedStyle(T);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=I.width,R.value=T.value||t.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const N=I.boxSizing,P=Xb(I.paddingBottom)+Xb(I.paddingTop),L=Xb(I.borderBottomWidth)+Xb(I.borderTopWidth),D=R.scrollHeight;R.value="x";const $=R.scrollHeight;let B=D;i&&(B=Math.max(Number(i)*$,B)),o&&(B=Math.min(Number(o)*$,B)),B=Math.max(B,$);const U=B+(N==="border-box"?P+L:0),q=Math.abs(B-D)<=1;return{outerHeightStyle:U,overflowing:q}},[o,i,t.placeholder]),b=$t(()=>{const T=h.current,R=y();if(!T||!R||LU(R))return!1;const M=R.outerHeightStyle;return g.current!=null&&g.current!==M}),v=_.useCallback(()=>{const T=h.current,R=y();if(!T||!R||LU(R))return;const M=R.outerHeightStyle;g.current!==M&&(g.current=M,T.style.height=`${M}px`),T.style.overflow=R.overflowing?"hidden":""},[y]),C=_.useRef(-1);zr(()=>{const T=qc(v),R=h?.current;if(!R)return;const M=is(R);M.addEventListener("resize",T);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{b()&&(I.unobserve(R),cancelAnimationFrame(C.current),v(),C.current=requestAnimationFrame(()=>{I.observe(R)}))}),I.observe(R)),()=>{T.clear(),cancelAnimationFrame(C.current),M.removeEventListener("resize",T),I&&I.disconnect()}},[y,v,b]),zr(()=>{v()});const E=T=>{d||v();const R=T.target,M=R.value.length,I=R.value.endsWith(`
`),N=R.selectionStart===M;I&&N&&R.setSelectionRange(M,M),n&&n(T)};return x.jsxs(_.Fragment,{children:[x.jsx("textarea",{value:a,onChange:E,ref:f,rows:i,style:s,...c}),x.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:{...h0e.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function Rd({props:e,states:t,muiFormControl:r}){return t.reduce((n,o)=>(n[o]=e[o],r&&typeof e[o]>"u"&&(n[o]=r[o]),n),{})}const Zb=_.createContext(void 0);function Xl(){return _.useContext(Zb)}function NU(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Qb(e,t=!1){return e&&(NU(e.value)&&e.value!==""||t&&NU(e.defaultValue)&&e.defaultValue!=="")}function g0e(e){return e.startAdornment}function m0e(e){return Xt("MuiInputBase",e)}const ei=Kt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var BU;const Jb=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${We(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},ew=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},v0e=e=>{const{classes:t,color:r,disabled:n,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:c,hiddenLabel:d,multiline:h,readOnly:f,size:g,startAdornment:m,type:y}=e,b={root:["root",`color${We(r)}`,n&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",a&&"formControl",g&&g!=="medium"&&`size${We(g)}`,h&&"multiline",m&&"adornedStart",i&&"adornedEnd",d&&"hiddenLabel",f&&"readOnly"],input:["input",n&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return ht(b,m0e,t)},tw=we("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Jb})(Gt(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ei.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),rw=we("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ew})(Gt(({theme:e})=>{const t=e.palette.mode==="light",r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ei.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${ei.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),FU=Lwe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),zg=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:a,color:c,components:d={},componentsProps:h={},defaultValue:f,disabled:g,disableInjectingGlobalStyles:m,endAdornment:y,error:b,fullWidth:v=!1,id:C,inputComponent:E="input",inputProps:T={},inputRef:R,margin:M,maxRows:I,minRows:N,multiline:P=!1,name:L,onBlur:D,onChange:$,onClick:B,onFocus:U,onKeyDown:q,onKeyUp:W,placeholder:V,readOnly:Y,renderSuffix:Q,rows:re,size:z,slotProps:K={},slots:Z={},startAdornment:le,type:ce="text",value:ue,...ae}=n,ye=T.value!=null?T.value:ue,{current:Me}=_.useRef(ye!=null),xe=_.useRef(),he=_.useCallback(He=>{},[]),pe=Er(xe,R,T.ref,he),[Se,Ee]=_.useState(!1),ke=Xl(),Te=Rd({props:n,muiFormControl:ke,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Te.focused=ke?ke.focused:Se,_.useEffect(()=>{!ke&&g&&Se&&(Ee(!1),D&&D())},[ke,g,Se,D]);const Ve=ke&&ke.onFilled,nt=ke&&ke.onEmpty,je=_.useCallback(He=>{Qb(He)?Ve&&Ve():nt&&nt()},[Ve,nt]);zr(()=>{Me&&je({value:ye})},[ye,je,Me]);const Rt=He=>{U&&U(He),T.onFocus&&T.onFocus(He),ke&&ke.onFocus?ke.onFocus(He):Ee(!0)},dt=He=>{D&&D(He),T.onBlur&&T.onBlur(He),ke&&ke.onBlur?ke.onBlur(He):Ee(!1)},Ct=(He,...ct)=>{if(!Me){const ut=He.target||xe.current;if(ut==null)throw new Error(Wl(1));je({value:ut.value})}T.onChange&&T.onChange(He,...ct),$&&$(He,...ct)};_.useEffect(()=>{je(xe.current)},[]);const $e=He=>{xe.current&&He.currentTarget===He.target&&xe.current.focus(),B&&B(He)};let It=E,mt=T;P&&It==="input"&&(re?mt={type:void 0,minRows:re,maxRows:re,...mt}:mt={type:void 0,maxRows:I,minRows:N,...mt},It=p0e);const Bt=He=>{je(He.animationName==="mui-auto-fill-cancel"?xe.current:{value:"x"})};_.useEffect(()=>{ke&&ke.setAdornedStart(!!le)},[ke,le]);const zt={...n,color:Te.color||"primary",disabled:Te.disabled,endAdornment:y,error:Te.error,focused:Te.focused,formControl:ke,fullWidth:v,hiddenLabel:Te.hiddenLabel,multiline:P,size:Te.size,startAdornment:le,type:ce},qt=v0e(zt),tr=Z.root||d.Root||tw,gt=K.root||h.root||{},_t=Z.input||d.Input||rw;return mt={...mt,...K.input??h.input},x.jsxs(_.Fragment,{children:[!m&&typeof FU=="function"&&(BU||(BU=x.jsx(FU,{}))),x.jsxs(tr,{...gt,ref:r,onClick:$e,...ae,...!Qh(tr)&&{ownerState:{...zt,...gt.ownerState}},className:Ke(qt.root,gt.className,a,Y&&"MuiInputBase-readOnly"),children:[le,x.jsx(Zb.Provider,{value:null,children:x.jsx(_t,{"aria-invalid":Te.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:f,disabled:Te.disabled,id:C,onAnimationStart:Bt,name:L,placeholder:V,readOnly:Y,required:Te.required,rows:re,value:ye,onKeyDown:q,onKeyUp:W,type:ce,...mt,...!Qh(_t)&&{as:It,ownerState:{...zt,...mt.ownerState}},ref:pe,className:Ke(qt.input,mt.className,Y&&"MuiInputBase-readOnly"),onBlur:dt,onChange:Ct,onFocus:Rt})}),y,Q?Q({...Te,startAdornment:le}):null]})]})});function y0e(e){return Xt("MuiInput",e)}const Jc={...ei,...Kt("MuiInput",["root","underline","input"])};function b0e(e){return Xt("MuiOutlinedInput",e)}const Ws={...ei,...Kt("MuiOutlinedInput",["root","notchedOutline","input"])};function w0e(e){return Xt("MuiFilledInput",e)}const cs={...ei,...Kt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},jU=xt(x.jsx("path",{d:"M7 10l5 5 5-5z"}));function S0e(e){return Xt("MuiAutocomplete",e)}const Rr=Kt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var VU,$U;const C0e=e=>{const{classes:t,disablePortal:r,expanded:n,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:c,popupOpen:d,size:h}=e,f={root:["root",n&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${We(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",d&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ht(f,S0e,t)},x0e=we("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{fullWidth:n,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=r;return[{[`& .${Rr.tag}`]:t.tag},{[`& .${Rr.tag}`]:t[`tagSize${We(a)}`]},{[`& .${Rr.inputRoot}`]:t.inputRoot},{[`& .${Rr.input}`]:t.input},{[`& .${Rr.input}`]:s&&t.inputFocused},t.root,n&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${Rr.focused} .${Rr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Rr.clearIndicator}`]:{visibility:"visible"}},[`& .${Rr.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Rr.inputRoot}`]:{[`.${Rr.hasPopupIcon}&, .${Rr.hasClearIcon}&`]:{paddingRight:30},[`.${Rr.hasPopupIcon}.${Rr.hasClearIcon}&`]:{paddingRight:56},[`& .${Rr.input}`]:{width:0,minWidth:30}},[`& .${Jc.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Jc.root}.${ei.sizeSmall}`]:{[`& .${Jc.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ws.root}`]:{padding:9,[`.${Rr.hasPopupIcon}&, .${Rr.hasClearIcon}&`]:{paddingRight:39},[`.${Rr.hasPopupIcon}.${Rr.hasClearIcon}&`]:{paddingRight:65},[`& .${Rr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Rr.endAdornment}`]:{right:9}},[`& .${Ws.root}.${ei.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Rr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${cs.root}`]:{paddingTop:19,paddingLeft:8,[`.${Rr.hasPopupIcon}&, .${Rr.hasClearIcon}&`]:{paddingRight:39},[`.${Rr.hasPopupIcon}.${Rr.hasClearIcon}&`]:{paddingRight:65},[`& .${cs.input}`]:{padding:"7px 4px"},[`& .${Rr.endAdornment}`]:{right:9}},[`& .${cs.root}.${ei.sizeSmall}`]:{paddingBottom:1,[`& .${cs.input}`]:{padding:"2.5px 4px"}},[`& .${ei.hiddenLabel}`]:{paddingTop:8},[`& .${cs.root}.${ei.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Rr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${cs.root}.${ei.hiddenLabel}.${ei.sizeSmall}`]:{[`& .${Rr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Rr.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Rr.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Rr.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Rr.inputRoot}`]:{flexWrap:"wrap"}}}]}),_0e=we("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),E0e=we(br,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),T0e=we(br,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popupIndicator,r.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),M0e=we($g,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Rr.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})(Gt(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),O0e=we(Td,{name:"MuiAutocomplete",slot:"Paper"})(Gt(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),R0e=we("div",{name:"MuiAutocomplete",slot:"Loading"})(Gt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),I0e=we("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Gt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),P0e=we("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Gt(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Rr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Rr.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Rr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Rr.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Rr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),k0e=we(pO,{name:"MuiAutocomplete",slot:"GroupLabel"})(Gt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),D0e=we("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${Rr.option}`]:{paddingLeft:24}}),zU=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:c,className:d,clearIcon:h=VU||(VU=x.jsx(RSe,{fontSize:"small"})),clearOnBlur:f=!n.freeSolo,clearOnEscape:g=!1,clearText:m="Clear",closeText:y="Close",componentsProps:b,defaultValue:v=n.multiple?[]:null,disableClearable:C=!1,disableCloseOnSelect:E=!1,disabled:T=!1,disabledItemsFocusable:R=!1,disableListWrap:M=!1,disablePortal:I=!1,filterOptions:N,filterSelectedOptions:P=!1,forcePopupIcon:L="auto",freeSolo:D=!1,fullWidth:$=!1,getLimitTagsText:B=Pr=>`+${Pr}`,getOptionDisabled:U,getOptionKey:q,getOptionLabel:W,isOptionEqualToValue:V,groupBy:Y,handleHomeEndKeys:Q=!n.freeSolo,id:re,includeInputInList:z=!1,inputValue:K,limitTags:Z=-1,ListboxComponent:le,ListboxProps:ce,loading:ue=!1,loadingText:ae="Loading…",multiple:ye=!1,noOptionsText:Me="No options",onChange:xe,onClose:he,onHighlightChange:pe,onInputChange:Se,onOpen:Ee,open:ke,openOnFocus:Te=!1,openText:Ve="Open",options:nt,PaperComponent:je,PopperComponent:Rt,popupIcon:dt=$U||($U=x.jsx(jU,{})),readOnly:Ct=!1,renderGroup:$e,renderInput:It,renderOption:mt,renderTags:Bt,renderValue:zt,selectOnFocus:qt=!n.freeSolo,size:tr="medium",slots:gt={},slotProps:_t={},value:He,...ct}=n,{getRootProps:ut,getInputProps:St,getInputLabelProps:at,getPopupIndicatorProps:At,getClearProps:ft,getItemProps:Pt,getListboxProps:Ir,getOptionProps:Dr,value:un,dirty:xr,expanded:Tn,id:qr,popupOpen:Bn,focused:Fn,focusedItem:sr,anchorEl:Ar,setAnchorEl:Lt,inputValue:Ft,groupedOptions:nr}=USe({...n,componentName:"Autocomplete"}),rr=!C&&!T&&xr&&!Ct,Or=(!D||L===!0)&&L!==!1,{onMouseDown:uo}=St(),{ref:Bo,...ri}=Ir(),Gn=W||(Pr=>Pr.label??Pr),Dn={...n,disablePortal:I,expanded:Tn,focused:Fn,fullWidth:$,getOptionLabel:Gn,hasClearIcon:rr,hasPopupIcon:Or,inputFocused:sr===-1,popupOpen:Bn,size:tr},gn=C0e(Dn),bo={slots:{paper:je,popper:Rt,...gt},slotProps:{chip:c,listbox:ce,...b,..._t}},[Ri,Mn]=lr("listbox",{elementType:P0e,externalForwardedProps:bo,ownerState:Dn,className:gn.listbox,additionalProps:ri,ref:Bo}),[or,Xe]=lr("paper",{elementType:Td,externalForwardedProps:bo,ownerState:Dn,className:gn.paper}),[Ze,st]=lr("popper",{elementType:$g,externalForwardedProps:bo,ownerState:Dn,className:gn.popper,additionalProps:{disablePortal:I,style:{width:Ar?Ar.clientWidth:null},role:"presentation",anchorEl:Ar,open:Bn}});let Qt;const cr=Pr=>({className:gn.tag,disabled:T,...Pt(Pr)});if(ye?un.length>0&&(Bt?Qt=Bt(un,cr,Dn):zt?Qt=zt(un,cr,Dn):Qt=un.map((Pr,On)=>{const{key:oi,...Pi}=cr({index:On});return x.jsx(gO,{label:Gn(Pr),size:tr,...Pi,...bo.slotProps.chip},oi)})):zt&&un!=null&&(Qt=zt(un,cr,Dn)),Z>-1&&Array.isArray(Qt)){const Pr=Qt.length-Z;!Fn&&Pr>0&&(Qt=Qt.splice(0,Z),Qt.push(x.jsx("span",{className:gn.tag,children:B(Pr)},Qt.length)))}const Yr=$e||(Pr=>x.jsxs("li",{children:[x.jsx(k0e,{className:gn.groupLabel,ownerState:Dn,component:"div",children:Pr.group}),x.jsx(D0e,{className:gn.groupUl,ownerState:Dn,children:Pr.children})]},Pr.key)),Ii=mt||((Pr,On)=>{const{key:oi,...Pi}=Pr;return x.jsx("li",{...Pi,children:Gn(On)},oi)}),fs=(Pr,On)=>{const oi=Dr({option:Pr,index:On});return Ii({...oi,className:gn.option},Pr,{selected:oi["aria-selected"],index:On,inputValue:Ft},Dn)},ni=bo.slotProps.clearIndicator,ra=bo.slotProps.popupIndicator;return x.jsxs(_.Fragment,{children:[x.jsx(x0e,{ref:r,className:Ke(gn.root,d),ownerState:Dn,...ut(ct),children:It({id:qr,disabled:T,fullWidth:!0,size:tr==="small"?"small":void 0,InputLabelProps:at(),InputProps:{ref:Lt,className:gn.inputRoot,startAdornment:Qt,onMouseDown:Pr=>{Pr.target===Pr.currentTarget&&uo(Pr)},...(rr||Or)&&{endAdornment:x.jsxs(_0e,{className:gn.endAdornment,ownerState:Dn,children:[rr?x.jsx(E0e,{...ft(),"aria-label":m,title:m,ownerState:Dn,...ni,className:Ke(gn.clearIndicator,ni?.className),children:h}):null,Or?x.jsx(T0e,{...At(),disabled:T,"aria-label":Bn?y:Ve,title:Bn?y:Ve,ownerState:Dn,...ra,className:Ke(gn.popupIndicator,ra?.className),children:dt}):null]})}},inputProps:{className:gn.input,disabled:T,readOnly:Ct,...St()}})}),Ar?x.jsx(M0e,{as:Ze,...st,children:x.jsxs(O0e,{as:or,...Xe,children:[ue&&nr.length===0?x.jsx(R0e,{className:gn.loading,ownerState:Dn,children:ae}):null,nr.length===0&&!D&&!ue?x.jsx(I0e,{className:gn.noOptions,ownerState:Dn,role:"presentation",onMouseDown:Pr=>{Pr.preventDefault()},children:Me}):null,nr.length>0?x.jsx(Ri,{as:le,...Mn,children:nr.map((Pr,On)=>Y?Yr({key:Pr.key,group:Pr.group,children:Pr.options.map((oi,Pi)=>fs(oi,Pr.index+Pi))}):fs(Pr,On))}):null]})}):null]})}),UU=Kt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),A0e={entering:{opacity:1},entered:{opacity:1}},Ug=_.forwardRef(function(t,r){const n=il(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:c,in:d,onEnter:h,onEntered:f,onEntering:g,onExit:m,onExited:y,onExiting:b,style:v,timeout:C=o,TransitionComponent:E=$s,...T}=t,R=_.useRef(null),M=Er(R,Qc(a),r),I=q=>W=>{if(q){const V=R.current;W===void 0?q(V):q(V,W)}},N=I(g),P=I((q,W)=>{ZM(q);const V=Yc({style:v,timeout:C,easing:c},{mode:"enter"});q.style.webkitTransition=n.transitions.create("opacity",V),q.style.transition=n.transitions.create("opacity",V),h&&h(q,W)}),L=I(f),D=I(b),$=I(q=>{const W=Yc({style:v,timeout:C,easing:c},{mode:"exit"});q.style.webkitTransition=n.transitions.create("opacity",W),q.style.transition=n.transitions.create("opacity",W),m&&m(q)}),B=I(y),U=q=>{i&&i(R.current,q)};return x.jsx(E,{appear:s,in:d,nodeRef:R,onEnter:P,onEntered:L,onEntering:N,onExit:$,onExited:B,onExiting:D,addEndListener:U,timeout:C,...T,children:(q,{ownerState:W,...V})=>_.cloneElement(a,{style:{opacity:0,visibility:q==="exited"&&!d?"hidden":void 0,...A0e[q],...v,...a.props.style},ref:M,...V})})});function L0e(e){return Xt("MuiBackdrop",e)}Kt("MuiBackdrop",["root","invisible"]);const N0e=e=>{const{classes:t,invisible:r}=e;return ht({root:["root",r&&"invisible"]},L0e,t)},B0e=we("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),nw=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiBackdrop"}),{children:o,className:i,component:s="div",invisible:a=!1,open:c,components:d={},componentsProps:h={},slotProps:f={},slots:g={},TransitionComponent:m,transitionDuration:y,...b}=n,v={...n,component:s,invisible:a},C=N0e(v),E={transition:m,root:d.Root,...g},T={...h,...f},R={component:s,slots:E,slotProps:T},[M,I]=lr("root",{elementType:B0e,externalForwardedProps:R,className:Ke(C.root,i),ownerState:v}),[N,P]=lr("transition",{elementType:Ug,externalForwardedProps:R,ownerState:v});return x.jsx(N,{in:c,timeout:y,...b,...P,children:x.jsx(M,{"aria-hidden":!0,...I,classes:C,ref:r,children:o})})});function F0e(e){const{badgeContent:t,invisible:r=!1,max:n=99,showZero:o=!1}=e,i=nO({badgeContent:t,max:n});let s=r;r===!1&&t===0&&!o&&(s=!0);const{badgeContent:a,max:c=n}=s?i:e,d=a&&Number(a)>c?`${c}+`:a;return{badgeContent:a,invisible:s,max:c,displayValue:d}}function j0e(e){return Xt("MuiBadge",e)}const eu=Kt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),mO=10,vO=4,V0e=e=>{const{color:t,anchorOrigin:r,invisible:n,overlap:o,variant:i,classes:s={}}=e,a={root:["root"],badge:["badge",i,n&&"invisible",`anchorOrigin${We(r.vertical)}${We(r.horizontal)}`,`anchorOrigin${We(r.vertical)}${We(r.horizontal)}${We(o)}`,`overlap${We(o)}`,t!=="default"&&`color${We(t)}`]};return ht(a,j0e,s)},$0e=we("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),z0e=we("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${We(r.anchorOrigin.vertical)}${We(r.anchorOrigin.horizontal)}${We(r.overlap)}`],r.color!=="default"&&t[`color${We(r.color)}`],r.invisible&&t.invisible]}})(Gt(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:mO*2,lineHeight:1,padding:"0 6px",height:mO*2,borderRadius:mO,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Zn(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:vO,height:vO*2,minWidth:vO*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${eu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function GU(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const Gg=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiBadge"}),{anchorOrigin:o,className:i,classes:s,component:a,components:c={},componentsProps:d={},children:h,overlap:f="rectangular",color:g="default",invisible:m=!1,max:y=99,badgeContent:b,slots:v,slotProps:C,showZero:E=!1,variant:T="standard",...R}=n,{badgeContent:M,invisible:I,max:N,displayValue:P}=F0e({max:y,invisible:m,badgeContent:b,showZero:E}),L=nO({anchorOrigin:GU(o),color:g,overlap:f,variant:T,badgeContent:b}),D=I||M==null&&T!=="dot",{color:$=g,overlap:B=f,anchorOrigin:U,variant:q=T}=D?L:n,W=GU(U),V=q!=="dot"?P:void 0,Y={...n,badgeContent:M,invisible:D,max:N,displayValue:V,showZero:E,anchorOrigin:W,color:$,overlap:B,variant:q},Q=V0e(Y),re={slots:{root:v?.root??c.Root,badge:v?.badge??c.Badge},slotProps:{root:C?.root??d.root,badge:C?.badge??d.badge}},[z,K]=lr("root",{elementType:$0e,externalForwardedProps:{...re,...R},ownerState:Y,className:Ke(Q.root,i),ref:r,additionalProps:{as:a}}),[Z,le]=lr("badge",{elementType:z0e,externalForwardedProps:re,ownerState:Y,className:Q.badge});return x.jsxs(z,{...K,children:[h,x.jsx(Z,{...le,children:V})]})}),U0e=Kt("MuiBox",["root"]),G0e=Zz(),ti=Cbe({themeId:bg,defaultTheme:G0e,defaultClassName:U0e.root,generateClassName:Ez.generate});function H0e(e){return Xt("MuiButton",e)}const Id=Kt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),W0e=_.createContext({}),K0e=_.createContext(void 0),q0e=e=>{const{color:t,disableElevation:r,fullWidth:n,size:o,variant:i,loading:s,loadingPosition:a,classes:c}=e,d={root:["root",s&&"loading",i,`${i}${We(t)}`,`size${We(o)}`,`${i}Size${We(o)}`,`color${We(t)}`,r&&"disableElevation",n&&"fullWidth",s&&`loadingPosition${We(a)}`],startIcon:["icon","startIcon",`iconSize${We(o)}`],endIcon:["icon","endIcon",`iconSize${We(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=ht(d,H0e,c);return{...c,...h}},HU=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Y0e=we(sl,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${We(r.color)}`],t[`size${We(r.size)}`],t[`${r.variant}Size${We(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(Gt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Id.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Id.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Id.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Id.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Zn()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Id.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Id.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Id.loading}`]:{color:"transparent"}}}]}})),X0e=we("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${We(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...HU]})),Z0e=we("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${We(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...HU]})),Q0e=we("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),WU=we("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),$i=_.forwardRef(function(t,r){const n=_.useContext(W0e),o=_.useContext(K0e),i=wd(n,t),s=ir({props:i,name:"MuiButton"}),{children:a,color:c="primary",component:d="button",className:h,disabled:f=!1,disableElevation:g=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:b,fullWidth:v=!1,id:C,loading:E=null,loadingIndicator:T,loadingPosition:R="center",size:M="medium",startIcon:I,type:N,variant:P="text",...L}=s,D=kr(C),$=T??x.jsx(Jh,{"aria-labelledby":D,color:"inherit",size:16}),B={...s,color:c,component:d,disabled:f,disableElevation:g,disableFocusRipple:m,fullWidth:v,loading:E,loadingIndicator:$,loadingPosition:R,size:M,type:N,variant:P},U=q0e(B),q=(I||E&&R==="start")&&x.jsx(X0e,{className:U.startIcon,ownerState:B,children:I||x.jsx(WU,{className:U.loadingIconPlaceholder,ownerState:B})}),W=(y||E&&R==="end")&&x.jsx(Z0e,{className:U.endIcon,ownerState:B,children:y||x.jsx(WU,{className:U.loadingIconPlaceholder,ownerState:B})}),V=o||"",Y=typeof E=="boolean"?x.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:E&&x.jsx(Q0e,{className:U.loadingIndicator,ownerState:B,children:$})}):null;return x.jsxs(Y0e,{ownerState:B,className:Ke(n.className,U.root,h,V),component:d,disabled:f||E,focusRipple:!m,focusVisibleClassName:Ke(U.focusVisible,b),ref:r,type:N,id:E?D:C,...L,classes:U,children:[q,R!=="end"&&Y,a,R==="end"&&Y,W]})});function J0e(e){return _.Children.toArray(e).filter(t=>_.isValidElement(t))}function exe(e){return Xt("PrivateSwitchBase",e)}Kt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const txe=e=>{const{classes:t,checked:r,disabled:n,edge:o}=e,i={root:["root",r&&"checked",n&&"disabled",o&&`edge${We(o)}`],input:["input"]};return ht(i,exe,t)},rxe=we(sl,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),nxe=we("input",{name:"MuiSwitchBase",shouldForwardProp:_i})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),KU=_.forwardRef(function(t,r){const{autoFocus:n,checked:o,checkedIcon:i,defaultChecked:s,disabled:a,disableFocusRipple:c=!1,edge:d=!1,icon:h,id:f,inputProps:g,inputRef:m,name:y,onBlur:b,onChange:v,onFocus:C,readOnly:E,required:T=!1,tabIndex:R,type:M,value:I,slots:N={},slotProps:P={},...L}=t,[D,$]=Cd({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),B=Xl(),U=ue=>{C&&C(ue),B&&B.onFocus&&B.onFocus(ue)},q=ue=>{b&&b(ue),B&&B.onBlur&&B.onBlur(ue)},W=ue=>{if(ue.nativeEvent.defaultPrevented)return;const ae=ue.target.checked;$(ae),v&&v(ue,ae)};let V=a;B&&typeof V>"u"&&(V=B.disabled);const Y=M==="checkbox"||M==="radio",Q={...t,checked:D,disabled:V,disableFocusRipple:c,edge:d},re=txe(Q),z={slots:N,slotProps:{input:g,...P}},[K,Z]=lr("root",{ref:r,elementType:rxe,className:re.root,shouldForwardComponentProp:!0,externalForwardedProps:{...z,component:"span",...L},getSlotProps:ue=>({...ue,onFocus:ae=>{ue.onFocus?.(ae),U(ae)},onBlur:ae=>{ue.onBlur?.(ae),q(ae)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:V,role:void 0,tabIndex:null}}),[le,ce]=lr("input",{ref:m,elementType:nxe,className:re.input,externalForwardedProps:z,getSlotProps:ue=>({...ue,onChange:ae=>{ue.onChange?.(ae),W(ae)}}),ownerState:Q,additionalProps:{autoFocus:n,checked:o,defaultChecked:s,disabled:V,id:Y?f:void 0,name:y,readOnly:E,required:T,tabIndex:R,type:M,...M==="checkbox"&&I===void 0?{}:{value:I}}});return x.jsxs(K,{...Z,children:[x.jsx(le,{...ce}),D?i:h]})}),oxe=xt(x.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),ixe=xt(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),sxe=xt(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function axe(e){return Xt("MuiCheckbox",e)}const ow=Kt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),lxe=e=>{const{classes:t,indeterminate:r,color:n,size:o}=e,i={root:["root",r&&"indeterminate",`color${We(n)}`,`size${We(o)}`]},s=ht(i,axe,t);return{...t,...s}},cxe=we(KU,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${We(r.size)}`],r.color!=="default"&&t[`color${We(r.color)}`]]}})(Gt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{[`&.${ow.checked}, &.${ow.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${ow.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),uxe=x.jsx(ixe,{}),dxe=x.jsx(oxe,{}),hxe=x.jsx(sxe,{}),cl=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiCheckbox"}),{checkedIcon:o=uxe,color:i="primary",icon:s=dxe,indeterminate:a=!1,indeterminateIcon:c=hxe,inputProps:d,size:h="medium",disableRipple:f=!1,className:g,slots:m={},slotProps:y={},...b}=n,v=a?c:s,C=a?c:o,E={...n,disableRipple:f,color:i,indeterminate:a,size:h},T=lxe(E),R=y.input??d,[M,I]=lr("root",{ref:r,elementType:cxe,className:Ke(T.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:y,...b},ownerState:E,additionalProps:{type:"checkbox",icon:_.cloneElement(v,{fontSize:v.props.fontSize??h}),checkedIcon:_.cloneElement(C,{fontSize:C.props.fontSize??h}),disableRipple:f,slots:m,slotProps:{input:eU(typeof R=="function"?R(E):R,{"data-indeterminate":a})}}});return x.jsx(M,{...I,classes:T})});function qU(e){return e.substring(2).toLowerCase()}function fxe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function pxe(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,s=_.useRef(!1),a=_.useRef(null),c=_.useRef(!1),d=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=Er(Qc(t),a),f=$t(y=>{const b=d.current;d.current=!1;const v=Xn(a.current);if(!c.current||!a.current||"clientX"in y&&fxe(y,v))return;if(s.current){s.current=!1;return}let C;y.composedPath?C=y.composedPath().includes(a.current):C=!v.documentElement.contains(y.target)||a.current.contains(y.target),!C&&(r||!b)&&o(y)}),g=y=>b=>{d.current=!0;const v=t.props[y];v&&v(b)},m={ref:h};return i!==!1&&(m[i]=g(i)),_.useEffect(()=>{if(i!==!1){const y=qU(i),b=Xn(a.current),v=()=>{s.current=!0};return b.addEventListener(y,f),b.addEventListener("touchmove",v),()=>{b.removeEventListener(y,f),b.removeEventListener("touchmove",v)}}},[f,i]),n!==!1&&(m[n]=g(n)),_.useEffect(()=>{if(n!==!1){const y=qU(n),b=Xn(a.current);return b.addEventListener(y,f),()=>{b.removeEventListener(y,f)}}},[f,n]),_.cloneElement(t,m)}function YU(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function gxe(e){const t=Xn(e);return t.body===e?is(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Hg(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function XU(e){return parseInt(is(e).getComputedStyle(e).paddingRight,10)||0}function mxe(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function ZU(e,t,r,n,o){const i=[t,r,...n];[].forEach.call(e.children,s=>{const a=!i.includes(s),c=!mxe(s);a&&c&&Hg(s,o)})}function yO(e,t){let r=-1;return e.some((n,o)=>t(n)?(r=o,!0):!1),r}function vxe(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(gxe(n)){const s=YU(is(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${XU(n)+s}px`;const a=Xn(n).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${XU(c)+s}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=Xn(n).body;else{const s=n.parentElement,a=is(n);i=s?.nodeName==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:s,property:a})=>{i?s.style.setProperty(a,i):s.style.removeProperty(a)})}}function yxe(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class bxe{constructor(){this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Hg(t.modalRef,!1);const o=yxe(r);ZU(r,t.mount,t.modalRef,o,!0);const i=yO(this.containers,s=>s.container===r);return i!==-1?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:o}),n)}mount(t,r){const n=yO(this.containers,i=>i.modals.includes(t)),o=this.containers[n];o.restore||(o.restore=vxe(o,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const o=yO(this.containers,s=>s.modals.includes(t)),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(n,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&Hg(t.modalRef,r),ZU(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&Hg(s.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const wxe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Sxe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Cxe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function xxe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Cxe(e))}function _xe(e){const t=[],r=[];return Array.from(e.querySelectorAll(wxe)).forEach((n,o)=>{const i=Sxe(n);i===-1||!xxe(n)||(i===0?t.push(n):r.push({documentOrder:o,tabIndex:i,node:n}))}),r.sort((n,o)=>n.tabIndex===o.tabIndex?n.documentOrder-o.documentOrder:n.tabIndex-o.tabIndex).map(n=>n.node).concat(t)}function Exe(){return!0}function QU(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:o=!1,getTabbable:i=_xe,isEnabled:s=Exe,open:a}=e,c=_.useRef(!1),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),g=_.useRef(null),m=_.useRef(!1),y=_.useRef(null),b=Er(Qc(t),y),v=_.useRef(null);_.useEffect(()=>{!a||!y.current||(m.current=!r)},[r,a]),_.useEffect(()=>{if(!a||!y.current)return;const T=Xn(y.current);return y.current.contains(T.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{o||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[a]),_.useEffect(()=>{if(!a||!y.current)return;const T=Xn(y.current),R=N=>{v.current=N,!(n||!s()||N.key!=="Tab")&&T.activeElement===y.current&&N.shiftKey&&(c.current=!0,h.current&&h.current.focus())},M=()=>{const N=y.current;if(N===null)return;if(!T.hasFocus()||!s()||c.current){c.current=!1;return}if(N.contains(T.activeElement)||n&&T.activeElement!==d.current&&T.activeElement!==h.current)return;if(T.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!m.current)return;let P=[];if((T.activeElement===d.current||T.activeElement===h.current)&&(P=i(y.current)),P.length>0){const L=!!(v.current?.shiftKey&&v.current?.key==="Tab"),D=P[0],$=P[P.length-1];typeof D!="string"&&typeof $!="string"&&(L?$.focus():D.focus())}else N.focus()};T.addEventListener("focusin",M),T.addEventListener("keydown",R,!0);const I=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(I),T.removeEventListener("focusin",M),T.removeEventListener("keydown",R,!0)}},[r,n,o,s,a,i]);const C=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0,g.current=T.target;const R=t.props.onFocus;R&&R(T)},E=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0};return x.jsxs(_.Fragment,{children:[x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:d,"data-testid":"sentinelStart"}),_.cloneElement(t,{ref:b,onFocus:C}),x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:h,"data-testid":"sentinelEnd"})]})}function Txe(e){return typeof e=="function"?e():e}function Mxe(e){return e?e.props.hasOwnProperty("in"):!1}const JU=()=>{},iw=new bxe;function Oxe(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:s,children:a,onClose:c,open:d,rootRef:h}=e,f=_.useRef({}),g=_.useRef(null),m=_.useRef(null),y=Er(m,h),[b,v]=_.useState(!d),C=Mxe(a);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const T=()=>Xn(g.current),R=()=>(f.current.modalRef=m.current,f.current.mount=g.current,f.current),M=()=>{iw.mount(R(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},I=$t(()=>{const W=Txe(t)||T().body;iw.add(R(),W),m.current&&M()}),N=()=>iw.isTopModal(R()),P=$t(W=>{g.current=W,W&&(d&&N()?M():m.current&&Hg(m.current,E))}),L=_.useCallback(()=>{iw.remove(R(),E)},[E]);_.useEffect(()=>()=>{L()},[L]),_.useEffect(()=>{d?I():(!C||!o)&&L()},[d,L,C,o,I]);const D=W=>V=>{W.onKeyDown?.(V),!(V.key!=="Escape"||V.which===229||!N())&&(r||(V.stopPropagation(),c&&c(V,"escapeKeyDown")))},$=W=>V=>{W.onClick?.(V),V.target===V.currentTarget&&c&&c(V,"backdropClick")};return{getRootProps:(W={})=>{const V=as(e);delete V.onTransitionEnter,delete V.onTransitionExited;const Y={...V,...W};return{role:"presentation",...Y,onKeyDown:D(Y),ref:y}},getBackdropProps:(W={})=>{const V=W;return{"aria-hidden":!0,...V,onClick:$(V),open:d}},getTransitionProps:()=>{const W=()=>{v(!1),i&&i()},V=()=>{v(!0),s&&s(),o&&L()};return{onEnter:Jz(W,a?.props.onEnter??JU),onExited:Jz(V,a?.props.onExited??JU)}},rootRef:y,portalRef:P,isTopModal:N,exited:b,hasTransition:C}}function Rxe(e){return Xt("MuiModal",e)}Kt("MuiModal",["root","hidden","backdrop"]);const Ixe=e=>{const{open:t,exited:r,classes:n}=e;return ht({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},Rxe,n)},Pxe=we("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(Gt(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),kxe=we(nw,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),sw=_.forwardRef(function(t,r){const n=ir({name:"MuiModal",props:t}),{BackdropComponent:o=kxe,BackdropProps:i,classes:s,className:a,closeAfterTransition:c=!1,children:d,container:h,component:f,components:g={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:v=!1,disablePortal:C=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:R=!1,keepMounted:M=!1,onClose:I,onTransitionEnter:N,onTransitionExited:P,open:L,slotProps:D={},slots:$={},theme:B,...U}=n,q={...n,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:v,disablePortal:C,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:R,keepMounted:M},{getRootProps:W,getBackdropProps:V,getTransitionProps:Y,portalRef:Q,isTopModal:re,exited:z,hasTransition:K}=Oxe({...q,rootRef:r}),Z={...q,exited:z},le=Ixe(Z),ce={};if(d.props.tabIndex===void 0&&(ce.tabIndex="-1"),K){const{onEnter:he,onExited:pe}=Y();ce.onEnter=he,ce.onExited=pe}const ue={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...m,...D}},[ae,ye]=lr("root",{ref:r,elementType:Pxe,externalForwardedProps:{...ue,...U,component:f},getSlotProps:W,ownerState:Z,className:Ke(a,le?.root,!Z.open&&Z.exited&&le?.hidden)}),[Me,xe]=lr("backdrop",{ref:i?.ref,elementType:o,externalForwardedProps:ue,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:he=>V({...he,onClick:pe=>{he?.onClick&&he.onClick(pe)}}),className:Ke(i?.className,le?.backdrop),ownerState:Z});return!M&&!L&&(!K||z)?null:x.jsx(DU,{ref:Q,container:h,disablePortal:C,children:x.jsxs(ae,{...ye,children:[!R&&o?x.jsx(Me,{...xe}):null,x.jsx(QU,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:E,isEnabled:re,open:L,children:_.cloneElement(d,ce)})]})})});function Dxe(e){return Xt("MuiDialog",e)}const bO=Kt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),e3=_.createContext({}),Axe=we(nw,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Lxe=e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container",`scroll${We(r)}`],paper:["paper",`paperScroll${We(r)}`,`paperWidth${We(String(n))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return ht(s,Dxe,t)},Nxe=we(sw,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Bxe=we("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${We(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Fxe=we(Td,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${We(r.scroll)}`],t[`paperWidth${We(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(Gt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${bO.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${bO.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${bO.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),wO=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiDialog"}),o=il(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:d,BackdropProps:h,children:f,className:g,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:b=!1,maxWidth:v="sm",onClick:C,onClose:E,open:T,PaperComponent:R=Td,PaperProps:M={},scroll:I="paper",slots:N={},slotProps:P={},TransitionComponent:L=Ug,transitionDuration:D=i,TransitionProps:$,...B}=n,U={...n,disableEscapeKeyDown:m,fullScreen:y,fullWidth:b,maxWidth:v,scroll:I},q=Lxe(U),W=_.useRef(),V=Ee=>{W.current=Ee.target===Ee.currentTarget},Y=Ee=>{C&&C(Ee),W.current&&(W.current=null,E&&E(Ee,"backdropClick"))},Q=kr(a),re=_.useMemo(()=>({titleId:Q}),[Q]),z={transition:L,...N},K={transition:$,paper:M,backdrop:h,...P},Z={slots:z,slotProps:K},[le,ce]=lr("root",{elementType:Nxe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U,className:Ke(q.root,g),ref:r}),[ue,ae]=lr("backdrop",{elementType:Axe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U}),[ye,Me]=lr("paper",{elementType:Fxe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U,className:Ke(q.paper,M.className)}),[xe,he]=lr("container",{elementType:Bxe,externalForwardedProps:Z,ownerState:U,className:q.container}),[pe,Se]=lr("transition",{elementType:Ug,externalForwardedProps:Z,ownerState:U,additionalProps:{appear:!0,in:T,timeout:D,role:"presentation"}});return x.jsx(le,{closeAfterTransition:!0,slots:{backdrop:ue},slotProps:{backdrop:{transitionDuration:D,as:d,...ae}},disableEscapeKeyDown:m,onClose:E,open:T,onClick:Y,...ce,...B,children:x.jsx(pe,{...Se,children:x.jsx(xe,{onMouseDown:V,...he,children:x.jsx(ye,{as:R,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":Q,"aria-modal":c,...Me,children:x.jsx(e3.Provider,{value:re,children:f})})})})})});function jxe(e){return Xt("MuiDialogActions",e)}Kt("MuiDialogActions",["root","spacing"]);const Vxe=e=>{const{classes:t,disableSpacing:r}=e;return ht({root:["root",!r&&"spacing"]},jxe,t)},$xe=we("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),t3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1,...s}=n,a={...n,disableSpacing:i},c=Vxe(a);return x.jsx($xe,{className:Ke(c.root,o),ownerState:a,ref:r,...s})});function zxe(e){return Xt("MuiDialogContent",e)}Kt("MuiDialogContent",["root","dividers"]);function Uxe(e){return Xt("MuiDialogTitle",e)}const Gxe=Kt("MuiDialogTitle",["root"]),Hxe=e=>{const{classes:t,dividers:r}=e;return ht({root:["root",r&&"dividers"]},zxe,t)},Wxe=we("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(Gt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Gxe.root} + &`]:{paddingTop:0}}}]}))),r3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiDialogContent"}),{className:o,dividers:i=!1,...s}=n,a={...n,dividers:i},c=Hxe(a);return x.jsx(Wxe,{className:Ke(c.root,o),ownerState:a,ref:r,...s})}),Kxe=e=>{const{classes:t}=e;return ht({root:["root"]},Uxe,t)},qxe=we(mo,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Yxe=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiDialogTitle"}),{className:o,id:i,...s}=n,a=n,c=Kxe(a),{titleId:d=i}=_.useContext(e3);return x.jsx(qxe,{component:"h2",className:Ke(c.root,o),ownerState:a,ref:r,variant:"h6",id:i??d,...s})});function Xxe(e){return Xt("MuiDivider",e)}const n3=Kt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Zxe=e=>{const{absolute:t,children:r,classes:n,flexItem:o,light:i,orientation:s,textAlign:a,variant:c}=e;return ht({root:["root",t&&"absolute",c,i&&"light",s==="vertical"&&"vertical",o&&"flexItem",r&&"withChildren",r&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},Xxe,n)},Qxe=we("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(Gt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Jxe=we("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(Gt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Wg=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiDivider"}),{absolute:o=!1,children:i,className:s,orientation:a="horizontal",component:c=i||a==="vertical"?"div":"hr",flexItem:d=!1,light:h=!1,role:f=c!=="hr"?"separator":void 0,textAlign:g="center",variant:m="fullWidth",...y}=n,b={...n,absolute:o,component:c,flexItem:d,light:h,orientation:a,role:f,textAlign:g,variant:m},v=Zxe(b);return x.jsx(Qxe,{as:c,className:Ke(v.root,s),role:f,ref:r,ownerState:b,"aria-orientation":f==="separator"&&(c!=="hr"||a==="vertical")?a:void 0,...y,children:i?x.jsx(Jxe,{className:v.wrapper,ownerState:b,children:i}):null})});Wg&&(Wg.muiSkipListHighlight=!0);function e_e(e,t,r){const n=t.getBoundingClientRect(),o=r&&r.getBoundingClientRect(),i=is(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const d=i.getComputedStyle(t);s=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let a=0,c=0;if(s&&s!=="none"&&typeof s=="string"){const d=s.split("(")[1].split(")")[0].split(",");a=parseInt(d[4],10),c=parseInt(d[5],10)}return e==="left"?o?`translateX(${o.right+a-n.left}px)`:`translateX(${i.innerWidth+a-n.left}px)`:e==="right"?o?`translateX(-${n.right-o.left-a}px)`:`translateX(-${n.left+n.width-a}px)`:e==="up"?o?`translateY(${o.bottom+c-n.top}px)`:`translateY(${i.innerHeight+c-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-c}px)`:`translateY(-${n.top+n.height-c}px)`}function t_e(e){return typeof e=="function"?e():e}function aw(e,t,r){const n=t_e(r),o=e_e(e,t,n);o&&(t.style.webkitTransform=o,t.style.transform=o)}const r_e=_.forwardRef(function(t,r){const n=il(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:c,container:d,direction:h="down",easing:f=o,in:g,onEnter:m,onEntered:y,onEntering:b,onExit:v,onExited:C,onExiting:E,style:T,timeout:R=i,TransitionComponent:M=$s,...I}=t,N=_.useRef(null),P=Er(Qc(c),N,r),L=Q=>re=>{Q&&(re===void 0?Q(N.current):Q(N.current,re))},D=L((Q,re)=>{aw(h,Q,d),ZM(Q),m&&m(Q,re)}),$=L((Q,re)=>{const z=Yc({timeout:R,style:T,easing:f},{mode:"enter"});Q.style.webkitTransition=n.transitions.create("-webkit-transform",{...z}),Q.style.transition=n.transitions.create("transform",{...z}),Q.style.webkitTransform="none",Q.style.transform="none",b&&b(Q,re)}),B=L(y),U=L(E),q=L(Q=>{const re=Yc({timeout:R,style:T,easing:f},{mode:"exit"});Q.style.webkitTransition=n.transitions.create("-webkit-transform",re),Q.style.transition=n.transitions.create("transform",re),aw(h,Q,d),v&&v(Q)}),W=L(Q=>{Q.style.webkitTransition="",Q.style.transition="",C&&C(Q)}),V=Q=>{s&&s(N.current,Q)},Y=_.useCallback(()=>{N.current&&aw(h,N.current,d)},[h,d]);return _.useEffect(()=>{if(g||h==="down"||h==="right")return;const Q=qc(()=>{N.current&&aw(h,N.current,d)}),re=is(N.current);return re.addEventListener("resize",Q),()=>{Q.clear(),re.removeEventListener("resize",Q)}},[h,g,d]),_.useEffect(()=>{g||Y()},[g,Y]),x.jsx(M,{nodeRef:N,onEnter:D,onEntered:B,onEntering:$,onExit:q,onExited:W,onExiting:U,addEndListener:V,appear:a,in:g,timeout:R,...I,children:(Q,{ownerState:re,...z})=>_.cloneElement(c,{ref:P,style:{visibility:Q==="exited"&&!g?"hidden":void 0,...T,...c.props.style},...z})})}),n_e=e=>{const{classes:t,disableUnderline:r,startAdornment:n,endAdornment:o,size:i,hiddenLabel:s,multiline:a}=e,c={root:["root",!r&&"underline",n&&"adornedStart",o&&"adornedEnd",i==="small"&&`size${We(i)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},d=ht(c,w0e,t);return{...t,...d}},o_e=we(tw,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...Jb(e,t),!r.disableUnderline&&t.underline]}})(Gt(({theme:e})=>{const t=e.palette.mode==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${cs.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${cs.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cs.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cs.disabled}, .${cs.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${cs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zn()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),i_e=we(rw,{name:"MuiFilledInput",slot:"Input",overridesResolver:ew})(Gt(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),SO=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,hiddenLabel:c,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:g={},type:m="text",...y}=n,b={...n,disableUnderline:o,fullWidth:a,inputComponent:d,multiline:h,type:m},v=n_e(n),C={root:{ownerState:b},input:{ownerState:b}},E=f??s?zo(C,f??s):C,T=g.root??i.Root??o_e,R=g.input??i.Input??i_e;return x.jsx(zg,{slots:{root:T,input:R},slotProps:E,fullWidth:a,inputComponent:d,multiline:h,ref:r,type:m,...y,classes:v})});SO.muiName="Input";function s_e(e){return Xt("MuiFormControl",e)}Kt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const a_e=e=>{const{classes:t,margin:r,fullWidth:n}=e,o={root:["root",r!=="none"&&`margin${We(r)}`,n&&"fullWidth"]};return ht(o,s_e,t)},l_e=we("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`margin${We(r.margin)}`],r.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),lw=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:c=!1,error:d=!1,focused:h,fullWidth:f=!1,hiddenLabel:g=!1,margin:m="none",required:y=!1,size:b="medium",variant:v="outlined",...C}=n,E={...n,color:s,component:a,disabled:c,error:d,fullWidth:f,hiddenLabel:g,margin:m,required:y,size:b,variant:v},T=a_e(E),[R,M]=_.useState(()=>{let W=!1;return o&&_.Children.forEach(o,V=>{if(!Fb(V,["Input","Select"]))return;const Y=Fb(V,["Select"])?V.props.input:V;Y&&g0e(Y.props)&&(W=!0)}),W}),[I,N]=_.useState(()=>{let W=!1;return o&&_.Children.forEach(o,V=>{Fb(V,["Input","Select"])&&(Qb(V.props,!0)||Qb(V.props.inputProps,!0))&&(W=!0)}),W}),[P,L]=_.useState(!1);c&&P&&L(!1);const D=h!==void 0&&!c?h:P;let $;_.useRef(!1);const B=_.useCallback(()=>{N(!0)},[]),U=_.useCallback(()=>{N(!1)},[]),q=_.useMemo(()=>({adornedStart:R,setAdornedStart:M,color:s,disabled:c,error:d,filled:I,focused:D,fullWidth:f,hiddenLabel:g,size:b,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:U,onFilled:B,registerEffect:$,required:y,variant:v}),[R,s,c,d,I,D,f,g,$,U,B,y,b,v]);return x.jsx(Zb.Provider,{value:q,children:x.jsx(l_e,{as:a,ownerState:E,className:Ke(T.root,i),ref:r,...C,children:o})})});function c_e(e){return Xt("MuiFormControlLabel",e)}const of=Kt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),u_e=e=>{const{classes:t,disabled:r,labelPlacement:n,error:o,required:i}=e,s={root:["root",r&&"disabled",`labelPlacement${We(n)}`,o&&"error",i&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",o&&"error"]};return ht(s,c_e,t)},d_e=we("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${of.label}`]:t.label},t.root,t[`labelPlacement${We(r.labelPlacement)}`]]}})(Gt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${of.disabled}`]:{cursor:"default"},[`& .${of.label}`]:{[`&.${of.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),h_e=we("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Gt(({theme:e})=>({[`&.${of.error}`]:{color:(e.vars||e).palette.error.main}}))),Zl=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiFormControlLabel"}),{checked:o,className:i,componentsProps:s={},control:a,disabled:c,disableTypography:d,inputRef:h,label:f,labelPlacement:g="end",name:m,onChange:y,required:b,slots:v={},slotProps:C={},value:E,...T}=n,R=Xl(),M=c??a.props.disabled??R?.disabled,I=b??a.props.required,N={disabled:M,required:I};["checked","name","onChange","value","inputRef"].forEach(W=>{typeof a.props[W]>"u"&&typeof n[W]<"u"&&(N[W]=n[W])});const P=Rd({props:n,muiFormControl:R,states:["error"]}),L={...n,disabled:M,labelPlacement:g,required:I,error:P.error},D=u_e(L),$={slots:v,slotProps:{...s,...C}},[B,U]=lr("typography",{elementType:mo,externalForwardedProps:$,ownerState:L});let q=f;return q!=null&&q.type!==mo&&!d&&(q=x.jsx(B,{component:"span",...U,className:Ke(D.label,U?.className),children:q})),x.jsxs(d_e,{className:Ke(D.root,i),ownerState:L,ref:r,...T,children:[_.cloneElement(a,N),I?x.jsxs("div",{children:[q,x.jsxs(h_e,{ownerState:L,"aria-hidden":!0,className:D.asterisk,children:[" ","*"]})]}):q]})});function f_e(e){return Xt("MuiFormHelperText",e)}const o3=Kt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var i3;const p_e=e=>{const{classes:t,contained:r,size:n,disabled:o,error:i,filled:s,focused:a,required:c}=e,d={root:["root",o&&"disabled",i&&"error",n&&`size${We(n)}`,r&&"contained",a&&"focused",s&&"filled",c&&"required"]};return ht(d,f_e,t)},g_e=we("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${We(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(Gt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${o3.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${o3.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),m_e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiFormHelperText"}),{children:o,className:i,component:s="p",disabled:a,error:c,filled:d,focused:h,margin:f,required:g,variant:m,...y}=n,b=Xl(),v=Rd({props:n,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),C={...n,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete C.ownerState;const E=p_e(C);return x.jsx(g_e,{as:s,className:Ke(E.root,i),ref:r,...y,ownerState:C,children:o===" "?i3||(i3=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):o})});function v_e(e){return Xt("MuiFormLabel",e)}const Kg=Kt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),y_e=e=>{const{classes:t,color:r,focused:n,disabled:o,error:i,filled:s,required:a}=e,c={root:["root",`color${We(r)}`,o&&"disabled",i&&"error",s&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return ht(c,v_e,t)},b_e=we("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color==="secondary"&&t.colorSecondary,r.filled&&t.filled]}})(Gt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{[`&.${Kg.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Kg.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Kg.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),w_e=we("span",{name:"MuiFormLabel",slot:"Asterisk"})(Gt(({theme:e})=>({[`&.${Kg.error}`]:{color:(e.vars||e).palette.error.main}}))),S_e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiFormLabel"}),{children:o,className:i,color:s,component:a="label",disabled:c,error:d,filled:h,focused:f,required:g,...m}=n,y=Xl(),b=Rd({props:n,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),v={...n,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},C=y_e(v);return x.jsxs(b_e,{as:a,ownerState:v,className:Ke(C.root,i),ref:r,...m,children:[o,b.required&&x.jsxs(w_e,{ownerState:v,"aria-hidden":!0,className:C.asterisk,children:[" ","*"]})]})});function CO(e){return`scale(${e}, ${e**2})`}const C_e={entering:{opacity:1,transform:CO(1)},entered:{opacity:1,transform:"none"}},xO=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),qg=_.forwardRef(function(t,r){const{addEndListener:n,appear:o=!0,children:i,easing:s,in:a,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:g,onExiting:m,style:y,timeout:b="auto",TransitionComponent:v=$s,...C}=t,E=Fi(),T=_.useRef(),R=il(),M=_.useRef(null),I=Er(M,Qc(i),r),N=W=>V=>{if(W){const Y=M.current;V===void 0?W(Y):W(Y,V)}},P=N(h),L=N((W,V)=>{ZM(W);const{duration:Y,delay:Q,easing:re}=Yc({style:y,timeout:b,easing:s},{mode:"enter"});let z;b==="auto"?(z=R.transitions.getAutoHeightDuration(W.clientHeight),T.current=z):z=Y,W.style.transition=[R.transitions.create("opacity",{duration:z,delay:Q}),R.transitions.create("transform",{duration:xO?z:z*.666,delay:Q,easing:re})].join(","),c&&c(W,V)}),D=N(d),$=N(m),B=N(W=>{const{duration:V,delay:Y,easing:Q}=Yc({style:y,timeout:b,easing:s},{mode:"exit"});let re;b==="auto"?(re=R.transitions.getAutoHeightDuration(W.clientHeight),T.current=re):re=V,W.style.transition=[R.transitions.create("opacity",{duration:re,delay:Y}),R.transitions.create("transform",{duration:xO?re:re*.666,delay:xO?Y:Y||re*.333,easing:Q})].join(","),W.style.opacity=0,W.style.transform=CO(.75),f&&f(W)}),U=N(g),q=W=>{b==="auto"&&E.start(T.current||0,W),n&&n(M.current,W)};return x.jsx(v,{appear:o,in:a,nodeRef:M,onEnter:L,onEntered:D,onEntering:P,onExit:B,onExited:U,onExiting:$,addEndListener:q,timeout:b==="auto"?null:b,...C,children:(W,{ownerState:V,...Y})=>_.cloneElement(i,{style:{opacity:0,transform:CO(.75),visibility:W==="exited"&&!a?"hidden":void 0,...C_e[W],...y,...i.props.style},ref:I,...Y})})});qg&&(qg.muiSupportAuto=!0);const x_e=e=>{const{classes:t,disableUnderline:r}=e,o=ht({root:["root",!r&&"underline"],input:["input"]},y0e,t);return{...t,...o}},__e=we(tw,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...Jb(e,t),!r.disableUnderline&&t.underline]}})(Gt(({theme:e})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jc.disabled}, .${Jc.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Jc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Zn()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),E_e=we(rw,{name:"MuiInput",slot:"Input",overridesResolver:ew})({}),_O=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:f={},type:g="text",...m}=n,y=x_e(n),v={root:{ownerState:{disableUnderline:o}}},C=h??s?zo(h??s,v):v,E=f.root??i.Root??__e,T=f.input??i.Input??E_e;return x.jsx(zg,{slots:{root:E,input:T},slotProps:C,fullWidth:a,inputComponent:c,multiline:d,ref:r,type:g,...m,classes:y})});_O.muiName="Input";function T_e(e){return Xt("MuiInputAdornment",e)}const EO=Kt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var s3;const M_e=(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${We(r.position)}`],r.disablePointerEvents===!0&&t.disablePointerEvents,t[r.variant]]},O_e=e=>{const{classes:t,disablePointerEvents:r,hiddenLabel:n,position:o,size:i,variant:s}=e,a={root:["root",r&&"disablePointerEvents",o&&`position${We(o)}`,s,n&&"hiddenLabel",i&&`size${We(i)}`]};return ht(a,T_e,t)},R_e=we("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:M_e})(Gt(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${EO.positionStart}&:not(.${EO.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),I_e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:c=!1,position:d,variant:h,...f}=n,g=Xl()||{};let m=h;h&&g.variant,g&&!m&&(m=g.variant);const y={...n,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:a,position:d,variant:m},b=O_e(y);return x.jsx(Zb.Provider,{value:null,children:x.jsx(R_e,{as:s,ownerState:y,className:Ke(b.root,i),ref:r,...f,children:typeof o=="string"&&!c?x.jsx(mo,{color:"textSecondary",children:o}):x.jsxs(_.Fragment,{children:[d==="start"?s3||(s3=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,o]})})})});function P_e(e){return Xt("MuiInputLabel",e)}Kt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const k_e=e=>{const{classes:t,formControl:r,size:n,shrink:o,disableAnimation:i,variant:s,required:a}=e,c={root:["root",r&&"formControl",!i&&"animated",o&&"shrink",n&&n!=="medium"&&`size${We(n)}`,s],asterisk:[a&&"asterisk"]},d=ht(c,P_e,t);return{...t,...d}},D_e=we(S_e,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Kg.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(Gt(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:r,size:n})=>t==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:r})=>t==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),a3=_.forwardRef(function(t,r){const n=ir({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,margin:i,shrink:s,variant:a,className:c,...d}=n,h=Xl();let f=s;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);const g=Rd({props:n,muiFormControl:h,states:["size","variant","required","focused"]}),m={...n,disableAnimation:o,formControl:h,shrink:f,size:g.size,variant:g.variant,required:g.required,focused:g.focused},y=k_e(m);return x.jsx(D_e,{"data-shrink":f,ref:r,className:Ke(y.root,c),...d,ownerState:m,classes:y})});function A_e(e){return Xt("MuiLinearProgress",e)}Kt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const TO=4,MO=Bs`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,L_e=typeof MO!="string"?Hc`
        animation: ${MO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,OO=Bs`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,N_e=typeof OO!="string"?Hc`
        animation: ${OO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,RO=Bs`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,B_e=typeof RO!="string"?Hc`
        animation: ${RO} 3s infinite linear;
      `:null,F_e=e=>{const{classes:t,variant:r,color:n}=e,o={root:["root",`color${We(n)}`,r],dashed:["dashed",`dashedColor${We(n)}`],bar1:["bar","bar1",`barColor${We(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",r!=="buffer"&&`barColor${We(n)}`,r==="buffer"&&`color${We(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return ht(o,A_e,t)},IO=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),j_e=we("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${We(r.color)}`],t[r.variant]]}})(Gt(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{backgroundColor:IO(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),V_e=we("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${We(r.color)}`]]}})(Gt(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(Zn()).map(([t])=>{const r=IO(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),B_e||{animation:`${RO} 3s infinite linear`}),$_e=we("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar1,t[`barColor${We(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(Gt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${TO}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${TO}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:L_e||{animation:`${MO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),z_e=we("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar2,t[`barColor${We(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(Gt(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:IO(e,t),transition:`transform .${TO}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:N_e||{animation:`${OO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),U_e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:s,valueBuffer:a,variant:c="indeterminate",...d}=n,h={...n,color:i,variant:c},f=F_e(h),g=Uo(),m={},y={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){m["aria-valuenow"]=Math.round(s),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let b=s-100;g&&(b=-b),y.bar1.transform=`translateX(${b}%)`}if(c==="buffer"&&a!==void 0){let b=(a||0)-100;g&&(b=-b),y.bar2.transform=`translateX(${b}%)`}return x.jsxs(j_e,{className:Ke(f.root,o),ownerState:h,role:"progressbar",...m,ref:r,...d,children:[c==="buffer"?x.jsx(V_e,{className:f.dashed,ownerState:h}):null,x.jsx($_e,{className:f.bar1,ownerState:h,style:y.bar1}),c==="determinate"?null:x.jsx(z_e,{className:f.bar2,ownerState:h,style:y.bar2})]})}),Sa=_.createContext({});function G_e(e){return Xt("MuiList",e)}Kt("MuiList",["root","padding","dense","subheader"]);const H_e=e=>{const{classes:t,disablePadding:r,dense:n,subheader:o}=e;return ht({root:["root",!r&&"padding",n&&"dense",o&&"subheader"]},G_e,t)},W_e=we("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),l3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:d,...h}=n,f=_.useMemo(()=>({dense:a}),[a]),g={...n,component:s,dense:a,disablePadding:c},m=H_e(g);return x.jsx(Sa.Provider,{value:f,children:x.jsxs(W_e,{as:s,className:Ke(m.root,i),ref:r,ownerState:g,...h,children:[d,o]})})});function K_e(e){return Xt("MuiListItem",e)}Kt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function q_e(e){return Xt("MuiListItemButton",e)}const sf=Kt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Y_e=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},X_e=e=>{const{alignItems:t,classes:r,dense:n,disabled:o,disableGutters:i,divider:s,selected:a}=e,d=ht({root:["root",n&&"dense",!i&&"gutters",s&&"divider",o&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},q_e,r);return{...r,...d}},Z_e=we(sl,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Y_e})(Gt(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${sf.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${sf.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${sf.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${sf.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${sf.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Q_e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:s="div",children:a,dense:c=!1,disableGutters:d=!1,divider:h=!1,focusVisibleClassName:f,selected:g=!1,className:m,...y}=n,b=_.useContext(Sa),v=_.useMemo(()=>({dense:c||b.dense||!1,alignItems:o,disableGutters:d}),[o,b.dense,c,d]),C=_.useRef(null);zr(()=>{i&&C.current&&C.current.focus()},[i]);const E={...n,alignItems:o,dense:v.dense,disableGutters:d,divider:h,selected:g},T=X_e(E),R=Er(C,r);return x.jsx(Sa.Provider,{value:v,children:x.jsx(Z_e,{ref:R,href:y.href||y.to,component:(y.href||y.to)&&s==="div"?"button":s,focusVisibleClassName:Ke(T.focusVisible,f),ownerState:E,className:Ke(T.root,m),...y,classes:T,children:a})})});function J_e(e){return Xt("MuiListItemSecondaryAction",e)}Kt("MuiListItemSecondaryAction",["root","disableGutters"]);const eEe=e=>{const{disableGutters:t,classes:r}=e;return ht({root:["root",t&&"disableGutters"]},J_e,r)},tEe=we("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),c3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiListItemSecondaryAction"}),{className:o,...i}=n,s=_.useContext(Sa),a={...n,disableGutters:s.disableGutters},c=eEe(a);return x.jsx(tEe,{className:Ke(c.root,o),ownerState:a,ref:r,...i})});c3.muiName="ListItemSecondaryAction";const rEe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.hasSecondaryAction&&t.secondaryAction]},nEe=e=>{const{alignItems:t,classes:r,dense:n,disableGutters:o,disablePadding:i,divider:s,hasSecondaryAction:a}=e;return ht({root:["root",n&&"dense",!o&&"gutters",!i&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},K_e,r)},oEe=we("div",{name:"MuiListItem",slot:"Root",overridesResolver:rEe})(Gt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${sf.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),iEe=we("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),sEe=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiListItem"}),{alignItems:o="center",children:i,className:s,component:a,components:c={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f,...g}={},dense:m=!1,disableGutters:y=!1,disablePadding:b=!1,divider:v=!1,secondaryAction:C,slotProps:E={},slots:T={},...R}=n,M=_.useContext(Sa),I=_.useMemo(()=>({dense:m||M.dense||!1,alignItems:o,disableGutters:y}),[o,M.dense,m,y]),N=_.useRef(null),P=_.Children.toArray(i),L=P.length&&Fb(P[P.length-1],["ListItemSecondaryAction"]),D={...n,alignItems:o,dense:I.dense,disableGutters:y,disablePadding:b,divider:v,hasSecondaryAction:L},$=nEe(D),B=Er(N,r),U=T.root||c.Root||oEe,q=E.root||d.root||{},W={className:Ke($.root,q.className,s),...R};let V=a||"li";return L?(V=!W.component&&!a?"div":V,h==="li"&&(V==="li"?V="div":W.component==="li"&&(W.component="div")),x.jsx(Sa.Provider,{value:I,children:x.jsxs(iEe,{as:h,className:Ke($.container,f),ref:B,ownerState:D,...g,children:[x.jsx(U,{...q,...!Qh(U)&&{as:V,ownerState:{...D,...q.ownerState}},...W,children:P}),P.pop()]})})):x.jsx(Sa.Provider,{value:I,children:x.jsxs(U,{...q,as:V,ref:B,...!Qh(U)&&{ownerState:{...D,...q.ownerState}},...W,children:[P,C&&x.jsx(c3,{children:C})]})})});function aEe(e){return Xt("MuiListItemIcon",e)}const u3=Kt("MuiListItemIcon",["root","alignItemsFlexStart"]),lEe=e=>{const{alignItems:t,classes:r}=e;return ht({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},aEe,r)},cEe=we("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Gt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),cw=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiListItemIcon"}),{className:o,...i}=n,s=_.useContext(Sa),a={...n,alignItems:s.alignItems},c=lEe(a);return x.jsx(cEe,{className:Ke(c.root,o),ownerState:a,ref:r,...i})});function uEe(e){return Xt("MuiListItemText",e)}const Pd=Kt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),dEe=e=>{const{classes:t,inset:r,primary:n,secondary:o,dense:i}=e;return ht({root:["root",r&&"inset",i&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},uEe,t)},hEe=we("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Pd.primary}`]:t.primary},{[`& .${Pd.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${lU.root}:where(& .${Pd.primary})`]:{display:"block"},[`.${lU.root}:where(& .${Pd.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),d3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:c,primaryTypographyProps:d,secondary:h,secondaryTypographyProps:f,slots:g={},slotProps:m={},...y}=n,{dense:b}=_.useContext(Sa);let v=c??o,C=h;const E={...n,disableTypography:s,inset:a,primary:!!v,secondary:!!C,dense:b},T=dEe(E),R={slots:g,slotProps:{primary:d,secondary:f,...m}},[M,I]=lr("root",{className:Ke(T.root,i),elementType:hEe,externalForwardedProps:{...R,...y},ownerState:E,ref:r}),[N,P]=lr("primary",{className:T.primary,elementType:mo,externalForwardedProps:R,ownerState:E}),[L,D]=lr("secondary",{className:T.secondary,elementType:mo,externalForwardedProps:R,ownerState:E});return v!=null&&v.type!==mo&&!s&&(v=x.jsx(N,{variant:b?"body2":"body1",component:P?.variant?void 0:"span",...P,children:v})),C!=null&&C.type!==mo&&!s&&(C=x.jsx(L,{variant:"body2",color:"textSecondary",...D,children:C})),x.jsxs(M,{...I,children:[v,C]})});function PO(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function h3(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function f3(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.startsWith(t.keys.join(""))}function Yg(e,t,r,n,o,i){let s=!1,a=o(e,t,t?r:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const c=n?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!f3(a,i)||c)a=o(e,a,r);else return a.focus(),!0}return!1}const p3=_.forwardRef(function(t,r){const{actions:n,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:h,variant:f="selectedMenu",...g}=t,m=_.useRef(null),y=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});zr(()=>{o&&m.current.focus()},[o]),_.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(T,{direction:R})=>{const M=!m.current.style.width;if(T.clientHeight<m.current.clientHeight&&M){const I=`${YU(is(T))}px`;m.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=I,m.current.style.width=`calc(100% + ${I})`}return m.current}}),[]);const b=T=>{const R=m.current,M=T.key;if(T.ctrlKey||T.metaKey||T.altKey){h&&h(T);return}const N=Xn(R).activeElement;if(M==="ArrowDown")T.preventDefault(),Yg(R,N,d,c,PO);else if(M==="ArrowUp")T.preventDefault(),Yg(R,N,d,c,h3);else if(M==="Home")T.preventDefault(),Yg(R,null,d,c,PO);else if(M==="End")T.preventDefault(),Yg(R,null,d,c,h3);else if(M.length===1){const P=y.current,L=M.toLowerCase(),D=performance.now();P.keys.length>0&&(D-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&L!==P.keys[0]&&(P.repeating=!1)),P.lastTime=D,P.keys.push(L);const $=N&&!P.repeating&&f3(N,P);P.previousKeyMatched&&($||Yg(R,N,!1,c,PO,P))?T.preventDefault():P.previousKeyMatched=!1}h&&h(T)},v=Er(m,r);let C=-1;_.Children.forEach(s,(T,R)=>{if(!_.isValidElement(T)){C===R&&(C+=1,C>=s.length&&(C=-1));return}T.props.disabled||(f==="selectedMenu"&&T.props.selected||C===-1)&&(C=R),C===R&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(C+=1,C>=s.length&&(C=-1))});const E=_.Children.map(s,(T,R)=>{if(R===C){const M={};return i&&(M.autoFocus=!0),T.props.tabIndex===void 0&&f==="selectedMenu"&&(M.tabIndex=0),_.cloneElement(T,M)}return T});return x.jsx(l3,{role:"menu",ref:v,className:a,onKeyDown:b,tabIndex:o?0:-1,...g,children:E})});function fEe(e){return Xt("MuiPopover",e)}Kt("MuiPopover",["root","paper"]);function g3(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function m3(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function v3(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function uw(e){return typeof e=="function"?e():e}const pEe=e=>{const{classes:t}=e;return ht({root:["root"],paper:["paper"]},fEe,t)},gEe=we(sw,{name:"MuiPopover",slot:"Root"})({}),y3=we(Td,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),mEe=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:d,className:h,container:f,elevation:g=8,marginThreshold:m=16,open:y,PaperProps:b={},slots:v={},slotProps:C={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:R="auto",TransitionProps:M={},disableScrollLock:I=!1,...N}=n,P=_.useRef(),L={...n,anchorOrigin:s,anchorReference:c,elevation:g,marginThreshold:m,transformOrigin:E,TransitionComponent:T,transitionDuration:R,TransitionProps:M},D=pEe(L),$=_.useCallback(()=>{if(c==="anchorPosition")return a;const he=uw(i),Se=(he&&he.nodeType===1?he:Xn(P.current).body).getBoundingClientRect();return{top:Se.top+g3(Se,s.vertical),left:Se.left+m3(Se,s.horizontal)}},[i,s.horizontal,s.vertical,a,c]),B=_.useCallback(he=>({vertical:g3(he,E.vertical),horizontal:m3(he,E.horizontal)}),[E.horizontal,E.vertical]),U=_.useCallback(he=>{const pe={width:he.offsetWidth,height:he.offsetHeight},Se=B(pe);if(c==="none")return{top:null,left:null,transformOrigin:v3(Se)};const Ee=$();let ke=Ee.top-Se.vertical,Te=Ee.left-Se.horizontal;const Ve=ke+pe.height,nt=Te+pe.width,je=is(uw(i)),Rt=je.innerHeight-m,dt=je.innerWidth-m;if(m!==null&&ke<m){const Ct=ke-m;ke-=Ct,Se.vertical+=Ct}else if(m!==null&&Ve>Rt){const Ct=Ve-Rt;ke-=Ct,Se.vertical+=Ct}if(m!==null&&Te<m){const Ct=Te-m;Te-=Ct,Se.horizontal+=Ct}else if(nt>dt){const Ct=nt-dt;Te-=Ct,Se.horizontal+=Ct}return{top:`${Math.round(ke)}px`,left:`${Math.round(Te)}px`,transformOrigin:v3(Se)}},[i,c,$,B,m]),[q,W]=_.useState(y),V=_.useCallback(()=>{const he=P.current;if(!he)return;const pe=U(he);pe.top!==null&&he.style.setProperty("top",pe.top),pe.left!==null&&(he.style.left=pe.left),he.style.transformOrigin=pe.transformOrigin,W(!0)},[U]);_.useEffect(()=>(I&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[i,I,V]);const Y=()=>{V()},Q=()=>{W(!1)};_.useEffect(()=>{y&&V()}),_.useImperativeHandle(o,()=>y?{updatePosition:()=>{V()}}:null,[y,V]),_.useEffect(()=>{if(!y)return;const he=qc(()=>{V()}),pe=is(uw(i));return pe.addEventListener("resize",he),()=>{he.clear(),pe.removeEventListener("resize",he)}},[i,y,V]);let re=R;const z={slots:{transition:T,...v},slotProps:{transition:M,paper:b,...C}},[K,Z]=lr("transition",{elementType:qg,externalForwardedProps:z,ownerState:L,getSlotProps:he=>({...he,onEntering:(pe,Se)=>{he.onEntering?.(pe,Se),Y()},onExited:pe=>{he.onExited?.(pe),Q()}}),additionalProps:{appear:!0,in:y}});R==="auto"&&!K.muiSupportAuto&&(re=void 0);const le=f||(i?Xn(uw(i)).body:void 0),[ce,{slots:ue,slotProps:ae,...ye}]=lr("root",{ref:r,elementType:gEe,externalForwardedProps:{...z,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:eU(typeof C.backdrop=="function"?C.backdrop(L):C.backdrop,{invisible:!0})},container:le,open:y},ownerState:L,className:Ke(D.root,h)}),[Me,xe]=lr("paper",{ref:P,className:D.paper,elementType:y3,externalForwardedProps:z,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:q?void 0:{opacity:0}},ownerState:L});return x.jsx(ce,{...ye,...!Qh(ce)&&{slots:ue,slotProps:ae,disableScrollLock:I},children:x.jsx(K,{...Z,timeout:re,children:x.jsx(Me,{...xe,children:d})})})});function vEe(e){return Xt("MuiMenu",e)}Kt("MuiMenu",["root","paper","list"]);const yEe={vertical:"top",horizontal:"right"},bEe={vertical:"top",horizontal:"left"},wEe=e=>{const{classes:t}=e;return ht({root:["root"],paper:["paper"],list:["list"]},vEe,t)},SEe=we(mEe,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),CEe=we(y3,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xEe=we(p3,{name:"MuiMenu",slot:"List"})({outline:0}),dw=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:s,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:y,...b}={},variant:v="selectedMenu",slots:C={},slotProps:E={},...T}=n,R=Uo(),M={...n,autoFocus:o,disableAutoFocusItem:a,MenuListProps:c,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:b,variant:v},I=wEe(M),N=o&&!a&&h,P=_.useRef(null),L=(re,z)=>{P.current&&P.current.adjustStyleForScrollbar(re,{direction:R?"rtl":"ltr"}),y&&y(re,z)},D=re=>{re.key==="Tab"&&(re.preventDefault(),d&&d(re,"tabKeyDown"))};let $=-1;_.Children.map(i,(re,z)=>{_.isValidElement(re)&&(re.props.disabled||(v==="selectedMenu"&&re.props.selected||$===-1)&&($=z))});const B={slots:C,slotProps:{list:c,transition:b,paper:f,...E}},U=Go({elementType:C.root,externalSlotProps:E.root,ownerState:M,className:[I.root,s]}),[q,W]=lr("paper",{className:I.paper,elementType:CEe,externalForwardedProps:B,shouldForwardComponentProp:!0,ownerState:M}),[V,Y]=lr("list",{className:Ke(I.list,c.className),elementType:xEe,shouldForwardComponentProp:!0,externalForwardedProps:B,getSlotProps:re=>({...re,onKeyDown:z=>{D(z),re.onKeyDown?.(z)}}),ownerState:M}),Q=typeof B.slotProps.transition=="function"?B.slotProps.transition(M):B.slotProps.transition;return x.jsx(SEe,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?yEe:bEe,slots:{root:C.root,paper:q,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:U,paper:W,backdrop:typeof E.backdrop=="function"?E.backdrop(M):E.backdrop,transition:{...Q,onEntering:(...re)=>{L(...re),Q?.onEntering?.(...re)}}},open:h,ref:r,transitionDuration:m,ownerState:M,...T,classes:g,children:x.jsx(V,{actions:P,autoFocus:o&&($===-1||a),autoFocusItem:N,variant:v,...Y,children:i})})});function _Ee(e){return Xt("MuiMenuItem",e)}const Xg=Kt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),EEe=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},TEe=e=>{const{disabled:t,dense:r,divider:n,disableGutters:o,selected:i,classes:s}=e,c=ht({root:["root",r&&"dense",t&&"disabled",!o&&"gutters",n&&"divider",i&&"selected"]},_Ee,s);return{...s,...c}},MEe=we(sl,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:EEe})(Gt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xg.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Xg.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${Xg.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${Xg.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xg.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${n3.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${n3.inset}`]:{marginLeft:52},[`& .${Pd.root}`]:{marginTop:0,marginBottom:0},[`& .${Pd.inset}`]:{paddingLeft:36},[`& .${u3.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${u3.root} svg`]:{fontSize:"1.25rem"}}}]}))),zi=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:f,className:g,...m}=n,y=_.useContext(Sa),b=_.useMemo(()=>({dense:s||y.dense||!1,disableGutters:c}),[y.dense,s,c]),v=_.useRef(null);zr(()=>{o&&v.current&&v.current.focus()},[o]);const C={...n,dense:b.dense,divider:a,disableGutters:c},E=TEe(n),T=Er(v,r);let R;return n.disabled||(R=f!==void 0?f:-1),x.jsx(Sa.Provider,{value:b,children:x.jsx(MEe,{ref:T,role:h,tabIndex:R,component:i,focusVisibleClassName:Ke(E.focusVisible,d),className:Ke(E.root,g),...m,ownerState:C,classes:E})})});function OEe(e){return Xt("MuiNativeSelect",e)}const kO=Kt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),REe=e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:i,error:s}=e,a={select:["select",r,n&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${We(r)}`,i&&"iconOpen",n&&"disabled"]};return ht(a,OEe,t)},b3=we("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${kO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),IEe=we(b3,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:_i,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${kO.multiple}`]:t.multiple}]}})({}),w3=we("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${kO.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),PEe=we(w3,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${We(r.variant)}`],r.open&&t.iconOpen]}})({}),kEe=_.forwardRef(function(t,r){const{className:n,disabled:o,error:i,IconComponent:s,inputRef:a,variant:c="standard",...d}=t,h={...t,disabled:o,variant:c,error:i},f=REe(h);return x.jsxs(_.Fragment,{children:[x.jsx(IEe,{ownerState:h,className:Ke(f.select,n),disabled:o,ref:a||r,...d}),t.multiple?null:x.jsx(PEe,{as:s,ownerState:h,className:f.icon})]})});var S3;const DEe=we("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:_i})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),AEe=we("legend",{name:"MuiNotchedOutlined",shouldForwardProp:_i})(Gt(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function LEe(e){const{children:t,classes:r,className:n,label:o,notched:i,...s}=e,a=o!=null&&o!=="",c={...e,notched:i,withLabel:a};return x.jsx(DEe,{"aria-hidden":!0,className:n,ownerState:c,...s,children:x.jsx(AEe,{ownerState:c,children:a?x.jsx("span",{children:o}):S3||(S3=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const NEe=e=>{const{classes:t}=e,n=ht({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},b0e,t);return{...t,...n}},BEe=we(tw,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Jb})(Gt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ws.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${Ws.focused} .${Ws.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Zn()).map(([r])=>({props:{color:r},style:{[`&.${Ws.focused} .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${Ws.error} .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ws.disabled} .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),FEe=we(LEe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Gt(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),jEe=we(rw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ew})(Gt(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),DO=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:i=!1,inputComponent:s="input",label:a,multiline:c=!1,notched:d,slots:h={},slotProps:f={},type:g="text",...m}=n,y=NEe(n),b=Xl(),v=Rd({props:n,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...n,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:b,fullWidth:i,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:g},E=h.root??o.Root??BEe,T=h.input??o.Input??jEe,[R,M]=lr("notchedOutline",{elementType:FEe,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:h,slotProps:f},additionalProps:{label:a!=null&&a!==""&&v.required?x.jsxs(_.Fragment,{children:[a," ","*"]}):a}});return x.jsx(zg,{slots:{root:E,input:T},slotProps:f,renderSuffix:I=>x.jsx(R,{...M,notched:typeof d<"u"?d:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:i,inputComponent:s,multiline:c,ref:r,type:g,...m,classes:{...y,notchedOutline:null}})});DO.muiName="Input";const VEe=xt(x.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),$Ee=xt(x.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function C3(e){return Xt("MuiSelect",e)}const Zg=Kt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var x3;const zEe=we(b3,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${Zg.select}`]:t.select},{[`&.${Zg.select}`]:t[r.variant]},{[`&.${Zg.error}`]:t.error},{[`&.${Zg.multiple}`]:t.multiple}]}})({[`&.${Zg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),UEe=we(w3,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${We(r.variant)}`],r.open&&t.iconOpen]}})({}),GEe=we("input",{shouldForwardProp:e=>Qz(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _3(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function HEe(e){return e==null||typeof e=="string"&&!e.trim()}const WEe=e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:i,error:s}=e,a={select:["select",r,n&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${We(r)}`,i&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return ht(a,C3,t)},KEe=_.forwardRef(function(t,r){const{"aria-describedby":n,"aria-label":o,autoFocus:i,autoWidth:s,children:a,className:c,defaultOpen:d,defaultValue:h,disabled:f,displayEmpty:g,error:m=!1,IconComponent:y,inputRef:b,labelId:v,MenuProps:C={},multiple:E,name:T,onBlur:R,onChange:M,onClose:I,onFocus:N,onOpen:P,open:L,readOnly:D,renderValue:$,required:B,SelectDisplayProps:U={},tabIndex:q,type:W,value:V,variant:Y="standard",...Q}=t,[re,z]=Cd({controlled:V,default:h,name:"Select"}),[K,Z]=Cd({controlled:L,default:d,name:"Select"}),le=_.useRef(null),ce=_.useRef(null),[ue,ae]=_.useState(null),{current:ye}=_.useRef(L!=null),[Me,xe]=_.useState(),he=Er(r,b),pe=_.useCallback(at=>{ce.current=at,at&&ae(at)},[]),Se=ue?.parentNode;_.useImperativeHandle(he,()=>({focus:()=>{ce.current.focus()},node:le.current,value:re}),[re]),_.useEffect(()=>{d&&K&&ue&&!ye&&(xe(s?null:Se.clientWidth),ce.current.focus())},[ue,s]),_.useEffect(()=>{i&&ce.current.focus()},[i]),_.useEffect(()=>{if(!v)return;const at=Xn(ce.current).getElementById(v);if(at){const At=()=>{getSelection().isCollapsed&&ce.current.focus()};return at.addEventListener("click",At),()=>{at.removeEventListener("click",At)}}},[v]);const Ee=(at,At)=>{at?P&&P(At):I&&I(At),ye||(xe(s?null:Se.clientWidth),Z(at))},ke=at=>{at.button===0&&(at.preventDefault(),ce.current.focus(),Ee(!0,at))},Te=at=>{Ee(!1,at)},Ve=_.Children.toArray(a),nt=at=>{const At=Ve.find(ft=>ft.props.value===at.target.value);At!==void 0&&(z(At.props.value),M&&M(at,At))},je=at=>At=>{let ft;if(At.currentTarget.hasAttribute("tabindex")){if(E){ft=Array.isArray(re)?re.slice():[];const Pt=re.indexOf(at.props.value);Pt===-1?ft.push(at.props.value):ft.splice(Pt,1)}else ft=at.props.value;if(at.props.onClick&&at.props.onClick(At),re!==ft&&(z(ft),M)){const Pt=At.nativeEvent||At,Ir=new Pt.constructor(Pt.type,Pt);Object.defineProperty(Ir,"target",{writable:!0,value:{value:ft,name:T}}),M(Ir,at)}E||Ee(!1,At)}},Rt=at=>{D||[" ","ArrowUp","ArrowDown","Enter"].includes(at.key)&&(at.preventDefault(),Ee(!0,at))},dt=ue!==null&&K,Ct=at=>{!dt&&R&&(Object.defineProperty(at,"target",{writable:!0,value:{value:re,name:T}}),R(at))};delete Q["aria-invalid"];let $e,It;const mt=[];let Bt=!1;(Qb({value:re})||g)&&($?$e=$(re):Bt=!0);const zt=Ve.map(at=>{if(!_.isValidElement(at))return null;let At;if(E){if(!Array.isArray(re))throw new Error(Wl(2));At=re.some(ft=>_3(ft,at.props.value)),At&&Bt&&mt.push(at.props.children)}else At=_3(re,at.props.value),At&&Bt&&(It=at.props.children);return _.cloneElement(at,{"aria-selected":At?"true":"false",onClick:je(at),onKeyUp:ft=>{ft.key===" "&&ft.preventDefault(),at.props.onKeyUp&&at.props.onKeyUp(ft)},role:"option",selected:At,value:void 0,"data-value":at.props.value})});Bt&&(E?mt.length===0?$e=null:$e=mt.reduce((at,At,ft)=>(at.push(At),ft<mt.length-1&&at.push(", "),at),[]):$e=It);let qt=Me;!s&&ye&&ue&&(qt=Se.clientWidth);let tr;typeof q<"u"?tr=q:tr=f?null:0;const gt=U.id||(T?`mui-component-select-${T}`:void 0),_t={...t,variant:Y,value:re,open:dt,error:m},He=WEe(_t),ct={...C.PaperProps,...typeof C.slotProps?.paper=="function"?C.slotProps.paper(_t):C.slotProps?.paper},ut={...C.MenuListProps,...typeof C.slotProps?.list=="function"?C.slotProps.list(_t):C.slotProps?.list},St=kr();return x.jsxs(_.Fragment,{children:[x.jsx(zEe,{as:"div",ref:pe,tabIndex:tr,role:"combobox","aria-controls":dt?St:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":dt?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,gt].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":B?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:Rt,onMouseDown:f||D?null:ke,onBlur:Ct,onFocus:N,...U,ownerState:_t,className:Ke(U.className,He.select,c),id:gt,children:HEe($e)?x3||(x3=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):$e}),x.jsx(GEe,{"aria-invalid":m,value:Array.isArray(re)?re.join(","):re,name:T,ref:le,"aria-hidden":!0,onChange:nt,tabIndex:-1,disabled:f,className:He.nativeInput,autoFocus:i,required:B,...Q,ownerState:_t}),x.jsx(UEe,{as:y,className:He.icon,ownerState:_t}),x.jsx(dw,{id:`menu-${T||""}`,anchorEl:Se,open:dt,onClose:Te,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:St,...ut},paper:{...ct,style:{minWidth:qt,...ct!=null?ct.style:null}}},children:zt})]})}),qEe=e=>{const{classes:t}=e,n=ht({root:["root"]},C3,t);return{...t,...n}},AO={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>_i(e)&&e!=="variant"},YEe=we(_O,AO)(""),XEe=we(DO,AO)(""),ZEe=we(SO,AO)(""),hw=_.forwardRef(function(t,r){const n=ir({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:h=jU,id:f,input:g,inputProps:m,label:y,labelId:b,MenuProps:v,multiple:C=!1,native:E=!1,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:N,variant:P="outlined",...L}=n,D=E?kEe:KEe,$=Xl(),B=Rd({props:n,muiFormControl:$,states:["variant","error"]}),U=B.variant||P,q={...n,variant:U,classes:s},W=qEe(q),{root:V,...Y}=W,Q=g||{standard:x.jsx(YEe,{ownerState:q}),outlined:x.jsx(XEe,{label:y,ownerState:q}),filled:x.jsx(ZEe,{ownerState:q})}[U],re=Er(r,Qc(Q));return x.jsx(_.Fragment,{children:_.cloneElement(Q,{inputComponent:D,inputProps:{children:i,error:B.error,IconComponent:h,variant:U,type:void 0,multiple:C,...E?{id:f}:{autoWidth:o,defaultOpen:c,displayEmpty:d,labelId:b,MenuProps:v,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:{id:f,...N}},...m,classes:m?zo(Y,m.classes):Y,...g?g.props.inputProps:{}},...(C&&E||d)&&U==="outlined"?{notched:!0}:{},ref:re,className:Ke(Q.props.className,a,W.root),...!g&&{variant:U},...L})})});hw.muiName="Select";function QEe(e){return Xt("MuiSkeleton",e)}Kt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const JEe=e=>{const{classes:t,variant:r,animation:n,hasChildren:o,width:i,height:s}=e;return ht({root:["root",r,n,o&&"withChildren",o&&!i&&"fitContent",o&&!s&&"heightAuto"]},QEe,t)},LO=Bs`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,NO=Bs`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,e1e=typeof LO!="string"?Hc`
        animation: ${LO} 2s ease-in-out 0.5s infinite;
      `:null,t1e=typeof NO!="string"?Hc`
        &::after {
          animation: ${NO} 2s linear 0.5s infinite;
        }
      `:null,r1e=we("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.animation!==!1&&t[r.animation],r.hasChildren&&t.withChildren,r.hasChildren&&!r.width&&t.fitContent,r.hasChildren&&!r.height&&t.heightAuto]}})(Gt(({theme:e})=>{const t=Pwe(e.shape.borderRadius)||"px",r=kwe(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:e.alpha(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${t}/${Math.round(r/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:n})=>n.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:n})=>n.hasChildren&&!n.width,style:{maxWidth:"fit-content"}},{props:({ownerState:n})=>n.hasChildren&&!n.height,style:{height:"auto"}},{props:{animation:"pulse"},style:e1e||{animation:`${LO} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:t1e||{"&::after":{animation:`${NO} 2s linear 0.5s infinite`}}}]}})),n1e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:s="span",height:a,style:c,variant:d="text",width:h,...f}=n,g={...n,animation:o,component:s,variant:d,hasChildren:!!f.children},m=JEe(g);return x.jsx(r1e,{as:s,ref:r,className:Ke(m.root,i),ownerState:g,...f,style:{width:h,height:a,...c}})});function o1e(e){return Xt("MuiTooltip",e)}const co=Kt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function i1e(e){return Math.round(e*1e5)/1e5}const s1e=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:o,placement:i}=e,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",o&&"touch",`tooltipPlacement${We(i.split("-")[0])}`],arrow:["arrow"]};return ht(s,o1e,t)},a1e=we($g,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(Gt(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${co.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${co.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${co.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${co.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${co.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${co.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${co.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${co.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),l1e=we("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${We(r.placement.split("-")[0])}`]]}})(Gt(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${co.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${co.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${co.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${co.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${i1e(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${co.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${co.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),c1e=we("span",{name:"MuiTooltip",slot:"Arrow"})(Gt(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let fw=!1;const E3=new zb;let Qg={x:0,y:0};function pw(e,t){return(r,...n)=>{t&&t(r,...n),e(r,...n)}}const Tr=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTooltip"}),{arrow:o=!1,children:i,classes:s,components:a={},componentsProps:c={},describeChild:d=!1,disableFocusListener:h=!1,disableHoverListener:f=!1,disableInteractive:g=!1,disableTouchListener:m=!1,enterDelay:y=100,enterNextDelay:b=0,enterTouchDelay:v=700,followCursor:C=!1,id:E,leaveDelay:T=0,leaveTouchDelay:R=1500,onClose:M,onOpen:I,open:N,placement:P="bottom",PopperComponent:L,PopperProps:D={},slotProps:$={},slots:B={},title:U,TransitionComponent:q,TransitionProps:W,...V}=n,Y=_.isValidElement(i)?i:x.jsx("span",{children:i}),Q=il(),re=Uo(),[z,K]=_.useState(),[Z,le]=_.useState(null),ce=_.useRef(!1),ue=g||C,ae=Fi(),ye=Fi(),Me=Fi(),xe=Fi(),[he,pe]=Cd({controlled:N,default:!1,name:"Tooltip",state:"open"});let Se=he;const Ee=kr(E),ke=_.useRef(),Te=$t(()=>{ke.current!==void 0&&(document.body.style.WebkitUserSelect=ke.current,ke.current=void 0),xe.clear()});_.useEffect(()=>Te,[Te]);const Ve=sr=>{E3.clear(),fw=!0,pe(!0),I&&!Se&&I(sr)},nt=$t(sr=>{E3.start(800+T,()=>{fw=!1}),pe(!1),M&&Se&&M(sr),ae.start(Q.transitions.duration.shortest,()=>{ce.current=!1})}),je=sr=>{ce.current&&sr.type!=="touchstart"||(z&&z.removeAttribute("title"),ye.clear(),Me.clear(),y||fw&&b?ye.start(fw?b:y,()=>{Ve(sr)}):Ve(sr))},Rt=sr=>{ye.clear(),Me.start(T,()=>{nt(sr)})},[,dt]=_.useState(!1),Ct=sr=>{Gb(sr.target)||(dt(!1),Rt(sr))},$e=sr=>{z||K(sr.currentTarget),Gb(sr.target)&&(dt(!0),je(sr))},It=sr=>{ce.current=!0;const Ar=Y.props;Ar.onTouchStart&&Ar.onTouchStart(sr)},mt=sr=>{It(sr),Me.clear(),ae.clear(),Te(),ke.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",xe.start(v,()=>{document.body.style.WebkitUserSelect=ke.current,je(sr)})},Bt=sr=>{Y.props.onTouchEnd&&Y.props.onTouchEnd(sr),Te(),Me.start(R,()=>{nt(sr)})};_.useEffect(()=>{if(!Se)return;function sr(Ar){Ar.key==="Escape"&&nt(Ar)}return document.addEventListener("keydown",sr),()=>{document.removeEventListener("keydown",sr)}},[nt,Se]);const zt=Er(Qc(Y),K,r);!U&&U!==0&&(Se=!1);const qt=_.useRef(),tr=sr=>{const Ar=Y.props;Ar.onMouseMove&&Ar.onMouseMove(sr),Qg={x:sr.clientX,y:sr.clientY},qt.current&&qt.current.update()},gt={},_t=typeof U=="string";d?(gt.title=!Se&&_t&&!f?U:null,gt["aria-describedby"]=Se?Ee:null):(gt["aria-label"]=_t?U:null,gt["aria-labelledby"]=Se&&!_t?Ee:null);const He={...gt,...V,...Y.props,className:Ke(V.className,Y.props.className),onTouchStart:It,ref:zt,...C?{onMouseMove:tr}:{}},ct={};m||(He.onTouchStart=mt,He.onTouchEnd=Bt),f||(He.onMouseOver=pw(je,He.onMouseOver),He.onMouseLeave=pw(Rt,He.onMouseLeave),ue||(ct.onMouseOver=je,ct.onMouseLeave=Rt)),h||(He.onFocus=pw($e,He.onFocus),He.onBlur=pw(Ct,He.onBlur),ue||(ct.onFocus=$e,ct.onBlur=Ct));const ut={...n,isRtl:re,arrow:o,disableInteractive:ue,placement:P,PopperComponentProp:L,touch:ce.current},St=typeof $.popper=="function"?$.popper(ut):$.popper,at=_.useMemo(()=>{let sr=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return D.popperOptions?.modifiers&&(sr=sr.concat(D.popperOptions.modifiers)),St?.popperOptions?.modifiers&&(sr=sr.concat(St.popperOptions.modifiers)),{...D.popperOptions,...St?.popperOptions,modifiers:sr}},[Z,D.popperOptions,St?.popperOptions]),At=s1e(ut),ft=typeof $.transition=="function"?$.transition(ut):$.transition,Pt={slots:{popper:a.Popper,transition:a.Transition??q,tooltip:a.Tooltip,arrow:a.Arrow,...B},slotProps:{arrow:$.arrow??c.arrow,popper:{...D,...St??c.popper},tooltip:$.tooltip??c.tooltip,transition:{...W,...ft??c.transition}}},[Ir,Dr]=lr("popper",{elementType:a1e,externalForwardedProps:Pt,ownerState:ut,className:Ke(At.popper,D?.className)}),[un,xr]=lr("transition",{elementType:qg,externalForwardedProps:Pt,ownerState:ut}),[Tn,qr]=lr("tooltip",{elementType:l1e,className:At.tooltip,externalForwardedProps:Pt,ownerState:ut}),[Bn,Fn]=lr("arrow",{elementType:c1e,className:At.arrow,externalForwardedProps:Pt,ownerState:ut,ref:le});return x.jsxs(_.Fragment,{children:[_.cloneElement(Y,He),x.jsx(Ir,{as:L??$g,placement:P,anchorEl:C?{getBoundingClientRect:()=>({top:Qg.y,left:Qg.x,right:Qg.x,bottom:Qg.y,width:0,height:0})}:z,popperRef:qt,open:z?Se:!1,id:Ee,transition:!0,...ct,...Dr,popperOptions:at,children:({TransitionProps:sr})=>x.jsx(un,{timeout:Q.transitions.duration.shorter,...sr,...xr,children:x.jsxs(Tn,{...qr,children:[U,o?x.jsx(Bn,{...Fn}):null]})})})]})}),u1e=Jbe({createStyledComponent:we("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>ir({props:e,name:"MuiStack"})});function d1e(e){return Xt("MuiSwitch",e)}const Ei=Kt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),h1e=e=>{const{classes:t,edge:r,size:n,color:o,checked:i,disabled:s}=e,a={root:["root",r&&`edge${We(r)}`,`size${We(n)}`],switchBase:["switchBase",`color${We(o)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ht(a,d1e,t);return{...t,...c}},f1e=we("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${We(r.edge)}`],t[`size${We(r.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ei.thumb}`]:{width:16,height:16},[`& .${Ei.switchBase}`]:{padding:4,[`&.${Ei.checked}`]:{transform:"translateX(16px)"}}}}]}),p1e=we(KU,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${Ei.input}`]:t.input},r.color!=="default"&&t[`color${We(r.color)}`]]}})(Gt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Ei.checked}`]:{transform:"translateX(20px)"},[`&.${Ei.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Ei.checked} + .${Ei.track}`]:{opacity:.5},[`&.${Ei.disabled} + .${Ei.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Ei.input}`]:{left:"-100%",width:"300%"}})),Gt(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Zn(["light"])).map(([t])=>({props:{color:t},style:{[`&.${Ei.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ei.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${Ei.checked} + .${Ei.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),g1e=we("span",{name:"MuiSwitch",slot:"Track"})(Gt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),m1e=we("span",{name:"MuiSwitch",slot:"Thumb"})(Gt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),T3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiSwitch"}),{className:o,color:i="primary",edge:s=!1,size:a="medium",sx:c,slots:d={},slotProps:h={},...f}=n,g={...n,color:i,edge:s,size:a},m=h1e(g),y={slots:d,slotProps:h},[b,v]=lr("root",{className:Ke(m.root,o),elementType:f1e,externalForwardedProps:y,ownerState:g,additionalProps:{sx:c}}),[C,E]=lr("thumb",{className:m.thumb,elementType:m1e,externalForwardedProps:y,ownerState:g}),T=x.jsx(C,{...E}),[R,M]=lr("track",{className:m.track,elementType:g1e,externalForwardedProps:y,ownerState:g});return x.jsxs(b,{...v,children:[x.jsx(p1e,{type:"checkbox",icon:T,checkedIcon:T,ref:r,ownerState:g,...f,classes:{...m,root:m.switchBase},slots:{...d.switchBase&&{root:d.switchBase},...d.input&&{input:d.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(g):h.switchBase},input:{role:"switch"},...h.input&&{input:typeof h.input=="function"?h.input(g):h.input}}}),x.jsx(R,{...M})]})});function v1e(e){return Xt("MuiTab",e)}const Ks=Kt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),y1e=e=>{const{classes:t,textColor:r,fullWidth:n,wrapped:o,icon:i,label:s,selected:a,disabled:c}=e,d={root:["root",i&&s&&"labelIcon",`textColor${We(r)}`,n&&"fullWidth",o&&"wrapped",a&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return ht(d,v1e,t)},b1e=we(sl,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${We(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped,{[`& .${Ks.iconWrapper}`]:t.iconWrapper},{[`& .${Ks.icon}`]:t.icon}]}})(Gt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="top",style:{[`& > .${Ks.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="bottom",style:{[`& > .${Ks.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="start",style:{[`& > .${Ks.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="end",style:{[`& > .${Ks.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Ks.selected}`]:{opacity:1},[`&.${Ks.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ks.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Ks.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ks.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Ks.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),BO=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:c,iconPosition:d="top",indicator:h,label:f,onChange:g,onClick:m,onFocus:y,selected:b,selectionFollowsFocus:v,textColor:C="inherit",value:E,wrapped:T=!1,...R}=n,M={...n,disabled:i,disableFocusRipple:s,selected:b,icon:!!c,iconPosition:d,label:!!f,fullWidth:a,textColor:C,wrapped:T},I=y1e(M),N=c&&f&&_.isValidElement(c)?_.cloneElement(c,{className:Ke(I.icon,c.props.className)}):c,P=D=>{!b&&g&&g(D,E),m&&m(D)},L=D=>{v&&!b&&g&&g(D,E),y&&y(D)};return x.jsxs(b1e,{focusRipple:!s,className:Ke(I.root,o),ref:r,role:"tab","aria-selected":b,disabled:i,onClick:P,onFocus:L,ownerState:M,tabIndex:b?0:-1,...R,children:[d==="top"||d==="start"?x.jsxs(_.Fragment,{children:[N,f]}):x.jsxs(_.Fragment,{children:[f,N]}),h]})}),w1e=_.createContext(),S1e=_.createContext();function C1e(e){return Xt("MuiTableCell",e)}const x1e=Kt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),_1e=e=>{const{classes:t,variant:r,align:n,padding:o,size:i,stickyHeader:s}=e,a={root:["root",r,s&&"stickyHeader",n!=="inherit"&&`align${We(n)}`,o!=="normal"&&`padding${We(o)}`,`size${We(i)}`]};return ht(a,C1e,t)},E1e=we("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${We(r.size)}`],r.padding!=="normal"&&t[`padding${We(r.padding)}`],r.align!=="inherit"&&t[`align${We(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(Gt(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${x1e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),FO=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:a,scope:c,size:d,sortDirection:h,variant:f,...g}=n,m=_.useContext(w1e),y=_.useContext(S1e),b=y&&y.variant==="head";let v;s?v=s:v=b?"th":"td";let C=c;v==="td"?C=void 0:!C&&b&&(C="col");const E=f||y&&y.variant,T={...n,align:o,component:v,padding:a||(m&&m.padding?m.padding:"normal"),size:d||(m&&m.size?m.size:"medium"),sortDirection:h,stickyHeader:E==="head"&&m&&m.stickyHeader,variant:E},R=_1e(T);let M=null;return h&&(M=h==="asc"?"ascending":"descending"),x.jsx(E1e,{as:v,ref:r,className:Ke(R.root,i),"aria-sort":M,scope:C,ownerState:T,...g})});function T1e(e){return Xt("MuiToolbar",e)}Kt("MuiToolbar",["root","gutters","regular","dense"]);const M1e=e=>{const{classes:t,disableGutters:r,variant:n}=e;return ht({root:["root",!r&&"gutters",n]},T1e,t)},O1e=we("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(Gt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),M3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiToolbar"}),{className:o,component:i="div",disableGutters:s=!1,variant:a="regular",...c}=n,d={...n,component:i,disableGutters:s,variant:a},h=M1e(d);return x.jsx(O1e,{as:i,className:Ke(h.root,o),ref:r,ownerState:d,...c})}),O3=xt(x.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),R3=xt(x.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function R1e(e){return Xt("MuiTablePaginationActions",e)}Kt("MuiTablePaginationActions",["root"]);const I1e=e=>{const{classes:t}=e;return ht({root:["root"]},R1e,t)},P1e=we("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),k1e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTablePaginationActions"}),{backIconButtonProps:o,className:i,count:s,disabled:a=!1,getItemAriaLabel:c,nextIconButtonProps:d,onPageChange:h,page:f,rowsPerPage:g,showFirstButton:m,showLastButton:y,slots:b={},slotProps:v={},...C}=n,E=Uo(),R=I1e(n),M=ue=>{h(ue,0)},I=ue=>{h(ue,f-1)},N=ue=>{h(ue,f+1)},P=ue=>{h(ue,Math.max(0,Math.ceil(s/g)-1))},L=b.firstButton??br,D=b.lastButton??br,$=b.nextButton??br,B=b.previousButton??br,U=b.firstButtonIcon??VEe,q=b.lastButtonIcon??$Ee,W=b.nextButtonIcon??R3,V=b.previousButtonIcon??O3,Y=E?D:L,Q=E?$:B,re=E?B:$,z=E?L:D,K=E?v.lastButton:v.firstButton,Z=E?v.nextButton:v.previousButton,le=E?v.previousButton:v.nextButton,ce=E?v.firstButton:v.lastButton;return x.jsxs(P1e,{ref:r,className:Ke(R.root,i),...C,children:[m&&x.jsx(Y,{onClick:M,disabled:a||f===0,"aria-label":c("first",f),title:c("first",f),...K,children:E?x.jsx(q,{...v.lastButtonIcon}):x.jsx(U,{...v.firstButtonIcon})}),x.jsx(Q,{onClick:I,disabled:a||f===0,color:"inherit","aria-label":c("previous",f),title:c("previous",f),...Z??o,children:E?x.jsx(W,{...v.nextButtonIcon}):x.jsx(V,{...v.previousButtonIcon})}),x.jsx(re,{onClick:N,disabled:a||(s!==-1?f>=Math.ceil(s/g)-1:!1),color:"inherit","aria-label":c("next",f),title:c("next",f),...le??d,children:E?x.jsx(V,{...v.previousButtonIcon}):x.jsx(W,{...v.nextButtonIcon})}),y&&x.jsx(z,{onClick:P,disabled:a||f>=Math.ceil(s/g)-1,"aria-label":c("last",f),title:c("last",f),...ce,children:E?x.jsx(U,{...v.firstButtonIcon}):x.jsx(q,{...v.lastButtonIcon})})]})});function D1e(e){return Xt("MuiTablePagination",e)}const kd=Kt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var I3;const A1e=we(FO,{name:"MuiTablePagination",slot:"Root"})(Gt(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),L1e=we(M3,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${kd.actions}`]:t.actions,...t.toolbar})})(Gt(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${kd.actions}`]:{flexShrink:0,marginLeft:20}}))),N1e=we("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),B1e=we("p",{name:"MuiTablePagination",slot:"SelectLabel"})(Gt(({theme:e})=>({...e.typography.body2,flexShrink:0}))),F1e=we(hw,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${kd.selectIcon}`]:t.selectIcon,[`& .${kd.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${kd.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),j1e=we(zi,{name:"MuiTablePagination",slot:"MenuItem"})({}),V1e=we("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(Gt(({theme:e})=>({...e.typography.body2,flexShrink:0})));function $1e({from:e,to:t,count:r}){return`${e}–${t} of ${r!==-1?r:`more than ${t}`}`}function z1e(e){return`Go to ${e} page`}const U1e=e=>{const{classes:t}=e;return ht({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},D1e,t)},G1e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTablePagination"}),{ActionsComponent:o=k1e,backIconButtonProps:i,colSpan:s,component:a=FO,count:c,disabled:d=!1,getItemAriaLabel:h=z1e,labelDisplayedRows:f=$1e,labelRowsPerPage:g="Rows per page:",nextIconButtonProps:m,onPageChange:y,onRowsPerPageChange:b,page:v,rowsPerPage:C,rowsPerPageOptions:E=[10,25,50,100],SelectProps:T={},showFirstButton:R=!1,showLastButton:M=!1,slotProps:I={},slots:N={},...P}=n,L=n,D=U1e(L),$=I?.select??T,B=$.native?"option":j1e;let U;(a===FO||a==="td")&&(U=s||1e3);const q=kr($.id),W=kr($.labelId),V=()=>c===-1?(v+1)*C:C===-1?c:Math.min(c,(v+1)*C),Y={slots:N,slotProps:I},[Q,re]=lr("root",{ref:r,className:D.root,elementType:A1e,externalForwardedProps:{...Y,component:a,...P},ownerState:L,additionalProps:{colSpan:U}}),[z,K]=lr("toolbar",{className:D.toolbar,elementType:L1e,externalForwardedProps:Y,ownerState:L}),[Z,le]=lr("spacer",{className:D.spacer,elementType:N1e,externalForwardedProps:Y,ownerState:L}),[ce,ue]=lr("selectLabel",{className:D.selectLabel,elementType:B1e,externalForwardedProps:Y,ownerState:L,additionalProps:{id:W}}),[ae,ye]=lr("select",{className:D.select,elementType:F1e,externalForwardedProps:Y,ownerState:L}),[Me,xe]=lr("menuItem",{className:D.menuItem,elementType:B,externalForwardedProps:Y,ownerState:L}),[he,pe]=lr("displayedRows",{className:D.displayedRows,elementType:V1e,externalForwardedProps:Y,ownerState:L});return x.jsx(Q,{...re,children:x.jsxs(z,{...K,children:[x.jsx(Z,{...le}),E.length>1&&x.jsx(ce,{...ue,children:g}),E.length>1&&x.jsx(ae,{variant:"standard",...!$.variant&&{input:I3||(I3=x.jsx(zg,{}))},value:C,onChange:b,id:q,labelId:W,...$,classes:{...$.classes,root:Ke(D.input,D.selectRoot,($.classes||{}).root),select:Ke(D.select,($.classes||{}).select),icon:Ke(D.selectIcon,($.classes||{}).icon)},disabled:d,...ye,children:E.map(Se=>_.createElement(Me,{...xe,key:Se.label?Se.label:Se,value:Se.value?Se.value:Se},Se.label?Se.label:Se))}),x.jsx(he,{...pe,children:f({from:c===0?0:v*C+1,to:V(),count:c===-1?-1:c,page:v})}),x.jsx(o,{className:D.actions,backIconButtonProps:i,count:c,nextIconButtonProps:m,onPageChange:y,page:v,rowsPerPage:C,showFirstButton:R,showLastButton:M,slotProps:I.actions,slots:N.actions,getItemAriaLabel:h,disabled:d})]})})});function H1e(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function W1e(e,t,r,n={},o=()=>{}){const{ease:i=H1e,duration:s=300}=n;let a=null;const c=t[e];let d=!1;const h=()=>{d=!0},f=g=>{if(d){o(new Error("Animation cancelled"));return}a===null&&(a=g);const m=Math.min(1,(g-a)/s);if(t[e]=i(m)*(r-c)+c,m>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(f)};return c===r?(o(new Error("Element already at target position")),h):(requestAnimationFrame(f),h)}const K1e={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function q1e(e){const{onChange:t,...r}=e,n=_.useRef(),o=_.useRef(null),i=()=>{n.current=o.current.offsetHeight-o.current.clientHeight};return zr(()=>{const s=qc(()=>{const c=n.current;i(),c!==n.current&&t(n.current)}),a=is(o.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),_.useEffect(()=>{i(),t(n.current)},[t]),x.jsx("div",{style:K1e,...r,ref:o})}function Y1e(e){return Xt("MuiTabScrollButton",e)}const P3=Kt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),X1e=e=>{const{classes:t,orientation:r,disabled:n}=e;return ht({root:["root",r,n&&"disabled"]},Y1e,t)},Z1e=we(sl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${P3.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Q1e=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTabScrollButton"}),{className:o,slots:i={},slotProps:s={},direction:a,orientation:c,disabled:d,...h}=n,f=Uo(),g={isRtl:f,...n},m=X1e(g),y=i.StartScrollButtonIcon??O3,b=i.EndScrollButtonIcon??R3,v=Go({elementType:y,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),C=Go({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return x.jsx(Z1e,{component:"div",className:Ke(m.root,o),ref:r,role:null,ownerState:g,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?x.jsx(y,{...v}):x.jsx(b,{...C})})});function J1e(e){return Xt("MuiTabs",e)}const Jg=Kt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),k3=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,D3=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,gw=(e,t,r)=>{let n=!1,o=r(e,t);for(;o;){if(o===e.firstChild){if(n)return;n=!0}const i=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||i)o=r(e,o);else{o.focus();return}}},eTe=e=>{const{vertical:t,fixed:r,hideScrollbar:n,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:c}=e;return ht({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},J1e,c)},tTe=we("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Jg.scrollButtons}`]:t.scrollButtons},{[`& .${Jg.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(Gt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${Jg.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),rTe=we("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),nTe=we("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.list,t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),oTe=we("span",{name:"MuiTabs",slot:"Indicator"})(Gt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),iTe=we(q1e)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),A3={},L3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTabs"}),o=il(),i=Uo(),{"aria-label":s,"aria-labelledby":a,action:c,centered:d=!1,children:h,className:f,component:g="div",allowScrollButtonsMobile:m=!1,indicatorColor:y="primary",onChange:b,orientation:v="horizontal",ScrollButtonComponent:C,scrollButtons:E="auto",selectionFollowsFocus:T,slots:R={},slotProps:M={},TabIndicatorProps:I={},TabScrollButtonProps:N={},textColor:P="primary",value:L,variant:D="standard",visibleScrollbar:$=!1,...B}=n,U=D==="scrollable",q=v==="vertical",W=q?"scrollTop":"scrollLeft",V=q?"top":"left",Y=q?"bottom":"right",Q=q?"clientHeight":"clientWidth",re=q?"height":"width",z={...n,component:g,allowScrollButtonsMobile:m,indicatorColor:y,orientation:v,vertical:q,scrollButtons:E,textColor:P,variant:D,visibleScrollbar:$,fixed:!U,hideScrollbar:U&&!$,scrollableX:U&&!q,scrollableY:U&&q,centered:d&&!U,scrollButtonsHideMobile:!m},K=eTe(z),Z=Go({elementType:R.StartScrollButtonIcon,externalSlotProps:M.startScrollButtonIcon,ownerState:z}),le=Go({elementType:R.EndScrollButtonIcon,externalSlotProps:M.endScrollButtonIcon,ownerState:z}),[ce,ue]=_.useState(!1),[ae,ye]=_.useState(A3),[Me,xe]=_.useState(!1),[he,pe]=_.useState(!1),[Se,Ee]=_.useState(!1),[ke,Te]=_.useState({overflow:"hidden",scrollbarWidth:0}),Ve=new Map,nt=_.useRef(null),je=_.useRef(null),Rt={slots:R,slotProps:{indicator:I,scrollButton:N,...M}},dt=()=>{const Lt=nt.current;let Ft;if(Lt){const rr=Lt.getBoundingClientRect();Ft={clientWidth:Lt.clientWidth,scrollLeft:Lt.scrollLeft,scrollTop:Lt.scrollTop,scrollWidth:Lt.scrollWidth,top:rr.top,bottom:rr.bottom,left:rr.left,right:rr.right}}let nr;if(Lt&&L!==!1){const rr=je.current.children;if(rr.length>0){const Or=rr[Ve.get(L)];nr=Or?Or.getBoundingClientRect():null}}return{tabsMeta:Ft,tabMeta:nr}},Ct=$t(()=>{const{tabsMeta:Lt,tabMeta:Ft}=dt();let nr=0,rr;q?(rr="top",Ft&&Lt&&(nr=Ft.top-Lt.top+Lt.scrollTop)):(rr=i?"right":"left",Ft&&Lt&&(nr=(i?-1:1)*(Ft[rr]-Lt[rr]+Lt.scrollLeft)));const Or={[rr]:nr,[re]:Ft?Ft[re]:0};if(typeof ae[rr]!="number"||typeof ae[re]!="number")ye(Or);else{const uo=Math.abs(ae[rr]-Or[rr]),Bo=Math.abs(ae[re]-Or[re]);(uo>=1||Bo>=1)&&ye(Or)}}),$e=(Lt,{animation:Ft=!0}={})=>{Ft?W1e(W,nt.current,Lt,{duration:o.transitions.duration.standard}):nt.current[W]=Lt},It=Lt=>{let Ft=nt.current[W];q?Ft+=Lt:Ft+=Lt*(i?-1:1),$e(Ft)},mt=()=>{const Lt=nt.current[Q];let Ft=0;const nr=Array.from(je.current.children);for(let rr=0;rr<nr.length;rr+=1){const Or=nr[rr];if(Ft+Or[Q]>Lt){rr===0&&(Ft=Lt);break}Ft+=Or[Q]}return Ft},Bt=()=>{It(-1*mt())},zt=()=>{It(mt())},[qt,{onChange:tr,...gt}]=lr("scrollbar",{className:Ke(K.scrollableX,K.hideScrollbar),elementType:iTe,shouldForwardComponentProp:!0,externalForwardedProps:Rt,ownerState:z}),_t=_.useCallback(Lt=>{tr?.(Lt),Te({overflow:null,scrollbarWidth:Lt})},[tr]),[He,ct]=lr("scrollButtons",{className:Ke(K.scrollButtons,N.className),elementType:Q1e,externalForwardedProps:Rt,ownerState:z,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Z,endScrollButtonIcon:le}}}),ut=()=>{const Lt={};Lt.scrollbarSizeListener=U?x.jsx(qt,{...gt,onChange:_t}):null;const nr=U&&(E==="auto"&&(Me||he)||E===!0);return Lt.scrollButtonStart=nr?x.jsx(He,{direction:i?"right":"left",onClick:Bt,disabled:!Me,...ct}):null,Lt.scrollButtonEnd=nr?x.jsx(He,{direction:i?"left":"right",onClick:zt,disabled:!he,...ct}):null,Lt},St=$t(Lt=>{const{tabsMeta:Ft,tabMeta:nr}=dt();if(!(!nr||!Ft)){if(nr[V]<Ft[V]){const rr=Ft[W]+(nr[V]-Ft[V]);$e(rr,{animation:Lt})}else if(nr[Y]>Ft[Y]){const rr=Ft[W]+(nr[Y]-Ft[Y]);$e(rr,{animation:Lt})}}}),at=$t(()=>{U&&E!==!1&&Ee(!Se)});_.useEffect(()=>{const Lt=qc(()=>{nt.current&&Ct()});let Ft;const nr=uo=>{uo.forEach(Bo=>{Bo.removedNodes.forEach(ri=>{Ft?.unobserve(ri)}),Bo.addedNodes.forEach(ri=>{Ft?.observe(ri)})}),Lt(),at()},rr=is(nt.current);rr.addEventListener("resize",Lt);let Or;return typeof ResizeObserver<"u"&&(Ft=new ResizeObserver(Lt),Array.from(je.current.children).forEach(uo=>{Ft.observe(uo)})),typeof MutationObserver<"u"&&(Or=new MutationObserver(nr),Or.observe(je.current,{childList:!0})),()=>{Lt.clear(),rr.removeEventListener("resize",Lt),Or?.disconnect(),Ft?.disconnect()}},[Ct,at]),_.useEffect(()=>{const Lt=Array.from(je.current.children),Ft=Lt.length;if(typeof IntersectionObserver<"u"&&Ft>0&&U&&E!==!1){const nr=Lt[0],rr=Lt[Ft-1],Or={root:nt.current,threshold:.99},uo=Gn=>{xe(!Gn[0].isIntersecting)},Bo=new IntersectionObserver(uo,Or);Bo.observe(nr);const ri=Gn=>{pe(!Gn[0].isIntersecting)},Oi=new IntersectionObserver(ri,Or);return Oi.observe(rr),()=>{Bo.disconnect(),Oi.disconnect()}}},[U,E,Se,h?.length]),_.useEffect(()=>{ue(!0)},[]),_.useEffect(()=>{Ct()}),_.useEffect(()=>{St(A3!==ae)},[St,ae]),_.useImperativeHandle(c,()=>({updateIndicator:Ct,updateScrollButtons:at}),[Ct,at]);const[At,ft]=lr("indicator",{className:Ke(K.indicator,I.className),elementType:oTe,externalForwardedProps:Rt,ownerState:z,additionalProps:{style:ae}}),Pt=x.jsx(At,{...ft});let Ir=0;const Dr=_.Children.map(h,Lt=>{if(!_.isValidElement(Lt))return null;const Ft=Lt.props.value===void 0?Ir:Lt.props.value;Ve.set(Ft,Ir);const nr=Ft===L;return Ir+=1,_.cloneElement(Lt,{fullWidth:D==="fullWidth",indicator:nr&&!ce&&Pt,selected:nr,selectionFollowsFocus:T,onChange:b,textColor:P,value:Ft,...Ir===1&&L===!1&&!Lt.props.tabIndex?{tabIndex:0}:{}})}),un=Lt=>{if(Lt.altKey||Lt.shiftKey||Lt.ctrlKey||Lt.metaKey)return;const Ft=je.current,nr=Xn(Ft).activeElement;if(nr.getAttribute("role")!=="tab")return;let Or=v==="horizontal"?"ArrowLeft":"ArrowUp",uo=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&i&&(Or="ArrowRight",uo="ArrowLeft"),Lt.key){case Or:Lt.preventDefault(),gw(Ft,nr,D3);break;case uo:Lt.preventDefault(),gw(Ft,nr,k3);break;case"Home":Lt.preventDefault(),gw(Ft,null,k3);break;case"End":Lt.preventDefault(),gw(Ft,null,D3);break}},xr=ut(),[Tn,qr]=lr("root",{ref:r,className:Ke(K.root,f),elementType:tTe,externalForwardedProps:{...Rt,...B,component:g},ownerState:z}),[Bn,Fn]=lr("scroller",{ref:nt,className:K.scroller,elementType:rTe,externalForwardedProps:Rt,ownerState:z,additionalProps:{style:{overflow:ke.overflow,[q?`margin${i?"Left":"Right"}`:"marginBottom"]:$?void 0:-ke.scrollbarWidth}}}),[sr,Ar]=lr("list",{ref:je,className:Ke(K.list,K.flexContainer),elementType:nTe,externalForwardedProps:Rt,ownerState:z,getSlotProps:Lt=>({...Lt,onKeyDown:Ft=>{un(Ft),Lt.onKeyDown?.(Ft)}})});return x.jsxs(Tn,{...qr,children:[xr.scrollButtonStart,xr.scrollbarSizeListener,x.jsxs(Bn,{...Fn,children:[x.jsx(sr,{"aria-label":s,"aria-labelledby":a,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...Ar,children:Dr}),ce&&Pt]}),xr.scrollButtonEnd]})});function sTe(e){return Xt("MuiTextField",e)}Kt("MuiTextField",["root"]);const aTe={standard:_O,filled:SO,outlined:DO},lTe=e=>{const{classes:t}=e;return ht({root:["root"]},sTe,t)},cTe=we(lw,{name:"MuiTextField",slot:"Root"})({}),ul=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:s,className:a,color:c="primary",defaultValue:d,disabled:h=!1,error:f=!1,FormHelperTextProps:g,fullWidth:m=!1,helperText:y,id:b,InputLabelProps:v,inputProps:C,InputProps:E,inputRef:T,label:R,maxRows:M,minRows:I,multiline:N=!1,name:P,onBlur:L,onChange:D,onFocus:$,placeholder:B,required:U=!1,rows:q,select:W=!1,SelectProps:V,slots:Y={},slotProps:Q={},type:re,value:z,variant:K="outlined",...Z}=n,le={...n,autoFocus:i,color:c,disabled:h,error:f,fullWidth:m,multiline:N,required:U,select:W,variant:K},ce=lTe(le),ue=kr(b),ae=y&&ue?`${ue}-helper-text`:void 0,ye=R&&ue?`${ue}-label`:void 0,Me=aTe[K],xe={slots:Y,slotProps:{input:E,inputLabel:v,htmlInput:C,formHelperText:g,select:V,...Q}},he={},pe=xe.slotProps.inputLabel;K==="outlined"&&(pe&&typeof pe.shrink<"u"&&(he.notched=pe.shrink),he.label=R),W&&((!V||!V.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[Se,Ee]=lr("root",{elementType:cTe,shouldForwardComponentProp:!0,externalForwardedProps:{...xe,...Z},ownerState:le,className:Ke(ce.root,a),ref:r,additionalProps:{disabled:h,error:f,fullWidth:m,required:U,color:c,variant:K}}),[ke,Te]=lr("input",{elementType:Me,externalForwardedProps:xe,additionalProps:he,ownerState:le}),[Ve,nt]=lr("inputLabel",{elementType:a3,externalForwardedProps:xe,ownerState:le}),[je,Rt]=lr("htmlInput",{elementType:"input",externalForwardedProps:xe,ownerState:le}),[dt,Ct]=lr("formHelperText",{elementType:m_e,externalForwardedProps:xe,ownerState:le}),[$e,It]=lr("select",{elementType:hw,externalForwardedProps:xe,ownerState:le}),mt=x.jsx(ke,{"aria-describedby":ae,autoComplete:o,autoFocus:i,defaultValue:d,fullWidth:m,multiline:N,name:P,rows:q,maxRows:M,minRows:I,type:re,value:z,id:ue,inputRef:T,onBlur:L,onChange:D,onFocus:$,placeholder:B,inputProps:Rt,slots:{input:Y.htmlInput?je:void 0},...Te});return x.jsxs(Se,{...Ee,children:[R!=null&&R!==""&&x.jsx(Ve,{htmlFor:ue,id:ye,...nt,children:R}),W?x.jsx($e,{"aria-describedby":ae,id:ue,labelId:ye,value:z,input:mt,...It,children:s}):mt,y&&x.jsx(dt,{id:ae,...Ct,children:y})]})});function uTe(e){return Xt("MuiToggleButton",e)}const Dd=Kt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),N3=_.createContext({}),B3=_.createContext(void 0);function dTe(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const hTe=e=>{const{classes:t,fullWidth:r,selected:n,disabled:o,size:i,color:s}=e,a={root:["root",n&&"selected",o&&"disabled",r&&"fullWidth",`size${We(i)}`,s]};return ht(a,uTe,t)},fTe=we(sl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${We(r.size)}`]]}})(Gt(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Dd.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Dd.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(Zn()).map(([t])=>({props:{color:t},style:{[`&.${Dd.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),jO=_.forwardRef(function(t,r){const{value:n,...o}=_.useContext(N3),i=_.useContext(B3),s=wd({...o,selected:dTe(t.value,n)},t),a=ir({props:s,name:"MuiToggleButton"}),{children:c,className:d,color:h="standard",disabled:f=!1,disableFocusRipple:g=!1,fullWidth:m=!1,onChange:y,onClick:b,selected:v,size:C="medium",value:E,...T}=a,R={...a,color:h,disabled:f,disableFocusRipple:g,fullWidth:m,size:C},M=hTe(R),I=P=>{b&&(b(P,E),P.defaultPrevented)||y&&y(P,E)},N=i||"";return x.jsx(fTe,{className:Ke(o.className,M.root,d,N),disabled:f,focusRipple:!g,ref:r,onClick:I,onChange:y,value:E,ownerState:R,"aria-pressed":v,...T,children:c})});function pTe(e){return Xt("MuiToggleButtonGroup",e)}const zn=Kt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),gTe=e=>{const{classes:t,orientation:r,fullWidth:n,disabled:o}=e,i={root:["root",r,n&&"fullWidth"],grouped:["grouped",`grouped${We(r)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ht(i,pTe,t)},mTe=we("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${zn.grouped}`]:t.grouped},{[`& .${zn.grouped}`]:t[`grouped${We(r.orientation)}`]},{[`& .${zn.firstButton}`]:t.firstButton},{[`& .${zn.lastButton}`]:t.lastButton},{[`& .${zn.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(Gt(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${zn.grouped}`]:{[`&.${zn.selected} + .${zn.grouped}.${zn.selected}`]:{borderTop:0,marginTop:0}},[`& .${zn.firstButton},& .${zn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${zn.lastButton},& .${zn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${zn.lastButton}.${Dd.disabled},& .${zn.middleButton}.${Dd.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${zn.grouped}`]:{[`&.${zn.selected} + .${zn.grouped}.${zn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${zn.firstButton},& .${zn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${zn.lastButton},& .${zn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${zn.lastButton}.${Dd.disabled},& .${zn.middleButton}.${Dd.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),F3=_.forwardRef(function(t,r){const n=ir({props:t,name:"MuiToggleButtonGroup"}),{children:o,className:i,color:s="standard",disabled:a=!1,exclusive:c=!1,fullWidth:d=!1,onChange:h,orientation:f="horizontal",size:g="medium",value:m,...y}=n,b={...n,disabled:a,fullWidth:d,orientation:f,size:g},v=gTe(b),C=_.useCallback((N,P)=>{if(!h)return;const L=m&&m.indexOf(P);let D;m&&L>=0?(D=m.slice(),D.splice(L,1)):D=m?m.concat(P):[P],h(N,D)},[h,m]),E=_.useCallback((N,P)=>{h&&h(N,m===P?null:P)},[h,m]),T=_.useMemo(()=>({className:v.grouped,onChange:c?E:C,value:m,size:g,fullWidth:d,color:s,disabled:a}),[v.grouped,c,E,C,m,g,d,s,a]),R=J0e(o),M=R.length,I=N=>{const P=N===0,L=N===M-1;return P&&L?"":P?v.firstButton:L?v.lastButton:v.middleButton};return x.jsx(mTe,{role:"group",className:Ke(v.root,i),ref:r,ownerState:b,...y,children:x.jsx(N3.Provider,{value:T,children:R.map((N,P)=>x.jsx(B3.Provider,{value:I(P),children:N},P))})})});class vTe extends Nt{constructor(){super(),this.onClick=t=>{this.parent._close(),this.m.action()},vt(this,{onClick:be})}get title(){return this.m.title}get icon(){return this.m.icon}}class yTe extends Nt{constructor(){super(...arguments),this.onClose=(t,r)=>{this.m.close()}}get isOpen(){return this.m.isOpen}get anchorPosition(){const{anchorPosition:t}=this.m;return{top:t.y,left:t.x}}get menuItems(){return this.m.menuItems}_close(){this.m.close()}}function mw(e){e.preventDefault()}function bTe(e){e.stopPropagation()}function wTe(e){return e+" !important"}function j3(e){e.preventDefault(),document.activeElement?.blur()}function STe(){const e=_.useRef(null);return{ref:e,onFocus:r=>{r.relatedTarget!==e.current&&e.current?.focus()}}}const CTe=Dt(vTe)(({vm:e})=>x.jsxs(zi,{onClick:e.onClick,children:[x.jsx(cw,{children:e.icon}),e.title]})),xTe=Dt(yTe)(({vm:e})=>{const t=N$();return x.jsx(dw,{ref:t,onContextMenu:mw,anchorReference:"anchorPosition",open:e.isOpen,onClose:e.onClose,anchorPosition:e.anchorPosition,children:e.menuItems.map((r,n)=>x.jsx(CTe,{m:r},n))})}),_Te=xt(x.jsx("path",{d:"M21 11h-1.5v-.5h-2v3h2V13H21v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zM8 10v5H6.5v-1.5h-2V15H3v-5c0-.55.45-1 1-1h3c.55 0 1 .45 1 1m-1.5.5h-2V12h2zm7 1.5c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1h-4V9h4c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M11 10.5v.75h2v-.75zm2 2.25h-2v.75h2z"})),ETe=xt(x.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),VO=xt(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),TTe=xt(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"})),MTe=xt(x.jsx("path",{d:"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z"})),OTe=xt(x.jsx("path",{d:"M11.71 17.99C8.53 17.84 6 15.22 6 12c0-3.31 2.69-6 6-6 3.22 0 5.84 2.53 5.99 5.71l-2.1-.63C15.48 9.31 13.89 8 12 8c-2.21 0-4 1.79-4 4 0 1.89 1.31 3.48 3.08 3.89zM22 12c0 .3-.01.6-.04.9l-1.97-.59c.01-.1.01-.21.01-.31 0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8c.1 0 .21 0 .31-.01l.59 1.97c-.3.03-.6.04-.9.04-5.52 0-10-4.48-10-10S6.48 2 12 2s10 4.48 10 10m-3.77 4.26L22 15l-10-3 3 10 1.26-3.77 4.27 4.27 1.98-1.98z"})),V3=xt(x.jsx("path",{d:"m14 7-5 5 5 5z"})),$3=xt(x.jsx("path",{d:"m10 17 5-5-5-5z"})),RTe=xt(x.jsx("path",{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3z"})),z3=xt(x.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),ITe=xt(x.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),PTe=xt(x.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 4h2v5l-1-.75L9 9zm9 16H6V4h1v9l3-2.25L13 13V4h5z"})),kTe=xt(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),vw=xt(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),DTe=xt(x.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),ATe=xt(x.jsx("path",{d:"M20 4v12H8V4zm0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),LTe=xt(x.jsx("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"})),U3=xt(x.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"})),NTe=xt(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),BTe=xt([x.jsx("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),x.jsx("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"},"1")]),FTe=xt(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),jTe=xt(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),VTe=xt(x.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"})),G3=xt(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),$Te=xt(x.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"})),zTe=xt(x.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),H3=xt(x.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),UTe=xt(x.jsx("path",{d:"M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-4.05 16.5-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13z"})),GTe=xt(x.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),W3=xt(x.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12M5.21 10 10 5.21 14.79 10zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5M2 20h20v4H2z"})),HTe=xt(x.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),WTe=xt(x.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"})),KTe=xt(x.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"})),qTe=xt(x.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),K3=xt(x.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"})),YTe=xt(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"})),XTe=xt(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),ZTe=xt(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),QTe=xt(x.jsx("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-1 2H5v-2h2zm0-3H5V8h2zm9 7H8v-2h8zm0-4h-2v-2h2zm0-3h-2V8h2zm3 3h-2v-2h2zm0-3h-2V8h2z"})),JTe=xt(x.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),eMe=xt(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),tMe=xt([x.jsx("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),x.jsx("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")]),rMe=xt([x.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),x.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")]),nMe=xt(x.jsx("path",{d:"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93M4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4zm7-13.93C7.05 1.56 4 4.92 4 9h7z"})),oMe=xt(x.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),iMe=xt(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),q3=xt(x.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"})),sMe=xt(x.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"})),aMe=xt(x.jsx("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-6-7 4V7z"})),lMe=xt(x.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),cMe=xt(x.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),uMe=xt(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"})),dMe=xt(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-2.5-3.5 7-4.5-7-4.5z"})),hMe=xt(x.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"})),fMe=xt(x.jsx("path",{d:"M2 4h20v16H2z"})),pMe=xt(x.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),gMe=xt(x.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),Y3=xt(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),mMe=xt(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z"})),yw=xt(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9z"})),vMe=xt(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9zM6 3h3v2H6zm3 18H6v-2h3zm0-8H6v-2h3zm10 0h-3v-2h3z"})),yMe=xt(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),bMe=xt([x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),x.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")]),wMe=xt(x.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),SMe=xt(x.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"})),CMe=xt(x.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),xMe=xt(x.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),_Me=xt(x.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})),X3=xt(x.jsx("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"})),EMe=xt(x.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H5V8h14z"})),TMe=xt(x.jsx("path",{d:"m9 19 1.41-1.41L5.83 13H22v-2H5.83l4.59-4.59L9 5l-7 7z"}));class MMe extends Nt{constructor(){super(),this.loginValue="",this.passwordValue="",this.loginErrorText="",this.loginButtonDisabled=!1,this.onLoginValueChange=({target:t})=>{this.loginValue=t.value,this.loginErrorText=""},this.onPasswordValueChange=({target:t})=>{this.passwordValue=t.value,this.loginErrorText=""},this.onLoginButtonClick=()=>this.tryLogin(),vt(this,{loginButtonDisabled:Pe.ref,loginErrorText:Pe.ref,loginValue:Pe.ref,passwordValue:Pe.ref,onLoginValueChange:be,onPasswordValueChange:be,tryLogin:no})}get isLoggingIn(){return this.m.isLoggingIn}*tryLogin(){try{yield this.m.login(this.loginValue,this.passwordValue)}catch(t){if(!(t instanceof Ci))throw t;this.loginErrorText=t.message}}}const OMe=Dt(MMe)(({vm:e,open:t})=>x.jsxs(wO,{open:t,fullWidth:!0,children:[x.jsx(r3,{children:x.jsxs(ti,{display:"flex",flexDirection:"column",gap:1,p:"5px",children:[x.jsx(ul,{disabled:e.isLoggingIn,value:e.loginValue,onChange:e.onLoginValueChange,error:!!e.loginErrorText,helperText:e.loginErrorText,label:"Логин",autoComplete:"off",fullWidth:!0}),x.jsx(ul,{disabled:e.isLoggingIn,value:e.passwordValue,onChange:e.onPasswordValueChange,label:"Пароль",type:"password",autoComplete:"off",fullWidth:!0})]})}),x.jsx(t3,{children:x.jsx($i,{disabled:e.loginButtonDisabled,onClick:e.onLoginButtonClick,loading:e.isLoggingIn,loadingPosition:"start",startIcon:x.jsx(wMe,{}),variant:"contained",fullWidth:!0,children:"Вход"})})]}));function Z3(e){return Dwe}function RMe(e){return Xt("MuiSimpleTreeView",e)}Kt("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);const Q3={};function J3(e,t){const r=_.useRef(Q3);return r.current===Q3&&(r.current=e(t)),r}var bw=Symbol("NOT_FOUND");function IMe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function PMe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kMe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var e2=e=>Array.isArray(e)?e:[e];function DMe(e){const t=Array.isArray(e[0])?e[0]:e;return kMe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function AMe(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}function LMe(e){let t;return{get(r){return t&&e(t.key,r)?t.value:bw},put(r,n){t={key:r,value:n}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function NMe(e,t){let r=[];function n(a){const c=r.findIndex(d=>t(a,d.key));if(c>-1){const d=r[c];return c>0&&(r.splice(c,1),r.unshift(d)),d.value}return bw}function o(a,c){n(a)===bw&&(r.unshift({key:a,value:c}),r.length>e&&r.pop())}function i(){return r}function s(){r=[]}return{get:n,put:o,getEntries:i,clear:s}}var BMe=(e,t)=>e===t;function FMe(e){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;const{length:o}=r;for(let i=0;i<o;i++)if(!e(r[i],n[i]))return!1;return!0}}function $O(e,t){const r=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:n=BMe,maxSize:o=1,resultEqualityCheck:i}=r,s=FMe(n);let a=0;const c=o<=1?LMe(s):NMe(o,s);function d(){let h=c.get(arguments);if(h===bw){if(h=e.apply(null,arguments),a++,i){const g=c.getEntries().find(m=>i(m.value,h));g&&(h=g.value,a!==0&&a--)}c.put(arguments,h)}return h}return d.clearCache=()=>{c.clear(),d.resetResultsCount()},d.resultsCount=()=>a,d.resetResultsCount=()=>{a=0},d}var jMe=class{constructor(e){this.value=e}deref(){return this.value}},VMe=typeof WeakRef<"u"?WeakRef:jMe,$Me=0,t2=1;function ww(){return{s:$Me,v:void 0,o:null,p:null}}function r2(e,t={}){let r=ww();const{resultEqualityCheck:n}=t;let o,i=0;function s(){let a=r;const{length:c}=arguments;for(let f=0,g=c;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const b=y.get(m);b===void 0?(a=ww(),y.set(m,a)):a=b}else{let y=a.p;y===null&&(a.p=y=new Map);const b=y.get(m);b===void 0?(a=ww(),y.set(m,a)):a=b}}const d=a;let h;if(a.s===t2)h=a.v;else if(h=e.apply(null,arguments),i++,n){const f=o?.deref?.()??o;f!=null&&n(f,h)&&(h=f,i!==0&&i--),o=typeof h=="object"&&h!==null||typeof h=="function"?new VMe(h):h}return d.s=t2,d.v=h,h}return s.clearCache=()=>{r=ww(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function n2(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let i=0,s=0,a,c={},d=o.pop();typeof d=="object"&&(c=d,d=o.pop()),IMe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...r,...c},{memoize:f,memoizeOptions:g=[],argsMemoize:m=r2,argsMemoizeOptions:y=[]}=h,b=e2(g),v=e2(y),C=DMe(o),E=f(function(){return i++,d.apply(null,arguments)},...b),T=m(function(){s++;const M=AMe(C,arguments);return a=E.apply(null,M),a},...v);return Object.assign(T,{resultFunc:d,memoizedResultFunc:E,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var zMe=n2(r2),UMe=Object.assign((e,t=zMe)=>{PMe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,a,c)=>(s[r[c]]=a,s),{}))},{withTypes:()=>UMe});const GMe=n2({memoize:$O,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),Nr=(e,t,r,n,o,i,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&r&&n&&o&&i)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f),y=r(c,d,h,f),b=n(c,d,h,f),v=o(c,d,h,f);return i(g,m,y,b,v,d,h,f)};else if(e&&t&&r&&n&&o)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f),y=r(c,d,h,f),b=n(c,d,h,f);return o(g,m,y,b,d,h,f)};else if(e&&t&&r&&n)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f),y=r(c,d,h,f);return n(g,m,y,d,h,f)};else if(e&&t&&r)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f);return r(g,m,d,h,f)};else if(e&&t)a=(c,d,h,f)=>{const g=e(c,d,h,f);return t(g,d,h,f)};else if(e)a=e;else throw new Error("Missing arguments");return a},af=(...e)=>{const t=new WeakMap;let r=1;const n=e[e.length-1],o=e.length-1||1,i=Math.max(n.length-o,0);if(i>3)throw new Error("Unsupported number of arguments");return(a,c,d,h)=>{let f=a.__cacheKey__;f||(f={id:r},a.__cacheKey__=f,r+=1);let g=t.get(f);if(!g){const m=e.length===1?[v=>v,n]:e;let y=e;const b=[void 0,void 0,void 0];switch(i){case 0:break;case 1:{y=[...m.slice(0,-1),()=>b[0],n];break}case 2:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],n];break}case 3:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],()=>b[2],n];break}default:throw new Error("Unsupported number of arguments")}g=GMe(...y),g.selectorArgs=b,t.set(f,g)}switch(i){case 3:g.selectorArgs[2]=h;case 2:g.selectorArgs[1]=d;case 1:g.selectorArgs[0]=c}switch(i){case 0:return g(a);case 1:return g(a,c);case 2:return g(a,c,d);case 3:return g(a,c,d,h);default:throw new Error("unreachable")}}};var zO={exports:{}},UO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function HMe(){if(o2)return UO;o2=1;var e=di(),t=R$();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return UO.useSyncExternalStoreWithSelector=function(d,h,f,g,m){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function C(I){if(!E){if(E=!0,T=I,I=g(I),m!==void 0&&b.hasValue){var N=b.value;if(m(N,I))return R=N}return R=I}if(N=R,n(T,I))return N;var P=g(I);return m!==void 0&&m(N,P)?(T=I,N):(T=I,R=P)}var E=!1,T,R,M=f===void 0?null:f;return[function(){return C(h())},M===null?void 0:function(){return C(M())}]},[h,f,g,m]);var v=o(d,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},UO}var i2;function WMe(){return i2||(i2=1,zO.exports=HMe()),zO.exports}var KMe=WMe();function Wr(e,t,r,n,o){const i=s=>t(s,r,n,o);return KMe.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,i)}const qMe=()=>{};function Sw(e,t,r){const n=ss(YMe,{store:e,selector:t}).current;n.effect=r,$b(n.onMount)}function YMe(e){const{store:t,selector:r}=e;let n=r(t.state);const o={effect:qMe,dispose:null,subscribe:()=>{o.dispose??=t.subscribe(i=>{const s=r(i);o.effect(n,s),n=s})},onMount:()=>(o.subscribe(),()=>{o.dispose?.(),o.dispose=null})};return o.subscribe(),o}class em{static create(t){return new em(t)}constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){this.state=t,this.updateTick+=1;const r=this.updateTick,n=this.listeners.values();let o;for(;o=n.next(),!o.done;){if(r!==this.updateTick)return;const i=o.value;i(t)}}update(t){for(const r in t)if(!Object.is(this.state[r],t[r])){this.setState(H({},this.state,t));return}}set(t,r){Object.is(this.state[t],r)||this.setState(H({},this.state,{[t]:r}))}}class s2{maxListeners=20;warnOnce=!1;events={};on(t,r,n={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),n.isFirst?o.highPriority.set(r,!0):o.regular.set(r,!0)}removeListener(t,r){this.events[t]&&(this.events[t].regular.delete(r),this.events[t].highPriority.delete(r))}removeAllListeners(){this.events={}}emit(t,...r){const n=this.events[t];if(!n)return;const o=Array.from(n.highPriority.keys()),i=Array.from(n.regular.keys());for(let s=o.length-1;s>=0;s-=1){const a=o[s];n.highPriority.has(a)&&a.apply(this,r)}for(let s=0;s<i.length;s+=1){const a=i[s];n.regular.has(a)&&a.apply(this,r)}}once(t,r){const n=this;this.on(t,function o(...i){n.removeListener(t,o),r.apply(n,i)})}}const XMe=e=>e.isPropagationStopped!==void 0,a2=()=>{const[e]=_.useState(()=>new s2),t=_.useCallback((...n)=>{const[o,i,s={}]=n;s.defaultMuiPrevented=!1,!(XMe(s)&&s.isPropagationStopped())&&e.emit(o,i,s)},[e]),r=_.useCallback((n,o)=>(e.on(n,o),()=>{e.removeListener(n,o)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:r}}};a2.params={};const l2=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};l2.params={};const tm={treeId:Nr(e=>e.id.treeId)};let c2=0;const ZMe=()=>(c2+=1,`mui-tree-view-${c2}`),Cw=({id:e,treeId:t="",itemId:r})=>e??`${t}-${r}`,GO=({params:e,store:t})=>{_.useEffect(()=>{const n=t.state.id;e.id===n.providedTreeId&&n.treeId!==void 0||t.set("id",H({},n,{treeId:e.id??ZMe()}))},[t,e.id]);const r=Wr(t,tm.treeId);return{getRootProps:()=>({id:r})}};GO.params={id:!0},GO.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const QMe=[a2,l2,GO],JMe=["apiRef"],eOe=e=>{let{props:{apiRef:t},plugins:r}=e,n=pt(e.props,JMe);const o=_.useMemo(()=>{const a={};return r.forEach(c=>{Object.assign(a,c.params)}),a},[r]),{forwardedProps:i,pluginParams:s}=_.useMemo(()=>{const a={},c={};Object.keys(n).forEach(h=>{const f=n[h];o[h]?a[h]=f:c[h]=f});const d=r.reduce((h,f)=>f.applyDefaultValuesToParams?f.applyDefaultValuesToParams({params:h}):h,a);return{forwardedProps:c,pluginParams:d}},[r,n,o]);return{forwardedProps:i,pluginParams:s,apiRef:t}},tOe=e=>{const{plugins:t,instance:r,publicAPI:n,store:o,rootRef:i}=e,s=_.useCallback(d=>{let h=null,f=null;const g=[],m={};t.forEach(v=>{if(!v.itemPlugin)return;const C=v.itemPlugin({props:d,rootRef:h,contentRef:f});C?.rootRef&&(h=C.rootRef),C?.contentRef&&(f=C.contentRef),C?.propsEnhancers&&(g.push(C.propsEnhancers),Object.keys(C.propsEnhancers).forEach(E=>{m[E]=!0}))});const y=v=>C=>{const E={};return g.forEach(T=>{const R=T[v];R!=null&&Object.assign(E,R(C))}),E},b=Object.fromEntries(Object.keys(m).map(v=>[v,y(v)]));return{contentRef:f,rootRef:h,propsEnhancers:b}},[t]),a=_.useCallback(({itemId:d,children:h,idAttribute:f})=>{let g=h;for(let m=t.length-1;m>=0;m-=1){const y=t[m];y.wrapItem&&(g=y.wrapItem({instance:r,itemId:d,children:g,idAttribute:f}))}return g},[t,r]),c=_.useCallback(({children:d})=>{let h=d;for(let f=t.length-1;f>=0;f-=1){const g=t[f];g.wrapRoot&&(h=g.wrapRoot({children:h}))}return h},[t]);return _.useMemo(()=>({runItemPlugins:s,wrapItem:a,wrapRoot:c,instance:r,publicAPI:n,store:o,rootRef:i}),[s,a,c,r,n,o,i])};function rOe(e){return e.current==null&&(e.current={}),e}function nOe(e){const t=_.useRef({});return e?rOe(e):t}const oOe=({plugins:e,rootRef:t,props:r})=>{const n=_.useMemo(()=>[...QMe,...e],[e]),{pluginParams:o,forwardedProps:i,apiRef:s}=eOe({plugins:n,props:r}),a=J3(()=>({})).current,c=nOe(s),d=_.useRef(null),h=Er(d,t),f=J3(()=>{const v={};for(const C of n)C.getInitialState&&Object.assign(v,C.getInitialState(o));return new em(v)}).current,g=tOe({plugins:n,instance:a,publicAPI:c.current,store:f,rootRef:d}),m=[],y=v=>{const C=v({instance:a,params:o,rootRef:d,plugins:n,store:f});C.getRootProps&&m.push(C.getRootProps),C.publicAPI&&Object.assign(c.current,C.publicAPI),C.instance&&Object.assign(a,C.instance)};return n.forEach(y),{getRootProps:(v={})=>{const C=H({role:"tree"},i,v,{ref:h});return m.forEach(E=>{Object.assign(C,E(v))}),C},rootRef:h,contextValue:g}},u2=_.createContext(null),Ad=()=>{const e=_.useContext(u2);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},d2=_.createContext({classes:{},slots:{},slotProps:{}}),h2=()=>_.useContext(d2),HO={};function iOe(e){const{contextValue:t,classes:r=HO,slots:n=HO,slotProps:o=HO,children:i}=e,s=_.useMemo(()=>({classes:r,slots:{collapseIcon:n.collapseIcon,expandIcon:n.expandIcon,endIcon:n.endIcon},slotProps:{collapseIcon:o.collapseIcon,expandIcon:o.expandIcon,endIcon:o.endIcon}}),[r,n.collapseIcon,n.expandIcon,n.endIcon,o.collapseIcon,o.expandIcon,o.endIcon]);return x.jsx(u2.Provider,{value:t,children:x.jsx(d2.Provider,{value:s,children:t.wrapRoot({children:i})})})}const rm=(e,t,r)=>{e.$$publishEvent(t,r)},lf="__TREE_VIEW_ROOT_PARENT_ID__",f2=e=>{const t={};return e.forEach((r,n)=>{t[r]=n}),t},xw=(e,t)=>{if(t==null)return!1;let r=e[t];if(!r)return!1;if(r.disabled)return!0;for(;r.parentId!=null;){if(r=e[r.parentId],!r)return!1;if(r.disabled)return!0}return!1},nm=_.createContext(()=>-1),sOe=[],er={isLoading:Nr(e=>e.items.loading),error:Nr(e=>e.items.error),disabledItemFocusable:Nr(e=>e.items.disabledItemsFocusable),itemMetaLookup:Nr(e=>e.items.itemMetaLookup),itemMeta:Nr((e,t)=>e.items.itemMetaLookup[t??lf]??null),itemOrderedChildrenIds:Nr((e,t)=>e.items.itemOrderedChildrenIdsLookup[t??lf]??sOe),itemModel:Nr((e,t)=>e.items.itemModelLookup[t]),isItemDisabled:Nr((e,t)=>xw(e.items.itemMetaLookup,t)),itemIndex:Nr((e,t)=>{const r=e.items.itemMetaLookup[t];return r==null?-1:e.items.itemChildrenIndexesLookup[r.parentId??lf][r.id]}),itemParentId:Nr((e,t)=>e.items.itemMetaLookup[t]?.parentId??null),itemDepth:Nr((e,t)=>e.items.itemMetaLookup[t]?.depth??0),canItemBeFocused:Nr((e,t)=>e.items.disabledItemsFocusable||!xw(e.items.itemMetaLookup,t))},aOe=(e,t,r)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(r[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},WO=({disabledItemsFocusable:e,items:t,isItemDisabled:r,getItemLabel:n,getItemChildren:o,getItemId:i,initialDepth:s=0,initialParentId:a=null,getChildrenCount:c,ignoreChildren:d=!1})=>{const h={},f={},g={[lf]:[]},m=(b,v,C)=>{const E=i?i(b):b.id;aOe(E,b,h);const T=n?n(b):b.label;if(T==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(b)].join(`
`));const R=o?o(b):b.children;h[E]={id:E,label:T,parentId:C,idAttribute:void 0,expandable:c?c(b)>0:!!R?.length,disabled:r?r(b):!1,depth:v},f[E]=b;const M=C??lf;g[M]||(g[M]=[]),g[M].push(E),d||R?.forEach(I=>m(I,v+1,E))};t?.forEach(b=>m(b,s,a));const y={};return Object.keys(g).forEach(b=>{y[b]=f2(g[b])}),{disabledItemsFocusable:e,itemMetaLookup:h,itemModelLookup:f,itemOrderedChildrenIdsLookup:g,itemChildrenIndexesLookup:y}},om=({instance:e,params:t,store:r})=>{const n=_.useCallback(C=>er.itemModel(r.state,C),[r]),o=_.useCallback(C=>er.itemMeta(r.state,C)?.parentId||null,[r]),i=$t(C=>{r.set("items",H({},r.state.items,{loading:C}))}),s=$t(C=>{r.set("items",H({},r.state.items,{error:C}))}),a=$t(({itemId:C,shouldBeDisabled:E})=>{if(!r.state.items.itemMetaLookup[C])return;const T=H({},r.state.items.itemMetaLookup);T[C]=H({},T[C],{disabled:E??!T[C].disabled}),r.set("items",H({},r.state.items,{itemMetaLookup:T}))}),c=_.useCallback(()=>{const C=E=>{const T=er.itemModel(r.state,E),R=H({},T),M=er.itemOrderedChildrenIds(r.state,E);return M.length>0?R.children=M.map(C):delete R.children,R};return er.itemOrderedChildrenIds(r.state,null).map(C)},[r]),d=_.useCallback(C=>er.itemOrderedChildrenIds(r.state,C),[r]),h=C=>{const E=er.itemMeta(r.state,C);if(E==null)return null;const T=Cw({treeId:tm.treeId(r.state),itemId:C,id:E.idAttribute});return document.getElementById(T)},f=_.useRef(!1),g=_.useCallback(()=>{f.current=!0},[]),m=_.useCallback(()=>f.current,[]),y=({items:C,parentId:E,depth:T,getChildrenCount:R})=>{if(C){const M=WO({disabledItemsFocusable:t.disabledItemsFocusable,items:C,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:R,initialDepth:T,initialParentId:E,ignoreChildren:!0});let I;E?I={itemModelLookup:H({},r.state.items.itemModelLookup,M.itemModelLookup),itemMetaLookup:H({},r.state.items.itemMetaLookup,M.itemMetaLookup),itemOrderedChildrenIdsLookup:H({},M.itemOrderedChildrenIdsLookup,r.state.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:H({},M.itemChildrenIndexesLookup,r.state.items.itemChildrenIndexesLookup)}:I={itemModelLookup:M.itemModelLookup,itemMetaLookup:M.itemMetaLookup,itemOrderedChildrenIdsLookup:M.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:M.itemChildrenIndexesLookup},Object.values(r.state.items.itemMetaLookup).forEach(N=>{I.itemMetaLookup[N.id]||rm(e,"removeItem",{id:N.id})}),r.set("items",H({},r.state.items,I))}},b=C=>{if(C==null)r.set("items",H({},r.state.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}}));else{const E=Object.keys(r.state.items.itemMetaLookup).reduce((M,I)=>{const N=r.state.items.itemMetaLookup[I];return N.parentId===C?(rm(e,"removeItem",{id:N.id}),M):H({},M,{[N.id]:N})},{}),T=H({},r.state.items.itemOrderedChildrenIdsLookup),R=H({},r.state.items.itemChildrenIndexesLookup);delete R[C],delete T[C],r.set("items",H({},r.state.items,{itemMetaLookup:E,itemOrderedChildrenIdsLookup:T,itemChildrenIndexesLookup:R}))}};_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const C=WO({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});Object.values(r.state.items.itemMetaLookup).forEach(E=>{C.itemMetaLookup[E.id]||rm(e,"removeItem",{id:E.id})}),r.set("items",H({},r.state.items,C))},[e,r,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const v=$t((C,E)=>{t.onItemClick&&t.onItemClick(C,E)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:n,getItemDOMElement:h,getItemTree:c,getItemOrderedChildrenIds:d,setIsItemDisabled:a,getParentId:o},instance:{getItemDOMElement:h,preventItemUpdates:g,areItemUpdatesPrevented:m,addItems:y,setTreeViewLoading:i,setTreeViewError:s,removeChildren:b,handleItemClick:v}}};om.getInitialState=e=>({items:H({},WO({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})}),om.applyDefaultValuesToParams=({params:e})=>H({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"}),om.wrapRoot=({children:e})=>x.jsx(nm.Provider,{value:er.itemDepth,children:e}),om.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const p2=()=>{},g2=af(e=>e.expansion.expandedItems,e=>{const t=new Map;return e.forEach(r=>{t.set(r,!0)}),t}),vo={expandedItemsRaw:Nr(e=>e.expansion.expandedItems),expandedItemsMap:g2,triggerSlot:Nr(e=>e.expansion.expansionTrigger),isItemExpanded:Nr(g2,(e,t)=>e.has(t)),isItemExpandable:Nr(er.itemMeta,(e,t)=>e?.expandable??!1)},m2=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),_w=({instance:e,store:t,params:r})=>{p2({controlled:r.expandedItems,defaultValue:r.defaultExpandedItems}),zr(()=>{const d=m2({isItemEditable:r.isItemEditable,expansionTrigger:r.expansionTrigger});t.state.expansion.expansionTrigger!==d&&t.set("expansion",H({},t.state.expansion,{expansionTrigger:d}))},[t,r.isItemEditable,r.expansionTrigger]);const n=(d,h)=>{r.expandedItems===void 0&&t.set("expansion",H({},t.state.expansion,{expandedItems:h})),r.onExpandedItemsChange?.(d,h)},o=$t(()=>{n(null,[])}),i=$t(({itemId:d,event:h,shouldBeExpanded:f})=>{const g=vo.expandedItemsRaw(t.state);let m;f?m=[d].concat(g):m=g.filter(y=>y!==d),r.onItemExpansionToggle&&r.onItemExpansionToggle(h,d,f),n(h,m)}),s=$t(({itemId:d,event:h=null,shouldBeExpanded:f})=>{const g=vo.isItemExpanded(t.state,d),m=f??!g;if(g===m)return;const y={isExpansionPrevented:!1,shouldBeExpanded:m,event:h,itemId:d};rm(e,"beforeItemToggleExpansion",y),!y.isExpansionPrevented&&e.applyItemExpansion({itemId:d,event:h,shouldBeExpanded:m})}),a=$t(d=>vo.isItemExpandable(t.state,d)),c=(d,h)=>{const f=er.itemMeta(t.state,h);if(f==null)return;const m=er.itemOrderedChildrenIds(t.state,f.parentId).filter(b=>vo.isItemExpandable(t.state,b)&&!vo.isItemExpanded(t.state,b)),y=vo.expandedItemsRaw(t.state).concat(m);m.length>0&&(r.onItemExpansionToggle&&m.forEach(b=>{r.onItemExpansionToggle(d,b,!0)}),n(d,y))};return zr(()=>{const d=r.expandedItems;d!==void 0&&t.set("expansion",H({},t.state.expansion,{expandedItems:d}))},[t,r.expandedItems]),{publicAPI:{setItemExpansion:s,isItemExpanded:a},instance:{setItemExpansion:s,applyItemExpansion:i,expandAllSiblings:c,resetItemExpansion:o}}},lOe=[];_w.applyDefaultValuesToParams=({params:e})=>H({},e,{defaultExpandedItems:e.defaultExpandedItems??lOe}),_w.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:m2(e)}}),_w.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const KO=(e,t)=>{let r=t.length-1;for(;r>=0&&!er.canItemBeFocused(e,t[r]);)r-=1;if(r!==-1)return t[r]},v2=(e,t)=>{const r=er.itemMeta(e,t);if(!r)return null;const n=er.itemOrderedChildrenIds(e,r.parentId),o=er.itemIndex(e,t);if(o===0)return r.parentId;let i=o-1;for(;!er.canItemBeFocused(e,n[i])&&i>=0;)i-=1;if(i===-1)return r.parentId==null?null:v2(e,r.parentId);let s=n[i],a=KO(e,er.itemOrderedChildrenIds(e,s));for(;vo.isItemExpanded(e,s)&&a!=null;)s=a,a=KO(e,er.itemOrderedChildrenIds(e,s));return s},Ew=(e,t)=>{if(vo.isItemExpanded(e,t)){const n=er.itemOrderedChildrenIds(e,t).find(o=>er.canItemBeFocused(e,o));if(n!=null)return n}let r=er.itemMeta(e,t);for(;r!=null;){const n=er.itemOrderedChildrenIds(e,r.parentId),o=er.itemIndex(e,r.id);if(o<n.length-1){let i=o+1;for(;!er.canItemBeFocused(e,n[i])&&i<n.length-1;)i+=1;if(er.canItemBeFocused(e,n[i]))return n[i]}r=er.itemMeta(e,r.parentId)}return null},y2=e=>{let t=null;for(;t==null||vo.isItemExpanded(e,t);){const r=er.itemOrderedChildrenIds(e,t),n=KO(e,r);if(n==null)return t;t=n}return t},Tw=e=>er.itemOrderedChildrenIds(e,null).find(t=>er.canItemBeFocused(e,t)),b2=(e,t,r)=>{if(t===r)return[t,r];const n=er.itemMeta(e,t),o=er.itemMeta(e,r);if(!n||!o)return[t,r];if(n.parentId===o.id||o.parentId===n.id)return o.parentId===n.id?[n.id,o.id]:[o.id,n.id];const i=[n.id],s=[o.id];let a=n.parentId,c=o.parentId,d=s.indexOf(a)!==-1,h=i.indexOf(c)!==-1,f=!0,g=!0;for(;!h&&!d;)f&&(i.push(a),d=s.indexOf(a)!==-1,f=a!==null,!d&&f&&(a=er.itemParentId(e,a))),g&&!d&&(s.push(c),h=i.indexOf(c)!==-1,g=c!==null,!h&&g&&(c=er.itemParentId(e,c)));const m=d?a:c,y=er.itemOrderedChildrenIds(e,m),b=i[i.indexOf(m)-1],v=s[s.indexOf(m)-1];return y.indexOf(b)<y.indexOf(v)?[t,r]:[r,t]},cOe=(e,t,r)=>{const n=c=>{if(vo.isItemExpandable(e,c)&&vo.isItemExpanded(e,c))return er.itemOrderedChildrenIds(e,c)[0];let d=er.itemMeta(e,c);for(;d!=null;){const h=er.itemOrderedChildrenIds(e,d.parentId),f=er.itemIndex(e,d.id);if(f<h.length-1)return h[f+1];d=d.parentId?er.itemMeta(e,d.parentId):null}throw new Error("Invalid range")},[o,i]=b2(e,t,r),s=[o];let a=o;for(;a!==i;)a=n(a),er.isItemDisabled(e,a)||s.push(a);return s},uOe=e=>{let t=Tw(e);const r=[];for(;t!=null;)r.push(t),t=Ew(e,t);return r},qO=(e,t)=>t!==e.closest('*[role="treeitem"]'),w2=af(e=>e.selection.selectedItems,e=>Array.isArray(e)?e:e!=null?[e]:[]),S2=af(w2,e=>{const t=new Map;return e.forEach(r=>{t.set(r,!0)}),t}),ln={selectedItemsRaw:Nr(e=>e.selection.selectedItems),selectedItems:w2,selectedItemsMap:S2,enabled:Nr(e=>e.selection.isEnabled),isMultiSelectEnabled:Nr(e=>e.selection.isMultiSelectEnabled),isCheckboxSelectionEnabled:Nr(e=>e.selection.isCheckboxSelectionEnabled),propagationRules:Nr(e=>e.selection.selectionPropagation),isItemSelected:Nr(S2,(e,t)=>e.has(t)),canItemBeSelected:Nr(er.isItemDisabled,e=>e.selection.isEnabled,(e,t,r)=>t&&!e)},Mw=e=>{const t={};return e.forEach(r=>{t[r]=!0}),t},C2=({store:e,oldModel:t,newModel:r})=>{const n=new Map;return r.forEach(o=>{n.set(o,!0)}),{added:r.filter(o=>!ln.isItemSelected(e.state,o)),removed:t.filter(o=>!n.has(o))}},dOe=({store:e,selectionPropagation:t,newModel:r,oldModel:n,additionalItemsToPropagate:o})=>{if(!t.descendants&&!t.parents)return r;let i=!1;const s=Mw(r),a=C2({store:e,newModel:r,oldModel:n});return o?.forEach(c=>{s[c]?a.added.includes(c)||a.added.push(c):a.removed.includes(c)||a.removed.push(c)}),a.added.forEach(c=>{if(t.descendants){const d=h=>{h!==c&&(i=!0,s[h]=!0),er.itemOrderedChildrenIds(e.state,h).forEach(d)};d(c)}if(t.parents){const d=f=>s[f]?er.itemOrderedChildrenIds(e.state,f).every(d):!1,h=f=>{const g=er.itemParentId(e.state,f);if(g==null)return;er.itemOrderedChildrenIds(e.state,g).every(d)&&(i=!0,s[g]=!0,h(g))};h(c)}}),a.removed.forEach(c=>{if(t.parents){let d=er.itemParentId(e.state,c);for(;d!=null;)s[d]&&(i=!0,delete s[d]),d=er.itemParentId(e.state,d)}if(t.descendants){const d=h=>{h!==c&&(i=!0,delete s[h]),er.itemOrderedChildrenIds(e.state,h).forEach(d)};d(c)}}),i?Object.keys(s):r},hOe=Nr((e,t)=>{if(ln.isItemSelected(e,t))return"checked";let r=!1,n=!1;const o=s=>{s!==t&&(ln.isItemSelected(e,s)?r=!0:n=!0),er.itemOrderedChildrenIds(e,s).forEach(o)};return o(t),r&&n?"indeterminate":ln.propagationRules(e).parents&&r&&!n?"checked":"empty"}),fOe=({props:e})=>{const{itemId:t}=e,{store:r}=Ad(),n=Wr(r,ln.isCheckboxSelectionEnabled),o=Wr(r,ln.canItemBeSelected,t),i=Wr(r,hOe,t);return{propsEnhancers:{checkbox:({externalEventHandlers:s,interactions:a})=>({tabIndex:-1,onChange:d=>{s.onChange?.(d),!d.defaultMuiPrevented&&ln.canItemBeSelected(r.state,t)&&a.handleCheckboxSelection(d)},visible:n,disabled:!o,checked:i==="checked",indeterminate:i==="indeterminate"})}}},im=({store:e,params:t})=>{p2({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const r=_.useRef(null),n=_.useRef({}),o=(g,m,y)=>{const b=ln.selectedItemsRaw(e.state);let v;const C=ln.isMultiSelectEnabled(e.state);if(C&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?v=dOe({store:e,selectionPropagation:t.selectionPropagation,newModel:m,oldModel:b,additionalItemsToPropagate:y}):v=m,t.onItemSelectionToggle)if(C){const E=C2({store:e,newModel:v,oldModel:b});t.onItemSelectionToggle&&(E.added.forEach(T=>{t.onItemSelectionToggle(g,T,!0)}),E.removed.forEach(T=>{t.onItemSelectionToggle(g,T,!1)}))}else t.onItemSelectionToggle&&v!==b&&(b!=null&&t.onItemSelectionToggle(g,b,!1),v!=null&&t.onItemSelectionToggle(g,v,!0));t.selectedItems===void 0&&e.set("selection",H({},e.state.selection,{selectedItems:v})),t.onSelectedItemsChange?.(g,v)},i=({itemId:g,event:m=null,keepExistingSelection:y=!1,shouldBeSelected:b})=>{if(!ln.enabled(e.state))return;let v;const C=ln.isMultiSelectEnabled(e.state);if(y){const E=ln.selectedItems(e.state),T=ln.isItemSelected(e.state,g);T&&(b===!1||b==null)?v=E.filter(R=>R!==g):!T&&(b===!0||b==null)?v=[g].concat(E):v=E}else b===!1||b==null&&ln.isItemSelected(e.state,g)?v=C?[]:null:v=C?[g]:g;o(m,v,[g]),r.current=g,n.current={}},s=(g,[m,y])=>{if(!ln.isMultiSelectEnabled(e.state))return;let v=ln.selectedItems(e.state).slice();Object.keys(n.current).length>0&&(v=v.filter(R=>!n.current[R]));const C=Mw(v),E=cOe(e.state,m,y),T=E.filter(R=>!C[R]);v=v.concat(T),o(g,v),n.current=Mw(E)},a=(g,m)=>{if(r.current!=null){const[y,b]=b2(e.state,m,r.current);s(g,[y,b])}},c=(g,m)=>{s(g,[Tw(e.state),m])},d=(g,m)=>{s(g,[m,y2(e.state)])},h=g=>{if(!ln.isMultiSelectEnabled(e.state))return;const y=uOe(e.state);o(g,y),n.current=Mw(y)},f=(g,m,y)=>{if(!ln.isMultiSelectEnabled(e.state))return;let v=ln.selectedItems(e.state).slice();Object.keys(n.current).length===0?(v.push(y),n.current={[m]:!0,[y]:!0}):(n.current[m]||(n.current={}),n.current[y]?(v=v.filter(C=>C!==m),delete n.current[m]):(v.push(y),n.current[y]=!0)),o(g,v)};return zr(()=>{e.set("selection",{selectedItems:t.selectedItems===void 0?e.state.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}})},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:i},instance:{setItemSelection:i,selectAllNavigableItems:h,expandSelectionRange:a,selectRangeFromStartToItem:c,selectRangeFromItemToEnd:d,selectItemFromArrowNavigation:f}}};im.itemPlugin=fOe;const pOe=[],gOe={};im.applyDefaultValuesToParams=({params:e})=>H({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?pOe:null),selectionPropagation:e.selectionPropagation??gOe}),im.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}}),im.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const x2=1e3;let mOe=class{timeouts=new Map;cleanupTimeout=x2;constructor(t=x2){this.cleanupTimeout=t}register(t,r,n){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof r=="function"&&r(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,o)}unregister(t){const r=this.timeouts.get(t.cleanupToken);r&&(this.timeouts.delete(t.cleanupToken),clearTimeout(r))}reset(){this.timeouts&&(this.timeouts.forEach((t,r)=>{this.unregister({cleanupToken:r})}),this.timeouts=void 0)}},vOe=class{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,r,n){this.registry.register(t,r,n)}unregister(t){this.registry.unregister(t)}reset(){}},yOe=class{};function bOe(e){let t=0;return function(n,o,i){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new vOe:new mOe);const[s]=_.useState(new yOe),a=_.useRef(null),c=_.useRef(void 0);c.current=i;const d=_.useRef(null);if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=n.$$subscribeEvent(o,h),t+=1,d.current={cleanupToken:t},e.registry.register(s,()=>{a.current?.(),a.current=null,d.current=null},d.current)}else!c.current&&a.current&&(a.current(),a.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));_.useEffect(()=>{if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=n.$$subscribeEvent(o,h)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{a.current?.(),a.current=null}},[n,o])}}const wOe=bOe({registry:null}),_2=af(ln.selectedItems,vo.expandedItemsMap,er.itemMetaLookup,er.disabledItemFocusable,e=>er.itemOrderedChildrenIds(e,null),(e,t,r,n,o)=>{const i=e.find(a=>{if(!n&&xw(r,a))return!1;const c=r[a];return c&&(c.parentId==null||t.has(c.parentId))});if(i!=null)return i;const s=o.find(a=>n||!xw(r,a));return s??null}),Ld={defaultFocusableItemId:_2,isItemTheDefaultFocusableItem:Nr(_2,(e,t)=>e===t),focusedItemId:Nr(e=>e.focus.focusedItemId),isItemFocused:Nr((e,t)=>e.focus.focusedItemId===t)},YO=({instance:e,params:t,store:r})=>{const n=$t(h=>{Ld.focusedItemId(r.state)!==h&&r.set("focus",H({},r.state.focus,{focusedItemId:h}))}),o=h=>{const f=er.itemMeta(r.state,h);return f&&(f.parentId==null||vo.isItemExpanded(r.state,f.parentId))},i=(h,f)=>{const g=e.getItemDOMElement(f);g&&g.focus(),n(f),t.onItemFocus&&t.onItemFocus(h,f)},s=$t((h,f)=>{o(f)&&i(h,f)}),a=$t(()=>{const h=Ld.focusedItemId(r.state);if(h==null)return;if(er.itemMeta(r.state,h)){const g=e.getItemDOMElement(h);g&&g.blur()}n(null)});wOe(e,"removeItem",({id:h})=>{const f=Ld.focusedItemId(r.state),g=Ld.defaultFocusableItemId(r.state);f===h&&g!=null&&i(null,g)});const c=h=>f=>{if(h.onFocus?.(f),f.defaultMuiPrevented)return;const g=Ld.defaultFocusableItemId(r.state);f.target===f.currentTarget&&g!=null&&i(f,g)},d=h=>f=>{h.onBlur?.(f),!f.defaultMuiPrevented&&n(null)};return{getRootProps:h=>({onFocus:c(h),onBlur:d(h)}),publicAPI:{focusItem:s},instance:{focusItem:s,removeFocusedItem:a}}};YO.getInitialState=()=>({focus:{focusedItemId:null}}),YO.params={onItemFocus:!0};const Ow=(e,t)=>e.getAvailablePlugins().has(t),Ql={isItemEditable:Nr(e=>e.label?.isItemEditable,er.itemModel,(e,t,r)=>!t||e==null?!1:typeof e=="boolean"?e:e(t)),isItemBeingEdited:Nr((e,t)=>t==null?!1:e.label?.editedItemId===t),isAnyItemBeingEdited:Nr(e=>!!e.label?.editedItemId)},SOe=({props:e})=>{const{store:t}=Ad(),{label:r,itemId:n}=e,[o,i]=_.useState(r),s=Wr(t,Ql.isItemEditable,n),a=Wr(t,Ql.isItemBeingEdited,n);return _.useEffect(()=>{a||i(r)},[a,r]),{propsEnhancers:{label:()=>({editable:s}),labelInput:({externalEventHandlers:c,interactions:d})=>s?{value:o??"","data-element":"labelInput",onChange:m=>{c.onChange?.(m),i(m.target.value)},onKeyDown:m=>{if(c.onKeyDown?.(m),m.defaultMuiPrevented)return;const y=m.target;m.key==="Enter"&&y.value?d.handleSaveItemLabel(m,y.value):m.key==="Escape"&&d.handleCancelItemLabelEditing(m)},onBlur:m=>{c.onBlur?.(m),!m.defaultMuiPrevented&&m.target.value&&d.handleSaveItemLabel(m,m.target.value)},autoFocus:!0,type:"text"}:{}}}},tu=({store:e,params:t})=>{const r=o=>{o!==null&&!Ql.isItemEditable(e.state,o)||e.set("label",H({},e.state.label,{editedItemId:o}))},n=(o,i)=>{if(!i)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",o].join(`
`));const s=e.state.items.itemMetaLookup[o];s.label!==i&&(e.set("items",H({},e.state.items,{itemMetaLookup:H({},e.state.items.itemMetaLookup,{[o]:H({},s,{label:i})})})),t.onItemLabelChange&&t.onItemLabelChange(o,i))};return zr(()=>{e.set("label",H({},e.state.items,{isItemEditable:t.isItemEditable}))},[e,t.isItemEditable]),{instance:{setEditedItem:r,updateItemLabel:n},publicAPI:{setEditedItem:r,updateItemLabel:n}}};tu.itemPlugin=SOe,tu.applyDefaultValuesToParams=({params:e})=>H({},e,{isItemEditable:e.isItemEditable??!1}),tu.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}}),tu.params={onItemLabelChange:!0,isItemEditable:!0};function COe(e){return!!e&&e.length===1&&!!e.match(/\S/)}const E2=({instance:e,store:t,params:r})=>{const n=Uo(),o=_.useRef({}),i=$t(f=>{o.current=f(o.current)}),s=Wr(t,er.itemMetaLookup);_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const f={},g=m=>{f[m.id]=m.label.substring(0,1).toLowerCase()};Object.values(s).forEach(g),o.current=f},[s,r.getItemId,e]);const a=(f,g)=>{const m=g.toLowerCase(),y=E=>{const T=Ew(t.state,E);return T===null?Tw(t.state):T};let b=null,v=y(f);const C={};for(;b==null&&!C[v];)o.current[v]===m?b=v:(C[v]=!0,v=y(v));return b},c=f=>ln.enabled(t.state)&&!er.isItemDisabled(t.state,f),d=f=>!er.isItemDisabled(t.state,f)&&vo.isItemExpandable(t.state,f);return{instance:{updateFirstCharMap:i,handleItemKeyDown:async(f,g)=>{if(f.defaultMuiPrevented||f.altKey||qO(f.target,f.currentTarget))return;const m=f.ctrlKey||f.metaKey,y=f.key,b=ln.isMultiSelectEnabled(t.state);switch(!0){case(y===" "&&c(g)):{f.preventDefault(),b&&f.shiftKey?e.expandSelectionRange(f,g):e.setItemSelection({event:f,itemId:g,keepExistingSelection:b,shouldBeSelected:void 0});break}case y==="Enter":{Ow(e,tu)&&Ql.isItemEditable(t.state,g)&&!Ql.isItemBeingEdited(t.state,g)?e.setEditedItem(g):d(g)?(e.setItemExpansion({event:f,itemId:g}),f.preventDefault()):c(g)&&(b?(f.preventDefault(),e.setItemSelection({event:f,itemId:g,keepExistingSelection:!0})):ln.isItemSelected(t.state,g)||(e.setItemSelection({event:f,itemId:g}),f.preventDefault()));break}case y==="ArrowDown":{const v=Ew(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case y==="ArrowUp":{const v=v2(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case(y==="ArrowRight"&&!n||y==="ArrowLeft"&&n):{if(m)return;if(vo.isItemExpanded(t.state,g)){const v=Ew(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}else d(g)&&(e.setItemExpansion({event:f,itemId:g}),f.preventDefault());break}case(y==="ArrowLeft"&&!n||y==="ArrowRight"&&n):{if(m)return;if(d(g)&&vo.isItemExpanded(t.state,g))e.setItemExpansion({event:f,itemId:g}),f.preventDefault();else{const v=er.itemParentId(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}break}case y==="Home":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromStartToItem(f,g):e.focusItem(f,Tw(t.state)),f.preventDefault();break}case y==="End":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromItemToEnd(f,g):e.focusItem(f,y2(t.state)),f.preventDefault();break}case y==="*":{e.expandAllSiblings(f,g),f.preventDefault();break}case(String.fromCharCode(f.keyCode)==="A"&&m&&b&&ln.enabled(t.state)):{e.selectAllNavigableItems(f),f.preventDefault();break}case(!m&&!f.shiftKey&&COe(y)):{const v=a(g,y);v!=null&&(e.focusItem(f,v),f.preventDefault());break}}}}}};E2.params={};function xOe(e){return e.replace(/["\\]/g,"\\$&")}const T2=_.createContext(null);function M2(e){const{children:t,itemId:r=null,idAttribute:n}=e,{instance:o,store:i,rootRef:s}=Ad(),a=_.useRef(new Map);_.useEffect(()=>{if(!s.current)return;const d=er.itemOrderedChildrenIds(i.state,r??null)??[],h=xOe(n??s.current.id);if(r!=null){const y=s.current.querySelector(`*[id="${h}"][role="treeitem"]`);if(y&&y.getAttribute("aria-expanded")==="false")return}const f=s.current.querySelectorAll(`${r==null?"":`*[id="${h}"] `}[role="treeitem"]:not(*[id="${h}"] [role="treeitem"] [role="treeitem"])`),g=Array.from(f).map(y=>a.current.get(y.id));(g.length!==d.length||g.some((y,b)=>y!==d[b]))&&o.setJSXItemsOrderedChildrenIds(r??null,g)});const c=_.useMemo(()=>({registerChild:(d,h)=>a.current.set(d,h),unregisterChild:d=>a.current.delete(d),parentId:r}),[r]);return x.jsx(T2.Provider,{value:c,children:t})}const O2={dataSource:Nr(e=>e.lazyLoading?.dataSource),isItemLoading:Nr((e,t)=>e.lazyLoading?.dataSource.loading[t]??!1),itemHasError:Nr((e,t)=>!!e.lazyLoading?.dataSource.errors[t])},XO=e=>Array.isArray(e)?e.length>0&&e.some(XO):!!e,_Oe=({itemId:e,children:t})=>{const{instance:r,store:n,publicAPI:o}=Ad(),i=Wr(n,vo.isItemExpandable,e),s=Wr(n,O2.isItemLoading,e),a=Wr(n,O2.itemHasError,e),c=XO(t)||i,d=Wr(n,vo.isItemExpanded,e),h=Wr(n,Ld.isItemFocused,e),f=Wr(n,ln.isItemSelected,e),g=Wr(n,er.isItemDisabled,e),m=Wr(n,Ql.isItemBeingEdited,e),y=Wr(n,Ql.isItemEditable,e),b={expandable:c,expanded:d,focused:h,selected:f,disabled:g,editing:m,editable:y,loading:s,error:a},v=N=>{if(b.disabled)return;b.focused||r.focusItem(N,e);const P=ln.isMultiSelectEnabled(n.state)&&(N.shiftKey||N.ctrlKey||N.metaKey);b.expandable&&!(P&&vo.isItemExpanded(n.state,e))&&r.setItemExpansion({event:N,itemId:e})},C=N=>{if(b.disabled)return;!b.focused&&!b.editing&&r.focusItem(N,e),ln.isMultiSelectEnabled(n.state)&&(N.shiftKey||N.ctrlKey||N.metaKey)?N.shiftKey?r.expandSelectionRange(N,e):r.setItemSelection({event:N,itemId:e,keepExistingSelection:!0}):r.setItemSelection({event:N,itemId:e,shouldBeSelected:!0})},E=N=>{const P=N.nativeEvent.shiftKey,L=ln.isMultiSelectEnabled(n.state);L&&P?r.expandSelectionRange(N,e):r.setItemSelection({event:N,itemId:e,keepExistingSelection:L,shouldBeSelected:N.target.checked})},T=()=>{Ow(r,tu)&&(m?r.setEditedItem(null):r.setEditedItem(e))};return{interactions:{handleExpansion:v,handleSelection:C,handleCheckboxSelection:E,toggleItemEditing:T,handleSaveItemLabel:(N,P)=>{Ow(r,tu)&&Ql.isItemBeingEdited(n.state,e)&&(r.updateItemLabel(e,P),T(),r.focusItem(N,e))},handleCancelItemLabelEditing:N=>{Ow(r,tu)&&Ql.isItemBeingEdited(n.state,e)&&(T(),r.focusItem(N,e))}},status:b,publicAPI:o}},sm=({instance:e,store:t})=>{e.preventItemUpdates();const r=$t(i=>{if(t.state.items.itemMetaLookup[i.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${i.id}"`].join(`
`));return t.set("items",H({},t.state.items,{itemMetaLookup:H({},t.state.items.itemMetaLookup,{[i.id]:i}),itemModelLookup:H({},t.state.items.itemModelLookup,{[i.id]:{id:i.id,label:i.label??""}})})),()=>{const s=H({},t.state.items.itemMetaLookup),a=H({},t.state.items.itemModelLookup);delete s[i.id],delete a[i.id],t.set("items",H({},t.state.items,{itemMetaLookup:s,itemModelLookup:a})),rm(e,"removeItem",{id:i.id})}}),n=(i,s)=>{const a=i??lf;t.set("items",H({},t.state.items,{itemOrderedChildrenIdsLookup:H({},t.state.items.itemOrderedChildrenIdsLookup,{[a]:s}),itemChildrenIndexesLookup:H({},t.state.items.itemChildrenIndexesLookup,{[a]:f2(s)})}))},o=$t((i,s)=>(e.updateFirstCharMap(a=>(a[i]=s,a)),()=>{e.updateFirstCharMap(a=>{const c=H({},a);return delete c[i],c})}));return{instance:{insertJSXItem:r,setJSXItemsOrderedChildrenIds:n,mapFirstCharFromJSX:o}}},EOe=({props:e,rootRef:t,contentRef:r})=>{const{instance:n,store:o}=Ad(),{children:i,disabled:s=!1,label:a,itemId:c,id:d}=e,h=_.useContext(T2);if(h==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:f,unregisterChild:g,parentId:m}=h,y=XO(i),b=_.useRef(null),v=Er(b,r),C=Wr(o,tm.treeId);return zr(()=>{const E=Cw({itemId:c,treeId:C,id:d});return f(E,c),()=>{g(E),g(E)}},[o,n,f,g,c,d,C]),zr(()=>n.insertJSXItem({id:c,idAttribute:d,parentId:m,expandable:y,disabled:s}),[n,m,c,y,s,d]),_.useEffect(()=>{if(a)return n.mapFirstCharFromJSX(c,(b.current?.textContent??"").substring(0,1).toLowerCase())},[n,c,a]),{contentRef:v,rootRef:t}};sm.itemPlugin=EOe,sm.wrapItem=({children:e,itemId:t,idAttribute:r})=>{const n=_.useContext(nm);return x.jsx(M2,{itemId:t,idAttribute:r,children:x.jsx(nm.Provider,{value:n+1,children:e})})},sm.wrapRoot=({children:e})=>x.jsx(M2,{itemId:null,idAttribute:null,children:x.jsx(nm.Provider,{value:0,children:e})}),sm.params={};const TOe=[om,_w,im,YO,E2,sm],MOe=["slots","slotProps"],OOe=Z3(),ROe=e=>{const{classes:t}=e;return _.useMemo(()=>ht({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},RMe,t),[t])},IOe=we("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),POe=[],ZO=_.forwardRef(function(t,r){const n=OOe({props:t,name:"MuiSimpleTreeView"}),{slots:o,slotProps:i}=n,s=pt(n,MOe),{getRootProps:a,contextValue:c}=oOe({plugins:TOe,rootRef:r,props:H({},s,{items:POe})}),d=ROe(n),h=o?.root??IOe,f=Go({elementType:h,externalSlotProps:i?.root,className:d.root,getSlotProps:a,ownerState:n});return x.jsx(iOe,{contextValue:c,classes:d,slots:o,slotProps:i,children:x.jsx(h,H({},f))})}),kOe=Object.is;function R2(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let r=0,n=0;for(const o in e)if(r+=1,!kOe(e[o],t[o])||!(o in t))return!1;for(const o in t)n+=1;return r===n}const DOe=e=>{const{runItemPlugins:t,instance:r,publicAPI:n,store:o}=Ad(),i=_.useContext(nm),s=Wr(o,(...he)=>typeof i=="function"?i(...he):i,e.itemId),{id:a,itemId:c,label:d,children:h,rootRef:f}=e,{rootRef:g,contentRef:m,propsEnhancers:y}=t(e),{interactions:b,status:v}=_Oe({itemId:c,children:h}),C=_.useRef(null),E=_.useRef(null),T=Er(f,g,C),R=Er(m,E),M=_.useRef(null),I=Wr(o,tm.treeId),N=Wr(o,ln.canItemBeSelected,c),P=Wr(o,ln.isCheckboxSelectionEnabled),L=Cw({itemId:c,treeId:I,id:a}),D=Wr(o,Ld.isItemTheDefaultFocusableItem,c),$={rootRefObject:C,contentRefObject:E,interactions:b},B=he=>pe=>{he.onFocus?.(pe),!pe.defaultMuiPrevented&&!v.focused&&er.canItemBeFocused(o.state,c)&&pe.currentTarget===pe.target&&r.focusItem(pe,c)},U=he=>pe=>{if(he.onBlur?.(pe),pe.defaultMuiPrevented)return;const Se=r.getItemDOMElement(c);v.editing||pe.relatedTarget&&qO(pe.relatedTarget,Se)&&(pe.target&&pe.target?.dataset?.element==="labelInput"&&qO(pe.target,Se)||pe.relatedTarget?.dataset?.element==="labelInput")||r.removeFocusedItem()},q=he=>pe=>{he.onKeyDown?.(pe),!(pe.defaultMuiPrevented||pe.target?.dataset?.element==="labelInput")&&r.handleItemKeyDown(pe,c)},W=he=>pe=>{he.onDoubleClick?.(pe),!pe.defaultMuiPrevented&&b.toggleItemEditing()},V=he=>pe=>{he.onClick?.(pe),r.handleItemClick(pe,c),!(pe.defaultMuiPrevented||M.current?.contains(pe.target))&&(vo.triggerSlot(o.state)==="content"&&b.handleExpansion(pe),P||b.handleSelection(pe))},Y=he=>pe=>{he.onMouseDown?.(pe),!pe.defaultMuiPrevented&&(pe.shiftKey||pe.ctrlKey||pe.metaKey||v.disabled)&&pe.preventDefault()},Q=he=>pe=>{he.onClick?.(pe),!pe.defaultMuiPrevented&&vo.triggerSlot(o.state)==="iconContainer"&&b.handleExpansion(pe)};return{getContextProviderProps:()=>({itemId:c,id:a}),getRootProps:(he={})=>{const pe=H({},as(e),as(he));let Se;v.selected?Se=!0:N?Se=!1:Se=void 0;const Ee=H({},pe,{ref:T,role:"treeitem",tabIndex:D?0:-1,id:L,"aria-expanded":v.expandable?v.expanded:void 0,"aria-selected":Se,"aria-disabled":v.disabled||void 0},he,{style:H({},he.style??{},{"--TreeView-itemDepth":s}),onFocus:B(pe),onBlur:U(pe),onKeyDown:q(pe)}),ke=y.root?.(H({},$,{externalEventHandlers:pe}))??{};return H({},Ee,ke)},getContentProps:(he={})=>{const pe=as(he),Se=H({},pe,he,{ref:R,onClick:V(pe),onMouseDown:Y(pe),status:v});["expanded","selected","focused","disabled","editing","editable"].forEach(ke=>{v[ke]&&(Se[`data-${ke}`]="")});const Ee=y.content?.(H({},$,{externalEventHandlers:pe}))??{};return H({},Se,Ee)},getGroupTransitionProps:(he={})=>{const pe=as(he);return H({},pe,{unmountOnExit:!0,component:"ul",role:"group",in:v.expanded,children:h},he)},getIconContainerProps:(he={})=>{const pe=as(he);return H({},pe,he,{onClick:Q(pe)})},getCheckboxProps:(he={})=>{const pe=as(he),Se=H({},pe,{ref:M,"aria-hidden":!0},he),Ee=y.checkbox?.(H({},$,{externalEventHandlers:pe}))??{};return H({},Se,Ee)},getLabelProps:(he={})=>{const pe=H({},as(he)),Se=H({},pe,{children:d},he,{onDoubleClick:W(pe)}),Ee=y.label?.(H({},$,{externalEventHandlers:pe}))??{};return H({},Ee,Se)},getLabelInputProps:(he={})=>{const pe=as(he),Se=y.labelInput?.(H({},$,{externalEventHandlers:pe}))??{};return H({},he,Se)},getDragAndDropOverlayProps:(he={})=>{const pe=as(he),Se=y.dragAndDropOverlay?.(H({},$,{externalEventHandlers:pe}))??{};return H({},he,Se)},getErrorContainerProps:(he={})=>{const pe=as(he);return H({},pe,he)},getLoadingContainerProps:(he={})=>{const pe=as(he);return H({size:"12px",thickness:6},pe,he)},rootRef:T,status:v,publicAPI:n}};function AOe(e){return Xt("MuiTreeItem",e)}const Jl=Kt("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]),LOe=xt(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),NOe=xt(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function BOe(e){const{slots:t,slotProps:r,status:n}=e,{slots:o,slotProps:i}=h2(),s={collapseIcon:t?.collapseIcon??o.collapseIcon??NOe,expandIcon:t?.expandIcon??o.expandIcon??LOe,endIcon:t?.endIcon??o.endIcon,icon:t?.icon};let a;s?.icon?a="icon":n.expandable?n.expanded?a="collapseIcon":a="expandIcon":a="endIcon";const c=s[a],d=Go({elementType:c,externalSlotProps:h=>H({},Ub(i[a],h),Ub(r?.[a],h)),ownerState:{}});return c?x.jsx(c,H({},d)):null}const FOe=we("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>Yh(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:Vs(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function jOe(e){return e.action==null?null:x.jsx(FOe,H({},e))}function VOe(e){const{children:t,itemId:r,id:n}=e,{wrapItem:o,instance:i,store:s}=Ad(),a=Wr(s,tm.treeId),c=Cw({itemId:r,treeId:a,id:n});return x.jsx(_.Fragment,{children:o({children:t,itemId:r,instance:i,idAttribute:c})})}const $Oe=we("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>H({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),zOe=["visible"],UOe=["id","itemId","label","disabled","children","slots","slotProps","classes"],GOe=Z3(),HOe=we("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),WOe=we("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>Yh(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),KOe=we("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>Yh(e)&&e!=="editable"})(({theme:e})=>H({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),qOe=we("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),YOe=we(QM,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),XOe=we("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),ZOe=we(Jh,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),QOe=we(_.forwardRef((e,t)=>{const{visible:r}=e,n=pt(e,zOe);return r?x.jsx(cl,H({},n,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),JOe=e=>{const{classes:t}=h2(),r=H({},e,{root:Ke(e?.root,t.root),content:Ke(e?.content,t.itemContent),iconContainer:Ke(e?.iconContainer,t.itemIconContainer),checkbox:Ke(e?.checkbox,t.itemCheckbox),label:Ke(e?.label,t.itemLabel),groupTransition:Ke(e?.groupTransition,t.itemGroupTransition),labelInput:Ke(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:Ke(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:Ke(e?.errorIcon,t.itemErrorIcon),loadingIcon:Ke(e?.loadingIcon,t.itemLoadingIcon)});return ht({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},AOe,r)},ru=_.forwardRef(function(t,r){const n=GOe({props:t,name:"MuiTreeItem"}),{id:o,itemId:i,label:s,disabled:a,children:c,slots:d={},slotProps:h={},classes:f}=n,g=pt(n,UOe),{getContextProviderProps:m,getRootProps:y,getContentProps:b,getIconContainerProps:v,getCheckboxProps:C,getLabelProps:E,getGroupTransitionProps:T,getLabelInputProps:R,getDragAndDropOverlayProps:M,getErrorContainerProps:I,getLoadingContainerProps:N,status:P}=DOe({id:o,itemId:i,children:c,label:s,disabled:a}),L=JOe(f),D=d.root??HOe,$=Go({elementType:D,getSlotProps:y,externalForwardedProps:g,externalSlotProps:h.root,additionalProps:{ref:r},ownerState:{},className:L.root}),B=d.content??WOe,U=Go({elementType:B,getSlotProps:b,externalSlotProps:h.content,ownerState:{},className:Ke(L.content,P.expanded&&L.expanded,P.selected&&L.selected,P.focused&&L.focused,P.disabled&&L.disabled,P.editing&&L.editing,P.editable&&L.editable)}),q=d.iconContainer??qOe,W=Go({elementType:q,getSlotProps:v,externalSlotProps:h.iconContainer,ownerState:{},className:L.iconContainer}),V=d.label??KOe,Y=Go({elementType:V,getSlotProps:E,externalSlotProps:h.label,ownerState:{},className:L.label}),Q=d.checkbox??QOe,re=Go({elementType:Q,getSlotProps:C,externalSlotProps:h.checkbox,ownerState:{},className:L.checkbox}),z=d.groupTransition??void 0,K=Go({elementType:z,getSlotProps:T,externalSlotProps:h.groupTransition,ownerState:{},className:L.groupTransition}),Z=d.labelInput??$Oe,le=Go({elementType:Z,getSlotProps:R,externalSlotProps:h.labelInput,ownerState:{},className:L.labelInput}),ce=d.dragAndDropOverlay??jOe,ue=Go({elementType:ce,getSlotProps:M,externalSlotProps:h.dragAndDropOverlay,ownerState:{},className:L.dragAndDropOverlay}),ae=d.errorIcon??XOe,ye=Go({elementType:ae,getSlotProps:I,externalSlotProps:h.errorIcon,ownerState:{},className:L.errorIcon}),Me=d.loadingIcon??ZOe,xe=Go({elementType:Me,getSlotProps:N,externalSlotProps:h.loadingIcon,ownerState:{},className:L.loadingIcon});return x.jsx(VOe,H({},m(),{children:x.jsxs(D,H({},$,{children:[x.jsxs(B,H({},U,{children:[x.jsxs(q,H({},W,{children:[P.error&&x.jsx(ae,H({},ye)),P.loading?x.jsx(Me,H({},xe)):x.jsx(BOe,{status:P,slots:d,slotProps:h})]})),x.jsx(Q,H({},re)),P.editing?x.jsx(Z,H({},le)):x.jsx(V,H({},Y)),x.jsx(ce,H({},ue))]})),c&&x.jsx(YOe,H({as:z},K))]}))}))}),QO=we("div",{name:"FlexRow"})({boxSizing:"border-box",display:"flex",flexDirection:"row",width:"100%",height:"100%",minWidth:0,minHeight:0}),JO=we("div",{name:"FlexCol"})({boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",height:"100%",minWidth:0,minHeight:0}),eRe=we("div",{name:"RollPanel",shouldForwardProp:e=>e!=="width"&&e!=="minimized"&&e!=="reverse"})(({minimized:e,width:t,reverse:r})=>({boxSizing:"border-box",display:"flex",...!r&&{overflow:"hidden"},flexDirection:r?"row-reverse":"row",transition:"width 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,height:"100%",minWidth:0,width:e?20:t})),tRe=we("div",{name:"RollPanel",slot:"content",shouldForwardProp:e=>e!=="width"&&e!=="minimized"})(({width:e})=>({boxSizing:"border-box",display:"flex",flexDirection:"column",userSelect:"none",height:"100%",flexShrink:0,width:e}));function eR({width:e,minimized:t,button:r,children:n,reverse:o}){return x.jsxs(eRe,{width:e,minimized:t,reverse:o,children:[t&&r,x.jsx(tRe,{width:e,children:n})]})}we(JO)({transition:"ease-in 0.15s",overflow:"hidden",userSelect:"none"});const I2=we(br)({padding:0,borderRadius:0});we(ru)({fontSize:"1rem"});function rRe(){return null}function Rw(){return x.jsx(Wg,{flexItem:!0,orientation:"vertical"})}Rw.muiName="Divider";function Ca(){return x.jsx(Wg,{flexItem:!0,orientation:"horizontal"})}Ca.muiNames="Divider";const nRe=we(mo)({whiteSpace:"pre",userSelect:"none"});nRe.displayName="NonSelectableTypo";const cf=_.forwardRef(function(t,r){return x.jsx(mo,{ref:r,component:"span",...t})});cf.muiName="Typography";const oRe=we("img",{name:"FileImageIcon"})({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"}),P2=we("div",{name:"SettingsFormWrapper"})({display:"flex",flexDirection:"row",position:"absolute",top:"50%",left:"50%",width:"60%",height:600,transform:"translate(-50%, -50%)",backgroundColor:"white",boxShadow:"24px",borderRadius:"8px",padding:8,outline:"none",gap:8,userSelect:"none",minWidth:900}),iRe=we("div",{name:"SettingsFormTabs"})({boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",gap:8,flexShrink:1,minWidth:180}),k2=we("div",{name:"SettingsFormContent"})({display:"flex",flexGrow:1,width:"100%",gap:8,justifyContent:"center",alignItems:"stretch",minWidth:0});we("div",{name:"SettingsFormContentCards"})({display:"flex",gap:8,justifyContent:"center",alignItems:"stretch",width:"100%"});const tR=we("div",{name:"SettingsFormCard"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box"}),sRe=we("div",{name:"SettingsFormCard2"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),rR=we("h3",{name:"StyledH3"})({textAlign:"center",margin:0}),D2=we("div",{name:"SettingsFormCardLib"})({display:"flex",flexDirection:"column",gap:2,height:"100%"});we(cl,{name:"StyledCheckbox"})({});const am=we($i,{name:"StyledButton"})({minHeight:64}),Iw=we("div",{name:"SettingsFormCardContent"})({overflowY:"auto",height:"100%",display:"flex",flexDirection:"column",gap:16,whiteSpace:"nowrap"}),aRe=we("textarea")({flexGrow:1,whiteSpace:"pre",resize:"none",overflow:"auto"});class lRe extends Nt{constructor(t){super(),this.ctx=t,this._currentTab="projectSettings",this.onModalClose=(r,n)=>{this.showProjectSettingsTab&&this.ctx.app.mainMenuVisible.setFalse()},this.onProjectSettingsTabSelected=r=>{this._currentTab="projectSettings"},this.onProjectSelectionTabSelected=r=>{this._currentTab="projectSelection"},this.onAccountTabSelected=r=>{this._currentTab="account"},this.onLogoutButtonClick=r=>{this.ctx.app.accountSettings.logout()},this.onExportButtonClick=()=>{this.ctx.app.currentProject?.export()},this.getPlayIframeCode=()=>{const r=this.ctx.app.currentProject;if(!r)return;const n=`<iframe width="100%" height="100%" src="${_k(r)}" title="${r.name}"></iframe>`;prompt("Код для вставки",n)},vt(this,{_currentTab:Pe.ref,onModalClose:be,onAccountTabSelected:be,onProjectSelectionTabSelected:be,onProjectSettingsTabSelected:be,onLogoutButtonClick:be})}get currentTab(){const{_currentTab:t}=this;return this.showProjectSettingsTab||t!=="projectSettings"?t:"projectSelection"}get showProjectSettingsTab(){return!!this.ctx.app.currentProject}get libCount(){return this.ctx.app.accountSettings.libraryCount}get libLimit(){return this.ctx.app.accountSettings.libraryLimit}get projectCount(){return this.ctx.app.accountSettings.projectCount}get projectLimit(){return this.ctx.app.accountSettings.projectLimit}get isModalOpen(){return this.ctx.app.mainMenuVisible.isTrue}get profileName(){return this.ctx.app.accountSettings.profileName}}class cRe extends Nt{constructor(t){super(),this.ctx=t,this.onRecursiveSearchCheckboxChange=(r,n)=>{this.m.setRecursiveKlassSearch(n)},this.onAddSubProjectButtonClick=()=>{this.ctx.app.subProjectSelectorVisible.setTrue(),this.ctx.app.subProjectSelector.root.fetchChildren()}}get recursiveSearchCheckboxChecked(){return this.m.recursiveKlassSearch}get projectItems(){const{app:t}=this.ctx,r=this.m.projectFile.parent.path;return this.m.subProjects.map(n=>({key:n.id,primaryText:n.name,secondaryText:Sk(n.config.filepath||"",r),onClick:t.openSubProject.bind(t,n),onDeleteButtonClick:n.remove.bind(n)}))}}class uRe extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=r=>{}}get itemId(){return"lib_"+this.m.id}get label(){return this.m.name}}class dRe extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDoubleClick=r=>{r.stopPropagation(),this.m.select()},this.onDragStart=r=>{}}get itemId(){return"prj_"+this.m.id.toString()}get label(){const{m:t}=this;return t.name}}class A2 extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=r=>{},this.onDragOver=r=>{},this.onDragLeave=r=>{},this.onDrop=r=>{}}get itemId(){return"dir_"+this.m.id.toString()}get label(){return this.m.name}get canExpand(){const{dirs:t,libs:r}=this.m;return!!(t.length||r.length)}get showLoadingIndicator(){return this.m.isChildrenFetching}}class hRe extends Nt{constructor(){super(),this.expandedItems=[],this.selectedItem=null,this.onSelectedItemsChange=(t,r)=>{this.selectedItem=r,!(t?.type!=="keydown"||!r||!r.startsWith("prj_"))&&t.target.dispatchEvent(new MouseEvent("dblclick",{bubbles:!0}))},this.onCreateProjectButtonClick=()=>{const{selectedItem:t}=this;let r=this.m.root;if(t?.startsWith("dir_")){const n=parseInt(t.slice(4)),o=n&&this.m.getDirById(n);o&&(r=o)}this.m.createNewProject(r)},this.onExpandedItemsChange=(t,r)=>{this.expandedItems=r;for(const n of r)this.m.getDirById(parseInt(n.slice(4)))?.fetchChildren()},vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,onSelectedItemsChange:be})}get isProjectCreationInProgress(){return this.m.isProjectCreationInProgress}get createProjectButtonDisabled(){return!1}}const fRe=Dt(dRe)(({vm:e})=>x.jsx(ru,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:ETe},onDoubleClick:e.onDoubleClick})),pRe=Dt(uRe)(({vm:e,m:t})=>t.selector.libsMode?x.jsx(ru,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:H3}}):null);function gRe(){return x.jsx(Jh,{size:32,sx:{color:Ja[500],position:"absolute",top:-2,left:-2,zIndex:1}})}const L2=Dt(A2)(({m:e})=>x.jsxs(x.Fragment,{children:[e.dirs.map(t=>x.jsx(mRe,{m:t},t.id)),e.projects.map(t=>x.jsx(fRe,{m:t},t.id)),e.libs.map(t=>x.jsx(pRe,{m:t},t.id))]})),mRe=Dt(A2)(({vm:e,m:t})=>x.jsx(ru,{slotProps:{groupTransition:{enter:!1,exit:!1}},itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[e.label,e.showLoadingIndicator&&x.jsx(gRe,{})]}),draggable:e.draggable,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,children:x.jsx(L2,{m:t})})),N2=Dt(hRe)(({vm:e,m:t,hidden:r})=>x.jsx(tR,{hidden:r,children:x.jsxs(D2,{children:[x.jsx(Iw,{children:x.jsx(ZO,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(L2,{m:t.root})})}),x.jsx($i,{fullWidth:!0,variant:"contained",startIcon:x.jsx(VO,{}),loadingPosition:"start",loading:e.isProjectCreationInProgress,disabled:e.createProjectButtonDisabled,onClick:e.onCreateProjectButtonClick,children:"Создать новый проект"})]})})),vRe=ko()(({vm:e})=>x.jsx(Zl,{control:x.jsx(cl,{checked:e.recursiveSearchCheckboxChecked,onChange:e.onRecursiveSearchCheckboxChange}),label:"Рекурсивный поиск"})),yRe=Dt(cRe)(({vm:e,m:t,hidden:r})=>r?null:x.jsxs(x.Fragment,{children:[x.jsx(tR,{children:x.jsxs(D2,{children:[x.jsx(rR,{children:"Библиотеки"}),x.jsx(Iw,{children:t.libs.map(n=>x.jsx("div",{children:n.name},n.id))}),x.jsx(vRe,{})]})}),x.jsxs(sRe,{children:[x.jsx(rR,{children:"Проекты"}),x.jsx(Iw,{children:x.jsx(l3,{dense:!0,children:e.projectItems.map(n=>x.jsx(sEe,{secondaryAction:x.jsx(br,{onClick:n.onDeleteButtonClick,edge:"end",children:x.jsx(vw,{})}),children:x.jsx(Q_e,{onClick:n.onClick,children:x.jsx(d3,{primary:n.primaryText,secondary:n.secondaryText})})},n.key))})}),x.jsx($i,{onClick:e.onAddSubProjectButtonClick,variant:"contained",startIcon:x.jsx(VO,{}),children:"Подключить проект"})]}),x.jsxs(tR,{children:[x.jsx(rR,{children:"Плагины"}),x.jsx(Iw,{children:t.plugins.map(n=>x.jsx("div",{children:n},n))})]})]})),bRe=we($i,{name:"EMainMenuFormViewAccountLogoutButton"})({alignSelf:"center"}),wRe=ko()(({vm:e,hidden:t})=>{if(t)return null;const{projectCount:r,projectLimit:n,libCount:o,libLimit:i,profileName:s}=e;return x.jsxs(x.Fragment,{children:[x.jsxs(ti,{sx:{display:"flex",flexDirection:"column"},children:[x.jsx("h1",{children:s}),x.jsxs("h2",{children:["Проектов: ",r," (макс: ",n,")"]}),x.jsxs("h2",{children:["Библиотек: ",o," (макс: ",i,")"]})]}),x.jsx(bRe,{size:"large",color:"error",variant:"contained",onClick:e.onLogoutButtonClick,children:"Выйти из аккаунта"})]})}),SRe=ko()(({vm:e})=>{const{currentTab:t}=e,{currentProject:r,projectSelector:n}=e.ctx.app;return x.jsxs(x.Fragment,{children:[r&&x.jsx(yRe,{m:r,hidden:t!=="projectSettings"}),x.jsx(N2,{m:n,hidden:t!=="projectSelection"}),x.jsx(wRe,{hidden:t!=="account"})]})}),CRe=Dt(lRe)(({vm:e})=>x.jsx(sw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:nw},slotProps:{backdrop:{timeout:500}},children:x.jsx(Ug,{in:e.isModalOpen,children:x.jsxs(P2,{children:[x.jsxs(iRe,{children:[e.showProjectSettingsTab&&x.jsx(am,{onClick:e.onProjectSettingsTabSelected,variant:e.currentTab==="projectSettings"?"contained":"outlined",children:"Настройки проекта"}),x.jsx(am,{onClick:e.onProjectSelectionTabSelected,variant:e.currentTab==="projectSelection"?"contained":"outlined",children:"Выбор проекта"}),x.jsx(am,{onClick:e.onAccountTabSelected,variant:e.currentTab==="account"?"contained":"outlined",children:"Аккаунт"}),e.showProjectSettingsTab&&x.jsx(am,{onClick:e.onExportButtonClick,variant:"outlined",children:"Скачать проект в ZIP"}),e.showProjectSettingsTab&&x.jsx(am,{onClick:e.getPlayIframeCode,variant:"outlined",children:"Получить код вставки iframe"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/docs",children:"Документация"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/editor/s2k-converter.zip",children:"Загрузить свой проект"})]}),x.jsx(k2,{children:x.jsx(SRe,{})})]})})}));class xRe extends Nt{get activeEditor(){return this.m.currentTab?.editor||null}}class _Re extends Nt{constructor(){super()}}class ERe extends Nt{constructor(){super(),this.optionsMenuOpen=!1,this.propsButtonRef=_.createRef(),this.onResetZoomButtonClick=()=>{this.scene.resetScale()},this.onHideClassesCheckboxChange=(t,r)=>this.scene.setLayers({hideChildren:!r}),this.onShowOtherCheckboxChange=(t,r)=>this.scene.setLayers({hideOther:!r}),this.onShowConnectionsCheckboxChange=(t,r)=>this.scene.setLayers({hideConnections:!r}),this.onSelectUnselectableCheckboxChange=(t,r)=>this.scene.setLayers({selectUnselectable:r}),this.onUndoButtonClick=()=>this.scene.undo(),this.onRedoButtonClick=()=>this.scene.redo(),this.onSelectPrevObjectButtonClick=()=>this.scene.selectNext(!0),this.onSelectNextObjectButtonClick=()=>this.scene.selectNext(),this.onCreateConnectionButtonClick=()=>this.scene.startCreateConnection(),this.onCreateLineButtonClick=()=>this.scene.startCreateLine(),this.onCreateRectButtonClick=()=>this.scene.startCreateRect(),this.onCreateTextButtonClick=()=>this.scene.startCreateText(),this.onCreateInputButtonClick=()=>this.scene.startCreateInput(),this.onCreateButtonButtonClick=()=>this.scene.startCreateButton(),this.onReorderButtonClick=()=>{const{scene:t}=this;t.isInChildReorderMode?t.cancel():t.startReorderChildren()},this.onSceneOptionsButtonClick=()=>{this.optionsMenuOpen=!0},this.onOptionsMenuClose=()=>{this.optionsMenuOpen=!1},vt(this,{optionsMenuOpen:Pe.ref,resetZoomButtonDisabled:Kn,onSceneOptionsButtonClick:be,onOptionsMenuClose:be})}get scene(){return this.m.scene}get showClassesCheckboxChecked(){return!this.scene.hideChildren}get showConnectionsCheckboxChecked(){return!this.scene.hideConnections}get showOtherCheckboxChecked(){return!this.scene.hideOther}get selectUnselectableCheckboxChecked(){return this.scene.selectUnselectable}get statusCursorX(){return this.scene.lastCursorX.toString()}get statusCursorY(){return this.scene.lastCursorY.toString()}get zoom(){return Math.round(this.scene.viewScale*100).toString()}get resetZoomButtonDisabled(){return this.scene.viewScale===1}get undoButtonDisabled(){return!this.scene.canUndo}get redoButtonDisabled(){return!this.scene.canRedo}get reorderButtonActive(){return this.scene.isInChildReorderMode}get statusText(){return"scene.statusText"}get showSchemaButtons(){return!!this.scene.schema}get showSceneOptionsButton(){const{type:t}=this.m;return t==="fileSceneEditor"||t==="schemaEditor"}}class TRe extends Nt{get cursorPosition(){const{currentLineNumber:t,currentColumnIndex:r}=this.m;return`Строка: ${t}, столбец: ${r}`}}class MRe extends Nt{constructor(){super(...arguments),this.onSaveButtonClick=()=>this.m.currentTab?.editor.save?.()}get currentEditor(){return this.m.currentTab?.editor||null}get showSaveButton(){return!!this.m.currentTab?.editor.save}get saveButtonDisabled(){return this.m.currentTab?.editor.isReadonly||!1}}class ORe extends Nt{constructor(){super(...arguments),this.setSizeVariant=t=>{this.setSceneOptions({...this.options,size:t==="content"?{type:"content"}:t==="fixed"?{type:"fixed",width:100,height:100}:null})},this.setWidth=t=>{const r=this.options?.size;if(r?.type!=="fixed")return;const n=parseInt(t);!n||n<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:n,height:r.height}})},this.setHeight=t=>{const r=this.options?.size;if(r?.type!=="fixed")return;const n=parseInt(t);!n||n<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:r.width,height:n}})},this.setPopup=(t,r)=>{this.setSceneOptions({...this.options,popup:r})},this.setFixed=(t,r)=>{this.setSceneOptions({...this.options,fixed:r})},this.setVScroll=(t,r)=>{this.setSceneOptions({...this.options,vscroll:r})},this.setHScroll=(t,r)=>{this.setSceneOptions({...this.options,hscroll:r})},this.seAutoOrg=(t,r)=>{this.setSceneOptions({...this.options,autoorg:r})},this.seAutoScroll=(t,r)=>{this.setSceneOptions({...this.options,autoscroll:r})}}get anchorEl(){return this.parent.propsButtonRef.current}get options(){const{m:t}=this.parent,{type:r}=t;return(r==="fileSceneEditor"?t.fileScene.data:r==="schemaEditor"?t.klass.scene:null)?.options||null}setSceneOptions(t){const{m:r}=this.parent,{type:n}=r;if(n==="fileSceneEditor"){const o={...r.fileScene.data};r.fileScene.setData({...o,options:t})}else if(n==="schemaEditor"){const o={...r.klass.scene};r.klass.set({scene:{...o,options:t}})}}get sizeVariant(){return this.options?.size?.type||"null"}get width(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get height(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get popup(){return this.options?.popup||!1}get fixed(){return this.options?.fixed||!1}get vscroll(){return this.options?.vscroll||!1}get hscroll(){return this.options?.hscroll||!1}get autoorg(){return this.options?.autoorg||!1}get autoScroll(){return this.options?.autoscroll||!1}}const nR=we("div",{name:"ESceneObjectViewEditors"})({boxSizing:"border-box",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",minWidth:0,padding:4,gap:8}),RRe=we(mo)({cursor:"pointer",textDecoration:"underline"}),IRe=we("button")({backgroundColor:"transparent",border:"none",margin:0,padding:0}),PRe=we("div",{name:"ESceneObjectViewToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"center",paddingLeft:4}),kRe=we(ul,{name:"ZValueIndicator"})({maxWidth:"25%",pointerEvents:"none","& input":{textAlign:"center"}});function B2({children:e,visible:t}){return t?x.jsx(Gg,{badgeContent:"+",children:e}):e}const DRe=we("div",{name:"ESceneView"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden"}),ARe=we(r3,{name:"RichTextEditorView"})({paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,marginLeft:6,marginRight:6,"& .public-DraftEditor-content":{whiteSpace:wTe("pre")}}),LRe=we("form")({width:"100%"}),NRe=we("div",{name:"ESceneLineBrushImageView",shouldForwardProp:e=>e!=="dashed"})(({dashed:e})=>({display:"flex",flexDirection:"column",alignItems:"center",borderWidth:2,borderRadius:2,borderStyle:"dashed",...e&&{borderColor:"green"},backgroundColor:"#fafafa",color:"#bdbdbd",cursor:"pointer","*":{pointerEvents:"none"}})),BRe=we("input",{name:"ESceneLineBrushImageView",slot:"input"})({display:"none"}),FRe=we("img",{name:"ESceneLineBrushImageView",slot:"image"})({maxWidth:"100%",maxHeight:"100%",padding:2});function jRe(){return x.jsx(mo,{p:4,component:"p",children:"Выберите или перетащите изображение"})}function F2(e){return parseFloat(e)||0}function j2(e){return Math.max(parseFloat(e)||1,1)}class VRe extends Nt{constructor(){super(...arguments),this.setX=t=>this.m.set({x:F2(t)}),this.setY=t=>this.m.set({y:F2(t)})}get x(){return qu(this.m.x)}get y(){return qu(this.m.y)}}class $Re extends Nt{constructor(){super(...arguments),this.setW=t=>this.m.set({width:j2(t)}),this.setH=t=>this.m.set({height:j2(t)})}get w(){return qu(this.m.width)}get h(){return qu(this.m.height)}}class zRe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.setAngle(xp(parseFloat(t)||0))}get value(){return qu(xC(this.m.angle))}}class URe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.rotate(xp(parseFloat(t)||0))}}class GRe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.set({name:t})}get value(){return this.m.name}}class HRe extends Nt{constructor(){super(...arguments),this.setValue=(t,r)=>this.m.set({isUnselectable:r})}get value(){return this.m.isUnselectable}}class WRe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.set({layer:parseInt(t.target.value)})}get options(){return this.m.layerRange}get value(){return this.m.layer}}const KRe=parseInt(_.version,10),Zt=e=>{if(KRe>=19){const t=r=>e(r,r.ref??null);return t.displayName=e.displayName??e.name,t}return _.forwardRef(e)},_n=xt,V2=_n(x.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),$2=_n(x.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),z2=_n(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),U2=_n(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),qRe=_n(x.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),G2=_n(x.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})),YRe=_n(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}));_n(x.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})),_n(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));const XRe=_n(x.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),ZRe=_n(x.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"})),QRe=_n(x.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"})),JRe=_n(x.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"})),eIe=_n(x.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"})),tIe=_n(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),H2=_n(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),W2=_n(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),rIe=_n(x.jsx("path",{d:"M19 13H5v-2h14v2z"})),nIe=_n(x.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})),K2=_n(x.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),q2=_n(x.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),oIe=_n(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),iIe=_n(x.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),sIe=_n(x.jsx("g",{children:x.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})})),Y2=_n(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));_n(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}));const aIe=_n(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),lIe=_n(x.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),X2=_.createContext(void 0),yt=()=>{const e=_.useContext(X2);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},cIe=["sortingOrder"],uIe=_.memo(function(t){const{sortingOrder:r}=t,n=pt(t,cIe),o=yt(),[i]=r,s=i==="asc"?o.slots.columnSortedAscendingIcon:o.slots.columnSortedDescendingIcon;return s?x.jsx(s,H({},n)):null}),Z2=_.createContext(void 0);function dr(){const e=_.useContext(Z2);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const dIe=new TextEncoder;let Pw=2*1024,lm=new ArrayBuffer(Pw),oR=new Uint8Array(lm),Nd=new Int32Array(lm);const hIe=fIe;function fIe(e){const t=e.length*2;t>Pw&&(Pw=t+(4-t%4),lm=new ArrayBuffer(Pw),oR=new Uint8Array(lm),Nd=new Int32Array(lm));const r=dIe.encodeInto(e,oR).written,n=0,o=r|0;let i=0,s=(n+o|0)+374761393|0;if(o<16)for(;(i+3|0)<o;i=i+4|0)s=Math.imul(xa(s+Math.imul(Nd[i]|0,3266489917)|0,17)|0,668265263);else{let a=n+606290984|0,c=n+2246822519|0,d=n,h=n-2654435761|0;for(;(i+15|0)<o;i=i+16|0)a=Math.imul(xa(a+Math.imul(Nd[i+0|0]|0,2246822519)|0,13)|0,2654435761),c=Math.imul(xa(c+Math.imul(Nd[i+4|0]|0,2246822519)|0,13)|0,2654435761),d=Math.imul(xa(d+Math.imul(Nd[i+8|0]|0,2246822519)|0,13)|0,2654435761),h=Math.imul(xa(h+Math.imul(Nd[i+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((xa(a,1)|0+xa(c,7)|0)+xa(d,12)|0)+xa(h,18)|0)+o|0;(i+3|0)<o;i=i+4|0)s=Math.imul(xa(s+Math.imul(Nd[i]|0,3266489917)|0,17)|0,668265263)}for(;i<o;i=i+1|0)s=Math.imul(xa(s+Math.imul(oR[i]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function xa(e,t){return e<<t|e>>>32-t}const Q2={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{const t=Q2.values;return`@media (min-width:${typeof t[e]=="number"?t[e]:e}px)`}},J2={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},pIe=eG(J2),wt=H({breakpoints:Q2,spacing:gIe,transition:mIe,keys:J2},pIe);function gIe(e,t,r,n){return e===void 0?_a(1):t===void 0?_a(e):r===void 0?_a(e)+" "+_a(t):n===void 0?_a(e)+" "+_a(t)+" "+_a(r):_a(e)+" "+_a(t)+" "+_a(r)+" "+_a(n)}function _a(e){return e===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${e})`}function mIe(e,t){const{duration:r=wt.transitions.duration.base,easing:n=wt.transitions.easing.easeInOut,delay:o=0}=t??{};return e.map(i=>`${i} ${r} ${n} ${o}ms`).join(", ")}function eG(e){if(typeof e=="string")return`var(${e})`;const t={};for(const r in e)Object.hasOwn(e,r)&&(t[r]=eG(e[r]));return t}function vIe(){const e=il();return _.useMemo(()=>{const t=hIe(CIe(e)),r=yIe(e);return{id:t,variables:r}},[e])}function yIe(e){const t=wIe(e),r=(e.vars||e).palette.DataGrid,n=r?.bg??(e.vars||e).palette.background.default,o=r?.headerBg??n,i=r?.pinnedBg??n,s=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Vs(e.palette.background.default,e.palette.action.disabledOpacity),a=e.palette.mode==="dark"?`color-mix(in srgb, ${(e.vars||e).palette.background.paper} 95%, #fff)`:(e.vars||e).palette.background.paper,c=e.vars?`rgb(${e.vars.palette.primary.mainChannel})`:e.palette.primary.main,d=bIe(e),h=e.vars?.font?.body2??iR(e.typography.body2),f=e.vars?.font?.caption??iR(e.typography.caption),g=e.vars?.font?.body1??iR(e.typography.body1),m=wt.keys;return{[m.spacingUnit]:e.vars?e.vars.spacing??e.spacing(1):e.spacing(1),[m.colors.border.base]:t,[m.colors.background.base]:n,[m.colors.background.overlay]:a,[m.colors.background.backdrop]:s,[m.colors.foreground.base]:(e.vars||e).palette.text.primary,[m.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[m.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[m.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[m.colors.foreground.error]:(e.vars||e).palette.error.dark,[m.colors.interactive.hover]:(e.vars||e).palette.action.hover,[m.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[m.colors.interactive.focus]:tG((e.vars||e).palette.primary.main),[m.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[m.colors.interactive.disabled]:tG((e.vars||e).palette.action.disabled),[m.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[m.colors.interactive.selected]:c,[m.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[m.header.background.base]:o,[m.cell.background.pinned]:i,[m.radius.base]:d,[m.typography.fontFamily.base]:e.typography.fontFamily,[m.typography.fontWeight.light]:e.typography.fontWeightLight,[m.typography.fontWeight.regular]:e.typography.fontWeightRegular,[m.typography.fontWeight.medium]:e.typography.fontWeightMedium,[m.typography.fontWeight.bold]:e.typography.fontWeightBold,[m.typography.font.body]:h,[m.typography.font.small]:f,[m.typography.font.large]:g,[m.transitions.easing.easeIn]:e.transitions.easing.easeIn,[m.transitions.easing.easeOut]:e.transitions.easing.easeOut,[m.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[m.transitions.duration.short]:`${e.transitions.duration.shorter}ms`,[m.transitions.duration.base]:`${e.transitions.duration.short}ms`,[m.transitions.duration.long]:`${e.transitions.duration.standard}ms`,[m.shadows.base]:(e.vars||e).shadows[2],[m.shadows.overlay]:(e.vars||e).shadows[8],[m.zIndex.panel]:(e.vars||e).zIndex.modal,[m.zIndex.menu]:(e.vars||e).zIndex.modal}}function bIe(e){return e.vars?e.vars.shape.borderRadius:typeof e.shape.borderRadius=="number"?`${e.shape.borderRadius}px`:e.shape.borderRadius}function wIe(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Pg(Vs(e.palette.divider,1),.88):Ig(Vs(e.palette.divider,1),.68)}function SIe(e,t){return`rgba(from ${e} r g b / ${t})`}function tG(e){return SIe(e,1)}function iR(e){if(e)return`${e.fontWeight} ${e.fontSize} / ${e.lineHeight} ${e.fontFamily}`}function CIe(e){const t=new WeakSet;return JSON.stringify(e,(r,n)=>{if(typeof window<"u"&&n===window||typeof document<"u"&&n===document)return n.toString();if(n!==null&&typeof n=="object"){if(_.isValidElement(n)||t.has(n))return null;t.add(n)}return n})}const xIe=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],_Ie=["onRowsPerPageChange","material","disabled"],EIe=["material"],TIe=["autoFocus","label","fullWidth","slotProps","className","material"],MIe=["material"],OIe=["material"],RIe=["material"],IIe=["material"],PIe=["material"],kIe=["material"],DIe=["material"],AIe=["material"],LIe=["material","label","className"],NIe=["material"],BIe=["inert","iconStart","iconEnd","children","material"],FIe=["slotProps","material"],jIe=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],VIe=["key"],$Ie=["inputProps","InputProps","InputLabelProps"],zIe=["slotProps","material"],UIe=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],GIe=["native"],rG=we(I_e)(({theme:e})=>({[`&.${EO.positionEnd} .${rO.sizeSmall}`]:{marginRight:e.spacing(-.75)}})),nG=we(Zl,{shouldForwardProp:e=>e!=="fullWidth"})(({theme:e})=>({gap:e.spacing(.5),margin:0,overflow:"hidden",[`& .${of.label}`]:{fontSize:e.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),oG=we(cl,{shouldForwardProp:e=>e!=="density"})(({theme:e})=>({variants:[{props:{density:"compact"},style:{padding:e.spacing(.5)}}]})),HIe=we(d3)({[`& .${Pd.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),WIe=Zt(function(t,r){const{id:n,label:o,labelId:i,material:s,disabled:a,slotProps:c,onChange:d,onKeyDown:h,onOpen:f,onClose:g,size:m,style:y,fullWidth:b}=t,v=pt(t,xIe),C={PaperProps:{onKeyDown:h}};return g&&(C.onClose=g),x.jsxs(lw,{size:m,fullWidth:b,style:y,disabled:a,ref:r,children:[x.jsx(a3,{id:i,htmlFor:n,shrink:!0,variant:"outlined",children:o}),x.jsx(hw,H({id:n,labelId:i,label:o,displayEmpty:!0,onChange:d,variant:"outlined"},v,{notched:!0,inputProps:c?.htmlInput,onOpen:f,MenuProps:C,size:m},s))]})}),KIe=we(G1e)(({theme:e})=>({[`& .${kd.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${kd.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),qIe=Zt(function(t,r){const{onRowsPerPageChange:n,material:o,disabled:i}=t,s=pt(t,_Ie),a=_.useMemo(()=>{if(i)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[i]),c=dr(),d=yt(),{estimatedRowCount:h}=d;return x.jsx(KIe,H({component:"div",onRowsPerPageChange:$t(f=>{n?.(Number(f.target.value))}),labelRowsPerPage:c.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:f=>c.current.getLocaleText("paginationDisplayedRows")(H({},f,{estimated:h})),getItemAriaLabel:c.current.getLocaleText("paginationItemAriaLabel")},a,s,o,{ref:r}))}),YIe=Zt(function(t,r){const{material:n}=t,o=pt(t,EIe);return x.jsx(Gg,H({},o,n,{ref:r}))}),XIe=Zt(function(t,r){const{autoFocus:n,label:o,fullWidth:i,slotProps:s,className:a,material:c}=t,d=pt(t,TIe),h=_.useRef(null),f=Er(h,r),g=_.useRef(null);return _.useEffect(()=>{n?h.current?.querySelector("input")?.focus({preventScroll:!0}):n===!1&&g.current&&g.current.stop({})},[n]),o?x.jsx(nG,{className:a,control:x.jsx(oG,H({},d,c,{inputProps:s?.htmlInput,ref:f,touchRippleRef:g})),label:o,fullWidth:i}):x.jsx(oG,H({},d,c,{className:Ke(a,c?.className),inputProps:s?.htmlInput,ref:f,touchRippleRef:g}))}),ZIe=Zt(function(t,r){const{material:n}=t,o=pt(t,MIe);return x.jsx(Jh,H({},o,n,{ref:r}))}),QIe=Zt(function(t,r){const{material:n}=t,o=pt(t,OIe);return x.jsx(Wg,H({},o,n,{ref:r}))}),JIe=Zt(function(t,r){const{material:n}=t,o=pt(t,RIe);return x.jsx(U_e,H({},o,n,{ref:r}))}),ePe=Zt(function(t,r){const{material:n}=t,o=pt(t,IIe);return x.jsx($i,H({},o,n,{ref:r}))}),tPe=Zt(function(t,r){const{material:n}=t,o=pt(t,PIe);return x.jsx(gO,H({},o,n,{ref:r}))}),rPe=Zt(function(t,r){const{material:n}=t,o=pt(t,kIe);return x.jsx(br,H({},o,n,{ref:r}))}),nPe=Zt(function(t,r){const{material:n}=t,o=pt(t,DIe);return x.jsx(Tr,H({},o,n,{ref:r}))}),oPe=Zt(function(t,r){const{material:n}=t,o=pt(t,AIe);return x.jsx(n1e,H({},o,n,{ref:r}))}),iPe=Zt(function(t,r){const{material:n,label:o,className:i}=t,s=pt(t,LIe);return o?x.jsx(nG,{className:i,control:x.jsx(T3,H({},s,n,{ref:r})),label:o}):x.jsx(T3,H({},s,n,{className:i,ref:r}))}),sPe=Zt(function(t,r){const{material:n}=t,o=pt(t,NIe);return x.jsx(p3,H({},o,n,{ref:r}))});function aPe(e){const{inert:t,iconStart:r,iconEnd:n,children:o,material:i}=e,s=pt(e,BIe);return t&&(s.disableRipple=!0),_.createElement(zi,H({},s,i),[r&&x.jsx(cw,{children:r},"1"),x.jsx(HIe,{children:o},"2"),n&&x.jsx(cw,{children:n},"3")])}function lPe(e){const{slotProps:t,material:r}=e,n=pt(e,FIe);return x.jsx(ul,H({variant:"outlined"},n,r,{inputProps:t?.htmlInput,InputProps:sR(t?.input),InputLabelProps:H({shrink:!0},t?.inputLabel)}))}function cPe(e){const t=yt(),{id:r,multiple:n,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:d,label:h,placeholder:f,slotProps:g,material:m}=e,y=pt(e,jIe);return x.jsx(zU,H({id:r,multiple:n,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:d,renderTags:(b,v)=>b.map((C,E)=>{const T=v({index:E}),{key:R}=T,M=pt(T,VIe);return x.jsx(gO,H({variant:"outlined",size:"small",label:typeof C=="string"?C:s?.(C)},M),R)}),renderInput:b=>{const{inputProps:v,InputProps:C,InputLabelProps:E}=b,T=pt(b,$Ie);return x.jsx(ul,H({},T,{label:h,placeholder:f,inputProps:v,InputProps:sR(C,!1),InputLabelProps:H({shrink:!0},E)},g?.textField,t.slotProps?.baseTextField))}},y,m))}function uPe(e){return x.jsx(zg,H({},sR(e)))}function sR(e,t=!0){if(!e)return;const{slotProps:r,material:n}=e,i=pt(e,zIe);t&&(i.startAdornment&&(i.startAdornment=x.jsx(rG,{position:"start",children:i.startAdornment})),i.endAdornment&&(i.endAdornment=x.jsx(rG,{position:"end",children:i.endAdornment})));for(const s in n)Object.hasOwn(n,s)&&(i[s]=n[s]);return r?.htmlInput&&(i.inputProps?i.inputProps=H({},i.inputProps,r?.htmlInput):i.inputProps=r?.htmlInput),i}const dPe={"bottom-start":"top left","bottom-end":"top right"};function hPe(e){const{open:t,children:r,className:n,flip:o,onExited:i,onDidShow:s,onDidHide:a,id:c,target:d,transition:h,placement:f,material:g}=e,m=pt(e,UIe),y=_.useMemo(()=>{const v=[{name:"preventOverflow",options:{padding:8}}];return o&&v.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||a)&&v.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s?.()},effect:()=>()=>{a?.()}}),v},[o,s,a]);let b;if(!h)b=iG(e,r);else{const v=C=>E=>{C&&C(),i&&i(E)};b=C=>iG(e,x.jsx(qg,H({},C.TransitionProps,{style:{transformOrigin:dPe[C.placement]},onExited:v(C.TransitionProps?.onExited),children:x.jsx(Td,{children:r})})))}return x.jsx($g,H({id:c,className:n,open:t,anchorEl:d,transition:h,placement:f,modifiers:y},m,g,{children:b}))}function iG(e,t){return pPe(e,fPe(e,t))}function fPe(e,t){return e.onClickAway===void 0?t:x.jsx(pxe,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function pPe(e,t){return e.focusTrap===void 0?t:x.jsx(QU,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:x.jsx("div",{tabIndex:-1,children:t})})}function gPe(e){let{native:t}=e,r=pt(e,GIe);return t?x.jsx("option",H({},r)):x.jsx(zi,H({},r))}const mPe=H({},{baseAutocomplete:cPe,baseBadge:YIe,baseCheckbox:XIe,baseChip:tPe,baseCircularProgress:ZIe,baseDivider:QIe,baseInput:uPe,baseLinearProgress:JIe,baseMenuList:sPe,baseMenuItem:aPe,baseTextField:lPe,baseButton:ePe,baseIconButton:rPe,baseTooltip:nPe,basePagination:qIe,basePopper:hPe,baseSelect:WIe,baseSelectOption:gPe,baseSkeleton:oPe,baseSwitch:iPe},{booleanCellTrueIcon:q2,booleanCellFalseIcon:H2,columnMenuIcon:tIe,openFilterButtonIcon:qRe,filterPanelDeleteIcon:H2,columnFilteredIcon:G2,columnSelectorIcon:XRe,columnUnsortedIcon:uIe,columnSortedAscendingIcon:V2,columnSortedDescendingIcon:$2,columnResizeIcon:ZRe,densityCompactIcon:QRe,densityStandardIcon:JRe,densityComfortableIcon:eIe,exportIcon:lIe,moreActionsIcon:oIe,treeDataCollapseIcon:U2,treeDataExpandIcon:z2,groupingCriteriaCollapseIcon:U2,groupingCriteriaExpandIcon:z2,detailPanelExpandIcon:W2,detailPanelCollapseIcon:rIe,rowReorderIcon:K2,quickFilterIcon:YRe,quickFilterClearIcon:Y2,columnMenuHideIcon:iIe,columnMenuSortAscendingIcon:V2,columnMenuSortDescendingIcon:$2,columnMenuUnsortIcon:null,columnMenuFilterIcon:G2,columnMenuManageColumnsIcon:sIe,columnMenuClearIcon:Y2,loadIcon:nIe,filterPanelAddIcon:W2,filterPanelRemoveAllIcon:aIe,columnReorderIcon:K2,menuItemCheckIcon:q2}),vPe=()=>_.useRef(null),Ot=(...e)=>{const t=Nr(...e);return(n,o,i,s)=>t(aR(n),o,i,s)},Ur=(...e)=>{const t=af(...e);return(n,o,i,s)=>t(aR(n),o,i,s)},kn=e=>(t,r)=>e(aR(t),r);function aR(e){return"current"in e?e.current.state:e}const Qn=kn(e=>e.dimensions),lR=Ot(Qn,e=>e.columnsTotalWidth),yPe=Ot(Qn,e=>e.rowHeight);Ot(Qn,e=>e.contentSize.height);const bPe=Ot(Qn,e=>e.hasScrollX),wPe=Ot(Qn,e=>e.hasScrollY),sG=Ot(Qn,e=>e.columnsTotalWidth<e.viewportOuterSize.width),SPe=Ot(Qn,e=>e.headerHeight),CPe=Ot(Qn,e=>e.groupHeaderHeight);Ot(Qn,e=>e.headerFilterHeight);const xPe=Ot(Qn,e=>e.hasScrollX?e.scrollbarSize:0),aG=Ot(Qn,e=>e.hasScrollY?e.scrollbarSize:0),_Pe=Ot(Qn,xPe,(e,t)=>{const r=e.viewportOuterSize.height-e.minimumSize.height>0;return!(t===0&&!r)}),cR=kn(e=>e.rowsMeta),Ea=kn(e=>e.rows),uf=Ot(Ea,e=>e.totalRowCount),EPe=Ot(Ea,e=>e.loading),TPe=Ot(Ea,e=>e.totalTopLevelRowCount),qs=Ot(Ea,e=>e.dataRowIdToModelLookup);Ot(qs,(e,t)=>e[t]);const Ho=Ot(Ea,e=>e.tree),dl=Ot(Ho,(e,t)=>e[t]),MPe=Ot(Ea,e=>e.groupsToFetch),OPe=Ot(Ea,e=>e.groupingName),lG=Ot(Ea,e=>e.treeDepths),cm=Ur(Ea,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:(t.filter(([,r])=>r>0).map(([r])=>Number(r)).sort((r,n)=>n-r)[0]??0)+1}),Bd=Ot(Ea,e=>e.dataRowIds),RPe=Ur(Bd,qs,(e,t)=>e.reduce((r,n)=>(t[n]&&r.push(t[n]),r),[])),IPe=Ot(Ea,e=>e?.additionalRowGroups),um=Ur(IPe,e=>{const t=e?.pinnedRows;return{bottom:t?.bottom?.map(r=>({id:r.id,model:r.model??{}}))??[],top:t?.top?.map(r=>({id:r.id,model:r.model??{}}))??[]}}),cG=Ot(um,e=>(e?.top?.length||0)+(e?.bottom?.length||0)),Do="auto-generated-group-node-root",Fd=Symbol("mui.id_autogenerated"),PPe=()=>({type:"group",id:Do,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function kPe(e,t,r="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",r,JSON.stringify(t)].join(`
`))}const kw=(e,t,r)=>{const n=t?t(e):e.id;return kPe(n,e,r),n},DPe=(e,t,r)=>{const n=t.field;if(!t||!t.valueGetter)return e[n];const o=e[t.field];return t.valueGetter(o,e,t,r)},Dw=({rows:e,getRowId:t,loading:r,rowCount:n})=>{const o={type:"full",rows:[]},i={};for(let s=0;s<e.length;s+=1){const a=e[s],c=kw(a,t);i[c]=a,o.rows.push(c)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:r,rowCountPropBeforePartialUpdates:n,updates:o,dataRowIdToModelLookup:i}},uG=({tree:e,rowCountProp:t=0})=>{const r=e[Do];return Math.max(t,r.children.length+(r.footerId==null?0:1))},dG=({apiRef:e,rowCountProp:t=0,loadingProp:r,previousTree:n,previousTreeDepths:o,previousGroupsToFetch:i})=>{const s=e.current.caches.rows,{tree:a,treeDepths:c,dataRowIds:d,groupingName:h,groupsToFetch:f=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:n,previousTreeDepths:o,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:i}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:c,dataRowIds:d,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},H({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:uG({tree:g.tree,rowCountProp:t}),groupingName:h,loading:r,groupsToFetch:f})},hG=e=>Fd in e,df=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,uR=(e,t,r,n)=>{const o=e[t];if(o.type!=="group")return[];const i=[];for(let s=0;s<o.children.length;s+=1){const a=o.children[s];if((!r||!df(e[a]))&&i.push(a),n)continue;const c=uR(e,a,r,n);for(let d=0;d<c.length;d+=1)i.push(c[d])}return!r&&o.footerId!=null&&i.push(o.footerId),i},fG=({previousCache:e,getRowId:t,updates:r,groupKeys:n})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const o=new Map;r.forEach(d=>{const h=kw(d,t,"A row was provided without id when calling updateRows():");o.has(h)?o.set(h,H({},o.get(h),d)):o.set(h,d)});const i={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:H({},e.updates.idToActionLookup),groupKeys:n},s=H({},e.dataRowIdToModelLookup),a={insert:{},modify:{},remove:{}};o.forEach((d,h)=>{const f=i.idToActionLookup[h];if(d._action==="delete"){if(f==="remove"||!s[h])return;f!=null&&(a[f][h]=!0),i.actions.remove.push(h),delete s[h];return}const g=s[h];if(g){f==="remove"?(a.remove[h]=!0,i.actions.modify.push(h)):f==null&&i.actions.modify.push(h),s[h]=H({},g,d);return}f==="remove"?(a.remove[h]=!0,i.actions.insert.push(h)):f==null&&i.actions.insert.push(h),s[h]=d});const c=Object.keys(a);for(let d=0;d<c.length;d+=1){const h=c[d],f=a[h];Object.keys(f).length>0&&(i.actions[h]=i.actions[h].filter(g=>!f[g]))}return{dataRowIdToModelLookup:s,updates:i,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}},pG="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function gG(e,t,r){const n=[];return t.forEach(o=>{const i=kw(o,r,"A row was provided without id when calling updateRows():");if(dl(e,i)?.type==="pinnedRow"){const a=e.current.caches.pinnedRows,c=a.idLookup[i];c&&(a.idLookup[i]=H({},c,o))}else n.push(o)}),n}const mG=(e,t,r)=>typeof e=="number"&&e>0?e:t;function ec(e){return _.memo(e,R2)}const APe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:r,estimated:n})=>{if(!n)return`${e}–${t} of ${r!==-1?r:`more than ${t}`}`;const o=n&&n>t?`around ${n}`:`more than ${t}`;return`${e}–${t} of ${r!==-1?r:o}`},paginationItemAriaLabel:e=>e==="first"?"Go to first page":e==="last"?"Go to last page":e==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt…",promptFieldPlaceholderWithRecording:"Type or record a prompt…",promptFieldPlaceholderListening:"Listening for prompt…",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing…",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,r)=>t==="is any of"?`${e} is any of: ${r}`:`${e} ${t} ${r}`,promptChangeFilterDescription:(e,t,r)=>t==="is any of"?`Filter where ${e} is any of: ${r}`:`Filter where ${e} ${t} ${r}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`};function Cr(e){return Xt("MuiDataGrid",e)}const ie=Kt("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let Ta=(function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e})({});const vG=1e3;class LPe{timeouts=new Map;cleanupTimeout=vG;constructor(t=vG){this.cleanupTimeout=t}register(t,r,n){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof r=="function"&&r(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,o)}unregister(t){const r=this.timeouts.get(t.cleanupToken);r&&(this.timeouts.delete(t.cleanupToken),clearTimeout(r))}reset(){this.timeouts&&(this.timeouts.forEach((t,r)=>{this.unregister({cleanupToken:r})}),this.timeouts=void 0)}}class NPe{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,r,n){this.registry.register(t,r,n)}unregister(t){this.registry.unregister(t)}reset(){}}class dR{static create(){return new dR}}const Aw={current:FPe()};let yG=0;function Tt(e,t,r,n){const o=_.useState(dR.create)[0],i=_.useRef(null),s=_.useRef(null);s.current=r;const a=_.useRef(null);if(!i.current&&s.current){const c=(d,h,f)=>{h.defaultMuiPrevented||s.current?.(d,h,f)};i.current=e.current.subscribeEvent(t,c,n),yG+=1,a.current={cleanupToken:yG},Aw.current.register(o,()=>{i.current?.(),i.current=null,a.current=null},a.current)}else!s.current&&i.current&&(i.current(),i.current=null,a.current&&(Aw.current.unregister(a.current),a.current=null));_.useEffect(()=>{if(!i.current&&s.current){const c=(d,h,f)=>{h.defaultMuiPrevented||s.current?.(d,h,f)};i.current=e.current.subscribeEvent(t,c,n)}return a.current&&Aw.current&&(Aw.current.unregister(a.current),a.current=null),()=>{i.current?.(),i.current=null}},[e,t,n])}const BPe={isFirst:!0};function cn(e,t,r){Tt(e,t,r,BPe)}function FPe(){return typeof FinalizationRegistry<"u"?new NPe:new LPe}const jPe=Object.is,bG=R2,VPe=(e,t)=>e===t?!0:e.length===t.length&&e.every((r,n)=>r===t[n]),$Pe=(e,t)=>{let r=Object.is;return t instanceof Array?r=VPe:t instanceof Object&&(r=bG),r(e,t)},zPe=()=>({state:null,equals:null,selector:null,args:void 0}),wG=[],UPe=()=>null;function et(e,t,r=void 0,n=jPe){const o=ss(zPe),i=o.current.selector!==null,[s,a]=_.useState(i?null:t(e,r));o.current.state=s,o.current.equals=n,o.current.selector=t;const c=o.current.args;if(o.current.args=r,i&&!$Pe(c,r)){const f=o.current.selector(e,o.current.args);o.current.equals(o.current.state,f)||(o.current.state=f,a(f))}const d=_.useCallback(()=>(o.current.subscription||(o.current.subscription=e.current.store.subscribe(()=>{const f=o.current.selector(e,o.current.args);o.current.equals(o.current.state,f)||(o.current.state=f,a(f))})),null),wG),h=_.useCallback(()=>(o.current.subscription||d(),()=>{o.current.subscription&&(o.current.subscription(),o.current.subscription=void 0)}),wG);return aM.useSyncExternalStore(h,d,UPe),s}const GPe={compact:.7,comfortable:1.3,standard:1},hf=kn(e=>e.density),dm=Ot(hf,e=>GPe[e]);function hl(e){throw new Error("Failed assertion: should not be rendered")}const HPe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],WPe=e=>{const{classes:t}=e;return ht({root:["editInputCell"]},Cr,t)},KPe=we(hl,{name:"MuiDataGrid",slot:"EditInputCell"})({font:wt.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),qPe=Zt((e,t)=>{const r=yt(),{id:n,value:o,field:i,colDef:s,hasFocus:a,debounceMs:c=200,isProcessingProps:d,onValueChange:h,slotProps:f}=e,g=pt(e,HPe),m=dr(),y=_.useRef(null),[b,v]=_.useState(o),C=WPe(r),E=_.useCallback(async R=>{const M=R.target.value,I=m.current.getColumn(i);let N=M;I.valueParser&&(N=I.valueParser(M,m.current.getRow(n),I,m)),v(N),m.current.setEditCellValue({id:n,field:i,value:N,debounceMs:c,unstable_skipValueParser:!0},R),h&&await h(R,M)},[m,c,i,n,h]),T=m.current.unstable_getEditCellMeta(n,i);return _.useEffect(()=>{T?.changeReason!=="debouncedSetEditCellValue"&&v(o)},[T,o]),zr(()=>{a&&y.current.focus()},[a]),x.jsx(KPe,H({as:r.slots.baseInput,inputRef:y,className:C.root,ownerState:r,fullWidth:!0,type:s.type==="number"?s.type:"text",value:b??"",onChange:E,endAdornment:d?x.jsx(r.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g,f?.root,{ref:t}))}),YPe=e=>x.jsx(qPe,H({},e)),SG=(e,t)=>t&&e.length>1?[e[0]]:e,CG=(e,t)=>r=>H({},r,{sorting:H({},r.sorting,{sortModel:SG(e,t)})}),XPe=e=>e==="desc",ZPe=(e,t)=>{const r=t.current.getColumn(e.field);if(!r||e.sort===null)return null;let n;return r.getSortComparator?n=r.getSortComparator(e.sort):n=XPe(e.sort)?(...i)=>-1*r.sortComparator(...i):r.sortComparator,n?{getSortCellParams:i=>({id:i,field:r.field,rowNode:dl(t,i),value:t.current.getCellValue(i,r.field),api:t.current}),comparator:n}:null},QPe=(e,t,r)=>e.reduce((n,o,i)=>{if(n!==0)return n;const s=t.params[i],a=r.params[i];return n=o.comparator(s.value,a.value,s,a),n},0),JPe=(e,t)=>{const r=e.map(n=>ZPe(n,t)).filter(n=>!!n);return r.length===0?null:n=>n.map(o=>({node:o,params:r.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>QPe(r,o,i)).map(o=>o.node.id)},xG=(e,t)=>{const r=e.indexOf(t);return!t||r===-1||r+1===e.length?e[0]:e[r+1]},hR=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,eke=new Intl.Collator,tke=(e,t)=>{const r=hR(e,t);return r!==null?r:typeof e=="string"?eke.compare(e.toString(),t.toString()):e-t},_G=(e,t)=>{const r=hR(e,t);return r!==null?r:Number(e)-Number(t)},EG=(e,t)=>{const r=hR(e,t);return r!==null?r:e>t?1:e<t?-1:0},rke=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function Ys(e){const{item:t,applyValue:r,type:n,apiRef:o,focusElementRef:i,tabIndex:s,disabled:a,slotProps:c,clearButton:d,headerFilterMenu:h}=e,f=pt(e,rke),g=c?.root,m=Fi(),[y,b]=_.useState(fR(t.value)),[v,C]=_.useState(!1),E=kr(),T=yt(),R=_.useCallback(M=>{const I=fR(M.target.value);b(I),C(!0),m.start(T.filterDebounceMs,()=>{const N=H({},t,{value:n==="number"&&!Number.isNaN(Number(I))?Number(I):I,fromInput:E});r(N),C(!1)})},[m,T.filterDebounceMs,t,n,E,r]);return _.useEffect(()=>{(t.fromInput!==E||t.value==null)&&b(fR(t.value))},[E,t]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,H({id:E,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:y??"",onChange:R,type:n||"text",disabled:a,slotProps:H({},g?.slotProps,{input:H({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.slotProps?.input),htmlInput:H({tabIndex:s},g?.slotProps?.htmlInput)}),inputRef:i},T.slotProps?.baseTextField,f,g)),h,d]})}function fR(e){if(!(e==null||e===""))return String(e)}function nke(e){return typeof e=="number"&&!Number.isNaN(e)}function oke(e){return typeof e=="function"}function pR(e){return typeof e=="object"&&e!==null}function ike(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Lw(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const jd=(e,t,r)=>Math.max(t,Math.min(r,e));function ske(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function ake(e){const t=ske(e);return(r,n)=>r+(n-r)*t()}function TG(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const nu=(e,t)=>r=>{e&&t(r)};function MG(e){const{item:t,applyValue:r,type:n,apiRef:o,focusElementRef:i,slotProps:s}=e,a=kr(),[c,d]=_.useState([]),[h,f]=_.useState(t.value||[]),g=yt();_.useEffect(()=>{const v=t.value??[];f(v.map(String))},[t.value]);const m=_.useCallback((v,C)=>{f(C.map(String)),r(H({},t,{value:[...C.map(E=>n==="number"?Number(E):E)]}))},[r,t,n]),y=_.useCallback((v,C)=>{d(C===""?[]:[C])},[d]),b=g.slots.baseAutocomplete;return x.jsx(b,H({multiple:!0,freeSolo:!0,options:c,id:a,value:h,onChange:m,onInputChange:y,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:n||"text",inputRef:i}}},s?.root))}var fl=(function(e){return e.Cell="cell",e.Row="row",e})(fl||{}),Kr=(function(e){return e.Edit="edit",e.View="view",e})(Kr||{}),En=(function(e){return e.Edit="edit",e.View="view",e})(En||{}),Ti=(function(e){return e.And="and",e.Or="or",e})(Ti||{});class lke{constructor(t){this.data=t.ids}has(t){return this.data.has(t)}select(t){this.data.add(t)}unselect(t){this.data.delete(t)}}class cke{constructor(t){this.data=t.ids}has(t){return!this.data.has(t)}select(t){this.data.delete(t)}unselect(t){this.data.add(t)}}const ou=e=>e.type==="include"?new lke(e):new cke(e);var tc=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e})(tc||{}),Xs=(function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(Xs||{}),iu=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e})(iu||{}),pl=(function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(pl||{});function OG(e){return e.field!==void 0}const RG={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},hm=()=>({items:[],logicOperator:Ti.And,quickFilterValues:[],quickFilterLogicOperator:Ti.And});function IG(e){return{current:e.current.getPublicApi()}}let su=(function(e){return e.LEFT="left",e.RIGHT="right",e})({});const Nw={left:[],right:[]},PG=kn(e=>e.isRtl),kG=kn(e=>e.props.listView??!1),DG=kn(e=>e.listViewColumn),Ma=kn(e=>e.columns),gl=Ot(Ma,e=>e.orderedFields),rc=Ot(Ma,e=>e.lookup),Zs=Ur(gl,rc,(e,t)=>e.map(r=>t[r])),Qs=Ot(Ma,e=>e.columnVisibilityModel),uke=Ot(Ma,e=>e.initialColumnVisibilityModel),Jn=Ur(Zs,Qs,kG,DG,(e,t,r,n)=>r&&n?[n]:e.filter(o=>t[o.field]!==!1)),fm=Ur(Jn,e=>e.map(t=>t.field)),AG=kn(e=>e.pinnedColumns);Ur(AG,gl,PG,(e,t,r)=>LG(e,t,r));const Bw=Ur(Ma,AG,fm,PG,kG,(e,t,r,n,o)=>{if(o)return Nw;const i=LG(t,r,n);return{left:i.left.map(a=>e.lookup[a]),right:i.right.map(a=>e.lookup[a])}});function LG(e,t,r){if(!Array.isArray(e.left)&&!Array.isArray(e.right)||e.left?.length===0&&e.right?.length===0)return Nw;const n=(a,c)=>Array.isArray(a)?a.filter(d=>c.includes(d)):[],o=n(e.left,t),i=t.filter(a=>!o.includes(a)),s=n(e.right,i);return r?{left:s,right:o}:{left:o,right:s}}const Vd=Ur(Jn,e=>{const t=[];let r=0;for(let n=0;n<e.length;n+=1)t.push(r),r+=e[n].computedWidth;return t}),NG=Ur(Zs,e=>e.filter(t=>t.filterable)),dke=Ur(Zs,e=>e.reduce((t,r)=>(r.filterable&&(t[r.field]=r),t),{})),hke=Ur(Zs,e=>e.some(t=>t.colSpan!==void 0));let pm;function fke(){if(pm!==void 0)return pm;try{pm=new Function("return true")()}catch{pm=!1}return pm}const gR=(e,t)=>{const r=H({},e);if(r.id==null&&(r.id=Math.round(Math.random()*1e5)),r.operator==null){const n=rc(t)[r.field];r.operator=n&&n.filterOperators[0].value}return r},mR=(e,t,r)=>{const n=e.items.length>1;let o;n&&t?o=[e.items[0]]:o=e.items;const i=n&&o.some(a=>a.id==null);return o.some(a=>a.operator==null)||i?H({},e,{items:o.map(a=>gR(a,r))}):e.items!==o?H({},e,{items:o}):e},BG=(e,t,r)=>n=>H({},n,{filterModel:mR(e,t,r)}),gm=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,FG=(e,t)=>{if(!e.field||!e.operator)return null;const r=t.current.getColumn(e.field);if(!r)return null;let n;if(r.valueParser){const h=r.valueParser;n=Array.isArray(e.value)?e.value?.map(f=>h(f,void 0,r,t)):h(e.value,void 0,r,t)}else n=e.value;const{ignoreDiacritics:o}=t.current.rootProps;o&&(n=gm(n));const i=H({},e,{value:n}),s=r.filterOperators;if(!s?.length)throw new Error(`MUI X: No filter operators found for column '${r.field}'.`);const a=s.find(h=>h.value===i.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${r.field}' and operator value '${i.operator}'.`);const c=IG(t),d=a.getApplyFilterFn(i,r);return typeof d!="function"?null:{item:i,fn:h=>{let f=t.current.getRowValue(h,r);return o&&(f=gm(f)),d(f,h,r,c)}}};let jG=1;const pke=(e,t,r)=>{const{items:n}=e,o=n.map(a=>FG(a,t)).filter(a=>!!a);if(o.length===0)return null;if(r||!fke())return(a,c)=>{const d={};for(let h=0;h<o.length;h+=1){const f=o[h];(!c||c(f.item.field))&&(d[f.item.id]=f.fn(a))}return d};const i=new Function("appliers","row","shouldApplyFilter",`"use strict";
${o.map((a,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${o.map((a,c)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(jG)));return jG+=1,(a,c)=>i(o,a,c)},VG=e=>e.quickFilterExcludeHiddenColumns??!0,gke=(e,t)=>{const r=e.quickFilterValues?.filter(Boolean)??[];if(r.length===0)return null;const n=gl(t),o=Qs(t);let i;VG(e)?i=n.filter(d=>o[d]!==!1):i=n;const s=[],{ignoreDiacritics:a}=t.current.rootProps,c=IG(t);return i.forEach(d=>{const h=t.current.getColumn(d),f=h?.getApplyQuickFilterFn;f&&s.push({column:h,appliers:r.map(g=>{const m=a?gm(g):g;return{fn:f(m,h,c)}})})}),function(h,f){const g={};e:for(let m=0;m<r.length;m+=1){const y=r[m];for(let b=0;b<s.length;b+=1){const{column:v,appliers:C}=s[b],{field:E}=v;if(f&&!f(E))continue;const T=C[m];let R=t.current.getRowValue(h,v);if(T.fn===null)continue;if(a&&(R=gm(R)),T.fn(R,h,v,c)){g[y]=!0;continue e}}g[y]=!1}return g}},mke=(e,t,r)=>{const n=pke(e,t,r),o=gke(e,t);return function(s,a,c){c.passingFilterItems=n?.(s,a)??null,c.passingQuickFilterValues=o?.(s,a)??null}},$G=e=>e!=null,vke=(e,t,r)=>(e.cleanedFilterItems||(e.cleanedFilterItems=r.filter(n=>FG(n,t)!==null)),e.cleanedFilterItems),yke=(e,t,r,n,o)=>{const i=vke(o,n,r.items),s=e.filter($G),a=t.filter($G);if(s.length>0){const c=h=>s.some(f=>f[h.id]);if((r.logicOperator??hm().logicOperator)===Ti.And){if(!i.every(c))return!1}else if(!i.some(c))return!1}if(a.length>0&&r.quickFilterValues!=null){const c=h=>a.some(f=>f[h]);if((r.quickFilterLogicOperator??hm().quickFilterLogicOperator)===Ti.And){if(!r.quickFilterValues.every(c))return!1}else if(!r.quickFilterValues.some(c))return!1}return!0},bke=e=>{if(!e)return null;const t=new RegExp(Lw(e),"i");return(r,n,o,i)=>{let s=i.current.getRowFormattedValue(n,o);return i.current.ignoreDiacritics&&(s=gm(s)),s!=null?t.test(s.toString()):!1}},zG=(e,t)=>r=>{if(!r.value)return null;const n=e?r.value:r.value.trim(),o=new RegExp(Lw(n),"i");return i=>{if(i==null)return t;const s=o.test(String(i));return t?!s:s}},UG=(e,t)=>r=>{if(!r.value)return null;const n=e?r.value:r.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>{if(i==null)return t;const s=o.compare(n,i.toString())===0;return t?!s:s}},GG=e=>()=>t=>{const r=t===""||t==null;return e?!r:r},Oa={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:tke,type:"string",align:"left",filterOperators:((e=!1)=>[{value:"contains",getApplyFilterFn:zG(e,!1),InputComponent:Ys},{value:"doesNotContain",getApplyFilterFn:zG(e,!0),InputComponent:Ys},{value:"equals",getApplyFilterFn:UG(e,!1),InputComponent:Ys},{value:"doesNotEqual",getApplyFilterFn:UG(e,!0),InputComponent:Ys},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const r=e?t.value:t.value.trim(),n=new RegExp(`^${Lw(r)}.*$`,"i");return o=>o!=null?n.test(o.toString()):!1},InputComponent:Ys},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const r=e?t.value:t.value.trim(),n=new RegExp(`.*${Lw(r)}$`,"i");return o=>o!=null?n.test(o.toString()):!1},InputComponent:Ys},{value:"isEmpty",getApplyFilterFn:GG(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:GG(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const r=e?t.value:t.value.map(o=>o.trim()),n=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return o=>o!=null?r.some(i=>n.compare(i,o.toString()||"")===0):!1},InputComponent:MG}])(),renderEditCell:YPe,getApplyQuickFilterFn:bke};function HG(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Fw=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",wke=e=>!!e.key,WG=e=>e==="Tab"||e==="Escape";function KG(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="V"&&!e.shiftKey&&!e.altKey}function Ske(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="C"&&!e.shiftKey&&!e.altKey}const qG=_.createContext(void 0),jw=()=>{const e=_.useContext(qG);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e},Cke="MuiDataGridVariables",vR=_.createContext({className:"unset",tag:x.jsx("style",{href:"/unset"})});function YG(){return _.useContext(vR).className}function xke(){return _.useContext(vR)}function _ke(e){const t=jw(),r=yt(),n=t.hooks.useCSSVariables(),o=_.useMemo(()=>{const i=`${Cke}-${n.id}`,s=`.${i}{${Eke(n.variables)}}`,a=x.jsx("style",{href:`/${i}`,nonce:r.nonce,children:s});return{className:i,tag:a}},[r.nonce,n]);return x.jsx(vR.Provider,{value:o,children:e.children})}function Eke(e){let t="";for(const r in e)Object.hasOwn(e,r)&&e[r]!==void 0&&(t+=`${r}:${e[r]};`);return t}const Tke=["open","target","onClose","children","position","className","onExited"],Mke=e=>{const{classes:t}=e;return ht({root:["menu"]},Cr,t)},Oke=we(hl,{name:"MuiDataGrid",slot:"Menu"})({zIndex:wt.zIndex.menu,[`& .${ie.menuList}`]:{outline:0}});function Vw(e){const{open:t,target:r,onClose:n,children:o,position:i,className:s,onExited:a}=e,c=pt(e,Tke),d=dr(),h=yt(),f=Mke(h),g=YG(),m=_.useRef(null);zr(()=>{t?m.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(m.current?.focus?.(),m.current=null)},[t]),_.useEffect(()=>{const v=t?"menuOpen":"menuClose";d.current.publishEvent(v,{target:r})},[d,t,r]);const y=v=>{v.target&&(r===v.target||r?.contains(v.target))||n(v)},b=v=>{WG(v.key)&&n(v)};return x.jsx(Oke,H({as:h.slots.basePopper,className:Ke(f.root,s,g),ownerState:h,open:t,target:r,transition:!0,placement:i,onClickAway:y,onExited:a,clickAwayMouseEvent:"onMouseDown",onKeyDown:b},c,h.slotProps?.basePopper,{children:o}))}const Rke=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Ike=e=>typeof e.getActions=="function";function Pke(e){const{colDef:t,id:r,hasFocus:n,tabIndex:o,position:i="bottom-end",focusElementRef:s}=e,a=pt(e,Rke),[c,d]=_.useState(-1),[h,f]=_.useState(!1),g=dr(),m=_.useRef(null),y=_.useRef(null),b=_.useRef(!1),v=_.useRef({}),C=Uo(),E=kr(),T=kr(),R=yt();if(!Ike(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const M=t.getActions(g.current.getRowParams(r)),I=M.filter(V=>!V.props.showInMenu),N=M.filter(V=>V.props.showInMenu),P=I.length+(N.length?1:0);_.useLayoutEffect(()=>{n||Object.entries(v.current).forEach(([V,Y])=>{Y?.stop({},()=>{delete v.current[V]})})},[n]),_.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),_.useEffect(()=>{n||(d(-1),b.current=!1)},[n]),_.useImperativeHandle(s,()=>({focus(){if(!b.current){const V=M.findIndex(Y=>!Y.props.disabled);d(V)}}}),[M]),_.useEffect(()=>{c>=P&&d(P-1)},[c,P]);const L=()=>{f(!0),d(P-1),b.current=!0},D=()=>{f(!1)},$=V=>{V.stopPropagation(),V.preventDefault(),h?D():L()},B=V=>Y=>{v.current[V]=Y},U=(V,Y)=>Q=>{d(V),b.current=!0,Y&&Y(Q)},q=V=>{if(P<=1)return;const Y=(re,z)=>{if(re<0||re>M.length)return re;const Z=(z==="left"?-1:1)*(C?-1:1);return M[re+Z]?.props.disabled?Y(re+Z,z):re+Z};let Q=c;V.key==="ArrowRight"?Q=Y(c,"right"):V.key==="ArrowLeft"&&(Q=Y(c,"left")),!(Q<0||Q>=P)&&Q!==c&&(V.preventDefault(),V.stopPropagation(),d(Q))},W=P>0?{role:"menu",onKeyDown:q}:void 0;return x.jsxs("div",H({ref:m,tabIndex:-1,className:ie.actionsCell},W,a,{children:[I.map((V,Y)=>_.cloneElement(V,{key:Y,touchRippleRef:B(Y),onClick:U(Y,V.props.onClick),tabIndex:c===Y?o:-1})),N.length>0&&T&&x.jsx(R.slots.baseIconButton,H({ref:y,id:T,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":h,"aria-controls":h?E:void 0,role:"menuitem",size:"small",onClick:$,touchRippleRef:B(T),tabIndex:c===I.length?o:-1},R.slotProps?.baseIconButton,{children:x.jsx(R.slots.moreActionsIcon,{fontSize:"small"})})),N.length>0&&x.jsx(Vw,{open:h,target:y.current,position:i,onClose:D,children:x.jsx(R.slots.baseMenuList,{id:E,className:ie.menuList,"aria-labelledby":T,autoFocusItem:!0,children:N.map((V,Y)=>_.cloneElement(V,{key:Y,closeMenu:D}))})})]}))}const kke=e=>x.jsx(Pke,H({},e)),$w="actions",Dke=H({},Oa,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:kke,getApplyQuickFilterFn:()=>null}),Ake="__tree_data_group__",XG="__row_group_by_columns_group__",yR="__detail_panel_toggle__";let Mr=(function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e})({});const Lke=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],Nke=e=>{const{classes:t}=e;return ht({root:["booleanCell"]},Cr,t)};function Bke(e){const{value:t,rowNode:r}=e,n=pt(e,Lke),o=dr(),i=yt(),s={classes:i.classes},a=Nke(s),d=et(o,cm)>0&&r.type==="group"&&i.treeData===!1,h=_.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return d&&t===void 0?null:x.jsx(h,H({fontSize:"small",className:a.root,titleAccess:o.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))}const Fke=_.memo(Bke),jke=e=>e.field!==XG&&df(e.rowNode)?"":x.jsx(Fke,H({},e)),Vke=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],$ke=e=>{const{classes:t}=e;return ht({root:["editBooleanCell"]},Cr,t)};function zke(e){const{id:t,value:r,field:n,className:o,hasFocus:i,onValueChange:s}=e,a=pt(e,Vke),c=dr(),d=_.useRef(null),h=kr(),[f,g]=_.useState(r),m=yt(),y={classes:m.classes},b=$ke(y),v=_.useCallback(async C=>{const E=C.target.checked;s&&await s(C,E),g(E),await c.current.setEditCellValue({id:t,field:n,value:E},C)},[c,n,t,s]);return _.useEffect(()=>{g(r)},[r]),zr(()=>{i&&d.current.focus()},[i]),x.jsx("label",H({htmlFor:h,className:Ke(b.root,o)},a,{children:x.jsx(m.slots.baseCheckbox,H({id:h,inputRef:d,checked:!!f,onChange:v,size:"small"},m.slotProps?.baseCheckbox))}))}const Uke=e=>x.jsx(zke,H({},e)),Gke=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function Hke(e){const{item:t,applyValue:r,apiRef:n,focusElementRef:o,headerFilterMenu:i,clearButton:s,tabIndex:a,slotProps:c}=e,d=pt(e,Gke),[h,f]=_.useState(zw(t.value)),g=yt(),m=kr(),y=kr(),b=g.slotProps?.baseSelect||{},v=b.native??!1,C=g.slotProps?.baseSelectOption||{},E=_.useCallback(M=>{const I=zw(M.target.value);f(I),r(H({},t,{value:I}))},[r,t]);_.useEffect(()=>{f(zw(t.value))},[t.value]);const T=c?.root.label??n.current.getLocaleText("filterPanelInputLabel"),R=c?.root.slotProps;return x.jsxs(_.Fragment,{children:[x.jsxs(g.slots.baseSelect,H({fullWidth:!0,labelId:m,id:y,label:T,value:h===void 0?"":String(h),onChange:E,native:v,slotProps:{htmlInput:H({ref:o,tabIndex:a},R?.htmlInput)}},b,d,c?.root,{children:[x.jsx(g.slots.baseSelectOption,H({},C,{native:v,value:"",children:n.current.getLocaleText("filterValueAny")})),x.jsx(g.slots.baseSelectOption,H({},C,{native:v,value:"true",children:n.current.getLocaleText("filterValueTrue")})),x.jsx(g.slots.baseSelectOption,H({},C,{native:v,value:"false",children:n.current.getLocaleText("filterValueFalse")}))]})),i,s]})}function zw(e){if(String(e).toLowerCase()==="true")return!0;if(String(e).toLowerCase()==="false")return!1}const Wke=()=>[{value:"is",getApplyFilterFn:e=>{const t=zw(e.value);return t===void 0?null:r=>!!r===t},InputComponent:Hke}],Kke=(e,t,r,n)=>e?n.current.getLocaleText("booleanCellTrueLabel"):n.current.getLocaleText("booleanCellFalseLabel"),qke=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},ZG=H({},Oa,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:jke,renderEditCell:Uke,sortComparator:_G,valueFormatter:Kke,filterOperators:Wke(),getApplyQuickFilterFn:()=>null,aggregable:!1,pastedValueParser:e=>qke(e)});function Uw(e){for(const t in e)return!1;return!0}const QG=kn(e=>e.sorting),mm=Ot(QG,e=>e.sortedRows),bR=Ur(mm,qs,Ho,(e,t,r)=>e.reduce((n,o)=>{const i=t[o];if(i)n.push({id:o,model:i});else{const s=r[o];s&&df(s)&&n.push({id:o,model:{[Fd]:o}})}return n},[])),Js=Ot(QG,e=>e.sortModel),Yke=Ur(Js,e=>e.reduce((r,n,o)=>(r[n.field]={sortDirection:n.sort,sortIndex:e.length>1?o+1:void 0},r),{}));Ur(mm,e=>e.reduce((t,r,n)=>(t[r]=n,t),Object.create(null)));const Gw=kn(e=>e.filter),Ao=Ot(Gw,e=>e.filterModel),JG=Ot(Ao,e=>e.quickFilterValues),Xke=kn(e=>e.visibleRowsLookup),ff=Ot(Gw,e=>e.filteredRowsLookup);Ot(Gw,e=>e.filteredChildrenCountLookup),Ot(Gw,e=>e.filteredDescendantCountLookup);const au=Ur(Xke,bR,(e,t)=>Uw(e)?t:t.filter(r=>e[r.id]!==!1)),$d=Ur(au,e=>e.map(t=>t.id)),eH=Ur(ff,bR,(e,t)=>Uw(e)?t:t.filter(r=>e[r.id]!==!1)),tH=Ur(eH,e=>e.map(t=>t.id));Ur($d,Ho,(e,t)=>{const r={};let n=0;return e.reduce((o,i)=>{const s=t[i];return r[s.depth]||(r[s.depth]=0),s.depth>n&&(r[s.depth]=0),n=s.depth,r[s.depth]+=1,o[i]=r[s.depth],o},{})});const rH=Ur(au,Ho,cm,(e,t,r)=>r<2?e:e.filter(n=>t[n.id]?.depth===0)),wR=Ot(au,e=>e.length),SR=Ot(rH,e=>e.length),nH=Ot(eH,e=>e.length);Ot(nH,SR,(e,t)=>e-t);const CR=Ur(Ao,rc,(e,t)=>e.items?.filter(r=>{if(!r.field)return!1;const n=t[r.field];if(!n?.filterOperators||n?.filterOperators?.length===0)return!1;const o=n.filterOperators.find(i=>i.value===r.operator);return o?!o.InputComponent||r.value!=null&&r.value?.toString()!=="":!1})),Zke=Ur(CR,e=>e.reduce((r,n)=>(r[n.field]?r[n.field].push(n):r[n.field]=[n],r),{}));Ur($d,e=>e.reduce((t,r,n)=>(t[r]=n,t),Object.create(null)));const Ra=kn(e=>e.rowSelection),vm=Ur(Ra,ou),Hw=Ot(Ra,nH,(e,t)=>e.type==="include"?e.ids.size:t-e.ids.size),oH=Ur(Ra,qs,Bd,(e,t,r)=>{const n=new Map;if(e.type==="include")for(const o of e.ids)n.set(o,t[o]);else for(let o=0;o<r.length;o+=1){const i=r[o];e.ids.has(i)||n.set(i,t[i])}return n});function iH(e,t){const r=Ho(e),n=mm(e),o=ff(e),i=r[t];if(!i||i.type!=="group")return[];const s=[],a=n.findIndex(c=>c===t)+1;for(let c=a;c<n.length&&r[n[c]]?.depth>i.depth;c+=1){const d=n[c];o[d]!==!1&&e.current.isRowSelectable(d)&&s.push(d)}return s}const Qke=Ot(Ho,ff,vm,(e,t,r,{groupId:n,autoSelectParents:o})=>{const i=e[n];if(!i||i.type!=="group"||r.has(n))return{isIndeterminate:!1,isChecked:r.has(n)};let s=!1,a=!1;const c=d=>{if(t[d]===!1||s&&a)return;const h=e[d];h?.type==="group"&&h.children.forEach(c),r.has(d)?s=!0:a=!0};return c(n),{isIndeterminate:s&&a,isChecked:o?s&&!a:!1}});function xR(e){return e.signature===Ta.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const Jke=(e,t)=>{const r=[];let n=t;for(;n!=null&&n!==Do;){const o=e[n];if(!o)return r;r.push(n),n=o.parent}return r},eDe=(e,t,r)=>{const n=e[r];if(!n)return[];const o=n.parent;return o==null?[]:e[o].children.filter(s=>s!==r&&t[s]!==!1)},ym=(e,t,r,n,o,i,s=vm(e))=>{const a=ff(e),c=new Set([]);if(!(!n&&!o||a[r]===!1)&&(n&&t[r]?.type==="group"&&iH(e,r).forEach(f=>{i(f),c.add(f)}),o)){const d=g=>{if(!s.has(g)&&!c.has(g))return!1;const m=t[g];return m?m.type!=="group"?!0:m.children.every(d):!1},h=g=>{const m=eDe(t,a,g);if(m.length===0||m.every(d)){const b=t[g]?.parent;b!=null&&b!==Do&&e.current.isRowSelectable(b)&&(i(b),c.add(b),h(b))}},f=t[r];if(!f||f.parent===Do)return;h(r)}},sH=(e,t,r,n,o,i)=>{const s=vm(e);!o&&!n||(o&&Jke(t,r).forEach(c=>{s.has(c)&&i(c)}),n&&t[r]?.type==="group"&&iH(e,r).forEach(d=>{i(d)}))},tDe=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],rDe=e=>{const{classes:t}=e;return ht({root:["checkboxInput"]},Cr,t)},nDe=Zt(function(t,r){const{field:n,id:o,rowNode:i,tabIndex:s}=t,a=pt(t,tDe),c=dr(),d=yt(),h={classes:d.classes},f=rDe(h),g=E=>{const T={value:E.target.checked,id:o};c.current.publishEvent("rowSelectionCheckboxChange",T,E)};_.useLayoutEffect(()=>{if(s===0){const E=c.current.getCellElement(o,n);E&&(E.tabIndex=-1)}},[c,s,o,n]);const m=_.useCallback(E=>{E.key===" "&&E.stopPropagation()},[]),y=c.current.isRowSelectable(o),{isIndeterminate:b,isChecked:v}=et(c,Qke,{groupId:o,autoSelectParents:d.rowSelectionPropagation?.parents??!1});if(i.type==="footer"||i.type==="pinnedRow")return null;const C=c.current.getLocaleText(v&&!b?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return x.jsx(d.slots.baseCheckbox,H({tabIndex:s,checked:v&&!b,onChange:g,className:f.root,slotProps:{htmlInput:{"aria-label":C,name:"select_row"}},onKeyDown:m,indeterminate:b,disabled:!y},d.slotProps?.baseCheckbox,a,{ref:r}))}),Ww=kn(e=>e.focus),Ui=Ot(Ww,e=>e.cell),oDe=Ot(Ww,e=>e.columnHeader);Ot(Ww,e=>e.columnHeaderFilter);const Kw=Ot(Ww,e=>e.columnGroupHeader),qw=kn(e=>e.tabIndex),_R=Ot(qw,e=>e.cell),aH=Ot(qw,e=>e.columnHeader);Ot(qw,e=>e.columnHeaderFilter);const iDe=Ot(qw,e=>e.columnGroupHeader),sDe=100,aDe=e=>e?0:100,lH=(e,t,r)=>t>0&&e>0?Math.ceil(e/t):e===-1?r+2:0,cH=e=>({page:0,pageSize:e?0:100}),lDe=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),uH=(e,t)=>{if(t===Ta.DataGrid&&e>sDe)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},cDe=-1,pf=kn(e=>e.pagination),dH=Ot(pf,e=>e.enabled&&e.paginationMode==="client"),Wo=Ot(pf,e=>e.paginationModel),gf=Ot(pf,e=>e.rowCount),bm=Ot(pf,e=>e.meta),uDe=Ot(Wo,e=>e.page),hH=Ot(Wo,e=>e.pageSize),fH=Ot(Wo,gf,(e,t)=>lH(t,e.pageSize,e.page)),ER=Ur(dH,Wo,Ho,cm,au,rH,(e,t,r,n,o,i)=>{if(!e)return null;const s=i.length,a=Math.min(t.pageSize*t.page,s-1),c=t.pageSize===cDe?s-1:Math.min(a+t.pageSize-1,s-1);if(a===-1||c===-1)return null;if(n<2)return{firstRowIndex:a,lastRowIndex:c};const d=i[a],h=c-a+1,f=o.findIndex(y=>y.id===d.id);let g=f,m=0;for(;g<o.length&&m<=h;){const y=o[g],b=r[y.id]?.depth;b===void 0?g+=1:((m<h||b>0)&&(g+=1),b===0&&(m+=1))}return{firstRowIndex:f,lastRowIndex:g-1}}),dDe=Ur(au,ER,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),pH=Ur($d,ER,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),wm=Ur(dH,ER,dDe,au,(e,t,r,n)=>e?{rows:r,range:t,rowIdToIndexMap:r.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}:{rows:n,range:n.length===0?null:{firstRowIndex:0,lastRowIndex:n.length-1},rowIdToIndexMap:n.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}),hDe=["field","colDef"],fDe=e=>{const{classes:t}=e;return ht({root:["checkboxInput"]},Cr,t)},pDe=Zt(function(t,r){const n=pt(t,hDe),[,o]=_.useState(!1),i=dr(),s=yt(),a={classes:s.classes},c=fDe(a),d=et(i,aH),h=et(i,Ra),f=et(i,$d),g=et(i,pH),m=_.useMemo(()=>{const N=s.isRowSelectable;if(typeof N!="function"||h.type==="exclude")return h;const P={type:"include",ids:new Set};for(const L of h.ids)s.keepNonExistentRowsSelected&&P.ids.add(L),i.current.getRow(L)&&N(i.current.getRowParams(L))&&P.ids.add(L);return P},[i,s.isRowSelectable,s.keepNonExistentRowsSelected,h]),y=_.useMemo(()=>{const N=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?f:g,P=new Set;for(let L=0;L<N.length;L+=1){const D=N[L];i.current.getRow(D)&&i.current.isRowSelectable(D)&&P.add(D)}return P},[i,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,g,f]),b=_.useMemo(()=>{const N=ou(m);let P=0;for(const L of y)N.has(L)&&(P+=1);return P},[m,y]),v=_.useMemo(()=>{if(b===0)return!1;const N=ou(m);for(const P of y)if(!N.has(P))return!0;return!1},[b,m,y]),C=b>0,E=N=>{const P={value:N.target.checked};i.current.publishEvent("headerSelectionCheckboxChange",P)},T=d!==null&&d.field===t.field?0:-1;_.useLayoutEffect(()=>{const N=i.current.getColumnHeaderElement(t.field);T===0&&N&&(N.tabIndex=-1)},[T,i,t.field]);const R=_.useCallback(N=>{N.key===" "&&i.current.publishEvent("headerSelectionCheckboxChange",{value:!C})},[i,C]),M=_.useCallback(()=>{o(N=>!N)},[]);_.useEffect(()=>i.current.subscribeEvent("rowSelectionChange",M),[i,M]);const I=i.current.getLocaleText(C&&!v?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return x.jsx(s.slots.baseCheckbox,H({indeterminate:v,checked:C&&!v,onChange:E,className:c.root,slotProps:{htmlInput:{"aria-label":I,name:"select_all_rows"}},tabIndex:T,onKeyDown:R,disabled:!xR(s)},s.slotProps?.baseCheckbox,n,{ref:r}))}),mf=kn((e,t)=>Fd in t?t[Fd]:e.props.getRowId?e.props.getRowId(t):t.id),Ia="__check__",vf=H({},ZG,{type:"custom",field:Ia,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,r,n)=>{const o=mf(n,t);return n.current.isRowSelected(o)},rowSpanValueGetter:(e,t,r,n)=>mf(n,t),renderHeader:e=>x.jsx(pDe,H({},e)),renderCell:e=>x.jsx(nDe,H({},e))}),gDe=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function gH(e,t){if(e==null)return"";const r=new Date(e);return Number.isNaN(r.getTime())?"":t==="date"?r.toISOString().substring(0,10):t==="datetime-local"?(r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().substring(0,19)):r.toISOString().substring(0,10)}function yf(e){const{item:t,applyValue:r,type:n,apiRef:o,focusElementRef:i,slotProps:s,headerFilterMenu:a,clearButton:c,tabIndex:d,disabled:h}=e,f=pt(e,gDe),g=s?.root.slotProps,m=Fi(),[y,b]=_.useState(()=>gH(t.value,n)),[v,C]=_.useState(!1),E=kr(),T=yt(),R=_.useCallback(M=>{m.clear();const I=M.target.value;b(I),C(!0),m.start(T.filterDebounceMs,()=>{const N=new Date(I);r(H({},t,{value:Number.isNaN(N.getTime())?void 0:N})),C(!1)})},[r,t,T.filterDebounceMs,m]);return _.useEffect(()=>{const M=gH(t.value,n);b(M)},[t.value,n]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,H({fullWidth:!0,id:E,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:R,type:n||"text",disabled:h,inputRef:i,slotProps:H({},g,{input:H({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.input),htmlInput:H({max:n==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:d},g?.htmlInput)})},T.slotProps?.baseTextField,f,s?.root)),a,c]})}function bf(e,t,r,n){if(!e.value)return null;const o=new Date(e.value);r?o.setSeconds(0,0):(o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),o.setHours(0,0,0,0));const i=o.getTime();return s=>{if(!s)return!1;if(n)return t(s.getTime(),i);const a=new Date(s);return r?a.setSeconds(0,0):a.setHours(0,0,0,0),t(a.getTime(),i)}}const mH=e=>[{value:"is",getApplyFilterFn:t=>bf(t,(r,n)=>r===n,e),InputComponent:yf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>bf(t,(r,n)=>r!==n,e),InputComponent:yf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>bf(t,(r,n)=>r>n,e),InputComponent:yf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>bf(t,(r,n)=>r>=n,e),InputComponent:yf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>bf(t,(r,n)=>r<n,e,!e),InputComponent:yf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>bf(t,(r,n)=>r<=n,e),InputComponent:yf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],mDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],vDe=we(hl)({fontSize:"inherit"}),yDe=e=>{const{classes:t}=e;return ht({root:["editInputCell"]},Cr,t)};function bDe(e){const{id:t,value:r,field:n,colDef:o,hasFocus:i,onValueChange:s,slotProps:a}=e,c=pt(e,mDe),d=o.type==="dateTime",h=dr(),f=_.useRef(null),g=_.useMemo(()=>{let R;r==null?R=null:r instanceof Date?R=r:R=new Date((r??"").toString());let M;return R==null||Number.isNaN(R.getTime())?M="":M=new Date(R.getTime()-R.getTimezoneOffset()*60*1e3).toISOString().substr(0,d?16:10),{parsed:R,formatted:M}},[r,d]),[m,y]=_.useState(g),b=yt(),v={classes:b.classes},C=yDe(v),E=_.useCallback(R=>{if(R==="")return null;const[M,I]=R.split("T"),[N,P,L]=M.split("-"),D=new Date;if(D.setFullYear(Number(N),Number(P)-1,Number(L)),D.setHours(0,0,0,0),I){const[$,B]=I.split(":");D.setHours(Number($),Number(B),0,0)}return D},[]),T=_.useCallback(async R=>{const M=R.target.value,I=E(M);s&&await s(R,I),y({parsed:I,formatted:M}),h.current.setEditCellValue({id:t,field:n,value:I},R)},[h,n,t,s,E]);return _.useEffect(()=>{y(R=>g.parsed!==R.parsed&&g.parsed?.getTime()!==R.parsed?.getTime()?g:R)},[g]),zr(()=>{i&&f.current.focus()},[i]),x.jsx(vDe,H({as:b.slots.baseInput,inputRef:f,fullWidth:!0,className:C.root,type:d?"datetime-local":"date",value:m.formatted,onChange:T},c,a?.root,{slotProps:{htmlInput:H({max:d?"9999-12-31T23:59":"9999-12-31"},a?.root?.slotProps?.htmlInput)}}))}const vH=e=>x.jsx(bDe,H({},e));function yH({value:e,columnType:t,rowId:r,field:n}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${r}, field: "${n}".`].join(`
`))}const wDe=(e,t,r,n)=>{if(!e)return"";const o=mf(n,t);return hG(t)&&!(e instanceof Date)?e:(yH({value:e,columnType:"date",rowId:o,field:r.field}),e.toLocaleDateString())},SDe=(e,t,r,n)=>{if(!e)return"";const o=mf(n,t);return hG(t)&&!(e instanceof Date)?e:(yH({value:e,columnType:"dateTime",rowId:o,field:r.field}),e.toLocaleString())},CDe=H({},Oa,{type:"date",sortComparator:EG,valueFormatter:wDe,filterOperators:mH(),renderEditCell:vH,pastedValueParser:e=>new Date(e)}),xDe=H({},Oa,{type:"dateTime",sortComparator:EG,valueFormatter:SDe,filterOperators:mH(!0),renderEditCell:vH,pastedValueParser:e=>new Date(e)}),lu=e=>e==null?null:Number(e),_De=e=>e==null||Number.isNaN(e)||e===""?null:t=>lu(t)===lu(e),EDe=H({},Oa,{type:"number",align:"right",headerAlign:"right",sortComparator:_G,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>nke(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>lu(t)===e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>lu(t)!==e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:lu(t)>e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:lu(t)>=e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:lu(t)<e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:lu(t)<=e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:MG,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:_De});function Sm(e){return e?.type==="singleSelect"}function zd(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(H({field:e.field},t)):e.valueOptions}function Yw(e,t,r){if(t===void 0)return;const n=t.find(o=>{const i=r(o);return String(i)===String(e)});return r(n)}const TDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function MDe(e){return"key"in e&&!!e.key}function bH(e){const t=yt(),{id:r,value:n,field:o,row:i,colDef:s,hasFocus:a,error:c,onValueChange:d,initialOpen:h=t.editMode===fl.Cell,slotProps:f}=e,g=pt(e,TDe),m=dr(),y=_.useRef(null),b=_.useRef(null),[v,C]=_.useState(h),T=(t.slotProps?.baseSelect||{}).native??!1;if(zr(()=>{a&&b.current?.focus()},[a]),!Sm(s))return null;const R=zd(s,{id:r,row:i});if(!R)return null;const M=s.getOptionValue,I=s.getOptionLabel,N=async D=>{if(!Sm(s)||!R)return;C(!1);const $=D.target,B=Yw($.value,R,M);d&&await d(D,B),await m.current.setEditCellValue({id:r,field:o,value:B},D)},P=(D,$)=>{if(t.editMode===fl.Row){C(!1);return}if($==="backdropClick"||D.key==="Escape"){const B=m.current.getCellParams(r,o);m.current.publishEvent("cellEditStop",H({},B,{reason:D.key==="Escape"?Xs.escapeKeyDown:Xs.cellFocusOut}))}},L=D=>{MDe(D)&&D.key==="Enter"||C(!0)};return!R||!s?null:x.jsx(t.slots.baseSelect,H({ref:y,value:n,onChange:N,open:v,onOpen:L,onClose:P,error:c,native:T,fullWidth:!0,slotProps:{htmlInput:{ref:b}}},g,f?.root,t.slotProps?.baseSelect,{children:R.map(D=>{const $=M(D);return _.createElement(t.slots.baseSelectOption,H({},t.slotProps?.baseSelectOption||{},{native:T,key:$,value:$}),I(D))})}))}const ODe=e=>x.jsx(bH,H({},e)),RDe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],IDe=({column:e,OptionComponent:t,getOptionLabel:r,getOptionValue:n,isSelectNative:o,baseSelectOptionProps:i})=>["",...zd(e)||[]].map(a=>{const c=n(a);let d=r(a);return d===""&&(d=" "),_.createElement(t,H({},i,{native:o,key:c,value:c}),d)});function wH(e){const{item:t,applyValue:r,type:n,apiRef:o,focusElementRef:i,tabIndex:s,clearButton:a,headerFilterMenu:c,slotProps:d}=e,h=pt(e,RDe),f=t.value??"",g=kr(),m=kr(),y=yt(),b=y.slotProps?.baseSelect?.native??!1,v=o.current.getColumn(t.field),C=v.getOptionValue,E=v.getOptionLabel,T=_.useMemo(()=>zd(v),[v]),R=_.useCallback(I=>{let N=I.target.value;N=Yw(N,T,C),r(H({},t,{value:N}))},[T,C,r,t]);if(!v||!Sm(v))return null;const M=d?.root.label??o.current.getLocaleText("filterPanelInputLabel");return x.jsxs(_.Fragment,{children:[x.jsx(y.slots.baseSelect,H({fullWidth:!0,id:g,label:M,labelId:m,value:f,onChange:R,slotProps:{htmlInput:H({tabIndex:s,ref:i,type:n||"text",placeholder:d?.root.placeholder??o.current.getLocaleText("filterPanelInputPlaceholder")},d?.root.slotProps?.htmlInput)},native:b},y.slotProps?.baseSelect,h,d?.root,{children:IDe({column:v,OptionComponent:y.slots.baseSelectOption,getOptionLabel:E,getOptionValue:C,isSelectNative:b,baseSelectOptionProps:y.slotProps?.baseSelectOption})})),c,a]})}const PDe=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function kDe(e){const{item:t,applyValue:r,type:n,apiRef:o,focusElementRef:i,slotProps:s}=e,a=pt(e,PDe),c=kr(),d=yt(),h=o.current.getColumn(t.field),f=h.getOptionValue,g=h.getOptionLabel,m=_.useCallback((E,T)=>f(E)===f(T),[f]),y=_.useMemo(()=>zd(h)||[],[h]),b=_.useMemo(()=>Array.isArray(t.value)?t.value.reduce((E,T)=>{const R=y.find(M=>f(M)===T);return R!=null&&E.push(R),E},[]):[],[f,t.value,y]),v=_.useCallback((E,T)=>{r(H({},t,{value:T.map(f)}))},[r,t,f]);if(!h||!Sm(h))return null;const C=d.slots.baseAutocomplete;return x.jsx(C,H({multiple:!0,options:y,isOptionEqualToValue:m,id:c,value:b,onChange:v,getOptionLabel:g,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:n||"text",inputRef:i}}},a,s?.root))}const wf=e=>e==null||!pR(e)?e:e.value,DDe=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>wf(t)===wf(e.value),InputComponent:wH},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>wf(t)!==wf(e.value),InputComponent:wH},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(wf);return r=>t.includes(wf(r))},InputComponent:kDe}],ADe=e=>typeof e[0]=="object",LDe=H({},Oa,{type:"singleSelect",getOptionLabel:e=>pR(e)?e.label:String(e),getOptionValue:e=>pR(e)?e.value:e,valueFormatter(e,t,r,n){const o=mf(n,t);if(!Sm(r))return"";const i=zd(r,{id:o,row:t});if(e==null)return"";if(!i)return e;if(!ADe(i))return r.getOptionLabel(e);const s=i.find(a=>r.getOptionValue(a)===e);return s?r.getOptionLabel(s):""},renderEditCell:ODe,filterOperators:DDe(),pastedValueParser:(e,t,r)=>{const n=r,o=zd(n)||[],i=n.getOptionValue;if(o.find(a=>i(a)===e))return e}}),NDe="string",BDe=()=>({string:Oa,number:EDe,date:CDe,dateTime:xDe,boolean:ZG,singleSelect:LDe,[$w]:Dke,custom:Oa}),TR=kn(e=>e.headerFiltering),FDe=Ot(TR,e=>e?.enabled??!1),jDe=Ot(TR,e=>e.editing),VDe=Ot(TR,e=>e.menuOpen),Xw=kn(e=>e.columnGrouping),SH=Ur(Xw,e=>e?.unwrappedGroupingModel??{}),CH=Ur(Xw,e=>e?.lookup??{}),$De=Ur(Xw,e=>e?.headerStructure??[]),Cm=Ot(Xw,e=>e?.maxDepth??0),xH=["maxWidth","minWidth","width","flex"],MR=BDe();function zDe({initialFreeSpace:e,totalFlexUnits:t,flexColumns:r}){const n=new Set(r.map(s=>s.field)),o={all:{},frozenFields:[],freeze:s=>{const a=o.all[s];a&&a.frozen!==!0&&(o.all[s].frozen=!0,o.frozenFields.push(s))}};function i(){if(o.frozenFields.length===n.size)return;const s={min:{},max:{}};let a=e,c=t,d=0;o.frozenFields.forEach(h=>{a-=o.all[h].computedWidth,c-=o.all[h].flex});for(let h=0;h<r.length;h+=1){const f=r[h];if(o.all[f.field]&&o.all[f.field].frozen===!0)continue;let m=a/c*f.flex;m<f.minWidth?(d+=f.minWidth-m,m=f.minWidth,s.min[f.field]=!0):m>f.maxWidth&&(d+=f.maxWidth-m,m=f.maxWidth,s.max[f.field]=!0),o.all[f.field]={frozen:!1,computedWidth:m,flex:f.flex}}d<0?Object.keys(s.max).forEach(h=>{o.freeze(h)}):d>0?Object.keys(s.min).forEach(h=>{o.freeze(h)}):r.forEach(({field:h})=>{o.freeze(h)}),i()}return i(),o.all}const OR=(e,t)=>{const r={};let n=0,o=0;const i=[];e.orderedFields.forEach(c=>{let d=e.lookup[c],h=0,f=!1;e.columnVisibilityModel[c]!==!1&&(d.flex&&d.flex>0?(n+=d.flex,f=!0):h=jd(d.width||Oa.width,d.minWidth||Oa.minWidth,d.maxWidth||Oa.maxWidth),o+=h),d.computedWidth!==h&&(d=H({},d,{computedWidth:h})),f&&i.push(d),r[c]=d});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),a=Math.max(s-o,0);if(n>0&&s>0){const c=zDe({initialFreeSpace:a,totalFlexUnits:n,flexColumns:i});Object.keys(c).forEach(d=>{r[d]=H({},r[d],{computedWidth:c[d].computedWidth})})}return H({},e,{lookup:r})},UDe=(e,t)=>{if(!t)return e;const{orderedFields:r=[],dimensions:n={}}=t,o=Object.keys(n);if(o.length===0&&r.length===0)return e;const i={},s=[];for(let h=0;h<r.length;h+=1){const f=r[h];e.lookup[f]&&(i[f]=!0,s.push(f))}const a=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(h=>!i[h])],c=H({},e.lookup);for(let h=0;h<o.length;h+=1){const f=o[h],g=H({},c[f],{hasBeenResized:!0});Object.entries(n[f]).forEach(([m,y])=>{g[m]=y===-1?1/0:y}),c[f]=g}return H({},e,{orderedFields:a,lookup:c})};function RR(e){let t=MR[NDe];return e&&MR[e]&&(t=MR[e]),t}const Sf=({apiRef:e,columnsToUpsert:t,initialState:r,columnVisibilityModel:n=Qs(e),keepOnlyColumnsToUpsert:o=!1,updateInitialVisibilityModel:i=!1})=>{const s=!e.current.state.columns;let a;if(s)a={orderedFields:[],lookup:{},columnVisibilityModel:n,initialColumnVisibilityModel:n};else{const f=Ma(e);a={orderedFields:o?[]:[...f.orderedFields],lookup:H({},f.lookup),columnVisibilityModel:n,initialColumnVisibilityModel:i?n:f.initialColumnVisibilityModel}}const c={};if(o&&!s)for(const f in a.lookup)Object.prototype.hasOwnProperty.call(a.lookup,f)&&(c[f]=!1);t.forEach(f=>{const{field:g}=f;c[g]=!0;let m=a.lookup[g];m==null?(m=H({},RR(f.type),{field:g,hasBeenResized:!1}),a.orderedFields.push(g)):o&&a.orderedFields.push(g),m&&m.type!==f.type&&(m=H({},RR(f.type),{field:g}));let y=m.hasBeenResized;xH.forEach(b=>{f[b]!==void 0&&(y=!0,f[b]===-1&&(f[b]=1/0))}),a.lookup[g]=wd(m,H({},RR(f.type),f,{hasBeenResized:y}))}),o&&!s&&Object.keys(a.lookup).forEach(f=>{c[f]||delete a.lookup[f]});const d=e.current.unstable_applyPipeProcessors("hydrateColumns",a),h=UDe(d,r);return OR(h,e.current.getRootDimensions?.()??void 0)};function xm(e,t){if(t.listView)return 0;const r=dm(e),n=Cm(e),o=FDe(e),i=Math.floor(t.columnHeaderHeight*r),s=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*r),a=o?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*r):0;return i+s*n+a}const Zw=1,_H=1.5,GDe=e=>{const{scrollDirection:t,classes:r}=e,n={root:["scrollArea",`scrollArea--${t}`]};return ht(n,Cr,r)},HDe=Fr("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${ie["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${ie["scrollArea--right"]}`]:t["scrollArea--right"]},{[`&.${ie["scrollArea--up"]}`]:t["scrollArea--up"]},{[`&.${ie["scrollArea--down"]}`]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${ie["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${ie["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${ie["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${ie["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),WDe=Ot(Qn,(e,t)=>t==="left"?e.leftPinnedWidth:t==="right"?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function KDe(e){const t=dr(),[r,n]=_.useState("none");return Tt(t,"columnHeaderDragStart",()=>n("horizontal")),Tt(t,"columnHeaderDragEnd",()=>n("none")),Tt(t,"rowDragStart",()=>n("vertical")),Tt(t,"rowDragEnd",()=>n("none")),r==="none"?null:r==="horizontal"?x.jsx(qDe,H({},e)):x.jsx(YDe,H({},e))}function qDe(e){const{scrollDirection:t,scrollPosition:r}=e,n=_.useRef(null),o=dr(),i=Fi(),s=et(o,dm),a=et(o,lR),c=et(o,WDe,t),d=()=>{const b=Qn(o);if(t==="left")return r.current.left>0;if(t==="right"){const v=a-b.viewportInnerSize.width;return r.current.left<v}return!1},h=yt(),f=xm(o,h),g=Math.floor(h.columnHeaderHeight*s),m=H({height:g,top:f-g},t==="left"?{left:c}:{},t==="right"?{right:c}:{}),y=$t(b=>{let v;if(b.preventDefault(),t==="left")v=b.clientX-n.current.getBoundingClientRect().right;else if(t==="right")v=Math.max(1,b.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");v=(v-Zw)*_H+Zw,i.start(0,()=>{o.current.scroll({left:r.current.left+v,top:r.current.top})})});return x.jsx(EH,H({},e,{ref:n,getCanScrollMore:d,style:m,handleDragOver:y}))}function YDe(e){const{scrollDirection:t,scrollPosition:r}=e,n=_.useRef(null),o=dr(),i=Fi(),s=et(o,cR),a=()=>{const g=Qn(o);if(t==="up")return r.current.top>0;if(t==="down"){const y=(s.currentPageTotalHeight||0)-g.viewportInnerSize.height-(g.hasScrollX?g.scrollbarSize:0);return r.current.top<y}return!1},c=yt(),d=xm(o,c),h={top:t==="up"?d:void 0,bottom:t==="down"?0:void 0},f=$t(g=>{let m;if(g.preventDefault(),t==="up")m=g.clientY-n.current.getBoundingClientRect().bottom;else if(t==="down")m=Math.max(1,g.clientY-n.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");m=(m-Zw)*_H+Zw,i.start(0,()=>{o.current.scroll({left:r.current.left,top:r.current.top+m})})});return x.jsx(EH,H({},e,{ref:n,getCanScrollMore:a,style:h,handleDragOver:f}))}const EH=Zt(function(t,r){const{scrollDirection:n,getCanScrollMore:o,style:i,handleDragOver:s}=t,a=dr(),[c,d]=_.useState(o),h=yt(),f=H({},h,{scrollDirection:n}),g=GDe(f);return Tt(a,"scrollPositionChange",()=>{d(o)}),c?x.jsx(HDe,{ref:r,className:g.root,ownerState:f,onDragOver:s,style:i}):null}),Qw=ec(KDe),TH=_.createContext(void 0);function us(){const e=_.useContext(TH);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const XDe=()=>{},ZDe=(e,t)=>{const r=_.useRef(!1);zr(()=>r.current||!e?XDe:(r.current=!0,t()),[r.current||e])};function wr(e,t,r){const n=_.useRef(!0);zr(()=>{n.current=!1,e.current.register(r,t)},[e,r,t]),n.current&&e.current.register(r,t)}function Ko(e,t){const r=_.useRef(null);if(r.current)return r.current;const n=e.current.getLogger(t);return r.current=n,n}const MH=(e,t,r,n,o)=>{const i=Ko(e,"useNativeEventListener");cn(e,"rootMount",()=>{const s=t();if(!(!s||!r))return i.debug(`Binding native ${r} event`),s.addEventListener(r,n,o),()=>{i.debug(`Clearing native ${r} event`),s.removeEventListener(r,n,o)}})};function Ud(e){const t=_.useRef(!0);t.current&&(t.current=!1,e())}const QDe=Fr("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"&&e!=="right"})(({overlayType:e,loadingOverlayVariant:t,right:r})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${r}px`,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),JDe=Fr("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"})({}),eAe=e=>{const{classes:t}=e;return ht({root:["overlayWrapper"],inner:["overlayWrapperInner"]},Cr,t)};function tAe(e){const t=dr(),r=yt(),n=et(t,Qn);let o=Math.max(n.viewportOuterSize.height-n.topContainerHeight-n.bottomContainerHeight-(n.hasScrollX?n.scrollbarSize:0),0);o===0&&(o=pG);const i=eAe(H({},e,{classes:r.classes}));return x.jsx(QDe,H({className:i.root},e,{right:n.columnsTotalWidth-n.viewportOuterSize.width,children:x.jsx(JDe,H({className:i.inner,style:{height:o,width:n.viewportOuterSize.width}},e))}))}const OH=kn(e=>e.pivoting),Gd=Ot(OH,e=>e?.active),rAe=new Map,RH=Ot(OH,e=>e?.initialColumns||rAe),nAe=()=>{const e=dr(),t=yt(),r=et(e,uf),n=et(e,wR),o=et(e,cG),i=et(e,Jn),s=r===0&&o===0,a=et(e,EPe),c=et(e,Gd),d=!a&&s,h=!a&&r>0&&n===0,f=!a&&i.length===0,g=d&&c;let m=null,y=null;d&&(m="noRowsOverlay"),f&&(m="noColumnsOverlay"),g&&(m="emptyPivotOverlay"),h&&(m="noResultsOverlay"),a&&(m="loadingOverlay",y=t.slotProps?.loadingOverlay?.[s?"noRowsVariant":"variant"]??(s?"skeleton":"linear-progress"));const b={overlayType:m,loadingOverlayVariant:y};return{getOverlay:()=>{if(!m)return null;const C=t.slots?.[m],E=t.slotProps?.[m];return x.jsx(tAe,H({},b,{children:x.jsx(C,H({},E))}))},overlaysProps:b}},Jw=kn(e=>e.columnMenu);function oAe(){const e=us(),t=yt(),r=et(e,Jn),n=et(e,Zke),o=et(e,Yke),i=et(e,aH),s=et(e,()=>_R(e)===null),a=et(e,iDe),c=et(e,oDe),d=et(e,Kw),h=et(e,Cm),f=et(e,Jw),g=et(e,Qs),m=et(e,$De),y=!(a===null&&i===null&&s),b=e.current.columnHeadersContainerRef;return x.jsx(t.slots.columnHeaders,H({ref:b,visibleColumns:r,filterColumnLookup:n,sortColumnLookup:o,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y},t.slotProps?.columnHeaders))}const iAe=ec(oAe),sAe=Fr("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),aAe=Fr("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:r,loadingOverlayVariant:n,overlayType:o}=e,i=n==="skeleton"||o==="noColumnsOverlay";return[t.main,r.hasPinnedRight&&t["main--hasPinnedRight"],i&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),lAe=Zt((e,t)=>{const{ownerState:r}=e,n=yt(),i=jw().hooks.useGridAriaAttributes();return x.jsxs(aAe,H({ownerState:r,className:e.className,tabIndex:-1},i,n.slotProps?.main,{ref:t,children:[x.jsx(sAe,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),cAe=()=>ht({root:["topContainer"]},Cr,{}),uAe=Fr("div")({position:"sticky",zIndex:40,top:0});function dAe(e){const t=cAe();return x.jsx(uAe,H({},e,{className:Ke(t.root,ie["container--top"]),role:"presentation"}))}const hAe=(e,t)=>{const{classes:r}=e;return ht({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},Cr,r)},fAe=Fr("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.virtualScrollerContent,r.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),pAe=Zt(function(t,r){const n=yt(),o=!n.autoHeight&&t.style?.minHeight==="auto",i=hAe(n,o),s={classes:n.classes,overflowedContent:o};return x.jsx(fAe,H({},t,{ownerState:s,className:Ke(i.root,t.className),ref:r}))}),gAe=Fr("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),IH=Fr("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:wt.cell.background.pinned}),mAe=Fr(IH)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),vAe=Fr(IH)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),yAe=Fr("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function bAe({rowsLength:e}){const t=dr(),{viewportOuterSize:r,minimumSize:n,hasScrollX:o,hasScrollY:i,scrollbarSize:s,leftPinnedWidth:a,rightPinnedWidth:c}=et(t,Qn),d=o?s:0,h=r.height-n.height>0;return d===0&&!h?null:x.jsxs(gAe,{className:ie.filler,role:"presentation",style:{height:d,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&x.jsx(mAe,{className:ie["filler--pinnedLeft"],style:{width:a}}),x.jsx(yAe,{}),c>0&&x.jsx(vAe,{className:ie["filler--pinnedRight"],style:{width:c+(i?s:0)}})]})}const wAe=ec(bAe),SAe=["className"],CAe=e=>{const{classes:t}=e;return ht({root:["virtualScrollerRenderZone"]},Cr,t)},xAe=Fr("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),_Ae=Zt(function(t,r){const{className:n}=t,o=pt(t,SAe),i=us(),s=yt(),a=CAe(s),c=i.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return x.jsx(xAe,H({className:Ke(a.root,n),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},o,{ref:r}))}),EAe={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},Lo=kn(e=>e.editRows),PH=Ot(Lo,(e,{rowId:t,editMode:r})=>r===fl.Row&&!!e[t]),TAe=Ot(Lo,(e,{rowId:t,field:r})=>e[t]?.[r]??null),Hd=kn(e=>e.preferencePanel),MAe=Ot(Hd,(e,t)=>!!(e.open&&e.labelId===t));var Mi=(function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e})(Mi||{});const OAe={initialize:RAe,use:IAe,selectors:{}};function RAe(e){return{colspanMap:new Map}}function IAe(e,t,r){const n=t.colspan?.getColspan,o=()=>{e.state.colspanMap=new Map},i=(a,c)=>e.state.colspanMap.get(a)?.[c],s=$t(n?(a,c,d,h)=>{for(let f=c;f<d;f+=1){const g=PAe(e.state.colspanMap,f,a,c,d,h,n);g.colSpan>1&&(f+=g.colSpan-1)}}:()=>{});return r.calculateColSpan=s,{resetColSpan:o,getCellColSpanInfo:i,calculateColSpan:s}}function PAe(e,t,r,n,o,i,s){const a=i.length,c=i[t],d=s(r,c,t);if(!d||d===1)return IR(e,r,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let h=c.computedWidth;for(let f=1;f<d;f+=1){const g=t+f;if(g>=n&&g<o){const m=i[g];h+=m.computedWidth,IR(e,r,t+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+d,a-1),leftVisibleCellIndex:t})}IR(e,r,t,{spannedByColSpan:!1,cellProps:{colSpan:d,width:h}})}return{colSpan:d}}function IR(e,t,r,n){let o=e.get(t);o||(o={},e.set(t,o)),o[r]=n}function kAe(e,t=166){let r,n;const o=()=>{r=void 0,e(...n)};function i(...s){n=s,r===void 0&&(r=setTimeout(o,t))}return i.clear=()=>{clearTimeout(r),r=void 0},i}function ea(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(!ea(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const s=o[i];if(!ea(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=r.length;if(n!==Object.keys(t).length)return!1;for(let o=0;o<n;o+=1)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;for(let o=0;o<n;o+=1){const i=r[o];if(!ea(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Wd(e,t){return Math.round(e*10**t)/10**t}const nc={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},DAe={EMPTY:{top:[],bottom:[]}},AAe={EMPTY:{left:[],right:[]}};let oo=(function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e})({});(function(e){function t(r,n){return r===0&&n===0?oo.NONE:Math.abs(n)>=Math.abs(r)?n>0?oo.DOWN:oo.UP:r>0?oo.RIGHT:oo.LEFT}e.forDelta=t})(oo||(oo={}));const LAe={isReady:!1,root:nc.EMPTY,viewportOuterSize:nc.EMPTY,viewportInnerSize:nc.EMPTY,contentSize:nc.EMPTY,minimumSize:nc.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},Cf={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:af((e,t)=>{const r=[];let n=0;for(let o=0;o<t.length;o+=1)r.push(n),n+=t[o].computedWidth;return r}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},Gi={initialize:NAe,use:BAe,selectors:Cf};function NAe(e){const t=H({},LAe,e.dimensions),{rowCount:r}=e,{rowHeight:n}=t,o={currentPageTotalHeight:r*n,positions:Array.from({length:r},(s,a)=>a*n),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},i=new Map;return{rootSize:nc.EMPTY,dimensions:t,rowsMeta:o,rowHeights:i}}function BAe(e,t,r){const n=_.useRef(!0),{refs:o,dimensions:{rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topPinnedHeight:d,bottomPinnedHeight:h},onResize:f}=t,g=o.container.current,m=_.useCallback(()=>{if(n.current)return;const T=Cf.rootSize(e.state),R=Cf.rowsMeta(e.state),M=VAe(g,t.dimensions.scrollbarSize),I=d+R.pinnedTopRowsTotalHeight,N=h+R.pinnedBottomRowsTotalHeight,P={width:s,height:Wd(R.currentPageTotalHeight,1)};let L,D,$=!1,B=!1;if(t.autoHeight)B=!1,$=Math.round(s)>Math.round(T.width),L={width:T.width,height:I+N+P.height},D={width:Math.max(0,L.width-(B?M:0)),height:Math.max(0,L.height-($?M:0))};else{L={width:T.width,height:T.height},D={width:Math.max(0,L.width),height:Math.max(0,L.height-I-N)};const Y=P,Q=D,re=Y.width>Q.width,z=Y.height>Q.height;(re||z)&&(B=z,$=Y.width+(B?M:0)>Q.width,$&&(B=Y.height+M>Q.height)),B&&(D.width-=M),$&&(D.height-=M)}const U=Math.max(L.width,s+(B?M:0)),q={width:s,height:I+P.height+N},W={isReady:!0,root:T,viewportOuterSize:L,viewportInnerSize:D,contentSize:P,minimumSize:q,hasScrollX:$,hasScrollY:B,scrollbarSize:M,rowWidth:U,rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topContainerHeight:I,bottomContainerHeight:N},V=e.state.dimensions;ea(V,W)||(e.update({dimensions:W}),f?.(W.root))},[e,g,t.dimensions.scrollbarSize,t.autoHeight,f,i,s,a,c,d,h]),{resizeThrottleMs:y}=t,b=$t(m),v=_.useMemo(()=>y>0?kAe(b,y):void 0,[y,b]);_.useEffect(()=>v?.clear,[v]);const C=$t(T=>{e.state.rootSize=T,n.current||!v?(n.current=!1,m()):v()});zr(()=>jAe(g,e,C),[g,e,C]),zr(m,[m]);const E=FAe(e,t,m);return{updateDimensions:m,debouncedUpdateDimensions:v,rowsMeta:E}}function FAe(e,t,r){const n=e.state.rowHeights,{rows:o,getRowHeight:i,getRowSpacing:s,getEstimatedRowHeight:a}=t,c=_.useRef(-1),d=_.useRef(!1),h=_.useRef(!1),f=t.pinnedRows,g=Wr(e,Cf.rowHeight),m=$t(D=>{let $=n.get(D);return $===void 0&&($={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},n.set(D,$)),$}),{applyRowHeight:y}=t,b=_.useCallback(D=>{const $=Cf.dimensions(e.state),B=$.rowHeight,U=m(D.id);if(!i)U.content=B,U.needsFirstMeasurement=!1;else{const q=i(D);if(q==="auto"){if(U.needsFirstMeasurement){const W=a?a(D):B;U.content=W??B}d.current=!0,U.autoHeight=!0}else U.content=q??$.rowHeight,U.needsFirstMeasurement=!1,U.autoHeight=!1}if(s){const q=s(D);U.spacingTop=q.top??0,U.spacingBottom=q.bottom??0}else U.spacingTop=0,U.spacingBottom=0;return y?.(U,D),U},[e,i,m,a,g,s,y]),v=_.useCallback(()=>{d.current=!1;const D=f?.top.reduce((V,Y)=>{const Q=b(Y);return V+Q.content+Q.spacingTop+Q.spacingBottom+Q.detail},0)??0,$=f?.bottom.reduce((V,Y)=>{const Q=b(Y);return V+Q.content+Q.spacingTop+Q.spacingBottom+Q.detail},0)??0,B=[],U=o.reduce((V,Y)=>{B.push(V);const Q=b(Y),re=Q.content+Q.spacingTop+Q.spacingBottom+Q.detail;return V+re},0);d.current||(c.current=1/0);const q=D!==e.state.rowsMeta.pinnedTopRowsTotalHeight||$!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||U!==e.state.rowsMeta.currentPageTotalHeight,W={currentPageTotalHeight:U,positions:B,pinnedTopRowsTotalHeight:D,pinnedBottomRowsTotalHeight:$};e.set("rowsMeta",W),q&&r(),h.current=!0},[e,f,o,b,r]),C=$t(v),E=D=>n.get(D)?.content??Cf.rowHeight(e.state),T=(D,$)=>{const B=m(D),U=B.content!==$;B.needsFirstMeasurement=!1,B.content=$,h.current&&=!U},R=D=>n.get(D)?.autoHeight??!1,M=()=>c.current,I=D=>{d.current&&D>c.current&&(c.current=D)},N=()=>{n.clear(),v()},P=ss(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(D=>{for(let $=0;$<D.length;$+=1){const B=D[$],U=B.borderBoxSize&&B.borderBoxSize.length>0?B.borderBoxSize[0].blockSize:B.contentRect.height,q=B.target.__mui_id;if(t.focusedVirtualCell?.()?.id===q&&U===0)return;T(q,U)}h.current||requestAnimationFrame(()=>{C()})})).current,L=(D,$)=>(D.__mui_id=$,P?.observe(D),()=>P?.unobserve(D));return zr(()=>{v()},[v]),{getRowHeight:E,setLastMeasuredRowIndex:I,storeRowHeightMeasurement:T,hydrateRowsMeta:v,observeRowHeight:L,rowHasAutoHeight:R,getRowHeightEntry:m,getLastMeasuredRowIndex:M,resetRowHeights:N}}function jAe(e,t,r){if(!e)return;const n=e.getBoundingClientRect(),o={width:Wd(n.width,1),height:Wd(n.height,1)};if((t.state.rootSize===nc.EMPTY||!nc.equals(o,t.state.rootSize))&&r(o),typeof ResizeObserver>"u")return;const i=new ResizeObserver(([s])=>{if(!s)return;const a={width:Wd(s.contentRect.width,1),height:Wd(s.contentRect.height,1)};nc.equals(a,t.state.rootSize)||r(a)});return i.observe(e),()=>{i.disconnect()}}const kH=new WeakMap;function VAe(e,t){if(t!==void 0)return t;if(e===null)return 0;const r=kH.get(e);if(r!==void 0)return r;const o=Xn(e).createElement("div");o.style.width="99px",o.style.height="99px",o.style.position="absolute",o.style.overflow="scroll",o.className="scrollDiv",e.appendChild(o);const i=o.offsetWidth-o.clientWidth;return e.removeChild(o),kH.set(e,i),i}const $Ae=(typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty").includes("firefox"),PR=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),xf=(e,t,r)=>Math.max(t,Math.min(r,e)),kR=50,DH={top:0,left:0},zAe=Object.freeze(new Map),eS={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},tS={renderContext:Nr(e=>e.virtualization.renderContext),enabledForRows:Nr(e=>e.virtualization.enabledForRows),enabledForColumns:Nr(e=>e.virtualization.enabledForColumns)},AH={initialize:UAe,use:GAe,selectors:tS};function UAe(e){return{virtualization:H({enabled:!PR,enabledForRows:!PR,enabledForColumns:!PR,renderContext:eS},e.initialState?.virtualization),getters:null}}function GAe(e,t,r){const{refs:n,dimensions:{rowHeight:o,columnsTotalWidth:i},virtualization:{isRtl:s=!1,rowBufferPx:a=150,columnBufferPx:c=150},colspan:d,initialState:h,rows:f,range:g,columns:m,pinnedRows:y=DAe.EMPTY,pinnedColumns:b=AAe.EMPTY,minimalContentHeight:v,autoHeight:C,onWheel:E,onTouchMove:T,onRenderContextChange:R,onScrollChange:M,scrollReset:I,renderRow:N,renderInfiniteLoadingTrigger:P}=t,L=Wr(e,Gi.selectors.needsHorizontalScrollbar),D=y.bottom.length>0,[$,B]=_.useState(zAe),[,U]=_.useState(0),q=_.useRef(!1),W=Wr(e,tS.renderContext),V=Wr(e,tS.enabledForRows),Y=Wr(e,tS.enabledForColumns),Q=Wr(e,Gi.selectors.rowsMeta),re=Wr(e,Gi.selectors.contentHeight),z=_.useRef(h?.scroll??DH),K=_.useRef(!1),Z=_.useRef(DH),le=_.useRef(eS),ce=Fi(),ue=_.useRef(void 0),ae=ss(()=>KAe(s,a,c,o*15,kR*6)).current,ye=_.useCallback($e=>{FH($e,e.state.virtualization.renderContext)||e.set("virtualization",H({},e.state.virtualization,{renderContext:$e}));const It=Gi.selectors.dimensions(e.state).isReady,mt=$e.firstRowIndex!==le.current.firstRowIndex||$e.lastRowIndex!==le.current.lastRowIndex;It&&mt&&(le.current=$e,R?.($e)),Z.current=z.current},[e,R]),Me=$t(()=>{const $e=n.scroller.current;if(!$e)return;const It=Gi.selectors.dimensions(e.state),mt=Math.ceil(It.minimumSize.height-It.viewportOuterSize.height),Bt=Math.ceil(It.minimumSize.width-It.viewportInnerSize.width),zt={top:xf($e.scrollTop,0,mt),left:s?xf($e.scrollLeft,-Bt,0):xf($e.scrollLeft,0,Bt)},qt=zt.left-z.current.left,tr=zt.top-z.current.top,gt=qt!==0||tr!==0;z.current=zt;const _t=gt?oo.forDelta(qt,tr):oo.NONE,He=Math.abs(z.current.top-Z.current.top),ct=Math.abs(z.current.left-Z.current.left),ut=He>=o||ct>=kR,St=ae.direction!==_t;if(!(ut||St))return W;if(St)switch(_t){case oo.NONE:case oo.LEFT:case oo.RIGHT:ue.current=void 0;break;default:ue.current=W;break}ae.direction=_t,ae.buffer=VH(s,_t,a,c,o*15,kR*6);const At=LH(e,t,r,V,Y),ft=NH(At,z.current,ae);return FH(ft,W)||(hb.flushSync(()=>{ye(ft)}),ce.start(1e3,Me)),ft}),xe=$t(()=>{if(!Gi.selectors.dimensions(e.state).isReady&&(V||Y))return;const $e=LH(e,t,r,V,Y),It=NH($e,z.current,ae);ue.current=void 0,ye(It)}),he=$t(()=>{if(K.current){K.current=!1;return}const $e=Me();$e&&M?.(z.current,$e)}),pe=()=>Q.positions[W.firstRowIndex]??0,Se=($e={},It)=>{if(!$e.rows&&!g)return[];let mt=W;$e.renderContext&&(mt=$e.renderContext,mt.firstColumnIndex=W.firstColumnIndex,mt.lastColumnIndex=W.lastColumnIndex);const Bt=!D&&$e.position===void 0||D&&$e.position==="bottom",zt=$e.position!==void 0;let qt;switch($e.position){case"top":qt=0;break;case"bottom":qt=y.top.length+f.length;break;case void 0:default:qt=y.top.length;break}const tr=$e.rows??f,gt=mt.firstRowIndex,_t=Math.min(mt.lastRowIndex,tr.length),He=$e.rows?$H(0,$e.rows.length):$H(gt,_t);let ct=-1;const ut=t.focusedVirtualCell?.();!zt&&ut&&(ut.rowIndex<gt&&(He.unshift(ut.rowIndex),ct=ut.rowIndex),ut.rowIndex>_t&&(He.push(ut.rowIndex),ct=ut.rowIndex));const St=[],at=Gi.selectors.columnPositions(e.state,m);return He.forEach(At=>{const{id:ft,model:Pt}=tr[At];if(It&&!It[ft])return;const Ir=(g?.firstRowIndex||0)+qt+At;if(d?.enabled){const rr=b.left.length,Or=m.length-b.right.length;r.calculateColSpan(ft,rr,Or,m),b.left.length>0&&r.calculateColSpan(ft,0,b.left.length,m),b.right.length>0&&r.calculateColSpan(ft,m.length-b.right.length,m.length,m)}const Dr=r.rowsMeta.rowHasAutoHeight(ft)?"auto":r.rowsMeta.getRowHeight(ft);let un=!1;$e.position===void 0&&(un=At===0);let xr=!1;const Tn=At===tr.length-1;if(Bt)if(zt)xr=Tn;else{const rr=f.length-1;At===rr&&(xr=!0)}let qr=mt;ue.current&&At>=ue.current.firstRowIndex&&At<ue.current.lastRowIndex&&(qr=ue.current);const Bn=At===ct,Fn=ut?.rowIndex===Ir,sr=jH(at,qr,b.left.length),Ar=Tn&&$e.position==="top",Lt=qr.firstColumnIndex,Ft=qr.lastColumnIndex;if(St.push(N({id:ft,model:Pt,rowIndex:Ir,offsetLeft:sr,columnsTotalWidth:i,baseRowHeight:Dr,firstColumnIndex:Lt,lastColumnIndex:Ft,focusedColumnIndex:Fn?ut.columnIndex:void 0,isFirstVisible:un,isLastVisible:xr,isVirtualFocusRow:Bn,showBottomBorder:Ar})),Bn)return;const nr=$.get(ft);nr&&St.push(nr),$e.position===void 0&&Tn&&St.push(P(ft))}),St},Ee=_.useMemo(()=>({overflowX:L?void 0:"hidden",overflowY:C?"hidden":void 0}),[L,C]),ke=_.useMemo(()=>{const $e={width:L?i:"auto",flexBasis:re,flexShrink:0};return $e.flexBasis===0&&($e.flexBasis=v),$e},[i,re,L,v]),Te=_.useRef(null),Ve=_.useCallback($e=>{$e&&Te.current?.(i,re)},[i,re]);zr(()=>{q.current&&xe()},[Y,V,xe]),zr(()=>{n.scroller.current&&(n.scroller.current.scrollLeft=0)},[n.scroller,I]),ZDe(W!==eS,()=>{if(M?.(z.current,W),q.current=!0,h?.scroll&&n.scroller.current){const $e=n.scroller.current,{top:It,left:mt}=h.scroll,Bt={top:!(It>0),left:!(mt>0)};!Bt.left&&i&&($e.scrollLeft=mt,Bt.left=!0,K.current=!0),!Bt.top&&re&&($e.scrollTop=It,K.current=!0),(!Bt.top||!Bt.left)&&(Te.current=(zt,qt)=>{!Bt.left&&zt&&($e.scrollLeft=mt,Bt.left=!0,K.current=!0),!Bt.top&&qt&&($e.scrollTop=It,Bt.top=!0,K.current=!0),Bt.left&&Bt.top&&(Te.current=null)})}}),Sw(e,Gi.selectors.dimensions,xe);const nt=$e=>It=>{It&&n[$e].current!==It&&(n[$e].current=It,U(mt=>mt+1))},je={setPanels:B,getOffsetTop:pe,getRows:Se,getContainerProps:()=>({ref:nt("container")}),getScrollerProps:()=>({ref:nt("scroller"),onScroll:he,onWheel:E,onTouchMove:T,style:Ee,role:"presentation",tabIndex:$Ae?-1:void 0}),getContentProps:()=>({ref:Ve,style:ke,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:nt("scrollbarVertical"),scrollPosition:z}),getScrollbarHorizontalProps:()=>({ref:nt("scrollbarHorizontal"),scrollPosition:z}),getScrollAreaProps:()=>({scrollPosition:z})};return Ud(()=>{e.state=H({},e.state,{getters:je})}),_.useEffect(()=>{e.update({getters:je})},Object.values(je)),{getters:je,useVirtualization:()=>Wr(e,$e=>$e),setPanels:B,forceUpdateRenderContext:xe,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function LH(e,t,r,n,o){const i=Gi.selectors.dimensions(e.state),s=t.rows,a=t.range,c=t.columns,d=r.getHiddenCellsOrigin(),h=t.rows.at(-1)?.id,f=c.at(-1);return{api:r,enabledForRows:n,enabledForColumns:o,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:i.leftPinnedWidth,columnsTotalWidth:i.columnsTotalWidth,viewportInnerWidth:i.viewportInnerSize.width,viewportInnerHeight:i.viewportInnerSize.height,lastRowHeight:h!==void 0?r.rowsMeta.getRowHeight(h):0,lastColumnWidth:f?.computedWidth??0,rowsMeta:Gi.selectors.rowsMeta(e.state),columnPositions:Gi.selectors.columnPositions(e.state,t.columns),rows:s,range:a,pinnedColumns:t.pinnedColumns,columns:c,hiddenCellsOriginMap:d,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function NH(e,t,r){const n={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:o,left:i}=t,s=Math.abs(i)+e.leftPinnedWidth;if(e.enabledForRows){let c=Math.min(BH(e,o,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const d=e.hiddenCellsOriginMap[c];if(d){const f=Math.min(...Object.values(d));c=Math.min(c,f)}const h=e.autoHeight?c+e.rows.length:BH(e,o+e.viewportInnerHeight);n.firstRowIndex=c,n.lastRowIndex=h}if(e.enabledForColumns){let c=0,d=e.columnPositions.length,h=!1;const[f,g]=DR({firstIndex:n.firstRowIndex,lastIndex:n.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:r.buffer.rowBefore,bufferAfter:r.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let m=f;m<g&&!h;m+=1){const y=e.rows[m];h=e.api.rowsMeta.rowHasAutoHeight(y.id)}(!h||e.virtualizeColumnsWithAutoRowHeight)&&(c=cu(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),d=cu(s+e.viewportInnerWidth,e.columnPositions)),n.firstColumnIndex=c,n.lastColumnIndex=d}return HAe(e,n,r)}function BH(e,t,r){const n=e.api.rowsMeta.getLastMeasuredRowIndex();let o=n===1/0;e.range?.lastRowIndex&&!o&&(o=n>=e.range.lastRowIndex);const i=xf(n-(e.range?.firstRowIndex||0),0,e.rowsMeta.positions.length);return o||e.rowsMeta.positions[i]>=t?cu(t,e.rowsMeta.positions,r):WAe(t,e.rowsMeta.positions,i,r)}function HAe(e,t,r){const[n,o]=DR({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:r.buffer.rowBefore,bufferAfter:r.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[i,s]=DR({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns?.left.length??0,maxLastIndex:e.columns.length-(e.pinnedColumns?.right.length??0),bufferBefore:r.buffer.columnBefore,bufferAfter:r.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),a=qAe({api:e.api,firstColumnToRender:i,firstRowToRender:n,lastRowToRender:o,visibleRows:e.rows});return{firstRowIndex:n,lastRowIndex:o,firstColumnIndex:a,lastColumnIndex:s}}function cu(e,t,r=void 0,n=0,o=t.length){if(t.length<=0)return-1;if(n>=o)return n;const i=n+Math.floor((o-n)/2),s=t[i];let a;if(r?.atStart){const c=(i===t.length-1?r.lastPosition:t[i+1])-s;a=e-c<s}else a=e<=s;return a?cu(e,t,r,n,i):cu(e,t,r,i+1,o)}function WAe(e,t,r,n=void 0){let o=1;for(;r<t.length&&Math.abs(t[r])<e;)r+=o,o*=2;return cu(e,t,n,Math.floor(r/2),Math.min(r,t.length))}function DR({firstIndex:e,lastIndex:t,bufferBefore:r,bufferAfter:n,minFirstIndex:o,maxLastIndex:i,positions:s,lastSize:a}){const c=s[e]-r,d=s[t]+n,h=cu(c,s,{atStart:!0,lastPosition:s[s.length-1]+a}),f=cu(d,s);return[xf(h,o,i),xf(f,o,i)]}function FH(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function jH(e,t,r){const n=(e[t.firstColumnIndex]??0)-(e[r]??0);return Math.abs(n)}function VH(e,t,r,n,o,i){if(e)switch(t){case oo.LEFT:t=oo.RIGHT;break;case oo.RIGHT:t=oo.LEFT;break}switch(t){case oo.NONE:return{rowAfter:r,rowBefore:r,columnAfter:n,columnBefore:n};case oo.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:i};case oo.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:i,columnBefore:0};case oo.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case oo.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function KAe(e,t,r,n,o){return{direction:oo.NONE,buffer:VH(e,oo.NONE,t,r,n,o)}}function $H(e,t){return Array.from({length:t-e}).map((r,n)=>e+n)}function qAe({api:e,firstColumnToRender:t,firstRowToRender:r,lastRowToRender:n,visibleRows:o}){let i=t,s=!1;for(;!s&&i>=0;){s=!0;for(let a=r;a<n;a+=1)if(o[a]){const d=o[a].id,h=e.getCellColSpanInfo(d,i);if(h&&h.spannedByColSpan&&h.leftVisibleCellIndex<i){i=h.leftVisibleCellIndex,s=!1;break}}}return i}const YAe={initialize:XAe,use:ZAe,selectors:{}};function XAe(e){return{}}function ZAe(e,t,r){return{getViewportPageSize:()=>{const o=Gi.selectors.dimensions(e.state);if(!o.isReady)return 0;if(t.getRowHeight){const s=AH.selectors.renderContext(e.state),a=s.lastRowIndex-s.firstRowIndex;return Math.min(a-1,t.rows.length)}const i=Math.floor(o.viewportInnerSize.height/o.rowHeight);return Math.min(i,t.rows.length)}}}const QAe={firstRowIndex:0,lastRowIndex:0},JAe={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},zH={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},_f={initialize:eLe,use:tLe,selectors:zH};function eLe(e){return{rowSpanning:e.initialState?.rowSpanning??{caches:JAe,processedRange:QAe}}}function tLe(e,t,r){return{getHiddenCellsOrigin:()=>zH.hiddenCellsOriginMap(e.state)}}const UH=[Gi,AH,OAe,_f,YAe],rLe=e=>{const t=ss(()=>new em(UH.map(n=>n.initialize(e)).reduce((n,o)=>Object.assign(n,o),{}))).current,r={};for(const n of UH)Object.assign(r,n.use(t,e,r));return{store:t,api:r}},_m=!(typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent)),nLe=(e,t)=>{const{disableVirtualization:r,autoHeight:n}=t;return H({},e,{virtualization:{enabled:!r&&_m,enabledForColumns:!r&&_m,enabledForRows:!r&&!n&&_m,renderContext:eS}})};function oLe(e,t){const{virtualizer:r}=e.current,{autoHeight:n,disableVirtualization:o}=t,i=d=>{d&&=_m,r.store.set("virtualization",H({},r.store.state.virtualization,{enabled:d,enabledForColumns:d,enabledForRows:d&&!n}))};wr(e,{unstable_setVirtualization:i,unstable_setColumnVirtualization:d=>{d&&=_m,r.store.set("virtualization",H({},r.store.state.virtualization,{enabledForColumns:d}))}},"public");const c=r.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:c}),cn(e,"sortedRowsSet",c),cn(e,"paginationModelChange",c),cn(e,"columnsChange",c),_.useEffect(()=>{i(!t.disableVirtualization)},[o,n])}const rS=kn(e=>e.virtualization);Ot(rS,e=>e.enabled);const iLe=Ot(rS,e=>e.enabledForColumns);Ot(rS,e=>e.enabledForRows);const GH=Ot(rS,e=>e.renderContext),sLe=kn(e=>e.virtualization.renderContext.firstColumnIndex),aLe=kn(e=>e.virtualization.renderContext.lastColumnIndex),lLe=Ur(sLe,aLe,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t}));function cLe(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}class uLe{constructor({ttl:t=3e5,getKey:r=cLe}){this.cache={},this.ttl=t,this.getKey=r}set(t,r){const n=this.getKey(t),o=Date.now()+this.ttl;this.cache[n]={value:r,expiry:o}}get(t){const r=this.getKey(t),n=this.cache[r];if(n){if(Date.now()>n.expiry){delete this.cache[r];return}return n.value}}clear(){this.cache={}}}class dLe extends Error{constructor(t){super(t.message),this.name="GridGetRowsError",this.params=t.params,this.cause=t.cause}}class hLe extends Error{constructor(t){super(t.message),this.name="GridUpdateRowError",this.params=t.params,this.cause=t.cause}}const fLe=(e,t)=>{const{classes:r}=e,n={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return ht(n,Cr,r)},HH=Fr("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),pLe=Fr(HH)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),gLe=Fr(HH)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),WH=Zt(function(t,r){const n=us(),o=yt(),i=_.useRef(!1),s=_.useRef(0),a=_.useRef(null),c=_.useRef(null),d=fLe(o,t.position),h=et(n,Qn),f=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",m=t.position==="vertical"?"top":"left",y=t.position==="vertical"?h.hasScrollX:h.hasScrollY,b=h.minimumSize[f]+(y?h.scrollbarSize:0),C=(t.position==="vertical"?h.viewportInnerSize.height:h.viewportOuterSize.width)*(b/h.viewportOuterSize[f]),E=$t(()=>{const M=a.current,I=t.scrollPosition.current;if(!M||I[m]===s.current)return;if(s.current=I[m],i.current){i.current=!1;return}i.current=!0;const N=I[m]/b;M[g]=N*C}),T=$t(()=>{const M=n.current.virtualScrollerRef.current,I=a.current;if(!I)return;if(i.current){i.current=!1;return}i.current=!0;const N=I[g]/C;M[g]=N*b});$b(()=>{const M=n.current.virtualScrollerRef.current,I=a.current,N={passive:!0};return M.addEventListener("scroll",E,N),I.addEventListener("scroll",T,N),()=>{M.removeEventListener("scroll",E,N),I.removeEventListener("scroll",T,N)}}),_.useEffect(()=>{c.current.style.setProperty(f,`${C}px`)},[C,f]);const R=t.position==="vertical"?pLe:gLe;return x.jsx(R,{ref:Er(r,a),className:d.root,style:t.position==="vertical"&&o.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:M=>{M.target.blur()},children:x.jsx("div",{ref:c,className:d.content})})}),mLe=e=>{const{classes:t,hasScrollX:r,hasPinnedRight:n,loadingOverlayVariant:o,overlayType:i}=e;return ht({root:["main",n&&"main--hasPinnedRight",(o==="skeleton"||i==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",r&&"virtualScroller--hasScrollX"]},Cr,t)},vLe=Fr("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.virtualScroller,r.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),yLe=e=>e.current.state.dimensions.rightPinnedWidth>0;function bLe(e){const t=us(),r=yt(),n=et(t,wPe),o=et(t,bPe),i=et(t,yLe),s=et(t,_Pe),{getOverlay:a,overlaysProps:c}=nAe(),d=H({classes:r.classes,hasScrollX:o,hasPinnedRight:i},c),h=mLe(d),f=t.current.virtualizer.api.useVirtualization().getters,{getContainerProps:g,getScrollerProps:m,getContentProps:y,getScrollbarVerticalProps:b,getScrollbarHorizontalProps:v,getRows:C,getScrollAreaProps:E}=f,T=C(void 0,Ho(t));return x.jsxs(lAe,H({className:h.root},g(),{ownerState:d,children:[x.jsx(Qw,H({scrollDirection:"left"},E())),x.jsx(Qw,H({scrollDirection:"right"},E())),x.jsx(Qw,H({scrollDirection:"up"},E())),x.jsx(Qw,H({scrollDirection:"down"},E())),x.jsxs(vLe,H({className:h.scroller},m(),{ownerState:d,children:[x.jsxs(dAe,{children:[!r.listView&&x.jsx(iAe,{}),x.jsx(r.slots.pinnedRows,{position:"top",virtualScroller:f})]}),a(),x.jsx(pAe,H({},y(),{children:x.jsxs(_Ae,{role:"rowgroup",children:[T,x.jsx(r.slots.detailPanels,{virtualScroller:f})]})})),s&&x.jsx(wAe,{rowsLength:T.length}),x.jsx(r.slots.bottomContainer,{children:x.jsx(r.slots.pinnedRows,{position:"bottom",virtualScroller:f})})]})),o&&!r.listView&&x.jsx(WH,H({position:"horizontal"},v())),n&&x.jsx(WH,H({position:"vertical"},b())),e.children]}))}function wLe(){const e=yt();return e.hideFooter?null:x.jsx(e.slots.footer,H({},e.slotProps?.footer))}let AR;function LR(){return AR===void 0&&document.createElement("div").focus({get preventScroll(){return AR=!0,!1}}),AR}function SLe({defaultSlots:e,slots:t}){const r=t;if(!r||Object.keys(r).length===0)return e;const n=H({},e);return Object.keys(r).forEach(o=>{const i=o;r[i]!==void 0&&(n[i]=r[i])}),n}const CLe=e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null},xLe=e=>e===XG||CLe(e)!==null,KH=(e,t)=>{if(e)if(t){if(e===Mr.LEFT)return"right";if(e===Mr.RIGHT)return"left"}else{if(e===Mr.LEFT)return"left";if(e===Mr.RIGHT)return"right"}};function nS(e,t,r,n){const o=KH(r,t);return!o||n===void 0||(e[o]=n),e}const _Le=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],ELe=["changeReason","unstable_updateValueOnRender"];Mr.LEFT+"",su.LEFT,Mr.RIGHT+"",su.RIGHT,Mr.NONE+"",Mr.VIRTUAL+"";const TLe=e=>{const{align:t,showLeftBorder:r,showRightBorder:n,pinnedPosition:o,isEditable:i,isSelected:s,isSelectionMode:a,classes:c}=e,d={root:["cell",`cell--text${We(t)}`,s&&"selected",i&&"cell--editable",r&&"cell--withLeftBorder",n&&"cell--withRightBorder",o===Mr.LEFT&&"cell--pinnedLeft",o===Mr.RIGHT&&"cell--pinnedRight",a&&!i&&"cell--selectionMode"]};return ht(d,Cr,c)},MLe=Zt(function(t,r){const{column:n,row:o,rowId:i,rowNode:s,align:a,colIndex:c,width:d,className:h,style:f,colSpan:g,disableDragEvents:m,isNotVisible:y,pinnedOffset:b,pinnedPosition:v,showRightBorder:C,showLeftBorder:E,onClick:T,onDoubleClick:R,onMouseDown:M,onMouseUp:I,onMouseOver:N,onKeyDown:P,onKeyUp:L,onDragEnter:D,onDragOver:$}=t,B=pt(t,_Le),U=us(),q=yt(),W=Uo(),V=n.field,Y=et(U,TAe,{rowId:i,field:V}),re=jw().hooks.useCellAggregationResult(i,V),z=Y?Kr.Edit:Kr.View,K=U.current.getCellParamsForRow(i,V,o,{colDef:n,cellMode:z,rowNode:s,tabIndex:et(U,()=>{const ct=_R(U);return ct&&ct.field===V&&ct.id===i?0:-1}),hasFocus:et(U,()=>{const ct=Ui(U);return ct?.id===i&&ct.field===V})});K.api=U.current,re&&(K.value=re.value,K.formattedValue=n.valueFormatter?n.valueFormatter(K.value,o,n,U):K.value);const Z=et(U,()=>U.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:i,field:V})),le=U.current.virtualizer.store,ce=Wr(le,_f.selectors.hiddenCells),ue=Wr(le,_f.selectors.spannedCells),{hasFocus:ae,isEditable:ye=!1,value:Me}=K,xe=n.type==="actions"&&"getActions"in n&&typeof n.getActions=="function"&&n.getActions(U.current.getRowParams(i)).some(ct=>!ct.props.disabled),he=(z==="view"||!ye)&&!xe?K.tabIndex:-1,{classes:pe,getCellClassName:Se}=q,ke=[et(U,()=>U.current.unstable_applyPipeProcessors("cellClassName",[],{id:i,field:V}).filter(Boolean).join(" "))];n.cellClassName&&ke.push(typeof n.cellClassName=="function"?n.cellClassName(K):n.cellClassName),n.display==="flex"&&ke.push(ie["cell--flex"]),Se&&ke.push(Se(K));const Te=K.formattedValue??Me,Ve=_.useRef(null),nt=Er(r,Ve),je=_.useRef(null),Rt=q.cellSelection??!1,dt={align:a,showLeftBorder:E,showRightBorder:C,isEditable:ye,classes:q.classes,pinnedPosition:v,isSelected:Z,isSelectionMode:Rt},Ct=TLe(dt),$e=_.useCallback(ct=>ut=>{const St=U.current.getCellParams(i,V||"");U.current.publishEvent(ct,St,ut),I&&I(ut)},[U,V,I,i]),It=_.useCallback(ct=>ut=>{const St=U.current.getCellParams(i,V||"");U.current.publishEvent(ct,St,ut),M&&M(ut)},[U,V,M,i]),mt=_.useCallback((ct,ut)=>St=>{if(!U.current.getRow(i))return;const at=U.current.getCellParams(i,V||"");U.current.publishEvent(ct,at,St),ut&&ut(St)},[U,V,i]),Bt=ce[i]?.[c]??!1,zt=ue[i]?.[c]??1,qt=_.useMemo(()=>{if(y)return{padding:0,opacity:0,width:0,height:0,border:0};const ct=nS(H({"--width":`${d}px`},f),W,v,b),ut=v===Mr.LEFT,St=v===Mr.RIGHT;return zt>1&&(ct.height=`calc(var(--height) * ${zt})`,ct.zIndex=10,(ut||St)&&(ct.zIndex=40)),ct},[d,y,f,b,v,W,zt]);if(_.useEffect(()=>{if(!ae||z===Kr.Edit)return;const ct=Xn(U.current.rootElementRef.current);if(Ve.current&&!Ve.current.contains(ct.activeElement)){const ut=Ve.current.querySelector('[tabindex="0"]'),St=je.current||ut||Ve.current;if(LR())St.focus({preventScroll:!0});else{const at=U.current.getScrollPosition();St.focus(),U.current.scroll(at)}}},[ae,z,U]),Bt)return x.jsx("div",{"data-colindex":c,role:"presentation",style:H({width:"var(--width)"},qt)});let tr=B.onFocus,gt,_t;if(Y===null&&n.renderCell&&(gt=n.renderCell(K)),Y!==null&&n.renderEditCell){const ct=U.current.getRowWithUpdatedValues(i,n.field),ut=pt(Y,ELe),St=n.valueFormatter?n.valueFormatter(Y.value,ct,n,U):K.formattedValue,at=H({},K,{row:ct,formattedValue:St},ut);gt=n.renderEditCell(at),ke.push(ie["cell--editing"]),ke.push(pe?.["cell--editing"])}if(gt===void 0){const ct=Te?.toString();gt=ct,_t=ct}_.isValidElement(gt)&&xe&&(gt=_.cloneElement(gt,{focusElementRef:je}));const He=m?null:{onDragEnter:mt("cellDragEnter",D),onDragOver:mt("cellDragOver",$)};return x.jsx("div",H({className:Ke(Ct.root,ke,h),role:"gridcell","data-field":V,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":g,"aria-rowspan":zt,style:qt,title:_t,tabIndex:he,onClick:mt("cellClick",T),onDoubleClick:mt("cellDoubleClick",R),onMouseOver:mt("cellMouseOver",N),onMouseDown:It("cellMouseDown"),onMouseUp:$e("cellMouseUp"),onKeyDown:mt("cellKeyDown",P),onKeyUp:mt("cellKeyUp",L)},He,B,{onFocus:tr,ref:nt,children:gt}))}),OLe=ec(MLe),RLe=["label","icon","showInMenu","onClick"],ILe=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],PLe=Zt((e,t)=>{const r=yt();if(!e.showInMenu){const{label:h,icon:f,onClick:g}=e,m=pt(e,RLe),y=b=>{g?.(b)};return x.jsx(r.slots.baseIconButton,H({size:"small",role:"menuitem","aria-label":h},m,{onClick:y},r.slotProps?.baseIconButton,{ref:t,children:_.cloneElement(f,{fontSize:"small"})}))}const{label:n,icon:o,onClick:i,closeMenuOnClick:s=!0,closeMenu:a}=e,c=pt(e,ILe),d=h=>{i?.(h),s&&a?.()};return x.jsx(r.slots.baseMenuItem,H({ref:t},c,{onClick:d,iconStart:o,children:n}))}),kLe=["field","type","align","width","height","empty","style","className"],qH="1.3em",DLe="1.2em",YH=[40,80],ALe={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},LLe=e=>{const{align:t,classes:r,empty:n}=e,o={root:["cell","cellSkeleton",`cell--text${t?We(t):"Left"}`,n&&"cellEmpty"]};return ht(o,Cr,r)},NLe=ake(12345);function BLe(e){const{field:t,type:r,align:n,width:o,height:i,empty:s=!1,style:a,className:c}=e,d=pt(e,kLe),h=yt(),f={classes:h.classes,align:n,empty:s},g=LLe(f),m=_.useMemo(()=>{if(r==="boolean"||r==="actions")return{variant:"circular",width:qH,height:qH};const[b,v]=r?ALe[r]??YH:YH;return{variant:"text",width:`${Math.round(NLe(b,v))}%`,height:DLe}},[r]);return x.jsx("div",H({"data-field":t,className:Ke(g.root,c),style:H({height:i,maxWidth:o,minWidth:o},a)},d,{children:!s&&x.jsx(h.slots.baseSkeleton,H({},m))}))}const FLe=ec(BLe),jLe=10,oS=-5,Ef=1,XH={width:3,rx:1.5,x:10.5},VLe="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",$Le=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||e.current.state.dimensions.scrollbarSize===0),zLe=we("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${ie.autoHeight}`]:t.autoHeight},{[`&.${ie.autosizing}`]:t.autosizing},{[`&.${ie["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${ie["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${ie["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${ie["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${ie["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${ie.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${ie.actionsCell}`]:t.actionsCell},{[`& .${ie.booleanCell}`]:t.booleanCell},{[`& .${ie.cell}`]:t.cell},{[`& .${ie["cell--editable"]}`]:t["cell--editable"]},{[`& .${ie["cell--editing"]}`]:t["cell--editing"]},{[`& .${ie["cell--flex"]}`]:t["cell--flex"]},{[`& .${ie["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${ie["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${ie["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${ie["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${ie["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${ie["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${ie["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${ie["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${ie["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${ie["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${ie["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${ie["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${ie.cellCheckbox}`]:t.cellCheckbox},{[`& .${ie.cellEmpty}`]:t.cellEmpty},{[`& .${ie.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${ie.cellSkeleton}`]:t.cellSkeleton},{[`& .${ie.checkboxInput}`]:t.checkboxInput},{[`& .${ie.columnHeader}`]:t.columnHeader},{[`& .${ie["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${ie["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${ie["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${ie["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${ie["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${ie["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${ie["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${ie["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${ie["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${ie["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${ie["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${ie["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${ie["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${ie["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${ie["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${ie["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${ie["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${ie["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${ie.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${ie.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${ie.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${ie.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${ie.columnSeparator}`]:t.columnSeparator},{[`& .${ie["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${ie["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${ie["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${ie["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${ie["container--bottom"]}`]:t["container--bottom"]},{[`& .${ie["container--top"]}`]:t["container--top"]},{[`& .${ie.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${ie["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${ie.editBooleanCell}`]:t.editBooleanCell},{[`& .${ie.filterIcon}`]:t.filterIcon},{[`& .${ie["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${ie["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${ie["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${ie.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${ie.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${ie.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${ie.headerFilterRow}`]:t.headerFilterRow},{[`& .${ie.iconSeparator}`]:t.iconSeparator},{[`& .${ie.menuIcon}`]:t.menuIcon},{[`& .${ie.menuIconButton}`]:t.menuIconButton},{[`& .${ie.menuList}`]:t.menuList},{[`& .${ie.menuOpen}`]:t.menuOpen},{[`& .${ie.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${ie.pinnedRows}`]:t.pinnedRows},{[`& .${ie["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${ie["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${ie.row}`]:t.row},{[`& .${ie["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${ie["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${ie["row--dragging"]}`]:t["row--dragging"]},{[`& .${ie["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${ie["row--editable"]}`]:t["row--editable"]},{[`& .${ie["row--editing"]}`]:t["row--editing"]},{[`& .${ie["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${ie["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${ie.rowReorderCell}`]:t.rowReorderCell},{[`& .${ie["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${ie.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${ie.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${ie.rowSkeleton}`]:t.rowSkeleton},{[`& .${ie.scrollbar}`]:t.scrollbar},{[`& .${ie["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${ie["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${ie.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${ie["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${ie["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${ie["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${ie["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${ie.sortIcon}`]:t.sortIcon},{[`& .${ie.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${ie.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${ie.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${ie.withBorderColor}`]:t.withBorderColor},{[`& .${ie["row--dropAbove"]}`]:t["row--dropAbove"]},{[`& .${ie["row--dropBelow"]}`]:t["row--dropBelow"]},{[`& .${ie["row--beingDragged"]}`]:t["row--beingDragged"]}]})(()=>{const e=us(),t=et(e,$Le),r=wt.colors.background.base,n=wt.header.background.base,o=wt.cell.background.pinned,i=ULe(wt.colors.interactive.hover),s=wt.colors.interactive.hoverOpacity,a=wt.colors.interactive.selected,c=wt.colors.interactive.selectedOpacity,d=a,h=`calc(${c} + ${s})`,f=uu(r,i,s),g=uu(r,a,c),m=uu(r,d,h),y=uu(o,i,s),b=uu(o,a,c),v=uu(o,d,h),C=N=>({[`& .${ie["cell--pinnedLeft"]}, & .${ie["cell--pinnedRight"]}`]:{backgroundColor:N,"&.Mui-selected":{backgroundColor:uu(N,g,c),"&:hover":{backgroundColor:uu(N,m,h)}}}}),E=C(y),T=C(b),R=C(v),M={backgroundColor:g,"&:hover":{backgroundColor:m,"@media (hover: none)":{backgroundColor:g}}};return{"--unstable_DataGrid-radius":wt.radius.base,"--unstable_DataGrid-headWeight":wt.typography.fontWeight.medium,"--DataGrid-rowBorderColor":wt.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:wt.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:wt.colors.background.base,color:wt.colors.foreground.base,font:wt.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${ie.main} > *:first-child${VLe}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${ie.autoHeight}`]:{height:"auto"},[`&.${ie.autosizing}`]:{[`& .${ie.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${ie.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${ie.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${ie.groupingCriteriaCell}`]:{width:"unset"},[`& .${ie.treeDataGroupingCell}`]:{width:"unset"}},[`&.${ie.withSidePanel}`]:{flexDirection:"row"},[`& .${ie.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${ie.columnHeader}, & .${ie.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${ie.columnHeader}:focus-within, & .${ie.cell}:focus-within`]:{outline:`solid ${ZH(wt.colors.interactive.focus,.5)} ${Ef}px`,outlineOffset:Ef*-1},[`& .${ie.columnHeader}:focus, & .${ie.cell}:focus`]:{outline:`solid ${wt.colors.interactive.focus} ${Ef}px`,outlineOffset:Ef*-1},[`& .${ie.columnHeader}:focus,
      & .${ie["columnHeader--withLeftBorder"]},
      & .${ie["columnHeader--withRightBorder"]},
      & .${ie["columnHeader--siblingFocused"]},
      & .${ie["virtualScroller--hasScrollX"]} .${ie["columnHeader--lastUnpinned"]},
      & .${ie["virtualScroller--hasScrollX"]} .${ie["columnHeader--last"]}
      `]:{[`& .${ie.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${ie["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${ie["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${ie["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${ie["root--noToolbar"]} [aria-rowindex="1"] .${ie["columnHeader--last"]}`]:{borderTopRightRadius:t?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${ie.columnHeaderCheckbox}, & .${ie.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${ie.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:n},[`& .${ie["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${ie["virtualScroller--hasScrollX"]} .${ie["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${ie["pivotPanelField--sorted"]} .${ie.iconButtonContainer},
      & .${ie["columnHeader--sorted"]} .${ie.iconButtonContainer},
      & .${ie["columnHeader--filtered"]} .${ie.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}) .${ie.sortButton},
      & .${ie.columnHeader}:not(.${ie["columnHeader--sorted"]}) .${ie.sortButton}`]:{opacity:0,transition:wt.transition(["opacity"],{duration:wt.transitions.duration.short})},[`& .${ie.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:wt.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${ie.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${ie["columnHeader--filledGroup"]} .${ie.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${ie.sortIcon}, & .${ie.filterIcon}`]:{fontSize:"inherit"},[`& .${ie["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${ie["columnHeader--alignCenter"]} .${ie.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${ie["columnHeader--alignRight"]} .${ie.columnHeaderDraggableContainer}, & .${ie["columnHeader--alignRight"]} .${ie.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${ie["columnHeader--alignCenter"]} .${ie.menuIcon}`]:{marginLeft:"auto"},[`& .${ie["columnHeader--alignRight"]} .${ie.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${ie["columnHeader--moving"]}`]:{backgroundColor:f},[`& .${ie["columnHeader--pinnedLeft"]}, & .${ie["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:wt.header.background.base},[`& .${ie.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:jLe,color:wt.colors.border.base},[`& .${ie.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:n},"@media (hover: hover)":{[`& .${ie.columnHeader}:hover`]:{[`& .${ie.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ie.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${ie.columnHeader}:not(.${ie["columnHeader--sorted"]}):hover .${ie.sortButton},
        & .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}):hover .${ie.sortButton},
        & .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}) .${ie.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${ie.columnHeader} .${ie.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ie.columnHeader}:focus,
        & .${ie["columnHeader--siblingFocused"]}`]:{[`.${ie["columnSeparator--resizable"]}`]:{color:wt.colors.foreground.accent}},[`& .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}) .${ie.sortButton}`]:{opacity:.5}},[`& .${ie["columnHeader--withLeftBorder"]} .${ie["columnSeparator--sideLeft"]}:not(.${ie["columnSeparator--resizable"]}), & .${ie["columnHeader--withRightBorder"]} .${ie["columnSeparator--sideRight"]}:not(.${ie["columnSeparator--resizable"]})`]:{display:"none"},[`& .${ie["columnSeparator--sideLeft"]}`]:{left:oS},[`& .${ie["columnSeparator--sideRight"]}`]:{right:oS},[`& .${ie["columnHeader--withRightBorder"]} .${ie["columnSeparator--sideLeft"]}`]:{left:oS-.5},[`& .${ie["columnHeader--withRightBorder"]} .${ie["columnSeparator--sideRight"]}`]:{right:oS-.5},[`& .${ie["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${ie["columnSeparator--resizing"]}`]:{color:wt.colors.foreground.accent},"@media (hover: none)":{[`& .${ie.iconSeparator} rect`]:XH},"@media (hover: hover)":{"&:hover":{color:wt.colors.foreground.accent,[`& .${ie.iconSeparator} rect`]:XH}},"& svg":{pointerEvents:"none"}},[`& .${ie.iconSeparator}`]:{color:"inherit",transition:wt.transition(["color","width"],{duration:wt.transitions.duration.short})},[`& .${ie.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${ie.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${ie.headerFilterRow}`]:{[`& .${ie.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${ie["row--borderBottom"]} .${ie.columnHeader},
      & .${ie["row--borderBottom"]} .${ie.filler},
      & .${ie["row--borderBottom"]} .${ie.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ie["row--borderBottom"]} .${ie.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${ie.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${ie["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:f,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ie.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":M},[`& .${ie.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":M},[`& .${ie["virtualScrollerContent--overflowed"]} .${ie["row--lastVisible"]} .${ie.cell}`]:{borderTopColor:"transparent"},[`& .${ie.pinnedRows} .${ie.row}, .${ie.aggregationRowOverlayWrapper} .${ie.row}`]:{backgroundColor:o,"&:hover":{backgroundColor:y}},[`& .${ie["pinnedRows--top"]} :first-of-type`]:{[`& .${ie.cell}, .${ie.scrollbarFiller}`]:{borderTop:"none"}},[`&.${ie["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${ie["row--dynamicHeight"]} > .${ie.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${ie.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${ie.cell}.${ie["cell--selectionMode"]}`]:{cursor:"default"},[`& .${ie.cell}.${ie["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:wt.shadows.base,backgroundColor:wt.colors.background.overlay,"&:focus-within":{outline:`${Ef}px solid ${wt.colors.interactive.focus}`,outlineOffset:Ef*-1}},[`& .${ie["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${ie["row--editing"]}`]:{boxShadow:wt.shadows.base},[`& .${ie["row--editing"]} .${ie.cell}`]:{boxShadow:"none",backgroundColor:wt.colors.background.overlay},[`& .${ie.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${ie.booleanCell}[data-value="true"]`]:{color:wt.colors.foreground.muted},[`& .${ie.booleanCell}[data-value="false"]`]:{color:wt.colors.foreground.disabled},[`& .${ie.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:wt.spacing(1)},[`& .${ie.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:wt.colors.interactive.disabledOpacity},[`& .${ie["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${ie.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${ie.withBorderColor}`]:{borderColor:wt.colors.border.base},[`& .${ie["cell--withLeftBorder"]}, & .${ie["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${ie["cell--withRightBorder"]}, & .${ie["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${ie["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${ie["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${ie["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${ie["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${ie["cell--pinnedLeft"]}, & .${ie["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:wt.cell.background.pinned,"&.Mui-selected":{backgroundColor:b}},[`& .${ie.row}`]:{"&:hover":E,"&.Mui-selected":T,"&.Mui-selected:hover":R},[`& .${ie.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${ie.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${ie.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${ie.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${ie["columnHeader--dragging"]}`]:{background:wt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:wt.colors.interactive.disabledOpacity},[`& .${ie["row--dragging"]}`]:{background:wt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:wt.colors.foreground.base,transform:"translateZ(0)",[`& .${ie.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${ie.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ie.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:wt.spacing(2)},[`& .${ie.treeDataGroupingCellLoadingContainer}, .${ie.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${ie.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ie.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:wt.spacing(2)},[`& .${ie.columnHeaders} .${ie.scrollbarFiller}`]:{backgroundColor:n},[`.${ie.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${ie["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ie["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ie["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:wt.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${ie.filler}`]:{flex:"1 0 auto"},[`& .${ie["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ie.columnHeaders} .${ie.filler}`]:{backgroundColor:n},[`& .${ie["main--hiddenContent"]}`]:{[`& .${ie.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${ie["scrollbar--vertical"]}, & .${ie.pinnedRows}, & .${ie.virtualScroller} > .${ie.filler}`]:{display:"none"}},[`& .${ie["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:wt.colors.interactive.selected}},[`& .${ie["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:wt.colors.interactive.selected},[`&.${ie["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${ie["row--beingDragged"]}`]:{color:wt.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function ZH(e,t){return`rgba(from ${e} r g b / ${t})`}function ULe(e){return ZH(e,1)}function uu(e,t,r){return`color-mix(in srgb,${e}, ${t} calc(${r} * 100%))`}const GLe=()=>()=>{},HLe=()=>!1,WLe=()=>!0,KLe=()=>aM.useSyncExternalStore(GLe,HLe,WLe),QH=_.createContext(void 0);function NR(){const e=_.useContext(QH);if(e===void 0)throw new Error("MUI X: Missing context.");return e}function qLe({children:e}){const t=_.useRef(null),r=_.useRef(null),n=_.useRef(null),o=_.useMemo(()=>({columnsPanelTriggerRef:t,filterPanelTriggerRef:r,aiAssistantPanelTriggerRef:n}),[]);return x.jsx(QH.Provider,{value:o,children:e})}function YLe(){const e=dr(),t=et(e,Zs),r=yt(),n=et(e,Hd),{columnsPanelTriggerRef:o,filterPanelTriggerRef:i,aiAssistantPanelTriggerRef:s}=NR(),a=e.current.unstable_applyPipeProcessors("preferencePanel",null,n.openedPanelValue??Mi.filters);let c=null;switch(n.openedPanelValue){case Mi.filters:c=i.current;break;case Mi.columns:c=o.current;break;case Mi.aiAssistant:c=s.current;break}return x.jsx(r.slots.panel,H({id:n.panelId,open:t.length>0&&n.open,"aria-labelledby":n.labelId,target:c,onClose:()=>e.current.hidePreferences()},r.slotProps?.panel,{children:a}))}function XLe(){const e=yt();return x.jsxs(_.Fragment,{children:[x.jsx(YLe,{}),e.showToolbar&&x.jsx(e.slots.toolbar,H({},e.slotProps?.toolbar))]})}const ZLe=["className","children","sidePanel"],QLe=(e,t)=>{const{autoHeight:r,classes:n,showCellVerticalBorder:o}=e,i={root:["root",r&&"autoHeight",`root--density${We(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",o&&"withVerticalBorder"]};return ht(i,Cr,n)},JLe=Zt(function(t,r){const n=yt(),{className:o,children:i,sidePanel:s}=t,a=pt(t,ZLe),c=us(),d=et(c,hf),h=c.current.rootElementRef,f=_.useCallback(C=>{C!==null&&c.current.publishEvent("rootMount",C)},[c]),g=Er(h,r,f),m=n,y=QLe(m,d),b=xke();return KLe()?null:x.jsxs(zLe,H({className:Ke(y.root,o,b.className,s&&ie.withSidePanel),ownerState:m},a,{ref:g,children:[x.jsxs("div",{className:ie.mainContent,role:"presentation",children:[x.jsx(XLe,{}),x.jsx(bLe,{children:i}),x.jsx(wLe,{})]}),s,b.tag]}))}),eNe=ec(JLe),tNe=["className"],rNe=e=>{const{classes:t}=e;return ht({root:["footerContainer","withBorderColor"]},Cr,t)},nNe=Fr("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),oNe=Zt(function(t,r){const{className:n}=t,o=pt(t,tNe),i=yt(),s=rNe(i);return x.jsx(nNe,H({className:Ke(s.root,n),ownerState:i},o,{ref:r}))}),iNe=["className"],sNe=e=>{const{classes:t}=e;return ht({root:["overlay"]},Cr,t)},aNe=Fr("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:wt.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:wt.colors.background.backdrop}),iS=Zt(function(t,r){const{className:n}=t,o=pt(t,iNe),i=yt(),s=sNe(i);return x.jsx(aNe,H({className:Ke(s.root,n),ownerState:i},o,{ref:r}))});function ml(e,t,r,n={}){return typeof t=="function"?t(r,n):t?(t.props.className&&(r.className=lNe(t.props.className,r.className)),(t.props.style||r.style)&&(r.style=H({},r.style,t.props.style)),_.cloneElement(t,r)):_.createElement(e,r)}function lNe(e,t){return!e||!t?e||t:`${e} ${t}`}const JH=_.createContext(void 0);function cNe(){const e=_.useContext(JH);if(e===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}function uNe(e,t){if(!e.ref.current||!t.ref.current)return 0;const r=e.ref.current.compareDocumentPosition(t.ref.current);return r?r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const dNe=["render","className"],hNe=e=>{const{classes:t}=e;return ht({root:["toolbar"]},Cr,t)},fNe=Fr("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:wt.spacing(.25),padding:wt.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${wt.colors.border.base}`}),e5=Zt(function(t,r){const{render:n,className:o}=t,i=pt(t,dNe),s=yt(),a=hNe(s),[c,d]=_.useState(null),[h,f]=_.useState([]),g=_.useCallback(()=>h.sort(uNe),[h]),m=_.useCallback((M,I,N=!0)=>{let P=M;const L=g(),D=L.length;for(let $=0;$<D;$+=1){if(P+=I,P>=D){if(!N)return-1;P=0}else if(P<0){if(!N)return-1;P=D-1}if(!L[P].ref.current?.disabled&&L[P].ref.current?.ariaDisabled!=="true")return P}return-1},[g]),y=_.useCallback((M,I)=>{f(N=>[...N,{id:M,ref:I}])},[]),b=_.useCallback(M=>{f(I=>I.filter(N=>N.id!==M))},[]),v=_.useCallback(M=>{if(!c)return;const I=g(),N=I.findIndex(L=>L.id===c);let P=-1;if(M.key==="ArrowRight"?(M.preventDefault(),P=m(N,1)):M.key==="ArrowLeft"?(M.preventDefault(),P=m(N,-1)):M.key==="Home"?(M.preventDefault(),P=m(-1,1,!1)):M.key==="End"&&(M.preventDefault(),P=m(I.length,-1,!1)),P>=0&&P<I.length){const L=I[P];d(L.id),L.ref.current?.focus()}},[g,c,m]),C=_.useCallback(M=>{c!==M&&d(M)},[c,d]),E=_.useCallback(M=>{const I=g(),N=I.findIndex(L=>L.id===M),P=m(N,1);if(P>=0&&P<I.length){const L=I[P];d(L.id),L.ref.current?.focus()}},[g,m]);_.useEffect(()=>{const M=g();if(M.length>0){if(!c){d(M[0].id);return}const I=M.findIndex(N=>N.id===c);if(M[I]){if(I===-1){const N=M[I];N&&(d(N.id),N.ref.current?.focus())}}else{const N=M[M.length-1];N&&(d(N.id),N.ref.current?.focus())}}},[g,m]);const T=_.useMemo(()=>({focusableItemId:c,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:C,onItemDisabled:E}),[c,y,b,v,C,E]),R=ml(fNe,n,H({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:Ke(a.root,o)},i,{ref:r}));return x.jsx(JH.Provider,{value:T,children:R})}),pNe=["render","onKeyDown","onFocus","disabled","aria-disabled"],sS=Zt(function(t,r){const{render:n,onKeyDown:o,onFocus:i,disabled:s,"aria-disabled":a}=t,c=pt(t,pNe),d=kr(),h=yt(),f=_.useRef(null),g=Er(f,r),{focusableItemId:m,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:C,onItemDisabled:E}=cNe(),T=P=>{v(P),o?.(P)},R=P=>{C(d),i?.(P)};_.useEffect(()=>(y(d,f),()=>b(d)),[]);const M=_.useRef(s);_.useEffect(()=>{M.current!==s&&s===!0&&E(d,s),M.current=s},[s,d,E]);const I=_.useRef(a);_.useEffect(()=>{I.current!==a&&a===!0&&E(d,!0),I.current=a},[a,d,E]);const N=ml(h.slots.baseIconButton,n,H({},h.slotProps?.baseIconButton,{tabIndex:m===d?0:-1},c,{disabled:s,"aria-disabled":a,onKeyDown:T,onFocus:R,ref:g}));return x.jsx(_.Fragment,{children:N})}),gNe=["className","children"],mNe=e=>{const{classes:t}=e;return ht({root:["toolbarContainer"]},Cr,t)},vNe=Fr(e5,{name:"MuiDataGrid",slot:"ToolbarContainer",shouldForwardProp:e=>e!=="ownerState"})({display:"flex",alignItems:"center",flexWrap:"wrap",gap:wt.spacing(1),padding:wt.spacing(.5),minHeight:"auto"}),yNe=Zt(function(t,r){const{className:n,children:o}=t,i=pt(t,gNe),s=yt(),a=mNe(s);return o?x.jsx(vNe,H({className:Ke(a.root,n),ownerState:s},i,{ref:r,children:o})):null}),bNe=e=>{const{classes:t,open:r}=e;return ht({root:["menuIcon",r&&"menuOpen"],button:["menuIconButton"]},Cr,t)},wNe=_.memo(e=>{const{colDef:t,open:r,columnMenuId:n,columnMenuButtonId:o,iconButtonRef:i}=e,s=dr(),a=yt(),c=H({},e,{classes:a.classes}),d=bNe(c),h=_.useCallback(g=>{g.preventDefault(),g.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]),f=t.headerName??t.field;return x.jsx("div",{className:d.root,children:x.jsx(a.slots.baseTooltip,H({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},a.slotProps?.baseTooltip,{children:x.jsx(a.slots.baseIconButton,H({ref:i,tabIndex:-1,className:d.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(f),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":r,"aria-controls":r?n:void 0,id:o},a.slotProps?.baseIconButton,{children:x.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function SNe({columnMenuId:e,columnMenuButtonId:t,ContentComponent:r,contentComponentProps:n,field:o,open:i,target:s,onExited:a}){const c=dr(),d=c.current.getColumn(o),h=$t(f=>{f&&(f.stopPropagation(),s?.contains(f.target))||c.current.hideColumnMenu()});return!s||!d?null:x.jsx(Vw,{position:`bottom-${d.align==="right"?"start":"end"}`,open:i,target:s,onClose:h,onExited:a,children:x.jsx(r,H({colDef:d,hideMenu:h,open:i,id:e,labelledby:t},n))})}function CNe(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function aS(e,t){return e.closest(`.${t}`)}function oc(e){return e.replace(/["\\]/g,"\\$&")}function xNe(e,t){return e.querySelector(`[role="columnheader"][data-field="${oc(t)}"]`)}function t5(e){return`.${ie.row}[data-id="${oc(String(e))}"]`}function _Ne(e,t){return e.querySelector(t5(t))}function ENe(e,{id:t,field:r}){const n=t5(t),o=`.${ie.cell}[data-field="${oc(r)}"]`,i=`${n} ${o}`;return e.querySelector(i)}function Em(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function TNe(e){return e.getAttribute("data-field")}function MNe(e,t){return e.querySelector(`[data-field="${oc(t)}"]`)}function ONe(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function RNe(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${oc(t)}-|"]`)??[])}function INe(e,t){if(!aS(e,ie.root))throw new Error("MUI X: The root element is not found.");const n=e.getAttribute("aria-colindex");if(!n)return[];const o=Number(n)-1,i=[];return t.virtualScrollerRef?.current?(i5(t).forEach(s=>{const a=s.getAttribute("data-id");if(!a)return;let c=o;const d=t.unstable_getCellColSpanInfo(a,o);d&&d.spannedByColSpan&&(c=d.leftVisibleCellIndex);const h=s.querySelector(`[data-colindex="${c}"]`);h&&i.push(h)}),i):[]}function r5(e,t){return e.rootElementRef.current.querySelector(`.${ie[t]}`)}const n5=({api:e,colIndex:t,position:r,filterFn:n})=>{if(t===null)return[];const o=[];return i5(e).forEach(i=>{i.getAttribute("data-id")&&i.querySelectorAll(`.${ie[r==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const c=Tf(a);c!==null&&n(c)&&o.push(a)})}),o};function PNe(e,t,r){const n=Tf(t);return n5({api:e,colIndex:n,position:r?"right":"left",filterFn:o=>r?o<n:o>n})}function kNe(e,t,r){const n=Tf(t);return n5({api:e,colIndex:n,position:r?"left":"right",filterFn:o=>r?o>n:o<n})}const o5=({api:e,colIndex:t,position:r,filterFn:n})=>{if(!e.columnHeadersContainerRef?.current)return[];if(t===null)return[];const o=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${ie[r==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(i=>{const s=Tf(i);s!==null&&n(s,i)&&o.push(i)}),o};function DNe(e,t,r){const n=Tf(t);return o5({api:e,position:r?"right":"left",colIndex:n,filterFn:o=>r?o<n:o>n})}function ANe(e,t,r){const n=Tf(t);return o5({api:e,position:r?"left":"right",colIndex:n,filterFn:(o,i)=>i.classList.contains(ie["columnHeader--last"])?!1:r?o>n:o<n})}function LNe(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${oc(t)}"][role="columnheader"]`)}function NNe(e,t){const r=e.virtualScrollerRef.current;return Array.from(r.querySelectorAll(`:scope > div > div > div > [data-field="${oc(t)}"][role="gridcell"]`))}function i5(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${ie.row}`)}function Tf(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const BNe=["className","aria-label"],FNe=e=>{const{classes:t}=e;return ht({root:["columnHeaderTitle"]},Cr,t)},jNe=Fr("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),VNe=Zt(function(t,r){const{className:n}=t,o=pt(t,BNe),i=yt(),s=FNe(i);return x.jsx(jNe,H({className:Ke(s.root,n),ownerState:i},o,{ref:r}))});function $Ne(e){const{label:t,description:r}=e,n=yt(),o=_.useRef(null),[i,s]=_.useState(""),a=_.useCallback(()=>{if(!r&&o?.current){const c=CNe(o.current);s(c?t:"")}},[r,t]);return x.jsx(n.slots.baseTooltip,H({title:r||i},n.slotProps?.baseTooltip,{children:x.jsx(VNe,{onMouseOver:a,ref:o,children:t})}))}const zNe=["resizable","resizing","height","side"];var BR=(function(e){return e.Left="left",e.Right="right",e})(BR||{});const UNe=e=>{const{resizable:t,resizing:r,classes:n,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",r&&"columnSeparator--resizing",o&&`columnSeparator--side${We(o)}`],icon:["iconSeparator"]};return ht(i,Cr,n)};function GNe(e){const{height:t,side:r=BR.Right}=e,n=pt(e,zNe),o=yt(),i=H({},e,{side:r,classes:o.classes}),s=UNe(i),a=_.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return x.jsx("div",H({className:s.root,style:{minHeight:t}},n,{onClick:a,children:x.jsx(o.slots.columnResizeIcon,{className:s.icon})}))}const HNe=_.memo(GNe),WNe=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],s5=Zt(function(t,r){const{classes:n,colIndex:o,height:i,isResizing:s,sortDirection:a,tabIndex:c,separatorSide:d,isDraggable:h,headerComponent:f,description:g,width:m,columnMenuIconButton:y=null,columnMenu:b=null,columnTitleIconButtons:v=null,headerClassName:C,label:E,resizable:T,draggableContainerProps:R,columnHeaderSeparatorProps:M,style:I}=t,N=pt(t,WNe),P=yt(),L=_.useRef(null),D=Er(L,r);let $="none";return a!=null&&($=a==="asc"?"ascending":"descending"),x.jsxs("div",H({className:Ke(n.root,C),style:H({},I,{width:m}),role:"columnheader",tabIndex:c,"aria-colindex":o+1,"aria-sort":$},N,{ref:D,children:[x.jsxs("div",H({className:n.draggableContainer,draggable:h,role:"presentation"},R,{children:[x.jsxs("div",{className:n.titleContainer,role:"presentation",children:[x.jsx("div",{className:n.titleContainerContent,children:f!==void 0?f:x.jsx($Ne,{label:E,description:g,columnWidth:m})}),v]}),y]})),x.jsx(HNe,H({resizable:!P.disableColumnResize&&!!T,resizing:s,height:i,side:d},M)),b]}))}),KNe=e=>{const{disableColumnSorting:t}=yt(),{colDef:r,classes:n,isDragging:o,sortDirection:i,showRightBorder:s,showLeftBorder:a,filterItemsCounter:c,pinnedPosition:d,isLastUnpinned:h,isSiblingFocused:f}=e,g=r.sortable&&!t,m=i!=null,y=c!=null&&c>0,b=r.type==="number",v={root:["columnHeader",r.headerAlign==="left"&&"columnHeader--alignLeft",r.headerAlign==="center"&&"columnHeader--alignCenter",r.headerAlign==="right"&&"columnHeader--alignRight",g&&"columnHeader--sortable",o&&"columnHeader--moving",m&&"columnHeader--sorted",y&&"columnHeader--filtered",b&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",d===Mr.LEFT&&"columnHeader--pinnedLeft",d===Mr.RIGHT&&"columnHeader--pinnedRight",h&&"columnHeader--lastUnpinned",f&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ht(v,Cr,n)};function qNe(e){const{colDef:t,columnMenuOpen:r,colIndex:n,headerHeight:o,isResizing:i,isLast:s,sortDirection:a,sortIndex:c,filterItemsCounter:d,hasFocus:h,tabIndex:f,disableReorder:g,separatorSide:m,showLeftBorder:y,showRightBorder:b,pinnedPosition:v,pinnedOffset:C}=e,E=us(),T=yt(),R=Uo(),M=_.useRef(null),I=kr(),N=kr(),P=_.useRef(null),[L,D]=_.useState(r),$=_.useMemo(()=>!T.disableColumnReorder&&!g&&!t.disableReorder,[T.disableColumnReorder,g,t.disableReorder]);let B;t.renderHeader&&(B=t.renderHeader(E.current.getColumnHeaderParams(t.field)));const U=H({},e,{classes:T.classes,showRightBorder:b,showLeftBorder:y}),q=KNe(U),W=_.useCallback(Me=>xe=>{Em(xe)||E.current.publishEvent(Me,E.current.getColumnHeaderParams(t.field),xe)},[E,t.field]),V=_.useMemo(()=>({onClick:W("columnHeaderClick"),onContextMenu:W("columnHeaderContextMenu"),onDoubleClick:W("columnHeaderDoubleClick"),onMouseOver:W("columnHeaderOver"),onMouseOut:W("columnHeaderOut"),onMouseEnter:W("columnHeaderEnter"),onMouseLeave:W("columnHeaderLeave"),onKeyDown:W("columnHeaderKeyDown"),onFocus:W("columnHeaderFocus"),onBlur:W("columnHeaderBlur")}),[W]),Y=_.useMemo(()=>$?{onDragStart:W("columnHeaderDragStart"),onDragEnter:W("columnHeaderDragEnter"),onDragOver:W("columnHeaderDragOver"),onDragEndCapture:W("columnHeaderDragEnd")}:{},[$,W]),Q=_.useMemo(()=>({onMouseDown:W("columnSeparatorMouseDown"),onDoubleClick:W("columnSeparatorDoubleClick")}),[W]);_.useEffect(()=>{L||D(r)},[L,r]);const re=_.useCallback(()=>{D(!1)},[]),z=!T.disableColumnMenu&&!t.disableColumnMenu&&x.jsx(wNe,{colDef:t,columnMenuId:I,columnMenuButtonId:N,open:L,iconButtonRef:P}),K=x.jsx(SNe,{columnMenuId:I,columnMenuButtonId:N,field:t.field,open:r,target:P.current,ContentComponent:T.slots.columnMenu,contentComponentProps:T.slotProps?.columnMenu,onExited:re}),Z=t.sortingOrder??T.sortingOrder,le=(t.sortable||a!=null)&&!t.hideSortIcons&&!T.disableColumnSorting,ce=x.jsxs(_.Fragment,{children:[!T.disableColumnFilter&&x.jsx(T.slots.columnHeaderFilterIconButton,H({field:t.field,counter:d},T.slotProps?.columnHeaderFilterIconButton)),le&&x.jsx(T.slots.columnHeaderSortIcon,H({field:t.field,direction:a,index:c,sortingOrder:Z,disabled:!t.sortable},T.slotProps?.columnHeaderSortIcon))]});_.useLayoutEffect(()=>{const Me=E.current.state.columnMenu;if(h&&!Me.open){const he=M.current.querySelector('[tabindex="0"]')||M.current;if(!he)return;if(LR())he.focus({preventScroll:!0});else{const pe=E.current.getScrollPosition();he.focus(),E.current.scroll(pe)}}},[E,h]);const ue=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,ae=t.headerName??t.field,ye=_.useMemo(()=>nS(H({},e.style),R,v,C),[v,C,e.style,R]);return x.jsx(s5,H({ref:M,classes:q,columnMenuOpen:r,colIndex:n,height:o,isResizing:i,sortDirection:a,hasFocus:h,tabIndex:f,separatorSide:m,isDraggable:$,headerComponent:B,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:z,columnTitleIconButtons:ce,headerClassName:Ke(ue,s&&ie["columnHeader--last"]),label:ae,resizable:!T.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:K,draggableContainerProps:Y,columnHeaderSeparatorProps:Q,style:ye},V))}const YNe=ec(qNe),XNe=["className"],ZNe=e=>{const{classes:t}=e;return ht({root:["iconButtonContainer"]},Cr,t)},QNe=Fr("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),a5=Zt(function(t,r){const{className:n}=t,o=pt(t,XNe),i=yt(),s=ZNe(i);return x.jsx(QNe,H({className:Ke(s.root,n),ownerState:i},o,{ref:r}))}),JNe=["direction","index","sortingOrder","disabled","className"],eBe=e=>{const{classes:t}=e;return ht({root:["sortButton"],icon:["sortIcon"]},Cr,t)},tBe=Fr(hl,{name:"MuiDataGrid",slot:"SortButton"})({transition:wt.transition(["opacity"],{duration:wt.transitions.duration.short,easing:wt.transitions.easing.easeInOut})});function rBe(e,t,r,n){let o;const i={};return t==="asc"?o=e.columnSortedAscendingIcon:t==="desc"?o=e.columnSortedDescendingIcon:(o=e.columnUnsortedIcon,i.sortingOrder=n),o?x.jsx(o,H({fontSize:"small",className:r},i)):null}function nBe(e){const{direction:t,index:r,sortingOrder:n,disabled:o,className:i}=e,s=pt(e,JNe),a=dr(),c=yt(),d=H({},e,{classes:c.classes}),h=eBe(d),f=rBe(c.slots,t,h.icon,n);if(!f)return null;const g=x.jsx(tBe,H({as:c.slots.baseIconButton,ownerState:d,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:o,className:Ke(h.root,i)},c.slotProps?.baseIconButton,s,{children:f}));return x.jsxs(_.Fragment,{children:[r!=null&&x.jsx(c.slots.baseBadge,{badgeContent:r,color:"default",overlap:"circular",children:g}),r==null&&g]})}function oBe(e){return x.jsx(a5,{children:x.jsx(nBe,H({},e,{tabIndex:-1}))})}const iBe=_.memo(oBe),sBe=e=>{const{classes:t}=e;return ht({icon:["filterIcon"]},Cr,t)};function aBe(e){return e.counter?x.jsx(lBe,H({},e)):null}function lBe(e){const{counter:t,field:r,onClick:n}=e,o=dr(),i=yt(),s=H({},e,{classes:i.classes}),a=sBe(s),c=kr(),d=et(o,MAe,c),h=kr(),f=_.useCallback(m=>{m.preventDefault(),m.stopPropagation();const{open:y,openedPanelValue:b}=Hd(o);y&&b===Mi.filters?o.current.hideFilterPanel():o.current.showFilterPanel(void 0,h,c),n&&n(o.current.getColumnHeaderParams(r),m)},[o,r,n,h,c]);if(!t)return null;const g=x.jsx(i.slots.baseIconButton,H({id:c,onClick:f,"aria-label":o.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?h:void 0},i.slotProps?.baseIconButton,{children:x.jsx(i.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return x.jsx(i.slots.baseTooltip,H({title:o.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},i.slotProps?.baseTooltip,{children:x.jsxs(a5,{children:[t>1&&x.jsx(i.slots.baseBadge,{badgeContent:t,color:"default",children:g}),t===1&&g]})}))}const cBe=["hideMenu","colDef","id","labelledby","className","children","open"],uBe=we(hl)(()=>({minWidth:248}));function l5(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}const dBe=Zt(function(t,r){const{hideMenu:n,id:o,labelledby:i,className:s,children:a,open:c}=t,d=pt(t,cBe),h=yt(),f=_.useCallback(g=>{g.key==="Tab"&&g.preventDefault(),WG(g.key)&&n(g)},[n]);return x.jsx(uBe,H({as:h.slots.baseMenuList,id:o,className:Ke(ie.menuList,s),"aria-labelledby":i,onKeyDown:f,onWheel:l5,onTouchMove:l5,autoFocus:c},d,{ref:r,children:a}))}),hBe=["displayOrder"],fBe=e=>{const t=us(),r=yt(),{defaultSlots:n,defaultSlotProps:o,slots:i={},slotProps:s={},hideMenu:a,colDef:c,addDividers:d=!0}=e,h=_.useMemo(()=>H({},n,i),[n,i]),f=_.useMemo(()=>{if(!s||Object.keys(s).length===0)return o;const y=H({},s);return Object.entries(o).forEach(([b,v])=>{y[b]=H({},v,s[b]||{})}),y},[o,s]),g=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),m=_.useMemo(()=>{const y=Object.keys(n);return Object.keys(i).filter(b=>!y.includes(b))},[i,n]);return _.useMemo(()=>{const v=Array.from(new Set([...g,...m])).filter(C=>h[C]!=null).sort((C,E)=>{const T=f[C],R=f[E],M=Number.isFinite(T?.displayOrder)?T.displayOrder:100,I=Number.isFinite(R?.displayOrder)?R.displayOrder:100;return M-I});return v.reduce((C,E,T)=>{let R={colDef:c,onClick:a};const M=f[E];if(M){const I=pt(M,hBe);R=H({},R,I)}return d&&T!==v.length-1?[...C,[h[E],R],[r.slots.baseDivider,{}]]:[...C,[h[E],R]]},[])},[d,c,g,a,h,f,m,r.slots.baseDivider])};function pBe(e){const{colDef:t,onClick:r}=e,n=dr(),o=yt(),a=Jn(n).filter(d=>d.disableColumnMenu!==!0).length===1,c=_.useCallback(d=>{a||(n.current.setColumnVisibility(t.field,!1),r(d))},[n,t.field,r,a]);return o.disableColumnSelector||t.hideable===!1?null:x.jsx(o.slots.baseMenuItem,{onClick:c,disabled:a,iconStart:x.jsx(o.slots.columnMenuHideIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuHideColumn")})}function gBe(e){const{onClick:t}=e,r=dr(),n=yt(),o=_.useCallback(i=>{t(i),r.current.showPreferences(Mi.columns)},[r,t]);return n.disableColumnSelector?null:x.jsx(n.slots.baseMenuItem,{onClick:o,iconStart:x.jsx(n.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuManageColumns")})}function mBe(e){return x.jsxs(_.Fragment,{children:[x.jsx(pBe,H({},e)),x.jsx(gBe,H({},e))]})}function vBe(e){const{colDef:t,onClick:r}=e,n=dr(),o=yt(),i=_.useCallback(s=>{r(s),n.current.showFilterPanel(t.field)},[n,t.field,r]);return o.disableColumnFilter||!t.filterable?null:x.jsx(o.slots.baseMenuItem,{onClick:i,iconStart:x.jsx(o.slots.columnMenuFilterIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuFilter")})}function yBe(e){const{colDef:t,onClick:r}=e,n=dr(),o=et(n,Js),i=yt(),s=_.useMemo(()=>t?o.find(f=>f.field===t.field)?.sort:null,[t,o]),a=t.sortingOrder??i.sortingOrder,c=_.useCallback(h=>{r(h);const f=h.currentTarget.getAttribute("data-value")||null,g=i.multipleColumnsSortingMode==="always";n.current.sortColumn(t.field,f===s?null:f,g)},[n,t,r,s,i.multipleColumnsSortingMode]);if(i.disableColumnSorting||!t||!t.sortable||!a.some(h=>!!h))return null;const d=h=>{const f=n.current.getLocaleText(h);return typeof f=="function"?f(t):f};return x.jsxs(_.Fragment,{children:[a.includes("asc")&&s!=="asc"?x.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"asc",iconStart:x.jsx(i.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:d("columnMenuSortAsc")}):null,a.includes("desc")&&s!=="desc"?x.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"desc",iconStart:x.jsx(i.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:d("columnMenuSortDesc")}):null,a.includes(null)&&s!=null?x.jsx(i.slots.baseMenuItem,{onClick:c,iconStart:i.slots.columnMenuUnsortIcon?x.jsx(i.slots.columnMenuUnsortIcon,{fontSize:"small"}):x.jsx("span",{}),children:n.current.getLocaleText("columnMenuUnsort")}):null]})}const bBe=["defaultSlots","defaultSlotProps","slots","slotProps"],wBe={columnMenuSortItem:yBe,columnMenuFilterItem:vBe,columnMenuColumnsItem:mBe},SBe={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},CBe=Zt(function(t,r){const{defaultSlots:n,defaultSlotProps:o,slots:i,slotProps:s}=t,a=pt(t,bBe),c=fBe(H({},a,{defaultSlots:n,defaultSlotProps:o,slots:i,slotProps:s}));return x.jsx(dBe,H({},a,{ref:r,children:c.map(([d,h],f)=>x.jsx(d,H({},h),f))}))}),xBe=Zt(function(t,r){return x.jsx(CBe,H({},t,{ref:r,defaultSlots:wBe,defaultSlotProps:SBe}))}),_Be=["className"],EBe=e=>{const{classes:t}=e;return ht({root:["panelWrapper"]},Cr,t)},TBe=we("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),c5=Zt(function(t,r){const{className:n}=t,o=pt(t,_Be),i=yt(),s=EBe(i);return x.jsx(TBe,H({tabIndex:-1,className:Ke(s.root,n),ownerState:i},o,{ref:r}))});function MBe(e){const t=yt();return x.jsx(c5,H({},e,{children:x.jsx(t.slots.columnsManagement,H({},t.slotProps?.columnsManagement))}))}const OBe=["children","className","classes","onClose"],RBe=Kt("MuiDataGrid",["panel","paper"]),IBe=we(hl,{name:"MuiDataGrid",slot:"panel"})({zIndex:wt.zIndex.panel}),PBe=we("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:wt.colors.background.overlay,borderRadius:wt.radius.base,boxShadow:wt.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${wt.spacing(2)})`,overflow:"auto"}),kBe=Zt((e,t)=>{const{children:r,className:n,onClose:o}=e,i=pt(e,OBe),s=dr(),a=yt(),c=RBe,[d,h]=_.useState(!1),f=YG(),g=$t(()=>h(!0)),m=$t(()=>h(!1)),y=$t(()=>{o?.()}),b=$t(E=>{E.key==="Escape"&&o?.()}),[v,C]=_.useState(null);return _.useEffect(()=>{const E=s.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');E&&C(E)},[s]),v?x.jsx(IBe,H({as:a.slots.basePopper,ownerState:a,placement:"bottom-end",className:Ke(c.panel,n,f),flip:!0,onDidShow:g,onDidHide:m,onClickAway:y,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},i,a.slotProps?.basePopper,{target:e.target??v,ref:t,children:x.jsx(PBe,{className:c.paper,ownerState:a,onKeyDown:b,children:d&&r})})):null}),DBe=["className"],ABe=e=>{const{classes:t}=e;return ht({root:["panelContent"]},Cr,t)},LBe=Fr("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:wt.spacing(2.5,1.5,2,1),gap:wt.spacing(2.5)});function NBe(e){const{className:t}=e,r=pt(e,DBe),n=yt(),o=ABe(n);return x.jsx(LBe,H({className:Ke(o.root,t),ownerState:n},r))}const BBe=["className"],FBe=e=>{const{classes:t}=e;return ht({root:["panelFooter"]},Cr,t)},jBe=we("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:wt.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${wt.colors.border.base}`});function VBe(e){const{className:t}=e,r=pt(e,BBe),n=yt(),o=FBe(n);return x.jsx(jBe,H({className:Ke(o.root,t),ownerState:n},r))}const $Be=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],zBe=["InputComponentProps"],UBe=e=>{const{classes:t}=e;return ht({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Cr,t)},GBe=we("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:wt.spacing(1.5)}),HBe=we("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),WBe=we("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),KBe=we("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),qBe=we("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),YBe=we("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),XBe=e=>{switch(e){case Ti.And:return"filterPanelOperatorAnd";case Ti.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Tm=e=>e.headerName||e.field,u5=new Intl.Collator,d5=Zt(function(t,r){const{item:n,hasMultipleFilters:o,deleteFilter:i,applyFilterChanges:s,showMultiFilterOperators:a,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:d,focusElementRef:h,logicOperators:f=[Ti.And,Ti.Or],columnsSort:g,filterColumns:m,deleteIconProps:y={},logicOperatorInputProps:b={},operatorInputProps:v={},columnInputProps:C={},valueInputProps:E={},readOnly:T}=t,R=pt(t,$Be),M=dr(),I=et(M,rc),N=et(M,NG),P=et(M,Ao),L=kr(),D=kr(),$=kr(),B=kr(),U=yt(),q=UBe(U),W=_.useRef(null),V=_.useRef(null),Y=P.logicOperator??Ti.And,Q=o&&f.length>0,z=(U.slotProps?.baseSelect||{}).native??!1,K=U.slotProps?.baseSelectOption||{},{InputComponentProps:Z}=E,le=pt(E,zBe),ce=et(M,Gd),ue=et(M,RH),{filteredColumns:ae,selectedField:ye}=_.useMemo(()=>{let Te=n.field;const Ve=I[n.field].filterable===!1?I[n.field]:null;if(Ve)return{filteredColumns:[Ve],selectedField:Te};if(ce)return{filteredColumns:N.filter(je=>ue.get(je.field)!==void 0),selectedField:Te};if(m===void 0||typeof m!="function")return{filteredColumns:N,selectedField:Te};const nt=m({field:n.field,columns:N,currentFilters:P?.items||[]});return{filteredColumns:N.filter(je=>{const Rt=nt.includes(je.field);return je.field===n.field&&!Rt&&(Te=void 0),Rt}),selectedField:Te}},[n.field,I,ce,m,N,P?.items,ue]),Me=_.useMemo(()=>{switch(g){case"asc":return ae.sort((Te,Ve)=>u5.compare(Tm(Te),Tm(Ve)));case"desc":return ae.sort((Te,Ve)=>-u5.compare(Tm(Te),Tm(Ve)));default:return ae}},[ae,g]),xe=n.field?M.current.getColumn(n.field):null,he=_.useMemo(()=>!n.operator||!xe?null:xe.filterOperators?.find(Te=>Te.value===n.operator),[n,xe]),pe=_.useCallback(Te=>{const Ve=Te.target.value,nt=M.current.getColumn(Ve);if(nt.field===xe.field)return;const je=nt.filterOperators.find(Ct=>Ct.value===n.operator)||nt.filterOperators[0];let dt=!je.InputComponent||je.InputComponent!==he?.InputComponent||nt.type!==xe.type?void 0:n.value;if(nt.type==="singleSelect"&&dt!==void 0){const Ct=nt,$e=zd(Ct);Array.isArray(dt)?dt=dt.filter(It=>Yw(It,$e,Ct?.getOptionValue)!==void 0):Yw(n.value,$e,Ct?.getOptionValue)===void 0&&(dt=void 0)}s(H({},n,{field:Ve,operator:je.value,value:dt}))},[M,s,n,xe,he]),Se=_.useCallback(Te=>{const Ve=Te.target.value,nt=xe?.filterOperators.find(Rt=>Rt.value===Ve),je=!nt?.InputComponent||nt?.InputComponent!==he?.InputComponent;s(H({},n,{operator:Ve,value:je?void 0:n.value}))},[s,n,xe,he]),Ee=_.useCallback(Te=>{const Ve=Te.target.value===Ti.And.toString()?Ti.And:Ti.Or;d(Ve)},[d]),ke=()=>{i(n)};return _.useImperativeHandle(h,()=>({focus:()=>{he?.InputComponent?W?.current?.focus():V.current.focus()}}),[he]),x.jsxs(GBe,H({className:q.root,"data-id":n.id,ownerState:U},R,{ref:r,children:[x.jsx(HBe,H({},y,{className:Ke(q.deleteIcon,y.className),ownerState:U,children:x.jsx(U.slots.baseIconButton,H({"aria-label":M.current.getLocaleText("filterPanelDeleteIconLabel"),title:M.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:ke,size:"small",disabled:T},U.slotProps?.baseIconButton,{children:x.jsx(U.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),x.jsx(WBe,H({as:U.slots.baseSelect,sx:[Q?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},b.sx],className:Ke(q.logicOperatorInput,b.className),ownerState:U},b,{size:"small",slotProps:{htmlInput:{"aria-label":M.current.getLocaleText("filterPanelLogicOperator")}},value:Y??"",onChange:Ee,disabled:!!c||f.length===1,native:z},U.slotProps?.baseSelect,{children:f.map(Te=>_.createElement(U.slots.baseSelectOption,H({},K,{native:z,key:Te.toString(),value:Te.toString()}),M.current.getLocaleText(XBe(Te))))})),x.jsx(KBe,H({as:U.slots.baseSelect},C,{className:Ke(q.columnInput,C.className),ownerState:U,size:"small",labelId:D,id:L,label:M.current.getLocaleText("filterPanelColumns"),value:ye??"",onChange:pe,native:z,disabled:T},U.slotProps?.baseSelect,{children:Me.map(Te=>_.createElement(U.slots.baseSelectOption,H({},K,{native:z,key:Te.field,value:Te.field}),Tm(Te)))})),x.jsx(qBe,H({as:U.slots.baseSelect,size:"small"},v,{className:Ke(q.operatorInput,v.className),ownerState:U,labelId:B,label:M.current.getLocaleText("filterPanelOperator"),id:$,value:n.operator,onChange:Se,native:z,inputRef:V,disabled:T},U.slotProps?.baseSelect,{children:xe?.filterOperators?.map(Te=>_.createElement(U.slots.baseSelectOption,H({},K,{native:z,key:Te.value,value:Te.value}),Te.label||M.current.getLocaleText(`filterOperator${We(Te.value)}`)))})),x.jsx(YBe,H({},le,{className:Ke(q.valueInput,le.className),ownerState:U,children:he?.InputComponent?x.jsx(he.InputComponent,H({apiRef:M,item:n,applyValue:s,focusElementRef:W,disabled:T,slotProps:{root:{size:"small"}}},he.InputComponentProps,Z),n.field):null}))]}))}),ZBe=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],h5=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),QBe=Zt(function(t,r){const n=dr(),o=yt(),i=et(n,Ao),s=et(n,NG),a=et(n,dke),c=_.useRef(null),d=_.useRef(null),{logicOperators:h=[Ti.And,Ti.Or],columnsSort:f,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:y=!1,disableRemoveAllButton:b=!1}=t,v=pt(t,ZBe),C=n.current.upsertFilterItem,E=_.useCallback(B=>{n.current.setFilterLogicOperator(B)},[n]),T=_.useCallback(()=>{let B;if(m&&typeof m=="function"){const U=m({currentFilters:i?.items||[],columns:s});if(U===null)return null;B=s.find(({field:q})=>q===U)}else B=s.find(U=>U.filterOperators?.length);return B?h5(B):null},[i?.items,s,m]),R=_.useCallback(()=>{if(m===void 0||typeof m!="function")return T();const B=i.items.length?i.items:[T()].filter(Boolean),U=m({currentFilters:B,columns:s});if(U===null)return null;const q=s.find(({field:W})=>W===U);return q?h5(q):null},[i.items,s,m,T]),M=_.useMemo(()=>i.items.length?i.items:(d.current||(d.current=T()),d.current?[d.current]:[]),[i.items,T]),I=M.length>1,{readOnlyFilters:N,validFilters:P}=_.useMemo(()=>M.reduce((B,U)=>(a[U.field]?B.validFilters.push(U):B.readOnlyFilters.push(U),B),{readOnlyFilters:[],validFilters:[]}),[M,a]),L=_.useCallback(()=>{const B=R();B&&n.current.upsertFilterItems([...M,B])},[n,R,M]),D=_.useCallback(B=>{const U=P.length===1;n.current.deleteFilterItem(B),U&&n.current.hideFilterPanel()},[n,P.length]),$=_.useCallback(()=>P.length===1&&P[0].value===void 0?(n.current.deleteFilterItem(P[0]),n.current.hideFilterPanel()):n.current.setFilterModel(H({},i,{items:N}),"removeAllFilterItems"),[n,N,i,P]);return _.useEffect(()=>{h.length>0&&i.logicOperator&&!h.includes(i.logicOperator)&&E(h[0])},[h,E,i.logicOperator]),_.useEffect(()=>{P.length>0&&c.current.focus()},[P.length]),x.jsxs(c5,H({},v,{ref:r,children:[x.jsxs(NBe,{children:[N.map((B,U)=>x.jsx(d5,H({item:B,applyFilterChanges:C,deleteFilter:D,hasMultipleFilters:I,showMultiFilterOperators:U>0,disableMultiFilterOperator:U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:null,readOnly:!0,logicOperators:h,columnsSort:f},g),B.id==null?U:B.id)),P.map((B,U)=>x.jsx(d5,H({item:B,applyFilterChanges:C,deleteFilter:D,hasMultipleFilters:I,showMultiFilterOperators:N.length+U>0,disableMultiFilterOperator:N.length+U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:U===P.length-1?c:null,logicOperators:h,columnsSort:f},g),B.id==null?U+N.length:B.id))]}),!o.disableMultipleColumnsFiltering&&!(y&&b)?x.jsxs(VBe,{children:[y?x.jsx("span",{}):x.jsx(o.slots.baseButton,H({onClick:L,startIcon:x.jsx(o.slots.filterPanelAddIcon,{})},o.slotProps?.baseButton,{children:n.current.getLocaleText("filterPanelAddFilter")})),!b&&P.length>0?x.jsx(o.slots.baseButton,H({onClick:$,startIcon:x.jsx(o.slots.filterPanelRemoveAllIcon,{})},o.slotProps?.baseButton,{children:n.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),JBe=(e,t)=>{const r=new Set(Object.keys(e).filter(i=>e[i]===!1)),n=new Set(Object.keys(t).filter(i=>t[i]===!1));if(r.size!==n.size)return!1;let o=!0;return r.forEach(i=>{n.has(i)||(o=!1)}),o},eFe=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,tFe=["children"],rFe=Bs({from:{opacity:0},to:{opacity:1}}),nFe=Bs({"from, to":{"--scrollable":'" "'}}),oFe=Fr("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${nFe};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${rFe} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,iFe=Zt(function(t,r){const{children:n}=t,o=pt(t,tFe);return x.jsx(oFe,H({},o,{ref:r,children:n}))}),sFe=e=>{const{classes:t}=e;return ht({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},Cr,t)},f5=new Intl.Collator;function aFe(e){const t=dr(),r=_.useRef(null),n=et(t,uke),o=et(t,Qs),i=yt(),[s,a]=_.useState(""),c=sFe(i),d=et(t,Zs),h=et(t,Gd),f=et(t,RH),g=_.useMemo(()=>h?Array.from(f.values()):d,[h,f,d]),{sort:m,searchPredicate:y=eFe,autoFocusSearchField:b=!0,disableShowHideToggle:v=!1,disableResetButton:C=!1,toggleAllMode:E="all",getTogglableColumns:T,searchInputProps:R,searchDebounceMs:M=i.columnFilterDebounceMs}=e,I=_.useMemo(()=>qc(z=>{a(z)},M??150),[M]),N=_.useMemo(()=>JBe(o,n),[o,n]),P=_.useMemo(()=>{switch(m){case"asc":return[...g].sort((z,K)=>f5.compare(z.headerName||z.field,K.headerName||K.field));case"desc":return[...g].sort((z,K)=>-f5.compare(z.headerName||z.field,K.headerName||K.field));default:return g}},[g,m]),L=z=>{const{name:K}=z.target;t.current.setColumnVisibility(K,o[K]===!1)},D=_.useMemo(()=>{const z=T?T(P):null,K=z?P.filter(({field:Z})=>z.includes(Z)):P;return s?K.filter(Z=>y(Z,s.toLowerCase())):K},[P,s,y,T]),$=_.useCallback(z=>{const K=Qs(t),Z=H({},K),le=T?T(g):null;return(E==="filteredOnly"?D:g).forEach(ce=>{ce.hideable&&(le==null||le.includes(ce.field))&&(z?delete Z[ce.field]:Z[ce.field]=!1)}),t.current.setColumnVisibilityModel(Z)},[t,g,T,E,D]),B=_.useCallback(z=>{I(z.target.value)},[I]),U=_.useMemo(()=>D.filter(z=>z.hideable),[D]),q=_.useMemo(()=>U.every(z=>o[z.field]==null||o[z.field]!==!1),[o,U]),W=_.useMemo(()=>U.every(z=>o[z.field]===!1),[o,U]),V=_.useRef(null);_.useEffect(()=>{b?r.current?.focus():V.current&&typeof V.current.focus=="function"&&V.current.focus()},[b]);let Y=!1;const Q=z=>Y===!1&&z.hideable!==!1?(Y=!0,!0):!1,re=_.useCallback(()=>{a(""),r.current&&(r.current.value="",r.current.focus())},[]);return x.jsxs(_.Fragment,{children:[x.jsx(uFe,{className:c.header,ownerState:i,children:x.jsx(dFe,H({as:i.slots.baseTextField,ownerState:i,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:r,className:c.searchInput,onChange:B,size:"small",type:"search",slotProps:{input:{startAdornment:x.jsx(i.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:x.jsx(i.slots.baseIconButton,H({size:"small","aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:re,edge:"end"},i.slotProps?.baseIconButton,{children:x.jsx(i.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},i.slotProps?.baseTextField,R))}),x.jsx(cFe,{ownerState:i,children:x.jsxs(lFe,{className:c.root,ownerState:i,children:[D.map(z=>x.jsx(pFe,H({as:i.slots.baseCheckbox,className:c.row,disabled:z.hideable===!1||h,checked:o[z.field]!==!1,onChange:L,name:z.field,inputRef:Q(z)?V:void 0,label:z.headerName||z.field,density:"compact",fullWidth:!0},i.slotProps?.baseCheckbox),z.field)),D.length===0&&x.jsx(fFe,{ownerState:i,children:t.current.getLocaleText("columnsManagementNoColumns")})]})}),!v||!C?x.jsxs(hFe,{ownerState:i,className:c.footer,children:[v?x.jsx("span",{}):x.jsx(i.slots.baseCheckbox,H({disabled:U.length===0||h,checked:q,indeterminate:!q&&!W,onChange:()=>$(!q),name:t.current.getLocaleText("columnsManagementShowHideAllText"),label:t.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},i.slotProps?.baseCheckbox)),C?null:x.jsx(i.slots.baseButton,H({onClick:()=>t.current.setColumnVisibilityModel(n),disabled:N||h},i.slotProps?.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const lFe=we("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:wt.spacing(.5,1.5)}),cFe=we(iFe,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),uFe=we("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:wt.spacing(1.5,2),borderBottom:`1px solid ${wt.colors.border.base}`}),dFe=we(hl,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${ei.input}::-webkit-search-decoration,
      & .${ei.input}::-webkit-search-cancel-button,
      & .${ei.input}::-webkit-search-results-button,
      & .${ei.input}::-webkit-search-results-decoration`]:{display:"none"}}),hFe=we("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:wt.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${wt.colors.border.base}`}),fFe=we("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:wt.spacing(1,0),alignSelf:"center",font:wt.typography.font.body}),pFe=we(hl,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({}),gFe=Zt(function(t,r){const{children:n,slotProps:o={}}=t,i=o.button||{},s=o.tooltip||{},a=dr(),c=yt(),d=kr(),h=kr(),[f,g]=_.useState(!1),m=_.useRef(null),y=Er(r,m),b=C=>{g(E=>!E),i.onClick?.(C)},v=()=>g(!1);return n==null?null:x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,H({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},c.slotProps?.baseTooltip,s,{children:x.jsx(c.slots.baseButton,H({size:"small",startIcon:x.jsx(c.slots.exportIcon,{}),"aria-expanded":f,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":f?h:void 0,id:d},c.slotProps?.baseButton,i,{onClick:b,ref:y,children:a.current.getLocaleText("toolbarExport")}))})),x.jsx(Vw,{open:f,target:m.current,onClose:v,position:"bottom-end",children:x.jsx(c.slots.baseMenuList,{id:h,className:ie.menuList,"aria-labelledby":d,autoFocusItem:f,children:_.Children.map(n,C=>_.isValidElement(C)?_.cloneElement(C,{hideMenu:v}):C)})})]})}),mFe=["hideMenu","options"],vFe=["hideMenu","options"],yFe=["csvOptions","printOptions","excelOptions"];function bFe(e){const t=dr(),r=yt(),{hideMenu:n,options:o}=e,i=pt(e,mFe);return x.jsx(r.slots.baseMenuItem,H({onClick:()=>{t.current.exportDataAsCsv(o),n?.()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function wFe(e){const t=dr(),r=yt(),{hideMenu:n,options:o}=e,i=pt(e,vFe);return x.jsx(r.slots.baseMenuItem,H({onClick:()=>{t.current.exportDataAsPrint(o),n?.()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}Zt(function(t,r){const n=t,{csvOptions:o={},printOptions:i={},excelOptions:s}=n,a=pt(n,yFe),d=dr().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:o,printOptions:i}).sort((h,f)=>h.componentName>f.componentName?1:-1);return d.length===0?null:x.jsx(gFe,H({},a,{ref:r,children:d.map((h,f)=>_.cloneElement(h.component,{key:f}))}))});const p5=_.createContext(void 0);function FR(){const e=_.useContext(p5);if(e===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}const SFe=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],CFe=e=>e.split(" ").filter(t=>t!==""),xFe=e=>e.join(" ");function _Fe(e){const t=yt(),{render:r,className:n,parser:o=CFe,formatter:i=xFe,debounceMs:s=t.filterDebounceMs,defaultExpanded:a,expanded:c,onExpandedChange:d}=e,h=pt(e,SFe),f=dr(),g=_.useRef(null),m=_.useRef(null),y=et(f,JG),[b,v]=_.useState(i(y??[])),[C,E]=_.useState(a??b.length>0),T=c??C,R=_.useMemo(()=>({value:b,expanded:T}),[b,T]),M=typeof n=="function"?n(R):n,I=_.useRef(null),N=kr(),P=_.useCallback(Y=>{d&&d(Y),c===void 0&&E(Y)},[d,c]),L=_.useRef(y);_.useEffect(()=>{ea(L.current,y)||(L.current=y,v(Y=>ea(o(Y),y)?Y:i(y??[])))},[y,i,o]);const D=_.useRef(!0),$=_.useRef(T);_.useEffect(()=>{if(D.current){D.current=!1;return}$.current!==T&&(T?requestAnimationFrame(()=>{g.current?.focus({preventScroll:!0})}):m.current?.focus({preventScroll:!0}),$.current=T)},[T]);const B=_.useMemo(()=>qc(Y=>{const Q=o(Y);L.current=Q,f.current.setQuickFilterValues(Q)},s),[f,s,o]);_.useEffect(()=>B.clear,[B]);const U=_.useCallback(Y=>{const Q=Y.target.value;v(Q),B(Q)},[B]),q=_.useCallback(()=>{v(""),f.current.setQuickFilterValues([]),g.current?.focus()},[f,g]),W=_.useMemo(()=>({controlRef:g,triggerRef:m,state:R,controlId:N,clearValue:q,onValueChange:U,onExpandedChange:P}),[N,R,U,q,P]);zr(()=>{I.current&&m.current&&I.current.style.setProperty("--trigger-width",`${m.current?.offsetWidth}px`)},[]);const V=ml("div",r,H({className:M},h,{ref:I}),R);return x.jsx(p5.Provider,{value:W,children:V})}const EFe=["render","className","slotProps","onKeyDown","onChange"],TFe=Zt(function(t,r){const{render:n,className:o,slotProps:i,onKeyDown:s,onChange:a}=t,c=pt(t,EFe),d=yt(),{state:h,controlId:f,controlRef:g,onValueChange:m,onExpandedChange:y,clearValue:b}=FR(),v=typeof o=="function"?o(h):o,C=Er(g,r),E=I=>{I.key==="Escape"&&(h.value===""?y(!1):b()),s?.(I)},T=I=>{h.value===""&&y(!1),i?.htmlInput?.onBlur?.(I)},R=I=>{h.expanded||y(!0),m(I),a?.(I)},M=ml(d.slots.baseTextField,n,H({},d.slotProps?.baseTextField,{slotProps:H({htmlInput:H({role:"searchbox",id:f,tabIndex:h.expanded?void 0:-1},i?.htmlInput,{onBlur:T})},i),value:h.value,className:v},c,{onChange:R,onKeyDown:E,ref:C}),h);return x.jsx(_.Fragment,{children:M})}),MFe=["render","className","onClick"],OFe=Zt(function(t,r){const{render:n,className:o,onClick:i}=t,s=pt(t,MFe),a=yt(),{state:c,clearValue:d}=FR(),h=typeof o=="function"?o(c):o,f=m=>{d(),i?.(m)},g=ml(a.slots.baseIconButton,n,H({},a.slotProps?.baseIconButton,{className:h,tabIndex:-1},s,{onClick:f,ref:r}),c);return x.jsx(_.Fragment,{children:g})}),RFe=["render","className","onClick"],IFe=Zt(function(t,r){const{render:n,className:o,onClick:i}=t,s=pt(t,RFe),a=yt(),{state:c,controlId:d,onExpandedChange:h,triggerRef:f}=FR(),g=typeof o=="function"?o(c):o,m=Er(f,r),y=v=>{h(!c.expanded),i?.(v)},b=ml(a.slots.baseButton,n,H({},a.slotProps?.baseButton,{className:g,"aria-controls":d,"aria-expanded":c.expanded},s,{onClick:y,ref:m}),c);return x.jsx(_.Fragment,{children:b})}),PFe=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],kFe=["ref","slotProps"],DFe=e=>{const{classes:t}=e;return ht({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},Cr,t)},AFe=Fr("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),LFe=Fr(sS,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:e})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:e.expanded?0:1,pointerEvents:e.expanded?"none":"auto",transition:wt.transition(["opacity"])})),NFe=Fr(e=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:e})=>({gridArea:"1 / 1",overflowX:"clip",width:e.expanded?260:"var(--trigger-width)",opacity:e.expanded?1:0,transition:wt.transition(["width","opacity"])}));function BFe(e){const t=dr(),r=yt(),n={classes:r.classes,expanded:!1},o=DFe(n),{quickFilterParser:i,quickFilterFormatter:s,debounceMs:a,className:c,slotProps:d}=e,h=pt(e,PFe);return x.jsx(_Fe,{parser:i,formatter:s,debounceMs:a,render:(f,g)=>{const m=H({},n,{expanded:g.expanded});return x.jsxs(AFe,H({},f,{className:Ke(o.root,c),children:[x.jsx(IFe,{render:y=>x.jsx(r.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:x.jsx(LFe,H({className:o.trigger},y,{ownerState:m,color:"default","aria-disabled":g.expanded,children:x.jsx(r.slots.quickFilterIcon,{fontSize:"small"})}))})}),x.jsx(TFe,{render:y=>{let{ref:b,slotProps:v}=y,C=pt(y,kFe);return x.jsx(NFe,H({as:r.slots.baseTextField,className:o.control,ownerState:m,inputRef:b,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:H({input:H({startAdornment:x.jsx(r.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:C.value?x.jsx(OFe,{render:x.jsx(r.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:x.jsx(r.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},v?.input)},v)},r.slotProps?.baseTextField,C,d?.root,h))}})]}))}})}const FFe=["render","className","onClick","onPointerUp"],jFe=Zt(function(t,r){const{render:n,className:o,onClick:i,onPointerUp:s}=t,a=pt(t,FFe),c=yt(),d=kr(),h=kr(),f=dr(),g=et(f,Hd),m=g.open&&g.openedPanelValue===Mi.filters,b=et(f,CR).length,v={open:m,filterCount:b},C=typeof o=="function"?o(v):o,{filterPanelTriggerRef:E}=NR(),T=Er(r,E),R=N=>{m?f.current.hidePreferences():f.current.showPreferences(Mi.filters,h,d),i?.(N)},M=N=>{m&&N.stopPropagation(),s?.(N)},I=ml(c.slots.baseButton,n,H({},c.slotProps?.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,onClick:R,onPointerUp:M,className:C},a,{ref:T}),v);return x.jsx(_.Fragment,{children:I})}),VFe=["render","className","onClick","onPointerUp"],$Fe=Zt(function(t,r){const{render:n,className:o,onClick:i,onPointerUp:s}=t,a=pt(t,VFe),c=yt(),d=kr(),h=kr(),f=dr(),g=et(f,Hd),m=g.open&&g.openedPanelValue===Mi.columns,y={open:m},b=typeof o=="function"?o(y):o,{columnsPanelTriggerRef:v}=NR(),C=Er(r,v),E=M=>{m?f.current.hidePreferences():f.current.showPreferences(Mi.columns,h,d),i?.(M)},T=M=>{m&&M.stopPropagation(),s?.(M)},R=ml(c.slots.baseButton,n,H({},c.slotProps?.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,className:b},a,{onPointerUp:T,onClick:E,ref:C}),y);return x.jsx(_.Fragment,{children:R})}),zFe=["render","options","onClick"],UFe=Zt(function(t,r){const{render:n,options:o,onClick:i}=t,s=pt(t,zFe),a=yt(),c=dr(),d=f=>{c.current.exportDataAsCsv(o),i?.(f)},h=ml(a.slots.baseButton,n,H({},a.slotProps?.baseButton,{onClick:d},s,{ref:r}));return x.jsx(_.Fragment,{children:h})}),GFe=["render","options","onClick"],HFe=Zt(function(t,r){const{render:n,options:o,onClick:i}=t,s=pt(t,GFe),a=yt(),c=dr(),d=f=>{c.current.exportDataAsPrint(o),i?.(f)},h=ml(a.slots.baseButton,n,H({},a.slotProps?.baseButton,{onClick:d},s,{ref:r}));return x.jsx(_.Fragment,{children:h})}),WFe=["className"],KFe=["className"],g5=e=>{const{classes:t}=e;return ht({divider:["toolbarDivider"],label:["toolbarLabel"]},Cr,t)},qFe=Fr(hl,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:wt.spacing(0,.5)}),YFe=Fr("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:wt.typography.font.large,fontWeight:wt.typography.fontWeight.medium,margin:wt.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function m5(e){const t=pt(e,WFe),r=yt(),n=g5(r);return x.jsx(qFe,H({as:r.slots.baseDivider,orientation:"vertical",className:n.divider},t))}function XFe(e){const t=pt(e,KFe),r=yt(),n=g5(r);return x.jsx(YFe,H({className:n.label},t))}function ZFe(e){const{showQuickFilter:t=!0,quickFilterProps:r,csvOptions:n,printOptions:o,additionalItems:i,additionalExportMenuItems:s}=e,a=dr(),c=yt(),[d,h]=_.useState(!1),f=_.useRef(null),g=kr(),m=kr(),y=!n?.disableToolbarButton||!o?.disableToolbarButton||s,b=()=>h(!1);return x.jsxs(e5,{children:[c.label&&x.jsx(XFe,{children:c.label}),!c.disableColumnSelector&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarColumns"),children:x.jsx($Fe,{render:x.jsx(sS,{}),children:x.jsx(c.slots.columnSelectorIcon,{fontSize:"small"})})}),!c.disableColumnFilter&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarFilters"),children:x.jsx(jFe,{render:(v,C)=>x.jsx(sS,H({},v,{color:C.filterCount>0?"primary":"default",children:x.jsx(c.slots.baseBadge,{badgeContent:C.filterCount,color:"primary",variant:"dot",children:x.jsx(c.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),i,y&&(!c.disableColumnFilter||!c.disableColumnSelector)&&x.jsx(m5,{}),y&&x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarExport"),disableInteractive:d,children:x.jsx(sS,{ref:f,id:m,"aria-controls":g,"aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:()=>h(!d),children:x.jsx(c.slots.exportIcon,{fontSize:"small"})})}),x.jsx(Vw,{target:f.current,open:d,onClose:b,position:"bottom-end",children:x.jsxs(c.slots.baseMenuList,H({id:g,"aria-labelledby":m,autoFocusItem:!0},c.slotProps?.baseMenuList,{children:[!o?.disableToolbarButton&&x.jsx(HFe,{render:x.jsx(c.slots.baseMenuItem,H({},c.slotProps?.baseMenuItem)),options:o,onClick:b,children:a.current.getLocaleText("toolbarExportPrint")}),!n?.disableToolbarButton&&x.jsx(UFe,{render:x.jsx(c.slots.baseMenuItem,H({},c.slotProps?.baseMenuItem)),options:n,onClick:b,children:a.current.getLocaleText("toolbarExportCSV")}),s?.(b)]}))})]}),t&&x.jsxs(_.Fragment,{children:[x.jsx(m5,{}),x.jsx(BFe,H({},r))]})]})}const QFe=["className","selectedRowCount"],JFe=e=>{const{classes:t}=e;return ht({root:["selectedRowCount"]},Cr,t)},eje=Fr("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:wt.spacing(0,2),visibility:"hidden",width:0,height:0,[wt.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),tje=Zt(function(t,r){const{className:n,selectedRowCount:o}=t,i=pt(t,QFe),s=dr(),a=yt(),c=JFe(a),d=s.current.getLocaleText("footerRowSelected")(o);return x.jsx(eje,H({className:Ke(c.root,n),ownerState:a},i,{ref:r,children:d}))}),rje=Zt(function(t,r){const n=dr(),o=yt(),i=et(n,TPe),s=et(n,Hw),a=et(n,SR),c=!o.hideFooterSelectedRowCount&&s>0?x.jsx(tje,{selectedRowCount:s}):x.jsx("div",{}),d=!o.hideFooterRowCount&&!o.pagination?x.jsx(o.slots.footerRowCount,H({},o.slotProps?.footerRowCount,{rowCount:i,visibleRowCount:a})):null,h=o.pagination&&!o.hideFooterPagination&&o.slots.pagination&&x.jsx(o.slots.pagination,H({},o.slotProps?.pagination));return x.jsxs(oNe,H({},t,{ref:r,children:[c,d,h]}))}),Mm=(e,t,r,n,o,i)=>{let s;switch(e){case Mr.LEFT:s=n[r];break;case Mr.RIGHT:s=o-n[r]-t+i;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},lS=(e,t,r,n,o)=>{const i=t===r-1;return e===Mr.LEFT&&i?!0:n?e===Mr.LEFT?!0:e===Mr.RIGHT?!i:!i||o:!1},cS=(e,t)=>e===Mr.RIGHT&&t===0,Om={root:ie.scrollbarFiller,header:ie["scrollbarFiller--header"],borderTop:ie["scrollbarFiller--borderTop"],borderBottom:ie["scrollbarFiller--borderBottom"],pinnedRight:ie["scrollbarFiller--pinnedRight"]};function jR({header:e,borderTop:t=!0,borderBottom:r,pinnedRight:n}){return x.jsx("div",{role:"presentation",className:Ke(Om.root,e&&Om.header,t&&Om.borderTop,r&&Om.borderBottom,n&&Om.pinnedRight)})}const nje=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],oje=Fr("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),ije=e=>{const{classes:t}=e;return ht({root:["skeletonLoadingOverlay"]},Cr,t)},v5=e=>parseInt(e.getAttribute("data-colindex"),10),sje=Zt(function(t,r){const n=yt(),{slots:o}=n,i=Uo(),s=ije({classes:n.classes}),a=_.useRef(null),c=Er(a,r),d=dr(),h=et(d,Qn),f=et(d,lR),g=et(d,Vd),m=_.useMemo(()=>g.filter(P=>P<=f).length,[f,g]),{skeletonRowsCount:y,visibleColumns:b,showFirstRowBorder:v}=t,C=pt(t,nje),E=et(d,Jn),T=_.useMemo(()=>E.slice(0,m),[E,m]),R=et(d,Bw),M=_.useCallback(P=>{if(R.left.findIndex(L=>L.field===P)!==-1)return Mr.LEFT;if(R.right.findIndex(L=>L.field===P)!==-1)return Mr.RIGHT},[R.left,R.right]),I=_.useMemo(()=>{const P=[];for(let L=0;L<y;L+=1){const D=[];for(let $=0;$<T.length;$+=1){const B=T[$],U=M(B.field),q=U===Mr.LEFT,W=U===Mr.RIGHT,V=KH(U,i),Y=V?R[V].length:T.length-R.left.length-R.right.length,Q=V?R[V].findIndex(Se=>Se.field===B.field):$-R.left.length,re=h.hasScrollY?h.scrollbarSize:0,z=nS({},i,U,Mm(U,B.computedWidth,$,g,h.columnsTotalWidth,re)),K=h.columnsTotalWidth<h.viewportOuterSize.width,Z=lS(U,Q,Y,n.showCellVerticalBorder,K),le=cS(U,Q),ce=$===T.length-1,ue=W&&Q===0,ae=ue&&K,ye=ce&&!ue&&K,Me=h.viewportOuterSize.width-h.columnsTotalWidth,xe=Math.max(0,Me),he=x.jsx(o.skeletonCell,{width:xe,empty:!0},`skeleton-filler-column-${L}`),pe=ce&&re!==0;ae&&D.push(he),D.push(x.jsx(o.skeletonCell,{field:B.field,type:B.type,align:B.align,width:"var(--width)",height:h.rowHeight,"data-colindex":$,empty:b&&!b.has(B.field),className:Ke(q&&ie["cell--pinnedLeft"],W&&ie["cell--pinnedRight"],Z&&ie["cell--withRightBorder"],le&&ie["cell--withLeftBorder"]),style:H({"--width":`${B.computedWidth}px`},z)},`skeleton-column-${L}-${B.field}`)),ye&&D.push(he),pe&&D.push(x.jsx(jR,{pinnedRight:R.right.length>0},`skeleton-scrollbar-filler-${L}`))}P.push(x.jsx("div",{className:Ke(ie.row,ie.rowSkeleton,L===0&&!v&&ie["row--firstVisible"]),children:D},`skeleton-row-${L}`))}return P},[y,T,M,i,R,h.hasScrollY,h.scrollbarSize,h.columnsTotalWidth,h.viewportOuterSize.width,h.rowHeight,g,n.showCellVerticalBorder,o,b,v]);return Tt(d,"columnResize",P=>{const{colDef:L,width:D}=P,$=a.current?.querySelectorAll(`[data-field="${oc(L.field)}"]`);if(!$)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const B=T.findIndex(Q=>Q.field===L.field),U=M(L.field),q=U===Mr.LEFT,W=U===Mr.RIGHT,V=getComputedStyle($[0]).getPropertyValue("--width"),Y=parseInt(V,10)-D;$&&$.forEach(Q=>{Q.style.setProperty("--width",`${D}px`)}),q&&a.current?.querySelectorAll(`.${ie["cell--pinnedLeft"]}`)?.forEach(re=>{v5(re)>B&&(re.style.left=`${parseInt(getComputedStyle(re).left,10)-Y}px`)}),W&&a.current?.querySelectorAll(`.${ie["cell--pinnedRight"]}`)?.forEach(re=>{v5(re)<B&&(re.style.right=`${parseInt(getComputedStyle(re).right,10)+Y}px`)})}),x.jsx(oje,H({className:s.root},C,{ref:c,children:I}))}),aje=Zt(function(t,r){const n=dr(),o=et(n,Qn),i=o?.viewportInnerSize.height??0,s=Math.ceil(i/o.rowHeight);return x.jsx(sje,H({},t,{skeletonRowsCount:s,ref:r}))}),lje=["variant","noRowsVariant","style"],cje={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>aje,style:{display:"block"}}},uje=Zt(function(t,r){const{variant:n="linear-progress",noRowsVariant:o="skeleton",style:i}=t,s=pt(t,lje),a=dr(),c=yt(),d=et(a,uf),h=cje[d===0?o:n],f=h.component(c);return x.jsx(iS,H({style:H({},h.style,i)},s,{ref:r,children:x.jsx(f,{})}))}),dje=Zt(function(t,r){const o=dr().current.getLocaleText("noRowsLabel");return x.jsx(iS,H({},t,{ref:r,children:o}))}),hje=Zt(function(t,r){const n=yt(),o=dr(),i=et(o,gl),s=()=>{o.current.showPreferences(Mi.columns)},a=!n.disableColumnSelector&&i.length>0;return x.jsxs(iS,H({},t,{ref:r,children:[o.current.getLocaleText("noColumnsOverlayLabel"),a&&x.jsx(n.slots.baseButton,H({size:"small"},n.slotProps?.baseButton,{onClick:s,children:o.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),fje=we(hl)({maxHeight:"calc(100% + 1px)",flexGrow:1});function pje(){const e=dr(),t=yt(),r=et(e,Wo),n=et(e,gf),o=et(e,fH),{paginationMode:i,loading:s}=t,a=n===-1&&i==="server"&&s,c=_.useMemo(()=>Math.max(0,o-1),[o]),d=_.useMemo(()=>n===-1||r.page<=c?r.page:c,[c,r.page,n]),h=_.useCallback(y=>{e.current.setPageSize(y)},[e]),f=_.useCallback((y,b)=>{e.current.setPage(b)},[e]),m=(y=>{for(let b=0;b<t.pageSizeOptions.length;b+=1){const v=t.pageSizeOptions[b];if(typeof v=="number"){if(v===y)return!0}else if(v.value===y)return!0}return!1})(r.pageSize)?t.pageSizeOptions:[];return x.jsx(fje,H({as:t.slots.basePagination,count:n,page:d,rowsPerPageOptions:m,rowsPerPage:r.pageSize,onPageChange:f,onRowsPerPageChange:h,disabled:a},t.slotProps?.basePagination))}const gje=["className","rowCount","visibleRowCount"],mje=e=>{const{classes:t}=e;return ht({root:["rowCount"]},Cr,t)},vje=Fr("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:wt.spacing(0,2)}),yje=Zt(function(t,r){const{className:n,rowCount:o,visibleRowCount:i}=t,s=pt(t,gje),a=dr(),c=yt(),d=mje(c);if(o===0)return null;const h=i<o?a.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return x.jsxs(vje,H({className:Ke(d.root,n),ownerState:c},s,{ref:r,children:[a.current.getLocaleText("footerTotalRows")," ",h]}))});function bje(e,t){return ht(t,Cr,e)}const Mf=(e,t)=>wm(e),y5=(e,t)=>et(e,wm),wje=kn(e=>e.rowReorder),Sje=Ot(wje,e=>e?.isActive??!1),Cje=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],xje=Ot(Lo,(e,{rowReordering:t,treeData:r})=>!t||r?!1:!!Uw(e)),_je=Zt(function(t,r){const{selected:n,rowId:o,row:i,index:s,style:a,rowHeight:c,className:d,visibleColumns:h,pinnedColumns:f,offsetLeft:g,columnsTotalWidth:m,firstColumnIndex:y,lastColumnIndex:b,focusedColumnIndex:v,isFirstVisible:C,isLastVisible:E,isNotVisible:T,showBottomBorder:R,scrollbarWidth:M,gridHasFiller:I,onClick:N,onDoubleClick:P,onMouseEnter:L,onMouseLeave:D,onMouseOut:$,onMouseOver:B}=t,U=pt(t,Cje),q=us(),W=jw(),V=_.useRef(null),Y=yt(),Q=y5(q),re=et(q,Js),z=et(q,Vd),K=Y.rowReordering,Z=Y.treeData,le=et(q,xje,{rowReordering:K,treeData:Z}),ce=et(q,Sje),ue=Er(V,r),ae=dl(q,o),ye=et(q,PH,{rowId:o,editMode:Y.editMode}),Me=Y.editMode===fl.Row,xe=v!==void 0,he=xe&&v>=f.left.length&&v<y,pe=xe&&v<h.length-f.right.length&&v>=b,Se=bje(Y.classes,{root:["row",n&&"selected",Me&&"row--editable",ye&&"row--editing",C&&"row--firstVisible",E&&"row--lastVisible",R&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]}),Ee=W.hooks.useGridRowAriaAttributes();_.useLayoutEffect(()=>{if(Q.range){const gt=q.current.getRowIndexRelativeToVisibleRows(o);gt!==void 0&&q.current.unstable_setLastMeasuredRowIndex(gt)}if(V.current&&c==="auto")return q.current.observeRowHeight(V.current,o)},[q,Q.range,c,o]);const ke=_.useCallback((gt,_t)=>He=>{Em(He)||q.current.getRow(o)&&(q.current.publishEvent(gt,q.current.getRowParams(o),He),_t&&_t(He))},[q,o]),Te=_.useCallback(gt=>{const He=aS(gt.target,ie.cell)?.getAttribute("data-field");He&&(He===vf.field||He===yR||He==="__reorder__"||q.current.getCellMode(o,He)===Kr.Edit||q.current.getColumn(He)?.type===$w)||ke("rowClick",N)(gt)},[q,N,ke,o]),{slots:Ve,slotProps:nt,disableColumnReorder:je}=Y,Rt=et(q,()=>H({},q.current.getRowHeightEntry(o)),void 0,bG),dt=_.useMemo(()=>{if(T)return{opacity:0,width:0,height:0};const gt=H({},a,{maxHeight:c==="auto"?"none":c,minHeight:c,"--height":typeof c=="number"?`${c}px`:c});if(Rt.spacingTop){const _t=Y.rowSpacingType==="border"?"borderTopWidth":"marginTop";gt[_t]=Rt.spacingTop}if(Rt.spacingBottom){const _t=Y.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let He=gt[_t];typeof He!="number"&&(He=parseInt(He||"0",10)),He+=Rt.spacingBottom,gt[_t]=He}return gt},[T,c,a,Rt,Y.rowSpacingType]);if(!ae)return null;const Ct=q.current.unstable_applyPipeProcessors("rowClassName",[],o),$e=Ee(ae,s);if(typeof Y.getRowClassName=="function"){const gt=s-(Q.range?.firstRowIndex||0),_t=H({},q.current.getRowParams(o),{isFirstVisible:gt===0,isLastVisible:gt===Q.rows.length-1,indexRelativeToCurrentPage:gt});Ct.push(Y.getRowClassName(_t))}const It=(gt,_t,He,ct,ut=Mr.NONE)=>{const St=q.current.unstable_getCellColSpanInfo(o,He);if(St?.spannedByColSpan)return null;const at=St?.cellProps.width??gt.computedWidth,At=St?.cellProps.colSpan??1,ft=Mm(ut,gt.computedWidth,He,z,m,M);if(ae.type==="skeletonRow")return x.jsx(Ve.skeletonCell,{type:gt.type,width:at,height:c,field:gt.field,align:gt.align},gt.field);const Pt=gt.field==="__reorder__",Ir=!(je||gt.disableReorder),Dr=le&&!re.length,un=!(Ir||Pt&&Dr||ce),xr=ut===Mr.VIRTUAL,Tn=cS(ut,_t),qr=lS(ut,_t,ct,Y.showCellVerticalBorder,I);return x.jsx(Ve.cell,H({column:gt,width:at,rowId:o,align:gt.align||"left",colIndex:He,colSpan:At,disableDragEvents:un,isNotVisible:xr,pinnedOffset:ft,pinnedPosition:ut,showLeftBorder:Tn,showRightBorder:qr,row:i,rowNode:ae},nt?.cell),gt.field)},mt=f.left.map((gt,_t)=>It(gt,_t,_t,f.left.length,Mr.LEFT)),Bt=f.right.map((gt,_t)=>{const He=h.length-f.right.length+_t;return It(gt,_t,He,f.right.length,Mr.RIGHT)}),zt=h.length-f.left.length-f.right.length,qt=[];he&&qt.push(It(h[v],v-f.left.length,v,zt,Mr.VIRTUAL));for(let gt=y;gt<b;gt+=1){const _t=h[gt],He=gt-f.left.length;_t&&qt.push(It(_t,He,gt,zt))}pe&&qt.push(It(h[v],v-f.left.length,v,zt,Mr.VIRTUAL));const tr=i?{onClick:Te,onDoubleClick:ke("rowDoubleClick",P),onMouseEnter:ke("rowMouseEnter",L),onMouseLeave:ke("rowMouseLeave",D),onMouseOut:ke("rowMouseOut",$),onMouseOver:ke("rowMouseOver",B)}:null;return x.jsxs("div",H({"data-id":o,"data-rowindex":s,role:"row",className:Ke(...Ct,Se.root,d),style:dt},$e,tr,U,{ref:ue,children:[mt,x.jsx("div",{role:"presentation",className:ie.cellOffsetLeft,style:{width:g}}),qt,x.jsx("div",{role:"presentation",className:Ke(ie.cell,ie.cellEmpty)}),Bt,M!==0&&x.jsx(jR,{pinnedRight:f.right.length>0,borderTop:!C})]}))}),Eje=ec(_je),Tje=()=>{const e=us(),t=yt(),r=et(e,Jn),n=et(e,wR),o=et(e,Cm),i=et(e,cG),s=t["aria-label"],a=t["aria-labelledby"];return{role:"grid","aria-label":!s&&!a&&t.label?t.label:s,"aria-labelledby":a,"aria-colcount":r.length,"aria-rowcount":o+1+i+n,"aria-multiselectable":xR(t)}},Mje=()=>{const e=us(),t=et(e,Cm);return _.useCallback((r,n)=>{const o={},i=n+t+2;return o["aria-rowindex"]=i,r&&e.current.isRowSelectable(r.id)&&(o["aria-selected"]=e.current.isRowSelected(r.id)),o},[e,t])},Oje=e=>({setRowIndex:_.useCallback((r,n)=>{const o=dl(e,r);if(!o)throw new Error(`MUI X: No row with id #${r} found.`);if(o.parent!==Do)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(o.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(i=>{const s=Ho(e)[Do],a=s.children,c=a.findIndex(h=>h===r);if(c===-1||c===n)return i;const d=[...a];return d.splice(n,0,d.splice(c,1)[0]),H({},i,{rows:H({},i.rows,{tree:H({},i.rows.tree,{[Do]:H({},s,{children:d})})})})}),e.current.publishEvent("rowsSet")},[e])});function Rje({privateApiRef:e,configuration:t,props:r,children:n}){const o=_.useRef(e.current.getPublicApi());return x.jsx(qG.Provider,{value:t,children:x.jsx(X2.Provider,{value:r,children:x.jsx(TH.Provider,{value:e,children:x.jsx(Z2.Provider,{value:o,children:x.jsx(qLe,{children:x.jsx(_ke,{children:n})})})})})})}const Ije=e=>{const t=_.useRef(null),r=_.useRef(null),n=_.useRef(null),o=_.useRef(null),i=_.useRef(null),s=_.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:r,virtualScrollerRef:n,virtualScrollbarVerticalRef:o,virtualScrollbarHorizontalRef:i,columnHeadersContainerRef:s})},Pje=e=>{const t=Uo();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const r=_.useRef(!0);_.useEffect(()=>{r.current?r.current=!1:e.current.setState(n=>H({},n,{isRtl:t}))},[e,t])},kje=ike()&&window.localStorage.getItem("DEBUG")!=null,Rm=()=>{},Dje={debug:Rm,info:Rm,warn:Rm,error:Rm},b5=["debug","info","warn","error"];function w5(e,t,r=console){const n=b5.indexOf(t);if(n===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return b5.reduce((i,s,a)=>(a>=n?i[s]=(...c)=>{const[d,...h]=c;r[s](`MUI X: ${e} - ${d}`,...h)}:i[s]=Rm,i),{})}const Aje=(e,t)=>{const r=_.useCallback(n=>kje?w5(n,"debug",t.logger):t.logLevel?w5(n,t.logLevel.toString(),t.logger):Dje,[t.logLevel,t.logger]);wr(e,{getLogger:r},"private")},Lje=(e,t)=>{const r=_.useCallback(n=>{if(t.localeText[n]==null)throw new Error(`Missing translation for key ${n}.`);return t.localeText[n]},[t.localeText]);e.current.register("public",{getLocaleText:r})};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function Nje(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pm(e){var t=Nje(e,"string");return Im(t)=="symbol"?t:t+""}const Bje=e=>{const t=_.useRef({}),r=_.useRef(!1),n=_.useCallback(f=>{r.current||!f||(r.current=!0,Object.values(f.appliers).forEach(g=>{g()}),r.current=!1)},[]),o=_.useCallback((f,g,m)=>{t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const y=t.current[f];return y.processors.get(g)!==m&&(y.processors.set(g,m),y.processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null),y.processorsUpdated=!0),()=>{t.current[f].processors.set(g,null),t.current[f].processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null)}},[]),i=_.useCallback((f,g,m)=>(t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[f].appliers[g]=m,()=>{const y=t.current[f].appliers,b=pt(y,[g].map(Pm));t.current[f].appliers=b}),[]),s=_.useCallback(f=>{n(t.current[f])},[n]),a=_.useCallback(()=>{for(const f in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,f))continue;const g=t.current[f];g.processorsUpdated&&(g.processorsUpdated=!1,n(g))}},[n]),c=_.useCallback((...f)=>{const[g,m,y]=f;if(!t.current[g])return m;const b=t.current[g].processorsAsArray;let v=m;for(let C=0;C<b.length;C+=1)v=b[C](v,y);return v},[]),d={registerPipeProcessor:o,registerPipeApplier:i,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:a},h={unstable_applyPipeProcessors:c};wr(e,d,"private"),wr(e,h,"public")},Un=(e,t,r,n=!0)=>{const o=_.useRef(null),i=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=_.useCallback(()=>{o.current=e.current.registerPipeProcessor(t,i.current,r)},[e,r,t]);Ud(()=>{n&&s()});const a=_.useRef(!0);_.useEffect(()=>(a.current?a.current=!1:n&&s(),()=>{o.current&&(o.current(),o.current=null)}),[s,n])},VR=(e,t,r)=>{const n=_.useRef(null),o=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=_.useCallback(()=>{n.current=e.current.registerPipeApplier(t,o.current,r)},[e,r,t]);Ud(()=>{i()});const s=_.useRef(!0);_.useEffect(()=>(s.current?s.current=!1:i(),()=>{n.current&&(n.current(),n.current=null)}),[i])};let du=(function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e})({});const km=(e,t,r,n)=>{const o=_.useCallback(()=>{e.current.registerStrategyProcessor(t,r,n)},[e,n,r,t]);Ud(()=>{o()});const i=_.useRef(!0);_.useEffect(()=>{i.current?i.current=!1:o()},[o])},Kd="none",S5={dataSourceRowsUpdate:du.DataSource,rowTreeCreation:du.RowTree,filtering:du.RowTree,sorting:du.RowTree,visibleRowsLookupCreation:du.RowTree},Fje=e=>{const t=_.useRef(new Map),r=_.useRef({}),n=_.useCallback((c,d,h)=>{const f=()=>{const y=r.current[d],b=pt(y,[c].map(Pm));r.current[d]=b};r.current[d]||(r.current[d]={});const g=r.current[d],m=g[c];return g[c]=h,!m||m===h||c===e.current.getActiveStrategy(S5[d])&&e.current.publishEvent("activeStrategyProcessorChange",d),f},[e]),o=_.useCallback((c,d)=>{const h=e.current.getActiveStrategy(S5[c]);if(h==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=r.current[c];if(!f||!f[h])throw new Error(`No processor found for processor "${c}" on strategy "${h}"`);const g=f[h];return g(d)},[e]),i=_.useCallback(c=>Array.from(t.current.entries()).find(([,f])=>f.group!==c?!1:f.isAvailable())?.[0]??Kd,[]),s=_.useCallback((c,d,h)=>{t.current.set(d,{group:c,isAvailable:h}),e.current.publishEvent("strategyAvailabilityChange")},[e]);wr(e,{registerStrategyProcessor:n,applyStrategyProcessor:o,getActiveStrategy:i,setStrategyAvailability:s},"private")},jje=e=>{const t=_.useRef({}),r=_.useCallback(a=>{t.current[a.stateId]=a},[]),n=_.useCallback((a,c)=>{let d;if(oke(a)?d=a(e.current.state):d=a,e.current.state===d)return!1;const h={current:{state:d}};let f=!1;const g=[];if(Object.keys(t.current).forEach(m=>{const y=t.current[m],b=y.stateSelector(e),v=y.stateSelector(h);v!==b&&(g.push({stateId:y.stateId,hasPropChanged:v!==y.propModel}),y.propModel!==void 0&&v!==y.propModel&&(f=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(m=>m.stateId).join(", ")} in the same transaction.`);if(f||(e.current.state=d,e.current.publishEvent("stateChange",d),e.current.store.update(d)),g.length===1){const{stateId:m,hasPropChanged:y}=g[0],b=t.current[m],v=b.stateSelector(h);b.propOnChange&&y&&b.propOnChange(v,{reason:c,api:e.current}),f||e.current.publishEvent(b.changeEvent,v,{reason:c})}return!f},[e]),o=_.useCallback((a,c,d)=>e.current.setState(h=>H({},h,{[a]:c(h[a])}),d),[e]),i={setState:n},s={updateControlState:o,registerControlState:r};wr(e,i,"public"),wr(e,s,"private")},Vje=(e,t)=>H({},e,{props:{listView:t.listView,getRowId:t.getRowId}}),$je=(e,t)=>{_.useEffect(()=>{e.current.setState(r=>H({},r,{props:{listView:t.listView,getRowId:t.getRowId}}))},[e,t.listView,t.getRowId])},zje=(e,t)=>{Ije(e),$je(e,t),Pje(e),Aje(e,t),jje(e),Bje(e),Fje(e),Lje(e,t),e.current.register("private",{rootProps:t})},Uje=Ot(Ui,GH,wm,Jn,(e,t,r,n)=>{if(!e)return!1;const o=r.rowIdToIndexMap.get(e.id),i=n.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(a=>a.field===e.field);return!(o!==void 0&&i!==-1&&o>=t.firstRowIndex&&o<=t.lastRowIndex)}),Gje=Ur(Uje,Jn,wm,Ui,(e,t,r,n)=>{if(!e)return null;const o=r.rowIdToIndexMap.get(n.id);if(o===void 0)return null;const i=t.findIndex(s=>s.field===n.field);return i===-1?null:H({},n,{rowIndex:o,columnIndex:i})}),uS={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:fl.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function Hje(e){return e}const Wje=Ot(Jn,Vd,(e,t)=>{const r=e.length;return r===0?0:Wd(t[r-1]+e[r-1].computedWidth,1)}),Kje=()=>$O((e,t,r,n,o)=>H({},e,{headerHeight:t,groupHeaderHeight:r,headerFilterHeight:n,headersTotalHeight:o}),{maxSize:1});function qje(e,t){const r=Uo(),{listView:n}=t,o=et(e,Jn),i=et(e,um),s=Bw(e),a=et(e,vm),c=re=>a.has(re)&&e.current.isRowSelectable(re),d=y5(e),h=et(e,hke),f=et(e,aG),g=et(e,sG),{autoHeight:m}=t,y=n,b=et(e,dm),v=mG(t.rowHeight,uS.rowHeight),C=Math.floor(v*b),E=Math.floor(t.columnHeaderHeight*b),T=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*b),R=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*b),M=et(e,Wje),I=xm(e,t),N=s.left.reduce((re,z)=>re+z.computedWidth,0),P=s.right.reduce((re,z)=>re+z.computedWidth,0),L={rowHeight:C,headerHeight:E,columnsTotalWidth:M,leftPinnedWidth:N,rightPinnedWidth:P,topPinnedHeight:I,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},D=ss(Kje).current,$=et(e,uf),B=et(e,pf),U=Math.min(B.enabled?B.paginationModel.pageSize:$,$),{getRowHeight:q,getEstimatedRowHeight:W,getRowSpacing:V}=t,Y=et(e,Gje),Q=rLe({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:L,virtualization:{isRtl:r,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:h,getColspan:(re,z)=>{if(typeof z.colSpan=="function"){const K=e.current.getRow(re),Z=e.current.getRowValue(K,z);return z.colSpan(Z,K,z,e)??0}return z.colSpan??1}},initialState:{scroll:t.initialState?.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:d.rows,range:d.range,rowCount:U,columns:o,pinnedRows:i,pinnedColumns:s,autoHeight:m,minimalContentHeight:pG,getRowHeight:_.useMemo(()=>{if(q)return re=>q(H({},re,{densityFactor:b}))},[q,b]),getEstimatedRowHeight:_.useMemo(()=>W?re=>W(H({},re,{densityFactor:b})):void 0,[W,b]),getRowSpacing:_.useMemo(()=>V?re=>{const z=d.rowIdToIndexMap.get(re.id)??-1,K={isFirstVisible:z===0,isLastVisible:z===d.rows.length-1,indexRelativeToCurrentPage:z};return V(H({},re,K,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(re.id)}))}:void 0,[e,V,d.rows,d.rowIdToIndexMap]),applyRowHeight:$t((re,z)=>e.current.unstable_applyPipeProcessors("rowHeight",re,z)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:$t(()=>Y),resizeThrottleMs:t.resizeThrottleMs,onResize:$t(re=>e.current.publishEvent("resize",re)),onWheel:$t(re=>{e.current.publishEvent("virtualScrollerWheel",{},re)}),onTouchMove:$t(re=>{e.current.publishEvent("virtualScrollerTouchMove",{},re)}),onRenderContextChange:$t(re=>{e.current.publishEvent("renderedRowsIntervalChange",re)}),onScrollChange:(re,z)=>{e.current.publishEvent("scrollPositionChange",{top:re.top,left:re.left,renderContext:z})},scrollReset:y,renderRow:re=>x.jsx(t.slots.row,H({row:re.model,rowId:re.id,index:re.rowIndex,selected:c(re.id),offsetLeft:re.offsetLeft,columnsTotalWidth:M,rowHeight:re.baseRowHeight,pinnedColumns:s,visibleColumns:o,firstColumnIndex:re.firstColumnIndex,lastColumnIndex:re.lastColumnIndex,focusedColumnIndex:re.focusedColumnIndex,isFirstVisible:re.isFirstVisible,isLastVisible:re.isLastVisible,isNotVisible:re.isVirtualFocusRow,showBottomBorder:re.showBottomBorder,scrollbarWidth:f,gridHasFiller:g},t.slotProps?.row),re.id),renderInfiniteLoadingTrigger:re=>e.current.getInfiniteLoadingTriggerElement?.({lastRowId:re})});Ud(()=>{e.current.store.state.dimensions=D(Q.store.state.dimensions,E,T,R,I),e.current.store.state.rowsMeta=Q.store.state.rowsMeta,e.current.store.state.virtualization=Q.store.state.virtualization}),Sw(Q.store,Gi.selectors.dimensions,(re,z)=>{e.current.setState(K=>H({},K,{dimensions:D(z,E,T,R,I)}))}),Sw(Q.store,Hje,(re,z)=>{z.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(K=>H({},K,{rowsMeta:z.rowsMeta})),z.virtualization!==e.current.state.virtualization&&e.current.setState(K=>H({},K,{virtualization:z.virtualization}))}),e.current.register("private",{virtualizer:Q})}const No=(e,t,r,n)=>{const o=_.useRef(n),i=_.useRef(!1);n!==o.current&&(i.current=!1,o.current=n),i.current||(t.current.state=e(t.current.state,r,t),i.current=!0)};function $R(e,t){if(e==null)return"";const r=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const n=r.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(n[0])?`"'${n}"`:[t.delimiter,`
`,"\r",'"'].some(o=>r.includes(o))?`"${n}"`:n}return r}const C5=(e,t)=>{const{csvOptions:r,ignoreValueFormatter:n}=t;let o;if(n){const i=e.colDef.type;i==="number"?o=String(e.value):i==="date"||i==="dateTime"?o=e.value?.toISOString():typeof e.value?.toString=="function"?o=e.value.toString():o=e.value}else o=e.formattedValue;return $R(o,r)};class zR{rowString="";isEmpty=!0;constructor(t){this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const Yje=({id:e,columns:t,getCellParams:r,csvOptions:n,ignoreValueFormatter:o})=>{const i=new zR({csvOptions:n});return t.forEach(s=>{const a=r(e,s.field);i.addValue(C5(a,{ignoreValueFormatter:o,csvOptions:n}))}),i.getRowString()};function Xje(e){const{columns:t,rowIds:r,csvOptions:n,ignoreValueFormatter:o,apiRef:i}=e,s=r.reduce((f,g)=>`${f}${Yje({id:g,columns:t,getCellParams:i.current.getCellParams,ignoreValueFormatter:o,csvOptions:n})}\r
`,"").trim();if(!n.includeHeaders)return s;const a=t.filter(f=>f.field!==vf.field),c=[];if(n.includeColumnGroupsHeaders){const f=i.current.getAllGroupDetails();let g=0;const m=a.reduce((y,b)=>{const v=i.current.getColumnGroupPath(b.field);return y[b.field]=v,g=Math.max(g,v.length),y},{});for(let y=0;y<g;y+=1){const b=new zR({csvOptions:n,sanitizeCellValue:$R});c.push(b),a.forEach(v=>{const C=(m[v.field]||[])[y],E=f[C];b.addValue(E?E.headerName||E.groupId:"")})}}const d=new zR({csvOptions:n,sanitizeCellValue:$R});return a.forEach(f=>{d.addValue(f.headerName||f.field)}),c.push(d),`${`${c.map(f=>f.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function x5(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const r=document.createRange();r.selectNode(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(r);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function Zje(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{x5(e)}):x5(e)}function Qje(e){return!!(window.getSelection()?.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const Jje=(e,t)=>{const r=t.ignoreValueFormatterDuringExport,n=(typeof r=="object"?r?.clipboardExport:r)||!1,o=t.clipboardCopyCellDelimiter,i=_.useCallback(s=>{if(!Ske(s)||Qje(s.target))return;let a="";if(Hw(e)>0)a=e.current.getDataAsCsv({includeHeaders:!1,delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1});else{const d=Ui(e);if(d){const h=e.current.getCellParams(d.id,d.field);a=C5(h,{csvOptions:{delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:n})}}a=e.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(Zje(a),e.current.publishEvent("clipboardCopy",a))},[e,n,o]);MH(e,()=>e.current.rootElementRef.current,"keydown",i),cn(e,"clipboardCopy",t.onClipboardCopy)},eVe=e=>H({},e,{columnMenu:{open:!1}}),tVe=e=>{const t=Ko(e,"useGridColumnMenu"),r=_.useCallback(s=>{const a=Jw(e),c={open:!0,field:s};(c.open!==a.open||c.field!==a.field)&&(e.current.setState(h=>h.columnMenu.open&&h.columnMenu.field===s?h:(t.debug("Opening Column Menu"),H({},h,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences())},[e,t]),n=_.useCallback(()=>{const s=Jw(e);if(s.field){const d=rc(e),h=Qs(e),f=gl(e);let g=s.field;if(d[g]||(g=f[0]),h[g]===!1){const m=f.filter(b=>b===g?!0:h[b]!==!1),y=m.indexOf(g);g=m[y+1]||m[y-1]}e.current.setColumnHeaderFocus(g)}const a={open:!1,field:void 0};(a.open!==s.open||a.field!==s.field)&&e.current.setState(d=>(t.debug("Hiding Column Menu"),H({},d,{columnMenu:a})))},[e,t]),o=_.useCallback(s=>{t.debug("Toggle Column Menu");const a=Jw(e);!a.open||a.field!==s?r(s):n()},[e,t,r,n]);wr(e,{showColumnMenu:r,hideColumnMenu:n,toggleColumnMenu:o},"public"),Tt(e,"columnResizeStart",n),Tt(e,"virtualScrollerWheel",e.current.hideColumnMenu),Tt(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},rVe=(e,t,r)=>{r.current.caches.columns={lastColumnsProp:t.columns};const n=Sf({apiRef:r,columnsToUpsert:t.columns,initialState:t.initialState?.columns,columnVisibilityModel:t.columnVisibilityModel??t.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return H({},e,{columns:n,pinnedColumns:e.pinnedColumns??Nw})};function nVe(e,t){const r=Ko(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Qs,changeEvent:"columnVisibilityModelChange"});const n=_.useCallback(P=>{r.debug("Updating columns state."),e.current.setState(oVe(P)),e.current.publishEvent("columnsChange",P.orderedFields)},[r,e]),o=_.useCallback(P=>rc(e)[P],[e]),i=_.useCallback(()=>Zs(e),[e]),s=_.useCallback(()=>Jn(e),[e]),a=_.useCallback((P,L=!0)=>(L?Jn(e):Zs(e)).findIndex($=>$.field===P),[e]),c=_.useCallback(P=>{const L=a(P);return Vd(e)[L]},[e,a]),d=_.useCallback(P=>{Qs(e)!==P&&(e.current.setState(D=>H({},D,{columns:Sf({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:P,keepOnlyColumnsToUpsert:!1})})),e.current.updateRenderContext?.())},[e]),h=_.useCallback(P=>{if(Gd(e)){e.current.updateNonPivotColumns(P);return}const L=Sf({apiRef:e,columnsToUpsert:P,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});n(L)},[e,n]),f=_.useCallback((P,L)=>{const D=Qs(e),$=D[P]??!0;if(L!==$){const B=H({},D,{[P]:L});e.current.setColumnVisibilityModel(B)}},[e]),g=_.useCallback(P=>gl(e).findIndex(D=>D===P),[e]),m=_.useCallback((P,L)=>{const D=gl(e),$=g(P);if($===L)return;r.debug(`Moving column ${P} to index ${L}`);const B=[...D],U=B.splice($,1)[0];B.splice(L,0,U),n(H({},Ma(e),{orderedFields:B}));const q={column:e.current.getColumn(P),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(P),oldIndex:$};e.current.publishEvent("columnIndexChange",q)},[e,r,n,g]),y=_.useCallback((P,L)=>{r.debug(`Updating column ${P} width to ${L}`);const D=Ma(e),$=D.lookup[P],B=H({},$,{width:L,hasBeenResized:!0});n(OR(H({},D,{lookup:H({},D.lookup,{[P]:B})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(P),colDef:B,width:L})},[e,r,n]),b={getColumn:o,getAllColumns:i,getColumnIndex:a,getColumnPosition:c,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:g,updateColumns:h,setColumnVisibilityModel:d,setColumnVisibility:f,setColumnWidth:y},v={setColumnIndex:m};wr(e,b,"public"),wr(e,v,t.signature===Ta.DataGrid?"private":"public");const C=_.useCallback((P,L)=>{const D={},$=Qs(e);(!L.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(t.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys($).length>0)&&(D.columnVisibilityModel=$),D.orderedFields=gl(e);const U=Zs(e),q={};return U.forEach(W=>{if(W.hasBeenResized){const V={};xH.forEach(Y=>{let Q=W[Y];Q===1/0&&(Q=-1),V[Y]=Q}),q[W.field]=V}}),Object.keys(q).length>0&&(D.dimensions=q),H({},P,{columns:D})},[e,t.columnVisibilityModel,t.initialState?.columns]),E=_.useCallback((P,L)=>{const D=L.stateToRestore.columns,$=D?.columnVisibilityModel;if(D==null)return P;const B=Sf({apiRef:e,columnsToUpsert:[],initialState:D,columnVisibilityModel:$,keepOnlyColumnsToUpsert:!1});return D!=null&&e.current.setState(U=>H({},U,{columns:H({},U.columns,{lookup:B.lookup,orderedFields:B.orderedFields,initialColumnVisibilityModel:B.initialColumnVisibilityModel})})),$!=null&&e.current.setState(U=>H({},U,{columns:H({},U.columns,{columnVisibilityModel:$})})),D!=null&&e.current.publishEvent("columnsChange",B.orderedFields),P},[e]),T=_.useCallback((P,L)=>{if(L===Mi.columns){const D=t.slots.columnsPanel;return x.jsx(D,H({},t.slotProps?.columnsPanel))}return P},[t.slots.columnsPanel,t.slotProps?.columnsPanel]),R=_.useCallback(P=>{const L=Gd(e);return t.disableColumnSelector||L?P:[...P,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);Un(e,"columnMenu",R),Un(e,"exportState",C),Un(e,"restoreState",E),Un(e,"preferencePanel",T);const M=_.useRef(null);Tt(e,"viewportInnerSizeChange",P=>{if(M.current!==P.width){if(M.current=P.width,!Jn(e).some(D=>D.flex&&D.flex>0))return;n(OR(Ma(e),e.current.getRootDimensions()))}});const N=_.useCallback(()=>{r.info("Columns pipe processing have changed, regenerating the columns");const P=Sf({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});n(P)},[e,r,n]);VR(e,"hydrateColumns",N),_.useEffect(()=>{if(e.current.caches.columns.lastColumnsProp===t.columns)return;e.current.caches.columns.lastColumnsProp=t.columns,r.info(`GridColumns have changed, new length ${t.columns.length}`);const P=Sf({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel});n(P)},[r,e,n,t.columns,t.columnVisibilityModel]),_.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,r,t.columnVisibilityModel])}function oVe(e){return t=>H({},t,{columns:e})}const iVe=(e,t)=>H({},e,{density:t.initialState?.density??t.density??"standard"}),sVe=(e,t)=>{const r=Ko(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:hf,changeEvent:"densityChange"});const o={setDensity:$t(a=>{hf(e)!==a&&(r.debug(`Set grid density to ${a}`),e.current.setState(d=>H({},d,{density:a})))})};wr(e,o,"public");const i=_.useCallback((a,c)=>{const d=hf(e);return!c.exportOnlyDirtyModels||t.density!=null||t.initialState?.density!=null?H({},a,{density:d}):a},[e,t.density,t.initialState?.density]),s=_.useCallback((a,c)=>{const d=c.stateToRestore?.density?c.stateToRestore.density:hf(e);return e.current.setState(h=>H({},h,{density:d})),a},[e]);Un(e,"exportState",i),Un(e,"restoreState",s),_.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function aVe(e,t="csv",r=document.title||"untitled"){const n=`${r}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=n,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI X: exportAs not supported.")}const _5=({apiRef:e,options:t})=>{const r=Zs(e);return t.fields?t.fields.reduce((o,i)=>{const s=r.find(a=>a.field===i);return s&&o.push(s),o},[]):(t.allColumns?r:Jn(e)).filter(o=>o.disableExport!==!0)},E5=({apiRef:e})=>{const t=tH(e),r=Ho(e),n=Hw(e),o=t.filter(c=>r[c].type!=="footer"),i=um(e),s=i?.top?.map(c=>c.id)||[],a=i?.bottom?.map(c=>c.id)||[];if(o.unshift(...s),o.push(...a),n>0){const c=oH(e);return o.filter(d=>c.has(d))}return o},lVe=(e,t)=>{const r=Ko(e,"useGridCsvExport"),n=t.ignoreValueFormatterDuringExport,o=(typeof n=="object"?n?.csvExport:n)||!1,i=_.useCallback((d={})=>{r.debug("Get data as CSV");const h=_5({apiRef:e,options:d}),g=(d.getRowsToExport??E5)({apiRef:e});return Xje({columns:h,rowIds:g,csvOptions:{delimiter:d.delimiter||",",shouldAppendQuotes:d.shouldAppendQuotes??!0,includeHeaders:d.includeHeaders??!0,includeColumnGroupsHeaders:d.includeColumnGroupsHeaders??!0,escapeFormulas:d.escapeFormulas??!0},ignoreValueFormatter:o,apiRef:e})},[r,e,o]),s=_.useCallback(d=>{r.debug("Export data as CSV");const h=i(d),f=new Blob([d?.utf8WithBom?new Uint8Array([239,187,191]):"",h],{type:"text/csv"});aVe(f,"csv",d?.fileName)},[r,i]);wr(e,{getDataAsCsv:i,exportDataAsCsv:s},"public");const c=_.useCallback((d,h)=>h.csvOptions?.disableToolbarButton?d:[...d,{component:x.jsx(bFe,{options:h.csvOptions}),componentName:"csvExport"}],[]);Un(e,"exportMenu",c)};function cVe(e,t){const r=[],n=t.querySelectorAll("style, link[rel='stylesheet']");for(let o=0;o<n.length;o+=1){const i=n[o];if(i.tagName==="STYLE"){const s=e.createElement(i.tagName),a=i.sheet;if(a){let c="";for(let d=0;d<a.cssRules.length;d+=1)typeof a.cssRules[d].cssText=="string"&&(c+=`${a.cssRules[d].cssText}\r
`);s.appendChild(e.createTextNode(c)),e.head.appendChild(s)}}else if(i.getAttribute("href")){const s=e.createElement(i.tagName);for(let a=0;a<i.attributes.length;a+=1){const c=i.attributes[a];c&&s.setAttribute(c.nodeName,c.nodeValue||"")}r.push(new Promise(a=>{s.addEventListener("load",()=>a())})),e.head.appendChild(s)}}return r}const dS=(e,t,r)=>{let n=e.paginationModel;const o=e.rowCount,i=r?.pageSize??n.pageSize,s=r?.page??n.page,a=lH(o,i,s);r&&(r?.page!==n.page||r?.pageSize!==n.pageSize)&&(n=r);const c=i===-1?0:lDe(n.page,a);return c!==n.page&&(n=H({},n,{page:c})),uH(n.pageSize,t),n},uVe=(e,t)=>{const r=Ko(e,"useGridPaginationModel"),n=et(e,dm),o=_.useRef(Ao(e)),i=Math.floor(t.rowHeight*n);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Wo,changeEvent:"paginationModelChange"});const s=_.useCallback(E=>{const T=Wo(e);E!==T.page&&(r.debug(`Setting page to ${E}`),e.current.setPaginationModel({page:E,pageSize:T.pageSize}))},[e,r]),a=_.useCallback(E=>{const T=Wo(e);E!==T.pageSize&&(r.debug(`Setting page size to ${E}`),e.current.setPaginationModel({pageSize:E,page:T.page}))},[e,r]),c=_.useCallback(E=>{const T=Wo(e);E!==T&&(r.debug("Setting 'paginationModel' to",E),e.current.setState(R=>H({},R,{pagination:H({},R.pagination,{paginationModel:dS(R.pagination,t.signature,E)})}),"setPaginationModel"))},[e,r,t.signature]);wr(e,{setPage:s,setPageSize:a,setPaginationModel:c},"public");const h=_.useCallback((E,T)=>{const R=Wo(e);return!T.exportOnlyDirtyModels||t.paginationModel!=null||t.initialState?.pagination?.paginationModel!=null||R.page!==0&&R.pageSize!==aDe(t.autoPageSize)?H({},E,{pagination:H({},E.pagination,{paginationModel:R})}):E},[e,t.paginationModel,t.initialState?.pagination?.paginationModel,t.autoPageSize]),f=_.useCallback((E,T)=>{const R=T.stateToRestore.pagination?.paginationModel?H({},cH(t.autoPageSize),T.stateToRestore.pagination?.paginationModel):Wo(e);return e.current.setState(M=>H({},M,{pagination:H({},M.pagination,{paginationModel:dS(M.pagination,t.signature,R)})}),"stateRestorePreProcessing"),E},[e,t.autoPageSize,t.signature]);Un(e,"exportState",h),Un(e,"restoreState",f);const g=()=>{const E=Wo(e);e.current.virtualScrollerRef?.current&&e.current.scrollToIndexes({rowIndex:E.page*E.pageSize})},m=_.useCallback(()=>{if(!t.autoPageSize)return;const E=e.current.getRootDimensions(),T=Math.max(1,Math.floor(E.viewportInnerSize.height/i));e.current.setPageSize(T)},[e,t.autoPageSize,i]),y=_.useCallback(E=>{if(E==null)return;const T=Wo(e);if(T.page===0)return;const R=fH(e);T.page>R-1&&e.current.setPage(Math.max(0,R-1))},[e]),b=_.useCallback(()=>{Wo(e).page!==0&&e.current.setPage(0),e.current.getScrollPosition().top!==0&&e.current.scroll({top:0})},[e]),v=_.useCallback(E=>{const T=H({},E,{items:CR(e)});ea(T,o.current)||(o.current=T,b())},[e,b]);Tt(e,"viewportInnerSizeChange",m),Tt(e,"paginationModelChange",g),Tt(e,"rowCountChange",y),Tt(e,"sortModelChange",b),Tt(e,"filterModelChange",v);const C=_.useRef(!0);_.useEffect(()=>{if(C.current){C.current=!1;return}t.pagination&&e.current.setState(E=>H({},E,{pagination:H({},E.pagination,{paginationModel:dS(E.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),_.useEffect(()=>{e.current.setState(E=>{const T=t.pagination===!0;return E.pagination.paginationMode===t.paginationMode&&E.pagination.enabled===T?E:H({},E,{pagination:H({},E.pagination,{paginationMode:t.paginationMode,enabled:T})})})},[e,t.paginationMode,t.pagination]),_.useEffect(m,[m])};function dVe(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function hVe(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const fVe=(e,t)=>{const r=e.current.rootElementRef.current!==null,n=Ko(e,"useGridPrintExport"),o=_.useRef(null),i=_.useRef(null),s=_.useRef({}),a=_.useRef([]),c=_.useRef(null);_.useEffect(()=>{o.current=Xn(e.current.rootElementRef.current)},[e,r]);const d=_.useCallback((v,C,E)=>new Promise(T=>{const R=_5({apiRef:e,options:{fields:v,allColumns:C}}).map(N=>N.field),M=Zs(e),I={};M.forEach(N=>{I[N.field]=R.includes(N.field)}),E&&(I[vf.field]=!0),e.current.setColumnVisibilityModel(I),T()}),[e]),h=_.useCallback(v=>{const E=v({apiRef:e}).reduce((T,R)=>{const M=e.current.getRow(R);return M[Fd]||T.push(M),T},[]);e.current.setRows(E)},[e]),f=_.useCallback((v,C)=>{const E=H({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},C),T=v.contentDocument;if(!T)return;const R=cR(e),M=e.current.rootElementRef.current,I=M.cloneNode(!0),N=I.querySelector(`.${ie.main}`);N.style.overflow="visible",I.style.contain="size";let P=M.querySelector(`.${ie.toolbar}`)?.offsetHeight||0,L=M.querySelector(`.${ie.footerContainer}`)?.offsetHeight||0;const D=I.querySelector(`.${ie.footerContainer}`);E.hideToolbar&&(I.querySelector(`.${ie.toolbar}`)?.remove(),P=0),E.hideFooter&&D&&(D.remove(),L=0);const $=R.currentPageTotalHeight+xm(e,t)+P+L;I.style.height=`${$}px`,I.style.boxSizing="content-box",!E.hideFooter&&D&&(D.style.position="absolute",D.style.width="100%",D.style.top=`${$-L}px`);const B=document.createElement("div");B.appendChild(I),T.body.style.marginTop="0px",T.body.innerHTML=B.innerHTML;const U=typeof E.pageStyle=="function"?E.pageStyle():E.pageStyle;if(typeof U=="string"){const W=T.createElement("style");W.appendChild(T.createTextNode(U)),T.head.appendChild(W)}E.bodyClassName&&T.body.classList.add(...E.bodyClassName.split(" "));let q=[];if(E.copyStyles){const W=M.getRootNode(),V=W.constructor.name==="ShadowRoot"?W:o.current;q=cVe(T,V)}Promise.all(q).then(()=>{v.contentWindow.print()})},[e,o,t]),g=_.useCallback(v=>{o.current.body.removeChild(v),e.current.restoreState(i.current||{}),i.current?.columns?.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(C=>H({},C,{virtualization:c.current})),e.current.setRows(a.current),i.current=null,s.current={},a.current=[]},[e]),y={exportDataAsPrint:_.useCallback(async v=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(i.current=e.current.exportState(),s.current=Qs(e),a.current=e.current.getSortedRows().filter(E=>!E[Fd]),t.pagination){const T={page:0,pageSize:wR(e)};e.current.setState(R=>H({},R,{pagination:H({},R.pagination,{paginationModel:dS(R.pagination,"DataGridPro",T)})}))}c.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await d(v?.fields,v?.allColumns,v?.includeCheckboxes),h(v?.getRowsToExport??E5),await dVe();const C=hVe(v?.fileName);C.onload=()=>{f(C,v),C.contentWindow.matchMedia("print").addEventListener("change",T=>{T.matches===!1&&g(C)})},o.current.body.appendChild(C)},[t,n,e,f,g,d,h])};wr(e,y,"public");const b=_.useCallback((v,C)=>C.printOptions?.disableToolbarButton?v:[...v,{component:x.jsx(wFe,{options:C.printOptions}),componentName:"printExport"}],[]);Un(e,"exportMenu",b)},pVe=(e,t,r)=>{const n=t.filterModel??t.initialState?.filter?.filterModel??hm();return H({},e,{filter:H({filterModel:mR(n,t.disableMultipleColumnsFiltering,r)},RG),visibleRowsLookup:{}})},gVe=e=>e.filteredRowsLookup;function T5(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function mVe(){return $O(Object.values)}const vVe=(e,t)=>{const r=Ko(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Ao,changeEvent:"filterModelChange"});const n=_.useCallback(()=>{e.current.setState(P=>{const L=Ao(e),D=e.current.getFilterState(L),$=H({},P,{filter:H({},P.filter,D)}),B=T5(e,$);return H({},$,{visibleRowsLookup:B})}),e.current.publishEvent("filteredRowsSet")},[e]),o=_.useCallback((P,L)=>L==null||L.filterable===!1||t.disableColumnFilter?P:[...P,"columnMenuFilterItem"],[t.disableColumnFilter]),i=_.useCallback(P=>{const L=Ao(e),D=[...L.items],$=D.findIndex(B=>B.id===P.id);$===-1?D.push(P):D[$]=P,e.current.setFilterModel(H({},L,{items:D}),"upsertFilterItem")},[e]),s=_.useCallback(P=>{const L=Ao(e),D=[...L.items];P.forEach($=>{const B=D.findIndex(U=>U.id===$.id);B===-1?D.push($):D[B]=$}),e.current.setFilterModel(H({},L,{items:D}),"upsertFilterItems")},[e]),a=_.useCallback(P=>{const L=Ao(e),D=L.items.filter($=>$.id!==P.id);D.length!==L.items.length&&e.current.setFilterModel(H({},L,{items:D}),"deleteFilterItem")},[e]),c=_.useCallback((P,L,D)=>{if(r.debug("Displaying filter panel"),P){const $=Ao(e),B=$.items.filter(V=>{if(V.value!==void 0)return!(Array.isArray(V.value)&&V.value.length===0);const Q=e.current.getColumn(V.field).filterOperators?.find(z=>z.value===V.operator);return!(typeof Q?.requiresFilterValue>"u"?!0:Q?.requiresFilterValue)});let U;const q=B.find(V=>V.field===P),W=e.current.getColumn(P);q?U=B:t.disableMultipleColumnsFiltering?U=[gR({field:P,operator:W.filterOperators[0].value},e)]:U=[...B,gR({field:P,operator:W.filterOperators[0].value},e)],e.current.setFilterModel(H({},$,{items:U}))}e.current.showPreferences(Mi.filters,L,D)},[e,r,t.disableMultipleColumnsFiltering]),d=_.useCallback(()=>{r.debug("Hiding filter panel"),e.current.hidePreferences()},[e,r]),h=_.useCallback(P=>{const L=Ao(e);L.logicOperator!==P&&e.current.setFilterModel(H({},L,{logicOperator:P}),"changeLogicOperator")},[e]),f=_.useCallback(P=>{const L=Ao(e);ea(L.quickFilterValues,P)||e.current.setFilterModel(H({},L,{quickFilterValues:[...P]}))},[e]),g=_.useCallback((P,L)=>{Ao(e)!==P&&(r.debug("Setting filter model"),e.current.updateControlState("filter",BG(P,t.disableMultipleColumnsFiltering,e),L),e.current.unstable_applyFilters())},[e,r,t.disableMultipleColumnsFiltering]),m=_.useCallback(P=>{const L=mR(P,t.disableMultipleColumnsFiltering,e),D=t.filterMode==="client"?mke(L,e,t.disableEval):null,$=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:D,filterModel:L??hm()});return H({},$,{filterModel:L})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),y={setFilterLogicOperator:h,unstable_applyFilters:n,deleteFilterItem:a,upsertFilterItem:i,upsertFilterItems:s,setFilterModel:g,showFilterPanel:c,hideFilterPanel:d,setQuickFilterValues:f,ignoreDiacritics:t.ignoreDiacritics,getFilterState:m};wr(e,y,"public");const b=_.useCallback((P,L)=>{const D=Ao(e);return D.items.forEach(B=>{delete B.fromInput}),!L.exportOnlyDirtyModels||t.filterModel!=null||t.initialState?.filter?.filterModel!=null||!ea(D,hm())?H({},P,{filter:{filterModel:D}}):P},[e,t.filterModel,t.initialState?.filter?.filterModel]),v=_.useCallback((P,L)=>{const D=L.stateToRestore.filter?.filterModel;return D==null?P:(e.current.updateControlState("filter",BG(D,t.disableMultipleColumnsFiltering,e),"restoreState"),H({},P,{callbacks:[...P.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),C=_.useCallback((P,L)=>{if(L===Mi.filters){const D=t.slots.filterPanel;return x.jsx(D,H({},t.slotProps?.filterPanel))}return P},[t.slots.filterPanel,t.slotProps?.filterPanel]),{getRowId:E}=t,T=ss(mVe),R=_.useCallback(P=>{if(t.filterMode!=="client"||!P.isRowMatchingFilters||!P.filterModel.items.length&&!P.filterModel.quickFilterValues?.length)return RG;const L=qs(e),D={},{isRowMatchingFilters:$}=P,B={},U={passingFilterItems:null,passingQuickFilterValues:null},q=T.current(e.current.state.rows.dataRowIdToModelLookup);for(let Y=0;Y<q.length;Y+=1){const Q=q[Y],re=E?E(Q):Q.id;$(Q,void 0,U);const z=yke([U.passingFilterItems],[U.passingQuickFilterValues],P.filterModel,e,B);z||(D[re]=z)}const W="auto-generated-group-footer-root";return L[W]&&(D[W]=!0),{filteredRowsLookup:D,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,E,T]);Un(e,"columnMenu",o),Un(e,"exportState",b),Un(e,"restoreState",v),Un(e,"preferencePanel",C),km(e,Kd,"filtering",R),km(e,Kd,"visibleRowsLookupCreation",gVe);const M=_.useCallback(()=>{r.debug("onColUpdated - GridColumns changed, applying filters");const P=Ao(e),L=rc(e),D=P.items.filter($=>$.field&&L[$.field]);D.length<P.items.length&&e.current.setFilterModel(H({},P,{items:D}))},[e,r]),I=_.useCallback(P=>{P==="filtering"&&e.current.unstable_applyFilters()},[e]),N=_.useCallback(()=>{e.current.setState(P=>H({},P,{visibleRowsLookup:T5(e,P)}))},[e]);Tt(e,"rowsSet",n),Tt(e,"columnsChange",M),Tt(e,"activeStrategyProcessorChange",I),Tt(e,"rowExpansionChange",N),Tt(e,"columnVisibilityModelChange",()=>{const P=Ao(e);P.quickFilterValues?.length&&VG(P)&&n()}),Ud(()=>{n()}),zr(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,r,t.filterModel])},yVe=e=>H({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),bVe=(e,t)=>{const r=Ko(e,"useGridFocus"),n=_.useRef(null),o=e.current.rootElementRef.current!==null,i=_.useCallback((P,L)=>{P&&e.current.getRow(P.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(P.id,P.field),L)},[e]),s=_.useCallback((P,L)=>{const D=Ui(e);D?.id===P&&D?.field===L||(e.current.setState($=>(r.debug(`Focusing on cell with id=${P} and field=${L}`),H({},$,{tabIndex:{cell:{id:P,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:P,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(P)&&(D&&i(D,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(P,L))))},[e,r,i]),a=_.useCallback((P,L={})=>{const D=Ui(e);i(D,L),e.current.setState($=>(r.debug(`Focusing on column header with colIndex=${P}`),H({},$,{tabIndex:{columnHeader:{field:P},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:P},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,r,i]),c=_.useCallback((P,L={})=>{const D=Ui(e);i(D,L),e.current.setState($=>(r.debug(`Focusing on column header filter with colIndex=${P}`),H({},$,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:P},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:P},cell:null,columnGroupHeader:null}})))},[e,r,i]),d=_.useCallback((P,L,D={})=>{const $=Ui(e);$&&e.current.publishEvent("cellFocusOut",e.current.getCellParams($.id,$.field),D),e.current.setState(B=>H({},B,{tabIndex:{columnGroupHeader:{field:P,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:P,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),h=_.useCallback(()=>Kw(e),[e]),f=_.useCallback((P,L,D)=>{let $=e.current.getColumnIndex(L);const B=Jn(e),U=Mf(e,{pagination:t.pagination,paginationMode:t.paginationMode}),q=um(e),W=[].concat(q.top||[],U.rows,q.bottom||[]);let V=W.findIndex(z=>z.id===P);D==="right"?$+=1:D==="left"?$-=1:V+=1,$>=B.length?(V+=1,V<W.length&&($=0)):$<0&&(V-=1,V>=0&&($=B.length-1)),V=jd(V,0,W.length-1);const Y=W[V];if(!Y)return;const Q=e.current.unstable_getCellColSpanInfo(Y.id,$);Q&&Q.spannedByColSpan&&(D==="left"||D==="below"?$=Q.leftVisibleCellIndex:D==="right"&&($=Q.rightVisibleCellIndex)),$=jd($,0,B.length-1);const re=B[$];e.current.setCellFocus(Y.id,re.field)},[e,t.pagination,t.paginationMode]),g=_.useCallback(({id:P,field:L})=>{e.current.setCellFocus(P,L)},[e]),m=_.useCallback((P,L)=>{L.key==="Enter"||L.key==="Tab"||L.key==="Shift"||Fw(L.key)||e.current.setCellFocus(P.id,P.field)},[e]),y=_.useCallback(({field:P},L)=>{L.target===L.currentTarget&&e.current.setColumnHeaderFocus(P,L)},[e]),b=_.useCallback(({fields:P,depth:L},D)=>{if(D.target!==D.currentTarget)return;const $=Kw(e);$!==null&&$.depth===L&&P.includes($.field)||e.current.setColumnGroupHeaderFocus(P[0],L,D)},[e]),v=_.useCallback((P,L)=>{L.relatedTarget?.getAttribute("class")?.includes(ie.columnHeader)||(r.debug("Clearing focus"),e.current.setState(D=>H({},D,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[r,e]),C=_.useCallback(P=>{n.current=P},[]),E=_.useCallback(P=>{const L=n.current;n.current=null;const D=Ui(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:P,cell:L}))return;if(!D){L&&e.current.setCellFocus(L.id,L.field);return}L?.id===D.id&&L?.field===D.field||e.current.getCellElement(D.id,D.field)?.contains(P.target)||(L?e.current.setCellFocus(L.id,L.field):(e.current.setState(U=>H({},U,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),i(D,P)))},[e,i]),T=_.useCallback(P=>{if(P.cellMode==="view")return;const L=Ui(e);(L?.id!==P.id||L?.field!==P.field)&&e.current.setCellFocus(P.id,P.field)},[e]),R=_.useCallback(()=>{const P=Ui(e);if(P&&!e.current.getRow(P.id)){const L=P.id;let D=null;if(typeof L<"u"){const $=e.current.getRowElement(L),B=$?.dataset.rowindex?Number($?.dataset.rowindex):0,U=Mf(e,{pagination:t.pagination,paginationMode:t.paginationMode});D=U.rows[jd(B,0,U.rows.length-1)]?.id??null}e.current.setState($=>H({},$,{focus:{cell:D===null?null:{id:D,field:P.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),M=$t(()=>{const P=Ui(e);if(!P)return;const L=Mf(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(L.rows.find(B=>B.id===P.id)||L.rows.length===0)return;const $=Jn(e);e.current.setState(B=>H({},B,{tabIndex:{cell:{id:L.rows[0].id,field:$[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),I={setCellFocus:s,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:c},N={moveFocusToRelativeCell:f,setColumnGroupHeaderFocus:d,getColumnGroupHeaderFocus:h};wr(e,I,"public"),wr(e,N,"private"),_.useEffect(()=>{const P=Xn(e.current.rootElementRef.current);return P.addEventListener("mouseup",E),()=>{P.removeEventListener("mouseup",E)}},[e,o,E]),Tt(e,"columnHeaderBlur",v),Tt(e,"cellDoubleClick",g),Tt(e,"cellMouseDown",C),Tt(e,"cellKeyDown",m),Tt(e,"cellModeChange",T),Tt(e,"columnHeaderFocus",y),Tt(e,"columnGroupHeaderFocus",b),Tt(e,"rowsSet",R),Tt(e,"paginationModelChange",M)},UR=({currentColIndex:e,firstColIndex:t,lastColIndex:r,isRtl:n})=>{if(n){if(e<r)return e+1}else if(!n&&e>t)return e-1;return null},GR=({currentColIndex:e,firstColIndex:t,lastColIndex:r,isRtl:n})=>{if(n){if(e>t)return e-1}else if(!n&&e<r)return e+1;return null};function wVe(e,t,r,n){const o=_f.selectors.hiddenCells(e.current.virtualizer.store.state);if(!o[t]?.[r])return t;const i=tH(e);let s=i.indexOf(t)+(n==="down"?1:-1);for(;s>=0&&s<i.length;){const a=i[s];if(!o[a]?.[r])return a;s+=n==="down"?1:-1}return t}const SVe=Ur(wm,um,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),CVe=(e,t)=>{const r=Ko(e,"useGridKeyboardNavigation"),n=Uo(),o=_.useCallback(()=>SVe(e),[e]),i=t.signature!=="DataGrid"&&t.headerFilters,s=_.useCallback((v,C,E="left",T="up")=>{const R=au(e),M=e.current.unstable_getCellColSpanInfo(C,v);M&&M.spannedByColSpan&&(E==="left"?v=M.leftVisibleCellIndex:E==="right"&&(v=M.rightVisibleCellIndex));const I=fm(e)[v],N=wVe(e,C,v,T),P=R.findIndex(L=>L.id===N);r.debug(`Navigating to cell row ${P}, col ${v}`),e.current.scrollToIndexes({colIndex:v,rowIndex:P}),e.current.setCellFocus(N,I)},[e,r]),a=_.useCallback((v,C)=>{r.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFocus(E,C)},[e,r]),c=_.useCallback((v,C)=>{r.debug(`Navigating to header filter col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFilterFocus(E,C)},[e,r]),d=_.useCallback((v,C,E)=>{r.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const{field:T}=e.current.getVisibleColumns()[v];e.current.setColumnGroupHeaderFocus(T,C,E)},[e,r]),h=_.useCallback(v=>o()[v]?.id,[o]),f=_.useCallback((v,C)=>{const E=C.currentTarget.querySelector(`.${ie.columnHeaderTitleContainerContent}`);if(!!E&&E.contains(C.target)&&v.field!==vf.field)return;const R=o(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.length>0?0:null,P=R.length-1,L=0,D=Jn(e).length-1,$=Cm(e);let B=!0;switch(C.key){case"ArrowDown":{i?c(I,C):N!==null&&s(I,h(N));break}case"ArrowRight":{const U=GR({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:n});U!==null&&a(U,C);break}case"ArrowLeft":{const U=UR({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:n});U!==null&&a(U,C);break}case"ArrowUp":{$>0&&d(I,$-1,C);break}case"PageDown":{N!==null&&P!==null&&s(I,h(Math.min(N+M,P)));break}case"Home":{a(L,C);break}case"End":{a(D,C);break}case"Enter":{(C.ctrlKey||C.metaKey)&&e.current.toggleColumnMenu(v.field);break}case" ":break;default:B=!1}B&&C.preventDefault()},[e,o,i,c,s,h,n,a,d]),g=_.useCallback((v,C)=>{const E=jDe(e)===v.field,T=VDe(e)===v.field;if(E||T||!Fw(C.key))return;const R=o(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=0,P=R.length-1,L=0,D=Jn(e).length-1;let $=!0;switch(C.key){case"ArrowDown":{const B=h(N);B!=null&&s(I,B);break}case"ArrowRight":{const B=GR({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:n});B!==null&&c(B,C);break}case"ArrowLeft":{const B=UR({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:n});B!==null?c(B,C):e.current.setColumnHeaderFilterFocus(v.field,C);break}case"ArrowUp":{a(I,C);break}case"PageDown":{P!==null&&s(I,h(Math.min(N+M,P)));break}case"Home":{c(L,C);break}case"End":{c(D,C);break}case" ":break;default:$=!1}$&&C.preventDefault()},[e,o,c,n,a,s,h]),m=_.useCallback((v,C)=>{const E=Kw(e);if(E===null)return;const{field:T,depth:R}=E,{fields:M,depth:I,maxDepth:N}=v,P=o(),L=e.current.getViewportPageSize(),D=e.current.getColumnIndex(T),$=T?e.current.getColumnIndex(T):0,B=0,U=P.length-1,q=0,W=Jn(e).length-1;let V=!0;switch(C.key){case"ArrowDown":{I===N-1?a(D,C):d(D,R+1,C);break}case"ArrowUp":{I>0&&d(D,R-1,C);break}case"ArrowRight":{const Y=M.length-M.indexOf(T)-1;D+Y+1<=W&&d(D+Y+1,R,C);break}case"ArrowLeft":{const Y=M.indexOf(T);D-Y-1>=q&&d(D-Y-1,R,C);break}case"PageDown":{U!==null&&s($,h(Math.min(B+L,U)));break}case"Home":{d(q,R,C);break}case"End":{d(W,R,C);break}case" ":break;default:V=!1}V&&C.preventDefault()},[e,o,a,d,s,h]),y=_.useCallback((v,C)=>{if(Em(C))return;const E=e.current.getCellParams(v.id,v.field);if(E.cellMode===Kr.Edit||!Fw(C.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:C,cell:E}))return;const R=o();if(R.length===0)return;const M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.findIndex(U=>U.id===v.id),P=0,L=R.length-1,D=0,$=Jn(e).length-1;let B=!0;switch(C.key){case"ArrowDown":{N<L&&s(I,h(N+1),n?"right":"left","down");break}case"ArrowUp":{N>P?s(I,h(N-1)):i?c(I,C):a(I,C);break}case"ArrowRight":{const U=GR({currentColIndex:I,firstColIndex:D,lastColIndex:$,isRtl:n});U!==null&&s(U,h(N),n?"left":"right");break}case"ArrowLeft":{const U=UR({currentColIndex:I,firstColIndex:D,lastColIndex:$,isRtl:n});U!==null&&s(U,h(N),n?"right":"left");break}case"Tab":{C.shiftKey&&I>D?s(I-1,h(N),"left"):!C.shiftKey&&I<$&&s(I+1,h(N),"right");break}case" ":{if(v.field===yR)break;const q=v.colDef;if(q&&(q.field===Ake||xLe(q.field)))break;!C.shiftKey&&N<L&&s(I,h(Math.min(N+M,L)));break}case"PageDown":{N<L&&s(I,h(Math.min(N+M,L)));break}case"PageUp":{const U=Math.max(N-M,P);U!==N&&U>=P?s(I,h(U)):a(I,C);break}case"Home":{C.ctrlKey||C.metaKey||C.shiftKey?s(D,h(P)):s(D,h(N));break}case"End":{C.ctrlKey||C.metaKey||C.shiftKey?s($,h(L)):s($,h(N));break}default:B=!1}B&&C.preventDefault()},[e,o,n,s,h,i,c,a]),b=_.useCallback((v,{event:C})=>C.key===" "?!1:v,[]);Un(e,"canStartEditing",b),Tt(e,"columnHeaderKeyDown",f),Tt(e,"headerFilterKeyDown",g),Tt(e,"columnGroupHeaderKeyDown",m),Tt(e,"cellKeyDown",y)},xVe=(e,t)=>{const r=Ko(e,"useGridRowCount"),n=et(e,SR),o=et(e,gf),i=et(e,bm),s=et(e,Wo),a=ss(()=>Wo(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:gf,changeEvent:"rowCountChange"});const d={setRowCount:_.useCallback(y=>{o!==y&&(r.debug("Setting 'rowCount' to",y),e.current.setState(b=>H({},b,{pagination:H({},b.pagination,{rowCount:y})})))},[e,r,o])};wr(e,d,"public");const h=_.useCallback((y,b)=>{const v=gf(e);return!b.exportOnlyDirtyModels||t.rowCount!=null||t.initialState?.pagination?.rowCount!=null?H({},y,{pagination:H({},y.pagination,{rowCount:v})}):y},[e,t.rowCount,t.initialState?.pagination?.rowCount]),f=_.useCallback((y,b)=>{const v=b.stateToRestore.pagination?.rowCount?b.stateToRestore.pagination.rowCount:gf(e);return e.current.setState(C=>H({},C,{pagination:H({},C.pagination,{rowCount:v})})),y},[e]);Un(e,"exportState",h),Un(e,"restoreState",f);const g=_.useCallback(y=>{t.paginationMode==="client"||!a.current||y.pageSize!==a.current&&(a.current=y.pageSize,o===-1&&e.current.setPage(0))},[t.paginationMode,a,o,e]);Tt(e,"paginationModelChange",g),_.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(n):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,n,t.rowCount]);const m=i.hasNextPage===!1;_.useEffect(()=>{m&&o===-1&&e.current.setRowCount(s.pageSize*s.page+n)},[e,n,m,o,s])},_Ve=(e,t)=>{const r=Ko(e,"useGridPaginationMeta"),n=et(e,bm);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:bm,changeEvent:"paginationMetaChange"});const i={setPaginationMeta:_.useCallback(c=>{n!==c&&(r.debug("Setting 'paginationMeta' to",c),e.current.setState(d=>H({},d,{pagination:H({},d.pagination,{meta:c})})))},[e,r,n])};wr(e,i,"public");const s=_.useCallback((c,d)=>{const h=bm(e);return!d.exportOnlyDirtyModels||t.paginationMeta!=null||t.initialState?.pagination?.meta!=null?H({},c,{pagination:H({},c.pagination,{meta:h})}):c},[e,t.paginationMeta,t.initialState?.pagination?.meta]),a=_.useCallback((c,d)=>{const h=d.stateToRestore.pagination?.meta?d.stateToRestore.pagination.meta:bm(e);return e.current.setState(f=>H({},f,{pagination:H({},f.pagination,{meta:h})})),c},[e]);Un(e,"exportState",s),Un(e,"restoreState",a),_.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},EVe=(e,t)=>{const r=H({},cH(t.autoPageSize),t.paginationModel??t.initialState?.pagination?.paginationModel);uH(r.pageSize,t.signature);const n=t.rowCount??t.initialState?.pagination?.rowCount??(t.paginationMode==="client"?e.rows?.totalRowCount:void 0),o=t.paginationMeta??t.initialState?.pagination?.meta??{};return H({},e,{pagination:H({},e.pagination,{paginationModel:r,rowCount:n,meta:o,enabled:t.pagination===!0,paginationMode:t.paginationMode})})},TVe=(e,t)=>{_Ve(e,t),uVe(e,t),xVe(e,t)},MVe=(e,t)=>H({},e,{preferencePanel:t.initialState?.preferencePanel??{open:!1}}),OVe=(e,t)=>{const r=Ko(e,"useGridPreferencesPanel"),n=_.useCallback(()=>{e.current.setState(a=>{if(!a.preferencePanel.open)return a;r.debug("Hiding Preferences Panel");const c=Hd(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:c.openedPanelValue}),H({},a,{preferencePanel:{open:!1}})})},[e,r]),o=_.useCallback((a,c,d)=>{r.debug("Opening Preferences Panel"),e.current.setState(h=>H({},h,{preferencePanel:H({},h.preferencePanel,{open:!0,openedPanelValue:a,panelId:c,labelId:d})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:a})},[r,e]);wr(e,{showPreferences:o,hidePreferences:n},"public");const i=_.useCallback((a,c)=>{const d=Hd(e);return!c.exportOnlyDirtyModels||t.initialState?.preferencePanel!=null||d.open?H({},a,{preferencePanel:d}):a},[e,t.initialState?.preferencePanel]),s=_.useCallback((a,c)=>{const d=c.stateToRestore.preferencePanel;return d!=null&&e.current.setState(h=>H({},h,{preferencePanel:d})),a},[e]);Un(e,"exportState",i),Un(e,"restoreState",s)},HR=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},RVe=["id","field"],IVe=["id","field"],PVe=(e,t)=>{const[r,n]=_.useState({}),o=_.useRef(r),i=_.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:d}=t,h=W=>(...V)=>{t.editMode===fl.Cell&&W(...V)},f=_.useCallback((W,V)=>{const Y=e.current.getCellParams(W,V);if(!e.current.isCellEditable(Y))throw new Error(`MUI X: The cell with id=${W} and field=${V} is not editable.`)},[e]),g=_.useCallback((W,V,Y)=>{if(e.current.getCellMode(W,V)!==Y)throw new Error(`MUI X: The cell with id=${W} and field=${V} is not in ${Y} mode.`)},[e]),m=_.useCallback((W,V)=>{if(!W.isEditable||W.cellMode===Kr.Edit)return;const Y=H({},W,{reason:tc.cellDoubleClick});e.current.publishEvent("cellEditStart",Y,V)},[e]),y=_.useCallback((W,V)=>{if(W.cellMode===Kr.View||e.current.getCellMode(W.id,W.field)===Kr.View)return;const Y=H({},W,{reason:Xs.cellFocusOut});e.current.publishEvent("cellEditStop",Y,V)},[e]),b=_.useCallback((W,V)=>{if(W.cellMode===Kr.Edit){if(V.which===229)return;let Y;if(V.key==="Escape"?Y=Xs.escapeKeyDown:V.key==="Enter"?Y=Xs.enterKeyDown:V.key==="Tab"&&(Y=V.shiftKey?Xs.shiftTabKeyDown:Xs.tabKeyDown,V.preventDefault()),Y){const Q=H({},W,{reason:Y});e.current.publishEvent("cellEditStop",Q,V)}}else if(W.isEditable){let Y;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:V,cellParams:W,editMode:"cell"}))return;if(HG(V)?Y=tc.printableKeyDown:KG(V)?Y=tc.pasteKeyDown:V.key==="Enter"?Y=tc.enterKeyDown:(V.key==="Backspace"||V.key==="Delete")&&(Y=tc.deleteKeyDown),Y){const re=H({},W,{reason:Y,key:V.key});e.current.publishEvent("cellEditStart",re,V)}}},[e]),v=_.useCallback(W=>{const{id:V,field:Y,reason:Q}=W,re={id:V,field:Y};(Q===tc.printableKeyDown||Q===tc.deleteKeyDown||Q===tc.pasteKeyDown)&&(re.deleteValue=!0),e.current.startCellEditMode(re)},[e]),C=_.useCallback(W=>{const{id:V,field:Y,reason:Q}=W;e.current.runPendingEditCellValueMutation(V,Y);let re;Q===Xs.enterKeyDown?re="below":Q===Xs.tabKeyDown?re="right":Q===Xs.shiftTabKeyDown&&(re="left");const z=Q==="escapeKeyDown";e.current.stopCellEditMode({id:V,field:Y,ignoreModifications:z,cellToFocusAfter:re})},[e]),E=W=>async(...V)=>{if(W){const{id:Y,field:Q}=V[0];e.current.state.editRows[Y][Q]?.error||W(...V)}};Tt(e,"cellDoubleClick",h(m)),Tt(e,"cellFocusOut",h(y)),Tt(e,"cellKeyDown",h(b)),Tt(e,"cellEditStart",h(v)),Tt(e,"cellEditStop",h(C)),cn(e,"cellEditStart",t.onCellEditStart),cn(e,"cellEditStop",E(t.onCellEditStop));const T=_.useCallback((W,V)=>{const Y=Lo(e);return Y[W]&&Y[W][V]?Kr.Edit:Kr.View},[e]),R=$t(W=>{const V=W!==t.cellModesModel;d&&V&&d(W,{api:e.current}),!(t.cellModesModel&&V)&&(n(W),o.current=W,e.current.publishEvent("cellModesModelChange",W))}),M=_.useCallback((W,V,Y)=>{const Q=H({},o.current);if(Y!==null)Q[W]=H({},Q[W],{[V]:H({},Y)});else{const re=Q[W],z=pt(re,[V].map(Pm));Q[W]=z,Object.keys(Q[W]).length===0&&delete Q[W]}R(Q)},[R]),I=_.useCallback((W,V,Y)=>{e.current.setState(Q=>{const re=H({},Q.editRows);return Y!==null?re[W]=H({},re[W],{[V]:H({},Y)}):(delete re[W][V],Object.keys(re[W]).length===0&&delete re[W]),H({},Q,{editRows:re})})},[e]),N=_.useCallback(W=>{const{id:V,field:Y}=W,Q=pt(W,RVe);f(V,Y),g(V,Y,Kr.View),M(V,Y,H({mode:Kr.Edit},Q))},[f,g,M]),P=$t(async W=>{const{id:V,field:Y,deleteValue:Q,initialValue:re}=W,z=e.current.getCellValue(V,Y);let K=z;Q?K=HR(e.current.getColumn(Y)):re&&(K=re);const Z=e.current.getColumn(Y),le=!!Z.preProcessEditCellProps&&Q;let ce={value:K,error:!1,isProcessingProps:le};if(I(V,Y,ce),e.current.setCellFocus(V,Y),le&&(ce=await Promise.resolve(Z.preProcessEditCellProps({id:V,row:e.current.getRow(V),props:ce,hasChanged:K!==z})),e.current.getCellMode(V,Y)===Kr.Edit)){const ue=Lo(e);I(V,Y,H({},ce,{value:ue[V][Y].value,isProcessingProps:!1}))}}),L=_.useCallback(W=>{const{id:V,field:Y}=W,Q=pt(W,IVe);g(V,Y,Kr.Edit),M(V,Y,H({mode:Kr.View},Q))},[g,M]),D=$t(async W=>{const{id:V,field:Y,ignoreModifications:Q,cellToFocusAfter:re="none"}=W;g(V,Y,Kr.Edit),e.current.runPendingEditCellValueMutation(V,Y);const z=()=>{I(V,Y,null),M(V,Y,null),re!=="none"&&e.current.moveFocusToRelativeCell(V,Y,re)};if(Q){z();return}const K=Lo(e),{error:Z,isProcessingProps:le}=K[V][Y],ce=e.current.getRow(V);if(Z||le){i.current[V][Y].mode=Kr.Edit,M(V,Y,{mode:Kr.Edit});return}const ue=e.current.getRowWithUpdatedValuesFromCellEditing(V,Y);if(t.dataSource?.updateRow){if(ea(ce,ue)){z();return}const ae=()=>{i.current[V][Y].mode=Kr.Edit,M(V,Y,{mode:Kr.Edit})},ye={rowId:V,updatedRow:ue,previousRow:ce};try{await e.current.dataSource.editRow(ye),z()}catch{ae()}}else if(s){const ae=ye=>{i.current[V][Y].mode=Kr.Edit,M(V,Y,{mode:Kr.Edit}),a&&a(ye)};try{Promise.resolve(s(ue,ce,{rowId:V})).then(ye=>{e.current.updateRows([ye]),z()}).catch(ae)}catch(ye){ae(ye)}}else e.current.updateRows([ue]),z()}),$=_.useCallback(async W=>{const{id:V,field:Y,value:Q,debounceMs:re,unstable_skipValueParser:z}=W;f(V,Y),g(V,Y,Kr.Edit);const K=e.current.getColumn(Y),Z=e.current.getRow(V);let le=Q;K.valueParser&&!z&&(le=K.valueParser(Q,Z,K,e));let ce=Lo(e),ue=H({},ce[V][Y],{value:le,changeReason:re?"debouncedSetEditCellValue":"setEditCellValue"});if(K.preProcessEditCellProps){const ae=Q!==ce[V][Y].value;ue=H({},ue,{isProcessingProps:!0}),I(V,Y,ue),ue=await Promise.resolve(K.preProcessEditCellProps({id:V,row:Z,props:ue,hasChanged:ae}))}return e.current.getCellMode(V,Y)===Kr.View?!1:(ce=Lo(e),ue=H({},ue,{isProcessingProps:!1}),ue.value=K.preProcessEditCellProps?ce[V][Y].value:le,I(V,Y,ue),ce=Lo(e),!ce[V]?.[Y]?.error)},[e,f,g,I]),B=_.useCallback((W,V)=>{const Y=e.current.getColumn(V),Q=Lo(e),re=e.current.getRow(W);if(!Q[W]||!Q[W][V])return e.current.getRow(W);const{value:z}=Q[W][V];return Y.valueSetter?Y.valueSetter(z,re,Y,e):H({},re,{[V]:z})},[e]),U={getCellMode:T,startCellEditMode:N,stopCellEditMode:L},q={setCellEditingEditCellValue:$,getRowWithUpdatedValuesFromCellEditing:B};wr(e,U,"public"),wr(e,q,"private"),_.useEffect(()=>{c&&R(c)},[c,R]),zr(()=>{const W=qs(e),V=i.current;i.current=TG(r),Object.entries(r).forEach(([Y,Q])=>{Object.entries(Q).forEach(([re,z])=>{const K=V[Y]?.[re]?.mode||Kr.View,Z=W[Y]?e.current.getRowId(W[Y]):Y;z.mode===Kr.Edit&&K===Kr.View?P(H({id:Z,field:re},z)):z.mode===Kr.View&&K===Kr.Edit&&D(H({id:Z,field:re},z))})})},[e,r,P,D])},kVe=["id"],DVe=["id"],AVe=(e,t)=>{const[r,n]=_.useState({}),o=_.useRef(r),i=_.useRef({}),s=_.useRef({}),a=_.useRef(void 0),c=_.useRef(null),{processRowUpdate:d,onProcessRowUpdateError:h,rowModesModel:f,onRowModesModelChange:g}=t,m=z=>(...K)=>{t.editMode===fl.Row&&z(...K)},y=_.useCallback((z,K)=>{const Z=e.current.getCellParams(z,K);if(!e.current.isCellEditable(Z))throw new Error(`MUI X: The cell with id=${z} and field=${K} is not editable.`)},[e]),b=_.useCallback((z,K)=>{if(e.current.getRowMode(z)!==K)throw new Error(`MUI X: The row with id=${z} is not in ${K} mode.`)},[e]),v=_.useCallback(z=>{const K=Lo(e);return Object.values(K[z]).some(Z=>Z.error)},[e]),C=_.useCallback((z,K)=>{if(!z.isEditable||e.current.getRowMode(z.id)===En.Edit)return;const Z=e.current.getRowParams(z.id),le=H({},Z,{field:z.field,reason:iu.cellDoubleClick});e.current.publishEvent("rowEditStart",le,K)},[e]),E=_.useCallback(z=>{c.current=z},[]),T=_.useCallback((z,K)=>{z.isEditable&&e.current.getRowMode(z.id)!==En.View&&(c.current=null,a.current=setTimeout(()=>{if(c.current?.id!==z.id){if(!e.current.getRow(z.id)||e.current.getRowMode(z.id)===En.View||v(z.id))return;const Z=e.current.getRowParams(z.id),le=H({},Z,{field:z.field,reason:pl.rowFocusOut});e.current.publishEvent("rowEditStop",le,K)}}))},[e,v]);_.useEffect(()=>()=>{clearTimeout(a.current)},[]);const R=_.useCallback((z,K)=>{if(z.cellMode===En.Edit){if(K.which===229)return;let Z;if(K.key==="Escape")Z=pl.escapeKeyDown;else if(K.key==="Enter")Z=pl.enterKeyDown;else if(K.key==="Tab"){const le=fm(e).filter(ce=>e.current.getColumn(ce).type===$w?!0:e.current.isCellEditable(e.current.getCellParams(z.id,ce)));if(K.shiftKey?z.field===le[0]&&(Z=pl.shiftTabKeyDown):z.field===le[le.length-1]&&(Z=pl.tabKeyDown),K.preventDefault(),!Z){const ce=le.findIndex(ae=>ae===z.field),ue=le[K.shiftKey?ce-1:ce+1];e.current.setCellFocus(z.id,ue)}}if(Z){if(Z!==pl.escapeKeyDown&&v(z.id))return;const le=H({},e.current.getRowParams(z.id),{reason:Z,field:z.field});e.current.publishEvent("rowEditStop",le,K)}}else if(z.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:K,cellParams:z,editMode:"row"}))return;if(HG(K)||KG(K)?Z=iu.printableKeyDown:K.key==="Enter"?Z=iu.enterKeyDown:(K.key==="Backspace"||K.key==="Delete")&&(Z=iu.deleteKeyDown),Z){const ce=e.current.getRowParams(z.id),ue=H({},ce,{field:z.field,reason:Z});e.current.publishEvent("rowEditStart",ue,K)}}},[e,v]),M=_.useCallback(z=>{const{id:K,field:Z,reason:le}=z,ce={id:K,fieldToFocus:Z};(le===iu.printableKeyDown||le===iu.deleteKeyDown)&&(ce.deleteValue=!!Z),e.current.startRowEditMode(ce)},[e]),I=_.useCallback(z=>{const{id:K,reason:Z,field:le}=z;e.current.runPendingEditCellValueMutation(K);let ce;Z===pl.enterKeyDown?ce="below":Z===pl.tabKeyDown?ce="right":Z===pl.shiftTabKeyDown&&(ce="left");const ue=Z==="escapeKeyDown";e.current.stopRowEditMode({id:K,ignoreModifications:ue,field:le,cellToFocusAfter:ce})},[e]);Tt(e,"cellDoubleClick",m(C)),Tt(e,"cellFocusIn",m(E)),Tt(e,"cellFocusOut",m(T)),Tt(e,"cellKeyDown",m(R)),Tt(e,"rowEditStart",m(M)),Tt(e,"rowEditStop",m(I)),cn(e,"rowEditStart",t.onRowEditStart),cn(e,"rowEditStop",t.onRowEditStop);const N=_.useCallback(z=>PH(e,{rowId:z,editMode:t.editMode})?En.Edit:En.View,[e,t.editMode]),P=$t(z=>{const K=z!==t.rowModesModel;g&&K&&g(z,{api:e.current}),!(t.rowModesModel&&K)&&(n(z),o.current=z,e.current.publishEvent("rowModesModelChange",z))}),L=_.useCallback((z,K)=>{const Z=H({},o.current);K!==null?Z[z]=H({},K):delete Z[z],P(Z)},[P]),D=_.useCallback((z,K)=>{e.current.setState(Z=>{const le=H({},Z.editRows);return K!==null?le[z]=K:delete le[z],H({},Z,{editRows:le})})},[e]),$=_.useCallback((z,K,Z)=>{e.current.setState(le=>{const ce=H({},le.editRows);return Z!==null?ce[z]=H({},ce[z],{[K]:H({},Z)}):(delete ce[z][K],Object.keys(ce[z]).length===0&&delete ce[z]),H({},le,{editRows:ce})})},[e]),B=_.useCallback(z=>{const{id:K}=z,Z=pt(z,kVe);b(K,En.View),L(K,H({mode:En.Edit},Z))},[b,L]),U=$t(z=>{const{id:K,fieldToFocus:Z,deleteValue:le,initialValue:ce}=z,ue=e.current.getRow(K),ae=Zs(e),ye=ae.reduce((Me,xe)=>{const he=xe.field;if(!e.current.getCellParams(K,he).isEditable)return Me;const Se=e.current.getColumn(he);let Ee=e.current.getCellValue(K,he);return Z===he&&(le||ce)&&(le?Ee=HR(Se):ce&&(Ee=ce)),Me[he]={value:Ee,error:!1,isProcessingProps:Se.editable&&!!Se.preProcessEditCellProps&&le},Me},{});s.current[K]=ue,D(K,ye),Z&&e.current.setCellFocus(K,Z),ae.filter(Me=>e.current.getCellParams(K,Me.field).isEditable&&Me.editable&&!!Me.preProcessEditCellProps&&le).forEach(Me=>{const xe=Me.field,he=e.current.getCellValue(K,xe),pe=le?HR(Me):ce??he;Promise.resolve(Me.preProcessEditCellProps({id:K,row:ue,props:ye[xe],hasChanged:pe!==he})).then(Se=>{if(e.current.getRowMode(K)===En.Edit){const Ee=Lo(e);$(K,xe,H({},Se,{value:Ee[K][xe].value,isProcessingProps:!1}))}})})}),q=_.useCallback(z=>{const{id:K}=z,Z=pt(z,DVe);b(K,En.Edit),L(K,H({mode:En.View},Z))},[b,L]),W=$t(async z=>{const{id:K,ignoreModifications:Z,field:le,cellToFocusAfter:ce="none"}=z;e.current.runPendingEditCellValueMutation(K);const ue=()=>{ce!=="none"&&le&&e.current.moveFocusToRelativeCell(K,le,ce),D(K,null),L(K,null),delete s.current[K]};if(Z){ue();return}const ae=Lo(e),ye=s.current[K];if(Object.values(ae[K]).some(he=>he.isProcessingProps)){i.current[K].mode=En.Edit;return}if(v(K)){i.current[K].mode=En.Edit,L(K,{mode:En.Edit});return}const xe=e.current.getRowWithUpdatedValuesFromRowEditing(K);if(t.dataSource?.updateRow){if(ea(ye,xe)){ue();return}const he=()=>{i.current[K].mode=En.Edit,L(K,{mode:En.Edit})},pe={rowId:K,updatedRow:xe,previousRow:ye};try{await e.current.dataSource.editRow(pe),ue()}catch{he()}}else if(d){const he=pe=>{i.current[K]&&(i.current[K].mode=En.Edit,L(K,{mode:En.Edit})),h&&h(pe)};try{Promise.resolve(d(xe,ye,{rowId:K})).then(pe=>{e.current.updateRows([pe]),ue()}).catch(he)}catch(pe){he(pe)}}else e.current.updateRows([xe]),ue()}),V=_.useCallback(z=>{const{id:K,field:Z,value:le,debounceMs:ce,unstable_skipValueParser:ue}=z;y(K,Z);const ae=e.current.getColumn(Z),ye=e.current.getRow(K);let Me=le;ae.valueParser&&!ue&&(Me=ae.valueParser(le,ye,ae,e));let xe=Lo(e),he=H({},xe[K][Z],{value:Me,changeReason:ce?"debouncedSetEditCellValue":"setEditCellValue"});return ae.preProcessEditCellProps||$(K,Z,he),new Promise(pe=>{const Se=[];if(ae.preProcessEditCellProps){const Ee=he.value!==xe[K][Z].value;he=H({},he,{isProcessingProps:!0}),$(K,Z,he);const ke=xe[K],Te=pt(ke,[Z].map(Pm)),Ve=Promise.resolve(ae.preProcessEditCellProps({id:K,row:ye,props:he,hasChanged:Ee,otherFieldsProps:Te})).then(nt=>{if(e.current.getRowMode(K)===En.View){pe(!1);return}xe=Lo(e),nt=H({},nt,{isProcessingProps:!1}),nt.value=ae.preProcessEditCellProps?xe[K][Z].value:Me,$(K,Z,nt)});Se.push(Ve)}Object.entries(xe[K]).forEach(([Ee,ke])=>{if(Ee===Z)return;const Te=e.current.getColumn(Ee);if(!Te.preProcessEditCellProps)return;ke=H({},ke,{isProcessingProps:!0}),$(K,Ee,ke),xe=Lo(e);const Ve=xe[K],nt=pt(Ve,[Ee].map(Pm)),je=Promise.resolve(Te.preProcessEditCellProps({id:K,row:ye,props:ke,hasChanged:!1,otherFieldsProps:nt})).then(Rt=>{if(e.current.getRowMode(K)===En.View){pe(!1);return}Rt=H({},Rt,{isProcessingProps:!1}),$(K,Ee,Rt)});Se.push(je)}),Promise.all(Se).then(()=>{e.current.getRowMode(K)===En.Edit?(xe=Lo(e),pe(!xe[K][Z].error)):pe(!1)})})},[e,y,$]),Y=_.useCallback(z=>{const K=Lo(e),Z=e.current.getRow(z);if(!K[z])return e.current.getRow(z);let le=H({},s.current[z],Z);return Object.entries(K[z]).forEach(([ce,ue])=>{const ae=e.current.getColumn(ce);ae?.valueSetter?le=ae.valueSetter(ue.value,le,ae,e):le[ce]=ue.value}),le},[e]),Q={getRowMode:N,startRowEditMode:B,stopRowEditMode:q},re={setRowEditingEditCellValue:V,getRowWithUpdatedValuesFromRowEditing:Y};wr(e,Q,"public"),wr(e,re,"private"),_.useEffect(()=>{f&&P(f)},[f,P]),zr(()=>{const z=qs(e),K=i.current;i.current=TG(r);const Z=new Set([...Object.keys(r),...Object.keys(K)]);Array.from(Z).forEach(le=>{const ce=r[le]??{mode:En.View},ue=K[le]?.mode||En.View,ae=z[le]?e.current.getRowId(z[le]):le;ce.mode===En.Edit&&ue===En.View?U(H({id:ae},ce)):ce.mode===En.View&&ue===En.Edit&&W(H({id:ae},ce))})},[e,r,U,W])},LVe=e=>H({},e,{editRows:{}}),NVe=(e,t)=>{PVe(e,t),AVe(e,t);const r=_.useRef({}),{isCellEditable:n}=t,o=_.useCallback(g=>df(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:n?n(g):!0,[n]),i=(g,m,y,b)=>{if(!y){b();return}if(r.current[g]||(r.current[g]={}),r.current[g][m]){const[E]=r.current[g][m];clearTimeout(E)}const v=()=>{const[E]=r.current[g][m];clearTimeout(E),b(),delete r.current[g][m]},C=setTimeout(()=>{b(),delete r.current[g][m]},y);r.current[g][m]=[C,v]};_.useEffect(()=>{const g=r.current;return()=>{Object.entries(g).forEach(([m,y])=>{Object.keys(y).forEach(b=>{const[v]=g[m][b];clearTimeout(v),delete g[m][b]})})}},[]);const s=_.useCallback((g,m)=>{if(r.current[g]){if(!m)Object.keys(r.current[g]).forEach(y=>{const[,b]=r.current[g][y];b()});else if(r.current[g][m]){const[,y]=r.current[g][m];y()}}},[]),a=_.useCallback(g=>{const{id:m,field:y,debounceMs:b}=g;return new Promise(v=>{i(m,y,b,async()=>{const C=t.editMode===fl.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(m,y)===Kr.Edit){const E=await C(g);v(E)}})})},[e,t.editMode]),c=_.useCallback((g,m)=>t.editMode===fl.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,m):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),d=_.useCallback((g,m)=>Lo(e)[g]?.[m]??null,[e]),h={isCellEditable:o,setEditCellValue:a,getRowWithUpdatedValues:c,unstable_getEditCellMeta:d},f={runPendingEditCellValueMutation:s};wr(e,h,"public"),wr(e,f,"private")},BVe=(e,t,r)=>{const n=!!t.dataSource;return r.current.caches.rows=Dw({rows:n?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),H({},e,{rows:dG({apiRef:r,rowCountProp:t.rowCount,loadingProp:n?!0:t.loading,previousTree:null,previousTreeDepths:null})})},FVe=(e,t,r)=>{const n=Ko(e,"useGridRows"),o=_.useRef(Date.now()),i=_.useRef(t.rowCount),s=Fi(),{setRowIndex:a}=r.hooks.useGridRowsOverridableMethods(e,t),c=_.useCallback(V=>{const Y=qs(e)[V];if(Y)return Y;const Q=dl(e,V);return Q&&df(Q)?{[Fd]:V}:null},[e]),d=_.useCallback(V=>mf(e,V),[e]),h=_.useCallback(({cache:V,throttle:Y})=>{const Q=()=>{o.current=Date.now(),e.current.setState(z=>H({},z,{rows:dG({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Ho(e),previousTreeDepths:lG(e),previousGroupsToFetch:MPe(e)})})),e.current.publishEvent("rowsSet")};if(s.clear(),e.current.caches.rows=V,!Y){Q();return}const re=t.throttleRowsMs-(Date.now()-o.current);if(re>0){s.start(re,Q);return}Q()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),f=_.useCallback(V=>{if(n.debug(`Updating all rows, new length ${V.length}`),Gd(e)){e.current.updateNonPivotRows(V,!1);return}const Y=Dw({rows:V,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),Q=e.current.caches.rows;Y.rowsBeforePartialUpdates=Q.rowsBeforePartialUpdates,h({cache:Y,throttle:!0})},[n,t.getRowId,t.loading,t.rowCount,h,e]),g=_.useCallback(V=>{if(t.signature===Ta.DataGrid&&V.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Gd(e)){e.current.updateNonPivotRows(V);return}const Y=gG(e,V,t.getRowId),Q=fG({updates:Y,getRowId:t.getRowId,previousCache:e.current.caches.rows});h({cache:Q,throttle:!0})},[t.signature,t.getRowId,h,e]),m=_.useCallback((V,Y)=>{const Q=gG(e,V,t.getRowId),re=fG({updates:Q,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:Y??[]});h({cache:re,throttle:!1})},[t.getRowId,h,e]),y=_.useCallback(V=>{n.debug(`Setting loading to ${V}`),e.current.setState(Y=>H({},Y,{rows:H({},Y.rows,{loading:V})})),e.current.caches.rows.loadingPropBeforePartialUpdates=V},[e,n]),b=_.useCallback(()=>{const V=Bd(e),Y=qs(e);return new Map(V.map(Q=>[Q,Y[Q]??{}]))},[e]),v=_.useCallback(()=>uf(e),[e]),C=_.useCallback(()=>Bd(e),[e]),E=_.useCallback(V=>{const{rowIdToIndexMap:Y}=Mf(e);return Y.get(V)},[e]),T=_.useCallback((V,Y)=>{const Q=dl(e,V);if(!Q)throw new Error(`MUI X: No row with id #${V} found.`);if(Q.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const re=H({},Q,{childrenExpanded:Y});e.current.setState(z=>H({},z,{rows:H({},z.rows,{tree:H({},z.rows.tree,{[V]:re})})})),e.current.publishEvent("rowExpansionChange",re)},[e]),R=_.useCallback(V=>dl(e,V)??null,[e]),M=_.useCallback(({skipAutoGeneratedRows:V=!0,groupId:Y,applySorting:Q,applyFiltering:re,directChildrenOnly:z=!1})=>{const K=Ho(e);let Z;if(Q){const le=K[Y];if(!le)return[];const ce=mm(e);Z=[];const ue=ce.findIndex(ae=>ae===Y)+1;for(let ae=ue;ae<ce.length&&(z?K[ce[ae]].depth===le.depth+1:K[ce[ae]].depth>le.depth);ae+=1){const ye=ce[ae];(!V||!df(K[ye]))&&Z.push(ye)}}else Z=uR(K,Y,V,z);if(re){const le=ff(e);Z=Uw(le)?Z:Z.filter(ce=>le[ce]!==!1)}return Z},[e]),I=_.useCallback((V,Y)=>{if(t.signature===Ta.DataGrid&&Y.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Y.length===0)return;if(cm(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const re=H({},Ho(e)),z=H({},qs(e)),K=re[Do],Z=[...K.children],le=new Set;for(let ue=0;ue<Y.length;ue+=1){const ae=Y[ue],ye=kw(ae,t.getRowId,"A row was provided without id when calling replaceRows()."),[Me]=Z.splice(V+ue,1,ye);le.has(Me)||(delete z[Me],delete re[Me]);const xe={id:ye,depth:0,parent:Do,type:"leaf",groupingKey:null};z[ye]=ae,re[ye]=xe,le.add(ye)}re[Do]=H({},K,{children:Z});const ce=Z.filter(ue=>re[ue]?.type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=z,e.current.setState(ue=>H({},ue,{rows:H({},ue.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,Z.length),dataRowIdToModelLookup:z,dataRowIds:ce,tree:re})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),N={getRow:c,setLoading:y,getRowId:d,getRowModels:b,getRowsCount:v,getAllRowIds:C,setRows:f,updateRows:g,getRowNode:R,getRowIndexRelativeToVisibleRows:E,unstable_replaceRows:I},P={setRowIndex:a,setRowChildrenExpansion:T,getRowGroupChildren:M},L={updateNestedRows:m},D=_.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let V;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?V=H({},e.current.caches.rows,{updates:{type:"full",rows:Bd(e)}}):V=Dw({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),h({cache:V,throttle:!1})},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,h]),$=ss(()=>t.dataSource),B=_.useCallback(V=>{if(t.dataSource&&t.dataSource!==$.current){$.current=t.dataSource;return}V==="rowTreeCreation"&&D()},[D,$,t.dataSource]),U=_.useCallback(()=>{e.current.getActiveStrategy(du.RowTree)!==OPe(e)&&D()},[e,D]);Tt(e,"activeStrategyProcessorChange",B),Tt(e,"strategyAvailabilityChange",U);const q=_.useCallback(()=>{e.current.setState(V=>{const Y=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Ho(e),treeDepths:lG(e),dataRowIds:Bd(e),dataRowIdToModelLookup:qs(e)});return H({},V,{rows:H({},V.rows,Y,{totalTopLevelRowCount:uG({tree:Y.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);VR(e,"hydrateRows",q),wr(e,N,"public"),wr(e,P,t.signature===Ta.DataGrid?"private":"public"),wr(e,L,"private");const W=_.useRef(!0);_.useEffect(()=>{if(W.current){W.current=!1;return}let V=!1;t.rowCount!==i.current&&(V=!0,i.current=t.rowCount);const Y=t.dataSource?RPe(e):t.rows,Q=e.current.caches.rows.rowsBeforePartialUpdates===Y,re=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,z=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;Q&&(re||(e.current.setState(K=>H({},K,{rows:H({},K.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),z||(e.current.setState(K=>H({},K,{rows:H({},K.rows,{totalRowCount:Math.max(t.rowCount||0,K.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,K.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),!V)||(n.debug(`Updating all rows, new length ${Y?.length}`),h({cache:Dw({rows:Y,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,n,h,e])},jVe=e=>{const t={[Do]:H({},PPe(),{children:e})};for(let r=0;r<e.length;r+=1){const n=e[r];t[n]={id:n,depth:0,parent:Do,type:"leaf",groupingKey:null}}return{groupingName:Kd,tree:t,treeDepths:{0:e.length},dataRowIds:e}},VVe=({previousTree:e,actions:t})=>{const r=H({},e),n={};for(let s=0;s<t.remove.length;s+=1){const a=t.remove[s];n[a]=!0,delete r[a]}for(let s=0;s<t.insert.length;s+=1){const a=t.insert[s];r[a]={id:a,depth:0,parent:Do,type:"leaf",groupingKey:null}}const o=r[Do];let i=[...o.children,...t.insert];return Object.values(n).length&&(i=i.filter(s=>!n[s])),r[Do]=H({},o,{children:i}),{groupingName:Kd,tree:r,treeDepths:{0:i.length},dataRowIds:i}},$Ve=e=>e.updates.type==="full"?jVe(e.updates.rows):VVe({previousTree:e.previousTree,actions:e.updates.actions}),zVe=e=>{km(e,Kd,"rowTreeCreation",$Ve)};class WR extends Error{}function UVe(e,t){const r=_.useCallback(y=>({field:y,colDef:e.current.getColumn(y)}),[e]),n=_.useCallback(y=>{const b=e.current.getRow(y);if(!b)throw new WR(`No row with id #${y} found`);return{id:y,columns:e.current.getAllColumns(),row:b}},[e]),o=_.useCallback((y,b,v,{cellMode:C,colDef:E,hasFocus:T,rowNode:R,tabIndex:M})=>{const I=v[b],N=E?.valueGetter?E.valueGetter(I,v,E,e):I,P={id:y,field:b,row:v,rowNode:R,colDef:E,cellMode:C,hasFocus:T,tabIndex:M,value:N,formattedValue:N,isEditable:!1,api:e.current};return E&&E.valueFormatter&&(P.formattedValue=E.valueFormatter(N,v,E,e)),P.isEditable=E&&e.current.isCellEditable(P),P},[e]),i=_.useCallback((y,b)=>{const v=e.current.getRow(y),C=dl(e,y);if(!v||!C)throw new WR(`No row with id #${y} found`);const E=Ui(e),T=_R(e),R=e.current.getCellMode(y,b);return e.current.getCellParamsForRow(y,b,v,{colDef:t.listView&&t.listViewColumn?.field===b?DG(e):e.current.getColumn(b),rowNode:C,hasFocus:E!==null&&E.field===b&&E.id===y,tabIndex:T&&T.field===b&&T.id===y?0:-1,cellMode:R})},[e,t.listView,t.listViewColumn?.field]),s=_.useCallback((y,b)=>{const v=e.current.getColumn(b),C=e.current.getRow(y);if(!C)throw new WR(`No row with id #${y} found`);return!v||!v.valueGetter?C[b]:v.valueGetter(C[v.field],C,v,e)},[e]),a=_.useCallback((y,b)=>DPe(y,b,e),[e]),c=_.useCallback((y,b)=>{const v=a(y,b);return!b||!b.valueFormatter?v:b.valueFormatter(v,y,b,e)},[e,a]),d=_.useCallback(y=>e.current.rootElementRef.current?xNe(e.current.rootElementRef.current,y):null,[e]),h=_.useCallback(y=>e.current.rootElementRef.current?_Ne(e.current.rootElementRef.current,y):null,[e]),f=_.useCallback((y,b)=>e.current.rootElementRef.current?ENe(e.current.rootElementRef.current,{id:y,field:b}):null,[e]),g={getCellValue:s,getCellParams:i,getCellElement:f,getRowValue:a,getRowFormattedValue:c,getRowParams:n,getRowElement:h,getColumnHeaderParams:r,getColumnHeaderElement:d},m={getCellParamsForRow:o};wr(e,g,"public"),wr(e,m,"private")}const Dm={type:"include",ids:new Set},GVe=(e,t)=>H({},e,{rowSelection:t.rowSelection?t.rowSelectionModel??Dm:Dm}),HVe=(e,t)=>{const r=Ko(e,"useGridSelection"),n=_.useCallback(z=>(...K)=>{t.rowSelection&&z(...K)},[t.rowSelection]),o=et(e,cm)>1,i=t.signature!==Ta.DataGrid&&(t.rowSelectionPropagation?.parents||t.rowSelectionPropagation?.descendants)&&o,s=_.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),a=_.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:Ra,changeEvent:"rowSelectionChange"});const{checkboxSelection:c,disableRowSelectionOnClick:d,isRowSelectable:h}=t,f=xR(t),g=et(e,Ho),m=_.useCallback(z=>{let K=z;const Z=a.current??z,le=e.current.isRowSelected(z);if(le){const ce=$d(e),ue=ce.findIndex(ye=>ye===Z),ae=ce.findIndex(ye=>ye===K);if(ue===ae)return;ue>ae?K=ce[ae+1]:K=ce[ae-1]}a.current=z,e.current.selectRowRange({startId:Z,endId:K},!le)},[e]),y=$t(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?pH(e):$d(e)),b=_.useCallback((z,K)=>{if(t.signature===Ta.DataGrid&&!f&&(z.type!=="include"||z.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Ra(e)!==z&&(r.debug("Setting selection model"),e.current.setState(le=>H({},le,{rowSelection:t.rowSelection?z:Dm}),K))},[e,r,t.rowSelection,t.signature,f]),v=_.useCallback(z=>vm(e).has(z),[e]),C=_.useCallback(z=>{if(t.rowSelection===!1||h&&!h(e.current.getRowParams(z)))return!1;const K=dl(e,z);return!(K?.type==="footer"||K?.type==="pinnedRow")},[e,t.rowSelection,h]),E=_.useCallback(()=>oH(e),[e]),T=_.useCallback((z,K=!0,Z=!1)=>{if(e.current.isRowSelectable(z))if(a.current=z,Z){r.debug(`Setting selection for row ${z}`);const le={type:"include",ids:new Set},ce=ue=>{le.ids.add(ue)};K&&(ce(z),i&&ym(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ce)),e.current.setRowSelectionModel(le,"singleRowSelection")}else{r.debug(`Toggling selection for row ${z}`);const le=Ra(e),ce={type:le.type,ids:new Set(le.ids)},ue=ou(ce);ue.unselect(z);const ae=xe=>{ue.select(xe)},ye=xe=>{ue.unselect(xe)};K?(ae(z),i&&ym(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ae)):i&&sH(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ye),(ce.type==="include"&&ce.ids.size<2||f)&&e.current.setRowSelectionModel(ce,"singleRowSelection")}},[e,r,i,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,f]),R=_.useCallback((z,K=!0,Z=!1)=>{if(r.debug("Setting selection for several rows"),t.rowSelection===!1)return;const le=new Set;for(let ye=0;ye<z.length;ye+=1){const Me=z[ye];e.current.isRowSelectable(Me)&&le.add(Me)}const ce=Ra(e);let ue;if(Z){if(ue={type:"include",ids:le},K){const ye=ou(ue);if(i){const Me=xe=>{ye.select(xe)};for(const xe of le)ym(e,g,xe,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Me)}}else ue.ids=new Set;if(ce.type===ue.type&&ue.ids.size===ce.ids.size&&Array.from(ue.ids).every(ye=>ce.ids.has(ye)))return}else{ue={type:ce.type,ids:new Set(ce.ids)};const ye=ou(ue),Me=he=>{ye.select(he)},xe=he=>{ye.unselect(he)};for(const he of le)K?(ye.select(he),i&&ym(e,g,he,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Me)):(xe(he),i&&sH(e,g,he,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,xe))}(ue.type==="include"&&ue.ids.size<2||f)&&e.current.setRowSelectionModel(ue,"multipleRowsSelection")},[r,i,f,e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,t.rowSelection]),M=_.useCallback(z=>{if(!o||!i||z.ids.size===0&&z.type==="include")return z;const K={type:z.type,ids:new Set(z.ids)},Z=ou(K),le=ce=>{Z.select(ce)};for(const ce of z.ids)ym(e,g,ce,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,le,Z);return K},[e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,o,i]),I=_.useCallback(({startId:z,endId:K},Z=!0,le=!1)=>{if(!e.current.getRow(z)||!e.current.getRow(K))return;r.debug(`Expanding selection from row ${z} to row ${K}`);const ce=$d(e),ue=ce.indexOf(z),ae=ce.indexOf(K),[ye,Me]=ue>ae?[ae,ue]:[ue,ae],xe=ce.slice(ye,Me+1);e.current.selectRows(xe,Z,le)},[e,r]),N={selectRow:T,setRowSelectionModel:b,getSelectedRows:E,isRowSelected:v,isRowSelectable:C},P={selectRows:R,selectRowRange:I,getPropagatedRowSelectionModel:M};wr(e,N,"public"),wr(e,P,t.signature===Ta.DataGrid?"private":"public");const L=_.useRef(!0),D=_.useCallback((z=!1)=>{if(L.current)return;const K=Ra(e),Z=qs(e),le=Ho(e),ce=ff(e),ue=he=>t.filterMode==="server"?!Z[he]:!le[he]||ce[he]===!1,ae={type:K.type,ids:new Set(K.ids)},ye=ou(ae);let Me=!1;for(const he of K.ids){if(ue(he)){if(t.keepNonExistentRowsSelected)continue;ye.unselect(he),Me=!0;continue}if(!t.rowSelectionPropagation?.parents)continue;const pe=g[he];if(pe?.type==="group"){if(pe.isAutoGenerated){ye.unselect(he),Me=!0;continue}pe.children.every(Ee=>ce[Ee]===!1)||(ye.unselect(he),Me=!0)}}const xe=o&&t.rowSelectionPropagation?.parents&&(ae.ids.size>0||ae.type==="exclude");if(Me||xe&&!z)if(xe)if(ae.type==="exclude"){const he=y(),pe=[];for(let Se=0;Se<he.length;Se+=1){const Ee=he[Se];(t.keepNonExistentRowsSelected||!ue(Ee))&&ye.has(Ee)&&pe.push(Ee)}e.current.selectRows(pe,!0,!0)}else e.current.selectRows(Array.from(ae.ids),!0,!0);else e.current.setRowSelectionModel(ae,"multipleRowsSelection")},[e,o,t.rowSelectionPropagation?.parents,t.keepNonExistentRowsSelected,t.filterMode,g,y]),$=_.useCallback((z,K)=>{const Z=K.metaKey||K.ctrlKey,le=!c&&!Z&&!wke(K),ce=!f||le,ue=e.current.isRowSelected(z),Me=Hw(e)>1&&ce||!ue;e.current.selectRow(z,Me,ce)},[e,f,c]),B=_.useCallback((z,K)=>{if(d)return;const Z=K.target.closest(`.${ie.cell}`)?.getAttribute("data-field");Z===vf.field||Z===yR||Z&&e.current.getColumn(Z)?.type===$w||dl(e,z.id).type==="pinnedRow"||(K.shiftKey&&f?m(z.id):$(z.id,K))},[d,f,e,m,$]),U=_.useCallback((z,K)=>{f&&K.shiftKey&&window.getSelection()?.removeAllRanges()},[f]),q=_.useCallback((z,K)=>{f&&K.nativeEvent.shiftKey?m(z.id):e.current.selectRow(z.id,z.value,!f)},[e,m,f]),W=_.useCallback(z=>{const K=Ao(e),Z=JG(e),le=K.items.length>0||Z?.some(ce=>ce.length);!t.isRowSelectable&&!t.checkboxSelectionVisibleOnly&&(!o||t.rowSelectionPropagation?.descendants)&&!le&&!t.disableRowSelectionExcludeModel?e.current.setRowSelectionModel({type:z?"exclude":"include",ids:new Set},"multipleRowsSelection"):e.current.selectRows(y(),z)},[e,y,t.checkboxSelectionVisibleOnly,t.isRowSelectable,t.rowSelectionPropagation?.descendants,t.disableRowSelectionExcludeModel,o]),V=_.useCallback(z=>{W(z.value)},[W]),Y=_.useCallback((z,K)=>{if(e.current.getCellMode(z.id,z.field)!==Kr.Edit&&!Em(K)){if(Fw(K.key)&&K.shiftKey){const Z=Ui(e);if(Z&&Z.id!==z.id){K.preventDefault();const le=e.current.isRowSelected(Z.id);if(!f){e.current.selectRow(Z.id,!le,!0);return}const ce=e.current.getRowIndexRelativeToVisibleRows(Z.id),ue=e.current.getRowIndexRelativeToVisibleRows(z.id);let ae,ye;ce>ue?le?(ae=ue,ye=ce-1):(ae=ue,ye=ce):le?(ae=ce+1,ye=ue):(ae=ce,ye=ue);const Me=Mf(e),xe=[];for(let he=ae;he<=ye;he+=1)xe.push(Me.rows[he].id);e.current.selectRows(xe,!le);return}}if(K.key===" "&&K.shiftKey){K.preventDefault(),$(z.id,K);return}String.fromCharCode(K.keyCode)==="A"&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),W(!0))}},[e,f,$,W]),Q=$t(()=>{if(!t.rowSelection){e.current.setRowSelectionModel(Dm);return}if(s===void 0)return;if(!i||!o||s.type==="include"&&s.ids.size===0){e.current.setRowSelectionModel(s);return}const z=e.current.getPropagatedRowSelectionModel(s);if(z.type!==s.type||z.ids.size!==s.ids.size||!Array.from(s.ids).every(K=>z.ids.has(K))){e.current.setRowSelectionModel(z);return}e.current.setRowSelectionModel(s)});Tt(e,"sortedRowsSet",n(()=>D(!0))),Tt(e,"filteredRowsSet",n(()=>D())),Tt(e,"rowClick",n(B)),Tt(e,"rowSelectionCheckboxChange",n(q)),Tt(e,"headerSelectionCheckboxChange",V),Tt(e,"cellMouseDown",n(U)),Tt(e,"cellKeyDown",n(Y)),_.useEffect(()=>{Q()},[e,s,t.rowSelection,Q]);const re=s!=null;_.useEffect(()=>{if(re||!t.rowSelection||typeof C!="function")return;const z=Ra(e);if(z.type!=="include")return;const K=new Set;for(const Z of z.ids)C(Z)&&K.add(Z);K.size<z.ids.size&&e.current.setRowSelectionModel({type:z.type,ids:K})},[e,C,re,t.rowSelection]),_.useEffect(()=>{if(!t.rowSelection||re)return;const z=Ra(e);!f&&(z.type==="include"&&z.ids.size>1||z.type==="exclude")&&e.current.setRowSelectionModel(Dm)},[e,f,c,re,t.rowSelection]),_.useEffect(()=>{n(D)},[D,n]),_.useEffect(()=>{L.current&&(L.current=!1)},[])},WVe=e=>{const{classes:t}=e;return _.useMemo(()=>ht({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Cr,t),[t])},KVe=(e,t)=>{const r={classes:t.classes},n=WVe(r),o=_.useCallback(i=>{const s=H({},vf,{cellClassName:n.cellCheckbox,headerClassName:n.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=i.lookup[Ia]!=null;return a&&!c?(i.lookup[Ia]=s,i.orderedFields=[Ia,...i.orderedFields]):!a&&c?(delete i.lookup[Ia],i.orderedFields=i.orderedFields.filter(d=>d!==Ia)):a&&c&&(i.lookup[Ia]=H({},s,i.lookup[Ia]),t.columns.some(d=>d.field===Ia)||(i.orderedFields=[Ia,...i.orderedFields.filter(d=>d!==Ia)])),i},[e,n,t.columns,t.checkboxSelection]);Un(e,"hydrateColumns",o)},qVe=(e,t)=>{const r=t.sortModel??t.initialState?.sorting?.sortModel??[];return H({},e,{sorting:{sortModel:SG(r,t.disableMultipleColumnsSorting),sortedRows:[]}})},YVe=(e,t)=>{const r=Ko(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Js,changeEvent:"sortModelChange"});const n=_.useCallback((M,I)=>{const N=Js(e),P=N.findIndex(D=>D.field===M);let L=[...N];return P>-1?I?.sort==null?L.splice(P,1):L.splice(P,1,I):L=[...N,I],L},[e]),o=_.useCallback((M,I)=>{const P=Js(e).find(L=>L.field===M.field);if(P){const L=I===void 0?xG(M.sortingOrder??t.sortingOrder,P.sort):I;return L===void 0?void 0:H({},P,{sort:L})}return{field:M.field,sort:I===void 0?xG(M.sortingOrder??t.sortingOrder):I}},[e,t.sortingOrder]),i=_.useCallback((M,I)=>I==null||I.sortable===!1||t.disableColumnSorting?M:(I.sortingOrder||t.sortingOrder).some(P=>!!P)?[...M,"columnMenuSortItem"]:M,[t.sortingOrder,t.disableColumnSorting]),s=_.useCallback(()=>{e.current.setState(M=>{if(t.sortingMode==="server")return r.debug("Skipping sorting rows as sortingMode = server"),H({},M,{sorting:H({},M.sorting,{sortedRows:uR(Ho(e),Do,!1)})});const I=Js(e),N=JPe(I,e),P=e.current.applyStrategyProcessor("sorting",{sortRowList:N});return H({},M,{sorting:H({},M.sorting,{sortedRows:P})})}),e.current.publishEvent("sortedRowsSet")},[e,r,t.sortingMode]),a=_.useCallback(M=>{Js(e)!==M&&(r.debug("Setting sort model"),e.current.setState(CG(M,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,r,t.disableMultipleColumnsSorting]),c=_.useCallback((M,I,N)=>{const P=e.current.getColumn(M),L=o(P,I);let D;!N||t.disableMultipleColumnsSorting?D=L?.sort==null?[]:[L]:D=n(P.field,L),e.current.setSortModel(D)},[e,n,o,t.disableMultipleColumnsSorting]),d=_.useCallback(()=>Js(e),[e]),h=_.useCallback(()=>bR(e).map(I=>I.model),[e]),f=_.useCallback(()=>mm(e),[e]),g=_.useCallback(M=>e.current.getSortedRowIds()[M],[e]);wr(e,{getSortModel:d,getSortedRows:h,getSortedRowIds:f,getRowIdFromRowIndex:g,setSortModel:a,sortColumn:c,applySorting:s},"public");const y=_.useCallback((M,I)=>{const N=Js(e);return!I.exportOnlyDirtyModels||t.sortModel!=null||t.initialState?.sorting?.sortModel!=null||N.length>0?H({},M,{sorting:{sortModel:N}}):M},[e,t.sortModel,t.initialState?.sorting?.sortModel]),b=_.useCallback((M,I)=>{const N=I.stateToRestore.sorting?.sortModel;return N==null?M:(e.current.setState(CG(N,t.disableMultipleColumnsSorting)),H({},M,{callbacks:[...M.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),v=_.useCallback(M=>{const I=Ho(e),N=I[Do],P=M.sortRowList?M.sortRowList(N.children.map(L=>I[L])):[...N.children];return N.footerId!=null&&P.push(N.footerId),P},[e]);Un(e,"exportState",y),Un(e,"restoreState",b),km(e,Kd,"sorting",v);const C=_.useCallback(({field:M,colDef:I},N)=>{if(!I.sortable||t.disableColumnSorting)return;const P=t.multipleColumnsSortingMode==="always"||N.shiftKey||N.metaKey||N.ctrlKey;c(M,void 0,P)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),E=_.useCallback(({field:M,colDef:I},N)=>{!I.sortable||t.disableColumnSorting||N.key==="Enter"&&!N.ctrlKey&&!N.metaKey&&c(M,void 0,t.multipleColumnsSortingMode==="always"||N.shiftKey)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),T=_.useCallback(()=>{const M=Js(e),I=rc(e);if(M.length>0){const N=M.filter(P=>I[P.field]);N.length<M.length&&e.current.setSortModel(N)}},[e]),R=_.useCallback(M=>{M==="sorting"&&e.current.applySorting()},[e]);Un(e,"columnMenu",i),Tt(e,"columnHeaderClick",C),Tt(e,"columnHeaderKeyDown",E),Tt(e,"rowsSet",e.current.applySorting),Tt(e,"columnsChange",T),Tt(e,"activeStrategyProcessorChange",R),Ud(()=>{e.current.applySorting()}),zr(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function M5(e){const{containerSize:t,scrollPosition:r,elementSize:n,elementOffset:o}=e,i=o+n;if(n>t)return o;if(i-t>r)return i-t;if(o<r)return o}const XVe=(e,t)=>{const r=Uo(),n=Ko(e,"useGridScroll"),o=e.current.columnHeadersContainerRef,i=e.current.virtualScrollerRef,s=et(e,au),a=_.useCallback(f=>{const g=Qn(e),m=uf(e),y=Jn(e);if(!(f.rowIndex==null)&&m===0||y.length===0)return!1;n.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let v={};if(f.colIndex!==void 0){const C=Vd(e);let E;if(typeof f.rowIndex<"u"){const T=s[f.rowIndex]?.id,R=e.current.unstable_getCellColSpanInfo(T,f.colIndex);R&&!R.spannedByColSpan&&(E=R.cellProps.width)}typeof E>"u"&&(E=y[f.colIndex].computedWidth),v.left=M5({containerSize:g.viewportOuterSize.width,scrollPosition:Math.abs(i.current.scrollLeft),elementSize:E,elementOffset:C[f.colIndex]})}if(f.rowIndex!==void 0){const C=cR(e),E=uDe(e),T=hH(e),R=t.pagination?f.rowIndex-E*T:f.rowIndex,M=C.positions[R+1]?C.positions[R+1]-C.positions[R]:C.currentPageTotalHeight-C.positions[R];v.top=M5({containerSize:g.viewportInnerSize.height,scrollPosition:i.current.scrollTop,elementSize:M,elementOffset:C.positions[R]})}return v=e.current.unstable_applyPipeProcessors("scrollToIndexes",v,f),typeof v.left<"u"||typeof v.top<"u"?(e.current.scroll(v),!0):!1},[n,e,i,t.pagination,s]),c=_.useCallback(f=>{if(i.current&&f.left!==void 0&&o.current){const g=r?-1:1;o.current.scrollLeft=f.left,i.current.scrollLeft=g*f.left,n.debug(`Scrolling left: ${f.left}`)}i.current&&f.top!==void 0&&(i.current.scrollTop=f.top,n.debug(`Scrolling top: ${f.top}`)),n.debug("Scrolling, updating container, and viewport")},[i,r,o,n]),d=_.useCallback(()=>i?.current?{top:i.current.scrollTop,left:i.current.scrollLeft}:{top:0,left:0},[i]);wr(e,{scroll:c,scrollToIndexes:a,getScrollPosition:d},"public")};function ZVe(e,t){cn(e,"columnHeaderClick",t.onColumnHeaderClick),cn(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),cn(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),cn(e,"columnHeaderOver",t.onColumnHeaderOver),cn(e,"columnHeaderOut",t.onColumnHeaderOut),cn(e,"columnHeaderEnter",t.onColumnHeaderEnter),cn(e,"columnHeaderLeave",t.onColumnHeaderLeave),cn(e,"cellClick",t.onCellClick),cn(e,"cellDoubleClick",t.onCellDoubleClick),cn(e,"cellKeyDown",t.onCellKeyDown),cn(e,"preferencePanelClose",t.onPreferencePanelClose),cn(e,"preferencePanelOpen",t.onPreferencePanelOpen),cn(e,"menuOpen",t.onMenuOpen),cn(e,"menuClose",t.onMenuClose),cn(e,"rowDoubleClick",t.onRowDoubleClick),cn(e,"rowClick",t.onRowClick),cn(e,"stateChange",t.onStateChange)}const Am={width:0,height:0},QVe={isReady:!1,root:Am,viewportOuterSize:Am,viewportInnerSize:Am,contentSize:Am,minimumSize:Am,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},JVe=(e,t,r)=>{const n=QVe,o=dm(r);return H({},e,{dimensions:H({},n,r$e(t,r,o,Bw(r)))})},e$e=Ot(Jn,Vd,(e,t)=>{const r=e.length;return r===0?0:Wd(t[r-1]+e[r-1].computedWidth,1)});function t$e(e,t){const r=e.current.virtualizer,n=r.api.updateDimensions,o=r.api.getViewportPageSize,s={getRootDimensions:_.useCallback(()=>Qn(e),[e])},a={updateDimensions:n,getViewportPageSize:o};wr(e,s,"public"),wr(e,a,"private"),cn(e,"rootMount",d=>{O5(d,Qn(e))}),cn(e,"debouncedResize",t.onResize),Sw(e.current.store,d=>d.dimensions,(d,h)=>{e.current.rootElementRef.current&&O5(e.current.rootElementRef.current,h),n$e(h.viewportInnerSize,d.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",h.viewportInnerSize),e.current.publishEvent("debouncedResize",h.root)})}function O5(e,t){const r=(n,o)=>e.style.setProperty(n,o);r("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),r("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),r("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),r("--DataGrid-rowWidth",`${t.rowWidth}px`),r("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),r("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),r("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),r("--DataGrid-headerHeight",`${t.headerHeight}px`),r("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),r("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),r("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),r("--height",`${t.rowHeight}px`)}function r$e(e,t,r,n){const o=mG(e.rowHeight,uS.rowHeight);return{rowHeight:Math.floor(o*r),headerHeight:Math.floor(e.columnHeaderHeight*r),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*r),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*r),columnsTotalWidth:e$e(t),headersTotalHeight:xm(t,e),leftPinnedWidth:n.left.reduce((i,s)=>i+s.computedWidth,0),rightPinnedWidth:n.right.reduce((i,s)=>i+s.computedWidth,0)}}function n$e(e,t){return e.width===t.width&&e.height===t.height}const o$e=(e,t,r)=>{const n=yPe(r),o=uf(r),i=pf(r),s=Math.min(i.enabled?i.paginationModel.pageSize:o,o);return H({},e,{rowsMeta:{currentPageTotalHeight:s*n,positions:Array.from({length:s},(a,c)=>c*n),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},i$e=(e,t)=>{const r=e.current.virtualizer,{getRowHeight:n,setLastMeasuredRowIndex:o,storeRowHeightMeasurement:i,resetRowHeights:s,hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:d,getRowHeightEntry:h,getLastMeasuredRowIndex:f}=r.api.rowsMeta;VR(e,"rowHeight",a);const g={unstable_getRowHeight:n,unstable_setLastMeasuredRowIndex:o,unstable_storeRowHeightMeasurement:i,resetRowHeights:s},m={hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:d,getRowHeightEntry:h,getLastMeasuredRowIndex:f};wr(e,g,"public"),wr(e,m,"private")},s$e=e=>{const t=_.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),r=_.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(s=>{s()})},[e]);wr(e,{exportState:t,restoreState:r},"public")},a$e=e=>{const t=e.current.virtualizer,r=t.api.resetColSpan,n=t.api.getCellColSpanInfo,o=t.api.calculateColSpan,i={unstable_getCellColSpanInfo:n},s={resetColSpan:r,calculateColSpan:o};wr(e,i,"public"),wr(e,s,"private"),Tt(e,"columnOrderChange",r)},R5=(e,t,r)=>{if(OG(e)){if(r[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${r[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));r[e.field]=t;return}const{groupId:n,children:o}=e;o.forEach(i=>{R5(i,[...t,n],r)})},KR=e=>{if(!e)return{};const t={};return e.forEach(r=>{R5(r,[],t)}),t},qR=(e,t,r)=>{const n=c=>t[c]??[],o=[],i=Math.max(0,...e.map(c=>n(c).length)),s=(c,d,h)=>{const f=n(c),g=n(d);for(let m=0;m<=h;m+=1)if(f[m]!==g[m])return!1;return!0},a=(c,d)=>{const h=r?.left,f=r?.right,g=!!h?.includes(c),m=!!h?.includes(d),y=!!f?.includes(c),b=!!f?.includes(d);return g!==m||y!==b};for(let c=0;c<i;c+=1){const d=[];for(let h=0;h<e.length;h+=1){const f=e[h],g=n(f)[c]??null;if(d.length===0){d.push({columnFields:[f],groupId:g});continue}const m=d[d.length-1],y=m.columnFields[m.columnFields.length-1];m.groupId!==g||!s(y,f,c)||a(y,f)?d.push({columnFields:[f],groupId:g}):m.columnFields.push(f)}o.push(d)}return o},l$e=["groupId","children"],YR=e=>{const t={};for(let r=0;r<e.length;r+=1){const n=e[r];if(OG(n))continue;const{groupId:o,children:i}=n,s=pt(n,l$e);if(!o)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const a=H({},s,{groupId:o}),c=YR(i);if(c[o]!==void 0||t[o]!==void 0)throw new Error(`MUI X: The groupId ${o} is used multiple times in the columnGroupingModel.`);Object.assign(t,c),t[o]=a}return t},c$e=(e,t,r)=>{if(r.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;const n=gl(r),o=fm(r),i=YR(t.columnGroupingModel??[]),s=KR(t.columnGroupingModel??[]),a=qR(n,s,r.current.state.pinnedColumns??{}),c=o.length===0?0:Math.max(...o.map(d=>s[d]?.length??0));return H({},e,{columnGrouping:{lookup:i,unwrappedGroupingModel:s,headerStructure:a,maxDepth:c}})},u$e=(e,t)=>{const r=_.useCallback(a=>SH(e)[a]??[],[e]),n=_.useCallback(()=>CH(e),[e]);wr(e,{getColumnGroupPath:r,getAllGroupDetails:n},"public");const i=_.useCallback(()=>{const a=KR(t.columnGroupingModel??[]);e.current.setState(c=>{const d=c.columns?.orderedFields??[],h=c.pinnedColumns??{},f=qR(d,a,h);return H({},c,{columnGrouping:H({},c.columnGrouping,{headerStructure:f})})})},[e,t.columnGroupingModel]),s=_.useCallback(a=>{e.current.caches.columnGrouping.lastColumnGroupingModel=a;const c=e.current.getPinnedColumns?.()??{},d=gl(e),h=fm(e),f=YR(a??[]),g=KR(a??[]),m=qR(d,g,c),y=h.length===0?0:Math.max(...h.map(b=>g[b]?.length??0));e.current.setState(b=>H({},b,{columnGrouping:{lookup:f,unwrappedGroupingModel:g,headerStructure:m,maxDepth:y}}))},[e]);Tt(e,"columnIndexChange",i),Tt(e,"columnsChange",()=>{s(t.columnGroupingModel)}),Tt(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),_.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&s(t.columnGroupingModel)},[e,s,t.columnGroupingModel])};function d$e(){let e,t;const r=new Promise((n,o)=>{e=n,t=o});return r.resolve=e,r.reject=t,r}function I5(e,t){if(t!==void 0&&e.changedTouches){for(let r=0;r<e.changedTouches.length;r+=1){const n=e.changedTouches[r];if(n.identifier===t)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function P5(e,t,r,n){let o=e;return n==="Right"?o+=t-r.left:o+=r.right-t,o}function h$e(e,t,r){return r==="Left"?e-t.left:t.right-e}function f$e(e){return e==="Right"?"Left":"Right"}function p$e(e,t){const r=e.classList.contains(ie["columnSeparator--sideRight"])?"Right":"Left";return t?f$e(r):r}function k5(e){e.preventDefault(),e.stopImmediatePropagation()}function g$e(e){const t=_.useRef(void 0),r=()=>iLe(e),n=et(e,r);return _.useEffect(()=>{t.current&&n===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(r()===!1)return Promise.resolve();t.current=d$e()}return t.current}}function m$e(e,t){if(e.length<4)return e;const r=e.slice();r.sort((a,c)=>a-c);const n=r[Math.floor(r.length*.25)],o=r[Math.floor(r.length*.75)-1],i=o-n,s=i<5?5:i*t;return r.filter(a=>a>n-s&&a<o+s)}function v$e(e,t,r){const n={},o=e.current.rootElementRef.current;return o.classList.add(ie.autosizing),r.forEach(i=>{const a=NNe(e.current,i.field).map(y=>y.getBoundingClientRect().width??0),c=t.includeOutliers?a:m$e(a,t.outliersFactor);if(t.includeHeaders){const y=LNe(e.current,i.field);if(y){const b=y.querySelector(`.${ie.columnHeaderTitle}`),v=y.querySelector(`.${ie.columnHeaderTitleContainerContent}`),C=y.querySelector(`.${ie.iconButtonContainer}`),E=y.querySelector(`.${ie.menuIcon}`),T=b??v,R=window.getComputedStyle(y,null),M=parseInt(R.paddingLeft,10)+parseInt(R.paddingRight,10),N=T.scrollWidth+1+M+(C?.clientWidth??0)+(E?.clientWidth??0);c.push(N)}}const d=i.minWidth!==-1/0&&i.minWidth!==void 0,h=i.maxWidth!==1/0&&i.maxWidth!==void 0,f=d?i.minWidth:0,g=h?i.maxWidth:1/0,m=c.length===0?0:Math.max(...c);n[i.field]=jd(m,f,g)}),o.classList.remove(ie.autosizing),n}const y$e=e=>H({},e,{columnResize:{resizingColumnField:""}});function b$e(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const w$e=(e,t)=>{const r=Uo(),n=Ko(e,"useGridColumnResize"),o=ss(b$e).current,i=_.useRef(null),s=_.useRef(null),a=Fi(),c=_.useRef(void 0),d=L=>{n.debug(`Updating width to ${L} for col ${o.colDef.field}`);const D=o.columnHeaderElement.offsetWidth,$=L-D,B=L-o.initialColWidth;if(B>0){const W=o.initialTotalWidth+B;e.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${W}px`)}o.colDef.computedWidth=L,o.colDef.width=L,o.colDef.flex=0,o.columnHeaderElement.style.width=`${L}px`;const U=o.headerFilterElement;U&&(U.style.width=`${L}px`),o.groupHeaderElements.forEach(W=>{const V=W;let Y;V.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${V.offsetWidth+$}px`,V.style.width=Y}),o.cellElements.forEach(W=>{const V=W;let Y;V.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${V.offsetWidth+$}px`,V.style.setProperty("--width",Y)});const q=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);q===su.LEFT&&(Of(o.fillerLeft,"width",$),o.leftPinnedCellsAfter.forEach(W=>{Of(W,"left",$)}),o.leftPinnedHeadersAfter.forEach(W=>{Of(W,"left",$)})),q===su.RIGHT&&(Of(o.fillerRight,"width",$),o.rightPinnedCellsBefore.forEach(W=>{Of(W,"right",$)}),o.rightPinnedHeadersBefore.forEach(W=>{Of(W,"right",$)}))},h=L=>{if(C(),o.previousMouseClickEvent){const D=o.previousMouseClickEvent,$=D.timeStamp,B=D.clientX,U=D.clientY;if(L.timeStamp-$<300&&L.clientX===B&&L.clientY===U){o.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,L);return}}if(o.colDef){e.current.setColumnWidth(o.colDef.field,o.colDef.width),n.debug(`Updating col ${o.colDef.field} with new width: ${o.colDef.width}`);const D=Ma(e);o.groupHeaderElements.forEach($=>{const B=ONe($),U=$,W=`${B.reduce((V,Y)=>D.columnVisibilityModel[Y]!==!1?V+D.lookup[Y].computedWidth:V,0)}px`;U.style.width=W})}a.start(0,()=>{e.current.publishEvent("columnResizeStop",null,L)})},f=(L,D,$)=>{const B=e.current.rootElementRef.current;o.initialColWidth=L.computedWidth,o.initialTotalWidth=e.current.getRootDimensions().rowWidth,o.colDef=L,o.columnHeaderElement=MNe(e.current.columnHeadersContainerRef.current,L.field);const U=B.querySelector(`.${ie.headerFilterRow} [data-field="${oc(L.field)}"]`);U&&(o.headerFilterElement=U),o.groupHeaderElements=RNe(e.current.columnHeadersContainerRef?.current,L.field),o.cellElements=INe(o.columnHeaderElement,e.current),o.fillerLeft=r5(e.current,r?"filler--pinnedRight":"filler--pinnedLeft"),o.fillerRight=r5(e.current,r?"filler--pinnedLeft":"filler--pinnedRight");const q=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);o.leftPinnedCellsAfter=q!==su.LEFT?[]:PNe(e.current,o.columnHeaderElement,r),o.rightPinnedCellsBefore=q!==su.RIGHT?[]:kNe(e.current,o.columnHeaderElement,r),o.leftPinnedHeadersAfter=q!==su.LEFT?[]:DNe(e.current,o.columnHeaderElement,r),o.rightPinnedHeadersBefore=q!==su.RIGHT?[]:ANe(e.current,o.columnHeaderElement,r),s.current=p$e(D,r),i.current=h$e($,o.columnHeaderElement.getBoundingClientRect(),s.current)},g=$t(h),m=$t(L=>{if(L.buttons===0){g(L);return}let D=P5(i.current,L.clientX,o.columnHeaderElement.getBoundingClientRect(),s.current);D=jd(D,o.colDef.minWidth,o.colDef.maxWidth),d(D);const $={element:o.columnHeaderElement,colDef:o.colDef,width:D};e.current.publishEvent("columnResize",$,L)}),y=$t(L=>{I5(L,c.current)&&h(L)}),b=$t(L=>{const D=I5(L,c.current);if(!D)return;if(L.type==="mousemove"&&L.buttons===0){y(L);return}let $=P5(i.current,D.x,o.columnHeaderElement.getBoundingClientRect(),s.current);$=jd($,o.colDef.minWidth,o.colDef.maxWidth),d($);const B={element:o.columnHeaderElement,colDef:o.colDef,width:$};e.current.publishEvent("columnResize",B,L)}),v=$t(L=>{const D=aS(L.target,ie["columnSeparator--resizable"]);if(!D)return;const $=L.changedTouches[0];$!=null&&(c.current=$.identifier);const B=aS(L.target,ie.columnHeader),U=TNe(B),q=e.current.getColumn(U);n.debug(`Start Resize on col ${q.field}`),e.current.publishEvent("columnResizeStart",{field:U},L),f(q,D,$.clientX);const W=Xn(L.currentTarget);W.addEventListener("touchmove",b),W.addEventListener("touchend",y)}),C=_.useCallback(()=>{const L=Xn(e.current.rootElementRef.current);L.body.style.removeProperty("cursor"),L.removeEventListener("mousemove",m),L.removeEventListener("mouseup",g),L.removeEventListener("touchmove",b),L.removeEventListener("touchend",y),setTimeout(()=>{L.removeEventListener("click",k5,!0)},100),o.columnHeaderElement&&(o.columnHeaderElement.style.pointerEvents="unset")},[e,o,m,g,b,y]),E=_.useCallback(({field:L})=>{e.current.setState(D=>H({},D,{columnResize:H({},D.columnResize,{resizingColumnField:L})}))},[e]),T=_.useCallback(()=>{e.current.setState(L=>H({},L,{columnResize:H({},L.columnResize,{resizingColumnField:""})}))},[e]),R=$t(({colDef:L},D)=>{if(D.button!==0||!D.currentTarget.classList.contains(ie["columnSeparator--resizable"]))return;D.preventDefault(),n.debug(`Start Resize on col ${L.field}`),e.current.publishEvent("columnResizeStart",{field:L.field},D),f(L,D.currentTarget,D.clientX);const $=Xn(e.current.rootElementRef.current);$.body.style.cursor="col-resize",o.previousMouseClickEvent=D.nativeEvent,$.addEventListener("mousemove",m),$.addEventListener("mouseup",g),$.addEventListener("click",k5,!0)}),M=$t((L,D)=>{if(t.disableAutosize||D.button!==0)return;const $=e.current.state.columns.lookup[L.field];$.resizable!==!1&&e.current.autosizeColumns(H({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[$.field]}))}),I=g$e(e),N=_.useRef(!1),P=_.useCallback(async L=>{if(!e.current.rootElementRef?.current||N.current)return;N.current=!0;const $=Ma(e),B=H({},EAe,L,{columns:L?.columns??$.orderedFields});B.columns=B.columns.filter(q=>$.columnVisibilityModel[q]!==!1);const U=B.columns.map(q=>e.current.state.columns.lookup[q]);try{!t.disableVirtualization&&B.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await I());const q=v$e(e,B,U),W=U.map(V=>H({},V,{width:q[V.field],computedWidth:q[V.field],flex:0}));if(B.expand){const Y=$.orderedFields.map(K=>$.lookup[K]).filter(K=>$.columnVisibilityModel[K.field]!==!1).reduce((K,Z)=>K+(q[Z.field]??Z.computedWidth??Z.width),0),z=e.current.getRootDimensions().viewportInnerSize.width-Y;if(z>0){const K=z/(W.length||1);W.forEach(Z=>{Z.width+=K,Z.computedWidth+=K})}}e.current.updateColumns(W),W.forEach((V,Y)=>{if(V.width!==U[Y].width){const Q=V.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(V.field),colDef:V,width:Q})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),N.current=!1}},[e,I,t.disableVirtualization]);_.useEffect(()=>C,[C]),$b(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),MH(e,()=>e.current.columnHeadersContainerRef?.current,"touchstart",v,{passive:!0}),wr(e,{autosizeColumns:P},"public"),Tt(e,"columnResizeStop",T),Tt(e,"columnResizeStart",E),Tt(e,"columnSeparatorMouseDown",R),Tt(e,"columnSeparatorDoubleClick",M),cn(e,"columnResize",t.onColumnResize),cn(e,"columnWidthChange",t.onColumnWidthChange)};function Of(e,t,r){e&&(e.style[t]=`${parseInt(e.style[t],10)+r}px`)}function S$e(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function D5(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}const XR=(e,t,r)=>{if(!e)return null;let n=e[t.field];const o=t.rowSpanValueGetter??t.valueGetter;return o&&(n=o(n,e,t,r)),n},A5={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},Rf={caches:A5,processedRange:{firstRowIndex:0,lastRowIndex:0}},L5=20,N5=(e,t,r,n,o,i)=>{const s=e.current.virtualizer,a=i?Rf:_f.selectors.state(s.store.state),c=H({},a.caches.spannedCells),d=H({},a.caches.hiddenCells),h=H({},a.caches.hiddenCellOriginMap),f={firstRowIndex:Math.min(a.processedRange.firstRowIndex,o.firstRowIndex),lastRowIndex:Math.max(a.processedRange.lastRowIndex,o.lastRowIndex)};return t.forEach((g,m)=>{for(let y=o.firstRowIndex;y<o.lastRowIndex;y+=1){const b=r[y];if(d[b.id]?.[m])continue;const v=XR(b.model,g,e);if(v==null)continue;let C=b.id,E=y,T=0;const R=[];if(y===o.firstRowIndex){let I=y-1,N=r[I];for(;I>=n.firstRowIndex&&N&&XR(N.model,g,e)===v;){const P=r[I+1];d[P.id]?d[P.id][m]=!0:d[P.id]={[m]:!0},R.push(y),T+=1,C=N.id,E=I,I-=1,N=r[I]}}R.forEach(I=>{h[I]?h[I][m]=E:h[I]={[m]:E}});let M=y+1;for(;M<=n.lastRowIndex&&r[M]&&XR(r[M].model,g,e)===v;){const I=r[M];d[I.id]?d[I.id][m]=!0:d[I.id]={[m]:!0},h[M]?h[M][m]=E:h[M]={[m]:E},M+=1,T+=1}T>0&&(c[C]?c[C][m]=T+1:c[C]={[m]:T+1})}}),{caches:{spannedCells:c,hiddenCells:d,hiddenCellOriginMap:h},processedRange:f}},C$e=(e,t)=>{const r=Bd(t).length;if(e.pagination){const n=hH(t);let o=L5;return n>0&&(o=n-1),{firstRowIndex:0,lastRowIndex:Math.min(o,r)}}return{firstRowIndex:0,lastRowIndex:Math.min(L5,r)}},x$e=(e,t,r)=>{if(!t.rowSpanning)return H({},e,{rowSpanning:Rf});const n=e.rows.dataRowIds||[],o=e.columns.orderedFields||[],i=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,a=!!e.filter.filterModel.items.length||!!e.filter.filterModel.quickFilterValues?.length;if(!n.length||!o.length||!i||!s||a)return H({},e,{rowSpanning:Rf});const c=C$e(t,r),d=n.map(g=>({id:g,model:i[g]})),h=o.map(g=>s[g]),f=N5(r,h,d,c,c,!0);return H({},e,{rowSpanning:f})},_$e=(e,t)=>{const r=e.current.virtualizer.store,n=_.useCallback((i,s=!1)=>{const{range:a,rows:c}=Mf(e);if(a===null||!D5(i))return;const d=s?Rf:_f.selectors.state(r.state),h=S$e({firstRowIndex:i.firstRowIndex,lastRowIndex:Math.min(i.lastRowIndex,a.lastRowIndex-a.firstRowIndex+1)},d.processedRange);if(h===null)return;const f=Jn(e),g=N5(e,f,c,a,h,s),m=Object.keys(g.caches.spannedCells).length,y=Object.keys(g.caches.hiddenCells).length,b=Object.keys(d.caches.spannedCells).length,v=Object.keys(d.caches.hiddenCells).length;!(s||m!==b||y!==v)||m===0&&b===0||r.set("rowSpanning",g)},[e,r]),o=_.useCallback(()=>{const i=GH(e);D5(i)&&n(i,!0)},[e,n]);Tt(e,"renderedRowsIntervalChange",nu(t.rowSpanning,n)),Tt(e,"sortedRowsSet",nu(t.rowSpanning,o)),Tt(e,"paginationModelChange",nu(t.rowSpanning,o)),Tt(e,"filteredRowsSet",nu(t.rowSpanning,o)),Tt(e,"columnsChange",nu(t.rowSpanning,o)),_.useEffect(()=>{t.rowSpanning?r.state.rowSpanning.caches===A5&&o():r.state.rowSpanning!==Rf&&r.set("rowSpanning",Rf)},[e,r,o,t.rowSpanning])},E$e=(e,t,r)=>H({},e,{listViewColumn:t.listViewColumn?H({},t.listViewColumn,{computedWidth:ZR(r)}):void 0});function T$e(e,t){const r=()=>{e.current.setState(i=>i.listViewColumn?H({},i,{listViewColumn:H({},i.listViewColumn,{computedWidth:ZR(e)})}):i)},n=_.useRef(null);Tt(e,"viewportInnerSizeChange",i=>{n.current!==i.width&&(n.current=i.width,r())}),Tt(e,"columnVisibilityModelChange",r),zr(()=>{const i=t.listViewColumn;i&&e.current.setState(s=>H({},s,{listViewColumn:H({},i,{computedWidth:ZR(e)})}))},[e,t.listViewColumn]),_.useEffect(()=>{t.listView&&t.listViewColumn},[t.listView,t.listViewColumn])}function ZR(e){return Qn(e).viewportInnerSize.width}const M$e=Ot(Ao,Js,Wo,(e,t,r)=>({groupKeys:[],paginationModel:r,sortModel:t,filterModel:e,start:r.page*r.pageSize,end:r.page*r.pageSize+r.pageSize-1}));let QR=(function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e})({});class JR{constructor(t){this.chunkSize=t}getCacheKeys=t=>{if(this.chunkSize<1||typeof t.start!="number")return[t];const r=[];for(let n=t.start;n<=t.end;n+=this.chunkSize){const o=Math.min(n+this.chunkSize-1,t.end);r.push(H({},t,{start:n,end:o}))}return r};splitResponse=(t,r)=>{const n=this.getCacheKeys(t);if(n.length===1)return new Map([[t,r]]);const o=new Map;return n.forEach(i=>{const s=i.end===t.end,a=H({},r,{pageInfo:H({},r.pageInfo,{hasNextPage:r.pageInfo?.hasNextPage!==void 0&&!s?!0:r.pageInfo?.hasNextPage,nextCursor:r.pageInfo?.nextCursor!==void 0&&!s?r.rows[i.end+1].id:r.pageInfo?.nextCursor}),rows:typeof i.start!="number"||typeof t.start!="number"?r.rows:r.rows.slice(i.start-t.start,i.end-t.start+1)});o.set(i,a)}),o};static mergeResponses=t=>t.length===1?t[0]:t.reduce((r,n)=>({rows:[...r.rows,...n.rows],rowCount:n.rowCount,pageInfo:n.pageInfo}),{rows:[],rowCount:0,pageInfo:{}})}const O$e=["skipCache"],R$e={clear:()=>{},get:()=>{},set:()=>{}};function B5(e,t={}){return e===null?R$e:e??new uLe(t)}const I$e=(e,t,r={})=>{const n=_.useCallback(()=>{e.current.setStrategyAvailability(du.DataSource,QR.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[o,i]=_.useState(!1),s=et(e,Wo),a=_.useRef(0),c=t.onDataSourceError,d=ss(()=>{if(!t.pagination)return new JR(s.pageSize);const M=t.pageSizeOptions.map(N=>typeof N=="number"?N:N.value).sort((N,P)=>N-P),I=Math.min(s.pageSize,M[0]);return new JR(I)}).current,[h,f]=_.useState(()=>B5(t.dataSourceCache,r.cacheOptions)),g=_.useCallback(async(M,I)=>{const N=t.dataSource?.getRows;if(!N)return;if(M&&M!==Do&&t.signature!=="DataGrid"){r.fetchRowChildren?.([M]);return}r.clearDataSourceState?.();const P=I||{},{skipCache:L}=P,D=pt(P,O$e),$=H({},M$e(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),D),U=d.getCacheKeys($).map(W=>h.get(W));if(!L&&U.every(W=>W!==void 0)){e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:JR.mergeResponses(U),fetchParams:$});return}(o||e.current.getRowsCount()===0)&&e.current.setLoading(!0);const q=a.current+1;a.current=q;try{const W=await N($);d.splitResponse($,W).forEach((Y,Q)=>h.set(Q,Y)),a.current===q&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:W,fetchParams:$})}catch(W){a.current===q&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:W,fetchParams:$}),typeof c=="function"&&c(new dLe({message:W?.message,params:$,cause:W})))}finally{o&&a.current===q&&e.current.setLoading(!1)}},[d,h,e,o,t.dataSource?.getRows,c,r,t.signature]),m=_.useCallback(()=>{i(e.current.getActiveStrategy(du.DataSource)===QR.Default)},[e]),y=_.useCallback(M=>{if("error"in M){e.current.setRows([]);return}const{response:I}=M;I.rowCount!==void 0&&e.current.setRowCount(I.rowCount),e.current.setRows(I.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:M.fetchParams,response:I},!0)},[e]),b=t.dataSource?.updateRow,v=r.handleEditRow,C=_.useCallback(async M=>{if(b)try{const I=await b(M);return typeof v=="function"?(v(M,I),I):(e.current.updateNestedRows([I],[]),I&&!ea(I,M.previousRow)&&e.current.dataSource.cache.clear(),I)}catch(I){throw typeof c=="function"&&c(new hLe({message:I?.message,params:M,cause:I})),I}},[e,b,c,v]),E={dataSource:{fetchRows:g,cache:h,editRow:C}},T=_.useMemo(()=>qc(g,0),[g]),R=_.useRef(!0);return _.useEffect(()=>{if(R.current){R.current=!1;return}if(t.dataSourceCache===void 0)return;const M=B5(t.dataSourceCache,r.cacheOptions);f(I=>I!==M?M:I)},[t.dataSourceCache,r.cacheOptions]),_.useEffect(()=>(t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{a.current+=1}),[e,t.dataSource]),{api:{public:E},debouncedFetchRows:T,strategyProcessor:{strategyName:QR.Default,group:"dataSourceRowsUpdate",processor:y},setStrategyAvailability:n,cacheChunkManager:d,cache:h,events:{strategyAvailabilityChange:m,sortModelChange:nu(o,()=>T()),filterModelChange:nu(o,()=>T()),paginationModelChange:nu(o,()=>T())}}},P$e=(e,t)=>{const{api:r,strategyProcessor:n,events:o,setStrategyAvailability:i}=I$e(e,t);wr(e,r.public,"public"),km(e,n.strategyName,n.group,n.processor),Object.entries(o).forEach(([s,a])=>{Tt(e,s,a)}),_.useEffect(()=>{i()},[i])},k$e=(e,t,r)=>{zje(e,t),KVe(e,t),zVe(e),No(Vje,e,t),No(GVe,e,t),No(rVe,e,t),No(BVe,e,t),No(EVe,e,t),No(LVe,e,t),No(yVe,e,t),No(qVe,e,t),No(MVe,e,t),No(pVe,e,t),No(x$e,e,t),No(iVe,e,t),No(y$e,e,t),No(eVe,e,t),No(c$e,e,t),No(nLe,e,t),No(JVe,e,t),No(o$e,e,t),No(E$e,e,t),qje(e,t),CVe(e,t),HVe(e,t),nVe(e,t),FVe(e,t,r),_$e(e,t),UVe(e,t),a$e(e),u$e(e,t),NVe(e,t),bVe(e,t),OVe(e,t),vVe(e,t),YVe(e,t),sVe(e,t),w$e(e,t),TVe(e,t),i$e(e),XVe(e,t),tVe(e),lVe(e,t),fVe(e,t),Jje(e,t),t$e(e,t),ZVe(e,t),s$e(e),oLe(e,t),T$e(e,t),P$e(e,t),_.useEffect(()=>{e.current.runAppliersForPendingProcessors()})},D$e=e=>{const{classes:t,headerAlign:r,isDragging:n,isLastColumn:o,showLeftBorder:i,showRightBorder:s,groupId:a,pinnedPosition:c}=e,d={root:["columnHeader",r==="left"&&"columnHeader--alignLeft",r==="center"&&"columnHeader--alignCenter",r==="right"&&"columnHeader--alignRight",n&&"columnHeader--moving",s&&"columnHeader--withRightBorder",i&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c===Mr.LEFT&&"columnHeader--pinnedLeft",c===Mr.RIGHT&&"columnHeader--pinnedRight",o&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ht(d,Cr,t)};function A$e(e){const{groupId:t,width:r,depth:n,maxDepth:o,fields:i,height:s,colIndex:a,hasFocus:c,tabIndex:d,isLastColumn:h,pinnedPosition:f,pinnedOffset:g}=e,m=yt(),y=Uo(),b=_.useRef(null),v=dr(),C=et(v,CH),E=t?C[t]:{},{headerName:T=t??"",description:R="",headerAlign:M=void 0}=E;let I;const N=t&&C[t]?.renderHeaderGroup,P=_.useMemo(()=>({groupId:t,headerName:T,description:R,depth:n,maxDepth:o,fields:i,colIndex:a,isLastColumn:h}),[t,T,R,n,o,i,a,h]);t&&N&&(I=N(P));const L=H({},e,{classes:m.classes,headerAlign:M,depth:n,isDragging:!1}),D=T??t,$=kr(),B=t===null?`empty-group-cell-${$}`:t,U=D$e(L);_.useLayoutEffect(()=>{if(c){const re=b.current.querySelector('[tabindex="0"]')||b.current;if(!re)return;if(LR())re.focus({preventScroll:!0});else{const z=v.current.getScrollPosition();re.focus(),v.current.scroll(z)}}},[v,c]);const q=_.useCallback(Q=>re=>{Em(re)||v.current.publishEvent(Q,P,re)},[v,P]),W=_.useMemo(()=>({onKeyDown:q("columnGroupHeaderKeyDown"),onFocus:q("columnGroupHeaderFocus"),onBlur:q("columnGroupHeaderBlur")}),[q]),V=typeof E.headerClassName=="function"?E.headerClassName(P):E.headerClassName,Y=_.useMemo(()=>nS(H({},e.style),y,f,g),[f,g,e.style,y]);return x.jsx(s5,H({ref:b,classes:U,columnMenuOpen:!1,colIndex:a,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:d,isDraggable:!1,headerComponent:I,headerClassName:V,description:R,elementId:B,width:r,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:D,"aria-colspan":i.length,"data-fields":`|-${i.join("-|-")}-|`,style:Y},W))}const F5=we("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),L$e=e=>{const{visibleColumns:t,sortColumnLookup:r,filterColumnLookup:n,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:i,columnHeaderFocus:s,columnGroupHeaderFocus:a,headerGroupingMaxDepth:c,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:g}=e,[m,y]=_.useState(""),[b,v]=_.useState(""),C=us(),E=yt(),T=et(C,SH),R=et(C,Vd),M=et(C,lLe),I=et(C,Bw),N=et(C,rc),P=jH(R,M,I.left.length),L=et(C,lR),D=et(C,sG),$=et(C,SPe),B=et(C,CPe),U=et(C,aG),q=_.useCallback(ae=>v(ae.field),[]),W=_.useCallback(()=>v(""),[]),V=_.useCallback(ae=>y(ae.field),[]),Y=_.useCallback(()=>y(""),[]),Q=_.useMemo(()=>I.left.length?{firstColumnIndex:0,lastColumnIndex:I.left.length}:null,[I.left.length]),re=_.useMemo(()=>I.right.length?{firstColumnIndex:t.length-I.right.length,lastColumnIndex:t.length}:null,[I.right.length,t.length]);Tt(C,"columnResizeStart",q),Tt(C,"columnResizeStop",W),Tt(C,"columnHeaderDragStart",V),Tt(C,"columnHeaderDragEndNative",Y);const z=ae=>{const{renderContext:ye=M}=ae||{},Me=ye.firstColumnIndex,xe=Math.min(ye.lastColumnIndex,t.length);return{renderedColumns:t.slice(Me,xe),firstColumnToRender:Me,lastColumnToRender:xe}},K=(ae,ye,Me,xe=!1)=>{const he=ae?.position===Mr.RIGHT,pe=ae?.position===void 0,Se=I.right.length>0&&he||I.right.length===0&&pe,Ee=P-Me;return x.jsxs(_.Fragment,{children:[pe&&x.jsx("div",{role:"presentation",style:{width:Ee}}),ye,pe&&x.jsx("div",{role:"presentation",className:Ke(ie.filler,xe&&ie["filler--borderBottom"])}),Se&&x.jsx(jR,{header:!0,pinnedRight:he,borderBottom:xe,borderTop:!1})]})},Z=(ae,ye={})=>{const{renderedColumns:Me,firstColumnToRender:xe}=z(ae),he=[];for(let pe=0;pe<Me.length;pe+=1){const Se=Me[pe],Ee=xe+pe,ke=Ee===0,Te=o!==null&&o.field===Se.field||ke&&!g?0:-1,Ve=s!==null&&s.field===Se.field,nt=d.open&&d.field===Se.field,je=ae?.position,Rt=Mm(je,Se.computedWidth,Ee,R,L,U),dt=je===Mr.RIGHT?Me[pe-1]:Me[pe+1],Ct=dt?s!==null&&s.field===dt.field:!1,$e=Ee+1===R.length-I.right.length,It=pe,mt=Me.length,Bt=cS(je,It),zt=lS(je,It,mt,E.showColumnVerticalBorder,D);he.push(x.jsx(YNe,H({},r[Se.field],{columnMenuOpen:nt,filterItemsCounter:n[Se.field]&&n[Se.field].length,headerHeight:$,isDragging:Se.field===m,colDef:Se,colIndex:Ee,isResizing:b===Se.field,isLast:Ee===R.length-1,hasFocus:Ve,tabIndex:Te,pinnedPosition:je,pinnedOffset:Rt,isLastUnpinned:$e,isSiblingFocused:Ct,showLeftBorder:Bt,showRightBorder:zt},ye),Se.field))}return K(ae,he,0)},le=()=>x.jsxs(F5,{role:"row","aria-rowindex":c+1,ownerState:E,className:ie["row--borderBottom"],style:{height:$},children:[Q&&Z({position:Mr.LEFT,renderContext:Q},{disableReorder:!0}),Z({renderContext:M}),re&&Z({position:Mr.RIGHT,renderContext:re},{disableReorder:!0,separatorSide:BR.Left})]}),ce=({depth:ae,params:ye})=>{const Me=z(ye);if(Me.renderedColumns.length===0)return null;const{firstColumnToRender:xe,lastColumnToRender:he}=Me,pe=f[ae],Se=t[xe].field,Ee=T[Se]?.[ae]??null,ke=pe.findIndex(({groupId:mt,columnFields:Bt})=>mt===Ee&&Bt.includes(Se)),Te=t[he-1].field,Ve=T[Te]?.[ae]??null,nt=pe.findIndex(({groupId:mt,columnFields:Bt})=>mt===Ve&&Bt.includes(Te)),je=pe.slice(ke,nt+1).map(mt=>H({},mt,{columnFields:mt.columnFields.filter(Bt=>h[Bt]!==!1)})).filter(mt=>mt.columnFields.length>0),Rt=je[0].columnFields.indexOf(Se),Ct=je[0].columnFields.slice(0,Rt).reduce((mt,Bt)=>{const zt=N[Bt];return mt+(zt.computedWidth??0)},0);let $e=xe;const It=je.map(({groupId:mt,columnFields:Bt},zt)=>{const qt=a!==null&&a.depth===ae&&Bt.includes(a.field),tr=i!==null&&i.depth===ae&&Bt.includes(i.field)?0:-1,gt={width:Bt.reduce((ut,St)=>ut+N[St].computedWidth,0),fields:Bt,colIndex:$e},_t=ye.position,He=Mm(_t,gt.width,$e,R,L,U);$e+=Bt.length;let ct=zt;return _t===Mr.LEFT&&(ct=$e-1),x.jsx(A$e,{groupId:mt,width:gt.width,fields:gt.fields,colIndex:gt.colIndex,depth:ae,isLastColumn:zt===je.length-1,maxDepth:c,height:B,hasFocus:qt,tabIndex:tr,pinnedPosition:_t,pinnedOffset:He,showLeftBorder:cS(_t,ct),showRightBorder:lS(_t,ct,je.length,E.showColumnVerticalBorder,D)},zt)});return K(ye,It,Ct)};return{renderContext:M,leftRenderContext:Q,rightRenderContext:re,pinnedColumns:I,visibleColumns:t,columnPositions:R,getFillers:K,getColumnHeadersRow:le,getColumnsToRender:z,getColumnGroupHeadersRows:()=>{if(c===0)return null;const ae=[];for(let ye=0;ye<c;ye+=1)ae.push(x.jsxs(F5,{role:"row","aria-rowindex":ye+1,ownerState:E,style:{height:B},children:[Q&&ce({depth:ye,params:{position:Mr.LEFT,renderContext:Q,maxLastColumn:Q.lastColumnIndex}}),ce({depth:ye,params:{renderContext:M}}),re&&ce({depth:ye,params:{position:Mr.RIGHT,renderContext:re,maxLastColumn:re.lastColumnIndex}})]},ye));return ae},getPinnedCellOffset:Mm,isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},N$e=["className"],B$e=e=>{const{classes:t}=e;return ht({root:["columnHeaders"]},Cr,t)},F$e=Fr("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),j$e=Zt(function(t,r){const{className:n}=t,o=pt(t,N$e),i=yt(),s=B$e(i);return x.jsx(F$e,H({className:Ke(s.root,n),ownerState:i},o,{role:"presentation",ref:r}))}),V$e=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],$$e=Zt(function(t,r){const{visibleColumns:n,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y}=t,b=pt(t,V$e),{getInnerProps:v,getColumnHeadersRow:C,getColumnGroupHeadersRows:E}=L$e({visibleColumns:n,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y});return x.jsxs(j$e,H({},b,v(),{ref:r,children:[E(),C()]}))}),z$e=ec($$e);function U$e(e){return null}function G$e(e){return null}const H$e=Zt(function(t,r){const o=dr().current.getLocaleText("noResultsOverlayLabel");return x.jsx(iS,H({},t,{ref:r,children:o}))}),W$e=()=>ht({root:["bottomContainer"]},Cr,{}),K$e=Fr("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function q$e(e){const t=W$e();return x.jsx(K$e,H({},e,{className:Ke(t.root,ie["container--bottom"]),role:"presentation"}))}const Y$e=H({},mPe,{cell:OLe,skeletonCell:FLe,columnHeaderFilterIconButton:aBe,columnHeaderSortIcon:iBe,columnMenu:xBe,columnHeaders:z$e,detailPanels:U$e,bottomContainer:q$e,footer:rje,footerRowCount:yje,toolbar:ZFe,pinnedRows:G$e,loadingOverlay:uje,noResultsOverlay:H$e,noRowsOverlay:dje,noColumnsOverlay:hje,pagination:pje,filterPanel:QBe,columnsPanel:MBe,columnsManagement:aFe,panel:kBe,row:Eje}),X$e={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},Z$e=e=>H({},X$e,e.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),Q$e=Y$e,J$e=e=>{const t=il(),r=_.useMemo(()=>Iz({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),n=_.useMemo(()=>H({},APe,r.localeText),[r.localeText]),o=_.useMemo(()=>SLe({defaultSlots:Q$e,slots:r.slots}),[r.slots]),i=_.useMemo(()=>Object.keys(uS).reduce((s,a)=>(s[a]=r[a]??uS[a],s),{}),[r]);return _.useMemo(()=>H({},r,i,{localeText:n,slots:o},Z$e(r)),[r,n,o,i])},j5=Symbol("mui.api_private"),eze=e=>e.isPropagationStopped!==void 0;let V5=0;function tze(e){const t=e.current?.[j5];if(t)return t;const r={},n={state:r,store:em.create(r),instanceId:{id:V5}};return V5+=1,n.getPublicApi=()=>e.current,n.register=(o,i)=>{Object.keys(i).forEach(s=>{const a=i[s],c=n[s];if(c?.spying===!0?c.target=a:n[s]=a,o==="public"){const d=e.current,h=d[s];h?.spying===!0?h.target=a:d[s]=a}})},n.register("private",{caches:{},eventManager:new s2}),n}function rze(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[j5]:e.current}}function nze(e,t){const r=_.useRef(null),n=_.useRef(null);n.current||(n.current=tze(r)),r.current||(r.current=rze(n));const o=_.useCallback((...s)=>{const[a,c,d={}]=s;if(d.defaultMuiPrevented=!1,eze(d)&&d.isPropagationStopped())return;const h=t.signature===Ta.DataGridPro||t.signature===Ta.DataGridPremium?{api:n.current.getPublicApi()}:{};n.current.eventManager.emit(a,c,d,h)},[n,t.signature]),i=_.useCallback((s,a,c)=>{n.current.eventManager.on(s,a,c);const d=n.current;return()=>{d.eventManager.removeListener(s,a)}},[n]);return wr(n,{subscribeEvent:i,publishEvent:o},"public"),e&&!e.current?.state&&(e.current=r.current),_.useImperativeHandle(e,()=>r.current,[r]),_.useEffect(()=>{const s=n.current;return()=>{s.publishEvent("unmount")}},[n]),n}const $5={hooks:{useCSSVariables:vIe,useGridAriaAttributes:Tje,useGridRowAriaAttributes:Mje,useGridRowsOverridableMethods:Oje,useCellAggregationResult:()=>null}},z5=function(t,r){const n=J$e(t),o=nze(n.apiRef,n);return k$e(o,n,$5),x.jsx(Rje,{privateApiRef:o,configuration:$5,props:n,children:x.jsx(eNe,H({className:n.className,style:n.style,sx:n.sx},n.slotProps?.root,{ref:r}))})},oze=_.memo(Zt(z5));z5.propTypes={apiRef:Oe.shape({current:Oe.object}),"aria-label":Oe.string,"aria-labelledby":Oe.string,autoHeight:Oe.bool,autoPageSize:Oe.bool,autosizeOnMount:Oe.bool,autosizeOptions:Oe.shape({columns:Oe.arrayOf(Oe.string),disableColumnVirtualization:Oe.bool,expand:Oe.bool,includeHeaders:Oe.bool,includeOutliers:Oe.bool,outliersFactor:Oe.number}),cellModesModel:Oe.object,checkboxSelection:Oe.bool,classes:Oe.object,className:Oe.string,clipboardCopyCellDelimiter:Oe.string,columnBufferPx:Oe.number,columnFilterDebounceMs:Oe.number,columnGroupHeaderHeight:Oe.number,columnGroupingModel:Oe.arrayOf(Oe.object),columnHeaderHeight:Oe.number,columns:Oe.arrayOf(Oe.object).isRequired,columnVisibilityModel:Oe.object,dataSource:Oe.shape({getRows:Oe.func.isRequired,updateRow:Oe.func}),dataSourceCache:Oe.shape({clear:Oe.func.isRequired,get:Oe.func.isRequired,set:Oe.func.isRequired}),density:Oe.oneOf(["comfortable","compact","standard"]),disableAutosize:Oe.bool,disableColumnFilter:Oe.bool,disableColumnMenu:Oe.bool,disableColumnResize:Oe.bool,disableColumnSelector:Oe.bool,disableColumnSorting:Oe.bool,disableDensitySelector:Oe.bool,disableEval:Oe.bool,disableMultipleRowSelection:Oe.bool,disableRowSelectionExcludeModel:Oe.bool,disableRowSelectionOnClick:Oe.bool,disableVirtualization:Oe.bool,editMode:Oe.oneOf(["cell","row"]),estimatedRowCount:Oe.number,experimentalFeatures:Oe.shape({warnIfFocusStateIsNotSynced:Oe.bool}),filterDebounceMs:Oe.number,filterMode:Oe.oneOf(["client","server"]),filterModel:Oe.shape({items:Oe.arrayOf(Oe.shape({field:Oe.string.isRequired,id:Oe.oneOfType([Oe.number,Oe.string]),operator:Oe.string.isRequired,value:Oe.any})).isRequired,logicOperator:Oe.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Oe.bool,quickFilterLogicOperator:Oe.oneOf(["and","or"]),quickFilterValues:Oe.array}),getCellClassName:Oe.func,getDetailPanelContent:Oe.func,getEstimatedRowHeight:Oe.func,getRowClassName:Oe.func,getRowHeight:Oe.func,getRowId:Oe.func,getRowSpacing:Oe.func,hideFooter:Oe.bool,hideFooterPagination:Oe.bool,hideFooterSelectedRowCount:Oe.bool,ignoreDiacritics:Oe.bool,ignoreValueFormatterDuringExport:Oe.oneOfType([Oe.shape({clipboardExport:Oe.bool,csvExport:Oe.bool}),Oe.bool]),initialState:Oe.object,isCellEditable:Oe.func,isRowSelectable:Oe.func,keepNonExistentRowsSelected:Oe.bool,label:Oe.string,loading:Oe.bool,localeText:Oe.object,logger:Oe.shape({debug:Oe.func.isRequired,error:Oe.func.isRequired,info:Oe.func.isRequired,warn:Oe.func.isRequired}),logLevel:Oe.oneOf(["debug","error","info","warn",!1]),nonce:Oe.string,onCellClick:Oe.func,onCellDoubleClick:Oe.func,onCellEditStart:Oe.func,onCellEditStop:Oe.func,onCellKeyDown:Oe.func,onCellModesModelChange:Oe.func,onClipboardCopy:Oe.func,onColumnHeaderClick:Oe.func,onColumnHeaderContextMenu:Oe.func,onColumnHeaderDoubleClick:Oe.func,onColumnHeaderEnter:Oe.func,onColumnHeaderLeave:Oe.func,onColumnHeaderOut:Oe.func,onColumnHeaderOver:Oe.func,onColumnOrderChange:Oe.func,onColumnResize:Oe.func,onColumnVisibilityModelChange:Oe.func,onColumnWidthChange:Oe.func,onDataSourceError:Oe.func,onDensityChange:Oe.func,onFilterModelChange:Oe.func,onMenuClose:Oe.func,onMenuOpen:Oe.func,onPaginationMetaChange:Oe.func,onPaginationModelChange:Oe.func,onPreferencePanelClose:Oe.func,onPreferencePanelOpen:Oe.func,onProcessRowUpdateError:Oe.func,onResize:Oe.func,onRowClick:Oe.func,onRowCountChange:Oe.func,onRowDoubleClick:Oe.func,onRowEditStart:Oe.func,onRowEditStop:Oe.func,onRowModesModelChange:Oe.func,onRowSelectionModelChange:Oe.func,onSortModelChange:Oe.func,onStateChange:Oe.func,pageSizeOptions:Oe.arrayOf(Oe.oneOfType([Oe.number,Oe.shape({label:Oe.string.isRequired,value:Oe.number.isRequired})]).isRequired),pagination:Oe.oneOf([!0]),paginationMeta:Oe.shape({hasNextPage:Oe.bool}),paginationMode:Oe.oneOf(["client","server"]),paginationModel:Oe.shape({page:Oe.number.isRequired,pageSize:Oe.number.isRequired}),processRowUpdate:Oe.func,resizeThrottleMs:Oe.number,rowBufferPx:Oe.number,rowCount:Oe.number,rowHeight:Oe.number,rowModesModel:Oe.object,rows:Oe.arrayOf(Oe.object),rowSelection:Oe.bool,rowSelectionModel:Oe.shape({ids:Oe.instanceOf(Set).isRequired,type:Oe.oneOf(["exclude","include"]).isRequired}),rowSpacingType:Oe.oneOf(["border","margin"]),rowSpanning:Oe.bool,scrollbarSize:Oe.number,showCellVerticalBorder:Oe.bool,showColumnVerticalBorder:Oe.bool,showToolbar:Oe.bool,slotProps:Oe.object,slots:Oe.object,sortingMode:Oe.oneOf(["client","server"]),sortingOrder:Oe.arrayOf(Oe.oneOf(["asc","desc"])),sortModel:Oe.arrayOf(Oe.shape({field:Oe.string.isRequired,sort:Oe.oneOf(["asc","desc"])})),style:Oe.object,sx:Oe.oneOfType([Oe.arrayOf(Oe.oneOfType([Oe.func,Oe.object,Oe.bool])),Oe.func,Oe.object]),virtualizeColumnsWithAutoRowHeight:Oe.bool};function U5(e){const{api:t}=e,r=(n,o)=>{t.setEditCellValue({id:e.id,field:e.field,value:o}),t.stopCellEditMode({id:e.id,field:e.field})};return x.jsx(bH,{onValueChange:r,...e})}function ize({onClick:e}){return x.jsx(PLe,{label:"Удалить",icon:x.jsx(kTe,{fontSize:"small",color:"error"}),onClick:e})}function G5({value:e,isBroken:t}){return x.jsx("div",{style:{textDecoration:t?"line-through":"unset"},children:e})}function H5(e){const{description:t}=e;return{label:t?`${e.name}: ${t}`:e.name,value:e.name}}class sze extends Nt{constructor(){super(),this.allowAutoChangeB=new WeakSet,this.setEnabled=(t,r)=>this.props.sceneConnection?.setDisabled(!r),this.isCellEditable=t=>!t.row.isBroken,this.processRowUpdate=(t,r)=>{const{m:n}=this,o=t.a!==r.a,i=t.b!==r.b;if(!o&&!i)return r;const s=n.a.vars.get(t.a);let a=n.b.vars.get(t.b);if(!s||!a)return r;if(o){if(s.type!==a.type){this.allowAutoChangeB.add(n.proto);const d=n.b.vars.list.filter(h=>h.type===s.type);if(!d.length)return r;a=d.find(h=>h.klassVar.nameUC===s.klassVar.nameUC)||d[0]}else if(this.allowAutoChangeB.has(n.proto)){const d=n.b.vars.get(s.name);d&&(a=d)}}else this.allowAutoChangeB.delete(n.proto);const c=n.nestedConnections.map((d,h)=>h.toString()===t.id?[s.name,a.name]:d.proto.toJSON());return n.proto.setNestedConnections(c),n.parent.applyChanges(),{...t,a:s.name,typeA:s.type,b:a.name,typeB:a.type}},this.addRow=t=>{const{m:r}=this,n=r.b.vars.list,o=r.a.vars.list.find(a=>n.some(c=>c.type===a.type));if(!o)return;let i;if(i=r.b.vars.get(o.name),(!i||o.type!==i.type)&&(i=n.find(a=>a.type===o.type),!i))return;const s=[...r.proto.nestedConnections.map(a=>a.toJSON()),[o.name,i.name]];r.proto.setNestedConnections(s),r.parent.applyChanges()},vt(this,{processRowUpdate:be,valuesOptionsA:Kn,canAddRow:Kn})}get enabled(){return!this.m.isDisabled}get valuesOptionsA(){const{a:t,b:r}=this.m,n=new Set(r.vars.list.map(o=>o.type));return Si(t.vars.list,o=>n.has(o.type)&&H5(o))}getOptionsB(t){const{b:r}=this.m;return Si(r.vars.list,n=>n.type===t&&H5(n))}get columns(){const{m:t}=this;return[{field:"a",headerName:t.a.name,editable:!0,flex:10,type:"singleSelect",valueOptions:this.valuesOptionsA,renderCell:r=>_.createElement(G5,{value:r.value,isBroken:r.row.isBroken}),renderEditCell:r=>_.createElement(U5,r)},{field:"b",headerName:t.b.name,editable:!0,flex:10,type:"singleSelect",valueOptions:r=>this.getOptionsB(r.row?.typeA),renderCell:r=>_.createElement(G5,{value:r.value,isBroken:r.row.isBroken}),renderEditCell:r=>_.createElement(U5,r)},{field:"delete",type:"actions",flex:1,getActions:r=>[_.createElement(ize,{onClick:()=>this._deleteRow(r.id)})]}]}get rows(){return this.m.nestedConnections.map((t,r)=>{const n=r.toString();return t.isBroken?{id:n,isBroken:!0,a:t.a.toString(),typeA:null,b:t.b.toString(),typeB:null}:{id:n,isBroken:!1,a:t.a.name,typeA:t.a.type,b:t.b.name,typeB:t.b.type}})}get canAddRow(){const{m:t}=this,r=t.b.vars.list;return t.a.vars.list.some(n=>r.some(o=>o.type===n.type))}_deleteRow(t){const{m:r}=this,n=r.nestedConnections.filter((o,i)=>i.toString()!==t).map(o=>o.proto.toJSON());r.proto.setNestedConnections(n),r.parent.applyChanges()}}class aze extends Nt{constructor(){super(),this.onUngroupButtonClick=()=>this.m.ungroup(),vt(this,{klassPropsButtonModel:Kn,klassCodeButtonModel:Kn,onUngroupButtonClick:!1})}get kind(){return this.child?"":"Группа"}get klassPropsButtonModel(){return this.child?.schema.klass||null}get klassSchemaButtonModel(){const{child:t}=this;if(!t)return null;const{schema:r}=t,{klass:n}=r;return!n.isReadonly||n.hasScene?r:null}get klassCodeButtonModel(){const{child:t}=this;if(!t)return null;const{klass:r}=t.schema;return!r.isReadonly||r.hasCode?r:null}get schemaValuesModel(){const t=this.child?.schema;return t&&!t.isFake?t:null}get showUngroupButton(){return this.m.canUngroup}get child(){return this.m.child}}const lze=[[-1,"Ничего не делать"],[Wv,"Открыть окно схемы имиджа"],[NC,"Открыть проект"],[Kv,"Выполнить действие"],[LC,"Вызвать shell"],[Mk,"Нет конкретного действия"]],eI=[[FC,`Закрыть текущий проект (${FC})`],[BC,`Закрыть все проекты (${BC})`]];class cze extends Nt{constructor(t){super(),this.ctx=t,this.setKlassName=r=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:r}})},this.setWindowName=r=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,window:r}})},this.onOpenSchemaButtonClick=()=>{const r=this.ctx.project.klassLibrary.get(this.klassName);!r||r.isReadonly&&!r.hasScene||this.ctx.project.openKlassScene(r)},vt(this,{klassNameOptions:Kn,showOpenSchemaButton:Kn})}get klassNameOptions(){return this.ctx.project.klassLibrary.list.map(t=>t.name)}get showOpenSchemaButton(){const t=this.ctx.project.klassLibrary.get(this.klassName);return t&&(!t.isReadonly||t.hasScene)||!1}get klassName(){return this.parent.m.hyper?.target||""}get windowName(){return this.parent.m.hyper?.window||""}}class uze extends Nt{constructor(){super(...arguments),this.setProjectPath=t=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,target:t}})}}get projectPath(){return this.parent.m.hyper?.target||""}}class dze extends Nt{constructor(){super(...arguments),this.setActionType=t=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,target:t.target.value}})}}get options(){return eI}get actionType(){const t=this.parent.m.hyper?.target||"";return eI.some(([r])=>r===t)?t:eI[0][0]}}class hze extends Nt{constructor(){super(...arguments),this.setCommandName=t=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,target:t}})}}get commandName(){return this.parent.m.hyper?.target||""}}class fze extends Nt{constructor(){super(...arguments),this.setMode=t=>{const{m:r}=this,n=parseInt(t.target.value);n<0?r.set({hyper:null}):r.set({hyper:{...r.hyper,mode:n,target:""}})},this.setParams=t=>{const{m:r}=this;r.hyper&&r.set({hyper:{...r.hyper,params:t}})},this.setReceiver=t=>{const{m:r}=this;r.hyper&&r.set({hyper:{...r.hyper,object:t}})},this.setDisabled=(t,r)=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,disabled:r}})}}get modeOptions(){return lze}get mode(){const{hyper:t}=this.m;return!t||t.mode<Wv||t.mode>Kv?-1:t.mode}get params(){return this.m.hyper?.params||""}get receiver(){return this.m.hyper?.object||""}get disabled(){return this.m.hyper?.disabled||!1}}const pze={unit:"%",x:0,y:0,width:100,height:100};class gze extends Nt{constructor(){super(...arguments),this.onChange=(t,{x:r,y:n,width:o,height:i})=>{const{m:s}=this.parent;if((o||i)&&(r||n||o<100||i<100)){const{image:a}=s;s.scene.pendNextEdit(),s.setArea({x:Math.round(r*.01*a.width),y:Math.round(n*.01*a.height),w:Math.max(Math.round(o*.01*a.width),1),h:Math.max(Math.round(i*.01*a.height),1)})}else s.setArea(null)},this.onDragEnd=t=>{this.parent.m.scene.pushPendingEdit()}}get crop(){const{area:t,image:r}=this.parent.m;return t?{unit:"%",x:t.x/r.width*100,y:t.y/r.height*100,width:t.w/r.width*100,height:t.h/r.height*100}:pze}get imageInfo(){const{area:t,image:r}=this.parent.m;return"Crop: "+(t?`${t.x}, ${t.y}, ${t.w}x${t.h}`:"нет")+` [${r.width}x${r.height}]`}get imageSrc(){return Zi(this.parent.m.image.src)}}class mze extends Nt{get kind(){return this.m.pad?"Площадка":"Картинка"}get isPad(){return!!this.m.pad}get schemaValuesModel(){const t=this.m.pad?.schema;return t&&!t.isFake?t:null}}class vze extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.setValue(t)}get kind(){switch(this.m.inputType){case"Edit":return"Элемент ввода";case"Button":return"Кнопка";case"ComboBox":return"ComboBox";case"ListBox":return"Выпадающий список"}}get value(){return this.m.value}}class W5 extends Nt{constructor(){super(),this.editMode=!1,this.editValue="",this.onChange=t=>this._onChange(t.target.value),this.onInputChange=(t,r,n)=>{this._onChange(r)},this.onFormBlur=()=>{this.editMode&&(this.editMode=!1,this.props.onChange(this.editValue,!0))},this.onFormKeyDown=t=>{t.code==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.editMode=!1,t.target.blur())},vt(this,{editMode:Pe.ref,editValue:Pe.ref,onFormBlur:be,_onChange:be,onFormKeyDown:be,onChange:!1,onInputChange:!1})}onViewUnmounted(){this.onFormBlur()}get value(){if(this.editMode)return this.editValue;const{value:t}=this.props;return typeof t=="function"?t():t}get error(){return!!this.props.required&&!this.value}_onChange(t){this.editMode=!0,this.editValue=t,this.props.immediate&&this.props.onChange(t,!1)}}const yze={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function bze(e){return e.toLocaleString("ru",yze)}class wze extends Nt{constructor(){super(...arguments),this.setKlassName=t=>this.klass.rename(t),this.setForceUseIcon=(t,r)=>{const{klass:n}=this;n.set({image:{...n.image,prior:r?"icon":"image"}})},this.setCanChangeSize=(t,r)=>{const{klass:n}=this;n.set({image:{...n.image,resizable:r}})}}get klass(){return this.parent.m.klass}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get date(){return bze(this.klass.date)}get isPropsChangeDisabled(){return this.klass.isReadonly}get klassName(){return this.klass.name}get forceUseIcon(){return this.klass.image?.prior==="icon"}get canChangeSize(){return this.klass.image?.resizable||!1}}class Sze extends Nt{constructor(t){super(),this.ctx=t,this.onChange=(a,c)=>{this.crop=c},this.onDragEnd=a=>{const{crop:c,iconImage:d,m:h}=this,f=Math.round(c.x/100*d.width/32)*32,g=Math.round(c.y/100*d.height/32)*32;this.crop={unit:"%",x:f/d.width*100,y:g/d.height*100,width:32/d.width*100,height:32/d.height*100};const m=zq(d,f,g),y={atlas:d.src,index:m};h.set({image:{...h.image,icon:y}})};const n=this.m.icon,o=DC(n.atlas),{x:i,y:s}=AC(o,n.index||0);this.imageSrc=Zi(`icons/${o.src}.png`),this.iconImage=o,this.crop={unit:"%",x:i/o.width*100,y:s/o.height*100,width:32/o.width*100,height:32/o.height*100},vt(this,{crop:Pe.ref,onChange:be,onDragEnd:be})}get disabled(){return this.m.isReadonly}get iconAtlas(){return this.iconImage.src}}const Cze=0,xze=1,_ze=2,Eze=3,Tze=4,Mze=5,Oze=0,Rze=1,K5=3,q5=9,Ize=10,Pze=[[-1,"Отсутствует"],[Cze,"Сплошная"],[xze,"- - -"],[_ze,". . ."],[Eze,"- . - ."],[Tze,"- . ."],[Mze,"Прозрачная"]],kze=[[-1,"Отсутствует"],[Oze,"Сплошной цвет"],[K5,"Паттерн"],[Rze,"Прозрачная"]];class Dze extends Nt{constructor(){super(...arguments),this.setAngle=t=>{const{arrow:r}=this;if(!r)return;const n=xp(parseInt(t));isNaN(n)||n<0||this.m.setArrows({[this.props.arrow]:{...r,angle:n}})},this.setLength=t=>{const{arrow:r}=this;if(!r)return;const n=parseInt(t);isNaN(n)||n<1||this.m.setArrows({[this.props.arrow]:{...r,length:n}})},this.setFill=(t,r)=>{const{arrow:n}=this;n&&this.m.setArrows({[this.props.arrow]:{...n,fill:r}})},this.onRemoveButtonClick=()=>this.m.setArrows({[this.props.arrow]:null})}get arrow(){return this.m[this.props.arrow]}get angle(){return qu(xC(this.arrow?.angle||0))}get length(){return(this.arrow?.length||0).toString()}get fill(){return this.arrow?.fill||!1}}class Aze extends Nt{constructor(){super(...arguments),this.getColor=()=>ZC(this.m.color),this.setColor=(t,r)=>{const{m:n}=this;n.scene.pendNextEdit(),n.set({color:QC(t)}),r&&n.scene.pushPendingEdit()},this.setWidth=t=>{const r=parseInt(t);isNaN(r)||r<0||this.m.set({width:r})}}get width(){return this.m.width.toString()}}class Lze extends Nt{constructor(){super(),this.inputRef=_.createRef(),this.dashed=!1,this.onClick=()=>this.inputRef.current?.click(),this.onDragOver=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)},this.onDragEnter=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)&&(this.dashed=!0)},this.onDragLeave=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1},this.onDrop=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1;const r=this.m.scene.fileContentTransfer?.pop(t.dataTransfer);r?.image?this.m.setImage(r.image):this.addFromFileList(t.dataTransfer.files)},this.onChange=({currentTarget:{files:t}})=>t&&this.addFromFileList(t),vt(this,{dashed:Pe.ref,onClick:!1,onDragOver:!1,onDragEnter:be,onDragLeave:be,onDrop:be,onChange:!1,addFromFileList:no})}get image(){return this.m.image}tryAccept(t){return this.m.scene.fileContentTransfer?.get(t)?.image?(t.dropEffect="link",!0):t.items.length&&t.items[0].type.startsWith("image/")?(t.dropEffect="copy",!0):(t.dropEffect="none",!1)}*addFromFileList(t){const r=t.item(0);if(!r||!r.type.startsWith("image/"))return;const{fileUploader:n}=this.m.scene;if(!n)return;const o=yield n.upload([r]),i=o.length&&o[0].data.image;i&&this.m.setImage(i)}}class Nze extends Nt{constructor(){super(...arguments),this.getColor=()=>ZC(this.m.color),this.setColor=(t,r)=>{const{m:n}=this;n.scene.pendNextEdit(),n.set({color:QC(t)}),r&&n.scene.pushPendingEdit()},this.setMix=(t,r)=>this.m.set({rop:r?q5:0})}get isPattern(){return this.m.style===K5}get mix(){const{rop:t}=this.m;return t===q5||t===Ize}}class Bze extends Nt{constructor(){super(...arguments),this.onPointsModeChange=(t,r)=>{this.m.setPointsEditMode(r==="points")},this.setPenVariant=t=>{const{m:r}=this,n=parseInt(t.target.value);n<0?r.removePen():r.pen?r.pen.set({style:n}):r.createPen({style:n})},this.setBrushVariant=t=>{const{m:r}=this,n=parseInt(t.target.value);n<0?r.removeBrush():r.brush?r.brush.set({style:n}):r.createBrush({style:n})},this.onAddStartArrowButtonClick=()=>this.m.setArrows({start:{angle:xp(45),length:10,fill:!1}}),this.onAddEndArrowButtonClick=()=>this.m.setArrows({end:{angle:xp(45),length:10,fill:!1}})}get kind(){return this.m.connection?"Связь":"Полилиния"}get mode(){return this.m.isPointsEditModeActive?"points":"props"}get sceneConnection(){return this.m.connection}get schemaConnection(){return this.m.connection?.schemaConnection||null}get canAddPen(){return!this.m.connection}get canAddBrush(){return!this.m.connection}get pen(){return this.m.pen}get brush(){return this.m.connection?null:this.m.brush}get hasStartArrow(){return!!this.m.start}get hasEndArrow(){return!!this.m.end}get penVariantOptions(){return Pze}get penVariant(){const{pen:t}=this.m;return t?t.style:-1}get brushVariantOptions(){return kze}get brushVariant(){const{brush:t}=this.m;return t?t.style:-1}}const Fze=[{field:"x",headerName:"X",type:"number",editable:!0,flex:1},{field:"y",headerName:"Y",type:"number",editable:!0,flex:1}];class jze extends Nt{constructor(){super(),this.processRowUpdate=(t,r)=>{const n=parseInt(t.x);if(isNaN(n))return r;const o=parseInt(t.y);if(isNaN(o))return r;const i=t.id;return this.m.setPoint(i,n,o),t},vt(this,{processRowUpdate:be})}get columns(){return Fze}get rows(){return this.m.points.map(({x:t,y:r},n)=>({id:n,x:t,y:r}))}}class Vze extends Nt{constructor(){super(...arguments),this.onCreateGroupButtonClick=()=>this.m.createGroup(),this.onCreateConnectionButtonClick=()=>this.m.createConnection()}get selectionLength(){return this.m.objects.length}get showCreateGroupButton(){return this.m.canCreateGroup}get showCreateConnectionButton(){return this.m.canCreateConnection}}class $ze extends Nt{get klassPropsButtonModel(){return this.parent.hasSchema?this.parent.klass:null}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get schemaValuesModel(){const{schema:t}=this.parent;return t?.isFake?null:t}}function zze(e){const{value:t}=e;if(t===null)return null;const r=e.row.computedValueKind,n=r==="own"?"blue":r==="overwritten"?"green":r==="classSpecial"?"orange":void 0;let o="";return t!==null&&(o=r==="own"?"Значение установлено пользователем":r==="overwritten"?"Значение перезаписано другой переменной":r==="alien"?"Значение установлено другой переменной":r==="classSpecial"?"Используется свойство объекта":"Используется значение по умолчанию"),x.jsx("div",{title:o,style:{color:n,whiteSpace:"pre"},children:t})}function Uze(e,t){if(!e)return null;if(t===bt.HANDLE){const r=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(r)?null:"#"+Math.max(r,0)}return t!==bt.STRING&&(e=e.trim()),e||null}class Gze extends Nt{constructor(t){super(),this.ctx=t,this.processRowUpdate=(r,n)=>{const{m:o}=this,i=Uze(r.value,r.type);if(i===n.value)return n;const s=o.vars.list.find(a=>a._reactKey===r.id);return s?.setOwnValue(i)?(o.applyChanges(),{...r,value:s.computedValue,computedValueKind:s.computedValueKind}):n},this.columns=[{field:"markButton",width:24,minWidth:24,resizable:!1,sortable:!1,filterable:!1,headerName:"",cellClassName:"mark-button-cell",renderCell:r=>_.createElement(cl,{onChange:this.updateRow.bind(this,r.row)})},{field:"name",headerName:"Переменная",flex:1,renderCell:r=>{const{description:n,defaultValue:o,type:i}=r.row;let s=`Тип: ${bt[i]}`;return n&&(s+=`
Описание: ${n}`),o&&(s+=`
По умолчанию: '${o}'`),_.createElement("div",{title:s},r.value)}},{field:"value",headerName:"Значение",editable:!0,flex:1,renderCell:r=>_.createElement(zze,r)}],vt(this,{processRowUpdate:be,updateRow:be})}updateRow(t,r,n){const{m:o}=this,i=o.vars.list.find(a=>a._reactKey===t.id);if(!i)return;const{project:s}=this.ctx;n?s.addMarkedVar(i):s.removeMarkedVar(i)}get rows(){return this.m.vars.list.map(t=>({id:t._reactKey,name:t.name,type:t.type,value:t.computedValue,computedValueKind:t.computedValueKind,description:t.description,defaultValue:t.defaultValue}))}}class Hze extends Nt{constructor(){super(...arguments),this.onOpenTextEditorButtonClick=()=>this.m.scene.openTextEditor(this.m)}get kind(){return"Текст"}}class Wze extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassProps(this.m)}get title(){return this.m.name}}class Kze extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openSchema(this.m)}get hasScene(){return this.m.klass.hasScene}}class qze extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassCode(this.m)}get hasCode(){return this.m.hasCode||!1}}class Yze extends Nt{constructor(){super(...arguments),this.onClick=()=>this.m.delete()}}class Xze extends Nt{constructor(){super(...arguments),this.onMoveToBottomButtonClick=()=>this.m.moveToBottom(),this.onDecreaseZButtonClick=()=>this.m.decreaseZ(),this.onIncreaseZButtonClick=()=>this.m.increaseZ(),this.onMoveToTopButtonClick=()=>this.m.moveToTop()}get value(){return this.m.z.toString()}}let Y5=0;class Zze extends Nt{constructor(t){super(),this.ctx=t,this.ref=_.createRef(),this.onFontStylesChange=(r,n)=>{this.m.set({fontDecorations:n})},this.onFontSizeChange=r=>{this.m.set({fontSize:r})},this.onColorChange=r=>{this.m.set({fontColor:r})},this.onFontChange=r=>{this.m.set({fontName:r.target.value})},this.onEditorChange=r=>{if(this.ref.current?.editor===document.activeElement){{const n=r.getLastChangeType();(n==="remove-range"||n==="delete-character")&&++Y5}this.m.setState(r)}},this.handleKeyCommand=(r,n,o)=>{const{m:i}=this,s=Ls.RichUtils.handleKeyCommand(i.state,r);return s?(i.setState(s),"handled"):r==="strikethrough"?(i.setState(Ls.RichUtils.toggleInlineStyle(i.state,"STRIKETHROUGH")),"handled"):r==="font-up"?(this.m.set({fontSize:(Math.max(parseInt(i.fontSize)||1,0)+1).toString()}),"handled"):r==="font-down"?(this.m.set({fontSize:(Math.max(parseInt(i.fontSize)||1,2)-1).toString()}),"handled"):r==="apply"?(i.applyAndClose(),"handled"):r==="cancel"?(i.close(),"handled"):"not-handled"},this.customStyleFn=(r,n)=>{const o={whiteSpace:"pre"};return r.forEach(i=>{if(!i)return;const s=i.split("_");s.length<2||(o[s[0]]=s[1])}),o},this.keyBindingFn=r=>r.code==="Escape"?(r.preventDefault(),"cancel"):r.ctrlKey&&r.key==="Enter"?(r.preventDefault(),"apply"):r.ctrlKey&&r.key==="ArrowUp"?(r.preventDefault(),"font-up"):r.ctrlKey&&r.key==="ArrowDown"?(r.preventDefault(),"font-down"):r.ctrlKey&&r.code==="KeyS"?(r.preventDefault(),"strikethrough"):Ls.getDefaultKeyBinding(r),this.onApplyButtonClick=r=>{this.m.applyAndClose()},this.onCancelButtonClick=r=>{this.m.close()}}onViewMounted(){this.ref.current?.focus()}get dialogOpen(){return!this.m.isClosed}get randomKey(){return Y5.toString()}get availableFonts(){return Tp}get editorState(){return this.m.state}get fontStyles(){return this.m.fontDecorations}get fontSizeValue(){return this.m.fontSize}get colorValue(){return this.m.fontColor}get fontValue(){return this.m.fontName}}class Qze extends Nt{constructor(){super(),this.viewMountRef=_.createRef(),vt(this,{hasSchema:Kn})}onViewMountedSync(){const{scene:t}=this.m;this.viewMountRef.current?.appendChild(t.view),t.onViewMounted()}onViewUnmountedSync(){const{scene:t}=this.m;t.view.remove(),t.onViewUnmounted()}get textEditor(){return this.m.scene.textEditor}get selectedObject(){return this.m.scene.selection?.object||null}get selection(){return this.m.scene.selection}get klass(){const{m:t}=this;return t.type!=="fileSceneEditor"?t.klass:null}get schema(){return this.m.scene.schema}get hasSchema(){return!!this.schema}}function Lm({options:e,...t}){return x.jsx(lw,{fullWidth:!0,children:x.jsx(ul,{select:!0,size:"small",...t,children:e.map(([r,n])=>x.jsx(zi,{value:r,children:n},r))})})}function ds({label:e,...t}){return x.jsx(Zl,{control:x.jsx(cl,{...t}),label:e,sx:{mr:0}})}const Jze=ko()(({vm:e,...t})=>x.jsx(ul,{error:e.error,value:e.value,...t})),yo=Dt(W5)(({vm:e,value:t,onChange:r,immediate:n,...o})=>x.jsx(LRe,{onSubmit:j3,onKeyDown:e.onFormKeyDown,onBlur:e.onFormBlur,autoComplete:"off",children:x.jsx(Jze,{onChange:e.onChange,fullWidth:!0,size:"small",slotProps:{htmlInput:{step:"any"}},...o})})),eUe=Dt(W5)(({vm:e,options:t,value:r,onChange:n,immediate:o,...i})=>x.jsx(zU,{inputValue:e.value,onInputChange:e.onInputChange,onBlur:e.onFormBlur,renderInput:s=>x.jsx(ul,{...s,error:e.error,...i}),options:t,size:"small",freeSolo:!0,blurOnSelect:!0,sx:{flexGrow:1}})),tUe={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${UU.root}`]:{width:32,height:32,ml:-.5,mr:1}},rUe=Dt(ORe)(({vm:e})=>x.jsxs(dw,{anchorEl:e.anchorEl,open:e.parent.optionsMenuOpen,onClose:e.parent.onOptionsMenuClose,transformOrigin:{horizontal:"left",vertical:"bottom"},anchorOrigin:{horizontal:"left",vertical:"top"},slotProps:{paper:{elevation:0,sx:tUe}},children:[x.jsx(zi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ds,{checked:e.popup,onChange:e.setPopup}),label:"Всплывающее окно"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ds,{checked:e.fixed,onChange:e.setFixed}),label:"Нельзя изменять размер мышкой"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ds,{checked:e.vscroll,onChange:e.setVScroll}),label:"Показывать вертикальный scroll"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ds,{checked:e.hscroll,onChange:e.setHScroll}),label:"Показывать горизонтальный scroll"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ds,{checked:e.autoorg,onChange:e.seAutoOrg}),label:"Граница по крайнему объекту"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ds,{checked:e.autoScroll,onChange:e.seAutoScroll}),label:"Автоматически пересчитывать область прокрутки"})})]})),nUe=ko()(({vm:e})=>x.jsxs(x.Fragment,{children:["x:",e.statusCursorX,", y:",e.statusCursorY,", zoom:",e.zoom,"%"]})),oUe=Dt(ERe)(({vm:e})=>{const{showSchemaButtons:t}=e;return x.jsxs(x.Fragment,{children:[x.jsx(rUe,{}),x.jsx(Tr,{title:"Отменить (Ctrl+Z)",placement:"top",children:x.jsx(mo,{component:"span",display:"flex",children:x.jsx(br,{onClick:e.onUndoButtonClick,disabled:e.undoButtonDisabled,size:"small",children:x.jsx(CMe,{})})})}),x.jsx(Tr,{title:"Повторить (Ctrl+Shift+Z)",placement:"top",children:x.jsx(mo,{component:"span",display:"flex",children:x.jsx(br,{onClick:e.onRedoButtonClick,disabled:e.redoButtonDisabled,size:"small",children:x.jsx(pMe,{})})})}),x.jsx(Tr,{title:"Создать линию (L)",placement:"top",children:x.jsx(br,{onClick:e.onCreateLineButtonClick,size:"small",sx:{ml:2},children:x.jsx(hMe,{})})}),x.jsx(Tr,{title:"Создать прямоугольник (Q)",placement:"top",children:x.jsx(br,{onClick:e.onCreateRectButtonClick,size:"small",children:x.jsx(fMe,{})})}),x.jsx(Tr,{title:"Создать текст (T)",placement:"top",children:x.jsx(br,{onClick:e.onCreateTextButtonClick,size:"small",children:x.jsx(_Te,{})})}),x.jsx(Tr,{title:"Создать элемент ввода (I)",placement:"top",children:x.jsx(br,{onClick:e.onCreateInputButtonClick,size:"small",children:x.jsx(QTe,{})})}),x.jsx(Tr,{title:"Создать кнопку (B)",placement:"top",children:x.jsx(br,{onClick:e.onCreateButtonButtonClick,size:"small",children:x.jsx(OTe,{})})}),t&&x.jsx(Tr,{title:"Создать связь (C)",placement:"top",children:x.jsx(br,{onClick:e.onCreateConnectionButtonClick,size:"small",children:x.jsx(MTe,{})})}),t&&x.jsx(Tr,{title:"Изменить порядок имиджей (R)",placement:"top",children:x.jsx(br,{onClick:e.onReorderButtonClick,color:e.reorderButtonActive?"error":"default",size:"small",sx:{ml:2},children:x.jsx(WTe,{})})}),e.showSceneOptionsButton&&x.jsx(Tr,{title:"Свойства окна сцены",placement:"top",children:x.jsx(br,{onClick:e.onSceneOptionsButtonClick,ref:e.propsButtonRef,size:"small",sx:{ml:2},children:x.jsx(EMe,{})})}),x.jsx(Tr,{title:"Предыдущий объект (Shift+Tab)",placement:"top",children:x.jsx(br,{onClick:e.onSelectPrevObjectButtonClick,size:"small",sx:{ml:2},children:x.jsx(oMe,{})})}),x.jsx(Tr,{title:"Следующий объект (Tab)",placement:"top",children:x.jsx(br,{onClick:e.onSelectNextObjectButtonClick,size:"small",children:x.jsx(iMe,{})})}),t&&x.jsxs(x.Fragment,{children:[x.jsx(Tr,{title:`${e.showClassesCheckboxChecked?"Скрыть":"Показать"} имиджи (1)`,placement:"top",children:x.jsx(cl,{checked:e.showClassesCheckboxChecked,onChange:e.onHideClassesCheckboxChange,checkedIcon:x.jsx(yw,{sx:{color:"yellowgreen"}}),icon:x.jsx(vMe,{}),sx:{ml:2}})}),x.jsx(Tr,{title:`${e.showConnectionsCheckboxChecked?"Скрыть":"Показать"} связи (2)`,placement:"top",children:x.jsx(cl,{checked:e.showConnectionsCheckboxChecked,onChange:e.onShowConnectionsCheckboxChange,checkedIcon:x.jsx(XTe,{sx:{color:"red"}}),icon:x.jsx(ZTe,{})})}),x.jsx(Tr,{title:`${e.showOtherCheckboxChecked?"Скрыть":"Показать"} остальные объекты (3)`,placement:"top",children:x.jsx(cl,{checked:e.showOtherCheckboxChecked,onChange:e.onShowOtherCheckboxChange,checkedIcon:x.jsx(DTe,{}),icon:x.jsx(ATe,{})})})]}),x.jsx(Tr,{title:`${e.selectUnselectableCheckboxChecked?"Отключить":"Включить"} выбор невыбираемых объектов (4)`,placement:"top",children:x.jsx(cl,{checked:e.selectUnselectableCheckboxChecked,onChange:e.onSelectUnselectableCheckboxChange,checkedIcon:x.jsx(FTe,{sx:{color:"red"}}),icon:x.jsx(jTe,{})})}),x.jsx(mo,{ml:"auto",children:x.jsx(nUe,{})}),x.jsx(br,{onClick:e.onResetZoomButtonClick,disabled:e.resetZoomButtonDisabled,size:"small",children:x.jsx(gMe,{})})]})}),iUe=Dt(TRe)(({vm:e})=>x.jsx(mo,{ml:"auto",children:e.cursorPosition})),sUe=Dt(MRe)(({vm:e})=>{const{currentEditor:t}=e;return x.jsxs(ti,{display:"flex",flexGrow:0,height:25,fontSize:15,textAlign:"end",px:2,whiteSpace:"nowrap",sx:{userSelect:"none"},children:[e.showSaveButton&&x.jsx(Tr,{title:"Сохранить (Ctrl+S)",placement:"top",children:x.jsx(br,{onClick:e.onSaveButtonClick,disabled:e.saveButtonDisabled,size:"small",children:x.jsx(mMe,{})})}),t&&c$(t)&&x.jsx(oUe,{m:t}),t&&$ge(t)&&x.jsx(iUe,{m:t})]})});class aUe extends Nt{constructor(){super(),this.dashed=!1,this.onMouseDownCapture=t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},this.onPointerDown=t=>{switch(t.button){case 0:t.stopPropagation(),this.makeActive();return;case 1:t.preventDefault(),this.onCloseButtonClick();return}},this.onCloseButtonPointerDown=t=>{t.stopPropagation()},this.onDragStart=t=>{this.tabTransfer.put(t.dataTransfer,this,"move")},this.onDragOver=t=>{t.preventDefault();const r=t.dataTransfer;r.dropEffect=this.tabTransfer.canDrop(t.dataTransfer)?"move":"none"},this.onDragEnter=t=>{if(this.onDragOver(t),t.dataTransfer.dropEffect!=="none"){this.dashed=!0;return}this.isActive||this.makeActive()},this.onDragLeave=t=>{t.preventDefault(),t.currentTarget.contains(t.relatedTarget)||(this.dashed=!1)},this.onDrop=t=>{t.preventDefault();const r=this.tabTransfer.pop(t.dataTransfer);r&&(this.dashed=!1,this!==r&&this.parent._swapTabs(this.m,r.m))},this.onCloseButtonClick=t=>{this.m.close()},vt(this,{dashed:Pe.ref,isActive:Kn,onPointerDown:be,onDragEnter:be,onDragLeave:be,onDrop:be})}makeActive(){this.parent._setCurrent(this.m)}get tabTransfer(){return this.parent.tabTransfer}get editor(){return this.m.editor}get value(){return this.m._reactKey}get _reactKey(){return this.m._reactKey}get isActive(){return this.parent.value===this.value}get title(){return this.editor.title}get hasChanges(){return this.editor.hasChanges||!1}get isDeleted(){return this.editor.isDeleted}get isReadonly(){return this.editor.isReadonly}}class lUe extends Nt{constructor(){super(...arguments),this.tabTransfer=new QT("tabs")}get tabs(){return this.m.tabs}get value(){return this.m.currentTab?._reactKey||!1}_setCurrent(t){this.m.setCurrentTab(t)}_swapTabs(t,r){const n=this.m.tabs.slice(),o=n.indexOf(t),i=n.indexOf(r);n.splice(i,1),n.splice(o,0,r),this.m.reorderTabs(n)}}const cUe=we(G3)({maxWidth:"1rem"}),uUe=we(vw)({maxWidth:"1rem"}),dUe=we(mo,{shouldForwardProp:e=>e!=="isDeleted"})(({isDeleted:e})=>({...e&&{textDecoration:"line-through",color:"red"}})),hUe=ko()(({vm:e})=>{const{title:t,hasChanges:r,isDeleted:n,isReadonly:o}=e,i=`${t}${o&&!n?" (READONLY)":""}`;return x.jsxs(dUe,{variant:"caption",fontSize:"0.8rem",isDeleted:n,children:[i,x.jsx(Tr,{title:"Закрыть (Alt+W, Shift+W)",children:x.jsx(br,{onClick:e.onCloseButtonClick,onPointerDown:e.onCloseButtonPointerDown,component:"div",size:"small",children:r?x.jsx(cUe,{}):x.jsx(uUe,{})})})]})}),tI=35,fUe=we(BO,{shouldForwardProp:e=>e!=="dashed"&&e!=="isActive"})(({dashed:e,isActive:t})=>({maxHeight:tI,minHeight:tI,textTransform:"none",...e&&{border:"1px dashed black"},...t&&{background:"rgb(219 217 217)"}})),X5=Dt(aUe)(({vm:e})=>x.jsx(fUe,{label:x.jsx(hUe,{}),draggable:!0,disableRipple:!0,dashed:e.dashed,isActive:e.isActive,onPointerDown:e.onPointerDown,onDragStart:e.onDragStart,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop}));X5.muiName="Tab";const pUe=we(L3,{name:"ETabsView"})({minHeight:tI,[`& .${Jg.indicator}`]:{transition:"none"},[`& .${Jg.scrollButtons}.${P3.disabled}`]:{opacity:.3}}),gUe=Dt(lUe)(({vm:e})=>x.jsx(pUe,{variant:"scrollable",value:e.value,children:e.tabs.map(t=>x.jsx(X5,{value:t._reactKey,m:t},t._reactKey))})),mUe=we("div",{name:"LeftPanelToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center",[`& .${aU.root}`]:{padding:6}}),vUe=we($i,{name:"MainMenuButton"})({display:"block",margin:4,padding:2,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0});class yUe extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.onCollapseFilesButtonClick.dispatch()}}const bUe=Dt(yUe)(({vm:e})=>x.jsx(Tr,{title:"Свернуть список файлов",children:x.jsx(br,{onClick:e.onClick,children:x.jsx(xMe,{})})}));class wUe extends Nt{constructor(){super(...arguments),this.onClick=()=>{if(this.m.player){this.m.player.maximize();return}this.m.openPlayer()}}get isPlaying(){return!!this.m.player}}const SUe=Dt(wUe)(({vm:e})=>{const{isPlaying:t}=e;return x.jsx(Tr,{title:`${t?"Развернуть проигрыватель":"Запустить проект"} (Ctrl+R)`,children:x.jsx(br,{onClick:e.onClick,color:t?"error":"default",children:x.jsx(dMe,{})})})}),Z5=new WeakMap,Q5=new Map;function CUe(e){const t=new ET(e),r=Zu(t.objects.values()),n=Math.abs(r.w-r.h)>50?Math.min(r.w,r.h):void 0,o={...r,w:n||r.w,h:n||r.h};return t.toSVG(o,!0)}function xUe(e,t){const r=DC(e),{x:n,y:o}=AC(r,t),i=`${n} ${o} 32 32`;return{src:Zi(`icons/${r.src}.png`),viewBox:i}}const _Ue=we("svg")({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"});function J5(e){return x.jsx(_Ue,{width:32,height:32,viewBox:"0 0 32 32",preserveAspectRatio:"xMidYMid slice",...e})}function hS({sceneData:e}){let t=Z5.get(e);return t||(t=CUe(e),Z5.set(e,t)),x.jsx(J5,{ref:r=>r?.replaceChildren(t.cloneNode(!0))})}function rI({icon:{atlas:e="",index:t=0}}){const r=e+t;let n=Q5.get(r);return n||(n=xUe(e,t),Q5.set(r,n)),x.jsx(J5,{viewBox:n.viewBox,children:x.jsx("image",{href:n.src})})}const e4=we(TTe)({opacity:.8}),t4=we(YTe)({opacity:.8}),r4=we(ZO,{name:"SchemaTreeView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${Jl.content}`]:{padding:"0px 2px",margin:e.spacing(.2,0),[`& .${Jl.label}`]:e.typography.body2},[`& .${Jl.groupTransition}`]:{marginLeft:15,borderLeft:"1px dashed rgba(0, 0, 0, 0.4)"},[`& .${Jl.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class EUe extends Nt{constructor(t){super(),this.ctx=t,this.onDoubleClick=r=>{r.stopPropagation(),this.ctx.project.focusOnNode(this.m,!0)},vt(this,{canExpand:Kn,onDoubleClick:!1})}get image(){return this.m.klass.imageData}get icon(){return this.m.klass.icon}get canExpand(){return this.m.children.list.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children.list}}class TUe extends Nt{constructor(t){super(),this.ctx=t,this.selectedItem=null,this.apiRef=_.createRef(),this.onNodeSelectedOnScene=r=>{const n=r.itemId,o=this.getItemById(n);if(!o)return;const i=new Set(this.expandedItems);let s=o;for(;s.parent;)i.add(s.parent.itemId),s=s.parent;this.selectedItem=n,this.expandedItems=Array.from(i);const a=document.activeElement;this.apiRef.current?.focusItem(null,r.itemId),a instanceof HTMLElement&&a.focus()},this.onExpandedItemsChange=(r,n)=>{if(r?.type==="keydown"&&r.key==="Enter"){const{expandedItems:o}=this;let i;n.length>o.length?i=n.find(s=>!o.includes(s)):i=o.find(s=>!n.includes(s)),i&&this.onSelectedItemChange(r,i);return}this.expandedItems=n},this.onSelectedItemChange=(r,n)=>{if(this.selectedItem=n,!n)return;const o=this.getItemById(n);o&&this.ctx.project.focusOnNode(o)},this.onDescendantsDeleted=r=>{const n=new Set(sk(r,o=>o.itemId));this.expandedItems=this.expandedItems.filter(o=>!n.has(o))},this.expandedItems=[this.m.itemId],vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,onSelectedItemChange:be})}onViewMountedSync(){this.m.onDescendantsDeleted.add(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.add(this.onNodeSelectedOnScene)}onViewUnmountedSync(){this.m.onDescendantsDeleted.remove(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.remove(this.onNodeSelectedOnScene)}getItemById(t){return(function r(n){if(n.itemId===t)return n;for(const o of n.children.list){const i=r(o);if(i)return i}return null})(this.m)}}const MUe=Dt(TUe)(({vm:e,m:t,hidden:r})=>x.jsx(r4,{hidden:r,apiRef:e.apiRef,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:e4,collapseIcon:t4},onContextMenu:mw,children:x.jsx(n4,{m:t})})),n4=Dt(EUe)(({vm:e})=>{const{image:t}=e;return x.jsx(ru,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(hS,{sceneData:t}):x.jsx(rI,{icon:e.icon}),e.label]}),onDoubleClick:e.onDoubleClick,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(OUe,{})})}),OUe=ko()(({vm:e})=>e.children.map(t=>x.jsx(n4,{m:t},t.itemId)));class RUe extends Nt{constructor(){super(...arguments),this.onClick=()=>this.m.sync()}get isSyncing(){return this.m.isSyncing}get changesList(){return this.m.changesList}}const IUe={bgcolor:Ja[500],"&:hover":{bgcolor:Ja[700]}},PUe={bgcolor:Gc[700],"&:hover":{bgcolor:Gc[800]}},o4={width:"0.5em",height:"0.5em",color:"white"},kUe={color:Ja[500],position:"absolute",top:-2,left:-2,zIndex:1},DUe=x.jsx(Y3,{sx:o4}),AUe=x.jsx(z3,{sx:o4});function LUe({title:e}){return x.jsx(mo,{variant:"caption",whiteSpace:"pre-wrap",children:e})}const NUe=Dt(RUe)(({vm:e})=>{const{isSyncing:t,changesList:r}=e,n=!t&&!r.length,o=t?"Идет синхронизация...":r.length?`Изменения:
`+r.join(`
`):"Все библиотеки синхронизированы";return x.jsxs(ti,{position:"relative",ml:1,children:[x.jsx(Tr,{title:x.jsx(LUe,{title:o}),children:x.jsx(br,{onClick:e.onClick,sx:n?IUe:PUe,children:n?AUe:DUe})}),t&&x.jsx(Jh,{size:32,sx:kUe})]})}),BUe=we(ZO,{name:"EVFSView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${Jl.content}`]:{padding:"0px 2px",[`& .${Jl.label}`]:e.typography.body2},[`& .${Jl.groupTransition}`]:{marginLeft:12},[`& .${Jl.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class FUe extends Nt{constructor(t){super(),this.selectedItem=null,this.autoCollapsed=!1,this.onExpandedItemsChange=(n,o)=>{this._expandedItems=o,this.autoCollapsed=!1},this.onSelectedItemsChange=(n,o)=>{if(this.selectItem(o),!o)return;const i=this.getItemById(o);if(i?.type!=="file")return;const{project:s}=this.ctx,{klass:a}=i;if(n&&"ctrlKey"in n&&n.ctrlKey){a&&(a.hasCode||!a.isReadonly)&&s.openKlassCode(a);return}if(n&&"shiftKey"in n&&n.shiftKey){a&&(a.hasScene||!a.isReadonly)&&s.openKlassScene(a);return}s.openFile(i)},this.collapse=()=>{this._expandedItems=[],this.autoCollapsed=!1},this.onDescendantsDeleted=n=>{const o=new Set(sk(n,i=>i.itemId));this._expandedItems=this._expandedItems.filter(i=>!o.has(i)),this.autoCollapsed=!1},this.ctx={...t,vfs:this,fileDirTransfer:new QT("fileDir"),_dragStartTimeStamp:0};const{libs:r}=this.m;this._expandedItems=r.length?[r[0].rootDir.itemId]:[],vt(this,{_expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,selectItem:be,expandItem:be,expandAll:be,collapse:be,onSelectedItemsChange:!1})}onViewMountedSync(){this.ctx.project.onCollapseFilesButtonClick.add(this.collapse),this.m.onDirsRemoved.add(this.onDescendantsDeleted),this.autorun(()=>{this.ctx.project.vfsFilter.text.length>1&&this.expandAll()})}onViewUnmountedSync(){this.ctx.project.onCollapseFilesButtonClick.remove(this.collapse),this.m.onDirsRemoved.remove(this.onDescendantsDeleted)}get expandedItems(){return this.ctx.project.vfsFilter.text.length<2&&this.autoCollapsed?[]:this._expandedItems}get libs(){return this.m.libs}selectItem(t){this.selectedItem=t}expandItem(t){this._expandedItems.includes(t)||(this._expandedItems=this._expandedItems.concat(t),this.autoCollapsed=!1)}expandAll(){const t=[];function r(n){t.push(n.itemId),n.dirs.forEach(r)}this.libs.forEach(n=>r(n.rootDir)),this._expandedItems=t,this.autoCollapsed=!0}getItemById(t){function r(n){if(n.itemId===t)return n;for(const o of n.files)if(o.itemId===t)return o;for(const o of n.dirs){const i=r(o);if(i)return i}return null}for(const n of this.libs){const o=r(n.rootDir);if(o)return o}return null}}function ta(e){return _.createElement(e,{fontSize:"small"})}function i4(e){return[{title:"Переименовать",icon:ta(G3),action:e.startRenaming},{title:"Удалить",icon:ta(NTe),action:e.deleteWithConfirm}]}function jUe(e){return[{title:"Папка",icon:ta(LTe),action:e.createNewDir},{title:"Имидж",icon:ta(PTe),action:Dq(e.createClass)},{title:"Сцена",icon:ta(X3),action:e.createScene},{title:"Матрица",icon:ta(K3),action:e.createMatrix},{title:"Текстовый файл",icon:ta(q3),action:e.createTextFile},{title:"Загрузить файлы",icon:ta(_Me),action:e.openUploadDialog}]}function VUe(e,t){const{isSearchDir:r}=e;return{title:r?"Исключить из путей поиска имиджей":"Добавить в пути поиска имиджей",icon:ta(r?bMe:yMe),action:(r?t.removeKlassSearchDir:t.addKlassSearchDir).bind(t,e)}}function s4(e){return{title:"Скопировать относительный путь",icon:ta($Te),action:kq.bind(null,e)}}function $Ue(e,t){const{isReadonly:r,hasScene:n}=e,o=[],i=r?n?"Просмотр схемы":"":n?"Редактировать схему":"Создать схему";i&&o.push({title:i+" (Shift+Click)",icon:ta(yw),action:t.openKlassScene.bind(t,e)});const s=r?e.hasCode?"Просмотр кода":"":"Редактировать код";return s&&o.push({title:s+" (Ctrl+Click)",icon:ta(U3),action:t.openKlassCode.bind(t,e)}),o}const If=new WeakSet;class zUe extends Nt{constructor(t){super(),this.ctx=t,this.contentRef=_.createRef(),this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:r}=this;(!(r.files.length||r.dirs.length)||window.confirm(`Удалить ${r.name}?`))&&r.remove()},this.createNewDir=()=>{const r=_h(this.m,"Новая папка"),n=this.m.createDir(r);this.expand(),If.add(n)},this.createClass=()=>{const r=window.prompt("Имя имиджа")?.split(" ").join("");if(!r)return;const{project:n}=this.ctx;try{n.createNewKlass(r,this.m)}catch(o){if(!(o instanceof Ci))throw o;alert(o.message)}},this.createScene=()=>{const r=_h(this.m,"scene","vdr"),n=this.m.createFile(r,{scene:Nq});this.expand(),If.add(n)},this.createMatrix=()=>{const r=_h(this.m,"matrix","mat"),n=this.m.createFile(r,{mat:Lq});this.expand(),If.add(n)},this.createTextFile=()=>{const r=_h(this.m,"Новый текстовый файл","txt"),n=this.m.createFile(r,{base64:""});this.expand(),If.add(n)},this.openUploadDialog=()=>{const r=document.createElement("input");r.onchange=()=>this.uploadFiles(r.files),r.type="file",r.multiple=!0,r.accept="image/*, video/*, audio/*, font/*, .cur, .ico",r.click()},this.onContextMenu=r=>{r.preventDefault(),r.stopPropagation();const n=r.clientX+2,o=r.clientY-6,{m:i}=this,s=[...i.canCreateFiles?jUe(this):[],...i.canEdit?i4(this):[],...i.canAddToSearchDir?[VUe(i,this.ctx.project)]:[],...i.hasRelativePath?[s4(i)]:[]];s.length&&this.ctx.app.ctxMenu.open(n,o,s)},this.onDragStart=r=>{r.stopPropagation(),this.ctx._dragStartTimeStamp=0;const n=r.dataTransfer;this.ctx.fileDirTransfer.put(n,this.m,"move");const o=this.contentRef.current?.querySelector(`.${Jl.label}`);o&&n.setDragImage(o,0,0)},this.onDragOver=r=>{r.preventDefault(),r.stopPropagation();const n=r.dataTransfer;if(n.dropEffect="none",!this.m.canCreateFiles)return;const o=this.ctx.fileDirTransfer.get(n);if(o){if(o.type==="dir"&&this.m.hasAncestor(o))return;n.dropEffect="move"}else if(n.types.some(s=>s==="Files"))n.dropEffect="copy";else return;this.ctx.vfs.selectItem(this.itemId);const{_dragStartTimeStamp:i}=this.ctx;i?(!this.m.parent||r.timeStamp-i>500)&&(this.expand(),this.ctx._dragStartTimeStamp=1/0):this.ctx._dragStartTimeStamp=r.timeStamp},this.onDragLeave=()=>{this.ctx._dragStartTimeStamp=0},this.onDrop=r=>{r.stopPropagation(),r.preventDefault();const n=r.dataTransfer,o=this.ctx.fileDirTransfer.pop(n);if(o){try{this.m.insertEntry(o)}catch(i){alert(i.message);return}this.ctx.vfs.selectItem(o.itemId)}else this.uploadFiles(n.files);this.expand()},this.isRenaming=If.delete(this.m),vt(this,{isRenaming:Pe.ref,canExpand:Kn,startRenaming:be,renameEntry:be,createClass:be,createMatrix:be,createNewDir:be,createScene:be,createTextFile:be,deleteWithConfirm:be,uploadFiles:no,openUploadDialog:!1,onContextMenu:!1,onDragLeave:!1,onDragOver:!1,onDragStart:!1,onDrop:!1})}get itemId(){return this.m.itemId}get label(){return this.m.name}get draggable(){return!this.isRenaming&&this.m.canEdit}get filteredDirs(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.dirs.filter(r=>r.files.some(n=>t.isFilePassing(n))):this.m.dirs}get filteredFiles(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.files.filter(r=>t.isFilePassing(r)):this.m.files}get canExpand(){return this.filteredFiles.length>0||this.filteredDirs.length>0}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(r){alert(r.message)}}*uploadFiles(t){if(!t.length)return;const r=this.ctx.project.getFileUploader(this.m.lib);if(!r)return;const n=yield r.upload([...t]);let o=null;for(const i of n){const{base:s,ext:a}=$K(i.file.name),c=_h(this.m,s,a);o=this.m.createFile(c,i.data).itemId}o&&this.ctx.vfs.selectItem(o)}expand(){this.ctx.vfs.expandItem(this.itemId)}}class UUe extends Nt{constructor(){super(),this.inputRef=_.createRef(),this.onInputBlur=({target:t})=>{this.parent.renameEntry(t.value)},this.onFormKeyDown=t=>{t.stopPropagation(),t.code==="Escape"&&(t.preventDefault(),this.parent.renameEntry(""))},vt(this,{onFormKeyDown:be,onInputBlur:be})}onViewMounted(){const t=this.inputRef.current;if(!t)return;t.focus();const r=t.value.lastIndexOf(".");r>0?t.setSelectionRange(0,r):t.select()}get defaultValue(){return this.parent.m.name}}class GUe extends Nt{constructor(t){super(),this.ctx=t,this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:r}=this;window.confirm(`Удалить ${r.name}?`)&&r.remove()},this.onContextMenu=r=>{r.preventDefault(),r.stopPropagation();const n=r.clientX+2,o=r.clientY-6,{m:i}=this,{klass:s}=i,a=[...s?$Ue(s,this.ctx.project):[],...i.canEdit?i4(this):[],...i.hasRelativePath?[s4(i)]:[]];a.length&&this.ctx.app.ctxMenu.open(n,o,a)},this.onDragStart=r=>{this.ctx._dragStartTimeStamp=0,r.stopPropagation();const n=r.dataTransfer,{m:o}=this,{canEdit:i}=o;i&&this.ctx.fileDirTransfer.put(n,o,"move"),this.ctx.project.vfsFileTransfer.put(n,o,i?"linkMove":"link")},this.isRenaming=If.delete(this.m),vt(this,{isRenaming:Pe.ref,startRenaming:be,renameEntry:be,deleteWithConfirm:be,onContextMenu:!1,onDragStart:!1})}get itemId(){return this.m.itemId}get label(){const{klass:t}=this.m;if(!t)return this.m.name;const{vfsFilter:r}=this.ctx.project;return r.type==="klass"?t.name:`${this.m.name} (${t.name})`}get draggable(){return!this.isRenaming}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(r){if(!(r instanceof Ci))throw r;alert(r.message)}}}class HUe extends Nt{constructor(){super(...arguments),this.onSearchFieldChange=t=>{this.m.setText(t.target.value)},this.onMenuItemClick=(t,r)=>{this.m.setType(t)},this.onClose=(t,r)=>{this.props.onClose()}}get searchFieldValue(){return this.m.text}get activeValue(){return this.m.type}get items(){return[{value:"all",title:"Все файлы"},{value:"klass",title:"Имиджи"},{value:"image",title:"Изображения"}]}}const a4=Dt(UUe)(({vm:e})=>x.jsx("form",{onSubmit:j3,onKeyDown:e.onFormKeyDown,children:x.jsx("input",{ref:e.inputRef,defaultValue:e.defaultValue,onBlur:e.onInputBlur})})),WUe=ko()(({vm:{m:e}})=>{const{klass:t}=e;if(t){const{imageData:n}=t;return n?x.jsx(hS,{sceneData:n}):x.jsx(rI,{icon:t.icon})}const{scene:r}=e;if(r){const n=r.data.data;return n?.objects?.length?x.jsx(hS,{sceneData:n}):x.jsx(X3,{})}return e.image?x.jsx(oRe,{src:Zi(e.image.src)}):e.binary?e.binary.isTextFile?x.jsx(q3,{}):x.jsx(sMe,{}):e.matrix?x.jsx(K3,{}):e.stt?x.jsx(Y3,{}):e.video?x.jsx(aMe,{}):e.audio?x.jsx(RTe,{}):e.cursor?x.jsx(nMe,{}):e.ttf?x.jsx(UTe,{}):x.jsx(ITe,{})}),KUe=Dt(FUe)(({vm:e,hidden:t})=>x.jsx(rM,{value:e.ctx,children:x.jsx(BUe,{hidden:t,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(YUe,{})})})),l4=Dt(zUe)(({vm:e})=>x.jsx(ru,{ref:e.contentRef,itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(a4,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsxs(x.Fragment,{children:[x.jsx(XUe,{}),x.jsx(ZUe,{})]})})),qUe=Dt(GUe)(({vm:e})=>x.jsx(ru,{itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(a4,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,slots:{icon:WUe}})),YUe=ko()(({vm:e})=>e.libs.map(({rootDir:t})=>x.jsx(l4,{m:t},t.itemId))),XUe=ko()(({vm:e})=>e.filteredDirs.map(t=>x.jsx(l4,{m:t},t.itemId))),ZUe=ko()(({vm:e})=>e.filteredFiles.map(t=>x.jsx(qUe,{m:t},t.itemId))),QUe="filter-filter-search-field",JUe={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${UU.root}`]:{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:227,width:15,height:15,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}},e3e=Dt(HUe)(({vm:e,open:t,anchorEl:r})=>{const n=STe();return x.jsxs(dw,{anchorEl:r,open:t,onClose:e.onClose,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"left",vertical:"bottom"},slotProps:{paper:{elevation:0,sx:JUe}},children:[x.jsx(zi,{onFocus:n.onFocus,selected:!0,disableRipple:!0,sx:{bgcolor:"transparent"},children:x.jsx(ul,{onFocus:bTe,inputRef:n.ref,value:e.searchFieldValue,onChange:e.onSearchFieldChange,label:"Имя файла",id:QUe,spellCheck:!1,autoFocus:!1,autoComplete:"off"})}),e.items.map((o,i)=>x.jsxs(zi,{onClick:e.onMenuItemClick.bind(null,o.value),children:[o.value===e.activeValue&&x.jsx(cw,{children:x.jsx(z3,{fontSize:"small"})}),o.title]},i))]})});class t3e extends Nt{constructor(){super(...arguments),this.onClick=t=>{this.props.onClick()}}get badgeVisible(){return this.m.isActive}}const r3e=Dt(t3e)(({vm:e,buttonRef:t})=>x.jsx(Tr,{title:"Фильтр файлов (Ctrl+F)",children:x.jsx(br,{ref:t,onClick:e.onClick,children:x.jsx(Gg,{invisible:!e.badgeVisible,color:"warning",variant:"dot",children:x.jsx(zTe,{})})})}));function n3e(){const{mainMenuVisible:e}=ba(),{projectFile:t}=dM(),r=t.path,n=t.parent.path;return x.jsx(vUe,{variant:"outlined",title:r,onClick:e.setTrue,children:n})}function o3e(){const{leftPanelMinimized:e}=ba();return x.jsx(Tr,{title:"Показать левую панель (Ctrl+Shift+F)",followCursor:!0,placement:"right",children:x.jsx(I2,{onClick:e.setFalse,size:"small",children:x.jsx($3,{})})})}function i3e(){const{leftPanelMinimized:e}=ba();return x.jsx(Tr,{title:"Скрыть левую панель (Ctrl+Shift+F)",children:x.jsx(br,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx(V3,{})})})}const s3e=mg(()=>{const{activeLeftPanelActiveView:e}=ba(),{current:t}=e,r=(n,o)=>{o&&e.set(o)};return x.jsxs(F3,{value:t,exclusive:!0,fullWidth:!0,onChange:r,sx:{},children:[x.jsx(jO,{value:"schema",title:"Схема проекта",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(yw,{fontSize:"small"})}),x.jsx(jO,{value:"files",title:"Файлы",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(H3,{fontSize:"small"})})]})}),a3e=mg(()=>{const e=_.useRef(null),{syncer:t,player:r,vfsFilter:n,vfsFilterVisible:o}=dM(),i=ba().activeLeftPanelActiveView.current==="files";return x.jsxs(mUe,{children:[x.jsx(NUe,{m:t}),x.jsx(SUe,{m:r}),x.jsx(s3e,{}),i&&x.jsxs(x.Fragment,{children:[x.jsx(r3e,{m:n,onClick:o.setTrue,buttonRef:e}),x.jsx(e3e,{m:n,open:o.isTrue,onClose:o.setFalse,anchorEl:e.current}),x.jsx(bUe,{})]}),x.jsx(i3e,{})]})}),l3e=mg(()=>{const{leftPanelMinimized:e,activeLeftPanelActiveView:t}=ba(),{vfs:r,schema:n}=dM();return x.jsxs(eR,{reverse:!0,width:240,minimized:e.isTrue,button:x.jsx(o3e,{}),children:[x.jsx(n3e,{}),x.jsx(Ca,{}),x.jsx(a3e,{}),x.jsx(Ca,{}),x.jsx(KUe,{m:r,hidden:t.current!=="files"}),x.jsx(MUe,{m:n,hidden:t.current!=="schema"})]})});function c3e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function u4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){c3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u3e(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function d3e(e,t){if(e==null)return{};var r=u3e(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h3e(e,t){return f3e(e)||p3e(e,t)||g3e(e,t)||m3e()}function f3e(e){if(Array.isArray(e))return e}function p3e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(c){o=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(o)throw i}}return r}}function g3e(e,t){if(e){if(typeof e=="string")return d4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d4(e,t)}}function d4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function f4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){v3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y3e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(o,i){return i(o)},n)}}function Nm(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(r,[].concat(o,a))}}}function fS(e){return{}.toString.call(e).includes("Object")}function b3e(e){return!Object.keys(e).length}function Bm(e){return typeof e=="function"}function w3e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S3e(e,t){return fS(t)||hu("changeType"),Object.keys(t).some(function(r){return!w3e(e,r)})&&hu("changeField"),t}function C3e(e){Bm(e)||hu("selectorType")}function x3e(e){Bm(e)||fS(e)||hu("handlerType"),fS(e)&&Object.values(e).some(function(t){return!Bm(t)})&&hu("handlersType")}function _3e(e){e||hu("initialIsRequired"),fS(e)||hu("initialType"),b3e(e)&&hu("initialContent")}function E3e(e,t){throw new Error(e[t]||e.default)}var T3e={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},hu=Nm(E3e)(T3e),pS={changes:S3e,selector:C3e,handler:x3e,initial:_3e};function M3e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pS.initial(e),pS.handler(t);var r={current:e},n=Nm(I3e)(r,t),o=Nm(R3e)(r),i=Nm(pS.changes)(e),s=Nm(O3e)(r);function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return pS.selector(d),d(r.current)}function c(d){y3e(n,o,i,s)(d)}return[a,c]}function O3e(e,t){return Bm(t)?t(e.current):t}function R3e(e,t){return e.current=f4(f4({},e.current),t),t}function I3e(e,t,r){return Bm(t)?t(e.current):Object.keys(r).forEach(function(n){var o;return(o=t[n])===null||o===void 0?void 0:o.call(t,e.current[n])}),r}var P3e={create:M3e},k3e={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function D3e(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(r,[].concat(o,a))}}}function A3e(e){return{}.toString.call(e).includes("Object")}function L3e(e){return e||g4("configIsRequired"),A3e(e)||g4("configType"),e.urls?(N3e(),{paths:{vs:e.urls.monacoBase}}):e}function N3e(){console.warn(p4.deprecation)}function B3e(e,t){throw new Error(e[t]||e.default)}var p4={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},g4=D3e(B3e)(p4),F3e={config:L3e},j3e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(o){return r.reduceRight(function(i,s){return s(i)},o)}};function m4(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],m4(e[r],t[r]))}),u4(u4({},e),t)}var V3e={type:"cancelation",msg:"operation is manually canceled"};function nI(e){var t=!1,r=new Promise(function(n,o){e.then(function(i){return t?o(V3e):n(i)}),e.catch(o)});return r.cancel=function(){return t=!0},r}var $3e=P3e.create({config:k3e,isInitialized:!1,resolve:null,reject:null,monaco:null}),v4=h3e($3e,2),Fm=v4[0],gS=v4[1];function z3e(e){var t=F3e.config(e),r=t.monaco,n=d3e(t,["monaco"]);gS(function(o){return{config:m4(o.config,n),monaco:r}})}function U3e(){var e=Fm(function(t){var r=t.monaco,n=t.isInitialized,o=t.resolve;return{monaco:r,isInitialized:n,resolve:o}});if(!e.isInitialized){if(gS({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),nI(oI);if(window.monaco&&window.monaco.editor)return y4(window.monaco),e.resolve(window.monaco),nI(oI);j3e(G3e,W3e)(K3e)}return nI(oI)}function G3e(e){return document.body.appendChild(e)}function H3e(e){var t=document.createElement("script");return e&&(t.src=e),t}function W3e(e){var t=Fm(function(n){var o=n.config,i=n.reject;return{config:o,reject:i}}),r=H3e("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function K3e(){var e=Fm(function(r){var n=r.config,o=r.resolve,i=r.reject;return{config:n,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){y4(r),e.resolve(r)},function(r){e.reject(r)})}function y4(e){Fm().monaco||gS({monaco:e})}function q3e(){return Fm(function(e){var t=e.monaco;return t})}var oI=new Promise(function(e,t){return gS({resolve:e,reject:t})}),b4={config:z3e,init:U3e,__getMonacoInstance:q3e},Y3e={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},iI=Y3e,X3e={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Z3e=X3e;function Q3e({children:e}){return vr.createElement("div",{style:Z3e.container},e)}var J3e=Q3e,e2e=J3e;function t2e({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:i,wrapperProps:s}){return vr.createElement("section",{style:{...iI.wrapper,width:e,height:t},...s},!r&&vr.createElement(e2e,null,n),vr.createElement("div",{ref:o,style:{...iI.fullWidth,...!r&&iI.hide},className:i}))}var r2e=t2e,w4=_.memo(r2e);function n2e(e){_.useEffect(e,[])}var S4=n2e;function o2e(e,t,r=!0){let n=_.useRef(!0);_.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var hs=o2e;function jm(){}function Pf(e,t,r,n){return i2e(e,n)||s2e(e,t,r,n)}function i2e(e,t){return e.editor.getModel(C4(e,t))}function s2e(e,t,r,n){return e.editor.createModel(t,r,n?C4(e,n):void 0)}function C4(e,t){return e.Uri.parse(t)}function a2e({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:h="Loading...",options:f={},height:g="100%",width:m="100%",className:y,wrapperProps:b={},beforeMount:v=jm,onMount:C=jm}){let[E,T]=_.useState(!1),[R,M]=_.useState(!0),I=_.useRef(null),N=_.useRef(null),P=_.useRef(null),L=_.useRef(C),D=_.useRef(v),$=_.useRef(!1);S4(()=>{let W=b4.init();return W.then(V=>(N.current=V)&&M(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>I.current?q():W.cancel()}),hs(()=>{if(I.current&&N.current){let W=I.current.getOriginalEditor(),V=Pf(N.current,e||"",n||r||"text",i||"");V!==W.getModel()&&W.setModel(V)}},[i],E),hs(()=>{if(I.current&&N.current){let W=I.current.getModifiedEditor(),V=Pf(N.current,t||"",o||r||"text",s||"");V!==W.getModel()&&W.setModel(V)}},[s],E),hs(()=>{let W=I.current.getModifiedEditor();W.getOption(N.current.editor.EditorOption.readOnly)?W.setValue(t||""):t!==W.getValue()&&(W.executeEdits("",[{range:W.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),W.pushUndoStop())},[t],E),hs(()=>{I.current?.getModel()?.original.setValue(e||"")},[e],E),hs(()=>{let{original:W,modified:V}=I.current.getModel();N.current.editor.setModelLanguage(W,n||r||"text"),N.current.editor.setModelLanguage(V,o||r||"text")},[r,n,o],E),hs(()=>{N.current?.editor.setTheme(d)},[d],E),hs(()=>{I.current?.updateOptions(f)},[f],E);let B=_.useCallback(()=>{if(!N.current)return;D.current(N.current);let W=Pf(N.current,e||"",n||r||"text",i||""),V=Pf(N.current,t||"",o||r||"text",s||"");I.current?.setModel({original:W,modified:V})},[r,t,o,e,n,i,s]),U=_.useCallback(()=>{!$.current&&P.current&&(I.current=N.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...f}),B(),N.current?.editor.setTheme(d),T(!0),$.current=!0)},[f,d,B]);_.useEffect(()=>{E&&L.current(I.current,N.current)},[E]),_.useEffect(()=>{!R&&!E&&U()},[R,E,U]);function q(){let W=I.current?.getModel();a||W?.original?.dispose(),c||W?.modified?.dispose(),I.current?.dispose()}return vr.createElement(w4,{width:m,height:g,isEditorReady:E,loading:h,_ref:P,className:y,wrapperProps:b})}var l2e=a2e;_.memo(l2e);function c2e(e){let t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}var u2e=c2e,mS=new Map;function d2e({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:i,theme:s="light",line:a,loading:c="Loading...",options:d={},overrideServices:h={},saveViewState:f=!0,keepCurrentModel:g=!1,width:m="100%",height:y="100%",className:b,wrapperProps:v={},beforeMount:C=jm,onMount:E=jm,onChange:T,onValidate:R=jm}){let[M,I]=_.useState(!1),[N,P]=_.useState(!0),L=_.useRef(null),D=_.useRef(null),$=_.useRef(null),B=_.useRef(E),U=_.useRef(C),q=_.useRef(),W=_.useRef(n),V=u2e(i),Y=_.useRef(!1),Q=_.useRef(!1);S4(()=>{let K=b4.init();return K.then(Z=>(L.current=Z)&&P(!1)).catch(Z=>Z?.type!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>D.current?z():K.cancel()}),hs(()=>{let K=Pf(L.current,e||n||"",t||o||"",i||r||"");K!==D.current?.getModel()&&(f&&mS.set(V,D.current?.saveViewState()),D.current?.setModel(K),f&&D.current?.restoreViewState(mS.get(i)))},[i],M),hs(()=>{D.current?.updateOptions(d)},[d],M),hs(()=>{!D.current||n===void 0||(D.current.getOption(L.current.editor.EditorOption.readOnly)?D.current.setValue(n):n!==D.current.getValue()&&(Q.current=!0,D.current.executeEdits("",[{range:D.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),D.current.pushUndoStop(),Q.current=!1))},[n],M),hs(()=>{let K=D.current?.getModel();K&&o&&L.current?.editor.setModelLanguage(K,o)},[o],M),hs(()=>{a!==void 0&&D.current?.revealLine(a)},[a],M),hs(()=>{L.current?.editor.setTheme(s)},[s],M);let re=_.useCallback(()=>{if(!(!$.current||!L.current)&&!Y.current){U.current(L.current);let K=i||r,Z=Pf(L.current,n||e||"",t||o||"",K||"");D.current=L.current?.editor.create($.current,{model:Z,automaticLayout:!0,...d},h),f&&D.current.restoreViewState(mS.get(K)),L.current.editor.setTheme(s),a!==void 0&&D.current.revealLine(a),I(!0),Y.current=!0}},[e,t,r,n,o,i,d,h,f,s,a]);_.useEffect(()=>{M&&B.current(D.current,L.current)},[M]),_.useEffect(()=>{!N&&!M&&re()},[N,M,re]),W.current=n,_.useEffect(()=>{M&&T&&(q.current?.dispose(),q.current=D.current?.onDidChangeModelContent(K=>{Q.current||T(D.current.getValue(),K)}))},[M,T]),_.useEffect(()=>{if(M){let K=L.current.editor.onDidChangeMarkers(Z=>{let le=D.current.getModel()?.uri;if(le&&Z.find(ce=>ce.path===le.path)){let ce=L.current.editor.getModelMarkers({resource:le});R?.(ce)}});return()=>{K?.dispose()}}return()=>{}},[M,R]);function z(){q.current?.dispose(),g?f&&mS.set(i,D.current.saveViewState()):D.current.getModel()?.dispose(),D.current.dispose()}return vr.createElement(w4,{width:m,height:y,isEditorReady:M,loading:c,_ref:$,className:b,wrapperProps:v})}var h2e=d2e,f2e=_.memo(h2e),p2e=f2e;class g2e extends Nt{constructor(){super(...arguments),this.beforeMount=t=>{t.languages.register({id:"stratumDSL"}),t.languages.setMonarchTokensProvider("stratumDSL",{defaultToken:"invalid",ignoreCase:!0,keywords:["HANDLE","STRING","FLOAT","COLORREF","local","if","else","while","exit","init","endif"],operators:[":=","==","!=","<","<=",">",">=","&&","||","!","+","-","*","/","%"],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],tokenizer:{root:[[/\b(?:HANDLE|STRING|FLOAT|COLORREF|local|if|else|while|exit|init|endif)\b/,"keyword"],[/\b\d+\.?\d*\b/,"number"],[/".*?"/,"string"],[/\/\*/,"comment","@comment"],[/\/\/.*/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[:=<>!\+\-\*\/&|]+/,"operator"],[/\b[A-Za-z_][A-Za-z0-9_]*(?=\s*\()/,"type.identifier"],[/\b[A-Za-z_][A-Za-z0-9_]*\b/,"identifier"]],comment:[[/.*?\*\//,"comment","@pop"],[/./,"comment"]]}})},this.onMount=(t,r)=>{t.onDidChangeCursorPosition(this.onDidChangeCursorPosition)},this.onDidChangeCursorPosition=t=>{const r=t.position.lineNumber,n=t.position.column;this.m.setCursorPosition(r,n)},this.onChange=(t="",r)=>{this.m.setCurrentText(t)},this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const r=t.value.slice(0,t.selectionStart).split(`
`),n=r.length,o=r[r.length-1].length+1;this.m.setCursorPosition(n,o)}}const m2e=Dt(g2e)(({vm:e})=>x.jsx(p2e,{defaultLanguage:"stratumDSL",defaultValue:e.defaultValue,onChange:e.onChange,beforeMount:e.beforeMount,onMount:e.onMount,options:{readOnly:e.readOnly,readOnlyMessage:{value:"Имидж доступен только для чтения"}}})),v2e=we("div",{name:"EPlayerDialogContent",slot:"windowContainer"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"scroll",position:"relative"});class y2e extends Nt{constructor(){super(),this.onCloseButtonClick=()=>{this.m.player?.close()},this.onPlayButtonClick=()=>{this.m.player?.continue()},this.onPauseButtonClick=()=>{this.m.player?.pause()},this.onStepButtonClick=()=>{this.m.player?.pause(),this.m.player?.step()},this.onMinimizeButtonClick=()=>{this.m.player?.minimize()}}get dialogOpen(){const{player:t}=this.m;return!!t&&!t.isMinimized}get iterationCount(){return this.m.player?.iterationCount||0}get iterationPerSecond(){return 60}get isPaused(){return this.m.player?.status==="paused"}}class b2e extends Nt{get image(){return this.m.imageData}get icon(){return this.m.icon}get canExpand(){return this.m.children.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children}}class w2e extends Nt{constructor(){super(),this.selectedItem=null,this.onExpandedItemsChange=(t,r)=>{if(t?.type==="keydown"&&t.key==="Enter"){const{expandedItems:n}=this;let o;r.length>n.length?o=r.find(i=>!n.includes(i)):o=n.find(i=>!r.includes(i)),o&&this.onSelectedItemChange(t,o);return}this.expandedItems=r},this.onSelectedItemChange=(t,r)=>{if(this.selectedItem=r,!r)return;this.getItemById(r)?.makeActive()},this.expandedItems=[this.m.itemId],vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,onSelectedItemChange:be})}getItemById(t){return(function r(n){if(n.itemId===t)return n;for(const o of n.children){const i=r(o);if(i)return i}return null})(this.m)}}function S2e(e,t){if(!e)return null;if(t===bt.HANDLE){const r=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(r)?null:"#"+Math.max(r,0)}return t!==bt.STRING&&(e=e.trim()),e||null}const C2e=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class x2e extends Nt{constructor(){super(),this.processRowUpdate=(t,r)=>{const{m:n}=this,o=S2e(t.value,t.type);if(o===r.value)return r;const i=n.vars.find(s=>s.id===t.id);return i?.setValue(o||"")?{...t,value:i.value}:r},vt(this,{processRowUpdate:be})}get columns(){return C2e}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}function _2e(e,t){if(!e)return null;if(t===bt.HANDLE){const r=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(r)?null:"#"+Math.max(r,0)}return t!==bt.STRING&&(e=e.trim()),e||null}const E2e=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class T2e extends Nt{constructor(){super(),this.processRowUpdate=(t,r)=>{const{m:n}=this,o=_2e(t.value,t.type);if(o===r.value)return r;const i=n.vars.find(s=>s.id===t.id);return i?.setValue(o||"")?{...t,value:i.value}:r},vt(this,{processRowUpdate:be})}get columns(){return E2e}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}const M2e=Dt(w2e)(({vm:e,m:t})=>x.jsx(r4,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:e4,collapseIcon:t4},onContextMenu:mw,children:x.jsx(x4,{m:t})})),x4=Dt(b2e)(({vm:e})=>{const{image:t}=e;return x.jsx(ru,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(hS,{sceneData:t}):x.jsx(rI,{icon:e.icon}),e.label]}),slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(O2e,{})})}),O2e=ko()(({vm:e})=>e.children.map(t=>x.jsx(x4,{m:t},t.itemId)));function Vm(e){const t=vPe(),r=_.useCallback((o,i)=>{if(o.isEditable&&!(i.target.nodeType===1&&!i.currentTarget.contains(i.target)))try{t.current?.startCellEditMode({id:o.id,field:o.field})}catch{}},[]),n=_.useCallback((o,i)=>{o.reason===Xs.enterKeyDown&&(i.defaultMuiPrevented=!0,t.current?.stopCellEditMode({id:o.id,field:o.field}))},[]);return x.jsx(oze,{...e,apiRef:t,onCellClick:r,onProcessRowUpdateError:console.error,onCellEditStop:n})}const R2e=Dt(x2e)(({vm:e})=>x.jsx(Vm,{sx:{flexGrow:6},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),I2e=Dt(T2e)(({vm:e})=>x.jsx(Vm,{sx:{flexGrow:1},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),P2e=_.forwardRef(function(t,r){return x.jsx(r_e,{direction:"up",ref:r,...t})}),k2e=Dt(y2e)(({m:e,vm:t})=>{const{player:r}=e,n=r?.rootSchema,o=r?.activeSchema;return x.jsxs(wO,{open:t.dialogOpen,TransitionComponent:P2e,keepMounted:!0,fullScreen:!0,children:[x.jsx(FSe,{position:"sticky",children:x.jsxs(M3,{children:[x.jsx(br,{edge:"start",color:"inherit",onClick:t.onCloseButtonClick,children:x.jsx(vw,{})}),t.isPaused?x.jsx(br,{edge:"start",color:"inherit",onClick:t.onPlayButtonClick,children:x.jsx(uMe,{})}):x.jsx(br,{edge:"start",color:"inherit",onClick:t.onPauseButtonClick,children:x.jsx(cMe,{})}),x.jsx(br,{edge:"start",color:"inherit",onClick:t.onStepButtonClick,children:x.jsx(SMe,{})}),x.jsx($i,{color:"inherit",onClick:t.onMinimizeButtonClick,children:"Свернуть"}),x.jsxs(mo,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Шагов: ",t.iterationCount," (",t.iterationPerSecond," в секунду)"]})]})}),x.jsxs(QO,{children:[n&&x.jsx(M2e,{m:n},n.itemId),x.jsx(v2e,{ref:e.mountRef}),x.jsxs(eR,{width:300,children:[r&&x.jsxs(x.Fragment,{children:["Отслеживаемые переменные:",x.jsx(I2e,{m:r.markedVars})]}),o&&x.jsxs(x.Fragment,{children:["Переменные схемы ",o.toString(),x.jsx(R2e,{m:o},o.itemId)]})]})]})]})}),D2e=Dt(cze)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(eUe,{label:"Имя имиджа",options:e.klassNameOptions,value:e.klassName,onChange:e.setKlassName,required:!0}),e.showOpenSchemaButton&&x.jsx(br,{onClick:e.onOpenSchemaButtonClick,children:x.jsx(lMe,{color:"info"})})]}),x.jsx(yo,{label:"Имя окна",value:e.windowName,onChange:e.setWindowName})]})),A2e=Dt(uze)(({vm:e})=>x.jsx(yo,{label:"Путь к проекту",value:e.projectPath,onChange:e.setProjectPath,required:!0})),L2e=Dt(dze)(({vm:e})=>x.jsx(Lm,{label:"Действие",options:e.options,value:e.actionType,onChange:e.setActionType})),N2e=Dt(hze)(({vm:e})=>x.jsx(yo,{label:"Команда",value:e.commandName,onChange:e.setCommandName,required:!0}));function B2e({mode:e}){switch(e){case Wv:return x.jsx(D2e,{});case NC:return x.jsx(A2e,{});case Kv:return x.jsx(L2e,{});case LC:return x.jsx(N2e,{})}return null}const F2e=Dt(fze)(({vm:e})=>{const{mode:t}=e,r=t>=0;return x.jsxs(x.Fragment,{children:[x.jsx(Lm,{label:"При нажатии на объект",options:e.modeOptions,value:e.mode,onChange:e.setMode}),r&&x.jsxs(x.Fragment,{children:[x.jsx(B2e,{mode:t}),x.jsx(yo,{label:"Доп. параметры",value:e.params,onChange:e.setParams}),x.jsx(yo,{label:"Получатель WM_HYPERJUMP",value:e.receiver,onChange:e.setReceiver}),x.jsx(ds,{label:"Активировать только через StdHyperJump",checked:e.disabled,onChange:e.setDisabled})]})]})}),j2e=["Выбран","Выбрано","Выбрано"],V2e=["объект","объекта","объектов"];function $2e({count:e}){return x.jsxs(mo,{children:[nk(e,j2e),x.jsx(cf,{color:"green",ml:"4px",mr:"4px",children:e}),nk(e,V2e)]})}function z2e(){const{rightPanelMinimized:e}=ba();return x.jsx(Tr,{title:"Скрыть панель настроек (Ctrl+P)",children:x.jsx(br,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx($3,{})})})}const U2e=Dt(Wze)(({vm:e})=>x.jsx(Tr,{title:"Открыть свойства (Space,Enter)",disableInteractive:!0,children:x.jsx(IRe,{onClick:e.onClick,children:x.jsx(RRe,{component:"span",color:"green",children:e.title})})})),G2e=Dt(Kze)(({vm:e})=>{const{hasScene:t}=e;return x.jsx(Tr,{title:`${t?"Открыть":"Создать"} схему (S)`,children:x.jsx(br,{onClick:e.onClick,children:x.jsx(B2,{visible:!t,children:x.jsx(yw,{})})})})}),H2e=Dt(qze)(({vm:e})=>x.jsx(Tr,{title:"Открыть код (D)",children:x.jsx(br,{onClick:e.onClick,children:x.jsx(B2,{visible:!e.hasCode,children:x.jsx(U3,{})})})})),W2e=Dt(Yze)(({vm:e})=>x.jsx(Tr,{title:"Удалить (Delete)",children:x.jsx(br,{onClick:e.onClick,sx:{ml:"auto"},children:x.jsx(BTe,{})})})),sI=ko()(({vm:e})=>{const{m:t,kind:r,selectionLength:n,klassCodeButtonModel:o,klassPropsButtonModel:i,klassSchemaButtonModel:s}=e;return x.jsxs(PRe,{children:[i&&x.jsx(U2e,{m:i}),n&&x.jsx($2e,{count:n}),r&&x.jsx(cf,{children:r}),t&&t.type!=="_pseudoGroup"&&x.jsxs(cf,{whiteSpace:"pre",ml:1,children:["#",t.key]}),x.jsxs(ti,{children:[s&&x.jsx(G2e,{m:s}),o&&x.jsx(H2e,{m:o}),t&&x.jsx(W2e,{m:t})]}),x.jsx(z2e,{})]})}),K2e=Dt(Xze)(({vm:e})=>x.jsxs(ti,{children:["Z-порядок:",x.jsxs(ti,{display:"flex",justifyContent:"center",children:[x.jsx(Tr,{title:"Вниз (Shift + ↓)",children:x.jsx(br,{onClick:e.onMoveToBottomButtonClick,size:"small",children:x.jsx(tMe,{})})}),x.jsx(Tr,{title:"Ниже (Shift + ←)",children:x.jsx(br,{onClick:e.onDecreaseZButtonClick,size:"small",children:x.jsx(JTe,{})})}),x.jsx(kRe,{value:e.value,size:"small",slotProps:{htmlInput:{tabIndex:-1}}}),x.jsx(Tr,{title:"Выше (Shift + →)",children:x.jsx(br,{onClick:e.onIncreaseZButtonClick,size:"small",children:x.jsx(eMe,{})})}),x.jsx(Tr,{title:"Наверх (Shift + ↑)",children:x.jsx(br,{onClick:e.onMoveToTopButtonClick,size:"small",children:x.jsx(rMe,{})})})]})]})),q2e=Dt(VRe)(({vm:e})=>x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"X",type:"number",value:e.x,onChange:e.setX}),x.jsx(yo,{label:"Y",type:"number",value:e.y,onChange:e.setY})]})),Y2e=Dt($Re)(({vm:e})=>x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"Ширина",type:"number",value:e.w,onChange:e.setW}),x.jsx(yo,{label:"Высота",type:"number",value:e.h,onChange:e.setH})]})),X2e=Dt(URe)(({vm:e})=>x.jsx(yo,{label:"Повернуть на",type:"number",onChange:e.setValue,value:"0"})),Z2e=Dt(zRe)(({vm:e})=>x.jsx(yo,{label:"Угол поворота",type:"number",value:e.value,onChange:e.setValue})),Q2e=Dt(GRe)(({vm:e})=>x.jsx(yo,{label:"Имя на сцене",value:e.value,onChange:e.setValue})),J2e=Dt(HRe)(({vm:e})=>x.jsx(ds,{label:"Невыбираемый объект (N)",checked:e.value,onChange:e.setValue})),eGe=Dt(WRe)(({vm:e})=>x.jsx(Lm,{label:"Слой",options:e.options,value:e.value,onChange:e.setValue})),_4=ko()(({vm:e,children:t})=>{const{m:r}=e;if(!r)return t;const n=r.type!=="_pseudoGroup";return x.jsxs(x.Fragment,{children:[r.canMove&&x.jsx(q2e,{m:r}),n&&x.jsxs(x.Fragment,{children:[r.canResize&&x.jsx(Y2e,{m:r}),r.canSetName&&x.jsx(Q2e,{m:r}),r.canRotate&&(r.hasAngle?x.jsx(Z2e,{m:r}):x.jsx(X2e,{m:r})),r.type!=="group"&&x.jsx(K2e,{m:r}),x.jsx(J2e,{m:r}),x.jsx(eGe,{m:r})]}),t,n&&r.canSetHyper&&x.jsx(F2e,{m:r})]})}),qd=ko()(({children:e})=>x.jsxs(x.Fragment,{children:[x.jsx(sI,{}),x.jsx(Ca,{}),x.jsx(nR,{children:x.jsx(_4,{children:e})})]})),aI=Dt(Gze)(({vm:e})=>x.jsx(Vm,{sx:{"& .mark-button-cell":{padding:0,paddingLeft:0,paddingRight:"20px",[`& .${ow.root}`]:{padding:0}}},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),tGe=Dt(aze)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsxs(qd,{children:[e.showUngroupButton&&x.jsx($i,{onClick:e.onUngroupButtonClick,fullWidth:!0,variant:"contained",color:"error",children:"Разгруппировать (U)"}),t&&x.jsx(aI,{m:t})]})});var rGe=Object.defineProperty,nGe=(e,t,r)=>t in e?rGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eo=(e,t,r)=>nGe(e,typeof t!="symbol"?t+"":t,r);const vS={x:0,y:0,width:0,height:0,unit:"px"},kf=(e,t,r)=>Math.min(Math.max(e,t),r),oGe=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),E4=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Df(e,t,r){return e.unit==="%"?{...vS,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/r*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/r*100:0}}function fu(e,t,r){return e.unit?e.unit==="px"?{...vS,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*r/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*r/100:0}:{...vS,...e,unit:"px"}}function T4(e,t,r,n,o,i=0,s=0,a=n,c=o){const d={...e};let h=Math.min(i,n),f=Math.min(s,o),g=Math.min(a,n),m=Math.min(c,o);t&&(t>1?(h=s?s*t:h,f=h/t,g=a*t):(f=i?i/t:f,h=f*t,m=c/t)),d.y<0&&(d.height=Math.max(d.height+d.y,f),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,h),d.x=0);const y=n-(d.x+d.width);y<0&&(d.x=Math.min(d.x,n-h),d.width+=y);const b=o-(d.y+d.height);if(b<0&&(d.y=Math.min(d.y,o-f),d.height+=b),d.width<h&&((r==="sw"||r=="nw")&&(d.x-=h-d.width),d.width=h),d.height<f&&((r==="nw"||r=="ne")&&(d.y-=f-d.height),d.height=f),d.width>g&&((r==="sw"||r=="nw")&&(d.x-=g-d.width),d.width=g),d.height>m&&((r==="nw"||r=="ne")&&(d.y-=m-d.height),d.height=m),t){const v=d.width/d.height;if(v<t){const C=Math.max(d.width/t,f);(r==="nw"||r=="ne")&&(d.y-=C-d.height),d.height=C}else if(v>t){const C=Math.max(d.height*t,h);(r==="sw"||r=="nw")&&(d.x-=C-d.width),d.width=C}}return d}function iGe(e,t,r,n){const o={...e};return t==="ArrowLeft"?n==="nw"?(o.x-=r,o.y-=r,o.width+=r,o.height+=r):n==="w"?(o.x-=r,o.width+=r):n==="sw"?(o.x-=r,o.width+=r,o.height+=r):n==="ne"?(o.y+=r,o.width-=r,o.height-=r):n==="e"?o.width-=r:n==="se"&&(o.width-=r,o.height-=r):t==="ArrowRight"&&(n==="nw"?(o.x+=r,o.y+=r,o.width-=r,o.height-=r):n==="w"?(o.x+=r,o.width-=r):n==="sw"?(o.x+=r,o.width-=r,o.height-=r):n==="ne"?(o.y-=r,o.width+=r,o.height+=r):n==="e"?o.width+=r:n==="se"&&(o.width+=r,o.height+=r)),t==="ArrowUp"?n==="nw"?(o.x-=r,o.y-=r,o.width+=r,o.height+=r):n==="n"?(o.y-=r,o.height+=r):n==="ne"?(o.y-=r,o.width+=r,o.height+=r):n==="sw"?(o.x+=r,o.width-=r,o.height-=r):n==="s"?o.height-=r:n==="se"&&(o.width-=r,o.height-=r):t==="ArrowDown"&&(n==="nw"?(o.x+=r,o.y+=r,o.width-=r,o.height-=r):n==="n"?(o.y+=r,o.height-=r):n==="ne"?(o.y+=r,o.width-=r,o.height-=r):n==="sw"?(o.x-=r,o.width+=r,o.height+=r):n==="s"?o.height+=r:n==="se"&&(o.width+=r,o.height+=r)),o}const Af={capture:!0,passive:!1};let sGe=0;const pu=class Va extends _.PureComponent{constructor(){super(...arguments),eo(this,"docMoveBound",!1),eo(this,"mouseDownOnCrop",!1),eo(this,"dragStarted",!1),eo(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),eo(this,"componentRef",_.createRef()),eo(this,"mediaRef",_.createRef()),eo(this,"resizeObserver"),eo(this,"initChangeCalled",!1),eo(this,"instanceId",`rc-${sGe++}`),eo(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),eo(this,"onCropPointerDown",t=>{const{crop:r,disabled:n}=this.props,o=this.getBox();if(!r)return;const i=fu(r,o.width,o.height);if(n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=t.target.dataset.ord,a=!!s;let c=t.clientX,d=t.clientY,h=i.x,f=i.y;if(s){const g=t.clientX-o.x,m=t.clientY-o.y;let y=0,b=0;s==="ne"||s=="e"?(y=g-(i.x+i.width),b=m-i.y,h=i.x,f=i.y+i.height):s==="se"||s==="s"?(y=g-(i.x+i.width),b=m-(i.y+i.height),h=i.x,f=i.y):s==="sw"||s=="w"?(y=g-i.x,b=m-(i.y+i.height),h=i.x+i.width,f=i.y):(s==="nw"||s=="n")&&(y=g-i.x,b=m-i.y,h=i.x+i.width,f=i.y+i.height),c=h+o.x+y,d=f+o.y+b}this.evData={startClientX:c,startClientY:d,startCropX:h,startCropY:f,clientX:t.clientX,clientY:t.clientY,isResize:a,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),eo(this,"onComponentPointerDown",t=>{const{crop:r,disabled:n,locked:o,keepSelection:i,onChange:s}=this.props,a=this.getBox();if(n||o||i&&r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-a.x,d=t.clientY-a.y,h={unit:"px",x:c,y:d,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:d,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(fu(h,a.width,a.height),Df(h,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),eo(this,"onDocPointerMove",t=>{const{crop:r,disabled:n,onChange:o,onDragStart:i}=this.props,s=this.getBox();if(n||!r||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:a}=this;a.clientX=t.clientX,a.clientY=t.clientY;let c;a.isResize?c=this.resizeCrop():c=this.dragCrop(),E4(r,c)||o(fu(c,s.width,s.height),Df(c,s.width,s.height))}),eo(this,"onComponentKeyDown",t=>{const{crop:r,disabled:n,onChange:o,onComplete:i}=this.props;if(n)return;const s=t.key;let a=!1;if(!r)return;const c=this.getBox(),d=this.makePixelCrop(c),h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Va.nudgeStepLarge:t.shiftKey?Va.nudgeStepMedium:Va.nudgeStep;if(s==="ArrowLeft"?(d.x-=h,a=!0):s==="ArrowRight"?(d.x+=h,a=!0):s==="ArrowUp"?(d.y-=h,a=!0):s==="ArrowDown"&&(d.y+=h,a=!0),a){t.cancelable&&t.preventDefault(),d.x=kf(d.x,0,c.width-d.width),d.y=kf(d.y,0,c.height-d.height);const f=fu(d,c.width,c.height),g=Df(d,c.width,c.height);o(f,g),i&&i(f,g)}}),eo(this,"onHandlerKeyDown",(t,r)=>{const{aspect:n=0,crop:o,disabled:i,minWidth:s=0,minHeight:a=0,maxWidth:c,maxHeight:d,onChange:h,onComplete:f}=this.props,g=this.getBox();if(i||!o)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Va.nudgeStepLarge:t.shiftKey?Va.nudgeStepMedium:Va.nudgeStep,y=fu(o,g.width,g.height),b=iGe(y,t.key,m,r),v=T4(b,n,r,g.width,g.height,s,a,c,d);if(!E4(o,v)){const C=Df(v,g.width,g.height);h(v,C),f&&f(v,C)}}),eo(this,"onDocPointerDone",t=>{const{crop:r,disabled:n,onComplete:o,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(n||!r)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),o&&o(fu(r,s.width,s.height),Df(r,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),eo(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:r,y:n,width:o,height:i}=t.getBoundingClientRect();return{x:r,y:n,width:o,height:i}}componentDidUpdate(t){const{crop:r,onComplete:n}=this.props;if(n&&!t.crop&&r){const{width:o,height:i}=this.getBox();o&&i&&n(fu(r,o,i),Df(r,o,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Af),this.document.addEventListener("pointerup",this.onDocPointerDone,Af),this.document.addEventListener("pointercancel",this.onDocPointerDone,Af),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Af),this.document.removeEventListener("pointerup",this.onDocPointerDone,Af),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Af),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,r=this.getBox(),n=this.makePixelCrop(r),o=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return n.x=kf(t.startCropX+o,0,r.width-n.width),n.y=kf(t.startCropY+i,0,r.height-n.height),n}getPointRegion(t,r,n,o){const{evData:i}=this,s=i.clientX-t.x,a=i.clientY-t.y;let c;o&&r?c=r==="nw"||r==="n"||r==="ne":c=a<i.startCropY;let d;return n&&r?d=r==="nw"||r==="w"||r==="sw":d=s<i.startCropX,d?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,r,n=0,o=0){const i=Math.min(n,t.width),s=Math.min(o,t.height);return!r||!i&&!s?[i,s]:r>1?i?[i,i/r]:[s*r,s]:s?[s*r,s]:[i,i/r]}resizeCrop(){const{evData:t}=this,{aspect:r=0,maxWidth:n,maxHeight:o}=this.props,i=this.getBox(),[s,a]=this.resolveMinDimensions(i,r,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const d=this.getPointRegion(i,t.ord,s,a),h=t.ord||d;let f=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(s&&h==="nw"||h==="w"||h==="sw")&&(f=Math.min(f,-s)),(a&&h==="nw"||h==="n"||h==="ne")&&(g=Math.min(g,-a));const m={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(m.x=t.startCropX,m.width=f,r?(m.height=m.width/r,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY-m.height)):d==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=f,r?m.height=m.width/r:m.height=g):d==="sw"?(m.x=t.startCropX+f,m.y=t.startCropY,m.width=Math.abs(f),r?m.height=m.width/r:m.height=g):d==="nw"&&(m.x=t.startCropX+f,m.width=Math.abs(f),r?(m.height=m.width/r,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY+g));const y=T4(m,r,d,i.width,i.height,s,a,n,o);return r||Va.xyOrds.indexOf(h)>-1?c=y:Va.xOrds.indexOf(h)>-1?(c.x=y.x,c.width=y.width):Va.yOrds.indexOf(h)>-1&&(c.y=y.y,c.height=y.height),c.x=kf(c.x,0,i.width-c.width),c.y=kf(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:t=Va.defaultProps.ariaLabels,disabled:r,locked:n,renderSelectionAddon:o,ruleOfThirds:i,crop:s}=this.props,a=this.getCropStyle();if(s)return vr.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!r&&!n&&vr.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},vr.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),vr.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),vr.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),vr.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),vr.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),o&&vr.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},o(this.state)),i&&vr.createElement(vr.Fragment,null,vr.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),vr.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const r={...vS,...this.props.crop||{}};return fu(r,t.width,t.height)}render(){const{aspect:t,children:r,circularCrop:n,className:o,crop:i,disabled:s,locked:a,style:c,ruleOfThirds:d}=this.props,{cropIsActive:h,newCropIsBeingDrawn:f}=this.state,g=i?this.renderCropSelection():null,m=oGe("ReactCrop",o,h&&"ReactCrop--active",s&&"ReactCrop--disabled",a&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return vr.createElement("div",{ref:this.componentRef,className:m,style:c},vr.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},r),i?vr.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},vr.createElement("defs",null,vr.createElement("mask",{id:`hole-${this.instanceId}`},vr.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?vr.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):vr.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),vr.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};eo(pu,"xOrds",["e","w"]),eo(pu,"yOrds",["n","s"]),eo(pu,"xyOrds",["nw","ne","se","sw"]),eo(pu,"nudgeStep",1),eo(pu,"nudgeStepMedium",10),eo(pu,"nudgeStepLarge",100),eo(pu,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let M4=pu;const aGe=Dt(gze)(({vm:e})=>x.jsxs(ti,{display:"flex",flexDirection:"column",children:[x.jsx(cf,{noWrap:!0,children:e.imageInfo}),x.jsx(ti,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(M4,{crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,className:"ReactCrop--no-animate",style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),lGe=Dt(mze)(({vm:e})=>{const{isPad:t,schemaValuesModel:r}=e;return x.jsxs(qd,{children:[!t&&x.jsx(aGe,{}),r&&x.jsx(aI,{m:r})]})}),cGe=Dt(vze)(({vm:e})=>x.jsx(qd,{children:x.jsx(yo,{label:"Текст",value:e.value,onChange:e.setValue})})),uGe=Dt(Sze)(({vm:e})=>x.jsxs(ti,{display:"flex",flexDirection:"column",children:[x.jsx(cf,{noWrap:!0,children:e.iconAtlas.toUpperCase()}),x.jsx(ti,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(M4,{disabled:e.disabled,locked:!0,className:"ReactCrop--no-animate",crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),dGe=Dt(wze)(({vm:e})=>{const t=e.isPropsChangeDisabled;return x.jsxs(qd,{children:[x.jsxs(mo,{children:["Создан: ",e.date]}),x.jsx(yo,{label:"Имя",value:e.klassName,onChange:e.setKlassName,required:!0,disabled:t}),x.jsx(ds,{label:"Всегда использовать иконку",checked:e.forceUseIcon,onChange:e.setForceUseIcon,disabled:t}),x.jsx(ds,{label:"Можно менять размер",checked:e.canChangeSize,onChange:e.setCanChangeSize,disabled:t}),x.jsx(uGe,{m:e.klass})]})}),hGe=ko()(({vm:e})=>{const t=!e.canAddRow;let r=x.jsx(br,{color:"primary",onClick:e.addRow,disabled:t,children:x.jsx(VO,{})});return t?r=x.jsx(Tr,{title:"Нет переменных общего типа",children:x.jsx("span",{children:r})}):r=x.jsx(Tr,{title:"Добавить связку переменных (A)",children:r}),x.jsxs(yNe,{sx:{flexWrap:"nowrap"},children:[r,x.jsx(ds,{checked:e.enabled,onChange:e.setEnabled,title:"Связь активна?"}),e.props.toolbar]})}),fGe=Dt(sze)(({vm:e})=>x.jsx(Vm,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,isCellEditable:e.isCellEditable,localeText:{noRowsLabel:"Нет соединенных переменных"},slotProps:{noRowsOverlay:void 0},slots:{noRowsOverlay:rRe,toolbar:hGe},disableColumnMenu:!0,disableColumnSorting:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),pGe=Dt(jze)(({vm:e})=>x.jsx(Vm,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),O4=Dt(Dze)(({vm:e})=>x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"Угол",type:"number",value:e.angle,onChange:e.setAngle}),x.jsx(yo,{label:"Длина",type:"number",value:e.length,onChange:e.setLength}),x.jsx(Tr,{title:"Заливка",children:x.jsx(ds,{checked:e.fill,onChange:e.setFill,icon:x.jsx(W3,{}),checkedIcon:x.jsx(W3,{})})}),x.jsx(Tr,{title:"Удалить стрелку",children:x.jsx(br,{onClick:e.onRemoveButtonClick,sx:{flexGrow:0},children:x.jsx(vw,{})})})]})),R4=Dt(Aze)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsx(yo,{label:"Цвет",value:e.getColor,onChange:e.setColor,type:"color",immediate:!0}),x.jsx(yo,{label:"Толщина",value:e.width,onChange:e.setWidth,type:"number"})]})),gGe=Dt(Lze)(({vm:e})=>{const{image:t}=e;return x.jsxs(NRe,{onClick:e.onClick,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop,dashed:e.dashed,children:[x.jsx(BRe,{ref:e.inputRef,onChange:e.onChange,type:"file",accept:"image/*",tabIndex:-1}),t?x.jsx(FRe,{src:Zi(t.src)}):x.jsx(jRe,{})]})}),mGe=Dt(Nze)(({vm:e})=>{const{isPattern:t}=e;return t?x.jsx(gGe,{m:e.m}):x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"Цвет",type:"color",value:e.getColor,onChange:e.setColor,immediate:!0}),x.jsx(ds,{label:"Смешивание",checked:e.mix,onChange:e.setMix})]})}),vGe=Dt(Bze)(({vm:e})=>{const{mode:t,schemaConnection:r,canAddPen:n,pen:o,canAddBrush:i,brush:s}=e,a=!r&&o,c=x.jsxs(L3,{value:t,onChange:e.onPointsModeChange,children:[x.jsx(BO,{value:"props",label:"Свойства"}),x.jsx(BO,{value:"points",label:"Точки"})]});return t==="points"?x.jsxs(x.Fragment,{children:[x.jsx(sI,{}),x.jsx(Ca,{}),x.jsxs(nR,{children:[c,x.jsx(pGe,{m:e.m})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(sI,{}),x.jsx(Ca,{}),x.jsxs(nR,{children:[c,x.jsxs(_4,{children:[n&&x.jsx(Lm,{label:"Обводка",options:e.penVariantOptions,value:e.penVariant,onChange:e.setPenVariant}),a&&x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(R4,{m:o}),!e.hasStartArrow&&x.jsx(Tr,{title:"Добавить стрелку в начале",children:x.jsx(br,{onClick:e.onAddStartArrowButtonClick,children:x.jsx(Gg,{badgeContent:"+",children:x.jsx(TMe,{})})})}),!e.hasEndArrow&&x.jsx(Tr,{title:"Добавить стрелку в конце",children:x.jsx(br,{onClick:e.onAddEndArrowButtonClick,children:x.jsx(Gg,{badgeContent:"+",children:x.jsx(VTe,{})})})})]}),a&&e.hasStartArrow&&x.jsx(O4,{m:e.m,arrow:"start"}),a&&e.hasEndArrow&&x.jsx(O4,{m:e.m,arrow:"end"}),i&&x.jsx(Lm,{label:"Заливка",options:e.brushVariantOptions,value:e.brushVariant,onChange:e.setBrushVariant}),s&&x.jsx(mGe,{m:s}),r&&x.jsx(fGe,{m:r,sceneConnection:e.sceneConnection,toolbar:o&&x.jsx(R4,{m:o})})]})]})]})}),yGe=Dt(Vze)(({vm:e})=>x.jsxs(qd,{children:[e.showCreateGroupButton&&x.jsx($i,{onClick:e.onCreateGroupButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать группу (G)"}),e.showCreateConnectionButton&&x.jsx($i,{onClick:e.onCreateConnectionButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать связь (C)"})]})),bGe=Dt($ze)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsx(qd,{children:t&&x.jsx(aI,{m:t})})}),wGe=Dt(Hze)(({vm:e})=>x.jsx(qd,{children:x.jsx($i,{onClick:e.onOpenTextEditorButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Открыть редактор текста (E)"})})),SGe=ko()(({vm:e})=>{const{selectedObject:t,m:r}=e;if(!t)switch(r.type){case"schemaEditor":return x.jsx(bGe,{m:null});case"klassPropsEditor":return x.jsx(dGe,{m:null});case"fileSceneEditor":return null}if(t.type==="_pseudoGroup")return x.jsx(yGe,{m:t});const{key:n}=t;switch(t.type){case"line":return x.jsx(vGe,{m:t},n);case"imageView":return x.jsx(lGe,{m:t},n);case"textView":return x.jsx(wGe,{m:t},n);case"input":return x.jsx(cGe,{m:t},n);case"group":return x.jsx(tGe,{m:t},n);case"videoView":return null}});function CGe(){const{rightPanelMinimized:e}=ba();return x.jsx(Tr,{title:"Показать панель настроек (Ctrl+P)",followCursor:!0,placement:"left",children:x.jsx(I2,{onClick:e.setFalse,size:"small",children:x.jsx(V3,{})})})}const xGe=mg(()=>{const{rightPanelMinimized:e}=ba();return x.jsx(eR,{width:300,minimized:e.isTrue,button:x.jsx(CGe,{}),children:x.jsx(SGe,{})})}),_Ge=[{value:"BOLD",title:"Жирный (Ctrl+B)",children:x.jsx(GTe,{})},{value:"ITALIC",title:"Курсив (Ctrl+I)",children:x.jsx(HTe,{})},{value:"UNDERLINE",title:"Подчеркнутый (Ctrl+U)",children:x.jsx(qTe,{})},{value:"STRIKETHROUGH",title:"Зачеркнутый (Ctrl+S)",children:x.jsx(KTe,{})}].map(e=>x.jsx(jO,{...e},e.value)),EGe=ko()(({vm:e})=>x.jsxs(u1e,{direction:"row",gap:1,alignItems:"center",padding:"4px",divider:x.jsx(Rw,{}),children:[x.jsx(F3,{onPointerDown:mw,value:e.fontStyles,onChange:e.onFontStylesChange,children:_Ge}),x.jsx(yo,{type:"number",label:"Размер",value:e.fontSizeValue,onChange:e.onFontSizeChange}),x.jsx(yo,{type:"color",label:"Цвет",value:e.colorValue,onChange:e.onColorChange}),x.jsx(lw,{fullWidth:!0,children:x.jsx(ul,{select:!0,size:"small",label:"Шрифт",value:e.fontValue,onChange:e.onFontChange,children:e.availableFonts.map(t=>x.jsx(zi,{value:t,children:t},t))})})]})),TGe=ko()(({vm:e})=>x.jsx(Ls.Editor,{ref:e.ref,editorState:e.editorState,onChange:e.onEditorChange,handleKeyCommand:e.handleKeyCommand,customStyleFn:e.customStyleFn,keyBindingFn:e.keyBindingFn,preserveSelectionOnBlur:!0,spellCheck:!0},e.randomKey)),MGe=Dt(Zze)(({vm:e})=>{const t=N$();return x.jsxs(wO,{ref:t,open:e.dialogOpen,fullWidth:!0,maxWidth:"xl",children:[x.jsx(Yxe,{children:"Редактирование текста"}),x.jsx(Ca,{}),x.jsx(EGe,{}),x.jsx(Ca,{}),x.jsx(ARe,{children:x.jsx(TGe,{})}),x.jsx(Ca,{}),x.jsxs(t3,{children:[x.jsx($i,{variant:"contained",onClick:e.onApplyButtonClick,children:"Применить"}),x.jsx($i,{variant:"outlined",onClick:e.onCancelButtonClick,children:"Отменить"})]})]})}),OGe=Dt(Qze)(({vm:e})=>{const{textEditor:t}=e;return x.jsxs(x.Fragment,{children:[t&&x.jsx(MGe,{m:t}),x.jsxs(QO,{children:[x.jsx(DRe,{ref:e.viewMountRef}),x.jsx(Rw,{}),x.jsx(xGe,{})]})]})});function RGe(){const e=_.useRef(null);return _.useEffect(()=>{const t=e.current;if(!t)return;const r=requestAnimationFrame(()=>t.focus());return()=>{cancelAnimationFrame(r)}},[e.current]),e}class IGe extends Nt{constructor(){super(...arguments),this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t),this.onChange=t=>this.m.setCurrentText(t.currentTarget.value)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const r=t.value.slice(0,t.selectionStart).split(`
`),n=r.length,o=r[r.length-1].length+1;this.m.setCursorPosition(n,o)}}const PGe=Dt(IGe)(({vm:e})=>{const t=RGe();return x.jsx(aRe,{ref:t,defaultValue:e.defaultValue,readOnly:e.readOnly,onChange:e.onChange,onKeyUp:e.onKeyUp,onClick:e.onClick,spellCheck:!0})}),kGe=Dt(xRe)(({vm:e})=>{const{activeEditor:t}=e;if(!t)return null;switch(t.type){case"fileSceneEditor":case"klassPropsEditor":case"schemaEditor":return x.jsx(OGe,{m:t},t._reactKey);case"codeEditor":return x.jsx(m2e,{m:t},t._reactKey);case"textEditor":return x.jsx(PGe,{m:t},t._reactKey)}}),DGe=Dt(_Re)(({m:e})=>{const{tabs:t,player:r}=e;return x.jsxs(fve,{project:e,children:[x.jsx(k2e,{m:r}),x.jsxs(QO,{children:[x.jsx(l3e,{}),x.jsx(Rw,{}),x.jsxs(JO,{children:[x.jsxs(JO,{children:[x.jsx(gUe,{m:t}),x.jsx(Ca,{}),x.jsx(kGe,{m:t})]}),x.jsx(Ca,{}),x.jsx(sUe,{m:t})]})]})]})});class AGe extends Nt{constructor(t){super(),this.ctx=t,this.onModalClose=(r,n)=>{this.ctx.app.subProjectSelectorVisible.setFalse()},vt(this,{onModalClose:be})}get isModalOpen(){return this.ctx.app.subProjectSelectorVisible.isTrue}}const LGe=Dt(AGe)(({vm:e})=>x.jsx(sw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:nw},slotProps:{backdrop:{timeout:500}},children:x.jsx(Ug,{in:e.isModalOpen,children:x.jsx(P2,{children:x.jsx(k2,{children:x.jsx(N2,{m:e.m})})})})})),NGe=Dt(pve)(({m:e})=>{const{currentProject:t,ctxMenu:r,accountSettings:n,loginFormVisible:o,loadingMessage:i,subProjectSelector:s}=e;return x.jsxs(hve,{app:e,children:[x.jsx(CRe,{}),x.jsx(LGe,{m:s}),x.jsx(OMe,{m:n,open:o.isTrue}),x.jsx(xTe,{m:r}),t&&x.jsx(DGe,{m:t},t.id),i&&x.jsxs("h3",{children:[i,"..."]})]})});var lI={exports:{}},$m={},cI={exports:{}},uI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function BGe(){return I4||(I4=1,(function(e){function t(V,Y){var Q=V.length;V.push(Y);e:for(;0<Q;){var re=Q-1>>>1,z=V[re];if(0<o(z,Y))V[re]=Y,V[Q]=z,Q=re;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var Y=V[0],Q=V.pop();if(Q!==Y){V[0]=Q;e:for(var re=0,z=V.length,K=z>>>1;re<K;){var Z=2*(re+1)-1,le=V[Z],ce=Z+1,ue=V[ce];if(0>o(le,Q))ce<z&&0>o(ue,le)?(V[re]=ue,V[ce]=Q,re=ce):(V[re]=le,V[Z]=Q,re=Z);else if(ce<z&&0>o(ue,Q))V[re]=ue,V[ce]=Q,re=ce;else break e}}return Y}function o(V,Y){var Q=V.sortIndex-Y.sortIndex;return Q!==0?Q:V.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],d=[],h=1,f=null,g=3,m=!1,y=!1,b=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var Y=r(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=V)n(d),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=r(d)}}function M(V){if(b=!1,R(V),!y)if(r(c)!==null)y=!0,I||(I=!0,B());else{var Y=r(d);Y!==null&&W(M,Y.startTime-V)}}var I=!1,N=-1,P=5,L=-1;function D(){return v?!0:!(e.unstable_now()-L<P)}function $(){if(v=!1,I){var V=e.unstable_now();L=V;var Y=!0;try{e:{y=!1,b&&(b=!1,E(N),N=-1),m=!0;var Q=g;try{t:{for(R(V),f=r(c);f!==null&&!(f.expirationTime>V&&D());){var re=f.callback;if(typeof re=="function"){f.callback=null,g=f.priorityLevel;var z=re(f.expirationTime<=V);if(V=e.unstable_now(),typeof z=="function"){f.callback=z,R(V),Y=!0;break t}f===r(c)&&n(c),R(V)}else n(c);f=r(c)}if(f!==null)Y=!0;else{var K=r(d);K!==null&&W(M,K.startTime-V),Y=!1}}break e}finally{f=null,g=Q,m=!1}Y=void 0}}finally{Y?B():I=!1}}}var B;if(typeof T=="function")B=function(){T($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=$,B=function(){q.postMessage(null)}}else B=function(){C($,0)};function W(V,Y){N=C(function(){V(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var Q=g;g=Y;try{return V()}finally{g=Q}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=g;g=V;try{return Y()}finally{g=Q}},e.unstable_scheduleCallback=function(V,Y,Q){var re=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Q+z,V={id:h++,callback:Y,priorityLevel:V,startTime:Q,expirationTime:z,sortIndex:-1},Q>re?(V.sortIndex=Q,t(d,V),r(c)===null&&V===r(d)&&(b?(E(N),N=-1):b=!0,W(M,Q-re))):(V.sortIndex=z,t(c,V),y||m||(y=!0,I||(I=!0,B()))),V},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(V){var Y=g;return function(){var Q=g;g=Y;try{return V.apply(this,arguments)}finally{g=Q}}}})(uI)),uI}var P4;function FGe(){return P4||(P4=1,cI.exports=BGe()),cI.exports}var k4;function jGe(){if(k4)return $m;k4=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=FGe(),t=di(),r=tT();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(i(l)!==l)throw Error(n(188))}function c(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,w=u;;){var O=p.return;if(O===null)break;var j=O.alternate;if(j===null){if(w=O.return,w!==null){p=w;continue}break}if(O.child===j.child){for(j=O.child;j;){if(j===p)return a(O),l;if(j===w)return a(O),u;j=j.sibling}throw Error(n(188))}if(p.return!==w.return)p=O,w=j;else{for(var J=!1,se=O.child;se;){if(se===p){J=!0,p=O,w=j;break}if(se===w){J=!0,w=O,p=j;break}se=se.sibling}if(!J){for(se=j.child;se;){if(se===p){J=!0,p=j,w=O;break}if(se===w){J=!0,w=j,p=O;break}se=se.sibling}if(!J)throw Error(n(189))}}if(p.alternate!==w)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var U=Symbol.for("react.client.reference");function q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===U?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case m:return"Portal";case T:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case R:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return u=l.displayName||null,u!==null?u:q(l.type)||"Memo";case P:u=l._payload,l=l._init;try{return q(l(u))}catch{}}return null}var W=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},re=[],z=-1;function K(l){return{current:l}}function Z(l){0>z||(l.current=re[z],re[z]=null,z--)}function le(l,u){z++,re[z]=l.current,l.current=u}var ce=K(null),ue=K(null),ae=K(null),ye=K(null);function Me(l,u){switch(le(ae,u),le(ue,l),le(ce,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?eK(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=eK(u),l=tK(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Z(ce),le(ce,l)}function xe(){Z(ce),Z(ue),Z(ae)}function he(l){l.memoizedState!==null&&le(ye,l);var u=ce.current,p=tK(u,l.type);u!==p&&(le(ue,l),le(ce,p))}function pe(l){ue.current===l&&(Z(ce),Z(ue)),ye.current===l&&(Z(ye),Pv._currentValue=Q)}var Se=Object.prototype.hasOwnProperty,Ee=e.unstable_scheduleCallback,ke=e.unstable_cancelCallback,Te=e.unstable_shouldYield,Ve=e.unstable_requestPaint,nt=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,Rt=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,Ct=e.unstable_NormalPriority,$e=e.unstable_LowPriority,It=e.unstable_IdlePriority,mt=e.log,Bt=e.unstable_setDisableYieldValue,zt=null,qt=null;function tr(l){if(typeof mt=="function"&&Bt(l),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(zt,l)}catch{}}var gt=Math.clz32?Math.clz32:ct,_t=Math.log,He=Math.LN2;function ct(l){return l>>>=0,l===0?32:31-(_t(l)/He|0)|0}var ut=256,St=4194304;function at(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function At(l,u,p){var w=l.pendingLanes;if(w===0)return 0;var O=0,j=l.suspendedLanes,J=l.pingedLanes;l=l.warmLanes;var se=w&134217727;return se!==0?(w=se&~j,w!==0?O=at(w):(J&=se,J!==0?O=at(J):p||(p=se&~l,p!==0&&(O=at(p))))):(se=w&~j,se!==0?O=at(se):J!==0?O=at(J):p||(p=w&~l,p!==0&&(O=at(p)))),O===0?0:u!==0&&u!==O&&(u&j)===0&&(j=O&-O,p=u&-u,j>=p||j===32&&(p&4194048)!==0)?u:O}function ft(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Pt(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(){var l=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),l}function Dr(){var l=St;return St<<=1,(St&62914560)===0&&(St=4194304),l}function un(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function xr(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Tn(l,u,p,w,O,j){var J=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var se=l.entanglements,ve=l.expirationTimes,Be=l.hiddenUpdates;for(p=J&~p;0<p;){var tt=31-gt(p),lt=1<<tt;se[tt]=0,ve[tt]=-1;var ze=Be[tt];if(ze!==null)for(Be[tt]=null,tt=0;tt<ze.length;tt++){var Ge=ze[tt];Ge!==null&&(Ge.lane&=-536870913)}p&=~lt}w!==0&&qr(l,w,0),j!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=j&~(J&~u))}function qr(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var w=31-gt(u);l.entangledLanes|=u,l.entanglements[w]=l.entanglements[w]|1073741824|p&4194090}function Bn(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var w=31-gt(p),O=1<<w;O&u|l[w]&u&&(l[w]|=u),p&=~O}}function Fn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function sr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Ar(){var l=Y.p;return l!==0?l:(l=window.event,l===void 0?32:wK(l.type))}function Lt(l,u){var p=Y.p;try{return Y.p=l,u()}finally{Y.p=p}}var Ft=Math.random().toString(36).slice(2),nr="__reactFiber$"+Ft,rr="__reactProps$"+Ft,Or="__reactContainer$"+Ft,uo="__reactEvents$"+Ft,Bo="__reactListeners$"+Ft,ri="__reactHandles$"+Ft,Oi="__reactResources$"+Ft,Gn="__reactMarker$"+Ft;function Dn(l){delete l[nr],delete l[rr],delete l[uo],delete l[Bo],delete l[ri]}function gn(l){var u=l[nr];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Or]||p[nr]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=iK(l);l!==null;){if(p=l[nr])return p;l=iK(l)}return u}l=p,p=l.parentNode}return null}function bo(l){if(l=l[nr]||l[Or]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Ri(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function Mn(l){var u=l[Oi];return u||(u=l[Oi]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function or(l){l[Gn]=!0}var Xe=new Set,Ze={};function st(l,u){Qt(l,u),Qt(l+"Capture",u)}function Qt(l,u){for(Ze[l]=u,l=0;l<u.length;l++)Xe.add(u[l])}var cr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mn={},Yr={};function Hn(l){return Se.call(Yr,l)?!0:Se.call(mn,l)?!1:cr.test(l)?Yr[l]=!0:(mn[l]=!0,!1)}function Ii(l,u,p){if(Hn(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var w=u.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function fs(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function ni(l,u,p,w){if(w===null)l.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+w)}}var ra,Pr;function On(l){if(ra===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ra=u&&u[1]||"",Pr=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+l+Pr}var oi=!1;function Pi(l,u){if(!l||oi)return"";oi=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(u){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Ge){var ze=Ge}Reflect.construct(l,[],lt)}else{try{lt.call()}catch(Ge){ze=Ge}l.call(lt.prototype)}}else{try{throw Error()}catch(Ge){ze=Ge}(lt=l())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(Ge){if(Ge&&ze&&typeof Ge.stack=="string")return[Ge.stack,ze.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=w.DetermineComponentFrameRoot(),J=j[0],se=j[1];if(J&&se){var ve=J.split(`
`),Be=se.split(`
`);for(O=w=0;w<ve.length&&!ve[w].includes("DetermineComponentFrameRoot");)w++;for(;O<Be.length&&!Be[O].includes("DetermineComponentFrameRoot");)O++;if(w===ve.length||O===Be.length)for(w=ve.length-1,O=Be.length-1;1<=w&&0<=O&&ve[w]!==Be[O];)O--;for(;1<=w&&0<=O;w--,O--)if(ve[w]!==Be[O]){if(w!==1||O!==1)do if(w--,O--,0>O||ve[w]!==Be[O]){var tt=`
`+ve[w].replace(" at new "," at ");return l.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",l.displayName)),tt}while(1<=w&&0<=O);break}}}finally{oi=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?On(p):""}function Lf(l){switch(l.tag){case 26:case 27:case 5:return On(l.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Pi(l.type,!1);case 11:return Pi(l.type.render,!1);case 1:return Pi(l.type,!0);case 31:return On("Activity");default:return""}}function gu(l){try{var u="";do u+=Lf(l),l=l.return;while(l);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function gi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Nf(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function zm(l){var u=Nf(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),w=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,j=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return O.call(this)},set:function(J){w=""+J,j.call(this,J)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(J){w=""+J},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Pa(l){l._valueTracker||(l._valueTracker=zm(l))}function Yd(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),w="";return l&&(w=Nf(l)?l.checked?"true":"false":l.value),l=w,l!==p?(u.setValue(l),!0):!1}function ic(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Bf=/[\n"\\]/g;function ii(l){return l.replace(Bf,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function mu(l,u,p,w,O,j,J,se){l.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?l.type=J:l.removeAttribute("type"),u!=null?J==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+gi(u)):l.value!==""+gi(u)&&(l.value=""+gi(u)):J!=="submit"&&J!=="reset"||l.removeAttribute("value"),u!=null?Zd(l,J,gi(u)):p!=null?Zd(l,J,gi(p)):w!=null&&l.removeAttribute("value"),O==null&&j!=null&&(l.defaultChecked=!!j),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?l.name=""+gi(se):l.removeAttribute("name")}function Xd(l,u,p,w,O,j,J,se){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(l.type=j),u!=null||p!=null){if(!(j!=="submit"&&j!=="reset"||u!=null))return;p=p!=null?""+gi(p):"",u=u!=null?""+gi(u):p,se||u===l.value||(l.value=u),l.defaultValue=u}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,l.checked=se?l.checked:!!w,l.defaultChecked=!!w,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(l.name=J)}function Zd(l,u,p){u==="number"&&ic(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function vl(l,u,p,w){if(l=l.options,u){u={};for(var O=0;O<p.length;O++)u["$"+p[O]]=!0;for(p=0;p<l.length;p++)O=u.hasOwnProperty("$"+l[p].value),l[p].selected!==O&&(l[p].selected=O),O&&w&&(l[p].defaultSelected=!0)}else{for(p=""+gi(p),u=null,O=0;O<l.length;O++){if(l[O].value===p){l[O].selected=!0,w&&(l[O].defaultSelected=!0);return}u!==null||l[O].disabled||(u=l[O])}u!==null&&(u.selected=!0)}}function Ff(l,u,p){if(u!=null&&(u=""+gi(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+gi(p):""}function jf(l,u,p,w){if(u==null){if(w!=null){if(p!=null)throw Error(n(92));if(W(w)){if(1<w.length)throw Error(n(93));w=w[0]}p=w}p==null&&(p=""),u=p}p=gi(u),l.defaultValue=p,w=l.textContent,w===p&&w!==""&&w!==null&&(l.value=w)}function yl(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var vn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qd(l,u,p){var w=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?w?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":w?l.setProperty(u,p):typeof p!="number"||p===0||vn.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function Jd(l,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,p!=null){for(var w in p)!p.hasOwnProperty(w)||u!=null&&u.hasOwnProperty(w)||(w.indexOf("--")===0?l.setProperty(w,""):w==="float"?l.cssFloat="":l[w]="");for(var O in u)w=u[O],u.hasOwnProperty(O)&&p[O]!==w&&Qd(l,O,w)}else for(var j in u)u.hasOwnProperty(j)&&Qd(l,j,u[j])}function wo(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var na=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(l){return sc.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var ka=null;function vu(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var oa=null,bl=null;function yu(l){var u=bo(l);if(u&&(l=u.stateNode)){var p=l[rr]||null;e:switch(l=u.stateNode,u.type){case"input":if(mu(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ii(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var w=p[u];if(w!==l&&w.form===l.form){var O=w[rr]||null;if(!O)throw Error(n(90));mu(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(u=0;u<p.length;u++)w=p[u],w.form===l.form&&Yd(w)}break e;case"textarea":Ff(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&vl(l,!!p.multiple,u,!1)}}}var ia=!1;function eh(l,u,p){if(ia)return l(u,p);ia=!0;try{var w=l(u);return w}finally{if(ia=!1,(oa!==null||bl!==null)&&(XS(),oa&&(u=oa,l=bl,bl=oa=null,yu(u),l)))for(u=0;u<l.length;u++)yu(l[u])}}function mi(l,u){var p=l.stateNode;if(p===null)return null;var w=p[rr]||null;if(w===null)return null;p=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Da=!1;if(vi)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Da=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Da=!1}var ps=null,lc=null,cc=null;function uc(){if(cc)return cc;var l,u=lc,p=u.length,w,O="value"in ps?ps.value:ps.textContent,j=O.length;for(l=0;l<p&&u[l]===O[l];l++);var J=p-l;for(w=1;w<=J&&u[p-w]===O[j-w];w++);return cc=O.slice(l,1<w?1-w:void 0)}function dc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Fo(){return!0}function Aa(){return!1}function to(l){function u(p,w,O,j,J){this._reactName=p,this._targetInst=O,this.type=w,this.nativeEvent=j,this.target=J,this.currentTarget=null;for(var se in l)l.hasOwnProperty(se)&&(p=l[se],this[se]=p?p(j):j[se]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Fo:Aa,this.isPropagationStopped=Aa,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),u}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hc=to(si),gs=h({},si,{view:0,detail:0}),wl=to(gs),bu,th,fc,Sl=h({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==fc&&(fc&&l.type==="mousemove"?(bu=l.screenX-fc.screenX,th=l.screenY-fc.screenY):th=bu=0,fc=l),bu)},movementY:function(l){return"movementY"in l?l.movementY:th}}),Vf=to(Sl),$f=h({},Sl,{dataTransfer:0}),Um=to($f),zf=h({},gs,{relatedTarget:0}),rh=to(zf),Gm=h({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Cl=to(Gm),wu=h({},si,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),nh=to(wu),Su=h({},si,{data:0}),Xr=to(Su),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ki(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=sh[l])?!!u[l]:!1}function xl(){return ki}var Uf=h({},gs,{key:function(l){if(l.key){var u=oh[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=dc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ih[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(l){return l.type==="keypress"?dc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?dc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Gf=to(Uf),ai=h({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=to(ai),Cu=h({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),Hf=to(Cu),Hm=h({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=to(Hm),bn=h({},Sl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),xu=to(bn),te=h({},si,{newState:0,oldState:0}),_o=to(te),yi=[9,13,27,32],_l=vi&&"CompositionEvent"in window,Le=null;vi&&"documentMode"in document&&(Le=document.documentMode);var El=vi&&"TextEvent"in window&&!Le,Wt=vi&&(!_l||Le&&8<Le&&11>=Le),Hi=" ",pc=!1;function wn(l,u){switch(l){case"keyup":return yi.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ms=!1;function Qe(l,u){switch(l){case"compositionend":return _u(u);case"keypress":return u.which!==32?null:(pc=!0,Hi);case"textInput":return l=u.data,l===Hi&&pc?null:l;default:return null}}function Wf(l,u){if(ms)return l==="compositionend"||!_l&&wn(l,u)?(l=uc(),cc=lc=ps=null,ms=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Wt&&u.locale!=="ko"?null:u.data;default:return null}}var ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!ah[l.type]:u==="textarea"}function Na(l,u,p,w){oa?bl?bl.push(w):bl=[w]:oa=w,u=rC(u,"onChange"),0<u.length&&(p=new hc("onChange","change",null,p,w),l.push({event:p,listeners:u}))}var vs=null,Ba=null;function Wi(l){Y6(l,0)}function io(l){var u=Ri(l);if(Yd(u))return l}function sa(l,u){if(l==="change")return u}var lh=!1;if(vi){var ys;if(vi){var Tl="oninput"in document;if(!Tl){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),Tl=typeof ch.oninput=="function"}ys=Tl}else ys=!1;lh=ys&&(!document.documentMode||9<document.documentMode)}function uh(){vs&&(vs.detachEvent("onpropertychange",Kf),Ba=vs=null)}function Kf(l){if(l.propertyName==="value"&&io(Ba)){var u=[];Na(u,Ba,l,vu(l)),eh(Wi,u)}}function qf(l,u,p){l==="focusin"?(uh(),vs=u,Ba=p,vs.attachEvent("onpropertychange",Kf)):l==="focusout"&&uh()}function Km(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return io(Ba)}function qm(l,u){if(l==="click")return io(u)}function Yf(l,u){if(l==="input"||l==="change")return io(u)}function Ym(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var S=typeof Object.is=="function"?Object.is:Ym;function F(l,u){if(S(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),w=Object.keys(u);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var O=p[w];if(!Se.call(u,O)||!S(l[O],u[O]))return!1}return!0}function X(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ee(l,u){var p=X(l);l=0;for(var w;p;){if(p.nodeType===3){if(w=l+p.textContent.length,l<=u&&w>=u)return{node:p,offset:u-l};l=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=X(p)}}function oe(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?oe(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function de(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=ic(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=ic(l.document)}return u}function ge(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Re=vi&&"documentMode"in document&&11>=document.documentMode,Ue=null,qe=null,ot=null,kt=!1;function Ut(l,u,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;kt||Ue==null||Ue!==ic(w)||(w=Ue,"selectionStart"in w&&ge(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ot&&F(ot,w)||(ot=w,w=rC(qe,"onSelect"),0<w.length&&(u=new hc("onSelect","select",null,u,p),l.push({event:u,listeners:w}),u.target=Ue)))}function ur(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var mr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},dn={},qo={};vi&&(qo=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Eo(l){if(dn[l])return dn[l];if(!mr[l])return l;var u=mr[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in qo)return dn[l]=u[p];return l}var Ml=Eo("animationend"),bi=Eo("animationiteration"),yS=Eo("animationstart"),Xm=Eo("transitionrun"),dI=Eo("transitionstart"),hI=Eo("transitioncancel"),bS=Eo("transitionend"),wS=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zm.push("scrollEnd");function Et(l,u){wS.set(l,u),st(u,[l])}var Qm=new WeakMap;function hn(l,u){if(typeof l=="object"&&l!==null){var p=Qm.get(l);return p!==void 0?p:(u={value:l,source:u,stack:gu(u)},Qm.set(l,u),u)}return{value:l,source:u,stack:gu(u)}}var G=[],ne=0,Ce=0;function me(){for(var l=ne,u=Ce=ne=0;u<l;){var p=G[u];G[u++]=null;var w=G[u];G[u++]=null;var O=G[u];G[u++]=null;var j=G[u];if(G[u++]=null,w!==null&&O!==null){var J=w.pending;J===null?O.next=O:(O.next=J.next,J.next=O),w.pending=O}j!==0&&Jt(p,O,j)}}function Fe(l,u,p,w){G[ne++]=l,G[ne++]=u,G[ne++]=p,G[ne++]=w,Ce|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function Ae(l,u,p,w){return Fe(l,u,p,w),To(l)}function jt(l,u){return Fe(l,null,null,u),To(l)}function Jt(l,u,p){l.lanes|=p;var w=l.alternate;w!==null&&(w.lanes|=p);for(var O=!1,j=l.return;j!==null;)j.childLanes|=p,w=j.alternate,w!==null&&(w.childLanes|=p),j.tag===22&&(l=j.stateNode,l===null||l._visibility&1||(O=!0)),l=j,j=j.return;return l.tag===3?(j=l.stateNode,O&&u!==null&&(O=31-gt(p),l=j.hiddenUpdates,w=l[O],w===null?l[O]=[u]:w.push(u),u.lane=p|536870912),j):null}function To(l){if(50<xv)throw xv=0,yP=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var bs={};function GGe(l,u,p,w){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(l,u,p,w){return new GGe(l,u,p,w)}function fI(l){return l=l.prototype,!(!l||!l.isReactComponent)}function gc(l,u){var p=l.alternate;return p===null?(p=ws(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function A4(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function SS(l,u,p,w,O,j){var J=0;if(w=l,typeof l=="function")fI(l)&&(J=1);else if(typeof l=="string")J=WHe(l,p,ce.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=ws(31,p,u,O),l.elementType=L,l.lanes=j,l;case y:return dh(p.children,O,j,u);case b:J=8,O|=24;break;case v:return l=ws(12,p,u,O|2),l.elementType=v,l.lanes=j,l;case M:return l=ws(13,p,u,O),l.elementType=M,l.lanes=j,l;case I:return l=ws(19,p,u,O),l.elementType=I,l.lanes=j,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case C:case T:J=10;break e;case E:J=9;break e;case R:J=11;break e;case N:J=14;break e;case P:J=16,w=null;break e}J=29,p=Error(n(130,l===null?"null":typeof l,"")),w=null}return u=ws(J,p,u,O),u.elementType=l,u.type=w,u.lanes=j,u}function dh(l,u,p,w){return l=ws(7,l,w,u),l.lanes=p,l}function pI(l,u,p){return l=ws(6,l,null,u),l.lanes=p,l}function gI(l,u,p){return u=ws(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Xf=[],Zf=0,CS=null,xS=0,aa=[],la=0,hh=null,mc=1,vc="";function fh(l,u){Xf[Zf++]=xS,Xf[Zf++]=CS,CS=l,xS=u}function L4(l,u,p){aa[la++]=mc,aa[la++]=vc,aa[la++]=hh,hh=l;var w=mc;l=vc;var O=32-gt(w)-1;w&=~(1<<O),p+=1;var j=32-gt(u)+O;if(30<j){var J=O-O%5;j=(w&(1<<J)-1).toString(32),w>>=J,O-=J,mc=1<<32-gt(u)+O|p<<O|w,vc=j+l}else mc=1<<j|p<<O|w,vc=l}function mI(l){l.return!==null&&(fh(l,1),L4(l,1,0))}function vI(l){for(;l===CS;)CS=Xf[--Zf],Xf[Zf]=null,xS=Xf[--Zf],Xf[Zf]=null;for(;l===hh;)hh=aa[--la],aa[la]=null,vc=aa[--la],aa[la]=null,mc=aa[--la],aa[la]=null}var Di=null,fo=null,nn=!1,ph=null,Ol=!1,yI=Error(n(519));function gh(l){var u=Error(n(418,""));throw tv(hn(u,l)),yI}function N4(l){var u=l.stateNode,p=l.type,w=l.memoizedProps;switch(u[nr]=l,u[rr]=w,p){case"dialog":$r("cancel",u),$r("close",u);break;case"iframe":case"object":case"embed":$r("load",u);break;case"video":case"audio":for(p=0;p<Ev.length;p++)$r(Ev[p],u);break;case"source":$r("error",u);break;case"img":case"image":case"link":$r("error",u),$r("load",u);break;case"details":$r("toggle",u);break;case"input":$r("invalid",u),Xd(u,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Pa(u);break;case"select":$r("invalid",u);break;case"textarea":$r("invalid",u),jf(u,w.value,w.defaultValue,w.children),Pa(u)}p=w.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||w.suppressHydrationWarning===!0||J6(u.textContent,p)?(w.popover!=null&&($r("beforetoggle",u),$r("toggle",u)),w.onScroll!=null&&$r("scroll",u),w.onScrollEnd!=null&&$r("scrollend",u),w.onClick!=null&&(u.onclick=nC),u=!0):u=!1,u||gh(l)}function B4(l){for(Di=l.return;Di;)switch(Di.tag){case 5:case 13:Ol=!1;return;case 27:case 3:Ol=!0;return;default:Di=Di.return}}function Jm(l){if(l!==Di)return!1;if(!nn)return B4(l),nn=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||AP(l.type,l.memoizedProps)),p=!p),p&&fo&&gh(l),B4(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(u===0){fo=ja(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;l=l.nextSibling}fo=null}}else u===27?(u=fo,Vu(l.type)?(l=FP,FP=null,fo=l):fo=u):fo=Di?ja(l.stateNode.nextSibling):null;return!0}function ev(){fo=Di=null,nn=!1}function F4(){var l=ph;return l!==null&&(Yi===null?Yi=l:Yi.push.apply(Yi,l),ph=null),l}function tv(l){ph===null?ph=[l]:ph.push(l)}var bI=K(null),mh=null,yc=null;function Eu(l,u,p){le(bI,u._currentValue),u._currentValue=p}function bc(l){l._currentValue=bI.current,Z(bI)}function wI(l,u,p){for(;l!==null;){var w=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),l===p)break;l=l.return}}function SI(l,u,p,w){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var j=O.dependencies;if(j!==null){var J=O.child;j=j.firstContext;e:for(;j!==null;){var se=j;j=O;for(var ve=0;ve<u.length;ve++)if(se.context===u[ve]){j.lanes|=p,se=j.alternate,se!==null&&(se.lanes|=p),wI(j.return,p,l),w||(J=null);break e}j=se.next}}else if(O.tag===18){if(J=O.return,J===null)throw Error(n(341));J.lanes|=p,j=J.alternate,j!==null&&(j.lanes|=p),wI(J,p,l),J=null}else J=O.child;if(J!==null)J.return=O;else for(J=O;J!==null;){if(J===l){J=null;break}if(O=J.sibling,O!==null){O.return=J.return,J=O;break}J=J.return}O=J}}function rv(l,u,p,w){l=null;for(var O=u,j=!1;O!==null;){if(!j){if((O.flags&524288)!==0)j=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var J=O.alternate;if(J===null)throw Error(n(387));if(J=J.memoizedProps,J!==null){var se=O.type;S(O.pendingProps.value,J.value)||(l!==null?l.push(se):l=[se])}}else if(O===ye.current){if(J=O.alternate,J===null)throw Error(n(387));J.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(Pv):l=[Pv])}O=O.return}l!==null&&SI(u,l,p,w),u.flags|=262144}function _S(l){for(l=l.firstContext;l!==null;){if(!S(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function vh(l){mh=l,yc=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function wi(l){return j4(mh,l)}function ES(l,u){return mh===null&&vh(l),j4(l,u)}function j4(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},yc===null){if(l===null)throw Error(n(308));yc=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else yc=yc.next=u;return p}var HGe=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,w){l.push(w)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},WGe=e.unstable_scheduleCallback,KGe=e.unstable_NormalPriority,jo={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function CI(){return{controller:new HGe,data:new Map,refCount:0}}function nv(l){l.refCount--,l.refCount===0&&WGe(KGe,function(){l.controller.abort()})}var ov=null,xI=0,Qf=0,Jf=null;function qGe(l,u){if(ov===null){var p=ov=[];xI=0,Qf=EP(),Jf={status:"pending",value:void 0,then:function(w){p.push(w)}}}return xI++,u.then(V4,V4),u}function V4(){if(--xI===0&&ov!==null){Jf!==null&&(Jf.status="fulfilled");var l=ov;ov=null,Qf=0,Jf=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function YGe(l,u){var p=[],w={status:"pending",value:null,reason:null,then:function(O){p.push(O)}};return l.then(function(){w.status="fulfilled",w.value=u;for(var O=0;O<p.length;O++)(0,p[O])(u)},function(O){for(w.status="rejected",w.reason=O,O=0;O<p.length;O++)(0,p[O])(void 0)}),w}var $4=V.S;V.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&qGe(l,u),$4!==null&&$4(l,u)};var yh=K(null);function _I(){var l=yh.current;return l!==null?l:jn.pooledCache}function TS(l,u){u===null?le(yh,yh.current):le(yh,u.pool)}function z4(){var l=_I();return l===null?null:{parent:jo._currentValue,pool:l}}var iv=Error(n(460)),U4=Error(n(474)),MS=Error(n(542)),EI={then:function(){}};function G4(l){return l=l.status,l==="fulfilled"||l==="rejected"}function OS(){}function H4(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(OS,OS),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,K4(l),l;default:if(typeof u.status=="string")u.then(OS,OS);else{if(l=jn,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(w){if(u.status==="pending"){var O=u;O.status="fulfilled",O.value=w}},function(w){if(u.status==="pending"){var O=u;O.status="rejected",O.reason=w}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,K4(l),l}throw sv=u,iv}}var sv=null;function W4(){if(sv===null)throw Error(n(459));var l=sv;return sv=null,l}function K4(l){if(l===iv||l===MS)throw Error(n(483))}var Tu=!1;function TI(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function MI(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Mu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Ou(l,u,p){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Sn&2)!==0){var O=w.pending;return O===null?u.next=u:(u.next=O.next,O.next=u),w.pending=u,u=To(l),Jt(l,null,p),u}return Fe(l,w,u,p),To(l)}function av(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var w=u.lanes;w&=l.pendingLanes,p|=w,u.lanes=p,Bn(l,p)}}function OI(l,u){var p=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var O=null,j=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};j===null?O=j=J:j=j.next=J,p=p.next}while(p!==null);j===null?O=j=u:j=j.next=u}else O=j=u;p={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:j,shared:w.shared,callbacks:w.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var RI=!1;function lv(){if(RI){var l=Jf;if(l!==null)throw l}}function cv(l,u,p,w){RI=!1;var O=l.updateQueue;Tu=!1;var j=O.firstBaseUpdate,J=O.lastBaseUpdate,se=O.shared.pending;if(se!==null){O.shared.pending=null;var ve=se,Be=ve.next;ve.next=null,J===null?j=Be:J.next=Be,J=ve;var tt=l.alternate;tt!==null&&(tt=tt.updateQueue,se=tt.lastBaseUpdate,se!==J&&(se===null?tt.firstBaseUpdate=Be:se.next=Be,tt.lastBaseUpdate=ve))}if(j!==null){var lt=O.baseState;J=0,tt=Be=ve=null,se=j;do{var ze=se.lane&-536870913,Ge=ze!==se.lane;if(Ge?(Gr&ze)===ze:(w&ze)===ze){ze!==0&&ze===Qf&&(RI=!0),tt!==null&&(tt=tt.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var gr=l,hr=se;ze=u;var Pn=p;switch(hr.tag){case 1:if(gr=hr.payload,typeof gr=="function"){lt=gr.call(Pn,lt,ze);break e}lt=gr;break e;case 3:gr.flags=gr.flags&-65537|128;case 0:if(gr=hr.payload,ze=typeof gr=="function"?gr.call(Pn,lt,ze):gr,ze==null)break e;lt=h({},lt,ze);break e;case 2:Tu=!0}}ze=se.callback,ze!==null&&(l.flags|=64,Ge&&(l.flags|=8192),Ge=O.callbacks,Ge===null?O.callbacks=[ze]:Ge.push(ze))}else Ge={lane:ze,tag:se.tag,payload:se.payload,callback:se.callback,next:null},tt===null?(Be=tt=Ge,ve=lt):tt=tt.next=Ge,J|=ze;if(se=se.next,se===null){if(se=O.shared.pending,se===null)break;Ge=se,se=Ge.next,Ge.next=null,O.lastBaseUpdate=Ge,O.shared.pending=null}}while(!0);tt===null&&(ve=lt),O.baseState=ve,O.firstBaseUpdate=Be,O.lastBaseUpdate=tt,j===null&&(O.shared.lanes=0),Nu|=J,l.lanes=J,l.memoizedState=lt}}function q4(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function Y4(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)q4(p[l],u)}var ep=K(null),RS=K(0);function X4(l,u){l=Tc,le(RS,l),le(ep,u),Tc=l|u.baseLanes}function II(){le(RS,Tc),le(ep,ep.current)}function PI(){Tc=RS.current,Z(ep),Z(RS)}var Ru=0,Lr=null,Rn=null,Mo=null,IS=!1,tp=!1,bh=!1,PS=0,uv=0,rp=null,XGe=0;function So(){throw Error(n(321))}function kI(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!S(l[p],u[p]))return!1;return!0}function DI(l,u,p,w,O,j){return Ru=j,Lr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,V.H=l===null||l.memoizedState===null?DW:AW,bh=!1,j=p(w,O),bh=!1,tp&&(j=Q4(u,p,w,O)),Z4(l),j}function Z4(l){V.H=BS;var u=Rn!==null&&Rn.next!==null;if(Ru=0,Mo=Rn=Lr=null,IS=!1,uv=0,rp=null,u)throw Error(n(300));l===null||Yo||(l=l.dependencies,l!==null&&_S(l)&&(Yo=!0))}function Q4(l,u,p,w){Lr=l;var O=0;do{if(tp&&(rp=null),uv=0,tp=!1,25<=O)throw Error(n(301));if(O+=1,Mo=Rn=null,l.updateQueue!=null){var j=l.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}V.H=nHe,j=u(p,w)}while(tp);return j}function ZGe(){var l=V.H,u=l.useState()[0];return u=typeof u.then=="function"?dv(u):u,l=l.useState()[0],(Rn!==null?Rn.memoizedState:null)!==l&&(Lr.flags|=1024),u}function AI(){var l=PS!==0;return PS=0,l}function LI(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function NI(l){if(IS){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}IS=!1}Ru=0,Mo=Rn=Lr=null,tp=!1,uv=PS=0,rp=null}function Ki(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mo===null?Lr.memoizedState=Mo=l:Mo=Mo.next=l,Mo}function Oo(){if(Rn===null){var l=Lr.alternate;l=l!==null?l.memoizedState:null}else l=Rn.next;var u=Mo===null?Lr.memoizedState:Mo.next;if(u!==null)Mo=u,Rn=l;else{if(l===null)throw Lr.alternate===null?Error(n(467)):Error(n(310));Rn=l,l={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Mo===null?Lr.memoizedState=Mo=l:Mo=Mo.next=l}return Mo}function BI(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dv(l){var u=uv;return uv+=1,rp===null&&(rp=[]),l=H4(rp,l,u),u=Lr,(Mo===null?u.memoizedState:Mo.next)===null&&(u=u.alternate,V.H=u===null||u.memoizedState===null?DW:AW),l}function kS(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return dv(l);if(l.$$typeof===T)return wi(l)}throw Error(n(438,String(l)))}function FI(l){var u=null,p=Lr.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var w=Lr.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(u={data:w.data.map(function(O){return O.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=BI(),Lr.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),w=0;w<l;w++)p[w]=D;return u.index++,p}function wc(l,u){return typeof u=="function"?u(l):u}function DS(l){var u=Oo();return jI(u,Rn,l)}function jI(l,u,p){var w=l.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=p;var O=l.baseQueue,j=w.pending;if(j!==null){if(O!==null){var J=O.next;O.next=j.next,j.next=J}u.baseQueue=O=j,w.pending=null}if(j=l.baseState,O===null)l.memoizedState=j;else{u=O.next;var se=J=null,ve=null,Be=u,tt=!1;do{var lt=Be.lane&-536870913;if(lt!==Be.lane?(Gr&lt)===lt:(Ru&lt)===lt){var ze=Be.revertLane;if(ze===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),lt===Qf&&(tt=!0);else if((Ru&ze)===ze){Be=Be.next,ze===Qf&&(tt=!0);continue}else lt={lane:0,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ve===null?(se=ve=lt,J=j):ve=ve.next=lt,Lr.lanes|=ze,Nu|=ze;lt=Be.action,bh&&p(j,lt),j=Be.hasEagerState?Be.eagerState:p(j,lt)}else ze={lane:lt,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ve===null?(se=ve=ze,J=j):ve=ve.next=ze,Lr.lanes|=lt,Nu|=lt;Be=Be.next}while(Be!==null&&Be!==u);if(ve===null?J=j:ve.next=se,!S(j,l.memoizedState)&&(Yo=!0,tt&&(p=Jf,p!==null)))throw p;l.memoizedState=j,l.baseState=J,l.baseQueue=ve,w.lastRenderedState=j}return O===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function VI(l){var u=Oo(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var w=p.dispatch,O=p.pending,j=u.memoizedState;if(O!==null){p.pending=null;var J=O=O.next;do j=l(j,J.action),J=J.next;while(J!==O);S(j,u.memoizedState)||(Yo=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),p.lastRenderedState=j}return[j,w]}function J4(l,u,p){var w=Lr,O=Oo(),j=nn;if(j){if(p===void 0)throw Error(n(407));p=p()}else p=u();var J=!S((Rn||O).memoizedState,p);J&&(O.memoizedState=p,Yo=!0),O=O.queue;var se=rW.bind(null,w,O,l);if(hv(2048,8,se,[l]),O.getSnapshot!==u||J||Mo!==null&&Mo.memoizedState.tag&1){if(w.flags|=2048,np(9,AS(),tW.bind(null,w,O,p,u),null),jn===null)throw Error(n(349));j||(Ru&124)!==0||eW(w,u,p)}return p}function eW(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Lr.updateQueue,u===null?(u=BI(),Lr.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function tW(l,u,p,w){u.value=p,u.getSnapshot=w,nW(u)&&oW(l)}function rW(l,u,p){return p(function(){nW(u)&&oW(l)})}function nW(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!S(l,p)}catch{return!0}}function oW(l){var u=jt(l,2);u!==null&&Es(u,l,2)}function $I(l){var u=Ki();if(typeof l=="function"){var p=l;if(l=p(),bh){tr(!0);try{p()}finally{tr(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:l},u}function iW(l,u,p,w){return l.baseState=p,jI(l,Rn,typeof w=="function"?w:wc)}function QGe(l,u,p,w,O){if(NS(l))throw Error(n(485));if(l=u.action,l!==null){var j={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){j.listeners.push(J)}};V.T!==null?p(!0):j.isTransition=!1,w(j),p=u.pending,p===null?(j.next=u.pending=j,sW(u,j)):(j.next=p.next,u.pending=p.next=j)}}function sW(l,u){var p=u.action,w=u.payload,O=l.state;if(u.isTransition){var j=V.T,J={};V.T=J;try{var se=p(O,w),ve=V.S;ve!==null&&ve(J,se),aW(l,u,se)}catch(Be){zI(l,u,Be)}finally{V.T=j}}else try{j=p(O,w),aW(l,u,j)}catch(Be){zI(l,u,Be)}}function aW(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(w){lW(l,u,w)},function(w){return zI(l,u,w)}):lW(l,u,p)}function lW(l,u,p){u.status="fulfilled",u.value=p,cW(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,sW(l,p)))}function zI(l,u,p){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do u.status="rejected",u.reason=p,cW(u),u=u.next;while(u!==w)}l.action=null}function cW(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function uW(l,u){return u}function dW(l,u){if(nn){var p=jn.formState;if(p!==null){e:{var w=Lr;if(nn){if(fo){t:{for(var O=fo,j=Ol;O.nodeType!==8;){if(!j){O=null;break t}if(O=ja(O.nextSibling),O===null){O=null;break t}}j=O.data,O=j==="F!"||j==="F"?O:null}if(O){fo=ja(O.nextSibling),w=O.data==="F!";break e}}gh(w)}w=!1}w&&(u=p[0])}}return p=Ki(),p.memoizedState=p.baseState=u,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uW,lastRenderedState:u},p.queue=w,p=IW.bind(null,Lr,w),w.dispatch=p,w=$I(!1),j=KI.bind(null,Lr,!1,w.queue),w=Ki(),O={state:u,dispatch:null,action:l,pending:null},w.queue=O,p=QGe.bind(null,Lr,O,j,p),O.dispatch=p,w.memoizedState=l,[u,p,!1]}function hW(l){var u=Oo();return fW(u,Rn,l)}function fW(l,u,p){if(u=jI(l,u,uW)[0],l=DS(wc)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var w=dv(u)}catch(J){throw J===iv?MS:J}else w=u;u=Oo();var O=u.queue,j=O.dispatch;return p!==u.memoizedState&&(Lr.flags|=2048,np(9,AS(),JGe.bind(null,O,p),null)),[w,j,l]}function JGe(l,u){l.action=u}function pW(l){var u=Oo(),p=Rn;if(p!==null)return fW(u,p,l);Oo(),u=u.memoizedState,p=Oo();var w=p.queue.dispatch;return p.memoizedState=l,[u,w,!1]}function np(l,u,p,w){return l={tag:l,create:p,deps:w,inst:u,next:null},u=Lr.updateQueue,u===null&&(u=BI(),Lr.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(w=p.next,p.next=l,l.next=w,u.lastEffect=l),l}function AS(){return{destroy:void 0,resource:void 0}}function gW(){return Oo().memoizedState}function LS(l,u,p,w){var O=Ki();w=w===void 0?null:w,Lr.flags|=l,O.memoizedState=np(1|u,AS(),p,w)}function hv(l,u,p,w){var O=Oo();w=w===void 0?null:w;var j=O.memoizedState.inst;Rn!==null&&w!==null&&kI(w,Rn.memoizedState.deps)?O.memoizedState=np(u,j,p,w):(Lr.flags|=l,O.memoizedState=np(1|u,j,p,w))}function mW(l,u){LS(8390656,8,l,u)}function vW(l,u){hv(2048,8,l,u)}function yW(l,u){return hv(4,2,l,u)}function bW(l,u){return hv(4,4,l,u)}function wW(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function SW(l,u,p){p=p!=null?p.concat([l]):null,hv(4,4,wW.bind(null,u,l),p)}function UI(){}function CW(l,u){var p=Oo();u=u===void 0?null:u;var w=p.memoizedState;return u!==null&&kI(u,w[1])?w[0]:(p.memoizedState=[l,u],l)}function xW(l,u){var p=Oo();u=u===void 0?null:u;var w=p.memoizedState;if(u!==null&&kI(u,w[1]))return w[0];if(w=l(),bh){tr(!0);try{l()}finally{tr(!1)}}return p.memoizedState=[w,u],w}function GI(l,u,p){return p===void 0||(Ru&1073741824)!==0?l.memoizedState=u:(l.memoizedState=p,l=T6(),Lr.lanes|=l,Nu|=l,p)}function _W(l,u,p,w){return S(p,u)?p:ep.current!==null?(l=GI(l,p,w),S(l,u)||(Yo=!0),l):(Ru&42)===0?(Yo=!0,l.memoizedState=p):(l=T6(),Lr.lanes|=l,Nu|=l,u)}function EW(l,u,p,w,O){var j=Y.p;Y.p=j!==0&&8>j?j:8;var J=V.T,se={};V.T=se,KI(l,!1,u,p);try{var ve=O(),Be=V.S;if(Be!==null&&Be(se,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var tt=YGe(ve,w);fv(l,u,tt,_s(l))}else fv(l,u,w,_s(l))}catch(lt){fv(l,u,{then:function(){},status:"rejected",reason:lt},_s())}finally{Y.p=j,V.T=J}}function eHe(){}function HI(l,u,p,w){if(l.tag!==5)throw Error(n(476));var O=TW(l).queue;EW(l,O,u,Q,p===null?eHe:function(){return MW(l),p(w)})}function TW(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:Q},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function MW(l){var u=TW(l).next.queue;fv(l,u,{},_s())}function WI(){return wi(Pv)}function OW(){return Oo().memoizedState}function RW(){return Oo().memoizedState}function tHe(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=_s();l=Mu(p);var w=Ou(u,l,p);w!==null&&(Es(w,u,p),av(w,u,p)),u={cache:CI()},l.payload=u;return}u=u.return}}function rHe(l,u,p){var w=_s();p={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},NS(l)?PW(u,p):(p=Ae(l,u,p,w),p!==null&&(Es(p,l,w),kW(p,u,w)))}function IW(l,u,p){var w=_s();fv(l,u,p,w)}function fv(l,u,p,w){var O={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(NS(l))PW(u,O);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var J=u.lastRenderedState,se=j(J,p);if(O.hasEagerState=!0,O.eagerState=se,S(se,J))return Fe(l,u,O,0),jn===null&&me(),!1}catch{}finally{}if(p=Ae(l,u,O,w),p!==null)return Es(p,l,w),kW(p,u,w),!0}return!1}function KI(l,u,p,w){if(w={lane:2,revertLane:EP(),action:w,hasEagerState:!1,eagerState:null,next:null},NS(l)){if(u)throw Error(n(479))}else u=Ae(l,p,w,2),u!==null&&Es(u,l,2)}function NS(l){var u=l.alternate;return l===Lr||u!==null&&u===Lr}function PW(l,u){tp=IS=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function kW(l,u,p){if((p&4194048)!==0){var w=u.lanes;w&=l.pendingLanes,p|=w,u.lanes=p,Bn(l,p)}}var BS={readContext:wi,use:kS,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useLayoutEffect:So,useInsertionEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useSyncExternalStore:So,useId:So,useHostTransitionStatus:So,useFormState:So,useActionState:So,useOptimistic:So,useMemoCache:So,useCacheRefresh:So},DW={readContext:wi,use:kS,useCallback:function(l,u){return Ki().memoizedState=[l,u===void 0?null:u],l},useContext:wi,useEffect:mW,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,LS(4194308,4,wW.bind(null,u,l),p)},useLayoutEffect:function(l,u){return LS(4194308,4,l,u)},useInsertionEffect:function(l,u){LS(4,2,l,u)},useMemo:function(l,u){var p=Ki();u=u===void 0?null:u;var w=l();if(bh){tr(!0);try{l()}finally{tr(!1)}}return p.memoizedState=[w,u],w},useReducer:function(l,u,p){var w=Ki();if(p!==void 0){var O=p(u);if(bh){tr(!0);try{p(u)}finally{tr(!1)}}}else O=u;return w.memoizedState=w.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},w.queue=l,l=l.dispatch=rHe.bind(null,Lr,l),[w.memoizedState,l]},useRef:function(l){var u=Ki();return l={current:l},u.memoizedState=l},useState:function(l){l=$I(l);var u=l.queue,p=IW.bind(null,Lr,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:UI,useDeferredValue:function(l,u){var p=Ki();return GI(p,l,u)},useTransition:function(){var l=$I(!1);return l=EW.bind(null,Lr,l.queue,!0,!1),Ki().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var w=Lr,O=Ki();if(nn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),jn===null)throw Error(n(349));(Gr&124)!==0||eW(w,u,p)}O.memoizedState=p;var j={value:p,getSnapshot:u};return O.queue=j,mW(rW.bind(null,w,j,l),[l]),w.flags|=2048,np(9,AS(),tW.bind(null,w,j,p,u),null),p},useId:function(){var l=Ki(),u=jn.identifierPrefix;if(nn){var p=vc,w=mc;p=(w&~(1<<32-gt(w)-1)).toString(32)+p,u="«"+u+"R"+p,p=PS++,0<p&&(u+="H"+p.toString(32)),u+="»"}else p=XGe++,u="«"+u+"r"+p.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:WI,useFormState:dW,useActionState:dW,useOptimistic:function(l){var u=Ki();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=KI.bind(null,Lr,!0,p),p.dispatch=u,[l,u]},useMemoCache:FI,useCacheRefresh:function(){return Ki().memoizedState=tHe.bind(null,Lr)}},AW={readContext:wi,use:kS,useCallback:CW,useContext:wi,useEffect:vW,useImperativeHandle:SW,useInsertionEffect:yW,useLayoutEffect:bW,useMemo:xW,useReducer:DS,useRef:gW,useState:function(){return DS(wc)},useDebugValue:UI,useDeferredValue:function(l,u){var p=Oo();return _W(p,Rn.memoizedState,l,u)},useTransition:function(){var l=DS(wc)[0],u=Oo().memoizedState;return[typeof l=="boolean"?l:dv(l),u]},useSyncExternalStore:J4,useId:OW,useHostTransitionStatus:WI,useFormState:hW,useActionState:hW,useOptimistic:function(l,u){var p=Oo();return iW(p,Rn,l,u)},useMemoCache:FI,useCacheRefresh:RW},nHe={readContext:wi,use:kS,useCallback:CW,useContext:wi,useEffect:vW,useImperativeHandle:SW,useInsertionEffect:yW,useLayoutEffect:bW,useMemo:xW,useReducer:VI,useRef:gW,useState:function(){return VI(wc)},useDebugValue:UI,useDeferredValue:function(l,u){var p=Oo();return Rn===null?GI(p,l,u):_W(p,Rn.memoizedState,l,u)},useTransition:function(){var l=VI(wc)[0],u=Oo().memoizedState;return[typeof l=="boolean"?l:dv(l),u]},useSyncExternalStore:J4,useId:OW,useHostTransitionStatus:WI,useFormState:pW,useActionState:pW,useOptimistic:function(l,u){var p=Oo();return Rn!==null?iW(p,Rn,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:FI,useCacheRefresh:RW},op=null,pv=0;function FS(l){var u=pv;return pv+=1,op===null&&(op=[]),H4(op,l,u)}function gv(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function jS(l,u){throw u.$$typeof===f?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function LW(l){var u=l._init;return u(l._payload)}function NW(l){function u(De,_e){if(l){var Ne=De.deletions;Ne===null?(De.deletions=[_e],De.flags|=16):Ne.push(_e)}}function p(De,_e){if(!l)return null;for(;_e!==null;)u(De,_e),_e=_e.sibling;return null}function w(De){for(var _e=new Map;De!==null;)De.key!==null?_e.set(De.key,De):_e.set(De.index,De),De=De.sibling;return _e}function O(De,_e){return De=gc(De,_e),De.index=0,De.sibling=null,De}function j(De,_e,Ne){return De.index=Ne,l?(Ne=De.alternate,Ne!==null?(Ne=Ne.index,Ne<_e?(De.flags|=67108866,_e):Ne):(De.flags|=67108866,_e)):(De.flags|=1048576,_e)}function J(De){return l&&De.alternate===null&&(De.flags|=67108866),De}function se(De,_e,Ne,it){return _e===null||_e.tag!==6?(_e=pI(Ne,De.mode,it),_e.return=De,_e):(_e=O(_e,Ne),_e.return=De,_e)}function ve(De,_e,Ne,it){var Yt=Ne.type;return Yt===y?tt(De,_e,Ne.props.children,it,Ne.key):_e!==null&&(_e.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===P&&LW(Yt)===_e.type)?(_e=O(_e,Ne.props),gv(_e,Ne),_e.return=De,_e):(_e=SS(Ne.type,Ne.key,Ne.props,null,De.mode,it),gv(_e,Ne),_e.return=De,_e)}function Be(De,_e,Ne,it){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ne.containerInfo||_e.stateNode.implementation!==Ne.implementation?(_e=gI(Ne,De.mode,it),_e.return=De,_e):(_e=O(_e,Ne.children||[]),_e.return=De,_e)}function tt(De,_e,Ne,it,Yt){return _e===null||_e.tag!==7?(_e=dh(Ne,De.mode,it,Yt),_e.return=De,_e):(_e=O(_e,Ne),_e.return=De,_e)}function lt(De,_e,Ne){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=pI(""+_e,De.mode,Ne),_e.return=De,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return Ne=SS(_e.type,_e.key,_e.props,null,De.mode,Ne),gv(Ne,_e),Ne.return=De,Ne;case m:return _e=gI(_e,De.mode,Ne),_e.return=De,_e;case P:var it=_e._init;return _e=it(_e._payload),lt(De,_e,Ne)}if(W(_e)||B(_e))return _e=dh(_e,De.mode,Ne,null),_e.return=De,_e;if(typeof _e.then=="function")return lt(De,FS(_e),Ne);if(_e.$$typeof===T)return lt(De,ES(De,_e),Ne);jS(De,_e)}return null}function ze(De,_e,Ne,it){var Yt=_e!==null?_e.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Yt!==null?null:se(De,_e,""+Ne,it);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:return Ne.key===Yt?ve(De,_e,Ne,it):null;case m:return Ne.key===Yt?Be(De,_e,Ne,it):null;case P:return Yt=Ne._init,Ne=Yt(Ne._payload),ze(De,_e,Ne,it)}if(W(Ne)||B(Ne))return Yt!==null?null:tt(De,_e,Ne,it,null);if(typeof Ne.then=="function")return ze(De,_e,FS(Ne),it);if(Ne.$$typeof===T)return ze(De,_e,ES(De,Ne),it);jS(De,Ne)}return null}function Ge(De,_e,Ne,it,Yt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return De=De.get(Ne)||null,se(_e,De,""+it,Yt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case g:return De=De.get(it.key===null?Ne:it.key)||null,ve(_e,De,it,Yt);case m:return De=De.get(it.key===null?Ne:it.key)||null,Be(_e,De,it,Yt);case P:var Br=it._init;return it=Br(it._payload),Ge(De,_e,Ne,it,Yt)}if(W(it)||B(it))return De=De.get(Ne)||null,tt(_e,De,it,Yt,null);if(typeof it.then=="function")return Ge(De,_e,Ne,FS(it),Yt);if(it.$$typeof===T)return Ge(De,_e,Ne,ES(_e,it),Yt);jS(_e,it)}return null}function gr(De,_e,Ne,it){for(var Yt=null,Br=null,ar=_e,pr=_e=0,Zo=null;ar!==null&&pr<Ne.length;pr++){ar.index>pr?(Zo=ar,ar=null):Zo=ar.sibling;var Jr=ze(De,ar,Ne[pr],it);if(Jr===null){ar===null&&(ar=Zo);break}l&&ar&&Jr.alternate===null&&u(De,ar),_e=j(Jr,_e,pr),Br===null?Yt=Jr:Br.sibling=Jr,Br=Jr,ar=Zo}if(pr===Ne.length)return p(De,ar),nn&&fh(De,pr),Yt;if(ar===null){for(;pr<Ne.length;pr++)ar=lt(De,Ne[pr],it),ar!==null&&(_e=j(ar,_e,pr),Br===null?Yt=ar:Br.sibling=ar,Br=ar);return nn&&fh(De,pr),Yt}for(ar=w(ar);pr<Ne.length;pr++)Zo=Ge(ar,De,pr,Ne[pr],it),Zo!==null&&(l&&Zo.alternate!==null&&ar.delete(Zo.key===null?pr:Zo.key),_e=j(Zo,_e,pr),Br===null?Yt=Zo:Br.sibling=Zo,Br=Zo);return l&&ar.forEach(function(Hu){return u(De,Hu)}),nn&&fh(De,pr),Yt}function hr(De,_e,Ne,it){if(Ne==null)throw Error(n(151));for(var Yt=null,Br=null,ar=_e,pr=_e=0,Zo=null,Jr=Ne.next();ar!==null&&!Jr.done;pr++,Jr=Ne.next()){ar.index>pr?(Zo=ar,ar=null):Zo=ar.sibling;var Hu=ze(De,ar,Jr.value,it);if(Hu===null){ar===null&&(ar=Zo);break}l&&ar&&Hu.alternate===null&&u(De,ar),_e=j(Hu,_e,pr),Br===null?Yt=Hu:Br.sibling=Hu,Br=Hu,ar=Zo}if(Jr.done)return p(De,ar),nn&&fh(De,pr),Yt;if(ar===null){for(;!Jr.done;pr++,Jr=Ne.next())Jr=lt(De,Jr.value,it),Jr!==null&&(_e=j(Jr,_e,pr),Br===null?Yt=Jr:Br.sibling=Jr,Br=Jr);return nn&&fh(De,pr),Yt}for(ar=w(ar);!Jr.done;pr++,Jr=Ne.next())Jr=Ge(ar,De,pr,Jr.value,it),Jr!==null&&(l&&Jr.alternate!==null&&ar.delete(Jr.key===null?pr:Jr.key),_e=j(Jr,_e,pr),Br===null?Yt=Jr:Br.sibling=Jr,Br=Jr);return l&&ar.forEach(function(o5e){return u(De,o5e)}),nn&&fh(De,pr),Yt}function Pn(De,_e,Ne,it){if(typeof Ne=="object"&&Ne!==null&&Ne.type===y&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:e:{for(var Yt=Ne.key;_e!==null;){if(_e.key===Yt){if(Yt=Ne.type,Yt===y){if(_e.tag===7){p(De,_e.sibling),it=O(_e,Ne.props.children),it.return=De,De=it;break e}}else if(_e.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===P&&LW(Yt)===_e.type){p(De,_e.sibling),it=O(_e,Ne.props),gv(it,Ne),it.return=De,De=it;break e}p(De,_e);break}else u(De,_e);_e=_e.sibling}Ne.type===y?(it=dh(Ne.props.children,De.mode,it,Ne.key),it.return=De,De=it):(it=SS(Ne.type,Ne.key,Ne.props,null,De.mode,it),gv(it,Ne),it.return=De,De=it)}return J(De);case m:e:{for(Yt=Ne.key;_e!==null;){if(_e.key===Yt)if(_e.tag===4&&_e.stateNode.containerInfo===Ne.containerInfo&&_e.stateNode.implementation===Ne.implementation){p(De,_e.sibling),it=O(_e,Ne.children||[]),it.return=De,De=it;break e}else{p(De,_e);break}else u(De,_e);_e=_e.sibling}it=gI(Ne,De.mode,it),it.return=De,De=it}return J(De);case P:return Yt=Ne._init,Ne=Yt(Ne._payload),Pn(De,_e,Ne,it)}if(W(Ne))return gr(De,_e,Ne,it);if(B(Ne)){if(Yt=B(Ne),typeof Yt!="function")throw Error(n(150));return Ne=Yt.call(Ne),hr(De,_e,Ne,it)}if(typeof Ne.then=="function")return Pn(De,_e,FS(Ne),it);if(Ne.$$typeof===T)return Pn(De,_e,ES(De,Ne),it);jS(De,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,_e!==null&&_e.tag===6?(p(De,_e.sibling),it=O(_e,Ne),it.return=De,De=it):(p(De,_e),it=pI(Ne,De.mode,it),it.return=De,De=it),J(De)):p(De,_e)}return function(De,_e,Ne,it){try{pv=0;var Yt=Pn(De,_e,Ne,it);return op=null,Yt}catch(ar){if(ar===iv||ar===MS)throw ar;var Br=ws(29,ar,null,De.mode);return Br.lanes=it,Br.return=De,Br}finally{}}}var ip=NW(!0),BW=NW(!1),ca=K(null),Rl=null;function Iu(l){var u=l.alternate;le(Vo,Vo.current&1),le(ca,l),Rl===null&&(u===null||ep.current!==null||u.memoizedState!==null)&&(Rl=l)}function FW(l){if(l.tag===22){if(le(Vo,Vo.current),le(ca,l),Rl===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Rl=l)}}else Pu()}function Pu(){le(Vo,Vo.current),le(ca,ca.current)}function Sc(l){Z(ca),Rl===l&&(Rl=null),Z(Vo)}var Vo=K(0);function VS(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||BP(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function qI(l,u,p,w){u=l.memoizedState,p=p(w,u),p=p==null?u:h({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var YI={enqueueSetState:function(l,u,p){l=l._reactInternals;var w=_s(),O=Mu(w);O.payload=u,p!=null&&(O.callback=p),u=Ou(l,O,w),u!==null&&(Es(u,l,w),av(u,l,w))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var w=_s(),O=Mu(w);O.tag=1,O.payload=u,p!=null&&(O.callback=p),u=Ou(l,O,w),u!==null&&(Es(u,l,w),av(u,l,w))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=_s(),w=Mu(p);w.tag=2,u!=null&&(w.callback=u),u=Ou(l,w,p),u!==null&&(Es(u,l,p),av(u,l,p))}};function jW(l,u,p,w,O,j,J){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,j,J):u.prototype&&u.prototype.isPureReactComponent?!F(p,w)||!F(O,j):!0}function VW(l,u,p,w){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,w),u.state!==l&&YI.enqueueReplaceState(u,u.state,null)}function wh(l,u){var p=u;if("ref"in u){p={};for(var w in u)w!=="ref"&&(p[w]=u[w])}if(l=l.defaultProps){p===u&&(p=h({},p));for(var O in l)p[O]===void 0&&(p[O]=l[O])}return p}var $S=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function $W(l){$S(l)}function zW(l){console.error(l)}function UW(l){$S(l)}function zS(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(w){setTimeout(function(){throw w})}}function GW(l,u,p){try{var w=l.onCaughtError;w(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function XI(l,u,p){return p=Mu(p),p.tag=3,p.payload={element:null},p.callback=function(){zS(l,u)},p}function HW(l){return l=Mu(l),l.tag=3,l}function WW(l,u,p,w){var O=p.type.getDerivedStateFromError;if(typeof O=="function"){var j=w.value;l.payload=function(){return O(j)},l.callback=function(){GW(u,p,w)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(l.callback=function(){GW(u,p,w),typeof O!="function"&&(Bu===null?Bu=new Set([this]):Bu.add(this));var se=w.stack;this.componentDidCatch(w.value,{componentStack:se!==null?se:""})})}function oHe(l,u,p,w,O){if(p.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(u=p.alternate,u!==null&&rv(u,p,O,!0),p=ca.current,p!==null){switch(p.tag){case 13:return Rl===null?wP():p.alternate===null&&po===0&&(po=3),p.flags&=-257,p.flags|=65536,p.lanes=O,w===EI?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([w]):u.add(w),CP(l,w,O)),!1;case 22:return p.flags|=65536,w===EI?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([w])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([w]):p.add(w)),CP(l,w,O)),!1}throw Error(n(435,p.tag))}return CP(l,w,O),wP(),!1}if(nn)return u=ca.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=O,w!==yI&&(l=Error(n(422),{cause:w}),tv(hn(l,p)))):(w!==yI&&(u=Error(n(423),{cause:w}),tv(hn(u,p))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,w=hn(w,p),O=XI(l.stateNode,w,O),OI(l,O),po!==4&&(po=2)),!1;var j=Error(n(520),{cause:w});if(j=hn(j,p),Cv===null?Cv=[j]:Cv.push(j),po!==4&&(po=2),u===null)return!0;w=hn(w,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=O&-O,p.lanes|=l,l=XI(p.stateNode,w,l),OI(p,l),!1;case 1:if(u=p.type,j=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Bu===null||!Bu.has(j))))return p.flags|=65536,O&=-O,p.lanes|=O,O=HW(O),WW(O,l,p,w),OI(p,O),!1}p=p.return}while(p!==null);return!1}var KW=Error(n(461)),Yo=!1;function li(l,u,p,w){u.child=l===null?BW(u,null,p,w):ip(u,l.child,p,w)}function qW(l,u,p,w,O){p=p.render;var j=u.ref;if("ref"in w){var J={};for(var se in w)se!=="ref"&&(J[se]=w[se])}else J=w;return vh(u),w=DI(l,u,p,J,j,O),se=AI(),l!==null&&!Yo?(LI(l,u,O),Cc(l,u,O)):(nn&&se&&mI(u),u.flags|=1,li(l,u,w,O),u.child)}function YW(l,u,p,w,O){if(l===null){var j=p.type;return typeof j=="function"&&!fI(j)&&j.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=j,XW(l,u,j,w,O)):(l=SS(p.type,null,w,u,u.mode,O),l.ref=u.ref,l.return=u,u.child=l)}if(j=l.child,!oP(l,O)){var J=j.memoizedProps;if(p=p.compare,p=p!==null?p:F,p(J,w)&&l.ref===u.ref)return Cc(l,u,O)}return u.flags|=1,l=gc(j,w),l.ref=u.ref,l.return=u,u.child=l}function XW(l,u,p,w,O){if(l!==null){var j=l.memoizedProps;if(F(j,w)&&l.ref===u.ref)if(Yo=!1,u.pendingProps=w=j,oP(l,O))(l.flags&131072)!==0&&(Yo=!0);else return u.lanes=l.lanes,Cc(l,u,O)}return ZI(l,u,p,w,O)}function ZW(l,u,p){var w=u.pendingProps,O=w.children,j=l!==null?l.memoizedState:null;if(w.mode==="hidden"){if((u.flags&128)!==0){if(w=j!==null?j.baseLanes|p:p,l!==null){for(O=u.child=l.child,j=0;O!==null;)j=j|O.lanes|O.childLanes,O=O.sibling;u.childLanes=j&~w}else u.childLanes=0,u.child=null;return QW(l,u,w,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&TS(u,j!==null?j.cachePool:null),j!==null?X4(u,j):II(),FW(u);else return u.lanes=u.childLanes=536870912,QW(l,u,j!==null?j.baseLanes|p:p,p)}else j!==null?(TS(u,j.cachePool),X4(u,j),Pu(),u.memoizedState=null):(l!==null&&TS(u,null),II(),Pu());return li(l,u,O,p),u.child}function QW(l,u,p,w){var O=_I();return O=O===null?null:{parent:jo._currentValue,pool:O},u.memoizedState={baseLanes:p,cachePool:O},l!==null&&TS(u,null),II(),FW(u),l!==null&&rv(l,u,w,!0),null}function US(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function ZI(l,u,p,w,O){return vh(u),p=DI(l,u,p,w,void 0,O),w=AI(),l!==null&&!Yo?(LI(l,u,O),Cc(l,u,O)):(nn&&w&&mI(u),u.flags|=1,li(l,u,p,O),u.child)}function JW(l,u,p,w,O,j){return vh(u),u.updateQueue=null,p=Q4(u,w,p,O),Z4(l),w=AI(),l!==null&&!Yo?(LI(l,u,j),Cc(l,u,j)):(nn&&w&&mI(u),u.flags|=1,li(l,u,p,j),u.child)}function e6(l,u,p,w,O){if(vh(u),u.stateNode===null){var j=bs,J=p.contextType;typeof J=="object"&&J!==null&&(j=wi(J)),j=new p(w,j),u.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=YI,u.stateNode=j,j._reactInternals=u,j=u.stateNode,j.props=w,j.state=u.memoizedState,j.refs={},TI(u),J=p.contextType,j.context=typeof J=="object"&&J!==null?wi(J):bs,j.state=u.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(qI(u,p,J,w),j.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(J=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),J!==j.state&&YI.enqueueReplaceState(j,j.state,null),cv(u,w,j,O),lv(),j.state=u.memoizedState),typeof j.componentDidMount=="function"&&(u.flags|=4194308),w=!0}else if(l===null){j=u.stateNode;var se=u.memoizedProps,ve=wh(p,se);j.props=ve;var Be=j.context,tt=p.contextType;J=bs,typeof tt=="object"&&tt!==null&&(J=wi(tt));var lt=p.getDerivedStateFromProps;tt=typeof lt=="function"||typeof j.getSnapshotBeforeUpdate=="function",se=u.pendingProps!==se,tt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(se||Be!==J)&&VW(u,j,w,J),Tu=!1;var ze=u.memoizedState;j.state=ze,cv(u,w,j,O),lv(),Be=u.memoizedState,se||ze!==Be||Tu?(typeof lt=="function"&&(qI(u,p,lt,w),Be=u.memoizedState),(ve=Tu||jW(u,p,ve,w,ze,Be,J))?(tt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(u.flags|=4194308)):(typeof j.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Be),j.props=w,j.state=Be,j.context=J,w=ve):(typeof j.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{j=u.stateNode,MI(l,u),J=u.memoizedProps,tt=wh(p,J),j.props=tt,lt=u.pendingProps,ze=j.context,Be=p.contextType,ve=bs,typeof Be=="object"&&Be!==null&&(ve=wi(Be)),se=p.getDerivedStateFromProps,(Be=typeof se=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(J!==lt||ze!==ve)&&VW(u,j,w,ve),Tu=!1,ze=u.memoizedState,j.state=ze,cv(u,w,j,O),lv();var Ge=u.memoizedState;J!==lt||ze!==Ge||Tu||l!==null&&l.dependencies!==null&&_S(l.dependencies)?(typeof se=="function"&&(qI(u,p,se,w),Ge=u.memoizedState),(tt=Tu||jW(u,p,tt,w,ze,Ge,ve)||l!==null&&l.dependencies!==null&&_S(l.dependencies))?(Be||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,Ge,ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,Ge,ve)),typeof j.componentDidUpdate=="function"&&(u.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof j.componentDidUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Ge),j.props=w,j.state=Ge,j.context=ve,w=tt):(typeof j.componentDidUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&ze===l.memoizedState||(u.flags|=1024),w=!1)}return j=w,US(l,u),w=(u.flags&128)!==0,j||w?(j=u.stateNode,p=w&&typeof p.getDerivedStateFromError!="function"?null:j.render(),u.flags|=1,l!==null&&w?(u.child=ip(u,l.child,null,O),u.child=ip(u,null,p,O)):li(l,u,p,O),u.memoizedState=j.state,l=u.child):l=Cc(l,u,O),l}function t6(l,u,p,w){return ev(),u.flags|=256,li(l,u,p,w),u.child}var QI={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function JI(l){return{baseLanes:l,cachePool:z4()}}function eP(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=ua),l}function r6(l,u,p){var w=u.pendingProps,O=!1,j=(u.flags&128)!==0,J;if((J=j)||(J=l!==null&&l.memoizedState===null?!1:(Vo.current&2)!==0),J&&(O=!0,u.flags&=-129),J=(u.flags&32)!==0,u.flags&=-33,l===null){if(nn){if(O?Iu(u):Pu(),nn){var se=fo,ve;if(ve=se){e:{for(ve=se,se=Ol;ve.nodeType!==8;){if(!se){se=null;break e}if(ve=ja(ve.nextSibling),ve===null){se=null;break e}}se=ve}se!==null?(u.memoizedState={dehydrated:se,treeContext:hh!==null?{id:mc,overflow:vc}:null,retryLane:536870912,hydrationErrors:null},ve=ws(18,null,null,0),ve.stateNode=se,ve.return=u,u.child=ve,Di=u,fo=null,ve=!0):ve=!1}ve||gh(u)}if(se=u.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return BP(se)?u.lanes=32:u.lanes=536870912,null;Sc(u)}return se=w.children,w=w.fallback,O?(Pu(),O=u.mode,se=GS({mode:"hidden",children:se},O),w=dh(w,O,p,null),se.return=u,w.return=u,se.sibling=w,u.child=se,O=u.child,O.memoizedState=JI(p),O.childLanes=eP(l,J,p),u.memoizedState=QI,w):(Iu(u),tP(u,se))}if(ve=l.memoizedState,ve!==null&&(se=ve.dehydrated,se!==null)){if(j)u.flags&256?(Iu(u),u.flags&=-257,u=rP(l,u,p)):u.memoizedState!==null?(Pu(),u.child=l.child,u.flags|=128,u=null):(Pu(),O=w.fallback,se=u.mode,w=GS({mode:"visible",children:w.children},se),O=dh(O,se,p,null),O.flags|=2,w.return=u,O.return=u,w.sibling=O,u.child=w,ip(u,l.child,null,p),w=u.child,w.memoizedState=JI(p),w.childLanes=eP(l,J,p),u.memoizedState=QI,u=O);else if(Iu(u),BP(se)){if(J=se.nextSibling&&se.nextSibling.dataset,J)var Be=J.dgst;J=Be,w=Error(n(419)),w.stack="",w.digest=J,tv({value:w,source:null,stack:null}),u=rP(l,u,p)}else if(Yo||rv(l,u,p,!1),J=(p&l.childLanes)!==0,Yo||J){if(J=jn,J!==null&&(w=p&-p,w=(w&42)!==0?1:Fn(w),w=(w&(J.suspendedLanes|p))!==0?0:w,w!==0&&w!==ve.retryLane))throw ve.retryLane=w,jt(l,w),Es(J,l,w),KW;se.data==="$?"||wP(),u=rP(l,u,p)}else se.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=ve.treeContext,fo=ja(se.nextSibling),Di=u,nn=!0,ph=null,Ol=!1,l!==null&&(aa[la++]=mc,aa[la++]=vc,aa[la++]=hh,mc=l.id,vc=l.overflow,hh=u),u=tP(u,w.children),u.flags|=4096);return u}return O?(Pu(),O=w.fallback,se=u.mode,ve=l.child,Be=ve.sibling,w=gc(ve,{mode:"hidden",children:w.children}),w.subtreeFlags=ve.subtreeFlags&65011712,Be!==null?O=gc(Be,O):(O=dh(O,se,p,null),O.flags|=2),O.return=u,w.return=u,w.sibling=O,u.child=w,w=O,O=u.child,se=l.child.memoizedState,se===null?se=JI(p):(ve=se.cachePool,ve!==null?(Be=jo._currentValue,ve=ve.parent!==Be?{parent:Be,pool:Be}:ve):ve=z4(),se={baseLanes:se.baseLanes|p,cachePool:ve}),O.memoizedState=se,O.childLanes=eP(l,J,p),u.memoizedState=QI,w):(Iu(u),p=l.child,l=p.sibling,p=gc(p,{mode:"visible",children:w.children}),p.return=u,p.sibling=null,l!==null&&(J=u.deletions,J===null?(u.deletions=[l],u.flags|=16):J.push(l)),u.child=p,u.memoizedState=null,p)}function tP(l,u){return u=GS({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function GS(l,u){return l=ws(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function rP(l,u,p){return ip(u,l.child,null,p),l=tP(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function n6(l,u,p){l.lanes|=u;var w=l.alternate;w!==null&&(w.lanes|=u),wI(l.return,u,p)}function nP(l,u,p,w,O){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:O}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=p,j.tailMode=O)}function o6(l,u,p){var w=u.pendingProps,O=w.revealOrder,j=w.tail;if(li(l,u,w.children,p),w=Vo.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&n6(l,p,u);else if(l.tag===19)n6(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}switch(le(Vo,w),O){case"forwards":for(p=u.child,O=null;p!==null;)l=p.alternate,l!==null&&VS(l)===null&&(O=p),p=p.sibling;p=O,p===null?(O=u.child,u.child=null):(O=p.sibling,p.sibling=null),nP(u,!1,O,p,j);break;case"backwards":for(p=null,O=u.child,u.child=null;O!==null;){if(l=O.alternate,l!==null&&VS(l)===null){u.child=O;break}l=O.sibling,O.sibling=p,p=O,O=l}nP(u,!0,p,null,j);break;case"together":nP(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Cc(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Nu|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(rv(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=gc(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=gc(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function oP(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&_S(l)))}function iHe(l,u,p){switch(u.tag){case 3:Me(u,u.stateNode.containerInfo),Eu(u,jo,l.memoizedState.cache),ev();break;case 27:case 5:he(u);break;case 4:Me(u,u.stateNode.containerInfo);break;case 10:Eu(u,u.type,u.memoizedProps.value);break;case 13:var w=u.memoizedState;if(w!==null)return w.dehydrated!==null?(Iu(u),u.flags|=128,null):(p&u.child.childLanes)!==0?r6(l,u,p):(Iu(u),l=Cc(l,u,p),l!==null?l.sibling:null);Iu(u);break;case 19:var O=(l.flags&128)!==0;if(w=(p&u.childLanes)!==0,w||(rv(l,u,p,!1),w=(p&u.childLanes)!==0),O){if(w)return o6(l,u,p);u.flags|=128}if(O=u.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),le(Vo,Vo.current),w)break;return null;case 22:case 23:return u.lanes=0,ZW(l,u,p);case 24:Eu(u,jo,l.memoizedState.cache)}return Cc(l,u,p)}function i6(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Yo=!0;else{if(!oP(l,p)&&(u.flags&128)===0)return Yo=!1,iHe(l,u,p);Yo=(l.flags&131072)!==0}else Yo=!1,nn&&(u.flags&1048576)!==0&&L4(u,xS,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var w=u.elementType,O=w._init;if(w=O(w._payload),u.type=w,typeof w=="function")fI(w)?(l=wh(w,l),u.tag=1,u=e6(null,u,w,l,p)):(u.tag=0,u=ZI(null,u,w,l,p));else{if(w!=null){if(O=w.$$typeof,O===R){u.tag=11,u=qW(null,u,w,l,p);break e}else if(O===N){u.tag=14,u=YW(null,u,w,l,p);break e}}throw u=q(w)||w,Error(n(306,u,""))}}return u;case 0:return ZI(l,u,u.type,u.pendingProps,p);case 1:return w=u.type,O=wh(w,u.pendingProps),e6(l,u,w,O,p);case 3:e:{if(Me(u,u.stateNode.containerInfo),l===null)throw Error(n(387));w=u.pendingProps;var j=u.memoizedState;O=j.element,MI(l,u),cv(u,w,null,p);var J=u.memoizedState;if(w=J.cache,Eu(u,jo,w),w!==j.cache&&SI(u,[jo],p,!0),lv(),w=J.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:J.cache},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){u=t6(l,u,w,p);break e}else if(w!==O){O=hn(Error(n(424)),u),tv(O),u=t6(l,u,w,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(fo=ja(l.firstChild),Di=u,nn=!0,ph=null,Ol=!0,p=BW(u,null,w,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(ev(),w===O){u=Cc(l,u,p);break e}li(l,u,w,p)}u=u.child}return u;case 26:return US(l,u),l===null?(p=cK(u.type,null,u.pendingProps,null))?u.memoizedState=p:nn||(p=u.type,l=u.pendingProps,w=oC(ae.current).createElement(p),w[nr]=u,w[rr]=l,ui(w,p,l),or(w),u.stateNode=w):u.memoizedState=cK(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return he(u),l===null&&nn&&(w=u.stateNode=sK(u.type,u.pendingProps,ae.current),Di=u,Ol=!0,O=fo,Vu(u.type)?(FP=O,fo=ja(w.firstChild)):fo=O),li(l,u,u.pendingProps.children,p),US(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&nn&&((O=w=fo)&&(w=DHe(w,u.type,u.pendingProps,Ol),w!==null?(u.stateNode=w,Di=u,fo=ja(w.firstChild),Ol=!1,O=!0):O=!1),O||gh(u)),he(u),O=u.type,j=u.pendingProps,J=l!==null?l.memoizedProps:null,w=j.children,AP(O,j)?w=null:J!==null&&AP(O,J)&&(u.flags|=32),u.memoizedState!==null&&(O=DI(l,u,ZGe,null,null,p),Pv._currentValue=O),US(l,u),li(l,u,w,p),u.child;case 6:return l===null&&nn&&((l=p=fo)&&(p=AHe(p,u.pendingProps,Ol),p!==null?(u.stateNode=p,Di=u,fo=null,l=!0):l=!1),l||gh(u)),null;case 13:return r6(l,u,p);case 4:return Me(u,u.stateNode.containerInfo),w=u.pendingProps,l===null?u.child=ip(u,null,w,p):li(l,u,w,p),u.child;case 11:return qW(l,u,u.type,u.pendingProps,p);case 7:return li(l,u,u.pendingProps,p),u.child;case 8:return li(l,u,u.pendingProps.children,p),u.child;case 12:return li(l,u,u.pendingProps.children,p),u.child;case 10:return w=u.pendingProps,Eu(u,u.type,w.value),li(l,u,w.children,p),u.child;case 9:return O=u.type._context,w=u.pendingProps.children,vh(u),O=wi(O),w=w(O),u.flags|=1,li(l,u,w,p),u.child;case 14:return YW(l,u,u.type,u.pendingProps,p);case 15:return XW(l,u,u.type,u.pendingProps,p);case 19:return o6(l,u,p);case 31:return w=u.pendingProps,p=u.mode,w={mode:w.mode,children:w.children},l===null?(p=GS(w,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=gc(l.child,w),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return ZW(l,u,p);case 24:return vh(u),w=wi(jo),l===null?(O=_I(),O===null&&(O=jn,j=CI(),O.pooledCache=j,j.refCount++,j!==null&&(O.pooledCacheLanes|=p),O=j),u.memoizedState={parent:w,cache:O},TI(u),Eu(u,jo,O)):((l.lanes&p)!==0&&(MI(l,u),cv(u,null,null,p),lv()),O=l.memoizedState,j=u.memoizedState,O.parent!==w?(O={parent:w,cache:w},u.memoizedState=O,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=O),Eu(u,jo,w)):(w=j.cache,Eu(u,jo,w),w!==O.cache&&SI(u,[jo],p,!0))),li(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function xc(l){l.flags|=4}function s6(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!pK(u)){if(u=ca.current,u!==null&&((Gr&4194048)===Gr?Rl!==null:(Gr&62914560)!==Gr&&(Gr&536870912)===0||u!==Rl))throw sv=EI,U4;l.flags|=8192}}function HS(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Dr():536870912,l.lanes|=u,cp|=u)}function mv(l,u){if(!nn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function so(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,w=0;if(u)for(var O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=w,l.childLanes=p,u}function sHe(l,u,p){var w=u.pendingProps;switch(vI(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return so(u),null;case 1:return so(u),null;case 3:return p=u.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),u.memoizedState.cache!==w&&(u.flags|=2048),bc(jo),xe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Jm(u)?xc(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,F4())),so(u),null;case 26:return p=u.memoizedState,l===null?(xc(u),p!==null?(so(u),s6(u,p)):(so(u),u.flags&=-16777217)):p?p!==l.memoizedState?(xc(u),so(u),s6(u,p)):(so(u),u.flags&=-16777217):(l.memoizedProps!==w&&xc(u),so(u),u.flags&=-16777217),null;case 27:pe(u),p=ae.current;var O=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==w&&xc(u);else{if(!w){if(u.stateNode===null)throw Error(n(166));return so(u),null}l=ce.current,Jm(u)?N4(u):(l=sK(O,w,p),u.stateNode=l,xc(u))}return so(u),null;case 5:if(pe(u),p=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==w&&xc(u);else{if(!w){if(u.stateNode===null)throw Error(n(166));return so(u),null}if(l=ce.current,Jm(u))N4(u);else{switch(O=oC(ae.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?l.multiple=!0:w.size&&(l.size=w.size);break;default:l=typeof w.is=="string"?O.createElement(p,{is:w.is}):O.createElement(p)}}l[nr]=u,l[rr]=w;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=l;e:switch(ui(l,p,w),p){case"button":case"input":case"select":case"textarea":l=!!w.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xc(u)}}return so(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==w&&xc(u);else{if(typeof w!="string"&&u.stateNode===null)throw Error(n(166));if(l=ae.current,Jm(u)){if(l=u.stateNode,p=u.memoizedProps,w=null,O=Di,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}l[nr]=u,l=!!(l.nodeValue===p||w!==null&&w.suppressHydrationWarning===!0||J6(l.nodeValue,p)),l||gh(u)}else l=oC(l).createTextNode(w),l[nr]=u,u.stateNode=l}return so(u),null;case 13:if(w=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=Jm(u),w!==null&&w.dehydrated!==null){if(l===null){if(!O)throw Error(n(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[nr]=u}else ev(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;so(u),O=!1}else O=F4(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return u.flags&256?(Sc(u),u):(Sc(u),null)}if(Sc(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=w!==null,l=l!==null&&l.memoizedState!==null,p){w=u.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var j=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(j=w.memoizedState.cachePool.pool),j!==O&&(w.flags|=2048)}return p!==l&&p&&(u.child.flags|=8192),HS(u,u.updateQueue),so(u),null;case 4:return xe(),l===null&&RP(u.stateNode.containerInfo),so(u),null;case 10:return bc(u.type),so(u),null;case 19:if(Z(Vo),O=u.memoizedState,O===null)return so(u),null;if(w=(u.flags&128)!==0,j=O.rendering,j===null)if(w)mv(O,!1);else{if(po!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(j=VS(l),j!==null){for(u.flags|=128,mv(O,!1),l=j.updateQueue,u.updateQueue=l,HS(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)A4(p,l),p=p.sibling;return le(Vo,Vo.current&1|2),u.child}l=l.sibling}O.tail!==null&&nt()>qS&&(u.flags|=128,w=!0,mv(O,!1),u.lanes=4194304)}else{if(!w)if(l=VS(j),l!==null){if(u.flags|=128,w=!0,l=l.updateQueue,u.updateQueue=l,HS(u,l),mv(O,!0),O.tail===null&&O.tailMode==="hidden"&&!j.alternate&&!nn)return so(u),null}else 2*nt()-O.renderingStartTime>qS&&p!==536870912&&(u.flags|=128,w=!0,mv(O,!1),u.lanes=4194304);O.isBackwards?(j.sibling=u.child,u.child=j):(l=O.last,l!==null?l.sibling=j:u.child=j,O.last=j)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=nt(),u.sibling=null,l=Vo.current,le(Vo,w?l&1|2:l&1),u):(so(u),null);case 22:case 23:return Sc(u),PI(),w=u.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(u.flags|=8192):w&&(u.flags|=8192),w?(p&536870912)!==0&&(u.flags&128)===0&&(so(u),u.subtreeFlags&6&&(u.flags|=8192)):so(u),p=u.updateQueue,p!==null&&HS(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==p&&(u.flags|=2048),l!==null&&Z(yh),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),bc(jo),so(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function aHe(l,u){switch(vI(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return bc(jo),xe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return pe(u),null;case 13:if(Sc(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));ev()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Z(Vo),null;case 4:return xe(),null;case 10:return bc(u.type),null;case 22:case 23:return Sc(u),PI(),l!==null&&Z(yh),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return bc(jo),null;case 25:return null;default:return null}}function a6(l,u){switch(vI(u),u.tag){case 3:bc(jo),xe();break;case 26:case 27:case 5:pe(u);break;case 4:xe();break;case 13:Sc(u);break;case 19:Z(Vo);break;case 10:bc(u.type);break;case 22:case 23:Sc(u),PI(),l!==null&&Z(yh);break;case 24:bc(jo)}}function vv(l,u){try{var p=u.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var O=w.next;p=O;do{if((p.tag&l)===l){w=void 0;var j=p.create,J=p.inst;w=j(),J.destroy=w}p=p.next}while(p!==O)}}catch(se){An(u,u.return,se)}}function ku(l,u,p){try{var w=u.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var j=O.next;w=j;do{if((w.tag&l)===l){var J=w.inst,se=J.destroy;if(se!==void 0){J.destroy=void 0,O=u;var ve=p,Be=se;try{Be()}catch(tt){An(O,ve,tt)}}}w=w.next}while(w!==j)}}catch(tt){An(u,u.return,tt)}}function l6(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{Y4(u,p)}catch(w){An(l,l.return,w)}}}function c6(l,u,p){p.props=wh(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(w){An(l,u,w)}}function yv(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var w=l.stateNode;break;case 30:w=l.stateNode;break;default:w=l.stateNode}typeof p=="function"?l.refCleanup=p(w):p.current=w}}catch(O){An(l,u,O)}}function Il(l,u){var p=l.ref,w=l.refCleanup;if(p!==null)if(typeof w=="function")try{w()}catch(O){An(l,u,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(O){An(l,u,O)}else p.current=null}function u6(l){var u=l.type,p=l.memoizedProps,w=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&w.focus();break e;case"img":p.src?w.src=p.src:p.srcSet&&(w.srcset=p.srcSet)}}catch(O){An(l,l.return,O)}}function iP(l,u,p){try{var w=l.stateNode;OHe(w,l.type,p,u),w[rr]=u}catch(O){An(l,l.return,O)}}function d6(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Vu(l.type)||l.tag===4}function sP(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||d6(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Vu(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function aP(l,u,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=nC));else if(w!==4&&(w===27&&Vu(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(aP(l,u,p),l=l.sibling;l!==null;)aP(l,u,p),l=l.sibling}function WS(l,u,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(w!==4&&(w===27&&Vu(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(WS(l,u,p),l=l.sibling;l!==null;)WS(l,u,p),l=l.sibling}function h6(l){var u=l.stateNode,p=l.memoizedProps;try{for(var w=l.type,O=u.attributes;O.length;)u.removeAttributeNode(O[0]);ui(u,w,p),u[nr]=l,u[rr]=p}catch(j){An(l,l.return,j)}}var _c=!1,Co=!1,lP=!1,f6=typeof WeakSet=="function"?WeakSet:Set,Xo=null;function lHe(l,u){if(l=l.containerInfo,kP=uC,l=de(l),ge(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var O=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{p.nodeType,j.nodeType}catch{p=null;break e}var J=0,se=-1,ve=-1,Be=0,tt=0,lt=l,ze=null;t:for(;;){for(var Ge;lt!==p||O!==0&&lt.nodeType!==3||(se=J+O),lt!==j||w!==0&&lt.nodeType!==3||(ve=J+w),lt.nodeType===3&&(J+=lt.nodeValue.length),(Ge=lt.firstChild)!==null;)ze=lt,lt=Ge;for(;;){if(lt===l)break t;if(ze===p&&++Be===O&&(se=J),ze===j&&++tt===w&&(ve=J),(Ge=lt.nextSibling)!==null)break;lt=ze,ze=lt.parentNode}lt=Ge}p=se===-1||ve===-1?null:{start:se,end:ve}}else p=null}p=p||{start:0,end:0}}else p=null;for(DP={focusedElem:l,selectionRange:p},uC=!1,Xo=u;Xo!==null;)if(u=Xo,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Xo=l;else for(;Xo!==null;){switch(u=Xo,j=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&j!==null){l=void 0,p=u,O=j.memoizedProps,j=j.memoizedState,w=p.stateNode;try{var gr=wh(p.type,O,p.elementType===p.type);l=w.getSnapshotBeforeUpdate(gr,j),w.__reactInternalSnapshotBeforeUpdate=l}catch(hr){An(p,p.return,hr)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)NP(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":NP(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,Xo=l;break}Xo=u.return}}function p6(l,u,p){var w=p.flags;switch(p.tag){case 0:case 11:case 15:Du(l,p),w&4&&vv(5,p);break;case 1:if(Du(l,p),w&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(J){An(p,p.return,J)}else{var O=wh(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(O,u,l.__reactInternalSnapshotBeforeUpdate)}catch(J){An(p,p.return,J)}}w&64&&l6(p),w&512&&yv(p,p.return);break;case 3:if(Du(l,p),w&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{Y4(l,u)}catch(J){An(p,p.return,J)}}break;case 27:u===null&&w&4&&h6(p);case 26:case 5:Du(l,p),u===null&&w&4&&u6(p),w&512&&yv(p,p.return);break;case 12:Du(l,p);break;case 13:Du(l,p),w&4&&v6(l,p),w&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=vHe.bind(null,p),LHe(l,p))));break;case 22:if(w=p.memoizedState!==null||_c,!w){u=u!==null&&u.memoizedState!==null||Co,O=_c;var j=Co;_c=w,(Co=u)&&!j?Au(l,p,(p.subtreeFlags&8772)!==0):Du(l,p),_c=O,Co=j}break;case 30:break;default:Du(l,p)}}function g6(l){var u=l.alternate;u!==null&&(l.alternate=null,g6(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Dn(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ro=null,qi=!1;function Ec(l,u,p){for(p=p.child;p!==null;)m6(l,u,p),p=p.sibling}function m6(l,u,p){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(zt,p)}catch{}switch(p.tag){case 26:Co||Il(p,u),Ec(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Co||Il(p,u);var w=ro,O=qi;Vu(p.type)&&(ro=p.stateNode,qi=!1),Ec(l,u,p),Mv(p.stateNode),ro=w,qi=O;break;case 5:Co||Il(p,u);case 6:if(w=ro,O=qi,ro=null,Ec(l,u,p),ro=w,qi=O,ro!==null)if(qi)try{(ro.nodeType===9?ro.body:ro.nodeName==="HTML"?ro.ownerDocument.body:ro).removeChild(p.stateNode)}catch(j){An(p,u,j)}else try{ro.removeChild(p.stateNode)}catch(j){An(p,u,j)}break;case 18:ro!==null&&(qi?(l=ro,oK(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Lv(l)):oK(ro,p.stateNode));break;case 4:w=ro,O=qi,ro=p.stateNode.containerInfo,qi=!0,Ec(l,u,p),ro=w,qi=O;break;case 0:case 11:case 14:case 15:Co||ku(2,p,u),Co||ku(4,p,u),Ec(l,u,p);break;case 1:Co||(Il(p,u),w=p.stateNode,typeof w.componentWillUnmount=="function"&&c6(p,u,w)),Ec(l,u,p);break;case 21:Ec(l,u,p);break;case 22:Co=(w=Co)||p.memoizedState!==null,Ec(l,u,p),Co=w;break;default:Ec(l,u,p)}}function v6(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Lv(l)}catch(p){An(u,u.return,p)}}function cHe(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new f6),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new f6),u;default:throw Error(n(435,l.tag))}}function cP(l,u){var p=cHe(l);u.forEach(function(w){var O=yHe.bind(null,l,w);p.has(w)||(p.add(w),w.then(O,O))})}function Ss(l,u){var p=u.deletions;if(p!==null)for(var w=0;w<p.length;w++){var O=p[w],j=l,J=u,se=J;e:for(;se!==null;){switch(se.tag){case 27:if(Vu(se.type)){ro=se.stateNode,qi=!1;break e}break;case 5:ro=se.stateNode,qi=!1;break e;case 3:case 4:ro=se.stateNode.containerInfo,qi=!0;break e}se=se.return}if(ro===null)throw Error(n(160));m6(j,J,O),ro=null,qi=!1,j=O.alternate,j!==null&&(j.return=null),O.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)y6(u,l),u=u.sibling}var Fa=null;function y6(l,u){var p=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ss(u,l),Cs(l),w&4&&(ku(3,l,l.return),vv(3,l),ku(5,l,l.return));break;case 1:Ss(u,l),Cs(l),w&512&&(Co||p===null||Il(p,p.return)),w&64&&_c&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?w:p.concat(w))));break;case 26:var O=Fa;if(Ss(u,l),Cs(l),w&512&&(Co||p===null||Il(p,p.return)),w&4){var j=p!==null?p.memoizedState:null;if(w=l.memoizedState,p===null)if(w===null)if(l.stateNode===null){e:{w=l.type,p=l.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":j=O.getElementsByTagName("title")[0],(!j||j[Gn]||j[nr]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=O.createElement(w),O.head.insertBefore(j,O.querySelector("head > title"))),ui(j,w,p),j[nr]=l,or(j),w=j;break e;case"link":var J=hK("link","href",O).get(w+(p.href||""));if(J){for(var se=0;se<J.length;se++)if(j=J[se],j.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&j.getAttribute("rel")===(p.rel==null?null:p.rel)&&j.getAttribute("title")===(p.title==null?null:p.title)&&j.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(se,1);break t}}j=O.createElement(w),ui(j,w,p),O.head.appendChild(j);break;case"meta":if(J=hK("meta","content",O).get(w+(p.content||""))){for(se=0;se<J.length;se++)if(j=J[se],j.getAttribute("content")===(p.content==null?null:""+p.content)&&j.getAttribute("name")===(p.name==null?null:p.name)&&j.getAttribute("property")===(p.property==null?null:p.property)&&j.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&j.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(se,1);break t}}j=O.createElement(w),ui(j,w,p),O.head.appendChild(j);break;default:throw Error(n(468,w))}j[nr]=l,or(j),w=j}l.stateNode=w}else fK(O,l.type,l.stateNode);else l.stateNode=dK(O,w,l.memoizedProps);else j!==w?(j===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):j.count--,w===null?fK(O,l.type,l.stateNode):dK(O,w,l.memoizedProps)):w===null&&l.stateNode!==null&&iP(l,l.memoizedProps,p.memoizedProps)}break;case 27:Ss(u,l),Cs(l),w&512&&(Co||p===null||Il(p,p.return)),p!==null&&w&4&&iP(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Ss(u,l),Cs(l),w&512&&(Co||p===null||Il(p,p.return)),l.flags&32){O=l.stateNode;try{yl(O,"")}catch(Ge){An(l,l.return,Ge)}}w&4&&l.stateNode!=null&&(O=l.memoizedProps,iP(l,O,p!==null?p.memoizedProps:O)),w&1024&&(lP=!0);break;case 6:if(Ss(u,l),Cs(l),w&4){if(l.stateNode===null)throw Error(n(162));w=l.memoizedProps,p=l.stateNode;try{p.nodeValue=w}catch(Ge){An(l,l.return,Ge)}}break;case 3:if(aC=null,O=Fa,Fa=iC(u.containerInfo),Ss(u,l),Fa=O,Cs(l),w&4&&p!==null&&p.memoizedState.isDehydrated)try{Lv(u.containerInfo)}catch(Ge){An(l,l.return,Ge)}lP&&(lP=!1,b6(l));break;case 4:w=Fa,Fa=iC(l.stateNode.containerInfo),Ss(u,l),Cs(l),Fa=w;break;case 12:Ss(u,l),Cs(l);break;case 13:Ss(u,l),Cs(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(gP=nt()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,cP(l,w)));break;case 22:O=l.memoizedState!==null;var ve=p!==null&&p.memoizedState!==null,Be=_c,tt=Co;if(_c=Be||O,Co=tt||ve,Ss(u,l),Co=tt,_c=Be,Cs(l),w&8192)e:for(u=l.stateNode,u._visibility=O?u._visibility&-2:u._visibility|1,O&&(p===null||ve||_c||Co||Sh(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){ve=p=u;try{if(j=ve.stateNode,O)J=j.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{se=ve.stateNode;var lt=ve.memoizedProps.style,ze=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;se.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(Ge){An(ve,ve.return,Ge)}}}else if(u.tag===6){if(p===null){ve=u;try{ve.stateNode.nodeValue=O?"":ve.memoizedProps}catch(Ge){An(ve,ve.return,Ge)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}w&4&&(w=l.updateQueue,w!==null&&(p=w.retryQueue,p!==null&&(w.retryQueue=null,cP(l,p))));break;case 19:Ss(u,l),Cs(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,cP(l,w)));break;case 30:break;case 21:break;default:Ss(u,l),Cs(l)}}function Cs(l){var u=l.flags;if(u&2){try{for(var p,w=l.return;w!==null;){if(d6(w)){p=w;break}w=w.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var O=p.stateNode,j=sP(l);WS(l,j,O);break;case 5:var J=p.stateNode;p.flags&32&&(yl(J,""),p.flags&=-33);var se=sP(l);WS(l,se,J);break;case 3:case 4:var ve=p.stateNode.containerInfo,Be=sP(l);aP(l,Be,ve);break;default:throw Error(n(161))}}catch(tt){An(l,l.return,tt)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function b6(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;b6(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Du(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)p6(l,u.alternate,u),u=u.sibling}function Sh(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ku(4,u,u.return),Sh(u);break;case 1:Il(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&c6(u,u.return,p),Sh(u);break;case 27:Mv(u.stateNode);case 26:case 5:Il(u,u.return),Sh(u);break;case 22:u.memoizedState===null&&Sh(u);break;case 30:Sh(u);break;default:Sh(u)}l=l.sibling}}function Au(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var w=u.alternate,O=l,j=u,J=j.flags;switch(j.tag){case 0:case 11:case 15:Au(O,j,p),vv(4,j);break;case 1:if(Au(O,j,p),w=j,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Be){An(w,w.return,Be)}if(w=j,O=w.updateQueue,O!==null){var se=w.stateNode;try{var ve=O.shared.hiddenCallbacks;if(ve!==null)for(O.shared.hiddenCallbacks=null,O=0;O<ve.length;O++)q4(ve[O],se)}catch(Be){An(w,w.return,Be)}}p&&J&64&&l6(j),yv(j,j.return);break;case 27:h6(j);case 26:case 5:Au(O,j,p),p&&w===null&&J&4&&u6(j),yv(j,j.return);break;case 12:Au(O,j,p);break;case 13:Au(O,j,p),p&&J&4&&v6(O,j);break;case 22:j.memoizedState===null&&Au(O,j,p),yv(j,j.return);break;case 30:break;default:Au(O,j,p)}u=u.sibling}}function uP(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&nv(p))}function dP(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&nv(l))}function Pl(l,u,p,w){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)w6(l,u,p,w),u=u.sibling}function w6(l,u,p,w){var O=u.flags;switch(u.tag){case 0:case 11:case 15:Pl(l,u,p,w),O&2048&&vv(9,u);break;case 1:Pl(l,u,p,w);break;case 3:Pl(l,u,p,w),O&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&nv(l)));break;case 12:if(O&2048){Pl(l,u,p,w),l=u.stateNode;try{var j=u.memoizedProps,J=j.id,se=j.onPostCommit;typeof se=="function"&&se(J,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ve){An(u,u.return,ve)}}else Pl(l,u,p,w);break;case 13:Pl(l,u,p,w);break;case 23:break;case 22:j=u.stateNode,J=u.alternate,u.memoizedState!==null?j._visibility&2?Pl(l,u,p,w):bv(l,u):j._visibility&2?Pl(l,u,p,w):(j._visibility|=2,sp(l,u,p,w,(u.subtreeFlags&10256)!==0)),O&2048&&uP(J,u);break;case 24:Pl(l,u,p,w),O&2048&&dP(u.alternate,u);break;default:Pl(l,u,p,w)}}function sp(l,u,p,w,O){for(O=O&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var j=l,J=u,se=p,ve=w,Be=J.flags;switch(J.tag){case 0:case 11:case 15:sp(j,J,se,ve,O),vv(8,J);break;case 23:break;case 22:var tt=J.stateNode;J.memoizedState!==null?tt._visibility&2?sp(j,J,se,ve,O):bv(j,J):(tt._visibility|=2,sp(j,J,se,ve,O)),O&&Be&2048&&uP(J.alternate,J);break;case 24:sp(j,J,se,ve,O),O&&Be&2048&&dP(J.alternate,J);break;default:sp(j,J,se,ve,O)}u=u.sibling}}function bv(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,w=u,O=w.flags;switch(w.tag){case 22:bv(p,w),O&2048&&uP(w.alternate,w);break;case 24:bv(p,w),O&2048&&dP(w.alternate,w);break;default:bv(p,w)}u=u.sibling}}var wv=8192;function ap(l){if(l.subtreeFlags&wv)for(l=l.child;l!==null;)S6(l),l=l.sibling}function S6(l){switch(l.tag){case 26:ap(l),l.flags&wv&&l.memoizedState!==null&&qHe(Fa,l.memoizedState,l.memoizedProps);break;case 5:ap(l);break;case 3:case 4:var u=Fa;Fa=iC(l.stateNode.containerInfo),ap(l),Fa=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=wv,wv=16777216,ap(l),wv=u):ap(l));break;default:ap(l)}}function C6(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Sv(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var w=u[p];Xo=w,_6(w,l)}C6(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)x6(l),l=l.sibling}function x6(l){switch(l.tag){case 0:case 11:case 15:Sv(l),l.flags&2048&&ku(9,l,l.return);break;case 3:Sv(l);break;case 12:Sv(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,KS(l)):Sv(l);break;default:Sv(l)}}function KS(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var w=u[p];Xo=w,_6(w,l)}C6(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ku(8,u,u.return),KS(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,KS(u));break;default:KS(u)}l=l.sibling}}function _6(l,u){for(;Xo!==null;){var p=Xo;switch(p.tag){case 0:case 11:case 15:ku(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var w=p.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:nv(p.memoizedState.cache)}if(w=p.child,w!==null)w.return=p,Xo=w;else e:for(p=l;Xo!==null;){w=Xo;var O=w.sibling,j=w.return;if(g6(w),w===p){Xo=null;break e}if(O!==null){O.return=j,Xo=O;break e}Xo=j}}}var uHe={getCacheForType:function(l){var u=wi(jo),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p}},dHe=typeof WeakMap=="function"?WeakMap:Map,Sn=0,jn=null,Vr=null,Gr=0,Cn=0,xs=null,Lu=!1,lp=!1,hP=!1,Tc=0,po=0,Nu=0,Ch=0,fP=0,ua=0,cp=0,Cv=null,Yi=null,pP=!1,gP=0,qS=1/0,YS=null,Bu=null,ci=0,Fu=null,up=null,dp=0,mP=0,vP=null,E6=null,xv=0,yP=null;function _s(){if((Sn&2)!==0&&Gr!==0)return Gr&-Gr;if(V.T!==null){var l=Qf;return l!==0?l:EP()}return Ar()}function T6(){ua===0&&(ua=(Gr&536870912)===0||nn?Ir():536870912);var l=ca.current;return l!==null&&(l.flags|=32),ua}function Es(l,u,p){(l===jn&&(Cn===2||Cn===9)||l.cancelPendingCommit!==null)&&(hp(l,0),ju(l,Gr,ua,!1)),xr(l,p),((Sn&2)===0||l!==jn)&&(l===jn&&((Sn&2)===0&&(Ch|=p),po===4&&ju(l,Gr,ua,!1)),kl(l))}function M6(l,u,p){if((Sn&6)!==0)throw Error(n(327));var w=!p&&(u&124)===0&&(u&l.expiredLanes)===0||ft(l,u),O=w?pHe(l,u):SP(l,u,!0),j=w;do{if(O===0){lp&&!w&&ju(l,u,0,!1);break}else{if(p=l.current.alternate,j&&!hHe(p)){O=SP(l,u,!1),j=!1;continue}if(O===2){if(j=u,l.errorRecoveryDisabledLanes&j)var J=0;else J=l.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){u=J;e:{var se=l;O=Cv;var ve=se.current.memoizedState.isDehydrated;if(ve&&(hp(se,J).flags|=256),J=SP(se,J,!1),J!==2){if(hP&&!ve){se.errorRecoveryDisabledLanes|=j,Ch|=j,O=4;break e}j=Yi,Yi=O,j!==null&&(Yi===null?Yi=j:Yi.push.apply(Yi,j))}O=J}if(j=!1,O!==2)continue}}if(O===1){hp(l,0),ju(l,u,0,!0);break}e:{switch(w=l,j=O,j){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:ju(w,u,ua,!Lu);break e;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(O=gP+300-nt(),10<O)){if(ju(w,u,ua,!Lu),At(w,0,!0)!==0)break e;w.timeoutHandle=rK(O6.bind(null,w,p,Yi,YS,pP,u,ua,Ch,cp,Lu,j,2,-0,0),O);break e}O6(w,p,Yi,YS,pP,u,ua,Ch,cp,Lu,j,0,-0,0)}}break}while(!0);kl(l)}function O6(l,u,p,w,O,j,J,se,ve,Be,tt,lt,ze,Ge){if(l.timeoutHandle=-1,lt=u.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(Iv={stylesheets:null,count:0,unsuspend:KHe},S6(u),lt=YHe(),lt!==null)){l.cancelPendingCommit=lt(L6.bind(null,l,u,j,p,w,O,J,se,ve,tt,1,ze,Ge)),ju(l,j,J,!Be);return}L6(l,u,j,p,w,O,J,se,ve)}function hHe(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var w=0;w<p.length;w++){var O=p[w],j=O.getSnapshot;O=O.value;try{if(!S(j(),O))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ju(l,u,p,w){u&=~fP,u&=~Ch,l.suspendedLanes|=u,l.pingedLanes&=~u,w&&(l.warmLanes|=u),w=l.expirationTimes;for(var O=u;0<O;){var j=31-gt(O),J=1<<j;w[j]=-1,O&=~J}p!==0&&qr(l,p,u)}function XS(){return(Sn&6)===0?(_v(0),!1):!0}function bP(){if(Vr!==null){if(Cn===0)var l=Vr.return;else l=Vr,yc=mh=null,NI(l),op=null,pv=0,l=Vr;for(;l!==null;)a6(l.alternate,l),l=l.return;Vr=null}}function hp(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,IHe(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),bP(),jn=l,Vr=p=gc(l.current,null),Gr=u,Cn=0,xs=null,Lu=!1,lp=ft(l,u),hP=!1,cp=ua=fP=Ch=Nu=po=0,Yi=Cv=null,pP=!1,(u&8)!==0&&(u|=u&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=u;0<w;){var O=31-gt(w),j=1<<O;u|=l[O],w&=~j}return Tc=u,me(),p}function R6(l,u){Lr=null,V.H=BS,u===iv||u===MS?(u=W4(),Cn=3):u===U4?(u=W4(),Cn=4):Cn=u===KW?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,xs=u,Vr===null&&(po=1,zS(l,hn(u,l.current)))}function I6(){var l=V.H;return V.H=BS,l===null?BS:l}function P6(){var l=V.A;return V.A=uHe,l}function wP(){po=4,Lu||(Gr&4194048)!==Gr&&ca.current!==null||(lp=!0),(Nu&134217727)===0&&(Ch&134217727)===0||jn===null||ju(jn,Gr,ua,!1)}function SP(l,u,p){var w=Sn;Sn|=2;var O=I6(),j=P6();(jn!==l||Gr!==u)&&(YS=null,hp(l,u)),u=!1;var J=po;e:do try{if(Cn!==0&&Vr!==null){var se=Vr,ve=xs;switch(Cn){case 8:bP(),J=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(u=!0);var Be=Cn;if(Cn=0,xs=null,fp(l,se,ve,Be),p&&lp){J=0;break e}break;default:Be=Cn,Cn=0,xs=null,fp(l,se,ve,Be)}}fHe(),J=po;break}catch(tt){R6(l,tt)}while(!0);return u&&l.shellSuspendCounter++,yc=mh=null,Sn=w,V.H=O,V.A=j,Vr===null&&(jn=null,Gr=0,me()),J}function fHe(){for(;Vr!==null;)k6(Vr)}function pHe(l,u){var p=Sn;Sn|=2;var w=I6(),O=P6();jn!==l||Gr!==u?(YS=null,qS=nt()+500,hp(l,u)):lp=ft(l,u);e:do try{if(Cn!==0&&Vr!==null){u=Vr;var j=xs;t:switch(Cn){case 1:Cn=0,xs=null,fp(l,u,j,1);break;case 2:case 9:if(G4(j)){Cn=0,xs=null,D6(u);break}u=function(){Cn!==2&&Cn!==9||jn!==l||(Cn=7),kl(l)},j.then(u,u);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:G4(j)?(Cn=0,xs=null,D6(u)):(Cn=0,xs=null,fp(l,u,j,7));break;case 5:var J=null;switch(Vr.tag){case 26:J=Vr.memoizedState;case 5:case 27:var se=Vr;if(!J||pK(J)){Cn=0,xs=null;var ve=se.sibling;if(ve!==null)Vr=ve;else{var Be=se.return;Be!==null?(Vr=Be,ZS(Be)):Vr=null}break t}}Cn=0,xs=null,fp(l,u,j,5);break;case 6:Cn=0,xs=null,fp(l,u,j,6);break;case 8:bP(),po=6;break e;default:throw Error(n(462))}}gHe();break}catch(tt){R6(l,tt)}while(!0);return yc=mh=null,V.H=w,V.A=O,Sn=p,Vr!==null?0:(jn=null,Gr=0,me(),po)}function gHe(){for(;Vr!==null&&!Te();)k6(Vr)}function k6(l){var u=i6(l.alternate,l,Tc);l.memoizedProps=l.pendingProps,u===null?ZS(l):Vr=u}function D6(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=JW(p,u,u.pendingProps,u.type,void 0,Gr);break;case 11:u=JW(p,u,u.pendingProps,u.type.render,u.ref,Gr);break;case 5:NI(u);default:a6(p,u),u=Vr=A4(u,Tc),u=i6(p,u,Tc)}l.memoizedProps=l.pendingProps,u===null?ZS(l):Vr=u}function fp(l,u,p,w){yc=mh=null,NI(u),op=null,pv=0;var O=u.return;try{if(oHe(l,O,u,p,Gr)){po=1,zS(l,hn(p,l.current)),Vr=null;return}}catch(j){if(O!==null)throw Vr=O,j;po=1,zS(l,hn(p,l.current)),Vr=null;return}u.flags&32768?(nn||w===1?l=!0:lp||(Gr&536870912)!==0?l=!1:(Lu=l=!0,(w===2||w===9||w===3||w===6)&&(w=ca.current,w!==null&&w.tag===13&&(w.flags|=16384))),A6(u,l)):ZS(u)}function ZS(l){var u=l;do{if((u.flags&32768)!==0){A6(u,Lu);return}l=u.return;var p=sHe(u.alternate,u,Tc);if(p!==null){Vr=p;return}if(u=u.sibling,u!==null){Vr=u;return}Vr=u=l}while(u!==null);po===0&&(po=5)}function A6(l,u){do{var p=aHe(l.alternate,l);if(p!==null){p.flags&=32767,Vr=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){Vr=l;return}Vr=l=p}while(l!==null);po=6,Vr=null}function L6(l,u,p,w,O,j,J,se,ve){l.cancelPendingCommit=null;do QS();while(ci!==0);if((Sn&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(j=u.lanes|u.childLanes,j|=Ce,Tn(l,p,j,J,se,ve),l===jn&&(Vr=jn=null,Gr=0),up=u,Fu=l,dp=p,mP=j,vP=O,E6=w,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,bHe(Ct,function(){return V6(),null})):(l.callbackNode=null,l.callbackPriority=0),w=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||w){w=V.T,V.T=null,O=Y.p,Y.p=2,J=Sn,Sn|=4;try{lHe(l,u,p)}finally{Sn=J,Y.p=O,V.T=w}}ci=1,N6(),B6(),F6()}}function N6(){if(ci===1){ci=0;var l=Fu,u=up,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var w=Y.p;Y.p=2;var O=Sn;Sn|=4;try{y6(u,l);var j=DP,J=de(l.containerInfo),se=j.focusedElem,ve=j.selectionRange;if(J!==se&&se&&se.ownerDocument&&oe(se.ownerDocument.documentElement,se)){if(ve!==null&&ge(se)){var Be=ve.start,tt=ve.end;if(tt===void 0&&(tt=Be),"selectionStart"in se)se.selectionStart=Be,se.selectionEnd=Math.min(tt,se.value.length);else{var lt=se.ownerDocument||document,ze=lt&&lt.defaultView||window;if(ze.getSelection){var Ge=ze.getSelection(),gr=se.textContent.length,hr=Math.min(ve.start,gr),Pn=ve.end===void 0?hr:Math.min(ve.end,gr);!Ge.extend&&hr>Pn&&(J=Pn,Pn=hr,hr=J);var De=ee(se,hr),_e=ee(se,Pn);if(De&&_e&&(Ge.rangeCount!==1||Ge.anchorNode!==De.node||Ge.anchorOffset!==De.offset||Ge.focusNode!==_e.node||Ge.focusOffset!==_e.offset)){var Ne=lt.createRange();Ne.setStart(De.node,De.offset),Ge.removeAllRanges(),hr>Pn?(Ge.addRange(Ne),Ge.extend(_e.node,_e.offset)):(Ne.setEnd(_e.node,_e.offset),Ge.addRange(Ne))}}}}for(lt=[],Ge=se;Ge=Ge.parentNode;)Ge.nodeType===1&&lt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<lt.length;se++){var it=lt[se];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}uC=!!kP,DP=kP=null}finally{Sn=O,Y.p=w,V.T=p}}l.current=u,ci=2}}function B6(){if(ci===2){ci=0;var l=Fu,u=up,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var w=Y.p;Y.p=2;var O=Sn;Sn|=4;try{p6(l,u.alternate,u)}finally{Sn=O,Y.p=w,V.T=p}}ci=3}}function F6(){if(ci===4||ci===3){ci=0,Ve();var l=Fu,u=up,p=dp,w=E6;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ci=5:(ci=0,up=Fu=null,j6(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(Bu=null),sr(p),u=u.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(zt,u,void 0,(u.current.flags&128)===128)}catch{}if(w!==null){u=V.T,O=Y.p,Y.p=2,V.T=null;try{for(var j=l.onRecoverableError,J=0;J<w.length;J++){var se=w[J];j(se.value,{componentStack:se.stack})}}finally{V.T=u,Y.p=O}}(dp&3)!==0&&QS(),kl(l),O=l.pendingLanes,(p&4194090)!==0&&(O&42)!==0?l===yP?xv++:(xv=0,yP=l):xv=0,_v(0)}}function j6(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,nv(u)))}function QS(l){return N6(),B6(),F6(),V6()}function V6(){if(ci!==5)return!1;var l=Fu,u=mP;mP=0;var p=sr(dp),w=V.T,O=Y.p;try{Y.p=32>p?32:p,V.T=null,p=vP,vP=null;var j=Fu,J=dp;if(ci=0,up=Fu=null,dp=0,(Sn&6)!==0)throw Error(n(331));var se=Sn;if(Sn|=4,x6(j.current),w6(j,j.current,J,p),Sn=se,_v(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(zt,j)}catch{}return!0}finally{Y.p=O,V.T=w,j6(l,u)}}function $6(l,u,p){u=hn(p,u),u=XI(l.stateNode,u,2),l=Ou(l,u,2),l!==null&&(xr(l,2),kl(l))}function An(l,u,p){if(l.tag===3)$6(l,l,p);else for(;u!==null;){if(u.tag===3){$6(u,l,p);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Bu===null||!Bu.has(w))){l=hn(p,l),p=HW(2),w=Ou(u,p,2),w!==null&&(WW(p,w,u,l),xr(w,2),kl(w));break}}u=u.return}}function CP(l,u,p){var w=l.pingCache;if(w===null){w=l.pingCache=new dHe;var O=new Set;w.set(u,O)}else O=w.get(u),O===void 0&&(O=new Set,w.set(u,O));O.has(p)||(hP=!0,O.add(p),l=mHe.bind(null,l,u,p),u.then(l,l))}function mHe(l,u,p){var w=l.pingCache;w!==null&&w.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,jn===l&&(Gr&p)===p&&(po===4||po===3&&(Gr&62914560)===Gr&&300>nt()-gP?(Sn&2)===0&&hp(l,0):fP|=p,cp===Gr&&(cp=0)),kl(l)}function z6(l,u){u===0&&(u=Dr()),l=jt(l,u),l!==null&&(xr(l,u),kl(l))}function vHe(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),z6(l,p)}function yHe(l,u){var p=0;switch(l.tag){case 13:var w=l.stateNode,O=l.memoizedState;O!==null&&(p=O.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(u),z6(l,p)}function bHe(l,u){return Ee(l,u)}var JS=null,pp=null,xP=!1,eC=!1,_P=!1,xh=0;function kl(l){l!==pp&&l.next===null&&(pp===null?JS=pp=l:pp=pp.next=l),eC=!0,xP||(xP=!0,SHe())}function _v(l,u){if(!_P&&eC){_P=!0;do for(var p=!1,w=JS;w!==null;){if(l!==0){var O=w.pendingLanes;if(O===0)var j=0;else{var J=w.suspendedLanes,se=w.pingedLanes;j=(1<<31-gt(42|l)+1)-1,j&=O&~(J&~se),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(p=!0,W6(w,j))}else j=Gr,j=At(w,w===jn?j:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(j&3)===0||ft(w,j)||(p=!0,W6(w,j));w=w.next}while(p);_P=!1}}function wHe(){U6()}function U6(){eC=xP=!1;var l=0;xh!==0&&(RHe()&&(l=xh),xh=0);for(var u=nt(),p=null,w=JS;w!==null;){var O=w.next,j=G6(w,u);j===0?(w.next=null,p===null?JS=O:p.next=O,O===null&&(pp=p)):(p=w,(l!==0||(j&3)!==0)&&(eC=!0)),w=O}_v(l)}function G6(l,u){for(var p=l.suspendedLanes,w=l.pingedLanes,O=l.expirationTimes,j=l.pendingLanes&-62914561;0<j;){var J=31-gt(j),se=1<<J,ve=O[J];ve===-1?((se&p)===0||(se&w)!==0)&&(O[J]=Pt(se,u)):ve<=u&&(l.expiredLanes|=se),j&=~se}if(u=jn,p=Gr,p=At(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w=l.callbackNode,p===0||l===u&&(Cn===2||Cn===9)||l.cancelPendingCommit!==null)return w!==null&&w!==null&&ke(w),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||ft(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(w!==null&&ke(w),sr(p)){case 2:case 8:p=dt;break;case 32:p=Ct;break;case 268435456:p=It;break;default:p=Ct}return w=H6.bind(null,l),p=Ee(p,w),l.callbackPriority=u,l.callbackNode=p,u}return w!==null&&w!==null&&ke(w),l.callbackPriority=2,l.callbackNode=null,2}function H6(l,u){if(ci!==0&&ci!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(QS()&&l.callbackNode!==p)return null;var w=Gr;return w=At(l,l===jn?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w===0?null:(M6(l,w,u),G6(l,nt()),l.callbackNode!=null&&l.callbackNode===p?H6.bind(null,l):null)}function W6(l,u){if(QS())return null;M6(l,u,!0)}function SHe(){PHe(function(){(Sn&6)!==0?Ee(Rt,wHe):U6()})}function EP(){return xh===0&&(xh=Ir()),xh}function K6(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ac(""+l)}function q6(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function CHe(l,u,p,w,O){if(u==="submit"&&p&&p.stateNode===O){var j=K6((O[rr]||null).action),J=w.submitter;J&&(u=(u=J[rr]||null)?K6(u.formAction):J.getAttribute("formAction"),u!==null&&(j=u,J=null));var se=new hc("action","action",null,w,O);l.push({event:se,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(xh!==0){var ve=J?q6(O,J):new FormData(O);HI(p,{pending:!0,data:ve,method:O.method,action:j},null,ve)}}else typeof j=="function"&&(se.preventDefault(),ve=J?q6(O,J):new FormData(O),HI(p,{pending:!0,data:ve,method:O.method,action:j},j,ve))},currentTarget:O}]})}}for(var TP=0;TP<Zm.length;TP++){var MP=Zm[TP],xHe=MP.toLowerCase(),_He=MP[0].toUpperCase()+MP.slice(1);Et(xHe,"on"+_He)}Et(Ml,"onAnimationEnd"),Et(bi,"onAnimationIteration"),Et(yS,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(Xm,"onTransitionRun"),Et(dI,"onTransitionStart"),Et(hI,"onTransitionCancel"),Et(bS,"onTransitionEnd"),Qt("onMouseEnter",["mouseout","mouseover"]),Qt("onMouseLeave",["mouseout","mouseover"]),Qt("onPointerEnter",["pointerout","pointerover"]),Qt("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ev="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EHe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ev));function Y6(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var w=l[p],O=w.event;w=w.listeners;e:{var j=void 0;if(u)for(var J=w.length-1;0<=J;J--){var se=w[J],ve=se.instance,Be=se.currentTarget;if(se=se.listener,ve!==j&&O.isPropagationStopped())break e;j=se,O.currentTarget=Be;try{j(O)}catch(tt){$S(tt)}O.currentTarget=null,j=ve}else for(J=0;J<w.length;J++){if(se=w[J],ve=se.instance,Be=se.currentTarget,se=se.listener,ve!==j&&O.isPropagationStopped())break e;j=se,O.currentTarget=Be;try{j(O)}catch(tt){$S(tt)}O.currentTarget=null,j=ve}}}}function $r(l,u){var p=u[uo];p===void 0&&(p=u[uo]=new Set);var w=l+"__bubble";p.has(w)||(X6(u,l,2,!1),p.add(w))}function OP(l,u,p){var w=0;u&&(w|=4),X6(p,l,w,u)}var tC="_reactListening"+Math.random().toString(36).slice(2);function RP(l){if(!l[tC]){l[tC]=!0,Xe.forEach(function(p){p!=="selectionchange"&&(EHe.has(p)||OP(p,!1,l),OP(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[tC]||(u[tC]=!0,OP("selectionchange",!1,u))}}function X6(l,u,p,w){switch(wK(u)){case 2:var O=QHe;break;case 8:O=JHe;break;default:O=UP}p=O.bind(null,u,p,l),O=void 0,!Da||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(O=!0),w?O!==void 0?l.addEventListener(u,p,{capture:!0,passive:O}):l.addEventListener(u,p,!0):O!==void 0?l.addEventListener(u,p,{passive:O}):l.addEventListener(u,p,!1)}function IP(l,u,p,w,O){var j=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var J=w.tag;if(J===3||J===4){var se=w.stateNode.containerInfo;if(se===O)break;if(J===4)for(J=w.return;J!==null;){var ve=J.tag;if((ve===3||ve===4)&&J.stateNode.containerInfo===O)return;J=J.return}for(;se!==null;){if(J=gn(se),J===null)return;if(ve=J.tag,ve===5||ve===6||ve===26||ve===27){w=j=J;continue e}se=se.parentNode}}w=w.return}eh(function(){var Be=j,tt=vu(p),lt=[];e:{var ze=wS.get(l);if(ze!==void 0){var Ge=hc,gr=l;switch(l){case"keypress":if(dc(p)===0)break e;case"keydown":case"keyup":Ge=Gf;break;case"focusin":gr="focus",Ge=rh;break;case"focusout":gr="blur",Ge=rh;break;case"beforeblur":case"afterblur":Ge=rh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=Um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=Hf;break;case Ml:case bi:case yS:Ge=Cl;break;case bS:Ge=Wm;break;case"scroll":case"scrollend":Ge=wl;break;case"wheel":Ge=xu;break;case"copy":case"cut":case"paste":Ge=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=ho;break;case"toggle":case"beforetoggle":Ge=_o}var hr=(u&4)!==0,Pn=!hr&&(l==="scroll"||l==="scrollend"),De=hr?ze!==null?ze+"Capture":null:ze;hr=[];for(var _e=Be,Ne;_e!==null;){var it=_e;if(Ne=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Ne===null||De===null||(it=mi(_e,De),it!=null&&hr.push(Tv(_e,it,Ne))),Pn)break;_e=_e.return}0<hr.length&&(ze=new Ge(ze,gr,null,p,tt),lt.push({event:ze,listeners:hr}))}}if((u&7)===0){e:{if(ze=l==="mouseover"||l==="pointerover",Ge=l==="mouseout"||l==="pointerout",ze&&p!==ka&&(gr=p.relatedTarget||p.fromElement)&&(gn(gr)||gr[Or]))break e;if((Ge||ze)&&(ze=tt.window===tt?tt:(ze=tt.ownerDocument)?ze.defaultView||ze.parentWindow:window,Ge?(gr=p.relatedTarget||p.toElement,Ge=Be,gr=gr?gn(gr):null,gr!==null&&(Pn=i(gr),hr=gr.tag,gr!==Pn||hr!==5&&hr!==27&&hr!==6)&&(gr=null)):(Ge=null,gr=Be),Ge!==gr)){if(hr=Vf,it="onMouseLeave",De="onMouseEnter",_e="mouse",(l==="pointerout"||l==="pointerover")&&(hr=ho,it="onPointerLeave",De="onPointerEnter",_e="pointer"),Pn=Ge==null?ze:Ri(Ge),Ne=gr==null?ze:Ri(gr),ze=new hr(it,_e+"leave",Ge,p,tt),ze.target=Pn,ze.relatedTarget=Ne,it=null,gn(tt)===Be&&(hr=new hr(De,_e+"enter",gr,p,tt),hr.target=Ne,hr.relatedTarget=Pn,it=hr),Pn=it,Ge&&gr)t:{for(hr=Ge,De=gr,_e=0,Ne=hr;Ne;Ne=gp(Ne))_e++;for(Ne=0,it=De;it;it=gp(it))Ne++;for(;0<_e-Ne;)hr=gp(hr),_e--;for(;0<Ne-_e;)De=gp(De),Ne--;for(;_e--;){if(hr===De||De!==null&&hr===De.alternate)break t;hr=gp(hr),De=gp(De)}hr=null}else hr=null;Ge!==null&&Z6(lt,ze,Ge,hr,!1),gr!==null&&Pn!==null&&Z6(lt,Pn,gr,hr,!0)}}e:{if(ze=Be?Ri(Be):window,Ge=ze.nodeName&&ze.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&ze.type==="file")var Yt=sa;else if(La(ze))if(lh)Yt=Yf;else{Yt=Km;var Br=qf}else Ge=ze.nodeName,!Ge||Ge.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Be&&wo(Be.elementType)&&(Yt=sa):Yt=qm;if(Yt&&(Yt=Yt(l,Be))){Na(lt,Yt,p,tt);break e}Br&&Br(l,ze,Be),l==="focusout"&&Be&&ze.type==="number"&&Be.memoizedProps.value!=null&&Zd(ze,"number",ze.value)}switch(Br=Be?Ri(Be):window,l){case"focusin":(La(Br)||Br.contentEditable==="true")&&(Ue=Br,qe=Be,ot=null);break;case"focusout":ot=qe=Ue=null;break;case"mousedown":kt=!0;break;case"contextmenu":case"mouseup":case"dragend":kt=!1,Ut(lt,p,tt);break;case"selectionchange":if(Re)break;case"keydown":case"keyup":Ut(lt,p,tt)}var ar;if(_l)e:{switch(l){case"compositionstart":var pr="onCompositionStart";break e;case"compositionend":pr="onCompositionEnd";break e;case"compositionupdate":pr="onCompositionUpdate";break e}pr=void 0}else ms?wn(l,p)&&(pr="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(pr="onCompositionStart");pr&&(Wt&&p.locale!=="ko"&&(ms||pr!=="onCompositionStart"?pr==="onCompositionEnd"&&ms&&(ar=uc()):(ps=tt,lc="value"in ps?ps.value:ps.textContent,ms=!0)),Br=rC(Be,pr),0<Br.length&&(pr=new Xr(pr,l,null,p,tt),lt.push({event:pr,listeners:Br}),ar?pr.data=ar:(ar=_u(p),ar!==null&&(pr.data=ar)))),(ar=El?Qe(l,p):Wf(l,p))&&(pr=rC(Be,"onBeforeInput"),0<pr.length&&(Br=new Xr("onBeforeInput","beforeinput",null,p,tt),lt.push({event:Br,listeners:pr}),Br.data=ar)),CHe(lt,l,Be,p,tt)}Y6(lt,u)})}function Tv(l,u,p){return{instance:l,listener:u,currentTarget:p}}function rC(l,u){for(var p=u+"Capture",w=[];l!==null;){var O=l,j=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||j===null||(O=mi(l,p),O!=null&&w.unshift(Tv(l,O,j)),O=mi(l,u),O!=null&&w.push(Tv(l,O,j))),l.tag===3)return w;l=l.return}return[]}function gp(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Z6(l,u,p,w,O){for(var j=u._reactName,J=[];p!==null&&p!==w;){var se=p,ve=se.alternate,Be=se.stateNode;if(se=se.tag,ve!==null&&ve===w)break;se!==5&&se!==26&&se!==27||Be===null||(ve=Be,O?(Be=mi(p,j),Be!=null&&J.unshift(Tv(p,Be,ve))):O||(Be=mi(p,j),Be!=null&&J.push(Tv(p,Be,ve)))),p=p.return}J.length!==0&&l.push({event:u,listeners:J})}var THe=/\r\n?/g,MHe=/\u0000|\uFFFD/g;function Q6(l){return(typeof l=="string"?l:""+l).replace(THe,`
`).replace(MHe,"")}function J6(l,u){return u=Q6(u),Q6(l)===u}function nC(){}function In(l,u,p,w,O,j){switch(p){case"children":typeof w=="string"?u==="body"||u==="textarea"&&w===""||yl(l,w):(typeof w=="number"||typeof w=="bigint")&&u!=="body"&&yl(l,""+w);break;case"className":fs(l,"class",w);break;case"tabIndex":fs(l,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":fs(l,p,w);break;case"style":Jd(l,w,j);break;case"data":if(u!=="object"){fs(l,"data",w);break}case"src":case"href":if(w===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=ac(""+w),l.setAttribute(p,w);break;case"action":case"formAction":if(typeof w=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(p==="formAction"?(u!=="input"&&In(l,u,"name",O.name,O,null),In(l,u,"formEncType",O.formEncType,O,null),In(l,u,"formMethod",O.formMethod,O,null),In(l,u,"formTarget",O.formTarget,O,null)):(In(l,u,"encType",O.encType,O,null),In(l,u,"method",O.method,O,null),In(l,u,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=ac(""+w),l.setAttribute(p,w);break;case"onClick":w!=null&&(l.onclick=nC);break;case"onScroll":w!=null&&$r("scroll",l);break;case"onScrollEnd":w!=null&&$r("scrollend",l);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":l.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){l.removeAttribute("xlink:href");break}p=ac(""+w),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""+w):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":w===!0?l.setAttribute(p,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,w):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?l.setAttribute(p,w):l.removeAttribute(p);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?l.removeAttribute(p):l.setAttribute(p,w);break;case"popover":$r("beforetoggle",l),$r("toggle",l),Ii(l,"popover",w);break;case"xlinkActuate":ni(l,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":ni(l,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":ni(l,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":ni(l,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":ni(l,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":ni(l,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":ni(l,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":ni(l,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":ni(l,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ii(l,"is",w);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=na.get(p)||p,Ii(l,p,w))}}function PP(l,u,p,w,O,j){switch(p){case"style":Jd(l,w,j);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof w=="string"?yl(l,w):(typeof w=="number"||typeof w=="bigint")&&yl(l,""+w);break;case"onScroll":w!=null&&$r("scroll",l);break;case"onScrollEnd":w!=null&&$r("scrollend",l);break;case"onClick":w!=null&&(l.onclick=nC);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ze.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(O=p.endsWith("Capture"),u=p.slice(2,O?p.length-7:void 0),j=l[rr]||null,j=j!=null?j[p]:null,typeof j=="function"&&l.removeEventListener(u,j,O),typeof w=="function")){typeof j!="function"&&j!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,w,O);break e}p in l?l[p]=w:w===!0?l.setAttribute(p,""):Ii(l,p,w)}}}function ui(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$r("error",l),$r("load",l);var w=!1,O=!1,j;for(j in p)if(p.hasOwnProperty(j)){var J=p[j];if(J!=null)switch(j){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:In(l,u,j,J,p,null)}}O&&In(l,u,"srcSet",p.srcSet,p,null),w&&In(l,u,"src",p.src,p,null);return;case"input":$r("invalid",l);var se=j=J=O=null,ve=null,Be=null;for(w in p)if(p.hasOwnProperty(w)){var tt=p[w];if(tt!=null)switch(w){case"name":O=tt;break;case"type":J=tt;break;case"checked":ve=tt;break;case"defaultChecked":Be=tt;break;case"value":j=tt;break;case"defaultValue":se=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(137,u));break;default:In(l,u,w,tt,p,null)}}Xd(l,j,se,ve,Be,J,O,!1),Pa(l);return;case"select":$r("invalid",l),w=J=j=null;for(O in p)if(p.hasOwnProperty(O)&&(se=p[O],se!=null))switch(O){case"value":j=se;break;case"defaultValue":J=se;break;case"multiple":w=se;default:In(l,u,O,se,p,null)}u=j,p=J,l.multiple=!!w,u!=null?vl(l,!!w,u,!1):p!=null&&vl(l,!!w,p,!0);return;case"textarea":$r("invalid",l),j=O=w=null;for(J in p)if(p.hasOwnProperty(J)&&(se=p[J],se!=null))switch(J){case"value":w=se;break;case"defaultValue":O=se;break;case"children":j=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(91));break;default:In(l,u,J,se,p,null)}jf(l,w,O,j),Pa(l);return;case"option":for(ve in p)if(p.hasOwnProperty(ve)&&(w=p[ve],w!=null))switch(ve){case"selected":l.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:In(l,u,ve,w,p,null)}return;case"dialog":$r("beforetoggle",l),$r("toggle",l),$r("cancel",l),$r("close",l);break;case"iframe":case"object":$r("load",l);break;case"video":case"audio":for(w=0;w<Ev.length;w++)$r(Ev[w],l);break;case"image":$r("error",l),$r("load",l);break;case"details":$r("toggle",l);break;case"embed":case"source":case"link":$r("error",l),$r("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in p)if(p.hasOwnProperty(Be)&&(w=p[Be],w!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:In(l,u,Be,w,p,null)}return;default:if(wo(u)){for(tt in p)p.hasOwnProperty(tt)&&(w=p[tt],w!==void 0&&PP(l,u,tt,w,p,void 0));return}}for(se in p)p.hasOwnProperty(se)&&(w=p[se],w!=null&&In(l,u,se,w,p,null))}function OHe(l,u,p,w){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,j=null,J=null,se=null,ve=null,Be=null,tt=null;for(Ge in p){var lt=p[Ge];if(p.hasOwnProperty(Ge)&&lt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":ve=lt;default:w.hasOwnProperty(Ge)||In(l,u,Ge,null,w,lt)}}for(var ze in w){var Ge=w[ze];if(lt=p[ze],w.hasOwnProperty(ze)&&(Ge!=null||lt!=null))switch(ze){case"type":j=Ge;break;case"name":O=Ge;break;case"checked":Be=Ge;break;case"defaultChecked":tt=Ge;break;case"value":J=Ge;break;case"defaultValue":se=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,u));break;default:Ge!==lt&&In(l,u,ze,Ge,w,lt)}}mu(l,J,se,ve,Be,tt,j,O);return;case"select":Ge=J=se=ze=null;for(j in p)if(ve=p[j],p.hasOwnProperty(j)&&ve!=null)switch(j){case"value":break;case"multiple":Ge=ve;default:w.hasOwnProperty(j)||In(l,u,j,null,w,ve)}for(O in w)if(j=w[O],ve=p[O],w.hasOwnProperty(O)&&(j!=null||ve!=null))switch(O){case"value":ze=j;break;case"defaultValue":se=j;break;case"multiple":J=j;default:j!==ve&&In(l,u,O,j,w,ve)}u=se,p=J,w=Ge,ze!=null?vl(l,!!p,ze,!1):!!w!=!!p&&(u!=null?vl(l,!!p,u,!0):vl(l,!!p,p?[]:"",!1));return;case"textarea":Ge=ze=null;for(se in p)if(O=p[se],p.hasOwnProperty(se)&&O!=null&&!w.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:In(l,u,se,null,w,O)}for(J in w)if(O=w[J],j=p[J],w.hasOwnProperty(J)&&(O!=null||j!=null))switch(J){case"value":ze=O;break;case"defaultValue":Ge=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==j&&In(l,u,J,O,w,j)}Ff(l,ze,Ge);return;case"option":for(var gr in p)if(ze=p[gr],p.hasOwnProperty(gr)&&ze!=null&&!w.hasOwnProperty(gr))switch(gr){case"selected":l.selected=!1;break;default:In(l,u,gr,null,w,ze)}for(ve in w)if(ze=w[ve],Ge=p[ve],w.hasOwnProperty(ve)&&ze!==Ge&&(ze!=null||Ge!=null))switch(ve){case"selected":l.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:In(l,u,ve,ze,w,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var hr in p)ze=p[hr],p.hasOwnProperty(hr)&&ze!=null&&!w.hasOwnProperty(hr)&&In(l,u,hr,null,w,ze);for(Be in w)if(ze=w[Be],Ge=p[Be],w.hasOwnProperty(Be)&&ze!==Ge&&(ze!=null||Ge!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,u));break;default:In(l,u,Be,ze,w,Ge)}return;default:if(wo(u)){for(var Pn in p)ze=p[Pn],p.hasOwnProperty(Pn)&&ze!==void 0&&!w.hasOwnProperty(Pn)&&PP(l,u,Pn,void 0,w,ze);for(tt in w)ze=w[tt],Ge=p[tt],!w.hasOwnProperty(tt)||ze===Ge||ze===void 0&&Ge===void 0||PP(l,u,tt,ze,w,Ge);return}}for(var De in p)ze=p[De],p.hasOwnProperty(De)&&ze!=null&&!w.hasOwnProperty(De)&&In(l,u,De,null,w,ze);for(lt in w)ze=w[lt],Ge=p[lt],!w.hasOwnProperty(lt)||ze===Ge||ze==null&&Ge==null||In(l,u,lt,ze,w,Ge)}var kP=null,DP=null;function oC(l){return l.nodeType===9?l:l.ownerDocument}function eK(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tK(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function AP(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var LP=null;function RHe(){var l=window.event;return l&&l.type==="popstate"?l===LP?!1:(LP=l,!0):(LP=null,!1)}var rK=typeof setTimeout=="function"?setTimeout:void 0,IHe=typeof clearTimeout=="function"?clearTimeout:void 0,nK=typeof Promise=="function"?Promise:void 0,PHe=typeof queueMicrotask=="function"?queueMicrotask:typeof nK<"u"?function(l){return nK.resolve(null).then(l).catch(kHe)}:rK;function kHe(l){setTimeout(function(){throw l})}function Vu(l){return l==="head"}function oK(l,u){var p=u,w=0,O=0;do{var j=p.nextSibling;if(l.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"){if(0<w&&8>w){p=w;var J=l.ownerDocument;if(p&1&&Mv(J.documentElement),p&2&&Mv(J.body),p&4)for(p=J.head,Mv(p),J=p.firstChild;J;){var se=J.nextSibling,ve=J.nodeName;J[Gn]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=se}}if(O===0){l.removeChild(j),Lv(u);return}O--}else p==="$"||p==="$?"||p==="$!"?O++:w=p.charCodeAt(0)-48;else w=0;p=j}while(p);Lv(u)}function NP(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":NP(p),Dn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function DHe(l,u,p,w){for(;l.nodeType===1;){var O=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!w&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(w){if(!l[Gn])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(j=l.getAttribute("rel"),j==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(j!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(j=l.getAttribute("src"),(j!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&j&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var j=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===j)return l}else return l;if(l=ja(l.nextSibling),l===null)break}return null}function AHe(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=ja(l.nextSibling),l===null))return null;return l}function BP(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function LHe(l,u){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")u();else{var w=function(){u(),p.removeEventListener("DOMContentLoaded",w)};p.addEventListener("DOMContentLoaded",w),l._reactRetry=w}}function ja(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var FP=null;function iK(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}function sK(l,u,p){switch(u=oC(p),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Mv(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Dn(l)}var da=new Map,aK=new Set;function iC(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Mc=Y.d;Y.d={f:NHe,r:BHe,D:FHe,C:jHe,L:VHe,m:$He,X:UHe,S:zHe,M:GHe};function NHe(){var l=Mc.f(),u=XS();return l||u}function BHe(l){var u=bo(l);u!==null&&u.tag===5&&u.type==="form"?MW(u):Mc.r(l)}var mp=typeof document>"u"?null:document;function lK(l,u,p){var w=mp;if(w&&typeof u=="string"&&u){var O=ii(u);O='link[rel="'+l+'"][href="'+O+'"]',typeof p=="string"&&(O+='[crossorigin="'+p+'"]'),aK.has(O)||(aK.add(O),l={rel:l,crossOrigin:p,href:u},w.querySelector(O)===null&&(u=w.createElement("link"),ui(u,"link",l),or(u),w.head.appendChild(u)))}}function FHe(l){Mc.D(l),lK("dns-prefetch",l,null)}function jHe(l,u){Mc.C(l,u),lK("preconnect",l,u)}function VHe(l,u,p){Mc.L(l,u,p);var w=mp;if(w&&l&&u){var O='link[rel="preload"][as="'+ii(u)+'"]';u==="image"&&p&&p.imageSrcSet?(O+='[imagesrcset="'+ii(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(O+='[imagesizes="'+ii(p.imageSizes)+'"]')):O+='[href="'+ii(l)+'"]';var j=O;switch(u){case"style":j=vp(l);break;case"script":j=yp(l)}da.has(j)||(l=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),da.set(j,l),w.querySelector(O)!==null||u==="style"&&w.querySelector(Ov(j))||u==="script"&&w.querySelector(Rv(j))||(u=w.createElement("link"),ui(u,"link",l),or(u),w.head.appendChild(u)))}}function $He(l,u){Mc.m(l,u);var p=mp;if(p&&l){var w=u&&typeof u.as=="string"?u.as:"script",O='link[rel="modulepreload"][as="'+ii(w)+'"][href="'+ii(l)+'"]',j=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=yp(l)}if(!da.has(j)&&(l=h({rel:"modulepreload",href:l},u),da.set(j,l),p.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Rv(j)))return}w=p.createElement("link"),ui(w,"link",l),or(w),p.head.appendChild(w)}}}function zHe(l,u,p){Mc.S(l,u,p);var w=mp;if(w&&l){var O=Mn(w).hoistableStyles,j=vp(l);u=u||"default";var J=O.get(j);if(!J){var se={loading:0,preload:null};if(J=w.querySelector(Ov(j)))se.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":u},p),(p=da.get(j))&&jP(l,p);var ve=J=w.createElement("link");or(ve),ui(ve,"link",l),ve._p=new Promise(function(Be,tt){ve.onload=Be,ve.onerror=tt}),ve.addEventListener("load",function(){se.loading|=1}),ve.addEventListener("error",function(){se.loading|=2}),se.loading|=4,sC(J,u,w)}J={type:"stylesheet",instance:J,count:1,state:se},O.set(j,J)}}}function UHe(l,u){Mc.X(l,u);var p=mp;if(p&&l){var w=Mn(p).hoistableScripts,O=yp(l),j=w.get(O);j||(j=p.querySelector(Rv(O)),j||(l=h({src:l,async:!0},u),(u=da.get(O))&&VP(l,u),j=p.createElement("script"),or(j),ui(j,"link",l),p.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(O,j))}}function GHe(l,u){Mc.M(l,u);var p=mp;if(p&&l){var w=Mn(p).hoistableScripts,O=yp(l),j=w.get(O);j||(j=p.querySelector(Rv(O)),j||(l=h({src:l,async:!0,type:"module"},u),(u=da.get(O))&&VP(l,u),j=p.createElement("script"),or(j),ui(j,"link",l),p.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(O,j))}}function cK(l,u,p,w){var O=(O=ae.current)?iC(O):null;if(!O)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=vp(p.href),p=Mn(O).hoistableStyles,w=p.get(u),w||(w={type:"style",instance:null,count:0,state:null},p.set(u,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=vp(p.href);var j=Mn(O).hoistableStyles,J=j.get(l);if(J||(O=O.ownerDocument||O,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(l,J),(j=O.querySelector(Ov(l)))&&!j._p&&(J.instance=j,J.state.loading=5),da.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},da.set(l,p),j||HHe(O,l,p,J.state))),u&&w===null)throw Error(n(528,""));return J}if(u&&w!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=yp(p),p=Mn(O).hoistableScripts,w=p.get(u),w||(w={type:"script",instance:null,count:0,state:null},p.set(u,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function vp(l){return'href="'+ii(l)+'"'}function Ov(l){return'link[rel="stylesheet"]['+l+"]"}function uK(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function HHe(l,u,p,w){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?w.loading=1:(u=l.createElement("link"),w.preload=u,u.addEventListener("load",function(){return w.loading|=1}),u.addEventListener("error",function(){return w.loading|=2}),ui(u,"link",p),or(u),l.head.appendChild(u))}function yp(l){return'[src="'+ii(l)+'"]'}function Rv(l){return"script[async]"+l}function dK(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var w=l.querySelector('style[data-href~="'+ii(p.href)+'"]');if(w)return u.instance=w,or(w),w;var O=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return w=(l.ownerDocument||l).createElement("style"),or(w),ui(w,"style",O),sC(w,p.precedence,l),u.instance=w;case"stylesheet":O=vp(p.href);var j=l.querySelector(Ov(O));if(j)return u.state.loading|=4,u.instance=j,or(j),j;w=uK(p),(O=da.get(O))&&jP(w,O),j=(l.ownerDocument||l).createElement("link"),or(j);var J=j;return J._p=new Promise(function(se,ve){J.onload=se,J.onerror=ve}),ui(j,"link",w),u.state.loading|=4,sC(j,p.precedence,l),u.instance=j;case"script":return j=yp(p.src),(O=l.querySelector(Rv(j)))?(u.instance=O,or(O),O):(w=p,(O=da.get(j))&&(w=h({},p),VP(w,O)),l=l.ownerDocument||l,O=l.createElement("script"),or(O),ui(O,"link",w),l.head.appendChild(O),u.instance=O);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(w=u.instance,u.state.loading|=4,sC(w,p.precedence,l));return u.instance}function sC(l,u,p){for(var w=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,j=O,J=0;J<w.length;J++){var se=w[J];if(se.dataset.precedence===u)j=se;else if(j!==O)break}j?j.parentNode.insertBefore(l,j.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function jP(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function VP(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var aC=null;function hK(l,u,p){if(aC===null){var w=new Map,O=aC=new Map;O.set(p,w)}else O=aC,w=O.get(p),w||(w=new Map,O.set(p,w));if(w.has(l))return w;for(w.set(l,null),p=p.getElementsByTagName(l),O=0;O<p.length;O++){var j=p[O];if(!(j[Gn]||j[nr]||l==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var J=j.getAttribute(u)||"";J=l+J;var se=w.get(J);se?se.push(j):w.set(J,[j])}}return w}function fK(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function WHe(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function pK(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Iv=null;function KHe(){}function qHe(l,u,p){if(Iv===null)throw Error(n(475));var w=Iv;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var O=vp(p.href),j=l.querySelector(Ov(O));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(w.count++,w=lC.bind(w),l.then(w,w)),u.state.loading|=4,u.instance=j,or(j);return}j=l.ownerDocument||l,p=uK(p),(O=da.get(O))&&jP(p,O),j=j.createElement("link"),or(j);var J=j;J._p=new Promise(function(se,ve){J.onload=se,J.onerror=ve}),ui(j,"link",p),u.instance=j}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(w.count++,u=lC.bind(w),l.addEventListener("load",u),l.addEventListener("error",u))}}function YHe(){if(Iv===null)throw Error(n(475));var l=Iv;return l.stylesheets&&l.count===0&&$P(l,l.stylesheets),0<l.count?function(u){var p=setTimeout(function(){if(l.stylesheets&&$P(l,l.stylesheets),l.unsuspend){var w=l.unsuspend;l.unsuspend=null,w()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(p)}}:null}function lC(){if(this.count--,this.count===0){if(this.stylesheets)$P(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var cC=null;function $P(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,cC=new Map,u.forEach(XHe,l),cC=null,lC.call(l))}function XHe(l,u){if(!(u.state.loading&4)){var p=cC.get(l);if(p)var w=p.get(null);else{p=new Map,cC.set(l,p);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<O.length;j++){var J=O[j];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),w=J)}w&&p.set(null,w)}O=u.instance,J=O.getAttribute("data-precedence"),j=p.get(J)||w,j===w&&p.set(null,O),p.set(J,O),this.count++,w=lC.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),j?j.parentNode.insertBefore(O,j.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),u.state.loading|=4}}var Pv={$$typeof:T,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function ZHe(l,u,p,w,O,j,J,se){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=j,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function gK(l,u,p,w,O,j,J,se,ve,Be,tt,lt){return l=new ZHe(l,u,p,J,se,ve,Be,lt),u=1,j===!0&&(u|=24),j=ws(3,null,null,u),l.current=j,j.stateNode=l,u=CI(),u.refCount++,l.pooledCache=u,u.refCount++,j.memoizedState={element:w,isDehydrated:p,cache:u},TI(j),l}function mK(l){return l?(l=bs,l):bs}function vK(l,u,p,w,O,j){O=mK(O),w.context===null?w.context=O:w.pendingContext=O,w=Mu(u),w.payload={element:p},j=j===void 0?null:j,j!==null&&(w.callback=j),p=Ou(l,w,u),p!==null&&(Es(p,l,u),av(p,l,u))}function yK(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function zP(l,u){yK(l,u),(l=l.alternate)&&yK(l,u)}function bK(l){if(l.tag===13){var u=jt(l,67108864);u!==null&&Es(u,l,67108864),zP(l,67108864)}}var uC=!0;function QHe(l,u,p,w){var O=V.T;V.T=null;var j=Y.p;try{Y.p=2,UP(l,u,p,w)}finally{Y.p=j,V.T=O}}function JHe(l,u,p,w){var O=V.T;V.T=null;var j=Y.p;try{Y.p=8,UP(l,u,p,w)}finally{Y.p=j,V.T=O}}function UP(l,u,p,w){if(uC){var O=GP(w);if(O===null)IP(l,u,w,dC,p),SK(l,w);else if(t5e(O,l,u,p,w))w.stopPropagation();else if(SK(l,w),u&4&&-1<e5e.indexOf(l)){for(;O!==null;){var j=bo(O);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var J=at(j.pendingLanes);if(J!==0){var se=j;for(se.pendingLanes|=2,se.entangledLanes|=2;J;){var ve=1<<31-gt(J);se.entanglements[1]|=ve,J&=~ve}kl(j),(Sn&6)===0&&(qS=nt()+500,_v(0))}}break;case 13:se=jt(j,2),se!==null&&Es(se,j,2),XS(),zP(j,2)}if(j=GP(w),j===null&&IP(l,u,w,dC,p),j===O)break;O=j}O!==null&&w.stopPropagation()}else IP(l,u,w,null,p)}}function GP(l){return l=vu(l),HP(l)}var dC=null;function HP(l){if(dC=null,l=gn(l),l!==null){var u=i(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=s(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return dC=l,null}function wK(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Rt:return 2;case dt:return 8;case Ct:case $e:return 32;case It:return 268435456;default:return 32}default:return 32}}var WP=!1,$u=null,zu=null,Uu=null,kv=new Map,Dv=new Map,Gu=[],e5e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SK(l,u){switch(l){case"focusin":case"focusout":$u=null;break;case"dragenter":case"dragleave":zu=null;break;case"mouseover":case"mouseout":Uu=null;break;case"pointerover":case"pointerout":kv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dv.delete(u.pointerId)}}function Av(l,u,p,w,O,j){return l===null||l.nativeEvent!==j?(l={blockedOn:u,domEventName:p,eventSystemFlags:w,nativeEvent:j,targetContainers:[O]},u!==null&&(u=bo(u),u!==null&&bK(u)),l):(l.eventSystemFlags|=w,u=l.targetContainers,O!==null&&u.indexOf(O)===-1&&u.push(O),l)}function t5e(l,u,p,w,O){switch(u){case"focusin":return $u=Av($u,l,u,p,w,O),!0;case"dragenter":return zu=Av(zu,l,u,p,w,O),!0;case"mouseover":return Uu=Av(Uu,l,u,p,w,O),!0;case"pointerover":var j=O.pointerId;return kv.set(j,Av(kv.get(j)||null,l,u,p,w,O)),!0;case"gotpointercapture":return j=O.pointerId,Dv.set(j,Av(Dv.get(j)||null,l,u,p,w,O)),!0}return!1}function CK(l){var u=gn(l.target);if(u!==null){var p=i(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){l.blockedOn=u,Lt(l.priority,function(){if(p.tag===13){var w=_s();w=Fn(w);var O=jt(p,w);O!==null&&Es(O,p,w),zP(p,w)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function hC(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=GP(l.nativeEvent);if(p===null){p=l.nativeEvent;var w=new p.constructor(p.type,p);ka=w,p.target.dispatchEvent(w),ka=null}else return u=bo(p),u!==null&&bK(u),l.blockedOn=p,!1;u.shift()}return!0}function xK(l,u,p){hC(l)&&p.delete(u)}function r5e(){WP=!1,$u!==null&&hC($u)&&($u=null),zu!==null&&hC(zu)&&(zu=null),Uu!==null&&hC(Uu)&&(Uu=null),kv.forEach(xK),Dv.forEach(xK)}function fC(l,u){l.blockedOn===u&&(l.blockedOn=null,WP||(WP=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,r5e)))}var pC=null;function _K(l){pC!==l&&(pC=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){pC===l&&(pC=null);for(var u=0;u<l.length;u+=3){var p=l[u],w=l[u+1],O=l[u+2];if(typeof w!="function"){if(HP(w||p)===null)continue;break}var j=bo(p);j!==null&&(l.splice(u,3),u-=3,HI(j,{pending:!0,data:O,method:p.method,action:w},w,O))}}))}function Lv(l){function u(ve){return fC(ve,l)}$u!==null&&fC($u,l),zu!==null&&fC(zu,l),Uu!==null&&fC(Uu,l),kv.forEach(u),Dv.forEach(u);for(var p=0;p<Gu.length;p++){var w=Gu[p];w.blockedOn===l&&(w.blockedOn=null)}for(;0<Gu.length&&(p=Gu[0],p.blockedOn===null);)CK(p),p.blockedOn===null&&Gu.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(w=0;w<p.length;w+=3){var O=p[w],j=p[w+1],J=O[rr]||null;if(typeof j=="function")J||_K(p);else if(J){var se=null;if(j&&j.hasAttribute("formAction")){if(O=j,J=j[rr]||null)se=J.formAction;else if(HP(O)!==null)continue}else se=J.action;typeof se=="function"?p[w+1]=se:(p.splice(w,3),w-=3),_K(p)}}}function KP(l){this._internalRoot=l}gC.prototype.render=KP.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,w=_s();vK(p,w,l,u,null,null)},gC.prototype.unmount=KP.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;vK(l.current,2,null,l,null,null),XS(),u[Or]=null}};function gC(l){this._internalRoot=l}gC.prototype.unstable_scheduleHydration=function(l){if(l){var u=Ar();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Gu.length&&u!==0&&u<Gu[p].priority;p++);Gu.splice(p,0,l),p===0&&CK(l)}};var EK=t.version;if(EK!=="19.1.1")throw Error(n(527,EK,"19.1.1"));Y.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=c(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var n5e={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mC.isDisabled&&mC.supportsFiber)try{zt=mC.inject(n5e),qt=mC}catch{}}return $m.createRoot=function(l,u){if(!o(l))throw Error(n(299));var p=!1,w="",O=$W,j=zW,J=UW,se=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(j=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(se=u.unstable_transitionCallbacks)),u=gK(l,1,!1,null,null,p,w,O,j,J,se,null),l[Or]=u.current,RP(l),new KP(u)},$m.hydrateRoot=function(l,u,p){if(!o(l))throw Error(n(299));var w=!1,O="",j=$W,J=zW,se=UW,ve=null,Be=null;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onUncaughtError!==void 0&&(j=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(se=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ve=p.unstable_transitionCallbacks),p.formState!==void 0&&(Be=p.formState)),u=gK(l,1,!0,u,p??null,w,O,j,J,se,ve,Be),u.context=mK(null),p=u.current,w=_s(),w=Fn(w),O=Mu(w),O.callback=null,Ou(p,O,w),p=w,u.current.lanes=p,xr(u,p),kl(u),l[Or]=u.current,RP(l),new gC(u)},$m.version="19.1.1",$m}var D4;function VGe(){if(D4)return lI.exports;D4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lI.exports=jGe(),lI.exports}var $Ge=VGe();function zGe(e,t){const r=typeof e=="string"?document.getElementById(e):e;$Ge.createRoot(r).render(t)}async function UGe(e){const t=new _q({baseUrl:Yu.apiUrl}),r=new Hme({apiClient:t});r.init(),zGe(e,x.jsx(NGe,{m:r}))}return Nv.create=UGe,Nv.options=Yu,Object.defineProperty(Nv,Symbol.toStringTag,{value:"Module"}),Nv})({});
;var $GH_COMMIT = '0611c03 TEMP: editor (реструкт кодовой базы, es2022)';
