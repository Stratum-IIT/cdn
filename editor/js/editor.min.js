(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.pVED4Nqg{border-radius:16px;width:30%}.pVED4Nqg form{display:flex;flex-direction:column}.pVED4Nqg form menu{display:flex;flex-direction:column;gap:4px}.pVED4Nqg form button{height:40px}.pVED4Nqg form button[value=ok]:enabled{background-color:#90ee90}.pVED4Nqg form p{display:flex;justify-content:center}.pVED4Nqg input::file-selector-button{font-weight:700;color:#1e90ff;padding:.5em;border:thin solid grey;border-radius:3px}.ApJIp71s{position:relative;overflow:hidden;outline:none;transform-origin:top left}.ApJIp71s.qhzEyKeP{overflow-x:auto}.ApJIp71s.j1zyfqqN{overflow-y:auto}.ApJIp71s.-WlIuMox{display:none}.ApJIp71s .ApJIp71s{position:absolute}.ApJIp71s ._-7ivHAO2{position:sticky!important;top:0;left:0}.ApJIp71s .xTZG1aX9{pointer-events:none;position:absolute!important;top:0;left:0}.ApJIp71s .Q4gUooLG{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.Lub8lEDq{position:relative;user-select:none;width:100%;height:100%;overflow:clip;background-color:#fff}.Lub8lEDq>svg,.Lub8lEDq>div{pointer-events:none;position:absolute;overflow:clip;top:0;left:0;width:100%;height:100%}.Lub8lEDq ._3Au4Qe-K{all:unset;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.Lub8lEDq .uvJsh9bM{position:absolute;pointer-events:auto;background-color:#000}.Lub8lEDq.pQtj-s3j ._3Au4Qe-K{pointer-events:none}.Lub8lEDq ._3Au4Qe-K._3YpK1pvi{white-space:wrap}.Lub8lEDq ._3Au4Qe-K:not(._3YpK1pvi){overflow:hidden}.Lub8lEDq textarea._3Au4Qe-K._3n6h0K3a{border:inset 2px}.Lub8lEDq input[type=button]._3Au4Qe-K{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.Lub8lEDq input[type=button]._3Au4Qe-K:active{border-style:inset}.yNr0VPwT{position:relative;user-select:none;width:100%;height:100%;overflow:clip}.yNr0VPwT>canvas{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.yNr0VPwT .doAE-L2e{all:unset;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.yNr0VPwT ._8PHlccAK{position:absolute;pointer-events:auto;background-color:#000}.yNr0VPwT.k7TCS6Hm .doAE-L2e{pointer-events:none}.yNr0VPwT .doAE-L2e.-QksePcc{white-space:wrap}.yNr0VPwT .doAE-L2e:not(.-QksePcc){overflow:hidden}.yNr0VPwT textarea.doAE-L2e.GnGoYW5X{border:inset 2px}.yNr0VPwT input[type=button].doAE-L2e{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.yNr0VPwT input[type=button].doAE-L2e:active{border-style:inset}.c3UHApxQ{position:relative;overflow:auto;min-width:300px;min-height:300px}.JtozXFt9{position:absolute!important;margin:0 auto;left:0;right:0}.JtozXFt9.pnlxzH3m{transition:opacity .25s linear,box-shadow .1s linear}.JtozXFt9.pnlxzH3m:focus-within{box-shadow:0 2px 6px #0000004d}.JtozXFt9.dJ50k0ZR{transition:opacity .25s linear;box-shadow:13px 11px 6px #0000007f;border:1px black solid}.JtozXFt9 ._2NuvSdcG{padding:0;background-color:transparent;border:none;position:absolute;top:0;right:8px;font-size:26px;cursor:pointer;color:#333}.JtozXFt9 ._2NuvSdcG:hover{color:red}@keyframes marching-ants{0%{background-position:0 0,0 100%,0 0,100% 0}to{background-position:20px 0,-20px 100%,0 -20px,100% 20px}}:root{--rc-drag-handle-size: 12px;--rc-drag-handle-mobile-size: 24px;--rc-drag-handle-bg-colour: rgba(0, 0, 0, .2);--rc-drag-bar-size: 6px;--rc-border-color: rgba(255, 255, 255, .7);--rc-focus-color: #0088ff}.ReactCrop{position:relative;display:inline-block;cursor:crosshair;max-width:100%}.ReactCrop *,.ReactCrop *:before,.ReactCrop *:after{box-sizing:border-box}.ReactCrop--disabled,.ReactCrop--locked{cursor:inherit}.ReactCrop__child-wrapper{overflow:hidden;max-height:inherit}.ReactCrop__child-wrapper>img,.ReactCrop__child-wrapper>video{display:block;max-width:100%;max-height:inherit}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>img,.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>video{touch-action:none}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__crop-selection{touch-action:none}.ReactCrop__crop-mask{position:absolute;inset:0;pointer-events:none;width:calc(100% + .5px);height:calc(100% + .5px)}.ReactCrop__crop-selection{position:absolute;top:0;left:0;transform:translateZ(0);cursor:move}.ReactCrop--disabled .ReactCrop__crop-selection{cursor:inherit}.ReactCrop--circular-crop .ReactCrop__crop-selection{border-radius:50%}.ReactCrop--circular-crop .ReactCrop__crop-selection:after{pointer-events:none;content:"";position:absolute;inset:-1px;border:1px solid var(--rc-border-color);opacity:.3}.ReactCrop--no-animate .ReactCrop__crop-selection{outline:1px dashed white}.ReactCrop__crop-selection:not(.ReactCrop--no-animate .ReactCrop__crop-selection){animation:marching-ants 1s;background-image:linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%);background-size:10px 1px,10px 1px,1px 10px,1px 10px;background-position:0 0,0 100%,0 0,100% 0;background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;color:#fff;animation-play-state:running;animation-timing-function:linear;animation-iteration-count:infinite}.ReactCrop__crop-selection:focus{outline:2px solid var(--rc-focus-color);outline-offset:-1px}.ReactCrop--invisible-crop .ReactCrop__crop-mask,.ReactCrop--invisible-crop .ReactCrop__crop-selection{display:none}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after,.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{content:"";display:block;position:absolute;background-color:#fff6}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after{width:1px;height:100%}.ReactCrop__rule-of-thirds-vt:before{left:33.3333333333%}.ReactCrop__rule-of-thirds-vt:after{left:66.6666666667%}.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{width:100%;height:1px}.ReactCrop__rule-of-thirds-hz:before{top:33.3333333333%}.ReactCrop__rule-of-thirds-hz:after{top:66.6666666667%}.ReactCrop__drag-handle{position:absolute;width:var(--rc-drag-handle-size);height:var(--rc-drag-handle-size);background-color:var(--rc-drag-handle-bg-colour);border:1px solid var(--rc-border-color)}.ReactCrop__drag-handle:focus{background:var(--rc-focus-color)}.ReactCrop .ord-nw{top:0;left:0;transform:translate(-50%,-50%);cursor:nw-resize}.ReactCrop .ord-n{top:0;left:50%;transform:translate(-50%,-50%);cursor:n-resize}.ReactCrop .ord-ne{top:0;right:0;transform:translate(50%,-50%);cursor:ne-resize}.ReactCrop .ord-e{top:50%;right:0;transform:translate(50%,-50%);cursor:e-resize}.ReactCrop .ord-se{bottom:0;right:0;transform:translate(50%,50%);cursor:se-resize}.ReactCrop .ord-s{bottom:0;left:50%;transform:translate(-50%,50%);cursor:s-resize}.ReactCrop .ord-sw{bottom:0;left:0;transform:translate(-50%,50%);cursor:sw-resize}.ReactCrop .ord-w{top:50%;left:0;transform:translate(-50%,-50%);cursor:w-resize}.ReactCrop__disabled .ReactCrop__drag-handle{cursor:inherit}.ReactCrop__drag-bar{position:absolute}.ReactCrop__drag-bar.ord-n{top:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(-50%)}.ReactCrop__drag-bar.ord-e{right:0;top:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(50%)}.ReactCrop__drag-bar.ord-s{bottom:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(50%)}.ReactCrop__drag-bar.ord-w{top:0;left:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(-50%)}.ReactCrop--new-crop .ReactCrop__drag-bar,.ReactCrop--new-crop .ReactCrop__drag-handle,.ReactCrop--fixed-aspect .ReactCrop__drag-bar,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-n,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-e,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-s,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-w{display:none}@media (pointer: coarse){.ReactCrop .ord-n,.ReactCrop .ord-e,.ReactCrop .ord-s,.ReactCrop .ord-w{display:none}.ReactCrop__drag-handle{width:var(--rc-drag-handle-mobile-size);height:var(--rc-drag-handle-mobile-size)}}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
var stratumEditor=(function($v){"use strict";function nq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function MC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OC={exports:{}},_p={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok;function rq(){if(ok)return _p;ok=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var a in o)a!=="key"&&(i[a]=o[a])}else i=o;return o=i.ref,{$$typeof:e,type:r,key:s,ref:o!==void 0?o:null,props:i}}return _p.Fragment=t,_p.jsx=n,_p.jsxs=n,_p}var ik;function oq(){return ik||(ik=1,OC.exports=rq()),OC.exports}var x=oq(),et=(e=>(e[e.PI=3.1415926536]="PI",e[e.WORD8=0]="WORD8",e[e.INT8=1]="INT8",e[e.WORD16=2]="WORD16",e[e.INT16=3]="INT16",e[e.WORD32=4]="WORD32",e[e.INT32=5]="INT32",e[e.FLOAT32=6]="FLOAT32",e[e.FLOAT40=7]="FLOAT40",e[e.FLOAT64=8]="FLOAT64",e[e.FLOAT80=9]="FLOAT80",e[e.PEN2D=1]="PEN2D",e[e.BRUSH2D=2]="BRUSH2D",e[e.DIB2D=3]="DIB2D",e[e.DOUBLEDIB2D=4]="DOUBLEDIB2D",e[e.FONT2D=5]="FONT2D",e[e.STRING2D=6]="STRING2D",e[e.TEXT2D=7]="TEXT2D",e[e.SPACE3D=8]="SPACE3D",e[e.TEXTURE3D=9]="TEXTURE3D",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_CLOSE=16]="WM_CLOSE",e[e.WM_GETMINMAXINFO=36]="WM_GETMINMAXINFO",e[e.WM_COMMAND=273]="WM_COMMAND",e[e.WM_MOUSEMOVE=512]="WM_MOUSEMOVE",e[e.WM_LBUTTONDOWN=513]="WM_LBUTTONDOWN",e[e.WM_LBUTTONUP=514]="WM_LBUTTONUP",e[e.WM_LBUTTONDBLCLK=515]="WM_LBUTTONDBLCLK",e[e.WM_RBUTTONDOWN=516]="WM_RBUTTONDOWN",e[e.WM_RBUTTONUP=517]="WM_RBUTTONUP",e[e.WM_RBUTTONDBLCLK=518]="WM_RBUTTONDBLCLK",e[e.WM_MBUTTONDOWN=519]="WM_MBUTTONDOWN",e[e.WM_MBUTTONUP=520]="WM_MBUTTONUP",e[e.WM_MBUTTONDBLCLK=521]="WM_MBUTTONDBLCLK",e[e.WM_ALLMOUSEMESSAGE=1536]="WM_ALLMOUSEMESSAGE",e[e.WM_ALLKEYMESSAGE=1537]="WM_ALLKEYMESSAGE",e[e.WM_KEYDOWN=256]="WM_KEYDOWN",e[e.WM_KEYUP=257]="WM_KEYUP",e[e.WM_CANCLOSE=1538]="WM_CANCLOSE",e[e.WM_SPACEDONE=1539]="WM_SPACEDONE",e[e.WM_SPACEINIT=1540]="WM_SPACEINIT",e[e.WM_CONTROLNOTIFY=1544]="WM_CONTROLNOTIFY",e[e.WM_HYPERJUMP=1546]="WM_HYPERJUMP",e[e.SIZE_RESTORED=0]="SIZE_RESTORED",e[e.SIZE_MINIMIZED=1]="SIZE_MINIMIZED",e[e.SIZE_MAXIMIZED=2]="SIZE_MAXIMIZED",e[e.SIZE_MAXSHOW=3]="SIZE_MAXSHOW",e[e.SIZE_MAXHIDE=4]="SIZE_MAXHIDE",e[e.OTGROUP2D=3]="OTGROUP2D",e[e.OTRGROUP2D=4]="OTRGROUP2D",e[e.OTGROUP3D=5]="OTGROUP3D",e[e.OTOBJECT3D=10]="OTOBJECT3D",e[e.OTLINE_2D=20]="OTLINE_2D",e[e.OTBITMAP_2D=21]="OTBITMAP_2D",e[e.OTDOUBLEBITMAP_2D=22]="OTDOUBLEBITMAP_2D",e[e.OTTEXT_2D=23]="OTTEXT_2D",e[e.OTVIEW3D_2D=24]="OTVIEW3D_2D",e[e.OTEDITFRAME=50]="OTEDITFRAME",e[e.OTROTATECENTER=51]="OTROTATECENTER",e[e.OTFRAME3D=52]="OTFRAME3D",e[e.OTAXIS3D=53]="OTAXIS3D",e[e.OTPEN2D=101]="OTPEN2D",e[e.OTBRUSH2D=102]="OTBRUSH2D",e[e.OTDIB2D=103]="OTDIB2D",e[e.OTDOUBLEDIB2D=104]="OTDOUBLEDIB2D",e[e.OTFONT2D=105]="OTFONT2D",e[e.OTSTRING2D=106]="OTSTRING2D",e[e.OTTEXT2D=107]="OTTEXT2D",e[e.OTREFTODIB2D=110]="OTREFTODIB2D",e[e.OTREFTODOUBLEDIB2D=111]="OTREFTODOUBLEDIB2D",e[e.ATTRSET=1]="ATTRSET",e[e.ATTRRESET=2]="ATTRRESET",e[e.ATTRPUT=3]="ATTRPUT",e[e.PFC_MOVEOBJECT=32768]="PFC_MOVEOBJECT",e[e.PFC_SETCURRENT=16384]="PFC_SETCURRENT",e[e.PFC_SETFRAME=8192]="PFC_SETFRAME",e[e.PFC_PENS=1]="PFC_PENS",e[e.PFC_BRUHS=2]="PFC_BRUHS",e[e.PFC_DIBS=4]="PFC_DIBS",e[e.PFC_DDIBS=8]="PFC_DDIBS",e[e.PFC_STRINGS=16]="PFC_STRINGS",e[e.PFC_FONTS=32]="PFC_FONTS",e[e.PFC_TEXTS=64]="PFC_TEXTS",e[e.PFC_3D=128]="PFC_3D",e[e.PFC_ALL=255]="PFC_ALL",e[e.OID_RESERVED=32e3]="OID_RESERVED",e[e.OID_RCENTER=32001]="OID_RCENTER",e[e.OID_FRAME2D1=32002]="OID_FRAME2D1",e[e.OID_FRAME2D2=32003]="OID_FRAME2D2",e[e.OID_FRAME2D3=32004]="OID_FRAME2D3",e[e.OID_FRAME2D4=32005]="OID_FRAME2D4",e[e.OID_FRAME2D5=32006]="OID_FRAME2D5",e[e.OID_FRAME2D6=32007]="OID_FRAME2D6",e[e.OID_FRAME2D7=32008]="OID_FRAME2D7",e[e.OID_FRAME2D8=32009]="OID_FRAME2D8",e[e.OID_FRAME2D=32010]="OID_FRAME2D",e[e.OID_AXIS3D=32100]="OID_AXIS3D",e[e.OID_FRAME3D1=32102]="OID_FRAME3D1",e[e.OID_FRAME3D2=32103]="OID_FRAME3D2",e[e.OID_FRAME3D3=32104]="OID_FRAME3D3",e[e.OID_FRAME3D4=32105]="OID_FRAME3D4",e[e.OID_FRAME3D5=32106]="OID_FRAME3D5",e[e.OID_FRAME3D6=32107]="OID_FRAME3D6",e[e.OID_FRAME3D7=32108]="OID_FRAME3D7",e[e.OID_FRAME3D8=32109]="OID_FRAME3D8",e[e.OID_FRAME3D=32110]="OID_FRAME3D",e[e.MB_OK=0]="MB_OK",e[e.MB_OKCANCEL=1]="MB_OKCANCEL",e[e.MB_ABORTRETRYIGNORE=2]="MB_ABORTRETRYIGNORE",e[e.MB_YESNOCANCEL=3]="MB_YESNOCANCEL",e[e.MB_YESNO=4]="MB_YESNO",e[e.MB_RETRYCANCEL=5]="MB_RETRYCANCEL",e[e.MB_TYPEMASK=15]="MB_TYPEMASK",e[e.MB_ICONHAND=16]="MB_ICONHAND",e[e.MB_ICONQUESTION=32]="MB_ICONQUESTION",e[e.MB_ICONEXCLAMATION=48]="MB_ICONEXCLAMATION",e[e.MB_ICONASTERISK=64]="MB_ICONASTERISK",e[e.MB_ICONMASK=240]="MB_ICONMASK",e[e.MB_ICONINFORMATION=64]="MB_ICONINFORMATION",e[e.MB_ICONSTOP=16]="MB_ICONSTOP",e[e.MB_DEFBUTTON1=0]="MB_DEFBUTTON1",e[e.MB_DEFBUTTON2=256]="MB_DEFBUTTON2",e[e.MB_DEFBUTTON3=512]="MB_DEFBUTTON3",e[e.MB_DEFMASK=3840]="MB_DEFMASK",e[e.MB_APPLMODAL=0]="MB_APPLMODAL",e[e.MB_SYSTEMMODAL=4096]="MB_SYSTEMMODAL",e[e.MB_TASKMODAL=8192]="MB_TASKMODAL",e[e.MB_NOFOCUS=32768]="MB_NOFOCUS",e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWNORMAL=1]="SW_SHOWNORMAL",e[e.SW_NORMAL=1]="SW_NORMAL",e[e.SW_SHOWMINIMIZED=2]="SW_SHOWMINIMIZED",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_MAXIMIZE=3]="SW_MAXIMIZE",e[e.SW_SHOWNOACTIVATE=4]="SW_SHOWNOACTIVATE",e[e.SW_SHOW=5]="SW_SHOW",e[e.SW_MINIMIZE=6]="SW_MINIMIZE",e[e.SW_SHOWMINNOACTIVE=7]="SW_SHOWMINNOACTIVE",e[e.SW_SHOWNA=8]="SW_SHOWNA",e[e.SW_RESTORE=9]="SW_RESTORE",e[e.MCIERR_INVALID_DEVICE_ID=257]="MCIERR_INVALID_DEVICE_ID",e[e.MCIERR_UNRECOGNIZED_KEYWORD=259]="MCIERR_UNRECOGNIZED_KEYWORD",e[e.MCIERR_UNRECOGNIZED_COMMAND=261]="MCIERR_UNRECOGNIZED_COMMAND",e[e.MCIERR_HARDWARE=262]="MCIERR_HARDWARE",e[e.MCIERR_INVALID_DEVICE_NAME=263]="MCIERR_INVALID_DEVICE_NAME",e[e.MCIERR_OUT_OF_MEMORY=264]="MCIERR_OUT_OF_MEMORY",e[e.MCIERR_DEVICE_OPEN=265]="MCIERR_DEVICE_OPEN",e[e.MCIERR_CANNOT_LOAD_DRIVER=266]="MCIERR_CANNOT_LOAD_DRIVER",e[e.MCIERR_MISSING_COMMAND_STRING=267]="MCIERR_MISSING_COMMAND_STRING",e[e.MCIERR_PARAM_OVERFLOW=268]="MCIERR_PARAM_OVERFLOW",e[e.MCIERR_MISSING_STRING_ARGUMENT=269]="MCIERR_MISSING_STRING_ARGUMENT",e[e.MCIERR_BAD_INTEGER=270]="MCIERR_BAD_INTEGER",e[e.MCIERR_PARSER_INTERNAL=271]="MCIERR_PARSER_INTERNAL",e[e.MCIERR_DRIVER_INTERNAL=272]="MCIERR_DRIVER_INTERNAL",e[e.MCIERR_MISSING_PARAMETER=273]="MCIERR_MISSING_PARAMETER",e[e.MCIERR_UNSUPPORTED_FUNCTION=274]="MCIERR_UNSUPPORTED_FUNCTION",e[e.MCIERR_FILE_NOT_FOUND=275]="MCIERR_FILE_NOT_FOUND",e[e.MCIERR_DEVICE_NOT_READY=276]="MCIERR_DEVICE_NOT_READY",e[e.MCIERR_INTERNAL=277]="MCIERR_INTERNAL",e[e.MCIERR_DRIVER=278]="MCIERR_DRIVER",e[e.MCIERR_CANNOT_USE_ALL=279]="MCIERR_CANNOT_USE_ALL",e[e.MCIERR_MULTIPLE=280]="MCIERR_MULTIPLE",e[e.MCIERR_EXTENSION_NOT_FOUND=281]="MCIERR_EXTENSION_NOT_FOUND",e[e.MCIERR_OUTOFRANGE=282]="MCIERR_OUTOFRANGE",e[e.MCIERR_FLAGS_NOT_COMPATIBLE=284]="MCIERR_FLAGS_NOT_COMPATIBLE",e[e.MCIERR_FILE_NOT_SAVED=286]="MCIERR_FILE_NOT_SAVED",e[e.MCIERR_DEVICE_TYPE_REQUIRED=287]="MCIERR_DEVICE_TYPE_REQUIRED",e[e.MCIERR_DEVICE_LOCKED=288]="MCIERR_DEVICE_LOCKED",e[e.MCIERR_DUPLICATE_ALIAS=289]="MCIERR_DUPLICATE_ALIAS",e[e.MCIERR_BAD_CONSTANT=290]="MCIERR_BAD_CONSTANT",e[e.MCIERR_MUST_USE_SHAREABLE=291]="MCIERR_MUST_USE_SHAREABLE",e[e.MCIERR_MISSING_DEVICE_NAME=292]="MCIERR_MISSING_DEVICE_NAME",e[e.MCIERR_BAD_TIME_FORMAT=293]="MCIERR_BAD_TIME_FORMAT",e[e.MCIERR_NO_CLOSING_QUOTE=294]="MCIERR_NO_CLOSING_QUOTE",e[e.MCIERR_DUPLICATE_FLAGS=295]="MCIERR_DUPLICATE_FLAGS",e[e.MCIERR_INVALID_FILE=296]="MCIERR_INVALID_FILE",e[e.MCIERR_NULL_PARAMETER_BLOCK=297]="MCIERR_NULL_PARAMETER_BLOCK",e[e.MCIERR_UNNAMED_RESOURCE=298]="MCIERR_UNNAMED_RESOURCE",e[e.MCIERR_NEW_REQUIRES_ALIAS=299]="MCIERR_NEW_REQUIRES_ALIAS",e[e.MCIERR_NOTIFY_ON_AUTO_OPEN=300]="MCIERR_NOTIFY_ON_AUTO_OPEN",e[e.MCIERR_NO_ELEMENT_ALLOWED=301]="MCIERR_NO_ELEMENT_ALLOWED",e[e.MCIERR_NONAPPLICABLE_FUNCTION=302]="MCIERR_NONAPPLICABLE_FUNCTION",e[e.MCIERR_ILLEGAL_FOR_AUTO_OPEN=303]="MCIERR_ILLEGAL_FOR_AUTO_OPEN",e[e.MCIERR_FILENAME_REQUIRED=304]="MCIERR_FILENAME_REQUIRED",e[e.MCIERR_EXTRA_CHARACTERS=305]="MCIERR_EXTRA_CHARACTERS",e[e.MCIERR_DEVICE_NOT_INSTALLED=306]="MCIERR_DEVICE_NOT_INSTALLED",e[e.MCIERR_GET_CD=307]="MCIERR_GET_CD",e[e.MCIERR_SET_CD=308]="MCIERR_SET_CD",e[e.MCIERR_SET_DRIVE=309]="MCIERR_SET_DRIVE",e[e.MCIERR_DEVICE_LENGTH=310]="MCIERR_DEVICE_LENGTH",e[e.MCIERR_DEVICE_ORD_LENGTH=311]="MCIERR_DEVICE_ORD_LENGTH",e[e.MCIERR_NO_INTEGER=312]="MCIERR_NO_INTEGER",e[e.MCIERR_WAVE_OUTPUTSINUSE=320]="MCIERR_WAVE_OUTPUTSINUSE",e[e.MCIERR_WAVE_SETOUTPUTINUSE=321]="MCIERR_WAVE_SETOUTPUTINUSE",e[e.MCIERR_WAVE_INPUTSINUSE=322]="MCIERR_WAVE_INPUTSINUSE",e[e.MCIERR_WAVE_SETINPUTINUSE=323]="MCIERR_WAVE_SETINPUTINUSE",e[e.MCIERR_WAVE_OUTPUTUNSPECIFIED=324]="MCIERR_WAVE_OUTPUTUNSPECIFIED",e[e.MCIERR_WAVE_INPUTUNSPECIFIED=325]="MCIERR_WAVE_INPUTUNSPECIFIED",e[e.MCIERR_WAVE_OUTPUTSUNSUITABLE=326]="MCIERR_WAVE_OUTPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETOUTPUTUNSUITABLE=327]="MCIERR_WAVE_SETOUTPUTUNSUITABLE",e[e.MCIERR_WAVE_INPUTSUNSUITABLE=328]="MCIERR_WAVE_INPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETINPUTUNSUITABLE=329]="MCIERR_WAVE_SETINPUTUNSUITABLE",e[e.MCIERR_SEQ_DIV_INCOMPATIBLE=336]="MCIERR_SEQ_DIV_INCOMPATIBLE",e[e.MCIERR_SEQ_PORT_INUSE=337]="MCIERR_SEQ_PORT_INUSE",e[e.MCIERR_SEQ_PORT_NONEXISTENT=338]="MCIERR_SEQ_PORT_NONEXISTENT",e[e.MCIERR_SEQ_PORT_MAPNODEVICE=339]="MCIERR_SEQ_PORT_MAPNODEVICE",e[e.MCIERR_SEQ_PORT_MISCERROR=340]="MCIERR_SEQ_PORT_MISCERROR",e[e.MCIERR_SEQ_TIMER=341]="MCIERR_SEQ_TIMER",e[e.MCIERR_SEQ_PORTUNSPECIFIED=342]="MCIERR_SEQ_PORTUNSPECIFIED",e[e.MCIERR_SEQ_NOMIDIPRESENT=343]="MCIERR_SEQ_NOMIDIPRESENT",e[e.MCIERR_NO_WINDOW=346]="MCIERR_NO_WINDOW",e[e.MCIERR_CREATEWINDOW=347]="MCIERR_CREATEWINDOW",e[e.MCIERR_FILE_READ=348]="MCIERR_FILE_READ",e[e.MCIERR_FILE_WRITE=349]="MCIERR_FILE_WRITE",e[e.WS_VISIBLE=268435456]="WS_VISIBLE",e[e.WS_DISABLED=134217728]="WS_DISABLED",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_DLGFRAME=4194304]="WS_DLGFRAME",e[e.WS_VSCROLL=2097152]="WS_VSCROLL",e[e.WS_HSCROLL=1048576]="WS_HSCROLL",e[e.WS_SYSMENU=524288]="WS_SYSMENU",e[e.WS_THICKFRAME=262144]="WS_THICKFRAME",e[e.WS_MINIMIZEBOX=131072]="WS_MINIMIZEBOX",e[e.WS_MAXIMIZEBOX=65536]="WS_MAXIMIZEBOX",e[e.WS_GROUP=131072]="WS_GROUP",e[e.WS_TABSTOP=65536]="WS_TABSTOP",e[e.WS_OVERLAPPED=0]="WS_OVERLAPPED",e[e.WS_POPUP=2147483648]="WS_POPUP",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.IDX_PRIMARY=1]="IDX_PRIMARY",e[e.IDX_UNIQUE=2]="IDX_UNIQUE",e[e.IDX_DESCENDING=4]="IDX_DESCENDING",e[e.IDX_MAINTAINED=8]="IDX_MAINTAINED",e[e.IDX_SUBSET=16]="IDX_SUBSET",e[e.IDX_EXPR=32]="IDX_EXPR",e[e.IDX_IDXOOD=64]="IDX_IDXOOD",e[e.IDX_CASEINSENS=128]="IDX_CASEINSENS",e[e.FLDDBCHAR=513]="FLDDBCHAR",e[e.FLDDBNUM=514]="FLDDBNUM",e[e.FLDDBMEMO=515]="FLDDBMEMO",e[e.FLDDBBOOL=516]="FLDDBBOOL",e[e.FLDDBDATE=517]="FLDDBDATE",e[e.FLDDBFLOAT=518]="FLDDBFLOAT",e[e.FLDDBLOCK=519]="FLDDBLOCK",e[e.FLDDBOLEBLOB=520]="FLDDBOLEBLOB",e[e.FLDDBBINARY=521]="FLDDBBINARY",e[e.FLDDBBYTES=522]="FLDDBBYTES",e[e.BS_PUSHBUTTON=0]="BS_PUSHBUTTON",e[e.BS_DEFPUSHBUTTON=1]="BS_DEFPUSHBUTTON",e[e.BS_CHECKBOX=2]="BS_CHECKBOX",e[e.BS_AUTOCHECKBOX=3]="BS_AUTOCHECKBOX",e[e.BS_RADIOBUTTON=4]="BS_RADIOBUTTON",e[e.BS_3STATE=5]="BS_3STATE",e[e.BS_AUTO3STATE=6]="BS_AUTO3STATE",e[e.BS_GROUPBOX=7]="BS_GROUPBOX",e[e.BS_USERBUTTON=8]="BS_USERBUTTON",e[e.BS_AUTORADIOBUTTON=9]="BS_AUTORADIOBUTTON",e[e.BS_OWNERDRAW=11]="BS_OWNERDRAW",e[e.BS_LEFTTEXT=32]="BS_LEFTTEXT",e[e.ES_LEFT=0]="ES_LEFT",e[e.ES_CENTER=1]="ES_CENTER",e[e.ES_RIGHT=2]="ES_RIGHT",e[e.ES_MULTILINE=4]="ES_MULTILINE",e[e.ES_UPPERCASE=8]="ES_UPPERCASE",e[e.ES_LOWERCASE=16]="ES_LOWERCASE",e[e.ES_PASSWORD=32]="ES_PASSWORD",e[e.ES_AUTOVSCROLL=64]="ES_AUTOVSCROLL",e[e.ES_AUTOHSCROLL=128]="ES_AUTOHSCROLL",e[e.ES_NOHIDESEL=256]="ES_NOHIDESEL",e[e.SBS_HORZ=0]="SBS_HORZ",e[e.SBS_VERT=1]="SBS_VERT",e[e.SBS_TOPALIGN=2]="SBS_TOPALIGN",e[e.SBS_LEFTALIGN=2]="SBS_LEFTALIGN",e[e.SBS_BOTTOMALIGN=4]="SBS_BOTTOMALIGN",e[e.SBS_RIGHTALIGN=4]="SBS_RIGHTALIGN",e[e.SBS_SIZEBOXTOPLEFTALIGN=2]="SBS_SIZEBOXTOPLEFTALIGN",e[e.SBS_SIZEBOXBOTTOMRIGHTALIGN=4]="SBS_SIZEBOXBOTTOMRIGHTALIGN",e[e.SBS_SIZEBOX=8]="SBS_SIZEBOX",e[e.LBS_NOTIFY=1]="LBS_NOTIFY",e[e.LBS_SORT=2]="LBS_SORT",e[e.LBS_NOREDRAW=4]="LBS_NOREDRAW",e[e.LBS_MULTIPLESEL=8]="LBS_MULTIPLESEL",e[e.LBS_OWNERDRAWFIXED=16]="LBS_OWNERDRAWFIXED",e[e.LBS_OWNERDRAWVARIABLE=32]="LBS_OWNERDRAWVARIABLE",e[e.LBS_HASSTRINGS=64]="LBS_HASSTRINGS",e[e.LBS_USETABSTOPS=128]="LBS_USETABSTOPS",e[e.LBS_NOINTEGRALHEIGHT=256]="LBS_NOINTEGRALHEIGHT",e[e.LBS_MULTICOLUMN=512]="LBS_MULTICOLUMN",e[e.LBS_WANTKEYBOARDINPUT=1024]="LBS_WANTKEYBOARDINPUT",e[e.LBS_EXTENDEDSEL=2048]="LBS_EXTENDEDSEL",e[e.CBS_SIMPLE=1]="CBS_SIMPLE",e[e.CBS_DROPDOWN=2]="CBS_DROPDOWN",e[e.CBS_DROPDOWNLIST=3]="CBS_DROPDOWNLIST",e[e.CBS_OWNERDRAWFIXED=16]="CBS_OWNERDRAWFIXED",e[e.CBS_OWNERDRAWVARIABLE=32]="CBS_OWNERDRAWVARIABLE",e[e.CBS_AUTOHSCROLL=64]="CBS_AUTOHSCROLL",e[e.CBS_OEMCONVERT=128]="CBS_OEMCONVERT",e[e.CBS_SORT=256]="CBS_SORT",e[e.CBS_HASSTRINGS=512]="CBS_HASSTRINGS",e[e.CBS_NOINTEGRALHEIGHT=1024]="CBS_NOINTEGRALHEIGHT",e[e.BS_SOLID=0]="BS_SOLID",e[e.BS_NULL=1]="BS_NULL",e[e.BS_HATCHED=2]="BS_HATCHED",e[e.BS_PATTERN=3]="BS_PATTERN",e[e.BS_GRADIENT_LINEAR=10]="BS_GRADIENT_LINEAR",e[e.HS_HORIZONTAL=0]="HS_HORIZONTAL",e[e.HS_VERTICAL=1]="HS_VERTICAL",e[e.HS_FDIAGONAL=2]="HS_FDIAGONAL",e[e.HS_BDIAGONAL=3]="HS_BDIAGONAL",e[e.HS_CROSS=4]="HS_CROSS",e[e.HS_DIAGCROSS=5]="HS_DIAGCROSS",e[e.PS_SOLID=0]="PS_SOLID",e[e.PS_DASH=1]="PS_DASH",e[e.PS_DOT=2]="PS_DOT",e[e.PS_DASHDOT=3]="PS_DASHDOT",e[e.PS_DASHDOTDOT=4]="PS_DASHDOTDOT",e[e.PS_NULL=5]="PS_NULL",e[e.PS_INSIDEFRAME=6]="PS_INSIDEFRAME",e[e.R2_BLACK=1]="R2_BLACK",e[e.R2_NOTMERGEPEN=2]="R2_NOTMERGEPEN",e[e.R2_MASKNOTPEN=3]="R2_MASKNOTPEN",e[e.R2_NOTCOPYPEN=4]="R2_NOTCOPYPEN",e[e.R2_MASKPENNOT=5]="R2_MASKPENNOT",e[e.R2_NOT=6]="R2_NOT",e[e.R2_XORPEN=7]="R2_XORPEN",e[e.R2_NOTMASKPEN=8]="R2_NOTMASKPEN",e[e.R2_MASKPEN=9]="R2_MASKPEN",e[e.R2_NOTXORPEN=10]="R2_NOTXORPEN",e[e.R2_NOP=11]="R2_NOP",e[e.R2_MERGENOTPEN=12]="R2_MERGENOTPEN",e[e.R2_COPYPEN=13]="R2_COPYPEN",e[e.R2_MERGEPENNOT=14]="R2_MERGEPENNOT",e[e.R2_MERGEPEN=15]="R2_MERGEPEN",e[e.R2_WHITE=16]="R2_WHITE",e[e.FILE_ATTRIBUTE_ARCHIVE=32]="FILE_ATTRIBUTE_ARCHIVE",e[e.FILE_ATTRIBUTE_COMPRESSED=2048]="FILE_ATTRIBUTE_COMPRESSED",e[e.FILE_ATTRIBUTE_DIRECTORY=16]="FILE_ATTRIBUTE_DIRECTORY",e[e.FILE_ATTRIBUTE_HIDDEN=2]="FILE_ATTRIBUTE_HIDDEN",e[e.FILE_ATTRIBUTE_NORMAL=128]="FILE_ATTRIBUTE_NORMAL",e[e.FILE_ATTRIBUTE_OFFLINE=4096]="FILE_ATTRIBUTE_OFFLINE",e[e.FILE_ATTRIBUTE_READONLY=1]="FILE_ATTRIBUTE_READONLY",e[e.FILE_ATTRIBUTE_SYSTEM=4]="FILE_ATTRIBUTE_SYSTEM",e[e.FILE_ATTRIBUTE_TEMPORARY=256]="FILE_ATTRIBUTE_TEMPORARY",e[e.VF_LOCAL=2]="VF_LOCAL",e[e.VF_EQVAR=256]="VF_EQVAR",e[e.VF_ARGUMENT=512]="VF_ARGUMENT",e[e.VF_RETURN=1024]="VF_RETURN",e[e.CUR_ARROW=0]="CUR_ARROW",e[e.CUR_CROSS=1]="CUR_CROSS",e[e.CUR_TEXT=2]="CUR_TEXT",e[e.CUR_NO=3]="CUR_NO",e[e.CUR_SIZE=4]="CUR_SIZE",e[e.CUR_SIZENESW=5]="CUR_SIZENESW",e[e.CUR_SIZENS=6]="CUR_SIZENS",e[e.CUR_SIZENWSE=7]="CUR_SIZENWSE",e[e.CUR_SIZEWE=8]="CUR_SIZEWE",e[e.CUR_UPARROW=9]="CUR_UPARROW",e[e.CUR_WAIT=10]="CUR_WAIT",e[e.CUR_LINK=11]="CUR_LINK",e[e.CUR_HELP=12]="CUR_HELP",e[e.SHADOWTYPE_STENCIL_MODULATIVE=18]="SHADOWTYPE_STENCIL_MODULATIVE",e[e.SHADOWTYPE_STENCIL_ADDITIVE=17]="SHADOWTYPE_STENCIL_ADDITIVE",e[e.SHADOWTYPE_TEXTURE_MODULATIVE=34]="SHADOWTYPE_TEXTURE_MODULATIVE",e[e.SHADOWTYPE_TEXTURE_ADDITIVE=33]="SHADOWTYPE_TEXTURE_ADDITIVE",e[e.FOG_NONE=0]="FOG_NONE",e[e.FOG_EXP=1]="FOG_EXP",e[e.FOG_EXP2=2]="FOG_EXP2",e[e.FOG_LINEAR=3]="FOG_LINEAR",e[e.TEX_TYPE_1D=1]="TEX_TYPE_1D",e[e.TEX_TYPE_2D=2]="TEX_TYPE_2D",e[e.TEX_TYPE_3D=3]="TEX_TYPE_3D",e[e.TEX_TYPE_CUBE_MAP=4]="TEX_TYPE_CUBE_MAP",e[e.SBF_ONE=0]="SBF_ONE",e[e.SBF_ZERO=1]="SBF_ZERO",e[e.SBF_DEST_COLOUR=2]="SBF_DEST_COLOUR",e[e.SBF_SOURCE_COLOUR=3]="SBF_SOURCE_COLOUR",e[e.SBF_ONE_MINUS_DEST_COLOUR=4]="SBF_ONE_MINUS_DEST_COLOUR",e[e.SBF_ONE_MINUS_SOURCE_COLOUR=5]="SBF_ONE_MINUS_SOURCE_COLOUR",e[e.SBF_DEST_ALPHA=6]="SBF_DEST_ALPHA",e[e.SBF_SOURCE_ALPHA=7]="SBF_SOURCE_ALPHA",e[e.SBF_ONE_MINUS_DEST_ALPHA=8]="SBF_ONE_MINUS_DEST_ALPHA",e[e.SBF_ONE_MINUS_SOURCE_ALPHA=9]="SBF_ONE_MINUS_SOURCE_ALPHA",e[e.CMPF_ALWAYS_FAIL=0]="CMPF_ALWAYS_FAIL",e[e.CMPF_ALWAYS_PASS=1]="CMPF_ALWAYS_PASS",e[e.CMPF_LESS=2]="CMPF_LESS",e[e.CMPF_LESS_EQUAL=3]="CMPF_LESS_EQUAL",e[e.CMPF_EQUAL=4]="CMPF_EQUAL",e[e.CMPF_NOT_EQUAL=5]="CMPF_NOT_EQUAL",e[e.CMPF_GREATER_EQUAL=6]="CMPF_GREATER_EQUAL",e[e.CMPF_GREATER=7]="CMPF_GREATER",e[e.CULL_NONE=1]="CULL_NONE",e[e.CULL_CLOCKWISE=2]="CULL_CLOCKWISE",e[e.CULL_ANTICLOCKWISE=3]="CULL_ANTICLOCKWISE",e[e.SO_FLAT=0]="SO_FLAT",e[e.SO_GOURAUD=1]="SO_GOURAUD",e[e.SO_PHONG=2]="SO_PHONG",e[e.PM_POINTS=1]="PM_POINTS",e[e.PM_WIREFRAME=2]="PM_WIREFRAME",e[e.PM_SOLID=3]="PM_SOLID",e[e.LT_POINT=0]="LT_POINT",e[e.LT_DIRECTIONAL=1]="LT_DIRECTIONAL",e[e.LT_SPOTLIGHT=2]="LT_SPOTLIGHT",e[e.PT_ORTHOGRAPHIC=0]="PT_ORTHOGRAPHIC",e[e.PT_PERSPECTIVE=1]="PT_PERSPECTIVE",e[e.OT_POINT_LIST=1]="OT_POINT_LIST",e[e.OT_LINE_LIST=2]="OT_LINE_LIST",e[e.OT_LINE_STRIP=3]="OT_LINE_STRIP",e[e.OT_TRIANGLE_LIST=4]="OT_TRIANGLE_LIST",e[e.OT_TRIANGLE_STRIP=5]="OT_TRIANGLE_STRIP",e[e.OT_TRIANGLE_FAN=6]="OT_TRIANGLE_FAN",e[e.BBT_POINT=0]="BBT_POINT",e[e.BBT_ORIENTED_COMMON=1]="BBT_ORIENTED_COMMON",e[e.BBT_ORIENTED_SELF=2]="BBT_ORIENTED_SELF",e[e.BBT_PERPENDICULAR_COMMON=3]="BBT_PERPENDICULAR_COMMON",e[e.BBT_PERPENDICULAR_SELF=4]="BBT_PERPENDICULAR_SELF",e[e.GMM_RELATIVE=0]="GMM_RELATIVE",e[e.GMM_PIXELS=1]="GMM_PIXELS",e[e.GMM_RELATIVE_ASPECT_ADJUSTED=2]="GMM_RELATIVE_ASPECT_ADJUSTED",e[e.GHA_LEFT=0]="GHA_LEFT",e[e.GHA_CENTER=1]="GHA_CENTER",e[e.GHA_RIGHT=2]="GHA_RIGHT",e[e.GVA_TOP=0]="GVA_TOP",e[e.GVA_CENTER=1]="GVA_CENTER",e[e.GVA_BOTTOM=2]="GVA_BOTTOM",e[e.MTHA_LEFT=0]="MTHA_LEFT",e[e.MTHA_CENTER=1]="MTHA_CENTER",e[e.MTVA_BELOW=0]="MTVA_BELOW",e[e.MTVA_ABOVE=1]="MTVA_ABOVE",e[e.MTVA_CENTER=2]="MTVA_CENTER",e[e.PT_BOOL=0]="PT_BOOL",e[e.PT_REAL=1]="PT_REAL",e[e.PT_INT=2]="PT_INT",e[e.PT_UNSIGNED_INT=3]="PT_UNSIGNED_INT",e[e.PT_SHORT=4]="PT_SHORT",e[e.PT_UNSIGNED_SHORT=5]="PT_UNSIGNED_SHORT",e[e.PT_LONG=6]="PT_LONG",e[e.PT_UNSIGNED_LONG=7]="PT_UNSIGNED_LONG",e[e.PT_STRING=8]="PT_STRING",e[e.PT_VECTOR3=9]="PT_VECTOR3",e[e.PT_MATRIX3=10]="PT_MATRIX3",e[e.PT_MATRIX4=11]="PT_MATRIX4",e[e.PT_QUATERNION=12]="PT_QUATERNION",e[e.PT_COLOURVALUE=13]="PT_COLOURVALUE",e[e.NUI_SP_HIP_CENTER=0]="NUI_SP_HIP_CENTER",e[e.NUI_SP_SPINE=1]="NUI_SP_SPINE",e[e.NUI_SP_SHOULDER_CENTER=2]="NUI_SP_SHOULDER_CENTER",e[e.NUI_SP_HEAD=3]="NUI_SP_HEAD",e[e.NUI_SP_SHOULDER_LEFT=4]="NUI_SP_SHOULDER_LEFT",e[e.NUI_SP_ELBOW_LEFT=5]="NUI_SP_ELBOW_LEFT",e[e.NUI_SP_WRIST_LEFT=6]="NUI_SP_WRIST_LEFT",e[e.NUI_SP_HAND_LEFT=7]="NUI_SP_HAND_LEFT",e[e.NUI_SP_SHOULDER_RIGHT=8]="NUI_SP_SHOULDER_RIGHT",e[e.NUI_SP_ELBOW_RIGHT=9]="NUI_SP_ELBOW_RIGHT",e[e.NUI_SP_WRIST_RIGHT=10]="NUI_SP_WRIST_RIGHT",e[e.NUI_SP_HAND_RIGHT=11]="NUI_SP_HAND_RIGHT",e[e.NUI_SP_HIP_LEFT=12]="NUI_SP_HIP_LEFT",e[e.NUI_SP_KNEE_LEFT=13]="NUI_SP_KNEE_LEFT",e[e.NUI_SP_ANKLE_LEFT=14]="NUI_SP_ANKLE_LEFT",e[e.NUI_SP_FOOT_LEFT=15]="NUI_SP_FOOT_LEFT",e[e.NUI_SP_HIP_RIGHT=16]="NUI_SP_HIP_RIGHT",e[e.NUI_SP_KNEE_RIGHT=17]="NUI_SP_KNEE_RIGHT",e[e.NUI_SP_ANKLE_RIGHT=18]="NUI_SP_ANKLE_RIGHT",e[e.NUI_SP_FOOT_RIGHT=19]="NUI_SP_FOOT_RIGHT",e[e.NUI_SP_COUNT=20]="NUI_SP_COUNT",e[e.WEB_DIALOG_OPEN=100]="WEB_DIALOG_OPEN",e))(et||{});const RC=258,iq=[{atlas:"default.dbm",width:224,height:928},{atlas:"animals.dbm",width:224,height:736},{atlas:"art.dbm",width:416,height:256},{atlas:"be_icons.dbm",width:160,height:1504},{atlas:"diamonds.dbm",width:256,height:544},{atlas:"folders.dbm",width:416,height:352},{atlas:"folders2.dbm",width:192,height:1376},{atlas:"hardware.dbm",width:64,height:2656},{atlas:"mask.bmp",width:64,height:64},{atlas:"people.dbm",width:416,height:576},{atlas:"recycle.dbm",width:32,height:3296},{atlas:"science.dbm",width:128,height:608},{atlas:"signs.dbm",width:96,height:1504},{atlas:"system.dbm",width:64,height:736},{atlas:"varpoint.bmp",width:32,height:128},{atlas:"varpoint.dbm",width:160,height:32},{atlas:"windows.dbm",width:512,height:384},{atlas:"_default.bmp",width:96,height:96}];function Ep(e){const t=iq.find(n=>n.atlas===e);return t?{...t,src:"icon:"+t.atlas}:null}const IC=Ep("default.dbm"),PC=Ep("varpoint.dbm");function kC(e,t){const n=e.width/32,r=t%n*32,o=Math.floor(t/n)*32;return{x:r,y:o}}function sq(e,t,n){const r=e.width/32;return t/32+n/32*r}var bt=(e=>(e[e.FLOAT=1]="FLOAT",e[e.STRING=2]="STRING",e[e.HANDLE=3]="HANDLE",e[e.COLORREF=4]="COLORREF",e))(bt||{});const zv=1,sk="2.0",Uv=0,DC=1,AC=2,ak=3,Hv=4,LC="CM_CLEARALL",NC="CM_PREVPAGE",aq=["gray","blue","navy","gray","#b5b5b5","white","black","black","black","white","gray","gray","gray","navy","white","#b5b5b5","gray","gray","black","gray","white"],Mh=1<<24,Tp=2<<24,lk=4<<24;function lq(e){const t=parseInt(e);if(!isNaN(t))return t;const n=e.toLowerCase().trim();if(n.startsWith("rgb")){const r=n.split("(")[1].split(")")[0].split(",").map(o=>parseInt(o));return r[0]|r[1]<<8|r[2]<<16}return n.startsWith("transparent")?Mh:n.startsWith("syscolor")?Tp|parseInt(n.split("(")[1].split(")")[0]):0}function Gu(e){if(e&Mh)return null;const t=e&255;if(e&Tp)return aq[t]||"black";const n=e>>8&255,r=e>>16&255;return e&lk?`rgba(${t},${n},${r}, 0.5)`:`rgb(${t},${n},${r})`}function ha(e,t,n,r){const o=r==="transparent"?Mh:r==="syscolor"?Tp:r==="editor"?lk:0;return e&255|(t&255)<<8|(n&255)<<16|o}function ck(e){return e&255}function uk(e){return e>>8&255}function dk(e){return e>>16&255}function cq(e){if(e&Mh)return"Transparent";const t=e&255;if(e&Tp)return`SysColor(${t})`;const n=e>>8&255,r=e>>16&255;return`rgb(${t},${n},${r})`}function BC(e){if(e&Mh)return"#ffffff";const t=(e&255).toString(16);if(e&Tp)return"#000000";const n=(e>>8&255).toString(16),r=(e>>16&255).toString(16);return`#${t.length>1?t:`0${t}`}${n.length>1?n:`0${n}`}${r.length>1?r:`0${r}`}`}function FC(e){const t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return ha(t,n,r)}const za=1,Ll=2,Es=4,Mp=8;function Wu(e){return e>>8&31}function jC(e){return e<<8}const Gv=1,hk=2,fk=4,Op=8;/**
Copyright (c) 2020 Egor Nepomnyaschih @license (MIT)
*/const Nl=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],pk=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Wv(e){if(e>=pk.length)throw new Error("Unable to parse base64 string.");const t=pk[e];if(t===255)throw new Error("Unable to parse base64 string.");return t}function Kv(e){let t="",n,r=e.length;for(n=2;n<r;n+=3)t+=Nl[e[n-2]>>2],t+=Nl[(e[n-2]&3)<<4|e[n-1]>>4],t+=Nl[(e[n-1]&15)<<2|e[n]>>6],t+=Nl[e[n]&63];return n===r+1&&(t+=Nl[e[n-2]>>2],t+=Nl[(e[n-2]&3)<<4],t+="=="),n===r&&(t+=Nl[e[n-2]>>2],t+=Nl[(e[n-2]&3)<<4|e[n-1]>>4],t+=Nl[(e[n-1]&15)<<2],t+="="),t}function VC(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(t!==-1&&t<e.length-2)throw new Error("Unable to parse base64 string.");let n=e.endsWith("==")?2:e.endsWith("=")?1:0,r=e.length,o=new Uint8Array(3*(r/4)),i;for(let s=0,a=0;s<r;s+=4,a+=3)i=Wv(e.charCodeAt(s))<<18|Wv(e.charCodeAt(s+1))<<12|Wv(e.charCodeAt(s+2))<<6|Wv(e.charCodeAt(s+3)),o[a]=i>>16,o[a+1]=i>>8&255,o[a+2]=i&255;return o.subarray(0,o.length-n)}const fa=[...Array.from({length:128},(e,t)=>String.fromCharCode(t)),"Ђ","Ѓ","‚","ѓ","„","…","†","‡","€","‰","Љ","‹","Њ","Ќ","Ћ","Џ","ђ","‘","’","“","”","•","–","—","","™","љ","›","њ","ќ","ћ","џ"," ","Ў","ў","Ћ","¤","Ґ","¦","§","Ё","©","Є","«","¬","","®","Ї","°","±","І","і","ґ","µ","¶","·","ё","№","є","»","ј","Ѕ","ѕ","ї","А","Б","В","Г","Д","Е","Ж","З","И","Й","К","Л","М","Н","О","П","Р","С","Т","У","Ф","Х","Ц","Ч","Ш","Щ","Ъ","Ы","Ь","Э","Ю","Я","а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"];function qv(e){return Array.from(e).map(t=>fa[t]).join("")}const Yv=32,uq=10;function $C(e){return new Uint8Array([...e].map(t=>{const n=fa.indexOf(t);return n>-1?n:Yv}))}class pa{constructor(){this.listeners=new Set,this.listenersOnce=new Set}add(t){this.listeners.add(t)}addOnce(t){this.listenersOnce.add(t)}remove(t){this.listeners.delete(t),this.listenersOnce.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.listenersOnce.forEach(n=>n(...t)),this.listenersOnce.clear()}}const Rp=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare;/**
 * Gauss-Jordan elimination by lovasoa (https://github.com/lovasoa) @license (MIT)
 */class zC{constructor(t,n){this.data=new Array(t.length);for(let r=0,o=t[0].length;r<t.length;r++){this.data[r]=new Array(o);for(let i=0;i<o;i++)this.data[r][i]=t[r][i]}if(n){if(typeof n[0]!="object")for(let r=0;r<n.length;r++)n[r]=[n[r]];this.mirror=new zC(n)}}swap(t,n){this.mirror&&this.mirror.swap(t,n);const r=this.data[t];this.data[t]=this.data[n],this.data[n]=r}multline(t,n){this.mirror&&this.mirror.multline(t,n);const r=this.data[t];for(let o=r.length-1;o>=0;o--)r[o]*=n}addmul(t,n,r){this.mirror&&this.mirror.addmul(t,n,r);const o=this.data[t],i=this.data[n];for(let s=o.length-1;s>=0;s--)o[s]=o[s]+r*i[s]}hasNullLine(t){for(let n=0;n<this.data[t].length;n++)if(this.data[t][n]!==0)return!1;return!0}gauss(){let t=0;const n=this.data.length,r=this.data[0].length,o=[];for(let i=0;i<r;i++){let s=0,a=0;for(let c=t;c<n;c++){const u=this.data[c][i];Math.abs(u)>Math.abs(s)&&(a=c,s=u)}if(s===0)o.push(t);else{this.multline(a,1/s),this.swap(a,t);for(let c=0;c<n;c++)c!==t&&this.addmul(c,t,-this.data[c][i])}t++}for(let i=0;i<o.length;i++)if(!this.mirror.hasNullLine(o[i]))throw new Error("singular matrix");return this.mirror.data}}function dq(e){const{a:t,b:n}=e,r=new zC(t,n).gauss();if(r.length>0&&r[0].length===1)for(let o=0;o<r.length;o++)r[o]=r[o][0];return r}function gk(e,t,n,r){const o=n-e,i=r-t;return Math.sqrt(o*o+i*i)}function mk(e,t,n,r,o){for(let i=t?0:2,s=t?e.length-2:0;i<e.length;s=i,i+=2){const a=e[i],c=e[i+1],u=e[s],h=e[s+1],f=a-u,g=c-h,m=f*f+g*g;if(m===0&&gk(r,o,u,h)<=n)return s/2;let y=((r-u)*f+(o-h)*g)/m;if(y=Math.max(0,Math.min(1,y)),gk(r,o,u+y*f,h+y*g)<=n)return s/2}return-1}function hq(e,t,n){let r=!1;for(let o=0,i=e.length-2;o<e.length;i=o,o+=2){const s=e[o],a=e[o+1],c=e[i],u=e[i+1];(a<=n&&n<u||u<=n&&n<a)&&u-a!==0&&t>(c-s)*(n-a)/(u-a)+s&&(r=!r)}return r}function fq(e){const t=e[0]*(e[4]*e[8]-e[7]*e[5])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]);return[(e[4]*e[8]-e[7]*e[5])/t,(e[2]*e[7]-e[1]*e[8])/t,(e[1]*e[5]-e[2]*e[4])/t,(e[5]*e[6]-e[3]*e[8])/t,(e[0]*e[8]-e[2]*e[6])/t,(e[3]*e[2]-e[0]*e[5])/t,(e[3]*e[7]-e[6]*e[4])/t,(e[6]*e[1]-e[0]*e[7])/t,(e[0]*e[4]-e[3]*e[1])/t]}function pq(e,t){return t===null?void 0:t}function gq(e){return JSON.stringify(e,pq)}const mq=/[\/\?<>\\:\*\|"]/g,vq=/[\x00-\x1f\x80-\x9f]/g,yq=/^\.+$/,bq=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,wq=/[\. ]+$/;function vk(e){return e.replace(mq,"").replace(vq,"").replace(yq,"").replace(bq,"").replace(wq,"")}class Bl{constructor(t){this.m=new Map,t?.forEach(([n,r])=>this.set(n,r))}set(t,n){const r=this.m.get(t);return r?r.add(n):this.m.set(t,new Set([n])),this}get(t){return this.m.get(t)??null}delete(t){return this.m.delete(t)}forEach(t){return this.m.forEach(t)}[Symbol.iterator](){return this.m.entries()}values(){return this.m.values()}}const Sq=[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","!","∀","#","∃","%","&","∍","(",")","*","+",",","−",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","≅","Α","Β","Χ","Δ","Ε","Φ","Γ","Η","Ι","ϑ","Κ","Λ","Μ","Ν","Ο","Π","Θ","Ρ","Σ","Τ","Υ","ς","Ω","Ξ","Ψ","Ζ","[","∴","]","⊥","_","‾","α","β","χ","δ","ε","φ","γ","η","ι","ϕ","κ","λ","μ","ν","ο","π","θ","ρ","σ","τ","υ","ϖ","ω","ξ","ψ","ζ","{","|","}","~"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","€","ϒ","′","≤","⁄","∞","ƒ","♣","♦","♥","♠","↔","←","↑","→","↓","°","±","″","≥","×","∝","∂","•","÷","≠","≡","≈","…","⏐","⎯","↵","ℵ","ℑ","ℜ","℘","⊗","⊕","∅","∩","∪","⊃","⊇","⊄","⊂","⊆","∈","∉","∠","∇","®","©","™","∏","√","⋅","¬","∧","∨","⇔","⇐","⇑","⇒","⇓","◊","〈","®","©","™","∑","⎛","⎜","⎝","⎡","⎢","⎣","⎧","⎨","⎩","⎪"," ","〉","∫","⌠","⎮","⌡","⎞","⎟","⎠","⎤","⎥","⎦","⎫","⎬","⎭"," "];function UC(e){let t="";for(let n=0;n<e.length;++n){let r=fa.indexOf(e[n]);r===142?r=163:r<0&&(r=0),t+=Sq[r]}return t}class Ts extends Map{static freeKey(t,n){let r=n||0;for(;t.has(++r););return r}static freeNegativeKey(t){let n=0;for(;t.has(--n););return n}}function yk(e,t){return e.filter(n=>n!==t)}function io(e){return e||void 0}function Ip(e){return e.length?e:void 0}function bk(e){return(e&e-1)===0}function Xv(e,t,n){return Math.min(Math.max(e,t),n)}function wk(e,t){e=Math.abs(e)%100;const n=e%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:n===1?t[0]:t[2]}function Cq(e){const t=e.split("."),n=t.length>1?t.pop():"";return{base:t.join("."),ext:n}}function Sk(e){return new Array().concat(...e)}function Pp(e,t){const n=[];for(const r of e)t(r)&&n.push(r);return n}function*Ck(e,t){for(const n of e)yield t(n)}function Si(e,t){const n=[];for(const r of e){const o=t(r);o&&n.push(o)}return n}function xq(e,t){const n=e.length-1,r=[];for(let o=n;o>=0;--o)r.push(t(e[o]));return r}function HC(e){return e*180/Math.PI}function kp(e){return e*Math.PI/180}function GC(e,t,n){const r=[];let o=!1;for(const i of e)i!==n&&(!o&&r.length===t&&(r.push(n),o=!0),r.push(i));return o||r.push(n),r}function _q(e){return Math.round(e*1e5)/1e5}function Zv(e,t,n=!1){if(e)return;let r=t;if(!n){const i=t.split(" ");i.splice(i.length-1,0,"не"),r=i.join(" ")}const o=Error(r);if(o.stack){const i=o.stack.split(`
`);o.stack=[i[0],...i.slice(2)].join(`
`)}throw o}function Eq(){}function xk(e,t){switch(e){case bt.FLOAT:return _q(t).toString();case bt.STRING:return t;case bt.HANDLE:return"#"+t;case bt.COLORREF:return cq(t)}}function Dp(e,t){switch(e){case bt.FLOAT:{const n=parseFloat(t.replace(",","."));if(!isNaN(n))return n;const r=et[t.toUpperCase()];return typeof r=="number"?r:null}case bt.HANDLE:return Tq(t);case bt.STRING:return t;case bt.COLORREF:return lq(t)}}function Tq(e){return(e.startsWith("#")?parseInt(e.slice(1)):parseInt(e))||0}function Mq(e,t){return`res:${e}/${t}`}function Ku(e,t){Object.assign(e.style,t)}const WC=document.createElement("a");function KC(e,t){const n=URL.createObjectURL(e);WC.href=n,WC.download=t,WC.click(),setTimeout(()=>URL.revokeObjectURL(n),1e3)}function _k(e){e.target===e.currentTarget&&e.preventDefault()}class qC{constructor(t=window){this.frameId=0,this.runner=t.requestAnimationFrame}get running(){return this.frameId!==0}run(t){if(this.running)return;const{runner:n}=this,r=()=>{this.frameId=t()?n(r):0};this.frameId=n(r)}stop(){this.running&&(cancelAnimationFrame(this.frameId),this.frameId=0)}}class Ek{constructor(t){this.root=t,this.frameId=0}get isRunning(){return this.frameId!==0}run(t){if(this.isRunning)return;const{root:n}=this,r=o=>{this.frameId=t(o)?n.requestAnimationFrame(r):0};this.frameId=n.requestAnimationFrame(r)}stop(){this.isRunning&&(this.root.cancelAnimationFrame(this.frameId),this.frameId=0)}}function YC(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error(`Ошибка загрузки ${e}`)),r.src=e})}function Oh(e,t){if(window.OffscreenCanvas)return new OffscreenCanvas(e,t);{const n=document.createElement("canvas");return n.width=e,n.height=t,n}}const qu={contentUrl:"./content"},Oq="stdlib";function Xi(e){if(e.startsWith("res:")){const t=e.slice(4);return t.startsWith("stdlib/")?`${qu.contentUrl}/stdlib/res/${t.slice(7)}`:`${qu.contentUrl}/libs/${t.slice(0,2)}/${t.slice(2,22)}/res/${t.slice(23)}`}return e.startsWith("icon:")?`${qu.contentUrl}/icons/${e.slice(5)}.png`:e}function Rq(e){return e==="stdlib"?`${qu.contentUrl}/stdlib/index.json`:`${qu.contentUrl}/libs/${e.slice(0,2)}/${e.slice(2)}/index.json`}function Iq(){const e=Date.now(),t=new Uint8Array(2);crypto.getRandomValues(t);const n=t[0]*256+t[1];return e*65536+n}let Tk=0;function Mk(){return(++Tk).toString()}function Jv(){return(++Tk).toString()}function Pq(e){try{return JSON.parse(localStorage.getItem(e))}catch{return null}}function kq(e,t){localStorage.setItem(e,JSON.stringify(t))}function Dq(e){localStorage.removeItem(e)}class Hr{constructor(t=!1){this.once=t,this.listeners=new Set}add(t){this.listeners.add(t)}remove(t){this.listeners.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.once&&this.listeners.clear()}}class Aq{constructor(){this.value=null}set(t){this.value=t}}function Ok(e,t){if(!t)return"C:\\"+XC(e);const n=t.toUpperCase().split("/"),r=e.split("/"),o=r.map(u=>u.toUpperCase());let i=0;for(;i<n.length&&i<o.length&&o[i]===n[i];++i);const s=Array.from({length:n.length-i},()=>".."),a=Array.from({length:r.length-i},(u,h)=>r[i+h]);return s.concat(a).join("\\")}function XC(e){return e.split("/").join("\\")}function Lq(e,t){navigator.clipboard?navigator.clipboard.writeText(e):prompt(t,e)}function Nq(e){const t=Ok(e.path,e.lib.vfs.projectRootDir?.path);Lq(t,"Относительный путь")}function Bq(e,t=250){return setTimeout.bind(null,e,t)}function Rh(e,t,n=""){n&&(n="."+n);let r=2,o=t+n;for(;e.getEntry(o);)o=t+" "+r+n,++r;return o}class Ci extends Error{}class Fq extends Ci{constructor(){super("Имя имиджа должно состоять из букв, цифр и подчеркивания")}}function Rk(e){if(!/^[_A-ZА-Я][_A-ZА-Я0-9]*$/i.test(e))throw new Fq}function Ik(e){const t=new Date;return{name:e,id:Iq(),image:{icon:{atlas:"system.dbm",index:0}},date:t.toJSON()}}const jq={cols:0,rows:0,minV:0,minH:0,data:[]},Vq={};async function $q(e){const t=URL.createObjectURL(e),n=await YC(t),{naturalWidth:r,naturalHeight:o}=n;return URL.revokeObjectURL(t),{width:r,height:o}}function zq(){return parseInt(new URLSearchParams(location.search).get("p"))}function Uq(e){history.pushState({},"",`./?p=${e}`)}function Yu(e,t){return Rp(e.name,t.name)}function Pk(e){return`${location.origin+location.pathname}play/?p=${e.id}&key=${e.accessKey}`}function Xu(e){return(Math.round(e*1e5)/1e5).toString()}const Qv=[];async function Hq(e,{width:t,height:n}){const r=Qv.find(({type:s,size:a,name:c,data:{image:u}})=>e.type===s&&e.size===a&&e.name===c&&u.width===t&&u.height===n);if(!r)return null;const o=`${e.name} (${e.type}, ${e.size}б, ${t}x${n}): `;return(await fetch(Xi(r.data.image.src),{method:"HEAD",cache:"no-cache"})).ok?(console.log(o+"взято из кеша"),r.data):(Qv.splice(Qv.indexOf(r)),console.log(o+"нет на сервере, удалено из кеша"),null)}class Gq{constructor(t,n){this.client=t,this.lib=n}async upload(t){const n=[],{client:r,lib:o}=this,i=[],s=t.map(async c=>{const u=c.name.split("."),h=u.length>1?u.at(-1).toLowerCase():"";if(h==="cur"||h==="ico"||c.type==="image/x-win-bitmap"||c.type==="image/x-icon"||c.type==="image/vnd.microsoft.icon"){i.push({file:c,mapFn:m=>({cursor:{src:m}})});return}if(c.type.startsWith("image/")){const m=await $q(c),y=await Hq(c,m);if(y){n.push({data:y,file:c});return}const{width:b,height:v}=m;i.push({file:c,mapFn:S=>({image:{src:S,width:b,height:v}})});return}if(c.type.startsWith("video/")){i.push({file:c,mapFn:m=>({video:{src:m}})});return}if(c.type.startsWith("audio/")){i.push({file:c,mapFn:m=>({audio:{src:m}})});return}if(c.type.startsWith("font/")){i.push({file:c,mapFn:m=>({ttf:{src:m}})});return}const f=await c.arrayBuffer(),g=Kv(new Uint8Array(f));n.push({file:c,data:{base64:g,size:f.byteLength}})});try{await Promise.all(s)}catch(c){if(!(c instanceof Error))throw c;return alert(c.message),[]}if(!i.length)return n;let a;try{a=await r.createLibraryRes(o.id,i.map(c=>c.file))}catch(c){return alert(`Не удалось загрузить файлы: ${c.message}`),[]}return i.forEach(({file:c,mapFn:u},h)=>{const f=a.files[h];if(!f.res)return;const{name:g,size:m}=f.res,y=Mq(o.contentDirname,g),b={...u(y),size:m};b.image&&Qv.push({name:c.name,size:c.size,type:c.type,data:b}),n.push({file:c,data:b})}),n}}const Zu=qu;Zu.localStoragePrefix="editor",Zu.apiUrl="./api",Zu.zoomWithCtrl=!!localStorage.getItem("zoomWithCtrl");const Ua=8;var Fl=(e=>(e[e.FLOAT_REF=bt.FLOAT|Ua]="FLOAT_REF",e[e.STRING_REF=bt.STRING|Ua]="STRING_REF",e[e.HANDLE_REF=bt.HANDLE|Ua]="HANDLE_REF",e[e.COLORREF_REF=bt.COLORREF|Ua]="COLORREF_REF",e))(Fl||{});class Wq{constructor(){this.blocks=[]}pushBlock(t){return this.blocks.push(t),t}popBlock(t){const n=this.blocks.pop();if(n?.expect!==t)throw Error(`Ожидалось ${t}`);return n}lastBlock(){return this.blocks.length>0?this.blocks[this.blocks.length-1]:null}haveABreakHaveAKitKat(){for(let t=this.blocks.length-1;t>=0;--t)if(this.blocks[t].canBreak)return"break;";return"return;"}}const Kq="map",qq="g",ZC="schema",JC="string",kk="n",Dk="o",Ak={[bt.FLOAT]:"f",[bt.HANDLE]:"i",[bt.COLORREF]:"i",[bt.STRING]:"s"},Yq=`
"use strict"
const { map, values } = memory;
const of = values.oldFloats;
const nf = values.newFloats;
const oi = values.oldInts;
const ni = values.newInts;
const os = values.oldStrings;
const ns = values.newStrings;
function string(value) {
    return (Math.round(value * 1e5) / 1e5).toString()
}
`,Xq="userFunction",Zq="solveEquationsFor",{FLOAT:Vt,STRING:Ro,HANDLE:ey,COLORREF:Jq}=bt,Qq=[["ABS",{argTypes:[Vt],retType:Vt,template:"Math.abs(#0) || 0"}],["ALLTRIM",{argTypes:[Ro],retType:Ro,template:"(#0).trim()"}],["AND",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) && (#1) ? 1 : 0"}],["ARCTAN",{argTypes:[Vt],retType:Vt,template:"Math.atan(#0)||0"}],["AVERAGE",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) / 2 + (#1) / 2"}],["COMPARE",{argTypes:[Ro,Ro],retType:Vt,template:"(#0) == (#1) ? 1 : 0"}],["COS",{argTypes:[Vt],retType:Vt,template:"Math.cos(#0) || 0"}],["DEG",{argTypes:[Vt],retType:Vt,template:"180 * (#0) / Math.PI || 0"}],["DELTA",{argTypes:[Vt],retType:Vt,template:"(#0) ? 0 : 1"}],["ED",{argTypes:[Vt],retType:Vt,template:"(#0) > 0 ? 1 : 0"}],["ED",{argTypes:[ey],retType:Vt,template:"(#0) > 0 ? 1 : 0"}],["EXP",{argTypes:[Vt],retType:Vt,template:"Math.exp(#0) || 0"}],["FLOAT",{argTypes:[Jq],retType:Vt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Vt],retType:Vt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[ey],retType:Vt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Ro],retType:Vt,template:"parseFloat(#0) || 0"}],["HANDLE",{argTypes:[Vt],retType:ey,template:"parseInt(#0) || 0"}],["LEFT",{argTypes:[Ro,Vt],retType:Ro,template:"(#0).substring(0, #1)"}],["LENGTH",{argTypes:[Ro],retType:Vt,template:"(#0).length"}],["LIMIT",{argTypes:[Vt,Vt,Vt],retType:Vt,template:"Math.max(#1, Math.min(#2, #0))||0"}],["LOWER",{argTypes:[Ro],retType:Ro,template:"(#0).toLowerCase()"}],["LTRIM",{argTypes:[Ro],retType:Ro,template:'(#0).replace(/^\\s+/, "")'}],["MAX",{argTypes:[Vt,Vt],retType:Vt,template:"Math.max(#0, #1) || 0"}],["MIN",{argTypes:[Vt,Vt],retType:Vt,template:"Math.min(#0, #1) || 0"}],["NOT",{argTypes:[Vt],retType:Vt,template:"(#0) ? 0 : 1"}],["NOT",{argTypes:[ey],retType:Vt,template:"(#0) ? 0 : 1"}],["NOTBIN",{argTypes:[Vt],retType:Vt,template:"~(#0)"}],["OR",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) || (#1) ? 1 : 0"}],["RAD",{argTypes:[Vt],retType:Vt,template:"Math.PI * (#0) / 180 || 0"}],["REPLICATE",{argTypes:[Ro,Vt],retType:Ro,template:"(#0).repeat(#1)"}],["RND",{argTypes:[Vt],retType:Vt,template:"(#0) * Math.random()"}],["RTRIM",{argTypes:[Ro],retType:Ro,template:'(#0).replace(/\\s+$/, "")'}],["SGN",{argTypes:[Vt],retType:Vt,template:"Math.sign(#0) || 0"}],["SIN",{argTypes:[Vt],retType:Vt,template:"Math.sin(#0) || 0"}],["SQR",{argTypes:[Vt],retType:Vt,template:"(#0) ** 2"}],["SQRT",{argTypes:[Vt],retType:Vt,template:"Math.sqrt(#0) || 0"}],["STRING",{argTypes:[Vt],retType:Ro,template:`${JC}(#0)`}],["TAN",{argTypes:[Vt],retType:Vt,template:"Math.tan(#0) || 0"}],["TRUNC",{argTypes:[Vt],retType:Vt,template:"Math.trunc(#0) || 0"}],["UPPER",{argTypes:[Ro],retType:Ro,template:"(#0).toUpperCase()"}],["XOR",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) !== 0 ^ (#1) !== 0"}],["XORBIN",{argTypes:[Vt,Vt],retType:Vt,template:"(#0) ^ (#1)"}]],e9=(()=>{const e=new Map;return Qq.forEach(([t,n])=>{let r=e.get(t);r||e.set(t,r=[]),r.push(n)}),e})(),{FLOAT:Gt,STRING:Io,HANDLE:Ha,COLORREF:ty}=bt,Lk=[{name:"^",arg:[Gt,Gt],ret:Gt,text:"#0 ** #1",prior:13},{name:"*",arg:[Gt,Gt],ret:Gt,text:"#0 * #1",prior:12},{name:"/",arg:[Gt,Gt],ret:Gt,text:"#0 / (#1 || Infinity)",prior:12},{name:"%",arg:[Gt,Gt],ret:Gt,text:"#0 % #1",prior:12},{name:"+",arg:[Gt,Gt],ret:Gt,text:"#0 + #1",prior:11},{name:"+",arg:[Io,Io],ret:Io,text:"#0 + #1",prior:11},{name:"+",arg:[Io,Gt],ret:Io,text:`#0 + ${JC}(#1)`,prior:11},{name:"+",arg:[Gt,Io],ret:Io,text:`${JC}(#0) + #1`,prior:11},{name:"-",arg:[Gt,Gt],ret:Gt,text:"#0 - #1",prior:11},{name:"<<",arg:[Gt,Gt],ret:Gt,text:"#0 << #1",prior:10},{name:">>",arg:[Gt,Gt],ret:Gt,text:"#0 >> #1",prior:10},{name:">",arg:[Gt,Gt],ret:Gt,text:"+(#0 > #1)",prior:9},{name:">=",arg:[Gt,Gt],ret:Gt,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[Gt,Gt],ret:Gt,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[Gt,Gt],ret:Gt,text:"+(#0 <= #1)",prior:9},{name:">",arg:[Io,Io],ret:Gt,text:"+(#0 > #1)",prior:9},{name:">=",arg:[Io,Io],ret:Gt,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[Io,Io],ret:Gt,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[Io,Io],ret:Gt,text:"+(#0 <= #1)",prior:9},{name:"==",arg:[Gt,Gt],ret:Gt,text:"+(#0 == #1)",prior:8},{name:"==",arg:[Io,Io],ret:Gt,text:"+(#0 == #1)",prior:8},{name:"==",arg:[Ha,Ha],ret:Gt,text:"+(#0 == #1)",prior:8},{name:"==",arg:[ty,ty],ret:Gt,text:"+(#0 == #1)",prior:8},{name:"!=",arg:[Gt,Gt],ret:Gt,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[Io,Io],ret:Gt,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[Ha,Ha],ret:Gt,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[ty,ty],ret:Gt,text:"+(#0 != #1)",prior:8},{name:"&",arg:[Gt,Gt],ret:Gt,text:"#0 & #1",prior:7},{name:"|",arg:[Gt,Gt],ret:Gt,text:"#0 | #1",prior:5},{name:"&&",arg:[Gt,Gt],ret:Gt,text:"+Boolean(#0 && #1)",prior:4},{name:"&&",arg:[Ha,Ha],ret:Ha,text:"+Boolean(#0 && #1)",prior:4},{name:"||",arg:[Gt,Gt],ret:Gt,text:"+Boolean(#0 || #1)",prior:3},{name:"||",arg:[Ha,Ha],ret:Ha,text:"+Boolean(#0 || #1)",prior:3}],t9=Array.from(new Bl(Lk.map(e=>[e.prior,e.name]))).sort((e,t)=>t[0]-e[0]).map(e=>Array.from(e[1]));class n9{constructor(){this.m=new Map}declareVar(t,n,r){const o=t.toLowerCase(),i=this.m.get(o);if(i&&i[0].type!==n)throw Error(`Переменная уже объявлена: ${t}`);const s={name:t,type:n,attrib:r||void 0};this.m.set(o,[s,this.m.size])}makeInEquation(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==bt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);r[0].inEquation=!0}setAsReturn(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);r[0].attrib=(r[0].attrib??0)|et.VF_RETURN}getFloatVar(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==bt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);return`$${n}`}_getOrCreateVar(t,n){const r=t.toLowerCase(),o=this.m.get(r);if(o)return[r,o[0]];const i={name:t,type:n};return this.m.set(r,[i,this.m.size]),[r,i]}getOrCreateVar(t,n,r=bt.FLOAT){const[o,{type:i}]=this._getOrCreateVar(n,r),s=`${t?kk:Dk}${Ak[i]}`,a=`$${o}`;return{text:`${s}[${a}]`,type:i}}derefer(t,n=bt.FLOAT){const r=t.first;if(r.type!=="var"||t.rest.length>0)throw Error("Должно быть имя переменной");const[o,{type:i}]=this._getOrCreateVar(r.name,n),s=`${r.isNew?kk:Dk}${Ak[i]}`,a=`$${o}`;return[s,a]}result(){return[...this.m.values()].sort((t,n)=>t[1]-n[1]).map(t=>t[0])}}function Nk(e,t){const n=t.args.map(a=>Ga(e,a)),r=t.name.toUpperCase(),o=e9.get(r);if(o){const a=o.find(({argTypes:u})=>u.length===n.length&&u.every((h,f)=>h===n[f].type));if(!a)throw Error(`Некорректная сигнатура функции ${t.name}(${n.map(u=>bt[u.type])}).
Возможные варианты:
`+o.map(u=>`${t.name}(${u.argTypes.map(h=>bt[h])})`).join(`
`));const c=n.map(u=>u.text);return{text:a.template.replace(/#(\d)/g,(u,h)=>c[h]),type:a.retType}}if(r==="EXIT"){if(n.length>0)throw Error(`${t.name}: ожидалось 0 аргументов, получено ${n.length}`);return{text:"return",type:null}}const i=e.funcTable?.get(r);if(!i)throw Error(`Функция не существует: ${`${t.name}(${n.map(a=>bt[a.type])})`}`);const s=i.find(a=>{if(!a.argTypes.every((f,g)=>{if(g>=n.length)return!1;const m=f&Ua-1;return n[g].type===m}))return!1;const u=n.length-a.argTypes.length;if(!u)return!0;if(a.type==="user")return!1;const{restArgsTypes:h}=a;return u%h.length!==0?!1:n.slice(-u).every((f,g)=>f.type===h[g%h.length])});if(!s){const a=`${t.name}(${n.map(u=>bt[u.type])})`,c=i.map(u=>{const h=u.argTypes.map(f=>(f&Ua?"&":"")+bt[f&Ua-1]);return u.type==="plugin"&&u.restArgsTypes.length&&h.push(`[${u.restArgsTypes.map(f=>bt[f])}]`),` - ${t.name}(${h})`});throw Error(`Некорректная сигнатура функции ${a}.
Возможные варианты:
${c.join(`;
`)}`)}if(s.type==="plugin"){const a=n.map((c,u)=>s.argTypes[u]&Ua?e.vars.derefer(t.args[u]):c.text);return{text:`${qq}.${s.path}.call(${[ZC,...a]})`,type:s.retType}}else{const a=n.map(c=>c.text);return{text:`${ZC}.${Xq}(${[`"${s.name}"`,`[${a}]`]})`,type:s.retType}}}function r9(e){return`t${e.tmpVarCount++}`}function ny(e,t){switch(t.isNew&&t.type!=="var"&&e.bugs.push(["Применение оператора '~' не к переменной",t]),t.type){case"float":return{text:parseFloat(t.value).toString(),type:bt.FLOAT};case"handle":return{text:parseInt(t.value,10).toString(),type:bt.HANDLE};case"string":return{text:"`"+t.value.replace(/[`$\\]/g,"\\$&")+"`",type:bt.STRING};case"var":{const n=et[t.name.toUpperCase()]?.toString();return n?{text:n,type:bt.FLOAT}:e.vars.getOrCreateVar(t.isNew,t.name)}case"call":{let n=t;if(t.isNew&&t.args.length){const i={...t.args[0].first,isNew:!0},s=[{...t.args[0],first:i},...t.args.slice(1)];n={...t,args:s}}const r=r9(e),o=Nk(e,n);if(!o.type)throw Error(`Функция ${t.name} не возвращает значения`);return e.lines.push(`const ${r}=${o.text};`),{text:r,type:o.type}}case"-":case"!":{let n=t.op;t.isNew&&(n={...n,isNew:!0});const r=ny(e,n);if(r.type!==bt.FLOAT)throw Error(`Оператор "${t.type}" не применим к ${bt[r.type]}`);return{text:`(${t.type}${r.text})`,type:r.type}}case"subexpr":{const n=Ga(e,t.expr);return{text:`(${n.text})`,type:n.type}}}}function Ga(e,{first:t,rest:n}){if(!n.length)return ny(e,t);const r=[{type:"decl",op:t},...Sk(n.map(i=>[i.action,{type:"decl",op:i.operand}]))];t9.forEach(i=>{for(;;){const s=r.findIndex(y=>typeof y=="string"&&i.includes(y));if(s<0)break;const a=r[s],c=r[s-1],u=r[s+1],h=c.type==="decl"?ny(e,c.op):c.res,f=u.type==="decl"?ny(e,u.op):u.res,g=Lk.find(({name:y,arg:b})=>y===a&&b[0]===h.type&&b[1]===f.type);if(!g)throw Error(`Оператор '${a}' неприменим к '${bt[h.type]}', '${bt[f.type]}'`);const m={text:g.text.replace(/#\d/g,y=>(y==="#0"?h:f).text),type:g.ret};r.splice(s-1,3,{type:"parsed",res:m})}});const o=r[0];if(typeof o!="object"||o.type!=="parsed")throw Error("Ошибка разбора выражения");return o.res}function Bk(e,t,n){if(t!==n)throw Error(`"${e}" имеет тип ${bt[t]}, но правое выражение возвращает ${bt[n]}`)}function Fk(e,t){switch(t.type){case":=":{const r=Ga(e,t.expr),o=e.vars.getOrCreateVar(!0,t.to,r.type);Bk(t.to,o.type,r.type),e.lines.push(`${o.text} = ${r.text};`);break}case"callChain":{t.functions.forEach(r=>{const o=Nk(e,r);e.lines.push(`${o.text};`)});break}case"if":{e.b.pushBlock({canBreak:!1,expect:"endif",hasElse:!1});const r=Ga(e,t.expr);e.lines.push(`if (${r.text}) {`);break}case"else":{const r=e.b.lastBlock();if(r?.expect!=="endif"||r.hasElse)throw Error("else должен находиться после if");r.hasElse=!0,e.lines.push("} else {");break}case"endif":{e.b.popBlock("endif"),e.lines.push("}");break}case"varsDec":{const{datatype:r,modifiers:o,names:i}=t;let s;switch(r){case"FLOAT":case"INTEGER":s=bt.FLOAT;break;case"HANDLE":s=bt.HANDLE;break;case"STRING":s=bt.STRING;break;case"COLORREF":s=bt.COLORREF;break}const a=(o.includes("LOCAL")?et.VF_LOCAL:0)|(o.includes("PARAMETER")?et.VF_ARGUMENT:0);i.forEach(c=>e.vars.declareVar(c,s,a));break}case"while":{e.b.pushBlock({expect:"endwhile",canBreak:!0});const r=`g${++e.whileGuardCount}`;e.lines.push(`var ${r} = 0;`),e.lines.push("while (true) {"),e.lines.push(`if (++${r} > 100000) throw Error("Бесконечный цикл (100000 итераций)");`);const o=Ga(e,t.expr);e.lines.push(`if (!(${o.text})) break;`);break}case"endwhile":{e.b.popBlock("endwhile"),e.lines.push("}");break}case"do":{e.b.pushBlock({expect:"until",canBreak:!0}),e.lines.push("do {");break}case"until":{e.b.popBlock("until");const r=Ga(e,t.expr);e.lines.push(`if (!(${r.text})) break;`),e.lines.push("} while (true);");break}case"switch":{e.b.pushBlock({expect:"endswitch",canBreak:!0,caseCount:0}),e.lines.push("do { //switch");break}case"endswitch":{const r=e.b.popBlock("endswitch");if(!r.caseCount)throw Error("Ожидалось case");for(let o=0;o<r.caseCount;++o)e.lines.push("}");e.lines.push("} while (false); //endswitch");break}case"case":{const r=e.b.lastBlock();if(r?.expect!=="endswitch")throw Error("case должен находиться внутри блока switch");r.caseCount&&e.lines.push("} else {"),++r.caseCount;const o=Ga(e,t.expr);e.lines.push(`if (${o.text}) { //case`);break}case"default":{if(e.b.lastBlock()?.expect!=="endswitch")throw Error("default должен находиться внутри блока switch");e.lines.push("} else { //default");break}case"break":e.lines.push(e.b.haveABreakHaveAKitKat());break;case"=":{const r={...e,lines:[]},o=Ga(r,t.lhs);if(o.type!==bt.FLOAT)throw Error("Левая часть выражения не возвращает FLOAT");const i=Ga(r,t.rhs);if(i.type!==bt.FLOAT)throw Error("Правая часть выражения не возвращает FLOAT");r.lines.push(`return ${i.text} - (${o.text});`),e.equations.push(r.lines);break}case"::=":{const r={...e,lines:[]},o=Ga(r,t.expr),i=e.vars.getOrCreateVar(!0,t.to,o.type);Bk(t.to,i.type,o.type),r.lines.push(`${i.text} = ${o.text};`),e.defers.push(r.lines);break}case"eqResult":{if(t.deferred)t.vars.forEach(r=>e.vars.makeInEquation(r));else{const r=t.vars.map(o=>e.vars.getFloatVar(o));e.lines.push(`${ZC}.${Zq}([${r}]);`)}break}case"function":{e.isFunction=!0;break}case"return":{e.vars.setAsReturn(t.to);break}default:throw Error(`Неизвестный оператор: "${t.type}"`)}}function o9(e,t,n){const r=e.vars.result(),{lines:o,bugs:i,equations:s,defers:a,isFunction:c}=e;if(o.length===0&&s.length===0&&a.length===0)return{bugs:i,vars:r,isFunction:c,mainText:"",equationsTexts:[],defersTexts:[]};const u=r.map((v,S)=>`const $${v.name.toLowerCase()} = ${Kq}[${S}];`).join(`
`),h=Yq+`
`+u+`
`,f=t?`//# sourceURL=_transpiled/${t}`:"",g=n?.split(`
`).map(v=>"// "+v).join(`
`)??"",m=o.length?g+h+o.join(`
`)+f:"",y=s.map((v,S)=>h+v.join(`
`)+(f&&`${f}_eq_${S}`)),b=a.map((v,S)=>h+v.join(`
`)+(f&&`${f}_defer_${S}`));return{bugs:i,vars:r,isFunction:c,mainText:m,equationsTexts:y,defersTexts:b}}function i9(e,{funcTable:t,sourceURL:n,comment:r}={}){const o={funcTable:t,vars:new n9,b:new Wq,lines:[],defers:[],equations:[],isFunction:!1,bugs:[],tmpVarCount:0,whileGuardCount:0};e.forEach((s,a)=>{try{Fk(o,s);let c=s.then;for(;c;)Fk(o,c),c=c.then}catch(c){throw c instanceof Error?Error(`Строка ${a+1}: ${c.message}`):c}});const i=o.b.lastBlock();if(i)throw Error(`Строка ${e.length}: ожидалось ${i.expect}`);return o9(o,n,r)}const QC="'",e0='"';function s9(e){let t="",n=null;for(let r=0;r<e.length;++r){const o=e[r];if(o===QC&&n!==e0?n=n?null:QC:o===e0&&n!==QC&&(n=n?null:e0),n){t+=o;continue}if(o==="/"){const i=e[r+1];if(i==="*"){for(r+=2;r<e.length&&(e[r]!=="*"||e[r+1]!=="/");)++r;++r;continue}if(i==="/"){for(++r;r<e.length&&e[++r]!==`
`;);t[t.length-1]!==`
`&&(t+=`
`);continue}}if(o===";"||o===`
`){t[t.length-1]!==`
`&&(t+=`
`);continue}if(o==="\r"){e[r+1]===`
`&&++r,t[t.length-1]!==`
`&&(t+=`
`);continue}t+=o}return t[t.length-1]===`
`?t:t+`
`}function a9(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function Ap(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ap)}a9(Ap,Error),Ap.buildMessage=function(e,t){var n={literal:function(u){return'"'+o(u.text)+'"'},class:function(u){var h="",f;for(f=0;f<u.parts.length;f++)h+=u.parts[f]instanceof Array?i(u.parts[f][0])+"-"+i(u.parts[f][1]):i(u.parts[f]);return"["+(u.inverted?"^":"")+h+"]"},any:function(u){return"any character"},end:function(u){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function o(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function i(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function s(u){return n[u.type](u)}function a(u){var h=new Array(u.length),f,g;for(f=0;f<u.length;f++)h[f]=s(u[f]);if(h.sort(),h.length>0){for(f=1,g=1;f<h.length;f++)h[f-1]!==h[f]&&(h[g]=h[f],g++);h.length=g}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function c(u){return u?'"'+o(u)+'"':"end of input"}return"Expected "+a(e)+" but "+c(t)+" found."};function l9(e,t){t=t!==void 0?t:{};var n={},r={Code:uh},o=uh,i=function(H){return H},s=function(H){return H.filter(re=>re)},a=br("variable name"),c=function(H){return{type:"var",name:H}},u=",",h=Wt(",",!1),f=function(H){return H},g=br("function call"),m="(",y=Wt("(",!1),b=")",v=Wt(")",!1),S=function(H,re){return{type:"call",name:H,args:re}},E="-",T=Wt("-",!1),R="!",M=Wt("!",!1),I=br("!<operand> or -<operand>"),N=function(H,re){return{type:H,op:re}},P=br("(<expression>)"),L=function(H){return{type:"subexpr",expr:H}},D=br("operand"),$="~",B=Wt("~",!1),U=function(H,re){return{...re,isNew:!!H}},q="^",W=Wt("^",!1),V="*",Y=Wt("*",!1),J="/",ne=Wt("/",!1),z="%",K=Wt("%",!1),Z="+",le=Wt("+",!1),ce=">=",ue=Wt(">=",!1),ae=">",ye=Wt(">",!1),Me="<=",xe=Wt("<=",!1),he="<",pe=Wt("<",!1),Se="==",Ee=Wt("==",!1),ke="!=",Te=Wt("!=",!1),Ve="&&",rt=Wt("&&",!1),je="&",Rt=Wt("&",!1),dt="||",Ct=Wt("||",!1),$e="|",It=Wt("|",!1),mt=br("expression"),Bt=function(H,re,Ce){return{action:re,operand:Ce}},zt=function(H,re){return{first:H,rest:re}},qt=function(H,re){return re},tn=function(H,re){return[H].concat(re)},gt=function(H,re){return re},_t=function(H,re,Ce){return{type:"varsDec",datatype:H,modifiers:re,names:Ce}},Ge=br("assignment operator"),ct=":=",ut=Wt(":=",!1),St="::=",at=Wt("::=",!1),At=function(H,re,Ce){return{type:re,to:H,expr:Ce}},ft=br("equality operator"),Pt="=",Pn=Wt("=",!1),An=function(H,re,Ce){return{type:re,lhs:H,rhs:Ce}},cr=br("immediately equation result"),_n=function(H,re){return re},Er="?",Yn=Wt("?",!1),Nr=function(H,re){return{type:"eqResult",deferred:!1,vars:[H].concat(re)}},Br=br("deferred equation result"),an=function(H,re){return{type:"eqResult",deferred:!0,vars:[H].concat(re)}},Ln=br("function call chain"),Lt=function(H,re){return{type:"callChain",functions:[H].concat(re)}},Ft=br("( <expression> )"),rn=function(H){return H},nn=br("if(<condition>)"),Rn="if",uo=Wt("if",!0),Bo=function(H){return{type:"if",expr:H}},ni=br("while(<condition>)"),Oi="while",zr=Wt("while",!0),kr=function(H){return{type:"while",expr:H}},pr=br("until(<condition>)"),bo="until",Ri=Wt("until",!0),Tr=function(H){return{type:"until",expr:H}},on=br("case(<condition>)"),Xe="case",Ze=Wt("case",!0),st=function(H,re){return{type:"case",expr:H,then:re}},Jt="else",un=Wt("else",!0),gr=function(H){return{type:"else",then:H}},Xn="endif",Ur=Wt("endif",!0),Ii=function(H){return{type:"endif",then:H}},hs="break",ri=Wt("break",!0),na=function(){return{type:"break"}},kn="endwhile",Mr=Wt("endwhile",!0),oi=function(){return{type:"endwhile"}},Pi="do",Vf=Wt("do",!0),pu=function(){return{type:"do"}},gi="endswitch",$f=Wt("endswitch",!0),Km=function(){return{type:"endswitch"}},ka="switch",Jd=Wt("switch",!0),sc=function(){return{type:"switch"}},zf="default",ii=Wt("default",!0),gu=function(H){return{type:"default",then:H}},Qd="function",eh=Wt("function",!0),bl=function(){return{type:"function"}},Uf=br("return <var name>"),Hf="return",wl=Wt("return",!0),mr=function(H){return{type:"return",to:H}},th="handle",nh=Wt("HANDLE",!0),wo=function(){return"HANDLE"},ra="string",ac=Wt("STRING",!0),lc=function(){return"STRING"},Da="float",mu=Wt("FLOAT",!0),oa=function(){return"FLOAT"},Sl="colorref",vu=Wt("COLORREF",!0),ia=function(){return"COLORREF"},rh="integer",mi=Wt("INTEGER",!0),vi=function(){return"INTEGER"},Aa="local",vr=Wt("LOCAL",!0),fs=function(){return"LOCAL"},cc="nosave",uc=Wt("NOSAVE",!0),dc=function(){return"NOSAVE"},hc="parameter",Fo=Wt("PARAMETER",!0),La=function(){return"PARAMETER"},Qr=/^[_a-z\u0430-\u044F0-9]/i,si=Gi(["_",["a","z"],["а","я"],["0","9"]],!1,!0),fc=br("function name"),ps=/^[0-9]/,Cl=Gi([["0","9"]],!1,!1),yu=".",oh=Wt(".",!1),pc=/^[eE]/,xl=Gi(["e","E"],!1,!1),Gf=/^[+\-]/,Wf=Gi(["+","-"],!1,!1),qm=br("float"),Kf=function(H){return{type:"float",value:H}},ih=br("handle"),Ym="#",_l=Wt("#",!1),bu=function(H){return{type:"handle",value:H.length>0?H:"0"}},sh="'",wu=Wt("'",!1),Zn=/^[^']/,ah=Gi(["'"],!0,!1),lh='"',ch=Wt('"',!1),ki=/^[^"]/,El=Gi(['"'],!0,!1),qf=function(H){return{type:"string",value:H[1]}},Yf=br("space or tab"),ai=/^[ \t]/,ho=Gi([" ","	"],!1,!1),Su=br("new line"),Xf=`
`,Xm=Wt(`
`,!1),Zm=br("whitespace"),yr=/^[ \t\n\r]/,Cu=Gi([" ","	",`
`,"\r"],!1,!1),te=0,_o=[{line:1,column:1}],yi=0,Tl=[],Le=0,Ml;if("startRule"in t){if(!(t.startRule in r))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=r[t.startRule]}function Wt(H,re){return{type:"literal",text:H,ignoreCase:re}}function Gi(H,re,Ce){return{type:"class",parts:H,inverted:re,ignoreCase:Ce}}function gc(){return{type:"end"}}function br(H){return{type:"other",description:H}}function xu(H){var re=_o[H],Ce;if(re)return re;for(Ce=H-1;!_o[Ce];)Ce--;for(re=_o[Ce],re={line:re.line,column:re.column};Ce<H;)e.charCodeAt(Ce)===10?(re.line++,re.column=1):re.column++,Ce++;return _o[H]=re,re}function gs(H,re){var Ce=xu(H),me=xu(re);return{start:{offset:H,line:Ce.line,column:Ce.column},end:{offset:re,line:me.line,column:me.column}}}function Je(H){te<yi||(te>yi&&(yi=te,Tl=[]),Tl.push(H))}function Zf(H,re,Ce){return new Ap(Ap.buildMessage(H,re),H,re,Ce)}function uh(){var H,re,Ce,me,Fe,Ae,jt;for(H=te,re=[],Ce=te,me=[],Fe=Et();Fe!==n;)me.push(Fe),Fe=Et();if(me!==n)if(Fe=qo(),Fe===n&&(Fe=null),Fe!==n){for(Ae=[],jt=Et();jt!==n;)Ae.push(jt),jt=Et();Ae!==n?(jt=rv(),jt!==n?(me=i(Fe),Ce=me):(te=Ce,Ce=n)):(te=Ce,Ce=n)}else te=Ce,Ce=n;else te=Ce,Ce=n;for(;Ce!==n;){for(re.push(Ce),Ce=te,me=[],Fe=Et();Fe!==n;)me.push(Fe),Fe=Et();if(me!==n)if(Fe=qo(),Fe===n&&(Fe=null),Fe!==n){for(Ae=[],jt=Et();jt!==n;)Ae.push(jt),jt=Et();Ae!==n?(jt=rv(),jt!==n?(me=i(Fe),Ce=me):(te=Ce,Ce=n)):(te=Ce,Ce=n)}else te=Ce,Ce=n;else te=Ce,Ce=n}return re!==n&&(re=s(re)),H=re,H}function Na(){var H,re;return Le++,H=te,re=bi(),re!==n&&(re=c(re)),H=re,Le--,H===n&&(re=n,Le===0&&Je(a)),H}function Ba(){var H,re,Ce,me,Fe;for(H=te,re=[],Ce=Et();Ce!==n;)re.push(Ce),Ce=Et();if(re!==n)if(Ce=vs(),Ce!==n){for(me=[],Fe=Et();Fe!==n;)me.push(Fe),Fe=Et();me!==n?(e.charCodeAt(te)===44?(Fe=u,te++):(Fe=n,Le===0&&Je(h)),Fe===n&&(Fe=null),Fe!==n?(re=f(Ce),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n;return H}function ms(){var H,re,Ce,me,Fe,Ae,jt,Qt;if(Le++,H=te,re=OS(),re!==n){for(Ce=[],me=Et();me!==n;)Ce.push(me),me=Et();if(Ce!==n)if(e.charCodeAt(te)===40?(me=m,te++):(me=n,Le===0&&Je(y)),me!==n){for(Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();if(Fe!==n){for(Ae=[],jt=Ba();jt!==n;)Ae.push(jt),jt=Ba();if(Ae!==n){for(jt=[],Qt=Et();Qt!==n;)jt.push(Qt),Qt=Et();jt!==n?(e.charCodeAt(te)===41?(Qt=b,te++):(Qt=n,Le===0&&Je(v)),Qt!==n?(re=S(re,Ae),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n}else te=H,H=n}else te=H,H=n;else te=H,H=n}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(g)),H}function Fa(){var H;return e.charCodeAt(te)===45?(H=E,te++):(H=n,Le===0&&Je(T)),H===n&&(e.charCodeAt(te)===33?(H=R,te++):(H=n,Le===0&&Je(M))),H}function Wi(){var H,re,Ce,me;if(Le++,H=te,re=Fa(),re!==n){for(Ce=[],me=Et();me!==n;)Ce.push(me),me=Et();Ce!==n?(me=sa(),me!==n?(re=N(re,me),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(I)),H}function ro(){var H,re,Ce,me,Fe,Ae;if(Le++,H=te,e.charCodeAt(te)===40?(re=m,te++):(re=n,Le===0&&Je(y)),re!==n){for(Ce=[],me=Et();me!==n;)Ce.push(me),me=Et();if(Ce!==n)if(me=vs(),me!==n){for(Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();Fe!==n?(e.charCodeAt(te)===41?(Ae=b,te++):(Ae=n,Le===0&&Je(v)),Ae!==n?(re=L(me),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(P)),H}function sa(){var H,re,Ce,me;if(Le++,H=te,e.charCodeAt(te)===126?(re=$,te++):(re=n,Le===0&&Je(B)),re===n&&(re=null),re!==n){for(Ce=[],me=Et();me!==n;)Ce.push(me),me=Et();Ce!==n?(me=Wi(),me===n&&(me=RS(),me===n&&(me=IS(),me===n&&(me=nv(),me===n&&(me=ms(),me===n&&(me=Na(),me===n&&(me=ro())))))),me!==n?(re=U(re,me),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(D)),H}function dh(){var H;return e.charCodeAt(te)===94?(H=q,te++):(H=n,Le===0&&Je(W)),H===n&&(e.charCodeAt(te)===42?(H=V,te++):(H=n,Le===0&&Je(Y)),H===n&&(e.charCodeAt(te)===47?(H=J,te++):(H=n,Le===0&&Je(ne)),H===n&&(e.charCodeAt(te)===37?(H=z,te++):(H=n,Le===0&&Je(K)),H===n&&(e.charCodeAt(te)===43?(H=Z,te++):(H=n,Le===0&&Je(le)),H===n&&(e.charCodeAt(te)===45?(H=E,te++):(H=n,Le===0&&Je(T)),H===n&&(e.substr(te,2)===ce?(H=ce,te+=2):(H=n,Le===0&&Je(ue)),H===n&&(e.charCodeAt(te)===62?(H=ae,te++):(H=n,Le===0&&Je(ye)),H===n&&(e.substr(te,2)===Me?(H=Me,te+=2):(H=n,Le===0&&Je(xe)),H===n&&(e.charCodeAt(te)===60?(H=he,te++):(H=n,Le===0&&Je(pe)),H===n&&(e.substr(te,2)===Se?(H=Se,te+=2):(H=n,Le===0&&Je(Ee)),H===n&&(e.substr(te,2)===ke?(H=ke,te+=2):(H=n,Le===0&&Je(Te)),H===n&&(e.substr(te,2)===Ve?(H=Ve,te+=2):(H=n,Le===0&&Je(rt)),H===n&&(e.charCodeAt(te)===38?(H=je,te++):(H=n,Le===0&&Je(Rt)),H===n&&(e.substr(te,2)===dt?(H=dt,te+=2):(H=n,Le===0&&Je(Ct)),H===n&&(e.charCodeAt(te)===124?(H=$e,te++):(H=n,Le===0&&Je(It))))))))))))))))),H}function vs(){var H,re,Ce,me,Fe,Ae,jt,Qt;if(Le++,H=te,re=sa(),re!==n){for(Ce=[],me=te,Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();if(Fe!==n)if(Ae=dh(),Ae!==n){for(jt=[],Qt=Et();Qt!==n;)jt.push(Qt),Qt=Et();jt!==n?(Qt=sa(),Qt!==n?(Fe=Bt(re,Ae,Qt),me=Fe):(te=me,me=n)):(te=me,me=n)}else te=me,me=n;else te=me,me=n;for(;me!==n;){for(Ce.push(me),me=te,Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();if(Fe!==n)if(Ae=dh(),Ae!==n){for(jt=[],Qt=Et();Qt!==n;)jt.push(Qt),Qt=Et();jt!==n?(Qt=sa(),Qt!==n?(Fe=Bt(re,Ae,Qt),me=Fe):(te=me,me=n)):(te=me,me=n)}else te=me,me=n;else te=me,me=n}Ce!==n?(re=zt(re,Ce),H=re):(te=H,H=n)}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(mt)),H}function Ol(){var H,re,Ce,me,Fe,Ae,jt,Qt;if(H=te,re=bi(),re!==n){for(Ce=[],me=te,Fe=dr(),Fe!==n?(e.charCodeAt(te)===44?(Ae=u,te++):(Ae=n,Le===0&&Je(h)),Ae!==n?(jt=dr(),jt!==n?(Qt=bi(),Qt!==n?(Fe=qt(re,Qt),me=Fe):(te=me,me=n)):(te=me,me=n)):(te=me,me=n)):(te=me,me=n);me!==n;)Ce.push(me),me=te,Fe=dr(),Fe!==n?(e.charCodeAt(te)===44?(Ae=u,te++):(Ae=n,Le===0&&Je(h)),Ae!==n?(jt=dr(),jt!==n?(Qt=bi(),Qt!==n?(Fe=qt(re,Qt),me=Fe):(te=me,me=n)):(te=me,me=n)):(te=me,me=n)):(te=me,me=n);Ce!==n?(re=tn(re,Ce),H=re):(te=H,H=n)}else te=H,H=n;return H}function hh(){var H,re,Ce,me,Fe,Ae,jt,Qt,To;if(H=te,re=Eo(),re!==n){if(Ce=[],me=Et(),me!==n)for(;me!==n;)Ce.push(me),me=Et();else Ce=n;if(Ce!==n)if(me=dr(),me!==n){if(Fe=[],Ae=te,jt=Rl(),jt!==n){if(Qt=[],To=Et(),To!==n)for(;To!==n;)Qt.push(To),To=Et();else Qt=n;Qt!==n?(jt=gt(re,jt),Ae=jt):(te=Ae,Ae=n)}else te=Ae,Ae=n;for(;Ae!==n;)if(Fe.push(Ae),Ae=te,jt=Rl(),jt!==n){if(Qt=[],To=Et(),To!==n)for(;To!==n;)Qt.push(To),To=Et();else Qt=n;Qt!==n?(jt=gt(re,jt),Ae=jt):(te=Ae,Ae=n)}else te=Ae,Ae=n;Fe!==n?(Ae=Ol(),Ae!==n?(re=_t(re,Fe,Ae),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n}else te=H,H=n;return H}function fh(){var H,re,Ce,me,Fe,Ae;if(Le++,H=te,re=bi(),re!==n)if(Ce=dr(),Ce!==n)if(e.substr(te,2)===ct?(me=ct,te+=2):(me=n,Le===0&&Je(ut)),me===n&&(e.substr(te,3)===St?(me=St,te+=3):(me=n,Le===0&&Je(at))),me!==n){for(Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();Fe!==n?(Ae=vs(),Ae!==n?(re=At(re,me,Ae),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n;else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(Ge)),H}function Jf(){var H,re,Ce,me,Fe,Ae;if(Le++,H=te,re=vs(),re!==n)if(Ce=dr(),Ce!==n)if(e.charCodeAt(te)===61?(me=Pt,te++):(me=n,Le===0&&Je(Pn)),me!==n){for(Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();Fe!==n?(Ae=vs(),Ae!==n?(re=An(re,me,Ae),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n;else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(ft)),H}function Qf(){var H,re,Ce,me,Fe,Ae,jt,Qt;if(Le++,H=te,re=bi(),re!==n){for(Ce=[],me=te,Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();if(Fe!==n)if(e.charCodeAt(te)===44?(Ae=u,te++):(Ae=n,Le===0&&Je(h)),Ae!==n){for(jt=[],Qt=Et();Qt!==n;)jt.push(Qt),Qt=Et();jt!==n?(Qt=bi(),Qt!==n?(Fe=_n(re,Qt),me=Fe):(te=me,me=n)):(te=me,me=n)}else te=me,me=n;else te=me,me=n;for(;me!==n;){for(Ce.push(me),me=te,Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();if(Fe!==n)if(e.charCodeAt(te)===44?(Ae=u,te++):(Ae=n,Le===0&&Je(h)),Ae!==n){for(jt=[],Qt=Et();Qt!==n;)jt.push(Qt),Qt=Et();jt!==n?(Qt=bi(),Qt!==n?(Fe=_n(re,Qt),me=Fe):(te=me,me=n)):(te=me,me=n)}else te=me,me=n;else te=me,me=n}if(Ce!==n){for(me=[],Fe=Et();Fe!==n;)me.push(Fe),Fe=Et();if(me!==n)if(e.charCodeAt(te)===61?(Fe=Pt,te++):(Fe=n,Le===0&&Je(Pn)),Fe!==n){for(Ae=[],jt=Et();jt!==n;)Ae.push(jt),jt=Et();Ae!==n?(e.charCodeAt(te)===63?(jt=Er,te++):(jt=n,Le===0&&Je(Yn)),jt!==n?(re=Nr(re,Ce),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n}else te=H,H=n}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(cr)),H}function Jm(){var H,re,Ce,me,Fe,Ae,jt,Qt,To,ys;if(Le++,H=te,e.charCodeAt(te)===63?(re=Er,te++):(re=n,Le===0&&Je(Yn)),re!==n)if(Ce=dr(),Ce!==n)if(me=bi(),me!==n){for(Fe=[],Ae=te,jt=dr(),jt!==n?(e.charCodeAt(te)===44?(Qt=u,te++):(Qt=n,Le===0&&Je(h)),Qt!==n?(To=dr(),To!==n?(ys=bi(),ys!==n?(jt=_n(me,ys),Ae=jt):(te=Ae,Ae=n)):(te=Ae,Ae=n)):(te=Ae,Ae=n)):(te=Ae,Ae=n);Ae!==n;)Fe.push(Ae),Ae=te,jt=dr(),jt!==n?(e.charCodeAt(te)===44?(Qt=u,te++):(Qt=n,Le===0&&Je(h)),Qt!==n?(To=dr(),To!==n?(ys=bi(),ys!==n?(jt=_n(me,ys),Ae=jt):(te=Ae,Ae=n)):(te=Ae,Ae=n)):(te=Ae,Ae=n)):(te=Ae,Ae=n);Fe!==n?(re=an(me,Fe),H=re):(te=H,H=n)}else te=H,H=n;else te=H,H=n;else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(Br)),H}function Qm(){var H,re,Ce,me,Fe,Ae;if(Le++,H=te,re=ms(),re!==n){if(Ce=[],me=te,Fe=[],Ae=Et(),Ae!==n)for(;Ae!==n;)Fe.push(Ae),Ae=Et();else Fe=n;for(Fe!==n?(Ae=ms(),Ae!==n?(Fe=_n(re,Ae),me=Fe):(te=me,me=n)):(te=me,me=n);me!==n;){if(Ce.push(me),me=te,Fe=[],Ae=Et(),Ae!==n)for(;Ae!==n;)Fe.push(Ae),Ae=Et();else Fe=n;Fe!==n?(Ae=ms(),Ae!==n?(Fe=_n(re,Ae),me=Fe):(te=me,me=n)):(te=me,me=n)}Ce!==n?(re=Lt(re,Ce),H=re):(te=H,H=n)}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(Ln)),H}function ep(){var H,re,Ce,me,Fe,Ae;if(Le++,H=te,e.charCodeAt(te)===40?(re=m,te++):(re=n,Le===0&&Je(y)),re!==n){for(Ce=[],me=Et();me!==n;)Ce.push(me),me=Et();if(Ce!==n)if(me=vs(),me!==n){for(Fe=[],Ae=Et();Ae!==n;)Fe.push(Ae),Ae=Et();Fe!==n?(e.charCodeAt(te)===41?(Ae=b,te++):(Ae=n,Le===0&&Je(v)),Ae!==n?(re=rn(me),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(Ft)),H}function ev(){var H,re,Ce,me,Fe;for(Le++,H=te,re=[],Ce=Et();Ce!==n;)re.push(Ce),Ce=Et();if(re!==n)if(Ce=vs(),Ce!==n){for(me=[],Fe=Et();Fe!==n;)me.push(Fe),Fe=Et();me!==n?(e.charCodeAt(te)===41?(Fe=b,te++):(Fe=n,Le===0&&Je(v)),Fe!==n?(re=rn(Ce),H=re):(te=H,H=n)):(te=H,H=n)}else te=H,H=n;else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(Ft)),H}function C(){var H;return H=ep(),H===n&&(H=ev()),H}function F(){var H,re,Ce;if(H=te,re=[],Ce=Et(),Ce!==n)for(;Ce!==n;)re.push(Ce),Ce=Et();else re=n;return re!==n?(Ce=qo(),Ce!==n?(re=f(Ce),H=re):(te=H,H=n)):(te=H,H=n),H}function X(){var H,re,Ce,me;return Le++,H=te,e.substr(te,2).toLowerCase()===Rn?(re=e.substr(te,2),te+=2):(re=n,Le===0&&Je(uo)),re!==n?(Ce=dr(),Ce!==n?(me=C(),me!==n?(re=Bo(me),H=re):(te=H,H=n)):(te=H,H=n)):(te=H,H=n),Le--,H===n&&(re=n,Le===0&&Je(nn)),H}function ee(){var H,re,Ce,me;return Le++,H=te,e.substr(te,5).toLowerCase()===Oi?(re=e.substr(te,5),te+=5):(re=n,Le===0&&Je(zr)),re!==n?(Ce=dr(),Ce!==n?(me=C(),me!==n?(re=kr(me),H=re):(te=H,H=n)):(te=H,H=n)):(te=H,H=n),Le--,H===n&&(re=n,Le===0&&Je(ni)),H}function oe(){var H,re,Ce,me;return Le++,H=te,e.substr(te,5).toLowerCase()===bo?(re=e.substr(te,5),te+=5):(re=n,Le===0&&Je(Ri)),re!==n?(Ce=dr(),Ce!==n?(me=C(),me!==n?(re=Tr(me),H=re):(te=H,H=n)):(te=H,H=n)):(te=H,H=n),Le--,H===n&&(re=n,Le===0&&Je(pr)),H}function de(){var H,re,Ce,me,Fe;return Le++,H=te,e.substr(te,4).toLowerCase()===Xe?(re=e.substr(te,4),te+=4):(re=n,Le===0&&Je(Ze)),re!==n?(Ce=dr(),Ce!==n?(me=C(),me!==n?(Fe=F(),Fe===n&&(Fe=null),Fe!==n?(re=st(me,Fe),H=re):(te=H,H=n)):(te=H,H=n)):(te=H,H=n)):(te=H,H=n),Le--,H===n&&(re=n,Le===0&&Je(on)),H}function ge(){var H,re,Ce;return H=te,e.substr(te,4).toLowerCase()===Jt?(re=e.substr(te,4),te+=4):(re=n,Le===0&&Je(un)),re!==n?(Ce=F(),Ce===n&&(Ce=null),Ce!==n?(re=gr(Ce),H=re):(te=H,H=n)):(te=H,H=n),H}function Re(){var H,re,Ce;return H=te,e.substr(te,5).toLowerCase()===Xn?(re=e.substr(te,5),te+=5):(re=n,Le===0&&Je(Ur)),re!==n?(Ce=F(),Ce===n&&(Ce=null),Ce!==n?(re=Ii(Ce),H=re):(te=H,H=n)):(te=H,H=n),H}function Ue(){var H,re;return H=te,e.substr(te,5).toLowerCase()===hs?(re=e.substr(te,5),te+=5):(re=n,Le===0&&Je(ri)),re!==n&&(re=na()),H=re,H}function qe(){var H,re;return H=te,e.substr(te,8).toLowerCase()===kn?(re=e.substr(te,8),te+=8):(re=n,Le===0&&Je(Mr)),re!==n&&(re=oi()),H=re,H}function ot(){var H,re;return H=te,e.substr(te,2).toLowerCase()===Pi?(re=e.substr(te,2),te+=2):(re=n,Le===0&&Je(Vf)),re!==n&&(re=pu()),H=re,H}function kt(){var H,re;return H=te,e.substr(te,9).toLowerCase()===gi?(re=e.substr(te,9),te+=9):(re=n,Le===0&&Je($f)),re!==n&&(re=Km()),H=re,H}function Ut(){var H,re;return H=te,e.substr(te,6).toLowerCase()===ka?(re=e.substr(te,6),te+=6):(re=n,Le===0&&Je(Jd)),re!==n&&(re=sc()),H=re,H}function dn(){var H,re,Ce;return H=te,e.substr(te,7).toLowerCase()===zf?(re=e.substr(te,7),te+=7):(re=n,Le===0&&Je(ii)),re!==n?(Ce=F(),Ce===n&&(Ce=null),Ce!==n?(re=gu(Ce),H=re):(te=H,H=n)):(te=H,H=n),H}function vn(){var H,re;return H=te,e.substr(te,8).toLowerCase()===Qd?(re=e.substr(te,8),te+=8):(re=n,Le===0&&Je(eh)),re!==n&&(re=bl()),H=re,H}function ur(){var H,re,Ce,me;return Le++,H=te,e.substr(te,6).toLowerCase()===Hf?(re=e.substr(te,6),te+=6):(re=n,Le===0&&Je(wl)),re!==n?(Ce=dr(),Ce!==n?(me=bi(),me!==n?(re=mr(me),H=re):(te=H,H=n)):(te=H,H=n)):(te=H,H=n),Le--,H===n&&(re=n,Le===0&&Je(Uf)),H}function qo(){var H;return H=hh(),H===n&&(H=fh(),H===n&&(H=Jf(),H===n&&(H=Qf(),H===n&&(H=Jm(),H===n&&(H=X(),H===n&&(H=ge(),H===n&&(H=Re(),H===n&&(H=Ue(),H===n&&(H=ee(),H===n&&(H=qe(),H===n&&(H=ot(),H===n&&(H=oe(),H===n&&(H=kt(),H===n&&(H=Ut(),H===n&&(H=de(),H===n&&(H=dn(),H===n&&(H=Qm(),H===n&&(H=vn(),H===n&&(H=ur()))))))))))))))))))),H}function Eo(){var H,re;return H=te,e.substr(te,6).toLowerCase()===th?(re=e.substr(te,6),te+=6):(re=n,Le===0&&Je(nh)),re!==n&&(re=wo()),H=re,H===n&&(H=te,e.substr(te,6).toLowerCase()===ra?(re=e.substr(te,6),te+=6):(re=n,Le===0&&Je(ac)),re!==n&&(re=lc()),H=re,H===n&&(H=te,e.substr(te,5).toLowerCase()===Da?(re=e.substr(te,5),te+=5):(re=n,Le===0&&Je(mu)),re!==n&&(re=oa()),H=re,H===n&&(H=te,e.substr(te,8).toLowerCase()===Sl?(re=e.substr(te,8),te+=8):(re=n,Le===0&&Je(vu)),re!==n&&(re=ia()),H=re,H===n&&(H=te,e.substr(te,7).toLowerCase()===rh?(re=e.substr(te,7),te+=7):(re=n,Le===0&&Je(mi)),re!==n&&(re=vi()),H=re)))),H}function Rl(){var H,re;return H=te,e.substr(te,5).toLowerCase()===Aa?(re=e.substr(te,5),te+=5):(re=n,Le===0&&Je(vr)),re!==n&&(re=fs()),H=re,H===n&&(H=te,e.substr(te,6).toLowerCase()===cc?(re=e.substr(te,6),te+=6):(re=n,Le===0&&Je(uc)),re!==n&&(re=dc()),H=re,H===n&&(H=te,e.substr(te,9).toLowerCase()===hc?(re=e.substr(te,9),te+=9):(re=n,Le===0&&Je(Fo)),re!==n&&(re=La()),H=re)),H}function bi(){var H,re,Ce;if(Le++,H=te,re=[],Qr.test(e.charAt(te))?(Ce=e.charAt(te),te++):(Ce=n,Le===0&&Je(si)),Ce!==n)for(;Ce!==n;)re.push(Ce),Qr.test(e.charAt(te))?(Ce=e.charAt(te),te++):(Ce=n,Le===0&&Je(si));else re=n;return re!==n?H=e.substring(H,te):H=re,Le--,H===n&&(re=n,Le===0&&Je(a)),H}function OS(){var H;return Le++,H=bi(),Le--,H===n&&Le===0&&Je(fc),H}function tv(){var H,re;if(H=[],ps.test(e.charAt(te))?(re=e.charAt(te),te++):(re=n,Le===0&&Je(Cl)),re!==n)for(;re!==n;)H.push(re),ps.test(e.charAt(te))?(re=e.charAt(te),te++):(re=n,Le===0&&Je(Cl));else H=n;return H}function SI(){var H,re,Ce;return H=te,e.charCodeAt(te)===46?(re=yu,te++):(re=n,Le===0&&Je(oh)),re!==n?(Ce=tv(),Ce!==n?(re=[re,Ce],H=re):(te=H,H=n)):(te=H,H=n),H}function CI(){var H,re,Ce,me;return H=te,pc.test(e.charAt(te))?(re=e.charAt(te),te++):(re=n,Le===0&&Je(xl)),re!==n?(Gf.test(e.charAt(te))?(Ce=e.charAt(te),te++):(Ce=n,Le===0&&Je(Wf)),Ce===n&&(Ce=null),Ce!==n?(me=tv(),me!==n?(re=[re,Ce,me],H=re):(te=H,H=n)):(te=H,H=n)):(te=H,H=n),H}function RS(){var H,re,Ce,me,Fe,Ae;return Le++,H=te,re=te,Ce=te,me=tv(),me!==n?(Fe=SI(),Fe===n&&(Fe=null),Fe!==n?(Ae=CI(),Ae===n&&(Ae=null),Ae!==n?(me=[me,Fe,Ae],Ce=me):(te=Ce,Ce=n)):(te=Ce,Ce=n)):(te=Ce,Ce=n),Ce!==n?re=e.substring(re,te):re=Ce,re!==n&&(re=Kf(re)),H=re,Le--,H===n&&(re=n,Le===0&&Je(qm)),H}function IS(){var H,re,Ce,me,Fe;if(Le++,H=te,e.charCodeAt(te)===35?(re=Ym,te++):(re=n,Le===0&&Je(_l)),re!==n){for(Ce=te,me=[],ps.test(e.charAt(te))?(Fe=e.charAt(te),te++):(Fe=n,Le===0&&Je(Cl));Fe!==n;)me.push(Fe),ps.test(e.charAt(te))?(Fe=e.charAt(te),te++):(Fe=n,Le===0&&Je(Cl));me!==n?Ce=e.substring(Ce,te):Ce=me,Ce!==n?(re=bu(Ce),H=re):(te=H,H=n)}else te=H,H=n;return Le--,H===n&&(re=n,Le===0&&Je(ih)),H}function nv(){var H,re,Ce,me,Fe,Ae;if(H=te,re=te,e.charCodeAt(te)===39?(Ce=sh,te++):(Ce=n,Le===0&&Je(wu)),Ce!==n){for(me=te,Fe=[],Zn.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=n,Le===0&&Je(ah));Ae!==n;)Fe.push(Ae),Zn.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=n,Le===0&&Je(ah));Fe!==n?me=e.substring(me,te):me=Fe,me!==n?(e.charCodeAt(te)===39?(Fe=sh,te++):(Fe=n,Le===0&&Je(wu)),Fe!==n?(Ce=[Ce,me,Fe],re=Ce):(te=re,re=n)):(te=re,re=n)}else te=re,re=n;if(re===n)if(re=te,e.charCodeAt(te)===34?(Ce=lh,te++):(Ce=n,Le===0&&Je(ch)),Ce!==n){for(me=te,Fe=[],ki.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=n,Le===0&&Je(El));Ae!==n;)Fe.push(Ae),ki.test(e.charAt(te))?(Ae=e.charAt(te),te++):(Ae=n,Le===0&&Je(El));Fe!==n?me=e.substring(me,te):me=Fe,me!==n?(e.charCodeAt(te)===34?(Fe=lh,te++):(Fe=n,Le===0&&Je(ch)),Fe!==n?(Ce=[Ce,me,Fe],re=Ce):(te=re,re=n)):(te=re,re=n)}else te=re,re=n;return re!==n&&(re=qf(re)),H=re,H}function Et(){var H;return Le++,ai.test(e.charAt(te))?(H=e.charAt(te),te++):(H=n,Le===0&&Je(ho)),Le--,H===n&&Le===0&&Je(Yf),H}function rv(){var H;return Le++,e.charCodeAt(te)===10?(H=Xf,te++):(H=n,Le===0&&Je(Xm)),Le--,H===n&&Le===0&&Je(Su),H}function dr(){var H,re;for(Le++,H=[],yr.test(e.charAt(te))?(re=e.charAt(te),te++):(re=n,Le===0&&Je(Cu));re!==n;)H.push(re),yr.test(e.charAt(te))?(re=e.charAt(te),te++):(re=n,Le===0&&Je(Cu));return Le--,H===n&&(re=n,Le===0&&Je(Zm)),H}if(Ml=o(),Ml!==n&&te===e.length)return Ml;throw Ml!==n&&te<e.length&&Je(gc()),Zf(Tl,yi<e.length?e.charAt(yi):null,yi<e.length?gs(yi,yi+1):gs(yi,yi))}const c9=l9;class ry extends Error{constructor(t){super(t.join(`
`)),this.errors=t}format(t=`
`){return this.errors.join(t)}}function u9(e,t){let n;try{n=c9(e)}catch(r){if(!(r instanceof Error))throw r;const o=r.location.start,i=`Строка ${o.line} столбец ${o.column}: ${r.message}`;throw new ry([i])}try{return i9(n,t)}catch(r){throw r instanceof Error?new ry([r.message]):r}}function d9(e,t){let n;try{n=s9(e)}catch(r){throw r instanceof Error?new ry([r.message]):r}return u9(n,t)}function t0(e){return new Function("g","schema","memory",e)}const h9={[bt.FLOAT]:"F",[bt.STRING]:"S",[bt.HANDLE]:"H",[bt.COLORREF]:"C",[Fl.FLOAT_REF]:"G",[Fl.STRING_REF]:"T",[Fl.HANDLE_REF]:"I",[Fl.COLORREF_REF]:"D"};function f9(e){return e.map(t=>h9[t]).join("")}const n0=[];class jk{constructor(){this.m=new Map}addFunc(t,n){const r=n.a||n0,o=n.rest||n0,i=r.concat(o),s=t.toUpperCase();let a=this.m.get(s);if(!a)this.m.set(s,a=[]);else{const u=Ua-1;if(a.some(h=>{const f=h.argTypes.concat(h.type==="plugin"?h.restArgsTypes:n0);return f.length===i.length&&f.every((g,m)=>(g&u)===(i[m]&u))}))throw Error(`Функция '${t}' с аргументами '${r}' уже существует`)}const c="$"+t+(r.length?"$"+f9(i):"");return a.push({type:"plugin",path:c,argTypes:r,restArgsTypes:o,retType:n.r||null}),c}addUserFunc(t){const n=t.name.toUpperCase(),r=this.m.get(n);if(!r)return this.m.set(n,[t]),!0;const o=Ua-1;return r.some(i=>i.argTypes.length===t.argTypes.length&&i.argTypes.every((s,a)=>(s&o)===t.argTypes[a]))?!1:(r.push(t),!0)}compile(t,n,r){return d9(t,{funcTable:this.m,sourceURL:n,comment:r})}}const k=bt.FLOAT,fe=bt.STRING,A=bt.HANDLE,pn=bt.COLORREF,Ye=Fl.FLOAT_REF,$o=Fl.STRING_REF,p9=Fl.HANDLE_REF;Fl.COLORREF_REF;const g9=.752812499999996,m9=1.3283520132835271,v9=Date.now(),Ju=new Date(4815162342),Vk=13.204656862745098;function $k(e){const t=e.file()?.base64;return t?qv(VC(t)):""}class y9{constructor(t,n){this.key=t,this.fields=n??[]}insert(t){if(t==="FLOAT")return this.fields.push({type:t,value:0}),1;if(t==="HANDLE")return this.fields.push({type:t,value:0}),1;if(t==="STRING")return this.fields.push({type:t,value:""}),1;throw Error(`Неизвестный тип элемента: ${t}`)}insertClass(t,n){const r=n.map(o=>{const i=o[0].toUpperCase();switch(o[1]){case bt.FLOAT:return[i,{type:"FLOAT",value:0}];case bt.STRING:return[i,{type:"STRING",value:""}];default:return[i,{type:"HANDLE",value:0}]}});return this.fields.push({type:"STRUCT",realType:t,value:new Map(r)}),1}set(t,n,r){if(t<0||t>this.fields.length-1)return;let o=this.fields[t];if(o.type==="STRUCT"){const i=o.value.get(n.toUpperCase());if(!i)return;o=i}if(typeof r=="string"){if(o.type!=="STRING")return;o.value=r}else{if(o.type==="STRING")return;o.value=r}}remove(t){return this.fields.splice(t,1).length?1:0}count(){return this.fields.length}type(t){if(t<0||t>this.fields.length-1)return"";const n=this.fields[t];return n.type==="STRUCT"?n.realType:n.type}getFloat(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const o=r.value.get(n.toUpperCase());if(!o)return 0;r=o}return r.type==="FLOAT"?r.value:0}getHandle(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const o=r.value.get(n.toUpperCase());if(!o)return 0;r=o}return r.type==="HANDLE"?r.value:0}getString(t,n){if(t<0||t>this.fields.length-1)return"";let r=this.fields[t];if(r.type==="STRUCT"){const o=r.value.get(n.toUpperCase());if(!o)return"";r=o}return r.type==="STRING"?r.value:""}sort(t){if(!t?.length)return this.fields.sort((n,r)=>n.value-r.value),1;if(t.length===1)return t[0].desc?this.fields.sort((n,r)=>r.value-n.value):this.fields.sort((n,r)=>n.value-r.value),1;throw console.log(t),Error("VSort: сортировка по нескольким полям не реализована")}}function b9(e,t){const n=Ts.freeKey(e),r=new y9(n,t);return e.set(n,r),r}function w9(){return this.kernel.createArray().key}function S9(e){this.kernel.arrays.delete(e)}function C9(e){return this.kernel.arrays.get(e)?.count()??0}function x9(e,t){return this.kernel.arrays.get(e)?.type(t)??""}function _9(e,t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=t.toUpperCase();if(r==="STRING"||r==="FLOAT"||r==="HANDLE")return n.insert(r);const o=this.kernel.classes.get(t);if(!o)return 0;const i=o.vars.list.map(s=>[s.name,s.type]);return n.insertClass(o.name,i)}function E9(e,t){return this.kernel.arrays.get(e)?.remove(t)??0}function T9(){return this.kernel.arrays.clear(),1}function M9(e,t,n){return this.kernel.arrays.get(e)?.getString(Math.floor(t),n)??""}function O9(e,t,n){return this.kernel.arrays.get(e)?.getHandle(Math.floor(t),n)??0}function R9(e,t,n){return this.kernel.arrays.get(e)?.getFloat(Math.floor(t),n)??0}function r0(e,t,n,r){this.kernel.arrays.get(e)?.set(t,n,r)}function I9(e,...t){const n=this.kernel.arrays.get(e);return n?n.sort(t.map(r=>({desc:!1,field:r}))):0}function P9(e,t,...n){const r=this.kernel.arrays.get(e);if(!r)return 0;const o=!!t;return r.sort(n.map(i=>({desc:o,field:i})))}function k9(e,...t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=[];for(let o=0;o<t.length;o+=2){const i=t[o],s=!!t[o+1];r.push({desc:s,field:i})}return n.sort(r)}function D9(e){e("New",{r:A},w9),e("Delete",{a:[A]},S9),e("VGetCount",{a:[A],r:k},C9),e("VGetType",{a:[A,k],r:fe},x9),e("VInsert",{a:[A,fe],r:k},_9),e("VDelete",{a:[A,k],r:k},E9),e("VClearAll",{},T9),e("VGetS",{a:[A,k,fe],r:fe},M9),e("VGetH",{a:[A,k,fe],r:A},O9),e("VGetF",{a:[A,k,fe],r:k},R9),e("VSet",{a:[A,k,fe,k]},r0),e("VSet",{a:[A,k,fe,fe]},r0),e("VSet",{a:[A,k,fe,A]},r0),e("VSort",{a:[A],rest:[fe],r:k},I9),e("VSort",{a:[A,k],rest:[fe],r:k},P9),e("VSort",{a:[A],rest:[fe,k],r:k},k9)}const A9={name:"arrays",register:D9,setup(e){const t=new Map;e.arrays=t,e.createArray=b9.bind(null,t)}},zk=new Set;function Zi(...e){zk.size!==zk.add(e[0]).size&&console.warn(...e)}function L9(e){throw Zi("AudioGetBalance",e),Error("Not implemented")}function N9(e){throw Zi("AudioGetLength",e),Error("Not implemented")}function B9(e){throw Zi("AudioGetPosition",e),Error("Not implemented")}function F9(e){throw Zi("AudioGetRepeat",e),Error("Not implemented")}function j9(e){throw Zi("AudioGetTone",e),Error("Not implemented")}function V9(e){throw Zi("AudioGetVolume",e),Error("Not implemented")}function $9(e){const t=this.kernel.audios.get(e);return t&&!t.paused?1:0}function z9(e){throw Zi("AudioIsSeekable",e),Error("Not implemented")}function U9(e){const t=this.prj.dir.resolve(e).file()?.audio;if(!t)return 0;const n=new Audio(Xi(t.src)),r=Ts.freeKey(this.kernel.audios);return this.kernel.audios.set(r,n),r}function H9(e){this.kernel.audios.get(e)?.play()}function G9(e){Zi("AudioReset",e)}function W9(e,t){Zi("AudioSetBalance",e,t)}function K9(e,t){Zi("AudioSetPosition",e,t)}function q9(e,t){Zi("AudioSetRepeat",e,t)}function Y9(e,t){Zi("AudioSetTone",e,t)}function X9(e,t){Zi("AudioSetVolume",e,t)}function Z9(e){this.kernel.audios.get(e)?.pause()}function J9(e){e("AudioGetBalance",{a:[A],r:k},L9),e("AudioGetLength",{a:[A],r:k},N9),e("AudioGetPosition",{a:[A],r:k},B9),e("AudioGetRepeat",{a:[A],r:k},F9),e("AudioGetTone",{a:[A],r:k},j9),e("AudioGetVolume",{a:[A],r:k},V9),e("AudioIsPlaying",{a:[A],r:k},$9),e("AudioIsSeekable",{a:[A],r:k},z9),e("AudioOpenSound",{a:[fe],r:A},U9),e("AudioPlay",{a:[A]},H9),e("AudioReset",{a:[A]},G9),e("AudioSetBalance",{a:[A,k]},W9),e("AudioSetPosition",{a:[A,k]},K9),e("AudioSetRepeat",{a:[A,k]},q9),e("AudioSetTone",{a:[A,k]},Y9),e("AudioSetVolume",{a:[A,k]},X9),e("AudioStop",{a:[A]},Z9)}const Q9={name:"audio",register:J9,setup(e){e.audios=new Map}};function e8(e){return this.resolve(e)?.klass.name??""}function Uk(...e){throw console.warn("createLink",...e),Error("Not implemented")}function t8(...e){throw console.warn("createObject",...e),Error("Not implemented")}function n8(){throw Error("Not implemented")}function r8(...e){throw console.warn("setLinkVars",...e),Error("Not implemented")}function o8(e){return this.kernel.classes.get(e)?.children.length??0}function i8(){return this.ndata?.key??0}function s8(e){return this.resolve(e)?.ndata?.key??0}function a8(e,t){if(t<0)return 0;const n=this.kernel.classes.get(e)?.children;return n&&t<n.length?n[t].key:0}function l8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.klass??""}function c8(e,t,n){return this.kernel.classes.get(e)?.connections.find(({nodes:[r,o]})=>r===t&&o===n||r===n&&o===t)?.key??0}function u8(e,t){const n=this.kernel.classes.get(e)?.modelText;if(!n)return 0;const r=this.kernel.streams.get(t);if(!r)return 0;const o=$C(n);return r.write(o),o.length}function Hk(e,t){const n=this.kernel.classes.get(e);if(!n)return 0;const r=this.kernel.streams.get(t)?.bytes();if(!r)return 0;const o=qv(r),i=n.modelText;n.set({modelText:o});try{n.compile()}catch(s){if(!(s instanceof Error))throw s;return console.warn(s.message),n.set({modelText:i}),0}return 1}function d8(e,t){const n=this.resolve(e);if(!n)return"";const r=n.klass.vars.get(t);return r?n.getVarValueS(r)??"":""}function o0(e,t){const n=this.resolve(e);if(!n)return 0;const r=n.klass.vars.get(t);return r?n.getVarValueFHC(r)??0:0}function oy(e,t,n){const r=this.resolve(e);if(!r)return;const o=r.klass.vars.get(t);o&&r.vars.setValue(o,n)}function Gk(e,t,n,r,o,i,s,a,c,u,h,f){const g=this.kernel.classes.get(e)?.vars.list;if(t<0||!g||t>=g.length)return n[r]="",o[i]="",s[a]="",c[u]="",h&&(h[f]=0),0;const m=g[t];return n[r]=m.name,o[i]=bt[m.type],s[a]=m.defaultValue??"",c[u]=m.description??"",h&&(h[f]=m.attrib),1}function h8(e){return this.kernel.classes.get(e)?.vars.list.length??0}function f8(e,t,n){const r=this.kernel.classes.get(e);if(!r)return 0;const o=r.children.findIndex(s=>s.key===t);if(o<0)return 0;const i=r.children.slice();return i[o]={...i[o],name:n},r.set({children:i}),1}function p8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.name??""}function g8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file();if(!r)return 0;const o=n.getValues();return r.set({stt:o}),1}function m8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file()?.stt;return r?(n.applyValues(r),1):0}function v8(e){return this.resolve(e)?.initValues(!0)?1:0}function y8(){this.kernel._functionNotImplemented("Stop",this)}function b8(e){e<=0||this.kernel.closeAll()}function w8(){this.prj.close()}function S8(e){e("GetClassName",{a:[fe],r:fe},e8),e("CreateLink",{a:[fe,A,A],r:A},Uk),e("CreateLink",{a:[fe,fe,fe],r:A},Uk),e("CreateObject",{a:[fe,fe,fe,k,k],r:A},t8),e("DeleteObject",{a:[fe,A,k],r:k},n8),e("SetLinkVars",{a:[fe,A,fe],r:k},r8),e("GetObjectCount",{a:[fe],r:k},o8),e("GetHObject",{r:A},i8),e("GetHObjectByName",{a:[fe],r:A},s8),e("GetHObjectByNum",{a:[fe,k],r:A},a8),e("GetObjectClass",{a:[fe,A],r:fe},l8),e("GetLink",{a:[fe,A,A],r:A},c8),e("GetModelText",{a:[fe,A],r:k},u8),e("SetModelText",{a:[fe,A],r:k},Hk),e("SetModelText",{a:[fe,A,k],r:k},Hk),e("GetVarS",{a:[fe,fe],r:fe},d8),e("GetVarF",{a:[fe,fe],r:k},o0),e("GetVarH",{a:[fe,fe],r:A},o0),e("GetVarC",{a:[fe,fe],r:pn},o0),e("SetVar",{a:[fe,fe,k]},oy),e("SetVar",{a:[fe,fe,fe]},oy),e("SetVar",{a:[fe,fe,A]},oy),e("SetVar",{a:[fe,fe,pn]},oy),e("GetVarInfo",{a:[fe,k,$o,$o,$o,$o],r:k},Gk),e("GetVarInfo",{a:[fe,k,$o,$o,$o,$o,Ye],r:k},Gk),e("GetVarCount",{a:[fe],r:k},h8),e("SetObjectName",{a:[fe,A,fe],r:k},f8),e("GetNameByHandle",{a:[fe,A],r:fe},p8),e("SaveObjectState",{a:[fe,fe],r:k},g8),e("LoadObjectState",{a:[fe,fe],r:k},m8),e("SetVarsToDefault",{a:[fe],r:k},v8),e("Stop",{a:[k]},y8),e("Quit",{a:[k]},b8),e("CloseAll",{},w8)}const C8={name:"class",deps:["streams"],register:S8};function x8(e,t,n,r,o,i,s,a){let c;switch(t.toUpperCase()){case"EDIT":c="Edit";break;case"BUTTON":c="Button";break;case"COMBOBOX":c="ComboBox";break;case"LISTBOX":c="ListBox";break;default:return 0}const u=this.kernel.scenes.get(e);if(!u)return 0;const h=u.scene;let f=o,g=i;const m=u.matrix;if(m){const b=o*m[2]+i*m[5]+m[8];f=(o*m[0]+i*m[3]+m[6])/b,g=(o*m[1]+i*m[4]+m[7])/b}const y=h.input(c,{x:f,y:g,width:s,height:a,value:n,style:r});return h.set({order:h.order.concat(y)}),y.key}function Wk(e,t,n,r){const o=this.kernel.scenes.get(e)?.scene.objects.get(t);if(o?.type!=="input")return"";const{value:i}=o;return typeof n>"u"?i:i.slice(n,n+r)}function _8(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="input"&&r.set({value:n})?1:0}function E8(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);return o?.type==="input"&&o.set({font:r.fonts.get(n)??null})?1:0}function T8(){return this.kernel._functionNotImplemented("EnableControl2d"),0}function M8(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return;const r=n.objects.get(t);r?.type==="input"&&r.focus()}function O8(){return this.kernel._functionNotImplemented("IsDlgButtonChecked"),0}function R8(){return this.kernel._functionNotImplemented("CheckDlgButton2d"),1}function I8(e){e("CreateControlObject2d",{a:[A,fe,fe,k,k,k,k,k,k],r:A},x8),e("GetControlText2d",{a:[A,A],r:fe},Wk),e("GetControlText2d",{a:[A,A,k,k],r:fe},Wk),e("SetControlText2d",{a:[A,A,fe],r:k},_8),e("SetControlFont2d",{a:[A,A,A],r:k},E8),e("EnableControl2d",{a:[A,A,k],r:k},T8),e("SetControlFocus2d",{a:[A,A]},M8),e("IsDlgButtonChecked2d",{a:[A,A],r:k},O8),e("CheckDlgButton2d",{a:[A,A,k],r:k},R8)}const P8={name:"controls",deps:["windows"],register:I8},iy=qu;iy.hideVideoControls=!1;const Lp=["Arial","Verdana","Tahoma","Times New Roman","Georgia","Courier New","cursive"];class k8{constructor(t){if(this.pens=new Set,this.brushes=new Set,this.images=new Set,this.imagesOpaque=new Set,this.strings=new Set,this.fonts=new Set,this.texts=new Set,t)if(t.type==="group")for(const n of Np(t))n.type!=="group"&&this.add(n);else this.add(t)}add(t){switch(t.type){case"line":t.pen&&this.pens.add(t.pen),t.brush&&(this.add(t.brush),this.brushes.add(t.brush));break;case"imageView":(t.opaque?this.imagesOpaque:this.images).add(t.image);break;case"textView":this.add(t.text),this.texts.add(t.text);break;case"input":t.font&&this.fonts.add(t.font);break;case"brush":t.image&&this.imagesOpaque.add(t.image);break;case"text":t.parts.forEach(n=>{this.strings.add(n.string),this.fonts.add(n.font)});break;case"scene":t.background&&(this.add(t.background),this.brushes.add(t.background));break}return this}}function*Np(e,t){e.type==="group"&&(yield*e.descendants(t)),yield e}function*D8(e,t){for(const n of e)n.type==="group"&&(yield*n.descendants(t)),yield n}function A8(e){if(e.type!=="group")return{objects:[e.toJSON()],order:[e.key]};const t=Array.from(Np(e,!0),n=>n.toJSON());return{objects:t,order:Si(e.scene.order,n=>t.some(r=>r.key===n.key)&&n.key)}}function sy(e,t){const n=[],r=new k8,o=new WeakSet;let i=null;const s=Symbol.iterator in e?D8(e,!0):Np(e,!0);for(const a of s)i=a.scene,n.push(a.toJSON()),a.type!=="group"&&(r.add(a),o.add(a));return{pens:Array.from(r.pens,a=>a.toJSON()),brushes:Array.from(r.brushes,a=>a.toJSON()),images:Array.from(r.images,a=>a.toJSON()),imagesOpaque:Array.from(r.imagesOpaque,a=>a.toJSON()),strings:Array.from(r.strings,a=>a.toJSON()),fonts:Array.from(r.fonts,a=>a.toJSON()),texts:Array.from(r.texts,a=>a.toJSON()),objects:n,order:i&&!t?Si(i.order,a=>o.has(a)&&a.key):[]}}function i0(e){return Pp(e.values(),t=>!t.parent)}function Ih(e,t,n){const{objects:r}=e.merge(t,n),o=i0(r);return o.length>1?e.group(o,{key:n==="unused"?-1:0}):o[0]}const L8={x:0,y:0,w:0,h:0};function ay(e){let t=1/0,n=1/0,r=-1/0,o=-1/0;for(const i of e)i.x<t&&(t=i.x),i.y<n&&(n=i.y),i.x+i.width>r&&(r=i.x+i.width),i.y+i.height>o&&(o=i.y+i.height);return t===1/0?L8:{x:t,y:n,w:r-t,h:o-n}}const so=iy,N8={dialog:"pVED4Nqg"};class B8{constructor(){this.onClose=new pa;const t=this.domElement=document.createElement("dialog");t.className=N8.dialog,t.innerHTML=`
<form method="dialog">
  <p><input type="file"></p>

  <menu>
    <button value="ok" disabled>Подтвердить выбор</button>
    <button value="cancel">Отмена</button>
  </menu>
</form>
    `;const n=t.querySelector('input[type="file"]'),r=t.querySelector('button[value="ok"]');n.addEventListener("change",()=>{r.disabled=!n.files?.length}),t.addEventListener("close",()=>{const o=t.returnValue==="ok"&&n.files?.item(0);this.onClose.dispatch(o||null)})}open(){this.domElement.showModal()}}let F8=0;function j8(e,t,n){const{fileDialogState:r}=this.kernel;if(r.type==="closed")return this.kernel.fileDialogState={type:"willOpen"},"";if(r.type==="fileSelected"){const{result:o}=r;if(this.kernel.fileDialogState={type:"closed"},!o)return"";const i=this.kernel.fs.uploadsDir.resolve("file"+ ++F8);return i.create("file",o.content),i.toString()}if(so.throwIfFileLoadDialogCalledTwice)throw Error("FileLoadDialog был ранее вызван в текущем цикле");return console.warn("FileLoadDialog был ранее вызван в текущем цикле"),""}function V8(e,t,n){return this.kernel.fs.downloadsDir.resolve(n||"data.txt").toString()}function $8(e,t,n){switch(n){case n&et.MB_OK:return alert(e),1;case n&et.MB_OKCANCEL:return confirm(e)?1:2;case n&et.MB_YESNO:return confirm(e)?6:7;default:return 0}}function z8(e,t){return this.kernel._functionNotImplemented("DialogBox"),1}function U8(e,t,n){throw Error("ChoseFolderDialog: Not implemented")}function H8(e){e("ChoseFolderDialog",{a:[fe,fe,k],r:fe},U8),e("DialogBox",{a:[fe,A],r:1},z8),e("FileLoadDialog",{a:[fe,fe,fe],r:fe},j8),e("FileSaveDialog",{a:[fe,fe,fe],r:fe},V8),e("MessageBox",{a:[fe,fe,k],r:k},$8)}const G8={name:"dialogs",deps:["windows"],register:H8,setup(e){e.fileDialogState={type:"closed"},e.afterCompute.add(()=>{if(e.fileDialogState.type!=="willOpen")return;e.fileDialogState={type:"open"},e.pause(),e.enableUiEvents(!1);const t=new B8;t.onClose.add(async n=>{let r=null;try{if(n)if(n.type.startsWith("image/")){const o=URL.createObjectURL(n),i=await YC(o),{naturalWidth:s,naturalHeight:a}=i;r={image:{width:s,height:a,src:o}}}else{const o=await n.arrayBuffer();r={base64:Kv(new Uint8Array(o))}}}catch(o){console.warn(o.message)}e.fileDialogState={type:"fileSelected",result:n&&r&&{file:n,content:r}},t.domElement.remove(),e.enableUiEvents(!0),e.continue()}),e.windowSystem.windowFactory.root.ownerDocument.body.append(t.domElement),t.open()})}};function W8(e){return this.prj.dir.resolve(e).create("folder")?1:0}function K8(e){const t=this.prj.dir.resolve(e);return t.fileExist()||this.kernel.hasProject(t)?1:0}function q8(e){const t=this.kernel.classes.get(e);return t?t.file.path.resolve("..").toString()+"\\":""}function Y8(){return this.prj.dir.toString()}function X8(){return"C:\\Windows"}function Z8(e){const t=this.prj.dir.resolve(e).resolveMany();if(!t.length)return 0;const n=t.map(r=>{const o=[["NAME",{type:"STRING",value:r.name}],["SIZE",{type:"FLOAT",value:r.size}],["ATTR",{type:"FLOAT",value:0}],["YEAR",{type:"FLOAT",value:Ju.getFullYear()}],["MONTH",{type:"FLOAT",value:Ju.getMonth()+1}],["DAY",{type:"FLOAT",value:Ju.getDate()}],["DAYOFWEEK",{type:"FLOAT",value:Ju.getDay()}],["HOUR",{type:"FLOAT",value:Ju.getHours()}],["MINUTE",{type:"FLOAT",value:Ju.getMinutes()}],["SECOND",{type:"FLOAT",value:Ju.getSeconds()}]];return{type:"STRUCT",realType:"FILE_ATTRIBUTE",value:new Map(o)}});return this.kernel.createArray(n).key}function J8(e){return e.length===0||e[e.length-1]==="\\"?e:e+"\\"}function Q8(e){e("CreateDir",{a:[fe],r:k},W8),e("FileExist",{a:[fe],r:k},K8),e("GetClassDirectory",{a:[fe],r:fe},q8),e("GetProjectDirectory",{r:fe},Y8),e("GetWindowsDirectory",{r:fe},X8),e("GetFileList",{a:[fe,k],r:A},Z8),e("AddSlash",{a:[fe],r:fe},J8)}const e7={name:"filesystem",deps:["arrays"],register:Q8};function t7(e){const t=this.kernel.scenes.get(e);return t?t.scene.x:0}function n7(e){const t=this.kernel.scenes.get(e);return t?t.scene.y:0}function r7(e,t,n){const r=this.kernel.scenes.get(e);return r?(r.setSceneOrg(t,n),1):0}function o7(e){return this.kernel.scenes.get(e)?.scale??0}function i7(e,t){const n=this.kernel.scenes.get(e);return n?(n.setScale(t),1):0}function s7(e,t,n,r,o,i,s){const a=this.kernel.scenes.get(e)?.scene.toBlob({x:r,y:o,w:i,h:s});if(!a)return 0;const c=t.match(/(?:.*[\\/])?(.+?)(\..*)?$/),u=c&&c.length>1?c[1]:"Screenshot";return a.then(h=>KC(h,u)),1}function a7(e){return this.kernel.scenes.get(e)?.scene.background?.key??0}function l7(e,t){const n=this.kernel.scenes.get(e)?.scene;return n?.set({background:n.brushes.get(t)??null})?1:0}function c7(){return 0}function u7(e){return this.kernel.scenes.get(e)?.scene.hiddenLayers??0}function d7(e,t){return this.kernel.scenes.get(e)?.scene.set({hiddenLayers:t})?1:0}function h7(){return 1}function f7(e,t,n,r,o){return this.kernel.scenes.get(e)?.scene.pen({color:r,rop:o,style:t,width:n}).key??0}function p7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.color??0}function g7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.rop??0}function m7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.style??0}function v7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.width??0}function y7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({color:n})?1:0}function b7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({rop:n})?1:0}function w7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({style:n})?1:0}function S7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({width:n})?1:0}function C7(e,t,n,r,o,i){const s=this.kernel.scenes.get(e)?.scene;return s?.brush({color:r,hatch:n,rop:i,style:t,image:s.imagesOpaque.get(o)}).key??0}function x7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.color??0}function _7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.rop??0}function E7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.style??0}function T7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.hatch??0}function M7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.image?.key??0}function O7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({color:n})?1:0}function R7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({rop:n})?1:0}function I7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({style:n})?1:0}function P7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({hatch:n})?1:0}function k7(e,t,n){const r=this.kernel.scenes.get(e)?.scene;return r?.brushes.get(t)?.set({image:r.imagesOpaque.get(n)??null})?1:0}function Kk({kernel:e},t,n,r,o){return e.scenes.get(t)?.scene.font({name:n,size:r,style:o}).key??0}function D7(e,t,n,r){return Kk(this,e,t,n,r)}function A7(e,t,n,r){return Kk(this,e,t,n*m9,r)}function L7(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.name??""}function N7(e,t){return(this.kernel.scenes.get(e)?.scene.fonts.get(t)?.size??0)*g9}function B7(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.style??0}function F7(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({name:n})?1:0}function j7(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({size:n})?1:0}function V7(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({style:n})?1:0}function $7(e,t){return this.kernel.scenes.get(e)?.scene.string(t).key??0}function z7(e,t){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.text??""}function U7(e,t,n){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.set({text:n})?1:0}function H7(e,t,n,r,o){const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const s=i.strings.get(n);if(!s)return 0;const a=i.fonts.get(t);return a?i.text([{string:s,font:a,fgcolor:r,bgcolor:o}]).key:0}function G7(e,t){return this.kernel.scenes.get(e)?.scene.texts.get(t)?.parts.length??0}function Ph({kernel:e},t,n,r){if(r<0)return null;const o=e.scenes.get(t)?.scene.texts.get(n)?.parts;return o&&r<o.length?o[r]:null}function qk(e,t,n=0){return Ph(this,e,t,n)?.font.key??0}function Yk(e,t,n=0){return Ph(this,e,t,n)?.string.key??0}function Xk(e,t,n=0){return Ph(this,e,t,n)?.fgcolor??0}function Zk(e,t,n=0){return Ph(this,e,t,n)?.bgcolor??0}function Jk(e,t,n,r,o,i,s){if(n<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t)?.parts;return!c||n>=c.length?0:(c[n].set({string:a.strings.get(o),font:a.fonts.get(r),fgcolor:i,bgcolor:s}),1)}function W7(e,t,n,r,o,i){return Jk.call(this,e,t,0,n,r,o,i)}function K7(e,t,n,r){if(n<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.texts.get(t)?.parts;if(!i||n>=i.length)return 0;const s=o.fonts.get(r);return s?(i[n].set({font:s}),1):0}function q7(e,t,n,r){if(n<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.texts.get(t)?.parts;if(!i||n>=i.length)return 0;const s=o.strings.get(r);return s?(i[n].set({string:s}),1):0}function Y7(e,t,n,r){return Ph(this,e,t,n)?.set({fgcolor:r})?1:0}function X7(e,t,n,r){return Ph(this,e,t,n)?.set({bgcolor:r})?1:0}function Qk(e,t,n,r,o,i,s){if(n<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t);if(!c)return 0;const u=a.fonts.get(r);if(!u)return 0;const h=a.strings.get(o);if(!h)return 0;const f=n<c.parts.length,g=c.createPart({font:u,string:h,fgcolor:i,bgcolor:s},f);if(f){const m=c.parts.slice();m.splice(n,0,g),c.set({parts:m})}return 1}function Z7(e,t,n,r,o,i){return Qk.call(this,e,t,1/0,n,r,o,i)}function J7(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.texts.get(t);if(!o||n>=o.parts.length)return 0;const i=o.parts.slice();return i.splice(n,1),o.set({parts:i},!0),1}function eD({kernel:e},{prj:t},n,r,o){const i=e.scenes.get(n)?.scene;if(!i)return 0;const s=t.dir.resolve(r),a=s.file();return a?a.image?i.image(a.image,{opaque:o}).key:(so.debugFile&&console.warn(`create(Double)DIB2d: Файл ${s} существует, но формат не image.`),0):0}function Q7(e,t){return eD(this,this,e,t,!0)}function eY(e,t){return eD(this,this,e,t)}function tY(e,t,n,r){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.getPixel(n,r)??0}function nY(e,t,n,r,o){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.setPixel(n,r,o)?1:0}function rY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;switch(t){case et.PEN2D:o=r.pens;break;case et.BRUSH2D:o=r.brushes;break;case et.DOUBLEDIB2D:o=r.images;break;case et.DIB2D:o=r.imagesOpaque;break;case et.STRING2D:o=r.strings;break;case et.FONT2D:o=r.fonts;break;case et.TEXT2D:o=r.texts;break;case et.SPACE3D:throw Error("Не реализовано");default:return 0}return o.get(n)?.delete(!0)?1:0}function oY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;switch(t){case et.PEN2D:o=r.pens;break;case et.BRUSH2D:o=r.brushes;break;case et.DOUBLEDIB2D:o=r.images;break;case et.DIB2D:o=r.imagesOpaque;break;case et.STRING2D:o=r.strings;break;case et.FONT2D:o=r.fonts;break;case et.TEXT2D:o=r.texts;break;case et.SPACE3D:throw Error("Не реализовано");default:return 0}let i=1/0;for(const s of o.keys())s>n&&s<i&&(i=s);return i===1/0?0:i}function iY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;switch(t){case et.PEN2D:o=r.pens;break;case et.BRUSH2D:o=r.brushes;break;case et.DOUBLEDIB2D:o=r.images;break;case et.DIB2D:o=r.imagesOpaque;break;case et.STRING2D:o=r.strings;break;case et.FONT2D:o=r.fonts;break;case et.TEXT2D:o=r.texts;break;case et.SPACE3D:throw Error("Не реализовано");default:return 0}return o.get(n)?.subs.size??0}function sY(e,t,n){return ha(e,t,n)}function aY(e,t,n,r){return ha(e,t,n,r===1?"transparent":r===2?"syscolor":"rgb")}function lY(e){return e&4294967295}function cY(e){return ck(e)}function uY(e){return uk(e)}function dY(e){return dk(e)}function hY(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=this.prj.dir.resolve(t).file()?.scene?.data;return s?i.paste(s,n,r,o)?.key??0:0}function fY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.delete(!0)?1:0}function pY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":return et.OTGROUP2D;case"line":return et.OTLINE_2D;case"imageView":return n.opaque?et.OTBITMAP_2D:et.OTDOUBLEBITMAP_2D;case"textView":return et.OTTEXT_2D;case"videoView":return 0;case"input":return 26}}function gY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.data?.name??""}function mY(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?(r.data.name=n,1):0}function vY(e,t,n){if(!n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;if(t){const i=r.objects.get(t);if(!i)return 0;if(i.data?.name===n)return i.key;if(i.type!=="group")return 0;o=i.descendants()}else o=r.objects.values();for(const i of o)if(i.data?.name===n)return i.key;return 0}function yY(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const o=n.invmatrix;if(!o)return r.x;const i=r.x,s=r.y,a=i*o[2]+s*o[5]+o[8];return(i*o[0]+s*o[3]+o[6])/a}function bY(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const o=n.invmatrix;if(!o)return r.y;const i=r.x,s=r.y,a=i*o[2]+s*o[5]+o[8];return(i*o[1]+s*o[4]+o[7])/a}function wY(e,t,n,r){const o=this.kernel.scenes.get(e);if(!o)return 0;const i=o.scene.objects.get(t);if(!i)return 0;let s=n,a=r;const c=o.matrix;if(c){const u=n*c[2]+r*c[5]+c[8];s=(n*c[0]+r*c[3]+c[6])/u,a=(n*c[1]+r*c[4]+c[7])/u}return i.set({x:s,y:a}),1}function SY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.width??0}function CY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.height??0}function xY(e,t,n,r){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.set({width:n,height:r})?1:0}function _Y(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.width;case"imageView":return n.image.width;case"textView":return n.text.width;case"videoView":return n.video.width}}function EY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.height;case"imageView":return n.image.height;case"textView":return n.text.height;case"videoView":return n.video.height}}function TY(e,t,n,r,o,i){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!s)return n[r]=0,o[i]=0,0;switch(s.type){case"group":case"line":case"input":return n[r]=s.width,o[i]=s.height,1;case"imageView":return n[r]=s.image.width,o[i]=s.image.height,1;case"textView":return n[r]=s.text.width,o[i]=s.text.height,1;case"videoView":return n[r]=s.video.width,o[i]=s.video.height,1}}function MY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n&&(n.type==="textView"||n.type==="imageView")?n.angle:0}function OY(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(!s)return 0;let a=n,c=r;const u=i.matrix;if(u){const h=n*u[2]+r*u[5]+u[8];a=(n*u[0]+r*u[3]+u[6])/h,c=(n*u[1]+r*u[4]+u[7])/h}return s.rotate(o,{x:a,y:c}),1}function s0({kernel:e},t,n,r){const o=e.scenes.get(t)?.scene.objects.get(n);if(!o)return 0;const i=r?o.attrib&-2:o.attrib|1;return o.set({attrib:i}),1}function RY(e,t,n){return s0(this,e,t,!!n)}function IY(e,t){s0(this,e,t,!0)}function PY(e,t){s0(this,e,t,!1)}function kY(e,t,n){return this.kernel.scenes.get(e)?.pick(t,n,!0)?.key??0}function DY(){return this.kernel.windowSystem.lastPickedPrimaryKey}function AY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?(this.kernel.windowSystem.clipboard=sy(n),1):0}function LY(e,t,n,r){const o=this.kernel.windowSystem.clipboard;return o?this.kernel.scenes.get(e)?.paste(o,t,n,r)?.key??0:0}function NY(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!r)return 0;let o=r.attrib;switch(n){case 0:o&=-13;break;case 1:o&=~Es,o|=Mp;break;case 2:o&=~Mp,o|=Es;break;default:return 0}return r.set({attrib:o}),1}function BY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.attrib??0}function FY(e,t,n,r){const o=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!o)return 0;let{attrib:i}=o;switch(r){case et.ATTRSET:i|=n;break;case et.ATTRRESET:i&=~n;break;case et.ATTRPUT:i=n;break;default:return 0}return o.set({attrib:i}),1}function jY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=1/0;for(const o of n.objects.keys())o>t&&o<r&&(r=o);return r===1/0?0:r}function VY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(!o)return 0;const i=r.objects.get(n);return i&&o.x+o.width>=i.x&&i.x+i.width>=o.x&&o.y+o.height>=i.y&&i.y+i.height>=o.y?1:0}function $Y(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[0].key:0}function zY(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[t.length-1].key:0}function UY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order,i=o.indexOf(r);return i<1?0:o[i-1].key}function HY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order,i=o.indexOf(r);return i>-1&&i<o.length-1?o[i+1].key:0}function GY(e,t){const n=t-1;if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.order;return r&&n<r.length?r[n].key:0}function WY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order.indexOf(r);return i<0?0:i+1}function KY(e,t,n){const r=n-1;if(r<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.objects.get(t);if(!i||i.type==="group")return 0;const s=o.order,a=[];for(let c=0;c<s.length;++c){const u=s[c];u!==i&&a.push(u),r===c&&a.push(i)}return r>=s.length&&a.push(i),o.set({order:a}),1}function qY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order.filter(i=>i!==r);return o.unshift(r),n.set({order:o}),1}function YY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order.filter(i=>i!==r);return o.push(r),n.set({order:o}),1}function XY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(!o||o.type==="group")return 0;const i=r.objects.get(n);if(!i||i.type==="group")return 0;const s=r.order.slice(),a=s.indexOf(o);if(a<0)return 0;const c=s.indexOf(i);if(c<0)return 0;const u=s[a];return s[a]=s[c],s[c]=u,r.set({order:s}),1}function tD({kernel:e},t,n,r,o){const i=e.scenes.get(t);if(!i)return 0;const{matrix:s,scene:a}=i;if(s)for(let u=0;u<o.length;u+=2){const h=o[u+0],f=o[u+1],g=h*s[2]+f*s[5]+s[8];o[u+0]=(h*s[0]+f*s[3]+s[6])/g,o[u+1]=(h*s[1]+f*s[4]+s[7])/g}const c=a.line(o,{pen:a.pens.get(n),brush:a.brushes.get(r)});return a.set({order:a.order.concat(c)}),c.key}function ZY(e,t,n,...r){return tD(this,e,t,n,r)}function JY(e,t,n,r,o){return tD(this,e,t,n,[r,o])}function QY(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(s?.type!=="line")return 0;let a=r,c=o;const u=i.matrix;if(u){const h=r*u[2]+o*u[5]+u[8];a=(r*u[0]+o*u[3]+u[6])/h,c=(r*u[1]+o*u[4]+u[7])/h}return s.addPoint({x:a,y:c},n)?1:0}function eX(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(s?.type!=="line")return 0;let a=r,c=o;const u=i.matrix;if(u){const h=r*u[2]+o*u[5]+u[8];a=(r*u[0]+o*u[3]+u[6])/h,c=(r*u[1]+o*u[4]+u[7])/h}return s.setPoint(n,{x:a,y:c})?1:0}function tX(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="line"&&r.removePoint(n)?1:0}function nX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.pen?.key||0}function rX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.brush?.key||0}function oX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"?n.length:0}function iX(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const o=r.scene.objects.get(t),i=o?.type==="line"&&o.point(n);if(!i)return 0;const{x:s,y:a}=i,c=r.invmatrix;if(!c)return s;const u=s*c[2]+a*c[5]+c[8];return(s*c[0]+a*c[3]+c[6])/u}function sX(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const o=r.scene.objects.get(t),i=o?.type==="line"&&o.point(n);if(!i)return 0;const{x:s,y:a}=i,c=r.invmatrix;if(!c)return a;const u=s*c[2]+a*c[5]+c[8];return(s*c[1]+a*c[4]+c[7])/u}function aX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);return o?.type==="line"&&o.set({brush:r.brushes.get(n)??null})?1:0}function lX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);return o?.type==="line"&&o.set({pen:r.pens.get(n)??null})?1:0}function cX(e,t,n,r,o,i,s,a){const c=this.kernel.scenes.get(e)?.scene.objects.get(t);if(c?.type!=="line")return 0;const u={angle:n,length:r,fill:!!o},h={angle:i,length:s,fill:!!a};return c.set({start:u,end:h}),1}function uX(e,...t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=!0;const o=t.map(i=>{const s=n.objects.get(i);return(!s||s.parent)&&(r=!1),s});return r?n.group(o).key:0}function dX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type!=="group"?0:(n.set({children:[]}).delete(),1)}function hX(e,t,n){if(t===n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(o?.type!=="group")return 0;const i=r.objects.get(n);if(!i||i.parent)return 0;if(i.type==="group"){let s=o;for(;s=s.parent;)if(s===i)return 0}return o.set({children:o.children.concat(i)}),1}function fX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(o?.type!=="group")return 0;const i=r.objects.get(n);return i?.parent!==o?0:(o.set({children:o.children.filter(s=>s!==i)}),1)}function pX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="group"?n.children.length:0}function gX(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(r?.type!=="group")return 0;const o=r.children;return n<o.length?o[n].key:0}function mX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.parent?.key??0}function vX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(o?.type!=="group")return 0;for(let i=0;i<o.children.length;++i){const s=o.children[i];if(s.key===n)return i+1;if(s.type==="group"){for(const a of s.descendants())if(a.key===n)return i+1}}return 0}function nD({kernel:e},t,n,r,o,i){const s=e.scenes.get(t);if(!s)return 0;const a=s.scene,c=(i?a.imagesOpaque:a.images).get(n);if(!c)return 0;let u=r,h=o;const f=s.matrix;if(f){const m=r*f[2]+o*f[5]+f[8];u=(r*f[0]+o*f[3]+f[6])/m,h=(r*f[1]+o*f[4]+f[7])/m}const g=a.imageView(c,{x:u,y:h,opaque:i});return a.set({order:a.order.concat(g)}),g.key}function yX(e,t,n,r){return nD(this,e,t,n,r,!0)}function bX(e,t,n,r){return nD(this,e,t,n,r)}function wX(e,t,n,r,o,i,s,a,c,u){const h=this.kernel.scenes.get(e)?.scene.objects.get(t);if(h?.type!=="imageView")return n[r]=0,o[i]=0,s[a]=0,c[u]=0,0;const f=h.area;return n[r]=f?.x??0,o[i]=f?.y??0,s[a]=f?.w??h.image.width,c[u]=f?.h??h.image.height,1}function SX(e,t,n,r,o,i){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);return s?.type==="imageView"&&s.set({area:{x:n,y:r,w:o,h:i}})?1:0}function CX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&n.opaque&&n.image.key||0}function xX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&!n.opaque&&n.image.key||0}function _X(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.imagesOpaque.get(n);if(!o)return 0;const i=r.objects.get(t);return i?.type==="imageView"&&i.opaque&&i.set({image:o})?1:0}function EX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.images.get(n);if(!o)return 0;const i=r.objects.get(t);return i?.type==="imageView"&&!i.opaque&&i.set({image:o})?1:0}function TX(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene,a=s.texts.get(t);if(!a)return 0;let c=n,u=r;const h=i.matrix;if(h){const g=n*h[2]+r*h[5]+h[8];c=(n*h[0]+r*h[3]+h[6])/g,u=(n*h[1]+r*h[4]+h[7])/g}const f=s.textView(a,{x:c,y:u,angle:o});return s.set({order:s.order.concat(f)}),f.key}function MX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="textView"&&n.text.key||0}function OX(e){e("GetSpaceOrg2dx",{a:[A],r:k},t7),e("GetSpaceOrg2dy",{a:[A],r:k},n7),e("SetSpaceOrg2d",{a:[A,k,k],r:k},r7),e("GetScaleSpace2d",{a:[A],r:k},o7),e("SetScaleSpace2d",{a:[A,k],r:k},i7),e("SaveRectArea2d",{a:[A,fe,k,k,k,k,k],r:k},s7),e("GetBkBrush2d",{a:[A],r:A},a7),e("SetBkBrush2d",{a:[A,A],r:k},l7),e("LockSpace2d",{a:[A,k],r:k},c7),e("GetSpaceLayers2d",{a:[A],r:k},u7),e("SetSpaceLayers2d",{a:[A,k],r:k},d7),e("SetSpaceRenderEngine2d",{a:[A,k],r:k},h7),e("CreatePen2d",{a:[A,k,k,pn,k],r:A},f7),e("GetPenColor2d",{a:[A,A],r:pn},p7),e("GetPenRop2d",{a:[A,A],r:k},g7),e("GetPenStyle2d",{a:[A,A],r:k},m7),e("GetPenWidth2d",{a:[A,A],r:k},v7),e("SetPenColor2d",{a:[A,A,pn],r:k},y7),e("SetPenRop2d",{a:[A,A,k],r:k},b7),e("SetPenStyle2d",{a:[A,A,k],r:k},w7),e("SetPenWidth2d",{a:[A,A,k],r:k},S7),e("CreateBrush2d",{a:[A,k,k,pn,A,k],r:A},C7),e("GetBrushColor2d",{a:[A,A],r:pn},x7),e("GetBrushRop2d",{a:[A,A],r:k},_7),e("GetBrushStyle2d",{a:[A,A],r:k},E7),e("GetBrushHatch2d",{a:[A,A],r:k},T7),e("GetBrushDib2d",{a:[A,A],r:A},M7),e("SetBrushColor2d",{a:[A,A,pn],r:k},O7),e("SetBrushRop2d",{a:[A,A,k],r:k},R7),e("SetBrushStyle2d",{a:[A,A,k],r:k},I7),e("SetBrushHatch2d",{a:[A,A,k],r:k},P7),e("SetBrushDib2d",{a:[A,A,A],r:k},k7),e("CreateFont2d",{a:[A,fe,k,k],r:A},D7),e("CreateFont2dpt",{a:[A,fe,k,k],r:A},A7),e("GetFontName2d",{a:[A,A],r:fe},L7),e("GetFontSize2d",{a:[A,A],r:k},N7),e("GetFontStyle2d",{a:[A,A],r:k},B7),e("SetFontName2d",{a:[A,A,fe],r:k},F7),e("SetFontSize2d",{a:[A,A,k],r:k},j7),e("SetFontStyle2d",{a:[A,A,k],r:k},V7),e("CreateString2d",{a:[A,fe],r:A},$7),e("GetString2d",{a:[A,A],r:fe},z7),e("SetString2d",{a:[A,A,fe],r:k},U7),e("CreateText2d",{a:[A,A,A,pn,pn],r:A},H7),e("GetTextCount2d",{a:[A,A],r:k},G7),e("GetTextFont2d",{a:[A,A],r:A},qk),e("GetTextFont2d",{a:[A,A,k],r:A},qk),e("GetTextString2d",{a:[A,A],r:A},Yk),e("GetTextString2d",{a:[A,A,k],r:A},Yk),e("GetTextFgColor2d",{a:[A,A],r:pn},Xk),e("GetTextFgColor2d",{a:[A,A,k],r:pn},Xk),e("GetTextBkColor2d",{a:[A,A],r:pn},Zk),e("GetTextBkColor2d",{a:[A,A,k],r:pn},Zk),e("SetText2d",{a:[A,A,A,A,pn,pn],r:k},W7),e("SetText2d",{a:[A,A,k,A,A,pn,pn],r:k},Jk),e("SetTextFont2d",{a:[A,A,k,A],r:k},K7),e("SetTextString2d",{a:[A,A,k,A],r:k},q7),e("SetTextFgColor2d",{a:[A,A,k,pn],r:k},Y7),e("SetTextBkColor2d",{a:[A,A,k,pn],r:k},X7),e("AddText2d",{a:[A,A,A,A,pn,pn],r:k},Z7),e("AddText2d",{a:[A,A,k,A,A,pn,pn],r:k},Qk),e("RemoveText2d",{a:[A,A,k],r:k},J7),e("CreateDIB2d",{a:[A,fe],r:A},Q7),e("CreateDoubleDIB2d",{a:[A,fe],r:A},eY),e("GetDibPixel2d",{a:[A,A,k,k],r:pn},tY),e("SetDibPixel2d",{a:[A,A,k,k,pn],r:k},nY),e("DeleteTool2d",{a:[A,k,A],r:k},rY),e("GetNextTool2d",{a:[A,k,A],r:A},oY),e("GetToolRef2d",{a:[A,k,A],r:k},iY),e("Rgb",{a:[k,k,k],r:pn},sY),e("RgbEx",{a:[k,k,k,k],r:pn},aY),e("Rgbf",{a:[k],r:pn},lY),e("GetRValue",{a:[pn],r:k},cY),e("GetGValue",{a:[pn],r:k},uY),e("GetBValue",{a:[pn],r:k},dY),e("CreateObjectFromFile2d",{a:[A,fe,k,k,k],r:A},hY),e("DeleteObject2d",{a:[A,A],r:k},fY),e("GetObjectType2d",{a:[A,A],r:k},pY),e("GetObjectName2d",{a:[A,A],r:fe},gY),e("SetObjectName2d",{a:[A,A,fe],r:k},mY),e("GetObject2dByName",{a:[A,A,fe],r:A},vY),e("GetObjectOrg2dx",{a:[A,A],r:k},yY),e("GetObjectOrg2dy",{a:[A,A],r:k},bY),e("SetObjectOrg2d",{a:[A,A,k,k],r:k},wY),e("GetObjectWidth2d",{a:[A,A],r:k},SY),e("GetObjectHeight2d",{a:[A,A],r:k},CY),e("SetObjectSize2d",{a:[A,A,k,k],r:k},xY),e("GetActualWidth2d",{a:[A,A],r:k},_Y),e("GetActualHeight2d",{a:[A,A],r:k},EY),e("GetActualSize2d",{a:[A,A,Ye,Ye],r:k},TY),e("GetObjectAngle2d",{a:[A,A],r:k},MY),e("RotateObject2d",{a:[A,A,k,k,k],r:k},OY),e("SetShowObject2d",{a:[A,A,k],r:k},RY),e("ShowObject2d",{a:[A,A]},IY),e("HideObject2d",{a:[A,A]},PY),e("GetObjectFromPoint2d",{a:[A,k,k],r:A},kY),e("GetLastPrimary2d",{r:A},DY),e("CopyToClipboard2d",{a:[A,A],r:k},AY),e("PasteFromClipboard2d",{a:[A,k,k,k],r:A},LY),e("LockObject2d",{a:[A,A,k],r:k},NY),e("GetObjectAttribute2d",{a:[A,A],r:k},BY),e("SetObjectAttribute2d",{a:[A,A,k,k],r:k},FY),e("GetNextObject2d",{a:[A,A],r:A},jY),e("IsObjectsIntersect2d",{a:[A,A,A,k],r:k},VY),e("GetBottomObject2d",{a:[A],r:A},$Y),e("GetTopObject2d",{a:[A],r:A},zY),e("GetLowerObject2d",{a:[A,A],r:A},UY),e("GetUpperObject2d",{a:[A,A],r:A},HY),e("GetObjectFromZOrder2d",{a:[A,k],r:A},GY),e("GetZOrder2d",{a:[A,A],r:k},WY),e("SetZOrder2d",{a:[A,A,k],r:k},KY),e("ObjectToBottom2d",{a:[A,A],r:k},qY),e("ObjectToTop2d",{a:[A,A],r:k},YY),e("SwapObject2d",{a:[A,A,A],r:k},XY),e("CreatePolyLine2d",{a:[A,A,A],rest:[k,k],r:A},ZY),e("CreateLine2d",{a:[A,A,A,k,k],r:A},JY),e("AddPoint2d",{a:[A,A,k,k,k],r:k},QY),e("SetVectorPoint2d",{a:[A,A,k,k,k],r:k},eX),e("DelPoint2d",{a:[A,A,k],r:k},tX),e("GetPenObject2d",{a:[A,A],r:A},nX),e("GetBrushObject2d",{a:[A,A],r:A},rX),e("GetVectorNumPoints2d",{a:[A,A],r:k},oX),e("GetVectorPoint2dx",{a:[A,A,k],r:k},iX),e("GetVectorPoint2dy",{a:[A,A,k],r:k},sX),e("SetBrushObject2d",{a:[A,A,A],r:A},aX),e("SetPenObject2d",{a:[A,A,A],r:A},lX),e("SetLineArrows2d",{a:[A,A,k,k,k,k,k,k],r:k},cX),e("CreateGroup2d",{a:[A],rest:[A],r:A},uX),e("DeleteGroup2d",{a:[A,A],r:k},dX),e("AddGroupItem2d",{a:[A,A,A],r:k},hX),e("DelGroupItem2d",{a:[A,A,A],r:k},fX),e("GetGroupItemsNum2d",{a:[A,A],r:k},pX),e("GetGroupItem2d",{a:[A,A,k],r:A},gX),e("GetObjectParent2d",{a:[A,A],r:A},mX),e("IsGroupContainObject2d",{a:[A,A,A],r:k},vX),e("CreateBitmap2d",{a:[A,A,k,k],r:A},yX),e("CreateDoubleBitmap2d",{a:[A,A,k,k],r:A},bX),e("GetBitmapSrcRect2d",{a:[A,A,Ye,Ye,Ye,Ye],r:k},wX),e("SetBitmapSrcRect2d",{a:[A,A,k,k,k,k],r:k},SX),e("GetDibObject2d",{a:[A,A],r:A},CX),e("GetDDibObject2d",{a:[A,A],r:A},xX),e("SetDibObject2d",{a:[A,A,A],r:k},_X),e("SetDDibObject2d",{a:[A,A,A],r:k},EX),e("CreateRasterText2d",{a:[A,A,k,k,k],r:A},TX),e("GetTextObject2d",{a:[A,A],r:A},MX)}const RX={name:"graphics2d",deps:["windows","streams"],register:OX};var rD=1e-6,Ji=typeof Float32Array<"u"?Float32Array:Array;function ly(){var e=new Ji(9);return Ji!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function oD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Jo(){var e=new Ji(16);return Ji!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function IX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function iD(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function sD(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],c=t[6],u=t[7],h=t[8],f=t[9],g=t[10],m=t[11],y=t[12],b=t[13],v=t[14],S=t[15],E=n*a-r*s,T=n*c-o*s,R=n*u-i*s,M=r*c-o*a,I=r*u-i*a,N=o*u-i*c,P=h*b-f*y,L=h*v-g*y,D=h*S-m*y,$=f*v-g*b,B=f*S-m*b,U=g*S-m*v,q=E*U-T*B+R*$+M*D-I*L+N*P;return q?(q=1/q,e[0]=(a*U-c*B+u*$)*q,e[1]=(o*B-r*U-i*$)*q,e[2]=(b*N-v*I+S*M)*q,e[3]=(g*I-f*N-m*M)*q,e[4]=(c*D-s*U-u*L)*q,e[5]=(n*U-o*D+i*L)*q,e[6]=(v*R-y*N-S*T)*q,e[7]=(h*N-g*R+m*T)*q,e[8]=(s*B-a*D+u*P)*q,e[9]=(r*D-n*B-i*P)*q,e[10]=(y*I-b*R+S*E)*q,e[11]=(f*R-h*I-m*E)*q,e[12]=(a*L-s*$-c*P)*q,e[13]=(n*$-r*L+o*P)*q,e[14]=(b*T-y*M-v*E)*q,e[15]=(h*M-f*T+g*E)*q,e):null}function PX(e,t,n){var r=t[0],o=t[1],i=t[2],s=t[3],a=t[4],c=t[5],u=t[6],h=t[7],f=t[8],g=t[9],m=t[10],y=t[11],b=t[12],v=t[13],S=t[14],E=t[15],T=n[0],R=n[1],M=n[2],I=n[3];return e[0]=T*r+R*a+M*f+I*b,e[1]=T*o+R*c+M*g+I*v,e[2]=T*i+R*u+M*m+I*S,e[3]=T*s+R*h+M*y+I*E,T=n[4],R=n[5],M=n[6],I=n[7],e[4]=T*r+R*a+M*f+I*b,e[5]=T*o+R*c+M*g+I*v,e[6]=T*i+R*u+M*m+I*S,e[7]=T*s+R*h+M*y+I*E,T=n[8],R=n[9],M=n[10],I=n[11],e[8]=T*r+R*a+M*f+I*b,e[9]=T*o+R*c+M*g+I*v,e[10]=T*i+R*u+M*m+I*S,e[11]=T*s+R*h+M*y+I*E,T=n[12],R=n[13],M=n[14],I=n[15],e[12]=T*r+R*a+M*f+I*b,e[13]=T*o+R*c+M*g+I*v,e[14]=T*i+R*u+M*m+I*S,e[15]=T*s+R*h+M*y+I*E,e}function kX(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function DX(e,t,n){var r=n[0],o=n[1],i=n[2],s=Math.sqrt(r*r+o*o+i*i),a,c,u;return s<rD?null:(s=1/s,r*=s,o*=s,i*=s,a=Math.sin(t),c=Math.cos(t),u=1-c,e[0]=r*r*u+c,e[1]=o*r*u+i*a,e[2]=i*r*u-o*a,e[3]=0,e[4]=r*o*u-i*a,e[5]=o*o*u+c,e[6]=i*o*u+r*a,e[7]=0,e[8]=r*i*u+o*a,e[9]=o*i*u-r*a,e[10]=i*i*u+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function a0(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function aD(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],s=t[5],a=t[6],c=t[8],u=t[9],h=t[10];return e[0]=Math.sqrt(n*n+r*r+o*o),e[1]=Math.sqrt(i*i+s*s+a*a),e[2]=Math.sqrt(c*c+u*u+h*h),e}function AX(e,t){var n=new Ji(3);aD(n,t);var r=1/n[0],o=1/n[1],i=1/n[2],s=t[0]*r,a=t[1]*o,c=t[2]*i,u=t[4]*r,h=t[5]*o,f=t[6]*i,g=t[8]*r,m=t[9]*o,y=t[10]*i,b=s+h+y,v=0;return b>0?(v=Math.sqrt(b+1)*2,e[3]=.25*v,e[0]=(f-m)/v,e[1]=(g-c)/v,e[2]=(a-u)/v):s>h&&s>y?(v=Math.sqrt(1+s-h-y)*2,e[3]=(f-m)/v,e[0]=.25*v,e[1]=(a+u)/v,e[2]=(g+c)/v):h>y?(v=Math.sqrt(1+h-s-y)*2,e[3]=(g-c)/v,e[0]=(a+u)/v,e[1]=.25*v,e[2]=(f+m)/v):(v=Math.sqrt(1+y-s-h)*2,e[3]=(a-u)/v,e[0]=(g+c)/v,e[1]=(f+m)/v,e[2]=.25*v),e}function lD(e,t,n,r){var o=t[0],i=t[1],s=t[2],a=t[3],c=o+o,u=i+i,h=s+s,f=o*c,g=o*u,m=o*h,y=i*u,b=i*h,v=s*h,S=a*c,E=a*u,T=a*h,R=r[0],M=r[1],I=r[2];return e[0]=(1-(y+v))*R,e[1]=(g+T)*R,e[2]=(m-E)*R,e[3]=0,e[4]=(g-T)*M,e[5]=(1-(f+v))*M,e[6]=(b+S)*M,e[7]=0,e[8]=(m+E)*I,e[9]=(b-S)*I,e[10]=(1-(f+y))*I,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function LX(e,t,n,r,o){var i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,o!=null&&o!==1/0){var s=1/(r-o);e[10]=(o+r)*s,e[14]=2*o*r*s}else e[10]=-1,e[14]=-2*r;return e}var NX=LX;function BX(e,t,n,r){var o=t[0],i=t[1],s=t[2],a=r[0],c=r[1],u=r[2],h=o-n[0],f=i-n[1],g=s-n[2],m=h*h+f*f+g*g;m>0&&(m=1/Math.sqrt(m),h*=m,f*=m,g*=m);var y=c*g-u*f,b=u*h-a*g,v=a*f-c*h;return m=y*y+b*b+v*v,m>0&&(m=1/Math.sqrt(m),y*=m,b*=m,v*=m),e[0]=y,e[1]=b,e[2]=v,e[3]=0,e[4]=f*v-g*b,e[5]=g*y-h*v,e[6]=h*b-f*y,e[7]=0,e[8]=h,e[9]=f,e[10]=g,e[11]=0,e[12]=o,e[13]=i,e[14]=s,e[15]=1,e}var jl=PX;function ir(){var e=new Ji(3);return Ji!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function FX(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function di(e,t,n){var r=new Ji(3);return r[0]=e,r[1]=t,r[2]=n,r}function cD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Wa(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function jX(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function VX(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function $X(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function zX(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function UX(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}function HX(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}function GX(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function cy(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Rc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function kh(e,t,n){var r=t[0],o=t[1],i=t[2],s=n[0],a=n[1],c=n[2];return e[0]=o*c-i*a,e[1]=i*s-r*c,e[2]=r*a-o*s,e}function Ic(e,t,n){var r=t[0],o=t[1],i=t[2],s=n[3]*r+n[7]*o+n[11]*i+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/s,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/s,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/s,e}function WX(e,t){var n=e[0],r=e[1],o=e[2],i=t[0],s=t[1],a=t[2],c=Math.sqrt((n*n+r*r+o*o)*(i*i+s*s+a*a)),u=c&&Rc(e,t)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var Bp=VX,KX=$X,qX=UX,l0=HX,YX=FX,uD=GX;(function(){var e=ir();return function(t,n,r,o,i,s){var a,c;for(n||(n=3),r||(r=0),o?c=Math.min(o*n+r,t.length):c=t.length,a=r;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],i(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}})();function XX(){var e=new Ji(4);return Ji!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Fp(e,t,n,r){var o=new Ji(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}function c0(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}function ZX(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],s=n*n+r*r+o*o+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=o*s,e[3]=i*s,e}(function(){var e=XX();return function(t,n,r,o,i,s){var a,c;for(n||(n=4),r||(r=0),o?c=Math.min(o*n+r,t.length):c=t.length,a=r;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],i(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}})();function jp(){var e=new Ji(4);return Ji!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function JX(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function QX(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function eZ(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c+s*a,e[1]=o*c+i*a,e[2]=i*c-o*a,e[3]=s*c-r*a,e}function tZ(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c-i*a,e[1]=o*c+s*a,e[2]=i*c+r*a,e[3]=s*c-o*a,e}function nZ(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*a,e[1]=o*c-r*a,e[2]=i*c+s*a,e[3]=s*c-i*a,e}function u0(e,t,n,r){var o=t[0],i=t[1],s=t[2],a=t[3],c=n[0],u=n[1],h=n[2],f=n[3],g,m,y,b,v;return m=o*c+i*u+s*h+a*f,m<0&&(m=-m,c=-c,u=-u,h=-h,f=-f),1-m>rD?(g=Math.acos(m),y=Math.sin(g),b=Math.sin((1-r)*g)/y,v=Math.sin(r*g)/y):(b=1-r,v=r),e[0]=b*o+v*c,e[1]=b*i+v*u,e[2]=b*s+v*h,e[3]=b*a+v*f,e}function rZ(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[o*3+o]&&(o=2);var i=(o+1)%3,s=(o+2)%3;r=Math.sqrt(t[o*3+o]-t[i*3+i]-t[s*3+s]+1),e[o]=.5*r,r=.5/r,e[3]=(t[i*3+s]-t[s*3+i])*r,e[i]=(t[i*3+o]+t[o*3+i])*r,e[s]=(t[s*3+o]+t[o*3+s])*r}return e}var oZ=c0,d0=ZX;(function(){var e=ir(),t=di(1,0,0),n=di(0,1,0);return function(r,o,i){var s=Rc(o,i);return s<-.999999?(kh(e,t,o),YX(e)<1e-6&&kh(e,n,o),cy(e,e),QX(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(kh(e,o,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,d0(r,r))}})(),(function(){var e=jp(),t=jp();return function(n,r,o,i,s,a){return u0(e,r,s,a),u0(t,o,i,a),u0(n,e,t,2*a*(1-a)),n}})(),(function(){var e=ly();return function(t,n,r,o){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=o[0],e[4]=o[1],e[7]=o[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],d0(t,rZ(t,e))}})();function iZ(e,t,n){const r=[],o=Math.ceil(n/8);e.font=t;let i=0;const s=o,a=o,c=o,u=o;let h=0;for(let m=0;m<16;++m){let y=0;for(let b=0;b<16;++b){const v=m*16+b,S=fa[v],{width:E}=e.measureText(S),T=n;r.push({x:y+c,y:h+s,w:E,h:T,asc:s,desc:a,left:c,right:u}),y+=c+Math.ceil(E)+u}h+=s+n+a,i=Math.max(i,y)}return{font:t,fontSize:n,glyphRects:r,width:i,height:h}}function sZ(e,{font:t,glyphRects:n,height:r,width:o}){e.canvas.width=o,e.canvas.height=r,e.font=t,e.fillStyle="white",e.textAlign="left",e.textBaseline="top",e.fontKerning="none",n.forEach(({x:i,y:s},a)=>{e.fillText(fa[a],i,s)})}const aZ=2,lZ=0,cZ=1,uZ=2,dZ=3,hZ=4,fZ=5,pZ=6,gZ=7,mZ=8,vZ=9,yZ=0,Vp=1,bZ=2,wZ=1,SZ=2,CZ=3,dD=4,xZ=5,_Z=6,EZ=0,TZ=1,MZ=0,hD=1,uy=0,$p=1,dy=2,OZ=0,RZ=1,IZ=2,hy=0,fy=1,zp=2;class h0{constructor(t){this.objectsGenerator=t,this.list=new WeakMap,this.cur=null}get(t){const{cur:n}=this;if(n&&n.ctx===t)return n;const r=this.list.get(t);if(r)return this.cur=r;const o=this.objectsGenerator(t);return this.list.set(t,this.cur=o),o}}function Up(e,t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){console.log(n.split(`
`).map((s,a)=>`${a+1}: ${s}`).join(`
`));const i=e.getShaderInfoLog(r);throw Error(`Ошибка компиляции шейдера (${t===e.VERTEX_SHADER?"vertex":"fragment"}): ${i}`)}return r}function f0(e,t,n){const r=e.getUniformLocation(t,n);if(!r)throw Error(`Программа не содержит Uniform '${n}'`);return r}class PZ{constructor(){this.entries=new Map}add(t,n,r){let o=this.entries.get(t);o||this.entries.set(t,o=new Map);let i=o.get(n);i?i.push(r):o.set(n,i=[r])}filterInline(t){this.entries.forEach((n,r)=>{n.forEach((o,i)=>{const s=o.filter(t);s.length?n.set(i,s):n.delete(i)}),n.size||this.entries.delete(r)})}}var kZ=`precision mediump float;
#ifdef UV
uniform sampler2D uTexture;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){
#ifndef GOURAUD
vec4 vLightColor4=vec4(1,1,1,1);
#endif
#ifdef UV
gl_FragColor=texture2D(uTexture,vTexCoord)*vLightColor4;
#else
gl_FragColor=vLightColor4;
#endif
}`,DZ=`uniform mat4 uMVP4;
#ifdef GOURAUD
uniform vec3 uWorldLightPos;uniform mat4 uWorldMat4;uniform mat3 uWorldNormalMat;uniform vec3 uAmbientColor;uniform vec4 uTechDiffuseColor4;
#endif
attribute vec4 aPos4;
#ifdef GOURAUD
attribute vec3 aNormal;
#endif
#ifdef UV
attribute vec2 aUv;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){gl_Position=uMVP4*aPos4;
#ifdef GOURAUD
vec3 lightDir=normalize(uWorldLightPos-(uWorldMat4*aPos4).xyz);vec3 worldNormal=normalize(uWorldNormalMat*aNormal);vec3 uLightDiffuse=vec3(1,1,1);float uLightPower=1.;vec3 diffuse=uLightDiffuse*uLightPower*max(dot(worldNormal,lightDir),.0);vec3 GI=uAmbientColor+(uTechDiffuseColor4.rgb*diffuse);vLightColor4=vec4(GI,uTechDiffuseColor4.a);
#endif
#ifdef UV
vTexCoord=aUv;
#endif
}`;let py=-1;const Dh=[{usesUV:!1,shadingMode:-1,index:++py},{usesUV:!1,shadingMode:Vp,index:++py},{usesUV:!0,shadingMode:-1,index:++py},{usesUV:!0,shadingMode:Vp,index:++py}],fD={usesUV:!0,shadingMode:-1,index:-1};class pD{constructor(t,n,r,o){this.ctx=t,this.shaderProgram=n,this.hasNormalsSupport=r,this.hasUVSupport=o,this._activeTech=null,this._activeVAO=null}use(){const{ctx:t}=this;t._activeProgram!==this&&(t._setActiveProgram(this),t.gl.useProgram(this.shaderProgram),this._activeTech=null,this._activeVAO=null,++t.stats.switchesProgram,this.init())}_setActiveTech(t){this._activeTech=t}_setActiveVAO(t){this._activeVAO=t}}const gD=Dh.map(({usesUV:e,shadingMode:t})=>{const n=[];return e&&n.push("UV"),n.push(t===Vp?"GOURAUD":t===bZ?"PHONG":t===yZ?"FLAT":"NO_SHADING"),n.map(r=>`#define ${r}
`).join("")}),AZ=gD.map(e=>e+DZ),LZ=gD.map(e=>e+kZ),NZ=ir();class mD extends pD{constructor(t,n,r,o){const{gl:i}=t,s=i.createProgram();if(i.attachShader(s,r),i.attachShader(s,o),i.bindAttribLocation(s,hy,"aPos4"),i.bindAttribLocation(s,fy,"aNormal"),i.bindAttribLocation(s,zp,"aUv"),i.linkProgram(s),!i.getProgramParameter(s,i.LINK_STATUS)){const u=i.getProgramInfoLog(s);throw Error(`Ошибка Link Program: ${u}`)}const a=n.shadingMode>-1;super(t,s,a,n.usesUV),this.caps=n,this.uTechDiffuseColor4=null,this.uAmbientColor=null,this.uWorldLightPos=null,this.uWorldMat4=null,this.uWorldNormalMat=null;const c=f0.bind(null,i,s);this.uVMP4=c("uMVP4"),a&&(this.uTechDiffuseColor4=c("uTechDiffuseColor4"),this.uWorldLightPos=c("uWorldLightPos"),this.uWorldMat4=c("uWorldMat4"),this.uWorldNormalMat=c("uWorldNormalMat"),this.uAmbientColor=c("uAmbientColor")),this.gl=i}init(){this.hasNormalsSupport&&this.gl.uniform3fv(this.uWorldLightPos,this.ctx._lightPosition)}setMVPMatrix(t){this.gl.uniformMatrix4fv(this.uVMP4,!1,t)}setNormalMatrix(t,n){const{gl:r}=this;r.uniformMatrix4fv(this.uWorldMat4,!1,t),r.uniformMatrix3fv(this.uWorldNormalMat,!1,n)}setDiffuse(t){this.gl.uniform4fv(this.uTechDiffuseColor4,t)}setAmbient(t){this.gl.uniform3fv(this.uAmbientColor,KX(NZ,this.ctx._ambientColor,t))}useTexture(){}}var BZ="precision mediump float;varying vec2 tCoord;uniform vec4 color;uniform bool useTexture;uniform sampler2D tex;void main(){gl_FragColor=useTexture ? texture2D(tex,tCoord)*color : color;}",FZ="attribute vec2 v;attribute vec2 uv;uniform vec4 p;uniform vec4 uvRect;varying vec2 tCoord;void main(){gl_Position=vec4((p.x+p.z*v.x)*2.-1.,(-p.y+p.w*v.y)*2.+1.,0,1);tCoord=vec2(uvRect.x+uvRect.z*uv.x,uvRect.y+uvRect.w*uv.y);}";class jZ extends pD{constructor(t){const{gl:n}=t,r=Up(n,n.VERTEX_SHADER,FZ),o=Up(n,n.FRAGMENT_SHADER,BZ),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.bindAttribLocation(i,hy,"v"),n.bindAttribLocation(i,zp,"uv"),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS)){const a=n.getProgramInfoLog(i);throw Error(`Ошибка Link Program: ${a}`)}super(t,i,!1,!0),this.textureInUse=!1;const s=f0.bind(null,n,i);this.uPos=s("p"),this.uUVRect=s("uvRect"),this.uColor=s("color"),this.uUseTexture=s("useTexture"),this.gl=t.gl}setColor(t){this.gl.uniform4fv(this.uColor,t)}setPositionAndScale(t,n,r,o){this.gl.uniform4f(this.uPos,t,n,r,o)}setUVRect(t){this.gl.uniform4fv(this.uUVRect,t)}useTexture(t){this.textureInUse!==t&&(this.textureInUse=t,this.gl.uniform1f(this.uUseTexture,+t))}init(){}}var VZ="precision mediump float;uniform sampler2D uTexture;uniform vec4 uTextColor;varying vec2 vTexCoord;void main(){float alpha=texture2D(uTexture,vTexCoord).a*uTextColor.a;gl_FragColor=vec4(uTextColor.rgb,alpha);}";class $Z extends mD{constructor(t,n){const{gl:r}=t,o=Up(r,r.FRAGMENT_SHADER,VZ);super(t,fD,n,o),this.uTextColor=f0(r,this.shaderProgram,"uTextColor")}setTextColor(t){this.gl.uniform4fv(this.uTextColor,t)}}class Hp{use(t){const n=this.selectProgram(t);return n.use(),n._activeTech===this||(n._setActiveTech(this),this.apply(n),++t.stats.switchesTech),n}}class zZ extends Hp{constructor(t){super(),this.material=t,this.passVersion=-1,this.texture=null,this.programCaps=null,this.pass=t.techs[0].passes[0]}prepare(){const{pass:t}=this;if(this.passVersion===t._version)return;this.passVersion=t._version;const r=!!(this.texture=t._getDefaultTextureUnit()?.getTexture()||null),o=t.lightingEnabled?Vp:0,i=Dh.find(s=>s.usesUV===r&&s.shadingMode===o);if(!i)throw Error(`Материал "${this.material.name}": программа с заданными требованиями (usesUV: ${r}, shadingMode: ${o}) не существует`);this.programCaps=i}hasOpacity(){const{pass:t}=this;return t.diffuse[3]<1}getProgramCaps(){return this.prepare(),this.programCaps}selectProgram(t){return this.prepare(),t.meshPrograms[this.programCaps.index]}apply(t){const{ctx:n}=t,{pass:r}=this;n.setDepthWrite(r.depthWrite),n.setDepthCheck(r.depthCheck),this.texture?.use(n),t.setDiffuse(r.diffuse),t.setAmbient(r.ambient)}}class UZ extends Hp{constructor(t){super(),this.material=t,this.pass=t.techs[0].passes[0]}selectProgram(t){return t.overlayProgram}apply(t){const{pass:n}=this,r=n._getDefaultTextureUnit()?.getTexture();r?(r.use(t.ctx),t.useTexture(!0)):t.useTexture(!1),t.setColor(n.diffuse)}}class HZ extends Hp{constructor(t,n){super(),this.fontTexture=t,this.colorSource=n}getProgramCaps(){return fD}selectProgram(t){return t.textProgram}apply(t){this.fontTexture.use(t.ctx),t.setTextColor(this.colorSource.color)}}const GZ=Fp(0,0,1,1);class WZ extends Hp{constructor(t){super(),this.fontTexture=t}selectProgram(t){return t.overlayProgram}apply(t){this.fontTexture.use(t.ctx),t.useTexture(!0),t.setUVRect(GZ)}}const p0=Oh(0,0).getContext("2d",{alpha:!0});class KZ{constructor(t){this.fontName=t,this.cache=new h0(this.genFontTexture.bind(this)),this.textOverlayRenderTech=null;const n=Math.round(150/72*20);this.glyphData=iZ(p0,`${n}px ${this.fontName}`,n)}genFontTexture(t){sZ(p0,this.glyphData);const{gl:n}=t,r=n.createTexture();return t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,p0.canvas),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}getTextOverlayRenderTech(){return this.textOverlayRenderTech||(this.textOverlayRenderTech=new WZ(this)),this.textOverlayRenderTech}}class qZ{constructor(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesVAO=0,this.switchesFace=0,this.dcOpaque=0,this.dcTransparent=0,this.dcOverlay=0,this.dcTotal=0;const t=this;Object.defineProperty(window,"s",{configurable:!0,get(){return t}})}reset(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesFace=0,this.switchesVAO=0,this.dcOpaque=0,this.dcTransparent=0,this.dcTotal=0,this.dcOverlay=0}}class YZ{constructor(t){this.gl=t,this.currentTexture=null,this.uvEnabled=!1,this.normalsEnabled=!1,this.backFacesInUse=!1,this.depthWrite=!0,this.depthCheck=!0,this.blendSFactor=WebGLRenderingContext.ONE,this.blendDFactor=WebGLRenderingContext.ZERO,this._ambientColor=ir(),this._lightPosition=ir(),this.stats=new qZ,this._activeProgram=null,t.enable(t.CULL_FACE),t.enableVertexAttribArray(hy),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.hasIndices32Support=!!t.getExtension("OES_element_index_uint");const n=AZ.map(i=>Up(t,t.VERTEX_SHADER,i)),r=LZ.map(i=>Up(t,t.FRAGMENT_SHADER,i));this.meshPrograms=Dh.map((i,s)=>new mD(this,i,n[s],r[s]));const o=n[Dh.findIndex(i=>i.usesUV&&i.shadingMode<0)];this.textProgram=new $Z(this,o),this.overlayProgram=new jZ(this)}_setActiveProgram(t){this._activeProgram=t}reset(){this.stats.reset()}setLighting(t,n){cD(this._ambientColor,t),cD(this._lightPosition,n),this._activeProgram?.init()}enableUV(){this.uvEnabled||(this.uvEnabled=!0,this.gl.enableVertexAttribArray(zp))}disableUV(){this.uvEnabled&&(this.uvEnabled=!1,this.gl.disableVertexAttribArray(zp))}enableNormals(){this.normalsEnabled||(this.normalsEnabled=!0,this.gl.enableVertexAttribArray(fy))}disableNormals(){this.normalsEnabled&&(this.normalsEnabled=!1,this.gl.disableVertexAttribArray(fy))}useBackFaces(t){if(this.backFacesInUse===t)return;this.backFacesInUse=t;const{gl:n}=this;n.frontFace(t?n.CW:n.CCW),++this.stats.switchesFace}setTexture(t){if(this.currentTexture===t)return;this.currentTexture=t;const{gl:n}=this;n.bindTexture(n.TEXTURE_2D,t),++this.stats.switchesTexture}setDepthWrite(t){this.depthWrite!==t&&(this.depthWrite=t,this.gl.depthMask(t))}setDepthCheck(t){if(this.depthCheck===t)return;this.depthCheck=t;const{gl:n}=this;n.depthFunc(t?n.LESS:n.ALWAYS)}setBlendFunc(t,n){this.blendSFactor===t&&this.blendDFactor===n||(this.blendSFactor=t,this.blendDFactor=n,this.gl.blendFunc(t,n))}}function Vl(e){const t=e.split(" ").map(n=>parseFloat(n));return t.length===4&&!t.some(isNaN)?[t[0],t[1],t[2]-t[0],t[3]-t[1]]:null}function XZ(e){const t=e.split(" ").slice(0,3).map(n=>parseFloat(n));return t.some(isNaN)?null:[...t,1]}class g0{constructor(t,n,r){this.o=t,this.type=n,this.overlay=null,this.parent=null,this.children=[],this.visible=!0,this.x=0,this.y=0,this.width=0,this.height=0,this.metricsMode=MZ,this.horAlign=uy,this.horTextAlign=uy,this.vertAlign=OZ,this.caption="",this.charHeight=12,this.spaceWidth=0,this.color=[1,1,1,1],this.material=null,this.uv=[0,0,1,1],this.uvTL=[0,0,1,1],this.uvTR=[0,0,1,1],this.uvBL=[0,0,1,1],this.uvBR=[0,0,1,1],this.uvL=[0,0,1,1],this.uvR=[0,0,1,1],this.uvT=[0,0,1,1],this.uvB=[0,0,1,1],this.borders=[0,0,0,0],this.textMesh=null,t.overlayElements.set(this.key=t.key(),this),this.name=r?.name??""}drawAt(t,n,r,o,i,s,a){const{visible:c,vertAlign:u,horAlign:h,metricsMode:f,x:g,y:m,width:y,height:b}=this;if(!c)return;const v=f===hD,S=(v?g/s:g)+(h===dy?o:h===$p?o/2:0)+n,E=(v?m/a:m)+(u===IZ?i:u===RZ?i/2:0)+r,T=v?y/s:y,R=v?b/a:b;this.draw(t,S,E,T,R,s,a),this.children.forEach(M=>M.drawAt(t,S,E,T,R,s,a))}setMetricsMode(t){return this.metricsMode=t,this}setChildren(t){return this.children.forEach(n=>n.parent=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>n.parent=this),this}setVisible(t){return this.visible=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setSize(t,n){return this.width=t,this.height=n,this}setAlignment(t,n){return this.horAlign=t,this.vertAlign=n,this}setCaption(t){return this.caption!==t&&(this.caption=t,this.textMesh=null),this}setColor(t,n,r,o){return this.color=[t,n,r,o],this}setMaterial(t){return this.material=t,this}setParam(t,n){switch(t){case"uv_coords":{const o=Vl(n);o&&(this.uv=o);break}case"border_material":break;case"border_size":{const o=n.split(" ").map(i=>Math.max(parseInt(i),2));o.length===4&&!o.some(isNaN)&&(this.borders=o);break}case"border_topleft_uv":{const o=Vl(n);o&&(this.uvTL=o);break}case"border_topright_uv":{const o=Vl(n);o&&(this.uvTR=o);break}case"border_bottomleft_uv":{const o=Vl(n);o&&(this.uvBL=o);break}case"border_bottomright_uv":{const o=Vl(n);o&&(this.uvBR=o);break}case"border_left_uv":{const o=Vl(n);o&&(this.uvL=o);break}case"border_right_uv":{const o=Vl(n);o&&(this.uvR=o);break}case"border_top_uv":{const o=Vl(n);o&&(this.uvT=o);break}case"border_bottom_uv":{const o=Vl(n);o&&(this.uvB=o);break}case"font_name":break;case"alignment":this.horTextAlign=n==="center"?$p:n==="right"?dy:uy;break;case"colour":const r=XZ(n);r&&(this.color=r);break;case"char_height":{const o=parseInt(n)||12;this.charHeight!==o&&(this.charHeight=o,this.textMesh=null);break}case"space_width":{const o=parseInt(n)||12;this.spaceWidth!==o&&(this.spaceWidth=o,this.textMesh=null);break}default:console.warn(`Неизвестный параметр StringInterface: '${t}'`);break}}}class Ah{constructor(t){this.data=t,this.cache=new h0(this.genBuffers.bind(this)),this.gl=null;const{indices:n,positions:r,positionSize:o}=t,i=this.useIndices32=n instanceof Uint32Array;this.positionSize=o,this.hasIndices=!!n,this.count=n?.length??r.length/o,this.drawMode=t.drawMode??WebGLRenderingContext.TRIANGLES,this.indicesType=i?WebGLRenderingContext.UNSIGNED_INT:WebGLRenderingContext.UNSIGNED_SHORT}genBuffers(t){const{gl:n}=t,{indices:r,positions:o,uvs:i,normals:s}=this.data,a=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,o,n.STATIC_DRAW);let c;i?(c=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,i,n.STATIC_DRAW)):c=null;let u;s?(u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,s,n.STATIC_DRAW)):u=null;let h;return r?(h=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h),n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW),this.useIndices32&&!t.hasIndices32Support&&(console.warn("WebGL: Не поддерживаются 32-битные индексы"),this.indicesType=n.UNSIGNED_SHORT,this.count=0)):h=null,{ctx:t,positionsBuffer:a,uvsBuffer:c,normalsBuffer:u,indexBuffer:h}}use(t){if(t._activeVAO===this)return;t._setActiveVAO(this);const{ctx:n}=t,{positionsBuffer:r,uvsBuffer:o,normalsBuffer:i,indexBuffer:s}=this.cache.get(n),{gl:a}=n;a.bindBuffer(a.ARRAY_BUFFER,r),a.vertexAttribPointer(hy,this.positionSize,a.FLOAT,!1,0,0),o&&t.hasUVSupport?(a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(zp,2,a.FLOAT,!1,0,0),n.enableUV()):n.disableUV(),i&&t.hasNormalsSupport?(a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(fy,3,a.FLOAT,!1,0,0),n.enableNormals()):n.disableNormals(),s&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s),this.gl=a,++n.stats.switchesVAO}draw(){const{gl:t,drawMode:n,count:r,indicesType:o,hasIndices:i}=this;i?t.drawElements(n,r,o,0):t.drawArrays(n,0,r)}_drawRange(t,n){const{gl:r,drawMode:o,indicesType:i}=this;r.drawElements(o,n,i,t)}}class ZZ{constructor(t,n,r){this.sharedVAO=t,this.count=r,this.byteOffset=n*(t.useIndices32?4:2)}use(t){this.sharedVAO.use(t)}draw(){this.sharedVAO._drawRange(this.byteOffset,this.count)}}const gy=new Ah({positionSize:2,positions:new Float32Array([0,0,0,-1,1,-1,1,0]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),drawMode:WebGLRenderingContext.TRIANGLE_FAN});class JZ extends g0{constructor(t,n){super(t,"Panel",n)}draw(t,n,r,o,i){const{material:s,uv:a}=this;if(!s)return;const c=s._getPanelOverlayRenderTech().use(t);gy.use(c),c.setUVRect(a),c.setPositionAndScale(n,r,o,i),gy.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class QZ extends g0{constructor(t,n){super(t,"BorderPanel",n)}draw(t,n,r,o,i,s,a){const{material:c,uv:u,borders:h,uvTL:f,uvT:g,uvTR:m,uvR:y,uvBR:b,uvB:v,uvBL:S,uvL:E,metricsMode:T}=this;if(!c)return;const R=c._getPanelOverlayRenderTech().use(t);gy.use(R);const M=T===hD,I=M?h[0]/s:h[0],N=M?h[1]/s:h[1],P=M?h[2]/a:h[2],L=M?h[3]/a:h[3],D=o-I-N,$=i-P-L;[[[I,P,D,$],u],[[0,0,I,P],f],[[I,0,D,P],g],[[I+D,0,N,P],m],[[I+D,P,N,$],y],[[I+D,P+$,N,L],b],[[I,P+$,D,L],v],[[0,P+$,I,L],S],[[0,P,I,$],E]].forEach(([U,q])=>{R.setUVRect(q),R.setPositionAndScale(n+U[0],r+U[1],U[2],U[3]),gy.draw(),++t.stats.dcOverlay,++t.stats.dcTotal})}}function vD(e,t,n=uy,r=0){const{glyphRects:o,fontSize:i,height:s,width:a}=e,c=[...t],u=(r||o[Yv].w)/i;let h=0;const f=[];let g=0,m=0;{let E={glyphs:[],width:0},T=0;c.forEach(R=>{const M=fa.indexOf(R),I=M>-1?M:Yv;if(I===uq){f.push(E),g=Math.max(g,E.width),m+=1,E={glyphs:[],width:0},T=0,E.width=0;return}const N=o[I];if(I===Yv)(n!==$p||!f.length||E.glyphs.length)&&(E.width+=u,E.glyphs.push(null));else{const P=N.w/i,L=N.h/i;E.width+=P,T=Math.max(T,L),E.glyphs.push(N),++h}}),f.push(E),g=Math.max(g,E.width),m+=T}if(!h)return{caption:t,width:g,height:m,vao:null,align:n};const y=new Float32Array(h*8),b=new Float32Array(h*8),v=new Uint16Array(h*6);{let E=0,T=0;f.forEach(R=>{let M=n===$p?(g-R.width)/2:n===dy?g-R.width:0;R.glyphs.forEach(I=>{if(!I){M+=u;return}const N=I.w/i,P=I.x-I.left,L=I.y-I.asc,D=I.left+I.w+I.right,$=I.asc+I.h+I.desc,B=D/i,U=$/i,q=E*8,W=E*6,V=E*4;++E;{const Y=M-I.left/i,J=T+I.asc/i;M+=N;const ne=Y,z=Y,K=Y+B,Z=K,le=J,ce=J-U,ue=ce,ae=le;y[q+0]=ne,y[q+1]=le,y[q+2]=z,y[q+3]=ce,y[q+4]=K,y[q+5]=ue,y[q+6]=Z,y[q+7]=ae}{const Y=P/a,J=Y,ne=(P+D)/a,z=ne,K=L/s,Z=(L+$)/s,le=Z,ce=K;b[q+0]=Y,b[q+1]=K,b[q+2]=J,b[q+3]=Z,b[q+4]=ne,b[q+5]=le,b[q+6]=z,b[q+7]=ce}v[W+0]=V+0,v[W+1]=V+1,v[W+2]=V+2,v[W+3]=V+0,v[W+4]=V+2,v[W+5]=V+3}),T-=1})}const S=new Ah({positionSize:2,positions:y,uvs:b,indices:v});return{caption:t,width:g,height:m,vao:S,align:n}}class eJ extends g0{constructor(t,n){super(t,"TextArea",n),this.tech=t._getFontTexture().getTextOverlayRenderTech()}draw(t,n,r,o,i,s,a){const{caption:c,tech:u,horTextAlign:h,spaceWidth:f}=this;if(!c)return;const{vao:g,width:m}=this.textMesh||(this.textMesh=vD(u.fontTexture.glyphData,c,h,f));if(!g)return;const y=u.use(t);g.use(y);const b=this.charHeight*.75,v=b/s,S=b/a,E=n-(h===dy?m*v:h===$p?m*v/2:0);y.setPositionAndScale(E,r,v,S),y.setColor(this.color),g.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class my{constructor(){this.renderIteration=0,this.currentRenderList=null}_setCurrentRenderList(t){this.currentRenderList=t}_setRenderIteration(t){this.renderIteration=t}_techOrVAOChanged(){this.currentRenderList?._removeElement(this)}}class tJ{constructor(){this.renderIteration=0,this.gcFilter=t=>t.currentRenderList===this,this.capsGroups=Dh.map(()=>new PZ)}clear(){++this.renderIteration}add(t){if(t._setRenderIteration(this.renderIteration),t.currentRenderList===this)return;t._setCurrentRenderList(this);const n=t.getRenderTech(),r=t.getVAO(),o=n.getProgramCaps();this.capsGroups[o.index].add(n,r,t)}_removeElement(t){t._setCurrentRenderList(null),this.gc()}render(t,n){let r=!1;const{renderIteration:o}=this,{stats:i}=t;for(const s of this.capsGroups)s.entries.forEach((a,c)=>{const u=c.use(t),{hasNormalsSupport:h}=u;a.forEach((f,g)=>{g.use(u),f.forEach(m=>{if(m.currentRenderList!==this){r=!0;return}if(m.renderIteration!==o){m._setCurrentRenderList(null),r=!0;return}t.useBackFaces(m.isMirrored()),h&&u.setNormalMatrix(m.getWorldMatrix(),m.getWorldNormalMatrix()),u.setMVPMatrix(m.getMVPMatrix(n)),g.draw(),++i.dcOpaque,++i.dcTotal})})});r&&this.gc()}gc(){for(const t of this.capsGroups)t.filterInline(this.gcFilter)}}class yD{constructor(){this.elements=[],this.renderIteration=0}clear(){++this.renderIteration}add(t){t._setRenderIteration(this.renderIteration),t.currentRenderList!==this&&(t._setCurrentRenderList(this),this.elements.push(t))}_removeElement(){}render(t,n){let r=!1;const{renderIteration:o}=this,{stats:i}=t;if(n.node){const s=n.node.getWorldPosition();this.elements.sort((a,c)=>l0(s,c.getWorldCOM())-l0(s,a.getWorldCOM()))}else this.elements.sort((s,a)=>uD(a.getWorldCOM())-uD(s.getWorldCOM()));this.elements.forEach(s=>{if(s.currentRenderList!==this){r=!0;return}if(s.renderIteration!==o){s._setCurrentRenderList(null),r=!0;return}const a=s.getRenderTech(),c=s.getVAO(),u=a.use(t);c.use(u),t.useBackFaces(s.isMirrored()),u.hasNormalsSupport&&u.setNormalMatrix(s.getWorldMatrix(),s.getWorldNormalMatrix()),u.setMVPMatrix(s.getMVPMatrix(n)),c.draw(),++i.dcTotal,++i.dcTransparent}),r&&this.gc()}gc(){this.elements=this.elements.filter(t=>t.currentRenderList===this)}}class nJ{constructor(t){this.image=t,this.cache=new h0(this.genTexture.bind(this))}genTexture(t){const{gl:n}=t,r=n.createTexture();function o(s){t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),bk(s.width)&&bk(s.height)?n.generateMipmap(n.TEXTURE_2D):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE))}const{image:i}=this;return i.complete&&i.naturalHeight?o(i):(t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([211,211,211,64])),i.complete||i.addEventListener("load",()=>o(i))),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}}const rJ=Jo(),oJ=ly(),bD=ir(),iJ=di(0,1,0),wD=di(0,0,-1),sJ=di(1,1,1),aJ=Fp(1,1,1,1),m0=ir(),v0=ir(),y0=ir(),b0=ir(),w0=ir();function SD({origin:e,dir:t},n,r,o){Bp(m0,r,n),Bp(v0,o,n),kh(y0,t,v0);const i=Rc(m0,y0);if(i>-Number.EPSILON&&i<Number.EPSILON)return 1/0;const s=1/i;Bp(b0,e,n);const a=Rc(b0,y0)*s;if(a<0||a>1)return 1/0;kh(w0,b0,m0);const c=Rc(t,w0)*s;if(c<0||a+c>1)return 1/0;const u=Rc(v0,w0)*s;return u>Number.EPSILON?u:1/0}const Pc=ir(),kc=ir(),Dc=ir();function lJ(e,t){let n=1/0;for(let r=0;r+8<t.length;r+=9){Pc[0]=t[r+0],Pc[1]=t[r+1],Pc[2]=t[r+2],kc[0]=t[r+3],kc[1]=t[r+4],kc[2]=t[r+5],Dc[0]=t[r+6],Dc[1]=t[r+7],Dc[2]=t[r+8];const o=SD(e,Pc,kc,Dc);n>o&&(n=o)}return n}function cJ(e,t,n){let r=1/0;for(let o=0;o+2<n.length;o+=3){const i=n[o+0]*3,s=n[o+1]*3,a=n[o+2]*3;Pc[0]=t[i+0],Pc[1]=t[i+1],Pc[2]=t[i+2],kc[0]=t[s+0],kc[1]=t[s+1],kc[2]=t[s+2],Dc[0]=t[a+0],Dc[1]=t[a+1],Dc[2]=t[a+2];const c=SD(e,Pc,kc,Dc);r>c&&(r=c)}return r}function uJ(e,t,n){const[r,o,i]=t;return e[0]=n[0]*r+n[4]*o+n[8]*i,e[1]=n[1]*r+n[5]*o+n[9]*i,e[2]=n[2]*r+n[6]*o+n[10]*i,cy(e,e)}function dJ(e,t,n){return Ic(e.origin,t.origin,n),uJ(e.dir,t.dir,n),e}function CD(e){switch(e){case lZ:return WebGLRenderingContext.ONE;case cZ:return WebGLRenderingContext.ZERO;case uZ:return WebGLRenderingContext.DST_COLOR;case dZ:return WebGLRenderingContext.SRC_COLOR;case hZ:return WebGLRenderingContext.ONE_MINUS_DST_COLOR;case fZ:return WebGLRenderingContext.ONE_MINUS_SRC_COLOR;case pZ:return WebGLRenderingContext.DST_ALPHA;case gZ:return WebGLRenderingContext.SRC_ALPHA;case mZ:return WebGLRenderingContext.ONE_MINUS_DST_ALPHA;case vZ:return WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;default:return 0}}function hJ(e){switch(e){case wZ:return WebGLRenderingContext.POINTS;case SZ:return WebGLRenderingContext.LINES;case CZ:return WebGLRenderingContext.LINE_STRIP;case xZ:return WebGLRenderingContext.TRIANGLE_STRIP;case _Z:return WebGLRenderingContext.TRIANGLE_FAN;default:return WebGLRenderingContext.TRIANGLES}}function S0(){return{origin:ir(),dir:di(0,0,1)}}const fJ=new Ah({positionSize:2,positions:new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,-.5]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),indices:new Uint16Array([0,2,1,0,3,2,0,1,2,0,2,3])});class pJ extends my{constructor(t,n,r){super(),this.set=t,this.position=n,this.parentScale=r,this.worldMatrix=Jo(),this.localMatrix=Jo(),this.worldCOM=ir(),this.rotation=jp(),this.mvpMatrix=Jo(),this.worldMatrixVersion=0,this.comWorldMatrixVersion=0,this.shouldUpdateLocalMatrix=!0,this.key=t.o.key()}getMVPMatrix(t){return jl(this.mvpMatrix,t._getVPMatrix(),this.getWorldMatrix())}getWorldMatrix(){const{set:t}=this;this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,lD(this.localMatrix,this.rotation,this.position,this.parentScale),this.worldMatrixVersion=0);const n=t.node;return this.worldMatrixVersion!==n._worldMatrixVersion&&(this.worldMatrixVersion=n._worldMatrixVersion,jl(this.worldMatrix,n._getWorldMatrix(),this.localMatrix)),this.worldMatrix}getWorldCOM(){const t=this.set.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Ic(this.worldCOM,this.position,t._getWorldMatrix()),a0(this.worldCOM,this.getWorldMatrix())),this.worldCOM}getVAO(){return fJ}getRenderTech(){return this.set.material._getMeshRenderTech()}getWorldNormalMatrix(){return oJ}isMirrored(){return!1}_onAttached(){this.worldMatrixVersion=0,this.comWorldMatrixVersion=0}_updateLocalMatrix(){this.shouldUpdateLocalMatrix=!0}}class Lh{constructor(t,n){this.o=t,this.node=null,this.visible=!0,t.movables.set(this.key=t.key(),this),this.name=n?.name??""}destroy(){this.detach(),this.o.movables.delete(this.key)}setVisible(t){return this.visible=t,this}detach(){const t=this.node;return t?(t.movables=t.movables.filter(n=>n!==this),this.node=null,this):this}}class gJ extends Lh{constructor(t,n){super(t,n),this.commonScale=di(1,1,1),this.type=EZ,this.material=null,this.billboards=[],t.billboardSets.set(this.key,this)}destroy(){super.destroy(),this.o.billboardSets.delete(this.key)}createBillboard(t,n,r){const o=new pJ(this,di(t,n,r),this.commonScale);return this.billboards.push(o),o}setCommonDirection(t,n,r){return this}setCommonUpVector(t,n,r){return this}setDimensions(t,n){Wa(this.commonScale,t,n,1);for(const r of this.billboards)r._updateLocalMatrix();return this}setType(t){if(t!==TZ)throw Error(`billboardSet_SetBillboardType: тип ${t} не реализован`);return this.type=t,this}setMaterial(t){if(this.material!==t){this.material=t;for(const n of this.billboards)n._techOrVAOChanged()}return this}_onAttached(){for(const t of this.billboards)t._onAttached()}_setup(t){const{material:n}=this;if(!n)return;const r=n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements;for(const o of this.billboards)r.add(o)}}const xD=new Map;class mJ{constructor(t){this.info=t,this.texture=null,this.image=null,this.loadImage()}loadImage(){if(this.image)return this.image;const t=Xi(this.info.src),n=xD.get(t);if(n)return this.image=n;const r=new Image;return r.crossOrigin="",r.src=t,xD.set(t,r),this.image=r}getTexture(){return this.texture||(this.image||(this.image=this.loadImage()),this.texture=new nJ(this.image)),this.texture}}const vy=ir();class _D{constructor(t,n){this.center=t,this.sqrRadius=n*n}intersectsWith(t){const{center:n}=this;if(l0(n,t.origin)<=this.sqrRadius)return!0;Bp(vy,n,t.origin);const r=Rc(vy,t.dir),o=Rc(vy,vy)-r*r;if(o>this.sqrRadius)return!1;const i=Math.sqrt(this.sqrRadius-o);return r+i>=0}}class vJ{constructor(t,n,r){this.parent=t,this.data=n,this.indexOffset=r,this.material=null,this.vao=null,this.materialFound=!1,this.materialName=n.material||"",this.useSharedGeometry=n.useSharedGeometry||!1;const o=n.useSharedGeometry?t.data.sharedGeometry:n.geometry;if(!o)throw Error("Mesh не имеет геометрии");if(o.length>1)throw Error("Mesh с несколькими VertexBuffer не реализованы");const[i]=o;if(!i.positions)throw Error("Mesh без Positions не поддерживается");this.vBufferData=i;const{maxX:s,maxY:a,maxZ:c,minX:u,minY:h,minZ:f}=n.extrema||i.positions.extrema,g=(s+u)/2,m=(a+h)/2,y=(c+f)/2;this.center=di(g,m,y);const b=Math.max(s-u,a-h,c-f)/2;this.boundingSphere=new _D(this.center,b)}getCOM(){return this.center}getVertexCount(){return this.vBufferData.vertexCount}getDefaultMaterial(){if(this.materialFound)return this.material;if(this.materialFound=!0,!this.materialName)return null;const t=this.parent.o.materialByName.get(this.materialName)??null;if(!t){const n=this.parent.submeshes.indexOf(this);console.warn(`Ogre: ${this.parent.meta}[${n}]: материал '${this.materialName}' не существует`)}return this.material=t}getVAO(){if(this.vao)return this.vao;if(this.useSharedGeometry){const a=this.indexOffset;let c=this.data.indices.length;return this.vao=new ZZ(this.parent._getSharedVAO(),a,c)}const{vBufferData:t,data:n}=this,r=new Float32Array(t.positions.coords),o=t.normals?.length?new Float32Array(t.normals):null,i=t.uvs?.length?new Float32Array(t.uvs[0]):null,s=new(n.useIndices32?Uint32Array:Uint16Array)(n.indices);return this.vao=new Ah({positionSize:3,positions:r,uvs:i,normals:o,indices:s})}getClosestIntersection(t){return this.boundingSphere.intersectsWith(t)?cJ(t,this.vBufferData.positions.coords,this.data.indices):1/0}}class yJ{constructor(t,n){this.o=t,this.data=n,this.sharedVAO=null;let r=0;this.submeshes=n.submeshes.map(o=>{const i=new vJ(this,o,r);return r+=o.indices.length,i})}_getSharedVAO(){if(this.sharedVAO)return this.sharedVAO;const[t]=this.data.sharedGeometry;let n=!1,r=0;this.data.submeshes.forEach(u=>{u.useIndices32&&(n=!0),r+=u.indices.length});const o=new(n?Uint32Array:Uint16Array)(r);let i=0;this.data.submeshes.forEach(u=>{o.set(u.indices,i),i+=u.indices.length});const s=new Float32Array(t.positions.coords),a=t.normals?.length?new Float32Array(t.normals):null,c=t.uvs?.length?new Float32Array(t.uvs[0]):null;return this.sharedVAO=new Ah({positionSize:3,positions:s,uvs:c,normals:a,indices:o})}}class bJ extends Lh{constructor(t,n){super(t,n),t.lights.set(this.key,this)}destroy(){super.destroy(),this.o.lights.delete(this.key)}_onAttached(){}_setup(t){t.globalLight=this}}class wJ{constructor(t,n=""){this.pass=t,this.name=n,this.texture=null,this.imageNameUC=null,this.imageFound=!1,t.tech.mat.o.texUnits.set(this.key=t.tech.mat.o.key(),this)}setTexture(t,n){if(n!==aZ)throw Error("textureUnitState_SetTexture: Используемый тип текстуры не поддерживается");return this.texture=t?.getTexture()||null,this}setTextureName(t){return this.imageNameUC=t.toUpperCase(),this}getTexture(){return this.imageFound||this.texture?this.texture:(this.imageFound=!0,this.imageNameUC?this.texture=this.pass.tech.mat.o.imageResByNameUC.get(this.imageNameUC)?.getTexture()||null:null)}}class SJ{constructor(t){this.tech=t,this.textures=[],this.ambient=di(1,1,1),this.diffuse=Fp(1,1,1,1),this.specular=Fp(0,0,0,1),this.emissive=di(0,0,0),this.shininess=0,this.lightingEnabled=!0,this.shadingMode=Vp,this.depthCheck=!0,this.depthWrite=!0,this._glBlendSFactor=WebGLRenderingContext.ONE,this._glBlendDFactor=WebGLRenderingContext.ZERO,this._version=0,t.mat.o.passes.set(this.key=t.mat.o.key(),this)}_getDefaultTextureUnit(){const{textures:t}=this;return t.length?t[0]:null}createTextureUnit(t){const n=new wJ(this,t);return this.textures.push(n),n}setLightingEnabled(t){return this.lightingEnabled=t,this}setAmbient(t,n,r){return Wa(this.ambient,t,n,r),this}setDiffuse(t,n,r,o){return c0(this.diffuse,t,n,r,o),this}setSpecular(t,n,r,o){return c0(this.specular,t,n,r,o),this}setEmissive(t,n,r){return Wa(this.emissive,t,n,r),this}setShininess(t){return this.shininess=t,this}setShadingMode(t){return this.shadingMode=t,this}setDepthCheckEnabled(t){return this.depthCheck=t,this}setDepthWriteEnabled(t){return this.depthWrite=t,this}setSceneBlending(t,n){return this._glBlendSFactor=CD(t)||WebGLRenderingContext.ONE,this._glBlendDFactor=CD(n)||WebGLRenderingContext.ZERO,this}}class CJ{constructor(t){this.mat=t,t.o.techniques.set(this.key=t.o.key(),this),this.passes=[new SJ(this)]}pass(t){return t>=0&&t<this.passes.length?this.passes[t]:null}}class xJ{constructor(t,n){this.o=t,this.name=n,this.meshRenderTech=null,this.panelOverlayRenderTech=null,t.materialByKey.set(this.key=t.key(),this),t.materialByName.has(n)||t.materialByName.set(n,this),this.techs=[new CJ(this)]}tech(t){return t>=0&&t<this.techs.length?this.techs[t]:null}_getMeshRenderTech(){return this.meshRenderTech||(this.meshRenderTech=new zZ(this)),this.meshRenderTech}_getPanelOverlayRenderTech(){return this.panelOverlayRenderTech||(this.panelOverlayRenderTech=new UZ(this)),this.panelOverlayRenderTech}}const Nh=Jo();class _J extends my{constructor(t,n,r,o,i){super(),this.text=t,this.renderTech=n,this.vao=r,this.width=o,this.height=i,this.mvpMatrix=Jo(),this.worldCOM=ir(),this.comWorldMatrixVersion=1}getMVPMatrix(t){const{node:n,charHeight:r}=this.text,o=jl(this.mvpMatrix,t._getViewMatrix(),n._getWorldMatrix()),i=Math.hypot(o[0],o[1],o[2])*r,s=Math.hypot(o[4],o[5],o[6])*r,a=-this.width*i,c=this.height*s;return Nh[0]=i,Nh[5]=s,Nh[12]=o[12]+a,Nh[13]=o[13]+c,Nh[14]=o[14],jl(this.mvpMatrix,t._getProjectionMatrix(),Nh)}getWorldCOM(){const t=this.text.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,a0(this.worldCOM,t._getWorldMatrix())),this.worldCOM}getVAO(){return this.vao}getRenderTech(){return this.renderTech}getWorldMatrix(){throw new Error("Method not implemented.")}getWorldNormalMatrix(){throw new Error("Method not implemented.")}isMirrored(){return!1}_onAttached(){this.comWorldMatrixVersion=1}}class EJ extends Lh{constructor(t,n,r){super(t,r),this.textElement=null,this.textElementCreated=!1,this.color=Fp(1,1,1,1),this.charHeight=1,t.movableTexts.set(this.key,this),this.caption=n,this.fontName=r?.fontName||""}destroy(){super.destroy(),this.o.movableTexts.delete(this.key)}setCharHeight(t){return this.charHeight=t,this}_onAttached(){this.textElement?._onAttached()}_setup(t){if(!this.textElementCreated&&(this.textElementCreated=!0,this.caption)){const r=this.o._getFontTexture(this.fontName),{vao:o,width:i,height:s}=vD(r.glyphData,this.caption);if(o){const a=new HZ(r,this);this.textElement=new _J(this,a,o,i,s)}}const{textElement:n}=this;n&&t.textElements.add(n)}}class TJ{constructor(t,n=""){this.o=t,this.name=n,this.children=[],this.visible=!1,this.scaleX=1,this.scaleY=1,this.z=0,t.overlays.set(this.key=t.key(),this)}setChildren(t){return this.children.forEach(n=>n.overlay=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>{n.overlay=this,n.parent&&(console.warn("OverlayElement has parent"),n.parent=null)}),this}setZ(t){return this.z=t,this.o.overlayQueue=null,this}setScale(t,n){return this.scaleX=t,this.scaleY=n,this}setVisible(t){return this.visible=t,this.o.overlayQueue=null,this}render(t){const{ctx:n}=t.window,{drawingBufferWidth:r,drawingBufferHeight:o}=n.gl;this.children.forEach(i=>i.drawAt(n,0,0,1,1,r,o))}}class MJ{constructor(t,n){this.window=t,this.bg=di(.2,.2,.2),this.overlaysEnabled=!0,t.o.viewports.set(this.key=t.o.key(),this),this.camera=n,n._setViewport(this)}setCamera(t){return this.camera!==t&&(this.camera._setViewport(null),this.camera=t._setViewport(this)),this}enableOverlays(t){return this.overlaysEnabled=t,this}setBackground(t,n,r){return Wa(this.bg,t,n,r),this}}class OJ{constructor(t,n,r){this.o=t,this.viewports=new Set,this.x=0,this.y=0,this.width=0,this.height=0,this.wheelPosition=0,this.buttonsPressed=[!1,!1,!1,!1],this.mainViewport=null,t.windows.set(this.key=t.key(),this);const o=this.domElement=document.createElement("canvas");this.width=o.width=n,this.height=o.height=r,o.setAttribute("data-render-window-key",this.key.toString());const i=o.getContext("webgl",{alpha:!1,depth:!0,antialias:!0,desynchronized:!1});this.ctx=new YZ(i)}close(){this.o.windows.delete(this.key)}createViewport(t,n){const r=new MJ(this,t);if(this.viewports.size)throw Error("Создание нескольких Viewport не реализовано");return this.mainViewport=r,this.viewports.add(r),r}render(t){const{ctx:n}=this,{gl:r}=n;this.viewports.forEach(o=>{const{camera:i}=o;i._updateActualAspect();const{scene:s}=i,{globalLight:a,opaqueElements:c,textElements:u,transparentElements:h}=s._setup(t);if(n.reset(),r.clearColor(...o.bg,1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),n.setLighting(s.ambient,a?.node.getWorldPosition()||bD),r.enable(r.DEPTH_TEST),c.render(n,i),r.enable(r.BLEND),h.render(n,i),r.disable(r.DEPTH_TEST),n.useBackFaces(!1),u.render(n,i),o.overlaysEnabled){let f;(f=this.o.overlayQueue)||(f=this.o.overlayQueue=[...this.o.overlays.values()].filter(g=>g.visible).sort((g,m)=>g.z-m.z)),f.forEach(g=>g.render(o))}r.disable(r.BLEND)})}}const ED=ir(),TD=ir(),MD=ir();class RJ extends Lh{constructor(t,n){super(t.o,n),this.scene=t,this.projectionMatrix=Jo(),this.vpMatrix=Jo(),this.inverseVPMatrix=Jo(),this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.vpWorldMatrixVersion=1,this.shouldUpdateInverseVPMatrix=!0,this.inverseVPWorldMatrixVersion=1,this.viewportAspect=10,this.viewport=null,this.nearDist=1,this.farDist=1e3,this.fov=Math.PI/4,this.aspect=1.3333333333333333,this.autoAspect=!0,t.o.cameras.set(this.key,this),n&&this.set(n)}destroy(){super.destroy(),this.o.cameras.delete(this.key)}useViewportAspect(){return!!this.viewport&&this.autoAspect}_setViewport(t){return this.viewport=t,this}set({farDist:t=this.farDist,fov:n=this.fov,nearDist:r=this.nearDist,aspect:o=this.aspect}){return(this.farDist!==t||this.fov!==n||this.nearDist!==r||this.aspect!==o&&!this.useViewportAspect())&&(this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.shouldUpdateInverseVPMatrix=!0),this.farDist=t,this.fov=n,this.nearDist=r,this.aspect=o,this}_updateActualAspect(){if(!this.autoAspect)return;const{domElement:t}=this.viewport.window,n=t.width/t.height;this.viewportAspect!==n&&(this.viewportAspect=n,this.shouldUpdateProjectionMatrix=!0)}_getViewMatrix(){return this.node?._getInverseWorldMatrix()||rJ}_getProjectionMatrix(){return this.shouldUpdateProjectionMatrix&&(this.shouldUpdateProjectionMatrix=!1,NX(this.projectionMatrix,this.fov,this.useViewportAspect()?this.viewportAspect:this.aspect,this.nearDist,this.farDist)),this.projectionMatrix}_getVPMatrix(){const{node:t}=this;return t?((this.shouldUpdateVPMatrix||this.vpWorldMatrixVersion!==t._worldMatrixVersion)&&(this.shouldUpdateVPMatrix=!1,this.vpWorldMatrixVersion=t._worldMatrixVersion,jl(this.vpMatrix,this._getProjectionMatrix(),this._getViewMatrix())),this.vpMatrix):this._getProjectionMatrix()}_getInverseVPMatrix(){const{node:t}=this,n=t?t._worldMatrixVersion:1;return(this.shouldUpdateInverseVPMatrix||this.inverseVPWorldMatrixVersion!==n)&&(this.shouldUpdateInverseVPMatrix=!1,this.inverseVPWorldMatrixVersion=n,sD(this.inverseVPMatrix,this._getVPMatrix())),this.inverseVPMatrix}getRay(t,n,r){const o=this._getInverseVPMatrix(),i=2*t-1,s=1-2*n;return Wa(ED,i,s,-1),Ic(r.origin,ED,o),Wa(TD,i,s,0),Ic(MD,TD,o),Bp(r.dir,MD,r.origin),cy(r.dir,r.dir),r}_onAttached(){this.vpWorldMatrixVersion=1,this.inverseVPWorldMatrixVersion=1}_setup(){}}class IJ extends my{constructor(t,n){super(),this.entity=t,this.submesh=n,this.worldCOM=ir(),this.comWorldMatrixVersion=0,this.material=null,this.vertexCount=n.getVertexCount(),this.material=n.getDefaultMaterial()}setMaterial(t){return this.material!==t&&(this.material=t,this._techOrVAOChanged()),this}_setup(t){const{material:n}=this;n&&(n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}getWorldMatrix(){return this.entity.node._getWorldMatrix()}getWorldNormalMatrix(){return this.entity._getWorldNormalMatrix()}getWorldCOM(){const t=this.entity.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Ic(this.worldCOM,this.submesh.getCOM(),t._getWorldMatrix())),this.worldCOM}getVAO(){return this.submesh.getVAO()}getRenderTech(){return this.material._getMeshRenderTech()}isMirrored(){return this.entity.node._isMirrored()}getMVPMatrix(t){return this.entity._getMVPMatrix(t)}_onAttached(){this.comWorldMatrixVersion=0}}const OD=Jo();class RD extends Lh{constructor(t,{submeshes:n},r){super(t.o,r),this.scene=t,this.mvpMatrix=Jo(),this.worldNormalMatrix=ly(),this.normalWorldMatrixVersion=1,t.o.entities.set(this.key,this),this.subEntities=n.map(o=>new IJ(this,o))}destroy(){super.destroy(),this.o.entities.delete(this.key)}subEntity(t){return t>=0&&t<this.subEntities.length?this.subEntities[t]:null}_getMVPMatrix(t){return jl(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,iD(OD,t._getInverseWorldMatrix()),oD(this.worldNormalMatrix,OD)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const{submesh:r}of this.subEntities){const o=r.getClosestIntersection(t);n>o&&(n=o)}return n}_onAttached(){this.normalWorldMatrixVersion=1;for(const t of this.subEntities)t._onAttached()}_setup(t){for(const n of this.subEntities)n._setup(t)}}class PJ extends Hp{selectProgram(t){return t.meshPrograms[0]}apply(t){const{ctx:n}=t;n.setDepthWrite(!0),n.setDepthCheck(!0),t.setDiffuse(aJ),t.setAmbient(sJ)}hasOpacity(){return!1}getProgramCaps(){return Dh[0]}}const kJ=new PJ;class DJ extends my{constructor(t,n,r){super(),this.object=t,this.drawType=n,this.worldCOM=ir(),this.comWorldMatrixVersion=0,this.coords=[],this.normals=[],this.isComplete=!1,this.vao=null,this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0,this.minZ=1/0,this.maxZ=-1/0,this.center=null,this.boundingSphere=null,this.vertexCount=0,this.renderTech=r?._getMeshRenderTech()||kJ}addVertex(t,n,r){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t),this.minY=Math.min(this.minY,n),this.maxY=Math.max(this.maxY,n),this.minZ=Math.min(this.minZ,r),this.maxZ=Math.max(this.maxZ,r),this.coords.push(t,n,r),++this.vertexCount}addNormal(t,n,r){this.normals.push(t,n,r)}end(){this.isComplete=!0;const{maxX:t,maxY:n,maxZ:r,minX:o,minY:i,minZ:s}=this,a=(t+o)/2,c=(n+i)/2,u=(r+s)/2;this.center=di(a,c,u);const h=Math.max(t-o,n-i,r-s)/2;this.boundingSphere=new _D(this.center,h)}getWorldMatrix(){return this.object.node._getWorldMatrix()}getWorldNormalMatrix(){return this.object._getWorldNormalMatrix()}getWorldCOM(){const t=this.object.node;return t?(this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Ic(this.worldCOM,this.center,t._getWorldMatrix())),this.worldCOM):bD}getVAO(){return this.vao?this.vao:this.vao=new Ah({positionSize:3,positions:new Float32Array(this.coords),normals:this.normals.length?new Float32Array(this.normals):null,drawMode:hJ(this.drawType)})}getRenderTech(){return this.renderTech}isMirrored(){return this.object.node._isMirrored()}getMVPMatrix(t){return this.object._getMVPMatrix(t)}getClosestIntersection(t){return this.drawType!==dD||!this.isComplete||!this.boundingSphere.intersectsWith(t)?1/0:lJ(t,this.coords)}_setup(t){this.isComplete&&(this.renderTech.hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}_onAttached(){this.comWorldMatrixVersion=0}}const ID=Jo();class PD extends Lh{constructor(t,n){super(t.o,n),this.scene=t,this.mvpMatrix=Jo(),this.worldNormalMatrix=ly(),this.normalWorldMatrixVersion=0,this.sections=[],t.o.manualObjects.set(this.key,this)}destroy(){super.destroy(),this.o.manualObjects.delete(this.key)}createSection(t,n){const r=new DJ(this,t,n);return this.sections.push(r),r}clear(){this.sections=[]}_getMVPMatrix(t){return jl(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,iD(ID,t._getInverseWorldMatrix()),oD(this.worldNormalMatrix,ID)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const r of this.sections){const o=r.getClosestIntersection(t);n>o&&(n=o)}return n}_onAttached(){this.normalWorldMatrixVersion=0;for(const t of this.sections)t._onAttached()}_setup(t){for(const n of this.sections)n._setup(t)}}class AJ{constructor(t){this.entries=t,this.length=t.length}getEntry(t){const{entries:n}=this;return t>=0&&t<n.length?n[t]:null}sort(){this.entries.sort((t,n)=>t.distance-n.distance)}}class LJ{constructor(t,n){this.scene=t,this.localMatrix=Jo(),this.worldMatrix=Jo(),this.inverseWorldMatrix=Jo(),this.worldPosition=ir(),this.worldRotation=jp(),this.worldScale=di(1,1,1),this.mirrored=!1,this.shouldUpdateLocalMatrix=!1,this.shouldUpdateWorldMatrix=!1,this.shouldUpdateInverseWorldMatrix=!1,this.shouldUpdateMirroredInfo=!1,this.shouldUpdateWorldPosition=!1,this.shouldUpdateWorldRotation=!1,this.shouldUpdateWorldScale=!1,this.position=ir(),this.scale=di(1,1,1),this.rotation=jp(),this._worldMatrixVersion=1,this.children=[],this.parent=null,t.o.nodes.set(this.key=t.o.key(),this),this.name=n?.name??""}destroy(){this.children.forEach(t=>{t.parent=null,t.updateWorldMatrixRecursive()}),this.removeParent(),this.scene.o.nodes.delete(this.key)}getChild(t){const{children:n}=this;return t>=0&&t<n.length?n[t]:null}addChild(t){const n=t.parent;if(n){if(n===this)return this;let r=this.parent;for(;r;){if(r===t)throw Error("SceneNode.addChild: child является родительским узлом текущего узла");r=r.parent}}if(t===this)throw Error("SceneNode.addChild: child является текущим узлом");if(t.scene!==this.scene)throw Error("SceneNode.addChild: child принадлежит другой сцене");return t.removeParent(),this.children.push(t),t.parent=this,t.updateWorldMatrixRecursive(),this}updateWorldMatrixRecursive(){if(!this.shouldUpdateWorldMatrix){this.shouldUpdateWorldMatrix=!0,++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldPosition=!0,this.shouldUpdateWorldRotation=!0,this.shouldUpdateWorldScale=!0;for(const t of this.children)t.updateWorldMatrixRecursive()}}updateLocalMatrix(){this.shouldUpdateLocalMatrix||(this.shouldUpdateLocalMatrix=!0,this.updateWorldMatrixRecursive())}updateChildrenMirroredInfoRecursive(){if(!this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!0;for(const t of this.children)t.updateChildrenMirroredInfoRecursive()}}updateMirroredInfo(){if(this.shouldUpdateMirroredInfo)return;const{scale:t}=this;if(this.mirrored!==Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0){this.shouldUpdateMirroredInfo=!0;for(const n of this.children)n.updateChildrenMirroredInfoRecursive()}}removeParent(){const t=this.parent;return t?(t.children=t.children.filter(n=>n!==this),this.parent=null,this):this}setPosition(t,n,r){return Wa(this.position,t,n,r),this.updateLocalMatrix(),this}setRotation(t,n,r,o){return d0(this.rotation,oZ(this.rotation,t,n,r,o)),this.updateLocalMatrix(),this}resetRotation(){return JX(this.rotation),this.updateLocalMatrix(),this}rotateX(t){return eZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateY(t){return tZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateZ(t){return nZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}setScale(t,n,r){return Wa(this.scale,t,n,r),this.updateLocalMatrix(),this.updateMirroredInfo(),this}_getWorldMatrixForRotation(){++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldRotation=!0;for(const t of this.children)t.updateWorldMatrixRecursive();return this.worldMatrix}_getWorldMatrix(){return this.shouldUpdateWorldMatrix&&(this.shouldUpdateWorldMatrix=!1,this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,lD(this.localMatrix,this.rotation,this.position,this.scale)),this.parent?jl(this.worldMatrix,this.parent._getWorldMatrix(),this.localMatrix):IX(this.worldMatrix,this.localMatrix)),this.worldMatrix}_getInverseWorldMatrix(){return this.shouldUpdateInverseWorldMatrix&&(this.shouldUpdateInverseWorldMatrix=!1,sD(this.inverseWorldMatrix,this._getWorldMatrix())),this.inverseWorldMatrix}_isMirrored(){if(this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!1;const{scale:t}=this;this.mirrored=Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0,this.parent?._isMirrored()&&(this.mirrored=!this.mirrored)}return this.mirrored}getWorldPosition(){return this.shouldUpdateWorldPosition&&(this.shouldUpdateWorldPosition=!1,a0(this.worldPosition,this._getWorldMatrix())),this.worldPosition}getWorldRotation(){return this.shouldUpdateWorldRotation&&(this.shouldUpdateWorldRotation=!1,AX(this.worldRotation,this._getWorldMatrix())),this.worldRotation}getWorldScale(){return this.shouldUpdateWorldScale&&(this.shouldUpdateWorldScale=!1,aD(this.worldScale,this._getWorldMatrix())),this.worldScale}}const C0=ir(),kD=ir(),NJ=ir(),yy=S0(),Gp=ir();class DD extends LJ{constructor(t,n){super(t,n),this.trackingInfo=null,this.movables=[],t.o.sceneNodes.set(this.key,this)}destroy(){super.destroy(),this.movables.forEach(t=>t.node=null),this.scene.o.sceneNodes.delete(this.key)}getMovable(t){const{movables:n}=this;return t>=0&&t<n.length?n[t]:null}attach(t){const n=t.node;if(n){if(n===this)return this;t.detach()}return this.movables.push(t),t.node=this,t._onAttached(this),this}setAutoTracking(t,n,r,o){if(!t)return this.trackingInfo=null,this;let i,s;const{trackingInfo:a}=this;if(a){if(i=a.direction,s=a.orientationMat,a.target===t&&i[0]===n&&i[1]===r&&i[2]===o)return this;Wa(i,n,r,o)}else i=di(n,r,o),s=Jo();cy(C0,i);const c=WX(C0,wD);return kh(kD,C0,wD),DX(s,c,kD),this.trackingInfo={target:t,direction:i,orientationMat:s},this}updateTracking(){const{parent:t,trackingInfo:n}=this;if(!n||!t)return;const r=this.getWorldScale(),o=this._getWorldMatrixForRotation();BX(o,this.getWorldPosition(),n.target.getWorldPosition(),Ic(NJ,iJ,t._getWorldMatrix())),jl(o,o,n.orientationMat),kX(o,o,r)}_setup(t){this.updateTracking();for(const n of this.movables)n.visible&&n._setup(t);for(const n of this.children)n._setup(t)}_findIntersections(t,n){let r=!1;for(const o of this.movables){if(!(o instanceof RD||o instanceof PD))continue;r||(r=!0,dJ(yy,t,this._getInverseWorldMatrix()));const i=o._getClosestIntersection(yy);if(i<1/0){jX(Gp,yy.origin,zX(Gp,yy.dir,i)),Ic(Gp,Gp,this._getWorldMatrix());const s=qX(t.origin,Gp);n.push({movable:o,distance:s})}}for(const o of this.children)o._findIntersections(t,n)}}class BJ{constructor(t){this.o=t,this.renderInfo={globalLight:null,opaqueElements:new tJ,transparentElements:new yD,textElements:new yD},this.frameNumber=0,this.ambient=ir(),t.scenes.set(this.key=t.key(),this),this.root=new DD(this)}setAmbient(t,n,r){return Wa(this.ambient,t,n,r),this}createSceneNode(t){return new DD(this,t)}createCamera(t){return new RJ(this,t)}createEntity(t,n){return new RD(this,t,n)}createManualObject(t){return new PD(this,t)}_setup(t){if(this.frameNumber===t)return this.renderInfo;this.frameNumber=t;const{renderInfo:n}=this;return n.globalLight=null,n.opaqueElements.clear(),n.transparentElements.clear(),n.textElements.clear(),this.root._setup(n),n}rayCast(t){const n=[];return this.root._findIntersections(t,n),new AJ(n)}}class FJ{constructor(){this.windows=new Map,this.scenes=new Map,this.viewports=new Map,this.overlays=new Map,this.overlayElements=new Map,this.entities=new Map,this.manualObjects=new Map,this.nodes=new Map,this.sceneNodes=new Map,this.movables=new Map,this.cameras=new Map,this.billboardSets=new Map,this.lights=new Map,this.movableTexts=new Map,this.materialByKey=new Map,this.materialByName=new Map,this.techniques=new Map,this.passes=new Map,this.texUnits=new Map,this.imageResByNameUC=new Map,this.meshResByNameUC=new Map,this.primaryWindow=null,this.overlayQueue=null,this.fontMap=new Map,this.globalKey=1e3,this.drawNumber=0}_getFontTexture(t){const n=t||"sans-serif",r=n.toUpperCase(),o=this.fontMap.get(r);if(o)return o;const i=new KZ(n);return this.fontMap.set(r,i),i}key(){return++this.globalKey}createRenderWindow(t,n){const r=new OJ(this,t,n);return this.primaryWindow||=r,r}createScene(){return new BJ(this)}createMovableText(t,n){return new EJ(this,t,n)}createLight(t){return new bJ(this,t)}createBillboardSet(t){return new gJ(this,t)}createMaterial(t){return new xJ(this,t)}createOverlayElement(t,n){switch(t){case"Panel":return new JZ(this,n);case"BorderPanel":return new QZ(this,n);case"TextArea":return new eJ(this,n);default:throw Error(`createOverlayElement: тип '${t}' не реализован`)}}createOverlay(t){return new TJ(this,t)}createMesh(t,n){const r=new yJ(this,t);return this.meshResByNameUC.set(n.toUpperCase(),r),r}createImage(t,n){const r=new mJ(t);return this.imageResByNameUC.set(n.toUpperCase(),r),r}renderAll(){const t=++this.drawNumber;this.windows.forEach(n=>n.render(t))}}const AD=new Set;function Cn(...e){AD.size!==AD.add(e[0]).size&&console.warn(...e)}function jJ(e,t,n,r,o){if(!this.kernel.egor.scenes.get(e))return 0;const s=this.kernel.egor.manualObjects.get(t);if(!s)return 0;const a=s.sections[0];return a.addVertex(n,r,o),a.vertexCount}function VJ(e,t,n,r,...o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function $J(e,t,n,r,...o){throw Cn("ApplyTexture3d",e,t,n,r,o),Error("ApplyTexture3d: Функция не реализована")}function zJ(e,t,n,r,o,i){if(!this.kernel.egor.scenes.get(e))return 0;const a=this.kernel.egor.cameras.get(t);return a?this.kernel.egor.createRenderWindow(1e3,1e3).createViewport(a).key:0}function UJ(e,t,n,r,o,i,s,a,c,u,h,f,g){const m=this.kernel.egor.scenes.get(e);return m?m.createCamera().key:0}function HJ(e,t){throw Cn("CreateDefCamera3d",e,t),Error("CreateDefCamera3d: Функция не реализована")}function GJ(e,t,n,r,o,i,s,a,c,u){throw Cn("CreateMaterial3d",e,t,n,r,o,i,s,a,c,u),Error("CreateMaterial3d: Функция не реализована")}function WJ(e){const t=this.kernel.egor.scenes.get(e);if(!t)return 0;const n=t.createManualObject();return n.createSection(dD,null),n.key}function KJ(e,t){throw Cn("CreateObjectFromFile3d",e,t),Error("CreateObjectFromFile3d: Функция не реализована")}function qJ(e){return this.kernel.egor.createScene().key}function YJ(e,t,n,r,o,i){throw Cn("CreateSurface3d",e,t,n,r,o,i),Error("CreateSurface3d: Функция не реализована")}function XJ(e,t,n){throw Cn("DelPoint3d",e,t,n),Error("DelPoint3d: Функция не реализована")}function ZJ(e,t,n){throw Cn("DelPrimitive3d",e,t,n),Error("DelPrimitive3d: Функция не реализована")}function JJ(e){throw Cn("DeleteSpace3d",e),Error("DeleteSpace3d: Функция не реализована")}function QJ(e,t){throw Cn("DuplicateObject3d",e,t),Error("DuplicateObject3d: Функция не реализована")}function eQ(e,t,n,r){throw Cn("FitToCamera3d",e,t,n,r),Error("FitToCamera3d: Функция не реализована")}function tQ(e,t){throw Cn("GetActiveCamera3d",e,t),Error("getActiveCamera3d: Функция не реализована")}function nQ(e,t,n,r,o){throw Cn("GetColors3d",e,t,n,r,o),Error("GetColors3d: Функция не реализована")}function rQ(e,t){throw Cn("GetMaterialByName3d",e,t),Error("GetMaterialByName3d: Функция не реализована")}function oQ(e,t){throw Cn("GetNumPoints3d",e,t),Error("GetNumPoints3d: Функция не реализована")}function iQ(e,t){throw Cn("GetNumPrimitives3d",e,t),Error("GetNumPrimitives3d: Функция не реализована")}function sQ(e,t,n,r,o,i,s,a){throw Cn("GetObject3dFromPoint2d",e,t,n,r,i,a),Error("GetObject3dFromPoint2d: Функция не реализована")}function aQ(e,t,n,r,o,i,s,a){throw Cn("GetObjectBase3d",e,t,r,i,a),Error("GetObjectBase3d: Функция не реализована")}function lQ(e,t,n){throw Cn("GetObjectBase3dM",e,t,n),Error("GetObjectBase3dM: Функция не реализована")}function cQ(e,t){throw Cn("GetObjectColor3d",e,t),Error("GetObjectColor3d: Функция не реализована")}function uQ(e,t,n){throw Cn("GetObjectDimension3d",e,t,n),Error("GetObjectDimension3d: Функция не реализована")}function dQ(e,t,n){return n}function hQ(e,t,n){throw Cn("GetObjectPoints3d",e,t,n),Error("GetObjectPoints3d: Функция не реализована")}function fQ(e,t,n,r,o,i,s,a,c){throw Cn("GetPoint3d",e,t,n,o,s,c),Error("GetPoint3d: Функция не реализована")}function pQ(e,t){throw Cn("GetSpace3d",e,t),Error("getSpace3d: Функция не реализована")}function gQ(e,t,n,r,o){const i=this.kernel.egor.scenes.get(e);return i?i.createManualObject().key:0}function mQ(e,t,n,r,o,i,s,a){throw Cn("MakeCylinder3d",e,t,n,r,o,i,s,a),Error("MakeCylinder3d: Функция не реализована")}function vQ(e,t,n,r,o,i){throw Cn("MakeGrid3d",e,t,n,r,o,i),Error("MakeGrid3d: Функция не реализована")}function yQ(e,t,n,r,o,i){throw Cn("MakeSphere3d",e,t,n,r,o,i),Error("MakeSphere3d: Функция не реализована")}function bQ(){Cn("MakeTore3d")}function wQ(e,t,n,r,o,i,s,a){throw Cn("MakeTube3d",e,t,n,r,o,i,s,a),Error("MakeTube3d: Функция не реализована")}function SQ(e){throw Cn("PopCrdSystem3d",e),Error("PopCrdSystem3d: Функция не реализована")}function CQ(e){throw Cn("PushCrdSystem3d",e),Error("PushCrdSystem3d: Функция не реализована")}function xQ(e,t){throw Cn("RemoveTexture3d",e,t),Error("RemoveTexture3d: Функция не реализована")}function _Q(e,t,n,r){throw Cn("RotateObject3d",e,t,n,r),Error("RotateObject3d: Функция не реализована")}function EQ(e,t,n,r){throw Cn("RotateObjectPoints3d",e,t,n,r),Error("RotateObjectPoints3d: Функция не реализована")}function TQ(e,t){throw Cn("SelectLocalCrd3d",e,t),Error("SelectLocalCrd3d: Функция не реализована")}function MQ(e,t){throw Cn("SelectViewCrd3d",e,t),Error("SelectViewCrd3d: Функция не реализована")}function OQ(e){throw Cn("SelectWorldCrd3d",e),Error("SelectWorldCrd3d: Функция не реализована")}function RQ(e,t,n,r,o){throw Cn("SetColors3d",e,t,n,r,o),Error("SetColors3d: Функция не реализована")}function IQ(e,t,n,r,o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function PQ(e,t,n){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function kQ(e,t,n){throw Cn("SetObjectMatrix3d",e,t,n),Error("SetObjectMatrix3d: Функция не реализована")}function DQ(e,t,n){throw Cn("SetObjectPoints3d",e,t,n),Error("SetObjectPoints3d: Функция не реализована")}function AQ(e,t,n,r,o,i){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function LQ(e,t,n,r,o,...i){return 1}function NQ(e,t,n,r,o,i,s,a,c,u,h){throw Cn("SweepAndExtrude3d",e,t,n,r,o,i,s,a,c,u,h),Error("SweepAndExtrude3d: Функция не реализована")}function BQ(){Cn("SwitchToCamera3d")}function FQ(e,t,n,r,o,i){throw Cn("TransformCamera3d",e,t,n,r,o,i),Error("TransformCamera3d: Функция не реализована")}function jQ(e,t,n){throw Cn("TransformObject3d",e,t,n),Error("TransformObject3d: Функция не реализована")}function VQ(e,t,n){throw Cn("TransformObjectPoints3d",e,t,n),Error("TransformObjectPoints3d: Функция не реализована")}function $Q(e,t,n,r){return!this.kernel.egor.scenes.get(t)||!this.kernel.egor.cameras.get(n)?0:1}function zQ(e){e("AddPoint3d",{a:[A,A,k,k,k],r:k},jJ),e("AddPrimitive3d",{a:[A,A,k,pn],rest:[k],r:k},VJ),e("ApplyTexture3d",{a:[A,A,A,A],rest:[k],r:k},$J),e("Create3dView2d",{a:[A,A,k,k,k,k],r:A},zJ),e("CreateCamera3dEx",{a:[A,fe,k,k,pn,k,k,k,k,k,k,k,k],r:A},UJ),e("CreateDefCamera3d",{a:[A,k],r:A},HJ),e("CreateMaterial3d",{a:[A,fe,fe,pn,pn,pn,pn,k,k,k],r:A},GJ),e("CreateObject3d",{a:[A],r:A},WJ),e("CreateObjectFromFile3d",{a:[A,fe],r:A},KJ),e("CreateSpace3d",{a:[A],r:A},qJ),e("CreateSurface3d",{a:[A,A,k,k,pn,k],r:A},YJ),e("DelPoint3d",{a:[A,A,k],r:k},XJ),e("DelPrimitive3d",{a:[A,A,k],r:k},ZJ),e("DeleteSpace3d",{a:[A],r:k},JJ),e("DuplicateObject3d",{a:[A,A],r:A},QJ),e("FitToCamera3d",{a:[A,A,A,k],r:k},eQ),e("GetActiveCamera3d",{a:[A,A],r:A},tQ),e("GetColors3d",{a:[A,A,k,k,k],r:k},nQ),e("GetMaterialByName3d",{a:[A,fe],r:A},rQ),e("GetNumPoints3d",{a:[A,A],r:k},oQ),e("GetNumPrimitives3d",{a:[A,A],r:k},iQ),e("GetObject3dFromPoint2d",{a:[A,A,k,k,p9,Ye],r:A},sQ),e("GetObjectBase3d",{a:[A,A,Ye,Ye,Ye],r:k},aQ),e("GetObjectBase3dM",{a:[A,A,k],r:k},lQ),e("GetObjectColor3d",{a:[A,A],r:pn},cQ),e("GetObjectDimension3d",{a:[A,A,k],r:k},uQ),e("GetObjectMatrix3d",{a:[A,A,k],r:k},dQ),e("GetObjectPoints3d",{a:[A,A,k],r:k},hQ),e("GetPoint3d",{a:[A,A,k,Ye,Ye,Ye],r:k},fQ),e("GetSpace3d",{a:[A,A],r:A},pQ),e("MakeBar3d",{a:[A,pn,k,k,k],r:A},gQ),e("MakeCylinder3d",{a:[A,A,pn,k,k,k,k,k],r:A},mQ),e("MakeGrid3d",{a:[A,k,k,k,k,pn],r:A},vQ),e("MakeSphere3d",{a:[A,A,pn,k,k,k],r:A},yQ),e("MakeTore3d",{a:[]},bQ),e("MakeTube3d",{a:[A,A,pn,k,k,k,k,k],r:A},wQ),e("PopCrdSystem3d",{a:[A],r:k},SQ),e("PushCrdSystem3d",{a:[A],r:k},CQ),e("RemoveTexture3d",{a:[A,A],r:k},xQ),e("RotateObject3d",{a:[A,A,k,k],r:k},_Q),e("RotateObjectPoints3d",{a:[A,A,k,k],r:k},EQ),e("SelectLocalCrd3d",{a:[A,A],r:k},TQ),e("SelectViewCrd3d",{a:[A,A],r:k},MQ),e("SelectWorldCrd3d",{a:[A],r:k},OQ),e("SetColors3d",{a:[A,A,k,k,k],r:k},RQ),e("SetObjectBase3d",{a:[A,A,k,k,k],r:k},IQ),e("SetObjectColor3d",{a:[A,A,pn],r:k},PQ),e("SetObjectMatrix3d",{a:[A,A,k],r:k},kQ),e("SetObjectPoints3d",{a:[A,A,k],r:k},DQ),e("SetPoint3d",{a:[A,A,k,k,k,k],r:k},AQ),e("SetPrimitive3d",{a:[A,A,k,k,pn],rest:[k],r:k},LQ),e("SweepAndExtrude3d",{a:[A,A,k,k,k,k,k,k,k,pn,k],r:A},NQ),e("SwitchToCamera3d",{a:[]},BQ),e("TransformCamera3d",{a:[A,A,k,k,k,k],r:k},FQ),e("TransformObject3d",{a:[A,A,k],r:k},jQ),e("TransformObjectPoints3d",{a:[A,A,k],r:k},VQ),e("_CameraProc3d",{a:[fe,A,A,k],r:k},$Q)}const UQ={name:"graphics3d",deps:["ogre"],register:zQ};class $l{constructor(t){this.minV=Math.floor(t.minV),this.minH=Math.floor(t.minH),this.rows=t.rows,this.cols=t.cols,this.m=t.data?new Float64Array(t.data):new Float64Array(this.rows*this.cols)}isSquare(){return this.cols===this.rows}get(t,n){const r=Math.floor(t)-this.minV,o=Math.floor(n)-this.minH;return r<0||o<0||r>=this.rows||o>=this.cols?0:this.m[r*this.cols+o]}set(t,n,r){const o=Math.floor(t)-this.minV,i=Math.floor(n)-this.minH;return o<0||i<0||o>=this.rows||i>=this.cols?0:(this.m[o*this.cols+i]=r,r)}sum(){return this.m.reduce((t,n)=>t+n,0)}glue(t,n,r){const o=this,i=Math.min(o.minH,t.minH+r),s=Math.min(o.minV,t.minV+n),a=Math.max(o.cols+o.minH,t.cols+t.minH+r),c=Math.max(o.rows+o.minV,t.rows+t.minV+n),u=new $l({cols:a-i,rows:c-s,minH:i,minV:s});for(let h=t.minV;h<t.rows+t.minV;h++)for(let f=t.minH;f<t.cols+t.minH;f++)u.set(h+n,f+r,t.get(h,f));for(let h=o.minV;h<o.rows+o.minV;h++)for(let f=o.minH;f<o.cols+o.minH;f++)u.set(h,f,o.get(h,f));return u}add(t){const n=this,r=Math.min(n.minH,t.minH),o=Math.min(n.minV,t.minV),i=Math.max(n.cols+n.minH,t.cols+t.minH),a=Math.max(n.rows+n.minV,t.rows+t.minV)-o,c=i-r,u=new $l({cols:c,rows:a,minH:r,minV:o}),h=Math.min(n.rows,t.rows),f=Math.min(n.cols,t.cols);for(let g=0;g<h;g++)for(let m=0;m<f;m++)u.m[g+c+m]=n.m[g*n.cols+m]+t.m[g+t.cols+m];return u}mul(t){const n=this;if(n.cols!==t.rows)return null;const r=t.cols,o=n.rows,i=new $l({cols:r,rows:o,minH:n.minH,minV:n.minV});for(let s=0;s<o;s++)for(let a=0;a<r;a++){let c=0;for(let u=0;u<n.cols;u++)c+=n.m[s*n.cols+u]*t.m[u*t.cols+a];i.m[s*r+a]=c}return i}det(){if(!this.isSquare())throw Error("Not a square matrix");const t=this.rows;if(t===1)return this.m[0];if(t===2)return this.m[0]*this.m[3]-this.m[1]*this.m[2];const n=Array.from(this.m);let r=1;for(let o=0;o<t;o++){let i=o,s=Math.abs(n[o*t+o]);for(let a=o+1;a<t;a++){const c=Math.abs(n[a*t+o]);c>s&&(s=c,i=a)}if(s===0)return 0;if(i!==o){r=-r;for(let a=o;a<t;a++){const c=n[o*t+a];n[o*t+a]=n[i*t+a],n[i*t+a]=c}}for(let a=o+1;a<t;a++){const c=n[a*t+o]/n[o*t+o];for(let u=o;u<t;u++)n[a*t+u]-=c*n[o*t+u]}r*=n[o*t+o]}return r}obr(){if(!this.isSquare()||this.det()===0)return null;const t=this.rows,n=new $l({cols:this.cols,rows:this.rows,minH:0,minV:0,data:Array.from(this.m)}),r=new $l({cols:this.cols,rows:this.rows,minH:0,minV:0});for(let o=0;o<t;o++)for(let i=0;i<t;i++)r.set(o,i,0),o===i&&r.set(o,i,1);for(let o=0;o<t;o++){let i=n.get(o,o);for(let s=0;s<t;s++)n.set(o,s,n.get(o,s)/i),r.set(o,s,r.get(o,s)/i);for(let s=o+1;s<t;s++){i=n.get(s,o);for(let a=0;a<t;a++)n.set(s,a,n.get(s,a)-n.get(o,a)*i),r.set(s,a,r.get(s,a)-r.get(o,a)*i)}}for(let o=t-1;o>0;o--)for(let i=o-1;i>=0;i--){let s=n.get(i,o);for(let a=0;a<t;a++)n.set(i,a,n.get(i,a)-n.get(o,a)*s),r.set(i,a,r.get(i,a)-r.get(o,a)*s)}return r.minH=this.minH,r.minV=this.minV,r}diag(t){this.fill(0);const n=Math.min(this.rows,this.cols);for(let r=0;r<n;r++)this.set(r,r,t);return 1}fill(t){return this.m.fill(t),1}sortByRow(t,n){const r=t-this.minV;if(r<0||r>=this.rows)return 0;const o=Array.from({length:this.cols},(s,a)=>Array.from({length:this.rows},(c,u)=>this.m[u*this.cols+a])),i=n?(s,a)=>a[r]-s[r]:(s,a)=>s[r]-a[r];return o.sort(i),o.forEach((s,a)=>{s.forEach((c,u)=>{this.m[u*this.cols+a]=c})}),1}sortByColumn(t,n){const r=t-this.minH;if(r<0||r>=this.cols)return 0;const o=Array.from({length:this.rows},(s,a)=>{const c=a*this.cols,u=c+this.cols;return Array.from(this.m.subarray(c,u))}),i=n?(s,a)=>a[r]-s[r]:(s,a)=>s[r]-a[r];return o.sort(i),this.m=new Float64Array(Sk(o)),1}data(){const{minH:t,minV:n,cols:r,rows:o,m:i}=this;return{minV:n,minH:t,cols:r,rows:o,data:[...i]}}}function HQ(e,t,n,r,o,i){if(i<=0)return 0;const s=Math.floor(n)-Math.floor(t)+1,a=Math.floor(o)-Math.floor(r)+1;if(s<=0||a<=0)return 0;const c=e||Ts.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,new $l({rows:s,cols:a,minV:t,minH:r})),c}function GQ(e,t){return t<=0?0:this.kernel.matrices.delete(e)?1:0}function WQ(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.fill(t)??0}function KQ(e,t,n,r){return r<=0?0:this.kernel.matrices.get(e)?.get(t,n)??0}function qQ(e,t,n,r,o){return o<=0?0:this.kernel.matrices.get(e)?.set(t,n,r)??0}function YQ(e,t){if(t<=0)return 0;throw Error("MEditor: редактор матриц не реализован")}function XQ(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.diag(t)??0}function ZQ(e,t){if(t<=0)return 0;const n=this.kernel.matrices.get(e);return!n||!n.isSquare()?0:n.det()}function JQ(e,t,n,r){if(r<=0)return 0;const o=this.kernel.matrices.get(e);if(!o)return 0;const i=this.kernel.matrices.get(t);if(!i)return 0;const s=o.add(i);if(!s)return 0;const a=n||Ts.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function QQ(e,t){return t<=0?0:this.kernel.matrices.get(e)?.sum()??0}function eee(e,t,n,r){if(r<=0)return 0;const o=this.kernel.matrices.get(e),i=this.kernel.matrices.get(t);if(!o||!i)return 0;const s=o.mul(i);if(!s)return 0;const a=n||Ts.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function tee(e,t,n,r,o,i){if(i<=0)return 0;const s=this.kernel.matrices.get(e),a=this.kernel.matrices.get(t);if(!s||!a)return 0;const c=n||Ts.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,s.glue(a,Math.floor(r),Math.floor(o))),c}function nee(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const o=r.obr();if(!o)return 0;const i=t||Ts.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(i,o),i}function ree(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const o=this.prj.dir.resolve(t).create("file");return o?(o.set({mat:r.data()}),1):0}function oee(e,t,n){if(n<=0)return 0;const r=this.prj.dir.resolve(t).file()?.mat;if(!r)return 0;const o=e||Ts.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(o,new $l(r)),o}function iee(e,t,n,r){if(r<=0)return 0;const o=this.kernel.matrices.get(e);if(!o)return 0;switch(n){case 1:return o.sortByColumn(t,!1);case 2:return o.sortByColumn(t,!0);case 3:return o.sortByRow(t,!1);case 4:return o.sortByRow(t,!0);default:return 0}}function see(e){e("MCreate",{a:[k,k,k,k,k,k],r:k},HQ),e("MDelete",{a:[k,k],r:k},GQ),e("MFill",{a:[k,k,k],r:k},WQ),e("MGet",{a:[k,k,k,k],r:k},KQ),e("MPut",{a:[k,k,k,k,k],r:k},qQ),e("MEditor",{a:[k,k]},YQ),e("MDiag",{a:[k,k,k],r:k},XQ),e("MDet",{a:[k,k],r:k},ZQ),e("MSum",{a:[k,k],r:k},QQ),e("MMul",{a:[k,k,k,k],r:k},eee),e("MGlue",{a:[k,k,k,k,k,k],r:k},tee),e("MObr",{a:[k,k,k],r:k},nee),e("MSaveAs",{a:[k,fe,k],r:k},ree),e("MLoad",{a:[k,fe,k],r:k},oee),e("MSort",{a:[k,k,k,k],r:k},iee),e("MAddC",{a:[k,k,k,k],r:k},JQ)}const aee={name:"matrix",register:see,setup(e){e.matrices=new Map,e.onProjectOpen.add(t=>{t.dir.forEach(n=>{if(!n.mat)return;const r=n.path.basename(),o=parseInt(r.substring(0,r.length-5));isNaN(o)||!o||e.matrices.has(o)||e.matrices.set(o,new $l(n.mat))},!1)})}};function LD(e,t,n,r,o){const i=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!i)return;const s=this.resolve(n);s?.klass.vars.msg&&i.subscribe(s,r,t,o)}function ND(e,t,n){const r=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!r)return;const o=this.resolve(t);o?.klass.vars.msg&&r.unsubscribe(o,n)}function lee(e,t){const n=this.kernel.scenes.get(e);if(!n)return;const r=this.resolve(t);r?.klass.vars.msg&&n.setCapture(r)}function cee(){this.kernel.windowSystem.releaseCapture()}function uee(e,t,...n){if(this.kernel.recursionLvl>58)return;let r=null;if(t&&(r=this.kernel.classes.get(t),!r))return;/[\*\?]/.test(e)&&this.kernel._functionNotImplemented("SendMessage с path содержащим '*'/'?'",this);const o=this.resolveMany(e,r);if(!o.length)return;const i=new Array(n.length),s=this.klass.vars,a=o[0].klass.vars;for(let c=0;c<n.length;c+=2){const u=s.get(n[c+0]);if(!u)continue;const h=a.get(n[c+1]);h&&(i[c+0]=u,i[c+1]=h)}o.forEach(c=>{if(c===this)return;for(let v=0;v<i.length;v+=2){const S=i[v+0];if(!S)continue;const E=i[v+1];c.vars.setValue(E,this.vars.getNewValue(S))}++this.kernel.recursionLvl,c.computeSchema(),--this.kernel.recursionLvl;const{map:u,values:{newFloats:h,oldFloats:f,newInts:g,oldInts:m,newStrings:y,oldStrings:b}}=c.vars;for(let v=0;v<u.length;++v){const S=u[v];f[S]=h[S],m[S]=g[S],b[S]=y[S]}for(let v=0;v<i.length;v+=2){const S=i[v+0];if(!S)continue;const E=i[v+1];this.setNewValue(S,c.vars.getNewValue(E))}})}function dee(e){e("RegisterObject",{s:!0,a:[A,A,fe,k,k]},LD),e("RegisterObject",{s:!0,a:[fe,A,fe,k,k]},LD),e("UnregisterObject",{s:!0,a:[A,fe,k]},ND),e("UnregisterObject",{s:!0,a:[fe,fe,k]},ND),e("SetCapture",{s:!0,a:[A,fe,k]},lee),e("ReleaseCapture",{},cee),e("SendMessage",{s:!0,a:[fe,fe],rest:[fe,fe]},uee)}const hee={name:"messages",deps:["windows"],register:dee,setup(e){e.recursionLvl=0}};function fee(e){if(!e)return 0;const t=fa.indexOf(e[0]);return t<0?0:t}function pee(e){return e<0||e>255?"":fa[e]}function BD(e,t,n=1){e[t]+=n}function FD(e,t,n=1){e[t]-=n}function gee(e){return e>1?0:e<-1?Math.PI:Math.acos(e)||0}function mee(e){return e>1?Math.PI/2:e<-1?-Math.PI/2:Math.asin(e)||0}function vee(e,t,n){return e.split(t).join(n)}function yee(e,t,n){return e.substring(0,n)===t.substring(0,n)?1:0}function bee(e,t){return t===0?e>=0?0:Math.PI:t>0?-Math.atan(e/t)+Math.PI/2:-Math.atan(e/t)+Math.PI*1.5}function wee(e){return e>0?(Math.log(e)||0)/Math.LN10:-1e100}function See(e){return e>0?Math.log(e)||0:-1e100}function Cee(e,t){return e>0&&t>0?Math.log(t)/Math.log(e)||0:-1e100}function xee(e,t,n){if(t==="")return-1;for(var r=-1,o=0,i=0;i<n;++i){if(r=e.indexOf(t,o),r<0)return-1;o=r+t.length}return r}function _ee(e,t){return e.substring(e.length-t)}function Eee(e,t){var n=Math.ceil(10**t);return Math.round(e*n-Number.EPSILON)/n||0}function Tee(e,t){return e.substring(t)}function Mee(e,t,n){return e.substring(t,Math.max(t,0)+n)}function Oee(e){e("Arccos",{a:[k],r:k},gee),e("Arcsin",{a:[k],r:k},mee),e("Ascii",{a:[fe],r:k},fee),e("Change",{a:[fe,fe,fe],r:fe},vee),e("Chr",{a:[k],r:fe},pee),e("Comparei",{a:[fe,fe,k],r:k},yee),e("Dec",{a:[Ye,k]},FD),e("Dec",{a:[Ye]},FD),e("GetangleByXY",{a:[k,k],r:k},bee),e("Inc",{a:[Ye,k]},BD),e("Inc",{a:[Ye]},BD),e("Lg",{a:[k],r:k},wee),e("Ln",{a:[k],r:k},See),e("Log",{a:[k,k],r:k},Cee),e("Pos",{a:[fe,fe,k],r:k},xee),e("Randomize",{a:[k]},Eq),e("Right",{a:[fe,k],r:fe},_ee),e("Round",{a:[k,k],r:k},Eee),e("Substr",{a:[fe,k,k],r:fe},Mee),e("Substr",{a:[fe,k],r:fe},Tee)}const Ree={name:"misc",register:Oee};function Iee(e){const t=this.prj.dir.resolve(e).file()?.video;if(!t)return 0;const n=Ts.freeKey(this.kernel.videos);return this.kernel.videos.set(n,t),n}function Pee(e,t,n,r,o,i){const s=this.kernel.videos.get(t);if(!s)return 0;const a=this.kernel.scenes.get(e);if(!a)return 0;const c=a.scene;let u=n,h=r;const f=a.matrix;if(f){const y=n*f[2]+r*f[5]+f[8];u=(n*f[0]+r*f[3]+f[6])/y,h=(n*f[1]+r*f[4]+f[7])/y}const g=o>=0||i>=0,m=c.video(s.src,{x:u,y:h,width:Math.max(0,o),height:Math.max(0,i),fixed:g});return c.set({order:c.order.concat(m)}),m.key}function kee(e,t){throw Error("videoSetPos2d: Not implemented")}function Dee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"?n.getPosition()*Vk:0}function Aee(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.setPosition(n/Vk)?1:0}function Lee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Nee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.pause()?1:0}function Bee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Fee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.stop()?1:0}function jee(){return et.MCIERR_INVALID_DEVICE_NAME}function Vee(){return""}function $ee(){return 0}function zee(e){e("OpenVideo",{a:[fe,k],r:A},Iee),e("CreateVideoFrame2d",{a:[A,A,k,k,k,k,k],r:A},Pee),e("VideoSetPos2d",{a:[A,k],r:k},kee),e("FrameGetPos2d",{a:[A,A],r:k},Dee),e("FrameSetPos2d",{a:[A,A,k],r:k},Aee),e("VideoPlay2d",{a:[A,A,k,k,k,k],r:k},Lee),e("VideoPause2d",{a:[A,A],r:k},Nee),e("VideoResume2d",{a:[A,A],r:k},Bee),e("VideoStop2d",{a:[A,A],r:k},Fee),e("MciSendString",{a:[fe],r:k},jee),e("MciSendStringStr",{a:[fe],r:fe},Vee),e("SndPlaySound",{a:[fe,k],r:k},$ee)}const Uee={name:"multimedia",deps:["windows"],register:zee,setup(e){e.videos=new Map}},Hee=new Map([["ShiftLeft",16],["ShiftRight",16],["ControlLeft",17],["ControlRight",17],["AltLeft",18],["AltRight",18],["CapsLock",20],["Tab",9],["Enter",13],["Escape",27],["Space",32],["Backspace",8],["ArrowUp",38],["ArrowDown",40],["ArrowLeft",37],["ArrowRight",39],["MetaLeft",91],["MetaRight",92],["ContextMenu",93],["Delete",46],["Insert",45],["Home",36],["End",35],["PageUp",33],["PageDown",34],["F1",112],["F2",113],["F3",114],["F4",115],["F5",116],["F6",117],["F7",118],["F8",119],["F9",120],["F10",121],["F11",122],["F12",123],["Digit0",48],["Digit1",49],["Digit2",50],["Digit3",51],["Digit4",52],["Digit5",53],["Digit6",54],["Digit7",55],["Digit8",56],["Digit9",57],["KeyA",65],["KeyB",66],["KeyC",67],["KeyD",68],["KeyE",69],["KeyF",70],["KeyG",71],["KeyH",72],["KeyI",73],["KeyJ",74],["KeyK",75],["KeyL",76],["KeyM",77],["KeyN",78],["KeyO",79],["KeyP",80],["KeyQ",81],["KeyR",82],["KeyS",83],["KeyT",84],["KeyU",85],["KeyV",86],["KeyW",87],["KeyX",88],["KeyY",89],["KeyZ",90]]);function Gee(e){if(e>=16&&e<=18||e>=112&&e<=135||e>=37&&e<=40)return!1;switch(e){case 27:case 9:case 20:case 144:case 145:case 42:case 19:case 45:case 46:case 36:case 35:case 33:case 34:case 93:case 91:case 92:return!1}return!0}const Bh=new Uint8Array(256);function x0(e){return e>=0&&e<256?!!Bh[e]:!1}function by(e){Bh[1]=e.buttons&1,Bh[2]=e.buttons&2,Bh[4]=e.buttons&4}const jD=new Set;function VD(e){let t=Hee.get(e.code);if(t?Bh[t]=+(e.type==="keydown"):(jD.has(e.code)||(jD.add(e.code),console.warn(`Неизвестная клавиша: ${e.code}`)),t=0),e.winVKey=t,e.type==="keydown"&&Gee(t)){const n=fa.indexOf(e.key);e.winChar=n<0?t:n}}function Wee(){Bh.fill(0)}window.addEventListener("keydown",VD,{capture:!0}),window.addEventListener("keyup",VD,{capture:!0}),window.addEventListener("pointerdown",by,{capture:!0}),window.addEventListener("pointerup",by,{capture:!0}),window.addEventListener("pointermove",by,{capture:!0}),window.addEventListener("pointercancel",by,{capture:!0}),window.addEventListener("blur",Wee);const $D=Symbol("renderWindow.parent");let Kee=0,qee=0,Yee=0,Xee=0,Zee=0,Jee=0,Qee=0,ete=0;const zD=new Set;function Ie(...e){zD.size!==zD.add(e[0]).size&&console.warn(...e)}const tte=S0(),_0=S0();function nte(e,t){Ie("AnimationState_AddTime",e,t)}function rte(e){throw Ie("AnimationState_GetEnabled",e),Error("Not implemented")}function ote(e){throw Ie("AnimationState_GetLength",e),Error("Not implemented")}function ite(e){throw Ie("AnimationState_GetLoop",e),Error("Not implemented")}function ste(e){throw Ie("AnimationState_GetTimePosition",e),Error("Not implemented")}function ate(e){throw Ie("AnimationState_GetWeight",e),Error("Not implemented")}function lte(e,t){Ie("AnimationState_SetEnabled",e,t)}function cte(e,t){Ie("AnimationState_SetLength",e,t)}function ute(e,t){Ie("AnimationState_SetLoop",e,t)}function dte(e,t){Ie("AnimationState_SetTimePosition",e,t)}function hte(e,t){Ie("AnimationState_SetWeight",e,t)}function fte(e,t,n,r,o){throw Ie("Billboard_GetColour",e,t,n,r,o),Error("Not implemented")}function pte(e,t,n,r){throw Ie("Billboard_GetPosition",e),Error("Not implemented")}function gte(e){throw Ie("Billboard_GetRotation",e),Error("Not implemented")}function mte(e,t,n,r,o){Ie("Billboard_SetColour",e,t,n,r,o)}function vte(e,t,n,r){Ie("Billboard_SetPosition",e,t,n,r)}function yte(e,t){Ie("Billboard_SetRotation",e,t)}function bte(e,t,n){return this.kernel.egor.createBillboardSet({name:t||"__BillboardSet_"+Kee++,poolSize:n}).key??0}function wte(e,t,n,r){return this.kernel.egor.billboardSets.get(e)?.createBillboard(t,n,r).key??0}function Ste(e){Ie("BillboardSet_Destroy",e)}function Cte(e,t){throw Ie("BillboardSet_GetBillboard",e,t),Error("Not implemented")}function xte(e){throw Ie("BillboardSet_GetBillboardType",e),Error("Not implemented")}function _te(e,t,n,r){throw Ie("BillboardSet_GetCommonDirection",e,t,n,r),Error("Not implemented")}function Ete(e,t,n,r){throw Ie("BillboardSet_GetCommonUpVector",e,t,n,r),Error("Not implemented")}function Tte(e,t,n){throw Ie("BillboardSet_GetDefaultDimensions",e,t,n),Error("Not implemented")}function Mte(e,t){throw Ie("BillboardSet_GetMaterialName",e,t),Error("Not implemented")}function Ote(e){throw Ie("BillboardSet_GetNumBillboards",e),Error("Not implemented")}function Rte(e,t){Ie("BillboardSet_RemoveBillboard",e,t)}function Ite(e,t){this.kernel.egor.billboardSets.get(e)?.setType(t)}function Pte(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonDirection(t,n,r)}function kte(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonUpVector(t,n,r)}function Dte(e,t,n){this.kernel.egor.billboardSets.get(e)?.setDimensions(t,n)}function Ate(e,t){this.kernel.egor.billboardSets.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function Lte(e){throw Ie("Bone_GetManuallyControlled",e),Error("Not implemented")}function Nte(e){Ie("Bone_Reset",e)}function Bte(e,t){Ie("Bone_SetManuallyControlled",e,t)}function Fte(e,t){return this.kernel.egor.scenes.get(e)?.createCamera({name:t||"__Camera_"+qee++}).key??0}function jte(e){Ie("Camera_Destroy",e)}function Vte(e){throw Ie("Camera_GetAspectRatio",e),Error("Not implemented")}function $te(e){throw Ie("Camera_GetFarClipDistance",e),Error("Not implemented")}function zte(e){throw Ie("Camera_GetFOV",e),Error("Not implemented")}function Ute(e){throw Ie("Camera_GetNearClipDistance",e),Error("Not implemented")}function Hte(e){throw Ie("Camera_GetPolygonMode",e),Error("Not implemented")}function Gte(e){throw Ie("Camera_GetProjectionType",e),Error("Not implemented")}function Wte(e,t){Ie("Camera_SetAspectRatio",e,t)}function Kte(e,t){this.kernel.egor.cameras.get(e)?.set({farDist:t})}function qte(e,t){Ie("Camera_SetFocalLength",e,t)}function Yte(e,t){this.kernel.egor.cameras.get(e)?.set({fov:t})}function Xte(e,t,n){Ie("Camera_SetFrustumOffset",e,t,n)}function Zte(e,t){this.kernel.egor.cameras.get(e)?.set({nearDist:t})}function Jte(e,t){Ie("Camera_SetPolygonMode",e,t)}function Qte(e,t){Ie("Camera_SetProjectionType",e,t)}function ene(e){return this.kernel.egorRayCastResult?.getEntry(e)?.distance||0}function tne(e){return this.kernel.egorRayCastResult?.getEntry(e)?.movable.key||0}function nne(){return this.kernel.egorRayCastResult?.length||0}function rne(e,t,n,r,o,i,s){const a=this.kernel.egor.scenes.get(e);if(!a){this.kernel.egorRayCastResult=null;return}const{dir:c,origin:u}=_0;u[0]=t,u[1]=n,u[2]=r,c[0]=o,c[1]=i,c[2]=s,this.kernel.egorRayCastResult=a?.rayCast(_0)}function one(){this.kernel.egorRayCastResult?.sort()}function ine(e){throw Ie("Compositor_GetEnabled",e),Error("Not implemented")}function sne(e,t){Ie("Compositor_SetEnabled",e,t)}function ane(e,t,n){if(!n)return 0;const r=this.kernel.egor.scenes.get(e);if(!r)return 0;const o=this.kernel.egor.meshResByNameUC.get(n.toUpperCase());if(!o)throw Error(`Mesh не существует: '${n}'`);return r.createEntity(o,{name:t||"__Entity_"+Yee++}).key??0}function lne(e){this.kernel.egor.entities.get(e)?.destroy()}function cne(e,t){throw Ie("Entity_GetAnimationState",e,t),Error("Not implemented")}function une(e,t){throw Ie("Entity_GetBone",e,t),Error("Not implemented")}function dne(e,t){throw Ie("Entity_GetIndexCount",e,t),Error("Not implemented")}function hne(e,t,n){throw Ie("Entity_GetMaterial",e,t,n),Error("Not implemented")}function fne(e){return this.kernel.egor.entities.get(e)?.subEntities.length??0}function UD(e,t=0){const n=this.kernel.egor.entities.get(e);return n?t>=0?n.subEntity(t)?.vertexCount??0:n.subEntities.reduce((r,o)=>r+o.vertexCount,0):0}function pne(e,t,n){const r=this.kernel.egor.entities.get(e);if(!r)return;const o=this.kernel.egor.materialByName.get(n);o&&r.subEntity(t)?.setMaterial(o)}function gne(e,t){return this.kernel.egor.createLight({name:t||"__Light_"+Xee++}).key??0}function mne(e){Ie("Light_Destroy",e)}function vne(e){throw Ie("Light_GetPowerScale",e),Error("Not implemented")}function yne(e,t,n,r,o){Ie("Light_SetAttenuation",e,t,n,r,o)}function bne(e,t,n,r){Ie("Light_SetDiffuseColour",e,t,n,r)}function wne(e,t){Ie("Light_SetPowerScale",e,t)}function Sne(e,t,n,r){Ie("Light_SetSpecularColour",e,t,n,r)}function Cne(e,t,n,r){Ie("Light_SetSpotlightRange",e,t,n,r)}function xne(e,t){Ie("Light_SetType",e,t)}function _ne(e,t,n){const{egor:r}=this.kernel,o=r.manualObjects.get(e);if(!o)return;const i=r.materialByName.get(t)||null,s=o.createSection(n,i);this.kernel.egorManualObjectsSections.set(o,s)}function Ene(e){this.kernel.egor.manualObjects.get(e)?.clear()}function Tne(e,t,n,r,o){Ie("ManualObject_Colour",e,t,n,r,o)}function Mne(e,t){Ie("ManualObject_ConvertToMesh",e,t)}function One(e,t){return this.kernel.egor.scenes.get(e)?.createManualObject({name:t||"__ManualObject_"+Zee++}).key||0}function Rne(e){this.kernel.egor.manualObjects.get(e)?.destroy()}function Ine(e){const t=this.kernel.egor.manualObjects.get(e);if(!t)return;const n=this.kernel.egorManualObjectsSections.get(t);n&&(n.end(),this.kernel.egorManualObjectsSections.delete(t))}function Pne(e,t){Ie("ManualObject_EstimateIndexCount",e,t)}function kne(e,t){Ie("ManualObject_EstimateVertexCount",e,t)}function Dne(e){throw Ie("ManualObject_GetDynamic",e),Error("Not implemented")}function Ane(e,t){Ie("ManualObject_Index",e,t)}function Lne(e,t,n,r){const o=this.kernel.egor.manualObjects.get(e);o&&this.kernel.egorManualObjectsSections.get(o)?.addNormal(t,n,r)}function Nne(e,t,n,r){const o=this.kernel.egor.manualObjects.get(e);o&&this.kernel.egorManualObjectsSections.get(o)?.addVertex(t,n,r)}function Bne(e,t){Ie("ManualObject_SetDynamic",e,t)}function Fne(e,t,n){Ie("ManualObject_TextureCoord",e,t,n)}function jne(e){return this.kernel.egor.createMaterial(e||"__Material_"+Jee++).key}function Vne(e){return e&&this.kernel.egor.materialByName.get(e)?.key||0}function $ne(e){throw Ie("Material_GetBestTechnique",e),Error("Not implemented")}function zne(e,t){throw Ie("Material_GetName",e,t),Error("Not implemented")}function Une(e,t){return this.kernel.egor.materialByKey.get(e)?.tech(t)?.key??0}function Hne(e,t){throw Ie("Material_GetTechniqueByName",e,t),Error("Not implemented")}function Gne(e,t,n,r,o,i,s){throw Ie("Movable_GetBoundingBox",e,t,n,r,o,i,s),Error("Not implemented")}function Wne(e){throw Ie("Movable_GetCastShadows",e),Error("Not implemented")}function Kne(e,t,n){const r=this.kernel.egor.movables.get(e);r&&(t[n]=r.name)}function qne(e){return this.kernel.egor.movables.get(e)?.node?.key??0}function Yne(e){const t=this.kernel.egor.movables.get(e);return t?t.visible?1:0:-1}function Xne(e,t){Ie("Movable_SetCastShadows",e,t)}function Zne(e,t){const n=this.kernel.egor.movables.get(e);n&&this.kernel.egor.sceneNodes.get(t)?.attach(n)}function Jne(e,t){this.kernel.egor.movables.get(e)?.setVisible(!!t)}function Qne(e,t,n){return this.kernel.egor.createMovableText(t,{name:e||"__MovableText_"+Qee++,fontName:n}).key}function ere(e){Ie("MovableText_Destroy",e)}function tre(e,t){throw Ie("MovableText_GetCaption",e,t),Error("Not implemented")}function nre(e){throw Ie("MovableText_GetCharacterHeight",e),Error("Not implemented")}function rre(e,t,n,r,o){throw Ie("MovableText_GetColor",e,t,n,r,o),Error("Not implemented")}function ore(e,t){throw Ie("MovableText_GetFontName",e,t),Error("Not implemented")}function ire(e,t,n,r){throw Ie("MovableText_GetGlobalTranslation",e,t,n,r),Error("Not implemented")}function sre(e,t,n,r){throw Ie("MovableText_GetLocalTranslation",e,t,n,r),Error("Not implemented")}function are(e){throw Ie("MovableText_GetSpaceWidth",e),Error("Not implemented")}function lre(e,t,n){throw Ie("MovableText_GetTextAlignment",e,t,n),Error("Not implemented")}function cre(e,t){Ie("MovableText_SetCaption",e,t)}function ure(e,t){this.kernel.egor.movableTexts.get(e)?.setCharHeight(t)}function dre(e,t,n,r,o){Ie("MovableText_SetColor",e,t,n,r,o)}function hre(e,t){Ie("MovableText_SetFontName",e,t)}function fre(e,t,n,r){Ie("MovableText_SetGlobalTranslation",e,t,n,r)}function pre(e,t,n,r){Ie("MovableText_SetLocalTranslation",e,t,n,r)}function gre(e,t){Ie("MovableText_SetSpaceWidth",e,t)}function mre(e,t,n){Ie("MovableText_SetTextAlignment",e,t,n)}function vre(e,t){Ie("Node_AddChild",e,t)}function yre(e,t){return this.kernel.egor.nodes.get(e)?.getChild(t)?.key||0}function bre(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldPosition();t[n]=c[0],r[o]=c[1],i[s]=c[2]}function wre(e,t,n,r,o,i,s,a,c){const u=this.kernel.egor.nodes.get(e);if(!u)return;const h=u.getWorldRotation();r[o]=h[0],i[s]=h[1],a[c]=h[2],t[n]=h[3]}function Sre(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldScale();t[n]=c[0],r[o]=c[1],i[s]=c[2]}function Cre(e,t,n){t[n]=this.kernel.egor.nodes.get(e)?.name??""}function xre(e){return this.kernel.egor.nodes.get(e)?.children.length??-1}function _re(e){throw Ie("Node_GetParent",e),Error("Not implemented")}function Ere(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);a&&(t[n]=a.position[0],r[o]=a.position[1],i[s]=a.position[2])}function Tre(e,t,n,r,o,i,s,a,c){const u=this.kernel.egor.nodes.get(e);u&&(r[o]=u.rotation[0],i[s]=u.rotation[1],a[c]=u.rotation[2],t[n]=u.rotation[3])}function Mre(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);a&&(t[n]=a.scale[0],r[o]=a.scale[1],i[s]=a.scale[2])}function Ore(e,t){Ie("Node_RemoveChild",e,t)}function Rre(e,t){const n=this.kernel.egor.nodes.get(t);if(!n)return;const r=this.kernel.egor.nodes.get(e);r&&n.addChild(r)}function Ire(e,t,n,r){this.kernel.egor.nodes.get(e)?.setPosition(t,n,r)}function Pre(e,t,n,r,o){throw Ie("Node_SetRotationAxis",e,t,n,r,o),Error("Node_SetRotationAxis")}function kre(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateX(t).rotateY(n).rotateZ(r)}function Dre(e,t,n,r){throw Error()}function Are(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateY(t).rotateX(n).rotateZ(r)}function Lre(e,t,n,r){throw Error()}function Nre(e,t,n,r){throw Error()}function Bre(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateZ(t).rotateY(n).rotateX(r)}function Fre(e,t,n,r,o){this.kernel.egor.nodes.get(e)?.setRotation(n,r,o,t)}function jre(e,t,n,r){this.kernel.egor.nodes.get(e)?.setScale(t,n,r)}function Vre(e,t){const n=this.kernel.egor.overlays.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function $re(e){return this.kernel.egor.createOverlay(e).key}function zre(e,t,n){throw Ie("Overlay_FindElementAt",e,t,n),Error("Not implemented")}function Ure(e){if(!e)return 0;for(const t of this.kernel.egor.overlays.values())if(t.name===e)return t.key;return 0}function Hre(e,t){throw Ie("Overlay_GetName",e,t),Error("Not implemented")}function Gre(e){throw Ie("Overlay_GetRotate",e),Error("Not implemented")}function Wre(e,t,n){throw Ie("Overlay_GetScale",e,t,n),Error("Not implemented")}function Kre(e,t,n){throw Ie("Overlay_GetScroll",e,t,n),Error("Not implemented")}function qre(e){throw Ie("Overlay_GetVisible",e),Error("Not implemented")}function Yre(e){throw Ie("Overlay_GetZOrder",e),Error("Not implemented")}function Xre(e,t){Ie("Overlay_RemoveChild",e,t)}function Zre(e,t){Ie("Overlay_SetRotate",e,t)}function Jre(e,t,n){this.kernel.egor.overlays.get(e)?.setScale(t,n)}function Qre(e,t,n){Ie("Overlay_SetScroll",e,t,n)}function eoe(e,t){this.kernel.egor.overlays.get(e)?.setVisible(!!t)}function toe(e,t){this.kernel.egor.overlays.get(e)?.setZ(t)}function noe(e,t){const n=this.kernel.egor.overlayElements.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function roe(e,t){throw Ie("OverlayContainer_GetChild",e,t),Error("Not implemented")}function ooe(e){throw Ie("OverlayContainer_GetChildCount",e),Error("Not implemented")}function ioe(e,t){Ie("OverlayContainer_RemoveChild",e,t)}function soe(e,t){if(e!=="BorderPanel"&&e!=="Panel"&&e!=="TextArea")throw Error(`Неизвестный тип OverlayElement: '${e}'`);return this.kernel.egor.createOverlayElement(e,{name:t}).key}function aoe(e){if(!e)return 0;for(const t of this.kernel.egor.overlayElements.values())if(t.name===e)return t.key;return 0}function loe(e,t,n,r,o){const i=this.kernel.egor.overlayElements.get(e);t[n]=i?.horAlign??0,r[o]=i?.vertAlign??0}function coe(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.caption??""}function uoe(e,t,n,r,o){throw Ie("OverlayElement_GetColour",e,t,n,r,o),Error("Not implemented")}function doe(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.material?.name??""}function hoe(e){return this.kernel.egor.overlayElements.get(e)?.metricsMode??0}function foe(e){return this.kernel.egor.overlayElements.get(e)?.parent?.key??0}function poe(e,t,n,r,o){const i=this.kernel.egor.overlayElements.get(e);t[n]=i?.x??0,r[o]=i?.y??0}function goe(e,t,n,r,o){const i=this.kernel.egor.overlayElements.get(e);t[n]=i?.width??0,r[o]=i?.height??0}function moe(e){const t=this.kernel.egor.overlayElements.get(e);return t?t.visible?1:0:-1}function voe(e){throw Ie("OverlayElement_IsContainer",e),Error("Not implemented")}function yoe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setAlignment(t,n)}function boe(e,t){this.kernel.egor.overlayElements.get(e)?.setCaption(t)}function woe(e,t,n,r,o){this.kernel.egor.overlayElements.get(e)?.setColor(t,n,r,o)}function Soe(e,t){this.kernel.egor.overlayElements.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function Coe(e,t){this.kernel.egor.overlayElements.get(e)?.setMetricsMode(t)}function xoe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setPosition(t,n)}function _oe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setSize(t,n)}function Eoe(e,t){this.kernel.egor.overlayElements.get(e)?.setVisible(!!t)}function Toe(e,t,n){throw Ie("ParticleSystem_Create",e,t,n),Error("Not implemented")}function Moe(e,t,n){throw Ie("ParticleSystem_CreateEx",e,t,n),Error("Not implemented")}function Ooe(e){Ie("ParticleSystem_Destroy",e)}function Roe(e,t){Ie("ParticleSystem_GetName",e,t)}function Ioe(e){throw Ie("ParticleSystem_GetParent",e),Error("Not implemented")}function Poe(e){throw Ie("ParticleSystem_GetVisible",e),Error("Not implemented")}function koe(e,t){Ie("ParticleSystem_SetParent",e,t)}function Doe(e,t){Ie("ParticleSystem_SetVisible",e,t)}function Aoe(e,t){throw Ie("Pass_Create",e,t),Error("Not implemented")}function Loe(e,t,n){throw Ie("Pass_GetAlphaRejectSettings",e,t,n),Error("Not implemented")}function Noe(e,t,n,r,o){throw Ie("Pass_GetAmbient",e,t,n,r,o),Error("Not implemented")}function Boe(e){throw Ie("Pass_GetColourWriteEnabled",e),Error("Not implemented")}function Foe(e){throw Ie("Pass_GetCullingMode",e),Error("Not implemented")}function joe(e){throw Ie("Pass_GetDepthCheckEnabled",e),Error("Not implemented")}function Voe(e){throw Ie("Pass_GetDepthFunction",e),Error("Not implemented")}function $oe(e){throw Ie("Pass_GetDepthWriteEnabled",e),Error("Not implemented")}function zoe(e,t,n,r,o){throw Ie("Pass_GetDiffuse",e,t,n,r,o),Error("Not implemented")}function Uoe(e){throw Ie("Pass_GetLightingEnabled",e),Error("Not implemented")}function Hoe(e){throw Ie("Pass_GetPolygonMode",e),Error("Not implemented")}function Goe(e,t,n){throw Ie("Pass_GetSceneBlending",e,t,n),Error("Not implemented")}function Woe(e,t,n,r,o){throw Ie("Pass_GetSelfIllumination",e,t,n,r,o),Error("Not implemented")}function Koe(e){throw Ie("Pass_GetShadingMode",e),Error("Not implemented")}function qoe(e){throw Ie("Pass_GetShininess",e),Error("Not implemented")}function Yoe(e,t,n,r,o){throw Ie("Pass_GetSpecular",e,t,n,r,o),Error("Not implemented")}function Xoe(e,t){throw Ie("Pass_GetTextureUnitStateByIndex",e,t),Error("Not implemented")}function Zoe(e,t){throw Ie("Pass_GetTextureUnitStateByName",e,t),Error("Not implemented")}function Joe(e,t,n){Ie("Pass_SetAlphaRejectSettings",e,t,n)}function Qoe(e,t,n,r){this.kernel.egor.passes.get(e)?.setAmbient(t,n,r)}function eie(e,t){Ie("Pass_SetColourWriteEnabled",e,t)}function tie(e,t){Ie("Pass_SetCullingMode",e,t)}function nie(e,t){this.kernel.egor.passes.get(e)?.setDepthCheckEnabled(!!t)}function rie(e,t){Ie("Pass_SetDepthFunction",e,t)}function oie(e,t){this.kernel.egor.passes.get(e)?.setDepthWriteEnabled(!!t)}function iie(e,t,n,r,o){this.kernel.egor.passes.get(e)?.setDiffuse(t,n,r,o)}function sie(e,t){this.kernel.egor.passes.get(e)?.setLightingEnabled(!!t)}function aie(e,t){Ie("Pass_SetPolygonMode",e,t)}function lie(e,t,n){this.kernel.egor.passes.get(e)?.setSceneBlending(t,n)}function cie(e,t,n,r){this.kernel.egor.passes.get(e)?.setEmissive(t,n,r)}function uie(e,t){this.kernel.egor.passes.get(e)?.setShadingMode(t)}function die(e,t){this.kernel.egor.passes.get(e)?.setShininess(t)}function hie(e,t,n,r,o){this.kernel.egor.passes.get(e)?.setSpecular(t,n,r,o)}function fie(e,t,n){throw Ie("RenderTexture_Create",e,t,n),Error("Not implemented")}function pie(e){Ie("RenderTexture_Destroy",e)}function HD(e,t,n,r){const o=e.createRenderWindow(n,r);return t.createFrame(o.domElement).onDisposed.add(o.close.bind(o)),o[$D]=t,o}function gie(e){const t=this.kernel.scenes.get(e);if(!t)throw Error("Внешние 3D окна не поддерживаются");return HD(this.kernel.egor,t,t.clientWidth,t.clientHeight).key}function mie(e,t,n,r){const o=this.kernel.scenes.get(e);if(!o)throw Error("Внешние 3D окна не поддерживаются");return HD(this.kernel.egor,o,n,r).key}function vie(e,t,n,r){throw Ie("RenderWindow_CreateEx",e,t,n,r),Error("Not implemented")}function yie(e){Ie("RenderWindow_Destroy",e)}function bie(e){throw Ie("RenderWindow_Get",e),Error("Not implemented")}function wie(){throw Ie("RenderWindow_GetCount"),Error("Not implemented")}function Sie(e){throw Ie("RenderWindow_GetCursorHovered",e),Error("Not implemented")}function Cie(e,t,n,r,o){const i=this.kernel.egor.windows.get(e)?.[$D];t[n]=i?.mouseX??0,r[o]=i?.mouseY??0}function xie(e,t){return x0(t)?1:0}function _ie(e,t){const n=t===0?"left":t===1?"right":t===2?"middle":null;return x0(n==="left"?1:n==="right"?2:4)?1:0}function Eie(e,t,n,r,o){const i=this.kernel.egor.windows.get(e);t[n]=i?.x??0,r[o]=i?.y??0}function Tie(){return this.kernel.egor.primaryWindow?.key??0}function Mie(e,t,n,r,o){const i=this.kernel.egor.windows.get(e);t[n]=i?.width??0,r[o]=i?.height??0}function Oie(e,t){throw Ie("RenderWindow_GetViewport",e,t),Error("Not implemented")}function Rie(e){return this.kernel.egor.windows.get(e)?.viewports.size??0}function Iie(e){return this.kernel.egor.windows.get(e)?.wheelPosition??0}function Pie(e,t,n){Ie("RenderWindow_SetPosition",e,t,n)}function kie(e,t,n){Ie("RenderWindow_SetSize",e,t,n)}function Die(e){throw Ie("RenderWindow_ToggleFullscreen",e),Error("Not implemented")}function Aie(e,t,n,r){Ie("Root_AddResourceLocation",e,t,n,r)}function Lie(e){$k(this.prj.dir.resolve(e))?.split(`\r
`).forEach(n=>{const r=n.trim().toUpperCase();if(!r.startsWith("FILESYSTEM")&&!r.startsWith("ZIP"))return;const o=r.split("=")[1].trim();this.prj.dir.resolve(o).forEach(s=>{if(s.image){const a=s.path.basename(),c=this.kernel.egor.createImage(s.image,a);c.meta=s.path.toString();return}if(s.mesh){const a=s.path.basename(),c=this.kernel.egor.createMesh(s.mesh,a);c.meta=s.path.toString();return}if(s.base64){const a=s.path.basename().toUpperCase(),c=$k(s.path);if(a.endsWith(".MATERIAL")){const u=c.split(`
`).map(h=>h.trim());for(let h=0;h<u.length;h++){const f=u[h],g=f.startsWith("material ")&&f.replace("material ","").split('"').join("");if(!g)continue;const y=this.kernel.egor.createMaterial(g).techs[0].passes[0];for(let b=h+1;b<u.length;b++){const v=u[b];if(v==="}")break;const S=v.startsWith("shading ")&&v.replace("shading ","");if(S){const N=S.toLowerCase()==="phong"?et.SO_PHONG:et.SO_GOURAUD;y.setShadingMode(N);continue}const E=v.startsWith("ambient ")&&v.replace("ambient ","");if(E){const N=E.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setAmbient(...N);continue}const T=v.startsWith("diffuse ")&&v.replace("diffuse ","");if(T){const N=T.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setDiffuse(...N);continue}const R=v.startsWith("specular ")&&v.replace("specular ","");if(R){const N=R.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setSpecular(...N),N.length>4&&y.setShininess(N[4]);continue}const M=v.startsWith("emissive ")&&v.replace("emissive ","");if(M){const N=M.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setEmissive(...N),N.length>4&&y.setShininess(N[4]);continue}if(v.startsWith("texture_unit"))for(let N=b+1;N<u.length;N++){const P=u[N];if(P==="}")break;const L=P.startsWith("texture ")&&P.replace("texture ","");if(L){const D=L.toUpperCase();y.createTextureUnit().setTextureName(D);continue}}}}}}},!1)})}function Nie(){}function Bie(){Ie("Root_Destroy")}function Fie(){throw Ie("Root_GetTime"),Error("Not implemented")}function jie(){}function Vie(){}function $ie(){return 1}function zie(){return this.kernel.egorShouldRender=!0,1}function Uie(){return 1}function Hie(){Ie("Root_SaveConfig")}function Gie(){return 1}function Wie(e){Ie("Scene_Clear",e)}function Kie(e){if(e!=="OctreeSceneManager"&&e!=="BSPSceneManager"&&e!=="TerrainSceneManager")throw Error(`Неподдерживаемый тип сцены: ${e}`);return this.kernel.egor.createScene().key}function qie(e){Ie("Scene_Destroy",e)}function Yie(e,t){throw Ie("Scene_GetCamera",e,t),Error("Not implemented")}function Xie(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.entities.values())if(r.scene===n&&r.name===t)return r.key;return 0}function Zie(e,t){throw Ie("Scene_GetLight",e,t),Error("Not implemented")}function Jie(e,t){throw Ie("Scene_GetParticleSystem",e,t),Error("Not implemented")}function Qie(e){return this.kernel.egor.scenes.get(e)?.root.key??0}function ese(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.sceneNodes.values())if(r.scene===n&&r.name===t)return r.key;return 0}function tse(e){throw Ie("Scene_GetShadowTechnique",e),Error("Not implemented")}function nse(e,t){Ie("Scene_Load",e,t)}function rse(e,t,n,r){this.kernel.egor.scenes.get(e)?.setAmbient(t,n,r)}function ose(e,t,n,r,o,i,s,a){Ie("Scene_SetFog",e,t,n,r,o,i,s,a)}function ise(e,t){Ie("Scene_SetShadowTechnique",e,t)}function sse(e,t,n,r){e&&Ie("Scene_SetSkyBox",e,t,n,r)}function ase(e,t){Ie("Scene_SetWorldGeometry",e,t)}function lse(e,t){Ie("SceneNode_AttachObject",e,t)}function cse(e,t){return this.kernel.egor.scenes.get(e)?.createSceneNode({name:t||"__SceneNode_"+ete++}).key??0}function use(e){this.kernel.egor.sceneNodes.get(e)?.destroy()}function dse(e,t){Ie("SceneNode_DetachObject",e,t)}function hse(e){return this.kernel.egor.sceneNodes.get(e)?.movables.length??-1}function fse(e,t){return this.kernel.egor.sceneNodes.get(e)?.getMovable(t)?.key||0}function pse(e){throw Ie("SceneNode_GetScene",e),Error("Not implemented")}function gse(e,t,n,r,o){this.kernel.egor.sceneNodes.get(e)?.setAutoTracking(this.kernel.egor.sceneNodes.get(t)??null,n,r,o)}function mse(e,t,n){const r=this.kernel.egor.sceneNodes.get(e);if(!r)return;const o=!!t;if(!n){r.movables.forEach(i=>i.setVisible(o));return}(function i(s){s.movables.forEach(a=>a.setVisible(o)),s.children.forEach(a=>i(a))})(r)}function vse(e,t,n){Ie("StringInterface_GetParameter",e,t,n)}function yse(e){throw Ie("StringInterface_GetParameterCount",e),Error("Not implemented")}function bse(e,t,n){Ie("StringInterface_GetParameterDescription",e,t,n)}function wse(e,t,n){Ie("StringInterface_GetParameterName",e,t,n)}function Sse(e,t){throw Ie("StringInterface_GetParameterType",e,t),Error("Not implemented")}function Cse(e,t,n){const r=this.kernel.egor.overlayElements.get(e);r&&r.setParam(t,n)}function xse(e,t){throw Ie("Technique_Create",e,t),Error("Not implemented")}function _se(e,t){return this.kernel.egor.techniques.get(e)?.pass(t)?.key??0}function Ese(e,t){throw Ie("Technique_GetPassByName",e,t),Error("Not implemented")}function Tse(e,t){return this.kernel.egor.passes.get(e)?.createTextureUnit(t).key??0}function Mse(e,t,n){Ie("TextureUnitState_GetTexture",e,t,n)}function Ose(e,t,n){this.kernel.egor.texUnits.get(e)?.setTexture(this.kernel.egor.imageResByNameUC.get(t.toUpperCase())??null,n)}function Rse(e,t,n){throw Ie("Viewport_AddCompositor",e,t,n),Error("Not implemented")}function Ise(e,t,n){const r=this.kernel.egor.cameras.get(t);return r?this.kernel.egor.windows.get(e)?.createViewport(r,n).key??0:0}function Pse(e){Ie("Viewport_Destroy",e)}function kse(e,t,n,r){throw Ie("Viewport_GetBackgroundColour",e,t,n,r),Error("Not implemented")}function Dse(e){throw Ie("Viewport_GetCamera",e),Error("Not implemented")}function Ase(e,t){throw Ie("Viewport_GetCompositor",e,t),Error("Not implemented")}function Lse(e,t,n,r,o){throw Ie("Viewport_GetDimensions",e,t,n,r,o),Error("Not implemented")}function Nse(e){throw Ie("Viewport_GetNumCompositors",e),Error("Not implemented")}function Bse(e){throw Ie("Viewport_GetOverlaysEnabled",e),Error("Not implemented")}function Fse(e,t,n,r,o,i,s,a,c,u,h,f,g,m,y){const{origin:b,dir:v}=this.kernel.egor.viewports.get(e)?.camera.getRay(t,n,_0)||tte;r[o]=b[0],i[s]=b[1],a[c]=b[2],u[h]=v[0],f[g]=v[1],m[y]=v[2]}function jse(e,t){Ie("Viewport_RemoveCompositor",e,t)}function Vse(e,t,n,r){this.kernel.egor.viewports.get(e)?.setBackground(t,n,r)}function $se(e,t){const n=this.kernel.egor.cameras.get(t);n&&this.kernel.egor.viewports.get(e)?.setCamera(n)}function zse(e,t,n,r,o){Ie("Viewport_SetDimensions",e,t,n,r,o)}function Use(e,t){this.kernel.egor.viewports.get(e)?.enableOverlays(!!t)}function Hse(e){e("AnimationState_AddTime",{a:[A,k]},nte),e("AnimationState_GetEnabled",{a:[A],r:k},rte),e("AnimationState_GetLength",{a:[A],r:k},ote),e("AnimationState_GetLoop",{a:[A],r:k},ite),e("AnimationState_GetTimePosition",{a:[A],r:k},ste),e("AnimationState_GetWeight",{a:[A],r:k},ate),e("AnimationState_SetEnabled",{a:[A,k]},lte),e("AnimationState_SetLength",{a:[A,k]},cte),e("AnimationState_SetLoop",{a:[A,k]},ute),e("AnimationState_SetTimePosition",{a:[A,k]},dte),e("AnimationState_SetWeight",{a:[A,k]},hte),e("Billboard_GetColour",{a:[A,Ye,Ye,Ye,Ye]},fte),e("Billboard_GetPosition",{a:[A,Ye,Ye,Ye]},pte),e("Billboard_GetRotation",{a:[A],r:k},gte),e("Billboard_SetColour",{a:[A,k,k,k,k]},mte),e("Billboard_SetPosition",{a:[A,k,k,k]},vte),e("Billboard_SetRotation",{a:[A,k]},yte),e("BillboardSet_Create",{a:[A,fe,k],r:A},bte),e("BillboardSet_CreateBillboard",{a:[A,k,k,k],r:A},wte),e("BillboardSet_Destroy",{a:[A]},Ste),e("BillboardSet_GetBillboard",{a:[A,k],r:A},Cte),e("BillboardSet_GetBillboardType",{a:[A],r:k},xte),e("BillboardSet_GetCommonDirection",{a:[A,Ye,Ye,Ye]},_te),e("BillboardSet_GetCommonUpVector",{a:[A,Ye,Ye,Ye]},Ete),e("BillboardSet_GetDefaultDimensions",{a:[A,Ye,Ye]},Tte),e("BillboardSet_GetMaterialName",{a:[A,$o]},Mte),e("BillboardSet_GetNumBillboards",{a:[A],r:k},Ote),e("BillboardSet_RemoveBillboard",{a:[A,A]},Rte),e("BillboardSet_SetBillboardType",{a:[A,k]},Ite),e("BillboardSet_SetCommonDirection",{a:[A,k,k,k]},Pte),e("BillboardSet_SetCommonUpVector",{a:[A,k,k,k]},kte),e("BillboardSet_SetDefaultDimensions",{a:[A,k,k]},Dte),e("BillboardSet_SetMaterialName",{a:[A,fe]},Ate),e("Bone_GetManuallyControlled",{a:[A],r:k},Lte),e("Bone_Reset",{a:[A]},Nte),e("Bone_SetManuallyControlled",{a:[A,k]},Bte),e("Camera_Create",{a:[A,fe],r:A},Fte),e("Camera_Destroy",{a:[A]},jte),e("Camera_GetAspectRatio",{a:[A],r:k},Vte),e("Camera_GetFarClipDistance",{a:[A],r:k},$te),e("Camera_GetFOV",{a:[A],r:k},zte),e("Camera_GetNearClipDistance",{a:[A],r:k},Ute),e("Camera_GetPolygonMode",{a:[A],r:k},Hte),e("Camera_GetProjectionType",{a:[A],r:k},Gte),e("Camera_SetAspectRatio",{a:[A,k]},Wte),e("Camera_SetFarClipDistance",{a:[A,k]},Kte),e("Camera_SetFocalLength",{a:[A,k]},qte),e("Camera_SetFOV",{a:[A,k]},Yte),e("Camera_SetFrustumOffset",{a:[A,k,k]},Xte),e("Camera_SetNearClipDistance",{a:[A,k]},Zte),e("Camera_SetPolygonMode",{a:[A,k]},Jte),e("Camera_SetProjectionType",{a:[A,k]},Qte),e("Collision_GetDistance",{a:[k],r:k},ene),e("Collision_GetObject",{a:[k],r:A},tne),e("Collision_GetResultCount",{r:k},nne),e("Collision_RayCast",{a:[A,k,k,k,k,k,k]},rne),e("Collision_Sort",{},one),e("Compositor_GetEnabled",{a:[A],r:k},ine),e("Compositor_SetEnabled",{a:[A,k]},sne),e("Entity_Create",{a:[A,fe,fe],r:A},ane),e("Entity_Destroy",{a:[A]},lne),e("Entity_GetAnimationState",{a:[A,fe],r:A},cne),e("Entity_GetBone",{a:[A,fe],r:A},une),e("Entity_GetIndexCount",{a:[A,k],r:k},dne),e("Entity_GetMaterial",{a:[A,k,$o]},hne),e("Entity_GetSubEntityCount",{a:[A],r:k},fne),e("Entity_GetVertexCount",{a:[A],r:k},UD),e("Entity_GetVertexCount",{a:[A,k],r:k},UD),e("Entity_SetMaterial",{a:[A,k,fe]},pne),e("Light_Create",{a:[A,fe],r:A},gne),e("Light_Destroy",{a:[A]},mne),e("Light_GetPowerScale",{a:[A],r:k},vne),e("Light_SetAttenuation",{a:[A,k,k,k,k]},yne),e("Light_SetDiffuseColour",{a:[A,k,k,k]},bne),e("Light_SetPowerScale",{a:[A,k]},wne),e("Light_SetSpecularColour",{a:[A,k,k,k]},Sne),e("Light_SetSpotlightRange",{a:[A,k,k,k]},Cne),e("Light_SetType",{a:[A,k]},xne),e("ManualObject_Begin",{a:[A,fe,k]},_ne),e("ManualObject_Clear",{a:[A]},Ene),e("ManualObject_Colour",{a:[A,k,k,k,k]},Tne),e("ManualObject_ConvertToMesh",{a:[A,fe]},Mne),e("ManualObject_Create",{a:[A,fe],r:A},One),e("ManualObject_Destroy",{a:[A]},Rne),e("ManualObject_End",{a:[A]},Ine),e("ManualObject_EstimateIndexCount",{a:[A,k]},Pne),e("ManualObject_EstimateVertexCount",{a:[A,k]},kne),e("ManualObject_GetDynamic",{a:[A],r:k},Dne),e("ManualObject_Index",{a:[A,k]},Ane),e("ManualObject_Normal",{a:[A,k,k,k]},Lne),e("ManualObject_Position",{a:[A,k,k,k]},Nne),e("ManualObject_SetDynamic",{a:[A,k]},Bne),e("ManualObject_TextureCoord",{a:[A,k,k]},Fne),e("Material_Create",{a:[fe],r:A},jne),e("Material_Get",{a:[fe],r:A},Vne),e("Material_GetBestTechnique",{a:[A],r:A},$ne),e("Material_GetName",{a:[A,$o]},zne),e("Material_GetTechniqueByIndex",{a:[A,k],r:A},Une),e("Material_GetTechniqueByName",{a:[A,fe],r:A},Hne),e("Movable_GetBoundingBox",{a:[A,Ye,Ye,Ye,Ye,Ye,Ye]},Gne),e("Movable_GetCastShadows",{a:[A],r:k},Wne),e("Movable_GetName",{a:[A,$o]},Kne),e("Movable_GetParent",{a:[A],r:A},qne),e("Movable_GetVisible",{a:[A],r:k},Yne),e("Movable_SetCastShadows",{a:[A,k]},Xne),e("Movable_SetParent",{a:[A,A]},Zne),e("Movable_SetVisible",{a:[A,k]},Jne),e("MovableText_Create",{a:[fe,fe,fe],r:A},Qne),e("MovableText_Destroy",{a:[A]},ere),e("MovableText_GetCaption",{a:[A,$o]},tre),e("MovableText_GetCharacterHeight",{a:[A],r:k},nre),e("MovableText_GetColor",{a:[A,Ye,Ye,Ye,Ye]},rre),e("MovableText_GetFontName",{a:[A,$o]},ore),e("MovableText_GetGlobalTranslation",{a:[A,Ye,Ye,Ye]},ire),e("MovableText_GetLocalTranslation",{a:[A,Ye,Ye,Ye]},sre),e("MovableText_GetSpaceWidth",{a:[A],r:k},are),e("MovableText_GetTextAlignment",{a:[A,Ye,Ye]},lre),e("MovableText_SetCaption",{a:[A,fe]},cre),e("MovableText_SetCharacterHeight",{a:[A,k]},ure),e("MovableText_SetColor",{a:[A,k,k,k,k]},dre),e("MovableText_SetFontName",{a:[A,fe]},hre),e("MovableText_SetGlobalTranslation",{a:[A,k,k,k]},fre),e("MovableText_SetLocalTranslation",{a:[A,k,k,k]},pre),e("MovableText_SetSpaceWidth",{a:[A,k]},gre),e("MovableText_SetTextAlignment",{a:[A,k,k]},mre),e("Node_AddChild",{a:[A,A]},vre),e("Node_GetChild",{a:[A,k],r:A},yre),e("Node_GetDerivedPosition",{a:[A,Ye,Ye,Ye]},bre),e("Node_GetDerivedRotationQuaternion",{a:[A,Ye,Ye,Ye,Ye]},wre),e("Node_GetDerivedScale",{a:[A,Ye,Ye,Ye]},Sre),e("Node_GetName",{a:[A,$o]},Cre),e("Node_GetNumChildren",{a:[A],r:k},xre),e("Node_GetParent",{a:[A],r:A},_re),e("Node_GetPosition",{a:[A,Ye,Ye,Ye]},Ere),e("Node_GetRotationQuaternion",{a:[A,Ye,Ye,Ye,Ye]},Tre),e("Node_GetScale",{a:[A,Ye,Ye,Ye]},Mre),e("Node_RemoveChild",{a:[A,A]},Ore),e("Node_SetParent",{a:[A,A]},Rre),e("Node_SetPosition",{a:[A,k,k,k]},Ire),e("Node_SetRotationAxis",{a:[A,k,k,k,k]},Pre),e("Node_SetRotationEulerXYZ",{a:[A,k,k,k]},kre),e("Node_SetRotationEulerXZY",{a:[A,k,k,k]},Dre),e("Node_SetRotationEulerYXZ",{a:[A,k,k,k]},Are),e("Node_SetRotationEulerYZX",{a:[A,k,k,k]},Lre),e("Node_SetRotationEulerZXY",{a:[A,k,k,k]},Nre),e("Node_SetRotationEulerZYX",{a:[A,k,k,k]},Bre),e("Node_SetRotationQuaternion",{a:[A,k,k,k,k]},Fre),e("Node_SetScale",{a:[A,k,k,k]},jre),e("Overlay_AddChild",{a:[A,A]},Vre),e("Overlay_Create",{a:[fe],r:A},$re),e("Overlay_FindElementAt",{a:[A,k,k],r:A},zre),e("Overlay_Get",{a:[fe],r:A},Ure),e("Overlay_GetName",{a:[A,$o]},Hre),e("Overlay_GetRotate",{a:[A],r:k},Gre),e("Overlay_GetScale",{a:[A,Ye,Ye]},Wre),e("Overlay_GetScroll",{a:[A,Ye,Ye]},Kre),e("Overlay_GetVisible",{a:[A],r:k},qre),e("Overlay_GetZOrder",{a:[A],r:k},Yre),e("Overlay_RemoveChild",{a:[A,A]},Xre),e("Overlay_SetRotate",{a:[A,k]},Zre),e("Overlay_SetScale",{a:[A,k,k]},Jre),e("Overlay_SetScroll",{a:[A,k,k]},Qre),e("Overlay_SetVisible",{a:[A,k]},eoe),e("Overlay_SetZOrder",{a:[A,k]},toe),e("OverlayContainer_AddChild",{a:[A,A]},noe),e("OverlayContainer_GetChild",{a:[A,k],r:A},roe),e("OverlayContainer_GetChildCount",{a:[A],r:k},ooe),e("OverlayContainer_RemoveChild",{a:[A,A]},ioe),e("OverlayElement_Create",{a:[fe,fe],r:A},soe),e("OverlayElement_Get",{a:[fe],r:A},aoe),e("OverlayElement_GetAlignment",{a:[A,Ye,Ye]},loe),e("OverlayElement_GetCaption",{a:[A,$o]},coe),e("OverlayElement_GetColour",{a:[A,Ye,Ye,Ye,Ye]},uoe),e("OverlayElement_GetMaterialName",{a:[A,$o]},doe),e("OverlayElement_GetMetricsMode",{a:[A],r:k},hoe),e("OverlayElement_GetParent",{a:[A],r:A},foe),e("OverlayElement_GetPosition",{a:[A,Ye,Ye]},poe),e("OverlayElement_GetSize",{a:[A,Ye,Ye]},goe),e("OverlayElement_GetVisible",{a:[A],r:k},moe),e("OverlayElement_IsContainer",{a:[A],r:k},voe),e("OverlayElement_SetAlignment",{a:[A,k,k]},yoe),e("OverlayElement_SetCaption",{a:[A,fe]},boe),e("OverlayElement_SetColour",{a:[A,k,k,k,k]},woe),e("OverlayElement_SetMaterialName",{a:[A,fe]},Soe),e("OverlayElement_SetMetricsMode",{a:[A,k]},Coe),e("OverlayElement_SetPosition",{a:[A,k,k]},xoe),e("OverlayElement_SetSize",{a:[A,k,k]},_oe),e("OverlayElement_SetVisible",{a:[A,k]},Eoe),e("ParticleSystem_Create",{a:[A,fe,fe],r:A},Toe),e("ParticleSystem_CreateEx",{a:[A,fe,fe],r:A},Moe),e("ParticleSystem_Destroy",{a:[A]},Ooe),e("ParticleSystem_GetName",{a:[A,fe]},Roe),e("ParticleSystem_GetParent",{a:[A],r:A},Ioe),e("ParticleSystem_GetVisible",{a:[A],r:k},Poe),e("ParticleSystem_SetParent",{a:[A,A]},koe),e("ParticleSystem_SetVisible",{a:[A,k]},Doe),e("Pass_Create",{a:[A,fe],r:A},Aoe),e("Pass_GetAlphaRejectSettings",{a:[A,Ye,Ye]},Loe),e("Pass_GetAmbient",{a:[A,Ye,Ye,Ye,Ye]},Noe),e("Pass_GetColourWriteEnabled",{a:[A],r:k},Boe),e("Pass_GetCullingMode",{a:[A],r:k},Foe),e("Pass_GetDepthCheckEnabled",{a:[A],r:k},joe),e("Pass_GetDepthFunction",{a:[A],r:k},Voe),e("Pass_GetDepthWriteEnabled",{a:[A],r:k},$oe),e("Pass_GetDiffuse",{a:[A,Ye,Ye,Ye,Ye]},zoe),e("Pass_GetLightingEnabled",{a:[A],r:k},Uoe),e("Pass_GetPolygonMode",{a:[A],r:k},Hoe),e("Pass_GetSceneBlending",{a:[A,Ye,Ye]},Goe),e("Pass_GetSelfIllumination",{a:[A,Ye,Ye,Ye,Ye]},Woe),e("Pass_GetShadingMode",{a:[A],r:k},Koe),e("Pass_GetShininess",{a:[A],r:k},qoe),e("Pass_GetSpecular",{a:[A,Ye,Ye,Ye,Ye]},Yoe),e("Pass_GetTextureUnitStateByIndex",{a:[A,k],r:A},Xoe),e("Pass_GetTextureUnitStateByName",{a:[A,fe],r:A},Zoe),e("Pass_SetAlphaRejectSettings",{a:[A,k,k]},Joe),e("Pass_SetAmbient",{a:[A,k,k,k,k]},Qoe),e("Pass_SetColourWriteEnabled",{a:[A,k]},eie),e("Pass_SetCullingMode",{a:[A,k]},tie),e("Pass_SetDepthCheckEnabled",{a:[A,k]},nie),e("Pass_SetDepthFunction",{a:[A,k]},rie),e("Pass_SetDepthWriteEnabled",{a:[A,k]},oie),e("Pass_SetDiffuse",{a:[A,k,k,k,k]},iie),e("Pass_SetLightingEnabled",{a:[A,k]},sie),e("Pass_SetPolygonMode",{a:[A,k]},aie),e("Pass_SetSceneBlending",{a:[A,k,k]},lie),e("Pass_SetSelfIllumination",{a:[A,k,k,k,k]},cie),e("Pass_SetShadingMode",{a:[A,k]},uie),e("Pass_SetShininess",{a:[A,k]},die),e("Pass_SetSpecular",{a:[A,k,k,k,k]},hie),e("RenderTexture_Create",{a:[fe,k,k],r:A},fie),e("RenderTexture_Destroy",{a:[A]},pie),e("RenderWindow_Create",{a:[A,k,k],r:A},gie),e("RenderWindow_Create2",{a:[A,fe,k,k,k,k,k,k],r:A},mie),e("RenderWindow_CreateEx",{a:[A,k,k,k],r:A},vie),e("RenderWindow_Destroy",{a:[A]},yie),e("RenderWindow_Get",{a:[k],r:A},bie),e("RenderWindow_GetCount",{r:k},wie),e("RenderWindow_GetCursorHovered",{a:[A],r:k},Sie),e("RenderWindow_GetCursorPosition",{a:[A,Ye,Ye]},Cie),e("RenderWindow_GetKeyboardButtonPressed",{a:[A,k],r:k},xie),e("RenderWindow_GetMouseButtonPressed",{a:[A,k],r:k},_ie),e("RenderWindow_GetPosition",{a:[A,Ye,Ye]},Eie),e("RenderWindow_GetPrimary",{r:A},Tie),e("RenderWindow_GetSize",{a:[A,Ye,Ye]},Mie),e("RenderWindow_GetViewport",{a:[A,k],r:A},Oie),e("RenderWindow_GetViewportCount",{a:[A],r:k},Rie),e("RenderWindow_GetWheelPosition",{a:[A],r:k},Iie),e("RenderWindow_SetPosition",{a:[A,k,k]},Pie),e("RenderWindow_SetSize",{a:[A,k,k]},kie),e("RenderWindow_ToggleFullscreen",{a:[A],r:k},Die),e("Root_AddResourceLocation",{a:[fe,fe,fe,k]},Aie),e("Root_AddResourceLocationFromConfigFile",{a:[fe]},Lie),e("Root_Create",{a:[fe,fe,fe]},Nie),e("Root_Destroy",{},Bie),e("Root_GetTime",{r:k},Fie),e("Root_Initialise",{},jie),e("Root_InitialiseAllResourceGroups",{},Vie),e("Root_IsInitialised",{r:k},$ie),e("Root_RenderOneFrame",{r:k},zie),e("Root_RestoreConfig",{r:k},Uie),e("Root_SaveConfig",{},Hie),e("Root_ShowConfigDialog",{r:k},Gie),e("Scene_Clear",{a:[A]},Wie),e("Scene_Create",{a:[fe],r:A},Kie),e("Scene_Destroy",{a:[A]},qie),e("Scene_GetCamera",{a:[A,fe],r:A},Yie),e("Scene_GetEntity",{a:[A,fe],r:A},Xie),e("Scene_GetLight",{a:[A,fe],r:A},Zie),e("Scene_GetParticleSystem",{a:[A,fe],r:A},Jie),e("Scene_GetRootSceneNode",{a:[A],r:A},Qie),e("Scene_GetSceneNode",{a:[A,fe],r:A},ese),e("Scene_GetShadowTechnique",{a:[A],r:k},tse),e("Scene_Load",{a:[A,fe]},nse),e("Scene_SetAmbientLight",{a:[A,k,k,k]},rse),e("Scene_SetFog",{a:[A,k,k,k,k,k,k,k]},ose),e("Scene_SetShadowTechnique",{a:[A,k]},ise),e("Scene_SetSkyBox",{a:[A,k,fe,k]},sse),e("Scene_SetWorldGeometry",{a:[A,fe]},ase),e("SceneNode_AttachObject",{a:[A,A]},lse),e("SceneNode_Create",{a:[A,fe],r:A},cse),e("SceneNode_Destroy",{a:[A]},use),e("SceneNode_DetachObject",{a:[A,A]},dse),e("SceneNode_GetNumObjects",{a:[A],r:k},hse),e("SceneNode_GetObject",{a:[A,k],r:A},fse),e("SceneNode_GetScene",{a:[A],r:A},pse),e("SceneNode_SetAutoTracking",{a:[A,A,k,k,k]},gse),e("SceneNode_SetVisible",{a:[A,k,k]},mse),e("StringInterface_GetParameter",{a:[A,fe,fe]},vse),e("StringInterface_GetParameterCount",{a:[A],r:k},yse),e("StringInterface_GetParameterDescription",{a:[A,k,fe]},bse),e("StringInterface_GetParameterName",{a:[A,k,fe]},wse),e("StringInterface_GetParameterType",{a:[A,k],r:k},Sse),e("StringInterface_SetParameter",{a:[A,fe,fe]},Cse),e("Technique_Create",{a:[A,fe],r:A},xse),e("Technique_GetPassByIndex",{a:[A,k],r:A},_se),e("Technique_GetPassByName",{a:[A,fe],r:A},Ese),e("TextureUnitState_Create",{a:[A,fe],r:A},Tse),e("TextureUnitState_GetTexture",{a:[A,fe,A]},Mse),e("TextureUnitState_SetTexture",{a:[A,fe,k]},Ose),e("Viewport_AddCompositor",{a:[A,fe,k],r:A},Rse),e("Viewport_Create",{a:[A,A,k],r:A},Ise),e("Viewport_Destroy",{a:[A]},Pse),e("Viewport_GetBackgroundColour",{a:[A,Ye,Ye,Ye]},kse),e("Viewport_GetCamera",{a:[A],r:A},Dse),e("Viewport_GetCompositor",{a:[A,k],r:A},Ase),e("Viewport_GetDimensions",{a:[A,Ye,Ye,Ye,Ye]},Lse),e("Viewport_GetNumCompositors",{a:[A],r:k},Nse),e("Viewport_GetOverlaysEnabled",{a:[A],r:k},Bse),e("Viewport_GetRay",{a:[A,k,k,Ye,Ye,Ye,Ye,Ye,Ye]},Fse),e("Viewport_RemoveCompositor",{a:[A,A]},jse),e("Viewport_SetBackgroundColour",{a:[A,k,k,k]},Vse),e("Viewport_SetCamera",{a:[A,A]},$se),e("Viewport_SetDimensions",{a:[A,k,k,k,k]},zse),e("Viewport_SetOverlaysEnabled",{a:[A,k]},Use)}const Gse={name:"ogre",deps:["windows"],register:Hse,setup(e){e.egor=new FJ,e.egorShouldRender=!1,e.egorRayCastResult=null,e.egorManualObjectsSections=new WeakMap,e.beforeRender.add(()=>{e.egorShouldRender&&(e.egorShouldRender=!1,e.egor.renderAll())})}},Wse=13,Kse=10,qse=[1,1,2,2,4,4,4,5,8,10];function GD(e){return e<0||e>9?0:qse[e]}class WD{constructor(t=null,n=null){this.file=n,t?this.v=new DataView(t.buffer,t.byteOffset,t.byteLength):this.v=new DataView(new ArrayBuffer(0)),this.p=0,this.width=8}copyTo(t,n,r){return n<0||n+r>this.v.byteLength?0:(t.v.byteLength<r?t.v=new DataView(this.v.buffer.slice(n,r)):new Uint8Array(t.v.buffer).set(new Uint8Array(this.v.buffer,n,r)),1)}seek(t){return this.p=t}eof(){return this.p>=this.size()?1:0}pos(){return this.p}size(){return this.v.byteLength}setWidth(t){return this.width=t,1}widthNumber(){const t=GD(this.width);if(t===0)return 0;const n=this.p,r=n+t;if(r>this.size())return 0;switch(this.p=r,this.width){case 0:return this.v.getUint8(n);case 1:return this.v.getInt8(n);case 2:return this.v.getUint16(n,!0);case 3:return this.v.getInt16(n,!0);case 4:return this.v.getUint32(n,!0);case 5:return this.v.getInt32(n,!0);case 6:return this.v.getFloat32(n,!0);case 7:throw Error("Чтение FLOAT40 не поддерживается");case 8:return this.v.getFloat64(n,!0);case 9:throw Error("Чтение FLOAT80 не поддерживается");default:return 0}}resize(t){const n=new Uint8Array(new ArrayBuffer(t));n.set(new Uint8Array(this.v.buffer)),this.v=new DataView(n.buffer)}writeWidthNumber(t){const n=GD(this.width);if(n===0)return 0;const r=this.p,o=r+n;switch(o>this.size()&&this.resize(o),this.p=o,this.width){case 0:return this.v.setUint8(r,t),1;case 1:return this.v.setInt8(r,t),1;case 2:return this.v.setUint16(r,t,!0),2;case 3:return this.v.setInt16(r,t,!0),2;case 4:return this.v.setUint32(r,t,!0),4;case 5:return this.v.setInt32(r,t,!0),4;case 6:return this.v.setFloat32(r,t,!0),4;case 7:throw Error("FLOAT40 не поддерживается");case 8:return this.v.setFloat64(r,t,!0),8;case 9:throw Error("FLOAT80 не поддерживается");default:return 0}}getLine(t,n){const r=this.p,o=Math.min(t,this.size()-r);if(o<=0)return"";let i=0,s="";for(;i<o;){const a=this.v.getUint8(r+i);i++;const c=fa[a];if(s+=c,c===n)break}return this.p+=i,s}line(){const t=this.p,n=this.size()-t;if(n<=0)return"";let r=0,o=0;for(;r<n;){const s=this.v.getUint8(t+r);if(s===0){o=1;break}if(s===Wse&&r+1<n&&this.v.getUint8(t+r+1)===Kse){o=2;break}r+=1}const i=qv(new Uint8Array(this.v.buffer,t,r));return this.p=t+r+o,i}writeLine(t){const n=t+`\r
`;let r=this.p;const o=r+n.length;return o>this.size()&&this.resize(o),this.p=o,$C(n).forEach((s,a)=>this.v.setUint8(r+a,s)),n.length}write(t){let n=this.p;const r=n+t.length;r>this.size()&&this.resize(r),this.p=r,t.forEach((o,i)=>this.v.setUint8(n+i,o))}bytes(){return new Uint8Array(this.v.buffer)}}function Yse(e,t,n){const r=e.toUpperCase(),o=n.toUpperCase(),i=o.includes("CREATE"),s=o.includes("READONLY"),a=Ts.freeKey(this.kernel.streams);if(t==="?")throw Error("Некорректное использование fileLoadDialog");if(r==="FILE"){const c=this.prj.dir.resolve(t);let u=null,h=null;if(i){if(u=c.create("file",{base64:""}),!u)return 0}else{if(u=c.file(),!u)return 0;u.base64?h=VC(u.base64):so.debugFile&&console.warn(`CreateStream: Файл ${c} (${u.size} байт) существует, но формат не base64.`)}return this.kernel.streams.set(a,new WD(h,s?null:u)),a}return r==="MEMORY"?(this.kernel.streams.set(a,new WD),a):(console.warn(`Поток типа ${r} не поддерживается`),0)}function Xse(e){const t=this.kernel.streams.get(e);if(!t)return 0;if(this.kernel.streams.delete(e),!t.file)return 1;const n=t.bytes();return t.file.set({base64:Kv(n)}),this.kernel.handleWrite(t.file.path,n),1}function Zse(e,t){return this.kernel.streams.get(e)?.seek(t)??0}function Jse(e){return this.kernel.streams.get(e)?.eof()??0}function Qse(e){return this.kernel.streams.get(e)?.pos()??0}function eae(e){return this.kernel.streams.get(e)?.size()??0}function tae(e,t){return this.kernel.streams.get(e)?.setWidth(t)??0}function nae(e){return this.kernel.streams.get(e)?.widthNumber()??0}function rae(e){return this.kernel.streams.get(e)?.line()??""}function oae(e,t){return this.kernel.streams.get(e)?.writeWidthNumber(t)??0}function iae(e,t){return this.kernel.streams.get(e)?.writeLine(t)??0}function sae(e,t,n){return this.kernel.streams.get(e)?.getLine(t,n)??""}function aae(e,t,n,r){const o=this.kernel.streams.get(e);if(!o)return 0;const i=this.kernel.streams.get(t);return i?o.copyTo(i,n,r):0}function lae(e){e("CreateStream",{a:[fe,fe,fe],r:A},Yse),e("CloseStream",{a:[A],r:k},Xse),e("Seek",{a:[A,k],r:k},Zse),e("Eof",{a:[A],r:k},Jse),e("GetPos",{a:[A],r:k},Qse),e("GetSize",{a:[A],r:k},eae),e("SetWidth",{a:[A,k],r:k},tae),e("Read",{a:[A],r:k},nae),e("ReadLn",{a:[A],r:fe},rae),e("Write",{a:[A,k],r:k},oae),e("WriteLn",{a:[A,fe],r:k},iae),e("GetLine",{a:[A,k,fe],r:fe},sae),e("CopyBlock",{a:[A,A,k,k],r:k},aae)}const cae={name:"streams",register:lae,setup(e){e.streams=new Map}};function uae(e){switch(e){case et.WEB_DIALOG_OPEN:switch(this.kernel.fileDialogState.type){case"closed":return 0;case"willOpen":return 1;case"open":return 2;case"fileSelected":return 3}default:return this.kernel._functionNotImplemented(`System(${e})`),0}}function dae(e){return x0(e)?1:0}function hae(e,t,n,r,o){const i=this.kernel.windows.get(e);if(!i)return t[n]=0,r[o]=0,0;const s=i.mouseX+i.scene.x,a=i.mouseY+i.scene.y,c=i.invmatrix;if(!c)return t[n]=s,r[o]=a,1;const u=s*c[2]+a*c[5]+c[8];return t[n]=(s*c[0]+a*c[3]+c[6])/u,r[o]=(s*c[1]+a*c[4]+c[7])/u,1}function fae(e){this.kernel.windowSystem.showCursor(e>0)}function KD(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;let r;switch(t){case et.CUR_ARROW:r="auto";break;case et.CUR_CROSS:r="crosshair";break;case et.CUR_TEXT:r="text";break;case et.CUR_NO:r="not-allowed";break;case et.CUR_SIZE:r="move";break;case et.CUR_SIZENESW:r="nesw-resize";break;case et.CUR_SIZENS:r="ns-resize	";break;case et.CUR_SIZENWSE:r="nwse-resize";break;case et.CUR_SIZEWE:r="ew-resize";break;case et.CUR_UPARROW:r="n-resize";break;case et.CUR_WAIT:r="wait";break;case et.CUR_LINK:r="pointer";break;case et.CUR_HELP:r="help";break;default:r="auto";break}n.setCursor(r)}function qD(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;const r=this.prj.dir.resolve(t).file()?.cursor;n.setCursor(r?`url(${Xi(r.src)}), auto`:"default")}function pae(){return Date.now()-v9}function gae(e,t,n,r,o,i,s,a){const c=new Date;e[t]=c.getHours(),n[r]=c.getMinutes(),o[i]=c.getSeconds(),s[a]=c.getMilliseconds()*.1}function mae(e,t,n,r,o,i){const s=new Date;e[t]=s.getFullYear(),n[r]=s.getMonth()+1,o[i]=s.getDate()}function vae(e,t,n,...[r,o,i,s,a]){if(n>4)return 0;const c=this.kernel.scenes.get(e)?.scene.objects.get(t);return c?(n<0?delete c.data.hyper:c.data.hyper={mode:n,target:r,object:o,effect:i,window:s,params:a},1):0}function yae(e,t,n,r){const o=this.kernel.scenes.get(e);if(!o)return;const i=(o.scene.objects.get(r)??o.pick(t,n))?.data?.hyper;i&&o.hyperClick(i,{x:t,y:n})}function bae(){return this.kernel.windowSystem.windowFactory.screenWidth}function wae(){return this.kernel.windowSystem.windowFactory.screenHeight}function Sae(){return 0}function Cae(){return 0}function xae(){return this.kernel.windowSystem.windowFactory.screenWidth}function _ae(){return this.kernel.windowSystem.windowFactory.screenHeight}function Eae(){return 0}function Tae(){return 0}function Mae(){return 0}function Oae(){return 0}function Rae(){return 0}function Iae(){return 0}function Pae(e,t){return this.kernel.handleExe(e,t)?1:0}function kae(e,t,n,r){return this.kernel.handleShell(e,t,n,r)?1:0}function Dae(e){this.kernel.log(e,this)}function Aae(e){e("System",{a:[k],rest:[k],r:k},uae),e("GetAsyncKeyState",{a:[k],r:k},dae),e("GetMousePos",{a:[fe,Ye,Ye],r:k},hae),e("ShowCursor",{a:[k]},fae),e("LoadCursor",{a:[A,fe]},qD),e("LoadCursor",{a:[fe,fe]},qD),e("SetStandartCursor",{a:[A,k]},KD),e("SetStandartCursor",{a:[fe,k]},KD),e("GetTickCount",{r:k},pae),e("GetTime",{a:[Ye,Ye,Ye,Ye]},gae),e("GetDate",{a:[Ye,Ye,Ye]},mae),e("SetHyperJump2d",{a:[A,A,k],rest:[fe],r:k},vae),e("StdHyperJump",{a:[A,k,k,A,k]},yae),e("GetScreenWidth",{r:k},bae),e("GetScreenHeight",{r:k},wae),e("GetWorkAreaX",{r:k},Sae),e("GetWorkAreaY",{r:k},Cae),e("GetWorkAreaWidth",{r:k},xae),e("GetWorkAreaHeight",{r:k},_ae),e("GetTitleHeight",{r:k},Eae),e("GetSmallTitleHeight",{r:k},Tae),e("GetFixedFrameWidth",{r:k},Mae),e("GetFixedFrameHeight",{r:k},Oae),e("GetSizeFrameWidth",{r:k},Rae),e("GetSizeFrameHeight",{r:k},Iae),e("WinExecute",{a:[fe,k],r:k},Pae),e("Shell",{a:[fe,fe,fe,k],r:k},kae),e("LogMessage",{a:[fe]},Dae)}const Lae={name:"system",deps:["windows"],register:Aae};function Nae(e){return e.toString()}function Bae(e,t){return e<0||e>255?"":fa[e]}function Fae(e){e("FloatToString",{a:[k],r:fe},Nae),e("ConvertToAscii",{a:[k,k],r:fe},Bae)}const jae={name:"vrtkbd",register:Fae};async function wy({src:e,etag:t},n){let r;try{r=await fetch(`${Rq(e)}${t?"?"+t:""}`,n)}catch(i){throw i instanceof Error?Error("Сервер библиотек не отвечает"):i}if(r.status===404)throw Error(`404: Библиотека '${e}' не существует`);const o=await r.json();if(!r.ok)throw Error(o.message||"Неизвестная ошибка");return o}function YD(e,t,n,r){const{children:o}=e,i=o.length?o[0]:null,s=Ih(e.scene,t,r).set({x:e.x,y:e.y,attrib:e.attrib});if(i){const a=e.attrib|za;n?(i.set({attrib:a}),s.set({width:i.width,height:i.height})):i.set({attrib:a,width:1,height:1})}return e.set({children:o.concat(s)}),s}const Ka={gspace:"ApJIp71s","scroll-x":"qhzEyKeP","scroll-y":"j1zyfqqN",hidden:"-WlIuMox",scene:"_-7ivHAO2",frame:"xTZG1aX9",spacer:"Q4gUooLG"};class Vae{constructor(t,n){this.space=t,this.view=n,this.onDisposed=new pa}dispose(){this.view.remove(),this.space._removeFrame(this)}}class E0{constructor({system:t,key:n,name:r,project:o,data:i,options:s,x:a=0,y:c=0,matrix:u=null,source:h=null,parent:f=null,sceneChildren:g}){this.clientWidth=0,this.clientHeight=0,this.isVisible=!0,this.scale=1,this.mouseX=0,this.mouseY=0,this.mouseMoveSubs=new Bl,this.leftButtonUpSubs=new Bl,this.leftButtonDownSubs=new Bl,this.rightButtonUpSubs=new Bl,this.rightButtonDownSubs=new Bl,this.middleButtonUpSubs=new Bl,this.middleButtonDownSubs=new Bl,this.keyDownSubs=new Set,this.keyUpSubs=new Set,this.keyCharSubs=new Set,this.controlNotifySubs=new Bl,this.windowMoveSubs=new Set,this.spaceDoneSubs=new Set,this.sizeSubs=new Set,this.frames=new Set,this.all=new Set([this]),this.hiddenBy=null,this.currentCursor="auto",this.cursorOverHyp=!1,this.connectedWindow=null,this.spacer=null,this.scrollX=null,this.scrollY=null,this.scrolledSceneX=NaN,this.scrolledSceneY=NaN,this.title=r,this.system=t,this.kernel=t.kernel,this.key=n,this.name=r,this.project=o,this.matrix=u,this.invmatrix=u&&fq(u),this.parent=f,this.source=h,this.x=a,this.y=c;const m=this.scene=t.sceneFactory.create(i,o.settings.graphicsBackend);g?.forEach(({key:T,klass:R})=>{const M=t.kernel.classes.get(R)?.image;if(!M||M.prior==="icon"||!M.scene?.data?.objects?.length)return;const I=m.objects.get(T);I?.type==="group"&&YD(I,M.scene.data,M.resizable)}),m.domElement.classList.add(Ka.scene);const y=this.domElement=document.createElement("div");y.className=Ka.gspace,y.tabIndex=0,y.setAttribute("data-gspace-name",r),y.setAttribute("data-gspace-key",n.toString()),y.append(m.domElement);const b=s.size;if(b?.type==="fixed"&&(this.clientWidth=b.width,this.clientHeight=b.height),b?.type!=="fixed"||s.hscroll||s.vscroll){const T=ay(m.objects.values());m.set({x:T.x,y:T.y}),this.clientWidth<=0&&(this.clientWidth=T.w),this.clientHeight<=0&&(this.clientHeight=T.h),s.hscroll&&(this.scrollX={min:T.x,max:T.x+(s.autoscroll?0:T.w)}),s.vscroll&&(this.scrollY={min:T.y,max:T.y+(s.autoscroll?0:T.h)})}this.clientWidth<=0&&(this.clientWidth=this.system.windowFactory.screenWidth),this.clientHeight<=0&&(this.clientHeight=this.system.windowFactory.screenHeight),Ku(y,{...f&&{left:a-f.scene.x+"px",top:c-f.scene.y+"px"},width:this.clientWidth+"px",height:this.clientHeight+"px"});const{pointerTarget:v}=this;v.addEventListener("contextmenu",_k);const S=this.handlePointer.bind(this);v.addEventListener("pointerdown",S),v.addEventListener("pointermove",S),v.addEventListener("pointerup",S),v.addEventListener("pointercancel",S);const E=this.handleKeyboard.bind(this);y.addEventListener("keydown",E),y.addEventListener("keyup",E),m.onInputChanged.add(this.handleInput.bind(this))}get pointerTarget(){return this.scene.domElement}setTitle(t){this.title=t,this.connectedWindow?.set({title:t})}setConnectedWindow(t){t.onClosed.add(this.onConnectedWindowClosed.bind(this)),this.connectedWindow=t}onConnectedWindowClosed(){this.connectedWindow=null,this.close()}setOpacity(t){const{domElement:n}=this;t>=1?n.style.removeProperty("opacity"):Ku(n,{transition:"none",opacity:t.toString()})}updateMouseCoords(t,n){this.mouseX=t,this.mouseY=n,this.parent?.updateMouseCoords(this.x+t,this.y+n)}syncScrollbars(){const{domElement:t,scene:n,scrollX:r,scrollY:o}=this;r&&(this.scrolledSceneX===n.x?n.set({x:r.min+t.scrollLeft}):t.scrollLeft=n.x-r.min,this.scrolledSceneX=n.x),o&&(this.scrolledSceneY===n.y?n.set({y:o.min+t.scrollTop}):t.scrollTop=n.y-o.min,this.scrolledSceneY=n.y)}beforeRender(){this.syncScrollbars(),this.scene._render()}beforeAll(){this.syncScrollbars()}afterAll(){const{domElement:t,scrollX:n,scrollY:r}=this;if(!n&&!r)return;if(!this.spacer){const u=this.spacer=document.createElement("div");u.className=Ka.spacer,t.append(u)}const{spacer:o}=this;let i=n?Math.max(n.max-n.min,0):0,s=r?Math.max(r.max-r.min,0):0;const a=n&&!i,c=r&&!s;if(a||c){const u=ay(this.scene.objects.values());a&&(i=u.w),c&&(s=u.h)}if(n){t.classList.contains(Ka["scroll-x"])||t.classList.add(Ka["scroll-x"]);const u=Math.round(i)+"px";o.style.width!==u&&(o.style.width=u)}if(r){t.classList.contains(Ka["scroll-y"])||t.classList.add(Ka["scroll-y"]);const u=Math.round(s)+"px";o.style.height!==u&&(o.style.height=u)}}updateCursor(){const t=this.system.cursorVisible?this.cursorOverHyp?"pointer":this.currentCursor:"none",{domElement:n}=this;n.style.cursor!==t&&(n.style.cursor=t)}setCapture(t){this.system.setCapture(this,t)}subscribe(t,n,r,o){const i=o&1,s=this.scene.objects.get(r)??null;switch(n){case et.WM_MOVE:this.windowMoveSubs.add(t);break;case et.WM_SPACEDONE:this.spaceDoneSubs.add(t);break;case et.WM_SIZE:this.sizeSubs.add(t);break;case et.WM_CONTROLNOTIFY:(s||r===0)&&this.controlNotifySubs.set(t,s);break;case et.WM_MOUSEMOVE:(s||!i)&&this.mouseMoveSubs.set(t,i?s:null);break;case et.WM_LBUTTONDOWN:(s||!i)&&this.leftButtonDownSubs.set(t,i?s:null);break;case et.WM_LBUTTONUP:(s||!i)&&this.leftButtonUpSubs.set(t,i?s:null);break;case et.WM_RBUTTONDOWN:(s||!i)&&this.rightButtonDownSubs.set(t,i?s:null);break;case et.WM_RBUTTONUP:(s||!i)&&this.rightButtonUpSubs.set(t,i?s:null);break;case et.WM_MBUTTONDOWN:(s||!i)&&this.middleButtonDownSubs.set(t,i?s:null);break;case et.WM_MBUTTONUP:(s||!i)&&this.middleButtonUpSubs.set(t,i?s:null);break;case et.WM_ALLMOUSEMESSAGE:if(!s&&i)break;const a=i?s:null;this.mouseMoveSubs.set(t,a),this.leftButtonDownSubs.set(t,a),this.leftButtonUpSubs.set(t,a),this.rightButtonDownSubs.set(t,a),this.rightButtonUpSubs.set(t,a),this.middleButtonDownSubs.set(t,a),this.middleButtonUpSubs.set(t,a);break;case et.WM_KEYDOWN:this.keyDownSubs.add(t);break;case et.WM_KEYUP:this.keyUpSubs.add(t);break;case RC:this.keyCharSubs.add(t);break;case et.WM_ALLKEYMESSAGE:this.keyDownSubs.add(t),this.keyUpSubs.add(t),this.keyCharSubs.add(t);break;default:t.kernel._functionNotImplemented(`Подписка на ${et[n]}`,t);break}}unsubscribe(t,n){switch(n){case et.WM_MOVE:this.windowMoveSubs.delete(t);break;case et.WM_SPACEDONE:this.spaceDoneSubs.delete(t);break;case et.WM_SIZE:this.sizeSubs.delete(t);break;case et.WM_CONTROLNOTIFY:this.controlNotifySubs.delete(t);break;case et.WM_MOUSEMOVE:this.mouseMoveSubs.delete(t);break;case et.WM_LBUTTONDOWN:this.leftButtonDownSubs.delete(t);break;case et.WM_LBUTTONUP:this.leftButtonUpSubs.delete(t);break;case et.WM_RBUTTONDOWN:this.rightButtonDownSubs.delete(t);break;case et.WM_RBUTTONUP:this.rightButtonUpSubs.delete(t);break;case et.WM_MBUTTONDOWN:this.middleButtonDownSubs.delete(t);break;case et.WM_MBUTTONUP:this.middleButtonUpSubs.delete(t);break;case et.WM_ALLMOUSEMESSAGE:this.mouseMoveSubs.delete(t),this.leftButtonDownSubs.delete(t),this.leftButtonUpSubs.delete(t),this.rightButtonDownSubs.delete(t),this.rightButtonUpSubs.delete(t),this.middleButtonDownSubs.delete(t),this.middleButtonUpSubs.delete(t);break;case et.WM_KEYDOWN:this.keyDownSubs.delete(t);break;case et.WM_KEYUP:this.keyUpSubs.delete(t);break;case RC:this.keyCharSubs.delete(t);break;case et.WM_ALLKEYMESSAGE:this.keyDownSubs.delete(t),this.keyUpSubs.delete(t),this.keyCharSubs.delete(t);break}}setWindowOrg(t,n){this.x=t,this.y=n,this.connectedWindow?this.connectedWindow.set({x:t,y:n}):this.parent&&Ku(this.domElement,{left:t-this.parent.scene.x+"px",top:n-this.parent.scene.y+"px"})}setWindowSize(t,n){this.clientWidth=t,this.clientHeight=n;const{inverseScale:r}=this;Ku(this.domElement,{width:t*r+"px",height:n*r+"px"})}setWindowPos(t,n,r,o){this.setWindowOrg(t,n),this.setWindowSize(r,o)}setSceneOrg(t,n){this.scene.set({x:t,y:n})}setScrollX(t,n){const{scrollX:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollX={min:t,max:n},this.scrolledSceneX=this.scene.x-t)}setScrollY(t,n){const{scrollY:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollY={min:t,max:n},this.scrolledSceneY=this.scene.y-t)}setCursor(t){this.currentCursor=t,this.updateCursor()}createFrame(t){t.classList.add(Ka.frame),this.domElement.append(t);const n=new Vae(this,t);return this.frames.add(n),n}createChild(t){const n=new E0({...t,parent:this});return this.domElement.append(n.domElement),this.all.add(n),n}pick(t,n,r){let o=t,i=n;const s=this.matrix;if(s){const c=t*s[2]+n*s[5]+s[8];o=(t*s[0]+n*s[3]+s[6])/c,i=(t*s[1]+n*s[4]+s[7])/c}let a=this.scene.pick(o,i);if(r&&(this.system.lastPickedPrimaryKey=a?.key??0),!a)return null;for(;a.parent;)a=a.parent;return a}paste(t,n,r,o){if(!t.objects?.length)return null;let i=t;if(o&et.PFC_ALL){const h={...t};o&et.PFC_PENS&&delete h.pens,o&et.PFC_BRUHS&&delete h.brushes,o&et.PFC_DDIBS&&delete h.images,o&et.PFC_DIBS&&delete h.imagesOpaque,o&et.PFC_STRINGS&&delete h.strings,o&et.PFC_FONTS&&delete h.fonts,o&et.PFC_TEXTS&&delete h.texts,i=h}const s=Ih(this.scene,i);if(!(o&et.PFC_MOVEOBJECT))return s;let a=n,c=r;const u=this.matrix;if(u){const h=n*u[2]+r*u[5]+u[8];a=(n*u[0]+r*u[3]+u[6])/h,c=(n*u[1]+r*u[4]+u[7])/h}return s.set({x:a,y:c})}async tryOpenProject(t,n){const r=this.project.dir.resolve(t);let o;try{o=await this.kernel.openProject(r)}catch(i){if(!(i instanceof Error))throw i;console.warn(`Не удалось открыть ${r}: ${i.message}`);return}if(!o){console.warn(`${r} не существует`);return}n&&this.system.hideProjectWindows(this.project,o)}hyperClick(t,n){const{project:r}=this;switch(t.object&&console.warn("Посылка WM_HYPERJUMP не реализована"),t.mode){case Uv:{if(t.target){const o=t.window||"",i=t.target,s="WS_BYSPACE",a=n.x-this.scene.x,c=n.y-this.scene.y;requestAnimationFrame(()=>{const u=this.system.createGSpace(r,o,i,s,a,c);this.connectedWindow&&u?.connectedWindow?.set({preserveX:!0})})}break}case DC:{const o=t.target;if(!o)break;this.kernel.handleExe(o);break}case AC:{const o=t.target;if(!o)break;const i=t.params?.toUpperCase().includes("/HIDEWINDOWS");this.tryOpenProject(o,i);break}case ak:break;case Hv:{const o=t.target?.toUpperCase();if(!o)break;switch(o){case LC:this.kernel.closeAll();break;case NC:r.close();break;default:console.warn(`Действие '${o}' не реализовано.`);break}break}default:console.warn("Неизвестный тип гиперперехода"),console.log(t)}}toTop(){this.connectedWindow?this.connectedWindow?.toTop():this.parent?.domElement.append(this.domElement)}hide(){this.isVisible=!1,this.connectedWindow?this.connectedWindow.set({visible:!1}):this.domElement.classList.add(Ka.hidden)}show(){this.isVisible=!0,this.connectedWindow?this.connectedWindow.set({visible:!0}):this.domElement.classList.remove(Ka.hidden)}get actualScale(){return Math.max(this.scale,.1)}get inverseScale(){return 1/this.actualScale}setScale(t){if(this.scale=t,t!==1){const{actualScale:n,inverseScale:r}=this;Ku(this.domElement,{transform:`scale(${n})`,width:this.clientWidth*r+"px",height:this.clientHeight*r+"px"})}else Ku(this.domElement,{transform:"none",width:this.clientWidth+"px",height:this.clientHeight+"px"})}_hide(t){this.hiddenBy=t,this.hide()}_restoreIfHiddenBy(t){this.hiddenBy===t&&(this.hiddenBy=null,this.show())}_dispose(){this.parent?.all.delete(this),this.scene.dispose(),this.frames.forEach(t=>t.onDisposed.dispatch()),this.frames.clear(),this.connectedWindow?.remove(),queueMicrotask(this.handleClose.bind(this))}_removeFrame(t){this.frames.delete(t)}close(){this.system._closeWindows(this.all)}handlePointer(t){if(!t.isPrimary||t.target!==t.currentTarget)return;this.updateMouseCoords(t.offsetX,t.offsetY);const{captureTarget:n}=this.system;if(n){const S=n.w;if(S.pointerTarget.setPointerCapture(t.pointerId),S!==this)return}const{scene:r}=this,o=Math.round(t.offsetX+r.x),i=Math.round(t.offsetY+r.y);let s=r.pick(o,i);for(;s;){const S=s.parent;if(!S)break;s=S}const a=s?.data?.hyper;let c,u;switch(t.type){case"pointerdown":{switch(t.button){case 0:a&&!a.disabled&&this.hyperClick(a,{x:o,y:i}),u=et.WM_LBUTTONDOWN,c=this.leftButtonDownSubs;break;case 1:u=et.WM_MBUTTONDOWN,c=this.middleButtonDownSubs;break;case 2:u=et.WM_RBUTTONDOWN,c=this.rightButtonDownSubs;break;default:return}break}case"pointerup":case"pointercancel":{switch(t.button){case 0:u=et.WM_LBUTTONUP,c=this.leftButtonUpSubs;break;case 1:u=et.WM_MBUTTONUP,c=this.middleButtonUpSubs;break;case 2:u=et.WM_RBUTTONUP,c=this.rightButtonUpSubs;break;default:return}break}case"pointermove":{this.cursorOverHyp=!!a&&!a.disabled,this.updateCursor(),u=et.WM_MOUSEMOVE,c=this.mouseMoveSubs;break}default:return}let h=o,f=i;const g=this.invmatrix;if(g){const S=o*g[2]+i*g[5]+g[8];h=(o*g[0]+i*g[3]+g[6])/S,f=(o*g[1]+i*g[4]+g[7])/S}const m=t.buttons&1?1:0,y=t.buttons&2?2:0,b=t.buttons&4?16:0,v=m|y|b;c.forEach((S,E)=>{if(!(n&&n.w===this&&n.s===E||S.has(s)||S.has(null))||!this.kernel.canHandleProjectUiEvents(E.prj))return;const{msg:R,xpos:M,ypos:I,fwkeys:N}=E.klass.vars;R&&(E.vars.setValue(R,u),M&&E.vars.setValue(M,h),I&&E.vars.setValue(I,f),N&&E.vars.setValue(N,v),E.compute(!0))})}handleKeyboard(t){if(t.target!==t.currentTarget)return;const{winVKey:n}=t;if(typeof n!="number")return;let r,o;switch(t.type){case"keydown":r=et.WM_KEYDOWN,o=this.keyDownSubs;break;case"keyup":r=et.WM_KEYUP,o=this.keyUpSubs;break;default:return}o.forEach(s=>{const{msg:a,wvkey:c,repeat:u,scancode:h}=s.klass.vars;!a||!this.kernel.canHandleProjectUiEvents(s.prj)||(s.vars.setValue(a,r),c&&s.vars.setValue(c,n),u&&s.vars.setValue(u,1),h&&s.vars.setValue(h,0),s.compute(!0))});const{winChar:i}=t;i&&this.keyCharSubs.forEach(s=>{const{msg:a,wvkey:c,repeat:u,scancode:h}=s.klass.vars;a&&(s.vars.setValue(a,RC),c&&s.vars.setValue(c,i),u&&s.vars.setValue(u,1),h&&s.vars.setValue(h,0),s.compute(!0))})}handleInput(t){let n;switch(t.type){case"input":n=768;break;case"focus":n=256;break;case"blur":n=512;break;case"click":n=0;break;default:return}this.controlNotifySubs.forEach((r,o)=>{if(!(r.has(t.target)||r.has(null)))return;const{msg:s,_hobject:a,iditem:c,wnotifycode:u}=o.klass.vars;s&&(o.vars.setValue(s,et.WM_CONTROLNOTIFY),a&&o.vars.setValue(a,t.target.key),c&&o.vars.setValue(c,0),u&&o.vars.setValue(u,n),o.compute(!0))})}handleClose(){const{key:t,name:n}=this;this.spaceDoneSubs.forEach(r=>{const{msg:o,_hspace:i,_windowName:s}=r.klass.vars;o&&(r.vars.setValue(o,et.WM_SPACEDONE),i&&r.vars.setValue(i,t),s&&r.vars.setValue(s,n),r.compute(!0))})}}function $ae(e,t){const n=e.toUpperCase(),r=n.includes("WS_CHILD"),o=n.includes("WS_BYSPACE"),i=n.includes("WS_POPUP"),s=n.includes("WS_NORESIZE"),a=n.includes("WS_AUTOORG"),c=n.includes("WS_SPACESIZE"),u=n.includes("WS_NOCAPTION"),h=n.includes("WS_VSCROLL"),f=n.includes("WS_HSCROLL"),g=o?{...t}:{};return r&&(g.child=!0),f&&(g.hscroll=!0),h&&(g.vscroll=!0),c&&(g.size={type:"content"}),s&&(g.fixed=!0),i&&(g.popup=!0),a&&(g.autoorg=!0),u||(g.caption=!0),g}class zae{constructor(t,{sceneFactory:n,windowFactory:r}){this.kernel=t,this.scenes=new Map,this.windows=new Map,this.cursorVisible=!0,this.captureTarget=null,this.lastPickedPrimaryKey=0,this.clipboard=null,this.sceneFactory=n,this.windowFactory=r}createGSpace(t,n,r,o,i=0,s=0,a=0,c=0,u=""){let h=n;if(h){const T=this.windows.get(h);if(T)return T}let f=null,g=null,m=null;if(r){const T=this.kernel.classes.get(r),R=T?.scene;if(R)f=R,g={type:"classname",data:T.name},m=T.children;else{const M=t.dir.resolve(r),I=M.file()?.scene;I&&(f=I,g={type:"filename",data:M.toString()})}}if(!h){if(!f)return this.kernel._functionNotImplemented("Пустая сцена без имени"),null;h=f.options?.popup?"@PopupWindow":"MainWindow";const T=this.windows.get(h);if(T)return T}const y=$ae(o,f?.options);!y.size&&a>0&&c>0&&(y.size={type:"fixed",width:a,height:c});const b=Ts.freeKey(this.scenes),v={system:this,project:t,key:b,name:h,x:i,y:s,...f,options:y,source:g,sceneChildren:m},S=y.child&&this.windows.get(u);if(!S&&y.popup&&!this.kernel.iterations)return console.warn(`Невозможно открыть всплывающее окно '${h}' в координатах ${i}, ${s}`),null;const E=S?S.createChild(v):this.createWindow(v);return this.scenes.set(b,E),this.windows.set(h,E),E}createWindow(t){const n=new E0(t),{x:r,y:o,name:i}=t,{popup:s=!1,caption:a=!1}=t.options,c=this.windowFactory.createWindow({content:n.domElement,x:r,y:o,title:i,popup:s,caption:a});return n.setConnectedWindow(c),n}setCapture(t,n){this.captureTarget={w:t,s:n}}releaseCapture(){this.captureTarget=null}showCursor(t){this.cursorVisible=t,this.windows.forEach(n=>n.updateCursor())}_closeWindows(t){this.scenes.forEach(n=>{t.has(n)&&(n===this.captureTarget?.w&&(this.captureTarget=null),n._dispose(),this.scenes.delete(n.key),this.windows.delete(n.name))})}clearAll(){this.scenes.clear(),this.windows.clear(),this.cursorVisible=!0,this.lastPickedPrimaryKey=0}hideProjectWindows(t,n){this.windows.forEach(r=>{r.project===t&&r._hide(n)})}closeProjectWindows(t){const n=new Set([...this.windows.values()].filter(r=>r.project===t));this._closeWindows(n),this.windows.forEach(r=>r._restoreIfHiddenBy(t))}}function Uae(e,t,n,r,o,i,s,a){return this.kernel.windowSystem.createGSpace(this.prj,e,n,a,r,o,i,s,t)?.key||0}function Hae(e){return this.kernel.windows.get(e)?.clientWidth??0}function Gae(e){return this.kernel.windows.get(e)?.clientHeight??0}function Wae(e){return this.kernel.scenes.get(e)?.name??""}function Kae(e){return this.kernel.windows.get(e)?.x??0}function qae(e){return this.kernel.windows.get(e)?.y??0}function Yae(e){return this.kernel.windows.get(e)?.key??0}function Xae(e){return this.kernel.windows.get(e)?.clientWidth??0}function Zae(e){return this.kernel.windows.get(e)?.clientHeight??0}function Jae(e){return this.kernel.windows.get(e)?.title??""}function Qae(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function ele(e,t,n,r){const o=this.kernel.windows.get(e);return o?(t>0?o.setScrollX(n,r):o.setScrollY(n,r),1):0}function tle(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowOrg(t,n),1):0}function nle(e,t,n,r,o){const i=this.kernel.windows.get(e);return i?(i.setWindowPos(t,n,r,o),1):0}function rle(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function ole(e,t){const n=this.kernel.windows.get(e);return n?(n.setTitle(t),1):0}function XD(e,t){const n=typeof e=="string"?this.kernel.windows.get(e):this.kernel.scenes.get(e);return n?(n.setOpacity(Xv(t,0,100)*.01),1):0}function ZD(){return this.kernel._functionNotImplemented("SetWindowTransparentColor"),1}function JD(e,t){return t?(this.kernel._functionNotImplemented("SetWindowRegion"),1):0}function ile(){return this.kernel._functionNotImplemented("SetWindowOwner"),1}function sle(e,t){const n=this.kernel.windows.get(e);if(!n)return 0;switch(t){case et.SW_HIDE:n.hide();break;case et.SW_SHOW:case et.SW_NORMAL:n.show();break}return 1}function ale(e){const t=this.kernel.windows.get(e);return t?(t.toTop(),1):0}function lle(e){const t=this.kernel.windows.get(e);return t?(t.close(),1):0}function cle(){return 0}function ule(e){return this.kernel.windows.has(e)?1:0}function dle(e){return this.kernel.windows.get(e)?.isVisible?1:0}function hle(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function fle(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function ple(){return this.kernel._functionNotImplemented("OpenClassScheme"),1}function gle(){return this.kernel._functionNotImplemented("CloseClassScheme"),1}function mle(){}function vle(){}function yle(){}function ble(e,t){const n=this.kernel.windows.get(e)?.source;return n&&n.type===t.toLowerCase()&&n.data||""}function wle(e){e("CreateWindowEx",{a:[fe,fe,fe,k,k,k,k,fe],r:A},Uae),e("GetClientWidth",{a:[fe],r:k},Hae),e("GetClientHeight",{a:[fe],r:k},Gae),e("GetWindowName",{a:[A],r:fe},Wae),e("GetWindowOrgX",{a:[fe],r:k},Kae),e("GetWindowOrgY",{a:[fe],r:k},qae),e("GetWindowSpace",{a:[fe],r:A},Yae),e("GetWindowWidth",{a:[fe],r:k},Xae),e("GetWindowHeight",{a:[fe],r:k},Zae),e("GetWindowTitle",{a:[fe],r:fe},Jae),e("SetClientSize",{a:[fe,k,k],r:k},Qae),e("SetScrollRange",{a:[fe,k,k,k],r:k},ele),e("SetWindowOrg",{a:[fe,k,k],r:k},tle),e("SetWindowPos",{a:[fe,k,k,k,k],r:k},nle),e("SetWindowSize",{a:[fe,k,k],r:k},rle),e("SetWindowTitle",{a:[fe,fe],r:k},ole),e("SetWindowTransparent",{a:[fe,k],r:k},XD),e("SetWindowTransparent",{a:[A,k],r:k},XD),e("SetWindowTransparentColor",{a:[fe,pn],r:k},ZD),e("SetWindowTransparentColor",{a:[A,pn],r:k},ZD),e("SetWindowRegion",{a:[fe,A],r:k},JD),e("SetWindowRegion",{a:[A,A],r:k},JD),e("SetWindowOwner",{a:[A,A],r:k},ile),e("ShowWindow",{a:[fe,k],r:k},sle),e("BringWindowToTop",{a:[fe],r:k},ale),e("CloseWindow",{a:[fe],r:k},lle),e("IsIconic",{a:[fe],r:k},cle),e("IsWindowExist",{a:[fe],r:k},ule),e("IsWindowVisible",{a:[fe],r:k},dle),e("LoadSpaceWindow",{a:[fe,fe,fe],r:A},hle),e("OpenSchemeWindow",{a:[fe,fe,fe],r:A},fle),e("OpenClassScheme",{a:[fe,k],r:A},ple),e("CloseClassScheme",{a:[fe],r:k},gle),e("CascadeWindows",{},mle),e("Tile",{a:[k]},vle),e("ArrangeIcons",{},yle),e("GetWindowProp",{a:[fe,fe],r:fe},ble)}const QD=[{name:"windows",register:wle,setup(e,t){if(!t)throw Error("Плагин 'windows': не указаны зависимости");const n=new zae(e,t);e.windowSystem=n,e.windows=n.windows,e.scenes=n.scenes,e.beforeProjectClosed.add(r=>n.closeProjectWindows(r)),e.beforeCompute.add(()=>n.windows.forEach(r=>r.beforeAll())),e.afterCompute.add(()=>n.windows.forEach(r=>r.afterAll())),e.beforeRender.add(()=>n.windows.forEach(r=>r.beforeRender()))}},cae,A9,Q9,C8,e7,RX,P8,aee,hee,Ree,Uee,Gse,UQ,Lae,G8],Sle=[jae];class Cle{constructor(t,n){this.id=t,this.attrib=0,this.description="",this.defaultValue=null,this.inEquation=!1,this.parsed=null,this.name=n.name,this.type=n.type,this.set(n)}set({attrib:t=this.attrib,defaultValue:n=this.defaultValue,description:r=this.description,inEquation:o=this.inEquation}){return this.parsed=n!==null?Dp(this.type,n):null,this.attrib=t,this.defaultValue=n,this.description=r,this.inEquation=o,this}}class eA{constructor(t){this._disable=null,this._enable=null,this.orgx=null,this.orgy=null,this._hobject=null,this._objname=null,this._classname=null,this.msg=null,this.xpos=null,this.ypos=null,this.fwkeys=null,this.wvkey=null,this.repeat=null,this.scancode=null,this.nwidth=null,this.nheight=null,this._hspace=null,this._windowName=null,this.iditem=null,this.wnotifycode=null;const n=t?.map((r,o)=>[r.name.toUpperCase(),new Cle(o,r)]);if(this.list=n?.map(r=>r[1])??[],this.m=new Map(n),!!n)for(const[r,o]of n){const i=o.type,{FLOAT:s,STRING:a,HANDLE:c}=bt;r==="_ENABLE"&&i===s?this._enable=o:r==="_DISABLE"&&i===s?this._disable=o:r==="MSG"&&i===s?this.msg=o:r==="_HOBJECT"&&i===c?this._hobject=o:r==="IDITEM"&&i===s?this.iditem=o:r==="WNOTIFYCODE"&&i===s?this.wnotifycode=o:r==="NWIDTH"&&i===s?this.nwidth=o:r==="NHEIGHT"&&i===s?this.nheight=o:r==="XPOS"&&i===s?this.xpos=o:r==="YPOS"&&i===s?this.ypos=o:r==="FWKEYS"&&i===s?this.fwkeys=o:r==="ORGX"&&i===s?this.orgx=o:r==="ORGY"&&i===s?this.orgy=o:r==="_OBJNAME"&&i===a?this._objname=o:r==="_CLASSNAME"&&i===a?this._classname=o:r==="WVKEY"&&i===s?this.wvkey=o:r==="REPEAT"&&i===s?this.repeat=o:r==="SCANCODE"&&i===s?this.scancode=o:r==="_HSPACE"&&i===c?this._hspace=o:r==="_WINDOWNAME"&&i===a&&(this._windowName=o)}}get(t){return this.m.get(t.toUpperCase())??null}}class xle{constructor({compiler:t,data:n,file:r,projectId:o,modelGlobals:i}){this.onChildrenChanged=new pa,this.main=null,this.defers=[],this.equations=[],this.transpiledCode=null,this.isCompiled=!1;const{name:s,transpiled:a,id:c,vars:u}=n;this.projectId=o,this.compiler=t,this.modelGlobals=i,this.file=r,this.name=s,this.nameUC=s.toUpperCase(),this.vars=new eA(u),this.transpiledCode=a??null,this.id=c,this.children=n.children||[],this.connections=n.links||[],this.scene=n.scene||null,this.image=n.image||null,this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1}set({vars:t,children:n=this.children,links:r=this.connections,scene:o=this.scene,image:i=this.image,modelText:s=this.modelText,isFunction:a=this.isFunction}){return t&&(this.vars=new eA(t)),this.modelText!==s&&(this.isCompiled=!1),this.children!==n&&(this.children=n,this.onChildrenChanged.dispatch(n)),this.connections=r,this.scene=o,this.image=i,this.modelText=s,this.isFunction=a,this}compile(){if(this.isCompiled)return;this.isCompiled=!0;let t;if(this.transpiledCode)so.debugCompiler&&console.log(`Компиляция (кешировано) ${this.name} (${this.vars.list.length} переменных)`),t=this.transpiledCode,this.transpiledCode=null;else{const r=this.file.path.toString().slice(3);so.debugCompiler&&console.log(`Компиляция '${this.name}' ('${r}'): ${this.vars.list.length} переменных`);try{const o=this.compiler.compile(this.modelText,this.name,r);so.debugCompiler&&o.bugs.length&&console.warn(`${this.name}:
${o.bugs.map(([a])=>` -${a}`).join(`
`)}`);const i=this.vars,s=o.vars.map(a=>{const c=i.get(a.name);if(!c)return a;const{defaultValue:u,description:h}=c;return{...a,defaultValue:u,description:h}});this.set({vars:s,isFunction:o.isFunction}),t=o}catch(o){throw o instanceof ry?Error(`Ошибка компиляции '${this.name}' ('${r}'): '${o.message}'`):o}}const{modelGlobals:n}=this;this.main=t.mainText?t0(t.mainText).bind(null,n):null,this.defers=t.defersTexts?.map(r=>t0(r).bind(null,n))||[],this.equations=t.equationsTexts?.map(r=>t0(r).bind(null,n))||[]}getUserFunctionSignature(){const t=this.vars.list;return{type:"user",name:this.name,argTypes:t.filter(n=>n.attrib&et.VF_ARGUMENT).map(n=>n.type),retType:t.find(n=>n.attrib&et.VF_RETURN)?.type??null}}}class _le{constructor(){this.files=new WeakSet,this.m=new Map}add(t){const{nameUC:n}=t,r=this.m.get(n);if(r)throw Error(`Конфликт имен имиджей: '${t.name}' ('${t.file.path}') уже существует в файле '${r.file.path}'`);return this.m.set(n,t),this.files.add(t.file),this}get(t){return this.m.get(t.toUpperCase())??null}hasFile(t){return this.files.has(t)}unload(t){this.m.forEach(n=>n.projectId===t&&this.files.delete(n.file)),this.m=new Map(Pp(this.m,n=>n[1].projectId!==t))}}class T0 extends Error{constructor(t,n){super(t),this.original=n}}class Ele{alloc(t){const n=new Float64Array(t.floats),r=new Int32Array(t.ints),o=Array.from({length:t.strings},()=>"");this.newFloats=n,this.oldFloats=n.slice(),this.newInts=r,this.oldInts=r.slice(),this.newStrings=o,this.oldStrings=o.slice()}sync(){this.oldFloats.set(this.newFloats),this.oldInts.set(this.newInts);const{newStrings:t,oldStrings:n}=this;for(let r=0;r<t.length;++r)n[r]=t[r]}}class Tle{constructor(t){this.newFloats=this.oldFloats=new Float64Array(t.floats),this.newInts=this.oldInts=new Int32Array(t.ints),this.newStrings=this.oldStrings=Array.from({length:t.strings},()=>"")}}class tA{constructor(t,n){this.map=t,this.values=n}getNewValue(t){const{newFloats:n,newInts:r,newStrings:o}=this.values,i=this.map[t.id];switch(t.type){case bt.FLOAT:return n[i];case bt.HANDLE:case bt.COLORREF:return r[i];case bt.STRING:return o[i]}}setValue(t,n){const{newFloats:r,oldFloats:o,newInts:i,oldInts:s,newStrings:a,oldStrings:c}=this.values,u=this.map[t.id];switch(t.type){case bt.FLOAT:if(typeof n!="number")return!1;r[u]=o[u]=n;break;case bt.HANDLE:case bt.COLORREF:if(typeof n!="number")return!1;i[u]=s[u]=n;break;case bt.STRING:if(typeof n!="string")return!1;a[u]=c[u]=n;break}return!0}}class nA{constructor(){this.floats=0,this.ints=0,this.strings=0}add(t){switch(t.type){case bt.FLOAT:return this.floats++;case bt.HANDLE:case bt.COLORREF:return this.ints++;case bt.STRING:return this.strings++}}}class Mle{constructor(t,n){this.v=t,this.a=n,this.index=-1,this.connected=new Set}propagateIndex(t){this.index>=0||(this.index=t,this.connected.forEach(n=>n.propagateIndex(t)))}connectWith(t){this.connected.add(t),t.connected.add(this)}getIndex(){return this.index<0&&this.propagateIndex(this.a.add(this.v)),this.index}}function Ole(e,t){const{children:n}=e;t.forEach(({nodes:[r,o],vars:i,attrib:s=0})=>{if(s&zv)return;let a=`Имидж ${e.klass.name}: связь #${r}-#${o}: `;const c=r>0?n.find(h=>h.ndata.key===r):e;if(!c){console.warn(a+`Дочерний имидж #${r} не существует`);return}const u=o>0?n.find(h=>h.ndata.key===o):e;if(!u){console.warn(a+`Дочерний имидж #${o} не существует`);return}a=`Имидж ${e.klass.name}: связь #${r} (${c.klass.name}) - #${o} (${u.klass.name}): `,i.forEach(([h,f])=>{const g=c.klass.vars.get(h);if(!g){console.warn(a+`Переменная ${c.klass.name}:${h} не существует`);return}const m=u.klass.vars.get(f);if(!m){console.warn(a+`Переменная ${u.klass.name}:${f} не существует`);return}if(g.type!==m.type){console.warn(a+`Типы переменных ${c.klass.name}:${h} и ${u.klass.name}:${f} не совпадают`);return}c.vars[g.id].connectWith(u.vars[m.id])})})}function rA(e,t,n,r=null){e.compile();const o=e.vars.list.map(a=>new Mle(a,n)),i=e.children.map(a=>{const c=t.get(a.klass);if(!c)throw Error(`Подимидж ${a.klass} #${a.key} имиджа ${e.name} не существует`);return rA(c,t,n,a)}),s={klass:e,ndata:r,vars:o,children:i};return e.connections.length&&Ole(s,e.connections),s}function oA(e,t,n){const r=e.vars.map(i=>{const s=i.getIndex();return i.v.inEquation&&n.add(s),s}),o=e.children.map(i=>oA(i,t,n));return t.createSchema({...e,varMap:r,children:o,prj:t})}function Rle(){return!1}function Ile(e,t){return e.values.newFloats[e.map[t]]>0}function Ple(e,t){return e.values.newFloats[e.map[t]]<=0}const iA=new WeakMap;class kle{constructor({prj:t,klass:n,ndata:r,vars:o,children:i}){this.isDisabled=Rle,this.updateChildNodeData=c=>{c.length===this.children.length&&c.forEach((u,h)=>{const f=this.children[h],g=f.ndata;g.key!==u.key||g.klass!==u.klass||(g.name&&this.resolveMap.delete(g.name),u.name&&this.resolveMap.set(u.name.toUpperCase(),f),f.ndata=u)})},this.prj=t,this.klass=n,this.ndata=r,this.vars=o,this.children=i;const{_disable:s,_enable:a}=n.vars;s&&(!a||s.id<a.id)?this.isDisabled=Ile.bind(null,this.vars,s.id):a&&(!s||a.id<s.id)&&(this.isDisabled=Ple.bind(null,this.vars,a.id)),this.resolveMap=new Map([["",this]]),i.forEach(c=>{c.resolveMap.set("..",this);const{key:u,name:h}=c.ndata;this.resolveMap.set("#"+u,c),h&&this.resolveMap.set(h.toUpperCase(),c)}),n.onChildrenChanged.add(this.updateChildNodeData)}get kernel(){return this.prj.kernel}resolve(t){if(t.length===0)return this;const n=t.toUpperCase().split("\\");let r=t[0]==="\\"?this.prj.root:this;for(const o of n){const i=r.resolveMap.get(o);if(!i)return null;r=i}return r}resolveMany(t,n){if(t){const r=this.resolve(t);return!r||n&&r.klass!==n?[]:[r]}return n?this.prj.getKlassSchemas(n):[]}initValues(t){this.children.forEach(r=>r.initValues());const{vars:n}=this.klass;return n.list.forEach(r=>{let o;if(r.parsed!==null)o=r.parsed;else switch(r){case n.orgx:o=this.ndata?.x??0;break;case n.orgy:o=this.ndata?.y??0;break;case n._hobject:o=this.ndata?.key??0;break;case n._objname:o=this.ndata?.name??"";break;case n._classname:o=this.klass.name;break;default:if(!t)return;o=r.type===bt.STRING?"":0;break}this.vars.setValue(r,o)}),this}applyValues(t){const{values:n,klassId:r}=t;if(n?.length)if(this.klass.id===r){const{vars:o}=this.klass;n.forEach(({name:i,value:s})=>{const a=o.get(i);if(!a)return;const c=Dp(a.type,s);c!==null&&this.vars.setValue(a,c)})}else console.warn(`Пропуск установки stt для ${this.path()} (id ${this.klass.id}): ожидалось id ${r} (${t.klass})`);return t.children?.forEach(o=>this.children.find(i=>i.ndata.key===o.key)?.applyValues(o)),this}getValues(){const{klass:t,ndata:n}=this,r=this.children.map(i=>i.getValues()),o=t.vars.list.map(i=>{const s=xk(i.type,this.vars.getNewValue(i));return{name:i.name,value:s}});return{key:n?.key??0,klass:t.name,klassId:t.id,values:o,children:r}}computeAndPushVector(t,n,{a:r,b:o}){const{vars:i}=this,{oldFloats:s,newFloats:a}=i.values;let c=!1;const u=t(this,i),h=n.map(f=>{a[f]=s[f]=1;const g=u-t(this,i);return a[f]=s[f]=0,g!==0&&(c=!0),g});c&&(r.push(h),o.push(u))}computeEquationVectors(t,n){this.children.forEach(r=>r.computeEquationVectors(t,n)),this.klass.equations.forEach(r=>this.computeAndPushVector(r,t,n))}computeSchemaDefers(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchemaDefers()),this.klass.defers.forEach(t=>t(this,this.vars))}computeSchema(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchema()),so.debugExecution&&console.log(`Выполняется ${this.path()}`);try{this.klass.main?.(this,this.vars)}catch(t){throw t instanceof Error?new T0(`${this.path()}: ${t.message}`,t):t}}compute(t){!t&&this.isDisabled()||(this.prj.beforeCompute(),this.computeSchema(),this.prj.solveGlobalEquations(),this.computeSchemaDefers(),this.prj.afterCompute())}userFunction(t,n){const r=this.kernel.classes.get(t);if(!r)throw Error(`Функция не существует: ${t}`);if(r.compile(),!r.isFunction)throw Error(`Имидж ${t} существует, но не является функцией`);const o=r.vars.list;if(n.length>o.length)throw Error(`${t}: ${n.length} аргументов, но функция имеет ${o.length} переменных`);let i=iA.get(o);if(!i){const c=new nA;i={map:o.map(u=>c.add(u)),varCount:c},iA.set(o,i)}const s=new tA(i.map,new Tle(i.varCount));n.forEach((c,u)=>{const h=o[u];if(!s.setValue(h,c))throw Error(`Аргумент ${u} имеет тип ${typeof c}; ожидалось ${h.type}`)}),r.main?.(this,s);const a=o.find(c=>c.attrib&et.VF_RETURN);if(a)return s.getNewValue(a)}solveEquationsFor(t){this.prj.solveEquationsFor(t)}path(){if(this===this.prj.root)return this.klass.name;const t=[this];for(;;){const n=t[0].resolveMap.get("..");if(n===this.prj.root)break;t.unshift(n)}return t.map(n=>`${n.klass.name} (#${n.ndata.key})`).join(" - ")}setNewValue(t,n){const{newFloats:r,newInts:o,newStrings:i}=this.vars.values,s=this.vars.map[t.id];switch(t.type){case bt.FLOAT:if(typeof n!="number")return!1;r[s]=n;break;case bt.HANDLE:case bt.COLORREF:if(typeof n!="number")return!1;o[s]=n;break;case bt.STRING:if(typeof n!="string")return!1;i[s]=n;break}return!0}getVarValueFHC(t){const{newFloats:n,newInts:r}=this.vars.values,o=this.vars.map[t.id];switch(t.type){case bt.FLOAT:return n[o];case bt.HANDLE:case bt.COLORREF:return r[o];default:return null}}getVarValueS(t){return t.type===bt.STRING?this.vars.values.newStrings[this.vars.map[t.id]]:null}}class Dle{constructor({id:t,dir:n,rootKlass:r,state:o,kernel:i,settings:s}){this.memory=new Ele,this.classTypes=new WeakMap,this.id=t,this.dir=n,this.kernel=i,this.settings=s;const a=new Set,c=new nA,u=rA(r,i.classes,c),h=this.root=oA(u,this,a);this.memory.alloc(c),h.initValues(),o&&h.applyValues(o),this.equationVars=Array.from(a)}createSchema({varMap:t,...n}){const r=new kle({...n,vars:new tA(t,this.memory)}),o=this.classTypes.get(r.klass);return o?o.push(r):this.classTypes.set(r.klass,[r]),r}getKlassSchemas(t){return this.classTypes.get(t)??[]}solveGlobalEquations(){const{equationVars:t}=this;t.length&&this.solveEquationsFor(t)}solveEquationsFor(t){const{oldFloats:n,newFloats:r}=this.memory,o=t.map(s=>{const a=n[s];return r[s]=n[s]=0,a}),i={a:[],b:[]};this.root.computeEquationVectors(t,i),t.forEach((s,a)=>n[s]=o[a]);try{const s=dq(i);t.forEach((a,c)=>r[a]=s[c])}catch{t.forEach(a=>r[a]=0)}}beforeCompute(){this.kernel.beforeCompute.dispatch()}afterCompute(){this.memory.sync(),this.kernel.afterCompute.dispatch()}close(){this.kernel.closeProject(this)}}const M0={src:Oq,mount:"library"};let O0=class{constructor(t=""){this.name=t,this.type="folder",this.items=new Map}};class R0{constructor(t,n){this.root=t,this.stdlibDir=n,this.uploadsDir=new Ms(this.root,["D:","Uploads"]),this.downloadsDir=new Ms(this.root,["D:","Downloads"]),this.loadedLibs=new Set,this.uploadsDir.create("folder"),this.downloadsDir.create("folder")}static async create(){const t=new O0,n=new Ms(t,["D:",M0.mount]),{files:r}=await wy(M0,{cache:so.cache});return r.forEach(o=>n.resolve(o.path).createWithDirs(o)),new R0(t,n)}async mountLibrary(t){if(this.loadedLibs.size===this.loadedLibs.add(t.src).size)return;const{files:n}=t.data||await wy(t,{cache:so.cache});n.forEach(r=>this.path(t.mount?`${t.mount}/${r.path}`:r.path).createWithDirs(r))}path(t){return new Ms(this.root,["C:"].concat(t.split("/")))}}class sA{constructor(t,n={}){this.path=t,this.type="file",this.size=null,this.cls=null,this.image=null,this.scene=null,this.video=null,this.audio=null,this.ttf=null,this.cursor=null,this.stt=null,this.mat=null,this.base64=null,this.mesh=null,this.set(n)}set({size:t=this.size,cls:n=this.cls,image:r=this.image,scene:o=this.scene,video:i=this.video,audio:s=this.audio,ttf:a=this.ttf,cursor:c=this.cursor,stt:u=this.stt,mat:h=this.mat,mesh:f=this.mesh,base64:g=this.base64}){return this.size=t,this.cls=n,this.image=r,this.scene=o,this.video=i,this.audio=s,this.ttf=a,this.cursor=c,this.stt=u,this.mat=h,this.mesh=f,this.base64=g,this}}class Ms{constructor(t,n,r){if(this.fs=t,this.parts=n,this.str=null,n[0].length!==2&&n[0][1]!==":")throw Error("Неправильное имя тома диска");this.partsUC=r??n.map(o=>o.toUpperCase())}static splitPath(t){return t.split(/[/\\]/).map(n=>n.trim()).filter(n=>n.length>0)}resolve(t){const n=Ms.splitPath(t);if(!n.length)return this;const r=n[0].length===2&&n[0][1]===":",o=r?[n[0]]:this.parts.slice(),i=r?[n[0].toUpperCase()]:this.partsUC.slice();for(let s=r?1:0;s<n.length;++s){const a=n[s];a===".."?o.length>1&&(o.pop(),i.pop()):a!=="."&&(o.push(a),i.push(a.toUpperCase()))}return new Ms(this.fs,o,i)}toString(){return this.str?this.str:this.str=this.parts.join("\\")}basename(){return this.parts[this.parts.length-1]}equals(t){if(this===t)return!0;const n=this.partsUC,r=t.partsUC;if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==r[o])return!1;return!0}startsWith(t){const n=this.partsUC,r=t.partsUC;if(n.length<r.length)return!1;for(let o=0;o<r.length;++o)if(n[o]!==r[o])return!1;return!0}static getFolder(t,n,r){let o=t;for(let i=0;i<n.length-(r?0:1);++i){const s=o.items.get(n[i]);if(!s||s.type!=="folder")return null;o=s}return o}create(t,n){const{partsUC:r}=this,o=Ms.getFolder(this.fs,r);if(!o)return null;const i=r[r.length-1],s=o.items.get(i);if(t==="folder")return s||o.items.set(i,new O0),this;if(s)return s.type!=="file"?null:(n&&s.set(n),s);const a=new sA(this,n);return o.items.set(i,a),a}createWithDirs(t){const{parts:n,partsUC:r}=this;let o=this.fs;for(let c=0;c<n.length-1;++c){let u=o.items.get(r[c]);if(!u)u=new O0(n[c]),o.items.set(r[c],u);else if(u.type==="file")throw Error(`Невозможно создать директорию ${this}: файл ${u.path} уже существует.`);o=u}const i=r[r.length-1];if(o.items.has(i))throw Error(`Невозможно создать директорию ${this}: файл уже существует.`);const a=new sA(this,t);return o.items.set(i,a),a}fileExist(){const{partsUC:t}=this,n=Ms.getFolder(this.fs,t);if(!n)return!1;const r=t[t.length-1];return n.items.get(r)?.type==="file"}file(){const{partsUC:t}=this,n=Ms.getFolder(this.fs,t);if(!n)return so.debugFile&&console.warn(`${this.toString()} не существует`),null;const r=t[t.length-1],o=n.items.get(r);return o?o.type!=="file"?(so.debugFile&&console.warn(`${this.toString()} является каталогом`),null):o:(so.debugFile&&console.warn(`${this.toString()} не существует`),null)}forEach(t,n){const{partsUC:r}=this,o=Ms.getFolder(this.fs,r,!0);o&&o.items.forEach(function i(s){s.type==="folder"?n&&s.items.forEach(i):t(s)})}resolveMany(){const{partsUC:t}=this,n=Ms.getFolder(this.fs,t);if(!n)return[];const r=t[t.length-1];if(r.includes("*")){const[s,a]=r.split("*");let c;return!s&&!a?c=[".","..",...n.items]:c=[...n.items].filter(([u])=>u.startsWith(s)&&u.endsWith(a)),c.map(u=>{if(typeof u=="string")return{name:u,size:0};const h=u[1];return h.type==="folder"?{name:h.name,size:0}:{name:h.path.basename(),size:h.size??0}})}const o=n.items.get(r);return o?[o.type==="folder"?{name:o.name,size:0}:{name:o.path.basename(),size:o.size??0}]:[]}}function Ale(e=[]){const t=new jk;return QD.concat(e).forEach(n=>n.register(t.addFunc.bind(t))),t}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Lle={};function Sy(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:Lle}var aA=Object.assign,Cy=Object.getOwnPropertyDescriptor,qa=Object.defineProperty,xy=Object.prototype,I0=[];Object.freeze(I0);var P0={};Object.freeze(P0);var Nle=typeof Proxy<"u",Ble=Object.toString();function lA(){Nle||Wn("Proxy not available")}function cA(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Fh=function(){};function ga(e){return typeof e=="function"}function Qu(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function _y(e){return e!==null&&typeof e=="object"}function Ac(e){if(!_y(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Ble}function uA(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Ey(e,t,n){qa(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function dA(e,t,n){qa(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ed(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return _y(r)&&r[n]===!0}}function jh(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Fle(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function zl(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var hA=typeof Object.getOwnPropertySymbols<"u";function jle(e){var t=Object.keys(e);if(!hA)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return xy.propertyIsEnumerable.call(e,r)})):t}var Ty=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hA?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function fA(e){return e===null?null:typeof e=="object"?""+e:e}function Ul(e,t){return xy.hasOwnProperty.call(e,t)}var Vle=Object.getOwnPropertyDescriptors||function(t){var n={};return Ty(t).forEach(function(r){n[r]=Cy(t,r)}),n};function Qi(e,t){return!!(e&t)}function es(e,t,n){return n?e|=t:e&=~t,e}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ule(r.key),r)}}function Vh(e,t,n){return t&&$le(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $h(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Hle(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(null,arguments)}function gA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k0(e,t)}function k0(e,t){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},k0(e,t)}function zle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ule(e){var t=zle(e,"string");return typeof t=="symbol"?t:t+""}function Hle(e,t){if(e){if(typeof e=="string")return pA(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pA(e,t):void 0}}var Ya=Symbol("mobx-stored-annotations");function Xa(e){function t(n,r){if(Kp(r))return e.decorate_20223_(n,r);Wp(n,r,e)}return Object.assign(t,e)}function Wp(e,t,n){Ul(e,Ya)||Ey(e,Ya,td({},e[Ya])),Zle(n)||(e[Ya][t]=n)}function Gle(e){return Ul(e,Ya)||Ey(e,Ya,td({},e[Ya])),e[Ya]}function Kp(e){return typeof e=="object"&&typeof e.kind=="string"}var yn=Symbol("mobx administration"),Lc=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Jn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return AA(this)},t.reportChanged=function(){Os(),LA(this),Rs()},t.toString=function(){return this.name_},Vh(e,[{key:"isBeingObserved",get:function(){return Qi(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=es(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Qi(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=es(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Qi(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=es(this.flags_,e.diffValueMask_,r===1)}}])})();Lc.isBeingObservedMask_=1,Lc.isPendingUnobservationMask_=2,Lc.diffValueMask_=4;var D0=ed("Atom",Lc);function mA(e,t,n){t===void 0&&(t=Fh),n===void 0&&(n=Fh);var r=new Lc(e);return t!==Fh&&nue(r,t),n!==Fh&&zA(r,n),r}function Wle(e,t){return cL(e,t)}function Kle(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var zh={structural:Wle,default:Kle};function nd(e,t,n){return KA(e)?e:Array.isArray(e)?Pe.array(e,{name:n}):Ac(e)?Pe.object(e,void 0,{name:n}):jh(e)?Pe.map(e,{name:n}):zl(e)?Pe.set(e,{name:n}):typeof e=="function"&&!Jp(e)&&!Qp(e)?uA(e)?to(e):Zp(n,e):e}function qle(e,t,n){if(e==null||Gy(e)||Uy(e)||sd(e)||Qa(e))return e;if(Array.isArray(e))return Pe.array(e,{name:n,deep:!1});if(Ac(e))return Pe.object(e,void 0,{name:n,deep:!1});if(jh(e))return Pe.map(e,{name:n,deep:!1});if(zl(e))return Pe.set(e,{name:n,deep:!1})}function My(e){return e}function Yle(e,t){return cL(e,t)?t:e}var Xle="override";function Zle(e){return e.annotationType_===Xle}function qp(e,t){return{annotationType_:e,options_:t,make_:Jle,extend_:Qle,decorate_20223_:ece}}function Jle(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Jp(n.value))return 1;var i=vA(e,this,t,n,!1);return qa(r,t,i),2}function Qle(e,t,n,r){var o=vA(e,this,t,n);return e.defineProperty_(t,o,r)}function ece(e,t){var n=t.kind,r=t.name,o=t.addInitializer,i=this,s=function(u){var h,f,g,m;return rd((h=(f=i.options_)==null?void 0:f.name)!=null?h:r.toString(),u,(g=(m=i.options_)==null?void 0:m.autoAction)!=null?g:!1)};if(n=="field")return function(c){var u,h=c;return Jp(h)||(h=s(h)),(u=i.options_)!=null&&u.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(n=="method"){var a;return Jp(e)||(e=s(e)),(a=this.options_)!=null&&a.bound&&o(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}Wn("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function tce(e,t,n,r){t.annotationType_,r.value}function vA(e,t,n,r,o){var i,s,a,c,u,h,f;o===void 0&&(o=Mt.safeDescriptors),tce(e,t,n,r);var g=r.value;if((i=t.options_)!=null&&i.bound){var m;g=g.bind((m=e.proxy_)!=null?m:e.target_)}return{value:rd((s=(a=t.options_)==null?void 0:a.name)!=null?s:n.toString(),g,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(h=t.options_)!=null&&h.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function yA(e,t){return{annotationType_:e,options_:t,make_:nce,extend_:rce,decorate_20223_:oce}}function nce(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Ul(e.target_,t)||!Qp(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Qp(n.value))return 1;var i=bA(e,this,t,n,!1,!1);return qa(r,t,i),2}function rce(e,t,n,r){var o,i=bA(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,i,r)}function oce(e,t){var n,r=t.name,o=t.addInitializer;return Qp(e)||(e=to(e)),(n=this.options_)!=null&&n.bound&&o(function(){var i=this,s=i[r].bind(i);s.isMobXFlow=!0,i[r]=s}),e}function ice(e,t,n,r){t.annotationType_,r.value}function bA(e,t,n,r,o,i){i===void 0&&(i=Mt.safeDescriptors),ice(e,t,n,r);var s=r.value;if(Qp(s)||(s=to(s)),o){var a;s=s.bind((a=e.proxy_)!=null?a:e.target_),s.isMobXFlow=!0}return{value:s,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function A0(e,t){return{annotationType_:e,options_:t,make_:sce,extend_:ace,decorate_20223_:lce}}function sce(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function ace(e,t,n,r){return cce(e,this,t,n),e.defineComputedProperty_(t,td({},this.options_,{get:n.get,set:n.set}),r)}function lce(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var i=Hh(this)[yn],s=td({},n.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+r.toString()),i.values_.set(r,new ma(s))}),function(){return this[yn].getObservablePropValue_(r)}}function cce(e,t,n,r){t.annotationType_,r.get}function Oy(e,t){return{annotationType_:e,options_:t,make_:uce,extend_:dce,decorate_20223_:hce}}function uce(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function dce(e,t,n,r){var o,i;return fce(e,this),e.defineObservableProperty_(t,n.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:nd,r)}function hce(e,t){var n=this,r=t.kind,o=t.name,i=new WeakSet;function s(a,c){var u,h,f=Hh(a)[yn],g=new od(c,(u=(h=n.options_)==null?void 0:h.enhancer)!=null?u:nd,"ObservableObject."+o.toString(),!1);f.values_.set(o,g),i.add(a)}if(r=="accessor")return{get:function(){return i.has(this)||s(this,e.get.call(this)),this[yn].getObservablePropValue_(o)},set:function(c){return i.has(this)||s(this,c),this[yn].setObservablePropValue_(o,c)},init:function(c){return i.has(this)||s(this,c),c}}}function fce(e,t,n,r){t.annotationType_}var pce="true",gce=wA();function wA(e){return{annotationType_:pce,options_:e,make_:mce,extend_:vce,decorate_20223_:yce}}function mce(e,t,n,r){var o,i;if(n.get)return Gr.make_(e,t,n,r);if(n.set){var s=rd(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:Mt.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(qa(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(uA(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?to.bound:to;return u.make_(e,t,n,r)}var h=(a=this.options_)!=null&&a.autoBind?Zp.bound:Zp;return h.make_(e,t,n,r)}var f=((o=this.options_)==null?void 0:o.deep)===!1?Pe.ref:Pe;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var g;n.value=n.value.bind((g=e.proxy_)!=null?g:e.target_)}return f.make_(e,t,n,r)}function vce(e,t,n,r){var o,i;if(n.get)return Gr.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:Mt.safeDescriptors?e.isPlainObject_:!0,set:rd(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var s;n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Pe.ref:Pe;return a.extend_(e,t,n,r)}function yce(e,t){Wn("'"+this.annotationType_+"' cannot be used as a decorator")}var bce="observable",wce="observable.ref",Sce="observable.shallow",Cce="observable.struct",SA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(SA);function Ry(e){return e||SA}var L0=Oy(bce),xce=Oy(wce,{enhancer:My}),_ce=Oy(Sce,{enhancer:qle}),Ece=Oy(Cce,{enhancer:Yle}),CA=Xa(L0);function Iy(e){return e.deep===!0?nd:e.deep===!1?My:Mce(e.defaultDecorator)}function Tce(e){var t;return e?(t=e.defaultDecorator)!=null?t:wA(e):void 0}function Mce(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:nd}function xA(e,t,n){if(Kp(t))return L0.decorate_20223_(e,t);if(Qu(t)){Wp(e,t,L0);return}return KA(e)?e:Ac(e)?Pe.object(e,t,n):Array.isArray(e)?Pe.array(e,t):jh(e)?Pe.map(e,t):zl(e)?Pe.set(e,t):typeof e=="object"&&e!==null?e:Pe.box(e,t)}aA(xA,CA);var Oce={box:function(t,n){var r=Ry(n);return new od(t,Iy(r),r.name,!0,r.equals)},array:function(t,n){var r=Ry(n);return(Mt.useProxies===!1||r.proxy===!1?Tue:mue)(t,Iy(r),r.name)},map:function(t,n){var r=Ry(n);return new XA(t,Iy(r),r.name)},set:function(t,n){var r=Ry(n);return new JA(t,Iy(r),r.name)},object:function(t,n,r){return ad(function(){return sue(Mt.useProxies===!1||r?.proxy===!1?Hh({},r):fue({},r),t,n)})},ref:Xa(xce),shallow:Xa(_ce),deep:CA,struct:Xa(Ece)},Pe=aA(xA,Oce),_A="computed",Rce="computed.struct",N0=A0(_A),Ice=A0(Rce,{equals:zh.structural}),Gr=function(t,n){if(Kp(n))return N0.decorate_20223_(t,n);if(Qu(n))return Wp(t,n,N0);if(Ac(t))return Xa(A0(_A,t));var r=Ac(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new ma(r)};Object.assign(Gr,N0),Gr.struct=Xa(Ice);var EA,TA,Py=0,Pce=1,kce=(EA=(TA=Cy(function(){},"name"))==null?void 0:TA.configurable)!=null?EA:!1,MA={value:"action",configurable:!0,writable:!1,enumerable:!1};function rd(e,t,n,r){n===void 0&&(n=!1);function o(){return Dce(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},kce&&(MA.value=e,qa(o,"name",MA)),o}function Dce(e,t,n,r,o){var i=Ace(e,t);try{return n.apply(r,o)}catch(s){throw i.error_=s,s}finally{Lce(i)}}function Ace(e,t,n,r){var o=!1,i=0,s=Mt.trackingDerivation,a=!t||!s;Os();var c=Mt.allowStateChanges;a&&(id(),c=ky(!0));var u=j0(!0),h={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:o,startTime_:i,actionId_:Pce++,parentActionId_:Py};return Py=h.actionId_,h}function Lce(e){Py!==e.actionId_&&Wn(30),Py=e.parentActionId_,e.error_!==void 0&&(Mt.suppressReactionErrors=!0),Dy(e.prevAllowStateChanges_),Yp(e.prevAllowStateReads_),Rs(),e.runAsAction_&&Hl(e.prevDerivation_),Mt.suppressReactionErrors=!1}function Nce(e,t){var n=ky(e);try{return t()}finally{Dy(n)}}function ky(e){var t=Mt.allowStateChanges;return Mt.allowStateChanges=e,t}function Dy(e){Mt.allowStateChanges=e}var od=(function(e){function t(r,o,i,s,a){var c;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=zh.default),c=e.call(this,i)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=o,c.name_=i,c.equals=a,c.value_=o(r,void 0,i),c}gA(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==Mt.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(Is(this)){var i=Ps(this,{object:this,type:Ja,newValue:o});if(!i)return Mt.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?Mt.UNCHANGED:o},n.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),va(this)&&ya(this,{type:Ja,object:this,newValue:o,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return eg(this,o)},n.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Ja,newValue:this.value_,oldValue:void 0}),tg(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return fA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Lc),ma=(function(){function e(n){this.dependenciesState_=Jn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Jn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ny(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ly.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Wn(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=rd("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?zh.structural:zh.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){$ce(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Wn(32,this.name_,this.derivation),Mt.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)B0(this)&&(this.warnAboutUntrackedRead_(),Os(),this.value_=this.computeValue_(!1),Rs());else if(AA(this),B0(this)){var r=Mt.trackingContext;this.keepAlive_&&!r&&(Mt.trackingContext=this),this.trackAndCompute()&&Vce(this),Mt.trackingContext=r}var o=this.value_;if(By(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&Wn(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Wn(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Jn.NOT_TRACKING_,i=this.computeValue_(!0),s=o||By(r)||By(i)||!this.equals_(r,i);return s&&(this.value_=i),s},t.computeValue_=function(r){this.isComputing=!0;var o=ky(!1),i;if(r)i=OA(this,this.derivation,this.scope_);else if(Mt.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(s){i=new Ny(s)}return Dy(o),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||(F0(this),this.value_=void 0)},t.observe_=function(r,o){var i=this,s=!0,a=void 0;return VA(function(){var c=i.get();if(!s||o){var u=id();r({observableKind:"computed",debugObjectName:i.name_,type:Ja,object:i,newValue:c,oldValue:a}),Hl(u)}s=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return fA(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Vh(e,[{key:"isComputing",get:function(){return Qi(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=es(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Qi(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=es(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Qi(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=es(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Qi(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=es(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Qi(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=es(this.flags_,e.diffValueMask_,r===1)}}])})();ma.isComputingMask_=1,ma.isRunningSetterMask_=2,ma.isBeingObservedMask_=4,ma.isPendingUnobservationMask_=8,ma.diffValueMask_=16;var Ay=ed("ComputedValue",ma),Jn;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Jn||(Jn={}));var Ly;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Ly||(Ly={}));var Ny=function(t){this.cause=void 0,this.cause=t};function By(e){return e instanceof Ny}function B0(e){switch(e.dependenciesState_){case Jn.UP_TO_DATE_:return!1;case Jn.NOT_TRACKING_:case Jn.STALE_:return!0;case Jn.POSSIBLY_STALE_:{for(var t=j0(!0),n=id(),r=e.observing_,o=r.length,i=0;i<o;i++){var s=r[i];if(Ay(s)){if(Mt.disableErrorBoundaries)s.get();else try{s.get()}catch{return Hl(n),Yp(t),!0}if(e.dependenciesState_===Jn.STALE_)return Hl(n),Yp(t),!0}}return IA(e),Hl(n),Yp(t),!1}}}function x4e(e){}function OA(e,t,n){var r=j0(!0);IA(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Mt.runId;var o=Mt.trackingDerivation;Mt.trackingDerivation=e,Mt.inBatch++;var i;if(Mt.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(s){i=new Ny(s)}return Mt.inBatch--,Mt.trackingDerivation=o,Bce(e),Yp(r),i}function Bce(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Jn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,s=0;s<i;s++){var a=n[s];a.diffValue===0&&(a.diffValue=1,o!==s&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];c.diffValue===0&&kA(c,e),c.diffValue=0}for(;o--;){var u=n[o];u.diffValue===1&&(u.diffValue=0,jce(u,e))}r!==Jn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function F0(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)kA(t[n],e);e.dependenciesState_=Jn.NOT_TRACKING_}function RA(e){var t=id();try{return e()}finally{Hl(t)}}function id(){var e=Mt.trackingDerivation;return Mt.trackingDerivation=null,e}function Hl(e){Mt.trackingDerivation=e}function j0(e){var t=Mt.allowStateReads;return Mt.allowStateReads=e,t}function Yp(e){Mt.allowStateReads=e}function IA(e){if(e.dependenciesState_!==Jn.UP_TO_DATE_){e.dependenciesState_=Jn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Jn.UP_TO_DATE_}}var Fy=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},jy=!0,PA=!1,Mt=(function(){var e=Sy();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(jy=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Fy().version&&(jy=!1),jy?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Fy):(setTimeout(function(){PA||Wn(35)},1),new Fy)})();function Fce(){if((Mt.pendingReactions.length||Mt.inBatch||Mt.isRunningReactions)&&Wn(36),PA=!0,jy){var e=Sy();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),Mt=new Fy}}function jce(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function kA(e,t){e.observers_.delete(t),e.observers_.size===0&&DA(e)}function DA(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Mt.pendingUnobservations.push(e))}function Os(){Mt.inBatch++}function Rs(){if(--Mt.inBatch===0){NA();for(var e=Mt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ma&&n.suspend_())}Mt.pendingUnobservations=[]}}function AA(e){var t=Mt.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Mt.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&Mt.inBatch>0&&DA(e),!1)}function LA(e){e.lowestObserverState_!==Jn.STALE_&&(e.lowestObserverState_=Jn.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Jn.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Jn.STALE_}))}function Vce(e){e.lowestObserverState_!==Jn.STALE_&&(e.lowestObserverState_=Jn.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Jn.POSSIBLY_STALE_?t.dependenciesState_=Jn.STALE_:t.dependenciesState_===Jn.UP_TO_DATE_&&(e.lowestObserverState_=Jn.UP_TO_DATE_)}))}function $ce(e){e.lowestObserverState_===Jn.UP_TO_DATE_&&(e.lowestObserverState_=Jn.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Jn.UP_TO_DATE_&&(t.dependenciesState_=Jn.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Za=(function(){function e(n,r,o,i){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Jn.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Ly.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Mt.pendingReactions.push(this),NA())},t.runReaction_=function(){if(!this.isDisposed){Os(),this.isScheduled=!1;var r=Mt.trackingContext;if(Mt.trackingContext=this,B0(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}Mt.trackingContext=r,Rs()}},t.track=function(r){if(!this.isDisposed){Os(),this.isRunning=!0;var o=Mt.trackingContext;Mt.trackingContext=this;var i=OA(this,r,void 0);Mt.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&F0(this),By(i)&&this.reportExceptionInDerivation_(i.cause),Rs()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Mt.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";Mt.suppressReactionErrors||console.error(i,r),Mt.globalReactionErrorHandlers.forEach(function(s){return s(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Os(),F0(this),Rs()))},t.getDisposer_=function(r){var o=this,i=function s(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[yn]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Vh(e,[{key:"isDisposed",get:function(){return Qi(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=es(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Qi(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=es(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Qi(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=es(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Qi(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=es(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Qi(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=es(this.flags_,e.diffValueMask_,r===1)}}])})();Za.isDisposedMask_=1,Za.isScheduledMask_=2,Za.isTrackPendingMask_=4,Za.isRunningMask_=8,Za.diffValueMask_=16;var zce=100,V0=function(t){return t()};function NA(){Mt.inBatch>0||Mt.isRunningReactions||V0(Uce)}function Uce(){Mt.isRunningReactions=!0;for(var e=Mt.pendingReactions,t=0;e.length>0;){++t===zce&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}Mt.isRunningReactions=!1}var Vy=ed("Reaction",Za);function Hce(e){var t=V0;V0=function(r){return e(function(){return t(r)})}}function Xp(){return!1}function _4e(e){}function E4e(e){}function T4e(e){}function Gce(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var BA="action",Wce="action.bound",FA="autoAction",Kce="autoAction.bound",qce="<unnamed action>",$0=qp(BA),Yce=qp(Wce,{bound:!0}),z0=qp(FA,{autoAction:!0}),Xce=qp(Kce,{autoAction:!0,bound:!0});function jA(e){var t=function(r,o){if(ga(r))return rd(r.name||qce,r,e);if(ga(o))return rd(r,o,e);if(Kp(o))return(e?z0:$0).decorate_20223_(r,o);if(Qu(o))return Wp(r,o,e?z0:$0);if(Qu(r))return Xa(qp(e?FA:BA,{name:r,autoAction:e}))};return t}var be=jA(!1);Object.assign(be,$0);var Zp=jA(!0);Object.assign(Zp,z0),be.bound=Xa(Yce),Zp.bound=Xa(Xce);function Jp(e){return ga(e)&&e.isMobxAction===!0}function VA(e,t){var n,r,o,i;t===void 0&&(t=P0);var s=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new Za(s,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=$A(t),h=!1;c=new Za(s,function(){h||(h=!0,u(function(){h=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){e(c)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((i=t)==null?void 0:i.signal)}var Zce=function(t){return t()};function $A(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Zce}function Jce(e,t,n){var r,o,i;n===void 0&&(n=P0);var s=(r=n.name)!=null?r:"Reaction",a=be(s,n.onError?Qce(n.onError,t):t),c=!n.scheduler&&!n.delay,u=$A(n),h=!0,f=!1,g,m=n.compareStructural?zh.structural:n.equals||zh.default,y=new Za(s,function(){h||c?b():f||(f=!0,u(b))},n.onError,n.requiresObservable);function b(){if(f=!1,!y.isDisposed){var v=!1,S=g;y.track(function(){var E=Nce(!1,function(){return e(y)});v=h||!m(g,E),g=E}),(h&&n.fireImmediately||!h&&v)&&a(g,S,y),h=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||y.schedule_(),y.getDisposer_((i=n)==null?void 0:i.signal)}function Qce(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var eue="onBO",tue="onBUO";function nue(e,t,n){return UA(eue,e,t,n)}function zA(e,t,n){return UA(tue,e,t,n)}function UA(e,t,n,r){var o=Wy(t),i=ga(r)?r:n,s=e+"L";return o[s]?o[s].add(i):o[s]=new Set([i]),function(){var a=o[s];a&&(a.delete(i),a.size===0&&delete o[s])}}var rue="never",$y="always",oue="observed";function iue(e){e.isolateGlobalState===!0&&Fce();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(Mt.useProxies=t===$y?!0:t===rue?!1:typeof Proxy<"u"),t==="ifavailable"&&(Mt.verifyProxies=!0),n!==void 0){var r=n===$y?$y:n===oue;Mt.enforceActions=r,Mt.allowStateChanges=!(r===!0||r===$y)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(Mt[o]=!!e[o])}),Mt.allowStateReads=!Mt.observableRequiresReaction,e.reactionScheduler&&Hce(e.reactionScheduler)}function sue(e,t,n,r){var o=Vle(t);return ad(function(){var i=Hh(e,r)[yn];Ty(o).forEach(function(s){i.extend_(s,o[s],n&&s in n?n[s]:!0)})}),e}function aue(e,t){return HA(Wy(e,t))}function HA(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=lue(e.observing_).map(HA)),t}function lue(e){return Array.from(new Set(e))}var cue=0;function GA(){this.message="FLOW_CANCELLED"}GA.prototype=Object.create(Error.prototype);var U0=yA("flow"),uue=yA("flow.bound",{bound:!0}),to=Object.assign(function(t,n){if(Kp(n))return U0.decorate_20223_(t,n);if(Qu(n))return Wp(t,n,U0);var r=t,o=r.name||"<unnamed flow>",i=function(){var a=this,c=arguments,u=++cue,h=be(o+" - runid: "+u+" - init",r).apply(a,c),f,g=void 0,m=new Promise(function(y,b){var v=0;f=b;function S(R){g=void 0;var M;try{M=be(o+" - runid: "+u+" - yield "+v++,h.next).call(h,R)}catch(I){return b(I)}T(M)}function E(R){g=void 0;var M;try{M=be(o+" - runid: "+u+" - yield "+v++,h.throw).call(h,R)}catch(I){return b(I)}T(M)}function T(R){if(ga(R?.then)){R.then(T,b);return}return R.done?y(R.value):(g=Promise.resolve(R.value),g.then(S,E))}S(void 0)});return m.cancel=be(o+" - runid: "+u+" - cancel",function(){try{g&&WA(g);var y=h.return(void 0),b=Promise.resolve(y.value);b.then(Fh,Fh),WA(b),f(new GA)}catch(v){f(v)}}),m};return i.isMobXFlow=!0,i},U0);to.bound=Xa(uue);function WA(e){ga(e.cancel)&&e.cancel()}function Qp(e){return e?.isMobXFlow===!0}function due(e,t){return e?Gy(e)||!!e[yn]||D0(e)||Vy(e)||Ay(e):!1}function KA(e){return due(e)}function Gl(e,t){t===void 0&&(t=void 0),Os();try{return e.apply(t)}finally{Rs()}}function Uh(e){return e[yn]}var hue={has:function(t,n){return Uh(t).has_(n)},get:function(t,n){return Uh(t).get_(n)},set:function(t,n,r){var o;return Qu(n)?(o=Uh(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return Qu(n)?(r=Uh(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=Uh(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return Uh(t).ownKeys_()},preventExtensions:function(t){Wn(13)}};function fue(e,t){var n,r;return lA(),e=Hh(e,t),(r=(n=e[yn]).proxy_)!=null?r:n.proxy_=new Proxy(e,hue)}function Is(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function eg(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),cA(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ps(e,t){var n=id();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&(t=r[o](t),t&&!t.type&&Wn(14),!!t);o++);return t}finally{Hl(n)}}function va(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function tg(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),cA(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ya(e,t){var n=id(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);Hl(n)}}function vt(e,t,n){return ad(function(){var r,o=Hh(e,n)[yn];(r=t)!=null||(t=Gle(e)),Ty(t).forEach(function(i){return o.make_(i,t[i])})}),e}var qA="splice",Ja="update",pue=1e4,gue={get:function(t,n){var r=t[yn];return n===yn?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ul(zy,n)?zy[n]:t[n]},set:function(t,n,r){var o=t[yn];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){Wn(15)}},H0=(function(){function e(n,r,o,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new Lc(n),this.enhancer_=function(s,a){return r(s,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return eg(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),tg(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Wn("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var i=new Array(r-o),s=0;s<r-o;s++)i[s]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&Wn(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&aL(r+o+1)},t.spliceWithArray_=function(r,o,i){var s=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),i===void 0&&(i=I0),Is(this)){var c=Ps(this,{object:this.proxy_,type:qA,index:r,removedCount:o,added:i});if(!c)return I0;o=c.removedCount,i=c.added}if(i=i.length===0?i:i.map(function(f){return s.enhancer_(f,void 0)}),this.legacyMode_){var u=i.length-o;this.updateArrayLength_(a,u)}var h=this.spliceItemsIntoValues_(r,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(r,i,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(r,o,i){if(i.length<pue){var s;return(s=this.values_).splice.apply(s,[r,o].concat(i))}else{var a=this.values_.slice(r,r+o),c=this.values_.slice(r+o);this.values_.length+=i.length-o;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var h=0;h<c.length;h++)this.values_[r+i.length+h]=c[h];return a}},t.notifyArrayChildUpdate_=function(r,o,i){var s=!this.owned_&&Xp(),a=va(this),c=a||s?{observableKind:"array",object:this.proxy_,type:Ja,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:i}:null;this.atom_.reportChanged(),a&&ya(this,c)},t.notifyArraySplice_=function(r,o,i){var s=!this.owned_&&Xp(),a=va(this),c=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:qA,index:r,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&ya(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var i=this.values_;if(this.legacyMode_&&r>i.length&&Wn(17,r,i.length),r<i.length){this.atom_;var s=i[r];if(Is(this)){var a=Ps(this,{type:Ja,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,s);var c=o!==s;c&&(i[r]=o,this.notifyArrayChildUpdate_(r,o,s))}else{for(var u=new Array(r+1-i.length),h=0;h<u.length-1;h++)u[h]=void 0;u[u.length-1]=o,this.spliceWithArray_(i.length,0,u)}},e})();function mue(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),lA(),ad(function(){var o=new H0(n,t,r,!1);dA(o.values_,yn,o);var i=new Proxy(o.values_,gue);return o.proxy_=i,e&&e.length&&o.spliceWithArray_(0,0,e),i})}var zy={clear:function(){return this.splice(0)},replace:function(t){var n=this[yn];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var s=this[yn];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,n)}return s.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[yn].spliceWithArray_(t,n,r)},push:function(){for(var t=this[yn],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[yn].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[yn],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return Mt.trackingDerivation&&Wn(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Mt.trackingDerivation&&Wn(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[yn],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Ar("at",ts),Ar("concat",ts),Ar("flat",ts),Ar("includes",ts),Ar("indexOf",ts),Ar("join",ts),Ar("lastIndexOf",ts),Ar("slice",ts),Ar("toString",ts),Ar("toLocaleString",ts),Ar("toSorted",ts),Ar("toSpliced",ts),Ar("with",ts),Ar("every",ba),Ar("filter",ba),Ar("find",ba),Ar("findIndex",ba),Ar("findLast",ba),Ar("findLastIndex",ba),Ar("flatMap",ba),Ar("forEach",ba),Ar("map",ba),Ar("some",ba),Ar("toReversed",ba),Ar("reduce",YA),Ar("reduceRight",YA);function Ar(e,t){typeof Array.prototype[e]=="function"&&(zy[e]=t(e))}function ts(e){return function(){var t=this[yn];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ba(e){return function(t,n){var r=this,o=this[yn];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[e](function(s,a){return t.call(n,s,a,r)})}}function YA(e){return function(){var t=this,n=this[yn];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(i,s,a){return o(i,s,a,t)},r[e].apply(r,arguments)}}var vue=ed("ObservableArrayAdministration",H0);function Uy(e){return _y(e)&&vue(e[yn])}var yue={},Nc="add",Hy="delete",XA=(function(){function e(n,r,o){var i=this;r===void 0&&(r=nd),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[yn]=yue,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,ga(Map)||Wn(18),ad(function(){i.keysAtom_=mA("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,n&&i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!Mt.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var s=i=new od(this.has_(r),My,"ObservableMap.key?",!1);this.hasMap_.set(r,s),zA(s,function(){return o.hasMap_.delete(r)})}return i.get()},t.set=function(r,o){var i=this.has_(r);if(Is(this)){var s=Ps(this,{type:i?Ja:Nc,object:this,newValue:o,name:r});if(!s)return this;o=s.newValue}return i?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,Is(this)){var i=Ps(this,{type:Hy,object:this,name:r});if(!i)return!1}if(this.has_(r)){var s=Xp(),a=va(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Hy,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Gl(function(){var u;o.keysAtom_.reportChanged(),(u=o.hasMap_.get(r))==null||u.setNewValue_(!1);var h=o.data_.get(r);h.setNewValue_(void 0),o.data_.delete(r)}),a&&ya(this,c),!0}return!1},t.updateValue_=function(r,o){var i=this.data_.get(r);if(o=i.prepareNewValue_(o),o!==Mt.UNCHANGED){var s=Xp(),a=va(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Ja,object:this,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),a&&ya(this,c)}},t.addValue_=function(r,o){var i=this;this.keysAtom_,Gl(function(){var u,h=new od(o,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,h),o=h.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var s=Xp(),a=va(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Nc,object:this,name:r,newValue:o}:null;a&&ya(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return ZA({next:function(){var s=o.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,o=this.keys();return ZA({next:function(){var s=o.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var i=$h(this),s;!(s=i()).done;){var a=s.value,c=a[0],u=a[1];r.call(o,u,c,this)}},t.merge=function(r){var o=this;return sd(r)&&(r=new Map(r)),Gl(function(){Ac(r)?jle(r).forEach(function(i){return o.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var s=i[0],a=i[1];return o.set(s,a)}):jh(r)?(Fle(r)||Wn(19,r),r.forEach(function(i,s){return o.set(s,i)})):r!=null&&Wn(20,r)}),this},t.clear=function(){var r=this;Gl(function(){RA(function(){for(var o=$h(r.keys()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.replace=function(r){var o=this;return Gl(function(){for(var i=bue(r),s=new Map,a=!1,c=$h(o.data_.keys()),u;!(u=c()).done;){var h=u.value;if(!i.has(h)){var f=o.delete(h);if(f)a=!0;else{var g=o.data_.get(h);s.set(h,g)}}}for(var m=$h(i.entries()),y;!(y=m()).done;){var b=y.value,v=b[0],S=b[1],E=o.data_.has(v);if(o.set(v,S),o.data_.has(v)){var T=o.data_.get(v);s.set(v,T),E||(a=!0)}}if(!a)if(o.data_.size!==s.size)o.keysAtom_.reportChanged();else for(var R=o.data_.keys(),M=s.keys(),I=R.next(),N=M.next();!I.done;){if(I.value!==N.value){o.keysAtom_.reportChanged();break}I=R.next(),N=M.next()}o.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return tg(this,r)},t.intercept_=function(r){return eg(this,r)},Vh(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),sd=ed("ObservableMap",XA);function ZA(e){return e[Symbol.toStringTag]="MapIterator",Y0(e)}function bue(e){if(jh(e)||sd(e))return e;if(Array.isArray(e))return new Map(e);if(Ac(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Wn(21,e)}var wue={},JA=(function(){function e(n,r,o){var i=this;r===void 0&&(r=nd),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[yn]=wue,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,ga(Set)||Wn(22),this.enhancer_=function(s,a){return r(s,a,o)},ad(function(){i.atom_=mA(i.name_),n&&i.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Gl(function(){RA(function(){for(var o=$h(r.data_.values()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.forEach=function(r,o){for(var i=$h(this),s;!(s=i()).done;){var a=s.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(this.atom_,Is(this)){var i=Ps(this,{type:Nc,object:this,newValue:r});if(!i)return this;r=i.newValue}if(!this.has(r)){Gl(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var s=!1,a=va(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:Nc,object:this,newValue:r}:null;a&&ya(this,c)}return this},t.delete=function(r){var o=this;if(Is(this)){var i=Ps(this,{type:Hy,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var s=!1,a=va(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:Hy,object:this,oldValue:r}:null;return Gl(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&ya(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return QA({next:function(){var i=r.next(),s=i.value,a=i.done;return a?{value:void 0,done:a}:{value:[s,s],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return QA({next:function(){var s=o.next(),a=s.value,c=s.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(a),done:c}}})},t.intersection=function(r){if(zl(r)&&!Qa(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(zl(r)&&!Qa(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(zl(r)&&!Qa(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(zl(r)&&!Qa(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return Qa(r)&&(r=new Set(r)),Gl(function(){Array.isArray(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):zl(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):r!=null&&Wn("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return tg(this,r)},t.intercept_=function(r){return eg(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Vh(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Qa=ed("ObservableSet",JA);function QA(e){return e[Symbol.toStringTag]="SetIterator",Y0(e)}var eL=Object.create(null),tL="remove",nL=(function(){function e(n,r,o,i){r===void 0&&(r=new Map),i===void 0&&(i=gce),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new Lc("ObservableObject.keys"),this.isPlainObject_=Ac(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var i=this.values_.get(r);if(i instanceof ma)return i.set(o),!0;if(Is(this)){var s=Ps(this,{type:Ja,object:this.proxy_||this.target_,name:r,newValue:o});if(!s)return null;o=s.newValue}if(o=i.prepareNewValue_(o),o!==Mt.UNCHANGED){var a=va(this),c=!1,u=a||c?{type:Ja,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),a&&ya(this,u)}return!0},t.get_=function(r){return Mt.trackingDerivation&&!Ul(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,i){return i===void 0&&(i=!1),Ul(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):i?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!Mt.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new od(r in this.target_,My,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Ya])!=null&&i[r])return;Wn(1,o.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==xy;){var a=Cy(s,r);if(a){var c=o.make_(this,r,a,s);if(c===0)return;if(c===1)break}s=Object.getPrototypeOf(s)}oL(this,o,r)}},t.extend_=function(r,o,i,s){if(s===void 0&&(s=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,o,s);var a=i.extend_(this,r,o,s);return a&&oL(this,i,r),a},t.defineProperty_=function(r,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Os();var s=this.delete_(r);if(!s)return s;if(Is(this)){var a=Ps(this,{object:this.proxy_||this.target_,name:r,type:Nc,newValue:o.value});if(!a)return null;var c=a.newValue;o.value!==c&&(o=td({},o,{value:c}))}if(i){if(!Reflect.defineProperty(this.target_,r,o))return!1}else qa(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{Rs()}return!0},t.defineObservableProperty_=function(r,o,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Os();var a=this.delete_(r);if(!a)return a;if(Is(this)){var c=Ps(this,{object:this.proxy_||this.target_,name:r,type:Nc,newValue:o});if(!c)return null;o=c.newValue}var u=rL(r),h={configurable:Mt.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,h))return!1}else qa(this.target_,r,h);var f=new od(o,i,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{Rs()}return!0},t.defineComputedProperty_=function(r,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Os();var s=this.delete_(r);if(!s)return s;if(Is(this)){var a=Ps(this,{object:this.proxy_||this.target_,name:r,type:Nc,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var c=rL(r),u={configurable:Mt.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else qa(this.target_,r,u);this.values_.set(r,new ma(o)),this.notifyPropertyAddition_(r,void 0)}finally{Rs()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Ul(this.target_,r))return!0;if(Is(this)){var i=Ps(this,{object:this.proxy_||this.target_,name:r,type:tL});if(!i)return null}try{var s;Os();var a=va(this),c=!1,u=this.values_.get(r),h=void 0;if(!u&&(a||c)){var f;h=(f=Cy(this.target_,r))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof od&&(h=u.value_),LA(u)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(r in this.target_),a||c){var g={type:tL,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};a&&ya(this,g)}}finally{Rs()}return!0},t.observe_=function(r,o){return tg(this,r)},t.intercept_=function(r){return eg(this,r)},t.notifyPropertyAddition_=function(r,o){var i,s=va(this),a=!1;if(s||a){var c=s||a?{type:Nc,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;s&&ya(this,c)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ty(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function Hh(e,t){var n;if(Ul(e,yn))return e;var r=(n=t?.name)!=null?n:"ObservableObject",o=new nL(e,new Map,String(r),Tce(t));return Ey(e,yn,o),e}var Sue=ed("ObservableObjectAdministration",nL);function rL(e){return eL[e]||(eL[e]={get:function(){return this[yn].getObservablePropValue_(e)},set:function(n){return this[yn].setObservablePropValue_(e,n)}})}function Gy(e){return _y(e)?Sue(e[yn]):!1}function oL(e,t,n){var r;(r=e.target_[Ya])==null||delete r[n]}var Cue=sL(0),xue=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),G0=0,iL=function(){};function _ue(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}_ue(iL,Array.prototype);var W0=(function(e){function t(r,o,i,s){var a;return i===void 0&&(i="ObservableArray"),s===void 0&&(s=!1),a=e.call(this)||this,ad(function(){var c=new H0(i,o,s,!0);c.proxy_=a,dA(a,yn,c),r&&r.length&&a.spliceWithArray(0,0,r),xue&&Object.defineProperty(a,"0",Cue)}),a}gA(t,e);var n=t.prototype;return n.concat=function(){this[yn].atom_.reportObserved();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return Uy(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return Y0({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Vh(t,[{key:"length",get:function(){return this[yn].getArrayLength_()},set:function(o){this[yn].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(iL);Object.entries(zy).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Ey(W0.prototype,t,n)});function sL(e){return{enumerable:!1,configurable:!0,get:function(){return this[yn].get_(e)},set:function(n){this[yn].set_(e,n)}}}function Eue(e){qa(W0.prototype,""+e,sL(e))}function aL(e){if(e>G0){for(var t=G0;t<e+100;t++)Eue(t);G0=e}}aL(1e3);function Tue(e,t,n){return new W0(e,t,n)}function Wy(e,t){if(typeof e=="object"&&e!==null){if(Uy(e))return t!==void 0&&Wn(23),e[yn].atom_;if(Qa(e))return e.atom_;if(sd(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Wn(25,t,K0(e)),n}if(Gy(e)){if(!t)return Wn(26);var r=e[yn].values_.get(t);return r||Wn(27,t,K0(e)),r}if(D0(e)||Ay(e)||Vy(e))return e}else if(ga(e)&&Vy(e[yn]))return e[yn];Wn(28)}function Mue(e,t){if(e||Wn(29),D0(e)||Ay(e)||Vy(e)||sd(e)||Qa(e))return e;if(e[yn])return e[yn];Wn(24,e)}function K0(e,t){var n;if(t!==void 0)n=Wy(e,t);else{if(Jp(e))return e.name;Gy(e)||sd(e)||Qa(e)?n=Mue(e):n=Wy(e)}return n.name_}function ad(e){var t=id(),n=ky(!0);Os();try{return e()}finally{Rs(),Dy(n),Hl(t)}}var lL=xy.toString;function cL(e,t,n){return n===void 0&&(n=-1),q0(e,t,n)}function q0(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var s=lL.call(e);if(s!==lL.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=uL(e),t=uL(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(ga(c)&&c instanceof c&&ga(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var h=r.length;h--;)if(r[h]===e)return o[h]===t;if(r.push(e),o.push(t),a){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!q0(e[h],t[h],n-1,r,o))return!1}else{var f=Object.keys(e),g=f.length;if(Object.keys(t).length!==g)return!1;for(var m=0;m<g;m++){var y=f[m];if(!(Ul(t,y)&&q0(e[y],t[y],n-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function uL(e){return Uy(e)?e.slice():jh(e)||sd(e)||zl(e)||Qa(e)?Array.from(e.entries()):e}var dL,Oue=((dL=Sy().Iterator)==null?void 0:dL.prototype)||{};function Y0(e){return e[Symbol.iterator]=Rue,Object.assign(Object.create(Oue),e)}function Rue(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Sy();typeof t[e]>"u"&&Wn("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Gce,extras:{getDebugName:K0},$mobx:yn});var ld={},X0={},hL;function Iue(){return hL||(hL=1,Object.defineProperty(X0,"__esModule",{value:!0})),X0}var Z0={},fL;function Pue(){return fL||(fL=1,Object.defineProperty(Z0,"__esModule",{value:!0})),Z0}var J0={},pL;function kue(){return pL||(pL=1,Object.defineProperty(J0,"__esModule",{value:!0})),J0}var Q0={},gL;function Due(){return gL||(gL=1,Object.defineProperty(Q0,"__esModule",{value:!0})),Q0}var ex={},mL;function Aue(){return mL||(mL=1,Object.defineProperty(ex,"__esModule",{value:!0})),ex}var tx={},vL;function Lue(){return vL||(vL=1,Object.defineProperty(tx,"__esModule",{value:!0})),tx}var nx={},yL;function Nue(){return yL||(yL=1,Object.defineProperty(nx,"__esModule",{value:!0})),nx}var rx={},bL;function Bue(){return bL||(bL=1,Object.defineProperty(rx,"__esModule",{value:!0})),rx}var ox={},wL;function Fue(){return wL||(wL=1,Object.defineProperty(ox,"__esModule",{value:!0})),ox}var ix={},SL;function jue(){return SL||(SL=1,Object.defineProperty(ix,"__esModule",{value:!0})),ix}var sx={},CL;function Vue(){return CL||(CL=1,Object.defineProperty(sx,"__esModule",{value:!0})),sx}var ax={},xL;function $ue(){return xL||(xL=1,Object.defineProperty(ax,"__esModule",{value:!0})),ax}var lx={},_L;function zue(){return _L||(_L=1,Object.defineProperty(lx,"__esModule",{value:!0})),lx}var cx={},EL;function Uue(){return EL||(EL=1,Object.defineProperty(cx,"__esModule",{value:!0})),cx}var ux={},TL;function Hue(){return TL||(TL=1,Object.defineProperty(ux,"__esModule",{value:!0})),ux}var dx={},ML;function Gue(){return ML||(ML=1,Object.defineProperty(dx,"__esModule",{value:!0})),dx}var hx={},OL;function Wue(){return OL||(OL=1,Object.defineProperty(hx,"__esModule",{value:!0})),hx}var fx={},RL;function Kue(){return RL||(RL=1,Object.defineProperty(fx,"__esModule",{value:!0})),fx}var px={},IL;function que(){return IL||(IL=1,Object.defineProperty(px,"__esModule",{value:!0})),px}var gx={},PL;function Yue(){return PL||(PL=1,Object.defineProperty(gx,"__esModule",{value:!0})),gx}var mx={},kL;function Xue(){return kL||(kL=1,Object.defineProperty(mx,"__esModule",{value:!0})),mx}var vx={},DL;function Zue(){return DL||(DL=1,Object.defineProperty(vx,"__esModule",{value:!0})),vx}var yx={},AL;function Jue(){return AL||(AL=1,Object.defineProperty(yx,"__esModule",{value:!0})),yx}var bx={},LL;function Que(){return LL||(LL=1,Object.defineProperty(bx,"__esModule",{value:!0})),bx}var wx={},NL;function ede(){return NL||(NL=1,Object.defineProperty(wx,"__esModule",{value:!0})),wx}var Sx={},BL;function tde(){return BL||(BL=1,Object.defineProperty(Sx,"__esModule",{value:!0})),Sx}var Cx={},FL;function nde(){return FL||(FL=1,Object.defineProperty(Cx,"__esModule",{value:!0})),Cx}var xx={},jL;function rde(){return jL||(jL=1,Object.defineProperty(xx,"__esModule",{value:!0})),xx}var _x={},VL;function ode(){return VL||(VL=1,Object.defineProperty(_x,"__esModule",{value:!0})),_x}var Ex={},$L;function ide(){return $L||($L=1,Object.defineProperty(Ex,"__esModule",{value:!0})),Ex}var Tx={},zL;function sde(){return zL||(zL=1,Object.defineProperty(Tx,"__esModule",{value:!0})),Tx}var Mx={},UL;function ade(){return UL||(UL=1,Object.defineProperty(Mx,"__esModule",{value:!0})),Mx}var Ox={},HL;function lde(){return HL||(HL=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var Rx={},GL;function cde(){return GL||(GL=1,Object.defineProperty(Rx,"__esModule",{value:!0})),Rx}var Ix={},WL;function ude(){return WL||(WL=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var Px={},KL;function dde(){return KL||(KL=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var kx={},qL;function hde(){return qL||(qL=1,Object.defineProperty(kx,"__esModule",{value:!0})),kx}var Dx={},YL;function fde(){return YL||(YL=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var Ax={},XL;function pde(){return XL||(XL=1,Object.defineProperty(Ax,"__esModule",{value:!0})),Ax}var Lx={},ZL;function gde(){return ZL||(ZL=1,Object.defineProperty(Lx,"__esModule",{value:!0})),Lx}var Nx={},JL;function mde(){return JL||(JL=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Bx={},QL;function vde(){return QL||(QL=1,Object.defineProperty(Bx,"__esModule",{value:!0})),Bx}var Fx={},eN;function yde(){return eN||(eN=1,Object.defineProperty(Fx,"__esModule",{value:!0})),Fx}var jx={},tN;function bde(){return tN||(tN=1,Object.defineProperty(jx,"__esModule",{value:!0})),jx}var Vx={},nN;function wde(){return nN||(nN=1,Object.defineProperty(Vx,"__esModule",{value:!0})),Vx}var $x={},rN;function Sde(){return rN||(rN=1,Object.defineProperty($x,"__esModule",{value:!0})),$x}var zx={},oN;function Cde(){return oN||(oN=1,Object.defineProperty(zx,"__esModule",{value:!0})),zx}var Ux={},iN;function xde(){return iN||(iN=1,Object.defineProperty(Ux,"__esModule",{value:!0})),Ux}var Hx={},sN;function _de(){return sN||(sN=1,Object.defineProperty(Hx,"__esModule",{value:!0})),Hx}var Gx={},aN;function Ede(){return aN||(aN=1,Object.defineProperty(Gx,"__esModule",{value:!0})),Gx}var Wx={},lN;function Tde(){return lN||(lN=1,Object.defineProperty(Wx,"__esModule",{value:!0})),Wx}var Kx={},cN;function Mde(){return cN||(cN=1,Object.defineProperty(Kx,"__esModule",{value:!0})),Kx}var qx={},uN;function Ode(){return uN||(uN=1,Object.defineProperty(qx,"__esModule",{value:!0})),qx}var Yx={},dN;function Rde(){return dN||(dN=1,Object.defineProperty(Yx,"__esModule",{value:!0})),Yx}var Xx={},hN;function Ide(){return hN||(hN=1,Object.defineProperty(Xx,"__esModule",{value:!0})),Xx}var Zx={},fN;function Pde(){return fN||(fN=1,Object.defineProperty(Zx,"__esModule",{value:!0})),Zx}var Jx={},pN;function kde(){return pN||(pN=1,Object.defineProperty(Jx,"__esModule",{value:!0})),Jx}var Qx={},gN;function Dde(){return gN||(gN=1,Object.defineProperty(Qx,"__esModule",{value:!0})),Qx}var e_={},mN;function Ade(){return mN||(mN=1,Object.defineProperty(e_,"__esModule",{value:!0})),e_}var t_={},vN;function Lde(){return vN||(vN=1,Object.defineProperty(t_,"__esModule",{value:!0})),t_}var n_={},yN;function Nde(){return yN||(yN=1,Object.defineProperty(n_,"__esModule",{value:!0})),n_}var r_={},bN;function Bde(){return bN||(bN=1,Object.defineProperty(r_,"__esModule",{value:!0})),r_}var o_={},wN;function Fde(){return wN||(wN=1,Object.defineProperty(o_,"__esModule",{value:!0})),o_}var i_={},SN;function jde(){return SN||(SN=1,Object.defineProperty(i_,"__esModule",{value:!0})),i_}var s_={},CN;function Vde(){return CN||(CN=1,Object.defineProperty(s_,"__esModule",{value:!0})),s_}var a_={},xN;function $de(){return xN||(xN=1,Object.defineProperty(a_,"__esModule",{value:!0})),a_}var l_={},_N;function zde(){return _N||(_N=1,Object.defineProperty(l_,"__esModule",{value:!0})),l_}var ng={},EN;function Ude(){if(EN)return ng;EN=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.UnreachableCaseError=void 0;class e extends Error{constructor(n){super(`Unreachable case: ${n}`)}}return ng.UnreachableCaseError=e,ng}var rg={},TN;function Hde(){if(TN)return rg;TN=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.assert=void 0;function e(t,n="no additional info provided"){if(!t)throw new Error("Assertion Error: "+n)}return rg.assert=e,rg}var og={},MN;function Gde(){if(MN)return og;MN=1,Object.defineProperty(og,"__esModule",{value:!0}),og.createFactoryWithConstraint=void 0;const e=()=>t=>t;return og.createFactoryWithConstraint=e,og}var ig={},ON;function Wde(){if(ON)return ig;ON=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.isExact=void 0;const e=()=>t=>t;return ig.isExact=e,ig}var sg={},RN;function Kde(){if(RN)return sg;RN=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.noop=void 0;function e(...t){}return sg.noop=e,sg}var c_={},IN;function qde(){return IN||(IN=1,Object.defineProperty(c_,"__esModule",{value:!0})),c_}var PN;function Yde(){return PN||(PN=1,(function(e){var t=ld&&ld.__createBinding||(Object.create?(function(r,o,i,s){s===void 0&&(s=i);var a=Object.getOwnPropertyDescriptor(o,i);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(r,s,a)}):(function(r,o,i,s){s===void 0&&(s=i),r[s]=o[i]})),n=ld&&ld.__exportStar||function(r,o){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Iue(),e),n(Pue(),e),n(kue(),e),n(Due(),e),n(Aue(),e),n(Lue(),e),n(Nue(),e),n(Bue(),e),n(Fue(),e),n(jue(),e),n(Vue(),e),n($ue(),e),n(zue(),e),n(Uue(),e),n(Hue(),e),n(Gue(),e),n(Wue(),e),n(Kue(),e),n(que(),e),n(Yue(),e),n(Xue(),e),n(Zue(),e),n(Jue(),e),n(Que(),e),n(ede(),e),n(tde(),e),n(nde(),e),n(rde(),e),n(ode(),e),n(ide(),e),n(sde(),e),n(ade(),e),n(lde(),e),n(cde(),e),n(ude(),e),n(dde(),e),n(hde(),e),n(fde(),e),n(pde(),e),n(gde(),e),n(mde(),e),n(vde(),e),n(yde(),e),n(bde(),e),n(wde(),e),n(Sde(),e),n(Cde(),e),n(xde(),e),n(_de(),e),n(Ede(),e),n(Tde(),e),n(Mde(),e),n(Ode(),e),n(Rde(),e),n(Ide(),e),n(Pde(),e),n(kde(),e),n(Dde(),e),n(Ade(),e),n(Lde(),e),n(Nde(),e),n(Bde(),e),n(Fde(),e),n(jde(),e),n(Vde(),e),n($de(),e),n(zde(),e),n(Ude(),e),n(Hde(),e),n(Gde(),e),n(Wde(),e),n(Kde(),e),n(qde(),e)})(ld)),ld}var ks=Yde();function Xde(e){const t=e.vars.allList,n=Si(t,o=>o.isArgument&&o.type),r=t.find(o=>o.isReturn)?.type??null;return{type:"user",name:e.name,argTypes:n,retType:r}}function Zde(e,t){const n=Ale(t);return e.forEach(r=>r.isFunction&&n.addUserFunc(Xde(r))),n}class Jde{constructor({klass:t,lib:n,pluginsGetter:r}){this.type="codeEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.onError=new Hr,this.onSaved=new Hr,this.klass=t,this.lib=n,this.pluginsGetter=r,this.currentText=this.savedText=t.modelText.split(`\r
`).join(`
`),vt(this,{currentLineNumber:Pe.ref,currentColumnIndex:Pe.ref,currentText:Pe.ref,savedText:Pe.ref,hasChanges:Gr,save:be,setCurrentText:be,setCursorPosition:be})}get _reactKey(){return"code-"+this.klass.uuid}get title(){return this.klass.name+" (код)"}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){ks.assert(!this.isReadonly);try{const t=this.currentText.split(`
`).join(`\r
`),r=Zde(this.lib.list,this.pluginsGetter()).compile(t,this.klass.name,this.klass.file.path);if(r.bugs.length)throw Error(r.bugs.map(([o])=>` -${o}`).join(`
`));if(this.savedText===this.currentText)return;this.klass.vars.set(r.vars),this.klass.set({modelText:t,isFunction:r.isFunction}),this.savedText=this.currentText,this.onSaved.dispatch()}catch(t){if(!(t instanceof Error))return;this.onError.dispatch(t.message)}}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}var Ky={exports:{}},Qde=Ky.exports,kN;function Qn(){return kN||(kN=1,(function(e,t){(function(n,r){e.exports=r()})(Qde,function(){var n=Array.prototype.slice;function r(C,F){F&&(C.prototype=Object.create(F.prototype)),C.prototype.constructor=C}function o(C){return c(C)?C:Ee(C)}r(i,o);function i(C){return u(C)?C:ke(C)}r(s,o);function s(C){return h(C)?C:Te(C)}r(a,o);function a(C){return c(C)&&!f(C)?C:Ve(C)}function c(C){return!!(C&&C[m])}function u(C){return!!(C&&C[y])}function h(C){return!!(C&&C[b])}function f(C){return u(C)||h(C)}function g(C){return!!(C&&C[v])}o.isIterable=c,o.isKeyed=u,o.isIndexed=h,o.isAssociative=f,o.isOrdered=g,o.Keyed=i,o.Indexed=s,o.Set=a;var m="@@__IMMUTABLE_ITERABLE__@@",y="@@__IMMUTABLE_KEYED__@@",b="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",S="delete",E=5,T=1<<E,R=T-1,M={},I={value:!1},N={value:!1};function P(C){return C.value=!1,C}function L(C){C&&(C.value=!0)}function D(){}function $(C,F){F=F||0;for(var X=Math.max(0,C.length-F),ee=new Array(X),oe=0;oe<X;oe++)ee[oe]=C[oe+F];return ee}function B(C){return C.size===void 0&&(C.size=C.__iterate(q)),C.size}function U(C,F){if(typeof F!="number"){var X=F>>>0;if(""+X!==F||X===4294967295)return NaN;F=X}return F<0?B(C)+F:F}function q(){return!0}function W(C,F,X){return(C===0||X!==void 0&&C<=-X)&&(F===void 0||X!==void 0&&F>=X)}function V(C,F){return J(C,F,0)}function Y(C,F){return J(C,F,F)}function J(C,F,X){return C===void 0?X:C<0?Math.max(0,F+C):F===void 0?C:Math.min(F,C)}var ne=0,z=1,K=2,Z=typeof Symbol=="function"&&Symbol.iterator,le="@@iterator",ce=Z||le;function ue(C){this.next=C}ue.prototype.toString=function(){return"[Iterator]"},ue.KEYS=ne,ue.VALUES=z,ue.ENTRIES=K,ue.prototype.inspect=ue.prototype.toSource=function(){return this.toString()},ue.prototype[ce]=function(){return this};function ae(C,F,X,ee){var oe=C===0?F:C===1?X:[F,X];return ee?ee.value=oe:ee={value:oe,done:!1},ee}function ye(){return{value:void 0,done:!0}}function Me(C){return!!pe(C)}function xe(C){return C&&typeof C.next=="function"}function he(C){var F=pe(C);return F&&F.call(C)}function pe(C){var F=C&&(Z&&C[Z]||C[le]);if(typeof F=="function")return F}function Se(C){return C&&typeof C.length=="number"}r(Ee,o);function Ee(C){return C==null?mt():c(C)?C.toSeq():qt(C)}Ee.of=function(){return Ee(arguments)},Ee.prototype.toSeq=function(){return this},Ee.prototype.toString=function(){return this.__toString("Seq {","}")},Ee.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Ee.prototype.__iterate=function(C,F){return gt(this,C,F,!0)},Ee.prototype.__iterator=function(C,F){return _t(this,C,F,!0)},r(ke,Ee);function ke(C){return C==null?mt().toKeyedSeq():c(C)?u(C)?C.toSeq():C.fromEntrySeq():Bt(C)}ke.prototype.toKeyedSeq=function(){return this},r(Te,Ee);function Te(C){return C==null?mt():c(C)?u(C)?C.entrySeq():C.toIndexedSeq():zt(C)}Te.of=function(){return Te(arguments)},Te.prototype.toIndexedSeq=function(){return this},Te.prototype.toString=function(){return this.__toString("Seq [","]")},Te.prototype.__iterate=function(C,F){return gt(this,C,F,!1)},Te.prototype.__iterator=function(C,F){return _t(this,C,F,!1)},r(Ve,Ee);function Ve(C){return(C==null?mt():c(C)?u(C)?C.entrySeq():C:zt(C)).toSetSeq()}Ve.of=function(){return Ve(arguments)},Ve.prototype.toSetSeq=function(){return this},Ee.isSeq=$e,Ee.Keyed=ke,Ee.Set=Ve,Ee.Indexed=Te;var rt="@@__IMMUTABLE_SEQ__@@";Ee.prototype[rt]=!0,r(je,Te);function je(C){this._array=C,this.size=C.length}je.prototype.get=function(C,F){return this.has(C)?this._array[U(this,C)]:F},je.prototype.__iterate=function(C,F){for(var X=this._array,ee=X.length-1,oe=0;oe<=ee;oe++)if(C(X[F?ee-oe:oe],oe,this)===!1)return oe+1;return oe},je.prototype.__iterator=function(C,F){var X=this._array,ee=X.length-1,oe=0;return new ue(function(){return oe>ee?ye():ae(C,oe,X[F?ee-oe++:oe++])})},r(Rt,ke);function Rt(C){var F=Object.keys(C);this._object=C,this._keys=F,this.size=F.length}Rt.prototype.get=function(C,F){return F!==void 0&&!this.has(C)?F:this._object[C]},Rt.prototype.has=function(C){return this._object.hasOwnProperty(C)},Rt.prototype.__iterate=function(C,F){for(var X=this._object,ee=this._keys,oe=ee.length-1,de=0;de<=oe;de++){var ge=ee[F?oe-de:de];if(C(X[ge],ge,this)===!1)return de+1}return de},Rt.prototype.__iterator=function(C,F){var X=this._object,ee=this._keys,oe=ee.length-1,de=0;return new ue(function(){var ge=ee[F?oe-de:de];return de++>oe?ye():ae(C,ge,X[ge])})},Rt.prototype[v]=!0,r(dt,Te);function dt(C){this._iterable=C,this.size=C.length||C.size}dt.prototype.__iterateUncached=function(C,F){if(F)return this.cacheResult().__iterate(C,F);var X=this._iterable,ee=he(X),oe=0;if(xe(ee))for(var de;!(de=ee.next()).done&&C(de.value,oe++,this)!==!1;);return oe},dt.prototype.__iteratorUncached=function(C,F){if(F)return this.cacheResult().__iterator(C,F);var X=this._iterable,ee=he(X);if(!xe(ee))return new ue(ye);var oe=0;return new ue(function(){var de=ee.next();return de.done?de:ae(C,oe++,de.value)})},r(Ct,Te);function Ct(C){this._iterator=C,this._iteratorCache=[]}Ct.prototype.__iterateUncached=function(C,F){if(F)return this.cacheResult().__iterate(C,F);for(var X=this._iterator,ee=this._iteratorCache,oe=0;oe<ee.length;)if(C(ee[oe],oe++,this)===!1)return oe;for(var de;!(de=X.next()).done;){var ge=de.value;if(ee[oe]=ge,C(ge,oe++,this)===!1)break}return oe},Ct.prototype.__iteratorUncached=function(C,F){if(F)return this.cacheResult().__iterator(C,F);var X=this._iterator,ee=this._iteratorCache,oe=0;return new ue(function(){if(oe>=ee.length){var de=X.next();if(de.done)return de;ee[oe]=de.value}return ae(C,oe,ee[oe++])})};function $e(C){return!!(C&&C[rt])}var It;function mt(){return It||(It=new je([]))}function Bt(C){var F=Array.isArray(C)?new je(C).fromEntrySeq():xe(C)?new Ct(C).fromEntrySeq():Me(C)?new dt(C).fromEntrySeq():typeof C=="object"?new Rt(C):void 0;if(!F)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+C);return F}function zt(C){var F=tn(C);if(!F)throw new TypeError("Expected Array or iterable object of values: "+C);return F}function qt(C){var F=tn(C)||typeof C=="object"&&new Rt(C);if(!F)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+C);return F}function tn(C){return Se(C)?new je(C):xe(C)?new Ct(C):Me(C)?new dt(C):void 0}function gt(C,F,X,ee){var oe=C._cache;if(oe){for(var de=oe.length-1,ge=0;ge<=de;ge++){var Re=oe[X?de-ge:ge];if(F(Re[1],ee?Re[0]:ge,C)===!1)return ge+1}return ge}return C.__iterateUncached(F,X)}function _t(C,F,X,ee){var oe=C._cache;if(oe){var de=oe.length-1,ge=0;return new ue(function(){var Re=oe[X?de-ge:ge];return ge++>de?ye():ae(F,ee?Re[0]:ge-1,Re[1])})}return C.__iteratorUncached(F,X)}function Ge(C,F){return F?ct(F,C,"",{"":C}):ut(C)}function ct(C,F,X,ee){return Array.isArray(F)?C.call(ee,X,Te(F).map(function(oe,de){return ct(C,oe,de,F)})):St(F)?C.call(ee,X,ke(F).map(function(oe,de){return ct(C,oe,de,F)})):F}function ut(C){return Array.isArray(C)?Te(C).map(ut).toList():St(C)?ke(C).map(ut).toMap():C}function St(C){return C&&(C.constructor===Object||C.constructor===void 0)}function at(C,F){if(C===F||C!==C&&F!==F)return!0;if(!C||!F)return!1;if(typeof C.valueOf=="function"&&typeof F.valueOf=="function"){if(C=C.valueOf(),F=F.valueOf(),C===F||C!==C&&F!==F)return!0;if(!C||!F)return!1}return!!(typeof C.equals=="function"&&typeof F.equals=="function"&&C.equals(F))}function At(C,F){if(C===F)return!0;if(!c(F)||C.size!==void 0&&F.size!==void 0&&C.size!==F.size||C.__hash!==void 0&&F.__hash!==void 0&&C.__hash!==F.__hash||u(C)!==u(F)||h(C)!==h(F)||g(C)!==g(F))return!1;if(C.size===0&&F.size===0)return!0;var X=!f(C);if(g(C)){var ee=C.entries();return F.every(function(Ue,qe){var ot=ee.next().value;return ot&&at(ot[1],Ue)&&(X||at(ot[0],qe))})&&ee.next().done}var oe=!1;if(C.size===void 0)if(F.size===void 0)typeof C.cacheResult=="function"&&C.cacheResult();else{oe=!0;var de=C;C=F,F=de}var ge=!0,Re=F.__iterate(function(Ue,qe){if(X?!C.has(Ue):oe?!at(Ue,C.get(qe,M)):!at(C.get(qe,M),Ue))return ge=!1,!1});return ge&&C.size===Re}r(ft,Te);function ft(C,F){if(!(this instanceof ft))return new ft(C,F);if(this._value=C,this.size=F===void 0?1/0:Math.max(0,F),this.size===0){if(Pt)return Pt;Pt=this}}ft.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ft.prototype.get=function(C,F){return this.has(C)?this._value:F},ft.prototype.includes=function(C){return at(this._value,C)},ft.prototype.slice=function(C,F){var X=this.size;return W(C,F,X)?this:new ft(this._value,Y(F,X)-V(C,X))},ft.prototype.reverse=function(){return this},ft.prototype.indexOf=function(C){return at(this._value,C)?0:-1},ft.prototype.lastIndexOf=function(C){return at(this._value,C)?this.size:-1},ft.prototype.__iterate=function(C,F){for(var X=0;X<this.size;X++)if(C(this._value,X,this)===!1)return X+1;return X},ft.prototype.__iterator=function(C,F){var X=this,ee=0;return new ue(function(){return ee<X.size?ae(C,ee++,X._value):ye()})},ft.prototype.equals=function(C){return C instanceof ft?at(this._value,C._value):At(C)};var Pt;function Pn(C,F){if(!C)throw new Error(F)}r(An,Te);function An(C,F,X){if(!(this instanceof An))return new An(C,F,X);if(Pn(X!==0,"Cannot step a Range by 0"),C=C||0,F===void 0&&(F=1/0),X=X===void 0?1:Math.abs(X),F<C&&(X=-X),this._start=C,this._end=F,this._step=X,this.size=Math.max(0,Math.ceil((F-C)/X-1)+1),this.size===0){if(cr)return cr;cr=this}}An.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},An.prototype.get=function(C,F){return this.has(C)?this._start+U(this,C)*this._step:F},An.prototype.includes=function(C){var F=(C-this._start)/this._step;return F>=0&&F<this.size&&F===Math.floor(F)},An.prototype.slice=function(C,F){return W(C,F,this.size)?this:(C=V(C,this.size),F=Y(F,this.size),F<=C?new An(0,0):new An(this.get(C,this._end),this.get(F,this._end),this._step))},An.prototype.indexOf=function(C){var F=C-this._start;if(F%this._step===0){var X=F/this._step;if(X>=0&&X<this.size)return X}return-1},An.prototype.lastIndexOf=function(C){return this.indexOf(C)},An.prototype.__iterate=function(C,F){for(var X=this.size-1,ee=this._step,oe=F?this._start+X*ee:this._start,de=0;de<=X;de++){if(C(oe,de,this)===!1)return de+1;oe+=F?-ee:ee}return de},An.prototype.__iterator=function(C,F){var X=this.size-1,ee=this._step,oe=F?this._start+X*ee:this._start,de=0;return new ue(function(){var ge=oe;return oe+=F?-ee:ee,de>X?ye():ae(C,de++,ge)})},An.prototype.equals=function(C){return C instanceof An?this._start===C._start&&this._end===C._end&&this._step===C._step:At(this,C)};var cr;r(_n,o);function _n(){throw TypeError("Abstract")}r(Er,_n);function Er(){}r(Yn,_n);function Yn(){}r(Nr,_n);function Nr(){}_n.Keyed=Er,_n.Indexed=Yn,_n.Set=Nr;var Br=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(F,X){F=F|0,X=X|0;var ee=F&65535,oe=X&65535;return ee*oe+((F>>>16)*oe+ee*(X>>>16)<<16>>>0)|0};function an(C){return C>>>1&1073741824|C&3221225471}function Ln(C){if(C===!1||C===null||C===void 0||typeof C.valueOf=="function"&&(C=C.valueOf(),C===!1||C===null||C===void 0))return 0;if(C===!0)return 1;var F=typeof C;if(F==="number"){var X=C|0;for(X!==C&&(X^=C*4294967295);C>4294967295;)C/=4294967295,X^=C;return an(X)}if(F==="string")return C.length>kr?Lt(C):Ft(C);if(typeof C.hashCode=="function")return C.hashCode();if(F==="object")return rn(C);if(typeof C.toString=="function")return Ft(C.toString());throw new Error("Value type "+F+" cannot be hashed.")}function Lt(C){var F=Ri[C];return F===void 0&&(F=Ft(C),bo===pr&&(bo=0,Ri={}),bo++,Ri[C]=F),F}function Ft(C){for(var F=0,X=0;X<C.length;X++)F=31*F+C.charCodeAt(X)|0;return an(F)}function rn(C){var F;if(Bo&&(F=ni.get(C),F!==void 0)||(F=C[zr],F!==void 0)||!Rn&&(F=C.propertyIsEnumerable&&C.propertyIsEnumerable[zr],F!==void 0||(F=uo(C),F!==void 0)))return F;if(F=++Oi,Oi&1073741824&&(Oi=0),Bo)ni.set(C,F);else{if(nn!==void 0&&nn(C)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Rn)Object.defineProperty(C,zr,{enumerable:!1,configurable:!1,writable:!1,value:F});else if(C.propertyIsEnumerable!==void 0&&C.propertyIsEnumerable===C.constructor.prototype.propertyIsEnumerable)C.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},C.propertyIsEnumerable[zr]=F;else if(C.nodeType!==void 0)C[zr]=F;else throw new Error("Unable to set a non-enumerable property on object.")}return F}var nn=Object.isExtensible,Rn=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function uo(C){if(C&&C.nodeType>0)switch(C.nodeType){case 1:return C.uniqueID;case 9:return C.documentElement&&C.documentElement.uniqueID}}var Bo=typeof WeakMap=="function",ni;Bo&&(ni=new WeakMap);var Oi=0,zr="__immutablehash__";typeof Symbol=="function"&&(zr=Symbol(zr));var kr=16,pr=255,bo=0,Ri={};function Tr(C){Pn(C!==1/0,"Cannot perform this action with an infinite size.")}r(on,Er);function on(C){return C==null?Mr():Xe(C)&&!g(C)?C:Mr().withMutations(function(F){var X=i(C);Tr(X.size),X.forEach(function(ee,oe){return F.set(oe,ee)})})}on.prototype.toString=function(){return this.__toString("Map {","}")},on.prototype.get=function(C,F){return this._root?this._root.get(0,void 0,C,F):F},on.prototype.set=function(C,F){return oi(this,C,F)},on.prototype.setIn=function(C,F){return this.updateIn(C,M,function(){return F})},on.prototype.remove=function(C){return oi(this,C,M)},on.prototype.deleteIn=function(C){return this.updateIn(C,function(){return M})},on.prototype.update=function(C,F,X){return arguments.length===1?C(this):this.updateIn([C],F,X)},on.prototype.updateIn=function(C,F,X){X||(X=F,F=void 0);var ee=ii(this,Yf(C),F,X);return ee===M?void 0:ee},on.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Mr()},on.prototype.merge=function(){return ka(this,void 0,arguments)},on.prototype.mergeWith=function(C){var F=n.call(arguments,1);return ka(this,C,F)},on.prototype.mergeIn=function(C){var F=n.call(arguments,1);return this.updateIn(C,Mr(),function(X){return typeof X.merge=="function"?X.merge.apply(X,F):F[F.length-1]})},on.prototype.mergeDeep=function(){return ka(this,Jd,arguments)},on.prototype.mergeDeepWith=function(C){var F=n.call(arguments,1);return ka(this,sc(C),F)},on.prototype.mergeDeepIn=function(C){var F=n.call(arguments,1);return this.updateIn(C,Mr(),function(X){return typeof X.mergeDeep=="function"?X.mergeDeep.apply(X,F):F[F.length-1]})},on.prototype.sort=function(C){return vr(_l(this,C))},on.prototype.sortBy=function(C,F){return vr(_l(this,F,C))},on.prototype.withMutations=function(C){var F=this.asMutable();return C(F),F.wasAltered()?F.__ensureOwner(this.__ownerID):this},on.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new D)},on.prototype.asImmutable=function(){return this.__ensureOwner()},on.prototype.wasAltered=function(){return this.__altered},on.prototype.__iterator=function(C,F){return new Ii(this,C,F)},on.prototype.__iterate=function(C,F){var X=this,ee=0;return this._root&&this._root.iterate(function(oe){return ee++,C(oe[1],oe[0],X)},F),ee},on.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?na(this.size,this._root,C,this.__hash):(this.__ownerID=C,this.__altered=!1,this)};function Xe(C){return!!(C&&C[Ze])}on.isMap=Xe;var Ze="@@__IMMUTABLE_MAP__@@",st=on.prototype;st[Ze]=!0,st[S]=st.remove,st.removeIn=st.deleteIn;function Jt(C,F){this.ownerID=C,this.entries=F}Jt.prototype.get=function(C,F,X,ee){for(var oe=this.entries,de=0,ge=oe.length;de<ge;de++)if(at(X,oe[de][0]))return oe[de][1];return ee},Jt.prototype.update=function(C,F,X,ee,oe,de,ge){for(var Re=oe===M,Ue=this.entries,qe=0,ot=Ue.length;qe<ot&&!at(ee,Ue[qe][0]);qe++);var kt=qe<ot;if(kt?Ue[qe][1]===oe:Re)return this;if(L(ge),(Re||!kt)&&L(de),!(Re&&Ue.length===1)){if(!kt&&!Re&&Ue.length>=Uf)return gi(C,Ue,ee,oe);var Ut=C&&C===this.ownerID,dn=Ut?Ue:$(Ue);return kt?Re?qe===ot-1?dn.pop():dn[qe]=dn.pop():dn[qe]=[ee,oe]:dn.push([ee,oe]),Ut?(this.entries=dn,this):new Jt(C,dn)}};function un(C,F,X){this.ownerID=C,this.bitmap=F,this.nodes=X}un.prototype.get=function(C,F,X,ee){F===void 0&&(F=Ln(X));var oe=1<<((C===0?F:F>>>C)&R),de=this.bitmap;return(de&oe)===0?ee:this.nodes[gu(de&oe-1)].get(C+E,F,X,ee)},un.prototype.update=function(C,F,X,ee,oe,de,ge){X===void 0&&(X=Ln(ee));var Re=(F===0?X:X>>>F)&R,Ue=1<<Re,qe=this.bitmap,ot=(qe&Ue)!==0;if(!ot&&oe===M)return this;var kt=gu(qe&Ue-1),Ut=this.nodes,dn=ot?Ut[kt]:void 0,vn=Pi(dn,C,F+E,X,ee,oe,de,ge);if(vn===dn)return this;if(!ot&&vn&&Ut.length>=Hf)return Km(C,Ut,qe,Re,vn);if(ot&&!vn&&Ut.length===2&&Vf(Ut[kt^1]))return Ut[kt^1];if(ot&&vn&&Ut.length===1&&Vf(vn))return vn;var ur=C&&C===this.ownerID,qo=ot?vn?qe:qe^Ue:qe|Ue,Eo=ot?vn?Qd(Ut,kt,vn,ur):bl(Ut,kt,ur):eh(Ut,kt,vn,ur);return ur?(this.bitmap=qo,this.nodes=Eo,this):new un(C,qo,Eo)};function gr(C,F,X){this.ownerID=C,this.count=F,this.nodes=X}gr.prototype.get=function(C,F,X,ee){F===void 0&&(F=Ln(X));var oe=(C===0?F:F>>>C)&R,de=this.nodes[oe];return de?de.get(C+E,F,X,ee):ee},gr.prototype.update=function(C,F,X,ee,oe,de,ge){X===void 0&&(X=Ln(ee));var Re=(F===0?X:X>>>F)&R,Ue=oe===M,qe=this.nodes,ot=qe[Re];if(Ue&&!ot)return this;var kt=Pi(ot,C,F+E,X,ee,oe,de,ge);if(kt===ot)return this;var Ut=this.count;if(!ot)Ut++;else if(!kt&&(Ut--,Ut<wl))return $f(C,qe,Ut,Re);var dn=C&&C===this.ownerID,vn=Qd(qe,Re,kt,dn);return dn?(this.count=Ut,this.nodes=vn,this):new gr(C,Ut,vn)};function Xn(C,F,X){this.ownerID=C,this.keyHash=F,this.entries=X}Xn.prototype.get=function(C,F,X,ee){for(var oe=this.entries,de=0,ge=oe.length;de<ge;de++)if(at(X,oe[de][0]))return oe[de][1];return ee},Xn.prototype.update=function(C,F,X,ee,oe,de,ge){X===void 0&&(X=Ln(ee));var Re=oe===M;if(X!==this.keyHash)return Re?this:(L(ge),L(de),pu(this,C,F,X,[ee,oe]));for(var Ue=this.entries,qe=0,ot=Ue.length;qe<ot&&!at(ee,Ue[qe][0]);qe++);var kt=qe<ot;if(kt?Ue[qe][1]===oe:Re)return this;if(L(ge),(Re||!kt)&&L(de),Re&&ot===2)return new Ur(C,this.keyHash,Ue[qe^1]);var Ut=C&&C===this.ownerID,dn=Ut?Ue:$(Ue);return kt?Re?qe===ot-1?dn.pop():dn[qe]=dn.pop():dn[qe]=[ee,oe]:dn.push([ee,oe]),Ut?(this.entries=dn,this):new Xn(C,this.keyHash,dn)};function Ur(C,F,X){this.ownerID=C,this.keyHash=F,this.entry=X}Ur.prototype.get=function(C,F,X,ee){return at(X,this.entry[0])?this.entry[1]:ee},Ur.prototype.update=function(C,F,X,ee,oe,de,ge){var Re=oe===M,Ue=at(ee,this.entry[0]);if(Ue?oe===this.entry[1]:Re)return this;if(L(ge),Re){L(de);return}return Ue?C&&C===this.ownerID?(this.entry[1]=oe,this):new Ur(C,this.keyHash,[ee,oe]):(L(de),pu(this,C,F,Ln(ee),[ee,oe]))},Jt.prototype.iterate=Xn.prototype.iterate=function(C,F){for(var X=this.entries,ee=0,oe=X.length-1;ee<=oe;ee++)if(C(X[F?oe-ee:ee])===!1)return!1},un.prototype.iterate=gr.prototype.iterate=function(C,F){for(var X=this.nodes,ee=0,oe=X.length-1;ee<=oe;ee++){var de=X[F?oe-ee:ee];if(de&&de.iterate(C,F)===!1)return!1}},Ur.prototype.iterate=function(C,F){return C(this.entry)},r(Ii,ue);function Ii(C,F,X){this._type=F,this._reverse=X,this._stack=C._root&&ri(C._root)}Ii.prototype.next=function(){for(var C=this._type,F=this._stack;F;){var X=F.node,ee=F.index++,oe;if(X.entry){if(ee===0)return hs(C,X.entry)}else if(X.entries){if(oe=X.entries.length-1,ee<=oe)return hs(C,X.entries[this._reverse?oe-ee:ee])}else if(oe=X.nodes.length-1,ee<=oe){var de=X.nodes[this._reverse?oe-ee:ee];if(de){if(de.entry)return hs(C,de.entry);F=this._stack=ri(de,F)}continue}F=this._stack=this._stack.__prev}return ye()};function hs(C,F){return ae(C,F[0],F[1])}function ri(C,F){return{node:C,index:0,__prev:F}}function na(C,F,X,ee){var oe=Object.create(st);return oe.size=C,oe._root=F,oe.__ownerID=X,oe.__hash=ee,oe.__altered=!1,oe}var kn;function Mr(){return kn||(kn=na(0))}function oi(C,F,X){var ee,oe;if(C._root){var de=P(I),ge=P(N);if(ee=Pi(C._root,C.__ownerID,0,void 0,F,X,de,ge),!ge.value)return C;oe=C.size+(de.value?X===M?-1:1:0)}else{if(X===M)return C;oe=1,ee=new Jt(C.__ownerID,[[F,X]])}return C.__ownerID?(C.size=oe,C._root=ee,C.__hash=void 0,C.__altered=!0,C):ee?na(oe,ee):Mr()}function Pi(C,F,X,ee,oe,de,ge,Re){return C?C.update(F,X,ee,oe,de,ge,Re):de===M?C:(L(Re),L(ge),new Ur(F,ee,[oe,de]))}function Vf(C){return C.constructor===Ur||C.constructor===Xn}function pu(C,F,X,ee,oe){if(C.keyHash===ee)return new Xn(F,ee,[C.entry,oe]);var de=(X===0?C.keyHash:C.keyHash>>>X)&R,ge=(X===0?ee:ee>>>X)&R,Re,Ue=de===ge?[pu(C,F,X+E,ee,oe)]:(Re=new Ur(F,ee,oe),de<ge?[C,Re]:[Re,C]);return new un(F,1<<de|1<<ge,Ue)}function gi(C,F,X,ee){C||(C=new D);for(var oe=new Ur(C,Ln(X),[X,ee]),de=0;de<F.length;de++){var ge=F[de];oe=oe.update(C,0,void 0,ge[0],ge[1])}return oe}function $f(C,F,X,ee){for(var oe=0,de=0,ge=new Array(X),Re=0,Ue=1,qe=F.length;Re<qe;Re++,Ue<<=1){var ot=F[Re];ot!==void 0&&Re!==ee&&(oe|=Ue,ge[de++]=ot)}return new un(C,oe,ge)}function Km(C,F,X,ee,oe){for(var de=0,ge=new Array(T),Re=0;X!==0;Re++,X>>>=1)ge[Re]=X&1?F[de++]:void 0;return ge[ee]=oe,new gr(C,de+1,ge)}function ka(C,F,X){for(var ee=[],oe=0;oe<X.length;oe++){var de=X[oe],ge=i(de);c(de)||(ge=ge.map(function(Re){return Ge(Re)})),ee.push(ge)}return zf(C,F,ee)}function Jd(C,F,X){return C&&C.mergeDeep&&c(F)?C.mergeDeep(F):at(C,F)?C:F}function sc(C){return function(F,X,ee){if(F&&F.mergeDeepWith&&c(X))return F.mergeDeepWith(C,X);var oe=C(F,X,ee);return at(F,oe)?F:oe}}function zf(C,F,X){return X=X.filter(function(ee){return ee.size!==0}),X.length===0?C:C.size===0&&!C.__ownerID&&X.length===1?C.constructor(X[0]):C.withMutations(function(ee){for(var oe=F?function(ge,Re){ee.update(Re,M,function(Ue){return Ue===M?ge:F(Ue,ge,Re)})}:function(ge,Re){ee.set(Re,ge)},de=0;de<X.length;de++)X[de].forEach(oe)})}function ii(C,F,X,ee){var oe=C===M,de=F.next();if(de.done){var ge=oe?X:C,Re=ee(ge);return Re===ge?C:Re}Pn(oe||C&&C.set,"invalid keyPath");var Ue=de.value,qe=oe?M:C.get(Ue,M),ot=ii(qe,F,X,ee);return ot===qe?C:ot===M?C.remove(Ue):(oe?Mr():C).set(Ue,ot)}function gu(C){return C=C-(C>>1&1431655765),C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C=C+(C>>8),C=C+(C>>16),C&127}function Qd(C,F,X,ee){var oe=ee?C:$(C);return oe[F]=X,oe}function eh(C,F,X,ee){var oe=C.length+1;if(ee&&F+1===oe)return C[F]=X,C;for(var de=new Array(oe),ge=0,Re=0;Re<oe;Re++)Re===F?(de[Re]=X,ge=-1):de[Re]=C[Re+ge];return de}function bl(C,F,X){var ee=C.length-1;if(X&&F===ee)return C.pop(),C;for(var oe=new Array(ee),de=0,ge=0;ge<ee;ge++)ge===F&&(de=1),oe[ge]=C[ge+de];return oe}var Uf=T/4,Hf=T/2,wl=T/4;r(mr,Yn);function mr(C){var F=oa();if(C==null)return F;if(th(C))return C;var X=s(C),ee=X.size;return ee===0?F:(Tr(ee),ee>0&&ee<T?Da(0,ee,E,null,new ra(X.toArray())):F.withMutations(function(oe){oe.setSize(ee),X.forEach(function(de,ge){return oe.set(ge,de)})}))}mr.of=function(){return this(arguments)},mr.prototype.toString=function(){return this.__toString("List [","]")},mr.prototype.get=function(C,F){if(C=U(this,C),C>=0&&C<this.size){C+=this._origin;var X=rh(this,C);return X&&X.array[C&R]}return F},mr.prototype.set=function(C,F){return Sl(this,C,F)},mr.prototype.remove=function(C){return this.has(C)?C===0?this.shift():C===this.size-1?this.pop():this.splice(C,1):this},mr.prototype.insert=function(C,F){return this.splice(C,0,F)},mr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=E,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):oa()},mr.prototype.push=function(){var C=arguments,F=this.size;return this.withMutations(function(X){mi(X,0,F+C.length);for(var ee=0;ee<C.length;ee++)X.set(F+ee,C[ee])})},mr.prototype.pop=function(){return mi(this,0,-1)},mr.prototype.unshift=function(){var C=arguments;return this.withMutations(function(F){mi(F,-C.length);for(var X=0;X<C.length;X++)F.set(X,C[X])})},mr.prototype.shift=function(){return mi(this,1)},mr.prototype.merge=function(){return vi(this,void 0,arguments)},mr.prototype.mergeWith=function(C){var F=n.call(arguments,1);return vi(this,C,F)},mr.prototype.mergeDeep=function(){return vi(this,Jd,arguments)},mr.prototype.mergeDeepWith=function(C){var F=n.call(arguments,1);return vi(this,sc(C),F)},mr.prototype.setSize=function(C){return mi(this,0,C)},mr.prototype.slice=function(C,F){var X=this.size;return W(C,F,X)?this:mi(this,V(C,X),Y(F,X))},mr.prototype.__iterator=function(C,F){var X=0,ee=lc(this,F);return new ue(function(){var oe=ee();return oe===ac?ye():ae(C,X++,oe)})},mr.prototype.__iterate=function(C,F){for(var X=0,ee=lc(this,F),oe;(oe=ee())!==ac&&C(oe,X++,this)!==!1;);return X},mr.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?Da(this._origin,this._capacity,this._level,this._root,this._tail,C,this.__hash):(this.__ownerID=C,this)};function th(C){return!!(C&&C[nh])}mr.isList=th;var nh="@@__IMMUTABLE_LIST__@@",wo=mr.prototype;wo[nh]=!0,wo[S]=wo.remove,wo.setIn=st.setIn,wo.deleteIn=wo.removeIn=st.removeIn,wo.update=st.update,wo.updateIn=st.updateIn,wo.mergeIn=st.mergeIn,wo.mergeDeepIn=st.mergeDeepIn,wo.withMutations=st.withMutations,wo.asMutable=st.asMutable,wo.asImmutable=st.asImmutable,wo.wasAltered=st.wasAltered;function ra(C,F){this.array=C,this.ownerID=F}ra.prototype.removeBefore=function(C,F,X){if(X===F?1<<F:this.array.length===0)return this;var ee=X>>>F&R;if(ee>=this.array.length)return new ra([],C);var oe=ee===0,de;if(F>0){var ge=this.array[ee];if(de=ge&&ge.removeBefore(C,F-E,X),de===ge&&oe)return this}if(oe&&!de)return this;var Re=ia(this,C);if(!oe)for(var Ue=0;Ue<ee;Ue++)Re.array[Ue]=void 0;return de&&(Re.array[ee]=de),Re},ra.prototype.removeAfter=function(C,F,X){if(X===(F?1<<F:0)||this.array.length===0)return this;var ee=X-1>>>F&R;if(ee>=this.array.length)return this;var oe;if(F>0){var de=this.array[ee];if(oe=de&&de.removeAfter(C,F-E,X),oe===de&&ee===this.array.length-1)return this}var ge=ia(this,C);return ge.array.splice(ee+1),oe&&(ge.array[ee]=oe),ge};var ac={};function lc(C,F){var X=C._origin,ee=C._capacity,oe=Aa(ee),de=C._tail;return ge(C._root,C._level,0);function ge(qe,ot,kt){return ot===0?Re(qe,kt):Ue(qe,ot,kt)}function Re(qe,ot){var kt=ot===oe?de&&de.array:qe&&qe.array,Ut=ot>X?0:X-ot,dn=ee-ot;return dn>T&&(dn=T),function(){if(Ut===dn)return ac;var vn=F?--dn:Ut++;return kt&&kt[vn]}}function Ue(qe,ot,kt){var Ut,dn=qe&&qe.array,vn=kt>X?0:X-kt>>ot,ur=(ee-kt>>ot)+1;return ur>T&&(ur=T),function(){do{if(Ut){var qo=Ut();if(qo!==ac)return qo;Ut=null}if(vn===ur)return ac;var Eo=F?--ur:vn++;Ut=ge(dn&&dn[Eo],ot-E,kt+(Eo<<ot))}while(!0)}}}function Da(C,F,X,ee,oe,de,ge){var Re=Object.create(wo);return Re.size=F-C,Re._origin=C,Re._capacity=F,Re._level=X,Re._root=ee,Re._tail=oe,Re.__ownerID=de,Re.__hash=ge,Re.__altered=!1,Re}var mu;function oa(){return mu||(mu=Da(0,0,E))}function Sl(C,F,X){if(F=U(C,F),F!==F)return C;if(F>=C.size||F<0)return C.withMutations(function(ge){F<0?mi(ge,F).set(0,X):mi(ge,0,F+1).set(F,X)});F+=C._origin;var ee=C._tail,oe=C._root,de=P(N);return F>=Aa(C._capacity)?ee=vu(ee,C.__ownerID,0,F,X,de):oe=vu(oe,C.__ownerID,C._level,F,X,de),de.value?C.__ownerID?(C._root=oe,C._tail=ee,C.__hash=void 0,C.__altered=!0,C):Da(C._origin,C._capacity,C._level,oe,ee):C}function vu(C,F,X,ee,oe,de){var ge=ee>>>X&R,Re=C&&ge<C.array.length;if(!Re&&oe===void 0)return C;var Ue;if(X>0){var qe=C&&C.array[ge],ot=vu(qe,F,X-E,ee,oe,de);return ot===qe?C:(Ue=ia(C,F),Ue.array[ge]=ot,Ue)}return Re&&C.array[ge]===oe?C:(L(de),Ue=ia(C,F),oe===void 0&&ge===Ue.array.length-1?Ue.array.pop():Ue.array[ge]=oe,Ue)}function ia(C,F){return F&&C&&F===C.ownerID?C:new ra(C?C.array.slice():[],F)}function rh(C,F){if(F>=Aa(C._capacity))return C._tail;if(F<1<<C._level+E){for(var X=C._root,ee=C._level;X&&ee>0;)X=X.array[F>>>ee&R],ee-=E;return X}}function mi(C,F,X){F!==void 0&&(F=F|0),X!==void 0&&(X=X|0);var ee=C.__ownerID||new D,oe=C._origin,de=C._capacity,ge=oe+F,Re=X===void 0?de:X<0?de+X:oe+X;if(ge===oe&&Re===de)return C;if(ge>=Re)return C.clear();for(var Ue=C._level,qe=C._root,ot=0;ge+ot<0;)qe=new ra(qe&&qe.array.length?[void 0,qe]:[],ee),Ue+=E,ot+=1<<Ue;ot&&(ge+=ot,oe+=ot,Re+=ot,de+=ot);for(var kt=Aa(de),Ut=Aa(Re);Ut>=1<<Ue+E;)qe=new ra(qe&&qe.array.length?[qe]:[],ee),Ue+=E;var dn=C._tail,vn=Ut<kt?rh(C,Re-1):Ut>kt?new ra([],ee):dn;if(dn&&Ut>kt&&ge<de&&dn.array.length){qe=ia(qe,ee);for(var ur=qe,qo=Ue;qo>E;qo-=E){var Eo=kt>>>qo&R;ur=ur.array[Eo]=ia(ur.array[Eo],ee)}ur.array[kt>>>E&R]=dn}if(Re<de&&(vn=vn&&vn.removeAfter(ee,0,Re)),ge>=Ut)ge-=Ut,Re-=Ut,Ue=E,qe=null,vn=vn&&vn.removeBefore(ee,0,ge);else if(ge>oe||Ut<kt){for(ot=0;qe;){var Rl=ge>>>Ue&R;if(Rl!==Ut>>>Ue&R)break;Rl&&(ot+=(1<<Ue)*Rl),Ue-=E,qe=qe.array[Rl]}qe&&ge>oe&&(qe=qe.removeBefore(ee,Ue,ge-ot)),qe&&Ut<kt&&(qe=qe.removeAfter(ee,Ue,Ut-ot)),ot&&(ge-=ot,Re-=ot)}return C.__ownerID?(C.size=Re-ge,C._origin=ge,C._capacity=Re,C._level=Ue,C._root=qe,C._tail=vn,C.__hash=void 0,C.__altered=!0,C):Da(ge,Re,Ue,qe,vn)}function vi(C,F,X){for(var ee=[],oe=0,de=0;de<X.length;de++){var ge=X[de],Re=s(ge);Re.size>oe&&(oe=Re.size),c(ge)||(Re=Re.map(function(Ue){return Ge(Ue)})),ee.push(Re)}return oe>C.size&&(C=C.setSize(oe)),zf(C,F,ee)}function Aa(C){return C<T?0:C-1>>>E<<E}r(vr,on);function vr(C){return C==null?dc():fs(C)?C:dc().withMutations(function(F){var X=i(C);Tr(X.size),X.forEach(function(ee,oe){return F.set(oe,ee)})})}vr.of=function(){return this(arguments)},vr.prototype.toString=function(){return this.__toString("OrderedMap {","}")},vr.prototype.get=function(C,F){var X=this._map.get(C);return X!==void 0?this._list.get(X)[1]:F},vr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):dc()},vr.prototype.set=function(C,F){return hc(this,C,F)},vr.prototype.remove=function(C){return hc(this,C,M)},vr.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},vr.prototype.__iterate=function(C,F){var X=this;return this._list.__iterate(function(ee){return ee&&C(ee[1],ee[0],X)},F)},vr.prototype.__iterator=function(C,F){return this._list.fromEntrySeq().__iterator(C,F)},vr.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var F=this._map.__ensureOwner(C),X=this._list.__ensureOwner(C);return C?cc(F,X,C,this.__hash):(this.__ownerID=C,this._map=F,this._list=X,this)};function fs(C){return Xe(C)&&g(C)}vr.isOrderedMap=fs,vr.prototype[v]=!0,vr.prototype[S]=vr.prototype.remove;function cc(C,F,X,ee){var oe=Object.create(vr.prototype);return oe.size=C?C.size:0,oe._map=C,oe._list=F,oe.__ownerID=X,oe.__hash=ee,oe}var uc;function dc(){return uc||(uc=cc(Mr(),oa()))}function hc(C,F,X){var ee=C._map,oe=C._list,de=ee.get(F),ge=de!==void 0,Re,Ue;if(X===M){if(!ge)return C;oe.size>=T&&oe.size>=ee.size*2?(Ue=oe.filter(function(qe,ot){return qe!==void 0&&de!==ot}),Re=Ue.toKeyedSeq().map(function(qe){return qe[0]}).flip().toMap(),C.__ownerID&&(Re.__ownerID=Ue.__ownerID=C.__ownerID)):(Re=ee.remove(F),Ue=de===oe.size-1?oe.pop():oe.set(de,void 0))}else if(ge){if(X===oe.get(de)[1])return C;Re=ee,Ue=oe.set(de,[F,X])}else Re=ee.set(F,oe.size),Ue=oe.set(oe.size,[F,X]);return C.__ownerID?(C.size=Re.size,C._map=Re,C._list=Ue,C.__hash=void 0,C):cc(Re,Ue)}r(Fo,ke);function Fo(C,F){this._iter=C,this._useKeys=F,this.size=C.size}Fo.prototype.get=function(C,F){return this._iter.get(C,F)},Fo.prototype.has=function(C){return this._iter.has(C)},Fo.prototype.valueSeq=function(){return this._iter.valueSeq()},Fo.prototype.reverse=function(){var C=this,F=Cl(this,!0);return this._useKeys||(F.valueSeq=function(){return C._iter.toSeq().reverse()}),F},Fo.prototype.map=function(C,F){var X=this,ee=ps(this,C,F);return this._useKeys||(ee.valueSeq=function(){return X._iter.toSeq().map(C,F)}),ee},Fo.prototype.__iterate=function(C,F){var X=this,ee;return this._iter.__iterate(this._useKeys?function(oe,de){return C(oe,de,X)}:(ee=F?lh(this):0,function(oe){return C(oe,F?--ee:ee++,X)}),F)},Fo.prototype.__iterator=function(C,F){if(this._useKeys)return this._iter.__iterator(C,F);var X=this._iter.__iterator(z,F),ee=F?lh(this):0;return new ue(function(){var oe=X.next();return oe.done?oe:ae(C,F?--ee:ee++,oe.value,oe)})},Fo.prototype[v]=!0,r(La,Te);function La(C){this._iter=C,this.size=C.size}La.prototype.includes=function(C){return this._iter.includes(C)},La.prototype.__iterate=function(C,F){var X=this,ee=0;return this._iter.__iterate(function(oe){return C(oe,ee++,X)},F)},La.prototype.__iterator=function(C,F){var X=this._iter.__iterator(z,F),ee=0;return new ue(function(){var oe=X.next();return oe.done?oe:ae(C,ee++,oe.value,oe)})},r(Qr,Ve);function Qr(C){this._iter=C,this.size=C.size}Qr.prototype.has=function(C){return this._iter.includes(C)},Qr.prototype.__iterate=function(C,F){var X=this;return this._iter.__iterate(function(ee){return C(ee,ee,X)},F)},Qr.prototype.__iterator=function(C,F){var X=this._iter.__iterator(z,F);return new ue(function(){var ee=X.next();return ee.done?ee:ae(C,ee.value,ee.value,ee)})},r(si,ke);function si(C){this._iter=C,this.size=C.size}si.prototype.entrySeq=function(){return this._iter.toSeq()},si.prototype.__iterate=function(C,F){var X=this;return this._iter.__iterate(function(ee){if(ee){ah(ee);var oe=c(ee);return C(oe?ee.get(1):ee[1],oe?ee.get(0):ee[0],X)}},F)},si.prototype.__iterator=function(C,F){var X=this._iter.__iterator(z,F);return new ue(function(){for(;;){var ee=X.next();if(ee.done)return ee;var oe=ee.value;if(oe){ah(oe);var de=c(oe);return ae(C,de?oe.get(0):oe[0],de?oe.get(1):oe[1],ee)}}})},La.prototype.cacheResult=Fo.prototype.cacheResult=Qr.prototype.cacheResult=si.prototype.cacheResult=El;function fc(C){var F=ki(C);return F._iter=C,F.size=C.size,F.flip=function(){return C},F.reverse=function(){var X=C.reverse.apply(this);return X.flip=function(){return C.reverse()},X},F.has=function(X){return C.includes(X)},F.includes=function(X){return C.has(X)},F.cacheResult=El,F.__iterateUncached=function(X,ee){var oe=this;return C.__iterate(function(de,ge){return X(ge,de,oe)!==!1},ee)},F.__iteratorUncached=function(X,ee){if(X===K){var oe=C.__iterator(X,ee);return new ue(function(){var de=oe.next();if(!de.done){var ge=de.value[0];de.value[0]=de.value[1],de.value[1]=ge}return de})}return C.__iterator(X===z?ne:z,ee)},F}function ps(C,F,X){var ee=ki(C);return ee.size=C.size,ee.has=function(oe){return C.has(oe)},ee.get=function(oe,de){var ge=C.get(oe,M);return ge===M?de:F.call(X,ge,oe,C)},ee.__iterateUncached=function(oe,de){var ge=this;return C.__iterate(function(Re,Ue,qe){return oe(F.call(X,Re,Ue,qe),Ue,ge)!==!1},de)},ee.__iteratorUncached=function(oe,de){var ge=C.__iterator(K,de);return new ue(function(){var Re=ge.next();if(Re.done)return Re;var Ue=Re.value,qe=Ue[0];return ae(oe,qe,F.call(X,Ue[1],qe,C),Re)})},ee}function Cl(C,F){var X=ki(C);return X._iter=C,X.size=C.size,X.reverse=function(){return C},C.flip&&(X.flip=function(){var ee=fc(C);return ee.reverse=function(){return C.flip()},ee}),X.get=function(ee,oe){return C.get(F?ee:-1-ee,oe)},X.has=function(ee){return C.has(F?ee:-1-ee)},X.includes=function(ee){return C.includes(ee)},X.cacheResult=El,X.__iterate=function(ee,oe){var de=this;return C.__iterate(function(ge,Re){return ee(ge,Re,de)},!oe)},X.__iterator=function(ee,oe){return C.__iterator(ee,!oe)},X}function yu(C,F,X,ee){var oe=ki(C);return ee&&(oe.has=function(de){var ge=C.get(de,M);return ge!==M&&!!F.call(X,ge,de,C)},oe.get=function(de,ge){var Re=C.get(de,M);return Re!==M&&F.call(X,Re,de,C)?Re:ge}),oe.__iterateUncached=function(de,ge){var Re=this,Ue=0;return C.__iterate(function(qe,ot,kt){if(F.call(X,qe,ot,kt))return Ue++,de(qe,ee?ot:Ue-1,Re)},ge),Ue},oe.__iteratorUncached=function(de,ge){var Re=C.__iterator(K,ge),Ue=0;return new ue(function(){for(;;){var qe=Re.next();if(qe.done)return qe;var ot=qe.value,kt=ot[0],Ut=ot[1];if(F.call(X,Ut,kt,C))return ae(de,ee?kt:Ue++,Ut,qe)}})},oe}function oh(C,F,X){var ee=on().asMutable();return C.__iterate(function(oe,de){ee.update(F.call(X,oe,de,C),0,function(ge){return ge+1})}),ee.asImmutable()}function pc(C,F,X){var ee=u(C),oe=(g(C)?vr():on()).asMutable();C.__iterate(function(ge,Re){oe.update(F.call(X,ge,Re,C),function(Ue){return Ue=Ue||[],Ue.push(ee?[Re,ge]:ge),Ue})});var de=ch(C);return oe.map(function(ge){return Zn(C,de(ge))})}function xl(C,F,X,ee){var oe=C.size;if(F!==void 0&&(F=F|0),X!==void 0&&(X=X|0),W(F,X,oe))return C;var de=V(F,oe),ge=Y(X,oe);if(de!==de||ge!==ge)return xl(C.toSeq().cacheResult(),F,X,ee);var Re=ge-de,Ue;Re===Re&&(Ue=Re<0?0:Re);var qe=ki(C);return qe.size=Ue===0?Ue:C.size&&Ue||void 0,!ee&&$e(C)&&Ue>=0&&(qe.get=function(ot,kt){return ot=U(this,ot),ot>=0&&ot<Ue?C.get(ot+de,kt):kt}),qe.__iterateUncached=function(ot,kt){var Ut=this;if(Ue===0)return 0;if(kt)return this.cacheResult().__iterate(ot,kt);var dn=0,vn=!0,ur=0;return C.__iterate(function(qo,Eo){if(!(vn&&(vn=dn++<de)))return ur++,ot(qo,ee?Eo:ur-1,Ut)!==!1&&ur!==Ue}),ur},qe.__iteratorUncached=function(ot,kt){if(Ue!==0&&kt)return this.cacheResult().__iterator(ot,kt);var Ut=Ue!==0&&C.__iterator(ot,kt),dn=0,vn=0;return new ue(function(){for(;dn++<de;)Ut.next();if(++vn>Ue)return ye();var ur=Ut.next();return ee||ot===z?ur:ot===ne?ae(ot,vn-1,void 0,ur):ae(ot,vn-1,ur.value[1],ur)})},qe}function Gf(C,F,X){var ee=ki(C);return ee.__iterateUncached=function(oe,de){var ge=this;if(de)return this.cacheResult().__iterate(oe,de);var Re=0;return C.__iterate(function(Ue,qe,ot){return F.call(X,Ue,qe,ot)&&++Re&&oe(Ue,qe,ge)}),Re},ee.__iteratorUncached=function(oe,de){var ge=this;if(de)return this.cacheResult().__iterator(oe,de);var Re=C.__iterator(K,de),Ue=!0;return new ue(function(){if(!Ue)return ye();var qe=Re.next();if(qe.done)return qe;var ot=qe.value,kt=ot[0],Ut=ot[1];return F.call(X,Ut,kt,ge)?oe===K?qe:ae(oe,kt,Ut,qe):(Ue=!1,ye())})},ee}function Wf(C,F,X,ee){var oe=ki(C);return oe.__iterateUncached=function(de,ge){var Re=this;if(ge)return this.cacheResult().__iterate(de,ge);var Ue=!0,qe=0;return C.__iterate(function(ot,kt,Ut){if(!(Ue&&(Ue=F.call(X,ot,kt,Ut))))return qe++,de(ot,ee?kt:qe-1,Re)}),qe},oe.__iteratorUncached=function(de,ge){var Re=this;if(ge)return this.cacheResult().__iterator(de,ge);var Ue=C.__iterator(K,ge),qe=!0,ot=0;return new ue(function(){var kt,Ut,dn;do{if(kt=Ue.next(),kt.done)return ee||de===z?kt:de===ne?ae(de,ot++,void 0,kt):ae(de,ot++,kt.value[1],kt);var vn=kt.value;Ut=vn[0],dn=vn[1],qe&&(qe=F.call(X,dn,Ut,Re))}while(qe);return de===K?kt:ae(de,Ut,dn,kt)})},oe}function qm(C,F){var X=u(C),ee=[C].concat(F).map(function(ge){return c(ge)?X&&(ge=i(ge)):ge=X?Bt(ge):zt(Array.isArray(ge)?ge:[ge]),ge}).filter(function(ge){return ge.size!==0});if(ee.length===0)return C;if(ee.length===1){var oe=ee[0];if(oe===C||X&&u(oe)||h(C)&&h(oe))return oe}var de=new je(ee);return X?de=de.toKeyedSeq():h(C)||(de=de.toSetSeq()),de=de.flatten(!0),de.size=ee.reduce(function(ge,Re){if(ge!==void 0){var Ue=Re.size;if(Ue!==void 0)return ge+Ue}},0),de}function Kf(C,F,X){var ee=ki(C);return ee.__iterateUncached=function(oe,de){var ge=0,Re=!1;function Ue(qe,ot){var kt=this;qe.__iterate(function(Ut,dn){return(!F||ot<F)&&c(Ut)?Ue(Ut,ot+1):oe(Ut,X?dn:ge++,kt)===!1&&(Re=!0),!Re},de)}return Ue(C,0),ge},ee.__iteratorUncached=function(oe,de){var ge=C.__iterator(oe,de),Re=[],Ue=0;return new ue(function(){for(;ge;){var qe=ge.next();if(qe.done!==!1){ge=Re.pop();continue}var ot=qe.value;if(oe===K&&(ot=ot[1]),(!F||Re.length<F)&&c(ot))Re.push(ge),ge=ot.__iterator(oe,de);else return X?qe:ae(oe,Ue++,ot,qe)}return ye()})},ee}function ih(C,F,X){var ee=ch(C);return C.toSeq().map(function(oe,de){return ee(F.call(X,oe,de,C))}).flatten(!0)}function Ym(C,F){var X=ki(C);return X.size=C.size&&C.size*2-1,X.__iterateUncached=function(ee,oe){var de=this,ge=0;return C.__iterate(function(Re,Ue){return(!ge||ee(F,ge++,de)!==!1)&&ee(Re,ge++,de)!==!1},oe),ge},X.__iteratorUncached=function(ee,oe){var de=C.__iterator(z,oe),ge=0,Re;return new ue(function(){return(!Re||ge%2)&&(Re=de.next(),Re.done)?Re:ge%2?ae(ee,ge++,F):ae(ee,ge++,Re.value,Re)})},X}function _l(C,F,X){F||(F=qf);var ee=u(C),oe=0,de=C.toSeq().map(function(ge,Re){return[Re,ge,oe++,X?X(ge,Re,C):ge]}).toArray();return de.sort(function(ge,Re){return F(ge[3],Re[3])||ge[2]-Re[2]}).forEach(ee?function(ge,Re){de[Re].length=2}:function(ge,Re){de[Re]=ge[1]}),ee?ke(de):h(C)?Te(de):Ve(de)}function bu(C,F,X){if(F||(F=qf),X){var ee=C.toSeq().map(function(oe,de){return[oe,X(oe,de,C)]}).reduce(function(oe,de){return sh(F,oe[1],de[1])?de:oe});return ee&&ee[0]}else return C.reduce(function(oe,de){return sh(F,oe,de)?de:oe})}function sh(C,F,X){var ee=C(X,F);return ee===0&&X!==F&&(X==null||X!==X)||ee>0}function wu(C,F,X){var ee=ki(C);return ee.size=new je(X).map(function(oe){return oe.size}).min(),ee.__iterate=function(oe,de){for(var ge=this.__iterator(z,de),Re,Ue=0;!(Re=ge.next()).done&&oe(Re.value,Ue++,this)!==!1;);return Ue},ee.__iteratorUncached=function(oe,de){var ge=X.map(function(qe){return qe=o(qe),he(de?qe.reverse():qe)}),Re=0,Ue=!1;return new ue(function(){var qe;return Ue||(qe=ge.map(function(ot){return ot.next()}),Ue=qe.some(function(ot){return ot.done})),Ue?ye():ae(oe,Re++,F.apply(null,qe.map(function(ot){return ot.value})))})},ee}function Zn(C,F){return $e(C)?F:C.constructor(F)}function ah(C){if(C!==Object(C))throw new TypeError("Expected [K, V] tuple: "+C)}function lh(C){return Tr(C.size),B(C)}function ch(C){return u(C)?i:h(C)?s:a}function ki(C){return Object.create((u(C)?ke:h(C)?Te:Ve).prototype)}function El(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ee.prototype.cacheResult.call(this)}function qf(C,F){return C>F?1:C<F?-1:0}function Yf(C){var F=he(C);if(!F){if(!Se(C))throw new TypeError("Expected iterable or array-like: "+C);F=he(o(C))}return F}r(ai,Er);function ai(C,F){var X,ee=function(ge){if(ge instanceof ee)return ge;if(!(this instanceof ee))return new ee(ge);if(!X){X=!0;var Re=Object.keys(C);Xm(oe,Re),oe.size=Re.length,oe._name=F,oe._keys=Re,oe._defaultValues=C}this._map=on(ge)},oe=ee.prototype=Object.create(ho);return oe.constructor=ee,ee}ai.prototype.toString=function(){return this.__toString(Xf(this)+" {","}")},ai.prototype.has=function(C){return this._defaultValues.hasOwnProperty(C)},ai.prototype.get=function(C,F){if(!this.has(C))return F;var X=this._defaultValues[C];return this._map?this._map.get(C,X):X},ai.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var C=this.constructor;return C._empty||(C._empty=Su(this,Mr()))},ai.prototype.set=function(C,F){if(!this.has(C))throw new Error('Cannot set unknown key "'+C+'" on '+Xf(this));var X=this._map&&this._map.set(C,F);return this.__ownerID||X===this._map?this:Su(this,X)},ai.prototype.remove=function(C){if(!this.has(C))return this;var F=this._map&&this._map.remove(C);return this.__ownerID||F===this._map?this:Su(this,F)},ai.prototype.wasAltered=function(){return this._map.wasAltered()},ai.prototype.__iterator=function(C,F){var X=this;return i(this._defaultValues).map(function(ee,oe){return X.get(oe)}).__iterator(C,F)},ai.prototype.__iterate=function(C,F){var X=this;return i(this._defaultValues).map(function(ee,oe){return X.get(oe)}).__iterate(C,F)},ai.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var F=this._map&&this._map.__ensureOwner(C);return C?Su(this,F,C):(this.__ownerID=C,this._map=F,this)};var ho=ai.prototype;ho[S]=ho.remove,ho.deleteIn=ho.removeIn=st.removeIn,ho.merge=st.merge,ho.mergeWith=st.mergeWith,ho.mergeIn=st.mergeIn,ho.mergeDeep=st.mergeDeep,ho.mergeDeepWith=st.mergeDeepWith,ho.mergeDeepIn=st.mergeDeepIn,ho.setIn=st.setIn,ho.update=st.update,ho.updateIn=st.updateIn,ho.withMutations=st.withMutations,ho.asMutable=st.asMutable,ho.asImmutable=st.asImmutable;function Su(C,F,X){var ee=Object.create(Object.getPrototypeOf(C));return ee._map=F,ee.__ownerID=X,ee}function Xf(C){return C._name||C.constructor.name||"Record"}function Xm(C,F){try{F.forEach(Zm.bind(void 0,C))}catch{}}function Zm(C,F){Object.defineProperty(C,F,{get:function(){return this.get(F)},set:function(X){Pn(this.__ownerID,"Cannot set on an immutable record."),this.set(F,X)}})}r(yr,Nr);function yr(C){return C==null?Ml():Cu(C)&&!g(C)?C:Ml().withMutations(function(F){var X=a(C);Tr(X.size),X.forEach(function(ee){return F.add(ee)})})}yr.of=function(){return this(arguments)},yr.fromKeys=function(C){return this(i(C).keySeq())},yr.prototype.toString=function(){return this.__toString("Set {","}")},yr.prototype.has=function(C){return this._map.has(C)},yr.prototype.add=function(C){return yi(this,this._map.set(C,!0))},yr.prototype.remove=function(C){return yi(this,this._map.remove(C))},yr.prototype.clear=function(){return yi(this,this._map.clear())},yr.prototype.union=function(){var C=n.call(arguments,0);return C=C.filter(function(F){return F.size!==0}),C.length===0?this:this.size===0&&!this.__ownerID&&C.length===1?this.constructor(C[0]):this.withMutations(function(F){for(var X=0;X<C.length;X++)a(C[X]).forEach(function(ee){return F.add(ee)})})},yr.prototype.intersect=function(){var C=n.call(arguments,0);if(C.length===0)return this;C=C.map(function(X){return a(X)});var F=this;return this.withMutations(function(X){F.forEach(function(ee){C.every(function(oe){return oe.includes(ee)})||X.remove(ee)})})},yr.prototype.subtract=function(){var C=n.call(arguments,0);if(C.length===0)return this;C=C.map(function(X){return a(X)});var F=this;return this.withMutations(function(X){F.forEach(function(ee){C.some(function(oe){return oe.includes(ee)})&&X.remove(ee)})})},yr.prototype.merge=function(){return this.union.apply(this,arguments)},yr.prototype.mergeWith=function(C){var F=n.call(arguments,1);return this.union.apply(this,F)},yr.prototype.sort=function(C){return Wt(_l(this,C))},yr.prototype.sortBy=function(C,F){return Wt(_l(this,F,C))},yr.prototype.wasAltered=function(){return this._map.wasAltered()},yr.prototype.__iterate=function(C,F){var X=this;return this._map.__iterate(function(ee,oe){return C(oe,oe,X)},F)},yr.prototype.__iterator=function(C,F){return this._map.map(function(X,ee){return ee}).__iterator(C,F)},yr.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var F=this._map.__ensureOwner(C);return C?this.__make(F,C):(this.__ownerID=C,this._map=F,this)};function Cu(C){return!!(C&&C[te])}yr.isSet=Cu;var te="@@__IMMUTABLE_SET__@@",_o=yr.prototype;_o[te]=!0,_o[S]=_o.remove,_o.mergeDeep=_o.merge,_o.mergeDeepWith=_o.mergeWith,_o.withMutations=st.withMutations,_o.asMutable=st.asMutable,_o.asImmutable=st.asImmutable,_o.__empty=Ml,_o.__make=Tl;function yi(C,F){return C.__ownerID?(C.size=F.size,C._map=F,C):F===C._map?C:F.size===0?C.__empty():C.__make(F)}function Tl(C,F){var X=Object.create(_o);return X.size=C?C.size:0,X._map=C,X.__ownerID=F,X}var Le;function Ml(){return Le||(Le=Tl(Mr()))}r(Wt,yr);function Wt(C){return C==null?gs():Gi(C)?C:gs().withMutations(function(F){var X=a(C);Tr(X.size),X.forEach(function(ee){return F.add(ee)})})}Wt.of=function(){return this(arguments)},Wt.fromKeys=function(C){return this(i(C).keySeq())},Wt.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Gi(C){return Cu(C)&&g(C)}Wt.isOrderedSet=Gi;var gc=Wt.prototype;gc[v]=!0,gc.__empty=gs,gc.__make=br;function br(C,F){var X=Object.create(gc);return X.size=C?C.size:0,X._map=C,X.__ownerID=F,X}var xu;function gs(){return xu||(xu=br(dc()))}r(Je,Yn);function Je(C){return C==null?Fa():Zf(C)?C:Fa().unshiftAll(C)}Je.of=function(){return this(arguments)},Je.prototype.toString=function(){return this.__toString("Stack [","]")},Je.prototype.get=function(C,F){var X=this._head;for(C=U(this,C);X&&C--;)X=X.next;return X?X.value:F},Je.prototype.peek=function(){return this._head&&this._head.value},Je.prototype.push=function(){if(arguments.length===0)return this;for(var C=this.size+arguments.length,F=this._head,X=arguments.length-1;X>=0;X--)F={value:arguments[X],next:F};return this.__ownerID?(this.size=C,this._head=F,this.__hash=void 0,this.__altered=!0,this):Ba(C,F)},Je.prototype.pushAll=function(C){if(C=s(C),C.size===0)return this;Tr(C.size);var F=this.size,X=this._head;return C.reverse().forEach(function(ee){F++,X={value:ee,next:X}}),this.__ownerID?(this.size=F,this._head=X,this.__hash=void 0,this.__altered=!0,this):Ba(F,X)},Je.prototype.pop=function(){return this.slice(1)},Je.prototype.unshift=function(){return this.push.apply(this,arguments)},Je.prototype.unshiftAll=function(C){return this.pushAll(C)},Je.prototype.shift=function(){return this.pop.apply(this,arguments)},Je.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Fa()},Je.prototype.slice=function(C,F){if(W(C,F,this.size))return this;var X=V(C,this.size),ee=Y(F,this.size);if(ee!==this.size)return Yn.prototype.slice.call(this,C,F);for(var oe=this.size-X,de=this._head;X--;)de=de.next;return this.__ownerID?(this.size=oe,this._head=de,this.__hash=void 0,this.__altered=!0,this):Ba(oe,de)},Je.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?Ba(this.size,this._head,C,this.__hash):(this.__ownerID=C,this.__altered=!1,this)},Je.prototype.__iterate=function(C,F){if(F)return this.reverse().__iterate(C);for(var X=0,ee=this._head;ee&&C(ee.value,X++,this)!==!1;)ee=ee.next;return X},Je.prototype.__iterator=function(C,F){if(F)return this.reverse().__iterator(C);var X=0,ee=this._head;return new ue(function(){if(ee){var oe=ee.value;return ee=ee.next,ae(C,X++,oe)}return ye()})};function Zf(C){return!!(C&&C[uh])}Je.isStack=Zf;var uh="@@__IMMUTABLE_STACK__@@",Na=Je.prototype;Na[uh]=!0,Na.withMutations=st.withMutations,Na.asMutable=st.asMutable,Na.asImmutable=st.asImmutable,Na.wasAltered=st.wasAltered;function Ba(C,F,X,ee){var oe=Object.create(Na);return oe.size=C,oe._head=F,oe.__ownerID=X,oe.__hash=ee,oe.__altered=!1,oe}var ms;function Fa(){return ms||(ms=Ba(0))}function Wi(C,F){var X=function(ee){C.prototype[ee]=F[ee]};return Object.keys(F).forEach(X),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(F).forEach(X),C}o.Iterator=ue,Wi(o,{toArray:function(){Tr(this.size);var C=new Array(this.size||0);return this.valueSeq().__iterate(function(F,X){C[X]=F}),C},toIndexedSeq:function(){return new La(this)},toJS:function(){return this.toSeq().map(function(C){return C&&typeof C.toJS=="function"?C.toJS():C}).__toJS()},toJSON:function(){return this.toSeq().map(function(C){return C&&typeof C.toJSON=="function"?C.toJSON():C}).__toJS()},toKeyedSeq:function(){return new Fo(this,!0)},toMap:function(){return on(this.toKeyedSeq())},toObject:function(){Tr(this.size);var C={};return this.__iterate(function(F,X){C[X]=F}),C},toOrderedMap:function(){return vr(this.toKeyedSeq())},toOrderedSet:function(){return Wt(u(this)?this.valueSeq():this)},toSet:function(){return yr(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Qr(this)},toSeq:function(){return h(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Je(u(this)?this.valueSeq():this)},toList:function(){return mr(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(C,F){return this.size===0?C+F:C+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+F},concat:function(){var C=n.call(arguments,0);return Zn(this,qm(this,C))},includes:function(C){return this.some(function(F){return at(F,C)})},entries:function(){return this.__iterator(K)},every:function(C,F){Tr(this.size);var X=!0;return this.__iterate(function(ee,oe,de){if(!C.call(F,ee,oe,de))return X=!1,!1}),X},filter:function(C,F){return Zn(this,yu(this,C,F,!0))},find:function(C,F,X){var ee=this.findEntry(C,F);return ee?ee[1]:X},findEntry:function(C,F){var X;return this.__iterate(function(ee,oe,de){if(C.call(F,ee,oe,de))return X=[oe,ee],!1}),X},findLastEntry:function(C,F){return this.toSeq().reverse().findEntry(C,F)},forEach:function(C,F){return Tr(this.size),this.__iterate(F?C.bind(F):C)},join:function(C){Tr(this.size),C=C!==void 0?""+C:",";var F="",X=!0;return this.__iterate(function(ee){X?X=!1:F+=C,F+=ee!=null?ee.toString():""}),F},keys:function(){return this.__iterator(ne)},map:function(C,F){return Zn(this,ps(this,C,F))},reduce:function(C,F,X){Tr(this.size);var ee,oe;return arguments.length<2?oe=!0:ee=F,this.__iterate(function(de,ge,Re){oe?(oe=!1,ee=de):ee=C.call(X,ee,de,ge,Re)}),ee},reduceRight:function(C,F,X){var ee=this.toKeyedSeq().reverse();return ee.reduce.apply(ee,arguments)},reverse:function(){return Zn(this,Cl(this,!0))},slice:function(C,F){return Zn(this,xl(this,C,F,!0))},some:function(C,F){return!this.every(Ol(C),F)},sort:function(C){return Zn(this,_l(this,C))},values:function(){return this.__iterator(z)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(C,F){return B(C?this.toSeq().filter(C,F):this)},countBy:function(C,F){return oh(this,C,F)},equals:function(C){return At(this,C)},entrySeq:function(){var C=this;if(C._cache)return new je(C._cache);var F=C.toSeq().map(vs).toIndexedSeq();return F.fromEntrySeq=function(){return C.toSeq()},F},filterNot:function(C,F){return this.filter(Ol(C),F)},findLast:function(C,F,X){return this.toKeyedSeq().reverse().find(C,F,X)},first:function(){return this.find(q)},flatMap:function(C,F){return Zn(this,ih(this,C,F))},flatten:function(C){return Zn(this,Kf(this,C,!0))},fromEntrySeq:function(){return new si(this)},get:function(C,F){return this.find(function(X,ee){return at(ee,C)},void 0,F)},getIn:function(C,F){for(var X=this,ee=Yf(C),oe;!(oe=ee.next()).done;){var de=oe.value;if(X=X&&X.get?X.get(de,M):M,X===M)return F}return X},groupBy:function(C,F){return pc(this,C,F)},has:function(C){return this.get(C,M)!==M},hasIn:function(C){return this.getIn(C,M)!==M},isSubset:function(C){return C=typeof C.includes=="function"?C:o(C),this.every(function(F){return C.includes(F)})},isSuperset:function(C){return C=typeof C.isSubset=="function"?C:o(C),C.isSubset(this)},keySeq:function(){return this.toSeq().map(dh).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(C){return bu(this,C)},maxBy:function(C,F){return bu(this,F,C)},min:function(C){return bu(this,C?hh(C):Qf)},minBy:function(C,F){return bu(this,F?hh(F):Qf,C)},rest:function(){return this.slice(1)},skip:function(C){return this.slice(Math.max(0,C))},skipLast:function(C){return Zn(this,this.toSeq().reverse().skip(C).reverse())},skipWhile:function(C,F){return Zn(this,Wf(this,C,F,!0))},skipUntil:function(C,F){return this.skipWhile(Ol(C),F)},sortBy:function(C,F){return Zn(this,_l(this,F,C))},take:function(C){return this.slice(0,Math.max(0,C))},takeLast:function(C){return Zn(this,this.toSeq().reverse().take(C).reverse())},takeWhile:function(C,F){return Zn(this,Gf(this,C,F))},takeUntil:function(C,F){return this.takeWhile(Ol(C),F)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Jm(this))}});var ro=o.prototype;ro[m]=!0,ro[ce]=ro.values,ro.__toJS=ro.toArray,ro.__toStringMapper=fh,ro.inspect=ro.toSource=function(){return this.toString()},ro.chain=ro.flatMap,ro.contains=ro.includes,(function(){try{Object.defineProperty(ro,"length",{get:function(){if(!o.noLengthWarning){var C;try{throw new Error}catch(F){C=F.stack}if(C.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+C),this.size}}})}catch{}})(),Wi(i,{flip:function(){return Zn(this,fc(this))},findKey:function(C,F){var X=this.findEntry(C,F);return X&&X[0]},findLastKey:function(C,F){return this.toSeq().reverse().findKey(C,F)},keyOf:function(C){return this.findKey(function(F){return at(F,C)})},lastKeyOf:function(C){return this.findLastKey(function(F){return at(F,C)})},mapEntries:function(C,F){var X=this,ee=0;return Zn(this,this.toSeq().map(function(oe,de){return C.call(F,[de,oe],ee++,X)}).fromEntrySeq())},mapKeys:function(C,F){var X=this;return Zn(this,this.toSeq().flip().map(function(ee,oe){return C.call(F,ee,oe,X)}).flip())}});var sa=i.prototype;sa[y]=!0,sa[ce]=ro.entries,sa.__toJS=ro.toObject,sa.__toStringMapper=function(C,F){return JSON.stringify(F)+": "+fh(C)},Wi(s,{toKeyedSeq:function(){return new Fo(this,!1)},filter:function(C,F){return Zn(this,yu(this,C,F,!1))},findIndex:function(C,F){var X=this.findEntry(C,F);return X?X[0]:-1},indexOf:function(C){var F=this.toKeyedSeq().keyOf(C);return F===void 0?-1:F},lastIndexOf:function(C){var F=this.toKeyedSeq().reverse().keyOf(C);return F===void 0?-1:F},reverse:function(){return Zn(this,Cl(this,!1))},slice:function(C,F){return Zn(this,xl(this,C,F,!1))},splice:function(C,F){var X=arguments.length;if(F=Math.max(F|0,0),X===0||X===2&&!F)return this;C=V(C,C<0?this.count():this.size);var ee=this.slice(0,C);return Zn(this,X===1?ee:ee.concat($(arguments,2),this.slice(C+F)))},findLastIndex:function(C,F){var X=this.toKeyedSeq().findLastKey(C,F);return X===void 0?-1:X},first:function(){return this.get(0)},flatten:function(C){return Zn(this,Kf(this,C,!1))},get:function(C,F){return C=U(this,C),C<0||this.size===1/0||this.size!==void 0&&C>this.size?F:this.find(function(X,ee){return ee===C},void 0,F)},has:function(C){return C=U(this,C),C>=0&&(this.size!==void 0?this.size===1/0||C<this.size:this.indexOf(C)!==-1)},interpose:function(C){return Zn(this,Ym(this,C))},interleave:function(){var C=[this].concat($(arguments)),F=wu(this.toSeq(),Te.of,C),X=F.flatten(!0);return F.size&&(X.size=F.size*C.length),Zn(this,X)},last:function(){return this.get(-1)},skipWhile:function(C,F){return Zn(this,Wf(this,C,F,!1))},zip:function(){var C=[this].concat($(arguments));return Zn(this,wu(this,Jf,C))},zipWith:function(C){var F=$(arguments);return F[0]=this,Zn(this,wu(this,C,F))}}),s.prototype[b]=!0,s.prototype[v]=!0,Wi(a,{get:function(C,F){return this.has(C)?C:F},includes:function(C){return this.has(C)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=ro.includes,Wi(ke,i.prototype),Wi(Te,s.prototype),Wi(Ve,a.prototype),Wi(Er,i.prototype),Wi(Yn,s.prototype),Wi(Nr,a.prototype);function dh(C,F){return F}function vs(C,F){return[F,C]}function Ol(C){return function(){return!C.apply(this,arguments)}}function hh(C){return function(){return-C.apply(this,arguments)}}function fh(C){return typeof C=="string"?JSON.stringify(C):C}function Jf(){return $(arguments)}function Qf(C,F){return C<F?1:C>F?-1:0}function Jm(C){if(C.size===1/0)return 0;var F=g(C),X=u(C),ee=F?1:0,oe=C.__iterate(X?F?function(de,ge){ee=31*ee+ep(Ln(de),Ln(ge))|0}:function(de,ge){ee=ee+ep(Ln(de),Ln(ge))|0}:F?function(de){ee=31*ee+Ln(de)|0}:function(de){ee=ee+Ln(de)|0});return Qm(oe,ee)}function Qm(C,F){return F=Br(F,3432918353),F=Br(F<<15|F>>>-15,461845907),F=Br(F<<13|F>>>-13,5),F=(F+3864292196|0)^C,F=Br(F^F>>>16,2246822507),F=Br(F^F>>>13,3266489909),F=an(F^F>>>16),F}function ep(C,F){return C^F+2654435769+(C<<6)+(C>>2)|0}var ev={Iterable:o,Seq:Ee,Collection:_n,Map:on,OrderedMap:vr,List:mr,Stack:Je,Set:yr,OrderedSet:Wt,Record:ai,Range:An,Repeat:ft,is:at,fromJS:Ge};return ev})})(Ky)),Ky.exports}var u_,DN;function ag(){if(DN)return u_;DN=1;var e=Qn(),t=e.OrderedMap,n={createFromArray:function(o){return t(o.map(function(i){return[i.getKey(),i]}))}};return u_=n,u_}var d_,AN;function Ds(){if(AN)return d_;AN=1;function e(f,g){f.prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g}var t=Qn(),n=t.Map,r=t.OrderedSet,o=t.Record,i=r(),s={style:i,entity:null},a=o(s),c=(function(f){e(g,f);function g(){return f.apply(this,arguments)||this}var m=g.prototype;return m.getStyle=function(){return this.get("style")},m.getEntity=function(){return this.get("entity")},m.hasStyle=function(b){return this.getStyle().includes(b)},g.applyStyle=function(b,v){var S=b.set("style",b.getStyle().add(v));return g.create(S)},g.removeStyle=function(b,v){var S=b.set("style",b.getStyle().remove(v));return g.create(S)},g.applyEntity=function(b,v){var S=b.getEntity()===v?b:b.set("entity",v);return g.create(S)},g.create=function(b){if(!b)return u;var v={style:i,entity:null},S=n(v).merge(b),E=h.get(S);if(E)return E;var T=new g(S);return h=h.set(S,T),T},g.fromJS=function(b){var v=b.style,S=b.entity;return new g({style:Array.isArray(v)?r(v):v,entity:Array.isArray(S)?r(S):S})},g})(a),u=new c,h=n([[n(s),u]]);return c.EMPTY=u,d_=c,d_}var h_,LN;function lg(){if(LN)return h_;LN=1;function e(t,n,r,o){if(t.size){var i=0;t.reduce(function(s,a,c){return n(s,a)||(r(s)&&o(i,c),i=c),a}),r(t.last())&&o(i,t.count())}}return h_=e,h_}var f_,NN;function cd(){if(NN)return f_;NN=1;function e(v,S){v.prototype=Object.create(S.prototype),v.prototype.constructor=v,v.__proto__=S}var t=Ds(),n=lg(),r=Qn(),o=r.List,i=r.Map,s=r.OrderedSet,a=r.Record,c=r.Repeat,u=s(),h={key:"",type:"unstyled",text:"",characterList:o(),depth:0,data:i()},f=a(h),g=function(S){if(!S)return S;var E=S.characterList,T=S.text;return T&&!E&&(S.characterList=o(c(t.EMPTY,T.length))),S},m=(function(v){e(S,v);function S(T){return v.call(this,g(T))||this}var E=S.prototype;return E.getKey=function(){return this.get("key")},E.getType=function(){return this.get("type")},E.getText=function(){return this.get("text")},E.getCharacterList=function(){return this.get("characterList")},E.getLength=function(){return this.getText().length},E.getDepth=function(){return this.get("depth")},E.getData=function(){return this.get("data")},E.getInlineStyleAt=function(R){var M=this.getCharacterList().get(R);return M?M.getStyle():u},E.getEntityAt=function(R){var M=this.getCharacterList().get(R);return M?M.getEntity():null},E.findStyleRanges=function(R,M){n(this.getCharacterList(),y,R,M)},E.findEntityRanges=function(R,M){n(this.getCharacterList(),b,R,M)},S})(f);function y(v,S){return v.getStyle()===S.getStyle()}function b(v,S){return v.getEntity()===S.getEntity()}return f_=m,f_}var p_,BN;function As(){if(BN)return p_;BN=1;function e(b,v){b.prototype=Object.create(v.prototype),b.prototype.constructor=b,b.__proto__=v}var t=Ds(),n=lg(),r=Qn(),o=r.List,i=r.Map,s=r.OrderedSet,a=r.Record,c=r.Repeat,u=s(),h={parent:null,characterList:o(),data:i(),depth:0,key:"",text:"",type:"unstyled",children:o(),prevSibling:null,nextSibling:null},f=function(v,S){return v.getStyle()===S.getStyle()},g=function(v,S){return v.getEntity()===S.getEntity()},m=function(v){if(!v)return v;var S=v.characterList,E=v.text;return E&&!S&&(v.characterList=o(c(t.EMPTY,E.length))),v},y=(function(b){e(v,b);function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;return b.call(this,m(E))||this}var S=v.prototype;return S.getKey=function(){return this.get("key")},S.getType=function(){return this.get("type")},S.getText=function(){return this.get("text")},S.getCharacterList=function(){return this.get("characterList")},S.getLength=function(){return this.getText().length},S.getDepth=function(){return this.get("depth")},S.getData=function(){return this.get("data")},S.getInlineStyleAt=function(T){var R=this.getCharacterList().get(T);return R?R.getStyle():u},S.getEntityAt=function(T){var R=this.getCharacterList().get(T);return R?R.getEntity():null},S.getChildKeys=function(){return this.get("children")},S.getParentKey=function(){return this.get("parent")},S.getPrevSiblingKey=function(){return this.get("prevSibling")},S.getNextSiblingKey=function(){return this.get("nextSibling")},S.findStyleRanges=function(T,R){n(this.getCharacterList(),f,T,R)},S.findEntityRanges=function(T,R){n(this.getCharacterList(),g,T,R)},v})(a(h));return p_=y,p_}var g_,FN;function ehe(){if(FN)return g_;FN=1;var e=Ds(),t=Qn(),n=t.Map,r={add:function(s,a,c){return o(s,a,c,!0)},remove:function(s,a,c){return o(s,a,c,!1)}};function o(i,s,a,c){var u=i.getBlockMap(),h=s.getStartKey(),f=s.getStartOffset(),g=s.getEndKey(),m=s.getEndOffset(),y=u.skipUntil(function(b,v){return v===h}).takeUntil(function(b,v){return v===g}).concat(n([[g,u.get(g)]])).map(function(b,v){var S,E;h===g?(S=f,E=m):(S=v===h?f:0,E=v===g?m:b.getLength());for(var T=b.getCharacterList(),R;S<E;)R=T.get(S),T=T.set(S,c?e.applyStyle(R,a):e.removeStyle(R,a)),S++;return b.set("characterList",T)});return i.merge({blockMap:u.merge(y),selectionBefore:s,selectionAfter:s})}return g_=r,g_}var m_,jN;function the(){if(jN)return m_;jN=1;var e=Ds();function t(n,r,o,i){for(var s=r,a=n.getCharacterList();s<o;)a=a.set(s,e.applyEntity(a.get(s),i)),s++;return n.set("characterList",a)}return m_=t,m_}var v_,VN;function nhe(){if(VN)return v_;VN=1;var e=the(),t=Qn();function n(r,o,i){var s=r.getBlockMap(),a=o.getStartKey(),c=o.getStartOffset(),u=o.getEndKey(),h=o.getEndOffset(),f=s.skipUntil(function(g,m){return m===a}).takeUntil(function(g,m){return m===u}).toOrderedMap().merge(t.OrderedMap([[u,s.get(u)]])).map(function(g,m){var y=m===a?c:0,b=m===u?h:g.getLength();return e(g,y,b,i)});return r.merge({blockMap:s.merge(f),selectionBefore:o,selectionAfter:o})}return v_=n,v_}var y_,$N;function rhe(){if($N)return y_;$N=1;var e={getRemovalRange:function(n,r,o,i,s){var a=o.split(" ");a=a.map(function(S,E){if(s==="forward"){if(E>0)return" "+S}else if(E<a.length-1)return S+" ";return S});for(var c=i,u,h,f=null,g=null,m=0;m<a.length;m++){if(h=a[m],u=c+h.length,n<u&&c<r)f!==null||(f=c),g=u;else if(f!==null)break;c=u}var y=i+o.length,b=f===i,v=g===y;return(!b&&v||b&&!v)&&(s==="forward"?g!==y&&g++:f!==i&&f--),{start:f,end:g}}};return y_=e,y_}var b_,zN;function tr(){if(zN)return b_;zN=1;function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(!t){var s;if(n===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;s=new Error(n.replace(/%s/g,function(){return String(o[a++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}return b_=e,b_}var w_,UN;function ohe(){if(UN)return w_;UN=1;var e=tr();function t(n,r){var o=[];return n.findEntityRanges(function(i){return i.getEntity()===r},function(i,s){o.push({start:i,end:s})}),o.length||e(!1),o}return w_=t,w_}var S_,HN;function ihe(){if(HN)return S_;HN=1;var e=rhe(),t=ohe(),n=tr();function r(i,s,a,c,u){var h=c.getStartOffset(),f=c.getEndOffset(),g=s.getEntityAt(h),m=a.getEntityAt(f-1);if(!g&&!m)return c;var y=c;if(g&&g===m)y=o(i,s,y,u,g,!0,!0);else if(g&&m){var b=o(i,s,y,u,g,!1,!0),v=o(i,a,y,u,m,!1,!1);y=y.merge({anchorOffset:b.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:!1})}else if(g){var S=o(i,s,y,u,g,!1,!0);y=y.merge({anchorOffset:S.getStartOffset(),isBackward:!1})}else if(m){var E=o(i,a,y,u,m,!1,!1);y=y.merge({focusOffset:E.getEndOffset(),isBackward:!1})}return y}function o(i,s,a,c,u,h,f){var g=a.getStartOffset(),m=a.getEndOffset(),y=i.__get(u),b=y.getMutability(),v=f?g:m;if(b==="MUTABLE")return a;var S=t(s,u).filter(function(R){return v<=R.end&&v>=R.start});S.length!=1&&n(!1);var E=S[0];if(b==="IMMUTABLE")return a.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1});h||(f?m=E.end:g=E.start);var T=e.getRemovalRange(g,m,s.getText().slice(E.start,E.end),E.start,c);return a.merge({anchorOffset:T.start,focusOffset:T.end,isBackward:!1})}return S_=r,S_}var C_,GN;function el(){if(GN)return C_;GN=1;var e={},t=Math.pow(2,24);function n(){for(var r;r===void 0||e.hasOwnProperty(r)||!isNaN(+r);)r=Math.floor(Math.random()*t).toString(32);return e[r]=!0,r}return C_=n,C_}var x_,WN;function KN(){if(WN)return x_;WN=1;var e=As(),t=el(),n=Qn(),r=n.OrderedMap,o=function(c){var u={},h;return r(c.withMutations(function(f){f.forEach(function(g,m){var y=g.getKey(),b=g.getNextSiblingKey(),v=g.getPrevSiblingKey(),S=g.getChildKeys(),E=g.getParentKey(),T=t();if(u[y]=T,b){var R=f.get(b);R?f.setIn([b,"prevSibling"],T):f.setIn([y,"nextSibling"],null)}if(v){var M=f.get(v);M?f.setIn([v,"nextSibling"],T):f.setIn([y,"prevSibling"],null)}if(E&&f.get(E)){var I=f.get(E),N=I.getChildKeys();f.setIn([E,"children"],N.set(N.indexOf(g.getKey()),T))}else f.setIn([y,"parent"],null),h&&(f.setIn([h.getKey(),"nextSibling"],T),f.setIn([y,"prevSibling"],u[h.getKey()])),h=f.get(y);S.forEach(function(P){var L=f.get(P);L?f.setIn([P,"parent"],T):f.setIn([y,"children"],g.getChildKeys().filter(function(D){return D!==P}))})})}).toArray().map(function(f){return[u[f.getKey()],f.set("key",u[f.getKey()])]}))},i=function(c){return r(c.toArray().map(function(u){var h=t();return[h,u.set("key",h)]}))},s=function(c){var u=c.first()instanceof e;return u?o(c):i(c)};return x_=s,x_}var __,qN;function YN(){if(qN)return __;qN=1;var e=Ds(),t=lg(),n=tr();function r(s,a){var c=s.getBlockMap(),u=s.getEntityMap(),h={},f=a.getStartKey(),g=a.getStartOffset(),m=c.get(f),y=i(u,m,g);y!==m&&(h[f]=y);var b=a.getEndKey(),v=a.getEndOffset(),S=c.get(b);f===b&&(S=y);var E=i(u,S,v);return E!==S&&(h[b]=E),Object.keys(h).length?s.merge({blockMap:c.merge(h),selectionAfter:a}):s.set("selectionAfter",a)}function o(s,a,c){var u;return t(s,function(h,f){return h.getEntity()===f.getEntity()},function(h){return h.getEntity()===a},function(h,f){h<=c&&f>=c&&(u={start:h,end:f})}),typeof u!="object"&&n(!1),u}function i(s,a,c){var u=a.getCharacterList(),h=c>0?u.get(c-1):void 0,f=c<u.count()?u.get(c):void 0,g=h?h.getEntity():void 0,m=f?f.getEntity():void 0;if(m&&m===g){var y=s.__get(m);if(y.getMutability()!=="MUTABLE"){for(var b=o(u,m,c),v=b.start,S=b.end,E;v<S;)E=u.get(v),u=u.set(v,e.applyEntity(E,null)),v++;return a.set("characterList",u)}}return a}return __=r,__}var E_,XN;function qy(){if(XN)return E_;XN=1;var e=KN(),t=YN(),n=function(o,i){var s=i.getStartKey(),a=i.getStartOffset(),c=i.getEndKey(),u=i.getEndOffset(),h=t(o,i),f=h.getBlockMap(),g=f.keySeq(),m=g.indexOf(s),y=g.indexOf(c)+1;return e(f.slice(m,y).map(function(b,v){var S=b.getText(),E=b.getCharacterList();return s===c?b.merge({text:S.slice(a,u),characterList:E.slice(a,u)}):v===s?b.merge({text:S.slice(a),characterList:E.slice(a)}):v===c?b.merge({text:S.slice(0,u),characterList:E.slice(0,u)}):b}))};return E_=n,E_}var T_,ZN;function JN(){if(ZN)return T_;ZN=1;function e(t,n,r){var o=t;if(r===o.count())n.forEach(function(a){o=o.push(a)});else if(r===0)n.reverse().forEach(function(a){o=o.unshift(a)});else{var i=o.slice(0,r),s=o.slice(r);o=i.concat(n,s).toList()}return o}return T_=e,T_}var M_,QN;function she(){if(QN)return M_;QN=1;var e=ag(),t=As(),n=Qn(),r=JN(),o=tr(),i=KN(),s=n.List,a=function(b,v,S,E,T,R){var M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",I=S.get(T),N=I.getText(),P=I.getCharacterList(),L=T,D=R+E.getText().length,$=null;switch(M){case"MERGE_OLD_DATA_TO_NEW_DATA":$=E.getData().merge(I.getData());break;case"REPLACE_WITH_NEW_DATA":$=E.getData();break}var B=I.getType();N&&B==="unstyled"&&(B=E.getType());var U=I.merge({text:N.slice(0,R)+E.getText()+N.slice(R),characterList:r(P,E.getCharacterList(),R),type:B,data:$});return b.merge({blockMap:S.set(T,U),selectionBefore:v,selectionAfter:v.merge({anchorKey:L,anchorOffset:D,focusKey:L,focusOffset:D,isBackward:!1})})},c=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),R=E.slice(0,v),M=T.slice(0,v),I=S.first();return b.merge({text:R+I.getText(),characterList:M.concat(I.getCharacterList()),type:R?b.getType():I.getType(),data:I.getData()})},u=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),R=E.length,M=E.slice(v,R),I=T.slice(v,R),N=S.last();return N.merge({text:N.getText()+M,characterList:N.getCharacterList().concat(I),data:N.getData()})},h=function(b,v){var S=b.getKey(),E=b,T=[];for(v.get(S)&&T.push(S);E&&E.getNextSiblingKey();){var R=E.getNextSiblingKey();if(!R)break;T.push(R),E=v.get(R)}return T},f=function(b,v,S,E){return b.withMutations(function(T){var R=S.getKey(),M=E.getKey(),I=S.getNextSiblingKey(),N=S.getParentKey(),P=h(E,b),L=P[P.length-1];if(T.get(M)?(T.setIn([R,"nextSibling"],M),T.setIn([M,"prevSibling"],R)):(T.setIn([R,"nextSibling"],E.getNextSiblingKey()),T.setIn([E.getNextSiblingKey(),"prevSibling"],R)),T.setIn([L,"nextSibling"],I),I&&T.setIn([I,"prevSibling"],L),P.forEach(function(W){return T.setIn([W,"parent"],N)}),N){var D=b.get(N),$=D.getChildKeys(),B=$.indexOf(R),U=B+1,q=$.toArray();q.splice.apply(q,[U,0].concat(P)),T.setIn([N,"children"],s(q))}})},g=function(b,v,S,E,T,R){var M=S.first()instanceof t,I=[],N=E.size,P=S.get(T),L=E.first(),D=E.last(),$=D.getLength(),B=D.getKey(),U=M&&(!P.getChildKeys().isEmpty()||!L.getChildKeys().isEmpty());S.forEach(function(W,V){if(V!==T){I.push(W);return}U?I.push(W):I.push(c(W,R,E)),E.slice(U?0:1,N-1).forEach(function(Y){return I.push(Y)}),I.push(u(W,R,E))});var q=e.createFromArray(I);return M&&(q=f(q,S,P,L)),b.merge({blockMap:q,selectionBefore:v,selectionAfter:v.merge({anchorKey:B,anchorOffset:$,focusKey:B,focusOffset:$,isBackward:!1})})},m=function(b,v,S){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";v.isCollapsed()||o(!1);var T=b.getBlockMap(),R=i(S),M=v.getStartKey(),I=v.getStartOffset(),N=T.get(M);return N instanceof t&&(N.getChildKeys().isEmpty()||o(!1)),R.size===1?a(b,v,T,R.first(),M,I,E):g(b,v,T,R,M,I)};return M_=m,M_}var O_,eB;function ahe(){if(eB)return O_;eB=1;var e=Qn(),t=JN(),n=tr(),r=e.Repeat;function o(i,s,a,c){s.isCollapsed()||n(!1);var u=null;if(a!=null&&(u=a.length),u==null||u===0)return i;var h=i.getBlockMap(),f=s.getStartKey(),g=s.getStartOffset(),m=h.get(f),y=m.getText(),b=m.merge({text:y.slice(0,g)+a+y.slice(g,m.getLength()),characterList:t(m.getCharacterList(),r(c,u).toList(),g)}),v=g+u;return i.merge({blockMap:h.set(f,b),selectionAfter:s.merge({anchorOffset:v,focusOffset:v})})}return O_=o,O_}var R_,tB;function nB(){if(tB)return R_;tB=1;var e=Qn(),t=e.Map;function n(r,o,i){var s=o.getStartKey(),a=o.getEndKey(),c=r.getBlockMap(),u=c.toSeq().skipUntil(function(h,f){return f===s}).takeUntil(function(h,f){return f===a}).concat(t([[a,c.get(a)]])).map(i);return r.merge({blockMap:c.merge(u),selectionBefore:o,selectionAfter:o})}return R_=n,R_}var I_,rB;function oB(){if(rB)return I_;rB=1;var e=As(),t=function(r,o){var i=r instanceof e;if(!i)return null;var s=r.getNextSiblingKey();if(s)return s;var a=r.getParentKey();if(!a)return null;for(var c=o.get(a);c&&!c.getNextSiblingKey();){var u=c.getParentKey();c=u?o.get(u):null}return c?c.getNextSiblingKey():null};return I_=t,I_}var P_,iB;function lhe(){if(iB)return P_;iB=1;var e=As(),t=oB(),n=Qn();n.List;var r=n.Map,o=function(m,y,b){if(m){var v=y.get(m);v&&y.set(m,b(v))}},i=function(m,y){var b=[];if(!m)return b;for(var v=y.get(m);v&&v.getParentKey();){var S=v.getParentKey();S&&b.push(S),v=S?y.get(S):null}return b},s=function(m,y){var b=[];if(!m)return b;for(var v=t(m,y);v&&y.get(v);){var S=y.get(v);b.push(v),v=S.getParentKey()?t(S,y):null}return b},a=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getNextSiblingKey();v&&!y.get(v);)v=b.get(v).getNextSiblingKey()||null;return v},c=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getPrevSiblingKey();v&&!y.get(v);)v=b.get(v).getPrevSiblingKey()||null;return v},u=function(m,y,b,v){return m.withMutations(function(S){if(o(y.getKey(),S,function(I){return I.merge({nextSibling:a(I,S,v),prevSibling:c(I,S,v)})}),o(b.getKey(),S,function(I){return I.merge({nextSibling:a(I,S,v),prevSibling:c(I,S,v)})}),i(y.getKey(),v).forEach(function(I){return o(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(P){return S.get(P)}),nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),o(y.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:y.getPrevSiblingKey()})}),o(y.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:a(I,S,v)})}),o(b.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:c(I,S,v)})}),o(b.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:b.getNextSiblingKey()})}),i(b.getKey(),v).forEach(function(I){o(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(P){return S.get(P)}),nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),s(b,v).forEach(function(I){return o(I,S,function(N){return N.merge({nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),m.get(y.getKey())==null&&m.get(b.getKey())!=null&&b.getParentKey()===y.getKey()&&b.getPrevSiblingKey()==null){var E=y.getPrevSiblingKey();o(b.getKey(),S,function(I){return I.merge({prevSibling:E})}),o(E,S,function(I){return I.merge({nextSibling:b.getKey()})});var T=E?m.get(E):null,R=T?T.getParentKey():null;if(y.getChildKeys().forEach(function(I){o(I,S,function(N){return N.merge({parent:R})})}),R!=null){var M=m.get(R);o(R,S,function(I){return I.merge({children:M.getChildKeys().concat(y.getChildKeys())})})}o(y.getChildKeys().find(function(I){var N=m.get(I);return N.getNextSiblingKey()===null}),S,function(I){return I.merge({nextSibling:y.getNextSiblingKey()})})}})},h=function(m,y){if(y.isCollapsed())return m;var b=m.getBlockMap(),v=y.getStartKey(),S=y.getStartOffset(),E=y.getEndKey(),T=y.getEndOffset(),R=b.get(v),M=b.get(E),I=R instanceof e,N=[];if(I){var P=M.getChildKeys(),L=i(E,b);M.getNextSiblingKey()&&(N=N.concat(L)),P.isEmpty()||(N=N.concat(L.concat([E]))),N=N.concat(i(t(M,b),b))}var D;R===M?D=f(R.getCharacterList(),S,T):D=R.getCharacterList().slice(0,S).concat(M.getCharacterList().slice(T));var $=R.merge({text:R.getText().slice(0,S)+M.getText().slice(T),characterList:D}),B=I&&S===0&&T===0&&M.getParentKey()===v&&M.getPrevSiblingKey()==null,U=B?r([[v,null]]):b.toSeq().skipUntil(function(W,V){return V===v}).takeUntil(function(W,V){return V===E}).filter(function(W,V){return N.indexOf(V)===-1}).concat(r([[E,null]])).map(function(W,V){return V===v?$:null}),q=b.merge(U).filter(function(W){return!!W});return I&&R!==M&&(q=u(q,R,M,b)),m.merge({blockMap:q,selectionBefore:y,selectionAfter:y.merge({anchorKey:v,anchorOffset:S,focusKey:v,focusOffset:S,isBackward:!1})})},f=function(m,y,b){if(y===0)for(;y<b;)m=m.shift(),y++;else if(b===m.count())for(;b>y;)m=m.pop(),b--;else{var v=m.slice(0,y),S=m.slice(b);m=v.concat(S).toList()}return m};return P_=h,P_}var k_,sB;function che(){if(sB)return k_;sB=1;var e=As(),t=el(),n=Qn(),r=tr(),o=nB(),i=n.List,s=n.Map,a=function(f,g,m){if(f){var y=g.get(f);y&&g.set(f,m(y))}},c=function(f,g,m){return f.withMutations(function(y){var b=g.getKey(),v=m.getKey();a(g.getParentKey(),y,function(S){var E=S.getChildKeys(),T=E.indexOf(b)+1,R=E.toArray();return R.splice(T,0,v),S.merge({children:i(R)})}),a(g.getNextSiblingKey(),y,function(S){return S.merge({prevSibling:v})}),a(b,y,function(S){return S.merge({nextSibling:v})}),a(v,y,function(S){return S.merge({prevSibling:b})})})},u=function(f,g){g.isCollapsed()||r(!1);var m=g.getAnchorKey(),y=f.getBlockMap(),b=y.get(m),v=b.getText();if(!v){var S=b.getType();if(S==="unordered-list-item"||S==="ordered-list-item")return o(f,g,function($){return $.merge({type:"unstyled",depth:0})})}var E=g.getAnchorOffset(),T=b.getCharacterList(),R=t(),M=b instanceof e,I=b.merge({text:v.slice(0,E),characterList:T.slice(0,E)}),N=I.merge({key:R,text:v.slice(E),characterList:T.slice(E),data:s()}),P=y.toSeq().takeUntil(function($){return $===b}),L=y.toSeq().skipUntil(function($){return $===b}).rest(),D=P.concat([[m,I],[R,N]],L).toOrderedMap();return M&&(b.getChildKeys().isEmpty()||r(!1),D=c(D,I,N)),f.merge({blockMap:D,selectionBefore:g,selectionAfter:g.merge({anchorKey:R,anchorOffset:0,focusKey:R,focusOffset:0,isBackward:!1})})};return k_=u,k_}var D_,aB;function Ai(){if(aB)return D_;aB=1;var e=Ds(),t=ehe(),n=nhe(),r=ihe(),o=qy(),i=Qn(),s=she(),a=ahe(),c=tr(),u=nB(),h=YN(),f=lhe(),g=che(),m=i.OrderedSet,y={replaceText:function(v,S,E,T,R){var M=h(v,S),I=f(M,S),N=e.create({style:T||m(),entity:R||null});return a(I,I.getSelectionAfter(),E,N)},insertText:function(v,S,E,T,R){return S.isCollapsed()||c(!1),y.replaceText(v,S,E,T,R)},moveText:function(v,S,E){var T=o(v,S),R=y.removeRange(v,S,"backward");return y.replaceWithFragment(R,E,T)},replaceWithFragment:function(v,S,E){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",R=h(v,S),M=f(R,S);return s(M,M.getSelectionAfter(),E,T)},removeRange:function(v,S,E){var T,R,M,I;S.getIsBackward()&&(S=S.merge({anchorKey:S.getFocusKey(),anchorOffset:S.getFocusOffset(),focusKey:S.getAnchorKey(),focusOffset:S.getAnchorOffset(),isBackward:!1})),T=S.getAnchorKey(),R=S.getFocusKey(),M=v.getBlockForKey(T),I=v.getBlockForKey(R);var N=S.getStartOffset(),P=S.getEndOffset(),L=M.getEntityAt(N),D=I.getEntityAt(P-1);if(T===R&&L&&L===D){var $=r(v.getEntityMap(),M,I,S,E);return f(v,$)}var B=h(v,S);return f(B,S)},splitBlock:function(v,S){var E=h(v,S),T=f(E,S);return g(T,T.getSelectionAfter())},applyInlineStyle:function(v,S,E){return t.add(v,S,E)},removeInlineStyle:function(v,S,E){return t.remove(v,S,E)},setBlockType:function(v,S,E){return u(v,S,function(T){return T.merge({type:E,depth:0})})},setBlockData:function(v,S,E){return u(v,S,function(T){return T.merge({data:E})})},mergeBlockData:function(v,S,E){return u(v,S,function(T){return T.merge({data:T.getData().merge(E)})})},applyEntity:function(v,S,E){var T=h(v,S);return n(T,S,E)}};return D_=y,D_}var A_,lB;function cB(){if(lB)return A_;lB=1;function e(t){return Object.keys(t).map(function(n){return t[n]})}return A_=e,A_}var L_,uB;function uhe(){if(uB)return L_;uB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}function n(S,E){if(S==null)return{};var T={},R=Object.keys(S),M,I;for(I=0;I<R.length;I++)M=R[I],!(E.indexOf(M)>=0)&&(T[M]=S[M]);return T}var r=lg(),o=cB(),i=Qn(),s=i.List,a=i.Repeat,c=i.Record,u=function(){return!0},h={start:null,end:null},f=c(h),g={start:null,end:null,decoratorKey:null,leaves:null},m=c(g),y={generate:function(E,T,R){var M=T.getLength();if(!M)return s.of(new m({start:0,end:0,decoratorKey:null,leaves:s.of(new f({start:0,end:0}))}));var I=[],N=R?R.getDecorations(T,E):s(a(null,M)),P=T.getCharacterList();return r(N,v,u,function(L,D){I.push(new m({start:L,end:D,decoratorKey:N.get(L),leaves:b(P.slice(L,D).toList(),L)}))}),s(I)},fromJS:function(E){var T=E.leaves,R=n(E,["leaves"]);return new m(e({},R,{leaves:T!=null?s(Array.isArray(T)?T:o(T)).map(function(M){return f(M)}):null}))}};function b(S,E){var T=[],R=S.map(function(M){return M.getStyle()}).toList();return r(R,v,u,function(M,I){T.push(new f({start:M+E,end:I+E}))}),s(T)}function v(S,E){return S===E}return L_=y,L_}var N_,dB;function hB(){if(dB)return N_;dB=1;function e(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.__proto__=s}var t=Qn(),n=t.Record,r=n({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),o=(function(i){e(s,i);function s(){return i.apply(this,arguments)||this}var a=s.prototype;return a.getType=function(){return this.get("type")},a.getMutability=function(){return this.get("mutability")},a.getData=function(){return this.get("data")},s})(r);return N_=o,N_}var B_,fB;function dhe(){if(fB)return B_;fB=1;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,r=t=="x"?n:n&3|8;return r.toString(16)})}return B_=e,B_}var F_,pB;function Yy(){if(pB)return F_;pB=1;function e(f){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{},y=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(m).filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable}))),y.forEach(function(b){t(f,b,m[b])})}return f}function t(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var n=hB(),r=Qn(),o=tr(),i=dhe(),s=r.Map,a=s(),c=i();function u(f,g){console.warn("WARNING: "+f+` will be deprecated soon!
Please use "`+g+'" instead.')}var h={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),h.__getLastCreatedEntityKey()},create:function(g,m,y){return u("DraftEntity.create","contentState.createEntity"),h.__create(g,m,y)},add:function(g){return u("DraftEntity.add","contentState.addEntity"),h.__add(g)},get:function(g){return u("DraftEntity.get","contentState.getEntity"),h.__get(g)},__getAll:function(){return a},__loadWithEntities:function(g){a=g,c=i()},mergeData:function(g,m){return u("DraftEntity.mergeData","contentState.mergeEntityData"),h.__mergeData(g,m)},replaceData:function(g,m){return u("DraftEntity.replaceData","contentState.replaceEntityData"),h.__replaceData(g,m)},__getLastCreatedEntityKey:function(){return c},__create:function(g,m,y){return h.__add(new n({type:g,mutability:m,data:y||{}}))},__add:function(g){return c=i(),a=a.set(c,g),c},__get:function(g){var m=a.get(g);return m||o(!1),m},__mergeData:function(g,m){var y=h.__get(g),b=e({},y.getData(),m),v=y.set("data",b);return a=a.set(g,v),v},__replaceData:function(g,m){var y=h.__get(g),b=y.set("data",m);return a=a.set(g,b),b}};return F_=h,F_}var j_,gB;function Xy(){if(gB)return j_;gB=1;function e(s,a){s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a}var t=Qn(),n=t.Record,r={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},o=n(r),i=(function(s){e(a,s);function a(){return s.apply(this,arguments)||this}var c=a.prototype;return c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},c.getAnchorKey=function(){return this.get("anchorKey")},c.getAnchorOffset=function(){return this.get("anchorOffset")},c.getFocusKey=function(){return this.get("focusKey")},c.getFocusOffset=function(){return this.get("focusOffset")},c.getIsBackward=function(){return this.get("isBackward")},c.getHasFocus=function(){return this.get("hasFocus")},c.hasEdgeWithin=function(h,f,g){var m=this.getAnchorKey(),y=this.getFocusKey();if(m===y&&m===h){var b=this.getStartOffset(),v=this.getEndOffset();return f<=b&&b<=g||f<=v&&v<=g}if(h!==m&&h!==y)return!1;var S=h===m?this.getAnchorOffset():this.getFocusOffset();return f<=S&&g>=S},c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},a.createEmpty=function(h){return new a({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1,hasFocus:!1})},a})(o);return j_=i,j_}var V_,mB;function Bc(){return mB||(mB=1,V_=function(e){return typeof window<"u"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1}),V_}var $_,vB;function yB(){if(vB)return $_;vB=1;var e=new RegExp("\r","g");function t(n){return n.replace(e,"")}return $_=t,$_}var z_,bB;function U_(){if(bB)return z_;bB=1;function e(N){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{},D=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),D.forEach(function($){t(N,$,L[$])})}return N}function t(N,P,L){return P in N?Object.defineProperty(N,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[P]=L,N}function n(N,P){N.prototype=Object.create(P.prototype),N.prototype.constructor=N,N.__proto__=P}var r=ag(),o=Ds(),i=cd(),s=As(),a=Yy(),c=Xy(),u=el(),h=cB(),f=Bc(),g=Qn(),m=yB(),y=g.List,b=g.Record,v=g.Repeat,S=g.Map,E=g.OrderedMap,T={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},R=b(T),M=f("draft_tree_data_support")?s:i,I=(function(N){n(P,N);function P(){return N.apply(this,arguments)||this}var L=P.prototype;return L.getEntityMap=function(){return a},L.getBlockMap=function(){return this.get("blockMap")},L.getSelectionBefore=function(){return this.get("selectionBefore")},L.getSelectionAfter=function(){return this.get("selectionAfter")},L.getBlockForKey=function($){var B=this.getBlockMap().get($);return B},L.getKeyBefore=function($){return this.getBlockMap().reverse().keySeq().skipUntil(function(B){return B===$}).skip(1).first()},L.getKeyAfter=function($){return this.getBlockMap().keySeq().skipUntil(function(B){return B===$}).skip(1).first()},L.getBlockAfter=function($){return this.getBlockMap().skipUntil(function(B,U){return U===$}).skip(1).first()},L.getBlockBefore=function($){return this.getBlockMap().reverse().skipUntil(function(B,U){return U===$}).skip(1).first()},L.getBlocksAsArray=function(){return this.getBlockMap().toArray()},L.getFirstBlock=function(){return this.getBlockMap().first()},L.getLastBlock=function(){return this.getBlockMap().last()},L.getPlainText=function($){return this.getBlockMap().map(function(B){return B?B.getText():""}).join($||`
`)},L.getLastCreatedEntityKey=function(){return a.__getLastCreatedEntityKey()},L.hasText=function(){var $=this.getBlockMap();return $.size>1||escape($.first().getText()).replace(/%u200B/g,"").length>0},L.createEntity=function($,B,U){return a.__create($,B,U),this},L.mergeEntityData=function($,B){return a.__mergeData($,B),this},L.replaceEntityData=function($,B){return a.__replaceData($,B),this},L.addEntity=function($){return a.__add($),this},L.getEntity=function($){return a.__get($)},L.getAllEntities=function(){return a.__getAll()},L.loadWithEntities=function($){return a.__loadWithEntities($)},P.createFromBlockArray=function($,B){var U=Array.isArray($)?$:$.contentBlocks,q=r.createFromArray(U),W=q.isEmpty()?new c:c.createEmpty(q.first().getKey());return new P({blockMap:q,entityMap:B||a,selectionBefore:W,selectionAfter:W})},P.createFromText=function($){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,U=$.split(B),q=U.map(function(W){return W=m(W),new M({key:u(),text:W,type:"unstyled",characterList:y(v(o.EMPTY,W.length))})});return P.createFromBlockArray(q)},P.fromJS=function($){return new P(e({},$,{blockMap:E($.blockMap).map(P.createContentBlockFromJS),selectionBefore:new c($.selectionBefore),selectionAfter:new c($.selectionAfter)}))},P.createContentBlockFromJS=function($){var B=$.characterList;return new M(e({},$,{data:S($.data),characterList:B!=null?y((Array.isArray(B)?B:h(B)).map(function(U){return o.fromJS(U)})):void 0}))},P})(R);return z_=I,z_}var H_,wB;function Zy(){if(wB)return H_;wB=1;var e=tr(),t="NEUTRAL",n="LTR",r="RTL",o=null;function i(g){return g===n||g===r}function s(g){return i(g)||e(!1),g===n?"ltr":"rtl"}function a(g,m){return i(g)||e(!1),i(m)||e(!1),g===m?null:s(g)}function c(g){o=g}function u(){c(n)}function h(){return o||this.initGlobalDir(),o||e(!1),o}var f={NEUTRAL:t,LTR:n,RTL:r,isStrong:i,getHTMLDir:s,getHTMLDirIfDifferent:a,setGlobalDir:c,initGlobalDir:u,getGlobalDir:h};return H_=f,H_}var G_,SB;function W_(){if(SB)return G_;SB=1;var e=Zy(),t=tr(),n={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},r=new RegExp("["+n.L+n.R+n.AL+"]"),o=new RegExp("["+n.R+n.AL+"]");function i(g){var m=r.exec(g);return m==null?null:m[0]}function s(g){var m=i(g);return m==null?e.NEUTRAL:o.exec(m)?e.RTL:e.LTR}function a(g,m){if(m=m||e.NEUTRAL,!g.length)return m;var y=s(g);return y===e.NEUTRAL?m:y}function c(g,m){return m||(m=e.getGlobalDir()),e.isStrong(m)||t(!1),a(g,m)}function u(g,m){return c(g,m)===e.LTR}function h(g,m){return c(g,m)===e.RTL}var f={firstStrongChar:i,firstStrongCharDir:s,resolveBlockDir:a,getDirection:c,isDirectionLTR:u,isDirectionRTL:h};return G_=f,G_}var K_,CB;function hhe(){if(CB)return K_;CB=1;function e(i,s,a){return s in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}var t=W_(),n=Zy(),r=tr(),o=(function(){function i(a){e(this,"_defaultDir",void 0),e(this,"_lastDir",void 0),a?n.isStrong(a)||r(!1):a=n.getGlobalDir(),this._defaultDir=a,this.reset()}var s=i.prototype;return s.reset=function(){this._lastDir=this._defaultDir},s.getDirection=function(c){return this._lastDir=t.getDirection(c,this._lastDir),this._lastDir},i})();return K_=o,K_}var q_,xB;function Li(){if(xB)return q_;xB=1;var e=function(n){if(n!=null)return n;throw new Error("Got unexpected null or undefined")};return q_=e,q_}var Y_,_B;function fhe(){if(_B)return Y_;_B=1;var e=hhe(),t=Qn(),n=Li(),r=t.OrderedMap,o,i={getDirectionMap:function(a,c){o?o.reset():o=new e;var u=a.getBlockMap(),h=u.valueSeq().map(function(g){return n(o).getDirection(g.getText())}),f=r(u.keySeq().zip(h));return c!=null&&t.is(c,f)?c:f}};return Y_=i,Y_}var X_,EB;function Lr(){if(EB)return X_;EB=1;function e(N){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{},D=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),D.forEach(function($){t(N,$,L[$])})}return N}function t(N,P,L){return P in N?Object.defineProperty(N,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[P]=L,N}var n=uhe(),r=U_(),o=fhe(),i=Xy(),s=Qn(),a=s.OrderedSet,c=s.Record,u=s.Stack,h=s.OrderedMap,f=s.List,g={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:u(),selection:null,treeMap:null,undoStack:u()},m=c(g),y=(function(){P.createEmpty=function(D){return this.createWithText("",D)},P.createWithText=function(D,$){return P.createWithContent(r.createFromText(D),$)},P.createWithContent=function(D,$){if(D.getBlockMap().count()===0)return P.createEmpty($);var B=D.getBlockMap().first().getKey();return P.create({currentContent:D,undoStack:u(),redoStack:u(),decorator:$||null,selection:i.createEmpty(B)})},P.create=function(D){var $=D.currentContent,B=D.decorator,U=e({},D,{treeMap:v($,B),directionMap:o.getDirectionMap($)});return new P(new m(U))},P.fromJS=function(D){return new P(new m(e({},D,{directionMap:D.directionMap!=null?h(D.directionMap):D.directionMap,inlineStyleOverride:D.inlineStyleOverride!=null?a(D.inlineStyleOverride):D.inlineStyleOverride,nativelyRenderedContent:D.nativelyRenderedContent!=null?r.fromJS(D.nativelyRenderedContent):D.nativelyRenderedContent,redoStack:D.redoStack!=null?u(D.redoStack.map(function($){return r.fromJS($)})):D.redoStack,selection:D.selection!=null?new i(D.selection):D.selection,treeMap:D.treeMap!=null?h(D.treeMap).map(function($){return f($).map(function(B){return n.fromJS(B)})}):D.treeMap,undoStack:D.undoStack!=null?u(D.undoStack.map(function($){return r.fromJS($)})):D.undoStack,currentContent:r.fromJS(D.currentContent)})))},P.set=function(D,$){var B=D.getImmutable().withMutations(function(U){var q=U.get("decorator"),W=q;$.decorator===null?W=null:$.decorator&&(W=$.decorator);var V=$.currentContent||D.getCurrentContent();if(W!==q){var Y=U.get("treeMap"),J;W&&q?J=E(V,V.getBlockMap(),Y,W,q):J=v(V,W),U.merge({decorator:W,treeMap:J,nativelyRenderedContent:null});return}var ne=D.getCurrentContent();V!==ne&&U.set("treeMap",S(D,V.getBlockMap(),V.getEntityMap(),W)),U.merge($)});return new P(B)};var N=P.prototype;N.toJS=function(){return this.getImmutable().toJS()},N.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},N.getCurrentContent=function(){return this.getImmutable().get("currentContent")},N.getUndoStack=function(){return this.getImmutable().get("undoStack")},N.getRedoStack=function(){return this.getImmutable().get("redoStack")},N.getSelection=function(){return this.getImmutable().get("selection")},N.getDecorator=function(){return this.getImmutable().get("decorator")},N.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},N.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},N.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},N.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},N.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},P.setInlineStyleOverride=function(D,$){return P.set(D,{inlineStyleOverride:$})},N.getCurrentInlineStyle=function(){var D=this.getInlineStyleOverride();if(D!=null)return D;var $=this.getCurrentContent(),B=this.getSelection();return B.isCollapsed()?R($,B):M($,B)},N.getBlockTree=function(D){return this.getImmutable().getIn(["treeMap",D])},N.isSelectionAtStartOfContent=function(){var D=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(D,0,0)},N.isSelectionAtEndOfContent=function(){var D=this.getCurrentContent(),$=D.getBlockMap(),B=$.last(),U=B.getLength();return this.getSelection().hasEdgeWithin(B.getKey(),U,U)},N.getDirectionMap=function(){return this.getImmutable().get("directionMap")},P.acceptSelection=function(D,$){return b(D,$,!1)},P.forceSelection=function(D,$){return $.getHasFocus()||($=$.set("hasFocus",!0)),b(D,$,!0)},P.moveSelectionToEnd=function(D){var $=D.getCurrentContent(),B=$.getLastBlock(),U=B.getKey(),q=B.getLength();return P.acceptSelection(D,new i({anchorKey:U,anchorOffset:q,focusKey:U,focusOffset:q,isBackward:!1}))},P.moveFocusToEnd=function(D){var $=P.moveSelectionToEnd(D);return P.forceSelection($,$.getSelection())},P.push=function(D,$,B){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(D.getCurrentContent()===$)return D;var q=o.getDirectionMap($,D.getDirectionMap());if(!D.getAllowUndo())return P.set(D,{currentContent:$,directionMap:q,lastChangeType:B,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:null});var W=D.getSelection(),V=D.getCurrentContent(),Y=D.getUndoStack(),J=$;W!==V.getSelectionAfter()||T(D,B)?(Y=Y.push(V),J=J.set("selectionBefore",W)):(B==="insert-characters"||B==="backspace-character"||B==="delete-character")&&(J=J.set("selectionBefore",V.getSelectionBefore()));var ne=D.getInlineStyleOverride(),z=["adjust-depth","change-block-type","split-block"];z.indexOf(B)===-1&&(ne=null);var K={currentContent:J,directionMap:q,undoStack:Y,redoStack:u(),lastChangeType:B,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:ne};return P.set(D,K)},P.undo=function(D){if(!D.getAllowUndo())return D;var $=D.getUndoStack(),B=$.peek();if(!B)return D;var U=D.getCurrentContent(),q=o.getDirectionMap(B,D.getDirectionMap());return P.set(D,{currentContent:B,directionMap:q,undoStack:$.shift(),redoStack:D.getRedoStack().push(U),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:U.getSelectionBefore()})},P.redo=function(D){if(!D.getAllowUndo())return D;var $=D.getRedoStack(),B=$.peek();if(!B)return D;var U=D.getCurrentContent(),q=o.getDirectionMap(B,D.getDirectionMap());return P.set(D,{currentContent:B,directionMap:q,undoStack:D.getUndoStack().push(U),redoStack:$.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:B.getSelectionAfter()})};function P(L){t(this,"_immutable",void 0),this._immutable=L}return N.getImmutable=function(){return this._immutable},P})();function b(N,P,L){return y.set(N,{selection:P,forceSelection:L,nativelyRenderedContent:null,inlineStyleOverride:null})}function v(N,P){return N.getBlockMap().map(function(L){return n.generate(N,L,P)}).toOrderedMap()}function S(N,P,L,D){var $=N.getCurrentContent().set("entityMap",L),B=$.getBlockMap(),U=N.getImmutable().get("treeMap");return U.merge(P.toSeq().filter(function(q,W){return q!==B.get(W)}).map(function(q){return n.generate($,q,D)}))}function E(N,P,L,D,$){return L.merge(P.toSeq().filter(function(B){return D.getDecorations(B,N)!==$.getDecorations(B,N)}).map(function(B){return n.generate(N,B,D)}))}function T(N,P){var L=N.getLastChangeType();return P!==L||P!=="insert-characters"&&P!=="backspace-character"&&P!=="delete-character"}function R(N,P){var L=P.getStartKey(),D=P.getStartOffset(),$=N.getBlockForKey(L);return D>0?$.getInlineStyleAt(D-1):$.getLength()?$.getInlineStyleAt(0):I(N,L)}function M(N,P){var L=P.getStartKey(),D=P.getStartOffset(),$=N.getBlockForKey(L);return D<$.getLength()?$.getInlineStyleAt(D):D>0?$.getInlineStyleAt(D-1):I(N,L)}function I(N,P){var L=N.getBlockMap().reverse().skipUntil(function(D,$){return $===P}).skip(1).skipUntil(function(D,$){return D.getLength()}).first();return L?L.getInlineStyleAt(L.getLength()-1):a()}return X_=y,X_}var Z_,TB;function phe(){if(TB)return Z_;TB=1;var e=As(),t=oB(),n=Qn(),r=tr(),o=n.OrderedMap,i=n.List,s=function(h,f,g){if(h){var m=f.get(h);m&&f.set(h,g(m))}},a=function(h,f,g,m,y){if(!y)return h;var b=m==="after",v=f.getKey(),S=g.getKey(),E=f.getParentKey(),T=f.getNextSiblingKey(),R=f.getPrevSiblingKey(),M=g.getParentKey(),I=b?g.getNextSiblingKey():S,N=b?S:g.getPrevSiblingKey();return h.withMutations(function(P){s(E,P,function(L){var D=L.getChildKeys();return L.merge({children:D.delete(D.indexOf(v))})}),s(R,P,function(L){return L.merge({nextSibling:T})}),s(T,P,function(L){return L.merge({prevSibling:R})}),s(I,P,function(L){return L.merge({prevSibling:v})}),s(N,P,function(L){return L.merge({nextSibling:v})}),s(M,P,function(L){var D=L.getChildKeys(),$=D.indexOf(S),B=b?$+1:$!==0?$-1:0,U=D.toArray();return U.splice(B,0,v),L.merge({children:i(U)})}),s(v,P,function(L){return L.merge({nextSibling:I,prevSibling:N,parent:M})})})},c=function(h,f,g,m){m==="replace"&&r(!1);var y=g.getKey(),b=f.getKey();b===y&&r(!1);var v=h.getBlockMap(),S=f instanceof e,E=[f],T=v.delete(b);S&&(E=[],T=v.withMutations(function(D){var $=f.getNextSiblingKey(),B=t(f,D);D.toSeq().skipUntil(function(U){return U.getKey()===b}).takeWhile(function(U){var q=U.getKey(),W=q===b,V=$&&q!==$,Y=!$&&U.getParentKey()&&(!B||q!==B);return!!(W||V||Y)}).forEach(function(U){E.push(U),D.delete(U.getKey())})}));var R=T.toSeq().takeUntil(function(D){return D===g}),M=T.toSeq().skipUntil(function(D){return D===g}).skip(1),I=E.map(function(D){return[D.getKey(),D]}),N=o();if(m==="before"){var P=h.getBlockBefore(y);!P||P.getKey()!==f.getKey()||r(!1),N=R.concat([].concat(I,[[y,g]]),M).toOrderedMap()}else if(m==="after"){var L=h.getBlockAfter(y);!L||L.getKey()!==b||r(!1),N=R.concat([[y,g]].concat(I),M).toOrderedMap()}return h.merge({blockMap:a(N,f,g,m,S),selectionBefore:h.getSelectionAfter(),selectionAfter:h.getSelectionAfter().merge({anchorKey:b,focusKey:b})})};return Z_=c,Z_}var J_,MB;function ghe(){if(MB)return J_;MB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}var n=ag(),r=Ds(),o=cd(),i=As(),s=Ai(),a=Lr(),c=el(),u=Bc(),h=Qn(),f=phe(),g=u("draft_tree_data_support"),m=g?i:o,y=h.List,b=h.Repeat,v={insertAtomicBlock:function(E,T,R){var M=E.getCurrentContent(),I=E.getSelection(),N=s.removeRange(M,I,"backward"),P=N.getSelectionAfter(),L=s.splitBlock(N,P),D=L.getSelectionAfter(),$=s.setBlockType(L,D,"atomic"),B=r.create({entity:T}),U={key:c(),type:"atomic",text:R,characterList:y(b(B,R.length))},q={key:c(),type:"unstyled"};g&&(U=e({},U,{nextSibling:q.key}),q=e({},q,{prevSibling:U.key}));var W=[new m(U),new m(q)],V=n.createFromArray(W),Y=s.replaceWithFragment($,D,V),J=Y.merge({selectionBefore:I,selectionAfter:Y.getSelectionAfter().set("hasFocus",!0)});return a.push(E,J,"insert-fragment")},moveAtomicBlock:function(E,T,R,M){var I=E.getCurrentContent(),N=E.getSelection(),P;if(M==="before"||M==="after"){var L=I.getBlockForKey(M==="before"?R.getStartKey():R.getEndKey());P=f(I,T,L,M)}else{var D=s.removeRange(I,R,"backward"),$=D.getSelectionAfter(),B=D.getBlockForKey($.getFocusKey());if($.getStartOffset()===0)P=f(D,T,B,"before");else if($.getEndOffset()===B.getLength())P=f(D,T,B,"after");else{var U=s.splitBlock(D,$),q=U.getSelectionAfter(),W=U.getBlockForKey(q.getFocusKey());P=f(U,T,W,"before")}}var V=P.merge({selectionBefore:N,selectionAfter:P.getSelectionAfter().set("hasFocus",!0)});return a.push(E,V,"move-block")}};return J_=v,J_}var Q_,OB;function mhe(){if(OB)return Q_;OB=1;function e(a,c,u){return c in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,a}var t=Qn(),n=t.List,r=".",o=(function(){function a(u){e(this,"_decorators",void 0),this._decorators=u.slice()}var c=a.prototype;return c.getDecorations=function(h,f){var g=Array(h.getText().length).fill(null);return this._decorators.forEach(function(m,y){var b=0,v=m.strategy,S=function(T,R){i(g,T,R)&&(s(g,T,R,y+r+b),b++)};v(h,S,f)}),n(g)},c.getComponentForKey=function(h){var f=parseInt(h.split(r)[0],10);return this._decorators[f].component},c.getPropsForKey=function(h){var f=parseInt(h.split(r)[0],10);return this._decorators[f].props},a})();function i(a,c,u){for(var h=c;h<u;h++)if(a[h]!=null)return!1;return!0}function s(a,c,u,h){for(var f=c;f<u;f++)a[f]=h}return Q_=o,Q_}var eE={exports:{}},En={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB;function vhe(){if(RB)return En;RB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=f&&z[f]||z["@@iterator"],typeof z=="function"?z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v(z,K,Z){this.props=z,this.context=K,this.refs=b,this.updater=Z||m}v.prototype.isReactComponent={},v.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=v.prototype;function E(z,K,Z){this.props=z,this.context=K,this.refs=b,this.updater=Z||m}var T=E.prototype=new S;T.constructor=E,y(T,v.prototype),T.isPureReactComponent=!0;var R=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function N(z,K,Z,le,ce,ue){return Z=ue.ref,{$$typeof:e,type:z,key:K,ref:Z!==void 0?Z:null,props:ue}}function P(z,K){return N(z.type,K,void 0,void 0,void 0,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function D(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Z){return K[Z]})}var $=/\/+/g;function B(z,K){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):K.toString(36)}function U(){}function q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(U,U):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function W(z,K,Z,le,ce){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var ae=!1;if(z===null)ae=!0;else switch(ue){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(z.$$typeof){case e:case t:ae=!0;break;case h:return ae=z._init,W(ae(z._payload),K,Z,le,ce)}}if(ae)return ce=ce(z),ae=le===""?"."+B(z,0):le,R(ce)?(Z="",ae!=null&&(Z=ae.replace($,"$&/")+"/"),W(ce,K,Z,"",function(xe){return xe})):ce!=null&&(L(ce)&&(ce=P(ce,Z+(ce.key==null||z&&z.key===ce.key?"":(""+ce.key).replace($,"$&/")+"/")+ae)),K.push(ce)),1;ae=0;var ye=le===""?".":le+":";if(R(z))for(var Me=0;Me<z.length;Me++)le=z[Me],ue=ye+B(le,Me),ae+=W(le,K,Z,ue,ce);else if(Me=g(z),typeof Me=="function")for(z=Me.call(z),Me=0;!(le=z.next()).done;)le=le.value,ue=ye+B(le,Me++),ae+=W(le,K,Z,ue,ce);else if(ue==="object"){if(typeof z.then=="function")return W(q(z),K,Z,le,ce);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ae}function V(z,K,Z){if(z==null)return z;var le=[],ce=0;return W(z,le,"","",function(ue){return K.call(Z,ue,ce++)}),le}function Y(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(Z){(z._status===0||z._status===-1)&&(z._status=1,z._result=Z)},function(Z){(z._status===0||z._status===-1)&&(z._status=2,z._result=Z)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var J=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ne(){}return En.Children={map:V,forEach:function(z,K,Z){V(z,function(){K.apply(this,arguments)},Z)},count:function(z){var K=0;return V(z,function(){K++}),K},toArray:function(z){return V(z,function(K){return K})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},En.Component=v,En.Fragment=n,En.Profiler=o,En.PureComponent=E,En.StrictMode=r,En.Suspense=c,En.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,En.__COMPILER_RUNTIME={__proto__:null,c:function(z){return M.H.useMemoCache(z)}},En.cache=function(z){return function(){return z.apply(null,arguments)}},En.cloneElement=function(z,K,Z){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=y({},z.props),ce=z.key,ue=void 0;if(K!=null)for(ae in K.ref!==void 0&&(ue=void 0),K.key!==void 0&&(ce=""+K.key),K)!I.call(K,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&K.ref===void 0||(le[ae]=K[ae]);var ae=arguments.length-2;if(ae===1)le.children=Z;else if(1<ae){for(var ye=Array(ae),Me=0;Me<ae;Me++)ye[Me]=arguments[Me+2];le.children=ye}return N(z.type,ce,void 0,void 0,ue,le)},En.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},En.createElement=function(z,K,Z){var le,ce={},ue=null;if(K!=null)for(le in K.key!==void 0&&(ue=""+K.key),K)I.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=K[le]);var ae=arguments.length-2;if(ae===1)ce.children=Z;else if(1<ae){for(var ye=Array(ae),Me=0;Me<ae;Me++)ye[Me]=arguments[Me+2];ce.children=ye}if(z&&z.defaultProps)for(le in ae=z.defaultProps,ae)ce[le]===void 0&&(ce[le]=ae[le]);return N(z,ue,void 0,void 0,null,ce)},En.createRef=function(){return{current:null}},En.forwardRef=function(z){return{$$typeof:a,render:z}},En.isValidElement=L,En.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Y}},En.memo=function(z,K){return{$$typeof:u,type:z,compare:K===void 0?null:K}},En.startTransition=function(z){var K=M.T,Z={};M.T=Z;try{var le=z(),ce=M.S;ce!==null&&ce(Z,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ne,J)}catch(ue){J(ue)}finally{M.T=K}},En.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},En.use=function(z){return M.H.use(z)},En.useActionState=function(z,K,Z){return M.H.useActionState(z,K,Z)},En.useCallback=function(z,K){return M.H.useCallback(z,K)},En.useContext=function(z){return M.H.useContext(z)},En.useDebugValue=function(){},En.useDeferredValue=function(z,K){return M.H.useDeferredValue(z,K)},En.useEffect=function(z,K,Z){var le=M.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,K)},En.useId=function(){return M.H.useId()},En.useImperativeHandle=function(z,K,Z){return M.H.useImperativeHandle(z,K,Z)},En.useInsertionEffect=function(z,K){return M.H.useInsertionEffect(z,K)},En.useLayoutEffect=function(z,K){return M.H.useLayoutEffect(z,K)},En.useMemo=function(z,K){return M.H.useMemo(z,K)},En.useOptimistic=function(z,K){return M.H.useOptimistic(z,K)},En.useReducer=function(z,K,Z){return M.H.useReducer(z,K,Z)},En.useRef=function(z){return M.H.useRef(z)},En.useState=function(z){return M.H.useState(z)},En.useSyncExternalStore=function(z,K,Z){return M.H.useSyncExternalStore(z,K,Z)},En.useTransition=function(){return M.H.useTransition()},En.version="19.1.1",En}var IB;function hi(){return IB||(IB=1,eE.exports=vhe()),eE.exports}var tE,PB;function ud(){if(PB)return tE;PB=1;function e(n){return typeof n=="object"?Object.keys(n).filter(function(r){return n[r]}).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}function t(n){return n.replace(/\//g,"-")}return tE=e,tE}var nE,kB;function rE(){if(kB)return nE;kB=1;var e=hi(),t=ud(),n=Qn(),r=n.Map,o=e.createElement("ul",{className:t("public/DraftStyleDefault/ul")}),i=e.createElement("ol",{className:t("public/DraftStyleDefault/ol")}),s=e.createElement("pre",{className:t("public/DraftStyleDefault/pre")}),a=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:o},"ordered-list-item":{element:"li",wrapper:i},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:s},unstyled:{element:"div",aliasedElements:["p"]}});return nE=a,nE}var oE,DB;function AB(){return DB||(DB=1,oE={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}),oE}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iE,LB;function dd(){if(LB)return iE;LB=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var s={},a=0;a<10;a++)s["_"+String.fromCharCode(a)]=a;var c=Object.getOwnPropertyNames(s).map(function(h){return s[h]});if(c.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(h){u[h]=h}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return iE=o()?Object.assign:function(i,s){for(var a,c=r(i),u,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var f in a)t.call(a,f)&&(c[f]=a[f]);if(e){u=e(a);for(var g=0;g<u.length;g++)n.call(a,u[g])&&(c[u[g]]=a[u[g]])}}return c},iE}var cg={exports:{}},yhe=cg.exports,NB;function bhe(){return NB||(NB=1,(function(e,t){(function(n,r){var o="0.7.41",i="",s="?",a="function",c="undefined",u="object",h="string",f="major",g="model",m="name",y="type",b="vendor",v="version",S="architecture",E="console",T="mobile",R="tablet",M="smarttv",I="wearable",N="embedded",P=500,L="Amazon",D="Apple",$="ASUS",B="BlackBerry",U="Browser",q="Chrome",W="Edge",V="Firefox",Y="Google",J="Honor",ne="Huawei",z="Lenovo",K="LG",Z="Microsoft",le="Motorola",ce="Nvidia",ue="OnePlus",ae="Opera",ye="OPPO",Me="Samsung",xe="Sharp",he="Sony",pe="Xiaomi",Se="Zebra",Ee="Facebook",ke="Chromium OS",Te="Mac OS",Ve=" Browser",rt=function(Ge,ct){var ut={};for(var St in Ge)ct[St]&&ct[St].length%2===0?ut[St]=ct[St].concat(Ge[St]):ut[St]=Ge[St];return ut},je=function(Ge){for(var ct={},ut=0;ut<Ge.length;ut++)ct[Ge[ut].toUpperCase()]=Ge[ut];return ct},Rt=function(Ge,ct){return typeof Ge===h?dt(ct).indexOf(dt(Ge))!==-1:!1},dt=function(Ge){return Ge.toLowerCase()},Ct=function(Ge){return typeof Ge===h?Ge.replace(/[^\d\.]/g,i).split(".")[0]:r},$e=function(Ge,ct){if(typeof Ge===h)return Ge=Ge.replace(/^\s\s*/,i),typeof ct===c?Ge:Ge.substring(0,P)},It=function(Ge,ct){for(var ut=0,St,at,At,ft,Pt,Pn;ut<ct.length&&!Pt;){var An=ct[ut],cr=ct[ut+1];for(St=at=0;St<An.length&&!Pt&&An[St];)if(Pt=An[St++].exec(Ge),Pt)for(At=0;At<cr.length;At++)Pn=Pt[++at],ft=cr[At],typeof ft===u&&ft.length>0?ft.length===2?typeof ft[1]==a?this[ft[0]]=ft[1].call(this,Pn):this[ft[0]]=ft[1]:ft.length===3?typeof ft[1]===a&&!(ft[1].exec&&ft[1].test)?this[ft[0]]=Pn?ft[1].call(this,Pn,ft[2]):r:this[ft[0]]=Pn?Pn.replace(ft[1],ft[2]):r:ft.length===4&&(this[ft[0]]=Pn?ft[3].call(this,Pn.replace(ft[1],ft[2])):r):this[ft]=Pn||r;ut+=2}},mt=function(Ge,ct){for(var ut in ct)if(typeof ct[ut]===u&&ct[ut].length>0){for(var St=0;St<ct[ut].length;St++)if(Rt(ct[ut][St],Ge))return ut===s?r:ut}else if(Rt(ct[ut],Ge))return ut===s?r:ut;return ct.hasOwnProperty("*")?ct["*"]:Ge},Bt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},zt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},qt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,ae+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,ae+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,ae]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+U],v],[/\bfocus\/([\w\.]+)/i],[v,[m,V+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI"+Ve]],[/fxios\/([\w\.-]+)/i],[v,[m,V]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+Ve],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,Me+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Ee],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,q+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,q+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,mt,Bt]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,V+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[S,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[S,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[S,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[S,/ower/,i,dt]],[/ sun4\w[;\)]/i],[[S,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[S,dt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[b,Me],[y,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[b,Me],[y,T]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[b,D],[y,T]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[b,D],[y,R]],[/(macintosh);/i],[g,[b,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[b,xe],[y,T]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[b,J],[y,R]],[/honor([-\w ]+)[;\)]/i],[g,[b,J],[y,T]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[b,ne],[y,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[b,ne],[y,T]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[b,pe],[y,R]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[b,pe],[y,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[b,ye],[y,T]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[b,mt,{OnePlus:["304","403","203"],"*":ye}],[y,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[b,"Vivo"],[y,T]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[b,"Realme"],[y,T]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[b,le],[y,T]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[b,le],[y,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[b,K],[y,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[b,K],[y,T]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[b,z],[y,R]],[/(nokia) (t[12][01])/i],[b,g,[y,R]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[y,T],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[b,Y],[y,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[b,Y],[y,T]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[b,he],[y,T]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[b,he],[y,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[b,ue],[y,T]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[b,L],[y,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[b,L],[y,T]],[/(playbook);[-\w\),; ]+(rim)/i],[g,b,[y,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[b,B],[y,T]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[b,$],[y,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[b,$],[y,T]],[/(nexus 9)/i],[g,[b,"HTC"],[y,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[g,/_/g," "],[y,T]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[b,"TCL"],[y,R]],[/(itel) ((\w+))/i],[[b,dt],g,[y,mt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[b,"Acer"],[y,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[b,"Meizu"],[y,T]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[b,"Ulefone"],[y,T]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[b,"Energizer"],[y,T]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[b,"Cat"],[y,T]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[b,"Smartfren"],[y,T]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[b,"Nothing"],[y,T]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[b,"Archos"],[y,R]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[b,"Archos"],[y,T]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,g,[y,R]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,g,[y,T]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,g,[y,R]],[/(surface duo)/i],[g,[b,Z],[y,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[b,"Fairphone"],[y,T]],[/(u304aa)/i],[g,[b,"AT&T"],[y,T]],[/\bsie-(\w*)/i],[g,[b,"Siemens"],[y,T]],[/\b(rct\w+) b/i],[g,[b,"RCA"],[y,R]],[/\b(venue[\d ]{2,7}) b/i],[g,[b,"Dell"],[y,R]],[/\b(q(?:mv|ta)\w+) b/i],[g,[b,"Verizon"],[y,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[b,"Barnes & Noble"],[y,R]],[/\b(tm\d{3}\w+) b/i],[g,[b,"NuVision"],[y,R]],[/\b(k88) b/i],[g,[b,"ZTE"],[y,R]],[/\b(nx\d{3}j) b/i],[g,[b,"ZTE"],[y,T]],[/\b(gen\d{3}) b.+49h/i],[g,[b,"Swiss"],[y,T]],[/\b(zur\d{3}) b/i],[g,[b,"Swiss"],[y,R]],[/\b((zeki)?tb.*\b) b/i],[g,[b,"Zeki"],[y,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],g,[y,R]],[/\b(ns-?\w{0,9}) b/i],[g,[b,"Insignia"],[y,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[b,"NextBook"],[y,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],g,[y,T]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],g,[y,T]],[/\b(ph-1) /i],[g,[b,"Essential"],[y,T]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[b,"Envizen"],[y,R]],[/\b(trio[-\w\. ]+) b/i],[g,[b,"MachSpeed"],[y,R]],[/\btu_(1491) b/i],[g,[b,"Rotor"],[y,R]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[b,ce],[y,R]],[/(sprint) (\w+)/i],[b,g,[y,T]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[b,Z],[y,T]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[b,Se],[y,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[b,Se],[y,T]],[/smart-tv.+(samsung)/i],[b,[y,M]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[b,Me],[y,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,K],[y,M]],[/(apple) ?tv/i],[b,[g,D+" TV"],[y,M]],[/crkey/i],[[g,q+"cast"],[b,Y],[y,M]],[/droid.+aft(\w+)( bui|\))/i],[g,[b,L],[y,M]],[/(shield \w+ tv)/i],[g,[b,ce],[y,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[b,xe],[y,M]],[/(bravia[\w ]+)( bui|\))/i],[g,[b,he],[y,M]],[/(mi(tv|box)-?\w+) bui/i],[g,[b,pe],[y,M]],[/Hbbtv.*(technisat) (.*);/i],[b,g,[y,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,$e],[g,$e],[y,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[y,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,g,[y,E]],[/droid.+; (shield)( bui|\))/i],[g,[b,ce],[y,E]],[/(playstation \w+)/i],[g,[b,he],[y,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[b,Z],[y,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[b,Me],[y,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,g,[y,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[b,ye],[y,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[b,D],[y,I]],[/(opwwe\d{3})/i],[g,[b,ue],[y,I]],[/(moto 360)/i],[g,[b,le],[y,I]],[/(smartwatch 3)/i],[g,[b,he],[y,I]],[/(g watch r)/i],[g,[b,K],[y,I]],[/droid.+; (wt63?0{2,3})\)/i],[g,[b,Se],[y,I]],[/droid.+; (glass) \d/i],[g,[b,Y],[y,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,g,[y,I]],[/; (quest( \d| pro)?)/i],[g,[b,Ee],[y,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[y,N]],[/(aeobc)\b/i],[g,[b,L],[y,N]],[/(homepod).+mac os/i],[g,[b,D],[y,N]],[/windows iot/i],[[y,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[y,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[y,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,T]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,W+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[v,mt,zt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,mt,zt],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Te],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,v],[/\(bb(10);/i],[v,[m,B]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,V+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,q+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,ke],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},tn=function(Ge,ct){if(typeof Ge===u&&(ct=Ge,Ge=r),!(this instanceof tn))return new tn(Ge,ct).getResult();var ut=typeof n!==c&&n.navigator?n.navigator:r,St=Ge||(ut&&ut.userAgent?ut.userAgent:i),at=ut&&ut.userAgentData?ut.userAgentData:r,At=ct?rt(qt,ct):qt,ft=ut&&ut.userAgent==St;return this.getBrowser=function(){var Pt={};return Pt[m]=r,Pt[v]=r,It.call(Pt,St,At.browser),Pt[f]=Ct(Pt[v]),ft&&ut&&ut.brave&&typeof ut.brave.isBrave==a&&(Pt[m]="Brave"),Pt},this.getCPU=function(){var Pt={};return Pt[S]=r,It.call(Pt,St,At.cpu),Pt},this.getDevice=function(){var Pt={};return Pt[b]=r,Pt[g]=r,Pt[y]=r,It.call(Pt,St,At.device),ft&&!Pt[y]&&at&&at.mobile&&(Pt[y]=T),ft&&Pt[g]=="Macintosh"&&ut&&typeof ut.standalone!==c&&ut.maxTouchPoints&&ut.maxTouchPoints>2&&(Pt[g]="iPad",Pt[y]=R),Pt},this.getEngine=function(){var Pt={};return Pt[m]=r,Pt[v]=r,It.call(Pt,St,At.engine),Pt},this.getOS=function(){var Pt={};return Pt[m]=r,Pt[v]=r,It.call(Pt,St,At.os),ft&&!Pt[m]&&at&&at.platform&&at.platform!="Unknown"&&(Pt[m]=at.platform.replace(/chrome os/i,ke).replace(/macos/i,Te)),Pt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return St},this.setUA=function(Pt){return St=typeof Pt===h&&Pt.length>P?$e(Pt,P):Pt,this},this.setUA(St),this};tn.VERSION=o,tn.BROWSER=je([m,v,f]),tn.CPU=je([S]),tn.DEVICE=je([g,b,y,E,T,M,R,I,N]),tn.ENGINE=tn.OS=je([m,v]),e.exports&&(t=e.exports=tn),t.UAParser=tn;var gt=typeof n!==c&&(n.jQuery||n.Zepto);if(gt&&!gt.ua){var _t=new tn;gt.ua=_t.getResult(),gt.ua.get=function(){return _t.getUA()},gt.ua.set=function(Ge){_t.setUA(Ge);var ct=_t.getResult();for(var ut in ct)gt.ua[ut]=ct[ut]}}})(typeof window=="object"?window:yhe)})(cg,cg.exports)),cg.exports}var sE,BB;function whe(){if(BB)return sE;BB=1;var e=bhe(),t="Unknown",n={"Mac OS":"Mac OS X"};function r(u){return n[u]||u}function o(u){if(!u)return{major:"",minor:""};var h=u.split(".");return{major:h[0],minor:h[1]}}var i=new e,s=i.getResult(),a=o(s.browser.version),c={browserArchitecture:s.cpu.architecture||t,browserFullVersion:s.browser.version||t,browserMinorVersion:a.minor||t,browserName:s.browser.name||t,browserVersion:s.browser.major||t,deviceName:s.device.model||t,engineName:s.engine.name||t,engineVersion:s.engine.version||t,platformArchitecture:s.cpu.architecture||t,platformName:r(s.os.name)||t,platformVersion:s.os.version||t,platformFullVersion:s.os.version||t};return sE=c,sE}var aE,FB;function She(){if(FB)return aE;FB=1;var e=tr(),t=/\./,n=/\|\|/,r=/\s+\-\s+/,o=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,i=/^(\d*)(.*)/;function s(P,L){var D=P.split(n);return D.length>1?D.some(function($){return N.contains($,L)}):(P=D[0].trim(),a(P,L))}function a(P,L){var D=P.split(r);if(D.length>0&&D.length<=2||e(!1),D.length===1)return c(D[0],L);var $=D[0],B=D[1];return S($)&&S(B)||e(!1),c(">="+$,L)&&c("<="+B,L)}function c(P,L){if(P=P.trim(),P==="")return!0;var D=L.split(t),$=b(P),B=$.modifier,U=$.rangeComponents;switch(B){case"<":return u(D,U);case"<=":return h(D,U);case">=":return g(D,U);case">":return m(D,U);case"~":case"~>":return y(D,U);default:return f(D,U)}}function u(P,L){return I(P,L)===-1}function h(P,L){var D=I(P,L);return D===-1||D===0}function f(P,L){return I(P,L)===0}function g(P,L){var D=I(P,L);return D===1||D===0}function m(P,L){return I(P,L)===1}function y(P,L){var D=L.slice(),$=L.slice();$.length>1&&$.pop();var B=$.length-1,U=parseInt($[B],10);return v(U)&&($[B]=U+1+""),g(P,D)&&u(P,$)}function b(P){var L=P.split(t),D=L[0].match(o);return D||e(!1),{modifier:D[1],rangeComponents:[D[2]].concat(L.slice(1))}}function v(P){return!isNaN(P)&&isFinite(P)}function S(P){return!b(P).modifier}function E(P,L){for(var D=P.length;D<L;D++)P[D]="0"}function T(P,L){P=P.slice(),L=L.slice(),E(P,L.length);for(var D=0;D<L.length;D++){var $=L[D].match(/^[x*]$/i);if($&&(L[D]=P[D]="0",$[0]==="*"&&D===L.length-1))for(var B=D;B<P.length;B++)P[B]="0"}return E(L,P.length),[P,L]}function R(P,L){var D=P.match(i)[1],$=L.match(i)[1],B=parseInt(D,10),U=parseInt($,10);return v(B)&&v(U)&&B!==U?M(B,U):M(P,L)}function M(P,L){return typeof P!=typeof L&&e(!1),P>L?1:P<L?-1:0}function I(P,L){for(var D=T(P,L),$=D[0],B=D[1],U=0;U<B.length;U++){var q=R($[U],B[U]);if(q)return q}return 0}var N={contains:function(L,D){return s(L.trim(),D.trim())}};return aE=N,aE}var lE,jB;function Che(){if(jB)return lE;jB=1;var e=Object.prototype.hasOwnProperty;function t(n,r,o){if(!n)return null;var i={};for(var s in n)e.call(n,s)&&(i[s]=r.call(o,n[s],s,n));return i}return lE=t,lE}var cE,VB;function xhe(){if(VB)return cE;VB=1;function e(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}return cE=e,cE}var uE,$B;function Ni(){if($B)return uE;$B=1;var e=whe(),t=She(),n=Che(),r=xhe();function o(a,c,u,h){if(a===u)return!0;if(!u.startsWith(a))return!1;var f=u.slice(a.length);return c?(f=h?h(f):f,t.contains(f,c)):!1}function i(a){return e.platformName==="Windows"?a.replace(/^\s*NT/,""):a}var s={isBrowser:function(c){return o(e.browserName,e.browserFullVersion,c)},isBrowserArchitecture:function(c){return o(e.browserArchitecture,null,c)},isDevice:function(c){return o(e.deviceName,null,c)},isEngine:function(c){return o(e.engineName,e.engineVersion,c)},isPlatform:function(c){return o(e.platformName,e.platformFullVersion,c,i)},isPlatformArchitecture:function(c){return o(e.platformArchitecture,null,c)}};return uE=n(s,r),uE}var dE,zB;function Jy(){if(zB)return dE;zB=1;function e(t){return!t||!t.ownerDocument?document:t.ownerDocument}return dE=e,dE}var hE,UB;function hd(){if(UB)return hE;UB=1;function e(t){return!t||!t.ownerDocument?!1:t.nodeType===Node.ELEMENT_NODE}return hE=e,hE}var fE,HB;function GB(){if(HB)return fE;HB=1;var e=hd();function t(n){if(e(n)){var r=n,o=r.getAttribute("data-offset-key");if(o)return o;for(var i=0;i<r.childNodes.length;i++){var s=t(r.childNodes[i]);if(s)return s}}return null}return fE=t,fE}var pE,WB;function Qy(){if(WB)return pE;WB=1;var e=Jy(),t=GB();function n(r){for(var o=r;o&&o!==e(r).documentElement;){var i=t(o);if(i!=null)return i;o=o.parentNode}return null}return pE=n,pE}var gE,KB;function qB(){if(KB)return gE;KB=1;function e(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}return gE=e,gE}var mE,YB;function _he(){if(YB)return mE;YB=1;function e(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var t=Ni(),n=Qy(),r=qB(),o=Qn(),i=tr(),s=Li(),a=o.Map,c={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},u=t.isBrowser("IE <= 11"),h=(function(){function f(m){var y=this;e(this,"observer",void 0),e(this,"container",void 0),e(this,"mutations",void 0),e(this,"onCharData",void 0),this.container=m,this.mutations=a();var b=r(m);b.MutationObserver&&!u?this.observer=new b.MutationObserver(function(v){return y.registerMutations(v)}):this.onCharData=function(v){v.target instanceof Node||i(!1),y.registerMutation({type:"characterData",target:v.target})}}var g=f.prototype;return g.start=function(){this.observer?this.observer.observe(this.container,c):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},g.stopAndFlushMutations=function(){var y=this.observer;y?(this.registerMutations(y.takeRecords()),y.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var b=this.mutations;return this.mutations=a(),b},g.registerMutations=function(y){for(var b=0;b<y.length;b++)this.registerMutation(y[b])},g.getMutationTextContent=function(y){var b=y.type,v=y.target,S=y.removedNodes;if(b==="characterData"){if(v.textContent!=="")return u?v.textContent.replace(`
`,""):v.textContent}else if(b==="childList"){if(S&&S.length)return"";if(v.textContent!=="")return v.textContent}return null},g.registerMutation=function(y){var b=this.getMutationTextContent(y);if(b!=null){var v=s(n(y.target));this.mutations=this.mutations.set(v,b)}},f})();return mE=h,mE}var vE,XB;function Wl(){if(XB)return vE;XB=1;var e="-",t={encode:function(r,o,i){return r+e+o+e+i},decode:function(r){var o=r.split(e).reverse(),i=o[0],s=o[1],a=o.slice(2);return{blockKey:a.reverse().join(e),decoratorKey:parseInt(s,10),leafKey:parseInt(i,10)}}};return vE=t,vE}var yE,ZB;function eb(){return ZB||(ZB=1,yE={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}),yE}var bE,JB;function QB(){return JB||(JB=1,bE={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}),bE}var wE,eF;function ug(){if(eF)return wE;eF=1;function e(t){return!t||!t.ownerDocument?!1:t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement}return wE=e,wE}var SE,tF;function nF(){if(tF)return SE;tF=1;var e=tr(),t=ug();function n(r){var o=r.editorContainer;o||e(!1),t(o.firstChild)||e(!1);var i=o.firstChild;return i}return SE=n,SE}var CE,rF;function oF(){if(rF)return CE;rF=1;var e=Wl(),t=Li();function n(r,o,i,s,a){var c=t(r.getSelection());if(!o||!s)return c;var u=e.decode(o),h=u.blockKey,f=r.getBlockTree(h),g=f&&f.getIn([u.decoratorKey,"leaves",u.leafKey]),m=e.decode(s),y=m.blockKey,b=r.getBlockTree(y),v=b&&b.getIn([m.decoratorKey,"leaves",m.leafKey]);if(!g||!v)return c;var S=g.get("start"),E=v.get("start"),T=g?S+i:null,R=v?E+a:null,M=c.getAnchorKey()===h&&c.getAnchorOffset()===T&&c.getFocusKey()===y&&c.getFocusOffset()===R;if(M)return c;var I=!1;if(h===y){var N=g.get("end"),P=v.get("end");E===S&&P===N?I=a<i:I=E<S}else{var L=r.getCurrentContent().getBlockMap().keySeq().skipUntil(function(D){return D===h||D===y}).first();I=L===y}return c.merge({anchorKey:h,anchorOffset:T,focusKey:y,focusOffset:R,isBackward:I})}return CE=n,CE}var xE,iF;function sF(){if(iF)return xE;iF=1;var e=Qy(),t=GB(),n=oF(),r=tr(),o=hd(),i=Li();function s(f,g,m,y,b,v){var S=m.nodeType===Node.TEXT_NODE,E=b.nodeType===Node.TEXT_NODE;if(S&&E)return{selectionState:n(f,i(e(m)),y,i(e(b)),v),needsRecovery:!1};var T=null,R=null,M=!0;return S?(T={key:i(e(m)),offset:y},R=u(g,b,v)):E?(R={key:i(e(b)),offset:v},T=u(g,m,y)):(T=u(g,m,y),R=u(g,b,v),m===b&&y===v&&(M=!!m.firstChild&&m.firstChild.nodeName!=="BR")),{selectionState:n(f,T.key,T.offset,R.key,R.offset),needsRecovery:M}}function a(f){for(;f.firstChild&&(o(f.firstChild)&&f.firstChild.getAttribute("data-blocks")==="true"||t(f.firstChild));)f=f.firstChild;return f}function c(f){for(;f.lastChild&&(o(f.lastChild)&&f.lastChild.getAttribute("data-blocks")==="true"||t(f.lastChild));)f=f.lastChild;return f}function u(f,g,m){var y=g,b=e(y);if(b!=null||f&&(f===y||f.firstChild===y)||r(!1),f===y){y=y.firstChild,o(y)||r(!1);var v=y;y=v,y.getAttribute("data-contents")!=="true"&&r(!1),m>0&&(m=y.childNodes.length)}if(m===0){var S=null;if(b!=null)S=b;else{var E=a(y);S=i(t(E))}return{key:S,offset:0}}var T=y.childNodes[m-1],R=null,M=null;if(!t(T))R=i(b),M=h(T);else{var I=c(T);R=i(t(I)),M=h(I)}return{key:R,offset:M}}function h(f){var g=f.textContent;return g===`
`?0:g.length}return xE=s,xE}var _E,aF;function lF(){if(aF)return _E;aF=1;var e=sF();function t(n,r){var o=r.ownerDocument.defaultView.getSelection(),i=o.anchorNode,s=o.anchorOffset,a=o.focusNode,c=o.focusOffset,u=o.rangeCount;return u===0||i==null||a==null?{selectionState:n.getSelection().set("hasFocus",!1),needsRecovery:!1}:e(n,r,i,s,a,c)}return _E=t,_E}var EE,cF;function uF(){if(cF)return EE;cF=1;var e=QB(),t=Lr(),n=nF(),r=lF();function o(i){if(i._blockSelectEvents||i._latestEditorState!==i.props.editorState){if(i._blockSelectEvents){var s=i.props.editorState,a=s.getSelection();e.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(a.toJS())})}return}var c=i.props.editorState,u=r(c,n(i)),h=u.selectionState;h!==c.getSelection()&&(u.needsRecovery?c=t.forceSelection(c,h):c=t.acceptSelection(c,h),i.update(c))}return EE=o,EE}var TE,dF;function hF(){if(dF)return TE;dF=1;function e(t){return t!=null&&t!=""}return TE={notEmptyKey:e},TE}var ME,fF;function OE(){if(fF)return ME;fF=1;var e=hF(),t=e.notEmptyKey;function n(o,i){var s;if(i.isCollapsed()){var a=i.getAnchorKey(),c=i.getAnchorOffset();return c>0?(s=o.getBlockForKey(a).getEntityAt(c-1),s!==o.getBlockForKey(a).getEntityAt(c)?null:r(o.getEntityMap(),s)):null}var u=i.getStartKey(),h=i.getStartOffset(),f=o.getBlockForKey(u);return s=h===f.getLength()?null:f.getEntityAt(h),r(o.getEntityMap(),s)}function r(o,i){if(t(i)){var s=o.__get(i);return s.getMutability()==="MUTABLE"?i:null}return null}return ME=n,ME}var RE,pF;function Ehe(){if(pF)return RE;pF=1;var e=_he(),t=Ai(),n=Wl(),r=Lr(),o=eb(),i=Ni(),s=uF(),a=nF(),c=lF(),u=OE(),h=Li(),f=i.isBrowser("IE"),g=20,m=!1,y=!1,b=null;function v(E){b||(b=new e(a(E)),b.start())}var S={onCompositionStart:function(T){y=!0,v(T)},onCompositionEnd:function(T){m=!1,y=!1,setTimeout(function(){m||S.resolveComposition(T)},g)},onSelect:s,onKeyDown:function(T,R){if(!y){S.resolveComposition(T),T._onKeyDown(R);return}(R.which===o.RIGHT||R.which===o.LEFT)&&R.preventDefault()},onKeyPress:function(T,R){R.which===o.RETURN&&R.preventDefault()},resolveComposition:function(T){if(!y){var R=h(b).stopAndFlushMutations();b=null,m=!0;var M=r.set(T._latestEditorState,{inCompositionMode:!1});if(T.exitCurrentMode(),!R.size){T.update(M);return}var I=M.getCurrentContent();R.forEach(function(D,$){var B=n.decode($),U=B.blockKey,q=B.decoratorKey,W=B.leafKey,V=M.getBlockTree(U).getIn([q,"leaves",W]),Y=V.start,J=V.end,ne=M.getSelection().merge({anchorKey:U,focusKey:U,anchorOffset:Y,focusOffset:J,isBackward:!1}),z=u(I,ne),K=I.getBlockForKey(U).getInlineStyleAt(Y);I=t.replaceText(I,ne,D,K,z),M=r.set(M,{currentContent:I})});var N=c(M,a(T)),P=N.selectionState;T.restoreEditorDOM();var L=f?r.forceSelection(M,P):r.acceptSelection(M,P);T.update(r.push(L,I,"insert-characters"))}}};return RE=S,RE}var IE,gF;function The(){if(gF)return IE;gF=1;var e=dd();function t(){return t=e||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function n(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var r=Wl(),o=hi(),i=W_(),s=Zy(),a=(function(c){n(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.children,b=g.contentState,v=g.decorator,S=g.decoratorKey,E=g.direction,T=g.leafSet,R=g.text,M=m.getKey(),I=T.get("leaves"),N=v.getComponentForKey(S),P=v.getPropsForKey(S),L=r.encode(M,parseInt(S,10),0),D=R.slice(I.first().get("start"),I.last().get("end")),$=s.getHTMLDirIfDifferent(i.getDirection(D),E);return o.createElement(N,t({},P,{contentState:b,decoratedText:D,dir:$,key:L,entityKey:m.getEntityAt(T.get("start")),offsetKey:L}),y)},u})(o.Component);return IE=a,IE}var PE,mF;function Mhe(){if(mF)return PE;mF=1;function e(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function t(g,m){g.prototype=Object.create(m.prototype),g.prototype.constructor=g,g.__proto__=m}function n(g,m,y){return m in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y,g}var r=hi(),o=Ni(),i=tr(),s=hd(),a=o.isBrowser("IE <= 11");function c(g){return a?g.textContent===`
`:g.tagName==="BR"}var u=function(m){return a?r.createElement("span",{key:"A","data-text":"true",ref:m},`
`):r.createElement("br",{key:"A","data-text":"true",ref:m})},h=function(m){return a?r.createElement("span",{key:"B","data-text":"true",ref:m},`
`):r.createElement("br",{key:"B","data-text":"true",ref:m})},f=(function(g){t(m,g);function m(b){var v;return v=g.call(this,b)||this,n(e(v),"_forceFlag",void 0),n(e(v),"_node",void 0),v._forceFlag=!1,v}var y=m.prototype;return y.shouldComponentUpdate=function(v){var S=this._node,E=v.children==="";s(S)||i(!1);var T=S;return E?!c(T):T.textContent!==v.children},y.componentDidMount=function(){this._forceFlag=!this._forceFlag},y.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},y.render=function(){var v=this;return this.props.children===""?this._forceFlag?u(function(S){return v._node=S}):h(function(S){return v._node=S}):r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(E){return v._node=E}},this.props.children)},m})(r.Component);return PE=f,PE}var kE,vF;function yF(){if(vF)return kE;vF=1;var e=hd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="BR"}return kE=t,kE}var DE,bF;function wF(){return bF||(bF=1,DE={initODS:function(){},handleExtensionCausedError:function(){}}),DE}var AE,SF;function Ohe(){if(SF)return AE;SF=1;function e(t){var n=t?t.ownerDocument||t:document,r=n.defaultView||window;return!!(t&&(typeof r.Node=="function"?t instanceof r.Node:typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"))}return AE=e,AE}var LE,CF;function Rhe(){if(CF)return LE;CF=1;var e=Ohe();function t(n){return e(n)&&n.nodeType==3}return LE=t,LE}var NE,xF;function BE(){if(xF)return NE;xF=1;var e=Rhe();function t(n,r){return!n||!r?!1:n===r?!0:e(n)?!1:e(r)?t(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1}return NE=t,NE}var FE,_F;function EF(){if(_F)return FE;_F=1;function e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}return FE=e,FE}var jE,TF;function Ihe(){if(TF)return jE;TF=1;var e=wF(),t=QB(),n=Ni(),r=BE(),o=EF(),i=Jy(),s=tr(),a=hd(),c=n.isBrowser("IE");function u(v,S){if(!v)return"[empty]";var E=h(v,S);if(E.nodeType===Node.TEXT_NODE)return E.textContent;a(E)||s(!1);var T=E;return T.outerHTML}function h(v,S){var E=S!==void 0?S(v):[];if(v.nodeType===Node.TEXT_NODE){var T=v.textContent.length;return i(v).createTextNode("[text "+T+(E.length?" | "+E.join(", "):"")+"]")}var R=v.cloneNode();R.nodeType===1&&E.length&&R.setAttribute("data-labels",E.join(", "));for(var M=v.childNodes,I=0;I<M.length;I++)R.appendChild(h(M[I],S));return R}function f(v,S){for(var E=v,T=E;E;){if(a(E)&&T.hasAttribute("contenteditable"))return u(E,S);E=E.parentNode,T=E}return"Could not find contentEditable parent of node"}function g(v){return v.nodeValue===null?v.childNodes.length:v.nodeValue.length}function m(v,S,E,T,R){var M=i(S);if(r(M.documentElement,S)){var I=M.defaultView.getSelection(),N=v.getAnchorKey(),P=v.getAnchorOffset(),L=v.getFocusKey(),D=v.getFocusOffset(),$=v.getIsBackward();if(!I.extend&&$){var B=N,U=P;N=L,P=D,L=B,D=U,$=!1}var q=N===E&&T<=P&&R>=P,W=L===E&&T<=D&&R>=D;if(q&&W){I.removeAllRanges(),b(I,S,P-T,v),y(I,S,D-T,v);return}if(!$)q&&(I.removeAllRanges(),b(I,S,P-T,v)),W&&y(I,S,D-T,v);else if(W&&(I.removeAllRanges(),b(I,S,D-T,v)),q){var V=I.focusNode,Y=I.focusOffset;I.removeAllRanges(),b(I,S,P-T,v),y(I,V,Y,v)}}}function y(v,S,E,T){var R=o(),M=v.extend;if(M&&S!=null&&r(R,S)){E>g(S)&&t.logSelectionStateFailure({anonymizedDom:f(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())});var I=S===v.focusNode;try{v.rangeCount>0&&v.extend&&v.extend(S,E)}catch(P){throw t.logSelectionStateFailure({anonymizedDom:f(S,function(L){var D=[];return L===R&&D.push("active element"),L===v.anchorNode&&D.push("selection anchor node"),L===v.focusNode&&D.push("selection focus node"),D}),extraParams:JSON.stringify({activeElementName:R?R.nodeName:null,nodeIsFocus:S===v.focusNode,nodeWasFocus:I,selectionRangeCount:v.rangeCount,selectionAnchorNodeName:v.anchorNode?v.anchorNode.nodeName:null,selectionAnchorOffset:v.anchorOffset,selectionFocusNodeName:v.focusNode?v.focusNode.nodeName:null,selectionFocusOffset:v.focusOffset,message:P?""+P:null,offset:E},null,2),selectionState:JSON.stringify(T.toJS(),null,2)}),P}}else if(S&&v.rangeCount>0){var N=v.getRangeAt(0);N.setEnd(S,E),v.addRange(N.cloneRange())}}function b(v,S,E,T){var R=i(S).createRange();if(E>g(S)&&(t.logSelectionStateFailure({anonymizedDom:f(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())}),e.handleExtensionCausedError()),R.setStart(S,E),c)try{v.addRange(R)}catch{}else v.addRange(R)}return jE={setDraftEditorSelection:m,addFocusToSelection:y},jE}var VE,MF;function OF(){if(MF)return VE;MF=1;var e=dd();function t(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function n(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h.__proto__=f}function r(h,f,g){return f in h?Object.defineProperty(h,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[f]=g,h}var o=Mhe(),i=hi(),s=tr(),a=yF(),c=Ihe().setDraftEditorSelection,u=(function(h){n(f,h);function f(){for(var m,y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return m=h.call.apply(h,[this].concat(b))||this,r(t(m),"leaf",void 0),m}var g=f.prototype;return g._setSelection=function(){var y=this.props.selection;if(!(y==null||!y.getHasFocus())){var b=this.props,v=b.block,S=b.start,E=b.text,T=v.getKey(),R=S+E.length;if(y.hasEdgeWithin(T,S,R)){var M=this.leaf;M||s(!1);var I=M.firstChild;I||s(!1);var N;I.nodeType===Node.TEXT_NODE?N=I:a(I)?N=M:(N=I.firstChild,N||s(!1)),c(y,N,T,S,R)}}},g.shouldComponentUpdate=function(y){var b=this.leaf;b||s(!1);var v=b.textContent!==y.text||y.styleSet!==this.props.styleSet||y.forceSelection;return v},g.componentDidUpdate=function(){this._setSelection()},g.componentDidMount=function(){this._setSelection()},g.render=function(){var y=this,b=this.props.block,v=this.props.text;v.endsWith(`
`)&&this.props.isLast&&(v+=`
`);var S=this.props,E=S.customStyleMap,T=S.customStyleFn,R=S.offsetKey,M=S.styleSet,I=M.reduce(function(P,L){var D={},$=E[L];return $!==void 0&&P.textDecoration!==$.textDecoration&&(D.textDecoration=[P.textDecoration,$.textDecoration].join(" ").trim()),e(P,$,D)},{});if(T){var N=T(M,b);I=e(I,N)}return i.createElement("span",{"data-offset-key":R,ref:function(L){return y.leaf=L},style:I},i.createElement(o,null,v))},f})(i.Component);return VE=u,VE}var $E,RF;function Phe(){if(RF)return $E;RF=1;function e(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var t=The(),n=OF(),r=Wl(),o=Qn(),i=hi(),s=ud();o.List;var a=(function(c){e(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.contentState,b=g.customStyleFn,v=g.customStyleMap,S=g.decorator,E=g.direction,T=g.forceSelection,R=g.hasSelection,M=g.selection,I=g.tree,N=m.getKey(),P=m.getText(),L=I.size-1,D=this.props.children||I.map(function($,B){var U=$.get("decoratorKey"),q=$.get("leaves"),W=q.size-1,V=q.map(function(Y,J){var ne=r.encode(N,B,J),z=Y.get("start"),K=Y.get("end");return i.createElement(n,{key:ne,offsetKey:ne,block:m,start:z,selection:R?M:null,forceSelection:T,text:P.slice(z,K),styleSet:m.getInlineStyleAt(z),customStyleMap:v,customStyleFn:b,isLast:U===L&&J===W})}).toArray();return!U||!S?V:i.createElement(t,{block:m,children:V,contentState:y,decorator:S,decoratorKey:U,direction:E,leafSet:$,text:P,key:B})}).toArray();return i.createElement("div",{"data-offset-key":r.encode(N,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":E==="LTR","public/DraftStyleDefault/rtl":E==="RTL"})},D)},u})(i.Component);return $E=a,$E}var zE,IF;function UE(){if(IF)return zE;IF=1;function e(n,r){return!!r&&(n===r.documentElement||n===r.body)}var t={getTop:function(r){var o=r.ownerDocument;return e(r,o)?o.body.scrollTop||o.documentElement.scrollTop:r.scrollTop},setTop:function(r,o){var i=r.ownerDocument;e(r,i)?i.body.scrollTop=i.documentElement.scrollTop=o:r.scrollTop=o},getLeft:function(r){var o=r.ownerDocument;return e(r,o)?o.body.scrollLeft||o.documentElement.scrollLeft:r.scrollLeft},setLeft:function(r,o){var i=r.ownerDocument;e(r,i)?i.body.scrollLeft=i.documentElement.scrollLeft=o:r.scrollLeft=o}};return zE=t,zE}var HE,PF;function khe(){if(PF)return HE;PF=1;var e=/-(.)/g;function t(n){return n.replace(e,function(r,o){return o.toUpperCase()})}return HE=t,HE}var GE,kF;function Dhe(){if(kF)return GE;kF=1;var e=/([A-Z])/g;function t(n){return n.replace(e,"-$1").toLowerCase()}return GE=t,GE}var WE,DF;function Ahe(){if(DF)return WE;DF=1;var e=khe(),t=Dhe();function n(o){return o==null?o:String(o)}function r(o,i){var s;if(window.getComputedStyle&&(s=window.getComputedStyle(o,null),s))return n(s.getPropertyValue(t(i)));if(document.defaultView&&document.defaultView.getComputedStyle){if(s=document.defaultView.getComputedStyle(o,null),s)return n(s.getPropertyValue(t(i)));if(i==="display")return"none"}return o.currentStyle?n(i==="float"?o.currentStyle.cssFloat||o.currentStyle.styleFloat:o.currentStyle[e(i)]):n(o.style&&o.style[e(i)])}return WE=r,WE}var KE,AF;function tb(){if(AF)return KE;AF=1;var e=Ahe();function t(r,o){var i=n.get(r,o);return i==="auto"||i==="scroll"}var n={get:e,getScrollParent:function(o){if(!o)return null;for(var i=o.ownerDocument;o&&o!==i.body;){if(t(o,"overflow")||t(o,"overflowY")||t(o,"overflowX"))return o;o=o.parentNode}return i.defaultView||i.parentWindow}};return KE=n,KE}var qE,LF;function Lhe(){if(LF)return qE;LF=1;var e=BE();function t(n){var r=n.ownerDocument.documentElement;if(!("getBoundingClientRect"in n)||!e(r,n))return{left:0,right:0,top:0,bottom:0};var o=n.getBoundingClientRect();return{left:Math.round(o.left)-r.clientLeft,right:Math.round(o.right)-r.clientLeft,top:Math.round(o.top)-r.clientTop,bottom:Math.round(o.bottom)-r.clientTop}}return qE=t,qE}var YE,NF;function BF(){if(NF)return YE;NF=1;var e=Lhe();function t(n){var r=e(n);return{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top}}return YE=t,YE}var XE,FF;function Nhe(){if(FF)return XE;FF=1;var e=typeof navigator<"u"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function t(n){return n=n||document,n.scrollingElement?n.scrollingElement:!e&&n.compatMode==="CSS1Compat"?n.documentElement:n.body}return XE=t,XE}var ZE,jF;function Bhe(){if(jF)return ZE;jF=1;function e(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}return ZE=e,ZE}var JE,VF;function nb(){if(VF)return JE;VF=1;var e=Nhe(),t=Bhe();function n(r){var o=e(r.ownerDocument||r.document);r.Window&&r instanceof r.Window&&(r=o);var i=t(r),s=r===o?r.ownerDocument.documentElement:r,a=r.scrollWidth-s.clientWidth,c=r.scrollHeight-s.clientHeight;return i.x=Math.max(0,Math.min(i.x,a)),i.y=Math.max(0,Math.min(i.y,c)),i}return JE=n,JE}var QE,$F;function zF(){if($F)return QE;$F=1;function e(){var r;return document.documentElement&&(r=document.documentElement.clientWidth),!r&&document.body&&(r=document.body.clientWidth),r||0}function t(){var r;return document.documentElement&&(r=document.documentElement.clientHeight),!r&&document.body&&(r=document.body.clientHeight),r||0}function n(){return{width:window.innerWidth||e(),height:window.innerHeight||t()}}return n.withoutScrollbars=function(){return{width:e(),height:t()}},QE=n,QE}var e1,UF;function Fhe(){if(UF)return e1;UF=1;var e=dd();function t(){return t=e||function(L){for(var D=1;D<arguments.length;D++){var $=arguments[D];for(var B in $)Object.prototype.hasOwnProperty.call($,B)&&(L[B]=$[B])}return L},t.apply(this,arguments)}function n(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function r(L,D){L.prototype=Object.create(D.prototype),L.prototype.constructor=L,L.__proto__=D}function o(L){for(var D=1;D<arguments.length;D++){var $=arguments[D]!=null?arguments[D]:{},B=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols($).filter(function(U){return Object.getOwnPropertyDescriptor($,U).enumerable}))),B.forEach(function(U){i(L,U,$[U])})}return L}function i(L,D,$){return D in L?Object.defineProperty(L,D,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[D]=$,L}var s=Phe(),a=Wl(),c=hi(),u=UE(),h=tb(),f=BF(),g=nb(),m=zF(),y=Qn(),b=tr(),v=ug(),S=10;y.List;var E=function(D,$){return D.getAnchorKey()===$||D.getFocusKey()===$},T=function(D,$){var B=D.getNextSiblingKey();return B?$.getBlockForKey(B).getType()===D.getType():!1},R=function(D,$,B){var U=[],q=!0,W=!1,V=void 0;try{for(var Y=B.reverse()[Symbol.iterator](),J;!(q=(J=Y.next()).done);q=!0){var ne=J.value;if(ne.type!==$)break;U.push(ne)}}catch(Z){W=!0,V=Z}finally{try{!q&&Y.return!=null&&Y.return()}finally{if(W)throw V}}B.splice(B.indexOf(U[0]),U.length+1);var z=U.reverse(),K=z[0].key;return B.push(c.cloneElement(D,{key:"".concat(K,"-wrap"),"data-offset-key":a.encode(K,0,0)},z)),B},M=function(D,$){var B=$.get(D.getType())||$.get("unstyled"),U=B.wrapper,q=B.element||$.get("unstyled").element;return{Element:q,wrapperTemplate:U}},I=function(D,$){var B=$(D);if(!B)return{};var U=B.component,q=B.props,W=B.editable;return{CustomComponent:U,customProps:q,customEditable:W}},N=function(D,$,B,U,q,W){var V={"data-block":!0,"data-editor":$,"data-offset-key":B,key:D.getKey(),ref:W},Y=U(D);return Y&&(V.className=Y),q.customEditable!==void 0&&(V=o({},V,{contentEditable:q.customEditable,suppressContentEditableWarning:!0})),V},P=(function(L){r(D,L);function D(){for(var B,U=arguments.length,q=new Array(U),W=0;W<U;W++)q[W]=arguments[W];return B=L.call.apply(L,[this].concat(q))||this,i(n(B),"wrapperRef",c.createRef()),B}var $=D.prototype;return $.shouldComponentUpdate=function(U){var q=this.props,W=q.block,V=q.direction,Y=q.tree,J=!W.getChildKeys().isEmpty(),ne=W!==U.block||Y!==U.tree||V!==U.direction||E(U.selection,U.block.getKey())&&U.forceSelection;return J||ne},$.componentDidMount=function(){var U=this.props.selection,q=U.getEndKey();if(!(!U.getHasFocus()||q!==this.props.block.getKey())){var W=this.wrapperRef.current;if(W){var V=h.getScrollParent(W),Y=g(V),J;if(V===window){var ne=f(W),z=ne.y+ne.height,K=m().height;J=z-K,J>0&&window.scrollTo(Y.x,Y.y+J+S)}else{v(W)||b(!1);var Z=W,le=Z.offsetHeight+Z.offsetTop,ce=V.offsetHeight+Y.y;J=le-ce,J>0&&u.setTop(V,u.getTop(V)+J+S)}}}},$.render=function(){var U=this,q=this.props,W=q.block,V=q.blockRenderMap,Y=q.blockRendererFn,J=q.blockStyleFn,ne=q.contentState,z=q.decorator,K=q.editorKey,Z=q.editorState,le=q.customStyleFn,ce=q.customStyleMap,ue=q.direction,ae=q.forceSelection,ye=q.selection,Me=q.tree,xe=null;W.children.size&&(xe=W.children.reduce(function(je,Rt){var dt=a.encode(Rt,0,0),Ct=ne.getBlockForKey(Rt),$e=I(Ct,Y),It=$e.CustomComponent||D,mt=M(Ct,V),Bt=mt.Element,zt=mt.wrapperTemplate,qt=N(Ct,K,dt,J,$e,null),tn=o({},U.props,{tree:Z.getBlockTree(Rt),blockProps:$e.customProps,offsetKey:dt,block:Ct});return je.push(c.createElement(Bt,qt,c.createElement(It,tn))),!zt||T(Ct,ne)||R(zt,Bt,je),je},[]));var he=W.getKey(),pe=a.encode(he,0,0),Se=I(W,Y),Ee=Se.CustomComponent,ke=Ee!=null?c.createElement(Ee,t({},this.props,{tree:Z.getBlockTree(he),blockProps:Se.customProps,offsetKey:pe,block:W})):c.createElement(s,{block:W,children:xe,contentState:ne,customStyleFn:le,customStyleMap:ce,decorator:z,direction:ue,forceSelection:ae,hasSelection:E(ye,he),selection:ye,tree:Me});if(W.getParentKey())return ke;var Te=M(W,V),Ve=Te.Element,rt=N(W,K,pe,J,Se,this.wrapperRef);return c.createElement(Ve,rt,ke)},D})(c.Component);return e1=P,e1}var t1,HF;function jhe(){if(HF)return t1;HF=1;var e=dd();function t(){return t=e||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function n(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var r=Fhe(),o=Wl(),i=hi(),s=Li(),a=(function(c){n(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.shouldComponentUpdate=function(g){var m=this.props.editorState,y=g.editorState,b=m.getDirectionMap(),v=y.getDirectionMap();if(b!==v)return!0;var S=m.getSelection().getHasFocus(),E=y.getSelection().getHasFocus();if(S!==E)return!0;var T=y.getNativelyRenderedContent(),R=m.isInCompositionMode(),M=y.isInCompositionMode();if(m===y||T!==null&&y.getCurrentContent()===T||R&&M)return!1;var I=m.getCurrentContent(),N=y.getCurrentContent(),P=m.getDecorator(),L=y.getDecorator();return R!==M||I!==N||P!==L||y.mustForceSelection()},h.render=function(){for(var g=this.props,m=g.blockRenderMap,y=g.blockRendererFn,b=g.blockStyleFn,v=g.customStyleMap,S=g.customStyleFn,E=g.editorState,T=g.editorKey,R=g.textDirectionality,M=E.getCurrentContent(),I=E.getSelection(),N=E.mustForceSelection(),P=E.getDecorator(),L=s(E.getDirectionMap()),D=M.getBlocksAsArray(),$=D[0],B=[],U=$;U;){var q=U.getKey(),W={blockRenderMap:m,blockRendererFn:y,blockStyleFn:b,contentState:M,customStyleFn:S,customStyleMap:v,decorator:P,editorKey:T,editorState:E,forceSelection:N,selection:I,block:U,direction:R||L.get(q),tree:E.getBlockTree(q)},V=m.get(U.getType())||m.get("unstyled"),Y=V.wrapper;B.push({block:i.createElement(r,t({key:q},W)),wrapperTemplate:Y,key:q,offsetKey:o.encode(q,0,0)});var J=U.getNextSiblingKey();U=J?M.getBlockForKey(J):null}for(var ne=[],z=0;z<B.length;){var K=B[z];if(K.wrapperTemplate){var Z=[];do Z.push(B[z].block),z++;while(z<B.length&&B[z].wrapperTemplate===K.wrapperTemplate);var le=i.cloneElement(K.wrapperTemplate,{key:K.key+"-wrap","data-offset-key":K.offsetKey},Z);ne.push(le)}else ne.push(K.block),z++}return i.createElement("div",{"data-contents":"true"},ne)},u})(i.Component);return t1=a,t1}var n1,GF;function WF(){if(GF)return n1;GF=1;var e=dd();function t(){return t=e||function(I){for(var N=1;N<arguments.length;N++){var P=arguments[N];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(I[L]=P[L])}return I},t.apply(this,arguments)}function n(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function r(I,N){I.prototype=Object.create(N.prototype),I.prototype.constructor=I,I.__proto__=N}function o(I,N,P){return N in I?Object.defineProperty(I,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):I[N]=P,I}var i=OF(),s=Wl(),a=hi(),c=UE(),u=tb(),h=W_(),f=Zy(),g=ud(),m=BF(),y=nb(),b=zF(),v=tr(),S=ug(),E=Li(),T=10,R=function(N,P){return N.getAnchorKey()===P||N.getFocusKey()===P},M=(function(I){r(N,I);function N(){for(var L,D=arguments.length,$=new Array(D),B=0;B<D;B++)$[B]=arguments[B];return L=I.call.apply(I,[this].concat($))||this,o(n(L),"_node",void 0),L}var P=N.prototype;return P.shouldComponentUpdate=function(D){return this.props.block!==D.block||this.props.tree!==D.tree||this.props.direction!==D.direction||R(D.selection,D.block.getKey())&&D.forceSelection},P.componentDidMount=function(){if(!this.props.preventScroll){var D=this.props.selection,$=D.getEndKey();if(!(!D.getHasFocus()||$!==this.props.block.getKey())){var B=this._node;if(B!=null){var U=u.getScrollParent(B),q=y(U),W;if(U===window){var V=m(B),Y=V.y+V.height,J=b().height;W=Y-J,W>0&&window.scrollTo(q.x,q.y+W+T)}else{S(B)||v(!1);var ne=B.offsetHeight+B.offsetTop,z=U.offsetTop+U.offsetHeight,K=z+q.y;W=ne-K,W>0&&c.setTop(U,c.getTop(U)+W+T)}}}}},P._renderChildren=function(){var D=this,$=this.props.block,B=$.getKey(),U=$.getText(),q=this.props.tree.size-1,W=R(this.props.selection,B);return this.props.tree.map(function(V,Y){var J=V.get("leaves");if(J.size===0)return null;var ne=J.size-1,z=J.map(function(Se,Ee){var ke=s.encode(B,Y,Ee),Te=Se.get("start"),Ve=Se.get("end");return a.createElement(i,{key:ke,offsetKey:ke,block:$,start:Te,selection:W?D.props.selection:null,forceSelection:D.props.forceSelection,text:U.slice(Te,Ve),styleSet:$.getInlineStyleAt(Te),customStyleMap:D.props.customStyleMap,customStyleFn:D.props.customStyleFn,isLast:Y===q&&Ee===ne})}).toArray(),K=V.get("decoratorKey");if(K==null||!D.props.decorator)return z;var Z=E(D.props.decorator),le=Z.getComponentForKey(K);if(!le)return z;var ce=Z.getPropsForKey(K),ue=s.encode(B,Y,0),ae=J.first().get("start"),ye=J.last().get("end"),Me=U.slice(ae,ye),xe=$.getEntityAt(V.get("start")),he=f.getHTMLDirIfDifferent(h.getDirection(Me),D.props.direction),pe={contentState:D.props.contentState,decoratedText:Me,dir:he,start:ae,end:ye,blockKey:B,entityKey:xe,offsetKey:ue};return a.createElement(le,t({},ce,pe,{key:ue}),z)}).toArray()},P.render=function(){var D=this,$=this.props,B=$.direction,U=$.offsetKey,q=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":B==="LTR","public/DraftStyleDefault/rtl":B==="RTL"});return a.createElement("div",{"data-offset-key":U,className:q,ref:function(V){return D._node=V}},this._renderChildren())},N})(a.Component);return n1=M,n1}var r1,KF;function Vhe(){if(KF)return r1;KF=1;function e(t){var n=t||"",r=arguments.length;if(r>1)for(var o=1;o<r;o++){var i=arguments[o];i&&(n=(n?n+" ":"")+i)}return n}return r1=e,r1}var o1,qF;function $he(){if(qF)return o1;qF=1;var e=dd();function t(){return t=e||function(m){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(m[v]=b[v])}return m},t.apply(this,arguments)}function n(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){r(m,S,b[S])})}return m}function r(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}function o(m,y){m.prototype=Object.create(y.prototype),m.prototype.constructor=m,m.__proto__=y}var i=WF(),s=Wl(),a=hi(),c=ud(),u=Vhe(),h=Li(),f=function(y,b,v,S){return c({"public/DraftStyleDefault/unorderedListItem":y==="unordered-list-item","public/DraftStyleDefault/orderedListItem":y==="ordered-list-item","public/DraftStyleDefault/reset":v,"public/DraftStyleDefault/depth0":b===0,"public/DraftStyleDefault/depth1":b===1,"public/DraftStyleDefault/depth2":b===2,"public/DraftStyleDefault/depth3":b===3,"public/DraftStyleDefault/depth4":b>=4,"public/DraftStyleDefault/listLTR":S==="LTR","public/DraftStyleDefault/listRTL":S==="RTL"})},g=(function(m){o(y,m);function y(){return m.apply(this,arguments)||this}var b=y.prototype;return b.shouldComponentUpdate=function(S){var E=this.props.editorState,T=S.editorState,R=E.getDirectionMap(),M=T.getDirectionMap();if(R!==M)return!0;var I=E.getSelection().getHasFocus(),N=T.getSelection().getHasFocus();if(I!==N)return!0;var P=T.getNativelyRenderedContent(),L=E.isInCompositionMode(),D=T.isInCompositionMode();if(E===T||P!==null&&T.getCurrentContent()===P||L&&D)return!1;var $=E.getCurrentContent(),B=T.getCurrentContent(),U=E.getDecorator(),q=T.getDecorator();return L!==D||$!==B||U!==q||T.mustForceSelection()},b.render=function(){for(var S=this.props,E=S.blockRenderMap,T=S.blockRendererFn,R=S.blockStyleFn,M=S.customStyleMap,I=S.customStyleFn,N=S.editorState,P=S.editorKey,L=S.preventScroll,D=S.textDirectionality,$=N.getCurrentContent(),B=N.getSelection(),U=N.mustForceSelection(),q=N.getDecorator(),W=h(N.getDirectionMap()),V=$.getBlocksAsArray(),Y=[],J=null,ne=null,z=0;z<V.length;z++){var K=V[z],Z=K.getKey(),le=K.getType(),ce=T(K),ue=void 0,ae=void 0,ye=void 0;ce&&(ue=ce.component,ae=ce.props,ye=ce.editable);var Me=D||W.get(Z),xe=s.encode(Z,0,0),he={contentState:$,block:K,blockProps:ae,blockStyleFn:R,customStyleMap:M,customStyleFn:I,decorator:q,direction:Me,forceSelection:U,offsetKey:xe,preventScroll:L,selection:B,tree:N.getBlockTree(Z)},pe=E.get(le)||E.get("unstyled"),Se=pe.wrapper,Ee=pe.element||E.get("unstyled").element,ke=K.getDepth(),Te="";if(R&&(Te=R(K)),Ee==="li"){var Ve=ne!==Se||J===null||ke>J;Te=u(Te,f(le,ke,Ve,Me))}var rt=ue||i,je={className:Te,"data-block":!0,"data-editor":P,"data-offset-key":xe,key:Z};ye!==void 0&&(je=n({},je,{contentEditable:ye,suppressContentEditableWarning:!0}));var Rt=a.createElement(Ee,je,a.createElement(rt,t({},he,{key:Z})));Y.push({block:Rt,wrapperTemplate:Se,key:Z,offsetKey:xe}),Se?J=K.getDepth():J=null,ne=Se}for(var dt=[],Ct=0;Ct<Y.length;){var $e=Y[Ct];if($e.wrapperTemplate){var It=[];do It.push(Y[Ct].block),Ct++;while(Ct<Y.length&&Y[Ct].wrapperTemplate===$e.wrapperTemplate);var mt=a.cloneElement($e.wrapperTemplate,{key:$e.key+"-wrap","data-offset-key":$e.offsetKey},It);dt.push(mt)}else dt.push($e.block),Ct++}return a.createElement("div",{"data-contents":"true"},dt)},y})(a.Component);return o1=g,o1}var i1,YF;function zhe(){if(YF)return i1;YF=1;var e=Bc(),t=e("draft_tree_data_support");return i1=t?jhe():$he(),i1}var s1,XF;function Uhe(){if(XF)return s1;XF=1;var e={isImage:function(r){return t(r)[0]==="image"},isJpeg:function(r){var o=t(r);return e.isImage(r)&&(o[1]==="jpeg"||o[1]==="pjpeg")}};function t(n){return n.split("/")}return s1=e,s1}var a1,ZF;function Hhe(){if(ZF)return a1;ZF=1;var e=tr();function t(o){var i=o.length;if(!Array.isArray(o)&&(typeof o=="object"||typeof o=="function")||e(!1),typeof i!="number"&&e(!1),i===0||i-1 in o||e(!1),typeof o.callee=="function"&&e(!1),o.hasOwnProperty)try{return Array.prototype.slice.call(o)}catch{}for(var s=Array(i),a=0;a<i;a++)s[a]=o[a];return s}function n(o){return!!o&&(typeof o=="object"||typeof o=="function")&&"length"in o&&!("setInterval"in o)&&typeof o.nodeType!="number"&&(Array.isArray(o)||"callee"in o||"item"in o)}function r(o){return n(o)?Array.isArray(o)?o.slice():t(o):[o]}return a1=r,a1}var l1,JF;function QF(){if(JF)return l1;JF=1;function e(n){return function(){return n}}var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(n){return n},l1=t,l1}var c1,ej;function tj(){if(ej)return c1;ej=1;var e=Uhe(),t=Hhe(),n=QF(),r=new RegExp(`\r
`,"g"),o=`
`,i={"text/rtf":1,"text/html":1};function s(c){if(c.kind=="file")return c.getAsFile()}var a=(function(){function c(h){this.data=h,this.types=h.types?t(h.types):[]}var u=c.prototype;return u.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(f){return i[f]})},u.getText=function(){var f;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(f=this.data.getData("text/plain")):f=this.data.getData("Text")),f?f.replace(r,o):null},u.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},u.isLink=function(){return this.types.some(function(f){return f.indexOf("Url")!=-1||f.indexOf("text/uri-list")!=-1||f.indexOf("text/x-moz-url")})},u.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var f=this.data.getData("text/x-moz-url").split(`
`);return f[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},u.isImage=function(){var f=this.types.some(function(b){return b.indexOf("application/x-moz-file")!=-1});if(f)return!0;for(var g=this.getFiles(),m=0;m<g.length;m++){var y=g[m].type;if(!e.isImage(y))return!1}return!0},u.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},u.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(s).filter(n.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},u.hasFiles=function(){return this.getFiles().length>0},c})();return c1=a,c1}var u1,nj;function rj(){if(nj)return u1;nj=1;var e=tr(),t=/\.textClipping$/,n={"text/plain":!0,"text/html":!0,"text/rtf":!0},r=5e3;function o(s,a){var c=0,u=[];s.forEach(function(h){i(h,function(f){c++,f&&u.push(f.slice(0,r)),c==s.length&&a(u.join("\r"))})})}function i(s,a){if(!globalThis.FileReader||s.type&&!(s.type in n)){a("");return}if(s.type===""){var c="";t.test(s.name)&&(c=s.name.replace(t,"")),a(c);return}var u=new FileReader;u.onload=function(){var h=u.result;typeof h!="string"&&e(!1),a(h)},u.onerror=function(){a("")},u.readAsText(s)}return u1=o,u1}var d1,oj;function rb(){if(oj)return d1;oj=1;function e(t){return t==="handled"||t===!0}return d1=e,d1}var h1,ij;function Ghe(){if(ij)return h1;ij=1;var e=tj(),t=Ai(),n=Lr(),r=Qy(),o=Jy(),i=rj(),s=oF(),a=qB(),c=rb(),u=Li();function h(b,v){var S=null,E=null,T=o(b.currentTarget);if(typeof T.caretRangeFromPoint=="function"){var R=T.caretRangeFromPoint(b.x,b.y);S=R.startContainer,E=R.startOffset}else if(b.rangeParent)S=b.rangeParent,E=b.rangeOffset;else return null;S=u(S),E=u(E);var M=u(r(S));return s(v,M,E,M,E)}var f={onDragEnd:function(v){v.exitCurrentMode(),g(v)},onDrop:function(v,S){var E=new e(S.nativeEvent.dataTransfer),T=v._latestEditorState,R=h(S.nativeEvent,T);if(S.preventDefault(),v._dragCount=0,v.exitCurrentMode(),R!=null){var M=E.getFiles();if(M.length>0){if(v.props.handleDroppedFiles&&c(v.props.handleDroppedFiles(R,M)))return;i(M,function(N){N&&v.update(y(T,R,N))});return}var I=v._internalDrag?"internal":"external";v.props.handleDrop&&c(v.props.handleDrop(R,E,I))||(v._internalDrag?v.update(m(T,R)):v.update(y(T,R,E.getText()))),g(v)}}};function g(b){b._internalDrag=!1;var v=b.editorContainer;if(v){var S=new MouseEvent("mouseup",{view:a(v),bubbles:!0,cancelable:!0});v.dispatchEvent(S)}}function m(b,v){var S=t.moveText(b.getCurrentContent(),b.getSelection(),v);return n.push(b,S,"insert-fragment")}function y(b,v,S){var E=t.insertText(b.getCurrentContent(),v,S,b.getCurrentInlineStyle());return n.push(b,E,"insert-fragment")}return h1=f,h1}var f1,sj;function Whe(){if(sj)return f1;sj=1;function e(t){var n=t.getSelection(),r=n.getAnchorKey(),o=t.getBlockTree(r),i=n.getStartOffset(),s=!1;return o.some(function(a){return i===a.get("start")?(s=!0,!0):i<a.get("end")?a.get("leaves").some(function(c){var u=c.get("start");return i===u?(s=!0,!0):!1}):!1}),s}return f1=e,f1}var p1={},aj;function Khe(){return aj||(aj=1,(function(e,t){if(e.setImmediate)return;var n=1,r={},o=!1,i=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),R=0;R<T.length;R++)T[R]=arguments[R+1];var M={callback:E,args:T};return r[n]=M,s(n),n++}function c(E){delete r[E]}function u(E){var T=E.callback,R=E.args;switch(R.length){case 0:T();break;case 1:T(R[0]);break;case 2:T(R[0],R[1]);break;case 3:T(R[0],R[1],R[2]);break;default:T.apply(t,R);break}}function h(E){if(o)setTimeout(h,0,E);else{var T=r[E];if(T){o=!0;try{u(T)}finally{c(E),o=!1}}}}function f(){s=function(E){process.nextTick(function(){h(E)})}}function g(){if(e.postMessage&&!e.importScripts){var E=!0,T=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=T,E}}function m(){var E="setImmediate$"+Math.random()+"$",T=function(R){R.source===e&&typeof R.data=="string"&&R.data.indexOf(E)===0&&h(+R.data.slice(E.length))};e.addEventListener?e.addEventListener("message",T,!1):e.attachEvent("onmessage",T),s=function(R){e.postMessage(E+R,"*")}}function y(){var E=new MessageChannel;E.port1.onmessage=function(T){var R=T.data;h(R)},s=function(T){E.port2.postMessage(T)}}function b(){var E=i.documentElement;s=function(T){var R=i.createElement("script");R.onreadystatechange=function(){h(T),R.onreadystatechange=null,E.removeChild(R),R=null},E.appendChild(R)}}function v(){s=function(E){setTimeout(h,0,E)}}var S=Object.getPrototypeOf&&Object.getPrototypeOf(e);S=S&&S.setTimeout?S:e,{}.toString.call(e.process)==="[object process]"?f():g()?m():e.MessageChannel?y():i&&"onreadystatechange"in i.createElement("script")?b():v(),S.setImmediate=a,S.clearImmediate=c})(typeof self>"u"?typeof globalThis>"u"?p1:globalThis:self)),p1}var g1,lj;function qhe(){return lj||(lj=1,Khe(),g1=globalThis.setImmediate),g1}var m1,cj;function Yhe(){if(cj)return m1;cj=1;var e=Ai(),t=Lr(),n=Ni(),r=OE(),o=rb(),i=Whe(),s=Li(),a=qhe(),c="'",u="/",h=n.isBrowser("Firefox");function f(y){return h&&(y==c||y==u)}function g(y,b,v,S,E){var T=e.replaceText(y.getCurrentContent(),y.getSelection(),b,v,S);return t.push(y,T,"insert-characters",E)}function m(y,b){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0);var v=y._latestEditorState,S=b.data;if(S){if(y.props.handleBeforeInput&&o(y.props.handleBeforeInput(S,v,b.timeStamp))){b.preventDefault();return}var E=v.getSelection(),T=E.getStartOffset(),R=E.getAnchorKey();if(!E.isCollapsed()){b.preventDefault(),y.update(g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!0));return}var M=g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!1),I=!1;if(I||(I=i(y._latestCommittedEditorState)),!I){var N=v.getBlockTree(R),P=M.getBlockTree(R);I=N.size!==P.size||N.zip(P).some(function(L){var D=L[0],$=L[1],B=D.get("start"),U=B+(B>=T?S.length:0),q=D.get("end"),W=q+(q>=T?S.length:0),V=$.get("start"),Y=$.get("end"),J=$.get("decoratorKey");return D.get("decoratorKey")!==J||D.get("leaves").size!==$.get("leaves").size||U!==V||W!==Y||J!=null&&Y-V!==q-B})}if(I||(I=f(S)),I||(I=s(M.getDirectionMap()).get(R)!==s(v.getDirectionMap()).get(R)),I){b.preventDefault(),M=t.set(M,{forceSelection:!0}),y.update(M);return}M=t.set(M,{nativelyRenderedContent:M.getCurrentContent()}),y._pendingStateFromBeforeInput=M,a(function(){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0)})}}return m1=m,m1}var v1,uj;function Xhe(){if(uj)return v1;uj=1;var e=Lr(),t=BE(),n=EF();function r(o,i){var s=i.currentTarget.ownerDocument;if(!o.props.preserveSelectionOnBlur&&n(s)===s.body){var a=s.defaultView.getSelection(),c=o.editor;a.rangeCount===1&&t(c,a.anchorNode)&&t(c,a.focusNode)&&a.removeAllRanges()}var u=o._latestEditorState,h=u.getSelection();if(h.getHasFocus()){var f=h.set("hasFocus",!1);o.props.onBlur&&o.props.onBlur(i),o.update(e.acceptSelection(u,f))}}return v1=r,v1}var y1,dj;function Zhe(){if(dj)return y1;dj=1;var e=Lr();function t(n,r){n.setMode("composite"),n.update(e.set(n._latestEditorState,{inCompositionMode:!0})),n._onCompositionStart(r)}return y1=t,y1}var b1,hj;function fj(){if(hj)return b1;hj=1;var e=qy();function t(n){var r=n.getSelection();return r.isCollapsed()?null:e(n.getCurrentContent(),r)}return b1=t,b1}var w1,pj;function Jhe(){if(pj)return w1;pj=1;var e=fj();function t(n,r){var o=n._latestEditorState,i=o.getSelection();if(i.isCollapsed()){r.preventDefault();return}n.setClipboard(e(n._latestEditorState))}return w1=t,w1}var S1,gj;function Qhe(){if(gj)return S1;gj=1;function e(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var n=t;if(!n.ownerDocument.defaultView)return n instanceof Node;if(n instanceof n.ownerDocument.defaultView.Node)return!0}return!1}return S1=e,S1}var C1,mj;function efe(){if(mj)return C1;mj=1;var e=Ai(),t=Lr(),n=tb(),r=fj(),o=nb(),i=Qhe();function s(c,u){var h=c._latestEditorState,f=h.getSelection(),g=u.target,m;if(f.isCollapsed()){u.preventDefault();return}if(i(g)){var y=g;m=o(n.getScrollParent(y))}var b=r(h);c.setClipboard(b),c.setMode("cut"),setTimeout(function(){c.restoreEditorDOM(m),c.exitCurrentMode(),c.update(a(h))},0)}function a(c){var u=e.removeRange(c.getCurrentContent(),c.getSelection(),"forward");return t.push(c,u,"remove-range")}return C1=s,C1}var x1,vj;function tfe(){if(vj)return x1;vj=1;function e(t,n){t.setMode("drag"),n.preventDefault()}return x1=e,x1}var _1,yj;function nfe(){if(yj)return _1;yj=1;function e(t){t._internalDrag=!0,t.setMode("drag")}return _1=e,_1}var E1,bj;function rfe(){if(bj)return E1;bj=1;var e=Lr(),t=Ni();function n(r,o){var i=r._latestEditorState,s=i.getSelection();if(!s.getHasFocus()){var a=s.set("hasFocus",!0);r.props.onFocus&&r.props.onFocus(o),t.isBrowser("Chrome < 60.0.3081.0")?r.update(e.forceSelection(i,a)):r.update(e.acceptSelection(i,a))}}return E1=n,E1}var T1,wj;function fd(){if(wj)return T1;wj=1;var e=tr(),t=55296,n=56319,r=56320,o=57343,i=/[\uD800-\uDFFF]/;function s(b){return t<=b&&b<=o}function a(b,v){if(0<=v&&v<b.length||e(!1),v+1===b.length)return!1;var S=b.charCodeAt(v),E=b.charCodeAt(v+1);return t<=S&&S<=n&&r<=E&&E<=o}function c(b){return i.test(b)}function u(b,v){return 1+s(b.charCodeAt(v))}function h(b){if(!c(b))return b.length;for(var v=0,S=0;S<b.length;S+=u(b,S))v++;return v}function f(b,v,S){if(v=v||0,S=S===void 0?1/0:S||0,!c(b))return b.substr(v,S);var E=b.length;if(E<=0||v>E||S<=0)return"";var T=0;if(v>0){for(;v>0&&T<E;v--)T+=u(b,T);if(T>=E)return""}else if(v<0){for(T=E;v<0&&0<T;v++)T-=u(b,T-1);T<0&&(T=0)}var R=E;if(S<E)for(R=T;S>0&&R<E;S--)R+=u(b,R);return b.substring(T,R)}function g(b,v,S){v=v||0,S=S===void 0?1/0:S||0,v<0&&(v=0),S<0&&(S=0);var E=Math.abs(S-v);return v=v<S?v:S,f(b,v,E)}function m(b){for(var v=[],S=0;S<b.length;S+=u(b,S))v.push(b.codePointAt(S));return v}var y={getCodePoints:m,getUTF16Length:u,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:a,strlen:h,substring:g,substr:f};return T1=y,T1}var M1,Sj;function O1(){if(Sj)return M1;Sj=1;var e=QF(),t=e;return M1=t,M1}var R1,Cj;function I1(){if(Cj)return R1;Cj=1,O1();function e(t,n){var r=t.getSelection(),o=t.getCurrentContent(),i=r.getStartKey(),s=r.getStartOffset(),a=i,c=0;if(n>s){var u=o.getKeyBefore(i);if(u==null)a=i;else{a=u;var h=o.getBlockForKey(u);c=h.getText().length}}else c=s-n;return r.merge({focusKey:a,focusOffset:c,isBackward:!0})}return R1=e,R1}var P1,xj;function dg(){if(xj)return P1;xj=1;var e=Ai(),t=Bc(),n=t("draft_tree_data_support");function r(o,i,s){var a=o.getSelection(),c=o.getCurrentContent(),u=a,h=a.getAnchorKey(),f=a.getFocusKey(),g=c.getBlockForKey(h);if(n&&s==="forward"&&h!==f)return c;if(a.isCollapsed()){if(s==="forward"){if(o.isSelectionAtEndOfContent())return c;if(n){var m=a.getAnchorOffset()===c.getBlockForKey(h).getLength();if(m){var y=c.getBlockForKey(g.nextSibling);if(!y||y.getLength()===0)return c}}}else if(o.isSelectionAtStartOfContent())return c;if(u=i(o),u===a)return c}return e.removeRange(c,u,s)}return P1=r,P1}var k1,_j;function Ej(){if(_j)return k1;_j=1;var e=Lr(),t=fd(),n=I1(),r=dg();function o(i){var s=r(i,function(c){var u=c.getSelection(),h=c.getCurrentContent(),f=u.getAnchorKey(),g=u.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g-1];return n(c,m?t.getUTF16Length(m,0):1)},"backward");if(s===i.getCurrentContent())return i;var a=i.getSelection();return e.push(i,s.set("selectionBefore",a),a.isCollapsed()?"backspace-character":"remove-range")}return k1=o,k1}var D1,Tj;function ofe(){if(Tj)return D1;Tj=1;var e=Ai(),t=Wl(),n=Lr(),r=Ni(),o=hF(),i=o.notEmptyKey,s=Qy(),a=Ej(),c=Li(),u=r.isEngine("Gecko"),h=`

`;function f(m,y){switch(m){case"deleteContentBackward":return a(y)}return y}function g(m,y){m._pendingStateFromBeforeInput!==void 0&&(m.update(m._pendingStateFromBeforeInput),m._pendingStateFromBeforeInput=void 0);var b=m.editor,v=b.ownerDocument.defaultView.getSelection(),S=v.anchorNode,E=v.isCollapsed,T=S?.nodeType!==Node.TEXT_NODE&&S?.nodeType!==Node.ELEMENT_NODE;if(!(S==null||T)){if(S.nodeType===Node.TEXT_NODE&&(S.previousSibling!==null||S.nextSibling!==null)){var R=S.parentNode;if(R==null)return;S.nodeValue=R.textContent;for(var M=R.firstChild;M!=null;M=M.nextSibling)M!==S&&R.removeChild(M)}var I=S.textContent,N=m._latestEditorState,P=c(s(S)),L=t.decode(P),D=L.blockKey,$=L.decoratorKey,B=L.leafKey,U=N.getBlockTree(D).getIn([$,"leaves",B]),q=U.start,W=U.end,V=N.getCurrentContent(),Y=V.getBlockForKey(D),J=Y.getText().slice(q,W);if(I.endsWith(h)&&(I=I.slice(0,-1)),I===J){var ne=y.nativeEvent.inputType;if(ne){var z=f(ne,N);if(z!==N){m.restoreEditorDOM(),m.update(z);return}}return}var K=N.getSelection(),Z=K.merge({anchorOffset:q,focusOffset:W,isBackward:!1}),le=Y.getEntityAt(q),ce=i(le)?V.getEntity(le):null,ue=ce!=null?ce.getMutability():null,ae=ue==="MUTABLE",ye=ae?"spellcheck-change":"apply-entity",Me=e.replaceText(V,Z,I,Y.getInlineStyleAt(q),ae?Y.getEntityAt(q):null),xe,he,pe,Se;if(u)xe=v.anchorOffset,he=v.focusOffset,pe=q+Math.min(xe,he),Se=pe+Math.abs(xe-he),xe=pe,he=Se;else{var Ee=I.length-J.length;pe=K.getStartOffset(),Se=K.getEndOffset(),xe=E?Se+Ee:pe,he=Se+Ee}var ke=Me.merge({selectionBefore:V.getSelectionAfter(),selectionAfter:K.merge({anchorOffset:xe,focusOffset:he})});m.update(n.push(N,ke,ye))}}return D1=g,D1}var A1,Mj;function ife(){if(Mj)return A1;Mj=1;var e=eb();function t(n){return n.which===e.RETURN&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))}return A1=t,A1}var L1,Oj;function N1(){if(Oj)return L1;Oj=1;var e=Ni(),t=ife(),n=e.isPlatform("Mac OS X"),r={isCtrlKeyCommand:function(i){return!!i.ctrlKey&&!i.altKey},isOptionKeyCommand:function(i){return n&&i.altKey},usesMacOSHeuristics:function(){return n},hasCommandModifier:function(i){return n?!!i.metaKey&&!i.altKey:r.isCtrlKeyCommand(i)},isSoftNewlineEvent:t};return L1=r,L1}var B1,Rj;function sfe(){if(Rj)return B1;Rj=1;var e=Ai(),t=Lr(),n=qy(),r=Li(),o=null,i={cut:function(a){var c=a.getCurrentContent(),u=a.getSelection(),h=null;if(u.isCollapsed()){var f=u.getAnchorKey(),g=c.getBlockForKey(f).getLength();if(g===u.getAnchorOffset()){var m=c.getKeyAfter(f);if(m==null)return a;h=u.set("focusKey",m).set("focusOffset",0)}else h=u.set("focusOffset",g)}else h=u;h=r(h),o=n(c,h);var y=e.removeRange(c,h,"forward");return y===c?a:t.push(a,y,"remove-range")},paste:function(a){if(!o)return a;var c=e.replaceWithFragment(a.getCurrentContent(),a.getSelection(),o);return t.push(a,c,"insert-fragment")}};return B1=i,B1}var F1,Ij;function Pj(){if(Ij)return F1;Ij=1;var e=Ni(),t=tr(),n=e.isBrowser("Chrome");function r(i){for(var s=i.cloneRange(),a=[],c=i.endContainer;c!=null;c=c.parentNode){var u=c===i.commonAncestorContainer;u?s.setStart(i.startContainer,i.startOffset):s.setStart(s.endContainer,0);var h=Array.from(s.getClientRects());if(a.push(h),u){var f;return a.reverse(),(f=[]).concat.apply(f,a)}s.setEndBefore(c)}t(!1)}var o=n?r:function(i){return Array.from(i.getClientRects())};return F1=o,F1}var j1,kj;function afe(){if(kj)return j1;kj=1;var e=fd(),t=Jy(),n=Pj(),r=tr();function o(c){var u=getComputedStyle(c),h=t(c),f=h.createElement("div");f.style.fontFamily=u.fontFamily,f.style.fontSize=u.fontSize,f.style.fontStyle=u.fontStyle,f.style.fontWeight=u.fontWeight,f.style.lineHeight=u.lineHeight,f.style.position="absolute",f.textContent="M";var g=h.body;g||r(!1),g.appendChild(f);var m=f.getBoundingClientRect();return g.removeChild(f),m.height}function i(c,u){for(var h=1/0,f=1/0,g=-1/0,m=-1/0,y=0;y<c.length;y++){var b=c[y];b.width===0||b.width===1||(h=Math.min(h,b.top),f=Math.min(f,b.bottom),g=Math.max(g,b.top),m=Math.max(m,b.bottom))}return g<=f&&g-h<u&&m-f<u}function s(c){switch(c.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return c.length;default:return c.childNodes.length}}function a(c){c.collapsed||r(!1),c=c.cloneRange();var u=c.startContainer;u.nodeType!==1&&(u=u.parentNode);var h=o(u),f=c.endContainer,g=c.endOffset;for(c.setStart(c.startContainer,0);i(n(c),h)&&(f=c.startContainer,g=c.startOffset,f.parentNode||r(!1),c.setStartBefore(f),!(f.nodeType===1&&getComputedStyle(f).display!=="inline")););var m=f,y=g-1;do{for(var b=m.nodeValue,v=y;v>=0;v--)if(!(b!=null&&v>0&&e.isSurrogatePair(b,v-1)))if(c.setStart(m,v),i(n(c),h))f=m,g=v;else break;if(v===-1||m.childNodes.length===0)break;m=m.childNodes[v],y=s(m)}while(!0);return c.setStart(f,g),c}return j1=a,j1}var V1,Dj;function lfe(){if(Dj)return V1;Dj=1;var e=Lr(),t=afe(),n=sF(),r=I1(),o=dg();function i(s,a){var c=o(s,function(u){var h=u.getSelection();if(h.isCollapsed()&&h.getAnchorOffset()===0)return r(u,1);var f=a.currentTarget.ownerDocument,g=f.defaultView.getSelection(),m=g.getRangeAt(0);return m=t(m),n(u,null,m.endContainer,m.endOffset,m.startContainer,m.startOffset).selectionState},"backward");return c===s.getCurrentContent()?s:e.push(s,c,"remove-range")}return V1=i,V1}var $1,Aj;function cfe(){if(Aj)return $1;Aj=1;var e=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]`;return $1={getPunctuation:function(){return e}},$1}var z1,Lj;function Nj(){if(Lj)return z1;Lj=1;var e=cfe(),t=e.getPunctuation(),n="['‘’]",r="\\s|(?![_])"+t,o="^(?:"+r+")*(?:"+n+"|(?!"+r+").)*(?:(?!"+r+").)",i=new RegExp(o),s="(?:(?!"+r+").)(?:"+n+"|(?!"+r+").)*(?:"+r+")*$",a=new RegExp(s);function c(h,f){var g=f?a.exec(h):i.exec(h);return g?g[0]:h}var u={getBackward:function(f){return c(f,!0)},getForward:function(f){return c(f,!1)}};return z1=u,z1}var U1,Bj;function ufe(){if(Bj)return U1;Bj=1;var e=Nj(),t=Lr(),n=I1(),r=dg();function o(i){var s=r(i,function(a){var c=a.getSelection(),u=c.getStartOffset();if(u===0)return n(a,1);var h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(0,u),m=e.getBackward(g);return n(a,m.length||1)},"backward");return s===i.getCurrentContent()?i:t.push(i,s,"remove-range")}return U1=o,U1}var H1,Fj;function jj(){if(Fj)return H1;Fj=1,O1();function e(t,n){var r=t.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),s=t.getCurrentContent(),a=o,c,u=s.getBlockForKey(o);return n>u.getText().length-i?(a=s.getKeyAfter(o),c=0):c=i+n,r.merge({focusKey:a,focusOffset:c})}return H1=e,H1}var G1,Vj;function dfe(){if(Vj)return G1;Vj=1;var e=Nj(),t=Lr(),n=jj(),r=dg();function o(i){var s=r(i,function(a){var c=a.getSelection(),u=c.getStartOffset(),h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(u),m=e.getForward(g);return n(a,m.length||1)},"forward");return s===i.getCurrentContent()?i:t.push(i,s,"remove-range")}return G1=o,G1}var W1,$j;function hfe(){if($j)return W1;$j=1;var e=Ai(),t=Lr();function n(r){var o=e.splitBlock(r.getCurrentContent(),r.getSelection());return t.push(r,o,"split-block")}return W1=n,W1}var K1,zj;function ffe(){if(zj)return K1;zj=1;var e=Lr();function t(n){var r=n.getSelection(),o=r.getEndKey(),i=n.getCurrentContent(),s=i.getBlockForKey(o).getLength();return e.set(n,{selection:r.merge({anchorKey:o,anchorOffset:s,focusKey:o,focusOffset:s,isBackward:!1}),forceSelection:!0})}return K1=t,K1}var q1,Uj;function pfe(){if(Uj)return q1;Uj=1;var e=Lr();function t(n){var r=n.getSelection(),o=r.getStartKey();return e.set(n,{selection:r.merge({anchorKey:o,anchorOffset:0,focusKey:o,focusOffset:0,isBackward:!1}),forceSelection:!0})}return q1=t,q1}var Y1,Hj;function gfe(){if(Hj)return Y1;Hj=1;var e=Lr(),t=fd(),n=jj(),r=dg();function o(i){var s=r(i,function(c){var u=c.getSelection(),h=c.getCurrentContent(),f=u.getAnchorKey(),g=u.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g];return n(c,m?t.getUTF16Length(m,0):1)},"forward");if(s===i.getCurrentContent())return i;var a=i.getSelection();return e.push(i,s.set("selectionBefore",a),a.isCollapsed()?"delete-character":"remove-range")}return Y1=o,Y1}var X1,Gj;function mfe(){if(Gj)return X1;Gj=1;var e=Ai(),t=Lr(),n=qy();function r(o){var i=o.getSelection();if(!i.isCollapsed())return o;var s=i.getAnchorOffset();if(s===0)return o;var a=i.getAnchorKey(),c=o.getCurrentContent(),u=c.getBlockForKey(a),h=u.getLength();if(h<=1)return o;var f,g;s===h?(f=i.set("anchorOffset",s-1),g=i):(f=i.set("focusOffset",s+1),g=f.set("anchorOffset",s+1));var m=n(c,f),y=e.removeRange(c,f,"backward"),b=y.getSelectionAfter(),v=b.getAnchorOffset()-1,S=b.merge({anchorOffset:v,focusOffset:v}),E=e.replaceWithFragment(y,S,m),T=t.push(o,E,"insert-fragment");return t.acceptSelection(T,g)}return X1=r,X1}var Z1,Wj;function vfe(){if(Wj)return Z1;Wj=1;var e=Lr();function t(n,r,o){var i=e.undo(r);if(r.getLastChangeType()==="spellcheck-change"){var s=i.getCurrentContent();o(e.set(i,{nativelyRenderedContent:s}));return}if(n.preventDefault(),!r.getNativelyRenderedContent()){o(i);return}o(e.set(r,{nativelyRenderedContent:null})),setTimeout(function(){o(i)},0)}return Z1=t,Z1}var J1,Kj;function yfe(){if(Kj)return J1;Kj=1;var e=Ai(),t=Lr(),n=N1(),r=eb(),o=sfe(),i=Ni(),s=rb(),a=lfe(),c=ufe(),u=dfe(),h=hfe(),f=ffe(),g=pfe(),m=Ej(),y=gfe(),b=mfe(),v=vfe(),S=n.isOptionKeyCommand,E=i.isBrowser("Chrome");function T(M,I,N){switch(M){case"redo":return t.redo(I);case"delete":return y(I);case"delete-word":return u(I);case"backspace":return m(I);case"backspace-word":return c(I);case"backspace-to-start-of-line":return a(I,N);case"split-block":return h(I);case"transpose-characters":return b(I);case"move-selection-to-start-of-block":return g(I);case"move-selection-to-end-of-block":return f(I);case"secondary-cut":return o.cut(I);case"secondary-paste":return o.paste(I);default:return I}}function R(M,I){var N=I.which,P=M._latestEditorState;function L(U){var q=M.props[U];return q?(q(I),!0):!1}switch(N){case r.RETURN:if(I.preventDefault(),M.props.handleReturn&&s(M.props.handleReturn(I,P)))return;break;case r.ESC:if(I.preventDefault(),L("onEscape"))return;break;case r.TAB:if(L("onTab"))return;break;case r.UP:if(L("onUpArrow"))return;break;case r.RIGHT:if(L("onRightArrow"))return;break;case r.DOWN:if(L("onDownArrow"))return;break;case r.LEFT:if(L("onLeftArrow"))return;break;case r.SPACE:E&&S(I)&&I.preventDefault()}var D=M.props.keyBindingFn(I);if(D==null||D===""){if(N===r.SPACE&&E&&S(I)){var $=e.replaceText(P.getCurrentContent(),P.getSelection()," ");M.update(t.push(P,$,"insert-characters"))}return}if(D==="undo"){v(I,P,M.update);return}if(I.preventDefault(),!(M.props.handleKeyCommand&&s(M.props.handleKeyCommand(D,P,I.timeStamp)))){var B=T(D,P,I);B!==P&&M.update(B)}}return J1=R,J1}var Q1,qj;function bfe(){if(qj)return Q1;qj=1;function e(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}var t=(function(){function n(o){e(this,"_uri",void 0),this._uri=o}var r=n.prototype;return r.toString=function(){return this._uri},n})();return Q1=t,Q1}var eT,Yj;function Xj(){if(Yj)return eT;Yj=1;var e=Ni(),t=tr(),n=e.isBrowser("IE <= 9");function r(o){var i,s=null;return!n&&document.implementation&&document.implementation.createHTMLDocument&&(i=document.implementation.createHTMLDocument("foo"),i.documentElement||t(!1),i.documentElement.innerHTML=o,s=i.getElementsByTagName("body")[0]),s}return eT=r,eT}var tT,Zj;function wfe(){if(Zj)return tT;Zj=1;var e=hd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="A"}return tT=t,tT}var nT,Jj;function Sfe(){if(Jj)return nT;Jj=1;var e=hd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="IMG"}return nT=t,nT}var rT,Qj;function eV(){if(Qj)return rT;Qj=1;var e;function t(xe){for(var he=1;he<arguments.length;he++){var pe=arguments[he]!=null?arguments[he]:{},Se=Object.keys(pe);typeof Object.getOwnPropertySymbols=="function"&&(Se=Se.concat(Object.getOwnPropertySymbols(pe).filter(function(Ee){return Object.getOwnPropertyDescriptor(pe,Ee).enumerable}))),Se.forEach(function(Ee){n(xe,Ee,pe[Ee])})}return xe}function n(xe,he,pe){return he in xe?Object.defineProperty(xe,he,{value:pe,enumerable:!0,configurable:!0,writable:!0}):xe[he]=pe,xe}var r=Ds(),o=cd(),i=As(),s=rE(),a=Yy(),c=bfe(),u=ud(),h=el(),f=Xj(),g=Bc(),m=Qn(),y=m.List,b=m.Map,v=m.OrderedSet,S=wfe(),E=yF(),T=ug(),R=Sfe(),M=g("draft_tree_data_support"),I="&nbsp;",N=" ",P=new RegExp("\r","g"),L=new RegExp(`
`,"g"),D=new RegExp(`^
`,"g"),$=new RegExp(I,"g"),B=new RegExp("&#13;?","g"),U=new RegExp("&#8203;?","g"),q=["bold","bolder","500","600","700","800","900"],W=["light","lighter","normal","100","200","300","400"],V=["className","href","rel","target","title"],Y=["alt","className","height","src","width"],J=(e={},n(e,u("public/DraftStyleDefault/depth0"),0),n(e,u("public/DraftStyleDefault/depth1"),1),n(e,u("public/DraftStyleDefault/depth2"),2),n(e,u("public/DraftStyleDefault/depth3"),3),n(e,u("public/DraftStyleDefault/depth4"),4),e),ne=b({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),z=function(he){var pe={};return he.mapKeys(function(Se,Ee){var ke=[Ee.element];Ee.aliasedElements!==void 0&&ke.push.apply(ke,Ee.aliasedElements),ke.forEach(function(Te){pe[Te]===void 0?pe[Te]=Se:typeof pe[Te]=="string"?pe[Te]=[pe[Te],Se]:pe[Te].push(Se)})}),b(pe)},K=function(he){if(T(he)){var pe=he;if(pe.style.fontFamily.includes("monospace"))return"CODE"}return null},Z=function(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(J).some(function(Se){he.classList.contains(Se)&&(pe=J[Se])}),pe},le=function(he){if(!S(he))return!1;var pe=he;if(!pe.href||pe.protocol!=="http:"&&pe.protocol!=="https:"&&pe.protocol!=="mailto:"&&pe.protocol!=="tel:")return!1;try{var Se=new c(pe.href);return!0}catch{return!1}},ce=function(he){if(!R(he))return!1;var pe=he;return!!(pe.attributes.getNamedItem("src")&&pe.attributes.getNamedItem("src").value)},ue=function(he,pe){if(!T(he))return pe;var Se=he,Ee=Se.style.fontWeight,ke=Se.style.fontStyle,Te=Se.style.textDecoration;return pe.withMutations(function(Ve){q.indexOf(Ee)>=0?Ve.add("BOLD"):W.indexOf(Ee)>=0&&Ve.remove("BOLD"),ke==="italic"?Ve.add("ITALIC"):ke==="normal"&&Ve.remove("ITALIC"),Te==="underline"&&Ve.add("UNDERLINE"),Te==="line-through"&&Ve.add("STRIKETHROUGH"),Te==="none"&&(Ve.remove("UNDERLINE"),Ve.remove("STRIKETHROUGH"))})},ae=function(he){return he==="ul"||he==="ol"},ye=(function(){function xe(pe,Se){n(this,"characterList",y()),n(this,"currentBlockType","unstyled"),n(this,"currentDepth",0),n(this,"currentEntity",null),n(this,"currentText",""),n(this,"wrapper",null),n(this,"blockConfigs",[]),n(this,"contentBlocks",[]),n(this,"entityMap",a),n(this,"blockTypeMap",void 0),n(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=pe,this.disambiguate=Se}var he=xe.prototype;return he.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=a,this.wrapper=null,this.contentBlocks=[]},he.addDOMNode=function(Se){var Ee;return this.contentBlocks=[],this.currentDepth=0,(Ee=this.blockConfigs).push.apply(Ee,this._toBlockConfigs([Se],v())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},he.getContentBlocks=function(){return this.contentBlocks.length===0&&(M?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},he._makeBlockConfig=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee=Se.key||h(),ke=t({key:Ee,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},Se);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",ke},he._toBlockConfigs=function(Se,Ee){for(var ke=[],Te=0;Te<Se.length;Te++){var Ve=Se[Te],rt=Ve.nodeName.toLowerCase();if(rt==="body"||ae(rt)){this._trimCurrentText(),this.currentText!==""&&ke.push(this._makeBlockConfig());var je=this.currentDepth,Rt=this.wrapper;ae(rt)&&(this.wrapper=rt,ae(Rt)&&this.currentDepth++),ke.push.apply(ke,this._toBlockConfigs(Array.from(Ve.childNodes),Ee)),this.currentDepth=je,this.wrapper=Rt;continue}var dt=this.blockTypeMap.get(rt);if(dt!==void 0){this._trimCurrentText(),this.currentText!==""&&ke.push(this._makeBlockConfig());var Ct=this.currentDepth,$e=this.wrapper;if(this.wrapper=rt==="pre"?"pre":this.wrapper,typeof dt!="string"&&(dt=this.disambiguate(rt,this.wrapper)||dt[0]||"unstyled"),!M&&T(Ve)&&(dt==="unordered-list-item"||dt==="ordered-list-item")){var It=Ve;this.currentDepth=Z(It,this.currentDepth)}var mt=h(),Bt=this._toBlockConfigs(Array.from(Ve.childNodes),Ee);this._trimCurrentText(),ke.push(this._makeBlockConfig({key:mt,childConfigs:Bt,type:dt})),this.currentDepth=Ct,this.wrapper=$e;continue}if(rt==="#text"){this._addTextNode(Ve,Ee);continue}if(rt==="br"){this._addBreakNode(Ve,Ee);continue}if(ce(Ve)){this._addImgNode(Ve,Ee);continue}if(le(Ve)){this._addAnchorNode(Ve,ke,Ee);continue}var zt=Ee;ne.has(rt)&&(zt=zt.add(ne.get(rt))),zt=ue(Ve,zt);var qt=K(Ve);qt!=null&&(zt=zt.add(qt)),ke.push.apply(ke,this._toBlockConfigs(Array.from(Ve.childNodes),zt))}return ke},he._appendText=function(Se,Ee){var ke;this.currentText+=Se;var Te=r.create({style:Ee,entity:this.currentEntity});this.characterList=(ke=this.characterList).push.apply(ke,Array(Se.length).fill(Te))},he._trimCurrentText=function(){var Se=this.currentText.length,Ee=Se-this.currentText.trimLeft().length,ke=this.currentText.trimRight().length,Te=this.characterList.findEntry(function(Ve){return Ve.getEntity()!==null});Ee=Te!==void 0?Math.min(Ee,Te[0]):Ee,Te=this.characterList.reverse().findEntry(function(Ve){return Ve.getEntity()!==null}),ke=Te!==void 0?Math.max(ke,Se-Te[0]):ke,Ee>ke?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(Ee,ke),this.characterList=this.characterList.slice(Ee,ke))},he._addTextNode=function(Se,Ee){var ke=Se.textContent,Te=ke.trim();Te===""&&this.wrapper!=="pre"&&(ke=" "),this.wrapper!=="pre"&&(ke=ke.replace(D,""),ke=ke.replace(L,N)),this._appendText(ke,Ee)},he._addBreakNode=function(Se,Ee){E(Se)&&this._appendText(`
`,Ee)},he._addImgNode=function(Se,Ee){if(R(Se)){var ke=Se,Te={};Y.forEach(function(Ve){var rt=ke.getAttribute(Ve);rt&&(Te[Ve]=rt)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",Te),g("draftjs_fix_paste_for_img")?ke.getAttribute("role")!=="presentation"&&this._appendText("📷",Ee):this._appendText("📷",Ee),this.currentEntity=null}},he._addAnchorNode=function(Se,Ee,ke){if(S(Se)){var Te=Se,Ve={};V.forEach(function(rt){var je=Te.getAttribute(rt);je&&(Ve[rt]=je)}),Ve.url=new c(Te.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",Ve||{}),Ee.push.apply(Ee,this._toBlockConfigs(Array.from(Se.childNodes),ke)),this.currentEntity=null}},he._toContentBlocks=function(Se){for(var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ke=Se.length-1,Te=0;Te<=ke;Te++){var Ve=Se[Te];Ve.parent=Ee,Ve.prevSibling=Te>0?Se[Te-1].key:null,Ve.nextSibling=Te<ke?Se[Te+1].key:null,Ve.children=y(Ve.childConfigs.map(function(rt){return rt.key})),this.contentBlocks.push(new i(t({},Ve))),this._toContentBlocks(Ve.childConfigs,Ve.key)}},he._hoistContainersInBlockConfigs=function(Se){var Ee=this,ke=y(Se).flatMap(function(Te){return Te.type!=="unstyled"||Te.text!==""?[Te]:Ee._hoistContainersInBlockConfigs(Te.childConfigs)});return ke},he._toFlatContentBlocks=function(Se){var Ee=this,ke=this._hoistContainersInBlockConfigs(Se);ke.forEach(function(Te){var Ve=Ee._extractTextFromBlockConfigs(Te.childConfigs),rt=Ve.text,je=Ve.characterList;Ee.contentBlocks.push(new o(t({},Te,{text:Te.text+rt,characterList:Te.characterList.concat(je)})))})},he._extractTextFromBlockConfigs=function(Se){for(var Ee=Se.length-1,ke="",Te=y(),Ve=0;Ve<=Ee;Ve++){var rt=Se[Ve];ke+=rt.text,Te=Te.concat(rt.characterList),ke!==""&&rt.type!=="unstyled"&&(ke+=`
`,Te=Te.push(Te.last()));var je=this._extractTextFromBlockConfigs(rt.childConfigs);ke+=je.text,Te=Te.concat(je.characterList)}return{text:ke,characterList:Te}},xe})(),Me=function(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s;he=he.trim().replace(P,"").replace($,N).replace(B,"").replace(U,"");var Ee=pe(he);if(!Ee)return null;var ke=z(Se),Te=function(rt,je){return rt==="li"?je==="ol"?"ordered-list-item":"unordered-list-item":null};return new ye(ke,Te).addDOMNode(Ee).getContentBlocks()};return rT=Me,rT}var oT,tV;function Cfe(){if(tV)return oT;tV=1;function e(b){for(var v=1;v<arguments.length;v++){var S=arguments[v]!=null?arguments[v]:{},E=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(S).filter(function(T){return Object.getOwnPropertyDescriptor(S,T).enumerable}))),E.forEach(function(T){t(b,T,S[T])})}return b}function t(b,v,S){return v in b?Object.defineProperty(b,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[v]=S,b}var n=cd(),r=As(),o=eV(),i=el(),s=Xj(),a=Bc(),c=Qn(),u=yB(),h=c.List,f=c.Repeat,g=a("draft_tree_data_support"),m=g?r:n,y={processHTML:function(v,S){return o(v,s,S)},processText:function(v,S,E){return v.reduce(function(T,R,M){R=u(R);var I=i(),N={key:I,type:E,text:R,characterList:h(f(S,R.length))};if(g&&M!==0){var P=M-1,L=T[P]=T[P].merge({nextSibling:I});N=e({},N,{prevSibling:L.getKey()})}return T.push(new m(N)),T},[])}};return oT=y,oT}var iT,nV;function xfe(){if(nV)return iT;nV=1;function e(t,n,r,o){var i=n.getStartKey(),s=n.getEndKey(),a=t.getBlockMap(),c=a.toSeq().skipUntil(function(u,h){return h===i}).takeUntil(function(u,h){return h===s}).concat([[s,a.get(s)]]).map(function(u){var h=u.getDepth()+r;return h=Math.max(0,Math.min(h,o)),u.set("depth",h)});return a=a.merge(c),t.merge({blockMap:a,selectionBefore:n,selectionAfter:n})}return iT=e,iT}var sT,rV;function oV(){if(rV)return sT;rV=1;var e=Ai(),t=Lr(),n=xfe(),r=Li(),o={currentBlockContainsLink:function(s){var a=s.getSelection(),c=s.getCurrentContent(),u=c.getEntityMap();return c.getBlockForKey(a.getAnchorKey()).getCharacterList().slice(a.getStartOffset(),a.getEndOffset()).some(function(h){var f=h.getEntity();return!!f&&u.__get(f).getType()==="LINK"})},getCurrentBlockType:function(s){var a=s.getSelection();return s.getCurrentContent().getBlockForKey(a.getStartKey()).getType()},getDataObjectForLinkURL:function(s){return{url:s.toString()}},handleKeyCommand:function(s,a,c){switch(a){case"bold":return o.toggleInlineStyle(s,"BOLD");case"italic":return o.toggleInlineStyle(s,"ITALIC");case"underline":return o.toggleInlineStyle(s,"UNDERLINE");case"code":return o.toggleCode(s);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return o.onBackspace(s);case"delete":case"delete-word":case"delete-to-end-of-block":return o.onDelete(s);default:return null}},insertSoftNewline:function(s){var a=e.insertText(s.getCurrentContent(),s.getSelection(),`
`,s.getCurrentInlineStyle(),null),c=t.push(s,a,"insert-characters");return t.forceSelection(c,a.getSelectionAfter())},onBackspace:function(s){var a=s.getSelection();if(!a.isCollapsed()||a.getAnchorOffset()||a.getFocusOffset())return null;var c=s.getCurrentContent(),u=a.getStartKey(),h=c.getBlockBefore(u);if(h&&h.getType()==="atomic"){var f=c.getBlockMap().delete(h.getKey()),g=c.merge({blockMap:f,selectionAfter:a});if(g!==c)return t.push(s,g,"remove-range")}var m=o.tryToRemoveBlockStyle(s);return m?t.push(s,m,"change-block-type"):null},onDelete:function(s){var a=s.getSelection();if(!a.isCollapsed())return null;var c=s.getCurrentContent(),u=a.getStartKey(),h=c.getBlockForKey(u),f=h.getLength();if(a.getStartOffset()<f)return null;var g=c.getBlockAfter(u);if(!g||g.getType()!=="atomic")return null;var m=a.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),y=e.removeRange(c,m,"forward");return y!==c?t.push(s,y,"remove-range"):null},onTab:function(s,a,c){var u=a.getSelection(),h=u.getAnchorKey();if(h!==u.getFocusKey())return a;var f=a.getCurrentContent(),g=f.getBlockForKey(h),m=g.getType();if(m!=="unordered-list-item"&&m!=="ordered-list-item")return a;s.preventDefault();var y=g.getDepth();if(!s.shiftKey&&y===c)return a;var b=n(f,u,s.shiftKey?-1:1,c);return t.push(a,b,"adjust-depth")},toggleBlockType:function(s,a){var c=s.getSelection(),u=c.getStartKey(),h=c.getEndKey(),f=s.getCurrentContent(),g=c;if(u!==h&&c.getEndOffset()===0){var m=r(f.getBlockBefore(h));h=m.getKey(),g=g.merge({anchorKey:u,anchorOffset:c.getStartOffset(),focusKey:h,focusOffset:m.getLength(),isBackward:!1})}var y=f.getBlockMap().skipWhile(function(v,S){return S!==u}).reverse().skipWhile(function(v,S){return S!==h}).some(function(v){return v.getType()==="atomic"});if(y)return s;var b=f.getBlockForKey(u).getType()===a?"unstyled":a;return t.push(s,e.setBlockType(f,g,b),"change-block-type")},toggleCode:function(s){var a=s.getSelection(),c=a.getAnchorKey(),u=a.getFocusKey();return a.isCollapsed()||c!==u?o.toggleBlockType(s,"code-block"):o.toggleInlineStyle(s,"CODE")},toggleInlineStyle:function(s,a){var c=s.getSelection(),u=s.getCurrentInlineStyle();if(c.isCollapsed())return t.setInlineStyleOverride(s,u.has(a)?u.remove(a):u.add(a));var h=s.getCurrentContent(),f;return u.has(a)?f=e.removeInlineStyle(h,c,a):f=e.applyInlineStyle(h,c,a),t.push(s,f,"change-inline-style")},toggleLink:function(s,a,c){var u=e.applyEntity(s.getCurrentContent(),a,c);return t.push(s,u,"apply-entity")},tryToRemoveBlockStyle:function(s){var a=s.getSelection(),c=a.getAnchorOffset();if(a.isCollapsed()&&c===0){var u=a.getAnchorKey(),h=s.getCurrentContent(),f=h.getBlockForKey(u),g=f.getType(),m=h.getBlockBefore(u);if(g==="code-block"&&m&&m.getType()==="code-block"&&m.getLength()!==0)return null;if(g!=="unstyled")return e.setBlockType(h,a,"unstyled")}return null}};return sT=o,sT}var aT,iV;function _fe(){if(iV)return aT;iV=1;var e=/\r\n?|\n/g;function t(n){return n.split(e)}return aT=t,aT}var lT,sV;function Efe(){if(sV)return lT;sV=1;var e=ag(),t=Ds(),n=tj(),r=Ai(),o=Cfe(),i=Lr(),s=oV(),a=OE(),c=rj(),u=rb(),h=_fe();function f(y,b){b.preventDefault();var v=new n(b.clipboardData);if(!v.isRichText()){var S=v.getFiles(),E=v.getText();if(S.length>0){if(y.props.handlePastedFiles&&u(y.props.handlePastedFiles(S)))return;c(S,function(z){if(z=z||E,!!z){var K=y._latestEditorState,Z=h(z),le=t.create({style:K.getCurrentInlineStyle(),entity:a(K.getCurrentContent(),K.getSelection())}),ce=s.getCurrentBlockType(K),ue=o.processText(Z,le,ce),ae=e.createFromArray(ue),ye=r.replaceWithFragment(K.getCurrentContent(),K.getSelection(),ae);y.update(i.push(K,ye,"insert-fragment"))}});return}}var T=[],R=v.getText(),M=v.getHTML(),I=y._latestEditorState;if(y.props.formatPastedText){var N=y.props.formatPastedText(R,M),P=N.text,L=N.html;R=P,M=L}if(!(y.props.handlePastedText&&u(y.props.handlePastedText(R,M,I)))){if(R&&(T=h(R)),!y.props.stripPastedStyles){var D=y.getClipboard();if(!y.props.formatPastedText&&v.isRichText()&&D){var $;if((($=M)===null||$===void 0?void 0:$.indexOf(y.getEditorKey()))!==-1||T.length===1&&D.size===1&&D.first().getText()===R){y.update(g(y._latestEditorState,D));return}}else if(D&&v.types.includes("com.apple.webarchive")&&!v.types.includes("text/html")&&m(T,D)){y.update(g(y._latestEditorState,D));return}if(M){var B=o.processHTML(M,y.props.blockRenderMap);if(B){var U=B.contentBlocks,q=B.entityMap;if(U){var W=e.createFromArray(U);y.update(g(y._latestEditorState,W,q));return}}}y.setClipboard(null)}if(T.length){var V=t.create({style:I.getCurrentInlineStyle(),entity:a(I.getCurrentContent(),I.getSelection())}),Y=s.getCurrentBlockType(I),J=o.processText(T,V,Y),ne=e.createFromArray(J);y.update(g(y._latestEditorState,ne))}}}function g(y,b,v){var S=r.replaceWithFragment(y.getCurrentContent(),y.getSelection(),b);return i.push(y,S.set("entityMap",v),"insert-fragment")}function m(y,b){return y.length===b.size&&b.valueSeq().every(function(v,S){return v.getText()===y[S]})}return lT=f,lT}var cT,aV;function Tfe(){if(aV)return cT;aV=1;var e=Ni(),t=Yhe(),n=Xhe(),r=Zhe(),o=Jhe(),i=efe(),s=tfe(),a=nfe(),c=rfe(),u=ofe(),h=yfe(),f=Efe(),g=uF(),m=e.isBrowser("Chrome"),y=e.isBrowser("Firefox"),b=m||y?g:function(S){},v={onBeforeInput:t,onBlur:n,onCompositionStart:r,onCopy:o,onCut:i,onDragOver:s,onDragStart:a,onFocus:c,onInput:u,onKeyDown:h,onPaste:f,onSelect:g,onMouseUp:b,onKeyUp:b};return cT=v,cT}var uT={exports:{}},fi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lV;function Mfe(){if(lV)return fi;lV=1;var e=hi();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(c,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:c,containerInfo:u,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fi.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(c,u,null,h)},fi.flushSync=function(c){var u=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=u,r.p=h,r.d.f()}},fi.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},fi.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},fi.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},fi.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},fi.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin);r.d.L(c,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},fi.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=a(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},fi.requestFormReset=function(c){r.d.r(c)},fi.unstable_batchedUpdates=function(c,u){return c(u)},fi.useFormState=function(c,u,h){return s.H.useFormState(c,u,h)},fi.useFormStatus=function(){return s.H.useHostTransitionStatus()},fi.version="19.1.1",fi}var cV;function dT(){if(cV)return uT.exports;cV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),uT.exports=Mfe(),uT.exports}var hT,uV;function Ofe(){if(uV)return hT;uV=1;var e=dT(),t=e.unstable_flushControlled;return hT=t,hT}var fT,dV;function Rfe(){if(dV)return fT;dV=1;function e(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i}var t=hi(),n=ud(),r=(function(o){e(i,o);function i(){return o.apply(this,arguments)||this}var s=i.prototype;return s.shouldComponentUpdate=function(c){return this.props.text!==c.text||this.props.editorState.getSelection().getHasFocus()!==c.editorState.getSelection().getHasFocus()},s.render=function(){var c=this.props.editorState.getSelection().getHasFocus(),u=n({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":c}),h={whiteSpace:"pre-wrap"};return t.createElement("div",{className:u},t.createElement("div",{className:n("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:h},this.props.text))},i})(t.Component);return fT=r,fT}var pT,hV;function fV(){if(hV)return pT;hV=1;var e=N1(),t=eb(),n=Ni(),r=n.isPlatform("Mac OS X"),o=r&&n.isBrowser("Firefox < 29"),i=e.hasCommandModifier,s=e.isCtrlKeyCommand;function a(g){return r&&g.altKey||s(g)}function c(g){return i(g)?g.shiftKey?"redo":"undo":null}function u(g){return!r&&g.shiftKey?null:a(g)?"delete-word":"delete"}function h(g){return i(g)&&r?"backspace-to-start-of-line":a(g)?"backspace-word":"backspace"}function f(g){switch(g.keyCode){case 66:return i(g)?"bold":null;case 68:return s(g)?"delete":null;case 72:return s(g)?"backspace":null;case 73:return i(g)?"italic":null;case 74:return i(g)?"code":null;case 75:return r&&s(g)?"secondary-cut":null;case 77:return s(g)?"split-block":null;case 79:return s(g)?"split-block":null;case 84:return r&&s(g)?"transpose-characters":null;case 85:return i(g)?"underline":null;case 87:return r&&s(g)?"backspace-word":null;case 89:return s(g)?r?"secondary-paste":"redo":null;case 90:return c(g)||null;case t.RETURN:return"split-block";case t.DELETE:return u(g);case t.BACKSPACE:return h(g);case t.LEFT:return o&&i(g)?"move-selection-to-start-of-block":null;case t.RIGHT:return o&&i(g)?"move-selection-to-end-of-block":null;default:return null}}return pT=f,pT}var gT,pV;function Ife(){if(pV)return gT;pV=1;var e=dd();function t(){return t=e||function(J){for(var ne=1;ne<arguments.length;ne++){var z=arguments[ne];for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&(J[K]=z[K])}return J},t.apply(this,arguments)}function n(J){for(var ne=1;ne<arguments.length;ne++){var z=arguments[ne]!=null?arguments[ne]:{},K=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(K=K.concat(Object.getOwnPropertySymbols(z).filter(function(Z){return Object.getOwnPropertyDescriptor(z,Z).enumerable}))),K.forEach(function(Z){o(J,Z,z[Z])})}return J}function r(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function o(J,ne,z){return ne in J?Object.defineProperty(J,ne,{value:z,enumerable:!0,configurable:!0,writable:!0}):J[ne]=z,J}function i(J,ne){J.prototype=Object.create(ne.prototype),J.prototype.constructor=J,J.__proto__=ne}var s=rE(),a=AB(),c=Ehe(),u=zhe(),h=Ghe(),f=Tfe(),g=Ofe(),m=Rfe(),y=wF(),b=Lr(),v=hi(),S=UE(),E=tb(),T=Ni(),R=ud(),M=el(),I=fV(),N=nb(),P=Bc(),L=tr(),D=ug(),$=Li(),B=T.isBrowser("IE"),U=!B,q={edit:f,composite:c,drag:h,cut:null,render:null},W=!1,V=(function(J){i(ne,J);function ne(){return J.apply(this,arguments)||this}var z=ne.prototype;return z.render=function(){return null},z.componentDidMount=function(){this._update()},z.componentDidUpdate=function(){this._update()},z._update=function(){var Z=this.props.editor;Z._latestEditorState=this.props.editorState,Z._blockSelectEvents=!0},ne})(v.Component),Y=(function(J){i(ne,J);function ne(K){var Z;return Z=J.call(this,K)||this,o(r(Z),"_blockSelectEvents",void 0),o(r(Z),"_clipboard",void 0),o(r(Z),"_handler",void 0),o(r(Z),"_dragCount",void 0),o(r(Z),"_internalDrag",void 0),o(r(Z),"_editorKey",void 0),o(r(Z),"_placeholderAccessibilityID",void 0),o(r(Z),"_latestEditorState",void 0),o(r(Z),"_latestCommittedEditorState",void 0),o(r(Z),"_pendingStateFromBeforeInput",void 0),o(r(Z),"_onBeforeInput",void 0),o(r(Z),"_onBlur",void 0),o(r(Z),"_onCharacterData",void 0),o(r(Z),"_onCompositionEnd",void 0),o(r(Z),"_onCompositionStart",void 0),o(r(Z),"_onCopy",void 0),o(r(Z),"_onCut",void 0),o(r(Z),"_onDragEnd",void 0),o(r(Z),"_onDragOver",void 0),o(r(Z),"_onDragStart",void 0),o(r(Z),"_onDrop",void 0),o(r(Z),"_onInput",void 0),o(r(Z),"_onFocus",void 0),o(r(Z),"_onKeyDown",void 0),o(r(Z),"_onKeyPress",void 0),o(r(Z),"_onKeyUp",void 0),o(r(Z),"_onMouseDown",void 0),o(r(Z),"_onMouseUp",void 0),o(r(Z),"_onPaste",void 0),o(r(Z),"_onSelect",void 0),o(r(Z),"editor",void 0),o(r(Z),"editorContainer",void 0),o(r(Z),"focus",void 0),o(r(Z),"blur",void 0),o(r(Z),"setMode",void 0),o(r(Z),"exitCurrentMode",void 0),o(r(Z),"restoreEditorDOM",void 0),o(r(Z),"setClipboard",void 0),o(r(Z),"getClipboard",void 0),o(r(Z),"getEditorKey",void 0),o(r(Z),"update",void 0),o(r(Z),"onDragEnter",void 0),o(r(Z),"onDragLeave",void 0),o(r(Z),"_handleEditorContainerRef",function(le){Z.editorContainer=le,Z.editor=le!==null?le.firstChild:null}),o(r(Z),"focus",function(le){var ce=Z.props.editorState,ue=ce.getSelection().getHasFocus(),ae=Z.editor;if(ae){var ye=E.getScrollParent(ae),Me=le||N(ye),xe=Me.x,he=Me.y;D(ae)||L(!1),ae.focus(),ye===window?window.scrollTo(xe,he):S.setTop(ye,he),ue||Z.update(b.forceSelection(ce,ce.getSelection()))}}),o(r(Z),"blur",function(){var le=Z.editor;le&&(D(le)||L(!1),le.blur())}),o(r(Z),"setMode",function(le){var ce=Z.props,ue=ce.onPaste,ae=ce.onCut,ye=ce.onCopy,Me=n({},q.edit);ue&&(Me.onPaste=ue),ae&&(Me.onCut=ae),ye&&(Me.onCopy=ye);var xe=n({},q,{edit:Me});Z._handler=xe[le]}),o(r(Z),"exitCurrentMode",function(){Z.setMode("edit")}),o(r(Z),"restoreEditorDOM",function(le){Z.setState({contentsKey:Z.state.contentsKey+1},function(){Z.focus(le)})}),o(r(Z),"setClipboard",function(le){Z._clipboard=le}),o(r(Z),"getClipboard",function(){return Z._clipboard}),o(r(Z),"update",function(le){Z._latestEditorState=le,Z.props.onChange(le)}),o(r(Z),"onDragEnter",function(){Z._dragCount++}),o(r(Z),"onDragLeave",function(){Z._dragCount--,Z._dragCount===0&&Z.exitCurrentMode()}),Z._blockSelectEvents=!1,Z._clipboard=null,Z._handler=null,Z._dragCount=0,Z._editorKey=K.editorKey||M(),Z._placeholderAccessibilityID="placeholder-"+Z._editorKey,Z._latestEditorState=K.editorState,Z._latestCommittedEditorState=K.editorState,Z._onBeforeInput=Z._buildHandler("onBeforeInput"),Z._onBlur=Z._buildHandler("onBlur"),Z._onCharacterData=Z._buildHandler("onCharacterData"),Z._onCompositionEnd=Z._buildHandler("onCompositionEnd"),Z._onCompositionStart=Z._buildHandler("onCompositionStart"),Z._onCopy=Z._buildHandler("onCopy"),Z._onCut=Z._buildHandler("onCut"),Z._onDragEnd=Z._buildHandler("onDragEnd"),Z._onDragOver=Z._buildHandler("onDragOver"),Z._onDragStart=Z._buildHandler("onDragStart"),Z._onDrop=Z._buildHandler("onDrop"),Z._onInput=Z._buildHandler("onInput"),Z._onFocus=Z._buildHandler("onFocus"),Z._onKeyDown=Z._buildHandler("onKeyDown"),Z._onKeyPress=Z._buildHandler("onKeyPress"),Z._onKeyUp=Z._buildHandler("onKeyUp"),Z._onMouseDown=Z._buildHandler("onMouseDown"),Z._onMouseUp=Z._buildHandler("onMouseUp"),Z._onPaste=Z._buildHandler("onPaste"),Z._onSelect=Z._buildHandler("onSelect"),Z.getEditorKey=function(){return Z._editorKey},Z.state={contentsKey:0},Z}var z=ne.prototype;return z._buildHandler=function(Z){var le=this;return function(ce){if(!le.props.readOnly){var ue=le._handler&&le._handler[Z];ue&&(g?g(function(){return ue(le,ce)}):ue(le,ce))}}},z._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},z._renderPlaceholder=function(){if(this._showPlaceholder()){var Z={text:$(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,Z)}return null},z._renderARIADescribedBy=function(){var Z=this.props.ariaDescribedBy||"",le=this._showPlaceholder()?this._placeholderAccessibilityID:"";return Z.replace("{{editor_id_placeholder}}",le)||void 0},z.render=function(){var Z=this.props,le=Z.blockRenderMap,ce=Z.blockRendererFn,ue=Z.blockStyleFn,ae=Z.customStyleFn,ye=Z.customStyleMap,Me=Z.editorState,xe=Z.preventScroll,he=Z.readOnly,pe=Z.textAlignment,Se=Z.textDirectionality,Ee=R({"DraftEditor/root":!0,"DraftEditor/alignLeft":pe==="left","DraftEditor/alignRight":pe==="right","DraftEditor/alignCenter":pe==="center"}),ke={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},Te=this.props.role||"textbox",Ve=Te==="combobox"?!!this.props.ariaExpanded:null,rt={blockRenderMap:le,blockRendererFn:ce,blockStyleFn:ue,customStyleMap:n({},a,ye),customStyleFn:ae,editorKey:this._editorKey,editorState:Me,preventScroll:xe,textDirectionality:Se};return v.createElement("div",{className:Ee},this._renderPlaceholder(),v.createElement("div",{className:R("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":he?null:this.props.ariaActiveDescendantID,"aria-autocomplete":he?null:this.props.ariaAutoComplete,"aria-controls":he?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":he?null:Ve,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":he?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:R({notranslate:!he,"public/DraftEditor/content":!0}),contentEditable:!he,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:he?null:Te,spellCheck:U&&this.props.spellCheck,style:ke,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(V,{editor:this,editorState:Me}),v.createElement(u,t({},rt,{key:"contents"+this.state.contentsKey})))))},z.componentDidMount=function(){this._blockSelectEvents=!1,!W&&P("draft_ods_enabled")&&(W=!0,y.initODS()),this.setMode("edit"),B&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):globalThis.execCommand("AutoUrlDetect",!1,!1))},z.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},ne})(v.Component);return o(Y,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:s,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:I,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),gT=Y,gT}var gV={},mV;function Pfe(){return mV||(mV=1),gV}var mT,vV;function yV(){if(vV)return mT;vV=1;var e={stringify:function(n){return"_"+String(n)},unstringify:function(n){return n.slice(1)}};return mT=e,mT}var vT,bV;function kfe(){if(bV)return vT;bV=1;var e=yV(),t=fd(),n=t.strlen;function r(o,i){var s=[];return o.findEntityRanges(function(a){return!!a.getEntity()},function(a,c){var u=o.getText(),h=o.getEntityAt(a);s.push({offset:n(u.slice(0,a)),length:n(u.slice(a,c)),key:Number(i[e.stringify(h)])})}),s}return vT=r,vT}var yT,wV;function Dfe(){if(wV)return yT;wV=1;var e=fd(),t=lg(),n=function(c,u){return c===u},r=function(c){return!!c},o=[];function i(a,c,u){var h=[],f=c.map(function(g){return g.has(u)}).toList();return t(f,n,r,function(g,m){var y=a.getText();h.push({offset:e.strlen(y.slice(0,g)),length:e.strlen(y.slice(g,m)),style:u})}),h}function s(a){var c=a.getCharacterList().map(function(h){return h.getStyle()}).toList(),u=c.flatten().toSet().map(function(h){return i(a,c,h)});return Array.prototype.concat.apply(o,u.toJS())}return yT=s,yT}var bT,SV;function Afe(){if(SV)return bT;SV=1;function e(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){t(m,S,b[S])})}return m}function t(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}var n=cd(),r=As(),o=yV(),i=kfe(),s=Dfe(),a=tr(),c=function(y,b){return{key:y.getKey(),text:y.getText(),type:y.getType(),depth:y.getDepth(),inlineStyleRanges:s(y),entityRanges:i(y,b),data:y.getData().toObject()}},u=function(y,b,v,S){if(y instanceof n){v.push(c(y,b));return}y instanceof r||a(!1);var E=y.getParentKey(),T=S[y.getKey()]=e({},c(y,b),{children:[]});if(E){S[E].children.push(T);return}v.push(T)},h=function(y,b){var v=b.entityMap,S=[],E={},T={},R=0;return y.getBlockMap().forEach(function(M){M.findEntityRanges(function(I){return I.getEntity()!==null},function(I){var N=M.getEntityAt(I),P=o.stringify(N);T[P]||(T[P]=N,v[P]="".concat(R),R++)}),u(M,v,S,E)}),{blocks:S,entityMap:v}},f=function(y,b){var v=b.blocks,S=b.entityMap,E={};return Object.keys(S).forEach(function(T,R){var M=y.getEntity(o.unstringify(T));E[R]={type:M.getType(),mutability:M.getMutability(),data:M.getData()}}),{blocks:v,entityMap:E}},g=function(y){var b={entityMap:{},blocks:[]};return b=h(y,b),b=f(y,b),b};return bT=g,bT}var wT,CV;function Lfe(){if(CV)return wT;CV=1;function e(c){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?arguments[u]:{},f=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(h).filter(function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),f.forEach(function(g){t(c,g,h[g])})}return c}function t(c,u,h){return u in c?Object.defineProperty(c,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[u]=h,c}var n=el(),r=tr(),o=function(u,h){for(var f=[].concat(u).reverse();f.length;){var g=f.pop();h(g);var m=g.children;Array.isArray(m)||r(!1),f=f.concat([].concat(m.reverse()))}},i=function(u){if(!(u&&u.type))return!1;var h=u.type;return h==="unordered-list-item"||h==="ordered-list-item"},s=function(u){Array.isArray(u.children)&&(u.children=u.children.map(function(h){return h.type===u.type?e({},h,{depth:(u.depth||0)+1}):h}))},a={fromRawTreeStateToRawState:function(u){var h=u.blocks,f=[];return Array.isArray(h)||r(!1),!Array.isArray(h)||!h.length?u:(o(h,function(g){var m=e({},g);i(g)&&(m.depth=m.depth||0,s(g),g.children!=null&&g.children.length>0)||(delete m.children,f.push(m))}),u.blocks=f,e({},u,{blocks:f}))},fromRawStateToRawTreeState:function(u){var h=[],f=[];return u.blocks.forEach(function(g){var m=i(g),y=g.depth||0,b=e({},g,{children:[]});if(!m){h.push(b);return}var v=f[0];if(v==null&&y===0)h.push(b);else if(v==null||v.depth<y-1){var S={key:n(),text:"",depth:y-1,type:g.type,children:[],entityRanges:[],inlineStyleRanges:[]};f.unshift(S),y===1?h.push(S):v?.children.push(S),S.children.push(b)}else if(v.depth===y-1)v.children.push(b);else{for(;v!=null&&v.depth>=y;)f.shift(),v=f[0];y>0?v.children.push(b):h.push(b)}}),e({},u,{blocks:h})}};return wT=a,wT}var ST,xV;function Nfe(){if(xV)return ST;xV=1,O1();var e={isValidBlock:function(n,r){var o=n.getKey(),i=n.getParentKey();if(i!=null){var s=r.get(i);if(!s.getChildKeys().includes(o))return!1}var a=n.getChildKeys().map(function(g){return r.get(g)});if(!a.every(function(g){return g.getParentKey()===o}))return!1;var c=n.getPrevSiblingKey();if(c!=null){var u=r.get(c);if(u.getNextSiblingKey()!==o)return!1}var h=n.getNextSiblingKey();if(h!=null){var f=r.get(h);if(f.getPrevSiblingKey()!==o)return!1}return!(h!==null&&c!==null&&c===h||n.text!=""&&n.getChildKeys().size>0)},isConnectedTree:function(n){var r=n.toArray().filter(function(m){return m.getParentKey()==null&&m.getPrevSiblingKey()==null});if(r.length!==1)return!1;for(var o=r.shift(),i=0,s=o.getKey(),a=[];s!=null;){var c=n.get(s),u=c.getChildKeys(),h=c.getNextSiblingKey();if(u.size>0){h!=null&&a.unshift(h);var f=u.map(function(m){return n.get(m)}),g=f.find(function(m){return m.getPrevSiblingKey()==null});if(g==null)return!1;s=g.getKey()}else c.getNextSiblingKey()!=null?s=c.getNextSiblingKey():s=a.shift();i++}return i===n.size},isValidTree:function(n){var r=this,o=n.toArray();return o.every(function(i){return r.isValidBlock(i,n)})?this.isConnectedTree(n):!1}};return ST=e,ST}var CT,_V;function Bfe(){if(_V)return CT;_V=1;var e=Ds(),t=Qn(),n=t.List;function r(o,i){var s=o.map(function(a,c){var u=i[c];return e.create({style:a,entity:u})});return n(s)}return CT=r,CT}var xT,EV;function Ffe(){if(EV)return xT;EV=1;var e=fd(),t=e.substr;function n(r,o){var i=Array(r.length).fill(null);return o&&o.forEach(function(s){for(var a=t(r,0,s.offset).length,c=a+t(r,s.offset,s.length).length,u=a;u<c;u++)i[u]=s.key}),i}return xT=n,xT}var _T,TV;function jfe(){if(TV)return _T;TV=1;var e=fd(),t=Qn(),n=t.OrderedSet,r=e.substr,o=n();function i(s,a){var c=Array(s.length).fill(o);return a&&a.forEach(function(u){for(var h=r(s,0,u.offset).length,f=h+r(s,u.offset,u.length).length;h<f;)c[h]=c[h].add(u.style),h++}),c}return _T=i,_T}var ET,MV;function Vfe(){if(MV)return ET;MV=1;function e(B){for(var U=1;U<arguments.length;U++){var q=arguments[U]!=null?arguments[U]:{},W=Object.keys(q);typeof Object.getOwnPropertySymbols=="function"&&(W=W.concat(Object.getOwnPropertySymbols(q).filter(function(V){return Object.getOwnPropertyDescriptor(q,V).enumerable}))),W.forEach(function(V){t(B,V,q[V])})}return B}function t(B,U,q){return U in B?Object.defineProperty(B,U,{value:q,enumerable:!0,configurable:!0,writable:!0}):B[U]=q,B}var n=cd(),r=As(),o=U_(),i=Yy(),s=Lfe();Nfe();var a=Xy(),c=Bfe(),u=Ffe(),h=jfe(),f=el(),g=Bc(),m=Qn(),y=tr(),b=g("draft_tree_data_support"),v=m.List,S=m.Map,E=m.OrderedMap,T=function(U,q){var W=U.key,V=U.type,Y=U.data,J=U.text,ne=U.depth,z={text:J,depth:ne||0,type:V||"unstyled",key:W||f(),data:S(Y),characterList:R(U,q)};return z},R=function(U,q){var W=U.text,V=U.entityRanges,Y=U.inlineStyleRanges,J=V||[],ne=Y||[];return c(h(W,ne),u(W,J.filter(function(z){return q.hasOwnProperty(z.key)}).map(function(z){return e({},z,{key:q[z.key]})})))},M=function(U){return e({},U,{key:U.key||f()})},I=function(U,q,W){var V=q.map(function(Y){return e({},Y,{parentRef:W})});return U.concat(V.reverse())},N=function(U,q){return U.map(M).reduce(function(W,V,Y){Array.isArray(V.children)||y(!1);var J=V.children.map(M),ne=new r(e({},T(V,q),{prevSibling:Y===0?null:U[Y-1].key,nextSibling:Y===U.length-1?null:U[Y+1].key,children:v(J.map(function(Me){return Me.key}))}));W=W.set(ne.getKey(),ne);for(var z=I([],J,ne);z.length>0;){var K=z.pop(),Z=K.parentRef,le=Z.getChildKeys(),ce=le.indexOf(K.key),ue=Array.isArray(K.children);if(!ue){ue||y(!1);break}var ae=K.children.map(M),ye=new r(e({},T(K,q),{parent:Z.getKey(),children:v(ae.map(function(Me){return Me.key})),prevSibling:ce===0?null:le.get(ce-1),nextSibling:ce===le.size-1?null:le.get(ce+1)}));W=W.set(ye.getKey(),ye),z=I(z,ae,ye)}return W},E())},P=function(U,q){return E(U.map(function(W){var V=new n(T(W,q));return[V.getKey(),V]}))},L=function(U,q){var W=U.blocks.find(function(J){return Array.isArray(J.children)&&J.children.length>0}),V=b&&!W?s.fromRawStateToRawTreeState(U).blocks:U.blocks;if(!b)return P(W?s.fromRawTreeStateToRawState(U).blocks:V,q);var Y=N(V,q);return Y},D=function(U){var q=U.entityMap,W={};return Object.keys(q).forEach(function(V){var Y=q[V],J=Y.type,ne=Y.mutability,z=Y.data;W[V]=i.__create(J,ne,z||{})}),W},$=function(U){Array.isArray(U.blocks)||y(!1);var q=D(U),W=L(U,q),V=W.isEmpty()?new a:a.createEmpty(W.first().getKey());return new o({blockMap:W,entityMap:q,selectionBefore:V,selectionAfter:V})};return ET=$,ET}var TT,OV;function $fe(){if(OV)return TT;OV=1;var e=Pj();function t(n){var r=e(n),o=0,i=0,s=0,a=0;if(r.length){if(r.length>1&&r[0].width===0){var c=r[1];o=c.top,i=c.right,s=c.bottom,a=c.left}else{var u=r[0];o=u.top,i=u.right,s=u.bottom,a=u.left}for(var h=1;h<r.length;h++){var f=r[h];f.height!==0&&f.width!==0&&(o=Math.min(o,f.top),i=Math.max(i,f.right),s=Math.max(s,f.bottom),a=Math.min(a,f.left))}}return{top:o,right:i,bottom:s,left:a,width:i-a,height:s-o}}return TT=t,TT}var MT,RV;function zfe(){if(RV)return MT;RV=1;var e=$fe();function t(n){var r=n.getSelection();if(!r.rangeCount)return null;var o=r.getRangeAt(0),i=e(o),s=i.top,a=i.right,c=i.bottom,u=i.left;return s===0&&a===0&&c===0&&u===0?null:i}return MT=t,MT}var OT,IV;function Ufe(){if(IV)return OT;IV=1;var e=ghe(),t=ag(),n=Ds(),r=mhe(),o=cd(),i=U_(),s=rE(),a=AB(),c=Ife(),u=WF(),h=Yy(),f=Ai(),g=hB(),m=Lr(),y=N1(),b=Pfe(),v=oV(),S=Xy(),E=Afe(),T=Vfe(),R=el(),M=fV(),I=zfe(),N=eV(),P={Editor:c,EditorBlock:u,EditorState:m,CompositeDecorator:r,Entity:h,EntityInstance:g,BlockMapBuilder:t,CharacterMetadata:n,ContentBlock:o,ContentState:i,RawDraftContentState:b,SelectionState:S,AtomicBlockUtils:e,KeyBindingUtil:y,Modifier:f,RichUtils:v,DefaultDraftBlockRenderMap:s,DefaultDraftInlineStyle:a,convertFromHTML:N,convertFromRaw:T,convertToRaw:E,genKey:R,getDefaultKeyBinding:M,getVisibleSelectionRect:I};return OT=P,OT}var Ls=Ufe();const PV=Lp[0],RT=16,kV="#000000",DV=["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH"];let Hfe=0;function AV(e,t){return{type:"unstyled",depth:0,key:"block"+ ++Hfe,entityRanges:[],inlineStyleRanges:t,text:e}}function IT(e,t){const n=e+"_";return t.startsWith(n)?t.split("_")[1]:null}function PT(e,t){const n=e+"_";return t.find(r=>!!r&&r.startsWith(n))?.split("_")[1]||null}function Gfe(e){const t=[];let n="",r=[];for(const o of e.parts){const i=BC(o.fgcolor),{fontFamily:s,style:a,size:c,name:u}=o.font,h=u==="Symbol",f=a&1,g=a&2,m=a&4,y=a&8,b=[`color_${i}`,`fontSize_${c||RT}px`,`fontFamily_${s}`];f&&b.push("ITALIC"),g&&b.push("UNDERLINE"),m&&b.push("STRIKETHROUGH"),y&&b.push("BOLD");let v=!1;for(const S of o.string.text.split(`\r
`).join(`
`).split(`
`)){const E=h?UC(S):S;if(v&&(t.push(AV(n,r)),n="",r=[]),v=!0,!E)continue;const T=n.length,R=E.length;b.forEach(M=>r.push({offset:T,length:R,style:M})),n+=E}}return n&&t.push(AV(n,r)),{blocks:t,entityMap:{}}}function Wfe(e,{blocks:t}){const{scene:n}=e,r=[];let o=null;for(let i=0;i<t.length;++i){const{text:s,inlineStyleRanges:a}=t[i];for(let c=0;c<s.length;++c){let u=!1,h=!1,f=!1,g=!1,m=0,y=0,b="";for(const S of a){if(c<S.offset||c>=S.offset+S.length)continue;const E=S.style;let T;E==="BOLD"?u=!0:E==="ITALIC"?h=!0:E==="STRIKETHROUGH"?f=!0:E==="UNDERLINE"?g=!0:(T=IT("color",E))?m||=FC(T):(T=IT("fontSize",E))?y||=parseInt(T):(T=IT("fontFamily",E))&&(b||=T)}const v=(h?1:0)|(g?2:0)|(f?4:0)|(u?8:0);(!o||o.fgcolor!==m||o.font.size!==y||o.font.style!==v||o.font.name!==b)&&(o={fgcolor:m,string:n.string(""),font:n.font({size:y,style:v,name:b})},r.push(e.createPart(o,!0))),o.string.set({text:o.string.text+s[c]})}i!==t.length-1&&(o?o.string.set({text:o.string.text+`\r
`}):(o={string:n.string(`\r
`),font:n.font()},r.push(e.createPart(o,!0))))}e.set({parts:r})}function kT(e,t,n){const r=t+"_",o=r+n,i=e.getSelection(),s=e.getCurrentInlineStyle(),a=f=>!!f&&f.startsWith(r);if(i.isCollapsed())return Ls.EditorState.setInlineStyleOverride(e,s.filter(f=>!a(f)).toSet().add(o));let c=e.getCurrentContent();const u=s.filter(a).toArray();let h;for(;h=u.pop();)c=Ls.Modifier.removeInlineStyle(c,i,h);return c=Ls.Modifier.applyInlineStyle(c,i,o),Ls.EditorState.push(e,c,"change-inline-style")}class Kfe{constructor(t,n){this.isClosed=!1,this.fontDecorations=[],this.fontSize=RT.toString(),this.fontColor=kV,this.fontName=PV,this.text=n,this.state=Ls.EditorState.createWithContent(Ls.convertFromRaw(Gfe(n))),vt(this,{isClosed:Pe.ref,state:Pe.ref,fontDecorations:Pe.ref,fontSize:Pe.ref,fontColor:Pe.ref,fontName:Pe.ref,setState:be,set:be,applyAndClose:be,close:be})}setState(t){this.state=t;const n=t.getCurrentInlineStyle();if(!n)return;this.fontDecorations=DV.filter(o=>n.has(o)),this.fontName=PT("fontFamily",n)||PV,this.fontColor=PT("color",n)||kV;const r=PT("fontSize",n);this.fontSize=(r&&parseInt(r)||RT).toString()}set({fontDecorations:t=this.fontDecorations,fontSize:n=this.fontSize,fontColor:r=this.fontColor,fontName:o=this.fontName}){let{state:i}=this;const s=i.getCurrentInlineStyle();for(const a of DV){const c=t.includes(a),u=s.has(a);c!==u&&(i=Ls.RichUtils.toggleInlineStyle(i,a))}i=kT(i,"fontSize",n+"px"),i=kT(i,"color",r),i=kT(i,"fontFamily",o),this.state=i,this.fontDecorations=t,this.fontSize=n,this.fontColor=r,this.fontName=o}applyAndClose(){const t=Ls.convertToRaw(this.state.getCurrentContent());if(t.blocks.length!==1||t.blocks[0].text){const{text:n}=this;Wfe(n,t)}this.isClosed=!0}close(){this.isClosed=!0}}class pd{constructor(t,n,{key:r,data:o}){this.scene=t,this.m=n,this.subs=new Set,this.key=r||Ts.freeKey(n),this.key>0&&this.m.set(this.key,this),this.data=o?{...o}:{}}delete(){return this.subs.size?!1:(this.key>0&&this.m.delete(this.key),this.key=0,!0)}toJSON(){const{key:t,data:n}=this;let r;for(const o in n){const i=n[o];typeof i<"u"&&((r||={})[o]=i)}return r?{key:t,data:r}:{key:t}}}class Gh extends pd{constructor(t,n){super(t,t.objects,n),this.parent=null,this._deletedByParent=!1;const{x:r,y:o,width:i,height:s,attrib:a}=n;this.x=r??0,this.y=o??0,this.width=i??0,this.height=s??0,this.attrib=a??0}delete(){if(super.delete(),this._deletedByParent)return!0;const{parent:t,scene:n}=this;return t?.set({children:t.children.filter(r=>r.key)}),n.set({order:n.order.filter(r=>r.key)}),!0}set(t){const{attrib:n,x:r,y:o,width:i,height:s}=t;this.attrib=n??this.attrib;let a=!1;{const c=(r??this.x)-this.x,u=(o??this.y)-this.y;(c!==0||u!==0)&&(this._onMoved(c,u),a=!0)}if(i||s){const c=this.width||1,u=this.height||1,h=i&&i>0?i:c,f=s&&s>0?s:u,g=h/c,m=f/u;(g!==1||m!==1)&&(this._onResized(this.x,this.y,g,m),a=!0)}return a&&this.parent?._childChanged(),this}rotate(t,{x:n,y:r}={x:this.x,y:this.y}){return t===0?this:(this._onRotated(n,r,t),this.parent?._childChanged(),this)}isVisible(){const t=this.attrib;return t&Ll?!0:!(t&za||1<<Wu(t)&this.scene.hiddenLayers)}updateBBox(t,n,r,o){this.x=t,this.y=n,this.width=r,this.height=o}_onMoved(t,n){this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,o){const i=t+(this.x-t)*r,s=n+(this.y-n)*o,a=(this.width||1)*r,c=(this.height||1)*o;this.updateBBox(i,s,a,c)}_onRotated(t,n,r){const o=Math.sin(r),i=Math.cos(r),s=this.x-t,a=this.y-n,c=s*i-a*o+t,u=s*o+a*i+n;this.updateBBox(c,u,this.width,this.height)}toJSON(){const{attrib:t,height:n,width:r,x:o,y:i}=this;return{...super.toJSON(),attrib:t,height:n,width:r,x:o,y:i}}toString(){return"Графический элемент"}}class qfe extends Gh{constructor(t,n,r){super(t,r),this.type="group",this.children=[],this.set({...r,children:n})}delete(t){return this.children.forEach(n=>{n._deletedByParent=!0,n.delete(t)}),super.delete()}set(t,n){typeof t.children<"u"&&(this.children.forEach(o=>o.parent=null),this.children=t.children,this.children.forEach(o=>o.parent=this),this.children.length>0?this._childChanged():(this.updateBBox(this.x,this.y,0,0),this.parent?._childChanged()));const{attrib:r}=t;return typeof r<"u"&&!n&&this.children.forEach(o=>o.set({attrib:r})),super.set(t)}_childChanged(){let t=1/0,n=-1/0,r=1/0,o=-1/0;this.children.forEach(i=>{t=Math.min(t,i.x),r=Math.min(r,i.y),n=Math.max(n,i.x+i.width),o=Math.max(o,i.y+i.height)}),this.updateBBox(t,r,n-t,o-r),this.parent?._childChanged()}_onMoved(t,n){if(this.children.length===0){super._onMoved(t,n);return}this.children.forEach(r=>r._onMoved(t,n)),this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,o){if(this.children.length===0){super._onResized(t,n,r,o);return}let i=1/0,s=-1/0,a=1/0,c=-1/0;this.children.forEach(u=>{u._onResized(t,n,r,o),i=Math.min(i,u.x),a=Math.min(a,u.y),s=Math.max(s,u.x+u.width),c=Math.max(c,u.y+u.height)}),this.updateBBox(i,a,s-i,c-a)}_onRotated(t,n,r){if(this.children.length===0){super._onRotated(t,n,r);return}let o=1/0,i=-1/0,s=1/0,a=-1/0;this.children.forEach(c=>{c._onRotated(t,n,r),o=Math.min(o,c.x),s=Math.min(s,c.y),i=Math.max(i,c.x+c.width),a=Math.max(a,c.y+c.height)}),this.updateBBox(o,s,i-o,a-s)}*descendants(t){for(const n of this.children)t&&n.key<=0||(n.type==="group"&&(yield*n.descendants(t)),yield n)}toJSON(){const{type:t}=this,{x:n,y:r,width:o,height:i,...s}=super.toJSON(),a=this.children.filter(c=>c.key>0).map(c=>c.key);return{...s,type:t,children:a}}toString(){return"Группа"}}class LV{constructor(){this.type="scene",this.onInputChanged=new pa,this.objects=new Map,this.pens=new Map,this.brushes=new Map,this.images=new Map,this.imagesOpaque=new Map,this.strings=new Map,this.fonts=new Map,this.texts=new Map,this.x=0,this.y=0,this.order=[],this.background=null,this.hiddenLayers=0,this.grid=null,this.selectUnselectable=!1,this.disableInputs=!1}set({x:t=this.x,y:n=this.y,order:r=this.order,hiddenLayers:o=this.hiddenLayers,selectUnselectable:i=this.selectUnselectable,disableInputs:s=this.disableInputs,grid:a=this.grid,background:c=this.background}){return this.background!==c&&(this.background?.subs.delete(this),this.background=c,this.background?.subs.add(this)),this.x=Math.round(t),this.y=Math.round(n),this.order=r,this.hiddenLayers=o,this.selectUnselectable=i,this.disableInputs=s,this.grid=a,this}pick(t,n){const{order:r,hiddenLayers:o,selectUnselectable:i}=this;for(let s=r.length-1;s>=0;--s){const a=r[s],c=a.attrib,u=c&za,h=c&Ll,f=c&Es,g=c&Mp,m=Wu(c);if(u||g&&!i||!h&&1<<m&o||f)continue;let y=t-a.x,b=n-a.y,v=0;if(a.type==="line"){if(a.pen)v=a.pen.width/2||.5;else if(!a.brush)continue;v=Math.max(v,4)}else if(a.type==="textView"||a.type==="imageView"){const S=Math.sin(-a.angle),E=Math.cos(-a.angle),T=y*E-b*S,R=y*S+b*E;y=T,b=R}if(!(y<-v||y>a.width+v||b<-v||b>a.height+v)&&!(a.type==="line"&&!a.inside(y,b,v)))return a}return null}fromJSON(t){this.set({...t,background:void 0,order:void 0}).merge(t,"exact");const n=t.background&&this.brushes.get(t.background);n&&this.set({background:n})}toJSON(){const{background:t,x:n,y:r,hiddenLayers:o,selectUnselectable:i,grid:s,pens:a,brushes:c,images:u,imagesOpaque:h,fonts:f,strings:g,texts:m,objects:y,order:b}=this;return{background:t?.key,x:n,y:r,hiddenLayers:o,selectUnselectable:i,grid:s,pens:[...a.values()].map(v=>v.toJSON()),brushes:[...c.values()].map(v=>v.toJSON()),images:[...u.values()].map(v=>v.toJSON()),imagesOpaque:[...h.values()].map(v=>v.toJSON()),fonts:[...f.values()].map(v=>v.toJSON()),strings:[...g.values()].map(v=>v.toJSON()),texts:[...m.values()].map(v=>v.toJSON()),objects:[...y.values()].map(v=>v.toJSON()),order:b.filter(v=>v.key>0).map(v=>v.key)}}merge(t,n="free",r){const o=n==="free"?0:-1;function i(P,L){return n==="exact"?L?{...P,...L}:P:{...P,...L,key:o}}const s=t.pens?.map(P=>[P.key,this.pen(i(P))]),a=t.images?.map(P=>[P.key,this.image(P,i(P))]),c=t.imagesOpaque?.map(P=>[P.key,this.image(P,i(P,{opaque:!0}))]),u=t.fonts?.map(P=>[P.key,this.font(i(P))]),h=t.strings?.map(P=>[P.key,this.string(P.text||"",i(P))]),f=s?new Map(s):this.pens,g=a?new Map(a):this.images,m=c?new Map(c):this.imagesOpaque,y=u?new Map(u):this.fonts,b=h?new Map(h):this.strings,v=t.brushes?.map(P=>{const L=P.image&&m.get(P.image)||null;return[P.key,this.brush(i(P,{image:L}))]}),S=v?new Map(v):this.brushes,E=t.texts?.map(P=>{const L=P.parts.map((D,$)=>{const B=y.get(D.font)||Fc(`Текст #${P.key}[${$}]: Шрифт #${D.font} не существует`),U=b.get(D.string)||Fc(`Текст #${P.key}[${$}]: Строка #${D.string} не существует`);return{...D,font:B,string:U}});return[P.key,this.text(L,i(P))]}),T=E?new Map(E):this.texts,R=[],M=t.objects?.map(P=>{switch(P.type){case"line":{const L=P.pen&&f.get(P.pen)||null,D=P.brush&&S.get(P.brush)||null;return[P.key,this.line(P.coords,i(P,{pen:L,brush:D}))]}case"imageView":{const D=(P.opaque?m:g).get(P.image)||Fc(`ImageView (opaque: ${P.opaque}) #${P.key}: Изображение #${P.image} не существует`);return[P.key,this.imageView(D,i(P))]}case"textView":{const L=T.get(P.text)||Fc(`TextView #${P.key}: Текст #${P.text} не существует`);return[P.key,this.textView(L,i(P))]}case"input":{const L=P.font&&y.get(P.font)||null;return[P.key,this.input(P.inputType,i(P,{font:L}))]}case"videoView":return[P.key,this.video(P.src,i(P))];case"group":{const L=this.group([],i(P));return R.push({g:L,o:P}),[P.key,L]}case"3dView":throw Error(`Объект #${P.key} является 3D проекцией. Они еще не реализованы.`)}}),I=new Map(M);for(const{g:P,o:L}of R){const D=L.children.map($=>I.get($)||Fc(`Группа #${P.key}: Объект #${$} не существует.`));P.set({children:D})}const N=t.order?.map(P=>{const L=I.get(P)||Fc(`Объект #${P} не существует и не может быть отображен.`);return L.type==="group"&&Fc(`Объект #${P} является группой и не может быть отображен.`),L});return!r&&N?.length&&this.set({order:this.order.concat(N)}),{objects:I,brushes:S,fonts:y,images:g,imagesOpaque:m,pens:f,strings:b,texts:T,order:N||[]}}_exist(t,n){return n&&n.key&&n.key>0&&t.get(n.key)}_not(t,n){return n&&n.key&&n.key>0&&t.get(n.key)&&Fc(`Объект #${n.key} уже существует`),!0}group(t,n={}){return this._not(this.objects,n)&&new qfe(this,t,n)}line(t,n){return this._not(this.objects,n)&&this._line(t,n)}imageView(t,n){return this._not(this.objects,n)&&this._imageView(t,n)}textView(t,n){return this._not(this.objects,n)&&this._textView(t,n)}input(t,n){return this._not(this.objects,n)&&this._input(t,n)}video(t,n){return this._not(this.objects,n)&&this._video(t,n)}pen(t){return this._exist(this.pens,t)||this._pen(t)}brush(t){return this._exist(this.brushes,t)||this._brush(t)}image(t,n){return this._exist(n?.opaque?this.imagesOpaque:this.images,n)||this._image(t,n)}string(t,n){return this._exist(this.strings,n)||this._string(t,n)}font(t){return this._exist(this.fonts,t)||this._font(t)}text(t,n){return this._exist(this.texts,n)||this._text(t,n)}}function Fc(e){throw Error(e)}class NV extends pd{constructor(t,n){super(t,t.brushes,n),this.type="brush",this.color=0,this.style=0,this.rop=0,this.hatch=0,this.image=null,this.set(n)}set({color:t=this.color,hatch:n=this.hatch,image:r=this.image,rop:o=this.rop,style:i=this.style}){let s=!1;return this.image!==r&&(this.image?.subs.delete(this),this.image=r,this.image?.subs.add(this),s=!0),(this.color!==t||this.style!==i||this.rop!==o||this.hatch!==n)&&(this.color=t,this.style=i,this.rop=o,this.hatch=n,s=!0),s&&this.subs.forEach(a=>a._onBrushPropsChanged()),this}toJSON(){const{color:t,hatch:n,image:r,rop:o,style:i}=this;return{...super.toJSON(),color:t,hatch:n,image:r?.key,rop:o,style:i}}delete(t){if(!super.delete())return!1;const{image:n}=this;return n&&(n.subs.delete(this),t||n.delete()),!0}}const Yfe=9,Xfe=10,Zfe=0,Jfe=1,Qfe=3;class epe extends NV{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Gu(this._color=this.color):this._cssColor}blend(){switch(this.rop){case Yfe:return"multiply";case Xfe:return"multiply";default:return null}}fill(){switch(this.style){case Zfe:return this.cssColor();case Jfe:return null;case Qfe:return this.image?.pattern()??"black";default:return"white"}}}const tpe=Lp.map(e=>e.toUpperCase());function npe(e){if(!e)return Lp[0];if(e==="Symbol")return"Times New Roman";const t=e.toUpperCase(),n=t.endsWith(" CYR")?t.slice(0,-4):t;return Lp[Math.max(tpe.indexOf(n),0)]}class BV extends pd{constructor(t,n){super(t,t.fonts,n),this.name="",this.size=0,this.style=0,this._fontFamily="",this.set(n)}get fontFamily(){return this._fontFamily||=npe(this.name)}set({name:t=this.name,size:n=this.size,style:r=this.style}){let o=!0;return this.name!==t&&(this.name=t,this._fontFamily="",o=!0),(this.size!==n||this.style!==r)&&(this.size=n,this.style=r,o=!0),o&&(this.onPropsChanged(),this.subs.forEach(i=>i._onFontPropsChanged())),this}toJSON(){const{name:t,size:n,style:r}=this;return{...super.toJSON(),name:t,size:n,style:r}}}class rpe extends BV{constructor(){super(...arguments),this._size=NaN,this._style=NaN,this._family="",this._textDecoration="",this._fontStyle="",this._fontWeight="",this._css=this.css(),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,size:n,style:r}=this;return this.inputCssFont=`${r&Op?"bold":"normal"} ${r&Gv?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?UC(t):t}css(){const{fontFamily:t,size:n,style:r}=this;let o=!1;if(this._style!==r){this._style=r,o=!0;const i=r&Gv,s=r&hk,a=r&fk,c=r&Op;this._textDecoration=`${s?"underline":""} ${a?"line-through":""}`,this._fontStyle=i?"italic":"normal",this._fontWeight=c?"bold":"normal"}return this._family!==t&&(this._family=t,o=!0),this._size!==n&&(this._size=n,o=!0),o?this._css={isSymbolFont:this.name==="Symbol",fontFamily:this._family,textDecoration:this._textDecoration,fontSize:n||15.940224159402327,fontStyle:this._fontStyle,fontWeight:this._fontWeight}:this._css}onPropsChanged(){this.inputCssFont=""}}class FV extends pd{constructor(t,{width:n,height:r,src:o},i){super(t,i.opaque?t.imagesOpaque:t.images,i),this.width=n,this.height=r,this.src=o}toJSON(){const{height:t,src:n,width:r}=this;return{...super.toJSON(),height:t,src:n,width:r}}}let ope=0;class ipe extends FV{constructor(t,n,r){super(t,n,r),this._pattern=null,this.resolvedSrc=Xi(this.src)}getPixel(){return 0}setPixel(){return!0}pattern(){if(this._pattern)return this._pattern.url;const t=document.createElementNS("http://www.w3.org/2000/svg","pattern"),n=`pattern_${++ope}`;t.setAttribute("id",n),t.setAttribute("patternUnits","userSpaceOnUse"),t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString());const r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttribute("href",this.resolvedSrc),t.appendChild(r),this.scene._defs.appendChild(t);const o=`url(#${n})`;return this._pattern={e:t,url:o},o}}class jV extends Gh{constructor(t,n,r){const o={...r,width:r.width??n.width,height:r.height??n.height,image:n};super(t,o),this.image=n,this.type="imageView",this.area=null,this.opaque=r.opaque??!1,n.subs.add(this),this.angle=r.angle||0,this.set(o)}set({area:t=this.area,image:n=this.image,...r}){return this.image!==n&&(this.image.subs.delete(this),this.image=n,this.image.subs.add(this)),this.area=t,super.set(r)}_onRotated(t,n,r){super._onRotated(t,n,r),this.angle+=r}toJSON(){const{image:t,area:n,opaque:r,type:o,angle:i}=this;return{...super.toJSON(),type:o,image:t.key,area:n,opaque:r,angle:i}}delete(t){const{image:n}=this;return n.subs.delete(this),t||n.delete(),super.delete()}toString(){return"Картинка"}}class spe extends jV{constructor(t,n,r){super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","image"),this._visible=!0,this._src=null,this._area=null,this._x=0,this._y=0,this._w=0,this._h=0,this._angle=0,this.clipRect=null,this.hasArea=!0,this._svg.setAttribute("preserveAspectRatio","none")}_render(){const t=this.attrib,n=t&za,r=Wu(t),o=!(n||1<<r&this.scene.hiddenLayers);if(this._visible!==o&&(this._visible=o,o?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!o)return;const i=this.image,s=this._src!==i.resolvedSrc;s&&this._svg.setAttribute("href",this._src=i.resolvedSrc);const a=this.area,c=!!a,u=this.hasArea!==c;this.hasArea=c;const h=this._area!==a||s;if(h){this._area=a;const v=i.width,S=i.height;if(a){const E=Math.min(Math.max(a.x,0),v),T=Math.min(Math.max(a.y,0),S),R=Math.min(Math.max(a.w,0),v-E),M=Math.min(Math.max(a.h,0),S-T);if(!this.clipRect){const{id:N,rect:P}=this.scene._createClipRect();this._svg.setAttribute("clip-path",`url(#${N})`),this.clipRect=P}const{clipRect:I}=this;I.setAttribute("x",E.toString()),I.setAttribute("y",T.toString()),I.setAttribute("width",R.toString()),I.setAttribute("height",M.toString())}else this._svg.removeAttribute("clip-path"),this.clipRect?.remove(),this.clipRect=null}const f=this.x-this.scene.x,g=this.y-this.scene.y,m=this.width,y=this.height,b=this.angle;if(f!==this._x||g!==this._y||this._w!==m||this._h!==y||this._angle!==b||h){const{area:v}=this;this._x=f,this._y=g,this._w=m,this._h=y,this._angle=b;let S=`translate(${f}, ${g}),rotate(${b*180/Math.PI})`;v?S+=`scale(${m/v.w}, ${y/v.h}), translate(${-v.x}, ${-v.y})`:(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())),this._svg.setAttribute("transform",S),u&&(c?(this._svg.removeAttribute("width"),this._svg.removeAttribute("height")):(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())))}}}const ape=4;class VV extends Gh{constructor(t,n,r){super(t,r),this.inputType=n,this.type="input",this.value="",this.style=0,this.font=null,this.set(r)}get isMultiline(){return!!(this.style&ape)}set({value:t=this.value,style:n=this.style,font:r=this.font,...o}){return this.value!==t&&(this.value=t,this.isMultiline?this.value=this.value:t=t.replace(/[\r\n]/g,"")),this.font!==r&&(this.font?.subs.delete(this),this.font=r,this.font?.subs.add(this)),this.style=n,super.set(o)}toJSON(){const{inputType:t,style:n,font:r,type:o,value:i}=this;return{...super.toJSON(),type:o,inputType:t,exStyle:0,font:r?.key,style:n,value:i}}delete(t){const{font:n}=this;return n&&(n.subs.delete(this),t||n.delete()),super.delete()}toString(){return`Элемент интерфейса '${this.inputType}'`}}const gd={"jf-scene":"Lub8lEDq","jf-input":"_3Au4Qe-K","jf-video":"uvJsh9bM","disable-inputs":"pQtj-s3j",multiline:"_3YpK1pvi",border:"_3n6h0K3a"},lpe=64,cpe=128,upe=8388608;class dpe extends VV{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:o=0}=r;let i;n==="Button"?(i=document.createElement("input"),i.type="button",i.addEventListener("click",this)):(i=document.createElement("textarea"),i.addEventListener("input",this)),i.className=gd["jf-input"],i.spellcheck=!1,i.name=`jf-${this.key}`,o&upe&&i.classList.add(gd.border),this.isMultiline&&i.classList.add(gd.multiline),i.addEventListener("focus",this),i.addEventListener("blur",this),this._html=i}focus(){this._html.focus()}handleEvent(t){const{scene:n,_html:r,style:o}=this;if(t.type==="input"){if(!(o&cpe)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(o&lpe)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this._html.value=this._value=this.value);const o=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y),s=Math.round(this.width),a=Math.round(this.height);this._x!==o&&n.setProperty("left",(this._x=o).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==a&&n.setProperty("height",(this._h=a).toString()+"px")}_onFontPropsChanged(){}}class $V extends Gh{constructor(t,n,r){super(t,r),this.type="line",this.pen=null,this.brush=null,this.start=null,this.end=null,this.setCoords(n).set(r)}get length(){return this.coords.length/2}set({pen:t=this.pen,brush:n=this.brush,start:r=this.start,end:o=this.end,...i}){let s=!1;return this.pen!==t&&(this.pen?.subs.delete(this),this.pen=t,this.pen?.subs.add(this),s=!0),this.brush!==n&&(this.brush?.subs.delete(this),this.brush=n,this.brush?.subs.add(this),s=!0),(this.start!==r||this.end!==o)&&(this.start=r,this.end=o,s=!0),s&&this.onPropsChanged(),super.set(i)}addPoint({x:t,y:n},r=this.length){const o=r*2,i=this.coords,s=t-this.x,a=n-this.y;return o<0||o>=i.length?i.push(s,a):i.splice(o,0,s,a),this._pointCountChanged(),!0}point(t){const n=t*2,r=this.coords;return n>=0&&n<r.length?{x:r[n]+this.x,y:r[n+1]+this.y}:null}setPoint(t,{x:n,y:r}){const o=t*2,i=this.coords;return o<0||o>=i.length?!1:(i[o+0]=n-this.x,i[o+1]=r-this.y,this._pointCountChanged(),!0)}removePoint(t){const n=t*2,r=this.coords;return r.length<=2||n<0||n>=r.length?!1:(r.splice(n,2),this._pointCountChanged(),!0)}setCoords(t){if(!t.length||t.length%2)throw Error("Количество координат должно быть четным.");return this.x=0,this.y=0,this.coords=t.slice(),this._pointCountChanged(),this}getIntersectionIndex(t,n){const{coords:r,brush:o,pen:i}=this;let s=0;return i&&(s=i.width/2||.5),s=Math.max(s,4),mk(r,!!o,s,t,n)}inside(t,n,r){const{coords:o,brush:i}=this;return i&&hq(o,t,n)||mk(o,!!i,r,t,n)!==-1}_pointCountChanged(){const t=this.coords;let n=t[0],r=t[1],o=n,i=r;for(let s=2;s<t.length;s+=2){const a=t[s+0],c=t[s+1];a<n&&(n=a),a>o&&(o=a),c<r&&(r=c),c>i&&(i=c)}if(n!==0||r!==0)for(let s=0;s<t.length;s+=2)t[s+0]-=n,t[s+1]-=r;this.updateBBox(this.x+n,this.y+r,o-n,i-r),this.parent?._childChanged(),this.onCoordsChanged()}_onResized(t,n,r,o){const i=this.coords;for(let c=0;c<i.length;c+=2)i[c+0]*=r,i[c+1]*=o;const s=t+(this.x-t)*r,a=n+(this.y-n)*o;this.updateBBox(s,a,this.width*r,this.height*o),this.onCoordsChanged()}_onRotated(t,n,r){const o=this.coords,i=t-this.x,s=n-this.y,a=Math.sin(r),c=Math.cos(r);let u=1/0,h=-1/0,f=1/0,g=-1/0;for(let m=0;m<o.length;m+=2){const y=o[m+0]-i,b=o[m+1]-s,v=y*c-b*a+i,S=y*a+b*c+s;o[m+0]=v,o[m+1]=S,v<u&&(u=v),v>h&&(h=v),S<f&&(f=S),S>g&&(g=S)}if(u!==0||f!==0)for(let m=0;m<o.length;m+=2)o[m+0]-=u,o[m+1]-=f;this.updateBBox(this.x+u,this.y+f,h-u,g-f),this.onCoordsChanged()}toJSON(){const{coords:t,brush:n,end:r,pen:o,start:i,type:s}=this;return{...super.toJSON(),type:s,coords:t.slice(),brush:n?.key,end:r,pen:o?.key,start:i}}delete(t){const{pen:n,brush:r}=this;return n&&(n.subs.delete(this),t||n.delete()),r&&(r.subs.delete(this),t||r.delete(t)),super.delete()}toString(){return"Полилиния"}}let hpe=0;function fpe(){const e=`mark_${++hpe}`,t=document.createElementNS("http://www.w3.org/2000/svg","marker");t.setAttribute("id",e),t.setAttribute("orient","auto"),t.setAttribute("refX","0");const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return t.appendChild(n),{shape:n,marker:t,id:e}}function zV(e,t,n,r){const o=n.width||1,i=n.stroke(),s=t.fill?i:null,a=t.fill?null:i;e.marker.setAttribute("markerWidth",(t.width+o).toString()),e.marker.setAttribute("markerHeight",(t.oy*2+o).toString()),r&&e.marker.setAttribute("refX",t.width.toString()),e.marker.setAttribute("refY",t.oy.toString()),e.marker.setAttribute("markerUnits","userSpaceOnUse"),e.shape.setAttribute("points",t.coords),e.shape.setAttribute("stroke-width",o.toString()),a?e.shape.setAttribute("stroke",a):e.shape.removeAttribute("stroke"),e.shape.setAttribute("fill",s||"none")}function UV(e,t){if(e.angle===0||e.length===0)return null;const n=Math.abs(e.length*Math.sin(e.angle)),r=Math.abs(e.length*Math.cos(e.angle)),o=t?[0,0,r,n,0,n*2]:[r,0,0,n,r,n*2];return{coords:HV(o),fill:e.fill??!1,width:r,oy:n}}function HV(e){let t="";for(let n=0;n<e.length;n+=2)t+=e[n]+","+e[n+1]+" ";return t}function GV(e){const t=document.createElementNS("http://www.w3.org/2000/svg",e);return t.setAttribute("fill-rule","evenodd"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t}class ppe extends $V{constructor(t,n,r){super(t,n,r),this._visible=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0,this.shouldUpdateCoords=!0,this._svg=GV(this._svgType=r.brush&&n.length>4?"polygon":"polyline")}createMarker(t){const n=fpe();return this.scene._defs.appendChild(n.marker),this._svg.setAttribute(t?"marker-start":"marker-end",`url(#${n.id})`),n}_render(){const t=this.attrib,n=t&za,r=t&Ll,o=Wu(t),{pen:i,brush:s}=this,a=!n&&!!(i||s)&&(!!r||!(1<<o&this.scene.hiddenLayers));if(this._visible!==a&&(this._visible=a,a?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!a)return;const c=this.brush&&this.length>2?"polygon":"polyline";if(this._svgType!==c){this._svgType=c,this.shouldUpdateCoords=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0;const E=GV(c);this._svg.parentElement&&this._svg.replaceWith(E),this._svg=E}this.shouldUpdateCoords&&(this.shouldUpdateCoords=!1,this._svg.setAttribute("points",HV(this.coords)));const u=i?.width||1,h=i?.stroke()||null,f=i?.dash()||null;if(this._width!==u){this._width=u;const E=u.toString();this._svg.setAttribute("stroke-width",E),this._startMark?.shape.setAttribute("stroke-width",E),this._endMark?.shape.setAttribute("stroke-width",E)}this._stroke!==h&&(this._stroke=h,h?(this._svg.setAttribute("stroke",h),this._startMark?.shape.setAttribute("stroke",h),this._endMark?.shape.setAttribute("stroke",h)):this._svg.removeAttribute("stroke")),this._dash!==f&&(this._dash=f,f?this._svg.setAttribute("stroke-dasharray",f):this._svg.removeAttribute("stroke-dasharray"));const g=this.length>2&&s?.fill()||"none";this._fill!==g&&(this._fill=g,this._svg.setAttribute("fill",g));const m=s?.blend()||i?.blend()||null;this._blend!==m&&(this._blend=m,m?this._svg.style.setProperty("mix-blend-mode",m):this._svg.style.removeProperty("mix-blend-mode"));const y=i&&(s?null:this.start),b=i&&(s?null:this.end);if(this._start!==y){this._start=y;const E=y&&UV(y,!1);E?zV(this._startMark||=this.createMarker(!0),E,i,!0):(this._startMark?.marker.remove(),this._startMark=null)}if(this._end!==b){this._end=b;const E=b&&UV(b,!0);E?zV(this._endMark||=this.createMarker(!1),E,i,!1):(this._endMark?.marker.remove(),this._endMark=null)}const v=this.x-this.scene.x,S=this.y-this.scene.y;(v!==this._x||S!==this._y)&&(this._x=v,this._y=S,this._svg.setAttribute("transform",`translate(${v}, ${S})`))}onCoordsChanged(){this.shouldUpdateCoords=!0}onPropsChanged(){}_onPenPropsChanged(){}_onBrushPropsChanged(){}}class WV extends pd{constructor(t,n){super(t,t.pens,n),this.color=0,this.style=0,this.rop=0,this.width=0,this.set(n)}set({color:t=this.color,rop:n=this.rop,style:r=this.style,width:o=this.width}){return(this.width!==o||this.color!==t||this.style!==r||this.rop!==n)&&(this.color=t,this.style=r,this.rop=n,this.width=o,this.subs.forEach(i=>i._onPenPropsChanged())),this}toJSON(){const{color:t,rop:n,style:r,width:o}=this;return{...super.toJSON(),color:t,rop:n,style:r,width:o}}}const gpe=0,mpe=1,vpe=2,ype=3,bpe=4,wpe=5,Spe=9,Cpe=10;class xpe extends WV{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Gu(this._color=this.color):this._cssColor}blend(){switch(this.rop){case Spe:return"multiply";case Cpe:return"multiply";default:return null}}stroke(){return this.style===wpe?null:this.cssColor()}dash(){switch(this.style){case gpe:return null;case mpe:return"16 4";case vpe:return"2 4";case ype:return"16 4 2 4";case bpe:return"16 4 2 4 2 4";default:return null}}}class KV extends pd{constructor(t,n,r){super(t,t.strings,r),this.text=n,this.set({...r,text:n})}set({text:t=this.text}){return this.text!==t&&(this.text=t,this.subs.forEach(n=>n._onStringTextChanged())),this}toJSON(){const{text:t}=this;return{...super.toJSON(),text:t}}}class _pe extends KV{constructor(){super(...arguments),this._text="",this._parts=[""]}split(){return this._text!==this.text?this._parts=(this._text=this.text).split(`\r
`).join(`
`).split(`
`):this._parts}}class qV{constructor(t,{font:n,string:r,fgcolor:o,bgcolor:i}){this.text=t,this.font=n,this.string=r,this.fgcolor=o||0,this.bgcolor=i??Mh,n.subs.add(this),r.subs.add(this)}set({font:t=this.font,string:n=this.string,fgcolor:r=this.fgcolor,bgcolor:o=this.bgcolor}){let i=!1,s=!1;return this.font!==t&&(this.font.subs.delete(this),this.font=t,t.subs.add(this),i=!0),this.string!==n&&(this.string.subs.delete(this),this.string=n,n.subs.add(this),i=!0),(this.fgcolor!==r||this.bgcolor!==o)&&(this.fgcolor=r,this.bgcolor=o,s=!0),(i||s)&&(this.onChanged(i,s),this.text.subs.forEach(a=>a._onTextPartsChanged())),this}delete(t){this.font.subs.delete(this),this.string.subs.delete(this),t||(this.font.delete(),this.string.delete())}toJSON(){const{font:t,string:n,fgcolor:r,bgcolor:o}=this;return{font:t.key,string:n.key,fgcolor:r,bgcolor:o}}}class YV extends pd{constructor(t,n,r){super(t,t.texts,r),this.type="text",this.parts=n.map(o=>this.createPart(o,!0))}set({parts:t=this.parts},n){return this.parts!==t&&(this.parts.forEach(r=>!t.includes(r)&&r.delete(n)),this.parts=t,this.subs.forEach(r=>r._onTextPartsChanged())),this}createPart(t,n){const r=this._createPart(t);return n||this.set({parts:this.parts.concat(r)}),r}toJSON(){const t=this.parts.map(n=>n.toJSON());return{...super.toJSON(),parts:t}}delete(t){return super.delete()?(this.parts.forEach(n=>n.delete(t)),!0):!1}}class Epe extends qV{onChanged(){}_onStringTextChanged(){}_onFontPropsChanged(){}}class Tpe extends YV{constructor(){super(...arguments),this._textCalc=null}get width(){return this._textCalc?.().w??0}get height(){return this._textCalc?.().h??0}_createPart(t){return new Epe(this,t)}onTextPartsChanged(){}}class XV extends Gh{constructor(t,n,r){const o={...r,width:r.width??n.width,height:r.height??n.height,text:n};super(t,o),this.text=n,this.type="textView",n.subs.add(this),this.angle=r.angle??0,this.set({...r,text:n})}set({text:t=this.text,...n}){return this.text!==t&&(this.text.subs.delete(this),this.text=t,this.text.subs.add(this)),super.set(n)}_onRotated(t,n,r){super._onRotated(t,n,r),this.angle+=r}toJSON(){const{text:t,angle:n,type:r}=this;return{...super.toJSON(),type:r,text:t.key,angle:n}}delete(t){const{text:n}=this;return n.subs.delete(this),t||n.delete(t),super.delete()}toString(){return"Текст"}}function ZV(e){const t=document.createElementNS("http://www.w3.org/2000/svg","tspan");return e&&(t.setAttribute("x","0px"),t.setAttribute("dy","1.15em")),t}class Mpe{constructor(t,n){this.owner=t,this.part=n,this._fragments=[],this._css=null,this._fgcolor=NaN,this.spans=n.string.split().map((r,o)=>ZV(o>0))}update(){let t=!1;const{part:n,spans:r}=this,o=n.string.split(),i=n.font.css();if(this._fragments!==o){this._fragments=o,t=!0,r.length!==o.length&&(this._fgcolor=NaN);let s;for(let a=0;a<o.length;++a){if(a<r.length)s=r[a];else{const u=ZV(!0);r.push(u),s.after(u),s=u,this._css=null}let c=o[a];i.isSymbolFont&&(c=n.font.transformText(c)),s.textContent=c||"​"}for(;r.length>o.length;)r.pop()?.remove()}if(this._css!==i&&(this._css=i,t=!0,r.forEach(s=>{s.setAttribute("font-family",i.fontFamily),s.setAttribute("font-size",i.fontSize.toString()),s.setAttribute("font-style",i.fontStyle),s.setAttribute("text-decoration",i.textDecoration),s.setAttribute("font-weight",i.fontWeight)})),this._fgcolor!==n.fgcolor){this._fgcolor=n.fgcolor;const s=Gu(n.fgcolor)??"transparent";r.forEach(a=>a.setAttribute("fill",s))}return t}}class Ope extends XV{constructor(t,n,r){if(super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","text"),this._visible=!0,this._parts=[],this._partsSVG=[],this._sizes={w:0,h:0},this._angle=0,this._x=0,this._y=0,this._svg.setAttribute("dominant-baseline","text-before-edge"),this._svg.setAttribute("alignment-baseline","text-before-edge"),this._svg.setAttribute("letter-spacing","-0.07"),this._svg.style.setProperty("white-space","pre"),this._svg.style.setProperty("user-select","none"),n._textCalc=this._calcSizes.bind(this),!r.width||!r.height){const o=r.width??n.width,i=r.height??n.height;this.updateBBox(this.x,this.y,o,i)}}_calcSizes(){const t=this.text.parts;if(!t||!this.updateParts(t))return this._sizes;const n=this._svg.parentElement;n||this.scene._root.appendChild(this._svg);const{y:r=0,width:o,height:i}=this._svg.getBBox();return n||this._svg.remove(),this._sizes={w:o,h:r+i}}updateParts(t){if(this._parts!==t){this._parts=t;const n=[];this._partsSVG=t.map(r=>{const o=new Mpe(this,r);return n.push(...o.spans),o}),this._svg.replaceChildren(...n)}return this._partsSVG.reduce((n,r)=>r.update()||n,!1)}_render(){const t=this.attrib,n=t&za,r=t&Ll,o=Wu(t),i=this.text.parts,s=(!!r||!(n||1<<o&this.scene.hiddenLayers))&&!!i;if(this._visible!==s&&(this._visible=s,s?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!s)return;this.updateParts(i);const a=this.x-this.scene.x,c=this.y-this.scene.y,u=this.angle;(a!==this._x||c!==this._y||this._angle!==u)&&(this._x=a,this._y=c,this._angle=u,this._svg.setAttribute("transform",`translate(${a}, ${c}), rotate(${u*180/Math.PI})`))}_onTextPartsChanged(){}}function JV(e,t,n){const r=new Set(n);let o=0,i=null;t.forEach(s=>{if(r.delete(s),o<n.length&&s===n[o])++o;else{const a=i?i.nextElementSibling:e.firstElementChild;e.insertBefore("_svg"in s?s._svg:s._html,a)}i="_svg"in s?s._svg:s._html}),r.forEach(s=>("_svg"in s?s._svg:s._html).remove())}class QV extends Gh{constructor(t,n){super(t,n),this.type="videoView",this.fixed=!1,this.fixed=n.fixed??this.fixed}set(t){return this.fixed=t.fixed??this.fixed,super.set(t)}toJSON(){throw new Error("Method not implemented.")}toString(){return"Видео"}}let Rpe=class{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}};class Ipe extends QV{constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const o=this._html=document.createElement("video");o.className=gd["jf-video"],o.src=Xi(n),o.controls=!iy.hideVideoControls,this.video=new Rpe(o)}getState(){const t=this._html;return t.paused?t.currentTime?"pause":"stop":"play"}setPosition(t){const n=this._html;return t!==n.currentTime&&(n.currentTime=t),this}getPosition(){return this._html.currentTime}play(){const t=this._html;return t.paused&&t.play(),this}stop(){const t=this._html;return t.paused||t.pause(),this}pause(){const t=this._html;return t.paused||t.pause(),t.currentTime&&(t.currentTime=0),this}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this.fixed){const i=Math.round(this.width),s=Math.round(this.height);this._w!==i&&n.setProperty("width",(this._w=i).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}}let Ppe=0;class kpe extends LV{constructor(t){super(),this._disableInputs=!1,this.prevOrder=[],this.svgOrder=[],this.htmlOrder=[],this.bgRect=null,this._bg=null;const n=this._root=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=this.htmlRoot=document.createElement("div"),i=this.domElement=document.createElement("div");i.className=gd["jf-scene"],n.append(r),i.append(n,o),t&&this.fromJSON(t)}dispose(){}_render(t=!1){if(!t&&!this.domElement.parentElement)return;const{background:n,prevOrder:r,svgOrder:o,_root:i,htmlOrder:s,htmlRoot:a}=this,{disableInputs:c}=this;this._disableInputs!==c&&(this._disableInputs=c,c?this.domElement.classList.add(gd["disable-inputs"]):this.domElement.classList.remove(gd["disable-inputs"]));const u=n?.fill()??null;let h=!1;if(h=this._bg!==u)if(this._bg=u,u){if(!this.bgRect){const g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("width","100%"),g.setAttribute("height","100%"),this.bgRect={_svg:g}}this.bgRect._svg.setAttribute("fill",u)}else this.bgRect?._svg.remove(),this.bgRect=null;const f=this.order;if(r!==f||h){const g=this.bgRect?[this.bgRect]:[],m=[];f.forEach(y=>{"_svg"in y?g.push(y):m.push(y)}),o.length>0?JV(i,g,o):i.append(...g.map(y=>y._svg)),s.length>0?JV(a,m,s):m.length>0&&a.append(...m.map(y=>y._html)),this.svgOrder=g,this.htmlOrder=m,this.prevOrder=f}f.forEach(g=>g._render())}toSVG(t,n){const{x:r,y:o,hiddenLayers:i}=this;this.set({x:t.x,y:t.y,hiddenLayers:0}),this._render(!0);let s;return n?(s=this._root,this.dispose()):(s=this._root.cloneNode(!0),this.set({x:r,y:o,hiddenLayers:i}),t&&this._render(!0)),s.removeAttribute("style"),s.removeAttribute("class"),s.setAttribute("viewBox",`0 0 ${t.w} ${t.h}`),s}toBlob(t){const n=this.toSVG(t);n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("width",t.w+"px"),n.setAttribute("height",t.h+"px"),n.setAttribute("preserveAspectRatio","xMidYMid slice");const o=`<?xml version="1.0"?>\r
`+new XMLSerializer().serializeToString(n);return Promise.resolve(new Blob([o],{type:"image/svg+xml"}))}_line(t,n={}){return new ppe(this,t,n)}_imageView(t,n={}){return new spe(this,t,n)}_textView(t,n={}){return new Ope(this,t,n)}_input(t,n={}){return new dpe(this,t,n)}_video(t,n={}){return new Ipe(this,t,n)}_pen(t={}){return new xpe(this,t)}_brush(t={}){return new epe(this,t)}_image(t,n={}){return new ipe(this,t,n)}_string(t,n={}){return new _pe(this,t,n)}_font(t={}){return new rpe(this,t)}_text(t,n={}){return new Tpe(this,t,n)}_createClipRect(){const t=`clipPath_${++Ppe}`,n=document.createElementNS("http://www.w3.org/2000/svg","clipPath");n.setAttribute("id",t);const r=document.createElementNS("http://www.w3.org/2000/svg","rect");return n.appendChild(r),this._defs.appendChild(n),{id:t,rect:r}}_onBrushPropsChanged(){}}const DT=kpe,Dpe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let AT=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=Dpe[n[e]&63];return t};class Ape{constructor(t,n,r){this.ed=t,this.object=n,this.speed=1;const o=t._history;o.pendNextEdit(),n.type==="_pseudoGroup"?o.savePositions(n._jf):o.saveTransform(n._jf),r&&this.handleKeyboard(r)}handleKeyboard(t){let n=0,r=0;switch(t.key){case"ArrowUp":n=0,r=-1;break;case"ArrowDown":n=0,r=1;break;case"ArrowLeft":n=-1,r=0;break;case"ArrowRight":n=1,r=0;break;default:return this}if(t.type==="keyup")return this.finish();const{object:o}=this,i=this.speed,s=o.x,a=o.y;return o.set({x:s+n*i,y:a+r*i}),++this.speed,this}finish(){return this.ed._history.pushPendingEdit(),null}}const jc=Symbol(),ob=Symbol(),e$=Symbol(),t$=Symbol(),Vc=Symbol(),md=Symbol(),n$="application/vnd.stratum.clipboard",{PS_DASH:LT,PS_DOT:r$,BS_NULL:Lpe}=et,NT=ha(255,0,0),Npe=ha(255,255,0),Bpe=ha(129,165,212,"editor"),Fpe=ha(0,0,0,"editor"),BT=ha(0,0,0),jpe=ha(0,0,255),FT=ha(128,128,128),o$=jC(16),i$=jC(24),Po=-1,Ns=Ll|Es;class Vpe{constructor(t){this.s=t;const n=Po;this.blueSelectionShadowBrush=t.brush({key:n,color:Bpe}),this.graySelectionBorderBrush=t.brush({key:n,color:FT}),this.redBrush=t.brush({key:n,color:NT}),this.yellowBrush=t.brush({key:n,color:Npe}),this.transparentSelectionBorderBrush=t.brush({key:n,color:Fpe}),this.nullBrush=t.brush({key:n,color:0,style:Lpe}),this.selectionAreaPen=t.pen({key:n,color:BT,width:1,style:LT}),this.blackSelectionBorderPen=t.pen({key:n,color:BT,width:2}),this.highlightAreaPen=t.pen({key:n,color:FT,width:1,style:LT}),this.highlightAreaPenRed=t.pen({key:n,color:jpe,width:1,style:LT}),this.defaultFont=t.font({key:n,size:16}),this.reorderFont=t.font({key:n,size:20,style:Op}),this.classFont=t.font({key:n,size:12}),this.captStr=t.string("",{key:n}),this.captText=t.text([{string:this.captStr,font:this.defaultFont}],{key:n})}padIconImage(){const t=this.s;return[...t.images.values()].find(n=>n.src===PC.src)??t.image(PC)}iconImage(t){const n=t&&Ep(t)||IC,{s:r}=this;return[...r.images.values()].find(o=>o.src===n.src)??r.image(n)}makeBorder(t,n){return t.scene.line([0,0,t.width+8,0,t.width+8,t.height+8,0,t.height+8],{key:Po,attrib:Ns,x:t.x-4,y:t.y-4,pen:n?this.highlightAreaPenRed:this.highlightAreaPen,brush:this.nullBrush})}highlightFor(t,n){const r=t.scene;let o;const i=ib(t);if(i){const s=this.makeBorder(i.a.slot,!0),a=this.makeBorder(i.b.slot,!0);o=this.tempGroup([s,a]),r.set({order:r.order.concat(s,a)})}else o=this.makeBorder(t,n),jT(t)&&o.rotate(t.angle,t),r.set({order:r.order.concat(o)});return o}textFor(t){const{s:n}=this,r=s$(t);this.captStr.set({text:r});const o=r.length*8,i=n.textView(this.captText,{key:Po,attrib:Ns,x:Math.min(Math.max(t.x,t.scene.x+4),t.scene.x+t.scene.domElement.clientWidth-o),y:Math.min(Math.max(t.y-32,t.scene.y+4),t.scene.y+t.scene.domElement.clientHeight-32)});return n.set({order:n.order.concat(i)}),i}createTextFor(t,n){const{s:r}=this,o=r.string(n,{key:Po}),i=r.text([{string:o,font:this.reorderFont}],{key:Po}),s=r.textView(i,{key:Po,attrib:Ns,x:t.x,y:t.y}),a=24,c=24,u=r.line([t.x,t.y,t.x+a,t.y,t.x+a,t.y+c,t.x,t.y+c],{key:Po,attrib:Ns,brush:this.redBrush}),h=r.string(s$(t),{key:Po}),f=r.text([{string:h,font:this.classFont}],{key:Po}),g=t.x,m=t.y+c,y=r.textView(f,{key:Po,attrib:Ns,x:g,y:m}),b=y.width,v=y.height,S=r.line([g,m,g+b,m,g+b,m+v,g,m+v],{key:Po,attrib:Ns,brush:this.yellowBrush}),E=r.group([s,u,y,S],{key:Po});return r.set({order:r.order.concat(u,s,S,y)}),[o,E]}createSelectionArea(t,n,r,o){const{s:i}=this,s=i.line([0,0,r,0,r,o,0,o],{key:Po,attrib:Ns,x:t,y:n,pen:this.selectionAreaPen,brush:this.nullBrush});return i.set({order:i.order.concat(s)}),s}tempGroup(t){return this.s.group(t,{key:Po})}}function vd(e){return e.data[Vc]||null}function jT(e){return e.type==="textView"||e.type==="imageView"}function s$(e){const t=hg(e);if(t)return t.toString();if(e.parent&&hg(e.parent))return e.type==="imageView"&&e.key>0?`Иконка #${e.key} ${e.attrib&1?" (скрыта)":""}`:"Изображение имиджа";const n=e+(e.data.name?` '${e.data.name}'`:"")+(e.key>0?` #${e.key}`:"");if(e.type!=="group")return n;const r=e.children.length;return`${n} [${r}]`}function hg(e){return e.data[jc]??null}function fg(e){const t=e.data[jc];return t?.type==="child"?t:null}function $pe(e){const t=e.data[jc];return t?.type==="pad"?t:null}function ib(e){const t=e.data[jc];return t?.type==="connection"?t:null}function xi(e){const t=e.data[jc];return t&&(t.type==="child"||t.type==="pad")?t:null}let zpe=0;function jr(){return++zpe}function Upe(e){let t=e;for(;t.parent&&t.parent.key>0;)t=t.parent;return t}function a$(e){return Ih(e.scene,A8(e))}function sb(e){return!!e.data[t$]}function Hpe(e){if(e.length<2)return e;const t=Pp(new Set(e),n=>!n.parent&&!sb(n)&&n.key>0);return t.length?t:[e[0]]}function l$(e){const{hiddenLayers:t}=e;return Pp(e.objects.values(),n=>{if(n.parent)return!1;const r=n.attrib;return!(r&za||t&1<<Wu(r))})}class VT extends Ci{}function pg(e,t){if(!e)throw new VT(t)}function $T(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function c$(e){return{fonts:[{key:1,size:16}],strings:[{key:1,text:e}],texts:[{key:1,parts:[{font:1,string:1}]}],objects:[{type:"textView",key:1,text:1}],order:[1]}}function u$(e){return{images:[{key:1,...e}],objects:[{type:"imageView",key:1,image:1}],order:[1]}}const Gpe=c$("Sample Text"),Wpe={objects:[{type:"input",key:1,inputType:"Edit",width:64,height:20}],order:[1]},Kpe={objects:[{type:"input",key:1,inputType:"Button",width:64,height:20,value:"Кнопка"}],order:[1]},qpe={pens:[{key:1,color:0,width:1}],brushes:[{key:1,color:FT}],objects:[{type:"line",key:1,coords:[0,0,0,100,100,100,100,0],pen:1,brush:1}],order:[1]};function Ype(e){const t=e.getData(n$);return t?JSON.parse(t):null}function d$(e,t){e.setData(n$,JSON.stringify(t))}class h${constructor(t){this.ed=t,this.title="Изменение порядка имиджей",this.counter=-1,this.childWeakMap=new WeakMap;const{children:n,_tools:r}=t;this.markers=n.map((o,i)=>{const s=(i+1).toString(),a=r.createTextFor(o.slot,s);return this.childWeakMap.set(o,a),a})}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,{sceneX:r,sceneY:o}=t,i=n._pick(r,o),s=i&&fg(i);if(!s)return this;const a=n.children.indexOf(s);let c=(t.shiftKey?a:this.counter)+1;const u=GC(n.children,c,s);return u.indexOf(s)!==a&&(u.forEach((h,f)=>this.childWeakMap.get(h)?.[0].set({text:(f+1).toString()})),n._history.saveChildOrder(),n.setChildOrder(u)),!t.shiftKey&&c>=u.length?this.finish():(this.counter=c,this)}finish(){for(const[t,n]of this.markers)n.delete();return null}}class Xpe{constructor(t){this.ed=t,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,o=t.sceneY,i=n._scene,s=i.line([r,o,r+1,o+1],{pen:i.pen({color:BT}),attrib:Ns});return i.set({order:i.order.concat(s)}),new zT(n,s)}}class zT{constructor(t,n){this.ed=t,this.line=n,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){const{line:n}=this;if(t.type==="pointerup")return n.length===2&&Math.hypot(n.width,n.height)>5?this.finishLine():this;const r=n.point(n.length-2);let o=t.sceneX,i=t.sceneY;if(t.type==="pointermove"){if(t.ctrlKey&&r){const s=Math.abs(o-r.x),a=Math.abs(i-r.y);s>a?i=r.y:o=r.x}return n.setPoint(n.length-1,{x:o,y:i}),this}return r&&Math.hypot(r.x-o,r.y-i)<5?this:t.shiftKey?this.finishLine():(n.addPoint({x:o+1,y:i+1}),new zT(this.ed,n))}finishLine(){const{line:t,ed:n}=this;t.set({attrib:t.attrib&~Ns}),n._refreshChildImages();const r=[t];return n._history.saveCreatedObjects(r),n._createSelection(r),null}finish(){const{line:t}=this;t.length<3?this.line.delete():(t.removePoint(t.length-1),this.finishLine())}}class Zpe{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,o=Ih(n._scene,r).set({x:t.sceneX,y:t.sceneY});n._refreshChildImages();const i=[o];return n._history.saveCreatedObjects(i),n._createSelection(i),null}}class Jpe{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,o=t.sceneX,i=t.sceneY,s=Ih(n._scene,r);return s.set({x:o,y:i,width:1,height:1,attrib:s.attrib|Ns}),new Qpe(n,s,this.title)}}class Qpe{constructor(t,n,r="Создание объекта"){this.ed=t,this.object=n,this.title=r,this.cursor="crosshair",this.start={x:n.x,y:n.y}}handlePointer(t){const{object:n,start:r}=this;if(t.type==="pointermove"){const s=Math.min(t.sceneX,r.x),a=Math.min(t.sceneY,r.y),c=Math.abs(t.sceneX-r.x),u=Math.abs(t.sceneY-r.y);return n.set({x:s,y:a,width:c,height:u}),this}if(n.width<10&&n.height<10)return this;n.set({attrib:n.attrib&~Ns});const{ed:o}=this;o._refreshChildImages();const i=[n];return o._history.saveCreatedObjects(i),o._createSelection(i),null}finish(){this.object.delete()}}class ege{constructor(t){this.ed=t,this.title="Выбор первой цели",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,o=t.sceneY,i=n._pick(r,o),s=i&&xi(i);return s?new f$(n,s,{x:r,y:o}):this}}class f${constructor(t,n,r=$T(n.slot)){this.ed=t,this.a=n,this.title="Выбор второй цели",this.cursor="crosshair";const{x:o,y:i}=r,s=t._scene,a=this.slot=s.line([o,i,o,i],{pen:s.pen({color:NT}),attrib:Ns});s.set({order:s.order.concat(a)})}handlePointer(t){const n=t.sceneX,r=t.sceneY,{slot:o}=this;if(t.type==="pointermove")return o.setPoint(1,{x:n,y:r}),this;const{ed:i,a:s}=this,a=i._pick(n,r),c=a&&xi(a);if(!c||c===s)return this;const u=i.connections.find(g=>g.includes(s)&&g.includes(c));if(u)return this.finish(),i._createSelection([u.slot]),null;o.set({attrib:i$});const h=i.schema.createConnection(s.schema,c.schema,{key:o.key,aPadKey:io(s.type==="pad"&&s.key),bPadKey:io(c.type==="pad"&&c.key)});i._createConnection(o,h),i._refreshChildImages();const f=[o];return i._history.saveCreatedObjects(f),i._createSelection(f),null}finish(){this.slot.delete()}}class ab{constructor(t,n,r=!1){if(this.ed=t,this.area=null,this.kept=null,this.startX=n.sceneX,this.startY=n.sceneY,r){const a=t.selection;a&&(a.type==="multi"||!a.object._jf.parent&&!sb(a.object._jf))&&(this.kept=a._getJF())}else t.selection?.reset();const{selectUnselectable:o,hiddenLayers:i}=t._scene,s=Pp(t._scene.objects.values(),a=>{if(a.parent||sb(a)||this.kept?.includes(a))return!1;const c=a.attrib,u=c&1,h=c&4,f=c&8,g=c>>8&31;return!(u||f&&!o||1<<g&i||h)});this.objects=s}handlePointer(t){if(t.type==="pointerup")return this.removeAreaBox(),null;const n=Math.min(t.sceneX,this.startX),r=Math.min(t.sceneY,this.startY),o=Math.abs(t.sceneX-this.startX),i=Math.abs(t.sceneY-this.startY),{ed:s}=this;o>0&&i>0?this.area?this.area.set({x:n,y:r,width:o,height:i}):this.area=s._tools.createSelectionArea(n,r,o,i):this.removeAreaBox();const a=s.selection?._getJF()||[];let c=!1;const u=this.objects.filter(h=>{const f=h.x>=n&&h.y>=r&&h.x+h.width<=n+o&&h.y+h.height<=r+i;return c||=f&&!a.includes(h)||!f&&a.includes(h),f});return c&&s._createSelection(this.kept?.concat(u)??u),this}finish(){this.removeAreaBox()}removeAreaBox(){this.area&&(this.area.delete(!0),this.area=null)}}class tge{constructor(t,n,r){this.ed=t,this.ctrl=n,this.disableHighlights=!0;const o=this.prop=n.data[md],i=o.direction;this.cursor=i==="vert"?"ns-resize":i==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=o.selection.object;this.origW=s.width,this.origH=s.height;const a=t._history;a.pendNextEdit(),a.saveTransform(s._jf)}handlePointer(t){if(t.type==="pointerup")return this.finish();let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const o=n-this.startX,i=r-this.startY;Math.abs(o)>Math.abs(i)?r=this.startY+this.origH*(o/this.origW):n=this.startX+this.origW*(i/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){const t=this.ed._history;return this.ctrl.x===this.startX&&this.ctrl.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class nge{constructor(t,n,r){this.ctrl=n,this.disableHighlights=!0;const o=this.prop=n.data[md],i=o.direction;this.cursor=i==="vert"?"ns-resize":i==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=o.selection.object;this.origW=s.width,this.origH=s.height}handlePointer(t){if(t.type==="pointerup")return this.finish(),null;let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const o=n-this.startX,i=r-this.startY;Math.abs(o)>Math.abs(i)?r=this.startY+this.origH*(o/this.origW):n=this.startX+this.origW*(i/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){this.prop.complete?.()}}class UT{constructor(t,n,r){this.ed=t,this.object=n,this.disableHighlights=!0,this.cursor="grabbing",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY,t._history.pendNextEdit()}handlePointer(t){let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(t.type==="pointerup")return this.finish();if(t.ctrlKey){const o=Math.abs(n-this.startX),i=Math.abs(r-this.startY);o>i?r=this.startY:n=this.startX}return this.object.set({x:n,y:r}),this}finish(){const t=this.ed._history;return this.object.x===this.startX&&this.object.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class rge{constructor(t,n,r){this.ed=t,this.o=n,this.cursor="copy",this.startX=r.sceneX,this.startY=r.sceneY}handlePointer(t){if(t.type==="pointerup")return null;if(t.type!=="pointermove")return this;const n=t.sceneX-this.startX,r=t.sceneY-this.startY;if(Math.hypot(n,r)<16)return this;const{ed:o,o:i}=this,s=o._cloneObject(i).set({x:i.x+n,y:i.y+r});xi(s)?._notifySlotMoved();const a=[s],c=o._history;return c.batch(()=>{c.saveCreatedObjects(a);const u=o._createSelection(a);return u?new UT(o,u.object,t):this})}}class oge{constructor(t){this.ed=t}handlePointer(t){if(t.type!=="pointerdown")return this;const n=t.shiftKey,r=t.shiftKey,{ed:o}=this,i=o._pickSmart(t.sceneX,t.sceneY,!n);if(!i)return new ab(o,t,n);const s=i.data[md];if(s){if(typeof s.lineEditorIndex=="number"){if(t.shiftKey){const h=o.selection;if(h?.type!=="single")return this;const f=h.object;return f.type!=="line"?this:(f.removePoint(s.lineEditorIndex),this)}return new nge(o,i,t)}return r?new UT(o,s.selection.object,t):new tge(o,i,t)}const a=sb(i);if(!n){const h=i.data[Vc]||o._createSelection([i]);return!a&&h?new UT(o,h.object,t):this}const c=o.selection;if(!c)return new ab(o,t);const u=Upe(i);if(c.type==="single"){if(a){const h=c.object;if(t.shiftKey&&h.type==="line"&&ib(h._jf)){const f=h._jf,g=f.getIntersectionIndex(t.sceneX-f.x,t.sceneY-f.y);return g<0?this:(h.addPoint(t.sceneX,t.sceneY,g+1),this)}return new ab(o,t)}if(c.object._jf===u){if(c.object.type==="line"&&c.object.isPointsEditModeActive){const h=c.object._jf,f=h.getIntersectionIndex(t.sceneX-h.x,t.sceneY-h.y);return f<0?this:(c.object.addPoint(t.sceneX,t.sceneY,f+1),this)}return new rge(o,u,t)}c.object._jf.parent?o._createSelection([u]):o._createSelection([c.object._jf,u])}else c.object._jf.includes(u)?o._createSelection(c.object._jf.filter(h=>h!==u)):o._createSelection(c.object._jf.concat(u));return new ab(o,t,!0)}}class ige{constructor(t){this.ed=t,this.defaultAction=new oge(this.ed),this.currentAction=this.defaultAction,this.inTransition=!1,vt(this,{currentAction:Pe.ref,inAction:Gr,actionTitle:Gr})}get actionTitle(){return this.currentAction.title||""}get inAction(){return this.currentAction!==this.defaultAction}get isInChildReorderMode(){return this.currentAction instanceof h$}get canHandlePointer(){return!!this.currentAction.handlePointer}get highlightsDisallowed(){return!!this.currentAction.disableHighlights}handlePointer(t){this.currentAction.handlePointer&&(this.inTransition=!0,this.switchAction(this.currentAction.handlePointer(t)||this.defaultAction),this.inTransition=!1)}handleKeyboard(t){return this.currentAction.handleKeyboard?(this.inTransition=!0,this.switchAction(this.currentAction.handleKeyboard(t)||this.defaultAction),this.inTransition=!1,!0):!1}finishCurrent(){this.inTransition||(this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(this.defaultAction),this.inTransition=!1)}startMoveObjectWithKeyboard(t,n){this.startAction(new Ape(this.ed,t,n))}startCreateConnection(t){this.startAction(t?new f$(this.ed,t):new ege(this.ed))}startCreateSample(t,n){this.startAction(new Jpe(this.ed,t,n))}startSelectSampleCoords(t,n){this.startAction(new Zpe(this.ed,t,n))}startCreateLine(){this.startAction(new Xpe(this.ed))}startReorderChildren(){this.startAction(new h$(this.ed))}switchAction(t){this.currentAction!==t&&(this.currentAction=t)}startAction(t){ks.assert(!this.inTransition),this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(t),this.inTransition=!1}}class lb{constructor(t,n,r){this.type="child",this.connections=[],this.resizable=!1,this.hovered=!1,this.imgContainer=null,this.scene=t,this.schema=n,this.slot=r,r.data[jc]=this;const o=r.children.length&&r.children[0];let i;o&&o.type==="imageView"?(i=o,i.data[e$]=this,i.data[ob]=this):i=null,this.icon=i,this.replaceImage(n.klass.image),this._subscribe(),vt(this,{schema:Pe.ref,hovered:Pe.ref,select:be,connections:!1,resizable:!1})}get key(){return this.slot.key}select(t=!1){this.scene._createSelection([this.slot],!0,t)}_forceHide(){this.replaceImage({...this.schema.klass.image,scene:void 0})}_forceUpdate(){this.replaceImage(this.schema.klass.image)}_subscribe(){this.schema.klass.onImageChanged.add(this.scene._childImageChanged)}_unsubscribe(){this.schema.klass.onImageChanged.remove(this.scene._childImageChanged)}toString(){return`${this.schema.name} #${this.key}`}_saveChanges(){const{slot:t,schema:n}=this;n.node.set({sceneName:t.data.name||"",sceneX:t.x,sceneY:t.y})}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_setHover(t){this.hovered=t}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_copy(){const{key:t,schema:n}=this;return{key:t,klass:n.klass.name,klassUuid:n.klass.uuid,state:n.getState()}}_replaceSchema(t){if(t.node!==this.schema.node)throw Error("Типы имиджей не совпадают");this.schema=t}replaceImage(t){const n=!!t?.resizable,r=this.resizable!==n;this.resizable=n;const o=n?this.slot.width:32,i=n?this.slot.height:32;if(this.imgContainer?.delete(),this.imgContainer=null,this.icon){const{atlas:a,index:c=0}=t?.icon??{},u=this.scene._tools.iconImage(a),{x:h,y:f}=kC(u,c);this.icon.set({image:u,width:o,height:i,area:{x:h,y:f,w:32,h:32},attrib:this.slot.attrib})}const s=t?.scene?.data;if(!(!s?.objects?.length||t?.prior==="icon")){this.imgContainer=YD(this.slot,s,n&&!r,"unused");for(const a of Np(this.imgContainer))a.data[ob]=this;r&&n&&this.icon?.set({width:this.slot.width,height:this.slot.height})}}}class gg{constructor(t,n,r){this.type="connection",this.scene=t,this.schemaConnection=n;let o,i;if(t.schema===n.a){if(o=t.pads.find(c=>c.key===n.aPadKey),!o)throw Error(`Площадка A #${n.aPadKey} не существует`)}else if(o=t.children.find(c=>c.schema===n.a),!o)throw Error(`Дочерний имидж ${n.a} не существует`);if(t.schema===n.b){if(i=t.pads.find(c=>c.key===n.bPadKey),!i)throw Error(`Площадка B #${n.bPadKey} не существует`)}else if(i=t.children.find(c=>c.schema===n.b),!i)throw Error(`Дочерний имидж ${n.b} не существует`);this.a=o,this.b=i,this.slot=r;const s=r.point(0);this.shift1=s?{x:s.x-o.slot.x,y:s.y-o.slot.y}:{x:0,y:0},this.size1={x:o.slot.width,y:o.slot.height},o.connections=o.connections.concat(this);const a=r.point(r.length-1);this.shift2=a?{x:a.x-i.slot.x,y:a.y-i.slot.y}:{x:0,y:0},this.size2={x:i.slot.width,y:i.slot.height},i.connections=i.connections.concat(this),r.data[jc]=this,r.data[t$]=!0,this.updatePen(),vt(this,{schemaConnection:Pe.ref,setDisabled:be,includes:!1})}updateShift(){const{slot:t,a:n,b:r}=this,o=t.point(0),i=t.point(t.length-1);this.shift1=o?{x:o.x-n.slot.x,y:o.y-n.slot.y}:{x:0,y:0},this.shift2=i?{x:i.x-r.slot.x,y:i.y-r.slot.y}:{x:0,y:0}}setDisabled(t){this.schemaConnection.setDisabled(t),this.updatePen()}get key(){return this.slot.key}includes(t){return this.a===t||this.b===t}toString(){return`Связь #${this.key}: ${this.a} - ${this.b}`}_copy(){return this.schemaConnection.proto.toJSON()}_notifyTargetMoved(){const{slot:t,shift1:n,shift2:r,a:o,b:i}=this,s=n.x*(o.slot.width/this.size1.x),a=n.y*(o.slot.height/this.size1.y),c=r.x*(i.slot.width/this.size2.x),u=r.y*(i.slot.height/this.size2.y),h=o.slot.x+s,f=o.slot.y+a,g=i.slot.x+c,m=i.slot.y+u;t.setPoint(0,{x:h,y:f}),t.setPoint(t.length-1,{x:g,y:m})}_notifySlotRemoved(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}_replaceConnection(t){if(t.proto!==this.schemaConnection.proto)throw Error("Типы связей не совпадают");this.schemaConnection=t}updatePen(){const t=this.slot.pen;if(!t)return;let n=t.style;this.schemaConnection.isDisabled?n|=r$:n&=~r$,t.set({style:n})}}class cb{constructor(t,n){this.type="pad",this.connections=[],this.scene=t,this.schema=t.schema,this.slot=n,n.data[jc]=this,vt(this,{schema:Pe.ref,connections:!1})}get key(){return this.slot.key}toString(){return`Площадка #${this.key}`}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_replaceSchema(){this.schema=this.scene.schema}}class HT{constructor(t,n,r,o=jr()){this.ed=t,this.id=o;const i=t._scene,s=new Set(n),a=new Set,c=[],u=[],h=[];n.forEach(f=>{if(f.parent&&f.parent.key>0){const m=f.parent.children.indexOf(f);h.push([f.key,f.parent.key,m])}const g=hg(f);g&&(g.type==="connection"?(g._notifySlotRemoved(),a.add(g)):(g.connections.forEach(m=>{m._notifySlotRemoved(),a.add(m),s.add(m.slot)}),g.type==="child"?c.push(g):u.push(g.slot.key)))}),this.parentRelations=h,this.deletedPads=u,this.deletedChildren=c.map(f=>f._copy()),this.deletedConnections=Array.from(a,f=>f._copy()),this.prevObjectOrder=Si(i.order,f=>f.key>0&&f.key),this.prevChildOrder=t.children.map(f=>f.key),this.deletedData=sy(s,!0),this.title=r??`Удалено${a.size?" (включая связи)":""}: ${s.size}`,s.forEach(f=>f.delete()),a.forEach(f=>f.schemaConnection.remove()),c.forEach(f=>f.schema.remove()),c.length&&this.ed._notifyChildrenRemoved(),u.length&&this.ed._notifyPadsRemoved(),a.size&&this.ed._notifyConnectionsRemoved()}undo(){const{ed:t}=this;let n=[];const{schema:r}=t;r&&(n=this.deletedChildren.map(c=>{const u=r.resolveKlass(c.klassUuid);return pg(u,`Имидж не существует: ${c.klass}`),pg(!r.hasAncestor(u),`Невозможно добавить '${u.name}' в схему: рекурсивная зависимость`),{...c,klass:u}}));const o=t._scene,{objects:i}=o.merge(this.deletedData,"exact",!0),s=i0(i);this.parentRelations.forEach(([c,u,h])=>{const f=o.objects.get(u);if(f?.type!=="group")throw Error(`Группа #${u} объекта #${c} не существует`);const g=o.objects.get(c);if(!g)throw Error(`Объект #${c} не существует`);const m=f.children.slice();m.splice(h,0,g),f.set({children:m})});const a=this.prevObjectOrder.map(c=>{const u=o.objects.get(c);if(!u||u.type==="group")throw Error(`Объект #${c} не существует`);return u});if(o.set({order:a}),r){const c=this.deletedPads.map(y=>{const b=o.objects.get(y);if(b?.type!=="imageView")throw Error(`Отображение площадки #${y} не существует`);return new cb(t,b)});t._setPads(t.pads.concat(c));const u=n.map(y=>{const b=o.objects.get(y.key);if(b?.type!=="group")throw Error(`Изображение имиджа '${y.klass.name} #${y.key}' отсутствует на сцене`);const v=r.createChild(y.klass,{key:b.key},y.state);return new lb(t,v,b)}),h=t.children.concat(u);t._setChildren(h);const f=this.prevChildOrder.map(y=>{const b=h.find(v=>v.key===y);if(!b)throw Error(`Имидж #${y} не найден`);return b});t.setChildOrder(f);const g=this.deletedConnections.map(y=>{const b=o.objects.get(y.key);if(b?.type!=="line")throw Error(`Изображение связи '#${y.key}' отсутствует на сцене`);const[v,S]=y.nodes,E=o.objects.get(Math.abs(v)),T=E&&xi(E);if(!T)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const R=o.objects.get(Math.abs(S)),M=R&&xi(R);if(!M)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const I=r.createConnection(T.schema,M.schema,{key:b.key,aPadKey:io(T.type==="pad"&&T.key),bPadKey:io(M.type==="pad"&&M.key),attrib:y.attrib,vars:y.vars});return new gg(t,I,b)}),m=t.connections.concat(g);t._setConnections(m),t._refreshChildImages()}return t._createSelection(s),new p$(this.ed,s,this.title,this.id)}}class p${constructor(t,n,r=`Создано ${n.length} объектов`,o=jr()){this.ed=t,this.title=r,this.id=o,this.keys=n.map(i=>i.key),t._sceneChanged()}undo(){const t=this.ed._scene,n=this.keys.map(r=>{const o=t.objects.get(r);if(!o)throw Error(`Объект #${r} не существует`);return o});return new HT(this.ed,n,this.title,this.id)}}class g${constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title=`Расформирована группа #${n.key}`;const o=n.children;this.groupKey=n.key,this.childKeys=n.children.map(i=>i.key),n.set({children:[]}),this.delAct=new HT(t,[n]),t._createSelection(o)}undo(){const{ed:t,childKeys:n,groupKey:r,delAct:o}=this;o.undo();const i=t._scene,s=n.map(c=>{const u=i.objects.get(c);if(!u)throw Error(`Объект #${c} не существует`);return u}),a=i.objects.get(r);if(a?.type!=="group")throw Error(`#${r} не является группой`);return a.set({children:s}),t._createSelection([a]),new m$(t,a,this.id)}}class m${constructor(t,n,r=jr()){this.ed=t,this.id=r,this.groupKey=n.key,this.title=`Сформирована группа #${this.groupKey}`,t._sceneChanged()}undo(){const{groupKey:t,ed:n}=this,r=n._scene.objects.get(t);if(r?.type!=="group")throw Error(`#${t} не является группой`);return new g$(n,r,this.id)}}class ub{constructor(t,n,r,o=jr()){this.ed=t,this.id=o,this.updatedAt=Date.now(),this.objectKey=r?.key||0,this.sceneOrder=n.filter(i=>i.key>0).map(i=>i.key),this.title=`Изменен z-порядок #${this.objectKey}`}updateTimestamp(){this.updatedAt=Date.now()}undo(){const t=this.ed._scene,n=this.sceneOrder.map(i=>{const s=t.objects.get(i);if(!s||s.type==="group")throw Error(`Объект #${i} не существует`);return s}),r=t.order;t.set({order:n}),this.ed._refreshChildImages();const o=t.order.find(i=>i.key===this.objectKey)??null;return o&&this.ed._createSelection([o]),new ub(this.ed,r,o,this.id)}}class GT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменён порядок имиджей",this.childOrder=n.map(o=>o.key)}undo(){const t=this.ed.children,n=this.childOrder.map(r=>{const o=this.ed.children.find(i=>i.key===r);if(!o)throw Error(`Имидж #${r} не найден`);return o});return this.ed.setChildOrder(n),this.ed._refreshChildImages(),new GT(this.ed,t,this.id)}}class db{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Перемещение объекта",this.transforms=n.map(o=>({key:o.key,x:o.x,y:o.y,w:o.width,h:o.height}))}undo(){const t=this.ed._scene,n=this.transforms.map(o=>{const i=t.objects.get(o.key);if(!i)throw Error(`Объект #${o.key} не существует`);return i}),r=new db(this.ed,n,this.id);return this.transforms.forEach((o,i)=>{const s=n[i];s.set({x:o.x,y:o.y,width:o.w,height:o.h}),xi(s)?._notifySlotMoved()}),this.ed._createSelection(n),r}}class WT{constructor(t,n,r,o=null,i=jr()){this.ed=t,this.angle=r,this.id=i,this.objectKey=n.key,this.pivot=o||{x:n.x,y:n.y},this.title=`Поворот объекта на: ${Xu(HC(r))}`}undo(){const{objectKey:t,angle:n,pivot:r}=this,o=this.ed._scene.objects.get(t);if(!o)throw Error(`Объект #${t} не существует`);return o.rotate(-n,r),this.ed._createSelection([o]),new WT(this.ed,o,-n,r,this.id)}}class KT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменение атрибутов объекта",this.targetObjectKey=n.key,this.attribsDTO=Array.from(Np(n,!0),o=>({objectKey:o.key,attrib:o.attrib}))}undo(){const t=this.ed._scene,n=t.objects.get(this.targetObjectKey);if(!n)throw Error(`Объект #${this.targetObjectKey} не существует`);const r=this.attribsDTO.map(({objectKey:i})=>{const s=t.objects.get(i);if(!s)throw Error(`Объект #${i} не существует`);return s}),o=new KT(this.ed,n,this.id);return this.attribsDTO.forEach(({attrib:i},s)=>{r[s].set({attrib:i},!0)}),this.ed._createSelection([n]),o}}class qT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменение гипербазы",this.objectKey=n.key,this.savedHyper=n.data.hyper||null}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new qT(this.ed,n,this.id),{savedHyper:o}=this;return o?n.data.hyper=o:delete n.data.hyper,this.ed._createSelection([n]),r}}class YT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменение имени объекта",this.objectKey=n.key,this.objectName=n.data.name||""}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new YT(this.ed,n,this.id),{objectName:o}=this;return o?n.data.name=o:delete n.data.name,this.ed._createSelection([n]),r}}class XT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменение значения Input",this.inputObjectKey=n.key,this.inputObjectValue=n.value}undo(){const n=this.ed._scene.objects.get(this.inputObjectKey);if(n?.type!=="input")throw Error(`Объект Input #${this.inputObjectKey} не существует`);const r=new XT(this.ed,n,this.id);return n.set({value:this.inputObjectValue}),this.ed._createSelection([n]),r}}class ZT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменение отображаемого фрагмента",this.isComplete=!1,this.imageViewKey=n.key,this.imageViewArea=n.area}undo(){const n=this.ed._scene.objects.get(this.imageViewKey);if(n?.type!=="imageView")throw Error(`Объект ImageView #${this.imageViewKey} не существует`);const r=new ZT(this.ed,n,this.id);return n.set({area:this.imageViewArea}),this.ed._createSelection([n]),r}complete(){this.isComplete=!0}}class JT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменение свойств кисти",this.brushKey=n.key,this.color=n.color,this.style=n.style,this.rop=n.rop,this.hatch=n.hatch}undo(){const{ed:t}=this,r=t._scene.brushes.get(this.brushKey);if(!r)throw Error(`Кисть #${this.brushKey} не существует`);const o=new JT(this.ed,r);return r.set({color:this.color,hatch:this.hatch,rop:this.rop,style:this.style}),o}}class QT{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Изменение свойств pen",this.penKey=n.key,this.color=n.color,this.rop=n.rop,this.style=n.style,this.width=n.width}undo(){const{ed:t}=this,r=t._scene.pens.get(this.penKey);if(!r)throw Error(`Pen #${this.penKey} не существует`);const o=new QT(this.ed,r);return r.set({width:this.width,color:this.color,style:this.style,rop:this.rop}),o}}class eM{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Установка паттерна",this.brushKey=n.key,this.brushImageKey=n.image?.key||0}undo(){const{ed:t,brushImageKey:n}=this,r=t._scene,o=r.brushes.get(this.brushKey);if(!o)throw Error(`Кисть #${this.brushKey} не существует`);let i;if(n){const a=r.imagesOpaque.get(n);if(!a)throw Error(`Изображение #${this.brushImageKey} не существует`);i=a}else i=null;const s=new eM(t,o);return o.set({image:i}),s}}class v${constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Создано изображение",this.imageKey=n.key}undo(){const n=this.ed._scene.imagesOpaque.get(this.imageKey);if(!n)throw Error(`Изображение #${this.imageKey} не существует`);return new y$(this.ed,n)}}class y${constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Удаление изображения",this.imageDTO=n.toJSON(),this.imageDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.imageDeleted)r=n.image(this.imageDTO,{opaque:!0,key:this.imageDTO.key});else if(r=n.imagesOpaque.get(this.imageDTO.key),!r)throw Error(`Изображение #${this.imageDTO.key} не существует`);return new v$(t,r)}}class tM{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Установка Pen",this.lineKey=n.key,this.linePenKey=n.pen?.key||0}undo(){const{ed:t,linePenKey:n}=this,r=t._scene,o=r.objects.get(this.lineKey);if(o?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let i;if(n){const a=r.pens.get(n);if(!a)throw Error(`Изображение #${this.linePenKey} не существует`);i=a}else i=null;const s=new tM(t,o);return o.set({pen:i}),s}}class hb{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Создан Pen",this.penKey=n.key}undo(){const n=this.ed._scene.pens.get(this.penKey);if(!n)throw Error(`Pen #${this.penKey} не существует`);return new hb(this.ed,n)}}class sge{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Удаление Pen",this.penDTO=n.toJSON(),this.penDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.penDeleted)r=n.pen(this.penDTO);else if(r=n.pens.get(this.penDTO.key),!r)throw Error(`Pen #${this.penDTO.key} не существует`);return new hb(t,r)}}class nM{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Установка Brush",this.lineKey=n.key,this.lineBrushKey=n.brush?.key||0}undo(){const{ed:t,lineBrushKey:n}=this,r=t._scene,o=r.objects.get(this.lineKey);if(o?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let i;if(n){const a=r.brushes.get(n);if(!a)throw Error(`Кисть #${this.lineBrushKey} не существует`);i=a}else i=null;const s=new nM(t,o);return o.set({brush:i}),s}}class fb{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Создан Brush",this.brushKey=n.key}undo(){const n=this.ed._scene.brushes.get(this.brushKey);if(!n)throw Error(`Brush #${this.brushKey} не существует`);return new fb(this.ed,n)}}class age{constructor(t,n,r=jr()){this.ed=t,this.id=r,this.title="Удаление Brush",this.brushDTO=n.toJSON(),this.brushDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.brushDeleted)r=n.brush(this.brushDTO);else if(r=n.brushes.get(this.brushDTO.key),!r)throw Error(`Изображение #${this.brushDTO.key} не существует`);return new fb(t,r)}}class rM{constructor(t,n=jr()){this.commits=t,this.id=n,this.title=t[0].title}undo(){const t=xq(this.commits,n=>n.undo());return new rM(t,this.id)}}class lge{constructor(t){this.ed=t,this.canUndo=!1,this.canRedo=!1,this.redoCommits=[],this.undoCommits=[],this.pendingEdit=null,this.pendingMode=!1,this.lastActionID=0,this.savedActionID=0,this.saveTaskQueued=!1,this.batchEdits=[],this.batchMode=!1,vt(this,{hasChanges:Gr,lastActionID:Pe.ref,savedActionID:Pe.ref,canUndo:Pe.ref,canRedo:Pe.ref})}get hasChanges(){return this.savedActionID!==this.lastActionID}markUnchanged(){this.savedActionID=this.lastActionID}saveCreatedObjects(t){this.finishActions(),this.addEdit(new p$(this.ed,t))}deleteObjects(t){this.finishActions(),this.addEdit(new HT(this.ed,t))}saveNewGroup(t){this.finishActions(),this.addEdit(new m$(this.ed,t))}ungroupGroup(t){this.finishActions(),this.addEdit(new g$(this.ed,t))}saveTransform(t){this.finishActions()&&this.addEdit(new db(this.ed,[t]))}savePositions(t){this.finishActions()&&this.addEdit(new db(this.ed,t))}saveRotation(t,n,r){this.finishActions(),this.addEdit(new WT(this.ed,t,n,r))}saveHyper(t){this.finishActions(),this.addEdit(new qT(this.ed,t))}saveAttrib(t){this.finishActions(),this.addEdit(new KT(this.ed,t))}saveName(t){this.finishActions(),this.addEdit(new YT(this.ed,t))}savePoints(t){this.finishActions()}saveArrows(t){this.finishActions()}saveArea(t){this.finishActions()&&this.addEdit(new ZT(this.ed,t))}saveInputValue(t){this.finishActions(),this.addEdit(new XT(this.ed,t))}savePenProps(t){this.finishActions()&&this.addEdit(new QT(this.ed,t))}saveBrushProps(t){this.finishActions()&&this.addEdit(new JT(this.ed,t))}saveBrushImage(t){this.finishActions(),this.addEdit(new eM(this.ed,t))}saveCreatedPen(t){this.finishActions(),this.addEdit(new hb(this.ed,t))}saveCreatedBrush(t){this.finishActions(),this.addEdit(new fb(this.ed,t))}saveCreatedImage(t){this.finishActions(),this.addEdit(new v$(this.ed,t))}deleteImage(t){this.finishActions(),this.addEdit(new y$(this.ed,t))}deletePen(t){this.finishActions(),this.addEdit(new sge(this.ed,t))}saveLinePen(t){this.finishActions(),this.addEdit(new tM(this.ed,t))}deleteBrush(t){this.finishActions(),this.addEdit(new age(this.ed,t))}saveLineBrush(t){this.finishActions(),this.addEdit(new nM(this.ed,t))}saveSceneOrder(t,n=null,r=300){this.finishActions();const o=this.undoCommits.at(-1);if(o instanceof ub&&Date.now()-o.updatedAt<r){o.updateTimestamp();return}const i=new ub(this.ed,t,n);this.addEdit(i)}saveChildOrder(){this.finishActions(),this.addEdit(new GT(this.ed,this.ed.children))}separateCommit(){this.undoCommits.at(-1)?.complete?.()}undo(){const t=this.undoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof VT&&this.undoCommits.push(t),r}this.redoCommits.push(n),this.lastActionID=this.undoCommits.at(-1)?.id||0,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}redo(){const t=this.redoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof VT&&this.redoCommits.push(t),r}this.undoCommits.push(n),this.lastActionID=n.id,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}batch(t){this.batchMode=!0;const n=t();this.batchMode=!1;const{batchEdits:r}=this;if(this.batchEdits=[],!this.finishActions())return n;let o;return r.length>1?o=new rM(r):o=r[0],this.addEdit(o),n}pendNextEdit(){this.pendingMode=!0}pushPendingEdit(){this.pendingMode=!1;const{pendingEdit:t}=this;t&&(this.pendingEdit=null,this.addEdit(t))}clearPendingEdit(){this.pendingMode=!1,this.pendingEdit=null}addEdit(t){if(this.batchMode){this.batchEdits.push(t);return}if(this.pendingMode){const n=this.pendingEdit;n&&(this.addEditToStack(n),console.warn(`Действие '${n.title}' было завершено автоматически.
Оно должно быть завершено вручную через '${this.pushPendingEdit.name}' или '${this.clearPendingEdit.name}'`)),this.pendingEdit=t;return}this.addEditToStack(t)}addEditToStack(t){this.undoCommits.push(t),this.canUndo=!0,this.redoCommits=[],this.canRedo=!1,this.lastActionID=t.id,this.saveChanges()}saveChanges(){this.saveTaskQueued||(this.saveTaskQueued=!0,queueMicrotask(()=>{this.saveTaskQueued=!1,this.ed._saveChanges()}))}finishActions(){return this.batchMode?!0:this.pendingEdit?!1:(this.ed._actions.finishCurrent(),!0)}}class pb{constructor(t,n){this.scene=t,this._jf=n,n.key>0&&n.type==="group"?this.children=n.children.map(r=>new pb(t,r)):this.children=[],this.isChildImage=n.key<0,this.isChildIcon=!!n.data[e$],vt(this,{select:be})}get key(){return this._jf.key}get type(){return this._jf.type}get name(){return this._jf.data.name||""}select(){this.scene._createSelection([this._jf],!0)}}function oM(e,t){return Array.from({length:t-e+1},(n,r)=>{const o=r+e;return[o,o.toString()]})}const gb=oM(0,15),b$=oM(16,23),cge=oM(24,31);class w${constructor(t,n,{canResize:r=!0,canMove:o=!0,canRotate:i=!0,canSetName:s=!0,canSetHyper:a=!0,layerRange:c=gb}){this.scene=t,this._canResize=r,this.canMove=o,this.canRotate=i,this.canSetName=s,this.canSetHyper=a,this.layerRange=c;const{x:u,y:h,width:f,height:g,data:m,attrib:y}=n,{name:b="",hyper:v=null}=m,S=Xv(Wu(y),c[0][0],c.at(-1)[0]),E=!!(y&Mp);this.x=u,this.y=h,this.width=f,this.height=g,this.name=b,this.layer=S,this.isUnselectable=E,this.hyper=v,vt(this,{x:Pe.ref,y:Pe.ref,width:Pe.ref,height:Pe.ref,name:Pe.ref,isUnselectable:Pe.ref,layer:Pe.ref,hyper:Pe.ref,set:be,rotate:be,delete:be})}destroy(){}onTransformChanged(){}get key(){return this._jf.key}get canResize(){return this._canResize}set({x:t=this.x,y:n=this.y,width:r=this.width,height:o=this.height,name:i=this.name,layer:s=this.layer,isUnselectable:a=this.isUnselectable,hyper:c=this.hyper}){const u=this._jf;if(r=Math.max(r,1),o=Math.max(o,1),(this.x!==t||this.y!==n||this.width!==r||this.height!==o)&&(this.x=t,this.y=n,this.width=r,this.height=o,this.scene._history.saveTransform(u),u.set({x:t,y:n,width:r,height:o}),this.onTransformChanged(),xi(u)?._notifySlotMoved(),vd(u)?._notifySelectedObjectTransformed()),this.name!==i&&(this.name=i,this.scene._history.saveName(u),i?u.data.name=i:delete u.data.name),this.layer!==s||this.isUnselectable!==a){this.layer=s,this.isUnselectable=a;const h=(a?Mp:0)|jC(s);this.scene._history.saveAttrib(u),u.set({attrib:h})}this.hyper!==c&&(this.hyper=c,this.scene._history.saveHyper(u),c?u.data.hyper=c:delete u.data.hyper)}rotate(t,n){if(t===0)return;const r=this._jf;this.scene._history.saveRotation(r,t,n),r.rotate(t,n),this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,vd(r)?._notifySelectedObjectTransformed()}delete(){vd(this._jf)?.reset(),this.scene._history.deleteObjects([this._jf])}}class mg extends w${constructor(t,n,r={}){super(t,n,r),this._z=n.scene.order.indexOf(n),vt(this,{_z:Pe.ref,moveToTop:be,moveToBottom:be,increaseZ:be,decreaseZ:be})}get z(){return this._z+1}setZ(t){if(this._z===t||t<0)return;const n=this._jf.scene,r=n.order,o=GC(r,t,this._jf);n.set({order:o}),this.scene._refreshChildImages();const i=n.order.indexOf(this._jf);i!==this._z&&(this._z=i,this.scene._history.saveSceneOrder(r,this._jf))}moveToTop(){this.setZ(this._jf.scene.order.length-1)}moveToBottom(){this.setZ(0)}increaseZ(){this.setZ(this._z+1)}decreaseZ(){this.setZ(this._z-1)}}class S${constructor(t,n){const{color:r,rop:o,style:i,width:s}=n;this.style=i,this.color=r,this.rop=o,this.width=s,this.scene=t,this._jf=n,vt(this,{style:Pe.ref,color:Pe.ref,rop:Pe.ref,width:Pe.ref,set:be})}set({style:t=this._jf.style,color:n=this.color,rop:r=this.rop,width:o=this.width}){this.style=t,this.color=n,this.rop=r,this.width=o,this.scene._history.savePenProps(this._jf),this._jf.set({color:n,rop:r,style:t,width:o})}}class C${constructor(t,n,r){const{color:o,rop:i,style:s,hatch:a,image:c}=n;this.style=s,this.color=o,this.rop=i,this.hatch=a,this.image=c,this.scene=t,this._jf=n,this.target=r,vt(this,{color:Pe.ref,rop:Pe.ref,style:Pe.ref,hatch:Pe.ref,image:Pe.ref,set:be,setImage:be})}set({style:t=this.style,color:n=this.color,rop:r=this.rop,hatch:o=this.hatch}){const i=this.scene._history;i.batch(()=>{this.color=n,this.style=t,this.rop=r,this.hatch=o;const s=this._jf;if(i.saveBrushProps(s),s.set({color:n,rop:r,style:t,hatch:o}),s.image&&t!==et.BS_PATTERN){this.image=null;const a=s.image;i.saveBrushImage(s),s.set({image:null}),i.deleteImage(a)}})}setImage(t){const n=this.scene._history;n.batch(()=>{this.image=t;const r=this._jf,o=this.scene._scene.image(t,{opaque:!0});n.saveCreatedImage(o);const i=r.image;n.saveBrushImage(r),r.set({image:o}),i&&n.deleteImage(i)})}}const $c=5;class uge extends mg{constructor(t,n){const r=ib(n);super(t,n,{canMove:!r,canResize:!r,canRotate:!r,canSetName:!r,canSetHyper:!r,layerRange:r?cge:gb}),this.isPointsEditModeActive=!1,this.type="line",this.hasAngle=!1,this.pen=n.pen&&new S$(t,n.pen),this.brush=n.brush&&new C$(t,n.brush,n),this.start=n.start,this.end=n.end,this.connection=r,this._jf=n;const o=t._tools,i=t._scene,s=o.blackSelectionBorderPen,a=o.redBrush,c=Ll|za|Es,u=[],h=[],f=$c*2;for(let g=0;g<n.length;++g){const m=n.point(g);u.push(m);const y=i.line([0,0,f,0,f,f,0,f],{key:Po,x:m.x-$c,y:m.y-$c,brush:a,pen:s,attrib:c});h.push(y)}i.set({order:i.order.concat(h)}),this.points=u,this.markers=h,vt(this,{pen:Pe.ref,brush:Pe.ref,start:Pe.ref,end:Pe.ref,points:Pe.ref,isPointsEditModeActive:Pe.ref,createPen:be,removePen:be,createBrush:be,removeBrush:be,setArrows:be,addPoint:be,removePoint:be,setPoint:be,setPointsEditMode:be})}destroy(){const t=this.scene._scene;t.set({order:t.order.filter(n=>!this.markers.includes(n))})}setPointsEditMode(t){this.isPointsEditModeActive=t;const{selection:n}=this.scene;if(n?.type==="single")if(n.setVisible(!t),t){const r=this.markers.length-1;this.markers.forEach((o,i)=>{o.set({attrib:o.attrib&-6}),o.data[md]={selection:n,direction:"both",lineEditorIndex:i,notifyPositionChanged:this.alignPointsToShape.bind(this,o),complete:io((i===0||i===r)&&this.complete.bind(this,o))}})}else this.markers.forEach(r=>r.set({attrib:r.attrib|(za|Es)})),n._notifySelectedObjectTransformed()}complete(t){}alignPointsToShape(t=null){const n=this._jf,r=[];for(let o=0;o<n.length;++o){const i=n.point(o);r.push(i);const s=this.markers[o];s!==t?s.set({x:i.x-$c,y:i.y-$c}):n.setPoint(o,{x:t.x+$c,y:t.y+$c})}this.points=r,this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.connection?.updateShift()}onTransformChanged(){this.alignPointsToShape()}createPen(t){if(this.pen)return;const n=this.scene._scene.pen(t),r=this._jf,o=this.scene._history;o.batch(()=>{o.saveCreatedPen(n),o.saveLinePen(r)}),r.set({pen:n}),this.pen=new S$(this.scene,n)}removePen(){const{pen:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLinePen(n),n.set({pen:null}),r.deletePen(t._jf)}),this.pen=null}createBrush(t){if(this.brush)return;const n=this.scene._scene.brush(t),r=this._jf,o=this.scene._history;o.batch(()=>{o.saveLineBrush(r),r.set({brush:null}),o.saveCreatedBrush(n)}),r.set({brush:n}),this.brush=new C$(this.scene,n,this._jf)}removeBrush(){const{brush:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLineBrush(n),n.set({brush:null}),r.deleteBrush(t._jf)}),this.brush=null}setArrows({start:t=this.start,end:n=this.end}){this.start=t,this.end=n,this.scene._history.saveArrows(this._jf),this._jf.set({start:t,end:n})}onSinglePointChanged(){this.alignPointsToShape();const t=this._jf;this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,vd(t)?._notifySelectedObjectTransformed()}addPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.addPoint({x:t,y:n},r);const o=$c*2,i=this.scene._tools,s=this.scene._scene,a=s.line([0,0,o,0,o,o,0,o],{key:Po,x:t,y:n,brush:i.redBrush,pen:i.blackSelectionBorderPen});this.markers.push(a),s.set({order:s.order.concat(a)}),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive)}setPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.setPoint(t,{x:n,y:r}),this.connection?.updateShift(),this.onSinglePointChanged()}removePoint(t){this.scene._history.savePoints(this._jf),this._jf.removePoint(t)&&(this.markers.splice(t,1)[0].delete(!0),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive))}}class dge extends mg{constructor(t,n){const r=$pe(n);super(t,n,{canResize:!r,canRotate:!r,layerRange:r?b$:gb}),this.type="imageView",this.hasAngle=!0,this.pad=r,this.angle=n.angle,this.area=n.area,this._jf=n,vt(this,{angle:Pe.ref,area:Pe.ref,setAngle:be,setArea:be})}get image(){return this._jf.image}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,vd(n)?._notifySelectedObjectTransformed()}setArea(t){this.area=t,this.scene._history.saveArea(this._jf),this._jf.set({area:t})}}class hge extends mg{constructor(t,n){super(t,n),this.type="textView",this.hasAngle=!0,this._jf=n,this.angle=n.angle,vt(this,{angle:Pe.ref,setAngle:be})}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,vd(n)?._notifySelectedObjectTransformed()}}class fge extends mg{constructor(t,n){super(t,n,{canRotate:!1,canSetHyper:!1}),this.type="input",this.hasAngle=!1,this._jf=n,this.value=n.value,vt(this,{value:Pe.ref,setValue:be})}get inputType(){return this._jf.inputType}setValue(t){this.value=t,this.scene._history.saveInputValue(this._jf),this._jf.set({value:t})}}class pge extends mg{constructor(t,n){super(t,n,{canRotate:!1}),this.type="videoView",this.hasAngle=!1,this._jf=n}}class gge extends w${constructor(t,n){const r=fg(n);super(t,n,{canRotate:!r,layerRange:r?b$:gb}),this.type="group",this.hasAngle=!1,this._jf=n,this.child=r,this.children=n.children.map(o=>new pb(t,o)),vt(this,{ungroup:be,canResize:Gr})}get canResize(){return this.child?this.child.schema.klass.image?.resizable||!1:!0}get canUngroup(){return!this.child}ungroup(){ks.assert(this.canUngroup);const t=this._jf;vd(t)?.reset();const n=t.children;this.scene._history.ungroupGroup(t),this.scene._createSelection(n)}}class mge{constructor(t,n){this._reactKey=Mk(),this.type="_pseudoGroup",this._jf=t.map(i=>i._jf),this.objects=t,this.selection=n;const{x:r,y:o}=ay(this._jf);this.x=r,this.y=o,this.canCreateGroup=t.filter(i=>!hg(i._jf)).length>1,this.canCreateConnection=t.length===2&&t.every(i=>xi(i._jf)),vt(this,{x:Pe.ref,y:Pe.ref,createConnection:be,createGroup:be,delete:be,set:be})}get canMove(){return!0}set({x:t=this.x,y:n=this.y}){const r=t-this.x,o=n-this.y;r===0&&o===0||(this.x=t,this.y=n,this.selection.scene._history.savePositions(this._jf),this._jf.forEach(i=>{const s=i.x+r,a=i.y+o;i.set({x:s,y:a}),xi(i)?._notifySlotMoved()}),this.selection._notifySelectedObjectTransformed())}createGroup(){ks.assert(this.canCreateGroup);const t=this.selection.scene;this.selection.reset();const n=t._scene.group(this._jf.filter(r=>!hg(r)));t._history.saveNewGroup(n),t._createSelection([n])}createConnection(){ks.assert(this.canCreateConnection),this.selection.scene.startCreateConnection()}delete(){this.selection.reset(),this.selection.scene._history.deleteObjects(this._jf)}}function vge(e,t){switch(t.type){case"line":return new uge(e,t);case"imageView":return new dge(e,t);case"textView":return new hge(e,t);case"input":return new fge(e,t);case"videoView":return new pge(e,t);case"group":return new gge(e,t)}}class yge{constructor(t,n){this.target=n;const r=t._scene,o=t._tools;this.scene=r;const i=o.blueSelectionShadowBrush,s=n.objects.map(({_jf:a})=>{const c=r.line([0,0,a.width,0,a.width,a.height,0,a.height],{key:Po,attrib:Ll|Es,x:a.x,y:a.y,brush:i});return jT(a)&&c.rotate(a.angle,a),c});r.set({order:r.order.concat(s)}),this.shadows=s}align(){const{objects:t}=this.target;this.shadows.forEach((n,r)=>{const o=t[r]._jf,{x:i,y:s}=o;n.set({x:i,y:s}),jT(o)?n.rotate(-o.angle).set({x:i,y:s}).rotate(o.angle,o):n.set({x:i,y:s})})}toTop(){const{shadows:t,scene:n}=this,r=n.order.filter(o=>!t.includes(o)).concat(t);n.set({order:r})}remove(){const{shadows:t,scene:n}=this,r=n.order.filter(o=>!t.includes(o));n.set({order:r})}}class bge{constructor(t,n){this.type="multi",this.scene=t,n.forEach(o=>o._jf.data[Vc]=this);const r=this.object=new mge(n,this);this.shadow=new yge(t,r),vt(this,{reset:be})}setVisible(t){}reset(){this.shadow.remove(),this.object.objects.forEach(({_jf:t})=>delete t.data[Vc]),this.scene._notifySelectionRemoved()}_notifySelectedObjectTransformed(){this.shadow.align()}_notifySceneOrderChanged(){this.shadow.toTop()}_getJF(){return this.object._jf}}const Wr=10,x$=Math.PI*2;class wge{constructor(t){const{scene:n}=t,r=this.scene=n._scene,o=n._tools,i=o.blackSelectionBorderPen,s=o.graySelectionBorderBrush,a=Ll|Es,{a:c,b:u}=t,h=o.makeBorder(c.slot,!0),f=o.makeBorder(u.slot,!0),g=[h,f],{slot:m}=t;if(m.length===2){const{x:y,y:b}=t.slot.point(0),{x:v,y:S}=t.slot.point(1),E=(y+v+Wr)/2,T=(b+S+Wr)/2,R=r.line([0,0,Wr,0,Wr,Wr,0,Wr],{key:Po,x:E-Wr,y:T-Wr,brush:s,pen:i,attrib:a});g.push(R)}r.set({order:r.order.concat(g)}),this.objects=g}setVisible(t){}align(){}toTop(){const{scene:t,objects:n}=this,r=t.order.filter(o=>!n.includes(o)).concat(n);t.set({order:r})}remove(){const{scene:t,objects:n}=this,r=t.order.filter(o=>!n.includes(o));t.set({order:r})}}class Sge{constructor(t,n){this.prevAngle=0;const{scene:r}=n;this.selection=t,this.o=n,this.scene=r;const o=r._scene,i=r._tools,s=n.canResize&&(!n.hasAngle||n.angle%x$===0),a=s?i.blackSelectionBorderPen:null,c=s?i.graySelectionBorderBrush:i.transparentSelectionBorderBrush,u=Ll|(s?0:Es),h=(v,S,E="both")=>{const T=o.line([0,0,Wr,0,Wr,Wr,0,Wr],{key:Po,x:v,y:S,brush:c,pen:a,attrib:u});return T.data[md]={selection:t,direction:E,notifyPositionChanged:this.resizeWith.bind(this,T)},T},f=n.x-Wr,g=n.y-Wr,m=n.width+Wr,y=n.height+Wr,b=[h(f,g),h(f+m/2,g,"vert"),h(f+m,g),h(f+m,g+y/2,"horiz"),h(f+m,g+y),h(f+m/2,g+y,"vert"),h(f,g+y),h(f,g+y/2,"horiz")];n.canRotate&&n.hasAngle&&(b.forEach(v=>v.rotate(n.angle,n)),this.prevAngle=n.angle),o.set({order:o.order.concat(...b)}),this.border=b}setVisible(t){t?this.border.forEach(n=>n.set({attrib:n.attrib&-6})):this.border.forEach(n=>n.set({attrib:n.attrib|(za|Es)}))}align(){const{o:t,border:n}=this,r=t.x-Wr,o=t.y-Wr,i=t.width+Wr,s=t.height+Wr,a=t.canRotate&&t.hasAngle;if(a){const c=t.angle%x$;for(const u of this.border){u.rotate(-this.prevAngle);let{attrib:h}=u;c?h|=Es:h&=~Es;const f=this.scene._tools;u.set({attrib:h,pen:c?null:f.blackSelectionBorderPen,brush:c?f.transparentSelectionBorderBrush:f.graySelectionBorderBrush})}}n[0].set({x:r,y:o}),n[1].set({x:r+i/2,y:o}),n[2].set({x:r+i,y:o}),n[3].set({x:r+i,y:o+s/2}),n[4].set({x:r+i,y:o+s}),n[5].set({x:r+i/2,y:o+s}),n[6].set({x:r,y:o+s}),n[7].set({x:r,y:o+s/2}),a&&(this.border.forEach(c=>c.rotate(t.angle,t)),this.prevAngle=t.angle)}toTop(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(o=>!t.includes(o)).concat(t);n.set({order:r})}remove(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(o=>!t.includes(o));n.set({order:r})}resizeWith(t){const n=this.border,r=[n[0],n[1],n[2]],o=[n[2],n[3],n[4]],i=[n[4],n[5],n[6]],s=[n[6],n[7],n[0]],{x:a,y:c}=t;r.includes(t)&&r.forEach(v=>v.set({y:c})),i.includes(t)&&i.forEach(v=>v.set({y:c})),s.includes(t)&&s.forEach(v=>v.set({x:a})),o.includes(t)&&o.forEach(v=>v.set({x:a})),r[1].set({x:(r[0].x+r[2].x)/2}),i[1].set({x:(i[0].x+i[2].x)/2}),s[1].set({y:(s[0].y+s[2].y)/2}),o[1].set({y:(o[0].y+o[2].y)/2});const u=s.reduce((v,S)=>Math.min(v,S.x),1/0),h=o.reduce((v,S)=>Math.max(v,S.x),-1/0),f=r.reduce((v,S)=>Math.min(v,S.y),1/0),g=i.reduce((v,S)=>Math.max(v,S.y),-1/0),m=h-u-Wr,y=g-f-Wr,{o:b}=this;this.selection._notifyBorderRectChanged({x:m<1?b.x:u+Wr,y:y<1?b.y:f+Wr,w:Math.max(m,1),h:Math.max(y,1)}),(m<1||y<1)&&this.align()}}class Cge{constructor(t,n){this.type="single",this.ignoreObjectTransforms=!1,this.scene=t,this.object=n,n._jf.data[Vc]=this;const r=n.type==="line"&&n.connection;r?this.border=new wge(r):this.border=new Sge(this,n),vt(this,{reset:be})}setVisible(t){this.border.setVisible(t)}reset(){delete this.object._jf.data[Vc],this.border.remove(),this.scene._notifySelectionRemoved(),this.object.destroy()}_notifyBorderRectChanged(t){const{x:n,y:r,w:o,h:i}=t;this.ignoreObjectTransforms=!0,this.object.set({x:n,y:r,width:o,height:i}),this.ignoreObjectTransforms=!1}_notifySelectedObjectTransformed(){this.ignoreObjectTransforms||this.border.align()}_notifySceneOrderChanged(){this.border.toTop()}_getJF(){return[this.object._jf]}}const _$=65535,E$=255<<16,T$=255<<24,xge=1,_ge=2,Ege=4,Tge=new Ek(window),mb=new Set;function Mge(){return mb.size?(mb.forEach(e=>e._scene._render()),!0):!1}function Oge(e){mb.add(e),Tge.run(Mge)}function M$(e){mb.delete(e)}class iM{constructor(t,{fileContentTransfer:n=null,fileUploader:r=null,schema:o=null}={}){this.onNodeSelected=new Hr,this.onSaved=new Hr,this.selection=null,this.textEditor=null,this.lastCursorX=0,this.lastCursorY=0,this.viewScale=1,this._actions=new ige(this),this._history=new lge(this),this.cameraMoveStart=null,this.prevPicked=null,this.highlightedItem=null,this.lastCutId="",this.pointerInside=!1,this.focusAfterViewMounted=null,this.isViewMounted=!1,this._childImageChanged=()=>{this._refreshChildImages(),this.selection&&this._createSelection(this.selection._getJF()),this.connections.forEach(u=>u._notifyTargetMoved())},this.handleWheel=u=>{if(u.preventDefault(),u.stopPropagation(),Zu.zoomWithCtrl&&!u.ctrlKey){const y=this._scene;this.setSceneXY(y.x+Math.round(u.deltaX*.5),y.y+Math.round(u.deltaY*.5));return}const f=this.viewScale,g=Math.sign(u.deltaY)*Math.max(f**2,1)*.1,m=f-g;this._setScale(m,u)},this.handleCopy=u=>{if(!this.isFocused)return;u.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&d$(u.clipboardData,h)},this.handleCut=u=>{if(!this.isFocused)return;u.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&(d$(u.clipboardData,h),u.clipboardData.setData(`editor-cut-${this.lastCutId=AT()}`,"true")),this.selection?.object.delete()},this.handlePaste=u=>{this.isFocused&&(u.preventDefault(),this.insertFromDropOrPaste(u.clipboardData,{x:this.lastCursorX,y:this.lastCursorY}))},this.handleDrop=u=>{this.handleDragLeave(),u.preventDefault(),u.stopPropagation(),this.focus();const h=this._scene.x+Math.round(u.offsetX),f=this._scene.y+Math.round(u.offsetY);this.insertFromDropOrPaste(u.dataTransfer,{x:h,y:f})},this.handleDragOver=u=>{u.preventDefault();const h=u.dataTransfer;h.dropEffect="none";const f=this.fileContentTransfer?.get(h);if(f){(f.image||f.scene||this.schema&&f.klass?.isInLibrary)&&(h.dropEffect="link");return}const{items:g,types:m}=h;if(g.length&&g[0].type.startsWith("image/")||m.some(y=>y==="text/plain")){h.dropEffect="copy";return}},this.handleDragEnter=u=>{this.handleDragOver(u),u.dataTransfer.dropEffect!=="none"&&this.view.parentElement?.style.setProperty("outline","dashed orange 2px")},this.handleDragLeave=()=>{this.view.parentElement?.style.setProperty("outline","none")},this.handlePointer=u=>{if(!u.isPrimary)return;u.preventDefault(),u.stopPropagation();const h=Math.round(u.offsetX),f=Math.round(u.offsetY),g=this._scene.x+h,m=this._scene.y+f;if(u.type==="pointerdown"&&(this.view.setPointerCapture(u.pointerId),this.focus()),u.ctrlKey?this._tryHighlight(g,m,u.shiftKey):this._removeHighlights(),u.buttons&_ge){this.cameraMoveStart||={x:g,y:m};const v=this.cameraMoveStart.x-h,S=this.cameraMoveStart.y-f;this._scene.set({x:v,y:S})}else this.cameraMoveStart=null,this.lastCursorX=g,this.lastCursorY=m;const y=this._actions;if(!y.canHandlePointer)return;if(u.buttons&Ege){y.inAction?y.finishCurrent():this.selection?.reset();return}const b=(u.type==="pointermove"||u.buttons&xge)&&u.type!=="pointercancel"?u.type:"pointerup";y.handlePointer({type:b,ctrlKey:u.ctrlKey,shiftKey:u.shiftKey,sceneX:g,sceneY:m})},this.handlePointerEnter=()=>{this.pointerInside=!0},this.handlePointerLeave=()=>{this.pointerInside=!1,this._removeHighlights()},this.handleWindowKeyboardEvent=u=>{!u.repeat&&this.pointerInside&&(u.key==="Control"||u.key==="Shift")&&(u.ctrlKey?this._tryHighlight(this.lastCursorX,this.lastCursorY,u.shiftKey):this._removeHighlights())},this.handleKeyboard=u=>{this._handleKeyboard(u)&&(u.preventDefault(),u.stopPropagation())};const i=this._scene=new DT(t),{domElement:s}=i;s.tabIndex=-1,s.style.outline="none",s.style.transformOrigin="top left",i.set({disableInputs:!0});const{hiddenLayers:a,selectUnselectable:c}=i;this.hideOther=!!(a&_$),this.hideChildren=!!(a&E$),this.hideConnections=!!(a&T$),this.selectUnselectable=c,this._tools=new Vpe(i),this.fileContentTransfer=n,this.fileUploader=r,o?(this.schema=o,this.pads=Si(i.order,u=>u.type==="imageView"&&u.image.src===PC.src&&new cb(this,u)),this.children=o.children.list.map(u=>{const h=i.objects.get(u.key);if(h?.type!=="group")throw Error(`Изображение имиджа '${u}' отсутствует на сцене`);return new lb(this,u,h)}),this.connections=o.childConnections.list.map(u=>{const h=i.objects.get(u.key);if(h?.type!=="line")throw Error(`Изображение связи '#${u.key}' отсутствует на сцене`);return new gg(this,u,h)})):(this.schema=null,this.pads=[],this.children=[],this.connections=[]),vt(this,{schema:Pe.ref,lastCursorX:Pe.ref,lastCursorY:Pe.ref,viewScale:Pe.ref,selection:Pe.ref,children:!1,pads:!1,connections:!1,hideChildren:Pe.ref,hideConnections:Pe.ref,hideOther:Pe.ref,selectUnselectable:Pe.ref,textEditor:Pe.ref,handleDrop:be,handlePointer:be,handleCopy:be,handleCut:be,handlePaste:be,handlePointerLeave:be,handleWindowKeyboardEvent:be,handleKeyboard:be,handleWheel:be,setLayers:be,setChildOrder:be,cancel:be,undo:be,redo:be,save:be,selectAll:be,selectNext:be,startCreateConnection:be,startCreateText:be,startCreateInput:be,startCreateRect:be,startCreateLine:be,startCreateButton:be,openTextEditor:be,startReorderChildren:be,replaceSchema:be,onViewMounted:be,onViewUnmounted:be,pendNextEdit:be,pushPendingEdit:be,resetScale:be,uploadFile:to,focus:!1,dispose:!1}),s.addEventListener("contextmenu",_k),s.addEventListener("wheel",this.handleWheel,{passive:!1}),s.addEventListener("dragover",this.handleDragOver),s.addEventListener("dragenter",this.handleDragEnter),s.addEventListener("dragleave",this.handleDragLeave),s.addEventListener("drop",this.handleDrop),s.addEventListener("pointerdown",this.handlePointer),s.addEventListener("pointermove",this.handlePointer),s.addEventListener("pointerup",this.handlePointer),s.addEventListener("pointercancel",this.handlePointer),s.addEventListener("pointerenter",this.handlePointerEnter),s.addEventListener("pointerleave",this.handlePointerLeave),s.addEventListener("keydown",this.handleKeyboard),s.addEventListener("keyup",this.handleKeyboard),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste),document.addEventListener("cut",this.handleCut),window.addEventListener("keydown",this.handleWindowKeyboardEvent),window.addEventListener("keyup",this.handleWindowKeyboardEvent)}dispose(){this.children.forEach(t=>t._unsubscribe()),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("cut",this.handleCut),window.removeEventListener("keydown",this.handleWindowKeyboardEvent),window.removeEventListener("keyup",this.handleWindowKeyboardEvent),M$(this),this._scene.dispose()}resetScale(){this._setScale(1)}replaceSchema(t){if(ks.assert(this.schema),t!==this.schema){if(t.klass!==this.schema.klass)throw Error("Типы имиджей не совпадают");this.schema=t,this.pads.forEach(n=>n._replaceSchema()),t.children.list.forEach((n,r)=>{this.children[r]._replaceSchema(n)}),t.childConnections.list.forEach((n,r)=>{this.connections[r]._replaceConnection(n)})}}setLayers({hideChildren:t=this.hideChildren,hideConnections:n=this.hideConnections,hideOther:r=this.hideOther,selectUnselectable:o=this.selectUnselectable}){if(this.hideOther!==r||this.hideChildren!==t||this.hideConnections!==n){this.hideChildren=t,this.hideConnections=n,this.hideOther=r;const i=(r?_$:0)|(t?E$:0)|(n?T$:0);this._scene.set({hiddenLayers:i}),this._saveChanges()}this.selectUnselectable!==o&&(this._scene.set({selectUnselectable:o}),this.selectUnselectable=o)}setChildOrder(t){const{schema:n}=this;n&&(n.reorderChildren(t.map(r=>r.schema)),this.children=t)}get hasChanges(){return this._history.hasChanges}get inAction(){return this._actions.inAction}get isInChildReorderMode(){return this._actions.isInChildReorderMode}get canUndo(){return this._history.canUndo}undo(){this._history.undo()}get canRedo(){return this._history.canRedo}redo(){this._history.redo()}cancel(){this._actions.finishCurrent()}_abort(){}selectAll(){this._actions.finishCurrent();const t=l$(this._scene);t.length&&this._createSelection(t)}selectNext(t){this._actions.finishCurrent();const n=l$(this._scene);if(!n.length)return;const r=this.selection?._getJF()[0].key||0,o=n.sort((s,a)=>t?a.key-s.key:s.key-a.key),i=o.find(s=>t?s.key<r:s.key>r)||o[0];this._createSelection([i],!0)}startCreateConnection(){if(!this.schema)return;this._abort(),this.setLayers({hideConnections:!1,hideChildren:!1});let t=null,n=null;const r=this.selection?._getJF();if(r&&(r.length===1||r.length===2)&&(t=xi(r[0]),n=r.length===2?xi(r[1]):null),t&&n){const o=this.connections.find(c=>c.includes(t)&&c.includes(n));if(o){this._createSelection([o.slot]);return}const i=this.createConnectionSlot(t,n),s=this.schema.createConnection(t.schema,n.schema,{key:i.key,aPadKey:io(t.type==="pad"&&t.key),bPadKey:io(n.type==="pad"&&n.key)});this._createConnection(i,s);const a=[i];this._history.saveCreatedObjects(a),this._createSelection(a)}else{this.selection?.reset();const o=t||n;this._actions.startCreateConnection(o)}}startReorderChildren(){this.schema&&(this.selection?.reset(),this.setLayers({hideChildren:!1}),this._actions.startReorderChildren())}startCreateLine(){this.setLayers({hideOther:!1}),this._actions.startCreateLine()}startCreateText(){this.setLayers({hideOther:!1}),this._actions.startSelectSampleCoords(Gpe,"Выбор координат элемента текста")}startCreateSample(t,n){this.setLayers({hideOther:!1}),this._actions.startCreateSample(t,n)}startCreateInput(){this.startCreateSample(Wpe,"Создание элемента ввода")}startCreateButton(){this.startCreateSample(Kpe,"Создание кнопки")}startCreateRect(){this.startCreateSample(qpe,"Создание прямоугольника")}pendNextEdit(){this._history.pendNextEdit()}pushPendingEdit(){this._history.pushPendingEdit()}get view(){return this._scene.domElement}get isFocused(){return document.activeElement===this.view}focus(){this.view.focus()}_pick(t,n){const r=this._scene.pick(t,n);return r?.data[ob]?.slot||r}_pickSmart(t,n,r){let o=this._pick(t,n);if(!o)return this.prevPicked=null,null;if(o.data[md])return o;let i=null;if(r){const s=Date.now();this.prevPicked&&s-this.prevPicked.pickedAt<300&&(i=this.prevPicked.item),this.prevPicked={item:o,pickedAt:s}}else this.prevPicked=null;for(;o.parent&&o.parent!==i&&!o.data[Vc];)o=o.parent;return r&&(this.prevPicked.item=o),o}_createSelection(t,n,r){this._removeHighlights(),this.selection?.reset();const o=Hpe(t);if(!o.length)return null;if(!this.isInChildReorderMode)if(o.length===1){const[i]=o,s=vge(this,i);this.selection=new Cge(this,s);const a=fg(i);a&&this.onNodeSelected.dispatch(a.schema)}else{const i=o.map(s=>new pb(this,s));this.selection=new bge(this,i)}if(n){const[i]=o,{x:s,y:a}=i;this.isViewMounted?(r||this._outOfView(s,a))&&this._centerCameraOn(i):this.focusAfterViewMounted=i}return this.selection}onViewMounted(){Oge(this),this.isViewMounted=!0;const t=this.focusAfterViewMounted;t&&this._centerCameraOn(t),this.focusAfterViewMounted=null}onViewUnmounted(){M$(this),this.isViewMounted=!1}_setHighlight(t,n=!0){if(this.highlightedItem?.item===t)return;this._removeHighlights(void 0,n),n&&fg(t)?._setHover(!0);const r=this._tools.highlightFor(t),o=this._tools.textFor(t);this.highlightedItem={item:t,border:r,text:o}}_removeHighlights(t,n=!0){const r=this.highlightedItem;r&&(t&&r.item!==t||(n&&fg(r.item)?._setHover(!1),r.border?.delete(!0),r.text?.delete(!0),this.highlightedItem=null))}_tryHighlight(t,n,r=!1){if(this._actions.highlightsDisallowed)return;let o=this._pick(t,n);if(!r)for(;o?.parent;)o=o.parent;if(!o||o.data[Vc]||o.data[md]){this._removeHighlights();return}this._setHighlight(o),this.highlightedItem?.text?.set({x:t,y:n+24})}_outOfView(t,n){const r=this._scene,o=Xv(t,r.x,r.x+r.domElement.clientWidth),i=Xv(n,r.y,r.y+r.domElement.clientHeight);return o!==t||i!==n?{x:o,y:i}:null}_centerCameraOn(t){const n=this._scene,r=t.x-(n.domElement.clientWidth-t.width)/2,o=t.y-(n.domElement.clientHeight-t.height)/2;this.setSceneXY(r,o)}_hideChildImages(){this.children.forEach(t=>t._forceHide())}_refreshChildImages(){this.children.forEach(o=>o._forceUpdate());const t=this._scene,n=[],r=[];for(const o of t.order)o.key>0||o.data[ob]?n.push(o):r.push(o);t.set({order:n.concat(r)})}_notifyChildrenRemoved(){this.children=this.children.filter(t=>(t._unsubscribe(),t.slot.key>0)),this.children.forEach(t=>t._subscribe())}_notifyPadsRemoved(){this.pads=this.pads.filter(t=>t.slot.key>0)}_notifyConnectionsRemoved(){this.connections=this.connections.filter(t=>t.slot.key>0)}_sceneChanged(){}openTextEditor(t){this.textEditor=new Kfe(this,t._jf.text)}save(){return this._actions.finishCurrent(),this._history.markUnchanged(),this._scene.toJSON()}_saveChanges(){const{schema:t}=this;if(!t)return;this._hideChildImages();const n=this._scene.toJSON();this._refreshChildImages();const{klass:r}=t;r.set({scene:{...r.scene,data:n}}),this.children.forEach(o=>o._saveChanges()),t.applyChanges(),this.onSaved.dispatch()}_cloneObject(t){let n;const r=this._scene,o=xi(t);if(o){const s=this.schema;let a;if(o.type==="pad")n=a$(o.slot),a=this.createPad(n);else{n=this.createChildSlot(o.schema.klass,t.x,t.y,o.slot.attrib);const f=s.createChild(o.schema.klass,{key:n.key},o.schema.getState());a=this.createChild(n,f);for(let g in t.data)n.data[g]=t.data[g]}const{objects:c,order:u}=r.merge(sy(o.connections.map(f=>f.slot)),"free",!0);r.set({order:u.concat(r.order)});const h=o.connections.map(f=>{const g=c.get(f.key);ks.assert(g?.type==="line");const m=o===f.a?a:f.a,y=o===f.b?a:f.b,b=s.createConnection(m.schema,y.schema,{key:g.key,aPadKey:io(m.type==="pad"&&m.key),bPadKey:io(y.type==="pad"&&y.key),attrib:f.schemaConnection.attrib,vars:f.schemaConnection.proto.nestedConnections.map(v=>v.toJSON())});return new gg(this,b,g)});this.connections=this.connections.concat(h)}else n=a$(t);const i=n.data.name;if(i){const s=i.replace(/\d+$/,a=>(parseInt(a)+1).toString());n.data.name=s!==i?s:s+"2"}return this._refreshChildImages(),n}insertFromDropOrPaste(t,n){const r=Ype(t);if(r){const a=t.getData(`editor-cut-${this.lastCutId}`);a&&(this.lastCutId=""),this.insertFromClipboard(r,a?null:n);return}const o=this.fileContentTransfer?.pop(t);if(o){const{klass:a}=o;if(a){this.insertKlass(a,n);return}const{image:c}=o;if(c){const h=u$(c);this.insertSceneData(h,n,{name:XC(o.path)});return}const u=o.scene?.data.data;if(u){this.insertSceneData(u,n,{name:XC(o.path)});return}return}const i=t.files.item(0);if(i){this.uploadFile(i,n);return}const s=t.getData("text/plain");if(s){const a=c$(s);this.insertSceneData(a,n);return}}*uploadFile(t,n){const{fileUploader:r}=this;if(!r)return;const o=yield r.upload([t]);if(!o.length)return;const[{data:i}]=o;if(i.image){const a=u$(i.image);this.insertSceneData(a,n,{name:t.name});return}const s=i.scene?.data;s&&this.insertSceneData(s,n)}insertKlass(t,n){if(!this.schema)return;this.setLayers({hideChildren:!1}),this._abort();let r;if(this.schema.klass===t){const s=this.createPadSlot(n.x,n.y);r=this.createPad(s)}else{pg(!this.schema.hasAncestor(t),`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const s=this.createChildSlot(t,n.x,n.y),a=this.schema.createChild(t,{key:s.key});r=this.createChild(s,a)}const{slot:o}=r;o.set({x:n.x-o.width/2,y:n.y-o.height/2}),this._refreshChildImages();const i=[r.slot];this._history.saveCreatedObjects(i),this._createSelection(i)}insertFromClipboard(t,n){this._abort(),this.selection?.reset();const{schema:r}=this;let o;r&&(o=t.children?.map(f=>{const g=r.resolveKlass(f.klassUuid);return pg(g,`Имидж не существует: ${f.klass}`),pg(!r.hasAncestor(g),`Невозможно добавить '${g.name}' в схему: рекурсивная зависимость`),{...f,klass:g}}));const s=this._scene.merge(t.scene).objects;let a=i0(s);if(r){if(o&&o.length){const f=Si(o,g=>{const m=s.get(g.key);if(m?.type!=="group"){console.warn(`Изображение имиджа '${g.klass} #${g.key}' отсутствует на сцене`);return}const y=r.createChild(g.klass,{key:m.key},g.state);return new lb(this,y,m)});this.children=this.children.concat(f)}if(t.pads?.length){const f=Si(t.pads,g=>{const m=s.get(g);if(m?.type!=="imageView"){console.warn(`Изображение площадки #${g}' отсутствует на сцене`);return}return new cb(this,m)});this.pads=this.pads.concat(f)}if(t.connections?.length){const f=Si(t.connections,g=>{const m=s.get(g.key);if(m?.type!=="line"){console.warn(`Изображение связи '#${g.key}' отсутствует на сцене`);return}const[y,b]=g.nodes,v=s.get(Math.abs(y)),S=v&&xi(v);if(!S){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const E=s.get(Math.abs(b)),T=E&&xi(E);if(!T){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const R=r.createConnection(S.schema,T.schema,{key:m.key,aPadKey:io(S.type==="pad"&&S.key),bPadKey:io(T.type==="pad"&&T.key),attrib:g.attrib,vars:g.vars});return new gg(this,R,m)});this.connections=this.connections.concat(f)}this._refreshChildImages()}else(t.children?.length||t.pads?.length||t.connections?.length)&&(t.children?.forEach(f=>s.get(f.key)?.delete()),t.pads?.forEach(f=>s.get(f)?.delete()),t.connections?.forEach(f=>s.get(f.key)?.delete()),a=a.filter(f=>f.key>0));if(!a.length)return;const c=a,u=this._tools.tempGroup(c);n&&u.set({x:n.x-u.width/2,y:n.y-u.height/2});const h=this._outOfView(u.x,u.y);h&&(n?u.set(h):this._centerCameraOn(c[0])),u.set({children:[]}),this._history.saveCreatedObjects(c),this._createSelection(c)}insertSceneData(t,n,r){if(!t.objects?.length)return;this._abort(),this.selection?.reset();const o=Ih(this._scene,t);r&&Object.assign(o.data,r),o.set({x:n.x-o.width/2,y:n.y-o.height/2}),this._refreshChildImages();const i=[o];this._history.saveCreatedObjects(i),this._createSelection(i)}setSceneXY(t,n){const r=this._scene;this.lastCursorX+=t-r.x,this.lastCursorY+=n-r.y,this._scene.set({x:t,y:n})}_setScale(t,n){const r=this.viewScale;this.viewScale=Math.min(Math.max(t,.25),4);const o=100/this.viewScale,i=this.view.style;i.transform=`scale(${this.viewScale})`,i.width=`${o}%`,i.height=`${o}%`;const s=this._scene,a=this.viewScale/r,c=n?.offsetX||0,u=n?.offsetY||0,h=s.x+c*a-c,f=s.y+u*a-u;s.set({x:h,y:f}),this._tools.defaultFont.set({size:16*(1/this.viewScale)})}copySelection(){const t=this.selection;if(!t)return null;const n=t._getJF().filter(c=>!ib(c));if(!n.length)return null;const r=[],o=[],i=[],s=new WeakSet;return n.forEach(c=>{const u=xi(c);u&&(u.type==="child"?r.push(u._copy()):o.push(u.slot.key),s.add(u))}),this.connections.forEach(c=>{const{a:u,b:h}=c;s.has(u)&&s.has(h)&&(n.push(c.slot),i.push(c._copy()))}),{scene:sy(n),children:r,connections:i,pads:o}}_handleKeyboard(t){if(t.ctrlKey||t.altKey)return!1;const n=this._actions;if(n.handleKeyboard(t))return!0;if(t.type!=="keydown"||t.key!=="ArrowUp"&&t.key!=="ArrowDown"&&t.key!=="ArrowLeft"&&t.key!=="ArrowRight")return!1;const{selection:r}=this;if(!r||n.inAction){if(!this.cameraMoveStart){const o=t.shiftKey?80:20,i=this._scene,s=i.x+(t.key==="ArrowLeft"?-o:t.key==="ArrowRight"?o:0),a=i.y+(t.key==="ArrowUp"?-o:t.key==="ArrowDown"?o:0);this.setSceneXY(s,a)}return!0}if(t.shiftKey){if(r.type==="single"&&r.object.type!=="group")switch(t.key){case"ArrowLeft":r.object.decreaseZ();break;case"ArrowRight":r.object.increaseZ();break;case"ArrowUp":r.object.moveToTop();break;case"ArrowDown":r.object.moveToBottom();break}return!0}return r.object.canMove&&n.startMoveObjectWithKeyboard(r.object,t),!0}createConnectionSlot(t,n){const r=this._scene,o=r.pen({color:NT}),i=$T(t.slot),s=$T(n.slot),a=r.line([i.x,i.y,s.x,s.y],{pen:o,attrib:i$});return r.set({order:[a,...r.order]}),a}createChildSlot(t,n,r,o=o$){const i=this._scene,s=this._tools.iconImage(t.image?.icon?.atlas),a=i.imageView(s,{x:n,y:r,width:32,height:32,area:{x:0,y:0,w:32,h:32}});return i.set({order:i.order.concat(a)}),i.group([a],{attrib:o})}createPadSlot(t,n){const r=this._scene,o=this._tools.padIconImage(),i=r.imageView(o,{x:t,y:n,width:32,height:32,area:{x:0,y:0,w:32,h:32},attrib:o$});return r.set({order:r.order.concat(i)}),i}createPad(t){const n=new cb(this,t);return this.pads=this.pads.concat(n),n}createChild(t,n){const r=new lb(this,n,t);return this.children=this.children.concat(r),r}_createConnection(t,n){const r=new gg(this,n,t),{order:o}=this._scene,i=r.a.type==="child"?r.a.icon:r.a.slot,s=r.b.type==="child"?r.b.icon:r.b.slot;if(i&&s){const a=Math.min(o.indexOf(i),o.indexOf(s));this._scene.set({order:GC(o,a,t)})}return this.connections=this.connections.concat(r),r}_notifySelectionRemoved(){this.selection=null}_setPads(t){this.pads=t}_setConnections(t){this.connections=t}_setChildren(t){this.children=t}}class Rge{constructor(t,n){this.type="fileSceneEditor",this.editable=!0,this.fileScene=t,this.scene=new iM(t.data.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return this.fileScene.file.itemId}get title(){return this.fileScene.file.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.fileScene.file.isReadonly}get isDeleted(){return this.fileScene.file.isDeleted}save(){ks.assert(!this.isReadonly);const t=this.scene.save(),n=this.fileScene;n.setData({...n.data,data:t})}dispose(){this.scene.dispose()}}class Ige{constructor(t,n){this.type="klassPropsEditor",this.editable=!0,this.klass=t,this.scene=new iM(t.image?.scene?.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return"props-"+this.klass.uuid}get title(){return this.klass.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){ks.assert(!this.isReadonly);const t=this.scene.save(),{klass:n}=this;n.set({image:{...n.image,scene:{...n.image?.scene,data:t}}})}dispose(){this.scene.dispose()}}class Pge{constructor(t,n){this.type="schemaEditor",this.editable=!1,this.klass=t.klass,this.scene=new iM(t.klass.scene?.data||{},{...n,schema:t,fileUploader:n.getFileUploader(t.klass.file.lib)})}get _reactKey(){return"scene-"+this.klass.uuid}get schema(){return this.scene.schema}get title(){return`${this.klass.name} (схема)`}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}replaceSchema(t){this.scene.replaceSchema(t)}dispose(){this.scene.dispose()}}class kge{constructor(t){this.type="textEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.fileBinary=t,this.currentText=this.savedText=qv(t.data).split(`\r
`).join(`
`),vt(this,{currentLineNumber:Pe.ref,currentColumnIndex:Pe.ref,currentText:Pe.ref,savedText:Pe.ref,hasChanges:Gr,save:be,setCurrentText:be,setCursorPosition:be})}get _reactKey(){return this.fileBinary.file.itemId}get title(){return this.fileBinary.file.name}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.fileBinary.file.isReadonly}get isDeleted(){return this.fileBinary.file.isDeleted}save(){ks.assert(!this.isReadonly),this.fileBinary.setData($C(this.currentText.split(`
`).join(`\r
`))),this.savedText=this.currentText}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}function O$(e){return e.type==="fileSceneEditor"||e.type==="klassPropsEditor"||e.type==="schemaEditor"}function Dge(e){return e.type==="codeEditor"}const Age=["input","select","button","textarea"];function Lge(){const{activeElement:e}=document;return!!(e&&Age.includes(e.tagName.toLowerCase()))}function Nge(e){return e.shiftKey?e.code.startsWith("Digit")?parseInt(e.code[e.code.length-1]):NaN:parseInt(e.key)}function Bge(e){const{selection:t}=e;return!t||t.type==="multi"||t.object.type!=="group"?null:t.object.child}function Fge(e,t,n){if(n.altKey)return!1;const{scene:r}=e;if(n.ctrlKey)return r.inAction?!1:n.code==="KeyY"||n.shiftKey&&n.code==="KeyZ"?(r.redo(),!0):n.code==="KeyZ"?(r.undo(),!0):n.code==="KeyA"?(n.repeat||r.selectAll(),!0):!1;if(n.code==="Escape")return r.inAction?r.cancel():r.selection?.reset(),!0;if(n.key==="Enter"||n.code==="Space"||n.code==="KeyS"||n.code==="KeyD"){if(!r.isFocused)return!1;const i=Bge(r);switch(n.code){case"KeyD":{const s=i?.schema.klass||r.schema?.klass;s&&t.openKlassCode(s);break}case"KeyS":{const s=i?.schema||r.schema;s&&t.openSchema(s);break}default:{const s=i?.schema.klass||r.schema?.klass;s&&t.openKlassProps(s);break}}return!0}if(parseInt(n.key)){if(n.shiftKey)return!1;if(n.key==="1")r.setLayers({hideChildren:!r.hideChildren});else if(n.key==="2")r.setLayers({hideConnections:!r.hideConnections});else if(n.key==="3")r.setLayers({hideOther:!r.hideOther});else if(n.key==="4")r.setLayers({selectUnselectable:!r.selectUnselectable});else return!1;return!0}if(n.code==="Backquote")return r.setLayers({hideChildren:!1,hideOther:!1,hideConnections:!1}),!0;if(n.code==="Tab")return r.isFocused?(r.inAction||r.selectNext(n.shiftKey),!0):!1;if(n.code==="KeyR"&&(r.isInChildReorderMode?r.cancel():r.startReorderChildren()),r.inAction)return!1;const o=r.selection;return n.key==="Delete"?(o?.object.delete(),!0):n.code==="KeyG"?(o?.type==="multi"&&o.object.canCreateGroup&&o.object.createGroup(),!0):n.code==="KeyU"?(o?.type==="single"&&o.object.type==="group"&&o.object.canUngroup&&o.object.ungroup(),!0):n.code==="KeyN"?(o?.type==="single"&&o.object.set({isUnselectable:!o.object.isUnselectable}),!0):n.code==="KeyE"?(o?.type==="single"&&o.object.type==="textView"&&r.openTextEditor(o.object),!0):n.code==="KeyC"?(r.startCreateConnection(),!0):n.code==="KeyL"?(r.startCreateLine(),!0):n.code==="KeyT"?(r.startCreateText(),!0):n.code==="KeyI"?(r.startCreateInput(),!0):n.code==="KeyB"?(r.startCreateButton(),!0):n.code==="KeyQ"?(r.startCreateRect(),!0):!1}function jge(e,t,n){if(n.ctrlKey&&n.code==="KeyS"){if(!n.repeat){const o=e.tabs.currentTab?.editor;o?.save&&!o.isReadonly&&o.save()}return!0}if(n.ctrlKey&&n.code==="KeyR"){const o=e.player.player;return o?o.isMinimized?o.maximize():o.close():e.player.openPlayer(),!0}if(n.ctrlKey&&n.code==="KeyP")return t.rightPanelMinimized.toggle(),!0;if(n.ctrlKey&&n.code==="KeyF"){if(n.shiftKey)return e.vfsFilterVisible.setFalse(),t.leftPanelMinimized.toggle(),!0;{t.activeLeftPanelActiveView.set("files");let o=0;t.leftPanelMinimized.isTrue&&(t.leftPanelMinimized.setFalse(),o=300),setTimeout(e.vfsFilterVisible.setTrue,o)}return!0}if((n.ctrlKey||n.altKey)&&n.code==="KeyW"){const o=e.player.player;return o&&!o.isMinimized?o.close():e.tabs.currentTab?.close(),!0}if(n.altKey){const o=Nge(n);if(!isNaN(o)){if(e.tabs.tabs.length){const i=o>0?o-1:e.tabs.tabs.length-1;e.tabs.setCurrentTab(e.tabs.tabs[i])}return!0}}if(document.activeElement?.tagName.toLowerCase()==="textarea"||Lge())return!1;n.ctrlKey&&n.code==="KeyA"&&n.preventDefault();const r=e.tabs.currentTab?.editor;return!!(r&&O$(r)&&Fge(r,e,n))}function Vge(e,t){if(e.currentModalDialog.current)return!1;const{currentProject:n}=e;return!!n&&jge(n,e,t)}function $ge(e,t){t.ctrlKey&&(t.code==="KeyS"||t.code==="KeyR")&&t.preventDefault(),Vge(e,t)&&t.preventDefault()}class zge{constructor(t){this.current=t,vt(this,{current:Pe.ref,set:be})}set(t){this.current=t}}class yd{constructor(t=!1){this.isTrue=t,this.setTrue=()=>{this.isTrue=!0},this.setFalse=()=>{this.isTrue=!1},this.toggle=()=>{this.isTrue=!this.isTrue},vt(this,{isTrue:Pe.ref,setTrue:be,setFalse:be,toggle:be})}}class sM extends Error{}const R$=(e,t,n)=>{typeof n=="string"||n instanceof Blob?e.append(t,n):n instanceof Date?e.append(t,n.toISOString()):e.append(t,JSON.stringify(n))},Uge={bodySerializer:e=>{const t=new FormData;return Object.entries(e).forEach(([n,r])=>{r!=null&&(Array.isArray(r)?r.forEach(o=>R$(t,n,o)):R$(t,n,r))}),t}},Hge={bodySerializer:e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n)},Gge=({onRequest:e,onSseError:t,onSseEvent:n,responseTransformer:r,responseValidator:o,sseDefaultRetryDelay:i,sseMaxRetryAttempts:s,sseMaxRetryDelay:a,sseSleepFn:c,url:u,...h})=>{let f;const g=c??(b=>new Promise(v=>setTimeout(v,b)));return{stream:async function*(){let b=i??3e3,v=0;const S=h.signal??new AbortController().signal;for(;!S.aborted;){v++;const E=h.headers instanceof Headers?h.headers:new Headers(h.headers);f!==void 0&&E.set("Last-Event-ID",f);try{const T={redirect:"follow",...h,body:h.serializedBody,headers:E,signal:S};let R=new Request(u,T);e&&(R=await e(u,T));const I=await(h.fetch??globalThis.fetch)(R);if(!I.ok)throw new Error(`SSE failed: ${I.status} ${I.statusText}`);if(!I.body)throw new Error("No body in SSE response");const N=I.body.pipeThrough(new TextDecoderStream).getReader();let P="";const L=()=>{try{N.cancel()}catch{}};S.addEventListener("abort",L);try{for(;;){const{done:D,value:$}=await N.read();if(D)break;P+=$;const B=P.split(`

`);P=B.pop()??"";for(const U of B){const q=U.split(`
`),W=[];let V;for(const ne of q)if(ne.startsWith("data:"))W.push(ne.replace(/^data:\s*/,""));else if(ne.startsWith("event:"))V=ne.replace(/^event:\s*/,"");else if(ne.startsWith("id:"))f=ne.replace(/^id:\s*/,"");else if(ne.startsWith("retry:")){const z=Number.parseInt(ne.replace(/^retry:\s*/,""),10);Number.isNaN(z)||(b=z)}let Y,J=!1;if(W.length){const ne=W.join(`
`);try{Y=JSON.parse(ne),J=!0}catch{Y=ne}}J&&(o&&await o(Y),r&&(Y=await r(Y))),n?.({data:Y,event:V,id:f,retry:b}),W.length&&(yield Y)}}}finally{S.removeEventListener("abort",L),N.releaseLock()}break}catch(T){if(t?.(T),s!==void 0&&v>=s)break;const R=Math.min(b*2**(v-1),a??3e4);await g(R)}}}()}},Wge=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},Kge=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},qge=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},I$=({allowReserved:e,explode:t,name:n,style:r,value:o})=>{if(!t){const a=(e?o:o.map(c=>encodeURIComponent(c))).join(Kge(r));switch(r){case"label":return`.${a}`;case"matrix":return`;${n}=${a}`;case"simple":return a;default:return`${n}=${a}`}}const i=Wge(r),s=o.map(a=>r==="label"||r==="simple"?e?a:encodeURIComponent(a):vb({allowReserved:e,name:n,value:a})).join(i);return r==="label"||r==="matrix"?i+s:s},vb=({allowReserved:e,name:t,value:n})=>{if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?n:encodeURIComponent(n)}`},P$=({allowReserved:e,explode:t,name:n,style:r,value:o,valueOnly:i})=>{if(o instanceof Date)return i?o.toISOString():`${n}=${o.toISOString()}`;if(r!=="deepObject"&&!t){let c=[];Object.entries(o).forEach(([h,f])=>{c=[...c,h,e?f:encodeURIComponent(f)]});const u=c.join(",");switch(r){case"form":return`${n}=${u}`;case"label":return`.${u}`;case"matrix":return`;${n}=${u}`;default:return u}}const s=qge(r),a=Object.entries(o).map(([c,u])=>vb({allowReserved:e,name:r==="deepObject"?`${n}[${c}]`:c,value:u})).join(s);return r==="label"||r==="matrix"?s+a:a},Yge=/\{[^{}]+\}/g,Xge=({path:e,url:t})=>{let n=t;const r=t.match(Yge);if(r)for(const o of r){let i=!1,s=o.substring(1,o.length-1),a="simple";s.endsWith("*")&&(i=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(s=s.substring(1),a="label"):s.startsWith(";")&&(s=s.substring(1),a="matrix");const c=e[s];if(c==null)continue;if(Array.isArray(c)){n=n.replace(o,I$({explode:i,name:s,style:a,value:c}));continue}if(typeof c=="object"){n=n.replace(o,P$({explode:i,name:s,style:a,value:c,valueOnly:!0}));continue}if(a==="matrix"){n=n.replace(o,`;${vb({name:s,value:c})}`);continue}const u=encodeURIComponent(a==="label"?`.${c}`:c);n=n.replace(o,u)}return n},Zge=({baseUrl:e,path:t,query:n,querySerializer:r,url:o})=>{const i=o.startsWith("/")?o:`/${o}`;let s=(e??"")+i;t&&(s=Xge({path:t,url:s}));let a=n?r(n):"";return a.startsWith("?")&&(a=a.substring(1)),a&&(s+=`?${a}`),s};function Jge(e){const t=e.body!==void 0;if(t&&e.bodySerializer)return"serializedBody"in e?e.serializedBody!==void 0&&e.serializedBody!==""?e.serializedBody:null:e.body!==""?e.body:null;if(t)return e.body}const Qge=async(e,t)=>{const n=typeof t=="function"?await t(e):t;if(n)return e.scheme==="bearer"?`Bearer ${n}`:e.scheme==="basic"?`Basic ${btoa(n)}`:n},k$=({allowReserved:e,array:t,object:n}={})=>o=>{const i=[];if(o&&typeof o=="object")for(const s in o){const a=o[s];if(a!=null)if(Array.isArray(a)){const c=I$({allowReserved:e,explode:!0,name:s,style:"form",value:a,...t});c&&i.push(c)}else if(typeof a=="object"){const c=P$({allowReserved:e,explode:!0,name:s,style:"deepObject",value:a,...n});c&&i.push(c)}else{const c=vb({allowReserved:e,name:s,value:a});c&&i.push(c)}}return i.join("&")},eme=e=>{if(!e)return"stream";const t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(n=>t.startsWith(n)))return"blob";if(t.startsWith("text/"))return"text"}},tme=(e,t)=>t?!!(e.headers.has(t)||e.query?.[t]||e.headers.get("Cookie")?.includes(`${t}=`)):!1,nme=async({security:e,...t})=>{for(const n of e){if(tme(t,n.name))continue;const r=await Qge(n,t.auth);if(!r)continue;const o=n.name??"Authorization";switch(n.in){case"query":t.query||(t.query={}),t.query[o]=r;break;case"cookie":t.headers.append("Cookie",`${o}=${r}`);break;case"header":default:t.headers.set(o,r);break}}},D$=e=>Zge({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:k$(e.querySerializer),url:e.url}),A$=(e,t)=>{const n={...e,...t};return n.baseUrl?.endsWith("/")&&(n.baseUrl=n.baseUrl.substring(0,n.baseUrl.length-1)),n.headers=L$(e.headers,t.headers),n},rme=e=>{const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t},L$=(...e)=>{const t=new Headers;for(const n of e){if(!n)continue;const r=n instanceof Headers?rme(n):Object.entries(n);for(const[o,i]of r)if(i===null)t.delete(o);else if(Array.isArray(i))for(const s of i)t.append(o,s);else i!==void 0&&t.set(o,typeof i=="object"?JSON.stringify(i):i)}return t};class aM{constructor(){this.fns=[]}clear(){this.fns=[]}eject(t){const n=this.getInterceptorIndex(t);this.fns[n]&&(this.fns[n]=null)}exists(t){const n=this.getInterceptorIndex(t);return!!this.fns[n]}getInterceptorIndex(t){return typeof t=="number"?this.fns[t]?t:-1:this.fns.indexOf(t)}update(t,n){const r=this.getInterceptorIndex(t);return this.fns[r]?(this.fns[r]=n,t):!1}use(t){return this.fns.push(t),this.fns.length-1}}const ome=()=>({error:new aM,request:new aM,response:new aM}),ime=k$({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),sme={"Content-Type":"application/json"},ame=(e={})=>({...Hge,headers:sme,parseAs:"auto",querySerializer:ime,...e}),lme=(e={})=>{let t=A$(ame(),e);const n=()=>({...t}),r=u=>(t=A$(t,u),n()),o=ome(),i=async u=>{const h={...t,...u,fetch:u.fetch??t.fetch??globalThis.fetch,headers:L$(t.headers,u.headers),serializedBody:void 0};h.security&&await nme({...h,security:h.security}),h.requestValidator&&await h.requestValidator(h),h.body!==void 0&&h.bodySerializer&&(h.serializedBody=h.bodySerializer(h.body)),(h.body===void 0||h.serializedBody==="")&&h.headers.delete("Content-Type");const f=D$(h);return{opts:h,url:f}},s=async u=>{const{opts:h,url:f}=await i(u),g={redirect:"follow",...h,body:Jge(h)};let m=new Request(f,g);for(const M of o.request.fns)M&&(m=await M(m,h));const y=h.fetch;let b=await y(m);for(const M of o.response.fns)M&&(b=await M(b,m,h));const v={request:m,response:b};if(b.ok){const M=(h.parseAs==="auto"?eme(b.headers.get("Content-Type")):h.parseAs)??"json";if(b.status===204||b.headers.get("Content-Length")==="0"){let N;switch(M){case"arrayBuffer":case"blob":case"text":N=await b[M]();break;case"formData":N=new FormData;break;case"stream":N=b.body;break;case"json":default:N={};break}return h.responseStyle==="data"?N:{data:N,...v}}let I;switch(M){case"arrayBuffer":case"blob":case"formData":case"json":case"text":I=await b[M]();break;case"stream":return h.responseStyle==="data"?b.body:{data:b.body,...v}}return M==="json"&&(h.responseValidator&&await h.responseValidator(I),h.responseTransformer&&(I=await h.responseTransformer(I))),h.responseStyle==="data"?I:{data:I,...v}}const S=await b.text();let E;try{E=JSON.parse(S)}catch{}const T=E??S;let R=T;for(const M of o.error.fns)M&&(R=await M(T,b,m,h));if(R=R||{},h.throwOnError)throw R;return h.responseStyle==="data"?void 0:{error:R,...v}},a=u=>h=>s({...h,method:u}),c=u=>async h=>{const{opts:f,url:g}=await i(h);return Gge({...f,body:f.body,headers:f.headers,method:u,onRequest:async(m,y)=>{let b=new Request(m,y);for(const v of o.request.fns)v&&(b=await v(b,f));return b},url:g})};return{buildUrl:D$,connect:a("CONNECT"),delete:a("DELETE"),get:a("GET"),getConfig:n,head:a("HEAD"),interceptors:o,options:a("OPTIONS"),patch:a("PATCH"),post:a("POST"),put:a("PUT"),request:s,setConfig:r,sse:{connect:c("CONNECT"),delete:c("DELETE"),get:c("GET"),head:c("HEAD"),options:c("OPTIONS"),patch:c("PATCH"),post:c("POST"),put:c("PUT"),trace:c("TRACE")},trace:a("TRACE")}},cme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/account/limits",...e}),ume=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e}),dme=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e,headers:{"Content-Type":"application/json",...e.headers}}),hme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs/{dirId}",...e}),fme=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/libs",...e,headers:{"Content-Type":"application/json",...e.headers}}),N$=e=>e.client.put({security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/index",...e,headers:{"Content-Type":"application/json",...e.headers}}),pme=e=>e.client.post({...Uge,security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/res",...e,headers:{"Content-Type":null,...e.headers}}),gme=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/projects",...e,headers:{"Content-Type":"application/json",...e.headers}}),mme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e}),vme=e=>e.client.patch({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e,headers:{"Content-Type":"application/json",...e.headers}}),yme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/config",...e}),bme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/zip",...e}),wme=e=>e.client.post({url:"/session",...e,headers:{"Content-Type":"application/json",...e.headers}}),Sme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/session/validate",...e});class Cme{constructor({baseUrl:t}){this.onError=new pa;const n=lme({baseUrl:t,cache:"no-store"});n.interceptors.error.use((r,o,i,s)=>{if(!s.throwOnError&&o.status===422||s?.ignoreStatus&&o.status<500)return r;const a=`${s.method} ${s.url} ${o.status} (${o.statusText}):
${r.message||"Неизвестная причина"}`;throw this.onError.dispatch(a),Error(a)}),this.c=n}setAuthData(t){this.c.setConfig({auth:t.accessToken})}removeAuthData(){this.c.setConfig({auth:void 0})}async createSession(t,n){const r=await wme({client:this.c,body:{login:t,password:n},throwOnError:!1});if(r.error)throw new sM(r.error.message);return r.data}async isSessionValid(){Zv(this.c.getConfig().auth,"SAPIClient.setAuthData вызван");const{response:t}=await Sme({client:this.c,ignoreStatus:!0});return t.status<400}async getAccountLimits(){const{data:t}=await cme({client:this.c});return t}async getRootDirContent({libs:t,projects:n}){const{data:r}=await ume({client:this.c,query:{libs:t,projects:n}});return r}async getDirContent(t,{libs:n,projects:r}){const{data:o}=await hme({client:this.c,path:{dirId:t},query:{libs:n,projects:r}});return o}async createDir(t,n){const r=await dme({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,dir:r.error.conflictDir}:{created:!0,...r.data}}async createLib(t,n){const r=await fme({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,library:r.error.conflictLibrary}:{created:!0,...r.data}}async createProject(t){const n=await gme({client:this.c,throwOnError:!1,body:t});return n.error?{created:!1,project:n.error.conflictProject}:{created:!0,...n.data}}async updateProject(t,n){await vme({client:this.c,path:{projectId:t},body:n})}async getProject(t){const{data:n}=await mme({client:this.c,path:{projectId:t}});return n}async getProjectPlayerConfig(t){const{data:n}=await yme({client:this.c,path:{projectId:t}});return n}async updateLibraryIndex(t,n){const{data:r}=await N$({client:this.c,path:{libraryId:t},body:n,bodySerializer:gq});return r}async updateLibraryIndexRaw(t,n){await N$({client:this.c,path:{libraryId:t},body:n,bodySerializer:null})}async createLibraryRes(t,n,r){return(await pme({client:this.c,path:{libraryId:t},query:r,body:{files:n}})).data}async getProjectPlayerZip(t){return(await bme({client:this.c,path:{projectId:t}})).data}}class xme extends Ci{}class _me{constructor(t){this.isLoggingIn=!1,this.isDataFetching=!1,this.profileName="",this.projectCount=0,this.projectLimit=0,this.libraryCount=0,this.libraryLimit=0,this.onLogin=new Hr,this.onBeforeLogout=new Hr,this.apiClient=t,vt(this,{isLoggingIn:Pe.ref,isDataFetching:Pe.ref,libraryCount:Pe.ref,libraryLimit:Pe.ref,profileName:Pe.ref,projectCount:Pe.ref,projectLimit:Pe.ref,logout:be,restorePrevSession:to,login:to,fetchLimits:to})}*restorePrevSession(t){const{apiClient:n}=this;n.setAuthData(t.authData);const r=yield n.isSessionValid();return this.fetchLimits(t.profile),r}*login(t,n){const{apiClient:r}=this;this.isLoggingIn=!0;let o;try{o=yield r.createSession(t,n)}catch(i){throw i instanceof sM?new xme(i.message):i}finally{this.isLoggingIn=!1}r.setAuthData(o.authData),this.onLogin.dispatch(o),this.fetchLimits(o.profile)}*fetchLimits(t){this.profileName=t.name||"";const{apiClient:n}=this;this.isDataFetching=!0;let r;try{r=yield n.getAccountLimits()}finally{this.isDataFetching=!1}this.libraryCount=r.libCount,this.libraryLimit=r.libLimit,this.projectCount=r.projectCount,this.projectLimit=r.projectLimit}logout(){this.onBeforeLogout.dispatch()}}class Eme{constructor(){this.isOpen=!1,this.menuItems=[],this.anchorPosition={x:0,y:0},vt(this,{isOpen:Pe.ref,menuItems:Pe.ref,anchorPosition:Pe.ref,open:be,close:be})}open(t,n,r){this.anchorPosition={x:t,y:n},this.menuItems=r,this.isOpen=!0}close(){this.isOpen=!1}}class Tme{constructor(){this.klassFiles=new WeakSet,this.map=new Map,this.mapId=new Map,this.mapUuid=new Map,this._list=null,this.klassNameValidator=t=>this.get(t),this.onKlassRename=(t,n)=>{if(this.klassFiles.has(t.file)){this.map.delete(n),this.map.set(t.nameUC,t);for(const{children:r}of this.map.values())for(const o of r.list)(o.klassId?o.klassId===t.id:o.klassName.toUpperCase()===n)&&o._notifyKlassRenamed(t.name);this.updateList()}},this.onKlassFileRemoved=t=>{if(!this.klassFiles.delete(t))return;const n=t.klass;this.removeKlass(n),this.mapId.delete(n.id),this.mapUuid.delete(n.uuid),this.map.delete(n.nameUC),this.updateList()},this.removeKlass=t=>{t._setIsInLibrary(!1),t.nameValidator.set(null),t.onRename.remove(this.onKlassRename),t.file.onRemoved.remove(this.onKlassFileRemoved)},this.nodeCache=new WeakMap}get list(){return this._list||(this._list=[...this.map.values()].sort(Yu)),this._list}add(t){if(this.klassFiles.has(t.file))return;const n=this.mapId.get(t.id);n&&console.warn(`Имиджи '${n.name}' (${n.file.path}) и '${t.name}' (${t.file.path}) имеют одинаковый ID (${t.id})'`);const r=this.map.get(t.nameUC);r&&console.warn(`Имидж '${r.name}' уже существует в файле '${r.file.path}'`),this.klassFiles.add(t.file),this.mapId.set(t.id,t),this.map.set(t.nameUC,t),this.mapUuid.set(t.uuid,t),t._setIsInLibrary(!0),t.nameValidator.set(this.klassNameValidator),t.onRename.add(this.onKlassRename),t.file.onRemoved.add(this.onKlassFileRemoved)}clean(){this.map.forEach(this.removeKlass),this.klassFiles=new WeakSet,this.mapId.clear(),this.map.clear()}updateList(){this._list=null}get(t){return this.map.get(t.toUpperCase())??null}getById(t){return this.mapId.get(t)??null}getByUuid(t){return this.mapUuid.get(t)??null}getByNode(t){const n=this.nodeCache.get(t);if(n)return n;const r=t.klassId?this.getById(t.klassId):this.get(t.klassName);return r&&this.nodeCache.set(t,r),r}}class Mme{constructor(t){this.recursiveSearch=!0,this.searchDirs=[],this.standardSearchDir=null,this._klassLibrary=new Tme,this.onVFSDirsRemoved=n=>{const r=this.searchDirs.filter(o=>!n.has(o));this.searchDirs.length!==r.length&&(this.searchDirs=r)},this.rebuildLibrary=()=>{const{recursiveSearch:n,searchDirs:r,_klassLibrary:o,standardSearchDir:i}=this;if(o.clean(),i)for(const{klass:s}of i.recursive())s&&o.add(s);for(const s of r){const a=n?s.recursive():s.files;for(const{klass:c}of a)c&&o.add(c)}o.updateList()},t.onDirsRemoved.add(this.onVFSDirsRemoved),t.onEntriesMoved.add(this.rebuildLibrary),vt(this,{recursiveSearch:Pe.ref,searchDirs:Pe.ref})}get klassLibrary(){return this._klassLibrary}setRecursiveSearch(t){this.recursiveSearch=t}setStandardSearchDir(t){this.standardSearchDir=t,t.setSearchDirMarker(!0)}addSearchDir(t){this.searchDirs.includes(t)||(this.searchDirs=this.searchDirs.concat(t),t.setSearchDirMarker(!0))}removeSearchDir(t){t.setSearchDirMarker(!1),this.searchDirs=this.searchDirs.filter(n=>n!==t)}}class lM{constructor(t="transfer"){this.current=null,this.transferType="vnd.stratum/"+(t+"-"+AT()).toLowerCase()}put(t,n,r="all"){this.current=n,t.setData(this.transferType,"true"),t.effectAllowed=r}pop(t){if(!this.canDrop(t))return null;const n=this.current;return this.current=null,n}get(t){return this.canDrop(t)?this.current:null}canDrop(t){return t.types.includes(this.transferType)}}class Ome{constructor(t,n){this.multiplexer=t,this.editor=n,vt(this,{close:be})}close(){this.editor.dispose?.(),this.multiplexer._notifyItemClosed(this)}}class Rme{constructor(t){this.sceneArgs=t,this.items=[]}addEditor(t){const n=new Ome(this,t);return this.items=this.items.concat(n),n}openSchemaEditor(t){const{klass:n}=t,r=this.items.find(o=>{const{editor:i}=o;return i.type==="schemaEditor"&&i.klass===n});if(r){const{editor:o}=r;return o.schema!==t&&o.replaceSchema(t),r}return this.addEditor(new Pge(t,this.sceneArgs))}openCodeEditor(t){const{klass:n}=t,r=this.items.find(({editor:o})=>o.type==="codeEditor"&&o.klass===n);return r||this.addEditor(new Jde(t))}openKlassPropsEditor(t){const n=this.items.find(({editor:r})=>r.type==="klassPropsEditor"&&r.klass===t);return n||this.addEditor(new Ige(t,this.sceneArgs))}openFileSceneEditor(t){const n=this.items.find(({editor:r})=>r.type==="fileSceneEditor"&&r.fileScene===t);return n||this.addEditor(new Rge(t,this.sceneArgs))}openBinaryFileEditor(t){const n=this.items.find(({editor:r})=>r.type==="textEditor"&&r.fileBinary===t);return n||this.addEditor(new kge(t))}_notifyItemClosed(t){this.items=this.items.filter(n=>n!==t)}}class B${constructor({klass:t,klassId:n,key:r,name:o="",x:i=0,y:s=0},a){this.onSpecialValueChanged=new Hr,this.connections=new Set,this.parent=a,this.klassName=t,this.klassId=n||null,this.key=r,this.sceneName=o,this.sceneX=i,this.sceneY=s,vt(this,{sceneX:!1,sceneY:!1,sceneName:!1,klassName:!1,set:be,remove:be,toJSON:!1})}set({sceneX:t=this.sceneX,sceneY:n=this.sceneY,sceneName:r=this.sceneName}){let o=!1;this.sceneX!==t&&(this.sceneX=t,o=!0),this.sceneY!==n&&(this.sceneY=n,o=!0),this.sceneName!==r&&(this.sceneName=r,o=!0),o&&(this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged())}remove(){this.connections.forEach(t=>t.remove()),this.parent._notifyChildNodeRemoved(this)}toJSON(){return{key:this.key,klass:this.klassName,klassId:io(this.klassId),x:this.sceneX,y:this.sceneY,name:io(this.sceneName)}}_notifyKlassRenamed(t){this.klassName=t,this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged()}_addConnection(t){this.connections.add(t)}_removeConnection(t){this.connections.delete(t)}}class Ime{constructor(t,n){this.list=[],this.parent=t,this.list=n?.map(r=>new B$(r,t))||[],vt(this,{list:!1,create:be,reorder:be,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}create(t){const{list:n}=this,r=new B$(t,this.parent);return this.list=n.concat(r),this.parent._notifyChildListChanged(),r}reorder(t){this.list=t,this.parent._notifyChildListChanged()}_removeChild(t){this.list=yk(this.list,t)}}class F${constructor(t,n){this.data=t,this.carrier=n}get a(){return this.data[0]}get b(){return this.data[1]}_setNames(t){this.data=t}toJSON(){return this.data}}class j${constructor(t,n,{key:r,vars:o,attrib:i=0},s){this.onNestedConnectionsChanged=new Hr,this.onDisabledChanged=new Hr,this.isRemoved=!1,this.key=r,this.parent=s,this.a=t,this.b=n,typeof t!="number"&&t._addConnection(this),typeof n!="number"&&n._addConnection(this),this.nestedConnections=o?.map(a=>new F$(a,this))||[],this.attrib=i,vt(this,{attrib:Pe.ref,nestedConnections:!1,setDisabled:be,setNestedConnections:be,remove:be,toJSON:!1})}get isDisabled(){return!!(this.attrib&zv)}setNestedConnections(t){const n=this.nestedConnections;this.nestedConnections=t.map(r=>{const o=r[0].toUpperCase(),i=r[1].toUpperCase(),s=n.find(a=>a.a.toUpperCase()===o&&a.b.toUpperCase()===i);return s?(s._setNames(r),s):new F$(r,this)}),this.onNestedConnectionsChanged.dispatch(),this.parent._notifyContentChanged()}setDisabled(t){t?this.attrib|=zv:this.attrib&=~zv,this.onDisabledChanged.dispatch(),this.parent._notifyContentChanged()}remove(){if(this.isRemoved)return;this.isRemoved=!0;const{a:t,b:n}=this;typeof t!="number"&&t._removeConnection(this),typeof n!="number"&&n._removeConnection(this),this.parent._notifyConnectionRemoved(this)}toJSON(){const{attrib:t,nestedConnections:n,a:r,b:o,key:i}=this,s=typeof r=="number"?-r:r.key,a=typeof o=="number"?-o:o.key;return{key:i,nodes:[s,a],vars:n.map(({a:c,b:u})=>[c,u]),attrib:io(t)}}}class Pme{constructor(t,n){if(this.parent=t,n){const{children:r}=t;this.list=Si(n,o=>{const[i,s]=o.nodes,a=i>0?r.get(i):-i;if(!a)return null;const c=s>0?r.get(s):-s;return c?new j$(a,c,o,t):null})}else this.list=[];vt(this,{list:!1,create:be})}create(t,n,r){const o=new j$(t,n,r,this.parent);return this.list=this.list.concat(o),this.parent._notifyConnectionListChanged(),o}_removeConnection(t){this.list=yk(this.list,t)}}class V${constructor(t){this.data=t,this.isLocal=!0}get isArgument(){return!!((this.data.attrib||0)&et.VF_ARGUMENT)}get isReturn(){return!!((this.data.attrib||0)&et.VF_RETURN)}get type(){return this.data.type}toJSON(){return this.data}}class $${constructor({name:t,type:n,attrib:r=0,defaultValue:o=null,description:i=""},s){this.isLocal=!1,this.onValueChanged=new Hr,this.klass=s,this.name=t,this.type=n,this.attrib=r,this.description=i;const a=this.nameUC=t.toUpperCase();o!==null&&Dp(n,o)!==null?this.value=o:this.value=null,a==="ORGX"&&n===bt.FLOAT||a==="ORGY"&&n===bt.FLOAT||a==="_HOBJECT"&&n===bt.HANDLE||a==="_OBJNAME"&&n===bt.STRING||a==="_CLASSNAME"&&n===bt.STRING?this.specialValueType=a:this.specialValueType="none",vt(this,{value:Pe.ref,name:Pe.ref,description:Pe.ref,attrib:!1,setValue:be,setDescription:be,isValidValue:!1,toJSON:!1})}get isArgument(){return!!(this.attrib&et.VF_ARGUMENT)}get isReturn(){return!!(this.attrib&et.VF_RETURN)}setDescription(t){this.description=t,this.klass._notifyContentChanged()}setValue(t){return t!==null&&!this.isValidValue(t)?!1:(this.value=t,this.onValueChanged.dispatch(),this.klass._notifyContentChanged(),!0)}isValidValue(t){return Dp(this.type,t)!==null}toJSON(){return{name:this.name,type:this.type,attrib:io(this.attrib),defaultValue:this.value??void 0,description:io(this.description)}}_changeAttrib(t){this.attrib=t}_rename(t){this.name=t}}function z$({attrib:e=0}){return!!(e&et.VF_LOCAL)}class kme{constructor(t,n){this.list=[],this.onVarListChanged=new Hr,this.klass=t,this.allList=n?.map(r=>z$(r)?new V$(r):new $$(r,t))||[],this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),vt(this,{list:!1,allList:!1,set:be,get:!1})}set(t){const{list:n}=this;this.allList=t.map(r=>{if(z$(r))return new V$(r);const o=r.name.toUpperCase(),i=n.find(s=>s.type===r.type&&s.nameUC===o);return i?(i._rename(r.name),i._changeAttrib(r.attrib||0),i):new $$(r,this.klass)}),this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),this.onVarListChanged.dispatch(),this.klass._notifyVarListChanged()}get(t){return this.listMap.get(t.toUpperCase())||null}}const Dme={};class U$ extends Ci{constructor(t){super(`Имидж '${t.name}' уже существует в файле '${t.file.path}'`)}}class Ame{constructor(t,n){this.uuid=AT(),this.onRename=new Hr,this.onImageChanged=new Hr,this.onVarListChanged=new Hr,this.onConnectionListChanged=new Hr,this.onChildListChanged=new Hr,this.nameValidator=new Aq,this.isInLibrary=!1,this.file=t,this.id=n.id,this.name=n.name,this.nameUC=n.name.toUpperCase(),this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1,this.date=n.date?new Date(n.date):new Date,this.vars=new kme(this,n.vars),this.children=new Ime(this,n.children),this.childConnections=new Pme(this,n.links),this.scene=n.scene||null,this.image=n.image||null,this.description=n.description||"",vt(this,{hasCode:Gr,hasScene:Gr,name:Pe.ref,nameUC:Pe.ref,image:Pe.ref,isInLibrary:Pe.ref,scene:Pe.ref,modelText:!1,isFunction:!1,rename:be,set:be,toJSON:!1})}get hasScene(){return!!this.scene?.data}get hasCode(){return!!this.modelText}get isReadonly(){return this.file.isReadonly}get imageData(){const{image:t}=this;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this.image?.icon||Dme}_setIsInLibrary(t){this.isInLibrary=t}set({scene:t=this.scene,image:n=this.image,modelText:r=this.modelText,isFunction:o=this.isFunction}){ks.assert(!this.isReadonly);let i=!1;this.scene!==t&&(this.scene=t,i=!0),this.image!==n&&(this.image=n,this.onImageChanged.dispatch(),i=!0),this.modelText!==r&&(this.modelText=r,i=!0),this.isFunction!==o&&(this.isFunction=o,i=!0),i&&this._notifyContentChanged()}rename(t){if(ks.assert(!this.isReadonly),!t||t===this.name)return;Rk(t);const n=t.toUpperCase();if(n!==this.nameUC){const o=this.nameValidator.value?.(t);if(o)throw new U$(o)}const r=this.nameUC;this.name=t,this.nameUC=n,this.onRename.dispatch(this,r),this._notifyContentChanged()}toJSON(){return{name:this.name,id:this.id,date:this.date.toJSON(),vars:Ip(this.vars.allList.map(t=>t.toJSON())),children:Ip(this.children.list.map(t=>t.toJSON())),links:Ip(this.childConnections.list.map(t=>t.toJSON())),description:io(this.description),isFunction:io(this.isFunction),modelText:io(this.modelText),image:this.image,scene:this.scene}}_notifyVarListChanged(){this.onVarListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionListChanged(){this.onConnectionListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionRemoved(t){this.childConnections._removeConnection(t),this._notifyConnectionListChanged()}_notifyChildListChanged(){this.onChildListChanged.dispatch(),this._notifyContentChanged()}_notifyChildNodeRemoved(t){this.children._removeChild(t),this._notifyChildListChanged()}_notifyContentChanged(){this.file._notifyContentChanged()}}class Lme{constructor({apiClient:t,project:n}){this.isSyncing=!1,this.apiClient=t,this.project=n,vt(this,{isSyncing:Pe.ref,sync:to})}get changesList(){const{project:t}=this;let n=Si(t.libs,r=>r.hasChanges&&r.name);return t.schema.isStateChanged&&(n=["Состояние схемы"].concat(n)),t.isDirty&&(n=["Настройки проекта"].concat(n)),n}*sync(){if(this.isSyncing)return;const{apiClient:t,project:n}=this;n.saveSchemaStateToFile();const r=Si(n.libs,i=>{const{vfsLib:s}=i;if(!s.isDirty)return;const a=s.toJSON();return s.setDirtyMarker(!1),[i,a]}),o=io(n.isDirty&&n.toRemoteProjectData(!1));n.setDirtyMarker(!1),this.isSyncing=!0;for(const[i,s]of r)try{yield t.updateLibraryIndex(i.id,s)}catch(a){console.error(a),i.vfsLib.setDirtyMarker(!0),console.warn(`Не удалось синхронизировать '${i.name}' (${i.id})`)}if(o){const i=n.libs.map(a=>a.id),s=n.subProjects.map(a=>a.id);try{yield t.updateProject(n.id,{config:o,libIds:i,subprojectIds:s})}catch(a){console.error(a),n.setDirtyMarker(!0),console.warn("Не удалось синхронизировать настройки проекта")}}this.isSyncing=!1}}class zc{constructor(t){this.value=null,this.kind="own",this.master=null,vt(this,{value:Pe.ref,kind:Pe.ref,master:Pe.ref})}static{this.stub=new zc(!0)}_setValue(t,n,r){this.master=n,this.value=t,this.kind=r}_resetValue(){this.value=null}}class H${constructor(t,n){this._reactKey=Mk(),this.ownValue=null,this.varConnections=new Set,this.sharedValueStorage=new zc,this.onValueChanged=()=>{this.sharedValueStorage._resetValue(),this.schema._notifyValuesChanged()},this.klassVar=t,this.schema=n,t.onValueChanged.add(this.onValueChanged),vt(this,{sharedValueStorage:Pe.ref,ownValue:Pe.ref,setOwnValue:be,getConnectedVars:!1,getConnections:!1,setDefaultValue:!1,setDescription:!1})}_dispose(){this.klassVar.onValueChanged.remove(this.onValueChanged),this.varConnections.forEach(t=>t._dispose())}get name(){return this.klassVar.name}get type(){return this.klassVar.type}get computedValue(){return this.sharedValueStorage.value}get computedValueKind(){const{sharedValueStorage:t}=this,{master:n}=t;return n===this||n===null?t.kind:this.ownValue===null?"alien":"overwritten"}get defaultValue(){return this.klassVar.value}get description(){return this.klassVar.description}getConnections(){return this.varConnections.values()}_setOwnValue(t){this.klassVar.isValidValue(t)&&(this.ownValue=t)}setOwnValue(t){return t!==null&&!this.klassVar.isValidValue(t)?!1:(this.ownValue=t,this.onValueChanged(),this.schema._notifyStateChanged(),!0)}setDefaultValue(t){return this.klassVar.setValue(t)}setDescription(t){this.klassVar.setDescription(t)}getConnectedVars(t){const n=new Set;return this._getConnectedVars(n),t||n.delete(this),n}_applyDefaultValue(){const{klassVar:t}=this,n=t.value;if(n!==null){this.sharedValueStorage._setValue(n,this,"classDefault");return}if(t.specialValueType==="none")return;let r;switch(t.specialValueType){case"ORGX":r=this.schema.node?.sceneX.toString();break;case"ORGY":r=this.schema.node?.sceneY.toString();break;case"_HOBJECT":{const o=this.schema.node?.key;o&&(r="#"+o);break}case"_OBJNAME":r=this.schema.node?.sceneName;break;case"_CLASSNAME":r=this.schema.klass.name;break}r?this.sharedValueStorage._setValue(r,this,"classSpecial"):this.sharedValueStorage._resetValue()}toString(){return this.name}_applyOwnValue(){const{ownValue:t}=this;t!==null&&this.sharedValueStorage._setValue(t,this,"own")}propagateSharedValueStorage(t){if(this.sharedValueStorage!==t){this.sharedValueStorage=t;for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a).propagateSharedValueStorage(t)}}}_getConnectedVars(t){if(!t.has(this)){t.add(this);for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a)._getConnectedVars(t)}}}_notifyConnectionCreated(t){this.varConnections.add(t),this.sharedValueStorage=zc.stub}_notifyConnectionRemoved(t){this.varConnections.delete(t),this.sharedValueStorage=zc.stub}_notifyConnectionDisabledChanged(){this.sharedValueStorage=zc.stub}_reduce(){this.sharedValueStorage===zc.stub&&this.propagateSharedValueStorage(new zc)}}class Nme{constructor(t,n){this.klassVars=t,this.schema=n,this.list=t.list.map(r=>new H$(r,n)),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),vt(this,{list:Pe.ref,get:!1})}get(t){const n=this.klassVars.get(t);return n&&this.map.get(n)||null}_rebuild(){const{list:t}=this,n=new Set(t);this.list=this.klassVars.list.map(r=>{const o=t.find(i=>i.klassVar===r);return o?(n.delete(o),o):new H$(r,this.schema)}),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),n.forEach(r=>{r.ownValue!==null&&this.schema._notifyStateChanged(),r._dispose()})}}class Bme{constructor(t,n,r,o){this.a=t,this.b=n,this.proto=r,this.carrier=o,this.isBroken=!0}}class Fme{constructor(t,n,r,o){this.a=t,this.b=n,this.proto=r,this.carrier=o,this.isBroken=!1,t._notifyConnectionCreated(this),n._notifyConnectionCreated(this)}_dispose(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}}class G${constructor(t,n,r,o){this.aPadKey=0,this.bPadKey=0,this.nestedConnections=[],this.onNestedConnectionsChanged=()=>{this.parent._notifyConnectionChanged(this)},this.onDisabledChanged=()=>{this.nestedConnections.forEach(i=>{i.isBroken||(i.a._notifyConnectionDisabledChanged(),i.b._notifyConnectionDisabledChanged())}),this.parent._notifyConnectionDisabledChanged()},this.parent=o,this.a=t,this.b=n,this.proto=r,typeof r.a=="number"&&(this.aPadKey=r.a),typeof r.b=="number"&&(this.bPadKey=r.b),this._rebuildNestedConnections(),this.proto.onNestedConnectionsChanged.add(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.add(this.onDisabledChanged),vt(this,{nestedConnections:Pe.ref,setDisabled:!1,remove:!1})}_dispose(){this.proto.onNestedConnectionsChanged.remove(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.remove(this.onDisabledChanged),this.nestedConnections.forEach(t=>!t.isBroken&&t._dispose())}get key(){return this.proto.key}get attrib(){return this.proto.attrib}get isDisabled(){return this.proto.isDisabled}setDisabled(t){this.proto.setDisabled(t)}remove(){this.proto.remove()}_rebuildNestedConnections(){const{nestedConnections:t,a:n,b:r}=this,o=new Set(t);this.nestedConnections=this.proto.nestedConnections.map(i=>{const s=t.find(h=>h.proto===i);if(s)return o.delete(s),s;const a=n.vars.get(i.a),c=r.vars.get(i.b);return a&&c&&a.klassVar.type===c.klassVar.type?new Fme(a,c,i,this):new Bme(a||i.a,c||i.b,i,this)}),o.forEach(i=>!i.isBroken&&i._dispose())}}class jme{constructor(t){this.parent=t,this.list=[],this._rebuild()}_create(t,n,r){const o=new G$(t,n,r,this.parent);return this.list=this.list.concat(o),o}_rebuild(){const{list:t,parent:n}=this,{klass:r}=n,o=n.children.list,i=new Set(t);this.list=r.childConnections.list.map(s=>{const a=t.find(g=>g.proto===s);if(a)return i.delete(a),a;const{a:c,b:u}=s,h=typeof c=="number"?n:o.find(g=>g.node===c),f=typeof u=="number"?n:o.find(g=>g.node===u);if(!h||!f)throw Error("Неизвестная ошибка (schema.ts)");return new G$(h,f,s,n)}),i.forEach(s=>s._dispose())}}class Vme{constructor(t,n){this.parent=t,this.library=n,this.list=[],this._rebuild(),vt(this,{list:Pe.ref,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}_create(t,n,r=null){const o=new yb(t,this.library,r,n,this.parent);return this.list=this.list.concat(o),o}_setOrder(t){this.list=t}_rebuild(t){const{library:n,list:r,parent:o}=this,i=new Set(r);this.list=o.klass.children.list.map(s=>{const a=r.find(u=>u.node===s);if(a)return i.delete(a),a;const c=n.getByNode(s);if(!c)throw Error(`Имидж '${s.klassName}' не существует`);return new yb(c,n,null,s,o)}),i.forEach(s=>s._dispose(t))}}class $me{constructor(t){this.root=t,this.onDescendantsDeleted=new Hr,this.changedNestedConns=new Set,this.changedVars=new Set,this.changedChildren=new Set,this.changedConnections=new Set,this._needReduce=!0,this._needReapplyValues=!0,this._stateChanged=!1,vt(this,{_stateChanged:Pe.ref})}rebuild(){const{changedChildren:t,changedConnections:n,changedVars:r,changedNestedConns:o}=this;if(r.size&&(this._needReduce=!0,r.forEach(i=>i._rebuild()),r.clear()),o.size&&(this._needReduce=!0,o.forEach(i=>i._rebuildNestedConnections()),o.clear()),t.size){this._needReduce=!0;const i=new Set;t.forEach(s=>s._rebuild(i)),t.clear(),i.size&&this.onDescendantsDeleted.dispatch(i)}n.size&&(this._needReduce=!0,n.forEach(i=>i._rebuild()),n.clear()),this._needReduce&&(this._needReapplyValues=!0,this.root._reduceVars(),this._needReduce=!1),this._needReapplyValues&&(this.root._applyDefaultValues(),this.root._applyOwnValues(),this._needReapplyValues=!1)}}class yb{constructor(t,n,r,o=null,i=null){this.itemId=Jv(),this.canCreateChild=!0,this.canCreateConnection=!0,this.canReorderChildren=!0,this.onSpecialValueChanged=()=>{this.root._needReapplyValues=!0},this.onVarListChanged=()=>{const{node:s}=this;s&&(this.klass.vars.list.some(({specialValueType:a})=>a!=="none"&&a!=="_HOBJECT")?s.onSpecialValueChanged.add(this.onSpecialValueChanged):s.onSpecialValueChanged.remove(this.onSpecialValueChanged)),this.root.changedVars.add(this.vars)},this.onConnectionListChanged=()=>{this.root.changedConnections.add(this.childConnections)},this.onChildListChanged=()=>{this.root.changedChildren.add(this.children),this.root._needReapplyValues=!0},this.isFake=i&&i.isFake||r&&"isFake"in r||!1,this.klass=t,this.library=n,this.node=o,this.parent=i,this.root=i?.root||new $me(this),this.vars=new Nme(t.vars,this),this.children=new Vme(this,n),this.childConnections=new jme(this),o&&t.vars.list.some(({specialValueType:s})=>s!=="none"&&s!=="_HOBJECT")&&o.onSpecialValueChanged.add(this.onSpecialValueChanged),t.onVarListChanged.add(this.onVarListChanged),t.onConnectionListChanged.add(this.onConnectionListChanged),t.onChildListChanged.add(this.onChildListChanged),r&&!("isFake"in r)&&(this.setState(r),i&&(this.root._stateChanged=!0)),i||this.root.rebuild(),vt(this,{createChild:be,createConnection:be,reorderChildren:be,remove:be,applyChanges:be,markStateUnchanged:be,getState:!1,hasAncestor:!1,resolveKlass:!1,hasNode:!1})}_dispose(t){this.children.list.forEach(r=>r._dispose(t));const{klass:n}=this;this.node?.onSpecialValueChanged.remove(this.onSpecialValueChanged),n.onVarListChanged.remove(this.onVarListChanged),n.onConnectionListChanged.remove(this.onConnectionListChanged),n.onChildListChanged.remove(this.onChildListChanged),this.vars.list.forEach(r=>r._dispose()),this.childConnections.list.forEach(r=>r._dispose()),t.add(this)}get name(){return this.klass.name}get key(){return this.node?.key||0}get isStateChanged(){return this.root._stateChanged}get onDescendantsDeleted(){return this.root.onDescendantsDeleted}getState(t){const n=Si(this.children.list,o=>o.getState()),r=Si(this.vars.list,o=>o.ownValue!==null&&{name:o.klassVar.name,value:o.ownValue});return!t&&!n.length&&!r.length?null:{key:this.key,klass:this.klass.name,klassId:this.klass.id,values:Ip(r),children:Ip(n)}}resolveKlass(t){return this.library.getByUuid(t)}hasAncestor(t){return this.klass===t||this.parent?.hasAncestor(t)||!1}createChild(t,n,r){if(this.hasAncestor(t))throw Error(`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const o={klass:t.name,klassId:t.id,key:n.key,name:n.name,x:n.x,y:n.y},i=this.klass.children.create(o);return this.children._create(t,i,r)}createConnection(t,n,{key:r,aPadKey:o=0,bPadKey:i=0,vars:s,attrib:a}){const c=this===t?o:t.node,u=this===n?i:n.node;if(typeof c!="number"&&t.parent!==this||typeof u!="number"&&n.parent!==this)throw Error("Связь должна существовать в пределах одной схемы");const h=this.klass.childConnections.create(c,u,{key:r,vars:s,attrib:a});return this.childConnections._create(t,n,h)}reorderChildren(t){this.klass.children.reorder(t.map(n=>n.node)),this.children._setOrder(t)}remove(){if(!this.node)throw Error("Невозможно удалить корень схемы");this.node.remove()}applyChanges(){this.root.rebuild()}hasNode(t){return this.root===t.root}toString(){return this.key?`${this.klass.name} #${this.key}`:this.klass.name}markStateUnchanged(){this.root._stateChanged=!1}_notifyStateChanged(){this.root._stateChanged=!0}_notifyValuesChanged(){this.root._needReapplyValues=!0}_notifyConnectionDisabledChanged(){this.root._needReduce=!0}_notifyConnectionChanged(t){this.root.changedNestedConns.add(t)}setState(t){const{values:n,klassId:r}=t;if(n?.length&&this.klass.id===r){const{vars:o}=this;n.forEach(i=>o.get(i.name)?._setOwnValue(i.value))}t.children?.forEach(o=>this.children.get(o.key)?.setState(o))}_reduceVars(){this.children.list.forEach(t=>t._reduceVars()),this.vars.list.forEach(t=>t._reduce())}_applyDefaultValues(){this.children.list.forEach(t=>t._applyDefaultValues()),this.vars.list.forEach(t=>t._applyDefaultValue())}_applyOwnValues(){this.vars.list.forEach(t=>t._applyOwnValue()),this.children.list.forEach(t=>t._applyOwnValues())}}class zme{constructor(t,n){this.tabs=t,this.item=n,vt(this,{close:be})}get _reactKey(){return this.item.editor._reactKey}get editor(){return this.item.editor}close(){const{editor:t}=this.item;return t.hasChanges&&!window.confirm(`${t.title} содержит несохраненные изменения. Все равно закрыть?`)?!1:(this.item.close(),this.tabs._notifyTabClosed(this),!0)}}class Ume{constructor(){this.tabs=[],this.currentTab=null,this.tabHistory=[],vt(this,{currentTab:Pe.ref,tabs:Pe.ref,addTab:be,setCurrentTab:be,reorderTabs:be})}addTab(t){const n=this.tabs.find(o=>o.item===t);if(n)return this.setCurrentTab(n),!1;const r=new zme(this,t);return this.tabs=this.tabs.concat(r),this.tabHistory.push(r),this.currentTab=r,!0}setCurrentTab(t){this.currentTab!==t&&(this.currentTab=t,this.tabHistory=this.tabHistory.filter(n=>n!==t).concat(t))}reorderTabs(t){this.tabs=t}_notifyTabClosed(t){this.tabs=this.tabs.filter(n=>n!==t),this.tabHistory=this.tabHistory.filter(n=>n!==t),this.currentTab===t&&(this.currentTab=this.tabHistory.at(-1)||null)}}class vg extends Ci{constructor(t){super(`${t.type==="file"?"Файл":"Каталог"} '${t.name}' уже существует в этом каталоге`)}}class Wh extends Ci{constructor(t){super(`'${t.path}' доступен только для чтения`)}}class W$ extends Ci{constructor(){super("Не задано имя файл или каталога")}}class Hme{constructor(t,n,r){this.type="file",this.itemId=Jv(),this.isDeleted=!1,this.onRemoved=new Hr(!0),this.name=t,this.nameUC=t.toUpperCase(),this.parent=r,this.size=n.size||0,this.klass=n.cls?new Ame(this,n.cls):null,this.stt=n.stt?new qme(this,n.stt):null,this.scene=n.scene?new Kme(this,n.scene):null,this.matrix=n.mat?new Wme(this,n.mat):null,this.binary=typeof n.base64=="string"?new Gme(this,n.base64,this.size):null,this.image=n.image||null,this.video=n.video||null,this.audio=n.audio||null,this.ttf=n.ttf||null,this.cursor=n.cursor||null,this.mesh=n.mesh||null,vt(this,{isDeleted:Pe.ref,name:Pe.ref,nameUC:Pe.ref,parent:Pe.ref,rename:be,remove:be,toJSON:!1})}get isPrjFile(){return this.parent.lib.vfs.projectFile===this}get lib(){return this.parent.lib}get path(){return this.parent.path+"/"+this.name}get isReadonly(){return this.parent.isReadonly}get canEdit(){return!this.isReadonly}get hasRelativePath(){return!this.lib.isDefault}rename(t){if(!this.canEdit)throw new Wh(this);if(t=vk(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent.getEntry(n);if(r)throw new vg(r);this.nameUC=n}this.name=t,this.parent._notifyFileRenamed(),this._notifyContentChanged()}remove(){if(!this.canEdit)throw new Wh(this);this.parent._notifyFileRemoved(this),this._remove()}toJSON(){const{image:t,video:n,cursor:r,stt:o,binary:i,scene:s,klass:a,audio:c,matrix:u,ttf:h,mesh:f}=this;return{size:i?.byteLength??io(this.size),cls:a?.toJSON(),image:t,scene:s?.data,video:n,cursor:r,stt:o?.data,base64:i?.base64,audio:c,mat:u?.data,ttf:h,mesh:f}}_notifyParentDeleted(){this._remove()}_notifyParentChanged(t){this.parent=t}_notifyContentChanged(){this.lib._notifyFilesChanged()}_remove(){this.isDeleted=!0,this._notifyContentChanged(),this.onRemoved.dispatch(this)}}class Gme{constructor(t,n,r){this._data=null,this.file=t,this.isTextFile=/\.(txt|json|config)$/i.test(t.name),this.byteLength=r,this._base64=n,vt(this,{byteLength:Pe.ref,setData:be})}get data(){return this._data||(this._data=VC(this._base64)),this._data}get base64(){if(!this._base64){const{_data:t}=this;return this._base64=t?Kv(t):""}return this._base64}setData(t){this._data=t,this._base64="",this.byteLength=t.byteLength,this.file._notifyContentChanged()}}class Wme{constructor(t,n){this.file=t,this.data=n,vt(this,{data:!1,setData:be})}setData(t){this.data=t,this.file._notifyContentChanged()}}class Kme{constructor(t,n){this.file=t,this.data=n,vt(this,{data:Pe.ref,setData:be})}setData(t){this.data=t,this.file._notifyContentChanged()}}class qme{constructor(t,n){this.file=t,this.data=n,vt(this,{data:!1,setData:be})}setData(t){this.data=t,this.file._notifyContentChanged()}}class bb{constructor(t,n){this.dirs=[],this.files=[],this.isSearchDir=!1,this.isDeleted=!1,this.type="dir",this.itemId=Jv(),this.name=t,this.nameUC=t.toUpperCase(),this.parent=n instanceof bb?n:null,this.lib=n instanceof K$?n:n.lib,vt(this,{name:Pe.ref,nameUC:Pe.ref,isDeleted:Pe.ref,parent:Pe.ref,lib:Pe.ref,dirs:Pe.ref,files:Pe.ref,isSearchDir:Pe.ref,rename:be,remove:be,insertEntry:be,createDir:be,createFile:be,setSearchDirMarker:be,getDir:!1,getEntry:!1,getFile:!1,hasAncestor:!1,recursive:!1,resolveDir:!1,resolveFile:!1})}get path(){const{parent:t}=this;return t?t.path+"/"+this.name:this.name}get isReadonly(){return this.lib.isReadonly}get canCreateFiles(){return!this.isReadonly}get isProjectRootDir(){return this.lib.vfs.projectRootDir===this}get canEdit(){return!!this.parent&&!this.isReadonly}get canAddToSearchDir(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasRelativePath(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasFiles(){return this.files.length>0||this.dirs.some(t=>t.hasFiles)}rename(t){if(!this.canEdit)throw new Wh(this);if(t=vk(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent?.getEntry(n);if(r)throw new vg(r);this.nameUC=n}this.name=t,this.parent?._notifyDirRenamed(),this.hasFiles&&this.lib._notifyFilesChanged()}remove(){if(!this.parent||this.isReadonly)throw new Wh(this);this.parent._notifyDirRemoved(this);const t=new Set;this.removeRecursive(t),this.lib.vfs._notifyDirsRemoved(t)}insertEntry(t){if(!t.parent||t.parent===this)return;if(!this.canCreateFiles)throw new Wh(this);if(!t.canEdit)throw new Wh(t);const n=this.getEntry(t.name);if(n)throw new vg(n);const r=t.type==="file"||t.hasFiles;r&&t.lib._notifyFilesChanged(),t.type==="file"?(t.parent._notifyFileRemoved(t),this.files=this.files.concat(t).sort(Yu)):(t.parent._notifyDirRemoved(t),this.dirs=this.dirs.concat(t).sort(Yu)),t._notifyParentChanged(this),r&&this.lib._notifyFilesChanged(),this.lib.vfs._notifyEntriesMoved()}createDir(t){if(!t)throw new W$;const n=this.getEntry(t);if(n){if(n.type==="dir")return n;throw new vg(n)}const r=new bb(t,this);return this.dirs=this.dirs.concat(r).sort(Yu),r}createFile(t,n){const r=this._createFile(t,n);return this.lib._notifyFilesChanged(),r}setSearchDirMarker(t){this.isSearchDir=t}getDir(t){const n=t.toUpperCase();return this.dirs.find(r=>r.nameUC===n)||null}getFile(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||null}getEntry(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||this.dirs.find(r=>r.nameUC===n)||null}resolveDir(t){if(!t)return this;const n=t.split("/");let r=this;for(let o=0;o<n.length;++o){const i=r.getDir(n[o]);if(!i)return null;r=i}return r}resolveFile(t){if(!t)return null;const n=t.lastIndexOf("/");return n<0?this.getFile(t):this.resolveDir(t.slice(0,n))?.resolveFile(t.slice(n+1))||null}_createFile(t,n){if(!t)throw new W$;const r=this.getEntry(t);if(r)throw new vg(r);const o=new Hme(t,n,this);return this.files=this.files.concat(o).sort(Yu),o}_notifyDirRemoved(t){this.dirs=this.dirs.filter(n=>n!==t)}_notifyFileRemoved(t){this.files=this.files.filter(n=>n!==t)}_notifyDirRenamed(){this.dirs=this.dirs.slice().sort(Yu)}_notifyFileRenamed(){this.files=this.files.slice().sort(Yu)}_notifyParentChanged(t){this.parent=t,this.lib!==t.lib&&this.updateTreeAndLibRecursive(t.lib)}updateTreeAndLibRecursive(t){this.lib=t,this.dirs.forEach(n=>n.updateTreeAndLibRecursive(t))}removeRecursive(t){this.isDeleted=!0,t.add(this),this.dirs.forEach(n=>n.removeRecursive(t)),this.files.forEach(n=>n._notifyParentDeleted()),this.dirs=[],this.files=[]}hasAncestor(t){return this===t||this.parent?.hasAncestor(t)||!1}*recursive(){for(const t of this.dirs)yield*t.recursive();for(const t of this.files)yield t}}class K${constructor(t,n,{isDefault:r=!1,isReadonly:o=!1}={}){this.isDirty=!1,this.vfs=t,this.isDefault=r,this.isReadonly=r||o,this.rootDir=new bb(n,this),vt(this,{isDirty:Pe.ref,setDirtyMarker:be,toJSON:!1})}setDirtyMarker(t){this.isDirty=t}toJSON(){function t(n,r="",o=[]){for(const i of n.dirs)t(i,r+i.name+"/",o);for(const i of n.files){const s=r+i.name;o.push({path:s,...i.toJSON()})}return o}return{version:sk,files:t(this.rootDir)}}_notifyFilesChanged(){this.isDirty=!0}}class Yme{constructor(){this.libs=[],this.projectFile=null,this.onDirsRemoved=new Hr,this.onEntriesMoved=new Hr,vt(this,{libs:Pe.ref,projectFile:!1,createLibrary:be,resolveDir:!1,resolveFile:!1,setProjectFile:!1})}get projectRootDir(){return this.projectFile?.parent||null}setProjectFile(t){this.projectFile=t}createLibrary(t,{files:n},r){const o=new K$(this,t,r);for(const i of n){const s=i.path.split("/");let a=o.rootDir;for(let c=0;c<s.length-1;++c)a=a.createDir(s[c]);a._createFile(s[s.length-1],i)}return this.libs=this.libs.concat(o),o}resolveDir(t){const n=this.getRootDir(t);return n&&n.resolveDir(t.slice(n.name.length+1))}resolveFile(t){const n=this.getRootDir(t);return n&&n.resolveFile(t.slice(n.name.length+1))}_notifyDirsRemoved(t){this.onDirsRemoved.dispatch(t)}_notifyEntriesMoved(){this.onEntriesMoved.dispatch()}getRootDir(t){const n=t.toUpperCase();let r=null;for(const o of this.libs){const{rootDir:i}=o;n.startsWith(i.nameUC)&&(!r||r.name.length<i.name.length)&&(r=i)}return r}}class Xme{constructor(){this.type="all",this.text="",this.textUC="",vt(this,{textUC:Pe.ref,type:Pe.ref,text:Pe.ref,isActive:Gr,setType:be,setText:be,isFilePassing:!1})}get isActive(){const{type:t,text:n}=this;return t!=="all"||n.length>1}setType(t){this.type=t}setText(t){this.text=t,this.textUC=t.toUpperCase()}isFilePassing(t){const{type:n,textUC:r}=this,o=n==="all"||n==="klass"&&!!t.klass||n==="image"&&!!t.image,i=!r||(t.klass?t.klass.nameUC+" "+t.nameUC:t.nameUC).includes(r);return o&&i}}const Zme=7,Jme=9,Qme=10,eve=0,tve=1,nve=3;class rve extends NV{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Gu(t)||""),this._cssColor}getGlobalCompositeOperation(){switch(this.rop){case Jme:return"multiply";case Qme:return"multiply";case Zme:return"difference";default:return""}}getFillStyle(t){switch(this.style){case eve:return this.getCssColor();case tve:return"";case nve:return this.image?.getCanvasPattern(t)??"black";default:return"white"}}_onImageChanged(){this.subs.forEach(t=>t._onBrushPropsChanged())}}class ove extends BV{constructor(){super(...arguments),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,size:n,style:r}=this;return this.inputCssFont=`${r&Op?"bold":"normal"} ${r&Gv?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?UC(t):t}onPropsChanged(){this.inputCssFont=""}}const q$=new Map,Y$=new Map;async function ive(e){const t=await YC(e),n=await createImageBitmap(t);return Y$.set(e,n),n}class sve{constructor(t){this.shouldUpdateCanvas=!1;const n=Oh(t.width,t.height),r=n.getContext("2d",{alpha:!1});r.drawImage(t,0,0),this.imageCtx=r,this.imageData=r.getImageData(0,0,n.width,n.height)}getCanvasImageSource(){const{imageCtx:t}=this;return this.shouldUpdateCanvas&&(this.shouldUpdateCanvas=!1,t.putImageData(this.imageData,0,0)),t.canvas}getPixel(t,n){const{imageData:r}=this;if(t<0||n<0||t>=r.width||n>=r.height)return 0;const{data:o}=r,i=(Math.floor(n)*r.width+Math.floor(t))*4;return ha(o[i],o[i+1],o[i+2],"rgb")}setPixel(t,n,r){const o=this.imageData,{data:i}=o,s=(Math.floor(n)*o.width+Math.floor(t))*4;i[s+0]=ck(r),i[s+1]=uk(r),i[s+2]=dk(r),i[s+3]=255,this.shouldUpdateCanvas=!0}}class ave extends FV{constructor(t,n,r){super(t,n,r),this.patternCache=new WeakMap,this.imageBitmap=null,this.pixelsWrapper=null;const o=Xi(this.src),i=Y$.get(o);if(i){this.imageBitmap=i;return}let s=q$.get(o);s||(s=ive(o),q$.set(o,s)),s.then(a=>{this.imageBitmap=a,this.subs.forEach(c=>c._onImageChanged())})}getPixelsWrapper(){if(this.pixelsWrapper)return this.pixelsWrapper;const{imageBitmap:t}=this;return t?this.pixelsWrapper=new sve(t):null}getPixel(t,n){return this.getPixelsWrapper()?.getPixel(t,n)||0}setPixel(t,n,r){if(t<0||n<0||t>this.width||n>this.height)return!1;const o=this.getPixelsWrapper();return o&&(o.setPixel(t,n,r),this.subs.forEach(i=>i._onImageChanged())),!0}getCanvasPattern(t){const n=this.getCanvasImageSource();if(!n)return null;const r=this.patternCache.get(t);if(r)return r;const o=t.createPattern(n,"repeat");return o?(this.patternCache.set(t,o),o):null}getCanvasImageSource(){return this.pixelsWrapper?.getCanvasImageSource()||this.imageBitmap}}class lve extends jV{constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,area:o,width:i,height:s}=this,{width:a,height:c}=t.canvas;let u=Math.round(this.x-n.x),h=Math.round(this.y-n.y);if(r){const y=Math.cos(r),b=Math.sin(r),v=i*y,S=i*b,E=v-s*b,T=S+s*y,R=-s*b,M=s*y,I=u+Math.min(0,v,E,R),N=u+Math.max(0,v,E,R),P=h+Math.min(0,S,T,M),L=h+Math.max(0,S,T,M);if(I>a||P>c||N<0||L<0)return}else if(u>a||h>c||u+i<0||h+s<0)return;const f=this.isVisible()&&this.image.getCanvasImageSource();if(!f)return;r&&(t.save(),t.translate(u,h),t.rotate(r),u=0,h=0);const g=Math.round(this.width),m=Math.round(this.height);if(o){const y=Math.round(o.x),b=Math.round(o.y),v=Math.round(o.w),S=Math.round(o.h);t.drawImage(f,y,b,v,S,u,h,g,m)}else t.drawImage(f,u,h,g,m);r&&t.restore()}_onImageChanged(){}}const bd={"jf-scene":"yNr0VPwT","jf-input":"doAE-L2e","jf-video":"_8PHlccAK","disable-inputs":"k7TCS6Hm",multiline:"-QksePcc",border:"GnGoYW5X"},cve=64,uve=128,dve=8388608;class hve extends VV{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:o=0}=r;let i;n==="Button"?(i=document.createElement("input"),i.type="button",i.addEventListener("click",this)):(i=document.createElement("textarea"),i.addEventListener("input",this)),i.className=bd["jf-input"],i.spellcheck=!1,i.name=`jf-${this.key}`,o&dve&&i.classList.add(bd.border),this.isMultiline&&i.classList.add(bd.multiline),i.addEventListener("focus",this),i.addEventListener("blur",this),this.domElement=i}focus(){this.domElement.focus()}handleEvent(t){const{scene:n,domElement:r,style:o}=this;if(t.type==="input"){if(!(o&uve)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(o&cve)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this.domElement.value=this._value=this.value);const o=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y),s=Math.round(this.width),a=Math.round(this.height);this._x!==o&&n.setProperty("left",(this._x=o).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==a&&n.setProperty("height",(this._h=a).toString()+"px")}_onFontPropsChanged(){}}class fve extends $V{constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.updateRegionSize();const o=Oh(this.regionWidth,this.regionHeight);this.lineCtx=o.getContext("2d",{alpha:!0})}updateRegionSize(){const t=Math.max((this.pen?.getLineWidth()||0)/2,this.start?.length||0,this.end?.length||0);this.sourceOffset=t,this.regionWidth=Math.ceil(this.width+t*2),this.regionHeight=Math.ceil(this.height+t*2)}getCanvasImageSource(){this.updateRegionSize();const{regionWidth:t,regionHeight:n}=this;if(!t||!n)return null;if(!this.shouldUpdateSource){const u=this.lineCtx.canvas;return u.width&&u.height?u:null}this.shouldUpdateSource=!1;const{coords:r,pen:o,brush:i,lineCtx:s,sourceOffset:a}=this;s.canvas.width=t,s.canvas.height=n,a&&s.translate(a,a),s.moveTo(r[0],r[1]);for(let u=2;u<r.length;u+=2)s.lineTo(r[u],r[u+1]);if(i&&r.length>4){s.closePath();const u=i.getFillStyle(s);u&&(s.fillStyle=u,s.fill("evenodd"))}const c=o&&o.getStrokeStyle();if(c){if(!i&&r.length>2){const{start:h,end:f}=this;if(h){const g=r[3],m=r[2],y=r[1],b=r[0],v=h.length,S=Math.atan2(y-g,b-m),E=S+h.angle,T=S-h.angle;s.moveTo(b,y),s.lineTo(b-v*Math.cos(E),y-v*Math.sin(E)),s.moveTo(b,y),s.lineTo(b-v*Math.cos(T),y-v*Math.sin(T))}if(f){const g=r[r.length-4],m=r[r.length-3],y=r[r.length-2],b=r[r.length-1],v=f.length,S=Math.atan2(b-m,y-g),E=S+f.angle,T=S-f.angle;s.moveTo(y,b),s.lineTo(y-v*Math.cos(E),b-v*Math.sin(E)),s.moveTo(y,b),s.lineTo(y-v*Math.cos(T),b-v*Math.sin(T))}}s.lineCap="round",s.lineJoin="round",s.lineWidth=o.getLineWidth(),s.strokeStyle=c;const u=o.getLineDash();u&&s.setLineDash(u),s.stroke()}return s.canvas}_render(t){const{scene:n,sourceOffset:r,regionWidth:o,regionHeight:i}=this,{width:s,height:a}=t.canvas,c=Math.round(this.x-n.x-r),u=Math.round(this.y-n.y-r);if(c>s||u>a||c+o<0||u+i<0)return;const h=this.isVisible()&&this.getCanvasImageSource();if(!h)return;const f=(this.brush?this.brush.getGlobalCompositeOperation():this.pen?.getGlobalCompositeOperation())||"";f?(t.globalCompositeOperation=f,t.drawImage(h,c,u),t.globalCompositeOperation="source-over"):t.drawImage(h,c,u)}onCoordsChanged(){this.shouldUpdateSource=!0}onPropsChanged(){this.shouldUpdateSource=!0}_onPenPropsChanged(){this.shouldUpdateSource=!0}_onBrushPropsChanged(){this.shouldUpdateSource=!0}}const pve=0,gve=1,mve=2,vve=3,yve=4,bve=5,wve=9,Sve=10,Cve=7,xve=[16,4],_ve=[2,4],Eve=[16,4,2,4],Tve=[16,4,2,4,2,4];class Mve extends WV{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Gu(t)||""),this._cssColor}getLineWidth(){return Math.max(Math.round(this.width),1)}getGlobalCompositeOperation(){switch(this.rop){case wve:return"multiply";case Sve:return"multiply";case Cve:return"difference";default:return""}}getStrokeStyle(){return this.style!==bve?this.getCssColor():""}getLineDash(){switch(this.style){case pve:return null;case gve:return xve;case mve:return _ve;case vve:return Eve;case yve:return Tve;default:return null}}}class Ove extends KV{constructor(){super(...arguments),this._text="",this.fragments=[""]}getLines(){const{text:t}=this;return this._text!==t&&(this._text=t,this.fragments=t.split(/\r\n|\n/)),this.fragments}}const Rve=1.15,Ive=.989,X$=Oh(0,0).getContext("2d",{alpha:!1});class Pve extends qV{constructor(t,n){super(t,n),this.textFragments=null,this._fgColor=NaN,this._bgColor=NaN,this.fontCssColor="",this.bgCssColor=""}getTextFragments(){const{fontFamily:t,size:n,style:r}=this.font,o=this.string.getLines(),i=r&Gv?"italic":"normal",a=`${r&Op?"bold":"normal"} ${i} ${n}px ${t}`,{textFragments:c}=this;if(c&&c.cssFont===a&&c.textLines===o)return c;X$.font=a;const u=n*Rve,h=[];return o.forEach((f,g)=>{if(g>0&&h.push({text:`
`,width:0,height:u}),f){const m=this.font.transformText(f);h.push({width:X$.measureText(m).width,height:u,text:m})}else h.push({width:0,height:u,text:""})}),this.textFragments={cssFont:a,fragments:h,textLines:o}}getFontCssColor(){const{fgcolor:t}=this;return this._fgColor!==t&&(this._fgColor=t,this.fontCssColor=Gu(t)||"black"),this.fontCssColor}getBgCssColor(){const{bgcolor:t}=this;return this._bgColor!==t&&(this._bgColor=t,this.bgCssColor=Gu(t)||""),this.bgCssColor}_onFontPropsChanged(){this.text._onGeometryChanged()}_onStringTextChanged(){this.text._onGeometryChanged()}onChanged(t,n){t&&this.text._onGeometryChanged(),n&&this.text._onColorsChanged()}}class kve extends YV{constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.maxWidth=0,this.maxHeight=0,this._parts=null;const o=Oh(0,0);this.textCtx=o.getContext("2d",{alpha:!0})}get width(){return this.updateMetrics(),this.maxWidth}get height(){return this.updateMetrics(),this.maxHeight}updateMetrics(){const{parts:t}=this;if(this._parts===t)return;this._parts=t,this.shouldUpdateSource=!0;let n=0,r=0,o=0,i=0;for(const s of t)for(const a of s.getTextFragments().fragments){if(i=Math.max(i,a.height),a.text===`
`){r+=i,n=Math.max(n,o),o=0,i=0;continue}o+=a.width}r+=i,n=Math.max(n,o),this.maxWidth=Math.floor(n),this.maxHeight=Math.floor(r)}getCanvasImageSource(){const{textCtx:t}=this;this.updateMetrics();const{maxWidth:n,maxHeight:r}=this;if(!n||!r)return null;if(!this.shouldUpdateSource){const a=t.canvas;return a.width&&a.height?a:null}this.shouldUpdateSource=!1,t.canvas.width=Math.round(n),t.canvas.height=Math.round(r+2),t.textAlign="left",t.textBaseline="alphabetic",t.scale(Ive,1);let o=0,i=0,s=0;for(const a of this.parts){const{fragments:c,cssFont:u}=a.getTextFragments(),{style:h}=a.font,f=a.getFontCssColor(),g=a.getBgCssColor(),m=h&hk,y=h&fk;t.font=u;for(const{text:b,width:v,height:S}of c){if(s=Math.max(s,S),b===`
`){i+=s,o=0,s=0;continue}if(b){const E=Math.round(o),T=Math.round(i+S*.85);if(g){t.fillStyle=g;const M=Math.round(i);t.fillRect(E,M,Math.round(v),Math.round(S))}t.fillStyle=f,t.fillText(b,E,T);const R=Math.max(1,S/10);if(m){const M=Math.round(i+S-R);t.fillRect(E,M,Math.round(v),Math.round(R))}if(y){const M=Math.round(i+S*.55);t.fillRect(E,M,Math.round(v),Math.round(R))}}o+=v}}return t.canvas}_createPart(t){return new Pve(this,t)}_onGeometryChanged(){this._parts=null}_onColorsChanged(){this.shouldUpdateSource=!0}}class Dve extends XV{constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,width:o,height:i}=this,{width:s,height:a}=t.canvas;let c=Math.round(this.x-n.x),u=Math.round(this.y-n.y);if(r){const m=Math.cos(r),y=Math.sin(r),b=o*m,v=o*y,S=b-i*y,E=v+i*m,T=-i*y,R=i*m,M=c+Math.min(0,b,S,T),I=c+Math.max(0,b,S,T),N=u+Math.min(0,v,E,R),P=u+Math.max(0,v,E,R);if(M>s||N>a||I<0||P<0)return}else if(c>s||u>a||c+o<0||u+i<0)return;const h=this.isVisible()&&this.text.getCanvasImageSource();if(!h)return;r&&(t.save(),t.translate(c,u),t.rotate(r),c=0,u=0);const f=Math.round(this.width*1.02),g=Math.round(this.height)+2;t.drawImage(h,0,0,f,g,c,u,f,g),r&&t.restore()}_onTextPartsChanged(){}}class Ave{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}}class Lve extends QV{constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const o=this.domElement=document.createElement("video");o.className=bd["jf-video"],o.src=Xi(n),o.controls=!iy.hideVideoControls,this.video=new Ave(o)}getState(){const t=this.domElement;return t.paused?t.currentTime?"pause":"stop":"play"}setPosition(t){const n=this.domElement;return t!==n.currentTime&&(n.currentTime=t),this}getPosition(){return this.domElement.currentTime}play(){const t=this.domElement;return t.paused&&t.play(),this}stop(){const t=this.domElement;return t.paused||t.pause(),this}pause(){const t=this.domElement;return t.paused||t.pause(),t.currentTime&&(t.currentTime=0),this}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this.fixed){const i=Math.round(this.width),s=Math.round(this.height);this._w!==i&&n.setProperty("width",(this._w=i).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}}const Nve=class extends LV{constructor(t){super(),this._disableInputs=!1,this.dirty=!0;const n=document.createElement("canvas");this.ctx=n.getContext("2d",{alpha:!0,desynchronized:!0});const r=this.domElement=document.createElement("div");r.className=bd["jf-scene"],r.append(n),t&&this.fromJSON(t)}dispose(){}_render(t=!1){if(!t&&!this.domElement.offsetParent)return;const{disableInputs:n}=this;this._disableInputs!==n&&(this._disableInputs=n,n?this.domElement.classList.add(bd["disable-inputs"]):this.domElement.classList.remove(bd["disable-inputs"]));const{background:r}=this,o=this.ctx,i=o.canvas,s=i.clientWidth,a=i.clientHeight;(s!==i.width||a!==i.height)&&(i.width=s,i.height=a,this.dirty=!0),!(!this.dirty||s<1||a<1)&&(o.fillStyle=r?.getFillStyle(o)||"white",o.fillRect(0,0,s,a),this.order.forEach(c=>c._render(this.ctx)))}toBlob(t){const n=this.ctx.canvas,r=Math.max(t.x,0),o=Math.max(t.y,0),i=Math.min(t.w,n.width),s=Math.min(t.h,n.height),a=Oh(i,s);return a.getContext("2d",{alpha:!1}).drawImage(this.ctx.canvas,r,o,i,s,0,0,i,s),a instanceof OffscreenCanvas?a.convertToBlob():new Promise(h=>a.toBlob(f=>h(f)))}_line(t,n={}){return new fve(this,t,n)}_imageView(t,n={}){return new lve(this,t,n)}_textView(t,n={}){return new Dve(this,t,n)}_input(t,n={}){const r=new hve(this,t,n);return this.domElement.append(r.domElement),r}_video(t,n={}){const r=new Lve(this,t,n);return this.domElement.append(r.domElement),r}_pen(t={}){return new Mve(this,t)}_brush(t={}){return new rve(this,t)}_image(t,n={}){return new ave(this,t,n)}_string(t,n={}){return new Ove(this,t,n)}_font(t={}){return new ove(this,t)}_text(t,n={}){return new kve(this,t,n)}_onBrushPropsChanged(){}};class Bve extends Error{constructor(t){super(`Проект ${t} загружается`)}}class Fve{constructor(t,n){if(this.fs=t,!n.projects.length)throw Error("Список проектов пуст");const r=n.projects.map(o=>{const i=t.path(o.filepath||"project.spj");return{config:o,path:i,state:{type:"notLoaded"}}});this.projects=r,this.initialProjectPath=n.initial?t.path(n.initial):r[0].path}exists(t){return this.projects.some(({path:n})=>n.equals(t))}async open(t){const n=this.projects.find(({path:i})=>i.equals(t));if(!n)return null;const r=n.state;if(r.type==="loading")throw new Bve(n.path);if(r.type==="loaded")return r.parsedProjectConfig;n.state={type:"loading"};let o;try{const{fs:i}=this,{path:s,config:a}=n;await Promise.all(a.libs.map(y=>i.mountLibrary(y)));const{searchDirs:c,stt:u}=a.settings,h=s.resolve(".."),f=[i.stdlibDir,h].concat(c?.map(y=>i.path(y))??[]),g=u?i.path(u):h.resolve("_preload.stt"),m=g.file()?.stt;m||console.warn(`Файл состояния ${g} не существует`),o={settings:a.settings,filepath:s,dir:h,searchDirs:f,stt:m}}catch(i){throw n.state={type:"notLoaded"},i}return n.state={type:"loaded",parsedProjectConfig:o},o}}class jve{constructor(t,n,r){this.handlers={closed:new Set,error:new Set,shell:new Set,write:new Set,afterCycle:new Set},this.onProjectOpen=new pa,this.beforeProjectClosed=new pa,this.beforeCompute=new pa,this.afterCompute=new pa,this.beforeRender=new pa,this.classes=new _le,this.iterations=0,this.isPaused=!1,this.pluginFunctions={},this.compiler=new jk,this.pluginNames=[],this.optionalPlugins=[],this.projects=[],this.closedProjects=new Set,this.uiEventsEnabled=!0,this.lag=0,this.timeStep=0,this.update=o=>{let i=!0;if(!this.isPaused)if(this.timeStep>0){const s=o-this.lag;for(s>this.timeStep*10&&(console.warn(`lag обнулен: dt:${s}`),this.lag=o-this.timeStep-1);this.lag+this.timeStep<o&&(this.lag+=this.timeStep,!!(i=this.compute())););}else i=this.compute();return this.beforeRender.dispatch(),i},this.showed=new Set,this.runner=new Ek(r),this.projectLoader=new Fve(t,n),this.initialCfg=this.init()}async init(){const t=this.projectLoader,n=await t.open(t.initialProjectPath);Zv(n,`${t.initialProjectPath}: Проект существует`),this.initialCfg=n}async ready(){return await this.initialCfg,this}get fs(){return this.projectLoader.fs}get currentProject(){const{projects:t}=this;return t.length?t[t.length-1]:null}canHandleProjectUiEvents(t){return this.uiEventsEnabled&&this.projects.includes(t)}run(){if(this.initialCfg instanceof Promise)throw Error(`${this.projectLoader.initialProjectPath}: Начальный проект не загружен`);this.projects.length||(this.enableUiEvents(!0),this.isPaused=!1,this.iterations=0,this.addProject(this.initialCfg),this.runner.run(this.update))}stop(){this.closeAll(),this.compute()}step(){this.isPaused=!0,this.compute()}pause(){this.isPaused=!0}enableUiEvents(t){this.uiEventsEnabled=t}continue(){this.isPaused=!1}closeProject(t){const n=this.projects.indexOf(t);n>=0&&this.projects.splice(n,1),this.closedProjects.add(t)}closeAll(){let t;for(;t=this.projects.pop();)this.closedProjects.add(t)}hasProject(t){return this.projectLoader.exists(t)}async openProject(t){const n=await this.projectLoader.open(t);return n?this.addProject(n):null}addProject({filepath:t,searchDirs:n,dir:r,stt:o,settings:i}){so.debugProject&&console.log(`Открывается ${t}`);const s=Symbol(t.toString());let a;try{i.plugins?.forEach(u=>{const h=this.optionalPlugins.find(({plugin:f})=>f.name===u);Zv(h,`${t}: Плагин ${u} загружен`),this.addPlugin(h.plugin,h.opts),so.debugProject&&console.log(`Загружен плагин '${u}'`)}),n.forEach(u=>{const h=!i.nonRecursive||u.equals(this.fs.stdlibDir);u.forEach(f=>{if(!f.cls||this.classes.hasFile(f))return;const g=new xle({projectId:s,data:f.cls,file:f,compiler:this.compiler,modelGlobals:this.pluginFunctions});g.isFunction&&this.compiler.addUserFunc(g.getUserFunctionSignature()),this.classes.add(g)},h)});const c=this.classes.get(i.rootClass);Zv(c,`${t}: Корневой имидж ${i.rootClass} существует`),a=new Dle({kernel:this,id:s,filepath:t,dir:r,rootKlass:c,state:o,settings:i})}catch(c){throw this.classes.unload(s),c}return this.projects.push(a),this.onProjectOpen.dispatch(a),a}compute(){if(this.closedProjects.forEach(n=>{so.debugProject&&console.log(`Закрывается ${n.id.description}`),this.beforeProjectClosed.dispatch(n),this.classes.unload(n.id)}),this.closedProjects.clear(),!this.projects.length)return this.handlers.closed.forEach(n=>n()),!1;const t=this.projects[this.projects.length-1];try{t.root.compute(!1)}catch(n){throw n instanceof T0?(this.handlers.error.forEach(r=>r(n.message)),new T0(`Проект ${t.id.description}, ${n.message}`,n.original)):n}return++this.iterations,this.handlers.afterCycle.forEach(n=>n()),!0}setIterationsPerSecond(t){this.timeStep=t>0?1e3/t:0,this.lag=0}log(t,n){so.logMessage&&console.info(n?`${n.path()}: ${t}`:t)}handleExe(t,n){const r=t.lastIndexOf(".exe"),o=r<0?t:t.substring(0,r);return this.handlers.shell.forEach(i=>i(o,"","",n??0)),!0}handleShell(t,n,r,o){return this.handlers.shell.forEach(i=>i(t,n,r,o)),!0}handleWrite(t,n){this.handlers.write.forEach(r=>r(t.toString(),n)),t.startsWith(this.fs.downloadsDir)&&KC(new Blob([n],{type:"text/plain"}),t.basename())}addPlugin(t,n){this.pluginNames.includes(t.name)||(t.deps?.forEach(r=>{if(!this.pluginNames.includes(r))throw Error(`Плагин '${t.name}' зависит от '${r}'`)}),this.pluginNames.push(t.name),t.register((r,o,i)=>{const s=this.compiler.addFunc(r,o);this.pluginFunctions[s]=i}),t.setup?.(this,n))}addOptionalPlugin(t,n){this.optionalPlugins.push({plugin:t,opts:n})}_functionNotImplemented(t,n){if(this.showed.size===this.showed.add(t.toUpperCase()).size)return;const r=`${t} не реализована`;console.warn(n?`${n.path()}: ${r}`:r)}dispose(){this.windowSystem?.windowFactory.dispose()}}class Vve{constructor(t){this.kernel=t}async ready(){return await this.kernel.ready(),this}get status(){const{kernel:t}=this;return t.currentProject?t.isPaused?"paused":"playing":"closed"}play(){return this.kernel.run(),this}close(){return this.kernel.stop(),this}pause(){return this.kernel.pause(),this}continue(){return this.kernel.continue(),this}step(){return this.kernel.step(),this}addPlugin(t,n){return this.kernel.addOptionalPlugin(t,n),this}on(t,n){return this.kernel.handlers[t].add(n),this}off(t,n){const r=this.kernel.handlers[t];return n?r.delete(n):this.kernel.handlers[t].clear(),this}dispose(){this.kernel.dispose()}}function $ve(e){e.style.transformOrigin="top left",e.insertAdjacentHTML("afterend",`
<div id="mobzoom-icons-container">
    <img draggable="false" id="mobzoom-in-btn" src="images/zoom-in-icon.svg" />
    <img draggable="false" id="mobzoom-out-btn" src="images/zoom-out-icon.svg" />
</div>`);const n=document.getElementById("mobzoom-in-btn");n.oncontextmenu=N=>N.preventDefault();const r=document.getElementById("mobzoom-out-btn");r.oncontextmenu=N=>N.preventDefault();const o=new qC(e.ownerDocument.defaultView);let i=1;const s=()=>{if(!isNaN(a))i*=1.05;else if(!isNaN(c))i*=.95;else return!1;return i=Math.min(Math.max(i,.1),1),e.style.transform=`scale(${i})`,e.style.width=`${100/i}%`,e.style.height=`${100/i}%`,!0};let a=NaN;n.onpointerdown=N=>{isNaN(a)&&(o.run(s),n.setPointerCapture(a=N.pointerId))},n.onpointerup=N=>{a===N.pointerId&&(a=NaN)},n.onpointercancel=N=>{a===N.pointerId&&(a=NaN)};let c=NaN;r.onpointerdown=N=>{isNaN(c)&&(o.run(s),r.setPointerCapture(c=N.pointerId))},r.onpointerup=N=>{c===N.pointerId&&(c=NaN)},r.onpointercancel=N=>{c===N.pointerId&&(c=NaN)};const u=new qC(e.ownerDocument.defaultView);let h=null;const f=new Map;let g=0,m=0;function y(N){if(!(f.size>2)){if(f.size<2){h=null,(Math.abs(g)>1||Math.abs(m)>1)&&u.run(()=>(g-=Math.sign(g)*.4,m-=Math.sign(m)*.4,e.scrollLeft-=g,e.scrollTop-=m,Math.abs(g)>1||Math.abs(m)>1));return}N.stopPropagation();{h=[...f.values()];const[P,L]=h;P.x-L.x,P.y-L.y}}}let b=null;function v(N){f.set(N.pointerId,{id:N.pointerId,x:N.screenX,y:N.screenY}),u.stop(),N.isPrimary&&(b=[N.clientX,N.clientY]),y(N)}function S(N){f.delete(N.pointerId),N.isPrimary&&(b=null,E.stop()),y(N)}const E=new qC(e.ownerDocument.defaultView),T=100;let R=[0,0];function M(){const[N,P]=R;if(b){const $=N-b[0],B=P-b[1];if($**2+B**2<100)return!1}let L=0,D=0;if(N<T)L=N-T;else{const $=window.innerWidth-N;$<T&&(L=T-$)}if(L/=40,P<T)D=P-T;else{const $=window.innerHeight-P;$<T&&(D=T-$)}return D/=40,L&&(e.scrollLeft+=Math.E**Math.abs(L)*Math.sign(L)),D&&(e.scrollTop+=Math.E**Math.abs(D)*Math.sign(D)),!0}function I(N){if(!h&&N.isPrimary?(R[0]=N.clientX,R[1]=N.clientY,E.run(M)):E.stop(),!h)return;const P=f.get(N.pointerId);if(P){N.isPrimary||(N.stopPropagation(),g=N.screenX-P.x,m=N.screenY-P.y,e.scrollLeft-=g,e.scrollTop-=m);{const[L,D]=h;L.x-D.x,L.y-D.y}P.x=N.screenX,P.y=N.screenY}}e.addEventListener("pointerdown",v,{capture:!0}),e.addEventListener("pointerup",S),e.addEventListener("pointercancel",S),e.addEventListener("pointermove",I,{capture:!0})}const yg={root:"c3UHApxQ",mywindow:"JtozXFt9",top:"pnlxzH3m",popup:"dJ50k0ZR","close-button":"_2NuvSdcG"};function zve(){const e=document.createElement("button");return e.textContent="×",e.className=yg["close-button"],e}class Uve{constructor(t,{popup:n,content:r,...o},i=null){this.system=t,this.relativeTo=i,this.onClosed=new pa,this.x=0,this.y=0,this.width=0,this.height=0,this.title="",this.visible=!0,this.scale=1,this.instantClose=!1,this.isClosed=!1,this.hideTimeout=0;const s=this.view=r;if(this.popup=n||!1,this.set(o),this.width=s.clientWidth,this.height=s.clientHeight,n)s.addEventListener("focusout",this.onFocusOut.bind(this));else if(o.caption){const a=zve();s.children.item(0)?.append(a),a.addEventListener("click",this.close.bind(this)),this.instantClose=!0}}onFocusOut(t){this.view.contains(t.relatedTarget)||this.close()}close(){this.isClosed||(this.isClosed=!0,this.remove(),this.onClosed.dispatch())}toTop(){}set({x:t=this.x,y:n=this.y,title:r=this.title,visible:o=this.visible,preserveX:i}){const{view:s}=this,{style:a}=s;if(this.title!==r&&(this.view.ariaLabel=`Окно '${r}'`),this.popup){if(i){const c=this.relativeTo?.offsetLeft||0;a.setProperty("left",t+c+"px"),a.setProperty("right","unset")}else a.removeProperty("left"),a.removeProperty("right");if(this.y!==n){const c=this.relativeTo?.offsetTop||0;a.setProperty("top",n+c+"px")}}return this.visible!==o&&(this.view.style.opacity=o?"1":"0",this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(()=>this.view.style.setProperty("display",o?"block":"none"),o?0:250)),this.x=t,this.y=n,this.title=r,this.visible=o,this}makeRelativeTo(t){if(this.popup){const{style:n}=this.view,r=t.offsetLeft();console.log(this.x,r),n.setProperty("left",this.x+r+"px"),n.setProperty("right","unset");const o=t.offsetTop();n.setProperty("top",this.y+o+"px")}}offsetLeft(){return this.view.offsetLeft}offsetTop(){return this.view.offsetTop}remove1(){this.view.style.opacity="0",setTimeout(()=>this.view.remove(),250)}remove(){this.system._removeWindow(this),this.popup?this.remove1():this.remove1()}}const Z$={root:"stratum-player-root"};class Hve{constructor(t){this.firstWindow=null;const n=(typeof t=="string"?document.getElementById(t):t)||document.body,r=this.root=document.createElement("div");r.classList.add(yg.root,Z$.root),n.append(r),so.touchGestures&&$ve(n)}get screenWidth(){return this.root.clientWidth}get screenHeight(){return this.root.clientHeight}_removeWindow(t){this.firstWindow===t&&(this.firstWindow=null)}createWindow(t){const n=t.content;n.classList.add(yg.mywindow,t.popup?yg.popup:yg.top);let{x:r=0,y:o=0}=t;n.style.opacity="0",queueMicrotask(()=>n.style.opacity="1"),this.root.appendChild(n),t.popup&&(r=Math.max(r,0),o=Math.max(o,0),n.offsetHeight&&(o=Math.min(o,this.screenHeight-n.offsetHeight-11)),Ku(n,{left:r+"px",top:o+"px"}));const i=document.activeElement?.hasAttribute("data-gspace-key")?document.activeElement:null,s=new Uve(this,{...t,x:r,y:o},i);return!t.popup&&!this.firstWindow&&(this.firstWindow=s),requestAnimationFrame(()=>n.focus()),s}dispose(){this.root.remove()}}class Gve{constructor(){}create(t,n){switch(n){case"canvas":return new Nve(t);default:return new DT(t)}}}async function Wve(e){const t=await R0.create(),n=new Hve(so.root),r=n.root.ownerDocument.defaultView||window,o=new jve(t,e,r),s={sceneFactory:new Gve,windowFactory:n};return QD.forEach(a=>o.addPlugin(a,s)),Sle.forEach(a=>o.addOptionalPlugin(a,s)),new Vve(o).ready()}var _=hi();const bn=MC(_),cM=nq({__proto__:null,default:bn},[_]);class Kve{constructor(){this.vars=[],vt(this,{vars:Pe.ref,add:be,clear:be,remove:be})}add(t){this.vars.includes(t)||(this.vars=this.vars.concat(t))}remove(t){this.vars=this.vars.filter(n=>n!==t)}clear(){this.vars=[]}}class qve{constructor(t,{klassVar:n}){this.value="",this.schema=t,this.klassVar=n,this._updateValue(),vt(this,{value:Pe.ref,setValue:be})}get id(){return this.klassVar.id.toString()}get name(){return this.klassVar.name}get type(){return this.klassVar.type}setValue(t){const{klassVar:n,schema:r}=this,o=Dp(n.type,t);if(o===null)return!1;const i=r._pSchema.vars.setValue(n,o);return i&&this._updateValue(),i}_updateValue(){const{klassVar:t,schema:n}=this,r=n._pSchema.vars.getNewValue(t);this.value=xk(t.type,r)}}const Yve={};class uM{constructor({pSchema:t,parent:n=null,root:r=this,player:o}){this.itemId=Jv(),this.isActive=!1,this.root=r,this.parent=n,this.player=o,this._pSchema=t,this.vars=t.klass.vars.list.map(i=>new qve(this,{klassVar:i})),this.children=t.children.map(i=>new uM({root:r,player:o,pSchema:i,parent:this})),vt(this,{isActive:Pe.ref,makeActive:be})}get imageData(){const{image:t}=this._pSchema.klass;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this._pSchema.klass.image?.icon||Yve}makeActive(){this.isActive=!0,this.player._setActiveSchema(this)}toString(){const{_pSchema:t}=this;return t.ndata?`${t.klass.name} #${t.ndata.key}`:t.klass.name}_updateValues(){this.vars.forEach(t=>t._updateValue())}}const Xve=4;class Zve{constructor(t,{player:n}){this.isMinimized=!1,this.activeSchema=null,this.rootSchema=null,this.iterationCount=0,this.onPlayerClosed=()=>{this.player.dispose(),this.mgr._onPlayerClosed()},this.onPlayerCycleCompleted=()=>{++this.iterationCount;const{currentProject:r}=this.player.kernel;if(!r){this.rootSchema=null;return}if((!this.rootSchema||this.rootSchema._pSchema!==r.root)&&(this.rootSchema=new uM({pSchema:r.root,player:this}),this.activeSchema=this.rootSchema,this.markedVars.clear(),this.mgr._updateMarkedVars(this.rootSchema)),this.status==="paused"||!((this.iterationCount-1)%Xve)){const o=new Set;this.activeSchema&&o.add(this.activeSchema),this.markedVars.vars.forEach(i=>{o.add(i.schema)}),o.forEach(i=>{i._updateValues()})}},this.player=n,this.mgr=t,this.status=n.status,this.markedVars=new Kve,vt(this,{isMinimized:Pe.ref,status:Pe.ref,activeSchema:Pe.ref,rootSchema:Pe.ref,iterationCount:Pe.ref,onPlayerClosed:be,onPlayerCycleCompleted:be,close:be,continue:be,maximize:be,minimize:be,pause:be,step:be}),n.on("closed",this.onPlayerClosed),n.on("afterCycle",this.onPlayerCycleCompleted)}updatePlayerStatus(){this.status=this.player.status}close(){this.player.close()}pause(){this.player.pause(),this.updatePlayerStatus()}continue(){this.player.continue(),this.updatePlayerStatus()}step(){this.player.step(),this.updatePlayerStatus()}minimize(){this.isMinimized=!0}maximize(){this.isMinimized=!1}_setActiveSchema(t){this.activeSchema=t}}class Jve{constructor(t){this.onBeforeRun=new Hr,this.mountRef=_.createRef(),this.status="closed",this.player=null,this.markedVars=new Set,this.project=t,vt(this,{player:Pe.ref,status:Pe.ref,openPlayer:to})}addMarkedVar(t){this.markedVars.add(t)}removeMarkedVar(t){this.markedVars.delete(t)}*openPlayer(){if(this.status!=="closed")return;const t=this.mountRef.current;if(!t)return;this.status="initializing",this.onBeforeRun.dispatch(),so.cache="no-cache",so.debugProject=!0,so.logMessage=!0,so.root=t;const{project:n}=this;n.saveSchemaStateToFile();const r=n.toRemoteProjectData(!0),o=[r].concat(n.subProjects.map(a=>a.config)),i=r.filepath;console.log({projects:o,initial:i});let s;try{s=yield Wve({projects:o,initial:i})}catch(a){throw this._onPlayerClosed(),alert(a.message),a}s.on("error",alert);try{s.play()}catch(a){throw s.dispose(),this._onPlayerClosed(),alert(`При запуске проекта произошла ошибка:
`+a.message),a}this.player=new Zve(this,{player:s}),this.status="running"}_onPlayerClosed(){this.status="closed",this.player=null}_updateMarkedVars(t){this.markedVars.forEach(n=>{let r=n.schema;const o=[r.key];for(;;){const a=r.parent;if(!a||!a.key)break;o.push(a.key),r=a}let i=t;for(const a of o.reverse()){const c=i.children.find(u=>u._pSchema.ndata?.key===a);if(!c)return;i=c}const s=i.vars.find(a=>a.name===n.name);s&&this.player?.markedVars.add(s)})}}class J${constructor(t,n,r,o){this.project=t,this.id=n,this.name=r,this.config=o,vt(this,{remove:be})}remove(){this.project._removeSubProject(this)}}class Qve{constructor(t){this.isDirty=!1,this.libs=[],this.subProjects=[],this.vfsFilter=new Xme,this.vfsFilterVisible=new yd,this.player=new Jve(this),this.tabs=new Ume,this.onCollapseFilesButtonClick=new Hr,this.onNodeSelected=new Hr,this.vfsFileTransfer=new lM("fileContent"),this.selectSchema=n=>{this.onNodeSelected.dispatch(n)},this.apiClient=t.apiClient,this.id=t.id,this.accessKey=t.accessKey,this.name=t.name,this.vfs=t.vfs,this.schema=t.schema,this.klassLibraryBuilder=t.classLibraryBuilder,this.plugins=t.plugins,this.projectFile=t.projectFile,this.sttFile=t.sttFile,this.libs=t.libs,this.subProjects=t.subProjects.map(({id:n,name:r,config:o})=>new J$(this,n,r,o)),this.editorMultiplexer=new Rme({fileContentTransfer:this.vfsFileTransfer,getFileUploader:this.getFileUploader.bind(this)}),this.syncer=new Lme({apiClient:t.apiClient,project:this}),vt(this,{isDirty:Pe.ref,libs:Pe.ref,subProjects:Pe.ref,plugins:Pe.ref,sttFile:Pe.ref,setRecursiveKlassSearch:be,addKlassSearchDir:be,removeKlassSearchDir:be,addSubProject:be,createNewKlass:be,openBinaryFile:be,focusOnNode:be,openFile:be,openKlassCode:be,openKlassProps:be,openKlassScene:be,openMatrixFile:be,openSceneFile:be,openSchema:be,saveSchemaStateToFile:be,setDirtyMarker:be,getFileUploader:!1,toRemoteProjectData:!1})}close(){return this.hasChanges&&!confirm("Несохраненные изменения будут потеряны, продолжить?")?!1:(this.player.player?.close(),this.tabs.tabs.every(t=>t.close()))}get hasChanges(){return this.isDirty||this.schema.isStateChanged||this.libs.some(t=>t.hasChanges)}get klassLibrary(){return this.klassLibraryBuilder.klassLibrary}get recursiveKlassSearch(){return this.klassLibraryBuilder.recursiveSearch}get klassSearchDirs(){return this.klassLibraryBuilder.searchDirs}addMarkedVar(t){this.player.addMarkedVar(t)}removeMarkedVar(t){this.player.removeMarkedVar(t)}setDirtyMarker(t){this.isDirty=t}setRecursiveKlassSearch(t){const{klassLibraryBuilder:n}=this;n.setRecursiveSearch(t),n.rebuildLibrary(),this.isDirty=!0}addKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.addSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}removeKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.removeSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}addSubProject(t,n,r){const o=new J$(this,t,n,r);return this.subProjects=this.subProjects.concat(o).sort((i,s)=>Rp(i.config.filepath||"",s.config.filepath||"")),this.isDirty=!0,o}createNewKlass(t,n){Rk(t);const r=this.klassLibrary.get(t);if(r)throw new U$(r);const o=Rh(n,t,"cls"),i=n.createFile(o,{cls:Ik(t)});return this.klassLibraryBuilder.rebuildLibrary(),i.klass}saveSchemaStateToFile(){const{schema:t}=this;if(!t.isStateChanged)return;const n=t.getState(!0);this.sttFile||(this.sttFile=this.projectFile.parent.createFile("_preload.stt",{stt:n}).stt),this.sttFile.setData(n),t.markStateUnchanged()}openSchema(t){const n=this.editorMultiplexer.openSchemaEditor(t);if(this.tabs.addTab(n)){const{scene:r}=n.editor;r.onNodeSelected.add(this.selectSchema),r.onSaved.add(()=>{r.schema&&(this.schema.hasNode(r.schema)||this.schema.applyChanges())})}return n}focusOnNode(t,n=!1){const r=this.openSchema(t.parent||t);t.parent?r.editor.scene.children.find(o=>o.schema===t)?.select(n):r.editor.scene.selection?.reset()}openKlassProps(t){this.tabs.addTab(this.editorMultiplexer.openKlassPropsEditor(t))}openKlassScene(t){this.openSchema(new yb(t,this.klassLibrary,{isFake:!0}))}openKlassCode(t){const n=this.klassLibrary,r=this.editorMultiplexer.openCodeEditor({klass:t,lib:n,pluginsGetter:()=>[]});if(this.tabs.addTab(r)){const{editor:o}=r;o.onError.add(i=>{alert(i)}),o.onSaved.add(()=>this.schema.applyChanges())}}openFile(t){if(t.klass){this.openKlassProps(t.klass);return}if(t.scene){this.tabs.addTab(this.editorMultiplexer.openFileSceneEditor(t.scene));return}if(t.binary){this.tabs.addTab(this.editorMultiplexer.openBinaryFileEditor(t.binary));return}}openSceneFile(t){}openMatrixFile(t){}openBinaryFile(t){}getFileUploader(t){const n=this.libs.find(r=>r.vfsLib===t);return n?new Gq(this.apiClient,n):null}toRemoteProjectData(t){const n={rootClass:this.schema.klass.name,searchDirs:this.klassLibraryBuilder.searchDirs.map(r=>r.path),nonRecursive:!this.klassLibraryBuilder.recursiveSearch,stt:this.sttFile?.file.path,plugins:this.plugins};return{filepath:this.projectFile.path,libs:this.libs.map(r=>r.toRemoteFilesData(t)),settings:n}}_removeSubProject(t){this.subProjects=this.subProjects.filter(n=>n!==t),this.isDirty=!0}async export(){const t=await this.apiClient.getProjectPlayerZip(this.id);KC(t,`${this.id}.zip`)}}class eye{constructor(t,n,r,o){this.id=t,this.name=n,this.contentDirname=r,this.vfsLib=o}get hasChanges(){return this.vfsLib.isDirty}remove(){}toRemoteFilesData(t){return{src:this.contentDirname,mount:this.vfsLib.rootDir.name,data:io(t&&this.vfsLib.toJSON())}}}class Q${constructor({libDto:t,parent:n,selector:r}){this.selector=r,this.id=t.id,this.name=t.name,this.parent=n,this.contentDirname=t.contentDirname,vt(this,{getPath:!1})}getPath(){const t=this.parent.getPath();return t?t+"/"+this.name:this.name}}class dM{constructor({selector:t,projectDto:n,parent:r}){this.parent=r,this.selector=t,this.projectDto=n,vt(this,{select:be})}get id(){return this.projectDto.id}get name(){return this.projectDto.name}get config(){return this.projectDto.config}select(){this.selector._onProjectSelected(this)}}const tye={id:0,name:""};class wb{constructor({selector:t,apiClient:n,dirDto:r=tye,parent:o=null}){this.dirs=[],this.libs=[],this.projects=[],this.isChildrenFetching=!1,this.isChildrenFetched=!1,this.selector=t,this.apiClient=n,this.id=r.id,this.name=r.name,this.parent=o,vt(this,{isChildrenFetching:Pe.ref,isChildrenFetched:Pe.ref,libs:Pe.ref,dirs:Pe.ref,projects:Pe.ref,clear:be,fetchChildren:to,createNewDir:to,createNewLibrary:to,createNewProject:to,getPath:!1})}*fetchChildren(){if(this.isChildrenFetching||this.isChildrenFetched)return;const{apiClient:t,selector:n}=this;this.isChildrenFetching=!0;let r;try{this.id?r=yield t.getDirContent(this.id,{libs:!0,projects:!0}):r=yield t.getRootDirContent({libs:!0,projects:!0})}finally{this.isChildrenFetching=!1}this.isChildrenFetched=!0,this.dirs=r.dirs.map(o=>new wb({selector:n,parent:this,apiClient:t,dirDto:o})).sort((o,i)=>Rp(o.name,i.name)),r.libs&&(this.libs=r.libs.map(o=>new Q$({selector:n,parent:this,apiClient:t,libDto:o})).sort((o,i)=>Rp(o.name,i.name))),r.projects&&(this.projects=r.projects?.map(o=>new dM({selector:n,parent:this,projectDto:o})).sort((o,i)=>Rp(o.name,i.name)))}clear(){this.isChildrenFetched=!1,this.dirs=[],this.libs=[]}*createNewDir(t){const{apiClient:n,selector:r}=this,{dir:o,created:i}=yield n.createDir(t,this.id);if(!i)throw new Ci(`Каталог '${o.name}' уже существует`);const s=new wb({dirDto:o,selector:r,apiClient:n,parent:this});return this.dirs=this.dirs.concat(s),s}*createNewLibrary(t){const{apiClient:n,selector:r}=this,{library:o,created:i}=yield n.createLib(t,this.id);if(!i)throw new Ci(`Библиотека '${o.name}' уже существует`);const s=new Q$({libDto:o,selector:r,apiClient:n,parent:this});return this.libs=this.libs.concat(s),s}*createNewProject(t,n,r){const{selector:o,apiClient:i}=this,{project:s,created:a}=yield i.createProject({name:t,config:n,parentDirId:this.id,libIds:[r.id]});if(!a)throw new Ci(`Проект '${s.name}' уже существует`);const c=new dM({selector:o,parent:this,projectDto:s});return this.projects=this.projects.concat(c),c}getPath(){const t=this.parent?.getPath();return t?t+"/"+this.name:this.name}}class ez{constructor(t,n=!1){this.onProjectSelected=new Hr,this.isProjectCreationInProgress=!1,this.apiClient=t,this.libsMode=n,this.root=new wb({selector:this,apiClient:t}),vt(this,{isProjectCreationInProgress:Pe.ref,createNewProject:to,getDirById:!1})}*createNewProject(t){const n=t.getPath(),r=prompt(`Введите название проекта (будет создан в ${n?`папке '${n}'`:"корневой папке"})`);if(!r)return;let o;this.isProjectCreationInProgress=!0;try{const i=yield t.createNewLibrary(r),s="project.spj",a="root";yield this.apiClient.updateLibraryIndex(i.id,{version:sk,files:[{path:s},{path:"root.cls",cls:Ik(a)}]});const c=i.getPath(),u={settings:{rootClass:a},libs:[{src:i.contentDirname,mount:c}],filepath:c+"/"+s};o=yield t.createNewProject(r,u,i)}catch(i){if(i instanceof sM){alert(i.message);return}throw i}finally{this.isProjectCreationInProgress=!1}this.onProjectSelected.dispatch(o)}getDirById(t){return(function n(r){if(r.id===t)return r;for(const o of r.dirs){const i=n(o);if(i)return i}return null})(this.root)}_onProjectSelected(t){this.onProjectSelected.dispatch(t)}}class nye{constructor({apiClient:t}){this.loadingMessage="Инициализация редактора",this.currentProject=null,this.ctxMenu=new Eme,this.currentModalDialog=_.createRef(),this.activeLeftPanelActiveView=new zge("schema"),this.mainMenuVisible=new yd,this.loginFormVisible=new yd,this.leftPanelMinimized=new yd,this.rightPanelMinimized=new yd,this.subProjectSelectorVisible=new yd,this.librarySelectorVisible=new yd,this.onNewSession=i=>{kq(this.getLocalStorageCredentialsKey(),i),this.onLogin()},this.onBeforeLogout=()=>{this.closeCurrentProject()&&(this.apiClient.removeAuthData(),Dq(this.getLocalStorageCredentialsKey()),this.projectSelector.root.clear(),this.mainMenuVisible.setFalse(),this.loginFormVisible.setTrue())},this.onProjectSelected=i=>{this.mainMenuVisible.setFalse(),!(i.id===this.currentProject?.id||!this.closeCurrentProject())&&(Uq(i.id),i instanceof dM&&"subprojects"in i.projectDto?this.changeProject(i.projectDto):this.loadProjectById(i.id))},this.onPopState=i=>{this.loginFormVisible.isTrue||(i.preventDefault(),this.mainMenuVisible.setFalse(),this.tryLoadPreviousProject())},this.onBeforeUnload=i=>{const{currentProject:s}=this;s&&(s.tabs.tabs.length||s.hasChanges)&&i.preventDefault()},this.apiClient=t,t.onError.add(i=>alert("API: "+i)),(this.projectSelector=new ez(t)).onProjectSelected.add(this.onProjectSelected),(this.subProjectSelector=new ez(t)).onProjectSelected.add(({id:i,name:s,config:a})=>{this.currentProject?.addSubProject(i,s,a),this.subProjectSelectorVisible.setFalse()});const o=this.accountSettings=new _me(t);o.onLogin.add(this.onNewSession),o.onBeforeLogout.add(this.onBeforeLogout),vt(this,{currentProject:Pe.ref,loadingMessage:Pe.ref,openSubProject:be,onPopState:be,init:to,changeProject:to,loadProjectById:to}),window.addEventListener("popstate",this.onPopState),window.addEventListener("beforeunload",this.onBeforeUnload),window.addEventListener("error",({error:i})=>alert(i.message)),window.addEventListener("keydown",$ge.bind(null,this))}*init(){let t=!1;const n=Pq(this.getLocalStorageCredentialsKey());n&&(this.loadingMessage="Вход в аккаунт",t=yield this.accountSettings.restorePrevSession(n)),this.loadingMessage="",t?this.onLogin():this.onBeforeLogout()}openSubProject(t){this.onProjectSelected(t)}onLogin(){this.projectSelector.root.fetchChildren(),this.loginFormVisible.setFalse(),this.tryLoadPreviousProject()}closeCurrentProject(){const{currentProject:t}=this;return t&&!t.close()?!1:(this.currentProject=null,!0)}tryLoadPreviousProject(){const t=zq();if(t){if(this.currentProject?.id===t||!this.closeCurrentProject())return;this.loadProjectById(t)}else{if(!this.closeCurrentProject())return;this.mainMenuVisible.setTrue()}}*loadProjectById(t){this.loadingMessage=`Получение информации о проекте 'id:${t}'`;let n;try{n=yield this.apiClient.getProject(t)}catch(r){throw this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.changeProject(n)}*changeProject(t){let n;try{const{config:r}=t,o=`Загрузка ресурсов проекта '${r.filepath||t.name}'`;console.log(o),console.log(t),this.loadingMessage=o;const i=new Yme,s=wy(M0),a=t.libs.map(async M=>{const{id:I,name:N,writeAccess:P,contentDirname:L}=M,D=await wy({src:L},{cache:"no-cache"}),$=r.libs.find(U=>U.src===L).mount,B=i.createLibrary($,D,{isReadonly:!P});return new eye(I,N,L,B)}),c=yield Promise.all(a),u=i.resolveFile(r.filepath||"project.spj");if(!u)throw new Ci(`Файл проекта '${r.filepath}' не существует`);const h=u.parent;i.setProjectFile(u);const f=yield s,g=i.createLibrary("Стандартная библиотека",f,{isDefault:!0});this.loadingMessage="Построение схемы имиджей";const m=new Mme(i);m.setRecursiveSearch(!r.settings.nonRecursive),m.setStandardSearchDir(g.rootDir),m.addSearchDir(h),r.settings.searchDirs?.forEach(M=>{const I=i.resolveDir(M);I?m.addSearchDir(I):console.warn(`Каталог поиска имиджей '${M}' не существует`)}),m.rebuildLibrary();const y=m.klassLibrary,b=r.settings.rootClass,v=y.get(b);if(!v)throw new Ci(`Корневой имидж '${b}' не существует`);const S=r.settings.stt,E=S?i.resolveFile(S):h.getFile("_preload.stt"),T=E?.type==="file"?E.stt:null,R=new yb(v,y,T?.data);n=new Qve({apiClient:this.apiClient,id:t.id,accessKey:t.accessKey,name:t.name,vfs:i,schema:R,classLibraryBuilder:m,plugins:r.settings.plugins||[],projectFile:u,sttFile:T,libs:c,subProjects:t.subprojects})}catch(r){throw alert(`При загрузке проекта произошла ошибка:
`+r.message),this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.currentProject=n,console.log(Pk(n)),this.onProjectChanged(n)}onProjectChanged(t){t.focusOnNode(t.schema)}getLocalStorageCredentialsKey(){return`${Zu.localStoragePrefix}/session_data`}}class Nt{constructor(t=!1){const n=this;n.d=[],n[Sb]=n[Sb],n[wg]=n[wg],(typeof t!="boolean"||!t)&&vt(this,{props:Pe.ref})}get m(){return this.props.m}addDisposer(t){this.d.push(t)}}const bg=Nt.prototype,rye=Object,oye=rye.assign,Sb="parent",wg="props",tz={vmFactory:(e,t)=>new e(t),Wrapper:_.Fragment},nz=_.createContext(null);function hM({value:e,children:t}){return _.createElement(nz.Provider,{value:e},t)}function fM(){return _.useContext(nz)}if(!_.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!vt)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Cb=dT();const xb=MC(Cb);function iye(e){e()}function sye(e){e||(e=iye),iue({reactionScheduler:e})}function aye(e){return aue(e)}var lye=1e4,cye=1e4,uye=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=lye),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var o=Date.now();n.registrations.forEach(function(i,s){o-i.registeredAt>=r&&(n.finalize(i.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,cye))}}),e})(),dye=typeof FinalizationRegistry<"u"?FinalizationRegistry:uye,pM=new dye(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),gM={exports:{}},mM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rz;function hye(){if(rz)return mM;rz=1;var e=hi();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(f,g){var m=g(),y=r({inst:{value:m,getSnapshot:g}}),b=y[0].inst,v=y[1];return i(function(){b.value=m,b.getSnapshot=g,c(b)&&v({inst:b})},[f,m,g]),o(function(){return c(b)&&v({inst:b}),f(function(){c(b)&&v({inst:b})})},[f]),s(m),m}function c(f){var g=f.getSnapshot;f=f.value;try{var m=g();return!n(f,m)}catch{return!0}}function u(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return mM.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,mM}var oz;function iz(){return oz||(oz=1,gM.exports=hye()),gM.exports}var vM=iz();function sz(e){e.reaction=new Za("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function fye(e,t){t===void 0&&(t="observed");var n=bn.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return pM.unregister(r),r.onStoreChange=a,r.reaction||(sz(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var o=n.current;o.reaction||(sz(o),pM.register(n,o,o)),bn.useDebugValue(o.reaction,aye),vM.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var i,s;if(o.reaction.track(function(){try{i=e()}catch(a){s=a}}),s)throw s;return i}var yM,bM,az=typeof Symbol=="function"&&Symbol.for,pye=(bM=(yM=Object.getOwnPropertyDescriptor(function(){},"name"))===null||yM===void 0?void 0:yM.configurable)!==null&&bM!==void 0?bM:!1,lz=az?Symbol.for("react.forward_ref"):typeof _.forwardRef=="function"&&_.forwardRef(function(e){return null}).$$typeof,cz=az?Symbol.for("react.memo"):typeof _.memo=="function"&&_.memo(function(e){return null}).$$typeof;function Sg(e,t){var n;if(cz&&e.$$typeof===cz)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,o=e,i=e.displayName||e.name;if(lz&&e.$$typeof===lz&&(r=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(a,c){return fye(function(){return o(a,c)},i)};return s.displayName=e.displayName,pye&&Object.defineProperty(s,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(s.contextTypes=e.contextTypes),r&&(s=_.forwardRef(s)),s=_.memo(s),mye(e,s),s}var gye={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function mye(e,t){Object.keys(e).forEach(function(n){gye[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var wM;sye(Cb.unstable_batchedUpdates),wM=pM.finalizeAllImmediately;const _b=_.createContext(null),uz=(e,t,n={},r,o=e.$$typeof===Symbol.for("react.forward_ref"),i,s,a)=>(i=(c,u)=>(s=t(c),a=_.createElement(_.useState(()=>n.observer===!1?e:Sg(e))[0],oye({},c,{vm:s,ref:o?u:void 0})),r&&(a=_.createElement(_b.Provider,{value:s},a)),_.createElement(tz.Wrapper,null,a)),o&&(i=_.forwardRef(i)),i=_.memo(i,n.propsAreEqual),i),vye="onViewMounted",yye="onViewUpdated",bye="onViewUnmounted",wye="onViewMountedSync",Sye="onViewUpdatedSync",Cye="onViewUnmountedSync",dz=(e,t,n,r,o,i,s,a=_.useRef(!1))=>{e(()=>{a.current&&(i&&i(),t[n]&&t[n]()),a.current=!0}),e(()=>(t[r]&&t[r](),()=>{s&&s(),t[o]&&t[o]()}),[])},Dt=e=>(t,n)=>uz(t,(r,o)=>{const i=fM();return o=_.useContext(_b),o=_.useState(s=>(bg[Sb]=o,bg[wg]=r,s=tz.vmFactory(e,i),delete bg[Sb],delete bg[wg],s))[0],dz(_.useEffect,o,yye,vye,bye,null,()=>o.d=o.d.filter(s=>{s()})),dz(_.useLayoutEffect,o,Sye,wye,Cye,be(()=>o[wg]=r)),o},n,e.name||"Anonymous"),ko=()=>(e,t)=>uz(e,()=>_.useContext(_b),t);for(const[e,t]of[[VA,"autorun"],[Jce,"reaction"]])bg[t]=function(){return this.d[this.d.push(e.apply(0,arguments))-1]};class N4e extends _.PureComponent{static{this.contextType=_b}get viewModel(){return this.context}}function wa(){return fM().app}function SM(){return fM().project}function hz(){return wa().currentModalDialog}function xye({app:e,children:t}){return x.jsx(hM,{value:{app:e},children:t})}function _ye({project:e,children:t}){const n=wa();return x.jsx(hM,{value:{app:n,project:e},children:t})}class Eye extends Nt{constructor(){super()}}class Tye extends Nt{constructor(){super(),this.onClick=t=>{this.parent._close(),this.m.action()},vt(this,{onClick:be})}get title(){return this.m.title}get icon(){return this.m.icon}}class Mye extends Nt{constructor(){super(...arguments),this.onClose=(t,n)=>{this.m.close()}}get isOpen(){return this.m.isOpen}get anchorPosition(){const{anchorPosition:t}=this.m;return{top:t.y,left:t.x}}get menuItems(){return this.m.menuItems}_close(){this.m.close()}}function Eb(e){e.preventDefault()}function Oye(e){e.stopPropagation()}function Rye(e){return e+" !important"}function fz(e){e.preventDefault(),document.activeElement?.blur()}function Iye(){const e=_.useRef(null);return{ref:e,onFocus:n=>{n.relatedTarget!==e.current&&e.current?.focus()}}}const Cg={black:"#000",white:"#fff"},Kh={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},qh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Uc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Yh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},tl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},xg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Pye={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Kl(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const _g="$$material";function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(null,arguments)}function kye(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Dye(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Aye=(function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Dye(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=kye(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e})(),pi="-ms-",Tb="-moz-",nr="-webkit-",pz="comm",CM="rule",xM="decl",Lye="@import",gz="@keyframes",Nye="@layer",Bye=Math.abs,Mb=String.fromCharCode,Fye=Object.assign;function jye(e,t){return Qo(e,0)^45?(((t<<2^Qo(e,0))<<2^Qo(e,1))<<2^Qo(e,2))<<2^Qo(e,3):0}function mz(e){return e.trim()}function Vye(e,t){return(e=t.exec(e))?e[0]:e}function rr(e,t,n){return e.replace(t,n)}function _M(e,t){return e.indexOf(t)}function Qo(e,t){return e.charCodeAt(t)|0}function Eg(e,t,n){return e.slice(t,n)}function nl(e){return e.length}function EM(e){return e.length}function Ob(e,t){return t.push(e),e}function $ye(e,t){return e.map(t).join("")}var Rb=1,Xh=1,vz=0,Bi=0,xo=0,Zh="";function Ib(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Rb,column:Xh,length:s,return:""}}function Tg(e,t){return Fye(Ib("",null,null,"",null,null,0),e,{length:-e.length},t)}function zye(){return xo}function Uye(){return xo=Bi>0?Qo(Zh,--Bi):0,Xh--,xo===10&&(Xh=1,Rb--),xo}function ns(){return xo=Bi<vz?Qo(Zh,Bi++):0,Xh++,xo===10&&(Xh=1,Rb++),xo}function rl(){return Qo(Zh,Bi)}function Pb(){return Bi}function Mg(e,t){return Eg(Zh,e,t)}function Og(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yz(e){return Rb=Xh=1,vz=nl(Zh=e),Bi=0,[]}function bz(e){return Zh="",e}function kb(e){return mz(Mg(Bi-1,TM(e===91?e+2:e===40?e+1:e)))}function Hye(e){for(;(xo=rl())&&xo<33;)ns();return Og(e)>2||Og(xo)>3?"":" "}function Gye(e,t){for(;--t&&ns()&&!(xo<48||xo>102||xo>57&&xo<65||xo>70&&xo<97););return Mg(e,Pb()+(t<6&&rl()==32&&ns()==32))}function TM(e){for(;ns();)switch(xo){case e:return Bi;case 34:case 39:e!==34&&e!==39&&TM(xo);break;case 40:e===41&&TM(e);break;case 92:ns();break}return Bi}function Wye(e,t){for(;ns()&&e+xo!==57;)if(e+xo===84&&rl()===47)break;return"/*"+Mg(t,Bi-1)+"*"+Mb(e===47?e:ns())}function Kye(e){for(;!Og(rl());)ns();return Mg(e,Bi)}function qye(e){return bz(Db("",null,null,null,[""],e=yz(e),0,[0],e))}function Db(e,t,n,r,o,i,s,a,c){for(var u=0,h=0,f=s,g=0,m=0,y=0,b=1,v=1,S=1,E=0,T="",R=o,M=i,I=r,N=T;v;)switch(y=E,E=ns()){case 40:if(y!=108&&Qo(N,f-1)==58){_M(N+=rr(kb(E),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:N+=kb(E);break;case 9:case 10:case 13:case 32:N+=Hye(y);break;case 92:N+=Gye(Pb()-1,7);continue;case 47:switch(rl()){case 42:case 47:Ob(Yye(Wye(ns(),Pb()),t,n),c);break;default:N+="/"}break;case 123*b:a[u++]=nl(N)*S;case 125*b:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+h:S==-1&&(N=rr(N,/\f/g,"")),m>0&&nl(N)-f&&Ob(m>32?Sz(N+";",r,n,f-1):Sz(rr(N," ","")+";",r,n,f-2),c);break;case 59:N+=";";default:if(Ob(I=wz(N,t,n,u,h,o,a,T,R=[],M=[],f),i),E===123)if(h===0)Db(N,t,I,I,R,i,f,a,M);else switch(g===99&&Qo(N,3)===110?100:g){case 100:case 108:case 109:case 115:Db(e,I,I,r&&Ob(wz(e,I,I,0,0,o,a,T,o,R=[],f),M),o,M,f,a,r?R:M);break;default:Db(N,I,I,I,[""],M,0,a,M)}}u=h=m=0,b=S=1,T=N="",f=s;break;case 58:f=1+nl(N),m=y;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&Uye()==125)continue}switch(N+=Mb(E),E*b){case 38:S=h>0?1:(N+="\f",-1);break;case 44:a[u++]=(nl(N)-1)*S,S=1;break;case 64:rl()===45&&(N+=kb(ns())),g=rl(),h=f=nl(T=N+=Kye(Pb())),E++;break;case 45:y===45&&nl(N)==2&&(b=0)}}return i}function wz(e,t,n,r,o,i,s,a,c,u,h){for(var f=o-1,g=o===0?i:[""],m=EM(g),y=0,b=0,v=0;y<r;++y)for(var S=0,E=Eg(e,f+1,f=Bye(b=s[y])),T=e;S<m;++S)(T=mz(b>0?g[S]+" "+E:rr(E,/&\f/g,g[S])))&&(c[v++]=T);return Ib(e,t,n,o===0?CM:a,c,u,h)}function Yye(e,t,n){return Ib(e,t,n,pz,Mb(zye()),Eg(e,2,-2),0)}function Sz(e,t,n,r){return Ib(e,t,n,xM,Eg(e,0,r),Eg(e,r+1,-1),r)}function Jh(e,t){for(var n="",r=EM(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Xye(e,t,n,r){switch(e.type){case Nye:if(e.children.length)break;case Lye:case xM:return e.return=e.return||e.value;case pz:return"";case gz:return e.return=e.value+"{"+Jh(e.children,r)+"}";case CM:e.value=e.props.join(",")}return nl(n=Jh(e.children,r))?e.return=e.value+"{"+n+"}":""}function Zye(e){var t=EM(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function Jye(e){return function(t){t.root||(t=t.return)&&e(t)}}function Cz(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Qye=function(t,n,r){for(var o=0,i=0;o=i,i=rl(),o===38&&i===12&&(n[r]=1),!Og(i);)ns();return Mg(t,Bi)},ebe=function(t,n){var r=-1,o=44;do switch(Og(o)){case 0:o===38&&rl()===12&&(n[r]=1),t[r]+=Qye(Bi-1,n,r);break;case 2:t[r]+=kb(o);break;case 4:if(o===44){t[++r]=rl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Mb(o)}while(o=ns());return t},tbe=function(t,n){return bz(ebe(yz(t),n))},xz=new WeakMap,nbe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!xz.get(r))&&!o){xz.set(t,!0);for(var i=[],s=tbe(n,i),a=r.props,c=0,u=0;c<s.length;c++)for(var h=0;h<a.length;h++,u++)t.props[u]=i[c]?s[c].replace(/&\f/g,a[h]):a[h]+" "+s[c]}}},rbe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function _z(e,t){switch(jye(e,t)){case 5103:return nr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nr+e+Tb+e+pi+e+e;case 6828:case 4268:return nr+e+pi+e+e;case 6165:return nr+e+pi+"flex-"+e+e;case 5187:return nr+e+rr(e,/(\w+).+(:[^]+)/,nr+"box-$1$2"+pi+"flex-$1$2")+e;case 5443:return nr+e+pi+"flex-item-"+rr(e,/flex-|-self/,"")+e;case 4675:return nr+e+pi+"flex-line-pack"+rr(e,/align-content|flex-|-self/,"")+e;case 5548:return nr+e+pi+rr(e,"shrink","negative")+e;case 5292:return nr+e+pi+rr(e,"basis","preferred-size")+e;case 6060:return nr+"box-"+rr(e,"-grow","")+nr+e+pi+rr(e,"grow","positive")+e;case 4554:return nr+rr(e,/([^-])(transform)/g,"$1"+nr+"$2")+e;case 6187:return rr(rr(rr(e,/(zoom-|grab)/,nr+"$1"),/(image-set)/,nr+"$1"),e,"")+e;case 5495:case 3959:return rr(e,/(image-set\([^]*)/,nr+"$1$`$1");case 4968:return rr(rr(e,/(.+:)(flex-)?(.*)/,nr+"box-pack:$3"+pi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nr+e+e;case 4095:case 3583:case 4068:case 2532:return rr(e,/(.+)-inline(.+)/,nr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nl(e)-1-t>6)switch(Qo(e,t+1)){case 109:if(Qo(e,t+4)!==45)break;case 102:return rr(e,/(.+:)(.+)-([^]+)/,"$1"+nr+"$2-$3$1"+Tb+(Qo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_M(e,"stretch")?_z(rr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Qo(e,t+1)!==115)break;case 6444:switch(Qo(e,nl(e)-3-(~_M(e,"!important")&&10))){case 107:return rr(e,":",":"+nr)+e;case 101:return rr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nr+(Qo(e,14)===45?"inline-":"")+"box$3$1"+nr+"$2$3$1"+pi+"$2box$3")+e}break;case 5936:switch(Qo(e,t+11)){case 114:return nr+e+pi+rr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nr+e+pi+rr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nr+e+pi+rr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nr+e+pi+e+e}return e}var obe=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case xM:t.return=_z(t.value,t.length);break;case gz:return Jh([Tg(t,{value:rr(t.value,"@","@"+nr)})],o);case CM:if(t.length)return $ye(t.props,function(i){switch(Vye(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jh([Tg(t,{props:[rr(i,/:(read-\w+)/,":"+Tb+"$1")]})],o);case"::placeholder":return Jh([Tg(t,{props:[rr(i,/:(plac\w+)/,":"+nr+"input-$1")]}),Tg(t,{props:[rr(i,/:(plac\w+)/,":"+Tb+"$1")]}),Tg(t,{props:[rr(i,/:(plac\w+)/,pi+"input-$1")]})],o)}return""})}},ibe=[obe],sbe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var v=b.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var o=t.stylisPlugins||ibe,i={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var v=b.getAttribute("data-emotion").split(" "),S=1;S<v.length;S++)i[v[S]]=!0;a.push(b)});var c,u=[nbe,rbe];{var h,f=[Xye,Jye(function(b){h.insert(b)})],g=Zye(u.concat(o,f)),m=function(v){return Jh(qye(v),g)};c=function(v,S,E,T){h=E,m(v?v+"{"+S.styles+"}":S.styles),T&&(y.inserted[S.name]=!0)}}var y={key:n,sheet:new Aye({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return y.sheet.hydrate(a),y},MM={exports:{}},sr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ez;function abe(){if(Ez)return sr;Ez=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function T(M){if(typeof M=="object"&&M!==null){var I=M.$$typeof;switch(I){case t:switch(M=M.type,M){case c:case u:case r:case i:case o:case f:return M;default:switch(M=M&&M.$$typeof,M){case a:case h:case y:case m:case s:return M;default:return I}}case n:return I}}}function R(M){return T(M)===u}return sr.AsyncMode=c,sr.ConcurrentMode=u,sr.ContextConsumer=a,sr.ContextProvider=s,sr.Element=t,sr.ForwardRef=h,sr.Fragment=r,sr.Lazy=y,sr.Memo=m,sr.Portal=n,sr.Profiler=i,sr.StrictMode=o,sr.Suspense=f,sr.isAsyncMode=function(M){return R(M)||T(M)===c},sr.isConcurrentMode=R,sr.isContextConsumer=function(M){return T(M)===a},sr.isContextProvider=function(M){return T(M)===s},sr.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},sr.isForwardRef=function(M){return T(M)===h},sr.isFragment=function(M){return T(M)===r},sr.isLazy=function(M){return T(M)===y},sr.isMemo=function(M){return T(M)===m},sr.isPortal=function(M){return T(M)===n},sr.isProfiler=function(M){return T(M)===i},sr.isStrictMode=function(M){return T(M)===o},sr.isSuspense=function(M){return T(M)===f},sr.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===u||M===i||M===o||M===f||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===y||M.$$typeof===m||M.$$typeof===s||M.$$typeof===a||M.$$typeof===h||M.$$typeof===v||M.$$typeof===S||M.$$typeof===E||M.$$typeof===b)},sr.typeOf=T,sr}var Tz;function lbe(){return Tz||(Tz=1,MM.exports=abe()),MM.exports}var OM,Mz;function cbe(){if(Mz)return OM;Mz=1;var e=lbe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=r,i[e.Memo]=o;function s(y){return e.isMemo(y)?o:i[y.$$typeof]||t}var a=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function m(y,b,v){if(typeof b!="string"){if(g){var S=f(b);S&&S!==g&&m(y,S,v)}var E=c(b);u&&(E=E.concat(u(b)));for(var T=s(y),R=s(b),M=0;M<E.length;++M){var I=E[M];if(!n[I]&&!(v&&v[I])&&!(R&&R[I])&&!(T&&T[I])){var N=h(b,I);try{a(y,I,N)}catch{}}}}return y}return OM=m,OM}cbe();var ube=!0;function Oz(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var RM=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||ube===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},IM=function(t,n,r){RM(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function dbe(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var hbe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fbe=/[A-Z]|^ms/g,pbe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Rz=function(t){return t.charCodeAt(1)===45},Iz=function(t){return t!=null&&typeof t!="boolean"},PM=Cz(function(e){return Rz(e)?e:e.replace(fbe,"-$&").toLowerCase()}),Pz=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(pbe,function(r,o,i){return ol={name:o,styles:i,next:ol},o})}return hbe[t]!==1&&!Rz(t)&&typeof n=="number"&&n!==0?n+"px":n};function Rg(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return ol={name:o.name,styles:o.styles,next:ol},o.name;var i=n;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)ol={name:s.name,styles:s.styles,next:ol},s=s.next;var a=i.styles+";";return a}return gbe(e,t,n)}case"function":{if(e!==void 0){var c=ol,u=n(e);return ol=c,Rg(e,t,u)}break}}var h=n;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function gbe(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Rg(e,t,n[o])+";";else for(var i in n){var s=n[i];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=i+"{"+t[a]+"}":Iz(a)&&(r+=PM(i)+":"+Pz(i,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var c=0;c<s.length;c++)Iz(s[c])&&(r+=PM(i)+":"+Pz(i,s[c])+";");else{var u=Rg(e,t,s);switch(i){case"animation":case"animationName":{r+=PM(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var kz=/label:\s*([^\s;{]+)\s*(;|$)/g,ol;function Ig(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";ol=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,o+=Rg(n,t,i);else{var s=i;o+=s[0]}for(var a=1;a<e.length;a++)if(o+=Rg(n,t,e[a]),r){var c=i;o+=c[a]}kz.lastIndex=0;for(var u="",h;(h=kz.exec(o))!==null;)u+="-"+h[1];var f=dbe(o)+u;return{name:f,styles:o,next:ol}}var mbe=function(t){return t()},Dz=cM.useInsertionEffect?cM.useInsertionEffect:!1,Az=Dz||mbe,Lz=Dz||_.useLayoutEffect,Nz=_.createContext(typeof HTMLElement<"u"?sbe({key:"css"}):null);Nz.Provider;var kM=function(t){return _.forwardRef(function(n,r){var o=_.useContext(Nz);return t(n,o,r)})},Ab=_.createContext({}),DM={}.hasOwnProperty,AM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",vbe=function(t,n){var r={};for(var o in n)DM.call(n,o)&&(r[o]=n[o]);return r[AM]=t,r},ybe=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return RM(n,r,o),Az(function(){return IM(n,r,o)}),null},bbe=kM(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[AM],i=[r],s="";typeof e.className=="string"?s=Oz(t.registered,i,e.className):e.className!=null&&(s=e.className+" ");var a=Ig(i,void 0,_.useContext(Ab));s+=t.key+"-"+a.name;var c={};for(var u in e)DM.call(e,u)&&u!=="css"&&u!==AM&&(c[u]=e[u]);return c.className=s,n&&(c.ref=n),_.createElement(_.Fragment,null,_.createElement(ybe,{cache:t,serialized:a,isStringTag:typeof o=="string"}),_.createElement(o,c))}),wbe=bbe,Bz=function(t,n){var r=arguments;if(n==null||!DM.call(n,"css"))return _.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=wbe,i[1]=vbe(t,n);for(var s=2;s<o;s++)i[s]=r[s];return _.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Bz||(Bz={}));var Sbe=kM(function(e,t){var n=e.styles,r=Ig([n],void 0,_.useContext(Ab)),o=_.useRef();return Lz(function(){var i=t.key+"-global",s=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",i),s.hydrate([c])),o.current=[s,a],function(){s.flush()}},[t]),Lz(function(){var i=o.current,s=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&IM(t,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Hc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ig(t)}function Bs(){var e=Hc.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Cbe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xbe=Cz(function(e){return Cbe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),_be=xbe,Ebe=function(t){return t!=="theme"},Fz=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?_be:Ebe},jz=function(t,n,r){var o;if(n){var i=n.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(s){return t.__emotion_forwardProp(s)&&i(s)}:i}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},Tbe=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return RM(n,r,o),Az(function(){return IM(n,r,o)}),null},Mbe=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,i,s;n!==void 0&&(i=n.label,s=n.target);var a=jz(t,n,r),c=a||Fz(o),u=!c("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var g=h[0];f.push(g[0]);for(var m=h.length,y=1;y<m;y++)f.push(h[y],g[y])}var b=kM(function(v,S,E){var T=u&&v.as||o,R="",M=[],I=v;if(v.theme==null){I={};for(var N in v)I[N]=v[N];I.theme=_.useContext(Ab)}typeof v.className=="string"?R=Oz(S.registered,M,v.className):v.className!=null&&(R=v.className+" ");var P=Ig(f.concat(M),S.registered,I);R+=S.key+"-"+P.name,s!==void 0&&(R+=" "+s);var L=u&&a===void 0?Fz(T):c,D={};for(var $ in v)u&&$==="as"||L($)&&(D[$]=v[$]);return D.className=R,E&&(D.ref=E),_.createElement(_.Fragment,null,_.createElement(Tbe,{cache:S,serialized:P,isStringTag:typeof T=="string"}),_.createElement(T,D))});return b.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=o,b.__emotion_styles=f,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+s}}),b.withComponent=function(v,S){var E=e(v,G({},n,S,{shouldForwardProp:jz(b,S,!0)}));return E.apply(void 0,f)},b}},Obe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],LM=Mbe.bind(null);Obe.forEach(function(e){LM[e]=LM(e)});var NM={exports:{}},BM,Vz;function Rbe(){if(Vz)return BM;Vz=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return BM=e,BM}var FM,$z;function Ibe(){if($z)return FM;$z=1;var e=Rbe();function t(){}function n(){}return n.resetWarningCache=t,FM=function(){function r(s,a,c,u,h,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},FM}var zz;function Pbe(){return zz||(zz=1,NM.exports=Ibe()()),NM.exports}var kbe=Pbe();const Oe=MC(kbe);function Dbe(e){return e==null||Object.keys(e).length===0}function Abe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?o=>t(Dbe(o)?n:o):t;return x.jsx(Sbe,{styles:r})}function Uz(e,t){return LM(e,t)}function Lbe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const Hz=[];function Gc(e){return Hz[0]=e,Ig(Hz)}var jM={exports:{}},Cr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gz;function Nbe(){if(Gz)return Cr;Gz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case e:switch(b=b.type,b){case n:case o:case r:case c:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case s:case a:case f:case h:return b;case i:return b;default:return v}}case t:return v}}}return Cr.ContextConsumer=i,Cr.ContextProvider=s,Cr.Element=e,Cr.ForwardRef=a,Cr.Fragment=n,Cr.Lazy=f,Cr.Memo=h,Cr.Portal=t,Cr.Profiler=o,Cr.StrictMode=r,Cr.Suspense=c,Cr.SuspenseList=u,Cr.isContextConsumer=function(b){return y(b)===i},Cr.isContextProvider=function(b){return y(b)===s},Cr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Cr.isForwardRef=function(b){return y(b)===a},Cr.isFragment=function(b){return y(b)===n},Cr.isLazy=function(b){return y(b)===f},Cr.isMemo=function(b){return y(b)===h},Cr.isPortal=function(b){return y(b)===t},Cr.isProfiler=function(b){return y(b)===o},Cr.isStrictMode=function(b){return y(b)===r},Cr.isSuspense=function(b){return y(b)===c},Cr.isSuspenseList=function(b){return y(b)===u},Cr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===o||b===r||b===c||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===h||b.$$typeof===s||b.$$typeof===i||b.$$typeof===a||b.$$typeof===m||b.getModuleId!==void 0)},Cr.typeOf=y,Cr}var Wz;function Bbe(){return Wz||(Wz=1,jM.exports=Nbe()),jM.exports}var Kz=Bbe();function il(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function qz(e){if(_.isValidElement(e)||Kz.isValidElementType(e)||!il(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=qz(e[n])}),t}function zo(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return il(e)&&il(t)&&Object.keys(t).forEach(o=>{_.isValidElement(t[o])||Kz.isValidElementType(t[o])?r[o]=t[o]:il(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&il(e[o])?r[o]=zo(e[o],t[o],n):n.clone?r[o]=il(t[o])?qz(t[o]):t[o]:r[o]=t[o]}),r}const Fbe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function jbe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=e,i=Fbe(t),s=Object.keys(i);function a(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n})`}function c(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-r/100}${n})`}function u(g,m){const y=s.indexOf(m);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n}) and (max-width:${(y!==-1&&typeof t[s[y]]=="number"?t[s[y]]:m)-r/100}${n})`}function h(g){return s.indexOf(g)+1<s.length?u(g,s[s.indexOf(g)+1]):a(g)}function f(g){const m=s.indexOf(g);return m===0?a(s[1]):m===s.length-1?c(s[m]):u(g,s[s.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:a,down:c,between:u,only:h,not:f,unit:n,...o}}function Yz(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,o)=>{const i=/min-width:\s*([0-9.]+)/;return+(r.match(i)?.[1]||0)-+(o.match(i)?.[1]||0)});return n.length?n.reduce((r,o)=>{const i=t[o];return delete r[o],r[o]=i,r},{...t}):t}function Vbe(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function $be(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,i=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(i)}function zbe(e){const t=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function n(i,s){i.up=(...a)=>t(e.breakpoints.up(...a),s),i.down=(...a)=>t(e.breakpoints.down(...a),s),i.between=(...a)=>t(e.breakpoints.between(...a),s),i.only=(...a)=>t(e.breakpoints.only(...a),s),i.not=(...a)=>{const c=t(e.breakpoints.not(...a),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},o=i=>(n(r,i),r);return n(o),{...e,containerQueries:o}}const Ube={borderRadius:4};function Pg(e,t){return t?zo(e,t,{clone:!1}):e}const Lb={xs:0,sm:600,md:900,lg:1200,xl:1536},Xz={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Lb[e]}px)`},Hbe={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Lb[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Sa(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||Xz;return t.reduce((s,a,c)=>(s[i.up(i.keys[c])]=n(t[c]),s),{})}if(typeof t=="object"){const i=r.breakpoints||Xz;return Object.keys(t).reduce((s,a)=>{if(Vbe(i.keys,a)){const c=$be(r.containerQueries?r:Hbe,a);c&&(s[c]=n(t[a],a))}else if(Object.keys(i.values||Lb).includes(a)){const c=i.up(a);s[c]=n(t[a],a)}else{const c=a;s[c]=t[c]}return s},{})}return n(t)}function Zz(e={}){return e.keys?.reduce((n,r)=>{const o=e.up(r);return n[o]={},n},{})||{}}function VM(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function Gbe(e,...t){const n=Zz(e),r=[n,...t].reduce((o,i)=>zo(o,i),{});return VM(Object.keys(n),r)}function Wbe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((o,i)=>{i<e.length&&(n[o]=!0)}):r.forEach(o=>{e[o]!=null&&(n[o]=!0)}),n}function $M({values:e,breakpoints:t,base:n}){const r=n||Wbe(e,t),o=Object.keys(r);if(o.length===0)return e;let i;return o.reduce((s,a,c)=>(Array.isArray(e)?(s[a]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[i],i=a):s[a]=e,s),{})}function We(e){if(typeof e!="string")throw new Error(Kl(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Nb(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function Bb(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=Nb(e,n)||r,t&&(o=t(o,r,e)),o}function go(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=s=>{if(s[t]==null)return null;const a=s[t],c=s.theme,u=Nb(c,r)||{};return Sa(s,a,f=>{let g=Bb(u,o,f);return f===g&&typeof f=="string"&&(g=Bb(u,o,`${t}${f==="default"?"":We(f)}`,f)),n===!1?g:{[n]:g}})};return i.propTypes={},i.filterProps=[t],i}function Kbe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const qbe={m:"margin",p:"padding"},Ybe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Jz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Xbe=Kbe(e=>{if(e.length>2)if(Jz[e])e=Jz[e];else return[e];const[t,n]=e.split(""),r=qbe[t],o=Ybe[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),zM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],UM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zM,...UM];function kg(e,t,n,r){const o=Nb(e,t,!0)??n;return typeof o=="number"||typeof o=="string"?i=>typeof i=="string"?i:typeof o=="string"?o.startsWith("var(")&&i===0?0:o.startsWith("var(")&&i===1?o:`calc(${i} * ${o})`:o*i:Array.isArray(o)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),a=o[s];return i>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof o=="function"?o:()=>{}}function Fb(e){return kg(e,"spacing",8)}function wd(e,t){return typeof t=="string"||t==null?t:e(t)}function Zbe(e,t){return n=>e.reduce((r,o)=>(r[o]=wd(t,n),r),{})}function Jbe(e,t,n,r){if(!t.includes(n))return null;const o=Xbe(n),i=Zbe(o,r),s=e[n];return Sa(e,s,i)}function Qz(e,t){const n=Fb(e.theme);return Object.keys(e).map(r=>Jbe(e,t,r,n)).reduce(Pg,{})}function ao(e){return Qz(e,zM)}ao.propTypes={},ao.filterProps=zM;function lo(e){return Qz(e,UM)}lo.propTypes={},lo.filterProps=UM;function e3(e=8,t=Fb({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const s=t(i);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function jb(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>t[i]?Pg(o,t[i](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Fs(e){return typeof e!="number"?e:`${e}px solid`}function js(e,t){return go({prop:e,themeKey:"borders",transform:t})}const Qbe=js("border",Fs),ewe=js("borderTop",Fs),twe=js("borderRight",Fs),nwe=js("borderBottom",Fs),rwe=js("borderLeft",Fs),owe=js("borderColor"),iwe=js("borderTopColor"),swe=js("borderRightColor"),awe=js("borderBottomColor"),lwe=js("borderLeftColor"),cwe=js("outline",Fs),uwe=js("outlineColor"),Vb=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=kg(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:wd(t,r)});return Sa(e,e.borderRadius,n)}return null};Vb.propTypes={},Vb.filterProps=["borderRadius"],jb(Qbe,ewe,twe,nwe,rwe,owe,iwe,swe,awe,lwe,Vb,cwe,uwe);const $b=e=>{if(e.gap!==void 0&&e.gap!==null){const t=kg(e.theme,"spacing",8),n=r=>({gap:wd(t,r)});return Sa(e,e.gap,n)}return null};$b.propTypes={},$b.filterProps=["gap"];const zb=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=kg(e.theme,"spacing",8),n=r=>({columnGap:wd(t,r)});return Sa(e,e.columnGap,n)}return null};zb.propTypes={},zb.filterProps=["columnGap"];const Ub=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=kg(e.theme,"spacing",8),n=r=>({rowGap:wd(t,r)});return Sa(e,e.rowGap,n)}return null};Ub.propTypes={},Ub.filterProps=["rowGap"];const dwe=go({prop:"gridColumn"}),hwe=go({prop:"gridRow"}),fwe=go({prop:"gridAutoFlow"}),pwe=go({prop:"gridAutoColumns"}),gwe=go({prop:"gridAutoRows"}),mwe=go({prop:"gridTemplateColumns"}),vwe=go({prop:"gridTemplateRows"}),ywe=go({prop:"gridTemplateAreas"}),bwe=go({prop:"gridArea"});jb($b,zb,Ub,dwe,hwe,fwe,pwe,gwe,mwe,vwe,ywe,bwe);function Qh(e,t){return t==="grey"?t:e}const wwe=go({prop:"color",themeKey:"palette",transform:Qh}),Swe=go({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Qh}),Cwe=go({prop:"backgroundColor",themeKey:"palette",transform:Qh});jb(wwe,Swe,Cwe);function rs(e){return e<=1&&e!==0?`${e*100}%`:e}const xwe=go({prop:"width",transform:rs}),HM=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{const r=e.theme?.breakpoints?.values?.[n]||Lb[n];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:rs(n)}};return Sa(e,e.maxWidth,t)}return null};HM.filterProps=["maxWidth"];const _we=go({prop:"minWidth",transform:rs}),Ewe=go({prop:"height",transform:rs}),Twe=go({prop:"maxHeight",transform:rs}),Mwe=go({prop:"minHeight",transform:rs});go({prop:"size",cssProperty:"width",transform:rs}),go({prop:"size",cssProperty:"height",transform:rs});const Owe=go({prop:"boxSizing"});jb(xwe,HM,_we,Ewe,Twe,Mwe,Owe);const Dg={border:{themeKey:"borders",transform:Fs},borderTop:{themeKey:"borders",transform:Fs},borderRight:{themeKey:"borders",transform:Fs},borderBottom:{themeKey:"borders",transform:Fs},borderLeft:{themeKey:"borders",transform:Fs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Vb},color:{themeKey:"palette",transform:Qh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Qh},backgroundColor:{themeKey:"palette",transform:Qh},p:{style:lo},pt:{style:lo},pr:{style:lo},pb:{style:lo},pl:{style:lo},px:{style:lo},py:{style:lo},padding:{style:lo},paddingTop:{style:lo},paddingRight:{style:lo},paddingBottom:{style:lo},paddingLeft:{style:lo},paddingX:{style:lo},paddingY:{style:lo},paddingInline:{style:lo},paddingInlineStart:{style:lo},paddingInlineEnd:{style:lo},paddingBlock:{style:lo},paddingBlockStart:{style:lo},paddingBlockEnd:{style:lo},m:{style:ao},mt:{style:ao},mr:{style:ao},mb:{style:ao},ml:{style:ao},mx:{style:ao},my:{style:ao},margin:{style:ao},marginTop:{style:ao},marginRight:{style:ao},marginBottom:{style:ao},marginLeft:{style:ao},marginX:{style:ao},marginY:{style:ao},marginInline:{style:ao},marginInlineStart:{style:ao},marginInlineEnd:{style:ao},marginBlock:{style:ao},marginBlockStart:{style:ao},marginBlockEnd:{style:ao},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$b},rowGap:{style:Ub},columnGap:{style:zb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:rs},maxWidth:{style:HM},minWidth:{transform:rs},height:{transform:rs},maxHeight:{transform:rs},minHeight:{transform:rs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Rwe(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Iwe(e,t){return typeof e=="function"?e(t):e}function Pwe(){function e(n,r,o,i){const s={[n]:r,theme:o},a=i[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:f}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const g=Nb(o,u)||{};return f?f(s):Sa(s,r,y=>{let b=Bb(g,h,y);return y===b&&typeof y=="string"&&(b=Bb(g,h,`${n}${y==="default"?"":We(y)}`,y)),c===!1?b:{[c]:b}})}function t(n){const{sx:r,theme:o={},nested:i}=n||{};if(!r)return null;const s=o.unstable_sxConfig??Dg;function a(c){let u=c;if(typeof c=="function")u=c(o);else if(typeof c!="object")return c;if(!u)return null;const h=Zz(o.breakpoints),f=Object.keys(h);let g=h;return Object.keys(u).forEach(m=>{const y=Iwe(u[m],o);if(y!=null)if(typeof y=="object")if(s[m])g=Pg(g,e(m,y,o,s));else{const b=Sa({theme:o},y,v=>({[m]:v}));Rwe(b,y)?g[m]=t({sx:y,theme:o,nested:!0}):g=Pg(g,b)}else g=Pg(g,e(m,y,o,s))}),!i&&o.modularCssLayers?{"@layer sx":Yz(o,VM(f,g))}:Yz(o,VM(f,g))}return Array.isArray(r)?r.map(a):a(r)}return t}const Sd=Pwe();Sd.filterProps=["sx"];function kwe(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(e);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}function Hb(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:i={},...s}=e,a=jbe(n),c=e3(o);let u=zo({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...Ube,...i}},s);return u=zbe(u),u.applyStyles=kwe,u=t.reduce((h,f)=>zo(h,f),u),u.unstable_sxConfig={...Dg,...s?.unstable_sxConfig},u.unstable_sx=function(f){return Sd({sx:f,theme:this})},u}function Dwe(e){return Object.keys(e).length===0}function Awe(e=null){const t=_.useContext(Ab);return!t||Dwe(t)?e:t}const Lwe=Hb();function Gb(e=Lwe){return Awe(e)}function GM(e){const t=Gc(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Nwe({styles:e,themeId:t,defaultTheme:n={}}){const r=Gb(n),o=t&&r[t]||r;let i=typeof e=="function"?e(o):e;return o.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>GM(typeof s=="function"?s(o):s)):i=GM(i)),x.jsx(Abe,{styles:i})}const Bwe=e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Dg;return Object.keys(e).forEach(r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function WM(e){const{sx:t,...n}=e,{systemProps:r,otherProps:o}=Bwe(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...s)=>{const a=t(...s);return il(a)?{...r,...a}:r}:i={...r,...t},{...o,sx:i}}const t3=e=>e,n3=(()=>{let e=t3;return{configure(t){e=t},generate(t){return e(t)},reset(){e=t3}}})();function r3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=r3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=r3(e))&&(r&&(r+=" "),r+=t);return r}function Fwe(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,i=Uz("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Sd);return _.forwardRef(function(c,u){const h=Gb(n),{className:f,component:g="div",...m}=WM(c);return x.jsx(i,{as:g,ref:u,className:Ke(f,o?o(r):r),theme:t&&h[t]||h,...m})})}const jwe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xt(e,t,n="Mui"){const r=jwe[t];return r?`${n}-${r}`:`${n3.generate(e)}-${t}`}function Kt(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=Xt(e,o,n)}),r}function o3(e){const{variants:t,...n}=e,r={variants:t,style:Gc(n),isProcessed:!0};return r.style===n||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=Gc(o.style))}),r}const Vwe=Hb();function ef(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Cd(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function $we(e){return e?(t,n)=>n[e]:null}function zwe(e,t,n){e.theme=Hwe(e.theme)?n:e.theme[t]||e.theme}function Wb(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(o=>Wb(e,o,n));if(Array.isArray(r?.variants)){let o;if(r.isProcessed)o=n?Cd(r.style,n):r.style;else{const{variants:i,...s}=r;o=n?Cd(Gc(s),n):s}return i3(e,r.variants,[o],n)}return r?.isProcessed?n?Cd(Gc(r.style),n):r.style:n?Cd(Gc(r),n):r}function i3(e,t,n=[],r=void 0){let o;e:for(let i=0;i<t.length;i+=1){const s=t[i];if(typeof s.props=="function"){if(o??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(o))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&e.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(o??={...e,...e.ownerState,ownerState:e.ownerState},n.push(r?Cd(Gc(s.style(o)),r):s.style(o))):n.push(r?Cd(Gc(s.style),r):s.style)}return n}function s3(e={}){const{themeId:t,defaultTheme:n=Vwe,rootShouldForwardProp:r=ef,slotShouldForwardProp:o=ef}=e;function i(a){zwe(a,t,n)}return(a,c={})=>{Lbe(a,I=>I.filter(N=>N!==Sd));const{name:u,slot:h,skipVariantsResolver:f,skipSx:g,overridesResolver:m=$we(Wwe(h)),...y}=c,b=u&&u.startsWith("Mui")||h?"components":"custom",v=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,S=g||!1;let E=ef;h==="Root"||h==="root"?E=r:h?E=o:Gwe(a)&&(E=void 0);const T=Uz(a,{shouldForwardProp:E,label:Uwe(),...y}),R=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(P){return Wb(P,I,P.theme.modularCssLayers?b:void 0)};if(il(I)){const N=o3(I);return function(L){return N.variants?Wb(L,N,L.theme.modularCssLayers?b:void 0):L.theme.modularCssLayers?Cd(N.style,b):N.style}}return I},M=(...I)=>{const N=[],P=I.map(R),L=[];if(N.push(i),u&&m&&L.push(function(U){const W=U.theme.components?.[u]?.styleOverrides;if(!W)return null;const V={};for(const Y in W)V[Y]=Wb(U,W[Y],U.theme.modularCssLayers?"theme":void 0);return m(U,V)}),u&&!v&&L.push(function(U){const W=U.theme?.components?.[u]?.variants;return W?i3(U,W,[],U.theme.modularCssLayers?"theme":void 0):null}),S||L.push(Sd),Array.isArray(P[0])){const B=P.shift(),U=new Array(N.length).fill(""),q=new Array(L.length).fill("");let W;W=[...U,...B,...q],W.raw=[...U,...B.raw,...q],N.unshift(W)}const D=[...N,...P,...L],$=T(...D);return a.muiName&&($.muiName=a.muiName),$};return T.withConfig&&(M.withConfig=T.withConfig),M}}function Uwe(e,t){return void 0}function Hwe(e){for(const t in e)return!1;return!0}function Gwe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Wwe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const jn=s3();function xd(e,t,n=!1){const r={...t};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=o;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],a=t[i];if(!a)r[i]=s||{};else if(!s)r[i]=a;else{r[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;r[i][u]=xd(s[u],a[u],n)}}}else i==="className"&&n&&t.className?r.className=Ke(e?.className,t?.className):i==="style"&&n&&t.style?r.style={...e?.style,...t?.style}:r[i]===void 0&&(r[i]=e[i])}return r}function a3(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:xd(t.components[n].defaultProps,r)}function l3({props:e,name:t,defaultTheme:n,themeId:r}){let o=Gb(n);return r&&(o=o[r]||o),a3({theme:o,name:t,props:e})}const Un=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Kwe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function KM(e,t=0,n=1){return Kwe(e,t,n)}function qwe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Wc(e){if(e.type)return e;if(e.charAt(0)==="#")return Wc(qwe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Kl(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Kl(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const Ywe=e=>{const t=Wc(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Ag=(e,t)=>{try{return Ywe(e)}catch{return e}};function Kb(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((o,i)=>i<3?parseInt(o,10):o):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function c3(e){e=Wc(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=(u,h=(u+n/30)%12)=>o-i*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",c.push(t[3])),Kb({type:a,values:c})}function qM(e){e=Wc(e);let t=e.type==="hsl"||e.type==="hsla"?Wc(c3(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Xwe(e,t){const n=qM(e),r=qM(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Vs(e,t){return e=Wc(e),t=KM(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Kb(e)}function _d(e,t,n){try{return Vs(e,t)}catch{return e}}function Lg(e,t){if(e=Wc(e),t=KM(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Kb(e)}function hr(e,t,n){try{return Lg(e,t)}catch{return e}}function Ng(e,t){if(e=Wc(e),t=KM(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Kb(e)}function fr(e,t,n){try{return Ng(e,t)}catch{return e}}function Zwe(e,t=.15){return qM(e)>.5?Lg(e,t):Ng(e,t)}function qb(e,t,n){try{return Zwe(e,t)}catch{return e}}const Jwe=_.createContext(),Uo=()=>_.useContext(Jwe)??!1,Qwe=_.createContext(void 0);function eSe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?xd(o.defaultProps,r,t.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?xd(o,r,t.components.mergeClassNameAndStyle):r}function tSe({props:e,name:t}){const n=_.useContext(Qwe);return eSe({props:e,name:t,theme:{components:n}})}let u3=0;function nSe(e){const[t,n]=_.useState(e),r=e||t;return _.useEffect(()=>{t==null&&(u3+=1,n(`mui-${u3}`))},[t]),r}const d3={...cM}.useId;function Dn(e){if(d3!==void 0){const t=d3();return e??t}return nSe(e)}const h3={theme:void 0};function rSe(e){let t,n;return function(o){let i=t;return(i===void 0||o.theme!==n)&&(h3.theme=o.theme,i=o3(e(h3)),t=i,n=o.theme),i}}function oSe(e=""){function t(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${e?`${e}-`:""}${r}${t(...o)})`}const f3=(e,t,n,r=[])=>{let o=e;t.forEach((i,s)=>{s===t.length-1?Array.isArray(o)?o[Number(i)]=n:o&&typeof o=="object"&&(o[i]=n):o&&typeof o=="object"&&(o[i]||(o[i]=r.includes(i)?[]:{}),o=o[i])})},iSe=(e,t,n)=>{function r(o,i=[],s=[]){Object.entries(o).forEach(([a,c])=>{(!n||n&&!n([...i,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...i,a],Array.isArray(c)?[...s,a]:s):t([...i,a],c,s))})}r(e)},sSe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function YM(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},i={},s={};return iSe(e,(a,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(a,c))){const h=`--${n?`${n}-`:""}${a.join("-")}`,f=sSe(a,c);Object.assign(o,{[h]:f}),f3(i,a,`var(${h})`,u),f3(s,a,`var(${h}, ${f})`,u)}},a=>a[0]==="vars"),{css:o,vars:i,varsWithDefaults:s}}function aSe(e,t={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...u}=e,{vars:h,css:f,varsWithDefaults:g}=YM(u,t);let m=g;const y={},{[c]:b,...v}=s;if(Object.entries(v||{}).forEach(([R,M])=>{const{vars:I,css:N,varsWithDefaults:P}=YM(M,t);m=zo(m,P),y[R]={css:N,vars:I}}),b){const{css:R,vars:M,varsWithDefaults:I}=YM(b,t);m=zo(m,I),y[c]={css:R,vars:M}}function S(R,M){let I=o;if(o==="class"&&(I=".%s"),o==="data"&&(I="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(I=`[${o}="%s"]`),R){if(I==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${s[R]?.palette?.mode||R})`]:{":root":M}};if(I)return e.defaultColorScheme===R?`:root, ${I.replace("%s",String(R))}`:I.replace("%s",String(R))}return":root"}return{vars:m,generateThemeVars:()=>{let R={...h};return Object.entries(y).forEach(([,{vars:M}])=>{R=zo(R,M)}),R},generateStyleSheets:()=>{const R=[],M=e.defaultColorScheme||"light";function I(L,D){Object.keys(D).length&&R.push(typeof L=="string"?{[L]:{...D}}:L)}I(n(void 0,{...f}),f);const{[M]:N,...P}=y;if(N){const{css:L}=N,D=s[M]?.palette?.mode,$=!r&&D?{colorScheme:D,...L}:{...L};I(n(M,{...$}),$)}return Object.entries(P).forEach(([L,{css:D}])=>{const $=s[L]?.palette?.mode,B=!r&&$?{colorScheme:$,...D}:{...D};I(n(L,{...B}),B)}),i&&R.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),R}}}function lSe(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function ht(e,t,n=void 0){const r={};for(const o in e){const i=e[o];let s="",a=!0;for(let c=0;c<i.length;c+=1){const u=i[c];u&&(s+=(a===!0?"":" ")+t(u),a=!1,n&&n[u]&&(s+=" "+n[u]))}r[o]=s}return r}function Yb(e,t){return _.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}const cSe=Hb(),uSe=jn("div",{name:"MuiStack",slot:"Root"});function dSe(e){return l3({props:e,name:"MuiStack",defaultTheme:cSe})}function hSe(e,t){const n=_.Children.toArray(e).filter(Boolean);return n.reduce((r,o,i)=>(r.push(o),i<n.length-1&&r.push(_.cloneElement(t,{key:`separator-${i}`})),r),[])}const fSe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],pSe=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...Sa({theme:t},$M({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=Fb(t),o=Object.keys(t.breakpoints.values).reduce((c,u)=>((typeof e.spacing=="object"&&e.spacing[u]!=null||typeof e.direction=="object"&&e.direction[u]!=null)&&(c[u]=!0),c),{}),i=$M({values:e.direction,base:o}),s=$M({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((c,u,h)=>{if(!i[c]){const g=u>0?i[h[u-1]]:"column";i[c]=g}}),n=zo(n,Sa({theme:t},s,(c,u)=>e.useFlexGap?{gap:wd(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${fSe(u?i[u]:e.direction)}`]:wd(r,c)}}))}return n=Gbe(t.breakpoints,n),n};function gSe(e={}){const{createStyledComponent:t=uSe,useThemeProps:n=dSe,componentName:r="MuiStack"}=e,o=()=>ht({root:["root"]},c=>Xt(r,c),{}),i=t(pSe);return _.forwardRef(function(c,u){const h=n(c),f=WM(h),{component:g="div",direction:m="column",spacing:y=0,divider:b,children:v,className:S,useFlexGap:E=!1,...T}=f,R={direction:m,spacing:y,useFlexGap:E},M=o();return x.jsx(i,{as:g,ownerState:R,ref:u,className:Ke(M.root,S),...T,children:b?hSe(v,b):v})})}function p3(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cg.white,default:Cg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const g3=p3();function m3(){return{text:{primary:Cg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const XM=m3();function v3(e,t,n,r){const o=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Ng(e.main,o):t==="dark"&&(e.dark=Lg(e.main,i)))}function y3(e,t,n,r,o){const i=o.light||o,s=o.dark||o*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(i*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function mSe(e="light"){return e==="dark"?{main:Uc[200],light:Uc[50],dark:Uc[400]}:{main:Uc[700],light:Uc[400],dark:Uc[800]}}function vSe(e="light"){return e==="dark"?{main:qh[200],light:qh[50],dark:qh[400]}:{main:qh[500],light:qh[300],dark:qh[700]}}function ySe(e="light"){return e==="dark"?{main:Kh[500],light:Kh[300],dark:Kh[700]}:{main:Kh[700],light:Kh[400],dark:Kh[800]}}function bSe(e="light"){return e==="dark"?{main:Yh[400],light:Yh[300],dark:Yh[700]}:{main:Yh[700],light:Yh[500],dark:Yh[900]}}function wSe(e="light"){return e==="dark"?{main:tl[400],light:tl[300],dark:tl[700]}:{main:tl[800],light:tl[500],dark:tl[900]}}function SSe(e="light"){return e==="dark"?{main:xg[400],light:xg[300],dark:xg[700]}:{main:"#ed6c02",light:xg[500],dark:xg[900]}}function CSe(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function ZM(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o,...i}=e,s=e.primary||mSe(t),a=e.secondary||vSe(t),c=e.error||ySe(t),u=e.info||bSe(t),h=e.success||wSe(t),f=e.warning||SSe(t);function g(v){return o?CSe(v):Xwe(v,XM.text.primary)>=n?XM.text.primary:g3.text.primary}const m=({color:v,name:S,mainShade:E=500,lightShade:T=300,darkShade:R=700})=>{if(v={...v},!v.main&&v[E]&&(v.main=v[E]),!v.hasOwnProperty("main"))throw new Error(Kl(11,S?` (${S})`:"",E));if(typeof v.main!="string")throw new Error(Kl(12,S?` (${S})`:"",JSON.stringify(v.main)));return o?(y3(o,v,"light",T,r),y3(o,v,"dark",R,r)):(v3(v,"light",T,r),v3(v,"dark",R,r)),v.contrastText||(v.contrastText=g(v.main)),v};let y;return t==="light"?y=p3():t==="dark"&&(y=m3()),zo({common:{...Cg},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:h,name:"success"}),grey:Pye,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},i)}function xSe(e){const t={};return Object.entries(e).forEach(r=>{const[o,i]=r;typeof i=="object"&&(t[o]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}function _Se(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function ESe(e){return Math.round(e*1e5)/1e5}const b3={textTransform:"uppercase"},w3='"Roboto", "Helvetica", "Arial", sans-serif';function TSe(e,t){const{fontFamily:n=w3,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:u,pxToRem:h,...f}=typeof t=="function"?t(e):t,g=r/14,m=h||(v=>`${v/c*g}rem`),y=(v,S,E,T,R)=>({fontFamily:n,fontWeight:v,fontSize:m(S),lineHeight:E,...n===w3?{letterSpacing:`${ESe(T/S)}em`}:{},...R,...u}),b={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(i,48,1.167,0),h4:y(i,34,1.235,.25),h5:y(i,24,1.334,0),h6:y(s,20,1.6,.15),subtitle1:y(i,16,1.75,.15),subtitle2:y(s,14,1.57,.1),body1:y(i,16,1.5,.15),body2:y(i,14,1.43,.15),button:y(s,14,1.75,.4,b3),caption:y(i,12,1.66,.4),overline:y(i,12,2.66,1,b3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zo({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:a,...b},f,{clone:!1})}const MSe=.2,OSe=.14,RSe=.12;function Kr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${MSe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${OSe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${RSe})`].join(",")}const ISe=["none",Kr(0,2,1,-1,0,1,1,0,0,1,3,0),Kr(0,3,1,-2,0,2,2,0,0,1,5,0),Kr(0,3,3,-2,0,3,4,0,0,1,8,0),Kr(0,2,4,-1,0,4,5,0,0,1,10,0),Kr(0,3,5,-1,0,5,8,0,0,1,14,0),Kr(0,3,5,-1,0,6,10,0,0,1,18,0),Kr(0,4,5,-2,0,7,10,1,0,2,16,1),Kr(0,5,5,-3,0,8,10,1,0,3,14,2),Kr(0,5,6,-3,0,9,12,1,0,3,16,2),Kr(0,6,6,-3,0,10,14,1,0,4,18,3),Kr(0,6,7,-4,0,11,15,1,0,4,20,3),Kr(0,7,8,-4,0,12,17,2,0,5,22,4),Kr(0,7,8,-4,0,13,19,2,0,5,24,4),Kr(0,7,9,-4,0,14,21,2,0,5,26,4),Kr(0,8,9,-5,0,15,22,2,0,6,28,5),Kr(0,8,10,-5,0,16,24,2,0,6,30,5),Kr(0,8,11,-5,0,17,26,2,0,6,32,5),Kr(0,9,11,-5,0,18,28,2,0,7,34,6),Kr(0,9,12,-6,0,19,29,2,0,7,36,6),Kr(0,10,13,-6,0,20,31,3,0,8,38,7),Kr(0,10,13,-6,0,21,33,3,0,8,40,7),Kr(0,10,14,-6,0,22,35,3,0,8,42,7),Kr(0,11,14,-7,0,23,36,3,0,9,44,8),Kr(0,11,15,-7,0,24,38,3,0,9,46,8)],PSe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},S3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function C3(e){return`${Math.round(e)}ms`}function kSe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function DSe(e){const t={...PSe,...e.easing},n={...S3,...e.duration};return{getAutoHeightDuration:kSe,create:(o=["all"],i={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0,...u}=i;return(Array.isArray(o)?o:[o]).map(h=>`${h} ${typeof s=="string"?s:C3(s)} ${a} ${typeof c=="string"?c:C3(c)}`).join(",")},...e,easing:t,duration:n}}const ASe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function LSe(e){return il(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function x3(e={}){const t={...e};function n(r){const o=Object.entries(r);for(let i=0;i<o.length;i++){const[s,a]=o[i];!LSe(a)||s.startsWith("unstable_")?delete r[s]:il(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function _3(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const NSe=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function BSe(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Vs(t,NSe(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${_3(n)})`:Ng(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${_3(n)})`:Lg(t,n)}})}function JM(e={},...t){const{breakpoints:n,mixins:r={},spacing:o,palette:i={},transitions:s={},typography:a={},shape:c,colorSpace:u,...h}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Kl(20));const f=ZM({...i,colorSpace:u}),g=Hb(e);let m=zo(g,{mixins:_Se(g.breakpoints,r),palette:f,shadows:ISe.slice(),typography:TSe(f,a),transitions:DSe(s),zIndex:{...ASe}});return m=zo(m,h),m=t.reduce((y,b)=>zo(y,b),m),m.unstable_sxConfig={...Dg,...h?.unstable_sxConfig},m.unstable_sx=function(b){return Sd({sx:b,theme:this})},m.toRuntimeSource=x3,BSe(m),m}function QM(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const FSe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=QM(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function E3(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function T3(e){return e==="dark"?FSe:[]}function jSe(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:o,...i}=e,s=ZM({...t,colorSpace:o});return{palette:s,opacity:{...E3(s.mode),...n},overlays:r||T3(s.mode),...i}}function VSe(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const $Se=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],zSe=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if(o==="class"&&(i=".%s"),o==="data"&&(i="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(i=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return $Se(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:i?{[i.replace("%s",t)]:s,[`${r}, ${i.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(i)return i.replace("%s",String(t))}return r};function USe(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function Qe(e,t,n){!e[t]&&n&&(e[t]=n)}function Bg(e){return typeof e!="string"||!e.startsWith("hsl")?e:c3(e)}function ql(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Ag(Bg(e[t])))}function HSe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const sl=e=>{try{return e()}catch{}},GSe=(e="mui")=>oSe(e);function eO(e,t,n,r,o){if(!n)return;n=n===!0?{}:n;const i=o==="dark"?"dark":"light";if(!r){t[o]=jSe({...n,palette:{mode:i,...n?.palette},colorSpace:e});return}const{palette:s,...a}=JM({...r,palette:{mode:i,...n?.palette},colorSpace:e});return t[o]={...n,palette:s,opacity:{...E3(i),...n?.opacity},overlays:n?.overlays||T3(i)},a}function WSe(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=VSe,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...h}=e,f=Object.keys(n)[0],g=r||(n.light&&f!=="light"?"light":f),m=GSe(i),{[g]:y,light:b,dark:v,...S}=n,E={...S};let T=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(Kl(21,g));let R;s&&(R="oklch");const M=eO(R,E,T,h,g);b&&!E.light&&eO(R,E,b,void 0,"light"),v&&!E.dark&&eO(R,E,v,void 0,"dark");let I={defaultColorScheme:g,...M,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:u,getCssVar:m,colorSchemes:E,font:{...xSe(M.typography),...M.font},spacing:HSe(h.spacing)};Object.keys(I.colorSchemes).forEach($=>{const B=I.colorSchemes[$].palette,U=W=>{const V=W.split("-"),Y=V[1],J=V[2];return m(W,B[Y][J])};B.mode==="light"&&(Qe(B.common,"background","#fff"),Qe(B.common,"onBackground","#000")),B.mode==="dark"&&(Qe(B.common,"background","#000"),Qe(B.common,"onBackground","#fff"));function q(W,V,Y){if(R){let J;return W===_d&&(J=`transparent ${((1-Y)*100).toFixed(0)}%`),W===hr&&(J=`#000 ${(Y*100).toFixed(0)}%`),W===fr&&(J=`#fff ${(Y*100).toFixed(0)}%`),`color-mix(in ${R}, ${V}, ${J})`}return W(V,Y)}if(USe(B,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),B.mode==="light"){Qe(B.Alert,"errorColor",q(hr,B.error.light,.6)),Qe(B.Alert,"infoColor",q(hr,B.info.light,.6)),Qe(B.Alert,"successColor",q(hr,B.success.light,.6)),Qe(B.Alert,"warningColor",q(hr,B.warning.light,.6)),Qe(B.Alert,"errorFilledBg",U("palette-error-main")),Qe(B.Alert,"infoFilledBg",U("palette-info-main")),Qe(B.Alert,"successFilledBg",U("palette-success-main")),Qe(B.Alert,"warningFilledBg",U("palette-warning-main")),Qe(B.Alert,"errorFilledColor",sl(()=>B.getContrastText(B.error.main))),Qe(B.Alert,"infoFilledColor",sl(()=>B.getContrastText(B.info.main))),Qe(B.Alert,"successFilledColor",sl(()=>B.getContrastText(B.success.main))),Qe(B.Alert,"warningFilledColor",sl(()=>B.getContrastText(B.warning.main))),Qe(B.Alert,"errorStandardBg",q(fr,B.error.light,.9)),Qe(B.Alert,"infoStandardBg",q(fr,B.info.light,.9)),Qe(B.Alert,"successStandardBg",q(fr,B.success.light,.9)),Qe(B.Alert,"warningStandardBg",q(fr,B.warning.light,.9)),Qe(B.Alert,"errorIconColor",U("palette-error-main")),Qe(B.Alert,"infoIconColor",U("palette-info-main")),Qe(B.Alert,"successIconColor",U("palette-success-main")),Qe(B.Alert,"warningIconColor",U("palette-warning-main")),Qe(B.AppBar,"defaultBg",U("palette-grey-100")),Qe(B.Avatar,"defaultBg",U("palette-grey-400")),Qe(B.Button,"inheritContainedBg",U("palette-grey-300")),Qe(B.Button,"inheritContainedHoverBg",U("palette-grey-A100")),Qe(B.Chip,"defaultBorder",U("palette-grey-400")),Qe(B.Chip,"defaultAvatarColor",U("palette-grey-700")),Qe(B.Chip,"defaultIconColor",U("palette-grey-700")),Qe(B.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Qe(B.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Qe(B.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Qe(B.LinearProgress,"primaryBg",q(fr,B.primary.main,.62)),Qe(B.LinearProgress,"secondaryBg",q(fr,B.secondary.main,.62)),Qe(B.LinearProgress,"errorBg",q(fr,B.error.main,.62)),Qe(B.LinearProgress,"infoBg",q(fr,B.info.main,.62)),Qe(B.LinearProgress,"successBg",q(fr,B.success.main,.62)),Qe(B.LinearProgress,"warningBg",q(fr,B.warning.main,.62)),Qe(B.Skeleton,"bg",R?q(_d,B.text.primary,.11):`rgba(${U("palette-text-primaryChannel")} / 0.11)`),Qe(B.Slider,"primaryTrack",q(fr,B.primary.main,.62)),Qe(B.Slider,"secondaryTrack",q(fr,B.secondary.main,.62)),Qe(B.Slider,"errorTrack",q(fr,B.error.main,.62)),Qe(B.Slider,"infoTrack",q(fr,B.info.main,.62)),Qe(B.Slider,"successTrack",q(fr,B.success.main,.62)),Qe(B.Slider,"warningTrack",q(fr,B.warning.main,.62));const W=R?q(hr,B.background.default,.6825):qb(B.background.default,.8);Qe(B.SnackbarContent,"bg",W),Qe(B.SnackbarContent,"color",sl(()=>R?XM.text.primary:B.getContrastText(W))),Qe(B.SpeedDialAction,"fabHoverBg",qb(B.background.paper,.15)),Qe(B.StepConnector,"border",U("palette-grey-400")),Qe(B.StepContent,"border",U("palette-grey-400")),Qe(B.Switch,"defaultColor",U("palette-common-white")),Qe(B.Switch,"defaultDisabledColor",U("palette-grey-100")),Qe(B.Switch,"primaryDisabledColor",q(fr,B.primary.main,.62)),Qe(B.Switch,"secondaryDisabledColor",q(fr,B.secondary.main,.62)),Qe(B.Switch,"errorDisabledColor",q(fr,B.error.main,.62)),Qe(B.Switch,"infoDisabledColor",q(fr,B.info.main,.62)),Qe(B.Switch,"successDisabledColor",q(fr,B.success.main,.62)),Qe(B.Switch,"warningDisabledColor",q(fr,B.warning.main,.62)),Qe(B.TableCell,"border",q(fr,q(_d,B.divider,1),.88)),Qe(B.Tooltip,"bg",q(_d,B.grey[700],.92))}if(B.mode==="dark"){Qe(B.Alert,"errorColor",q(fr,B.error.light,.6)),Qe(B.Alert,"infoColor",q(fr,B.info.light,.6)),Qe(B.Alert,"successColor",q(fr,B.success.light,.6)),Qe(B.Alert,"warningColor",q(fr,B.warning.light,.6)),Qe(B.Alert,"errorFilledBg",U("palette-error-dark")),Qe(B.Alert,"infoFilledBg",U("palette-info-dark")),Qe(B.Alert,"successFilledBg",U("palette-success-dark")),Qe(B.Alert,"warningFilledBg",U("palette-warning-dark")),Qe(B.Alert,"errorFilledColor",sl(()=>B.getContrastText(B.error.dark))),Qe(B.Alert,"infoFilledColor",sl(()=>B.getContrastText(B.info.dark))),Qe(B.Alert,"successFilledColor",sl(()=>B.getContrastText(B.success.dark))),Qe(B.Alert,"warningFilledColor",sl(()=>B.getContrastText(B.warning.dark))),Qe(B.Alert,"errorStandardBg",q(hr,B.error.light,.9)),Qe(B.Alert,"infoStandardBg",q(hr,B.info.light,.9)),Qe(B.Alert,"successStandardBg",q(hr,B.success.light,.9)),Qe(B.Alert,"warningStandardBg",q(hr,B.warning.light,.9)),Qe(B.Alert,"errorIconColor",U("palette-error-main")),Qe(B.Alert,"infoIconColor",U("palette-info-main")),Qe(B.Alert,"successIconColor",U("palette-success-main")),Qe(B.Alert,"warningIconColor",U("palette-warning-main")),Qe(B.AppBar,"defaultBg",U("palette-grey-900")),Qe(B.AppBar,"darkBg",U("palette-background-paper")),Qe(B.AppBar,"darkColor",U("palette-text-primary")),Qe(B.Avatar,"defaultBg",U("palette-grey-600")),Qe(B.Button,"inheritContainedBg",U("palette-grey-800")),Qe(B.Button,"inheritContainedHoverBg",U("palette-grey-700")),Qe(B.Chip,"defaultBorder",U("palette-grey-700")),Qe(B.Chip,"defaultAvatarColor",U("palette-grey-300")),Qe(B.Chip,"defaultIconColor",U("palette-grey-300")),Qe(B.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Qe(B.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Qe(B.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Qe(B.LinearProgress,"primaryBg",q(hr,B.primary.main,.5)),Qe(B.LinearProgress,"secondaryBg",q(hr,B.secondary.main,.5)),Qe(B.LinearProgress,"errorBg",q(hr,B.error.main,.5)),Qe(B.LinearProgress,"infoBg",q(hr,B.info.main,.5)),Qe(B.LinearProgress,"successBg",q(hr,B.success.main,.5)),Qe(B.LinearProgress,"warningBg",q(hr,B.warning.main,.5)),Qe(B.Skeleton,"bg",R?q(_d,B.text.primary,.13):`rgba(${U("palette-text-primaryChannel")} / 0.13)`),Qe(B.Slider,"primaryTrack",q(hr,B.primary.main,.5)),Qe(B.Slider,"secondaryTrack",q(hr,B.secondary.main,.5)),Qe(B.Slider,"errorTrack",q(hr,B.error.main,.5)),Qe(B.Slider,"infoTrack",q(hr,B.info.main,.5)),Qe(B.Slider,"successTrack",q(hr,B.success.main,.5)),Qe(B.Slider,"warningTrack",q(hr,B.warning.main,.5));const W=R?q(fr,B.background.default,.985):qb(B.background.default,.98);Qe(B.SnackbarContent,"bg",W),Qe(B.SnackbarContent,"color",sl(()=>R?g3.text.primary:B.getContrastText(W))),Qe(B.SpeedDialAction,"fabHoverBg",qb(B.background.paper,.15)),Qe(B.StepConnector,"border",U("palette-grey-600")),Qe(B.StepContent,"border",U("palette-grey-600")),Qe(B.Switch,"defaultColor",U("palette-grey-300")),Qe(B.Switch,"defaultDisabledColor",U("palette-grey-600")),Qe(B.Switch,"primaryDisabledColor",q(hr,B.primary.main,.55)),Qe(B.Switch,"secondaryDisabledColor",q(hr,B.secondary.main,.55)),Qe(B.Switch,"errorDisabledColor",q(hr,B.error.main,.55)),Qe(B.Switch,"infoDisabledColor",q(hr,B.info.main,.55)),Qe(B.Switch,"successDisabledColor",q(hr,B.success.main,.55)),Qe(B.Switch,"warningDisabledColor",q(hr,B.warning.main,.55)),Qe(B.TableCell,"border",q(hr,q(_d,B.divider,1),.68)),Qe(B.Tooltip,"bg",q(_d,B.grey[700],.92))}ql(B.background,"default"),ql(B.background,"paper"),ql(B.common,"background"),ql(B.common,"onBackground"),ql(B,"divider"),Object.keys(B).forEach(W=>{const V=B[W];W!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&Qe(B[W],"mainChannel",Ag(Bg(V.main))),V.light&&Qe(B[W],"lightChannel",Ag(Bg(V.light))),V.dark&&Qe(B[W],"darkChannel",Ag(Bg(V.dark))),V.contrastText&&Qe(B[W],"contrastTextChannel",Ag(Bg(V.contrastText))),W==="text"&&(ql(B[W],"primary"),ql(B[W],"secondary")),W==="action"&&(V.active&&ql(B[W],"active"),V.selected&&ql(B[W],"selected")))})}),I=t.reduce(($,B)=>zo($,B),I);const N={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:zSe(I),enableContrastVars:s},{vars:P,generateThemeVars:L,generateStyleSheets:D}=aSe(I,N);return I.vars=P,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([$,B])=>{I[$]=B}),I.generateThemeVars=L,I.generateStyleSheets=D,I.generateSpacing=function(){return e3(h.spacing,Fb(this))},I.getColorSchemeSelector=lSe(c),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=a,I.unstable_sxConfig={...Dg,...h?.unstable_sxConfig},I.unstable_sx=function(B){return Sd({sx:B,theme:this})},I.toRuntimeSource=x3,I}function M3(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:ZM({...n===!0?{}:n.palette,mode:t})})}function O3(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:i=n?.mode,...s}=e,a=i||"light",c=o?.[a],u={...o,...n?{[a]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return JM(e,...t);let h=n;"palette"in e||u[a]&&(u[a]!==!0?h=u[a].palette:a==="dark"&&(h={mode:"dark"}));const f=JM({...e,palette:h},...t);return f.defaultColorScheme=a,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},M3(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},M3(f,"light",u.light)),f}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),WSe({...s,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}function KSe(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function qSe(e){return parseFloat(e)}const Xb=O3();function al(){const e=Gb(Xb);return e[_g]||e}function YSe({props:e,name:t}){return l3({props:e,name:t,defaultTheme:Xb,themeId:_g})}function R3(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const _i=e=>R3(e)&&e!=="classes",we=s3({themeId:_g,defaultTheme:Xb,rootShouldForwardProp:_i});function I3(...e){return e.reduce((t,n)=>n==null?t:function(...o){t.apply(this,o),n.apply(this,o)},()=>{})}function XSe(e){return x.jsx(Nwe,{...e,defaultTheme:Xb,themeId:_g})}function ZSe(e){return function(n){return x.jsx(XSe,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function JSe(){return WM}const Ht=rSe;function sn(e){return tSe(e)}function QSe(e){return Xt("MuiSvgIcon",e)}Kt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const eCe=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${We(t)}`,`fontSize${We(n)}`]};return ht(o,QSe,r)},tCe=we("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${We(n.color)}`],t[`fontSize${We(n.fontSize)}`]]}})(Ht(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),tO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:f,viewBox:g="0 0 24 24",...m}=r,y=_.isValidElement(o)&&o.type==="svg",b={...r,color:s,component:a,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:y},v={};h||(v.viewBox=g);const S=eCe(b);return x.jsxs(tCe,{as:a,className:Ke(S.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...v,...m,...y&&o.props,ownerState:b,children:[y?o.props.children:o,f?x.jsx("title",{children:f}):null]})});tO.muiName="SvgIcon";function xt(e,t){function n(r,o){return x.jsx(tO,{"data-testid":void 0,ref:o,...r,children:e})}return n.muiName=tO.muiName,_.memo(_.forwardRef(n))}function Kc(e,t=166){let n;function r(...o){const i=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function qr(e){return e&&e.ownerDocument||document}function os(e){return qr(e).defaultView||window}function nO(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ed(e){const{controlled:t,default:n,name:r,state:o="value"}=e,{current:i}=_.useRef(t!==void 0),[s,a]=_.useState(n),c=i?t:s,u=_.useCallback(h=>{i||a(h)},[]);return[c,u]}function $t(e){const t=_.useRef(e);return Un(()=>{t.current=e}),_.useRef((...n)=>(0,t.current)(...n)).current}function Tn(...e){const t=_.useRef(void 0),n=_.useCallback(r=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return i.current=r,()=>{i.current=null}});return()=>{o.forEach(i=>i?.())}},e);return _.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function nCe(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function P3(e,t){if(!e)return t;function n(s,a){const c={};return Object.keys(a).forEach(u=>{nCe(u,a[u])&&typeof s[u]=="function"&&(c[u]=(...h)=>{s[u](...h),a[u](...h)})}),c}if(typeof e=="function"||typeof t=="function")return s=>{const a=typeof t=="function"?t(s):t,c=typeof e=="function"?e({...s,...a}):e,u=Ke(s?.className,a?.className,c?.className),h=n(c,a);return{...a,...c,...h,...!!u&&{className:u},...a?.style&&c?.style&&{style:{...a.style,...c.style}},...a?.sx&&c?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=t,o=n(e,r),i=Ke(r?.className,e?.className);return{...t,...e,...o,...!!i&&{className:i},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function pt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rO(e,t){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rO(e,t)}function k3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rO(e,t)}const D3={disabled:!1},Zb=bn.createContext(null);var rCe=function(t){return t.scrollTop},Fg="unmounted",Td="exited",Md="entering",tf="entered",oO="exiting",$s=(function(e){k3(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=o,a=s&&!s.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?a?(c=Td,i.appearStatus=Md):c=tf:r.unmountOnExit||r.mountOnEnter?c=Fg:c=Td,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===Fg?{status:Td}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==Md&&s!==tf&&(i=Md):(s===Md||s===tf)&&(i=oO)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===Md){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:xb.findDOMNode(this);s&&rCe(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Td&&this.setState({status:Fg})},n.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,c=this.props.nodeRef?[a]:[xb.findDOMNode(this),a],u=c[0],h=c[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!o&&!s||D3.disabled){this.safeSetState({status:tf},function(){i.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:Md},function(){i.props.onEntering(u,h),i.onTransitionEnd(g,function(){i.safeSetState({status:tf},function(){i.props.onEntered(u,h)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:xb.findDOMNode(this);if(!i||D3.disabled){this.safeSetState({status:Td},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:oO},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:Td},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:xb.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Fg)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=pt(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return bn.createElement(Zb.Provider,{value:null},typeof s=="function"?s(o,a):bn.cloneElement(bn.Children.only(s),a))},t})(bn.Component);$s.contextType=Zb,$s.propTypes={};function nf(){}$s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nf,onEntering:nf,onEntered:nf,onExit:nf,onExiting:nf,onExited:nf},$s.UNMOUNTED=Fg,$s.EXITED=Td,$s.ENTERING=Md,$s.ENTERED=tf,$s.EXITING=oO;function oCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iO(e,t){var n=function(i){return t&&_.isValidElement(i)?t(i):i},r=Object.create(null);return e&&_.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function iCe(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var s,a={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var u=r[c][s];a[r[c][s]]=n(u)}a[c]=n(c)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a}function Od(e,t,n){return n[t]!=null?n[t]:e.props[t]}function sCe(e,t){return iO(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Od(n,"appear",e),enter:Od(n,"enter",e),exit:Od(n,"exit",e)})})}function aCe(e,t,n){var r=iO(e.children),o=iCe(t,r);return Object.keys(o).forEach(function(i){var s=o[i];if(_.isValidElement(s)){var a=i in t,c=i in r,u=t[i],h=_.isValidElement(u)&&!u.props.in;c&&(!a||h)?o[i]=_.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Od(s,"exit",e),enter:Od(s,"enter",e)}):!c&&a&&!h?o[i]=_.cloneElement(s,{in:!1}):c&&a&&_.isValidElement(u)&&(o[i]=_.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Od(s,"exit",e),enter:Od(s,"enter",e)}))}}),o}var lCe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},cCe={component:"div",childFactory:function(t){return t}},sO=(function(e){k3(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=i.handleExited.bind(oCe(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,c=i.firstRender;return{children:c?sCe(o,a):aCe(o,s,a),firstRender:!1}},n.handleExited=function(o,i){var s=iO(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var c=G({},a.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=pt(o,["component","childFactory"]),c=this.state.contextValue,u=lCe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?bn.createElement(Zb.Provider,{value:c},u):bn.createElement(Zb.Provider,{value:c},bn.createElement(i,a,u))},t})(bn.Component);sO.propTypes={},sO.defaultProps=cCe;const A3={};function is(e,t){const n=_.useRef(A3);return n.current===A3&&(n.current=e(t)),n}const uCe=[];function Jb(e){_.useEffect(e,uCe)}class Qb{static create(){return new Qb}currentId=null;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Fi(){const e=is(Qb.create).current;return Jb(e.disposeEffect),e}const aO=e=>e.scrollTop;function qc(e,t){const{timeout:n,easing:r,style:o={}}=e;return{duration:o.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:o.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:o.transitionDelay}}function dCe(e){return Xt("MuiCollapse",e)}Kt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const hCe=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ht(r,dCe,n)},fCe=we("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(Ht(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),pCe=we("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),gCe=we("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),lO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:c,easing:u,in:h,onEnter:f,onEntered:g,onEntering:m,onExit:y,onExited:b,onExiting:v,orientation:S="vertical",style:E,timeout:T=S3.standard,TransitionComponent:R=$s,...M}=r,I={...r,orientation:S,collapsedSize:a},N=hCe(I),P=al(),L=Fi(),D=_.useRef(null),$=_.useRef(),B=typeof a=="number"?`${a}px`:a,U=S==="horizontal",q=U?"width":"height",W=_.useRef(null),V=Tn(n,W),Y=ae=>ye=>{if(ae){const Me=W.current;ye===void 0?ae(Me):ae(Me,ye)}},J=()=>D.current?D.current[U?"clientWidth":"clientHeight"]:0,ne=Y((ae,ye)=>{D.current&&U&&(D.current.style.position="absolute"),ae.style[q]=B,f&&f(ae,ye)}),z=Y((ae,ye)=>{const Me=J();D.current&&U&&(D.current.style.position="");const{duration:xe,easing:he}=qc({style:E,timeout:T,easing:u},{mode:"enter"});if(T==="auto"){const pe=P.transitions.getAutoHeightDuration(Me);ae.style.transitionDuration=`${pe}ms`,$.current=pe}else ae.style.transitionDuration=typeof xe=="string"?xe:`${xe}ms`;ae.style[q]=`${Me}px`,ae.style.transitionTimingFunction=he,m&&m(ae,ye)}),K=Y((ae,ye)=>{ae.style[q]="auto",g&&g(ae,ye)}),Z=Y(ae=>{ae.style[q]=`${J()}px`,y&&y(ae)}),le=Y(b),ce=Y(ae=>{const ye=J(),{duration:Me,easing:xe}=qc({style:E,timeout:T,easing:u},{mode:"exit"});if(T==="auto"){const he=P.transitions.getAutoHeightDuration(ye);ae.style.transitionDuration=`${he}ms`,$.current=he}else ae.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;ae.style[q]=B,ae.style.transitionTimingFunction=xe,v&&v(ae)}),ue=ae=>{T==="auto"&&L.start($.current||0,ae),o&&o(W.current,ae)};return x.jsx(R,{in:h,onEnter:ne,onEntered:K,onEntering:z,onExit:Z,onExited:le,onExiting:ce,addEndListener:ue,nodeRef:W,timeout:T==="auto"?null:T,...M,children:(ae,{ownerState:ye,...Me})=>x.jsx(fCe,{as:c,className:Ke(N.root,s,{entered:N.entered,exited:!h&&B==="0px"&&N.hidden}[ae]),style:{[U?"minWidth":"minHeight"]:B,...E},ref:V,ownerState:{...I,state:ae},...Me,children:x.jsx(pCe,{ownerState:{...I,state:ae},className:N.wrapper,ref:D,children:x.jsx(gCe,{ownerState:{...I,state:ae},className:N.wrapperInner,children:i})})})})});lO&&(lO.muiSupportAuto=!0);function mCe(e){return Xt("MuiPaper",e)}Kt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const vCe=e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return ht(i,mCe,o)},yCe=we("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Ht(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Rd=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiPaper"}),o=al(),{className:i,component:s="div",elevation:a=1,square:c=!1,variant:u="elevation",...h}=r,f={...r,component:s,elevation:a,square:c,variant:u},g=vCe(f);return x.jsx(yCe,{as:s,ownerState:f,className:Ke(g.root,i),ref:n,...h,style:{...u==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[a],...o.vars&&{"--Paper-overlay":o.vars.overlays?.[a]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Vs("#fff",QM(a))}, ${Vs("#fff",QM(a))})`}},...h.style}})});function rf(e){return typeof e=="string"}function L3(e,t,n){return e===void 0||rf(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function ew(e,t,n){return typeof e=="function"?e(t,n):e}function ss(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function N3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function B3(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const m=Ke(n?.className,i,o?.className,r?.className),y={...n?.style,...o?.style,...r?.style},b={...n,...o,...r};return m.length>0&&(b.className=m),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const s=ss({...o,...r}),a=N3(r),c=N3(o),u=t(s),h=Ke(u?.className,n?.className,i,o?.className,r?.className),f={...u?.style,...n?.style,...o?.style,...r?.style},g={...u,...n,...c,...a};return h.length>0&&(g.className=h),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:u.ref}}function cn(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...c}=t,{component:u,slots:h={[e]:void 0},slotProps:f={[e]:void 0},...g}=i,m=h[e]||r,y=ew(f[e],o),{props:{component:b,...v},internalRef:S}=B3({className:n,...c,externalForwardedProps:e==="root"?g:void 0,externalSlotProps:y}),E=Tn(S,y?.ref,t.ref),T=e==="root"?b||u:b,R=L3(m,{...e==="root"&&!u&&!h[e]&&s,...e!=="root"&&!h[e]&&s,...v,...T&&!a&&{as:T},...T&&a&&{component:T},ref:E},o);return[m,R]}function tw(e){try{return e.matches(":focus-visible")}catch{}return!1}class nw{static create(){return new nw}static use(){const t=is(nw.create).current,[n,r]=_.useState(!1);return t.shouldMount=n,t.setShouldMount=r,_.useEffect(t.mountEffect,[n]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=wCe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function bCe(){return nw.use()}function wCe(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function SCe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:s,in:a,onExited:c,timeout:u}=e,[h,f]=_.useState(!1),g=Ke(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+i,left:-(s/2)+o},y=Ke(n.child,h&&n.childLeaving,r&&n.childPulsate);return!a&&!h&&f(!0),_.useEffect(()=>{if(!a&&c!=null){const b=setTimeout(c,u);return()=>{clearTimeout(b)}}},[c,a,u]),x.jsx("span",{className:g,style:m,children:x.jsx("span",{className:y})})}const zs=Kt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cO=550,CCe=80,xCe=Bs`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,_Ce=Bs`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,ECe=Bs`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TCe=we("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),MCe=we(SCe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${zs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${xCe};
    animation-duration: ${cO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${zs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${zs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${zs.childLeaving} {
    opacity: 0;
    animation-name: ${_Ce};
    animation-duration: ${cO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${zs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${ECe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,OCe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s,...a}=r,[c,u]=_.useState([]),h=_.useRef(0),f=_.useRef(null);_.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const g=_.useRef(!1),m=Fi(),y=_.useRef(null),b=_.useRef(null),v=_.useCallback(R=>{const{pulsate:M,rippleX:I,rippleY:N,rippleSize:P,cb:L}=R;u(D=>[...D,x.jsx(MCe,{classes:{ripple:Ke(i.ripple,zs.ripple),rippleVisible:Ke(i.rippleVisible,zs.rippleVisible),ripplePulsate:Ke(i.ripplePulsate,zs.ripplePulsate),child:Ke(i.child,zs.child),childLeaving:Ke(i.childLeaving,zs.childLeaving),childPulsate:Ke(i.childPulsate,zs.childPulsate)},timeout:cO,pulsate:M,rippleX:I,rippleY:N,rippleSize:P},h.current)]),h.current+=1,f.current=L},[i]),S=_.useCallback((R={},M={},I=()=>{})=>{const{pulsate:N=!1,center:P=o||M.pulsate,fakeElement:L=!1}=M;if(R?.type==="mousedown"&&g.current){g.current=!1;return}R?.type==="touchstart"&&(g.current=!0);const D=L?null:b.current,$=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,U,q;if(P||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)B=Math.round($.width/2),U=Math.round($.height/2);else{const{clientX:W,clientY:V}=R.touches&&R.touches.length>0?R.touches[0]:R;B=Math.round(W-$.left),U=Math.round(V-$.top)}if(P)q=Math.sqrt((2*$.width**2+$.height**2)/3),q%2===0&&(q+=1);else{const W=Math.max(Math.abs((D?D.clientWidth:0)-B),B)*2+2,V=Math.max(Math.abs((D?D.clientHeight:0)-U),U)*2+2;q=Math.sqrt(W**2+V**2)}R?.touches?y.current===null&&(y.current=()=>{v({pulsate:N,rippleX:B,rippleY:U,rippleSize:q,cb:I})},m.start(CCe,()=>{y.current&&(y.current(),y.current=null)})):v({pulsate:N,rippleX:B,rippleY:U,rippleSize:q,cb:I})},[o,v,m]),E=_.useCallback(()=>{S({},{pulsate:!0})},[S]),T=_.useCallback((R,M)=>{if(m.clear(),R?.type==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{T(R,M)});return}y.current=null,u(I=>I.length>0?I.slice(1):I),f.current=M},[m]);return _.useImperativeHandle(n,()=>({pulsate:E,start:S,stop:T}),[E,S,T]),x.jsx(TCe,{className:Ke(zs.root,i.root,s),ref:b,...a,children:x.jsx(sO,{component:null,exit:!0,children:c})})});function RCe(e){return Xt("MuiButtonBase",e)}const F3=Kt("MuiButtonBase",["root","disabled","focusVisible"]),ICe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,s=ht({root:["root",t&&"disabled",n&&"focusVisible"]},RCe,o);return n&&r&&(s.root+=` ${r}`),s},PCe=we("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${F3.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ll=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:g=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:b,onClick:v,onContextMenu:S,onDragLeave:E,onFocus:T,onFocusVisible:R,onKeyDown:M,onKeyUp:I,onMouseDown:N,onMouseLeave:P,onMouseUp:L,onTouchEnd:D,onTouchMove:$,onTouchStart:B,tabIndex:U=0,TouchRippleProps:q,touchRippleRef:W,type:V,...Y}=r,J=_.useRef(null),ne=bCe(),z=Tn(ne.ref,W),[K,Z]=_.useState(!1);u&&K&&Z(!1),_.useImperativeHandle(o,()=>({focusVisible:()=>{Z(!0),J.current.focus()}}),[]);const le=ne.shouldMount&&!h&&!u;_.useEffect(()=>{K&&g&&!h&&ne.pulsate()},[h,g,K,ne]);const ce=Yl(ne,"start",N,f),ue=Yl(ne,"stop",S,f),ae=Yl(ne,"stop",E,f),ye=Yl(ne,"stop",L,f),Me=Yl(ne,"stop",$e=>{K&&$e.preventDefault(),P&&P($e)},f),xe=Yl(ne,"start",B,f),he=Yl(ne,"stop",D,f),pe=Yl(ne,"stop",$,f),Se=Yl(ne,"stop",$e=>{tw($e.target)||Z(!1),b&&b($e)},!1),Ee=$t($e=>{J.current||(J.current=$e.currentTarget),tw($e.target)&&(Z(!0),R&&R($e)),T&&T($e)}),ke=()=>{const $e=J.current;return c&&c!=="button"&&!($e.tagName==="A"&&$e.href)},Te=$t($e=>{g&&!$e.repeat&&K&&$e.key===" "&&ne.stop($e,()=>{ne.start($e)}),$e.target===$e.currentTarget&&ke()&&$e.key===" "&&$e.preventDefault(),M&&M($e),$e.target===$e.currentTarget&&ke()&&$e.key==="Enter"&&!u&&($e.preventDefault(),v&&v($e))}),Ve=$t($e=>{g&&$e.key===" "&&K&&!$e.defaultPrevented&&ne.stop($e,()=>{ne.pulsate($e)}),I&&I($e),v&&$e.target===$e.currentTarget&&ke()&&$e.key===" "&&!$e.defaultPrevented&&v($e)});let rt=c;rt==="button"&&(Y.href||Y.to)&&(rt=y);const je={};rt==="button"?(je.type=V===void 0?"button":V,je.disabled=u):(!Y.href&&!Y.to&&(je.role="button"),u&&(je["aria-disabled"]=u));const Rt=Tn(n,J),dt={...r,centerRipple:i,component:c,disabled:u,disableRipple:h,disableTouchRipple:f,focusRipple:g,tabIndex:U,focusVisible:K},Ct=ICe(dt);return x.jsxs(PCe,{as:rt,className:Ke(Ct.root,a),ownerState:dt,onBlur:Se,onClick:v,onContextMenu:ue,onFocus:Ee,onKeyDown:Te,onKeyUp:Ve,onMouseDown:ce,onMouseLeave:Me,onMouseUp:ye,onDragLeave:ae,onTouchEnd:he,onTouchMove:pe,onTouchStart:xe,ref:Rt,tabIndex:u?-1:U,type:V,...je,...Y,children:[s,le?x.jsx(OCe,{ref:z,center:i,...q}):null]})});function Yl(e,t,n,r=!1){return $t(o=>(n&&n(o),r||e[t](o),!0))}function kCe(e){return typeof e.main=="string"}function DCe(e,t=[]){if(!kCe(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Yr(e=[]){return([,t])=>t&&DCe(t,e)}function ACe(e){return Xt("MuiCircularProgress",e)}Kt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Yc=44,uO=Bs`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,dO=Bs`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,LCe=typeof uO!="string"?Hc`
        animation: ${uO} 1.4s linear infinite;
      `:null,NCe=typeof dO!="string"?Hc`
        animation: ${dO} 1.4s ease-in-out infinite;
      `:null,BCe=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${We(r)}`],svg:["svg"],circle:["circle",`circle${We(n)}`,o&&"circleDisableShrink"]};return ht(i,ACe,t)},FCe=we("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${We(n.color)}`]]}})(Ht(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:LCe||{animation:`${uO} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),jCe=we("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),VCe=we("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${We(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Ht(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:NCe||{animation:`${dO} 1.4s ease-in-out infinite`}}]}))),of=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,size:a=40,style:c,thickness:u=3.6,value:h=0,variant:f="indeterminate",...g}=r,m={...r,color:i,disableShrink:s,size:a,thickness:u,value:h,variant:f},y=BCe(m),b={},v={},S={};if(f==="determinate"){const E=2*Math.PI*((Yc-u)/2);b.strokeDasharray=E.toFixed(3),S["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*E).toFixed(3)}px`,v.transform="rotate(-90deg)"}return x.jsx(FCe,{className:Ke(y.root,o),style:{width:a,height:a,...v,...c},ownerState:m,ref:n,role:"progressbar",...S,...g,children:x.jsx(jCe,{className:y.svg,ownerState:m,viewBox:`${Yc/2} ${Yc/2} ${Yc} ${Yc}`,children:x.jsx(VCe,{className:y.circle,style:b,ownerState:m,cx:Yc,cy:Yc,r:(Yc-u)/2,fill:"none",strokeWidth:u})})})});function $Ce(e){return Xt("MuiIconButton",e)}const hO=Kt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),zCe=e=>{const{classes:t,disabled:n,color:r,edge:o,size:i,loading:s}=e,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${We(r)}`,o&&`edge${We(o)}`,`size${We(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ht(a,$Ce,t)},UCe=we(ll,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${We(n.color)}`],n.edge&&t[`edge${We(n.edge)}`],t[`size${We(n.size)}`]]}})(Ht(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ht(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${hO.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${hO.loading}`]:{color:"transparent"}}))),HCe=we("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),wn=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiIconButton"}),{edge:o=!1,children:i,className:s,color:a="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium",id:f,loading:g=null,loadingIndicator:m,...y}=r,b=Dn(f),v=m??x.jsx(of,{"aria-labelledby":b,color:"inherit",size:16}),S={...r,edge:o,color:a,disabled:c,disableFocusRipple:u,loading:g,loadingIndicator:v,size:h},E=zCe(S);return x.jsxs(UCe,{id:g?b:f,className:Ke(E.root,s),centerRipple:!0,focusRipple:!u,disabled:c||g,ref:n,...y,ownerState:S,children:[typeof g=="boolean"&&x.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:x.jsx(HCe,{className:E.loadingIndicator,ownerState:S,children:g&&v})}),i]})}),GCe=xt(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function WCe(e){return Xt("MuiTypography",e)}const j3=Kt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),KCe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},qCe=JSe(),YCe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,e.align!=="inherit"&&`align${We(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return ht(a,WCe,s)},XCe=we("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${We(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Ht(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${We(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),V3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mo=_.forwardRef(function(t,n){const{color:r,...o}=sn({props:t,name:"MuiTypography"}),i=!KCe[r],s=qCe({...o,...i&&{color:r}}),{align:a="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:f=!1,paragraph:g=!1,variant:m="body1",variantMapping:y=V3,...b}=s,v={...s,align:a,color:r,className:c,component:u,gutterBottom:h,noWrap:f,paragraph:g,variant:m,variantMapping:y},S=u||(g?"p":y[m]||V3[m])||"span",E=YCe(v);return x.jsx(XCe,{as:S,ref:n,className:Ke(E.root,c),...b,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})});function ZCe(e){return Xt("MuiAppBar",e)}Kt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const JCe=e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${We(t)}`,`position${We(n)}`]};return ht(o,ZCe,r)},$3=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,QCe=we(Rd,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${We(n.position)}`],t[`color${We(n.color)}`]]}})(Ht(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Yr(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?$3(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?$3(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),e0e=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiAppBar"}),{className:o,color:i="primary",enableColorOnDark:s=!1,position:a="fixed",...c}=r,u={...r,color:i,position:a,enableColorOnDark:s},h=JCe(u);return x.jsx(QCe,{square:!0,component:"header",ownerState:u,elevation:4,className:Ke(h.root,o,a==="fixed"&&"mui-fixed"),ref:n,...c})}),fO=e=>{const t=_.useRef({});return _.useEffect(()=>{t.current=e}),t.current};function z3({array1:e,array2:t,parser:n=r=>r}){return e&&t&&e.length===t.length&&e.every((r,o)=>n(r)===n(t[o]))}function U3(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function t0e(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:s=!1}=e;return(a,{inputValue:c,getOptionLabel:u})=>{let h=s?c.trim():c;n&&(h=h.toLowerCase()),t&&(h=U3(h));const f=h?a.filter(g=>{let m=(i||u)(g);return n&&(m=m.toLowerCase()),t&&(m=U3(m)),o==="start"?m.startsWith(h):m.includes(h)}):a;return typeof r=="number"?f.slice(0,r):f}}const n0e=t0e(),H3=5,r0e=e=>e.current!==null&&e.current.parentElement?.contains(document.activeElement),o0e=[];function G3(e,t,n,r){if(t||e==null||r)return"";const o=n(e);return typeof o=="string"?o:""}function i0e(e){const{unstable_isActiveElementInListbox:t=r0e,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:c=!1,componentName:u="useAutocomplete",defaultValue:h=e.multiple?o0e:null,disableClearable:f=!1,disableCloseOnSelect:g=!1,disabled:m,disabledItemsFocusable:y=!1,disableListWrap:b=!1,filterOptions:v=n0e,filterSelectedOptions:S=!1,freeSolo:E=!1,getOptionDisabled:T,getOptionKey:R,getOptionLabel:M=Xe=>Xe.label??Xe,groupBy:I,handleHomeEndKeys:N=!e.freeSolo,id:P,includeInputInList:L=!1,inputValue:D,isOptionEqualToValue:$=(Xe,Ze)=>Xe===Ze,multiple:B=!1,onChange:U,onClose:q,onHighlightChange:W,onInputChange:V,onOpen:Y,open:J,openOnFocus:ne=!1,options:z,readOnly:K=!1,renderValue:Z,selectOnFocus:le=!e.freeSolo,value:ce}=e,ue=Dn(P);let ae=M;ae=Xe=>{const Ze=M(Xe);return typeof Ze!="string"?String(Ze):Ze};const ye=_.useRef(!1),Me=_.useRef(!0),xe=_.useRef(null),he=_.useRef(null),[pe,Se]=_.useState(null),[Ee,ke]=_.useState(-1),Te=o?0:-1,Ve=_.useRef(Te),rt=_.useRef(G3(h??ce,B,ae)).current,[je,Rt]=Ed({controlled:ce,default:h,name:u}),[dt,Ct]=Ed({controlled:D,default:rt,name:u,state:"inputValue"}),[$e,It]=_.useState(!1),mt=_.useCallback((Xe,Ze,st)=>{if(!(B?je.length<Ze.length:Ze!==null)&&!a)return;const un=G3(Ze,B,ae,Z);dt!==un&&(Ct(un),V&&V(Xe,un,st))},[ae,dt,B,V,Ct,a,je,Z]),[Bt,zt]=Ed({controlled:J,default:!1,name:u,state:"open"}),[qt,tn]=_.useState(!0),gt=!B&&je!=null&&dt===ae(je),_t=Bt&&!K,Ge=_t?v(z.filter(Xe=>!(S&&(B?je:[je]).some(Ze=>Ze!==null&&$(Xe,Ze)))),{inputValue:gt&&qt?"":dt,getOptionLabel:ae}):[],ct=fO({filteredOptions:Ge,value:je,inputValue:dt});_.useEffect(()=>{const Xe=je!==ct.value;$e&&!Xe||E&&!Xe||mt(null,je,"reset")},[je,mt,$e,ct.value,E]);const ut=Bt&&Ge.length>0&&!K,St=$t(Xe=>{if(Xe===-1)xe.current.focus();else{const Ze=Z?"data-item-index":"data-tag-index";pe.querySelector(`[${Ze}="${Xe}"]`).focus()}});_.useEffect(()=>{B&&Ee>je.length-1&&(ke(-1),St(-1))},[je,B,Ee,St]);function at(Xe,Ze){if(!he.current||Xe<0||Xe>=Ge.length)return-1;let st=Xe;for(;;){const Jt=he.current.querySelector(`[data-option-index="${st}"]`),un=y?!1:!Jt||Jt.disabled||Jt.getAttribute("aria-disabled")==="true";if(Jt&&Jt.hasAttribute("tabindex")&&!un)return st;if(Ze==="next"?st=(st+1)%Ge.length:st=(st-1+Ge.length)%Ge.length,st===Xe)return-1}}const At=$t(({event:Xe,index:Ze,reason:st})=>{if(Ve.current=Ze,Ze===-1?xe.current.removeAttribute("aria-activedescendant"):xe.current.setAttribute("aria-activedescendant",`${ue}-option-${Ze}`),W&&["mouse","keyboard","touch"].includes(st)&&W(Xe,Ze===-1?null:Ge[Ze],st),!he.current)return;const Jt=he.current.querySelector(`[role="option"].${n}-focused`);Jt&&(Jt.classList.remove(`${n}-focused`),Jt.classList.remove(`${n}-focusVisible`));let un=he.current;if(he.current.getAttribute("role")!=="listbox"&&(un=he.current.parentElement.querySelector('[role="listbox"]')),!un)return;if(Ze===-1){un.scrollTop=0;return}const gr=he.current.querySelector(`[data-option-index="${Ze}"]`);if(gr&&(gr.classList.add(`${n}-focused`),st==="keyboard"&&gr.classList.add(`${n}-focusVisible`),un.scrollHeight>un.clientHeight&&st!=="mouse"&&st!=="touch")){const Xn=gr,Ur=un.clientHeight+un.scrollTop,Ii=Xn.offsetTop+Xn.offsetHeight;Ii>Ur?un.scrollTop=Ii-un.clientHeight:Xn.offsetTop-Xn.offsetHeight*(I?1.3:0)<un.scrollTop&&(un.scrollTop=Xn.offsetTop-Xn.offsetHeight*(I?1.3:0))}}),ft=$t(({event:Xe,diff:Ze,direction:st="next",reason:Jt})=>{if(!_t)return;const gr=at((()=>{const Xn=Ge.length-1;if(Ze==="reset")return Te;if(Ze==="start")return 0;if(Ze==="end")return Xn;const Ur=Ve.current+Ze;return Ur<0?Ur===-1&&L?-1:b&&Ve.current!==-1||Math.abs(Ze)>1?0:Xn:Ur>Xn?Ur===Xn+1&&L?-1:b||Math.abs(Ze)>1?Xn:0:Ur})(),st);if(At({index:gr,reason:Jt,event:Xe}),r&&Ze!=="reset")if(gr===-1)xe.current.value=dt;else{const Xn=ae(Ge[gr]);xe.current.value=Xn,Xn.toLowerCase().indexOf(dt.toLowerCase())===0&&dt.length>0&&xe.current.setSelectionRange(dt.length,Xn.length)}}),Pt=!z3({array1:ct.filteredOptions,array2:Ge,parser:ae}),Pn=()=>{const Xe=(Ze,st)=>{const Jt=Ze?ae(Ze):"",un=st?ae(st):"";return Jt===un};if(Ve.current!==-1&&!z3({array1:ct.filteredOptions,array2:Ge,parser:ae})&&ct.inputValue===dt&&(B?je.length===ct.value.length&&ct.value.every((Ze,st)=>ae(je[st])===ae(Ze)):Xe(ct.value,je))){const Ze=ct.filteredOptions[Ve.current];if(Ze)return Ge.findIndex(st=>ae(st)===ae(Ze))}return-1},An=_.useCallback(()=>{if(!_t)return;const Xe=Pn();if(Xe!==-1){Ve.current=Xe;return}const Ze=B?je[0]:je;if(Ge.length===0||Ze==null){ft({diff:"reset"});return}if(he.current){if(Ze!=null){const st=Ge[Ve.current];if(B&&st&&je.findIndex(un=>$(st,un))!==-1)return;const Jt=Ge.findIndex(un=>$(un,Ze));Jt===-1?ft({diff:"reset"}):At({index:Jt});return}if(Ve.current>=Ge.length-1){At({index:Ge.length-1});return}At({index:Ve.current})}},[Ge.length,B?!1:je,S,ft,At,_t,dt,B]),cr=$t(Xe=>{nO(he,Xe),Xe&&An()});_.useEffect(()=>{Pt&&An()},[An,Pt]);const _n=Xe=>{Bt||(zt(!0),tn(!0),Y&&Y(Xe))},Er=(Xe,Ze)=>{Bt&&(zt(!1),q&&q(Xe,Ze))},Yn=(Xe,Ze,st,Jt)=>{if(B){if(je.length===Ze.length&&je.every((un,gr)=>un===Ze[gr]))return}else if(je===Ze)return;U&&U(Xe,Ze,st,Jt),Rt(Ze)},Nr=_.useRef(!1),Br=(Xe,Ze,st="selectOption",Jt="options")=>{let un=st,gr=Ze;if(B){gr=Array.isArray(je)?je.slice():[];const Xn=gr.findIndex(Ur=>$(Ze,Ur));Xn===-1?gr.push(Ze):Jt!=="freeSolo"&&(gr.splice(Xn,1),un="removeOption")}mt(Xe,gr,un),Yn(Xe,gr,un,{option:Ze}),!g&&(!Xe||!Xe.ctrlKey&&!Xe.metaKey)&&Er(Xe,un),(s===!0||s==="touch"&&Nr.current||s==="mouse"&&!Nr.current)&&xe.current.blur()};function an(Xe,Ze){if(Xe===-1)return-1;let st=Xe;for(;;){if(Ze==="next"&&st===je.length||Ze==="previous"&&st===-1)return-1;const Jt=Z?"data-item-index":"data-tag-index",un=pe.querySelector(`[${Jt}="${st}"]`);if(!un||!un.hasAttribute("tabindex")||un.disabled||un.getAttribute("aria-disabled")==="true")st+=Ze==="next"?1:-1;else return st}}const Ln=(Xe,Ze)=>{if(!B)return;dt===""&&Er(Xe,"toggleInput");let st=Ee;Ee===-1?dt===""&&Ze==="previous"&&(st=je.length-1):(st+=Ze==="next"?1:-1,st<0&&(st=0),st===je.length&&(st=-1)),st=an(st,Ze),ke(st),St(st)},Lt=Xe=>{ye.current=!0,Ct(""),V&&V(Xe,"","clear"),Yn(Xe,B?[]:null,"clear")},Ft=Xe=>Ze=>{if(Xe.onKeyDown&&Xe.onKeyDown(Ze),!Ze.defaultMuiPrevented&&(Ee!==-1&&!["ArrowLeft","ArrowRight"].includes(Ze.key)&&(ke(-1),St(-1)),Ze.which!==229))switch(Ze.key){case"Home":_t&&N&&(Ze.preventDefault(),ft({diff:"start",direction:"next",reason:"keyboard",event:Ze}));break;case"End":_t&&N&&(Ze.preventDefault(),ft({diff:"end",direction:"previous",reason:"keyboard",event:Ze}));break;case"PageUp":Ze.preventDefault(),ft({diff:-H3,direction:"previous",reason:"keyboard",event:Ze}),_n(Ze);break;case"PageDown":Ze.preventDefault(),ft({diff:H3,direction:"next",reason:"keyboard",event:Ze}),_n(Ze);break;case"ArrowDown":Ze.preventDefault(),ft({diff:1,direction:"next",reason:"keyboard",event:Ze}),_n(Ze);break;case"ArrowUp":Ze.preventDefault(),ft({diff:-1,direction:"previous",reason:"keyboard",event:Ze}),_n(Ze);break;case"ArrowLeft":!B&&Z?St(0):Ln(Ze,"previous");break;case"ArrowRight":!B&&Z?St(-1):Ln(Ze,"next");break;case"Enter":if(Ve.current!==-1&&_t){const st=Ge[Ve.current],Jt=T?T(st):!1;if(Ze.preventDefault(),Jt)return;Br(Ze,st,"selectOption"),r&&xe.current.setSelectionRange(xe.current.value.length,xe.current.value.length)}else E&&dt!==""&&gt===!1&&(B&&Ze.preventDefault(),Br(Ze,dt,"createOption","freeSolo"));break;case"Escape":_t?(Ze.preventDefault(),Ze.stopPropagation(),Er(Ze,"escape")):c&&(dt!==""||B&&je.length>0||Z)&&(Ze.preventDefault(),Ze.stopPropagation(),Lt(Ze));break;case"Backspace":if(B&&!K&&dt===""&&je.length>0){const st=Ee===-1?je.length-1:Ee,Jt=je.slice();Jt.splice(st,1),Yn(Ze,Jt,"removeOption",{option:je[st]})}!B&&Z&&!K&&(Rt(null),St(-1));break;case"Delete":if(B&&!K&&dt===""&&je.length>0&&Ee!==-1){const st=Ee,Jt=je.slice();Jt.splice(st,1),Yn(Ze,Jt,"removeOption",{option:je[st]})}!B&&Z&&!K&&(Rt(null),St(-1));break}},rn=Xe=>{It(!0),ne&&!ye.current&&_n(Xe)},nn=Xe=>{if(t(he)){xe.current.focus();return}It(!1),Me.current=!0,ye.current=!1,i&&Ve.current!==-1&&_t?Br(Xe,Ge[Ve.current],"blur"):i&&E&&dt!==""?Br(Xe,dt,"blur","freeSolo"):a&&mt(Xe,je,"blur"),Er(Xe,"blur")},Rn=Xe=>{const Ze=Xe.target.value;dt!==Ze&&(Ct(Ze),tn(!1),V&&V(Xe,Ze,"input")),Ze===""?!f&&!B&&Yn(Xe,null,"clear"):_n(Xe)},uo=Xe=>{const Ze=Number(Xe.currentTarget.getAttribute("data-option-index"));Ve.current!==Ze&&At({event:Xe,index:Ze,reason:"mouse"})},Bo=Xe=>{At({event:Xe,index:Number(Xe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Nr.current=!0},ni=Xe=>{const Ze=Number(Xe.currentTarget.getAttribute("data-option-index"));Br(Xe,Ge[Ze],"selectOption"),Nr.current=!1},Oi=Xe=>Ze=>{const st=je.slice();st.splice(Xe,1),Yn(Ze,st,"removeOption",{option:je[Xe]})},zr=Xe=>{Yn(Xe,null,"removeOption",{option:je})},kr=Xe=>{Bt?Er(Xe,"toggleInput"):_n(Xe)},pr=Xe=>{Xe.currentTarget.contains(Xe.target)&&Xe.target.getAttribute("id")!==ue&&Xe.preventDefault()},bo=Xe=>{Xe.currentTarget.contains(Xe.target)&&(xe.current.focus(),le&&Me.current&&xe.current.selectionEnd-xe.current.selectionStart===0&&xe.current.select(),Me.current=!1)},Ri=Xe=>{!m&&(dt===""||!Bt)&&kr(Xe)};let Tr=E&&dt.length>0;Tr=Tr||(B?je.length>0:je!==null);let on=Ge;return I&&(on=Ge.reduce((Xe,Ze,st)=>{const Jt=I(Ze);return Xe.length>0&&Xe[Xe.length-1].group===Jt?Xe[Xe.length-1].options.push(Ze):Xe.push({key:st,index:st,group:Jt,options:[Ze]}),Xe},[])),m&&$e&&nn(),{getRootProps:(Xe={})=>({...Xe,onKeyDown:Ft(Xe),onMouseDown:pr,onClick:bo}),getInputLabelProps:()=>({id:`${ue}-label`,htmlFor:ue}),getInputProps:()=>({id:ue,value:dt,onBlur:nn,onFocus:rn,onChange:Rn,onMouseDown:Ri,"aria-activedescendant":_t?"":null,"aria-autocomplete":r?"both":"list","aria-controls":ut?`${ue}-listbox`:void 0,"aria-expanded":ut,autoComplete:"off",ref:xe,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Lt}),getItemProps:({index:Xe=0}={})=>({...B&&{key:Xe},...Z?{"data-item-index":Xe}:{"data-tag-index":Xe},tabIndex:-1,...!K&&{onDelete:B?Oi(Xe):zr}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:kr}),getTagProps:({index:Xe})=>({key:Xe,"data-tag-index":Xe,tabIndex:-1,...!K&&{onDelete:Oi(Xe)}}),getListboxProps:()=>({role:"listbox",id:`${ue}-listbox`,"aria-labelledby":`${ue}-label`,ref:cr,onMouseDown:Xe=>{Xe.preventDefault()}}),getOptionProps:({index:Xe,option:Ze})=>{const st=(B?je:[je]).some(un=>un!=null&&$(Ze,un)),Jt=T?T(Ze):!1;return{key:R?.(Ze)??ae(Ze),tabIndex:-1,role:"option",id:`${ue}-option-${Xe}`,onMouseMove:uo,onClick:ni,onTouchStart:Bo,"data-option-index":Xe,"aria-disabled":Jt,"aria-selected":st}},id:ue,inputValue:dt,value:je,dirty:Tr,expanded:_t&&pe,popupOpen:_t,focused:$e||Ee!==-1,anchorEl:pe,setAnchorEl:Se,focusedItem:Ee,focusedTag:Ee,groupedOptions:on}}var ji="top",Us="bottom",Hs="right",Vi="left",pO="auto",jg=[ji,Us,Hs,Vi],sf="start",Vg="end",s0e="clippingParents",W3="viewport",$g="popper",a0e="reference",K3=jg.reduce(function(e,t){return e.concat([t+"-"+sf,t+"-"+Vg])},[]),q3=[].concat(jg,[pO]).reduce(function(e,t){return e.concat([t,t+"-"+sf,t+"-"+Vg])},[]),l0e="beforeRead",c0e="read",u0e="afterRead",d0e="beforeMain",h0e="main",f0e="afterMain",p0e="beforeWrite",g0e="write",m0e="afterWrite",v0e=[l0e,c0e,u0e,d0e,h0e,f0e,p0e,g0e,m0e];function cl(e){return e?(e.nodeName||"").toLowerCase():null}function as(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Id(e){var t=as(e).Element;return e instanceof t||e instanceof Element}function Gs(e){var t=as(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function gO(e){if(typeof ShadowRoot>"u")return!1;var t=as(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function y0e(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Gs(i)||!cl(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function b0e(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!Gs(o)||!cl(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const w0e={name:"applyStyles",enabled:!0,phase:"write",fn:y0e,effect:b0e,requires:["computeStyles"]};function ul(e){return e.split("-")[0]}var Pd=Math.max,rw=Math.min,af=Math.round;function mO(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Y3(){return!/^((?!chrome|android).)*safari/i.test(mO())}function lf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Gs(e)&&(o=e.offsetWidth>0&&af(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&af(r.height)/e.offsetHeight||1);var s=Id(e)?as(e):window,a=s.visualViewport,c=!Y3()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/o,h=(r.top+(c&&a?a.offsetTop:0))/i,f=r.width/o,g=r.height/i;return{width:f,height:g,top:h,right:u+f,bottom:h+g,left:u,x:u,y:h}}function vO(e){var t=lf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function X3(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xl(e){return as(e).getComputedStyle(e)}function S0e(e){return["table","td","th"].indexOf(cl(e))>=0}function Xc(e){return((Id(e)?e.ownerDocument:e.document)||window.document).documentElement}function ow(e){return cl(e)==="html"?e:e.assignedSlot||e.parentNode||(gO(e)?e.host:null)||Xc(e)}function Z3(e){return!Gs(e)||Xl(e).position==="fixed"?null:e.offsetParent}function C0e(e){var t=/firefox/i.test(mO()),n=/Trident/i.test(mO());if(n&&Gs(e)){var r=Xl(e);if(r.position==="fixed")return null}var o=ow(e);for(gO(o)&&(o=o.host);Gs(o)&&["html","body"].indexOf(cl(o))<0;){var i=Xl(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function zg(e){for(var t=as(e),n=Z3(e);n&&S0e(n)&&Xl(n).position==="static";)n=Z3(n);return n&&(cl(n)==="html"||cl(n)==="body"&&Xl(n).position==="static")?t:n||C0e(e)||t}function yO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ug(e,t,n){return Pd(e,rw(t,n))}function x0e(e,t,n){var r=Ug(e,t,n);return r>n?n:r}function J3(){return{top:0,right:0,bottom:0,left:0}}function Q3(e){return Object.assign({},J3(),e)}function eU(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var _0e=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Q3(typeof t!="number"?t:eU(t,jg))};function E0e(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ul(n.placement),c=yO(a),u=[Vi,Hs].indexOf(a)>=0,h=u?"height":"width";if(!(!i||!s)){var f=_0e(o.padding,n),g=vO(i),m=c==="y"?ji:Vi,y=c==="y"?Us:Hs,b=n.rects.reference[h]+n.rects.reference[c]-s[c]-n.rects.popper[h],v=s[c]-n.rects.reference[c],S=zg(i),E=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,T=b/2-v/2,R=f[m],M=E-g[h]-f[y],I=E/2-g[h]/2+T,N=Ug(R,I,M),P=c;n.modifiersData[r]=(t={},t[P]=N,t.centerOffset=N-I,t)}}function T0e(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||X3(t.elements.popper,o)&&(t.elements.arrow=o))}const M0e={name:"arrow",enabled:!0,phase:"main",fn:E0e,effect:T0e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cf(e){return e.split("-")[1]}var O0e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R0e(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:af(n*o)/o||0,y:af(r*o)/o||0}}function tU(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,f=e.isFixed,g=s.x,m=g===void 0?0:g,y=s.y,b=y===void 0?0:y,v=typeof h=="function"?h({x:m,y:b}):{x:m,y:b};m=v.x,b=v.y;var S=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),T=Vi,R=ji,M=window;if(u){var I=zg(n),N="clientHeight",P="clientWidth";if(I===as(n)&&(I=Xc(n),Xl(I).position!=="static"&&a==="absolute"&&(N="scrollHeight",P="scrollWidth")),I=I,o===ji||(o===Vi||o===Hs)&&i===Vg){R=Us;var L=f&&I===M&&M.visualViewport?M.visualViewport.height:I[N];b-=L-r.height,b*=c?1:-1}if(o===Vi||(o===ji||o===Us)&&i===Vg){T=Hs;var D=f&&I===M&&M.visualViewport?M.visualViewport.width:I[P];m-=D-r.width,m*=c?1:-1}}var $=Object.assign({position:a},u&&O0e),B=h===!0?R0e({x:m,y:b},as(n)):{x:m,y:b};if(m=B.x,b=B.y,c){var U;return Object.assign({},$,(U={},U[R]=E?"0":"",U[T]=S?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",U))}return Object.assign({},$,(t={},t[R]=E?b+"px":"",t[T]=S?m+"px":"",t.transform="",t))}function I0e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:ul(t.placement),variation:cf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,tU(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,tU(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const P0e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:I0e,data:{}};var iw={passive:!0};function k0e(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,c=as(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(h){h.addEventListener("scroll",n.update,iw)}),a&&c.addEventListener("resize",n.update,iw),function(){i&&u.forEach(function(h){h.removeEventListener("scroll",n.update,iw)}),a&&c.removeEventListener("resize",n.update,iw)}}const D0e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:k0e,data:{}};var A0e={left:"right",right:"left",bottom:"top",top:"bottom"};function sw(e){return e.replace(/left|right|bottom|top/g,function(t){return A0e[t]})}var L0e={start:"end",end:"start"};function nU(e){return e.replace(/start|end/g,function(t){return L0e[t]})}function bO(e){var t=as(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function wO(e){return lf(Xc(e)).left+bO(e).scrollLeft}function N0e(e,t){var n=as(e),r=Xc(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;var u=Y3();(u||!u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a+wO(e),y:c}}function B0e(e){var t,n=Xc(e),r=bO(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Pd(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Pd(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+wO(e),c=-r.scrollTop;return Xl(o||n).direction==="rtl"&&(a+=Pd(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}function SO(e){var t=Xl(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function rU(e){return["html","body","#document"].indexOf(cl(e))>=0?e.ownerDocument.body:Gs(e)&&SO(e)?e:rU(ow(e))}function Hg(e,t){var n;t===void 0&&(t=[]);var r=rU(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=as(r),s=o?[i].concat(i.visualViewport||[],SO(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(Hg(ow(s)))}function CO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function F0e(e,t){var n=lf(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function oU(e,t,n){return t===W3?CO(N0e(e,n)):Id(t)?F0e(t,n):CO(B0e(Xc(e)))}function j0e(e){var t=Hg(ow(e)),n=["absolute","fixed"].indexOf(Xl(e).position)>=0,r=n&&Gs(e)?zg(e):e;return Id(r)?t.filter(function(o){return Id(o)&&X3(o,r)&&cl(o)!=="body"}):[]}function V0e(e,t,n,r){var o=t==="clippingParents"?j0e(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(c,u){var h=oU(e,u,r);return c.top=Pd(h.top,c.top),c.right=rw(h.right,c.right),c.bottom=rw(h.bottom,c.bottom),c.left=Pd(h.left,c.left),c},oU(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function iU(e){var t=e.reference,n=e.element,r=e.placement,o=r?ul(r):null,i=r?cf(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(o){case ji:c={x:s,y:t.y-n.height};break;case Us:c={x:s,y:t.y+t.height};break;case Hs:c={x:t.x+t.width,y:a};break;case Vi:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var u=o?yO(o):null;if(u!=null){var h=u==="y"?"height":"width";switch(i){case sf:c[u]=c[u]-(t[h]/2-n[h]/2);break;case Vg:c[u]=c[u]+(t[h]/2-n[h]/2);break}}return c}function Gg(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,a=n.boundary,c=a===void 0?s0e:a,u=n.rootBoundary,h=u===void 0?W3:u,f=n.elementContext,g=f===void 0?$g:f,m=n.altBoundary,y=m===void 0?!1:m,b=n.padding,v=b===void 0?0:b,S=Q3(typeof v!="number"?v:eU(v,jg)),E=g===$g?a0e:$g,T=e.rects.popper,R=e.elements[y?E:g],M=V0e(Id(R)?R:R.contextElement||Xc(e.elements.popper),c,h,s),I=lf(e.elements.reference),N=iU({reference:I,element:T,placement:o}),P=CO(Object.assign({},T,N)),L=g===$g?P:I,D={top:M.top-L.top+S.top,bottom:L.bottom-M.bottom+S.bottom,left:M.left-L.left+S.left,right:L.right-M.right+S.right},$=e.modifiersData.offset;if(g===$g&&$){var B=$[o];Object.keys(D).forEach(function(U){var q=[Hs,Us].indexOf(U)>=0?1:-1,W=[ji,Us].indexOf(U)>=0?"y":"x";D[U]+=B[W]*q})}return D}function $0e(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?q3:c,h=cf(r),f=h?a?K3:K3.filter(function(y){return cf(y)===h}):jg,g=f.filter(function(y){return u.indexOf(y)>=0});g.length===0&&(g=f);var m=g.reduce(function(y,b){return y[b]=Gg(e,{placement:b,boundary:o,rootBoundary:i,padding:s})[ul(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function z0e(e){if(ul(e)===pO)return[];var t=sw(e);return[nU(e),t,nU(t)]}function U0e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,g=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,b=n.allowedAutoPlacements,v=t.options.placement,S=ul(v),E=S===v,T=c||(E||!y?[sw(v)]:z0e(v)),R=[v].concat(T).reduce(function(ce,ue){return ce.concat(ul(ue)===pO?$0e(t,{placement:ue,boundary:h,rootBoundary:f,padding:u,flipVariations:y,allowedAutoPlacements:b}):ue)},[]),M=t.rects.reference,I=t.rects.popper,N=new Map,P=!0,L=R[0],D=0;D<R.length;D++){var $=R[D],B=ul($),U=cf($)===sf,q=[ji,Us].indexOf(B)>=0,W=q?"width":"height",V=Gg(t,{placement:$,boundary:h,rootBoundary:f,altBoundary:g,padding:u}),Y=q?U?Hs:Vi:U?Us:ji;M[W]>I[W]&&(Y=sw(Y));var J=sw(Y),ne=[];if(i&&ne.push(V[B]<=0),a&&ne.push(V[Y]<=0,V[J]<=0),ne.every(function(ce){return ce})){L=$,P=!1;break}N.set($,ne)}if(P)for(var z=y?3:1,K=function(ue){var ae=R.find(function(ye){var Me=N.get(ye);if(Me)return Me.slice(0,ue).every(function(xe){return xe})});if(ae)return L=ae,"break"},Z=z;Z>0;Z--){var le=K(Z);if(le==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const H0e={name:"flip",enabled:!0,phase:"main",fn:U0e,requiresIfExists:["offset"],data:{_skip:!1}};function sU(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function aU(e){return[ji,Hs,Us,Vi].some(function(t){return e[t]>=0})}function G0e(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Gg(t,{elementContext:"reference"}),a=Gg(t,{altBoundary:!0}),c=sU(s,r),u=sU(a,o,i),h=aU(c),f=aU(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const W0e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:G0e};function K0e(e,t,n){var r=ul(e),o=[Vi,ji].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[Vi,Hs].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function q0e(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,s=q3.reduce(function(h,f){return h[f]=K0e(f,t.rects,i),h},{}),a=s[t.placement],c=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}const Y0e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:q0e};function X0e(e){var t=e.state,n=e.name;t.modifiersData[n]=iU({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Z0e={name:"popperOffsets",enabled:!0,phase:"read",fn:X0e,data:{}};function J0e(e){return e==="x"?"y":"x"}function Q0e(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,g=n.tether,m=g===void 0?!0:g,y=n.tetherOffset,b=y===void 0?0:y,v=Gg(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:h}),S=ul(t.placement),E=cf(t.placement),T=!E,R=yO(S),M=J0e(R),I=t.modifiersData.popperOffsets,N=t.rects.reference,P=t.rects.popper,L=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,D=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(I){if(i){var U,q=R==="y"?ji:Vi,W=R==="y"?Us:Hs,V=R==="y"?"height":"width",Y=I[R],J=Y+v[q],ne=Y-v[W],z=m?-P[V]/2:0,K=E===sf?N[V]:P[V],Z=E===sf?-P[V]:-N[V],le=t.elements.arrow,ce=m&&le?vO(le):{width:0,height:0},ue=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:J3(),ae=ue[q],ye=ue[W],Me=Ug(0,N[V],ce[V]),xe=T?N[V]/2-z-Me-ae-D.mainAxis:K-Me-ae-D.mainAxis,he=T?-N[V]/2+z+Me+ye+D.mainAxis:Z+Me+ye+D.mainAxis,pe=t.elements.arrow&&zg(t.elements.arrow),Se=pe?R==="y"?pe.clientTop||0:pe.clientLeft||0:0,Ee=(U=$?.[R])!=null?U:0,ke=Y+xe-Ee-Se,Te=Y+he-Ee,Ve=Ug(m?rw(J,ke):J,Y,m?Pd(ne,Te):ne);I[R]=Ve,B[R]=Ve-Y}if(a){var rt,je=R==="x"?ji:Vi,Rt=R==="x"?Us:Hs,dt=I[M],Ct=M==="y"?"height":"width",$e=dt+v[je],It=dt-v[Rt],mt=[ji,Vi].indexOf(S)!==-1,Bt=(rt=$?.[M])!=null?rt:0,zt=mt?$e:dt-N[Ct]-P[Ct]-Bt+D.altAxis,qt=mt?dt+N[Ct]+P[Ct]-Bt-D.altAxis:It,tn=m&&mt?x0e(zt,dt,qt):Ug(m?zt:$e,dt,m?qt:It);I[M]=tn,B[M]=tn-dt}t.modifiersData[r]=B}}const exe={name:"preventOverflow",enabled:!0,phase:"main",fn:Q0e,requiresIfExists:["offset"]};function txe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function nxe(e){return e===as(e)||!Gs(e)?bO(e):txe(e)}function rxe(e){var t=e.getBoundingClientRect(),n=af(t.width)/e.offsetWidth||1,r=af(t.height)/e.offsetHeight||1;return n!==1||r!==1}function oxe(e,t,n){n===void 0&&(n=!1);var r=Gs(t),o=Gs(t)&&rxe(t),i=Xc(t),s=lf(e,o,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((cl(t)!=="body"||SO(i))&&(a=nxe(t)),Gs(t)?(c=lf(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=wO(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function ixe(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&o(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function sxe(e){var t=ixe(e);return v0e.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function axe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function lxe(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var lU={placement:"bottom",modifiers:[],strategy:"absolute"};function cU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function cxe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?lU:o;return function(a,c,u){u===void 0&&(u=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},lU,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],g=!1,m={state:h,setOptions:function(S){var E=typeof S=="function"?S(h.options):S;b(),h.options=Object.assign({},i,h.options,E),h.scrollParents={reference:Id(a)?Hg(a):a.contextElement?Hg(a.contextElement):[],popper:Hg(c)};var T=sxe(lxe([].concat(r,h.options.modifiers)));return h.orderedModifiers=T.filter(function(R){return R.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var S=h.elements,E=S.reference,T=S.popper;if(cU(E,T)){h.rects={reference:oxe(E,zg(T),h.options.strategy==="fixed"),popper:vO(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(D){return h.modifiersData[D.name]=Object.assign({},D.data)});for(var R=0;R<h.orderedModifiers.length;R++){if(h.reset===!0){h.reset=!1,R=-1;continue}var M=h.orderedModifiers[R],I=M.fn,N=M.options,P=N===void 0?{}:N,L=M.name;typeof I=="function"&&(h=I({state:h,options:P,name:L,instance:m})||h)}}}},update:axe(function(){return new Promise(function(v){m.forceUpdate(),v(h)})}),destroy:function(){b(),g=!0}};if(!cU(a,c))return m;m.setOptions(u).then(function(v){!g&&u.onFirstUpdate&&u.onFirstUpdate(v)});function y(){h.orderedModifiers.forEach(function(v){var S=v.name,E=v.options,T=E===void 0?{}:E,R=v.effect;if(typeof R=="function"){var M=R({state:h,name:S,instance:m,options:T}),I=function(){};f.push(M||I)}})}function b(){f.forEach(function(v){return v()}),f=[]}return m}}var uxe=[D0e,Z0e,P0e,w0e,Y0e,H0e,exe,M0e,W0e],dxe=cxe({defaultModifiers:uxe});function Ho(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...i}=e,s=o?{}:ew(n,r),{props:a,internalRef:c}=B3({...i,externalSlotProps:s}),u=Tn(c,s?.ref,e.additionalProps?.ref);return L3(t,{...a,ref:u},r)}function Zc(e){return parseInt(_.version,10)>=19?e?.props?.ref||null:e?.ref||null}function hxe(e){return typeof e=="function"?e():e}const uU=_.forwardRef(function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[s,a]=_.useState(null),c=Tn(_.isValidElement(r)?Zc(r):null,n);if(Un(()=>{i||a(hxe(o)||document.body)},[o,i]),Un(()=>{if(s&&!i)return nO(n,s),()=>{nO(n,null)}},[n,s,i]),i){if(_.isValidElement(r)){const u={ref:c};return _.cloneElement(r,u)}return r}return s&&Cb.createPortal(r,s)});function fxe(e){return Xt("MuiPopper",e)}Kt("MuiPopper",["root"]);function pxe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function xO(e){return typeof e=="function"?e():e}function gxe(e){return e.nodeType!==void 0}const mxe=e=>{const{classes:t}=e;return ht({root:["root"]},fxe,t)},vxe={},yxe=_.forwardRef(function(t,n){const{anchorEl:r,children:o,direction:i,disablePortal:s,modifiers:a,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:g={},slots:m={},TransitionProps:y,ownerState:b,...v}=t,S=_.useRef(null),E=Tn(S,n),T=_.useRef(null),R=Tn(T,f),M=_.useRef(R);Un(()=>{M.current=R},[R]),_.useImperativeHandle(f,()=>T.current,[]);const I=pxe(u,i),[N,P]=_.useState(I),[L,D]=_.useState(xO(r));_.useEffect(()=>{T.current&&T.current.forceUpdate()}),_.useEffect(()=>{r&&D(xO(r))},[r]),Un(()=>{if(!L||!c)return;const W=J=>{P(J.placement)};let V=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:J})=>{W(J)}}];a!=null&&(V=V.concat(a)),h&&h.modifiers!=null&&(V=V.concat(h.modifiers));const Y=dxe(L,S.current,{placement:I,...h,modifiers:V});return M.current(Y),()=>{Y.destroy(),M.current(null)}},[L,s,a,c,h,I]);const $={placement:N};y!==null&&($.TransitionProps=y);const B=mxe(t),U=m.root??"div",q=Ho({elementType:U,externalSlotProps:g.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:E},ownerState:t,className:B.root});return x.jsx(U,{...q,children:typeof o=="function"?o($):o})}),bxe=we(_.forwardRef(function(t,n){const{anchorEl:r,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:u,open:h,placement:f="bottom",popperOptions:g=vxe,popperRef:m,style:y,transition:b=!1,slotProps:v={},slots:S={},...E}=t,[T,R]=_.useState(!0),M=()=>{R(!1)},I=()=>{R(!0)};if(!c&&!h&&(!b||T))return null;let N;if(i)N=i;else if(r){const D=xO(r);N=D&&gxe(D)?qr(D).body:qr(null).body}const P=!h&&c&&(!b||T)?"none":void 0,L=b?{in:h,onEnter:M,onExited:I}:void 0;return x.jsx(uU,{disablePortal:a,container:N,children:x.jsx(yxe,{anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:b?!T:h,placement:f,popperOptions:g,popperRef:m,slotProps:v,slots:S,...E,style:{position:"fixed",top:0,left:0,display:P,...y},TransitionProps:L,children:o})})}),{name:"MuiPopper",slot:"Root"})({}),Wg=_.forwardRef(function(t,n){const r=Uo(),o=sn({props:t,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:c,container:u,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,slots:E,slotProps:T,...R}=o,M=E?.root??a?.Root,I={anchorEl:i,container:u,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,...R};return x.jsx(bxe,{as:s,direction:r?"rtl":"ltr",slots:{root:M},slotProps:T??c,...I,ref:n})});function wxe(e){return Xt("MuiListSubheader",e)}Kt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Sxe=e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:i}=e,s={root:["root",n!=="default"&&`color${We(n)}`,!r&&"gutters",o&&"inset",!i&&"sticky"]};return ht(s,wxe,t)},Cxe=we("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${We(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(Ht(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),_O=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiListSubheader"}),{className:o,color:i="default",component:s="li",disableGutters:a=!1,disableSticky:c=!1,inset:u=!1,...h}=r,f={...r,color:i,component:s,disableGutters:a,disableSticky:c,inset:u},g=Sxe(f);return x.jsx(Cxe,{as:s,className:Ke(g.root,o),ref:n,ownerState:f,...h})});_O&&(_O.muiSkipListHighlight=!0);const xxe=xt(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function _xe(e){return Xt("MuiChip",e)}const Vn=Kt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Exe=e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:c}=e,u={root:["root",c,n&&"disabled",`size${We(r)}`,`color${We(o)}`,a&&"clickable",a&&`clickableColor${We(o)}`,s&&"deletable",s&&`deletableColor${We(o)}`,`${c}${We(o)}`],label:["label",`label${We(r)}`],avatar:["avatar",`avatar${We(r)}`,`avatarColor${We(o)}`],icon:["icon",`icon${We(r)}`,`iconColor${We(i)}`],deleteIcon:["deleteIcon",`deleteIcon${We(r)}`,`deleteIconColor${We(o)}`,`deleteIcon${We(c)}Color${We(o)}`]};return ht(u,_xe,t)},Txe=we("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:c}=n;return[{[`& .${Vn.avatar}`]:t.avatar},{[`& .${Vn.avatar}`]:t[`avatar${We(a)}`]},{[`& .${Vn.avatar}`]:t[`avatarColor${We(r)}`]},{[`& .${Vn.icon}`]:t.icon},{[`& .${Vn.icon}`]:t[`icon${We(a)}`]},{[`& .${Vn.icon}`]:t[`iconColor${We(o)}`]},{[`& .${Vn.deleteIcon}`]:t.deleteIcon},{[`& .${Vn.deleteIcon}`]:t[`deleteIcon${We(a)}`]},{[`& .${Vn.deleteIcon}`]:t[`deleteIconColor${We(r)}`]},{[`& .${Vn.deleteIcon}`]:t[`deleteIcon${We(c)}Color${We(r)}`]},t.root,t[`size${We(a)}`],t[`color${We(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${We(r)})`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${We(r)}`],t[c],t[`${c}${We(r)}`]]}})(Ht(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Vn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Vn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${Vn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Vn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Vn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Vn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Vn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Vn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Vn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Yr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${Vn.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${Vn.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${Vn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Vn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(Yr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${Vn.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${Vn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Yr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${Vn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Vn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Vn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Vn.avatar}`]:{marginLeft:4},[`& .${Vn.avatarSmall}`]:{marginLeft:2},[`& .${Vn.icon}`]:{marginLeft:4},[`& .${Vn.iconSmall}`]:{marginLeft:2},[`& .${Vn.deleteIcon}`]:{marginRight:5},[`& .${Vn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Yr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${Vn.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${Vn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${Vn.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),Mxe=we("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${We(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function dU(e){return e.key==="Backspace"||e.key==="Delete"}const EO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:c,deleteIcon:u,disabled:h=!1,icon:f,label:g,onClick:m,onDelete:y,onKeyDown:b,onKeyUp:v,size:S="medium",variant:E="filled",tabIndex:T,skipFocusWhenDisabled:R=!1,slots:M={},slotProps:I={},...N}=r,P=_.useRef(null),L=Tn(P,n),D=ae=>{ae.stopPropagation(),y&&y(ae)},$=ae=>{ae.currentTarget===ae.target&&dU(ae)&&ae.preventDefault(),b&&b(ae)},B=ae=>{ae.currentTarget===ae.target&&y&&dU(ae)&&y(ae),v&&v(ae)},U=s!==!1&&m?!0:s,q=U||y?ll:c||"div",W={...r,component:q,disabled:h,size:S,color:a,iconColor:_.isValidElement(f)&&f.props.color||a,onDelete:!!y,clickable:U,variant:E},V=Exe(W),Y=q===ll?{component:c||"div",focusVisibleClassName:V.focusVisible,...y&&{disableRipple:!0}}:{};let J=null;y&&(J=u&&_.isValidElement(u)?_.cloneElement(u,{className:Ke(u.props.className,V.deleteIcon),onClick:D}):x.jsx(xxe,{className:V.deleteIcon,onClick:D}));let ne=null;o&&_.isValidElement(o)&&(ne=_.cloneElement(o,{className:Ke(V.avatar,o.props.className)}));let z=null;f&&_.isValidElement(f)&&(z=_.cloneElement(f,{className:Ke(V.icon,f.props.className)}));const K={slots:M,slotProps:I},[Z,le]=cn("root",{elementType:Txe,externalForwardedProps:{...K,...N},ownerState:W,shouldForwardComponentProp:!0,ref:L,className:Ke(V.root,i),additionalProps:{disabled:U&&h?!0:void 0,tabIndex:R&&h?-1:T,...Y},getSlotProps:ae=>({...ae,onClick:ye=>{ae.onClick?.(ye),m?.(ye)},onKeyDown:ye=>{ae.onKeyDown?.(ye),$(ye)},onKeyUp:ye=>{ae.onKeyUp?.(ye),B(ye)}})}),[ce,ue]=cn("label",{elementType:Mxe,externalForwardedProps:K,ownerState:W,className:V.label});return x.jsxs(Z,{as:q,...le,children:[ne||z,x.jsx(ce,{...ue,children:g}),J]})});function aw(e){return parseInt(e,10)||0}const Oxe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Rxe(e){for(const t in e)return!1;return!0}function hU(e){return Rxe(e)||e.outerHeightStyle===0&&!e.overflowing}const Ixe=_.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:i=1,style:s,value:a,...c}=t,{current:u}=_.useRef(a!=null),h=_.useRef(null),f=Tn(n,h),g=_.useRef(null),m=_.useRef(null),y=_.useCallback(()=>{const T=h.current,R=m.current;if(!T||!R)return;const I=os(T).getComputedStyle(T);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=I.width,R.value=T.value||t.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const N=I.boxSizing,P=aw(I.paddingBottom)+aw(I.paddingTop),L=aw(I.borderBottomWidth)+aw(I.borderTopWidth),D=R.scrollHeight;R.value="x";const $=R.scrollHeight;let B=D;i&&(B=Math.max(Number(i)*$,B)),o&&(B=Math.min(Number(o)*$,B)),B=Math.max(B,$);const U=B+(N==="border-box"?P+L:0),q=Math.abs(B-D)<=1;return{outerHeightStyle:U,overflowing:q}},[o,i,t.placeholder]),b=$t(()=>{const T=h.current,R=y();if(!T||!R||hU(R))return!1;const M=R.outerHeightStyle;return g.current!=null&&g.current!==M}),v=_.useCallback(()=>{const T=h.current,R=y();if(!T||!R||hU(R))return;const M=R.outerHeightStyle;g.current!==M&&(g.current=M,T.style.height=`${M}px`),T.style.overflow=R.overflowing?"hidden":""},[y]),S=_.useRef(-1);Un(()=>{const T=Kc(v),R=h?.current;if(!R)return;const M=os(R);M.addEventListener("resize",T);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{b()&&(I.unobserve(R),cancelAnimationFrame(S.current),v(),S.current=requestAnimationFrame(()=>{I.observe(R)}))}),I.observe(R)),()=>{T.clear(),cancelAnimationFrame(S.current),M.removeEventListener("resize",T),I&&I.disconnect()}},[y,v,b]),Un(()=>{v()});const E=T=>{u||v();const R=T.target,M=R.value.length,I=R.value.endsWith(`
`),N=R.selectionStart===M;I&&N&&R.setSelectionRange(M,M),r&&r(T)};return x.jsxs(_.Fragment,{children:[x.jsx("textarea",{value:a,onChange:E,ref:f,rows:i,style:s,...c}),x.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:{...Oxe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function kd({props:e,states:t,muiFormControl:n}){return t.reduce((r,o)=>(r[o]=e[o],n&&typeof e[o]>"u"&&(r[o]=n[o]),r),{})}const lw=_.createContext(void 0);function Zl(){return _.useContext(lw)}function fU(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function cw(e,t=!1){return e&&(fU(e.value)&&e.value!==""||t&&fU(e.defaultValue)&&e.defaultValue!=="")}function Pxe(e){return e.startAdornment}function kxe(e){return Xt("MuiInputBase",e)}const ei=Kt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var pU;const uw=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${We(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},dw=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Dxe=e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:f,size:g,startAdornment:m,type:y}=e,b={root:["root",`color${We(n)}`,r&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",a&&"formControl",g&&g!=="medium"&&`size${We(g)}`,h&&"multiline",m&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return ht(b,kxe,t)},hw=we("div",{name:"MuiInputBase",slot:"Root",overridesResolver:uw})(Ht(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ei.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),fw=we("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dw})(Ht(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ei.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${ei.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),gU=ZSe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Kg=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:a,color:c,components:u={},componentsProps:h={},defaultValue:f,disabled:g,disableInjectingGlobalStyles:m,endAdornment:y,error:b,fullWidth:v=!1,id:S,inputComponent:E="input",inputProps:T={},inputRef:R,margin:M,maxRows:I,minRows:N,multiline:P=!1,name:L,onBlur:D,onChange:$,onClick:B,onFocus:U,onKeyDown:q,onKeyUp:W,placeholder:V,readOnly:Y,renderSuffix:J,rows:ne,size:z,slotProps:K={},slots:Z={},startAdornment:le,type:ce="text",value:ue,...ae}=r,ye=T.value!=null?T.value:ue,{current:Me}=_.useRef(ye!=null),xe=_.useRef(),he=_.useCallback(Ge=>{},[]),pe=Tn(xe,R,T.ref,he),[Se,Ee]=_.useState(!1),ke=Zl(),Te=kd({props:r,muiFormControl:ke,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Te.focused=ke?ke.focused:Se,_.useEffect(()=>{!ke&&g&&Se&&(Ee(!1),D&&D())},[ke,g,Se,D]);const Ve=ke&&ke.onFilled,rt=ke&&ke.onEmpty,je=_.useCallback(Ge=>{cw(Ge)?Ve&&Ve():rt&&rt()},[Ve,rt]);Un(()=>{Me&&je({value:ye})},[ye,je,Me]);const Rt=Ge=>{U&&U(Ge),T.onFocus&&T.onFocus(Ge),ke&&ke.onFocus?ke.onFocus(Ge):Ee(!0)},dt=Ge=>{D&&D(Ge),T.onBlur&&T.onBlur(Ge),ke&&ke.onBlur?ke.onBlur(Ge):Ee(!1)},Ct=(Ge,...ct)=>{if(!Me){const ut=Ge.target||xe.current;if(ut==null)throw new Error(Kl(1));je({value:ut.value})}T.onChange&&T.onChange(Ge,...ct),$&&$(Ge,...ct)};_.useEffect(()=>{je(xe.current)},[]);const $e=Ge=>{xe.current&&Ge.currentTarget===Ge.target&&xe.current.focus(),B&&B(Ge)};let It=E,mt=T;P&&It==="input"&&(ne?mt={type:void 0,minRows:ne,maxRows:ne,...mt}:mt={type:void 0,maxRows:I,minRows:N,...mt},It=Ixe);const Bt=Ge=>{je(Ge.animationName==="mui-auto-fill-cancel"?xe.current:{value:"x"})};_.useEffect(()=>{ke&&ke.setAdornedStart(!!le)},[ke,le]);const zt={...r,color:Te.color||"primary",disabled:Te.disabled,endAdornment:y,error:Te.error,focused:Te.focused,formControl:ke,fullWidth:v,hiddenLabel:Te.hiddenLabel,multiline:P,size:Te.size,startAdornment:le,type:ce},qt=Dxe(zt),tn=Z.root||u.Root||hw,gt=K.root||h.root||{},_t=Z.input||u.Input||fw;return mt={...mt,...K.input??h.input},x.jsxs(_.Fragment,{children:[!m&&typeof gU=="function"&&(pU||(pU=x.jsx(gU,{}))),x.jsxs(tn,{...gt,ref:n,onClick:$e,...ae,...!rf(tn)&&{ownerState:{...zt,...gt.ownerState}},className:Ke(qt.root,gt.className,a,Y&&"MuiInputBase-readOnly"),children:[le,x.jsx(lw.Provider,{value:null,children:x.jsx(_t,{"aria-invalid":Te.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:f,disabled:Te.disabled,id:S,onAnimationStart:Bt,name:L,placeholder:V,readOnly:Y,required:Te.required,rows:ne,value:ye,onKeyDown:q,onKeyUp:W,type:ce,...mt,...!rf(_t)&&{as:It,ownerState:{...zt,...mt.ownerState}},ref:pe,className:Ke(qt.input,mt.className,Y&&"MuiInputBase-readOnly"),onBlur:dt,onChange:Ct,onFocus:Rt})}),y,J?J({...Te,startAdornment:le}):null]})]})});function Axe(e){return Xt("MuiInput",e)}const Jc={...ei,...Kt("MuiInput",["root","underline","input"])};function Lxe(e){return Xt("MuiOutlinedInput",e)}const Ws={...ei,...Kt("MuiOutlinedInput",["root","notchedOutline","input"])};function Nxe(e){return Xt("MuiFilledInput",e)}const ls={...ei,...Kt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},mU=xt(x.jsx("path",{d:"M7 10l5 5 5-5z"}));function Bxe(e){return Xt("MuiAutocomplete",e)}const In=Kt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var vU,yU;const Fxe=e=>{const{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:c,popupOpen:u,size:h}=e,f={root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${We(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ht(f,Bxe,t)},jxe=we("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=n;return[{[`& .${In.tag}`]:t.tag},{[`& .${In.tag}`]:t[`tagSize${We(a)}`]},{[`& .${In.inputRoot}`]:t.inputRoot},{[`& .${In.input}`]:t.input},{[`& .${In.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${In.focused} .${In.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${In.clearIndicator}`]:{visibility:"visible"}},[`& .${In.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${In.inputRoot}`]:{[`.${In.hasPopupIcon}&, .${In.hasClearIcon}&`]:{paddingRight:30},[`.${In.hasPopupIcon}.${In.hasClearIcon}&`]:{paddingRight:56},[`& .${In.input}`]:{width:0,minWidth:30}},[`& .${Jc.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Jc.root}.${ei.sizeSmall}`]:{[`& .${Jc.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ws.root}`]:{padding:9,[`.${In.hasPopupIcon}&, .${In.hasClearIcon}&`]:{paddingRight:39},[`.${In.hasPopupIcon}.${In.hasClearIcon}&`]:{paddingRight:65},[`& .${In.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${In.endAdornment}`]:{right:9}},[`& .${Ws.root}.${ei.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${In.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ls.root}`]:{paddingTop:19,paddingLeft:8,[`.${In.hasPopupIcon}&, .${In.hasClearIcon}&`]:{paddingRight:39},[`.${In.hasPopupIcon}.${In.hasClearIcon}&`]:{paddingRight:65},[`& .${ls.input}`]:{padding:"7px 4px"},[`& .${In.endAdornment}`]:{right:9}},[`& .${ls.root}.${ei.sizeSmall}`]:{paddingBottom:1,[`& .${ls.input}`]:{padding:"2.5px 4px"}},[`& .${ei.hiddenLabel}`]:{paddingTop:8},[`& .${ls.root}.${ei.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${In.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ls.root}.${ei.hiddenLabel}.${ei.sizeSmall}`]:{[`& .${In.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${In.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${In.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${In.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${In.inputRoot}`]:{flexWrap:"wrap"}}}]}),Vxe=we("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),$xe=we(wn,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),zxe=we(wn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Uxe=we(Wg,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${In.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(Ht(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Hxe=we(Rd,{name:"MuiAutocomplete",slot:"Paper"})(Ht(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Gxe=we("div",{name:"MuiAutocomplete",slot:"Loading"})(Ht(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Wxe=we("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Ht(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Kxe=we("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Ht(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${In.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${In.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${In.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${In.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${In.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),qxe=we(_O,{name:"MuiAutocomplete",slot:"GroupLabel"})(Ht(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Yxe=we("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${In.option}`]:{paddingLeft:24}}),bU=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:c,className:u,clearIcon:h=vU||(vU=x.jsx(GCe,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:g=!1,clearText:m="Clear",closeText:y="Close",componentsProps:b,defaultValue:v=r.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:E=!1,disabled:T=!1,disabledItemsFocusable:R=!1,disableListWrap:M=!1,disablePortal:I=!1,filterOptions:N,filterSelectedOptions:P=!1,forcePopupIcon:L="auto",freeSolo:D=!1,fullWidth:$=!1,getLimitTagsText:B=kn=>`+${kn}`,getOptionDisabled:U,getOptionKey:q,getOptionLabel:W,isOptionEqualToValue:V,groupBy:Y,handleHomeEndKeys:J=!r.freeSolo,id:ne,includeInputInList:z=!1,inputValue:K,limitTags:Z=-1,ListboxComponent:le,ListboxProps:ce,loading:ue=!1,loadingText:ae="Loading…",multiple:ye=!1,noOptionsText:Me="No options",onChange:xe,onClose:he,onHighlightChange:pe,onInputChange:Se,onOpen:Ee,open:ke,openOnFocus:Te=!1,openText:Ve="Open",options:rt,PaperComponent:je,PopperComponent:Rt,popupIcon:dt=yU||(yU=x.jsx(mU,{})),readOnly:Ct=!1,renderGroup:$e,renderInput:It,renderOption:mt,renderTags:Bt,renderValue:zt,selectOnFocus:qt=!r.freeSolo,size:tn="medium",slots:gt={},slotProps:_t={},value:Ge,...ct}=r,{getRootProps:ut,getInputProps:St,getInputLabelProps:at,getPopupIndicatorProps:At,getClearProps:ft,getItemProps:Pt,getListboxProps:Pn,getOptionProps:An,value:cr,dirty:_n,expanded:Er,id:Yn,popupOpen:Nr,focused:Br,focusedItem:an,anchorEl:Ln,setAnchorEl:Lt,inputValue:Ft,groupedOptions:rn}=i0e({...r,componentName:"Autocomplete"}),nn=!S&&!T&&_n&&!Ct,Rn=(!D||L===!0)&&L!==!1,{onMouseDown:uo}=St(),{ref:Bo,...ni}=Pn(),zr=W||(kn=>kn.label??kn),kr={...r,disablePortal:I,expanded:Er,focused:Br,fullWidth:$,getOptionLabel:zr,hasClearIcon:nn,hasPopupIcon:Rn,inputFocused:an===-1,popupOpen:Nr,size:tn},pr=Fxe(kr),bo={slots:{paper:je,popper:Rt,...gt},slotProps:{chip:c,listbox:ce,...b,..._t}},[Ri,Tr]=cn("listbox",{elementType:Kxe,externalForwardedProps:bo,ownerState:kr,className:pr.listbox,additionalProps:ni,ref:Bo}),[on,Xe]=cn("paper",{elementType:Rd,externalForwardedProps:bo,ownerState:kr,className:pr.paper}),[Ze,st]=cn("popper",{elementType:Wg,externalForwardedProps:bo,ownerState:kr,className:pr.popper,additionalProps:{disablePortal:I,style:{width:Ln?Ln.clientWidth:null},role:"presentation",anchorEl:Ln,open:Nr}});let Jt;const un=kn=>({className:pr.tag,disabled:T,...Pt(kn)});if(ye?cr.length>0&&(Bt?Jt=Bt(cr,un,kr):zt?Jt=zt(cr,un,kr):Jt=cr.map((kn,Mr)=>{const{key:oi,...Pi}=un({index:Mr});return x.jsx(EO,{label:zr(kn),size:tn,...Pi,...bo.slotProps.chip},oi)})):zt&&cr!=null&&(Jt=zt(cr,un,kr)),Z>-1&&Array.isArray(Jt)){const kn=Jt.length-Z;!Br&&kn>0&&(Jt=Jt.splice(0,Z),Jt.push(x.jsx("span",{className:pr.tag,children:B(kn)},Jt.length)))}const Xn=$e||(kn=>x.jsxs("li",{children:[x.jsx(qxe,{className:pr.groupLabel,ownerState:kr,component:"div",children:kn.group}),x.jsx(Yxe,{className:pr.groupUl,ownerState:kr,children:kn.children})]},kn.key)),Ii=mt||((kn,Mr)=>{const{key:oi,...Pi}=kn;return x.jsx("li",{...Pi,children:zr(Mr)},oi)}),hs=(kn,Mr)=>{const oi=An({option:kn,index:Mr});return Ii({...oi,className:pr.option},kn,{selected:oi["aria-selected"],index:Mr,inputValue:Ft},kr)},ri=bo.slotProps.clearIndicator,na=bo.slotProps.popupIndicator;return x.jsxs(_.Fragment,{children:[x.jsx(jxe,{ref:n,className:Ke(pr.root,u),ownerState:kr,...ut(ct),children:It({id:Yn,disabled:T,fullWidth:!0,size:tn==="small"?"small":void 0,InputLabelProps:at(),InputProps:{ref:Lt,className:pr.inputRoot,startAdornment:Jt,onMouseDown:kn=>{kn.target===kn.currentTarget&&uo(kn)},...(nn||Rn)&&{endAdornment:x.jsxs(Vxe,{className:pr.endAdornment,ownerState:kr,children:[nn?x.jsx($xe,{...ft(),"aria-label":m,title:m,ownerState:kr,...ri,className:Ke(pr.clearIndicator,ri?.className),children:h}):null,Rn?x.jsx(zxe,{...At(),disabled:T,"aria-label":Nr?y:Ve,title:Nr?y:Ve,ownerState:kr,...na,className:Ke(pr.popupIndicator,na?.className),children:dt}):null]})}},inputProps:{className:pr.input,disabled:T,readOnly:Ct,...St()}})}),Ln?x.jsx(Uxe,{as:Ze,...st,children:x.jsxs(Hxe,{as:on,...Xe,children:[ue&&rn.length===0?x.jsx(Gxe,{className:pr.loading,ownerState:kr,children:ae}):null,rn.length===0&&!D&&!ue?x.jsx(Wxe,{className:pr.noOptions,ownerState:kr,role:"presentation",onMouseDown:kn=>{kn.preventDefault()},children:Me}):null,rn.length>0?x.jsx(Ri,{as:le,...Tr,children:rn.map((kn,Mr)=>Y?Xn({key:kn.key,group:kn.group,children:kn.options.map((oi,Pi)=>hs(oi,kn.index+Pi))}):hs(kn,Mr))}):null]})}):null]})}),wU=Kt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),Xxe={entering:{opacity:1},entered:{opacity:1}},qg=_.forwardRef(function(t,n){const r=al(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:c,in:u,onEnter:h,onEntered:f,onEntering:g,onExit:m,onExited:y,onExiting:b,style:v,timeout:S=o,TransitionComponent:E=$s,...T}=t,R=_.useRef(null),M=Tn(R,Zc(a),n),I=q=>W=>{if(q){const V=R.current;W===void 0?q(V):q(V,W)}},N=I(g),P=I((q,W)=>{aO(q);const V=qc({style:v,timeout:S,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",V),q.style.transition=r.transitions.create("opacity",V),h&&h(q,W)}),L=I(f),D=I(b),$=I(q=>{const W=qc({style:v,timeout:S,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",W),q.style.transition=r.transitions.create("opacity",W),m&&m(q)}),B=I(y),U=q=>{i&&i(R.current,q)};return x.jsx(E,{appear:s,in:u,nodeRef:R,onEnter:P,onEntered:L,onEntering:N,onExit:$,onExited:B,onExiting:D,addEndListener:U,timeout:S,...T,children:(q,{ownerState:W,...V})=>_.cloneElement(a,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...Xxe[q],...v,...a.props.style},ref:M,...V})})});function Zxe(e){return Xt("MuiBackdrop",e)}Kt("MuiBackdrop",["root","invisible"]);const Jxe=e=>{const{classes:t,invisible:n}=e;return ht({root:["root",n&&"invisible"]},Zxe,t)},Qxe=we("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),pw=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiBackdrop"}),{children:o,className:i,component:s="div",invisible:a=!1,open:c,components:u={},componentsProps:h={},slotProps:f={},slots:g={},TransitionComponent:m,transitionDuration:y,...b}=r,v={...r,component:s,invisible:a},S=Jxe(v),E={transition:m,root:u.Root,...g},T={...h,...f},R={component:s,slots:E,slotProps:T},[M,I]=cn("root",{elementType:Qxe,externalForwardedProps:R,className:Ke(S.root,i),ownerState:v}),[N,P]=cn("transition",{elementType:qg,externalForwardedProps:R,ownerState:v});return x.jsx(N,{in:c,timeout:y,...b,...P,children:x.jsx(M,{"aria-hidden":!0,...I,classes:S,ref:n,children:o})})});function e_e(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=fO({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!o&&(s=!0);const{badgeContent:a,max:c=r}=s?i:e,u=a&&Number(a)>c?`${c}+`:a;return{badgeContent:a,invisible:s,max:c,displayValue:u}}function t_e(e){return Xt("MuiBadge",e)}const Qc=Kt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),TO=10,MO=4,n_e=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=e,a={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${We(n.vertical)}${We(n.horizontal)}`,`anchorOrigin${We(n.vertical)}${We(n.horizontal)}${We(o)}`,`overlap${We(o)}`,t!=="default"&&`color${We(t)}`]};return ht(a,t_e,s)},r_e=we("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),o_e=we("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${We(n.anchorOrigin.vertical)}${We(n.anchorOrigin.horizontal)}${We(n.overlap)}`],n.color!=="default"&&t[`color${We(n.color)}`],n.invisible&&t.invisible]}})(Ht(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:TO*2,lineHeight:1,padding:"0 6px",height:TO*2,borderRadius:TO,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Yr(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:MO,height:MO*2,minWidth:MO*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Qc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function SU(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const Yg=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiBadge"}),{anchorOrigin:o,className:i,classes:s,component:a,components:c={},componentsProps:u={},children:h,overlap:f="rectangular",color:g="default",invisible:m=!1,max:y=99,badgeContent:b,slots:v,slotProps:S,showZero:E=!1,variant:T="standard",...R}=r,{badgeContent:M,invisible:I,max:N,displayValue:P}=e_e({max:y,invisible:m,badgeContent:b,showZero:E}),L=fO({anchorOrigin:SU(o),color:g,overlap:f,variant:T,badgeContent:b}),D=I||M==null&&T!=="dot",{color:$=g,overlap:B=f,anchorOrigin:U,variant:q=T}=D?L:r,W=SU(U),V=q!=="dot"?P:void 0,Y={...r,badgeContent:M,invisible:D,max:N,displayValue:V,showZero:E,anchorOrigin:W,color:$,overlap:B,variant:q},J=n_e(Y),ne={slots:{root:v?.root??c.Root,badge:v?.badge??c.Badge},slotProps:{root:S?.root??u.root,badge:S?.badge??u.badge}},[z,K]=cn("root",{elementType:r_e,externalForwardedProps:{...ne,...R},ownerState:Y,className:Ke(J.root,i),ref:n,additionalProps:{as:a}}),[Z,le]=cn("badge",{elementType:o_e,externalForwardedProps:ne,ownerState:Y,className:J.badge});return x.jsxs(z,{...K,children:[h,x.jsx(Z,{...le,children:V})]})}),i_e=Kt("MuiBox",["root"]),s_e=O3(),ti=Fwe({themeId:_g,defaultTheme:s_e,defaultClassName:i_e.root,generateClassName:n3.generate});function a_e(e){return Xt("MuiButton",e)}const Dd=Kt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),l_e=_.createContext({}),c_e=_.createContext(void 0),u_e=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,loading:s,loadingPosition:a,classes:c}=e,u={root:["root",s&&"loading",i,`${i}${We(t)}`,`size${We(o)}`,`${i}Size${We(o)}`,`color${We(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${We(a)}`],startIcon:["icon","startIcon",`iconSize${We(o)}`],endIcon:["icon","endIcon",`iconSize${We(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=ht(u,a_e,c);return{...c,...h}},CU=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],d_e=we(ll,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${We(n.color)}`],t[`size${We(n.size)}`],t[`${n.variant}Size${We(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Ht(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Dd.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Dd.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Dd.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Dd.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Yr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Dd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Dd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Dd.loading}`]:{color:"transparent"}}}]}})),h_e=we("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${We(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...CU]})),f_e=we("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${We(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...CU]})),p_e=we("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),xU=we("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),$i=_.forwardRef(function(t,n){const r=_.useContext(l_e),o=_.useContext(c_e),i=xd(r,t),s=sn({props:i,name:"MuiButton"}),{children:a,color:c="primary",component:u="button",className:h,disabled:f=!1,disableElevation:g=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:b,fullWidth:v=!1,id:S,loading:E=null,loadingIndicator:T,loadingPosition:R="center",size:M="medium",startIcon:I,type:N,variant:P="text",...L}=s,D=Dn(S),$=T??x.jsx(of,{"aria-labelledby":D,color:"inherit",size:16}),B={...s,color:c,component:u,disabled:f,disableElevation:g,disableFocusRipple:m,fullWidth:v,loading:E,loadingIndicator:$,loadingPosition:R,size:M,type:N,variant:P},U=u_e(B),q=(I||E&&R==="start")&&x.jsx(h_e,{className:U.startIcon,ownerState:B,children:I||x.jsx(xU,{className:U.loadingIconPlaceholder,ownerState:B})}),W=(y||E&&R==="end")&&x.jsx(f_e,{className:U.endIcon,ownerState:B,children:y||x.jsx(xU,{className:U.loadingIconPlaceholder,ownerState:B})}),V=o||"",Y=typeof E=="boolean"?x.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:E&&x.jsx(p_e,{className:U.loadingIndicator,ownerState:B,children:$})}):null;return x.jsxs(d_e,{ownerState:B,className:Ke(r.className,U.root,h,V),component:u,disabled:f||E,focusRipple:!m,focusVisibleClassName:Ke(U.focusVisible,b),ref:n,type:N,id:E?D:S,...L,classes:U,children:[q,R!=="end"&&Y,a,R==="end"&&Y,W]})});function g_e(e){return _.Children.toArray(e).filter(t=>_.isValidElement(t))}function m_e(e){return Xt("PrivateSwitchBase",e)}Kt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const v_e=e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${We(o)}`],input:["input"]};return ht(i,m_e,t)},y_e=we(ll,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),b_e=we("input",{name:"MuiSwitchBase",shouldForwardProp:_i})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),_U=_.forwardRef(function(t,n){const{autoFocus:r,checked:o,checkedIcon:i,defaultChecked:s,disabled:a,disableFocusRipple:c=!1,edge:u=!1,icon:h,id:f,inputProps:g,inputRef:m,name:y,onBlur:b,onChange:v,onFocus:S,readOnly:E,required:T=!1,tabIndex:R,type:M,value:I,slots:N={},slotProps:P={},...L}=t,[D,$]=Ed({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),B=Zl(),U=ue=>{S&&S(ue),B&&B.onFocus&&B.onFocus(ue)},q=ue=>{b&&b(ue),B&&B.onBlur&&B.onBlur(ue)},W=ue=>{if(ue.nativeEvent.defaultPrevented)return;const ae=ue.target.checked;$(ae),v&&v(ue,ae)};let V=a;B&&typeof V>"u"&&(V=B.disabled);const Y=M==="checkbox"||M==="radio",J={...t,checked:D,disabled:V,disableFocusRipple:c,edge:u},ne=v_e(J),z={slots:N,slotProps:{input:g,...P}},[K,Z]=cn("root",{ref:n,elementType:y_e,className:ne.root,shouldForwardComponentProp:!0,externalForwardedProps:{...z,component:"span",...L},getSlotProps:ue=>({...ue,onFocus:ae=>{ue.onFocus?.(ae),U(ae)},onBlur:ae=>{ue.onBlur?.(ae),q(ae)}}),ownerState:J,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:V,role:void 0,tabIndex:null}}),[le,ce]=cn("input",{ref:m,elementType:b_e,className:ne.input,externalForwardedProps:z,getSlotProps:ue=>({...ue,onChange:ae=>{ue.onChange?.(ae),W(ae)}}),ownerState:J,additionalProps:{autoFocus:r,checked:o,defaultChecked:s,disabled:V,id:Y?f:void 0,name:y,readOnly:E,required:T,tabIndex:R,type:M,...M==="checkbox"&&I===void 0?{}:{value:I}}});return x.jsxs(K,{...Z,children:[x.jsx(le,{...ce}),D?i:h]})}),w_e=xt(x.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),S_e=xt(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),C_e=xt(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function x_e(e){return Xt("MuiCheckbox",e)}const gw=Kt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),__e=e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,i={root:["root",n&&"indeterminate",`color${We(r)}`,`size${We(o)}`]},s=ht(i,x_e,t);return{...t,...s}},E_e=we(_U,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${We(n.size)}`],n.color!=="default"&&t[`color${We(n.color)}`]]}})(Ht(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{[`&.${gw.checked}, &.${gw.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${gw.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),T_e=x.jsx(S_e,{}),M_e=x.jsx(w_e,{}),O_e=x.jsx(C_e,{}),dl=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiCheckbox"}),{checkedIcon:o=T_e,color:i="primary",icon:s=M_e,indeterminate:a=!1,indeterminateIcon:c=O_e,inputProps:u,size:h="medium",disableRipple:f=!1,className:g,slots:m={},slotProps:y={},...b}=r,v=a?c:s,S=a?c:o,E={...r,disableRipple:f,color:i,indeterminate:a,size:h},T=__e(E),R=y.input??u,[M,I]=cn("root",{ref:n,elementType:E_e,className:Ke(T.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:y,...b},ownerState:E,additionalProps:{type:"checkbox",icon:_.cloneElement(v,{fontSize:v.props.fontSize??h}),checkedIcon:_.cloneElement(S,{fontSize:S.props.fontSize??h}),disableRipple:f,slots:m,slotProps:{input:P3(typeof R=="function"?R(E):R,{"data-indeterminate":a})}}});return x.jsx(M,{...I,classes:T})});function EU(e){return e.substring(2).toLowerCase()}function R_e(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function I_e(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,s=_.useRef(!1),a=_.useRef(null),c=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=Tn(Zc(t),a),f=$t(y=>{const b=u.current;u.current=!1;const v=qr(a.current);if(!c.current||!a.current||"clientX"in y&&R_e(y,v))return;if(s.current){s.current=!1;return}let S;y.composedPath?S=y.composedPath().includes(a.current):S=!v.documentElement.contains(y.target)||a.current.contains(y.target),!S&&(n||!b)&&o(y)}),g=y=>b=>{u.current=!0;const v=t.props[y];v&&v(b)},m={ref:h};return i!==!1&&(m[i]=g(i)),_.useEffect(()=>{if(i!==!1){const y=EU(i),b=qr(a.current),v=()=>{s.current=!0};return b.addEventListener(y,f),b.addEventListener("touchmove",v),()=>{b.removeEventListener(y,f),b.removeEventListener("touchmove",v)}}},[f,i]),r!==!1&&(m[r]=g(r)),_.useEffect(()=>{if(r!==!1){const y=EU(r),b=qr(a.current);return b.addEventListener(y,f),()=>{b.removeEventListener(y,f)}}},[f,r]),_.cloneElement(t,m)}function TU(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function P_e(e){const t=qr(e);return t.body===e?os(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Xg(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function MU(e){return parseInt(os(e).getComputedStyle(e).paddingRight,10)||0}function k_e(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function OU(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,s=>{const a=!i.includes(s),c=!k_e(s);a&&c&&Xg(s,o)})}function OO(e,t){let n=-1;return e.some((r,o)=>t(r)?(n=o,!0):!1),n}function D_e(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(P_e(r)){const s=TU(os(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${MU(r)+s}px`;const a=qr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${MU(c)+s}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=qr(r).body;else{const s=r.parentElement,a=os(r);i=s?.nodeName==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:s,property:a})=>{i?s.style.setProperty(a,i):s.style.removeProperty(a)})}}function A_e(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class L_e{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Xg(t.modalRef,!1);const o=A_e(n);OU(n,t.mount,t.modalRef,o,!0);const i=OO(this.containers,s=>s.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:o}),r)}mount(t,n){const r=OO(this.containers,i=>i.modals.includes(t)),o=this.containers[r];o.restore||(o.restore=D_e(o,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const o=OO(this.containers,s=>s.modals.includes(t)),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&Xg(t.modalRef,n),OU(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&Xg(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const N_e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function B_e(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function F_e(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function j_e(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||F_e(e))}function V_e(e){const t=[],n=[];return Array.from(e.querySelectorAll(N_e)).forEach((r,o)=>{const i=B_e(r);i===-1||!j_e(r)||(i===0?t.push(r):n.push({documentOrder:o,tabIndex:i,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(t)}function $_e(){return!0}function RU(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=V_e,isEnabled:s=$_e,open:a}=e,c=_.useRef(!1),u=_.useRef(null),h=_.useRef(null),f=_.useRef(null),g=_.useRef(null),m=_.useRef(!1),y=_.useRef(null),b=Tn(Zc(t),y),v=_.useRef(null);_.useEffect(()=>{!a||!y.current||(m.current=!n)},[n,a]),_.useEffect(()=>{if(!a||!y.current)return;const T=qr(y.current);return y.current.contains(T.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{o||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[a]),_.useEffect(()=>{if(!a||!y.current)return;const T=qr(y.current),R=N=>{v.current=N,!(r||!s()||N.key!=="Tab")&&T.activeElement===y.current&&N.shiftKey&&(c.current=!0,h.current&&h.current.focus())},M=()=>{const N=y.current;if(N===null)return;if(!T.hasFocus()||!s()||c.current){c.current=!1;return}if(N.contains(T.activeElement)||r&&T.activeElement!==u.current&&T.activeElement!==h.current)return;if(T.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!m.current)return;let P=[];if((T.activeElement===u.current||T.activeElement===h.current)&&(P=i(y.current)),P.length>0){const L=!!(v.current?.shiftKey&&v.current?.key==="Tab"),D=P[0],$=P[P.length-1];typeof D!="string"&&typeof $!="string"&&(L?$.focus():D.focus())}else N.focus()};T.addEventListener("focusin",M),T.addEventListener("keydown",R,!0);const I=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(I),T.removeEventListener("focusin",M),T.removeEventListener("keydown",R,!0)}},[n,r,o,s,a,i]);const S=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0,g.current=T.target;const R=t.props.onFocus;R&&R(T)},E=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0};return x.jsxs(_.Fragment,{children:[x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(t,{ref:b,onFocus:S}),x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:h,"data-testid":"sentinelEnd"})]})}function z_e(e){return typeof e=="function"?e():e}function U_e(e){return e?e.props.hasOwnProperty("in"):!1}const IU=()=>{},mw=new L_e;function H_e(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:s,children:a,onClose:c,open:u,rootRef:h}=e,f=_.useRef({}),g=_.useRef(null),m=_.useRef(null),y=Tn(m,h),[b,v]=_.useState(!u),S=U_e(a);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const T=()=>qr(g.current),R=()=>(f.current.modalRef=m.current,f.current.mount=g.current,f.current),M=()=>{mw.mount(R(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},I=$t(()=>{const W=z_e(t)||T().body;mw.add(R(),W),m.current&&M()}),N=()=>mw.isTopModal(R()),P=$t(W=>{g.current=W,W&&(u&&N()?M():m.current&&Xg(m.current,E))}),L=_.useCallback(()=>{mw.remove(R(),E)},[E]);_.useEffect(()=>()=>{L()},[L]),_.useEffect(()=>{u?I():(!S||!o)&&L()},[u,L,S,o,I]);const D=W=>V=>{W.onKeyDown?.(V),!(V.key!=="Escape"||V.which===229||!N())&&(n||(V.stopPropagation(),c&&c(V,"escapeKeyDown")))},$=W=>V=>{W.onClick?.(V),V.target===V.currentTarget&&c&&c(V,"backdropClick")};return{getRootProps:(W={})=>{const V=ss(e);delete V.onTransitionEnter,delete V.onTransitionExited;const Y={...V,...W};return{role:"presentation",...Y,onKeyDown:D(Y),ref:y}},getBackdropProps:(W={})=>{const V=W;return{"aria-hidden":!0,...V,onClick:$(V),open:u}},getTransitionProps:()=>{const W=()=>{v(!1),i&&i()},V=()=>{v(!0),s&&s(),o&&L()};return{onEnter:I3(W,a?.props.onEnter??IU),onExited:I3(V,a?.props.onExited??IU)}},rootRef:y,portalRef:P,isTopModal:N,exited:b,hasTransition:S}}function G_e(e){return Xt("MuiModal",e)}Kt("MuiModal",["root","hidden","backdrop"]);const W_e=e=>{const{open:t,exited:n,classes:r}=e;return ht({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},G_e,r)},K_e=we("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Ht(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),q_e=we(pw,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),vw=_.forwardRef(function(t,n){const r=sn({name:"MuiModal",props:t}),{BackdropComponent:o=q_e,BackdropProps:i,classes:s,className:a,closeAfterTransition:c=!1,children:u,container:h,component:f,components:g={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:v=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:R=!1,keepMounted:M=!1,onClose:I,onTransitionEnter:N,onTransitionExited:P,open:L,slotProps:D={},slots:$={},theme:B,...U}=r,q={...r,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:v,disablePortal:S,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:R,keepMounted:M},{getRootProps:W,getBackdropProps:V,getTransitionProps:Y,portalRef:J,isTopModal:ne,exited:z,hasTransition:K}=H_e({...q,rootRef:n}),Z={...q,exited:z},le=W_e(Z),ce={};if(u.props.tabIndex===void 0&&(ce.tabIndex="-1"),K){const{onEnter:he,onExited:pe}=Y();ce.onEnter=he,ce.onExited=pe}const ue={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...m,...D}},[ae,ye]=cn("root",{ref:n,elementType:K_e,externalForwardedProps:{...ue,...U,component:f},getSlotProps:W,ownerState:Z,className:Ke(a,le?.root,!Z.open&&Z.exited&&le?.hidden)}),[Me,xe]=cn("backdrop",{ref:i?.ref,elementType:o,externalForwardedProps:ue,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:he=>V({...he,onClick:pe=>{he?.onClick&&he.onClick(pe)}}),className:Ke(i?.className,le?.backdrop),ownerState:Z});return!M&&!L&&(!K||z)?null:x.jsx(uU,{ref:J,container:h,disablePortal:S,children:x.jsxs(ae,{...ye,children:[!R&&o?x.jsx(Me,{...xe}):null,x.jsx(RU,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:E,isEnabled:ne,open:L,children:_.cloneElement(u,ce)})]})})});function Y_e(e){return Xt("MuiDialog",e)}const RO=Kt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),PU=_.createContext({}),X_e=we(pw,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Z_e=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container",`scroll${We(n)}`],paper:["paper",`paperScroll${We(n)}`,`paperWidth${We(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return ht(s,Y_e,t)},J_e=we(vw,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Q_e=we("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${We(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),eEe=we(Rd,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${We(n.scroll)}`],t[`paperWidth${We(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Ht(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${RO.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${RO.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${RO.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),IO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiDialog"}),o=al(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:h,children:f,className:g,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:b=!1,maxWidth:v="sm",onClick:S,onClose:E,open:T,PaperComponent:R=Rd,PaperProps:M={},scroll:I="paper",slots:N={},slotProps:P={},TransitionComponent:L=qg,transitionDuration:D=i,TransitionProps:$,...B}=r,U={...r,disableEscapeKeyDown:m,fullScreen:y,fullWidth:b,maxWidth:v,scroll:I},q=Z_e(U),W=_.useRef(),V=Ee=>{W.current=Ee.target===Ee.currentTarget},Y=Ee=>{S&&S(Ee),W.current&&(W.current=null,E&&E(Ee,"backdropClick"))},J=Dn(a),ne=_.useMemo(()=>({titleId:J}),[J]),z={transition:L,...N},K={transition:$,paper:M,backdrop:h,...P},Z={slots:z,slotProps:K},[le,ce]=cn("root",{elementType:J_e,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U,className:Ke(q.root,g),ref:n}),[ue,ae]=cn("backdrop",{elementType:X_e,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U}),[ye,Me]=cn("paper",{elementType:eEe,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U,className:Ke(q.paper,M.className)}),[xe,he]=cn("container",{elementType:Q_e,externalForwardedProps:Z,ownerState:U,className:q.container}),[pe,Se]=cn("transition",{elementType:qg,externalForwardedProps:Z,ownerState:U,additionalProps:{appear:!0,in:T,timeout:D,role:"presentation"}});return x.jsx(le,{closeAfterTransition:!0,slots:{backdrop:ue},slotProps:{backdrop:{transitionDuration:D,as:u,...ae}},disableEscapeKeyDown:m,onClose:E,open:T,onClick:Y,...ce,...B,children:x.jsx(pe,{...Se,children:x.jsx(xe,{onMouseDown:V,...he,children:x.jsx(ye,{as:R,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":J,"aria-modal":c,...Me,children:x.jsx(PU.Provider,{value:ne,children:f})})})})})});function tEe(e){return Xt("MuiDialogActions",e)}Kt("MuiDialogActions",["root","spacing"]);const nEe=e=>{const{classes:t,disableSpacing:n}=e;return ht({root:["root",!n&&"spacing"]},tEe,t)},rEe=we("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),kU=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1,...s}=r,a={...r,disableSpacing:i},c=nEe(a);return x.jsx(rEe,{className:Ke(c.root,o),ownerState:a,ref:n,...s})});function oEe(e){return Xt("MuiDialogContent",e)}Kt("MuiDialogContent",["root","dividers"]);function iEe(e){return Xt("MuiDialogTitle",e)}const sEe=Kt("MuiDialogTitle",["root"]),aEe=e=>{const{classes:t,dividers:n}=e;return ht({root:["root",n&&"dividers"]},oEe,t)},lEe=we("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Ht(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${sEe.root} + &`]:{paddingTop:0}}}]}))),DU=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiDialogContent"}),{className:o,dividers:i=!1,...s}=r,a={...r,dividers:i},c=aEe(a);return x.jsx(lEe,{className:Ke(c.root,o),ownerState:a,ref:n,...s})}),cEe=e=>{const{classes:t}=e;return ht({root:["root"]},iEe,t)},uEe=we(mo,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),dEe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiDialogTitle"}),{className:o,id:i,...s}=r,a=r,c=cEe(a),{titleId:u=i}=_.useContext(PU);return x.jsx(uEe,{component:"h2",className:Ke(c.root,o),ownerState:a,ref:n,variant:"h6",id:i??u,...s})});function hEe(e){return Xt("MuiDivider",e)}const AU=Kt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),fEe=e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:c}=e;return ht({root:["root",t&&"absolute",c,i&&"light",s==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},hEe,r)},pEe=we("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(Ht(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),gEe=we("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(Ht(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Zg=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiDivider"}),{absolute:o=!1,children:i,className:s,orientation:a="horizontal",component:c=i||a==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:f=c!=="hr"?"separator":void 0,textAlign:g="center",variant:m="fullWidth",...y}=r,b={...r,absolute:o,component:c,flexItem:u,light:h,orientation:a,role:f,textAlign:g,variant:m},v=fEe(b);return x.jsx(pEe,{as:c,className:Ke(v.root,s),role:f,ref:n,ownerState:b,"aria-orientation":f==="separator"&&(c!=="hr"||a==="vertical")?a:void 0,...y,children:i?x.jsx(gEe,{className:v.wrapper,ownerState:b,children:i}):null})});Zg&&(Zg.muiSkipListHighlight=!0);function mEe(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=os(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const u=i.getComputedStyle(t);s=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,c=0;if(s&&s!=="none"&&typeof s=="string"){const u=s.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),c=parseInt(u[5],10)}return e==="left"?o?`translateX(${o.right+a-r.left}px)`:`translateX(${i.innerWidth+a-r.left}px)`:e==="right"?o?`translateX(-${r.right-o.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:e==="up"?o?`translateY(${o.bottom+c-r.top}px)`:`translateY(${i.innerHeight+c-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function vEe(e){return typeof e=="function"?e():e}function yw(e,t,n){const r=vEe(n),o=mEe(e,t,r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const yEe=_.forwardRef(function(t,n){const r=al(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:c,container:u,direction:h="down",easing:f=o,in:g,onEnter:m,onEntered:y,onEntering:b,onExit:v,onExited:S,onExiting:E,style:T,timeout:R=i,TransitionComponent:M=$s,...I}=t,N=_.useRef(null),P=Tn(Zc(c),N,n),L=J=>ne=>{J&&(ne===void 0?J(N.current):J(N.current,ne))},D=L((J,ne)=>{yw(h,J,u),aO(J),m&&m(J,ne)}),$=L((J,ne)=>{const z=qc({timeout:R,style:T,easing:f},{mode:"enter"});J.style.webkitTransition=r.transitions.create("-webkit-transform",{...z}),J.style.transition=r.transitions.create("transform",{...z}),J.style.webkitTransform="none",J.style.transform="none",b&&b(J,ne)}),B=L(y),U=L(E),q=L(J=>{const ne=qc({timeout:R,style:T,easing:f},{mode:"exit"});J.style.webkitTransition=r.transitions.create("-webkit-transform",ne),J.style.transition=r.transitions.create("transform",ne),yw(h,J,u),v&&v(J)}),W=L(J=>{J.style.webkitTransition="",J.style.transition="",S&&S(J)}),V=J=>{s&&s(N.current,J)},Y=_.useCallback(()=>{N.current&&yw(h,N.current,u)},[h,u]);return _.useEffect(()=>{if(g||h==="down"||h==="right")return;const J=Kc(()=>{N.current&&yw(h,N.current,u)}),ne=os(N.current);return ne.addEventListener("resize",J),()=>{J.clear(),ne.removeEventListener("resize",J)}},[h,g,u]),_.useEffect(()=>{g||Y()},[g,Y]),x.jsx(M,{nodeRef:N,onEnter:D,onEntered:B,onEntering:$,onExit:q,onExited:W,onExiting:U,addEndListener:V,appear:a,in:g,timeout:R,...I,children:(J,{ownerState:ne,...z})=>_.cloneElement(c,{ref:P,style:{visibility:J==="exited"&&!g?"hidden":void 0,...T,...c.props.style},...z})})}),bEe=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:o,size:i,hiddenLabel:s,multiline:a}=e,c={root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd",i==="small"&&`size${We(i)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},u=ht(c,Nxe,t);return{...t,...u}},wEe=we(hw,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...uw(e,t),!n.disableUnderline&&t.underline]}})(Ht(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${ls.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${ls.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ls.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ls.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ls.disabled}, .${ls.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${ls.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Yr()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),SEe=we(fw,{name:"MuiFilledInput",slot:"Input",overridesResolver:dw})(Ht(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),PO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,hiddenLabel:c,inputComponent:u="input",multiline:h=!1,slotProps:f,slots:g={},type:m="text",...y}=r,b={...r,disableUnderline:o,fullWidth:a,inputComponent:u,multiline:h,type:m},v=bEe(r),S={root:{ownerState:b},input:{ownerState:b}},E=f??s?zo(S,f??s):S,T=g.root??i.Root??wEe,R=g.input??i.Input??SEe;return x.jsx(Kg,{slots:{root:T,input:R},slotProps:E,fullWidth:a,inputComponent:u,multiline:h,ref:n,type:m,...y,classes:v})});PO.muiName="Input";function CEe(e){return Xt("MuiFormControl",e)}Kt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xEe=e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root",n!=="none"&&`margin${We(n)}`,r&&"fullWidth"]};return ht(o,CEe,t)},_Ee=we("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${We(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),bw=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:f=!1,hiddenLabel:g=!1,margin:m="none",required:y=!1,size:b="medium",variant:v="outlined",...S}=r,E={...r,color:s,component:a,disabled:c,error:u,fullWidth:f,hiddenLabel:g,margin:m,required:y,size:b,variant:v},T=xEe(E),[R,M]=_.useState(()=>{let W=!1;return o&&_.Children.forEach(o,V=>{if(!Yb(V,["Input","Select"]))return;const Y=Yb(V,["Select"])?V.props.input:V;Y&&Pxe(Y.props)&&(W=!0)}),W}),[I,N]=_.useState(()=>{let W=!1;return o&&_.Children.forEach(o,V=>{Yb(V,["Input","Select"])&&(cw(V.props,!0)||cw(V.props.inputProps,!0))&&(W=!0)}),W}),[P,L]=_.useState(!1);c&&P&&L(!1);const D=h!==void 0&&!c?h:P;let $;_.useRef(!1);const B=_.useCallback(()=>{N(!0)},[]),U=_.useCallback(()=>{N(!1)},[]),q=_.useMemo(()=>({adornedStart:R,setAdornedStart:M,color:s,disabled:c,error:u,filled:I,focused:D,fullWidth:f,hiddenLabel:g,size:b,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:U,onFilled:B,registerEffect:$,required:y,variant:v}),[R,s,c,u,I,D,f,g,$,U,B,y,b,v]);return x.jsx(lw.Provider,{value:q,children:x.jsx(_Ee,{as:a,ownerState:E,className:Ke(T.root,i),ref:n,...S,children:o})})});function EEe(e){return Xt("MuiFormControlLabel",e)}const uf=Kt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),TEe=e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,s={root:["root",n&&"disabled",`labelPlacement${We(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return ht(s,EEe,t)},MEe=we("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${uf.label}`]:t.label},t.root,t[`labelPlacement${We(n.labelPlacement)}`]]}})(Ht(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${uf.disabled}`]:{cursor:"default"},[`& .${uf.label}`]:{[`&.${uf.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),OEe=we("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Ht(({theme:e})=>({[`&.${uf.error}`]:{color:(e.vars||e).palette.error.main}}))),Jl=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiFormControlLabel"}),{checked:o,className:i,componentsProps:s={},control:a,disabled:c,disableTypography:u,inputRef:h,label:f,labelPlacement:g="end",name:m,onChange:y,required:b,slots:v={},slotProps:S={},value:E,...T}=r,R=Zl(),M=c??a.props.disabled??R?.disabled,I=b??a.props.required,N={disabled:M,required:I};["checked","name","onChange","value","inputRef"].forEach(W=>{typeof a.props[W]>"u"&&typeof r[W]<"u"&&(N[W]=r[W])});const P=kd({props:r,muiFormControl:R,states:["error"]}),L={...r,disabled:M,labelPlacement:g,required:I,error:P.error},D=TEe(L),$={slots:v,slotProps:{...s,...S}},[B,U]=cn("typography",{elementType:mo,externalForwardedProps:$,ownerState:L});let q=f;return q!=null&&q.type!==mo&&!u&&(q=x.jsx(B,{component:"span",...U,className:Ke(D.label,U?.className),children:q})),x.jsxs(MEe,{className:Ke(D.root,i),ownerState:L,ref:n,...T,children:[_.cloneElement(a,N),I?x.jsxs("div",{children:[q,x.jsxs(OEe,{ownerState:L,"aria-hidden":!0,className:D.asterisk,children:[" ","*"]})]}):q]})});function REe(e){return Xt("MuiFormHelperText",e)}const LU=Kt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var NU;const IEe=e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:c}=e,u={root:["root",o&&"disabled",i&&"error",r&&`size${We(r)}`,n&&"contained",a&&"focused",s&&"filled",c&&"required"]};return ht(u,REe,t)},PEe=we("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${We(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(Ht(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${LU.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${LU.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),kEe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiFormHelperText"}),{children:o,className:i,component:s="p",disabled:a,error:c,filled:u,focused:h,margin:f,required:g,variant:m,...y}=r,b=Zl(),v=kd({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),S={...r,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete S.ownerState;const E=IEe(S);return x.jsx(PEe,{as:s,className:Ke(E.root,i),ref:n,...y,ownerState:S,children:o===" "?NU||(NU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):o})});function DEe(e){return Xt("MuiFormLabel",e)}const Jg=Kt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),AEe=e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e,c={root:["root",`color${We(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return ht(c,DEe,t)},LEe=we("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(Ht(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{[`&.${Jg.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Jg.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Jg.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),NEe=we("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ht(({theme:e})=>({[`&.${Jg.error}`]:{color:(e.vars||e).palette.error.main}}))),BEe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiFormLabel"}),{children:o,className:i,color:s,component:a="label",disabled:c,error:u,filled:h,focused:f,required:g,...m}=r,y=Zl(),b=kd({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},S=AEe(v);return x.jsxs(LEe,{as:a,ownerState:v,className:Ke(S.root,i),ref:n,...m,children:[o,b.required&&x.jsxs(NEe,{ownerState:v,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]})});function kO(e){return`scale(${e}, ${e**2})`}const FEe={entering:{opacity:1,transform:kO(1)},entered:{opacity:1,transform:"none"}},DO=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Qg=_.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:i,easing:s,in:a,onEnter:c,onEntered:u,onEntering:h,onExit:f,onExited:g,onExiting:m,style:y,timeout:b="auto",TransitionComponent:v=$s,...S}=t,E=Fi(),T=_.useRef(),R=al(),M=_.useRef(null),I=Tn(M,Zc(i),n),N=W=>V=>{if(W){const Y=M.current;V===void 0?W(Y):W(Y,V)}},P=N(h),L=N((W,V)=>{aO(W);const{duration:Y,delay:J,easing:ne}=qc({style:y,timeout:b,easing:s},{mode:"enter"});let z;b==="auto"?(z=R.transitions.getAutoHeightDuration(W.clientHeight),T.current=z):z=Y,W.style.transition=[R.transitions.create("opacity",{duration:z,delay:J}),R.transitions.create("transform",{duration:DO?z:z*.666,delay:J,easing:ne})].join(","),c&&c(W,V)}),D=N(u),$=N(m),B=N(W=>{const{duration:V,delay:Y,easing:J}=qc({style:y,timeout:b,easing:s},{mode:"exit"});let ne;b==="auto"?(ne=R.transitions.getAutoHeightDuration(W.clientHeight),T.current=ne):ne=V,W.style.transition=[R.transitions.create("opacity",{duration:ne,delay:Y}),R.transitions.create("transform",{duration:DO?ne:ne*.666,delay:DO?Y:Y||ne*.333,easing:J})].join(","),W.style.opacity=0,W.style.transform=kO(.75),f&&f(W)}),U=N(g),q=W=>{b==="auto"&&E.start(T.current||0,W),r&&r(M.current,W)};return x.jsx(v,{appear:o,in:a,nodeRef:M,onEnter:L,onEntered:D,onEntering:P,onExit:B,onExited:U,onExiting:$,addEndListener:q,timeout:b==="auto"?null:b,...S,children:(W,{ownerState:V,...Y})=>_.cloneElement(i,{style:{opacity:0,transform:kO(.75),visibility:W==="exited"&&!a?"hidden":void 0,...FEe[W],...y,...i.props.style},ref:I,...Y})})});Qg&&(Qg.muiSupportAuto=!0);const jEe=e=>{const{classes:t,disableUnderline:n}=e,o=ht({root:["root",!n&&"underline"],input:["input"]},Axe,t);return{...t,...o}},VEe=we(hw,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...uw(e,t),!n.disableUnderline&&t.underline]}})(Ht(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jc.disabled}, .${Jc.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Jc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Yr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),$Ee=we(fw,{name:"MuiInput",slot:"Input",overridesResolver:dw})({}),AO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,inputComponent:c="input",multiline:u=!1,slotProps:h,slots:f={},type:g="text",...m}=r,y=jEe(r),v={root:{ownerState:{disableUnderline:o}}},S=h??s?zo(h??s,v):v,E=f.root??i.Root??VEe,T=f.input??i.Input??$Ee;return x.jsx(Kg,{slots:{root:E,input:T},slotProps:S,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:g,...m,classes:y})});AO.muiName="Input";function zEe(e){return Xt("MuiInputAdornment",e)}const LO=Kt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var BU;const UEe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${We(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},HEe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e,a={root:["root",n&&"disablePointerEvents",o&&`position${We(o)}`,s,r&&"hiddenLabel",i&&`size${We(i)}`]};return ht(a,zEe,t)},GEe=we("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:UEe})(Ht(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${LO.positionStart}&:not(.${LO.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),WEe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:c=!1,position:u,variant:h,...f}=r,g=Zl()||{};let m=h;h&&g.variant,g&&!m&&(m=g.variant);const y={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:a,position:u,variant:m},b=HEe(y);return x.jsx(lw.Provider,{value:null,children:x.jsx(GEe,{as:s,ownerState:y,className:Ke(b.root,i),ref:n,...f,children:typeof o=="string"&&!c?x.jsx(mo,{color:"textSecondary",children:o}):x.jsxs(_.Fragment,{children:[u==="start"?BU||(BU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,o]})})})});function KEe(e){return Xt("MuiInputLabel",e)}Kt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const qEe=e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=e,c={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&r!=="medium"&&`size${We(r)}`,s],asterisk:[a&&"asterisk"]},u=ht(c,KEe,t);return{...t,...u}},YEe=we(BEe,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Jg.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Ht(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),FU=_.forwardRef(function(t,n){const r=sn({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,margin:i,shrink:s,variant:a,className:c,...u}=r,h=Zl();let f=s;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);const g=kd({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),m={...r,disableAnimation:o,formControl:h,shrink:f,size:g.size,variant:g.variant,required:g.required,focused:g.focused},y=qEe(m);return x.jsx(YEe,{"data-shrink":f,ref:n,className:Ke(y.root,c),...u,ownerState:m,classes:y})});function XEe(e){return Xt("MuiLinearProgress",e)}Kt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const NO=4,BO=Bs`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,ZEe=typeof BO!="string"?Hc`
        animation: ${BO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,FO=Bs`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,JEe=typeof FO!="string"?Hc`
        animation: ${FO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,jO=Bs`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,QEe=typeof jO!="string"?Hc`
        animation: ${jO} 3s infinite linear;
      `:null,e1e=e=>{const{classes:t,variant:n,color:r}=e,o={root:["root",`color${We(r)}`,n],dashed:["dashed",`dashedColor${We(r)}`],bar1:["bar","bar1",`barColor${We(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${We(r)}`,n==="buffer"&&`color${We(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return ht(o,XEe,t)},VO=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),t1e=we("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${We(n.color)}`],t[n.variant]]}})(Ht(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{backgroundColor:VO(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),n1e=we("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${We(n.color)}`]]}})(Ht(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(Yr()).map(([t])=>{const n=VO(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),QEe||{animation:`${jO} 3s infinite linear`}),r1e=we("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${We(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(Ht(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${NO}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${NO}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:ZEe||{animation:`${BO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),o1e=we("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${We(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(Ht(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:VO(e,t),transition:`transform .${NO}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:JEe||{animation:`${FO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),i1e=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:s,valueBuffer:a,variant:c="indeterminate",...u}=r,h={...r,color:i,variant:c},f=e1e(h),g=Uo(),m={},y={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){m["aria-valuenow"]=Math.round(s),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let b=s-100;g&&(b=-b),y.bar1.transform=`translateX(${b}%)`}if(c==="buffer"&&a!==void 0){let b=(a||0)-100;g&&(b=-b),y.bar2.transform=`translateX(${b}%)`}return x.jsxs(t1e,{className:Ke(f.root,o),ownerState:h,role:"progressbar",...m,ref:n,...u,children:[c==="buffer"?x.jsx(n1e,{className:f.dashed,ownerState:h}):null,x.jsx(r1e,{className:f.bar1,ownerState:h,style:y.bar1}),c==="determinate"?null:x.jsx(o1e,{className:f.bar2,ownerState:h,style:y.bar2})]})}),Ca=_.createContext({});function s1e(e){return Xt("MuiList",e)}Kt("MuiList",["root","padding","dense","subheader"]);const a1e=e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return ht({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},s1e,t)},l1e=we("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),jU=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:u,...h}=r,f=_.useMemo(()=>({dense:a}),[a]),g={...r,component:s,dense:a,disablePadding:c},m=a1e(g);return x.jsx(Ca.Provider,{value:f,children:x.jsxs(l1e,{as:s,className:Ke(m.root,i),ref:n,ownerState:g,...h,children:[u,o]})})});function c1e(e){return Xt("MuiListItem",e)}Kt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function u1e(e){return Xt("MuiListItemButton",e)}const df=Kt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),d1e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},h1e=e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:i,divider:s,selected:a}=e,u=ht({root:["root",r&&"dense",!i&&"gutters",s&&"divider",o&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},u1e,n);return{...n,...u}},f1e=we(ll,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:d1e})(Ht(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${df.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${df.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${df.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${df.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${df.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),p1e=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:s="div",children:a,dense:c=!1,disableGutters:u=!1,divider:h=!1,focusVisibleClassName:f,selected:g=!1,className:m,...y}=r,b=_.useContext(Ca),v=_.useMemo(()=>({dense:c||b.dense||!1,alignItems:o,disableGutters:u}),[o,b.dense,c,u]),S=_.useRef(null);Un(()=>{i&&S.current&&S.current.focus()},[i]);const E={...r,alignItems:o,dense:v.dense,disableGutters:u,divider:h,selected:g},T=h1e(E),R=Tn(S,n);return x.jsx(Ca.Provider,{value:v,children:x.jsx(f1e,{ref:R,href:y.href||y.to,component:(y.href||y.to)&&s==="div"?"button":s,focusVisibleClassName:Ke(T.focusVisible,f),ownerState:E,className:Ke(T.root,m),...y,classes:T,children:a})})});function g1e(e){return Xt("MuiListItemSecondaryAction",e)}Kt("MuiListItemSecondaryAction",["root","disableGutters"]);const m1e=e=>{const{disableGutters:t,classes:n}=e;return ht({root:["root",t&&"disableGutters"]},g1e,n)},v1e=we("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),VU=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiListItemSecondaryAction"}),{className:o,...i}=r,s=_.useContext(Ca),a={...r,disableGutters:s.disableGutters},c=m1e(a);return x.jsx(v1e,{className:Ke(c.root,o),ownerState:a,ref:n,...i})});VU.muiName="ListItemSecondaryAction";const y1e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},b1e=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:o,disablePadding:i,divider:s,hasSecondaryAction:a}=e;return ht({root:["root",r&&"dense",!o&&"gutters",!i&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},c1e,n)},w1e=we("div",{name:"MuiListItem",slot:"Root",overridesResolver:y1e})(Ht(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${df.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),S1e=we("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),C1e=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiListItem"}),{alignItems:o="center",children:i,className:s,component:a,components:c={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:f,...g}={},dense:m=!1,disableGutters:y=!1,disablePadding:b=!1,divider:v=!1,secondaryAction:S,slotProps:E={},slots:T={},...R}=r,M=_.useContext(Ca),I=_.useMemo(()=>({dense:m||M.dense||!1,alignItems:o,disableGutters:y}),[o,M.dense,m,y]),N=_.useRef(null),P=_.Children.toArray(i),L=P.length&&Yb(P[P.length-1],["ListItemSecondaryAction"]),D={...r,alignItems:o,dense:I.dense,disableGutters:y,disablePadding:b,divider:v,hasSecondaryAction:L},$=b1e(D),B=Tn(N,n),U=T.root||c.Root||w1e,q=E.root||u.root||{},W={className:Ke($.root,q.className,s),...R};let V=a||"li";return L?(V=!W.component&&!a?"div":V,h==="li"&&(V==="li"?V="div":W.component==="li"&&(W.component="div")),x.jsx(Ca.Provider,{value:I,children:x.jsxs(S1e,{as:h,className:Ke($.container,f),ref:B,ownerState:D,...g,children:[x.jsx(U,{...q,...!rf(U)&&{as:V,ownerState:{...D,...q.ownerState}},...W,children:P}),P.pop()]})})):x.jsx(Ca.Provider,{value:I,children:x.jsxs(U,{...q,as:V,ref:B,...!rf(U)&&{ownerState:{...D,...q.ownerState}},...W,children:[P,S&&x.jsx(VU,{children:S})]})})});function x1e(e){return Xt("MuiListItemIcon",e)}const $U=Kt("MuiListItemIcon",["root","alignItemsFlexStart"]),_1e=e=>{const{alignItems:t,classes:n}=e;return ht({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},x1e,n)},E1e=we("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Ht(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),ww=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiListItemIcon"}),{className:o,...i}=r,s=_.useContext(Ca),a={...r,alignItems:s.alignItems},c=_1e(a);return x.jsx(E1e,{className:Ke(c.root,o),ownerState:a,ref:n,...i})});function T1e(e){return Xt("MuiListItemText",e)}const Ad=Kt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),M1e=e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return ht({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},T1e,t)},O1e=we("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ad.primary}`]:t.primary},{[`& .${Ad.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${j3.root}:where(& .${Ad.primary})`]:{display:"block"},[`.${j3.root}:where(& .${Ad.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),zU=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:f,slots:g={},slotProps:m={},...y}=r,{dense:b}=_.useContext(Ca);let v=c??o,S=h;const E={...r,disableTypography:s,inset:a,primary:!!v,secondary:!!S,dense:b},T=M1e(E),R={slots:g,slotProps:{primary:u,secondary:f,...m}},[M,I]=cn("root",{className:Ke(T.root,i),elementType:O1e,externalForwardedProps:{...R,...y},ownerState:E,ref:n}),[N,P]=cn("primary",{className:T.primary,elementType:mo,externalForwardedProps:R,ownerState:E}),[L,D]=cn("secondary",{className:T.secondary,elementType:mo,externalForwardedProps:R,ownerState:E});return v!=null&&v.type!==mo&&!s&&(v=x.jsx(N,{variant:b?"body2":"body1",component:P?.variant?void 0:"span",...P,children:v})),S!=null&&S.type!==mo&&!s&&(S=x.jsx(L,{variant:"body2",color:"textSecondary",...D,children:S})),x.jsxs(M,{...I,children:[v,S]})});function $O(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function UU(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function HU(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function em(e,t,n,r,o,i){let s=!1,a=o(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!HU(a,i)||c)a=o(e,a,n);else return a.focus(),!0}return!1}const GU=_.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:f="selectedMenu",...g}=t,m=_.useRef(null),y=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Un(()=>{o&&m.current.focus()},[o]),_.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:R})=>{const M=!m.current.style.width;if(T.clientHeight<m.current.clientHeight&&M){const I=`${TU(os(T))}px`;m.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=I,m.current.style.width=`calc(100% + ${I})`}return m.current}}),[]);const b=T=>{const R=m.current,M=T.key;if(T.ctrlKey||T.metaKey||T.altKey){h&&h(T);return}const N=qr(R).activeElement;if(M==="ArrowDown")T.preventDefault(),em(R,N,u,c,$O);else if(M==="ArrowUp")T.preventDefault(),em(R,N,u,c,UU);else if(M==="Home")T.preventDefault(),em(R,null,u,c,$O);else if(M==="End")T.preventDefault(),em(R,null,u,c,UU);else if(M.length===1){const P=y.current,L=M.toLowerCase(),D=performance.now();P.keys.length>0&&(D-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&L!==P.keys[0]&&(P.repeating=!1)),P.lastTime=D,P.keys.push(L);const $=N&&!P.repeating&&HU(N,P);P.previousKeyMatched&&($||em(R,N,!1,c,$O,P))?T.preventDefault():P.previousKeyMatched=!1}h&&h(T)},v=Tn(m,n);let S=-1;_.Children.forEach(s,(T,R)=>{if(!_.isValidElement(T)){S===R&&(S+=1,S>=s.length&&(S=-1));return}T.props.disabled||(f==="selectedMenu"&&T.props.selected||S===-1)&&(S=R),S===R&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(S+=1,S>=s.length&&(S=-1))});const E=_.Children.map(s,(T,R)=>{if(R===S){const M={};return i&&(M.autoFocus=!0),T.props.tabIndex===void 0&&f==="selectedMenu"&&(M.tabIndex=0),_.cloneElement(T,M)}return T});return x.jsx(jU,{role:"menu",ref:v,className:a,onKeyDown:b,tabIndex:o?0:-1,...g,children:E})});function R1e(e){return Xt("MuiPopover",e)}Kt("MuiPopover",["root","paper"]);function WU(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function KU(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function qU(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Sw(e){return typeof e=="function"?e():e}const I1e=e=>{const{classes:t}=e;return ht({root:["root"],paper:["paper"]},R1e,t)},P1e=we(vw,{name:"MuiPopover",slot:"Root"})({}),YU=we(Rd,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),k1e=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:u,className:h,container:f,elevation:g=8,marginThreshold:m=16,open:y,PaperProps:b={},slots:v={},slotProps:S={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:R="auto",TransitionProps:M={},disableScrollLock:I=!1,...N}=r,P=_.useRef(),L={...r,anchorOrigin:s,anchorReference:c,elevation:g,marginThreshold:m,transformOrigin:E,TransitionComponent:T,transitionDuration:R,TransitionProps:M},D=I1e(L),$=_.useCallback(()=>{if(c==="anchorPosition")return a;const he=Sw(i),Se=(he&&he.nodeType===1?he:qr(P.current).body).getBoundingClientRect();return{top:Se.top+WU(Se,s.vertical),left:Se.left+KU(Se,s.horizontal)}},[i,s.horizontal,s.vertical,a,c]),B=_.useCallback(he=>({vertical:WU(he,E.vertical),horizontal:KU(he,E.horizontal)}),[E.horizontal,E.vertical]),U=_.useCallback(he=>{const pe={width:he.offsetWidth,height:he.offsetHeight},Se=B(pe);if(c==="none")return{top:null,left:null,transformOrigin:qU(Se)};const Ee=$();let ke=Ee.top-Se.vertical,Te=Ee.left-Se.horizontal;const Ve=ke+pe.height,rt=Te+pe.width,je=os(Sw(i)),Rt=je.innerHeight-m,dt=je.innerWidth-m;if(m!==null&&ke<m){const Ct=ke-m;ke-=Ct,Se.vertical+=Ct}else if(m!==null&&Ve>Rt){const Ct=Ve-Rt;ke-=Ct,Se.vertical+=Ct}if(m!==null&&Te<m){const Ct=Te-m;Te-=Ct,Se.horizontal+=Ct}else if(rt>dt){const Ct=rt-dt;Te-=Ct,Se.horizontal+=Ct}return{top:`${Math.round(ke)}px`,left:`${Math.round(Te)}px`,transformOrigin:qU(Se)}},[i,c,$,B,m]),[q,W]=_.useState(y),V=_.useCallback(()=>{const he=P.current;if(!he)return;const pe=U(he);pe.top!==null&&he.style.setProperty("top",pe.top),pe.left!==null&&(he.style.left=pe.left),he.style.transformOrigin=pe.transformOrigin,W(!0)},[U]);_.useEffect(()=>(I&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[i,I,V]);const Y=()=>{V()},J=()=>{W(!1)};_.useEffect(()=>{y&&V()}),_.useImperativeHandle(o,()=>y?{updatePosition:()=>{V()}}:null,[y,V]),_.useEffect(()=>{if(!y)return;const he=Kc(()=>{V()}),pe=os(Sw(i));return pe.addEventListener("resize",he),()=>{he.clear(),pe.removeEventListener("resize",he)}},[i,y,V]);let ne=R;const z={slots:{transition:T,...v},slotProps:{transition:M,paper:b,...S}},[K,Z]=cn("transition",{elementType:Qg,externalForwardedProps:z,ownerState:L,getSlotProps:he=>({...he,onEntering:(pe,Se)=>{he.onEntering?.(pe,Se),Y()},onExited:pe=>{he.onExited?.(pe),J()}}),additionalProps:{appear:!0,in:y}});R==="auto"&&!K.muiSupportAuto&&(ne=void 0);const le=f||(i?qr(Sw(i)).body:void 0),[ce,{slots:ue,slotProps:ae,...ye}]=cn("root",{ref:n,elementType:P1e,externalForwardedProps:{...z,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:P3(typeof S.backdrop=="function"?S.backdrop(L):S.backdrop,{invisible:!0})},container:le,open:y},ownerState:L,className:Ke(D.root,h)}),[Me,xe]=cn("paper",{ref:P,className:D.paper,elementType:YU,externalForwardedProps:z,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:q?void 0:{opacity:0}},ownerState:L});return x.jsx(ce,{...ye,...!rf(ce)&&{slots:ue,slotProps:ae,disableScrollLock:I},children:x.jsx(K,{...Z,timeout:ne,children:x.jsx(Me,{...xe,children:u})})})});function D1e(e){return Xt("MuiMenu",e)}Kt("MuiMenu",["root","paper","list"]);const A1e={vertical:"top",horizontal:"right"},L1e={vertical:"top",horizontal:"left"},N1e=e=>{const{classes:t}=e;return ht({root:["root"],paper:["paper"],list:["list"]},D1e,t)},B1e=we(k1e,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),F1e=we(YU,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),j1e=we(GU,{name:"MuiMenu",slot:"List"})({outline:0}),Cw=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:s,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:u,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:y,...b}={},variant:v="selectedMenu",slots:S={},slotProps:E={},...T}=r,R=Uo(),M={...r,autoFocus:o,disableAutoFocusItem:a,MenuListProps:c,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:b,variant:v},I=N1e(M),N=o&&!a&&h,P=_.useRef(null),L=(ne,z)=>{P.current&&P.current.adjustStyleForScrollbar(ne,{direction:R?"rtl":"ltr"}),y&&y(ne,z)},D=ne=>{ne.key==="Tab"&&(ne.preventDefault(),u&&u(ne,"tabKeyDown"))};let $=-1;_.Children.map(i,(ne,z)=>{_.isValidElement(ne)&&(ne.props.disabled||(v==="selectedMenu"&&ne.props.selected||$===-1)&&($=z))});const B={slots:S,slotProps:{list:c,transition:b,paper:f,...E}},U=Ho({elementType:S.root,externalSlotProps:E.root,ownerState:M,className:[I.root,s]}),[q,W]=cn("paper",{className:I.paper,elementType:F1e,externalForwardedProps:B,shouldForwardComponentProp:!0,ownerState:M}),[V,Y]=cn("list",{className:Ke(I.list,c.className),elementType:j1e,shouldForwardComponentProp:!0,externalForwardedProps:B,getSlotProps:ne=>({...ne,onKeyDown:z=>{D(z),ne.onKeyDown?.(z)}}),ownerState:M}),J=typeof B.slotProps.transition=="function"?B.slotProps.transition(M):B.slotProps.transition;return x.jsx(B1e,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?A1e:L1e,slots:{root:S.root,paper:q,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:U,paper:W,backdrop:typeof E.backdrop=="function"?E.backdrop(M):E.backdrop,transition:{...J,onEntering:(...ne)=>{L(...ne),J?.onEntering?.(...ne)}}},open:h,ref:n,transitionDuration:m,ownerState:M,...T,classes:g,children:x.jsx(V,{actions:P,autoFocus:o&&($===-1||a),autoFocusItem:N,variant:v,...Y,children:i})})});function V1e(e){return Xt("MuiMenuItem",e)}const tm=Kt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),$1e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},z1e=e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=e,c=ht({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},V1e,s);return{...s,...c}},U1e=we(ll,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:$1e})(Ht(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tm.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${tm.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${tm.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${tm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${tm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${AU.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${AU.inset}`]:{marginLeft:52},[`& .${Ad.root}`]:{marginTop:0,marginBottom:0},[`& .${Ad.inset}`]:{paddingLeft:36},[`& .${$U.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${$U.root} svg`]:{fontSize:"1.25rem"}}}]}))),zi=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:f,className:g,...m}=r,y=_.useContext(Ca),b=_.useMemo(()=>({dense:s||y.dense||!1,disableGutters:c}),[y.dense,s,c]),v=_.useRef(null);Un(()=>{o&&v.current&&v.current.focus()},[o]);const S={...r,dense:b.dense,divider:a,disableGutters:c},E=z1e(r),T=Tn(v,n);let R;return r.disabled||(R=f!==void 0?f:-1),x.jsx(Ca.Provider,{value:b,children:x.jsx(U1e,{ref:T,role:h,tabIndex:R,component:i,focusVisibleClassName:Ke(E.focusVisible,u),className:Ke(E.root,g),...m,ownerState:S,classes:E})})});function H1e(e){return Xt("MuiNativeSelect",e)}const zO=Kt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),G1e=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${We(n)}`,i&&"iconOpen",r&&"disabled"]};return ht(a,H1e,t)},XU=we("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${zO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),W1e=we(XU,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:_i,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${zO.multiple}`]:t.multiple}]}})({}),ZU=we("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${zO.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),K1e=we(ZU,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${We(n.variant)}`],n.open&&t.iconOpen]}})({}),q1e=_.forwardRef(function(t,n){const{className:r,disabled:o,error:i,IconComponent:s,inputRef:a,variant:c="standard",...u}=t,h={...t,disabled:o,variant:c,error:i},f=G1e(h);return x.jsxs(_.Fragment,{children:[x.jsx(W1e,{ownerState:h,className:Ke(f.select,r),disabled:o,ref:a||n,...u}),t.multiple?null:x.jsx(K1e,{as:s,ownerState:h,className:f.icon})]})});var JU;const Y1e=we("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:_i})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),X1e=we("legend",{name:"MuiNotchedOutlined",shouldForwardProp:_i})(Ht(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function Z1e(e){const{children:t,classes:n,className:r,label:o,notched:i,...s}=e,a=o!=null&&o!=="",c={...e,notched:i,withLabel:a};return x.jsx(Y1e,{"aria-hidden":!0,className:r,ownerState:c,...s,children:x.jsx(X1e,{ownerState:c,children:a?x.jsx("span",{children:o}):JU||(JU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const J1e=e=>{const{classes:t}=e,r=ht({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Lxe,t);return{...t,...r}},Q1e=we(hw,{shouldForwardProp:e=>_i(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:uw})(Ht(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ws.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${Ws.focused} .${Ws.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Yr()).map(([n])=>({props:{color:n},style:{[`&.${Ws.focused} .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Ws.error} .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ws.disabled} .${Ws.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),eTe=we(Z1e,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ht(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),tTe=we(fw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:dw})(Ht(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),UO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:i=!1,inputComponent:s="input",label:a,multiline:c=!1,notched:u,slots:h={},slotProps:f={},type:g="text",...m}=r,y=J1e(r),b=Zl(),v=kd({props:r,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:b,fullWidth:i,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:g},E=h.root??o.Root??Q1e,T=h.input??o.Input??tTe,[R,M]=cn("notchedOutline",{elementType:eTe,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:h,slotProps:f},additionalProps:{label:a!=null&&a!==""&&v.required?x.jsxs(_.Fragment,{children:[a," ","*"]}):a}});return x.jsx(Kg,{slots:{root:E,input:T},slotProps:f,renderSuffix:I=>x.jsx(R,{...M,notched:typeof u<"u"?u:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:i,inputComponent:s,multiline:c,ref:n,type:g,...m,classes:{...y,notchedOutline:null}})});UO.muiName="Input";const nTe=xt(x.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),rTe=xt(x.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function QU(e){return Xt("MuiSelect",e)}const nm=Kt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var eH;const oTe=we(XU,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${nm.select}`]:t.select},{[`&.${nm.select}`]:t[n.variant]},{[`&.${nm.error}`]:t.error},{[`&.${nm.multiple}`]:t.multiple}]}})({[`&.${nm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),iTe=we(ZU,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${We(n.variant)}`],n.open&&t.iconOpen]}})({}),sTe=we("input",{shouldForwardProp:e=>R3(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function tH(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function aTe(e){return e==null||typeof e=="string"&&!e.trim()}const lTe=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${We(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ht(a,QU,t)},cTe=_.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":o,autoFocus:i,autoWidth:s,children:a,className:c,defaultOpen:u,defaultValue:h,disabled:f,displayEmpty:g,error:m=!1,IconComponent:y,inputRef:b,labelId:v,MenuProps:S={},multiple:E,name:T,onBlur:R,onChange:M,onClose:I,onFocus:N,onOpen:P,open:L,readOnly:D,renderValue:$,required:B,SelectDisplayProps:U={},tabIndex:q,type:W,value:V,variant:Y="standard",...J}=t,[ne,z]=Ed({controlled:V,default:h,name:"Select"}),[K,Z]=Ed({controlled:L,default:u,name:"Select"}),le=_.useRef(null),ce=_.useRef(null),[ue,ae]=_.useState(null),{current:ye}=_.useRef(L!=null),[Me,xe]=_.useState(),he=Tn(n,b),pe=_.useCallback(at=>{ce.current=at,at&&ae(at)},[]),Se=ue?.parentNode;_.useImperativeHandle(he,()=>({focus:()=>{ce.current.focus()},node:le.current,value:ne}),[ne]),_.useEffect(()=>{u&&K&&ue&&!ye&&(xe(s?null:Se.clientWidth),ce.current.focus())},[ue,s]),_.useEffect(()=>{i&&ce.current.focus()},[i]),_.useEffect(()=>{if(!v)return;const at=qr(ce.current).getElementById(v);if(at){const At=()=>{getSelection().isCollapsed&&ce.current.focus()};return at.addEventListener("click",At),()=>{at.removeEventListener("click",At)}}},[v]);const Ee=(at,At)=>{at?P&&P(At):I&&I(At),ye||(xe(s?null:Se.clientWidth),Z(at))},ke=at=>{at.button===0&&(at.preventDefault(),ce.current.focus(),Ee(!0,at))},Te=at=>{Ee(!1,at)},Ve=_.Children.toArray(a),rt=at=>{const At=Ve.find(ft=>ft.props.value===at.target.value);At!==void 0&&(z(At.props.value),M&&M(at,At))},je=at=>At=>{let ft;if(At.currentTarget.hasAttribute("tabindex")){if(E){ft=Array.isArray(ne)?ne.slice():[];const Pt=ne.indexOf(at.props.value);Pt===-1?ft.push(at.props.value):ft.splice(Pt,1)}else ft=at.props.value;if(at.props.onClick&&at.props.onClick(At),ne!==ft&&(z(ft),M)){const Pt=At.nativeEvent||At,Pn=new Pt.constructor(Pt.type,Pt);Object.defineProperty(Pn,"target",{writable:!0,value:{value:ft,name:T}}),M(Pn,at)}E||Ee(!1,At)}},Rt=at=>{D||[" ","ArrowUp","ArrowDown","Enter"].includes(at.key)&&(at.preventDefault(),Ee(!0,at))},dt=ue!==null&&K,Ct=at=>{!dt&&R&&(Object.defineProperty(at,"target",{writable:!0,value:{value:ne,name:T}}),R(at))};delete J["aria-invalid"];let $e,It;const mt=[];let Bt=!1;(cw({value:ne})||g)&&($?$e=$(ne):Bt=!0);const zt=Ve.map(at=>{if(!_.isValidElement(at))return null;let At;if(E){if(!Array.isArray(ne))throw new Error(Kl(2));At=ne.some(ft=>tH(ft,at.props.value)),At&&Bt&&mt.push(at.props.children)}else At=tH(ne,at.props.value),At&&Bt&&(It=at.props.children);return _.cloneElement(at,{"aria-selected":At?"true":"false",onClick:je(at),onKeyUp:ft=>{ft.key===" "&&ft.preventDefault(),at.props.onKeyUp&&at.props.onKeyUp(ft)},role:"option",selected:At,value:void 0,"data-value":at.props.value})});Bt&&(E?mt.length===0?$e=null:$e=mt.reduce((at,At,ft)=>(at.push(At),ft<mt.length-1&&at.push(", "),at),[]):$e=It);let qt=Me;!s&&ye&&ue&&(qt=Se.clientWidth);let tn;typeof q<"u"?tn=q:tn=f?null:0;const gt=U.id||(T?`mui-component-select-${T}`:void 0),_t={...t,variant:Y,value:ne,open:dt,error:m},Ge=lTe(_t),ct={...S.PaperProps,...typeof S.slotProps?.paper=="function"?S.slotProps.paper(_t):S.slotProps?.paper},ut={...S.MenuListProps,...typeof S.slotProps?.list=="function"?S.slotProps.list(_t):S.slotProps?.list},St=Dn();return x.jsxs(_.Fragment,{children:[x.jsx(oTe,{as:"div",ref:pe,tabIndex:tn,role:"combobox","aria-controls":dt?St:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":dt?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,gt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":B?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:Rt,onMouseDown:f||D?null:ke,onBlur:Ct,onFocus:N,...U,ownerState:_t,className:Ke(U.className,Ge.select,c),id:gt,children:aTe($e)?eH||(eH=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):$e}),x.jsx(sTe,{"aria-invalid":m,value:Array.isArray(ne)?ne.join(","):ne,name:T,ref:le,"aria-hidden":!0,onChange:rt,tabIndex:-1,disabled:f,className:Ge.nativeInput,autoFocus:i,required:B,...J,ownerState:_t}),x.jsx(iTe,{as:y,className:Ge.icon,ownerState:_t}),x.jsx(Cw,{id:`menu-${T||""}`,anchorEl:Se,open:dt,onClose:Te,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:St,...ut},paper:{...ct,style:{minWidth:qt,...ct!=null?ct.style:null}}},children:zt})]})}),uTe=e=>{const{classes:t}=e,r=ht({root:["root"]},QU,t);return{...t,...r}},HO={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>_i(e)&&e!=="variant"},dTe=we(AO,HO)(""),hTe=we(UO,HO)(""),fTe=we(PO,HO)(""),xw=_.forwardRef(function(t,n){const r=sn({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=mU,id:f,input:g,inputProps:m,label:y,labelId:b,MenuProps:v,multiple:S=!1,native:E=!1,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:N,variant:P="outlined",...L}=r,D=E?q1e:cTe,$=Zl(),B=kd({props:r,muiFormControl:$,states:["variant","error"]}),U=B.variant||P,q={...r,variant:U,classes:s},W=uTe(q),{root:V,...Y}=W,J=g||{standard:x.jsx(dTe,{ownerState:q}),outlined:x.jsx(hTe,{label:y,ownerState:q}),filled:x.jsx(fTe,{ownerState:q})}[U],ne=Tn(n,Zc(J));return x.jsx(_.Fragment,{children:_.cloneElement(J,{inputComponent:D,inputProps:{children:i,error:B.error,IconComponent:h,variant:U,type:void 0,multiple:S,...E?{id:f}:{autoWidth:o,defaultOpen:c,displayEmpty:u,labelId:b,MenuProps:v,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:{id:f,...N}},...m,classes:m?zo(Y,m.classes):Y,...g?g.props.inputProps:{}},...(S&&E||u)&&U==="outlined"?{notched:!0}:{},ref:ne,className:Ke(J.props.className,a,W.root),...!g&&{variant:U},...L})})});xw.muiName="Select";function pTe(e){return Xt("MuiSkeleton",e)}Kt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const gTe=e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:s}=e;return ht({root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!s&&"heightAuto"]},pTe,t)},GO=Bs`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,WO=Bs`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,mTe=typeof GO!="string"?Hc`
        animation: ${GO} 2s ease-in-out 0.5s infinite;
      `:null,vTe=typeof WO!="string"?Hc`
        &::after {
          animation: ${WO} 2s linear 0.5s infinite;
        }
      `:null,yTe=we("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(Ht(({theme:e})=>{const t=KSe(e.shape.borderRadius)||"px",n=qSe(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:e.alpha(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:mTe||{animation:`${GO} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:vTe||{"&::after":{animation:`${WO} 2s linear 0.5s infinite`}}}]}})),bTe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:s="span",height:a,style:c,variant:u="text",width:h,...f}=r,g={...r,animation:o,component:s,variant:u,hasChildren:!!f.children},m=gTe(g);return x.jsx(yTe,{as:s,ref:n,className:Ke(m.root,i),ownerState:g,...f,style:{width:h,height:a,...c}})});function wTe(e){return Xt("MuiTooltip",e)}const co=Kt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function STe(e){return Math.round(e*1e5)/1e5}const CTe=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${We(i.split("-")[0])}`],arrow:["arrow"]};return ht(s,wTe,t)},xTe=we(Wg,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(Ht(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${co.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${co.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${co.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${co.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${co.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${co.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${co.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${co.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),_Te=we("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${We(n.placement.split("-")[0])}`]]}})(Ht(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${co.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${co.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${co.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${co.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${STe(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${co.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${co.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${co.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${co.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),ETe=we("span",{name:"MuiTooltip",slot:"Arrow"})(Ht(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let _w=!1;const nH=new Qb;let rm={x:0,y:0};function Ew(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Mn=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTooltip"}),{arrow:o=!1,children:i,classes:s,components:a={},componentsProps:c={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:f=!1,disableInteractive:g=!1,disableTouchListener:m=!1,enterDelay:y=100,enterNextDelay:b=0,enterTouchDelay:v=700,followCursor:S=!1,id:E,leaveDelay:T=0,leaveTouchDelay:R=1500,onClose:M,onOpen:I,open:N,placement:P="bottom",PopperComponent:L,PopperProps:D={},slotProps:$={},slots:B={},title:U,TransitionComponent:q,TransitionProps:W,...V}=r,Y=_.isValidElement(i)?i:x.jsx("span",{children:i}),J=al(),ne=Uo(),[z,K]=_.useState(),[Z,le]=_.useState(null),ce=_.useRef(!1),ue=g||S,ae=Fi(),ye=Fi(),Me=Fi(),xe=Fi(),[he,pe]=Ed({controlled:N,default:!1,name:"Tooltip",state:"open"});let Se=he;const Ee=Dn(E),ke=_.useRef(),Te=$t(()=>{ke.current!==void 0&&(document.body.style.WebkitUserSelect=ke.current,ke.current=void 0),xe.clear()});_.useEffect(()=>Te,[Te]);const Ve=an=>{nH.clear(),_w=!0,pe(!0),I&&!Se&&I(an)},rt=$t(an=>{nH.start(800+T,()=>{_w=!1}),pe(!1),M&&Se&&M(an),ae.start(J.transitions.duration.shortest,()=>{ce.current=!1})}),je=an=>{ce.current&&an.type!=="touchstart"||(z&&z.removeAttribute("title"),ye.clear(),Me.clear(),y||_w&&b?ye.start(_w?b:y,()=>{Ve(an)}):Ve(an))},Rt=an=>{ye.clear(),Me.start(T,()=>{rt(an)})},[,dt]=_.useState(!1),Ct=an=>{tw(an.target)||(dt(!1),Rt(an))},$e=an=>{z||K(an.currentTarget),tw(an.target)&&(dt(!0),je(an))},It=an=>{ce.current=!0;const Ln=Y.props;Ln.onTouchStart&&Ln.onTouchStart(an)},mt=an=>{It(an),Me.clear(),ae.clear(),Te(),ke.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",xe.start(v,()=>{document.body.style.WebkitUserSelect=ke.current,je(an)})},Bt=an=>{Y.props.onTouchEnd&&Y.props.onTouchEnd(an),Te(),Me.start(R,()=>{rt(an)})};_.useEffect(()=>{if(!Se)return;function an(Ln){Ln.key==="Escape"&&rt(Ln)}return document.addEventListener("keydown",an),()=>{document.removeEventListener("keydown",an)}},[rt,Se]);const zt=Tn(Zc(Y),K,n);!U&&U!==0&&(Se=!1);const qt=_.useRef(),tn=an=>{const Ln=Y.props;Ln.onMouseMove&&Ln.onMouseMove(an),rm={x:an.clientX,y:an.clientY},qt.current&&qt.current.update()},gt={},_t=typeof U=="string";u?(gt.title=!Se&&_t&&!f?U:null,gt["aria-describedby"]=Se?Ee:null):(gt["aria-label"]=_t?U:null,gt["aria-labelledby"]=Se&&!_t?Ee:null);const Ge={...gt,...V,...Y.props,className:Ke(V.className,Y.props.className),onTouchStart:It,ref:zt,...S?{onMouseMove:tn}:{}},ct={};m||(Ge.onTouchStart=mt,Ge.onTouchEnd=Bt),f||(Ge.onMouseOver=Ew(je,Ge.onMouseOver),Ge.onMouseLeave=Ew(Rt,Ge.onMouseLeave),ue||(ct.onMouseOver=je,ct.onMouseLeave=Rt)),h||(Ge.onFocus=Ew($e,Ge.onFocus),Ge.onBlur=Ew(Ct,Ge.onBlur),ue||(ct.onFocus=$e,ct.onBlur=Ct));const ut={...r,isRtl:ne,arrow:o,disableInteractive:ue,placement:P,PopperComponentProp:L,touch:ce.current},St=typeof $.popper=="function"?$.popper(ut):$.popper,at=_.useMemo(()=>{let an=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return D.popperOptions?.modifiers&&(an=an.concat(D.popperOptions.modifiers)),St?.popperOptions?.modifiers&&(an=an.concat(St.popperOptions.modifiers)),{...D.popperOptions,...St?.popperOptions,modifiers:an}},[Z,D.popperOptions,St?.popperOptions]),At=CTe(ut),ft=typeof $.transition=="function"?$.transition(ut):$.transition,Pt={slots:{popper:a.Popper,transition:a.Transition??q,tooltip:a.Tooltip,arrow:a.Arrow,...B},slotProps:{arrow:$.arrow??c.arrow,popper:{...D,...St??c.popper},tooltip:$.tooltip??c.tooltip,transition:{...W,...ft??c.transition}}},[Pn,An]=cn("popper",{elementType:xTe,externalForwardedProps:Pt,ownerState:ut,className:Ke(At.popper,D?.className)}),[cr,_n]=cn("transition",{elementType:Qg,externalForwardedProps:Pt,ownerState:ut}),[Er,Yn]=cn("tooltip",{elementType:_Te,className:At.tooltip,externalForwardedProps:Pt,ownerState:ut}),[Nr,Br]=cn("arrow",{elementType:ETe,className:At.arrow,externalForwardedProps:Pt,ownerState:ut,ref:le});return x.jsxs(_.Fragment,{children:[_.cloneElement(Y,Ge),x.jsx(Pn,{as:L??Wg,placement:P,anchorEl:S?{getBoundingClientRect:()=>({top:rm.y,left:rm.x,right:rm.x,bottom:rm.y,width:0,height:0})}:z,popperRef:qt,open:z?Se:!1,id:Ee,transition:!0,...ct,...An,popperOptions:at,children:({TransitionProps:an})=>x.jsx(cr,{timeout:J.transitions.duration.shorter,...an,..._n,children:x.jsxs(Er,{...Yn,children:[U,o?x.jsx(Nr,{...Br}):null]})})})]})}),TTe=gSe({createStyledComponent:we("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>sn({props:e,name:"MuiStack"})});function MTe(e){return Xt("MuiSwitch",e)}const Ei=Kt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),OTe=e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:s}=e,a={root:["root",n&&`edge${We(n)}`,`size${We(r)}`],switchBase:["switchBase",`color${We(o)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ht(a,MTe,t);return{...t,...c}},RTe=we("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${We(n.edge)}`],t[`size${We(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ei.thumb}`]:{width:16,height:16},[`& .${Ei.switchBase}`]:{padding:4,[`&.${Ei.checked}`]:{transform:"translateX(16px)"}}}}]}),ITe=we(_U,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Ei.input}`]:t.input},n.color!=="default"&&t[`color${We(n.color)}`]]}})(Ht(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Ei.checked}`]:{transform:"translateX(20px)"},[`&.${Ei.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Ei.checked} + .${Ei.track}`]:{opacity:.5},[`&.${Ei.disabled} + .${Ei.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Ei.input}`]:{left:"-100%",width:"300%"}})),Ht(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Yr(["light"])).map(([t])=>({props:{color:t},style:{[`&.${Ei.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ei.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${Ei.checked} + .${Ei.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),PTe=we("span",{name:"MuiSwitch",slot:"Track"})(Ht(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),kTe=we("span",{name:"MuiSwitch",slot:"Thumb"})(Ht(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),rH=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiSwitch"}),{className:o,color:i="primary",edge:s=!1,size:a="medium",sx:c,slots:u={},slotProps:h={},...f}=r,g={...r,color:i,edge:s,size:a},m=OTe(g),y={slots:u,slotProps:h},[b,v]=cn("root",{className:Ke(m.root,o),elementType:RTe,externalForwardedProps:y,ownerState:g,additionalProps:{sx:c}}),[S,E]=cn("thumb",{className:m.thumb,elementType:kTe,externalForwardedProps:y,ownerState:g}),T=x.jsx(S,{...E}),[R,M]=cn("track",{className:m.track,elementType:PTe,externalForwardedProps:y,ownerState:g});return x.jsxs(b,{...v,children:[x.jsx(ITe,{type:"checkbox",icon:T,checkedIcon:T,ref:n,ownerState:g,...f,classes:{...m,root:m.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(g):h.switchBase},input:{role:"switch"},...h.input&&{input:typeof h.input=="function"?h.input(g):h.input}}}),x.jsx(R,{...M})]})});function DTe(e){return Xt("MuiTab",e)}const Ks=Kt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),ATe=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:c}=e,u={root:["root",i&&s&&"labelIcon",`textColor${We(n)}`,r&&"fullWidth",o&&"wrapped",a&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return ht(u,DTe,t)},LTe=we(ll,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${We(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Ks.iconWrapper}`]:t.iconWrapper},{[`& .${Ks.icon}`]:t.icon}]}})(Ht(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${Ks.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${Ks.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${Ks.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${Ks.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Ks.selected}`]:{opacity:1},[`&.${Ks.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ks.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Ks.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ks.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Ks.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),KO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:c,iconPosition:u="top",indicator:h,label:f,onChange:g,onClick:m,onFocus:y,selected:b,selectionFollowsFocus:v,textColor:S="inherit",value:E,wrapped:T=!1,...R}=r,M={...r,disabled:i,disableFocusRipple:s,selected:b,icon:!!c,iconPosition:u,label:!!f,fullWidth:a,textColor:S,wrapped:T},I=ATe(M),N=c&&f&&_.isValidElement(c)?_.cloneElement(c,{className:Ke(I.icon,c.props.className)}):c,P=D=>{!b&&g&&g(D,E),m&&m(D)},L=D=>{v&&!b&&g&&g(D,E),y&&y(D)};return x.jsxs(LTe,{focusRipple:!s,className:Ke(I.root,o),ref:n,role:"tab","aria-selected":b,disabled:i,onClick:P,onFocus:L,ownerState:M,tabIndex:b?0:-1,...R,children:[u==="top"||u==="start"?x.jsxs(_.Fragment,{children:[N,f]}):x.jsxs(_.Fragment,{children:[f,N]}),h]})}),NTe=_.createContext(),BTe=_.createContext();function FTe(e){return Xt("MuiTableCell",e)}const jTe=Kt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),VTe=e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${We(r)}`,o!=="normal"&&`padding${We(o)}`,`size${We(i)}`]};return ht(a,FTe,t)},$Te=we("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${We(n.size)}`],n.padding!=="normal"&&t[`padding${We(n.padding)}`],n.align!=="inherit"&&t[`align${We(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(Ht(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${jTe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),qO=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:a,scope:c,size:u,sortDirection:h,variant:f,...g}=r,m=_.useContext(NTe),y=_.useContext(BTe),b=y&&y.variant==="head";let v;s?v=s:v=b?"th":"td";let S=c;v==="td"?S=void 0:!S&&b&&(S="col");const E=f||y&&y.variant,T={...r,align:o,component:v,padding:a||(m&&m.padding?m.padding:"normal"),size:u||(m&&m.size?m.size:"medium"),sortDirection:h,stickyHeader:E==="head"&&m&&m.stickyHeader,variant:E},R=VTe(T);let M=null;return h&&(M=h==="asc"?"ascending":"descending"),x.jsx($Te,{as:v,ref:n,className:Ke(R.root,i),"aria-sort":M,scope:S,ownerState:T,...g})});function zTe(e){return Xt("MuiToolbar",e)}Kt("MuiToolbar",["root","gutters","regular","dense"]);const UTe=e=>{const{classes:t,disableGutters:n,variant:r}=e;return ht({root:["root",!n&&"gutters",r]},zTe,t)},HTe=we("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(Ht(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),oH=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiToolbar"}),{className:o,component:i="div",disableGutters:s=!1,variant:a="regular",...c}=r,u={...r,component:i,disableGutters:s,variant:a},h=UTe(u);return x.jsx(HTe,{as:i,className:Ke(h.root,o),ref:n,ownerState:u,...c})}),iH=xt(x.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),sH=xt(x.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function GTe(e){return Xt("MuiTablePaginationActions",e)}Kt("MuiTablePaginationActions",["root"]);const WTe=e=>{const{classes:t}=e;return ht({root:["root"]},GTe,t)},KTe=we("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),qTe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTablePaginationActions"}),{backIconButtonProps:o,className:i,count:s,disabled:a=!1,getItemAriaLabel:c,nextIconButtonProps:u,onPageChange:h,page:f,rowsPerPage:g,showFirstButton:m,showLastButton:y,slots:b={},slotProps:v={},...S}=r,E=Uo(),R=WTe(r),M=ue=>{h(ue,0)},I=ue=>{h(ue,f-1)},N=ue=>{h(ue,f+1)},P=ue=>{h(ue,Math.max(0,Math.ceil(s/g)-1))},L=b.firstButton??wn,D=b.lastButton??wn,$=b.nextButton??wn,B=b.previousButton??wn,U=b.firstButtonIcon??nTe,q=b.lastButtonIcon??rTe,W=b.nextButtonIcon??sH,V=b.previousButtonIcon??iH,Y=E?D:L,J=E?$:B,ne=E?B:$,z=E?L:D,K=E?v.lastButton:v.firstButton,Z=E?v.nextButton:v.previousButton,le=E?v.previousButton:v.nextButton,ce=E?v.firstButton:v.lastButton;return x.jsxs(KTe,{ref:n,className:Ke(R.root,i),...S,children:[m&&x.jsx(Y,{onClick:M,disabled:a||f===0,"aria-label":c("first",f),title:c("first",f),...K,children:E?x.jsx(q,{...v.lastButtonIcon}):x.jsx(U,{...v.firstButtonIcon})}),x.jsx(J,{onClick:I,disabled:a||f===0,color:"inherit","aria-label":c("previous",f),title:c("previous",f),...Z??o,children:E?x.jsx(W,{...v.nextButtonIcon}):x.jsx(V,{...v.previousButtonIcon})}),x.jsx(ne,{onClick:N,disabled:a||(s!==-1?f>=Math.ceil(s/g)-1:!1),color:"inherit","aria-label":c("next",f),title:c("next",f),...le??u,children:E?x.jsx(V,{...v.previousButtonIcon}):x.jsx(W,{...v.nextButtonIcon})}),y&&x.jsx(z,{onClick:P,disabled:a||f>=Math.ceil(s/g)-1,"aria-label":c("last",f),title:c("last",f),...ce,children:E?x.jsx(U,{...v.firstButtonIcon}):x.jsx(q,{...v.lastButtonIcon})})]})});function YTe(e){return Xt("MuiTablePagination",e)}const Ld=Kt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var aH;const XTe=we(qO,{name:"MuiTablePagination",slot:"Root"})(Ht(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),ZTe=we(oH,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${Ld.actions}`]:t.actions,...t.toolbar})})(Ht(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Ld.actions}`]:{flexShrink:0,marginLeft:20}}))),JTe=we("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),QTe=we("p",{name:"MuiTablePagination",slot:"SelectLabel"})(Ht(({theme:e})=>({...e.typography.body2,flexShrink:0}))),eMe=we(xw,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${Ld.selectIcon}`]:t.selectIcon,[`& .${Ld.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Ld.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),tMe=we(zi,{name:"MuiTablePagination",slot:"MenuItem"})({}),nMe=we("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(Ht(({theme:e})=>({...e.typography.body2,flexShrink:0})));function rMe({from:e,to:t,count:n}){return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`}function oMe(e){return`Go to ${e} page`}const iMe=e=>{const{classes:t}=e;return ht({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},YTe,t)},sMe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTablePagination"}),{ActionsComponent:o=qTe,backIconButtonProps:i,colSpan:s,component:a=qO,count:c,disabled:u=!1,getItemAriaLabel:h=oMe,labelDisplayedRows:f=rMe,labelRowsPerPage:g="Rows per page:",nextIconButtonProps:m,onPageChange:y,onRowsPerPageChange:b,page:v,rowsPerPage:S,rowsPerPageOptions:E=[10,25,50,100],SelectProps:T={},showFirstButton:R=!1,showLastButton:M=!1,slotProps:I={},slots:N={},...P}=r,L=r,D=iMe(L),$=I?.select??T,B=$.native?"option":tMe;let U;(a===qO||a==="td")&&(U=s||1e3);const q=Dn($.id),W=Dn($.labelId),V=()=>c===-1?(v+1)*S:S===-1?c:Math.min(c,(v+1)*S),Y={slots:N,slotProps:I},[J,ne]=cn("root",{ref:n,className:D.root,elementType:XTe,externalForwardedProps:{...Y,component:a,...P},ownerState:L,additionalProps:{colSpan:U}}),[z,K]=cn("toolbar",{className:D.toolbar,elementType:ZTe,externalForwardedProps:Y,ownerState:L}),[Z,le]=cn("spacer",{className:D.spacer,elementType:JTe,externalForwardedProps:Y,ownerState:L}),[ce,ue]=cn("selectLabel",{className:D.selectLabel,elementType:QTe,externalForwardedProps:Y,ownerState:L,additionalProps:{id:W}}),[ae,ye]=cn("select",{className:D.select,elementType:eMe,externalForwardedProps:Y,ownerState:L}),[Me,xe]=cn("menuItem",{className:D.menuItem,elementType:B,externalForwardedProps:Y,ownerState:L}),[he,pe]=cn("displayedRows",{className:D.displayedRows,elementType:nMe,externalForwardedProps:Y,ownerState:L});return x.jsx(J,{...ne,children:x.jsxs(z,{...K,children:[x.jsx(Z,{...le}),E.length>1&&x.jsx(ce,{...ue,children:g}),E.length>1&&x.jsx(ae,{variant:"standard",...!$.variant&&{input:aH||(aH=x.jsx(Kg,{}))},value:S,onChange:b,id:q,labelId:W,...$,classes:{...$.classes,root:Ke(D.input,D.selectRoot,($.classes||{}).root),select:Ke(D.select,($.classes||{}).select),icon:Ke(D.selectIcon,($.classes||{}).icon)},disabled:u,...ye,children:E.map(Se=>_.createElement(Me,{...xe,key:Se.label?Se.label:Se,value:Se.value?Se.value:Se},Se.label?Se.label:Se))}),x.jsx(he,{...pe,children:f({from:c===0?0:v*S+1,to:V(),count:c===-1?-1:c,page:v})}),x.jsx(o,{className:D.actions,backIconButtonProps:i,count:c,nextIconButtonProps:m,onPageChange:y,page:v,rowsPerPage:S,showFirstButton:R,showLastButton:M,slotProps:I.actions,slots:N.actions,getItemAriaLabel:h,disabled:u})]})})});function aMe(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function lMe(e,t,n,r={},o=()=>{}){const{ease:i=aMe,duration:s=300}=r;let a=null;const c=t[e];let u=!1;const h=()=>{u=!0},f=g=>{if(u){o(new Error("Animation cancelled"));return}a===null&&(a=g);const m=Math.min(1,(g-a)/s);if(t[e]=i(m)*(n-c)+c,m>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(f)};return c===n?(o(new Error("Element already at target position")),h):(requestAnimationFrame(f),h)}const cMe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function uMe(e){const{onChange:t,...n}=e,r=_.useRef(),o=_.useRef(null),i=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return Un(()=>{const s=Kc(()=>{const c=r.current;i(),c!==r.current&&t(r.current)}),a=os(o.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),_.useEffect(()=>{i(),t(r.current)},[t]),x.jsx("div",{style:cMe,...n,ref:o})}function dMe(e){return Xt("MuiTabScrollButton",e)}const lH=Kt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),hMe=e=>{const{classes:t,orientation:n,disabled:r}=e;return ht({root:["root",n,r&&"disabled"]},dMe,t)},fMe=we(ll,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${lH.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),pMe=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTabScrollButton"}),{className:o,slots:i={},slotProps:s={},direction:a,orientation:c,disabled:u,...h}=r,f=Uo(),g={isRtl:f,...r},m=hMe(g),y=i.StartScrollButtonIcon??iH,b=i.EndScrollButtonIcon??sH,v=Ho({elementType:y,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),S=Ho({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return x.jsx(fMe,{component:"div",className:Ke(m.root,o),ref:n,role:null,ownerState:g,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?x.jsx(y,{...v}):x.jsx(b,{...S})})});function gMe(e){return Xt("MuiTabs",e)}const om=Kt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),cH=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,uH=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Tw=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const i=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||i)o=n(e,o);else{o.focus();return}}},mMe=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:c}=e;return ht({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},gMe,c)},vMe=we("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${om.scrollButtons}`]:t.scrollButtons},{[`& .${om.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(Ht(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${om.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),yMe=we("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),bMe=we("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),wMe=we("span",{name:"MuiTabs",slot:"Indicator"})(Ht(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),SMe=we(uMe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),dH={},hH=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTabs"}),o=al(),i=Uo(),{"aria-label":s,"aria-labelledby":a,action:c,centered:u=!1,children:h,className:f,component:g="div",allowScrollButtonsMobile:m=!1,indicatorColor:y="primary",onChange:b,orientation:v="horizontal",ScrollButtonComponent:S,scrollButtons:E="auto",selectionFollowsFocus:T,slots:R={},slotProps:M={},TabIndicatorProps:I={},TabScrollButtonProps:N={},textColor:P="primary",value:L,variant:D="standard",visibleScrollbar:$=!1,...B}=r,U=D==="scrollable",q=v==="vertical",W=q?"scrollTop":"scrollLeft",V=q?"top":"left",Y=q?"bottom":"right",J=q?"clientHeight":"clientWidth",ne=q?"height":"width",z={...r,component:g,allowScrollButtonsMobile:m,indicatorColor:y,orientation:v,vertical:q,scrollButtons:E,textColor:P,variant:D,visibleScrollbar:$,fixed:!U,hideScrollbar:U&&!$,scrollableX:U&&!q,scrollableY:U&&q,centered:u&&!U,scrollButtonsHideMobile:!m},K=mMe(z),Z=Ho({elementType:R.StartScrollButtonIcon,externalSlotProps:M.startScrollButtonIcon,ownerState:z}),le=Ho({elementType:R.EndScrollButtonIcon,externalSlotProps:M.endScrollButtonIcon,ownerState:z}),[ce,ue]=_.useState(!1),[ae,ye]=_.useState(dH),[Me,xe]=_.useState(!1),[he,pe]=_.useState(!1),[Se,Ee]=_.useState(!1),[ke,Te]=_.useState({overflow:"hidden",scrollbarWidth:0}),Ve=new Map,rt=_.useRef(null),je=_.useRef(null),Rt={slots:R,slotProps:{indicator:I,scrollButton:N,...M}},dt=()=>{const Lt=rt.current;let Ft;if(Lt){const nn=Lt.getBoundingClientRect();Ft={clientWidth:Lt.clientWidth,scrollLeft:Lt.scrollLeft,scrollTop:Lt.scrollTop,scrollWidth:Lt.scrollWidth,top:nn.top,bottom:nn.bottom,left:nn.left,right:nn.right}}let rn;if(Lt&&L!==!1){const nn=je.current.children;if(nn.length>0){const Rn=nn[Ve.get(L)];rn=Rn?Rn.getBoundingClientRect():null}}return{tabsMeta:Ft,tabMeta:rn}},Ct=$t(()=>{const{tabsMeta:Lt,tabMeta:Ft}=dt();let rn=0,nn;q?(nn="top",Ft&&Lt&&(rn=Ft.top-Lt.top+Lt.scrollTop)):(nn=i?"right":"left",Ft&&Lt&&(rn=(i?-1:1)*(Ft[nn]-Lt[nn]+Lt.scrollLeft)));const Rn={[nn]:rn,[ne]:Ft?Ft[ne]:0};if(typeof ae[nn]!="number"||typeof ae[ne]!="number")ye(Rn);else{const uo=Math.abs(ae[nn]-Rn[nn]),Bo=Math.abs(ae[ne]-Rn[ne]);(uo>=1||Bo>=1)&&ye(Rn)}}),$e=(Lt,{animation:Ft=!0}={})=>{Ft?lMe(W,rt.current,Lt,{duration:o.transitions.duration.standard}):rt.current[W]=Lt},It=Lt=>{let Ft=rt.current[W];q?Ft+=Lt:Ft+=Lt*(i?-1:1),$e(Ft)},mt=()=>{const Lt=rt.current[J];let Ft=0;const rn=Array.from(je.current.children);for(let nn=0;nn<rn.length;nn+=1){const Rn=rn[nn];if(Ft+Rn[J]>Lt){nn===0&&(Ft=Lt);break}Ft+=Rn[J]}return Ft},Bt=()=>{It(-1*mt())},zt=()=>{It(mt())},[qt,{onChange:tn,...gt}]=cn("scrollbar",{className:Ke(K.scrollableX,K.hideScrollbar),elementType:SMe,shouldForwardComponentProp:!0,externalForwardedProps:Rt,ownerState:z}),_t=_.useCallback(Lt=>{tn?.(Lt),Te({overflow:null,scrollbarWidth:Lt})},[tn]),[Ge,ct]=cn("scrollButtons",{className:Ke(K.scrollButtons,N.className),elementType:pMe,externalForwardedProps:Rt,ownerState:z,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Z,endScrollButtonIcon:le}}}),ut=()=>{const Lt={};Lt.scrollbarSizeListener=U?x.jsx(qt,{...gt,onChange:_t}):null;const rn=U&&(E==="auto"&&(Me||he)||E===!0);return Lt.scrollButtonStart=rn?x.jsx(Ge,{direction:i?"right":"left",onClick:Bt,disabled:!Me,...ct}):null,Lt.scrollButtonEnd=rn?x.jsx(Ge,{direction:i?"left":"right",onClick:zt,disabled:!he,...ct}):null,Lt},St=$t(Lt=>{const{tabsMeta:Ft,tabMeta:rn}=dt();if(!(!rn||!Ft)){if(rn[V]<Ft[V]){const nn=Ft[W]+(rn[V]-Ft[V]);$e(nn,{animation:Lt})}else if(rn[Y]>Ft[Y]){const nn=Ft[W]+(rn[Y]-Ft[Y]);$e(nn,{animation:Lt})}}}),at=$t(()=>{U&&E!==!1&&Ee(!Se)});_.useEffect(()=>{const Lt=Kc(()=>{rt.current&&Ct()});let Ft;const rn=uo=>{uo.forEach(Bo=>{Bo.removedNodes.forEach(ni=>{Ft?.unobserve(ni)}),Bo.addedNodes.forEach(ni=>{Ft?.observe(ni)})}),Lt(),at()},nn=os(rt.current);nn.addEventListener("resize",Lt);let Rn;return typeof ResizeObserver<"u"&&(Ft=new ResizeObserver(Lt),Array.from(je.current.children).forEach(uo=>{Ft.observe(uo)})),typeof MutationObserver<"u"&&(Rn=new MutationObserver(rn),Rn.observe(je.current,{childList:!0})),()=>{Lt.clear(),nn.removeEventListener("resize",Lt),Rn?.disconnect(),Ft?.disconnect()}},[Ct,at]),_.useEffect(()=>{const Lt=Array.from(je.current.children),Ft=Lt.length;if(typeof IntersectionObserver<"u"&&Ft>0&&U&&E!==!1){const rn=Lt[0],nn=Lt[Ft-1],Rn={root:rt.current,threshold:.99},uo=zr=>{xe(!zr[0].isIntersecting)},Bo=new IntersectionObserver(uo,Rn);Bo.observe(rn);const ni=zr=>{pe(!zr[0].isIntersecting)},Oi=new IntersectionObserver(ni,Rn);return Oi.observe(nn),()=>{Bo.disconnect(),Oi.disconnect()}}},[U,E,Se,h?.length]),_.useEffect(()=>{ue(!0)},[]),_.useEffect(()=>{Ct()}),_.useEffect(()=>{St(dH!==ae)},[St,ae]),_.useImperativeHandle(c,()=>({updateIndicator:Ct,updateScrollButtons:at}),[Ct,at]);const[At,ft]=cn("indicator",{className:Ke(K.indicator,I.className),elementType:wMe,externalForwardedProps:Rt,ownerState:z,additionalProps:{style:ae}}),Pt=x.jsx(At,{...ft});let Pn=0;const An=_.Children.map(h,Lt=>{if(!_.isValidElement(Lt))return null;const Ft=Lt.props.value===void 0?Pn:Lt.props.value;Ve.set(Ft,Pn);const rn=Ft===L;return Pn+=1,_.cloneElement(Lt,{fullWidth:D==="fullWidth",indicator:rn&&!ce&&Pt,selected:rn,selectionFollowsFocus:T,onChange:b,textColor:P,value:Ft,...Pn===1&&L===!1&&!Lt.props.tabIndex?{tabIndex:0}:{}})}),cr=Lt=>{if(Lt.altKey||Lt.shiftKey||Lt.ctrlKey||Lt.metaKey)return;const Ft=je.current,rn=qr(Ft).activeElement;if(rn.getAttribute("role")!=="tab")return;let Rn=v==="horizontal"?"ArrowLeft":"ArrowUp",uo=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&i&&(Rn="ArrowRight",uo="ArrowLeft"),Lt.key){case Rn:Lt.preventDefault(),Tw(Ft,rn,uH);break;case uo:Lt.preventDefault(),Tw(Ft,rn,cH);break;case"Home":Lt.preventDefault(),Tw(Ft,null,cH);break;case"End":Lt.preventDefault(),Tw(Ft,null,uH);break}},_n=ut(),[Er,Yn]=cn("root",{ref:n,className:Ke(K.root,f),elementType:vMe,externalForwardedProps:{...Rt,...B,component:g},ownerState:z}),[Nr,Br]=cn("scroller",{ref:rt,className:K.scroller,elementType:yMe,externalForwardedProps:Rt,ownerState:z,additionalProps:{style:{overflow:ke.overflow,[q?`margin${i?"Left":"Right"}`:"marginBottom"]:$?void 0:-ke.scrollbarWidth}}}),[an,Ln]=cn("list",{ref:je,className:Ke(K.list,K.flexContainer),elementType:bMe,externalForwardedProps:Rt,ownerState:z,getSlotProps:Lt=>({...Lt,onKeyDown:Ft=>{cr(Ft),Lt.onKeyDown?.(Ft)}})});return x.jsxs(Er,{...Yn,children:[_n.scrollButtonStart,_n.scrollbarSizeListener,x.jsxs(Nr,{...Br,children:[x.jsx(an,{"aria-label":s,"aria-labelledby":a,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...Ln,children:An}),ce&&Pt]}),_n.scrollButtonEnd]})});function CMe(e){return Xt("MuiTextField",e)}Kt("MuiTextField",["root"]);const xMe={standard:AO,filled:PO,outlined:UO},_Me=e=>{const{classes:t}=e;return ht({root:["root"]},CMe,t)},EMe=we(bw,{name:"MuiTextField",slot:"Root"})({}),hl=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:s,className:a,color:c="primary",defaultValue:u,disabled:h=!1,error:f=!1,FormHelperTextProps:g,fullWidth:m=!1,helperText:y,id:b,InputLabelProps:v,inputProps:S,InputProps:E,inputRef:T,label:R,maxRows:M,minRows:I,multiline:N=!1,name:P,onBlur:L,onChange:D,onFocus:$,placeholder:B,required:U=!1,rows:q,select:W=!1,SelectProps:V,slots:Y={},slotProps:J={},type:ne,value:z,variant:K="outlined",...Z}=r,le={...r,autoFocus:i,color:c,disabled:h,error:f,fullWidth:m,multiline:N,required:U,select:W,variant:K},ce=_Me(le),ue=Dn(b),ae=y&&ue?`${ue}-helper-text`:void 0,ye=R&&ue?`${ue}-label`:void 0,Me=xMe[K],xe={slots:Y,slotProps:{input:E,inputLabel:v,htmlInput:S,formHelperText:g,select:V,...J}},he={},pe=xe.slotProps.inputLabel;K==="outlined"&&(pe&&typeof pe.shrink<"u"&&(he.notched=pe.shrink),he.label=R),W&&((!V||!V.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[Se,Ee]=cn("root",{elementType:EMe,shouldForwardComponentProp:!0,externalForwardedProps:{...xe,...Z},ownerState:le,className:Ke(ce.root,a),ref:n,additionalProps:{disabled:h,error:f,fullWidth:m,required:U,color:c,variant:K}}),[ke,Te]=cn("input",{elementType:Me,externalForwardedProps:xe,additionalProps:he,ownerState:le}),[Ve,rt]=cn("inputLabel",{elementType:FU,externalForwardedProps:xe,ownerState:le}),[je,Rt]=cn("htmlInput",{elementType:"input",externalForwardedProps:xe,ownerState:le}),[dt,Ct]=cn("formHelperText",{elementType:kEe,externalForwardedProps:xe,ownerState:le}),[$e,It]=cn("select",{elementType:xw,externalForwardedProps:xe,ownerState:le}),mt=x.jsx(ke,{"aria-describedby":ae,autoComplete:o,autoFocus:i,defaultValue:u,fullWidth:m,multiline:N,name:P,rows:q,maxRows:M,minRows:I,type:ne,value:z,id:ue,inputRef:T,onBlur:L,onChange:D,onFocus:$,placeholder:B,inputProps:Rt,slots:{input:Y.htmlInput?je:void 0},...Te});return x.jsxs(Se,{...Ee,children:[R!=null&&R!==""&&x.jsx(Ve,{htmlFor:ue,id:ye,...rt,children:R}),W?x.jsx($e,{"aria-describedby":ae,id:ue,labelId:ye,value:z,input:mt,...It,children:s}):mt,y&&x.jsx(dt,{id:ae,...Ct,children:y})]})});function TMe(e){return Xt("MuiToggleButton",e)}const Nd=Kt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),fH=_.createContext({}),pH=_.createContext(void 0);function MMe(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const OMe=e=>{const{classes:t,fullWidth:n,selected:r,disabled:o,size:i,color:s}=e,a={root:["root",r&&"selected",o&&"disabled",n&&"fullWidth",`size${We(i)}`,s]};return ht(a,TMe,t)},RMe=we(ll,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${We(n.size)}`]]}})(Ht(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Nd.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Nd.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(Yr()).map(([t])=>({props:{color:t},style:{[`&.${Nd.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),YO=_.forwardRef(function(t,n){const{value:r,...o}=_.useContext(fH),i=_.useContext(pH),s=xd({...o,selected:MMe(t.value,r)},t),a=sn({props:s,name:"MuiToggleButton"}),{children:c,className:u,color:h="standard",disabled:f=!1,disableFocusRipple:g=!1,fullWidth:m=!1,onChange:y,onClick:b,selected:v,size:S="medium",value:E,...T}=a,R={...a,color:h,disabled:f,disableFocusRipple:g,fullWidth:m,size:S},M=OMe(R),I=P=>{b&&(b(P,E),P.defaultPrevented)||y&&y(P,E)},N=i||"";return x.jsx(RMe,{className:Ke(o.className,M.root,u,N),disabled:f,focusRipple:!g,ref:n,onClick:I,onChange:y,value:E,ownerState:R,"aria-pressed":v,...T,children:c})});function IMe(e){return Xt("MuiToggleButtonGroup",e)}const Vr=Kt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),PMe=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:o}=e,i={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${We(n)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ht(i,IMe,t)},kMe=we("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Vr.grouped}`]:t.grouped},{[`& .${Vr.grouped}`]:t[`grouped${We(n.orientation)}`]},{[`& .${Vr.firstButton}`]:t.firstButton},{[`& .${Vr.lastButton}`]:t.lastButton},{[`& .${Vr.middleButton}`]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(Ht(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Vr.grouped}`]:{[`&.${Vr.selected} + .${Vr.grouped}.${Vr.selected}`]:{borderTop:0,marginTop:0}},[`& .${Vr.firstButton},& .${Vr.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Vr.lastButton},& .${Vr.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Vr.lastButton}.${Nd.disabled},& .${Vr.middleButton}.${Nd.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Vr.grouped}`]:{[`&.${Vr.selected} + .${Vr.grouped}.${Vr.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Vr.firstButton},& .${Vr.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Vr.lastButton},& .${Vr.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Vr.lastButton}.${Nd.disabled},& .${Vr.middleButton}.${Nd.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),gH=_.forwardRef(function(t,n){const r=sn({props:t,name:"MuiToggleButtonGroup"}),{children:o,className:i,color:s="standard",disabled:a=!1,exclusive:c=!1,fullWidth:u=!1,onChange:h,orientation:f="horizontal",size:g="medium",value:m,...y}=r,b={...r,disabled:a,fullWidth:u,orientation:f,size:g},v=PMe(b),S=_.useCallback((N,P)=>{if(!h)return;const L=m&&m.indexOf(P);let D;m&&L>=0?(D=m.slice(),D.splice(L,1)):D=m?m.concat(P):[P],h(N,D)},[h,m]),E=_.useCallback((N,P)=>{h&&h(N,m===P?null:P)},[h,m]),T=_.useMemo(()=>({className:v.grouped,onChange:c?E:S,value:m,size:g,fullWidth:u,color:s,disabled:a}),[v.grouped,c,E,S,m,g,u,s,a]),R=g_e(o),M=R.length,I=N=>{const P=N===0,L=N===M-1;return P&&L?"":P?v.firstButton:L?v.lastButton:v.middleButton};return x.jsx(kMe,{role:"group",className:Ke(v.root,i),ref:n,ownerState:b,...y,children:x.jsx(fH.Provider,{value:T,children:R.map((N,P)=>x.jsx(pH.Provider,{value:I(P),children:N},P))})})}),DMe=Dt(Tye)(({vm:e})=>x.jsxs(zi,{onClick:e.onClick,children:[x.jsx(ww,{children:e.icon}),e.title]})),AMe=Dt(Mye)(({vm:e})=>{const t=hz();return x.jsx(Cw,{ref:t,onContextMenu:Eb,anchorReference:"anchorPosition",open:e.isOpen,onClose:e.onClose,anchorPosition:e.anchorPosition,children:e.menuItems.map((n,r)=>x.jsx(DMe,{m:n},r))})});class LMe extends Nt{constructor(){super(),this.loginValue="",this.passwordValue="",this.loginErrorText="",this.loginButtonDisabled=!1,this.onLoginValueChange=({target:t})=>{this.loginValue=t.value,this.loginErrorText=""},this.onPasswordValueChange=({target:t})=>{this.passwordValue=t.value,this.loginErrorText=""},this.onLoginButtonClick=()=>this.tryLogin(),vt(this,{loginButtonDisabled:Pe.ref,loginErrorText:Pe.ref,loginValue:Pe.ref,passwordValue:Pe.ref,onLoginValueChange:be,onPasswordValueChange:be,tryLogin:to})}get isLoggingIn(){return this.m.isLoggingIn}*tryLogin(){try{yield this.m.login(this.loginValue,this.passwordValue)}catch(t){if(!(t instanceof Ci))throw t;this.loginErrorText=t.message}}}const NMe=xt(x.jsx("path",{d:"M21 11h-1.5v-.5h-2v3h2V13H21v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zM8 10v5H6.5v-1.5h-2V15H3v-5c0-.55.45-1 1-1h3c.55 0 1 .45 1 1m-1.5.5h-2V12h2zm7 1.5c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1h-4V9h4c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M11 10.5v.75h2v-.75zm2 2.25h-2v.75h2z"})),BMe=xt(x.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),XO=xt(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),FMe=xt(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"})),jMe=xt(x.jsx("path",{d:"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z"})),VMe=xt(x.jsx("path",{d:"M11.71 17.99C8.53 17.84 6 15.22 6 12c0-3.31 2.69-6 6-6 3.22 0 5.84 2.53 5.99 5.71l-2.1-.63C15.48 9.31 13.89 8 12 8c-2.21 0-4 1.79-4 4 0 1.89 1.31 3.48 3.08 3.89zM22 12c0 .3-.01.6-.04.9l-1.97-.59c.01-.1.01-.21.01-.31 0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8c.1 0 .21 0 .31-.01l.59 1.97c-.3.03-.6.04-.9.04-5.52 0-10-4.48-10-10S6.48 2 12 2s10 4.48 10 10m-3.77 4.26L22 15l-10-3 3 10 1.26-3.77 4.27 4.27 1.98-1.98z"})),mH=xt(x.jsx("path",{d:"m14 7-5 5 5 5z"})),vH=xt(x.jsx("path",{d:"m10 17 5-5-5-5z"})),$Me=xt(x.jsx("path",{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3z"})),yH=xt(x.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),zMe=xt(x.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),UMe=xt(x.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 4h2v5l-1-.75L9 9zm9 16H6V4h1v9l3-2.25L13 13V4h5z"})),HMe=xt(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Mw=xt(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),GMe=xt(x.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),WMe=xt(x.jsx("path",{d:"M20 4v12H8V4zm0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),KMe=xt(x.jsx("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"})),bH=xt(x.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"})),qMe=xt(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),YMe=xt([x.jsx("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),x.jsx("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"},"1")]),XMe=xt(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),ZMe=xt(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),JMe=xt(x.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"})),wH=xt(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),QMe=xt(x.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"})),eOe=xt(x.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),SH=xt(x.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),tOe=xt(x.jsx("path",{d:"M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-4.05 16.5-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13z"})),nOe=xt(x.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),CH=xt(x.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12M5.21 10 10 5.21 14.79 10zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5M2 20h20v4H2z"})),rOe=xt(x.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),oOe=xt(x.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"})),iOe=xt(x.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"})),sOe=xt(x.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),xH=xt(x.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"})),aOe=xt(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"})),lOe=xt(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),cOe=xt(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),uOe=xt(x.jsx("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-1 2H5v-2h2zm0-3H5V8h2zm9 7H8v-2h8zm0-4h-2v-2h2zm0-3h-2V8h2zm3 3h-2v-2h2zm0-3h-2V8h2z"})),dOe=xt(x.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),hOe=xt(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),fOe=xt([x.jsx("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),x.jsx("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")]),pOe=xt([x.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),x.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")]),gOe=xt(x.jsx("path",{d:"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93M4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4zm7-13.93C7.05 1.56 4 4.92 4 9h7z"})),mOe=xt(x.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),vOe=xt(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),_H=xt(x.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"})),yOe=xt(x.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"})),bOe=xt(x.jsx("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-6-7 4V7z"})),wOe=xt(x.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),SOe=xt(x.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),COe=xt(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"})),xOe=xt(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-2.5-3.5 7-4.5-7-4.5z"})),_Oe=xt(x.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"})),EOe=xt(x.jsx("path",{d:"M2 4h20v16H2z"})),TOe=xt(x.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),MOe=xt(x.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),EH=xt(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),OOe=xt(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z"})),Ow=xt(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9z"})),ROe=xt(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9zM6 3h3v2H6zm3 18H6v-2h3zm0-8H6v-2h3zm10 0h-3v-2h3z"})),IOe=xt(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),POe=xt([x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),x.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")]),kOe=xt(x.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),DOe=xt(x.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"})),AOe=xt(x.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),LOe=xt(x.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),NOe=xt(x.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})),TH=xt(x.jsx("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"})),BOe=xt(x.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H5V8h14z"})),FOe=xt(x.jsx("path",{d:"m9 19 1.41-1.41L5.83 13H22v-2H5.83l4.59-4.59L9 5l-7 7z"})),jOe=Dt(LMe)(({vm:e,open:t})=>x.jsxs(IO,{open:t,fullWidth:!0,children:[x.jsx(DU,{children:x.jsxs(ti,{display:"flex",flexDirection:"column",gap:1,p:"5px",children:[x.jsx(hl,{disabled:e.isLoggingIn,value:e.loginValue,onChange:e.onLoginValueChange,error:!!e.loginErrorText,helperText:e.loginErrorText,label:"Логин",autoComplete:"off",fullWidth:!0}),x.jsx(hl,{disabled:e.isLoggingIn,value:e.passwordValue,onChange:e.onPasswordValueChange,label:"Пароль",type:"password",autoComplete:"off",fullWidth:!0})]})}),x.jsx(kU,{children:x.jsx($i,{disabled:e.loginButtonDisabled,onClick:e.onLoginButtonClick,loading:e.isLoggingIn,loadingPosition:"start",startIcon:x.jsx(kOe,{}),variant:"contained",fullWidth:!0,children:"Вход"})})]}));function MH(e){return YSe}function VOe(e){return Xt("MuiSimpleTreeView",e)}Kt("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);const OH={};function RH(e,t){const n=_.useRef(OH);return n.current===OH&&(n.current=e(t)),n}var Rw=Symbol("NOT_FOUND");function $Oe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zOe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function UOe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var IH=e=>Array.isArray(e)?e:[e];function HOe(e){const t=Array.isArray(e[0])?e[0]:e;return UOe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function GOe(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}function WOe(e){let t;return{get(n){return t&&e(t.key,n)?t.value:Rw},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function KOe(e,t){let n=[];function r(a){const c=n.findIndex(u=>t(a,u.key));if(c>-1){const u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return Rw}function o(a,c){r(a)===Rw&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function i(){return n}function s(){n=[]}return{get:r,put:o,getEntries:i,clear:s}}var qOe=(e,t)=>e===t;function YOe(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let i=0;i<o;i++)if(!e(n[i],r[i]))return!1;return!0}}function ZO(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=qOe,maxSize:o=1,resultEqualityCheck:i}=n,s=YOe(r);let a=0;const c=o<=1?WOe(s):KOe(o,s);function u(){let h=c.get(arguments);if(h===Rw){if(h=e.apply(null,arguments),a++,i){const g=c.getEntries().find(m=>i(m.value,h));g&&(h=g.value,a!==0&&a--)}c.put(arguments,h)}return h}return u.clearCache=()=>{c.clear(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}var XOe=class{constructor(e){this.value=e}deref(){return this.value}},ZOe=typeof WeakRef<"u"?WeakRef:XOe,JOe=0,PH=1;function Iw(){return{s:JOe,v:void 0,o:null,p:null}}function kH(e,t={}){let n=Iw();const{resultEqualityCheck:r}=t;let o,i=0;function s(){let a=n;const{length:c}=arguments;for(let f=0,g=c;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const b=y.get(m);b===void 0?(a=Iw(),y.set(m,a)):a=b}else{let y=a.p;y===null&&(a.p=y=new Map);const b=y.get(m);b===void 0?(a=Iw(),y.set(m,a)):a=b}}const u=a;let h;if(a.s===PH)h=a.v;else if(h=e.apply(null,arguments),i++,r){const f=o?.deref?.()??o;f!=null&&r(f,h)&&(h=f,i!==0&&i--),o=typeof h=="object"&&h!==null||typeof h=="function"?new ZOe(h):h}return u.s=PH,u.v=h,h}return s.clearCache=()=>{n=Iw(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function DH(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let i=0,s=0,a,c={},u=o.pop();typeof u=="object"&&(c=u,u=o.pop()),$Oe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...n,...c},{memoize:f,memoizeOptions:g=[],argsMemoize:m=kH,argsMemoizeOptions:y=[]}=h,b=IH(g),v=IH(y),S=HOe(o),E=f(function(){return i++,u.apply(null,arguments)},...b),T=m(function(){s++;const M=GOe(S,arguments);return a=E.apply(null,M),a},...v);return Object.assign(T,{resultFunc:u,memoizedResultFunc:E,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var QOe=DH(kH),eRe=Object.assign((e,t=QOe)=>{zOe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((s,a,c)=>(s[n[c]]=a,s),{}))},{withTypes:()=>eRe});const tRe=DH({memoize:ZO,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),Bn=(e,t,n,r,o,i,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&o&&i)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f),y=n(c,u,h,f),b=r(c,u,h,f),v=o(c,u,h,f);return i(g,m,y,b,v,u,h,f)};else if(e&&t&&n&&r&&o)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f),y=n(c,u,h,f),b=r(c,u,h,f);return o(g,m,y,b,u,h,f)};else if(e&&t&&n&&r)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f),y=n(c,u,h,f);return r(g,m,y,u,h,f)};else if(e&&t&&n)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f);return n(g,m,u,h,f)};else if(e&&t)a=(c,u,h,f)=>{const g=e(c,u,h,f);return t(g,u,h,f)};else if(e)a=e;else throw new Error("Missing arguments");return a},hf=(...e)=>{const t=new WeakMap;let n=1;const r=e[e.length-1],o=e.length-1||1,i=Math.max(r.length-o,0);if(i>3)throw new Error("Unsupported number of arguments");return(a,c,u,h)=>{let f=a.__cacheKey__;f||(f={id:n},a.__cacheKey__=f,n+=1);let g=t.get(f);if(!g){const m=e.length===1?[v=>v,r]:e;let y=e;const b=[void 0,void 0,void 0];switch(i){case 0:break;case 1:{y=[...m.slice(0,-1),()=>b[0],r];break}case 2:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],r];break}case 3:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],()=>b[2],r];break}default:throw new Error("Unsupported number of arguments")}g=tRe(...y),g.selectorArgs=b,t.set(f,g)}switch(i){case 3:g.selectorArgs[2]=h;case 2:g.selectorArgs[1]=u;case 1:g.selectorArgs[0]=c}switch(i){case 0:return g(a);case 1:return g(a,c);case 2:return g(a,c,u);case 3:return g(a,c,u,h);default:throw new Error("unreachable")}}};var JO={exports:{}},QO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AH;function nRe(){if(AH)return QO;AH=1;var e=hi(),t=iz();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return QO.useSyncExternalStoreWithSelector=function(u,h,f,g,m){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function S(I){if(!E){if(E=!0,T=I,I=g(I),m!==void 0&&b.hasValue){var N=b.value;if(m(N,I))return R=N}return R=I}if(N=R,r(T,I))return N;var P=g(I);return m!==void 0&&m(N,P)?(T=I,N):(T=I,R=P)}var E=!1,T,R,M=f===void 0?null:f;return[function(){return S(h())},M===null?void 0:function(){return S(M())}]},[h,f,g,m]);var v=o(u,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},QO}var LH;function rRe(){return LH||(LH=1,JO.exports=nRe()),JO.exports}var oRe=rRe();function Kn(e,t,n,r,o){const i=s=>t(s,n,r,o);return oRe.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,i)}const iRe=()=>{};function Pw(e,t,n){const r=is(sRe,{store:e,selector:t}).current;r.effect=n,Jb(r.onMount)}function sRe(e){const{store:t,selector:n}=e;let r=n(t.state);const o={effect:iRe,dispose:null,subscribe:()=>{o.dispose??=t.subscribe(i=>{const s=n(i);o.effect(r,s),r=s})},onMount:()=>(o.subscribe(),()=>{o.dispose?.(),o.dispose=null})};return o.subscribe(),o}class im{static create(t){return new im(t)}constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){this.state=t,this.updateTick+=1;const n=this.updateTick,r=this.listeners.values();let o;for(;o=r.next(),!o.done;){if(n!==this.updateTick)return;const i=o.value;i(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){this.setState(G({},this.state,t));return}}set(t,n){Object.is(this.state[t],n)||this.setState(G({},this.state,{[t]:n}))}}class NH{maxListeners=20;warnOnce=!1;events={};on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let s=o.length-1;s>=0;s-=1){const a=o[s];r.highPriority.has(a)&&a.apply(this,n)}for(let s=0;s<i.length;s+=1){const a=i[s];r.regular.has(a)&&a.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...i){r.removeListener(t,o),n.apply(r,i)})}}const aRe=e=>e.isPropagationStopped!==void 0,BH=()=>{const[e]=_.useState(()=>new NH),t=_.useCallback((...r)=>{const[o,i,s={}]=r;s.defaultMuiPrevented=!1,!(aRe(s)&&s.isPropagationStopped())&&e.emit(o,i,s)},[e]),n=_.useCallback((r,o)=>(e.on(r,o),()=>{e.removeListener(r,o)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};BH.params={};const FH=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};FH.params={};const sm={treeId:Bn(e=>e.id.treeId)};let jH=0;const lRe=()=>(jH+=1,`mui-tree-view-${jH}`),kw=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,eR=({params:e,store:t})=>{_.useEffect(()=>{const r=t.state.id;e.id===r.providedTreeId&&r.treeId!==void 0||t.set("id",G({},r,{treeId:e.id??lRe()}))},[t,e.id]);const n=Kn(t,sm.treeId);return{getRootProps:()=>({id:n})}};eR.params={id:!0},eR.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const cRe=[BH,FH,eR],uRe=["apiRef"],dRe=e=>{let{props:{apiRef:t},plugins:n}=e,r=pt(e.props,uRe);const o=_.useMemo(()=>{const a={};return n.forEach(c=>{Object.assign(a,c.params)}),a},[n]),{forwardedProps:i,pluginParams:s}=_.useMemo(()=>{const a={},c={};Object.keys(r).forEach(h=>{const f=r[h];o[h]?a[h]=f:c[h]=f});const u=n.reduce((h,f)=>f.applyDefaultValuesToParams?f.applyDefaultValuesToParams({params:h}):h,a);return{forwardedProps:c,pluginParams:u}},[n,r,o]);return{forwardedProps:i,pluginParams:s,apiRef:t}},hRe=e=>{const{plugins:t,instance:n,publicAPI:r,store:o,rootRef:i}=e,s=_.useCallback(u=>{let h=null,f=null;const g=[],m={};t.forEach(v=>{if(!v.itemPlugin)return;const S=v.itemPlugin({props:u,rootRef:h,contentRef:f});S?.rootRef&&(h=S.rootRef),S?.contentRef&&(f=S.contentRef),S?.propsEnhancers&&(g.push(S.propsEnhancers),Object.keys(S.propsEnhancers).forEach(E=>{m[E]=!0}))});const y=v=>S=>{const E={};return g.forEach(T=>{const R=T[v];R!=null&&Object.assign(E,R(S))}),E},b=Object.fromEntries(Object.keys(m).map(v=>[v,y(v)]));return{contentRef:f,rootRef:h,propsEnhancers:b}},[t]),a=_.useCallback(({itemId:u,children:h,idAttribute:f})=>{let g=h;for(let m=t.length-1;m>=0;m-=1){const y=t[m];y.wrapItem&&(g=y.wrapItem({instance:n,itemId:u,children:g,idAttribute:f}))}return g},[t,n]),c=_.useCallback(({children:u})=>{let h=u;for(let f=t.length-1;f>=0;f-=1){const g=t[f];g.wrapRoot&&(h=g.wrapRoot({children:h}))}return h},[t]);return _.useMemo(()=>({runItemPlugins:s,wrapItem:a,wrapRoot:c,instance:n,publicAPI:r,store:o,rootRef:i}),[s,a,c,n,r,o,i])};function fRe(e){return e.current==null&&(e.current={}),e}function pRe(e){const t=_.useRef({});return e?fRe(e):t}const gRe=({plugins:e,rootRef:t,props:n})=>{const r=_.useMemo(()=>[...cRe,...e],[e]),{pluginParams:o,forwardedProps:i,apiRef:s}=dRe({plugins:r,props:n}),a=RH(()=>({})).current,c=pRe(s),u=_.useRef(null),h=Tn(u,t),f=RH(()=>{const v={};for(const S of r)S.getInitialState&&Object.assign(v,S.getInitialState(o));return new im(v)}).current,g=hRe({plugins:r,instance:a,publicAPI:c.current,store:f,rootRef:u}),m=[],y=v=>{const S=v({instance:a,params:o,rootRef:u,plugins:r,store:f});S.getRootProps&&m.push(S.getRootProps),S.publicAPI&&Object.assign(c.current,S.publicAPI),S.instance&&Object.assign(a,S.instance)};return r.forEach(y),{getRootProps:(v={})=>{const S=G({role:"tree"},i,v,{ref:h});return m.forEach(E=>{Object.assign(S,E(v))}),S},rootRef:h,contextValue:g}},VH=_.createContext(null),Bd=()=>{const e=_.useContext(VH);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},$H=_.createContext({classes:{},slots:{},slotProps:{}}),zH=()=>_.useContext($H),tR={};function mRe(e){const{contextValue:t,classes:n=tR,slots:r=tR,slotProps:o=tR,children:i}=e,s=_.useMemo(()=>({classes:n,slots:{collapseIcon:r.collapseIcon,expandIcon:r.expandIcon,endIcon:r.endIcon},slotProps:{collapseIcon:o.collapseIcon,expandIcon:o.expandIcon,endIcon:o.endIcon}}),[n,r.collapseIcon,r.expandIcon,r.endIcon,o.collapseIcon,o.expandIcon,o.endIcon]);return x.jsx(VH.Provider,{value:t,children:x.jsx($H.Provider,{value:s,children:t.wrapRoot({children:i})})})}const am=(e,t,n)=>{e.$$publishEvent(t,n)},ff="__TREE_VIEW_ROOT_PARENT_ID__",UH=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},Dw=(e,t)=>{if(t==null)return!1;let n=e[t];if(!n)return!1;if(n.disabled)return!0;for(;n.parentId!=null;){if(n=e[n.parentId],!n)return!1;if(n.disabled)return!0}return!1},lm=_.createContext(()=>-1),vRe=[],en={isLoading:Bn(e=>e.items.loading),error:Bn(e=>e.items.error),disabledItemFocusable:Bn(e=>e.items.disabledItemsFocusable),itemMetaLookup:Bn(e=>e.items.itemMetaLookup),itemMeta:Bn((e,t)=>e.items.itemMetaLookup[t??ff]??null),itemOrderedChildrenIds:Bn((e,t)=>e.items.itemOrderedChildrenIdsLookup[t??ff]??vRe),itemModel:Bn((e,t)=>e.items.itemModelLookup[t]),isItemDisabled:Bn((e,t)=>Dw(e.items.itemMetaLookup,t)),itemIndex:Bn((e,t)=>{const n=e.items.itemMetaLookup[t];return n==null?-1:e.items.itemChildrenIndexesLookup[n.parentId??ff][n.id]}),itemParentId:Bn((e,t)=>e.items.itemMetaLookup[t]?.parentId??null),itemDepth:Bn((e,t)=>e.items.itemMetaLookup[t]?.depth??0),canItemBeFocused:Bn((e,t)=>e.items.disabledItemsFocusable||!Dw(e.items.itemMetaLookup,t))},yRe=(e,t,n)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(n[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},nR=({disabledItemsFocusable:e,items:t,isItemDisabled:n,getItemLabel:r,getItemChildren:o,getItemId:i,initialDepth:s=0,initialParentId:a=null,getChildrenCount:c,ignoreChildren:u=!1})=>{const h={},f={},g={[ff]:[]},m=(b,v,S)=>{const E=i?i(b):b.id;yRe(E,b,h);const T=r?r(b):b.label;if(T==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(b)].join(`
`));const R=o?o(b):b.children;h[E]={id:E,label:T,parentId:S,idAttribute:void 0,expandable:c?c(b)>0:!!R?.length,disabled:n?n(b):!1,depth:v},f[E]=b;const M=S??ff;g[M]||(g[M]=[]),g[M].push(E),u||R?.forEach(I=>m(I,v+1,E))};t?.forEach(b=>m(b,s,a));const y={};return Object.keys(g).forEach(b=>{y[b]=UH(g[b])}),{disabledItemsFocusable:e,itemMetaLookup:h,itemModelLookup:f,itemOrderedChildrenIdsLookup:g,itemChildrenIndexesLookup:y}},cm=({instance:e,params:t,store:n})=>{const r=_.useCallback(S=>en.itemModel(n.state,S),[n]),o=_.useCallback(S=>en.itemMeta(n.state,S)?.parentId||null,[n]),i=$t(S=>{n.set("items",G({},n.state.items,{loading:S}))}),s=$t(S=>{n.set("items",G({},n.state.items,{error:S}))}),a=$t(({itemId:S,shouldBeDisabled:E})=>{if(!n.state.items.itemMetaLookup[S])return;const T=G({},n.state.items.itemMetaLookup);T[S]=G({},T[S],{disabled:E??!T[S].disabled}),n.set("items",G({},n.state.items,{itemMetaLookup:T}))}),c=_.useCallback(()=>{const S=E=>{const T=en.itemModel(n.state,E),R=G({},T),M=en.itemOrderedChildrenIds(n.state,E);return M.length>0?R.children=M.map(S):delete R.children,R};return en.itemOrderedChildrenIds(n.state,null).map(S)},[n]),u=_.useCallback(S=>en.itemOrderedChildrenIds(n.state,S),[n]),h=S=>{const E=en.itemMeta(n.state,S);if(E==null)return null;const T=kw({treeId:sm.treeId(n.state),itemId:S,id:E.idAttribute});return document.getElementById(T)},f=_.useRef(!1),g=_.useCallback(()=>{f.current=!0},[]),m=_.useCallback(()=>f.current,[]),y=({items:S,parentId:E,depth:T,getChildrenCount:R})=>{if(S){const M=nR({disabledItemsFocusable:t.disabledItemsFocusable,items:S,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:R,initialDepth:T,initialParentId:E,ignoreChildren:!0});let I;E?I={itemModelLookup:G({},n.state.items.itemModelLookup,M.itemModelLookup),itemMetaLookup:G({},n.state.items.itemMetaLookup,M.itemMetaLookup),itemOrderedChildrenIdsLookup:G({},M.itemOrderedChildrenIdsLookup,n.state.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:G({},M.itemChildrenIndexesLookup,n.state.items.itemChildrenIndexesLookup)}:I={itemModelLookup:M.itemModelLookup,itemMetaLookup:M.itemMetaLookup,itemOrderedChildrenIdsLookup:M.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:M.itemChildrenIndexesLookup},Object.values(n.state.items.itemMetaLookup).forEach(N=>{I.itemMetaLookup[N.id]||am(e,"removeItem",{id:N.id})}),n.set("items",G({},n.state.items,I))}},b=S=>{if(S==null)n.set("items",G({},n.state.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}}));else{const E=Object.keys(n.state.items.itemMetaLookup).reduce((M,I)=>{const N=n.state.items.itemMetaLookup[I];return N.parentId===S?(am(e,"removeItem",{id:N.id}),M):G({},M,{[N.id]:N})},{}),T=G({},n.state.items.itemOrderedChildrenIdsLookup),R=G({},n.state.items.itemChildrenIndexesLookup);delete R[S],delete T[S],n.set("items",G({},n.state.items,{itemMetaLookup:E,itemOrderedChildrenIdsLookup:T,itemChildrenIndexesLookup:R}))}};_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const S=nR({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});Object.values(n.state.items.itemMetaLookup).forEach(E=>{S.itemMetaLookup[E.id]||am(e,"removeItem",{id:E.id})}),n.set("items",G({},n.state.items,S))},[e,n,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const v=$t((S,E)=>{t.onItemClick&&t.onItemClick(S,E)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:r,getItemDOMElement:h,getItemTree:c,getItemOrderedChildrenIds:u,setIsItemDisabled:a,getParentId:o},instance:{getItemDOMElement:h,preventItemUpdates:g,areItemUpdatesPrevented:m,addItems:y,setTreeViewLoading:i,setTreeViewError:s,removeChildren:b,handleItemClick:v}}};cm.getInitialState=e=>({items:G({},nR({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})}),cm.applyDefaultValuesToParams=({params:e})=>G({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"}),cm.wrapRoot=({children:e})=>x.jsx(lm.Provider,{value:en.itemDepth,children:e}),cm.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const HH=()=>{},GH=hf(e=>e.expansion.expandedItems,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),vo={expandedItemsRaw:Bn(e=>e.expansion.expandedItems),expandedItemsMap:GH,triggerSlot:Bn(e=>e.expansion.expansionTrigger),isItemExpanded:Bn(GH,(e,t)=>e.has(t)),isItemExpandable:Bn(en.itemMeta,(e,t)=>e?.expandable??!1)},WH=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),Aw=({instance:e,store:t,params:n})=>{HH({controlled:n.expandedItems,defaultValue:n.defaultExpandedItems}),Un(()=>{const u=WH({isItemEditable:n.isItemEditable,expansionTrigger:n.expansionTrigger});t.state.expansion.expansionTrigger!==u&&t.set("expansion",G({},t.state.expansion,{expansionTrigger:u}))},[t,n.isItemEditable,n.expansionTrigger]);const r=(u,h)=>{n.expandedItems===void 0&&t.set("expansion",G({},t.state.expansion,{expandedItems:h})),n.onExpandedItemsChange?.(u,h)},o=$t(()=>{r(null,[])}),i=$t(({itemId:u,event:h,shouldBeExpanded:f})=>{const g=vo.expandedItemsRaw(t.state);let m;f?m=[u].concat(g):m=g.filter(y=>y!==u),n.onItemExpansionToggle&&n.onItemExpansionToggle(h,u,f),r(h,m)}),s=$t(({itemId:u,event:h=null,shouldBeExpanded:f})=>{const g=vo.isItemExpanded(t.state,u),m=f??!g;if(g===m)return;const y={isExpansionPrevented:!1,shouldBeExpanded:m,event:h,itemId:u};am(e,"beforeItemToggleExpansion",y),!y.isExpansionPrevented&&e.applyItemExpansion({itemId:u,event:h,shouldBeExpanded:m})}),a=$t(u=>vo.isItemExpandable(t.state,u)),c=(u,h)=>{const f=en.itemMeta(t.state,h);if(f==null)return;const m=en.itemOrderedChildrenIds(t.state,f.parentId).filter(b=>vo.isItemExpandable(t.state,b)&&!vo.isItemExpanded(t.state,b)),y=vo.expandedItemsRaw(t.state).concat(m);m.length>0&&(n.onItemExpansionToggle&&m.forEach(b=>{n.onItemExpansionToggle(u,b,!0)}),r(u,y))};return Un(()=>{const u=n.expandedItems;u!==void 0&&t.set("expansion",G({},t.state.expansion,{expandedItems:u}))},[t,n.expandedItems]),{publicAPI:{setItemExpansion:s,isItemExpanded:a},instance:{setItemExpansion:s,applyItemExpansion:i,expandAllSiblings:c,resetItemExpansion:o}}},bRe=[];Aw.applyDefaultValuesToParams=({params:e})=>G({},e,{defaultExpandedItems:e.defaultExpandedItems??bRe}),Aw.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:WH(e)}}),Aw.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const rR=(e,t)=>{let n=t.length-1;for(;n>=0&&!en.canItemBeFocused(e,t[n]);)n-=1;if(n!==-1)return t[n]},KH=(e,t)=>{const n=en.itemMeta(e,t);if(!n)return null;const r=en.itemOrderedChildrenIds(e,n.parentId),o=en.itemIndex(e,t);if(o===0)return n.parentId;let i=o-1;for(;!en.canItemBeFocused(e,r[i])&&i>=0;)i-=1;if(i===-1)return n.parentId==null?null:KH(e,n.parentId);let s=r[i],a=rR(e,en.itemOrderedChildrenIds(e,s));for(;vo.isItemExpanded(e,s)&&a!=null;)s=a,a=rR(e,en.itemOrderedChildrenIds(e,s));return s},Lw=(e,t)=>{if(vo.isItemExpanded(e,t)){const r=en.itemOrderedChildrenIds(e,t).find(o=>en.canItemBeFocused(e,o));if(r!=null)return r}let n=en.itemMeta(e,t);for(;n!=null;){const r=en.itemOrderedChildrenIds(e,n.parentId),o=en.itemIndex(e,n.id);if(o<r.length-1){let i=o+1;for(;!en.canItemBeFocused(e,r[i])&&i<r.length-1;)i+=1;if(en.canItemBeFocused(e,r[i]))return r[i]}n=en.itemMeta(e,n.parentId)}return null},qH=e=>{let t=null;for(;t==null||vo.isItemExpanded(e,t);){const n=en.itemOrderedChildrenIds(e,t),r=rR(e,n);if(r==null)return t;t=r}return t},Nw=e=>en.itemOrderedChildrenIds(e,null).find(t=>en.canItemBeFocused(e,t)),YH=(e,t,n)=>{if(t===n)return[t,n];const r=en.itemMeta(e,t),o=en.itemMeta(e,n);if(!r||!o)return[t,n];if(r.parentId===o.id||o.parentId===r.id)return o.parentId===r.id?[r.id,o.id]:[o.id,r.id];const i=[r.id],s=[o.id];let a=r.parentId,c=o.parentId,u=s.indexOf(a)!==-1,h=i.indexOf(c)!==-1,f=!0,g=!0;for(;!h&&!u;)f&&(i.push(a),u=s.indexOf(a)!==-1,f=a!==null,!u&&f&&(a=en.itemParentId(e,a))),g&&!u&&(s.push(c),h=i.indexOf(c)!==-1,g=c!==null,!h&&g&&(c=en.itemParentId(e,c)));const m=u?a:c,y=en.itemOrderedChildrenIds(e,m),b=i[i.indexOf(m)-1],v=s[s.indexOf(m)-1];return y.indexOf(b)<y.indexOf(v)?[t,n]:[n,t]},wRe=(e,t,n)=>{const r=c=>{if(vo.isItemExpandable(e,c)&&vo.isItemExpanded(e,c))return en.itemOrderedChildrenIds(e,c)[0];let u=en.itemMeta(e,c);for(;u!=null;){const h=en.itemOrderedChildrenIds(e,u.parentId),f=en.itemIndex(e,u.id);if(f<h.length-1)return h[f+1];u=u.parentId?en.itemMeta(e,u.parentId):null}throw new Error("Invalid range")},[o,i]=YH(e,t,n),s=[o];let a=o;for(;a!==i;)a=r(a),en.isItemDisabled(e,a)||s.push(a);return s},SRe=e=>{let t=Nw(e);const n=[];for(;t!=null;)n.push(t),t=Lw(e,t);return n},oR=(e,t)=>t!==e.closest('*[role="treeitem"]'),XH=hf(e=>e.selection.selectedItems,e=>Array.isArray(e)?e:e!=null?[e]:[]),ZH=hf(XH,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),ar={selectedItemsRaw:Bn(e=>e.selection.selectedItems),selectedItems:XH,selectedItemsMap:ZH,enabled:Bn(e=>e.selection.isEnabled),isMultiSelectEnabled:Bn(e=>e.selection.isMultiSelectEnabled),isCheckboxSelectionEnabled:Bn(e=>e.selection.isCheckboxSelectionEnabled),propagationRules:Bn(e=>e.selection.selectionPropagation),isItemSelected:Bn(ZH,(e,t)=>e.has(t)),canItemBeSelected:Bn(en.isItemDisabled,e=>e.selection.isEnabled,(e,t,n)=>t&&!e)},Bw=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},JH=({store:e,oldModel:t,newModel:n})=>{const r=new Map;return n.forEach(o=>{r.set(o,!0)}),{added:n.filter(o=>!ar.isItemSelected(e.state,o)),removed:t.filter(o=>!r.has(o))}},CRe=({store:e,selectionPropagation:t,newModel:n,oldModel:r,additionalItemsToPropagate:o})=>{if(!t.descendants&&!t.parents)return n;let i=!1;const s=Bw(n),a=JH({store:e,newModel:n,oldModel:r});return o?.forEach(c=>{s[c]?a.added.includes(c)||a.added.push(c):a.removed.includes(c)||a.removed.push(c)}),a.added.forEach(c=>{if(t.descendants){const u=h=>{h!==c&&(i=!0,s[h]=!0),en.itemOrderedChildrenIds(e.state,h).forEach(u)};u(c)}if(t.parents){const u=f=>s[f]?en.itemOrderedChildrenIds(e.state,f).every(u):!1,h=f=>{const g=en.itemParentId(e.state,f);if(g==null)return;en.itemOrderedChildrenIds(e.state,g).every(u)&&(i=!0,s[g]=!0,h(g))};h(c)}}),a.removed.forEach(c=>{if(t.parents){let u=en.itemParentId(e.state,c);for(;u!=null;)s[u]&&(i=!0,delete s[u]),u=en.itemParentId(e.state,u)}if(t.descendants){const u=h=>{h!==c&&(i=!0,delete s[h]),en.itemOrderedChildrenIds(e.state,h).forEach(u)};u(c)}}),i?Object.keys(s):n},xRe=Bn((e,t)=>{if(ar.isItemSelected(e,t))return"checked";let n=!1,r=!1;const o=s=>{s!==t&&(ar.isItemSelected(e,s)?n=!0:r=!0),en.itemOrderedChildrenIds(e,s).forEach(o)};return o(t),n&&r?"indeterminate":ar.propagationRules(e).parents&&n&&!r?"checked":"empty"}),_Re=({props:e})=>{const{itemId:t}=e,{store:n}=Bd(),r=Kn(n,ar.isCheckboxSelectionEnabled),o=Kn(n,ar.canItemBeSelected,t),i=Kn(n,xRe,t);return{propsEnhancers:{checkbox:({externalEventHandlers:s,interactions:a})=>({tabIndex:-1,onChange:u=>{s.onChange?.(u),!u.defaultMuiPrevented&&ar.canItemBeSelected(n.state,t)&&a.handleCheckboxSelection(u)},visible:r,disabled:!o,checked:i==="checked",indeterminate:i==="indeterminate"})}}},um=({store:e,params:t})=>{HH({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const n=_.useRef(null),r=_.useRef({}),o=(g,m,y)=>{const b=ar.selectedItemsRaw(e.state);let v;const S=ar.isMultiSelectEnabled(e.state);if(S&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?v=CRe({store:e,selectionPropagation:t.selectionPropagation,newModel:m,oldModel:b,additionalItemsToPropagate:y}):v=m,t.onItemSelectionToggle)if(S){const E=JH({store:e,newModel:v,oldModel:b});t.onItemSelectionToggle&&(E.added.forEach(T=>{t.onItemSelectionToggle(g,T,!0)}),E.removed.forEach(T=>{t.onItemSelectionToggle(g,T,!1)}))}else t.onItemSelectionToggle&&v!==b&&(b!=null&&t.onItemSelectionToggle(g,b,!1),v!=null&&t.onItemSelectionToggle(g,v,!0));t.selectedItems===void 0&&e.set("selection",G({},e.state.selection,{selectedItems:v})),t.onSelectedItemsChange?.(g,v)},i=({itemId:g,event:m=null,keepExistingSelection:y=!1,shouldBeSelected:b})=>{if(!ar.enabled(e.state))return;let v;const S=ar.isMultiSelectEnabled(e.state);if(y){const E=ar.selectedItems(e.state),T=ar.isItemSelected(e.state,g);T&&(b===!1||b==null)?v=E.filter(R=>R!==g):!T&&(b===!0||b==null)?v=[g].concat(E):v=E}else b===!1||b==null&&ar.isItemSelected(e.state,g)?v=S?[]:null:v=S?[g]:g;o(m,v,[g]),n.current=g,r.current={}},s=(g,[m,y])=>{if(!ar.isMultiSelectEnabled(e.state))return;let v=ar.selectedItems(e.state).slice();Object.keys(r.current).length>0&&(v=v.filter(R=>!r.current[R]));const S=Bw(v),E=wRe(e.state,m,y),T=E.filter(R=>!S[R]);v=v.concat(T),o(g,v),r.current=Bw(E)},a=(g,m)=>{if(n.current!=null){const[y,b]=YH(e.state,m,n.current);s(g,[y,b])}},c=(g,m)=>{s(g,[Nw(e.state),m])},u=(g,m)=>{s(g,[m,qH(e.state)])},h=g=>{if(!ar.isMultiSelectEnabled(e.state))return;const y=SRe(e.state);o(g,y),r.current=Bw(y)},f=(g,m,y)=>{if(!ar.isMultiSelectEnabled(e.state))return;let v=ar.selectedItems(e.state).slice();Object.keys(r.current).length===0?(v.push(y),r.current={[m]:!0,[y]:!0}):(r.current[m]||(r.current={}),r.current[y]?(v=v.filter(S=>S!==m),delete r.current[m]):(v.push(y),r.current[y]=!0)),o(g,v)};return Un(()=>{e.set("selection",{selectedItems:t.selectedItems===void 0?e.state.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}})},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:i},instance:{setItemSelection:i,selectAllNavigableItems:h,expandSelectionRange:a,selectRangeFromStartToItem:c,selectRangeFromItemToEnd:u,selectItemFromArrowNavigation:f}}};um.itemPlugin=_Re;const ERe=[],TRe={};um.applyDefaultValuesToParams=({params:e})=>G({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?ERe:null),selectionPropagation:e.selectionPropagation??TRe}),um.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}}),um.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const QH=1e3;let MRe=class{timeouts=new Map;cleanupTimeout=QH;constructor(t=QH){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}},ORe=class{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}},RRe=class{};function IRe(e){let t=0;return function(r,o,i){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new ORe:new MRe);const[s]=_.useState(new RRe),a=_.useRef(null),c=_.useRef(void 0);c.current=i;const u=_.useRef(null);if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=r.$$subscribeEvent(o,h),t+=1,u.current={cleanupToken:t},e.registry.register(s,()=>{a.current?.(),a.current=null,u.current=null},u.current)}else!c.current&&a.current&&(a.current(),a.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));_.useEffect(()=>{if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=r.$$subscribeEvent(o,h)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{a.current?.(),a.current=null}},[r,o])}}const PRe=IRe({registry:null}),eG=hf(ar.selectedItems,vo.expandedItemsMap,en.itemMetaLookup,en.disabledItemFocusable,e=>en.itemOrderedChildrenIds(e,null),(e,t,n,r,o)=>{const i=e.find(a=>{if(!r&&Dw(n,a))return!1;const c=n[a];return c&&(c.parentId==null||t.has(c.parentId))});if(i!=null)return i;const s=o.find(a=>r||!Dw(n,a));return s??null}),Fd={defaultFocusableItemId:eG,isItemTheDefaultFocusableItem:Bn(eG,(e,t)=>e===t),focusedItemId:Bn(e=>e.focus.focusedItemId),isItemFocused:Bn((e,t)=>e.focus.focusedItemId===t)},iR=({instance:e,params:t,store:n})=>{const r=$t(h=>{Fd.focusedItemId(n.state)!==h&&n.set("focus",G({},n.state.focus,{focusedItemId:h}))}),o=h=>{const f=en.itemMeta(n.state,h);return f&&(f.parentId==null||vo.isItemExpanded(n.state,f.parentId))},i=(h,f)=>{const g=e.getItemDOMElement(f);g&&g.focus(),r(f),t.onItemFocus&&t.onItemFocus(h,f)},s=$t((h,f)=>{o(f)&&i(h,f)}),a=$t(()=>{const h=Fd.focusedItemId(n.state);if(h==null)return;if(en.itemMeta(n.state,h)){const g=e.getItemDOMElement(h);g&&g.blur()}r(null)});PRe(e,"removeItem",({id:h})=>{const f=Fd.focusedItemId(n.state),g=Fd.defaultFocusableItemId(n.state);f===h&&g!=null&&i(null,g)});const c=h=>f=>{if(h.onFocus?.(f),f.defaultMuiPrevented)return;const g=Fd.defaultFocusableItemId(n.state);f.target===f.currentTarget&&g!=null&&i(f,g)},u=h=>f=>{h.onBlur?.(f),!f.defaultMuiPrevented&&r(null)};return{getRootProps:h=>({onFocus:c(h),onBlur:u(h)}),publicAPI:{focusItem:s},instance:{focusItem:s,removeFocusedItem:a}}};iR.getInitialState=()=>({focus:{focusedItemId:null}}),iR.params={onItemFocus:!0};const Fw=(e,t)=>e.getAvailablePlugins().has(t),Ql={isItemEditable:Bn(e=>e.label?.isItemEditable,en.itemModel,(e,t,n)=>!t||e==null?!1:typeof e=="boolean"?e:e(t)),isItemBeingEdited:Bn((e,t)=>t==null?!1:e.label?.editedItemId===t),isAnyItemBeingEdited:Bn(e=>!!e.label?.editedItemId)},kRe=({props:e})=>{const{store:t}=Bd(),{label:n,itemId:r}=e,[o,i]=_.useState(n),s=Kn(t,Ql.isItemEditable,r),a=Kn(t,Ql.isItemBeingEdited,r);return _.useEffect(()=>{a||i(n)},[a,n]),{propsEnhancers:{label:()=>({editable:s}),labelInput:({externalEventHandlers:c,interactions:u})=>s?{value:o??"","data-element":"labelInput",onChange:m=>{c.onChange?.(m),i(m.target.value)},onKeyDown:m=>{if(c.onKeyDown?.(m),m.defaultMuiPrevented)return;const y=m.target;m.key==="Enter"&&y.value?u.handleSaveItemLabel(m,y.value):m.key==="Escape"&&u.handleCancelItemLabelEditing(m)},onBlur:m=>{c.onBlur?.(m),!m.defaultMuiPrevented&&m.target.value&&u.handleSaveItemLabel(m,m.target.value)},autoFocus:!0,type:"text"}:{}}}},eu=({store:e,params:t})=>{const n=o=>{o!==null&&!Ql.isItemEditable(e.state,o)||e.set("label",G({},e.state.label,{editedItemId:o}))},r=(o,i)=>{if(!i)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",o].join(`
`));const s=e.state.items.itemMetaLookup[o];s.label!==i&&(e.set("items",G({},e.state.items,{itemMetaLookup:G({},e.state.items.itemMetaLookup,{[o]:G({},s,{label:i})})})),t.onItemLabelChange&&t.onItemLabelChange(o,i))};return Un(()=>{e.set("label",G({},e.state.items,{isItemEditable:t.isItemEditable}))},[e,t.isItemEditable]),{instance:{setEditedItem:n,updateItemLabel:r},publicAPI:{setEditedItem:n,updateItemLabel:r}}};eu.itemPlugin=kRe,eu.applyDefaultValuesToParams=({params:e})=>G({},e,{isItemEditable:e.isItemEditable??!1}),eu.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}}),eu.params={onItemLabelChange:!0,isItemEditable:!0};function DRe(e){return!!e&&e.length===1&&!!e.match(/\S/)}const tG=({instance:e,store:t,params:n})=>{const r=Uo(),o=_.useRef({}),i=$t(f=>{o.current=f(o.current)}),s=Kn(t,en.itemMetaLookup);_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const f={},g=m=>{f[m.id]=m.label.substring(0,1).toLowerCase()};Object.values(s).forEach(g),o.current=f},[s,n.getItemId,e]);const a=(f,g)=>{const m=g.toLowerCase(),y=E=>{const T=Lw(t.state,E);return T===null?Nw(t.state):T};let b=null,v=y(f);const S={};for(;b==null&&!S[v];)o.current[v]===m?b=v:(S[v]=!0,v=y(v));return b},c=f=>ar.enabled(t.state)&&!en.isItemDisabled(t.state,f),u=f=>!en.isItemDisabled(t.state,f)&&vo.isItemExpandable(t.state,f);return{instance:{updateFirstCharMap:i,handleItemKeyDown:async(f,g)=>{if(f.defaultMuiPrevented||f.altKey||oR(f.target,f.currentTarget))return;const m=f.ctrlKey||f.metaKey,y=f.key,b=ar.isMultiSelectEnabled(t.state);switch(!0){case(y===" "&&c(g)):{f.preventDefault(),b&&f.shiftKey?e.expandSelectionRange(f,g):e.setItemSelection({event:f,itemId:g,keepExistingSelection:b,shouldBeSelected:void 0});break}case y==="Enter":{Fw(e,eu)&&Ql.isItemEditable(t.state,g)&&!Ql.isItemBeingEdited(t.state,g)?e.setEditedItem(g):u(g)?(e.setItemExpansion({event:f,itemId:g}),f.preventDefault()):c(g)&&(b?(f.preventDefault(),e.setItemSelection({event:f,itemId:g,keepExistingSelection:!0})):ar.isItemSelected(t.state,g)||(e.setItemSelection({event:f,itemId:g}),f.preventDefault()));break}case y==="ArrowDown":{const v=Lw(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case y==="ArrowUp":{const v=KH(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case(y==="ArrowRight"&&!r||y==="ArrowLeft"&&r):{if(m)return;if(vo.isItemExpanded(t.state,g)){const v=Lw(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}else u(g)&&(e.setItemExpansion({event:f,itemId:g}),f.preventDefault());break}case(y==="ArrowLeft"&&!r||y==="ArrowRight"&&r):{if(m)return;if(u(g)&&vo.isItemExpanded(t.state,g))e.setItemExpansion({event:f,itemId:g}),f.preventDefault();else{const v=en.itemParentId(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}break}case y==="Home":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromStartToItem(f,g):e.focusItem(f,Nw(t.state)),f.preventDefault();break}case y==="End":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromItemToEnd(f,g):e.focusItem(f,qH(t.state)),f.preventDefault();break}case y==="*":{e.expandAllSiblings(f,g),f.preventDefault();break}case(String.fromCharCode(f.keyCode)==="A"&&m&&b&&ar.enabled(t.state)):{e.selectAllNavigableItems(f),f.preventDefault();break}case(!m&&!f.shiftKey&&DRe(y)):{const v=a(g,y);v!=null&&(e.focusItem(f,v),f.preventDefault());break}}}}}};tG.params={};function ARe(e){return e.replace(/["\\]/g,"\\$&")}const nG=_.createContext(null);function rG(e){const{children:t,itemId:n=null,idAttribute:r}=e,{instance:o,store:i,rootRef:s}=Bd(),a=_.useRef(new Map);_.useEffect(()=>{if(!s.current)return;const u=en.itemOrderedChildrenIds(i.state,n??null)??[],h=ARe(r??s.current.id);if(n!=null){const y=s.current.querySelector(`*[id="${h}"][role="treeitem"]`);if(y&&y.getAttribute("aria-expanded")==="false")return}const f=s.current.querySelectorAll(`${n==null?"":`*[id="${h}"] `}[role="treeitem"]:not(*[id="${h}"] [role="treeitem"] [role="treeitem"])`),g=Array.from(f).map(y=>a.current.get(y.id));(g.length!==u.length||g.some((y,b)=>y!==u[b]))&&o.setJSXItemsOrderedChildrenIds(n??null,g)});const c=_.useMemo(()=>({registerChild:(u,h)=>a.current.set(u,h),unregisterChild:u=>a.current.delete(u),parentId:n}),[n]);return x.jsx(nG.Provider,{value:c,children:t})}const oG={dataSource:Bn(e=>e.lazyLoading?.dataSource),isItemLoading:Bn((e,t)=>e.lazyLoading?.dataSource.loading[t]??!1),itemHasError:Bn((e,t)=>!!e.lazyLoading?.dataSource.errors[t])},sR=e=>Array.isArray(e)?e.length>0&&e.some(sR):!!e,LRe=({itemId:e,children:t})=>{const{instance:n,store:r,publicAPI:o}=Bd(),i=Kn(r,vo.isItemExpandable,e),s=Kn(r,oG.isItemLoading,e),a=Kn(r,oG.itemHasError,e),c=sR(t)||i,u=Kn(r,vo.isItemExpanded,e),h=Kn(r,Fd.isItemFocused,e),f=Kn(r,ar.isItemSelected,e),g=Kn(r,en.isItemDisabled,e),m=Kn(r,Ql.isItemBeingEdited,e),y=Kn(r,Ql.isItemEditable,e),b={expandable:c,expanded:u,focused:h,selected:f,disabled:g,editing:m,editable:y,loading:s,error:a},v=N=>{if(b.disabled)return;b.focused||n.focusItem(N,e);const P=ar.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey);b.expandable&&!(P&&vo.isItemExpanded(r.state,e))&&n.setItemExpansion({event:N,itemId:e})},S=N=>{if(b.disabled)return;!b.focused&&!b.editing&&n.focusItem(N,e),ar.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey)?N.shiftKey?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:!0}):n.setItemSelection({event:N,itemId:e,shouldBeSelected:!0})},E=N=>{const P=N.nativeEvent.shiftKey,L=ar.isMultiSelectEnabled(r.state);L&&P?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:L,shouldBeSelected:N.target.checked})},T=()=>{Fw(n,eu)&&(m?n.setEditedItem(null):n.setEditedItem(e))};return{interactions:{handleExpansion:v,handleSelection:S,handleCheckboxSelection:E,toggleItemEditing:T,handleSaveItemLabel:(N,P)=>{Fw(n,eu)&&Ql.isItemBeingEdited(r.state,e)&&(n.updateItemLabel(e,P),T(),n.focusItem(N,e))},handleCancelItemLabelEditing:N=>{Fw(n,eu)&&Ql.isItemBeingEdited(r.state,e)&&(T(),n.focusItem(N,e))}},status:b,publicAPI:o}},dm=({instance:e,store:t})=>{e.preventItemUpdates();const n=$t(i=>{if(t.state.items.itemMetaLookup[i.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${i.id}"`].join(`
`));return t.set("items",G({},t.state.items,{itemMetaLookup:G({},t.state.items.itemMetaLookup,{[i.id]:i}),itemModelLookup:G({},t.state.items.itemModelLookup,{[i.id]:{id:i.id,label:i.label??""}})})),()=>{const s=G({},t.state.items.itemMetaLookup),a=G({},t.state.items.itemModelLookup);delete s[i.id],delete a[i.id],t.set("items",G({},t.state.items,{itemMetaLookup:s,itemModelLookup:a})),am(e,"removeItem",{id:i.id})}}),r=(i,s)=>{const a=i??ff;t.set("items",G({},t.state.items,{itemOrderedChildrenIdsLookup:G({},t.state.items.itemOrderedChildrenIdsLookup,{[a]:s}),itemChildrenIndexesLookup:G({},t.state.items.itemChildrenIndexesLookup,{[a]:UH(s)})}))},o=$t((i,s)=>(e.updateFirstCharMap(a=>(a[i]=s,a)),()=>{e.updateFirstCharMap(a=>{const c=G({},a);return delete c[i],c})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:o}}},NRe=({props:e,rootRef:t,contentRef:n})=>{const{instance:r,store:o}=Bd(),{children:i,disabled:s=!1,label:a,itemId:c,id:u}=e,h=_.useContext(nG);if(h==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:f,unregisterChild:g,parentId:m}=h,y=sR(i),b=_.useRef(null),v=Tn(b,n),S=Kn(o,sm.treeId);return Un(()=>{const E=kw({itemId:c,treeId:S,id:u});return f(E,c),()=>{g(E),g(E)}},[o,r,f,g,c,u,S]),Un(()=>r.insertJSXItem({id:c,idAttribute:u,parentId:m,expandable:y,disabled:s}),[r,m,c,y,s,u]),_.useEffect(()=>{if(a)return r.mapFirstCharFromJSX(c,(b.current?.textContent??"").substring(0,1).toLowerCase())},[r,c,a]),{contentRef:v,rootRef:t}};dm.itemPlugin=NRe,dm.wrapItem=({children:e,itemId:t,idAttribute:n})=>{const r=_.useContext(lm);return x.jsx(rG,{itemId:t,idAttribute:n,children:x.jsx(lm.Provider,{value:r+1,children:e})})},dm.wrapRoot=({children:e})=>x.jsx(rG,{itemId:null,idAttribute:null,children:x.jsx(lm.Provider,{value:0,children:e})}),dm.params={};const BRe=[cm,Aw,um,iR,tG,dm],FRe=["slots","slotProps"],jRe=MH(),VRe=e=>{const{classes:t}=e;return _.useMemo(()=>ht({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},VOe,t),[t])},$Re=we("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),zRe=[],aR=_.forwardRef(function(t,n){const r=jRe({props:t,name:"MuiSimpleTreeView"}),{slots:o,slotProps:i}=r,s=pt(r,FRe),{getRootProps:a,contextValue:c}=gRe({plugins:BRe,rootRef:n,props:G({},s,{items:zRe})}),u=VRe(r),h=o?.root??$Re,f=Ho({elementType:h,externalSlotProps:i?.root,className:u.root,getSlotProps:a,ownerState:r});return x.jsx(mRe,{contextValue:c,classes:u,slots:o,slotProps:i,children:x.jsx(h,G({},f))})}),URe=Object.is;function iG(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const o in e)if(n+=1,!URe(e[o],t[o])||!(o in t))return!1;for(const o in t)r+=1;return n===r}const HRe=e=>{const{runItemPlugins:t,instance:n,publicAPI:r,store:o}=Bd(),i=_.useContext(lm),s=Kn(o,(...he)=>typeof i=="function"?i(...he):i,e.itemId),{id:a,itemId:c,label:u,children:h,rootRef:f}=e,{rootRef:g,contentRef:m,propsEnhancers:y}=t(e),{interactions:b,status:v}=LRe({itemId:c,children:h}),S=_.useRef(null),E=_.useRef(null),T=Tn(f,g,S),R=Tn(m,E),M=_.useRef(null),I=Kn(o,sm.treeId),N=Kn(o,ar.canItemBeSelected,c),P=Kn(o,ar.isCheckboxSelectionEnabled),L=kw({itemId:c,treeId:I,id:a}),D=Kn(o,Fd.isItemTheDefaultFocusableItem,c),$={rootRefObject:S,contentRefObject:E,interactions:b},B=he=>pe=>{he.onFocus?.(pe),!pe.defaultMuiPrevented&&!v.focused&&en.canItemBeFocused(o.state,c)&&pe.currentTarget===pe.target&&n.focusItem(pe,c)},U=he=>pe=>{if(he.onBlur?.(pe),pe.defaultMuiPrevented)return;const Se=n.getItemDOMElement(c);v.editing||pe.relatedTarget&&oR(pe.relatedTarget,Se)&&(pe.target&&pe.target?.dataset?.element==="labelInput"&&oR(pe.target,Se)||pe.relatedTarget?.dataset?.element==="labelInput")||n.removeFocusedItem()},q=he=>pe=>{he.onKeyDown?.(pe),!(pe.defaultMuiPrevented||pe.target?.dataset?.element==="labelInput")&&n.handleItemKeyDown(pe,c)},W=he=>pe=>{he.onDoubleClick?.(pe),!pe.defaultMuiPrevented&&b.toggleItemEditing()},V=he=>pe=>{he.onClick?.(pe),n.handleItemClick(pe,c),!(pe.defaultMuiPrevented||M.current?.contains(pe.target))&&(vo.triggerSlot(o.state)==="content"&&b.handleExpansion(pe),P||b.handleSelection(pe))},Y=he=>pe=>{he.onMouseDown?.(pe),!pe.defaultMuiPrevented&&(pe.shiftKey||pe.ctrlKey||pe.metaKey||v.disabled)&&pe.preventDefault()},J=he=>pe=>{he.onClick?.(pe),!pe.defaultMuiPrevented&&vo.triggerSlot(o.state)==="iconContainer"&&b.handleExpansion(pe)};return{getContextProviderProps:()=>({itemId:c,id:a}),getRootProps:(he={})=>{const pe=G({},ss(e),ss(he));let Se;v.selected?Se=!0:N?Se=!1:Se=void 0;const Ee=G({},pe,{ref:T,role:"treeitem",tabIndex:D?0:-1,id:L,"aria-expanded":v.expandable?v.expanded:void 0,"aria-selected":Se,"aria-disabled":v.disabled||void 0},he,{style:G({},he.style??{},{"--TreeView-itemDepth":s}),onFocus:B(pe),onBlur:U(pe),onKeyDown:q(pe)}),ke=y.root?.(G({},$,{externalEventHandlers:pe}))??{};return G({},Ee,ke)},getContentProps:(he={})=>{const pe=ss(he),Se=G({},pe,he,{ref:R,onClick:V(pe),onMouseDown:Y(pe),status:v});["expanded","selected","focused","disabled","editing","editable"].forEach(ke=>{v[ke]&&(Se[`data-${ke}`]="")});const Ee=y.content?.(G({},$,{externalEventHandlers:pe}))??{};return G({},Se,Ee)},getGroupTransitionProps:(he={})=>{const pe=ss(he);return G({},pe,{unmountOnExit:!0,component:"ul",role:"group",in:v.expanded,children:h},he)},getIconContainerProps:(he={})=>{const pe=ss(he);return G({},pe,he,{onClick:J(pe)})},getCheckboxProps:(he={})=>{const pe=ss(he),Se=G({},pe,{ref:M,"aria-hidden":!0},he),Ee=y.checkbox?.(G({},$,{externalEventHandlers:pe}))??{};return G({},Se,Ee)},getLabelProps:(he={})=>{const pe=G({},ss(he)),Se=G({},pe,{children:u},he,{onDoubleClick:W(pe)}),Ee=y.label?.(G({},$,{externalEventHandlers:pe}))??{};return G({},Ee,Se)},getLabelInputProps:(he={})=>{const pe=ss(he),Se=y.labelInput?.(G({},$,{externalEventHandlers:pe}))??{};return G({},he,Se)},getDragAndDropOverlayProps:(he={})=>{const pe=ss(he),Se=y.dragAndDropOverlay?.(G({},$,{externalEventHandlers:pe}))??{};return G({},he,Se)},getErrorContainerProps:(he={})=>{const pe=ss(he);return G({},pe,he)},getLoadingContainerProps:(he={})=>{const pe=ss(he);return G({size:"12px",thickness:6},pe,he)},rootRef:T,status:v,publicAPI:r}};function GRe(e){return Xt("MuiTreeItem",e)}const ec=Kt("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]),WRe=xt(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),KRe=xt(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function qRe(e){const{slots:t,slotProps:n,status:r}=e,{slots:o,slotProps:i}=zH(),s={collapseIcon:t?.collapseIcon??o.collapseIcon??KRe,expandIcon:t?.expandIcon??o.expandIcon??WRe,endIcon:t?.endIcon??o.endIcon,icon:t?.icon};let a;s?.icon?a="icon":r.expandable?r.expanded?a="collapseIcon":a="expandIcon":a="endIcon";const c=s[a],u=Ho({elementType:c,externalSlotProps:h=>G({},ew(i[a],h),ew(n?.[a],h)),ownerState:{}});return c?x.jsx(c,G({},u)):null}const YRe=we("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>ef(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:Vs(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function XRe(e){return e.action==null?null:x.jsx(YRe,G({},e))}function ZRe(e){const{children:t,itemId:n,id:r}=e,{wrapItem:o,instance:i,store:s}=Bd(),a=Kn(s,sm.treeId),c=kw({itemId:n,treeId:a,id:r});return x.jsx(_.Fragment,{children:o({children:t,itemId:n,instance:i,idAttribute:c})})}const JRe=we("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>G({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),QRe=["visible"],eIe=["id","itemId","label","disabled","children","slots","slotProps","classes"],tIe=MH(),nIe=we("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),rIe=we("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>ef(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Vs(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),oIe=we("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>ef(e)&&e!=="editable"})(({theme:e})=>G({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),iIe=we("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),sIe=we(lO,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),aIe=we("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),lIe=we(of,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),cIe=we(_.forwardRef((e,t)=>{const{visible:n}=e,r=pt(e,QRe);return n?x.jsx(dl,G({},r,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),uIe=e=>{const{classes:t}=zH(),n=G({},e,{root:Ke(e?.root,t.root),content:Ke(e?.content,t.itemContent),iconContainer:Ke(e?.iconContainer,t.itemIconContainer),checkbox:Ke(e?.checkbox,t.itemCheckbox),label:Ke(e?.label,t.itemLabel),groupTransition:Ke(e?.groupTransition,t.itemGroupTransition),labelInput:Ke(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:Ke(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:Ke(e?.errorIcon,t.itemErrorIcon),loadingIcon:Ke(e?.loadingIcon,t.itemLoadingIcon)});return ht({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},GRe,n)},tu=_.forwardRef(function(t,n){const r=tIe({props:t,name:"MuiTreeItem"}),{id:o,itemId:i,label:s,disabled:a,children:c,slots:u={},slotProps:h={},classes:f}=r,g=pt(r,eIe),{getContextProviderProps:m,getRootProps:y,getContentProps:b,getIconContainerProps:v,getCheckboxProps:S,getLabelProps:E,getGroupTransitionProps:T,getLabelInputProps:R,getDragAndDropOverlayProps:M,getErrorContainerProps:I,getLoadingContainerProps:N,status:P}=HRe({id:o,itemId:i,children:c,label:s,disabled:a}),L=uIe(f),D=u.root??nIe,$=Ho({elementType:D,getSlotProps:y,externalForwardedProps:g,externalSlotProps:h.root,additionalProps:{ref:n},ownerState:{},className:L.root}),B=u.content??rIe,U=Ho({elementType:B,getSlotProps:b,externalSlotProps:h.content,ownerState:{},className:Ke(L.content,P.expanded&&L.expanded,P.selected&&L.selected,P.focused&&L.focused,P.disabled&&L.disabled,P.editing&&L.editing,P.editable&&L.editable)}),q=u.iconContainer??iIe,W=Ho({elementType:q,getSlotProps:v,externalSlotProps:h.iconContainer,ownerState:{},className:L.iconContainer}),V=u.label??oIe,Y=Ho({elementType:V,getSlotProps:E,externalSlotProps:h.label,ownerState:{},className:L.label}),J=u.checkbox??cIe,ne=Ho({elementType:J,getSlotProps:S,externalSlotProps:h.checkbox,ownerState:{},className:L.checkbox}),z=u.groupTransition??void 0,K=Ho({elementType:z,getSlotProps:T,externalSlotProps:h.groupTransition,ownerState:{},className:L.groupTransition}),Z=u.labelInput??JRe,le=Ho({elementType:Z,getSlotProps:R,externalSlotProps:h.labelInput,ownerState:{},className:L.labelInput}),ce=u.dragAndDropOverlay??XRe,ue=Ho({elementType:ce,getSlotProps:M,externalSlotProps:h.dragAndDropOverlay,ownerState:{},className:L.dragAndDropOverlay}),ae=u.errorIcon??aIe,ye=Ho({elementType:ae,getSlotProps:I,externalSlotProps:h.errorIcon,ownerState:{},className:L.errorIcon}),Me=u.loadingIcon??lIe,xe=Ho({elementType:Me,getSlotProps:N,externalSlotProps:h.loadingIcon,ownerState:{},className:L.loadingIcon});return x.jsx(ZRe,G({},m(),{children:x.jsxs(D,G({},$,{children:[x.jsxs(B,G({},U,{children:[x.jsxs(q,G({},W,{children:[P.error&&x.jsx(ae,G({},ye)),P.loading?x.jsx(Me,G({},xe)):x.jsx(qRe,{status:P,slots:u,slotProps:h})]})),x.jsx(J,G({},ne)),P.editing?x.jsx(Z,G({},le)):x.jsx(V,G({},Y)),x.jsx(ce,G({},ue))]})),c&&x.jsx(sIe,G({as:z},K))]}))}))}),lR=we("div",{name:"FlexRow"})({boxSizing:"border-box",display:"flex",flexDirection:"row",width:"100%",height:"100%",minWidth:0,minHeight:0}),cR=we("div",{name:"FlexCol"})({boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",height:"100%",minWidth:0,minHeight:0}),dIe=we("div",{name:"RollPanel",shouldForwardProp:e=>e!=="width"&&e!=="minimized"&&e!=="reverse"})(({minimized:e,width:t,reverse:n})=>({boxSizing:"border-box",display:"flex",...!n&&{overflow:"hidden"},flexDirection:n?"row-reverse":"row",transition:"width 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,height:"100%",minWidth:0,width:e?20:t})),hIe=we("div",{name:"RollPanel",slot:"content",shouldForwardProp:e=>e!=="width"&&e!=="minimized"})(({width:e})=>({boxSizing:"border-box",display:"flex",flexDirection:"column",userSelect:"none",height:"100%",flexShrink:0,width:e}));function uR({width:e,minimized:t,button:n,children:r,reverse:o}){return x.jsxs(dIe,{width:e,minimized:t,reverse:o,children:[t&&n,x.jsx(hIe,{width:e,children:r})]})}we(cR)({transition:"ease-in 0.15s",overflow:"hidden",userSelect:"none"});const sG=we(wn)({padding:0,borderRadius:0});we(tu)({fontSize:"1rem"});function fIe(){return null}function jw(){return x.jsx(Zg,{flexItem:!0,orientation:"vertical"})}jw.muiName="Divider";function xa(){return x.jsx(Zg,{flexItem:!0,orientation:"horizontal"})}xa.muiNames="Divider";const pIe=we(mo)({whiteSpace:"pre",userSelect:"none"});pIe.displayName="NonSelectableTypo";const pf=_.forwardRef(function(t,n){return x.jsx(mo,{ref:n,component:"span",...t})});pf.muiName="Typography";const gIe=we("img",{name:"FileImageIcon"})({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"}),aG=we("div",{name:"SettingsFormWrapper"})({display:"flex",flexDirection:"row",position:"absolute",top:"50%",left:"50%",width:"60%",height:600,transform:"translate(-50%, -50%)",backgroundColor:"white",boxShadow:"24px",borderRadius:"8px",padding:8,outline:"none",gap:8,userSelect:"none",minWidth:900}),mIe=we("div",{name:"SettingsFormTabs"})({boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",gap:8,flexShrink:1,minWidth:180}),lG=we("div",{name:"SettingsFormContent"})({display:"flex",flexGrow:1,width:"100%",gap:8,justifyContent:"center",alignItems:"stretch",minWidth:0});we("div",{name:"SettingsFormContentCards"})({display:"flex",gap:8,justifyContent:"center",alignItems:"stretch",width:"100%"});const dR=we("div",{name:"SettingsFormCard"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box"}),vIe=we("div",{name:"SettingsFormCard2"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),hR=we("h3",{name:"StyledH3"})({textAlign:"center",margin:0}),cG=we("div",{name:"SettingsFormCardLib"})({display:"flex",flexDirection:"column",gap:2,height:"100%"});we(dl,{name:"StyledCheckbox"})({});const hm=we($i,{name:"StyledButton"})({minHeight:64}),Vw=we("div",{name:"SettingsFormCardContent"})({overflowY:"auto",height:"100%",display:"flex",flexDirection:"column",gap:16,whiteSpace:"nowrap"}),yIe=we("textarea")({flexGrow:1,whiteSpace:"pre",resize:"none",overflow:"auto"});class bIe extends Nt{constructor(t){super(),this.ctx=t,this._currentTab="projectSettings",this.onModalClose=(n,r)=>{this.showProjectSettingsTab&&this.ctx.app.mainMenuVisible.setFalse()},this.onProjectSettingsTabSelected=n=>{this._currentTab="projectSettings"},this.onProjectSelectionTabSelected=n=>{this._currentTab="projectSelection"},this.onAccountTabSelected=n=>{this._currentTab="account"},this.onLogoutButtonClick=n=>{this.ctx.app.accountSettings.logout()},this.onExportButtonClick=()=>{this.ctx.app.currentProject?.export()},this.getPlayIframeCode=()=>{const n=this.ctx.app.currentProject;if(!n)return;const r=`<iframe width="100%" height="100%" src="${Pk(n)}" title="${n.name}"></iframe>`;prompt("Код для вставки",r)},vt(this,{_currentTab:Pe.ref,onModalClose:be,onAccountTabSelected:be,onProjectSelectionTabSelected:be,onProjectSettingsTabSelected:be,onLogoutButtonClick:be})}get currentTab(){const{_currentTab:t}=this;return this.showProjectSettingsTab||t!=="projectSettings"?t:"projectSelection"}get showProjectSettingsTab(){return!!this.ctx.app.currentProject}get libCount(){return this.ctx.app.accountSettings.libraryCount}get libLimit(){return this.ctx.app.accountSettings.libraryLimit}get projectCount(){return this.ctx.app.accountSettings.projectCount}get projectLimit(){return this.ctx.app.accountSettings.projectLimit}get isModalOpen(){return this.ctx.app.mainMenuVisible.isTrue}get profileName(){return this.ctx.app.accountSettings.profileName}}class wIe extends Nt{constructor(t){super(),this.ctx=t,this.onRecursiveSearchCheckboxChange=(n,r)=>{this.m.setRecursiveKlassSearch(r)},this.onAddSubProjectButtonClick=()=>{this.ctx.app.subProjectSelectorVisible.setTrue(),this.ctx.app.subProjectSelector.root.fetchChildren()}}get recursiveSearchCheckboxChecked(){return this.m.recursiveKlassSearch}get projectItems(){const{app:t}=this.ctx,n=this.m.projectFile.parent.path;return this.m.subProjects.map(r=>({key:r.id,primaryText:r.name,secondaryText:Ok(r.config.filepath||"",n),onClick:t.openSubProject.bind(t,r),onDeleteButtonClick:r.remove.bind(r)}))}}class SIe extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{}}get itemId(){return"lib_"+this.m.id}get label(){return this.m.name}}class CIe extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDoubleClick=n=>{n.stopPropagation(),this.m.select()},this.onDragStart=n=>{}}get itemId(){return"prj_"+this.m.id.toString()}get label(){const{m:t}=this;return t.name}}class uG extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{},this.onDragOver=n=>{},this.onDragLeave=n=>{},this.onDrop=n=>{}}get itemId(){return"dir_"+this.m.id.toString()}get label(){return this.m.name}get canExpand(){const{dirs:t,libs:n}=this.m;return!!(t.length||n.length)}get showLoadingIndicator(){return this.m.isChildrenFetching}}class xIe extends Nt{constructor(){super(),this.expandedItems=[],this.selectedItem=null,this.onSelectedItemsChange=(t,n)=>{this.selectedItem=n,!(t?.type!=="keydown"||!n||!n.startsWith("prj_"))&&t.target.dispatchEvent(new MouseEvent("dblclick",{bubbles:!0}))},this.onCreateProjectButtonClick=()=>{const{selectedItem:t}=this;let n=this.m.root;if(t?.startsWith("dir_")){const r=parseInt(t.slice(4)),o=r&&this.m.getDirById(r);o&&(n=o)}this.m.createNewProject(n)},this.onExpandedItemsChange=(t,n)=>{this.expandedItems=n;for(const r of n)this.m.getDirById(parseInt(r.slice(4)))?.fetchChildren()},vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,onSelectedItemsChange:be})}get isProjectCreationInProgress(){return this.m.isProjectCreationInProgress}get createProjectButtonDisabled(){return!1}}const _Ie=Dt(CIe)(({vm:e})=>x.jsx(tu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:BMe},onDoubleClick:e.onDoubleClick})),EIe=Dt(SIe)(({vm:e,m:t})=>t.selector.libsMode?x.jsx(tu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:SH}}):null);function TIe(){return x.jsx(of,{size:32,sx:{color:tl[500],position:"absolute",top:-2,left:-2,zIndex:1}})}const dG=Dt(uG)(({m:e})=>x.jsxs(x.Fragment,{children:[e.dirs.map(t=>x.jsx(MIe,{m:t},t.id)),e.projects.map(t=>x.jsx(_Ie,{m:t},t.id)),e.libs.map(t=>x.jsx(EIe,{m:t},t.id))]})),MIe=Dt(uG)(({vm:e,m:t})=>x.jsx(tu,{slotProps:{groupTransition:{enter:!1,exit:!1}},itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[e.label,e.showLoadingIndicator&&x.jsx(TIe,{})]}),draggable:e.draggable,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,children:x.jsx(dG,{m:t})})),hG=Dt(xIe)(({vm:e,m:t,hidden:n})=>x.jsx(dR,{hidden:n,children:x.jsxs(cG,{children:[x.jsx(Vw,{children:x.jsx(aR,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(dG,{m:t.root})})}),x.jsx($i,{fullWidth:!0,variant:"contained",startIcon:x.jsx(XO,{}),loadingPosition:"start",loading:e.isProjectCreationInProgress,disabled:e.createProjectButtonDisabled,onClick:e.onCreateProjectButtonClick,children:"Создать новый проект"})]})})),OIe=ko()(({vm:e})=>x.jsx(Jl,{control:x.jsx(dl,{checked:e.recursiveSearchCheckboxChecked,onChange:e.onRecursiveSearchCheckboxChange}),label:"Рекурсивный поиск"})),RIe=Dt(wIe)(({vm:e,m:t,hidden:n})=>n?null:x.jsxs(x.Fragment,{children:[x.jsx(dR,{children:x.jsxs(cG,{children:[x.jsx(hR,{children:"Библиотеки"}),x.jsx(Vw,{children:t.libs.map(r=>x.jsx("div",{children:r.name},r.id))}),x.jsx(OIe,{})]})}),x.jsxs(vIe,{children:[x.jsx(hR,{children:"Проекты"}),x.jsx(Vw,{children:x.jsx(jU,{dense:!0,children:e.projectItems.map(r=>x.jsx(C1e,{secondaryAction:x.jsx(wn,{onClick:r.onDeleteButtonClick,edge:"end",children:x.jsx(Mw,{})}),children:x.jsx(p1e,{onClick:r.onClick,children:x.jsx(zU,{primary:r.primaryText,secondary:r.secondaryText})})},r.key))})}),x.jsx($i,{onClick:e.onAddSubProjectButtonClick,variant:"contained",startIcon:x.jsx(XO,{}),children:"Подключить проект"})]}),x.jsxs(dR,{children:[x.jsx(hR,{children:"Плагины"}),x.jsx(Vw,{children:t.plugins.map(r=>x.jsx("div",{children:r},r))})]})]})),IIe=we($i,{name:"EMainMenuFormViewAccountLogoutButton"})({alignSelf:"center"}),PIe=ko()(({vm:e,hidden:t})=>{if(t)return null;const{projectCount:n,projectLimit:r,libCount:o,libLimit:i,profileName:s}=e;return x.jsxs(x.Fragment,{children:[x.jsxs(ti,{sx:{display:"flex",flexDirection:"column"},children:[x.jsx("h1",{children:s}),x.jsxs("h2",{children:["Проектов: ",n," (макс: ",r,")"]}),x.jsxs("h2",{children:["Библиотек: ",o," (макс: ",i,")"]})]}),x.jsx(IIe,{size:"large",color:"error",variant:"contained",onClick:e.onLogoutButtonClick,children:"Выйти из аккаунта"})]})}),kIe=ko()(({vm:e})=>{const{currentTab:t}=e,{currentProject:n,projectSelector:r}=e.ctx.app;return x.jsxs(x.Fragment,{children:[n&&x.jsx(RIe,{m:n,hidden:t!=="projectSettings"}),x.jsx(hG,{m:r,hidden:t!=="projectSelection"}),x.jsx(PIe,{hidden:t!=="account"})]})}),DIe=Dt(bIe)(({vm:e})=>x.jsx(vw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:pw},slotProps:{backdrop:{timeout:500}},children:x.jsx(qg,{in:e.isModalOpen,children:x.jsxs(aG,{children:[x.jsxs(mIe,{children:[e.showProjectSettingsTab&&x.jsx(hm,{onClick:e.onProjectSettingsTabSelected,variant:e.currentTab==="projectSettings"?"contained":"outlined",children:"Настройки проекта"}),x.jsx(hm,{onClick:e.onProjectSelectionTabSelected,variant:e.currentTab==="projectSelection"?"contained":"outlined",children:"Выбор проекта"}),x.jsx(hm,{onClick:e.onAccountTabSelected,variant:e.currentTab==="account"?"contained":"outlined",children:"Аккаунт"}),e.showProjectSettingsTab&&x.jsx(hm,{onClick:e.onExportButtonClick,variant:"outlined",children:"Скачать проект в ZIP"}),e.showProjectSettingsTab&&x.jsx(hm,{onClick:e.getPlayIframeCode,variant:"outlined",children:"Получить код вставки iframe"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/docs",children:"Документация"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/editor/s2k-converter.zip",children:"Загрузить свой проект"})]}),x.jsx(lG,{children:x.jsx(kIe,{})})]})})}));class AIe extends Nt{get activeEditor(){return this.m.currentTab?.editor||null}}class LIe extends Nt{constructor(){super()}}class NIe extends Nt{constructor(){super(),this.optionsMenuOpen=!1,this.propsButtonRef=_.createRef(),this.onResetZoomButtonClick=()=>{this.scene.resetScale()},this.onHideClassesCheckboxChange=(t,n)=>this.scene.setLayers({hideChildren:!n}),this.onShowOtherCheckboxChange=(t,n)=>this.scene.setLayers({hideOther:!n}),this.onShowConnectionsCheckboxChange=(t,n)=>this.scene.setLayers({hideConnections:!n}),this.onSelectUnselectableCheckboxChange=(t,n)=>this.scene.setLayers({selectUnselectable:n}),this.onUndoButtonClick=()=>this.scene.undo(),this.onRedoButtonClick=()=>this.scene.redo(),this.onSelectPrevObjectButtonClick=()=>this.scene.selectNext(!0),this.onSelectNextObjectButtonClick=()=>this.scene.selectNext(),this.onCreateConnectionButtonClick=()=>this.scene.startCreateConnection(),this.onCreateLineButtonClick=()=>this.scene.startCreateLine(),this.onCreateRectButtonClick=()=>this.scene.startCreateRect(),this.onCreateTextButtonClick=()=>this.scene.startCreateText(),this.onCreateInputButtonClick=()=>this.scene.startCreateInput(),this.onCreateButtonButtonClick=()=>this.scene.startCreateButton(),this.onReorderButtonClick=()=>{const{scene:t}=this;t.isInChildReorderMode?t.cancel():t.startReorderChildren()},this.onSceneOptionsButtonClick=()=>{this.optionsMenuOpen=!0},this.onOptionsMenuClose=()=>{this.optionsMenuOpen=!1},vt(this,{optionsMenuOpen:Pe.ref,resetZoomButtonDisabled:Gr,onSceneOptionsButtonClick:be,onOptionsMenuClose:be})}get scene(){return this.m.scene}get showClassesCheckboxChecked(){return!this.scene.hideChildren}get showConnectionsCheckboxChecked(){return!this.scene.hideConnections}get showOtherCheckboxChecked(){return!this.scene.hideOther}get selectUnselectableCheckboxChecked(){return this.scene.selectUnselectable}get statusCursorX(){return this.scene.lastCursorX.toString()}get statusCursorY(){return this.scene.lastCursorY.toString()}get zoom(){return Math.round(this.scene.viewScale*100).toString()}get resetZoomButtonDisabled(){return this.scene.viewScale===1}get undoButtonDisabled(){return!this.scene.canUndo}get redoButtonDisabled(){return!this.scene.canRedo}get reorderButtonActive(){return this.scene.isInChildReorderMode}get statusText(){return"scene.statusText"}get showSchemaButtons(){return!!this.scene.schema}get showSceneOptionsButton(){const{type:t}=this.m;return t==="fileSceneEditor"||t==="schemaEditor"}}class BIe extends Nt{get cursorPosition(){const{currentLineNumber:t,currentColumnIndex:n}=this.m;return`Строка: ${t}, столбец: ${n}`}}class FIe extends Nt{constructor(){super(...arguments),this.onSaveButtonClick=()=>this.m.currentTab?.editor.save?.()}get currentEditor(){return this.m.currentTab?.editor||null}get showSaveButton(){return!!this.m.currentTab?.editor.save}get saveButtonDisabled(){return this.m.currentTab?.editor.isReadonly||!1}}class jIe extends Nt{constructor(){super(...arguments),this.setSizeVariant=t=>{this.setSceneOptions({...this.options,size:t==="content"?{type:"content"}:t==="fixed"?{type:"fixed",width:100,height:100}:null})},this.setWidth=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:r,height:n.height}})},this.setHeight=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:n.width,height:r}})},this.setPopup=(t,n)=>{this.setSceneOptions({...this.options,popup:n})},this.setFixed=(t,n)=>{this.setSceneOptions({...this.options,fixed:n})},this.setVScroll=(t,n)=>{this.setSceneOptions({...this.options,vscroll:n})},this.setHScroll=(t,n)=>{this.setSceneOptions({...this.options,hscroll:n})},this.seAutoOrg=(t,n)=>{this.setSceneOptions({...this.options,autoorg:n})},this.seAutoScroll=(t,n)=>{this.setSceneOptions({...this.options,autoscroll:n})}}get anchorEl(){return this.parent.propsButtonRef.current}get options(){const{m:t}=this.parent,{type:n}=t;return(n==="fileSceneEditor"?t.fileScene.data:n==="schemaEditor"?t.klass.scene:null)?.options||null}setSceneOptions(t){const{m:n}=this.parent,{type:r}=n;if(r==="fileSceneEditor"){const o={...n.fileScene.data};n.fileScene.setData({...o,options:t})}else if(r==="schemaEditor"){const o={...n.klass.scene};n.klass.set({scene:{...o,options:t}})}}get sizeVariant(){return this.options?.size?.type||"null"}get width(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get height(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get popup(){return this.options?.popup||!1}get fixed(){return this.options?.fixed||!1}get vscroll(){return this.options?.vscroll||!1}get hscroll(){return this.options?.hscroll||!1}get autoorg(){return this.options?.autoorg||!1}get autoScroll(){return this.options?.autoscroll||!1}}const fR=we("div",{name:"ESceneObjectViewEditors"})({boxSizing:"border-box",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",minWidth:0,padding:4,gap:8}),VIe=we(mo)({cursor:"pointer",textDecoration:"underline"}),$Ie=we("button")({backgroundColor:"transparent",border:"none",margin:0,padding:0}),zIe=we("div",{name:"ESceneObjectViewToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"center",paddingLeft:4}),UIe=we(hl,{name:"ZValueIndicator"})({maxWidth:"25%",pointerEvents:"none","& input":{textAlign:"center"}});function fG({children:e,visible:t}){return t?x.jsx(Yg,{badgeContent:"+",children:e}):e}const HIe=we("div",{name:"ESceneView"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden"}),GIe=we(DU,{name:"RichTextEditorView"})({paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,marginLeft:6,marginRight:6,"& .public-DraftEditor-content":{whiteSpace:Rye("pre")}}),WIe=we("form")({width:"100%"}),KIe=we("div",{name:"ESceneLineBrushImageView",shouldForwardProp:e=>e!=="dashed"})(({dashed:e})=>({display:"flex",flexDirection:"column",alignItems:"center",borderWidth:2,borderRadius:2,borderStyle:"dashed",...e&&{borderColor:"green"},backgroundColor:"#fafafa",color:"#bdbdbd",cursor:"pointer","*":{pointerEvents:"none"}})),qIe=we("input",{name:"ESceneLineBrushImageView",slot:"input"})({display:"none"}),YIe=we("img",{name:"ESceneLineBrushImageView",slot:"image"})({maxWidth:"100%",maxHeight:"100%",padding:2});function XIe(){return x.jsx(mo,{p:4,component:"p",children:"Выберите или перетащите изображение"})}function pG(e){return parseFloat(e)||0}function gG(e){return Math.max(parseFloat(e)||1,1)}class ZIe extends Nt{constructor(){super(...arguments),this.setX=t=>this.m.set({x:pG(t)}),this.setY=t=>this.m.set({y:pG(t)})}get x(){return Xu(this.m.x)}get y(){return Xu(this.m.y)}}class JIe extends Nt{constructor(){super(...arguments),this.setW=t=>this.m.set({width:gG(t)}),this.setH=t=>this.m.set({height:gG(t)})}get w(){return Xu(this.m.width)}get h(){return Xu(this.m.height)}}class QIe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.setAngle(kp(parseFloat(t)||0))}get value(){return Xu(HC(this.m.angle))}}class ePe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.rotate(kp(parseFloat(t)||0))}}class tPe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.set({name:t})}get value(){return this.m.name}}class nPe extends Nt{constructor(){super(...arguments),this.setValue=(t,n)=>this.m.set({isUnselectable:n})}get value(){return this.m.isUnselectable}}class rPe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.set({layer:parseInt(t.target.value)})}get options(){return this.m.layerRange}get value(){return this.m.layer}}const oPe=parseInt(_.version,10),Zt=e=>{if(oPe>=19){const t=n=>e(n,n.ref??null);return t.displayName=e.displayName??e.name,t}return _.forwardRef(e)},xr=xt,mG=xr(x.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),vG=xr(x.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),yG=xr(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),bG=xr(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),iPe=xr(x.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),wG=xr(x.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})),sPe=xr(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}));xr(x.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})),xr(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));const aPe=xr(x.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),lPe=xr(x.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"})),cPe=xr(x.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"})),uPe=xr(x.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"})),dPe=xr(x.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"})),hPe=xr(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),SG=xr(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),CG=xr(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),fPe=xr(x.jsx("path",{d:"M19 13H5v-2h14v2z"})),pPe=xr(x.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})),xG=xr(x.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),_G=xr(x.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),gPe=xr(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),mPe=xr(x.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),vPe=xr(x.jsx("g",{children:x.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})})),EG=xr(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));xr(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}));const yPe=xr(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),bPe=xr(x.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),TG=_.createContext(void 0),yt=()=>{const e=_.useContext(TG);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},wPe=["sortingOrder"],SPe=_.memo(function(t){const{sortingOrder:n}=t,r=pt(t,wPe),o=yt(),[i]=n,s=i==="asc"?o.slots.columnSortedAscendingIcon:o.slots.columnSortedDescendingIcon;return s?x.jsx(s,G({},r)):null}),MG=_.createContext(void 0);function hn(){const e=_.useContext(MG);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const CPe=new TextEncoder;let $w=2*1024,fm=new ArrayBuffer($w),pR=new Uint8Array(fm),jd=new Int32Array(fm);const xPe=_Pe;function _Pe(e){const t=e.length*2;t>$w&&($w=t+(4-t%4),fm=new ArrayBuffer($w),pR=new Uint8Array(fm),jd=new Int32Array(fm));const n=CPe.encodeInto(e,pR).written,r=0,o=n|0;let i=0,s=(r+o|0)+374761393|0;if(o<16)for(;(i+3|0)<o;i=i+4|0)s=Math.imul(_a(s+Math.imul(jd[i]|0,3266489917)|0,17)|0,668265263);else{let a=r+606290984|0,c=r+2246822519|0,u=r,h=r-2654435761|0;for(;(i+15|0)<o;i=i+16|0)a=Math.imul(_a(a+Math.imul(jd[i+0|0]|0,2246822519)|0,13)|0,2654435761),c=Math.imul(_a(c+Math.imul(jd[i+4|0]|0,2246822519)|0,13)|0,2654435761),u=Math.imul(_a(u+Math.imul(jd[i+8|0]|0,2246822519)|0,13)|0,2654435761),h=Math.imul(_a(h+Math.imul(jd[i+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((_a(a,1)|0+_a(c,7)|0)+_a(u,12)|0)+_a(h,18)|0)+o|0;(i+3|0)<o;i=i+4|0)s=Math.imul(_a(s+Math.imul(jd[i]|0,3266489917)|0,17)|0,668265263)}for(;i<o;i=i+1|0)s=Math.imul(_a(s+Math.imul(pR[i]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function _a(e,t){return e<<t|e>>>32-t}const OG={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{const t=OG.values;return`@media (min-width:${typeof t[e]=="number"?t[e]:e}px)`}},RG={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},EPe=IG(RG),wt=G({breakpoints:OG,spacing:TPe,transition:MPe,keys:RG},EPe);function TPe(e,t,n,r){return e===void 0?Ea(1):t===void 0?Ea(e):n===void 0?Ea(e)+" "+Ea(t):r===void 0?Ea(e)+" "+Ea(t)+" "+Ea(n):Ea(e)+" "+Ea(t)+" "+Ea(n)+" "+Ea(r)}function Ea(e){return e===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${e})`}function MPe(e,t){const{duration:n=wt.transitions.duration.base,easing:r=wt.transitions.easing.easeInOut,delay:o=0}=t??{};return e.map(i=>`${i} ${n} ${r} ${o}ms`).join(", ")}function IG(e){if(typeof e=="string")return`var(${e})`;const t={};for(const n in e)Object.hasOwn(e,n)&&(t[n]=IG(e[n]));return t}function OPe(){const e=al();return _.useMemo(()=>{const t=xPe(DPe(e)),n=RPe(e);return{id:t,variables:n}},[e])}function RPe(e){const t=PPe(e),n=(e.vars||e).palette.DataGrid,r=n?.bg??(e.vars||e).palette.background.default,o=n?.headerBg??r,i=n?.pinnedBg??r,s=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Vs(e.palette.background.default,e.palette.action.disabledOpacity),a=e.palette.mode==="dark"?`color-mix(in srgb, ${(e.vars||e).palette.background.paper} 95%, #fff)`:(e.vars||e).palette.background.paper,c=e.vars?`rgb(${e.vars.palette.primary.mainChannel})`:e.palette.primary.main,u=IPe(e),h=e.vars?.font?.body2??gR(e.typography.body2),f=e.vars?.font?.caption??gR(e.typography.caption),g=e.vars?.font?.body1??gR(e.typography.body1),m=wt.keys;return{[m.spacingUnit]:e.vars?e.vars.spacing??e.spacing(1):e.spacing(1),[m.colors.border.base]:t,[m.colors.background.base]:r,[m.colors.background.overlay]:a,[m.colors.background.backdrop]:s,[m.colors.foreground.base]:(e.vars||e).palette.text.primary,[m.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[m.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[m.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[m.colors.foreground.error]:(e.vars||e).palette.error.dark,[m.colors.interactive.hover]:(e.vars||e).palette.action.hover,[m.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[m.colors.interactive.focus]:PG((e.vars||e).palette.primary.main),[m.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[m.colors.interactive.disabled]:PG((e.vars||e).palette.action.disabled),[m.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[m.colors.interactive.selected]:c,[m.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[m.header.background.base]:o,[m.cell.background.pinned]:i,[m.radius.base]:u,[m.typography.fontFamily.base]:e.typography.fontFamily,[m.typography.fontWeight.light]:e.typography.fontWeightLight,[m.typography.fontWeight.regular]:e.typography.fontWeightRegular,[m.typography.fontWeight.medium]:e.typography.fontWeightMedium,[m.typography.fontWeight.bold]:e.typography.fontWeightBold,[m.typography.font.body]:h,[m.typography.font.small]:f,[m.typography.font.large]:g,[m.transitions.easing.easeIn]:e.transitions.easing.easeIn,[m.transitions.easing.easeOut]:e.transitions.easing.easeOut,[m.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[m.transitions.duration.short]:`${e.transitions.duration.shorter}ms`,[m.transitions.duration.base]:`${e.transitions.duration.short}ms`,[m.transitions.duration.long]:`${e.transitions.duration.standard}ms`,[m.shadows.base]:(e.vars||e).shadows[2],[m.shadows.overlay]:(e.vars||e).shadows[8],[m.zIndex.panel]:(e.vars||e).zIndex.modal,[m.zIndex.menu]:(e.vars||e).zIndex.modal}}function IPe(e){return e.vars?e.vars.shape.borderRadius:typeof e.shape.borderRadius=="number"?`${e.shape.borderRadius}px`:e.shape.borderRadius}function PPe(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Ng(Vs(e.palette.divider,1),.88):Lg(Vs(e.palette.divider,1),.68)}function kPe(e,t){return`rgba(from ${e} r g b / ${t})`}function PG(e){return kPe(e,1)}function gR(e){if(e)return`${e.fontWeight} ${e.fontSize} / ${e.lineHeight} ${e.fontFamily}`}function DPe(e){const t=new WeakSet;return JSON.stringify(e,(n,r)=>{if(typeof window<"u"&&r===window||typeof document<"u"&&r===document)return r.toString();if(r!==null&&typeof r=="object"){if(_.isValidElement(r)||t.has(r))return null;t.add(r)}return r})}const APe=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],LPe=["onRowsPerPageChange","material","disabled"],NPe=["material"],BPe=["autoFocus","label","fullWidth","slotProps","className","material"],FPe=["material"],jPe=["material"],VPe=["material"],$Pe=["material"],zPe=["material"],UPe=["material"],HPe=["material"],GPe=["material"],WPe=["material","label","className"],KPe=["material"],qPe=["inert","iconStart","iconEnd","children","material"],YPe=["slotProps","material"],XPe=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],ZPe=["key"],JPe=["inputProps","InputProps","InputLabelProps"],QPe=["slotProps","material"],eke=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],tke=["native"],kG=we(WEe)(({theme:e})=>({[`&.${LO.positionEnd} .${hO.sizeSmall}`]:{marginRight:e.spacing(-.75)}})),DG=we(Jl,{shouldForwardProp:e=>e!=="fullWidth"})(({theme:e})=>({gap:e.spacing(.5),margin:0,overflow:"hidden",[`& .${uf.label}`]:{fontSize:e.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),AG=we(dl,{shouldForwardProp:e=>e!=="density"})(({theme:e})=>({variants:[{props:{density:"compact"},style:{padding:e.spacing(.5)}}]})),nke=we(zU)({[`& .${Ad.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),rke=Zt(function(t,n){const{id:r,label:o,labelId:i,material:s,disabled:a,slotProps:c,onChange:u,onKeyDown:h,onOpen:f,onClose:g,size:m,style:y,fullWidth:b}=t,v=pt(t,APe),S={PaperProps:{onKeyDown:h}};return g&&(S.onClose=g),x.jsxs(bw,{size:m,fullWidth:b,style:y,disabled:a,ref:n,children:[x.jsx(FU,{id:i,htmlFor:r,shrink:!0,variant:"outlined",children:o}),x.jsx(xw,G({id:r,labelId:i,label:o,displayEmpty:!0,onChange:u,variant:"outlined"},v,{notched:!0,inputProps:c?.htmlInput,onOpen:f,MenuProps:S,size:m},s))]})}),oke=we(sMe)(({theme:e})=>({[`& .${Ld.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Ld.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),ike=Zt(function(t,n){const{onRowsPerPageChange:r,material:o,disabled:i}=t,s=pt(t,LPe),a=_.useMemo(()=>{if(i)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[i]),c=hn(),u=yt(),{estimatedRowCount:h}=u;return x.jsx(oke,G({component:"div",onRowsPerPageChange:$t(f=>{r?.(Number(f.target.value))}),labelRowsPerPage:c.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:f=>c.current.getLocaleText("paginationDisplayedRows")(G({},f,{estimated:h})),getItemAriaLabel:c.current.getLocaleText("paginationItemAriaLabel")},a,s,o,{ref:n}))}),ske=Zt(function(t,n){const{material:r}=t,o=pt(t,NPe);return x.jsx(Yg,G({},o,r,{ref:n}))}),ake=Zt(function(t,n){const{autoFocus:r,label:o,fullWidth:i,slotProps:s,className:a,material:c}=t,u=pt(t,BPe),h=_.useRef(null),f=Tn(h,n),g=_.useRef(null);return _.useEffect(()=>{r?h.current?.querySelector("input")?.focus({preventScroll:!0}):r===!1&&g.current&&g.current.stop({})},[r]),o?x.jsx(DG,{className:a,control:x.jsx(AG,G({},u,c,{inputProps:s?.htmlInput,ref:f,touchRippleRef:g})),label:o,fullWidth:i}):x.jsx(AG,G({},u,c,{className:Ke(a,c?.className),inputProps:s?.htmlInput,ref:f,touchRippleRef:g}))}),lke=Zt(function(t,n){const{material:r}=t,o=pt(t,FPe);return x.jsx(of,G({},o,r,{ref:n}))}),cke=Zt(function(t,n){const{material:r}=t,o=pt(t,jPe);return x.jsx(Zg,G({},o,r,{ref:n}))}),uke=Zt(function(t,n){const{material:r}=t,o=pt(t,VPe);return x.jsx(i1e,G({},o,r,{ref:n}))}),dke=Zt(function(t,n){const{material:r}=t,o=pt(t,$Pe);return x.jsx($i,G({},o,r,{ref:n}))}),hke=Zt(function(t,n){const{material:r}=t,o=pt(t,zPe);return x.jsx(EO,G({},o,r,{ref:n}))}),fke=Zt(function(t,n){const{material:r}=t,o=pt(t,UPe);return x.jsx(wn,G({},o,r,{ref:n}))}),pke=Zt(function(t,n){const{material:r}=t,o=pt(t,HPe);return x.jsx(Mn,G({},o,r,{ref:n}))}),gke=Zt(function(t,n){const{material:r}=t,o=pt(t,GPe);return x.jsx(bTe,G({},o,r,{ref:n}))}),mke=Zt(function(t,n){const{material:r,label:o,className:i}=t,s=pt(t,WPe);return o?x.jsx(DG,{className:i,control:x.jsx(rH,G({},s,r,{ref:n})),label:o}):x.jsx(rH,G({},s,r,{className:i,ref:n}))}),vke=Zt(function(t,n){const{material:r}=t,o=pt(t,KPe);return x.jsx(GU,G({},o,r,{ref:n}))});function yke(e){const{inert:t,iconStart:n,iconEnd:r,children:o,material:i}=e,s=pt(e,qPe);return t&&(s.disableRipple=!0),_.createElement(zi,G({},s,i),[n&&x.jsx(ww,{children:n},"1"),x.jsx(nke,{children:o},"2"),r&&x.jsx(ww,{children:r},"3")])}function bke(e){const{slotProps:t,material:n}=e,r=pt(e,YPe);return x.jsx(hl,G({variant:"outlined"},r,n,{inputProps:t?.htmlInput,InputProps:mR(t?.input),InputLabelProps:G({shrink:!0},t?.inputLabel)}))}function wke(e){const t=yt(),{id:n,multiple:r,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:u,label:h,placeholder:f,slotProps:g,material:m}=e,y=pt(e,XPe);return x.jsx(bU,G({id:n,multiple:r,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:u,renderTags:(b,v)=>b.map((S,E)=>{const T=v({index:E}),{key:R}=T,M=pt(T,ZPe);return x.jsx(EO,G({variant:"outlined",size:"small",label:typeof S=="string"?S:s?.(S)},M),R)}),renderInput:b=>{const{inputProps:v,InputProps:S,InputLabelProps:E}=b,T=pt(b,JPe);return x.jsx(hl,G({},T,{label:h,placeholder:f,inputProps:v,InputProps:mR(S,!1),InputLabelProps:G({shrink:!0},E)},g?.textField,t.slotProps?.baseTextField))}},y,m))}function Ske(e){return x.jsx(Kg,G({},mR(e)))}function mR(e,t=!0){if(!e)return;const{slotProps:n,material:r}=e,i=pt(e,QPe);t&&(i.startAdornment&&(i.startAdornment=x.jsx(kG,{position:"start",children:i.startAdornment})),i.endAdornment&&(i.endAdornment=x.jsx(kG,{position:"end",children:i.endAdornment})));for(const s in r)Object.hasOwn(r,s)&&(i[s]=r[s]);return n?.htmlInput&&(i.inputProps?i.inputProps=G({},i.inputProps,n?.htmlInput):i.inputProps=n?.htmlInput),i}const Cke={"bottom-start":"top left","bottom-end":"top right"};function xke(e){const{open:t,children:n,className:r,flip:o,onExited:i,onDidShow:s,onDidHide:a,id:c,target:u,transition:h,placement:f,material:g}=e,m=pt(e,eke),y=_.useMemo(()=>{const v=[{name:"preventOverflow",options:{padding:8}}];return o&&v.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||a)&&v.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s?.()},effect:()=>()=>{a?.()}}),v},[o,s,a]);let b;if(!h)b=LG(e,n);else{const v=S=>E=>{S&&S(),i&&i(E)};b=S=>LG(e,x.jsx(Qg,G({},S.TransitionProps,{style:{transformOrigin:Cke[S.placement]},onExited:v(S.TransitionProps?.onExited),children:x.jsx(Rd,{children:n})})))}return x.jsx(Wg,G({id:c,className:r,open:t,anchorEl:u,transition:h,placement:f,modifiers:y},m,g,{children:b}))}function LG(e,t){return Eke(e,_ke(e,t))}function _ke(e,t){return e.onClickAway===void 0?t:x.jsx(I_e,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function Eke(e,t){return e.focusTrap===void 0?t:x.jsx(RU,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:x.jsx("div",{tabIndex:-1,children:t})})}function Tke(e){let{native:t}=e,n=pt(e,tke);return t?x.jsx("option",G({},n)):x.jsx(zi,G({},n))}const Mke=G({},{baseAutocomplete:wke,baseBadge:ske,baseCheckbox:ake,baseChip:hke,baseCircularProgress:lke,baseDivider:cke,baseInput:Ske,baseLinearProgress:uke,baseMenuList:vke,baseMenuItem:yke,baseTextField:bke,baseButton:dke,baseIconButton:fke,baseTooltip:pke,basePagination:ike,basePopper:xke,baseSelect:rke,baseSelectOption:Tke,baseSkeleton:gke,baseSwitch:mke},{booleanCellTrueIcon:_G,booleanCellFalseIcon:SG,columnMenuIcon:hPe,openFilterButtonIcon:iPe,filterPanelDeleteIcon:SG,columnFilteredIcon:wG,columnSelectorIcon:aPe,columnUnsortedIcon:SPe,columnSortedAscendingIcon:mG,columnSortedDescendingIcon:vG,columnResizeIcon:lPe,densityCompactIcon:cPe,densityStandardIcon:uPe,densityComfortableIcon:dPe,exportIcon:bPe,moreActionsIcon:gPe,treeDataCollapseIcon:bG,treeDataExpandIcon:yG,groupingCriteriaCollapseIcon:bG,groupingCriteriaExpandIcon:yG,detailPanelExpandIcon:CG,detailPanelCollapseIcon:fPe,rowReorderIcon:xG,quickFilterIcon:sPe,quickFilterClearIcon:EG,columnMenuHideIcon:mPe,columnMenuSortAscendingIcon:mG,columnMenuSortDescendingIcon:vG,columnMenuUnsortIcon:null,columnMenuFilterIcon:wG,columnMenuManageColumnsIcon:vPe,columnMenuClearIcon:EG,loadIcon:pPe,filterPanelAddIcon:CG,filterPanelRemoveAllIcon:yPe,columnReorderIcon:xG,menuItemCheckIcon:_G}),Oke=()=>_.useRef(null),Ot=(...e)=>{const t=Bn(...e);return(r,o,i,s)=>t(vR(r),o,i,s)},Hn=(...e)=>{const t=hf(...e);return(r,o,i,s)=>t(vR(r),o,i,s)},Pr=e=>(t,n)=>e(vR(t),n);function vR(e){return"current"in e?e.current.state:e}const Xr=Pr(e=>e.dimensions),yR=Ot(Xr,e=>e.columnsTotalWidth),Rke=Ot(Xr,e=>e.rowHeight);Ot(Xr,e=>e.contentSize.height);const Ike=Ot(Xr,e=>e.hasScrollX),Pke=Ot(Xr,e=>e.hasScrollY),NG=Ot(Xr,e=>e.columnsTotalWidth<e.viewportOuterSize.width),kke=Ot(Xr,e=>e.headerHeight),Dke=Ot(Xr,e=>e.groupHeaderHeight);Ot(Xr,e=>e.headerFilterHeight);const Ake=Ot(Xr,e=>e.hasScrollX?e.scrollbarSize:0),BG=Ot(Xr,e=>e.hasScrollY?e.scrollbarSize:0),Lke=Ot(Xr,Ake,(e,t)=>{const n=e.viewportOuterSize.height-e.minimumSize.height>0;return!(t===0&&!n)}),bR=Pr(e=>e.rowsMeta),Ta=Pr(e=>e.rows),gf=Ot(Ta,e=>e.totalRowCount),Nke=Ot(Ta,e=>e.loading),Bke=Ot(Ta,e=>e.totalTopLevelRowCount),qs=Ot(Ta,e=>e.dataRowIdToModelLookup);Ot(qs,(e,t)=>e[t]);const Go=Ot(Ta,e=>e.tree),fl=Ot(Go,(e,t)=>e[t]),Fke=Ot(Ta,e=>e.groupsToFetch),jke=Ot(Ta,e=>e.groupingName),FG=Ot(Ta,e=>e.treeDepths),pm=Hn(Ta,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:(t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]??0)+1}),Vd=Ot(Ta,e=>e.dataRowIds),Vke=Hn(Vd,qs,(e,t)=>e.reduce((n,r)=>(t[r]&&n.push(t[r]),n),[])),$ke=Ot(Ta,e=>e?.additionalRowGroups),gm=Hn($ke,e=>{const t=e?.pinnedRows;return{bottom:t?.bottom?.map(n=>({id:n.id,model:n.model??{}}))??[],top:t?.top?.map(n=>({id:n.id,model:n.model??{}}))??[]}}),jG=Ot(gm,e=>(e?.top?.length||0)+(e?.bottom?.length||0)),Do="auto-generated-group-node-root",$d=Symbol("mui.id_autogenerated"),zke=()=>({type:"group",id:Do,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function Uke(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const zw=(e,t,n)=>{const r=t?t(e):e.id;return Uke(r,e,n),r},Hke=(e,t,n)=>{const r=t.field;if(!t||!t.valueGetter)return e[r];const o=e[t.field];return t.valueGetter(o,e,t,n)},Uw=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const o={type:"full",rows:[]},i={};for(let s=0;s<e.length;s+=1){const a=e[s],c=zw(a,t);i[c]=a,o.rows.push(c)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:o,dataRowIdToModelLookup:i}},VG=({tree:e,rowCountProp:t=0})=>{const n=e[Do];return Math.max(t,n.children.length+(n.footerId==null?0:1))},$G=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:r,previousTreeDepths:o,previousGroupsToFetch:i})=>{const s=e.current.caches.rows,{tree:a,treeDepths:c,dataRowIds:u,groupingName:h,groupsToFetch:f=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:o,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:i}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:c,dataRowIds:u,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},G({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:VG({tree:g.tree,rowCountProp:t}),groupingName:h,loading:n,groupsToFetch:f})},zG=e=>$d in e,mf=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,wR=(e,t,n,r)=>{const o=e[t];if(o.type!=="group")return[];const i=[];for(let s=0;s<o.children.length;s+=1){const a=o.children[s];if((!n||!mf(e[a]))&&i.push(a),r)continue;const c=wR(e,a,n,r);for(let u=0;u<c.length;u+=1)i.push(c[u])}return!n&&o.footerId!=null&&i.push(o.footerId),i},UG=({previousCache:e,getRowId:t,updates:n,groupKeys:r})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const o=new Map;n.forEach(u=>{const h=zw(u,t,"A row was provided without id when calling updateRows():");o.has(h)?o.set(h,G({},o.get(h),u)):o.set(h,u)});const i={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:G({},e.updates.idToActionLookup),groupKeys:r},s=G({},e.dataRowIdToModelLookup),a={insert:{},modify:{},remove:{}};o.forEach((u,h)=>{const f=i.idToActionLookup[h];if(u._action==="delete"){if(f==="remove"||!s[h])return;f!=null&&(a[f][h]=!0),i.actions.remove.push(h),delete s[h];return}const g=s[h];if(g){f==="remove"?(a.remove[h]=!0,i.actions.modify.push(h)):f==null&&i.actions.modify.push(h),s[h]=G({},g,u);return}f==="remove"?(a.remove[h]=!0,i.actions.insert.push(h)):f==null&&i.actions.insert.push(h),s[h]=u});const c=Object.keys(a);for(let u=0;u<c.length;u+=1){const h=c[u],f=a[h];Object.keys(f).length>0&&(i.actions[h]=i.actions[h].filter(g=>!f[g]))}return{dataRowIdToModelLookup:s,updates:i,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}},HG="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function GG(e,t,n){const r=[];return t.forEach(o=>{const i=zw(o,n,"A row was provided without id when calling updateRows():");if(fl(e,i)?.type==="pinnedRow"){const a=e.current.caches.pinnedRows,c=a.idLookup[i];c&&(a.idLookup[i]=G({},c,o))}else r.push(o)}),r}const WG=(e,t,n)=>typeof e=="number"&&e>0?e:t;function tc(e){return _.memo(e,iG)}const Gke={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:n,estimated:r})=>{if(!r)return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`;const o=r&&r>t?`around ${r}`:`more than ${t}`;return`${e}–${t} of ${n!==-1?n:o}`},paginationItemAriaLabel:e=>e==="first"?"Go to first page":e==="last"?"Go to last page":e==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt…",promptFieldPlaceholderWithRecording:"Type or record a prompt…",promptFieldPlaceholderListening:"Listening for prompt…",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing…",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,n)=>t==="is any of"?`${e} is any of: ${n}`:`${e} ${t} ${n}`,promptChangeFilterDescription:(e,t,n)=>t==="is any of"?`Filter where ${e} is any of: ${n}`:`Filter where ${e} ${t} ${n}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`};function xn(e){return Xt("MuiDataGrid",e)}const ie=Kt("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let Ma=(function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e})({});const KG=1e3;class Wke{timeouts=new Map;cleanupTimeout=KG;constructor(t=KG){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Kke{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class SR{static create(){return new SR}}const Hw={current:Yke()};let qG=0;function Tt(e,t,n,r){const o=_.useState(SR.create)[0],i=_.useRef(null),s=_.useRef(null);s.current=n;const a=_.useRef(null);if(!i.current&&s.current){const c=(u,h,f)=>{h.defaultMuiPrevented||s.current?.(u,h,f)};i.current=e.current.subscribeEvent(t,c,r),qG+=1,a.current={cleanupToken:qG},Hw.current.register(o,()=>{i.current?.(),i.current=null,a.current=null},a.current)}else!s.current&&i.current&&(i.current(),i.current=null,a.current&&(Hw.current.unregister(a.current),a.current=null));_.useEffect(()=>{if(!i.current&&s.current){const c=(u,h,f)=>{h.defaultMuiPrevented||s.current?.(u,h,f)};i.current=e.current.subscribeEvent(t,c,r)}return a.current&&Hw.current&&(Hw.current.unregister(a.current),a.current=null),()=>{i.current?.(),i.current=null}},[e,t,r])}const qke={isFirst:!0};function lr(e,t,n){Tt(e,t,n,qke)}function Yke(){return typeof FinalizationRegistry<"u"?new Kke:new Wke}const Xke=Object.is,YG=iG,Zke=(e,t)=>e===t?!0:e.length===t.length&&e.every((n,r)=>n===t[r]),Jke=(e,t)=>{let n=Object.is;return t instanceof Array?n=Zke:t instanceof Object&&(n=YG),n(e,t)},Qke=()=>({state:null,equals:null,selector:null,args:void 0}),XG=[],eDe=()=>null;function tt(e,t,n=void 0,r=Xke){const o=is(Qke),i=o.current.selector!==null,[s,a]=_.useState(i?null:t(e,n));o.current.state=s,o.current.equals=r,o.current.selector=t;const c=o.current.args;if(o.current.args=n,i&&!Jke(c,n)){const f=o.current.selector(e,o.current.args);o.current.equals(o.current.state,f)||(o.current.state=f,a(f))}const u=_.useCallback(()=>(o.current.subscription||(o.current.subscription=e.current.store.subscribe(()=>{const f=o.current.selector(e,o.current.args);o.current.equals(o.current.state,f)||(o.current.state=f,a(f))})),null),XG),h=_.useCallback(()=>(o.current.subscription||u(),()=>{o.current.subscription&&(o.current.subscription(),o.current.subscription=void 0)}),XG);return vM.useSyncExternalStore(h,u,eDe),s}const tDe={compact:.7,comfortable:1.3,standard:1},vf=Pr(e=>e.density),mm=Ot(vf,e=>tDe[e]);function pl(e){throw new Error("Failed assertion: should not be rendered")}const nDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],rDe=e=>{const{classes:t}=e;return ht({root:["editInputCell"]},xn,t)},oDe=we(pl,{name:"MuiDataGrid",slot:"EditInputCell"})({font:wt.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),iDe=Zt((e,t)=>{const n=yt(),{id:r,value:o,field:i,colDef:s,hasFocus:a,debounceMs:c=200,isProcessingProps:u,onValueChange:h,slotProps:f}=e,g=pt(e,nDe),m=hn(),y=_.useRef(null),[b,v]=_.useState(o),S=rDe(n),E=_.useCallback(async R=>{const M=R.target.value,I=m.current.getColumn(i);let N=M;I.valueParser&&(N=I.valueParser(M,m.current.getRow(r),I,m)),v(N),m.current.setEditCellValue({id:r,field:i,value:N,debounceMs:c,unstable_skipValueParser:!0},R),h&&await h(R,M)},[m,c,i,r,h]),T=m.current.unstable_getEditCellMeta(r,i);return _.useEffect(()=>{T?.changeReason!=="debouncedSetEditCellValue"&&v(o)},[T,o]),Un(()=>{a&&y.current.focus()},[a]),x.jsx(oDe,G({as:n.slots.baseInput,inputRef:y,className:S.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:b??"",onChange:E,endAdornment:u?x.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g,f?.root,{ref:t}))}),sDe=e=>x.jsx(iDe,G({},e)),ZG=(e,t)=>t&&e.length>1?[e[0]]:e,JG=(e,t)=>n=>G({},n,{sorting:G({},n.sorting,{sortModel:ZG(e,t)})}),aDe=e=>e==="desc",lDe=(e,t)=>{const n=t.current.getColumn(e.field);if(!n||e.sort===null)return null;let r;return n.getSortComparator?r=n.getSortComparator(e.sort):r=aDe(e.sort)?(...i)=>-1*n.sortComparator(...i):n.sortComparator,r?{getSortCellParams:i=>({id:i,field:n.field,rowNode:fl(t,i),value:t.current.getCellValue(i,n.field),api:t.current}),comparator:r}:null},cDe=(e,t,n)=>e.reduce((r,o,i)=>{if(r!==0)return r;const s=t.params[i],a=n.params[i];return r=o.comparator(s.value,a.value,s,a),r},0),uDe=(e,t)=>{const n=e.map(r=>lDe(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>cDe(n,o,i)).map(o=>o.node.id)},QG=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},CR=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,dDe=new Intl.Collator,hDe=(e,t)=>{const n=CR(e,t);return n!==null?n:typeof e=="string"?dDe.compare(e.toString(),t.toString()):e-t},e2=(e,t)=>{const n=CR(e,t);return n!==null?n:Number(e)-Number(t)},t2=(e,t)=>{const n=CR(e,t);return n!==null?n:e>t?1:e<t?-1:0},fDe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function Ys(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,tabIndex:s,disabled:a,slotProps:c,clearButton:u,headerFilterMenu:h}=e,f=pt(e,fDe),g=c?.root,m=Fi(),[y,b]=_.useState(xR(t.value)),[v,S]=_.useState(!1),E=Dn(),T=yt(),R=_.useCallback(M=>{const I=xR(M.target.value);b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=G({},t,{value:r==="number"&&!Number.isNaN(Number(I))?Number(I):I,fromInput:E});n(N),S(!1)})},[m,T.filterDebounceMs,t,r,E,n]);return _.useEffect(()=>{(t.fromInput!==E||t.value==null)&&b(xR(t.value))},[E,t]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,G({id:E,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:y??"",onChange:R,type:r||"text",disabled:a,slotProps:G({},g?.slotProps,{input:G({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.slotProps?.input),htmlInput:G({tabIndex:s},g?.slotProps?.htmlInput)}),inputRef:i},T.slotProps?.baseTextField,f,g)),h,u]})}function xR(e){if(!(e==null||e===""))return String(e)}function pDe(e){return typeof e=="number"&&!Number.isNaN(e)}function gDe(e){return typeof e=="function"}function _R(e){return typeof e=="object"&&e!==null}function mDe(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Gw(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const zd=(e,t,n)=>Math.max(t,Math.min(n,e));function vDe(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function yDe(e){const t=vDe(e);return(n,r)=>n+(r-n)*t()}function n2(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const nu=(e,t)=>n=>{e&&t(n)};function r2(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s}=e,a=Dn(),[c,u]=_.useState([]),[h,f]=_.useState(t.value||[]),g=yt();_.useEffect(()=>{const v=t.value??[];f(v.map(String))},[t.value]);const m=_.useCallback((v,S)=>{f(S.map(String)),n(G({},t,{value:[...S.map(E=>r==="number"?Number(E):E)]}))},[n,t,r]),y=_.useCallback((v,S)=>{u(S===""?[]:[S])},[u]),b=g.slots.baseAutocomplete;return x.jsx(b,G({multiple:!0,freeSolo:!0,options:c,id:a,value:h,onChange:m,onInputChange:y,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:i}}},s?.root))}var gl=(function(e){return e.Cell="cell",e.Row="row",e})(gl||{}),qn=(function(e){return e.Edit="edit",e.View="view",e})(qn||{}),_r=(function(e){return e.Edit="edit",e.View="view",e})(_r||{}),Ti=(function(e){return e.And="and",e.Or="or",e})(Ti||{});class bDe{constructor(t){this.data=t.ids}has(t){return this.data.has(t)}select(t){this.data.add(t)}unselect(t){this.data.delete(t)}}class wDe{constructor(t){this.data=t.ids}has(t){return!this.data.has(t)}select(t){this.data.delete(t)}unselect(t){this.data.add(t)}}const ru=e=>e.type==="include"?new bDe(e):new wDe(e);var nc=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e})(nc||{}),Xs=(function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(Xs||{}),ou=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e})(ou||{}),ml=(function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(ml||{});function o2(e){return e.field!==void 0}const i2={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},vm=()=>({items:[],logicOperator:Ti.And,quickFilterValues:[],quickFilterLogicOperator:Ti.And});function s2(e){return{current:e.current.getPublicApi()}}let iu=(function(e){return e.LEFT="left",e.RIGHT="right",e})({});const Ww={left:[],right:[]},a2=Pr(e=>e.isRtl),l2=Pr(e=>e.props.listView??!1),c2=Pr(e=>e.listViewColumn),Oa=Pr(e=>e.columns),vl=Ot(Oa,e=>e.orderedFields),rc=Ot(Oa,e=>e.lookup),Zs=Hn(vl,rc,(e,t)=>e.map(n=>t[n])),Js=Ot(Oa,e=>e.columnVisibilityModel),SDe=Ot(Oa,e=>e.initialColumnVisibilityModel),Zr=Hn(Zs,Js,l2,c2,(e,t,n,r)=>n&&r?[r]:e.filter(o=>t[o.field]!==!1)),ym=Hn(Zr,e=>e.map(t=>t.field)),u2=Pr(e=>e.pinnedColumns);Hn(u2,vl,a2,(e,t,n)=>d2(e,t,n));const Kw=Hn(Oa,u2,ym,a2,l2,(e,t,n,r,o)=>{if(o)return Ww;const i=d2(t,n,r);return{left:i.left.map(a=>e.lookup[a]),right:i.right.map(a=>e.lookup[a])}});function d2(e,t,n){if(!Array.isArray(e.left)&&!Array.isArray(e.right)||e.left?.length===0&&e.right?.length===0)return Ww;const r=(a,c)=>Array.isArray(a)?a.filter(u=>c.includes(u)):[],o=r(e.left,t),i=t.filter(a=>!o.includes(a)),s=r(e.right,i);return n?{left:s,right:o}:{left:o,right:s}}const Ud=Hn(Zr,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),h2=Hn(Zs,e=>e.filter(t=>t.filterable)),CDe=Hn(Zs,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),xDe=Hn(Zs,e=>e.some(t=>t.colSpan!==void 0));let bm;function _De(){if(bm!==void 0)return bm;try{bm=new Function("return true")()}catch{bm=!1}return bm}const ER=(e,t)=>{const n=G({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=rc(t)[n.field];n.operator=r&&r.filterOperators[0].value}return n},TR=(e,t,n)=>{const r=e.items.length>1;let o;r&&t?o=[e.items[0]]:o=e.items;const i=r&&o.some(a=>a.id==null);return o.some(a=>a.operator==null)||i?G({},e,{items:o.map(a=>ER(a,n))}):e.items!==o?G({},e,{items:o}):e},f2=(e,t,n)=>r=>G({},r,{filterModel:TR(e,t,n)}),wm=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,p2=(e,t)=>{if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){const h=n.valueParser;r=Array.isArray(e.value)?e.value?.map(f=>h(f,void 0,n,t)):h(e.value,void 0,n,t)}else r=e.value;const{ignoreDiacritics:o}=t.current.rootProps;o&&(r=wm(r));const i=G({},e,{value:r}),s=n.filterOperators;if(!s?.length)throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const a=s.find(h=>h.value===i.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${i.operator}'.`);const c=s2(t),u=a.getApplyFilterFn(i,n);return typeof u!="function"?null:{item:i,fn:h=>{let f=t.current.getRowValue(h,n);return o&&(f=wm(f)),u(f,h,n,c)}}};let g2=1;const EDe=(e,t,n)=>{const{items:r}=e,o=r.map(a=>p2(a,t)).filter(a=>!!a);if(o.length===0)return null;if(n||!_De())return(a,c)=>{const u={};for(let h=0;h<o.length;h+=1){const f=o[h];(!c||c(f.item.field))&&(u[f.item.id]=f.fn(a))}return u};const i=new Function("appliers","row","shouldApplyFilter",`"use strict";
${o.map((a,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${o.map((a,c)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(g2)));return g2+=1,(a,c)=>i(o,a,c)},m2=e=>e.quickFilterExcludeHiddenColumns??!0,TDe=(e,t)=>{const n=e.quickFilterValues?.filter(Boolean)??[];if(n.length===0)return null;const r=vl(t),o=Js(t);let i;m2(e)?i=r.filter(u=>o[u]!==!1):i=r;const s=[],{ignoreDiacritics:a}=t.current.rootProps,c=s2(t);return i.forEach(u=>{const h=t.current.getColumn(u),f=h?.getApplyQuickFilterFn;f&&s.push({column:h,appliers:n.map(g=>{const m=a?wm(g):g;return{fn:f(m,h,c)}})})}),function(h,f){const g={};e:for(let m=0;m<n.length;m+=1){const y=n[m];for(let b=0;b<s.length;b+=1){const{column:v,appliers:S}=s[b],{field:E}=v;if(f&&!f(E))continue;const T=S[m];let R=t.current.getRowValue(h,v);if(T.fn===null)continue;if(a&&(R=wm(R)),T.fn(R,h,v,c)){g[y]=!0;continue e}}g[y]=!1}return g}},MDe=(e,t,n)=>{const r=EDe(e,t,n),o=TDe(e,t);return function(s,a,c){c.passingFilterItems=r?.(s,a)??null,c.passingQuickFilterValues=o?.(s,a)??null}},v2=e=>e!=null,ODe=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(r=>p2(r,t)!==null)),e.cleanedFilterItems),RDe=(e,t,n,r,o)=>{const i=ODe(o,r,n.items),s=e.filter(v2),a=t.filter(v2);if(s.length>0){const c=h=>s.some(f=>f[h.id]);if((n.logicOperator??vm().logicOperator)===Ti.And){if(!i.every(c))return!1}else if(!i.some(c))return!1}if(a.length>0&&n.quickFilterValues!=null){const c=h=>a.some(f=>f[h]);if((n.quickFilterLogicOperator??vm().quickFilterLogicOperator)===Ti.And){if(!n.quickFilterValues.every(c))return!1}else if(!n.quickFilterValues.some(c))return!1}return!0},IDe=e=>{if(!e)return null;const t=new RegExp(Gw(e),"i");return(n,r,o,i)=>{let s=i.current.getRowFormattedValue(r,o);return i.current.ignoreDiacritics&&(s=wm(s)),s!=null?t.test(s.toString()):!1}},y2=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new RegExp(Gw(r),"i");return i=>{if(i==null)return t;const s=o.test(String(i));return t?!s:s}},b2=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>{if(i==null)return t;const s=o.compare(r,i.toString())===0;return t?!s:s}},w2=e=>()=>t=>{const n=t===""||t==null;return e?!n:n},Ra={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:hDe,type:"string",align:"left",filterOperators:((e=!1)=>[{value:"contains",getApplyFilterFn:y2(e,!1),InputComponent:Ys},{value:"doesNotContain",getApplyFilterFn:y2(e,!0),InputComponent:Ys},{value:"equals",getApplyFilterFn:b2(e,!1),InputComponent:Ys},{value:"doesNotEqual",getApplyFilterFn:b2(e,!0),InputComponent:Ys},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${Gw(n)}.*$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:Ys},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${Gw(n)}$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:Ys},{value:"isEmpty",getApplyFilterFn:w2(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:w2(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return o=>o!=null?n.some(i=>r.compare(i,o.toString()||"")===0):!1},InputComponent:r2}])(),renderEditCell:sDe,getApplyQuickFilterFn:IDe};function S2(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const qw=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",PDe=e=>!!e.key,C2=e=>e==="Tab"||e==="Escape";function x2(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="V"&&!e.shiftKey&&!e.altKey}function kDe(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="C"&&!e.shiftKey&&!e.altKey}const _2=_.createContext(void 0),Yw=()=>{const e=_.useContext(_2);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e},DDe="MuiDataGridVariables",MR=_.createContext({className:"unset",tag:x.jsx("style",{href:"/unset"})});function E2(){return _.useContext(MR).className}function ADe(){return _.useContext(MR)}function LDe(e){const t=Yw(),n=yt(),r=t.hooks.useCSSVariables(),o=_.useMemo(()=>{const i=`${DDe}-${r.id}`,s=`.${i}{${NDe(r.variables)}}`,a=x.jsx("style",{href:`/${i}`,nonce:n.nonce,children:s});return{className:i,tag:a}},[n.nonce,r]);return x.jsx(MR.Provider,{value:o,children:e.children})}function NDe(e){let t="";for(const n in e)Object.hasOwn(e,n)&&e[n]!==void 0&&(t+=`${n}:${e[n]};`);return t}const BDe=["open","target","onClose","children","position","className","onExited"],FDe=e=>{const{classes:t}=e;return ht({root:["menu"]},xn,t)},jDe=we(pl,{name:"MuiDataGrid",slot:"Menu"})({zIndex:wt.zIndex.menu,[`& .${ie.menuList}`]:{outline:0}});function Xw(e){const{open:t,target:n,onClose:r,children:o,position:i,className:s,onExited:a}=e,c=pt(e,BDe),u=hn(),h=yt(),f=FDe(h),g=E2(),m=_.useRef(null);Un(()=>{t?m.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(m.current?.focus?.(),m.current=null)},[t]),_.useEffect(()=>{const v=t?"menuOpen":"menuClose";u.current.publishEvent(v,{target:n})},[u,t,n]);const y=v=>{v.target&&(n===v.target||n?.contains(v.target))||r(v)},b=v=>{C2(v.key)&&r(v)};return x.jsx(jDe,G({as:h.slots.basePopper,className:Ke(f.root,s,g),ownerState:h,open:t,target:n,transition:!0,placement:i,onClickAway:y,onExited:a,clickAwayMouseEvent:"onMouseDown",onKeyDown:b},c,h.slotProps?.basePopper,{children:o}))}const VDe=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],$De=e=>typeof e.getActions=="function";function zDe(e){const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:i="bottom-end",focusElementRef:s}=e,a=pt(e,VDe),[c,u]=_.useState(-1),[h,f]=_.useState(!1),g=hn(),m=_.useRef(null),y=_.useRef(null),b=_.useRef(!1),v=_.useRef({}),S=Uo(),E=Dn(),T=Dn(),R=yt();if(!$De(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const M=t.getActions(g.current.getRowParams(n)),I=M.filter(V=>!V.props.showInMenu),N=M.filter(V=>V.props.showInMenu),P=I.length+(N.length?1:0);_.useLayoutEffect(()=>{r||Object.entries(v.current).forEach(([V,Y])=>{Y?.stop({},()=>{delete v.current[V]})})},[r]),_.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),_.useEffect(()=>{r||(u(-1),b.current=!1)},[r]),_.useImperativeHandle(s,()=>({focus(){if(!b.current){const V=M.findIndex(Y=>!Y.props.disabled);u(V)}}}),[M]),_.useEffect(()=>{c>=P&&u(P-1)},[c,P]);const L=()=>{f(!0),u(P-1),b.current=!0},D=()=>{f(!1)},$=V=>{V.stopPropagation(),V.preventDefault(),h?D():L()},B=V=>Y=>{v.current[V]=Y},U=(V,Y)=>J=>{u(V),b.current=!0,Y&&Y(J)},q=V=>{if(P<=1)return;const Y=(ne,z)=>{if(ne<0||ne>M.length)return ne;const Z=(z==="left"?-1:1)*(S?-1:1);return M[ne+Z]?.props.disabled?Y(ne+Z,z):ne+Z};let J=c;V.key==="ArrowRight"?J=Y(c,"right"):V.key==="ArrowLeft"&&(J=Y(c,"left")),!(J<0||J>=P)&&J!==c&&(V.preventDefault(),V.stopPropagation(),u(J))},W=P>0?{role:"menu",onKeyDown:q}:void 0;return x.jsxs("div",G({ref:m,tabIndex:-1,className:ie.actionsCell},W,a,{children:[I.map((V,Y)=>_.cloneElement(V,{key:Y,touchRippleRef:B(Y),onClick:U(Y,V.props.onClick),tabIndex:c===Y?o:-1})),N.length>0&&T&&x.jsx(R.slots.baseIconButton,G({ref:y,id:T,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":h,"aria-controls":h?E:void 0,role:"menuitem",size:"small",onClick:$,touchRippleRef:B(T),tabIndex:c===I.length?o:-1},R.slotProps?.baseIconButton,{children:x.jsx(R.slots.moreActionsIcon,{fontSize:"small"})})),N.length>0&&x.jsx(Xw,{open:h,target:y.current,position:i,onClose:D,children:x.jsx(R.slots.baseMenuList,{id:E,className:ie.menuList,"aria-labelledby":T,autoFocusItem:!0,children:N.map((V,Y)=>_.cloneElement(V,{key:Y,closeMenu:D}))})})]}))}const UDe=e=>x.jsx(zDe,G({},e)),Zw="actions",HDe=G({},Ra,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:UDe,getApplyQuickFilterFn:()=>null}),GDe="__tree_data_group__",T2="__row_group_by_columns_group__",OR="__detail_panel_toggle__";let On=(function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e})({});const WDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],KDe=e=>{const{classes:t}=e;return ht({root:["booleanCell"]},xn,t)};function qDe(e){const{value:t,rowNode:n}=e,r=pt(e,WDe),o=hn(),i=yt(),s={classes:i.classes},a=KDe(s),u=tt(o,pm)>0&&n.type==="group"&&i.treeData===!1,h=_.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return u&&t===void 0?null:x.jsx(h,G({fontSize:"small",className:a.root,titleAccess:o.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},r))}const YDe=_.memo(qDe),XDe=e=>e.field!==T2&&mf(e.rowNode)?"":x.jsx(YDe,G({},e)),ZDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],JDe=e=>{const{classes:t}=e;return ht({root:["editBooleanCell"]},xn,t)};function QDe(e){const{id:t,value:n,field:r,className:o,hasFocus:i,onValueChange:s}=e,a=pt(e,ZDe),c=hn(),u=_.useRef(null),h=Dn(),[f,g]=_.useState(n),m=yt(),y={classes:m.classes},b=JDe(y),v=_.useCallback(async S=>{const E=S.target.checked;s&&await s(S,E),g(E),await c.current.setEditCellValue({id:t,field:r,value:E},S)},[c,r,t,s]);return _.useEffect(()=>{g(n)},[n]),Un(()=>{i&&u.current.focus()},[i]),x.jsx("label",G({htmlFor:h,className:Ke(b.root,o)},a,{children:x.jsx(m.slots.baseCheckbox,G({id:h,inputRef:u,checked:!!f,onChange:v,size:"small"},m.slotProps?.baseCheckbox))}))}const eAe=e=>x.jsx(QDe,G({},e)),tAe=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function nAe(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,headerFilterMenu:i,clearButton:s,tabIndex:a,slotProps:c}=e,u=pt(e,tAe),[h,f]=_.useState(Jw(t.value)),g=yt(),m=Dn(),y=Dn(),b=g.slotProps?.baseSelect||{},v=b.native??!1,S=g.slotProps?.baseSelectOption||{},E=_.useCallback(M=>{const I=Jw(M.target.value);f(I),n(G({},t,{value:I}))},[n,t]);_.useEffect(()=>{f(Jw(t.value))},[t.value]);const T=c?.root.label??r.current.getLocaleText("filterPanelInputLabel"),R=c?.root.slotProps;return x.jsxs(_.Fragment,{children:[x.jsxs(g.slots.baseSelect,G({fullWidth:!0,labelId:m,id:y,label:T,value:h===void 0?"":String(h),onChange:E,native:v,slotProps:{htmlInput:G({ref:o,tabIndex:a},R?.htmlInput)}},b,u,c?.root,{children:[x.jsx(g.slots.baseSelectOption,G({},S,{native:v,value:"",children:r.current.getLocaleText("filterValueAny")})),x.jsx(g.slots.baseSelectOption,G({},S,{native:v,value:"true",children:r.current.getLocaleText("filterValueTrue")})),x.jsx(g.slots.baseSelectOption,G({},S,{native:v,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]})),i,s]})}function Jw(e){if(String(e).toLowerCase()==="true")return!0;if(String(e).toLowerCase()==="false")return!1}const rAe=()=>[{value:"is",getApplyFilterFn:e=>{const t=Jw(e.value);return t===void 0?null:n=>!!n===t},InputComponent:nAe}],oAe=(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),iAe=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},M2=G({},Ra,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:XDe,renderEditCell:eAe,sortComparator:e2,valueFormatter:oAe,filterOperators:rAe(),getApplyQuickFilterFn:()=>null,aggregable:!1,pastedValueParser:e=>iAe(e)});function Qw(e){for(const t in e)return!1;return!0}const O2=Pr(e=>e.sorting),Sm=Ot(O2,e=>e.sortedRows),RR=Hn(Sm,qs,Go,(e,t,n)=>e.reduce((r,o)=>{const i=t[o];if(i)r.push({id:o,model:i});else{const s=n[o];s&&mf(s)&&r.push({id:o,model:{[$d]:o}})}return r},[])),Qs=Ot(O2,e=>e.sortModel),sAe=Hn(Qs,e=>e.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?o+1:void 0},n),{}));Hn(Sm,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const eS=Pr(e=>e.filter),Ao=Ot(eS,e=>e.filterModel),R2=Ot(Ao,e=>e.quickFilterValues),aAe=Pr(e=>e.visibleRowsLookup),yf=Ot(eS,e=>e.filteredRowsLookup);Ot(eS,e=>e.filteredChildrenCountLookup),Ot(eS,e=>e.filteredDescendantCountLookup);const su=Hn(aAe,RR,(e,t)=>Qw(e)?t:t.filter(n=>e[n.id]!==!1)),Hd=Hn(su,e=>e.map(t=>t.id)),I2=Hn(yf,RR,(e,t)=>Qw(e)?t:t.filter(n=>e[n.id]!==!1)),P2=Hn(I2,e=>e.map(t=>t.id));Hn(Hd,Go,(e,t)=>{const n={};let r=0;return e.reduce((o,i)=>{const s=t[i];return n[s.depth]||(n[s.depth]=0),s.depth>r&&(n[s.depth]=0),r=s.depth,n[s.depth]+=1,o[i]=n[s.depth],o},{})});const k2=Hn(su,Go,pm,(e,t,n)=>n<2?e:e.filter(r=>t[r.id]?.depth===0)),IR=Ot(su,e=>e.length),PR=Ot(k2,e=>e.length),D2=Ot(I2,e=>e.length);Ot(D2,PR,(e,t)=>e-t);const kR=Hn(Ao,rc,(e,t)=>e.items?.filter(n=>{if(!n.field)return!1;const r=t[n.field];if(!r?.filterOperators||r?.filterOperators?.length===0)return!1;const o=r.filterOperators.find(i=>i.value===n.operator);return o?!o.InputComponent||n.value!=null&&n.value?.toString()!=="":!1})),lAe=Hn(kR,e=>e.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{}));Hn(Hd,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const Ia=Pr(e=>e.rowSelection),Cm=Hn(Ia,ru),tS=Ot(Ia,D2,(e,t)=>e.type==="include"?e.ids.size:t-e.ids.size),A2=Hn(Ia,qs,Vd,(e,t,n)=>{const r=new Map;if(e.type==="include")for(const o of e.ids)r.set(o,t[o]);else for(let o=0;o<n.length;o+=1){const i=n[o];e.ids.has(i)||r.set(i,t[i])}return r});function L2(e,t){const n=Go(e),r=Sm(e),o=yf(e),i=n[t];if(!i||i.type!=="group")return[];const s=[],a=r.findIndex(c=>c===t)+1;for(let c=a;c<r.length&&n[r[c]]?.depth>i.depth;c+=1){const u=r[c];o[u]!==!1&&e.current.isRowSelectable(u)&&s.push(u)}return s}const cAe=Ot(Go,yf,Cm,(e,t,n,{groupId:r,autoSelectParents:o})=>{const i=e[r];if(!i||i.type!=="group"||n.has(r))return{isIndeterminate:!1,isChecked:n.has(r)};let s=!1,a=!1;const c=u=>{if(t[u]===!1||s&&a)return;const h=e[u];h?.type==="group"&&h.children.forEach(c),n.has(u)?s=!0:a=!0};return c(r),{isIndeterminate:s&&a,isChecked:o?s&&!a:!1}});function DR(e){return e.signature===Ma.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const uAe=(e,t)=>{const n=[];let r=t;for(;r!=null&&r!==Do;){const o=e[r];if(!o)return n;n.push(r),r=o.parent}return n},dAe=(e,t,n)=>{const r=e[n];if(!r)return[];const o=r.parent;return o==null?[]:e[o].children.filter(s=>s!==n&&t[s]!==!1)},xm=(e,t,n,r,o,i,s=Cm(e))=>{const a=yf(e),c=new Set([]);if(!(!r&&!o||a[n]===!1)&&(r&&t[n]?.type==="group"&&L2(e,n).forEach(f=>{i(f),c.add(f)}),o)){const u=g=>{if(!s.has(g)&&!c.has(g))return!1;const m=t[g];return m?m.type!=="group"?!0:m.children.every(u):!1},h=g=>{const m=dAe(t,a,g);if(m.length===0||m.every(u)){const b=t[g]?.parent;b!=null&&b!==Do&&e.current.isRowSelectable(b)&&(i(b),c.add(b),h(b))}},f=t[n];if(!f||f.parent===Do)return;h(n)}},N2=(e,t,n,r,o,i)=>{const s=Cm(e);!o&&!r||(o&&uAe(t,n).forEach(c=>{s.has(c)&&i(c)}),r&&t[n]?.type==="group"&&L2(e,n).forEach(u=>{i(u)}))},hAe=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],fAe=e=>{const{classes:t}=e;return ht({root:["checkboxInput"]},xn,t)},pAe=Zt(function(t,n){const{field:r,id:o,rowNode:i,tabIndex:s}=t,a=pt(t,hAe),c=hn(),u=yt(),h={classes:u.classes},f=fAe(h),g=E=>{const T={value:E.target.checked,id:o};c.current.publishEvent("rowSelectionCheckboxChange",T,E)};_.useLayoutEffect(()=>{if(s===0){const E=c.current.getCellElement(o,r);E&&(E.tabIndex=-1)}},[c,s,o,r]);const m=_.useCallback(E=>{E.key===" "&&E.stopPropagation()},[]),y=c.current.isRowSelectable(o),{isIndeterminate:b,isChecked:v}=tt(c,cAe,{groupId:o,autoSelectParents:u.rowSelectionPropagation?.parents??!1});if(i.type==="footer"||i.type==="pinnedRow")return null;const S=c.current.getLocaleText(v&&!b?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return x.jsx(u.slots.baseCheckbox,G({tabIndex:s,checked:v&&!b,onChange:g,className:f.root,slotProps:{htmlInput:{"aria-label":S,name:"select_row"}},onKeyDown:m,indeterminate:b,disabled:!y},u.slotProps?.baseCheckbox,a,{ref:n}))}),nS=Pr(e=>e.focus),Ui=Ot(nS,e=>e.cell),gAe=Ot(nS,e=>e.columnHeader);Ot(nS,e=>e.columnHeaderFilter);const rS=Ot(nS,e=>e.columnGroupHeader),oS=Pr(e=>e.tabIndex),AR=Ot(oS,e=>e.cell),B2=Ot(oS,e=>e.columnHeader);Ot(oS,e=>e.columnHeaderFilter);const mAe=Ot(oS,e=>e.columnGroupHeader),vAe=100,yAe=e=>e?0:100,F2=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,j2=e=>({page:0,pageSize:e?0:100}),bAe=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),V2=(e,t)=>{if(t===Ma.DataGrid&&e>vAe)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},wAe=-1,bf=Pr(e=>e.pagination),$2=Ot(bf,e=>e.enabled&&e.paginationMode==="client"),Wo=Ot(bf,e=>e.paginationModel),wf=Ot(bf,e=>e.rowCount),_m=Ot(bf,e=>e.meta),SAe=Ot(Wo,e=>e.page),z2=Ot(Wo,e=>e.pageSize),U2=Ot(Wo,wf,(e,t)=>F2(t,e.pageSize,e.page)),LR=Hn($2,Wo,Go,pm,su,k2,(e,t,n,r,o,i)=>{if(!e)return null;const s=i.length,a=Math.min(t.pageSize*t.page,s-1),c=t.pageSize===wAe?s-1:Math.min(a+t.pageSize-1,s-1);if(a===-1||c===-1)return null;if(r<2)return{firstRowIndex:a,lastRowIndex:c};const u=i[a],h=c-a+1,f=o.findIndex(y=>y.id===u.id);let g=f,m=0;for(;g<o.length&&m<=h;){const y=o[g],b=n[y.id]?.depth;b===void 0?g+=1:((m<h||b>0)&&(g+=1),b===0&&(m+=1))}return{firstRowIndex:f,lastRowIndex:g-1}}),CAe=Hn(su,LR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),H2=Hn(Hd,LR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Em=Hn($2,LR,CAe,su,(e,t,n,r)=>e?{rows:n,range:t,rowIdToIndexMap:n.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}:{rows:r,range:r.length===0?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowIdToIndexMap:r.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}),xAe=["field","colDef"],_Ae=e=>{const{classes:t}=e;return ht({root:["checkboxInput"]},xn,t)},EAe=Zt(function(t,n){const r=pt(t,xAe),[,o]=_.useState(!1),i=hn(),s=yt(),a={classes:s.classes},c=_Ae(a),u=tt(i,B2),h=tt(i,Ia),f=tt(i,Hd),g=tt(i,H2),m=_.useMemo(()=>{const N=s.isRowSelectable;if(typeof N!="function"||h.type==="exclude")return h;const P={type:"include",ids:new Set};for(const L of h.ids)s.keepNonExistentRowsSelected&&P.ids.add(L),i.current.getRow(L)&&N(i.current.getRowParams(L))&&P.ids.add(L);return P},[i,s.isRowSelectable,s.keepNonExistentRowsSelected,h]),y=_.useMemo(()=>{const N=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?f:g,P=new Set;for(let L=0;L<N.length;L+=1){const D=N[L];i.current.getRow(D)&&i.current.isRowSelectable(D)&&P.add(D)}return P},[i,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,g,f]),b=_.useMemo(()=>{const N=ru(m);let P=0;for(const L of y)N.has(L)&&(P+=1);return P},[m,y]),v=_.useMemo(()=>{if(b===0)return!1;const N=ru(m);for(const P of y)if(!N.has(P))return!0;return!1},[b,m,y]),S=b>0,E=N=>{const P={value:N.target.checked};i.current.publishEvent("headerSelectionCheckboxChange",P)},T=u!==null&&u.field===t.field?0:-1;_.useLayoutEffect(()=>{const N=i.current.getColumnHeaderElement(t.field);T===0&&N&&(N.tabIndex=-1)},[T,i,t.field]);const R=_.useCallback(N=>{N.key===" "&&i.current.publishEvent("headerSelectionCheckboxChange",{value:!S})},[i,S]),M=_.useCallback(()=>{o(N=>!N)},[]);_.useEffect(()=>i.current.subscribeEvent("rowSelectionChange",M),[i,M]);const I=i.current.getLocaleText(S&&!v?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return x.jsx(s.slots.baseCheckbox,G({indeterminate:v,checked:S&&!v,onChange:E,className:c.root,slotProps:{htmlInput:{"aria-label":I,name:"select_all_rows"}},tabIndex:T,onKeyDown:R,disabled:!DR(s)},s.slotProps?.baseCheckbox,r,{ref:n}))}),Sf=Pr((e,t)=>$d in t?t[$d]:e.props.getRowId?e.props.getRowId(t):t.id),Pa="__check__",Cf=G({},M2,{type:"custom",field:Pa,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,n,r)=>{const o=Sf(r,t);return r.current.isRowSelected(o)},rowSpanValueGetter:(e,t,n,r)=>Sf(r,t),renderHeader:e=>x.jsx(EAe,G({},e)),renderCell:e=>x.jsx(pAe,G({},e))}),TAe=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function G2(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function xf(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s,headerFilterMenu:a,clearButton:c,tabIndex:u,disabled:h}=e,f=pt(e,TAe),g=s?.root.slotProps,m=Fi(),[y,b]=_.useState(()=>G2(t.value,r)),[v,S]=_.useState(!1),E=Dn(),T=yt(),R=_.useCallback(M=>{m.clear();const I=M.target.value;b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=new Date(I);n(G({},t,{value:Number.isNaN(N.getTime())?void 0:N})),S(!1)})},[n,t,T.filterDebounceMs,m]);return _.useEffect(()=>{const M=G2(t.value,r);b(M)},[t.value,r]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,G({fullWidth:!0,id:E,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:R,type:r||"text",disabled:h,inputRef:i,slotProps:G({},g,{input:G({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.input),htmlInput:G({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:u},g?.htmlInput)})},T.slotProps?.baseTextField,f,s?.root)),a,c]})}function _f(e,t,n,r){if(!e.value)return null;const o=new Date(e.value);n?o.setSeconds(0,0):(o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),o.setHours(0,0,0,0));const i=o.getTime();return s=>{if(!s)return!1;if(r)return t(s.getTime(),i);const a=new Date(s);return n?a.setSeconds(0,0):a.setHours(0,0,0,0),t(a.getTime(),i)}}const W2=e=>[{value:"is",getApplyFilterFn:t=>_f(t,(n,r)=>n===r,e),InputComponent:xf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>_f(t,(n,r)=>n!==r,e),InputComponent:xf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>_f(t,(n,r)=>n>r,e),InputComponent:xf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>_f(t,(n,r)=>n>=r,e),InputComponent:xf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>_f(t,(n,r)=>n<r,e,!e),InputComponent:xf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>_f(t,(n,r)=>n<=r,e),InputComponent:xf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],MAe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],OAe=we(pl)({fontSize:"inherit"}),RAe=e=>{const{classes:t}=e;return ht({root:["editInputCell"]},xn,t)};function IAe(e){const{id:t,value:n,field:r,colDef:o,hasFocus:i,onValueChange:s,slotProps:a}=e,c=pt(e,MAe),u=o.type==="dateTime",h=hn(),f=_.useRef(null),g=_.useMemo(()=>{let R;n==null?R=null:n instanceof Date?R=n:R=new Date((n??"").toString());let M;return R==null||Number.isNaN(R.getTime())?M="":M=new Date(R.getTime()-R.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:R,formatted:M}},[n,u]),[m,y]=_.useState(g),b=yt(),v={classes:b.classes},S=RAe(v),E=_.useCallback(R=>{if(R==="")return null;const[M,I]=R.split("T"),[N,P,L]=M.split("-"),D=new Date;if(D.setFullYear(Number(N),Number(P)-1,Number(L)),D.setHours(0,0,0,0),I){const[$,B]=I.split(":");D.setHours(Number($),Number(B),0,0)}return D},[]),T=_.useCallback(async R=>{const M=R.target.value,I=E(M);s&&await s(R,I),y({parsed:I,formatted:M}),h.current.setEditCellValue({id:t,field:r,value:I},R)},[h,r,t,s,E]);return _.useEffect(()=>{y(R=>g.parsed!==R.parsed&&g.parsed?.getTime()!==R.parsed?.getTime()?g:R)},[g]),Un(()=>{i&&f.current.focus()},[i]),x.jsx(OAe,G({as:b.slots.baseInput,inputRef:f,fullWidth:!0,className:S.root,type:u?"datetime-local":"date",value:m.formatted,onChange:T},c,a?.root,{slotProps:{htmlInput:G({max:u?"9999-12-31T23:59":"9999-12-31"},a?.root?.slotProps?.htmlInput)}}))}const K2=e=>x.jsx(IAe,G({},e));function q2({value:e,columnType:t,rowId:n,field:r}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}const PAe=(e,t,n,r)=>{if(!e)return"";const o=Sf(r,t);return zG(t)&&!(e instanceof Date)?e:(q2({value:e,columnType:"date",rowId:o,field:n.field}),e.toLocaleDateString())},kAe=(e,t,n,r)=>{if(!e)return"";const o=Sf(r,t);return zG(t)&&!(e instanceof Date)?e:(q2({value:e,columnType:"dateTime",rowId:o,field:n.field}),e.toLocaleString())},DAe=G({},Ra,{type:"date",sortComparator:t2,valueFormatter:PAe,filterOperators:W2(),renderEditCell:K2,pastedValueParser:e=>new Date(e)}),AAe=G({},Ra,{type:"dateTime",sortComparator:t2,valueFormatter:kAe,filterOperators:W2(!0),renderEditCell:K2,pastedValueParser:e=>new Date(e)}),au=e=>e==null?null:Number(e),LAe=e=>e==null||Number.isNaN(e)||e===""?null:t=>au(t)===au(e),NAe=G({},Ra,{type:"number",align:"right",headerAlign:"right",sortComparator:e2,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>pDe(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>au(t)===e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>au(t)!==e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)>e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)>=e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)<e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)<=e.value,InputComponent:Ys,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:r2,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:LAe});function Tm(e){return e?.type==="singleSelect"}function Gd(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(G({field:e.field},t)):e.valueOptions}function iS(e,t,n){if(t===void 0)return;const r=t.find(o=>{const i=n(o);return String(i)===String(e)});return n(r)}const BAe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function FAe(e){return"key"in e&&!!e.key}function Y2(e){const t=yt(),{id:n,value:r,field:o,row:i,colDef:s,hasFocus:a,error:c,onValueChange:u,initialOpen:h=t.editMode===gl.Cell,slotProps:f}=e,g=pt(e,BAe),m=hn(),y=_.useRef(null),b=_.useRef(null),[v,S]=_.useState(h),T=(t.slotProps?.baseSelect||{}).native??!1;if(Un(()=>{a&&b.current?.focus()},[a]),!Tm(s))return null;const R=Gd(s,{id:n,row:i});if(!R)return null;const M=s.getOptionValue,I=s.getOptionLabel,N=async D=>{if(!Tm(s)||!R)return;S(!1);const $=D.target,B=iS($.value,R,M);u&&await u(D,B),await m.current.setEditCellValue({id:n,field:o,value:B},D)},P=(D,$)=>{if(t.editMode===gl.Row){S(!1);return}if($==="backdropClick"||D.key==="Escape"){const B=m.current.getCellParams(n,o);m.current.publishEvent("cellEditStop",G({},B,{reason:D.key==="Escape"?Xs.escapeKeyDown:Xs.cellFocusOut}))}},L=D=>{FAe(D)&&D.key==="Enter"||S(!0)};return!R||!s?null:x.jsx(t.slots.baseSelect,G({ref:y,value:r,onChange:N,open:v,onOpen:L,onClose:P,error:c,native:T,fullWidth:!0,slotProps:{htmlInput:{ref:b}}},g,f?.root,t.slotProps?.baseSelect,{children:R.map(D=>{const $=M(D);return _.createElement(t.slots.baseSelectOption,G({},t.slotProps?.baseSelectOption||{},{native:T,key:$,value:$}),I(D))})}))}const jAe=e=>x.jsx(Y2,G({},e)),VAe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],$Ae=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:r,isSelectNative:o,baseSelectOptionProps:i})=>["",...Gd(e)||[]].map(a=>{const c=r(a);let u=n(a);return u===""&&(u=" "),_.createElement(t,G({},i,{native:o,key:c,value:c}),u)});function X2(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,tabIndex:s,clearButton:a,headerFilterMenu:c,slotProps:u}=e,h=pt(e,VAe),f=t.value??"",g=Dn(),m=Dn(),y=yt(),b=y.slotProps?.baseSelect?.native??!1,v=o.current.getColumn(t.field),S=v.getOptionValue,E=v.getOptionLabel,T=_.useMemo(()=>Gd(v),[v]),R=_.useCallback(I=>{let N=I.target.value;N=iS(N,T,S),n(G({},t,{value:N}))},[T,S,n,t]);if(!v||!Tm(v))return null;const M=u?.root.label??o.current.getLocaleText("filterPanelInputLabel");return x.jsxs(_.Fragment,{children:[x.jsx(y.slots.baseSelect,G({fullWidth:!0,id:g,label:M,labelId:m,value:f,onChange:R,slotProps:{htmlInput:G({tabIndex:s,ref:i,type:r||"text",placeholder:u?.root.placeholder??o.current.getLocaleText("filterPanelInputPlaceholder")},u?.root.slotProps?.htmlInput)},native:b},y.slotProps?.baseSelect,h,u?.root,{children:$Ae({column:v,OptionComponent:y.slots.baseSelectOption,getOptionLabel:E,getOptionValue:S,isSelectNative:b,baseSelectOptionProps:y.slotProps?.baseSelectOption})})),c,a]})}const zAe=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function UAe(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s}=e,a=pt(e,zAe),c=Dn(),u=yt(),h=o.current.getColumn(t.field),f=h.getOptionValue,g=h.getOptionLabel,m=_.useCallback((E,T)=>f(E)===f(T),[f]),y=_.useMemo(()=>Gd(h)||[],[h]),b=_.useMemo(()=>Array.isArray(t.value)?t.value.reduce((E,T)=>{const R=y.find(M=>f(M)===T);return R!=null&&E.push(R),E},[]):[],[f,t.value,y]),v=_.useCallback((E,T)=>{n(G({},t,{value:T.map(f)}))},[n,t,f]);if(!h||!Tm(h))return null;const S=u.slots.baseAutocomplete;return x.jsx(S,G({multiple:!0,options:y,isOptionEqualToValue:m,id:c,value:b,onChange:v,getOptionLabel:g,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:i}}},a,s?.root))}const Ef=e=>e==null||!_R(e)?e:e.value,HAe=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Ef(t)===Ef(e.value),InputComponent:X2},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Ef(t)!==Ef(e.value),InputComponent:X2},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Ef);return n=>t.includes(Ef(n))},InputComponent:UAe}],GAe=e=>typeof e[0]=="object",WAe=G({},Ra,{type:"singleSelect",getOptionLabel:e=>_R(e)?e.label:String(e),getOptionValue:e=>_R(e)?e.value:e,valueFormatter(e,t,n,r){const o=Sf(r,t);if(!Tm(n))return"";const i=Gd(n,{id:o,row:t});if(e==null)return"";if(!i)return e;if(!GAe(i))return n.getOptionLabel(e);const s=i.find(a=>n.getOptionValue(a)===e);return s?n.getOptionLabel(s):""},renderEditCell:jAe,filterOperators:HAe(),pastedValueParser:(e,t,n)=>{const r=n,o=Gd(r)||[],i=r.getOptionValue;if(o.find(a=>i(a)===e))return e}}),KAe="string",qAe=()=>({string:Ra,number:NAe,date:DAe,dateTime:AAe,boolean:M2,singleSelect:WAe,[Zw]:HDe,custom:Ra}),NR=Pr(e=>e.headerFiltering),YAe=Ot(NR,e=>e?.enabled??!1),XAe=Ot(NR,e=>e.editing),ZAe=Ot(NR,e=>e.menuOpen),sS=Pr(e=>e.columnGrouping),Z2=Hn(sS,e=>e?.unwrappedGroupingModel??{}),J2=Hn(sS,e=>e?.lookup??{}),JAe=Hn(sS,e=>e?.headerStructure??[]),Mm=Ot(sS,e=>e?.maxDepth??0),Q2=["maxWidth","minWidth","width","flex"],BR=qAe();function QAe({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r=new Set(n.map(s=>s.field)),o={all:{},frozenFields:[],freeze:s=>{const a=o.all[s];a&&a.frozen!==!0&&(o.all[s].frozen=!0,o.frozenFields.push(s))}};function i(){if(o.frozenFields.length===r.size)return;const s={min:{},max:{}};let a=e,c=t,u=0;o.frozenFields.forEach(h=>{a-=o.all[h].computedWidth,c-=o.all[h].flex});for(let h=0;h<n.length;h+=1){const f=n[h];if(o.all[f.field]&&o.all[f.field].frozen===!0)continue;let m=a/c*f.flex;m<f.minWidth?(u+=f.minWidth-m,m=f.minWidth,s.min[f.field]=!0):m>f.maxWidth&&(u+=f.maxWidth-m,m=f.maxWidth,s.max[f.field]=!0),o.all[f.field]={frozen:!1,computedWidth:m,flex:f.flex}}u<0?Object.keys(s.max).forEach(h=>{o.freeze(h)}):u>0?Object.keys(s.min).forEach(h=>{o.freeze(h)}):n.forEach(({field:h})=>{o.freeze(h)}),i()}return i(),o.all}const FR=(e,t)=>{const n={};let r=0,o=0;const i=[];e.orderedFields.forEach(c=>{let u=e.lookup[c],h=0,f=!1;e.columnVisibilityModel[c]!==!1&&(u.flex&&u.flex>0?(r+=u.flex,f=!0):h=zd(u.width||Ra.width,u.minWidth||Ra.minWidth,u.maxWidth||Ra.maxWidth),o+=h),u.computedWidth!==h&&(u=G({},u,{computedWidth:h})),f&&i.push(u),n[c]=u});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),a=Math.max(s-o,0);if(r>0&&s>0){const c=QAe({initialFreeSpace:a,totalFlexUnits:r,flexColumns:i});Object.keys(c).forEach(u=>{n[u]=G({},n[u],{computedWidth:c[u].computedWidth})})}return G({},e,{lookup:n})},eLe=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(o.length===0&&n.length===0)return e;const i={},s=[];for(let h=0;h<n.length;h+=1){const f=n[h];e.lookup[f]&&(i[f]=!0,s.push(f))}const a=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(h=>!i[h])],c=G({},e.lookup);for(let h=0;h<o.length;h+=1){const f=o[h],g=G({},c[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([m,y])=>{g[m]=y===-1?1/0:y}),c[f]=g}return G({},e,{orderedFields:a,lookup:c})};function jR(e){let t=BR[KAe];return e&&BR[e]&&(t=BR[e]),t}const Tf=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:r=Js(e),keepOnlyColumnsToUpsert:o=!1,updateInitialVisibilityModel:i=!1})=>{const s=!e.current.state.columns;let a;if(s)a={orderedFields:[],lookup:{},columnVisibilityModel:r,initialColumnVisibilityModel:r};else{const f=Oa(e);a={orderedFields:o?[]:[...f.orderedFields],lookup:G({},f.lookup),columnVisibilityModel:r,initialColumnVisibilityModel:i?r:f.initialColumnVisibilityModel}}const c={};if(o&&!s)for(const f in a.lookup)Object.prototype.hasOwnProperty.call(a.lookup,f)&&(c[f]=!1);t.forEach(f=>{const{field:g}=f;c[g]=!0;let m=a.lookup[g];m==null?(m=G({},jR(f.type),{field:g,hasBeenResized:!1}),a.orderedFields.push(g)):o&&a.orderedFields.push(g),m&&m.type!==f.type&&(m=G({},jR(f.type),{field:g}));let y=m.hasBeenResized;Q2.forEach(b=>{f[b]!==void 0&&(y=!0,f[b]===-1&&(f[b]=1/0))}),a.lookup[g]=xd(m,G({},jR(f.type),f,{hasBeenResized:y}))}),o&&!s&&Object.keys(a.lookup).forEach(f=>{c[f]||delete a.lookup[f]});const u=e.current.unstable_applyPipeProcessors("hydrateColumns",a),h=eLe(u,n);return FR(h,e.current.getRootDimensions?.()??void 0)};function Om(e,t){if(t.listView)return 0;const n=mm(e),r=Mm(e),o=YAe(e),i=Math.floor(t.columnHeaderHeight*n),s=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n),a=o?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return i+s*r+a}const aS=1,e5=1.5,tLe=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return ht(r,xn,n)},nLe=jn("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${ie["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${ie["scrollArea--right"]}`]:t["scrollArea--right"]},{[`&.${ie["scrollArea--up"]}`]:t["scrollArea--up"]},{[`&.${ie["scrollArea--down"]}`]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${ie["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${ie["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${ie["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${ie["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),rLe=Ot(Xr,(e,t)=>t==="left"?e.leftPinnedWidth:t==="right"?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function oLe(e){const t=hn(),[n,r]=_.useState("none");return Tt(t,"columnHeaderDragStart",()=>r("horizontal")),Tt(t,"columnHeaderDragEnd",()=>r("none")),Tt(t,"rowDragStart",()=>r("vertical")),Tt(t,"rowDragEnd",()=>r("none")),n==="none"?null:n==="horizontal"?x.jsx(iLe,G({},e)):x.jsx(sLe,G({},e))}function iLe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),o=hn(),i=Fi(),s=tt(o,mm),a=tt(o,yR),c=tt(o,rLe,t),u=()=>{const b=Xr(o);if(t==="left")return n.current.left>0;if(t==="right"){const v=a-b.viewportInnerSize.width;return n.current.left<v}return!1},h=yt(),f=Om(o,h),g=Math.floor(h.columnHeaderHeight*s),m=G({height:g,top:f-g},t==="left"?{left:c}:{},t==="right"?{right:c}:{}),y=$t(b=>{let v;if(b.preventDefault(),t==="left")v=b.clientX-r.current.getBoundingClientRect().right;else if(t==="right")v=Math.max(1,b.clientX-r.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");v=(v-aS)*e5+aS,i.start(0,()=>{o.current.scroll({left:n.current.left+v,top:n.current.top})})});return x.jsx(t5,G({},e,{ref:r,getCanScrollMore:u,style:m,handleDragOver:y}))}function sLe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),o=hn(),i=Fi(),s=tt(o,bR),a=()=>{const g=Xr(o);if(t==="up")return n.current.top>0;if(t==="down"){const y=(s.currentPageTotalHeight||0)-g.viewportInnerSize.height-(g.hasScrollX?g.scrollbarSize:0);return n.current.top<y}return!1},c=yt(),u=Om(o,c),h={top:t==="up"?u:void 0,bottom:t==="down"?0:void 0},f=$t(g=>{let m;if(g.preventDefault(),t==="up")m=g.clientY-r.current.getBoundingClientRect().bottom;else if(t==="down")m=Math.max(1,g.clientY-r.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");m=(m-aS)*e5+aS,i.start(0,()=>{o.current.scroll({left:n.current.left,top:n.current.top+m})})});return x.jsx(t5,G({},e,{ref:r,getCanScrollMore:a,style:h,handleDragOver:f}))}const t5=Zt(function(t,n){const{scrollDirection:r,getCanScrollMore:o,style:i,handleDragOver:s}=t,a=hn(),[c,u]=_.useState(o),h=yt(),f=G({},h,{scrollDirection:r}),g=tLe(f);return Tt(a,"scrollPositionChange",()=>{u(o)}),c?x.jsx(nLe,{ref:n,className:g.root,ownerState:f,onDragOver:s,style:i}):null}),lS=tc(oLe),n5=_.createContext(void 0);function cs(){const e=_.useContext(n5);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const aLe=()=>{},lLe=(e,t)=>{const n=_.useRef(!1);Un(()=>n.current||!e?aLe:(n.current=!0,t()),[n.current||e])};function Sn(e,t,n){const r=_.useRef(!0);Un(()=>{r.current=!1,e.current.register(n,t)},[e,n,t]),r.current&&e.current.register(n,t)}function Ko(e,t){const n=_.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}const r5=(e,t,n,r,o)=>{const i=Ko(e,"useNativeEventListener");lr(e,"rootMount",()=>{const s=t();if(!(!s||!n))return i.debug(`Binding native ${n} event`),s.addEventListener(n,r,o),()=>{i.debug(`Clearing native ${n} event`),s.removeEventListener(n,r,o)}})};function Wd(e){const t=_.useRef(!0);t.current&&(t.current=!1,e())}const cLe=jn("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"&&e!=="right"})(({overlayType:e,loadingOverlayVariant:t,right:n})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${n}px`,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),uLe=jn("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"})({}),dLe=e=>{const{classes:t}=e;return ht({root:["overlayWrapper"],inner:["overlayWrapperInner"]},xn,t)};function hLe(e){const t=hn(),n=yt(),r=tt(t,Xr);let o=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);o===0&&(o=HG);const i=dLe(G({},e,{classes:n.classes}));return x.jsx(cLe,G({className:i.root},e,{right:r.columnsTotalWidth-r.viewportOuterSize.width,children:x.jsx(uLe,G({className:i.inner,style:{height:o,width:r.viewportOuterSize.width}},e))}))}const o5=Pr(e=>e.pivoting),Kd=Ot(o5,e=>e?.active),fLe=new Map,i5=Ot(o5,e=>e?.initialColumns||fLe),pLe=()=>{const e=hn(),t=yt(),n=tt(e,gf),r=tt(e,IR),o=tt(e,jG),i=tt(e,Zr),s=n===0&&o===0,a=tt(e,Nke),c=tt(e,Kd),u=!a&&s,h=!a&&n>0&&r===0,f=!a&&i.length===0,g=u&&c;let m=null,y=null;u&&(m="noRowsOverlay"),f&&(m="noColumnsOverlay"),g&&(m="emptyPivotOverlay"),h&&(m="noResultsOverlay"),a&&(m="loadingOverlay",y=t.slotProps?.loadingOverlay?.[s?"noRowsVariant":"variant"]??(s?"skeleton":"linear-progress"));const b={overlayType:m,loadingOverlayVariant:y};return{getOverlay:()=>{if(!m)return null;const S=t.slots?.[m],E=t.slotProps?.[m];return x.jsx(hLe,G({},b,{children:x.jsx(S,G({},E))}))},overlaysProps:b}},cS=Pr(e=>e.columnMenu);function gLe(){const e=cs(),t=yt(),n=tt(e,Zr),r=tt(e,lAe),o=tt(e,sAe),i=tt(e,B2),s=tt(e,()=>AR(e)===null),a=tt(e,mAe),c=tt(e,gAe),u=tt(e,rS),h=tt(e,Mm),f=tt(e,cS),g=tt(e,Js),m=tt(e,JAe),y=!(a===null&&i===null&&s),b=e.current.columnHeadersContainerRef;return x.jsx(t.slots.columnHeaders,G({ref:b,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:o,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y},t.slotProps?.columnHeaders))}const mLe=tc(gLe),vLe=jn("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),yLe=jn("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n,loadingOverlayVariant:r,overlayType:o}=e,i=r==="skeleton"||o==="noColumnsOverlay";return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],i&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),bLe=Zt((e,t)=>{const{ownerState:n}=e,r=yt(),i=Yw().hooks.useGridAriaAttributes();return x.jsxs(yLe,G({ownerState:n,className:e.className,tabIndex:-1},i,r.slotProps?.main,{ref:t,children:[x.jsx(vLe,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),wLe=()=>ht({root:["topContainer"]},xn,{}),SLe=jn("div")({position:"sticky",zIndex:40,top:0});function CLe(e){const t=wLe();return x.jsx(SLe,G({},e,{className:Ke(t.root,ie["container--top"]),role:"presentation"}))}const xLe=(e,t)=>{const{classes:n}=e;return ht({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},xn,n)},_Le=jn("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),ELe=Zt(function(t,n){const r=yt(),o=!r.autoHeight&&t.style?.minHeight==="auto",i=xLe(r,o),s={classes:r.classes,overflowedContent:o};return x.jsx(_Le,G({},t,{ownerState:s,className:Ke(i.root,t.className),ref:n}))}),TLe=jn("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),s5=jn("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:wt.cell.background.pinned}),MLe=jn(s5)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),OLe=jn(s5)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),RLe=jn("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function ILe({rowsLength:e}){const t=hn(),{viewportOuterSize:n,minimumSize:r,hasScrollX:o,hasScrollY:i,scrollbarSize:s,leftPinnedWidth:a,rightPinnedWidth:c}=tt(t,Xr),u=o?s:0,h=n.height-r.height>0;return u===0&&!h?null:x.jsxs(TLe,{className:ie.filler,role:"presentation",style:{height:u,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&x.jsx(MLe,{className:ie["filler--pinnedLeft"],style:{width:a}}),x.jsx(RLe,{}),c>0&&x.jsx(OLe,{className:ie["filler--pinnedRight"],style:{width:c+(i?s:0)}})]})}const PLe=tc(ILe),kLe=["className"],DLe=e=>{const{classes:t}=e;return ht({root:["virtualScrollerRenderZone"]},xn,t)},ALe=jn("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),LLe=Zt(function(t,n){const{className:r}=t,o=pt(t,kLe),i=cs(),s=yt(),a=DLe(s),c=i.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return x.jsx(ALe,G({className:Ke(a.root,r),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},o,{ref:n}))}),NLe={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},Lo=Pr(e=>e.editRows),a5=Ot(Lo,(e,{rowId:t,editMode:n})=>n===gl.Row&&!!e[t]),BLe=Ot(Lo,(e,{rowId:t,field:n})=>e[t]?.[n]??null),qd=Pr(e=>e.preferencePanel),FLe=Ot(qd,(e,t)=>!!(e.open&&e.labelId===t));var Mi=(function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e})(Mi||{});const jLe={initialize:VLe,use:$Le,selectors:{}};function VLe(e){return{colspanMap:new Map}}function $Le(e,t,n){const r=t.colspan?.getColspan,o=()=>{e.state.colspanMap=new Map},i=(a,c)=>e.state.colspanMap.get(a)?.[c],s=$t(r?(a,c,u,h)=>{for(let f=c;f<u;f+=1){const g=zLe(e.state.colspanMap,f,a,c,u,h,r);g.colSpan>1&&(f+=g.colSpan-1)}}:()=>{});return n.calculateColSpan=s,{resetColSpan:o,getCellColSpanInfo:i,calculateColSpan:s}}function zLe(e,t,n,r,o,i,s){const a=i.length,c=i[t],u=s(n,c,t);if(!u||u===1)return VR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let h=c.computedWidth;for(let f=1;f<u;f+=1){const g=t+f;if(g>=r&&g<o){const m=i[g];h+=m.computedWidth,VR(e,n,t+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+u,a-1),leftVisibleCellIndex:t})}VR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:u,width:h}})}return{colSpan:u}}function VR(e,t,n,r){let o=e.get(t);o||(o={},e.set(t,o)),o[n]=r}function ULe(e,t=166){let n,r;const o=()=>{n=void 0,e(...r)};function i(...s){r=s,n===void 0&&(n=setTimeout(o,t))}return i.clear=()=>{clearTimeout(n),n=void 0},i}function ea(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(!ea(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const s=o[i];if(!ea(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!ea(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Yd(e,t){return Math.round(e*10**t)/10**t}const oc={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},HLe={EMPTY:{top:[],bottom:[]}},GLe={EMPTY:{left:[],right:[]}};let no=(function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e})({});(function(e){function t(n,r){return n===0&&r===0?no.NONE:Math.abs(r)>=Math.abs(n)?r>0?no.DOWN:no.UP:n>0?no.RIGHT:no.LEFT}e.forDelta=t})(no||(no={}));const WLe={isReady:!1,root:oc.EMPTY,viewportOuterSize:oc.EMPTY,viewportInnerSize:oc.EMPTY,contentSize:oc.EMPTY,minimumSize:oc.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},Mf={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:hf((e,t)=>{const n=[];let r=0;for(let o=0;o<t.length;o+=1)n.push(r),r+=t[o].computedWidth;return n}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},Hi={initialize:KLe,use:qLe,selectors:Mf};function KLe(e){const t=G({},WLe,e.dimensions),{rowCount:n}=e,{rowHeight:r}=t,o={currentPageTotalHeight:n*r,positions:Array.from({length:n},(s,a)=>a*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},i=new Map;return{rootSize:oc.EMPTY,dimensions:t,rowsMeta:o,rowHeights:i}}function qLe(e,t,n){const r=_.useRef(!0),{refs:o,dimensions:{rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topPinnedHeight:u,bottomPinnedHeight:h},onResize:f}=t,g=o.container.current,m=_.useCallback(()=>{if(r.current)return;const T=Mf.rootSize(e.state),R=Mf.rowsMeta(e.state),M=ZLe(g,t.dimensions.scrollbarSize),I=u+R.pinnedTopRowsTotalHeight,N=h+R.pinnedBottomRowsTotalHeight,P={width:s,height:Yd(R.currentPageTotalHeight,1)};let L,D,$=!1,B=!1;if(t.autoHeight)B=!1,$=Math.round(s)>Math.round(T.width),L={width:T.width,height:I+N+P.height},D={width:Math.max(0,L.width-(B?M:0)),height:Math.max(0,L.height-($?M:0))};else{L={width:T.width,height:T.height},D={width:Math.max(0,L.width),height:Math.max(0,L.height-I-N)};const Y=P,J=D,ne=Y.width>J.width,z=Y.height>J.height;(ne||z)&&(B=z,$=Y.width+(B?M:0)>J.width,$&&(B=Y.height+M>J.height)),B&&(D.width-=M),$&&(D.height-=M)}const U=Math.max(L.width,s+(B?M:0)),q={width:s,height:I+P.height+N},W={isReady:!0,root:T,viewportOuterSize:L,viewportInnerSize:D,contentSize:P,minimumSize:q,hasScrollX:$,hasScrollY:B,scrollbarSize:M,rowWidth:U,rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topContainerHeight:I,bottomContainerHeight:N},V=e.state.dimensions;ea(V,W)||(e.update({dimensions:W}),f?.(W.root))},[e,g,t.dimensions.scrollbarSize,t.autoHeight,f,i,s,a,c,u,h]),{resizeThrottleMs:y}=t,b=$t(m),v=_.useMemo(()=>y>0?ULe(b,y):void 0,[y,b]);_.useEffect(()=>v?.clear,[v]);const S=$t(T=>{e.state.rootSize=T,r.current||!v?(r.current=!1,m()):v()});Un(()=>XLe(g,e,S),[g,e,S]),Un(m,[m]);const E=YLe(e,t,m);return{updateDimensions:m,debouncedUpdateDimensions:v,rowsMeta:E}}function YLe(e,t,n){const r=e.state.rowHeights,{rows:o,getRowHeight:i,getRowSpacing:s,getEstimatedRowHeight:a}=t,c=_.useRef(-1),u=_.useRef(!1),h=_.useRef(!1),f=t.pinnedRows,g=Kn(e,Mf.rowHeight),m=$t(D=>{let $=r.get(D);return $===void 0&&($={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},r.set(D,$)),$}),{applyRowHeight:y}=t,b=_.useCallback(D=>{const $=Mf.dimensions(e.state),B=$.rowHeight,U=m(D.id);if(!i)U.content=B,U.needsFirstMeasurement=!1;else{const q=i(D);if(q==="auto"){if(U.needsFirstMeasurement){const W=a?a(D):B;U.content=W??B}u.current=!0,U.autoHeight=!0}else U.content=q??$.rowHeight,U.needsFirstMeasurement=!1,U.autoHeight=!1}if(s){const q=s(D);U.spacingTop=q.top??0,U.spacingBottom=q.bottom??0}else U.spacingTop=0,U.spacingBottom=0;return y?.(U,D),U},[e,i,m,a,g,s,y]),v=_.useCallback(()=>{u.current=!1;const D=f?.top.reduce((V,Y)=>{const J=b(Y);return V+J.content+J.spacingTop+J.spacingBottom+J.detail},0)??0,$=f?.bottom.reduce((V,Y)=>{const J=b(Y);return V+J.content+J.spacingTop+J.spacingBottom+J.detail},0)??0,B=[],U=o.reduce((V,Y)=>{B.push(V);const J=b(Y),ne=J.content+J.spacingTop+J.spacingBottom+J.detail;return V+ne},0);u.current||(c.current=1/0);const q=D!==e.state.rowsMeta.pinnedTopRowsTotalHeight||$!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||U!==e.state.rowsMeta.currentPageTotalHeight,W={currentPageTotalHeight:U,positions:B,pinnedTopRowsTotalHeight:D,pinnedBottomRowsTotalHeight:$};e.set("rowsMeta",W),q&&n(),h.current=!0},[e,f,o,b,n]),S=$t(v),E=D=>r.get(D)?.content??Mf.rowHeight(e.state),T=(D,$)=>{const B=m(D),U=B.content!==$;B.needsFirstMeasurement=!1,B.content=$,h.current&&=!U},R=D=>r.get(D)?.autoHeight??!1,M=()=>c.current,I=D=>{u.current&&D>c.current&&(c.current=D)},N=()=>{r.clear(),v()},P=is(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(D=>{for(let $=0;$<D.length;$+=1){const B=D[$],U=B.borderBoxSize&&B.borderBoxSize.length>0?B.borderBoxSize[0].blockSize:B.contentRect.height,q=B.target.__mui_id;if(t.focusedVirtualCell?.()?.id===q&&U===0)return;T(q,U)}h.current||requestAnimationFrame(()=>{S()})})).current,L=(D,$)=>(D.__mui_id=$,P?.observe(D),()=>P?.unobserve(D));return Un(()=>{v()},[v]),{getRowHeight:E,setLastMeasuredRowIndex:I,storeRowHeightMeasurement:T,hydrateRowsMeta:v,observeRowHeight:L,rowHasAutoHeight:R,getRowHeightEntry:m,getLastMeasuredRowIndex:M,resetRowHeights:N}}function XLe(e,t,n){if(!e)return;const r=e.getBoundingClientRect(),o={width:Yd(r.width,1),height:Yd(r.height,1)};if((t.state.rootSize===oc.EMPTY||!oc.equals(o,t.state.rootSize))&&n(o),typeof ResizeObserver>"u")return;const i=new ResizeObserver(([s])=>{if(!s)return;const a={width:Yd(s.contentRect.width,1),height:Yd(s.contentRect.height,1)};oc.equals(a,t.state.rootSize)||n(a)});return i.observe(e),()=>{i.disconnect()}}const l5=new WeakMap;function ZLe(e,t){if(t!==void 0)return t;if(e===null)return 0;const n=l5.get(e);if(n!==void 0)return n;const o=qr(e).createElement("div");o.style.width="99px",o.style.height="99px",o.style.position="absolute",o.style.overflow="scroll",o.className="scrollDiv",e.appendChild(o);const i=o.offsetWidth-o.clientWidth;return e.removeChild(o),l5.set(e,i),i}const JLe=(typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty").includes("firefox"),$R=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),Of=(e,t,n)=>Math.max(t,Math.min(n,e)),zR=50,c5={top:0,left:0},QLe=Object.freeze(new Map),uS={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},dS={renderContext:Bn(e=>e.virtualization.renderContext),enabledForRows:Bn(e=>e.virtualization.enabledForRows),enabledForColumns:Bn(e=>e.virtualization.enabledForColumns)},u5={initialize:eNe,use:tNe,selectors:dS};function eNe(e){return{virtualization:G({enabled:!$R,enabledForRows:!$R,enabledForColumns:!$R,renderContext:uS},e.initialState?.virtualization),getters:null}}function tNe(e,t,n){const{refs:r,dimensions:{rowHeight:o,columnsTotalWidth:i},virtualization:{isRtl:s=!1,rowBufferPx:a=150,columnBufferPx:c=150},colspan:u,initialState:h,rows:f,range:g,columns:m,pinnedRows:y=HLe.EMPTY,pinnedColumns:b=GLe.EMPTY,minimalContentHeight:v,autoHeight:S,onWheel:E,onTouchMove:T,onRenderContextChange:R,onScrollChange:M,scrollReset:I,renderRow:N,renderInfiniteLoadingTrigger:P}=t,L=Kn(e,Hi.selectors.needsHorizontalScrollbar),D=y.bottom.length>0,[$,B]=_.useState(QLe),[,U]=_.useState(0),q=_.useRef(!1),W=Kn(e,dS.renderContext),V=Kn(e,dS.enabledForRows),Y=Kn(e,dS.enabledForColumns),J=Kn(e,Hi.selectors.rowsMeta),ne=Kn(e,Hi.selectors.contentHeight),z=_.useRef(h?.scroll??c5),K=_.useRef(!1),Z=_.useRef(c5),le=_.useRef(uS),ce=Fi(),ue=_.useRef(void 0),ae=is(()=>oNe(s,a,c,o*15,zR*6)).current,ye=_.useCallback($e=>{p5($e,e.state.virtualization.renderContext)||e.set("virtualization",G({},e.state.virtualization,{renderContext:$e}));const It=Hi.selectors.dimensions(e.state).isReady,mt=$e.firstRowIndex!==le.current.firstRowIndex||$e.lastRowIndex!==le.current.lastRowIndex;It&&mt&&(le.current=$e,R?.($e)),Z.current=z.current},[e,R]),Me=$t(()=>{const $e=r.scroller.current;if(!$e)return;const It=Hi.selectors.dimensions(e.state),mt=Math.ceil(It.minimumSize.height-It.viewportOuterSize.height),Bt=Math.ceil(It.minimumSize.width-It.viewportInnerSize.width),zt={top:Of($e.scrollTop,0,mt),left:s?Of($e.scrollLeft,-Bt,0):Of($e.scrollLeft,0,Bt)},qt=zt.left-z.current.left,tn=zt.top-z.current.top,gt=qt!==0||tn!==0;z.current=zt;const _t=gt?no.forDelta(qt,tn):no.NONE,Ge=Math.abs(z.current.top-Z.current.top),ct=Math.abs(z.current.left-Z.current.left),ut=Ge>=o||ct>=zR,St=ae.direction!==_t;if(!(ut||St))return W;if(St)switch(_t){case no.NONE:case no.LEFT:case no.RIGHT:ue.current=void 0;break;default:ue.current=W;break}ae.direction=_t,ae.buffer=m5(s,_t,a,c,o*15,zR*6);const At=d5(e,t,n,V,Y),ft=h5(At,z.current,ae);return p5(ft,W)||(Cb.flushSync(()=>{ye(ft)}),ce.start(1e3,Me)),ft}),xe=$t(()=>{if(!Hi.selectors.dimensions(e.state).isReady&&(V||Y))return;const $e=d5(e,t,n,V,Y),It=h5($e,z.current,ae);ue.current=void 0,ye(It)}),he=$t(()=>{if(K.current){K.current=!1;return}const $e=Me();$e&&M?.(z.current,$e)}),pe=()=>J.positions[W.firstRowIndex]??0,Se=($e={},It)=>{if(!$e.rows&&!g)return[];let mt=W;$e.renderContext&&(mt=$e.renderContext,mt.firstColumnIndex=W.firstColumnIndex,mt.lastColumnIndex=W.lastColumnIndex);const Bt=!D&&$e.position===void 0||D&&$e.position==="bottom",zt=$e.position!==void 0;let qt;switch($e.position){case"top":qt=0;break;case"bottom":qt=y.top.length+f.length;break;case void 0:default:qt=y.top.length;break}const tn=$e.rows??f,gt=mt.firstRowIndex,_t=Math.min(mt.lastRowIndex,tn.length),Ge=$e.rows?v5(0,$e.rows.length):v5(gt,_t);let ct=-1;const ut=t.focusedVirtualCell?.();!zt&&ut&&(ut.rowIndex<gt&&(Ge.unshift(ut.rowIndex),ct=ut.rowIndex),ut.rowIndex>_t&&(Ge.push(ut.rowIndex),ct=ut.rowIndex));const St=[],at=Hi.selectors.columnPositions(e.state,m);return Ge.forEach(At=>{const{id:ft,model:Pt}=tn[At];if(It&&!It[ft])return;const Pn=(g?.firstRowIndex||0)+qt+At;if(u?.enabled){const nn=b.left.length,Rn=m.length-b.right.length;n.calculateColSpan(ft,nn,Rn,m),b.left.length>0&&n.calculateColSpan(ft,0,b.left.length,m),b.right.length>0&&n.calculateColSpan(ft,m.length-b.right.length,m.length,m)}const An=n.rowsMeta.rowHasAutoHeight(ft)?"auto":n.rowsMeta.getRowHeight(ft);let cr=!1;$e.position===void 0&&(cr=At===0);let _n=!1;const Er=At===tn.length-1;if(Bt)if(zt)_n=Er;else{const nn=f.length-1;At===nn&&(_n=!0)}let Yn=mt;ue.current&&At>=ue.current.firstRowIndex&&At<ue.current.lastRowIndex&&(Yn=ue.current);const Nr=At===ct,Br=ut?.rowIndex===Pn,an=g5(at,Yn,b.left.length),Ln=Er&&$e.position==="top",Lt=Yn.firstColumnIndex,Ft=Yn.lastColumnIndex;if(St.push(N({id:ft,model:Pt,rowIndex:Pn,offsetLeft:an,columnsTotalWidth:i,baseRowHeight:An,firstColumnIndex:Lt,lastColumnIndex:Ft,focusedColumnIndex:Br?ut.columnIndex:void 0,isFirstVisible:cr,isLastVisible:_n,isVirtualFocusRow:Nr,showBottomBorder:Ln})),Nr)return;const rn=$.get(ft);rn&&St.push(rn),$e.position===void 0&&Er&&St.push(P(ft))}),St},Ee=_.useMemo(()=>({overflowX:L?void 0:"hidden",overflowY:S?"hidden":void 0}),[L,S]),ke=_.useMemo(()=>{const $e={width:L?i:"auto",flexBasis:ne,flexShrink:0};return $e.flexBasis===0&&($e.flexBasis=v),$e},[i,ne,L,v]),Te=_.useRef(null),Ve=_.useCallback($e=>{$e&&Te.current?.(i,ne)},[i,ne]);Un(()=>{q.current&&xe()},[Y,V,xe]),Un(()=>{r.scroller.current&&(r.scroller.current.scrollLeft=0)},[r.scroller,I]),lLe(W!==uS,()=>{if(M?.(z.current,W),q.current=!0,h?.scroll&&r.scroller.current){const $e=r.scroller.current,{top:It,left:mt}=h.scroll,Bt={top:!(It>0),left:!(mt>0)};!Bt.left&&i&&($e.scrollLeft=mt,Bt.left=!0,K.current=!0),!Bt.top&&ne&&($e.scrollTop=It,K.current=!0),(!Bt.top||!Bt.left)&&(Te.current=(zt,qt)=>{!Bt.left&&zt&&($e.scrollLeft=mt,Bt.left=!0,K.current=!0),!Bt.top&&qt&&($e.scrollTop=It,Bt.top=!0,K.current=!0),Bt.left&&Bt.top&&(Te.current=null)})}}),Pw(e,Hi.selectors.dimensions,xe);const rt=$e=>It=>{It&&r[$e].current!==It&&(r[$e].current=It,U(mt=>mt+1))},je={setPanels:B,getOffsetTop:pe,getRows:Se,getContainerProps:()=>({ref:rt("container")}),getScrollerProps:()=>({ref:rt("scroller"),onScroll:he,onWheel:E,onTouchMove:T,style:Ee,role:"presentation",tabIndex:JLe?-1:void 0}),getContentProps:()=>({ref:Ve,style:ke,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:rt("scrollbarVertical"),scrollPosition:z}),getScrollbarHorizontalProps:()=>({ref:rt("scrollbarHorizontal"),scrollPosition:z}),getScrollAreaProps:()=>({scrollPosition:z})};return Wd(()=>{e.state=G({},e.state,{getters:je})}),_.useEffect(()=>{e.update({getters:je})},Object.values(je)),{getters:je,useVirtualization:()=>Kn(e,$e=>$e),setPanels:B,forceUpdateRenderContext:xe,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function d5(e,t,n,r,o){const i=Hi.selectors.dimensions(e.state),s=t.rows,a=t.range,c=t.columns,u=n.getHiddenCellsOrigin(),h=t.rows.at(-1)?.id,f=c.at(-1);return{api:n,enabledForRows:r,enabledForColumns:o,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:i.leftPinnedWidth,columnsTotalWidth:i.columnsTotalWidth,viewportInnerWidth:i.viewportInnerSize.width,viewportInnerHeight:i.viewportInnerSize.height,lastRowHeight:h!==void 0?n.rowsMeta.getRowHeight(h):0,lastColumnWidth:f?.computedWidth??0,rowsMeta:Hi.selectors.rowsMeta(e.state),columnPositions:Hi.selectors.columnPositions(e.state,t.columns),rows:s,range:a,pinnedColumns:t.pinnedColumns,columns:c,hiddenCellsOriginMap:u,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function h5(e,t,n){const r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:o,left:i}=t,s=Math.abs(i)+e.leftPinnedWidth;if(e.enabledForRows){let c=Math.min(f5(e,o,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const u=e.hiddenCellsOriginMap[c];if(u){const f=Math.min(...Object.values(u));c=Math.min(c,f)}const h=e.autoHeight?c+e.rows.length:f5(e,o+e.viewportInnerHeight);r.firstRowIndex=c,r.lastRowIndex=h}if(e.enabledForColumns){let c=0,u=e.columnPositions.length,h=!1;const[f,g]=UR({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let m=f;m<g&&!h;m+=1){const y=e.rows[m];h=e.api.rowsMeta.rowHasAutoHeight(y.id)}(!h||e.virtualizeColumnsWithAutoRowHeight)&&(c=lu(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),u=lu(s+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=c,r.lastColumnIndex=u}return nNe(e,r,n)}function f5(e,t,n){const r=e.api.rowsMeta.getLastMeasuredRowIndex();let o=r===1/0;e.range?.lastRowIndex&&!o&&(o=r>=e.range.lastRowIndex);const i=Of(r-(e.range?.firstRowIndex||0),0,e.rowsMeta.positions.length);return o||e.rowsMeta.positions[i]>=t?lu(t,e.rowsMeta.positions,n):rNe(t,e.rowsMeta.positions,i,n)}function nNe(e,t,n){const[r,o]=UR({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[i,s]=UR({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns?.left.length??0,maxLastIndex:e.columns.length-(e.pinnedColumns?.right.length??0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),a=iNe({api:e.api,firstColumnToRender:i,firstRowToRender:r,lastRowToRender:o,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:o,firstColumnIndex:a,lastColumnIndex:s}}function lu(e,t,n=void 0,r=0,o=t.length){if(t.length<=0)return-1;if(r>=o)return r;const i=r+Math.floor((o-r)/2),s=t[i];let a;if(n?.atStart){const c=(i===t.length-1?n.lastPosition:t[i+1])-s;a=e-c<s}else a=e<=s;return a?lu(e,t,n,r,i):lu(e,t,n,i+1,o)}function rNe(e,t,n,r=void 0){let o=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=o,o*=2;return lu(e,t,r,Math.floor(n/2),Math.min(n,t.length))}function UR({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:r,minFirstIndex:o,maxLastIndex:i,positions:s,lastSize:a}){const c=s[e]-n,u=s[t]+r,h=lu(c,s,{atStart:!0,lastPosition:s[s.length-1]+a}),f=lu(u,s);return[Of(h,o,i),Of(f,o,i)]}function p5(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function g5(e,t,n){const r=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(r)}function m5(e,t,n,r,o,i){if(e)switch(t){case no.LEFT:t=no.RIGHT;break;case no.RIGHT:t=no.LEFT;break}switch(t){case no.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case no.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:i};case no.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:i,columnBefore:0};case no.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case no.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function oNe(e,t,n,r,o){return{direction:no.NONE,buffer:m5(e,no.NONE,t,n,r,o)}}function v5(e,t){return Array.from({length:t-e}).map((n,r)=>e+r)}function iNe({api:e,firstColumnToRender:t,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let i=t,s=!1;for(;!s&&i>=0;){s=!0;for(let a=n;a<r;a+=1)if(o[a]){const u=o[a].id,h=e.getCellColSpanInfo(u,i);if(h&&h.spannedByColSpan&&h.leftVisibleCellIndex<i){i=h.leftVisibleCellIndex,s=!1;break}}}return i}const sNe={initialize:aNe,use:lNe,selectors:{}};function aNe(e){return{}}function lNe(e,t,n){return{getViewportPageSize:()=>{const o=Hi.selectors.dimensions(e.state);if(!o.isReady)return 0;if(t.getRowHeight){const s=u5.selectors.renderContext(e.state),a=s.lastRowIndex-s.firstRowIndex;return Math.min(a-1,t.rows.length)}const i=Math.floor(o.viewportInnerSize.height/o.rowHeight);return Math.min(i,t.rows.length)}}}const cNe={firstRowIndex:0,lastRowIndex:0},uNe={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},y5={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},Rf={initialize:dNe,use:hNe,selectors:y5};function dNe(e){return{rowSpanning:e.initialState?.rowSpanning??{caches:uNe,processedRange:cNe}}}function hNe(e,t,n){return{getHiddenCellsOrigin:()=>y5.hiddenCellsOriginMap(e.state)}}const b5=[Hi,u5,jLe,Rf,sNe],fNe=e=>{const t=is(()=>new im(b5.map(r=>r.initialize(e)).reduce((r,o)=>Object.assign(r,o),{}))).current,n={};for(const r of b5)Object.assign(n,r.use(t,e,n));return{store:t,api:n}},Rm=!(typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent)),pNe=(e,t)=>{const{disableVirtualization:n,autoHeight:r}=t;return G({},e,{virtualization:{enabled:!n&&Rm,enabledForColumns:!n&&Rm,enabledForRows:!n&&!r&&Rm,renderContext:uS}})};function gNe(e,t){const{virtualizer:n}=e.current,{autoHeight:r,disableVirtualization:o}=t,i=u=>{u&&=Rm,n.store.set("virtualization",G({},n.store.state.virtualization,{enabled:u,enabledForColumns:u,enabledForRows:u&&!r}))};Sn(e,{unstable_setVirtualization:i,unstable_setColumnVirtualization:u=>{u&&=Rm,n.store.set("virtualization",G({},n.store.state.virtualization,{enabledForColumns:u}))}},"public");const c=n.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:c}),lr(e,"sortedRowsSet",c),lr(e,"paginationModelChange",c),lr(e,"columnsChange",c),_.useEffect(()=>{i(!t.disableVirtualization)},[o,r])}const hS=Pr(e=>e.virtualization);Ot(hS,e=>e.enabled);const mNe=Ot(hS,e=>e.enabledForColumns);Ot(hS,e=>e.enabledForRows);const w5=Ot(hS,e=>e.renderContext),vNe=Pr(e=>e.virtualization.renderContext.firstColumnIndex),yNe=Pr(e=>e.virtualization.renderContext.lastColumnIndex),bNe=Hn(vNe,yNe,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t}));function wNe(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}class SNe{constructor({ttl:t=3e5,getKey:n=wNe}){this.cache={},this.ttl=t,this.getKey=n}set(t,n){const r=this.getKey(t),o=Date.now()+this.ttl;this.cache[r]={value:n,expiry:o}}get(t){const n=this.getKey(t),r=this.cache[n];if(r){if(Date.now()>r.expiry){delete this.cache[n];return}return r.value}}clear(){this.cache={}}}class CNe extends Error{constructor(t){super(t.message),this.name="GridGetRowsError",this.params=t.params,this.cause=t.cause}}class xNe extends Error{constructor(t){super(t.message),this.name="GridUpdateRowError",this.params=t.params,this.cause=t.cause}}const _Ne=(e,t)=>{const{classes:n}=e,r={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return ht(r,xn,n)},S5=jn("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),ENe=jn(S5)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),TNe=jn(S5)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),C5=Zt(function(t,n){const r=cs(),o=yt(),i=_.useRef(!1),s=_.useRef(0),a=_.useRef(null),c=_.useRef(null),u=_Ne(o,t.position),h=tt(r,Xr),f=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",m=t.position==="vertical"?"top":"left",y=t.position==="vertical"?h.hasScrollX:h.hasScrollY,b=h.minimumSize[f]+(y?h.scrollbarSize:0),S=(t.position==="vertical"?h.viewportInnerSize.height:h.viewportOuterSize.width)*(b/h.viewportOuterSize[f]),E=$t(()=>{const M=a.current,I=t.scrollPosition.current;if(!M||I[m]===s.current)return;if(s.current=I[m],i.current){i.current=!1;return}i.current=!0;const N=I[m]/b;M[g]=N*S}),T=$t(()=>{const M=r.current.virtualScrollerRef.current,I=a.current;if(!I)return;if(i.current){i.current=!1;return}i.current=!0;const N=I[g]/S;M[g]=N*b});Jb(()=>{const M=r.current.virtualScrollerRef.current,I=a.current,N={passive:!0};return M.addEventListener("scroll",E,N),I.addEventListener("scroll",T,N),()=>{M.removeEventListener("scroll",E,N),I.removeEventListener("scroll",T,N)}}),_.useEffect(()=>{c.current.style.setProperty(f,`${S}px`)},[S,f]);const R=t.position==="vertical"?ENe:TNe;return x.jsx(R,{ref:Tn(n,a),className:u.root,style:t.position==="vertical"&&o.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:M=>{M.target.blur()},children:x.jsx("div",{ref:c,className:u.content})})}),MNe=e=>{const{classes:t,hasScrollX:n,hasPinnedRight:r,loadingOverlayVariant:o,overlayType:i}=e;return ht({root:["main",r&&"main--hasPinnedRight",(o==="skeleton"||i==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},xn,t)},ONe=jn("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),RNe=e=>e.current.state.dimensions.rightPinnedWidth>0;function INe(e){const t=cs(),n=yt(),r=tt(t,Pke),o=tt(t,Ike),i=tt(t,RNe),s=tt(t,Lke),{getOverlay:a,overlaysProps:c}=pLe(),u=G({classes:n.classes,hasScrollX:o,hasPinnedRight:i},c),h=MNe(u),f=t.current.virtualizer.api.useVirtualization().getters,{getContainerProps:g,getScrollerProps:m,getContentProps:y,getScrollbarVerticalProps:b,getScrollbarHorizontalProps:v,getRows:S,getScrollAreaProps:E}=f,T=S(void 0,Go(t));return x.jsxs(bLe,G({className:h.root},g(),{ownerState:u,children:[x.jsx(lS,G({scrollDirection:"left"},E())),x.jsx(lS,G({scrollDirection:"right"},E())),x.jsx(lS,G({scrollDirection:"up"},E())),x.jsx(lS,G({scrollDirection:"down"},E())),x.jsxs(ONe,G({className:h.scroller},m(),{ownerState:u,children:[x.jsxs(CLe,{children:[!n.listView&&x.jsx(mLe,{}),x.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:f})]}),a(),x.jsx(ELe,G({},y(),{children:x.jsxs(LLe,{role:"rowgroup",children:[T,x.jsx(n.slots.detailPanels,{virtualScroller:f})]})})),s&&x.jsx(PLe,{rowsLength:T.length}),x.jsx(n.slots.bottomContainer,{children:x.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:f})})]})),o&&!n.listView&&x.jsx(C5,G({position:"horizontal"},v())),r&&x.jsx(C5,G({position:"vertical"},b())),e.children]}))}function PNe(){const e=yt();return e.hideFooter?null:x.jsx(e.slots.footer,G({},e.slotProps?.footer))}let HR;function GR(){return HR===void 0&&document.createElement("div").focus({get preventScroll(){return HR=!0,!1}}),HR}function kNe({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const r=G({},e);return Object.keys(n).forEach(o=>{const i=o;n[i]!==void 0&&(r[i]=n[i])}),r}const DNe=e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null},ANe=e=>e===T2||DNe(e)!==null,x5=(e,t)=>{if(e)if(t){if(e===On.LEFT)return"right";if(e===On.RIGHT)return"left"}else{if(e===On.LEFT)return"left";if(e===On.RIGHT)return"right"}};function fS(e,t,n,r){const o=x5(n,t);return!o||r===void 0||(e[o]=r),e}const LNe=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],NNe=["changeReason","unstable_updateValueOnRender"];On.LEFT+"",iu.LEFT,On.RIGHT+"",iu.RIGHT,On.NONE+"",On.VIRTUAL+"";const BNe=e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:o,isEditable:i,isSelected:s,isSelectionMode:a,classes:c}=e,u={root:["cell",`cell--text${We(t)}`,s&&"selected",i&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",o===On.LEFT&&"cell--pinnedLeft",o===On.RIGHT&&"cell--pinnedRight",a&&!i&&"cell--selectionMode"]};return ht(u,xn,c)},FNe=Zt(function(t,n){const{column:r,row:o,rowId:i,rowNode:s,align:a,colIndex:c,width:u,className:h,style:f,colSpan:g,disableDragEvents:m,isNotVisible:y,pinnedOffset:b,pinnedPosition:v,showRightBorder:S,showLeftBorder:E,onClick:T,onDoubleClick:R,onMouseDown:M,onMouseUp:I,onMouseOver:N,onKeyDown:P,onKeyUp:L,onDragEnter:D,onDragOver:$}=t,B=pt(t,LNe),U=cs(),q=yt(),W=Uo(),V=r.field,Y=tt(U,BLe,{rowId:i,field:V}),ne=Yw().hooks.useCellAggregationResult(i,V),z=Y?qn.Edit:qn.View,K=U.current.getCellParamsForRow(i,V,o,{colDef:r,cellMode:z,rowNode:s,tabIndex:tt(U,()=>{const ct=AR(U);return ct&&ct.field===V&&ct.id===i?0:-1}),hasFocus:tt(U,()=>{const ct=Ui(U);return ct?.id===i&&ct.field===V})});K.api=U.current,ne&&(K.value=ne.value,K.formattedValue=r.valueFormatter?r.valueFormatter(K.value,o,r,U):K.value);const Z=tt(U,()=>U.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:i,field:V})),le=U.current.virtualizer.store,ce=Kn(le,Rf.selectors.hiddenCells),ue=Kn(le,Rf.selectors.spannedCells),{hasFocus:ae,isEditable:ye=!1,value:Me}=K,xe=r.type==="actions"&&"getActions"in r&&typeof r.getActions=="function"&&r.getActions(U.current.getRowParams(i)).some(ct=>!ct.props.disabled),he=(z==="view"||!ye)&&!xe?K.tabIndex:-1,{classes:pe,getCellClassName:Se}=q,ke=[tt(U,()=>U.current.unstable_applyPipeProcessors("cellClassName",[],{id:i,field:V}).filter(Boolean).join(" "))];r.cellClassName&&ke.push(typeof r.cellClassName=="function"?r.cellClassName(K):r.cellClassName),r.display==="flex"&&ke.push(ie["cell--flex"]),Se&&ke.push(Se(K));const Te=K.formattedValue??Me,Ve=_.useRef(null),rt=Tn(n,Ve),je=_.useRef(null),Rt=q.cellSelection??!1,dt={align:a,showLeftBorder:E,showRightBorder:S,isEditable:ye,classes:q.classes,pinnedPosition:v,isSelected:Z,isSelectionMode:Rt},Ct=BNe(dt),$e=_.useCallback(ct=>ut=>{const St=U.current.getCellParams(i,V||"");U.current.publishEvent(ct,St,ut),I&&I(ut)},[U,V,I,i]),It=_.useCallback(ct=>ut=>{const St=U.current.getCellParams(i,V||"");U.current.publishEvent(ct,St,ut),M&&M(ut)},[U,V,M,i]),mt=_.useCallback((ct,ut)=>St=>{if(!U.current.getRow(i))return;const at=U.current.getCellParams(i,V||"");U.current.publishEvent(ct,at,St),ut&&ut(St)},[U,V,i]),Bt=ce[i]?.[c]??!1,zt=ue[i]?.[c]??1,qt=_.useMemo(()=>{if(y)return{padding:0,opacity:0,width:0,height:0,border:0};const ct=fS(G({"--width":`${u}px`},f),W,v,b),ut=v===On.LEFT,St=v===On.RIGHT;return zt>1&&(ct.height=`calc(var(--height) * ${zt})`,ct.zIndex=10,(ut||St)&&(ct.zIndex=40)),ct},[u,y,f,b,v,W,zt]);if(_.useEffect(()=>{if(!ae||z===qn.Edit)return;const ct=qr(U.current.rootElementRef.current);if(Ve.current&&!Ve.current.contains(ct.activeElement)){const ut=Ve.current.querySelector('[tabindex="0"]'),St=je.current||ut||Ve.current;if(GR())St.focus({preventScroll:!0});else{const at=U.current.getScrollPosition();St.focus(),U.current.scroll(at)}}},[ae,z,U]),Bt)return x.jsx("div",{"data-colindex":c,role:"presentation",style:G({width:"var(--width)"},qt)});let tn=B.onFocus,gt,_t;if(Y===null&&r.renderCell&&(gt=r.renderCell(K)),Y!==null&&r.renderEditCell){const ct=U.current.getRowWithUpdatedValues(i,r.field),ut=pt(Y,NNe),St=r.valueFormatter?r.valueFormatter(Y.value,ct,r,U):K.formattedValue,at=G({},K,{row:ct,formattedValue:St},ut);gt=r.renderEditCell(at),ke.push(ie["cell--editing"]),ke.push(pe?.["cell--editing"])}if(gt===void 0){const ct=Te?.toString();gt=ct,_t=ct}_.isValidElement(gt)&&xe&&(gt=_.cloneElement(gt,{focusElementRef:je}));const Ge=m?null:{onDragEnter:mt("cellDragEnter",D),onDragOver:mt("cellDragOver",$)};return x.jsx("div",G({className:Ke(Ct.root,ke,h),role:"gridcell","data-field":V,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":g,"aria-rowspan":zt,style:qt,title:_t,tabIndex:he,onClick:mt("cellClick",T),onDoubleClick:mt("cellDoubleClick",R),onMouseOver:mt("cellMouseOver",N),onMouseDown:It("cellMouseDown"),onMouseUp:$e("cellMouseUp"),onKeyDown:mt("cellKeyDown",P),onKeyUp:mt("cellKeyUp",L)},Ge,B,{onFocus:tn,ref:rt,children:gt}))}),jNe=tc(FNe),VNe=["label","icon","showInMenu","onClick"],$Ne=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],zNe=Zt((e,t)=>{const n=yt();if(!e.showInMenu){const{label:h,icon:f,onClick:g}=e,m=pt(e,VNe),y=b=>{g?.(b)};return x.jsx(n.slots.baseIconButton,G({size:"small",role:"menuitem","aria-label":h},m,{onClick:y},n.slotProps?.baseIconButton,{ref:t,children:_.cloneElement(f,{fontSize:"small"})}))}const{label:r,icon:o,onClick:i,closeMenuOnClick:s=!0,closeMenu:a}=e,c=pt(e,$Ne),u=h=>{i?.(h),s&&a?.()};return x.jsx(n.slots.baseMenuItem,G({ref:t},c,{onClick:u,iconStart:o,children:r}))}),UNe=["field","type","align","width","height","empty","style","className"],_5="1.3em",HNe="1.2em",E5=[40,80],GNe={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},WNe=e=>{const{align:t,classes:n,empty:r}=e,o={root:["cell","cellSkeleton",`cell--text${t?We(t):"Left"}`,r&&"cellEmpty"]};return ht(o,xn,n)},KNe=yDe(12345);function qNe(e){const{field:t,type:n,align:r,width:o,height:i,empty:s=!1,style:a,className:c}=e,u=pt(e,UNe),h=yt(),f={classes:h.classes,align:r,empty:s},g=WNe(f),m=_.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:_5,height:_5};const[b,v]=n?GNe[n]??E5:E5;return{variant:"text",width:`${Math.round(KNe(b,v))}%`,height:HNe}},[n]);return x.jsx("div",G({"data-field":t,className:Ke(g.root,c),style:G({height:i,maxWidth:o,minWidth:o},a)},u,{children:!s&&x.jsx(h.slots.baseSkeleton,G({},m))}))}const YNe=tc(qNe),XNe=10,pS=-5,If=1,T5={width:3,rx:1.5,x:10.5},ZNe="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",JNe=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||e.current.state.dimensions.scrollbarSize===0),QNe=we("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${ie.autoHeight}`]:t.autoHeight},{[`&.${ie.autosizing}`]:t.autosizing},{[`&.${ie["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${ie["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${ie["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${ie["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${ie["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${ie.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${ie.actionsCell}`]:t.actionsCell},{[`& .${ie.booleanCell}`]:t.booleanCell},{[`& .${ie.cell}`]:t.cell},{[`& .${ie["cell--editable"]}`]:t["cell--editable"]},{[`& .${ie["cell--editing"]}`]:t["cell--editing"]},{[`& .${ie["cell--flex"]}`]:t["cell--flex"]},{[`& .${ie["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${ie["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${ie["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${ie["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${ie["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${ie["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${ie["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${ie["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${ie["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${ie["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${ie["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${ie["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${ie.cellCheckbox}`]:t.cellCheckbox},{[`& .${ie.cellEmpty}`]:t.cellEmpty},{[`& .${ie.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${ie.cellSkeleton}`]:t.cellSkeleton},{[`& .${ie.checkboxInput}`]:t.checkboxInput},{[`& .${ie.columnHeader}`]:t.columnHeader},{[`& .${ie["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${ie["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${ie["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${ie["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${ie["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${ie["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${ie["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${ie["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${ie["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${ie["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${ie["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${ie["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${ie["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${ie["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${ie["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${ie["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${ie["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${ie["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${ie.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${ie.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${ie.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${ie.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${ie.columnSeparator}`]:t.columnSeparator},{[`& .${ie["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${ie["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${ie["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${ie["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${ie["container--bottom"]}`]:t["container--bottom"]},{[`& .${ie["container--top"]}`]:t["container--top"]},{[`& .${ie.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${ie["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${ie.editBooleanCell}`]:t.editBooleanCell},{[`& .${ie.filterIcon}`]:t.filterIcon},{[`& .${ie["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${ie["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${ie["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${ie.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${ie.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${ie.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${ie.headerFilterRow}`]:t.headerFilterRow},{[`& .${ie.iconSeparator}`]:t.iconSeparator},{[`& .${ie.menuIcon}`]:t.menuIcon},{[`& .${ie.menuIconButton}`]:t.menuIconButton},{[`& .${ie.menuList}`]:t.menuList},{[`& .${ie.menuOpen}`]:t.menuOpen},{[`& .${ie.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${ie.pinnedRows}`]:t.pinnedRows},{[`& .${ie["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${ie["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${ie.row}`]:t.row},{[`& .${ie["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${ie["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${ie["row--dragging"]}`]:t["row--dragging"]},{[`& .${ie["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${ie["row--editable"]}`]:t["row--editable"]},{[`& .${ie["row--editing"]}`]:t["row--editing"]},{[`& .${ie["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${ie["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${ie.rowReorderCell}`]:t.rowReorderCell},{[`& .${ie["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${ie.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${ie.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${ie.rowSkeleton}`]:t.rowSkeleton},{[`& .${ie.scrollbar}`]:t.scrollbar},{[`& .${ie["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${ie["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${ie.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${ie["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${ie["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${ie["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${ie["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${ie.sortIcon}`]:t.sortIcon},{[`& .${ie.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${ie.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${ie.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${ie.withBorderColor}`]:t.withBorderColor},{[`& .${ie["row--dropAbove"]}`]:t["row--dropAbove"]},{[`& .${ie["row--dropBelow"]}`]:t["row--dropBelow"]},{[`& .${ie["row--beingDragged"]}`]:t["row--beingDragged"]}]})(()=>{const e=cs(),t=tt(e,JNe),n=wt.colors.background.base,r=wt.header.background.base,o=wt.cell.background.pinned,i=eBe(wt.colors.interactive.hover),s=wt.colors.interactive.hoverOpacity,a=wt.colors.interactive.selected,c=wt.colors.interactive.selectedOpacity,u=a,h=`calc(${c} + ${s})`,f=cu(n,i,s),g=cu(n,a,c),m=cu(n,u,h),y=cu(o,i,s),b=cu(o,a,c),v=cu(o,u,h),S=N=>({[`& .${ie["cell--pinnedLeft"]}, & .${ie["cell--pinnedRight"]}`]:{backgroundColor:N,"&.Mui-selected":{backgroundColor:cu(N,g,c),"&:hover":{backgroundColor:cu(N,m,h)}}}}),E=S(y),T=S(b),R=S(v),M={backgroundColor:g,"&:hover":{backgroundColor:m,"@media (hover: none)":{backgroundColor:g}}};return{"--unstable_DataGrid-radius":wt.radius.base,"--unstable_DataGrid-headWeight":wt.typography.fontWeight.medium,"--DataGrid-rowBorderColor":wt.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:wt.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:wt.colors.background.base,color:wt.colors.foreground.base,font:wt.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${ie.main} > *:first-child${ZNe}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${ie.autoHeight}`]:{height:"auto"},[`&.${ie.autosizing}`]:{[`& .${ie.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${ie.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${ie.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${ie.groupingCriteriaCell}`]:{width:"unset"},[`& .${ie.treeDataGroupingCell}`]:{width:"unset"}},[`&.${ie.withSidePanel}`]:{flexDirection:"row"},[`& .${ie.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${ie.columnHeader}, & .${ie.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${ie.columnHeader}:focus-within, & .${ie.cell}:focus-within`]:{outline:`solid ${M5(wt.colors.interactive.focus,.5)} ${If}px`,outlineOffset:If*-1},[`& .${ie.columnHeader}:focus, & .${ie.cell}:focus`]:{outline:`solid ${wt.colors.interactive.focus} ${If}px`,outlineOffset:If*-1},[`& .${ie.columnHeader}:focus,
      & .${ie["columnHeader--withLeftBorder"]},
      & .${ie["columnHeader--withRightBorder"]},
      & .${ie["columnHeader--siblingFocused"]},
      & .${ie["virtualScroller--hasScrollX"]} .${ie["columnHeader--lastUnpinned"]},
      & .${ie["virtualScroller--hasScrollX"]} .${ie["columnHeader--last"]}
      `]:{[`& .${ie.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${ie["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${ie["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${ie["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${ie["root--noToolbar"]} [aria-rowindex="1"] .${ie["columnHeader--last"]}`]:{borderTopRightRadius:t?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${ie.columnHeaderCheckbox}, & .${ie.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${ie.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:r},[`& .${ie["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${ie["virtualScroller--hasScrollX"]} .${ie["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${ie["pivotPanelField--sorted"]} .${ie.iconButtonContainer},
      & .${ie["columnHeader--sorted"]} .${ie.iconButtonContainer},
      & .${ie["columnHeader--filtered"]} .${ie.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}) .${ie.sortButton},
      & .${ie.columnHeader}:not(.${ie["columnHeader--sorted"]}) .${ie.sortButton}`]:{opacity:0,transition:wt.transition(["opacity"],{duration:wt.transitions.duration.short})},[`& .${ie.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:wt.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${ie.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${ie["columnHeader--filledGroup"]} .${ie.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${ie.sortIcon}, & .${ie.filterIcon}`]:{fontSize:"inherit"},[`& .${ie["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${ie["columnHeader--alignCenter"]} .${ie.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${ie["columnHeader--alignRight"]} .${ie.columnHeaderDraggableContainer}, & .${ie["columnHeader--alignRight"]} .${ie.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${ie["columnHeader--alignCenter"]} .${ie.menuIcon}`]:{marginLeft:"auto"},[`& .${ie["columnHeader--alignRight"]} .${ie.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${ie["columnHeader--moving"]}`]:{backgroundColor:f},[`& .${ie["columnHeader--pinnedLeft"]}, & .${ie["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:wt.header.background.base},[`& .${ie.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:XNe,color:wt.colors.border.base},[`& .${ie.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:r},"@media (hover: hover)":{[`& .${ie.columnHeader}:hover`]:{[`& .${ie.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ie.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${ie.columnHeader}:not(.${ie["columnHeader--sorted"]}):hover .${ie.sortButton},
        & .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}):hover .${ie.sortButton},
        & .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}) .${ie.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${ie.columnHeader} .${ie.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ie.columnHeader}:focus,
        & .${ie["columnHeader--siblingFocused"]}`]:{[`.${ie["columnSeparator--resizable"]}`]:{color:wt.colors.foreground.accent}},[`& .${ie.pivotPanelField}:not(.${ie["pivotPanelField--sorted"]}) .${ie.sortButton}`]:{opacity:.5}},[`& .${ie["columnHeader--withLeftBorder"]} .${ie["columnSeparator--sideLeft"]}:not(.${ie["columnSeparator--resizable"]}), & .${ie["columnHeader--withRightBorder"]} .${ie["columnSeparator--sideRight"]}:not(.${ie["columnSeparator--resizable"]})`]:{display:"none"},[`& .${ie["columnSeparator--sideLeft"]}`]:{left:pS},[`& .${ie["columnSeparator--sideRight"]}`]:{right:pS},[`& .${ie["columnHeader--withRightBorder"]} .${ie["columnSeparator--sideLeft"]}`]:{left:pS-.5},[`& .${ie["columnHeader--withRightBorder"]} .${ie["columnSeparator--sideRight"]}`]:{right:pS-.5},[`& .${ie["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${ie["columnSeparator--resizing"]}`]:{color:wt.colors.foreground.accent},"@media (hover: none)":{[`& .${ie.iconSeparator} rect`]:T5},"@media (hover: hover)":{"&:hover":{color:wt.colors.foreground.accent,[`& .${ie.iconSeparator} rect`]:T5}},"& svg":{pointerEvents:"none"}},[`& .${ie.iconSeparator}`]:{color:"inherit",transition:wt.transition(["color","width"],{duration:wt.transitions.duration.short})},[`& .${ie.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${ie.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${ie.headerFilterRow}`]:{[`& .${ie.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${ie["row--borderBottom"]} .${ie.columnHeader},
      & .${ie["row--borderBottom"]} .${ie.filler},
      & .${ie["row--borderBottom"]} .${ie.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ie["row--borderBottom"]} .${ie.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${ie.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${ie["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:f,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ie.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":M},[`& .${ie.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":M},[`& .${ie["virtualScrollerContent--overflowed"]} .${ie["row--lastVisible"]} .${ie.cell}`]:{borderTopColor:"transparent"},[`& .${ie.pinnedRows} .${ie.row}, .${ie.aggregationRowOverlayWrapper} .${ie.row}`]:{backgroundColor:o,"&:hover":{backgroundColor:y}},[`& .${ie["pinnedRows--top"]} :first-of-type`]:{[`& .${ie.cell}, .${ie.scrollbarFiller}`]:{borderTop:"none"}},[`&.${ie["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${ie["row--dynamicHeight"]} > .${ie.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${ie.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${ie.cell}.${ie["cell--selectionMode"]}`]:{cursor:"default"},[`& .${ie.cell}.${ie["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:wt.shadows.base,backgroundColor:wt.colors.background.overlay,"&:focus-within":{outline:`${If}px solid ${wt.colors.interactive.focus}`,outlineOffset:If*-1}},[`& .${ie["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${ie["row--editing"]}`]:{boxShadow:wt.shadows.base},[`& .${ie["row--editing"]} .${ie.cell}`]:{boxShadow:"none",backgroundColor:wt.colors.background.overlay},[`& .${ie.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${ie.booleanCell}[data-value="true"]`]:{color:wt.colors.foreground.muted},[`& .${ie.booleanCell}[data-value="false"]`]:{color:wt.colors.foreground.disabled},[`& .${ie.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:wt.spacing(1)},[`& .${ie.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:wt.colors.interactive.disabledOpacity},[`& .${ie["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${ie.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${ie.withBorderColor}`]:{borderColor:wt.colors.border.base},[`& .${ie["cell--withLeftBorder"]}, & .${ie["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${ie["cell--withRightBorder"]}, & .${ie["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${ie["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${ie["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${ie["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${ie["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${ie["cell--pinnedLeft"]}, & .${ie["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:wt.cell.background.pinned,"&.Mui-selected":{backgroundColor:b}},[`& .${ie.row}`]:{"&:hover":E,"&.Mui-selected":T,"&.Mui-selected:hover":R},[`& .${ie.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${ie.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${ie.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${ie.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${ie["columnHeader--dragging"]}`]:{background:wt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:wt.colors.interactive.disabledOpacity},[`& .${ie["row--dragging"]}`]:{background:wt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:wt.colors.foreground.base,transform:"translateZ(0)",[`& .${ie.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${ie.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ie.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:wt.spacing(2)},[`& .${ie.treeDataGroupingCellLoadingContainer}, .${ie.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${ie.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ie.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:wt.spacing(2)},[`& .${ie.columnHeaders} .${ie.scrollbarFiller}`]:{backgroundColor:r},[`.${ie.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${ie["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ie["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ie["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:wt.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${ie.filler}`]:{flex:"1 0 auto"},[`& .${ie["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ie.columnHeaders} .${ie.filler}`]:{backgroundColor:r},[`& .${ie["main--hiddenContent"]}`]:{[`& .${ie.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${ie["scrollbar--vertical"]}, & .${ie.pinnedRows}, & .${ie.virtualScroller} > .${ie.filler}`]:{display:"none"}},[`& .${ie["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:wt.colors.interactive.selected}},[`& .${ie["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:wt.colors.interactive.selected},[`&.${ie["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${ie["row--beingDragged"]}`]:{color:wt.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function M5(e,t){return`rgba(from ${e} r g b / ${t})`}function eBe(e){return M5(e,1)}function cu(e,t,n){return`color-mix(in srgb,${e}, ${t} calc(${n} * 100%))`}const tBe=()=>()=>{},nBe=()=>!1,rBe=()=>!0,oBe=()=>vM.useSyncExternalStore(tBe,nBe,rBe),O5=_.createContext(void 0);function WR(){const e=_.useContext(O5);if(e===void 0)throw new Error("MUI X: Missing context.");return e}function iBe({children:e}){const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),o=_.useMemo(()=>({columnsPanelTriggerRef:t,filterPanelTriggerRef:n,aiAssistantPanelTriggerRef:r}),[]);return x.jsx(O5.Provider,{value:o,children:e})}function sBe(){const e=hn(),t=tt(e,Zs),n=yt(),r=tt(e,qd),{columnsPanelTriggerRef:o,filterPanelTriggerRef:i,aiAssistantPanelTriggerRef:s}=WR(),a=e.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??Mi.filters);let c=null;switch(r.openedPanelValue){case Mi.filters:c=i.current;break;case Mi.columns:c=o.current;break;case Mi.aiAssistant:c=s.current;break}return x.jsx(n.slots.panel,G({id:r.panelId,open:t.length>0&&r.open,"aria-labelledby":r.labelId,target:c,onClose:()=>e.current.hidePreferences()},n.slotProps?.panel,{children:a}))}function aBe(){const e=yt();return x.jsxs(_.Fragment,{children:[x.jsx(sBe,{}),e.showToolbar&&x.jsx(e.slots.toolbar,G({},e.slotProps?.toolbar))]})}const lBe=["className","children","sidePanel"],cBe=(e,t)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:o}=e,i={root:["root",n&&"autoHeight",`root--density${We(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",o&&"withVerticalBorder"]};return ht(i,xn,r)},uBe=Zt(function(t,n){const r=yt(),{className:o,children:i,sidePanel:s}=t,a=pt(t,lBe),c=cs(),u=tt(c,vf),h=c.current.rootElementRef,f=_.useCallback(S=>{S!==null&&c.current.publishEvent("rootMount",S)},[c]),g=Tn(h,n,f),m=r,y=cBe(m,u),b=ADe();return oBe()?null:x.jsxs(QNe,G({className:Ke(y.root,o,b.className,s&&ie.withSidePanel),ownerState:m},a,{ref:g,children:[x.jsxs("div",{className:ie.mainContent,role:"presentation",children:[x.jsx(aBe,{}),x.jsx(INe,{children:i}),x.jsx(PNe,{})]}),s,b.tag]}))}),dBe=tc(uBe),hBe=["className"],fBe=e=>{const{classes:t}=e;return ht({root:["footerContainer","withBorderColor"]},xn,t)},pBe=jn("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),gBe=Zt(function(t,n){const{className:r}=t,o=pt(t,hBe),i=yt(),s=fBe(i);return x.jsx(pBe,G({className:Ke(s.root,r),ownerState:i},o,{ref:n}))}),mBe=["className"],vBe=e=>{const{classes:t}=e;return ht({root:["overlay"]},xn,t)},yBe=jn("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:wt.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:wt.colors.background.backdrop}),gS=Zt(function(t,n){const{className:r}=t,o=pt(t,mBe),i=yt(),s=vBe(i);return x.jsx(yBe,G({className:Ke(s.root,r),ownerState:i},o,{ref:n}))});function yl(e,t,n,r={}){return typeof t=="function"?t(n,r):t?(t.props.className&&(n.className=bBe(t.props.className,n.className)),(t.props.style||n.style)&&(n.style=G({},n.style,t.props.style)),_.cloneElement(t,n)):_.createElement(e,n)}function bBe(e,t){return!e||!t?e||t:`${e} ${t}`}const R5=_.createContext(void 0);function wBe(){const e=_.useContext(R5);if(e===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}function SBe(e,t){if(!e.ref.current||!t.ref.current)return 0;const n=e.ref.current.compareDocumentPosition(t.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const CBe=["render","className"],xBe=e=>{const{classes:t}=e;return ht({root:["toolbar"]},xn,t)},_Be=jn("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:wt.spacing(.25),padding:wt.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${wt.colors.border.base}`}),I5=Zt(function(t,n){const{render:r,className:o}=t,i=pt(t,CBe),s=yt(),a=xBe(s),[c,u]=_.useState(null),[h,f]=_.useState([]),g=_.useCallback(()=>h.sort(SBe),[h]),m=_.useCallback((M,I,N=!0)=>{let P=M;const L=g(),D=L.length;for(let $=0;$<D;$+=1){if(P+=I,P>=D){if(!N)return-1;P=0}else if(P<0){if(!N)return-1;P=D-1}if(!L[P].ref.current?.disabled&&L[P].ref.current?.ariaDisabled!=="true")return P}return-1},[g]),y=_.useCallback((M,I)=>{f(N=>[...N,{id:M,ref:I}])},[]),b=_.useCallback(M=>{f(I=>I.filter(N=>N.id!==M))},[]),v=_.useCallback(M=>{if(!c)return;const I=g(),N=I.findIndex(L=>L.id===c);let P=-1;if(M.key==="ArrowRight"?(M.preventDefault(),P=m(N,1)):M.key==="ArrowLeft"?(M.preventDefault(),P=m(N,-1)):M.key==="Home"?(M.preventDefault(),P=m(-1,1,!1)):M.key==="End"&&(M.preventDefault(),P=m(I.length,-1,!1)),P>=0&&P<I.length){const L=I[P];u(L.id),L.ref.current?.focus()}},[g,c,m]),S=_.useCallback(M=>{c!==M&&u(M)},[c,u]),E=_.useCallback(M=>{const I=g(),N=I.findIndex(L=>L.id===M),P=m(N,1);if(P>=0&&P<I.length){const L=I[P];u(L.id),L.ref.current?.focus()}},[g,m]);_.useEffect(()=>{const M=g();if(M.length>0){if(!c){u(M[0].id);return}const I=M.findIndex(N=>N.id===c);if(M[I]){if(I===-1){const N=M[I];N&&(u(N.id),N.ref.current?.focus())}}else{const N=M[M.length-1];N&&(u(N.id),N.ref.current?.focus())}}},[g,m]);const T=_.useMemo(()=>({focusableItemId:c,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}),[c,y,b,v,S,E]),R=yl(_Be,r,G({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:Ke(a.root,o)},i,{ref:n}));return x.jsx(R5.Provider,{value:T,children:R})}),EBe=["render","onKeyDown","onFocus","disabled","aria-disabled"],mS=Zt(function(t,n){const{render:r,onKeyDown:o,onFocus:i,disabled:s,"aria-disabled":a}=t,c=pt(t,EBe),u=Dn(),h=yt(),f=_.useRef(null),g=Tn(f,n),{focusableItemId:m,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}=wBe(),T=P=>{v(P),o?.(P)},R=P=>{S(u),i?.(P)};_.useEffect(()=>(y(u,f),()=>b(u)),[]);const M=_.useRef(s);_.useEffect(()=>{M.current!==s&&s===!0&&E(u,s),M.current=s},[s,u,E]);const I=_.useRef(a);_.useEffect(()=>{I.current!==a&&a===!0&&E(u,!0),I.current=a},[a,u,E]);const N=yl(h.slots.baseIconButton,r,G({},h.slotProps?.baseIconButton,{tabIndex:m===u?0:-1},c,{disabled:s,"aria-disabled":a,onKeyDown:T,onFocus:R,ref:g}));return x.jsx(_.Fragment,{children:N})}),TBe=["className","children"],MBe=e=>{const{classes:t}=e;return ht({root:["toolbarContainer"]},xn,t)},OBe=jn(I5,{name:"MuiDataGrid",slot:"ToolbarContainer",shouldForwardProp:e=>e!=="ownerState"})({display:"flex",alignItems:"center",flexWrap:"wrap",gap:wt.spacing(1),padding:wt.spacing(.5),minHeight:"auto"}),RBe=Zt(function(t,n){const{className:r,children:o}=t,i=pt(t,TBe),s=yt(),a=MBe(s);return o?x.jsx(OBe,G({className:Ke(a.root,r),ownerState:s},i,{ref:n,children:o})):null}),IBe=e=>{const{classes:t,open:n}=e;return ht({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},xn,t)},PBe=_.memo(e=>{const{colDef:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:i}=e,s=hn(),a=yt(),c=G({},e,{classes:a.classes}),u=IBe(c),h=_.useCallback(g=>{g.preventDefault(),g.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]),f=t.headerName??t.field;return x.jsx("div",{className:u.root,children:x.jsx(a.slots.baseTooltip,G({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},a.slotProps?.baseTooltip,{children:x.jsx(a.slots.baseIconButton,G({ref:i,tabIndex:-1,className:u.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(f),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:o},a.slotProps?.baseIconButton,{children:x.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function kBe({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:o,open:i,target:s,onExited:a}){const c=hn(),u=c.current.getColumn(o),h=$t(f=>{f&&(f.stopPropagation(),s?.contains(f.target))||c.current.hideColumnMenu()});return!s||!u?null:x.jsx(Xw,{position:`bottom-${u.align==="right"?"start":"end"}`,open:i,target:s,onClose:h,onExited:a,children:x.jsx(n,G({colDef:u,hideMenu:h,open:i,id:e,labelledby:t},r))})}function DBe(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function vS(e,t){return e.closest(`.${t}`)}function ic(e){return e.replace(/["\\]/g,"\\$&")}function ABe(e,t){return e.querySelector(`[role="columnheader"][data-field="${ic(t)}"]`)}function P5(e){return`.${ie.row}[data-id="${ic(String(e))}"]`}function LBe(e,t){return e.querySelector(P5(t))}function NBe(e,{id:t,field:n}){const r=P5(t),o=`.${ie.cell}[data-field="${ic(n)}"]`,i=`${r} ${o}`;return e.querySelector(i)}function Im(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function BBe(e){return e.getAttribute("data-field")}function FBe(e,t){return e.querySelector(`[data-field="${ic(t)}"]`)}function jBe(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function VBe(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${ic(t)}-|"]`)??[])}function $Be(e,t){if(!vS(e,ie.root))throw new Error("MUI X: The root element is not found.");const r=e.getAttribute("aria-colindex");if(!r)return[];const o=Number(r)-1,i=[];return t.virtualScrollerRef?.current?(L5(t).forEach(s=>{const a=s.getAttribute("data-id");if(!a)return;let c=o;const u=t.unstable_getCellColSpanInfo(a,o);u&&u.spannedByColSpan&&(c=u.leftVisibleCellIndex);const h=s.querySelector(`[data-colindex="${c}"]`);h&&i.push(h)}),i):[]}function k5(e,t){return e.rootElementRef.current.querySelector(`.${ie[t]}`)}const D5=({api:e,colIndex:t,position:n,filterFn:r})=>{if(t===null)return[];const o=[];return L5(e).forEach(i=>{i.getAttribute("data-id")&&i.querySelectorAll(`.${ie[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const c=Pf(a);c!==null&&r(c)&&o.push(a)})}),o};function zBe(e,t,n){const r=Pf(t);return D5({api:e,colIndex:r,position:n?"right":"left",filterFn:o=>n?o<r:o>r})}function UBe(e,t,n){const r=Pf(t);return D5({api:e,colIndex:r,position:n?"left":"right",filterFn:o=>n?o>r:o<r})}const A5=({api:e,colIndex:t,position:n,filterFn:r})=>{if(!e.columnHeadersContainerRef?.current)return[];if(t===null)return[];const o=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${ie[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(i=>{const s=Pf(i);s!==null&&r(s,i)&&o.push(i)}),o};function HBe(e,t,n){const r=Pf(t);return A5({api:e,position:n?"right":"left",colIndex:r,filterFn:o=>n?o<r:o>r})}function GBe(e,t,n){const r=Pf(t);return A5({api:e,position:n?"left":"right",colIndex:r,filterFn:(o,i)=>i.classList.contains(ie["columnHeader--last"])?!1:n?o>r:o<r})}function WBe(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${ic(t)}"][role="columnheader"]`)}function KBe(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${ic(t)}"][role="gridcell"]`))}function L5(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${ie.row}`)}function Pf(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const qBe=["className","aria-label"],YBe=e=>{const{classes:t}=e;return ht({root:["columnHeaderTitle"]},xn,t)},XBe=jn("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),ZBe=Zt(function(t,n){const{className:r}=t,o=pt(t,qBe),i=yt(),s=YBe(i);return x.jsx(XBe,G({className:Ke(s.root,r),ownerState:i},o,{ref:n}))});function JBe(e){const{label:t,description:n}=e,r=yt(),o=_.useRef(null),[i,s]=_.useState(""),a=_.useCallback(()=>{if(!n&&o?.current){const c=DBe(o.current);s(c?t:"")}},[n,t]);return x.jsx(r.slots.baseTooltip,G({title:n||i},r.slotProps?.baseTooltip,{children:x.jsx(ZBe,{onMouseOver:a,ref:o,children:t})}))}const QBe=["resizable","resizing","height","side"];var KR=(function(e){return e.Left="left",e.Right="right",e})(KR||{});const eFe=e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${We(o)}`],icon:["iconSeparator"]};return ht(i,xn,r)};function tFe(e){const{height:t,side:n=KR.Right}=e,r=pt(e,QBe),o=yt(),i=G({},e,{side:n,classes:o.classes}),s=eFe(i),a=_.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return x.jsx("div",G({className:s.root,style:{minHeight:t}},r,{onClick:a,children:x.jsx(o.slots.columnResizeIcon,{className:s.icon})}))}const nFe=_.memo(tFe),rFe=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],N5=Zt(function(t,n){const{classes:r,colIndex:o,height:i,isResizing:s,sortDirection:a,tabIndex:c,separatorSide:u,isDraggable:h,headerComponent:f,description:g,width:m,columnMenuIconButton:y=null,columnMenu:b=null,columnTitleIconButtons:v=null,headerClassName:S,label:E,resizable:T,draggableContainerProps:R,columnHeaderSeparatorProps:M,style:I}=t,N=pt(t,rFe),P=yt(),L=_.useRef(null),D=Tn(L,n);let $="none";return a!=null&&($=a==="asc"?"ascending":"descending"),x.jsxs("div",G({className:Ke(r.root,S),style:G({},I,{width:m}),role:"columnheader",tabIndex:c,"aria-colindex":o+1,"aria-sort":$},N,{ref:D,children:[x.jsxs("div",G({className:r.draggableContainer,draggable:h,role:"presentation"},R,{children:[x.jsxs("div",{className:r.titleContainer,role:"presentation",children:[x.jsx("div",{className:r.titleContainerContent,children:f!==void 0?f:x.jsx(JBe,{label:E,description:g,columnWidth:m})}),v]}),y]})),x.jsx(nFe,G({resizable:!P.disableColumnResize&&!!T,resizing:s,height:i,side:u},M)),b]}))}),oFe=e=>{const{disableColumnSorting:t}=yt(),{colDef:n,classes:r,isDragging:o,sortDirection:i,showRightBorder:s,showLeftBorder:a,filterItemsCounter:c,pinnedPosition:u,isLastUnpinned:h,isSiblingFocused:f}=e,g=n.sortable&&!t,m=i!=null,y=c!=null&&c>0,b=n.type==="number",v={root:["columnHeader",n.headerAlign==="left"&&"columnHeader--alignLeft",n.headerAlign==="center"&&"columnHeader--alignCenter",n.headerAlign==="right"&&"columnHeader--alignRight",g&&"columnHeader--sortable",o&&"columnHeader--moving",m&&"columnHeader--sorted",y&&"columnHeader--filtered",b&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",u===On.LEFT&&"columnHeader--pinnedLeft",u===On.RIGHT&&"columnHeader--pinnedRight",h&&"columnHeader--lastUnpinned",f&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ht(v,xn,r)};function iFe(e){const{colDef:t,columnMenuOpen:n,colIndex:r,headerHeight:o,isResizing:i,isLast:s,sortDirection:a,sortIndex:c,filterItemsCounter:u,hasFocus:h,tabIndex:f,disableReorder:g,separatorSide:m,showLeftBorder:y,showRightBorder:b,pinnedPosition:v,pinnedOffset:S}=e,E=cs(),T=yt(),R=Uo(),M=_.useRef(null),I=Dn(),N=Dn(),P=_.useRef(null),[L,D]=_.useState(n),$=_.useMemo(()=>!T.disableColumnReorder&&!g&&!t.disableReorder,[T.disableColumnReorder,g,t.disableReorder]);let B;t.renderHeader&&(B=t.renderHeader(E.current.getColumnHeaderParams(t.field)));const U=G({},e,{classes:T.classes,showRightBorder:b,showLeftBorder:y}),q=oFe(U),W=_.useCallback(Me=>xe=>{Im(xe)||E.current.publishEvent(Me,E.current.getColumnHeaderParams(t.field),xe)},[E,t.field]),V=_.useMemo(()=>({onClick:W("columnHeaderClick"),onContextMenu:W("columnHeaderContextMenu"),onDoubleClick:W("columnHeaderDoubleClick"),onMouseOver:W("columnHeaderOver"),onMouseOut:W("columnHeaderOut"),onMouseEnter:W("columnHeaderEnter"),onMouseLeave:W("columnHeaderLeave"),onKeyDown:W("columnHeaderKeyDown"),onFocus:W("columnHeaderFocus"),onBlur:W("columnHeaderBlur")}),[W]),Y=_.useMemo(()=>$?{onDragStart:W("columnHeaderDragStart"),onDragEnter:W("columnHeaderDragEnter"),onDragOver:W("columnHeaderDragOver"),onDragEndCapture:W("columnHeaderDragEnd")}:{},[$,W]),J=_.useMemo(()=>({onMouseDown:W("columnSeparatorMouseDown"),onDoubleClick:W("columnSeparatorDoubleClick")}),[W]);_.useEffect(()=>{L||D(n)},[L,n]);const ne=_.useCallback(()=>{D(!1)},[]),z=!T.disableColumnMenu&&!t.disableColumnMenu&&x.jsx(PBe,{colDef:t,columnMenuId:I,columnMenuButtonId:N,open:L,iconButtonRef:P}),K=x.jsx(kBe,{columnMenuId:I,columnMenuButtonId:N,field:t.field,open:n,target:P.current,ContentComponent:T.slots.columnMenu,contentComponentProps:T.slotProps?.columnMenu,onExited:ne}),Z=t.sortingOrder??T.sortingOrder,le=(t.sortable||a!=null)&&!t.hideSortIcons&&!T.disableColumnSorting,ce=x.jsxs(_.Fragment,{children:[!T.disableColumnFilter&&x.jsx(T.slots.columnHeaderFilterIconButton,G({field:t.field,counter:u},T.slotProps?.columnHeaderFilterIconButton)),le&&x.jsx(T.slots.columnHeaderSortIcon,G({field:t.field,direction:a,index:c,sortingOrder:Z,disabled:!t.sortable},T.slotProps?.columnHeaderSortIcon))]});_.useLayoutEffect(()=>{const Me=E.current.state.columnMenu;if(h&&!Me.open){const he=M.current.querySelector('[tabindex="0"]')||M.current;if(!he)return;if(GR())he.focus({preventScroll:!0});else{const pe=E.current.getScrollPosition();he.focus(),E.current.scroll(pe)}}},[E,h]);const ue=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,ae=t.headerName??t.field,ye=_.useMemo(()=>fS(G({},e.style),R,v,S),[v,S,e.style,R]);return x.jsx(N5,G({ref:M,classes:q,columnMenuOpen:n,colIndex:r,height:o,isResizing:i,sortDirection:a,hasFocus:h,tabIndex:f,separatorSide:m,isDraggable:$,headerComponent:B,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:z,columnTitleIconButtons:ce,headerClassName:Ke(ue,s&&ie["columnHeader--last"]),label:ae,resizable:!T.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:K,draggableContainerProps:Y,columnHeaderSeparatorProps:J,style:ye},V))}const sFe=tc(iFe),aFe=["className"],lFe=e=>{const{classes:t}=e;return ht({root:["iconButtonContainer"]},xn,t)},cFe=jn("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),B5=Zt(function(t,n){const{className:r}=t,o=pt(t,aFe),i=yt(),s=lFe(i);return x.jsx(cFe,G({className:Ke(s.root,r),ownerState:i},o,{ref:n}))}),uFe=["direction","index","sortingOrder","disabled","className"],dFe=e=>{const{classes:t}=e;return ht({root:["sortButton"],icon:["sortIcon"]},xn,t)},hFe=jn(pl,{name:"MuiDataGrid",slot:"SortButton"})({transition:wt.transition(["opacity"],{duration:wt.transitions.duration.short,easing:wt.transitions.easing.easeInOut})});function fFe(e,t,n,r){let o;const i={};return t==="asc"?o=e.columnSortedAscendingIcon:t==="desc"?o=e.columnSortedDescendingIcon:(o=e.columnUnsortedIcon,i.sortingOrder=r),o?x.jsx(o,G({fontSize:"small",className:n},i)):null}function pFe(e){const{direction:t,index:n,sortingOrder:r,disabled:o,className:i}=e,s=pt(e,uFe),a=hn(),c=yt(),u=G({},e,{classes:c.classes}),h=dFe(u),f=fFe(c.slots,t,h.icon,r);if(!f)return null;const g=x.jsx(hFe,G({as:c.slots.baseIconButton,ownerState:u,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:o,className:Ke(h.root,i)},c.slotProps?.baseIconButton,s,{children:f}));return x.jsxs(_.Fragment,{children:[n!=null&&x.jsx(c.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:g}),n==null&&g]})}function gFe(e){return x.jsx(B5,{children:x.jsx(pFe,G({},e,{tabIndex:-1}))})}const mFe=_.memo(gFe),vFe=e=>{const{classes:t}=e;return ht({icon:["filterIcon"]},xn,t)};function yFe(e){return e.counter?x.jsx(bFe,G({},e)):null}function bFe(e){const{counter:t,field:n,onClick:r}=e,o=hn(),i=yt(),s=G({},e,{classes:i.classes}),a=vFe(s),c=Dn(),u=tt(o,FLe,c),h=Dn(),f=_.useCallback(m=>{m.preventDefault(),m.stopPropagation();const{open:y,openedPanelValue:b}=qd(o);y&&b===Mi.filters?o.current.hideFilterPanel():o.current.showFilterPanel(void 0,h,c),r&&r(o.current.getColumnHeaderParams(n),m)},[o,n,r,h,c]);if(!t)return null;const g=x.jsx(i.slots.baseIconButton,G({id:c,onClick:f,"aria-label":o.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?h:void 0},i.slotProps?.baseIconButton,{children:x.jsx(i.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return x.jsx(i.slots.baseTooltip,G({title:o.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},i.slotProps?.baseTooltip,{children:x.jsxs(B5,{children:[t>1&&x.jsx(i.slots.baseBadge,{badgeContent:t,color:"default",children:g}),t===1&&g]})}))}const wFe=["hideMenu","colDef","id","labelledby","className","children","open"],SFe=we(pl)(()=>({minWidth:248}));function F5(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}const CFe=Zt(function(t,n){const{hideMenu:r,id:o,labelledby:i,className:s,children:a,open:c}=t,u=pt(t,wFe),h=yt(),f=_.useCallback(g=>{g.key==="Tab"&&g.preventDefault(),C2(g.key)&&r(g)},[r]);return x.jsx(SFe,G({as:h.slots.baseMenuList,id:o,className:Ke(ie.menuList,s),"aria-labelledby":i,onKeyDown:f,onWheel:F5,onTouchMove:F5,autoFocus:c},u,{ref:n,children:a}))}),xFe=["displayOrder"],_Fe=e=>{const t=cs(),n=yt(),{defaultSlots:r,defaultSlotProps:o,slots:i={},slotProps:s={},hideMenu:a,colDef:c,addDividers:u=!0}=e,h=_.useMemo(()=>G({},r,i),[r,i]),f=_.useMemo(()=>{if(!s||Object.keys(s).length===0)return o;const y=G({},s);return Object.entries(o).forEach(([b,v])=>{y[b]=G({},v,s[b]||{})}),y},[o,s]),g=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),m=_.useMemo(()=>{const y=Object.keys(r);return Object.keys(i).filter(b=>!y.includes(b))},[i,r]);return _.useMemo(()=>{const v=Array.from(new Set([...g,...m])).filter(S=>h[S]!=null).sort((S,E)=>{const T=f[S],R=f[E],M=Number.isFinite(T?.displayOrder)?T.displayOrder:100,I=Number.isFinite(R?.displayOrder)?R.displayOrder:100;return M-I});return v.reduce((S,E,T)=>{let R={colDef:c,onClick:a};const M=f[E];if(M){const I=pt(M,xFe);R=G({},R,I)}return u&&T!==v.length-1?[...S,[h[E],R],[n.slots.baseDivider,{}]]:[...S,[h[E],R]]},[])},[u,c,g,a,h,f,m,n.slots.baseDivider])};function EFe(e){const{colDef:t,onClick:n}=e,r=hn(),o=yt(),a=Zr(r).filter(u=>u.disableColumnMenu!==!0).length===1,c=_.useCallback(u=>{a||(r.current.setColumnVisibility(t.field,!1),n(u))},[r,t.field,n,a]);return o.disableColumnSelector||t.hideable===!1?null:x.jsx(o.slots.baseMenuItem,{onClick:c,disabled:a,iconStart:x.jsx(o.slots.columnMenuHideIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuHideColumn")})}function TFe(e){const{onClick:t}=e,n=hn(),r=yt(),o=_.useCallback(i=>{t(i),n.current.showPreferences(Mi.columns)},[n,t]);return r.disableColumnSelector?null:x.jsx(r.slots.baseMenuItem,{onClick:o,iconStart:x.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}function MFe(e){return x.jsxs(_.Fragment,{children:[x.jsx(EFe,G({},e)),x.jsx(TFe,G({},e))]})}function OFe(e){const{colDef:t,onClick:n}=e,r=hn(),o=yt(),i=_.useCallback(s=>{n(s),r.current.showFilterPanel(t.field)},[r,t.field,n]);return o.disableColumnFilter||!t.filterable?null:x.jsx(o.slots.baseMenuItem,{onClick:i,iconStart:x.jsx(o.slots.columnMenuFilterIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuFilter")})}function RFe(e){const{colDef:t,onClick:n}=e,r=hn(),o=tt(r,Qs),i=yt(),s=_.useMemo(()=>t?o.find(f=>f.field===t.field)?.sort:null,[t,o]),a=t.sortingOrder??i.sortingOrder,c=_.useCallback(h=>{n(h);const f=h.currentTarget.getAttribute("data-value")||null,g=i.multipleColumnsSortingMode==="always";r.current.sortColumn(t.field,f===s?null:f,g)},[r,t,n,s,i.multipleColumnsSortingMode]);if(i.disableColumnSorting||!t||!t.sortable||!a.some(h=>!!h))return null;const u=h=>{const f=r.current.getLocaleText(h);return typeof f=="function"?f(t):f};return x.jsxs(_.Fragment,{children:[a.includes("asc")&&s!=="asc"?x.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"asc",iconStart:x.jsx(i.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:u("columnMenuSortAsc")}):null,a.includes("desc")&&s!=="desc"?x.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"desc",iconStart:x.jsx(i.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:u("columnMenuSortDesc")}):null,a.includes(null)&&s!=null?x.jsx(i.slots.baseMenuItem,{onClick:c,iconStart:i.slots.columnMenuUnsortIcon?x.jsx(i.slots.columnMenuUnsortIcon,{fontSize:"small"}):x.jsx("span",{}),children:r.current.getLocaleText("columnMenuUnsort")}):null]})}const IFe=["defaultSlots","defaultSlotProps","slots","slotProps"],PFe={columnMenuSortItem:RFe,columnMenuFilterItem:OFe,columnMenuColumnsItem:MFe},kFe={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},DFe=Zt(function(t,n){const{defaultSlots:r,defaultSlotProps:o,slots:i,slotProps:s}=t,a=pt(t,IFe),c=_Fe(G({},a,{defaultSlots:r,defaultSlotProps:o,slots:i,slotProps:s}));return x.jsx(CFe,G({},a,{ref:n,children:c.map(([u,h],f)=>x.jsx(u,G({},h),f))}))}),AFe=Zt(function(t,n){return x.jsx(DFe,G({},t,{ref:n,defaultSlots:PFe,defaultSlotProps:kFe}))}),LFe=["className"],NFe=e=>{const{classes:t}=e;return ht({root:["panelWrapper"]},xn,t)},BFe=we("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),j5=Zt(function(t,n){const{className:r}=t,o=pt(t,LFe),i=yt(),s=NFe(i);return x.jsx(BFe,G({tabIndex:-1,className:Ke(s.root,r),ownerState:i},o,{ref:n}))});function FFe(e){const t=yt();return x.jsx(j5,G({},e,{children:x.jsx(t.slots.columnsManagement,G({},t.slotProps?.columnsManagement))}))}const jFe=["children","className","classes","onClose"],VFe=Kt("MuiDataGrid",["panel","paper"]),$Fe=we(pl,{name:"MuiDataGrid",slot:"panel"})({zIndex:wt.zIndex.panel}),zFe=we("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:wt.colors.background.overlay,borderRadius:wt.radius.base,boxShadow:wt.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${wt.spacing(2)})`,overflow:"auto"}),UFe=Zt((e,t)=>{const{children:n,className:r,onClose:o}=e,i=pt(e,jFe),s=hn(),a=yt(),c=VFe,[u,h]=_.useState(!1),f=E2(),g=$t(()=>h(!0)),m=$t(()=>h(!1)),y=$t(()=>{o?.()}),b=$t(E=>{E.key==="Escape"&&o?.()}),[v,S]=_.useState(null);return _.useEffect(()=>{const E=s.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');E&&S(E)},[s]),v?x.jsx($Fe,G({as:a.slots.basePopper,ownerState:a,placement:"bottom-end",className:Ke(c.panel,r,f),flip:!0,onDidShow:g,onDidHide:m,onClickAway:y,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},i,a.slotProps?.basePopper,{target:e.target??v,ref:t,children:x.jsx(zFe,{className:c.paper,ownerState:a,onKeyDown:b,children:u&&n})})):null}),HFe=["className"],GFe=e=>{const{classes:t}=e;return ht({root:["panelContent"]},xn,t)},WFe=jn("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:wt.spacing(2.5,1.5,2,1),gap:wt.spacing(2.5)});function KFe(e){const{className:t}=e,n=pt(e,HFe),r=yt(),o=GFe(r);return x.jsx(WFe,G({className:Ke(o.root,t),ownerState:r},n))}const qFe=["className"],YFe=e=>{const{classes:t}=e;return ht({root:["panelFooter"]},xn,t)},XFe=we("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:wt.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${wt.colors.border.base}`});function ZFe(e){const{className:t}=e,n=pt(e,qFe),r=yt(),o=YFe(r);return x.jsx(XFe,G({className:Ke(o.root,t),ownerState:r},n))}const JFe=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],QFe=["InputComponentProps"],eje=e=>{const{classes:t}=e;return ht({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},xn,t)},tje=we("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:wt.spacing(1.5)}),nje=we("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),rje=we("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),oje=we("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),ije=we("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),sje=we("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),aje=e=>{switch(e){case Ti.And:return"filterPanelOperatorAnd";case Ti.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Pm=e=>e.headerName||e.field,V5=new Intl.Collator,$5=Zt(function(t,n){const{item:r,hasMultipleFilters:o,deleteFilter:i,applyFilterChanges:s,showMultiFilterOperators:a,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:u,focusElementRef:h,logicOperators:f=[Ti.And,Ti.Or],columnsSort:g,filterColumns:m,deleteIconProps:y={},logicOperatorInputProps:b={},operatorInputProps:v={},columnInputProps:S={},valueInputProps:E={},readOnly:T}=t,R=pt(t,JFe),M=hn(),I=tt(M,rc),N=tt(M,h2),P=tt(M,Ao),L=Dn(),D=Dn(),$=Dn(),B=Dn(),U=yt(),q=eje(U),W=_.useRef(null),V=_.useRef(null),Y=P.logicOperator??Ti.And,J=o&&f.length>0,z=(U.slotProps?.baseSelect||{}).native??!1,K=U.slotProps?.baseSelectOption||{},{InputComponentProps:Z}=E,le=pt(E,QFe),ce=tt(M,Kd),ue=tt(M,i5),{filteredColumns:ae,selectedField:ye}=_.useMemo(()=>{let Te=r.field;const Ve=I[r.field].filterable===!1?I[r.field]:null;if(Ve)return{filteredColumns:[Ve],selectedField:Te};if(ce)return{filteredColumns:N.filter(je=>ue.get(je.field)!==void 0),selectedField:Te};if(m===void 0||typeof m!="function")return{filteredColumns:N,selectedField:Te};const rt=m({field:r.field,columns:N,currentFilters:P?.items||[]});return{filteredColumns:N.filter(je=>{const Rt=rt.includes(je.field);return je.field===r.field&&!Rt&&(Te=void 0),Rt}),selectedField:Te}},[r.field,I,ce,m,N,P?.items,ue]),Me=_.useMemo(()=>{switch(g){case"asc":return ae.sort((Te,Ve)=>V5.compare(Pm(Te),Pm(Ve)));case"desc":return ae.sort((Te,Ve)=>-V5.compare(Pm(Te),Pm(Ve)));default:return ae}},[ae,g]),xe=r.field?M.current.getColumn(r.field):null,he=_.useMemo(()=>!r.operator||!xe?null:xe.filterOperators?.find(Te=>Te.value===r.operator),[r,xe]),pe=_.useCallback(Te=>{const Ve=Te.target.value,rt=M.current.getColumn(Ve);if(rt.field===xe.field)return;const je=rt.filterOperators.find(Ct=>Ct.value===r.operator)||rt.filterOperators[0];let dt=!je.InputComponent||je.InputComponent!==he?.InputComponent||rt.type!==xe.type?void 0:r.value;if(rt.type==="singleSelect"&&dt!==void 0){const Ct=rt,$e=Gd(Ct);Array.isArray(dt)?dt=dt.filter(It=>iS(It,$e,Ct?.getOptionValue)!==void 0):iS(r.value,$e,Ct?.getOptionValue)===void 0&&(dt=void 0)}s(G({},r,{field:Ve,operator:je.value,value:dt}))},[M,s,r,xe,he]),Se=_.useCallback(Te=>{const Ve=Te.target.value,rt=xe?.filterOperators.find(Rt=>Rt.value===Ve),je=!rt?.InputComponent||rt?.InputComponent!==he?.InputComponent;s(G({},r,{operator:Ve,value:je?void 0:r.value}))},[s,r,xe,he]),Ee=_.useCallback(Te=>{const Ve=Te.target.value===Ti.And.toString()?Ti.And:Ti.Or;u(Ve)},[u]),ke=()=>{i(r)};return _.useImperativeHandle(h,()=>({focus:()=>{he?.InputComponent?W?.current?.focus():V.current.focus()}}),[he]),x.jsxs(tje,G({className:q.root,"data-id":r.id,ownerState:U},R,{ref:n,children:[x.jsx(nje,G({},y,{className:Ke(q.deleteIcon,y.className),ownerState:U,children:x.jsx(U.slots.baseIconButton,G({"aria-label":M.current.getLocaleText("filterPanelDeleteIconLabel"),title:M.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:ke,size:"small",disabled:T},U.slotProps?.baseIconButton,{children:x.jsx(U.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),x.jsx(rje,G({as:U.slots.baseSelect,sx:[J?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},b.sx],className:Ke(q.logicOperatorInput,b.className),ownerState:U},b,{size:"small",slotProps:{htmlInput:{"aria-label":M.current.getLocaleText("filterPanelLogicOperator")}},value:Y??"",onChange:Ee,disabled:!!c||f.length===1,native:z},U.slotProps?.baseSelect,{children:f.map(Te=>_.createElement(U.slots.baseSelectOption,G({},K,{native:z,key:Te.toString(),value:Te.toString()}),M.current.getLocaleText(aje(Te))))})),x.jsx(oje,G({as:U.slots.baseSelect},S,{className:Ke(q.columnInput,S.className),ownerState:U,size:"small",labelId:D,id:L,label:M.current.getLocaleText("filterPanelColumns"),value:ye??"",onChange:pe,native:z,disabled:T},U.slotProps?.baseSelect,{children:Me.map(Te=>_.createElement(U.slots.baseSelectOption,G({},K,{native:z,key:Te.field,value:Te.field}),Pm(Te)))})),x.jsx(ije,G({as:U.slots.baseSelect,size:"small"},v,{className:Ke(q.operatorInput,v.className),ownerState:U,labelId:B,label:M.current.getLocaleText("filterPanelOperator"),id:$,value:r.operator,onChange:Se,native:z,inputRef:V,disabled:T},U.slotProps?.baseSelect,{children:xe?.filterOperators?.map(Te=>_.createElement(U.slots.baseSelectOption,G({},K,{native:z,key:Te.value,value:Te.value}),Te.label||M.current.getLocaleText(`filterOperator${We(Te.value)}`)))})),x.jsx(sje,G({},le,{className:Ke(q.valueInput,le.className),ownerState:U,children:he?.InputComponent?x.jsx(he.InputComponent,G({apiRef:M,item:r,applyValue:s,focusElementRef:W,disabled:T,slotProps:{root:{size:"small"}}},he.InputComponentProps,Z),r.field):null}))]}))}),lje=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],z5=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),cje=Zt(function(t,n){const r=hn(),o=yt(),i=tt(r,Ao),s=tt(r,h2),a=tt(r,CDe),c=_.useRef(null),u=_.useRef(null),{logicOperators:h=[Ti.And,Ti.Or],columnsSort:f,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:y=!1,disableRemoveAllButton:b=!1}=t,v=pt(t,lje),S=r.current.upsertFilterItem,E=_.useCallback(B=>{r.current.setFilterLogicOperator(B)},[r]),T=_.useCallback(()=>{let B;if(m&&typeof m=="function"){const U=m({currentFilters:i?.items||[],columns:s});if(U===null)return null;B=s.find(({field:q})=>q===U)}else B=s.find(U=>U.filterOperators?.length);return B?z5(B):null},[i?.items,s,m]),R=_.useCallback(()=>{if(m===void 0||typeof m!="function")return T();const B=i.items.length?i.items:[T()].filter(Boolean),U=m({currentFilters:B,columns:s});if(U===null)return null;const q=s.find(({field:W})=>W===U);return q?z5(q):null},[i.items,s,m,T]),M=_.useMemo(()=>i.items.length?i.items:(u.current||(u.current=T()),u.current?[u.current]:[]),[i.items,T]),I=M.length>1,{readOnlyFilters:N,validFilters:P}=_.useMemo(()=>M.reduce((B,U)=>(a[U.field]?B.validFilters.push(U):B.readOnlyFilters.push(U),B),{readOnlyFilters:[],validFilters:[]}),[M,a]),L=_.useCallback(()=>{const B=R();B&&r.current.upsertFilterItems([...M,B])},[r,R,M]),D=_.useCallback(B=>{const U=P.length===1;r.current.deleteFilterItem(B),U&&r.current.hideFilterPanel()},[r,P.length]),$=_.useCallback(()=>P.length===1&&P[0].value===void 0?(r.current.deleteFilterItem(P[0]),r.current.hideFilterPanel()):r.current.setFilterModel(G({},i,{items:N}),"removeAllFilterItems"),[r,N,i,P]);return _.useEffect(()=>{h.length>0&&i.logicOperator&&!h.includes(i.logicOperator)&&E(h[0])},[h,E,i.logicOperator]),_.useEffect(()=>{P.length>0&&c.current.focus()},[P.length]),x.jsxs(j5,G({},v,{ref:n,children:[x.jsxs(KFe,{children:[N.map((B,U)=>x.jsx($5,G({item:B,applyFilterChanges:S,deleteFilter:D,hasMultipleFilters:I,showMultiFilterOperators:U>0,disableMultiFilterOperator:U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:null,readOnly:!0,logicOperators:h,columnsSort:f},g),B.id==null?U:B.id)),P.map((B,U)=>x.jsx($5,G({item:B,applyFilterChanges:S,deleteFilter:D,hasMultipleFilters:I,showMultiFilterOperators:N.length+U>0,disableMultiFilterOperator:N.length+U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:U===P.length-1?c:null,logicOperators:h,columnsSort:f},g),B.id==null?U+N.length:B.id))]}),!o.disableMultipleColumnsFiltering&&!(y&&b)?x.jsxs(ZFe,{children:[y?x.jsx("span",{}):x.jsx(o.slots.baseButton,G({onClick:L,startIcon:x.jsx(o.slots.filterPanelAddIcon,{})},o.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!b&&P.length>0?x.jsx(o.slots.baseButton,G({onClick:$,startIcon:x.jsx(o.slots.filterPanelRemoveAllIcon,{})},o.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),uje=(e,t)=>{const n=new Set(Object.keys(e).filter(i=>e[i]===!1)),r=new Set(Object.keys(t).filter(i=>t[i]===!1));if(n.size!==r.size)return!1;let o=!0;return n.forEach(i=>{r.has(i)||(o=!1)}),o},dje=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,hje=["children"],fje=Bs({from:{opacity:0},to:{opacity:1}}),pje=Bs({"from, to":{"--scrollable":'" "'}}),gje=jn("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${pje};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${fje} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,mje=Zt(function(t,n){const{children:r}=t,o=pt(t,hje);return x.jsx(gje,G({},o,{ref:n,children:r}))}),vje=e=>{const{classes:t}=e;return ht({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},xn,t)},U5=new Intl.Collator;function yje(e){const t=hn(),n=_.useRef(null),r=tt(t,SDe),o=tt(t,Js),i=yt(),[s,a]=_.useState(""),c=vje(i),u=tt(t,Zs),h=tt(t,Kd),f=tt(t,i5),g=_.useMemo(()=>h?Array.from(f.values()):u,[h,f,u]),{sort:m,searchPredicate:y=dje,autoFocusSearchField:b=!0,disableShowHideToggle:v=!1,disableResetButton:S=!1,toggleAllMode:E="all",getTogglableColumns:T,searchInputProps:R,searchDebounceMs:M=i.columnFilterDebounceMs}=e,I=_.useMemo(()=>Kc(z=>{a(z)},M??150),[M]),N=_.useMemo(()=>uje(o,r),[o,r]),P=_.useMemo(()=>{switch(m){case"asc":return[...g].sort((z,K)=>U5.compare(z.headerName||z.field,K.headerName||K.field));case"desc":return[...g].sort((z,K)=>-U5.compare(z.headerName||z.field,K.headerName||K.field));default:return g}},[g,m]),L=z=>{const{name:K}=z.target;t.current.setColumnVisibility(K,o[K]===!1)},D=_.useMemo(()=>{const z=T?T(P):null,K=z?P.filter(({field:Z})=>z.includes(Z)):P;return s?K.filter(Z=>y(Z,s.toLowerCase())):K},[P,s,y,T]),$=_.useCallback(z=>{const K=Js(t),Z=G({},K),le=T?T(g):null;return(E==="filteredOnly"?D:g).forEach(ce=>{ce.hideable&&(le==null||le.includes(ce.field))&&(z?delete Z[ce.field]:Z[ce.field]=!1)}),t.current.setColumnVisibilityModel(Z)},[t,g,T,E,D]),B=_.useCallback(z=>{I(z.target.value)},[I]),U=_.useMemo(()=>D.filter(z=>z.hideable),[D]),q=_.useMemo(()=>U.every(z=>o[z.field]==null||o[z.field]!==!1),[o,U]),W=_.useMemo(()=>U.every(z=>o[z.field]===!1),[o,U]),V=_.useRef(null);_.useEffect(()=>{b?n.current?.focus():V.current&&typeof V.current.focus=="function"&&V.current.focus()},[b]);let Y=!1;const J=z=>Y===!1&&z.hideable!==!1?(Y=!0,!0):!1,ne=_.useCallback(()=>{a(""),n.current&&(n.current.value="",n.current.focus())},[]);return x.jsxs(_.Fragment,{children:[x.jsx(Sje,{className:c.header,ownerState:i,children:x.jsx(Cje,G({as:i.slots.baseTextField,ownerState:i,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:c.searchInput,onChange:B,size:"small",type:"search",slotProps:{input:{startAdornment:x.jsx(i.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:x.jsx(i.slots.baseIconButton,G({size:"small","aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:ne,edge:"end"},i.slotProps?.baseIconButton,{children:x.jsx(i.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},i.slotProps?.baseTextField,R))}),x.jsx(wje,{ownerState:i,children:x.jsxs(bje,{className:c.root,ownerState:i,children:[D.map(z=>x.jsx(Eje,G({as:i.slots.baseCheckbox,className:c.row,disabled:z.hideable===!1||h,checked:o[z.field]!==!1,onChange:L,name:z.field,inputRef:J(z)?V:void 0,label:z.headerName||z.field,density:"compact",fullWidth:!0},i.slotProps?.baseCheckbox),z.field)),D.length===0&&x.jsx(_je,{ownerState:i,children:t.current.getLocaleText("columnsManagementNoColumns")})]})}),!v||!S?x.jsxs(xje,{ownerState:i,className:c.footer,children:[v?x.jsx("span",{}):x.jsx(i.slots.baseCheckbox,G({disabled:U.length===0||h,checked:q,indeterminate:!q&&!W,onChange:()=>$(!q),name:t.current.getLocaleText("columnsManagementShowHideAllText"),label:t.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},i.slotProps?.baseCheckbox)),S?null:x.jsx(i.slots.baseButton,G({onClick:()=>t.current.setColumnVisibilityModel(r),disabled:N||h},i.slotProps?.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const bje=we("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:wt.spacing(.5,1.5)}),wje=we(mje,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),Sje=we("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:wt.spacing(1.5,2),borderBottom:`1px solid ${wt.colors.border.base}`}),Cje=we(pl,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${ei.input}::-webkit-search-decoration,
      & .${ei.input}::-webkit-search-cancel-button,
      & .${ei.input}::-webkit-search-results-button,
      & .${ei.input}::-webkit-search-results-decoration`]:{display:"none"}}),xje=we("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:wt.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${wt.colors.border.base}`}),_je=we("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:wt.spacing(1,0),alignSelf:"center",font:wt.typography.font.body}),Eje=we(pl,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({}),Tje=Zt(function(t,n){const{children:r,slotProps:o={}}=t,i=o.button||{},s=o.tooltip||{},a=hn(),c=yt(),u=Dn(),h=Dn(),[f,g]=_.useState(!1),m=_.useRef(null),y=Tn(n,m),b=S=>{g(E=>!E),i.onClick?.(S)},v=()=>g(!1);return r==null?null:x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,G({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},c.slotProps?.baseTooltip,s,{children:x.jsx(c.slots.baseButton,G({size:"small",startIcon:x.jsx(c.slots.exportIcon,{}),"aria-expanded":f,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":f?h:void 0,id:u},c.slotProps?.baseButton,i,{onClick:b,ref:y,children:a.current.getLocaleText("toolbarExport")}))})),x.jsx(Xw,{open:f,target:m.current,onClose:v,position:"bottom-end",children:x.jsx(c.slots.baseMenuList,{id:h,className:ie.menuList,"aria-labelledby":u,autoFocusItem:f,children:_.Children.map(r,S=>_.isValidElement(S)?_.cloneElement(S,{hideMenu:v}):S)})})]})}),Mje=["hideMenu","options"],Oje=["hideMenu","options"],Rje=["csvOptions","printOptions","excelOptions"];function Ije(e){const t=hn(),n=yt(),{hideMenu:r,options:o}=e,i=pt(e,Mje);return x.jsx(n.slots.baseMenuItem,G({onClick:()=>{t.current.exportDataAsCsv(o),r?.()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function Pje(e){const t=hn(),n=yt(),{hideMenu:r,options:o}=e,i=pt(e,Oje);return x.jsx(n.slots.baseMenuItem,G({onClick:()=>{t.current.exportDataAsPrint(o),r?.()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}Zt(function(t,n){const r=t,{csvOptions:o={},printOptions:i={},excelOptions:s}=r,a=pt(r,Rje),u=hn().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:o,printOptions:i}).sort((h,f)=>h.componentName>f.componentName?1:-1);return u.length===0?null:x.jsx(Tje,G({},a,{ref:n,children:u.map((h,f)=>_.cloneElement(h.component,{key:f}))}))});const H5=_.createContext(void 0);function qR(){const e=_.useContext(H5);if(e===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}const kje=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],Dje=e=>e.split(" ").filter(t=>t!==""),Aje=e=>e.join(" ");function Lje(e){const t=yt(),{render:n,className:r,parser:o=Dje,formatter:i=Aje,debounceMs:s=t.filterDebounceMs,defaultExpanded:a,expanded:c,onExpandedChange:u}=e,h=pt(e,kje),f=hn(),g=_.useRef(null),m=_.useRef(null),y=tt(f,R2),[b,v]=_.useState(i(y??[])),[S,E]=_.useState(a??b.length>0),T=c??S,R=_.useMemo(()=>({value:b,expanded:T}),[b,T]),M=typeof r=="function"?r(R):r,I=_.useRef(null),N=Dn(),P=_.useCallback(Y=>{u&&u(Y),c===void 0&&E(Y)},[u,c]),L=_.useRef(y);_.useEffect(()=>{ea(L.current,y)||(L.current=y,v(Y=>ea(o(Y),y)?Y:i(y??[])))},[y,i,o]);const D=_.useRef(!0),$=_.useRef(T);_.useEffect(()=>{if(D.current){D.current=!1;return}$.current!==T&&(T?requestAnimationFrame(()=>{g.current?.focus({preventScroll:!0})}):m.current?.focus({preventScroll:!0}),$.current=T)},[T]);const B=_.useMemo(()=>Kc(Y=>{const J=o(Y);L.current=J,f.current.setQuickFilterValues(J)},s),[f,s,o]);_.useEffect(()=>B.clear,[B]);const U=_.useCallback(Y=>{const J=Y.target.value;v(J),B(J)},[B]),q=_.useCallback(()=>{v(""),f.current.setQuickFilterValues([]),g.current?.focus()},[f,g]),W=_.useMemo(()=>({controlRef:g,triggerRef:m,state:R,controlId:N,clearValue:q,onValueChange:U,onExpandedChange:P}),[N,R,U,q,P]);Un(()=>{I.current&&m.current&&I.current.style.setProperty("--trigger-width",`${m.current?.offsetWidth}px`)},[]);const V=yl("div",n,G({className:M},h,{ref:I}),R);return x.jsx(H5.Provider,{value:W,children:V})}const Nje=["render","className","slotProps","onKeyDown","onChange"],Bje=Zt(function(t,n){const{render:r,className:o,slotProps:i,onKeyDown:s,onChange:a}=t,c=pt(t,Nje),u=yt(),{state:h,controlId:f,controlRef:g,onValueChange:m,onExpandedChange:y,clearValue:b}=qR(),v=typeof o=="function"?o(h):o,S=Tn(g,n),E=I=>{I.key==="Escape"&&(h.value===""?y(!1):b()),s?.(I)},T=I=>{h.value===""&&y(!1),i?.htmlInput?.onBlur?.(I)},R=I=>{h.expanded||y(!0),m(I),a?.(I)},M=yl(u.slots.baseTextField,r,G({},u.slotProps?.baseTextField,{slotProps:G({htmlInput:G({role:"searchbox",id:f,tabIndex:h.expanded?void 0:-1},i?.htmlInput,{onBlur:T})},i),value:h.value,className:v},c,{onChange:R,onKeyDown:E,ref:S}),h);return x.jsx(_.Fragment,{children:M})}),Fje=["render","className","onClick"],jje=Zt(function(t,n){const{render:r,className:o,onClick:i}=t,s=pt(t,Fje),a=yt(),{state:c,clearValue:u}=qR(),h=typeof o=="function"?o(c):o,f=m=>{u(),i?.(m)},g=yl(a.slots.baseIconButton,r,G({},a.slotProps?.baseIconButton,{className:h,tabIndex:-1},s,{onClick:f,ref:n}),c);return x.jsx(_.Fragment,{children:g})}),Vje=["render","className","onClick"],$je=Zt(function(t,n){const{render:r,className:o,onClick:i}=t,s=pt(t,Vje),a=yt(),{state:c,controlId:u,onExpandedChange:h,triggerRef:f}=qR(),g=typeof o=="function"?o(c):o,m=Tn(f,n),y=v=>{h(!c.expanded),i?.(v)},b=yl(a.slots.baseButton,r,G({},a.slotProps?.baseButton,{className:g,"aria-controls":u,"aria-expanded":c.expanded},s,{onClick:y,ref:m}),c);return x.jsx(_.Fragment,{children:b})}),zje=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],Uje=["ref","slotProps"],Hje=e=>{const{classes:t}=e;return ht({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},xn,t)},Gje=jn("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),Wje=jn(mS,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:e})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:e.expanded?0:1,pointerEvents:e.expanded?"none":"auto",transition:wt.transition(["opacity"])})),Kje=jn(e=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:e})=>({gridArea:"1 / 1",overflowX:"clip",width:e.expanded?260:"var(--trigger-width)",opacity:e.expanded?1:0,transition:wt.transition(["width","opacity"])}));function qje(e){const t=hn(),n=yt(),r={classes:n.classes,expanded:!1},o=Hje(r),{quickFilterParser:i,quickFilterFormatter:s,debounceMs:a,className:c,slotProps:u}=e,h=pt(e,zje);return x.jsx(Lje,{parser:i,formatter:s,debounceMs:a,render:(f,g)=>{const m=G({},r,{expanded:g.expanded});return x.jsxs(Gje,G({},f,{className:Ke(o.root,c),children:[x.jsx($je,{render:y=>x.jsx(n.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:x.jsx(Wje,G({className:o.trigger},y,{ownerState:m,color:"default","aria-disabled":g.expanded,children:x.jsx(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),x.jsx(Bje,{render:y=>{let{ref:b,slotProps:v}=y,S=pt(y,Uje);return x.jsx(Kje,G({as:n.slots.baseTextField,className:o.control,ownerState:m,inputRef:b,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:G({input:G({startAdornment:x.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:S.value?x.jsx(jje,{render:x.jsx(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:x.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},v?.input)},v)},n.slotProps?.baseTextField,S,u?.root,h))}})]}))}})}const Yje=["render","className","onClick","onPointerUp"],Xje=Zt(function(t,n){const{render:r,className:o,onClick:i,onPointerUp:s}=t,a=pt(t,Yje),c=yt(),u=Dn(),h=Dn(),f=hn(),g=tt(f,qd),m=g.open&&g.openedPanelValue===Mi.filters,b=tt(f,kR).length,v={open:m,filterCount:b},S=typeof o=="function"?o(v):o,{filterPanelTriggerRef:E}=WR(),T=Tn(n,E),R=N=>{m?f.current.hidePreferences():f.current.showPreferences(Mi.filters,h,u),i?.(N)},M=N=>{m&&N.stopPropagation(),s?.(N)},I=yl(c.slots.baseButton,r,G({},c.slotProps?.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,onClick:R,onPointerUp:M,className:S},a,{ref:T}),v);return x.jsx(_.Fragment,{children:I})}),Zje=["render","className","onClick","onPointerUp"],Jje=Zt(function(t,n){const{render:r,className:o,onClick:i,onPointerUp:s}=t,a=pt(t,Zje),c=yt(),u=Dn(),h=Dn(),f=hn(),g=tt(f,qd),m=g.open&&g.openedPanelValue===Mi.columns,y={open:m},b=typeof o=="function"?o(y):o,{columnsPanelTriggerRef:v}=WR(),S=Tn(n,v),E=M=>{m?f.current.hidePreferences():f.current.showPreferences(Mi.columns,h,u),i?.(M)},T=M=>{m&&M.stopPropagation(),s?.(M)},R=yl(c.slots.baseButton,r,G({},c.slotProps?.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,className:b},a,{onPointerUp:T,onClick:E,ref:S}),y);return x.jsx(_.Fragment,{children:R})}),Qje=["render","options","onClick"],eVe=Zt(function(t,n){const{render:r,options:o,onClick:i}=t,s=pt(t,Qje),a=yt(),c=hn(),u=f=>{c.current.exportDataAsCsv(o),i?.(f)},h=yl(a.slots.baseButton,r,G({},a.slotProps?.baseButton,{onClick:u},s,{ref:n}));return x.jsx(_.Fragment,{children:h})}),tVe=["render","options","onClick"],nVe=Zt(function(t,n){const{render:r,options:o,onClick:i}=t,s=pt(t,tVe),a=yt(),c=hn(),u=f=>{c.current.exportDataAsPrint(o),i?.(f)},h=yl(a.slots.baseButton,r,G({},a.slotProps?.baseButton,{onClick:u},s,{ref:n}));return x.jsx(_.Fragment,{children:h})}),rVe=["className"],oVe=["className"],G5=e=>{const{classes:t}=e;return ht({divider:["toolbarDivider"],label:["toolbarLabel"]},xn,t)},iVe=jn(pl,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:wt.spacing(0,.5)}),sVe=jn("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:wt.typography.font.large,fontWeight:wt.typography.fontWeight.medium,margin:wt.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function W5(e){const t=pt(e,rVe),n=yt(),r=G5(n);return x.jsx(iVe,G({as:n.slots.baseDivider,orientation:"vertical",className:r.divider},t))}function aVe(e){const t=pt(e,oVe),n=yt(),r=G5(n);return x.jsx(sVe,G({className:r.label},t))}function lVe(e){const{showQuickFilter:t=!0,quickFilterProps:n,csvOptions:r,printOptions:o,additionalItems:i,additionalExportMenuItems:s}=e,a=hn(),c=yt(),[u,h]=_.useState(!1),f=_.useRef(null),g=Dn(),m=Dn(),y=!r?.disableToolbarButton||!o?.disableToolbarButton||s,b=()=>h(!1);return x.jsxs(I5,{children:[c.label&&x.jsx(aVe,{children:c.label}),!c.disableColumnSelector&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarColumns"),children:x.jsx(Jje,{render:x.jsx(mS,{}),children:x.jsx(c.slots.columnSelectorIcon,{fontSize:"small"})})}),!c.disableColumnFilter&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarFilters"),children:x.jsx(Xje,{render:(v,S)=>x.jsx(mS,G({},v,{color:S.filterCount>0?"primary":"default",children:x.jsx(c.slots.baseBadge,{badgeContent:S.filterCount,color:"primary",variant:"dot",children:x.jsx(c.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),i,y&&(!c.disableColumnFilter||!c.disableColumnSelector)&&x.jsx(W5,{}),y&&x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarExport"),disableInteractive:u,children:x.jsx(mS,{ref:f,id:m,"aria-controls":g,"aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:()=>h(!u),children:x.jsx(c.slots.exportIcon,{fontSize:"small"})})}),x.jsx(Xw,{target:f.current,open:u,onClose:b,position:"bottom-end",children:x.jsxs(c.slots.baseMenuList,G({id:g,"aria-labelledby":m,autoFocusItem:!0},c.slotProps?.baseMenuList,{children:[!o?.disableToolbarButton&&x.jsx(nVe,{render:x.jsx(c.slots.baseMenuItem,G({},c.slotProps?.baseMenuItem)),options:o,onClick:b,children:a.current.getLocaleText("toolbarExportPrint")}),!r?.disableToolbarButton&&x.jsx(eVe,{render:x.jsx(c.slots.baseMenuItem,G({},c.slotProps?.baseMenuItem)),options:r,onClick:b,children:a.current.getLocaleText("toolbarExportCSV")}),s?.(b)]}))})]}),t&&x.jsxs(_.Fragment,{children:[x.jsx(W5,{}),x.jsx(qje,G({},n))]})]})}const cVe=["className","selectedRowCount"],uVe=e=>{const{classes:t}=e;return ht({root:["selectedRowCount"]},xn,t)},dVe=jn("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:wt.spacing(0,2),visibility:"hidden",width:0,height:0,[wt.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),hVe=Zt(function(t,n){const{className:r,selectedRowCount:o}=t,i=pt(t,cVe),s=hn(),a=yt(),c=uVe(a),u=s.current.getLocaleText("footerRowSelected")(o);return x.jsx(dVe,G({className:Ke(c.root,r),ownerState:a},i,{ref:n,children:u}))}),fVe=Zt(function(t,n){const r=hn(),o=yt(),i=tt(r,Bke),s=tt(r,tS),a=tt(r,PR),c=!o.hideFooterSelectedRowCount&&s>0?x.jsx(hVe,{selectedRowCount:s}):x.jsx("div",{}),u=!o.hideFooterRowCount&&!o.pagination?x.jsx(o.slots.footerRowCount,G({},o.slotProps?.footerRowCount,{rowCount:i,visibleRowCount:a})):null,h=o.pagination&&!o.hideFooterPagination&&o.slots.pagination&&x.jsx(o.slots.pagination,G({},o.slotProps?.pagination));return x.jsxs(gBe,G({},t,{ref:n,children:[c,u,h]}))}),km=(e,t,n,r,o,i)=>{let s;switch(e){case On.LEFT:s=r[n];break;case On.RIGHT:s=o-r[n]-t+i;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},yS=(e,t,n,r,o)=>{const i=t===n-1;return e===On.LEFT&&i?!0:r?e===On.LEFT?!0:e===On.RIGHT?!i:!i||o:!1},bS=(e,t)=>e===On.RIGHT&&t===0,Dm={root:ie.scrollbarFiller,header:ie["scrollbarFiller--header"],borderTop:ie["scrollbarFiller--borderTop"],borderBottom:ie["scrollbarFiller--borderBottom"],pinnedRight:ie["scrollbarFiller--pinnedRight"]};function YR({header:e,borderTop:t=!0,borderBottom:n,pinnedRight:r}){return x.jsx("div",{role:"presentation",className:Ke(Dm.root,e&&Dm.header,t&&Dm.borderTop,n&&Dm.borderBottom,r&&Dm.pinnedRight)})}const pVe=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],gVe=jn("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),mVe=e=>{const{classes:t}=e;return ht({root:["skeletonLoadingOverlay"]},xn,t)},K5=e=>parseInt(e.getAttribute("data-colindex"),10),vVe=Zt(function(t,n){const r=yt(),{slots:o}=r,i=Uo(),s=mVe({classes:r.classes}),a=_.useRef(null),c=Tn(a,n),u=hn(),h=tt(u,Xr),f=tt(u,yR),g=tt(u,Ud),m=_.useMemo(()=>g.filter(P=>P<=f).length,[f,g]),{skeletonRowsCount:y,visibleColumns:b,showFirstRowBorder:v}=t,S=pt(t,pVe),E=tt(u,Zr),T=_.useMemo(()=>E.slice(0,m),[E,m]),R=tt(u,Kw),M=_.useCallback(P=>{if(R.left.findIndex(L=>L.field===P)!==-1)return On.LEFT;if(R.right.findIndex(L=>L.field===P)!==-1)return On.RIGHT},[R.left,R.right]),I=_.useMemo(()=>{const P=[];for(let L=0;L<y;L+=1){const D=[];for(let $=0;$<T.length;$+=1){const B=T[$],U=M(B.field),q=U===On.LEFT,W=U===On.RIGHT,V=x5(U,i),Y=V?R[V].length:T.length-R.left.length-R.right.length,J=V?R[V].findIndex(Se=>Se.field===B.field):$-R.left.length,ne=h.hasScrollY?h.scrollbarSize:0,z=fS({},i,U,km(U,B.computedWidth,$,g,h.columnsTotalWidth,ne)),K=h.columnsTotalWidth<h.viewportOuterSize.width,Z=yS(U,J,Y,r.showCellVerticalBorder,K),le=bS(U,J),ce=$===T.length-1,ue=W&&J===0,ae=ue&&K,ye=ce&&!ue&&K,Me=h.viewportOuterSize.width-h.columnsTotalWidth,xe=Math.max(0,Me),he=x.jsx(o.skeletonCell,{width:xe,empty:!0},`skeleton-filler-column-${L}`),pe=ce&&ne!==0;ae&&D.push(he),D.push(x.jsx(o.skeletonCell,{field:B.field,type:B.type,align:B.align,width:"var(--width)",height:h.rowHeight,"data-colindex":$,empty:b&&!b.has(B.field),className:Ke(q&&ie["cell--pinnedLeft"],W&&ie["cell--pinnedRight"],Z&&ie["cell--withRightBorder"],le&&ie["cell--withLeftBorder"]),style:G({"--width":`${B.computedWidth}px`},z)},`skeleton-column-${L}-${B.field}`)),ye&&D.push(he),pe&&D.push(x.jsx(YR,{pinnedRight:R.right.length>0},`skeleton-scrollbar-filler-${L}`))}P.push(x.jsx("div",{className:Ke(ie.row,ie.rowSkeleton,L===0&&!v&&ie["row--firstVisible"]),children:D},`skeleton-row-${L}`))}return P},[y,T,M,i,R,h.hasScrollY,h.scrollbarSize,h.columnsTotalWidth,h.viewportOuterSize.width,h.rowHeight,g,r.showCellVerticalBorder,o,b,v]);return Tt(u,"columnResize",P=>{const{colDef:L,width:D}=P,$=a.current?.querySelectorAll(`[data-field="${ic(L.field)}"]`);if(!$)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const B=T.findIndex(J=>J.field===L.field),U=M(L.field),q=U===On.LEFT,W=U===On.RIGHT,V=getComputedStyle($[0]).getPropertyValue("--width"),Y=parseInt(V,10)-D;$&&$.forEach(J=>{J.style.setProperty("--width",`${D}px`)}),q&&a.current?.querySelectorAll(`.${ie["cell--pinnedLeft"]}`)?.forEach(ne=>{K5(ne)>B&&(ne.style.left=`${parseInt(getComputedStyle(ne).left,10)-Y}px`)}),W&&a.current?.querySelectorAll(`.${ie["cell--pinnedRight"]}`)?.forEach(ne=>{K5(ne)<B&&(ne.style.right=`${parseInt(getComputedStyle(ne).right,10)+Y}px`)})}),x.jsx(gVe,G({className:s.root},S,{ref:c,children:I}))}),yVe=Zt(function(t,n){const r=hn(),o=tt(r,Xr),i=o?.viewportInnerSize.height??0,s=Math.ceil(i/o.rowHeight);return x.jsx(vVe,G({},t,{skeletonRowsCount:s,ref:n}))}),bVe=["variant","noRowsVariant","style"],wVe={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>yVe,style:{display:"block"}}},SVe=Zt(function(t,n){const{variant:r="linear-progress",noRowsVariant:o="skeleton",style:i}=t,s=pt(t,bVe),a=hn(),c=yt(),u=tt(a,gf),h=wVe[u===0?o:r],f=h.component(c);return x.jsx(gS,G({style:G({},h.style,i)},s,{ref:n,children:x.jsx(f,{})}))}),CVe=Zt(function(t,n){const o=hn().current.getLocaleText("noRowsLabel");return x.jsx(gS,G({},t,{ref:n,children:o}))}),xVe=Zt(function(t,n){const r=yt(),o=hn(),i=tt(o,vl),s=()=>{o.current.showPreferences(Mi.columns)},a=!r.disableColumnSelector&&i.length>0;return x.jsxs(gS,G({},t,{ref:n,children:[o.current.getLocaleText("noColumnsOverlayLabel"),a&&x.jsx(r.slots.baseButton,G({size:"small"},r.slotProps?.baseButton,{onClick:s,children:o.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),_Ve=we(pl)({maxHeight:"calc(100% + 1px)",flexGrow:1});function EVe(){const e=hn(),t=yt(),n=tt(e,Wo),r=tt(e,wf),o=tt(e,U2),{paginationMode:i,loading:s}=t,a=r===-1&&i==="server"&&s,c=_.useMemo(()=>Math.max(0,o-1),[o]),u=_.useMemo(()=>r===-1||n.page<=c?n.page:c,[c,n.page,r]),h=_.useCallback(y=>{e.current.setPageSize(y)},[e]),f=_.useCallback((y,b)=>{e.current.setPage(b)},[e]),m=(y=>{for(let b=0;b<t.pageSizeOptions.length;b+=1){const v=t.pageSizeOptions[b];if(typeof v=="number"){if(v===y)return!0}else if(v.value===y)return!0}return!1})(n.pageSize)?t.pageSizeOptions:[];return x.jsx(_Ve,G({as:t.slots.basePagination,count:r,page:u,rowsPerPageOptions:m,rowsPerPage:n.pageSize,onPageChange:f,onRowsPerPageChange:h,disabled:a},t.slotProps?.basePagination))}const TVe=["className","rowCount","visibleRowCount"],MVe=e=>{const{classes:t}=e;return ht({root:["rowCount"]},xn,t)},OVe=jn("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:wt.spacing(0,2)}),RVe=Zt(function(t,n){const{className:r,rowCount:o,visibleRowCount:i}=t,s=pt(t,TVe),a=hn(),c=yt(),u=MVe(c);if(o===0)return null;const h=i<o?a.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return x.jsxs(OVe,G({className:Ke(u.root,r),ownerState:c},s,{ref:n,children:[a.current.getLocaleText("footerTotalRows")," ",h]}))});function IVe(e,t){return ht(t,xn,e)}const kf=(e,t)=>Em(e),q5=(e,t)=>tt(e,Em),PVe=Pr(e=>e.rowReorder),kVe=Ot(PVe,e=>e?.isActive??!1),DVe=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],AVe=Ot(Lo,(e,{rowReordering:t,treeData:n})=>!t||n?!1:!!Qw(e)),LVe=Zt(function(t,n){const{selected:r,rowId:o,row:i,index:s,style:a,rowHeight:c,className:u,visibleColumns:h,pinnedColumns:f,offsetLeft:g,columnsTotalWidth:m,firstColumnIndex:y,lastColumnIndex:b,focusedColumnIndex:v,isFirstVisible:S,isLastVisible:E,isNotVisible:T,showBottomBorder:R,scrollbarWidth:M,gridHasFiller:I,onClick:N,onDoubleClick:P,onMouseEnter:L,onMouseLeave:D,onMouseOut:$,onMouseOver:B}=t,U=pt(t,DVe),q=cs(),W=Yw(),V=_.useRef(null),Y=yt(),J=q5(q),ne=tt(q,Qs),z=tt(q,Ud),K=Y.rowReordering,Z=Y.treeData,le=tt(q,AVe,{rowReordering:K,treeData:Z}),ce=tt(q,kVe),ue=Tn(V,n),ae=fl(q,o),ye=tt(q,a5,{rowId:o,editMode:Y.editMode}),Me=Y.editMode===gl.Row,xe=v!==void 0,he=xe&&v>=f.left.length&&v<y,pe=xe&&v<h.length-f.right.length&&v>=b,Se=IVe(Y.classes,{root:["row",r&&"selected",Me&&"row--editable",ye&&"row--editing",S&&"row--firstVisible",E&&"row--lastVisible",R&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]}),Ee=W.hooks.useGridRowAriaAttributes();_.useLayoutEffect(()=>{if(J.range){const gt=q.current.getRowIndexRelativeToVisibleRows(o);gt!==void 0&&q.current.unstable_setLastMeasuredRowIndex(gt)}if(V.current&&c==="auto")return q.current.observeRowHeight(V.current,o)},[q,J.range,c,o]);const ke=_.useCallback((gt,_t)=>Ge=>{Im(Ge)||q.current.getRow(o)&&(q.current.publishEvent(gt,q.current.getRowParams(o),Ge),_t&&_t(Ge))},[q,o]),Te=_.useCallback(gt=>{const Ge=vS(gt.target,ie.cell)?.getAttribute("data-field");Ge&&(Ge===Cf.field||Ge===OR||Ge==="__reorder__"||q.current.getCellMode(o,Ge)===qn.Edit||q.current.getColumn(Ge)?.type===Zw)||ke("rowClick",N)(gt)},[q,N,ke,o]),{slots:Ve,slotProps:rt,disableColumnReorder:je}=Y,Rt=tt(q,()=>G({},q.current.getRowHeightEntry(o)),void 0,YG),dt=_.useMemo(()=>{if(T)return{opacity:0,width:0,height:0};const gt=G({},a,{maxHeight:c==="auto"?"none":c,minHeight:c,"--height":typeof c=="number"?`${c}px`:c});if(Rt.spacingTop){const _t=Y.rowSpacingType==="border"?"borderTopWidth":"marginTop";gt[_t]=Rt.spacingTop}if(Rt.spacingBottom){const _t=Y.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Ge=gt[_t];typeof Ge!="number"&&(Ge=parseInt(Ge||"0",10)),Ge+=Rt.spacingBottom,gt[_t]=Ge}return gt},[T,c,a,Rt,Y.rowSpacingType]);if(!ae)return null;const Ct=q.current.unstable_applyPipeProcessors("rowClassName",[],o),$e=Ee(ae,s);if(typeof Y.getRowClassName=="function"){const gt=s-(J.range?.firstRowIndex||0),_t=G({},q.current.getRowParams(o),{isFirstVisible:gt===0,isLastVisible:gt===J.rows.length-1,indexRelativeToCurrentPage:gt});Ct.push(Y.getRowClassName(_t))}const It=(gt,_t,Ge,ct,ut=On.NONE)=>{const St=q.current.unstable_getCellColSpanInfo(o,Ge);if(St?.spannedByColSpan)return null;const at=St?.cellProps.width??gt.computedWidth,At=St?.cellProps.colSpan??1,ft=km(ut,gt.computedWidth,Ge,z,m,M);if(ae.type==="skeletonRow")return x.jsx(Ve.skeletonCell,{type:gt.type,width:at,height:c,field:gt.field,align:gt.align},gt.field);const Pt=gt.field==="__reorder__",Pn=!(je||gt.disableReorder),An=le&&!ne.length,cr=!(Pn||Pt&&An||ce),_n=ut===On.VIRTUAL,Er=bS(ut,_t),Yn=yS(ut,_t,ct,Y.showCellVerticalBorder,I);return x.jsx(Ve.cell,G({column:gt,width:at,rowId:o,align:gt.align||"left",colIndex:Ge,colSpan:At,disableDragEvents:cr,isNotVisible:_n,pinnedOffset:ft,pinnedPosition:ut,showLeftBorder:Er,showRightBorder:Yn,row:i,rowNode:ae},rt?.cell),gt.field)},mt=f.left.map((gt,_t)=>It(gt,_t,_t,f.left.length,On.LEFT)),Bt=f.right.map((gt,_t)=>{const Ge=h.length-f.right.length+_t;return It(gt,_t,Ge,f.right.length,On.RIGHT)}),zt=h.length-f.left.length-f.right.length,qt=[];he&&qt.push(It(h[v],v-f.left.length,v,zt,On.VIRTUAL));for(let gt=y;gt<b;gt+=1){const _t=h[gt],Ge=gt-f.left.length;_t&&qt.push(It(_t,Ge,gt,zt))}pe&&qt.push(It(h[v],v-f.left.length,v,zt,On.VIRTUAL));const tn=i?{onClick:Te,onDoubleClick:ke("rowDoubleClick",P),onMouseEnter:ke("rowMouseEnter",L),onMouseLeave:ke("rowMouseLeave",D),onMouseOut:ke("rowMouseOut",$),onMouseOver:ke("rowMouseOver",B)}:null;return x.jsxs("div",G({"data-id":o,"data-rowindex":s,role:"row",className:Ke(...Ct,Se.root,u),style:dt},$e,tn,U,{ref:ue,children:[mt,x.jsx("div",{role:"presentation",className:ie.cellOffsetLeft,style:{width:g}}),qt,x.jsx("div",{role:"presentation",className:Ke(ie.cell,ie.cellEmpty)}),Bt,M!==0&&x.jsx(YR,{pinnedRight:f.right.length>0,borderTop:!S})]}))}),NVe=tc(LVe),BVe=()=>{const e=cs(),t=yt(),n=tt(e,Zr),r=tt(e,IR),o=tt(e,Mm),i=tt(e,jG),s=t["aria-label"],a=t["aria-labelledby"];return{role:"grid","aria-label":!s&&!a&&t.label?t.label:s,"aria-labelledby":a,"aria-colcount":n.length,"aria-rowcount":o+1+i+r,"aria-multiselectable":DR(t)}},FVe=()=>{const e=cs(),t=tt(e,Mm);return _.useCallback((n,r)=>{const o={},i=r+t+2;return o["aria-rowindex"]=i,n&&e.current.isRowSelectable(n.id)&&(o["aria-selected"]=e.current.isRowSelected(n.id)),o},[e,t])},jVe=e=>({setRowIndex:_.useCallback((n,r)=>{const o=fl(e,n);if(!o)throw new Error(`MUI X: No row with id #${n} found.`);if(o.parent!==Do)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(o.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(i=>{const s=Go(e)[Do],a=s.children,c=a.findIndex(h=>h===n);if(c===-1||c===r)return i;const u=[...a];return u.splice(r,0,u.splice(c,1)[0]),G({},i,{rows:G({},i.rows,{tree:G({},i.rows.tree,{[Do]:G({},s,{children:u})})})})}),e.current.publishEvent("rowsSet")},[e])});function VVe({privateApiRef:e,configuration:t,props:n,children:r}){const o=_.useRef(e.current.getPublicApi());return x.jsx(_2.Provider,{value:t,children:x.jsx(TG.Provider,{value:n,children:x.jsx(n5.Provider,{value:e,children:x.jsx(MG.Provider,{value:o,children:x.jsx(iBe,{children:x.jsx(LDe,{children:r})})})})})})}const $Ve=e=>{const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),o=_.useRef(null),i=_.useRef(null),s=_.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:o,virtualScrollbarHorizontalRef:i,columnHeadersContainerRef:s})},zVe=e=>{const t=Uo();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const n=_.useRef(!0);_.useEffect(()=>{n.current?n.current=!1:e.current.setState(r=>G({},r,{isRtl:t}))},[e,t])},UVe=mDe()&&window.localStorage.getItem("DEBUG")!=null,Am=()=>{},HVe={debug:Am,info:Am,warn:Am,error:Am},Y5=["debug","info","warn","error"];function X5(e,t,n=console){const r=Y5.indexOf(t);if(r===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return Y5.reduce((i,s,a)=>(a>=r?i[s]=(...c)=>{const[u,...h]=c;n[s](`MUI X: ${e} - ${u}`,...h)}:i[s]=Am,i),{})}const GVe=(e,t)=>{const n=_.useCallback(r=>UVe?X5(r,"debug",t.logger):t.logLevel?X5(r,t.logLevel.toString(),t.logger):HVe,[t.logLevel,t.logger]);Sn(e,{getLogger:n},"private")},WVe=(e,t)=>{const n=_.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:n})};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function KVe(e,t){if(Lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nm(e){var t=KVe(e,"string");return Lm(t)=="symbol"?t:t+""}const qVe=e=>{const t=_.useRef({}),n=_.useRef(!1),r=_.useCallback(f=>{n.current||!f||(n.current=!0,Object.values(f.appliers).forEach(g=>{g()}),n.current=!1)},[]),o=_.useCallback((f,g,m)=>{t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const y=t.current[f];return y.processors.get(g)!==m&&(y.processors.set(g,m),y.processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null),y.processorsUpdated=!0),()=>{t.current[f].processors.set(g,null),t.current[f].processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null)}},[]),i=_.useCallback((f,g,m)=>(t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[f].appliers[g]=m,()=>{const y=t.current[f].appliers,b=pt(y,[g].map(Nm));t.current[f].appliers=b}),[]),s=_.useCallback(f=>{r(t.current[f])},[r]),a=_.useCallback(()=>{for(const f in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,f))continue;const g=t.current[f];g.processorsUpdated&&(g.processorsUpdated=!1,r(g))}},[r]),c=_.useCallback((...f)=>{const[g,m,y]=f;if(!t.current[g])return m;const b=t.current[g].processorsAsArray;let v=m;for(let S=0;S<b.length;S+=1)v=b[S](v,y);return v},[]),u={registerPipeProcessor:o,registerPipeApplier:i,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:a},h={unstable_applyPipeProcessors:c};Sn(e,u,"private"),Sn(e,h,"public")},$r=(e,t,n,r=!0)=>{const o=_.useRef(null),i=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=_.useCallback(()=>{o.current=e.current.registerPipeProcessor(t,i.current,n)},[e,n,t]);Wd(()=>{r&&s()});const a=_.useRef(!0);_.useEffect(()=>(a.current?a.current=!1:r&&s(),()=>{o.current&&(o.current(),o.current=null)}),[s,r])},XR=(e,t,n)=>{const r=_.useRef(null),o=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=_.useCallback(()=>{r.current=e.current.registerPipeApplier(t,o.current,n)},[e,n,t]);Wd(()=>{i()});const s=_.useRef(!0);_.useEffect(()=>(s.current?s.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])};let uu=(function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e})({});const Bm=(e,t,n,r)=>{const o=_.useCallback(()=>{e.current.registerStrategyProcessor(t,n,r)},[e,r,n,t]);Wd(()=>{o()});const i=_.useRef(!0);_.useEffect(()=>{i.current?i.current=!1:o()},[o])},Xd="none",Z5={dataSourceRowsUpdate:uu.DataSource,rowTreeCreation:uu.RowTree,filtering:uu.RowTree,sorting:uu.RowTree,visibleRowsLookupCreation:uu.RowTree},YVe=e=>{const t=_.useRef(new Map),n=_.useRef({}),r=_.useCallback((c,u,h)=>{const f=()=>{const y=n.current[u],b=pt(y,[c].map(Nm));n.current[u]=b};n.current[u]||(n.current[u]={});const g=n.current[u],m=g[c];return g[c]=h,!m||m===h||c===e.current.getActiveStrategy(Z5[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),f},[e]),o=_.useCallback((c,u)=>{const h=e.current.getActiveStrategy(Z5[c]);if(h==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=n.current[c];if(!f||!f[h])throw new Error(`No processor found for processor "${c}" on strategy "${h}"`);const g=f[h];return g(u)},[e]),i=_.useCallback(c=>Array.from(t.current.entries()).find(([,f])=>f.group!==c?!1:f.isAvailable())?.[0]??Xd,[]),s=_.useCallback((c,u,h)=>{t.current.set(u,{group:c,isAvailable:h}),e.current.publishEvent("strategyAvailabilityChange")},[e]);Sn(e,{registerStrategyProcessor:r,applyStrategyProcessor:o,getActiveStrategy:i,setStrategyAvailability:s},"private")},XVe=e=>{const t=_.useRef({}),n=_.useCallback(a=>{t.current[a.stateId]=a},[]),r=_.useCallback((a,c)=>{let u;if(gDe(a)?u=a(e.current.state):u=a,e.current.state===u)return!1;const h={current:{state:u}};let f=!1;const g=[];if(Object.keys(t.current).forEach(m=>{const y=t.current[m],b=y.stateSelector(e),v=y.stateSelector(h);v!==b&&(g.push({stateId:y.stateId,hasPropChanged:v!==y.propModel}),y.propModel!==void 0&&v!==y.propModel&&(f=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(m=>m.stateId).join(", ")} in the same transaction.`);if(f||(e.current.state=u,e.current.publishEvent("stateChange",u),e.current.store.update(u)),g.length===1){const{stateId:m,hasPropChanged:y}=g[0],b=t.current[m],v=b.stateSelector(h);b.propOnChange&&y&&b.propOnChange(v,{reason:c,api:e.current}),f||e.current.publishEvent(b.changeEvent,v,{reason:c})}return!f},[e]),o=_.useCallback((a,c,u)=>e.current.setState(h=>G({},h,{[a]:c(h[a])}),u),[e]),i={setState:r},s={updateControlState:o,registerControlState:n};Sn(e,i,"public"),Sn(e,s,"private")},ZVe=(e,t)=>G({},e,{props:{listView:t.listView,getRowId:t.getRowId}}),JVe=(e,t)=>{_.useEffect(()=>{e.current.setState(n=>G({},n,{props:{listView:t.listView,getRowId:t.getRowId}}))},[e,t.listView,t.getRowId])},QVe=(e,t)=>{$Ve(e),JVe(e,t),zVe(e),GVe(e,t),XVe(e),qVe(e),YVe(e),WVe(e,t),e.current.register("private",{rootProps:t})},e$e=Ot(Ui,w5,Em,Zr,(e,t,n,r)=>{if(!e)return!1;const o=n.rowIdToIndexMap.get(e.id),i=r.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(a=>a.field===e.field);return!(o!==void 0&&i!==-1&&o>=t.firstRowIndex&&o<=t.lastRowIndex)}),t$e=Hn(e$e,Zr,Em,Ui,(e,t,n,r)=>{if(!e)return null;const o=n.rowIdToIndexMap.get(r.id);if(o===void 0)return null;const i=t.findIndex(s=>s.field===r.field);return i===-1?null:G({},r,{rowIndex:o,columnIndex:i})}),wS={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:gl.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function n$e(e){return e}const r$e=Ot(Zr,Ud,(e,t)=>{const n=e.length;return n===0?0:Yd(t[n-1]+e[n-1].computedWidth,1)}),o$e=()=>ZO((e,t,n,r,o)=>G({},e,{headerHeight:t,groupHeaderHeight:n,headerFilterHeight:r,headersTotalHeight:o}),{maxSize:1});function i$e(e,t){const n=Uo(),{listView:r}=t,o=tt(e,Zr),i=tt(e,gm),s=Kw(e),a=tt(e,Cm),c=ne=>a.has(ne)&&e.current.isRowSelectable(ne),u=q5(e),h=tt(e,xDe),f=tt(e,BG),g=tt(e,NG),{autoHeight:m}=t,y=r,b=tt(e,mm),v=WG(t.rowHeight,wS.rowHeight),S=Math.floor(v*b),E=Math.floor(t.columnHeaderHeight*b),T=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*b),R=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*b),M=tt(e,r$e),I=Om(e,t),N=s.left.reduce((ne,z)=>ne+z.computedWidth,0),P=s.right.reduce((ne,z)=>ne+z.computedWidth,0),L={rowHeight:S,headerHeight:E,columnsTotalWidth:M,leftPinnedWidth:N,rightPinnedWidth:P,topPinnedHeight:I,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},D=is(o$e).current,$=tt(e,gf),B=tt(e,bf),U=Math.min(B.enabled?B.paginationModel.pageSize:$,$),{getRowHeight:q,getEstimatedRowHeight:W,getRowSpacing:V}=t,Y=tt(e,t$e),J=fNe({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:L,virtualization:{isRtl:n,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:h,getColspan:(ne,z)=>{if(typeof z.colSpan=="function"){const K=e.current.getRow(ne),Z=e.current.getRowValue(K,z);return z.colSpan(Z,K,z,e)??0}return z.colSpan??1}},initialState:{scroll:t.initialState?.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:u.rows,range:u.range,rowCount:U,columns:o,pinnedRows:i,pinnedColumns:s,autoHeight:m,minimalContentHeight:HG,getRowHeight:_.useMemo(()=>{if(q)return ne=>q(G({},ne,{densityFactor:b}))},[q,b]),getEstimatedRowHeight:_.useMemo(()=>W?ne=>W(G({},ne,{densityFactor:b})):void 0,[W,b]),getRowSpacing:_.useMemo(()=>V?ne=>{const z=u.rowIdToIndexMap.get(ne.id)??-1,K={isFirstVisible:z===0,isLastVisible:z===u.rows.length-1,indexRelativeToCurrentPage:z};return V(G({},ne,K,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(ne.id)}))}:void 0,[e,V,u.rows,u.rowIdToIndexMap]),applyRowHeight:$t((ne,z)=>e.current.unstable_applyPipeProcessors("rowHeight",ne,z)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:$t(()=>Y),resizeThrottleMs:t.resizeThrottleMs,onResize:$t(ne=>e.current.publishEvent("resize",ne)),onWheel:$t(ne=>{e.current.publishEvent("virtualScrollerWheel",{},ne)}),onTouchMove:$t(ne=>{e.current.publishEvent("virtualScrollerTouchMove",{},ne)}),onRenderContextChange:$t(ne=>{e.current.publishEvent("renderedRowsIntervalChange",ne)}),onScrollChange:(ne,z)=>{e.current.publishEvent("scrollPositionChange",{top:ne.top,left:ne.left,renderContext:z})},scrollReset:y,renderRow:ne=>x.jsx(t.slots.row,G({row:ne.model,rowId:ne.id,index:ne.rowIndex,selected:c(ne.id),offsetLeft:ne.offsetLeft,columnsTotalWidth:M,rowHeight:ne.baseRowHeight,pinnedColumns:s,visibleColumns:o,firstColumnIndex:ne.firstColumnIndex,lastColumnIndex:ne.lastColumnIndex,focusedColumnIndex:ne.focusedColumnIndex,isFirstVisible:ne.isFirstVisible,isLastVisible:ne.isLastVisible,isNotVisible:ne.isVirtualFocusRow,showBottomBorder:ne.showBottomBorder,scrollbarWidth:f,gridHasFiller:g},t.slotProps?.row),ne.id),renderInfiniteLoadingTrigger:ne=>e.current.getInfiniteLoadingTriggerElement?.({lastRowId:ne})});Wd(()=>{e.current.store.state.dimensions=D(J.store.state.dimensions,E,T,R,I),e.current.store.state.rowsMeta=J.store.state.rowsMeta,e.current.store.state.virtualization=J.store.state.virtualization}),Pw(J.store,Hi.selectors.dimensions,(ne,z)=>{e.current.setState(K=>G({},K,{dimensions:D(z,E,T,R,I)}))}),Pw(J.store,n$e,(ne,z)=>{z.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(K=>G({},K,{rowsMeta:z.rowsMeta})),z.virtualization!==e.current.state.virtualization&&e.current.setState(K=>G({},K,{virtualization:z.virtualization}))}),e.current.register("private",{virtualizer:J})}const No=(e,t,n,r)=>{const o=_.useRef(r),i=_.useRef(!1);r!==o.current&&(i.current=!1,o.current=r),i.current||(t.current.state=e(t.current.state,n,t),i.current=!0)};function ZR(e,t){if(e==null)return"";const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const r=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(r[0])?`"'${r}"`:[t.delimiter,`
`,"\r",'"'].some(o=>n.includes(o))?`"${r}"`:r}return n}const J5=(e,t)=>{const{csvOptions:n,ignoreValueFormatter:r}=t;let o;if(r){const i=e.colDef.type;i==="number"?o=String(e.value):i==="date"||i==="dateTime"?o=e.value?.toISOString():typeof e.value?.toString=="function"?o=e.value.toString():o=e.value}else o=e.formattedValue;return ZR(o,n)};class JR{rowString="";isEmpty=!0;constructor(t){this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const s$e=({id:e,columns:t,getCellParams:n,csvOptions:r,ignoreValueFormatter:o})=>{const i=new JR({csvOptions:r});return t.forEach(s=>{const a=n(e,s.field);i.addValue(J5(a,{ignoreValueFormatter:o,csvOptions:r}))}),i.getRowString()};function a$e(e){const{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:o,apiRef:i}=e,s=n.reduce((f,g)=>`${f}${s$e({id:g,columns:t,getCellParams:i.current.getCellParams,ignoreValueFormatter:o,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return s;const a=t.filter(f=>f.field!==Cf.field),c=[];if(r.includeColumnGroupsHeaders){const f=i.current.getAllGroupDetails();let g=0;const m=a.reduce((y,b)=>{const v=i.current.getColumnGroupPath(b.field);return y[b.field]=v,g=Math.max(g,v.length),y},{});for(let y=0;y<g;y+=1){const b=new JR({csvOptions:r,sanitizeCellValue:ZR});c.push(b),a.forEach(v=>{const S=(m[v.field]||[])[y],E=f[S];b.addValue(E?E.headerName||E.groupId:"")})}}const u=new JR({csvOptions:r,sanitizeCellValue:ZR});return a.forEach(f=>{u.addValue(f.headerName||f.field)}),c.push(u),`${`${c.map(f=>f.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function Q5(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function l$e(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Q5(e)}):Q5(e)}function c$e(e){return!!(window.getSelection()?.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const u$e=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,r=(typeof n=="object"?n?.clipboardExport:n)||!1,o=t.clipboardCopyCellDelimiter,i=_.useCallback(s=>{if(!kDe(s)||c$e(s.target))return;let a="";if(tS(e)>0)a=e.current.getDataAsCsv({includeHeaders:!1,delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1});else{const u=Ui(e);if(u){const h=e.current.getCellParams(u.id,u.field);a=J5(h,{csvOptions:{delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}a=e.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(l$e(a),e.current.publishEvent("clipboardCopy",a))},[e,r,o]);r5(e,()=>e.current.rootElementRef.current,"keydown",i),lr(e,"clipboardCopy",t.onClipboardCopy)},d$e=e=>G({},e,{columnMenu:{open:!1}}),h$e=e=>{const t=Ko(e,"useGridColumnMenu"),n=_.useCallback(s=>{const a=cS(e),c={open:!0,field:s};(c.open!==a.open||c.field!==a.field)&&(e.current.setState(h=>h.columnMenu.open&&h.columnMenu.field===s?h:(t.debug("Opening Column Menu"),G({},h,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences())},[e,t]),r=_.useCallback(()=>{const s=cS(e);if(s.field){const u=rc(e),h=Js(e),f=vl(e);let g=s.field;if(u[g]||(g=f[0]),h[g]===!1){const m=f.filter(b=>b===g?!0:h[b]!==!1),y=m.indexOf(g);g=m[y+1]||m[y-1]}e.current.setColumnHeaderFocus(g)}const a={open:!1,field:void 0};(a.open!==s.open||a.field!==s.field)&&e.current.setState(u=>(t.debug("Hiding Column Menu"),G({},u,{columnMenu:a})))},[e,t]),o=_.useCallback(s=>{t.debug("Toggle Column Menu");const a=cS(e);!a.open||a.field!==s?n(s):r()},[e,t,n,r]);Sn(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o},"public"),Tt(e,"columnResizeStart",r),Tt(e,"virtualScrollerWheel",e.current.hideColumnMenu),Tt(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},f$e=(e,t,n)=>{n.current.caches.columns={lastColumnsProp:t.columns};const r=Tf({apiRef:n,columnsToUpsert:t.columns,initialState:t.initialState?.columns,columnVisibilityModel:t.columnVisibilityModel??t.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return G({},e,{columns:r,pinnedColumns:e.pinnedColumns??Ww})};function p$e(e,t){const n=Ko(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Js,changeEvent:"columnVisibilityModelChange"});const r=_.useCallback(P=>{n.debug("Updating columns state."),e.current.setState(g$e(P)),e.current.publishEvent("columnsChange",P.orderedFields)},[n,e]),o=_.useCallback(P=>rc(e)[P],[e]),i=_.useCallback(()=>Zs(e),[e]),s=_.useCallback(()=>Zr(e),[e]),a=_.useCallback((P,L=!0)=>(L?Zr(e):Zs(e)).findIndex($=>$.field===P),[e]),c=_.useCallback(P=>{const L=a(P);return Ud(e)[L]},[e,a]),u=_.useCallback(P=>{Js(e)!==P&&(e.current.setState(D=>G({},D,{columns:Tf({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:P,keepOnlyColumnsToUpsert:!1})})),e.current.updateRenderContext?.())},[e]),h=_.useCallback(P=>{if(Kd(e)){e.current.updateNonPivotColumns(P);return}const L=Tf({apiRef:e,columnsToUpsert:P,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});r(L)},[e,r]),f=_.useCallback((P,L)=>{const D=Js(e),$=D[P]??!0;if(L!==$){const B=G({},D,{[P]:L});e.current.setColumnVisibilityModel(B)}},[e]),g=_.useCallback(P=>vl(e).findIndex(D=>D===P),[e]),m=_.useCallback((P,L)=>{const D=vl(e),$=g(P);if($===L)return;n.debug(`Moving column ${P} to index ${L}`);const B=[...D],U=B.splice($,1)[0];B.splice(L,0,U),r(G({},Oa(e),{orderedFields:B}));const q={column:e.current.getColumn(P),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(P),oldIndex:$};e.current.publishEvent("columnIndexChange",q)},[e,n,r,g]),y=_.useCallback((P,L)=>{n.debug(`Updating column ${P} width to ${L}`);const D=Oa(e),$=D.lookup[P],B=G({},$,{width:L,hasBeenResized:!0});r(FR(G({},D,{lookup:G({},D.lookup,{[P]:B})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(P),colDef:B,width:L})},[e,n,r]),b={getColumn:o,getAllColumns:i,getColumnIndex:a,getColumnPosition:c,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:g,updateColumns:h,setColumnVisibilityModel:u,setColumnVisibility:f,setColumnWidth:y},v={setColumnIndex:m};Sn(e,b,"public"),Sn(e,v,t.signature===Ma.DataGrid?"private":"public");const S=_.useCallback((P,L)=>{const D={},$=Js(e);(!L.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(t.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys($).length>0)&&(D.columnVisibilityModel=$),D.orderedFields=vl(e);const U=Zs(e),q={};return U.forEach(W=>{if(W.hasBeenResized){const V={};Q2.forEach(Y=>{let J=W[Y];J===1/0&&(J=-1),V[Y]=J}),q[W.field]=V}}),Object.keys(q).length>0&&(D.dimensions=q),G({},P,{columns:D})},[e,t.columnVisibilityModel,t.initialState?.columns]),E=_.useCallback((P,L)=>{const D=L.stateToRestore.columns,$=D?.columnVisibilityModel;if(D==null)return P;const B=Tf({apiRef:e,columnsToUpsert:[],initialState:D,columnVisibilityModel:$,keepOnlyColumnsToUpsert:!1});return D!=null&&e.current.setState(U=>G({},U,{columns:G({},U.columns,{lookup:B.lookup,orderedFields:B.orderedFields,initialColumnVisibilityModel:B.initialColumnVisibilityModel})})),$!=null&&e.current.setState(U=>G({},U,{columns:G({},U.columns,{columnVisibilityModel:$})})),D!=null&&e.current.publishEvent("columnsChange",B.orderedFields),P},[e]),T=_.useCallback((P,L)=>{if(L===Mi.columns){const D=t.slots.columnsPanel;return x.jsx(D,G({},t.slotProps?.columnsPanel))}return P},[t.slots.columnsPanel,t.slotProps?.columnsPanel]),R=_.useCallback(P=>{const L=Kd(e);return t.disableColumnSelector||L?P:[...P,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);$r(e,"columnMenu",R),$r(e,"exportState",S),$r(e,"restoreState",E),$r(e,"preferencePanel",T);const M=_.useRef(null);Tt(e,"viewportInnerSizeChange",P=>{if(M.current!==P.width){if(M.current=P.width,!Zr(e).some(D=>D.flex&&D.flex>0))return;r(FR(Oa(e),e.current.getRootDimensions()))}});const N=_.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const P=Tf({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});r(P)},[e,n,r]);XR(e,"hydrateColumns",N),_.useEffect(()=>{if(e.current.caches.columns.lastColumnsProp===t.columns)return;e.current.caches.columns.lastColumnsProp=t.columns,n.info(`GridColumns have changed, new length ${t.columns.length}`);const P=Tf({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel});r(P)},[n,e,r,t.columns,t.columnVisibilityModel]),_.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function g$e(e){return t=>G({},t,{columns:e})}const m$e=(e,t)=>G({},e,{density:t.initialState?.density??t.density??"standard"}),v$e=(e,t)=>{const n=Ko(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:vf,changeEvent:"densityChange"});const o={setDensity:$t(a=>{vf(e)!==a&&(n.debug(`Set grid density to ${a}`),e.current.setState(u=>G({},u,{density:a})))})};Sn(e,o,"public");const i=_.useCallback((a,c)=>{const u=vf(e);return!c.exportOnlyDirtyModels||t.density!=null||t.initialState?.density!=null?G({},a,{density:u}):a},[e,t.density,t.initialState?.density]),s=_.useCallback((a,c)=>{const u=c.stateToRestore?.density?c.stateToRestore.density:vf(e);return e.current.setState(h=>G({},h,{density:u})),a},[e]);$r(e,"exportState",i),$r(e,"restoreState",s),_.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function y$e(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=r,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI X: exportAs not supported.")}const e4=({apiRef:e,options:t})=>{const n=Zs(e);return t.fields?t.fields.reduce((o,i)=>{const s=n.find(a=>a.field===i);return s&&o.push(s),o},[]):(t.allColumns?n:Zr(e)).filter(o=>o.disableExport!==!0)},t4=({apiRef:e})=>{const t=P2(e),n=Go(e),r=tS(e),o=t.filter(c=>n[c].type!=="footer"),i=gm(e),s=i?.top?.map(c=>c.id)||[],a=i?.bottom?.map(c=>c.id)||[];if(o.unshift(...s),o.push(...a),r>0){const c=A2(e);return o.filter(u=>c.has(u))}return o},b$e=(e,t)=>{const n=Ko(e,"useGridCsvExport"),r=t.ignoreValueFormatterDuringExport,o=(typeof r=="object"?r?.csvExport:r)||!1,i=_.useCallback((u={})=>{n.debug("Get data as CSV");const h=e4({apiRef:e,options:u}),g=(u.getRowsToExport??t4)({apiRef:e});return a$e({columns:h,rowIds:g,csvOptions:{delimiter:u.delimiter||",",shouldAppendQuotes:u.shouldAppendQuotes??!0,includeHeaders:u.includeHeaders??!0,includeColumnGroupsHeaders:u.includeColumnGroupsHeaders??!0,escapeFormulas:u.escapeFormulas??!0},ignoreValueFormatter:o,apiRef:e})},[n,e,o]),s=_.useCallback(u=>{n.debug("Export data as CSV");const h=i(u),f=new Blob([u?.utf8WithBom?new Uint8Array([239,187,191]):"",h],{type:"text/csv"});y$e(f,"csv",u?.fileName)},[n,i]);Sn(e,{getDataAsCsv:i,exportDataAsCsv:s},"public");const c=_.useCallback((u,h)=>h.csvOptions?.disableToolbarButton?u:[...u,{component:x.jsx(Ije,{options:h.csvOptions}),componentName:"csvExport"}],[]);$r(e,"exportMenu",c)};function w$e(e,t){const n=[],r=t.querySelectorAll("style, link[rel='stylesheet']");for(let o=0;o<r.length;o+=1){const i=r[o];if(i.tagName==="STYLE"){const s=e.createElement(i.tagName),a=i.sheet;if(a){let c="";for(let u=0;u<a.cssRules.length;u+=1)typeof a.cssRules[u].cssText=="string"&&(c+=`${a.cssRules[u].cssText}\r
`);s.appendChild(e.createTextNode(c)),e.head.appendChild(s)}}else if(i.getAttribute("href")){const s=e.createElement(i.tagName);for(let a=0;a<i.attributes.length;a+=1){const c=i.attributes[a];c&&s.setAttribute(c.nodeName,c.nodeValue||"")}n.push(new Promise(a=>{s.addEventListener("load",()=>a())})),e.head.appendChild(s)}}return n}const SS=(e,t,n)=>{let r=e.paginationModel;const o=e.rowCount,i=n?.pageSize??r.pageSize,s=n?.page??r.page,a=F2(o,i,s);n&&(n?.page!==r.page||n?.pageSize!==r.pageSize)&&(r=n);const c=i===-1?0:bAe(r.page,a);return c!==r.page&&(r=G({},r,{page:c})),V2(r.pageSize,t),r},S$e=(e,t)=>{const n=Ko(e,"useGridPaginationModel"),r=tt(e,mm),o=_.useRef(Ao(e)),i=Math.floor(t.rowHeight*r);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Wo,changeEvent:"paginationModelChange"});const s=_.useCallback(E=>{const T=Wo(e);E!==T.page&&(n.debug(`Setting page to ${E}`),e.current.setPaginationModel({page:E,pageSize:T.pageSize}))},[e,n]),a=_.useCallback(E=>{const T=Wo(e);E!==T.pageSize&&(n.debug(`Setting page size to ${E}`),e.current.setPaginationModel({pageSize:E,page:T.page}))},[e,n]),c=_.useCallback(E=>{const T=Wo(e);E!==T&&(n.debug("Setting 'paginationModel' to",E),e.current.setState(R=>G({},R,{pagination:G({},R.pagination,{paginationModel:SS(R.pagination,t.signature,E)})}),"setPaginationModel"))},[e,n,t.signature]);Sn(e,{setPage:s,setPageSize:a,setPaginationModel:c},"public");const h=_.useCallback((E,T)=>{const R=Wo(e);return!T.exportOnlyDirtyModels||t.paginationModel!=null||t.initialState?.pagination?.paginationModel!=null||R.page!==0&&R.pageSize!==yAe(t.autoPageSize)?G({},E,{pagination:G({},E.pagination,{paginationModel:R})}):E},[e,t.paginationModel,t.initialState?.pagination?.paginationModel,t.autoPageSize]),f=_.useCallback((E,T)=>{const R=T.stateToRestore.pagination?.paginationModel?G({},j2(t.autoPageSize),T.stateToRestore.pagination?.paginationModel):Wo(e);return e.current.setState(M=>G({},M,{pagination:G({},M.pagination,{paginationModel:SS(M.pagination,t.signature,R)})}),"stateRestorePreProcessing"),E},[e,t.autoPageSize,t.signature]);$r(e,"exportState",h),$r(e,"restoreState",f);const g=()=>{const E=Wo(e);e.current.virtualScrollerRef?.current&&e.current.scrollToIndexes({rowIndex:E.page*E.pageSize})},m=_.useCallback(()=>{if(!t.autoPageSize)return;const E=e.current.getRootDimensions(),T=Math.max(1,Math.floor(E.viewportInnerSize.height/i));e.current.setPageSize(T)},[e,t.autoPageSize,i]),y=_.useCallback(E=>{if(E==null)return;const T=Wo(e);if(T.page===0)return;const R=U2(e);T.page>R-1&&e.current.setPage(Math.max(0,R-1))},[e]),b=_.useCallback(()=>{Wo(e).page!==0&&e.current.setPage(0),e.current.getScrollPosition().top!==0&&e.current.scroll({top:0})},[e]),v=_.useCallback(E=>{const T=G({},E,{items:kR(e)});ea(T,o.current)||(o.current=T,b())},[e,b]);Tt(e,"viewportInnerSizeChange",m),Tt(e,"paginationModelChange",g),Tt(e,"rowCountChange",y),Tt(e,"sortModelChange",b),Tt(e,"filterModelChange",v);const S=_.useRef(!0);_.useEffect(()=>{if(S.current){S.current=!1;return}t.pagination&&e.current.setState(E=>G({},E,{pagination:G({},E.pagination,{paginationModel:SS(E.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),_.useEffect(()=>{e.current.setState(E=>{const T=t.pagination===!0;return E.pagination.paginationMode===t.paginationMode&&E.pagination.enabled===T?E:G({},E,{pagination:G({},E.pagination,{paginationMode:t.paginationMode,enabled:T})})})},[e,t.paginationMode,t.pagination]),_.useEffect(m,[m])};function C$e(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function x$e(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const _$e=(e,t)=>{const n=e.current.rootElementRef.current!==null,r=Ko(e,"useGridPrintExport"),o=_.useRef(null),i=_.useRef(null),s=_.useRef({}),a=_.useRef([]),c=_.useRef(null);_.useEffect(()=>{o.current=qr(e.current.rootElementRef.current)},[e,n]);const u=_.useCallback((v,S,E)=>new Promise(T=>{const R=e4({apiRef:e,options:{fields:v,allColumns:S}}).map(N=>N.field),M=Zs(e),I={};M.forEach(N=>{I[N.field]=R.includes(N.field)}),E&&(I[Cf.field]=!0),e.current.setColumnVisibilityModel(I),T()}),[e]),h=_.useCallback(v=>{const E=v({apiRef:e}).reduce((T,R)=>{const M=e.current.getRow(R);return M[$d]||T.push(M),T},[]);e.current.setRows(E)},[e]),f=_.useCallback((v,S)=>{const E=G({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},S),T=v.contentDocument;if(!T)return;const R=bR(e),M=e.current.rootElementRef.current,I=M.cloneNode(!0),N=I.querySelector(`.${ie.main}`);N.style.overflow="visible",I.style.contain="size";let P=M.querySelector(`.${ie.toolbar}`)?.offsetHeight||0,L=M.querySelector(`.${ie.footerContainer}`)?.offsetHeight||0;const D=I.querySelector(`.${ie.footerContainer}`);E.hideToolbar&&(I.querySelector(`.${ie.toolbar}`)?.remove(),P=0),E.hideFooter&&D&&(D.remove(),L=0);const $=R.currentPageTotalHeight+Om(e,t)+P+L;I.style.height=`${$}px`,I.style.boxSizing="content-box",!E.hideFooter&&D&&(D.style.position="absolute",D.style.width="100%",D.style.top=`${$-L}px`);const B=document.createElement("div");B.appendChild(I),T.body.style.marginTop="0px",T.body.innerHTML=B.innerHTML;const U=typeof E.pageStyle=="function"?E.pageStyle():E.pageStyle;if(typeof U=="string"){const W=T.createElement("style");W.appendChild(T.createTextNode(U)),T.head.appendChild(W)}E.bodyClassName&&T.body.classList.add(...E.bodyClassName.split(" "));let q=[];if(E.copyStyles){const W=M.getRootNode(),V=W.constructor.name==="ShadowRoot"?W:o.current;q=w$e(T,V)}Promise.all(q).then(()=>{v.contentWindow.print()})},[e,o,t]),g=_.useCallback(v=>{o.current.body.removeChild(v),e.current.restoreState(i.current||{}),i.current?.columns?.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(S=>G({},S,{virtualization:c.current})),e.current.setRows(a.current),i.current=null,s.current={},a.current=[]},[e]),y={exportDataAsPrint:_.useCallback(async v=>{if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(i.current=e.current.exportState(),s.current=Js(e),a.current=e.current.getSortedRows().filter(E=>!E[$d]),t.pagination){const T={page:0,pageSize:IR(e)};e.current.setState(R=>G({},R,{pagination:G({},R.pagination,{paginationModel:SS(R.pagination,"DataGridPro",T)})}))}c.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await u(v?.fields,v?.allColumns,v?.includeCheckboxes),h(v?.getRowsToExport??t4),await C$e();const S=x$e(v?.fileName);S.onload=()=>{f(S,v),S.contentWindow.matchMedia("print").addEventListener("change",T=>{T.matches===!1&&g(S)})},o.current.body.appendChild(S)},[t,r,e,f,g,u,h])};Sn(e,y,"public");const b=_.useCallback((v,S)=>S.printOptions?.disableToolbarButton?v:[...v,{component:x.jsx(Pje,{options:S.printOptions}),componentName:"printExport"}],[]);$r(e,"exportMenu",b)},E$e=(e,t,n)=>{const r=t.filterModel??t.initialState?.filter?.filterModel??vm();return G({},e,{filter:G({filterModel:TR(r,t.disableMultipleColumnsFiltering,n)},i2),visibleRowsLookup:{}})},T$e=e=>e.filteredRowsLookup;function n4(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function M$e(){return ZO(Object.values)}const O$e=(e,t)=>{const n=Ko(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Ao,changeEvent:"filterModelChange"});const r=_.useCallback(()=>{e.current.setState(P=>{const L=Ao(e),D=e.current.getFilterState(L),$=G({},P,{filter:G({},P.filter,D)}),B=n4(e,$);return G({},$,{visibleRowsLookup:B})}),e.current.publishEvent("filteredRowsSet")},[e]),o=_.useCallback((P,L)=>L==null||L.filterable===!1||t.disableColumnFilter?P:[...P,"columnMenuFilterItem"],[t.disableColumnFilter]),i=_.useCallback(P=>{const L=Ao(e),D=[...L.items],$=D.findIndex(B=>B.id===P.id);$===-1?D.push(P):D[$]=P,e.current.setFilterModel(G({},L,{items:D}),"upsertFilterItem")},[e]),s=_.useCallback(P=>{const L=Ao(e),D=[...L.items];P.forEach($=>{const B=D.findIndex(U=>U.id===$.id);B===-1?D.push($):D[B]=$}),e.current.setFilterModel(G({},L,{items:D}),"upsertFilterItems")},[e]),a=_.useCallback(P=>{const L=Ao(e),D=L.items.filter($=>$.id!==P.id);D.length!==L.items.length&&e.current.setFilterModel(G({},L,{items:D}),"deleteFilterItem")},[e]),c=_.useCallback((P,L,D)=>{if(n.debug("Displaying filter panel"),P){const $=Ao(e),B=$.items.filter(V=>{if(V.value!==void 0)return!(Array.isArray(V.value)&&V.value.length===0);const J=e.current.getColumn(V.field).filterOperators?.find(z=>z.value===V.operator);return!(typeof J?.requiresFilterValue>"u"?!0:J?.requiresFilterValue)});let U;const q=B.find(V=>V.field===P),W=e.current.getColumn(P);q?U=B:t.disableMultipleColumnsFiltering?U=[ER({field:P,operator:W.filterOperators[0].value},e)]:U=[...B,ER({field:P,operator:W.filterOperators[0].value},e)],e.current.setFilterModel(G({},$,{items:U}))}e.current.showPreferences(Mi.filters,L,D)},[e,n,t.disableMultipleColumnsFiltering]),u=_.useCallback(()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()},[e,n]),h=_.useCallback(P=>{const L=Ao(e);L.logicOperator!==P&&e.current.setFilterModel(G({},L,{logicOperator:P}),"changeLogicOperator")},[e]),f=_.useCallback(P=>{const L=Ao(e);ea(L.quickFilterValues,P)||e.current.setFilterModel(G({},L,{quickFilterValues:[...P]}))},[e]),g=_.useCallback((P,L)=>{Ao(e)!==P&&(n.debug("Setting filter model"),e.current.updateControlState("filter",f2(P,t.disableMultipleColumnsFiltering,e),L),e.current.unstable_applyFilters())},[e,n,t.disableMultipleColumnsFiltering]),m=_.useCallback(P=>{const L=TR(P,t.disableMultipleColumnsFiltering,e),D=t.filterMode==="client"?MDe(L,e,t.disableEval):null,$=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:D,filterModel:L??vm()});return G({},$,{filterModel:L})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),y={setFilterLogicOperator:h,unstable_applyFilters:r,deleteFilterItem:a,upsertFilterItem:i,upsertFilterItems:s,setFilterModel:g,showFilterPanel:c,hideFilterPanel:u,setQuickFilterValues:f,ignoreDiacritics:t.ignoreDiacritics,getFilterState:m};Sn(e,y,"public");const b=_.useCallback((P,L)=>{const D=Ao(e);return D.items.forEach(B=>{delete B.fromInput}),!L.exportOnlyDirtyModels||t.filterModel!=null||t.initialState?.filter?.filterModel!=null||!ea(D,vm())?G({},P,{filter:{filterModel:D}}):P},[e,t.filterModel,t.initialState?.filter?.filterModel]),v=_.useCallback((P,L)=>{const D=L.stateToRestore.filter?.filterModel;return D==null?P:(e.current.updateControlState("filter",f2(D,t.disableMultipleColumnsFiltering,e),"restoreState"),G({},P,{callbacks:[...P.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),S=_.useCallback((P,L)=>{if(L===Mi.filters){const D=t.slots.filterPanel;return x.jsx(D,G({},t.slotProps?.filterPanel))}return P},[t.slots.filterPanel,t.slotProps?.filterPanel]),{getRowId:E}=t,T=is(M$e),R=_.useCallback(P=>{if(t.filterMode!=="client"||!P.isRowMatchingFilters||!P.filterModel.items.length&&!P.filterModel.quickFilterValues?.length)return i2;const L=qs(e),D={},{isRowMatchingFilters:$}=P,B={},U={passingFilterItems:null,passingQuickFilterValues:null},q=T.current(e.current.state.rows.dataRowIdToModelLookup);for(let Y=0;Y<q.length;Y+=1){const J=q[Y],ne=E?E(J):J.id;$(J,void 0,U);const z=RDe([U.passingFilterItems],[U.passingQuickFilterValues],P.filterModel,e,B);z||(D[ne]=z)}const W="auto-generated-group-footer-root";return L[W]&&(D[W]=!0),{filteredRowsLookup:D,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,E,T]);$r(e,"columnMenu",o),$r(e,"exportState",b),$r(e,"restoreState",v),$r(e,"preferencePanel",S),Bm(e,Xd,"filtering",R),Bm(e,Xd,"visibleRowsLookupCreation",T$e);const M=_.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const P=Ao(e),L=rc(e),D=P.items.filter($=>$.field&&L[$.field]);D.length<P.items.length&&e.current.setFilterModel(G({},P,{items:D}))},[e,n]),I=_.useCallback(P=>{P==="filtering"&&e.current.unstable_applyFilters()},[e]),N=_.useCallback(()=>{e.current.setState(P=>G({},P,{visibleRowsLookup:n4(e,P)}))},[e]);Tt(e,"rowsSet",r),Tt(e,"columnsChange",M),Tt(e,"activeStrategyProcessorChange",I),Tt(e,"rowExpansionChange",N),Tt(e,"columnVisibilityModelChange",()=>{const P=Ao(e);P.quickFilterValues?.length&&m2(P)&&r()}),Wd(()=>{r()}),Un(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,n,t.filterModel])},R$e=e=>G({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),I$e=(e,t)=>{const n=Ko(e,"useGridFocus"),r=_.useRef(null),o=e.current.rootElementRef.current!==null,i=_.useCallback((P,L)=>{P&&e.current.getRow(P.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(P.id,P.field),L)},[e]),s=_.useCallback((P,L)=>{const D=Ui(e);D?.id===P&&D?.field===L||(e.current.setState($=>(n.debug(`Focusing on cell with id=${P} and field=${L}`),G({},$,{tabIndex:{cell:{id:P,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:P,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(P)&&(D&&i(D,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(P,L))))},[e,n,i]),a=_.useCallback((P,L={})=>{const D=Ui(e);i(D,L),e.current.setState($=>(n.debug(`Focusing on column header with colIndex=${P}`),G({},$,{tabIndex:{columnHeader:{field:P},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:P},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,n,i]),c=_.useCallback((P,L={})=>{const D=Ui(e);i(D,L),e.current.setState($=>(n.debug(`Focusing on column header filter with colIndex=${P}`),G({},$,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:P},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:P},cell:null,columnGroupHeader:null}})))},[e,n,i]),u=_.useCallback((P,L,D={})=>{const $=Ui(e);$&&e.current.publishEvent("cellFocusOut",e.current.getCellParams($.id,$.field),D),e.current.setState(B=>G({},B,{tabIndex:{columnGroupHeader:{field:P,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:P,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),h=_.useCallback(()=>rS(e),[e]),f=_.useCallback((P,L,D)=>{let $=e.current.getColumnIndex(L);const B=Zr(e),U=kf(e,{pagination:t.pagination,paginationMode:t.paginationMode}),q=gm(e),W=[].concat(q.top||[],U.rows,q.bottom||[]);let V=W.findIndex(z=>z.id===P);D==="right"?$+=1:D==="left"?$-=1:V+=1,$>=B.length?(V+=1,V<W.length&&($=0)):$<0&&(V-=1,V>=0&&($=B.length-1)),V=zd(V,0,W.length-1);const Y=W[V];if(!Y)return;const J=e.current.unstable_getCellColSpanInfo(Y.id,$);J&&J.spannedByColSpan&&(D==="left"||D==="below"?$=J.leftVisibleCellIndex:D==="right"&&($=J.rightVisibleCellIndex)),$=zd($,0,B.length-1);const ne=B[$];e.current.setCellFocus(Y.id,ne.field)},[e,t.pagination,t.paginationMode]),g=_.useCallback(({id:P,field:L})=>{e.current.setCellFocus(P,L)},[e]),m=_.useCallback((P,L)=>{L.key==="Enter"||L.key==="Tab"||L.key==="Shift"||qw(L.key)||e.current.setCellFocus(P.id,P.field)},[e]),y=_.useCallback(({field:P},L)=>{L.target===L.currentTarget&&e.current.setColumnHeaderFocus(P,L)},[e]),b=_.useCallback(({fields:P,depth:L},D)=>{if(D.target!==D.currentTarget)return;const $=rS(e);$!==null&&$.depth===L&&P.includes($.field)||e.current.setColumnGroupHeaderFocus(P[0],L,D)},[e]),v=_.useCallback((P,L)=>{L.relatedTarget?.getAttribute("class")?.includes(ie.columnHeader)||(n.debug("Clearing focus"),e.current.setState(D=>G({},D,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),S=_.useCallback(P=>{r.current=P},[]),E=_.useCallback(P=>{const L=r.current;r.current=null;const D=Ui(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:P,cell:L}))return;if(!D){L&&e.current.setCellFocus(L.id,L.field);return}L?.id===D.id&&L?.field===D.field||e.current.getCellElement(D.id,D.field)?.contains(P.target)||(L?e.current.setCellFocus(L.id,L.field):(e.current.setState(U=>G({},U,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),i(D,P)))},[e,i]),T=_.useCallback(P=>{if(P.cellMode==="view")return;const L=Ui(e);(L?.id!==P.id||L?.field!==P.field)&&e.current.setCellFocus(P.id,P.field)},[e]),R=_.useCallback(()=>{const P=Ui(e);if(P&&!e.current.getRow(P.id)){const L=P.id;let D=null;if(typeof L<"u"){const $=e.current.getRowElement(L),B=$?.dataset.rowindex?Number($?.dataset.rowindex):0,U=kf(e,{pagination:t.pagination,paginationMode:t.paginationMode});D=U.rows[zd(B,0,U.rows.length-1)]?.id??null}e.current.setState($=>G({},$,{focus:{cell:D===null?null:{id:D,field:P.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),M=$t(()=>{const P=Ui(e);if(!P)return;const L=kf(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(L.rows.find(B=>B.id===P.id)||L.rows.length===0)return;const $=Zr(e);e.current.setState(B=>G({},B,{tabIndex:{cell:{id:L.rows[0].id,field:$[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),I={setCellFocus:s,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:c},N={moveFocusToRelativeCell:f,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:h};Sn(e,I,"public"),Sn(e,N,"private"),_.useEffect(()=>{const P=qr(e.current.rootElementRef.current);return P.addEventListener("mouseup",E),()=>{P.removeEventListener("mouseup",E)}},[e,o,E]),Tt(e,"columnHeaderBlur",v),Tt(e,"cellDoubleClick",g),Tt(e,"cellMouseDown",S),Tt(e,"cellKeyDown",m),Tt(e,"cellModeChange",T),Tt(e,"columnHeaderFocus",y),Tt(e,"columnGroupHeaderFocus",b),Tt(e,"rowsSet",R),Tt(e,"paginationModelChange",M)},QR=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e<n)return e+1}else if(!r&&e>t)return e-1;return null},eI=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e>t)return e-1}else if(!r&&e<n)return e+1;return null};function P$e(e,t,n,r){const o=Rf.selectors.hiddenCells(e.current.virtualizer.store.state);if(!o[t]?.[n])return t;const i=P2(e);let s=i.indexOf(t)+(r==="down"?1:-1);for(;s>=0&&s<i.length;){const a=i[s];if(!o[a]?.[n])return a;s+=r==="down"?1:-1}return t}const k$e=Hn(Em,gm,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),D$e=(e,t)=>{const n=Ko(e,"useGridKeyboardNavigation"),r=Uo(),o=_.useCallback(()=>k$e(e),[e]),i=t.signature!=="DataGrid"&&t.headerFilters,s=_.useCallback((v,S,E="left",T="up")=>{const R=su(e),M=e.current.unstable_getCellColSpanInfo(S,v);M&&M.spannedByColSpan&&(E==="left"?v=M.leftVisibleCellIndex:E==="right"&&(v=M.rightVisibleCellIndex));const I=ym(e)[v],N=P$e(e,S,v,T),P=R.findIndex(L=>L.id===N);n.debug(`Navigating to cell row ${P}, col ${v}`),e.current.scrollToIndexes({colIndex:v,rowIndex:P}),e.current.setCellFocus(N,I)},[e,n]),a=_.useCallback((v,S)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFocus(E,S)},[e,n]),c=_.useCallback((v,S)=>{n.debug(`Navigating to header filter col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFilterFocus(E,S)},[e,n]),u=_.useCallback((v,S,E)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const{field:T}=e.current.getVisibleColumns()[v];e.current.setColumnGroupHeaderFocus(T,S,E)},[e,n]),h=_.useCallback(v=>o()[v]?.id,[o]),f=_.useCallback((v,S)=>{const E=S.currentTarget.querySelector(`.${ie.columnHeaderTitleContainerContent}`);if(!!E&&E.contains(S.target)&&v.field!==Cf.field)return;const R=o(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.length>0?0:null,P=R.length-1,L=0,D=Zr(e).length-1,$=Mm(e);let B=!0;switch(S.key){case"ArrowDown":{i?c(I,S):N!==null&&s(I,h(N));break}case"ArrowRight":{const U=eI({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:r});U!==null&&a(U,S);break}case"ArrowLeft":{const U=QR({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:r});U!==null&&a(U,S);break}case"ArrowUp":{$>0&&u(I,$-1,S);break}case"PageDown":{N!==null&&P!==null&&s(I,h(Math.min(N+M,P)));break}case"Home":{a(L,S);break}case"End":{a(D,S);break}case"Enter":{(S.ctrlKey||S.metaKey)&&e.current.toggleColumnMenu(v.field);break}case" ":break;default:B=!1}B&&S.preventDefault()},[e,o,i,c,s,h,r,a,u]),g=_.useCallback((v,S)=>{const E=XAe(e)===v.field,T=ZAe(e)===v.field;if(E||T||!qw(S.key))return;const R=o(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=0,P=R.length-1,L=0,D=Zr(e).length-1;let $=!0;switch(S.key){case"ArrowDown":{const B=h(N);B!=null&&s(I,B);break}case"ArrowRight":{const B=eI({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:r});B!==null&&c(B,S);break}case"ArrowLeft":{const B=QR({currentColIndex:I,firstColIndex:L,lastColIndex:D,isRtl:r});B!==null?c(B,S):e.current.setColumnHeaderFilterFocus(v.field,S);break}case"ArrowUp":{a(I,S);break}case"PageDown":{P!==null&&s(I,h(Math.min(N+M,P)));break}case"Home":{c(L,S);break}case"End":{c(D,S);break}case" ":break;default:$=!1}$&&S.preventDefault()},[e,o,c,r,a,s,h]),m=_.useCallback((v,S)=>{const E=rS(e);if(E===null)return;const{field:T,depth:R}=E,{fields:M,depth:I,maxDepth:N}=v,P=o(),L=e.current.getViewportPageSize(),D=e.current.getColumnIndex(T),$=T?e.current.getColumnIndex(T):0,B=0,U=P.length-1,q=0,W=Zr(e).length-1;let V=!0;switch(S.key){case"ArrowDown":{I===N-1?a(D,S):u(D,R+1,S);break}case"ArrowUp":{I>0&&u(D,R-1,S);break}case"ArrowRight":{const Y=M.length-M.indexOf(T)-1;D+Y+1<=W&&u(D+Y+1,R,S);break}case"ArrowLeft":{const Y=M.indexOf(T);D-Y-1>=q&&u(D-Y-1,R,S);break}case"PageDown":{U!==null&&s($,h(Math.min(B+L,U)));break}case"Home":{u(q,R,S);break}case"End":{u(W,R,S);break}case" ":break;default:V=!1}V&&S.preventDefault()},[e,o,a,u,s,h]),y=_.useCallback((v,S)=>{if(Im(S))return;const E=e.current.getCellParams(v.id,v.field);if(E.cellMode===qn.Edit||!qw(S.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:S,cell:E}))return;const R=o();if(R.length===0)return;const M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.findIndex(U=>U.id===v.id),P=0,L=R.length-1,D=0,$=Zr(e).length-1;let B=!0;switch(S.key){case"ArrowDown":{N<L&&s(I,h(N+1),r?"right":"left","down");break}case"ArrowUp":{N>P?s(I,h(N-1)):i?c(I,S):a(I,S);break}case"ArrowRight":{const U=eI({currentColIndex:I,firstColIndex:D,lastColIndex:$,isRtl:r});U!==null&&s(U,h(N),r?"left":"right");break}case"ArrowLeft":{const U=QR({currentColIndex:I,firstColIndex:D,lastColIndex:$,isRtl:r});U!==null&&s(U,h(N),r?"right":"left");break}case"Tab":{S.shiftKey&&I>D?s(I-1,h(N),"left"):!S.shiftKey&&I<$&&s(I+1,h(N),"right");break}case" ":{if(v.field===OR)break;const q=v.colDef;if(q&&(q.field===GDe||ANe(q.field)))break;!S.shiftKey&&N<L&&s(I,h(Math.min(N+M,L)));break}case"PageDown":{N<L&&s(I,h(Math.min(N+M,L)));break}case"PageUp":{const U=Math.max(N-M,P);U!==N&&U>=P?s(I,h(U)):a(I,S);break}case"Home":{S.ctrlKey||S.metaKey||S.shiftKey?s(D,h(P)):s(D,h(N));break}case"End":{S.ctrlKey||S.metaKey||S.shiftKey?s($,h(L)):s($,h(N));break}default:B=!1}B&&S.preventDefault()},[e,o,r,s,h,i,c,a]),b=_.useCallback((v,{event:S})=>S.key===" "?!1:v,[]);$r(e,"canStartEditing",b),Tt(e,"columnHeaderKeyDown",f),Tt(e,"headerFilterKeyDown",g),Tt(e,"columnGroupHeaderKeyDown",m),Tt(e,"cellKeyDown",y)},A$e=(e,t)=>{const n=Ko(e,"useGridRowCount"),r=tt(e,PR),o=tt(e,wf),i=tt(e,_m),s=tt(e,Wo),a=is(()=>Wo(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:wf,changeEvent:"rowCountChange"});const u={setRowCount:_.useCallback(y=>{o!==y&&(n.debug("Setting 'rowCount' to",y),e.current.setState(b=>G({},b,{pagination:G({},b.pagination,{rowCount:y})})))},[e,n,o])};Sn(e,u,"public");const h=_.useCallback((y,b)=>{const v=wf(e);return!b.exportOnlyDirtyModels||t.rowCount!=null||t.initialState?.pagination?.rowCount!=null?G({},y,{pagination:G({},y.pagination,{rowCount:v})}):y},[e,t.rowCount,t.initialState?.pagination?.rowCount]),f=_.useCallback((y,b)=>{const v=b.stateToRestore.pagination?.rowCount?b.stateToRestore.pagination.rowCount:wf(e);return e.current.setState(S=>G({},S,{pagination:G({},S.pagination,{rowCount:v})})),y},[e]);$r(e,"exportState",h),$r(e,"restoreState",f);const g=_.useCallback(y=>{t.paginationMode==="client"||!a.current||y.pageSize!==a.current&&(a.current=y.pageSize,o===-1&&e.current.setPage(0))},[t.paginationMode,a,o,e]);Tt(e,"paginationModelChange",g),_.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(r):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,r,t.rowCount]);const m=i.hasNextPage===!1;_.useEffect(()=>{m&&o===-1&&e.current.setRowCount(s.pageSize*s.page+r)},[e,r,m,o,s])},L$e=(e,t)=>{const n=Ko(e,"useGridPaginationMeta"),r=tt(e,_m);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:_m,changeEvent:"paginationMetaChange"});const i={setPaginationMeta:_.useCallback(c=>{r!==c&&(n.debug("Setting 'paginationMeta' to",c),e.current.setState(u=>G({},u,{pagination:G({},u.pagination,{meta:c})})))},[e,n,r])};Sn(e,i,"public");const s=_.useCallback((c,u)=>{const h=_m(e);return!u.exportOnlyDirtyModels||t.paginationMeta!=null||t.initialState?.pagination?.meta!=null?G({},c,{pagination:G({},c.pagination,{meta:h})}):c},[e,t.paginationMeta,t.initialState?.pagination?.meta]),a=_.useCallback((c,u)=>{const h=u.stateToRestore.pagination?.meta?u.stateToRestore.pagination.meta:_m(e);return e.current.setState(f=>G({},f,{pagination:G({},f.pagination,{meta:h})})),c},[e]);$r(e,"exportState",s),$r(e,"restoreState",a),_.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},N$e=(e,t)=>{const n=G({},j2(t.autoPageSize),t.paginationModel??t.initialState?.pagination?.paginationModel);V2(n.pageSize,t.signature);const r=t.rowCount??t.initialState?.pagination?.rowCount??(t.paginationMode==="client"?e.rows?.totalRowCount:void 0),o=t.paginationMeta??t.initialState?.pagination?.meta??{};return G({},e,{pagination:G({},e.pagination,{paginationModel:n,rowCount:r,meta:o,enabled:t.pagination===!0,paginationMode:t.paginationMode})})},B$e=(e,t)=>{L$e(e,t),S$e(e,t),A$e(e,t)},F$e=(e,t)=>G({},e,{preferencePanel:t.initialState?.preferencePanel??{open:!1}}),j$e=(e,t)=>{const n=Ko(e,"useGridPreferencesPanel"),r=_.useCallback(()=>{e.current.setState(a=>{if(!a.preferencePanel.open)return a;n.debug("Hiding Preferences Panel");const c=qd(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:c.openedPanelValue}),G({},a,{preferencePanel:{open:!1}})})},[e,n]),o=_.useCallback((a,c,u)=>{n.debug("Opening Preferences Panel"),e.current.setState(h=>G({},h,{preferencePanel:G({},h.preferencePanel,{open:!0,openedPanelValue:a,panelId:c,labelId:u})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:a})},[n,e]);Sn(e,{showPreferences:o,hidePreferences:r},"public");const i=_.useCallback((a,c)=>{const u=qd(e);return!c.exportOnlyDirtyModels||t.initialState?.preferencePanel!=null||u.open?G({},a,{preferencePanel:u}):a},[e,t.initialState?.preferencePanel]),s=_.useCallback((a,c)=>{const u=c.stateToRestore.preferencePanel;return u!=null&&e.current.setState(h=>G({},h,{preferencePanel:u})),a},[e]);$r(e,"exportState",i),$r(e,"restoreState",s)},tI=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},V$e=["id","field"],$$e=["id","field"],z$e=(e,t)=>{const[n,r]=_.useState({}),o=_.useRef(n),i=_.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:u}=t,h=W=>(...V)=>{t.editMode===gl.Cell&&W(...V)},f=_.useCallback((W,V)=>{const Y=e.current.getCellParams(W,V);if(!e.current.isCellEditable(Y))throw new Error(`MUI X: The cell with id=${W} and field=${V} is not editable.`)},[e]),g=_.useCallback((W,V,Y)=>{if(e.current.getCellMode(W,V)!==Y)throw new Error(`MUI X: The cell with id=${W} and field=${V} is not in ${Y} mode.`)},[e]),m=_.useCallback((W,V)=>{if(!W.isEditable||W.cellMode===qn.Edit)return;const Y=G({},W,{reason:nc.cellDoubleClick});e.current.publishEvent("cellEditStart",Y,V)},[e]),y=_.useCallback((W,V)=>{if(W.cellMode===qn.View||e.current.getCellMode(W.id,W.field)===qn.View)return;const Y=G({},W,{reason:Xs.cellFocusOut});e.current.publishEvent("cellEditStop",Y,V)},[e]),b=_.useCallback((W,V)=>{if(W.cellMode===qn.Edit){if(V.which===229)return;let Y;if(V.key==="Escape"?Y=Xs.escapeKeyDown:V.key==="Enter"?Y=Xs.enterKeyDown:V.key==="Tab"&&(Y=V.shiftKey?Xs.shiftTabKeyDown:Xs.tabKeyDown,V.preventDefault()),Y){const J=G({},W,{reason:Y});e.current.publishEvent("cellEditStop",J,V)}}else if(W.isEditable){let Y;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:V,cellParams:W,editMode:"cell"}))return;if(S2(V)?Y=nc.printableKeyDown:x2(V)?Y=nc.pasteKeyDown:V.key==="Enter"?Y=nc.enterKeyDown:(V.key==="Backspace"||V.key==="Delete")&&(Y=nc.deleteKeyDown),Y){const ne=G({},W,{reason:Y,key:V.key});e.current.publishEvent("cellEditStart",ne,V)}}},[e]),v=_.useCallback(W=>{const{id:V,field:Y,reason:J}=W,ne={id:V,field:Y};(J===nc.printableKeyDown||J===nc.deleteKeyDown||J===nc.pasteKeyDown)&&(ne.deleteValue=!0),e.current.startCellEditMode(ne)},[e]),S=_.useCallback(W=>{const{id:V,field:Y,reason:J}=W;e.current.runPendingEditCellValueMutation(V,Y);let ne;J===Xs.enterKeyDown?ne="below":J===Xs.tabKeyDown?ne="right":J===Xs.shiftTabKeyDown&&(ne="left");const z=J==="escapeKeyDown";e.current.stopCellEditMode({id:V,field:Y,ignoreModifications:z,cellToFocusAfter:ne})},[e]),E=W=>async(...V)=>{if(W){const{id:Y,field:J}=V[0];e.current.state.editRows[Y][J]?.error||W(...V)}};Tt(e,"cellDoubleClick",h(m)),Tt(e,"cellFocusOut",h(y)),Tt(e,"cellKeyDown",h(b)),Tt(e,"cellEditStart",h(v)),Tt(e,"cellEditStop",h(S)),lr(e,"cellEditStart",t.onCellEditStart),lr(e,"cellEditStop",E(t.onCellEditStop));const T=_.useCallback((W,V)=>{const Y=Lo(e);return Y[W]&&Y[W][V]?qn.Edit:qn.View},[e]),R=$t(W=>{const V=W!==t.cellModesModel;u&&V&&u(W,{api:e.current}),!(t.cellModesModel&&V)&&(r(W),o.current=W,e.current.publishEvent("cellModesModelChange",W))}),M=_.useCallback((W,V,Y)=>{const J=G({},o.current);if(Y!==null)J[W]=G({},J[W],{[V]:G({},Y)});else{const ne=J[W],z=pt(ne,[V].map(Nm));J[W]=z,Object.keys(J[W]).length===0&&delete J[W]}R(J)},[R]),I=_.useCallback((W,V,Y)=>{e.current.setState(J=>{const ne=G({},J.editRows);return Y!==null?ne[W]=G({},ne[W],{[V]:G({},Y)}):(delete ne[W][V],Object.keys(ne[W]).length===0&&delete ne[W]),G({},J,{editRows:ne})})},[e]),N=_.useCallback(W=>{const{id:V,field:Y}=W,J=pt(W,V$e);f(V,Y),g(V,Y,qn.View),M(V,Y,G({mode:qn.Edit},J))},[f,g,M]),P=$t(async W=>{const{id:V,field:Y,deleteValue:J,initialValue:ne}=W,z=e.current.getCellValue(V,Y);let K=z;J?K=tI(e.current.getColumn(Y)):ne&&(K=ne);const Z=e.current.getColumn(Y),le=!!Z.preProcessEditCellProps&&J;let ce={value:K,error:!1,isProcessingProps:le};if(I(V,Y,ce),e.current.setCellFocus(V,Y),le&&(ce=await Promise.resolve(Z.preProcessEditCellProps({id:V,row:e.current.getRow(V),props:ce,hasChanged:K!==z})),e.current.getCellMode(V,Y)===qn.Edit)){const ue=Lo(e);I(V,Y,G({},ce,{value:ue[V][Y].value,isProcessingProps:!1}))}}),L=_.useCallback(W=>{const{id:V,field:Y}=W,J=pt(W,$$e);g(V,Y,qn.Edit),M(V,Y,G({mode:qn.View},J))},[g,M]),D=$t(async W=>{const{id:V,field:Y,ignoreModifications:J,cellToFocusAfter:ne="none"}=W;g(V,Y,qn.Edit),e.current.runPendingEditCellValueMutation(V,Y);const z=()=>{I(V,Y,null),M(V,Y,null),ne!=="none"&&e.current.moveFocusToRelativeCell(V,Y,ne)};if(J){z();return}const K=Lo(e),{error:Z,isProcessingProps:le}=K[V][Y],ce=e.current.getRow(V);if(Z||le){i.current[V][Y].mode=qn.Edit,M(V,Y,{mode:qn.Edit});return}const ue=e.current.getRowWithUpdatedValuesFromCellEditing(V,Y);if(t.dataSource?.updateRow){if(ea(ce,ue)){z();return}const ae=()=>{i.current[V][Y].mode=qn.Edit,M(V,Y,{mode:qn.Edit})},ye={rowId:V,updatedRow:ue,previousRow:ce};try{await e.current.dataSource.editRow(ye),z()}catch{ae()}}else if(s){const ae=ye=>{i.current[V][Y].mode=qn.Edit,M(V,Y,{mode:qn.Edit}),a&&a(ye)};try{Promise.resolve(s(ue,ce,{rowId:V})).then(ye=>{e.current.updateRows([ye]),z()}).catch(ae)}catch(ye){ae(ye)}}else e.current.updateRows([ue]),z()}),$=_.useCallback(async W=>{const{id:V,field:Y,value:J,debounceMs:ne,unstable_skipValueParser:z}=W;f(V,Y),g(V,Y,qn.Edit);const K=e.current.getColumn(Y),Z=e.current.getRow(V);let le=J;K.valueParser&&!z&&(le=K.valueParser(J,Z,K,e));let ce=Lo(e),ue=G({},ce[V][Y],{value:le,changeReason:ne?"debouncedSetEditCellValue":"setEditCellValue"});if(K.preProcessEditCellProps){const ae=J!==ce[V][Y].value;ue=G({},ue,{isProcessingProps:!0}),I(V,Y,ue),ue=await Promise.resolve(K.preProcessEditCellProps({id:V,row:Z,props:ue,hasChanged:ae}))}return e.current.getCellMode(V,Y)===qn.View?!1:(ce=Lo(e),ue=G({},ue,{isProcessingProps:!1}),ue.value=K.preProcessEditCellProps?ce[V][Y].value:le,I(V,Y,ue),ce=Lo(e),!ce[V]?.[Y]?.error)},[e,f,g,I]),B=_.useCallback((W,V)=>{const Y=e.current.getColumn(V),J=Lo(e),ne=e.current.getRow(W);if(!J[W]||!J[W][V])return e.current.getRow(W);const{value:z}=J[W][V];return Y.valueSetter?Y.valueSetter(z,ne,Y,e):G({},ne,{[V]:z})},[e]),U={getCellMode:T,startCellEditMode:N,stopCellEditMode:L},q={setCellEditingEditCellValue:$,getRowWithUpdatedValuesFromCellEditing:B};Sn(e,U,"public"),Sn(e,q,"private"),_.useEffect(()=>{c&&R(c)},[c,R]),Un(()=>{const W=qs(e),V=i.current;i.current=n2(n),Object.entries(n).forEach(([Y,J])=>{Object.entries(J).forEach(([ne,z])=>{const K=V[Y]?.[ne]?.mode||qn.View,Z=W[Y]?e.current.getRowId(W[Y]):Y;z.mode===qn.Edit&&K===qn.View?P(G({id:Z,field:ne},z)):z.mode===qn.View&&K===qn.Edit&&D(G({id:Z,field:ne},z))})})},[e,n,P,D])},U$e=["id"],H$e=["id"],G$e=(e,t)=>{const[n,r]=_.useState({}),o=_.useRef(n),i=_.useRef({}),s=_.useRef({}),a=_.useRef(void 0),c=_.useRef(null),{processRowUpdate:u,onProcessRowUpdateError:h,rowModesModel:f,onRowModesModelChange:g}=t,m=z=>(...K)=>{t.editMode===gl.Row&&z(...K)},y=_.useCallback((z,K)=>{const Z=e.current.getCellParams(z,K);if(!e.current.isCellEditable(Z))throw new Error(`MUI X: The cell with id=${z} and field=${K} is not editable.`)},[e]),b=_.useCallback((z,K)=>{if(e.current.getRowMode(z)!==K)throw new Error(`MUI X: The row with id=${z} is not in ${K} mode.`)},[e]),v=_.useCallback(z=>{const K=Lo(e);return Object.values(K[z]).some(Z=>Z.error)},[e]),S=_.useCallback((z,K)=>{if(!z.isEditable||e.current.getRowMode(z.id)===_r.Edit)return;const Z=e.current.getRowParams(z.id),le=G({},Z,{field:z.field,reason:ou.cellDoubleClick});e.current.publishEvent("rowEditStart",le,K)},[e]),E=_.useCallback(z=>{c.current=z},[]),T=_.useCallback((z,K)=>{z.isEditable&&e.current.getRowMode(z.id)!==_r.View&&(c.current=null,a.current=setTimeout(()=>{if(c.current?.id!==z.id){if(!e.current.getRow(z.id)||e.current.getRowMode(z.id)===_r.View||v(z.id))return;const Z=e.current.getRowParams(z.id),le=G({},Z,{field:z.field,reason:ml.rowFocusOut});e.current.publishEvent("rowEditStop",le,K)}}))},[e,v]);_.useEffect(()=>()=>{clearTimeout(a.current)},[]);const R=_.useCallback((z,K)=>{if(z.cellMode===_r.Edit){if(K.which===229)return;let Z;if(K.key==="Escape")Z=ml.escapeKeyDown;else if(K.key==="Enter")Z=ml.enterKeyDown;else if(K.key==="Tab"){const le=ym(e).filter(ce=>e.current.getColumn(ce).type===Zw?!0:e.current.isCellEditable(e.current.getCellParams(z.id,ce)));if(K.shiftKey?z.field===le[0]&&(Z=ml.shiftTabKeyDown):z.field===le[le.length-1]&&(Z=ml.tabKeyDown),K.preventDefault(),!Z){const ce=le.findIndex(ae=>ae===z.field),ue=le[K.shiftKey?ce-1:ce+1];e.current.setCellFocus(z.id,ue)}}if(Z){if(Z!==ml.escapeKeyDown&&v(z.id))return;const le=G({},e.current.getRowParams(z.id),{reason:Z,field:z.field});e.current.publishEvent("rowEditStop",le,K)}}else if(z.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:K,cellParams:z,editMode:"row"}))return;if(S2(K)||x2(K)?Z=ou.printableKeyDown:K.key==="Enter"?Z=ou.enterKeyDown:(K.key==="Backspace"||K.key==="Delete")&&(Z=ou.deleteKeyDown),Z){const ce=e.current.getRowParams(z.id),ue=G({},ce,{field:z.field,reason:Z});e.current.publishEvent("rowEditStart",ue,K)}}},[e,v]),M=_.useCallback(z=>{const{id:K,field:Z,reason:le}=z,ce={id:K,fieldToFocus:Z};(le===ou.printableKeyDown||le===ou.deleteKeyDown)&&(ce.deleteValue=!!Z),e.current.startRowEditMode(ce)},[e]),I=_.useCallback(z=>{const{id:K,reason:Z,field:le}=z;e.current.runPendingEditCellValueMutation(K);let ce;Z===ml.enterKeyDown?ce="below":Z===ml.tabKeyDown?ce="right":Z===ml.shiftTabKeyDown&&(ce="left");const ue=Z==="escapeKeyDown";e.current.stopRowEditMode({id:K,ignoreModifications:ue,field:le,cellToFocusAfter:ce})},[e]);Tt(e,"cellDoubleClick",m(S)),Tt(e,"cellFocusIn",m(E)),Tt(e,"cellFocusOut",m(T)),Tt(e,"cellKeyDown",m(R)),Tt(e,"rowEditStart",m(M)),Tt(e,"rowEditStop",m(I)),lr(e,"rowEditStart",t.onRowEditStart),lr(e,"rowEditStop",t.onRowEditStop);const N=_.useCallback(z=>a5(e,{rowId:z,editMode:t.editMode})?_r.Edit:_r.View,[e,t.editMode]),P=$t(z=>{const K=z!==t.rowModesModel;g&&K&&g(z,{api:e.current}),!(t.rowModesModel&&K)&&(r(z),o.current=z,e.current.publishEvent("rowModesModelChange",z))}),L=_.useCallback((z,K)=>{const Z=G({},o.current);K!==null?Z[z]=G({},K):delete Z[z],P(Z)},[P]),D=_.useCallback((z,K)=>{e.current.setState(Z=>{const le=G({},Z.editRows);return K!==null?le[z]=K:delete le[z],G({},Z,{editRows:le})})},[e]),$=_.useCallback((z,K,Z)=>{e.current.setState(le=>{const ce=G({},le.editRows);return Z!==null?ce[z]=G({},ce[z],{[K]:G({},Z)}):(delete ce[z][K],Object.keys(ce[z]).length===0&&delete ce[z]),G({},le,{editRows:ce})})},[e]),B=_.useCallback(z=>{const{id:K}=z,Z=pt(z,U$e);b(K,_r.View),L(K,G({mode:_r.Edit},Z))},[b,L]),U=$t(z=>{const{id:K,fieldToFocus:Z,deleteValue:le,initialValue:ce}=z,ue=e.current.getRow(K),ae=Zs(e),ye=ae.reduce((Me,xe)=>{const he=xe.field;if(!e.current.getCellParams(K,he).isEditable)return Me;const Se=e.current.getColumn(he);let Ee=e.current.getCellValue(K,he);return Z===he&&(le||ce)&&(le?Ee=tI(Se):ce&&(Ee=ce)),Me[he]={value:Ee,error:!1,isProcessingProps:Se.editable&&!!Se.preProcessEditCellProps&&le},Me},{});s.current[K]=ue,D(K,ye),Z&&e.current.setCellFocus(K,Z),ae.filter(Me=>e.current.getCellParams(K,Me.field).isEditable&&Me.editable&&!!Me.preProcessEditCellProps&&le).forEach(Me=>{const xe=Me.field,he=e.current.getCellValue(K,xe),pe=le?tI(Me):ce??he;Promise.resolve(Me.preProcessEditCellProps({id:K,row:ue,props:ye[xe],hasChanged:pe!==he})).then(Se=>{if(e.current.getRowMode(K)===_r.Edit){const Ee=Lo(e);$(K,xe,G({},Se,{value:Ee[K][xe].value,isProcessingProps:!1}))}})})}),q=_.useCallback(z=>{const{id:K}=z,Z=pt(z,H$e);b(K,_r.Edit),L(K,G({mode:_r.View},Z))},[b,L]),W=$t(async z=>{const{id:K,ignoreModifications:Z,field:le,cellToFocusAfter:ce="none"}=z;e.current.runPendingEditCellValueMutation(K);const ue=()=>{ce!=="none"&&le&&e.current.moveFocusToRelativeCell(K,le,ce),D(K,null),L(K,null),delete s.current[K]};if(Z){ue();return}const ae=Lo(e),ye=s.current[K];if(Object.values(ae[K]).some(he=>he.isProcessingProps)){i.current[K].mode=_r.Edit;return}if(v(K)){i.current[K].mode=_r.Edit,L(K,{mode:_r.Edit});return}const xe=e.current.getRowWithUpdatedValuesFromRowEditing(K);if(t.dataSource?.updateRow){if(ea(ye,xe)){ue();return}const he=()=>{i.current[K].mode=_r.Edit,L(K,{mode:_r.Edit})},pe={rowId:K,updatedRow:xe,previousRow:ye};try{await e.current.dataSource.editRow(pe),ue()}catch{he()}}else if(u){const he=pe=>{i.current[K]&&(i.current[K].mode=_r.Edit,L(K,{mode:_r.Edit})),h&&h(pe)};try{Promise.resolve(u(xe,ye,{rowId:K})).then(pe=>{e.current.updateRows([pe]),ue()}).catch(he)}catch(pe){he(pe)}}else e.current.updateRows([xe]),ue()}),V=_.useCallback(z=>{const{id:K,field:Z,value:le,debounceMs:ce,unstable_skipValueParser:ue}=z;y(K,Z);const ae=e.current.getColumn(Z),ye=e.current.getRow(K);let Me=le;ae.valueParser&&!ue&&(Me=ae.valueParser(le,ye,ae,e));let xe=Lo(e),he=G({},xe[K][Z],{value:Me,changeReason:ce?"debouncedSetEditCellValue":"setEditCellValue"});return ae.preProcessEditCellProps||$(K,Z,he),new Promise(pe=>{const Se=[];if(ae.preProcessEditCellProps){const Ee=he.value!==xe[K][Z].value;he=G({},he,{isProcessingProps:!0}),$(K,Z,he);const ke=xe[K],Te=pt(ke,[Z].map(Nm)),Ve=Promise.resolve(ae.preProcessEditCellProps({id:K,row:ye,props:he,hasChanged:Ee,otherFieldsProps:Te})).then(rt=>{if(e.current.getRowMode(K)===_r.View){pe(!1);return}xe=Lo(e),rt=G({},rt,{isProcessingProps:!1}),rt.value=ae.preProcessEditCellProps?xe[K][Z].value:Me,$(K,Z,rt)});Se.push(Ve)}Object.entries(xe[K]).forEach(([Ee,ke])=>{if(Ee===Z)return;const Te=e.current.getColumn(Ee);if(!Te.preProcessEditCellProps)return;ke=G({},ke,{isProcessingProps:!0}),$(K,Ee,ke),xe=Lo(e);const Ve=xe[K],rt=pt(Ve,[Ee].map(Nm)),je=Promise.resolve(Te.preProcessEditCellProps({id:K,row:ye,props:ke,hasChanged:!1,otherFieldsProps:rt})).then(Rt=>{if(e.current.getRowMode(K)===_r.View){pe(!1);return}Rt=G({},Rt,{isProcessingProps:!1}),$(K,Ee,Rt)});Se.push(je)}),Promise.all(Se).then(()=>{e.current.getRowMode(K)===_r.Edit?(xe=Lo(e),pe(!xe[K][Z].error)):pe(!1)})})},[e,y,$]),Y=_.useCallback(z=>{const K=Lo(e),Z=e.current.getRow(z);if(!K[z])return e.current.getRow(z);let le=G({},s.current[z],Z);return Object.entries(K[z]).forEach(([ce,ue])=>{const ae=e.current.getColumn(ce);ae?.valueSetter?le=ae.valueSetter(ue.value,le,ae,e):le[ce]=ue.value}),le},[e]),J={getRowMode:N,startRowEditMode:B,stopRowEditMode:q},ne={setRowEditingEditCellValue:V,getRowWithUpdatedValuesFromRowEditing:Y};Sn(e,J,"public"),Sn(e,ne,"private"),_.useEffect(()=>{f&&P(f)},[f,P]),Un(()=>{const z=qs(e),K=i.current;i.current=n2(n);const Z=new Set([...Object.keys(n),...Object.keys(K)]);Array.from(Z).forEach(le=>{const ce=n[le]??{mode:_r.View},ue=K[le]?.mode||_r.View,ae=z[le]?e.current.getRowId(z[le]):le;ce.mode===_r.Edit&&ue===_r.View?U(G({id:ae},ce)):ce.mode===_r.View&&ue===_r.Edit&&W(G({id:ae},ce))})},[e,n,U,W])},W$e=e=>G({},e,{editRows:{}}),K$e=(e,t)=>{z$e(e,t),G$e(e,t);const n=_.useRef({}),{isCellEditable:r}=t,o=_.useCallback(g=>mf(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:r?r(g):!0,[r]),i=(g,m,y,b)=>{if(!y){b();return}if(n.current[g]||(n.current[g]={}),n.current[g][m]){const[E]=n.current[g][m];clearTimeout(E)}const v=()=>{const[E]=n.current[g][m];clearTimeout(E),b(),delete n.current[g][m]},S=setTimeout(()=>{b(),delete n.current[g][m]},y);n.current[g][m]=[S,v]};_.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([m,y])=>{Object.keys(y).forEach(b=>{const[v]=g[m][b];clearTimeout(v),delete g[m][b]})})}},[]);const s=_.useCallback((g,m)=>{if(n.current[g]){if(!m)Object.keys(n.current[g]).forEach(y=>{const[,b]=n.current[g][y];b()});else if(n.current[g][m]){const[,y]=n.current[g][m];y()}}},[]),a=_.useCallback(g=>{const{id:m,field:y,debounceMs:b}=g;return new Promise(v=>{i(m,y,b,async()=>{const S=t.editMode===gl.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(m,y)===qn.Edit){const E=await S(g);v(E)}})})},[e,t.editMode]),c=_.useCallback((g,m)=>t.editMode===gl.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,m):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),u=_.useCallback((g,m)=>Lo(e)[g]?.[m]??null,[e]),h={isCellEditable:o,setEditCellValue:a,getRowWithUpdatedValues:c,unstable_getEditCellMeta:u},f={runPendingEditCellValueMutation:s};Sn(e,h,"public"),Sn(e,f,"private")},q$e=(e,t,n)=>{const r=!!t.dataSource;return n.current.caches.rows=Uw({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),G({},e,{rows:$G({apiRef:n,rowCountProp:t.rowCount,loadingProp:r?!0:t.loading,previousTree:null,previousTreeDepths:null})})},Y$e=(e,t,n)=>{const r=Ko(e,"useGridRows"),o=_.useRef(Date.now()),i=_.useRef(t.rowCount),s=Fi(),{setRowIndex:a}=n.hooks.useGridRowsOverridableMethods(e,t),c=_.useCallback(V=>{const Y=qs(e)[V];if(Y)return Y;const J=fl(e,V);return J&&mf(J)?{[$d]:V}:null},[e]),u=_.useCallback(V=>Sf(e,V),[e]),h=_.useCallback(({cache:V,throttle:Y})=>{const J=()=>{o.current=Date.now(),e.current.setState(z=>G({},z,{rows:$G({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Go(e),previousTreeDepths:FG(e),previousGroupsToFetch:Fke(e)})})),e.current.publishEvent("rowsSet")};if(s.clear(),e.current.caches.rows=V,!Y){J();return}const ne=t.throttleRowsMs-(Date.now()-o.current);if(ne>0){s.start(ne,J);return}J()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),f=_.useCallback(V=>{if(r.debug(`Updating all rows, new length ${V.length}`),Kd(e)){e.current.updateNonPivotRows(V,!1);return}const Y=Uw({rows:V,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),J=e.current.caches.rows;Y.rowsBeforePartialUpdates=J.rowsBeforePartialUpdates,h({cache:Y,throttle:!0})},[r,t.getRowId,t.loading,t.rowCount,h,e]),g=_.useCallback(V=>{if(t.signature===Ma.DataGrid&&V.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Kd(e)){e.current.updateNonPivotRows(V);return}const Y=GG(e,V,t.getRowId),J=UG({updates:Y,getRowId:t.getRowId,previousCache:e.current.caches.rows});h({cache:J,throttle:!0})},[t.signature,t.getRowId,h,e]),m=_.useCallback((V,Y)=>{const J=GG(e,V,t.getRowId),ne=UG({updates:J,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:Y??[]});h({cache:ne,throttle:!1})},[t.getRowId,h,e]),y=_.useCallback(V=>{r.debug(`Setting loading to ${V}`),e.current.setState(Y=>G({},Y,{rows:G({},Y.rows,{loading:V})})),e.current.caches.rows.loadingPropBeforePartialUpdates=V},[e,r]),b=_.useCallback(()=>{const V=Vd(e),Y=qs(e);return new Map(V.map(J=>[J,Y[J]??{}]))},[e]),v=_.useCallback(()=>gf(e),[e]),S=_.useCallback(()=>Vd(e),[e]),E=_.useCallback(V=>{const{rowIdToIndexMap:Y}=kf(e);return Y.get(V)},[e]),T=_.useCallback((V,Y)=>{const J=fl(e,V);if(!J)throw new Error(`MUI X: No row with id #${V} found.`);if(J.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const ne=G({},J,{childrenExpanded:Y});e.current.setState(z=>G({},z,{rows:G({},z.rows,{tree:G({},z.rows.tree,{[V]:ne})})})),e.current.publishEvent("rowExpansionChange",ne)},[e]),R=_.useCallback(V=>fl(e,V)??null,[e]),M=_.useCallback(({skipAutoGeneratedRows:V=!0,groupId:Y,applySorting:J,applyFiltering:ne,directChildrenOnly:z=!1})=>{const K=Go(e);let Z;if(J){const le=K[Y];if(!le)return[];const ce=Sm(e);Z=[];const ue=ce.findIndex(ae=>ae===Y)+1;for(let ae=ue;ae<ce.length&&(z?K[ce[ae]].depth===le.depth+1:K[ce[ae]].depth>le.depth);ae+=1){const ye=ce[ae];(!V||!mf(K[ye]))&&Z.push(ye)}}else Z=wR(K,Y,V,z);if(ne){const le=yf(e);Z=Qw(le)?Z:Z.filter(ce=>le[ce]!==!1)}return Z},[e]),I=_.useCallback((V,Y)=>{if(t.signature===Ma.DataGrid&&Y.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Y.length===0)return;if(pm(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const ne=G({},Go(e)),z=G({},qs(e)),K=ne[Do],Z=[...K.children],le=new Set;for(let ue=0;ue<Y.length;ue+=1){const ae=Y[ue],ye=zw(ae,t.getRowId,"A row was provided without id when calling replaceRows()."),[Me]=Z.splice(V+ue,1,ye);le.has(Me)||(delete z[Me],delete ne[Me]);const xe={id:ye,depth:0,parent:Do,type:"leaf",groupingKey:null};z[ye]=ae,ne[ye]=xe,le.add(ye)}ne[Do]=G({},K,{children:Z});const ce=Z.filter(ue=>ne[ue]?.type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=z,e.current.setState(ue=>G({},ue,{rows:G({},ue.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,Z.length),dataRowIdToModelLookup:z,dataRowIds:ce,tree:ne})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),N={getRow:c,setLoading:y,getRowId:u,getRowModels:b,getRowsCount:v,getAllRowIds:S,setRows:f,updateRows:g,getRowNode:R,getRowIndexRelativeToVisibleRows:E,unstable_replaceRows:I},P={setRowIndex:a,setRowChildrenExpansion:T,getRowGroupChildren:M},L={updateNestedRows:m},D=_.useCallback(()=>{r.info("Row grouping pre-processing have changed, regenerating the row tree");let V;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?V=G({},e.current.caches.rows,{updates:{type:"full",rows:Vd(e)}}):V=Uw({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),h({cache:V,throttle:!1})},[r,e,t.rows,t.getRowId,t.loading,t.rowCount,h]),$=is(()=>t.dataSource),B=_.useCallback(V=>{if(t.dataSource&&t.dataSource!==$.current){$.current=t.dataSource;return}V==="rowTreeCreation"&&D()},[D,$,t.dataSource]),U=_.useCallback(()=>{e.current.getActiveStrategy(uu.RowTree)!==jke(e)&&D()},[e,D]);Tt(e,"activeStrategyProcessorChange",B),Tt(e,"strategyAvailabilityChange",U);const q=_.useCallback(()=>{e.current.setState(V=>{const Y=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Go(e),treeDepths:FG(e),dataRowIds:Vd(e),dataRowIdToModelLookup:qs(e)});return G({},V,{rows:G({},V.rows,Y,{totalTopLevelRowCount:VG({tree:Y.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);XR(e,"hydrateRows",q),Sn(e,N,"public"),Sn(e,P,t.signature===Ma.DataGrid?"private":"public"),Sn(e,L,"private");const W=_.useRef(!0);_.useEffect(()=>{if(W.current){W.current=!1;return}let V=!1;t.rowCount!==i.current&&(V=!0,i.current=t.rowCount);const Y=t.dataSource?Vke(e):t.rows,J=e.current.caches.rows.rowsBeforePartialUpdates===Y,ne=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,z=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;J&&(ne||(e.current.setState(K=>G({},K,{rows:G({},K.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),z||(e.current.setState(K=>G({},K,{rows:G({},K.rows,{totalRowCount:Math.max(t.rowCount||0,K.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,K.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),!V)||(r.debug(`Updating all rows, new length ${Y?.length}`),h({cache:Uw({rows:Y,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,r,h,e])},X$e=e=>{const t={[Do]:G({},zke(),{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:Do,type:"leaf",groupingKey:null}}return{groupingName:Xd,tree:t,treeDepths:{0:e.length},dataRowIds:e}},Z$e=({previousTree:e,actions:t})=>{const n=G({},e),r={};for(let s=0;s<t.remove.length;s+=1){const a=t.remove[s];r[a]=!0,delete n[a]}for(let s=0;s<t.insert.length;s+=1){const a=t.insert[s];n[a]={id:a,depth:0,parent:Do,type:"leaf",groupingKey:null}}const o=n[Do];let i=[...o.children,...t.insert];return Object.values(r).length&&(i=i.filter(s=>!r[s])),n[Do]=G({},o,{children:i}),{groupingName:Xd,tree:n,treeDepths:{0:i.length},dataRowIds:i}},J$e=e=>e.updates.type==="full"?X$e(e.updates.rows):Z$e({previousTree:e.previousTree,actions:e.updates.actions}),Q$e=e=>{Bm(e,Xd,"rowTreeCreation",J$e)};class nI extends Error{}function eze(e,t){const n=_.useCallback(y=>({field:y,colDef:e.current.getColumn(y)}),[e]),r=_.useCallback(y=>{const b=e.current.getRow(y);if(!b)throw new nI(`No row with id #${y} found`);return{id:y,columns:e.current.getAllColumns(),row:b}},[e]),o=_.useCallback((y,b,v,{cellMode:S,colDef:E,hasFocus:T,rowNode:R,tabIndex:M})=>{const I=v[b],N=E?.valueGetter?E.valueGetter(I,v,E,e):I,P={id:y,field:b,row:v,rowNode:R,colDef:E,cellMode:S,hasFocus:T,tabIndex:M,value:N,formattedValue:N,isEditable:!1,api:e.current};return E&&E.valueFormatter&&(P.formattedValue=E.valueFormatter(N,v,E,e)),P.isEditable=E&&e.current.isCellEditable(P),P},[e]),i=_.useCallback((y,b)=>{const v=e.current.getRow(y),S=fl(e,y);if(!v||!S)throw new nI(`No row with id #${y} found`);const E=Ui(e),T=AR(e),R=e.current.getCellMode(y,b);return e.current.getCellParamsForRow(y,b,v,{colDef:t.listView&&t.listViewColumn?.field===b?c2(e):e.current.getColumn(b),rowNode:S,hasFocus:E!==null&&E.field===b&&E.id===y,tabIndex:T&&T.field===b&&T.id===y?0:-1,cellMode:R})},[e,t.listView,t.listViewColumn?.field]),s=_.useCallback((y,b)=>{const v=e.current.getColumn(b),S=e.current.getRow(y);if(!S)throw new nI(`No row with id #${y} found`);return!v||!v.valueGetter?S[b]:v.valueGetter(S[v.field],S,v,e)},[e]),a=_.useCallback((y,b)=>Hke(y,b,e),[e]),c=_.useCallback((y,b)=>{const v=a(y,b);return!b||!b.valueFormatter?v:b.valueFormatter(v,y,b,e)},[e,a]),u=_.useCallback(y=>e.current.rootElementRef.current?ABe(e.current.rootElementRef.current,y):null,[e]),h=_.useCallback(y=>e.current.rootElementRef.current?LBe(e.current.rootElementRef.current,y):null,[e]),f=_.useCallback((y,b)=>e.current.rootElementRef.current?NBe(e.current.rootElementRef.current,{id:y,field:b}):null,[e]),g={getCellValue:s,getCellParams:i,getCellElement:f,getRowValue:a,getRowFormattedValue:c,getRowParams:r,getRowElement:h,getColumnHeaderParams:n,getColumnHeaderElement:u},m={getCellParamsForRow:o};Sn(e,g,"public"),Sn(e,m,"private")}const Fm={type:"include",ids:new Set},tze=(e,t)=>G({},e,{rowSelection:t.rowSelection?t.rowSelectionModel??Fm:Fm}),nze=(e,t)=>{const n=Ko(e,"useGridSelection"),r=_.useCallback(z=>(...K)=>{t.rowSelection&&z(...K)},[t.rowSelection]),o=tt(e,pm)>1,i=t.signature!==Ma.DataGrid&&(t.rowSelectionPropagation?.parents||t.rowSelectionPropagation?.descendants)&&o,s=_.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),a=_.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:Ia,changeEvent:"rowSelectionChange"});const{checkboxSelection:c,disableRowSelectionOnClick:u,isRowSelectable:h}=t,f=DR(t),g=tt(e,Go),m=_.useCallback(z=>{let K=z;const Z=a.current??z,le=e.current.isRowSelected(z);if(le){const ce=Hd(e),ue=ce.findIndex(ye=>ye===Z),ae=ce.findIndex(ye=>ye===K);if(ue===ae)return;ue>ae?K=ce[ae+1]:K=ce[ae-1]}a.current=z,e.current.selectRowRange({startId:Z,endId:K},!le)},[e]),y=$t(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?H2(e):Hd(e)),b=_.useCallback((z,K)=>{if(t.signature===Ma.DataGrid&&!f&&(z.type!=="include"||z.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Ia(e)!==z&&(n.debug("Setting selection model"),e.current.setState(le=>G({},le,{rowSelection:t.rowSelection?z:Fm}),K))},[e,n,t.rowSelection,t.signature,f]),v=_.useCallback(z=>Cm(e).has(z),[e]),S=_.useCallback(z=>{if(t.rowSelection===!1||h&&!h(e.current.getRowParams(z)))return!1;const K=fl(e,z);return!(K?.type==="footer"||K?.type==="pinnedRow")},[e,t.rowSelection,h]),E=_.useCallback(()=>A2(e),[e]),T=_.useCallback((z,K=!0,Z=!1)=>{if(e.current.isRowSelectable(z))if(a.current=z,Z){n.debug(`Setting selection for row ${z}`);const le={type:"include",ids:new Set},ce=ue=>{le.ids.add(ue)};K&&(ce(z),i&&xm(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ce)),e.current.setRowSelectionModel(le,"singleRowSelection")}else{n.debug(`Toggling selection for row ${z}`);const le=Ia(e),ce={type:le.type,ids:new Set(le.ids)},ue=ru(ce);ue.unselect(z);const ae=xe=>{ue.select(xe)},ye=xe=>{ue.unselect(xe)};K?(ae(z),i&&xm(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ae)):i&&N2(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ye),(ce.type==="include"&&ce.ids.size<2||f)&&e.current.setRowSelectionModel(ce,"singleRowSelection")}},[e,n,i,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,f]),R=_.useCallback((z,K=!0,Z=!1)=>{if(n.debug("Setting selection for several rows"),t.rowSelection===!1)return;const le=new Set;for(let ye=0;ye<z.length;ye+=1){const Me=z[ye];e.current.isRowSelectable(Me)&&le.add(Me)}const ce=Ia(e);let ue;if(Z){if(ue={type:"include",ids:le},K){const ye=ru(ue);if(i){const Me=xe=>{ye.select(xe)};for(const xe of le)xm(e,g,xe,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Me)}}else ue.ids=new Set;if(ce.type===ue.type&&ue.ids.size===ce.ids.size&&Array.from(ue.ids).every(ye=>ce.ids.has(ye)))return}else{ue={type:ce.type,ids:new Set(ce.ids)};const ye=ru(ue),Me=he=>{ye.select(he)},xe=he=>{ye.unselect(he)};for(const he of le)K?(ye.select(he),i&&xm(e,g,he,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Me)):(xe(he),i&&N2(e,g,he,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,xe))}(ue.type==="include"&&ue.ids.size<2||f)&&e.current.setRowSelectionModel(ue,"multipleRowsSelection")},[n,i,f,e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,t.rowSelection]),M=_.useCallback(z=>{if(!o||!i||z.ids.size===0&&z.type==="include")return z;const K={type:z.type,ids:new Set(z.ids)},Z=ru(K),le=ce=>{Z.select(ce)};for(const ce of z.ids)xm(e,g,ce,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,le,Z);return K},[e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,o,i]),I=_.useCallback(({startId:z,endId:K},Z=!0,le=!1)=>{if(!e.current.getRow(z)||!e.current.getRow(K))return;n.debug(`Expanding selection from row ${z} to row ${K}`);const ce=Hd(e),ue=ce.indexOf(z),ae=ce.indexOf(K),[ye,Me]=ue>ae?[ae,ue]:[ue,ae],xe=ce.slice(ye,Me+1);e.current.selectRows(xe,Z,le)},[e,n]),N={selectRow:T,setRowSelectionModel:b,getSelectedRows:E,isRowSelected:v,isRowSelectable:S},P={selectRows:R,selectRowRange:I,getPropagatedRowSelectionModel:M};Sn(e,N,"public"),Sn(e,P,t.signature===Ma.DataGrid?"private":"public");const L=_.useRef(!0),D=_.useCallback((z=!1)=>{if(L.current)return;const K=Ia(e),Z=qs(e),le=Go(e),ce=yf(e),ue=he=>t.filterMode==="server"?!Z[he]:!le[he]||ce[he]===!1,ae={type:K.type,ids:new Set(K.ids)},ye=ru(ae);let Me=!1;for(const he of K.ids){if(ue(he)){if(t.keepNonExistentRowsSelected)continue;ye.unselect(he),Me=!0;continue}if(!t.rowSelectionPropagation?.parents)continue;const pe=g[he];if(pe?.type==="group"){if(pe.isAutoGenerated){ye.unselect(he),Me=!0;continue}pe.children.every(Ee=>ce[Ee]===!1)||(ye.unselect(he),Me=!0)}}const xe=o&&t.rowSelectionPropagation?.parents&&(ae.ids.size>0||ae.type==="exclude");if(Me||xe&&!z)if(xe)if(ae.type==="exclude"){const he=y(),pe=[];for(let Se=0;Se<he.length;Se+=1){const Ee=he[Se];(t.keepNonExistentRowsSelected||!ue(Ee))&&ye.has(Ee)&&pe.push(Ee)}e.current.selectRows(pe,!0,!0)}else e.current.selectRows(Array.from(ae.ids),!0,!0);else e.current.setRowSelectionModel(ae,"multipleRowsSelection")},[e,o,t.rowSelectionPropagation?.parents,t.keepNonExistentRowsSelected,t.filterMode,g,y]),$=_.useCallback((z,K)=>{const Z=K.metaKey||K.ctrlKey,le=!c&&!Z&&!PDe(K),ce=!f||le,ue=e.current.isRowSelected(z),Me=tS(e)>1&&ce||!ue;e.current.selectRow(z,Me,ce)},[e,f,c]),B=_.useCallback((z,K)=>{if(u)return;const Z=K.target.closest(`.${ie.cell}`)?.getAttribute("data-field");Z===Cf.field||Z===OR||Z&&e.current.getColumn(Z)?.type===Zw||fl(e,z.id).type==="pinnedRow"||(K.shiftKey&&f?m(z.id):$(z.id,K))},[u,f,e,m,$]),U=_.useCallback((z,K)=>{f&&K.shiftKey&&window.getSelection()?.removeAllRanges()},[f]),q=_.useCallback((z,K)=>{f&&K.nativeEvent.shiftKey?m(z.id):e.current.selectRow(z.id,z.value,!f)},[e,m,f]),W=_.useCallback(z=>{const K=Ao(e),Z=R2(e),le=K.items.length>0||Z?.some(ce=>ce.length);!t.isRowSelectable&&!t.checkboxSelectionVisibleOnly&&(!o||t.rowSelectionPropagation?.descendants)&&!le&&!t.disableRowSelectionExcludeModel?e.current.setRowSelectionModel({type:z?"exclude":"include",ids:new Set},"multipleRowsSelection"):e.current.selectRows(y(),z)},[e,y,t.checkboxSelectionVisibleOnly,t.isRowSelectable,t.rowSelectionPropagation?.descendants,t.disableRowSelectionExcludeModel,o]),V=_.useCallback(z=>{W(z.value)},[W]),Y=_.useCallback((z,K)=>{if(e.current.getCellMode(z.id,z.field)!==qn.Edit&&!Im(K)){if(qw(K.key)&&K.shiftKey){const Z=Ui(e);if(Z&&Z.id!==z.id){K.preventDefault();const le=e.current.isRowSelected(Z.id);if(!f){e.current.selectRow(Z.id,!le,!0);return}const ce=e.current.getRowIndexRelativeToVisibleRows(Z.id),ue=e.current.getRowIndexRelativeToVisibleRows(z.id);let ae,ye;ce>ue?le?(ae=ue,ye=ce-1):(ae=ue,ye=ce):le?(ae=ce+1,ye=ue):(ae=ce,ye=ue);const Me=kf(e),xe=[];for(let he=ae;he<=ye;he+=1)xe.push(Me.rows[he].id);e.current.selectRows(xe,!le);return}}if(K.key===" "&&K.shiftKey){K.preventDefault(),$(z.id,K);return}String.fromCharCode(K.keyCode)==="A"&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),W(!0))}},[e,f,$,W]),J=$t(()=>{if(!t.rowSelection){e.current.setRowSelectionModel(Fm);return}if(s===void 0)return;if(!i||!o||s.type==="include"&&s.ids.size===0){e.current.setRowSelectionModel(s);return}const z=e.current.getPropagatedRowSelectionModel(s);if(z.type!==s.type||z.ids.size!==s.ids.size||!Array.from(s.ids).every(K=>z.ids.has(K))){e.current.setRowSelectionModel(z);return}e.current.setRowSelectionModel(s)});Tt(e,"sortedRowsSet",r(()=>D(!0))),Tt(e,"filteredRowsSet",r(()=>D())),Tt(e,"rowClick",r(B)),Tt(e,"rowSelectionCheckboxChange",r(q)),Tt(e,"headerSelectionCheckboxChange",V),Tt(e,"cellMouseDown",r(U)),Tt(e,"cellKeyDown",r(Y)),_.useEffect(()=>{J()},[e,s,t.rowSelection,J]);const ne=s!=null;_.useEffect(()=>{if(ne||!t.rowSelection||typeof S!="function")return;const z=Ia(e);if(z.type!=="include")return;const K=new Set;for(const Z of z.ids)S(Z)&&K.add(Z);K.size<z.ids.size&&e.current.setRowSelectionModel({type:z.type,ids:K})},[e,S,ne,t.rowSelection]),_.useEffect(()=>{if(!t.rowSelection||ne)return;const z=Ia(e);!f&&(z.type==="include"&&z.ids.size>1||z.type==="exclude")&&e.current.setRowSelectionModel(Fm)},[e,f,c,ne,t.rowSelection]),_.useEffect(()=>{r(D)},[D,r]),_.useEffect(()=>{L.current&&(L.current=!1)},[])},rze=e=>{const{classes:t}=e;return _.useMemo(()=>ht({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},xn,t),[t])},oze=(e,t)=>{const n={classes:t.classes},r=rze(n),o=_.useCallback(i=>{const s=G({},Cf,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=i.lookup[Pa]!=null;return a&&!c?(i.lookup[Pa]=s,i.orderedFields=[Pa,...i.orderedFields]):!a&&c?(delete i.lookup[Pa],i.orderedFields=i.orderedFields.filter(u=>u!==Pa)):a&&c&&(i.lookup[Pa]=G({},s,i.lookup[Pa]),t.columns.some(u=>u.field===Pa)||(i.orderedFields=[Pa,...i.orderedFields.filter(u=>u!==Pa)])),i},[e,r,t.columns,t.checkboxSelection]);$r(e,"hydrateColumns",o)},ize=(e,t)=>{const n=t.sortModel??t.initialState?.sorting?.sortModel??[];return G({},e,{sorting:{sortModel:ZG(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},sze=(e,t)=>{const n=Ko(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Qs,changeEvent:"sortModelChange"});const r=_.useCallback((M,I)=>{const N=Qs(e),P=N.findIndex(D=>D.field===M);let L=[...N];return P>-1?I?.sort==null?L.splice(P,1):L.splice(P,1,I):L=[...N,I],L},[e]),o=_.useCallback((M,I)=>{const P=Qs(e).find(L=>L.field===M.field);if(P){const L=I===void 0?QG(M.sortingOrder??t.sortingOrder,P.sort):I;return L===void 0?void 0:G({},P,{sort:L})}return{field:M.field,sort:I===void 0?QG(M.sortingOrder??t.sortingOrder):I}},[e,t.sortingOrder]),i=_.useCallback((M,I)=>I==null||I.sortable===!1||t.disableColumnSorting?M:(I.sortingOrder||t.sortingOrder).some(P=>!!P)?[...M,"columnMenuSortItem"]:M,[t.sortingOrder,t.disableColumnSorting]),s=_.useCallback(()=>{e.current.setState(M=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),G({},M,{sorting:G({},M.sorting,{sortedRows:wR(Go(e),Do,!1)})});const I=Qs(e),N=uDe(I,e),P=e.current.applyStrategyProcessor("sorting",{sortRowList:N});return G({},M,{sorting:G({},M.sorting,{sortedRows:P})})}),e.current.publishEvent("sortedRowsSet")},[e,n,t.sortingMode]),a=_.useCallback(M=>{Qs(e)!==M&&(n.debug("Setting sort model"),e.current.setState(JG(M,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),c=_.useCallback((M,I,N)=>{const P=e.current.getColumn(M),L=o(P,I);let D;!N||t.disableMultipleColumnsSorting?D=L?.sort==null?[]:[L]:D=r(P.field,L),e.current.setSortModel(D)},[e,r,o,t.disableMultipleColumnsSorting]),u=_.useCallback(()=>Qs(e),[e]),h=_.useCallback(()=>RR(e).map(I=>I.model),[e]),f=_.useCallback(()=>Sm(e),[e]),g=_.useCallback(M=>e.current.getSortedRowIds()[M],[e]);Sn(e,{getSortModel:u,getSortedRows:h,getSortedRowIds:f,getRowIdFromRowIndex:g,setSortModel:a,sortColumn:c,applySorting:s},"public");const y=_.useCallback((M,I)=>{const N=Qs(e);return!I.exportOnlyDirtyModels||t.sortModel!=null||t.initialState?.sorting?.sortModel!=null||N.length>0?G({},M,{sorting:{sortModel:N}}):M},[e,t.sortModel,t.initialState?.sorting?.sortModel]),b=_.useCallback((M,I)=>{const N=I.stateToRestore.sorting?.sortModel;return N==null?M:(e.current.setState(JG(N,t.disableMultipleColumnsSorting)),G({},M,{callbacks:[...M.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),v=_.useCallback(M=>{const I=Go(e),N=I[Do],P=M.sortRowList?M.sortRowList(N.children.map(L=>I[L])):[...N.children];return N.footerId!=null&&P.push(N.footerId),P},[e]);$r(e,"exportState",y),$r(e,"restoreState",b),Bm(e,Xd,"sorting",v);const S=_.useCallback(({field:M,colDef:I},N)=>{if(!I.sortable||t.disableColumnSorting)return;const P=t.multipleColumnsSortingMode==="always"||N.shiftKey||N.metaKey||N.ctrlKey;c(M,void 0,P)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),E=_.useCallback(({field:M,colDef:I},N)=>{!I.sortable||t.disableColumnSorting||N.key==="Enter"&&!N.ctrlKey&&!N.metaKey&&c(M,void 0,t.multipleColumnsSortingMode==="always"||N.shiftKey)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),T=_.useCallback(()=>{const M=Qs(e),I=rc(e);if(M.length>0){const N=M.filter(P=>I[P.field]);N.length<M.length&&e.current.setSortModel(N)}},[e]),R=_.useCallback(M=>{M==="sorting"&&e.current.applySorting()},[e]);$r(e,"columnMenu",i),Tt(e,"columnHeaderClick",S),Tt(e,"columnHeaderKeyDown",E),Tt(e,"rowsSet",e.current.applySorting),Tt(e,"columnsChange",T),Tt(e,"activeStrategyProcessorChange",R),Wd(()=>{e.current.applySorting()}),Un(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function r4(e){const{containerSize:t,scrollPosition:n,elementSize:r,elementOffset:o}=e,i=o+r;if(r>t)return o;if(i-t>n)return i-t;if(o<n)return o}const aze=(e,t)=>{const n=Uo(),r=Ko(e,"useGridScroll"),o=e.current.columnHeadersContainerRef,i=e.current.virtualScrollerRef,s=tt(e,su),a=_.useCallback(f=>{const g=Xr(e),m=gf(e),y=Zr(e);if(!(f.rowIndex==null)&&m===0||y.length===0)return!1;r.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let v={};if(f.colIndex!==void 0){const S=Ud(e);let E;if(typeof f.rowIndex<"u"){const T=s[f.rowIndex]?.id,R=e.current.unstable_getCellColSpanInfo(T,f.colIndex);R&&!R.spannedByColSpan&&(E=R.cellProps.width)}typeof E>"u"&&(E=y[f.colIndex].computedWidth),v.left=r4({containerSize:g.viewportOuterSize.width,scrollPosition:Math.abs(i.current.scrollLeft),elementSize:E,elementOffset:S[f.colIndex]})}if(f.rowIndex!==void 0){const S=bR(e),E=SAe(e),T=z2(e),R=t.pagination?f.rowIndex-E*T:f.rowIndex,M=S.positions[R+1]?S.positions[R+1]-S.positions[R]:S.currentPageTotalHeight-S.positions[R];v.top=r4({containerSize:g.viewportInnerSize.height,scrollPosition:i.current.scrollTop,elementSize:M,elementOffset:S.positions[R]})}return v=e.current.unstable_applyPipeProcessors("scrollToIndexes",v,f),typeof v.left<"u"||typeof v.top<"u"?(e.current.scroll(v),!0):!1},[r,e,i,t.pagination,s]),c=_.useCallback(f=>{if(i.current&&f.left!==void 0&&o.current){const g=n?-1:1;o.current.scrollLeft=f.left,i.current.scrollLeft=g*f.left,r.debug(`Scrolling left: ${f.left}`)}i.current&&f.top!==void 0&&(i.current.scrollTop=f.top,r.debug(`Scrolling top: ${f.top}`)),r.debug("Scrolling, updating container, and viewport")},[i,n,o,r]),u=_.useCallback(()=>i?.current?{top:i.current.scrollTop,left:i.current.scrollLeft}:{top:0,left:0},[i]);Sn(e,{scroll:c,scrollToIndexes:a,getScrollPosition:u},"public")};function lze(e,t){lr(e,"columnHeaderClick",t.onColumnHeaderClick),lr(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),lr(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),lr(e,"columnHeaderOver",t.onColumnHeaderOver),lr(e,"columnHeaderOut",t.onColumnHeaderOut),lr(e,"columnHeaderEnter",t.onColumnHeaderEnter),lr(e,"columnHeaderLeave",t.onColumnHeaderLeave),lr(e,"cellClick",t.onCellClick),lr(e,"cellDoubleClick",t.onCellDoubleClick),lr(e,"cellKeyDown",t.onCellKeyDown),lr(e,"preferencePanelClose",t.onPreferencePanelClose),lr(e,"preferencePanelOpen",t.onPreferencePanelOpen),lr(e,"menuOpen",t.onMenuOpen),lr(e,"menuClose",t.onMenuClose),lr(e,"rowDoubleClick",t.onRowDoubleClick),lr(e,"rowClick",t.onRowClick),lr(e,"stateChange",t.onStateChange)}const jm={width:0,height:0},cze={isReady:!1,root:jm,viewportOuterSize:jm,viewportInnerSize:jm,contentSize:jm,minimumSize:jm,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},uze=(e,t,n)=>{const r=cze,o=mm(n);return G({},e,{dimensions:G({},r,fze(t,n,o,Kw(n)))})},dze=Ot(Zr,Ud,(e,t)=>{const n=e.length;return n===0?0:Yd(t[n-1]+e[n-1].computedWidth,1)});function hze(e,t){const n=e.current.virtualizer,r=n.api.updateDimensions,o=n.api.getViewportPageSize,s={getRootDimensions:_.useCallback(()=>Xr(e),[e])},a={updateDimensions:r,getViewportPageSize:o};Sn(e,s,"public"),Sn(e,a,"private"),lr(e,"rootMount",u=>{o4(u,Xr(e))}),lr(e,"debouncedResize",t.onResize),Pw(e.current.store,u=>u.dimensions,(u,h)=>{e.current.rootElementRef.current&&o4(e.current.rootElementRef.current,h),pze(h.viewportInnerSize,u.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",h.viewportInnerSize),e.current.publishEvent("debouncedResize",h.root)})}function o4(e,t){const n=(r,o)=>e.style.setProperty(r,o);n("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),n("--DataGrid-rowWidth",`${t.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${t.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),n("--height",`${t.rowHeight}px`)}function fze(e,t,n,r){const o=WG(e.rowHeight,wS.rowHeight);return{rowHeight:Math.floor(o*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n),columnsTotalWidth:dze(t),headersTotalHeight:Om(t,e),leftPinnedWidth:r.left.reduce((i,s)=>i+s.computedWidth,0),rightPinnedWidth:r.right.reduce((i,s)=>i+s.computedWidth,0)}}function pze(e,t){return e.width===t.width&&e.height===t.height}const gze=(e,t,n)=>{const r=Rke(n),o=gf(n),i=bf(n),s=Math.min(i.enabled?i.paginationModel.pageSize:o,o);return G({},e,{rowsMeta:{currentPageTotalHeight:s*r,positions:Array.from({length:s},(a,c)=>c*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},mze=(e,t)=>{const n=e.current.virtualizer,{getRowHeight:r,setLastMeasuredRowIndex:o,storeRowHeightMeasurement:i,resetRowHeights:s,hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:u,getRowHeightEntry:h,getLastMeasuredRowIndex:f}=n.api.rowsMeta;XR(e,"rowHeight",a);const g={unstable_getRowHeight:r,unstable_setLastMeasuredRowIndex:o,unstable_storeRowHeightMeasurement:i,resetRowHeights:s},m={hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:u,getRowHeightEntry:h,getLastMeasuredRowIndex:f};Sn(e,g,"public"),Sn(e,m,"private")},vze=e=>{const t=_.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),n=_.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(s=>{s()})},[e]);Sn(e,{exportState:t,restoreState:n},"public")},yze=e=>{const t=e.current.virtualizer,n=t.api.resetColSpan,r=t.api.getCellColSpanInfo,o=t.api.calculateColSpan,i={unstable_getCellColSpanInfo:r},s={resetColSpan:n,calculateColSpan:o};Sn(e,i,"public"),Sn(e,s,"private"),Tt(e,"columnOrderChange",n)},i4=(e,t,n)=>{if(o2(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:o}=e;o.forEach(i=>{i4(i,[...t,r],n)})},rI=e=>{if(!e)return{};const t={};return e.forEach(n=>{i4(n,[],t)}),t},oI=(e,t,n)=>{const r=c=>t[c]??[],o=[],i=Math.max(0,...e.map(c=>r(c).length)),s=(c,u,h)=>{const f=r(c),g=r(u);for(let m=0;m<=h;m+=1)if(f[m]!==g[m])return!1;return!0},a=(c,u)=>{const h=n?.left,f=n?.right,g=!!h?.includes(c),m=!!h?.includes(u),y=!!f?.includes(c),b=!!f?.includes(u);return g!==m||y!==b};for(let c=0;c<i;c+=1){const u=[];for(let h=0;h<e.length;h+=1){const f=e[h],g=r(f)[c]??null;if(u.length===0){u.push({columnFields:[f],groupId:g});continue}const m=u[u.length-1],y=m.columnFields[m.columnFields.length-1];m.groupId!==g||!s(y,f,c)||a(y,f)?u.push({columnFields:[f],groupId:g}):m.columnFields.push(f)}o.push(u)}return o},bze=["groupId","children"],iI=e=>{const t={};for(let n=0;n<e.length;n+=1){const r=e[n];if(o2(r))continue;const{groupId:o,children:i}=r,s=pt(r,bze);if(!o)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const a=G({},s,{groupId:o}),c=iI(i);if(c[o]!==void 0||t[o]!==void 0)throw new Error(`MUI X: The groupId ${o} is used multiple times in the columnGroupingModel.`);Object.assign(t,c),t[o]=a}return t},wze=(e,t,n)=>{if(n.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;const r=vl(n),o=ym(n),i=iI(t.columnGroupingModel??[]),s=rI(t.columnGroupingModel??[]),a=oI(r,s,n.current.state.pinnedColumns??{}),c=o.length===0?0:Math.max(...o.map(u=>s[u]?.length??0));return G({},e,{columnGrouping:{lookup:i,unwrappedGroupingModel:s,headerStructure:a,maxDepth:c}})},Sze=(e,t)=>{const n=_.useCallback(a=>Z2(e)[a]??[],[e]),r=_.useCallback(()=>J2(e),[e]);Sn(e,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const i=_.useCallback(()=>{const a=rI(t.columnGroupingModel??[]);e.current.setState(c=>{const u=c.columns?.orderedFields??[],h=c.pinnedColumns??{},f=oI(u,a,h);return G({},c,{columnGrouping:G({},c.columnGrouping,{headerStructure:f})})})},[e,t.columnGroupingModel]),s=_.useCallback(a=>{e.current.caches.columnGrouping.lastColumnGroupingModel=a;const c=e.current.getPinnedColumns?.()??{},u=vl(e),h=ym(e),f=iI(a??[]),g=rI(a??[]),m=oI(u,g,c),y=h.length===0?0:Math.max(...h.map(b=>g[b]?.length??0));e.current.setState(b=>G({},b,{columnGrouping:{lookup:f,unwrappedGroupingModel:g,headerStructure:m,maxDepth:y}}))},[e]);Tt(e,"columnIndexChange",i),Tt(e,"columnsChange",()=>{s(t.columnGroupingModel)}),Tt(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),_.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&s(t.columnGroupingModel)},[e,s,t.columnGroupingModel])};function Cze(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function s4(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function a4(e,t,n,r){let o=e;return r==="Right"?o+=t-n.left:o+=n.right-t,o}function xze(e,t,n){return n==="Left"?e-t.left:t.right-e}function _ze(e){return e==="Right"?"Left":"Right"}function Eze(e,t){const n=e.classList.contains(ie["columnSeparator--sideRight"])?"Right":"Left";return t?_ze(n):n}function l4(e){e.preventDefault(),e.stopImmediatePropagation()}function Tze(e){const t=_.useRef(void 0),n=()=>mNe(e),r=tt(e,n);return _.useEffect(()=>{t.current&&r===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=Cze()}return t.current}}function Mze(e,t){if(e.length<4)return e;const n=e.slice();n.sort((a,c)=>a-c);const r=n[Math.floor(n.length*.25)],o=n[Math.floor(n.length*.75)-1],i=o-r,s=i<5?5:i*t;return n.filter(a=>a>r-s&&a<o+s)}function Oze(e,t,n){const r={},o=e.current.rootElementRef.current;return o.classList.add(ie.autosizing),n.forEach(i=>{const a=KBe(e.current,i.field).map(y=>y.getBoundingClientRect().width??0),c=t.includeOutliers?a:Mze(a,t.outliersFactor);if(t.includeHeaders){const y=WBe(e.current,i.field);if(y){const b=y.querySelector(`.${ie.columnHeaderTitle}`),v=y.querySelector(`.${ie.columnHeaderTitleContainerContent}`),S=y.querySelector(`.${ie.iconButtonContainer}`),E=y.querySelector(`.${ie.menuIcon}`),T=b??v,R=window.getComputedStyle(y,null),M=parseInt(R.paddingLeft,10)+parseInt(R.paddingRight,10),N=T.scrollWidth+1+M+(S?.clientWidth??0)+(E?.clientWidth??0);c.push(N)}}const u=i.minWidth!==-1/0&&i.minWidth!==void 0,h=i.maxWidth!==1/0&&i.maxWidth!==void 0,f=u?i.minWidth:0,g=h?i.maxWidth:1/0,m=c.length===0?0:Math.max(...c);r[i.field]=zd(m,f,g)}),o.classList.remove(ie.autosizing),r}const Rze=e=>G({},e,{columnResize:{resizingColumnField:""}});function Ize(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const Pze=(e,t)=>{const n=Uo(),r=Ko(e,"useGridColumnResize"),o=is(Ize).current,i=_.useRef(null),s=_.useRef(null),a=Fi(),c=_.useRef(void 0),u=L=>{r.debug(`Updating width to ${L} for col ${o.colDef.field}`);const D=o.columnHeaderElement.offsetWidth,$=L-D,B=L-o.initialColWidth;if(B>0){const W=o.initialTotalWidth+B;e.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${W}px`)}o.colDef.computedWidth=L,o.colDef.width=L,o.colDef.flex=0,o.columnHeaderElement.style.width=`${L}px`;const U=o.headerFilterElement;U&&(U.style.width=`${L}px`),o.groupHeaderElements.forEach(W=>{const V=W;let Y;V.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${V.offsetWidth+$}px`,V.style.width=Y}),o.cellElements.forEach(W=>{const V=W;let Y;V.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${V.offsetWidth+$}px`,V.style.setProperty("--width",Y)});const q=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);q===iu.LEFT&&(Df(o.fillerLeft,"width",$),o.leftPinnedCellsAfter.forEach(W=>{Df(W,"left",$)}),o.leftPinnedHeadersAfter.forEach(W=>{Df(W,"left",$)})),q===iu.RIGHT&&(Df(o.fillerRight,"width",$),o.rightPinnedCellsBefore.forEach(W=>{Df(W,"right",$)}),o.rightPinnedHeadersBefore.forEach(W=>{Df(W,"right",$)}))},h=L=>{if(S(),o.previousMouseClickEvent){const D=o.previousMouseClickEvent,$=D.timeStamp,B=D.clientX,U=D.clientY;if(L.timeStamp-$<300&&L.clientX===B&&L.clientY===U){o.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,L);return}}if(o.colDef){e.current.setColumnWidth(o.colDef.field,o.colDef.width),r.debug(`Updating col ${o.colDef.field} with new width: ${o.colDef.width}`);const D=Oa(e);o.groupHeaderElements.forEach($=>{const B=jBe($),U=$,W=`${B.reduce((V,Y)=>D.columnVisibilityModel[Y]!==!1?V+D.lookup[Y].computedWidth:V,0)}px`;U.style.width=W})}a.start(0,()=>{e.current.publishEvent("columnResizeStop",null,L)})},f=(L,D,$)=>{const B=e.current.rootElementRef.current;o.initialColWidth=L.computedWidth,o.initialTotalWidth=e.current.getRootDimensions().rowWidth,o.colDef=L,o.columnHeaderElement=FBe(e.current.columnHeadersContainerRef.current,L.field);const U=B.querySelector(`.${ie.headerFilterRow} [data-field="${ic(L.field)}"]`);U&&(o.headerFilterElement=U),o.groupHeaderElements=VBe(e.current.columnHeadersContainerRef?.current,L.field),o.cellElements=$Be(o.columnHeaderElement,e.current),o.fillerLeft=k5(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),o.fillerRight=k5(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const q=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);o.leftPinnedCellsAfter=q!==iu.LEFT?[]:zBe(e.current,o.columnHeaderElement,n),o.rightPinnedCellsBefore=q!==iu.RIGHT?[]:UBe(e.current,o.columnHeaderElement,n),o.leftPinnedHeadersAfter=q!==iu.LEFT?[]:HBe(e.current,o.columnHeaderElement,n),o.rightPinnedHeadersBefore=q!==iu.RIGHT?[]:GBe(e.current,o.columnHeaderElement,n),s.current=Eze(D,n),i.current=xze($,o.columnHeaderElement.getBoundingClientRect(),s.current)},g=$t(h),m=$t(L=>{if(L.buttons===0){g(L);return}let D=a4(i.current,L.clientX,o.columnHeaderElement.getBoundingClientRect(),s.current);D=zd(D,o.colDef.minWidth,o.colDef.maxWidth),u(D);const $={element:o.columnHeaderElement,colDef:o.colDef,width:D};e.current.publishEvent("columnResize",$,L)}),y=$t(L=>{s4(L,c.current)&&h(L)}),b=$t(L=>{const D=s4(L,c.current);if(!D)return;if(L.type==="mousemove"&&L.buttons===0){y(L);return}let $=a4(i.current,D.x,o.columnHeaderElement.getBoundingClientRect(),s.current);$=zd($,o.colDef.minWidth,o.colDef.maxWidth),u($);const B={element:o.columnHeaderElement,colDef:o.colDef,width:$};e.current.publishEvent("columnResize",B,L)}),v=$t(L=>{const D=vS(L.target,ie["columnSeparator--resizable"]);if(!D)return;const $=L.changedTouches[0];$!=null&&(c.current=$.identifier);const B=vS(L.target,ie.columnHeader),U=BBe(B),q=e.current.getColumn(U);r.debug(`Start Resize on col ${q.field}`),e.current.publishEvent("columnResizeStart",{field:U},L),f(q,D,$.clientX);const W=qr(L.currentTarget);W.addEventListener("touchmove",b),W.addEventListener("touchend",y)}),S=_.useCallback(()=>{const L=qr(e.current.rootElementRef.current);L.body.style.removeProperty("cursor"),L.removeEventListener("mousemove",m),L.removeEventListener("mouseup",g),L.removeEventListener("touchmove",b),L.removeEventListener("touchend",y),setTimeout(()=>{L.removeEventListener("click",l4,!0)},100),o.columnHeaderElement&&(o.columnHeaderElement.style.pointerEvents="unset")},[e,o,m,g,b,y]),E=_.useCallback(({field:L})=>{e.current.setState(D=>G({},D,{columnResize:G({},D.columnResize,{resizingColumnField:L})}))},[e]),T=_.useCallback(()=>{e.current.setState(L=>G({},L,{columnResize:G({},L.columnResize,{resizingColumnField:""})}))},[e]),R=$t(({colDef:L},D)=>{if(D.button!==0||!D.currentTarget.classList.contains(ie["columnSeparator--resizable"]))return;D.preventDefault(),r.debug(`Start Resize on col ${L.field}`),e.current.publishEvent("columnResizeStart",{field:L.field},D),f(L,D.currentTarget,D.clientX);const $=qr(e.current.rootElementRef.current);$.body.style.cursor="col-resize",o.previousMouseClickEvent=D.nativeEvent,$.addEventListener("mousemove",m),$.addEventListener("mouseup",g),$.addEventListener("click",l4,!0)}),M=$t((L,D)=>{if(t.disableAutosize||D.button!==0)return;const $=e.current.state.columns.lookup[L.field];$.resizable!==!1&&e.current.autosizeColumns(G({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[$.field]}))}),I=Tze(e),N=_.useRef(!1),P=_.useCallback(async L=>{if(!e.current.rootElementRef?.current||N.current)return;N.current=!0;const $=Oa(e),B=G({},NLe,L,{columns:L?.columns??$.orderedFields});B.columns=B.columns.filter(q=>$.columnVisibilityModel[q]!==!1);const U=B.columns.map(q=>e.current.state.columns.lookup[q]);try{!t.disableVirtualization&&B.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await I());const q=Oze(e,B,U),W=U.map(V=>G({},V,{width:q[V.field],computedWidth:q[V.field],flex:0}));if(B.expand){const Y=$.orderedFields.map(K=>$.lookup[K]).filter(K=>$.columnVisibilityModel[K.field]!==!1).reduce((K,Z)=>K+(q[Z.field]??Z.computedWidth??Z.width),0),z=e.current.getRootDimensions().viewportInnerSize.width-Y;if(z>0){const K=z/(W.length||1);W.forEach(Z=>{Z.width+=K,Z.computedWidth+=K})}}e.current.updateColumns(W),W.forEach((V,Y)=>{if(V.width!==U[Y].width){const J=V.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(V.field),colDef:V,width:J})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),N.current=!1}},[e,I,t.disableVirtualization]);_.useEffect(()=>S,[S]),Jb(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),r5(e,()=>e.current.columnHeadersContainerRef?.current,"touchstart",v,{passive:!0}),Sn(e,{autosizeColumns:P},"public"),Tt(e,"columnResizeStop",T),Tt(e,"columnResizeStart",E),Tt(e,"columnSeparatorMouseDown",R),Tt(e,"columnSeparatorDoubleClick",M),lr(e,"columnResize",t.onColumnResize),lr(e,"columnWidthChange",t.onColumnWidthChange)};function Df(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}function kze(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function c4(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}const sI=(e,t,n)=>{if(!e)return null;let r=e[t.field];const o=t.rowSpanValueGetter??t.valueGetter;return o&&(r=o(r,e,t,n)),r},u4={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},Af={caches:u4,processedRange:{firstRowIndex:0,lastRowIndex:0}},d4=20,h4=(e,t,n,r,o,i)=>{const s=e.current.virtualizer,a=i?Af:Rf.selectors.state(s.store.state),c=G({},a.caches.spannedCells),u=G({},a.caches.hiddenCells),h=G({},a.caches.hiddenCellOriginMap),f={firstRowIndex:Math.min(a.processedRange.firstRowIndex,o.firstRowIndex),lastRowIndex:Math.max(a.processedRange.lastRowIndex,o.lastRowIndex)};return t.forEach((g,m)=>{for(let y=o.firstRowIndex;y<o.lastRowIndex;y+=1){const b=n[y];if(u[b.id]?.[m])continue;const v=sI(b.model,g,e);if(v==null)continue;let S=b.id,E=y,T=0;const R=[];if(y===o.firstRowIndex){let I=y-1,N=n[I];for(;I>=r.firstRowIndex&&N&&sI(N.model,g,e)===v;){const P=n[I+1];u[P.id]?u[P.id][m]=!0:u[P.id]={[m]:!0},R.push(y),T+=1,S=N.id,E=I,I-=1,N=n[I]}}R.forEach(I=>{h[I]?h[I][m]=E:h[I]={[m]:E}});let M=y+1;for(;M<=r.lastRowIndex&&n[M]&&sI(n[M].model,g,e)===v;){const I=n[M];u[I.id]?u[I.id][m]=!0:u[I.id]={[m]:!0},h[M]?h[M][m]=E:h[M]={[m]:E},M+=1,T+=1}T>0&&(c[S]?c[S][m]=T+1:c[S]={[m]:T+1})}}),{caches:{spannedCells:c,hiddenCells:u,hiddenCellOriginMap:h},processedRange:f}},Dze=(e,t)=>{const n=Vd(t).length;if(e.pagination){const r=z2(t);let o=d4;return r>0&&(o=r-1),{firstRowIndex:0,lastRowIndex:Math.min(o,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(d4,n)}},Aze=(e,t,n)=>{if(!t.rowSpanning)return G({},e,{rowSpanning:Af});const r=e.rows.dataRowIds||[],o=e.columns.orderedFields||[],i=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,a=!!e.filter.filterModel.items.length||!!e.filter.filterModel.quickFilterValues?.length;if(!r.length||!o.length||!i||!s||a)return G({},e,{rowSpanning:Af});const c=Dze(t,n),u=r.map(g=>({id:g,model:i[g]})),h=o.map(g=>s[g]),f=h4(n,h,u,c,c,!0);return G({},e,{rowSpanning:f})},Lze=(e,t)=>{const n=e.current.virtualizer.store,r=_.useCallback((i,s=!1)=>{const{range:a,rows:c}=kf(e);if(a===null||!c4(i))return;const u=s?Af:Rf.selectors.state(n.state),h=kze({firstRowIndex:i.firstRowIndex,lastRowIndex:Math.min(i.lastRowIndex,a.lastRowIndex-a.firstRowIndex+1)},u.processedRange);if(h===null)return;const f=Zr(e),g=h4(e,f,c,a,h,s),m=Object.keys(g.caches.spannedCells).length,y=Object.keys(g.caches.hiddenCells).length,b=Object.keys(u.caches.spannedCells).length,v=Object.keys(u.caches.hiddenCells).length;!(s||m!==b||y!==v)||m===0&&b===0||n.set("rowSpanning",g)},[e,n]),o=_.useCallback(()=>{const i=w5(e);c4(i)&&r(i,!0)},[e,r]);Tt(e,"renderedRowsIntervalChange",nu(t.rowSpanning,r)),Tt(e,"sortedRowsSet",nu(t.rowSpanning,o)),Tt(e,"paginationModelChange",nu(t.rowSpanning,o)),Tt(e,"filteredRowsSet",nu(t.rowSpanning,o)),Tt(e,"columnsChange",nu(t.rowSpanning,o)),_.useEffect(()=>{t.rowSpanning?n.state.rowSpanning.caches===u4&&o():n.state.rowSpanning!==Af&&n.set("rowSpanning",Af)},[e,n,o,t.rowSpanning])},Nze=(e,t,n)=>G({},e,{listViewColumn:t.listViewColumn?G({},t.listViewColumn,{computedWidth:aI(n)}):void 0});function Bze(e,t){const n=()=>{e.current.setState(i=>i.listViewColumn?G({},i,{listViewColumn:G({},i.listViewColumn,{computedWidth:aI(e)})}):i)},r=_.useRef(null);Tt(e,"viewportInnerSizeChange",i=>{r.current!==i.width&&(r.current=i.width,n())}),Tt(e,"columnVisibilityModelChange",n),Un(()=>{const i=t.listViewColumn;i&&e.current.setState(s=>G({},s,{listViewColumn:G({},i,{computedWidth:aI(e)})}))},[e,t.listViewColumn]),_.useEffect(()=>{t.listView&&t.listViewColumn},[t.listView,t.listViewColumn])}function aI(e){return Xr(e).viewportInnerSize.width}const Fze=Ot(Ao,Qs,Wo,(e,t,n)=>({groupKeys:[],paginationModel:n,sortModel:t,filterModel:e,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1}));let lI=(function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e})({});class cI{constructor(t){this.chunkSize=t}getCacheKeys=t=>{if(this.chunkSize<1||typeof t.start!="number")return[t];const n=[];for(let r=t.start;r<=t.end;r+=this.chunkSize){const o=Math.min(r+this.chunkSize-1,t.end);n.push(G({},t,{start:r,end:o}))}return n};splitResponse=(t,n)=>{const r=this.getCacheKeys(t);if(r.length===1)return new Map([[t,n]]);const o=new Map;return r.forEach(i=>{const s=i.end===t.end,a=G({},n,{pageInfo:G({},n.pageInfo,{hasNextPage:n.pageInfo?.hasNextPage!==void 0&&!s?!0:n.pageInfo?.hasNextPage,nextCursor:n.pageInfo?.nextCursor!==void 0&&!s?n.rows[i.end+1].id:n.pageInfo?.nextCursor}),rows:typeof i.start!="number"||typeof t.start!="number"?n.rows:n.rows.slice(i.start-t.start,i.end-t.start+1)});o.set(i,a)}),o};static mergeResponses=t=>t.length===1?t[0]:t.reduce((n,r)=>({rows:[...n.rows,...r.rows],rowCount:r.rowCount,pageInfo:r.pageInfo}),{rows:[],rowCount:0,pageInfo:{}})}const jze=["skipCache"],Vze={clear:()=>{},get:()=>{},set:()=>{}};function f4(e,t={}){return e===null?Vze:e??new SNe(t)}const $ze=(e,t,n={})=>{const r=_.useCallback(()=>{e.current.setStrategyAvailability(uu.DataSource,lI.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[o,i]=_.useState(!1),s=tt(e,Wo),a=_.useRef(0),c=t.onDataSourceError,u=is(()=>{if(!t.pagination)return new cI(s.pageSize);const M=t.pageSizeOptions.map(N=>typeof N=="number"?N:N.value).sort((N,P)=>N-P),I=Math.min(s.pageSize,M[0]);return new cI(I)}).current,[h,f]=_.useState(()=>f4(t.dataSourceCache,n.cacheOptions)),g=_.useCallback(async(M,I)=>{const N=t.dataSource?.getRows;if(!N)return;if(M&&M!==Do&&t.signature!=="DataGrid"){n.fetchRowChildren?.([M]);return}n.clearDataSourceState?.();const P=I||{},{skipCache:L}=P,D=pt(P,jze),$=G({},Fze(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),D),U=u.getCacheKeys($).map(W=>h.get(W));if(!L&&U.every(W=>W!==void 0)){e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:cI.mergeResponses(U),fetchParams:$});return}(o||e.current.getRowsCount()===0)&&e.current.setLoading(!0);const q=a.current+1;a.current=q;try{const W=await N($);u.splitResponse($,W).forEach((Y,J)=>h.set(J,Y)),a.current===q&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:W,fetchParams:$})}catch(W){a.current===q&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:W,fetchParams:$}),typeof c=="function"&&c(new CNe({message:W?.message,params:$,cause:W})))}finally{o&&a.current===q&&e.current.setLoading(!1)}},[u,h,e,o,t.dataSource?.getRows,c,n,t.signature]),m=_.useCallback(()=>{i(e.current.getActiveStrategy(uu.DataSource)===lI.Default)},[e]),y=_.useCallback(M=>{if("error"in M){e.current.setRows([]);return}const{response:I}=M;I.rowCount!==void 0&&e.current.setRowCount(I.rowCount),e.current.setRows(I.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:M.fetchParams,response:I},!0)},[e]),b=t.dataSource?.updateRow,v=n.handleEditRow,S=_.useCallback(async M=>{if(b)try{const I=await b(M);return typeof v=="function"?(v(M,I),I):(e.current.updateNestedRows([I],[]),I&&!ea(I,M.previousRow)&&e.current.dataSource.cache.clear(),I)}catch(I){throw typeof c=="function"&&c(new xNe({message:I?.message,params:M,cause:I})),I}},[e,b,c,v]),E={dataSource:{fetchRows:g,cache:h,editRow:S}},T=_.useMemo(()=>Kc(g,0),[g]),R=_.useRef(!0);return _.useEffect(()=>{if(R.current){R.current=!1;return}if(t.dataSourceCache===void 0)return;const M=f4(t.dataSourceCache,n.cacheOptions);f(I=>I!==M?M:I)},[t.dataSourceCache,n.cacheOptions]),_.useEffect(()=>(t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{a.current+=1}),[e,t.dataSource]),{api:{public:E},debouncedFetchRows:T,strategyProcessor:{strategyName:lI.Default,group:"dataSourceRowsUpdate",processor:y},setStrategyAvailability:r,cacheChunkManager:u,cache:h,events:{strategyAvailabilityChange:m,sortModelChange:nu(o,()=>T()),filterModelChange:nu(o,()=>T()),paginationModelChange:nu(o,()=>T())}}},zze=(e,t)=>{const{api:n,strategyProcessor:r,events:o,setStrategyAvailability:i}=$ze(e,t);Sn(e,n.public,"public"),Bm(e,r.strategyName,r.group,r.processor),Object.entries(o).forEach(([s,a])=>{Tt(e,s,a)}),_.useEffect(()=>{i()},[i])},Uze=(e,t,n)=>{QVe(e,t),oze(e,t),Q$e(e),No(ZVe,e,t),No(tze,e,t),No(f$e,e,t),No(q$e,e,t),No(N$e,e,t),No(W$e,e,t),No(R$e,e,t),No(ize,e,t),No(F$e,e,t),No(E$e,e,t),No(Aze,e,t),No(m$e,e,t),No(Rze,e,t),No(d$e,e,t),No(wze,e,t),No(pNe,e,t),No(uze,e,t),No(gze,e,t),No(Nze,e,t),i$e(e,t),D$e(e,t),nze(e,t),p$e(e,t),Y$e(e,t,n),Lze(e,t),eze(e,t),yze(e),Sze(e,t),K$e(e,t),I$e(e,t),j$e(e,t),O$e(e,t),sze(e,t),v$e(e,t),Pze(e,t),B$e(e,t),mze(e),aze(e,t),h$e(e),b$e(e,t),_$e(e,t),u$e(e,t),hze(e,t),lze(e,t),vze(e),gNe(e,t),Bze(e,t),zze(e,t),_.useEffect(()=>{e.current.runAppliersForPendingProcessors()})},Hze=e=>{const{classes:t,headerAlign:n,isDragging:r,isLastColumn:o,showLeftBorder:i,showRightBorder:s,groupId:a,pinnedPosition:c}=e,u={root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",s&&"columnHeader--withRightBorder",i&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c===On.LEFT&&"columnHeader--pinnedLeft",c===On.RIGHT&&"columnHeader--pinnedRight",o&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ht(u,xn,t)};function Gze(e){const{groupId:t,width:n,depth:r,maxDepth:o,fields:i,height:s,colIndex:a,hasFocus:c,tabIndex:u,isLastColumn:h,pinnedPosition:f,pinnedOffset:g}=e,m=yt(),y=Uo(),b=_.useRef(null),v=hn(),S=tt(v,J2),E=t?S[t]:{},{headerName:T=t??"",description:R="",headerAlign:M=void 0}=E;let I;const N=t&&S[t]?.renderHeaderGroup,P=_.useMemo(()=>({groupId:t,headerName:T,description:R,depth:r,maxDepth:o,fields:i,colIndex:a,isLastColumn:h}),[t,T,R,r,o,i,a,h]);t&&N&&(I=N(P));const L=G({},e,{classes:m.classes,headerAlign:M,depth:r,isDragging:!1}),D=T??t,$=Dn(),B=t===null?`empty-group-cell-${$}`:t,U=Hze(L);_.useLayoutEffect(()=>{if(c){const ne=b.current.querySelector('[tabindex="0"]')||b.current;if(!ne)return;if(GR())ne.focus({preventScroll:!0});else{const z=v.current.getScrollPosition();ne.focus(),v.current.scroll(z)}}},[v,c]);const q=_.useCallback(J=>ne=>{Im(ne)||v.current.publishEvent(J,P,ne)},[v,P]),W=_.useMemo(()=>({onKeyDown:q("columnGroupHeaderKeyDown"),onFocus:q("columnGroupHeaderFocus"),onBlur:q("columnGroupHeaderBlur")}),[q]),V=typeof E.headerClassName=="function"?E.headerClassName(P):E.headerClassName,Y=_.useMemo(()=>fS(G({},e.style),y,f,g),[f,g,e.style,y]);return x.jsx(N5,G({ref:b,classes:U,columnMenuOpen:!1,colIndex:a,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:I,headerClassName:V,description:R,elementId:B,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:D,"aria-colspan":i.length,"data-fields":`|-${i.join("-|-")}-|`,style:Y},W))}const p4=we("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),Wze=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:i,columnHeaderFocus:s,columnGroupHeaderFocus:a,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:g}=e,[m,y]=_.useState(""),[b,v]=_.useState(""),S=cs(),E=yt(),T=tt(S,Z2),R=tt(S,Ud),M=tt(S,bNe),I=tt(S,Kw),N=tt(S,rc),P=g5(R,M,I.left.length),L=tt(S,yR),D=tt(S,NG),$=tt(S,kke),B=tt(S,Dke),U=tt(S,BG),q=_.useCallback(ae=>v(ae.field),[]),W=_.useCallback(()=>v(""),[]),V=_.useCallback(ae=>y(ae.field),[]),Y=_.useCallback(()=>y(""),[]),J=_.useMemo(()=>I.left.length?{firstColumnIndex:0,lastColumnIndex:I.left.length}:null,[I.left.length]),ne=_.useMemo(()=>I.right.length?{firstColumnIndex:t.length-I.right.length,lastColumnIndex:t.length}:null,[I.right.length,t.length]);Tt(S,"columnResizeStart",q),Tt(S,"columnResizeStop",W),Tt(S,"columnHeaderDragStart",V),Tt(S,"columnHeaderDragEndNative",Y);const z=ae=>{const{renderContext:ye=M}=ae||{},Me=ye.firstColumnIndex,xe=Math.min(ye.lastColumnIndex,t.length);return{renderedColumns:t.slice(Me,xe),firstColumnToRender:Me,lastColumnToRender:xe}},K=(ae,ye,Me,xe=!1)=>{const he=ae?.position===On.RIGHT,pe=ae?.position===void 0,Se=I.right.length>0&&he||I.right.length===0&&pe,Ee=P-Me;return x.jsxs(_.Fragment,{children:[pe&&x.jsx("div",{role:"presentation",style:{width:Ee}}),ye,pe&&x.jsx("div",{role:"presentation",className:Ke(ie.filler,xe&&ie["filler--borderBottom"])}),Se&&x.jsx(YR,{header:!0,pinnedRight:he,borderBottom:xe,borderTop:!1})]})},Z=(ae,ye={})=>{const{renderedColumns:Me,firstColumnToRender:xe}=z(ae),he=[];for(let pe=0;pe<Me.length;pe+=1){const Se=Me[pe],Ee=xe+pe,ke=Ee===0,Te=o!==null&&o.field===Se.field||ke&&!g?0:-1,Ve=s!==null&&s.field===Se.field,rt=u.open&&u.field===Se.field,je=ae?.position,Rt=km(je,Se.computedWidth,Ee,R,L,U),dt=je===On.RIGHT?Me[pe-1]:Me[pe+1],Ct=dt?s!==null&&s.field===dt.field:!1,$e=Ee+1===R.length-I.right.length,It=pe,mt=Me.length,Bt=bS(je,It),zt=yS(je,It,mt,E.showColumnVerticalBorder,D);he.push(x.jsx(sFe,G({},n[Se.field],{columnMenuOpen:rt,filterItemsCounter:r[Se.field]&&r[Se.field].length,headerHeight:$,isDragging:Se.field===m,colDef:Se,colIndex:Ee,isResizing:b===Se.field,isLast:Ee===R.length-1,hasFocus:Ve,tabIndex:Te,pinnedPosition:je,pinnedOffset:Rt,isLastUnpinned:$e,isSiblingFocused:Ct,showLeftBorder:Bt,showRightBorder:zt},ye),Se.field))}return K(ae,he,0)},le=()=>x.jsxs(p4,{role:"row","aria-rowindex":c+1,ownerState:E,className:ie["row--borderBottom"],style:{height:$},children:[J&&Z({position:On.LEFT,renderContext:J},{disableReorder:!0}),Z({renderContext:M}),ne&&Z({position:On.RIGHT,renderContext:ne},{disableReorder:!0,separatorSide:KR.Left})]}),ce=({depth:ae,params:ye})=>{const Me=z(ye);if(Me.renderedColumns.length===0)return null;const{firstColumnToRender:xe,lastColumnToRender:he}=Me,pe=f[ae],Se=t[xe].field,Ee=T[Se]?.[ae]??null,ke=pe.findIndex(({groupId:mt,columnFields:Bt})=>mt===Ee&&Bt.includes(Se)),Te=t[he-1].field,Ve=T[Te]?.[ae]??null,rt=pe.findIndex(({groupId:mt,columnFields:Bt})=>mt===Ve&&Bt.includes(Te)),je=pe.slice(ke,rt+1).map(mt=>G({},mt,{columnFields:mt.columnFields.filter(Bt=>h[Bt]!==!1)})).filter(mt=>mt.columnFields.length>0),Rt=je[0].columnFields.indexOf(Se),Ct=je[0].columnFields.slice(0,Rt).reduce((mt,Bt)=>{const zt=N[Bt];return mt+(zt.computedWidth??0)},0);let $e=xe;const It=je.map(({groupId:mt,columnFields:Bt},zt)=>{const qt=a!==null&&a.depth===ae&&Bt.includes(a.field),tn=i!==null&&i.depth===ae&&Bt.includes(i.field)?0:-1,gt={width:Bt.reduce((ut,St)=>ut+N[St].computedWidth,0),fields:Bt,colIndex:$e},_t=ye.position,Ge=km(_t,gt.width,$e,R,L,U);$e+=Bt.length;let ct=zt;return _t===On.LEFT&&(ct=$e-1),x.jsx(Gze,{groupId:mt,width:gt.width,fields:gt.fields,colIndex:gt.colIndex,depth:ae,isLastColumn:zt===je.length-1,maxDepth:c,height:B,hasFocus:qt,tabIndex:tn,pinnedPosition:_t,pinnedOffset:Ge,showLeftBorder:bS(_t,ct),showRightBorder:yS(_t,ct,je.length,E.showColumnVerticalBorder,D)},zt)});return K(ye,It,Ct)};return{renderContext:M,leftRenderContext:J,rightRenderContext:ne,pinnedColumns:I,visibleColumns:t,columnPositions:R,getFillers:K,getColumnHeadersRow:le,getColumnsToRender:z,getColumnGroupHeadersRows:()=>{if(c===0)return null;const ae=[];for(let ye=0;ye<c;ye+=1)ae.push(x.jsxs(p4,{role:"row","aria-rowindex":ye+1,ownerState:E,style:{height:B},children:[J&&ce({depth:ye,params:{position:On.LEFT,renderContext:J,maxLastColumn:J.lastColumnIndex}}),ce({depth:ye,params:{renderContext:M}}),ne&&ce({depth:ye,params:{position:On.RIGHT,renderContext:ne,maxLastColumn:ne.lastColumnIndex}})]},ye));return ae},getPinnedCellOffset:km,isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},Kze=["className"],qze=e=>{const{classes:t}=e;return ht({root:["columnHeaders"]},xn,t)},Yze=jn("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),Xze=Zt(function(t,n){const{className:r}=t,o=pt(t,Kze),i=yt(),s=qze(i);return x.jsx(Yze,G({className:Ke(s.root,r),ownerState:i},o,{role:"presentation",ref:n}))}),Zze=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],Jze=Zt(function(t,n){const{visibleColumns:r,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y}=t,b=pt(t,Zze),{getInnerProps:v,getColumnHeadersRow:S,getColumnGroupHeadersRows:E}=Wze({visibleColumns:r,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y});return x.jsxs(Xze,G({},b,v(),{ref:n,children:[E(),S()]}))}),Qze=tc(Jze);function e3e(e){return null}function t3e(e){return null}const n3e=Zt(function(t,n){const o=hn().current.getLocaleText("noResultsOverlayLabel");return x.jsx(gS,G({},t,{ref:n,children:o}))}),r3e=()=>ht({root:["bottomContainer"]},xn,{}),o3e=jn("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function i3e(e){const t=r3e();return x.jsx(o3e,G({},e,{className:Ke(t.root,ie["container--bottom"]),role:"presentation"}))}const s3e=G({},Mke,{cell:jNe,skeletonCell:YNe,columnHeaderFilterIconButton:yFe,columnHeaderSortIcon:mFe,columnMenu:AFe,columnHeaders:Qze,detailPanels:e3e,bottomContainer:i3e,footer:fVe,footerRowCount:RVe,toolbar:lVe,pinnedRows:t3e,loadingOverlay:SVe,noResultsOverlay:n3e,noRowsOverlay:CVe,noColumnsOverlay:xVe,pagination:EVe,filterPanel:cje,columnsPanel:FFe,columnsManagement:yje,panel:UFe,row:NVe}),a3e={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},l3e=e=>G({},a3e,e.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),c3e=s3e,u3e=e=>{const t=al(),n=_.useMemo(()=>a3({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),r=_.useMemo(()=>G({},Gke,n.localeText),[n.localeText]),o=_.useMemo(()=>kNe({defaultSlots:c3e,slots:n.slots}),[n.slots]),i=_.useMemo(()=>Object.keys(wS).reduce((s,a)=>(s[a]=n[a]??wS[a],s),{}),[n]);return _.useMemo(()=>G({},n,i,{localeText:r,slots:o},l3e(n)),[n,r,o,i])},g4=Symbol("mui.api_private"),d3e=e=>e.isPropagationStopped!==void 0;let m4=0;function h3e(e){const t=e.current?.[g4];if(t)return t;const n={},r={state:n,store:im.create(n),instanceId:{id:m4}};return m4+=1,r.getPublicApi=()=>e.current,r.register=(o,i)=>{Object.keys(i).forEach(s=>{const a=i[s],c=r[s];if(c?.spying===!0?c.target=a:r[s]=a,o==="public"){const u=e.current,h=u[s];h?.spying===!0?h.target=a:u[s]=a}})},r.register("private",{caches:{},eventManager:new NH}),r}function f3e(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[g4]:e.current}}function p3e(e,t){const n=_.useRef(null),r=_.useRef(null);r.current||(r.current=h3e(n)),n.current||(n.current=f3e(r));const o=_.useCallback((...s)=>{const[a,c,u={}]=s;if(u.defaultMuiPrevented=!1,d3e(u)&&u.isPropagationStopped())return;const h=t.signature===Ma.DataGridPro||t.signature===Ma.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(a,c,u,h)},[r,t.signature]),i=_.useCallback((s,a,c)=>{r.current.eventManager.on(s,a,c);const u=r.current;return()=>{u.eventManager.removeListener(s,a)}},[r]);return Sn(r,{subscribeEvent:i,publishEvent:o},"public"),e&&!e.current?.state&&(e.current=n.current),_.useImperativeHandle(e,()=>n.current,[n]),_.useEffect(()=>{const s=r.current;return()=>{s.publishEvent("unmount")}},[r]),r}const v4={hooks:{useCSSVariables:OPe,useGridAriaAttributes:BVe,useGridRowAriaAttributes:FVe,useGridRowsOverridableMethods:jVe,useCellAggregationResult:()=>null}},y4=function(t,n){const r=u3e(t),o=p3e(r.apiRef,r);return Uze(o,r,v4),x.jsx(VVe,{privateApiRef:o,configuration:v4,props:r,children:x.jsx(dBe,G({className:r.className,style:r.style,sx:r.sx},r.slotProps?.root,{ref:n}))})},g3e=_.memo(Zt(y4));y4.propTypes={apiRef:Oe.shape({current:Oe.object}),"aria-label":Oe.string,"aria-labelledby":Oe.string,autoHeight:Oe.bool,autoPageSize:Oe.bool,autosizeOnMount:Oe.bool,autosizeOptions:Oe.shape({columns:Oe.arrayOf(Oe.string),disableColumnVirtualization:Oe.bool,expand:Oe.bool,includeHeaders:Oe.bool,includeOutliers:Oe.bool,outliersFactor:Oe.number}),cellModesModel:Oe.object,checkboxSelection:Oe.bool,classes:Oe.object,className:Oe.string,clipboardCopyCellDelimiter:Oe.string,columnBufferPx:Oe.number,columnFilterDebounceMs:Oe.number,columnGroupHeaderHeight:Oe.number,columnGroupingModel:Oe.arrayOf(Oe.object),columnHeaderHeight:Oe.number,columns:Oe.arrayOf(Oe.object).isRequired,columnVisibilityModel:Oe.object,dataSource:Oe.shape({getRows:Oe.func.isRequired,updateRow:Oe.func}),dataSourceCache:Oe.shape({clear:Oe.func.isRequired,get:Oe.func.isRequired,set:Oe.func.isRequired}),density:Oe.oneOf(["comfortable","compact","standard"]),disableAutosize:Oe.bool,disableColumnFilter:Oe.bool,disableColumnMenu:Oe.bool,disableColumnResize:Oe.bool,disableColumnSelector:Oe.bool,disableColumnSorting:Oe.bool,disableDensitySelector:Oe.bool,disableEval:Oe.bool,disableMultipleRowSelection:Oe.bool,disableRowSelectionExcludeModel:Oe.bool,disableRowSelectionOnClick:Oe.bool,disableVirtualization:Oe.bool,editMode:Oe.oneOf(["cell","row"]),estimatedRowCount:Oe.number,experimentalFeatures:Oe.shape({warnIfFocusStateIsNotSynced:Oe.bool}),filterDebounceMs:Oe.number,filterMode:Oe.oneOf(["client","server"]),filterModel:Oe.shape({items:Oe.arrayOf(Oe.shape({field:Oe.string.isRequired,id:Oe.oneOfType([Oe.number,Oe.string]),operator:Oe.string.isRequired,value:Oe.any})).isRequired,logicOperator:Oe.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Oe.bool,quickFilterLogicOperator:Oe.oneOf(["and","or"]),quickFilterValues:Oe.array}),getCellClassName:Oe.func,getDetailPanelContent:Oe.func,getEstimatedRowHeight:Oe.func,getRowClassName:Oe.func,getRowHeight:Oe.func,getRowId:Oe.func,getRowSpacing:Oe.func,hideFooter:Oe.bool,hideFooterPagination:Oe.bool,hideFooterSelectedRowCount:Oe.bool,ignoreDiacritics:Oe.bool,ignoreValueFormatterDuringExport:Oe.oneOfType([Oe.shape({clipboardExport:Oe.bool,csvExport:Oe.bool}),Oe.bool]),initialState:Oe.object,isCellEditable:Oe.func,isRowSelectable:Oe.func,keepNonExistentRowsSelected:Oe.bool,label:Oe.string,loading:Oe.bool,localeText:Oe.object,logger:Oe.shape({debug:Oe.func.isRequired,error:Oe.func.isRequired,info:Oe.func.isRequired,warn:Oe.func.isRequired}),logLevel:Oe.oneOf(["debug","error","info","warn",!1]),nonce:Oe.string,onCellClick:Oe.func,onCellDoubleClick:Oe.func,onCellEditStart:Oe.func,onCellEditStop:Oe.func,onCellKeyDown:Oe.func,onCellModesModelChange:Oe.func,onClipboardCopy:Oe.func,onColumnHeaderClick:Oe.func,onColumnHeaderContextMenu:Oe.func,onColumnHeaderDoubleClick:Oe.func,onColumnHeaderEnter:Oe.func,onColumnHeaderLeave:Oe.func,onColumnHeaderOut:Oe.func,onColumnHeaderOver:Oe.func,onColumnOrderChange:Oe.func,onColumnResize:Oe.func,onColumnVisibilityModelChange:Oe.func,onColumnWidthChange:Oe.func,onDataSourceError:Oe.func,onDensityChange:Oe.func,onFilterModelChange:Oe.func,onMenuClose:Oe.func,onMenuOpen:Oe.func,onPaginationMetaChange:Oe.func,onPaginationModelChange:Oe.func,onPreferencePanelClose:Oe.func,onPreferencePanelOpen:Oe.func,onProcessRowUpdateError:Oe.func,onResize:Oe.func,onRowClick:Oe.func,onRowCountChange:Oe.func,onRowDoubleClick:Oe.func,onRowEditStart:Oe.func,onRowEditStop:Oe.func,onRowModesModelChange:Oe.func,onRowSelectionModelChange:Oe.func,onSortModelChange:Oe.func,onStateChange:Oe.func,pageSizeOptions:Oe.arrayOf(Oe.oneOfType([Oe.number,Oe.shape({label:Oe.string.isRequired,value:Oe.number.isRequired})]).isRequired),pagination:Oe.oneOf([!0]),paginationMeta:Oe.shape({hasNextPage:Oe.bool}),paginationMode:Oe.oneOf(["client","server"]),paginationModel:Oe.shape({page:Oe.number.isRequired,pageSize:Oe.number.isRequired}),processRowUpdate:Oe.func,resizeThrottleMs:Oe.number,rowBufferPx:Oe.number,rowCount:Oe.number,rowHeight:Oe.number,rowModesModel:Oe.object,rows:Oe.arrayOf(Oe.object),rowSelection:Oe.bool,rowSelectionModel:Oe.shape({ids:Oe.instanceOf(Set).isRequired,type:Oe.oneOf(["exclude","include"]).isRequired}),rowSpacingType:Oe.oneOf(["border","margin"]),rowSpanning:Oe.bool,scrollbarSize:Oe.number,showCellVerticalBorder:Oe.bool,showColumnVerticalBorder:Oe.bool,showToolbar:Oe.bool,slotProps:Oe.object,slots:Oe.object,sortingMode:Oe.oneOf(["client","server"]),sortingOrder:Oe.arrayOf(Oe.oneOf(["asc","desc"])),sortModel:Oe.arrayOf(Oe.shape({field:Oe.string.isRequired,sort:Oe.oneOf(["asc","desc"])})),style:Oe.object,sx:Oe.oneOfType([Oe.arrayOf(Oe.oneOfType([Oe.func,Oe.object,Oe.bool])),Oe.func,Oe.object]),virtualizeColumnsWithAutoRowHeight:Oe.bool};function b4(e){const{api:t}=e,n=(r,o)=>{t.setEditCellValue({id:e.id,field:e.field,value:o}),t.stopCellEditMode({id:e.id,field:e.field})};return x.jsx(Y2,{onValueChange:n,...e})}function m3e({onClick:e}){return x.jsx(zNe,{label:"Удалить",icon:x.jsx(HMe,{fontSize:"small",color:"error"}),onClick:e})}function w4({value:e,isBroken:t}){return x.jsx("div",{style:{textDecoration:t?"line-through":"unset"},children:e})}function S4(e){const{description:t}=e;return{label:t?`${e.name}: ${t}`:e.name,value:e.name}}class v3e extends Nt{constructor(){super(),this.allowAutoChangeB=new WeakSet,this.setEnabled=(t,n)=>this.props.sceneConnection?.setDisabled(!n),this.isCellEditable=t=>!t.row.isBroken,this.processRowUpdate=(t,n)=>{const{m:r}=this,o=t.a!==n.a,i=t.b!==n.b;if(!o&&!i)return n;const s=r.a.vars.get(t.a);let a=r.b.vars.get(t.b);if(!s||!a)return n;if(o){if(s.type!==a.type){this.allowAutoChangeB.add(r.proto);const u=r.b.vars.list.filter(h=>h.type===s.type);if(!u.length)return n;a=u.find(h=>h.klassVar.nameUC===s.klassVar.nameUC)||u[0]}else if(this.allowAutoChangeB.has(r.proto)){const u=r.b.vars.get(s.name);u&&(a=u)}}else this.allowAutoChangeB.delete(r.proto);const c=r.nestedConnections.map((u,h)=>h.toString()===t.id?[s.name,a.name]:u.proto.toJSON());return r.proto.setNestedConnections(c),r.parent.applyChanges(),{...t,a:s.name,typeA:s.type,b:a.name,typeB:a.type}},this.addRow=t=>{const{m:n}=this,r=n.b.vars.list,o=n.a.vars.list.find(a=>r.some(c=>c.type===a.type));if(!o)return;let i;if(i=n.b.vars.get(o.name),(!i||o.type!==i.type)&&(i=r.find(a=>a.type===o.type),!i))return;const s=[...n.proto.nestedConnections.map(a=>a.toJSON()),[o.name,i.name]];n.proto.setNestedConnections(s),n.parent.applyChanges()},vt(this,{processRowUpdate:be,valuesOptionsA:Gr,canAddRow:Gr})}get enabled(){return!this.m.isDisabled}get valuesOptionsA(){const{a:t,b:n}=this.m,r=new Set(n.vars.list.map(o=>o.type));return Si(t.vars.list,o=>r.has(o.type)&&S4(o))}getOptionsB(t){const{b:n}=this.m;return Si(n.vars.list,r=>r.type===t&&S4(r))}get columns(){const{m:t}=this;return[{field:"a",headerName:t.a.name,editable:!0,flex:10,type:"singleSelect",valueOptions:this.valuesOptionsA,renderCell:n=>_.createElement(w4,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(b4,n)},{field:"b",headerName:t.b.name,editable:!0,flex:10,type:"singleSelect",valueOptions:n=>this.getOptionsB(n.row?.typeA),renderCell:n=>_.createElement(w4,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(b4,n)},{field:"delete",type:"actions",flex:1,getActions:n=>[_.createElement(m3e,{onClick:()=>this._deleteRow(n.id)})]}]}get rows(){return this.m.nestedConnections.map((t,n)=>{const r=n.toString();return t.isBroken?{id:r,isBroken:!0,a:t.a.toString(),typeA:null,b:t.b.toString(),typeB:null}:{id:r,isBroken:!1,a:t.a.name,typeA:t.a.type,b:t.b.name,typeB:t.b.type}})}get canAddRow(){const{m:t}=this,n=t.b.vars.list;return t.a.vars.list.some(r=>n.some(o=>o.type===r.type))}_deleteRow(t){const{m:n}=this,r=n.nestedConnections.filter((o,i)=>i.toString()!==t).map(o=>o.proto.toJSON());n.proto.setNestedConnections(r),n.parent.applyChanges()}}class y3e extends Nt{constructor(){super(),this.onUngroupButtonClick=()=>this.m.ungroup(),vt(this,{klassPropsButtonModel:Gr,klassCodeButtonModel:Gr,onUngroupButtonClick:!1})}get kind(){return this.child?"":"Группа"}get klassPropsButtonModel(){return this.child?.schema.klass||null}get klassSchemaButtonModel(){const{child:t}=this;if(!t)return null;const{schema:n}=t,{klass:r}=n;return!r.isReadonly||r.hasScene?n:null}get klassCodeButtonModel(){const{child:t}=this;if(!t)return null;const{klass:n}=t.schema;return!n.isReadonly||n.hasCode?n:null}get schemaValuesModel(){const t=this.child?.schema;return t&&!t.isFake?t:null}get showUngroupButton(){return this.m.canUngroup}get child(){return this.m.child}}const b3e=[[-1,"Ничего не делать"],[Uv,"Открыть окно схемы имиджа"],[AC,"Открыть проект"],[Hv,"Выполнить действие"],[DC,"Вызвать shell"],[ak,"Нет конкретного действия"]],uI=[[NC,`Закрыть текущий проект (${NC})`],[LC,`Закрыть все проекты (${LC})`]];class w3e extends Nt{constructor(t){super(),this.ctx=t,this.setKlassName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,target:n}})},this.setWindowName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,window:n}})},this.onOpenSchemaButtonClick=()=>{const n=this.ctx.project.klassLibrary.get(this.klassName);!n||n.isReadonly&&!n.hasScene||this.ctx.project.openKlassScene(n)},vt(this,{klassNameOptions:Gr,showOpenSchemaButton:Gr})}get klassNameOptions(){return this.ctx.project.klassLibrary.list.map(t=>t.name)}get showOpenSchemaButton(){const t=this.ctx.project.klassLibrary.get(this.klassName);return t&&(!t.isReadonly||t.hasScene)||!1}get klassName(){return this.parent.m.hyper?.target||""}get windowName(){return this.parent.m.hyper?.window||""}}class S3e extends Nt{constructor(){super(...arguments),this.setProjectPath=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get projectPath(){return this.parent.m.hyper?.target||""}}class C3e extends Nt{constructor(){super(...arguments),this.setActionType=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t.target.value}})}}get options(){return uI}get actionType(){const t=this.parent.m.hyper?.target||"";return uI.some(([n])=>n===t)?t:uI[0][0]}}class x3e extends Nt{constructor(){super(...arguments),this.setCommandName=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get commandName(){return this.parent.m.hyper?.target||""}}class _3e extends Nt{constructor(){super(...arguments),this.setMode=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.set({hyper:null}):n.set({hyper:{...n.hyper,mode:r,target:""}})},this.setParams=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,params:t}})},this.setReceiver=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,object:t}})},this.setDisabled=(t,n)=>{const{m:r}=this;r.hyper&&r.set({hyper:{...r.hyper,disabled:n}})}}get modeOptions(){return b3e}get mode(){const{hyper:t}=this.m;return!t||t.mode<Uv||t.mode>Hv?-1:t.mode}get params(){return this.m.hyper?.params||""}get receiver(){return this.m.hyper?.object||""}get disabled(){return this.m.hyper?.disabled||!1}}const E3e={unit:"%",x:0,y:0,width:100,height:100};class T3e extends Nt{constructor(){super(...arguments),this.onChange=(t,{x:n,y:r,width:o,height:i})=>{const{m:s}=this.parent;if((o||i)&&(n||r||o<100||i<100)){const{image:a}=s;s.scene.pendNextEdit(),s.setArea({x:Math.round(n*.01*a.width),y:Math.round(r*.01*a.height),w:Math.max(Math.round(o*.01*a.width),1),h:Math.max(Math.round(i*.01*a.height),1)})}else s.setArea(null)},this.onDragEnd=t=>{this.parent.m.scene.pushPendingEdit()}}get crop(){const{area:t,image:n}=this.parent.m;return t?{unit:"%",x:t.x/n.width*100,y:t.y/n.height*100,width:t.w/n.width*100,height:t.h/n.height*100}:E3e}get imageInfo(){const{area:t,image:n}=this.parent.m;return"Crop: "+(t?`${t.x}, ${t.y}, ${t.w}x${t.h}`:"нет")+` [${n.width}x${n.height}]`}get imageSrc(){return Xi(this.parent.m.image.src)}}class M3e extends Nt{get kind(){return this.m.pad?"Площадка":"Картинка"}get isPad(){return!!this.m.pad}get schemaValuesModel(){const t=this.m.pad?.schema;return t&&!t.isFake?t:null}}class O3e extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.setValue(t)}get kind(){switch(this.m.inputType){case"Edit":return"Элемент ввода";case"Button":return"Кнопка";case"ComboBox":return"ComboBox";case"ListBox":return"Выпадающий список"}}get value(){return this.m.value}}class C4 extends Nt{constructor(){super(),this.editMode=!1,this.editValue="",this.onChange=t=>this._onChange(t.target.value),this.onInputChange=(t,n,r)=>{this._onChange(n)},this.onFormBlur=()=>{this.editMode&&(this.editMode=!1,this.props.onChange(this.editValue,!0))},this.onFormKeyDown=t=>{t.code==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.editMode=!1,t.target.blur())},vt(this,{editMode:Pe.ref,editValue:Pe.ref,onFormBlur:be,_onChange:be,onFormKeyDown:be,onChange:!1,onInputChange:!1})}onViewUnmounted(){this.onFormBlur()}get value(){if(this.editMode)return this.editValue;const{value:t}=this.props;return typeof t=="function"?t():t}get error(){return!!this.props.required&&!this.value}_onChange(t){this.editMode=!0,this.editValue=t,this.props.immediate&&this.props.onChange(t,!1)}}const R3e={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function I3e(e){return e.toLocaleString("ru",R3e)}class P3e extends Nt{constructor(){super(...arguments),this.setKlassName=t=>this.klass.rename(t),this.setForceUseIcon=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,prior:n?"icon":"image"}})},this.setCanChangeSize=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,resizable:n}})}}get klass(){return this.parent.m.klass}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get date(){return I3e(this.klass.date)}get isPropsChangeDisabled(){return this.klass.isReadonly}get klassName(){return this.klass.name}get forceUseIcon(){return this.klass.image?.prior==="icon"}get canChangeSize(){return this.klass.image?.resizable||!1}}class k3e extends Nt{constructor(t){super(),this.ctx=t,this.onChange=(a,c)=>{this.crop=c},this.onDragEnd=a=>{const{crop:c,iconImage:u,m:h}=this,f=Math.round(c.x/100*u.width/32)*32,g=Math.round(c.y/100*u.height/32)*32;this.crop={unit:"%",x:f/u.width*100,y:g/u.height*100,width:32/u.width*100,height:32/u.height*100};const m=sq(u,f,g),y={atlas:h.image?.icon?.atlas,index:m};h.set({image:{...h.image,icon:y}})};const r=this.m.icon,o=r.atlas&&Ep(r.atlas)||IC,{x:i,y:s}=kC(o,r.index||0);this.imageSrc=Xi(o.src),this.iconImage=o,this.crop={unit:"%",x:i/o.width*100,y:s/o.height*100,width:32/o.width*100,height:32/o.height*100},vt(this,{crop:Pe.ref,onChange:be,onDragEnd:be})}get disabled(){return this.m.isReadonly}get iconAtlas(){return this.iconImage.src}}const D3e=0,A3e=1,L3e=2,N3e=3,B3e=4,F3e=5,j3e=0,V3e=1,x4=3,_4=9,$3e=10,z3e=[[-1,"Отсутствует"],[D3e,"Сплошная"],[A3e,"- - -"],[L3e,". . ."],[N3e,"- . - ."],[B3e,"- . ."],[F3e,"Прозрачная"]],U3e=[[-1,"Отсутствует"],[j3e,"Сплошной цвет"],[x4,"Паттерн"],[V3e,"Прозрачная"]];class H3e extends Nt{constructor(){super(...arguments),this.setAngle=t=>{const{arrow:n}=this;if(!n)return;const r=kp(parseInt(t));isNaN(r)||r<0||this.m.setArrows({[this.props.arrow]:{...n,angle:r}})},this.setLength=t=>{const{arrow:n}=this;if(!n)return;const r=parseInt(t);isNaN(r)||r<1||this.m.setArrows({[this.props.arrow]:{...n,length:r}})},this.setFill=(t,n)=>{const{arrow:r}=this;r&&this.m.setArrows({[this.props.arrow]:{...r,fill:n}})},this.onRemoveButtonClick=()=>this.m.setArrows({[this.props.arrow]:null})}get arrow(){return this.m[this.props.arrow]}get angle(){return Xu(HC(this.arrow?.angle||0))}get length(){return(this.arrow?.length||0).toString()}get fill(){return this.arrow?.fill||!1}}class G3e extends Nt{constructor(){super(...arguments),this.getColor=()=>BC(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:FC(t)}),n&&r.scene.pushPendingEdit()},this.setWidth=t=>{const n=parseInt(t);isNaN(n)||n<0||this.m.set({width:n})}}get width(){return this.m.width.toString()}}class W3e extends Nt{constructor(){super(),this.inputRef=_.createRef(),this.dashed=!1,this.onClick=()=>this.inputRef.current?.click(),this.onDragOver=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)},this.onDragEnter=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)&&(this.dashed=!0)},this.onDragLeave=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1},this.onDrop=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1;const n=this.m.scene.fileContentTransfer?.pop(t.dataTransfer);n?.image?this.m.setImage(n.image):this.addFromFileList(t.dataTransfer.files)},this.onChange=({currentTarget:{files:t}})=>t&&this.addFromFileList(t),vt(this,{dashed:Pe.ref,onClick:!1,onDragOver:!1,onDragEnter:be,onDragLeave:be,onDrop:be,onChange:!1,addFromFileList:to})}get image(){return this.m.image}tryAccept(t){return this.m.scene.fileContentTransfer?.get(t)?.image?(t.dropEffect="link",!0):t.items.length&&t.items[0].type.startsWith("image/")?(t.dropEffect="copy",!0):(t.dropEffect="none",!1)}*addFromFileList(t){const n=t.item(0);if(!n||!n.type.startsWith("image/"))return;const{fileUploader:r}=this.m.scene;if(!r)return;const o=yield r.upload([n]),i=o.length&&o[0].data.image;i&&this.m.setImage(i)}}class K3e extends Nt{constructor(){super(...arguments),this.getColor=()=>BC(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:FC(t)}),n&&r.scene.pushPendingEdit()},this.setMix=(t,n)=>this.m.set({rop:n?_4:0})}get isPattern(){return this.m.style===x4}get mix(){const{rop:t}=this.m;return t===_4||t===$3e}}class q3e extends Nt{constructor(){super(...arguments),this.onPointsModeChange=(t,n)=>{this.m.setPointsEditMode(n==="points")},this.setPenVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removePen():n.pen?n.pen.set({style:r}):n.createPen({style:r})},this.setBrushVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removeBrush():n.brush?n.brush.set({style:r}):n.createBrush({style:r})},this.onAddStartArrowButtonClick=()=>this.m.setArrows({start:{angle:kp(45),length:10,fill:!1}}),this.onAddEndArrowButtonClick=()=>this.m.setArrows({end:{angle:kp(45),length:10,fill:!1}})}get kind(){return this.m.connection?"Связь":"Полилиния"}get mode(){return this.m.isPointsEditModeActive?"points":"props"}get sceneConnection(){return this.m.connection}get schemaConnection(){return this.m.connection?.schemaConnection||null}get canAddPen(){return!this.m.connection}get canAddBrush(){return!this.m.connection}get pen(){return this.m.pen}get brush(){return this.m.connection?null:this.m.brush}get hasStartArrow(){return!!this.m.start}get hasEndArrow(){return!!this.m.end}get penVariantOptions(){return z3e}get penVariant(){const{pen:t}=this.m;return t?t.style:-1}get brushVariantOptions(){return U3e}get brushVariant(){const{brush:t}=this.m;return t?t.style:-1}}const Y3e=[{field:"x",headerName:"X",type:"number",editable:!0,flex:1},{field:"y",headerName:"Y",type:"number",editable:!0,flex:1}];class X3e extends Nt{constructor(){super(),this.processRowUpdate=(t,n)=>{const r=parseInt(t.x);if(isNaN(r))return n;const o=parseInt(t.y);if(isNaN(o))return n;const i=t.id;return this.m.setPoint(i,r,o),t},vt(this,{processRowUpdate:be})}get columns(){return Y3e}get rows(){return this.m.points.map(({x:t,y:n},r)=>({id:r,x:t,y:n}))}}class Z3e extends Nt{constructor(){super(...arguments),this.onCreateGroupButtonClick=()=>this.m.createGroup(),this.onCreateConnectionButtonClick=()=>this.m.createConnection()}get selectionLength(){return this.m.objects.length}get showCreateGroupButton(){return this.m.canCreateGroup}get showCreateConnectionButton(){return this.m.canCreateConnection}}class J3e extends Nt{get klassPropsButtonModel(){return this.parent.hasSchema?this.parent.klass:null}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get schemaValuesModel(){const{schema:t}=this.parent;return t?.isFake?null:t}}function Q3e(e){const{value:t}=e;if(t===null)return null;const n=e.row.computedValueKind,r=n==="own"?"blue":n==="overwritten"?"green":n==="classSpecial"?"orange":void 0;let o="";return t!==null&&(o=n==="own"?"Значение установлено пользователем":n==="overwritten"?"Значение перезаписано другой переменной":n==="alien"?"Значение установлено другой переменной":n==="classSpecial"?"Используется свойство объекта":"Используется значение по умолчанию"),x.jsx("div",{title:o,style:{color:r,whiteSpace:"pre"},children:t})}function eUe(e,t){if(!e)return null;if(t===bt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==bt.STRING&&(e=e.trim()),e||null}class tUe extends Nt{constructor(t){super(),this.ctx=t,this.processRowUpdate=(n,r)=>{const{m:o}=this,i=eUe(n.value,n.type);if(i===r.value)return r;const s=o.vars.list.find(a=>a._reactKey===n.id);return s?.setOwnValue(i)?(o.applyChanges(),{...n,value:s.computedValue,computedValueKind:s.computedValueKind}):r},this.columns=[{field:"markButton",width:24,minWidth:24,resizable:!1,sortable:!1,filterable:!1,headerName:"",cellClassName:"mark-button-cell",renderCell:n=>_.createElement(dl,{onChange:this.updateRow.bind(this,n.row)})},{field:"name",headerName:"Переменная",flex:1,renderCell:n=>{const{description:r,defaultValue:o,type:i}=n.row;let s=`Тип: ${bt[i]}`;return r&&(s+=`
Описание: ${r}`),o&&(s+=`
По умолчанию: '${o}'`),_.createElement("div",{title:s},n.value)}},{field:"value",headerName:"Значение",editable:!0,flex:1,renderCell:n=>_.createElement(Q3e,n)}],vt(this,{processRowUpdate:be,updateRow:be})}updateRow(t,n,r){const{m:o}=this,i=o.vars.list.find(a=>a._reactKey===t.id);if(!i)return;const{project:s}=this.ctx;r?s.addMarkedVar(i):s.removeMarkedVar(i)}get rows(){return this.m.vars.list.map(t=>({id:t._reactKey,name:t.name,type:t.type,value:t.computedValue,computedValueKind:t.computedValueKind,description:t.description,defaultValue:t.defaultValue}))}}class nUe extends Nt{constructor(){super(...arguments),this.onOpenTextEditorButtonClick=()=>this.m.scene.openTextEditor(this.m)}get kind(){return"Текст"}}class rUe extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassProps(this.m)}get title(){return this.m.name}}class oUe extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openSchema(this.m)}get hasScene(){return this.m.klass.hasScene}}class iUe extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassCode(this.m)}get hasCode(){return this.m.hasCode||!1}}class sUe extends Nt{constructor(){super(...arguments),this.onClick=()=>this.m.delete()}}class aUe extends Nt{constructor(){super(...arguments),this.onMoveToBottomButtonClick=()=>this.m.moveToBottom(),this.onDecreaseZButtonClick=()=>this.m.decreaseZ(),this.onIncreaseZButtonClick=()=>this.m.increaseZ(),this.onMoveToTopButtonClick=()=>this.m.moveToTop()}get value(){return this.m.z.toString()}}let E4=0;class lUe extends Nt{constructor(t){super(),this.ctx=t,this.ref=_.createRef(),this.onFontStylesChange=(n,r)=>{this.m.set({fontDecorations:r})},this.onFontSizeChange=n=>{this.m.set({fontSize:n})},this.onColorChange=n=>{this.m.set({fontColor:n})},this.onFontChange=n=>{this.m.set({fontName:n.target.value})},this.onEditorChange=n=>{if(this.ref.current?.editor===document.activeElement){{const r=n.getLastChangeType();(r==="remove-range"||r==="delete-character")&&++E4}this.m.setState(n)}},this.handleKeyCommand=(n,r,o)=>{const{m:i}=this,s=Ls.RichUtils.handleKeyCommand(i.state,n);return s?(i.setState(s),"handled"):n==="strikethrough"?(i.setState(Ls.RichUtils.toggleInlineStyle(i.state,"STRIKETHROUGH")),"handled"):n==="font-up"?(this.m.set({fontSize:(Math.max(parseInt(i.fontSize)||1,0)+1).toString()}),"handled"):n==="font-down"?(this.m.set({fontSize:(Math.max(parseInt(i.fontSize)||1,2)-1).toString()}),"handled"):n==="apply"?(i.applyAndClose(),"handled"):n==="cancel"?(i.close(),"handled"):"not-handled"},this.customStyleFn=(n,r)=>{const o={whiteSpace:"pre"};return n.forEach(i=>{if(!i)return;const s=i.split("_");s.length<2||(o[s[0]]=s[1])}),o},this.keyBindingFn=n=>n.code==="Escape"?(n.preventDefault(),"cancel"):n.ctrlKey&&n.key==="Enter"?(n.preventDefault(),"apply"):n.ctrlKey&&n.key==="ArrowUp"?(n.preventDefault(),"font-up"):n.ctrlKey&&n.key==="ArrowDown"?(n.preventDefault(),"font-down"):n.ctrlKey&&n.code==="KeyS"?(n.preventDefault(),"strikethrough"):Ls.getDefaultKeyBinding(n),this.onApplyButtonClick=n=>{this.m.applyAndClose()},this.onCancelButtonClick=n=>{this.m.close()}}onViewMounted(){this.ref.current?.focus()}get dialogOpen(){return!this.m.isClosed}get randomKey(){return E4.toString()}get availableFonts(){return Lp}get editorState(){return this.m.state}get fontStyles(){return this.m.fontDecorations}get fontSizeValue(){return this.m.fontSize}get colorValue(){return this.m.fontColor}get fontValue(){return this.m.fontName}}class cUe extends Nt{constructor(){super(),this.viewMountRef=_.createRef(),vt(this,{hasSchema:Gr})}onViewMountedSync(){const{scene:t}=this.m;this.viewMountRef.current?.appendChild(t.view),t.onViewMounted()}onViewUnmountedSync(){const{scene:t}=this.m;t.view.remove(),t.onViewUnmounted()}get textEditor(){return this.m.scene.textEditor}get selectedObject(){return this.m.scene.selection?.object||null}get selection(){return this.m.scene.selection}get klass(){const{m:t}=this;return t.type!=="fileSceneEditor"?t.klass:null}get schema(){return this.m.scene.schema}get hasSchema(){return!!this.schema}}function Vm({options:e,...t}){return x.jsx(bw,{fullWidth:!0,children:x.jsx(hl,{select:!0,size:"small",...t,children:e.map(([n,r])=>x.jsx(zi,{value:n,children:r},n))})})}function us({label:e,...t}){return x.jsx(Jl,{control:x.jsx(dl,{...t}),label:e,sx:{mr:0}})}const uUe=ko()(({vm:e,...t})=>x.jsx(hl,{error:e.error,value:e.value,...t})),yo=Dt(C4)(({vm:e,value:t,onChange:n,immediate:r,...o})=>x.jsx(WIe,{onSubmit:fz,onKeyDown:e.onFormKeyDown,onBlur:e.onFormBlur,autoComplete:"off",children:x.jsx(uUe,{onChange:e.onChange,fullWidth:!0,size:"small",slotProps:{htmlInput:{step:"any"}},...o})})),dUe=Dt(C4)(({vm:e,options:t,value:n,onChange:r,immediate:o,...i})=>x.jsx(bU,{inputValue:e.value,onInputChange:e.onInputChange,onBlur:e.onFormBlur,renderInput:s=>x.jsx(hl,{...s,error:e.error,...i}),options:t,size:"small",freeSolo:!0,blurOnSelect:!0,sx:{flexGrow:1}})),hUe={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${wU.root}`]:{width:32,height:32,ml:-.5,mr:1}},fUe=Dt(jIe)(({vm:e})=>x.jsxs(Cw,{anchorEl:e.anchorEl,open:e.parent.optionsMenuOpen,onClose:e.parent.onOptionsMenuClose,transformOrigin:{horizontal:"left",vertical:"bottom"},anchorOrigin:{horizontal:"left",vertical:"top"},slotProps:{paper:{elevation:0,sx:hUe}},children:[x.jsx(zi,{disableRipple:!0,children:x.jsx(Jl,{control:x.jsx(us,{checked:e.popup,onChange:e.setPopup}),label:"Всплывающее окно"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Jl,{control:x.jsx(us,{checked:e.fixed,onChange:e.setFixed}),label:"Нельзя изменять размер мышкой"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Jl,{control:x.jsx(us,{checked:e.vscroll,onChange:e.setVScroll}),label:"Показывать вертикальный scroll"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Jl,{control:x.jsx(us,{checked:e.hscroll,onChange:e.setHScroll}),label:"Показывать горизонтальный scroll"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Jl,{control:x.jsx(us,{checked:e.autoorg,onChange:e.seAutoOrg}),label:"Граница по крайнему объекту"})}),x.jsx(zi,{disableRipple:!0,children:x.jsx(Jl,{control:x.jsx(us,{checked:e.autoScroll,onChange:e.seAutoScroll}),label:"Автоматически пересчитывать область прокрутки"})})]})),pUe=ko()(({vm:e})=>x.jsxs(x.Fragment,{children:["x:",e.statusCursorX,", y:",e.statusCursorY,", zoom:",e.zoom,"%"]})),gUe=Dt(NIe)(({vm:e})=>{const{showSchemaButtons:t}=e;return x.jsxs(x.Fragment,{children:[x.jsx(fUe,{}),x.jsx(Mn,{title:"Отменить (Ctrl+Z)",placement:"top",children:x.jsx(mo,{component:"span",display:"flex",children:x.jsx(wn,{onClick:e.onUndoButtonClick,disabled:e.undoButtonDisabled,size:"small",children:x.jsx(AOe,{})})})}),x.jsx(Mn,{title:"Повторить (Ctrl+Shift+Z)",placement:"top",children:x.jsx(mo,{component:"span",display:"flex",children:x.jsx(wn,{onClick:e.onRedoButtonClick,disabled:e.redoButtonDisabled,size:"small",children:x.jsx(TOe,{})})})}),x.jsx(Mn,{title:"Создать линию (L)",placement:"top",children:x.jsx(wn,{onClick:e.onCreateLineButtonClick,size:"small",sx:{ml:2},children:x.jsx(_Oe,{})})}),x.jsx(Mn,{title:"Создать прямоугольник (Q)",placement:"top",children:x.jsx(wn,{onClick:e.onCreateRectButtonClick,size:"small",children:x.jsx(EOe,{})})}),x.jsx(Mn,{title:"Создать текст (T)",placement:"top",children:x.jsx(wn,{onClick:e.onCreateTextButtonClick,size:"small",children:x.jsx(NMe,{})})}),x.jsx(Mn,{title:"Создать элемент ввода (I)",placement:"top",children:x.jsx(wn,{onClick:e.onCreateInputButtonClick,size:"small",children:x.jsx(uOe,{})})}),x.jsx(Mn,{title:"Создать кнопку (B)",placement:"top",children:x.jsx(wn,{onClick:e.onCreateButtonButtonClick,size:"small",children:x.jsx(VMe,{})})}),t&&x.jsx(Mn,{title:"Создать связь (C)",placement:"top",children:x.jsx(wn,{onClick:e.onCreateConnectionButtonClick,size:"small",children:x.jsx(jMe,{})})}),t&&x.jsx(Mn,{title:"Изменить порядок имиджей (R)",placement:"top",children:x.jsx(wn,{onClick:e.onReorderButtonClick,color:e.reorderButtonActive?"error":"default",size:"small",sx:{ml:2},children:x.jsx(oOe,{})})}),e.showSceneOptionsButton&&x.jsx(Mn,{title:"Свойства окна сцены",placement:"top",children:x.jsx(wn,{onClick:e.onSceneOptionsButtonClick,ref:e.propsButtonRef,size:"small",sx:{ml:2},children:x.jsx(BOe,{})})}),x.jsx(Mn,{title:"Предыдущий объект (Shift+Tab)",placement:"top",children:x.jsx(wn,{onClick:e.onSelectPrevObjectButtonClick,size:"small",sx:{ml:2},children:x.jsx(mOe,{})})}),x.jsx(Mn,{title:"Следующий объект (Tab)",placement:"top",children:x.jsx(wn,{onClick:e.onSelectNextObjectButtonClick,size:"small",children:x.jsx(vOe,{})})}),t&&x.jsxs(x.Fragment,{children:[x.jsx(Mn,{title:`${e.showClassesCheckboxChecked?"Скрыть":"Показать"} имиджи (1)`,placement:"top",children:x.jsx(dl,{checked:e.showClassesCheckboxChecked,onChange:e.onHideClassesCheckboxChange,checkedIcon:x.jsx(Ow,{sx:{color:"yellowgreen"}}),icon:x.jsx(ROe,{}),sx:{ml:2}})}),x.jsx(Mn,{title:`${e.showConnectionsCheckboxChecked?"Скрыть":"Показать"} связи (2)`,placement:"top",children:x.jsx(dl,{checked:e.showConnectionsCheckboxChecked,onChange:e.onShowConnectionsCheckboxChange,checkedIcon:x.jsx(lOe,{sx:{color:"red"}}),icon:x.jsx(cOe,{})})}),x.jsx(Mn,{title:`${e.showOtherCheckboxChecked?"Скрыть":"Показать"} остальные объекты (3)`,placement:"top",children:x.jsx(dl,{checked:e.showOtherCheckboxChecked,onChange:e.onShowOtherCheckboxChange,checkedIcon:x.jsx(GMe,{}),icon:x.jsx(WMe,{})})})]}),x.jsx(Mn,{title:`${e.selectUnselectableCheckboxChecked?"Отключить":"Включить"} выбор невыбираемых объектов (4)`,placement:"top",children:x.jsx(dl,{checked:e.selectUnselectableCheckboxChecked,onChange:e.onSelectUnselectableCheckboxChange,checkedIcon:x.jsx(XMe,{sx:{color:"red"}}),icon:x.jsx(ZMe,{})})}),x.jsx(mo,{ml:"auto",children:x.jsx(pUe,{})}),x.jsx(wn,{onClick:e.onResetZoomButtonClick,disabled:e.resetZoomButtonDisabled,size:"small",children:x.jsx(MOe,{})})]})}),mUe=Dt(BIe)(({vm:e})=>x.jsx(mo,{ml:"auto",children:e.cursorPosition})),vUe=Dt(FIe)(({vm:e})=>{const{currentEditor:t}=e;return x.jsxs(ti,{display:"flex",flexGrow:0,height:25,fontSize:15,textAlign:"end",px:2,whiteSpace:"nowrap",sx:{userSelect:"none"},children:[e.showSaveButton&&x.jsx(Mn,{title:"Сохранить (Ctrl+S)",placement:"top",children:x.jsx(wn,{onClick:e.onSaveButtonClick,disabled:e.saveButtonDisabled,size:"small",children:x.jsx(OOe,{})})}),t&&O$(t)&&x.jsx(gUe,{m:t}),t&&Dge(t)&&x.jsx(mUe,{m:t})]})});class yUe extends Nt{constructor(){super(),this.dashed=!1,this.onMouseDownCapture=t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},this.onPointerDown=t=>{switch(t.button){case 0:t.stopPropagation(),this.makeActive();return;case 1:t.preventDefault(),this.onCloseButtonClick();return}},this.onCloseButtonPointerDown=t=>{t.stopPropagation()},this.onDragStart=t=>{this.tabTransfer.put(t.dataTransfer,this,"move")},this.onDragOver=t=>{t.preventDefault();const n=t.dataTransfer;n.dropEffect=this.tabTransfer.canDrop(t.dataTransfer)?"move":"none"},this.onDragEnter=t=>{if(this.onDragOver(t),t.dataTransfer.dropEffect!=="none"){this.dashed=!0;return}this.isActive||this.makeActive()},this.onDragLeave=t=>{t.preventDefault(),t.currentTarget.contains(t.relatedTarget)||(this.dashed=!1)},this.onDrop=t=>{t.preventDefault();const n=this.tabTransfer.pop(t.dataTransfer);n&&(this.dashed=!1,this!==n&&this.parent._swapTabs(this.m,n.m))},this.onCloseButtonClick=t=>{this.m.close()},vt(this,{dashed:Pe.ref,isActive:Gr,onPointerDown:be,onDragEnter:be,onDragLeave:be,onDrop:be})}makeActive(){this.parent._setCurrent(this.m)}get tabTransfer(){return this.parent.tabTransfer}get editor(){return this.m.editor}get value(){return this.m._reactKey}get _reactKey(){return this.m._reactKey}get isActive(){return this.parent.value===this.value}get title(){return this.editor.title}get hasChanges(){return this.editor.hasChanges||!1}get isDeleted(){return this.editor.isDeleted}get isReadonly(){return this.editor.isReadonly}}class bUe extends Nt{constructor(){super(...arguments),this.tabTransfer=new lM("tabs")}get tabs(){return this.m.tabs}get value(){return this.m.currentTab?._reactKey||!1}_setCurrent(t){this.m.setCurrentTab(t)}_swapTabs(t,n){const r=this.m.tabs.slice(),o=r.indexOf(t),i=r.indexOf(n);r.splice(i,1),r.splice(o,0,n),this.m.reorderTabs(r)}}const wUe=we(wH)({maxWidth:"1rem"}),SUe=we(Mw)({maxWidth:"1rem"}),CUe=we(mo,{shouldForwardProp:e=>e!=="isDeleted"})(({isDeleted:e})=>({...e&&{textDecoration:"line-through",color:"red"}})),xUe=ko()(({vm:e})=>{const{title:t,hasChanges:n,isDeleted:r,isReadonly:o}=e,i=`${t}${o&&!r?" (READONLY)":""}`;return x.jsxs(CUe,{variant:"caption",fontSize:"0.8rem",isDeleted:r,children:[i,x.jsx(Mn,{title:"Закрыть (Alt+W, Shift+W)",children:x.jsx(wn,{onClick:e.onCloseButtonClick,onPointerDown:e.onCloseButtonPointerDown,component:"div",size:"small",children:n?x.jsx(wUe,{}):x.jsx(SUe,{})})})]})}),dI=35,_Ue=we(KO,{shouldForwardProp:e=>e!=="dashed"&&e!=="isActive"})(({dashed:e,isActive:t})=>({maxHeight:dI,minHeight:dI,textTransform:"none",...e&&{border:"1px dashed black"},...t&&{background:"rgb(219 217 217)"}})),T4=Dt(yUe)(({vm:e})=>x.jsx(_Ue,{label:x.jsx(xUe,{}),draggable:!0,disableRipple:!0,dashed:e.dashed,isActive:e.isActive,onPointerDown:e.onPointerDown,onDragStart:e.onDragStart,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop}));T4.muiName="Tab";const EUe=we(hH,{name:"ETabsView"})({minHeight:dI,[`& .${om.indicator}`]:{transition:"none"},[`& .${om.scrollButtons}.${lH.disabled}`]:{opacity:.3}}),TUe=Dt(bUe)(({vm:e})=>x.jsx(EUe,{variant:"scrollable",value:e.value,children:e.tabs.map(t=>x.jsx(T4,{value:t._reactKey,m:t},t._reactKey))})),MUe=we("div",{name:"LeftPanelToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center",[`& .${F3.root}`]:{padding:6}}),OUe=we($i,{name:"MainMenuButton"})({display:"block",margin:4,padding:2,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0});class RUe extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.onCollapseFilesButtonClick.dispatch()}}const IUe=Dt(RUe)(({vm:e})=>x.jsx(Mn,{title:"Свернуть список файлов",children:x.jsx(wn,{onClick:e.onClick,children:x.jsx(LOe,{})})}));class PUe extends Nt{constructor(){super(...arguments),this.onClick=()=>{if(this.m.player){this.m.player.maximize();return}this.m.openPlayer()}}get isPlaying(){return!!this.m.player}}const kUe=Dt(PUe)(({vm:e})=>{const{isPlaying:t}=e;return x.jsx(Mn,{title:`${t?"Развернуть проигрыватель":"Запустить проект"} (Ctrl+R)`,children:x.jsx(wn,{onClick:e.onClick,color:t?"error":"default",children:x.jsx(xOe,{})})})}),M4=new WeakMap,O4=new Map;function DUe(e){const t=new DT(e),n=ay(t.objects.values()),r=Math.abs(n.w-n.h)>50?Math.min(n.w,n.h):void 0,o={...n,w:r||n.w,h:r||n.h};return t.toSVG(o,!0)}function AUe(e,t){const n=Ep(e)||IC,{x:r,y:o}=kC(n,t),i=`${r} ${o} 32 32`;return{src:Xi(n.src),viewBox:i}}const LUe=we("svg")({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"});function R4(e){return x.jsx(LUe,{width:32,height:32,viewBox:"0 0 32 32",preserveAspectRatio:"xMidYMid slice",...e})}function CS({sceneData:e}){let t=M4.get(e);return t||(t=DUe(e),M4.set(e,t)),x.jsx(R4,{ref:n=>n?.replaceChildren(t.cloneNode(!0))})}function hI({icon:{atlas:e="",index:t=0}}){const n=e+t;let r=O4.get(n);return r||(r=AUe(e,t),O4.set(n,r)),x.jsx(R4,{viewBox:r.viewBox,children:x.jsx("image",{href:r.src})})}const I4=we(FMe)({opacity:.8}),P4=we(aOe)({opacity:.8}),k4=we(aR,{name:"SchemaTreeView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${ec.content}`]:{padding:"0px 2px",margin:e.spacing(.2,0),[`& .${ec.label}`]:e.typography.body2},[`& .${ec.groupTransition}`]:{marginLeft:15,borderLeft:"1px dashed rgba(0, 0, 0, 0.4)"},[`& .${ec.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class NUe extends Nt{constructor(t){super(),this.ctx=t,this.onDoubleClick=n=>{n.stopPropagation(),this.ctx.project.focusOnNode(this.m,!0)},vt(this,{canExpand:Gr,onDoubleClick:!1})}get image(){return this.m.klass.imageData}get icon(){return this.m.klass.icon}get canExpand(){return this.m.children.list.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children.list}}class BUe extends Nt{constructor(t){super(),this.ctx=t,this.selectedItem=null,this.apiRef=_.createRef(),this.onNodeSelectedOnScene=n=>{const r=n.itemId,o=this.getItemById(r);if(!o)return;const i=new Set(this.expandedItems);let s=o;for(;s.parent;)i.add(s.parent.itemId),s=s.parent;this.selectedItem=r,this.expandedItems=Array.from(i);const a=document.activeElement;this.apiRef.current?.focusItem(null,n.itemId),a instanceof HTMLElement&&a.focus()},this.onExpandedItemsChange=(n,r)=>{if(n?.type==="keydown"&&n.key==="Enter"){const{expandedItems:o}=this;let i;r.length>o.length?i=r.find(s=>!o.includes(s)):i=o.find(s=>!r.includes(s)),i&&this.onSelectedItemChange(n,i);return}this.expandedItems=r},this.onSelectedItemChange=(n,r)=>{if(this.selectedItem=r,!r)return;const o=this.getItemById(r);o&&this.ctx.project.focusOnNode(o)},this.onDescendantsDeleted=n=>{const r=new Set(Ck(n,o=>o.itemId));this.expandedItems=this.expandedItems.filter(o=>!r.has(o))},this.expandedItems=[this.m.itemId],vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,onSelectedItemChange:be})}onViewMountedSync(){this.m.onDescendantsDeleted.add(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.add(this.onNodeSelectedOnScene)}onViewUnmountedSync(){this.m.onDescendantsDeleted.remove(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.remove(this.onNodeSelectedOnScene)}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const o of r.children.list){const i=n(o);if(i)return i}return null})(this.m)}}const FUe=Dt(BUe)(({vm:e,m:t,hidden:n})=>x.jsx(k4,{hidden:n,apiRef:e.apiRef,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:I4,collapseIcon:P4},onContextMenu:Eb,children:x.jsx(D4,{m:t})})),D4=Dt(NUe)(({vm:e})=>{const{image:t}=e;return x.jsx(tu,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(CS,{sceneData:t}):x.jsx(hI,{icon:e.icon}),e.label]}),onDoubleClick:e.onDoubleClick,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(jUe,{})})}),jUe=ko()(({vm:e})=>e.children.map(t=>x.jsx(D4,{m:t},t.itemId)));class VUe extends Nt{constructor(){super(...arguments),this.onClick=()=>this.m.sync()}get isSyncing(){return this.m.isSyncing}get changesList(){return this.m.changesList}}const $Ue={bgcolor:tl[500],"&:hover":{bgcolor:tl[700]}},zUe={bgcolor:Uc[700],"&:hover":{bgcolor:Uc[800]}},A4={width:"0.5em",height:"0.5em",color:"white"},UUe={color:tl[500],position:"absolute",top:-2,left:-2,zIndex:1},HUe=x.jsx(EH,{sx:A4}),GUe=x.jsx(yH,{sx:A4});function WUe({title:e}){return x.jsx(mo,{variant:"caption",whiteSpace:"pre-wrap",children:e})}const KUe=Dt(VUe)(({vm:e})=>{const{isSyncing:t,changesList:n}=e,r=!t&&!n.length,o=t?"Идет синхронизация...":n.length?`Изменения:
`+n.join(`
`):"Все библиотеки синхронизированы";return x.jsxs(ti,{position:"relative",ml:1,children:[x.jsx(Mn,{title:x.jsx(WUe,{title:o}),children:x.jsx(wn,{onClick:e.onClick,sx:r?$Ue:zUe,children:r?GUe:HUe})}),t&&x.jsx(of,{size:32,sx:UUe})]})}),qUe=we(aR,{name:"EVFSView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${ec.content}`]:{padding:"0px 2px",[`& .${ec.label}`]:e.typography.body2},[`& .${ec.groupTransition}`]:{marginLeft:12},[`& .${ec.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class YUe extends Nt{constructor(t){super(),this.selectedItem=null,this.autoCollapsed=!1,this.onExpandedItemsChange=(r,o)=>{this._expandedItems=o,this.autoCollapsed=!1},this.onSelectedItemsChange=(r,o)=>{if(this.selectItem(o),!o)return;const i=this.getItemById(o);if(i?.type!=="file")return;const{project:s}=this.ctx,{klass:a}=i;if(r&&"ctrlKey"in r&&r.ctrlKey){a&&(a.hasCode||!a.isReadonly)&&s.openKlassCode(a);return}if(r&&"shiftKey"in r&&r.shiftKey){a&&(a.hasScene||!a.isReadonly)&&s.openKlassScene(a);return}s.openFile(i)},this.collapse=()=>{this._expandedItems=[],this.autoCollapsed=!1},this.onDescendantsDeleted=r=>{const o=new Set(Ck(r,i=>i.itemId));this._expandedItems=this._expandedItems.filter(i=>!o.has(i)),this.autoCollapsed=!1},this.ctx={...t,vfs:this,fileDirTransfer:new lM("fileDir"),_dragStartTimeStamp:0};const{libs:n}=this.m;this._expandedItems=n.length?[n[0].rootDir.itemId]:[],vt(this,{_expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,selectItem:be,expandItem:be,expandAll:be,collapse:be,onSelectedItemsChange:!1})}onViewMountedSync(){this.ctx.project.onCollapseFilesButtonClick.add(this.collapse),this.m.onDirsRemoved.add(this.onDescendantsDeleted),this.autorun(()=>{this.ctx.project.vfsFilter.text.length>1&&this.expandAll()})}onViewUnmountedSync(){this.ctx.project.onCollapseFilesButtonClick.remove(this.collapse),this.m.onDirsRemoved.remove(this.onDescendantsDeleted)}get expandedItems(){return this.ctx.project.vfsFilter.text.length<2&&this.autoCollapsed?[]:this._expandedItems}get libs(){return this.m.libs}selectItem(t){this.selectedItem=t}expandItem(t){this._expandedItems.includes(t)||(this._expandedItems=this._expandedItems.concat(t),this.autoCollapsed=!1)}expandAll(){const t=[];function n(r){t.push(r.itemId),r.dirs.forEach(n)}this.libs.forEach(r=>n(r.rootDir)),this._expandedItems=t,this.autoCollapsed=!0}getItemById(t){function n(r){if(r.itemId===t)return r;for(const o of r.files)if(o.itemId===t)return o;for(const o of r.dirs){const i=n(o);if(i)return i}return null}for(const r of this.libs){const o=n(r.rootDir);if(o)return o}return null}}function ta(e){return _.createElement(e,{fontSize:"small"})}function L4(e){return[{title:"Переименовать",icon:ta(wH),action:e.startRenaming},{title:"Удалить",icon:ta(qMe),action:e.deleteWithConfirm}]}function XUe(e){return[{title:"Папка",icon:ta(KMe),action:e.createNewDir},{title:"Имидж",icon:ta(UMe),action:Bq(e.createClass)},{title:"Сцена",icon:ta(TH),action:e.createScene},{title:"Матрица",icon:ta(xH),action:e.createMatrix},{title:"Текстовый файл",icon:ta(_H),action:e.createTextFile},{title:"Загрузить файлы",icon:ta(NOe),action:e.openUploadDialog}]}function ZUe(e,t){const{isSearchDir:n}=e;return{title:n?"Исключить из путей поиска имиджей":"Добавить в пути поиска имиджей",icon:ta(n?POe:IOe),action:(n?t.removeKlassSearchDir:t.addKlassSearchDir).bind(t,e)}}function N4(e){return{title:"Скопировать относительный путь",icon:ta(QMe),action:Nq.bind(null,e)}}function JUe(e,t){const{isReadonly:n,hasScene:r}=e,o=[],i=n?r?"Просмотр схемы":"":r?"Редактировать схему":"Создать схему";i&&o.push({title:i+" (Shift+Click)",icon:ta(Ow),action:t.openKlassScene.bind(t,e)});const s=n?e.hasCode?"Просмотр кода":"":"Редактировать код";return s&&o.push({title:s+" (Ctrl+Click)",icon:ta(bH),action:t.openKlassCode.bind(t,e)}),o}const Lf=new WeakSet;class QUe extends Nt{constructor(t){super(),this.ctx=t,this.contentRef=_.createRef(),this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;(!(n.files.length||n.dirs.length)||window.confirm(`Удалить ${n.name}?`))&&n.remove()},this.createNewDir=()=>{const n=Rh(this.m,"Новая папка"),r=this.m.createDir(n);this.expand(),Lf.add(r)},this.createClass=()=>{const n=window.prompt("Имя имиджа")?.split(" ").join("");if(!n)return;const{project:r}=this.ctx;try{r.createNewKlass(n,this.m)}catch(o){if(!(o instanceof Ci))throw o;alert(o.message)}},this.createScene=()=>{const n=Rh(this.m,"scene","vdr"),r=this.m.createFile(n,{scene:Vq});this.expand(),Lf.add(r)},this.createMatrix=()=>{const n=Rh(this.m,"matrix","mat"),r=this.m.createFile(n,{mat:jq});this.expand(),Lf.add(r)},this.createTextFile=()=>{const n=Rh(this.m,"Новый текстовый файл","txt"),r=this.m.createFile(n,{base64:""});this.expand(),Lf.add(r)},this.openUploadDialog=()=>{const n=document.createElement("input");n.onchange=()=>this.uploadFiles(n.files),n.type="file",n.multiple=!0,n.accept="image/*, video/*, audio/*, font/*, .cur, .ico",n.click()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,o=n.clientY-6,{m:i}=this,s=[...i.canCreateFiles?XUe(this):[],...i.canEdit?L4(this):[],...i.canAddToSearchDir?[ZUe(i,this.ctx.project)]:[],...i.hasRelativePath?[N4(i)]:[]];s.length&&this.ctx.app.ctxMenu.open(r,o,s)},this.onDragStart=n=>{n.stopPropagation(),this.ctx._dragStartTimeStamp=0;const r=n.dataTransfer;this.ctx.fileDirTransfer.put(r,this.m,"move");const o=this.contentRef.current?.querySelector(`.${ec.label}`);o&&r.setDragImage(o,0,0)},this.onDragOver=n=>{n.preventDefault(),n.stopPropagation();const r=n.dataTransfer;if(r.dropEffect="none",!this.m.canCreateFiles)return;const o=this.ctx.fileDirTransfer.get(r);if(o){if(o.type==="dir"&&this.m.hasAncestor(o))return;r.dropEffect="move"}else if(r.types.some(s=>s==="Files"))r.dropEffect="copy";else return;this.ctx.vfs.selectItem(this.itemId);const{_dragStartTimeStamp:i}=this.ctx;i?(!this.m.parent||n.timeStamp-i>500)&&(this.expand(),this.ctx._dragStartTimeStamp=1/0):this.ctx._dragStartTimeStamp=n.timeStamp},this.onDragLeave=()=>{this.ctx._dragStartTimeStamp=0},this.onDrop=n=>{n.stopPropagation(),n.preventDefault();const r=n.dataTransfer,o=this.ctx.fileDirTransfer.pop(r);if(o){try{this.m.insertEntry(o)}catch(i){alert(i.message);return}this.ctx.vfs.selectItem(o.itemId)}else this.uploadFiles(r.files);this.expand()},this.isRenaming=Lf.delete(this.m),vt(this,{isRenaming:Pe.ref,canExpand:Gr,startRenaming:be,renameEntry:be,createClass:be,createMatrix:be,createNewDir:be,createScene:be,createTextFile:be,deleteWithConfirm:be,uploadFiles:to,openUploadDialog:!1,onContextMenu:!1,onDragLeave:!1,onDragOver:!1,onDragStart:!1,onDrop:!1})}get itemId(){return this.m.itemId}get label(){return this.m.name}get draggable(){return!this.isRenaming&&this.m.canEdit}get filteredDirs(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.dirs.filter(n=>n.files.some(r=>t.isFilePassing(r))):this.m.dirs}get filteredFiles(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.files.filter(n=>t.isFilePassing(n)):this.m.files}get canExpand(){return this.filteredFiles.length>0||this.filteredDirs.length>0}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){alert(n.message)}}*uploadFiles(t){if(!t.length)return;const n=this.ctx.project.getFileUploader(this.m.lib);if(!n)return;const r=yield n.upload([...t]);let o=null;for(const i of r){const{base:s,ext:a}=Cq(i.file.name),c=Rh(this.m,s,a);o=this.m.createFile(c,i.data).itemId}o&&this.ctx.vfs.selectItem(o)}expand(){this.ctx.vfs.expandItem(this.itemId)}}class eHe extends Nt{constructor(){super(),this.inputRef=_.createRef(),this.onInputBlur=({target:t})=>{this.parent.renameEntry(t.value)},this.onFormKeyDown=t=>{t.stopPropagation(),t.code==="Escape"&&(t.preventDefault(),this.parent.renameEntry(""))},vt(this,{onFormKeyDown:be,onInputBlur:be})}onViewMounted(){const t=this.inputRef.current;if(!t)return;t.focus();const n=t.value.lastIndexOf(".");n>0?t.setSelectionRange(0,n):t.select()}get defaultValue(){return this.parent.m.name}}class tHe extends Nt{constructor(t){super(),this.ctx=t,this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;window.confirm(`Удалить ${n.name}?`)&&n.remove()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,o=n.clientY-6,{m:i}=this,{klass:s}=i,a=[...s?JUe(s,this.ctx.project):[],...i.canEdit?L4(this):[],...i.hasRelativePath?[N4(i)]:[]];a.length&&this.ctx.app.ctxMenu.open(r,o,a)},this.onDragStart=n=>{this.ctx._dragStartTimeStamp=0,n.stopPropagation();const r=n.dataTransfer,{m:o}=this,{canEdit:i}=o;i&&this.ctx.fileDirTransfer.put(r,o,"move"),this.ctx.project.vfsFileTransfer.put(r,o,i?"linkMove":"link")},this.isRenaming=Lf.delete(this.m),vt(this,{isRenaming:Pe.ref,startRenaming:be,renameEntry:be,deleteWithConfirm:be,onContextMenu:!1,onDragStart:!1})}get itemId(){return this.m.itemId}get label(){const{klass:t}=this.m;if(!t)return this.m.name;const{vfsFilter:n}=this.ctx.project;return n.type==="klass"?t.name:`${this.m.name} (${t.name})`}get draggable(){return!this.isRenaming}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){if(!(n instanceof Ci))throw n;alert(n.message)}}}class nHe extends Nt{constructor(){super(...arguments),this.onSearchFieldChange=t=>{this.m.setText(t.target.value)},this.onMenuItemClick=(t,n)=>{this.m.setType(t)},this.onClose=(t,n)=>{this.props.onClose()}}get searchFieldValue(){return this.m.text}get activeValue(){return this.m.type}get items(){return[{value:"all",title:"Все файлы"},{value:"klass",title:"Имиджи"},{value:"image",title:"Изображения"}]}}const B4=Dt(eHe)(({vm:e})=>x.jsx("form",{onSubmit:fz,onKeyDown:e.onFormKeyDown,children:x.jsx("input",{ref:e.inputRef,defaultValue:e.defaultValue,onBlur:e.onInputBlur})})),rHe=ko()(({vm:{m:e}})=>{const{klass:t}=e;if(t){const{imageData:r}=t;return r?x.jsx(CS,{sceneData:r}):x.jsx(hI,{icon:t.icon})}const{scene:n}=e;if(n){const r=n.data.data;return r?.objects?.length?x.jsx(CS,{sceneData:r}):x.jsx(TH,{})}return e.image?x.jsx(gIe,{src:Xi(e.image.src)}):e.binary?e.binary.isTextFile?x.jsx(_H,{}):x.jsx(yOe,{}):e.matrix?x.jsx(xH,{}):e.stt?x.jsx(EH,{}):e.video?x.jsx(bOe,{}):e.audio?x.jsx($Me,{}):e.cursor?x.jsx(gOe,{}):e.ttf?x.jsx(tOe,{}):x.jsx(zMe,{})}),oHe=Dt(YUe)(({vm:e,hidden:t})=>x.jsx(hM,{value:e.ctx,children:x.jsx(qUe,{hidden:t,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(sHe,{})})})),F4=Dt(QUe)(({vm:e})=>x.jsx(tu,{ref:e.contentRef,itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(B4,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsxs(x.Fragment,{children:[x.jsx(aHe,{}),x.jsx(lHe,{})]})})),iHe=Dt(tHe)(({vm:e})=>x.jsx(tu,{itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(B4,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,slots:{icon:rHe}})),sHe=ko()(({vm:e})=>e.libs.map(({rootDir:t})=>x.jsx(F4,{m:t},t.itemId))),aHe=ko()(({vm:e})=>e.filteredDirs.map(t=>x.jsx(F4,{m:t},t.itemId))),lHe=ko()(({vm:e})=>e.filteredFiles.map(t=>x.jsx(iHe,{m:t},t.itemId))),cHe="filter-filter-search-field",uHe={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${wU.root}`]:{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:227,width:15,height:15,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}},dHe=Dt(nHe)(({vm:e,open:t,anchorEl:n})=>{const r=Iye();return x.jsxs(Cw,{anchorEl:n,open:t,onClose:e.onClose,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"left",vertical:"bottom"},slotProps:{paper:{elevation:0,sx:uHe}},children:[x.jsx(zi,{onFocus:r.onFocus,selected:!0,disableRipple:!0,sx:{bgcolor:"transparent"},children:x.jsx(hl,{onFocus:Oye,inputRef:r.ref,value:e.searchFieldValue,onChange:e.onSearchFieldChange,label:"Имя файла",id:cHe,spellCheck:!1,autoFocus:!1,autoComplete:"off"})}),e.items.map((o,i)=>x.jsxs(zi,{onClick:e.onMenuItemClick.bind(null,o.value),children:[o.value===e.activeValue&&x.jsx(ww,{children:x.jsx(yH,{fontSize:"small"})}),o.title]},i))]})});class hHe extends Nt{constructor(){super(...arguments),this.onClick=t=>{this.props.onClick()}}get badgeVisible(){return this.m.isActive}}const fHe=Dt(hHe)(({vm:e,buttonRef:t})=>x.jsx(Mn,{title:"Фильтр файлов (Ctrl+F)",children:x.jsx(wn,{ref:t,onClick:e.onClick,children:x.jsx(Yg,{invisible:!e.badgeVisible,color:"warning",variant:"dot",children:x.jsx(eOe,{})})})}));function pHe(){const{mainMenuVisible:e}=wa(),{projectFile:t}=SM(),n=t.path,r=t.parent.path;return x.jsx(OUe,{variant:"outlined",title:n,onClick:e.setTrue,children:r})}function gHe(){const{leftPanelMinimized:e}=wa();return x.jsx(Mn,{title:"Показать левую панель (Ctrl+Shift+F)",followCursor:!0,placement:"right",children:x.jsx(sG,{onClick:e.setFalse,size:"small",children:x.jsx(vH,{})})})}function mHe(){const{leftPanelMinimized:e}=wa();return x.jsx(Mn,{title:"Скрыть левую панель (Ctrl+Shift+F)",children:x.jsx(wn,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx(mH,{})})})}const vHe=Sg(()=>{const{activeLeftPanelActiveView:e}=wa(),{current:t}=e,n=(r,o)=>{o&&e.set(o)};return x.jsxs(gH,{value:t,exclusive:!0,fullWidth:!0,onChange:n,sx:{},children:[x.jsx(YO,{value:"schema",title:"Схема проекта",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(Ow,{fontSize:"small"})}),x.jsx(YO,{value:"files",title:"Файлы",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(SH,{fontSize:"small"})})]})}),yHe=Sg(()=>{const e=_.useRef(null),{syncer:t,player:n,vfsFilter:r,vfsFilterVisible:o}=SM(),i=wa().activeLeftPanelActiveView.current==="files";return x.jsxs(MUe,{children:[x.jsx(KUe,{m:t}),x.jsx(kUe,{m:n}),x.jsx(vHe,{}),i&&x.jsxs(x.Fragment,{children:[x.jsx(fHe,{m:r,onClick:o.setTrue,buttonRef:e}),x.jsx(dHe,{m:r,open:o.isTrue,onClose:o.setFalse,anchorEl:e.current}),x.jsx(IUe,{})]}),x.jsx(mHe,{})]})}),bHe=Sg(()=>{const{leftPanelMinimized:e,activeLeftPanelActiveView:t}=wa(),{vfs:n,schema:r}=SM();return x.jsxs(uR,{reverse:!0,width:240,minimized:e.isTrue,button:x.jsx(gHe,{}),children:[x.jsx(pHe,{}),x.jsx(xa,{}),x.jsx(yHe,{}),x.jsx(xa,{}),x.jsx(oHe,{m:n,hidden:t.current!=="files"}),x.jsx(FUe,{m:r,hidden:t.current!=="schema"})]})});class wHe extends Nt{constructor(){super(...arguments),this.beforeMount=t=>{t.languages.register({id:"stratumDSL"}),t.languages.setMonarchTokensProvider("stratumDSL",{defaultToken:"invalid",ignoreCase:!0,keywords:["HANDLE","STRING","FLOAT","COLORREF","local","if","else","while","exit","init","endif"],operators:[":=","==","!=","<","<=",">",">=","&&","||","!","+","-","*","/","%"],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],tokenizer:{root:[[/\b(?:HANDLE|STRING|FLOAT|COLORREF|local|if|else|while|exit|init|endif)\b/,"keyword"],[/\b\d+\.?\d*\b/,"number"],[/".*?"/,"string"],[/\/\*/,"comment","@comment"],[/\/\/.*/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[:=<>!\+\-\*\/&|]+/,"operator"],[/\b[A-Za-z_][A-Za-z0-9_]*(?=\s*\()/,"type.identifier"],[/\b[A-Za-z_][A-Za-z0-9_]*\b/,"identifier"]],comment:[[/.*?\*\//,"comment","@pop"],[/./,"comment"]]}})},this.onMount=(t,n)=>{t.onDidChangeCursorPosition(this.onDidChangeCursorPosition)},this.onDidChangeCursorPosition=t=>{const n=t.position.lineNumber,r=t.position.column;this.m.setCursorPosition(n,r)},this.onChange=(t="",n)=>{this.m.setCurrentText(t)},this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,o=n[n.length-1].length+1;this.m.setCursorPosition(r,o)}}function SHe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function V4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(n),!0).forEach(function(r){SHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CHe(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function xHe(e,t){if(e==null)return{};var n=CHe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _He(e,t){return EHe(e)||THe(e,t)||MHe(e,t)||OHe()}function EHe(e){if(Array.isArray(e))return e}function THe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}}function MHe(e,t){if(e){if(typeof e=="string")return $4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $4(e,t)}}function $4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RHe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(r){RHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IHe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function $m(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(n,[].concat(o,a))}}}function xS(e){return{}.toString.call(e).includes("Object")}function PHe(e){return!Object.keys(e).length}function zm(e){return typeof e=="function"}function kHe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function DHe(e,t){return xS(t)||du("changeType"),Object.keys(t).some(function(n){return!kHe(e,n)})&&du("changeField"),t}function AHe(e){zm(e)||du("selectorType")}function LHe(e){zm(e)||xS(e)||du("handlerType"),xS(e)&&Object.values(e).some(function(t){return!zm(t)})&&du("handlersType")}function NHe(e){e||du("initialIsRequired"),xS(e)||du("initialType"),PHe(e)&&du("initialContent")}function BHe(e,t){throw new Error(e[t]||e.default)}var FHe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},du=$m(BHe)(FHe),_S={changes:DHe,selector:AHe,handler:LHe,initial:NHe};function jHe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_S.initial(e),_S.handler(t);var n={current:e},r=$m(zHe)(n,t),o=$m($He)(n),i=$m(_S.changes)(e),s=$m(VHe)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return _S.selector(u),u(n.current)}function c(u){IHe(r,o,i,s)(u)}return[a,c]}function VHe(e,t){return zm(t)?t(e.current):t}function $He(e,t){return e.current=U4(U4({},e.current),t),t}function zHe(e,t,n){return zm(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var UHe={create:jHe},HHe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function GHe(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(n,[].concat(o,a))}}}function WHe(e){return{}.toString.call(e).includes("Object")}function KHe(e){return e||G4("configIsRequired"),WHe(e)||G4("configType"),e.urls?(qHe(),{paths:{vs:e.urls.monacoBase}}):e}function qHe(){console.warn(H4.deprecation)}function YHe(e,t){throw new Error(e[t]||e.default)}var H4={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},G4=GHe(YHe)(H4),XHe={config:KHe},ZHe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,s){return s(i)},o)}};function W4(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],W4(e[n],t[n]))}),V4(V4({},e),t)}var JHe={type:"cancelation",msg:"operation is manually canceled"};function fI(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(JHe):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var QHe=UHe.create({config:HHe,isInitialized:!1,resolve:null,reject:null,monaco:null}),K4=_He(QHe,2),Um=K4[0],ES=K4[1];function eGe(e){var t=XHe.config(e),n=t.monaco,r=xHe(t,["monaco"]);ES(function(o){return{config:W4(o.config,r),monaco:n}})}function tGe(){var e=Um(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(ES({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),fI(pI);if(window.monaco&&window.monaco.editor)return q4(window.monaco),e.resolve(window.monaco),fI(pI);ZHe(nGe,oGe)(iGe)}return fI(pI)}function nGe(e){return document.body.appendChild(e)}function rGe(e){var t=document.createElement("script");return e&&(t.src=e),t}function oGe(e){var t=Um(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=rGe("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function iGe(){var e=Um(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){q4(n),e.resolve(n)},function(n){e.reject(n)})}function q4(e){Um().monaco||ES({monaco:e})}function sGe(){return Um(function(e){var t=e.monaco;return t})}var pI=new Promise(function(e,t){return ES({resolve:e,reject:t})}),Y4={config:eGe,init:tGe,__getMonacoInstance:sGe},aGe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},gI=aGe,lGe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},cGe=lGe;function uGe({children:e}){return bn.createElement("div",{style:cGe.container},e)}var dGe=uGe,hGe=dGe;function fGe({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:s}){return bn.createElement("section",{style:{...gI.wrapper,width:e,height:t},...s},!n&&bn.createElement(hGe,null,r),bn.createElement("div",{ref:o,style:{...gI.fullWidth,...!n&&gI.hide},className:i}))}var pGe=fGe,X4=_.memo(pGe);function gGe(e){_.useEffect(e,[])}var Z4=gGe;function mGe(e,t,n=!0){let r=_.useRef(!0);_.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var ds=mGe;function Hm(){}function Nf(e,t,n,r){return vGe(e,r)||yGe(e,t,n,r)}function vGe(e,t){return e.editor.getModel(J4(e,t))}function yGe(e,t,n,r){return e.editor.createModel(t,n,r?J4(e,r):void 0)}function J4(e,t){return e.Uri.parse(t)}function bGe({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:h="Loading...",options:f={},height:g="100%",width:m="100%",className:y,wrapperProps:b={},beforeMount:v=Hm,onMount:S=Hm}){let[E,T]=_.useState(!1),[R,M]=_.useState(!0),I=_.useRef(null),N=_.useRef(null),P=_.useRef(null),L=_.useRef(S),D=_.useRef(v),$=_.useRef(!1);Z4(()=>{let W=Y4.init();return W.then(V=>(N.current=V)&&M(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>I.current?q():W.cancel()}),ds(()=>{if(I.current&&N.current){let W=I.current.getOriginalEditor(),V=Nf(N.current,e||"",r||n||"text",i||"");V!==W.getModel()&&W.setModel(V)}},[i],E),ds(()=>{if(I.current&&N.current){let W=I.current.getModifiedEditor(),V=Nf(N.current,t||"",o||n||"text",s||"");V!==W.getModel()&&W.setModel(V)}},[s],E),ds(()=>{let W=I.current.getModifiedEditor();W.getOption(N.current.editor.EditorOption.readOnly)?W.setValue(t||""):t!==W.getValue()&&(W.executeEdits("",[{range:W.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),W.pushUndoStop())},[t],E),ds(()=>{I.current?.getModel()?.original.setValue(e||"")},[e],E),ds(()=>{let{original:W,modified:V}=I.current.getModel();N.current.editor.setModelLanguage(W,r||n||"text"),N.current.editor.setModelLanguage(V,o||n||"text")},[n,r,o],E),ds(()=>{N.current?.editor.setTheme(u)},[u],E),ds(()=>{I.current?.updateOptions(f)},[f],E);let B=_.useCallback(()=>{if(!N.current)return;D.current(N.current);let W=Nf(N.current,e||"",r||n||"text",i||""),V=Nf(N.current,t||"",o||n||"text",s||"");I.current?.setModel({original:W,modified:V})},[n,t,o,e,r,i,s]),U=_.useCallback(()=>{!$.current&&P.current&&(I.current=N.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...f}),B(),N.current?.editor.setTheme(u),T(!0),$.current=!0)},[f,u,B]);_.useEffect(()=>{E&&L.current(I.current,N.current)},[E]),_.useEffect(()=>{!R&&!E&&U()},[R,E,U]);function q(){let W=I.current?.getModel();a||W?.original?.dispose(),c||W?.modified?.dispose(),I.current?.dispose()}return bn.createElement(X4,{width:m,height:g,isEditorReady:E,loading:h,_ref:P,className:y,wrapperProps:b})}var wGe=bGe;_.memo(wGe);function SGe(e){let t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}var CGe=SGe,TS=new Map;function xGe({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:s="light",line:a,loading:c="Loading...",options:u={},overrideServices:h={},saveViewState:f=!0,keepCurrentModel:g=!1,width:m="100%",height:y="100%",className:b,wrapperProps:v={},beforeMount:S=Hm,onMount:E=Hm,onChange:T,onValidate:R=Hm}){let[M,I]=_.useState(!1),[N,P]=_.useState(!0),L=_.useRef(null),D=_.useRef(null),$=_.useRef(null),B=_.useRef(E),U=_.useRef(S),q=_.useRef(),W=_.useRef(r),V=CGe(i),Y=_.useRef(!1),J=_.useRef(!1);Z4(()=>{let K=Y4.init();return K.then(Z=>(L.current=Z)&&P(!1)).catch(Z=>Z?.type!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>D.current?z():K.cancel()}),ds(()=>{let K=Nf(L.current,e||r||"",t||o||"",i||n||"");K!==D.current?.getModel()&&(f&&TS.set(V,D.current?.saveViewState()),D.current?.setModel(K),f&&D.current?.restoreViewState(TS.get(i)))},[i],M),ds(()=>{D.current?.updateOptions(u)},[u],M),ds(()=>{!D.current||r===void 0||(D.current.getOption(L.current.editor.EditorOption.readOnly)?D.current.setValue(r):r!==D.current.getValue()&&(J.current=!0,D.current.executeEdits("",[{range:D.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),D.current.pushUndoStop(),J.current=!1))},[r],M),ds(()=>{let K=D.current?.getModel();K&&o&&L.current?.editor.setModelLanguage(K,o)},[o],M),ds(()=>{a!==void 0&&D.current?.revealLine(a)},[a],M),ds(()=>{L.current?.editor.setTheme(s)},[s],M);let ne=_.useCallback(()=>{if(!(!$.current||!L.current)&&!Y.current){U.current(L.current);let K=i||n,Z=Nf(L.current,r||e||"",t||o||"",K||"");D.current=L.current?.editor.create($.current,{model:Z,automaticLayout:!0,...u},h),f&&D.current.restoreViewState(TS.get(K)),L.current.editor.setTheme(s),a!==void 0&&D.current.revealLine(a),I(!0),Y.current=!0}},[e,t,n,r,o,i,u,h,f,s,a]);_.useEffect(()=>{M&&B.current(D.current,L.current)},[M]),_.useEffect(()=>{!N&&!M&&ne()},[N,M,ne]),W.current=r,_.useEffect(()=>{M&&T&&(q.current?.dispose(),q.current=D.current?.onDidChangeModelContent(K=>{J.current||T(D.current.getValue(),K)}))},[M,T]),_.useEffect(()=>{if(M){let K=L.current.editor.onDidChangeMarkers(Z=>{let le=D.current.getModel()?.uri;if(le&&Z.find(ce=>ce.path===le.path)){let ce=L.current.editor.getModelMarkers({resource:le});R?.(ce)}});return()=>{K?.dispose()}}return()=>{}},[M,R]);function z(){q.current?.dispose(),g?f&&TS.set(i,D.current.saveViewState()):D.current.getModel()?.dispose(),D.current.dispose()}return bn.createElement(X4,{width:m,height:y,isEditorReady:M,loading:c,_ref:$,className:b,wrapperProps:v})}var _Ge=xGe,EGe=_.memo(_Ge),TGe=EGe;const MGe=Dt(wHe)(({vm:e})=>x.jsx(TGe,{defaultLanguage:"stratumDSL",defaultValue:e.defaultValue,onChange:e.onChange,beforeMount:e.beforeMount,onMount:e.onMount,options:{readOnly:e.readOnly,readOnlyMessage:{value:"Имидж доступен только для чтения"}}})),OGe=we("div",{name:"EPlayerDialogContent",slot:"windowContainer"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden",display:"flex",[`& .${Z$.root}`]:{flexGrow:1}});class RGe extends Nt{constructor(){super(),this.onCloseButtonClick=()=>{this.m.player?.close()},this.onPlayButtonClick=()=>{this.m.player?.continue()},this.onPauseButtonClick=()=>{this.m.player?.pause()},this.onStepButtonClick=()=>{this.m.player?.pause(),this.m.player?.step()},this.onMinimizeButtonClick=()=>{this.m.player?.minimize()}}get dialogOpen(){const{player:t}=this.m;return!!t&&!t.isMinimized}get iterationCount(){return this.m.player?.iterationCount||0}get iterationPerSecond(){return 60}get isPaused(){return this.m.player?.status==="paused"}}class IGe extends Nt{get image(){return this.m.imageData}get icon(){return this.m.icon}get canExpand(){return this.m.children.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children}}class PGe extends Nt{constructor(){super(),this.selectedItem=null,this.onExpandedItemsChange=(t,n)=>{if(t?.type==="keydown"&&t.key==="Enter"){const{expandedItems:r}=this;let o;n.length>r.length?o=n.find(i=>!r.includes(i)):o=r.find(i=>!n.includes(i)),o&&this.onSelectedItemChange(t,o);return}this.expandedItems=n},this.onSelectedItemChange=(t,n)=>{if(this.selectedItem=n,!n)return;this.getItemById(n)?.makeActive()},this.expandedItems=[this.m.itemId],vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:be,onSelectedItemChange:be})}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const o of r.children){const i=n(o);if(i)return i}return null})(this.m)}}function kGe(e,t){if(!e)return null;if(t===bt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==bt.STRING&&(e=e.trim()),e||null}const DGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class AGe extends Nt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,o=kGe(t.value,t.type);if(o===n.value)return n;const i=r.vars.find(s=>s.id===t.id);return i?.setValue(o||"")?{...t,value:i.value}:n},vt(this,{processRowUpdate:be})}get columns(){return DGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}function LGe(e,t){if(!e)return null;if(t===bt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==bt.STRING&&(e=e.trim()),e||null}const NGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class BGe extends Nt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,o=LGe(t.value,t.type);if(o===n.value)return n;const i=r.vars.find(s=>s.id===t.id);return i?.setValue(o||"")?{...t,value:i.value}:n},vt(this,{processRowUpdate:be})}get columns(){return NGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}const FGe=Dt(PGe)(({vm:e,m:t})=>x.jsx(k4,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:I4,collapseIcon:P4},onContextMenu:Eb,children:x.jsx(Q4,{m:t})})),Q4=Dt(IGe)(({vm:e})=>{const{image:t}=e;return x.jsx(tu,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(CS,{sceneData:t}):x.jsx(hI,{icon:e.icon}),e.label]}),slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(jGe,{})})}),jGe=ko()(({vm:e})=>e.children.map(t=>x.jsx(Q4,{m:t},t.itemId)));function Gm(e){const t=Oke(),n=_.useCallback((o,i)=>{if(o.isEditable&&!(i.target.nodeType===1&&!i.currentTarget.contains(i.target)))try{t.current?.startCellEditMode({id:o.id,field:o.field})}catch{}},[]),r=_.useCallback((o,i)=>{o.reason===Xs.enterKeyDown&&(i.defaultMuiPrevented=!0,t.current?.stopCellEditMode({id:o.id,field:o.field}))},[]);return x.jsx(g3e,{...e,apiRef:t,onCellClick:n,onProcessRowUpdateError:console.error,onCellEditStop:r})}const VGe=Dt(AGe)(({vm:e})=>x.jsx(Gm,{sx:{flexGrow:6},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),$Ge=Dt(BGe)(({vm:e})=>x.jsx(Gm,{sx:{flexGrow:1},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),zGe=_.forwardRef(function(t,n){return x.jsx(yEe,{direction:"up",ref:n,...t})}),UGe=Dt(RGe)(({m:e,vm:t})=>{const{player:n}=e,r=n?.rootSchema,o=n?.activeSchema;return x.jsxs(IO,{open:t.dialogOpen,TransitionComponent:zGe,keepMounted:!0,fullScreen:!0,children:[x.jsx(e0e,{position:"sticky",children:x.jsxs(oH,{children:[x.jsx(wn,{edge:"start",color:"inherit",onClick:t.onCloseButtonClick,children:x.jsx(Mw,{})}),t.isPaused?x.jsx(wn,{edge:"start",color:"inherit",onClick:t.onPlayButtonClick,children:x.jsx(COe,{})}):x.jsx(wn,{edge:"start",color:"inherit",onClick:t.onPauseButtonClick,children:x.jsx(SOe,{})}),x.jsx(wn,{edge:"start",color:"inherit",onClick:t.onStepButtonClick,children:x.jsx(DOe,{})}),x.jsx($i,{color:"inherit",onClick:t.onMinimizeButtonClick,children:"Свернуть"}),x.jsxs(mo,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Шагов: ",t.iterationCount," (",t.iterationPerSecond," в секунду)"]})]})}),x.jsxs(lR,{children:[r&&x.jsx(FGe,{m:r},r.itemId),x.jsx(OGe,{ref:e.mountRef}),x.jsxs(uR,{width:300,children:[n&&x.jsxs(x.Fragment,{children:["Отслеживаемые переменные:",x.jsx($Ge,{m:n.markedVars})]}),o&&x.jsxs(x.Fragment,{children:["Переменные схемы ",o.toString(),x.jsx(VGe,{m:o},o.itemId)]})]})]})]})}),HGe=Dt(w3e)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(dUe,{label:"Имя имиджа",options:e.klassNameOptions,value:e.klassName,onChange:e.setKlassName,required:!0}),e.showOpenSchemaButton&&x.jsx(wn,{onClick:e.onOpenSchemaButtonClick,children:x.jsx(wOe,{color:"info"})})]}),x.jsx(yo,{label:"Имя окна",value:e.windowName,onChange:e.setWindowName})]})),GGe=Dt(S3e)(({vm:e})=>x.jsx(yo,{label:"Путь к проекту",value:e.projectPath,onChange:e.setProjectPath,required:!0})),WGe=Dt(C3e)(({vm:e})=>x.jsx(Vm,{label:"Действие",options:e.options,value:e.actionType,onChange:e.setActionType})),KGe=Dt(x3e)(({vm:e})=>x.jsx(yo,{label:"Команда",value:e.commandName,onChange:e.setCommandName,required:!0}));function qGe({mode:e}){switch(e){case Uv:return x.jsx(HGe,{});case AC:return x.jsx(GGe,{});case Hv:return x.jsx(WGe,{});case DC:return x.jsx(KGe,{})}return null}const YGe=Dt(_3e)(({vm:e})=>{const{mode:t}=e,n=t>=0;return x.jsxs(x.Fragment,{children:[x.jsx(Vm,{label:"При нажатии на объект",options:e.modeOptions,value:e.mode,onChange:e.setMode}),n&&x.jsxs(x.Fragment,{children:[x.jsx(qGe,{mode:t}),x.jsx(yo,{label:"Доп. параметры",value:e.params,onChange:e.setParams}),x.jsx(yo,{label:"Получатель WM_HYPERJUMP",value:e.receiver,onChange:e.setReceiver}),x.jsx(us,{label:"Активировать только через StdHyperJump",checked:e.disabled,onChange:e.setDisabled})]})]})}),XGe=["Выбран","Выбрано","Выбрано"],ZGe=["объект","объекта","объектов"];function JGe({count:e}){return x.jsxs(mo,{children:[wk(e,XGe),x.jsx(pf,{color:"green",ml:"4px",mr:"4px",children:e}),wk(e,ZGe)]})}function QGe(){const{rightPanelMinimized:e}=wa();return x.jsx(Mn,{title:"Скрыть панель настроек (Ctrl+P)",children:x.jsx(wn,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx(vH,{})})})}const e2e=Dt(rUe)(({vm:e})=>x.jsx(Mn,{title:"Открыть свойства (Space,Enter)",disableInteractive:!0,children:x.jsx($Ie,{onClick:e.onClick,children:x.jsx(VIe,{component:"span",color:"green",children:e.title})})})),t2e=Dt(oUe)(({vm:e})=>{const{hasScene:t}=e;return x.jsx(Mn,{title:`${t?"Открыть":"Создать"} схему (S)`,children:x.jsx(wn,{onClick:e.onClick,children:x.jsx(fG,{visible:!t,children:x.jsx(Ow,{})})})})}),n2e=Dt(iUe)(({vm:e})=>x.jsx(Mn,{title:"Открыть код (D)",children:x.jsx(wn,{onClick:e.onClick,children:x.jsx(fG,{visible:!e.hasCode,children:x.jsx(bH,{})})})})),r2e=Dt(sUe)(({vm:e})=>x.jsx(Mn,{title:"Удалить (Delete)",children:x.jsx(wn,{onClick:e.onClick,sx:{ml:"auto"},children:x.jsx(YMe,{})})})),mI=ko()(({vm:e})=>{const{m:t,kind:n,selectionLength:r,klassCodeButtonModel:o,klassPropsButtonModel:i,klassSchemaButtonModel:s}=e;return x.jsxs(zIe,{children:[i&&x.jsx(e2e,{m:i}),r&&x.jsx(JGe,{count:r}),n&&x.jsx(pf,{children:n}),t&&t.type!=="_pseudoGroup"&&x.jsxs(pf,{whiteSpace:"pre",ml:1,children:["#",t.key]}),x.jsxs(ti,{children:[s&&x.jsx(t2e,{m:s}),o&&x.jsx(n2e,{m:o}),t&&x.jsx(r2e,{m:t})]}),x.jsx(QGe,{})]})}),o2e=Dt(aUe)(({vm:e})=>x.jsxs(ti,{children:["Z-порядок:",x.jsxs(ti,{display:"flex",justifyContent:"center",children:[x.jsx(Mn,{title:"Вниз (Shift + ↓)",children:x.jsx(wn,{onClick:e.onMoveToBottomButtonClick,size:"small",children:x.jsx(fOe,{})})}),x.jsx(Mn,{title:"Ниже (Shift + ←)",children:x.jsx(wn,{onClick:e.onDecreaseZButtonClick,size:"small",children:x.jsx(dOe,{})})}),x.jsx(UIe,{value:e.value,size:"small",slotProps:{htmlInput:{tabIndex:-1}}}),x.jsx(Mn,{title:"Выше (Shift + →)",children:x.jsx(wn,{onClick:e.onIncreaseZButtonClick,size:"small",children:x.jsx(hOe,{})})}),x.jsx(Mn,{title:"Наверх (Shift + ↑)",children:x.jsx(wn,{onClick:e.onMoveToTopButtonClick,size:"small",children:x.jsx(pOe,{})})})]})]})),i2e=Dt(ZIe)(({vm:e})=>x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"X",type:"number",value:e.x,onChange:e.setX}),x.jsx(yo,{label:"Y",type:"number",value:e.y,onChange:e.setY})]})),s2e=Dt(JIe)(({vm:e})=>x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"Ширина",type:"number",value:e.w,onChange:e.setW}),x.jsx(yo,{label:"Высота",type:"number",value:e.h,onChange:e.setH})]})),a2e=Dt(ePe)(({vm:e})=>x.jsx(yo,{label:"Повернуть на",type:"number",onChange:e.setValue,value:"0"})),l2e=Dt(QIe)(({vm:e})=>x.jsx(yo,{label:"Угол поворота",type:"number",value:e.value,onChange:e.setValue})),c2e=Dt(tPe)(({vm:e})=>x.jsx(yo,{label:"Имя на сцене",value:e.value,onChange:e.setValue})),u2e=Dt(nPe)(({vm:e})=>x.jsx(us,{label:"Невыбираемый объект (N)",checked:e.value,onChange:e.setValue})),d2e=Dt(rPe)(({vm:e})=>x.jsx(Vm,{label:"Слой",options:e.options,value:e.value,onChange:e.setValue})),eW=ko()(({vm:e,children:t})=>{const{m:n}=e;if(!n)return t;const r=n.type!=="_pseudoGroup";return x.jsxs(x.Fragment,{children:[n.canMove&&x.jsx(i2e,{m:n}),r&&x.jsxs(x.Fragment,{children:[n.canResize&&x.jsx(s2e,{m:n}),n.canSetName&&x.jsx(c2e,{m:n}),n.canRotate&&(n.hasAngle?x.jsx(l2e,{m:n}):x.jsx(a2e,{m:n})),n.type!=="group"&&x.jsx(o2e,{m:n}),x.jsx(u2e,{m:n}),x.jsx(d2e,{m:n})]}),t,r&&n.canSetHyper&&x.jsx(YGe,{m:n})]})}),Zd=ko()(({children:e})=>x.jsxs(x.Fragment,{children:[x.jsx(mI,{}),x.jsx(xa,{}),x.jsx(fR,{children:x.jsx(eW,{children:e})})]})),vI=Dt(tUe)(({vm:e})=>x.jsx(Gm,{sx:{"& .mark-button-cell":{padding:0,paddingLeft:0,paddingRight:"20px",[`& .${gw.root}`]:{padding:0}}},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),h2e=Dt(y3e)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsxs(Zd,{children:[e.showUngroupButton&&x.jsx($i,{onClick:e.onUngroupButtonClick,fullWidth:!0,variant:"contained",color:"error",children:"Разгруппировать (U)"}),t&&x.jsx(vI,{m:t})]})});var f2e=Object.defineProperty,p2e=(e,t,n)=>t in e?f2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jr=(e,t,n)=>p2e(e,typeof t!="symbol"?t+"":t,n);const MS={x:0,y:0,width:0,height:0,unit:"px"},Bf=(e,t,n)=>Math.min(Math.max(e,t),n),g2e=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),tW=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Ff(e,t,n){return e.unit==="%"?{...MS,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function hu(e,t,n){return e.unit?e.unit==="px"?{...MS,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...MS,...e,unit:"px"}}function nW(e,t,n,r,o,i=0,s=0,a=r,c=o){const u={...e};let h=Math.min(i,r),f=Math.min(s,o),g=Math.min(a,r),m=Math.min(c,o);t&&(t>1?(h=s?s*t:h,f=h/t,g=a*t):(f=i?i/t:f,h=f*t,m=c/t)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,h),u.x=0);const y=r-(u.x+u.width);y<0&&(u.x=Math.min(u.x,r-h),u.width+=y);const b=o-(u.y+u.height);if(b<0&&(u.y=Math.min(u.y,o-f),u.height+=b),u.width<h&&((n==="sw"||n=="nw")&&(u.x-=h-u.width),u.width=h),u.height<f&&((n==="nw"||n=="ne")&&(u.y-=f-u.height),u.height=f),u.width>g&&((n==="sw"||n=="nw")&&(u.x-=g-u.width),u.width=g),u.height>m&&((n==="nw"||n=="ne")&&(u.y-=m-u.height),u.height=m),t){const v=u.width/u.height;if(v<t){const S=Math.max(u.width/t,f);(n==="nw"||n=="ne")&&(u.y-=S-u.height),u.height=S}else if(v>t){const S=Math.max(u.height*t,h);(n==="sw"||n=="nw")&&(u.x-=S-u.width),u.width=S}}return u}function m2e(e,t,n,r){const o={...e};return t==="ArrowLeft"?r==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):r==="w"?(o.x-=n,o.width+=n):r==="sw"?(o.x-=n,o.width+=n,o.height+=n):r==="ne"?(o.y+=n,o.width-=n,o.height-=n):r==="e"?o.width-=n:r==="se"&&(o.width-=n,o.height-=n):t==="ArrowRight"&&(r==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):r==="w"?(o.x+=n,o.width-=n):r==="sw"?(o.x+=n,o.width-=n,o.height-=n):r==="ne"?(o.y-=n,o.width+=n,o.height+=n):r==="e"?o.width+=n:r==="se"&&(o.width+=n,o.height+=n)),t==="ArrowUp"?r==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):r==="n"?(o.y-=n,o.height+=n):r==="ne"?(o.y-=n,o.width+=n,o.height+=n):r==="sw"?(o.x+=n,o.width-=n,o.height-=n):r==="s"?o.height-=n:r==="se"&&(o.width-=n,o.height-=n):t==="ArrowDown"&&(r==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):r==="n"?(o.y+=n,o.height-=n):r==="ne"?(o.y+=n,o.width-=n,o.height-=n):r==="sw"?(o.x-=n,o.width+=n,o.height+=n):r==="s"?o.height+=n:r==="se"&&(o.width+=n,o.height+=n)),o}const jf={capture:!0,passive:!1};let v2e=0;const fu=class $a extends _.PureComponent{constructor(){super(...arguments),Jr(this,"docMoveBound",!1),Jr(this,"mouseDownOnCrop",!1),Jr(this,"dragStarted",!1),Jr(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Jr(this,"componentRef",_.createRef()),Jr(this,"mediaRef",_.createRef()),Jr(this,"resizeObserver"),Jr(this,"initChangeCalled",!1),Jr(this,"instanceId",`rc-${v2e++}`),Jr(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Jr(this,"onCropPointerDown",t=>{const{crop:n,disabled:r}=this.props,o=this.getBox();if(!n)return;const i=hu(n,o.width,o.height);if(r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=t.target.dataset.ord,a=!!s;let c=t.clientX,u=t.clientY,h=i.x,f=i.y;if(s){const g=t.clientX-o.x,m=t.clientY-o.y;let y=0,b=0;s==="ne"||s=="e"?(y=g-(i.x+i.width),b=m-i.y,h=i.x,f=i.y+i.height):s==="se"||s==="s"?(y=g-(i.x+i.width),b=m-(i.y+i.height),h=i.x,f=i.y):s==="sw"||s=="w"?(y=g-i.x,b=m-(i.y+i.height),h=i.x+i.width,f=i.y):(s==="nw"||s=="n")&&(y=g-i.x,b=m-i.y,h=i.x+i.width,f=i.y+i.height),c=h+o.x+y,u=f+o.y+b}this.evData={startClientX:c,startClientY:u,startCropX:h,startCropY:f,clientX:t.clientX,clientY:t.clientY,isResize:a,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Jr(this,"onComponentPointerDown",t=>{const{crop:n,disabled:r,locked:o,keepSelection:i,onChange:s}=this.props,a=this.getBox();if(r||o||i&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-a.x,u=t.clientY-a.y,h={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:u,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(hu(h,a.width,a.height),Ff(h,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Jr(this,"onDocPointerMove",t=>{const{crop:n,disabled:r,onChange:o,onDragStart:i}=this.props,s=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:a}=this;a.clientX=t.clientX,a.clientY=t.clientY;let c;a.isResize?c=this.resizeCrop():c=this.dragCrop(),tW(n,c)||o(hu(c,s.width,s.height),Ff(c,s.width,s.height))}),Jr(this,"onComponentKeyDown",t=>{const{crop:n,disabled:r,onChange:o,onComplete:i}=this.props;if(r)return;const s=t.key;let a=!1;if(!n)return;const c=this.getBox(),u=this.makePixelCrop(c),h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?$a.nudgeStepLarge:t.shiftKey?$a.nudgeStepMedium:$a.nudgeStep;if(s==="ArrowLeft"?(u.x-=h,a=!0):s==="ArrowRight"?(u.x+=h,a=!0):s==="ArrowUp"?(u.y-=h,a=!0):s==="ArrowDown"&&(u.y+=h,a=!0),a){t.cancelable&&t.preventDefault(),u.x=Bf(u.x,0,c.width-u.width),u.y=Bf(u.y,0,c.height-u.height);const f=hu(u,c.width,c.height),g=Ff(u,c.width,c.height);o(f,g),i&&i(f,g)}}),Jr(this,"onHandlerKeyDown",(t,n)=>{const{aspect:r=0,crop:o,disabled:i,minWidth:s=0,minHeight:a=0,maxWidth:c,maxHeight:u,onChange:h,onComplete:f}=this.props,g=this.getBox();if(i||!o)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?$a.nudgeStepLarge:t.shiftKey?$a.nudgeStepMedium:$a.nudgeStep,y=hu(o,g.width,g.height),b=m2e(y,t.key,m,n),v=nW(b,r,n,g.width,g.height,s,a,c,u);if(!tW(o,v)){const S=Ff(v,g.width,g.height);h(v,S),f&&f(v,S)}}),Jr(this,"onDocPointerDone",t=>{const{crop:n,disabled:r,onComplete:o,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),o&&o(hu(n,s.width,s.height),Ff(n,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Jr(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:o,height:i}=t.getBoundingClientRect();return{x:n,y:r,width:o,height:i}}componentDidUpdate(t){const{crop:n,onComplete:r}=this.props;if(r&&!t.crop&&n){const{width:o,height:i}=this.getBox();o&&i&&r(hu(n,o,i),Ff(n,o,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,jf),this.document.addEventListener("pointerup",this.onDocPointerDone,jf),this.document.addEventListener("pointercancel",this.onDocPointerDone,jf),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,jf),this.document.removeEventListener("pointerup",this.onDocPointerDone,jf),this.document.removeEventListener("pointercancel",this.onDocPointerDone,jf),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),r=this.makePixelCrop(n),o=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return r.x=Bf(t.startCropX+o,0,n.width-r.width),r.y=Bf(t.startCropY+i,0,n.height-r.height),r}getPointRegion(t,n,r,o){const{evData:i}=this,s=i.clientX-t.x,a=i.clientY-t.y;let c;o&&n?c=n==="nw"||n==="n"||n==="ne":c=a<i.startCropY;let u;return r&&n?u=n==="nw"||n==="w"||n==="sw":u=s<i.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,n,r=0,o=0){const i=Math.min(r,t.width),s=Math.min(o,t.height);return!n||!i&&!s?[i,s]:n>1?i?[i,i/n]:[s*n,s]:s?[s*n,s]:[i,i/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:o}=this.props,i=this.getBox(),[s,a]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const u=this.getPointRegion(i,t.ord,s,a),h=t.ord||u;let f=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(s&&h==="nw"||h==="w"||h==="sw")&&(f=Math.min(f,-s)),(a&&h==="nw"||h==="n"||h==="ne")&&(g=Math.min(g,-a));const m={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(m.x=t.startCropX,m.width=f,n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY-m.height)):u==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=f,n?m.height=m.width/n:m.height=g):u==="sw"?(m.x=t.startCropX+f,m.y=t.startCropY,m.width=Math.abs(f),n?m.height=m.width/n:m.height=g):u==="nw"&&(m.x=t.startCropX+f,m.width=Math.abs(f),n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY+g));const y=nW(m,n,u,i.width,i.height,s,a,r,o);return n||$a.xyOrds.indexOf(h)>-1?c=y:$a.xOrds.indexOf(h)>-1?(c.x=y.x,c.width=y.width):$a.yOrds.indexOf(h)>-1&&(c.y=y.y,c.height=y.height),c.x=Bf(c.x,0,i.width-c.width),c.y=Bf(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:t=$a.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:o,ruleOfThirds:i,crop:s}=this.props,a=this.getCropStyle();if(s)return bn.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&bn.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},bn.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),bn.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),bn.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),bn.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),bn.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),o&&bn.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},o(this.state)),i&&bn.createElement(bn.Fragment,null,bn.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),bn.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...MS,...this.props.crop||{}};return hu(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:r,className:o,crop:i,disabled:s,locked:a,style:c,ruleOfThirds:u}=this.props,{cropIsActive:h,newCropIsBeingDrawn:f}=this.state,g=i?this.renderCropSelection():null,m=g2e("ReactCrop",o,h&&"ReactCrop--active",s&&"ReactCrop--disabled",a&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&r&&"ReactCrop--circular-crop",i&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return bn.createElement("div",{ref:this.componentRef,className:m,style:c},bn.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?bn.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},bn.createElement("defs",null,bn.createElement("mask",{id:`hole-${this.instanceId}`},bn.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?bn.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):bn.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),bn.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};Jr(fu,"xOrds",["e","w"]),Jr(fu,"yOrds",["n","s"]),Jr(fu,"xyOrds",["nw","ne","se","sw"]),Jr(fu,"nudgeStep",1),Jr(fu,"nudgeStepMedium",10),Jr(fu,"nudgeStepLarge",100),Jr(fu,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let rW=fu;const y2e=Dt(T3e)(({vm:e})=>x.jsxs(ti,{display:"flex",flexDirection:"column",children:[x.jsx(pf,{noWrap:!0,children:e.imageInfo}),x.jsx(ti,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(rW,{crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,className:"ReactCrop--no-animate",style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),b2e=Dt(M3e)(({vm:e})=>{const{isPad:t,schemaValuesModel:n}=e;return x.jsxs(Zd,{children:[!t&&x.jsx(y2e,{}),n&&x.jsx(vI,{m:n})]})}),w2e=Dt(O3e)(({vm:e})=>x.jsx(Zd,{children:x.jsx(yo,{label:"Текст",value:e.value,onChange:e.setValue})})),S2e=Dt(k3e)(({vm:e})=>x.jsxs(ti,{display:"flex",flexDirection:"column",children:[x.jsx(pf,{noWrap:!0,children:e.iconAtlas.toUpperCase()}),x.jsx(ti,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(rW,{disabled:e.disabled,locked:!0,className:"ReactCrop--no-animate",crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),C2e=Dt(P3e)(({vm:e})=>{const t=e.isPropsChangeDisabled;return x.jsxs(Zd,{children:[x.jsxs(mo,{children:["Создан: ",e.date]}),x.jsx(yo,{label:"Имя",value:e.klassName,onChange:e.setKlassName,required:!0,disabled:t}),x.jsx(us,{label:"Всегда использовать иконку",checked:e.forceUseIcon,onChange:e.setForceUseIcon,disabled:t}),x.jsx(us,{label:"Можно менять размер",checked:e.canChangeSize,onChange:e.setCanChangeSize,disabled:t}),x.jsx(S2e,{m:e.klass})]})}),x2e=ko()(({vm:e})=>{const t=!e.canAddRow;let n=x.jsx(wn,{color:"primary",onClick:e.addRow,disabled:t,children:x.jsx(XO,{})});return t?n=x.jsx(Mn,{title:"Нет переменных общего типа",children:x.jsx("span",{children:n})}):n=x.jsx(Mn,{title:"Добавить связку переменных (A)",children:n}),x.jsxs(RBe,{sx:{flexWrap:"nowrap"},children:[n,x.jsx(us,{checked:e.enabled,onChange:e.setEnabled,title:"Связь активна?"}),e.props.toolbar]})}),_2e=Dt(v3e)(({vm:e})=>x.jsx(Gm,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,isCellEditable:e.isCellEditable,localeText:{noRowsLabel:"Нет соединенных переменных"},slotProps:{noRowsOverlay:void 0},slots:{noRowsOverlay:fIe,toolbar:x2e},disableColumnMenu:!0,disableColumnSorting:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),E2e=Dt(X3e)(({vm:e})=>x.jsx(Gm,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),oW=Dt(H3e)(({vm:e})=>x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"Угол",type:"number",value:e.angle,onChange:e.setAngle}),x.jsx(yo,{label:"Длина",type:"number",value:e.length,onChange:e.setLength}),x.jsx(Mn,{title:"Заливка",children:x.jsx(us,{checked:e.fill,onChange:e.setFill,icon:x.jsx(CH,{}),checkedIcon:x.jsx(CH,{})})}),x.jsx(Mn,{title:"Удалить стрелку",children:x.jsx(wn,{onClick:e.onRemoveButtonClick,sx:{flexGrow:0},children:x.jsx(Mw,{})})})]})),iW=Dt(G3e)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsx(yo,{label:"Цвет",value:e.getColor,onChange:e.setColor,type:"color",immediate:!0}),x.jsx(yo,{label:"Толщина",value:e.width,onChange:e.setWidth,type:"number"})]})),T2e=Dt(W3e)(({vm:e})=>{const{image:t}=e;return x.jsxs(KIe,{onClick:e.onClick,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop,dashed:e.dashed,children:[x.jsx(qIe,{ref:e.inputRef,onChange:e.onChange,type:"file",accept:"image/*",tabIndex:-1}),t?x.jsx(YIe,{src:Xi(t.src)}):x.jsx(XIe,{})]})}),M2e=Dt(K3e)(({vm:e})=>{const{isPattern:t}=e;return t?x.jsx(T2e,{m:e.m}):x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(yo,{label:"Цвет",type:"color",value:e.getColor,onChange:e.setColor,immediate:!0}),x.jsx(us,{label:"Смешивание",checked:e.mix,onChange:e.setMix})]})}),O2e=Dt(q3e)(({vm:e})=>{const{mode:t,schemaConnection:n,canAddPen:r,pen:o,canAddBrush:i,brush:s}=e,a=!n&&o,c=x.jsxs(hH,{value:t,onChange:e.onPointsModeChange,children:[x.jsx(KO,{value:"props",label:"Свойства"}),x.jsx(KO,{value:"points",label:"Точки"})]});return t==="points"?x.jsxs(x.Fragment,{children:[x.jsx(mI,{}),x.jsx(xa,{}),x.jsxs(fR,{children:[c,x.jsx(E2e,{m:e.m})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(mI,{}),x.jsx(xa,{}),x.jsxs(fR,{children:[c,x.jsxs(eW,{children:[r&&x.jsx(Vm,{label:"Обводка",options:e.penVariantOptions,value:e.penVariant,onChange:e.setPenVariant}),a&&x.jsxs(ti,{display:"flex",gap:"2%",children:[x.jsx(iW,{m:o}),!e.hasStartArrow&&x.jsx(Mn,{title:"Добавить стрелку в начале",children:x.jsx(wn,{onClick:e.onAddStartArrowButtonClick,children:x.jsx(Yg,{badgeContent:"+",children:x.jsx(FOe,{})})})}),!e.hasEndArrow&&x.jsx(Mn,{title:"Добавить стрелку в конце",children:x.jsx(wn,{onClick:e.onAddEndArrowButtonClick,children:x.jsx(Yg,{badgeContent:"+",children:x.jsx(JMe,{})})})})]}),a&&e.hasStartArrow&&x.jsx(oW,{m:e.m,arrow:"start"}),a&&e.hasEndArrow&&x.jsx(oW,{m:e.m,arrow:"end"}),i&&x.jsx(Vm,{label:"Заливка",options:e.brushVariantOptions,value:e.brushVariant,onChange:e.setBrushVariant}),s&&x.jsx(M2e,{m:s}),n&&x.jsx(_2e,{m:n,sceneConnection:e.sceneConnection,toolbar:o&&x.jsx(iW,{m:o})})]})]})]})}),R2e=Dt(Z3e)(({vm:e})=>x.jsxs(Zd,{children:[e.showCreateGroupButton&&x.jsx($i,{onClick:e.onCreateGroupButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать группу (G)"}),e.showCreateConnectionButton&&x.jsx($i,{onClick:e.onCreateConnectionButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать связь (C)"})]})),I2e=Dt(J3e)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsx(Zd,{children:t&&x.jsx(vI,{m:t})})}),P2e=Dt(nUe)(({vm:e})=>x.jsx(Zd,{children:x.jsx($i,{onClick:e.onOpenTextEditorButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Открыть редактор текста (E)"})})),k2e=ko()(({vm:e})=>{const{selectedObject:t,m:n}=e;if(!t)switch(n.type){case"schemaEditor":return x.jsx(I2e,{m:null});case"klassPropsEditor":return x.jsx(C2e,{m:null});case"fileSceneEditor":return null}if(t.type==="_pseudoGroup")return x.jsx(R2e,{m:t});const{key:r}=t;switch(t.type){case"line":return x.jsx(O2e,{m:t},r);case"imageView":return x.jsx(b2e,{m:t},r);case"textView":return x.jsx(P2e,{m:t},r);case"input":return x.jsx(w2e,{m:t},r);case"group":return x.jsx(h2e,{m:t},r);case"videoView":return null}});function D2e(){const{rightPanelMinimized:e}=wa();return x.jsx(Mn,{title:"Показать панель настроек (Ctrl+P)",followCursor:!0,placement:"left",children:x.jsx(sG,{onClick:e.setFalse,size:"small",children:x.jsx(mH,{})})})}const A2e=Sg(()=>{const{rightPanelMinimized:e}=wa();return x.jsx(uR,{width:300,minimized:e.isTrue,button:x.jsx(D2e,{}),children:x.jsx(k2e,{})})}),L2e=[{value:"BOLD",title:"Жирный (Ctrl+B)",children:x.jsx(nOe,{})},{value:"ITALIC",title:"Курсив (Ctrl+I)",children:x.jsx(rOe,{})},{value:"UNDERLINE",title:"Подчеркнутый (Ctrl+U)",children:x.jsx(sOe,{})},{value:"STRIKETHROUGH",title:"Зачеркнутый (Ctrl+S)",children:x.jsx(iOe,{})}].map(e=>x.jsx(YO,{...e},e.value)),N2e=ko()(({vm:e})=>x.jsxs(TTe,{direction:"row",gap:1,alignItems:"center",padding:"4px",divider:x.jsx(jw,{}),children:[x.jsx(gH,{onPointerDown:Eb,value:e.fontStyles,onChange:e.onFontStylesChange,children:L2e}),x.jsx(yo,{type:"number",label:"Размер",value:e.fontSizeValue,onChange:e.onFontSizeChange}),x.jsx(yo,{type:"color",label:"Цвет",value:e.colorValue,onChange:e.onColorChange}),x.jsx(bw,{fullWidth:!0,children:x.jsx(hl,{select:!0,size:"small",label:"Шрифт",value:e.fontValue,onChange:e.onFontChange,children:e.availableFonts.map(t=>x.jsx(zi,{value:t,children:t},t))})})]})),B2e=ko()(({vm:e})=>x.jsx(Ls.Editor,{ref:e.ref,editorState:e.editorState,onChange:e.onEditorChange,handleKeyCommand:e.handleKeyCommand,customStyleFn:e.customStyleFn,keyBindingFn:e.keyBindingFn,preserveSelectionOnBlur:!0,spellCheck:!0},e.randomKey)),F2e=Dt(lUe)(({vm:e})=>{const t=hz();return x.jsxs(IO,{ref:t,open:e.dialogOpen,fullWidth:!0,maxWidth:"xl",children:[x.jsx(dEe,{children:"Редактирование текста"}),x.jsx(xa,{}),x.jsx(N2e,{}),x.jsx(xa,{}),x.jsx(GIe,{children:x.jsx(B2e,{})}),x.jsx(xa,{}),x.jsxs(kU,{children:[x.jsx($i,{variant:"contained",onClick:e.onApplyButtonClick,children:"Применить"}),x.jsx($i,{variant:"outlined",onClick:e.onCancelButtonClick,children:"Отменить"})]})]})}),j2e=Dt(cUe)(({vm:e})=>{const{textEditor:t}=e;return x.jsxs(x.Fragment,{children:[t&&x.jsx(F2e,{m:t}),x.jsxs(lR,{children:[x.jsx(HIe,{ref:e.viewMountRef}),x.jsx(jw,{}),x.jsx(A2e,{})]})]})});function V2e(){const e=_.useRef(null);return _.useEffect(()=>{const t=e.current;if(!t)return;const n=requestAnimationFrame(()=>t.focus());return()=>{cancelAnimationFrame(n)}},[e.current]),e}class $2e extends Nt{constructor(){super(...arguments),this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t),this.onChange=t=>this.m.setCurrentText(t.currentTarget.value)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,o=n[n.length-1].length+1;this.m.setCursorPosition(r,o)}}const z2e=Dt($2e)(({vm:e})=>{const t=V2e();return x.jsx(yIe,{ref:t,defaultValue:e.defaultValue,readOnly:e.readOnly,onChange:e.onChange,onKeyUp:e.onKeyUp,onClick:e.onClick,spellCheck:!0})}),U2e=Dt(AIe)(({vm:e})=>{const{activeEditor:t}=e;if(!t)return null;switch(t.type){case"fileSceneEditor":case"klassPropsEditor":case"schemaEditor":return x.jsx(j2e,{m:t},t._reactKey);case"codeEditor":return x.jsx(MGe,{m:t},t._reactKey);case"textEditor":return x.jsx(z2e,{m:t},t._reactKey)}}),H2e=Dt(LIe)(({m:e})=>{const{tabs:t,player:n}=e;return x.jsxs(_ye,{project:e,children:[x.jsx(UGe,{m:n}),x.jsxs(lR,{children:[x.jsx(bHe,{}),x.jsx(jw,{}),x.jsxs(cR,{children:[x.jsxs(cR,{children:[x.jsx(TUe,{m:t}),x.jsx(xa,{}),x.jsx(U2e,{m:t})]}),x.jsx(xa,{}),x.jsx(vUe,{m:t})]})]})]})});class G2e extends Nt{constructor(t){super(),this.ctx=t,this.onModalClose=(n,r)=>{this.ctx.app.subProjectSelectorVisible.setFalse()},vt(this,{onModalClose:be})}get isModalOpen(){return this.ctx.app.subProjectSelectorVisible.isTrue}}const W2e=Dt(G2e)(({vm:e})=>x.jsx(vw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:pw},slotProps:{backdrop:{timeout:500}},children:x.jsx(qg,{in:e.isModalOpen,children:x.jsx(aG,{children:x.jsx(lG,{children:x.jsx(hG,{m:e.m})})})})})),K2e=Dt(Eye)(({m:e})=>{const{currentProject:t,ctxMenu:n,accountSettings:r,loginFormVisible:o,loadingMessage:i,subProjectSelector:s}=e;return x.jsxs(xye,{app:e,children:[x.jsx(DIe,{}),x.jsx(W2e,{m:s}),x.jsx(jOe,{m:r,open:o.isTrue}),x.jsx(AMe,{m:n}),t&&x.jsx(H2e,{m:t},t.id),i&&x.jsxs("h3",{children:[i,"..."]})]})});var yI={exports:{}},Wm={},bI={exports:{}},wI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sW;function q2e(){return sW||(sW=1,(function(e){function t(V,Y){var J=V.length;V.push(Y);e:for(;0<J;){var ne=J-1>>>1,z=V[ne];if(0<o(z,Y))V[ne]=Y,V[J]=z,J=ne;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],J=V.pop();if(J!==Y){V[0]=J;e:for(var ne=0,z=V.length,K=z>>>1;ne<K;){var Z=2*(ne+1)-1,le=V[Z],ce=Z+1,ue=V[ce];if(0>o(le,J))ce<z&&0>o(ue,le)?(V[ne]=ue,V[ce]=J,ne=ce):(V[ne]=le,V[Z]=J,ne=Z);else if(ce<z&&0>o(ue,J))V[ne]=ue,V[ce]=J,ne=ce;else break e}}return Y}function o(V,Y){var J=V.sortIndex-Y.sortIndex;return J!==0?J:V.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],h=1,f=null,g=3,m=!1,y=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=V)r(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=n(u)}}function M(V){if(b=!1,R(V),!y)if(n(c)!==null)y=!0,I||(I=!0,B());else{var Y=n(u);Y!==null&&W(M,Y.startTime-V)}}var I=!1,N=-1,P=5,L=-1;function D(){return v?!0:!(e.unstable_now()-L<P)}function $(){if(v=!1,I){var V=e.unstable_now();L=V;var Y=!0;try{e:{y=!1,b&&(b=!1,E(N),N=-1),m=!0;var J=g;try{t:{for(R(V),f=n(c);f!==null&&!(f.expirationTime>V&&D());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,g=f.priorityLevel;var z=ne(f.expirationTime<=V);if(V=e.unstable_now(),typeof z=="function"){f.callback=z,R(V),Y=!0;break t}f===n(c)&&r(c),R(V)}else r(c);f=n(c)}if(f!==null)Y=!0;else{var K=n(u);K!==null&&W(M,K.startTime-V),Y=!1}}break e}finally{f=null,g=J,m=!1}Y=void 0}}finally{Y?B():I=!1}}}var B;if(typeof T=="function")B=function(){T($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=$,B=function(){q.postMessage(null)}}else B=function(){S($,0)};function W(V,Y){N=S(function(){V(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var J=g;g=Y;try{return V()}finally{g=J}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=g;g=V;try{return Y()}finally{g=J}},e.unstable_scheduleCallback=function(V,Y,J){var ne=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=J+z,V={id:h++,callback:Y,priorityLevel:V,startTime:J,expirationTime:z,sortIndex:-1},J>ne?(V.sortIndex=J,t(u,V),n(c)===null&&V===n(u)&&(b?(E(N),N=-1):b=!0,W(M,J-ne))):(V.sortIndex=z,t(c,V),y||m||(y=!0,I||(I=!0,B()))),V},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(V){var Y=g;return function(){var J=g;g=Y;try{return V.apply(this,arguments)}finally{g=J}}}})(wI)),wI}var aW;function Y2e(){return aW||(aW=1,bI.exports=q2e()),bI.exports}var lW;function X2e(){if(lW)return Wm;lW=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Y2e(),t=hi(),n=dT();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function s(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function a(l){if(i(l)!==l)throw Error(r(188))}function c(l){var d=l.alternate;if(!d){if(d=i(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,w=d;;){var O=p.return;if(O===null)break;var j=O.alternate;if(j===null){if(w=O.return,w!==null){p=w;continue}break}if(O.child===j.child){for(j=O.child;j;){if(j===p)return a(O),l;if(j===w)return a(O),d;j=j.sibling}throw Error(r(188))}if(p.return!==w.return)p=O,w=j;else{for(var Q=!1,se=O.child;se;){if(se===p){Q=!0,p=O,w=j;break}if(se===w){Q=!0,w=O,p=j;break}se=se.sibling}if(!Q){for(se=j.child;se;){if(se===p){Q=!0,p=j,w=O;break}if(se===w){Q=!0,w=j,p=O;break}se=se.sibling}if(!Q)throw Error(r(189))}}if(p.alternate!==w)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function u(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=u(l),d!==null)return d;l=l.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var U=Symbol.for("react.client.reference");function q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===U?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case m:return"Portal";case T:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case R:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return d=l.displayName||null,d!==null?d:q(l.type)||"Memo";case P:d=l._payload,l=l._init;try{return q(l(d))}catch{}}return null}var W=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ne=[],z=-1;function K(l){return{current:l}}function Z(l){0>z||(l.current=ne[z],ne[z]=null,z--)}function le(l,d){z++,ne[z]=l.current,l.current=d}var ce=K(null),ue=K(null),ae=K(null),ye=K(null);function Me(l,d){switch(le(ae,d),le(ue,l),le(ce,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?IK(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=IK(d),l=PK(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Z(ce),le(ce,l)}function xe(){Z(ce),Z(ue),Z(ae)}function he(l){l.memoizedState!==null&&le(ye,l);var d=ce.current,p=PK(d,l.type);d!==p&&(le(ue,l),le(ce,p))}function pe(l){ue.current===l&&(Z(ce),Z(ue)),ye.current===l&&(Z(ye),Nv._currentValue=J)}var Se=Object.prototype.hasOwnProperty,Ee=e.unstable_scheduleCallback,ke=e.unstable_cancelCallback,Te=e.unstable_shouldYield,Ve=e.unstable_requestPaint,rt=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,Rt=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,Ct=e.unstable_NormalPriority,$e=e.unstable_LowPriority,It=e.unstable_IdlePriority,mt=e.log,Bt=e.unstable_setDisableYieldValue,zt=null,qt=null;function tn(l){if(typeof mt=="function"&&Bt(l),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(zt,l)}catch{}}var gt=Math.clz32?Math.clz32:ct,_t=Math.log,Ge=Math.LN2;function ct(l){return l>>>=0,l===0?32:31-(_t(l)/Ge|0)|0}var ut=256,St=4194304;function at(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function At(l,d,p){var w=l.pendingLanes;if(w===0)return 0;var O=0,j=l.suspendedLanes,Q=l.pingedLanes;l=l.warmLanes;var se=w&134217727;return se!==0?(w=se&~j,w!==0?O=at(w):(Q&=se,Q!==0?O=at(Q):p||(p=se&~l,p!==0&&(O=at(p))))):(se=w&~j,se!==0?O=at(se):Q!==0?O=at(Q):p||(p=w&~l,p!==0&&(O=at(p)))),O===0?0:d!==0&&d!==O&&(d&j)===0&&(j=O&-O,p=d&-d,j>=p||j===32&&(p&4194048)!==0)?d:O}function ft(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Pt(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(){var l=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),l}function An(){var l=St;return St<<=1,(St&62914560)===0&&(St=4194304),l}function cr(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function _n(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Er(l,d,p,w,O,j){var Q=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var se=l.entanglements,ve=l.expirationTimes,Be=l.hiddenUpdates;for(p=Q&~p;0<p;){var nt=31-gt(p),lt=1<<nt;se[nt]=0,ve[nt]=-1;var ze=Be[nt];if(ze!==null)for(Be[nt]=null,nt=0;nt<ze.length;nt++){var He=ze[nt];He!==null&&(He.lane&=-536870913)}p&=~lt}w!==0&&Yn(l,w,0),j!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=j&~(Q&~d))}function Yn(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var w=31-gt(d);l.entangledLanes|=d,l.entanglements[w]=l.entanglements[w]|1073741824|p&4194090}function Nr(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var w=31-gt(p),O=1<<w;O&d|l[w]&d&&(l[w]|=d),p&=~O}}function Br(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function an(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Ln(){var l=Y.p;return l!==0?l:(l=window.event,l===void 0?32:XK(l.type))}function Lt(l,d){var p=Y.p;try{return Y.p=l,d()}finally{Y.p=p}}var Ft=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ft,nn="__reactProps$"+Ft,Rn="__reactContainer$"+Ft,uo="__reactEvents$"+Ft,Bo="__reactListeners$"+Ft,ni="__reactHandles$"+Ft,Oi="__reactResources$"+Ft,zr="__reactMarker$"+Ft;function kr(l){delete l[rn],delete l[nn],delete l[uo],delete l[Bo],delete l[ni]}function pr(l){var d=l[rn];if(d)return d;for(var p=l.parentNode;p;){if(d=p[Rn]||p[rn]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=LK(l);l!==null;){if(p=l[rn])return p;l=LK(l)}return d}l=p,p=l.parentNode}return null}function bo(l){if(l=l[rn]||l[Rn]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function Ri(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Tr(l){var d=l[Oi];return d||(d=l[Oi]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function on(l){l[zr]=!0}var Xe=new Set,Ze={};function st(l,d){Jt(l,d),Jt(l+"Capture",d)}function Jt(l,d){for(Ze[l]=d,l=0;l<d.length;l++)Xe.add(d[l])}var un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},Xn={};function Ur(l){return Se.call(Xn,l)?!0:Se.call(gr,l)?!1:un.test(l)?Xn[l]=!0:(gr[l]=!0,!1)}function Ii(l,d,p){if(Ur(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var w=d.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function hs(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function ri(l,d,p,w){if(w===null)l.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+w)}}var na,kn;function Mr(l){if(na===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);na=d&&d[1]||"",kn=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+l+kn}var oi=!1;function Pi(l,d){if(!l||oi)return"";oi=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(d){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(He){var ze=He}Reflect.construct(l,[],lt)}else{try{lt.call()}catch(He){ze=He}l.call(lt.prototype)}}else{try{throw Error()}catch(He){ze=He}(lt=l())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(He){if(He&&ze&&typeof He.stack=="string")return[He.stack,ze.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=w.DetermineComponentFrameRoot(),Q=j[0],se=j[1];if(Q&&se){var ve=Q.split(`
`),Be=se.split(`
`);for(O=w=0;w<ve.length&&!ve[w].includes("DetermineComponentFrameRoot");)w++;for(;O<Be.length&&!Be[O].includes("DetermineComponentFrameRoot");)O++;if(w===ve.length||O===Be.length)for(w=ve.length-1,O=Be.length-1;1<=w&&0<=O&&ve[w]!==Be[O];)O--;for(;1<=w&&0<=O;w--,O--)if(ve[w]!==Be[O]){if(w!==1||O!==1)do if(w--,O--,0>O||ve[w]!==Be[O]){var nt=`
`+ve[w].replace(" at new "," at ");return l.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",l.displayName)),nt}while(1<=w&&0<=O);break}}}finally{oi=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Mr(p):""}function Vf(l){switch(l.tag){case 26:case 27:case 5:return Mr(l.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return Pi(l.type,!1);case 11:return Pi(l.type.render,!1);case 1:return Pi(l.type,!0);case 31:return Mr("Activity");default:return""}}function pu(l){try{var d="";do d+=Vf(l),l=l.return;while(l);return d}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function gi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function $f(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Km(l){var d=$f(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,j=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return O.call(this)},set:function(Q){w=""+Q,j.call(this,Q)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(Q){w=""+Q},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ka(l){l._valueTracker||(l._valueTracker=Km(l))}function Jd(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),w="";return l&&(w=$f(l)?l.checked?"true":"false":l.value),l=w,l!==p?(d.setValue(l),!0):!1}function sc(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var zf=/[\n"\\]/g;function ii(l){return l.replace(zf,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function gu(l,d,p,w,O,j,Q,se){l.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?l.type=Q:l.removeAttribute("type"),d!=null?Q==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+gi(d)):l.value!==""+gi(d)&&(l.value=""+gi(d)):Q!=="submit"&&Q!=="reset"||l.removeAttribute("value"),d!=null?eh(l,Q,gi(d)):p!=null?eh(l,Q,gi(p)):w!=null&&l.removeAttribute("value"),O==null&&j!=null&&(l.defaultChecked=!!j),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?l.name=""+gi(se):l.removeAttribute("name")}function Qd(l,d,p,w,O,j,Q,se){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(l.type=j),d!=null||p!=null){if(!(j!=="submit"&&j!=="reset"||d!=null))return;p=p!=null?""+gi(p):"",d=d!=null?""+gi(d):p,se||d===l.value||(l.value=d),l.defaultValue=d}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,l.checked=se?l.checked:!!w,l.defaultChecked=!!w,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(l.name=Q)}function eh(l,d,p){d==="number"&&sc(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function bl(l,d,p,w){if(l=l.options,d){d={};for(var O=0;O<p.length;O++)d["$"+p[O]]=!0;for(p=0;p<l.length;p++)O=d.hasOwnProperty("$"+l[p].value),l[p].selected!==O&&(l[p].selected=O),O&&w&&(l[p].defaultSelected=!0)}else{for(p=""+gi(p),d=null,O=0;O<l.length;O++){if(l[O].value===p){l[O].selected=!0,w&&(l[O].defaultSelected=!0);return}d!==null||l[O].disabled||(d=l[O])}d!==null&&(d.selected=!0)}}function Uf(l,d,p){if(d!=null&&(d=""+gi(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+gi(p):""}function Hf(l,d,p,w){if(d==null){if(w!=null){if(p!=null)throw Error(r(92));if(W(w)){if(1<w.length)throw Error(r(93));w=w[0]}p=w}p==null&&(p=""),d=p}p=gi(d),l.defaultValue=p,w=l.textContent,w===p&&w!==""&&w!==null&&(l.value=w)}function wl(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function th(l,d,p){var w=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?w?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":w?l.setProperty(d,p):typeof p!="number"||p===0||mr.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function nh(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var w in p)!p.hasOwnProperty(w)||d!=null&&d.hasOwnProperty(w)||(w.indexOf("--")===0?l.setProperty(w,""):w==="float"?l.cssFloat="":l[w]="");for(var O in d)w=d[O],d.hasOwnProperty(O)&&p[O]!==w&&th(l,O,w)}else for(var j in d)d.hasOwnProperty(j)&&th(l,j,d[j])}function wo(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ra=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ac=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lc(l){return ac.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Da=null;function mu(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var oa=null,Sl=null;function vu(l){var d=bo(l);if(d&&(l=d.stateNode)){var p=l[nn]||null;e:switch(l=d.stateNode,d.type){case"input":if(gu(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ii(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var w=p[d];if(w!==l&&w.form===l.form){var O=w[nn]||null;if(!O)throw Error(r(90));gu(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<p.length;d++)w=p[d],w.form===l.form&&Jd(w)}break e;case"textarea":Uf(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&bl(l,!!p.multiple,d,!1)}}}var ia=!1;function rh(l,d,p){if(ia)return l(d,p);ia=!0;try{var w=l(d);return w}finally{if(ia=!1,(oa!==null||Sl!==null)&&(sC(),oa&&(d=oa,l=Sl,Sl=oa=null,vu(d),l)))for(d=0;d<l.length;d++)vu(l[d])}}function mi(l,d){var p=l.stateNode;if(p===null)return null;var w=p[nn]||null;if(w===null)return null;p=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(vi)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Aa=!1}var fs=null,cc=null,uc=null;function dc(){if(uc)return uc;var l,d=cc,p=d.length,w,O="value"in fs?fs.value:fs.textContent,j=O.length;for(l=0;l<p&&d[l]===O[l];l++);var Q=p-l;for(w=1;w<=Q&&d[p-w]===O[j-w];w++);return uc=O.slice(l,1<w?1-w:void 0)}function hc(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Fo(){return!0}function La(){return!1}function Qr(l){function d(p,w,O,j,Q){this._reactName=p,this._targetInst=O,this.type=w,this.nativeEvent=j,this.target=Q,this.currentTarget=null;for(var se in l)l.hasOwnProperty(se)&&(p=l[se],this[se]=p?p(j):j[se]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Fo:La,this.isPropagationStopped=La,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),d}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Qr(si),ps=h({},si,{view:0,detail:0}),Cl=Qr(ps),yu,oh,pc,xl=h({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==pc&&(pc&&l.type==="mousemove"?(yu=l.screenX-pc.screenX,oh=l.screenY-pc.screenY):oh=yu=0,pc=l),yu)},movementY:function(l){return"movementY"in l?l.movementY:oh}}),Gf=Qr(xl),Wf=h({},xl,{dataTransfer:0}),qm=Qr(Wf),Kf=h({},ps,{relatedTarget:0}),ih=Qr(Kf),Ym=h({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),_l=Qr(Ym),bu=h({},si,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),sh=Qr(bu),wu=h({},si,{data:0}),Zn=Qr(wu),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ki(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=ch[l])?!!d[l]:!1}function El(){return ki}var qf=h({},ps,{key:function(l){if(l.key){var d=ah[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=hc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?lh[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(l){return l.type==="keypress"?hc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?hc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Yf=Qr(qf),ai=h({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=Qr(ai),Su=h({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Xf=Qr(Su),Xm=h({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=Qr(Xm),yr=h({},xl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Cu=Qr(yr),te=h({},si,{newState:0,oldState:0}),_o=Qr(te),yi=[9,13,27,32],Tl=vi&&"CompositionEvent"in window,Le=null;vi&&"documentMode"in document&&(Le=document.documentMode);var Ml=vi&&"TextEvent"in window&&!Le,Wt=vi&&(!Tl||Le&&8<Le&&11>=Le),Gi=" ",gc=!1;function br(l,d){switch(l){case"keyup":return yi.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gs=!1;function Je(l,d){switch(l){case"compositionend":return xu(d);case"keypress":return d.which!==32?null:(gc=!0,Gi);case"textInput":return l=d.data,l===Gi&&gc?null:l;default:return null}}function Zf(l,d){if(gs)return l==="compositionend"||!Tl&&br(l,d)?(l=dc(),uc=cc=fs=null,gs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Wt&&d.locale!=="ko"?null:d.data;default:return null}}var uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!uh[l.type]:d==="textarea"}function Ba(l,d,p,w){oa?Sl?Sl.push(w):Sl=[w]:oa=w,d=hC(d,"onChange"),0<d.length&&(p=new fc("onChange","change",null,p,w),l.push({event:p,listeners:d}))}var ms=null,Fa=null;function Wi(l){EK(l,0)}function ro(l){var d=Ri(l);if(Jd(d))return l}function sa(l,d){if(l==="change")return d}var dh=!1;if(vi){var vs;if(vi){var Ol="oninput"in document;if(!Ol){var hh=document.createElement("div");hh.setAttribute("oninput","return;"),Ol=typeof hh.oninput=="function"}vs=Ol}else vs=!1;dh=vs&&(!document.documentMode||9<document.documentMode)}function fh(){ms&&(ms.detachEvent("onpropertychange",Jf),Fa=ms=null)}function Jf(l){if(l.propertyName==="value"&&ro(Fa)){var d=[];Ba(d,Fa,l,mu(l)),rh(Wi,d)}}function Qf(l,d,p){l==="focusin"?(fh(),ms=d,Fa=p,ms.attachEvent("onpropertychange",Jf)):l==="focusout"&&fh()}function Jm(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ro(Fa)}function Qm(l,d){if(l==="click")return ro(d)}function ep(l,d){if(l==="input"||l==="change")return ro(d)}function ev(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var C=typeof Object.is=="function"?Object.is:ev;function F(l,d){if(C(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),w=Object.keys(d);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var O=p[w];if(!Se.call(d,O)||!C(l[O],d[O]))return!1}return!0}function X(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ee(l,d){var p=X(l);l=0;for(var w;p;){if(p.nodeType===3){if(w=l+p.textContent.length,l<=d&&w>=d)return{node:p,offset:d-l};l=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=X(p)}}function oe(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?oe(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function de(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=sc(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=sc(l.document)}return d}function ge(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var Re=vi&&"documentMode"in document&&11>=document.documentMode,Ue=null,qe=null,ot=null,kt=!1;function Ut(l,d,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;kt||Ue==null||Ue!==sc(w)||(w=Ue,"selectionStart"in w&&ge(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ot&&F(ot,w)||(ot=w,w=hC(qe,"onSelect"),0<w.length&&(d=new fc("onSelect","select",null,d,p),l.push({event:d,listeners:w}),d.target=Ue)))}function dn(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var vn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},ur={},qo={};vi&&(qo=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function Eo(l){if(ur[l])return ur[l];if(!vn[l])return l;var d=vn[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in qo)return ur[l]=d[p];return l}var Rl=Eo("animationend"),bi=Eo("animationiteration"),OS=Eo("animationstart"),tv=Eo("transitionrun"),SI=Eo("transitionstart"),CI=Eo("transitioncancel"),RS=Eo("transitionend"),IS=new Map,nv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nv.push("scrollEnd");function Et(l,d){IS.set(l,d),st(d,[l])}var rv=new WeakMap;function dr(l,d){if(typeof l=="object"&&l!==null){var p=rv.get(l);return p!==void 0?p:(d={value:l,source:d,stack:pu(d)},rv.set(l,d),d)}return{value:l,source:d,stack:pu(d)}}var H=[],re=0,Ce=0;function me(){for(var l=re,d=Ce=re=0;d<l;){var p=H[d];H[d++]=null;var w=H[d];H[d++]=null;var O=H[d];H[d++]=null;var j=H[d];if(H[d++]=null,w!==null&&O!==null){var Q=w.pending;Q===null?O.next=O:(O.next=Q.next,Q.next=O),w.pending=O}j!==0&&Qt(p,O,j)}}function Fe(l,d,p,w){H[re++]=l,H[re++]=d,H[re++]=p,H[re++]=w,Ce|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function Ae(l,d,p,w){return Fe(l,d,p,w),To(l)}function jt(l,d){return Fe(l,null,null,d),To(l)}function Qt(l,d,p){l.lanes|=p;var w=l.alternate;w!==null&&(w.lanes|=p);for(var O=!1,j=l.return;j!==null;)j.childLanes|=p,w=j.alternate,w!==null&&(w.childLanes|=p),j.tag===22&&(l=j.stateNode,l===null||l._visibility&1||(O=!0)),l=j,j=j.return;return l.tag===3?(j=l.stateNode,O&&d!==null&&(O=31-gt(p),l=j.hiddenUpdates,w=l[O],w===null?l[O]=[d]:w.push(d),d.lane=p|536870912),j):null}function To(l){if(50<Ov)throw Ov=0,OP=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var ys={};function t5e(l,d,p,w){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(l,d,p,w){return new t5e(l,d,p,w)}function xI(l){return l=l.prototype,!(!l||!l.isReactComponent)}function mc(l,d){var p=l.alternate;return p===null?(p=bs(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function uW(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function PS(l,d,p,w,O,j){var Q=0;if(w=l,typeof l=="function")xI(l)&&(Q=1);else if(typeof l=="string")Q=r4e(l,p,ce.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=bs(31,p,d,O),l.elementType=L,l.lanes=j,l;case y:return ph(p.children,O,j,d);case b:Q=8,O|=24;break;case v:return l=bs(12,p,d,O|2),l.elementType=v,l.lanes=j,l;case M:return l=bs(13,p,d,O),l.elementType=M,l.lanes=j,l;case I:return l=bs(19,p,d,O),l.elementType=I,l.lanes=j,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:case T:Q=10;break e;case E:Q=9;break e;case R:Q=11;break e;case N:Q=14;break e;case P:Q=16,w=null;break e}Q=29,p=Error(r(130,l===null?"null":typeof l,"")),w=null}return d=bs(Q,p,d,O),d.elementType=l,d.type=w,d.lanes=j,d}function ph(l,d,p,w){return l=bs(7,l,w,d),l.lanes=p,l}function _I(l,d,p){return l=bs(6,l,null,d),l.lanes=p,l}function EI(l,d,p){return d=bs(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var tp=[],np=0,kS=null,DS=0,aa=[],la=0,gh=null,vc=1,yc="";function mh(l,d){tp[np++]=DS,tp[np++]=kS,kS=l,DS=d}function dW(l,d,p){aa[la++]=vc,aa[la++]=yc,aa[la++]=gh,gh=l;var w=vc;l=yc;var O=32-gt(w)-1;w&=~(1<<O),p+=1;var j=32-gt(d)+O;if(30<j){var Q=O-O%5;j=(w&(1<<Q)-1).toString(32),w>>=Q,O-=Q,vc=1<<32-gt(d)+O|p<<O|w,yc=j+l}else vc=1<<j|p<<O|w,yc=l}function TI(l){l.return!==null&&(mh(l,1),dW(l,1,0))}function MI(l){for(;l===kS;)kS=tp[--np],tp[np]=null,DS=tp[--np],tp[np]=null;for(;l===gh;)gh=aa[--la],aa[la]=null,yc=aa[--la],aa[la]=null,vc=aa[--la],aa[la]=null}var Di=null,fo=null,or=!1,vh=null,Il=!1,OI=Error(r(519));function yh(l){var d=Error(r(418,""));throw sv(dr(d,l)),OI}function hW(l){var d=l.stateNode,p=l.type,w=l.memoizedProps;switch(d[rn]=l,d[nn]=w,p){case"dialog":zn("cancel",d),zn("close",d);break;case"iframe":case"object":case"embed":zn("load",d);break;case"video":case"audio":for(p=0;p<Iv.length;p++)zn(Iv[p],d);break;case"source":zn("error",d);break;case"img":case"image":case"link":zn("error",d),zn("load",d);break;case"details":zn("toggle",d);break;case"input":zn("invalid",d),Qd(d,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),ka(d);break;case"select":zn("invalid",d);break;case"textarea":zn("invalid",d),Hf(d,w.value,w.defaultValue,w.children),ka(d)}p=w.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||w.suppressHydrationWarning===!0||RK(d.textContent,p)?(w.popover!=null&&(zn("beforetoggle",d),zn("toggle",d)),w.onScroll!=null&&zn("scroll",d),w.onScrollEnd!=null&&zn("scrollend",d),w.onClick!=null&&(d.onclick=fC),d=!0):d=!1,d||yh(l)}function fW(l){for(Di=l.return;Di;)switch(Di.tag){case 5:case 13:Il=!1;return;case 27:case 3:Il=!0;return;default:Di=Di.return}}function ov(l){if(l!==Di)return!1;if(!or)return fW(l),or=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||HP(l.type,l.memoizedProps)),p=!p),p&&fo&&yh(l),fW(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(d===0){fo=Va(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++;l=l.nextSibling}fo=null}}else d===27?(d=fo,ju(l.type)?(l=qP,qP=null,fo=l):fo=d):fo=Di?Va(l.stateNode.nextSibling):null;return!0}function iv(){fo=Di=null,or=!1}function pW(){var l=vh;return l!==null&&(Yi===null?Yi=l:Yi.push.apply(Yi,l),vh=null),l}function sv(l){vh===null?vh=[l]:vh.push(l)}var RI=K(null),bh=null,bc=null;function _u(l,d,p){le(RI,d._currentValue),d._currentValue=p}function wc(l){l._currentValue=RI.current,Z(RI)}function II(l,d,p){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===p)break;l=l.return}}function PI(l,d,p,w){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var j=O.dependencies;if(j!==null){var Q=O.child;j=j.firstContext;e:for(;j!==null;){var se=j;j=O;for(var ve=0;ve<d.length;ve++)if(se.context===d[ve]){j.lanes|=p,se=j.alternate,se!==null&&(se.lanes|=p),II(j.return,p,l),w||(Q=null);break e}j=se.next}}else if(O.tag===18){if(Q=O.return,Q===null)throw Error(r(341));Q.lanes|=p,j=Q.alternate,j!==null&&(j.lanes|=p),II(Q,p,l),Q=null}else Q=O.child;if(Q!==null)Q.return=O;else for(Q=O;Q!==null;){if(Q===l){Q=null;break}if(O=Q.sibling,O!==null){O.return=Q.return,Q=O;break}Q=Q.return}O=Q}}function av(l,d,p,w){l=null;for(var O=d,j=!1;O!==null;){if(!j){if((O.flags&524288)!==0)j=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var Q=O.alternate;if(Q===null)throw Error(r(387));if(Q=Q.memoizedProps,Q!==null){var se=O.type;C(O.pendingProps.value,Q.value)||(l!==null?l.push(se):l=[se])}}else if(O===ye.current){if(Q=O.alternate,Q===null)throw Error(r(387));Q.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(Nv):l=[Nv])}O=O.return}l!==null&&PI(d,l,p,w),d.flags|=262144}function AS(l){for(l=l.firstContext;l!==null;){if(!C(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function wh(l){bh=l,bc=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function wi(l){return gW(bh,l)}function LS(l,d){return bh===null&&wh(l),gW(l,d)}function gW(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},bc===null){if(l===null)throw Error(r(308));bc=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else bc=bc.next=d;return p}var n5e=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,w){l.push(w)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},r5e=e.unstable_scheduleCallback,o5e=e.unstable_NormalPriority,jo={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kI(){return{controller:new n5e,data:new Map,refCount:0}}function lv(l){l.refCount--,l.refCount===0&&r5e(o5e,function(){l.controller.abort()})}var cv=null,DI=0,rp=0,op=null;function i5e(l,d){if(cv===null){var p=cv=[];DI=0,rp=LP(),op={status:"pending",value:void 0,then:function(w){p.push(w)}}}return DI++,d.then(mW,mW),d}function mW(){if(--DI===0&&cv!==null){op!==null&&(op.status="fulfilled");var l=cv;cv=null,rp=0,op=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function s5e(l,d){var p=[],w={status:"pending",value:null,reason:null,then:function(O){p.push(O)}};return l.then(function(){w.status="fulfilled",w.value=d;for(var O=0;O<p.length;O++)(0,p[O])(d)},function(O){for(w.status="rejected",w.reason=O,O=0;O<p.length;O++)(0,p[O])(void 0)}),w}var vW=V.S;V.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&i5e(l,d),vW!==null&&vW(l,d)};var Sh=K(null);function AI(){var l=Sh.current;return l!==null?l:Fr.pooledCache}function NS(l,d){d===null?le(Sh,Sh.current):le(Sh,d.pool)}function yW(){var l=AI();return l===null?null:{parent:jo._currentValue,pool:l}}var uv=Error(r(460)),bW=Error(r(474)),BS=Error(r(542)),LI={then:function(){}};function wW(l){return l=l.status,l==="fulfilled"||l==="rejected"}function FS(){}function SW(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(FS,FS),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,xW(l),l;default:if(typeof d.status=="string")d.then(FS,FS);else{if(l=Fr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(w){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=w}},function(w){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=w}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,xW(l),l}throw dv=d,uv}}var dv=null;function CW(){if(dv===null)throw Error(r(459));var l=dv;return dv=null,l}function xW(l){if(l===uv||l===BS)throw Error(r(483))}var Eu=!1;function NI(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function BI(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Tu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Mu(l,d,p){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(wr&2)!==0){var O=w.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),w.pending=d,d=To(l),Qt(l,null,p),d}return Fe(l,w,d,p),To(l)}function hv(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var w=d.lanes;w&=l.pendingLanes,p|=w,d.lanes=p,Nr(l,p)}}function FI(l,d){var p=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var O=null,j=null;if(p=p.firstBaseUpdate,p!==null){do{var Q={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};j===null?O=j=Q:j=j.next=Q,p=p.next}while(p!==null);j===null?O=j=d:j=j.next=d}else O=j=d;p={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:j,shared:w.shared,callbacks:w.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var jI=!1;function fv(){if(jI){var l=op;if(l!==null)throw l}}function pv(l,d,p,w){jI=!1;var O=l.updateQueue;Eu=!1;var j=O.firstBaseUpdate,Q=O.lastBaseUpdate,se=O.shared.pending;if(se!==null){O.shared.pending=null;var ve=se,Be=ve.next;ve.next=null,Q===null?j=Be:Q.next=Be,Q=ve;var nt=l.alternate;nt!==null&&(nt=nt.updateQueue,se=nt.lastBaseUpdate,se!==Q&&(se===null?nt.firstBaseUpdate=Be:se.next=Be,nt.lastBaseUpdate=ve))}if(j!==null){var lt=O.baseState;Q=0,nt=Be=ve=null,se=j;do{var ze=se.lane&-536870913,He=ze!==se.lane;if(He?(Gn&ze)===ze:(w&ze)===ze){ze!==0&&ze===rp&&(jI=!0),nt!==null&&(nt=nt.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var mn=l,fn=se;ze=d;var Ir=p;switch(fn.tag){case 1:if(mn=fn.payload,typeof mn=="function"){lt=mn.call(Ir,lt,ze);break e}lt=mn;break e;case 3:mn.flags=mn.flags&-65537|128;case 0:if(mn=fn.payload,ze=typeof mn=="function"?mn.call(Ir,lt,ze):mn,ze==null)break e;lt=h({},lt,ze);break e;case 2:Eu=!0}}ze=se.callback,ze!==null&&(l.flags|=64,He&&(l.flags|=8192),He=O.callbacks,He===null?O.callbacks=[ze]:He.push(ze))}else He={lane:ze,tag:se.tag,payload:se.payload,callback:se.callback,next:null},nt===null?(Be=nt=He,ve=lt):nt=nt.next=He,Q|=ze;if(se=se.next,se===null){if(se=O.shared.pending,se===null)break;He=se,se=He.next,He.next=null,O.lastBaseUpdate=He,O.shared.pending=null}}while(!0);nt===null&&(ve=lt),O.baseState=ve,O.firstBaseUpdate=Be,O.lastBaseUpdate=nt,j===null&&(O.shared.lanes=0),Lu|=Q,l.lanes=Q,l.memoizedState=lt}}function _W(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function EW(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)_W(p[l],d)}var ip=K(null),jS=K(0);function TW(l,d){l=Mc,le(jS,l),le(ip,d),Mc=l|d.baseLanes}function VI(){le(jS,Mc),le(ip,ip.current)}function $I(){Mc=jS.current,Z(ip),Z(jS)}var Ou=0,Nn=null,Or=null,Mo=null,VS=!1,sp=!1,Ch=!1,$S=0,gv=0,ap=null,a5e=0;function So(){throw Error(r(321))}function zI(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!C(l[p],d[p]))return!1;return!0}function UI(l,d,p,w,O,j){return Ou=j,Nn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,V.H=l===null||l.memoizedState===null?c6:u6,Ch=!1,j=p(w,O),Ch=!1,sp&&(j=OW(d,p,w,O)),MW(l),j}function MW(l){V.H=KS;var d=Or!==null&&Or.next!==null;if(Ou=0,Mo=Or=Nn=null,VS=!1,gv=0,ap=null,d)throw Error(r(300));l===null||Yo||(l=l.dependencies,l!==null&&AS(l)&&(Yo=!0))}function OW(l,d,p,w){Nn=l;var O=0;do{if(sp&&(ap=null),gv=0,sp=!1,25<=O)throw Error(r(301));if(O+=1,Mo=Or=null,l.updateQueue!=null){var j=l.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}V.H=p5e,j=d(p,w)}while(sp);return j}function l5e(){var l=V.H,d=l.useState()[0];return d=typeof d.then=="function"?mv(d):d,l=l.useState()[0],(Or!==null?Or.memoizedState:null)!==l&&(Nn.flags|=1024),d}function HI(){var l=$S!==0;return $S=0,l}function GI(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function WI(l){if(VS){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}VS=!1}Ou=0,Mo=Or=Nn=null,sp=!1,gv=$S=0,ap=null}function Ki(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mo===null?Nn.memoizedState=Mo=l:Mo=Mo.next=l,Mo}function Oo(){if(Or===null){var l=Nn.alternate;l=l!==null?l.memoizedState:null}else l=Or.next;var d=Mo===null?Nn.memoizedState:Mo.next;if(d!==null)Mo=d,Or=l;else{if(l===null)throw Nn.alternate===null?Error(r(467)):Error(r(310));Or=l,l={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Mo===null?Nn.memoizedState=Mo=l:Mo=Mo.next=l}return Mo}function KI(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mv(l){var d=gv;return gv+=1,ap===null&&(ap=[]),l=SW(ap,l,d),d=Nn,(Mo===null?d.memoizedState:Mo.next)===null&&(d=d.alternate,V.H=d===null||d.memoizedState===null?c6:u6),l}function zS(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return mv(l);if(l.$$typeof===T)return wi(l)}throw Error(r(438,String(l)))}function qI(l){var d=null,p=Nn.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var w=Nn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(d={data:w.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=KI(),Nn.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),w=0;w<l;w++)p[w]=D;return d.index++,p}function Sc(l,d){return typeof d=="function"?d(l):d}function US(l){var d=Oo();return YI(d,Or,l)}function YI(l,d,p){var w=l.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=p;var O=l.baseQueue,j=w.pending;if(j!==null){if(O!==null){var Q=O.next;O.next=j.next,j.next=Q}d.baseQueue=O=j,w.pending=null}if(j=l.baseState,O===null)l.memoizedState=j;else{d=O.next;var se=Q=null,ve=null,Be=d,nt=!1;do{var lt=Be.lane&-536870913;if(lt!==Be.lane?(Gn&lt)===lt:(Ou&lt)===lt){var ze=Be.revertLane;if(ze===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),lt===rp&&(nt=!0);else if((Ou&ze)===ze){Be=Be.next,ze===rp&&(nt=!0);continue}else lt={lane:0,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ve===null?(se=ve=lt,Q=j):ve=ve.next=lt,Nn.lanes|=ze,Lu|=ze;lt=Be.action,Ch&&p(j,lt),j=Be.hasEagerState?Be.eagerState:p(j,lt)}else ze={lane:lt,revertLane:Be.revertLane,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},ve===null?(se=ve=ze,Q=j):ve=ve.next=ze,Nn.lanes|=lt,Lu|=lt;Be=Be.next}while(Be!==null&&Be!==d);if(ve===null?Q=j:ve.next=se,!C(j,l.memoizedState)&&(Yo=!0,nt&&(p=op,p!==null)))throw p;l.memoizedState=j,l.baseState=Q,l.baseQueue=ve,w.lastRenderedState=j}return O===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function XI(l){var d=Oo(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var w=p.dispatch,O=p.pending,j=d.memoizedState;if(O!==null){p.pending=null;var Q=O=O.next;do j=l(j,Q.action),Q=Q.next;while(Q!==O);C(j,d.memoizedState)||(Yo=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),p.lastRenderedState=j}return[j,w]}function RW(l,d,p){var w=Nn,O=Oo(),j=or;if(j){if(p===void 0)throw Error(r(407));p=p()}else p=d();var Q=!C((Or||O).memoizedState,p);Q&&(O.memoizedState=p,Yo=!0),O=O.queue;var se=kW.bind(null,w,O,l);if(vv(2048,8,se,[l]),O.getSnapshot!==d||Q||Mo!==null&&Mo.memoizedState.tag&1){if(w.flags|=2048,lp(9,HS(),PW.bind(null,w,O,p,d),null),Fr===null)throw Error(r(349));j||(Ou&124)!==0||IW(w,d,p)}return p}function IW(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=Nn.updateQueue,d===null?(d=KI(),Nn.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function PW(l,d,p,w){d.value=p,d.getSnapshot=w,DW(d)&&AW(l)}function kW(l,d,p){return p(function(){DW(d)&&AW(l)})}function DW(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!C(l,p)}catch{return!0}}function AW(l){var d=jt(l,2);d!==null&&_s(d,l,2)}function ZI(l){var d=Ki();if(typeof l=="function"){var p=l;if(l=p(),Ch){tn(!0);try{p()}finally{tn(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:l},d}function LW(l,d,p,w){return l.baseState=p,YI(l,Or,typeof w=="function"?w:Sc)}function c5e(l,d,p,w,O){if(WS(l))throw Error(r(485));if(l=d.action,l!==null){var j={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){j.listeners.push(Q)}};V.T!==null?p(!0):j.isTransition=!1,w(j),p=d.pending,p===null?(j.next=d.pending=j,NW(d,j)):(j.next=p.next,d.pending=p.next=j)}}function NW(l,d){var p=d.action,w=d.payload,O=l.state;if(d.isTransition){var j=V.T,Q={};V.T=Q;try{var se=p(O,w),ve=V.S;ve!==null&&ve(Q,se),BW(l,d,se)}catch(Be){JI(l,d,Be)}finally{V.T=j}}else try{j=p(O,w),BW(l,d,j)}catch(Be){JI(l,d,Be)}}function BW(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(w){FW(l,d,w)},function(w){return JI(l,d,w)}):FW(l,d,p)}function FW(l,d,p){d.status="fulfilled",d.value=p,jW(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,NW(l,p)))}function JI(l,d,p){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do d.status="rejected",d.reason=p,jW(d),d=d.next;while(d!==w)}l.action=null}function jW(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function VW(l,d){return d}function $W(l,d){if(or){var p=Fr.formState;if(p!==null){e:{var w=Nn;if(or){if(fo){t:{for(var O=fo,j=Il;O.nodeType!==8;){if(!j){O=null;break t}if(O=Va(O.nextSibling),O===null){O=null;break t}}j=O.data,O=j==="F!"||j==="F"?O:null}if(O){fo=Va(O.nextSibling),w=O.data==="F!";break e}}yh(w)}w=!1}w&&(d=p[0])}}return p=Ki(),p.memoizedState=p.baseState=d,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VW,lastRenderedState:d},p.queue=w,p=s6.bind(null,Nn,w),w.dispatch=p,w=ZI(!1),j=rP.bind(null,Nn,!1,w.queue),w=Ki(),O={state:d,dispatch:null,action:l,pending:null},w.queue=O,p=c5e.bind(null,Nn,O,j,p),O.dispatch=p,w.memoizedState=l,[d,p,!1]}function zW(l){var d=Oo();return UW(d,Or,l)}function UW(l,d,p){if(d=YI(l,d,VW)[0],l=US(Sc)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var w=mv(d)}catch(Q){throw Q===uv?BS:Q}else w=d;d=Oo();var O=d.queue,j=O.dispatch;return p!==d.memoizedState&&(Nn.flags|=2048,lp(9,HS(),u5e.bind(null,O,p),null)),[w,j,l]}function u5e(l,d){l.action=d}function HW(l){var d=Oo(),p=Or;if(p!==null)return UW(d,p,l);Oo(),d=d.memoizedState,p=Oo();var w=p.queue.dispatch;return p.memoizedState=l,[d,w,!1]}function lp(l,d,p,w){return l={tag:l,create:p,deps:w,inst:d,next:null},d=Nn.updateQueue,d===null&&(d=KI(),Nn.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(w=p.next,p.next=l,l.next=w,d.lastEffect=l),l}function HS(){return{destroy:void 0,resource:void 0}}function GW(){return Oo().memoizedState}function GS(l,d,p,w){var O=Ki();w=w===void 0?null:w,Nn.flags|=l,O.memoizedState=lp(1|d,HS(),p,w)}function vv(l,d,p,w){var O=Oo();w=w===void 0?null:w;var j=O.memoizedState.inst;Or!==null&&w!==null&&zI(w,Or.memoizedState.deps)?O.memoizedState=lp(d,j,p,w):(Nn.flags|=l,O.memoizedState=lp(1|d,j,p,w))}function WW(l,d){GS(8390656,8,l,d)}function KW(l,d){vv(2048,8,l,d)}function qW(l,d){return vv(4,2,l,d)}function YW(l,d){return vv(4,4,l,d)}function XW(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function ZW(l,d,p){p=p!=null?p.concat([l]):null,vv(4,4,XW.bind(null,d,l),p)}function QI(){}function JW(l,d){var p=Oo();d=d===void 0?null:d;var w=p.memoizedState;return d!==null&&zI(d,w[1])?w[0]:(p.memoizedState=[l,d],l)}function QW(l,d){var p=Oo();d=d===void 0?null:d;var w=p.memoizedState;if(d!==null&&zI(d,w[1]))return w[0];if(w=l(),Ch){tn(!0);try{l()}finally{tn(!1)}}return p.memoizedState=[w,d],w}function eP(l,d,p){return p===void 0||(Ou&1073741824)!==0?l.memoizedState=d:(l.memoizedState=p,l=nK(),Nn.lanes|=l,Lu|=l,p)}function e6(l,d,p,w){return C(p,d)?p:ip.current!==null?(l=eP(l,p,w),C(l,d)||(Yo=!0),l):(Ou&42)===0?(Yo=!0,l.memoizedState=p):(l=nK(),Nn.lanes|=l,Lu|=l,d)}function t6(l,d,p,w,O){var j=Y.p;Y.p=j!==0&&8>j?j:8;var Q=V.T,se={};V.T=se,rP(l,!1,d,p);try{var ve=O(),Be=V.S;if(Be!==null&&Be(se,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var nt=s5e(ve,w);yv(l,d,nt,xs(l))}else yv(l,d,w,xs(l))}catch(lt){yv(l,d,{then:function(){},status:"rejected",reason:lt},xs())}finally{Y.p=j,V.T=Q}}function d5e(){}function tP(l,d,p,w){if(l.tag!==5)throw Error(r(476));var O=n6(l).queue;t6(l,O,d,J,p===null?d5e:function(){return r6(l),p(w)})}function n6(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:J},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function r6(l){var d=n6(l).next.queue;yv(l,d,{},xs())}function nP(){return wi(Nv)}function o6(){return Oo().memoizedState}function i6(){return Oo().memoizedState}function h5e(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=xs();l=Tu(p);var w=Mu(d,l,p);w!==null&&(_s(w,d,p),hv(w,d,p)),d={cache:kI()},l.payload=d;return}d=d.return}}function f5e(l,d,p){var w=xs();p={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},WS(l)?a6(d,p):(p=Ae(l,d,p,w),p!==null&&(_s(p,l,w),l6(p,d,w)))}function s6(l,d,p){var w=xs();yv(l,d,p,w)}function yv(l,d,p,w){var O={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(WS(l))a6(d,O);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var Q=d.lastRenderedState,se=j(Q,p);if(O.hasEagerState=!0,O.eagerState=se,C(se,Q))return Fe(l,d,O,0),Fr===null&&me(),!1}catch{}finally{}if(p=Ae(l,d,O,w),p!==null)return _s(p,l,w),l6(p,d,w),!0}return!1}function rP(l,d,p,w){if(w={lane:2,revertLane:LP(),action:w,hasEagerState:!1,eagerState:null,next:null},WS(l)){if(d)throw Error(r(479))}else d=Ae(l,p,w,2),d!==null&&_s(d,l,2)}function WS(l){var d=l.alternate;return l===Nn||d!==null&&d===Nn}function a6(l,d){sp=VS=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function l6(l,d,p){if((p&4194048)!==0){var w=d.lanes;w&=l.pendingLanes,p|=w,d.lanes=p,Nr(l,p)}}var KS={readContext:wi,use:zS,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useLayoutEffect:So,useInsertionEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useSyncExternalStore:So,useId:So,useHostTransitionStatus:So,useFormState:So,useActionState:So,useOptimistic:So,useMemoCache:So,useCacheRefresh:So},c6={readContext:wi,use:zS,useCallback:function(l,d){return Ki().memoizedState=[l,d===void 0?null:d],l},useContext:wi,useEffect:WW,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,GS(4194308,4,XW.bind(null,d,l),p)},useLayoutEffect:function(l,d){return GS(4194308,4,l,d)},useInsertionEffect:function(l,d){GS(4,2,l,d)},useMemo:function(l,d){var p=Ki();d=d===void 0?null:d;var w=l();if(Ch){tn(!0);try{l()}finally{tn(!1)}}return p.memoizedState=[w,d],w},useReducer:function(l,d,p){var w=Ki();if(p!==void 0){var O=p(d);if(Ch){tn(!0);try{p(d)}finally{tn(!1)}}}else O=d;return w.memoizedState=w.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},w.queue=l,l=l.dispatch=f5e.bind(null,Nn,l),[w.memoizedState,l]},useRef:function(l){var d=Ki();return l={current:l},d.memoizedState=l},useState:function(l){l=ZI(l);var d=l.queue,p=s6.bind(null,Nn,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:QI,useDeferredValue:function(l,d){var p=Ki();return eP(p,l,d)},useTransition:function(){var l=ZI(!1);return l=t6.bind(null,Nn,l.queue,!0,!1),Ki().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var w=Nn,O=Ki();if(or){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),Fr===null)throw Error(r(349));(Gn&124)!==0||IW(w,d,p)}O.memoizedState=p;var j={value:p,getSnapshot:d};return O.queue=j,WW(kW.bind(null,w,j,l),[l]),w.flags|=2048,lp(9,HS(),PW.bind(null,w,j,p,d),null),p},useId:function(){var l=Ki(),d=Fr.identifierPrefix;if(or){var p=yc,w=vc;p=(w&~(1<<32-gt(w)-1)).toString(32)+p,d="«"+d+"R"+p,p=$S++,0<p&&(d+="H"+p.toString(32)),d+="»"}else p=a5e++,d="«"+d+"r"+p.toString(32)+"»";return l.memoizedState=d},useHostTransitionStatus:nP,useFormState:$W,useActionState:$W,useOptimistic:function(l){var d=Ki();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=rP.bind(null,Nn,!0,p),p.dispatch=d,[l,d]},useMemoCache:qI,useCacheRefresh:function(){return Ki().memoizedState=h5e.bind(null,Nn)}},u6={readContext:wi,use:zS,useCallback:JW,useContext:wi,useEffect:KW,useImperativeHandle:ZW,useInsertionEffect:qW,useLayoutEffect:YW,useMemo:QW,useReducer:US,useRef:GW,useState:function(){return US(Sc)},useDebugValue:QI,useDeferredValue:function(l,d){var p=Oo();return e6(p,Or.memoizedState,l,d)},useTransition:function(){var l=US(Sc)[0],d=Oo().memoizedState;return[typeof l=="boolean"?l:mv(l),d]},useSyncExternalStore:RW,useId:o6,useHostTransitionStatus:nP,useFormState:zW,useActionState:zW,useOptimistic:function(l,d){var p=Oo();return LW(p,Or,l,d)},useMemoCache:qI,useCacheRefresh:i6},p5e={readContext:wi,use:zS,useCallback:JW,useContext:wi,useEffect:KW,useImperativeHandle:ZW,useInsertionEffect:qW,useLayoutEffect:YW,useMemo:QW,useReducer:XI,useRef:GW,useState:function(){return XI(Sc)},useDebugValue:QI,useDeferredValue:function(l,d){var p=Oo();return Or===null?eP(p,l,d):e6(p,Or.memoizedState,l,d)},useTransition:function(){var l=XI(Sc)[0],d=Oo().memoizedState;return[typeof l=="boolean"?l:mv(l),d]},useSyncExternalStore:RW,useId:o6,useHostTransitionStatus:nP,useFormState:HW,useActionState:HW,useOptimistic:function(l,d){var p=Oo();return Or!==null?LW(p,Or,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:qI,useCacheRefresh:i6},cp=null,bv=0;function qS(l){var d=bv;return bv+=1,cp===null&&(cp=[]),SW(cp,l,d)}function wv(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function YS(l,d){throw d.$$typeof===f?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function d6(l){var d=l._init;return d(l._payload)}function h6(l){function d(De,_e){if(l){var Ne=De.deletions;Ne===null?(De.deletions=[_e],De.flags|=16):Ne.push(_e)}}function p(De,_e){if(!l)return null;for(;_e!==null;)d(De,_e),_e=_e.sibling;return null}function w(De){for(var _e=new Map;De!==null;)De.key!==null?_e.set(De.key,De):_e.set(De.index,De),De=De.sibling;return _e}function O(De,_e){return De=mc(De,_e),De.index=0,De.sibling=null,De}function j(De,_e,Ne){return De.index=Ne,l?(Ne=De.alternate,Ne!==null?(Ne=Ne.index,Ne<_e?(De.flags|=67108866,_e):Ne):(De.flags|=67108866,_e)):(De.flags|=1048576,_e)}function Q(De){return l&&De.alternate===null&&(De.flags|=67108866),De}function se(De,_e,Ne,it){return _e===null||_e.tag!==6?(_e=_I(Ne,De.mode,it),_e.return=De,_e):(_e=O(_e,Ne),_e.return=De,_e)}function ve(De,_e,Ne,it){var Yt=Ne.type;return Yt===y?nt(De,_e,Ne.props.children,it,Ne.key):_e!==null&&(_e.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===P&&d6(Yt)===_e.type)?(_e=O(_e,Ne.props),wv(_e,Ne),_e.return=De,_e):(_e=PS(Ne.type,Ne.key,Ne.props,null,De.mode,it),wv(_e,Ne),_e.return=De,_e)}function Be(De,_e,Ne,it){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ne.containerInfo||_e.stateNode.implementation!==Ne.implementation?(_e=EI(Ne,De.mode,it),_e.return=De,_e):(_e=O(_e,Ne.children||[]),_e.return=De,_e)}function nt(De,_e,Ne,it,Yt){return _e===null||_e.tag!==7?(_e=ph(Ne,De.mode,it,Yt),_e.return=De,_e):(_e=O(_e,Ne),_e.return=De,_e)}function lt(De,_e,Ne){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=_I(""+_e,De.mode,Ne),_e.return=De,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return Ne=PS(_e.type,_e.key,_e.props,null,De.mode,Ne),wv(Ne,_e),Ne.return=De,Ne;case m:return _e=EI(_e,De.mode,Ne),_e.return=De,_e;case P:var it=_e._init;return _e=it(_e._payload),lt(De,_e,Ne)}if(W(_e)||B(_e))return _e=ph(_e,De.mode,Ne,null),_e.return=De,_e;if(typeof _e.then=="function")return lt(De,qS(_e),Ne);if(_e.$$typeof===T)return lt(De,LS(De,_e),Ne);YS(De,_e)}return null}function ze(De,_e,Ne,it){var Yt=_e!==null?_e.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Yt!==null?null:se(De,_e,""+Ne,it);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:return Ne.key===Yt?ve(De,_e,Ne,it):null;case m:return Ne.key===Yt?Be(De,_e,Ne,it):null;case P:return Yt=Ne._init,Ne=Yt(Ne._payload),ze(De,_e,Ne,it)}if(W(Ne)||B(Ne))return Yt!==null?null:nt(De,_e,Ne,it,null);if(typeof Ne.then=="function")return ze(De,_e,qS(Ne),it);if(Ne.$$typeof===T)return ze(De,_e,LS(De,Ne),it);YS(De,Ne)}return null}function He(De,_e,Ne,it,Yt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return De=De.get(Ne)||null,se(_e,De,""+it,Yt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case g:return De=De.get(it.key===null?Ne:it.key)||null,ve(_e,De,it,Yt);case m:return De=De.get(it.key===null?Ne:it.key)||null,Be(_e,De,it,Yt);case P:var Fn=it._init;return it=Fn(it._payload),He(De,_e,Ne,it,Yt)}if(W(it)||B(it))return De=De.get(Ne)||null,nt(_e,De,it,Yt,null);if(typeof it.then=="function")return He(De,_e,Ne,qS(it),Yt);if(it.$$typeof===T)return He(De,_e,Ne,LS(_e,it),Yt);YS(_e,it)}return null}function mn(De,_e,Ne,it){for(var Yt=null,Fn=null,ln=_e,gn=_e=0,Zo=null;ln!==null&&gn<Ne.length;gn++){ln.index>gn?(Zo=ln,ln=null):Zo=ln.sibling;var er=ze(De,ln,Ne[gn],it);if(er===null){ln===null&&(ln=Zo);break}l&&ln&&er.alternate===null&&d(De,ln),_e=j(er,_e,gn),Fn===null?Yt=er:Fn.sibling=er,Fn=er,ln=Zo}if(gn===Ne.length)return p(De,ln),or&&mh(De,gn),Yt;if(ln===null){for(;gn<Ne.length;gn++)ln=lt(De,Ne[gn],it),ln!==null&&(_e=j(ln,_e,gn),Fn===null?Yt=ln:Fn.sibling=ln,Fn=ln);return or&&mh(De,gn),Yt}for(ln=w(ln);gn<Ne.length;gn++)Zo=He(ln,De,gn,Ne[gn],it),Zo!==null&&(l&&Zo.alternate!==null&&ln.delete(Zo.key===null?gn:Zo.key),_e=j(Zo,_e,gn),Fn===null?Yt=Zo:Fn.sibling=Zo,Fn=Zo);return l&&ln.forEach(function(Hu){return d(De,Hu)}),or&&mh(De,gn),Yt}function fn(De,_e,Ne,it){if(Ne==null)throw Error(r(151));for(var Yt=null,Fn=null,ln=_e,gn=_e=0,Zo=null,er=Ne.next();ln!==null&&!er.done;gn++,er=Ne.next()){ln.index>gn?(Zo=ln,ln=null):Zo=ln.sibling;var Hu=ze(De,ln,er.value,it);if(Hu===null){ln===null&&(ln=Zo);break}l&&ln&&Hu.alternate===null&&d(De,ln),_e=j(Hu,_e,gn),Fn===null?Yt=Hu:Fn.sibling=Hu,Fn=Hu,ln=Zo}if(er.done)return p(De,ln),or&&mh(De,gn),Yt;if(ln===null){for(;!er.done;gn++,er=Ne.next())er=lt(De,er.value,it),er!==null&&(_e=j(er,_e,gn),Fn===null?Yt=er:Fn.sibling=er,Fn=er);return or&&mh(De,gn),Yt}for(ln=w(ln);!er.done;gn++,er=Ne.next())er=He(ln,De,gn,er.value,it),er!==null&&(l&&er.alternate!==null&&ln.delete(er.key===null?gn:er.key),_e=j(er,_e,gn),Fn===null?Yt=er:Fn.sibling=er,Fn=er);return l&&ln.forEach(function(g4e){return d(De,g4e)}),or&&mh(De,gn),Yt}function Ir(De,_e,Ne,it){if(typeof Ne=="object"&&Ne!==null&&Ne.type===y&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case g:e:{for(var Yt=Ne.key;_e!==null;){if(_e.key===Yt){if(Yt=Ne.type,Yt===y){if(_e.tag===7){p(De,_e.sibling),it=O(_e,Ne.props.children),it.return=De,De=it;break e}}else if(_e.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===P&&d6(Yt)===_e.type){p(De,_e.sibling),it=O(_e,Ne.props),wv(it,Ne),it.return=De,De=it;break e}p(De,_e);break}else d(De,_e);_e=_e.sibling}Ne.type===y?(it=ph(Ne.props.children,De.mode,it,Ne.key),it.return=De,De=it):(it=PS(Ne.type,Ne.key,Ne.props,null,De.mode,it),wv(it,Ne),it.return=De,De=it)}return Q(De);case m:e:{for(Yt=Ne.key;_e!==null;){if(_e.key===Yt)if(_e.tag===4&&_e.stateNode.containerInfo===Ne.containerInfo&&_e.stateNode.implementation===Ne.implementation){p(De,_e.sibling),it=O(_e,Ne.children||[]),it.return=De,De=it;break e}else{p(De,_e);break}else d(De,_e);_e=_e.sibling}it=EI(Ne,De.mode,it),it.return=De,De=it}return Q(De);case P:return Yt=Ne._init,Ne=Yt(Ne._payload),Ir(De,_e,Ne,it)}if(W(Ne))return mn(De,_e,Ne,it);if(B(Ne)){if(Yt=B(Ne),typeof Yt!="function")throw Error(r(150));return Ne=Yt.call(Ne),fn(De,_e,Ne,it)}if(typeof Ne.then=="function")return Ir(De,_e,qS(Ne),it);if(Ne.$$typeof===T)return Ir(De,_e,LS(De,Ne),it);YS(De,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,_e!==null&&_e.tag===6?(p(De,_e.sibling),it=O(_e,Ne),it.return=De,De=it):(p(De,_e),it=_I(Ne,De.mode,it),it.return=De,De=it),Q(De)):p(De,_e)}return function(De,_e,Ne,it){try{bv=0;var Yt=Ir(De,_e,Ne,it);return cp=null,Yt}catch(ln){if(ln===uv||ln===BS)throw ln;var Fn=bs(29,ln,null,De.mode);return Fn.lanes=it,Fn.return=De,Fn}finally{}}}var up=h6(!0),f6=h6(!1),ca=K(null),Pl=null;function Ru(l){var d=l.alternate;le(Vo,Vo.current&1),le(ca,l),Pl===null&&(d===null||ip.current!==null||d.memoizedState!==null)&&(Pl=l)}function p6(l){if(l.tag===22){if(le(Vo,Vo.current),le(ca,l),Pl===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Pl=l)}}else Iu()}function Iu(){le(Vo,Vo.current),le(ca,ca.current)}function Cc(l){Z(ca),Pl===l&&(Pl=null),Z(Vo)}var Vo=K(0);function XS(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||KP(p)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function oP(l,d,p,w){d=l.memoizedState,p=p(w,d),p=p==null?d:h({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var iP={enqueueSetState:function(l,d,p){l=l._reactInternals;var w=xs(),O=Tu(w);O.payload=d,p!=null&&(O.callback=p),d=Mu(l,O,w),d!==null&&(_s(d,l,w),hv(d,l,w))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var w=xs(),O=Tu(w);O.tag=1,O.payload=d,p!=null&&(O.callback=p),d=Mu(l,O,w),d!==null&&(_s(d,l,w),hv(d,l,w))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=xs(),w=Tu(p);w.tag=2,d!=null&&(w.callback=d),d=Mu(l,w,p),d!==null&&(_s(d,l,p),hv(d,l,p))}};function g6(l,d,p,w,O,j,Q){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,j,Q):d.prototype&&d.prototype.isPureReactComponent?!F(p,w)||!F(O,j):!0}function m6(l,d,p,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,w),d.state!==l&&iP.enqueueReplaceState(d,d.state,null)}function xh(l,d){var p=d;if("ref"in d){p={};for(var w in d)w!=="ref"&&(p[w]=d[w])}if(l=l.defaultProps){p===d&&(p=h({},p));for(var O in l)p[O]===void 0&&(p[O]=l[O])}return p}var ZS=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function v6(l){ZS(l)}function y6(l){console.error(l)}function b6(l){ZS(l)}function JS(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(w){setTimeout(function(){throw w})}}function w6(l,d,p){try{var w=l.onCaughtError;w(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function sP(l,d,p){return p=Tu(p),p.tag=3,p.payload={element:null},p.callback=function(){JS(l,d)},p}function S6(l){return l=Tu(l),l.tag=3,l}function C6(l,d,p,w){var O=p.type.getDerivedStateFromError;if(typeof O=="function"){var j=w.value;l.payload=function(){return O(j)},l.callback=function(){w6(d,p,w)}}var Q=p.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(l.callback=function(){w6(d,p,w),typeof O!="function"&&(Nu===null?Nu=new Set([this]):Nu.add(this));var se=w.stack;this.componentDidCatch(w.value,{componentStack:se!==null?se:""})})}function g5e(l,d,p,w,O){if(p.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(d=p.alternate,d!==null&&av(d,p,O,!0),p=ca.current,p!==null){switch(p.tag){case 13:return Pl===null?IP():p.alternate===null&&po===0&&(po=3),p.flags&=-257,p.flags|=65536,p.lanes=O,w===LI?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([w]):d.add(w),kP(l,w,O)),!1;case 22:return p.flags|=65536,w===LI?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([w])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([w]):p.add(w)),kP(l,w,O)),!1}throw Error(r(435,p.tag))}return kP(l,w,O),IP(),!1}if(or)return d=ca.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,w!==OI&&(l=Error(r(422),{cause:w}),sv(dr(l,p)))):(w!==OI&&(d=Error(r(423),{cause:w}),sv(dr(d,p))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,w=dr(w,p),O=sP(l.stateNode,w,O),FI(l,O),po!==4&&(po=2)),!1;var j=Error(r(520),{cause:w});if(j=dr(j,p),Mv===null?Mv=[j]:Mv.push(j),po!==4&&(po=2),d===null)return!0;w=dr(w,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=O&-O,p.lanes|=l,l=sP(p.stateNode,w,l),FI(p,l),!1;case 1:if(d=p.type,j=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Nu===null||!Nu.has(j))))return p.flags|=65536,O&=-O,p.lanes|=O,O=S6(O),C6(O,l,p,w),FI(p,O),!1}p=p.return}while(p!==null);return!1}var x6=Error(r(461)),Yo=!1;function li(l,d,p,w){d.child=l===null?f6(d,null,p,w):up(d,l.child,p,w)}function _6(l,d,p,w,O){p=p.render;var j=d.ref;if("ref"in w){var Q={};for(var se in w)se!=="ref"&&(Q[se]=w[se])}else Q=w;return wh(d),w=UI(l,d,p,Q,j,O),se=HI(),l!==null&&!Yo?(GI(l,d,O),xc(l,d,O)):(or&&se&&TI(d),d.flags|=1,li(l,d,w,O),d.child)}function E6(l,d,p,w,O){if(l===null){var j=p.type;return typeof j=="function"&&!xI(j)&&j.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=j,T6(l,d,j,w,O)):(l=PS(p.type,null,w,d,d.mode,O),l.ref=d.ref,l.return=d,d.child=l)}if(j=l.child,!pP(l,O)){var Q=j.memoizedProps;if(p=p.compare,p=p!==null?p:F,p(Q,w)&&l.ref===d.ref)return xc(l,d,O)}return d.flags|=1,l=mc(j,w),l.ref=d.ref,l.return=d,d.child=l}function T6(l,d,p,w,O){if(l!==null){var j=l.memoizedProps;if(F(j,w)&&l.ref===d.ref)if(Yo=!1,d.pendingProps=w=j,pP(l,O))(l.flags&131072)!==0&&(Yo=!0);else return d.lanes=l.lanes,xc(l,d,O)}return aP(l,d,p,w,O)}function M6(l,d,p){var w=d.pendingProps,O=w.children,j=l!==null?l.memoizedState:null;if(w.mode==="hidden"){if((d.flags&128)!==0){if(w=j!==null?j.baseLanes|p:p,l!==null){for(O=d.child=l.child,j=0;O!==null;)j=j|O.lanes|O.childLanes,O=O.sibling;d.childLanes=j&~w}else d.childLanes=0,d.child=null;return O6(l,d,w,p)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&NS(d,j!==null?j.cachePool:null),j!==null?TW(d,j):VI(),p6(d);else return d.lanes=d.childLanes=536870912,O6(l,d,j!==null?j.baseLanes|p:p,p)}else j!==null?(NS(d,j.cachePool),TW(d,j),Iu(),d.memoizedState=null):(l!==null&&NS(d,null),VI(),Iu());return li(l,d,O,p),d.child}function O6(l,d,p,w){var O=AI();return O=O===null?null:{parent:jo._currentValue,pool:O},d.memoizedState={baseLanes:p,cachePool:O},l!==null&&NS(d,null),VI(),p6(d),l!==null&&av(l,d,w,!0),null}function QS(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function aP(l,d,p,w,O){return wh(d),p=UI(l,d,p,w,void 0,O),w=HI(),l!==null&&!Yo?(GI(l,d,O),xc(l,d,O)):(or&&w&&TI(d),d.flags|=1,li(l,d,p,O),d.child)}function R6(l,d,p,w,O,j){return wh(d),d.updateQueue=null,p=OW(d,w,p,O),MW(l),w=HI(),l!==null&&!Yo?(GI(l,d,j),xc(l,d,j)):(or&&w&&TI(d),d.flags|=1,li(l,d,p,j),d.child)}function I6(l,d,p,w,O){if(wh(d),d.stateNode===null){var j=ys,Q=p.contextType;typeof Q=="object"&&Q!==null&&(j=wi(Q)),j=new p(w,j),d.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=iP,d.stateNode=j,j._reactInternals=d,j=d.stateNode,j.props=w,j.state=d.memoizedState,j.refs={},NI(d),Q=p.contextType,j.context=typeof Q=="object"&&Q!==null?wi(Q):ys,j.state=d.memoizedState,Q=p.getDerivedStateFromProps,typeof Q=="function"&&(oP(d,p,Q,w),j.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(Q=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),Q!==j.state&&iP.enqueueReplaceState(j,j.state,null),pv(d,w,j,O),fv(),j.state=d.memoizedState),typeof j.componentDidMount=="function"&&(d.flags|=4194308),w=!0}else if(l===null){j=d.stateNode;var se=d.memoizedProps,ve=xh(p,se);j.props=ve;var Be=j.context,nt=p.contextType;Q=ys,typeof nt=="object"&&nt!==null&&(Q=wi(nt));var lt=p.getDerivedStateFromProps;nt=typeof lt=="function"||typeof j.getSnapshotBeforeUpdate=="function",se=d.pendingProps!==se,nt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(se||Be!==Q)&&m6(d,j,w,Q),Eu=!1;var ze=d.memoizedState;j.state=ze,pv(d,w,j,O),fv(),Be=d.memoizedState,se||ze!==Be||Eu?(typeof lt=="function"&&(oP(d,p,lt,w),Be=d.memoizedState),(ve=Eu||g6(d,p,ve,w,ze,Be,Q))?(nt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(d.flags|=4194308)):(typeof j.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=Be),j.props=w,j.state=Be,j.context=Q,w=ve):(typeof j.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{j=d.stateNode,BI(l,d),Q=d.memoizedProps,nt=xh(p,Q),j.props=nt,lt=d.pendingProps,ze=j.context,Be=p.contextType,ve=ys,typeof Be=="object"&&Be!==null&&(ve=wi(Be)),se=p.getDerivedStateFromProps,(Be=typeof se=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Q!==lt||ze!==ve)&&m6(d,j,w,ve),Eu=!1,ze=d.memoizedState,j.state=ze,pv(d,w,j,O),fv();var He=d.memoizedState;Q!==lt||ze!==He||Eu||l!==null&&l.dependencies!==null&&AS(l.dependencies)?(typeof se=="function"&&(oP(d,p,se,w),He=d.memoizedState),(nt=Eu||g6(d,p,nt,w,ze,He,ve)||l!==null&&l.dependencies!==null&&AS(l.dependencies))?(Be||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,He,ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,He,ve)),typeof j.componentDidUpdate=="function"&&(d.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof j.componentDidUpdate!="function"||Q===l.memoizedProps&&ze===l.memoizedState||(d.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&ze===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=He),j.props=w,j.state=He,j.context=ve,w=nt):(typeof j.componentDidUpdate!="function"||Q===l.memoizedProps&&ze===l.memoizedState||(d.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Q===l.memoizedProps&&ze===l.memoizedState||(d.flags|=1024),w=!1)}return j=w,QS(l,d),w=(d.flags&128)!==0,j||w?(j=d.stateNode,p=w&&typeof p.getDerivedStateFromError!="function"?null:j.render(),d.flags|=1,l!==null&&w?(d.child=up(d,l.child,null,O),d.child=up(d,null,p,O)):li(l,d,p,O),d.memoizedState=j.state,l=d.child):l=xc(l,d,O),l}function P6(l,d,p,w){return iv(),d.flags|=256,li(l,d,p,w),d.child}var lP={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cP(l){return{baseLanes:l,cachePool:yW()}}function uP(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=ua),l}function k6(l,d,p){var w=d.pendingProps,O=!1,j=(d.flags&128)!==0,Q;if((Q=j)||(Q=l!==null&&l.memoizedState===null?!1:(Vo.current&2)!==0),Q&&(O=!0,d.flags&=-129),Q=(d.flags&32)!==0,d.flags&=-33,l===null){if(or){if(O?Ru(d):Iu(),or){var se=fo,ve;if(ve=se){e:{for(ve=se,se=Il;ve.nodeType!==8;){if(!se){se=null;break e}if(ve=Va(ve.nextSibling),ve===null){se=null;break e}}se=ve}se!==null?(d.memoizedState={dehydrated:se,treeContext:gh!==null?{id:vc,overflow:yc}:null,retryLane:536870912,hydrationErrors:null},ve=bs(18,null,null,0),ve.stateNode=se,ve.return=d,d.child=ve,Di=d,fo=null,ve=!0):ve=!1}ve||yh(d)}if(se=d.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return KP(se)?d.lanes=32:d.lanes=536870912,null;Cc(d)}return se=w.children,w=w.fallback,O?(Iu(),O=d.mode,se=eC({mode:"hidden",children:se},O),w=ph(w,O,p,null),se.return=d,w.return=d,se.sibling=w,d.child=se,O=d.child,O.memoizedState=cP(p),O.childLanes=uP(l,Q,p),d.memoizedState=lP,w):(Ru(d),dP(d,se))}if(ve=l.memoizedState,ve!==null&&(se=ve.dehydrated,se!==null)){if(j)d.flags&256?(Ru(d),d.flags&=-257,d=hP(l,d,p)):d.memoizedState!==null?(Iu(),d.child=l.child,d.flags|=128,d=null):(Iu(),O=w.fallback,se=d.mode,w=eC({mode:"visible",children:w.children},se),O=ph(O,se,p,null),O.flags|=2,w.return=d,O.return=d,w.sibling=O,d.child=w,up(d,l.child,null,p),w=d.child,w.memoizedState=cP(p),w.childLanes=uP(l,Q,p),d.memoizedState=lP,d=O);else if(Ru(d),KP(se)){if(Q=se.nextSibling&&se.nextSibling.dataset,Q)var Be=Q.dgst;Q=Be,w=Error(r(419)),w.stack="",w.digest=Q,sv({value:w,source:null,stack:null}),d=hP(l,d,p)}else if(Yo||av(l,d,p,!1),Q=(p&l.childLanes)!==0,Yo||Q){if(Q=Fr,Q!==null&&(w=p&-p,w=(w&42)!==0?1:Br(w),w=(w&(Q.suspendedLanes|p))!==0?0:w,w!==0&&w!==ve.retryLane))throw ve.retryLane=w,jt(l,w),_s(Q,l,w),x6;se.data==="$?"||IP(),d=hP(l,d,p)}else se.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=ve.treeContext,fo=Va(se.nextSibling),Di=d,or=!0,vh=null,Il=!1,l!==null&&(aa[la++]=vc,aa[la++]=yc,aa[la++]=gh,vc=l.id,yc=l.overflow,gh=d),d=dP(d,w.children),d.flags|=4096);return d}return O?(Iu(),O=w.fallback,se=d.mode,ve=l.child,Be=ve.sibling,w=mc(ve,{mode:"hidden",children:w.children}),w.subtreeFlags=ve.subtreeFlags&65011712,Be!==null?O=mc(Be,O):(O=ph(O,se,p,null),O.flags|=2),O.return=d,w.return=d,w.sibling=O,d.child=w,w=O,O=d.child,se=l.child.memoizedState,se===null?se=cP(p):(ve=se.cachePool,ve!==null?(Be=jo._currentValue,ve=ve.parent!==Be?{parent:Be,pool:Be}:ve):ve=yW(),se={baseLanes:se.baseLanes|p,cachePool:ve}),O.memoizedState=se,O.childLanes=uP(l,Q,p),d.memoizedState=lP,w):(Ru(d),p=l.child,l=p.sibling,p=mc(p,{mode:"visible",children:w.children}),p.return=d,p.sibling=null,l!==null&&(Q=d.deletions,Q===null?(d.deletions=[l],d.flags|=16):Q.push(l)),d.child=p,d.memoizedState=null,p)}function dP(l,d){return d=eC({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function eC(l,d){return l=bs(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function hP(l,d,p){return up(d,l.child,null,p),l=dP(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function D6(l,d,p){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),II(l.return,d,p)}function fP(l,d,p,w,O){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:O}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=p,j.tailMode=O)}function A6(l,d,p){var w=d.pendingProps,O=w.revealOrder,j=w.tail;if(li(l,d,w.children,p),w=Vo.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&D6(l,p,d);else if(l.tag===19)D6(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}switch(le(Vo,w),O){case"forwards":for(p=d.child,O=null;p!==null;)l=p.alternate,l!==null&&XS(l)===null&&(O=p),p=p.sibling;p=O,p===null?(O=d.child,d.child=null):(O=p.sibling,p.sibling=null),fP(d,!1,O,p,j);break;case"backwards":for(p=null,O=d.child,d.child=null;O!==null;){if(l=O.alternate,l!==null&&XS(l)===null){d.child=O;break}l=O.sibling,O.sibling=p,p=O,O=l}fP(d,!0,p,null,j);break;case"together":fP(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function xc(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),Lu|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(av(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=mc(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=mc(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function pP(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&AS(l)))}function m5e(l,d,p){switch(d.tag){case 3:Me(d,d.stateNode.containerInfo),_u(d,jo,l.memoizedState.cache),iv();break;case 27:case 5:he(d);break;case 4:Me(d,d.stateNode.containerInfo);break;case 10:_u(d,d.type,d.memoizedProps.value);break;case 13:var w=d.memoizedState;if(w!==null)return w.dehydrated!==null?(Ru(d),d.flags|=128,null):(p&d.child.childLanes)!==0?k6(l,d,p):(Ru(d),l=xc(l,d,p),l!==null?l.sibling:null);Ru(d);break;case 19:var O=(l.flags&128)!==0;if(w=(p&d.childLanes)!==0,w||(av(l,d,p,!1),w=(p&d.childLanes)!==0),O){if(w)return A6(l,d,p);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),le(Vo,Vo.current),w)break;return null;case 22:case 23:return d.lanes=0,M6(l,d,p);case 24:_u(d,jo,l.memoizedState.cache)}return xc(l,d,p)}function L6(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)Yo=!0;else{if(!pP(l,p)&&(d.flags&128)===0)return Yo=!1,m5e(l,d,p);Yo=(l.flags&131072)!==0}else Yo=!1,or&&(d.flags&1048576)!==0&&dW(d,DS,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var w=d.elementType,O=w._init;if(w=O(w._payload),d.type=w,typeof w=="function")xI(w)?(l=xh(w,l),d.tag=1,d=I6(null,d,w,l,p)):(d.tag=0,d=aP(null,d,w,l,p));else{if(w!=null){if(O=w.$$typeof,O===R){d.tag=11,d=_6(null,d,w,l,p);break e}else if(O===N){d.tag=14,d=E6(null,d,w,l,p);break e}}throw d=q(w)||w,Error(r(306,d,""))}}return d;case 0:return aP(l,d,d.type,d.pendingProps,p);case 1:return w=d.type,O=xh(w,d.pendingProps),I6(l,d,w,O,p);case 3:e:{if(Me(d,d.stateNode.containerInfo),l===null)throw Error(r(387));w=d.pendingProps;var j=d.memoizedState;O=j.element,BI(l,d),pv(d,w,null,p);var Q=d.memoizedState;if(w=Q.cache,_u(d,jo,w),w!==j.cache&&PI(d,[jo],p,!0),fv(),w=Q.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:Q.cache},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){d=P6(l,d,w,p);break e}else if(w!==O){O=dr(Error(r(424)),d),sv(O),d=P6(l,d,w,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(fo=Va(l.firstChild),Di=d,or=!0,vh=null,Il=!0,p=f6(d,null,w,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(iv(),w===O){d=xc(l,d,p);break e}li(l,d,w,p)}d=d.child}return d;case 26:return QS(l,d),l===null?(p=jK(d.type,null,d.pendingProps,null))?d.memoizedState=p:or||(p=d.type,l=d.pendingProps,w=pC(ae.current).createElement(p),w[rn]=d,w[nn]=l,ui(w,p,l),on(w),d.stateNode=w):d.memoizedState=jK(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return he(d),l===null&&or&&(w=d.stateNode=NK(d.type,d.pendingProps,ae.current),Di=d,Il=!0,O=fo,ju(d.type)?(qP=O,fo=Va(w.firstChild)):fo=O),li(l,d,d.pendingProps.children,p),QS(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&or&&((O=w=fo)&&(w=H5e(w,d.type,d.pendingProps,Il),w!==null?(d.stateNode=w,Di=d,fo=Va(w.firstChild),Il=!1,O=!0):O=!1),O||yh(d)),he(d),O=d.type,j=d.pendingProps,Q=l!==null?l.memoizedProps:null,w=j.children,HP(O,j)?w=null:Q!==null&&HP(O,Q)&&(d.flags|=32),d.memoizedState!==null&&(O=UI(l,d,l5e,null,null,p),Nv._currentValue=O),QS(l,d),li(l,d,w,p),d.child;case 6:return l===null&&or&&((l=p=fo)&&(p=G5e(p,d.pendingProps,Il),p!==null?(d.stateNode=p,Di=d,fo=null,l=!0):l=!1),l||yh(d)),null;case 13:return k6(l,d,p);case 4:return Me(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=up(d,null,w,p):li(l,d,w,p),d.child;case 11:return _6(l,d,d.type,d.pendingProps,p);case 7:return li(l,d,d.pendingProps,p),d.child;case 8:return li(l,d,d.pendingProps.children,p),d.child;case 12:return li(l,d,d.pendingProps.children,p),d.child;case 10:return w=d.pendingProps,_u(d,d.type,w.value),li(l,d,w.children,p),d.child;case 9:return O=d.type._context,w=d.pendingProps.children,wh(d),O=wi(O),w=w(O),d.flags|=1,li(l,d,w,p),d.child;case 14:return E6(l,d,d.type,d.pendingProps,p);case 15:return T6(l,d,d.type,d.pendingProps,p);case 19:return A6(l,d,p);case 31:return w=d.pendingProps,p=d.mode,w={mode:w.mode,children:w.children},l===null?(p=eC(w,p),p.ref=d.ref,d.child=p,p.return=d,d=p):(p=mc(l.child,w),p.ref=d.ref,d.child=p,p.return=d,d=p),d;case 22:return M6(l,d,p);case 24:return wh(d),w=wi(jo),l===null?(O=AI(),O===null&&(O=Fr,j=kI(),O.pooledCache=j,j.refCount++,j!==null&&(O.pooledCacheLanes|=p),O=j),d.memoizedState={parent:w,cache:O},NI(d),_u(d,jo,O)):((l.lanes&p)!==0&&(BI(l,d),pv(d,null,null,p),fv()),O=l.memoizedState,j=d.memoizedState,O.parent!==w?(O={parent:w,cache:w},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),_u(d,jo,w)):(w=j.cache,_u(d,jo,w),w!==O.cache&&PI(d,[jo],p,!0))),li(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function _c(l){l.flags|=4}function N6(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!HK(d)){if(d=ca.current,d!==null&&((Gn&4194048)===Gn?Pl!==null:(Gn&62914560)!==Gn&&(Gn&536870912)===0||d!==Pl))throw dv=LI,bW;l.flags|=8192}}function tC(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?An():536870912,l.lanes|=d,pp|=d)}function Sv(l,d){if(!or)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function oo(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,w=0;if(d)for(var O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=w,l.childLanes=p,d}function v5e(l,d,p){var w=d.pendingProps;switch(MI(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(d),null;case 1:return oo(d),null;case 3:return p=d.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),d.memoizedState.cache!==w&&(d.flags|=2048),wc(jo),xe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(ov(d)?_c(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,pW())),oo(d),null;case 26:return p=d.memoizedState,l===null?(_c(d),p!==null?(oo(d),N6(d,p)):(oo(d),d.flags&=-16777217)):p?p!==l.memoizedState?(_c(d),oo(d),N6(d,p)):(oo(d),d.flags&=-16777217):(l.memoizedProps!==w&&_c(d),oo(d),d.flags&=-16777217),null;case 27:pe(d),p=ae.current;var O=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==w&&_c(d);else{if(!w){if(d.stateNode===null)throw Error(r(166));return oo(d),null}l=ce.current,ov(d)?hW(d):(l=NK(O,w,p),d.stateNode=l,_c(d))}return oo(d),null;case 5:if(pe(d),p=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==w&&_c(d);else{if(!w){if(d.stateNode===null)throw Error(r(166));return oo(d),null}if(l=ce.current,ov(d))hW(d);else{switch(O=pC(ae.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?l.multiple=!0:w.size&&(l.size=w.size);break;default:l=typeof w.is=="string"?O.createElement(p,{is:w.is}):O.createElement(p)}}l[rn]=d,l[nn]=w;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=l;e:switch(ui(l,p,w),p){case"button":case"input":case"select":case"textarea":l=!!w.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_c(d)}}return oo(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==w&&_c(d);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(l=ae.current,ov(d)){if(l=d.stateNode,p=d.memoizedProps,w=null,O=Di,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}l[rn]=d,l=!!(l.nodeValue===p||w!==null&&w.suppressHydrationWarning===!0||RK(l.nodeValue,p)),l||yh(d)}else l=pC(l).createTextNode(w),l[rn]=d,d.stateNode=l}return oo(d),null;case 13:if(w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=ov(d),w!==null&&w.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[rn]=d}else iv(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;oo(d),O=!1}else O=pW(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(Cc(d),d):(Cc(d),null)}if(Cc(d),(d.flags&128)!==0)return d.lanes=p,d;if(p=w!==null,l=l!==null&&l.memoizedState!==null,p){w=d.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var j=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(j=w.memoizedState.cachePool.pool),j!==O&&(w.flags|=2048)}return p!==l&&p&&(d.child.flags|=8192),tC(d,d.updateQueue),oo(d),null;case 4:return xe(),l===null&&jP(d.stateNode.containerInfo),oo(d),null;case 10:return wc(d.type),oo(d),null;case 19:if(Z(Vo),O=d.memoizedState,O===null)return oo(d),null;if(w=(d.flags&128)!==0,j=O.rendering,j===null)if(w)Sv(O,!1);else{if(po!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(j=XS(l),j!==null){for(d.flags|=128,Sv(O,!1),l=j.updateQueue,d.updateQueue=l,tC(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)uW(p,l),p=p.sibling;return le(Vo,Vo.current&1|2),d.child}l=l.sibling}O.tail!==null&&rt()>oC&&(d.flags|=128,w=!0,Sv(O,!1),d.lanes=4194304)}else{if(!w)if(l=XS(j),l!==null){if(d.flags|=128,w=!0,l=l.updateQueue,d.updateQueue=l,tC(d,l),Sv(O,!0),O.tail===null&&O.tailMode==="hidden"&&!j.alternate&&!or)return oo(d),null}else 2*rt()-O.renderingStartTime>oC&&p!==536870912&&(d.flags|=128,w=!0,Sv(O,!1),d.lanes=4194304);O.isBackwards?(j.sibling=d.child,d.child=j):(l=O.last,l!==null?l.sibling=j:d.child=j,O.last=j)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=rt(),d.sibling=null,l=Vo.current,le(Vo,w?l&1|2:l&1),d):(oo(d),null);case 22:case 23:return Cc(d),$I(),w=d.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(d.flags|=8192):w&&(d.flags|=8192),w?(p&536870912)!==0&&(d.flags&128)===0&&(oo(d),d.subtreeFlags&6&&(d.flags|=8192)):oo(d),p=d.updateQueue,p!==null&&tC(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==p&&(d.flags|=2048),l!==null&&Z(Sh),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),wc(jo),oo(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function y5e(l,d){switch(MI(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return wc(jo),xe(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return pe(d),null;case 13:if(Cc(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));iv()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Z(Vo),null;case 4:return xe(),null;case 10:return wc(d.type),null;case 22:case 23:return Cc(d),$I(),l!==null&&Z(Sh),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return wc(jo),null;case 25:return null;default:return null}}function B6(l,d){switch(MI(d),d.tag){case 3:wc(jo),xe();break;case 26:case 27:case 5:pe(d);break;case 4:xe();break;case 13:Cc(d);break;case 19:Z(Vo);break;case 10:wc(d.type);break;case 22:case 23:Cc(d),$I(),l!==null&&Z(Sh);break;case 24:wc(jo)}}function Cv(l,d){try{var p=d.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var O=w.next;p=O;do{if((p.tag&l)===l){w=void 0;var j=p.create,Q=p.inst;w=j(),Q.destroy=w}p=p.next}while(p!==O)}}catch(se){Dr(d,d.return,se)}}function Pu(l,d,p){try{var w=d.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var j=O.next;w=j;do{if((w.tag&l)===l){var Q=w.inst,se=Q.destroy;if(se!==void 0){Q.destroy=void 0,O=d;var ve=p,Be=se;try{Be()}catch(nt){Dr(O,ve,nt)}}}w=w.next}while(w!==j)}}catch(nt){Dr(d,d.return,nt)}}function F6(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{EW(d,p)}catch(w){Dr(l,l.return,w)}}}function j6(l,d,p){p.props=xh(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(w){Dr(l,d,w)}}function xv(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var w=l.stateNode;break;case 30:w=l.stateNode;break;default:w=l.stateNode}typeof p=="function"?l.refCleanup=p(w):p.current=w}}catch(O){Dr(l,d,O)}}function kl(l,d){var p=l.ref,w=l.refCleanup;if(p!==null)if(typeof w=="function")try{w()}catch(O){Dr(l,d,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(O){Dr(l,d,O)}else p.current=null}function V6(l){var d=l.type,p=l.memoizedProps,w=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&w.focus();break e;case"img":p.src?w.src=p.src:p.srcSet&&(w.srcset=p.srcSet)}}catch(O){Dr(l,l.return,O)}}function gP(l,d,p){try{var w=l.stateNode;j5e(w,l.type,p,d),w[nn]=d}catch(O){Dr(l,l.return,O)}}function $6(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ju(l.type)||l.tag===4}function mP(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||$6(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ju(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function vP(l,d,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=fC));else if(w!==4&&(w===27&&ju(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(vP(l,d,p),l=l.sibling;l!==null;)vP(l,d,p),l=l.sibling}function nC(l,d,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(w!==4&&(w===27&&ju(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(nC(l,d,p),l=l.sibling;l!==null;)nC(l,d,p),l=l.sibling}function z6(l){var d=l.stateNode,p=l.memoizedProps;try{for(var w=l.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);ui(d,w,p),d[rn]=l,d[nn]=p}catch(j){Dr(l,l.return,j)}}var Ec=!1,Co=!1,yP=!1,U6=typeof WeakSet=="function"?WeakSet:Set,Xo=null;function b5e(l,d){if(l=l.containerInfo,zP=wC,l=de(l),ge(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var O=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{p.nodeType,j.nodeType}catch{p=null;break e}var Q=0,se=-1,ve=-1,Be=0,nt=0,lt=l,ze=null;t:for(;;){for(var He;lt!==p||O!==0&&lt.nodeType!==3||(se=Q+O),lt!==j||w!==0&&lt.nodeType!==3||(ve=Q+w),lt.nodeType===3&&(Q+=lt.nodeValue.length),(He=lt.firstChild)!==null;)ze=lt,lt=He;for(;;){if(lt===l)break t;if(ze===p&&++Be===O&&(se=Q),ze===j&&++nt===w&&(ve=Q),(He=lt.nextSibling)!==null)break;lt=ze,ze=lt.parentNode}lt=He}p=se===-1||ve===-1?null:{start:se,end:ve}}else p=null}p=p||{start:0,end:0}}else p=null;for(UP={focusedElem:l,selectionRange:p},wC=!1,Xo=d;Xo!==null;)if(d=Xo,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,Xo=l;else for(;Xo!==null;){switch(d=Xo,j=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&j!==null){l=void 0,p=d,O=j.memoizedProps,j=j.memoizedState,w=p.stateNode;try{var mn=xh(p.type,O,p.elementType===p.type);l=w.getSnapshotBeforeUpdate(mn,j),w.__reactInternalSnapshotBeforeUpdate=l}catch(fn){Dr(p,p.return,fn)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)WP(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":WP(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Xo=l;break}Xo=d.return}}function H6(l,d,p){var w=p.flags;switch(p.tag){case 0:case 11:case 15:ku(l,p),w&4&&Cv(5,p);break;case 1:if(ku(l,p),w&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(Q){Dr(p,p.return,Q)}else{var O=xh(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(O,d,l.__reactInternalSnapshotBeforeUpdate)}catch(Q){Dr(p,p.return,Q)}}w&64&&F6(p),w&512&&xv(p,p.return);break;case 3:if(ku(l,p),w&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{EW(l,d)}catch(Q){Dr(p,p.return,Q)}}break;case 27:d===null&&w&4&&z6(p);case 26:case 5:ku(l,p),d===null&&w&4&&V6(p),w&512&&xv(p,p.return);break;case 12:ku(l,p);break;case 13:ku(l,p),w&4&&K6(l,p),w&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=O5e.bind(null,p),W5e(l,p))));break;case 22:if(w=p.memoizedState!==null||Ec,!w){d=d!==null&&d.memoizedState!==null||Co,O=Ec;var j=Co;Ec=w,(Co=d)&&!j?Du(l,p,(p.subtreeFlags&8772)!==0):ku(l,p),Ec=O,Co=j}break;case 30:break;default:ku(l,p)}}function G6(l){var d=l.alternate;d!==null&&(l.alternate=null,G6(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&kr(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var eo=null,qi=!1;function Tc(l,d,p){for(p=p.child;p!==null;)W6(l,d,p),p=p.sibling}function W6(l,d,p){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(zt,p)}catch{}switch(p.tag){case 26:Co||kl(p,d),Tc(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Co||kl(p,d);var w=eo,O=qi;ju(p.type)&&(eo=p.stateNode,qi=!1),Tc(l,d,p),kv(p.stateNode),eo=w,qi=O;break;case 5:Co||kl(p,d);case 6:if(w=eo,O=qi,eo=null,Tc(l,d,p),eo=w,qi=O,eo!==null)if(qi)try{(eo.nodeType===9?eo.body:eo.nodeName==="HTML"?eo.ownerDocument.body:eo).removeChild(p.stateNode)}catch(j){Dr(p,d,j)}else try{eo.removeChild(p.stateNode)}catch(j){Dr(p,d,j)}break;case 18:eo!==null&&(qi?(l=eo,AK(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Vv(l)):AK(eo,p.stateNode));break;case 4:w=eo,O=qi,eo=p.stateNode.containerInfo,qi=!0,Tc(l,d,p),eo=w,qi=O;break;case 0:case 11:case 14:case 15:Co||Pu(2,p,d),Co||Pu(4,p,d),Tc(l,d,p);break;case 1:Co||(kl(p,d),w=p.stateNode,typeof w.componentWillUnmount=="function"&&j6(p,d,w)),Tc(l,d,p);break;case 21:Tc(l,d,p);break;case 22:Co=(w=Co)||p.memoizedState!==null,Tc(l,d,p),Co=w;break;default:Tc(l,d,p)}}function K6(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Vv(l)}catch(p){Dr(d,d.return,p)}}function w5e(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new U6),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new U6),d;default:throw Error(r(435,l.tag))}}function bP(l,d){var p=w5e(l);d.forEach(function(w){var O=R5e.bind(null,l,w);p.has(w)||(p.add(w),w.then(O,O))})}function ws(l,d){var p=d.deletions;if(p!==null)for(var w=0;w<p.length;w++){var O=p[w],j=l,Q=d,se=Q;e:for(;se!==null;){switch(se.tag){case 27:if(ju(se.type)){eo=se.stateNode,qi=!1;break e}break;case 5:eo=se.stateNode,qi=!1;break e;case 3:case 4:eo=se.stateNode.containerInfo,qi=!0;break e}se=se.return}if(eo===null)throw Error(r(160));W6(j,Q,O),eo=null,qi=!1,j=O.alternate,j!==null&&(j.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)q6(d,l),d=d.sibling}var ja=null;function q6(l,d){var p=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ws(d,l),Ss(l),w&4&&(Pu(3,l,l.return),Cv(3,l),Pu(5,l,l.return));break;case 1:ws(d,l),Ss(l),w&512&&(Co||p===null||kl(p,p.return)),w&64&&Ec&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?w:p.concat(w))));break;case 26:var O=ja;if(ws(d,l),Ss(l),w&512&&(Co||p===null||kl(p,p.return)),w&4){var j=p!==null?p.memoizedState:null;if(w=l.memoizedState,p===null)if(w===null)if(l.stateNode===null){e:{w=l.type,p=l.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":j=O.getElementsByTagName("title")[0],(!j||j[zr]||j[rn]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=O.createElement(w),O.head.insertBefore(j,O.querySelector("head > title"))),ui(j,w,p),j[rn]=l,on(j),w=j;break e;case"link":var Q=zK("link","href",O).get(w+(p.href||""));if(Q){for(var se=0;se<Q.length;se++)if(j=Q[se],j.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&j.getAttribute("rel")===(p.rel==null?null:p.rel)&&j.getAttribute("title")===(p.title==null?null:p.title)&&j.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){Q.splice(se,1);break t}}j=O.createElement(w),ui(j,w,p),O.head.appendChild(j);break;case"meta":if(Q=zK("meta","content",O).get(w+(p.content||""))){for(se=0;se<Q.length;se++)if(j=Q[se],j.getAttribute("content")===(p.content==null?null:""+p.content)&&j.getAttribute("name")===(p.name==null?null:p.name)&&j.getAttribute("property")===(p.property==null?null:p.property)&&j.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&j.getAttribute("charset")===(p.charSet==null?null:p.charSet)){Q.splice(se,1);break t}}j=O.createElement(w),ui(j,w,p),O.head.appendChild(j);break;default:throw Error(r(468,w))}j[rn]=l,on(j),w=j}l.stateNode=w}else UK(O,l.type,l.stateNode);else l.stateNode=$K(O,w,l.memoizedProps);else j!==w?(j===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):j.count--,w===null?UK(O,l.type,l.stateNode):$K(O,w,l.memoizedProps)):w===null&&l.stateNode!==null&&gP(l,l.memoizedProps,p.memoizedProps)}break;case 27:ws(d,l),Ss(l),w&512&&(Co||p===null||kl(p,p.return)),p!==null&&w&4&&gP(l,l.memoizedProps,p.memoizedProps);break;case 5:if(ws(d,l),Ss(l),w&512&&(Co||p===null||kl(p,p.return)),l.flags&32){O=l.stateNode;try{wl(O,"")}catch(He){Dr(l,l.return,He)}}w&4&&l.stateNode!=null&&(O=l.memoizedProps,gP(l,O,p!==null?p.memoizedProps:O)),w&1024&&(yP=!0);break;case 6:if(ws(d,l),Ss(l),w&4){if(l.stateNode===null)throw Error(r(162));w=l.memoizedProps,p=l.stateNode;try{p.nodeValue=w}catch(He){Dr(l,l.return,He)}}break;case 3:if(vC=null,O=ja,ja=gC(d.containerInfo),ws(d,l),ja=O,Ss(l),w&4&&p!==null&&p.memoizedState.isDehydrated)try{Vv(d.containerInfo)}catch(He){Dr(l,l.return,He)}yP&&(yP=!1,Y6(l));break;case 4:w=ja,ja=gC(l.stateNode.containerInfo),ws(d,l),Ss(l),ja=w;break;case 12:ws(d,l),Ss(l);break;case 13:ws(d,l),Ss(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(EP=rt()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,bP(l,w)));break;case 22:O=l.memoizedState!==null;var ve=p!==null&&p.memoizedState!==null,Be=Ec,nt=Co;if(Ec=Be||O,Co=nt||ve,ws(d,l),Co=nt,Ec=Be,Ss(l),w&8192)e:for(d=l.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(p===null||ve||Ec||Co||_h(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){ve=p=d;try{if(j=ve.stateNode,O)Q=j.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none";else{se=ve.stateNode;var lt=ve.memoizedProps.style,ze=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;se.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(He){Dr(ve,ve.return,He)}}}else if(d.tag===6){if(p===null){ve=d;try{ve.stateNode.nodeValue=O?"":ve.memoizedProps}catch(He){Dr(ve,ve.return,He)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}w&4&&(w=l.updateQueue,w!==null&&(p=w.retryQueue,p!==null&&(w.retryQueue=null,bP(l,p))));break;case 19:ws(d,l),Ss(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,bP(l,w)));break;case 30:break;case 21:break;default:ws(d,l),Ss(l)}}function Ss(l){var d=l.flags;if(d&2){try{for(var p,w=l.return;w!==null;){if($6(w)){p=w;break}w=w.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var O=p.stateNode,j=mP(l);nC(l,j,O);break;case 5:var Q=p.stateNode;p.flags&32&&(wl(Q,""),p.flags&=-33);var se=mP(l);nC(l,se,Q);break;case 3:case 4:var ve=p.stateNode.containerInfo,Be=mP(l);vP(l,Be,ve);break;default:throw Error(r(161))}}catch(nt){Dr(l,l.return,nt)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function Y6(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;Y6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function ku(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)H6(l,d.alternate,d),d=d.sibling}function _h(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Pu(4,d,d.return),_h(d);break;case 1:kl(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&j6(d,d.return,p),_h(d);break;case 27:kv(d.stateNode);case 26:case 5:kl(d,d.return),_h(d);break;case 22:d.memoizedState===null&&_h(d);break;case 30:_h(d);break;default:_h(d)}l=l.sibling}}function Du(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var w=d.alternate,O=l,j=d,Q=j.flags;switch(j.tag){case 0:case 11:case 15:Du(O,j,p),Cv(4,j);break;case 1:if(Du(O,j,p),w=j,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Be){Dr(w,w.return,Be)}if(w=j,O=w.updateQueue,O!==null){var se=w.stateNode;try{var ve=O.shared.hiddenCallbacks;if(ve!==null)for(O.shared.hiddenCallbacks=null,O=0;O<ve.length;O++)_W(ve[O],se)}catch(Be){Dr(w,w.return,Be)}}p&&Q&64&&F6(j),xv(j,j.return);break;case 27:z6(j);case 26:case 5:Du(O,j,p),p&&w===null&&Q&4&&V6(j),xv(j,j.return);break;case 12:Du(O,j,p);break;case 13:Du(O,j,p),p&&Q&4&&K6(O,j);break;case 22:j.memoizedState===null&&Du(O,j,p),xv(j,j.return);break;case 30:break;default:Du(O,j,p)}d=d.sibling}}function wP(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&lv(p))}function SP(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&lv(l))}function Dl(l,d,p,w){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)X6(l,d,p,w),d=d.sibling}function X6(l,d,p,w){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Dl(l,d,p,w),O&2048&&Cv(9,d);break;case 1:Dl(l,d,p,w);break;case 3:Dl(l,d,p,w),O&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&lv(l)));break;case 12:if(O&2048){Dl(l,d,p,w),l=d.stateNode;try{var j=d.memoizedProps,Q=j.id,se=j.onPostCommit;typeof se=="function"&&se(Q,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ve){Dr(d,d.return,ve)}}else Dl(l,d,p,w);break;case 13:Dl(l,d,p,w);break;case 23:break;case 22:j=d.stateNode,Q=d.alternate,d.memoizedState!==null?j._visibility&2?Dl(l,d,p,w):_v(l,d):j._visibility&2?Dl(l,d,p,w):(j._visibility|=2,dp(l,d,p,w,(d.subtreeFlags&10256)!==0)),O&2048&&wP(Q,d);break;case 24:Dl(l,d,p,w),O&2048&&SP(d.alternate,d);break;default:Dl(l,d,p,w)}}function dp(l,d,p,w,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var j=l,Q=d,se=p,ve=w,Be=Q.flags;switch(Q.tag){case 0:case 11:case 15:dp(j,Q,se,ve,O),Cv(8,Q);break;case 23:break;case 22:var nt=Q.stateNode;Q.memoizedState!==null?nt._visibility&2?dp(j,Q,se,ve,O):_v(j,Q):(nt._visibility|=2,dp(j,Q,se,ve,O)),O&&Be&2048&&wP(Q.alternate,Q);break;case 24:dp(j,Q,se,ve,O),O&&Be&2048&&SP(Q.alternate,Q);break;default:dp(j,Q,se,ve,O)}d=d.sibling}}function _v(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,w=d,O=w.flags;switch(w.tag){case 22:_v(p,w),O&2048&&wP(w.alternate,w);break;case 24:_v(p,w),O&2048&&SP(w.alternate,w);break;default:_v(p,w)}d=d.sibling}}var Ev=8192;function hp(l){if(l.subtreeFlags&Ev)for(l=l.child;l!==null;)Z6(l),l=l.sibling}function Z6(l){switch(l.tag){case 26:hp(l),l.flags&Ev&&l.memoizedState!==null&&i4e(ja,l.memoizedState,l.memoizedProps);break;case 5:hp(l);break;case 3:case 4:var d=ja;ja=gC(l.stateNode.containerInfo),hp(l),ja=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Ev,Ev=16777216,hp(l),Ev=d):hp(l));break;default:hp(l)}}function J6(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function Tv(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var w=d[p];Xo=w,eK(w,l)}J6(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Q6(l),l=l.sibling}function Q6(l){switch(l.tag){case 0:case 11:case 15:Tv(l),l.flags&2048&&Pu(9,l,l.return);break;case 3:Tv(l);break;case 12:Tv(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,rC(l)):Tv(l);break;default:Tv(l)}}function rC(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var w=d[p];Xo=w,eK(w,l)}J6(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Pu(8,d,d.return),rC(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,rC(d));break;default:rC(d)}l=l.sibling}}function eK(l,d){for(;Xo!==null;){var p=Xo;switch(p.tag){case 0:case 11:case 15:Pu(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var w=p.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:lv(p.memoizedState.cache)}if(w=p.child,w!==null)w.return=p,Xo=w;else e:for(p=l;Xo!==null;){w=Xo;var O=w.sibling,j=w.return;if(G6(w),w===p){Xo=null;break e}if(O!==null){O.return=j,Xo=O;break e}Xo=j}}}var S5e={getCacheForType:function(l){var d=wi(jo),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p}},C5e=typeof WeakMap=="function"?WeakMap:Map,wr=0,Fr=null,$n=null,Gn=0,Sr=0,Cs=null,Au=!1,fp=!1,CP=!1,Mc=0,po=0,Lu=0,Eh=0,xP=0,ua=0,pp=0,Mv=null,Yi=null,_P=!1,EP=0,oC=1/0,iC=null,Nu=null,ci=0,Bu=null,gp=null,mp=0,TP=0,MP=null,tK=null,Ov=0,OP=null;function xs(){if((wr&2)!==0&&Gn!==0)return Gn&-Gn;if(V.T!==null){var l=rp;return l!==0?l:LP()}return Ln()}function nK(){ua===0&&(ua=(Gn&536870912)===0||or?Pn():536870912);var l=ca.current;return l!==null&&(l.flags|=32),ua}function _s(l,d,p){(l===Fr&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)&&(vp(l,0),Fu(l,Gn,ua,!1)),_n(l,p),((wr&2)===0||l!==Fr)&&(l===Fr&&((wr&2)===0&&(Eh|=p),po===4&&Fu(l,Gn,ua,!1)),Al(l))}function rK(l,d,p){if((wr&6)!==0)throw Error(r(327));var w=!p&&(d&124)===0&&(d&l.expiredLanes)===0||ft(l,d),O=w?E5e(l,d):PP(l,d,!0),j=w;do{if(O===0){fp&&!w&&Fu(l,d,0,!1);break}else{if(p=l.current.alternate,j&&!x5e(p)){O=PP(l,d,!1),j=!1;continue}if(O===2){if(j=d,l.errorRecoveryDisabledLanes&j)var Q=0;else Q=l.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){d=Q;e:{var se=l;O=Mv;var ve=se.current.memoizedState.isDehydrated;if(ve&&(vp(se,Q).flags|=256),Q=PP(se,Q,!1),Q!==2){if(CP&&!ve){se.errorRecoveryDisabledLanes|=j,Eh|=j,O=4;break e}j=Yi,Yi=O,j!==null&&(Yi===null?Yi=j:Yi.push.apply(Yi,j))}O=Q}if(j=!1,O!==2)continue}}if(O===1){vp(l,0),Fu(l,d,0,!0);break}e:{switch(w=l,j=O,j){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Fu(w,d,ua,!Au);break e;case 2:Yi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(O=EP+300-rt(),10<O)){if(Fu(w,d,ua,!Au),At(w,0,!0)!==0)break e;w.timeoutHandle=kK(oK.bind(null,w,p,Yi,iC,_P,d,ua,Eh,pp,Au,j,2,-0,0),O);break e}oK(w,p,Yi,iC,_P,d,ua,Eh,pp,Au,j,0,-0,0)}}break}while(!0);Al(l)}function oK(l,d,p,w,O,j,Q,se,ve,Be,nt,lt,ze,He){if(l.timeoutHandle=-1,lt=d.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(Lv={stylesheets:null,count:0,unsuspend:o4e},Z6(d),lt=s4e(),lt!==null)){l.cancelPendingCommit=lt(dK.bind(null,l,d,j,p,w,O,Q,se,ve,nt,1,ze,He)),Fu(l,j,Q,!Be);return}dK(l,d,j,p,w,O,Q,se,ve)}function x5e(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var w=0;w<p.length;w++){var O=p[w],j=O.getSnapshot;O=O.value;try{if(!C(j(),O))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Fu(l,d,p,w){d&=~xP,d&=~Eh,l.suspendedLanes|=d,l.pingedLanes&=~d,w&&(l.warmLanes|=d),w=l.expirationTimes;for(var O=d;0<O;){var j=31-gt(O),Q=1<<j;w[j]=-1,O&=~Q}p!==0&&Yn(l,p,d)}function sC(){return(wr&6)===0?(Rv(0),!1):!0}function RP(){if($n!==null){if(Sr===0)var l=$n.return;else l=$n,bc=bh=null,WI(l),cp=null,bv=0,l=$n;for(;l!==null;)B6(l.alternate,l),l=l.return;$n=null}}function vp(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,$5e(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),RP(),Fr=l,$n=p=mc(l.current,null),Gn=d,Sr=0,Cs=null,Au=!1,fp=ft(l,d),CP=!1,pp=ua=xP=Eh=Lu=po=0,Yi=Mv=null,_P=!1,(d&8)!==0&&(d|=d&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=d;0<w;){var O=31-gt(w),j=1<<O;d|=l[O],w&=~j}return Mc=d,me(),p}function iK(l,d){Nn=null,V.H=KS,d===uv||d===BS?(d=CW(),Sr=3):d===bW?(d=CW(),Sr=4):Sr=d===x6?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Cs=d,$n===null&&(po=1,JS(l,dr(d,l.current)))}function sK(){var l=V.H;return V.H=KS,l===null?KS:l}function aK(){var l=V.A;return V.A=S5e,l}function IP(){po=4,Au||(Gn&4194048)!==Gn&&ca.current!==null||(fp=!0),(Lu&134217727)===0&&(Eh&134217727)===0||Fr===null||Fu(Fr,Gn,ua,!1)}function PP(l,d,p){var w=wr;wr|=2;var O=sK(),j=aK();(Fr!==l||Gn!==d)&&(iC=null,vp(l,d)),d=!1;var Q=po;e:do try{if(Sr!==0&&$n!==null){var se=$n,ve=Cs;switch(Sr){case 8:RP(),Q=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(d=!0);var Be=Sr;if(Sr=0,Cs=null,yp(l,se,ve,Be),p&&fp){Q=0;break e}break;default:Be=Sr,Sr=0,Cs=null,yp(l,se,ve,Be)}}_5e(),Q=po;break}catch(nt){iK(l,nt)}while(!0);return d&&l.shellSuspendCounter++,bc=bh=null,wr=w,V.H=O,V.A=j,$n===null&&(Fr=null,Gn=0,me()),Q}function _5e(){for(;$n!==null;)lK($n)}function E5e(l,d){var p=wr;wr|=2;var w=sK(),O=aK();Fr!==l||Gn!==d?(iC=null,oC=rt()+500,vp(l,d)):fp=ft(l,d);e:do try{if(Sr!==0&&$n!==null){d=$n;var j=Cs;t:switch(Sr){case 1:Sr=0,Cs=null,yp(l,d,j,1);break;case 2:case 9:if(wW(j)){Sr=0,Cs=null,cK(d);break}d=function(){Sr!==2&&Sr!==9||Fr!==l||(Sr=7),Al(l)},j.then(d,d);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:wW(j)?(Sr=0,Cs=null,cK(d)):(Sr=0,Cs=null,yp(l,d,j,7));break;case 5:var Q=null;switch($n.tag){case 26:Q=$n.memoizedState;case 5:case 27:var se=$n;if(!Q||HK(Q)){Sr=0,Cs=null;var ve=se.sibling;if(ve!==null)$n=ve;else{var Be=se.return;Be!==null?($n=Be,aC(Be)):$n=null}break t}}Sr=0,Cs=null,yp(l,d,j,5);break;case 6:Sr=0,Cs=null,yp(l,d,j,6);break;case 8:RP(),po=6;break e;default:throw Error(r(462))}}T5e();break}catch(nt){iK(l,nt)}while(!0);return bc=bh=null,V.H=w,V.A=O,wr=p,$n!==null?0:(Fr=null,Gn=0,me(),po)}function T5e(){for(;$n!==null&&!Te();)lK($n)}function lK(l){var d=L6(l.alternate,l,Mc);l.memoizedProps=l.pendingProps,d===null?aC(l):$n=d}function cK(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=R6(p,d,d.pendingProps,d.type,void 0,Gn);break;case 11:d=R6(p,d,d.pendingProps,d.type.render,d.ref,Gn);break;case 5:WI(d);default:B6(p,d),d=$n=uW(d,Mc),d=L6(p,d,Mc)}l.memoizedProps=l.pendingProps,d===null?aC(l):$n=d}function yp(l,d,p,w){bc=bh=null,WI(d),cp=null,bv=0;var O=d.return;try{if(g5e(l,O,d,p,Gn)){po=1,JS(l,dr(p,l.current)),$n=null;return}}catch(j){if(O!==null)throw $n=O,j;po=1,JS(l,dr(p,l.current)),$n=null;return}d.flags&32768?(or||w===1?l=!0:fp||(Gn&536870912)!==0?l=!1:(Au=l=!0,(w===2||w===9||w===3||w===6)&&(w=ca.current,w!==null&&w.tag===13&&(w.flags|=16384))),uK(d,l)):aC(d)}function aC(l){var d=l;do{if((d.flags&32768)!==0){uK(d,Au);return}l=d.return;var p=v5e(d.alternate,d,Mc);if(p!==null){$n=p;return}if(d=d.sibling,d!==null){$n=d;return}$n=d=l}while(d!==null);po===0&&(po=5)}function uK(l,d){do{var p=y5e(l.alternate,l);if(p!==null){p.flags&=32767,$n=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){$n=l;return}$n=l=p}while(l!==null);po=6,$n=null}function dK(l,d,p,w,O,j,Q,se,ve){l.cancelPendingCommit=null;do lC();while(ci!==0);if((wr&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(j=d.lanes|d.childLanes,j|=Ce,Er(l,p,j,Q,se,ve),l===Fr&&($n=Fr=null,Gn=0),gp=d,Bu=l,mp=p,TP=j,MP=O,tK=w,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,I5e(Ct,function(){return mK(),null})):(l.callbackNode=null,l.callbackPriority=0),w=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||w){w=V.T,V.T=null,O=Y.p,Y.p=2,Q=wr,wr|=4;try{b5e(l,d,p)}finally{wr=Q,Y.p=O,V.T=w}}ci=1,hK(),fK(),pK()}}function hK(){if(ci===1){ci=0;var l=Bu,d=gp,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var w=Y.p;Y.p=2;var O=wr;wr|=4;try{q6(d,l);var j=UP,Q=de(l.containerInfo),se=j.focusedElem,ve=j.selectionRange;if(Q!==se&&se&&se.ownerDocument&&oe(se.ownerDocument.documentElement,se)){if(ve!==null&&ge(se)){var Be=ve.start,nt=ve.end;if(nt===void 0&&(nt=Be),"selectionStart"in se)se.selectionStart=Be,se.selectionEnd=Math.min(nt,se.value.length);else{var lt=se.ownerDocument||document,ze=lt&&lt.defaultView||window;if(ze.getSelection){var He=ze.getSelection(),mn=se.textContent.length,fn=Math.min(ve.start,mn),Ir=ve.end===void 0?fn:Math.min(ve.end,mn);!He.extend&&fn>Ir&&(Q=Ir,Ir=fn,fn=Q);var De=ee(se,fn),_e=ee(se,Ir);if(De&&_e&&(He.rangeCount!==1||He.anchorNode!==De.node||He.anchorOffset!==De.offset||He.focusNode!==_e.node||He.focusOffset!==_e.offset)){var Ne=lt.createRange();Ne.setStart(De.node,De.offset),He.removeAllRanges(),fn>Ir?(He.addRange(Ne),He.extend(_e.node,_e.offset)):(Ne.setEnd(_e.node,_e.offset),He.addRange(Ne))}}}}for(lt=[],He=se;He=He.parentNode;)He.nodeType===1&&lt.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<lt.length;se++){var it=lt[se];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}wC=!!zP,UP=zP=null}finally{wr=O,Y.p=w,V.T=p}}l.current=d,ci=2}}function fK(){if(ci===2){ci=0;var l=Bu,d=gp,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var w=Y.p;Y.p=2;var O=wr;wr|=4;try{H6(l,d.alternate,d)}finally{wr=O,Y.p=w,V.T=p}}ci=3}}function pK(){if(ci===4||ci===3){ci=0,Ve();var l=Bu,d=gp,p=mp,w=tK;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ci=5:(ci=0,gp=Bu=null,gK(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(Nu=null),an(p),d=d.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(zt,d,void 0,(d.current.flags&128)===128)}catch{}if(w!==null){d=V.T,O=Y.p,Y.p=2,V.T=null;try{for(var j=l.onRecoverableError,Q=0;Q<w.length;Q++){var se=w[Q];j(se.value,{componentStack:se.stack})}}finally{V.T=d,Y.p=O}}(mp&3)!==0&&lC(),Al(l),O=l.pendingLanes,(p&4194090)!==0&&(O&42)!==0?l===OP?Ov++:(Ov=0,OP=l):Ov=0,Rv(0)}}function gK(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,lv(d)))}function lC(l){return hK(),fK(),pK(),mK()}function mK(){if(ci!==5)return!1;var l=Bu,d=TP;TP=0;var p=an(mp),w=V.T,O=Y.p;try{Y.p=32>p?32:p,V.T=null,p=MP,MP=null;var j=Bu,Q=mp;if(ci=0,gp=Bu=null,mp=0,(wr&6)!==0)throw Error(r(331));var se=wr;if(wr|=4,Q6(j.current),X6(j,j.current,Q,p),wr=se,Rv(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(zt,j)}catch{}return!0}finally{Y.p=O,V.T=w,gK(l,d)}}function vK(l,d,p){d=dr(p,d),d=sP(l.stateNode,d,2),l=Mu(l,d,2),l!==null&&(_n(l,2),Al(l))}function Dr(l,d,p){if(l.tag===3)vK(l,l,p);else for(;d!==null;){if(d.tag===3){vK(d,l,p);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Nu===null||!Nu.has(w))){l=dr(p,l),p=S6(2),w=Mu(d,p,2),w!==null&&(C6(p,w,d,l),_n(w,2),Al(w));break}}d=d.return}}function kP(l,d,p){var w=l.pingCache;if(w===null){w=l.pingCache=new C5e;var O=new Set;w.set(d,O)}else O=w.get(d),O===void 0&&(O=new Set,w.set(d,O));O.has(p)||(CP=!0,O.add(p),l=M5e.bind(null,l,d,p),d.then(l,l))}function M5e(l,d,p){var w=l.pingCache;w!==null&&w.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Fr===l&&(Gn&p)===p&&(po===4||po===3&&(Gn&62914560)===Gn&&300>rt()-EP?(wr&2)===0&&vp(l,0):xP|=p,pp===Gn&&(pp=0)),Al(l)}function yK(l,d){d===0&&(d=An()),l=jt(l,d),l!==null&&(_n(l,d),Al(l))}function O5e(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),yK(l,p)}function R5e(l,d){var p=0;switch(l.tag){case 13:var w=l.stateNode,O=l.memoizedState;O!==null&&(p=O.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(d),yK(l,p)}function I5e(l,d){return Ee(l,d)}var cC=null,bp=null,DP=!1,uC=!1,AP=!1,Th=0;function Al(l){l!==bp&&l.next===null&&(bp===null?cC=bp=l:bp=bp.next=l),uC=!0,DP||(DP=!0,k5e())}function Rv(l,d){if(!AP&&uC){AP=!0;do for(var p=!1,w=cC;w!==null;){if(l!==0){var O=w.pendingLanes;if(O===0)var j=0;else{var Q=w.suspendedLanes,se=w.pingedLanes;j=(1<<31-gt(42|l)+1)-1,j&=O&~(Q&~se),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(p=!0,CK(w,j))}else j=Gn,j=At(w,w===Fr?j:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(j&3)===0||ft(w,j)||(p=!0,CK(w,j));w=w.next}while(p);AP=!1}}function P5e(){bK()}function bK(){uC=DP=!1;var l=0;Th!==0&&(V5e()&&(l=Th),Th=0);for(var d=rt(),p=null,w=cC;w!==null;){var O=w.next,j=wK(w,d);j===0?(w.next=null,p===null?cC=O:p.next=O,O===null&&(bp=p)):(p=w,(l!==0||(j&3)!==0)&&(uC=!0)),w=O}Rv(l)}function wK(l,d){for(var p=l.suspendedLanes,w=l.pingedLanes,O=l.expirationTimes,j=l.pendingLanes&-62914561;0<j;){var Q=31-gt(j),se=1<<Q,ve=O[Q];ve===-1?((se&p)===0||(se&w)!==0)&&(O[Q]=Pt(se,d)):ve<=d&&(l.expiredLanes|=se),j&=~se}if(d=Fr,p=Gn,p=At(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w=l.callbackNode,p===0||l===d&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)return w!==null&&w!==null&&ke(w),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||ft(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(w!==null&&ke(w),an(p)){case 2:case 8:p=dt;break;case 32:p=Ct;break;case 268435456:p=It;break;default:p=Ct}return w=SK.bind(null,l),p=Ee(p,w),l.callbackPriority=d,l.callbackNode=p,d}return w!==null&&w!==null&&ke(w),l.callbackPriority=2,l.callbackNode=null,2}function SK(l,d){if(ci!==0&&ci!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(lC()&&l.callbackNode!==p)return null;var w=Gn;return w=At(l,l===Fr?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w===0?null:(rK(l,w,d),wK(l,rt()),l.callbackNode!=null&&l.callbackNode===p?SK.bind(null,l):null)}function CK(l,d){if(lC())return null;rK(l,d,!0)}function k5e(){z5e(function(){(wr&6)!==0?Ee(Rt,P5e):bK()})}function LP(){return Th===0&&(Th=Pn()),Th}function xK(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:lc(""+l)}function _K(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function D5e(l,d,p,w,O){if(d==="submit"&&p&&p.stateNode===O){var j=xK((O[nn]||null).action),Q=w.submitter;Q&&(d=(d=Q[nn]||null)?xK(d.formAction):Q.getAttribute("formAction"),d!==null&&(j=d,Q=null));var se=new fc("action","action",null,w,O);l.push({event:se,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Th!==0){var ve=Q?_K(O,Q):new FormData(O);tP(p,{pending:!0,data:ve,method:O.method,action:j},null,ve)}}else typeof j=="function"&&(se.preventDefault(),ve=Q?_K(O,Q):new FormData(O),tP(p,{pending:!0,data:ve,method:O.method,action:j},j,ve))},currentTarget:O}]})}}for(var NP=0;NP<nv.length;NP++){var BP=nv[NP],A5e=BP.toLowerCase(),L5e=BP[0].toUpperCase()+BP.slice(1);Et(A5e,"on"+L5e)}Et(Rl,"onAnimationEnd"),Et(bi,"onAnimationIteration"),Et(OS,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(tv,"onTransitionRun"),Et(SI,"onTransitionStart"),Et(CI,"onTransitionCancel"),Et(RS,"onTransitionEnd"),Jt("onMouseEnter",["mouseout","mouseover"]),Jt("onMouseLeave",["mouseout","mouseover"]),Jt("onPointerEnter",["pointerout","pointerover"]),Jt("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N5e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iv));function EK(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var w=l[p],O=w.event;w=w.listeners;e:{var j=void 0;if(d)for(var Q=w.length-1;0<=Q;Q--){var se=w[Q],ve=se.instance,Be=se.currentTarget;if(se=se.listener,ve!==j&&O.isPropagationStopped())break e;j=se,O.currentTarget=Be;try{j(O)}catch(nt){ZS(nt)}O.currentTarget=null,j=ve}else for(Q=0;Q<w.length;Q++){if(se=w[Q],ve=se.instance,Be=se.currentTarget,se=se.listener,ve!==j&&O.isPropagationStopped())break e;j=se,O.currentTarget=Be;try{j(O)}catch(nt){ZS(nt)}O.currentTarget=null,j=ve}}}}function zn(l,d){var p=d[uo];p===void 0&&(p=d[uo]=new Set);var w=l+"__bubble";p.has(w)||(TK(d,l,2,!1),p.add(w))}function FP(l,d,p){var w=0;d&&(w|=4),TK(p,l,w,d)}var dC="_reactListening"+Math.random().toString(36).slice(2);function jP(l){if(!l[dC]){l[dC]=!0,Xe.forEach(function(p){p!=="selectionchange"&&(N5e.has(p)||FP(p,!1,l),FP(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[dC]||(d[dC]=!0,FP("selectionchange",!1,d))}}function TK(l,d,p,w){switch(XK(d)){case 2:var O=c4e;break;case 8:O=u4e;break;default:O=QP}p=O.bind(null,d,p,l),O=void 0,!Aa||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),w?O!==void 0?l.addEventListener(d,p,{capture:!0,passive:O}):l.addEventListener(d,p,!0):O!==void 0?l.addEventListener(d,p,{passive:O}):l.addEventListener(d,p,!1)}function VP(l,d,p,w,O){var j=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var Q=w.tag;if(Q===3||Q===4){var se=w.stateNode.containerInfo;if(se===O)break;if(Q===4)for(Q=w.return;Q!==null;){var ve=Q.tag;if((ve===3||ve===4)&&Q.stateNode.containerInfo===O)return;Q=Q.return}for(;se!==null;){if(Q=pr(se),Q===null)return;if(ve=Q.tag,ve===5||ve===6||ve===26||ve===27){w=j=Q;continue e}se=se.parentNode}}w=w.return}rh(function(){var Be=j,nt=mu(p),lt=[];e:{var ze=IS.get(l);if(ze!==void 0){var He=fc,mn=l;switch(l){case"keypress":if(hc(p)===0)break e;case"keydown":case"keyup":He=Yf;break;case"focusin":mn="focus",He=ih;break;case"focusout":mn="blur",He=ih;break;case"beforeblur":case"afterblur":He=ih;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Xf;break;case Rl:case bi:case OS:He=_l;break;case RS:He=Zm;break;case"scroll":case"scrollend":He=Cl;break;case"wheel":He=Cu;break;case"copy":case"cut":case"paste":He=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=ho;break;case"toggle":case"beforetoggle":He=_o}var fn=(d&4)!==0,Ir=!fn&&(l==="scroll"||l==="scrollend"),De=fn?ze!==null?ze+"Capture":null:ze;fn=[];for(var _e=Be,Ne;_e!==null;){var it=_e;if(Ne=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Ne===null||De===null||(it=mi(_e,De),it!=null&&fn.push(Pv(_e,it,Ne))),Ir)break;_e=_e.return}0<fn.length&&(ze=new He(ze,mn,null,p,nt),lt.push({event:ze,listeners:fn}))}}if((d&7)===0){e:{if(ze=l==="mouseover"||l==="pointerover",He=l==="mouseout"||l==="pointerout",ze&&p!==Da&&(mn=p.relatedTarget||p.fromElement)&&(pr(mn)||mn[Rn]))break e;if((He||ze)&&(ze=nt.window===nt?nt:(ze=nt.ownerDocument)?ze.defaultView||ze.parentWindow:window,He?(mn=p.relatedTarget||p.toElement,He=Be,mn=mn?pr(mn):null,mn!==null&&(Ir=i(mn),fn=mn.tag,mn!==Ir||fn!==5&&fn!==27&&fn!==6)&&(mn=null)):(He=null,mn=Be),He!==mn)){if(fn=Gf,it="onMouseLeave",De="onMouseEnter",_e="mouse",(l==="pointerout"||l==="pointerover")&&(fn=ho,it="onPointerLeave",De="onPointerEnter",_e="pointer"),Ir=He==null?ze:Ri(He),Ne=mn==null?ze:Ri(mn),ze=new fn(it,_e+"leave",He,p,nt),ze.target=Ir,ze.relatedTarget=Ne,it=null,pr(nt)===Be&&(fn=new fn(De,_e+"enter",mn,p,nt),fn.target=Ne,fn.relatedTarget=Ir,it=fn),Ir=it,He&&mn)t:{for(fn=He,De=mn,_e=0,Ne=fn;Ne;Ne=wp(Ne))_e++;for(Ne=0,it=De;it;it=wp(it))Ne++;for(;0<_e-Ne;)fn=wp(fn),_e--;for(;0<Ne-_e;)De=wp(De),Ne--;for(;_e--;){if(fn===De||De!==null&&fn===De.alternate)break t;fn=wp(fn),De=wp(De)}fn=null}else fn=null;He!==null&&MK(lt,ze,He,fn,!1),mn!==null&&Ir!==null&&MK(lt,Ir,mn,fn,!0)}}e:{if(ze=Be?Ri(Be):window,He=ze.nodeName&&ze.nodeName.toLowerCase(),He==="select"||He==="input"&&ze.type==="file")var Yt=sa;else if(Na(ze))if(dh)Yt=ep;else{Yt=Jm;var Fn=Qf}else He=ze.nodeName,!He||He.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Be&&wo(Be.elementType)&&(Yt=sa):Yt=Qm;if(Yt&&(Yt=Yt(l,Be))){Ba(lt,Yt,p,nt);break e}Fn&&Fn(l,ze,Be),l==="focusout"&&Be&&ze.type==="number"&&Be.memoizedProps.value!=null&&eh(ze,"number",ze.value)}switch(Fn=Be?Ri(Be):window,l){case"focusin":(Na(Fn)||Fn.contentEditable==="true")&&(Ue=Fn,qe=Be,ot=null);break;case"focusout":ot=qe=Ue=null;break;case"mousedown":kt=!0;break;case"contextmenu":case"mouseup":case"dragend":kt=!1,Ut(lt,p,nt);break;case"selectionchange":if(Re)break;case"keydown":case"keyup":Ut(lt,p,nt)}var ln;if(Tl)e:{switch(l){case"compositionstart":var gn="onCompositionStart";break e;case"compositionend":gn="onCompositionEnd";break e;case"compositionupdate":gn="onCompositionUpdate";break e}gn=void 0}else gs?br(l,p)&&(gn="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(gn="onCompositionStart");gn&&(Wt&&p.locale!=="ko"&&(gs||gn!=="onCompositionStart"?gn==="onCompositionEnd"&&gs&&(ln=dc()):(fs=nt,cc="value"in fs?fs.value:fs.textContent,gs=!0)),Fn=hC(Be,gn),0<Fn.length&&(gn=new Zn(gn,l,null,p,nt),lt.push({event:gn,listeners:Fn}),ln?gn.data=ln:(ln=xu(p),ln!==null&&(gn.data=ln)))),(ln=Ml?Je(l,p):Zf(l,p))&&(gn=hC(Be,"onBeforeInput"),0<gn.length&&(Fn=new Zn("onBeforeInput","beforeinput",null,p,nt),lt.push({event:Fn,listeners:gn}),Fn.data=ln)),D5e(lt,l,Be,p,nt)}EK(lt,d)})}function Pv(l,d,p){return{instance:l,listener:d,currentTarget:p}}function hC(l,d){for(var p=d+"Capture",w=[];l!==null;){var O=l,j=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||j===null||(O=mi(l,p),O!=null&&w.unshift(Pv(l,O,j)),O=mi(l,d),O!=null&&w.push(Pv(l,O,j))),l.tag===3)return w;l=l.return}return[]}function wp(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function MK(l,d,p,w,O){for(var j=d._reactName,Q=[];p!==null&&p!==w;){var se=p,ve=se.alternate,Be=se.stateNode;if(se=se.tag,ve!==null&&ve===w)break;se!==5&&se!==26&&se!==27||Be===null||(ve=Be,O?(Be=mi(p,j),Be!=null&&Q.unshift(Pv(p,Be,ve))):O||(Be=mi(p,j),Be!=null&&Q.push(Pv(p,Be,ve)))),p=p.return}Q.length!==0&&l.push({event:d,listeners:Q})}var B5e=/\r\n?/g,F5e=/\u0000|\uFFFD/g;function OK(l){return(typeof l=="string"?l:""+l).replace(B5e,`
`).replace(F5e,"")}function RK(l,d){return d=OK(d),OK(l)===d}function fC(){}function Rr(l,d,p,w,O,j){switch(p){case"children":typeof w=="string"?d==="body"||d==="textarea"&&w===""||wl(l,w):(typeof w=="number"||typeof w=="bigint")&&d!=="body"&&wl(l,""+w);break;case"className":hs(l,"class",w);break;case"tabIndex":hs(l,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(l,p,w);break;case"style":nh(l,w,j);break;case"data":if(d!=="object"){hs(l,"data",w);break}case"src":case"href":if(w===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=lc(""+w),l.setAttribute(p,w);break;case"action":case"formAction":if(typeof w=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(p==="formAction"?(d!=="input"&&Rr(l,d,"name",O.name,O,null),Rr(l,d,"formEncType",O.formEncType,O,null),Rr(l,d,"formMethod",O.formMethod,O,null),Rr(l,d,"formTarget",O.formTarget,O,null)):(Rr(l,d,"encType",O.encType,O,null),Rr(l,d,"method",O.method,O,null),Rr(l,d,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=lc(""+w),l.setAttribute(p,w);break;case"onClick":w!=null&&(l.onclick=fC);break;case"onScroll":w!=null&&zn("scroll",l);break;case"onScrollEnd":w!=null&&zn("scrollend",l);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":l.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){l.removeAttribute("xlink:href");break}p=lc(""+w),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""+w):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":w===!0?l.setAttribute(p,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,w):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?l.setAttribute(p,w):l.removeAttribute(p);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?l.removeAttribute(p):l.setAttribute(p,w);break;case"popover":zn("beforetoggle",l),zn("toggle",l),Ii(l,"popover",w);break;case"xlinkActuate":ri(l,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":ri(l,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":ri(l,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":ri(l,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":ri(l,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":ri(l,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":ri(l,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":ri(l,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":ri(l,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ii(l,"is",w);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ra.get(p)||p,Ii(l,p,w))}}function $P(l,d,p,w,O,j){switch(p){case"style":nh(l,w,j);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof w=="string"?wl(l,w):(typeof w=="number"||typeof w=="bigint")&&wl(l,""+w);break;case"onScroll":w!=null&&zn("scroll",l);break;case"onScrollEnd":w!=null&&zn("scrollend",l);break;case"onClick":w!=null&&(l.onclick=fC);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ze.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(O=p.endsWith("Capture"),d=p.slice(2,O?p.length-7:void 0),j=l[nn]||null,j=j!=null?j[p]:null,typeof j=="function"&&l.removeEventListener(d,j,O),typeof w=="function")){typeof j!="function"&&j!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,w,O);break e}p in l?l[p]=w:w===!0?l.setAttribute(p,""):Ii(l,p,w)}}}function ui(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zn("error",l),zn("load",l);var w=!1,O=!1,j;for(j in p)if(p.hasOwnProperty(j)){var Q=p[j];if(Q!=null)switch(j){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Rr(l,d,j,Q,p,null)}}O&&Rr(l,d,"srcSet",p.srcSet,p,null),w&&Rr(l,d,"src",p.src,p,null);return;case"input":zn("invalid",l);var se=j=Q=O=null,ve=null,Be=null;for(w in p)if(p.hasOwnProperty(w)){var nt=p[w];if(nt!=null)switch(w){case"name":O=nt;break;case"type":Q=nt;break;case"checked":ve=nt;break;case"defaultChecked":Be=nt;break;case"value":j=nt;break;case"defaultValue":se=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,d));break;default:Rr(l,d,w,nt,p,null)}}Qd(l,j,se,ve,Be,Q,O,!1),ka(l);return;case"select":zn("invalid",l),w=Q=j=null;for(O in p)if(p.hasOwnProperty(O)&&(se=p[O],se!=null))switch(O){case"value":j=se;break;case"defaultValue":Q=se;break;case"multiple":w=se;default:Rr(l,d,O,se,p,null)}d=j,p=Q,l.multiple=!!w,d!=null?bl(l,!!w,d,!1):p!=null&&bl(l,!!w,p,!0);return;case"textarea":zn("invalid",l),j=O=w=null;for(Q in p)if(p.hasOwnProperty(Q)&&(se=p[Q],se!=null))switch(Q){case"value":w=se;break;case"defaultValue":O=se;break;case"children":j=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(91));break;default:Rr(l,d,Q,se,p,null)}Hf(l,w,O,j),ka(l);return;case"option":for(ve in p)if(p.hasOwnProperty(ve)&&(w=p[ve],w!=null))switch(ve){case"selected":l.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Rr(l,d,ve,w,p,null)}return;case"dialog":zn("beforetoggle",l),zn("toggle",l),zn("cancel",l),zn("close",l);break;case"iframe":case"object":zn("load",l);break;case"video":case"audio":for(w=0;w<Iv.length;w++)zn(Iv[w],l);break;case"image":zn("error",l),zn("load",l);break;case"details":zn("toggle",l);break;case"embed":case"source":case"link":zn("error",l),zn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in p)if(p.hasOwnProperty(Be)&&(w=p[Be],w!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Rr(l,d,Be,w,p,null)}return;default:if(wo(d)){for(nt in p)p.hasOwnProperty(nt)&&(w=p[nt],w!==void 0&&$P(l,d,nt,w,p,void 0));return}}for(se in p)p.hasOwnProperty(se)&&(w=p[se],w!=null&&Rr(l,d,se,w,p,null))}function j5e(l,d,p,w){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,j=null,Q=null,se=null,ve=null,Be=null,nt=null;for(He in p){var lt=p[He];if(p.hasOwnProperty(He)&&lt!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":ve=lt;default:w.hasOwnProperty(He)||Rr(l,d,He,null,w,lt)}}for(var ze in w){var He=w[ze];if(lt=p[ze],w.hasOwnProperty(ze)&&(He!=null||lt!=null))switch(ze){case"type":j=He;break;case"name":O=He;break;case"checked":Be=He;break;case"defaultChecked":nt=He;break;case"value":Q=He;break;case"defaultValue":se=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,d));break;default:He!==lt&&Rr(l,d,ze,He,w,lt)}}gu(l,Q,se,ve,Be,nt,j,O);return;case"select":He=Q=se=ze=null;for(j in p)if(ve=p[j],p.hasOwnProperty(j)&&ve!=null)switch(j){case"value":break;case"multiple":He=ve;default:w.hasOwnProperty(j)||Rr(l,d,j,null,w,ve)}for(O in w)if(j=w[O],ve=p[O],w.hasOwnProperty(O)&&(j!=null||ve!=null))switch(O){case"value":ze=j;break;case"defaultValue":se=j;break;case"multiple":Q=j;default:j!==ve&&Rr(l,d,O,j,w,ve)}d=se,p=Q,w=He,ze!=null?bl(l,!!p,ze,!1):!!w!=!!p&&(d!=null?bl(l,!!p,d,!0):bl(l,!!p,p?[]:"",!1));return;case"textarea":He=ze=null;for(se in p)if(O=p[se],p.hasOwnProperty(se)&&O!=null&&!w.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:Rr(l,d,se,null,w,O)}for(Q in w)if(O=w[Q],j=p[Q],w.hasOwnProperty(Q)&&(O!=null||j!=null))switch(Q){case"value":ze=O;break;case"defaultValue":He=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==j&&Rr(l,d,Q,O,w,j)}Uf(l,ze,He);return;case"option":for(var mn in p)if(ze=p[mn],p.hasOwnProperty(mn)&&ze!=null&&!w.hasOwnProperty(mn))switch(mn){case"selected":l.selected=!1;break;default:Rr(l,d,mn,null,w,ze)}for(ve in w)if(ze=w[ve],He=p[ve],w.hasOwnProperty(ve)&&ze!==He&&(ze!=null||He!=null))switch(ve){case"selected":l.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:Rr(l,d,ve,ze,w,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fn in p)ze=p[fn],p.hasOwnProperty(fn)&&ze!=null&&!w.hasOwnProperty(fn)&&Rr(l,d,fn,null,w,ze);for(Be in w)if(ze=w[Be],He=p[Be],w.hasOwnProperty(Be)&&ze!==He&&(ze!=null||He!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,d));break;default:Rr(l,d,Be,ze,w,He)}return;default:if(wo(d)){for(var Ir in p)ze=p[Ir],p.hasOwnProperty(Ir)&&ze!==void 0&&!w.hasOwnProperty(Ir)&&$P(l,d,Ir,void 0,w,ze);for(nt in w)ze=w[nt],He=p[nt],!w.hasOwnProperty(nt)||ze===He||ze===void 0&&He===void 0||$P(l,d,nt,ze,w,He);return}}for(var De in p)ze=p[De],p.hasOwnProperty(De)&&ze!=null&&!w.hasOwnProperty(De)&&Rr(l,d,De,null,w,ze);for(lt in w)ze=w[lt],He=p[lt],!w.hasOwnProperty(lt)||ze===He||ze==null&&He==null||Rr(l,d,lt,ze,w,He)}var zP=null,UP=null;function pC(l){return l.nodeType===9?l:l.ownerDocument}function IK(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PK(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function HP(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var GP=null;function V5e(){var l=window.event;return l&&l.type==="popstate"?l===GP?!1:(GP=l,!0):(GP=null,!1)}var kK=typeof setTimeout=="function"?setTimeout:void 0,$5e=typeof clearTimeout=="function"?clearTimeout:void 0,DK=typeof Promise=="function"?Promise:void 0,z5e=typeof queueMicrotask=="function"?queueMicrotask:typeof DK<"u"?function(l){return DK.resolve(null).then(l).catch(U5e)}:kK;function U5e(l){setTimeout(function(){throw l})}function ju(l){return l==="head"}function AK(l,d){var p=d,w=0,O=0;do{var j=p.nextSibling;if(l.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"){if(0<w&&8>w){p=w;var Q=l.ownerDocument;if(p&1&&kv(Q.documentElement),p&2&&kv(Q.body),p&4)for(p=Q.head,kv(p),Q=p.firstChild;Q;){var se=Q.nextSibling,ve=Q.nodeName;Q[zr]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||p.removeChild(Q),Q=se}}if(O===0){l.removeChild(j),Vv(d);return}O--}else p==="$"||p==="$?"||p==="$!"?O++:w=p.charCodeAt(0)-48;else w=0;p=j}while(p);Vv(d)}function WP(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":WP(p),kr(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function H5e(l,d,p,w){for(;l.nodeType===1;){var O=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!w&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(w){if(!l[zr])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(j=l.getAttribute("rel"),j==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(j!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(j=l.getAttribute("src"),(j!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&j&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var j=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===j)return l}else return l;if(l=Va(l.nextSibling),l===null)break}return null}function G5e(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Va(l.nextSibling),l===null))return null;return l}function KP(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function W5e(l,d){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")d();else{var w=function(){d(),p.removeEventListener("DOMContentLoaded",w)};p.addEventListener("DOMContentLoaded",w),l._reactRetry=w}}function Va(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var qP=null;function LK(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}function NK(l,d,p){switch(d=pC(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function kv(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);kr(l)}var da=new Map,BK=new Set;function gC(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Oc=Y.d;Y.d={f:K5e,r:q5e,D:Y5e,C:X5e,L:Z5e,m:J5e,X:e4e,S:Q5e,M:t4e};function K5e(){var l=Oc.f(),d=sC();return l||d}function q5e(l){var d=bo(l);d!==null&&d.tag===5&&d.type==="form"?r6(d):Oc.r(l)}var Sp=typeof document>"u"?null:document;function FK(l,d,p){var w=Sp;if(w&&typeof d=="string"&&d){var O=ii(d);O='link[rel="'+l+'"][href="'+O+'"]',typeof p=="string"&&(O+='[crossorigin="'+p+'"]'),BK.has(O)||(BK.add(O),l={rel:l,crossOrigin:p,href:d},w.querySelector(O)===null&&(d=w.createElement("link"),ui(d,"link",l),on(d),w.head.appendChild(d)))}}function Y5e(l){Oc.D(l),FK("dns-prefetch",l,null)}function X5e(l,d){Oc.C(l,d),FK("preconnect",l,d)}function Z5e(l,d,p){Oc.L(l,d,p);var w=Sp;if(w&&l&&d){var O='link[rel="preload"][as="'+ii(d)+'"]';d==="image"&&p&&p.imageSrcSet?(O+='[imagesrcset="'+ii(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(O+='[imagesizes="'+ii(p.imageSizes)+'"]')):O+='[href="'+ii(l)+'"]';var j=O;switch(d){case"style":j=Cp(l);break;case"script":j=xp(l)}da.has(j)||(l=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),da.set(j,l),w.querySelector(O)!==null||d==="style"&&w.querySelector(Dv(j))||d==="script"&&w.querySelector(Av(j))||(d=w.createElement("link"),ui(d,"link",l),on(d),w.head.appendChild(d)))}}function J5e(l,d){Oc.m(l,d);var p=Sp;if(p&&l){var w=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+ii(w)+'"][href="'+ii(l)+'"]',j=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=xp(l)}if(!da.has(j)&&(l=h({rel:"modulepreload",href:l},d),da.set(j,l),p.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Av(j)))return}w=p.createElement("link"),ui(w,"link",l),on(w),p.head.appendChild(w)}}}function Q5e(l,d,p){Oc.S(l,d,p);var w=Sp;if(w&&l){var O=Tr(w).hoistableStyles,j=Cp(l);d=d||"default";var Q=O.get(j);if(!Q){var se={loading:0,preload:null};if(Q=w.querySelector(Dv(j)))se.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":d},p),(p=da.get(j))&&YP(l,p);var ve=Q=w.createElement("link");on(ve),ui(ve,"link",l),ve._p=new Promise(function(Be,nt){ve.onload=Be,ve.onerror=nt}),ve.addEventListener("load",function(){se.loading|=1}),ve.addEventListener("error",function(){se.loading|=2}),se.loading|=4,mC(Q,d,w)}Q={type:"stylesheet",instance:Q,count:1,state:se},O.set(j,Q)}}}function e4e(l,d){Oc.X(l,d);var p=Sp;if(p&&l){var w=Tr(p).hoistableScripts,O=xp(l),j=w.get(O);j||(j=p.querySelector(Av(O)),j||(l=h({src:l,async:!0},d),(d=da.get(O))&&XP(l,d),j=p.createElement("script"),on(j),ui(j,"link",l),p.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(O,j))}}function t4e(l,d){Oc.M(l,d);var p=Sp;if(p&&l){var w=Tr(p).hoistableScripts,O=xp(l),j=w.get(O);j||(j=p.querySelector(Av(O)),j||(l=h({src:l,async:!0,type:"module"},d),(d=da.get(O))&&XP(l,d),j=p.createElement("script"),on(j),ui(j,"link",l),p.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(O,j))}}function jK(l,d,p,w){var O=(O=ae.current)?gC(O):null;if(!O)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=Cp(p.href),p=Tr(O).hoistableStyles,w=p.get(d),w||(w={type:"style",instance:null,count:0,state:null},p.set(d,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Cp(p.href);var j=Tr(O).hoistableStyles,Q=j.get(l);if(Q||(O=O.ownerDocument||O,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(l,Q),(j=O.querySelector(Dv(l)))&&!j._p&&(Q.instance=j,Q.state.loading=5),da.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},da.set(l,p),j||n4e(O,l,p,Q.state))),d&&w===null)throw Error(r(528,""));return Q}if(d&&w!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=xp(p),p=Tr(O).hoistableScripts,w=p.get(d),w||(w={type:"script",instance:null,count:0,state:null},p.set(d,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Cp(l){return'href="'+ii(l)+'"'}function Dv(l){return'link[rel="stylesheet"]['+l+"]"}function VK(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function n4e(l,d,p,w){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?w.loading=1:(d=l.createElement("link"),w.preload=d,d.addEventListener("load",function(){return w.loading|=1}),d.addEventListener("error",function(){return w.loading|=2}),ui(d,"link",p),on(d),l.head.appendChild(d))}function xp(l){return'[src="'+ii(l)+'"]'}function Av(l){return"script[async]"+l}function $K(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var w=l.querySelector('style[data-href~="'+ii(p.href)+'"]');if(w)return d.instance=w,on(w),w;var O=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return w=(l.ownerDocument||l).createElement("style"),on(w),ui(w,"style",O),mC(w,p.precedence,l),d.instance=w;case"stylesheet":O=Cp(p.href);var j=l.querySelector(Dv(O));if(j)return d.state.loading|=4,d.instance=j,on(j),j;w=VK(p),(O=da.get(O))&&YP(w,O),j=(l.ownerDocument||l).createElement("link"),on(j);var Q=j;return Q._p=new Promise(function(se,ve){Q.onload=se,Q.onerror=ve}),ui(j,"link",w),d.state.loading|=4,mC(j,p.precedence,l),d.instance=j;case"script":return j=xp(p.src),(O=l.querySelector(Av(j)))?(d.instance=O,on(O),O):(w=p,(O=da.get(j))&&(w=h({},p),XP(w,O)),l=l.ownerDocument||l,O=l.createElement("script"),on(O),ui(O,"link",w),l.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(w=d.instance,d.state.loading|=4,mC(w,p.precedence,l));return d.instance}function mC(l,d,p){for(var w=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,j=O,Q=0;Q<w.length;Q++){var se=w[Q];if(se.dataset.precedence===d)j=se;else if(j!==O)break}j?j.parentNode.insertBefore(l,j.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function YP(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function XP(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var vC=null;function zK(l,d,p){if(vC===null){var w=new Map,O=vC=new Map;O.set(p,w)}else O=vC,w=O.get(p),w||(w=new Map,O.set(p,w));if(w.has(l))return w;for(w.set(l,null),p=p.getElementsByTagName(l),O=0;O<p.length;O++){var j=p[O];if(!(j[zr]||j[rn]||l==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=j.getAttribute(d)||"";Q=l+Q;var se=w.get(Q);se?se.push(j):w.set(Q,[j])}}return w}function UK(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function r4e(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function HK(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Lv=null;function o4e(){}function i4e(l,d,p){if(Lv===null)throw Error(r(475));var w=Lv;if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var O=Cp(p.href),j=l.querySelector(Dv(O));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(w.count++,w=yC.bind(w),l.then(w,w)),d.state.loading|=4,d.instance=j,on(j);return}j=l.ownerDocument||l,p=VK(p),(O=da.get(O))&&YP(p,O),j=j.createElement("link"),on(j);var Q=j;Q._p=new Promise(function(se,ve){Q.onload=se,Q.onerror=ve}),ui(j,"link",p),d.instance=j}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(w.count++,d=yC.bind(w),l.addEventListener("load",d),l.addEventListener("error",d))}}function s4e(){if(Lv===null)throw Error(r(475));var l=Lv;return l.stylesheets&&l.count===0&&ZP(l,l.stylesheets),0<l.count?function(d){var p=setTimeout(function(){if(l.stylesheets&&ZP(l,l.stylesheets),l.unsuspend){var w=l.unsuspend;l.unsuspend=null,w()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(p)}}:null}function yC(){if(this.count--,this.count===0){if(this.stylesheets)ZP(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var bC=null;function ZP(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,bC=new Map,d.forEach(a4e,l),bC=null,yC.call(l))}function a4e(l,d){if(!(d.state.loading&4)){var p=bC.get(l);if(p)var w=p.get(null);else{p=new Map,bC.set(l,p);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<O.length;j++){var Q=O[j];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(p.set(Q.dataset.precedence,Q),w=Q)}w&&p.set(null,w)}O=d.instance,Q=O.getAttribute("data-precedence"),j=p.get(Q)||w,j===w&&p.set(null,O),p.set(Q,O),this.count++,w=yC.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),j?j.parentNode.insertBefore(O,j.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),d.state.loading|=4}}var Nv={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function l4e(l,d,p,w,O,j,Q,se){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=j,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function GK(l,d,p,w,O,j,Q,se,ve,Be,nt,lt){return l=new l4e(l,d,p,Q,se,ve,Be,lt),d=1,j===!0&&(d|=24),j=bs(3,null,null,d),l.current=j,j.stateNode=l,d=kI(),d.refCount++,l.pooledCache=d,d.refCount++,j.memoizedState={element:w,isDehydrated:p,cache:d},NI(j),l}function WK(l){return l?(l=ys,l):ys}function KK(l,d,p,w,O,j){O=WK(O),w.context===null?w.context=O:w.pendingContext=O,w=Tu(d),w.payload={element:p},j=j===void 0?null:j,j!==null&&(w.callback=j),p=Mu(l,w,d),p!==null&&(_s(p,l,d),hv(p,l,d))}function qK(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function JP(l,d){qK(l,d),(l=l.alternate)&&qK(l,d)}function YK(l){if(l.tag===13){var d=jt(l,67108864);d!==null&&_s(d,l,67108864),JP(l,67108864)}}var wC=!0;function c4e(l,d,p,w){var O=V.T;V.T=null;var j=Y.p;try{Y.p=2,QP(l,d,p,w)}finally{Y.p=j,V.T=O}}function u4e(l,d,p,w){var O=V.T;V.T=null;var j=Y.p;try{Y.p=8,QP(l,d,p,w)}finally{Y.p=j,V.T=O}}function QP(l,d,p,w){if(wC){var O=ek(w);if(O===null)VP(l,d,w,SC,p),ZK(l,w);else if(h4e(O,l,d,p,w))w.stopPropagation();else if(ZK(l,w),d&4&&-1<d4e.indexOf(l)){for(;O!==null;){var j=bo(O);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var Q=at(j.pendingLanes);if(Q!==0){var se=j;for(se.pendingLanes|=2,se.entangledLanes|=2;Q;){var ve=1<<31-gt(Q);se.entanglements[1]|=ve,Q&=~ve}Al(j),(wr&6)===0&&(oC=rt()+500,Rv(0))}}break;case 13:se=jt(j,2),se!==null&&_s(se,j,2),sC(),JP(j,2)}if(j=ek(w),j===null&&VP(l,d,w,SC,p),j===O)break;O=j}O!==null&&w.stopPropagation()}else VP(l,d,w,null,p)}}function ek(l){return l=mu(l),tk(l)}var SC=null;function tk(l){if(SC=null,l=pr(l),l!==null){var d=i(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=s(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return SC=l,null}function XK(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Rt:return 2;case dt:return 8;case Ct:case $e:return 32;case It:return 268435456;default:return 32}default:return 32}}var nk=!1,Vu=null,$u=null,zu=null,Bv=new Map,Fv=new Map,Uu=[],d4e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZK(l,d){switch(l){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":$u=null;break;case"mouseover":case"mouseout":zu=null;break;case"pointerover":case"pointerout":Bv.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fv.delete(d.pointerId)}}function jv(l,d,p,w,O,j){return l===null||l.nativeEvent!==j?(l={blockedOn:d,domEventName:p,eventSystemFlags:w,nativeEvent:j,targetContainers:[O]},d!==null&&(d=bo(d),d!==null&&YK(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),l)}function h4e(l,d,p,w,O){switch(d){case"focusin":return Vu=jv(Vu,l,d,p,w,O),!0;case"dragenter":return $u=jv($u,l,d,p,w,O),!0;case"mouseover":return zu=jv(zu,l,d,p,w,O),!0;case"pointerover":var j=O.pointerId;return Bv.set(j,jv(Bv.get(j)||null,l,d,p,w,O)),!0;case"gotpointercapture":return j=O.pointerId,Fv.set(j,jv(Fv.get(j)||null,l,d,p,w,O)),!0}return!1}function JK(l){var d=pr(l.target);if(d!==null){var p=i(d);if(p!==null){if(d=p.tag,d===13){if(d=s(p),d!==null){l.blockedOn=d,Lt(l.priority,function(){if(p.tag===13){var w=xs();w=Br(w);var O=jt(p,w);O!==null&&_s(O,p,w),JP(p,w)}});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function CC(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=ek(l.nativeEvent);if(p===null){p=l.nativeEvent;var w=new p.constructor(p.type,p);Da=w,p.target.dispatchEvent(w),Da=null}else return d=bo(p),d!==null&&YK(d),l.blockedOn=p,!1;d.shift()}return!0}function QK(l,d,p){CC(l)&&p.delete(d)}function f4e(){nk=!1,Vu!==null&&CC(Vu)&&(Vu=null),$u!==null&&CC($u)&&($u=null),zu!==null&&CC(zu)&&(zu=null),Bv.forEach(QK),Fv.forEach(QK)}function xC(l,d){l.blockedOn===d&&(l.blockedOn=null,nk||(nk=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,f4e)))}var _C=null;function eq(l){_C!==l&&(_C=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_C===l&&(_C=null);for(var d=0;d<l.length;d+=3){var p=l[d],w=l[d+1],O=l[d+2];if(typeof w!="function"){if(tk(w||p)===null)continue;break}var j=bo(p);j!==null&&(l.splice(d,3),d-=3,tP(j,{pending:!0,data:O,method:p.method,action:w},w,O))}}))}function Vv(l){function d(ve){return xC(ve,l)}Vu!==null&&xC(Vu,l),$u!==null&&xC($u,l),zu!==null&&xC(zu,l),Bv.forEach(d),Fv.forEach(d);for(var p=0;p<Uu.length;p++){var w=Uu[p];w.blockedOn===l&&(w.blockedOn=null)}for(;0<Uu.length&&(p=Uu[0],p.blockedOn===null);)JK(p),p.blockedOn===null&&Uu.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(w=0;w<p.length;w+=3){var O=p[w],j=p[w+1],Q=O[nn]||null;if(typeof j=="function")Q||eq(p);else if(Q){var se=null;if(j&&j.hasAttribute("formAction")){if(O=j,Q=j[nn]||null)se=Q.formAction;else if(tk(O)!==null)continue}else se=Q.action;typeof se=="function"?p[w+1]=se:(p.splice(w,3),w-=3),eq(p)}}}function rk(l){this._internalRoot=l}EC.prototype.render=rk.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,w=xs();KK(p,w,l,d,null,null)},EC.prototype.unmount=rk.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;KK(l.current,2,null,l,null,null),sC(),d[Rn]=null}};function EC(l){this._internalRoot=l}EC.prototype.unstable_scheduleHydration=function(l){if(l){var d=Ln();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Uu.length&&d!==0&&d<Uu[p].priority;p++);Uu.splice(p,0,l),p===0&&JK(l)}};var tq=t.version;if(tq!=="19.1.1")throw Error(r(527,tq,"19.1.1"));Y.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(d),l=l!==null?u(l):null,l=l===null?null:l.stateNode,l};var p4e={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var TC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!TC.isDisabled&&TC.supportsFiber)try{zt=TC.inject(p4e),qt=TC}catch{}}return Wm.createRoot=function(l,d){if(!o(l))throw Error(r(299));var p=!1,w="",O=v6,j=y6,Q=b6,se=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(j=d.onCaughtError),d.onRecoverableError!==void 0&&(Q=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(se=d.unstable_transitionCallbacks)),d=GK(l,1,!1,null,null,p,w,O,j,Q,se,null),l[Rn]=d.current,jP(l),new rk(d)},Wm.hydrateRoot=function(l,d,p){if(!o(l))throw Error(r(299));var w=!1,O="",j=v6,Q=y6,se=b6,ve=null,Be=null;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onUncaughtError!==void 0&&(j=p.onUncaughtError),p.onCaughtError!==void 0&&(Q=p.onCaughtError),p.onRecoverableError!==void 0&&(se=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(ve=p.unstable_transitionCallbacks),p.formState!==void 0&&(Be=p.formState)),d=GK(l,1,!0,d,p??null,w,O,j,Q,se,ve,Be),d.context=WK(null),p=d.current,w=xs(),w=Br(w),O=Tu(w),O.callback=null,Mu(p,O,w),p=w,d.current.lanes=p,_n(d,p),Al(d),l[Rn]=d.current,jP(l),new EC(d)},Wm.version="19.1.1",Wm}var cW;function Z2e(){if(cW)return yI.exports;cW=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yI.exports=X2e(),yI.exports}var J2e=Z2e();function Q2e(e,t){const n=typeof e=="string"?document.getElementById(e):e;J2e.createRoot(n).render(t)}async function e5e(e){const t=new Cme({baseUrl:Zu.apiUrl}),n=new nye({apiClient:t});n.init(),Q2e(e,x.jsx(K2e,{m:n}))}return $v.create=e5e,$v.options=Zu,Object.defineProperty($v,Symbol.toStringTag,{value:"Module"}),$v})({});
;var $GH_COMMIT = '16acce3 fix(player): Исправлены начальные x y для дочерних окон';
