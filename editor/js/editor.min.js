(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.pVED4Nqg{border-radius:16px;width:30%}.pVED4Nqg form{display:flex;flex-direction:column}.pVED4Nqg form menu{display:flex;flex-direction:column;gap:4px}.pVED4Nqg form button{height:40px}.pVED4Nqg form button[value=ok]:enabled{background-color:#90ee90}.pVED4Nqg form p{display:flex;justify-content:center}.pVED4Nqg input::file-selector-button{font-weight:700;color:#1e90ff;padding:.5em;border:thin solid grey;border-radius:3px}.ApJIp71s{position:relative;overflow:hidden;outline:none;transform-origin:top left}.ApJIp71s.qhzEyKeP{overflow-x:auto}.ApJIp71s.j1zyfqqN{overflow-y:auto}.ApJIp71s.-WlIuMox{display:none}.ApJIp71s .ApJIp71s{position:absolute}.ApJIp71s ._-7ivHAO2{position:sticky!important;top:0;left:0}.ApJIp71s .xTZG1aX9{pointer-events:none;position:absolute!important;top:0;left:0}.ApJIp71s .Q4gUooLG{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.yNr0VPwT{position:relative;user-select:none;width:100%;height:100%;overflow:clip}.yNr0VPwT>canvas{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.yNr0VPwT .doAE-L2e{all:unset;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.yNr0VPwT ._8PHlccAK{position:absolute;pointer-events:auto;background-color:#000}.yNr0VPwT.k7TCS6Hm .doAE-L2e{pointer-events:none}.yNr0VPwT .doAE-L2e.-QksePcc{white-space:wrap}.yNr0VPwT .doAE-L2e:not(.-QksePcc){overflow:hidden}.yNr0VPwT textarea.doAE-L2e.GnGoYW5X{border:inset 2px}.yNr0VPwT input[type=button].doAE-L2e{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.yNr0VPwT input[type=button].doAE-L2e:active{border-style:inset}.c3UHApxQ{position:relative;overflow:auto;min-width:300px;min-height:300px}.JtozXFt9{position:absolute!important;margin:0 auto;left:0;right:0}.JtozXFt9.pnlxzH3m{transition:opacity .25s linear,box-shadow .1s linear}.JtozXFt9.pnlxzH3m:focus-within{box-shadow:0 2px 6px #0000004d}.JtozXFt9.dJ50k0ZR{transition:opacity .25s linear;box-shadow:13px 11px 6px #0000007f;border:1px black solid}.JtozXFt9 ._2NuvSdcG{padding:0;background-color:transparent;border:none;position:absolute;top:0;right:8px;font-size:26px;cursor:pointer;color:#333}.JtozXFt9 ._2NuvSdcG:hover{color:red}.Lub8lEDq{position:relative;user-select:none;width:100%;height:100%;overflow:clip;background-color:#fff}.Lub8lEDq>svg,.Lub8lEDq>div{pointer-events:none;position:absolute;overflow:clip;top:0;left:0;width:100%;height:100%}.Lub8lEDq ._3Au4Qe-K{all:unset;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.Lub8lEDq .uvJsh9bM{position:absolute;pointer-events:auto;background-color:#000}.Lub8lEDq.pQtj-s3j ._3Au4Qe-K{pointer-events:none}.Lub8lEDq ._3Au4Qe-K._3YpK1pvi{white-space:wrap}.Lub8lEDq ._3Au4Qe-K:not(._3YpK1pvi){overflow:hidden}.Lub8lEDq textarea._3Au4Qe-K._3n6h0K3a{border:inset 2px}.Lub8lEDq input[type=button]._3Au4Qe-K{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.Lub8lEDq input[type=button]._3Au4Qe-K:active{border-style:inset}@keyframes marching-ants{0%{background-position:0 0,0 100%,0 0,100% 0}to{background-position:20px 0,-20px 100%,0 -20px,100% 20px}}:root{--rc-drag-handle-size: 12px;--rc-drag-handle-mobile-size: 24px;--rc-drag-handle-bg-colour: rgba(0, 0, 0, .2);--rc-drag-bar-size: 6px;--rc-border-color: rgba(255, 255, 255, .7);--rc-focus-color: #0088ff}.ReactCrop{position:relative;display:inline-block;cursor:crosshair;max-width:100%}.ReactCrop *,.ReactCrop *:before,.ReactCrop *:after{box-sizing:border-box}.ReactCrop--disabled,.ReactCrop--locked{cursor:inherit}.ReactCrop__child-wrapper{overflow:hidden;max-height:inherit}.ReactCrop__child-wrapper>img,.ReactCrop__child-wrapper>video{display:block;max-width:100%;max-height:inherit}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>img,.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>video{touch-action:none}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__crop-selection{touch-action:none}.ReactCrop__crop-mask{position:absolute;inset:0;pointer-events:none;width:calc(100% + .5px);height:calc(100% + .5px)}.ReactCrop__crop-selection{position:absolute;top:0;left:0;transform:translateZ(0);cursor:move}.ReactCrop--disabled .ReactCrop__crop-selection{cursor:inherit}.ReactCrop--circular-crop .ReactCrop__crop-selection{border-radius:50%}.ReactCrop--circular-crop .ReactCrop__crop-selection:after{pointer-events:none;content:"";position:absolute;inset:-1px;border:1px solid var(--rc-border-color);opacity:.3}.ReactCrop--no-animate .ReactCrop__crop-selection{outline:1px dashed white}.ReactCrop__crop-selection:not(.ReactCrop--no-animate .ReactCrop__crop-selection){animation:marching-ants 1s;background-image:linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%);background-size:10px 1px,10px 1px,1px 10px,1px 10px;background-position:0 0,0 100%,0 0,100% 0;background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;color:#fff;animation-play-state:running;animation-timing-function:linear;animation-iteration-count:infinite}.ReactCrop__crop-selection:focus{outline:2px solid var(--rc-focus-color);outline-offset:-1px}.ReactCrop--invisible-crop .ReactCrop__crop-mask,.ReactCrop--invisible-crop .ReactCrop__crop-selection{display:none}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after,.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{content:"";display:block;position:absolute;background-color:#fff6}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after{width:1px;height:100%}.ReactCrop__rule-of-thirds-vt:before{left:33.3333333333%}.ReactCrop__rule-of-thirds-vt:after{left:66.6666666667%}.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{width:100%;height:1px}.ReactCrop__rule-of-thirds-hz:before{top:33.3333333333%}.ReactCrop__rule-of-thirds-hz:after{top:66.6666666667%}.ReactCrop__drag-handle{position:absolute;width:var(--rc-drag-handle-size);height:var(--rc-drag-handle-size);background-color:var(--rc-drag-handle-bg-colour);border:1px solid var(--rc-border-color)}.ReactCrop__drag-handle:focus{background:var(--rc-focus-color)}.ReactCrop .ord-nw{top:0;left:0;transform:translate(-50%,-50%);cursor:nw-resize}.ReactCrop .ord-n{top:0;left:50%;transform:translate(-50%,-50%);cursor:n-resize}.ReactCrop .ord-ne{top:0;right:0;transform:translate(50%,-50%);cursor:ne-resize}.ReactCrop .ord-e{top:50%;right:0;transform:translate(50%,-50%);cursor:e-resize}.ReactCrop .ord-se{bottom:0;right:0;transform:translate(50%,50%);cursor:se-resize}.ReactCrop .ord-s{bottom:0;left:50%;transform:translate(-50%,50%);cursor:s-resize}.ReactCrop .ord-sw{bottom:0;left:0;transform:translate(-50%,50%);cursor:sw-resize}.ReactCrop .ord-w{top:50%;left:0;transform:translate(-50%,-50%);cursor:w-resize}.ReactCrop__disabled .ReactCrop__drag-handle{cursor:inherit}.ReactCrop__drag-bar{position:absolute}.ReactCrop__drag-bar.ord-n{top:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(-50%)}.ReactCrop__drag-bar.ord-e{right:0;top:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(50%)}.ReactCrop__drag-bar.ord-s{bottom:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(50%)}.ReactCrop__drag-bar.ord-w{top:0;left:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(-50%)}.ReactCrop--new-crop .ReactCrop__drag-bar,.ReactCrop--new-crop .ReactCrop__drag-handle,.ReactCrop--fixed-aspect .ReactCrop__drag-bar,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-n,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-e,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-s,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-w{display:none}@media (pointer: coarse){.ReactCrop .ord-n,.ReactCrop .ord-e,.ReactCrop .ord-s,.ReactCrop .ord-w{display:none}.ReactCrop__drag-handle{width:var(--rc-drag-handle-mobile-size);height:var(--rc-drag-handle-mobile-size)}}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
var stratumEditor=(function(jv){"use strict";function tq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function EC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var TC={exports:{}},Tp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP;function nq(){if(JP)return Tp;JP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,i){var s=null;if(i!==void 0&&(s=""+i),o.key!==void 0&&(s=""+o.key),"key"in o){i={};for(var a in o)a!=="key"&&(i[a]=o[a])}else i=o;return o=i.ref,{$$typeof:e,type:r,key:s,ref:o!==void 0?o:null,props:i}}return Tp.Fragment=t,Tp.jsx=n,Tp.jsxs=n,Tp}var ek;function rq(){return ek||(ek=1,TC.exports=nq()),TC.exports}var x=rq();/**
Copyright (c) 2020 Egor Nepomnyaschih @license (MIT)
*/const Al=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],tk=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Vv(e){if(e>=tk.length)throw new Error("Unable to parse base64 string.");const t=tk[e];if(t===255)throw new Error("Unable to parse base64 string.");return t}function $v(e){let t="",n,r=e.length;for(n=2;n<r;n+=3)t+=Al[e[n-2]>>2],t+=Al[(e[n-2]&3)<<4|e[n-1]>>4],t+=Al[(e[n-1]&15)<<2|e[n]>>6],t+=Al[e[n]&63];return n===r+1&&(t+=Al[e[n-2]>>2],t+=Al[(e[n-2]&3)<<4],t+="=="),n===r&&(t+=Al[e[n-2]>>2],t+=Al[(e[n-2]&3)<<4|e[n-1]>>4],t+=Al[(e[n-1]&15)<<2],t+="="),t}function MC(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(t!==-1&&t<e.length-2)throw new Error("Unable to parse base64 string.");let n=e.endsWith("==")?2:e.endsWith("=")?1:0,r=e.length,o=new Uint8Array(3*(r/4)),i;for(let s=0,a=0;s<r;s+=4,a+=3)i=Vv(e.charCodeAt(s))<<18|Vv(e.charCodeAt(s+1))<<12|Vv(e.charCodeAt(s+2))<<6|Vv(e.charCodeAt(s+3)),o[a]=i>>16,o[a+1]=i>>8&255,o[a+2]=i&255;return o.subarray(0,o.length-n)}const fa=[...Array.from({length:128},(e,t)=>String.fromCharCode(t)),"Ђ","Ѓ","‚","ѓ","„","…","†","‡","€","‰","Љ","‹","Њ","Ќ","Ћ","Џ","ђ","‘","’","“","”","•","–","—","","™","љ","›","њ","ќ","ћ","џ"," ","Ў","ў","Ћ","¤","Ґ","¦","§","Ё","©","Є","«","¬","","®","Ї","°","±","І","і","ґ","µ","¶","·","ё","№","є","»","ј","Ѕ","ѕ","ї","А","Б","В","Г","Д","Е","Ж","З","И","Й","К","Л","М","Н","О","П","Р","С","Т","У","Ф","Х","Ц","Ч","Ш","Щ","Ъ","Ы","Ь","Э","Ю","Я","а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"];function zv(e){return Array.from(e).map(t=>fa[t]).join("")}const Uv=32,oq=10;function OC(e){return new Uint8Array([...e].map(t=>{const n=fa.indexOf(t);return n>-1?n:Uv}))}class pa{constructor(){this.listeners=new Set,this.listenersOnce=new Set}add(t){this.listeners.add(t)}addOnce(t){this.listenersOnce.add(t)}remove(t){this.listeners.delete(t),this.listenersOnce.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.listenersOnce.forEach(n=>n(...t)),this.listenersOnce.clear()}}const Mp=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare;/**
 * Gauss-Jordan elimination by lovasoa (https://github.com/lovasoa) @license (MIT)
 */class RC{constructor(t,n){this.data=new Array(t.length);for(let r=0,o=t[0].length;r<t.length;r++){this.data[r]=new Array(o);for(let i=0;i<o;i++)this.data[r][i]=t[r][i]}if(n){if(typeof n[0]!="object")for(let r=0;r<n.length;r++)n[r]=[n[r]];this.mirror=new RC(n)}}swap(t,n){this.mirror&&this.mirror.swap(t,n);const r=this.data[t];this.data[t]=this.data[n],this.data[n]=r}multline(t,n){this.mirror&&this.mirror.multline(t,n);const r=this.data[t];for(let o=r.length-1;o>=0;o--)r[o]*=n}addmul(t,n,r){this.mirror&&this.mirror.addmul(t,n,r);const o=this.data[t],i=this.data[n];for(let s=o.length-1;s>=0;s--)o[s]=o[s]+r*i[s]}hasNullLine(t){for(let n=0;n<this.data[t].length;n++)if(this.data[t][n]!==0)return!1;return!0}gauss(){let t=0;const n=this.data.length,r=this.data[0].length,o=[];for(let i=0;i<r;i++){let s=0,a=0;for(let c=t;c<n;c++){const d=this.data[c][i];Math.abs(d)>Math.abs(s)&&(a=c,s=d)}if(s===0)o.push(t);else{this.multline(a,1/s),this.swap(a,t);for(let c=0;c<n;c++)c!==t&&this.addmul(c,t,-this.data[c][i])}t++}for(let i=0;i<o.length;i++)if(!this.mirror.hasNullLine(o[i]))throw new Error("singular matrix");return this.mirror.data}}function iq(e){const{a:t,b:n}=e,r=new RC(t,n).gauss();if(r.length>0&&r[0].length===1)for(let o=0;o<r.length;o++)r[o]=r[o][0];return r}function nk(e,t,n,r){const o=n-e,i=r-t;return Math.sqrt(o*o+i*i)}function rk(e,t,n,r,o){for(let i=t?0:2,s=t?e.length-2:0;i<e.length;s=i,i+=2){const a=e[i],c=e[i+1],d=e[s],h=e[s+1],f=a-d,g=c-h,m=f*f+g*g;if(m===0&&nk(r,o,d,h)<=n)return s/2;let y=((r-d)*f+(o-h)*g)/m;if(y=Math.max(0,Math.min(1,y)),nk(r,o,d+y*f,h+y*g)<=n)return s/2}return-1}function sq(e,t,n){let r=!1;for(let o=0,i=e.length-2;o<e.length;i=o,o+=2){const s=e[o],a=e[o+1],c=e[i],d=e[i+1];(a<=n&&n<d||d<=n&&n<a)&&d-a!==0&&t>(c-s)*(n-a)/(d-a)+s&&(r=!r)}return r}const ok="stdlib",Gu={contentUrl:"./content"};function Ji(e){if(e.startsWith("res:")){const t=e.slice(4);return t.startsWith("stdlib/")?`${Gu.contentUrl}/stdlib/res/${t.slice(7)}`:`${Gu.contentUrl}/libs/${t.slice(0,2)}/${t.slice(2,22)}/res/${t.slice(23)}`}return e.startsWith("icon:")?`${Gu.contentUrl}/icons/${e.slice(5)}.png`:e}function aq(e){return e==="stdlib"?`${Gu.contentUrl}/stdlib/index.json`:`${Gu.contentUrl}/libs/${e.slice(0,2)}/${e.slice(2)}/index.json`}function lq(e,t){return`res:${e}/${t}`}function cq(e){const t=e[0]*(e[4]*e[8]-e[7]*e[5])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]);return[(e[4]*e[8]-e[7]*e[5])/t,(e[2]*e[7]-e[1]*e[8])/t,(e[1]*e[5]-e[2]*e[4])/t,(e[5]*e[6]-e[3]*e[8])/t,(e[0]*e[8]-e[2]*e[6])/t,(e[3]*e[2]-e[0]*e[5])/t,(e[3]*e[7]-e[6]*e[4])/t,(e[6]*e[1]-e[0]*e[7])/t,(e[0]*e[4]-e[3]*e[1])/t]}function uq(e,t){return t===null?void 0:t}function dq(e){return JSON.stringify(e,uq)}const hq=/[\/\?<>\\:\*\|"]/g,fq=/[\x00-\x1f\x80-\x9f]/g,pq=/^\.+$/,gq=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,mq=/[\. ]+$/;function ik(e){return e.replace(hq,"").replace(fq,"").replace(pq,"").replace(gq,"").replace(mq,"")}class Ll{constructor(t){this.m=new Map,t?.forEach(([n,r])=>this.set(n,r))}set(t,n){const r=this.m.get(t);return r?r.add(n):this.m.set(t,new Set([n])),this}get(t){return this.m.get(t)??null}delete(t){return this.m.delete(t)}forEach(t){return this.m.forEach(t)}[Symbol.iterator](){return this.m.entries()}values(){return this.m.values()}}const vq=[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","!","∀","#","∃","%","&","∍","(",")","*","+",",","−",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","≅","Α","Β","Χ","Δ","Ε","Φ","Γ","Η","Ι","ϑ","Κ","Λ","Μ","Ν","Ο","Π","Θ","Ρ","Σ","Τ","Υ","ς","Ω","Ξ","Ψ","Ζ","[","∴","]","⊥","_","‾","α","β","χ","δ","ε","φ","γ","η","ι","ϕ","κ","λ","μ","ν","ο","π","θ","ρ","σ","τ","υ","ϖ","ω","ξ","ψ","ζ","{","|","}","~"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","€","ϒ","′","≤","⁄","∞","ƒ","♣","♦","♥","♠","↔","←","↑","→","↓","°","±","″","≥","×","∝","∂","•","÷","≠","≡","≈","…","⏐","⎯","↵","ℵ","ℑ","ℜ","℘","⊗","⊕","∅","∩","∪","⊃","⊇","⊄","⊂","⊆","∈","∉","∠","∇","®","©","™","∏","√","⋅","¬","∧","∨","⇔","⇐","⇑","⇒","⇓","◊","〈","®","©","™","∑","⎛","⎜","⎝","⎡","⎢","⎣","⎧","⎨","⎩","⎪"," ","〉","∫","⌠","⎮","⌡","⎞","⎟","⎠","⎤","⎥","⎦","⎫","⎬","⎭"," "];function IC(e){let t="";for(let n=0;n<e.length;++n){let r=fa.indexOf(e[n]);r===142?r=163:r<0&&(r=0),t+=vq[r]}return t}class Os extends Map{static freeKey(t,n){let r=n||0;for(;t.has(++r););return r}static freeNegativeKey(t){let n=0;for(;t.has(--n););return n}}function sk(e,t){return e.filter(n=>n!==t)}function lo(e){return e||void 0}function Op(e){return e.length?e:void 0}function ak(e){return(e&e-1)===0}function Hv(e,t,n){return Math.min(Math.max(e,t),n)}function lk(e,t){e=Math.abs(e)%100;const n=e%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:n===1?t[0]:t[2]}function yq(e){const t=e.split("."),n=t.length>1?t.pop():"";return{base:t.join("."),ext:n}}function ck(e){return new Array().concat(...e)}function Rp(e,t){const n=[];for(const r of e)t(r)&&n.push(r);return n}function*uk(e,t){for(const n of e)yield t(n)}function wi(e,t){const n=[];for(const r of e){const o=t(r);o&&n.push(o)}return n}function bq(e,t){const n=e.length-1,r=[];for(let o=n;o>=0;--o)r.push(t(e[o]));return r}function PC(e){return e*180/Math.PI}function Ip(e){return e*Math.PI/180}function kC(e,t,n){const r=[];let o=!1;for(const i of e)i!==n&&(!o&&r.length===t&&(r.push(n),o=!0),r.push(i));return o||r.push(n),r}function wq(e){return Math.round(e*1e5)/1e5}function Gv(e,t,n=!1){if(e)return;let r=t;if(!n){const i=t.split(" ");i.splice(i.length-1,0,"не"),r=i.join(" ")}const o=Error(r);if(o.stack){const i=o.stack.split(`
`);o.stack=[i[0],...i.slice(2)].join(`
`)}throw o}function Wu(e,t){Object.assign(e.style,t)}const DC=document.createElement("a");function AC(e,t){const n=URL.createObjectURL(e);DC.href=n,DC.download=t,DC.click(),setTimeout(()=>URL.revokeObjectURL(n),1e3)}function dk(e){e.target===e.currentTarget&&e.preventDefault()}function LC(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error(`Ошибка загрузки ${e}`)),r.crossOrigin="",r.src=e})}function Rh(e,t){if(window.OffscreenCanvas)return new OffscreenCanvas(e,t);{const n=document.createElement("canvas");return n.width=e,n.height=t,n}}class Pp{constructor(t){this.root=t,this.frameId=0}get isRunning(){return this.frameId!==0}run(t){if(this.isRunning)return;const{root:n}=this,r=o=>{this.frameId=t(o)?n.requestAnimationFrame(r):0};this.frameId=n.requestAnimationFrame(r)}stop(){this.isRunning&&(this.root.cancelAnimationFrame(this.frameId),this.frameId=0)}}function Sq(){const e=Date.now(),t=new Uint8Array(2);crypto.getRandomValues(t);const n=t[0]*256+t[1];return e*65536+n}let hk=0;function fk(){return(++hk).toString()}function Wv(){return(++hk).toString()}function Cq(e){try{return JSON.parse(localStorage.getItem(e))}catch{return null}}function xq(e,t){localStorage.setItem(e,JSON.stringify(t))}function _q(e){localStorage.removeItem(e)}class Kr{constructor(t=!1){this.once=t,this.listeners=new Set}add(t){this.listeners.add(t)}remove(t){this.listeners.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.once&&this.listeners.clear()}}class Eq{constructor(){this.value=null}set(t){this.value=t}}function pk(e,t){if(!t)return"C:\\"+NC(e);const n=t.toUpperCase().split("/"),r=e.split("/"),o=r.map(d=>d.toUpperCase());let i=0;for(;i<n.length&&i<o.length&&o[i]===n[i];++i);const s=Array.from({length:n.length-i},()=>".."),a=Array.from({length:r.length-i},(d,h)=>r[i+h]);return s.concat(a).join("\\")}function NC(e){return e.split("/").join("\\")}function Tq(e,t){navigator.clipboard?navigator.clipboard.writeText(e):prompt(t,e)}function Mq(e){const t=pk(e.path,e.lib.vfs.projectRootDir?.path);Tq(t,"Относительный путь")}function Oq(e,t=250){return setTimeout.bind(null,e,t)}function Ih(e,t,n=""){n&&(n="."+n);let r=2,o=t+n;for(;e.getEntry(o);)o=t+" "+r+n,++r;return o}class Si extends Error{}class Rq extends Si{constructor(){super("Имя имиджа должно состоять из букв, цифр и подчеркивания")}}function gk(e){if(!/^[_A-ZА-Я][_A-ZА-Я0-9]*$/i.test(e))throw new Rq}function mk(e){const t=new Date;return{name:e,id:Sq(),image:{icon:{atlas:"system.dbm",index:0}},date:t.toJSON()}}const Iq={cols:0,rows:0,minV:0,minH:0,data:[]},Pq={};async function kq(e){const t=URL.createObjectURL(e),n=await LC(t),{naturalWidth:r,naturalHeight:o}=n;return URL.revokeObjectURL(t),{width:r,height:o}}function Dq(){return parseInt(new URLSearchParams(location.search).get("p"))}function Aq(e){history.pushState({},"",`./?p=${e}`)}function Ku(e,t){return Mp(e.name,t.name)}function vk(e){return`${location.origin+location.pathname}embed/?p=${e.id}&key=${e.accessKey}`}function qu(e){return(Math.round(e*1e5)/1e5).toString()}const Kv=[];async function Lq(e,{width:t,height:n}){const r=Kv.find(({type:s,size:a,name:c,data:{image:d}})=>e.type===s&&e.size===a&&e.name===c&&d.width===t&&d.height===n);if(!r)return null;const o=`${e.name} (${e.type}, ${e.size}б, ${t}x${n}): `;return(await fetch(Ji(r.data.image.src),{method:"HEAD",cache:"no-cache"})).ok?(console.log(o+"взято из кеша"),r.data):(Kv.splice(Kv.indexOf(r)),console.log(o+"нет на сервере, удалено из кеша"),null)}class Nq{constructor(t,n){this.client=t,this.lib=n}async upload(t){const n=[],{client:r,lib:o}=this,i=[],s=t.map(async c=>{const d=c.name.split("."),h=d.length>1?d.at(-1).toLowerCase():"";if(h==="cur"||h==="ico"||c.type==="image/x-win-bitmap"||c.type==="image/x-icon"||c.type==="image/vnd.microsoft.icon"){i.push({file:c,mapFn:m=>({cursor:{src:m}})});return}if(c.type.startsWith("image/")){const m=await kq(c),y=await Lq(c,m);if(y){n.push({data:y,file:c});return}const{width:b,height:v}=m;i.push({file:c,mapFn:S=>({image:{src:S,width:b,height:v}})});return}if(c.type.startsWith("video/")){i.push({file:c,mapFn:m=>({video:{src:m}})});return}if(c.type.startsWith("audio/")){i.push({file:c,mapFn:m=>({audio:{src:m}})});return}if(c.type.startsWith("font/")){i.push({file:c,mapFn:m=>({ttf:{src:m}})});return}const f=await c.arrayBuffer(),g=$v(new Uint8Array(f));n.push({file:c,data:{base64:g,size:f.byteLength}})});try{await Promise.all(s)}catch(c){if(!(c instanceof Error))throw c;return alert(c.message),[]}if(!i.length)return n;let a;try{a=await r.createLibraryRes(o.id,i.map(c=>c.file))}catch(c){return alert(`Не удалось загрузить файлы: ${c.message}`),[]}return i.forEach(({file:c,mapFn:d},h)=>{const f=a.files[h];if(!f.res)return;const{name:g,size:m}=f.res,y=lq(o.contentDirname,g),b={...d(y),size:m};b.image&&Kv.push({name:c.name,size:c.size,type:c.type,data:b}),n.push({file:c,data:b})}),n}}const Yu=Gu;Yu.localStoragePrefix="editor",Yu.apiUrl="./api",Yu.zoomWithCtrl=!!localStorage.getItem("zoomWithCtrl");var et=(e=>(e[e.PI=3.1415926536]="PI",e[e.WORD8=0]="WORD8",e[e.INT8=1]="INT8",e[e.WORD16=2]="WORD16",e[e.INT16=3]="INT16",e[e.WORD32=4]="WORD32",e[e.INT32=5]="INT32",e[e.FLOAT32=6]="FLOAT32",e[e.FLOAT40=7]="FLOAT40",e[e.FLOAT64=8]="FLOAT64",e[e.FLOAT80=9]="FLOAT80",e[e.PEN2D=1]="PEN2D",e[e.BRUSH2D=2]="BRUSH2D",e[e.DIB2D=3]="DIB2D",e[e.DOUBLEDIB2D=4]="DOUBLEDIB2D",e[e.FONT2D=5]="FONT2D",e[e.STRING2D=6]="STRING2D",e[e.TEXT2D=7]="TEXT2D",e[e.SPACE3D=8]="SPACE3D",e[e.TEXTURE3D=9]="TEXTURE3D",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_CLOSE=16]="WM_CLOSE",e[e.WM_GETMINMAXINFO=36]="WM_GETMINMAXINFO",e[e.WM_COMMAND=273]="WM_COMMAND",e[e.WM_MOUSEMOVE=512]="WM_MOUSEMOVE",e[e.WM_LBUTTONDOWN=513]="WM_LBUTTONDOWN",e[e.WM_LBUTTONUP=514]="WM_LBUTTONUP",e[e.WM_LBUTTONDBLCLK=515]="WM_LBUTTONDBLCLK",e[e.WM_RBUTTONDOWN=516]="WM_RBUTTONDOWN",e[e.WM_RBUTTONUP=517]="WM_RBUTTONUP",e[e.WM_RBUTTONDBLCLK=518]="WM_RBUTTONDBLCLK",e[e.WM_MBUTTONDOWN=519]="WM_MBUTTONDOWN",e[e.WM_MBUTTONUP=520]="WM_MBUTTONUP",e[e.WM_MBUTTONDBLCLK=521]="WM_MBUTTONDBLCLK",e[e.WM_ALLMOUSEMESSAGE=1536]="WM_ALLMOUSEMESSAGE",e[e.WM_ALLKEYMESSAGE=1537]="WM_ALLKEYMESSAGE",e[e.WM_KEYDOWN=256]="WM_KEYDOWN",e[e.WM_KEYUP=257]="WM_KEYUP",e[e.WM_CANCLOSE=1538]="WM_CANCLOSE",e[e.WM_SPACEDONE=1539]="WM_SPACEDONE",e[e.WM_SPACEINIT=1540]="WM_SPACEINIT",e[e.WM_CONTROLNOTIFY=1544]="WM_CONTROLNOTIFY",e[e.WM_HYPERJUMP=1546]="WM_HYPERJUMP",e[e.SIZE_RESTORED=0]="SIZE_RESTORED",e[e.SIZE_MINIMIZED=1]="SIZE_MINIMIZED",e[e.SIZE_MAXIMIZED=2]="SIZE_MAXIMIZED",e[e.SIZE_MAXSHOW=3]="SIZE_MAXSHOW",e[e.SIZE_MAXHIDE=4]="SIZE_MAXHIDE",e[e.OTGROUP2D=3]="OTGROUP2D",e[e.OTRGROUP2D=4]="OTRGROUP2D",e[e.OTGROUP3D=5]="OTGROUP3D",e[e.OTOBJECT3D=10]="OTOBJECT3D",e[e.OTLINE_2D=20]="OTLINE_2D",e[e.OTBITMAP_2D=21]="OTBITMAP_2D",e[e.OTDOUBLEBITMAP_2D=22]="OTDOUBLEBITMAP_2D",e[e.OTTEXT_2D=23]="OTTEXT_2D",e[e.OTVIEW3D_2D=24]="OTVIEW3D_2D",e[e.OTEDITFRAME=50]="OTEDITFRAME",e[e.OTROTATECENTER=51]="OTROTATECENTER",e[e.OTFRAME3D=52]="OTFRAME3D",e[e.OTAXIS3D=53]="OTAXIS3D",e[e.OTPEN2D=101]="OTPEN2D",e[e.OTBRUSH2D=102]="OTBRUSH2D",e[e.OTDIB2D=103]="OTDIB2D",e[e.OTDOUBLEDIB2D=104]="OTDOUBLEDIB2D",e[e.OTFONT2D=105]="OTFONT2D",e[e.OTSTRING2D=106]="OTSTRING2D",e[e.OTTEXT2D=107]="OTTEXT2D",e[e.OTREFTODIB2D=110]="OTREFTODIB2D",e[e.OTREFTODOUBLEDIB2D=111]="OTREFTODOUBLEDIB2D",e[e.ATTRSET=1]="ATTRSET",e[e.ATTRRESET=2]="ATTRRESET",e[e.ATTRPUT=3]="ATTRPUT",e[e.PFC_MOVEOBJECT=32768]="PFC_MOVEOBJECT",e[e.PFC_SETCURRENT=16384]="PFC_SETCURRENT",e[e.PFC_SETFRAME=8192]="PFC_SETFRAME",e[e.PFC_PENS=1]="PFC_PENS",e[e.PFC_BRUHS=2]="PFC_BRUHS",e[e.PFC_DIBS=4]="PFC_DIBS",e[e.PFC_DDIBS=8]="PFC_DDIBS",e[e.PFC_STRINGS=16]="PFC_STRINGS",e[e.PFC_FONTS=32]="PFC_FONTS",e[e.PFC_TEXTS=64]="PFC_TEXTS",e[e.PFC_3D=128]="PFC_3D",e[e.PFC_ALL=255]="PFC_ALL",e[e.OID_RESERVED=32e3]="OID_RESERVED",e[e.OID_RCENTER=32001]="OID_RCENTER",e[e.OID_FRAME2D1=32002]="OID_FRAME2D1",e[e.OID_FRAME2D2=32003]="OID_FRAME2D2",e[e.OID_FRAME2D3=32004]="OID_FRAME2D3",e[e.OID_FRAME2D4=32005]="OID_FRAME2D4",e[e.OID_FRAME2D5=32006]="OID_FRAME2D5",e[e.OID_FRAME2D6=32007]="OID_FRAME2D6",e[e.OID_FRAME2D7=32008]="OID_FRAME2D7",e[e.OID_FRAME2D8=32009]="OID_FRAME2D8",e[e.OID_FRAME2D=32010]="OID_FRAME2D",e[e.OID_AXIS3D=32100]="OID_AXIS3D",e[e.OID_FRAME3D1=32102]="OID_FRAME3D1",e[e.OID_FRAME3D2=32103]="OID_FRAME3D2",e[e.OID_FRAME3D3=32104]="OID_FRAME3D3",e[e.OID_FRAME3D4=32105]="OID_FRAME3D4",e[e.OID_FRAME3D5=32106]="OID_FRAME3D5",e[e.OID_FRAME3D6=32107]="OID_FRAME3D6",e[e.OID_FRAME3D7=32108]="OID_FRAME3D7",e[e.OID_FRAME3D8=32109]="OID_FRAME3D8",e[e.OID_FRAME3D=32110]="OID_FRAME3D",e[e.MB_OK=0]="MB_OK",e[e.MB_OKCANCEL=1]="MB_OKCANCEL",e[e.MB_ABORTRETRYIGNORE=2]="MB_ABORTRETRYIGNORE",e[e.MB_YESNOCANCEL=3]="MB_YESNOCANCEL",e[e.MB_YESNO=4]="MB_YESNO",e[e.MB_RETRYCANCEL=5]="MB_RETRYCANCEL",e[e.MB_TYPEMASK=15]="MB_TYPEMASK",e[e.MB_ICONHAND=16]="MB_ICONHAND",e[e.MB_ICONQUESTION=32]="MB_ICONQUESTION",e[e.MB_ICONEXCLAMATION=48]="MB_ICONEXCLAMATION",e[e.MB_ICONASTERISK=64]="MB_ICONASTERISK",e[e.MB_ICONMASK=240]="MB_ICONMASK",e[e.MB_ICONINFORMATION=64]="MB_ICONINFORMATION",e[e.MB_ICONSTOP=16]="MB_ICONSTOP",e[e.MB_DEFBUTTON1=0]="MB_DEFBUTTON1",e[e.MB_DEFBUTTON2=256]="MB_DEFBUTTON2",e[e.MB_DEFBUTTON3=512]="MB_DEFBUTTON3",e[e.MB_DEFMASK=3840]="MB_DEFMASK",e[e.MB_APPLMODAL=0]="MB_APPLMODAL",e[e.MB_SYSTEMMODAL=4096]="MB_SYSTEMMODAL",e[e.MB_TASKMODAL=8192]="MB_TASKMODAL",e[e.MB_NOFOCUS=32768]="MB_NOFOCUS",e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWNORMAL=1]="SW_SHOWNORMAL",e[e.SW_NORMAL=1]="SW_NORMAL",e[e.SW_SHOWMINIMIZED=2]="SW_SHOWMINIMIZED",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_MAXIMIZE=3]="SW_MAXIMIZE",e[e.SW_SHOWNOACTIVATE=4]="SW_SHOWNOACTIVATE",e[e.SW_SHOW=5]="SW_SHOW",e[e.SW_MINIMIZE=6]="SW_MINIMIZE",e[e.SW_SHOWMINNOACTIVE=7]="SW_SHOWMINNOACTIVE",e[e.SW_SHOWNA=8]="SW_SHOWNA",e[e.SW_RESTORE=9]="SW_RESTORE",e[e.MCIERR_INVALID_DEVICE_ID=257]="MCIERR_INVALID_DEVICE_ID",e[e.MCIERR_UNRECOGNIZED_KEYWORD=259]="MCIERR_UNRECOGNIZED_KEYWORD",e[e.MCIERR_UNRECOGNIZED_COMMAND=261]="MCIERR_UNRECOGNIZED_COMMAND",e[e.MCIERR_HARDWARE=262]="MCIERR_HARDWARE",e[e.MCIERR_INVALID_DEVICE_NAME=263]="MCIERR_INVALID_DEVICE_NAME",e[e.MCIERR_OUT_OF_MEMORY=264]="MCIERR_OUT_OF_MEMORY",e[e.MCIERR_DEVICE_OPEN=265]="MCIERR_DEVICE_OPEN",e[e.MCIERR_CANNOT_LOAD_DRIVER=266]="MCIERR_CANNOT_LOAD_DRIVER",e[e.MCIERR_MISSING_COMMAND_STRING=267]="MCIERR_MISSING_COMMAND_STRING",e[e.MCIERR_PARAM_OVERFLOW=268]="MCIERR_PARAM_OVERFLOW",e[e.MCIERR_MISSING_STRING_ARGUMENT=269]="MCIERR_MISSING_STRING_ARGUMENT",e[e.MCIERR_BAD_INTEGER=270]="MCIERR_BAD_INTEGER",e[e.MCIERR_PARSER_INTERNAL=271]="MCIERR_PARSER_INTERNAL",e[e.MCIERR_DRIVER_INTERNAL=272]="MCIERR_DRIVER_INTERNAL",e[e.MCIERR_MISSING_PARAMETER=273]="MCIERR_MISSING_PARAMETER",e[e.MCIERR_UNSUPPORTED_FUNCTION=274]="MCIERR_UNSUPPORTED_FUNCTION",e[e.MCIERR_FILE_NOT_FOUND=275]="MCIERR_FILE_NOT_FOUND",e[e.MCIERR_DEVICE_NOT_READY=276]="MCIERR_DEVICE_NOT_READY",e[e.MCIERR_INTERNAL=277]="MCIERR_INTERNAL",e[e.MCIERR_DRIVER=278]="MCIERR_DRIVER",e[e.MCIERR_CANNOT_USE_ALL=279]="MCIERR_CANNOT_USE_ALL",e[e.MCIERR_MULTIPLE=280]="MCIERR_MULTIPLE",e[e.MCIERR_EXTENSION_NOT_FOUND=281]="MCIERR_EXTENSION_NOT_FOUND",e[e.MCIERR_OUTOFRANGE=282]="MCIERR_OUTOFRANGE",e[e.MCIERR_FLAGS_NOT_COMPATIBLE=284]="MCIERR_FLAGS_NOT_COMPATIBLE",e[e.MCIERR_FILE_NOT_SAVED=286]="MCIERR_FILE_NOT_SAVED",e[e.MCIERR_DEVICE_TYPE_REQUIRED=287]="MCIERR_DEVICE_TYPE_REQUIRED",e[e.MCIERR_DEVICE_LOCKED=288]="MCIERR_DEVICE_LOCKED",e[e.MCIERR_DUPLICATE_ALIAS=289]="MCIERR_DUPLICATE_ALIAS",e[e.MCIERR_BAD_CONSTANT=290]="MCIERR_BAD_CONSTANT",e[e.MCIERR_MUST_USE_SHAREABLE=291]="MCIERR_MUST_USE_SHAREABLE",e[e.MCIERR_MISSING_DEVICE_NAME=292]="MCIERR_MISSING_DEVICE_NAME",e[e.MCIERR_BAD_TIME_FORMAT=293]="MCIERR_BAD_TIME_FORMAT",e[e.MCIERR_NO_CLOSING_QUOTE=294]="MCIERR_NO_CLOSING_QUOTE",e[e.MCIERR_DUPLICATE_FLAGS=295]="MCIERR_DUPLICATE_FLAGS",e[e.MCIERR_INVALID_FILE=296]="MCIERR_INVALID_FILE",e[e.MCIERR_NULL_PARAMETER_BLOCK=297]="MCIERR_NULL_PARAMETER_BLOCK",e[e.MCIERR_UNNAMED_RESOURCE=298]="MCIERR_UNNAMED_RESOURCE",e[e.MCIERR_NEW_REQUIRES_ALIAS=299]="MCIERR_NEW_REQUIRES_ALIAS",e[e.MCIERR_NOTIFY_ON_AUTO_OPEN=300]="MCIERR_NOTIFY_ON_AUTO_OPEN",e[e.MCIERR_NO_ELEMENT_ALLOWED=301]="MCIERR_NO_ELEMENT_ALLOWED",e[e.MCIERR_NONAPPLICABLE_FUNCTION=302]="MCIERR_NONAPPLICABLE_FUNCTION",e[e.MCIERR_ILLEGAL_FOR_AUTO_OPEN=303]="MCIERR_ILLEGAL_FOR_AUTO_OPEN",e[e.MCIERR_FILENAME_REQUIRED=304]="MCIERR_FILENAME_REQUIRED",e[e.MCIERR_EXTRA_CHARACTERS=305]="MCIERR_EXTRA_CHARACTERS",e[e.MCIERR_DEVICE_NOT_INSTALLED=306]="MCIERR_DEVICE_NOT_INSTALLED",e[e.MCIERR_GET_CD=307]="MCIERR_GET_CD",e[e.MCIERR_SET_CD=308]="MCIERR_SET_CD",e[e.MCIERR_SET_DRIVE=309]="MCIERR_SET_DRIVE",e[e.MCIERR_DEVICE_LENGTH=310]="MCIERR_DEVICE_LENGTH",e[e.MCIERR_DEVICE_ORD_LENGTH=311]="MCIERR_DEVICE_ORD_LENGTH",e[e.MCIERR_NO_INTEGER=312]="MCIERR_NO_INTEGER",e[e.MCIERR_WAVE_OUTPUTSINUSE=320]="MCIERR_WAVE_OUTPUTSINUSE",e[e.MCIERR_WAVE_SETOUTPUTINUSE=321]="MCIERR_WAVE_SETOUTPUTINUSE",e[e.MCIERR_WAVE_INPUTSINUSE=322]="MCIERR_WAVE_INPUTSINUSE",e[e.MCIERR_WAVE_SETINPUTINUSE=323]="MCIERR_WAVE_SETINPUTINUSE",e[e.MCIERR_WAVE_OUTPUTUNSPECIFIED=324]="MCIERR_WAVE_OUTPUTUNSPECIFIED",e[e.MCIERR_WAVE_INPUTUNSPECIFIED=325]="MCIERR_WAVE_INPUTUNSPECIFIED",e[e.MCIERR_WAVE_OUTPUTSUNSUITABLE=326]="MCIERR_WAVE_OUTPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETOUTPUTUNSUITABLE=327]="MCIERR_WAVE_SETOUTPUTUNSUITABLE",e[e.MCIERR_WAVE_INPUTSUNSUITABLE=328]="MCIERR_WAVE_INPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETINPUTUNSUITABLE=329]="MCIERR_WAVE_SETINPUTUNSUITABLE",e[e.MCIERR_SEQ_DIV_INCOMPATIBLE=336]="MCIERR_SEQ_DIV_INCOMPATIBLE",e[e.MCIERR_SEQ_PORT_INUSE=337]="MCIERR_SEQ_PORT_INUSE",e[e.MCIERR_SEQ_PORT_NONEXISTENT=338]="MCIERR_SEQ_PORT_NONEXISTENT",e[e.MCIERR_SEQ_PORT_MAPNODEVICE=339]="MCIERR_SEQ_PORT_MAPNODEVICE",e[e.MCIERR_SEQ_PORT_MISCERROR=340]="MCIERR_SEQ_PORT_MISCERROR",e[e.MCIERR_SEQ_TIMER=341]="MCIERR_SEQ_TIMER",e[e.MCIERR_SEQ_PORTUNSPECIFIED=342]="MCIERR_SEQ_PORTUNSPECIFIED",e[e.MCIERR_SEQ_NOMIDIPRESENT=343]="MCIERR_SEQ_NOMIDIPRESENT",e[e.MCIERR_NO_WINDOW=346]="MCIERR_NO_WINDOW",e[e.MCIERR_CREATEWINDOW=347]="MCIERR_CREATEWINDOW",e[e.MCIERR_FILE_READ=348]="MCIERR_FILE_READ",e[e.MCIERR_FILE_WRITE=349]="MCIERR_FILE_WRITE",e[e.WS_VISIBLE=268435456]="WS_VISIBLE",e[e.WS_DISABLED=134217728]="WS_DISABLED",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_DLGFRAME=4194304]="WS_DLGFRAME",e[e.WS_VSCROLL=2097152]="WS_VSCROLL",e[e.WS_HSCROLL=1048576]="WS_HSCROLL",e[e.WS_SYSMENU=524288]="WS_SYSMENU",e[e.WS_THICKFRAME=262144]="WS_THICKFRAME",e[e.WS_MINIMIZEBOX=131072]="WS_MINIMIZEBOX",e[e.WS_MAXIMIZEBOX=65536]="WS_MAXIMIZEBOX",e[e.WS_GROUP=131072]="WS_GROUP",e[e.WS_TABSTOP=65536]="WS_TABSTOP",e[e.WS_OVERLAPPED=0]="WS_OVERLAPPED",e[e.WS_POPUP=2147483648]="WS_POPUP",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.IDX_PRIMARY=1]="IDX_PRIMARY",e[e.IDX_UNIQUE=2]="IDX_UNIQUE",e[e.IDX_DESCENDING=4]="IDX_DESCENDING",e[e.IDX_MAINTAINED=8]="IDX_MAINTAINED",e[e.IDX_SUBSET=16]="IDX_SUBSET",e[e.IDX_EXPR=32]="IDX_EXPR",e[e.IDX_IDXOOD=64]="IDX_IDXOOD",e[e.IDX_CASEINSENS=128]="IDX_CASEINSENS",e[e.FLDDBCHAR=513]="FLDDBCHAR",e[e.FLDDBNUM=514]="FLDDBNUM",e[e.FLDDBMEMO=515]="FLDDBMEMO",e[e.FLDDBBOOL=516]="FLDDBBOOL",e[e.FLDDBDATE=517]="FLDDBDATE",e[e.FLDDBFLOAT=518]="FLDDBFLOAT",e[e.FLDDBLOCK=519]="FLDDBLOCK",e[e.FLDDBOLEBLOB=520]="FLDDBOLEBLOB",e[e.FLDDBBINARY=521]="FLDDBBINARY",e[e.FLDDBBYTES=522]="FLDDBBYTES",e[e.BS_PUSHBUTTON=0]="BS_PUSHBUTTON",e[e.BS_DEFPUSHBUTTON=1]="BS_DEFPUSHBUTTON",e[e.BS_CHECKBOX=2]="BS_CHECKBOX",e[e.BS_AUTOCHECKBOX=3]="BS_AUTOCHECKBOX",e[e.BS_RADIOBUTTON=4]="BS_RADIOBUTTON",e[e.BS_3STATE=5]="BS_3STATE",e[e.BS_AUTO3STATE=6]="BS_AUTO3STATE",e[e.BS_GROUPBOX=7]="BS_GROUPBOX",e[e.BS_USERBUTTON=8]="BS_USERBUTTON",e[e.BS_AUTORADIOBUTTON=9]="BS_AUTORADIOBUTTON",e[e.BS_OWNERDRAW=11]="BS_OWNERDRAW",e[e.BS_LEFTTEXT=32]="BS_LEFTTEXT",e[e.ES_LEFT=0]="ES_LEFT",e[e.ES_CENTER=1]="ES_CENTER",e[e.ES_RIGHT=2]="ES_RIGHT",e[e.ES_MULTILINE=4]="ES_MULTILINE",e[e.ES_UPPERCASE=8]="ES_UPPERCASE",e[e.ES_LOWERCASE=16]="ES_LOWERCASE",e[e.ES_PASSWORD=32]="ES_PASSWORD",e[e.ES_AUTOVSCROLL=64]="ES_AUTOVSCROLL",e[e.ES_AUTOHSCROLL=128]="ES_AUTOHSCROLL",e[e.ES_NOHIDESEL=256]="ES_NOHIDESEL",e[e.SBS_HORZ=0]="SBS_HORZ",e[e.SBS_VERT=1]="SBS_VERT",e[e.SBS_TOPALIGN=2]="SBS_TOPALIGN",e[e.SBS_LEFTALIGN=2]="SBS_LEFTALIGN",e[e.SBS_BOTTOMALIGN=4]="SBS_BOTTOMALIGN",e[e.SBS_RIGHTALIGN=4]="SBS_RIGHTALIGN",e[e.SBS_SIZEBOXTOPLEFTALIGN=2]="SBS_SIZEBOXTOPLEFTALIGN",e[e.SBS_SIZEBOXBOTTOMRIGHTALIGN=4]="SBS_SIZEBOXBOTTOMRIGHTALIGN",e[e.SBS_SIZEBOX=8]="SBS_SIZEBOX",e[e.LBS_NOTIFY=1]="LBS_NOTIFY",e[e.LBS_SORT=2]="LBS_SORT",e[e.LBS_NOREDRAW=4]="LBS_NOREDRAW",e[e.LBS_MULTIPLESEL=8]="LBS_MULTIPLESEL",e[e.LBS_OWNERDRAWFIXED=16]="LBS_OWNERDRAWFIXED",e[e.LBS_OWNERDRAWVARIABLE=32]="LBS_OWNERDRAWVARIABLE",e[e.LBS_HASSTRINGS=64]="LBS_HASSTRINGS",e[e.LBS_USETABSTOPS=128]="LBS_USETABSTOPS",e[e.LBS_NOINTEGRALHEIGHT=256]="LBS_NOINTEGRALHEIGHT",e[e.LBS_MULTICOLUMN=512]="LBS_MULTICOLUMN",e[e.LBS_WANTKEYBOARDINPUT=1024]="LBS_WANTKEYBOARDINPUT",e[e.LBS_EXTENDEDSEL=2048]="LBS_EXTENDEDSEL",e[e.CBS_SIMPLE=1]="CBS_SIMPLE",e[e.CBS_DROPDOWN=2]="CBS_DROPDOWN",e[e.CBS_DROPDOWNLIST=3]="CBS_DROPDOWNLIST",e[e.CBS_OWNERDRAWFIXED=16]="CBS_OWNERDRAWFIXED",e[e.CBS_OWNERDRAWVARIABLE=32]="CBS_OWNERDRAWVARIABLE",e[e.CBS_AUTOHSCROLL=64]="CBS_AUTOHSCROLL",e[e.CBS_OEMCONVERT=128]="CBS_OEMCONVERT",e[e.CBS_SORT=256]="CBS_SORT",e[e.CBS_HASSTRINGS=512]="CBS_HASSTRINGS",e[e.CBS_NOINTEGRALHEIGHT=1024]="CBS_NOINTEGRALHEIGHT",e[e.BS_SOLID=0]="BS_SOLID",e[e.BS_NULL=1]="BS_NULL",e[e.BS_HATCHED=2]="BS_HATCHED",e[e.BS_PATTERN=3]="BS_PATTERN",e[e.BS_GRADIENT_LINEAR=10]="BS_GRADIENT_LINEAR",e[e.HS_HORIZONTAL=0]="HS_HORIZONTAL",e[e.HS_VERTICAL=1]="HS_VERTICAL",e[e.HS_FDIAGONAL=2]="HS_FDIAGONAL",e[e.HS_BDIAGONAL=3]="HS_BDIAGONAL",e[e.HS_CROSS=4]="HS_CROSS",e[e.HS_DIAGCROSS=5]="HS_DIAGCROSS",e[e.PS_SOLID=0]="PS_SOLID",e[e.PS_DASH=1]="PS_DASH",e[e.PS_DOT=2]="PS_DOT",e[e.PS_DASHDOT=3]="PS_DASHDOT",e[e.PS_DASHDOTDOT=4]="PS_DASHDOTDOT",e[e.PS_NULL=5]="PS_NULL",e[e.PS_INSIDEFRAME=6]="PS_INSIDEFRAME",e[e.R2_BLACK=1]="R2_BLACK",e[e.R2_NOTMERGEPEN=2]="R2_NOTMERGEPEN",e[e.R2_MASKNOTPEN=3]="R2_MASKNOTPEN",e[e.R2_NOTCOPYPEN=4]="R2_NOTCOPYPEN",e[e.R2_MASKPENNOT=5]="R2_MASKPENNOT",e[e.R2_NOT=6]="R2_NOT",e[e.R2_XORPEN=7]="R2_XORPEN",e[e.R2_NOTMASKPEN=8]="R2_NOTMASKPEN",e[e.R2_MASKPEN=9]="R2_MASKPEN",e[e.R2_NOTXORPEN=10]="R2_NOTXORPEN",e[e.R2_NOP=11]="R2_NOP",e[e.R2_MERGENOTPEN=12]="R2_MERGENOTPEN",e[e.R2_COPYPEN=13]="R2_COPYPEN",e[e.R2_MERGEPENNOT=14]="R2_MERGEPENNOT",e[e.R2_MERGEPEN=15]="R2_MERGEPEN",e[e.R2_WHITE=16]="R2_WHITE",e[e.FILE_ATTRIBUTE_ARCHIVE=32]="FILE_ATTRIBUTE_ARCHIVE",e[e.FILE_ATTRIBUTE_COMPRESSED=2048]="FILE_ATTRIBUTE_COMPRESSED",e[e.FILE_ATTRIBUTE_DIRECTORY=16]="FILE_ATTRIBUTE_DIRECTORY",e[e.FILE_ATTRIBUTE_HIDDEN=2]="FILE_ATTRIBUTE_HIDDEN",e[e.FILE_ATTRIBUTE_NORMAL=128]="FILE_ATTRIBUTE_NORMAL",e[e.FILE_ATTRIBUTE_OFFLINE=4096]="FILE_ATTRIBUTE_OFFLINE",e[e.FILE_ATTRIBUTE_READONLY=1]="FILE_ATTRIBUTE_READONLY",e[e.FILE_ATTRIBUTE_SYSTEM=4]="FILE_ATTRIBUTE_SYSTEM",e[e.FILE_ATTRIBUTE_TEMPORARY=256]="FILE_ATTRIBUTE_TEMPORARY",e[e.VF_LOCAL=2]="VF_LOCAL",e[e.VF_EQVAR=256]="VF_EQVAR",e[e.VF_ARGUMENT=512]="VF_ARGUMENT",e[e.VF_RETURN=1024]="VF_RETURN",e[e.CUR_ARROW=0]="CUR_ARROW",e[e.CUR_CROSS=1]="CUR_CROSS",e[e.CUR_TEXT=2]="CUR_TEXT",e[e.CUR_NO=3]="CUR_NO",e[e.CUR_SIZE=4]="CUR_SIZE",e[e.CUR_SIZENESW=5]="CUR_SIZENESW",e[e.CUR_SIZENS=6]="CUR_SIZENS",e[e.CUR_SIZENWSE=7]="CUR_SIZENWSE",e[e.CUR_SIZEWE=8]="CUR_SIZEWE",e[e.CUR_UPARROW=9]="CUR_UPARROW",e[e.CUR_WAIT=10]="CUR_WAIT",e[e.CUR_LINK=11]="CUR_LINK",e[e.CUR_HELP=12]="CUR_HELP",e[e.SHADOWTYPE_STENCIL_MODULATIVE=18]="SHADOWTYPE_STENCIL_MODULATIVE",e[e.SHADOWTYPE_STENCIL_ADDITIVE=17]="SHADOWTYPE_STENCIL_ADDITIVE",e[e.SHADOWTYPE_TEXTURE_MODULATIVE=34]="SHADOWTYPE_TEXTURE_MODULATIVE",e[e.SHADOWTYPE_TEXTURE_ADDITIVE=33]="SHADOWTYPE_TEXTURE_ADDITIVE",e[e.FOG_NONE=0]="FOG_NONE",e[e.FOG_EXP=1]="FOG_EXP",e[e.FOG_EXP2=2]="FOG_EXP2",e[e.FOG_LINEAR=3]="FOG_LINEAR",e[e.TEX_TYPE_1D=1]="TEX_TYPE_1D",e[e.TEX_TYPE_2D=2]="TEX_TYPE_2D",e[e.TEX_TYPE_3D=3]="TEX_TYPE_3D",e[e.TEX_TYPE_CUBE_MAP=4]="TEX_TYPE_CUBE_MAP",e[e.SBF_ONE=0]="SBF_ONE",e[e.SBF_ZERO=1]="SBF_ZERO",e[e.SBF_DEST_COLOUR=2]="SBF_DEST_COLOUR",e[e.SBF_SOURCE_COLOUR=3]="SBF_SOURCE_COLOUR",e[e.SBF_ONE_MINUS_DEST_COLOUR=4]="SBF_ONE_MINUS_DEST_COLOUR",e[e.SBF_ONE_MINUS_SOURCE_COLOUR=5]="SBF_ONE_MINUS_SOURCE_COLOUR",e[e.SBF_DEST_ALPHA=6]="SBF_DEST_ALPHA",e[e.SBF_SOURCE_ALPHA=7]="SBF_SOURCE_ALPHA",e[e.SBF_ONE_MINUS_DEST_ALPHA=8]="SBF_ONE_MINUS_DEST_ALPHA",e[e.SBF_ONE_MINUS_SOURCE_ALPHA=9]="SBF_ONE_MINUS_SOURCE_ALPHA",e[e.CMPF_ALWAYS_FAIL=0]="CMPF_ALWAYS_FAIL",e[e.CMPF_ALWAYS_PASS=1]="CMPF_ALWAYS_PASS",e[e.CMPF_LESS=2]="CMPF_LESS",e[e.CMPF_LESS_EQUAL=3]="CMPF_LESS_EQUAL",e[e.CMPF_EQUAL=4]="CMPF_EQUAL",e[e.CMPF_NOT_EQUAL=5]="CMPF_NOT_EQUAL",e[e.CMPF_GREATER_EQUAL=6]="CMPF_GREATER_EQUAL",e[e.CMPF_GREATER=7]="CMPF_GREATER",e[e.CULL_NONE=1]="CULL_NONE",e[e.CULL_CLOCKWISE=2]="CULL_CLOCKWISE",e[e.CULL_ANTICLOCKWISE=3]="CULL_ANTICLOCKWISE",e[e.SO_FLAT=0]="SO_FLAT",e[e.SO_GOURAUD=1]="SO_GOURAUD",e[e.SO_PHONG=2]="SO_PHONG",e[e.PM_POINTS=1]="PM_POINTS",e[e.PM_WIREFRAME=2]="PM_WIREFRAME",e[e.PM_SOLID=3]="PM_SOLID",e[e.LT_POINT=0]="LT_POINT",e[e.LT_DIRECTIONAL=1]="LT_DIRECTIONAL",e[e.LT_SPOTLIGHT=2]="LT_SPOTLIGHT",e[e.PT_ORTHOGRAPHIC=0]="PT_ORTHOGRAPHIC",e[e.PT_PERSPECTIVE=1]="PT_PERSPECTIVE",e[e.OT_POINT_LIST=1]="OT_POINT_LIST",e[e.OT_LINE_LIST=2]="OT_LINE_LIST",e[e.OT_LINE_STRIP=3]="OT_LINE_STRIP",e[e.OT_TRIANGLE_LIST=4]="OT_TRIANGLE_LIST",e[e.OT_TRIANGLE_STRIP=5]="OT_TRIANGLE_STRIP",e[e.OT_TRIANGLE_FAN=6]="OT_TRIANGLE_FAN",e[e.BBT_POINT=0]="BBT_POINT",e[e.BBT_ORIENTED_COMMON=1]="BBT_ORIENTED_COMMON",e[e.BBT_ORIENTED_SELF=2]="BBT_ORIENTED_SELF",e[e.BBT_PERPENDICULAR_COMMON=3]="BBT_PERPENDICULAR_COMMON",e[e.BBT_PERPENDICULAR_SELF=4]="BBT_PERPENDICULAR_SELF",e[e.GMM_RELATIVE=0]="GMM_RELATIVE",e[e.GMM_PIXELS=1]="GMM_PIXELS",e[e.GMM_RELATIVE_ASPECT_ADJUSTED=2]="GMM_RELATIVE_ASPECT_ADJUSTED",e[e.GHA_LEFT=0]="GHA_LEFT",e[e.GHA_CENTER=1]="GHA_CENTER",e[e.GHA_RIGHT=2]="GHA_RIGHT",e[e.GVA_TOP=0]="GVA_TOP",e[e.GVA_CENTER=1]="GVA_CENTER",e[e.GVA_BOTTOM=2]="GVA_BOTTOM",e[e.MTHA_LEFT=0]="MTHA_LEFT",e[e.MTHA_CENTER=1]="MTHA_CENTER",e[e.MTVA_BELOW=0]="MTVA_BELOW",e[e.MTVA_ABOVE=1]="MTVA_ABOVE",e[e.MTVA_CENTER=2]="MTVA_CENTER",e[e.PT_BOOL=0]="PT_BOOL",e[e.PT_REAL=1]="PT_REAL",e[e.PT_INT=2]="PT_INT",e[e.PT_UNSIGNED_INT=3]="PT_UNSIGNED_INT",e[e.PT_SHORT=4]="PT_SHORT",e[e.PT_UNSIGNED_SHORT=5]="PT_UNSIGNED_SHORT",e[e.PT_LONG=6]="PT_LONG",e[e.PT_UNSIGNED_LONG=7]="PT_UNSIGNED_LONG",e[e.PT_STRING=8]="PT_STRING",e[e.PT_VECTOR3=9]="PT_VECTOR3",e[e.PT_MATRIX3=10]="PT_MATRIX3",e[e.PT_MATRIX4=11]="PT_MATRIX4",e[e.PT_QUATERNION=12]="PT_QUATERNION",e[e.PT_COLOURVALUE=13]="PT_COLOURVALUE",e[e.NUI_SP_HIP_CENTER=0]="NUI_SP_HIP_CENTER",e[e.NUI_SP_SPINE=1]="NUI_SP_SPINE",e[e.NUI_SP_SHOULDER_CENTER=2]="NUI_SP_SHOULDER_CENTER",e[e.NUI_SP_HEAD=3]="NUI_SP_HEAD",e[e.NUI_SP_SHOULDER_LEFT=4]="NUI_SP_SHOULDER_LEFT",e[e.NUI_SP_ELBOW_LEFT=5]="NUI_SP_ELBOW_LEFT",e[e.NUI_SP_WRIST_LEFT=6]="NUI_SP_WRIST_LEFT",e[e.NUI_SP_HAND_LEFT=7]="NUI_SP_HAND_LEFT",e[e.NUI_SP_SHOULDER_RIGHT=8]="NUI_SP_SHOULDER_RIGHT",e[e.NUI_SP_ELBOW_RIGHT=9]="NUI_SP_ELBOW_RIGHT",e[e.NUI_SP_WRIST_RIGHT=10]="NUI_SP_WRIST_RIGHT",e[e.NUI_SP_HAND_RIGHT=11]="NUI_SP_HAND_RIGHT",e[e.NUI_SP_HIP_LEFT=12]="NUI_SP_HIP_LEFT",e[e.NUI_SP_KNEE_LEFT=13]="NUI_SP_KNEE_LEFT",e[e.NUI_SP_ANKLE_LEFT=14]="NUI_SP_ANKLE_LEFT",e[e.NUI_SP_FOOT_LEFT=15]="NUI_SP_FOOT_LEFT",e[e.NUI_SP_HIP_RIGHT=16]="NUI_SP_HIP_RIGHT",e[e.NUI_SP_KNEE_RIGHT=17]="NUI_SP_KNEE_RIGHT",e[e.NUI_SP_ANKLE_RIGHT=18]="NUI_SP_ANKLE_RIGHT",e[e.NUI_SP_FOOT_RIGHT=19]="NUI_SP_FOOT_RIGHT",e[e.NUI_SP_COUNT=20]="NUI_SP_COUNT",e[e.WEB_DIALOG_OPEN=100]="WEB_DIALOG_OPEN",e))(et||{});const BC=258;var bt=(e=>(e[e.FLOAT=1]="FLOAT",e[e.STRING=2]="STRING",e[e.HANDLE=3]="HANDLE",e[e.COLORREF=4]="COLORREF",e))(bt||{});const qv=1,yk="2.0",Yv=0,FC=1,jC=2,bk=3,Xv=4,VC="CM_CLEARALL",$C="CM_PREVPAGE",Va=8;var Nl=(e=>(e[e.FLOAT_REF=bt.FLOAT|Va]="FLOAT_REF",e[e.STRING_REF=bt.STRING|Va]="STRING_REF",e[e.HANDLE_REF=bt.HANDLE|Va]="HANDLE_REF",e[e.COLORREF_REF=bt.COLORREF|Va]="COLORREF_REF",e))(Nl||{});class Bq{constructor(){this.blocks=[]}pushBlock(t){return this.blocks.push(t),t}popBlock(t){const n=this.blocks.pop();if(n?.expect!==t)throw Error(`Ожидалось ${t}`);return n}lastBlock(){return this.blocks.length>0?this.blocks[this.blocks.length-1]:null}haveABreakHaveAKitKat(){for(let t=this.blocks.length-1;t>=0;--t)if(this.blocks[t].canBreak)return"break;";return"return;"}}const Fq="map",jq="g",zC="schema",UC="string",wk="n",Sk="o",Ck={[bt.FLOAT]:"f",[bt.HANDLE]:"i",[bt.COLORREF]:"i",[bt.STRING]:"s"},Vq=`
"use strict"
const { map, values } = memory;
const of = values.oldFloats;
const nf = values.newFloats;
const oi = values.oldInts;
const ni = values.newInts;
const os = values.oldStrings;
const ns = values.newStrings;
function string(value) {
    return (Math.round(value * 1e5) / 1e5).toString()
}
`,$q="userFunction",zq="solveEquationsFor",{FLOAT:jt,STRING:Po,HANDLE:Zv,COLORREF:Uq}=bt,Hq=[["ABS",{argTypes:[jt],retType:jt,template:"Math.abs(#0) || 0"}],["ALLTRIM",{argTypes:[Po],retType:Po,template:"(#0).trim()"}],["AND",{argTypes:[jt,jt],retType:jt,template:"(#0) && (#1) ? 1 : 0"}],["ARCTAN",{argTypes:[jt],retType:jt,template:"Math.atan(#0)||0"}],["AVERAGE",{argTypes:[jt,jt],retType:jt,template:"(#0) / 2 + (#1) / 2"}],["COMPARE",{argTypes:[Po,Po],retType:jt,template:"(#0) == (#1) ? 1 : 0"}],["COS",{argTypes:[jt],retType:jt,template:"Math.cos(#0) || 0"}],["DEG",{argTypes:[jt],retType:jt,template:"180 * (#0) / Math.PI || 0"}],["DELTA",{argTypes:[jt],retType:jt,template:"(#0) ? 0 : 1"}],["ED",{argTypes:[jt],retType:jt,template:"(#0) > 0 ? 1 : 0"}],["ED",{argTypes:[Zv],retType:jt,template:"(#0) > 0 ? 1 : 0"}],["EXP",{argTypes:[jt],retType:jt,template:"Math.exp(#0) || 0"}],["FLOAT",{argTypes:[Uq],retType:jt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[jt],retType:jt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Zv],retType:jt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Po],retType:jt,template:"parseFloat(#0) || 0"}],["HANDLE",{argTypes:[jt],retType:Zv,template:"parseInt(#0) || 0"}],["LEFT",{argTypes:[Po,jt],retType:Po,template:"(#0).substring(0, #1)"}],["LENGTH",{argTypes:[Po],retType:jt,template:"(#0).length"}],["LIMIT",{argTypes:[jt,jt,jt],retType:jt,template:"Math.max(#1, Math.min(#2, #0))||0"}],["LOWER",{argTypes:[Po],retType:Po,template:"(#0).toLowerCase()"}],["LTRIM",{argTypes:[Po],retType:Po,template:'(#0).replace(/^\\s+/, "")'}],["MAX",{argTypes:[jt,jt],retType:jt,template:"Math.max(#0, #1) || 0"}],["MIN",{argTypes:[jt,jt],retType:jt,template:"Math.min(#0, #1) || 0"}],["NOT",{argTypes:[jt],retType:jt,template:"(#0) ? 0 : 1"}],["NOT",{argTypes:[Zv],retType:jt,template:"(#0) ? 0 : 1"}],["NOTBIN",{argTypes:[jt],retType:jt,template:"~(#0)"}],["OR",{argTypes:[jt,jt],retType:jt,template:"(#0) || (#1) ? 1 : 0"}],["RAD",{argTypes:[jt],retType:jt,template:"Math.PI * (#0) / 180 || 0"}],["REPLICATE",{argTypes:[Po,jt],retType:Po,template:"(#0).repeat(#1)"}],["RND",{argTypes:[jt],retType:jt,template:"(#0) * Math.random()"}],["RTRIM",{argTypes:[Po],retType:Po,template:'(#0).replace(/\\s+$/, "")'}],["SGN",{argTypes:[jt],retType:jt,template:"Math.sign(#0) || 0"}],["SIN",{argTypes:[jt],retType:jt,template:"Math.sin(#0) || 0"}],["SQR",{argTypes:[jt],retType:jt,template:"(#0) ** 2"}],["SQRT",{argTypes:[jt],retType:jt,template:"Math.sqrt(#0) || 0"}],["STRING",{argTypes:[jt],retType:Po,template:`${UC}(#0)`}],["TAN",{argTypes:[jt],retType:jt,template:"Math.tan(#0) || 0"}],["TRUNC",{argTypes:[jt],retType:jt,template:"Math.trunc(#0) || 0"}],["UPPER",{argTypes:[Po],retType:Po,template:"(#0).toUpperCase()"}],["XOR",{argTypes:[jt,jt],retType:jt,template:"(#0) !== 0 ^ (#1) !== 0"}],["XORBIN",{argTypes:[jt,jt],retType:jt,template:"(#0) ^ (#1)"}]],Gq=(()=>{const e=new Map;return Hq.forEach(([t,n])=>{let r=e.get(t);r||e.set(t,r=[]),r.push(n)}),e})(),{FLOAT:Ht,STRING:ko,HANDLE:$a,COLORREF:Qv}=bt,xk=[{name:"^",arg:[Ht,Ht],ret:Ht,text:"#0 ** #1",prior:13},{name:"*",arg:[Ht,Ht],ret:Ht,text:"#0 * #1",prior:12},{name:"/",arg:[Ht,Ht],ret:Ht,text:"#0 / (#1 || Infinity)",prior:12},{name:"%",arg:[Ht,Ht],ret:Ht,text:"#0 % #1",prior:12},{name:"+",arg:[Ht,Ht],ret:Ht,text:"#0 + #1",prior:11},{name:"+",arg:[ko,ko],ret:ko,text:"#0 + #1",prior:11},{name:"+",arg:[ko,Ht],ret:ko,text:`#0 + ${UC}(#1)`,prior:11},{name:"+",arg:[Ht,ko],ret:ko,text:`${UC}(#0) + #1`,prior:11},{name:"-",arg:[Ht,Ht],ret:Ht,text:"#0 - #1",prior:11},{name:"<<",arg:[Ht,Ht],ret:Ht,text:"#0 << #1",prior:10},{name:">>",arg:[Ht,Ht],ret:Ht,text:"#0 >> #1",prior:10},{name:">",arg:[Ht,Ht],ret:Ht,text:"+(#0 > #1)",prior:9},{name:">=",arg:[Ht,Ht],ret:Ht,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[Ht,Ht],ret:Ht,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[Ht,Ht],ret:Ht,text:"+(#0 <= #1)",prior:9},{name:">",arg:[ko,ko],ret:Ht,text:"+(#0 > #1)",prior:9},{name:">=",arg:[ko,ko],ret:Ht,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[ko,ko],ret:Ht,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[ko,ko],ret:Ht,text:"+(#0 <= #1)",prior:9},{name:"==",arg:[Ht,Ht],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"==",arg:[ko,ko],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"==",arg:[$a,$a],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"==",arg:[Qv,Qv],ret:Ht,text:"+(#0 == #1)",prior:8},{name:"!=",arg:[Ht,Ht],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[ko,ko],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[$a,$a],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[Qv,Qv],ret:Ht,text:"+(#0 != #1)",prior:8},{name:"&",arg:[Ht,Ht],ret:Ht,text:"#0 & #1",prior:7},{name:"|",arg:[Ht,Ht],ret:Ht,text:"#0 | #1",prior:5},{name:"&&",arg:[Ht,Ht],ret:Ht,text:"+Boolean(#0 && #1)",prior:4},{name:"&&",arg:[$a,$a],ret:$a,text:"+Boolean(#0 && #1)",prior:4},{name:"||",arg:[Ht,Ht],ret:Ht,text:"+Boolean(#0 || #1)",prior:3},{name:"||",arg:[$a,$a],ret:$a,text:"+Boolean(#0 || #1)",prior:3}],Wq=Array.from(new Ll(xk.map(e=>[e.prior,e.name]))).sort((e,t)=>t[0]-e[0]).map(e=>Array.from(e[1]));class Kq{constructor(){this.m=new Map}declareVar(t,n,r){const o=t.toLowerCase(),i=this.m.get(o);if(i&&i[0].type!==n)throw Error(`Переменная уже объявлена: ${t}`);const s={name:t,type:n,attrib:r||void 0};this.m.set(o,[s,this.m.size])}makeInEquation(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==bt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);r[0].inEquation=!0}setAsReturn(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);r[0].attrib=(r[0].attrib??0)|et.VF_RETURN}getFloatVar(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==bt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);return`$${n}`}_getOrCreateVar(t,n){const r=t.toLowerCase(),o=this.m.get(r);if(o)return[r,o[0]];const i={name:t,type:n};return this.m.set(r,[i,this.m.size]),[r,i]}getOrCreateVar(t,n,r=bt.FLOAT){const[o,{type:i}]=this._getOrCreateVar(n,r),s=`${t?wk:Sk}${Ck[i]}`,a=`$${o}`;return{text:`${s}[${a}]`,type:i}}derefer(t,n=bt.FLOAT){const r=t.first;if(r.type!=="var"||t.rest.length>0)throw Error("Должно быть имя переменной");const[o,{type:i}]=this._getOrCreateVar(r.name,n),s=`${r.isNew?wk:Sk}${Ck[i]}`,a=`$${o}`;return[s,a]}result(){return[...this.m.values()].sort((t,n)=>t[1]-n[1]).map(t=>t[0])}}function _k(e,t){const n=t.args.map(a=>za(e,a)),r=t.name.toUpperCase(),o=Gq.get(r);if(o){const a=o.find(({argTypes:d})=>d.length===n.length&&d.every((h,f)=>h===n[f].type));if(!a)throw Error(`Некорректная сигнатура функции ${t.name}(${n.map(d=>bt[d.type])}).
Возможные варианты:
`+o.map(d=>`${t.name}(${d.argTypes.map(h=>bt[h])})`).join(`
`));const c=n.map(d=>d.text);return{text:a.template.replace(/#(\d)/g,(d,h)=>c[h]),type:a.retType}}if(r==="EXIT"){if(n.length>0)throw Error(`${t.name}: ожидалось 0 аргументов, получено ${n.length}`);return{text:"return",type:null}}const i=e.funcTable?.get(r);if(!i)throw Error(`Функция не существует: ${`${t.name}(${n.map(a=>bt[a.type])})`}`);const s=i.find(a=>{if(!a.argTypes.every((f,g)=>{if(g>=n.length)return!1;const m=f&Va-1;return n[g].type===m}))return!1;const d=n.length-a.argTypes.length;if(!d)return!0;if(a.type==="user")return!1;const{restArgsTypes:h}=a;return d%h.length!==0?!1:n.slice(-d).every((f,g)=>f.type===h[g%h.length])});if(!s){const a=`${t.name}(${n.map(d=>bt[d.type])})`,c=i.map(d=>{const h=d.argTypes.map(f=>(f&Va?"&":"")+bt[f&Va-1]);return d.type==="plugin"&&d.restArgsTypes.length&&h.push(`[${d.restArgsTypes.map(f=>bt[f])}]`),` - ${t.name}(${h})`});throw Error(`Некорректная сигнатура функции ${a}.
Возможные варианты:
${c.join(`;
`)}`)}if(s.type==="plugin"){const a=n.map((c,d)=>s.argTypes[d]&Va?e.vars.derefer(t.args[d]):c.text);return{text:`${jq}.${s.path}.call(${[zC,...a]})`,type:s.retType}}else{const a=n.map(c=>c.text);return{text:`${zC}.${$q}(${[`"${s.name}"`,`[${a}]`]})`,type:s.retType}}}function qq(e){return`t${e.tmpVarCount++}`}function Jv(e,t){switch(t.isNew&&t.type!=="var"&&e.bugs.push(["Применение оператора '~' не к переменной",t]),t.type){case"float":return{text:parseFloat(t.value).toString(),type:bt.FLOAT};case"handle":return{text:parseInt(t.value,10).toString(),type:bt.HANDLE};case"string":return{text:"`"+t.value.replace(/[`$\\]/g,"\\$&")+"`",type:bt.STRING};case"var":{const n=et[t.name.toUpperCase()]?.toString();return n?{text:n,type:bt.FLOAT}:e.vars.getOrCreateVar(t.isNew,t.name)}case"call":{let n=t;if(t.isNew&&t.args.length){const i={...t.args[0].first,isNew:!0},s=[{...t.args[0],first:i},...t.args.slice(1)];n={...t,args:s}}const r=qq(e),o=_k(e,n);if(!o.type)throw Error(`Функция ${t.name} не возвращает значения`);return e.lines.push(`const ${r}=${o.text};`),{text:r,type:o.type}}case"-":case"!":{let n=t.op;t.isNew&&(n={...n,isNew:!0});const r=Jv(e,n);if(r.type!==bt.FLOAT)throw Error(`Оператор "${t.type}" не применим к ${bt[r.type]}`);return{text:`(${t.type}${r.text})`,type:r.type}}case"subexpr":{const n=za(e,t.expr);return{text:`(${n.text})`,type:n.type}}}}function za(e,{first:t,rest:n}){if(!n.length)return Jv(e,t);const r=[{type:"decl",op:t},...ck(n.map(i=>[i.action,{type:"decl",op:i.operand}]))];Wq.forEach(i=>{for(;;){const s=r.findIndex(y=>typeof y=="string"&&i.includes(y));if(s<0)break;const a=r[s],c=r[s-1],d=r[s+1],h=c.type==="decl"?Jv(e,c.op):c.res,f=d.type==="decl"?Jv(e,d.op):d.res,g=xk.find(({name:y,arg:b})=>y===a&&b[0]===h.type&&b[1]===f.type);if(!g)throw Error(`Оператор '${a}' неприменим к '${bt[h.type]}', '${bt[f.type]}'`);const m={text:g.text.replace(/#\d/g,y=>(y==="#0"?h:f).text),type:g.ret};r.splice(s-1,3,{type:"parsed",res:m})}});const o=r[0];if(typeof o!="object"||o.type!=="parsed")throw Error("Ошибка разбора выражения");return o.res}function Ek(e,t,n){if(t!==n)throw Error(`"${e}" имеет тип ${bt[t]}, но правое выражение возвращает ${bt[n]}`)}function Tk(e,t){switch(t.type){case":=":{const r=za(e,t.expr),o=e.vars.getOrCreateVar(!0,t.to,r.type);Ek(t.to,o.type,r.type),e.lines.push(`${o.text} = ${r.text};`);break}case"callChain":{t.functions.forEach(r=>{const o=_k(e,r);e.lines.push(`${o.text};`)});break}case"if":{e.b.pushBlock({canBreak:!1,expect:"endif",hasElse:!1});const r=za(e,t.expr);e.lines.push(`if (${r.text}) {`);break}case"else":{const r=e.b.lastBlock();if(r?.expect!=="endif"||r.hasElse)throw Error("else должен находиться после if");r.hasElse=!0,e.lines.push("} else {");break}case"endif":{e.b.popBlock("endif"),e.lines.push("}");break}case"varsDec":{const{datatype:r,modifiers:o,names:i}=t;let s;switch(r){case"FLOAT":case"INTEGER":s=bt.FLOAT;break;case"HANDLE":s=bt.HANDLE;break;case"STRING":s=bt.STRING;break;case"COLORREF":s=bt.COLORREF;break}const a=(o.includes("LOCAL")?et.VF_LOCAL:0)|(o.includes("PARAMETER")?et.VF_ARGUMENT:0);i.forEach(c=>e.vars.declareVar(c,s,a));break}case"while":{e.b.pushBlock({expect:"endwhile",canBreak:!0});const r=`g${++e.whileGuardCount}`;e.lines.push(`var ${r} = 0;`),e.lines.push("while (true) {"),e.lines.push(`if (++${r} > 10000000) throw Error("Бесконечный цикл (10_000_000 итераций)");`);const o=za(e,t.expr);e.lines.push(`if (!(${o.text})) break;`);break}case"endwhile":{e.b.popBlock("endwhile"),e.lines.push("}");break}case"do":{e.b.pushBlock({expect:"until",canBreak:!0}),e.lines.push("do {");break}case"until":{e.b.popBlock("until");const r=za(e,t.expr);e.lines.push(`if (!(${r.text})) break;`),e.lines.push("} while (true);");break}case"switch":{e.b.pushBlock({expect:"endswitch",canBreak:!0,caseCount:0}),e.lines.push("do { //switch");break}case"endswitch":{const r=e.b.popBlock("endswitch");if(!r.caseCount)throw Error("Ожидалось case");for(let o=0;o<r.caseCount;++o)e.lines.push("}");e.lines.push("} while (false); //endswitch");break}case"case":{const r=e.b.lastBlock();if(r?.expect!=="endswitch")throw Error("case должен находиться внутри блока switch");r.caseCount&&e.lines.push("} else {"),++r.caseCount;const o=za(e,t.expr);e.lines.push(`if (${o.text}) { //case`);break}case"default":{if(e.b.lastBlock()?.expect!=="endswitch")throw Error("default должен находиться внутри блока switch");e.lines.push("} else { //default");break}case"break":e.lines.push(e.b.haveABreakHaveAKitKat());break;case"=":{const r={...e,lines:[]},o=za(r,t.lhs);if(o.type!==bt.FLOAT)throw Error("Левая часть выражения не возвращает FLOAT");const i=za(r,t.rhs);if(i.type!==bt.FLOAT)throw Error("Правая часть выражения не возвращает FLOAT");r.lines.push(`return ${i.text} - (${o.text});`),e.equations.push(r.lines);break}case"::=":{const r={...e,lines:[]},o=za(r,t.expr),i=e.vars.getOrCreateVar(!0,t.to,o.type);Ek(t.to,i.type,o.type),r.lines.push(`${i.text} = ${o.text};`),e.defers.push(r.lines);break}case"eqResult":{if(t.deferred)t.vars.forEach(r=>e.vars.makeInEquation(r));else{const r=t.vars.map(o=>e.vars.getFloatVar(o));e.lines.push(`${zC}.${zq}([${r}]);`)}break}case"function":{e.isFunction=!0;break}case"return":{e.vars.setAsReturn(t.to);break}default:throw Error(`Неизвестный оператор: "${t.type}"`)}}function Yq(e,t,n){const r=e.vars.result(),{lines:o,bugs:i,equations:s,defers:a,isFunction:c}=e;if(o.length===0&&s.length===0&&a.length===0)return{bugs:i,vars:r,isFunction:c,mainText:"",equationsTexts:[],defersTexts:[]};const d=r.map((v,S)=>`const $${v.name.toLowerCase()} = ${Fq}[${S}];`).join(`
`),h=Vq+`
`+d+`
`,f=t?`//# sourceURL=_transpiled/${t}`:"",g=n?.split(`
`).map(v=>"// "+v).join(`
`)??"",m=o.length?g+h+o.join(`
`)+f:"",y=s.map((v,S)=>h+v.join(`
`)+(f&&`${f}_eq_${S}`)),b=a.map((v,S)=>h+v.join(`
`)+(f&&`${f}_defer_${S}`));return{bugs:i,vars:r,isFunction:c,mainText:m,equationsTexts:y,defersTexts:b}}function Xq(e,{funcTable:t,sourceURL:n,comment:r}={}){const o={funcTable:t,vars:new Kq,b:new Bq,lines:[],defers:[],equations:[],isFunction:!1,bugs:[],tmpVarCount:0,whileGuardCount:0};e.forEach(s=>{try{Tk(o,s.code);let a=s.code.then;for(;a;)Tk(o,a),a=a.then}catch(a){throw a instanceof Error?Error(`Строка ${s.line}: ${a.message}`):a}});const i=o.b.lastBlock();if(i)throw Error(`Строка ${e.length}: ожидалось ${i.expect}`);return Yq(o,n,r)}class Mk extends SyntaxError{constructor(t,n,r,o){super(t),this.expected=n,this.found=r,this.location=o,this.name="SyntaxError"}format(t){let n="Error: "+this.message;if(this.location){let r=null;const o=t.find(c=>c.source===this.location.source);o&&(r=o.text.split(/\r\n|\n|\r/g));const i=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,a=this.location.source+":"+s.line+":"+s.column;if(r){const c=this.location.end,d="".padEnd(s.line.toString().length," "),h=r[i.line-1],g=(i.line===c.line?c.column:h.length+1)-i.column||1;n+=`
 --> `+a+`
`+d+` |
`+s.line+" | "+h+`
`+d+" | "+"".padEnd(i.column-1," ")+"".padEnd(g,"^")}else n+=`
 at `+a}return n}static buildMessage(t,n){function r(g){return g.codePointAt(0).toString(16).toUpperCase()}const o=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function i(g){return o?g.replace(o,m=>"\\u{"+r(m)+"}"):g}function s(g){return i(g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}function a(g){return i(g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}const c={literal(g){return'"'+s(g.text)+'"'},class(g){const m=g.parts.map(y=>Array.isArray(y)?a(y[0])+"-"+a(y[1]):a(y));return"["+(g.inverted?"^":"")+m.join("")+"]"+(g.unicode?"u":"")},any(){return"any character"},end(){return"end of input"},other(g){return g.description}};function d(g){return c[g.type](g)}function h(g){const m=g.map(d);if(m.sort(),m.length>0){let y=1;for(let b=1;b<m.length;b++)m[b-1]!==m[b]&&(m[y]=m[b],y++);m.length=y}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function f(g){return g?'"'+s(g)+'"':"end of input"}return"Expected "+h(t)+" but "+f(n)+" found."}}function Zq(e,t){t=t!==void 0?t:{};const n={},r=t.grammarSource,o={Code:ws};let i=ws;const s=",",a="(",c=")",d="~",h=">=",f=">",g="<=",m="<",y="==",b="!=",v="&&",S="&",E="||",T="|",R=":=",M="::=",I="=",N="?",P="if",L="while",A="until",$="case",B="else",U="endif",K="break",G="endwhile",V="do",Y="endswitch",Q="switch",te="default",z="function",W="return",Z="handle",le="string",ue="float",ce="colorref",se="integer",ve="local",Te="nosave",Se="parameter",he=".",pe="#",we="'",_e='"',De=/^[!\-]/,Ee=/^[%*-+\-\/\^]/,Fe=/^[_a-z\u0430-\u044F0-9]/i,Je=/^[0-9]/,Be=/^[eE]/,Ot=/^[+\-]/,dt=/^[^']/,St=/^[^"]/,je=/^[ \t]/,Rt=/^[\n;]/,mt=/^[ \t\n\r]/,Bt=Wn("variable name"),It=fn(",",!1),Xt=Wn("function call"),Wt=fn("(",!1),ht=fn(")",!1),_t=Mo(["!","-"],!1,!1,!1),He=Wn("!<operand> or -<operand>"),lt=Wn("(<expression>)"),ct=Wn("operand"),Ct=fn("~",!1),st=Mo(["%",["*","+"],"-","/","^"],!1,!1,!1),At=fn(">=",!1),pt=fn(">",!1),Pt=fn("<=",!1),Dn=fn("<",!1),An=fn("==",!1),fr=fn("!=",!1),Fn=fn("&&",!1),Dr=fn("&",!1),er=fn("||",!1),jr=fn("|",!1),Vr=Wn("expression"),on=Wn("assignment operator"),Ln=fn(":=",!1),Lt=fn("::=",!1),$t=Wn("equality operator"),tn=fn("=",!1),en=Wn("immediately equation result"),En=fn("?",!1),fo=Wn("deferred equation result"),jo=Wn("function call chain"),Xo=Wn("( <expression> )"),Mi=Wn("if(<condition>)"),Gr=fn("if",!0),Ar=Wn("while(<condition>)"),mr=fn("while",!0),Co=Wn("until(<condition>)"),Oi=fn("until",!0),Tr=Wn("case(<condition>)"),nn=fn("case",!0),Xe=fn("else",!0),Ze=fn("endif",!0),it=fn("break",!0),Zt=fn("endwhile",!0),cn=fn("do",!0),vr=fn("endswitch",!0),Zn=fn("switch",!0),Wr=fn("default",!0),Ri=fn("function",!0),ms=Wn("return <var name>"),oi=fn("return",!0),oa=fn("HANDLE",!0),Pn=fn("STRING",!0),Mr=fn("FLOAT",!0),ii=fn("COLORREF",!0),Ii=fn("INTEGER",!0),zf=fn("LOCAL",!0),pu=fn("NOSAVE",!0),vi=fn("PARAMETER",!0),Zd=Mo(["_",["a","z"],["а","я"],["0","9"]],!1,!0,!1),Ym=Wn("function name"),Ki=Mo([["0","9"]],!1,!1,!1),Qd=fn(".",!1),ic=Mo(["e","E"],!1,!1,!1),Uf=Mo(["+","-"],!1,!1,!1),si=Wn("float"),gu=Wn("handle"),Jd=fn("#",!1),mu=fn("'",!1),Da=Mo(["'"],!0,!1,!1),eh=fn('"',!1),th=Mo(['"'],!0,!1,!1),vl=Wn("space or tab"),yr=Mo([" ","	"],!1,!1,!1),nh=Wn("new line"),rh=Mo([`
`,";"],!1,!1,!1),po=Mo([" ","	",`
`,"\r"],!1,!1,!1);function vs(q){return{code:q,line:ci().start.line}}function sc(q){return q.filter(re=>re.code)}function ac(q){return{type:"var",name:q}}function yl(q){return q}function vu(q,re){return{type:"call",name:q,args:re}}function ia(q,re){return{type:q,op:re}}function bl(q){return{type:"subexpr",expr:q}}function yu(q,re){return{...re,isNew:!!q}}function ys(q,re,Ce){return{action:re,operand:Ce}}function oh(q,re){return{first:q,rest:re}}function ai(q,re){return re}function yi(q,re){return[q].concat(re)}function sa(q,re){return re}function br(q,re,Ce){return{type:"varsDec",datatype:q,modifiers:re,names:Ce}}function bs(q,re,Ce){return{type:re,to:q,expr:Ce}}function lc(q,re,Ce){return{type:re,lhs:q,rhs:Ce}}function wl(q,re){return re}function cc(q,re){return{type:"eqResult",deferred:!1,vars:[q].concat(re)}}function Sl(q,re){return re}function Vo(q,re){return{type:"eqResult",deferred:!0,vars:[q].concat(re)}}function aa(q,re){return re}function so(q,re){return{type:"callChain",functions:[q].concat(re)}}function Pi(q){return q}function bu(q){return q}function uc(q){return q}function ih(q){return{type:"if",expr:q}}function wu(q){return{type:"while",expr:q}}function sh(q){return{type:"until",expr:q}}function dc(q,re){return{type:"case",expr:q,then:re}}function Cl(q){return{type:"else",then:q}}function Hf(q){return{type:"endif",then:q}}function Gf(){return{type:"break"}}function Xm(){return{type:"endwhile"}}function Wf(){return{type:"do"}}function ah(){return{type:"endswitch"}}function Zm(){return{type:"switch"}}function xl(q){return{type:"default",then:q}}function Su(){return{type:"function"}}function Kf(q){return{type:"return",to:q}}function lh(){return"HANDLE"}function tr(){return"STRING"}function qf(){return"FLOAT"}function Yf(){return"COLORREF"}function Xf(){return"INTEGER"}function qi(){return"LOCAL"}function hc(){return"NOSAVE"}function Zf(){return"PARAMETER"}function Qf(q){return{type:"float",value:q}}function li(q){return{type:"handle",value:q.length>0?q:"0"}}function go(q){return{type:"string",value:q[1]}}let ae=t.peg$currPos|0,Qt=ae;const _l=[{line:1,column:1}];let ki=ae,sr=t.peg$maxFailExpected||[],Ne=t.peg$silentFails|0,El;if(t.startRule){if(!(t.startRule in o))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');i=o[t.startRule]}function ci(){return Aa(Qt,ae)}function ch(q=ae){const re=e.codePointAt(q);return re===void 0?"":String.fromCodePoint(re)}function fn(q,re){return{type:"literal",text:q,ignoreCase:re}}function Mo(q,re,Ce,Re){return{type:"class",parts:q,inverted:re,ignoreCase:Ce,unicode:Re}}function uh(){return{type:"end"}}function Wn(q){return{type:"other",description:q}}function Cu(q){let re=_l[q],Ce;if(re)return re;if(q>=_l.length)Ce=_l.length-1;else for(Ce=q;!_l[--Ce];);for(re=_l[Ce],re={line:re.line,column:re.column};Ce<q;)e.charCodeAt(Ce)===10?(re.line++,re.column=1):re.column++,Ce++;return _l[q]=re,re}function Aa(q,re,Ce){const Re=Cu(q),Ue=Cu(re);return{source:r,start:{offset:q,line:Re.line,column:Re.column},end:{offset:re,line:Ue.line,column:Ue.column}}}function ut(q){ae<ki||(ae>ki&&(ki=ae,sr=[]),sr.push(q))}function dh(q,re,Ce){return new Mk(Mk.buildMessage(q,re),q,re,Ce)}function ws(){let q,re,Ce,Re,Ue,Ke,un;for(q=ae,re=[],Ce=ae,Re=[],Ue=Ft();Ue!==n;)Re.push(Ue),Ue=Ft();for(Ue=an(),Ue===n&&(Ue=null),Ke=[],un=Ft();un!==n;)Ke.push(un),un=Ft();for(un=ev(),un!==n?(Qt=Ce,Ce=vs(Ue)):(ae=Ce,Ce=n);Ce!==n;){for(re.push(Ce),Ce=ae,Re=[],Ue=Ft();Ue!==n;)Re.push(Ue),Ue=Ft();for(Ue=an(),Ue===n&&(Ue=null),Ke=[],un=Ft();un!==n;)Ke.push(un),un=Ft();un=ev(),un!==n?(Qt=Ce,Ce=vs(Ue)):(ae=Ce,Ce=n)}return Qt=q,re=sc(re),q=re,q}function no(){let q,re;return Ne++,q=ae,re=Or(),re!==n&&(Qt=q,re=ac(re)),q=re,Ne--,q===n&&(re=n,Ne===0&&ut(Bt)),q}function hh(){let q,re,Ce,Re,Ue;for(q=ae,re=[],Ce=Ft();Ce!==n;)re.push(Ce),Ce=Ft();if(Ce=wr(),Ce!==n){for(Re=[],Ue=Ft();Ue!==n;)Re.push(Ue),Ue=Ft();e.charCodeAt(ae)===44?(Ue=s,ae++):(Ue=n,Ne===0&&ut(It)),Ue===n&&(Ue=null),Qt=q,q=Ce}else ae=q,q=n;return q}function fc(){let q,re,Ce,Re,Ue,Ke,un,dn;if(Ne++,q=ae,re=Oo(),re!==n){for(Ce=[],Re=Ft();Re!==n;)Ce.push(Re),Re=Ft();if(e.charCodeAt(ae)===40?(Re=a,ae++):(Re=n,Ne===0&&ut(Wt)),Re!==n){for(Ue=[],Ke=Ft();Ke!==n;)Ue.push(Ke),Ke=Ft();for(Ke=[],un=hh();un!==n;)Ke.push(un),un=hh();for(un=[],dn=Ft();dn!==n;)un.push(dn),dn=Ft();e.charCodeAt(ae)===41?(dn=c,ae++):(dn=n,Ne===0&&ut(ht)),dn!==n?(Qt=q,q=vu(re,Ke)):(ae=q,q=n)}else ae=q,q=n}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(Xt)),q}function La(){let q;return q=e.charAt(ae),De.test(q)?ae++:(q=n,Ne===0&&ut(_t)),q}function Tl(){let q,re,Ce,Re;if(Ne++,q=ae,re=La(),re!==n){for(Ce=[],Re=Ft();Re!==n;)Ce.push(Re),Re=Ft();Re=Yi(),Re!==n?(Qt=q,q=ia(re,Re)):(ae=q,q=n)}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(He)),q}function Ml(){let q,re,Ce,Re,Ue,Ke;if(Ne++,q=ae,e.charCodeAt(ae)===40?(re=a,ae++):(re=n,Ne===0&&ut(Wt)),re!==n){for(Ce=[],Re=Ft();Re!==n;)Ce.push(Re),Re=Ft();if(Re=wr(),Re!==n){for(Ue=[],Ke=Ft();Ke!==n;)Ue.push(Ke),Ke=Ft();e.charCodeAt(ae)===41?(Ke=c,ae++):(Ke=n,Ne===0&&ut(ht)),Ke!==n?(Qt=q,q=bl(Re)):(ae=q,q=n)}else ae=q,q=n}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(lt)),q}function Yi(){let q,re,Ce,Re;for(Ne++,q=ae,e.charCodeAt(ae)===126?(re=d,ae++):(re=n,Ne===0&&ut(Ct)),re===n&&(re=null),Ce=[],Re=Ft();Re!==n;)Ce.push(Re),Re=Ft();return Re=Tl(),Re===n&&(Re=gI(),Re===n&&(Re=mI(),Re===n&&(Re=vI(),Re===n&&(Re=fc(),Re===n&&(Re=no(),Re===n&&(Re=Ml())))))),Re!==n?(Qt=q,q=yu(re,Re)):(ae=q,q=n),Ne--,q===n&&(re=n,Ne===0&&ut(ct)),q}function Di(){let q;return q=e.charAt(ae),Ee.test(q)?ae++:(q=n,Ne===0&&ut(st)),q===n&&(e.substr(ae,2)===h?(q=h,ae+=2):(q=n,Ne===0&&ut(At)),q===n&&(e.charCodeAt(ae)===62?(q=f,ae++):(q=n,Ne===0&&ut(pt)),q===n&&(e.substr(ae,2)===g?(q=g,ae+=2):(q=n,Ne===0&&ut(Pt)),q===n&&(e.charCodeAt(ae)===60?(q=m,ae++):(q=n,Ne===0&&ut(Dn)),q===n&&(e.substr(ae,2)===y?(q=y,ae+=2):(q=n,Ne===0&&ut(An)),q===n&&(e.substr(ae,2)===b?(q=b,ae+=2):(q=n,Ne===0&&ut(fr)),q===n&&(e.substr(ae,2)===v?(q=v,ae+=2):(q=n,Ne===0&&ut(Fn)),q===n&&(e.charCodeAt(ae)===38?(q=S,ae++):(q=n,Ne===0&&ut(Dr)),q===n&&(e.substr(ae,2)===E?(q=E,ae+=2):(q=n,Ne===0&&ut(er)),q===n&&(e.charCodeAt(ae)===124?(q=T,ae++):(q=n,Ne===0&&ut(jr)))))))))))),q}function wr(){let q,re,Ce,Re,Ue,Ke,un,dn;if(Ne++,q=ae,re=Yi(),re!==n){for(Ce=[],Re=ae,Ue=[],Ke=Ft();Ke!==n;)Ue.push(Ke),Ke=Ft();if(Ke=Di(),Ke!==n){for(un=[],dn=Ft();dn!==n;)un.push(dn),dn=Ft();dn=Yi(),dn!==n?(Qt=Re,Re=ys(re,Ke,dn)):(ae=Re,Re=n)}else ae=Re,Re=n;for(;Re!==n;){for(Ce.push(Re),Re=ae,Ue=[],Ke=Ft();Ke!==n;)Ue.push(Ke),Ke=Ft();if(Ke=Di(),Ke!==n){for(un=[],dn=Ft();dn!==n;)un.push(dn),dn=Ft();dn=Yi(),dn!==n?(Qt=Re,Re=ys(re,Ke,dn)):(ae=Re,Re=n)}else ae=Re,Re=n}Qt=q,q=oh(re,Ce)}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(Vr)),q}function pc(){let q,re,Ce,Re,Ue,Ke;if(q=ae,re=Or(),re!==n){for(Ce=[],Re=ae,xo(),e.charCodeAt(ae)===44?(Ue=s,ae++):(Ue=n,Ne===0&&ut(It)),Ue!==n?(xo(),Ke=Or(),Ke!==n?(Qt=Re,Re=ai(re,Ke)):(ae=Re,Re=n)):(ae=Re,Re=n);Re!==n;)Ce.push(Re),Re=ae,xo(),e.charCodeAt(ae)===44?(Ue=s,ae++):(Ue=n,Ne===0&&ut(It)),Ue!==n?(xo(),Ke=Or(),Ke!==n?(Qt=Re,Re=ai(re,Ke)):(ae=Re,Re=n)):(ae=Re,Re=n);Qt=q,q=yi(re,Ce)}else ae=q,q=n;return q}function Jf(){let q,re,Ce,Re,Ue,Ke,un,dn,Ss;if(q=ae,re=yn(),re!==n){if(Ce=[],Re=Ft(),Re!==n)for(;Re!==n;)Ce.push(Re),Re=Ft();else Ce=n;if(Ce!==n){if(Re=xo(),Ue=[],Ke=ae,un=ar(),un!==n){if(dn=[],Ss=Ft(),Ss!==n)for(;Ss!==n;)dn.push(Ss),Ss=Ft();else dn=n;dn!==n?(Qt=Ke,Ke=sa(re,un)):(ae=Ke,Ke=n)}else ae=Ke,Ke=n;for(;Ke!==n;)if(Ue.push(Ke),Ke=ae,un=ar(),un!==n){if(dn=[],Ss=Ft(),Ss!==n)for(;Ss!==n;)dn.push(Ss),Ss=Ft();else dn=n;dn!==n?(Qt=Ke,Ke=sa(re,un)):(ae=Ke,Ke=n)}else ae=Ke,Ke=n;Ke=pc(),Ke!==n?(Qt=q,q=br(re,Ue,Ke)):(ae=q,q=n)}else ae=q,q=n}else ae=q,q=n;return q}function fh(){let q,re,Ce,Re,Ue;if(Ne++,q=ae,re=Or(),re!==n)if(xo(),e.substr(ae,2)===R?(Ce=R,ae+=2):(Ce=n,Ne===0&&ut(Ln)),Ce===n&&(e.substr(ae,3)===M?(Ce=M,ae+=3):(Ce=n,Ne===0&&ut(Lt))),Ce!==n){for(Re=[],Ue=Ft();Ue!==n;)Re.push(Ue),Ue=Ft();Ue=wr(),Ue!==n?(Qt=q,q=bs(re,Ce,Ue)):(ae=q,q=n)}else ae=q,q=n;else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(on)),q}function Ol(){let q,re,Ce,Re,Ue;if(Ne++,q=ae,re=wr(),re!==n)if(xo(),e.charCodeAt(ae)===61?(Ce=I,ae++):(Ce=n,Ne===0&&ut(tn)),Ce!==n){for(Re=[],Ue=Ft();Ue!==n;)Re.push(Ue),Ue=Ft();Ue=wr(),Ue!==n?(Qt=q,q=lc(re,Ce,Ue)):(ae=q,q=n)}else ae=q,q=n;else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut($t)),q}function ph(){let q,re,Ce,Re,Ue,Ke,un,dn;if(Ne++,q=ae,re=Or(),re!==n){for(Ce=[],Re=ae,Ue=[],Ke=Ft();Ke!==n;)Ue.push(Ke),Ke=Ft();if(e.charCodeAt(ae)===44?(Ke=s,ae++):(Ke=n,Ne===0&&ut(It)),Ke!==n){for(un=[],dn=Ft();dn!==n;)un.push(dn),dn=Ft();dn=Or(),dn!==n?(Qt=Re,Re=wl(re,dn)):(ae=Re,Re=n)}else ae=Re,Re=n;for(;Re!==n;){for(Ce.push(Re),Re=ae,Ue=[],Ke=Ft();Ke!==n;)Ue.push(Ke),Ke=Ft();if(e.charCodeAt(ae)===44?(Ke=s,ae++):(Ke=n,Ne===0&&ut(It)),Ke!==n){for(un=[],dn=Ft();dn!==n;)un.push(dn),dn=Ft();dn=Or(),dn!==n?(Qt=Re,Re=wl(re,dn)):(ae=Re,Re=n)}else ae=Re,Re=n}for(Re=[],Ue=Ft();Ue!==n;)Re.push(Ue),Ue=Ft();if(e.charCodeAt(ae)===61?(Ue=I,ae++):(Ue=n,Ne===0&&ut(tn)),Ue!==n){for(Ke=[],un=Ft();un!==n;)Ke.push(un),un=Ft();e.charCodeAt(ae)===63?(un=N,ae++):(un=n,Ne===0&&ut(En)),un!==n?(Qt=q,q=cc(re,Ce)):(ae=q,q=n)}else ae=q,q=n}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(en)),q}function gh(){let q,re,Ce,Re,Ue,Ke,un;if(Ne++,q=ae,e.charCodeAt(ae)===63?(re=N,ae++):(re=n,Ne===0&&ut(En)),re!==n)if(xo(),Ce=Or(),Ce!==n){for(Re=[],Ue=ae,xo(),e.charCodeAt(ae)===44?(Ke=s,ae++):(Ke=n,Ne===0&&ut(It)),Ke!==n?(xo(),un=Or(),un!==n?(Qt=Ue,Ue=Sl(Ce,un)):(ae=Ue,Ue=n)):(ae=Ue,Ue=n);Ue!==n;)Re.push(Ue),Ue=ae,xo(),e.charCodeAt(ae)===44?(Ke=s,ae++):(Ke=n,Ne===0&&ut(It)),Ke!==n?(xo(),un=Or(),un!==n?(Qt=Ue,Ue=Sl(Ce,un)):(ae=Ue,Ue=n)):(ae=Ue,Ue=n);Qt=q,q=Vo(Ce,Re)}else ae=q,q=n;else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(fo)),q}function ep(){let q,re,Ce,Re,Ue,Ke;if(Ne++,q=ae,re=fc(),re!==n){if(Ce=[],Re=ae,Ue=[],Ke=Ft(),Ke!==n)for(;Ke!==n;)Ue.push(Ke),Ke=Ft();else Ue=n;for(Ue!==n?(Ke=fc(),Ke!==n?(Qt=Re,Re=aa(re,Ke)):(ae=Re,Re=n)):(ae=Re,Re=n);Re!==n;){if(Ce.push(Re),Re=ae,Ue=[],Ke=Ft(),Ke!==n)for(;Ke!==n;)Ue.push(Ke),Ke=Ft();else Ue=n;Ue!==n?(Ke=fc(),Ke!==n?(Qt=Re,Re=aa(re,Ke)):(ae=Re,Re=n)):(ae=Re,Re=n)}Qt=q,q=so(re,Ce)}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(jo)),q}function tp(){let q,re,Ce,Re,Ue,Ke;if(Ne++,q=ae,e.charCodeAt(ae)===40?(re=a,ae++):(re=n,Ne===0&&ut(Wt)),re!==n){for(Ce=[],Re=Ft();Re!==n;)Ce.push(Re),Re=Ft();if(Re=wr(),Re!==n){for(Ue=[],Ke=Ft();Ke!==n;)Ue.push(Ke),Ke=Ft();e.charCodeAt(ae)===41?(Ke=c,ae++):(Ke=n,Ne===0&&ut(ht)),Ke!==n?(Qt=q,q=Re):(ae=q,q=n)}else ae=q,q=n}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(Xo)),q}function Qm(){let q,re,Ce,Re,Ue;for(Ne++,q=ae,re=[],Ce=Ft();Ce!==n;)re.push(Ce),Ce=Ft();if(Ce=wr(),Ce!==n){for(Re=[],Ue=Ft();Ue!==n;)Re.push(Ue),Ue=Ft();e.charCodeAt(ae)===41?(Ue=c,ae++):(Ue=n,Ne===0&&ut(ht)),Ue!==n?(Qt=q,q=Ce):(ae=q,q=n)}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(Xo)),q}function xu(){let q;return q=tp(),q===n&&(q=Qm()),q}function gc(){let q,re,Ce;if(q=ae,re=[],Ce=Ft(),Ce!==n)for(;Ce!==n;)re.push(Ce),Ce=Ft();else re=n;return re!==n?(Ce=an(),Ce!==n?(Qt=q,q=Ce):(ae=q,q=n)):(ae=q,q=n),q}function Jm(){let q,re,Ce;return Ne++,q=ae,re=e.substr(ae,2),re.toLowerCase()===P?ae+=2:(re=n,Ne===0&&ut(Gr)),re!==n?(xo(),Ce=xu(),Ce!==n?(Qt=q,q=ih(Ce)):(ae=q,q=n)):(ae=q,q=n),Ne--,q===n&&(re=n,Ne===0&&ut(Mi)),q}function C(){let q,re,Ce;return Ne++,q=ae,re=e.substr(ae,5),re.toLowerCase()===L?ae+=5:(re=n,Ne===0&&ut(mr)),re!==n?(xo(),Ce=xu(),Ce!==n?(Qt=q,q=wu(Ce)):(ae=q,q=n)):(ae=q,q=n),Ne--,q===n&&(re=n,Ne===0&&ut(Ar)),q}function F(){let q,re,Ce;return Ne++,q=ae,re=e.substr(ae,5),re.toLowerCase()===A?ae+=5:(re=n,Ne===0&&ut(Oi)),re!==n?(xo(),Ce=xu(),Ce!==n?(Qt=q,q=sh(Ce)):(ae=q,q=n)):(ae=q,q=n),Ne--,q===n&&(re=n,Ne===0&&ut(Co)),q}function X(){let q,re,Ce,Re;return Ne++,q=ae,re=e.substr(ae,4),re.toLowerCase()===$?ae+=4:(re=n,Ne===0&&ut(nn)),re!==n?(xo(),Ce=xu(),Ce!==n?(Re=gc(),Re===n&&(Re=null),Qt=q,q=dc(Ce,Re)):(ae=q,q=n)):(ae=q,q=n),Ne--,q===n&&(re=n,Ne===0&&ut(Tr)),q}function ee(){let q,re,Ce;return q=ae,re=e.substr(ae,4),re.toLowerCase()===B?ae+=4:(re=n,Ne===0&&ut(Xe)),re!==n?(Ce=gc(),Ce===n&&(Ce=null),Qt=q,q=Cl(Ce)):(ae=q,q=n),q}function ne(){let q,re,Ce;return q=ae,re=e.substr(ae,5),re.toLowerCase()===U?ae+=5:(re=n,Ne===0&&ut(Ze)),re!==n?(Ce=gc(),Ce===n&&(Ce=null),Qt=q,q=Hf(Ce)):(ae=q,q=n),q}function de(){let q,re;return q=ae,re=e.substr(ae,5),re.toLowerCase()===K?ae+=5:(re=n,Ne===0&&ut(it)),re!==n&&(Qt=q,re=Gf()),q=re,q}function ge(){let q,re;return q=ae,re=e.substr(ae,8),re.toLowerCase()===G?ae+=8:(re=n,Ne===0&&ut(Zt)),re!==n&&(Qt=q,re=Xm()),q=re,q}function Oe(){let q,re;return q=ae,re=e.substr(ae,2),re.toLowerCase()===V?ae+=2:(re=n,Ne===0&&ut(cn)),re!==n&&(Qt=q,re=Wf()),q=re,q}function $e(){let q,re;return q=ae,re=e.substr(ae,9),re.toLowerCase()===Y?ae+=9:(re=n,Ne===0&&ut(vr)),re!==n&&(Qt=q,re=ah()),q=re,q}function qe(){let q,re;return q=ae,re=e.substr(ae,6),re.toLowerCase()===Q?ae+=6:(re=n,Ne===0&&ut(Zn)),re!==n&&(Qt=q,re=Zm()),q=re,q}function rt(){let q,re,Ce;return q=ae,re=e.substr(ae,7),re.toLowerCase()===te?ae+=7:(re=n,Ne===0&&ut(Wr)),re!==n?(Ce=gc(),Ce===n&&(Ce=null),Qt=q,q=xl(Ce)):(ae=q,q=n),q}function kt(){let q,re;return q=ae,re=e.substr(ae,8),re.toLowerCase()===z?ae+=8:(re=n,Ne===0&&ut(Ri)),re!==n&&(Qt=q,re=Su()),q=re,q}function zt(){let q,re,Ce;return Ne++,q=ae,re=e.substr(ae,6),re.toLowerCase()===W?ae+=6:(re=n,Ne===0&&ut(oi)),re!==n?(xo(),Ce=Or(),Ce!==n?(Qt=q,q=Kf(Ce)):(ae=q,q=n)):(ae=q,q=n),Ne--,q===n&&(re=n,Ne===0&&ut(ms)),q}function an(){let q;return q=Jf(),q===n&&(q=fh(),q===n&&(q=Ol(),q===n&&(q=ph(),q===n&&(q=gh(),q===n&&(q=Jm(),q===n&&(q=ee(),q===n&&(q=ne(),q===n&&(q=de(),q===n&&(q=C(),q===n&&(q=ge(),q===n&&(q=Oe(),q===n&&(q=F(),q===n&&(q=$e(),q===n&&(q=qe(),q===n&&(q=X(),q===n&&(q=rt(),q===n&&(q=ep(),q===n&&(q=kt(),q===n&&(q=zt()))))))))))))))))))),q}function yn(){let q,re;return q=ae,re=e.substr(ae,6),re.toLowerCase()===Z?ae+=6:(re=n,Ne===0&&ut(oa)),re!==n&&(Qt=q,re=lh()),q=re,q===n&&(q=ae,re=e.substr(ae,6),re.toLowerCase()===le?ae+=6:(re=n,Ne===0&&ut(Pn)),re!==n&&(Qt=q,re=tr()),q=re,q===n&&(q=ae,re=e.substr(ae,5),re.toLowerCase()===ue?ae+=5:(re=n,Ne===0&&ut(Mr)),re!==n&&(Qt=q,re=qf()),q=re,q===n&&(q=ae,re=e.substr(ae,8),re.toLowerCase()===ce?ae+=8:(re=n,Ne===0&&ut(ii)),re!==n&&(Qt=q,re=Yf()),q=re,q===n&&(q=ae,re=e.substr(ae,7),re.toLowerCase()===se?ae+=7:(re=n,Ne===0&&ut(Ii)),re!==n&&(Qt=q,re=Xf()),q=re)))),q}function ar(){let q,re;return q=ae,re=e.substr(ae,5),re.toLowerCase()===ve?ae+=5:(re=n,Ne===0&&ut(zf)),re!==n&&(Qt=q,re=qi()),q=re,q===n&&(q=ae,re=e.substr(ae,6),re.toLowerCase()===Te?ae+=6:(re=n,Ne===0&&ut(pu)),re!==n&&(Qt=q,re=hc()),q=re,q===n&&(q=ae,re=e.substr(ae,9),re.toLowerCase()===Se?ae+=9:(re=n,Ne===0&&ut(vi)),re!==n&&(Qt=q,re=Zf()),q=re)),q}function Or(){let q,re,Ce;if(Ne++,q=ae,re=[],Ce=e.charAt(ae),Fe.test(Ce)?ae++:(Ce=n,Ne===0&&ut(Zd)),Ce!==n)for(;Ce!==n;)re.push(Ce),Ce=e.charAt(ae),Fe.test(Ce)?ae++:(Ce=n,Ne===0&&ut(Zd));else re=n;return re!==n?q=e.substring(q,ae):q=re,Ne--,q===n&&(re=n,Ne===0&&ut(Bt)),q}function Oo(){let q;return Ne++,q=Or(),Ne--,q===n&&Ne===0&&ut(Ym),q}function Na(){let q,re;if(q=[],re=e.charAt(ae),Je.test(re)?ae++:(re=n,Ne===0&&ut(Ki)),re!==n)for(;re!==n;)q.push(re),re=e.charAt(ae),Je.test(re)?ae++:(re=n,Ne===0&&ut(Ki));else q=n;return q}function TS(){let q,re,Ce;return q=ae,e.charCodeAt(ae)===46?(re=he,ae++):(re=n,Ne===0&&ut(Qd)),re!==n?(Ce=Na(),Ce!==n?(re=[re,Ce],q=re):(ae=q,q=n)):(ae=q,q=n),q}function MS(){let q,re,Ce,Re;return q=ae,re=e.charAt(ae),Be.test(re)?ae++:(re=n,Ne===0&&ut(ic)),re!==n?(Ce=e.charAt(ae),Ot.test(Ce)?ae++:(Ce=n,Ne===0&&ut(Uf)),Ce===n&&(Ce=null),Re=Na(),Re!==n?(re=[re,Ce,Re],q=re):(ae=q,q=n)):(ae=q,q=n),q}function gI(){let q,re,Ce,Re,Ue,Ke;return Ne++,q=ae,re=ae,Ce=ae,Re=Na(),Re!==n?(Ue=TS(),Ue===n&&(Ue=null),Ke=MS(),Ke===n&&(Ke=null),Re=[Re,Ue,Ke],Ce=Re):(ae=Ce,Ce=n),Ce!==n?re=e.substring(re,ae):re=Ce,re!==n&&(Qt=q,re=Qf(re)),q=re,Ne--,q===n&&(re=n,Ne===0&&ut(si)),q}function mI(){let q,re,Ce,Re,Ue;if(Ne++,q=ae,e.charCodeAt(ae)===35?(re=pe,ae++):(re=n,Ne===0&&ut(Jd)),re!==n){for(Ce=ae,Re=[],Ue=e.charAt(ae),Je.test(Ue)?ae++:(Ue=n,Ne===0&&ut(Ki));Ue!==n;)Re.push(Ue),Ue=e.charAt(ae),Je.test(Ue)?ae++:(Ue=n,Ne===0&&ut(Ki));Ce=e.substring(Ce,ae),Qt=q,q=li(Ce)}else ae=q,q=n;return Ne--,q===n&&(re=n,Ne===0&&ut(gu)),q}function vI(){let q,re,Ce,Re,Ue,Ke;if(q=ae,re=ae,e.charCodeAt(ae)===39?(Ce=we,ae++):(Ce=n,Ne===0&&ut(mu)),Ce!==n){for(Re=ae,Ue=[],Ke=e.charAt(ae),dt.test(Ke)?ae++:(Ke=n,Ne===0&&ut(Da));Ke!==n;)Ue.push(Ke),Ke=e.charAt(ae),dt.test(Ke)?ae++:(Ke=n,Ne===0&&ut(Da));Re=e.substring(Re,ae),e.charCodeAt(ae)===39?(Ue=we,ae++):(Ue=n,Ne===0&&ut(mu)),Ue!==n?(Ce=[Ce,Re,Ue],re=Ce):(ae=re,re=n)}else ae=re,re=n;if(re===n)if(re=ae,e.charCodeAt(ae)===34?(Ce=_e,ae++):(Ce=n,Ne===0&&ut(eh)),Ce!==n){for(Re=ae,Ue=[],Ke=e.charAt(ae),St.test(Ke)?ae++:(Ke=n,Ne===0&&ut(th));Ke!==n;)Ue.push(Ke),Ke=e.charAt(ae),St.test(Ke)?ae++:(Ke=n,Ne===0&&ut(th));Re=e.substring(Re,ae),e.charCodeAt(ae)===34?(Ue=_e,ae++):(Ue=n,Ne===0&&ut(eh)),Ue!==n?(Ce=[Ce,Re,Ue],re=Ce):(ae=re,re=n)}else ae=re,re=n;return re!==n&&(Qt=q,re=go(re)),q=re,q}function Ft(){let q;return Ne++,q=e.charAt(ae),je.test(q)?ae++:(q=n,Ne===0&&ut(yr)),Ne--,q===n&&Ne===0&&ut(vl),q}function ev(){let q;return Ne++,q=e.charAt(ae),Rt.test(q)?ae++:(q=n,Ne===0&&ut(rh)),Ne--,q===n&&Ne===0&&ut(nh),q}function xo(){let q,re;for(Ne++,q=[],re=e.charAt(ae),mt.test(re)?ae++:(re=n,Ne===0&&ut(po));re!==n;)q.push(re),re=e.charAt(ae),mt.test(re)?ae++:(re=n,Ne===0&&ut(po));return Ne--,q}El=i();const Ai=El!==n&&ae===e.length;function tv(){throw El!==n&&ae<e.length&&ut(uh()),dh(sr,ki<e.length?ch(ki):null,ki<e.length?Aa(ki,ki+1):Aa(ki,ki))}if(t.peg$library)return{peg$result:El,peg$currPos:ae,peg$FAILED:n,peg$maxFailExpected:sr,peg$maxFailPos:ki,peg$success:Ai,peg$throw:Ai?void 0:tv};if(Ai)return El;tv()}const HC="'",GC='"';function Qq(e){let t="",n=null;for(let r=0;r<e.length;++r){const o=e[r];if(o===HC&&n!==GC?n=n?null:HC:o===GC&&n!==HC&&(n=n?null:GC),n){t+=o;continue}if(o==="/"){const i=e[r+1];if(i==="*"){for(r+=2,t+="  ";r<e.length&&(e[r]!=="*"||e[r+1]!=="/");)++r,t+=e[r]===`
`?`
`:" ";t+=" ",++r;continue}if(i==="/"){for(++r,t+=" ";r<e.length&&e[++r]!==`
`;)t+=" ";t[t.length-1]!==`
`&&(t+=`
`);continue}}if(o==="\r"){e[r+1]===`
`&&(++r,t+=" "),t[t.length-1]!==`
`&&(t+=`
`);continue}t+=o}return t[t.length-1]===`
`?t:t+`
`}class ey extends Error{constructor(t){super(t.join(`
`)),this.errors=t}format(t=`
`){return this.errors.join(t)}}function Jq(e,t){let n;try{n=Zq(e)}catch(r){if(!(r instanceof Error))throw r;const o=r.location.start,i=`Строка ${o.line} столбец ${o.column}: ${r.message}`;throw new ey([i])}try{return Xq(n,t)}catch(r){throw r instanceof Error?new ey([r.message]):r}}function e9(e,t){let n;try{n=Qq(e)}catch(r){throw r instanceof Error?new ey([r.message]):r}return Jq(n,t)}const t9={[bt.FLOAT]:"F",[bt.STRING]:"S",[bt.HANDLE]:"H",[bt.COLORREF]:"C",[Nl.FLOAT_REF]:"G",[Nl.STRING_REF]:"T",[Nl.HANDLE_REF]:"I",[Nl.COLORREF_REF]:"D"};function n9(e){return e.map(t=>t9[t]).join("")}const WC=[];class Ok{constructor(){this.m=new Map}addFunc(t,n){const r=n.a||WC,o=n.rest||WC,i=r.concat(o),s=t.toUpperCase();let a=this.m.get(s);if(!a)this.m.set(s,a=[]);else{const d=Va-1;if(a.some(h=>{const f=h.argTypes.concat(h.type==="plugin"?h.restArgsTypes:WC);return f.length===i.length&&f.every((g,m)=>(g&d)===(i[m]&d))}))throw Error(`Функция '${t}' с аргументами '${r}' уже существует`)}const c="$"+t+(r.length?"$"+n9(i):"");return a.push({type:"plugin",path:c,argTypes:r,restArgsTypes:o,retType:n.r||null}),c}addUserFunc(t){const n=t.name.toUpperCase(),r=this.m.get(n);if(!r)return this.m.set(n,[t]),!0;const o=Va-1;return r.some(i=>i.argTypes.length===t.argTypes.length&&i.argTypes.every((s,a)=>(s&o)===t.argTypes[a]))?!1:(r.push(t),!0)}transpile(t,n,r){return e9(t,{funcTable:this.m,sourceURL:n,comment:r})}compile(t){return new Function("g","schema","memory",t)}}const r9=[{atlas:"default.dbm",width:224,height:928},{atlas:"animals.dbm",width:224,height:736},{atlas:"art.dbm",width:416,height:256},{atlas:"be_icons.dbm",width:160,height:1504},{atlas:"diamonds.dbm",width:256,height:544},{atlas:"folders.dbm",width:416,height:352},{atlas:"folders2.dbm",width:192,height:1376},{atlas:"hardware.dbm",width:64,height:2656},{atlas:"mask.bmp",width:64,height:64},{atlas:"people.dbm",width:416,height:576},{atlas:"recycle.dbm",width:32,height:3296},{atlas:"science.dbm",width:128,height:608},{atlas:"signs.dbm",width:96,height:1504},{atlas:"system.dbm",width:64,height:736},{atlas:"varpoint.bmp",width:32,height:128},{atlas:"varpoint.dbm",width:160,height:32},{atlas:"windows.dbm",width:512,height:384},{atlas:"_default.bmp",width:96,height:96}];function kp(e){const t=r9.find(n=>n.atlas===e);return t?{...t,src:"icon:"+t.atlas}:null}const KC=kp("default.dbm"),qC=kp("varpoint.dbm");function YC(e,t){const n=e.width/32,r=t%n*32,o=Math.floor(t/n)*32;return{x:r,y:o}}function o9(e,t,n){const r=e.width/32;return t/32+n/32*r}const i9=["gray","blue","navy","gray","#b5b5b5","white","black","black","black","white","gray","gray","gray","navy","white","#b5b5b5","gray","gray","black","gray","white"],Ph=1<<24,Dp=2<<24,Rk=4<<24;function s9(e){const t=parseInt(e);if(!isNaN(t))return t;const n=e.toLowerCase().trim();if(n.startsWith("rgb")){const r=n.split("(")[1].split(")")[0].split(",").map(o=>parseInt(o));return r[0]|r[1]<<8|r[2]<<16}return n.startsWith("transparent")?Ph:n.startsWith("syscolor")?Dp|parseInt(n.split("(")[1].split(")")[0]):0}function Xu(e){if(e&Ph)return null;const t=e&255;if(e&Dp)return i9[t]||"black";const n=e>>8&255,r=e>>16&255;return e&Rk?`rgba(${t},${n},${r}, 0.5)`:`rgb(${t},${n},${r})`}function ga(e,t,n,r){const o=r==="transparent"?Ph:r==="syscolor"?Dp:r==="editor"?Rk:0;return e&255|(t&255)<<8|(n&255)<<16|o}function Ik(e){return e&255}function Pk(e){return e>>8&255}function kk(e){return e>>16&255}function a9(e){if(e&Ph)return"Transparent";const t=e&255;if(e&Dp)return`SysColor(${t})`;const n=e>>8&255,r=e>>16&255;return`rgb(${t},${n},${r})`}function XC(e){if(e&Ph)return"#ffffff";const t=(e&255).toString(16);if(e&Dp)return"#000000";const n=(e>>8&255).toString(16),r=(e>>16&255).toString(16);return`#${t.length>1?t:`0${t}`}${n.length>1?n:`0${n}`}${r.length>1?r:`0${r}`}`}function ZC(e){const t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return ga(t,n,r)}const Ua=1,Bl=2,Rs=4,Ap=8;function Zu(e){return e>>8&31}function QC(e){return e<<8}const ty=1,Dk=2,Ak=4,Lp=8;function Lk(e,t){switch(e){case bt.FLOAT:return wq(t).toString();case bt.STRING:return t;case bt.HANDLE:return"#"+t;case bt.COLORREF:return a9(t)}}function Np(e,t){switch(e){case bt.FLOAT:{const n=parseFloat(t.replace(",","."));if(!isNaN(n))return n;const r=et[t.toUpperCase()];return typeof r=="number"?r:null}case bt.HANDLE:return l9(t);case bt.STRING:return t;case bt.COLORREF:return s9(t)}}function l9(e){return(e.startsWith("#")?parseInt(e.slice(1)):parseInt(e))||0}const k=bt.FLOAT,fe=bt.STRING,D=bt.HANDLE,gn=bt.COLORREF,Ye=Nl.FLOAT_REF,Uo=Nl.STRING_REF,c9=Nl.HANDLE_REF;Nl.COLORREF_REF;const u9=.752812499999996,d9=1.3283520132835271,h9=Date.now()-48151623,Nk=13.204656862745098;function Bk(e){const t=e.file()?.base64;return t?zv(MC(t)):""}function f9(){}class p9{constructor(t,n){this.key=t,this.fields=n??[]}insert(t){if(t==="FLOAT")return this.fields.push({type:t,value:0}),1;if(t==="HANDLE")return this.fields.push({type:t,value:0}),1;if(t==="STRING")return this.fields.push({type:t,value:""}),1;throw Error(`Неизвестный тип элемента: ${t}`)}insertClass(t,n){const r=n.map(o=>{const i=o[0].toUpperCase();switch(o[1]){case bt.FLOAT:return[i,{type:"FLOAT",value:0}];case bt.STRING:return[i,{type:"STRING",value:""}];default:return[i,{type:"HANDLE",value:0}]}});return this.fields.push({type:"STRUCT",realType:t,value:new Map(r)}),1}set(t,n,r){if(t<0||t>this.fields.length-1)return;let o=this.fields[t];if(o.type==="STRUCT"){const i=o.value.get(n.toUpperCase());if(!i)return;o=i}if(typeof r=="string"){if(o.type!=="STRING")return;o.value=r}else{if(o.type==="STRING")return;o.value=r}}remove(t){return this.fields.splice(t,1).length?1:0}count(){return this.fields.length}type(t){if(t<0||t>this.fields.length-1)return"";const n=this.fields[t];return n.type==="STRUCT"?n.realType:n.type}getFloat(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const o=r.value.get(n.toUpperCase());if(!o)return 0;r=o}return r.type==="FLOAT"?r.value:0}getHandle(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const o=r.value.get(n.toUpperCase());if(!o)return 0;r=o}return r.type==="HANDLE"?r.value:0}getString(t,n){if(t<0||t>this.fields.length-1)return"";let r=this.fields[t];if(r.type==="STRUCT"){const o=r.value.get(n.toUpperCase());if(!o)return"";r=o}return r.type==="STRING"?r.value:""}sort(t){if(!t?.length)return this.fields.sort((n,r)=>n.value-r.value),1;if(t.length===1)return t[0].desc?this.fields.sort((n,r)=>r.value-n.value):this.fields.sort((n,r)=>n.value-r.value),1;throw console.log(t),Error("VSort: сортировка по нескольким полям не реализована")}}function g9(e,t){const n=Os.freeKey(e),r=new p9(n,t);return e.set(n,r),r}function m9(){return this.kernel.createArray().key}function v9(e){this.kernel.arrays.delete(e)}function y9(e){return this.kernel.arrays.get(e)?.count()??0}function b9(e,t){return this.kernel.arrays.get(e)?.type(t)??""}function w9(e,t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=t.toUpperCase();if(r==="STRING"||r==="FLOAT"||r==="HANDLE")return n.insert(r);const o=this.kernel.classes.get(t);if(!o)return 0;const i=o.vars.list.map(s=>[s.name,s.type]);return n.insertClass(o.name,i)}function S9(e,t){return this.kernel.arrays.get(e)?.remove(t)??0}function C9(){return this.kernel.arrays.clear(),1}function x9(e,t,n){return this.kernel.arrays.get(e)?.getString(Math.floor(t),n)??""}function _9(e,t,n){return this.kernel.arrays.get(e)?.getHandle(Math.floor(t),n)??0}function E9(e,t,n){return this.kernel.arrays.get(e)?.getFloat(Math.floor(t),n)??0}function JC(e,t,n,r){this.kernel.arrays.get(e)?.set(t,n,r)}function T9(e,...t){const n=this.kernel.arrays.get(e);return n?n.sort(t.map(r=>({desc:!1,field:r}))):0}function M9(e,t,...n){const r=this.kernel.arrays.get(e);if(!r)return 0;const o=!!t;return r.sort(n.map(i=>({desc:o,field:i})))}function O9(e,...t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=[];for(let o=0;o<t.length;o+=2){const i=t[o],s=!!t[o+1];r.push({desc:s,field:i})}return n.sort(r)}function R9(e){e("New",{r:D},m9),e("Delete",{a:[D]},v9),e("VGetCount",{a:[D],r:k},y9),e("VGetType",{a:[D,k],r:fe},b9),e("VInsert",{a:[D,fe],r:k},w9),e("VDelete",{a:[D,k],r:k},S9),e("VClearAll",{},C9),e("VGetS",{a:[D,k,fe],r:fe},x9),e("VGetH",{a:[D,k,fe],r:D},_9),e("VGetF",{a:[D,k,fe],r:k},E9),e("VSet",{a:[D,k,fe,k]},JC),e("VSet",{a:[D,k,fe,fe]},JC),e("VSet",{a:[D,k,fe,D]},JC),e("VSort",{a:[D],rest:[fe],r:k},T9),e("VSort",{a:[D,k],rest:[fe],r:k},M9),e("VSort",{a:[D],rest:[fe,k],r:k},O9)}const I9={name:"arrays",register:R9,setup(e){const t=new Map;e.arrays=t,e.createArray=g9.bind(null,t)}},Fk=new Set;function es(...e){Fk.size!==Fk.add(e[0]).size&&console.warn(...e)}function P9(e){throw es("AudioGetBalance",e),Error("Not implemented")}function k9(e){throw es("AudioGetLength",e),Error("Not implemented")}function D9(e){throw es("AudioGetPosition",e),Error("Not implemented")}function A9(e){throw es("AudioGetRepeat",e),Error("Not implemented")}function L9(e){throw es("AudioGetTone",e),Error("Not implemented")}function N9(e){throw es("AudioGetVolume",e),Error("Not implemented")}function B9(e){const t=this.kernel.audios.get(e);return t&&!t.paused?1:0}function F9(e){throw es("AudioIsSeekable",e),Error("Not implemented")}function j9(e){const t=this.prj.dir.resolve(e).file()?.audio;if(!t)return 0;const n=new Audio(Ji(t.src)),r=Os.freeKey(this.kernel.audios);return this.kernel.audios.set(r,n),r}function V9(e){this.kernel.audios.get(e)?.play()}function $9(e){es("AudioReset",e)}function z9(e,t){es("AudioSetBalance",e,t)}function U9(e,t){es("AudioSetPosition",e,t)}function H9(e,t){es("AudioSetRepeat",e,t)}function G9(e,t){es("AudioSetTone",e,t)}function W9(e,t){es("AudioSetVolume",e,t)}function K9(e){this.kernel.audios.get(e)?.pause()}function q9(e){e("AudioGetBalance",{a:[D],r:k},P9),e("AudioGetLength",{a:[D],r:k},k9),e("AudioGetPosition",{a:[D],r:k},D9),e("AudioGetRepeat",{a:[D],r:k},A9),e("AudioGetTone",{a:[D],r:k},L9),e("AudioGetVolume",{a:[D],r:k},N9),e("AudioIsPlaying",{a:[D],r:k},B9),e("AudioIsSeekable",{a:[D],r:k},F9),e("AudioOpenSound",{a:[fe],r:D},j9),e("AudioPlay",{a:[D]},V9),e("AudioReset",{a:[D]},$9),e("AudioSetBalance",{a:[D,k]},z9),e("AudioSetPosition",{a:[D,k]},U9),e("AudioSetRepeat",{a:[D,k]},H9),e("AudioSetTone",{a:[D,k]},G9),e("AudioSetVolume",{a:[D,k]},W9),e("AudioStop",{a:[D]},K9)}const Y9={name:"audio",register:q9,setup(e){e.audios=new Map}};function X9(e){return this.resolve(e)?.klass.name??""}function jk(...e){throw console.warn("createLink",...e),Error("Not implemented")}function Z9(...e){throw console.warn("createObject",...e),Error("Not implemented")}function Q9(){throw Error("Not implemented")}function J9(...e){throw console.warn("setLinkVars",...e),Error("Not implemented")}function e8(e){return this.kernel.classes.get(e)?.children.length??0}function t8(){return this.ndata?.key??0}function n8(e){return this.resolve(e)?.ndata?.key??0}function r8(e,t){if(t<0)return 0;const n=this.kernel.classes.get(e)?.children;return n&&t<n.length?n[t].key:0}function o8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.klass??""}function i8(e,t,n){return this.kernel.classes.get(e)?.connections.find(({nodes:[r,o]})=>r===t&&o===n||r===n&&o===t)?.key??0}function s8(e,t){const n=this.kernel.classes.get(e)?.modelText;if(!n)return 0;const r=this.kernel.streams.get(t);if(!r)return 0;const o=OC(n);return r.write(o),o.length}function Vk(e,t){const n=this.kernel.classes.get(e);if(!n)return 0;const r=this.kernel.streams.get(t)?.bytes();if(!r)return 0;const o=zv(r),i=n.modelText;n.set({modelText:o});try{n.compile()}catch(s){if(!(s instanceof Error))throw s;return console.warn(s.message),n.set({modelText:i}),0}return 1}function a8(e,t){const n=this.resolve(e);if(!n)return"";const r=n.klass.vars.get(t);return r?n.getVarValueS(r)??"":""}function e0(e,t){const n=this.resolve(e);if(!n)return 0;const r=n.klass.vars.get(t);return r?n.getVarValueFHC(r)??0:0}function ny(e,t,n){const r=this.resolve(e);if(!r)return;const o=r.klass.vars.get(t);o&&r.vars.setValue(o,n)}function $k(e,t,n,r,o,i,s,a,c,d,h,f){const g=this.kernel.classes.get(e)?.vars.list;if(t<0||!g||t>=g.length)return n[r]="",o[i]="",s[a]="",c[d]="",h&&(h[f]=0),0;const m=g[t];return n[r]=m.name,o[i]=bt[m.type],s[a]=m.defaultValue??"",c[d]=m.description??"",h&&(h[f]=m.attrib),1}function l8(e){return this.kernel.classes.get(e)?.vars.list.length??0}function c8(e,t,n){const r=this.kernel.classes.get(e);if(!r)return 0;const o=r.children.findIndex(s=>s.key===t);if(o<0)return 0;const i=r.children.slice();return i[o]={...i[o],name:n},r.set({children:i}),1}function u8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.name??""}function d8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file();if(!r)return 0;const o=n.getValues();return r.set({stt:o}),1}function h8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file()?.stt;return r?(n.applyValues(r),1):0}function f8(e){return this.resolve(e)?.initValues(!0)?1:0}function p8(){this.kernel._functionNotImplemented("Stop",this)}function g8(e){e<=0||this.kernel.closeAll()}function m8(){this.prj.close()}function v8(e){e("GetClassName",{a:[fe],r:fe},X9),e("CreateLink",{a:[fe,D,D],r:D},jk),e("CreateLink",{a:[fe,fe,fe],r:D},jk),e("CreateObject",{a:[fe,fe,fe,k,k],r:D},Z9),e("DeleteObject",{a:[fe,D,k],r:k},Q9),e("SetLinkVars",{a:[fe,D,fe],r:k},J9),e("GetObjectCount",{a:[fe],r:k},e8),e("GetHObject",{r:D},t8),e("GetHObjectByName",{a:[fe],r:D},n8),e("GetHObjectByNum",{a:[fe,k],r:D},r8),e("GetObjectClass",{a:[fe,D],r:fe},o8),e("GetLink",{a:[fe,D,D],r:D},i8),e("GetModelText",{a:[fe,D],r:k},s8),e("SetModelText",{a:[fe,D],r:k},Vk),e("SetModelText",{a:[fe,D,k],r:k},Vk),e("GetVarS",{a:[fe,fe],r:fe},a8),e("GetVarF",{a:[fe,fe],r:k},e0),e("GetVarH",{a:[fe,fe],r:D},e0),e("GetVarC",{a:[fe,fe],r:gn},e0),e("SetVar",{a:[fe,fe,k]},ny),e("SetVar",{a:[fe,fe,fe]},ny),e("SetVar",{a:[fe,fe,D]},ny),e("SetVar",{a:[fe,fe,gn]},ny),e("GetVarInfo",{a:[fe,k,Uo,Uo,Uo,Uo],r:k},$k),e("GetVarInfo",{a:[fe,k,Uo,Uo,Uo,Uo,Ye],r:k},$k),e("GetVarCount",{a:[fe],r:k},l8),e("SetObjectName",{a:[fe,D,fe],r:k},c8),e("GetNameByHandle",{a:[fe,D],r:fe},u8),e("SaveObjectState",{a:[fe,fe],r:k},d8),e("LoadObjectState",{a:[fe,fe],r:k},h8),e("SetVarsToDefault",{a:[fe],r:k},f8),e("Stop",{a:[k]},p8),e("Quit",{a:[k]},g8),e("CloseAll",{},m8)}const y8={name:"class",deps:["streams"],register:v8};function b8(e,t,n,r,o,i,s,a){let c;switch(t.toUpperCase()){case"EDIT":c="Edit";break;case"BUTTON":c="Button";break;case"COMBOBOX":c="ComboBox";break;case"LISTBOX":c="ListBox";break;default:return 0}const d=this.kernel.scenes.get(e);if(!d)return 0;const h=d.scene;let f=o,g=i;const m=d.matrix;if(m){const b=o*m[2]+i*m[5]+m[8];f=(o*m[0]+i*m[3]+m[6])/b,g=(o*m[1]+i*m[4]+m[7])/b}const y=h.input(c,{x:f,y:g,width:s,height:a,value:n,style:r});return h.set({order:h.order.concat(y)}),y.key}function zk(e,t,n,r){const o=this.kernel.scenes.get(e)?.scene.objects.get(t);if(o?.type!=="input")return"";const{value:i}=o;return typeof n>"u"?i:i.slice(n,n+r)}function w8(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="input"&&r.set({value:n})?1:0}function S8(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);return o?.type==="input"&&o.set({font:r.fonts.get(n)??null})?1:0}function C8(){return this.kernel._functionNotImplemented("EnableControl2d"),0}function x8(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return;const r=n.objects.get(t);r?.type==="input"&&r.focus()}function _8(){return this.kernel._functionNotImplemented("IsDlgButtonChecked"),0}function E8(){return this.kernel._functionNotImplemented("CheckDlgButton2d"),1}function T8(e){e("CreateControlObject2d",{a:[D,fe,fe,k,k,k,k,k,k],r:D},b8),e("GetControlText2d",{a:[D,D],r:fe},zk),e("GetControlText2d",{a:[D,D,k,k],r:fe},zk),e("SetControlText2d",{a:[D,D,fe],r:k},w8),e("SetControlFont2d",{a:[D,D,D],r:k},S8),e("EnableControl2d",{a:[D,D,k],r:k},C8),e("SetControlFocus2d",{a:[D,D]},x8),e("IsDlgButtonChecked2d",{a:[D,D],r:k},_8),e("CheckDlgButton2d",{a:[D,D,k],r:k},E8)}const M8={name:"controls",deps:["windows"],register:T8},ry=Gu;ry.hideVideoControls=!1;const Bp=["Arial","Verdana","Tahoma","Times New Roman","Georgia","Courier New","cursive"];class O8{constructor(t){if(this.pens=new Set,this.brushes=new Set,this.images=new Set,this.imagesOpaque=new Set,this.strings=new Set,this.fonts=new Set,this.texts=new Set,t)if(t.type==="group")for(const n of Fp(t))n.type!=="group"&&this.add(n);else this.add(t)}add(t){switch(t.type){case"line":t.pen&&this.pens.add(t.pen),t.brush&&(this.add(t.brush),this.brushes.add(t.brush));break;case"imageView":(t.opaque?this.imagesOpaque:this.images).add(t.image);break;case"textView":this.add(t.text),this.texts.add(t.text);break;case"input":t.font&&this.fonts.add(t.font);break;case"brush":t.image&&this.imagesOpaque.add(t.image);break;case"text":t.parts.forEach(n=>{this.strings.add(n.string),this.fonts.add(n.font)});break;case"scene":t.background&&(this.add(t.background),this.brushes.add(t.background));break}return this}}function*Fp(e,t){e.type==="group"&&(yield*e.descendants(t)),yield e}function*R8(e,t){for(const n of e)n.type==="group"&&(yield*n.descendants(t)),yield n}function I8(e){if(e.type!=="group")return{objects:[e.toJSON()],order:[e.key]};const t=Array.from(Fp(e,!0),n=>n.toJSON());return{objects:t,order:wi(e.scene.order,n=>t.some(r=>r.key===n.key)&&n.key)}}function oy(e,t){const n=[],r=new O8,o=new WeakSet;let i=null;const s=Symbol.iterator in e?R8(e,!0):Fp(e,!0);for(const a of s)i=a.scene,n.push(a.toJSON()),a.type!=="group"&&(r.add(a),o.add(a));return{pens:Array.from(r.pens,a=>a.toJSON()),brushes:Array.from(r.brushes,a=>a.toJSON()),images:Array.from(r.images,a=>a.toJSON()),imagesOpaque:Array.from(r.imagesOpaque,a=>a.toJSON()),strings:Array.from(r.strings,a=>a.toJSON()),fonts:Array.from(r.fonts,a=>a.toJSON()),texts:Array.from(r.texts,a=>a.toJSON()),objects:n,order:i&&!t?wi(i.order,a=>o.has(a)&&a.key):[]}}function t0(e){return Rp(e.values(),t=>!t.parent)}function kh(e,t,n){const{objects:r}=e.merge(t,n),o=t0(r);return o.length>1?e.group(o,{key:n==="unused"?-1:0}):o[0]}const P8={x:0,y:0,w:0,h:0};function iy(e){let t=1/0,n=1/0,r=-1/0,o=-1/0;for(const i of e)i.x<t&&(t=i.x),i.y<n&&(n=i.y),i.x+i.width>r&&(r=i.x+i.width),i.y+i.height>o&&(o=i.y+i.height);return t===1/0?P8:{x:t,y:n,w:r-t,h:o-n}}const Nr=ry;Nr.root=document.body,Nr.isMobile=!1,Nr.logMessage=!1;const k8={dialog:"pVED4Nqg"};class D8{constructor(){this.onClose=new pa;const t=this.domElement=document.createElement("dialog");t.className=k8.dialog,t.innerHTML=`
<form method="dialog">
  <p><input type="file"></p>

  <menu>
    <button value="ok" disabled>Подтвердить выбор</button>
    <button value="cancel">Отмена</button>
  </menu>
</form>
    `;const n=t.querySelector('input[type="file"]'),r=t.querySelector('button[value="ok"]');n.addEventListener("change",()=>{r.disabled=!n.files?.length}),t.addEventListener("close",()=>{const o=t.returnValue==="ok"&&n.files?.item(0);this.onClose.dispatch(o||null)})}open(){this.domElement.showModal()}}let A8=0;function L8(e,t,n){const{kernel:r}=this;if(r.fileDialogState.type==="closed"){Nr.debugFile&&this._warn(`FileLoadDialog:
System(WEB_DIALOG_OPEN) = 1
Для получения результата вызовите FileLoadDialog повторно в следующем цикле.`),this.kernel.fileDialogState={type:"open"},r.block();const o=new D8;return o.onClose.add(async i=>{let s=null;try{if(i)if(i.type.startsWith("image/")){const a=URL.createObjectURL(i),c=await LC(a),{naturalWidth:d,naturalHeight:h}=c;s={size:i.size,image:{width:d,height:h,src:a}}}else{const a=await i.arrayBuffer(),c=$v(new Uint8Array(a));s={size:i.size,base64:c}}}catch(a){console.warn(a.message)}o.domElement.remove(),r.fileDialogState={type:"fileSelected",result:i&&s&&{file:i,content:s}},r.unblock()}),r.windowSystem.windowFactory.root.ownerDocument.body.append(o.domElement),o.open(),""}if(r.fileDialogState.type==="fileSelected"){const{result:o}=r.fileDialogState;if(r.fileDialogState={type:"closed"},!o)return Nr.debugFile&&this._warn(`FileLoadDialog:
System(WEB_DIALOG_OPEN) = 0
Выбор файла отменен`),"";const i=r.fs.uploadsDir.resolve("file"+ ++A8);return i.create("file",o.content),Nr.debugFile&&(this._warn(`FileLoadDialog:
System(WEB_DIALOG_OPEN) = 0
Выбранный файл сохранен как '${i}':`),console.log(o)),i.toString()}throw Error("FileLoadDialog уже был вызван в текущем цикле")}function N8(e,t,n){return this.kernel.fs.downloadsDir.resolve(n||"data.txt").toString()}function B8(e,t,n){switch(n){case n&et.MB_OK:return alert(e),1;case n&et.MB_OKCANCEL:return confirm(e)?1:2;case n&et.MB_YESNO:return confirm(e)?6:7;default:return 0}}function F8(e,t,n){return prompt(e||t,n)||""}function j8(e,t){return this.kernel._functionNotImplemented("DialogBox"),1}function V8(e,t,n){throw Error("ChoseFolderDialog: Not implemented")}function $8(e){e("ChoseFolderDialog",{a:[fe,fe,k],r:fe},V8),e("DialogBox",{a:[fe,D],r:1},j8),e("FileLoadDialog",{a:[fe,fe,fe],r:fe},L8),e("FileSaveDialog",{a:[fe,fe,fe],r:fe},N8),e("MessageBox",{a:[fe,fe,k],r:k},B8),e("InputBox",{a:[fe,fe,fe],r:fe},F8)}const z8={name:"dialogs",deps:["windows"],register:$8,setup(e){e.fileDialogState={type:"closed"}}};function U8(e){return this.prj.dir.resolve(e).create("folder")?1:0}function H8(e){const t=this.prj.dir.resolve(e);return t.fileExist()||this.kernel.hasProject(t)?1:0}function G8(e){const t=this.kernel.classes.get(e);return t?t.file.path.resolve("..").toString()+"\\":""}function W8(){return this.prj.dir.toString()}function K8(){return"C:\\Windows"}function q8(e){const t=this.prj.dir.resolve(e).matchGlob();if(!t.length)return 0;const n=t.map(r=>{const o=[["NAME",{type:"STRING",value:r.name}],["SIZE",{type:"FLOAT",value:r.size}],["ATTR",{type:"FLOAT",value:0}],["YEAR",{type:"FLOAT",value:2007}],["MONTH",{type:"FLOAT",value:9}],["DAY",{type:"FLOAT",value:3}],["DAYOFWEEK",{type:"FLOAT",value:1}],["HOUR",{type:"FLOAT",value:4}],["MINUTE",{type:"FLOAT",value:20}],["SECOND",{type:"FLOAT",value:0}]];return{type:"STRUCT",realType:"FILE_ATTRIBUTE",value:new Map(o)}});return this.kernel.createArray(n).key}function Y8(e){return e.length===0||e[e.length-1]==="\\"?e:e+"\\"}function X8(e){e("CreateDir",{a:[fe],r:k},U8),e("FileExist",{a:[fe],r:k},H8),e("GetClassDirectory",{a:[fe],r:fe},G8),e("GetProjectDirectory",{r:fe},W8),e("GetWindowsDirectory",{r:fe},K8),e("GetFileList",{a:[fe,k],r:D},q8),e("AddSlash",{a:[fe],r:fe},Y8)}const Z8={name:"filesystem",deps:["arrays"],register:X8};function Q8(e){const t=this.kernel.scenes.get(e);return t?t.scene.x:0}function J8(e){const t=this.kernel.scenes.get(e);return t?t.scene.y:0}function e7(e,t,n){const r=this.kernel.scenes.get(e);return r?(r.setSceneOrg(t,n),1):0}function t7(e){return this.kernel.scenes.get(e)?.scale??0}function n7(e,t){const n=this.kernel.scenes.get(e);return n?(n.setScale(t),1):0}function r7(e,t,n,r,o,i,s){const a=this.kernel.scenes.get(e)?.scene.toBlob({x:r,y:o,w:i,h:s});if(!a)return 0;const c=t.match(/(?:.*[\\/])?(.+?)(\..*)?$/),d=c&&c.length>1?c[1]:"Screenshot";return a.then(h=>AC(h,d)),1}function o7(e){return this.kernel.scenes.get(e)?.scene.background?.key??0}function i7(e,t){const n=this.kernel.scenes.get(e)?.scene;return n?.set({background:n.brushes.get(t)??null})?1:0}function s7(){return 0}function a7(e){return this.kernel.scenes.get(e)?.scene.hiddenLayers??0}function l7(e,t){return this.kernel.scenes.get(e)?.scene.set({hiddenLayers:t})?1:0}function c7(){return 1}function u7(e,t,n,r,o){return this.kernel.scenes.get(e)?.scene.pen({color:r,rop:o,style:t,width:n}).key??0}function d7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.color??0}function h7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.rop??0}function f7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.style??0}function p7(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.width??0}function g7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({color:n})?1:0}function m7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({rop:n})?1:0}function v7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({style:n})?1:0}function y7(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({width:n})?1:0}function b7(e,t,n,r,o,i){const s=this.kernel.scenes.get(e)?.scene;return s?.brush({color:r,hatch:n,rop:i,style:t,image:s.imagesOpaque.get(o)}).key??0}function w7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.color??0}function S7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.rop??0}function C7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.style??0}function x7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.hatch??0}function _7(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.image?.key??0}function E7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({color:n})?1:0}function T7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({rop:n})?1:0}function M7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({style:n})?1:0}function O7(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({hatch:n})?1:0}function R7(e,t,n){const r=this.kernel.scenes.get(e)?.scene;return r?.brushes.get(t)?.set({image:r.imagesOpaque.get(n)??null})?1:0}function Uk({kernel:e},t,n,r,o){return e.scenes.get(t)?.scene.font({name:n,size:r,style:o}).key??0}function I7(e,t,n,r){return Uk(this,e,t,n,r)}function P7(e,t,n,r){return Uk(this,e,t,n*d9,r)}function k7(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.name??""}function D7(e,t){return(this.kernel.scenes.get(e)?.scene.fonts.get(t)?.size??0)*u9}function A7(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.style??0}function L7(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({name:n})?1:0}function N7(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({size:n})?1:0}function B7(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({style:n})?1:0}function F7(e,t){return this.kernel.scenes.get(e)?.scene.string(t).key??0}function j7(e,t){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.text??""}function V7(e,t,n){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.set({text:n})?1:0}function $7(e,t,n,r,o){const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const s=i.strings.get(n);if(!s)return 0;const a=i.fonts.get(t);return a?i.text([{string:s,font:a,fgcolor:r,bgcolor:o}]).key:0}function z7(e,t){return this.kernel.scenes.get(e)?.scene.texts.get(t)?.parts.length??0}function Dh({kernel:e},t,n,r){if(r<0)return null;const o=e.scenes.get(t)?.scene.texts.get(n)?.parts;return o&&r<o.length?o[r]:null}function Hk(e,t,n=0){return Dh(this,e,t,n)?.font.key??0}function Gk(e,t,n=0){return Dh(this,e,t,n)?.string.key??0}function Wk(e,t,n=0){return Dh(this,e,t,n)?.fgcolor??0}function Kk(e,t,n=0){return Dh(this,e,t,n)?.bgcolor??0}function qk(e,t,n,r,o,i,s){if(n<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t)?.parts;return!c||n>=c.length?0:(c[n].set({string:a.strings.get(o),font:a.fonts.get(r),fgcolor:i,bgcolor:s}),1)}function U7(e,t,n,r,o,i){return qk.call(this,e,t,0,n,r,o,i)}function H7(e,t,n,r){if(n<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.texts.get(t)?.parts;if(!i||n>=i.length)return 0;const s=o.fonts.get(r);return s?(i[n].set({font:s}),1):0}function G7(e,t,n,r){if(n<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.texts.get(t)?.parts;if(!i||n>=i.length)return 0;const s=o.strings.get(r);return s?(i[n].set({string:s}),1):0}function W7(e,t,n,r){return Dh(this,e,t,n)?.set({fgcolor:r})?1:0}function K7(e,t,n,r){return Dh(this,e,t,n)?.set({bgcolor:r})?1:0}function Yk(e,t,n,r,o,i,s){if(n<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t);if(!c)return 0;const d=a.fonts.get(r);if(!d)return 0;const h=a.strings.get(o);if(!h)return 0;const f=n<c.parts.length,g=c.createPart({font:d,string:h,fgcolor:i,bgcolor:s},f);if(f){const m=c.parts.slice();m.splice(n,0,g),c.set({parts:m})}return 1}function q7(e,t,n,r,o,i){return Yk.call(this,e,t,1/0,n,r,o,i)}function Y7(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.texts.get(t);if(!o||n>=o.parts.length)return 0;const i=o.parts.slice();return i.splice(n,1),o.set({parts:i},!0),1}function Xk({kernel:e},{prj:t},n,r,o){const i=e.scenes.get(n)?.scene;if(!i)return 0;const s=t.dir.resolve(r),a=s.file();return a?a.image?i.image(a.image,{opaque:o}).key:(Nr.debugFile&&console.warn(`create(Double)DIB2d: Файл ${s} существует, но формат не image.`),0):0}function Zk(e,t){return Xk(this,this,e,t,!0)}function Qk(e,t){return Xk(this,this,e,t)}function X7(e,t,n,r){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.getPixel(n,r)??0}function Z7(e,t,n,r,o){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.setPixel(n,r,o)?1:0}function Q7(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;switch(t){case et.PEN2D:o=r.pens;break;case et.BRUSH2D:o=r.brushes;break;case et.DOUBLEDIB2D:o=r.images;break;case et.DIB2D:o=r.imagesOpaque;break;case et.STRING2D:o=r.strings;break;case et.FONT2D:o=r.fonts;break;case et.TEXT2D:o=r.texts;break;case et.SPACE3D:throw Error("Не реализовано");default:return 0}return o.get(n)?.delete(!0)?1:0}function J7(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;switch(t){case et.PEN2D:o=r.pens;break;case et.BRUSH2D:o=r.brushes;break;case et.DOUBLEDIB2D:o=r.images;break;case et.DIB2D:o=r.imagesOpaque;break;case et.STRING2D:o=r.strings;break;case et.FONT2D:o=r.fonts;break;case et.TEXT2D:o=r.texts;break;case et.SPACE3D:throw Error("Не реализовано");default:return 0}let i=1/0;for(const s of o.keys())s>n&&s<i&&(i=s);return i===1/0?0:i}function eY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;switch(t){case et.PEN2D:o=r.pens;break;case et.BRUSH2D:o=r.brushes;break;case et.DOUBLEDIB2D:o=r.images;break;case et.DIB2D:o=r.imagesOpaque;break;case et.STRING2D:o=r.strings;break;case et.FONT2D:o=r.fonts;break;case et.TEXT2D:o=r.texts;break;case et.SPACE3D:throw Error("Не реализовано");default:return 0}return o.get(n)?.subs.size??0}function tY(e,t,n){return ga(e,t,n)}function nY(e,t,n,r){return ga(e,t,n,r===1?"transparent":r===2?"syscolor":"rgb")}function rY(e){return e&4294967295}function oY(e){return Ik(e)}function iY(e){return Pk(e)}function sY(e){return kk(e)}function aY(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=this.prj.dir.resolve(t).file()?.scene?.data;return s?i.paste(s,n,r,o)?.key??0:0}function lY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.delete(!0)?1:0}function cY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":return et.OTGROUP2D;case"line":return et.OTLINE_2D;case"imageView":return n.opaque?et.OTBITMAP_2D:et.OTDOUBLEBITMAP_2D;case"textView":return et.OTTEXT_2D;case"videoView":return 0;case"input":return 26}}function uY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.data?.name??""}function dY(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?(r.data.name=n,1):0}function hY(e,t,n){if(!n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let o;if(t){const i=r.objects.get(t);if(!i)return 0;if(i.data?.name===n)return i.key;if(i.type!=="group")return 0;o=i.descendants()}else o=r.objects.values();for(const i of o)if(i.data?.name===n)return i.key;return 0}function fY(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const o=n.invmatrix;if(!o)return r.x;const i=r.x,s=r.y,a=i*o[2]+s*o[5]+o[8];return(i*o[0]+s*o[3]+o[6])/a}function pY(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const o=n.invmatrix;if(!o)return r.y;const i=r.x,s=r.y,a=i*o[2]+s*o[5]+o[8];return(i*o[1]+s*o[4]+o[7])/a}function gY(e,t,n,r){const o=this.kernel.scenes.get(e);if(!o)return 0;const i=o.scene.objects.get(t);if(!i)return 0;let s=n,a=r;const c=o.matrix;if(c){const d=n*c[2]+r*c[5]+c[8];s=(n*c[0]+r*c[3]+c[6])/d,a=(n*c[1]+r*c[4]+c[7])/d}return i.set({x:s,y:a}),1}function mY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.width??0}function vY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.height??0}function yY(e,t,n,r){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.set({width:n,height:r})?1:0}function bY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.width;case"imageView":return n.image.width;case"textView":return n.text.width;case"videoView":return n.video.width}}function wY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.height;case"imageView":return n.image.height;case"textView":return n.text.height;case"videoView":return n.video.height}}function SY(e,t,n,r,o,i){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!s)return n[r]=0,o[i]=0,0;switch(s.type){case"group":case"line":case"input":return n[r]=s.width,o[i]=s.height,1;case"imageView":return n[r]=s.image.width,o[i]=s.image.height,1;case"textView":return n[r]=s.text.width,o[i]=s.text.height,1;case"videoView":return n[r]=s.video.width,o[i]=s.video.height,1}}function CY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n&&(n.type==="textView"||n.type==="imageView")?n.angle:0}function xY(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(!s)return 0;let a=n,c=r;const d=i.matrix;if(d){const h=n*d[2]+r*d[5]+d[8];a=(n*d[0]+r*d[3]+d[6])/h,c=(n*d[1]+r*d[4]+d[7])/h}return s.rotate(o,{x:a,y:c}),1}function n0({kernel:e},t,n,r){const o=e.scenes.get(t)?.scene.objects.get(n);if(!o)return 0;const i=r?o.attrib&-2:o.attrib|1;return o.set({attrib:i}),1}function _Y(e,t,n){return n0(this,e,t,!!n)}function EY(e,t){n0(this,e,t,!0)}function TY(e,t){n0(this,e,t,!1)}function MY(e,t,n){return this.kernel.scenes.get(e)?.pick(t,n,!0)?.key??0}function OY(){return this.kernel.windowSystem.lastPickedPrimaryKey}function RY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?(this.kernel.windowSystem.clipboard=oy(n),1):0}function IY(e,t,n,r){const o=this.kernel.windowSystem.clipboard;return o?this.kernel.scenes.get(e)?.paste(o,t,n,r)?.key??0:0}function PY(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!r)return 0;let o=r.attrib;switch(n){case 0:o&=-13;break;case 1:o&=~Rs,o|=Ap;break;case 2:o&=~Ap,o|=Rs;break;default:return 0}return r.set({attrib:o}),1}function kY(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.attrib??0}function DY(e,t,n,r){const o=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!o)return 0;let{attrib:i}=o;switch(r){case et.ATTRSET:i|=n;break;case et.ATTRRESET:i&=~n;break;case et.ATTRPUT:i=n;break;default:return 0}return o.set({attrib:i}),1}function AY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=1/0;for(const o of n.objects.keys())o>t&&o<r&&(r=o);return r===1/0?0:r}function LY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(!o)return 0;const i=r.objects.get(n);return i&&o.x+o.width>=i.x&&i.x+i.width>=o.x&&o.y+o.height>=i.y&&i.y+i.height>=o.y?1:0}function NY(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[0].key:0}function BY(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[t.length-1].key:0}function FY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order,i=o.indexOf(r);return i<1?0:o[i-1].key}function jY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order,i=o.indexOf(r);return i>-1&&i<o.length-1?o[i+1].key:0}function VY(e,t){const n=t-1;if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.order;return r&&n<r.length?r[n].key:0}function $Y(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order.indexOf(r);return i<0?0:i+1}function zY(e,t,n){const r=n-1;if(r<0)return 0;const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const i=o.objects.get(t);if(!i||i.type==="group")return 0;const s=o.order,a=[];for(let c=0;c<s.length;++c){const d=s[c];d!==i&&a.push(d),r===c&&a.push(i)}return r>=s.length&&a.push(i),o.set({order:a}),1}function UY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order.filter(i=>i!==r);return o.unshift(r),n.set({order:o}),1}function HY(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order.filter(i=>i!==r);return o.push(r),n.set({order:o}),1}function GY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(!o||o.type==="group")return 0;const i=r.objects.get(n);if(!i||i.type==="group")return 0;const s=r.order.slice(),a=s.indexOf(o);if(a<0)return 0;const c=s.indexOf(i);if(c<0)return 0;const d=s[a];return s[a]=s[c],s[c]=d,r.set({order:s}),1}function Jk({kernel:e},t,n,r,o){const i=e.scenes.get(t);if(!i)return 0;const{matrix:s,scene:a}=i;if(s)for(let d=0;d<o.length;d+=2){const h=o[d+0],f=o[d+1],g=h*s[2]+f*s[5]+s[8];o[d+0]=(h*s[0]+f*s[3]+s[6])/g,o[d+1]=(h*s[1]+f*s[4]+s[7])/g}const c=a.line(o,{pen:a.pens.get(n),brush:a.brushes.get(r)});return a.set({order:a.order.concat(c)}),c.key}function WY(e,t,n,...r){return Jk(this,e,t,n,r)}function KY(e,t,n,r,o){return Jk(this,e,t,n,[r,o])}function qY(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(s?.type!=="line")return 0;let a=r,c=o;const d=i.matrix;if(d){const h=r*d[2]+o*d[5]+d[8];a=(r*d[0]+o*d[3]+d[6])/h,c=(r*d[1]+o*d[4]+d[7])/h}return s.addPoint({x:a,y:c},n)?1:0}function YY(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene.objects.get(t);if(s?.type!=="line")return 0;let a=r,c=o;const d=i.matrix;if(d){const h=r*d[2]+o*d[5]+d[8];a=(r*d[0]+o*d[3]+d[6])/h,c=(r*d[1]+o*d[4]+d[7])/h}return s.setPoint(n,{x:a,y:c})?1:0}function XY(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="line"&&r.removePoint(n)?1:0}function ZY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.pen?.key||0}function QY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.brush?.key||0}function JY(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"?n.length:0}function eX(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const o=r.scene.objects.get(t),i=o?.type==="line"&&o.point(n);if(!i)return 0;const{x:s,y:a}=i,c=r.invmatrix;if(!c)return s;const d=s*c[2]+a*c[5]+c[8];return(s*c[0]+a*c[3]+c[6])/d}function tX(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const o=r.scene.objects.get(t),i=o?.type==="line"&&o.point(n);if(!i)return 0;const{x:s,y:a}=i,c=r.invmatrix;if(!c)return a;const d=s*c[2]+a*c[5]+c[8];return(s*c[1]+a*c[4]+c[7])/d}function nX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);return o?.type==="line"&&o.set({brush:r.brushes.get(n)??null})?1:0}function rX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);return o?.type==="line"&&o.set({pen:r.pens.get(n)??null})?1:0}function oX(e,t,n,r,o,i,s,a){const c=this.kernel.scenes.get(e)?.scene.objects.get(t);if(c?.type!=="line")return 0;const d={angle:n,length:r,fill:!!o},h={angle:i,length:s,fill:!!a};return c.set({start:d,end:h}),1}function iX(e,...t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=!0;const o=t.map(i=>{const s=n.objects.get(i);return(!s||s.parent)&&(r=!1),s});return r?n.group(o).key:0}function sX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type!=="group"?0:(n.set({children:[]}).delete(),1)}function aX(e,t,n){if(t===n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(o?.type!=="group")return 0;const i=r.objects.get(n);if(!i||i.parent)return 0;if(i.type==="group"){let s=o;for(;s=s.parent;)if(s===i)return 0}return o.set({children:o.children.concat(i)}),1}function lX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(o?.type!=="group")return 0;const i=r.objects.get(n);return i?.parent!==o?0:(o.set({children:o.children.filter(s=>s!==i)}),1)}function cX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="group"?n.children.length:0}function uX(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(r?.type!=="group")return 0;const o=r.children;return n<o.length?o[n].key:0}function dX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.parent?.key??0}function hX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.objects.get(t);if(o?.type!=="group")return 0;for(let i=0;i<o.children.length;++i){const s=o.children[i];if(s.key===n)return i+1;if(s.type==="group"){for(const a of s.descendants())if(a.key===n)return i+1}}return 0}function eD({kernel:e},t,n,r,o,i){const s=e.scenes.get(t);if(!s)return 0;const a=s.scene,c=(i?a.imagesOpaque:a.images).get(n);if(!c)return 0;let d=r,h=o;const f=s.matrix;if(f){const m=r*f[2]+o*f[5]+f[8];d=(r*f[0]+o*f[3]+f[6])/m,h=(r*f[1]+o*f[4]+f[7])/m}const g=a.imageView(c,{x:d,y:h,opaque:i});return a.set({order:a.order.concat(g)}),g.key}function fX(e,t,n,r){return eD(this,e,t,n,r,!0)}function pX(e,t,n,r){return eD(this,e,t,n,r)}function gX(e,t,n,r,o,i,s,a,c,d){const h=this.kernel.scenes.get(e)?.scene.objects.get(t);if(h?.type!=="imageView")return n[r]=0,o[i]=0,s[a]=0,c[d]=0,0;const f=h.area;return n[r]=f?.x??0,o[i]=f?.y??0,s[a]=f?.w??h.image.width,c[d]=f?.h??h.image.height,1}function mX(e,t,n,r,o,i){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);return s?.type==="imageView"&&s.set({area:{x:n,y:r,w:o,h:i}})?1:0}function vX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&n.opaque&&n.image.key||0}function yX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&!n.opaque&&n.image.key||0}function bX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.imagesOpaque.get(n);if(!o)return 0;const i=r.objects.get(t);return i?.type==="imageView"&&i.opaque&&i.set({image:o})?1:0}function wX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const o=r.images.get(n);if(!o)return 0;const i=r.objects.get(t);return i?.type==="imageView"&&!i.opaque&&i.set({image:o})?1:0}function SX(e,t,n,r,o){const i=this.kernel.scenes.get(e);if(!i)return 0;const s=i.scene,a=s.texts.get(t);if(!a)return 0;let c=n,d=r;const h=i.matrix;if(h){const g=n*h[2]+r*h[5]+h[8];c=(n*h[0]+r*h[3]+h[6])/g,d=(n*h[1]+r*h[4]+h[7])/g}const f=s.textView(a,{x:c,y:d,angle:o});return s.set({order:s.order.concat(f)}),f.key}function CX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="textView"&&n.text.key||0}function xX(e){e("GetSpaceOrg2dx",{a:[D],r:k},Q8),e("GetSpaceOrg2dy",{a:[D],r:k},J8),e("SetSpaceOrg2d",{a:[D,k,k],r:k},e7),e("GetScaleSpace2d",{a:[D],r:k},t7),e("SetScaleSpace2d",{a:[D,k],r:k},n7),e("SaveRectArea2d",{a:[D,fe,k,k,k,k,k],r:k},r7),e("GetBkBrush2d",{a:[D],r:D},o7),e("SetBkBrush2d",{a:[D,D],r:k},i7),e("LockSpace2d",{a:[D,k],r:k},s7),e("GetSpaceLayers2d",{a:[D],r:k},a7),e("SetSpaceLayers2d",{a:[D,k],r:k},l7),e("SetSpaceRenderEngine2d",{a:[D,k],r:k},c7),e("CreatePen2d",{a:[D,k,k,gn,k],r:D},u7),e("GetPenColor2d",{a:[D,D],r:gn},d7),e("GetPenRop2d",{a:[D,D],r:k},h7),e("GetPenStyle2d",{a:[D,D],r:k},f7),e("GetPenWidth2d",{a:[D,D],r:k},p7),e("SetPenColor2d",{a:[D,D,gn],r:k},g7),e("SetPenRop2d",{a:[D,D,k],r:k},m7),e("SetPenStyle2d",{a:[D,D,k],r:k},v7),e("SetPenWidth2d",{a:[D,D,k],r:k},y7),e("CreateBrush2d",{a:[D,k,k,gn,D,k],r:D},b7),e("GetBrushColor2d",{a:[D,D],r:gn},w7),e("GetBrushRop2d",{a:[D,D],r:k},S7),e("GetBrushStyle2d",{a:[D,D],r:k},C7),e("GetBrushHatch2d",{a:[D,D],r:k},x7),e("GetBrushDib2d",{a:[D,D],r:D},_7),e("SetBrushColor2d",{a:[D,D,gn],r:k},E7),e("SetBrushRop2d",{a:[D,D,k],r:k},T7),e("SetBrushStyle2d",{a:[D,D,k],r:k},M7),e("SetBrushHatch2d",{a:[D,D,k],r:k},O7),e("SetBrushDib2d",{a:[D,D,D],r:k},R7),e("CreateFont2d",{a:[D,fe,k,k],r:D},I7),e("CreateFont2dpt",{a:[D,fe,k,k],r:D},P7),e("GetFontName2d",{a:[D,D],r:fe},k7),e("GetFontSize2d",{a:[D,D],r:k},D7),e("GetFontStyle2d",{a:[D,D],r:k},A7),e("SetFontName2d",{a:[D,D,fe],r:k},L7),e("SetFontSize2d",{a:[D,D,k],r:k},N7),e("SetFontStyle2d",{a:[D,D,k],r:k},B7),e("CreateString2d",{a:[D,fe],r:D},F7),e("GetString2d",{a:[D,D],r:fe},j7),e("SetString2d",{a:[D,D,fe],r:k},V7),e("CreateText2d",{a:[D,D,D,gn,gn],r:D},$7),e("GetTextCount2d",{a:[D,D],r:k},z7),e("GetTextFont2d",{a:[D,D],r:D},Hk),e("GetTextFont2d",{a:[D,D,k],r:D},Hk),e("GetTextString2d",{a:[D,D],r:D},Gk),e("GetTextString2d",{a:[D,D,k],r:D},Gk),e("GetTextFgColor2d",{a:[D,D],r:gn},Wk),e("GetTextFgColor2d",{a:[D,D,k],r:gn},Wk),e("GetTextBkColor2d",{a:[D,D],r:gn},Kk),e("GetTextBkColor2d",{a:[D,D,k],r:gn},Kk),e("SetText2d",{a:[D,D,D,D,gn,gn],r:k},U7),e("SetText2d",{a:[D,D,k,D,D,gn,gn],r:k},qk),e("SetTextFont2d",{a:[D,D,k,D],r:k},H7),e("SetTextString2d",{a:[D,D,k,D],r:k},G7),e("SetTextFgColor2d",{a:[D,D,k,gn],r:k},W7),e("SetTextBkColor2d",{a:[D,D,k,gn],r:k},K7),e("AddText2d",{a:[D,D,D,D,gn,gn],r:k},q7),e("AddText2d",{a:[D,D,k,D,D,gn,gn],r:k},Yk),e("RemoveText2d",{a:[D,D,k],r:k},Y7),e("CreateDib2d",{a:[D,fe],r:D},Zk),e("CreateRDib2d",{a:[D,fe],r:D},Zk),e("CreateDoubleDib2d",{a:[D,fe],r:D},Qk),e("CreateRDoubleDIB2d",{a:[D,fe],r:D},Qk),e("GetDibPixel2d",{a:[D,D,k,k],r:gn},X7),e("SetDibPixel2d",{a:[D,D,k,k,gn],r:k},Z7),e("DeleteTool2d",{a:[D,k,D],r:k},Q7),e("GetNextTool2d",{a:[D,k,D],r:D},J7),e("GetToolRef2d",{a:[D,k,D],r:k},eY),e("Rgb",{a:[k,k,k],r:gn},tY),e("RgbEx",{a:[k,k,k,k],r:gn},nY),e("Rgbf",{a:[k],r:gn},rY),e("GetRValue",{a:[gn],r:k},oY),e("GetGValue",{a:[gn],r:k},iY),e("GetBValue",{a:[gn],r:k},sY),e("CreateObjectFromFile2d",{a:[D,fe,k,k,k],r:D},aY),e("DeleteObject2d",{a:[D,D],r:k},lY),e("GetObjectType2d",{a:[D,D],r:k},cY),e("GetObjectName2d",{a:[D,D],r:fe},uY),e("SetObjectName2d",{a:[D,D,fe],r:k},dY),e("GetObject2dByName",{a:[D,D,fe],r:D},hY),e("GetObjectOrg2dx",{a:[D,D],r:k},fY),e("GetObjectOrg2dy",{a:[D,D],r:k},pY),e("SetObjectOrg2d",{a:[D,D,k,k],r:k},gY),e("GetObjectWidth2d",{a:[D,D],r:k},mY),e("GetObjectHeight2d",{a:[D,D],r:k},vY),e("SetObjectSize2d",{a:[D,D,k,k],r:k},yY),e("GetActualWidth2d",{a:[D,D],r:k},bY),e("GetActualHeight2d",{a:[D,D],r:k},wY),e("GetActualSize2d",{a:[D,D,Ye,Ye],r:k},SY),e("GetObjectAngle2d",{a:[D,D],r:k},CY),e("RotateObject2d",{a:[D,D,k,k,k],r:k},xY),e("SetShowObject2d",{a:[D,D,k],r:k},_Y),e("ShowObject2d",{a:[D,D]},EY),e("HideObject2d",{a:[D,D]},TY),e("GetObjectFromPoint2d",{a:[D,k,k],r:D},MY),e("GetLastPrimary2d",{r:D},OY),e("CopyToClipboard2d",{a:[D,D],r:k},RY),e("PasteFromClipboard2d",{a:[D,k,k,k],r:D},IY),e("LockObject2d",{a:[D,D,k],r:k},PY),e("GetObjectAttribute2d",{a:[D,D],r:k},kY),e("SetObjectAttribute2d",{a:[D,D,k,k],r:k},DY),e("GetNextObject2d",{a:[D,D],r:D},AY),e("IsObjectsIntersect2d",{a:[D,D,D,k],r:k},LY),e("GetBottomObject2d",{a:[D],r:D},NY),e("GetTopObject2d",{a:[D],r:D},BY),e("GetLowerObject2d",{a:[D,D],r:D},FY),e("GetUpperObject2d",{a:[D,D],r:D},jY),e("GetObjectFromZOrder2d",{a:[D,k],r:D},VY),e("GetZOrder2d",{a:[D,D],r:k},$Y),e("SetZOrder2d",{a:[D,D,k],r:k},zY),e("ObjectToBottom2d",{a:[D,D],r:k},UY),e("ObjectToTop2d",{a:[D,D],r:k},HY),e("SwapObject2d",{a:[D,D,D],r:k},GY),e("CreatePolyLine2d",{a:[D,D,D],rest:[k,k],r:D},WY),e("CreateLine2d",{a:[D,D,D,k,k],r:D},KY),e("AddPoint2d",{a:[D,D,k,k,k],r:k},qY),e("SetVectorPoint2d",{a:[D,D,k,k,k],r:k},YY),e("DelPoint2d",{a:[D,D,k],r:k},XY),e("GetPenObject2d",{a:[D,D],r:D},ZY),e("GetBrushObject2d",{a:[D,D],r:D},QY),e("GetVectorNumPoints2d",{a:[D,D],r:k},JY),e("GetVectorPoint2dx",{a:[D,D,k],r:k},eX),e("GetVectorPoint2dy",{a:[D,D,k],r:k},tX),e("SetBrushObject2d",{a:[D,D,D],r:D},nX),e("SetPenObject2d",{a:[D,D,D],r:D},rX),e("SetLineArrows2d",{a:[D,D,k,k,k,k,k,k],r:k},oX),e("CreateGroup2d",{a:[D],rest:[D],r:D},iX),e("DeleteGroup2d",{a:[D,D],r:k},sX),e("AddGroupItem2d",{a:[D,D,D],r:k},aX),e("DelGroupItem2d",{a:[D,D,D],r:k},lX),e("GetGroupItemsNum2d",{a:[D,D],r:k},cX),e("GetGroupItem2d",{a:[D,D,k],r:D},uX),e("GetObjectParent2d",{a:[D,D],r:D},dX),e("IsGroupContainObject2d",{a:[D,D,D],r:k},hX),e("CreateBitmap2d",{a:[D,D,k,k],r:D},fX),e("CreateDoubleBitmap2d",{a:[D,D,k,k],r:D},pX),e("GetBitmapSrcRect2d",{a:[D,D,Ye,Ye,Ye,Ye],r:k},gX),e("SetBitmapSrcRect2d",{a:[D,D,k,k,k,k],r:k},mX),e("GetDibObject2d",{a:[D,D],r:D},vX),e("GetDDibObject2d",{a:[D,D],r:D},yX),e("SetDibObject2d",{a:[D,D,D],r:k},bX),e("SetDDibObject2d",{a:[D,D,D],r:k},wX),e("CreateRasterText2d",{a:[D,D,k,k,k],r:D},SX),e("GetTextObject2d",{a:[D,D],r:D},CX)}const _X={name:"graphics2d",deps:["windows","streams"],register:xX};var tD=1e-6,ts=typeof Float32Array<"u"?Float32Array:Array;function sy(){var e=new ts(9);return ts!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function nD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ei(){var e=new ts(16);return ts!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function EX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function rD(e,t){if(e===t){var n=t[1],r=t[2],o=t[3],i=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=o,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function oD(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],c=t[6],d=t[7],h=t[8],f=t[9],g=t[10],m=t[11],y=t[12],b=t[13],v=t[14],S=t[15],E=n*a-r*s,T=n*c-o*s,R=n*d-i*s,M=r*c-o*a,I=r*d-i*a,N=o*d-i*c,P=h*b-f*y,L=h*v-g*y,A=h*S-m*y,$=f*v-g*b,B=f*S-m*b,U=g*S-m*v,K=E*U-T*B+R*$+M*A-I*L+N*P;return K?(K=1/K,e[0]=(a*U-c*B+d*$)*K,e[1]=(o*B-r*U-i*$)*K,e[2]=(b*N-v*I+S*M)*K,e[3]=(g*I-f*N-m*M)*K,e[4]=(c*A-s*U-d*L)*K,e[5]=(n*U-o*A+i*L)*K,e[6]=(v*R-y*N-S*T)*K,e[7]=(h*N-g*R+m*T)*K,e[8]=(s*B-a*A+d*P)*K,e[9]=(r*A-n*B-i*P)*K,e[10]=(y*I-b*R+S*E)*K,e[11]=(f*R-h*I-m*E)*K,e[12]=(a*L-s*$-c*P)*K,e[13]=(n*$-r*L+o*P)*K,e[14]=(b*T-y*M-v*E)*K,e[15]=(h*M-f*T+g*E)*K,e):null}function TX(e,t,n){var r=t[0],o=t[1],i=t[2],s=t[3],a=t[4],c=t[5],d=t[6],h=t[7],f=t[8],g=t[9],m=t[10],y=t[11],b=t[12],v=t[13],S=t[14],E=t[15],T=n[0],R=n[1],M=n[2],I=n[3];return e[0]=T*r+R*a+M*f+I*b,e[1]=T*o+R*c+M*g+I*v,e[2]=T*i+R*d+M*m+I*S,e[3]=T*s+R*h+M*y+I*E,T=n[4],R=n[5],M=n[6],I=n[7],e[4]=T*r+R*a+M*f+I*b,e[5]=T*o+R*c+M*g+I*v,e[6]=T*i+R*d+M*m+I*S,e[7]=T*s+R*h+M*y+I*E,T=n[8],R=n[9],M=n[10],I=n[11],e[8]=T*r+R*a+M*f+I*b,e[9]=T*o+R*c+M*g+I*v,e[10]=T*i+R*d+M*m+I*S,e[11]=T*s+R*h+M*y+I*E,T=n[12],R=n[13],M=n[14],I=n[15],e[12]=T*r+R*a+M*f+I*b,e[13]=T*o+R*c+M*g+I*v,e[14]=T*i+R*d+M*m+I*S,e[15]=T*s+R*h+M*y+I*E,e}function MX(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function OX(e,t,n){var r=n[0],o=n[1],i=n[2],s=Math.sqrt(r*r+o*o+i*i),a,c,d;return s<tD?null:(s=1/s,r*=s,o*=s,i*=s,a=Math.sin(t),c=Math.cos(t),d=1-c,e[0]=r*r*d+c,e[1]=o*r*d+i*a,e[2]=i*r*d-o*a,e[3]=0,e[4]=r*o*d-i*a,e[5]=o*o*d+c,e[6]=i*o*d+r*a,e[7]=0,e[8]=r*i*d+o*a,e[9]=o*i*d-r*a,e[10]=i*i*d+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function r0(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function iD(e,t){var n=t[0],r=t[1],o=t[2],i=t[4],s=t[5],a=t[6],c=t[8],d=t[9],h=t[10];return e[0]=Math.sqrt(n*n+r*r+o*o),e[1]=Math.sqrt(i*i+s*s+a*a),e[2]=Math.sqrt(c*c+d*d+h*h),e}function RX(e,t){var n=new ts(3);iD(n,t);var r=1/n[0],o=1/n[1],i=1/n[2],s=t[0]*r,a=t[1]*o,c=t[2]*i,d=t[4]*r,h=t[5]*o,f=t[6]*i,g=t[8]*r,m=t[9]*o,y=t[10]*i,b=s+h+y,v=0;return b>0?(v=Math.sqrt(b+1)*2,e[3]=.25*v,e[0]=(f-m)/v,e[1]=(g-c)/v,e[2]=(a-d)/v):s>h&&s>y?(v=Math.sqrt(1+s-h-y)*2,e[3]=(f-m)/v,e[0]=.25*v,e[1]=(a+d)/v,e[2]=(g+c)/v):h>y?(v=Math.sqrt(1+h-s-y)*2,e[3]=(g-c)/v,e[0]=(a+d)/v,e[1]=.25*v,e[2]=(f+m)/v):(v=Math.sqrt(1+y-s-h)*2,e[3]=(a-d)/v,e[0]=(g+c)/v,e[1]=(f+m)/v,e[2]=.25*v),e}function sD(e,t,n,r){var o=t[0],i=t[1],s=t[2],a=t[3],c=o+o,d=i+i,h=s+s,f=o*c,g=o*d,m=o*h,y=i*d,b=i*h,v=s*h,S=a*c,E=a*d,T=a*h,R=r[0],M=r[1],I=r[2];return e[0]=(1-(y+v))*R,e[1]=(g+T)*R,e[2]=(m-E)*R,e[3]=0,e[4]=(g-T)*M,e[5]=(1-(f+v))*M,e[6]=(b+S)*M,e[7]=0,e[8]=(m+E)*I,e[9]=(b-S)*I,e[10]=(1-(f+y))*I,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function IX(e,t,n,r,o){var i=1/Math.tan(t/2);if(e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,o!=null&&o!==1/0){var s=1/(r-o);e[10]=(o+r)*s,e[14]=2*o*r*s}else e[10]=-1,e[14]=-2*r;return e}var PX=IX;function kX(e,t,n,r){var o=t[0],i=t[1],s=t[2],a=r[0],c=r[1],d=r[2],h=o-n[0],f=i-n[1],g=s-n[2],m=h*h+f*f+g*g;m>0&&(m=1/Math.sqrt(m),h*=m,f*=m,g*=m);var y=c*g-d*f,b=d*h-a*g,v=a*f-c*h;return m=y*y+b*b+v*v,m>0&&(m=1/Math.sqrt(m),y*=m,b*=m,v*=m),e[0]=y,e[1]=b,e[2]=v,e[3]=0,e[4]=f*v-g*b,e[5]=g*y-h*v,e[6]=h*b-f*y,e[7]=0,e[8]=h,e[9]=f,e[10]=g,e[11]=0,e[12]=o,e[13]=i,e[14]=s,e[15]=1,e}var Fl=TX;function cr(){var e=new ts(3);return ts!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function DX(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function fi(e,t,n){var r=new ts(3);return r[0]=e,r[1]=t,r[2]=n,r}function aD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ha(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function AX(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function LX(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function NX(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function BX(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function FX(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}function jX(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}function VX(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function ay(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Rc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ah(e,t,n){var r=t[0],o=t[1],i=t[2],s=n[0],a=n[1],c=n[2];return e[0]=o*c-i*a,e[1]=i*s-r*c,e[2]=r*a-o*s,e}function Ic(e,t,n){var r=t[0],o=t[1],i=t[2],s=n[3]*r+n[7]*o+n[11]*i+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/s,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/s,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/s,e}function $X(e,t){var n=e[0],r=e[1],o=e[2],i=t[0],s=t[1],a=t[2],c=Math.sqrt((n*n+r*r+o*o)*(i*i+s*s+a*a)),d=c&&Rc(e,t)/c;return Math.acos(Math.min(Math.max(d,-1),1))}var jp=LX,zX=NX,UX=FX,o0=jX,HX=DX,lD=VX;(function(){var e=cr();return function(t,n,r,o,i,s){var a,c;for(n||(n=3),r||(r=0),o?c=Math.min(o*n+r,t.length):c=t.length,a=r;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],i(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}})();function GX(){var e=new ts(4);return ts!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Vp(e,t,n,r){var o=new ts(4);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o}function i0(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}function WX(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],s=n*n+r*r+o*o+i*i;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=o*s,e[3]=i*s,e}(function(){var e=GX();return function(t,n,r,o,i,s){var a,c;for(n||(n=4),r||(r=0),o?c=Math.min(o*n+r,t.length):c=t.length,a=r;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],i(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}})();function $p(){var e=new ts(4);return ts!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function KX(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function qX(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function YX(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c+s*a,e[1]=o*c+i*a,e[2]=i*c-o*a,e[3]=s*c-r*a,e}function XX(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c-i*a,e[1]=o*c+s*a,e[2]=i*c+r*a,e[3]=s*c-o*a,e}function ZX(e,t,n){n*=.5;var r=t[0],o=t[1],i=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*a,e[1]=o*c-r*a,e[2]=i*c+s*a,e[3]=s*c-i*a,e}function s0(e,t,n,r){var o=t[0],i=t[1],s=t[2],a=t[3],c=n[0],d=n[1],h=n[2],f=n[3],g,m,y,b,v;return m=o*c+i*d+s*h+a*f,m<0&&(m=-m,c=-c,d=-d,h=-h,f=-f),1-m>tD?(g=Math.acos(m),y=Math.sin(g),b=Math.sin((1-r)*g)/y,v=Math.sin(r*g)/y):(b=1-r,v=r),e[0]=b*o+v*c,e[1]=b*i+v*d,e[2]=b*s+v*h,e[3]=b*a+v*f,e}function QX(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[o*3+o]&&(o=2);var i=(o+1)%3,s=(o+2)%3;r=Math.sqrt(t[o*3+o]-t[i*3+i]-t[s*3+s]+1),e[o]=.5*r,r=.5/r,e[3]=(t[i*3+s]-t[s*3+i])*r,e[i]=(t[i*3+o]+t[o*3+i])*r,e[s]=(t[s*3+o]+t[o*3+s])*r}return e}var JX=i0,a0=WX;(function(){var e=cr(),t=fi(1,0,0),n=fi(0,1,0);return function(r,o,i){var s=Rc(o,i);return s<-.999999?(Ah(e,t,o),HX(e)<1e-6&&Ah(e,n,o),ay(e,e),qX(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Ah(e,o,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,a0(r,r))}})(),(function(){var e=$p(),t=$p();return function(n,r,o,i,s,a){return s0(e,r,s,a),s0(t,o,i,a),s0(n,e,t,2*a*(1-a)),n}})(),(function(){var e=sy();return function(t,n,r,o){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=o[0],e[4]=o[1],e[7]=o[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],a0(t,QX(t,e))}})();function eZ(e,t,n){const r=[],o=Math.ceil(n/8);e.font=t;let i=0;const s=o,a=o,c=o,d=o;let h=0;for(let m=0;m<16;++m){let y=0;for(let b=0;b<16;++b){const v=m*16+b,S=fa[v],{width:E}=e.measureText(S),T=n;r.push({x:y+c,y:h+s,w:E,h:T,asc:s,desc:a,left:c,right:d}),y+=c+Math.ceil(E)+d}h+=s+n+a,i=Math.max(i,y)}return{font:t,fontSize:n,glyphRects:r,width:i,height:h}}function tZ(e,{font:t,glyphRects:n,height:r,width:o}){e.canvas.width=o,e.canvas.height=r,e.font=t,e.fillStyle="white",e.textAlign="left",e.textBaseline="top",e.fontKerning="none",n.forEach(({x:i,y:s},a)=>{e.fillText(fa[a],i,s)})}const nZ=2,rZ=0,oZ=1,iZ=2,sZ=3,aZ=4,lZ=5,cZ=6,uZ=7,dZ=8,hZ=9,fZ=0,zp=1,pZ=2,gZ=1,mZ=2,vZ=3,cD=4,yZ=5,bZ=6,wZ=0,SZ=1,CZ=0,uD=1,ly=0,Up=1,cy=2,xZ=0,_Z=1,EZ=2,uy=0,dy=1,Hp=2;class l0{constructor(t){this.objectsGenerator=t,this.list=new WeakMap,this.cur=null}get(t){const{cur:n}=this;if(n&&n.ctx===t)return n;const r=this.list.get(t);if(r)return this.cur=r;const o=this.objectsGenerator(t);return this.list.set(t,this.cur=o),o}}function Gp(e,t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){console.log(n.split(`
`).map((s,a)=>`${a+1}: ${s}`).join(`
`));const i=e.getShaderInfoLog(r);throw Error(`Ошибка компиляции шейдера (${t===e.VERTEX_SHADER?"vertex":"fragment"}): ${i}`)}return r}function c0(e,t,n){const r=e.getUniformLocation(t,n);if(!r)throw Error(`Программа не содержит Uniform '${n}'`);return r}class TZ{constructor(){this.entries=new Map}add(t,n,r){let o=this.entries.get(t);o||this.entries.set(t,o=new Map);let i=o.get(n);i?i.push(r):o.set(n,i=[r])}filterInline(t){this.entries.forEach((n,r)=>{n.forEach((o,i)=>{const s=o.filter(t);s.length?n.set(i,s):n.delete(i)}),n.size||this.entries.delete(r)})}}var MZ=`precision mediump float;
#ifdef UV
uniform sampler2D uTexture;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){
#ifndef GOURAUD
vec4 vLightColor4=vec4(1,1,1,1);
#endif
#ifdef UV
gl_FragColor=texture2D(uTexture,vTexCoord)*vLightColor4;
#else
gl_FragColor=vLightColor4;
#endif
}`,OZ=`uniform mat4 uMVP4;
#ifdef GOURAUD
uniform vec3 uWorldLightPos;uniform mat4 uWorldMat4;uniform mat3 uWorldNormalMat;uniform vec3 uAmbientColor;uniform vec4 uTechDiffuseColor4;
#endif
attribute vec4 aPos4;
#ifdef GOURAUD
attribute vec3 aNormal;
#endif
#ifdef UV
attribute vec2 aUv;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){gl_Position=uMVP4*aPos4;
#ifdef GOURAUD
vec3 lightDir=normalize(uWorldLightPos-(uWorldMat4*aPos4).xyz);vec3 worldNormal=normalize(uWorldNormalMat*aNormal);vec3 uLightDiffuse=vec3(1,1,1);float uLightPower=1.;vec3 diffuse=uLightDiffuse*uLightPower*max(dot(worldNormal,lightDir),.0);vec3 GI=uAmbientColor+(uTechDiffuseColor4.rgb*diffuse);vLightColor4=vec4(GI,uTechDiffuseColor4.a);
#endif
#ifdef UV
vTexCoord=aUv;
#endif
}`;let hy=-1;const Lh=[{usesUV:!1,shadingMode:-1,index:++hy},{usesUV:!1,shadingMode:zp,index:++hy},{usesUV:!0,shadingMode:-1,index:++hy},{usesUV:!0,shadingMode:zp,index:++hy}],dD={usesUV:!0,shadingMode:-1,index:-1};class hD{constructor(t,n,r,o){this.ctx=t,this.shaderProgram=n,this.hasNormalsSupport=r,this.hasUVSupport=o,this._activeTech=null,this._activeVAO=null}use(){const{ctx:t}=this;t._activeProgram!==this&&(t._setActiveProgram(this),t.gl.useProgram(this.shaderProgram),this._activeTech=null,this._activeVAO=null,++t.stats.switchesProgram,this.init())}_setActiveTech(t){this._activeTech=t}_setActiveVAO(t){this._activeVAO=t}}const fD=Lh.map(({usesUV:e,shadingMode:t})=>{const n=[];return e&&n.push("UV"),n.push(t===zp?"GOURAUD":t===pZ?"PHONG":t===fZ?"FLAT":"NO_SHADING"),n.map(r=>`#define ${r}
`).join("")}),RZ=fD.map(e=>e+OZ),IZ=fD.map(e=>e+MZ),PZ=cr();class pD extends hD{constructor(t,n,r,o){const{gl:i}=t,s=i.createProgram();if(i.attachShader(s,r),i.attachShader(s,o),i.bindAttribLocation(s,uy,"aPos4"),i.bindAttribLocation(s,dy,"aNormal"),i.bindAttribLocation(s,Hp,"aUv"),i.linkProgram(s),!i.getProgramParameter(s,i.LINK_STATUS)){const d=i.getProgramInfoLog(s);throw Error(`Ошибка Link Program: ${d}`)}const a=n.shadingMode>-1;super(t,s,a,n.usesUV),this.caps=n,this.uTechDiffuseColor4=null,this.uAmbientColor=null,this.uWorldLightPos=null,this.uWorldMat4=null,this.uWorldNormalMat=null;const c=c0.bind(null,i,s);this.uVMP4=c("uMVP4"),a&&(this.uTechDiffuseColor4=c("uTechDiffuseColor4"),this.uWorldLightPos=c("uWorldLightPos"),this.uWorldMat4=c("uWorldMat4"),this.uWorldNormalMat=c("uWorldNormalMat"),this.uAmbientColor=c("uAmbientColor")),this.gl=i}init(){this.hasNormalsSupport&&this.gl.uniform3fv(this.uWorldLightPos,this.ctx._lightPosition)}setMVPMatrix(t){this.gl.uniformMatrix4fv(this.uVMP4,!1,t)}setNormalMatrix(t,n){const{gl:r}=this;r.uniformMatrix4fv(this.uWorldMat4,!1,t),r.uniformMatrix3fv(this.uWorldNormalMat,!1,n)}setDiffuse(t){this.gl.uniform4fv(this.uTechDiffuseColor4,t)}setAmbient(t){this.gl.uniform3fv(this.uAmbientColor,zX(PZ,this.ctx._ambientColor,t))}useTexture(){}}var kZ="precision mediump float;varying vec2 tCoord;uniform vec4 color;uniform bool useTexture;uniform sampler2D tex;void main(){gl_FragColor=useTexture ? texture2D(tex,tCoord)*color : color;}",DZ="attribute vec2 v;attribute vec2 uv;uniform vec4 p;uniform vec4 uvRect;varying vec2 tCoord;void main(){gl_Position=vec4((p.x+p.z*v.x)*2.-1.,(-p.y+p.w*v.y)*2.+1.,0,1);tCoord=vec2(uvRect.x+uvRect.z*uv.x,uvRect.y+uvRect.w*uv.y);}";class AZ extends hD{constructor(t){const{gl:n}=t,r=Gp(n,n.VERTEX_SHADER,DZ),o=Gp(n,n.FRAGMENT_SHADER,kZ),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.bindAttribLocation(i,uy,"v"),n.bindAttribLocation(i,Hp,"uv"),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS)){const a=n.getProgramInfoLog(i);throw Error(`Ошибка Link Program: ${a}`)}super(t,i,!1,!0),this.textureInUse=!1;const s=c0.bind(null,n,i);this.uPos=s("p"),this.uUVRect=s("uvRect"),this.uColor=s("color"),this.uUseTexture=s("useTexture"),this.gl=t.gl}setColor(t){this.gl.uniform4fv(this.uColor,t)}setPositionAndScale(t,n,r,o){this.gl.uniform4f(this.uPos,t,n,r,o)}setUVRect(t){this.gl.uniform4fv(this.uUVRect,t)}useTexture(t){this.textureInUse!==t&&(this.textureInUse=t,this.gl.uniform1f(this.uUseTexture,+t))}init(){}}var LZ="precision mediump float;uniform sampler2D uTexture;uniform vec4 uTextColor;varying vec2 vTexCoord;void main(){float alpha=texture2D(uTexture,vTexCoord).a*uTextColor.a;gl_FragColor=vec4(uTextColor.rgb,alpha);}";class NZ extends pD{constructor(t,n){const{gl:r}=t,o=Gp(r,r.FRAGMENT_SHADER,LZ);super(t,dD,n,o),this.uTextColor=c0(r,this.shaderProgram,"uTextColor")}setTextColor(t){this.gl.uniform4fv(this.uTextColor,t)}}class Wp{use(t){const n=this.selectProgram(t);return n.use(),n._activeTech===this||(n._setActiveTech(this),this.apply(n),++t.stats.switchesTech),n}}class BZ extends Wp{constructor(t){super(),this.material=t,this.passVersion=-1,this.texture=null,this.programCaps=null,this.pass=t.techs[0].passes[0]}prepare(){const{pass:t}=this;if(this.passVersion===t._version)return;this.passVersion=t._version;const r=!!(this.texture=t._getDefaultTextureUnit()?.getTexture()||null),o=t.lightingEnabled?zp:0,i=Lh.find(s=>s.usesUV===r&&s.shadingMode===o);if(!i)throw Error(`Материал "${this.material.name}": программа с заданными требованиями (usesUV: ${r}, shadingMode: ${o}) не существует`);this.programCaps=i}hasOpacity(){const{pass:t}=this;return t.diffuse[3]<1}getProgramCaps(){return this.prepare(),this.programCaps}selectProgram(t){return this.prepare(),t.meshPrograms[this.programCaps.index]}apply(t){const{ctx:n}=t,{pass:r}=this;n.setDepthWrite(r.depthWrite),n.setDepthCheck(r.depthCheck),this.texture?.use(n),t.setDiffuse(r.diffuse),t.setAmbient(r.ambient)}}class FZ extends Wp{constructor(t){super(),this.material=t,this.pass=t.techs[0].passes[0]}selectProgram(t){return t.overlayProgram}apply(t){const{pass:n}=this,r=n._getDefaultTextureUnit()?.getTexture();r?(r.use(t.ctx),t.useTexture(!0)):t.useTexture(!1),t.setColor(n.diffuse)}}class jZ extends Wp{constructor(t,n){super(),this.fontTexture=t,this.colorSource=n}getProgramCaps(){return dD}selectProgram(t){return t.textProgram}apply(t){this.fontTexture.use(t.ctx),t.setTextColor(this.colorSource.color)}}const VZ=Vp(0,0,1,1);class $Z extends Wp{constructor(t){super(),this.fontTexture=t}selectProgram(t){return t.overlayProgram}apply(t){this.fontTexture.use(t.ctx),t.useTexture(!0),t.setUVRect(VZ)}}const u0=Rh(0,0).getContext("2d",{alpha:!0});class zZ{constructor(t){this.fontName=t,this.cache=new l0(this.genFontTexture.bind(this)),this.textOverlayRenderTech=null;const n=Math.round(150/72*20);this.glyphData=eZ(u0,`${n}px ${this.fontName}`,n)}genFontTexture(t){tZ(u0,this.glyphData);const{gl:n}=t,r=n.createTexture();return t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,u0.canvas),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}getTextOverlayRenderTech(){return this.textOverlayRenderTech||(this.textOverlayRenderTech=new $Z(this)),this.textOverlayRenderTech}}class UZ{constructor(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesVAO=0,this.switchesFace=0,this.dcOpaque=0,this.dcTransparent=0,this.dcOverlay=0,this.dcTotal=0;const t=this;Object.defineProperty(window,"s",{configurable:!0,get(){return t}})}reset(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesFace=0,this.switchesVAO=0,this.dcOpaque=0,this.dcTransparent=0,this.dcTotal=0,this.dcOverlay=0}}class HZ{constructor(t){this.gl=t,this.currentTexture=null,this.uvEnabled=!1,this.normalsEnabled=!1,this.backFacesInUse=!1,this.depthWrite=!0,this.depthCheck=!0,this.blendSFactor=WebGLRenderingContext.ONE,this.blendDFactor=WebGLRenderingContext.ZERO,this._ambientColor=cr(),this._lightPosition=cr(),this.stats=new UZ,this._activeProgram=null,t.enable(t.CULL_FACE),t.enableVertexAttribArray(uy),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.hasIndices32Support=!!t.getExtension("OES_element_index_uint");const n=RZ.map(i=>Gp(t,t.VERTEX_SHADER,i)),r=IZ.map(i=>Gp(t,t.FRAGMENT_SHADER,i));this.meshPrograms=Lh.map((i,s)=>new pD(this,i,n[s],r[s]));const o=n[Lh.findIndex(i=>i.usesUV&&i.shadingMode<0)];this.textProgram=new NZ(this,o),this.overlayProgram=new AZ(this)}_setActiveProgram(t){this._activeProgram=t}reset(){this.stats.reset()}setLighting(t,n){aD(this._ambientColor,t),aD(this._lightPosition,n),this._activeProgram?.init()}enableUV(){this.uvEnabled||(this.uvEnabled=!0,this.gl.enableVertexAttribArray(Hp))}disableUV(){this.uvEnabled&&(this.uvEnabled=!1,this.gl.disableVertexAttribArray(Hp))}enableNormals(){this.normalsEnabled||(this.normalsEnabled=!0,this.gl.enableVertexAttribArray(dy))}disableNormals(){this.normalsEnabled&&(this.normalsEnabled=!1,this.gl.disableVertexAttribArray(dy))}useBackFaces(t){if(this.backFacesInUse===t)return;this.backFacesInUse=t;const{gl:n}=this;n.frontFace(t?n.CW:n.CCW),++this.stats.switchesFace}setTexture(t){if(this.currentTexture===t)return;this.currentTexture=t;const{gl:n}=this;n.bindTexture(n.TEXTURE_2D,t),++this.stats.switchesTexture}setDepthWrite(t){this.depthWrite!==t&&(this.depthWrite=t,this.gl.depthMask(t))}setDepthCheck(t){if(this.depthCheck===t)return;this.depthCheck=t;const{gl:n}=this;n.depthFunc(t?n.LESS:n.ALWAYS)}setBlendFunc(t,n){this.blendSFactor===t&&this.blendDFactor===n||(this.blendSFactor=t,this.blendDFactor=n,this.gl.blendFunc(t,n))}}function jl(e){const t=e.split(" ").map(n=>parseFloat(n));return t.length===4&&!t.some(isNaN)?[t[0],t[1],t[2]-t[0],t[3]-t[1]]:null}function GZ(e){const t=e.split(" ").slice(0,3).map(n=>parseFloat(n));return t.some(isNaN)?null:[...t,1]}class d0{constructor(t,n,r){this.o=t,this.type=n,this.overlay=null,this.parent=null,this.children=[],this.visible=!0,this.x=0,this.y=0,this.width=0,this.height=0,this.metricsMode=CZ,this.horAlign=ly,this.horTextAlign=ly,this.vertAlign=xZ,this.caption="",this.charHeight=12,this.spaceWidth=0,this.color=[1,1,1,1],this.material=null,this.uv=[0,0,1,1],this.uvTL=[0,0,1,1],this.uvTR=[0,0,1,1],this.uvBL=[0,0,1,1],this.uvBR=[0,0,1,1],this.uvL=[0,0,1,1],this.uvR=[0,0,1,1],this.uvT=[0,0,1,1],this.uvB=[0,0,1,1],this.borders=[0,0,0,0],this.textMesh=null,t.overlayElements.set(this.key=t.key(),this),this.name=r?.name??""}drawAt(t,n,r,o,i,s,a){const{visible:c,vertAlign:d,horAlign:h,metricsMode:f,x:g,y:m,width:y,height:b}=this;if(!c)return;const v=f===uD,S=(v?g/s:g)+(h===cy?o:h===Up?o/2:0)+n,E=(v?m/a:m)+(d===EZ?i:d===_Z?i/2:0)+r,T=v?y/s:y,R=v?b/a:b;this.draw(t,S,E,T,R,s,a),this.children.forEach(M=>M.drawAt(t,S,E,T,R,s,a))}setMetricsMode(t){return this.metricsMode=t,this}setChildren(t){return this.children.forEach(n=>n.parent=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>n.parent=this),this}setVisible(t){return this.visible=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setSize(t,n){return this.width=t,this.height=n,this}setAlignment(t,n){return this.horAlign=t,this.vertAlign=n,this}setCaption(t){return this.caption!==t&&(this.caption=t,this.textMesh=null),this}setColor(t,n,r,o){return this.color=[t,n,r,o],this}setMaterial(t){return this.material=t,this}setParam(t,n){switch(t){case"uv_coords":{const o=jl(n);o&&(this.uv=o);break}case"border_material":break;case"border_size":{const o=n.split(" ").map(i=>Math.max(parseInt(i),2));o.length===4&&!o.some(isNaN)&&(this.borders=o);break}case"border_topleft_uv":{const o=jl(n);o&&(this.uvTL=o);break}case"border_topright_uv":{const o=jl(n);o&&(this.uvTR=o);break}case"border_bottomleft_uv":{const o=jl(n);o&&(this.uvBL=o);break}case"border_bottomright_uv":{const o=jl(n);o&&(this.uvBR=o);break}case"border_left_uv":{const o=jl(n);o&&(this.uvL=o);break}case"border_right_uv":{const o=jl(n);o&&(this.uvR=o);break}case"border_top_uv":{const o=jl(n);o&&(this.uvT=o);break}case"border_bottom_uv":{const o=jl(n);o&&(this.uvB=o);break}case"font_name":break;case"alignment":this.horTextAlign=n==="center"?Up:n==="right"?cy:ly;break;case"colour":const r=GZ(n);r&&(this.color=r);break;case"char_height":{const o=parseInt(n)||12;this.charHeight!==o&&(this.charHeight=o,this.textMesh=null);break}case"space_width":{const o=parseInt(n)||12;this.spaceWidth!==o&&(this.spaceWidth=o,this.textMesh=null);break}default:console.warn(`Неизвестный параметр StringInterface: '${t}'`);break}}}class Nh{constructor(t){this.data=t,this.cache=new l0(this.genBuffers.bind(this)),this.gl=null;const{indices:n,positions:r,positionSize:o}=t,i=this.useIndices32=n instanceof Uint32Array;this.positionSize=o,this.hasIndices=!!n,this.count=n?.length??r.length/o,this.drawMode=t.drawMode??WebGLRenderingContext.TRIANGLES,this.indicesType=i?WebGLRenderingContext.UNSIGNED_INT:WebGLRenderingContext.UNSIGNED_SHORT}genBuffers(t){const{gl:n}=t,{indices:r,positions:o,uvs:i,normals:s}=this.data,a=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,o,n.STATIC_DRAW);let c;i?(c=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,i,n.STATIC_DRAW)):c=null;let d;s?(d=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,d),n.bufferData(n.ARRAY_BUFFER,s,n.STATIC_DRAW)):d=null;let h;return r?(h=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h),n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW),this.useIndices32&&!t.hasIndices32Support&&(console.warn("WebGL: Не поддерживаются 32-битные индексы"),this.indicesType=n.UNSIGNED_SHORT,this.count=0)):h=null,{ctx:t,positionsBuffer:a,uvsBuffer:c,normalsBuffer:d,indexBuffer:h}}use(t){if(t._activeVAO===this)return;t._setActiveVAO(this);const{ctx:n}=t,{positionsBuffer:r,uvsBuffer:o,normalsBuffer:i,indexBuffer:s}=this.cache.get(n),{gl:a}=n;a.bindBuffer(a.ARRAY_BUFFER,r),a.vertexAttribPointer(uy,this.positionSize,a.FLOAT,!1,0,0),o&&t.hasUVSupport?(a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(Hp,2,a.FLOAT,!1,0,0),n.enableUV()):n.disableUV(),i&&t.hasNormalsSupport?(a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(dy,3,a.FLOAT,!1,0,0),n.enableNormals()):n.disableNormals(),s&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s),this.gl=a,++n.stats.switchesVAO}draw(){const{gl:t,drawMode:n,count:r,indicesType:o,hasIndices:i}=this;i?t.drawElements(n,r,o,0):t.drawArrays(n,0,r)}_drawRange(t,n){const{gl:r,drawMode:o,indicesType:i}=this;r.drawElements(o,n,i,t)}}class WZ{constructor(t,n,r){this.sharedVAO=t,this.count=r,this.byteOffset=n*(t.useIndices32?4:2)}use(t){this.sharedVAO.use(t)}draw(){this.sharedVAO._drawRange(this.byteOffset,this.count)}}const fy=new Nh({positionSize:2,positions:new Float32Array([0,0,0,-1,1,-1,1,0]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),drawMode:WebGLRenderingContext.TRIANGLE_FAN});class KZ extends d0{constructor(t,n){super(t,"Panel",n)}draw(t,n,r,o,i){const{material:s,uv:a}=this;if(!s)return;const c=s._getPanelOverlayRenderTech().use(t);fy.use(c),c.setUVRect(a),c.setPositionAndScale(n,r,o,i),fy.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class qZ extends d0{constructor(t,n){super(t,"BorderPanel",n)}draw(t,n,r,o,i,s,a){const{material:c,uv:d,borders:h,uvTL:f,uvT:g,uvTR:m,uvR:y,uvBR:b,uvB:v,uvBL:S,uvL:E,metricsMode:T}=this;if(!c)return;const R=c._getPanelOverlayRenderTech().use(t);fy.use(R);const M=T===uD,I=M?h[0]/s:h[0],N=M?h[1]/s:h[1],P=M?h[2]/a:h[2],L=M?h[3]/a:h[3],A=o-I-N,$=i-P-L;[[[I,P,A,$],d],[[0,0,I,P],f],[[I,0,A,P],g],[[I+A,0,N,P],m],[[I+A,P,N,$],y],[[I+A,P+$,N,L],b],[[I,P+$,A,L],v],[[0,P+$,I,L],S],[[0,P,I,$],E]].forEach(([U,K])=>{R.setUVRect(K),R.setPositionAndScale(n+U[0],r+U[1],U[2],U[3]),fy.draw(),++t.stats.dcOverlay,++t.stats.dcTotal})}}function gD(e,t,n=ly,r=0){const{glyphRects:o,fontSize:i,height:s,width:a}=e,c=[...t],d=(r||o[Uv].w)/i;let h=0;const f=[];let g=0,m=0;{let E={glyphs:[],width:0},T=0;c.forEach(R=>{const M=fa.indexOf(R),I=M>-1?M:Uv;if(I===oq){f.push(E),g=Math.max(g,E.width),m+=1,E={glyphs:[],width:0},T=0,E.width=0;return}const N=o[I];if(I===Uv)(n!==Up||!f.length||E.glyphs.length)&&(E.width+=d,E.glyphs.push(null));else{const P=N.w/i,L=N.h/i;E.width+=P,T=Math.max(T,L),E.glyphs.push(N),++h}}),f.push(E),g=Math.max(g,E.width),m+=T}if(!h)return{caption:t,width:g,height:m,vao:null,align:n};const y=new Float32Array(h*8),b=new Float32Array(h*8),v=new Uint16Array(h*6);{let E=0,T=0;f.forEach(R=>{let M=n===Up?(g-R.width)/2:n===cy?g-R.width:0;R.glyphs.forEach(I=>{if(!I){M+=d;return}const N=I.w/i,P=I.x-I.left,L=I.y-I.asc,A=I.left+I.w+I.right,$=I.asc+I.h+I.desc,B=A/i,U=$/i,K=E*8,G=E*6,V=E*4;++E;{const Y=M-I.left/i,Q=T+I.asc/i;M+=N;const te=Y,z=Y,W=Y+B,Z=W,le=Q,ue=Q-U,ce=ue,se=le;y[K+0]=te,y[K+1]=le,y[K+2]=z,y[K+3]=ue,y[K+4]=W,y[K+5]=ce,y[K+6]=Z,y[K+7]=se}{const Y=P/a,Q=Y,te=(P+A)/a,z=te,W=L/s,Z=(L+$)/s,le=Z,ue=W;b[K+0]=Y,b[K+1]=W,b[K+2]=Q,b[K+3]=Z,b[K+4]=te,b[K+5]=le,b[K+6]=z,b[K+7]=ue}v[G+0]=V+0,v[G+1]=V+1,v[G+2]=V+2,v[G+3]=V+0,v[G+4]=V+2,v[G+5]=V+3}),T-=1})}const S=new Nh({positionSize:2,positions:y,uvs:b,indices:v});return{caption:t,width:g,height:m,vao:S,align:n}}class YZ extends d0{constructor(t,n){super(t,"TextArea",n),this.tech=t._getFontTexture().getTextOverlayRenderTech()}draw(t,n,r,o,i,s,a){const{caption:c,tech:d,horTextAlign:h,spaceWidth:f}=this;if(!c)return;const{vao:g,width:m}=this.textMesh||(this.textMesh=gD(d.fontTexture.glyphData,c,h,f));if(!g)return;const y=d.use(t);g.use(y);const b=this.charHeight*.75,v=b/s,S=b/a,E=n-(h===cy?m*v:h===Up?m*v/2:0);y.setPositionAndScale(E,r,v,S),y.setColor(this.color),g.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class py{constructor(){this.renderIteration=0,this.currentRenderList=null}_setCurrentRenderList(t){this.currentRenderList=t}_setRenderIteration(t){this.renderIteration=t}_techOrVAOChanged(){this.currentRenderList?._removeElement(this)}}class XZ{constructor(){this.renderIteration=0,this.gcFilter=t=>t.currentRenderList===this,this.capsGroups=Lh.map(()=>new TZ)}clear(){++this.renderIteration}add(t){if(t._setRenderIteration(this.renderIteration),t.currentRenderList===this)return;t._setCurrentRenderList(this);const n=t.getRenderTech(),r=t.getVAO(),o=n.getProgramCaps();this.capsGroups[o.index].add(n,r,t)}_removeElement(t){t._setCurrentRenderList(null),this.gc()}render(t,n){let r=!1;const{renderIteration:o}=this,{stats:i}=t;for(const s of this.capsGroups)s.entries.forEach((a,c)=>{const d=c.use(t),{hasNormalsSupport:h}=d;a.forEach((f,g)=>{g.use(d),f.forEach(m=>{if(m.currentRenderList!==this){r=!0;return}if(m.renderIteration!==o){m._setCurrentRenderList(null),r=!0;return}t.useBackFaces(m.isMirrored()),h&&d.setNormalMatrix(m.getWorldMatrix(),m.getWorldNormalMatrix()),d.setMVPMatrix(m.getMVPMatrix(n)),g.draw(),++i.dcOpaque,++i.dcTotal})})});r&&this.gc()}gc(){for(const t of this.capsGroups)t.filterInline(this.gcFilter)}}class mD{constructor(){this.elements=[],this.renderIteration=0}clear(){++this.renderIteration}add(t){t._setRenderIteration(this.renderIteration),t.currentRenderList!==this&&(t._setCurrentRenderList(this),this.elements.push(t))}_removeElement(){}render(t,n){let r=!1;const{renderIteration:o}=this,{stats:i}=t;if(n.node){const s=n.node.getWorldPosition();this.elements.sort((a,c)=>o0(s,c.getWorldCOM())-o0(s,a.getWorldCOM()))}else this.elements.sort((s,a)=>lD(a.getWorldCOM())-lD(s.getWorldCOM()));this.elements.forEach(s=>{if(s.currentRenderList!==this){r=!0;return}if(s.renderIteration!==o){s._setCurrentRenderList(null),r=!0;return}const a=s.getRenderTech(),c=s.getVAO(),d=a.use(t);c.use(d),t.useBackFaces(s.isMirrored()),d.hasNormalsSupport&&d.setNormalMatrix(s.getWorldMatrix(),s.getWorldNormalMatrix()),d.setMVPMatrix(s.getMVPMatrix(n)),c.draw(),++i.dcTotal,++i.dcTransparent}),r&&this.gc()}gc(){this.elements=this.elements.filter(t=>t.currentRenderList===this)}}class ZZ{constructor(t){this.image=t,this.cache=new l0(this.genTexture.bind(this))}genTexture(t){const{gl:n}=t,r=n.createTexture();function o(s){t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),ak(s.width)&&ak(s.height)?n.generateMipmap(n.TEXTURE_2D):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE))}const{image:i}=this;return i.complete&&i.naturalHeight?o(i):(t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([211,211,211,64])),i.complete||i.addEventListener("load",()=>o(i))),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}}const QZ=ei(),JZ=sy(),vD=cr(),eQ=fi(0,1,0),yD=fi(0,0,-1),tQ=fi(1,1,1),nQ=Vp(1,1,1,1),h0=cr(),f0=cr(),p0=cr(),g0=cr(),m0=cr();function bD({origin:e,dir:t},n,r,o){jp(h0,r,n),jp(f0,o,n),Ah(p0,t,f0);const i=Rc(h0,p0);if(i>-Number.EPSILON&&i<Number.EPSILON)return 1/0;const s=1/i;jp(g0,e,n);const a=Rc(g0,p0)*s;if(a<0||a>1)return 1/0;Ah(m0,g0,h0);const c=Rc(t,m0)*s;if(c<0||a+c>1)return 1/0;const d=Rc(f0,m0)*s;return d>Number.EPSILON?d:1/0}const Pc=cr(),kc=cr(),Dc=cr();function rQ(e,t){let n=1/0;for(let r=0;r+8<t.length;r+=9){Pc[0]=t[r+0],Pc[1]=t[r+1],Pc[2]=t[r+2],kc[0]=t[r+3],kc[1]=t[r+4],kc[2]=t[r+5],Dc[0]=t[r+6],Dc[1]=t[r+7],Dc[2]=t[r+8];const o=bD(e,Pc,kc,Dc);n>o&&(n=o)}return n}function oQ(e,t,n){let r=1/0;for(let o=0;o+2<n.length;o+=3){const i=n[o+0]*3,s=n[o+1]*3,a=n[o+2]*3;Pc[0]=t[i+0],Pc[1]=t[i+1],Pc[2]=t[i+2],kc[0]=t[s+0],kc[1]=t[s+1],kc[2]=t[s+2],Dc[0]=t[a+0],Dc[1]=t[a+1],Dc[2]=t[a+2];const c=bD(e,Pc,kc,Dc);r>c&&(r=c)}return r}function iQ(e,t,n){const[r,o,i]=t;return e[0]=n[0]*r+n[4]*o+n[8]*i,e[1]=n[1]*r+n[5]*o+n[9]*i,e[2]=n[2]*r+n[6]*o+n[10]*i,ay(e,e)}function sQ(e,t,n){return Ic(e.origin,t.origin,n),iQ(e.dir,t.dir,n),e}function wD(e){switch(e){case rZ:return WebGLRenderingContext.ONE;case oZ:return WebGLRenderingContext.ZERO;case iZ:return WebGLRenderingContext.DST_COLOR;case sZ:return WebGLRenderingContext.SRC_COLOR;case aZ:return WebGLRenderingContext.ONE_MINUS_DST_COLOR;case lZ:return WebGLRenderingContext.ONE_MINUS_SRC_COLOR;case cZ:return WebGLRenderingContext.DST_ALPHA;case uZ:return WebGLRenderingContext.SRC_ALPHA;case dZ:return WebGLRenderingContext.ONE_MINUS_DST_ALPHA;case hZ:return WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;default:return 0}}function aQ(e){switch(e){case gZ:return WebGLRenderingContext.POINTS;case mZ:return WebGLRenderingContext.LINES;case vZ:return WebGLRenderingContext.LINE_STRIP;case yZ:return WebGLRenderingContext.TRIANGLE_STRIP;case bZ:return WebGLRenderingContext.TRIANGLE_FAN;default:return WebGLRenderingContext.TRIANGLES}}function v0(){return{origin:cr(),dir:fi(0,0,1)}}const lQ=new Nh({positionSize:2,positions:new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,-.5]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),indices:new Uint16Array([0,2,1,0,3,2,0,1,2,0,2,3])});class cQ extends py{constructor(t,n,r){super(),this.set=t,this.position=n,this.parentScale=r,this.worldMatrix=ei(),this.localMatrix=ei(),this.worldCOM=cr(),this.rotation=$p(),this.mvpMatrix=ei(),this.worldMatrixVersion=0,this.comWorldMatrixVersion=0,this.shouldUpdateLocalMatrix=!0,this.key=t.o.key()}getMVPMatrix(t){return Fl(this.mvpMatrix,t._getVPMatrix(),this.getWorldMatrix())}getWorldMatrix(){const{set:t}=this;this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,sD(this.localMatrix,this.rotation,this.position,this.parentScale),this.worldMatrixVersion=0);const n=t.node;return this.worldMatrixVersion!==n._worldMatrixVersion&&(this.worldMatrixVersion=n._worldMatrixVersion,Fl(this.worldMatrix,n._getWorldMatrix(),this.localMatrix)),this.worldMatrix}getWorldCOM(){const t=this.set.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Ic(this.worldCOM,this.position,t._getWorldMatrix()),r0(this.worldCOM,this.getWorldMatrix())),this.worldCOM}getVAO(){return lQ}getRenderTech(){return this.set.material._getMeshRenderTech()}getWorldNormalMatrix(){return JZ}isMirrored(){return!1}_onAttached(){this.worldMatrixVersion=0,this.comWorldMatrixVersion=0}_updateLocalMatrix(){this.shouldUpdateLocalMatrix=!0}}class Bh{constructor(t,n){this.o=t,this.node=null,this.visible=!0,t.movables.set(this.key=t.key(),this),this.name=n?.name??""}destroy(){this.detach(),this.o.movables.delete(this.key)}setVisible(t){return this.visible=t,this}detach(){const t=this.node;return t?(t.movables=t.movables.filter(n=>n!==this),this.node=null,this):this}}class uQ extends Bh{constructor(t,n){super(t,n),this.commonScale=fi(1,1,1),this.type=wZ,this.material=null,this.billboards=[],t.billboardSets.set(this.key,this)}destroy(){super.destroy(),this.o.billboardSets.delete(this.key)}createBillboard(t,n,r){const o=new cQ(this,fi(t,n,r),this.commonScale);return this.billboards.push(o),o}setCommonDirection(t,n,r){return this}setCommonUpVector(t,n,r){return this}setDimensions(t,n){Ha(this.commonScale,t,n,1);for(const r of this.billboards)r._updateLocalMatrix();return this}setType(t){if(t!==SZ)throw Error(`billboardSet_SetBillboardType: тип ${t} не реализован`);return this.type=t,this}setMaterial(t){if(this.material!==t){this.material=t;for(const n of this.billboards)n._techOrVAOChanged()}return this}_onAttached(){for(const t of this.billboards)t._onAttached()}_setup(t){const{material:n}=this;if(!n)return;const r=n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements;for(const o of this.billboards)r.add(o)}}const SD=new Map;class dQ{constructor(t){this.info=t,this.texture=null,this.image=null,this.loadImage()}loadImage(){if(this.image)return this.image;const t=Ji(this.info.src),n=SD.get(t);if(n)return this.image=n;const r=new Image;return r.crossOrigin="",r.src=t,SD.set(t,r),this.image=r}getTexture(){return this.texture||(this.image||(this.image=this.loadImage()),this.texture=new ZZ(this.image)),this.texture}}const gy=cr();class CD{constructor(t,n){this.center=t,this.sqrRadius=n*n}intersectsWith(t){const{center:n}=this;if(o0(n,t.origin)<=this.sqrRadius)return!0;jp(gy,n,t.origin);const r=Rc(gy,t.dir),o=Rc(gy,gy)-r*r;if(o>this.sqrRadius)return!1;const i=Math.sqrt(this.sqrRadius-o);return r+i>=0}}class hQ{constructor(t,n,r){this.parent=t,this.data=n,this.indexOffset=r,this.material=null,this.vao=null,this.materialFound=!1,this.materialName=n.material||"",this.useSharedGeometry=n.useSharedGeometry||!1;const o=n.useSharedGeometry?t.data.sharedGeometry:n.geometry;if(!o)throw Error("Mesh не имеет геометрии");if(o.length>1)throw Error("Mesh с несколькими VertexBuffer не реализованы");const[i]=o;if(!i.positions)throw Error("Mesh без Positions не поддерживается");this.vBufferData=i;const{maxX:s,maxY:a,maxZ:c,minX:d,minY:h,minZ:f}=n.extrema||i.positions.extrema,g=(s+d)/2,m=(a+h)/2,y=(c+f)/2;this.center=fi(g,m,y);const b=Math.max(s-d,a-h,c-f)/2;this.boundingSphere=new CD(this.center,b)}getCOM(){return this.center}getVertexCount(){return this.vBufferData.vertexCount}getDefaultMaterial(){if(this.materialFound)return this.material;if(this.materialFound=!0,!this.materialName)return null;const t=this.parent.o.materialByName.get(this.materialName)??null;if(!t){const n=this.parent.submeshes.indexOf(this);console.warn(`Ogre: ${this.parent.meta}[${n}]: материал '${this.materialName}' не существует`)}return this.material=t}getVAO(){if(this.vao)return this.vao;if(this.useSharedGeometry){const a=this.indexOffset;let c=this.data.indices.length;return this.vao=new WZ(this.parent._getSharedVAO(),a,c)}const{vBufferData:t,data:n}=this,r=new Float32Array(t.positions.coords),o=t.normals?.length?new Float32Array(t.normals):null,i=t.uvs?.length?new Float32Array(t.uvs[0]):null,s=new(n.useIndices32?Uint32Array:Uint16Array)(n.indices);return this.vao=new Nh({positionSize:3,positions:r,uvs:i,normals:o,indices:s})}getClosestIntersection(t){return this.boundingSphere.intersectsWith(t)?oQ(t,this.vBufferData.positions.coords,this.data.indices):1/0}}class fQ{constructor(t,n){this.o=t,this.data=n,this.sharedVAO=null;let r=0;this.submeshes=n.submeshes.map(o=>{const i=new hQ(this,o,r);return r+=o.indices.length,i})}_getSharedVAO(){if(this.sharedVAO)return this.sharedVAO;const[t]=this.data.sharedGeometry;let n=!1,r=0;this.data.submeshes.forEach(d=>{d.useIndices32&&(n=!0),r+=d.indices.length});const o=new(n?Uint32Array:Uint16Array)(r);let i=0;this.data.submeshes.forEach(d=>{o.set(d.indices,i),i+=d.indices.length});const s=new Float32Array(t.positions.coords),a=t.normals?.length?new Float32Array(t.normals):null,c=t.uvs?.length?new Float32Array(t.uvs[0]):null;return this.sharedVAO=new Nh({positionSize:3,positions:s,uvs:c,normals:a,indices:o})}}class pQ extends Bh{constructor(t,n){super(t,n),t.lights.set(this.key,this)}destroy(){super.destroy(),this.o.lights.delete(this.key)}_onAttached(){}_setup(t){t.globalLight=this}}class gQ{constructor(t,n=""){this.pass=t,this.name=n,this.texture=null,this.imageNameUC=null,this.imageFound=!1,t.tech.mat.o.texUnits.set(this.key=t.tech.mat.o.key(),this)}setTexture(t,n){if(n!==nZ)throw Error("textureUnitState_SetTexture: Используемый тип текстуры не поддерживается");return this.texture=t?.getTexture()||null,this}setTextureName(t){return this.imageNameUC=t.toUpperCase(),this}getTexture(){return this.imageFound||this.texture?this.texture:(this.imageFound=!0,this.imageNameUC?this.texture=this.pass.tech.mat.o.imageResByNameUC.get(this.imageNameUC)?.getTexture()||null:null)}}class mQ{constructor(t){this.tech=t,this.textures=[],this.ambient=fi(1,1,1),this.diffuse=Vp(1,1,1,1),this.specular=Vp(0,0,0,1),this.emissive=fi(0,0,0),this.shininess=0,this.lightingEnabled=!0,this.shadingMode=zp,this.depthCheck=!0,this.depthWrite=!0,this._glBlendSFactor=WebGLRenderingContext.ONE,this._glBlendDFactor=WebGLRenderingContext.ZERO,this._version=0,t.mat.o.passes.set(this.key=t.mat.o.key(),this)}_getDefaultTextureUnit(){const{textures:t}=this;return t.length?t[0]:null}createTextureUnit(t){const n=new gQ(this,t);return this.textures.push(n),n}setLightingEnabled(t){return this.lightingEnabled=t,this}setAmbient(t,n,r){return Ha(this.ambient,t,n,r),this}setDiffuse(t,n,r,o){return i0(this.diffuse,t,n,r,o),this}setSpecular(t,n,r,o){return i0(this.specular,t,n,r,o),this}setEmissive(t,n,r){return Ha(this.emissive,t,n,r),this}setShininess(t){return this.shininess=t,this}setShadingMode(t){return this.shadingMode=t,this}setDepthCheckEnabled(t){return this.depthCheck=t,this}setDepthWriteEnabled(t){return this.depthWrite=t,this}setSceneBlending(t,n){return this._glBlendSFactor=wD(t)||WebGLRenderingContext.ONE,this._glBlendDFactor=wD(n)||WebGLRenderingContext.ZERO,this}}class vQ{constructor(t){this.mat=t,t.o.techniques.set(this.key=t.o.key(),this),this.passes=[new mQ(this)]}pass(t){return t>=0&&t<this.passes.length?this.passes[t]:null}}class yQ{constructor(t,n){this.o=t,this.name=n,this.meshRenderTech=null,this.panelOverlayRenderTech=null,t.materialByKey.set(this.key=t.key(),this),t.materialByName.has(n)||t.materialByName.set(n,this),this.techs=[new vQ(this)]}tech(t){return t>=0&&t<this.techs.length?this.techs[t]:null}_getMeshRenderTech(){return this.meshRenderTech||(this.meshRenderTech=new BZ(this)),this.meshRenderTech}_getPanelOverlayRenderTech(){return this.panelOverlayRenderTech||(this.panelOverlayRenderTech=new FZ(this)),this.panelOverlayRenderTech}}const Fh=ei();class bQ extends py{constructor(t,n,r,o,i){super(),this.text=t,this.renderTech=n,this.vao=r,this.width=o,this.height=i,this.mvpMatrix=ei(),this.worldCOM=cr(),this.comWorldMatrixVersion=1}getMVPMatrix(t){const{node:n,charHeight:r}=this.text,o=Fl(this.mvpMatrix,t._getViewMatrix(),n._getWorldMatrix()),i=Math.hypot(o[0],o[1],o[2])*r,s=Math.hypot(o[4],o[5],o[6])*r,a=-this.width*i,c=this.height*s;return Fh[0]=i,Fh[5]=s,Fh[12]=o[12]+a,Fh[13]=o[13]+c,Fh[14]=o[14],Fl(this.mvpMatrix,t._getProjectionMatrix(),Fh)}getWorldCOM(){const t=this.text.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,r0(this.worldCOM,t._getWorldMatrix())),this.worldCOM}getVAO(){return this.vao}getRenderTech(){return this.renderTech}getWorldMatrix(){throw new Error("Method not implemented.")}getWorldNormalMatrix(){throw new Error("Method not implemented.")}isMirrored(){return!1}_onAttached(){this.comWorldMatrixVersion=1}}class wQ extends Bh{constructor(t,n,r){super(t,r),this.textElement=null,this.textElementCreated=!1,this.color=Vp(1,1,1,1),this.charHeight=1,t.movableTexts.set(this.key,this),this.caption=n,this.fontName=r?.fontName||""}destroy(){super.destroy(),this.o.movableTexts.delete(this.key)}setCharHeight(t){return this.charHeight=t,this}_onAttached(){this.textElement?._onAttached()}_setup(t){if(!this.textElementCreated&&(this.textElementCreated=!0,this.caption)){const r=this.o._getFontTexture(this.fontName),{vao:o,width:i,height:s}=gD(r.glyphData,this.caption);if(o){const a=new jZ(r,this);this.textElement=new bQ(this,a,o,i,s)}}const{textElement:n}=this;n&&t.textElements.add(n)}}class SQ{constructor(t,n=""){this.o=t,this.name=n,this.children=[],this.visible=!1,this.scaleX=1,this.scaleY=1,this.z=0,t.overlays.set(this.key=t.key(),this)}setChildren(t){return this.children.forEach(n=>n.overlay=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>{n.overlay=this,n.parent&&(console.warn("OverlayElement has parent"),n.parent=null)}),this}setZ(t){return this.z=t,this.o.overlayQueue=null,this}setScale(t,n){return this.scaleX=t,this.scaleY=n,this}setVisible(t){return this.visible=t,this.o.overlayQueue=null,this}render(t){const{ctx:n}=t.window,{drawingBufferWidth:r,drawingBufferHeight:o}=n.gl;this.children.forEach(i=>i.drawAt(n,0,0,1,1,r,o))}}class CQ{constructor(t,n){this.window=t,this.bg=fi(.2,.2,.2),this.overlaysEnabled=!0,t.o.viewports.set(this.key=t.o.key(),this),this.camera=n,n._setViewport(this)}setCamera(t){return this.camera!==t&&(this.camera._setViewport(null),this.camera=t._setViewport(this)),this}enableOverlays(t){return this.overlaysEnabled=t,this}setBackground(t,n,r){return Ha(this.bg,t,n,r),this}}class xQ{constructor(t,n,r){this.o=t,this.viewports=new Set,this.x=0,this.y=0,this.width=0,this.height=0,this.wheelPosition=0,this.buttonsPressed=[!1,!1,!1,!1],this.mainViewport=null,t.windows.set(this.key=t.key(),this);const o=this.domElement=document.createElement("canvas");this.width=o.width=n,this.height=o.height=r,o.setAttribute("data-render-window-key",this.key.toString());const i=o.getContext("webgl",{alpha:!1,depth:!0,antialias:!0,desynchronized:!1});this.ctx=new HZ(i)}close(){this.o.windows.delete(this.key)}createViewport(t,n){const r=new CQ(this,t);if(this.viewports.size)throw Error("Создание нескольких Viewport не реализовано");return this.mainViewport=r,this.viewports.add(r),r}render(t){const{ctx:n}=this,{gl:r}=n;this.viewports.forEach(o=>{const{camera:i}=o;i._updateActualAspect();const{scene:s}=i,{globalLight:a,opaqueElements:c,textElements:d,transparentElements:h}=s._setup(t);if(n.reset(),r.clearColor(...o.bg,1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),n.setLighting(s.ambient,a?.node.getWorldPosition()||vD),r.enable(r.DEPTH_TEST),c.render(n,i),r.enable(r.BLEND),h.render(n,i),r.disable(r.DEPTH_TEST),n.useBackFaces(!1),d.render(n,i),o.overlaysEnabled){let f;(f=this.o.overlayQueue)||(f=this.o.overlayQueue=[...this.o.overlays.values()].filter(g=>g.visible).sort((g,m)=>g.z-m.z)),f.forEach(g=>g.render(o))}r.disable(r.BLEND)})}}const xD=cr(),_D=cr(),ED=cr();class _Q extends Bh{constructor(t,n){super(t.o,n),this.scene=t,this.projectionMatrix=ei(),this.vpMatrix=ei(),this.inverseVPMatrix=ei(),this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.vpWorldMatrixVersion=1,this.shouldUpdateInverseVPMatrix=!0,this.inverseVPWorldMatrixVersion=1,this.viewportAspect=10,this.viewport=null,this.nearDist=1,this.farDist=1e3,this.fov=Math.PI/4,this.aspect=1.3333333333333333,this.autoAspect=!0,t.o.cameras.set(this.key,this),n&&this.set(n)}destroy(){super.destroy(),this.o.cameras.delete(this.key)}useViewportAspect(){return!!this.viewport&&this.autoAspect}_setViewport(t){return this.viewport=t,this}set({farDist:t=this.farDist,fov:n=this.fov,nearDist:r=this.nearDist,aspect:o=this.aspect}){return(this.farDist!==t||this.fov!==n||this.nearDist!==r||this.aspect!==o&&!this.useViewportAspect())&&(this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.shouldUpdateInverseVPMatrix=!0),this.farDist=t,this.fov=n,this.nearDist=r,this.aspect=o,this}_updateActualAspect(){if(!this.autoAspect)return;const{domElement:t}=this.viewport.window,n=t.width/t.height;this.viewportAspect!==n&&(this.viewportAspect=n,this.shouldUpdateProjectionMatrix=!0)}_getViewMatrix(){return this.node?._getInverseWorldMatrix()||QZ}_getProjectionMatrix(){return this.shouldUpdateProjectionMatrix&&(this.shouldUpdateProjectionMatrix=!1,PX(this.projectionMatrix,this.fov,this.useViewportAspect()?this.viewportAspect:this.aspect,this.nearDist,this.farDist)),this.projectionMatrix}_getVPMatrix(){const{node:t}=this;return t?((this.shouldUpdateVPMatrix||this.vpWorldMatrixVersion!==t._worldMatrixVersion)&&(this.shouldUpdateVPMatrix=!1,this.vpWorldMatrixVersion=t._worldMatrixVersion,Fl(this.vpMatrix,this._getProjectionMatrix(),this._getViewMatrix())),this.vpMatrix):this._getProjectionMatrix()}_getInverseVPMatrix(){const{node:t}=this,n=t?t._worldMatrixVersion:1;return(this.shouldUpdateInverseVPMatrix||this.inverseVPWorldMatrixVersion!==n)&&(this.shouldUpdateInverseVPMatrix=!1,this.inverseVPWorldMatrixVersion=n,oD(this.inverseVPMatrix,this._getVPMatrix())),this.inverseVPMatrix}getRay(t,n,r){const o=this._getInverseVPMatrix(),i=2*t-1,s=1-2*n;return Ha(xD,i,s,-1),Ic(r.origin,xD,o),Ha(_D,i,s,0),Ic(ED,_D,o),jp(r.dir,ED,r.origin),ay(r.dir,r.dir),r}_onAttached(){this.vpWorldMatrixVersion=1,this.inverseVPWorldMatrixVersion=1}_setup(){}}class EQ extends py{constructor(t,n){super(),this.entity=t,this.submesh=n,this.worldCOM=cr(),this.comWorldMatrixVersion=0,this.material=null,this.vertexCount=n.getVertexCount(),this.material=n.getDefaultMaterial()}setMaterial(t){return this.material!==t&&(this.material=t,this._techOrVAOChanged()),this}_setup(t){const{material:n}=this;n&&(n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}getWorldMatrix(){return this.entity.node._getWorldMatrix()}getWorldNormalMatrix(){return this.entity._getWorldNormalMatrix()}getWorldCOM(){const t=this.entity.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Ic(this.worldCOM,this.submesh.getCOM(),t._getWorldMatrix())),this.worldCOM}getVAO(){return this.submesh.getVAO()}getRenderTech(){return this.material._getMeshRenderTech()}isMirrored(){return this.entity.node._isMirrored()}getMVPMatrix(t){return this.entity._getMVPMatrix(t)}_onAttached(){this.comWorldMatrixVersion=0}}const TD=ei();class MD extends Bh{constructor(t,{submeshes:n},r){super(t.o,r),this.scene=t,this.mvpMatrix=ei(),this.worldNormalMatrix=sy(),this.normalWorldMatrixVersion=1,t.o.entities.set(this.key,this),this.subEntities=n.map(o=>new EQ(this,o))}destroy(){super.destroy(),this.o.entities.delete(this.key)}subEntity(t){return t>=0&&t<this.subEntities.length?this.subEntities[t]:null}_getMVPMatrix(t){return Fl(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,rD(TD,t._getInverseWorldMatrix()),nD(this.worldNormalMatrix,TD)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const{submesh:r}of this.subEntities){const o=r.getClosestIntersection(t);n>o&&(n=o)}return n}_onAttached(){this.normalWorldMatrixVersion=1;for(const t of this.subEntities)t._onAttached()}_setup(t){for(const n of this.subEntities)n._setup(t)}}class TQ extends Wp{selectProgram(t){return t.meshPrograms[0]}apply(t){const{ctx:n}=t;n.setDepthWrite(!0),n.setDepthCheck(!0),t.setDiffuse(nQ),t.setAmbient(tQ)}hasOpacity(){return!1}getProgramCaps(){return Lh[0]}}const MQ=new TQ;class OQ extends py{constructor(t,n,r){super(),this.object=t,this.drawType=n,this.worldCOM=cr(),this.comWorldMatrixVersion=0,this.coords=[],this.normals=[],this.isComplete=!1,this.vao=null,this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0,this.minZ=1/0,this.maxZ=-1/0,this.center=null,this.boundingSphere=null,this.vertexCount=0,this.renderTech=r?._getMeshRenderTech()||MQ}addVertex(t,n,r){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t),this.minY=Math.min(this.minY,n),this.maxY=Math.max(this.maxY,n),this.minZ=Math.min(this.minZ,r),this.maxZ=Math.max(this.maxZ,r),this.coords.push(t,n,r),++this.vertexCount}addNormal(t,n,r){this.normals.push(t,n,r)}end(){this.isComplete=!0;const{maxX:t,maxY:n,maxZ:r,minX:o,minY:i,minZ:s}=this,a=(t+o)/2,c=(n+i)/2,d=(r+s)/2;this.center=fi(a,c,d);const h=Math.max(t-o,n-i,r-s)/2;this.boundingSphere=new CD(this.center,h)}getWorldMatrix(){return this.object.node._getWorldMatrix()}getWorldNormalMatrix(){return this.object._getWorldNormalMatrix()}getWorldCOM(){const t=this.object.node;return t?(this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,Ic(this.worldCOM,this.center,t._getWorldMatrix())),this.worldCOM):vD}getVAO(){return this.vao?this.vao:this.vao=new Nh({positionSize:3,positions:new Float32Array(this.coords),normals:this.normals.length?new Float32Array(this.normals):null,drawMode:aQ(this.drawType)})}getRenderTech(){return this.renderTech}isMirrored(){return this.object.node._isMirrored()}getMVPMatrix(t){return this.object._getMVPMatrix(t)}getClosestIntersection(t){return this.drawType!==cD||!this.isComplete||!this.boundingSphere.intersectsWith(t)?1/0:rQ(t,this.coords)}_setup(t){this.isComplete&&(this.renderTech.hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}_onAttached(){this.comWorldMatrixVersion=0}}const OD=ei();class RD extends Bh{constructor(t,n){super(t.o,n),this.scene=t,this.mvpMatrix=ei(),this.worldNormalMatrix=sy(),this.normalWorldMatrixVersion=0,this.sections=[],t.o.manualObjects.set(this.key,this)}destroy(){super.destroy(),this.o.manualObjects.delete(this.key)}createSection(t,n){const r=new OQ(this,t,n);return this.sections.push(r),r}clear(){this.sections=[]}_getMVPMatrix(t){return Fl(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,rD(OD,t._getInverseWorldMatrix()),nD(this.worldNormalMatrix,OD)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const r of this.sections){const o=r.getClosestIntersection(t);n>o&&(n=o)}return n}_onAttached(){this.normalWorldMatrixVersion=0;for(const t of this.sections)t._onAttached()}_setup(t){for(const n of this.sections)n._setup(t)}}class RQ{constructor(t){this.entries=t,this.length=t.length}getEntry(t){const{entries:n}=this;return t>=0&&t<n.length?n[t]:null}sort(){this.entries.sort((t,n)=>t.distance-n.distance)}}class IQ{constructor(t,n){this.scene=t,this.localMatrix=ei(),this.worldMatrix=ei(),this.inverseWorldMatrix=ei(),this.worldPosition=cr(),this.worldRotation=$p(),this.worldScale=fi(1,1,1),this.mirrored=!1,this.shouldUpdateLocalMatrix=!1,this.shouldUpdateWorldMatrix=!1,this.shouldUpdateInverseWorldMatrix=!1,this.shouldUpdateMirroredInfo=!1,this.shouldUpdateWorldPosition=!1,this.shouldUpdateWorldRotation=!1,this.shouldUpdateWorldScale=!1,this.position=cr(),this.scale=fi(1,1,1),this.rotation=$p(),this._worldMatrixVersion=1,this.children=[],this.parent=null,t.o.nodes.set(this.key=t.o.key(),this),this.name=n?.name??""}destroy(){this.children.forEach(t=>{t.parent=null,t.updateWorldMatrixRecursive()}),this.removeParent(),this.scene.o.nodes.delete(this.key)}getChild(t){const{children:n}=this;return t>=0&&t<n.length?n[t]:null}addChild(t){const n=t.parent;if(n){if(n===this)return this;let r=this.parent;for(;r;){if(r===t)throw Error("SceneNode.addChild: child является родительским узлом текущего узла");r=r.parent}}if(t===this)throw Error("SceneNode.addChild: child является текущим узлом");if(t.scene!==this.scene)throw Error("SceneNode.addChild: child принадлежит другой сцене");return t.removeParent(),this.children.push(t),t.parent=this,t.updateWorldMatrixRecursive(),this}updateWorldMatrixRecursive(){if(!this.shouldUpdateWorldMatrix){this.shouldUpdateWorldMatrix=!0,++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldPosition=!0,this.shouldUpdateWorldRotation=!0,this.shouldUpdateWorldScale=!0;for(const t of this.children)t.updateWorldMatrixRecursive()}}updateLocalMatrix(){this.shouldUpdateLocalMatrix||(this.shouldUpdateLocalMatrix=!0,this.updateWorldMatrixRecursive())}updateChildrenMirroredInfoRecursive(){if(!this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!0;for(const t of this.children)t.updateChildrenMirroredInfoRecursive()}}updateMirroredInfo(){if(this.shouldUpdateMirroredInfo)return;const{scale:t}=this;if(this.mirrored!==Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0){this.shouldUpdateMirroredInfo=!0;for(const n of this.children)n.updateChildrenMirroredInfoRecursive()}}removeParent(){const t=this.parent;return t?(t.children=t.children.filter(n=>n!==this),this.parent=null,this):this}setPosition(t,n,r){return Ha(this.position,t,n,r),this.updateLocalMatrix(),this}setRotation(t,n,r,o){return a0(this.rotation,JX(this.rotation,t,n,r,o)),this.updateLocalMatrix(),this}resetRotation(){return KX(this.rotation),this.updateLocalMatrix(),this}rotateX(t){return YX(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateY(t){return XX(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateZ(t){return ZX(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}setScale(t,n,r){return Ha(this.scale,t,n,r),this.updateLocalMatrix(),this.updateMirroredInfo(),this}_getWorldMatrixForRotation(){++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldRotation=!0;for(const t of this.children)t.updateWorldMatrixRecursive();return this.worldMatrix}_getWorldMatrix(){return this.shouldUpdateWorldMatrix&&(this.shouldUpdateWorldMatrix=!1,this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,sD(this.localMatrix,this.rotation,this.position,this.scale)),this.parent?Fl(this.worldMatrix,this.parent._getWorldMatrix(),this.localMatrix):EX(this.worldMatrix,this.localMatrix)),this.worldMatrix}_getInverseWorldMatrix(){return this.shouldUpdateInverseWorldMatrix&&(this.shouldUpdateInverseWorldMatrix=!1,oD(this.inverseWorldMatrix,this._getWorldMatrix())),this.inverseWorldMatrix}_isMirrored(){if(this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!1;const{scale:t}=this;this.mirrored=Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0,this.parent?._isMirrored()&&(this.mirrored=!this.mirrored)}return this.mirrored}getWorldPosition(){return this.shouldUpdateWorldPosition&&(this.shouldUpdateWorldPosition=!1,r0(this.worldPosition,this._getWorldMatrix())),this.worldPosition}getWorldRotation(){return this.shouldUpdateWorldRotation&&(this.shouldUpdateWorldRotation=!1,RX(this.worldRotation,this._getWorldMatrix())),this.worldRotation}getWorldScale(){return this.shouldUpdateWorldScale&&(this.shouldUpdateWorldScale=!1,iD(this.worldScale,this._getWorldMatrix())),this.worldScale}}const y0=cr(),ID=cr(),PQ=cr(),my=v0(),Kp=cr();class PD extends IQ{constructor(t,n){super(t,n),this.trackingInfo=null,this.movables=[],t.o.sceneNodes.set(this.key,this)}destroy(){super.destroy(),this.movables.forEach(t=>t.node=null),this.scene.o.sceneNodes.delete(this.key)}getMovable(t){const{movables:n}=this;return t>=0&&t<n.length?n[t]:null}attach(t){const n=t.node;if(n){if(n===this)return this;t.detach()}return this.movables.push(t),t.node=this,t._onAttached(this),this}setAutoTracking(t,n,r,o){if(!t)return this.trackingInfo=null,this;let i,s;const{trackingInfo:a}=this;if(a){if(i=a.direction,s=a.orientationMat,a.target===t&&i[0]===n&&i[1]===r&&i[2]===o)return this;Ha(i,n,r,o)}else i=fi(n,r,o),s=ei();ay(y0,i);const c=$X(y0,yD);return Ah(ID,y0,yD),OX(s,c,ID),this.trackingInfo={target:t,direction:i,orientationMat:s},this}updateTracking(){const{parent:t,trackingInfo:n}=this;if(!n||!t)return;const r=this.getWorldScale(),o=this._getWorldMatrixForRotation();kX(o,this.getWorldPosition(),n.target.getWorldPosition(),Ic(PQ,eQ,t._getWorldMatrix())),Fl(o,o,n.orientationMat),MX(o,o,r)}_setup(t){this.updateTracking();for(const n of this.movables)n.visible&&n._setup(t);for(const n of this.children)n._setup(t)}_findIntersections(t,n){let r=!1;for(const o of this.movables){if(!(o instanceof MD||o instanceof RD))continue;r||(r=!0,sQ(my,t,this._getInverseWorldMatrix()));const i=o._getClosestIntersection(my);if(i<1/0){AX(Kp,my.origin,BX(Kp,my.dir,i)),Ic(Kp,Kp,this._getWorldMatrix());const s=UX(t.origin,Kp);n.push({movable:o,distance:s})}}for(const o of this.children)o._findIntersections(t,n)}}class kQ{constructor(t){this.o=t,this.renderInfo={globalLight:null,opaqueElements:new XZ,transparentElements:new mD,textElements:new mD},this.frameNumber=0,this.ambient=cr(),t.scenes.set(this.key=t.key(),this),this.root=new PD(this)}setAmbient(t,n,r){return Ha(this.ambient,t,n,r),this}createSceneNode(t){return new PD(this,t)}createCamera(t){return new _Q(this,t)}createEntity(t,n){return new MD(this,t,n)}createManualObject(t){return new RD(this,t)}_setup(t){if(this.frameNumber===t)return this.renderInfo;this.frameNumber=t;const{renderInfo:n}=this;return n.globalLight=null,n.opaqueElements.clear(),n.transparentElements.clear(),n.textElements.clear(),this.root._setup(n),n}rayCast(t){const n=[];return this.root._findIntersections(t,n),new RQ(n)}}class DQ{constructor(){this.windows=new Map,this.scenes=new Map,this.viewports=new Map,this.overlays=new Map,this.overlayElements=new Map,this.entities=new Map,this.manualObjects=new Map,this.nodes=new Map,this.sceneNodes=new Map,this.movables=new Map,this.cameras=new Map,this.billboardSets=new Map,this.lights=new Map,this.movableTexts=new Map,this.materialByKey=new Map,this.materialByName=new Map,this.techniques=new Map,this.passes=new Map,this.texUnits=new Map,this.imageResByNameUC=new Map,this.meshResByNameUC=new Map,this.primaryWindow=null,this.overlayQueue=null,this.fontMap=new Map,this.globalKey=1e3,this.drawNumber=0}_getFontTexture(t){const n=t||"sans-serif",r=n.toUpperCase(),o=this.fontMap.get(r);if(o)return o;const i=new zZ(n);return this.fontMap.set(r,i),i}key(){return++this.globalKey}createRenderWindow(t,n){const r=new xQ(this,t,n);return this.primaryWindow||=r,r}createScene(){return new kQ(this)}createMovableText(t,n){return new wQ(this,t,n)}createLight(t){return new pQ(this,t)}createBillboardSet(t){return new uQ(this,t)}createMaterial(t){return new yQ(this,t)}createOverlayElement(t,n){switch(t){case"Panel":return new KZ(this,n);case"BorderPanel":return new qZ(this,n);case"TextArea":return new YZ(this,n);default:throw Error(`createOverlayElement: тип '${t}' не реализован`)}}createOverlay(t){return new SQ(this,t)}createMesh(t,n){const r=new fQ(this,t);return this.meshResByNameUC.set(n.toUpperCase(),r),r}createImage(t,n){const r=new dQ(t);return this.imageResByNameUC.set(n.toUpperCase(),r),r}renderAll(){const t=++this.drawNumber;this.windows.forEach(n=>n.render(t))}}const kD=new Set;function xn(...e){kD.size!==kD.add(e[0]).size&&console.warn(...e)}function AQ(e,t,n,r,o){if(!this.kernel.egor.scenes.get(e))return 0;const s=this.kernel.egor.manualObjects.get(t);if(!s)return 0;const a=s.sections[0];return a.addVertex(n,r,o),a.vertexCount}function LQ(e,t,n,r,...o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function NQ(e,t,n,r,...o){throw xn("ApplyTexture3d",e,t,n,r,o),Error("ApplyTexture3d: Функция не реализована")}function BQ(e,t,n,r,o,i){if(!this.kernel.egor.scenes.get(e))return 0;const a=this.kernel.egor.cameras.get(t);return a?this.kernel.egor.createRenderWindow(1e3,1e3).createViewport(a).key:0}function FQ(e,t,n,r,o,i,s,a,c,d,h,f,g){const m=this.kernel.egor.scenes.get(e);return m?m.createCamera().key:0}function jQ(e,t){throw xn("CreateDefCamera3d",e,t),Error("CreateDefCamera3d: Функция не реализована")}function VQ(e,t,n,r,o,i,s,a,c,d){throw xn("CreateMaterial3d",e,t,n,r,o,i,s,a,c,d),Error("CreateMaterial3d: Функция не реализована")}function $Q(e){const t=this.kernel.egor.scenes.get(e);if(!t)return 0;const n=t.createManualObject();return n.createSection(cD,null),n.key}function zQ(e,t){throw xn("CreateObjectFromFile3d",e,t),Error("CreateObjectFromFile3d: Функция не реализована")}function UQ(e){return this.kernel.egor.createScene().key}function HQ(e,t,n,r,o,i){throw xn("CreateSurface3d",e,t,n,r,o,i),Error("CreateSurface3d: Функция не реализована")}function GQ(e,t,n){throw xn("DelPoint3d",e,t,n),Error("DelPoint3d: Функция не реализована")}function WQ(e,t,n){throw xn("DelPrimitive3d",e,t,n),Error("DelPrimitive3d: Функция не реализована")}function KQ(e){throw xn("DeleteSpace3d",e),Error("DeleteSpace3d: Функция не реализована")}function qQ(e,t){throw xn("DuplicateObject3d",e,t),Error("DuplicateObject3d: Функция не реализована")}function YQ(e,t,n,r){throw xn("FitToCamera3d",e,t,n,r),Error("FitToCamera3d: Функция не реализована")}function XQ(e,t){throw xn("GetActiveCamera3d",e,t),Error("getActiveCamera3d: Функция не реализована")}function ZQ(e,t,n,r,o){throw xn("GetColors3d",e,t,n,r,o),Error("GetColors3d: Функция не реализована")}function QQ(e,t){throw xn("GetMaterialByName3d",e,t),Error("GetMaterialByName3d: Функция не реализована")}function JQ(e,t){throw xn("GetNumPoints3d",e,t),Error("GetNumPoints3d: Функция не реализована")}function eJ(e,t){throw xn("GetNumPrimitives3d",e,t),Error("GetNumPrimitives3d: Функция не реализована")}function tJ(e,t,n,r,o,i,s,a){throw xn("GetObject3dFromPoint2d",e,t,n,r,i,a),Error("GetObject3dFromPoint2d: Функция не реализована")}function nJ(e,t,n,r,o,i,s,a){throw xn("GetObjectBase3d",e,t,r,i,a),Error("GetObjectBase3d: Функция не реализована")}function rJ(e,t,n){throw xn("GetObjectBase3dM",e,t,n),Error("GetObjectBase3dM: Функция не реализована")}function oJ(e,t){throw xn("GetObjectColor3d",e,t),Error("GetObjectColor3d: Функция не реализована")}function iJ(e,t,n){throw xn("GetObjectDimension3d",e,t,n),Error("GetObjectDimension3d: Функция не реализована")}function sJ(e,t,n){return n}function aJ(e,t,n){throw xn("GetObjectPoints3d",e,t,n),Error("GetObjectPoints3d: Функция не реализована")}function lJ(e,t,n,r,o,i,s,a,c){throw xn("GetPoint3d",e,t,n,o,s,c),Error("GetPoint3d: Функция не реализована")}function cJ(e,t){throw xn("GetSpace3d",e,t),Error("getSpace3d: Функция не реализована")}function uJ(e,t,n,r,o){const i=this.kernel.egor.scenes.get(e);return i?i.createManualObject().key:0}function dJ(e,t,n,r,o,i,s,a){throw xn("MakeCylinder3d",e,t,n,r,o,i,s,a),Error("MakeCylinder3d: Функция не реализована")}function hJ(e,t,n,r,o,i){throw xn("MakeGrid3d",e,t,n,r,o,i),Error("MakeGrid3d: Функция не реализована")}function fJ(e,t,n,r,o,i){throw xn("MakeSphere3d",e,t,n,r,o,i),Error("MakeSphere3d: Функция не реализована")}function pJ(){xn("MakeTore3d")}function gJ(e,t,n,r,o,i,s,a){throw xn("MakeTube3d",e,t,n,r,o,i,s,a),Error("MakeTube3d: Функция не реализована")}function mJ(e){throw xn("PopCrdSystem3d",e),Error("PopCrdSystem3d: Функция не реализована")}function vJ(e){throw xn("PushCrdSystem3d",e),Error("PushCrdSystem3d: Функция не реализована")}function yJ(e,t){throw xn("RemoveTexture3d",e,t),Error("RemoveTexture3d: Функция не реализована")}function bJ(e,t,n,r){throw xn("RotateObject3d",e,t,n,r),Error("RotateObject3d: Функция не реализована")}function wJ(e,t,n,r){throw xn("RotateObjectPoints3d",e,t,n,r),Error("RotateObjectPoints3d: Функция не реализована")}function SJ(e,t){throw xn("SelectLocalCrd3d",e,t),Error("SelectLocalCrd3d: Функция не реализована")}function CJ(e,t){throw xn("SelectViewCrd3d",e,t),Error("SelectViewCrd3d: Функция не реализована")}function xJ(e){throw xn("SelectWorldCrd3d",e),Error("SelectWorldCrd3d: Функция не реализована")}function _J(e,t,n,r,o){throw xn("SetColors3d",e,t,n,r,o),Error("SetColors3d: Функция не реализована")}function EJ(e,t,n,r,o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function TJ(e,t,n){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function MJ(e,t,n){throw xn("SetObjectMatrix3d",e,t,n),Error("SetObjectMatrix3d: Функция не реализована")}function OJ(e,t,n){throw xn("SetObjectPoints3d",e,t,n),Error("SetObjectPoints3d: Функция не реализована")}function RJ(e,t,n,r,o,i){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function IJ(e,t,n,r,o,...i){return 1}function PJ(e,t,n,r,o,i,s,a,c,d,h){throw xn("SweepAndExtrude3d",e,t,n,r,o,i,s,a,c,d,h),Error("SweepAndExtrude3d: Функция не реализована")}function kJ(){xn("SwitchToCamera3d")}function DJ(e,t,n,r,o,i){throw xn("TransformCamera3d",e,t,n,r,o,i),Error("TransformCamera3d: Функция не реализована")}function AJ(e,t,n){throw xn("TransformObject3d",e,t,n),Error("TransformObject3d: Функция не реализована")}function LJ(e,t,n){throw xn("TransformObjectPoints3d",e,t,n),Error("TransformObjectPoints3d: Функция не реализована")}function NJ(e,t,n,r){return!this.kernel.egor.scenes.get(t)||!this.kernel.egor.cameras.get(n)?0:1}function BJ(e){e("AddPoint3d",{a:[D,D,k,k,k],r:k},AQ),e("AddPrimitive3d",{a:[D,D,k,gn],rest:[k],r:k},LQ),e("ApplyTexture3d",{a:[D,D,D,D],rest:[k],r:k},NQ),e("Create3dView2d",{a:[D,D,k,k,k,k],r:D},BQ),e("CreateCamera3dEx",{a:[D,fe,k,k,gn,k,k,k,k,k,k,k,k],r:D},FQ),e("CreateDefCamera3d",{a:[D,k],r:D},jQ),e("CreateMaterial3d",{a:[D,fe,fe,gn,gn,gn,gn,k,k,k],r:D},VQ),e("CreateObject3d",{a:[D],r:D},$Q),e("CreateObjectFromFile3d",{a:[D,fe],r:D},zQ),e("CreateSpace3d",{a:[D],r:D},UQ),e("CreateSurface3d",{a:[D,D,k,k,gn,k],r:D},HQ),e("DelPoint3d",{a:[D,D,k],r:k},GQ),e("DelPrimitive3d",{a:[D,D,k],r:k},WQ),e("DeleteSpace3d",{a:[D],r:k},KQ),e("DuplicateObject3d",{a:[D,D],r:D},qQ),e("FitToCamera3d",{a:[D,D,D,k],r:k},YQ),e("GetActiveCamera3d",{a:[D,D],r:D},XQ),e("GetColors3d",{a:[D,D,k,k,k],r:k},ZQ),e("GetMaterialByName3d",{a:[D,fe],r:D},QQ),e("GetNumPoints3d",{a:[D,D],r:k},JQ),e("GetNumPrimitives3d",{a:[D,D],r:k},eJ),e("GetObject3dFromPoint2d",{a:[D,D,k,k,c9,Ye],r:D},tJ),e("GetObjectBase3d",{a:[D,D,Ye,Ye,Ye],r:k},nJ),e("GetObjectBase3dM",{a:[D,D,k],r:k},rJ),e("GetObjectColor3d",{a:[D,D],r:gn},oJ),e("GetObjectDimension3d",{a:[D,D,k],r:k},iJ),e("GetObjectMatrix3d",{a:[D,D,k],r:k},sJ),e("GetObjectPoints3d",{a:[D,D,k],r:k},aJ),e("GetPoint3d",{a:[D,D,k,Ye,Ye,Ye],r:k},lJ),e("GetSpace3d",{a:[D,D],r:D},cJ),e("MakeBar3d",{a:[D,gn,k,k,k],r:D},uJ),e("MakeCylinder3d",{a:[D,D,gn,k,k,k,k,k],r:D},dJ),e("MakeGrid3d",{a:[D,k,k,k,k,gn],r:D},hJ),e("MakeSphere3d",{a:[D,D,gn,k,k,k],r:D},fJ),e("MakeTore3d",{a:[]},pJ),e("MakeTube3d",{a:[D,D,gn,k,k,k,k,k],r:D},gJ),e("PopCrdSystem3d",{a:[D],r:k},mJ),e("PushCrdSystem3d",{a:[D],r:k},vJ),e("RemoveTexture3d",{a:[D,D],r:k},yJ),e("RotateObject3d",{a:[D,D,k,k],r:k},bJ),e("RotateObjectPoints3d",{a:[D,D,k,k],r:k},wJ),e("SelectLocalCrd3d",{a:[D,D],r:k},SJ),e("SelectViewCrd3d",{a:[D,D],r:k},CJ),e("SelectWorldCrd3d",{a:[D],r:k},xJ),e("SetColors3d",{a:[D,D,k,k,k],r:k},_J),e("SetObjectBase3d",{a:[D,D,k,k,k],r:k},EJ),e("SetObjectColor3d",{a:[D,D,gn],r:k},TJ),e("SetObjectMatrix3d",{a:[D,D,k],r:k},MJ),e("SetObjectPoints3d",{a:[D,D,k],r:k},OJ),e("SetPoint3d",{a:[D,D,k,k,k,k],r:k},RJ),e("SetPrimitive3d",{a:[D,D,k,k,gn],rest:[k],r:k},IJ),e("SweepAndExtrude3d",{a:[D,D,k,k,k,k,k,k,k,gn,k],r:D},PJ),e("SwitchToCamera3d",{a:[]},kJ),e("TransformCamera3d",{a:[D,D,k,k,k,k],r:k},DJ),e("TransformObject3d",{a:[D,D,k],r:k},AJ),e("TransformObjectPoints3d",{a:[D,D,k],r:k},LJ),e("_CameraProc3d",{a:[fe,D,D,k],r:k},NJ)}const FJ={name:"graphics3d",deps:["ogre"],register:BJ};class Vl{constructor(t){this.minV=Math.floor(t.minV),this.minH=Math.floor(t.minH),this.rows=t.rows,this.cols=t.cols,this.m=t.data?new Float64Array(t.data):new Float64Array(this.rows*this.cols)}isSquare(){return this.cols===this.rows}get(t,n){const r=Math.floor(t)-this.minV,o=Math.floor(n)-this.minH;return r<0||o<0||r>=this.rows||o>=this.cols?0:this.m[r*this.cols+o]}set(t,n,r){const o=Math.floor(t)-this.minV,i=Math.floor(n)-this.minH;return o<0||i<0||o>=this.rows||i>=this.cols?0:(this.m[o*this.cols+i]=r,r)}sum(){return this.m.reduce((t,n)=>t+n,0)}glue(t,n,r){const o=this,i=Math.min(o.minH,t.minH+r),s=Math.min(o.minV,t.minV+n),a=Math.max(o.cols+o.minH,t.cols+t.minH+r),c=Math.max(o.rows+o.minV,t.rows+t.minV+n),d=new Vl({cols:a-i,rows:c-s,minH:i,minV:s});for(let h=t.minV;h<t.rows+t.minV;h++)for(let f=t.minH;f<t.cols+t.minH;f++)d.set(h+n,f+r,t.get(h,f));for(let h=o.minV;h<o.rows+o.minV;h++)for(let f=o.minH;f<o.cols+o.minH;f++)d.set(h,f,o.get(h,f));return d}add(t){const n=this,r=Math.min(n.minH,t.minH),o=Math.min(n.minV,t.minV),i=Math.max(n.cols+n.minH,t.cols+t.minH),a=Math.max(n.rows+n.minV,t.rows+t.minV)-o,c=i-r,d=new Vl({cols:c,rows:a,minH:r,minV:o}),h=Math.min(n.rows,t.rows),f=Math.min(n.cols,t.cols);for(let g=0;g<h;g++)for(let m=0;m<f;m++)d.m[g+c+m]=n.m[g*n.cols+m]+t.m[g+t.cols+m];return d}mul(t){const n=this;if(n.cols!==t.rows)return null;const r=t.cols,o=n.rows,i=new Vl({cols:r,rows:o,minH:n.minH,minV:n.minV});for(let s=0;s<o;s++)for(let a=0;a<r;a++){let c=0;for(let d=0;d<n.cols;d++)c+=n.m[s*n.cols+d]*t.m[d*t.cols+a];i.m[s*r+a]=c}return i}det(){if(!this.isSquare())throw Error("Not a square matrix");const t=this.rows;if(t===1)return this.m[0];if(t===2)return this.m[0]*this.m[3]-this.m[1]*this.m[2];const n=Array.from(this.m);let r=1;for(let o=0;o<t;o++){let i=o,s=Math.abs(n[o*t+o]);for(let a=o+1;a<t;a++){const c=Math.abs(n[a*t+o]);c>s&&(s=c,i=a)}if(s===0)return 0;if(i!==o){r=-r;for(let a=o;a<t;a++){const c=n[o*t+a];n[o*t+a]=n[i*t+a],n[i*t+a]=c}}for(let a=o+1;a<t;a++){const c=n[a*t+o]/n[o*t+o];for(let d=o;d<t;d++)n[a*t+d]-=c*n[o*t+d]}r*=n[o*t+o]}return r}obr(){if(!this.isSquare()||this.det()===0)return null;const t=this.rows,n=new Vl({cols:this.cols,rows:this.rows,minH:0,minV:0,data:Array.from(this.m)}),r=new Vl({cols:this.cols,rows:this.rows,minH:0,minV:0});for(let o=0;o<t;o++)for(let i=0;i<t;i++)r.set(o,i,0),o===i&&r.set(o,i,1);for(let o=0;o<t;o++){let i=n.get(o,o);for(let s=0;s<t;s++)n.set(o,s,n.get(o,s)/i),r.set(o,s,r.get(o,s)/i);for(let s=o+1;s<t;s++){i=n.get(s,o);for(let a=0;a<t;a++)n.set(s,a,n.get(s,a)-n.get(o,a)*i),r.set(s,a,r.get(s,a)-r.get(o,a)*i)}}for(let o=t-1;o>0;o--)for(let i=o-1;i>=0;i--){let s=n.get(i,o);for(let a=0;a<t;a++)n.set(i,a,n.get(i,a)-n.get(o,a)*s),r.set(i,a,r.get(i,a)-r.get(o,a)*s)}return r.minH=this.minH,r.minV=this.minV,r}diag(t){this.fill(0);const n=Math.min(this.rows,this.cols);for(let r=0;r<n;r++)this.set(r,r,t);return 1}fill(t){return this.m.fill(t),1}sortByRow(t,n){const r=t-this.minV;if(r<0||r>=this.rows)return 0;const o=Array.from({length:this.cols},(s,a)=>Array.from({length:this.rows},(c,d)=>this.m[d*this.cols+a])),i=n?(s,a)=>a[r]-s[r]:(s,a)=>s[r]-a[r];return o.sort(i),o.forEach((s,a)=>{s.forEach((c,d)=>{this.m[d*this.cols+a]=c})}),1}sortByColumn(t,n){const r=t-this.minH;if(r<0||r>=this.cols)return 0;const o=Array.from({length:this.rows},(s,a)=>{const c=a*this.cols,d=c+this.cols;return Array.from(this.m.subarray(c,d))}),i=n?(s,a)=>a[r]-s[r]:(s,a)=>s[r]-a[r];return o.sort(i),this.m=new Float64Array(ck(o)),1}data(){const{minH:t,minV:n,cols:r,rows:o,m:i}=this;return{minV:n,minH:t,cols:r,rows:o,data:[...i]}}}function jJ(e,t,n,r,o,i){if(i<=0)return 0;const s=Math.floor(n)-Math.floor(t)+1,a=Math.floor(o)-Math.floor(r)+1;if(s<=0||a<=0)return 0;const c=e||Os.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,new Vl({rows:s,cols:a,minV:t,minH:r})),c}function VJ(e,t){return t<=0?0:this.kernel.matrices.delete(e)?1:0}function $J(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.fill(t)??0}function zJ(e,t,n,r){return r<=0?0:this.kernel.matrices.get(e)?.get(t,n)??0}function UJ(e,t,n,r,o){return o<=0?0:this.kernel.matrices.get(e)?.set(t,n,r)??0}function HJ(e,t){if(t<=0)return 0;throw Error("MEditor: редактор матриц не реализован")}function GJ(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.diag(t)??0}function WJ(e,t){if(t<=0)return 0;const n=this.kernel.matrices.get(e);return!n||!n.isSquare()?0:n.det()}function KJ(e,t,n,r){if(r<=0)return 0;const o=this.kernel.matrices.get(e);if(!o)return 0;const i=this.kernel.matrices.get(t);if(!i)return 0;const s=o.add(i);if(!s)return 0;const a=n||Os.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function qJ(e,t){return t<=0?0:this.kernel.matrices.get(e)?.sum()??0}function YJ(e,t,n,r){if(r<=0)return 0;const o=this.kernel.matrices.get(e),i=this.kernel.matrices.get(t);if(!o||!i)return 0;const s=o.mul(i);if(!s)return 0;const a=n||Os.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function XJ(e,t,n,r,o,i){if(i<=0)return 0;const s=this.kernel.matrices.get(e),a=this.kernel.matrices.get(t);if(!s||!a)return 0;const c=n||Os.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,s.glue(a,Math.floor(r),Math.floor(o))),c}function ZJ(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const o=r.obr();if(!o)return 0;const i=t||Os.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(i,o),i}function QJ(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const o=this.prj.dir.resolve(t).create("file");return o?(o.set({mat:r.data()}),1):0}function JJ(e,t,n){if(n<=0)return 0;const r=this.prj.dir.resolve(t).file()?.mat;if(!r)return 0;const o=e||Os.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(o,new Vl(r)),o}function eee(e,t,n,r){if(r<=0)return 0;const o=this.kernel.matrices.get(e);if(!o)return 0;switch(n){case 1:return o.sortByColumn(t,!1);case 2:return o.sortByColumn(t,!0);case 3:return o.sortByRow(t,!1);case 4:return o.sortByRow(t,!0);default:return 0}}function tee(e){e("MCreate",{a:[k,k,k,k,k,k],r:k},jJ),e("MDelete",{a:[k,k],r:k},VJ),e("MFill",{a:[k,k,k],r:k},$J),e("MGet",{a:[k,k,k,k],r:k},zJ),e("MPut",{a:[k,k,k,k,k],r:k},UJ),e("MEditor",{a:[k,k]},HJ),e("MDiag",{a:[k,k,k],r:k},GJ),e("MDet",{a:[k,k],r:k},WJ),e("MSum",{a:[k,k],r:k},qJ),e("MMul",{a:[k,k,k,k],r:k},YJ),e("MGlue",{a:[k,k,k,k,k,k],r:k},XJ),e("MObr",{a:[k,k,k],r:k},ZJ),e("MSaveAs",{a:[k,fe,k],r:k},QJ),e("MLoad",{a:[k,fe,k],r:k},JJ),e("MSort",{a:[k,k,k,k],r:k},eee),e("MAddC",{a:[k,k,k,k],r:k},KJ)}const nee={name:"matrix",register:tee,setup(e){e.matrices=new Map,e.onProjectOpen.add(t=>{t.dir.forEach(n=>{if(!n.mat)return;const r=n.path.basename(),o=parseInt(r.substring(0,r.length-5));isNaN(o)||!o||e.matrices.has(o)||e.matrices.set(o,new Vl(n.mat))},!1)})}};function DD(e,t,n,r,o){const i=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!i)return;const s=this.resolve(n);s?.klass.vars.msg&&i.subscribe(s,r,t,o)}function AD(e,t,n){const r=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!r)return;const o=this.resolve(t);o?.klass.vars.msg&&r.unsubscribe(o,n)}function ree(e,t){const n=this.kernel.scenes.get(e);if(!n)return;const r=this.resolve(t);r?.klass.vars.msg&&n.setCapture(r)}function oee(){this.kernel.windowSystem.releaseCapture()}function iee(e,t,...n){if(this.kernel.recursionLvl>58)return;let r=null;if(t&&(r=this.kernel.classes.get(t),!r))return;/[\*\?]/.test(e)&&this.kernel._functionNotImplemented("SendMessage с path содержащим '*'/'?'",this);const o=this.resolveMany(e,r);if(!o.length)return;const i=new Array(n.length),s=this.klass.vars,a=o[0].klass.vars;for(let c=0;c<n.length;c+=2){const d=s.get(n[c+0]);if(!d)continue;const h=a.get(n[c+1]);h&&(i[c+0]=d,i[c+1]=h)}o.forEach(c=>{if(c===this)return;for(let v=0;v<i.length;v+=2){const S=i[v+0];if(!S)continue;const E=i[v+1];c.vars.setValue(E,this.vars.getNewValue(S))}++this.kernel.recursionLvl,c.computeSchema(),--this.kernel.recursionLvl;const{map:d,values:{newFloats:h,oldFloats:f,newInts:g,oldInts:m,newStrings:y,oldStrings:b}}=c.vars;for(let v=0;v<d.length;++v){const S=d[v];f[S]=h[S],m[S]=g[S],b[S]=y[S]}for(let v=0;v<i.length;v+=2){const S=i[v+0];if(!S)continue;const E=i[v+1];this.setNewValue(S,c.vars.getNewValue(E))}})}function see(e){e("RegisterObject",{s:!0,a:[D,D,fe,k,k]},DD),e("RegisterObject",{s:!0,a:[fe,D,fe,k,k]},DD),e("UnregisterObject",{s:!0,a:[D,fe,k]},AD),e("UnregisterObject",{s:!0,a:[fe,fe,k]},AD),e("SetCapture",{s:!0,a:[D,fe,k]},ree),e("ReleaseCapture",{},oee),e("SendMessage",{s:!0,a:[fe,fe],rest:[fe,fe]},iee)}const aee={name:"messages",deps:["windows"],register:see,setup(e){e.recursionLvl=0}};function lee(e){if(!e)return 0;const t=fa.indexOf(e[0]);return t<0?0:t}function cee(e){return e<0||e>255?"":fa[e]}function LD(e,t,n=1){e[t]+=n}function ND(e,t,n=1){e[t]-=n}function uee(e){return e>1?0:e<-1?Math.PI:Math.acos(e)||0}function dee(e){return e>1?Math.PI/2:e<-1?-Math.PI/2:Math.asin(e)||0}function hee(e,t,n){return e.split(t).join(n)}function fee(e,t,n){return e.substring(0,n)===t.substring(0,n)?1:0}function pee(e,t){return t===0?e>=0?0:Math.PI:t>0?-Math.atan(e/t)+Math.PI/2:-Math.atan(e/t)+Math.PI*1.5}function gee(e){return e>0?(Math.log(e)||0)/Math.LN10:-1e100}function mee(e){return e>0?Math.log(e)||0:-1e100}function vee(e,t){return e>0&&t>0?Math.log(t)/Math.log(e)||0:-1e100}function yee(e,t,n){if(t==="")return-1;for(var r=-1,o=0,i=0;i<n;++i){if(r=e.indexOf(t,o),r<0)return-1;o=r+t.length}return r}function bee(e,t){return e.substring(e.length-t)}function wee(e,t){var n=Math.ceil(10**t);return Math.round(e*n-Number.EPSILON)/n||0}function See(e,t){return e.substring(t)}function Cee(e,t,n){return e.substring(t,Math.max(t,0)+n)}function xee(e){e("Arccos",{a:[k],r:k},uee),e("Arcsin",{a:[k],r:k},dee),e("Ascii",{a:[fe],r:k},lee),e("Change",{a:[fe,fe,fe],r:fe},hee),e("Chr",{a:[k],r:fe},cee),e("Comparei",{a:[fe,fe,k],r:k},fee),e("Dec",{a:[Ye,k]},ND),e("Dec",{a:[Ye]},ND),e("GetangleByXY",{a:[k,k],r:k},pee),e("Inc",{a:[Ye,k]},LD),e("Inc",{a:[Ye]},LD),e("Lg",{a:[k],r:k},gee),e("Ln",{a:[k],r:k},mee),e("Log",{a:[k,k],r:k},vee),e("Pos",{a:[fe,fe,k],r:k},yee),e("Randomize",{a:[k]},f9),e("Right",{a:[fe,k],r:fe},bee),e("Round",{a:[k,k],r:k},wee),e("Substr",{a:[fe,k,k],r:fe},Cee),e("Substr",{a:[fe,k],r:fe},See)}const _ee={name:"misc",register:xee};function Eee(e){const t=this.prj.dir.resolve(e).file()?.video;if(!t)return 0;const n=Os.freeKey(this.kernel.videos);return this.kernel.videos.set(n,t),n}function Tee(e,t,n,r,o,i){const s=this.kernel.videos.get(t);if(!s)return 0;const a=this.kernel.scenes.get(e);if(!a)return 0;const c=a.scene;let d=n,h=r;const f=a.matrix;if(f){const y=n*f[2]+r*f[5]+f[8];d=(n*f[0]+r*f[3]+f[6])/y,h=(n*f[1]+r*f[4]+f[7])/y}const g=o>=0||i>=0,m=c.video(s.src,{x:d,y:h,width:Math.max(0,o),height:Math.max(0,i),fixed:g});return c.set({order:c.order.concat(m)}),m.key}function Mee(e,t){throw Error("videoSetPos2d: Not implemented")}function Oee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"?n.currentTime()*Nk:0}function Ree(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.setCurrentTime(n/Nk)?1:0}function Iee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Pee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.pause()?1:0}function kee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Dee(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.stop()?1:0}function Aee(){return et.MCIERR_INVALID_DEVICE_NAME}function Lee(){return""}function Nee(){return 0}function Bee(e){e("OpenVideo",{a:[fe,k],r:D},Eee),e("CreateVideoFrame2d",{a:[D,D,k,k,k,k,k],r:D},Tee),e("VideoSetPos2d",{a:[D,k],r:k},Mee),e("FrameGetPos2d",{a:[D,D],r:k},Oee),e("FrameSetPos2d",{a:[D,D,k],r:k},Ree),e("VideoPlay2d",{a:[D,D,k,k,k,k],r:k},Iee),e("VideoPause2d",{a:[D,D],r:k},Pee),e("VideoResume2d",{a:[D,D],r:k},kee),e("VideoStop2d",{a:[D,D],r:k},Dee),e("MciSendString",{a:[fe],r:k},Aee),e("MciSendStringStr",{a:[fe],r:fe},Lee),e("SndPlaySound",{a:[fe,k],r:k},Nee)}const Fee={name:"multimedia",deps:["windows"],register:Bee,setup(e){e.videos=new Map}},jee=new Map([["ShiftLeft",16],["ShiftRight",16],["ControlLeft",17],["ControlRight",17],["AltLeft",18],["AltRight",18],["CapsLock",20],["Tab",9],["Enter",13],["Escape",27],["Space",32],["Backspace",8],["ArrowUp",38],["ArrowDown",40],["ArrowLeft",37],["ArrowRight",39],["MetaLeft",91],["MetaRight",92],["ContextMenu",93],["Delete",46],["Insert",45],["Home",36],["End",35],["PageUp",33],["PageDown",34],["F1",112],["F2",113],["F3",114],["F4",115],["F5",116],["F6",117],["F7",118],["F8",119],["F9",120],["F10",121],["F11",122],["F12",123],["Digit0",48],["Digit1",49],["Digit2",50],["Digit3",51],["Digit4",52],["Digit5",53],["Digit6",54],["Digit7",55],["Digit8",56],["Digit9",57],["KeyA",65],["KeyB",66],["KeyC",67],["KeyD",68],["KeyE",69],["KeyF",70],["KeyG",71],["KeyH",72],["KeyI",73],["KeyJ",74],["KeyK",75],["KeyL",76],["KeyM",77],["KeyN",78],["KeyO",79],["KeyP",80],["KeyQ",81],["KeyR",82],["KeyS",83],["KeyT",84],["KeyU",85],["KeyV",86],["KeyW",87],["KeyX",88],["KeyY",89],["KeyZ",90]]);function Vee(e){if(e>=16&&e<=18||e>=112&&e<=135||e>=37&&e<=40)return!1;switch(e){case 27:case 9:case 20:case 144:case 145:case 42:case 19:case 45:case 46:case 36:case 35:case 33:case 34:case 93:case 91:case 92:return!1}return!0}const jh=new Uint8Array(256);function b0(e){return e>=0&&e<256?!!jh[e]:!1}function vy(e){jh[1]=e.buttons&1,jh[2]=e.buttons&2,jh[4]=e.buttons&4}const BD=new Set;function FD(e){let t=jee.get(e.code);if(t?jh[t]=+(e.type==="keydown"):(BD.has(e.code)||(BD.add(e.code),console.warn(`Неизвестная клавиша: ${e.code}`)),t=0),e.winVKey=t,e.type==="keydown"&&Vee(t)){const n=fa.indexOf(e.key);e.winChar=n<0?t:n}}function $ee(){jh.fill(0)}window.addEventListener("keydown",FD,{capture:!0}),window.addEventListener("keyup",FD,{capture:!0}),window.addEventListener("pointerdown",vy,{capture:!0}),window.addEventListener("pointerup",vy,{capture:!0}),window.addEventListener("pointermove",vy,{capture:!0}),window.addEventListener("pointercancel",vy,{capture:!0}),window.addEventListener("blur",$ee);const jD=Symbol("renderWindow.parent");let zee=0,Uee=0,Hee=0,Gee=0,Wee=0,Kee=0,qee=0,Yee=0;const VD=new Set;function Ie(...e){VD.size!==VD.add(e[0]).size&&console.warn(...e)}const Xee=v0(),w0=v0();function Zee(e,t){Ie("AnimationState_AddTime",e,t)}function Qee(e){throw Ie("AnimationState_GetEnabled",e),Error("Not implemented")}function Jee(e){throw Ie("AnimationState_GetLength",e),Error("Not implemented")}function ete(e){throw Ie("AnimationState_GetLoop",e),Error("Not implemented")}function tte(e){throw Ie("AnimationState_GetTimePosition",e),Error("Not implemented")}function nte(e){throw Ie("AnimationState_GetWeight",e),Error("Not implemented")}function rte(e,t){Ie("AnimationState_SetEnabled",e,t)}function ote(e,t){Ie("AnimationState_SetLength",e,t)}function ite(e,t){Ie("AnimationState_SetLoop",e,t)}function ste(e,t){Ie("AnimationState_SetTimePosition",e,t)}function ate(e,t){Ie("AnimationState_SetWeight",e,t)}function lte(e,t,n,r,o){throw Ie("Billboard_GetColour",e,t,n,r,o),Error("Not implemented")}function cte(e,t,n,r){throw Ie("Billboard_GetPosition",e),Error("Not implemented")}function ute(e){throw Ie("Billboard_GetRotation",e),Error("Not implemented")}function dte(e,t,n,r,o){Ie("Billboard_SetColour",e,t,n,r,o)}function hte(e,t,n,r){Ie("Billboard_SetPosition",e,t,n,r)}function fte(e,t){Ie("Billboard_SetRotation",e,t)}function pte(e,t,n){return this.kernel.egor.createBillboardSet({name:t||"__BillboardSet_"+zee++,poolSize:n}).key??0}function gte(e,t,n,r){return this.kernel.egor.billboardSets.get(e)?.createBillboard(t,n,r).key??0}function mte(e){Ie("BillboardSet_Destroy",e)}function vte(e,t){throw Ie("BillboardSet_GetBillboard",e,t),Error("Not implemented")}function yte(e){throw Ie("BillboardSet_GetBillboardType",e),Error("Not implemented")}function bte(e,t,n,r){throw Ie("BillboardSet_GetCommonDirection",e,t,n,r),Error("Not implemented")}function wte(e,t,n,r){throw Ie("BillboardSet_GetCommonUpVector",e,t,n,r),Error("Not implemented")}function Ste(e,t,n){throw Ie("BillboardSet_GetDefaultDimensions",e,t,n),Error("Not implemented")}function Cte(e,t){throw Ie("BillboardSet_GetMaterialName",e,t),Error("Not implemented")}function xte(e){throw Ie("BillboardSet_GetNumBillboards",e),Error("Not implemented")}function _te(e,t){Ie("BillboardSet_RemoveBillboard",e,t)}function Ete(e,t){this.kernel.egor.billboardSets.get(e)?.setType(t)}function Tte(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonDirection(t,n,r)}function Mte(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonUpVector(t,n,r)}function Ote(e,t,n){this.kernel.egor.billboardSets.get(e)?.setDimensions(t,n)}function Rte(e,t){this.kernel.egor.billboardSets.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function Ite(e){throw Ie("Bone_GetManuallyControlled",e),Error("Not implemented")}function Pte(e){Ie("Bone_Reset",e)}function kte(e,t){Ie("Bone_SetManuallyControlled",e,t)}function Dte(e,t){return this.kernel.egor.scenes.get(e)?.createCamera({name:t||"__Camera_"+Uee++}).key??0}function Ate(e){Ie("Camera_Destroy",e)}function Lte(e){throw Ie("Camera_GetAspectRatio",e),Error("Not implemented")}function Nte(e){throw Ie("Camera_GetFarClipDistance",e),Error("Not implemented")}function Bte(e){throw Ie("Camera_GetFOV",e),Error("Not implemented")}function Fte(e){throw Ie("Camera_GetNearClipDistance",e),Error("Not implemented")}function jte(e){throw Ie("Camera_GetPolygonMode",e),Error("Not implemented")}function Vte(e){throw Ie("Camera_GetProjectionType",e),Error("Not implemented")}function $te(e,t){Ie("Camera_SetAspectRatio",e,t)}function zte(e,t){this.kernel.egor.cameras.get(e)?.set({farDist:t})}function Ute(e,t){Ie("Camera_SetFocalLength",e,t)}function Hte(e,t){this.kernel.egor.cameras.get(e)?.set({fov:t})}function Gte(e,t,n){Ie("Camera_SetFrustumOffset",e,t,n)}function Wte(e,t){this.kernel.egor.cameras.get(e)?.set({nearDist:t})}function Kte(e,t){Ie("Camera_SetPolygonMode",e,t)}function qte(e,t){Ie("Camera_SetProjectionType",e,t)}function Yte(e){return this.kernel.egorRayCastResult?.getEntry(e)?.distance||0}function Xte(e){return this.kernel.egorRayCastResult?.getEntry(e)?.movable.key||0}function Zte(){return this.kernel.egorRayCastResult?.length||0}function Qte(e,t,n,r,o,i,s){const a=this.kernel.egor.scenes.get(e);if(!a){this.kernel.egorRayCastResult=null;return}const{dir:c,origin:d}=w0;d[0]=t,d[1]=n,d[2]=r,c[0]=o,c[1]=i,c[2]=s,this.kernel.egorRayCastResult=a?.rayCast(w0)}function Jte(){this.kernel.egorRayCastResult?.sort()}function ene(e){throw Ie("Compositor_GetEnabled",e),Error("Not implemented")}function tne(e,t){Ie("Compositor_SetEnabled",e,t)}function nne(e,t,n){if(!n)return 0;const r=this.kernel.egor.scenes.get(e);if(!r)return 0;const o=this.kernel.egor.meshResByNameUC.get(n.toUpperCase());if(!o)throw Error(`Mesh не существует: '${n}'`);return r.createEntity(o,{name:t||"__Entity_"+Hee++}).key??0}function rne(e){this.kernel.egor.entities.get(e)?.destroy()}function one(e,t){throw Ie("Entity_GetAnimationState",e,t),Error("Not implemented")}function ine(e,t){throw Ie("Entity_GetBone",e,t),Error("Not implemented")}function sne(e,t){throw Ie("Entity_GetIndexCount",e,t),Error("Not implemented")}function ane(e,t,n){throw Ie("Entity_GetMaterial",e,t,n),Error("Not implemented")}function lne(e){return this.kernel.egor.entities.get(e)?.subEntities.length??0}function $D(e,t=0){const n=this.kernel.egor.entities.get(e);return n?t>=0?n.subEntity(t)?.vertexCount??0:n.subEntities.reduce((r,o)=>r+o.vertexCount,0):0}function cne(e,t,n){const r=this.kernel.egor.entities.get(e);if(!r)return;const o=this.kernel.egor.materialByName.get(n);o&&r.subEntity(t)?.setMaterial(o)}function une(e,t){return this.kernel.egor.createLight({name:t||"__Light_"+Gee++}).key??0}function dne(e){Ie("Light_Destroy",e)}function hne(e){throw Ie("Light_GetPowerScale",e),Error("Not implemented")}function fne(e,t,n,r,o){Ie("Light_SetAttenuation",e,t,n,r,o)}function pne(e,t,n,r){Ie("Light_SetDiffuseColour",e,t,n,r)}function gne(e,t){Ie("Light_SetPowerScale",e,t)}function mne(e,t,n,r){Ie("Light_SetSpecularColour",e,t,n,r)}function vne(e,t,n,r){Ie("Light_SetSpotlightRange",e,t,n,r)}function yne(e,t){Ie("Light_SetType",e,t)}function bne(e,t,n){const{egor:r}=this.kernel,o=r.manualObjects.get(e);if(!o)return;const i=r.materialByName.get(t)||null,s=o.createSection(n,i);this.kernel.egorManualObjectsSections.set(o,s)}function wne(e){this.kernel.egor.manualObjects.get(e)?.clear()}function Sne(e,t,n,r,o){Ie("ManualObject_Colour",e,t,n,r,o)}function Cne(e,t){Ie("ManualObject_ConvertToMesh",e,t)}function xne(e,t){return this.kernel.egor.scenes.get(e)?.createManualObject({name:t||"__ManualObject_"+Wee++}).key||0}function _ne(e){this.kernel.egor.manualObjects.get(e)?.destroy()}function Ene(e){const t=this.kernel.egor.manualObjects.get(e);if(!t)return;const n=this.kernel.egorManualObjectsSections.get(t);n&&(n.end(),this.kernel.egorManualObjectsSections.delete(t))}function Tne(e,t){Ie("ManualObject_EstimateIndexCount",e,t)}function Mne(e,t){Ie("ManualObject_EstimateVertexCount",e,t)}function One(e){throw Ie("ManualObject_GetDynamic",e),Error("Not implemented")}function Rne(e,t){Ie("ManualObject_Index",e,t)}function Ine(e,t,n,r){const o=this.kernel.egor.manualObjects.get(e);o&&this.kernel.egorManualObjectsSections.get(o)?.addNormal(t,n,r)}function Pne(e,t,n,r){const o=this.kernel.egor.manualObjects.get(e);o&&this.kernel.egorManualObjectsSections.get(o)?.addVertex(t,n,r)}function kne(e,t){Ie("ManualObject_SetDynamic",e,t)}function Dne(e,t,n){Ie("ManualObject_TextureCoord",e,t,n)}function Ane(e){return this.kernel.egor.createMaterial(e||"__Material_"+Kee++).key}function Lne(e){return e&&this.kernel.egor.materialByName.get(e)?.key||0}function Nne(e){throw Ie("Material_GetBestTechnique",e),Error("Not implemented")}function Bne(e,t){throw Ie("Material_GetName",e,t),Error("Not implemented")}function Fne(e,t){return this.kernel.egor.materialByKey.get(e)?.tech(t)?.key??0}function jne(e,t){throw Ie("Material_GetTechniqueByName",e,t),Error("Not implemented")}function Vne(e,t,n,r,o,i,s){throw Ie("Movable_GetBoundingBox",e,t,n,r,o,i,s),Error("Not implemented")}function $ne(e){throw Ie("Movable_GetCastShadows",e),Error("Not implemented")}function zne(e,t,n){const r=this.kernel.egor.movables.get(e);r&&(t[n]=r.name)}function Une(e){return this.kernel.egor.movables.get(e)?.node?.key??0}function Hne(e){const t=this.kernel.egor.movables.get(e);return t?t.visible?1:0:-1}function Gne(e,t){Ie("Movable_SetCastShadows",e,t)}function Wne(e,t){const n=this.kernel.egor.movables.get(e);n&&this.kernel.egor.sceneNodes.get(t)?.attach(n)}function Kne(e,t){this.kernel.egor.movables.get(e)?.setVisible(!!t)}function qne(e,t,n){return this.kernel.egor.createMovableText(t,{name:e||"__MovableText_"+qee++,fontName:n}).key}function Yne(e){Ie("MovableText_Destroy",e)}function Xne(e,t){throw Ie("MovableText_GetCaption",e,t),Error("Not implemented")}function Zne(e){throw Ie("MovableText_GetCharacterHeight",e),Error("Not implemented")}function Qne(e,t,n,r,o){throw Ie("MovableText_GetColor",e,t,n,r,o),Error("Not implemented")}function Jne(e,t){throw Ie("MovableText_GetFontName",e,t),Error("Not implemented")}function ere(e,t,n,r){throw Ie("MovableText_GetGlobalTranslation",e,t,n,r),Error("Not implemented")}function tre(e,t,n,r){throw Ie("MovableText_GetLocalTranslation",e,t,n,r),Error("Not implemented")}function nre(e){throw Ie("MovableText_GetSpaceWidth",e),Error("Not implemented")}function rre(e,t,n){throw Ie("MovableText_GetTextAlignment",e,t,n),Error("Not implemented")}function ore(e,t){Ie("MovableText_SetCaption",e,t)}function ire(e,t){this.kernel.egor.movableTexts.get(e)?.setCharHeight(t)}function sre(e,t,n,r,o){Ie("MovableText_SetColor",e,t,n,r,o)}function are(e,t){Ie("MovableText_SetFontName",e,t)}function lre(e,t,n,r){Ie("MovableText_SetGlobalTranslation",e,t,n,r)}function cre(e,t,n,r){Ie("MovableText_SetLocalTranslation",e,t,n,r)}function ure(e,t){Ie("MovableText_SetSpaceWidth",e,t)}function dre(e,t,n){Ie("MovableText_SetTextAlignment",e,t,n)}function hre(e,t){Ie("Node_AddChild",e,t)}function fre(e,t){return this.kernel.egor.nodes.get(e)?.getChild(t)?.key||0}function pre(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldPosition();t[n]=c[0],r[o]=c[1],i[s]=c[2]}function gre(e,t,n,r,o,i,s,a,c){const d=this.kernel.egor.nodes.get(e);if(!d)return;const h=d.getWorldRotation();r[o]=h[0],i[s]=h[1],a[c]=h[2],t[n]=h[3]}function mre(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldScale();t[n]=c[0],r[o]=c[1],i[s]=c[2]}function vre(e,t,n){t[n]=this.kernel.egor.nodes.get(e)?.name??""}function yre(e){return this.kernel.egor.nodes.get(e)?.children.length??-1}function bre(e){throw Ie("Node_GetParent",e),Error("Not implemented")}function wre(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);a&&(t[n]=a.position[0],r[o]=a.position[1],i[s]=a.position[2])}function Sre(e,t,n,r,o,i,s,a,c){const d=this.kernel.egor.nodes.get(e);d&&(r[o]=d.rotation[0],i[s]=d.rotation[1],a[c]=d.rotation[2],t[n]=d.rotation[3])}function Cre(e,t,n,r,o,i,s){const a=this.kernel.egor.nodes.get(e);a&&(t[n]=a.scale[0],r[o]=a.scale[1],i[s]=a.scale[2])}function xre(e,t){Ie("Node_RemoveChild",e,t)}function _re(e,t){const n=this.kernel.egor.nodes.get(t);if(!n)return;const r=this.kernel.egor.nodes.get(e);r&&n.addChild(r)}function Ere(e,t,n,r){this.kernel.egor.nodes.get(e)?.setPosition(t,n,r)}function Tre(e,t,n,r,o){throw Ie("Node_SetRotationAxis",e,t,n,r,o),Error("Node_SetRotationAxis")}function Mre(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateX(t).rotateY(n).rotateZ(r)}function Ore(e,t,n,r){throw Error()}function Rre(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateY(t).rotateX(n).rotateZ(r)}function Ire(e,t,n,r){throw Error()}function Pre(e,t,n,r){throw Error()}function kre(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateZ(t).rotateY(n).rotateX(r)}function Dre(e,t,n,r,o){this.kernel.egor.nodes.get(e)?.setRotation(n,r,o,t)}function Are(e,t,n,r){this.kernel.egor.nodes.get(e)?.setScale(t,n,r)}function Lre(e,t){const n=this.kernel.egor.overlays.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function Nre(e){return this.kernel.egor.createOverlay(e).key}function Bre(e,t,n){throw Ie("Overlay_FindElementAt",e,t,n),Error("Not implemented")}function Fre(e){if(!e)return 0;for(const t of this.kernel.egor.overlays.values())if(t.name===e)return t.key;return 0}function jre(e,t){throw Ie("Overlay_GetName",e,t),Error("Not implemented")}function Vre(e){throw Ie("Overlay_GetRotate",e),Error("Not implemented")}function $re(e,t,n){throw Ie("Overlay_GetScale",e,t,n),Error("Not implemented")}function zre(e,t,n){throw Ie("Overlay_GetScroll",e,t,n),Error("Not implemented")}function Ure(e){throw Ie("Overlay_GetVisible",e),Error("Not implemented")}function Hre(e){throw Ie("Overlay_GetZOrder",e),Error("Not implemented")}function Gre(e,t){Ie("Overlay_RemoveChild",e,t)}function Wre(e,t){Ie("Overlay_SetRotate",e,t)}function Kre(e,t,n){this.kernel.egor.overlays.get(e)?.setScale(t,n)}function qre(e,t,n){Ie("Overlay_SetScroll",e,t,n)}function Yre(e,t){this.kernel.egor.overlays.get(e)?.setVisible(!!t)}function Xre(e,t){this.kernel.egor.overlays.get(e)?.setZ(t)}function Zre(e,t){const n=this.kernel.egor.overlayElements.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function Qre(e,t){throw Ie("OverlayContainer_GetChild",e,t),Error("Not implemented")}function Jre(e){throw Ie("OverlayContainer_GetChildCount",e),Error("Not implemented")}function eoe(e,t){Ie("OverlayContainer_RemoveChild",e,t)}function toe(e,t){if(e!=="BorderPanel"&&e!=="Panel"&&e!=="TextArea")throw Error(`Неизвестный тип OverlayElement: '${e}'`);return this.kernel.egor.createOverlayElement(e,{name:t}).key}function noe(e){if(!e)return 0;for(const t of this.kernel.egor.overlayElements.values())if(t.name===e)return t.key;return 0}function roe(e,t,n,r,o){const i=this.kernel.egor.overlayElements.get(e);t[n]=i?.horAlign??0,r[o]=i?.vertAlign??0}function ooe(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.caption??""}function ioe(e,t,n,r,o){throw Ie("OverlayElement_GetColour",e,t,n,r,o),Error("Not implemented")}function soe(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.material?.name??""}function aoe(e){return this.kernel.egor.overlayElements.get(e)?.metricsMode??0}function loe(e){return this.kernel.egor.overlayElements.get(e)?.parent?.key??0}function coe(e,t,n,r,o){const i=this.kernel.egor.overlayElements.get(e);t[n]=i?.x??0,r[o]=i?.y??0}function uoe(e,t,n,r,o){const i=this.kernel.egor.overlayElements.get(e);t[n]=i?.width??0,r[o]=i?.height??0}function doe(e){const t=this.kernel.egor.overlayElements.get(e);return t?t.visible?1:0:-1}function hoe(e){throw Ie("OverlayElement_IsContainer",e),Error("Not implemented")}function foe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setAlignment(t,n)}function poe(e,t){this.kernel.egor.overlayElements.get(e)?.setCaption(t)}function goe(e,t,n,r,o){this.kernel.egor.overlayElements.get(e)?.setColor(t,n,r,o)}function moe(e,t){this.kernel.egor.overlayElements.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function voe(e,t){this.kernel.egor.overlayElements.get(e)?.setMetricsMode(t)}function yoe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setPosition(t,n)}function boe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setSize(t,n)}function woe(e,t){this.kernel.egor.overlayElements.get(e)?.setVisible(!!t)}function Soe(e,t,n){throw Ie("ParticleSystem_Create",e,t,n),Error("Not implemented")}function Coe(e,t,n){throw Ie("ParticleSystem_CreateEx",e,t,n),Error("Not implemented")}function xoe(e){Ie("ParticleSystem_Destroy",e)}function _oe(e,t){Ie("ParticleSystem_GetName",e,t)}function Eoe(e){throw Ie("ParticleSystem_GetParent",e),Error("Not implemented")}function Toe(e){throw Ie("ParticleSystem_GetVisible",e),Error("Not implemented")}function Moe(e,t){Ie("ParticleSystem_SetParent",e,t)}function Ooe(e,t){Ie("ParticleSystem_SetVisible",e,t)}function Roe(e,t){throw Ie("Pass_Create",e,t),Error("Not implemented")}function Ioe(e,t,n){throw Ie("Pass_GetAlphaRejectSettings",e,t,n),Error("Not implemented")}function Poe(e,t,n,r,o){throw Ie("Pass_GetAmbient",e,t,n,r,o),Error("Not implemented")}function koe(e){throw Ie("Pass_GetColourWriteEnabled",e),Error("Not implemented")}function Doe(e){throw Ie("Pass_GetCullingMode",e),Error("Not implemented")}function Aoe(e){throw Ie("Pass_GetDepthCheckEnabled",e),Error("Not implemented")}function Loe(e){throw Ie("Pass_GetDepthFunction",e),Error("Not implemented")}function Noe(e){throw Ie("Pass_GetDepthWriteEnabled",e),Error("Not implemented")}function Boe(e,t,n,r,o){throw Ie("Pass_GetDiffuse",e,t,n,r,o),Error("Not implemented")}function Foe(e){throw Ie("Pass_GetLightingEnabled",e),Error("Not implemented")}function joe(e){throw Ie("Pass_GetPolygonMode",e),Error("Not implemented")}function Voe(e,t,n){throw Ie("Pass_GetSceneBlending",e,t,n),Error("Not implemented")}function $oe(e,t,n,r,o){throw Ie("Pass_GetSelfIllumination",e,t,n,r,o),Error("Not implemented")}function zoe(e){throw Ie("Pass_GetShadingMode",e),Error("Not implemented")}function Uoe(e){throw Ie("Pass_GetShininess",e),Error("Not implemented")}function Hoe(e,t,n,r,o){throw Ie("Pass_GetSpecular",e,t,n,r,o),Error("Not implemented")}function Goe(e,t){throw Ie("Pass_GetTextureUnitStateByIndex",e,t),Error("Not implemented")}function Woe(e,t){throw Ie("Pass_GetTextureUnitStateByName",e,t),Error("Not implemented")}function Koe(e,t,n){Ie("Pass_SetAlphaRejectSettings",e,t,n)}function qoe(e,t,n,r){this.kernel.egor.passes.get(e)?.setAmbient(t,n,r)}function Yoe(e,t){Ie("Pass_SetColourWriteEnabled",e,t)}function Xoe(e,t){Ie("Pass_SetCullingMode",e,t)}function Zoe(e,t){this.kernel.egor.passes.get(e)?.setDepthCheckEnabled(!!t)}function Qoe(e,t){Ie("Pass_SetDepthFunction",e,t)}function Joe(e,t){this.kernel.egor.passes.get(e)?.setDepthWriteEnabled(!!t)}function eie(e,t,n,r,o){this.kernel.egor.passes.get(e)?.setDiffuse(t,n,r,o)}function tie(e,t){this.kernel.egor.passes.get(e)?.setLightingEnabled(!!t)}function nie(e,t){Ie("Pass_SetPolygonMode",e,t)}function rie(e,t,n){this.kernel.egor.passes.get(e)?.setSceneBlending(t,n)}function oie(e,t,n,r){this.kernel.egor.passes.get(e)?.setEmissive(t,n,r)}function iie(e,t){this.kernel.egor.passes.get(e)?.setShadingMode(t)}function sie(e,t){this.kernel.egor.passes.get(e)?.setShininess(t)}function aie(e,t,n,r,o){this.kernel.egor.passes.get(e)?.setSpecular(t,n,r,o)}function lie(e,t,n){throw Ie("RenderTexture_Create",e,t,n),Error("Not implemented")}function cie(e){Ie("RenderTexture_Destroy",e)}function zD(e,t,n,r){const o=e.createRenderWindow(n,r);return t.createFrame(o.domElement).onDisposed.add(o.close.bind(o)),o[jD]=t,o}function uie(e){const t=this.kernel.scenes.get(e);if(!t)throw Error("Внешние 3D окна не поддерживаются");return zD(this.kernel.egor,t,t.getClientWidth(),t.getClientHeight()).key}function die(e,t,n,r){const o=this.kernel.scenes.get(e);if(!o)throw Error("Внешние 3D окна не поддерживаются");return zD(this.kernel.egor,o,n,r).key}function hie(e,t,n,r){throw Ie("RenderWindow_CreateEx",e,t,n,r),Error("Not implemented")}function fie(e){Ie("RenderWindow_Destroy",e)}function pie(e){throw Ie("RenderWindow_Get",e),Error("Not implemented")}function gie(){throw Ie("RenderWindow_GetCount"),Error("Not implemented")}function mie(e){throw Ie("RenderWindow_GetCursorHovered",e),Error("Not implemented")}function vie(e,t,n,r,o){const i=this.kernel.egor.windows.get(e)?.[jD];t[n]=i?.mouseX??0,r[o]=i?.mouseY??0}function yie(e,t){return b0(t)?1:0}function bie(e,t){const n=t===0?"left":t===1?"right":t===2?"middle":null;return b0(n==="left"?1:n==="right"?2:4)?1:0}function wie(e,t,n,r,o){const i=this.kernel.egor.windows.get(e);t[n]=i?.x??0,r[o]=i?.y??0}function Sie(){return this.kernel.egor.primaryWindow?.key??0}function Cie(e,t,n,r,o){const i=this.kernel.egor.windows.get(e);t[n]=i?.width??0,r[o]=i?.height??0}function xie(e,t){throw Ie("RenderWindow_GetViewport",e,t),Error("Not implemented")}function _ie(e){return this.kernel.egor.windows.get(e)?.viewports.size??0}function Eie(e){return this.kernel.egor.windows.get(e)?.wheelPosition??0}function Tie(e,t,n){Ie("RenderWindow_SetPosition",e,t,n)}function Mie(e,t,n){Ie("RenderWindow_SetSize",e,t,n)}function Oie(e){throw Ie("RenderWindow_ToggleFullscreen",e),Error("Not implemented")}function Rie(e,t,n,r){Ie("Root_AddResourceLocation",e,t,n,r)}function Iie(e){Bk(this.prj.dir.resolve(e))?.split(`\r
`).forEach(n=>{const r=n.trim().toUpperCase();if(!r.startsWith("FILESYSTEM")&&!r.startsWith("ZIP"))return;const o=r.split("=")[1].trim();this.prj.dir.resolve(o).forEach(s=>{if(s.image){const a=s.path.basename(),c=this.kernel.egor.createImage(s.image,a);c.meta=s.path.toString();return}if(s.mesh){const a=s.path.basename(),c=this.kernel.egor.createMesh(s.mesh,a);c.meta=s.path.toString();return}if(s.base64){const a=s.path.basename().toUpperCase(),c=Bk(s.path);if(a.endsWith(".MATERIAL")){const d=c.split(`
`).map(h=>h.trim());for(let h=0;h<d.length;h++){const f=d[h],g=f.startsWith("material ")&&f.replace("material ","").split('"').join("");if(!g)continue;const y=this.kernel.egor.createMaterial(g).techs[0].passes[0];for(let b=h+1;b<d.length;b++){const v=d[b];if(v==="}")break;const S=v.startsWith("shading ")&&v.replace("shading ","");if(S){const N=S.toLowerCase()==="phong"?et.SO_PHONG:et.SO_GOURAUD;y.setShadingMode(N);continue}const E=v.startsWith("ambient ")&&v.replace("ambient ","");if(E){const N=E.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setAmbient(...N);continue}const T=v.startsWith("diffuse ")&&v.replace("diffuse ","");if(T){const N=T.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setDiffuse(...N);continue}const R=v.startsWith("specular ")&&v.replace("specular ","");if(R){const N=R.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setSpecular(...N),N.length>4&&y.setShininess(N[4]);continue}const M=v.startsWith("emissive ")&&v.replace("emissive ","");if(M){const N=M.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setEmissive(...N),N.length>4&&y.setShininess(N[4]);continue}if(v.startsWith("texture_unit"))for(let N=b+1;N<d.length;N++){const P=d[N];if(P==="}")break;const L=P.startsWith("texture ")&&P.replace("texture ","");if(L){const A=L.toUpperCase();y.createTextureUnit().setTextureName(A);continue}}}}}}},!1)})}function Pie(){}function kie(){Ie("Root_Destroy")}function Die(){throw Ie("Root_GetTime"),Error("Not implemented")}function Aie(){}function Lie(){}function Nie(){return 1}function Bie(){return this.kernel.egorShouldRender=!0,1}function Fie(){return 1}function jie(){Ie("Root_SaveConfig")}function Vie(){return 1}function $ie(e){Ie("Scene_Clear",e)}function zie(e){if(e!=="OctreeSceneManager"&&e!=="BSPSceneManager"&&e!=="TerrainSceneManager")throw Error(`Неподдерживаемый тип сцены: ${e}`);return this.kernel.egor.createScene().key}function Uie(e){Ie("Scene_Destroy",e)}function Hie(e,t){throw Ie("Scene_GetCamera",e,t),Error("Not implemented")}function Gie(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.entities.values())if(r.scene===n&&r.name===t)return r.key;return 0}function Wie(e,t){throw Ie("Scene_GetLight",e,t),Error("Not implemented")}function Kie(e,t){throw Ie("Scene_GetParticleSystem",e,t),Error("Not implemented")}function qie(e){return this.kernel.egor.scenes.get(e)?.root.key??0}function Yie(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.sceneNodes.values())if(r.scene===n&&r.name===t)return r.key;return 0}function Xie(e){throw Ie("Scene_GetShadowTechnique",e),Error("Not implemented")}function Zie(e,t){Ie("Scene_Load",e,t)}function Qie(e,t,n,r){this.kernel.egor.scenes.get(e)?.setAmbient(t,n,r)}function Jie(e,t,n,r,o,i,s,a){Ie("Scene_SetFog",e,t,n,r,o,i,s,a)}function ese(e,t){Ie("Scene_SetShadowTechnique",e,t)}function tse(e,t,n,r){e&&Ie("Scene_SetSkyBox",e,t,n,r)}function nse(e,t){Ie("Scene_SetWorldGeometry",e,t)}function rse(e,t){Ie("SceneNode_AttachObject",e,t)}function ose(e,t){return this.kernel.egor.scenes.get(e)?.createSceneNode({name:t||"__SceneNode_"+Yee++}).key??0}function ise(e){this.kernel.egor.sceneNodes.get(e)?.destroy()}function sse(e,t){Ie("SceneNode_DetachObject",e,t)}function ase(e){return this.kernel.egor.sceneNodes.get(e)?.movables.length??-1}function lse(e,t){return this.kernel.egor.sceneNodes.get(e)?.getMovable(t)?.key||0}function cse(e){throw Ie("SceneNode_GetScene",e),Error("Not implemented")}function use(e,t,n,r,o){this.kernel.egor.sceneNodes.get(e)?.setAutoTracking(this.kernel.egor.sceneNodes.get(t)??null,n,r,o)}function dse(e,t,n){const r=this.kernel.egor.sceneNodes.get(e);if(!r)return;const o=!!t;if(!n){r.movables.forEach(i=>i.setVisible(o));return}(function i(s){s.movables.forEach(a=>a.setVisible(o)),s.children.forEach(a=>i(a))})(r)}function hse(e,t,n){Ie("StringInterface_GetParameter",e,t,n)}function fse(e){throw Ie("StringInterface_GetParameterCount",e),Error("Not implemented")}function pse(e,t,n){Ie("StringInterface_GetParameterDescription",e,t,n)}function gse(e,t,n){Ie("StringInterface_GetParameterName",e,t,n)}function mse(e,t){throw Ie("StringInterface_GetParameterType",e,t),Error("Not implemented")}function vse(e,t,n){const r=this.kernel.egor.overlayElements.get(e);r&&r.setParam(t,n)}function yse(e,t){throw Ie("Technique_Create",e,t),Error("Not implemented")}function bse(e,t){return this.kernel.egor.techniques.get(e)?.pass(t)?.key??0}function wse(e,t){throw Ie("Technique_GetPassByName",e,t),Error("Not implemented")}function Sse(e,t){return this.kernel.egor.passes.get(e)?.createTextureUnit(t).key??0}function Cse(e,t,n){Ie("TextureUnitState_GetTexture",e,t,n)}function xse(e,t,n){this.kernel.egor.texUnits.get(e)?.setTexture(this.kernel.egor.imageResByNameUC.get(t.toUpperCase())??null,n)}function _se(e,t,n){throw Ie("Viewport_AddCompositor",e,t,n),Error("Not implemented")}function Ese(e,t,n){const r=this.kernel.egor.cameras.get(t);return r?this.kernel.egor.windows.get(e)?.createViewport(r,n).key??0:0}function Tse(e){Ie("Viewport_Destroy",e)}function Mse(e,t,n,r){throw Ie("Viewport_GetBackgroundColour",e,t,n,r),Error("Not implemented")}function Ose(e){throw Ie("Viewport_GetCamera",e),Error("Not implemented")}function Rse(e,t){throw Ie("Viewport_GetCompositor",e,t),Error("Not implemented")}function Ise(e,t,n,r,o){throw Ie("Viewport_GetDimensions",e,t,n,r,o),Error("Not implemented")}function Pse(e){throw Ie("Viewport_GetNumCompositors",e),Error("Not implemented")}function kse(e){throw Ie("Viewport_GetOverlaysEnabled",e),Error("Not implemented")}function Dse(e,t,n,r,o,i,s,a,c,d,h,f,g,m,y){const{origin:b,dir:v}=this.kernel.egor.viewports.get(e)?.camera.getRay(t,n,w0)||Xee;r[o]=b[0],i[s]=b[1],a[c]=b[2],d[h]=v[0],f[g]=v[1],m[y]=v[2]}function Ase(e,t){Ie("Viewport_RemoveCompositor",e,t)}function Lse(e,t,n,r){this.kernel.egor.viewports.get(e)?.setBackground(t,n,r)}function Nse(e,t){const n=this.kernel.egor.cameras.get(t);n&&this.kernel.egor.viewports.get(e)?.setCamera(n)}function Bse(e,t,n,r,o){Ie("Viewport_SetDimensions",e,t,n,r,o)}function Fse(e,t){this.kernel.egor.viewports.get(e)?.enableOverlays(!!t)}function jse(e){e("AnimationState_AddTime",{a:[D,k]},Zee),e("AnimationState_GetEnabled",{a:[D],r:k},Qee),e("AnimationState_GetLength",{a:[D],r:k},Jee),e("AnimationState_GetLoop",{a:[D],r:k},ete),e("AnimationState_GetTimePosition",{a:[D],r:k},tte),e("AnimationState_GetWeight",{a:[D],r:k},nte),e("AnimationState_SetEnabled",{a:[D,k]},rte),e("AnimationState_SetLength",{a:[D,k]},ote),e("AnimationState_SetLoop",{a:[D,k]},ite),e("AnimationState_SetTimePosition",{a:[D,k]},ste),e("AnimationState_SetWeight",{a:[D,k]},ate),e("Billboard_GetColour",{a:[D,Ye,Ye,Ye,Ye]},lte),e("Billboard_GetPosition",{a:[D,Ye,Ye,Ye]},cte),e("Billboard_GetRotation",{a:[D],r:k},ute),e("Billboard_SetColour",{a:[D,k,k,k,k]},dte),e("Billboard_SetPosition",{a:[D,k,k,k]},hte),e("Billboard_SetRotation",{a:[D,k]},fte),e("BillboardSet_Create",{a:[D,fe,k],r:D},pte),e("BillboardSet_CreateBillboard",{a:[D,k,k,k],r:D},gte),e("BillboardSet_Destroy",{a:[D]},mte),e("BillboardSet_GetBillboard",{a:[D,k],r:D},vte),e("BillboardSet_GetBillboardType",{a:[D],r:k},yte),e("BillboardSet_GetCommonDirection",{a:[D,Ye,Ye,Ye]},bte),e("BillboardSet_GetCommonUpVector",{a:[D,Ye,Ye,Ye]},wte),e("BillboardSet_GetDefaultDimensions",{a:[D,Ye,Ye]},Ste),e("BillboardSet_GetMaterialName",{a:[D,Uo]},Cte),e("BillboardSet_GetNumBillboards",{a:[D],r:k},xte),e("BillboardSet_RemoveBillboard",{a:[D,D]},_te),e("BillboardSet_SetBillboardType",{a:[D,k]},Ete),e("BillboardSet_SetCommonDirection",{a:[D,k,k,k]},Tte),e("BillboardSet_SetCommonUpVector",{a:[D,k,k,k]},Mte),e("BillboardSet_SetDefaultDimensions",{a:[D,k,k]},Ote),e("BillboardSet_SetMaterialName",{a:[D,fe]},Rte),e("Bone_GetManuallyControlled",{a:[D],r:k},Ite),e("Bone_Reset",{a:[D]},Pte),e("Bone_SetManuallyControlled",{a:[D,k]},kte),e("Camera_Create",{a:[D,fe],r:D},Dte),e("Camera_Destroy",{a:[D]},Ate),e("Camera_GetAspectRatio",{a:[D],r:k},Lte),e("Camera_GetFarClipDistance",{a:[D],r:k},Nte),e("Camera_GetFOV",{a:[D],r:k},Bte),e("Camera_GetNearClipDistance",{a:[D],r:k},Fte),e("Camera_GetPolygonMode",{a:[D],r:k},jte),e("Camera_GetProjectionType",{a:[D],r:k},Vte),e("Camera_SetAspectRatio",{a:[D,k]},$te),e("Camera_SetFarClipDistance",{a:[D,k]},zte),e("Camera_SetFocalLength",{a:[D,k]},Ute),e("Camera_SetFOV",{a:[D,k]},Hte),e("Camera_SetFrustumOffset",{a:[D,k,k]},Gte),e("Camera_SetNearClipDistance",{a:[D,k]},Wte),e("Camera_SetPolygonMode",{a:[D,k]},Kte),e("Camera_SetProjectionType",{a:[D,k]},qte),e("Collision_GetDistance",{a:[k],r:k},Yte),e("Collision_GetObject",{a:[k],r:D},Xte),e("Collision_GetResultCount",{r:k},Zte),e("Collision_RayCast",{a:[D,k,k,k,k,k,k]},Qte),e("Collision_Sort",{},Jte),e("Compositor_GetEnabled",{a:[D],r:k},ene),e("Compositor_SetEnabled",{a:[D,k]},tne),e("Entity_Create",{a:[D,fe,fe],r:D},nne),e("Entity_Destroy",{a:[D]},rne),e("Entity_GetAnimationState",{a:[D,fe],r:D},one),e("Entity_GetBone",{a:[D,fe],r:D},ine),e("Entity_GetIndexCount",{a:[D,k],r:k},sne),e("Entity_GetMaterial",{a:[D,k,Uo]},ane),e("Entity_GetSubEntityCount",{a:[D],r:k},lne),e("Entity_GetVertexCount",{a:[D],r:k},$D),e("Entity_GetVertexCount",{a:[D,k],r:k},$D),e("Entity_SetMaterial",{a:[D,k,fe]},cne),e("Light_Create",{a:[D,fe],r:D},une),e("Light_Destroy",{a:[D]},dne),e("Light_GetPowerScale",{a:[D],r:k},hne),e("Light_SetAttenuation",{a:[D,k,k,k,k]},fne),e("Light_SetDiffuseColour",{a:[D,k,k,k]},pne),e("Light_SetPowerScale",{a:[D,k]},gne),e("Light_SetSpecularColour",{a:[D,k,k,k]},mne),e("Light_SetSpotlightRange",{a:[D,k,k,k]},vne),e("Light_SetType",{a:[D,k]},yne),e("ManualObject_Begin",{a:[D,fe,k]},bne),e("ManualObject_Clear",{a:[D]},wne),e("ManualObject_Colour",{a:[D,k,k,k,k]},Sne),e("ManualObject_ConvertToMesh",{a:[D,fe]},Cne),e("ManualObject_Create",{a:[D,fe],r:D},xne),e("ManualObject_Destroy",{a:[D]},_ne),e("ManualObject_End",{a:[D]},Ene),e("ManualObject_EstimateIndexCount",{a:[D,k]},Tne),e("ManualObject_EstimateVertexCount",{a:[D,k]},Mne),e("ManualObject_GetDynamic",{a:[D],r:k},One),e("ManualObject_Index",{a:[D,k]},Rne),e("ManualObject_Normal",{a:[D,k,k,k]},Ine),e("ManualObject_Position",{a:[D,k,k,k]},Pne),e("ManualObject_SetDynamic",{a:[D,k]},kne),e("ManualObject_TextureCoord",{a:[D,k,k]},Dne),e("Material_Create",{a:[fe],r:D},Ane),e("Material_Get",{a:[fe],r:D},Lne),e("Material_GetBestTechnique",{a:[D],r:D},Nne),e("Material_GetName",{a:[D,Uo]},Bne),e("Material_GetTechniqueByIndex",{a:[D,k],r:D},Fne),e("Material_GetTechniqueByName",{a:[D,fe],r:D},jne),e("Movable_GetBoundingBox",{a:[D,Ye,Ye,Ye,Ye,Ye,Ye]},Vne),e("Movable_GetCastShadows",{a:[D],r:k},$ne),e("Movable_GetName",{a:[D,Uo]},zne),e("Movable_GetParent",{a:[D],r:D},Une),e("Movable_GetVisible",{a:[D],r:k},Hne),e("Movable_SetCastShadows",{a:[D,k]},Gne),e("Movable_SetParent",{a:[D,D]},Wne),e("Movable_SetVisible",{a:[D,k]},Kne),e("MovableText_Create",{a:[fe,fe,fe],r:D},qne),e("MovableText_Destroy",{a:[D]},Yne),e("MovableText_GetCaption",{a:[D,Uo]},Xne),e("MovableText_GetCharacterHeight",{a:[D],r:k},Zne),e("MovableText_GetColor",{a:[D,Ye,Ye,Ye,Ye]},Qne),e("MovableText_GetFontName",{a:[D,Uo]},Jne),e("MovableText_GetGlobalTranslation",{a:[D,Ye,Ye,Ye]},ere),e("MovableText_GetLocalTranslation",{a:[D,Ye,Ye,Ye]},tre),e("MovableText_GetSpaceWidth",{a:[D],r:k},nre),e("MovableText_GetTextAlignment",{a:[D,Ye,Ye]},rre),e("MovableText_SetCaption",{a:[D,fe]},ore),e("MovableText_SetCharacterHeight",{a:[D,k]},ire),e("MovableText_SetColor",{a:[D,k,k,k,k]},sre),e("MovableText_SetFontName",{a:[D,fe]},are),e("MovableText_SetGlobalTranslation",{a:[D,k,k,k]},lre),e("MovableText_SetLocalTranslation",{a:[D,k,k,k]},cre),e("MovableText_SetSpaceWidth",{a:[D,k]},ure),e("MovableText_SetTextAlignment",{a:[D,k,k]},dre),e("Node_AddChild",{a:[D,D]},hre),e("Node_GetChild",{a:[D,k],r:D},fre),e("Node_GetDerivedPosition",{a:[D,Ye,Ye,Ye]},pre),e("Node_GetDerivedRotationQuaternion",{a:[D,Ye,Ye,Ye,Ye]},gre),e("Node_GetDerivedScale",{a:[D,Ye,Ye,Ye]},mre),e("Node_GetName",{a:[D,Uo]},vre),e("Node_GetNumChildren",{a:[D],r:k},yre),e("Node_GetParent",{a:[D],r:D},bre),e("Node_GetPosition",{a:[D,Ye,Ye,Ye]},wre),e("Node_GetRotationQuaternion",{a:[D,Ye,Ye,Ye,Ye]},Sre),e("Node_GetScale",{a:[D,Ye,Ye,Ye]},Cre),e("Node_RemoveChild",{a:[D,D]},xre),e("Node_SetParent",{a:[D,D]},_re),e("Node_SetPosition",{a:[D,k,k,k]},Ere),e("Node_SetRotationAxis",{a:[D,k,k,k,k]},Tre),e("Node_SetRotationEulerXYZ",{a:[D,k,k,k]},Mre),e("Node_SetRotationEulerXZY",{a:[D,k,k,k]},Ore),e("Node_SetRotationEulerYXZ",{a:[D,k,k,k]},Rre),e("Node_SetRotationEulerYZX",{a:[D,k,k,k]},Ire),e("Node_SetRotationEulerZXY",{a:[D,k,k,k]},Pre),e("Node_SetRotationEulerZYX",{a:[D,k,k,k]},kre),e("Node_SetRotationQuaternion",{a:[D,k,k,k,k]},Dre),e("Node_SetScale",{a:[D,k,k,k]},Are),e("Overlay_AddChild",{a:[D,D]},Lre),e("Overlay_Create",{a:[fe],r:D},Nre),e("Overlay_FindElementAt",{a:[D,k,k],r:D},Bre),e("Overlay_Get",{a:[fe],r:D},Fre),e("Overlay_GetName",{a:[D,Uo]},jre),e("Overlay_GetRotate",{a:[D],r:k},Vre),e("Overlay_GetScale",{a:[D,Ye,Ye]},$re),e("Overlay_GetScroll",{a:[D,Ye,Ye]},zre),e("Overlay_GetVisible",{a:[D],r:k},Ure),e("Overlay_GetZOrder",{a:[D],r:k},Hre),e("Overlay_RemoveChild",{a:[D,D]},Gre),e("Overlay_SetRotate",{a:[D,k]},Wre),e("Overlay_SetScale",{a:[D,k,k]},Kre),e("Overlay_SetScroll",{a:[D,k,k]},qre),e("Overlay_SetVisible",{a:[D,k]},Yre),e("Overlay_SetZOrder",{a:[D,k]},Xre),e("OverlayContainer_AddChild",{a:[D,D]},Zre),e("OverlayContainer_GetChild",{a:[D,k],r:D},Qre),e("OverlayContainer_GetChildCount",{a:[D],r:k},Jre),e("OverlayContainer_RemoveChild",{a:[D,D]},eoe),e("OverlayElement_Create",{a:[fe,fe],r:D},toe),e("OverlayElement_Get",{a:[fe],r:D},noe),e("OverlayElement_GetAlignment",{a:[D,Ye,Ye]},roe),e("OverlayElement_GetCaption",{a:[D,Uo]},ooe),e("OverlayElement_GetColour",{a:[D,Ye,Ye,Ye,Ye]},ioe),e("OverlayElement_GetMaterialName",{a:[D,Uo]},soe),e("OverlayElement_GetMetricsMode",{a:[D],r:k},aoe),e("OverlayElement_GetParent",{a:[D],r:D},loe),e("OverlayElement_GetPosition",{a:[D,Ye,Ye]},coe),e("OverlayElement_GetSize",{a:[D,Ye,Ye]},uoe),e("OverlayElement_GetVisible",{a:[D],r:k},doe),e("OverlayElement_IsContainer",{a:[D],r:k},hoe),e("OverlayElement_SetAlignment",{a:[D,k,k]},foe),e("OverlayElement_SetCaption",{a:[D,fe]},poe),e("OverlayElement_SetColour",{a:[D,k,k,k,k]},goe),e("OverlayElement_SetMaterialName",{a:[D,fe]},moe),e("OverlayElement_SetMetricsMode",{a:[D,k]},voe),e("OverlayElement_SetPosition",{a:[D,k,k]},yoe),e("OverlayElement_SetSize",{a:[D,k,k]},boe),e("OverlayElement_SetVisible",{a:[D,k]},woe),e("ParticleSystem_Create",{a:[D,fe,fe],r:D},Soe),e("ParticleSystem_CreateEx",{a:[D,fe,fe],r:D},Coe),e("ParticleSystem_Destroy",{a:[D]},xoe),e("ParticleSystem_GetName",{a:[D,fe]},_oe),e("ParticleSystem_GetParent",{a:[D],r:D},Eoe),e("ParticleSystem_GetVisible",{a:[D],r:k},Toe),e("ParticleSystem_SetParent",{a:[D,D]},Moe),e("ParticleSystem_SetVisible",{a:[D,k]},Ooe),e("Pass_Create",{a:[D,fe],r:D},Roe),e("Pass_GetAlphaRejectSettings",{a:[D,Ye,Ye]},Ioe),e("Pass_GetAmbient",{a:[D,Ye,Ye,Ye,Ye]},Poe),e("Pass_GetColourWriteEnabled",{a:[D],r:k},koe),e("Pass_GetCullingMode",{a:[D],r:k},Doe),e("Pass_GetDepthCheckEnabled",{a:[D],r:k},Aoe),e("Pass_GetDepthFunction",{a:[D],r:k},Loe),e("Pass_GetDepthWriteEnabled",{a:[D],r:k},Noe),e("Pass_GetDiffuse",{a:[D,Ye,Ye,Ye,Ye]},Boe),e("Pass_GetLightingEnabled",{a:[D],r:k},Foe),e("Pass_GetPolygonMode",{a:[D],r:k},joe),e("Pass_GetSceneBlending",{a:[D,Ye,Ye]},Voe),e("Pass_GetSelfIllumination",{a:[D,Ye,Ye,Ye,Ye]},$oe),e("Pass_GetShadingMode",{a:[D],r:k},zoe),e("Pass_GetShininess",{a:[D],r:k},Uoe),e("Pass_GetSpecular",{a:[D,Ye,Ye,Ye,Ye]},Hoe),e("Pass_GetTextureUnitStateByIndex",{a:[D,k],r:D},Goe),e("Pass_GetTextureUnitStateByName",{a:[D,fe],r:D},Woe),e("Pass_SetAlphaRejectSettings",{a:[D,k,k]},Koe),e("Pass_SetAmbient",{a:[D,k,k,k,k]},qoe),e("Pass_SetColourWriteEnabled",{a:[D,k]},Yoe),e("Pass_SetCullingMode",{a:[D,k]},Xoe),e("Pass_SetDepthCheckEnabled",{a:[D,k]},Zoe),e("Pass_SetDepthFunction",{a:[D,k]},Qoe),e("Pass_SetDepthWriteEnabled",{a:[D,k]},Joe),e("Pass_SetDiffuse",{a:[D,k,k,k,k]},eie),e("Pass_SetLightingEnabled",{a:[D,k]},tie),e("Pass_SetPolygonMode",{a:[D,k]},nie),e("Pass_SetSceneBlending",{a:[D,k,k]},rie),e("Pass_SetSelfIllumination",{a:[D,k,k,k,k]},oie),e("Pass_SetShadingMode",{a:[D,k]},iie),e("Pass_SetShininess",{a:[D,k]},sie),e("Pass_SetSpecular",{a:[D,k,k,k,k]},aie),e("RenderTexture_Create",{a:[fe,k,k],r:D},lie),e("RenderTexture_Destroy",{a:[D]},cie),e("RenderWindow_Create",{a:[D,k,k],r:D},uie),e("RenderWindow_Create2",{a:[D,fe,k,k,k,k,k,k],r:D},die),e("RenderWindow_CreateEx",{a:[D,k,k,k],r:D},hie),e("RenderWindow_Destroy",{a:[D]},fie),e("RenderWindow_Get",{a:[k],r:D},pie),e("RenderWindow_GetCount",{r:k},gie),e("RenderWindow_GetCursorHovered",{a:[D],r:k},mie),e("RenderWindow_GetCursorPosition",{a:[D,Ye,Ye]},vie),e("RenderWindow_GetKeyboardButtonPressed",{a:[D,k],r:k},yie),e("RenderWindow_GetMouseButtonPressed",{a:[D,k],r:k},bie),e("RenderWindow_GetPosition",{a:[D,Ye,Ye]},wie),e("RenderWindow_GetPrimary",{r:D},Sie),e("RenderWindow_GetSize",{a:[D,Ye,Ye]},Cie),e("RenderWindow_GetViewport",{a:[D,k],r:D},xie),e("RenderWindow_GetViewportCount",{a:[D],r:k},_ie),e("RenderWindow_GetWheelPosition",{a:[D],r:k},Eie),e("RenderWindow_SetPosition",{a:[D,k,k]},Tie),e("RenderWindow_SetSize",{a:[D,k,k]},Mie),e("RenderWindow_ToggleFullscreen",{a:[D],r:k},Oie),e("Root_AddResourceLocation",{a:[fe,fe,fe,k]},Rie),e("Root_AddResourceLocationFromConfigFile",{a:[fe]},Iie),e("Root_Create",{a:[fe,fe,fe]},Pie),e("Root_Destroy",{},kie),e("Root_GetTime",{r:k},Die),e("Root_Initialise",{},Aie),e("Root_InitialiseAllResourceGroups",{},Lie),e("Root_IsInitialised",{r:k},Nie),e("Root_RenderOneFrame",{r:k},Bie),e("Root_RestoreConfig",{r:k},Fie),e("Root_SaveConfig",{},jie),e("Root_ShowConfigDialog",{r:k},Vie),e("Scene_Clear",{a:[D]},$ie),e("Scene_Create",{a:[fe],r:D},zie),e("Scene_Destroy",{a:[D]},Uie),e("Scene_GetCamera",{a:[D,fe],r:D},Hie),e("Scene_GetEntity",{a:[D,fe],r:D},Gie),e("Scene_GetLight",{a:[D,fe],r:D},Wie),e("Scene_GetParticleSystem",{a:[D,fe],r:D},Kie),e("Scene_GetRootSceneNode",{a:[D],r:D},qie),e("Scene_GetSceneNode",{a:[D,fe],r:D},Yie),e("Scene_GetShadowTechnique",{a:[D],r:k},Xie),e("Scene_Load",{a:[D,fe]},Zie),e("Scene_SetAmbientLight",{a:[D,k,k,k]},Qie),e("Scene_SetFog",{a:[D,k,k,k,k,k,k,k]},Jie),e("Scene_SetShadowTechnique",{a:[D,k]},ese),e("Scene_SetSkyBox",{a:[D,k,fe,k]},tse),e("Scene_SetWorldGeometry",{a:[D,fe]},nse),e("SceneNode_AttachObject",{a:[D,D]},rse),e("SceneNode_Create",{a:[D,fe],r:D},ose),e("SceneNode_Destroy",{a:[D]},ise),e("SceneNode_DetachObject",{a:[D,D]},sse),e("SceneNode_GetNumObjects",{a:[D],r:k},ase),e("SceneNode_GetObject",{a:[D,k],r:D},lse),e("SceneNode_GetScene",{a:[D],r:D},cse),e("SceneNode_SetAutoTracking",{a:[D,D,k,k,k]},use),e("SceneNode_SetVisible",{a:[D,k,k]},dse),e("StringInterface_GetParameter",{a:[D,fe,fe]},hse),e("StringInterface_GetParameterCount",{a:[D],r:k},fse),e("StringInterface_GetParameterDescription",{a:[D,k,fe]},pse),e("StringInterface_GetParameterName",{a:[D,k,fe]},gse),e("StringInterface_GetParameterType",{a:[D,k],r:k},mse),e("StringInterface_SetParameter",{a:[D,fe,fe]},vse),e("Technique_Create",{a:[D,fe],r:D},yse),e("Technique_GetPassByIndex",{a:[D,k],r:D},bse),e("Technique_GetPassByName",{a:[D,fe],r:D},wse),e("TextureUnitState_Create",{a:[D,fe],r:D},Sse),e("TextureUnitState_GetTexture",{a:[D,fe,D]},Cse),e("TextureUnitState_SetTexture",{a:[D,fe,k]},xse),e("Viewport_AddCompositor",{a:[D,fe,k],r:D},_se),e("Viewport_Create",{a:[D,D,k],r:D},Ese),e("Viewport_Destroy",{a:[D]},Tse),e("Viewport_GetBackgroundColour",{a:[D,Ye,Ye,Ye]},Mse),e("Viewport_GetCamera",{a:[D],r:D},Ose),e("Viewport_GetCompositor",{a:[D,k],r:D},Rse),e("Viewport_GetDimensions",{a:[D,Ye,Ye,Ye,Ye]},Ise),e("Viewport_GetNumCompositors",{a:[D],r:k},Pse),e("Viewport_GetOverlaysEnabled",{a:[D],r:k},kse),e("Viewport_GetRay",{a:[D,k,k,Ye,Ye,Ye,Ye,Ye,Ye]},Dse),e("Viewport_RemoveCompositor",{a:[D,D]},Ase),e("Viewport_SetBackgroundColour",{a:[D,k,k,k]},Lse),e("Viewport_SetCamera",{a:[D,D]},Nse),e("Viewport_SetDimensions",{a:[D,k,k,k,k]},Bse),e("Viewport_SetOverlaysEnabled",{a:[D,k]},Fse)}const Vse={name:"ogre",deps:["windows"],register:jse,setup(e){e.egor=new DQ,e.egorShouldRender=!1,e.egorRayCastResult=null,e.egorManualObjectsSections=new WeakMap,e.beforeRender.add(()=>{e.egorShouldRender&&(e.egorShouldRender=!1,e.egor.renderAll())})}},$se=13,zse=10,Use=[1,1,2,2,4,4,4,5,8,10];function UD(e){return e<0||e>9?0:Use[e]}class HD{constructor(t=null,n=null){this.file=n,t?this.v=new DataView(t.buffer,t.byteOffset,t.byteLength):this.v=new DataView(new ArrayBuffer(0)),this.p=0,this.width=8}copyTo(t,n,r){return n<0||n+r>this.v.byteLength?0:(t.v.byteLength<r?t.v=new DataView(this.v.buffer.slice(n,r)):new Uint8Array(t.v.buffer).set(new Uint8Array(this.v.buffer,n,r)),1)}seek(t){return this.p=t}eof(){return this.p>=this.size()?1:0}pos(){return this.p}size(){return this.v.byteLength}setWidth(t){return this.width=t,1}widthNumber(){const t=UD(this.width);if(t===0)return 0;const n=this.p,r=n+t;if(r>this.size())return 0;switch(this.p=r,this.width){case 0:return this.v.getUint8(n);case 1:return this.v.getInt8(n);case 2:return this.v.getUint16(n,!0);case 3:return this.v.getInt16(n,!0);case 4:return this.v.getUint32(n,!0);case 5:return this.v.getInt32(n,!0);case 6:return this.v.getFloat32(n,!0);case 7:throw Error("Чтение FLOAT40 не поддерживается");case 8:return this.v.getFloat64(n,!0);case 9:throw Error("Чтение FLOAT80 не поддерживается");default:return 0}}resize(t){const n=new Uint8Array(new ArrayBuffer(t));n.set(new Uint8Array(this.v.buffer)),this.v=new DataView(n.buffer)}writeWidthNumber(t){const n=UD(this.width);if(n===0)return 0;const r=this.p,o=r+n;switch(o>this.size()&&this.resize(o),this.p=o,this.width){case 0:return this.v.setUint8(r,t),1;case 1:return this.v.setInt8(r,t),1;case 2:return this.v.setUint16(r,t,!0),2;case 3:return this.v.setInt16(r,t,!0),2;case 4:return this.v.setUint32(r,t,!0),4;case 5:return this.v.setInt32(r,t,!0),4;case 6:return this.v.setFloat32(r,t,!0),4;case 7:throw Error("FLOAT40 не поддерживается");case 8:return this.v.setFloat64(r,t,!0),8;case 9:throw Error("FLOAT80 не поддерживается");default:return 0}}getLine(t,n){const r=this.p,o=Math.min(t,this.size()-r);if(o<=0)return"";let i=0,s="";for(;i<o;){const a=this.v.getUint8(r+i);i++;const c=fa[a];if(s+=c,c===n)break}return this.p+=i,s}line(){const t=this.p,n=this.size()-t;if(n<=0)return"";let r=0,o=0;for(;r<n;){const s=this.v.getUint8(t+r);if(s===0){o=1;break}if(s===$se&&r+1<n&&this.v.getUint8(t+r+1)===zse){o=2;break}r+=1}const i=zv(new Uint8Array(this.v.buffer,t,r));return this.p=t+r+o,i}writeLine(t){const n=t+`\r
`;let r=this.p;const o=r+n.length;return o>this.size()&&this.resize(o),this.p=o,OC(n).forEach((s,a)=>this.v.setUint8(r+a,s)),n.length}write(t){let n=this.p;const r=n+t.length;r>this.size()&&this.resize(r),this.p=r,t.forEach((o,i)=>this.v.setUint8(n+i,o))}bytes(){return new Uint8Array(this.v.buffer)}}function Hse(e,t,n){const r=e.toUpperCase(),o=n.toUpperCase(),i=o.includes("CREATE"),s=o.includes("READONLY"),a=Os.freeKey(this.kernel.streams);if(r==="FILE"){const c=this.prj.dir.resolve(t);let d=null,h=null;if(i){if(d=c.create("file",{base64:""}),!d)return 0}else{if(d=c.file(),!d)return 0;d.base64?h=MC(d.base64):Nr.debugFile&&this._warn(`CreateStream: Файл ${c} (${d.size} байт) существует, но формат не base64.`)}return this.kernel.streams.set(a,new HD(h,s?null:d)),a}return r==="MEMORY"?(this.kernel.streams.set(a,new HD),a):(console.warn(`Поток типа ${r} не поддерживается`),0)}function Gse(e){const t=this.kernel.streams.get(e);if(!t)return 0;if(this.kernel.streams.delete(e),!t.file)return 1;const n=t.bytes();return t.file.set({base64:$v(n)}),this.kernel.handleWrite(t.file.path,n),1}function Wse(e,t){return this.kernel.streams.get(e)?.seek(t)??0}function Kse(e){return this.kernel.streams.get(e)?.eof()??0}function qse(e){return this.kernel.streams.get(e)?.pos()??0}function Yse(e){return this.kernel.streams.get(e)?.size()??0}function Xse(e,t){return this.kernel.streams.get(e)?.setWidth(t)??0}function Zse(e){return this.kernel.streams.get(e)?.widthNumber()??0}function Qse(e){return this.kernel.streams.get(e)?.line()??""}function Jse(e,t){return this.kernel.streams.get(e)?.writeWidthNumber(t)??0}function eae(e,t){return this.kernel.streams.get(e)?.writeLine(t)??0}function tae(e,t,n){return this.kernel.streams.get(e)?.getLine(t,n)??""}function nae(e,t,n,r){const o=this.kernel.streams.get(e);if(!o)return 0;const i=this.kernel.streams.get(t);return i?o.copyTo(i,n,r):0}function rae(e){e("CreateStream",{a:[fe,fe,fe],r:D},Hse),e("CloseStream",{a:[D],r:k},Gse),e("Seek",{a:[D,k],r:k},Wse),e("Eof",{a:[D],r:k},Kse),e("GetPos",{a:[D],r:k},qse),e("GetSize",{a:[D],r:k},Yse),e("SetWidth",{a:[D,k],r:k},Xse),e("Read",{a:[D],r:k},Zse),e("ReadLn",{a:[D],r:fe},Qse),e("Write",{a:[D,k],r:k},Jse),e("WriteLn",{a:[D,fe],r:k},eae),e("GetLine",{a:[D,k,fe],r:fe},tae),e("CopyBlock",{a:[D,D,k,k],r:k},nae)}const oae={name:"streams",register:rae,setup(e){e.streams=new Map}};function iae(e){switch(e){case et.WEB_DIALOG_OPEN:return+(this.kernel.fileDialogState.type==="open");default:return this.kernel._functionNotImplemented(`System(${e})`),0}}function sae(e){return b0(e)?1:0}function aae(e,t,n,r,o){const i=this.kernel.windows.get(e);if(!i)return t[n]=0,r[o]=0,0;const s=i.mouseX+i.scene.x,a=i.mouseY+i.scene.y,c=i.invmatrix;if(!c)return t[n]=s,r[o]=a,1;const d=s*c[2]+a*c[5]+c[8];return t[n]=(s*c[0]+a*c[3]+c[6])/d,r[o]=(s*c[1]+a*c[4]+c[7])/d,1}function lae(e){this.kernel.windowSystem.showCursor(e>0)}function GD(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;let r;switch(t){case et.CUR_ARROW:r="auto";break;case et.CUR_CROSS:r="crosshair";break;case et.CUR_TEXT:r="text";break;case et.CUR_NO:r="not-allowed";break;case et.CUR_SIZE:r="move";break;case et.CUR_SIZENESW:r="nesw-resize";break;case et.CUR_SIZENS:r="ns-resize	";break;case et.CUR_SIZENWSE:r="nwse-resize";break;case et.CUR_SIZEWE:r="ew-resize";break;case et.CUR_UPARROW:r="n-resize";break;case et.CUR_WAIT:r="wait";break;case et.CUR_LINK:r="pointer";break;case et.CUR_HELP:r="help";break;default:r="auto";break}n.setCursor(r)}function WD(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;const r=this.prj.dir.resolve(t).file()?.cursor;n.setCursor(r?`url(${Ji(r.src)}), auto`:"default")}function cae(){return Date.now()-h9}function uae(e,t,n,r,o,i){const s=new Date;e[t]=s.getFullYear(),n[r]=s.getMonth()+1,o[i]=s.getDate()}function dae(e,t,n,r,o,i,s,a){const c=new Date;e[t]=c.getHours(),n[r]=c.getMinutes(),o[i]=c.getSeconds(),s[a]=c.getMilliseconds()*.1}function hae(e,t,n,...[r,o,i,s,a]){if(n>4)return 0;const c=this.kernel.scenes.get(e)?.scene.objects.get(t);return c?(n<0?delete c.data.hyper:c.data.hyper={mode:n,target:r,object:o,effect:i,window:s,params:a},1):0}function fae(e,t,n,r){const o=this.kernel.scenes.get(e);if(!o)return;const i=(o.scene.objects.get(r)??o.pick(t,n))?.data?.hyper;i&&o.hyperClick(i,{x:t,y:n})}function pae(){return this.kernel.windowSystem.windowFactory.screenWidth}function gae(){return this.kernel.windowSystem.windowFactory.screenHeight}function mae(){return 0}function vae(){return 0}function yae(){return this.kernel.windowSystem.windowFactory.screenWidth}function bae(){return this.kernel.windowSystem.windowFactory.screenHeight}function wae(){return 0}function Sae(){return 0}function Cae(){return 0}function xae(){return 0}function _ae(){return 0}function Eae(){return 0}function Tae(e,t){return this.kernel.handleExe(e,t)?1:0}function Mae(e,t,n,r){return this.kernel.handleShell(e,t,n,r)?1:0}function Oae(e){this.kernel.log(e,this)}function Rae(e){e("System",{a:[k],rest:[k],r:k},iae),e("GetAsyncKeyState",{a:[k],r:k},sae),e("GetMousePos",{a:[fe,Ye,Ye],r:k},aae),e("ShowCursor",{a:[k]},lae),e("LoadCursor",{a:[D,fe]},WD),e("LoadCursor",{a:[fe,fe]},WD),e("SetStandartCursor",{a:[D,k]},GD),e("SetStandartCursor",{a:[fe,k]},GD),e("GetTickCount",{r:k},cae),e("GetTime",{a:[Ye,Ye,Ye,Ye]},dae),e("GetDate",{a:[Ye,Ye,Ye]},uae),e("SetHyperJump2d",{a:[D,D,k],rest:[fe],r:k},hae),e("StdHyperJump",{a:[D,k,k,D,k]},fae),e("GetScreenWidth",{r:k},pae),e("GetScreenHeight",{r:k},gae),e("GetWorkAreaX",{r:k},mae),e("GetWorkAreaY",{r:k},vae),e("GetWorkAreaWidth",{r:k},yae),e("GetWorkAreaHeight",{r:k},bae),e("GetTitleHeight",{r:k},wae),e("GetSmallTitleHeight",{r:k},Sae),e("GetFixedFrameWidth",{r:k},Cae),e("GetFixedFrameHeight",{r:k},xae),e("GetSizeFrameWidth",{r:k},_ae),e("GetSizeFrameHeight",{r:k},Eae),e("WinExecute",{a:[fe,k],r:k},Tae),e("Shell",{a:[fe,fe,fe,k],r:k},Mae),e("LogMessage",{a:[fe]},Oae)}const Iae={name:"system",deps:["windows"],register:Rae};function Pae(e){return e.toString()}function kae(e,t){return e<0||e>255?"":fa[e]}function Dae(){return this.kernel.fs.appData.toString()}function Aae(e){e("FloatToString",{a:[k],r:fe},Pae),e("ConvertToAscii",{a:[k,k],r:fe},kae),e("GetSpecialPath",{r:fe},Dae)}const Lae={name:"tdl",register:Aae};async function yy({src:e,etag:t},n){let r;try{r=await fetch(`${aq(e)}${t?"?"+t:""}`,n)}catch(i){throw i instanceof Error?Error("Сервер библиотек не отвечает"):i}if(r.status===404)throw Error(`404: Библиотека '${e}' не существует`);const o=await r.json();if(!r.ok)throw Error(o.message||"Неизвестная ошибка");return o}function KD(e,t,n,r){const{children:o}=e,i=o.length?o[0]:null,s=kh(e.scene,t,r).set({x:e.x,y:e.y,attrib:e.attrib});if(i){const a=e.attrib|Ua;n?(i.set({attrib:a}),s.set({width:i.width,height:i.height})):i.set({attrib:a,width:1,height:1})}return e.set({children:o.concat(s)}),s}const Ga={gspace:"ApJIp71s","scroll-x":"qhzEyKeP","scroll-y":"j1zyfqqN",hidden:"-WlIuMox",scene:"_-7ivHAO2",frame:"xTZG1aX9",spacer:"Q4gUooLG"};class Nae{constructor(t,n){this.space=t,this.view=n,this.onDisposed=new pa}dispose(){this.view.remove(),this.space._removeFrame(this)}}class S0{constructor({system:t,key:n,name:r,project:o,data:i,options:s,x:a=0,y:c=0,matrix:d=null,source:h=null,parent:f=null,sceneChildren:g}){this.isVisible=!0,this.scale=1,this.mouseX=0,this.mouseY=0,this.mouseMoveSubs=new Ll,this.leftButtonUpSubs=new Ll,this.leftButtonDownSubs=new Ll,this.rightButtonUpSubs=new Ll,this.rightButtonDownSubs=new Ll,this.middleButtonUpSubs=new Ll,this.middleButtonDownSubs=new Ll,this.keyDownSubs=new Set,this.keyUpSubs=new Set,this.keyCharSubs=new Set,this.controlNotifySubs=new Ll,this.windowMoveSubs=new Set,this.spaceDoneSubs=new Set,this.sizeSubs=new Set,this.frames=new Set,this.all=new Set([this]),this.clientWidth=0,this.clientHeight=0,this.hiddenBy=null,this.currentCursor="auto",this.cursorOverHyp=!1,this.connectedWindow=null,this.spacer=null,this.scrollX=null,this.scrollY=null,this.scrolledSceneX=NaN,this.scrolledSceneY=NaN,this.title=r,this.system=t,this.kernel=t.kernel,this.key=n,this.name=r,this.project=o,this.matrix=d,this.invmatrix=d&&cq(d),this.parent=f,this.source=h,this.x=a,this.y=c;const m=this.scene=t.sceneFactory.create(i,o.settings.graphicsBackend);g?.forEach(({key:T,klass:R})=>{const M=t.kernel.classes.get(R)?.image;if(!M||M.prior==="icon"||!M.scene?.data?.objects?.length)return;const I=m.objects.get(T);I?.type==="group"&&KD(I,M.scene.data,M.resizable)}),m.domElement.classList.add(Ga.scene);const y=this.domElement=document.createElement("div");y.className=Ga.gspace,y.tabIndex=0,y.setAttribute("data-gspace-name",r),y.setAttribute("data-gspace-key",n.toString()),y.append(m.domElement);const b=s.size;if(b?.type==="fixed"&&(this.clientWidth=b.width,this.clientHeight=b.height),b?.type!=="fixed"||s.autoorg||s.hscroll||s.vscroll){const T=iy(m.objects.values());m.set({x:T.x,y:T.y}),this.clientWidth<=0&&(this.clientWidth=T.w),this.clientHeight<=0&&(this.clientHeight=T.h),s.hscroll&&(this.scrollX={min:T.x,max:T.x+(s.autoscroll?0:T.w)}),s.vscroll&&(this.scrollY={min:T.y,max:T.y+(s.autoscroll?0:T.h)})}this.clientWidth<=0&&(this.clientWidth=this.system.windowFactory.screenWidth),this.clientHeight<=0&&(this.clientHeight=this.system.windowFactory.screenHeight),Wu(y,{...f&&{left:a-f.scene.x+"px",top:c-f.scene.y+"px"},width:this.clientWidth+"px",height:this.clientHeight+"px"});const{pointerTarget:v}=this;v.addEventListener("contextmenu",dk);const S=this.handlePointer.bind(this);v.addEventListener("pointerdown",S),v.addEventListener("pointermove",S),v.addEventListener("pointerup",S),v.addEventListener("pointercancel",S);const E=this.handleKeyboard.bind(this);y.addEventListener("keydown",E),y.addEventListener("keyup",E),m.onInputChanged.add(this.handleInput.bind(this))}getClientWidth(){return this.domElement.clientWidth||this.clientWidth}getClientHeight(){return this.domElement.clientHeight||this.clientHeight}getWidth(){return this.domElement.offsetWidth||this.clientWidth}getHeight(){return this.domElement.offsetHeight||this.clientHeight}get pointerTarget(){return this.scene.domElement}setTitle(t){this.title=t,this.connectedWindow?.set({title:t})}setConnectedWindow(t){t.onClosed.add(this.onConnectedWindowClosed.bind(this)),this.connectedWindow=t}onConnectedWindowClosed(){this.connectedWindow=null,this.close()}setOpacity(t){const{domElement:n}=this;t>=1?n.style.removeProperty("opacity"):Wu(n,{transition:"none",opacity:t.toString()})}updateMouseCoords(t,n){this.mouseX=t,this.mouseY=n,this.parent?.updateMouseCoords(this.x+t,this.y+n)}syncScrollbars(){const{domElement:t,scene:n,scrollX:r,scrollY:o}=this;r&&(this.scrolledSceneX===n.x?n.set({x:r.min+t.scrollLeft}):t.scrollLeft=n.x-r.min,this.scrolledSceneX=n.x),o&&(this.scrolledSceneY===n.y?n.set({y:o.min+t.scrollTop}):t.scrollTop=n.y-o.min,this.scrolledSceneY=n.y)}beforeRender(){this.syncScrollbars(),this.scene.render()}beforeAll(){this.syncScrollbars()}afterAll(){const{domElement:t,scrollX:n,scrollY:r}=this;if(!n&&!r)return;if(!this.spacer){const d=this.spacer=document.createElement("div");d.className=Ga.spacer,t.append(d)}const{spacer:o}=this;let i=n?Math.max(n.max-n.min,0):0,s=r?Math.max(r.max-r.min,0):0;const a=n&&!i,c=r&&!s;if(a||c){const d=iy(this.scene.objects.values());a&&(i=d.w),c&&(s=d.h)}if(n){t.classList.contains(Ga["scroll-x"])||t.classList.add(Ga["scroll-x"]);const d=Math.round(i)+"px";o.style.width!==d&&(o.style.width=d)}if(r){t.classList.contains(Ga["scroll-y"])||t.classList.add(Ga["scroll-y"]);const d=Math.round(s)+"px";o.style.height!==d&&(o.style.height=d)}}updateCursor(){const t=this.system.cursorVisible?this.cursorOverHyp?"pointer":this.currentCursor:"none",{domElement:n}=this;n.style.cursor!==t&&(n.style.cursor=t)}setCapture(t){this.system.setCapture(this,t)}subscribe(t,n,r,o){const i=o&1,s=this.scene.objects.get(r)??null;switch(n){case et.WM_MOVE:this.windowMoveSubs.add(t);break;case et.WM_SPACEDONE:this.spaceDoneSubs.add(t);break;case et.WM_SIZE:this.sizeSubs.add(t);break;case et.WM_CONTROLNOTIFY:(s||r===0)&&this.controlNotifySubs.set(t,s);break;case et.WM_MOUSEMOVE:(s||!i)&&this.mouseMoveSubs.set(t,i?s:null);break;case et.WM_LBUTTONDOWN:(s||!i)&&this.leftButtonDownSubs.set(t,i?s:null);break;case et.WM_LBUTTONUP:(s||!i)&&this.leftButtonUpSubs.set(t,i?s:null);break;case et.WM_RBUTTONDOWN:(s||!i)&&this.rightButtonDownSubs.set(t,i?s:null);break;case et.WM_RBUTTONUP:(s||!i)&&this.rightButtonUpSubs.set(t,i?s:null);break;case et.WM_MBUTTONDOWN:(s||!i)&&this.middleButtonDownSubs.set(t,i?s:null);break;case et.WM_MBUTTONUP:(s||!i)&&this.middleButtonUpSubs.set(t,i?s:null);break;case et.WM_ALLMOUSEMESSAGE:if(!s&&i)break;const a=i?s:null;this.mouseMoveSubs.set(t,a),this.leftButtonDownSubs.set(t,a),this.leftButtonUpSubs.set(t,a),this.rightButtonDownSubs.set(t,a),this.rightButtonUpSubs.set(t,a),this.middleButtonDownSubs.set(t,a),this.middleButtonUpSubs.set(t,a);break;case et.WM_KEYDOWN:this.keyDownSubs.add(t);break;case et.WM_KEYUP:this.keyUpSubs.add(t);break;case BC:this.keyCharSubs.add(t);break;case et.WM_ALLKEYMESSAGE:this.keyDownSubs.add(t),this.keyUpSubs.add(t),this.keyCharSubs.add(t);break;default:t.kernel._functionNotImplemented(`Подписка на ${et[n]}`,t);break}}unsubscribe(t,n){switch(n){case et.WM_MOVE:this.windowMoveSubs.delete(t);break;case et.WM_SPACEDONE:this.spaceDoneSubs.delete(t);break;case et.WM_SIZE:this.sizeSubs.delete(t);break;case et.WM_CONTROLNOTIFY:this.controlNotifySubs.delete(t);break;case et.WM_MOUSEMOVE:this.mouseMoveSubs.delete(t);break;case et.WM_LBUTTONDOWN:this.leftButtonDownSubs.delete(t);break;case et.WM_LBUTTONUP:this.leftButtonUpSubs.delete(t);break;case et.WM_RBUTTONDOWN:this.rightButtonDownSubs.delete(t);break;case et.WM_RBUTTONUP:this.rightButtonUpSubs.delete(t);break;case et.WM_MBUTTONDOWN:this.middleButtonDownSubs.delete(t);break;case et.WM_MBUTTONUP:this.middleButtonUpSubs.delete(t);break;case et.WM_ALLMOUSEMESSAGE:this.mouseMoveSubs.delete(t),this.leftButtonDownSubs.delete(t),this.leftButtonUpSubs.delete(t),this.rightButtonDownSubs.delete(t),this.rightButtonUpSubs.delete(t),this.middleButtonDownSubs.delete(t),this.middleButtonUpSubs.delete(t);break;case et.WM_KEYDOWN:this.keyDownSubs.delete(t);break;case et.WM_KEYUP:this.keyUpSubs.delete(t);break;case BC:this.keyCharSubs.delete(t);break;case et.WM_ALLKEYMESSAGE:this.keyDownSubs.delete(t),this.keyUpSubs.delete(t),this.keyCharSubs.delete(t);break}}setWindowOrg(t,n){this.x=t,this.y=n,this.connectedWindow?this.connectedWindow.set({x:t,y:n}):this.parent&&Wu(this.domElement,{left:t-this.parent.scene.x+"px",top:n-this.parent.scene.y+"px"})}setWindowSize(t,n){this.clientWidth=t,this.clientHeight=n;const{inverseScale:r}=this;Wu(this.domElement,{width:t*r+"px",height:n*r+"px"})}setWindowPos(t,n,r,o){this.setWindowOrg(t,n),this.setWindowSize(r,o)}setSceneOrg(t,n){this.scene.set({x:t,y:n})}setScrollX(t,n){const{scrollX:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollX={min:t,max:n},this.scrolledSceneX=this.scene.x-t)}setScrollY(t,n){const{scrollY:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollY={min:t,max:n},this.scrolledSceneY=this.scene.y-t)}setCursor(t){this.currentCursor=t,this.updateCursor()}createFrame(t){t.classList.add(Ga.frame),this.domElement.append(t);const n=new Nae(this,t);return this.frames.add(n),n}createChild(t){const n=new S0({...t,parent:this});return this.domElement.append(n.domElement),this.all.add(n),n}pick(t,n,r){let o=t,i=n;const s=this.matrix;if(s){const c=t*s[2]+n*s[5]+s[8];o=(t*s[0]+n*s[3]+s[6])/c,i=(t*s[1]+n*s[4]+s[7])/c}let a=this.scene.pick(o,i);if(r&&(this.system.lastPickedPrimaryKey=a?.key??0),!a)return null;for(;a.parent;)a=a.parent;return a}paste(t,n,r,o){if(!t.objects?.length)return null;let i=t;if(o&et.PFC_ALL){const h={...t};o&et.PFC_PENS&&delete h.pens,o&et.PFC_BRUHS&&delete h.brushes,o&et.PFC_DDIBS&&delete h.images,o&et.PFC_DIBS&&delete h.imagesOpaque,o&et.PFC_STRINGS&&delete h.strings,o&et.PFC_FONTS&&delete h.fonts,o&et.PFC_TEXTS&&delete h.texts,i=h}const s=kh(this.scene,i);if(!(o&et.PFC_MOVEOBJECT))return s;let a=n,c=r;const d=this.matrix;if(d){const h=n*d[2]+r*d[5]+d[8];a=(n*d[0]+r*d[3]+d[6])/h,c=(n*d[1]+r*d[4]+d[7])/h}return s.set({x:a,y:c})}async tryOpenProject(t,n){const r=this.project.dir.resolve(t);let o;try{o=await this.kernel.openProject(r)}catch(i){if(!(i instanceof Error))throw i;console.warn(`Не удалось открыть ${r}: ${i.message}`);return}if(!o){console.warn(`${r} не существует`);return}n&&this.system.hideProjectWindows(this.project,o)}hyperClick(t,n){const{project:r}=this;switch(t.object&&console.warn("Посылка WM_HYPERJUMP не реализована"),t.mode){case Yv:{if(t.target){const o=t.window||"",i=t.target,s="WS_BYSPACE",a=n.x-this.scene.x,c=n.y-this.scene.y;requestAnimationFrame(()=>{const d=this.system.createGSpace(r,o,i,s,a,c);this.connectedWindow&&d?.connectedWindow?.set({preserveX:!0})})}break}case FC:{const o=t.target;if(!o)break;this.kernel.handleExe(o);break}case jC:{const o=t.target;if(!o)break;const i=t.params?.toUpperCase().includes("/HIDEWINDOWS");this.tryOpenProject(o,i);break}case bk:break;case Xv:{const o=t.target?.toUpperCase();if(!o)break;switch(o){case VC:this.kernel.closeAll();break;case $C:r.close();break;default:console.warn(`Действие '${o}' не реализовано.`);break}break}default:console.warn("Неизвестный тип гиперперехода"),console.log(t)}}toTop(){this.connectedWindow?this.connectedWindow?.toTop():this.parent?.domElement.append(this.domElement)}hide(){this.isVisible=!1,this.connectedWindow?this.connectedWindow.set({visible:!1}):this.domElement.classList.add(Ga.hidden)}show(){this.isVisible=!0,this.connectedWindow?this.connectedWindow.set({visible:!0}):this.domElement.classList.remove(Ga.hidden)}get actualScale(){return Math.max(this.scale,.1)}get inverseScale(){return 1/this.actualScale}setScale(t){if(this.scale=t,t!==1){const{actualScale:n,inverseScale:r}=this;Wu(this.domElement,{transform:`scale(${n})`,width:this.clientWidth*r+"px",height:this.clientHeight*r+"px"})}else Wu(this.domElement,{transform:"none",width:this.clientWidth+"px",height:this.clientHeight+"px"})}_hide(t){this.hiddenBy=t,this.hide()}_restoreIfHiddenBy(t){this.hiddenBy===t&&(this.hiddenBy=null,this.show())}_dispose(){this.parent?.all.delete(this),this.scene.dispose(),this.frames.forEach(t=>t.onDisposed.dispatch()),this.frames.clear(),this.connectedWindow?.remove(),queueMicrotask(this.handleClose.bind(this))}_removeFrame(t){this.frames.delete(t)}close(){this.system._closeWindows(this.all)}handlePointer(t){if(!t.isPrimary||t.target!==t.currentTarget)return;this.updateMouseCoords(t.offsetX,t.offsetY);const{captureTarget:n}=this.system;if(n){const S=n.w;if(S.pointerTarget.setPointerCapture(t.pointerId),S!==this)return}const{scene:r}=this,o=Math.round(t.offsetX+r.x),i=Math.round(t.offsetY+r.y);let s=r.pick(o,i);for(;s;){const S=s.parent;if(!S)break;s=S}const a=s?.data?.hyper;let c,d;switch(t.type){case"pointerdown":{switch(t.button){case 0:a&&!a.disabled&&this.hyperClick(a,{x:o,y:i}),d=et.WM_LBUTTONDOWN,c=this.leftButtonDownSubs;break;case 1:d=et.WM_MBUTTONDOWN,c=this.middleButtonDownSubs;break;case 2:d=et.WM_RBUTTONDOWN,c=this.rightButtonDownSubs;break;default:return}break}case"pointerup":case"pointercancel":{switch(t.button){case 0:d=et.WM_LBUTTONUP,c=this.leftButtonUpSubs;break;case 1:d=et.WM_MBUTTONUP,c=this.middleButtonUpSubs;break;case 2:d=et.WM_RBUTTONUP,c=this.rightButtonUpSubs;break;default:return}break}case"pointermove":{this.cursorOverHyp=!!a&&!a.disabled,this.updateCursor(),d=et.WM_MOUSEMOVE,c=this.mouseMoveSubs;break}default:return}let h=o,f=i;const g=this.invmatrix;if(g){const S=o*g[2]+i*g[5]+g[8];h=(o*g[0]+i*g[3]+g[6])/S,f=(o*g[1]+i*g[4]+g[7])/S}const m=t.buttons&1?1:0,y=t.buttons&2?2:0,b=t.buttons&4?16:0,v=m|y|b;c.forEach((S,E)=>{if(!(n&&n.w===this&&n.s===E||S.has(s)||S.has(null))||!this.kernel.canHandleProjectUiEvents(E.prj))return;const{msg:R,xpos:M,ypos:I,fwkeys:N}=E.klass.vars;R&&(E.vars.setValue(R,d),M&&E.vars.setValue(M,h),I&&E.vars.setValue(I,f),N&&E.vars.setValue(N,v),E.compute(!0))})}handleKeyboard(t){if(t.target!==t.currentTarget)return;const{winVKey:n}=t;if(typeof n!="number")return;let r,o;switch(t.type){case"keydown":r=et.WM_KEYDOWN,o=this.keyDownSubs;break;case"keyup":r=et.WM_KEYUP,o=this.keyUpSubs;break;default:return}o.forEach(s=>{const{msg:a,wvkey:c,repeat:d,scancode:h}=s.klass.vars;!a||!this.kernel.canHandleProjectUiEvents(s.prj)||(s.vars.setValue(a,r),c&&s.vars.setValue(c,n),d&&s.vars.setValue(d,1),h&&s.vars.setValue(h,0),s.compute(!0))});const{winChar:i}=t;i&&this.keyCharSubs.forEach(s=>{const{msg:a,wvkey:c,repeat:d,scancode:h}=s.klass.vars;a&&(s.vars.setValue(a,BC),c&&s.vars.setValue(c,i),d&&s.vars.setValue(d,1),h&&s.vars.setValue(h,0),s.compute(!0))})}handleInput(t){let n;switch(t.type){case"input":n=768;break;case"focus":n=256;break;case"blur":n=512;break;case"click":n=0;break;default:return}this.controlNotifySubs.forEach((r,o)=>{if(!(r.has(t.target)||r.has(null)))return;const{msg:s,_hobject:a,iditem:c,wnotifycode:d}=o.klass.vars;s&&(o.vars.setValue(s,et.WM_CONTROLNOTIFY),a&&o.vars.setValue(a,t.target.key),c&&o.vars.setValue(c,0),d&&o.vars.setValue(d,n),o.compute(!0))})}handleClose(){const{key:t,name:n}=this;this.spaceDoneSubs.forEach(r=>{const{msg:o,_hspace:i,_windowName:s}=r.klass.vars;o&&(r.vars.setValue(o,et.WM_SPACEDONE),i&&r.vars.setValue(i,t),s&&r.vars.setValue(s,n),r.compute(!0))})}}function Bae(e,t){const n=e.toUpperCase(),r=n.includes("WS_CHILD"),o=n.includes("WS_BYSPACE"),i=n.includes("WS_POPUP"),s=n.includes("WS_NORESIZE"),a=n.includes("WS_AUTOORG"),c=n.includes("WS_SPACESIZE"),d=n.includes("WS_NOCAPTION"),h=n.includes("WS_VSCROLL"),f=n.includes("WS_HSCROLL"),g=o?{...t}:{};return r&&(g.child=!0),f&&(g.hscroll=!0),h&&(g.vscroll=!0),c&&(g.size={type:"content"}),s&&(g.fixed=!0),i&&(g.popup=!0),a&&(g.autoorg=!0),d||(g.caption=!0),g}class Fae{constructor(t,{sceneFactory:n,windowFactory:r}){this.kernel=t,this.scenes=new Map,this.windows=new Map,this.cursorVisible=!0,this.captureTarget=null,this.lastPickedPrimaryKey=0,this.clipboard=null,this.sceneFactory=n,this.windowFactory=r}createGSpace(t,n,r,o,i=0,s=0,a=0,c=0,d=""){let h=n;if(h){const T=this.windows.get(h);if(T)return T}let f=null,g=null,m=null;if(r){const T=this.kernel.classes.get(r),R=T?.scene;if(R)f=R,g={type:"classname",data:T.name},m=T.children;else{const M=t.dir.resolve(r),I=M.file()?.scene;I&&(f=I,g={type:"filename",data:M.toString()})}}if(!h){if(!f)return this.kernel._functionNotImplemented("Пустая сцена без имени"),null;h=f.options?.popup?"@PopupWindow":"MainWindow";const T=this.windows.get(h);if(T)return T}const y=Bae(o,f?.options);!y.size&&a>0&&c>0&&(y.size={type:"fixed",width:a,height:c});const b=Os.freeKey(this.scenes),v={system:this,project:t,key:b,name:h,x:i,y:s,...f,options:y,source:g,sceneChildren:m},S=y.child&&this.windows.get(d);if(!S&&y.popup&&!this.kernel.iterations)return console.warn(`Невозможно открыть всплывающее окно '${h}' в координатах ${i}, ${s}`),null;const E=S?S.createChild(v):this.createWindow(v);return this.scenes.set(b,E),this.windows.set(h,E),E}createWindow(t){const n=new S0(t),{x:r,y:o,name:i}=t,{popup:s=!1,caption:a=!1}=t.options,c=this.windowFactory.createWindow({content:n.domElement,x:r,y:o,title:i,popup:s,caption:a});return n.setConnectedWindow(c),n}setCapture(t,n){this.captureTarget={w:t,s:n}}releaseCapture(){this.captureTarget=null}showCursor(t){this.cursorVisible=t,this.windows.forEach(n=>n.updateCursor())}_closeWindows(t){this.scenes.forEach(n=>{t.has(n)&&(n===this.captureTarget?.w&&(this.captureTarget=null),n._dispose(),this.scenes.delete(n.key),this.windows.delete(n.name))})}clearAll(){this.scenes.clear(),this.windows.clear(),this.cursorVisible=!0,this.lastPickedPrimaryKey=0}hideProjectWindows(t,n){this.windows.forEach(r=>{r.project===t&&r._hide(n)})}closeProjectWindows(t){const n=new Set([...this.windows.values()].filter(r=>r.project===t));this._closeWindows(n),this.windows.forEach(r=>r._restoreIfHiddenBy(t))}}function jae(e,t,n,r,o,i,s,a){return this.kernel.windowSystem.createGSpace(this.prj,e,n,a,r,o,i,s,t)?.key||0}function Vae(e){return this.kernel.windows.get(e)?.getClientWidth()??0}function $ae(e){return this.kernel.windows.get(e)?.getClientHeight()??0}function zae(e){return this.kernel.scenes.get(e)?.name??""}function Uae(e){return this.kernel.windows.get(e)?.x??0}function Hae(e){return this.kernel.windows.get(e)?.y??0}function Gae(e){return this.kernel.windows.get(e)?.key??0}function Wae(e){return this.kernel.windows.get(e)?.getWidth()??0}function Kae(e){return this.kernel.windows.get(e)?.getHeight()??0}function qae(e){return this.kernel.windows.get(e)?.title??""}function Yae(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function Xae(e,t,n,r){const o=this.kernel.windows.get(e);return o?(t>0?o.setScrollX(n,r):o.setScrollY(n,r),1):0}function Zae(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowOrg(t,n),1):0}function Qae(e,t,n,r,o){const i=this.kernel.windows.get(e);return i?(i.setWindowPos(t,n,r,o),1):0}function Jae(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function ele(e,t){const n=this.kernel.windows.get(e);return n?(n.setTitle(t),1):0}function qD(e,t){const n=typeof e=="string"?this.kernel.windows.get(e):this.kernel.scenes.get(e);return n?(n.setOpacity(Hv(t,0,100)*.01),1):0}function YD(){return this.kernel._functionNotImplemented("SetWindowTransparentColor"),1}function XD(e,t){return t?(this.kernel._functionNotImplemented("SetWindowRegion"),1):0}function tle(){return this.kernel._functionNotImplemented("SetWindowOwner"),1}function nle(e,t){const n=this.kernel.windows.get(e);if(!n)return 0;switch(t){case et.SW_HIDE:n.hide();break;case et.SW_SHOW:case et.SW_NORMAL:n.show();break}return 1}function rle(e){const t=this.kernel.windows.get(e);return t?(t.toTop(),1):0}function ole(e){const t=this.kernel.windows.get(e);return t?(t.close(),1):0}function ile(){return 0}function sle(e){return this.kernel.windows.has(e)?1:0}function ale(e){return this.kernel.windows.get(e)?.isVisible?1:0}function lle(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function cle(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function ule(){return this.kernel._functionNotImplemented("OpenClassScheme"),1}function dle(){return this.kernel._functionNotImplemented("CloseClassScheme"),1}function hle(){}function fle(){}function ple(){}function gle(e,t){const n=this.kernel.windows.get(e)?.source;return n&&n.type===t.toLowerCase()&&n.data||""}function mle(e){e("CreateWindowEx",{a:[fe,fe,fe,k,k,k,k,fe],r:D},jae),e("GetClientWidth",{a:[fe],r:k},Vae),e("GetClientHeight",{a:[fe],r:k},$ae),e("GetWindowName",{a:[D],r:fe},zae),e("GetWindowOrgX",{a:[fe],r:k},Uae),e("GetWindowOrgY",{a:[fe],r:k},Hae),e("GetWindowSpace",{a:[fe],r:D},Gae),e("GetWindowWidth",{a:[fe],r:k},Wae),e("GetWindowHeight",{a:[fe],r:k},Kae),e("GetWindowTitle",{a:[fe],r:fe},qae),e("SetClientSize",{a:[fe,k,k],r:k},Yae),e("SetScrollRange",{a:[fe,k,k,k],r:k},Xae),e("SetWindowOrg",{a:[fe,k,k],r:k},Zae),e("SetWindowPos",{a:[fe,k,k,k,k],r:k},Qae),e("SetWindowSize",{a:[fe,k,k],r:k},Jae),e("SetWindowTitle",{a:[fe,fe],r:k},ele),e("SetWindowTransparent",{a:[fe,k],r:k},qD),e("SetWindowTransparent",{a:[D,k],r:k},qD),e("SetWindowTransparentColor",{a:[fe,gn],r:k},YD),e("SetWindowTransparentColor",{a:[D,gn],r:k},YD),e("SetWindowRegion",{a:[fe,D],r:k},XD),e("SetWindowRegion",{a:[D,D],r:k},XD),e("SetWindowOwner",{a:[D,D],r:k},tle),e("ShowWindow",{a:[fe,k],r:k},nle),e("BringWindowToTop",{a:[fe],r:k},rle),e("CloseWindow",{a:[fe],r:k},ole),e("IsIconic",{a:[fe],r:k},ile),e("IsWindowExist",{a:[fe],r:k},sle),e("IsWindowVisible",{a:[fe],r:k},ale),e("LoadSpaceWindow",{a:[fe,fe,fe],r:D},lle),e("OpenSchemeWindow",{a:[fe,fe,fe],r:D},cle),e("OpenClassScheme",{a:[fe,k],r:D},ule),e("CloseClassScheme",{a:[fe],r:k},dle),e("CascadeWindows",{},hle),e("Tile",{a:[k]},fle),e("ArrangeIcons",{},ple),e("GetWindowProp",{a:[fe,fe],r:fe},gle)}const ZD=[{name:"windows",register:mle,setup(e,t){if(!t)throw Error("Плагин 'windows': не указаны зависимости");const n=new Fae(e,t);e.windowSystem=n,e.windows=n.windows,e.scenes=n.scenes,e.beforeProjectClosed.add(r=>n.closeProjectWindows(r)),e.beforeCompute.add(()=>n.windows.forEach(r=>r.beforeAll())),e.afterCompute.add(()=>n.windows.forEach(r=>r.afterAll())),e.beforeRender.add(()=>n.windows.forEach(r=>r.beforeRender()))}},oae,I9,Y9,y8,Z8,_X,M8,nee,aee,_ee,Fee,Vse,FJ,Iae,z8,Lae];class vle{constructor(t,n){this.id=t,this.attrib=0,this.description="",this.defaultValue=null,this.inEquation=!1,this.parsed=null,this.name=n.name,this.type=n.type,this.set(n)}set({attrib:t=this.attrib,defaultValue:n=this.defaultValue,description:r=this.description,inEquation:o=this.inEquation}){return this.parsed=n!==null?Np(this.type,n):null,this.attrib=t,this.defaultValue=n,this.description=r,this.inEquation=o,this}}class QD{constructor(t){this._disable=null,this._enable=null,this.orgx=null,this.orgy=null,this._hobject=null,this._objname=null,this._classname=null,this.msg=null,this.xpos=null,this.ypos=null,this.fwkeys=null,this.wvkey=null,this.repeat=null,this.scancode=null,this.nwidth=null,this.nheight=null,this._hspace=null,this._windowName=null,this.iditem=null,this.wnotifycode=null;const n=t?.map((r,o)=>[r.name.toUpperCase(),new vle(o,r)]);if(this.list=n?.map(r=>r[1])??[],this.m=new Map(n),!!n)for(const[r,o]of n){const i=o.type,{FLOAT:s,STRING:a,HANDLE:c}=bt;r==="_ENABLE"&&i===s?this._enable=o:r==="_DISABLE"&&i===s?this._disable=o:r==="MSG"&&i===s?this.msg=o:r==="_HOBJECT"&&i===c?this._hobject=o:r==="IDITEM"&&i===s?this.iditem=o:r==="WNOTIFYCODE"&&i===s?this.wnotifycode=o:r==="NWIDTH"&&i===s?this.nwidth=o:r==="NHEIGHT"&&i===s?this.nheight=o:r==="XPOS"&&i===s?this.xpos=o:r==="YPOS"&&i===s?this.ypos=o:r==="FWKEYS"&&i===s?this.fwkeys=o:r==="ORGX"&&i===s?this.orgx=o:r==="ORGY"&&i===s?this.orgy=o:r==="_OBJNAME"&&i===a?this._objname=o:r==="_CLASSNAME"&&i===a?this._classname=o:r==="WVKEY"&&i===s?this.wvkey=o:r==="REPEAT"&&i===s?this.repeat=o:r==="SCANCODE"&&i===s?this.scancode=o:r==="_HSPACE"&&i===c?this._hspace=o:r==="_WINDOWNAME"&&i===a&&(this._windowName=o)}}get(t){return this.m.get(t.toUpperCase())??null}}class yle{constructor({compiler:t,data:n,file:r,projectId:o,modelGlobals:i}){this.onChildrenChanged=new pa,this.main=null,this.defers=[],this.equations=[],this.transpiledCode=null,this.isCompiled=!1;const{name:s,transpiled:a,id:c,vars:d}=n;this.projectId=o,this.compiler=t,this.modelGlobals=i,this.file=r,this.name=s,this.nameUC=s.toUpperCase(),this.vars=new QD(d),this.transpiledCode=a??null,this.id=c,this.children=n.children||[],this.connections=n.links||[],this.scene=n.scene||null,this.image=n.image||null,this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1}set({vars:t,children:n=this.children,links:r=this.connections,scene:o=this.scene,image:i=this.image,modelText:s=this.modelText,isFunction:a=this.isFunction}){return t&&(this.vars=new QD(t)),this.modelText!==s&&(this.isCompiled=!1),this.children!==n&&(this.children=n,this.onChildrenChanged.dispatch(n)),this.connections=r,this.scene=o,this.image=i,this.modelText=s,this.isFunction=a,this}compile(){if(this.isCompiled)return;this.isCompiled=!0;let t;const{compiler:n}=this;if(this.transpiledCode)Nr.debugCompiler&&console.log(`Компиляция (кешировано) ${this.name} (${this.vars.list.length} переменных)`),t=this.transpiledCode,this.transpiledCode=null;else{const o=this.file.path.toString().slice(3);Nr.debugCompiler&&console.log(`Компиляция '${this.name}' ('${o}'): ${this.vars.list.length} переменных`);try{const i=n.transpile(this.modelText,this.name,o);Nr.debugCompiler&&i.bugs.length&&console.warn(`${this.name}:
${i.bugs.map(([c])=>` -${c}`).join(`
`)}`);const s=this.vars,a=i.vars.map(c=>{const d=s.get(c.name);if(!d)return c;const{defaultValue:h,description:f}=d;return{...c,defaultValue:h,description:f}});this.set({vars:a,isFunction:i.isFunction}),t=i}catch(i){throw i instanceof ey?Error(`Ошибка компиляции '${this.name}' ('${o}'): '${i.message}'`):i}}const{modelGlobals:r}=this;this.main=t.mainText?n.compile(t.mainText).bind(null,r):null,this.defers=t.defersTexts?.map(o=>n.compile(o).bind(null,r))||[],this.equations=t.equationsTexts?.map(o=>n.compile(o).bind(null,r))||[]}getUserFunctionSignature(){const t=this.vars.list;return{type:"user",name:this.name,argTypes:t.filter(n=>n.attrib&et.VF_ARGUMENT).map(n=>n.type),retType:t.find(n=>n.attrib&et.VF_RETURN)?.type??null}}}class ble{constructor(){this.files=new WeakSet,this.m=new Map}add(t){const{nameUC:n}=t,r=this.m.get(n);if(r)throw Error(`Конфликт имен имиджей: '${t.name}' ('${t.file.path}') уже существует в файле '${r.file.path}'`);return this.m.set(n,t),this.files.add(t.file),this}get(t){return this.m.get(t.toUpperCase())??null}hasFile(t){return this.files.has(t)}unload(t){this.m.forEach(n=>n.projectId===t&&this.files.delete(n.file)),this.m=new Map(Rp(this.m,n=>n[1].projectId!==t))}}class C0 extends Error{constructor(t,n){super(t),this.original=n}}class wle{alloc(t){const n=new Float64Array(t.floats),r=new Int32Array(t.ints),o=Array.from({length:t.strings},()=>"");this.newFloats=n,this.oldFloats=n.slice(),this.newInts=r,this.oldInts=r.slice(),this.newStrings=o,this.oldStrings=o.slice()}sync(){this.oldFloats.set(this.newFloats),this.oldInts.set(this.newInts);const{newStrings:t,oldStrings:n}=this;for(let r=0;r<t.length;++r)n[r]=t[r]}}class Sle{constructor(t){this.newFloats=this.oldFloats=new Float64Array(t.floats),this.newInts=this.oldInts=new Int32Array(t.ints),this.newStrings=this.oldStrings=Array.from({length:t.strings},()=>"")}}class JD{constructor(t,n){this.map=t,this.values=n}getNewValue(t){const{newFloats:n,newInts:r,newStrings:o}=this.values,i=this.map[t.id];switch(t.type){case bt.FLOAT:return n[i];case bt.HANDLE:case bt.COLORREF:return r[i];case bt.STRING:return o[i]}}setValue(t,n){const{newFloats:r,oldFloats:o,newInts:i,oldInts:s,newStrings:a,oldStrings:c}=this.values,d=this.map[t.id];switch(t.type){case bt.FLOAT:if(typeof n!="number")return!1;r[d]=o[d]=n;break;case bt.HANDLE:case bt.COLORREF:if(typeof n!="number")return!1;i[d]=s[d]=n;break;case bt.STRING:if(typeof n!="string")return!1;a[d]=c[d]=n;break}return!0}}class eA{constructor(){this.floats=0,this.ints=0,this.strings=0}add(t){switch(t.type){case bt.FLOAT:return this.floats++;case bt.HANDLE:case bt.COLORREF:return this.ints++;case bt.STRING:return this.strings++}}}class Cle{constructor(t,n){this.v=t,this.a=n,this.index=-1,this.connected=new Set}propagateIndex(t){this.index>=0||(this.index=t,this.connected.forEach(n=>n.propagateIndex(t)))}connectWith(t){this.connected.add(t),t.connected.add(this)}getIndex(){return this.index<0&&this.propagateIndex(this.a.add(this.v)),this.index}}function xle(e,t){const{children:n}=e;t.forEach(({nodes:[r,o],vars:i,attrib:s=0})=>{if(s&qv)return;let a=`Имидж ${e.klass.name}: связь #${r}-#${o}: `;const c=r>0?n.find(h=>h.ndata.key===r):e;if(!c){console.warn(a+`Дочерний имидж #${r} не существует`);return}const d=o>0?n.find(h=>h.ndata.key===o):e;if(!d){console.warn(a+`Дочерний имидж #${o} не существует`);return}a=`Имидж ${e.klass.name}: связь #${r} (${c.klass.name}) - #${o} (${d.klass.name}): `,i.forEach(([h,f])=>{const g=c.klass.vars.get(h);if(!g){console.warn(a+`Переменная ${c.klass.name}:${h} не существует`);return}const m=d.klass.vars.get(f);if(!m){console.warn(a+`Переменная ${d.klass.name}:${f} не существует`);return}if(g.type!==m.type){console.warn(a+`Типы переменных ${c.klass.name}:${h} и ${d.klass.name}:${f} не совпадают`);return}c.vars[g.id].connectWith(d.vars[m.id])})})}function tA(e,t,n,r=null){e.compile();const o=e.vars.list.map(a=>new Cle(a,n)),i=e.children.map(a=>{const c=t.get(a.klass);if(!c)throw Error(`Подимидж ${a.klass} #${a.key} имиджа ${e.name} не существует`);return tA(c,t,n,a)}),s={klass:e,ndata:r,vars:o,children:i};return e.connections.length&&xle(s,e.connections),s}function nA(e,t,n){const r=e.vars.map(i=>{const s=i.getIndex();return i.v.inEquation&&n.add(s),s}),o=e.children.map(i=>nA(i,t,n));return t.createSchema({...e,varMap:r,children:o,prj:t})}function _le(){return!1}function Ele(e,t){return e.values.newFloats[e.map[t]]>0}function Tle(e,t){return e.values.newFloats[e.map[t]]<=0}const rA=new WeakMap;class Mle{constructor({prj:t,klass:n,ndata:r,vars:o,children:i}){this.isDisabled=_le,this.updateChildNodeData=c=>{c.length===this.children.length&&c.forEach((d,h)=>{const f=this.children[h],g=f.ndata;g.key!==d.key||g.klass!==d.klass||(g.name&&this.resolveMap.delete(g.name),d.name&&this.resolveMap.set(d.name.toUpperCase(),f),f.ndata=d)})},this.prj=t,this.klass=n,this.ndata=r,this.vars=o,this.children=i;const{_disable:s,_enable:a}=n.vars;s&&(!a||s.id<a.id)?this.isDisabled=Ele.bind(null,this.vars,s.id):a&&(!s||a.id<s.id)&&(this.isDisabled=Tle.bind(null,this.vars,a.id)),this.resolveMap=new Map([["",this]]),i.forEach(c=>{c.resolveMap.set("..",this);const{key:d,name:h}=c.ndata;this.resolveMap.set("#"+d,c),h&&this.resolveMap.set(h.toUpperCase(),c)}),n.onChildrenChanged.add(this.updateChildNodeData)}get kernel(){return this.prj.kernel}resolve(t){if(t.length===0)return this;const n=t.toUpperCase().split("\\");let r=t[0]==="\\"?this.prj.root:this;for(const o of n){const i=r.resolveMap.get(o);if(!i)return null;r=i}return r}resolveMany(t,n){if(t){const r=this.resolve(t);return!r||n&&r.klass!==n?[]:[r]}return n?this.prj.getKlassSchemas(n):[]}initValues(t){this.children.forEach(r=>r.initValues());const{vars:n}=this.klass;return n.list.forEach(r=>{let o;if(r.parsed!==null)o=r.parsed;else switch(r){case n.orgx:o=this.ndata?.x??0;break;case n.orgy:o=this.ndata?.y??0;break;case n._hobject:o=this.ndata?.key??0;break;case n._objname:o=this.ndata?.name??"";break;case n._classname:o=this.klass.name;break;default:if(!t)return;o=r.type===bt.STRING?"":0;break}this.vars.setValue(r,o)}),this}applyValues(t){const{values:n,klassId:r}=t;if(n?.length)if(this.klass.id===r){const{vars:o}=this.klass;n.forEach(({name:i,value:s})=>{const a=o.get(i);if(!a)return;const c=Np(a.type,s);c!==null&&this.vars.setValue(a,c)})}else console.warn(`Пропуск установки stt для ${this.path()} (id ${this.klass.id}): ожидалось id ${r} (${t.klass})`);return t.children?.forEach(o=>this.children.find(i=>i.ndata.key===o.key)?.applyValues(o)),this}getValues(){const{klass:t,ndata:n}=this,r=this.children.map(i=>i.getValues()),o=t.vars.list.map(i=>{const s=Lk(i.type,this.vars.getNewValue(i));return{name:i.name,value:s}});return{key:n?.key??0,klass:t.name,klassId:t.id,values:o,children:r}}computeAndPushVector(t,n,{a:r,b:o}){const{vars:i}=this,{oldFloats:s,newFloats:a}=i.values;let c=!1;const d=t(this,i),h=n.map(f=>{a[f]=s[f]=1;const g=d-t(this,i);return a[f]=s[f]=0,g!==0&&(c=!0),g});c&&(r.push(h),o.push(d))}computeEquationVectors(t,n){this.children.forEach(r=>r.computeEquationVectors(t,n)),this.klass.equations.forEach(r=>this.computeAndPushVector(r,t,n))}computeSchemaDefers(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchemaDefers()),this.klass.defers.forEach(t=>t(this,this.vars))}computeSchema(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchema()),Nr.debugExecution&&console.log(`Выполняется ${this.path()}`);try{this.klass.main?.(this,this.vars)}catch(t){throw t instanceof Error?new C0(`${this.path()}: ${t.message}`,t):t}}compute(t){!t&&this.isDisabled()||(this.prj.beforeCompute(),this.computeSchema(),this.prj.solveGlobalEquations(),this.computeSchemaDefers(),this.prj.afterCompute())}userFunction(t,n){const r=this.kernel.classes.get(t);if(!r)throw Error(`Функция не существует: ${t}`);if(r.compile(),!r.isFunction)throw Error(`Имидж ${t} существует, но не является функцией`);const o=r.vars.list;if(n.length>o.length)throw Error(`${t}: ${n.length} аргументов, но функция имеет ${o.length} переменных`);let i=rA.get(o);if(!i){const c=new eA;i={map:o.map(d=>c.add(d)),varCount:c},rA.set(o,i)}const s=new JD(i.map,new Sle(i.varCount));n.forEach((c,d)=>{const h=o[d];if(!s.setValue(h,c))throw Error(`Аргумент ${d} имеет тип ${typeof c}; ожидалось ${h.type}`)}),r.main?.(this,s);const a=o.find(c=>c.attrib&et.VF_RETURN);if(a)return s.getNewValue(a)}solveEquationsFor(t){this.prj.solveEquationsFor(t)}path(){if(this===this.prj.root)return this.klass.name;const t=[this];for(;;){const n=t[0].resolveMap.get("..");if(n===this.prj.root)break;t.unshift(n)}return t.map(n=>`${n.klass.name} (#${n.ndata.key})`).join(" - ")}setNewValue(t,n){const{newFloats:r,newInts:o,newStrings:i}=this.vars.values,s=this.vars.map[t.id];switch(t.type){case bt.FLOAT:if(typeof n!="number")return!1;r[s]=n;break;case bt.HANDLE:case bt.COLORREF:if(typeof n!="number")return!1;o[s]=n;break;case bt.STRING:if(typeof n!="string")return!1;i[s]=n;break}return!0}getVarValueFHC(t){const{newFloats:n,newInts:r}=this.vars.values,o=this.vars.map[t.id];switch(t.type){case bt.FLOAT:return n[o];case bt.HANDLE:case bt.COLORREF:return r[o];default:return null}}getVarValueS(t){return t.type===bt.STRING?this.vars.values.newStrings[this.vars.map[t.id]]:null}_warn(t){console.warn(`${this.path()}: ${t}`)}}class Ole{constructor({id:t,dir:n,rootKlass:r,state:o,kernel:i,settings:s}){this.memory=new wle,this.classTypes=new WeakMap,this.id=t,this.dir=n,this.kernel=i,this.settings=s;const a=new Set,c=new eA,d=tA(r,i.classes,c),h=this.root=nA(d,this,a);this.memory.alloc(c),h.initValues(),o&&h.applyValues(o),this.equationVars=Array.from(a)}createSchema({varMap:t,...n}){const r=new Mle({...n,vars:new JD(t,this.memory)}),o=this.classTypes.get(r.klass);return o?o.push(r):this.classTypes.set(r.klass,[r]),r}getKlassSchemas(t){return this.classTypes.get(t)??[]}solveGlobalEquations(){const{equationVars:t}=this;t.length&&this.solveEquationsFor(t)}solveEquationsFor(t){const{oldFloats:n,newFloats:r}=this.memory,o=t.map(s=>{const a=n[s];return r[s]=n[s]=0,a}),i={a:[],b:[]};this.root.computeEquationVectors(t,i),t.forEach((s,a)=>n[s]=o[a]);try{const s=iq(i);t.forEach((a,c)=>r[a]=s[c])}catch{t.forEach(a=>r[a]=0)}}beforeCompute(){this.kernel.beforeCompute.dispatch()}afterCompute(){this.memory.sync(),this.kernel.afterCompute.dispatch()}close(){this.kernel.closeProject(this)}}let x0=class{constructor(t=""){this.name=t,this.type="folder",this.items=new Map}};class _0{constructor(t,n){this.root=t,this.stdlibDir=n,this.uploadsDir=new ns(this.root,["C:","Uploads"]),this.downloadsDir=new ns(this.root,["C:","Downloads"]),this.appData=new ns(this.root,["C:","Users","User","AppData","Roaming"]),this.loadedLibs=new Set,this.uploadsDir.create("folder"),this.downloadsDir.create("folder")}static async create(){const t=new x0,n=new ns(t,["C:","library"]),{files:r}=await yy({src:ok});return r.forEach(o=>n.resolve(o.path).createWithDirs(o)),new _0(t,n)}async mountLibrary(t){if(this.loadedLibs.size===this.loadedLibs.add(t.src).size)return;const{files:n}=t.data||await yy(t,{cache:Nr.cache});n.forEach(r=>this.path(t.mount?`${t.mount}/${r.path}`:r.path).createWithDirs(r))}path(t){return new ns(this.root,["D:"].concat(t.split("/")))}}class oA{constructor(t,n={}){this.path=t,this.type="file",this.size=null,this.cls=null,this.image=null,this.scene=null,this.video=null,this.audio=null,this.ttf=null,this.cursor=null,this.stt=null,this.mat=null,this.base64=null,this.mesh=null,this.set(n)}set({size:t=this.size,cls:n=this.cls,image:r=this.image,scene:o=this.scene,video:i=this.video,audio:s=this.audio,ttf:a=this.ttf,cursor:c=this.cursor,stt:d=this.stt,mat:h=this.mat,mesh:f=this.mesh,base64:g=this.base64}){return this.size=t,this.cls=n,this.image=r,this.scene=o,this.video=i,this.audio=s,this.ttf=a,this.cursor=c,this.stt=d,this.mat=h,this.mesh=f,this.base64=g,this}}class ns{constructor(t,n,r){if(this.fs=t,this.parts=n,this.str=null,n[0].length!==2&&n[0][1]!==":")throw Error("Неправильное имя тома диска");this.partsUC=r??n.map(o=>o.toUpperCase())}static splitPath(t){return t.split(/[/\\]/).map(n=>n.trim()).filter(n=>n.length>0)}resolve(t){const n=ns.splitPath(t);if(!n.length)return this;const r=n[0].length===2&&n[0][1]===":",o=r?[n[0]]:this.parts.slice(),i=r?[n[0].toUpperCase()]:this.partsUC.slice();for(let s=r?1:0;s<n.length;++s){const a=n[s];a===".."?o.length>1&&(o.pop(),i.pop()):a!=="."&&(o.push(a),i.push(a.toUpperCase()))}return new ns(this.fs,o,i)}toString(){return this.str?this.str:this.str=this.parts.join("\\")}basename(){return this.parts[this.parts.length-1]}equals(t){if(this===t)return!0;const n=this.partsUC,r=t.partsUC;if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==r[o])return!1;return!0}startsWith(t){const n=this.partsUC,r=t.partsUC;if(n.length<r.length)return!1;for(let o=0;o<r.length;++o)if(n[o]!==r[o])return!1;return!0}static getFolder(t,n,r){let o=t;for(let i=0;i<n.length-(r?0:1);++i){const s=o.items.get(n[i]);if(!s||s.type!=="folder")return null;o=s}return o}create(t,n){const{partsUC:r}=this,o=ns.getFolder(this.fs,r);if(!o)return null;const i=r[r.length-1],s=o.items.get(i);if(t==="folder")return s||o.items.set(i,new x0),this;if(s)return s.type!=="file"?null:(n&&s.set(n),s);const a=new oA(this,n);return o.items.set(i,a),a}createWithDirs(t){const{parts:n,partsUC:r}=this;let o=this.fs;for(let c=0;c<n.length-1;++c){let d=o.items.get(r[c]);if(!d)d=new x0(n[c]),o.items.set(r[c],d);else if(d.type==="file")throw Error(`Невозможно создать директорию ${this}: файл ${d.path} уже существует.`);o=d}const i=r[r.length-1];if(o.items.has(i))throw Error(`Невозможно создать директорию ${this}: файл уже существует.`);const a=new oA(this,t);return o.items.set(i,a),a}fileExist(){const{partsUC:t}=this,n=ns.getFolder(this.fs,t);if(!n)return!1;const r=t[t.length-1];return n.items.get(r)?.type==="file"}file(){const{partsUC:t}=this,n=ns.getFolder(this.fs,t);if(!n)return Nr.debugFile&&console.warn(`${this.toString()} не существует`),null;const r=t[t.length-1],o=n.items.get(r);return o?o.type!=="file"?(Nr.debugFile&&console.warn(`${this.toString()} является каталогом`),null):o:(Nr.debugFile&&console.warn(`${this.toString()} не существует`),null)}forEach(t,n){const{partsUC:r}=this,o=ns.getFolder(this.fs,r,!0);o&&o.items.forEach(function i(s){s.type==="folder"?n&&s.items.forEach(i):t(s)})}matchGlob(){const{partsUC:t}=this,n=ns.getFolder(this.fs,t);if(!n)return[];const r=t[t.length-1];if(r.includes("*")){const[s,a]=r.split("*");let c;return!s&&!a?c=[".","..",...n.items]:c=[...n.items].filter(([d])=>d.startsWith(s)&&d.endsWith(a)),c.map(d=>{if(typeof d=="string")return{name:d,size:0};const h=d[1];return h.type==="folder"?{name:h.name,size:0}:{name:h.path.basename(),size:h.size??0}})}const o=n.items.get(r);return o?[o.type==="folder"?{name:o.name,size:0}:{name:o.path.basename(),size:o.size??0}]:[]}}function Rle(e=[]){const t=new Ok;return ZD.concat(e).forEach(n=>n.register(t.addFunc.bind(t))),t}function qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Ile={};function by(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ile}var iA=Object.assign,wy=Object.getOwnPropertyDescriptor,Wa=Object.defineProperty,Sy=Object.prototype,E0=[];Object.freeze(E0);var T0={};Object.freeze(T0);var Ple=typeof Proxy<"u",kle=Object.toString();function sA(){Ple||qn("Proxy not available")}function aA(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Vh=function(){};function ma(e){return typeof e=="function"}function Qu(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Cy(e){return e!==null&&typeof e=="object"}function Ac(e){if(!Cy(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===kle}function lA(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function xy(e,t,n){Wa(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function cA(e,t,n){Wa(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Ju(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Cy(r)&&r[n]===!0}}function $h(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Dle(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function $l(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var uA=typeof Object.getOwnPropertySymbols<"u";function Ale(e){var t=Object.keys(e);if(!uA)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Sy.propertyIsEnumerable.call(e,r)})):t}var _y=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:uA?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function dA(e){return e===null?null:typeof e=="object"?""+e:e}function zl(e,t){return Sy.hasOwnProperty.call(e,t)}var Lle=Object.getOwnPropertyDescriptors||function(t){var n={};return _y(t).forEach(function(r){n[r]=wy(t,r)}),n};function rs(e,t){return!!(e&t)}function os(e,t,n){return n?e|=t:e&=~t,e}function hA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Nle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fle(r.key),r)}}function zh(e,t,n){return t&&Nle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uh(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=jle(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ed.apply(null,arguments)}function fA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M0(e,t)}function M0(e,t){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},M0(e,t)}function Ble(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fle(e){var t=Ble(e,"string");return typeof t=="symbol"?t:t+""}function jle(e,t){if(e){if(typeof e=="string")return hA(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hA(e,t):void 0}}var Ka=Symbol("mobx-stored-annotations");function qa(e){function t(n,r){if(Yp(r))return e.decorate_20223_(n,r);qp(n,r,e)}return Object.assign(t,e)}function qp(e,t,n){zl(e,Ka)||xy(e,Ka,ed({},e[Ka])),Wle(n)||(e[Ka][t]=n)}function Vle(e){return zl(e,Ka)||xy(e,Ka,ed({},e[Ka])),e[Ka]}function Yp(e){return typeof e=="object"&&typeof e.kind=="string"}var bn=Symbol("mobx administration"),Lc=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Qn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return kA(this)},t.reportChanged=function(){Is(),DA(this),Ps()},t.toString=function(){return this.name_},zh(e,[{key:"isBeingObserved",get:function(){return rs(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=os(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return rs(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=os(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return rs(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=os(this.flags_,e.diffValueMask_,r===1)}}])})();Lc.isBeingObservedMask_=1,Lc.isPendingUnobservationMask_=2,Lc.diffValueMask_=4;var O0=Ju("Atom",Lc);function pA(e,t,n){t===void 0&&(t=Vh),n===void 0&&(n=Vh);var r=new Lc(e);return t!==Vh&&Zce(r,t),n!==Vh&&VA(r,n),r}function $le(e,t){return aL(e,t)}function zle(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Hh={structural:$le,default:zle};function td(e,t,n){return GA(e)?e:Array.isArray(e)?Pe.array(e,{name:n}):Ac(e)?Pe.object(e,void 0,{name:n}):$h(e)?Pe.map(e,{name:n}):$l(e)?Pe.set(e,{name:n}):typeof e=="function"&&!eg(e)&&!tg(e)?lA(e)?oo(e):Jp(n,e):e}function Ule(e,t,n){if(e==null||Uy(e)||$y(e)||id(e)||Za(e))return e;if(Array.isArray(e))return Pe.array(e,{name:n,deep:!1});if(Ac(e))return Pe.object(e,void 0,{name:n,deep:!1});if($h(e))return Pe.map(e,{name:n,deep:!1});if($l(e))return Pe.set(e,{name:n,deep:!1})}function Ey(e){return e}function Hle(e,t){return aL(e,t)?t:e}var Gle="override";function Wle(e){return e.annotationType_===Gle}function Xp(e,t){return{annotationType_:e,options_:t,make_:Kle,extend_:qle,decorate_20223_:Yle}}function Kle(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(eg(n.value))return 1;var i=gA(e,this,t,n,!1);return Wa(r,t,i),2}function qle(e,t,n,r){var o=gA(e,this,t,n);return e.defineProperty_(t,o,r)}function Yle(e,t){var n=t.kind,r=t.name,o=t.addInitializer,i=this,s=function(d){var h,f,g,m;return nd((h=(f=i.options_)==null?void 0:f.name)!=null?h:r.toString(),d,(g=(m=i.options_)==null?void 0:m.autoAction)!=null?g:!1)};if(n=="field")return function(c){var d,h=c;return eg(h)||(h=s(h)),(d=i.options_)!=null&&d.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(n=="method"){var a;return eg(e)||(e=s(e)),(a=this.options_)!=null&&a.bound&&o(function(){var c=this,d=c[r].bind(c);d.isMobxAction=!0,c[r]=d}),e}qn("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function Xle(e,t,n,r){t.annotationType_,r.value}function gA(e,t,n,r,o){var i,s,a,c,d,h,f;o===void 0&&(o=Tt.safeDescriptors),Xle(e,t,n,r);var g=r.value;if((i=t.options_)!=null&&i.bound){var m;g=g.bind((m=e.proxy_)!=null?m:e.target_)}return{value:nd((s=(a=t.options_)==null?void 0:a.name)!=null?s:n.toString(),g,(c=(d=t.options_)==null?void 0:d.autoAction)!=null?c:!1,(h=t.options_)!=null&&h.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function mA(e,t){return{annotationType_:e,options_:t,make_:Zle,extend_:Qle,decorate_20223_:Jle}}function Zle(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!zl(e.target_,t)||!tg(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(tg(n.value))return 1;var i=vA(e,this,t,n,!1,!1);return Wa(r,t,i),2}function Qle(e,t,n,r){var o,i=vA(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,i,r)}function Jle(e,t){var n,r=t.name,o=t.addInitializer;return tg(e)||(e=oo(e)),(n=this.options_)!=null&&n.bound&&o(function(){var i=this,s=i[r].bind(i);s.isMobXFlow=!0,i[r]=s}),e}function ece(e,t,n,r){t.annotationType_,r.value}function vA(e,t,n,r,o,i){i===void 0&&(i=Tt.safeDescriptors),ece(e,t,n,r);var s=r.value;if(tg(s)||(s=oo(s)),o){var a;s=s.bind((a=e.proxy_)!=null?a:e.target_),s.isMobXFlow=!0}return{value:s,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function R0(e,t){return{annotationType_:e,options_:t,make_:tce,extend_:nce,decorate_20223_:rce}}function tce(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function nce(e,t,n,r){return oce(e,this,t,n),e.defineComputedProperty_(t,ed({},this.options_,{get:n.get,set:n.set}),r)}function rce(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var i=Wh(this)[bn],s=ed({},n.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+r.toString()),i.values_.set(r,new va(s))}),function(){return this[bn].getObservablePropValue_(r)}}function oce(e,t,n,r){t.annotationType_,r.get}function Ty(e,t){return{annotationType_:e,options_:t,make_:ice,extend_:sce,decorate_20223_:ace}}function ice(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function sce(e,t,n,r){var o,i;return lce(e,this),e.defineObservableProperty_(t,n.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:td,r)}function ace(e,t){var n=this,r=t.kind,o=t.name,i=new WeakSet;function s(a,c){var d,h,f=Wh(a)[bn],g=new rd(c,(d=(h=n.options_)==null?void 0:h.enhancer)!=null?d:td,"ObservableObject."+o.toString(),!1);f.values_.set(o,g),i.add(a)}if(r=="accessor")return{get:function(){return i.has(this)||s(this,e.get.call(this)),this[bn].getObservablePropValue_(o)},set:function(c){return i.has(this)||s(this,c),this[bn].setObservablePropValue_(o,c)},init:function(c){return i.has(this)||s(this,c),c}}}function lce(e,t,n,r){t.annotationType_}var cce="true",uce=yA();function yA(e){return{annotationType_:cce,options_:e,make_:dce,extend_:hce,decorate_20223_:fce}}function dce(e,t,n,r){var o,i;if(n.get)return qr.make_(e,t,n,r);if(n.set){var s=nd(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:Tt.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(Wa(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(lA(n.value)){var c,d=(c=this.options_)!=null&&c.autoBind?oo.bound:oo;return d.make_(e,t,n,r)}var h=(a=this.options_)!=null&&a.autoBind?Jp.bound:Jp;return h.make_(e,t,n,r)}var f=((o=this.options_)==null?void 0:o.deep)===!1?Pe.ref:Pe;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var g;n.value=n.value.bind((g=e.proxy_)!=null?g:e.target_)}return f.make_(e,t,n,r)}function hce(e,t,n,r){var o,i;if(n.get)return qr.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:Tt.safeDescriptors?e.isPlainObject_:!0,set:nd(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var s;n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)}var a=((i=this.options_)==null?void 0:i.deep)===!1?Pe.ref:Pe;return a.extend_(e,t,n,r)}function fce(e,t){qn("'"+this.annotationType_+"' cannot be used as a decorator")}var pce="observable",gce="observable.ref",mce="observable.shallow",vce="observable.struct",bA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(bA);function My(e){return e||bA}var I0=Ty(pce),yce=Ty(gce,{enhancer:Ey}),bce=Ty(mce,{enhancer:Ule}),wce=Ty(vce,{enhancer:Hle}),wA=qa(I0);function Oy(e){return e.deep===!0?td:e.deep===!1?Ey:Cce(e.defaultDecorator)}function Sce(e){var t;return e?(t=e.defaultDecorator)!=null?t:yA(e):void 0}function Cce(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:td}function SA(e,t,n){if(Yp(t))return I0.decorate_20223_(e,t);if(Qu(t)){qp(e,t,I0);return}return GA(e)?e:Ac(e)?Pe.object(e,t,n):Array.isArray(e)?Pe.array(e,t):$h(e)?Pe.map(e,t):$l(e)?Pe.set(e,t):typeof e=="object"&&e!==null?e:Pe.box(e,t)}iA(SA,wA);var xce={box:function(t,n){var r=My(n);return new rd(t,Oy(r),r.name,!0,r.equals)},array:function(t,n){var r=My(n);return(Tt.useProxies===!1||r.proxy===!1?Sue:due)(t,Oy(r),r.name)},map:function(t,n){var r=My(n);return new qA(t,Oy(r),r.name)},set:function(t,n){var r=My(n);return new XA(t,Oy(r),r.name)},object:function(t,n,r){return sd(function(){return tue(Tt.useProxies===!1||r?.proxy===!1?Wh({},r):lue({},r),t,n)})},ref:qa(yce),shallow:qa(bce),deep:wA,struct:qa(wce)},Pe=iA(SA,xce),CA="computed",_ce="computed.struct",P0=R0(CA),Ece=R0(_ce,{equals:Hh.structural}),qr=function(t,n){if(Yp(n))return P0.decorate_20223_(t,n);if(Qu(n))return qp(t,n,P0);if(Ac(t))return qa(R0(CA,t));var r=Ac(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new va(r)};Object.assign(qr,P0),qr.struct=qa(Ece);var xA,_A,Ry=0,Tce=1,Mce=(xA=(_A=wy(function(){},"name"))==null?void 0:_A.configurable)!=null?xA:!1,EA={value:"action",configurable:!0,writable:!1,enumerable:!1};function nd(e,t,n,r){n===void 0&&(n=!1);function o(){return Oce(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},Mce&&(EA.value=e,Wa(o,"name",EA)),o}function Oce(e,t,n,r,o){var i=Rce(e,t);try{return n.apply(r,o)}catch(s){throw i.error_=s,s}finally{Ice(i)}}function Rce(e,t,n,r){var o=!1,i=0,s=Tt.trackingDerivation,a=!t||!s;Is();var c=Tt.allowStateChanges;a&&(od(),c=Iy(!0));var d=A0(!0),h={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:c,prevAllowStateReads_:d,notifySpy_:o,startTime_:i,actionId_:Tce++,parentActionId_:Ry};return Ry=h.actionId_,h}function Ice(e){Ry!==e.actionId_&&qn(30),Ry=e.parentActionId_,e.error_!==void 0&&(Tt.suppressReactionErrors=!0),Py(e.prevAllowStateChanges_),Zp(e.prevAllowStateReads_),Ps(),e.runAsAction_&&Ul(e.prevDerivation_),Tt.suppressReactionErrors=!1}function Pce(e,t){var n=Iy(e);try{return t()}finally{Py(n)}}function Iy(e){var t=Tt.allowStateChanges;return Tt.allowStateChanges=e,t}function Py(e){Tt.allowStateChanges=e}var rd=(function(e){function t(r,o,i,s,a){var c;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=Hh.default),c=e.call(this,i)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=o,c.name_=i,c.equals=a,c.value_=o(r,void 0,i),c}fA(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==Tt.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(ks(this)){var i=Ds(this,{object:this,type:Xa,newValue:o});if(!i)return Tt.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?Tt.UNCHANGED:o},n.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),ya(this)&&ba(this,{type:Xa,object:this,newValue:o,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return ng(this,o)},n.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Xa,newValue:this.value_,oldValue:void 0}),rg(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return dA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(Lc),va=(function(){function e(n){this.dependenciesState_=Qn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Qn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ay(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Dy.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||qn(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=nd("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Hh.structural:Hh.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Nce(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&qn(32,this.name_,this.derivation),Tt.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)k0(this)&&(this.warnAboutUntrackedRead_(),Is(),this.value_=this.computeValue_(!1),Ps());else if(kA(this),k0(this)){var r=Tt.trackingContext;this.keepAlive_&&!r&&(Tt.trackingContext=this),this.trackAndCompute()&&Lce(this),Tt.trackingContext=r}var o=this.value_;if(Ly(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&qn(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else qn(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Qn.NOT_TRACKING_,i=this.computeValue_(!0),s=o||Ly(r)||Ly(i)||!this.equals_(r,i);return s&&(this.value_=i),s},t.computeValue_=function(r){this.isComputing=!0;var o=Iy(!1),i;if(r)i=TA(this,this.derivation,this.scope_);else if(Tt.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(s){i=new Ay(s)}return Py(o),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||(D0(this),this.value_=void 0)},t.observe_=function(r,o){var i=this,s=!0,a=void 0;return FA(function(){var c=i.get();if(!s||o){var d=od();r({observableKind:"computed",debugObjectName:i.name_,type:Xa,object:i,newValue:c,oldValue:a}),Ul(d)}s=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return dA(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},zh(e,[{key:"isComputing",get:function(){return rs(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=os(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return rs(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=os(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return rs(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=os(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return rs(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=os(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return rs(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=os(this.flags_,e.diffValueMask_,r===1)}}])})();va.isComputingMask_=1,va.isRunningSetterMask_=2,va.isBeingObservedMask_=4,va.isPendingUnobservationMask_=8,va.diffValueMask_=16;var ky=Ju("ComputedValue",va),Qn;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Qn||(Qn={}));var Dy;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Dy||(Dy={}));var Ay=function(t){this.cause=void 0,this.cause=t};function Ly(e){return e instanceof Ay}function k0(e){switch(e.dependenciesState_){case Qn.UP_TO_DATE_:return!1;case Qn.NOT_TRACKING_:case Qn.STALE_:return!0;case Qn.POSSIBLY_STALE_:{for(var t=A0(!0),n=od(),r=e.observing_,o=r.length,i=0;i<o;i++){var s=r[i];if(ky(s)){if(Tt.disableErrorBoundaries)s.get();else try{s.get()}catch{return Ul(n),Zp(t),!0}if(e.dependenciesState_===Qn.STALE_)return Ul(n),Zp(t),!0}}return OA(e),Ul(n),Zp(t),!1}}}function y4e(e){}function TA(e,t,n){var r=A0(!0);OA(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Tt.runId;var o=Tt.trackingDerivation;Tt.trackingDerivation=e,Tt.inBatch++;var i;if(Tt.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(s){i=new Ay(s)}return Tt.inBatch--,Tt.trackingDerivation=o,kce(e),Zp(r),i}function kce(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Qn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,s=0;s<i;s++){var a=n[s];a.diffValue===0&&(a.diffValue=1,o!==s&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];c.diffValue===0&&IA(c,e),c.diffValue=0}for(;o--;){var d=n[o];d.diffValue===1&&(d.diffValue=0,Ace(d,e))}r!==Qn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function D0(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)IA(t[n],e);e.dependenciesState_=Qn.NOT_TRACKING_}function MA(e){var t=od();try{return e()}finally{Ul(t)}}function od(){var e=Tt.trackingDerivation;return Tt.trackingDerivation=null,e}function Ul(e){Tt.trackingDerivation=e}function A0(e){var t=Tt.allowStateReads;return Tt.allowStateReads=e,t}function Zp(e){Tt.allowStateReads=e}function OA(e){if(e.dependenciesState_!==Qn.UP_TO_DATE_){e.dependenciesState_=Qn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Qn.UP_TO_DATE_}}var Ny=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},By=!0,RA=!1,Tt=(function(){var e=by();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(By=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Ny().version&&(By=!1),By?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ny):(setTimeout(function(){RA||qn(35)},1),new Ny)})();function Dce(){if((Tt.pendingReactions.length||Tt.inBatch||Tt.isRunningReactions)&&qn(36),RA=!0,By){var e=by();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),Tt=new Ny}}function Ace(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function IA(e,t){e.observers_.delete(t),e.observers_.size===0&&PA(e)}function PA(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Tt.pendingUnobservations.push(e))}function Is(){Tt.inBatch++}function Ps(){if(--Tt.inBatch===0){AA();for(var e=Tt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof va&&n.suspend_())}Tt.pendingUnobservations=[]}}function kA(e){var t=Tt.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Tt.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&Tt.inBatch>0&&PA(e),!1)}function DA(e){e.lowestObserverState_!==Qn.STALE_&&(e.lowestObserverState_=Qn.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Qn.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Qn.STALE_}))}function Lce(e){e.lowestObserverState_!==Qn.STALE_&&(e.lowestObserverState_=Qn.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Qn.POSSIBLY_STALE_?t.dependenciesState_=Qn.STALE_:t.dependenciesState_===Qn.UP_TO_DATE_&&(e.lowestObserverState_=Qn.UP_TO_DATE_)}))}function Nce(e){e.lowestObserverState_===Qn.UP_TO_DATE_&&(e.lowestObserverState_=Qn.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Qn.UP_TO_DATE_&&(t.dependenciesState_=Qn.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Ya=(function(){function e(n,r,o,i){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Qn.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Dy.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Tt.pendingReactions.push(this),AA())},t.runReaction_=function(){if(!this.isDisposed){Is(),this.isScheduled=!1;var r=Tt.trackingContext;if(Tt.trackingContext=this,k0(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}Tt.trackingContext=r,Ps()}},t.track=function(r){if(!this.isDisposed){Is(),this.isRunning=!0;var o=Tt.trackingContext;Tt.trackingContext=this;var i=TA(this,r,void 0);Tt.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&D0(this),Ly(i)&&this.reportExceptionInDerivation_(i.cause),Ps()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Tt.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";Tt.suppressReactionErrors||console.error(i,r),Tt.globalReactionErrorHandlers.forEach(function(s){return s(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Is(),D0(this),Ps()))},t.getDisposer_=function(r){var o=this,i=function s(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[bn]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},zh(e,[{key:"isDisposed",get:function(){return rs(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=os(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return rs(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=os(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return rs(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=os(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return rs(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=os(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return rs(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=os(this.flags_,e.diffValueMask_,r===1)}}])})();Ya.isDisposedMask_=1,Ya.isScheduledMask_=2,Ya.isTrackPendingMask_=4,Ya.isRunningMask_=8,Ya.diffValueMask_=16;var Bce=100,L0=function(t){return t()};function AA(){Tt.inBatch>0||Tt.isRunningReactions||L0(Fce)}function Fce(){Tt.isRunningReactions=!0;for(var e=Tt.pendingReactions,t=0;e.length>0;){++t===Bce&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}Tt.isRunningReactions=!1}var Fy=Ju("Reaction",Ya);function jce(e){var t=L0;L0=function(r){return e(function(){return t(r)})}}function Qp(){return!1}function b4e(e){}function w4e(e){}function S4e(e){}function Vce(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var LA="action",$ce="action.bound",NA="autoAction",zce="autoAction.bound",Uce="<unnamed action>",N0=Xp(LA),Hce=Xp($ce,{bound:!0}),B0=Xp(NA,{autoAction:!0}),Gce=Xp(zce,{autoAction:!0,bound:!0});function BA(e){var t=function(r,o){if(ma(r))return nd(r.name||Uce,r,e);if(ma(o))return nd(r,o,e);if(Yp(o))return(e?B0:N0).decorate_20223_(r,o);if(Qu(o))return qp(r,o,e?B0:N0);if(Qu(r))return qa(Xp(e?NA:LA,{name:r,autoAction:e}))};return t}var ye=BA(!1);Object.assign(ye,N0);var Jp=BA(!0);Object.assign(Jp,B0),ye.bound=qa(Hce),Jp.bound=qa(Gce);function eg(e){return ma(e)&&e.isMobxAction===!0}function FA(e,t){var n,r,o,i;t===void 0&&(t=T0);var s=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new Ya(s,function(){this.track(f)},t.onError,t.requiresObservable);else{var d=jA(t),h=!1;c=new Ya(s,function(){h||(h=!0,d(function(){h=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){e(c)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((i=t)==null?void 0:i.signal)}var Wce=function(t){return t()};function jA(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Wce}function Kce(e,t,n){var r,o,i;n===void 0&&(n=T0);var s=(r=n.name)!=null?r:"Reaction",a=ye(s,n.onError?qce(n.onError,t):t),c=!n.scheduler&&!n.delay,d=jA(n),h=!0,f=!1,g,m=n.compareStructural?Hh.structural:n.equals||Hh.default,y=new Ya(s,function(){h||c?b():f||(f=!0,d(b))},n.onError,n.requiresObservable);function b(){if(f=!1,!y.isDisposed){var v=!1,S=g;y.track(function(){var E=Pce(!1,function(){return e(y)});v=h||!m(g,E),g=E}),(h&&n.fireImmediately||!h&&v)&&a(g,S,y),h=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||y.schedule_(),y.getDisposer_((i=n)==null?void 0:i.signal)}function qce(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var Yce="onBO",Xce="onBUO";function Zce(e,t,n){return $A(Yce,e,t,n)}function VA(e,t,n){return $A(Xce,e,t,n)}function $A(e,t,n,r){var o=Hy(t),i=ma(r)?r:n,s=e+"L";return o[s]?o[s].add(i):o[s]=new Set([i]),function(){var a=o[s];a&&(a.delete(i),a.size===0&&delete o[s])}}var Qce="never",jy="always",Jce="observed";function eue(e){e.isolateGlobalState===!0&&Dce();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(Tt.useProxies=t===jy?!0:t===Qce?!1:typeof Proxy<"u"),t==="ifavailable"&&(Tt.verifyProxies=!0),n!==void 0){var r=n===jy?jy:n===Jce;Tt.enforceActions=r,Tt.allowStateChanges=!(r===!0||r===jy)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(Tt[o]=!!e[o])}),Tt.allowStateReads=!Tt.observableRequiresReaction,e.reactionScheduler&&jce(e.reactionScheduler)}function tue(e,t,n,r){var o=Lle(t);return sd(function(){var i=Wh(e,r)[bn];_y(o).forEach(function(s){i.extend_(s,o[s],n&&s in n?n[s]:!0)})}),e}function nue(e,t){return zA(Hy(e,t))}function zA(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=rue(e.observing_).map(zA)),t}function rue(e){return Array.from(new Set(e))}var oue=0;function UA(){this.message="FLOW_CANCELLED"}UA.prototype=Object.create(Error.prototype);var F0=mA("flow"),iue=mA("flow.bound",{bound:!0}),oo=Object.assign(function(t,n){if(Yp(n))return F0.decorate_20223_(t,n);if(Qu(n))return qp(t,n,F0);var r=t,o=r.name||"<unnamed flow>",i=function(){var a=this,c=arguments,d=++oue,h=ye(o+" - runid: "+d+" - init",r).apply(a,c),f,g=void 0,m=new Promise(function(y,b){var v=0;f=b;function S(R){g=void 0;var M;try{M=ye(o+" - runid: "+d+" - yield "+v++,h.next).call(h,R)}catch(I){return b(I)}T(M)}function E(R){g=void 0;var M;try{M=ye(o+" - runid: "+d+" - yield "+v++,h.throw).call(h,R)}catch(I){return b(I)}T(M)}function T(R){if(ma(R?.then)){R.then(T,b);return}return R.done?y(R.value):(g=Promise.resolve(R.value),g.then(S,E))}S(void 0)});return m.cancel=ye(o+" - runid: "+d+" - cancel",function(){try{g&&HA(g);var y=h.return(void 0),b=Promise.resolve(y.value);b.then(Vh,Vh),HA(b),f(new UA)}catch(v){f(v)}}),m};return i.isMobXFlow=!0,i},F0);oo.bound=qa(iue);function HA(e){ma(e.cancel)&&e.cancel()}function tg(e){return e?.isMobXFlow===!0}function sue(e,t){return e?Uy(e)||!!e[bn]||O0(e)||Fy(e)||ky(e):!1}function GA(e){return sue(e)}function Hl(e,t){t===void 0&&(t=void 0),Is();try{return e.apply(t)}finally{Ps()}}function Gh(e){return e[bn]}var aue={has:function(t,n){return Gh(t).has_(n)},get:function(t,n){return Gh(t).get_(n)},set:function(t,n,r){var o;return Qu(n)?(o=Gh(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return Qu(n)?(r=Gh(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=Gh(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return Gh(t).ownKeys_()},preventExtensions:function(t){qn(13)}};function lue(e,t){var n,r;return sA(),e=Wh(e,t),(r=(n=e[bn]).proxy_)!=null?r:n.proxy_=new Proxy(e,aue)}function ks(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function ng(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),aA(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ds(e,t){var n=od();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&(t=r[o](t),t&&!t.type&&qn(14),!!t);o++);return t}finally{Ul(n)}}function ya(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function rg(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),aA(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ba(e,t){var n=od(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);Ul(n)}}function vt(e,t,n){return sd(function(){var r,o=Wh(e,n)[bn];(r=t)!=null||(t=Vle(e)),_y(t).forEach(function(i){return o.make_(i,t[i])})}),e}var WA="splice",Xa="update",cue=1e4,uue={get:function(t,n){var r=t[bn];return n===bn?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):zl(Vy,n)?Vy[n]:t[n]},set:function(t,n,r){var o=t[bn];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){qn(15)}},j0=(function(){function e(n,r,o,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new Lc(n),this.enhancer_=function(s,a){return r(s,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return ng(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),rg(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&qn("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var i=new Array(r-o),s=0;s<r-o;s++)i[s]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&qn(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&iL(r+o+1)},t.spliceWithArray_=function(r,o,i){var s=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),i===void 0&&(i=E0),ks(this)){var c=Ds(this,{object:this.proxy_,type:WA,index:r,removedCount:o,added:i});if(!c)return E0;o=c.removedCount,i=c.added}if(i=i.length===0?i:i.map(function(f){return s.enhancer_(f,void 0)}),this.legacyMode_){var d=i.length-o;this.updateArrayLength_(a,d)}var h=this.spliceItemsIntoValues_(r,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(r,i,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(r,o,i){if(i.length<cue){var s;return(s=this.values_).splice.apply(s,[r,o].concat(i))}else{var a=this.values_.slice(r,r+o),c=this.values_.slice(r+o);this.values_.length+=i.length-o;for(var d=0;d<i.length;d++)this.values_[r+d]=i[d];for(var h=0;h<c.length;h++)this.values_[r+i.length+h]=c[h];return a}},t.notifyArrayChildUpdate_=function(r,o,i){var s=!this.owned_&&Qp(),a=ya(this),c=a||s?{observableKind:"array",object:this.proxy_,type:Xa,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:i}:null;this.atom_.reportChanged(),a&&ba(this,c)},t.notifyArraySplice_=function(r,o,i){var s=!this.owned_&&Qp(),a=ya(this),c=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:WA,index:r,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&ba(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var i=this.values_;if(this.legacyMode_&&r>i.length&&qn(17,r,i.length),r<i.length){this.atom_;var s=i[r];if(ks(this)){var a=Ds(this,{type:Xa,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,s);var c=o!==s;c&&(i[r]=o,this.notifyArrayChildUpdate_(r,o,s))}else{for(var d=new Array(r+1-i.length),h=0;h<d.length-1;h++)d[h]=void 0;d[d.length-1]=o,this.spliceWithArray_(i.length,0,d)}},e})();function due(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),sA(),sd(function(){var o=new j0(n,t,r,!1);cA(o.values_,bn,o);var i=new Proxy(o.values_,uue);return o.proxy_=i,e&&e.length&&o.spliceWithArray_(0,0,e),i})}var Vy={clear:function(){return this.splice(0)},replace:function(t){var n=this[bn];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var s=this[bn];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,n)}return s.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[bn].spliceWithArray_(t,n,r)},push:function(){for(var t=this[bn],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[bn].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[bn],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return Tt.trackingDerivation&&qn(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Tt.trackingDerivation&&qn(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[bn],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Br("at",is),Br("concat",is),Br("flat",is),Br("includes",is),Br("indexOf",is),Br("join",is),Br("lastIndexOf",is),Br("slice",is),Br("toString",is),Br("toLocaleString",is),Br("toSorted",is),Br("toSpliced",is),Br("with",is),Br("every",wa),Br("filter",wa),Br("find",wa),Br("findIndex",wa),Br("findLast",wa),Br("findLastIndex",wa),Br("flatMap",wa),Br("forEach",wa),Br("map",wa),Br("some",wa),Br("toReversed",wa),Br("reduce",KA),Br("reduceRight",KA);function Br(e,t){typeof Array.prototype[e]=="function"&&(Vy[e]=t(e))}function is(e){return function(){var t=this[bn];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function wa(e){return function(t,n){var r=this,o=this[bn];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[e](function(s,a){return t.call(n,s,a,r)})}}function KA(e){return function(){var t=this,n=this[bn];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(i,s,a){return o(i,s,a,t)},r[e].apply(r,arguments)}}var hue=Ju("ObservableArrayAdministration",j0);function $y(e){return Cy(e)&&hue(e[bn])}var fue={},Nc="add",zy="delete",qA=(function(){function e(n,r,o){var i=this;r===void 0&&(r=td),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[bn]=fue,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,ma(Map)||qn(18),sd(function(){i.keysAtom_=pA("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,n&&i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!Tt.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var s=i=new rd(this.has_(r),Ey,"ObservableMap.key?",!1);this.hasMap_.set(r,s),VA(s,function(){return o.hasMap_.delete(r)})}return i.get()},t.set=function(r,o){var i=this.has_(r);if(ks(this)){var s=Ds(this,{type:i?Xa:Nc,object:this,newValue:o,name:r});if(!s)return this;o=s.newValue}return i?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,ks(this)){var i=Ds(this,{type:zy,object:this,name:r});if(!i)return!1}if(this.has_(r)){var s=Qp(),a=ya(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:zy,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Hl(function(){var d;o.keysAtom_.reportChanged(),(d=o.hasMap_.get(r))==null||d.setNewValue_(!1);var h=o.data_.get(r);h.setNewValue_(void 0),o.data_.delete(r)}),a&&ba(this,c),!0}return!1},t.updateValue_=function(r,o){var i=this.data_.get(r);if(o=i.prepareNewValue_(o),o!==Tt.UNCHANGED){var s=Qp(),a=ya(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Xa,object:this,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),a&&ba(this,c)}},t.addValue_=function(r,o){var i=this;this.keysAtom_,Hl(function(){var d,h=new rd(o,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,h),o=h.value_,(d=i.hasMap_.get(r))==null||d.setNewValue_(!0),i.keysAtom_.reportChanged()});var s=Qp(),a=ya(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Nc,object:this,name:r,newValue:o}:null;a&&ba(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return YA({next:function(){var s=o.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,o=this.keys();return YA({next:function(){var s=o.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var i=Uh(this),s;!(s=i()).done;){var a=s.value,c=a[0],d=a[1];r.call(o,d,c,this)}},t.merge=function(r){var o=this;return id(r)&&(r=new Map(r)),Hl(function(){Ac(r)?Ale(r).forEach(function(i){return o.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var s=i[0],a=i[1];return o.set(s,a)}):$h(r)?(Dle(r)||qn(19,r),r.forEach(function(i,s){return o.set(s,i)})):r!=null&&qn(20,r)}),this},t.clear=function(){var r=this;Hl(function(){MA(function(){for(var o=Uh(r.keys()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.replace=function(r){var o=this;return Hl(function(){for(var i=pue(r),s=new Map,a=!1,c=Uh(o.data_.keys()),d;!(d=c()).done;){var h=d.value;if(!i.has(h)){var f=o.delete(h);if(f)a=!0;else{var g=o.data_.get(h);s.set(h,g)}}}for(var m=Uh(i.entries()),y;!(y=m()).done;){var b=y.value,v=b[0],S=b[1],E=o.data_.has(v);if(o.set(v,S),o.data_.has(v)){var T=o.data_.get(v);s.set(v,T),E||(a=!0)}}if(!a)if(o.data_.size!==s.size)o.keysAtom_.reportChanged();else for(var R=o.data_.keys(),M=s.keys(),I=R.next(),N=M.next();!I.done;){if(I.value!==N.value){o.keysAtom_.reportChanged();break}I=R.next(),N=M.next()}o.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return rg(this,r)},t.intercept_=function(r){return ng(this,r)},zh(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),id=Ju("ObservableMap",qA);function YA(e){return e[Symbol.toStringTag]="MapIterator",H0(e)}function pue(e){if($h(e)||id(e))return e;if(Array.isArray(e))return new Map(e);if(Ac(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return qn(21,e)}var gue={},XA=(function(){function e(n,r,o){var i=this;r===void 0&&(r=td),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[bn]=gue,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,ma(Set)||qn(22),this.enhancer_=function(s,a){return r(s,a,o)},sd(function(){i.atom_=pA(i.name_),n&&i.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Hl(function(){MA(function(){for(var o=Uh(r.data_.values()),i;!(i=o()).done;){var s=i.value;r.delete(s)}})})},t.forEach=function(r,o){for(var i=Uh(this),s;!(s=i()).done;){var a=s.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(this.atom_,ks(this)){var i=Ds(this,{type:Nc,object:this,newValue:r});if(!i)return this;r=i.newValue}if(!this.has(r)){Hl(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var s=!1,a=ya(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:Nc,object:this,newValue:r}:null;a&&ba(this,c)}return this},t.delete=function(r){var o=this;if(ks(this)){var i=Ds(this,{type:zy,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var s=!1,a=ya(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:zy,object:this,oldValue:r}:null;return Hl(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&ba(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return ZA({next:function(){var i=r.next(),s=i.value,a=i.done;return a?{value:void 0,done:a}:{value:[s,s],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return ZA({next:function(){var s=o.next(),a=s.value,c=s.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(a),done:c}}})},t.intersection=function(r){if($l(r)&&!Za(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if($l(r)&&!Za(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if($l(r)&&!Za(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if($l(r)&&!Za(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return Za(r)&&(r=new Set(r)),Hl(function(){Array.isArray(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):$l(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):r!=null&&qn("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return rg(this,r)},t.intercept_=function(r){return ng(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},zh(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Za=Ju("ObservableSet",XA);function ZA(e){return e[Symbol.toStringTag]="SetIterator",H0(e)}var QA=Object.create(null),JA="remove",eL=(function(){function e(n,r,o,i){r===void 0&&(r=new Map),i===void 0&&(i=uce),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new Lc("ObservableObject.keys"),this.isPlainObject_=Ac(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var i=this.values_.get(r);if(i instanceof va)return i.set(o),!0;if(ks(this)){var s=Ds(this,{type:Xa,object:this.proxy_||this.target_,name:r,newValue:o});if(!s)return null;o=s.newValue}if(o=i.prepareNewValue_(o),o!==Tt.UNCHANGED){var a=ya(this),c=!1,d=a||c?{type:Xa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),a&&ba(this,d)}return!0},t.get_=function(r){return Tt.trackingDerivation&&!zl(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,i){return i===void 0&&(i=!1),zl(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):i?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!Tt.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new rd(r in this.target_,Ey,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Ka])!=null&&i[r])return;qn(1,o.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==Sy;){var a=wy(s,r);if(a){var c=o.make_(this,r,a,s);if(c===0)return;if(c===1)break}s=Object.getPrototypeOf(s)}nL(this,o,r)}},t.extend_=function(r,o,i,s){if(s===void 0&&(s=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,o,s);var a=i.extend_(this,r,o,s);return a&&nL(this,i,r),a},t.defineProperty_=function(r,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Is();var s=this.delete_(r);if(!s)return s;if(ks(this)){var a=Ds(this,{object:this.proxy_||this.target_,name:r,type:Nc,newValue:o.value});if(!a)return null;var c=a.newValue;o.value!==c&&(o=ed({},o,{value:c}))}if(i){if(!Reflect.defineProperty(this.target_,r,o))return!1}else Wa(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{Ps()}return!0},t.defineObservableProperty_=function(r,o,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Is();var a=this.delete_(r);if(!a)return a;if(ks(this)){var c=Ds(this,{object:this.proxy_||this.target_,name:r,type:Nc,newValue:o});if(!c)return null;o=c.newValue}var d=tL(r),h={configurable:Tt.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(s){if(!Reflect.defineProperty(this.target_,r,h))return!1}else Wa(this.target_,r,h);var f=new rd(o,i,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{Ps()}return!0},t.defineComputedProperty_=function(r,o,i){i===void 0&&(i=!1),this.keysAtom_;try{Is();var s=this.delete_(r);if(!s)return s;if(ks(this)){var a=Ds(this,{object:this.proxy_||this.target_,name:r,type:Nc,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var c=tL(r),d={configurable:Tt.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(i){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Wa(this.target_,r,d);this.values_.set(r,new va(o)),this.notifyPropertyAddition_(r,void 0)}finally{Ps()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!zl(this.target_,r))return!0;if(ks(this)){var i=Ds(this,{object:this.proxy_||this.target_,name:r,type:JA});if(!i)return null}try{var s;Is();var a=ya(this),c=!1,d=this.values_.get(r),h=void 0;if(!d&&(a||c)){var f;h=(f=wy(this.target_,r))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(d&&(this.values_.delete(r),d instanceof rd&&(h=d.value_),DA(d)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(r in this.target_),a||c){var g={type:JA,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};a&&ba(this,g)}}finally{Ps()}return!0},t.observe_=function(r,o){return rg(this,r)},t.intercept_=function(r){return ng(this,r)},t.notifyPropertyAddition_=function(r,o){var i,s=ya(this),a=!1;if(s||a){var c=s||a?{type:Nc,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;s&&ba(this,c)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),_y(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function Wh(e,t){var n;if(zl(e,bn))return e;var r=(n=t?.name)!=null?n:"ObservableObject",o=new eL(e,new Map,String(r),Sce(t));return xy(e,bn,o),e}var mue=Ju("ObservableObjectAdministration",eL);function tL(e){return QA[e]||(QA[e]={get:function(){return this[bn].getObservablePropValue_(e)},set:function(n){return this[bn].setObservablePropValue_(e,n)}})}function Uy(e){return Cy(e)?mue(e[bn]):!1}function nL(e,t,n){var r;(r=e.target_[Ka])==null||delete r[n]}var vue=oL(0),yue=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),V0=0,rL=function(){};function bue(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}bue(rL,Array.prototype);var $0=(function(e){function t(r,o,i,s){var a;return i===void 0&&(i="ObservableArray"),s===void 0&&(s=!1),a=e.call(this)||this,sd(function(){var c=new j0(i,o,s,!0);c.proxy_=a,cA(a,bn,c),r&&r.length&&a.spliceWithArray(0,0,r),yue&&Object.defineProperty(a,"0",vue)}),a}fA(t,e);var n=t.prototype;return n.concat=function(){this[bn].atom_.reportObserved();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),i.map(function(a){return $y(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return H0({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},zh(t,[{key:"length",get:function(){return this[bn].getArrayLength_()},set:function(o){this[bn].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(rL);Object.entries(Vy).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&xy($0.prototype,t,n)});function oL(e){return{enumerable:!1,configurable:!0,get:function(){return this[bn].get_(e)},set:function(n){this[bn].set_(e,n)}}}function wue(e){Wa($0.prototype,""+e,oL(e))}function iL(e){if(e>V0){for(var t=V0;t<e+100;t++)wue(t);V0=e}}iL(1e3);function Sue(e,t,n){return new $0(e,t,n)}function Hy(e,t){if(typeof e=="object"&&e!==null){if($y(e))return t!==void 0&&qn(23),e[bn].atom_;if(Za(e))return e.atom_;if(id(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||qn(25,t,z0(e)),n}if(Uy(e)){if(!t)return qn(26);var r=e[bn].values_.get(t);return r||qn(27,t,z0(e)),r}if(O0(e)||ky(e)||Fy(e))return e}else if(ma(e)&&Fy(e[bn]))return e[bn];qn(28)}function Cue(e,t){if(e||qn(29),O0(e)||ky(e)||Fy(e)||id(e)||Za(e))return e;if(e[bn])return e[bn];qn(24,e)}function z0(e,t){var n;if(t!==void 0)n=Hy(e,t);else{if(eg(e))return e.name;Uy(e)||id(e)||Za(e)?n=Cue(e):n=Hy(e)}return n.name_}function sd(e){var t=od(),n=Iy(!0);Is();try{return e()}finally{Ps(),Py(n),Ul(t)}}var sL=Sy.toString;function aL(e,t,n){return n===void 0&&(n=-1),U0(e,t,n)}function U0(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var s=sL.call(e);if(s!==sL.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=lL(e),t=lL(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,d=t.constructor;if(c!==d&&!(ma(c)&&c instanceof c&&ma(d)&&d instanceof d)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var h=r.length;h--;)if(r[h]===e)return o[h]===t;if(r.push(e),o.push(t),a){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!U0(e[h],t[h],n-1,r,o))return!1}else{var f=Object.keys(e),g=f.length;if(Object.keys(t).length!==g)return!1;for(var m=0;m<g;m++){var y=f[m];if(!(zl(t,y)&&U0(e[y],t[y],n-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function lL(e){return $y(e)?e.slice():$h(e)||id(e)||$l(e)||Za(e)?Array.from(e.entries()):e}var cL,xue=((cL=by().Iterator)==null?void 0:cL.prototype)||{};function H0(e){return e[Symbol.iterator]=_ue,Object.assign(Object.create(xue),e)}function _ue(){return this}["Symbol","Map","Set"].forEach(function(e){var t=by();typeof t[e]>"u"&&qn("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Vce,extras:{getDebugName:z0},$mobx:bn});var ad={},G0={},uL;function Eue(){return uL||(uL=1,Object.defineProperty(G0,"__esModule",{value:!0})),G0}var W0={},dL;function Tue(){return dL||(dL=1,Object.defineProperty(W0,"__esModule",{value:!0})),W0}var K0={},hL;function Mue(){return hL||(hL=1,Object.defineProperty(K0,"__esModule",{value:!0})),K0}var q0={},fL;function Oue(){return fL||(fL=1,Object.defineProperty(q0,"__esModule",{value:!0})),q0}var Y0={},pL;function Rue(){return pL||(pL=1,Object.defineProperty(Y0,"__esModule",{value:!0})),Y0}var X0={},gL;function Iue(){return gL||(gL=1,Object.defineProperty(X0,"__esModule",{value:!0})),X0}var Z0={},mL;function Pue(){return mL||(mL=1,Object.defineProperty(Z0,"__esModule",{value:!0})),Z0}var Q0={},vL;function kue(){return vL||(vL=1,Object.defineProperty(Q0,"__esModule",{value:!0})),Q0}var J0={},yL;function Due(){return yL||(yL=1,Object.defineProperty(J0,"__esModule",{value:!0})),J0}var ex={},bL;function Aue(){return bL||(bL=1,Object.defineProperty(ex,"__esModule",{value:!0})),ex}var tx={},wL;function Lue(){return wL||(wL=1,Object.defineProperty(tx,"__esModule",{value:!0})),tx}var nx={},SL;function Nue(){return SL||(SL=1,Object.defineProperty(nx,"__esModule",{value:!0})),nx}var rx={},CL;function Bue(){return CL||(CL=1,Object.defineProperty(rx,"__esModule",{value:!0})),rx}var ox={},xL;function Fue(){return xL||(xL=1,Object.defineProperty(ox,"__esModule",{value:!0})),ox}var ix={},_L;function jue(){return _L||(_L=1,Object.defineProperty(ix,"__esModule",{value:!0})),ix}var sx={},EL;function Vue(){return EL||(EL=1,Object.defineProperty(sx,"__esModule",{value:!0})),sx}var ax={},TL;function $ue(){return TL||(TL=1,Object.defineProperty(ax,"__esModule",{value:!0})),ax}var lx={},ML;function zue(){return ML||(ML=1,Object.defineProperty(lx,"__esModule",{value:!0})),lx}var cx={},OL;function Uue(){return OL||(OL=1,Object.defineProperty(cx,"__esModule",{value:!0})),cx}var ux={},RL;function Hue(){return RL||(RL=1,Object.defineProperty(ux,"__esModule",{value:!0})),ux}var dx={},IL;function Gue(){return IL||(IL=1,Object.defineProperty(dx,"__esModule",{value:!0})),dx}var hx={},PL;function Wue(){return PL||(PL=1,Object.defineProperty(hx,"__esModule",{value:!0})),hx}var fx={},kL;function Kue(){return kL||(kL=1,Object.defineProperty(fx,"__esModule",{value:!0})),fx}var px={},DL;function que(){return DL||(DL=1,Object.defineProperty(px,"__esModule",{value:!0})),px}var gx={},AL;function Yue(){return AL||(AL=1,Object.defineProperty(gx,"__esModule",{value:!0})),gx}var mx={},LL;function Xue(){return LL||(LL=1,Object.defineProperty(mx,"__esModule",{value:!0})),mx}var vx={},NL;function Zue(){return NL||(NL=1,Object.defineProperty(vx,"__esModule",{value:!0})),vx}var yx={},BL;function Que(){return BL||(BL=1,Object.defineProperty(yx,"__esModule",{value:!0})),yx}var bx={},FL;function Jue(){return FL||(FL=1,Object.defineProperty(bx,"__esModule",{value:!0})),bx}var wx={},jL;function ede(){return jL||(jL=1,Object.defineProperty(wx,"__esModule",{value:!0})),wx}var Sx={},VL;function tde(){return VL||(VL=1,Object.defineProperty(Sx,"__esModule",{value:!0})),Sx}var Cx={},$L;function nde(){return $L||($L=1,Object.defineProperty(Cx,"__esModule",{value:!0})),Cx}var xx={},zL;function rde(){return zL||(zL=1,Object.defineProperty(xx,"__esModule",{value:!0})),xx}var _x={},UL;function ode(){return UL||(UL=1,Object.defineProperty(_x,"__esModule",{value:!0})),_x}var Ex={},HL;function ide(){return HL||(HL=1,Object.defineProperty(Ex,"__esModule",{value:!0})),Ex}var Tx={},GL;function sde(){return GL||(GL=1,Object.defineProperty(Tx,"__esModule",{value:!0})),Tx}var Mx={},WL;function ade(){return WL||(WL=1,Object.defineProperty(Mx,"__esModule",{value:!0})),Mx}var Ox={},KL;function lde(){return KL||(KL=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var Rx={},qL;function cde(){return qL||(qL=1,Object.defineProperty(Rx,"__esModule",{value:!0})),Rx}var Ix={},YL;function ude(){return YL||(YL=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var Px={},XL;function dde(){return XL||(XL=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var kx={},ZL;function hde(){return ZL||(ZL=1,Object.defineProperty(kx,"__esModule",{value:!0})),kx}var Dx={},QL;function fde(){return QL||(QL=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var Ax={},JL;function pde(){return JL||(JL=1,Object.defineProperty(Ax,"__esModule",{value:!0})),Ax}var Lx={},eN;function gde(){return eN||(eN=1,Object.defineProperty(Lx,"__esModule",{value:!0})),Lx}var Nx={},tN;function mde(){return tN||(tN=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Bx={},nN;function vde(){return nN||(nN=1,Object.defineProperty(Bx,"__esModule",{value:!0})),Bx}var Fx={},rN;function yde(){return rN||(rN=1,Object.defineProperty(Fx,"__esModule",{value:!0})),Fx}var jx={},oN;function bde(){return oN||(oN=1,Object.defineProperty(jx,"__esModule",{value:!0})),jx}var Vx={},iN;function wde(){return iN||(iN=1,Object.defineProperty(Vx,"__esModule",{value:!0})),Vx}var $x={},sN;function Sde(){return sN||(sN=1,Object.defineProperty($x,"__esModule",{value:!0})),$x}var zx={},aN;function Cde(){return aN||(aN=1,Object.defineProperty(zx,"__esModule",{value:!0})),zx}var Ux={},lN;function xde(){return lN||(lN=1,Object.defineProperty(Ux,"__esModule",{value:!0})),Ux}var Hx={},cN;function _de(){return cN||(cN=1,Object.defineProperty(Hx,"__esModule",{value:!0})),Hx}var Gx={},uN;function Ede(){return uN||(uN=1,Object.defineProperty(Gx,"__esModule",{value:!0})),Gx}var Wx={},dN;function Tde(){return dN||(dN=1,Object.defineProperty(Wx,"__esModule",{value:!0})),Wx}var Kx={},hN;function Mde(){return hN||(hN=1,Object.defineProperty(Kx,"__esModule",{value:!0})),Kx}var qx={},fN;function Ode(){return fN||(fN=1,Object.defineProperty(qx,"__esModule",{value:!0})),qx}var Yx={},pN;function Rde(){return pN||(pN=1,Object.defineProperty(Yx,"__esModule",{value:!0})),Yx}var Xx={},gN;function Ide(){return gN||(gN=1,Object.defineProperty(Xx,"__esModule",{value:!0})),Xx}var Zx={},mN;function Pde(){return mN||(mN=1,Object.defineProperty(Zx,"__esModule",{value:!0})),Zx}var Qx={},vN;function kde(){return vN||(vN=1,Object.defineProperty(Qx,"__esModule",{value:!0})),Qx}var Jx={},yN;function Dde(){return yN||(yN=1,Object.defineProperty(Jx,"__esModule",{value:!0})),Jx}var e_={},bN;function Ade(){return bN||(bN=1,Object.defineProperty(e_,"__esModule",{value:!0})),e_}var t_={},wN;function Lde(){return wN||(wN=1,Object.defineProperty(t_,"__esModule",{value:!0})),t_}var n_={},SN;function Nde(){return SN||(SN=1,Object.defineProperty(n_,"__esModule",{value:!0})),n_}var r_={},CN;function Bde(){return CN||(CN=1,Object.defineProperty(r_,"__esModule",{value:!0})),r_}var og={},xN;function Fde(){if(xN)return og;xN=1,Object.defineProperty(og,"__esModule",{value:!0}),og.UnreachableCaseError=void 0;class e extends Error{constructor(n){super(`Unreachable case: ${n}`)}}return og.UnreachableCaseError=e,og}var ig={},_N;function jde(){if(_N)return ig;_N=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.assert=void 0;function e(t,n="no additional info provided"){if(!t)throw new Error("Assertion Error: "+n)}return ig.assert=e,ig}var sg={},EN;function Vde(){if(EN)return sg;EN=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.createFactoryWithConstraint=void 0;const e=()=>t=>t;return sg.createFactoryWithConstraint=e,sg}var ag={},TN;function $de(){if(TN)return ag;TN=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.isExact=void 0;const e=()=>t=>t;return ag.isExact=e,ag}var lg={},MN;function zde(){if(MN)return lg;MN=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.noop=void 0;function e(...t){}return lg.noop=e,lg}var o_={},ON;function Ude(){return ON||(ON=1,Object.defineProperty(o_,"__esModule",{value:!0})),o_}var RN;function Hde(){return RN||(RN=1,(function(e){var t=ad&&ad.__createBinding||(Object.create?(function(r,o,i,s){s===void 0&&(s=i);var a=Object.getOwnPropertyDescriptor(o,i);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(r,s,a)}):(function(r,o,i,s){s===void 0&&(s=i),r[s]=o[i]})),n=ad&&ad.__exportStar||function(r,o){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(Eue(),e),n(Tue(),e),n(Mue(),e),n(Oue(),e),n(Rue(),e),n(Iue(),e),n(Pue(),e),n(kue(),e),n(Due(),e),n(Aue(),e),n(Lue(),e),n(Nue(),e),n(Bue(),e),n(Fue(),e),n(jue(),e),n(Vue(),e),n($ue(),e),n(zue(),e),n(Uue(),e),n(Hue(),e),n(Gue(),e),n(Wue(),e),n(Kue(),e),n(que(),e),n(Yue(),e),n(Xue(),e),n(Zue(),e),n(Que(),e),n(Jue(),e),n(ede(),e),n(tde(),e),n(nde(),e),n(rde(),e),n(ode(),e),n(ide(),e),n(sde(),e),n(ade(),e),n(lde(),e),n(cde(),e),n(ude(),e),n(dde(),e),n(hde(),e),n(fde(),e),n(pde(),e),n(gde(),e),n(mde(),e),n(vde(),e),n(yde(),e),n(bde(),e),n(wde(),e),n(Sde(),e),n(Cde(),e),n(xde(),e),n(_de(),e),n(Ede(),e),n(Tde(),e),n(Mde(),e),n(Ode(),e),n(Rde(),e),n(Ide(),e),n(Pde(),e),n(kde(),e),n(Dde(),e),n(Ade(),e),n(Lde(),e),n(Nde(),e),n(Bde(),e),n(Fde(),e),n(jde(),e),n(Vde(),e),n($de(),e),n(zde(),e),n(Ude(),e)})(ad)),ad}var As=Hde();function Gde(e){const t=e.vars.allList,n=wi(t,o=>o.isArgument&&o.type),r=t.find(o=>o.isReturn)?.type??null;return{type:"user",name:e.name,argTypes:n,retType:r}}function Wde(e,t){const n=Rle(t);return e.forEach(r=>r.isFunction&&n.addUserFunc(Gde(r))),n}class Kde{constructor({klass:t,lib:n,pluginsGetter:r}){this.type="codeEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.onError=new Kr,this.onSaved=new Kr,this.klass=t,this.lib=n,this.pluginsGetter=r,this.currentText=this.savedText=t.modelText.split(`\r
`).join(`
`),vt(this,{currentLineNumber:Pe.ref,currentColumnIndex:Pe.ref,currentText:Pe.ref,savedText:Pe.ref,hasChanges:qr,save:ye,setCurrentText:ye,setCursorPosition:ye})}get _reactKey(){return"code-"+this.klass.uuid}get title(){return this.klass.name+" (код)"}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){As.assert(!this.isReadonly);try{const t=this.currentText.split(`
`).join(`\r
`),r=Wde(this.lib.list,this.pluginsGetter()).transpile(t,this.klass.name,this.klass.file.path);if(r.bugs.length)throw Error(r.bugs.map(([o])=>` -${o}`).join(`
`));if(this.savedText===this.currentText)return;this.klass.vars.set(r.vars),this.klass.set({modelText:t,isFunction:r.isFunction}),this.savedText=this.currentText,this.onSaved.dispatch()}catch(t){if(!(t instanceof Error))return;this.onError.dispatch(t.message)}}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}var Gy={exports:{}},qde=Gy.exports,IN;function Jn(){return IN||(IN=1,(function(e,t){(function(n,r){e.exports=r()})(qde,function(){var n=Array.prototype.slice;function r(C,F){F&&(C.prototype=Object.create(F.prototype)),C.prototype.constructor=C}function o(C){return c(C)?C:_e(C)}r(i,o);function i(C){return d(C)?C:De(C)}r(s,o);function s(C){return h(C)?C:Ee(C)}r(a,o);function a(C){return c(C)&&!f(C)?C:Fe(C)}function c(C){return!!(C&&C[m])}function d(C){return!!(C&&C[y])}function h(C){return!!(C&&C[b])}function f(C){return d(C)||h(C)}function g(C){return!!(C&&C[v])}o.isIterable=c,o.isKeyed=d,o.isIndexed=h,o.isAssociative=f,o.isOrdered=g,o.Keyed=i,o.Indexed=s,o.Set=a;var m="@@__IMMUTABLE_ITERABLE__@@",y="@@__IMMUTABLE_KEYED__@@",b="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",S="delete",E=5,T=1<<E,R=T-1,M={},I={value:!1},N={value:!1};function P(C){return C.value=!1,C}function L(C){C&&(C.value=!0)}function A(){}function $(C,F){F=F||0;for(var X=Math.max(0,C.length-F),ee=new Array(X),ne=0;ne<X;ne++)ee[ne]=C[ne+F];return ee}function B(C){return C.size===void 0&&(C.size=C.__iterate(K)),C.size}function U(C,F){if(typeof F!="number"){var X=F>>>0;if(""+X!==F||X===4294967295)return NaN;F=X}return F<0?B(C)+F:F}function K(){return!0}function G(C,F,X){return(C===0||X!==void 0&&C<=-X)&&(F===void 0||X!==void 0&&F>=X)}function V(C,F){return Q(C,F,0)}function Y(C,F){return Q(C,F,F)}function Q(C,F,X){return C===void 0?X:C<0?Math.max(0,F+C):F===void 0?C:Math.min(F,C)}var te=0,z=1,W=2,Z=typeof Symbol=="function"&&Symbol.iterator,le="@@iterator",ue=Z||le;function ce(C){this.next=C}ce.prototype.toString=function(){return"[Iterator]"},ce.KEYS=te,ce.VALUES=z,ce.ENTRIES=W,ce.prototype.inspect=ce.prototype.toSource=function(){return this.toString()},ce.prototype[ue]=function(){return this};function se(C,F,X,ee){var ne=C===0?F:C===1?X:[F,X];return ee?ee.value=ne:ee={value:ne,done:!1},ee}function ve(){return{value:void 0,done:!0}}function Te(C){return!!pe(C)}function Se(C){return C&&typeof C.next=="function"}function he(C){var F=pe(C);return F&&F.call(C)}function pe(C){var F=C&&(Z&&C[Z]||C[le]);if(typeof F=="function")return F}function we(C){return C&&typeof C.length=="number"}r(_e,o);function _e(C){return C==null?mt():c(C)?C.toSeq():Xt(C)}_e.of=function(){return _e(arguments)},_e.prototype.toSeq=function(){return this},_e.prototype.toString=function(){return this.__toString("Seq {","}")},_e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},_e.prototype.__iterate=function(C,F){return ht(this,C,F,!0)},_e.prototype.__iterator=function(C,F){return _t(this,C,F,!0)},r(De,_e);function De(C){return C==null?mt().toKeyedSeq():c(C)?d(C)?C.toSeq():C.fromEntrySeq():Bt(C)}De.prototype.toKeyedSeq=function(){return this},r(Ee,_e);function Ee(C){return C==null?mt():c(C)?d(C)?C.entrySeq():C.toIndexedSeq():It(C)}Ee.of=function(){return Ee(arguments)},Ee.prototype.toIndexedSeq=function(){return this},Ee.prototype.toString=function(){return this.__toString("Seq [","]")},Ee.prototype.__iterate=function(C,F){return ht(this,C,F,!1)},Ee.prototype.__iterator=function(C,F){return _t(this,C,F,!1)},r(Fe,_e);function Fe(C){return(C==null?mt():c(C)?d(C)?C.entrySeq():C:It(C)).toSetSeq()}Fe.of=function(){return Fe(arguments)},Fe.prototype.toSetSeq=function(){return this},_e.isSeq=je,_e.Keyed=De,_e.Set=Fe,_e.Indexed=Ee;var Je="@@__IMMUTABLE_SEQ__@@";_e.prototype[Je]=!0,r(Be,Ee);function Be(C){this._array=C,this.size=C.length}Be.prototype.get=function(C,F){return this.has(C)?this._array[U(this,C)]:F},Be.prototype.__iterate=function(C,F){for(var X=this._array,ee=X.length-1,ne=0;ne<=ee;ne++)if(C(X[F?ee-ne:ne],ne,this)===!1)return ne+1;return ne},Be.prototype.__iterator=function(C,F){var X=this._array,ee=X.length-1,ne=0;return new ce(function(){return ne>ee?ve():se(C,ne,X[F?ee-ne++:ne++])})},r(Ot,De);function Ot(C){var F=Object.keys(C);this._object=C,this._keys=F,this.size=F.length}Ot.prototype.get=function(C,F){return F!==void 0&&!this.has(C)?F:this._object[C]},Ot.prototype.has=function(C){return this._object.hasOwnProperty(C)},Ot.prototype.__iterate=function(C,F){for(var X=this._object,ee=this._keys,ne=ee.length-1,de=0;de<=ne;de++){var ge=ee[F?ne-de:de];if(C(X[ge],ge,this)===!1)return de+1}return de},Ot.prototype.__iterator=function(C,F){var X=this._object,ee=this._keys,ne=ee.length-1,de=0;return new ce(function(){var ge=ee[F?ne-de:de];return de++>ne?ve():se(C,ge,X[ge])})},Ot.prototype[v]=!0,r(dt,Ee);function dt(C){this._iterable=C,this.size=C.length||C.size}dt.prototype.__iterateUncached=function(C,F){if(F)return this.cacheResult().__iterate(C,F);var X=this._iterable,ee=he(X),ne=0;if(Se(ee))for(var de;!(de=ee.next()).done&&C(de.value,ne++,this)!==!1;);return ne},dt.prototype.__iteratorUncached=function(C,F){if(F)return this.cacheResult().__iterator(C,F);var X=this._iterable,ee=he(X);if(!Se(ee))return new ce(ve);var ne=0;return new ce(function(){var de=ee.next();return de.done?de:se(C,ne++,de.value)})},r(St,Ee);function St(C){this._iterator=C,this._iteratorCache=[]}St.prototype.__iterateUncached=function(C,F){if(F)return this.cacheResult().__iterate(C,F);for(var X=this._iterator,ee=this._iteratorCache,ne=0;ne<ee.length;)if(C(ee[ne],ne++,this)===!1)return ne;for(var de;!(de=X.next()).done;){var ge=de.value;if(ee[ne]=ge,C(ge,ne++,this)===!1)break}return ne},St.prototype.__iteratorUncached=function(C,F){if(F)return this.cacheResult().__iterator(C,F);var X=this._iterator,ee=this._iteratorCache,ne=0;return new ce(function(){if(ne>=ee.length){var de=X.next();if(de.done)return de;ee[ne]=de.value}return se(C,ne,ee[ne++])})};function je(C){return!!(C&&C[Je])}var Rt;function mt(){return Rt||(Rt=new Be([]))}function Bt(C){var F=Array.isArray(C)?new Be(C).fromEntrySeq():Se(C)?new St(C).fromEntrySeq():Te(C)?new dt(C).fromEntrySeq():typeof C=="object"?new Ot(C):void 0;if(!F)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+C);return F}function It(C){var F=Wt(C);if(!F)throw new TypeError("Expected Array or iterable object of values: "+C);return F}function Xt(C){var F=Wt(C)||typeof C=="object"&&new Ot(C);if(!F)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+C);return F}function Wt(C){return we(C)?new Be(C):Se(C)?new St(C):Te(C)?new dt(C):void 0}function ht(C,F,X,ee){var ne=C._cache;if(ne){for(var de=ne.length-1,ge=0;ge<=de;ge++){var Oe=ne[X?de-ge:ge];if(F(Oe[1],ee?Oe[0]:ge,C)===!1)return ge+1}return ge}return C.__iterateUncached(F,X)}function _t(C,F,X,ee){var ne=C._cache;if(ne){var de=ne.length-1,ge=0;return new ce(function(){var Oe=ne[X?de-ge:ge];return ge++>de?ve():se(F,ee?Oe[0]:ge-1,Oe[1])})}return C.__iteratorUncached(F,X)}function He(C,F){return F?lt(F,C,"",{"":C}):ct(C)}function lt(C,F,X,ee){return Array.isArray(F)?C.call(ee,X,Ee(F).map(function(ne,de){return lt(C,ne,de,F)})):Ct(F)?C.call(ee,X,De(F).map(function(ne,de){return lt(C,ne,de,F)})):F}function ct(C){return Array.isArray(C)?Ee(C).map(ct).toList():Ct(C)?De(C).map(ct).toMap():C}function Ct(C){return C&&(C.constructor===Object||C.constructor===void 0)}function st(C,F){if(C===F||C!==C&&F!==F)return!0;if(!C||!F)return!1;if(typeof C.valueOf=="function"&&typeof F.valueOf=="function"){if(C=C.valueOf(),F=F.valueOf(),C===F||C!==C&&F!==F)return!0;if(!C||!F)return!1}return!!(typeof C.equals=="function"&&typeof F.equals=="function"&&C.equals(F))}function At(C,F){if(C===F)return!0;if(!c(F)||C.size!==void 0&&F.size!==void 0&&C.size!==F.size||C.__hash!==void 0&&F.__hash!==void 0&&C.__hash!==F.__hash||d(C)!==d(F)||h(C)!==h(F)||g(C)!==g(F))return!1;if(C.size===0&&F.size===0)return!0;var X=!f(C);if(g(C)){var ee=C.entries();return F.every(function($e,qe){var rt=ee.next().value;return rt&&st(rt[1],$e)&&(X||st(rt[0],qe))})&&ee.next().done}var ne=!1;if(C.size===void 0)if(F.size===void 0)typeof C.cacheResult=="function"&&C.cacheResult();else{ne=!0;var de=C;C=F,F=de}var ge=!0,Oe=F.__iterate(function($e,qe){if(X?!C.has($e):ne?!st($e,C.get(qe,M)):!st(C.get(qe,M),$e))return ge=!1,!1});return ge&&C.size===Oe}r(pt,Ee);function pt(C,F){if(!(this instanceof pt))return new pt(C,F);if(this._value=C,this.size=F===void 0?1/0:Math.max(0,F),this.size===0){if(Pt)return Pt;Pt=this}}pt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},pt.prototype.get=function(C,F){return this.has(C)?this._value:F},pt.prototype.includes=function(C){return st(this._value,C)},pt.prototype.slice=function(C,F){var X=this.size;return G(C,F,X)?this:new pt(this._value,Y(F,X)-V(C,X))},pt.prototype.reverse=function(){return this},pt.prototype.indexOf=function(C){return st(this._value,C)?0:-1},pt.prototype.lastIndexOf=function(C){return st(this._value,C)?this.size:-1},pt.prototype.__iterate=function(C,F){for(var X=0;X<this.size;X++)if(C(this._value,X,this)===!1)return X+1;return X},pt.prototype.__iterator=function(C,F){var X=this,ee=0;return new ce(function(){return ee<X.size?se(C,ee++,X._value):ve()})},pt.prototype.equals=function(C){return C instanceof pt?st(this._value,C._value):At(C)};var Pt;function Dn(C,F){if(!C)throw new Error(F)}r(An,Ee);function An(C,F,X){if(!(this instanceof An))return new An(C,F,X);if(Dn(X!==0,"Cannot step a Range by 0"),C=C||0,F===void 0&&(F=1/0),X=X===void 0?1:Math.abs(X),F<C&&(X=-X),this._start=C,this._end=F,this._step=X,this.size=Math.max(0,Math.ceil((F-C)/X-1)+1),this.size===0){if(fr)return fr;fr=this}}An.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},An.prototype.get=function(C,F){return this.has(C)?this._start+U(this,C)*this._step:F},An.prototype.includes=function(C){var F=(C-this._start)/this._step;return F>=0&&F<this.size&&F===Math.floor(F)},An.prototype.slice=function(C,F){return G(C,F,this.size)?this:(C=V(C,this.size),F=Y(F,this.size),F<=C?new An(0,0):new An(this.get(C,this._end),this.get(F,this._end),this._step))},An.prototype.indexOf=function(C){var F=C-this._start;if(F%this._step===0){var X=F/this._step;if(X>=0&&X<this.size)return X}return-1},An.prototype.lastIndexOf=function(C){return this.indexOf(C)},An.prototype.__iterate=function(C,F){for(var X=this.size-1,ee=this._step,ne=F?this._start+X*ee:this._start,de=0;de<=X;de++){if(C(ne,de,this)===!1)return de+1;ne+=F?-ee:ee}return de},An.prototype.__iterator=function(C,F){var X=this.size-1,ee=this._step,ne=F?this._start+X*ee:this._start,de=0;return new ce(function(){var ge=ne;return ne+=F?-ee:ee,de>X?ve():se(C,de++,ge)})},An.prototype.equals=function(C){return C instanceof An?this._start===C._start&&this._end===C._end&&this._step===C._step:At(this,C)};var fr;r(Fn,o);function Fn(){throw TypeError("Abstract")}r(Dr,Fn);function Dr(){}r(er,Fn);function er(){}r(jr,Fn);function jr(){}Fn.Keyed=Dr,Fn.Indexed=er,Fn.Set=jr;var Vr=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(F,X){F=F|0,X=X|0;var ee=F&65535,ne=X&65535;return ee*ne+((F>>>16)*ne+ee*(X>>>16)<<16>>>0)|0};function on(C){return C>>>1&1073741824|C&3221225471}function Ln(C){if(C===!1||C===null||C===void 0||typeof C.valueOf=="function"&&(C=C.valueOf(),C===!1||C===null||C===void 0))return 0;if(C===!0)return 1;var F=typeof C;if(F==="number"){var X=C|0;for(X!==C&&(X^=C*4294967295);C>4294967295;)C/=4294967295,X^=C;return on(X)}if(F==="string")return C.length>Ar?Lt(C):$t(C);if(typeof C.hashCode=="function")return C.hashCode();if(F==="object")return tn(C);if(typeof C.toString=="function")return $t(C.toString());throw new Error("Value type "+F+" cannot be hashed.")}function Lt(C){var F=Oi[C];return F===void 0&&(F=$t(C),Co===mr&&(Co=0,Oi={}),Co++,Oi[C]=F),F}function $t(C){for(var F=0,X=0;X<C.length;X++)F=31*F+C.charCodeAt(X)|0;return on(F)}function tn(C){var F;if(jo&&(F=Xo.get(C),F!==void 0)||(F=C[Gr],F!==void 0)||!En&&(F=C.propertyIsEnumerable&&C.propertyIsEnumerable[Gr],F!==void 0||(F=fo(C),F!==void 0)))return F;if(F=++Mi,Mi&1073741824&&(Mi=0),jo)Xo.set(C,F);else{if(en!==void 0&&en(C)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(En)Object.defineProperty(C,Gr,{enumerable:!1,configurable:!1,writable:!1,value:F});else if(C.propertyIsEnumerable!==void 0&&C.propertyIsEnumerable===C.constructor.prototype.propertyIsEnumerable)C.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},C.propertyIsEnumerable[Gr]=F;else if(C.nodeType!==void 0)C[Gr]=F;else throw new Error("Unable to set a non-enumerable property on object.")}return F}var en=Object.isExtensible,En=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function fo(C){if(C&&C.nodeType>0)switch(C.nodeType){case 1:return C.uniqueID;case 9:return C.documentElement&&C.documentElement.uniqueID}}var jo=typeof WeakMap=="function",Xo;jo&&(Xo=new WeakMap);var Mi=0,Gr="__immutablehash__";typeof Symbol=="function"&&(Gr=Symbol(Gr));var Ar=16,mr=255,Co=0,Oi={};function Tr(C){Dn(C!==1/0,"Cannot perform this action with an infinite size.")}r(nn,Dr);function nn(C){return C==null?Mr():Xe(C)&&!g(C)?C:Mr().withMutations(function(F){var X=i(C);Tr(X.size),X.forEach(function(ee,ne){return F.set(ne,ee)})})}nn.prototype.toString=function(){return this.__toString("Map {","}")},nn.prototype.get=function(C,F){return this._root?this._root.get(0,void 0,C,F):F},nn.prototype.set=function(C,F){return ii(this,C,F)},nn.prototype.setIn=function(C,F){return this.updateIn(C,M,function(){return F})},nn.prototype.remove=function(C){return ii(this,C,M)},nn.prototype.deleteIn=function(C){return this.updateIn(C,function(){return M})},nn.prototype.update=function(C,F,X){return arguments.length===1?C(this):this.updateIn([C],F,X)},nn.prototype.updateIn=function(C,F,X){X||(X=F,F=void 0);var ee=si(this,Qf(C),F,X);return ee===M?void 0:ee},nn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Mr()},nn.prototype.merge=function(){return Ki(this,void 0,arguments)},nn.prototype.mergeWith=function(C){var F=n.call(arguments,1);return Ki(this,C,F)},nn.prototype.mergeIn=function(C){var F=n.call(arguments,1);return this.updateIn(C,Mr(),function(X){return typeof X.merge=="function"?X.merge.apply(X,F):F[F.length-1]})},nn.prototype.mergeDeep=function(){return Ki(this,Qd,arguments)},nn.prototype.mergeDeepWith=function(C){var F=n.call(arguments,1);return Ki(this,ic(C),F)},nn.prototype.mergeDeepIn=function(C){var F=n.call(arguments,1);return this.updateIn(C,Mr(),function(X){return typeof X.mergeDeep=="function"?X.mergeDeep.apply(X,F):F[F.length-1]})},nn.prototype.sort=function(C){return br(xl(this,C))},nn.prototype.sortBy=function(C,F){return br(xl(this,F,C))},nn.prototype.withMutations=function(C){var F=this.asMutable();return C(F),F.wasAltered()?F.__ensureOwner(this.__ownerID):this},nn.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new A)},nn.prototype.asImmutable=function(){return this.__ensureOwner()},nn.prototype.wasAltered=function(){return this.__altered},nn.prototype.__iterator=function(C,F){return new Ri(this,C,F)},nn.prototype.__iterate=function(C,F){var X=this,ee=0;return this._root&&this._root.iterate(function(ne){return ee++,C(ne[1],ne[0],X)},F),ee},nn.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?oa(this.size,this._root,C,this.__hash):(this.__ownerID=C,this.__altered=!1,this)};function Xe(C){return!!(C&&C[Ze])}nn.isMap=Xe;var Ze="@@__IMMUTABLE_MAP__@@",it=nn.prototype;it[Ze]=!0,it[S]=it.remove,it.removeIn=it.deleteIn;function Zt(C,F){this.ownerID=C,this.entries=F}Zt.prototype.get=function(C,F,X,ee){for(var ne=this.entries,de=0,ge=ne.length;de<ge;de++)if(st(X,ne[de][0]))return ne[de][1];return ee},Zt.prototype.update=function(C,F,X,ee,ne,de,ge){for(var Oe=ne===M,$e=this.entries,qe=0,rt=$e.length;qe<rt&&!st(ee,$e[qe][0]);qe++);var kt=qe<rt;if(kt?$e[qe][1]===ne:Oe)return this;if(L(ge),(Oe||!kt)&&L(de),!(Oe&&$e.length===1)){if(!kt&&!Oe&&$e.length>=eh)return vi(C,$e,ee,ne);var zt=C&&C===this.ownerID,an=zt?$e:$($e);return kt?Oe?qe===rt-1?an.pop():an[qe]=an.pop():an[qe]=[ee,ne]:an.push([ee,ne]),zt?(this.entries=an,this):new Zt(C,an)}};function cn(C,F,X){this.ownerID=C,this.bitmap=F,this.nodes=X}cn.prototype.get=function(C,F,X,ee){F===void 0&&(F=Ln(X));var ne=1<<((C===0?F:F>>>C)&R),de=this.bitmap;return(de&ne)===0?ee:this.nodes[gu(de&ne-1)].get(C+E,F,X,ee)},cn.prototype.update=function(C,F,X,ee,ne,de,ge){X===void 0&&(X=Ln(ee));var Oe=(F===0?X:X>>>F)&R,$e=1<<Oe,qe=this.bitmap,rt=(qe&$e)!==0;if(!rt&&ne===M)return this;var kt=gu(qe&$e-1),zt=this.nodes,an=rt?zt[kt]:void 0,yn=Ii(an,C,F+E,X,ee,ne,de,ge);if(yn===an)return this;if(!rt&&yn&&zt.length>=th)return Ym(C,zt,qe,Oe,yn);if(rt&&!yn&&zt.length===2&&zf(zt[kt^1]))return zt[kt^1];if(rt&&yn&&zt.length===1&&zf(yn))return yn;var ar=C&&C===this.ownerID,Or=rt?yn?qe:qe^$e:qe|$e,Oo=rt?yn?Jd(zt,kt,yn,ar):Da(zt,kt,ar):mu(zt,kt,yn,ar);return ar?(this.bitmap=Or,this.nodes=Oo,this):new cn(C,Or,Oo)};function vr(C,F,X){this.ownerID=C,this.count=F,this.nodes=X}vr.prototype.get=function(C,F,X,ee){F===void 0&&(F=Ln(X));var ne=(C===0?F:F>>>C)&R,de=this.nodes[ne];return de?de.get(C+E,F,X,ee):ee},vr.prototype.update=function(C,F,X,ee,ne,de,ge){X===void 0&&(X=Ln(ee));var Oe=(F===0?X:X>>>F)&R,$e=ne===M,qe=this.nodes,rt=qe[Oe];if($e&&!rt)return this;var kt=Ii(rt,C,F+E,X,ee,ne,de,ge);if(kt===rt)return this;var zt=this.count;if(!rt)zt++;else if(!kt&&(zt--,zt<vl))return Zd(C,qe,zt,Oe);var an=C&&C===this.ownerID,yn=Jd(qe,Oe,kt,an);return an?(this.count=zt,this.nodes=yn,this):new vr(C,zt,yn)};function Zn(C,F,X){this.ownerID=C,this.keyHash=F,this.entries=X}Zn.prototype.get=function(C,F,X,ee){for(var ne=this.entries,de=0,ge=ne.length;de<ge;de++)if(st(X,ne[de][0]))return ne[de][1];return ee},Zn.prototype.update=function(C,F,X,ee,ne,de,ge){X===void 0&&(X=Ln(ee));var Oe=ne===M;if(X!==this.keyHash)return Oe?this:(L(ge),L(de),pu(this,C,F,X,[ee,ne]));for(var $e=this.entries,qe=0,rt=$e.length;qe<rt&&!st(ee,$e[qe][0]);qe++);var kt=qe<rt;if(kt?$e[qe][1]===ne:Oe)return this;if(L(ge),(Oe||!kt)&&L(de),Oe&&rt===2)return new Wr(C,this.keyHash,$e[qe^1]);var zt=C&&C===this.ownerID,an=zt?$e:$($e);return kt?Oe?qe===rt-1?an.pop():an[qe]=an.pop():an[qe]=[ee,ne]:an.push([ee,ne]),zt?(this.entries=an,this):new Zn(C,this.keyHash,an)};function Wr(C,F,X){this.ownerID=C,this.keyHash=F,this.entry=X}Wr.prototype.get=function(C,F,X,ee){return st(X,this.entry[0])?this.entry[1]:ee},Wr.prototype.update=function(C,F,X,ee,ne,de,ge){var Oe=ne===M,$e=st(ee,this.entry[0]);if($e?ne===this.entry[1]:Oe)return this;if(L(ge),Oe){L(de);return}return $e?C&&C===this.ownerID?(this.entry[1]=ne,this):new Wr(C,this.keyHash,[ee,ne]):(L(de),pu(this,C,F,Ln(ee),[ee,ne]))},Zt.prototype.iterate=Zn.prototype.iterate=function(C,F){for(var X=this.entries,ee=0,ne=X.length-1;ee<=ne;ee++)if(C(X[F?ne-ee:ee])===!1)return!1},cn.prototype.iterate=vr.prototype.iterate=function(C,F){for(var X=this.nodes,ee=0,ne=X.length-1;ee<=ne;ee++){var de=X[F?ne-ee:ee];if(de&&de.iterate(C,F)===!1)return!1}},Wr.prototype.iterate=function(C,F){return C(this.entry)},r(Ri,ce);function Ri(C,F,X){this._type=F,this._reverse=X,this._stack=C._root&&oi(C._root)}Ri.prototype.next=function(){for(var C=this._type,F=this._stack;F;){var X=F.node,ee=F.index++,ne;if(X.entry){if(ee===0)return ms(C,X.entry)}else if(X.entries){if(ne=X.entries.length-1,ee<=ne)return ms(C,X.entries[this._reverse?ne-ee:ee])}else if(ne=X.nodes.length-1,ee<=ne){var de=X.nodes[this._reverse?ne-ee:ee];if(de){if(de.entry)return ms(C,de.entry);F=this._stack=oi(de,F)}continue}F=this._stack=this._stack.__prev}return ve()};function ms(C,F){return se(C,F[0],F[1])}function oi(C,F){return{node:C,index:0,__prev:F}}function oa(C,F,X,ee){var ne=Object.create(it);return ne.size=C,ne._root=F,ne.__ownerID=X,ne.__hash=ee,ne.__altered=!1,ne}var Pn;function Mr(){return Pn||(Pn=oa(0))}function ii(C,F,X){var ee,ne;if(C._root){var de=P(I),ge=P(N);if(ee=Ii(C._root,C.__ownerID,0,void 0,F,X,de,ge),!ge.value)return C;ne=C.size+(de.value?X===M?-1:1:0)}else{if(X===M)return C;ne=1,ee=new Zt(C.__ownerID,[[F,X]])}return C.__ownerID?(C.size=ne,C._root=ee,C.__hash=void 0,C.__altered=!0,C):ee?oa(ne,ee):Mr()}function Ii(C,F,X,ee,ne,de,ge,Oe){return C?C.update(F,X,ee,ne,de,ge,Oe):de===M?C:(L(Oe),L(ge),new Wr(F,ee,[ne,de]))}function zf(C){return C.constructor===Wr||C.constructor===Zn}function pu(C,F,X,ee,ne){if(C.keyHash===ee)return new Zn(F,ee,[C.entry,ne]);var de=(X===0?C.keyHash:C.keyHash>>>X)&R,ge=(X===0?ee:ee>>>X)&R,Oe,$e=de===ge?[pu(C,F,X+E,ee,ne)]:(Oe=new Wr(F,ee,ne),de<ge?[C,Oe]:[Oe,C]);return new cn(F,1<<de|1<<ge,$e)}function vi(C,F,X,ee){C||(C=new A);for(var ne=new Wr(C,Ln(X),[X,ee]),de=0;de<F.length;de++){var ge=F[de];ne=ne.update(C,0,void 0,ge[0],ge[1])}return ne}function Zd(C,F,X,ee){for(var ne=0,de=0,ge=new Array(X),Oe=0,$e=1,qe=F.length;Oe<qe;Oe++,$e<<=1){var rt=F[Oe];rt!==void 0&&Oe!==ee&&(ne|=$e,ge[de++]=rt)}return new cn(C,ne,ge)}function Ym(C,F,X,ee,ne){for(var de=0,ge=new Array(T),Oe=0;X!==0;Oe++,X>>>=1)ge[Oe]=X&1?F[de++]:void 0;return ge[ee]=ne,new vr(C,de+1,ge)}function Ki(C,F,X){for(var ee=[],ne=0;ne<X.length;ne++){var de=X[ne],ge=i(de);c(de)||(ge=ge.map(function(Oe){return He(Oe)})),ee.push(ge)}return Uf(C,F,ee)}function Qd(C,F,X){return C&&C.mergeDeep&&c(F)?C.mergeDeep(F):st(C,F)?C:F}function ic(C){return function(F,X,ee){if(F&&F.mergeDeepWith&&c(X))return F.mergeDeepWith(C,X);var ne=C(F,X,ee);return st(F,ne)?F:ne}}function Uf(C,F,X){return X=X.filter(function(ee){return ee.size!==0}),X.length===0?C:C.size===0&&!C.__ownerID&&X.length===1?C.constructor(X[0]):C.withMutations(function(ee){for(var ne=F?function(ge,Oe){ee.update(Oe,M,function($e){return $e===M?ge:F($e,ge,Oe)})}:function(ge,Oe){ee.set(Oe,ge)},de=0;de<X.length;de++)X[de].forEach(ne)})}function si(C,F,X,ee){var ne=C===M,de=F.next();if(de.done){var ge=ne?X:C,Oe=ee(ge);return Oe===ge?C:Oe}Dn(ne||C&&C.set,"invalid keyPath");var $e=de.value,qe=ne?M:C.get($e,M),rt=si(qe,F,X,ee);return rt===qe?C:rt===M?C.remove($e):(ne?Mr():C).set($e,rt)}function gu(C){return C=C-(C>>1&1431655765),C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C=C+(C>>8),C=C+(C>>16),C&127}function Jd(C,F,X,ee){var ne=ee?C:$(C);return ne[F]=X,ne}function mu(C,F,X,ee){var ne=C.length+1;if(ee&&F+1===ne)return C[F]=X,C;for(var de=new Array(ne),ge=0,Oe=0;Oe<ne;Oe++)Oe===F?(de[Oe]=X,ge=-1):de[Oe]=C[Oe+ge];return de}function Da(C,F,X){var ee=C.length-1;if(X&&F===ee)return C.pop(),C;for(var ne=new Array(ee),de=0,ge=0;ge<ee;ge++)ge===F&&(de=1),ne[ge]=C[ge+de];return ne}var eh=T/4,th=T/2,vl=T/4;r(yr,er);function yr(C){var F=ia();if(C==null)return F;if(nh(C))return C;var X=s(C),ee=X.size;return ee===0?F:(Tr(ee),ee>0&&ee<T?yl(0,ee,E,null,new vs(X.toArray())):F.withMutations(function(ne){ne.setSize(ee),X.forEach(function(de,ge){return ne.set(ge,de)})}))}yr.of=function(){return this(arguments)},yr.prototype.toString=function(){return this.__toString("List [","]")},yr.prototype.get=function(C,F){if(C=U(this,C),C>=0&&C<this.size){C+=this._origin;var X=oh(this,C);return X&&X.array[C&R]}return F},yr.prototype.set=function(C,F){return bl(this,C,F)},yr.prototype.remove=function(C){return this.has(C)?C===0?this.shift():C===this.size-1?this.pop():this.splice(C,1):this},yr.prototype.insert=function(C,F){return this.splice(C,0,F)},yr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=E,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ia()},yr.prototype.push=function(){var C=arguments,F=this.size;return this.withMutations(function(X){ai(X,0,F+C.length);for(var ee=0;ee<C.length;ee++)X.set(F+ee,C[ee])})},yr.prototype.pop=function(){return ai(this,0,-1)},yr.prototype.unshift=function(){var C=arguments;return this.withMutations(function(F){ai(F,-C.length);for(var X=0;X<C.length;X++)F.set(X,C[X])})},yr.prototype.shift=function(){return ai(this,1)},yr.prototype.merge=function(){return yi(this,void 0,arguments)},yr.prototype.mergeWith=function(C){var F=n.call(arguments,1);return yi(this,C,F)},yr.prototype.mergeDeep=function(){return yi(this,Qd,arguments)},yr.prototype.mergeDeepWith=function(C){var F=n.call(arguments,1);return yi(this,ic(C),F)},yr.prototype.setSize=function(C){return ai(this,0,C)},yr.prototype.slice=function(C,F){var X=this.size;return G(C,F,X)?this:ai(this,V(C,X),Y(F,X))},yr.prototype.__iterator=function(C,F){var X=0,ee=ac(this,F);return new ce(function(){var ne=ee();return ne===sc?ve():se(C,X++,ne)})},yr.prototype.__iterate=function(C,F){for(var X=0,ee=ac(this,F),ne;(ne=ee())!==sc&&C(ne,X++,this)!==!1;);return X},yr.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?yl(this._origin,this._capacity,this._level,this._root,this._tail,C,this.__hash):(this.__ownerID=C,this)};function nh(C){return!!(C&&C[rh])}yr.isList=nh;var rh="@@__IMMUTABLE_LIST__@@",po=yr.prototype;po[rh]=!0,po[S]=po.remove,po.setIn=it.setIn,po.deleteIn=po.removeIn=it.removeIn,po.update=it.update,po.updateIn=it.updateIn,po.mergeIn=it.mergeIn,po.mergeDeepIn=it.mergeDeepIn,po.withMutations=it.withMutations,po.asMutable=it.asMutable,po.asImmutable=it.asImmutable,po.wasAltered=it.wasAltered;function vs(C,F){this.array=C,this.ownerID=F}vs.prototype.removeBefore=function(C,F,X){if(X===F?1<<F:this.array.length===0)return this;var ee=X>>>F&R;if(ee>=this.array.length)return new vs([],C);var ne=ee===0,de;if(F>0){var ge=this.array[ee];if(de=ge&&ge.removeBefore(C,F-E,X),de===ge&&ne)return this}if(ne&&!de)return this;var Oe=ys(this,C);if(!ne)for(var $e=0;$e<ee;$e++)Oe.array[$e]=void 0;return de&&(Oe.array[ee]=de),Oe},vs.prototype.removeAfter=function(C,F,X){if(X===(F?1<<F:0)||this.array.length===0)return this;var ee=X-1>>>F&R;if(ee>=this.array.length)return this;var ne;if(F>0){var de=this.array[ee];if(ne=de&&de.removeAfter(C,F-E,X),ne===de&&ee===this.array.length-1)return this}var ge=ys(this,C);return ge.array.splice(ee+1),ne&&(ge.array[ee]=ne),ge};var sc={};function ac(C,F){var X=C._origin,ee=C._capacity,ne=sa(ee),de=C._tail;return ge(C._root,C._level,0);function ge(qe,rt,kt){return rt===0?Oe(qe,kt):$e(qe,rt,kt)}function Oe(qe,rt){var kt=rt===ne?de&&de.array:qe&&qe.array,zt=rt>X?0:X-rt,an=ee-rt;return an>T&&(an=T),function(){if(zt===an)return sc;var yn=F?--an:zt++;return kt&&kt[yn]}}function $e(qe,rt,kt){var zt,an=qe&&qe.array,yn=kt>X?0:X-kt>>rt,ar=(ee-kt>>rt)+1;return ar>T&&(ar=T),function(){do{if(zt){var Or=zt();if(Or!==sc)return Or;zt=null}if(yn===ar)return sc;var Oo=F?--ar:yn++;zt=ge(an&&an[Oo],rt-E,kt+(Oo<<rt))}while(!0)}}}function yl(C,F,X,ee,ne,de,ge){var Oe=Object.create(po);return Oe.size=F-C,Oe._origin=C,Oe._capacity=F,Oe._level=X,Oe._root=ee,Oe._tail=ne,Oe.__ownerID=de,Oe.__hash=ge,Oe.__altered=!1,Oe}var vu;function ia(){return vu||(vu=yl(0,0,E))}function bl(C,F,X){if(F=U(C,F),F!==F)return C;if(F>=C.size||F<0)return C.withMutations(function(ge){F<0?ai(ge,F).set(0,X):ai(ge,0,F+1).set(F,X)});F+=C._origin;var ee=C._tail,ne=C._root,de=P(N);return F>=sa(C._capacity)?ee=yu(ee,C.__ownerID,0,F,X,de):ne=yu(ne,C.__ownerID,C._level,F,X,de),de.value?C.__ownerID?(C._root=ne,C._tail=ee,C.__hash=void 0,C.__altered=!0,C):yl(C._origin,C._capacity,C._level,ne,ee):C}function yu(C,F,X,ee,ne,de){var ge=ee>>>X&R,Oe=C&&ge<C.array.length;if(!Oe&&ne===void 0)return C;var $e;if(X>0){var qe=C&&C.array[ge],rt=yu(qe,F,X-E,ee,ne,de);return rt===qe?C:($e=ys(C,F),$e.array[ge]=rt,$e)}return Oe&&C.array[ge]===ne?C:(L(de),$e=ys(C,F),ne===void 0&&ge===$e.array.length-1?$e.array.pop():$e.array[ge]=ne,$e)}function ys(C,F){return F&&C&&F===C.ownerID?C:new vs(C?C.array.slice():[],F)}function oh(C,F){if(F>=sa(C._capacity))return C._tail;if(F<1<<C._level+E){for(var X=C._root,ee=C._level;X&&ee>0;)X=X.array[F>>>ee&R],ee-=E;return X}}function ai(C,F,X){F!==void 0&&(F=F|0),X!==void 0&&(X=X|0);var ee=C.__ownerID||new A,ne=C._origin,de=C._capacity,ge=ne+F,Oe=X===void 0?de:X<0?de+X:ne+X;if(ge===ne&&Oe===de)return C;if(ge>=Oe)return C.clear();for(var $e=C._level,qe=C._root,rt=0;ge+rt<0;)qe=new vs(qe&&qe.array.length?[void 0,qe]:[],ee),$e+=E,rt+=1<<$e;rt&&(ge+=rt,ne+=rt,Oe+=rt,de+=rt);for(var kt=sa(de),zt=sa(Oe);zt>=1<<$e+E;)qe=new vs(qe&&qe.array.length?[qe]:[],ee),$e+=E;var an=C._tail,yn=zt<kt?oh(C,Oe-1):zt>kt?new vs([],ee):an;if(an&&zt>kt&&ge<de&&an.array.length){qe=ys(qe,ee);for(var ar=qe,Or=$e;Or>E;Or-=E){var Oo=kt>>>Or&R;ar=ar.array[Oo]=ys(ar.array[Oo],ee)}ar.array[kt>>>E&R]=an}if(Oe<de&&(yn=yn&&yn.removeAfter(ee,0,Oe)),ge>=zt)ge-=zt,Oe-=zt,$e=E,qe=null,yn=yn&&yn.removeBefore(ee,0,ge);else if(ge>ne||zt<kt){for(rt=0;qe;){var Na=ge>>>$e&R;if(Na!==zt>>>$e&R)break;Na&&(rt+=(1<<$e)*Na),$e-=E,qe=qe.array[Na]}qe&&ge>ne&&(qe=qe.removeBefore(ee,$e,ge-rt)),qe&&zt<kt&&(qe=qe.removeAfter(ee,$e,zt-rt)),rt&&(ge-=rt,Oe-=rt)}return C.__ownerID?(C.size=Oe-ge,C._origin=ge,C._capacity=Oe,C._level=$e,C._root=qe,C._tail=yn,C.__hash=void 0,C.__altered=!0,C):yl(ge,Oe,$e,qe,yn)}function yi(C,F,X){for(var ee=[],ne=0,de=0;de<X.length;de++){var ge=X[de],Oe=s(ge);Oe.size>ne&&(ne=Oe.size),c(ge)||(Oe=Oe.map(function($e){return He($e)})),ee.push(Oe)}return ne>C.size&&(C=C.setSize(ne)),Uf(C,F,ee)}function sa(C){return C<T?0:C-1>>>E<<E}r(br,nn);function br(C){return C==null?cc():bs(C)?C:cc().withMutations(function(F){var X=i(C);Tr(X.size),X.forEach(function(ee,ne){return F.set(ne,ee)})})}br.of=function(){return this(arguments)},br.prototype.toString=function(){return this.__toString("OrderedMap {","}")},br.prototype.get=function(C,F){var X=this._map.get(C);return X!==void 0?this._list.get(X)[1]:F},br.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):cc()},br.prototype.set=function(C,F){return Sl(this,C,F)},br.prototype.remove=function(C){return Sl(this,C,M)},br.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},br.prototype.__iterate=function(C,F){var X=this;return this._list.__iterate(function(ee){return ee&&C(ee[1],ee[0],X)},F)},br.prototype.__iterator=function(C,F){return this._list.fromEntrySeq().__iterator(C,F)},br.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var F=this._map.__ensureOwner(C),X=this._list.__ensureOwner(C);return C?lc(F,X,C,this.__hash):(this.__ownerID=C,this._map=F,this._list=X,this)};function bs(C){return Xe(C)&&g(C)}br.isOrderedMap=bs,br.prototype[v]=!0,br.prototype[S]=br.prototype.remove;function lc(C,F,X,ee){var ne=Object.create(br.prototype);return ne.size=C?C.size:0,ne._map=C,ne._list=F,ne.__ownerID=X,ne.__hash=ee,ne}var wl;function cc(){return wl||(wl=lc(Mr(),ia()))}function Sl(C,F,X){var ee=C._map,ne=C._list,de=ee.get(F),ge=de!==void 0,Oe,$e;if(X===M){if(!ge)return C;ne.size>=T&&ne.size>=ee.size*2?($e=ne.filter(function(qe,rt){return qe!==void 0&&de!==rt}),Oe=$e.toKeyedSeq().map(function(qe){return qe[0]}).flip().toMap(),C.__ownerID&&(Oe.__ownerID=$e.__ownerID=C.__ownerID)):(Oe=ee.remove(F),$e=de===ne.size-1?ne.pop():ne.set(de,void 0))}else if(ge){if(X===ne.get(de)[1])return C;Oe=ee,$e=ne.set(de,[F,X])}else Oe=ee.set(F,ne.size),$e=ne.set(ne.size,[F,X]);return C.__ownerID?(C.size=Oe.size,C._map=Oe,C._list=$e,C.__hash=void 0,C):lc(Oe,$e)}r(Vo,De);function Vo(C,F){this._iter=C,this._useKeys=F,this.size=C.size}Vo.prototype.get=function(C,F){return this._iter.get(C,F)},Vo.prototype.has=function(C){return this._iter.has(C)},Vo.prototype.valueSeq=function(){return this._iter.valueSeq()},Vo.prototype.reverse=function(){var C=this,F=ih(this,!0);return this._useKeys||(F.valueSeq=function(){return C._iter.toSeq().reverse()}),F},Vo.prototype.map=function(C,F){var X=this,ee=uc(this,C,F);return this._useKeys||(ee.valueSeq=function(){return X._iter.toSeq().map(C,F)}),ee},Vo.prototype.__iterate=function(C,F){var X=this,ee;return this._iter.__iterate(this._useKeys?function(ne,de){return C(ne,de,X)}:(ee=F?Yf(this):0,function(ne){return C(ne,F?--ee:ee++,X)}),F)},Vo.prototype.__iterator=function(C,F){if(this._useKeys)return this._iter.__iterator(C,F);var X=this._iter.__iterator(z,F),ee=F?Yf(this):0;return new ce(function(){var ne=X.next();return ne.done?ne:se(C,F?--ee:ee++,ne.value,ne)})},Vo.prototype[v]=!0,r(aa,Ee);function aa(C){this._iter=C,this.size=C.size}aa.prototype.includes=function(C){return this._iter.includes(C)},aa.prototype.__iterate=function(C,F){var X=this,ee=0;return this._iter.__iterate(function(ne){return C(ne,ee++,X)},F)},aa.prototype.__iterator=function(C,F){var X=this._iter.__iterator(z,F),ee=0;return new ce(function(){var ne=X.next();return ne.done?ne:se(C,ee++,ne.value,ne)})},r(so,Fe);function so(C){this._iter=C,this.size=C.size}so.prototype.has=function(C){return this._iter.includes(C)},so.prototype.__iterate=function(C,F){var X=this;return this._iter.__iterate(function(ee){return C(ee,ee,X)},F)},so.prototype.__iterator=function(C,F){var X=this._iter.__iterator(z,F);return new ce(function(){var ee=X.next();return ee.done?ee:se(C,ee.value,ee.value,ee)})},r(Pi,De);function Pi(C){this._iter=C,this.size=C.size}Pi.prototype.entrySeq=function(){return this._iter.toSeq()},Pi.prototype.__iterate=function(C,F){var X=this;return this._iter.__iterate(function(ee){if(ee){qf(ee);var ne=c(ee);return C(ne?ee.get(1):ee[1],ne?ee.get(0):ee[0],X)}},F)},Pi.prototype.__iterator=function(C,F){var X=this._iter.__iterator(z,F);return new ce(function(){for(;;){var ee=X.next();if(ee.done)return ee;var ne=ee.value;if(ne){qf(ne);var de=c(ne);return se(C,de?ne.get(0):ne[0],de?ne.get(1):ne[1],ee)}}})},aa.prototype.cacheResult=Vo.prototype.cacheResult=so.prototype.cacheResult=Pi.prototype.cacheResult=hc;function bu(C){var F=qi(C);return F._iter=C,F.size=C.size,F.flip=function(){return C},F.reverse=function(){var X=C.reverse.apply(this);return X.flip=function(){return C.reverse()},X},F.has=function(X){return C.includes(X)},F.includes=function(X){return C.has(X)},F.cacheResult=hc,F.__iterateUncached=function(X,ee){var ne=this;return C.__iterate(function(de,ge){return X(ge,de,ne)!==!1},ee)},F.__iteratorUncached=function(X,ee){if(X===W){var ne=C.__iterator(X,ee);return new ce(function(){var de=ne.next();if(!de.done){var ge=de.value[0];de.value[0]=de.value[1],de.value[1]=ge}return de})}return C.__iterator(X===z?te:z,ee)},F}function uc(C,F,X){var ee=qi(C);return ee.size=C.size,ee.has=function(ne){return C.has(ne)},ee.get=function(ne,de){var ge=C.get(ne,M);return ge===M?de:F.call(X,ge,ne,C)},ee.__iterateUncached=function(ne,de){var ge=this;return C.__iterate(function(Oe,$e,qe){return ne(F.call(X,Oe,$e,qe),$e,ge)!==!1},de)},ee.__iteratorUncached=function(ne,de){var ge=C.__iterator(W,de);return new ce(function(){var Oe=ge.next();if(Oe.done)return Oe;var $e=Oe.value,qe=$e[0];return se(ne,qe,F.call(X,$e[1],qe,C),Oe)})},ee}function ih(C,F){var X=qi(C);return X._iter=C,X.size=C.size,X.reverse=function(){return C},C.flip&&(X.flip=function(){var ee=bu(C);return ee.reverse=function(){return C.flip()},ee}),X.get=function(ee,ne){return C.get(F?ee:-1-ee,ne)},X.has=function(ee){return C.has(F?ee:-1-ee)},X.includes=function(ee){return C.includes(ee)},X.cacheResult=hc,X.__iterate=function(ee,ne){var de=this;return C.__iterate(function(ge,Oe){return ee(ge,Oe,de)},!ne)},X.__iterator=function(ee,ne){return C.__iterator(ee,!ne)},X}function wu(C,F,X,ee){var ne=qi(C);return ee&&(ne.has=function(de){var ge=C.get(de,M);return ge!==M&&!!F.call(X,ge,de,C)},ne.get=function(de,ge){var Oe=C.get(de,M);return Oe!==M&&F.call(X,Oe,de,C)?Oe:ge}),ne.__iterateUncached=function(de,ge){var Oe=this,$e=0;return C.__iterate(function(qe,rt,kt){if(F.call(X,qe,rt,kt))return $e++,de(qe,ee?rt:$e-1,Oe)},ge),$e},ne.__iteratorUncached=function(de,ge){var Oe=C.__iterator(W,ge),$e=0;return new ce(function(){for(;;){var qe=Oe.next();if(qe.done)return qe;var rt=qe.value,kt=rt[0],zt=rt[1];if(F.call(X,zt,kt,C))return se(de,ee?kt:$e++,zt,qe)}})},ne}function sh(C,F,X){var ee=nn().asMutable();return C.__iterate(function(ne,de){ee.update(F.call(X,ne,de,C),0,function(ge){return ge+1})}),ee.asImmutable()}function dc(C,F,X){var ee=d(C),ne=(g(C)?br():nn()).asMutable();C.__iterate(function(ge,Oe){ne.update(F.call(X,ge,Oe,C),function($e){return $e=$e||[],$e.push(ee?[Oe,ge]:ge),$e})});var de=Xf(C);return ne.map(function(ge){return tr(C,de(ge))})}function Cl(C,F,X,ee){var ne=C.size;if(F!==void 0&&(F=F|0),X!==void 0&&(X=X|0),G(F,X,ne))return C;var de=V(F,ne),ge=Y(X,ne);if(de!==de||ge!==ge)return Cl(C.toSeq().cacheResult(),F,X,ee);var Oe=ge-de,$e;Oe===Oe&&($e=Oe<0?0:Oe);var qe=qi(C);return qe.size=$e===0?$e:C.size&&$e||void 0,!ee&&je(C)&&$e>=0&&(qe.get=function(rt,kt){return rt=U(this,rt),rt>=0&&rt<$e?C.get(rt+de,kt):kt}),qe.__iterateUncached=function(rt,kt){var zt=this;if($e===0)return 0;if(kt)return this.cacheResult().__iterate(rt,kt);var an=0,yn=!0,ar=0;return C.__iterate(function(Or,Oo){if(!(yn&&(yn=an++<de)))return ar++,rt(Or,ee?Oo:ar-1,zt)!==!1&&ar!==$e}),ar},qe.__iteratorUncached=function(rt,kt){if($e!==0&&kt)return this.cacheResult().__iterator(rt,kt);var zt=$e!==0&&C.__iterator(rt,kt),an=0,yn=0;return new ce(function(){for(;an++<de;)zt.next();if(++yn>$e)return ve();var ar=zt.next();return ee||rt===z?ar:rt===te?se(rt,yn-1,void 0,ar):se(rt,yn-1,ar.value[1],ar)})},qe}function Hf(C,F,X){var ee=qi(C);return ee.__iterateUncached=function(ne,de){var ge=this;if(de)return this.cacheResult().__iterate(ne,de);var Oe=0;return C.__iterate(function($e,qe,rt){return F.call(X,$e,qe,rt)&&++Oe&&ne($e,qe,ge)}),Oe},ee.__iteratorUncached=function(ne,de){var ge=this;if(de)return this.cacheResult().__iterator(ne,de);var Oe=C.__iterator(W,de),$e=!0;return new ce(function(){if(!$e)return ve();var qe=Oe.next();if(qe.done)return qe;var rt=qe.value,kt=rt[0],zt=rt[1];return F.call(X,zt,kt,ge)?ne===W?qe:se(ne,kt,zt,qe):($e=!1,ve())})},ee}function Gf(C,F,X,ee){var ne=qi(C);return ne.__iterateUncached=function(de,ge){var Oe=this;if(ge)return this.cacheResult().__iterate(de,ge);var $e=!0,qe=0;return C.__iterate(function(rt,kt,zt){if(!($e&&($e=F.call(X,rt,kt,zt))))return qe++,de(rt,ee?kt:qe-1,Oe)}),qe},ne.__iteratorUncached=function(de,ge){var Oe=this;if(ge)return this.cacheResult().__iterator(de,ge);var $e=C.__iterator(W,ge),qe=!0,rt=0;return new ce(function(){var kt,zt,an;do{if(kt=$e.next(),kt.done)return ee||de===z?kt:de===te?se(de,rt++,void 0,kt):se(de,rt++,kt.value[1],kt);var yn=kt.value;zt=yn[0],an=yn[1],qe&&(qe=F.call(X,an,zt,Oe))}while(qe);return de===W?kt:se(de,zt,an,kt)})},ne}function Xm(C,F){var X=d(C),ee=[C].concat(F).map(function(ge){return c(ge)?X&&(ge=i(ge)):ge=X?Bt(ge):It(Array.isArray(ge)?ge:[ge]),ge}).filter(function(ge){return ge.size!==0});if(ee.length===0)return C;if(ee.length===1){var ne=ee[0];if(ne===C||X&&d(ne)||h(C)&&h(ne))return ne}var de=new Be(ee);return X?de=de.toKeyedSeq():h(C)||(de=de.toSetSeq()),de=de.flatten(!0),de.size=ee.reduce(function(ge,Oe){if(ge!==void 0){var $e=Oe.size;if($e!==void 0)return ge+$e}},0),de}function Wf(C,F,X){var ee=qi(C);return ee.__iterateUncached=function(ne,de){var ge=0,Oe=!1;function $e(qe,rt){var kt=this;qe.__iterate(function(zt,an){return(!F||rt<F)&&c(zt)?$e(zt,rt+1):ne(zt,X?an:ge++,kt)===!1&&(Oe=!0),!Oe},de)}return $e(C,0),ge},ee.__iteratorUncached=function(ne,de){var ge=C.__iterator(ne,de),Oe=[],$e=0;return new ce(function(){for(;ge;){var qe=ge.next();if(qe.done!==!1){ge=Oe.pop();continue}var rt=qe.value;if(ne===W&&(rt=rt[1]),(!F||Oe.length<F)&&c(rt))Oe.push(ge),ge=rt.__iterator(ne,de);else return X?qe:se(ne,$e++,rt,qe)}return ve()})},ee}function ah(C,F,X){var ee=Xf(C);return C.toSeq().map(function(ne,de){return ee(F.call(X,ne,de,C))}).flatten(!0)}function Zm(C,F){var X=qi(C);return X.size=C.size&&C.size*2-1,X.__iterateUncached=function(ee,ne){var de=this,ge=0;return C.__iterate(function(Oe,$e){return(!ge||ee(F,ge++,de)!==!1)&&ee(Oe,ge++,de)!==!1},ne),ge},X.__iteratorUncached=function(ee,ne){var de=C.__iterator(z,ne),ge=0,Oe;return new ce(function(){return(!Oe||ge%2)&&(Oe=de.next(),Oe.done)?Oe:ge%2?se(ee,ge++,F):se(ee,ge++,Oe.value,Oe)})},X}function xl(C,F,X){F||(F=Zf);var ee=d(C),ne=0,de=C.toSeq().map(function(ge,Oe){return[Oe,ge,ne++,X?X(ge,Oe,C):ge]}).toArray();return de.sort(function(ge,Oe){return F(ge[3],Oe[3])||ge[2]-Oe[2]}).forEach(ee?function(ge,Oe){de[Oe].length=2}:function(ge,Oe){de[Oe]=ge[1]}),ee?De(de):h(C)?Ee(de):Fe(de)}function Su(C,F,X){if(F||(F=Zf),X){var ee=C.toSeq().map(function(ne,de){return[ne,X(ne,de,C)]}).reduce(function(ne,de){return Kf(F,ne[1],de[1])?de:ne});return ee&&ee[0]}else return C.reduce(function(ne,de){return Kf(F,ne,de)?de:ne})}function Kf(C,F,X){var ee=C(X,F);return ee===0&&X!==F&&(X==null||X!==X)||ee>0}function lh(C,F,X){var ee=qi(C);return ee.size=new Be(X).map(function(ne){return ne.size}).min(),ee.__iterate=function(ne,de){for(var ge=this.__iterator(z,de),Oe,$e=0;!(Oe=ge.next()).done&&ne(Oe.value,$e++,this)!==!1;);return $e},ee.__iteratorUncached=function(ne,de){var ge=X.map(function(qe){return qe=o(qe),he(de?qe.reverse():qe)}),Oe=0,$e=!1;return new ce(function(){var qe;return $e||(qe=ge.map(function(rt){return rt.next()}),$e=qe.some(function(rt){return rt.done})),$e?ve():se(ne,Oe++,F.apply(null,qe.map(function(rt){return rt.value})))})},ee}function tr(C,F){return je(C)?F:C.constructor(F)}function qf(C){if(C!==Object(C))throw new TypeError("Expected [K, V] tuple: "+C)}function Yf(C){return Tr(C.size),B(C)}function Xf(C){return d(C)?i:h(C)?s:a}function qi(C){return Object.create((d(C)?De:h(C)?Ee:Fe).prototype)}function hc(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):_e.prototype.cacheResult.call(this)}function Zf(C,F){return C>F?1:C<F?-1:0}function Qf(C){var F=he(C);if(!F){if(!we(C))throw new TypeError("Expected iterable or array-like: "+C);F=he(o(C))}return F}r(li,Dr);function li(C,F){var X,ee=function(ge){if(ge instanceof ee)return ge;if(!(this instanceof ee))return new ee(ge);if(!X){X=!0;var Oe=Object.keys(C);_l(ne,Oe),ne.size=Oe.length,ne._name=F,ne._keys=Oe,ne._defaultValues=C}this._map=nn(ge)},ne=ee.prototype=Object.create(go);return ne.constructor=ee,ee}li.prototype.toString=function(){return this.__toString(Qt(this)+" {","}")},li.prototype.has=function(C){return this._defaultValues.hasOwnProperty(C)},li.prototype.get=function(C,F){if(!this.has(C))return F;var X=this._defaultValues[C];return this._map?this._map.get(C,X):X},li.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var C=this.constructor;return C._empty||(C._empty=ae(this,Mr()))},li.prototype.set=function(C,F){if(!this.has(C))throw new Error('Cannot set unknown key "'+C+'" on '+Qt(this));var X=this._map&&this._map.set(C,F);return this.__ownerID||X===this._map?this:ae(this,X)},li.prototype.remove=function(C){if(!this.has(C))return this;var F=this._map&&this._map.remove(C);return this.__ownerID||F===this._map?this:ae(this,F)},li.prototype.wasAltered=function(){return this._map.wasAltered()},li.prototype.__iterator=function(C,F){var X=this;return i(this._defaultValues).map(function(ee,ne){return X.get(ne)}).__iterator(C,F)},li.prototype.__iterate=function(C,F){var X=this;return i(this._defaultValues).map(function(ee,ne){return X.get(ne)}).__iterate(C,F)},li.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var F=this._map&&this._map.__ensureOwner(C);return C?ae(this,F,C):(this.__ownerID=C,this._map=F,this)};var go=li.prototype;go[S]=go.remove,go.deleteIn=go.removeIn=it.removeIn,go.merge=it.merge,go.mergeWith=it.mergeWith,go.mergeIn=it.mergeIn,go.mergeDeep=it.mergeDeep,go.mergeDeepWith=it.mergeDeepWith,go.mergeDeepIn=it.mergeDeepIn,go.setIn=it.setIn,go.update=it.update,go.updateIn=it.updateIn,go.withMutations=it.withMutations,go.asMutable=it.asMutable,go.asImmutable=it.asImmutable;function ae(C,F,X){var ee=Object.create(Object.getPrototypeOf(C));return ee._map=F,ee.__ownerID=X,ee}function Qt(C){return C._name||C.constructor.name||"Record"}function _l(C,F){try{F.forEach(ki.bind(void 0,C))}catch{}}function ki(C,F){Object.defineProperty(C,F,{get:function(){return this.get(F)},set:function(X){Dn(this.__ownerID,"Cannot set on an immutable record."),this.set(F,X)}})}r(sr,jr);function sr(C){return C==null?uh():Ne(C)&&!g(C)?C:uh().withMutations(function(F){var X=a(C);Tr(X.size),X.forEach(function(ee){return F.add(ee)})})}sr.of=function(){return this(arguments)},sr.fromKeys=function(C){return this(i(C).keySeq())},sr.prototype.toString=function(){return this.__toString("Set {","}")},sr.prototype.has=function(C){return this._map.has(C)},sr.prototype.add=function(C){return ch(this,this._map.set(C,!0))},sr.prototype.remove=function(C){return ch(this,this._map.remove(C))},sr.prototype.clear=function(){return ch(this,this._map.clear())},sr.prototype.union=function(){var C=n.call(arguments,0);return C=C.filter(function(F){return F.size!==0}),C.length===0?this:this.size===0&&!this.__ownerID&&C.length===1?this.constructor(C[0]):this.withMutations(function(F){for(var X=0;X<C.length;X++)a(C[X]).forEach(function(ee){return F.add(ee)})})},sr.prototype.intersect=function(){var C=n.call(arguments,0);if(C.length===0)return this;C=C.map(function(X){return a(X)});var F=this;return this.withMutations(function(X){F.forEach(function(ee){C.every(function(ne){return ne.includes(ee)})||X.remove(ee)})})},sr.prototype.subtract=function(){var C=n.call(arguments,0);if(C.length===0)return this;C=C.map(function(X){return a(X)});var F=this;return this.withMutations(function(X){F.forEach(function(ee){C.some(function(ne){return ne.includes(ee)})&&X.remove(ee)})})},sr.prototype.merge=function(){return this.union.apply(this,arguments)},sr.prototype.mergeWith=function(C){var F=n.call(arguments,1);return this.union.apply(this,F)},sr.prototype.sort=function(C){return Wn(xl(this,C))},sr.prototype.sortBy=function(C,F){return Wn(xl(this,F,C))},sr.prototype.wasAltered=function(){return this._map.wasAltered()},sr.prototype.__iterate=function(C,F){var X=this;return this._map.__iterate(function(ee,ne){return C(ne,ne,X)},F)},sr.prototype.__iterator=function(C,F){return this._map.map(function(X,ee){return ee}).__iterator(C,F)},sr.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var F=this._map.__ensureOwner(C);return C?this.__make(F,C):(this.__ownerID=C,this._map=F,this)};function Ne(C){return!!(C&&C[El])}sr.isSet=Ne;var El="@@__IMMUTABLE_SET__@@",ci=sr.prototype;ci[El]=!0,ci[S]=ci.remove,ci.mergeDeep=ci.merge,ci.mergeDeepWith=ci.mergeWith,ci.withMutations=it.withMutations,ci.asMutable=it.asMutable,ci.asImmutable=it.asImmutable,ci.__empty=uh,ci.__make=fn;function ch(C,F){return C.__ownerID?(C.size=F.size,C._map=F,C):F===C._map?C:F.size===0?C.__empty():C.__make(F)}function fn(C,F){var X=Object.create(ci);return X.size=C?C.size:0,X._map=C,X.__ownerID=F,X}var Mo;function uh(){return Mo||(Mo=fn(Mr()))}r(Wn,sr);function Wn(C){return C==null?ws():Cu(C)?C:ws().withMutations(function(F){var X=a(C);Tr(X.size),X.forEach(function(ee){return F.add(ee)})})}Wn.of=function(){return this(arguments)},Wn.fromKeys=function(C){return this(i(C).keySeq())},Wn.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Cu(C){return Ne(C)&&g(C)}Wn.isOrderedSet=Cu;var Aa=Wn.prototype;Aa[v]=!0,Aa.__empty=ws,Aa.__make=ut;function ut(C,F){var X=Object.create(Aa);return X.size=C?C.size:0,X._map=C,X.__ownerID=F,X}var dh;function ws(){return dh||(dh=ut(cc()))}r(no,er);function no(C){return C==null?Yi():hh(C)?C:Yi().unshiftAll(C)}no.of=function(){return this(arguments)},no.prototype.toString=function(){return this.__toString("Stack [","]")},no.prototype.get=function(C,F){var X=this._head;for(C=U(this,C);X&&C--;)X=X.next;return X?X.value:F},no.prototype.peek=function(){return this._head&&this._head.value},no.prototype.push=function(){if(arguments.length===0)return this;for(var C=this.size+arguments.length,F=this._head,X=arguments.length-1;X>=0;X--)F={value:arguments[X],next:F};return this.__ownerID?(this.size=C,this._head=F,this.__hash=void 0,this.__altered=!0,this):Tl(C,F)},no.prototype.pushAll=function(C){if(C=s(C),C.size===0)return this;Tr(C.size);var F=this.size,X=this._head;return C.reverse().forEach(function(ee){F++,X={value:ee,next:X}}),this.__ownerID?(this.size=F,this._head=X,this.__hash=void 0,this.__altered=!0,this):Tl(F,X)},no.prototype.pop=function(){return this.slice(1)},no.prototype.unshift=function(){return this.push.apply(this,arguments)},no.prototype.unshiftAll=function(C){return this.pushAll(C)},no.prototype.shift=function(){return this.pop.apply(this,arguments)},no.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yi()},no.prototype.slice=function(C,F){if(G(C,F,this.size))return this;var X=V(C,this.size),ee=Y(F,this.size);if(ee!==this.size)return er.prototype.slice.call(this,C,F);for(var ne=this.size-X,de=this._head;X--;)de=de.next;return this.__ownerID?(this.size=ne,this._head=de,this.__hash=void 0,this.__altered=!0,this):Tl(ne,de)},no.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?Tl(this.size,this._head,C,this.__hash):(this.__ownerID=C,this.__altered=!1,this)},no.prototype.__iterate=function(C,F){if(F)return this.reverse().__iterate(C);for(var X=0,ee=this._head;ee&&C(ee.value,X++,this)!==!1;)ee=ee.next;return X},no.prototype.__iterator=function(C,F){if(F)return this.reverse().__iterator(C);var X=0,ee=this._head;return new ce(function(){if(ee){var ne=ee.value;return ee=ee.next,se(C,X++,ne)}return ve()})};function hh(C){return!!(C&&C[fc])}no.isStack=hh;var fc="@@__IMMUTABLE_STACK__@@",La=no.prototype;La[fc]=!0,La.withMutations=it.withMutations,La.asMutable=it.asMutable,La.asImmutable=it.asImmutable,La.wasAltered=it.wasAltered;function Tl(C,F,X,ee){var ne=Object.create(La);return ne.size=C,ne._head=F,ne.__ownerID=X,ne.__hash=ee,ne.__altered=!1,ne}var Ml;function Yi(){return Ml||(Ml=Tl(0))}function Di(C,F){var X=function(ee){C.prototype[ee]=F[ee]};return Object.keys(F).forEach(X),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(F).forEach(X),C}o.Iterator=ce,Di(o,{toArray:function(){Tr(this.size);var C=new Array(this.size||0);return this.valueSeq().__iterate(function(F,X){C[X]=F}),C},toIndexedSeq:function(){return new aa(this)},toJS:function(){return this.toSeq().map(function(C){return C&&typeof C.toJS=="function"?C.toJS():C}).__toJS()},toJSON:function(){return this.toSeq().map(function(C){return C&&typeof C.toJSON=="function"?C.toJSON():C}).__toJS()},toKeyedSeq:function(){return new Vo(this,!0)},toMap:function(){return nn(this.toKeyedSeq())},toObject:function(){Tr(this.size);var C={};return this.__iterate(function(F,X){C[X]=F}),C},toOrderedMap:function(){return br(this.toKeyedSeq())},toOrderedSet:function(){return Wn(d(this)?this.valueSeq():this)},toSet:function(){return sr(d(this)?this.valueSeq():this)},toSetSeq:function(){return new so(this)},toSeq:function(){return h(this)?this.toIndexedSeq():d(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return no(d(this)?this.valueSeq():this)},toList:function(){return yr(d(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(C,F){return this.size===0?C+F:C+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+F},concat:function(){var C=n.call(arguments,0);return tr(this,Xm(this,C))},includes:function(C){return this.some(function(F){return st(F,C)})},entries:function(){return this.__iterator(W)},every:function(C,F){Tr(this.size);var X=!0;return this.__iterate(function(ee,ne,de){if(!C.call(F,ee,ne,de))return X=!1,!1}),X},filter:function(C,F){return tr(this,wu(this,C,F,!0))},find:function(C,F,X){var ee=this.findEntry(C,F);return ee?ee[1]:X},findEntry:function(C,F){var X;return this.__iterate(function(ee,ne,de){if(C.call(F,ee,ne,de))return X=[ne,ee],!1}),X},findLastEntry:function(C,F){return this.toSeq().reverse().findEntry(C,F)},forEach:function(C,F){return Tr(this.size),this.__iterate(F?C.bind(F):C)},join:function(C){Tr(this.size),C=C!==void 0?""+C:",";var F="",X=!0;return this.__iterate(function(ee){X?X=!1:F+=C,F+=ee!=null?ee.toString():""}),F},keys:function(){return this.__iterator(te)},map:function(C,F){return tr(this,uc(this,C,F))},reduce:function(C,F,X){Tr(this.size);var ee,ne;return arguments.length<2?ne=!0:ee=F,this.__iterate(function(de,ge,Oe){ne?(ne=!1,ee=de):ee=C.call(X,ee,de,ge,Oe)}),ee},reduceRight:function(C,F,X){var ee=this.toKeyedSeq().reverse();return ee.reduce.apply(ee,arguments)},reverse:function(){return tr(this,ih(this,!0))},slice:function(C,F){return tr(this,Cl(this,C,F,!0))},some:function(C,F){return!this.every(Ol(C),F)},sort:function(C){return tr(this,xl(this,C))},values:function(){return this.__iterator(z)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(C,F){return B(C?this.toSeq().filter(C,F):this)},countBy:function(C,F){return sh(this,C,F)},equals:function(C){return At(this,C)},entrySeq:function(){var C=this;if(C._cache)return new Be(C._cache);var F=C.toSeq().map(fh).toIndexedSeq();return F.fromEntrySeq=function(){return C.toSeq()},F},filterNot:function(C,F){return this.filter(Ol(C),F)},findLast:function(C,F,X){return this.toKeyedSeq().reverse().find(C,F,X)},first:function(){return this.find(K)},flatMap:function(C,F){return tr(this,ah(this,C,F))},flatten:function(C){return tr(this,Wf(this,C,!0))},fromEntrySeq:function(){return new Pi(this)},get:function(C,F){return this.find(function(X,ee){return st(ee,C)},void 0,F)},getIn:function(C,F){for(var X=this,ee=Qf(C),ne;!(ne=ee.next()).done;){var de=ne.value;if(X=X&&X.get?X.get(de,M):M,X===M)return F}return X},groupBy:function(C,F){return dc(this,C,F)},has:function(C){return this.get(C,M)!==M},hasIn:function(C){return this.getIn(C,M)!==M},isSubset:function(C){return C=typeof C.includes=="function"?C:o(C),this.every(function(F){return C.includes(F)})},isSuperset:function(C){return C=typeof C.isSubset=="function"?C:o(C),C.isSubset(this)},keySeq:function(){return this.toSeq().map(Jf).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(C){return Su(this,C)},maxBy:function(C,F){return Su(this,F,C)},min:function(C){return Su(this,C?ph(C):tp)},minBy:function(C,F){return Su(this,F?ph(F):tp,C)},rest:function(){return this.slice(1)},skip:function(C){return this.slice(Math.max(0,C))},skipLast:function(C){return tr(this,this.toSeq().reverse().skip(C).reverse())},skipWhile:function(C,F){return tr(this,Gf(this,C,F,!0))},skipUntil:function(C,F){return this.skipWhile(Ol(C),F)},sortBy:function(C,F){return tr(this,xl(this,F,C))},take:function(C){return this.slice(0,Math.max(0,C))},takeLast:function(C){return tr(this,this.toSeq().reverse().take(C).reverse())},takeWhile:function(C,F){return tr(this,Hf(this,C,F))},takeUntil:function(C,F){return this.takeWhile(Ol(C),F)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Qm(this))}});var wr=o.prototype;wr[m]=!0,wr[ue]=wr.values,wr.__toJS=wr.toArray,wr.__toStringMapper=gh,wr.inspect=wr.toSource=function(){return this.toString()},wr.chain=wr.flatMap,wr.contains=wr.includes,(function(){try{Object.defineProperty(wr,"length",{get:function(){if(!o.noLengthWarning){var C;try{throw new Error}catch(F){C=F.stack}if(C.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+C),this.size}}})}catch{}})(),Di(i,{flip:function(){return tr(this,bu(this))},findKey:function(C,F){var X=this.findEntry(C,F);return X&&X[0]},findLastKey:function(C,F){return this.toSeq().reverse().findKey(C,F)},keyOf:function(C){return this.findKey(function(F){return st(F,C)})},lastKeyOf:function(C){return this.findLastKey(function(F){return st(F,C)})},mapEntries:function(C,F){var X=this,ee=0;return tr(this,this.toSeq().map(function(ne,de){return C.call(F,[de,ne],ee++,X)}).fromEntrySeq())},mapKeys:function(C,F){var X=this;return tr(this,this.toSeq().flip().map(function(ee,ne){return C.call(F,ee,ne,X)}).flip())}});var pc=i.prototype;pc[y]=!0,pc[ue]=wr.entries,pc.__toJS=wr.toObject,pc.__toStringMapper=function(C,F){return JSON.stringify(F)+": "+gh(C)},Di(s,{toKeyedSeq:function(){return new Vo(this,!1)},filter:function(C,F){return tr(this,wu(this,C,F,!1))},findIndex:function(C,F){var X=this.findEntry(C,F);return X?X[0]:-1},indexOf:function(C){var F=this.toKeyedSeq().keyOf(C);return F===void 0?-1:F},lastIndexOf:function(C){var F=this.toKeyedSeq().reverse().keyOf(C);return F===void 0?-1:F},reverse:function(){return tr(this,ih(this,!1))},slice:function(C,F){return tr(this,Cl(this,C,F,!1))},splice:function(C,F){var X=arguments.length;if(F=Math.max(F|0,0),X===0||X===2&&!F)return this;C=V(C,C<0?this.count():this.size);var ee=this.slice(0,C);return tr(this,X===1?ee:ee.concat($(arguments,2),this.slice(C+F)))},findLastIndex:function(C,F){var X=this.toKeyedSeq().findLastKey(C,F);return X===void 0?-1:X},first:function(){return this.get(0)},flatten:function(C){return tr(this,Wf(this,C,!1))},get:function(C,F){return C=U(this,C),C<0||this.size===1/0||this.size!==void 0&&C>this.size?F:this.find(function(X,ee){return ee===C},void 0,F)},has:function(C){return C=U(this,C),C>=0&&(this.size!==void 0?this.size===1/0||C<this.size:this.indexOf(C)!==-1)},interpose:function(C){return tr(this,Zm(this,C))},interleave:function(){var C=[this].concat($(arguments)),F=lh(this.toSeq(),Ee.of,C),X=F.flatten(!0);return F.size&&(X.size=F.size*C.length),tr(this,X)},last:function(){return this.get(-1)},skipWhile:function(C,F){return tr(this,Gf(this,C,F,!1))},zip:function(){var C=[this].concat($(arguments));return tr(this,lh(this,ep,C))},zipWith:function(C){var F=$(arguments);return F[0]=this,tr(this,lh(this,C,F))}}),s.prototype[b]=!0,s.prototype[v]=!0,Di(a,{get:function(C,F){return this.has(C)?C:F},includes:function(C){return this.has(C)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=wr.includes,Di(De,i.prototype),Di(Ee,s.prototype),Di(Fe,a.prototype),Di(Dr,i.prototype),Di(er,s.prototype),Di(jr,a.prototype);function Jf(C,F){return F}function fh(C,F){return[F,C]}function Ol(C){return function(){return!C.apply(this,arguments)}}function ph(C){return function(){return-C.apply(this,arguments)}}function gh(C){return typeof C=="string"?JSON.stringify(C):C}function ep(){return $(arguments)}function tp(C,F){return C<F?1:C>F?-1:0}function Qm(C){if(C.size===1/0)return 0;var F=g(C),X=d(C),ee=F?1:0,ne=C.__iterate(X?F?function(de,ge){ee=31*ee+gc(Ln(de),Ln(ge))|0}:function(de,ge){ee=ee+gc(Ln(de),Ln(ge))|0}:F?function(de){ee=31*ee+Ln(de)|0}:function(de){ee=ee+Ln(de)|0});return xu(ne,ee)}function xu(C,F){return F=Vr(F,3432918353),F=Vr(F<<15|F>>>-15,461845907),F=Vr(F<<13|F>>>-13,5),F=(F+3864292196|0)^C,F=Vr(F^F>>>16,2246822507),F=Vr(F^F>>>13,3266489909),F=on(F^F>>>16),F}function gc(C,F){return C^F+2654435769+(C<<6)+(C>>2)|0}var Jm={Iterable:o,Seq:_e,Collection:Fn,Map:nn,OrderedMap:br,List:yr,Stack:no,Set:sr,OrderedSet:Wn,Record:li,Range:An,Repeat:pt,is:st,fromJS:He};return Jm})})(Gy)),Gy.exports}var i_,PN;function cg(){if(PN)return i_;PN=1;var e=Jn(),t=e.OrderedMap,n={createFromArray:function(o){return t(o.map(function(i){return[i.getKey(),i]}))}};return i_=n,i_}var s_,kN;function Ls(){if(kN)return s_;kN=1;function e(f,g){f.prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g}var t=Jn(),n=t.Map,r=t.OrderedSet,o=t.Record,i=r(),s={style:i,entity:null},a=o(s),c=(function(f){e(g,f);function g(){return f.apply(this,arguments)||this}var m=g.prototype;return m.getStyle=function(){return this.get("style")},m.getEntity=function(){return this.get("entity")},m.hasStyle=function(b){return this.getStyle().includes(b)},g.applyStyle=function(b,v){var S=b.set("style",b.getStyle().add(v));return g.create(S)},g.removeStyle=function(b,v){var S=b.set("style",b.getStyle().remove(v));return g.create(S)},g.applyEntity=function(b,v){var S=b.getEntity()===v?b:b.set("entity",v);return g.create(S)},g.create=function(b){if(!b)return d;var v={style:i,entity:null},S=n(v).merge(b),E=h.get(S);if(E)return E;var T=new g(S);return h=h.set(S,T),T},g.fromJS=function(b){var v=b.style,S=b.entity;return new g({style:Array.isArray(v)?r(v):v,entity:Array.isArray(S)?r(S):S})},g})(a),d=new c,h=n([[n(s),d]]);return c.EMPTY=d,s_=c,s_}var a_,DN;function ug(){if(DN)return a_;DN=1;function e(t,n,r,o){if(t.size){var i=0;t.reduce(function(s,a,c){return n(s,a)||(r(s)&&o(i,c),i=c),a}),r(t.last())&&o(i,t.count())}}return a_=e,a_}var l_,AN;function ld(){if(AN)return l_;AN=1;function e(v,S){v.prototype=Object.create(S.prototype),v.prototype.constructor=v,v.__proto__=S}var t=Ls(),n=ug(),r=Jn(),o=r.List,i=r.Map,s=r.OrderedSet,a=r.Record,c=r.Repeat,d=s(),h={key:"",type:"unstyled",text:"",characterList:o(),depth:0,data:i()},f=a(h),g=function(S){if(!S)return S;var E=S.characterList,T=S.text;return T&&!E&&(S.characterList=o(c(t.EMPTY,T.length))),S},m=(function(v){e(S,v);function S(T){return v.call(this,g(T))||this}var E=S.prototype;return E.getKey=function(){return this.get("key")},E.getType=function(){return this.get("type")},E.getText=function(){return this.get("text")},E.getCharacterList=function(){return this.get("characterList")},E.getLength=function(){return this.getText().length},E.getDepth=function(){return this.get("depth")},E.getData=function(){return this.get("data")},E.getInlineStyleAt=function(R){var M=this.getCharacterList().get(R);return M?M.getStyle():d},E.getEntityAt=function(R){var M=this.getCharacterList().get(R);return M?M.getEntity():null},E.findStyleRanges=function(R,M){n(this.getCharacterList(),y,R,M)},E.findEntityRanges=function(R,M){n(this.getCharacterList(),b,R,M)},S})(f);function y(v,S){return v.getStyle()===S.getStyle()}function b(v,S){return v.getEntity()===S.getEntity()}return l_=m,l_}var c_,LN;function Ns(){if(LN)return c_;LN=1;function e(b,v){b.prototype=Object.create(v.prototype),b.prototype.constructor=b,b.__proto__=v}var t=Ls(),n=ug(),r=Jn(),o=r.List,i=r.Map,s=r.OrderedSet,a=r.Record,c=r.Repeat,d=s(),h={parent:null,characterList:o(),data:i(),depth:0,key:"",text:"",type:"unstyled",children:o(),prevSibling:null,nextSibling:null},f=function(v,S){return v.getStyle()===S.getStyle()},g=function(v,S){return v.getEntity()===S.getEntity()},m=function(v){if(!v)return v;var S=v.characterList,E=v.text;return E&&!S&&(v.characterList=o(c(t.EMPTY,E.length))),v},y=(function(b){e(v,b);function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;return b.call(this,m(E))||this}var S=v.prototype;return S.getKey=function(){return this.get("key")},S.getType=function(){return this.get("type")},S.getText=function(){return this.get("text")},S.getCharacterList=function(){return this.get("characterList")},S.getLength=function(){return this.getText().length},S.getDepth=function(){return this.get("depth")},S.getData=function(){return this.get("data")},S.getInlineStyleAt=function(T){var R=this.getCharacterList().get(T);return R?R.getStyle():d},S.getEntityAt=function(T){var R=this.getCharacterList().get(T);return R?R.getEntity():null},S.getChildKeys=function(){return this.get("children")},S.getParentKey=function(){return this.get("parent")},S.getPrevSiblingKey=function(){return this.get("prevSibling")},S.getNextSiblingKey=function(){return this.get("nextSibling")},S.findStyleRanges=function(T,R){n(this.getCharacterList(),f,T,R)},S.findEntityRanges=function(T,R){n(this.getCharacterList(),g,T,R)},v})(a(h));return c_=y,c_}var u_,NN;function Yde(){if(NN)return u_;NN=1;var e=Ls(),t=Jn(),n=t.Map,r={add:function(s,a,c){return o(s,a,c,!0)},remove:function(s,a,c){return o(s,a,c,!1)}};function o(i,s,a,c){var d=i.getBlockMap(),h=s.getStartKey(),f=s.getStartOffset(),g=s.getEndKey(),m=s.getEndOffset(),y=d.skipUntil(function(b,v){return v===h}).takeUntil(function(b,v){return v===g}).concat(n([[g,d.get(g)]])).map(function(b,v){var S,E;h===g?(S=f,E=m):(S=v===h?f:0,E=v===g?m:b.getLength());for(var T=b.getCharacterList(),R;S<E;)R=T.get(S),T=T.set(S,c?e.applyStyle(R,a):e.removeStyle(R,a)),S++;return b.set("characterList",T)});return i.merge({blockMap:d.merge(y),selectionBefore:s,selectionAfter:s})}return u_=r,u_}var d_,BN;function Xde(){if(BN)return d_;BN=1;var e=Ls();function t(n,r,o,i){for(var s=r,a=n.getCharacterList();s<o;)a=a.set(s,e.applyEntity(a.get(s),i)),s++;return n.set("characterList",a)}return d_=t,d_}var h_,FN;function Zde(){if(FN)return h_;FN=1;var e=Xde(),t=Jn();function n(r,o,i){var s=r.getBlockMap(),a=o.getStartKey(),c=o.getStartOffset(),d=o.getEndKey(),h=o.getEndOffset(),f=s.skipUntil(function(g,m){return m===a}).takeUntil(function(g,m){return m===d}).toOrderedMap().merge(t.OrderedMap([[d,s.get(d)]])).map(function(g,m){var y=m===a?c:0,b=m===d?h:g.getLength();return e(g,y,b,i)});return r.merge({blockMap:s.merge(f),selectionBefore:o,selectionAfter:o})}return h_=n,h_}var f_,jN;function Qde(){if(jN)return f_;jN=1;var e={getRemovalRange:function(n,r,o,i,s){var a=o.split(" ");a=a.map(function(S,E){if(s==="forward"){if(E>0)return" "+S}else if(E<a.length-1)return S+" ";return S});for(var c=i,d,h,f=null,g=null,m=0;m<a.length;m++){if(h=a[m],d=c+h.length,n<d&&c<r)f!==null||(f=c),g=d;else if(f!==null)break;c=d}var y=i+o.length,b=f===i,v=g===y;return(!b&&v||b&&!v)&&(s==="forward"?g!==y&&g++:f!==i&&f--),{start:f,end:g}}};return f_=e,f_}var p_,VN;function rr(){if(VN)return p_;VN=1;function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(!t){var s;if(n===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;s=new Error(n.replace(/%s/g,function(){return String(o[a++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}return p_=e,p_}var g_,$N;function Jde(){if($N)return g_;$N=1;var e=rr();function t(n,r){var o=[];return n.findEntityRanges(function(i){return i.getEntity()===r},function(i,s){o.push({start:i,end:s})}),o.length||e(!1),o}return g_=t,g_}var m_,zN;function ehe(){if(zN)return m_;zN=1;var e=Qde(),t=Jde(),n=rr();function r(i,s,a,c,d){var h=c.getStartOffset(),f=c.getEndOffset(),g=s.getEntityAt(h),m=a.getEntityAt(f-1);if(!g&&!m)return c;var y=c;if(g&&g===m)y=o(i,s,y,d,g,!0,!0);else if(g&&m){var b=o(i,s,y,d,g,!1,!0),v=o(i,a,y,d,m,!1,!1);y=y.merge({anchorOffset:b.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:!1})}else if(g){var S=o(i,s,y,d,g,!1,!0);y=y.merge({anchorOffset:S.getStartOffset(),isBackward:!1})}else if(m){var E=o(i,a,y,d,m,!1,!1);y=y.merge({focusOffset:E.getEndOffset(),isBackward:!1})}return y}function o(i,s,a,c,d,h,f){var g=a.getStartOffset(),m=a.getEndOffset(),y=i.__get(d),b=y.getMutability(),v=f?g:m;if(b==="MUTABLE")return a;var S=t(s,d).filter(function(R){return v<=R.end&&v>=R.start});S.length!=1&&n(!1);var E=S[0];if(b==="IMMUTABLE")return a.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1});h||(f?m=E.end:g=E.start);var T=e.getRemovalRange(g,m,s.getText().slice(E.start,E.end),E.start,c);return a.merge({anchorOffset:T.start,focusOffset:T.end,isBackward:!1})}return m_=r,m_}var v_,UN;function Qa(){if(UN)return v_;UN=1;var e={},t=Math.pow(2,24);function n(){for(var r;r===void 0||e.hasOwnProperty(r)||!isNaN(+r);)r=Math.floor(Math.random()*t).toString(32);return e[r]=!0,r}return v_=n,v_}var y_,HN;function GN(){if(HN)return y_;HN=1;var e=Ns(),t=Qa(),n=Jn(),r=n.OrderedMap,o=function(c){var d={},h;return r(c.withMutations(function(f){f.forEach(function(g,m){var y=g.getKey(),b=g.getNextSiblingKey(),v=g.getPrevSiblingKey(),S=g.getChildKeys(),E=g.getParentKey(),T=t();if(d[y]=T,b){var R=f.get(b);R?f.setIn([b,"prevSibling"],T):f.setIn([y,"nextSibling"],null)}if(v){var M=f.get(v);M?f.setIn([v,"nextSibling"],T):f.setIn([y,"prevSibling"],null)}if(E&&f.get(E)){var I=f.get(E),N=I.getChildKeys();f.setIn([E,"children"],N.set(N.indexOf(g.getKey()),T))}else f.setIn([y,"parent"],null),h&&(f.setIn([h.getKey(),"nextSibling"],T),f.setIn([y,"prevSibling"],d[h.getKey()])),h=f.get(y);S.forEach(function(P){var L=f.get(P);L?f.setIn([P,"parent"],T):f.setIn([y,"children"],g.getChildKeys().filter(function(A){return A!==P}))})})}).toArray().map(function(f){return[d[f.getKey()],f.set("key",d[f.getKey()])]}))},i=function(c){return r(c.toArray().map(function(d){var h=t();return[h,d.set("key",h)]}))},s=function(c){var d=c.first()instanceof e;return d?o(c):i(c)};return y_=s,y_}var b_,WN;function KN(){if(WN)return b_;WN=1;var e=Ls(),t=ug(),n=rr();function r(s,a){var c=s.getBlockMap(),d=s.getEntityMap(),h={},f=a.getStartKey(),g=a.getStartOffset(),m=c.get(f),y=i(d,m,g);y!==m&&(h[f]=y);var b=a.getEndKey(),v=a.getEndOffset(),S=c.get(b);f===b&&(S=y);var E=i(d,S,v);return E!==S&&(h[b]=E),Object.keys(h).length?s.merge({blockMap:c.merge(h),selectionAfter:a}):s.set("selectionAfter",a)}function o(s,a,c){var d;return t(s,function(h,f){return h.getEntity()===f.getEntity()},function(h){return h.getEntity()===a},function(h,f){h<=c&&f>=c&&(d={start:h,end:f})}),typeof d!="object"&&n(!1),d}function i(s,a,c){var d=a.getCharacterList(),h=c>0?d.get(c-1):void 0,f=c<d.count()?d.get(c):void 0,g=h?h.getEntity():void 0,m=f?f.getEntity():void 0;if(m&&m===g){var y=s.__get(m);if(y.getMutability()!=="MUTABLE"){for(var b=o(d,m,c),v=b.start,S=b.end,E;v<S;)E=d.get(v),d=d.set(v,e.applyEntity(E,null)),v++;return a.set("characterList",d)}}return a}return b_=r,b_}var w_,qN;function Wy(){if(qN)return w_;qN=1;var e=GN(),t=KN(),n=function(o,i){var s=i.getStartKey(),a=i.getStartOffset(),c=i.getEndKey(),d=i.getEndOffset(),h=t(o,i),f=h.getBlockMap(),g=f.keySeq(),m=g.indexOf(s),y=g.indexOf(c)+1;return e(f.slice(m,y).map(function(b,v){var S=b.getText(),E=b.getCharacterList();return s===c?b.merge({text:S.slice(a,d),characterList:E.slice(a,d)}):v===s?b.merge({text:S.slice(a),characterList:E.slice(a)}):v===c?b.merge({text:S.slice(0,d),characterList:E.slice(0,d)}):b}))};return w_=n,w_}var S_,YN;function XN(){if(YN)return S_;YN=1;function e(t,n,r){var o=t;if(r===o.count())n.forEach(function(a){o=o.push(a)});else if(r===0)n.reverse().forEach(function(a){o=o.unshift(a)});else{var i=o.slice(0,r),s=o.slice(r);o=i.concat(n,s).toList()}return o}return S_=e,S_}var C_,ZN;function the(){if(ZN)return C_;ZN=1;var e=cg(),t=Ns(),n=Jn(),r=XN(),o=rr(),i=GN(),s=n.List,a=function(b,v,S,E,T,R){var M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",I=S.get(T),N=I.getText(),P=I.getCharacterList(),L=T,A=R+E.getText().length,$=null;switch(M){case"MERGE_OLD_DATA_TO_NEW_DATA":$=E.getData().merge(I.getData());break;case"REPLACE_WITH_NEW_DATA":$=E.getData();break}var B=I.getType();N&&B==="unstyled"&&(B=E.getType());var U=I.merge({text:N.slice(0,R)+E.getText()+N.slice(R),characterList:r(P,E.getCharacterList(),R),type:B,data:$});return b.merge({blockMap:S.set(T,U),selectionBefore:v,selectionAfter:v.merge({anchorKey:L,anchorOffset:A,focusKey:L,focusOffset:A,isBackward:!1})})},c=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),R=E.slice(0,v),M=T.slice(0,v),I=S.first();return b.merge({text:R+I.getText(),characterList:M.concat(I.getCharacterList()),type:R?b.getType():I.getType(),data:I.getData()})},d=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),R=E.length,M=E.slice(v,R),I=T.slice(v,R),N=S.last();return N.merge({text:N.getText()+M,characterList:N.getCharacterList().concat(I),data:N.getData()})},h=function(b,v){var S=b.getKey(),E=b,T=[];for(v.get(S)&&T.push(S);E&&E.getNextSiblingKey();){var R=E.getNextSiblingKey();if(!R)break;T.push(R),E=v.get(R)}return T},f=function(b,v,S,E){return b.withMutations(function(T){var R=S.getKey(),M=E.getKey(),I=S.getNextSiblingKey(),N=S.getParentKey(),P=h(E,b),L=P[P.length-1];if(T.get(M)?(T.setIn([R,"nextSibling"],M),T.setIn([M,"prevSibling"],R)):(T.setIn([R,"nextSibling"],E.getNextSiblingKey()),T.setIn([E.getNextSiblingKey(),"prevSibling"],R)),T.setIn([L,"nextSibling"],I),I&&T.setIn([I,"prevSibling"],L),P.forEach(function(G){return T.setIn([G,"parent"],N)}),N){var A=b.get(N),$=A.getChildKeys(),B=$.indexOf(R),U=B+1,K=$.toArray();K.splice.apply(K,[U,0].concat(P)),T.setIn([N,"children"],s(K))}})},g=function(b,v,S,E,T,R){var M=S.first()instanceof t,I=[],N=E.size,P=S.get(T),L=E.first(),A=E.last(),$=A.getLength(),B=A.getKey(),U=M&&(!P.getChildKeys().isEmpty()||!L.getChildKeys().isEmpty());S.forEach(function(G,V){if(V!==T){I.push(G);return}U?I.push(G):I.push(c(G,R,E)),E.slice(U?0:1,N-1).forEach(function(Y){return I.push(Y)}),I.push(d(G,R,E))});var K=e.createFromArray(I);return M&&(K=f(K,S,P,L)),b.merge({blockMap:K,selectionBefore:v,selectionAfter:v.merge({anchorKey:B,anchorOffset:$,focusKey:B,focusOffset:$,isBackward:!1})})},m=function(b,v,S){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";v.isCollapsed()||o(!1);var T=b.getBlockMap(),R=i(S),M=v.getStartKey(),I=v.getStartOffset(),N=T.get(M);return N instanceof t&&(N.getChildKeys().isEmpty()||o(!1)),R.size===1?a(b,v,T,R.first(),M,I,E):g(b,v,T,R,M,I)};return C_=m,C_}var x_,QN;function nhe(){if(QN)return x_;QN=1;var e=Jn(),t=XN(),n=rr(),r=e.Repeat;function o(i,s,a,c){s.isCollapsed()||n(!1);var d=null;if(a!=null&&(d=a.length),d==null||d===0)return i;var h=i.getBlockMap(),f=s.getStartKey(),g=s.getStartOffset(),m=h.get(f),y=m.getText(),b=m.merge({text:y.slice(0,g)+a+y.slice(g,m.getLength()),characterList:t(m.getCharacterList(),r(c,d).toList(),g)}),v=g+d;return i.merge({blockMap:h.set(f,b),selectionAfter:s.merge({anchorOffset:v,focusOffset:v})})}return x_=o,x_}var __,JN;function eB(){if(JN)return __;JN=1;var e=Jn(),t=e.Map;function n(r,o,i){var s=o.getStartKey(),a=o.getEndKey(),c=r.getBlockMap(),d=c.toSeq().skipUntil(function(h,f){return f===s}).takeUntil(function(h,f){return f===a}).concat(t([[a,c.get(a)]])).map(i);return r.merge({blockMap:c.merge(d),selectionBefore:o,selectionAfter:o})}return __=n,__}var E_,tB;function nB(){if(tB)return E_;tB=1;var e=Ns(),t=function(r,o){var i=r instanceof e;if(!i)return null;var s=r.getNextSiblingKey();if(s)return s;var a=r.getParentKey();if(!a)return null;for(var c=o.get(a);c&&!c.getNextSiblingKey();){var d=c.getParentKey();c=d?o.get(d):null}return c?c.getNextSiblingKey():null};return E_=t,E_}var T_,rB;function rhe(){if(rB)return T_;rB=1;var e=Ns(),t=nB(),n=Jn();n.List;var r=n.Map,o=function(m,y,b){if(m){var v=y.get(m);v&&y.set(m,b(v))}},i=function(m,y){var b=[];if(!m)return b;for(var v=y.get(m);v&&v.getParentKey();){var S=v.getParentKey();S&&b.push(S),v=S?y.get(S):null}return b},s=function(m,y){var b=[];if(!m)return b;for(var v=t(m,y);v&&y.get(v);){var S=y.get(v);b.push(v),v=S.getParentKey()?t(S,y):null}return b},a=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getNextSiblingKey();v&&!y.get(v);)v=b.get(v).getNextSiblingKey()||null;return v},c=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getPrevSiblingKey();v&&!y.get(v);)v=b.get(v).getPrevSiblingKey()||null;return v},d=function(m,y,b,v){return m.withMutations(function(S){if(o(y.getKey(),S,function(I){return I.merge({nextSibling:a(I,S,v),prevSibling:c(I,S,v)})}),o(b.getKey(),S,function(I){return I.merge({nextSibling:a(I,S,v),prevSibling:c(I,S,v)})}),i(y.getKey(),v).forEach(function(I){return o(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(P){return S.get(P)}),nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),o(y.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:y.getPrevSiblingKey()})}),o(y.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:a(I,S,v)})}),o(b.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:c(I,S,v)})}),o(b.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:b.getNextSiblingKey()})}),i(b.getKey(),v).forEach(function(I){o(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(P){return S.get(P)}),nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),s(b,v).forEach(function(I){return o(I,S,function(N){return N.merge({nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),m.get(y.getKey())==null&&m.get(b.getKey())!=null&&b.getParentKey()===y.getKey()&&b.getPrevSiblingKey()==null){var E=y.getPrevSiblingKey();o(b.getKey(),S,function(I){return I.merge({prevSibling:E})}),o(E,S,function(I){return I.merge({nextSibling:b.getKey()})});var T=E?m.get(E):null,R=T?T.getParentKey():null;if(y.getChildKeys().forEach(function(I){o(I,S,function(N){return N.merge({parent:R})})}),R!=null){var M=m.get(R);o(R,S,function(I){return I.merge({children:M.getChildKeys().concat(y.getChildKeys())})})}o(y.getChildKeys().find(function(I){var N=m.get(I);return N.getNextSiblingKey()===null}),S,function(I){return I.merge({nextSibling:y.getNextSiblingKey()})})}})},h=function(m,y){if(y.isCollapsed())return m;var b=m.getBlockMap(),v=y.getStartKey(),S=y.getStartOffset(),E=y.getEndKey(),T=y.getEndOffset(),R=b.get(v),M=b.get(E),I=R instanceof e,N=[];if(I){var P=M.getChildKeys(),L=i(E,b);M.getNextSiblingKey()&&(N=N.concat(L)),P.isEmpty()||(N=N.concat(L.concat([E]))),N=N.concat(i(t(M,b),b))}var A;R===M?A=f(R.getCharacterList(),S,T):A=R.getCharacterList().slice(0,S).concat(M.getCharacterList().slice(T));var $=R.merge({text:R.getText().slice(0,S)+M.getText().slice(T),characterList:A}),B=I&&S===0&&T===0&&M.getParentKey()===v&&M.getPrevSiblingKey()==null,U=B?r([[v,null]]):b.toSeq().skipUntil(function(G,V){return V===v}).takeUntil(function(G,V){return V===E}).filter(function(G,V){return N.indexOf(V)===-1}).concat(r([[E,null]])).map(function(G,V){return V===v?$:null}),K=b.merge(U).filter(function(G){return!!G});return I&&R!==M&&(K=d(K,R,M,b)),m.merge({blockMap:K,selectionBefore:y,selectionAfter:y.merge({anchorKey:v,anchorOffset:S,focusKey:v,focusOffset:S,isBackward:!1})})},f=function(m,y,b){if(y===0)for(;y<b;)m=m.shift(),y++;else if(b===m.count())for(;b>y;)m=m.pop(),b--;else{var v=m.slice(0,y),S=m.slice(b);m=v.concat(S).toList()}return m};return T_=h,T_}var M_,oB;function ohe(){if(oB)return M_;oB=1;var e=Ns(),t=Qa(),n=Jn(),r=rr(),o=eB(),i=n.List,s=n.Map,a=function(f,g,m){if(f){var y=g.get(f);y&&g.set(f,m(y))}},c=function(f,g,m){return f.withMutations(function(y){var b=g.getKey(),v=m.getKey();a(g.getParentKey(),y,function(S){var E=S.getChildKeys(),T=E.indexOf(b)+1,R=E.toArray();return R.splice(T,0,v),S.merge({children:i(R)})}),a(g.getNextSiblingKey(),y,function(S){return S.merge({prevSibling:v})}),a(b,y,function(S){return S.merge({nextSibling:v})}),a(v,y,function(S){return S.merge({prevSibling:b})})})},d=function(f,g){g.isCollapsed()||r(!1);var m=g.getAnchorKey(),y=f.getBlockMap(),b=y.get(m),v=b.getText();if(!v){var S=b.getType();if(S==="unordered-list-item"||S==="ordered-list-item")return o(f,g,function($){return $.merge({type:"unstyled",depth:0})})}var E=g.getAnchorOffset(),T=b.getCharacterList(),R=t(),M=b instanceof e,I=b.merge({text:v.slice(0,E),characterList:T.slice(0,E)}),N=I.merge({key:R,text:v.slice(E),characterList:T.slice(E),data:s()}),P=y.toSeq().takeUntil(function($){return $===b}),L=y.toSeq().skipUntil(function($){return $===b}).rest(),A=P.concat([[m,I],[R,N]],L).toOrderedMap();return M&&(b.getChildKeys().isEmpty()||r(!1),A=c(A,I,N)),f.merge({blockMap:A,selectionBefore:g,selectionAfter:g.merge({anchorKey:R,anchorOffset:0,focusKey:R,focusOffset:0,isBackward:!1})})};return M_=d,M_}var O_,iB;function Ni(){if(iB)return O_;iB=1;var e=Ls(),t=Yde(),n=Zde(),r=ehe(),o=Wy(),i=Jn(),s=the(),a=nhe(),c=rr(),d=eB(),h=KN(),f=rhe(),g=ohe(),m=i.OrderedSet,y={replaceText:function(v,S,E,T,R){var M=h(v,S),I=f(M,S),N=e.create({style:T||m(),entity:R||null});return a(I,I.getSelectionAfter(),E,N)},insertText:function(v,S,E,T,R){return S.isCollapsed()||c(!1),y.replaceText(v,S,E,T,R)},moveText:function(v,S,E){var T=o(v,S),R=y.removeRange(v,S,"backward");return y.replaceWithFragment(R,E,T)},replaceWithFragment:function(v,S,E){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",R=h(v,S),M=f(R,S);return s(M,M.getSelectionAfter(),E,T)},removeRange:function(v,S,E){var T,R,M,I;S.getIsBackward()&&(S=S.merge({anchorKey:S.getFocusKey(),anchorOffset:S.getFocusOffset(),focusKey:S.getAnchorKey(),focusOffset:S.getAnchorOffset(),isBackward:!1})),T=S.getAnchorKey(),R=S.getFocusKey(),M=v.getBlockForKey(T),I=v.getBlockForKey(R);var N=S.getStartOffset(),P=S.getEndOffset(),L=M.getEntityAt(N),A=I.getEntityAt(P-1);if(T===R&&L&&L===A){var $=r(v.getEntityMap(),M,I,S,E);return f(v,$)}var B=h(v,S);return f(B,S)},splitBlock:function(v,S){var E=h(v,S),T=f(E,S);return g(T,T.getSelectionAfter())},applyInlineStyle:function(v,S,E){return t.add(v,S,E)},removeInlineStyle:function(v,S,E){return t.remove(v,S,E)},setBlockType:function(v,S,E){return d(v,S,function(T){return T.merge({type:E,depth:0})})},setBlockData:function(v,S,E){return d(v,S,function(T){return T.merge({data:E})})},mergeBlockData:function(v,S,E){return d(v,S,function(T){return T.merge({data:T.getData().merge(E)})})},applyEntity:function(v,S,E){var T=h(v,S);return n(T,S,E)}};return O_=y,O_}var R_,sB;function aB(){if(sB)return R_;sB=1;function e(t){return Object.keys(t).map(function(n){return t[n]})}return R_=e,R_}var I_,lB;function ihe(){if(lB)return I_;lB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}function n(S,E){if(S==null)return{};var T={},R=Object.keys(S),M,I;for(I=0;I<R.length;I++)M=R[I],!(E.indexOf(M)>=0)&&(T[M]=S[M]);return T}var r=ug(),o=aB(),i=Jn(),s=i.List,a=i.Repeat,c=i.Record,d=function(){return!0},h={start:null,end:null},f=c(h),g={start:null,end:null,decoratorKey:null,leaves:null},m=c(g),y={generate:function(E,T,R){var M=T.getLength();if(!M)return s.of(new m({start:0,end:0,decoratorKey:null,leaves:s.of(new f({start:0,end:0}))}));var I=[],N=R?R.getDecorations(T,E):s(a(null,M)),P=T.getCharacterList();return r(N,v,d,function(L,A){I.push(new m({start:L,end:A,decoratorKey:N.get(L),leaves:b(P.slice(L,A).toList(),L)}))}),s(I)},fromJS:function(E){var T=E.leaves,R=n(E,["leaves"]);return new m(e({},R,{leaves:T!=null?s(Array.isArray(T)?T:o(T)).map(function(M){return f(M)}):null}))}};function b(S,E){var T=[],R=S.map(function(M){return M.getStyle()}).toList();return r(R,v,d,function(M,I){T.push(new f({start:M+E,end:I+E}))}),s(T)}function v(S,E){return S===E}return I_=y,I_}var P_,cB;function uB(){if(cB)return P_;cB=1;function e(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,i.__proto__=s}var t=Jn(),n=t.Record,r=n({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),o=(function(i){e(s,i);function s(){return i.apply(this,arguments)||this}var a=s.prototype;return a.getType=function(){return this.get("type")},a.getMutability=function(){return this.get("mutability")},a.getData=function(){return this.get("data")},s})(r);return P_=o,P_}var k_,dB;function she(){if(dB)return k_;dB=1;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,r=t=="x"?n:n&3|8;return r.toString(16)})}return k_=e,k_}var D_,hB;function Ky(){if(hB)return D_;hB=1;function e(f){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{},y=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(m).filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable}))),y.forEach(function(b){t(f,b,m[b])})}return f}function t(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var n=uB(),r=Jn(),o=rr(),i=she(),s=r.Map,a=s(),c=i();function d(f,g){console.warn("WARNING: "+f+` will be deprecated soon!
Please use "`+g+'" instead.')}var h={getLastCreatedEntityKey:function(){return d("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),h.__getLastCreatedEntityKey()},create:function(g,m,y){return d("DraftEntity.create","contentState.createEntity"),h.__create(g,m,y)},add:function(g){return d("DraftEntity.add","contentState.addEntity"),h.__add(g)},get:function(g){return d("DraftEntity.get","contentState.getEntity"),h.__get(g)},__getAll:function(){return a},__loadWithEntities:function(g){a=g,c=i()},mergeData:function(g,m){return d("DraftEntity.mergeData","contentState.mergeEntityData"),h.__mergeData(g,m)},replaceData:function(g,m){return d("DraftEntity.replaceData","contentState.replaceEntityData"),h.__replaceData(g,m)},__getLastCreatedEntityKey:function(){return c},__create:function(g,m,y){return h.__add(new n({type:g,mutability:m,data:y||{}}))},__add:function(g){return c=i(),a=a.set(c,g),c},__get:function(g){var m=a.get(g);return m||o(!1),m},__mergeData:function(g,m){var y=h.__get(g),b=e({},y.getData(),m),v=y.set("data",b);return a=a.set(g,v),v},__replaceData:function(g,m){var y=h.__get(g),b=y.set("data",m);return a=a.set(g,b),b}};return D_=h,D_}var A_,fB;function qy(){if(fB)return A_;fB=1;function e(s,a){s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a}var t=Jn(),n=t.Record,r={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},o=n(r),i=(function(s){e(a,s);function a(){return s.apply(this,arguments)||this}var c=a.prototype;return c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},c.getAnchorKey=function(){return this.get("anchorKey")},c.getAnchorOffset=function(){return this.get("anchorOffset")},c.getFocusKey=function(){return this.get("focusKey")},c.getFocusOffset=function(){return this.get("focusOffset")},c.getIsBackward=function(){return this.get("isBackward")},c.getHasFocus=function(){return this.get("hasFocus")},c.hasEdgeWithin=function(h,f,g){var m=this.getAnchorKey(),y=this.getFocusKey();if(m===y&&m===h){var b=this.getStartOffset(),v=this.getEndOffset();return f<=b&&b<=g||f<=v&&v<=g}if(h!==m&&h!==y)return!1;var S=h===m?this.getAnchorOffset():this.getFocusOffset();return f<=S&&g>=S},c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},a.createEmpty=function(h){return new a({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1,hasFocus:!1})},a})(o);return A_=i,A_}var L_,pB;function Bc(){return pB||(pB=1,L_=function(e){return typeof window<"u"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1}),L_}var N_,gB;function mB(){if(gB)return N_;gB=1;var e=new RegExp("\r","g");function t(n){return n.replace(e,"")}return N_=t,N_}var B_,vB;function F_(){if(vB)return B_;vB=1;function e(N){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{},A=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),A.forEach(function($){t(N,$,L[$])})}return N}function t(N,P,L){return P in N?Object.defineProperty(N,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[P]=L,N}function n(N,P){N.prototype=Object.create(P.prototype),N.prototype.constructor=N,N.__proto__=P}var r=cg(),o=Ls(),i=ld(),s=Ns(),a=Ky(),c=qy(),d=Qa(),h=aB(),f=Bc(),g=Jn(),m=mB(),y=g.List,b=g.Record,v=g.Repeat,S=g.Map,E=g.OrderedMap,T={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},R=b(T),M=f("draft_tree_data_support")?s:i,I=(function(N){n(P,N);function P(){return N.apply(this,arguments)||this}var L=P.prototype;return L.getEntityMap=function(){return a},L.getBlockMap=function(){return this.get("blockMap")},L.getSelectionBefore=function(){return this.get("selectionBefore")},L.getSelectionAfter=function(){return this.get("selectionAfter")},L.getBlockForKey=function($){var B=this.getBlockMap().get($);return B},L.getKeyBefore=function($){return this.getBlockMap().reverse().keySeq().skipUntil(function(B){return B===$}).skip(1).first()},L.getKeyAfter=function($){return this.getBlockMap().keySeq().skipUntil(function(B){return B===$}).skip(1).first()},L.getBlockAfter=function($){return this.getBlockMap().skipUntil(function(B,U){return U===$}).skip(1).first()},L.getBlockBefore=function($){return this.getBlockMap().reverse().skipUntil(function(B,U){return U===$}).skip(1).first()},L.getBlocksAsArray=function(){return this.getBlockMap().toArray()},L.getFirstBlock=function(){return this.getBlockMap().first()},L.getLastBlock=function(){return this.getBlockMap().last()},L.getPlainText=function($){return this.getBlockMap().map(function(B){return B?B.getText():""}).join($||`
`)},L.getLastCreatedEntityKey=function(){return a.__getLastCreatedEntityKey()},L.hasText=function(){var $=this.getBlockMap();return $.size>1||escape($.first().getText()).replace(/%u200B/g,"").length>0},L.createEntity=function($,B,U){return a.__create($,B,U),this},L.mergeEntityData=function($,B){return a.__mergeData($,B),this},L.replaceEntityData=function($,B){return a.__replaceData($,B),this},L.addEntity=function($){return a.__add($),this},L.getEntity=function($){return a.__get($)},L.getAllEntities=function(){return a.__getAll()},L.loadWithEntities=function($){return a.__loadWithEntities($)},P.createFromBlockArray=function($,B){var U=Array.isArray($)?$:$.contentBlocks,K=r.createFromArray(U),G=K.isEmpty()?new c:c.createEmpty(K.first().getKey());return new P({blockMap:K,entityMap:B||a,selectionBefore:G,selectionAfter:G})},P.createFromText=function($){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,U=$.split(B),K=U.map(function(G){return G=m(G),new M({key:d(),text:G,type:"unstyled",characterList:y(v(o.EMPTY,G.length))})});return P.createFromBlockArray(K)},P.fromJS=function($){return new P(e({},$,{blockMap:E($.blockMap).map(P.createContentBlockFromJS),selectionBefore:new c($.selectionBefore),selectionAfter:new c($.selectionAfter)}))},P.createContentBlockFromJS=function($){var B=$.characterList;return new M(e({},$,{data:S($.data),characterList:B!=null?y((Array.isArray(B)?B:h(B)).map(function(U){return o.fromJS(U)})):void 0}))},P})(R);return B_=I,B_}var j_,yB;function Yy(){if(yB)return j_;yB=1;var e=rr(),t="NEUTRAL",n="LTR",r="RTL",o=null;function i(g){return g===n||g===r}function s(g){return i(g)||e(!1),g===n?"ltr":"rtl"}function a(g,m){return i(g)||e(!1),i(m)||e(!1),g===m?null:s(g)}function c(g){o=g}function d(){c(n)}function h(){return o||this.initGlobalDir(),o||e(!1),o}var f={NEUTRAL:t,LTR:n,RTL:r,isStrong:i,getHTMLDir:s,getHTMLDirIfDifferent:a,setGlobalDir:c,initGlobalDir:d,getGlobalDir:h};return j_=f,j_}var V_,bB;function $_(){if(bB)return V_;bB=1;var e=Yy(),t=rr(),n={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},r=new RegExp("["+n.L+n.R+n.AL+"]"),o=new RegExp("["+n.R+n.AL+"]");function i(g){var m=r.exec(g);return m==null?null:m[0]}function s(g){var m=i(g);return m==null?e.NEUTRAL:o.exec(m)?e.RTL:e.LTR}function a(g,m){if(m=m||e.NEUTRAL,!g.length)return m;var y=s(g);return y===e.NEUTRAL?m:y}function c(g,m){return m||(m=e.getGlobalDir()),e.isStrong(m)||t(!1),a(g,m)}function d(g,m){return c(g,m)===e.LTR}function h(g,m){return c(g,m)===e.RTL}var f={firstStrongChar:i,firstStrongCharDir:s,resolveBlockDir:a,getDirection:c,isDirectionLTR:d,isDirectionRTL:h};return V_=f,V_}var z_,wB;function ahe(){if(wB)return z_;wB=1;function e(i,s,a){return s in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i}var t=$_(),n=Yy(),r=rr(),o=(function(){function i(a){e(this,"_defaultDir",void 0),e(this,"_lastDir",void 0),a?n.isStrong(a)||r(!1):a=n.getGlobalDir(),this._defaultDir=a,this.reset()}var s=i.prototype;return s.reset=function(){this._lastDir=this._defaultDir},s.getDirection=function(c){return this._lastDir=t.getDirection(c,this._lastDir),this._lastDir},i})();return z_=o,z_}var U_,SB;function Bi(){if(SB)return U_;SB=1;var e=function(n){if(n!=null)return n;throw new Error("Got unexpected null or undefined")};return U_=e,U_}var H_,CB;function lhe(){if(CB)return H_;CB=1;var e=ahe(),t=Jn(),n=Bi(),r=t.OrderedMap,o,i={getDirectionMap:function(a,c){o?o.reset():o=new e;var d=a.getBlockMap(),h=d.valueSeq().map(function(g){return n(o).getDirection(g.getText())}),f=r(d.keySeq().zip(h));return c!=null&&t.is(c,f)?c:f}};return H_=i,H_}var G_,xB;function Fr(){if(xB)return G_;xB=1;function e(N){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{},A=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),A.forEach(function($){t(N,$,L[$])})}return N}function t(N,P,L){return P in N?Object.defineProperty(N,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[P]=L,N}var n=ihe(),r=F_(),o=lhe(),i=qy(),s=Jn(),a=s.OrderedSet,c=s.Record,d=s.Stack,h=s.OrderedMap,f=s.List,g={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:d(),selection:null,treeMap:null,undoStack:d()},m=c(g),y=(function(){P.createEmpty=function(A){return this.createWithText("",A)},P.createWithText=function(A,$){return P.createWithContent(r.createFromText(A),$)},P.createWithContent=function(A,$){if(A.getBlockMap().count()===0)return P.createEmpty($);var B=A.getBlockMap().first().getKey();return P.create({currentContent:A,undoStack:d(),redoStack:d(),decorator:$||null,selection:i.createEmpty(B)})},P.create=function(A){var $=A.currentContent,B=A.decorator,U=e({},A,{treeMap:v($,B),directionMap:o.getDirectionMap($)});return new P(new m(U))},P.fromJS=function(A){return new P(new m(e({},A,{directionMap:A.directionMap!=null?h(A.directionMap):A.directionMap,inlineStyleOverride:A.inlineStyleOverride!=null?a(A.inlineStyleOverride):A.inlineStyleOverride,nativelyRenderedContent:A.nativelyRenderedContent!=null?r.fromJS(A.nativelyRenderedContent):A.nativelyRenderedContent,redoStack:A.redoStack!=null?d(A.redoStack.map(function($){return r.fromJS($)})):A.redoStack,selection:A.selection!=null?new i(A.selection):A.selection,treeMap:A.treeMap!=null?h(A.treeMap).map(function($){return f($).map(function(B){return n.fromJS(B)})}):A.treeMap,undoStack:A.undoStack!=null?d(A.undoStack.map(function($){return r.fromJS($)})):A.undoStack,currentContent:r.fromJS(A.currentContent)})))},P.set=function(A,$){var B=A.getImmutable().withMutations(function(U){var K=U.get("decorator"),G=K;$.decorator===null?G=null:$.decorator&&(G=$.decorator);var V=$.currentContent||A.getCurrentContent();if(G!==K){var Y=U.get("treeMap"),Q;G&&K?Q=E(V,V.getBlockMap(),Y,G,K):Q=v(V,G),U.merge({decorator:G,treeMap:Q,nativelyRenderedContent:null});return}var te=A.getCurrentContent();V!==te&&U.set("treeMap",S(A,V.getBlockMap(),V.getEntityMap(),G)),U.merge($)});return new P(B)};var N=P.prototype;N.toJS=function(){return this.getImmutable().toJS()},N.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},N.getCurrentContent=function(){return this.getImmutable().get("currentContent")},N.getUndoStack=function(){return this.getImmutable().get("undoStack")},N.getRedoStack=function(){return this.getImmutable().get("redoStack")},N.getSelection=function(){return this.getImmutable().get("selection")},N.getDecorator=function(){return this.getImmutable().get("decorator")},N.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},N.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},N.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},N.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},N.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},P.setInlineStyleOverride=function(A,$){return P.set(A,{inlineStyleOverride:$})},N.getCurrentInlineStyle=function(){var A=this.getInlineStyleOverride();if(A!=null)return A;var $=this.getCurrentContent(),B=this.getSelection();return B.isCollapsed()?R($,B):M($,B)},N.getBlockTree=function(A){return this.getImmutable().getIn(["treeMap",A])},N.isSelectionAtStartOfContent=function(){var A=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(A,0,0)},N.isSelectionAtEndOfContent=function(){var A=this.getCurrentContent(),$=A.getBlockMap(),B=$.last(),U=B.getLength();return this.getSelection().hasEdgeWithin(B.getKey(),U,U)},N.getDirectionMap=function(){return this.getImmutable().get("directionMap")},P.acceptSelection=function(A,$){return b(A,$,!1)},P.forceSelection=function(A,$){return $.getHasFocus()||($=$.set("hasFocus",!0)),b(A,$,!0)},P.moveSelectionToEnd=function(A){var $=A.getCurrentContent(),B=$.getLastBlock(),U=B.getKey(),K=B.getLength();return P.acceptSelection(A,new i({anchorKey:U,anchorOffset:K,focusKey:U,focusOffset:K,isBackward:!1}))},P.moveFocusToEnd=function(A){var $=P.moveSelectionToEnd(A);return P.forceSelection($,$.getSelection())},P.push=function(A,$,B){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(A.getCurrentContent()===$)return A;var K=o.getDirectionMap($,A.getDirectionMap());if(!A.getAllowUndo())return P.set(A,{currentContent:$,directionMap:K,lastChangeType:B,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:null});var G=A.getSelection(),V=A.getCurrentContent(),Y=A.getUndoStack(),Q=$;G!==V.getSelectionAfter()||T(A,B)?(Y=Y.push(V),Q=Q.set("selectionBefore",G)):(B==="insert-characters"||B==="backspace-character"||B==="delete-character")&&(Q=Q.set("selectionBefore",V.getSelectionBefore()));var te=A.getInlineStyleOverride(),z=["adjust-depth","change-block-type","split-block"];z.indexOf(B)===-1&&(te=null);var W={currentContent:Q,directionMap:K,undoStack:Y,redoStack:d(),lastChangeType:B,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:te};return P.set(A,W)},P.undo=function(A){if(!A.getAllowUndo())return A;var $=A.getUndoStack(),B=$.peek();if(!B)return A;var U=A.getCurrentContent(),K=o.getDirectionMap(B,A.getDirectionMap());return P.set(A,{currentContent:B,directionMap:K,undoStack:$.shift(),redoStack:A.getRedoStack().push(U),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:U.getSelectionBefore()})},P.redo=function(A){if(!A.getAllowUndo())return A;var $=A.getRedoStack(),B=$.peek();if(!B)return A;var U=A.getCurrentContent(),K=o.getDirectionMap(B,A.getDirectionMap());return P.set(A,{currentContent:B,directionMap:K,undoStack:A.getUndoStack().push(U),redoStack:$.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:B.getSelectionAfter()})};function P(L){t(this,"_immutable",void 0),this._immutable=L}return N.getImmutable=function(){return this._immutable},P})();function b(N,P,L){return y.set(N,{selection:P,forceSelection:L,nativelyRenderedContent:null,inlineStyleOverride:null})}function v(N,P){return N.getBlockMap().map(function(L){return n.generate(N,L,P)}).toOrderedMap()}function S(N,P,L,A){var $=N.getCurrentContent().set("entityMap",L),B=$.getBlockMap(),U=N.getImmutable().get("treeMap");return U.merge(P.toSeq().filter(function(K,G){return K!==B.get(G)}).map(function(K){return n.generate($,K,A)}))}function E(N,P,L,A,$){return L.merge(P.toSeq().filter(function(B){return A.getDecorations(B,N)!==$.getDecorations(B,N)}).map(function(B){return n.generate(N,B,A)}))}function T(N,P){var L=N.getLastChangeType();return P!==L||P!=="insert-characters"&&P!=="backspace-character"&&P!=="delete-character"}function R(N,P){var L=P.getStartKey(),A=P.getStartOffset(),$=N.getBlockForKey(L);return A>0?$.getInlineStyleAt(A-1):$.getLength()?$.getInlineStyleAt(0):I(N,L)}function M(N,P){var L=P.getStartKey(),A=P.getStartOffset(),$=N.getBlockForKey(L);return A<$.getLength()?$.getInlineStyleAt(A):A>0?$.getInlineStyleAt(A-1):I(N,L)}function I(N,P){var L=N.getBlockMap().reverse().skipUntil(function(A,$){return $===P}).skip(1).skipUntil(function(A,$){return A.getLength()}).first();return L?L.getInlineStyleAt(L.getLength()-1):a()}return G_=y,G_}var W_,_B;function che(){if(_B)return W_;_B=1;var e=Ns(),t=nB(),n=Jn(),r=rr(),o=n.OrderedMap,i=n.List,s=function(h,f,g){if(h){var m=f.get(h);m&&f.set(h,g(m))}},a=function(h,f,g,m,y){if(!y)return h;var b=m==="after",v=f.getKey(),S=g.getKey(),E=f.getParentKey(),T=f.getNextSiblingKey(),R=f.getPrevSiblingKey(),M=g.getParentKey(),I=b?g.getNextSiblingKey():S,N=b?S:g.getPrevSiblingKey();return h.withMutations(function(P){s(E,P,function(L){var A=L.getChildKeys();return L.merge({children:A.delete(A.indexOf(v))})}),s(R,P,function(L){return L.merge({nextSibling:T})}),s(T,P,function(L){return L.merge({prevSibling:R})}),s(I,P,function(L){return L.merge({prevSibling:v})}),s(N,P,function(L){return L.merge({nextSibling:v})}),s(M,P,function(L){var A=L.getChildKeys(),$=A.indexOf(S),B=b?$+1:$!==0?$-1:0,U=A.toArray();return U.splice(B,0,v),L.merge({children:i(U)})}),s(v,P,function(L){return L.merge({nextSibling:I,prevSibling:N,parent:M})})})},c=function(h,f,g,m){m==="replace"&&r(!1);var y=g.getKey(),b=f.getKey();b===y&&r(!1);var v=h.getBlockMap(),S=f instanceof e,E=[f],T=v.delete(b);S&&(E=[],T=v.withMutations(function(A){var $=f.getNextSiblingKey(),B=t(f,A);A.toSeq().skipUntil(function(U){return U.getKey()===b}).takeWhile(function(U){var K=U.getKey(),G=K===b,V=$&&K!==$,Y=!$&&U.getParentKey()&&(!B||K!==B);return!!(G||V||Y)}).forEach(function(U){E.push(U),A.delete(U.getKey())})}));var R=T.toSeq().takeUntil(function(A){return A===g}),M=T.toSeq().skipUntil(function(A){return A===g}).skip(1),I=E.map(function(A){return[A.getKey(),A]}),N=o();if(m==="before"){var P=h.getBlockBefore(y);!P||P.getKey()!==f.getKey()||r(!1),N=R.concat([].concat(I,[[y,g]]),M).toOrderedMap()}else if(m==="after"){var L=h.getBlockAfter(y);!L||L.getKey()!==b||r(!1),N=R.concat([[y,g]].concat(I),M).toOrderedMap()}return h.merge({blockMap:a(N,f,g,m,S),selectionBefore:h.getSelectionAfter(),selectionAfter:h.getSelectionAfter().merge({anchorKey:b,focusKey:b})})};return W_=c,W_}var K_,EB;function uhe(){if(EB)return K_;EB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}var n=cg(),r=Ls(),o=ld(),i=Ns(),s=Ni(),a=Fr(),c=Qa(),d=Bc(),h=Jn(),f=che(),g=d("draft_tree_data_support"),m=g?i:o,y=h.List,b=h.Repeat,v={insertAtomicBlock:function(E,T,R){var M=E.getCurrentContent(),I=E.getSelection(),N=s.removeRange(M,I,"backward"),P=N.getSelectionAfter(),L=s.splitBlock(N,P),A=L.getSelectionAfter(),$=s.setBlockType(L,A,"atomic"),B=r.create({entity:T}),U={key:c(),type:"atomic",text:R,characterList:y(b(B,R.length))},K={key:c(),type:"unstyled"};g&&(U=e({},U,{nextSibling:K.key}),K=e({},K,{prevSibling:U.key}));var G=[new m(U),new m(K)],V=n.createFromArray(G),Y=s.replaceWithFragment($,A,V),Q=Y.merge({selectionBefore:I,selectionAfter:Y.getSelectionAfter().set("hasFocus",!0)});return a.push(E,Q,"insert-fragment")},moveAtomicBlock:function(E,T,R,M){var I=E.getCurrentContent(),N=E.getSelection(),P;if(M==="before"||M==="after"){var L=I.getBlockForKey(M==="before"?R.getStartKey():R.getEndKey());P=f(I,T,L,M)}else{var A=s.removeRange(I,R,"backward"),$=A.getSelectionAfter(),B=A.getBlockForKey($.getFocusKey());if($.getStartOffset()===0)P=f(A,T,B,"before");else if($.getEndOffset()===B.getLength())P=f(A,T,B,"after");else{var U=s.splitBlock(A,$),K=U.getSelectionAfter(),G=U.getBlockForKey(K.getFocusKey());P=f(U,T,G,"before")}}var V=P.merge({selectionBefore:N,selectionAfter:P.getSelectionAfter().set("hasFocus",!0)});return a.push(E,V,"move-block")}};return K_=v,K_}var q_,TB;function dhe(){if(TB)return q_;TB=1;function e(a,c,d){return c in a?Object.defineProperty(a,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[c]=d,a}var t=Jn(),n=t.List,r=".",o=(function(){function a(d){e(this,"_decorators",void 0),this._decorators=d.slice()}var c=a.prototype;return c.getDecorations=function(h,f){var g=Array(h.getText().length).fill(null);return this._decorators.forEach(function(m,y){var b=0,v=m.strategy,S=function(T,R){i(g,T,R)&&(s(g,T,R,y+r+b),b++)};v(h,S,f)}),n(g)},c.getComponentForKey=function(h){var f=parseInt(h.split(r)[0],10);return this._decorators[f].component},c.getPropsForKey=function(h){var f=parseInt(h.split(r)[0],10);return this._decorators[f].props},a})();function i(a,c,d){for(var h=c;h<d;h++)if(a[h]!=null)return!1;return!0}function s(a,c,d,h){for(var f=c;f<d;f++)a[f]=h}return q_=o,q_}var Y_={exports:{}},Tn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MB;function hhe(){if(MB)return Tn;MB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=f&&z[f]||z["@@iterator"],typeof z=="function"?z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v(z,W,Z){this.props=z,this.context=W,this.refs=b,this.updater=Z||m}v.prototype.isReactComponent={},v.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function S(){}S.prototype=v.prototype;function E(z,W,Z){this.props=z,this.context=W,this.refs=b,this.updater=Z||m}var T=E.prototype=new S;T.constructor=E,y(T,v.prototype),T.isPureReactComponent=!0;var R=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function N(z,W,Z,le,ue,ce){return Z=ce.ref,{$$typeof:e,type:z,key:W,ref:Z!==void 0?Z:null,props:ce}}function P(z,W){return N(z.type,W,void 0,void 0,void 0,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function A(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Z){return W[Z]})}var $=/\/+/g;function B(z,W){return typeof z=="object"&&z!==null&&z.key!=null?A(""+z.key):W.toString(36)}function U(){}function K(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(U,U):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,W,Z,le,ue){var ce=typeof z;(ce==="undefined"||ce==="boolean")&&(z=null);var se=!1;if(z===null)se=!0;else switch(ce){case"bigint":case"string":case"number":se=!0;break;case"object":switch(z.$$typeof){case e:case t:se=!0;break;case h:return se=z._init,G(se(z._payload),W,Z,le,ue)}}if(se)return ue=ue(z),se=le===""?"."+B(z,0):le,R(ue)?(Z="",se!=null&&(Z=se.replace($,"$&/")+"/"),G(ue,W,Z,"",function(Se){return Se})):ue!=null&&(L(ue)&&(ue=P(ue,Z+(ue.key==null||z&&z.key===ue.key?"":(""+ue.key).replace($,"$&/")+"/")+se)),W.push(ue)),1;se=0;var ve=le===""?".":le+":";if(R(z))for(var Te=0;Te<z.length;Te++)le=z[Te],ce=ve+B(le,Te),se+=G(le,W,Z,ce,ue);else if(Te=g(z),typeof Te=="function")for(z=Te.call(z),Te=0;!(le=z.next()).done;)le=le.value,ce=ve+B(le,Te++),se+=G(le,W,Z,ce,ue);else if(ce==="object"){if(typeof z.then=="function")return G(K(z),W,Z,le,ue);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return se}function V(z,W,Z){if(z==null)return z;var le=[],ue=0;return G(z,le,"","",function(ce){return W.call(Z,ce,ue++)}),le}function Y(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(Z){(z._status===0||z._status===-1)&&(z._status=1,z._result=Z)},function(Z){(z._status===0||z._status===-1)&&(z._status=2,z._result=Z)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var Q=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function te(){}return Tn.Children={map:V,forEach:function(z,W,Z){V(z,function(){W.apply(this,arguments)},Z)},count:function(z){var W=0;return V(z,function(){W++}),W},toArray:function(z){return V(z,function(W){return W})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Tn.Component=v,Tn.Fragment=n,Tn.Profiler=o,Tn.PureComponent=E,Tn.StrictMode=r,Tn.Suspense=c,Tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Tn.__COMPILER_RUNTIME={__proto__:null,c:function(z){return M.H.useMemoCache(z)}},Tn.cache=function(z){return function(){return z.apply(null,arguments)}},Tn.cloneElement=function(z,W,Z){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=y({},z.props),ue=z.key,ce=void 0;if(W!=null)for(se in W.ref!==void 0&&(ce=void 0),W.key!==void 0&&(ue=""+W.key),W)!I.call(W,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&W.ref===void 0||(le[se]=W[se]);var se=arguments.length-2;if(se===1)le.children=Z;else if(1<se){for(var ve=Array(se),Te=0;Te<se;Te++)ve[Te]=arguments[Te+2];le.children=ve}return N(z.type,ue,void 0,void 0,ce,le)},Tn.createContext=function(z){return z={$$typeof:s,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},Tn.createElement=function(z,W,Z){var le,ue={},ce=null;if(W!=null)for(le in W.key!==void 0&&(ce=""+W.key),W)I.call(W,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=W[le]);var se=arguments.length-2;if(se===1)ue.children=Z;else if(1<se){for(var ve=Array(se),Te=0;Te<se;Te++)ve[Te]=arguments[Te+2];ue.children=ve}if(z&&z.defaultProps)for(le in se=z.defaultProps,se)ue[le]===void 0&&(ue[le]=se[le]);return N(z,ce,void 0,void 0,null,ue)},Tn.createRef=function(){return{current:null}},Tn.forwardRef=function(z){return{$$typeof:a,render:z}},Tn.isValidElement=L,Tn.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Y}},Tn.memo=function(z,W){return{$$typeof:d,type:z,compare:W===void 0?null:W}},Tn.startTransition=function(z){var W=M.T,Z={};M.T=Z;try{var le=z(),ue=M.S;ue!==null&&ue(Z,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(te,Q)}catch(ce){Q(ce)}finally{M.T=W}},Tn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Tn.use=function(z){return M.H.use(z)},Tn.useActionState=function(z,W,Z){return M.H.useActionState(z,W,Z)},Tn.useCallback=function(z,W){return M.H.useCallback(z,W)},Tn.useContext=function(z){return M.H.useContext(z)},Tn.useDebugValue=function(){},Tn.useDeferredValue=function(z,W){return M.H.useDeferredValue(z,W)},Tn.useEffect=function(z,W,Z){var le=M.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,W)},Tn.useId=function(){return M.H.useId()},Tn.useImperativeHandle=function(z,W,Z){return M.H.useImperativeHandle(z,W,Z)},Tn.useInsertionEffect=function(z,W){return M.H.useInsertionEffect(z,W)},Tn.useLayoutEffect=function(z,W){return M.H.useLayoutEffect(z,W)},Tn.useMemo=function(z,W){return M.H.useMemo(z,W)},Tn.useOptimistic=function(z,W){return M.H.useOptimistic(z,W)},Tn.useReducer=function(z,W,Z){return M.H.useReducer(z,W,Z)},Tn.useRef=function(z){return M.H.useRef(z)},Tn.useState=function(z){return M.H.useState(z)},Tn.useSyncExternalStore=function(z,W,Z){return M.H.useSyncExternalStore(z,W,Z)},Tn.useTransition=function(){return M.H.useTransition()},Tn.version="19.1.1",Tn}var OB;function pi(){return OB||(OB=1,Y_.exports=hhe()),Y_.exports}var X_,RB;function cd(){if(RB)return X_;RB=1;function e(n){return typeof n=="object"?Object.keys(n).filter(function(r){return n[r]}).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}function t(n){return n.replace(/\//g,"-")}return X_=e,X_}var Z_,IB;function Q_(){if(IB)return Z_;IB=1;var e=pi(),t=cd(),n=Jn(),r=n.Map,o=e.createElement("ul",{className:t("public/DraftStyleDefault/ul")}),i=e.createElement("ol",{className:t("public/DraftStyleDefault/ol")}),s=e.createElement("pre",{className:t("public/DraftStyleDefault/pre")}),a=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:o},"ordered-list-item":{element:"li",wrapper:i},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:s},unstyled:{element:"div",aliasedElements:["p"]}});return Z_=a,Z_}var J_,PB;function kB(){return PB||(PB=1,J_={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}),J_}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var eE,DB;function ud(){if(DB)return eE;DB=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var s={},a=0;a<10;a++)s["_"+String.fromCharCode(a)]=a;var c=Object.getOwnPropertyNames(s).map(function(h){return s[h]});if(c.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(h){d[h]=h}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return eE=o()?Object.assign:function(i,s){for(var a,c=r(i),d,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var f in a)t.call(a,f)&&(c[f]=a[f]);if(e){d=e(a);for(var g=0;g<d.length;g++)n.call(a,d[g])&&(c[d[g]]=a[d[g]])}}return c},eE}var dg={exports:{}},fhe=dg.exports,AB;function phe(){return AB||(AB=1,(function(e,t){(function(n,r){var o="0.7.41",i="",s="?",a="function",c="undefined",d="object",h="string",f="major",g="model",m="name",y="type",b="vendor",v="version",S="architecture",E="console",T="mobile",R="tablet",M="smarttv",I="wearable",N="embedded",P=500,L="Amazon",A="Apple",$="ASUS",B="BlackBerry",U="Browser",K="Chrome",G="Edge",V="Firefox",Y="Google",Q="Honor",te="Huawei",z="Lenovo",W="LG",Z="Microsoft",le="Motorola",ue="Nvidia",ce="OnePlus",se="Opera",ve="OPPO",Te="Samsung",Se="Sharp",he="Sony",pe="Xiaomi",we="Zebra",_e="Facebook",De="Chromium OS",Ee="Mac OS",Fe=" Browser",Je=function(He,lt){var ct={};for(var Ct in He)lt[Ct]&&lt[Ct].length%2===0?ct[Ct]=lt[Ct].concat(He[Ct]):ct[Ct]=He[Ct];return ct},Be=function(He){for(var lt={},ct=0;ct<He.length;ct++)lt[He[ct].toUpperCase()]=He[ct];return lt},Ot=function(He,lt){return typeof He===h?dt(lt).indexOf(dt(He))!==-1:!1},dt=function(He){return He.toLowerCase()},St=function(He){return typeof He===h?He.replace(/[^\d\.]/g,i).split(".")[0]:r},je=function(He,lt){if(typeof He===h)return He=He.replace(/^\s\s*/,i),typeof lt===c?He:He.substring(0,P)},Rt=function(He,lt){for(var ct=0,Ct,st,At,pt,Pt,Dn;ct<lt.length&&!Pt;){var An=lt[ct],fr=lt[ct+1];for(Ct=st=0;Ct<An.length&&!Pt&&An[Ct];)if(Pt=An[Ct++].exec(He),Pt)for(At=0;At<fr.length;At++)Dn=Pt[++st],pt=fr[At],typeof pt===d&&pt.length>0?pt.length===2?typeof pt[1]==a?this[pt[0]]=pt[1].call(this,Dn):this[pt[0]]=pt[1]:pt.length===3?typeof pt[1]===a&&!(pt[1].exec&&pt[1].test)?this[pt[0]]=Dn?pt[1].call(this,Dn,pt[2]):r:this[pt[0]]=Dn?Dn.replace(pt[1],pt[2]):r:pt.length===4&&(this[pt[0]]=Dn?pt[3].call(this,Dn.replace(pt[1],pt[2])):r):this[pt]=Dn||r;ct+=2}},mt=function(He,lt){for(var ct in lt)if(typeof lt[ct]===d&&lt[ct].length>0){for(var Ct=0;Ct<lt[ct].length;Ct++)if(Ot(lt[ct][Ct],He))return ct===s?r:ct}else if(Ot(lt[ct],He))return ct===s?r:ct;return lt.hasOwnProperty("*")?lt["*"]:He},Bt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},It={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Xt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,se+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,se+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,se]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+U],v],[/\bfocus\/([\w\.]+)/i],[v,[m,V+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,se+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,se+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI"+Fe]],[/fxios\/([\w\.-]+)/i],[v,[m,V]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+Fe],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,Te+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,_e],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,K+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,mt,Bt]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,V+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[S,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[S,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[S,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[S,/ower/,i,dt]],[/ sun4\w[;\)]/i],[[S,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[S,dt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[b,Te],[y,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[b,Te],[y,T]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[b,A],[y,T]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[b,A],[y,R]],[/(macintosh);/i],[g,[b,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[b,Se],[y,T]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[b,Q],[y,R]],[/honor([-\w ]+)[;\)]/i],[g,[b,Q],[y,T]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[b,te],[y,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[b,te],[y,T]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[b,pe],[y,R]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[b,pe],[y,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[b,ve],[y,T]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[b,mt,{OnePlus:["304","403","203"],"*":ve}],[y,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[b,"Vivo"],[y,T]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[b,"Realme"],[y,T]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[b,le],[y,T]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[b,le],[y,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[b,W],[y,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[b,W],[y,T]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[b,z],[y,R]],[/(nokia) (t[12][01])/i],[b,g,[y,R]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[y,T],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[b,Y],[y,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[b,Y],[y,T]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[b,he],[y,T]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[b,he],[y,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[b,ce],[y,T]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[b,L],[y,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[b,L],[y,T]],[/(playbook);[-\w\),; ]+(rim)/i],[g,b,[y,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[b,B],[y,T]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[b,$],[y,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[b,$],[y,T]],[/(nexus 9)/i],[g,[b,"HTC"],[y,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[g,/_/g," "],[y,T]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[b,"TCL"],[y,R]],[/(itel) ((\w+))/i],[[b,dt],g,[y,mt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[b,"Acer"],[y,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[b,"Meizu"],[y,T]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[b,"Ulefone"],[y,T]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[b,"Energizer"],[y,T]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[b,"Cat"],[y,T]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[b,"Smartfren"],[y,T]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[b,"Nothing"],[y,T]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[b,"Archos"],[y,R]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[b,"Archos"],[y,T]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,g,[y,R]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,g,[y,T]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,g,[y,R]],[/(surface duo)/i],[g,[b,Z],[y,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[b,"Fairphone"],[y,T]],[/(u304aa)/i],[g,[b,"AT&T"],[y,T]],[/\bsie-(\w*)/i],[g,[b,"Siemens"],[y,T]],[/\b(rct\w+) b/i],[g,[b,"RCA"],[y,R]],[/\b(venue[\d ]{2,7}) b/i],[g,[b,"Dell"],[y,R]],[/\b(q(?:mv|ta)\w+) b/i],[g,[b,"Verizon"],[y,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[b,"Barnes & Noble"],[y,R]],[/\b(tm\d{3}\w+) b/i],[g,[b,"NuVision"],[y,R]],[/\b(k88) b/i],[g,[b,"ZTE"],[y,R]],[/\b(nx\d{3}j) b/i],[g,[b,"ZTE"],[y,T]],[/\b(gen\d{3}) b.+49h/i],[g,[b,"Swiss"],[y,T]],[/\b(zur\d{3}) b/i],[g,[b,"Swiss"],[y,R]],[/\b((zeki)?tb.*\b) b/i],[g,[b,"Zeki"],[y,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],g,[y,R]],[/\b(ns-?\w{0,9}) b/i],[g,[b,"Insignia"],[y,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[b,"NextBook"],[y,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],g,[y,T]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],g,[y,T]],[/\b(ph-1) /i],[g,[b,"Essential"],[y,T]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[b,"Envizen"],[y,R]],[/\b(trio[-\w\. ]+) b/i],[g,[b,"MachSpeed"],[y,R]],[/\btu_(1491) b/i],[g,[b,"Rotor"],[y,R]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[b,ue],[y,R]],[/(sprint) (\w+)/i],[b,g,[y,T]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[b,Z],[y,T]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[b,we],[y,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[b,we],[y,T]],[/smart-tv.+(samsung)/i],[b,[y,M]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[b,Te],[y,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,W],[y,M]],[/(apple) ?tv/i],[b,[g,A+" TV"],[y,M]],[/crkey/i],[[g,K+"cast"],[b,Y],[y,M]],[/droid.+aft(\w+)( bui|\))/i],[g,[b,L],[y,M]],[/(shield \w+ tv)/i],[g,[b,ue],[y,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[b,Se],[y,M]],[/(bravia[\w ]+)( bui|\))/i],[g,[b,he],[y,M]],[/(mi(tv|box)-?\w+) bui/i],[g,[b,pe],[y,M]],[/Hbbtv.*(technisat) (.*);/i],[b,g,[y,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,je],[g,je],[y,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[y,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,g,[y,E]],[/droid.+; (shield)( bui|\))/i],[g,[b,ue],[y,E]],[/(playstation \w+)/i],[g,[b,he],[y,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[b,Z],[y,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[b,Te],[y,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,g,[y,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[b,ve],[y,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[b,A],[y,I]],[/(opwwe\d{3})/i],[g,[b,ce],[y,I]],[/(moto 360)/i],[g,[b,le],[y,I]],[/(smartwatch 3)/i],[g,[b,he],[y,I]],[/(g watch r)/i],[g,[b,W],[y,I]],[/droid.+; (wt63?0{2,3})\)/i],[g,[b,we],[y,I]],[/droid.+; (glass) \d/i],[g,[b,Y],[y,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,g,[y,I]],[/; (quest( \d| pro)?)/i],[g,[b,_e],[y,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[y,N]],[/(aeobc)\b/i],[g,[b,L],[y,N]],[/(homepod).+mac os/i],[g,[b,A],[y,N]],[/windows iot/i],[[y,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[y,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[y,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,T]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,G+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[v,mt,It]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,mt,It],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Ee],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,v],[/\(bb(10);/i],[v,[m,B]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,V+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,K+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,De],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},Wt=function(He,lt){if(typeof He===d&&(lt=He,He=r),!(this instanceof Wt))return new Wt(He,lt).getResult();var ct=typeof n!==c&&n.navigator?n.navigator:r,Ct=He||(ct&&ct.userAgent?ct.userAgent:i),st=ct&&ct.userAgentData?ct.userAgentData:r,At=lt?Je(Xt,lt):Xt,pt=ct&&ct.userAgent==Ct;return this.getBrowser=function(){var Pt={};return Pt[m]=r,Pt[v]=r,Rt.call(Pt,Ct,At.browser),Pt[f]=St(Pt[v]),pt&&ct&&ct.brave&&typeof ct.brave.isBrave==a&&(Pt[m]="Brave"),Pt},this.getCPU=function(){var Pt={};return Pt[S]=r,Rt.call(Pt,Ct,At.cpu),Pt},this.getDevice=function(){var Pt={};return Pt[b]=r,Pt[g]=r,Pt[y]=r,Rt.call(Pt,Ct,At.device),pt&&!Pt[y]&&st&&st.mobile&&(Pt[y]=T),pt&&Pt[g]=="Macintosh"&&ct&&typeof ct.standalone!==c&&ct.maxTouchPoints&&ct.maxTouchPoints>2&&(Pt[g]="iPad",Pt[y]=R),Pt},this.getEngine=function(){var Pt={};return Pt[m]=r,Pt[v]=r,Rt.call(Pt,Ct,At.engine),Pt},this.getOS=function(){var Pt={};return Pt[m]=r,Pt[v]=r,Rt.call(Pt,Ct,At.os),pt&&!Pt[m]&&st&&st.platform&&st.platform!="Unknown"&&(Pt[m]=st.platform.replace(/chrome os/i,De).replace(/macos/i,Ee)),Pt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ct},this.setUA=function(Pt){return Ct=typeof Pt===h&&Pt.length>P?je(Pt,P):Pt,this},this.setUA(Ct),this};Wt.VERSION=o,Wt.BROWSER=Be([m,v,f]),Wt.CPU=Be([S]),Wt.DEVICE=Be([g,b,y,E,T,M,R,I,N]),Wt.ENGINE=Wt.OS=Be([m,v]),e.exports&&(t=e.exports=Wt),t.UAParser=Wt;var ht=typeof n!==c&&(n.jQuery||n.Zepto);if(ht&&!ht.ua){var _t=new Wt;ht.ua=_t.getResult(),ht.ua.get=function(){return _t.getUA()},ht.ua.set=function(He){_t.setUA(He);var lt=_t.getResult();for(var ct in lt)ht.ua[ct]=lt[ct]}}})(typeof window=="object"?window:fhe)})(dg,dg.exports)),dg.exports}var tE,LB;function ghe(){if(LB)return tE;LB=1;var e=phe(),t="Unknown",n={"Mac OS":"Mac OS X"};function r(d){return n[d]||d}function o(d){if(!d)return{major:"",minor:""};var h=d.split(".");return{major:h[0],minor:h[1]}}var i=new e,s=i.getResult(),a=o(s.browser.version),c={browserArchitecture:s.cpu.architecture||t,browserFullVersion:s.browser.version||t,browserMinorVersion:a.minor||t,browserName:s.browser.name||t,browserVersion:s.browser.major||t,deviceName:s.device.model||t,engineName:s.engine.name||t,engineVersion:s.engine.version||t,platformArchitecture:s.cpu.architecture||t,platformName:r(s.os.name)||t,platformVersion:s.os.version||t,platformFullVersion:s.os.version||t};return tE=c,tE}var nE,NB;function mhe(){if(NB)return nE;NB=1;var e=rr(),t=/\./,n=/\|\|/,r=/\s+\-\s+/,o=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,i=/^(\d*)(.*)/;function s(P,L){var A=P.split(n);return A.length>1?A.some(function($){return N.contains($,L)}):(P=A[0].trim(),a(P,L))}function a(P,L){var A=P.split(r);if(A.length>0&&A.length<=2||e(!1),A.length===1)return c(A[0],L);var $=A[0],B=A[1];return S($)&&S(B)||e(!1),c(">="+$,L)&&c("<="+B,L)}function c(P,L){if(P=P.trim(),P==="")return!0;var A=L.split(t),$=b(P),B=$.modifier,U=$.rangeComponents;switch(B){case"<":return d(A,U);case"<=":return h(A,U);case">=":return g(A,U);case">":return m(A,U);case"~":case"~>":return y(A,U);default:return f(A,U)}}function d(P,L){return I(P,L)===-1}function h(P,L){var A=I(P,L);return A===-1||A===0}function f(P,L){return I(P,L)===0}function g(P,L){var A=I(P,L);return A===1||A===0}function m(P,L){return I(P,L)===1}function y(P,L){var A=L.slice(),$=L.slice();$.length>1&&$.pop();var B=$.length-1,U=parseInt($[B],10);return v(U)&&($[B]=U+1+""),g(P,A)&&d(P,$)}function b(P){var L=P.split(t),A=L[0].match(o);return A||e(!1),{modifier:A[1],rangeComponents:[A[2]].concat(L.slice(1))}}function v(P){return!isNaN(P)&&isFinite(P)}function S(P){return!b(P).modifier}function E(P,L){for(var A=P.length;A<L;A++)P[A]="0"}function T(P,L){P=P.slice(),L=L.slice(),E(P,L.length);for(var A=0;A<L.length;A++){var $=L[A].match(/^[x*]$/i);if($&&(L[A]=P[A]="0",$[0]==="*"&&A===L.length-1))for(var B=A;B<P.length;B++)P[B]="0"}return E(L,P.length),[P,L]}function R(P,L){var A=P.match(i)[1],$=L.match(i)[1],B=parseInt(A,10),U=parseInt($,10);return v(B)&&v(U)&&B!==U?M(B,U):M(P,L)}function M(P,L){return typeof P!=typeof L&&e(!1),P>L?1:P<L?-1:0}function I(P,L){for(var A=T(P,L),$=A[0],B=A[1],U=0;U<B.length;U++){var K=R($[U],B[U]);if(K)return K}return 0}var N={contains:function(L,A){return s(L.trim(),A.trim())}};return nE=N,nE}var rE,BB;function vhe(){if(BB)return rE;BB=1;var e=Object.prototype.hasOwnProperty;function t(n,r,o){if(!n)return null;var i={};for(var s in n)e.call(n,s)&&(i[s]=r.call(o,n[s],s,n));return i}return rE=t,rE}var oE,FB;function yhe(){if(FB)return oE;FB=1;function e(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}return oE=e,oE}var iE,jB;function Fi(){if(jB)return iE;jB=1;var e=ghe(),t=mhe(),n=vhe(),r=yhe();function o(a,c,d,h){if(a===d)return!0;if(!d.startsWith(a))return!1;var f=d.slice(a.length);return c?(f=h?h(f):f,t.contains(f,c)):!1}function i(a){return e.platformName==="Windows"?a.replace(/^\s*NT/,""):a}var s={isBrowser:function(c){return o(e.browserName,e.browserFullVersion,c)},isBrowserArchitecture:function(c){return o(e.browserArchitecture,null,c)},isDevice:function(c){return o(e.deviceName,null,c)},isEngine:function(c){return o(e.engineName,e.engineVersion,c)},isPlatform:function(c){return o(e.platformName,e.platformFullVersion,c,i)},isPlatformArchitecture:function(c){return o(e.platformArchitecture,null,c)}};return iE=n(s,r),iE}var sE,VB;function Xy(){if(VB)return sE;VB=1;function e(t){return!t||!t.ownerDocument?document:t.ownerDocument}return sE=e,sE}var aE,$B;function dd(){if($B)return aE;$B=1;function e(t){return!t||!t.ownerDocument?!1:t.nodeType===Node.ELEMENT_NODE}return aE=e,aE}var lE,zB;function UB(){if(zB)return lE;zB=1;var e=dd();function t(n){if(e(n)){var r=n,o=r.getAttribute("data-offset-key");if(o)return o;for(var i=0;i<r.childNodes.length;i++){var s=t(r.childNodes[i]);if(s)return s}}return null}return lE=t,lE}var cE,HB;function Zy(){if(HB)return cE;HB=1;var e=Xy(),t=UB();function n(r){for(var o=r;o&&o!==e(r).documentElement;){var i=t(o);if(i!=null)return i;o=o.parentNode}return null}return cE=n,cE}var uE,GB;function WB(){if(GB)return uE;GB=1;function e(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}return uE=e,uE}var dE,KB;function bhe(){if(KB)return dE;KB=1;function e(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var t=Fi(),n=Zy(),r=WB(),o=Jn(),i=rr(),s=Bi(),a=o.Map,c={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=t.isBrowser("IE <= 11"),h=(function(){function f(m){var y=this;e(this,"observer",void 0),e(this,"container",void 0),e(this,"mutations",void 0),e(this,"onCharData",void 0),this.container=m,this.mutations=a();var b=r(m);b.MutationObserver&&!d?this.observer=new b.MutationObserver(function(v){return y.registerMutations(v)}):this.onCharData=function(v){v.target instanceof Node||i(!1),y.registerMutation({type:"characterData",target:v.target})}}var g=f.prototype;return g.start=function(){this.observer?this.observer.observe(this.container,c):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},g.stopAndFlushMutations=function(){var y=this.observer;y?(this.registerMutations(y.takeRecords()),y.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var b=this.mutations;return this.mutations=a(),b},g.registerMutations=function(y){for(var b=0;b<y.length;b++)this.registerMutation(y[b])},g.getMutationTextContent=function(y){var b=y.type,v=y.target,S=y.removedNodes;if(b==="characterData"){if(v.textContent!=="")return d?v.textContent.replace(`
`,""):v.textContent}else if(b==="childList"){if(S&&S.length)return"";if(v.textContent!=="")return v.textContent}return null},g.registerMutation=function(y){var b=this.getMutationTextContent(y);if(b!=null){var v=s(n(y.target));this.mutations=this.mutations.set(v,b)}},f})();return dE=h,dE}var hE,qB;function Gl(){if(qB)return hE;qB=1;var e="-",t={encode:function(r,o,i){return r+e+o+e+i},decode:function(r){var o=r.split(e).reverse(),i=o[0],s=o[1],a=o.slice(2);return{blockKey:a.reverse().join(e),decoratorKey:parseInt(s,10),leafKey:parseInt(i,10)}}};return hE=t,hE}var fE,YB;function Qy(){return YB||(YB=1,fE={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}),fE}var pE,XB;function ZB(){return XB||(XB=1,pE={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}),pE}var gE,QB;function hg(){if(QB)return gE;QB=1;function e(t){return!t||!t.ownerDocument?!1:t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement}return gE=e,gE}var mE,JB;function eF(){if(JB)return mE;JB=1;var e=rr(),t=hg();function n(r){var o=r.editorContainer;o||e(!1),t(o.firstChild)||e(!1);var i=o.firstChild;return i}return mE=n,mE}var vE,tF;function nF(){if(tF)return vE;tF=1;var e=Gl(),t=Bi();function n(r,o,i,s,a){var c=t(r.getSelection());if(!o||!s)return c;var d=e.decode(o),h=d.blockKey,f=r.getBlockTree(h),g=f&&f.getIn([d.decoratorKey,"leaves",d.leafKey]),m=e.decode(s),y=m.blockKey,b=r.getBlockTree(y),v=b&&b.getIn([m.decoratorKey,"leaves",m.leafKey]);if(!g||!v)return c;var S=g.get("start"),E=v.get("start"),T=g?S+i:null,R=v?E+a:null,M=c.getAnchorKey()===h&&c.getAnchorOffset()===T&&c.getFocusKey()===y&&c.getFocusOffset()===R;if(M)return c;var I=!1;if(h===y){var N=g.get("end"),P=v.get("end");E===S&&P===N?I=a<i:I=E<S}else{var L=r.getCurrentContent().getBlockMap().keySeq().skipUntil(function(A){return A===h||A===y}).first();I=L===y}return c.merge({anchorKey:h,anchorOffset:T,focusKey:y,focusOffset:R,isBackward:I})}return vE=n,vE}var yE,rF;function oF(){if(rF)return yE;rF=1;var e=Zy(),t=UB(),n=nF(),r=rr(),o=dd(),i=Bi();function s(f,g,m,y,b,v){var S=m.nodeType===Node.TEXT_NODE,E=b.nodeType===Node.TEXT_NODE;if(S&&E)return{selectionState:n(f,i(e(m)),y,i(e(b)),v),needsRecovery:!1};var T=null,R=null,M=!0;return S?(T={key:i(e(m)),offset:y},R=d(g,b,v)):E?(R={key:i(e(b)),offset:v},T=d(g,m,y)):(T=d(g,m,y),R=d(g,b,v),m===b&&y===v&&(M=!!m.firstChild&&m.firstChild.nodeName!=="BR")),{selectionState:n(f,T.key,T.offset,R.key,R.offset),needsRecovery:M}}function a(f){for(;f.firstChild&&(o(f.firstChild)&&f.firstChild.getAttribute("data-blocks")==="true"||t(f.firstChild));)f=f.firstChild;return f}function c(f){for(;f.lastChild&&(o(f.lastChild)&&f.lastChild.getAttribute("data-blocks")==="true"||t(f.lastChild));)f=f.lastChild;return f}function d(f,g,m){var y=g,b=e(y);if(b!=null||f&&(f===y||f.firstChild===y)||r(!1),f===y){y=y.firstChild,o(y)||r(!1);var v=y;y=v,y.getAttribute("data-contents")!=="true"&&r(!1),m>0&&(m=y.childNodes.length)}if(m===0){var S=null;if(b!=null)S=b;else{var E=a(y);S=i(t(E))}return{key:S,offset:0}}var T=y.childNodes[m-1],R=null,M=null;if(!t(T))R=i(b),M=h(T);else{var I=c(T);R=i(t(I)),M=h(I)}return{key:R,offset:M}}function h(f){var g=f.textContent;return g===`
`?0:g.length}return yE=s,yE}var bE,iF;function sF(){if(iF)return bE;iF=1;var e=oF();function t(n,r){var o=r.ownerDocument.defaultView.getSelection(),i=o.anchorNode,s=o.anchorOffset,a=o.focusNode,c=o.focusOffset,d=o.rangeCount;return d===0||i==null||a==null?{selectionState:n.getSelection().set("hasFocus",!1),needsRecovery:!1}:e(n,r,i,s,a,c)}return bE=t,bE}var wE,aF;function lF(){if(aF)return wE;aF=1;var e=ZB(),t=Fr(),n=eF(),r=sF();function o(i){if(i._blockSelectEvents||i._latestEditorState!==i.props.editorState){if(i._blockSelectEvents){var s=i.props.editorState,a=s.getSelection();e.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(a.toJS())})}return}var c=i.props.editorState,d=r(c,n(i)),h=d.selectionState;h!==c.getSelection()&&(d.needsRecovery?c=t.forceSelection(c,h):c=t.acceptSelection(c,h),i.update(c))}return wE=o,wE}var SE,cF;function uF(){if(cF)return SE;cF=1;function e(t){return t!=null&&t!=""}return SE={notEmptyKey:e},SE}var CE,dF;function xE(){if(dF)return CE;dF=1;var e=uF(),t=e.notEmptyKey;function n(o,i){var s;if(i.isCollapsed()){var a=i.getAnchorKey(),c=i.getAnchorOffset();return c>0?(s=o.getBlockForKey(a).getEntityAt(c-1),s!==o.getBlockForKey(a).getEntityAt(c)?null:r(o.getEntityMap(),s)):null}var d=i.getStartKey(),h=i.getStartOffset(),f=o.getBlockForKey(d);return s=h===f.getLength()?null:f.getEntityAt(h),r(o.getEntityMap(),s)}function r(o,i){if(t(i)){var s=o.__get(i);return s.getMutability()==="MUTABLE"?i:null}return null}return CE=n,CE}var _E,hF;function whe(){if(hF)return _E;hF=1;var e=bhe(),t=Ni(),n=Gl(),r=Fr(),o=Qy(),i=Fi(),s=lF(),a=eF(),c=sF(),d=xE(),h=Bi(),f=i.isBrowser("IE"),g=20,m=!1,y=!1,b=null;function v(E){b||(b=new e(a(E)),b.start())}var S={onCompositionStart:function(T){y=!0,v(T)},onCompositionEnd:function(T){m=!1,y=!1,setTimeout(function(){m||S.resolveComposition(T)},g)},onSelect:s,onKeyDown:function(T,R){if(!y){S.resolveComposition(T),T._onKeyDown(R);return}(R.which===o.RIGHT||R.which===o.LEFT)&&R.preventDefault()},onKeyPress:function(T,R){R.which===o.RETURN&&R.preventDefault()},resolveComposition:function(T){if(!y){var R=h(b).stopAndFlushMutations();b=null,m=!0;var M=r.set(T._latestEditorState,{inCompositionMode:!1});if(T.exitCurrentMode(),!R.size){T.update(M);return}var I=M.getCurrentContent();R.forEach(function(A,$){var B=n.decode($),U=B.blockKey,K=B.decoratorKey,G=B.leafKey,V=M.getBlockTree(U).getIn([K,"leaves",G]),Y=V.start,Q=V.end,te=M.getSelection().merge({anchorKey:U,focusKey:U,anchorOffset:Y,focusOffset:Q,isBackward:!1}),z=d(I,te),W=I.getBlockForKey(U).getInlineStyleAt(Y);I=t.replaceText(I,te,A,W,z),M=r.set(M,{currentContent:I})});var N=c(M,a(T)),P=N.selectionState;T.restoreEditorDOM();var L=f?r.forceSelection(M,P):r.acceptSelection(M,P);T.update(r.push(L,I,"insert-characters"))}}};return _E=S,_E}var EE,fF;function She(){if(fF)return EE;fF=1;var e=ud();function t(){return t=e||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function n(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var r=Gl(),o=pi(),i=$_(),s=Yy(),a=(function(c){n(d,c);function d(){return c.apply(this,arguments)||this}var h=d.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.children,b=g.contentState,v=g.decorator,S=g.decoratorKey,E=g.direction,T=g.leafSet,R=g.text,M=m.getKey(),I=T.get("leaves"),N=v.getComponentForKey(S),P=v.getPropsForKey(S),L=r.encode(M,parseInt(S,10),0),A=R.slice(I.first().get("start"),I.last().get("end")),$=s.getHTMLDirIfDifferent(i.getDirection(A),E);return o.createElement(N,t({},P,{contentState:b,decoratedText:A,dir:$,key:L,entityKey:m.getEntityAt(T.get("start")),offsetKey:L}),y)},d})(o.Component);return EE=a,EE}var TE,pF;function Che(){if(pF)return TE;pF=1;function e(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function t(g,m){g.prototype=Object.create(m.prototype),g.prototype.constructor=g,g.__proto__=m}function n(g,m,y){return m in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y,g}var r=pi(),o=Fi(),i=rr(),s=dd(),a=o.isBrowser("IE <= 11");function c(g){return a?g.textContent===`
`:g.tagName==="BR"}var d=function(m){return a?r.createElement("span",{key:"A","data-text":"true",ref:m},`
`):r.createElement("br",{key:"A","data-text":"true",ref:m})},h=function(m){return a?r.createElement("span",{key:"B","data-text":"true",ref:m},`
`):r.createElement("br",{key:"B","data-text":"true",ref:m})},f=(function(g){t(m,g);function m(b){var v;return v=g.call(this,b)||this,n(e(v),"_forceFlag",void 0),n(e(v),"_node",void 0),v._forceFlag=!1,v}var y=m.prototype;return y.shouldComponentUpdate=function(v){var S=this._node,E=v.children==="";s(S)||i(!1);var T=S;return E?!c(T):T.textContent!==v.children},y.componentDidMount=function(){this._forceFlag=!this._forceFlag},y.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},y.render=function(){var v=this;return this.props.children===""?this._forceFlag?d(function(S){return v._node=S}):h(function(S){return v._node=S}):r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(E){return v._node=E}},this.props.children)},m})(r.Component);return TE=f,TE}var ME,gF;function mF(){if(gF)return ME;gF=1;var e=dd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="BR"}return ME=t,ME}var OE,vF;function yF(){return vF||(vF=1,OE={initODS:function(){},handleExtensionCausedError:function(){}}),OE}var RE,bF;function xhe(){if(bF)return RE;bF=1;function e(t){var n=t?t.ownerDocument||t:document,r=n.defaultView||window;return!!(t&&(typeof r.Node=="function"?t instanceof r.Node:typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"))}return RE=e,RE}var IE,wF;function _he(){if(wF)return IE;wF=1;var e=xhe();function t(n){return e(n)&&n.nodeType==3}return IE=t,IE}var PE,SF;function kE(){if(SF)return PE;SF=1;var e=_he();function t(n,r){return!n||!r?!1:n===r?!0:e(n)?!1:e(r)?t(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1}return PE=t,PE}var DE,CF;function xF(){if(CF)return DE;CF=1;function e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}return DE=e,DE}var AE,_F;function Ehe(){if(_F)return AE;_F=1;var e=yF(),t=ZB(),n=Fi(),r=kE(),o=xF(),i=Xy(),s=rr(),a=dd(),c=n.isBrowser("IE");function d(v,S){if(!v)return"[empty]";var E=h(v,S);if(E.nodeType===Node.TEXT_NODE)return E.textContent;a(E)||s(!1);var T=E;return T.outerHTML}function h(v,S){var E=S!==void 0?S(v):[];if(v.nodeType===Node.TEXT_NODE){var T=v.textContent.length;return i(v).createTextNode("[text "+T+(E.length?" | "+E.join(", "):"")+"]")}var R=v.cloneNode();R.nodeType===1&&E.length&&R.setAttribute("data-labels",E.join(", "));for(var M=v.childNodes,I=0;I<M.length;I++)R.appendChild(h(M[I],S));return R}function f(v,S){for(var E=v,T=E;E;){if(a(E)&&T.hasAttribute("contenteditable"))return d(E,S);E=E.parentNode,T=E}return"Could not find contentEditable parent of node"}function g(v){return v.nodeValue===null?v.childNodes.length:v.nodeValue.length}function m(v,S,E,T,R){var M=i(S);if(r(M.documentElement,S)){var I=M.defaultView.getSelection(),N=v.getAnchorKey(),P=v.getAnchorOffset(),L=v.getFocusKey(),A=v.getFocusOffset(),$=v.getIsBackward();if(!I.extend&&$){var B=N,U=P;N=L,P=A,L=B,A=U,$=!1}var K=N===E&&T<=P&&R>=P,G=L===E&&T<=A&&R>=A;if(K&&G){I.removeAllRanges(),b(I,S,P-T,v),y(I,S,A-T,v);return}if(!$)K&&(I.removeAllRanges(),b(I,S,P-T,v)),G&&y(I,S,A-T,v);else if(G&&(I.removeAllRanges(),b(I,S,A-T,v)),K){var V=I.focusNode,Y=I.focusOffset;I.removeAllRanges(),b(I,S,P-T,v),y(I,V,Y,v)}}}function y(v,S,E,T){var R=o(),M=v.extend;if(M&&S!=null&&r(R,S)){E>g(S)&&t.logSelectionStateFailure({anonymizedDom:f(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())});var I=S===v.focusNode;try{v.rangeCount>0&&v.extend&&v.extend(S,E)}catch(P){throw t.logSelectionStateFailure({anonymizedDom:f(S,function(L){var A=[];return L===R&&A.push("active element"),L===v.anchorNode&&A.push("selection anchor node"),L===v.focusNode&&A.push("selection focus node"),A}),extraParams:JSON.stringify({activeElementName:R?R.nodeName:null,nodeIsFocus:S===v.focusNode,nodeWasFocus:I,selectionRangeCount:v.rangeCount,selectionAnchorNodeName:v.anchorNode?v.anchorNode.nodeName:null,selectionAnchorOffset:v.anchorOffset,selectionFocusNodeName:v.focusNode?v.focusNode.nodeName:null,selectionFocusOffset:v.focusOffset,message:P?""+P:null,offset:E},null,2),selectionState:JSON.stringify(T.toJS(),null,2)}),P}}else if(S&&v.rangeCount>0){var N=v.getRangeAt(0);N.setEnd(S,E),v.addRange(N.cloneRange())}}function b(v,S,E,T){var R=i(S).createRange();if(E>g(S)&&(t.logSelectionStateFailure({anonymizedDom:f(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())}),e.handleExtensionCausedError()),R.setStart(S,E),c)try{v.addRange(R)}catch{}else v.addRange(R)}return AE={setDraftEditorSelection:m,addFocusToSelection:y},AE}var LE,EF;function TF(){if(EF)return LE;EF=1;var e=ud();function t(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function n(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h.__proto__=f}function r(h,f,g){return f in h?Object.defineProperty(h,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[f]=g,h}var o=Che(),i=pi(),s=rr(),a=mF(),c=Ehe().setDraftEditorSelection,d=(function(h){n(f,h);function f(){for(var m,y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return m=h.call.apply(h,[this].concat(b))||this,r(t(m),"leaf",void 0),m}var g=f.prototype;return g._setSelection=function(){var y=this.props.selection;if(!(y==null||!y.getHasFocus())){var b=this.props,v=b.block,S=b.start,E=b.text,T=v.getKey(),R=S+E.length;if(y.hasEdgeWithin(T,S,R)){var M=this.leaf;M||s(!1);var I=M.firstChild;I||s(!1);var N;I.nodeType===Node.TEXT_NODE?N=I:a(I)?N=M:(N=I.firstChild,N||s(!1)),c(y,N,T,S,R)}}},g.shouldComponentUpdate=function(y){var b=this.leaf;b||s(!1);var v=b.textContent!==y.text||y.styleSet!==this.props.styleSet||y.forceSelection;return v},g.componentDidUpdate=function(){this._setSelection()},g.componentDidMount=function(){this._setSelection()},g.render=function(){var y=this,b=this.props.block,v=this.props.text;v.endsWith(`
`)&&this.props.isLast&&(v+=`
`);var S=this.props,E=S.customStyleMap,T=S.customStyleFn,R=S.offsetKey,M=S.styleSet,I=M.reduce(function(P,L){var A={},$=E[L];return $!==void 0&&P.textDecoration!==$.textDecoration&&(A.textDecoration=[P.textDecoration,$.textDecoration].join(" ").trim()),e(P,$,A)},{});if(T){var N=T(M,b);I=e(I,N)}return i.createElement("span",{"data-offset-key":R,ref:function(L){return y.leaf=L},style:I},i.createElement(o,null,v))},f})(i.Component);return LE=d,LE}var NE,MF;function The(){if(MF)return NE;MF=1;function e(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var t=She(),n=TF(),r=Gl(),o=Jn(),i=pi(),s=cd();o.List;var a=(function(c){e(d,c);function d(){return c.apply(this,arguments)||this}var h=d.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.contentState,b=g.customStyleFn,v=g.customStyleMap,S=g.decorator,E=g.direction,T=g.forceSelection,R=g.hasSelection,M=g.selection,I=g.tree,N=m.getKey(),P=m.getText(),L=I.size-1,A=this.props.children||I.map(function($,B){var U=$.get("decoratorKey"),K=$.get("leaves"),G=K.size-1,V=K.map(function(Y,Q){var te=r.encode(N,B,Q),z=Y.get("start"),W=Y.get("end");return i.createElement(n,{key:te,offsetKey:te,block:m,start:z,selection:R?M:null,forceSelection:T,text:P.slice(z,W),styleSet:m.getInlineStyleAt(z),customStyleMap:v,customStyleFn:b,isLast:U===L&&Q===G})}).toArray();return!U||!S?V:i.createElement(t,{block:m,children:V,contentState:y,decorator:S,decoratorKey:U,direction:E,leafSet:$,text:P,key:B})}).toArray();return i.createElement("div",{"data-offset-key":r.encode(N,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":E==="LTR","public/DraftStyleDefault/rtl":E==="RTL"})},A)},d})(i.Component);return NE=a,NE}var BE,OF;function FE(){if(OF)return BE;OF=1;function e(n,r){return!!r&&(n===r.documentElement||n===r.body)}var t={getTop:function(r){var o=r.ownerDocument;return e(r,o)?o.body.scrollTop||o.documentElement.scrollTop:r.scrollTop},setTop:function(r,o){var i=r.ownerDocument;e(r,i)?i.body.scrollTop=i.documentElement.scrollTop=o:r.scrollTop=o},getLeft:function(r){var o=r.ownerDocument;return e(r,o)?o.body.scrollLeft||o.documentElement.scrollLeft:r.scrollLeft},setLeft:function(r,o){var i=r.ownerDocument;e(r,i)?i.body.scrollLeft=i.documentElement.scrollLeft=o:r.scrollLeft=o}};return BE=t,BE}var jE,RF;function Mhe(){if(RF)return jE;RF=1;var e=/-(.)/g;function t(n){return n.replace(e,function(r,o){return o.toUpperCase()})}return jE=t,jE}var VE,IF;function Ohe(){if(IF)return VE;IF=1;var e=/([A-Z])/g;function t(n){return n.replace(e,"-$1").toLowerCase()}return VE=t,VE}var $E,PF;function Rhe(){if(PF)return $E;PF=1;var e=Mhe(),t=Ohe();function n(o){return o==null?o:String(o)}function r(o,i){var s;if(window.getComputedStyle&&(s=window.getComputedStyle(o,null),s))return n(s.getPropertyValue(t(i)));if(document.defaultView&&document.defaultView.getComputedStyle){if(s=document.defaultView.getComputedStyle(o,null),s)return n(s.getPropertyValue(t(i)));if(i==="display")return"none"}return o.currentStyle?n(i==="float"?o.currentStyle.cssFloat||o.currentStyle.styleFloat:o.currentStyle[e(i)]):n(o.style&&o.style[e(i)])}return $E=r,$E}var zE,kF;function Jy(){if(kF)return zE;kF=1;var e=Rhe();function t(r,o){var i=n.get(r,o);return i==="auto"||i==="scroll"}var n={get:e,getScrollParent:function(o){if(!o)return null;for(var i=o.ownerDocument;o&&o!==i.body;){if(t(o,"overflow")||t(o,"overflowY")||t(o,"overflowX"))return o;o=o.parentNode}return i.defaultView||i.parentWindow}};return zE=n,zE}var UE,DF;function Ihe(){if(DF)return UE;DF=1;var e=kE();function t(n){var r=n.ownerDocument.documentElement;if(!("getBoundingClientRect"in n)||!e(r,n))return{left:0,right:0,top:0,bottom:0};var o=n.getBoundingClientRect();return{left:Math.round(o.left)-r.clientLeft,right:Math.round(o.right)-r.clientLeft,top:Math.round(o.top)-r.clientTop,bottom:Math.round(o.bottom)-r.clientTop}}return UE=t,UE}var HE,AF;function LF(){if(AF)return HE;AF=1;var e=Ihe();function t(n){var r=e(n);return{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top}}return HE=t,HE}var GE,NF;function Phe(){if(NF)return GE;NF=1;var e=typeof navigator<"u"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function t(n){return n=n||document,n.scrollingElement?n.scrollingElement:!e&&n.compatMode==="CSS1Compat"?n.documentElement:n.body}return GE=t,GE}var WE,BF;function khe(){if(BF)return WE;BF=1;function e(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}return WE=e,WE}var KE,FF;function eb(){if(FF)return KE;FF=1;var e=Phe(),t=khe();function n(r){var o=e(r.ownerDocument||r.document);r.Window&&r instanceof r.Window&&(r=o);var i=t(r),s=r===o?r.ownerDocument.documentElement:r,a=r.scrollWidth-s.clientWidth,c=r.scrollHeight-s.clientHeight;return i.x=Math.max(0,Math.min(i.x,a)),i.y=Math.max(0,Math.min(i.y,c)),i}return KE=n,KE}var qE,jF;function VF(){if(jF)return qE;jF=1;function e(){var r;return document.documentElement&&(r=document.documentElement.clientWidth),!r&&document.body&&(r=document.body.clientWidth),r||0}function t(){var r;return document.documentElement&&(r=document.documentElement.clientHeight),!r&&document.body&&(r=document.body.clientHeight),r||0}function n(){return{width:window.innerWidth||e(),height:window.innerHeight||t()}}return n.withoutScrollbars=function(){return{width:e(),height:t()}},qE=n,qE}var YE,$F;function Dhe(){if($F)return YE;$F=1;var e=ud();function t(){return t=e||function(L){for(var A=1;A<arguments.length;A++){var $=arguments[A];for(var B in $)Object.prototype.hasOwnProperty.call($,B)&&(L[B]=$[B])}return L},t.apply(this,arguments)}function n(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function r(L,A){L.prototype=Object.create(A.prototype),L.prototype.constructor=L,L.__proto__=A}function o(L){for(var A=1;A<arguments.length;A++){var $=arguments[A]!=null?arguments[A]:{},B=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols($).filter(function(U){return Object.getOwnPropertyDescriptor($,U).enumerable}))),B.forEach(function(U){i(L,U,$[U])})}return L}function i(L,A,$){return A in L?Object.defineProperty(L,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[A]=$,L}var s=The(),a=Gl(),c=pi(),d=FE(),h=Jy(),f=LF(),g=eb(),m=VF(),y=Jn(),b=rr(),v=hg(),S=10;y.List;var E=function(A,$){return A.getAnchorKey()===$||A.getFocusKey()===$},T=function(A,$){var B=A.getNextSiblingKey();return B?$.getBlockForKey(B).getType()===A.getType():!1},R=function(A,$,B){var U=[],K=!0,G=!1,V=void 0;try{for(var Y=B.reverse()[Symbol.iterator](),Q;!(K=(Q=Y.next()).done);K=!0){var te=Q.value;if(te.type!==$)break;U.push(te)}}catch(Z){G=!0,V=Z}finally{try{!K&&Y.return!=null&&Y.return()}finally{if(G)throw V}}B.splice(B.indexOf(U[0]),U.length+1);var z=U.reverse(),W=z[0].key;return B.push(c.cloneElement(A,{key:"".concat(W,"-wrap"),"data-offset-key":a.encode(W,0,0)},z)),B},M=function(A,$){var B=$.get(A.getType())||$.get("unstyled"),U=B.wrapper,K=B.element||$.get("unstyled").element;return{Element:K,wrapperTemplate:U}},I=function(A,$){var B=$(A);if(!B)return{};var U=B.component,K=B.props,G=B.editable;return{CustomComponent:U,customProps:K,customEditable:G}},N=function(A,$,B,U,K,G){var V={"data-block":!0,"data-editor":$,"data-offset-key":B,key:A.getKey(),ref:G},Y=U(A);return Y&&(V.className=Y),K.customEditable!==void 0&&(V=o({},V,{contentEditable:K.customEditable,suppressContentEditableWarning:!0})),V},P=(function(L){r(A,L);function A(){for(var B,U=arguments.length,K=new Array(U),G=0;G<U;G++)K[G]=arguments[G];return B=L.call.apply(L,[this].concat(K))||this,i(n(B),"wrapperRef",c.createRef()),B}var $=A.prototype;return $.shouldComponentUpdate=function(U){var K=this.props,G=K.block,V=K.direction,Y=K.tree,Q=!G.getChildKeys().isEmpty(),te=G!==U.block||Y!==U.tree||V!==U.direction||E(U.selection,U.block.getKey())&&U.forceSelection;return Q||te},$.componentDidMount=function(){var U=this.props.selection,K=U.getEndKey();if(!(!U.getHasFocus()||K!==this.props.block.getKey())){var G=this.wrapperRef.current;if(G){var V=h.getScrollParent(G),Y=g(V),Q;if(V===window){var te=f(G),z=te.y+te.height,W=m().height;Q=z-W,Q>0&&window.scrollTo(Y.x,Y.y+Q+S)}else{v(G)||b(!1);var Z=G,le=Z.offsetHeight+Z.offsetTop,ue=V.offsetHeight+Y.y;Q=le-ue,Q>0&&d.setTop(V,d.getTop(V)+Q+S)}}}},$.render=function(){var U=this,K=this.props,G=K.block,V=K.blockRenderMap,Y=K.blockRendererFn,Q=K.blockStyleFn,te=K.contentState,z=K.decorator,W=K.editorKey,Z=K.editorState,le=K.customStyleFn,ue=K.customStyleMap,ce=K.direction,se=K.forceSelection,ve=K.selection,Te=K.tree,Se=null;G.children.size&&(Se=G.children.reduce(function(Be,Ot){var dt=a.encode(Ot,0,0),St=te.getBlockForKey(Ot),je=I(St,Y),Rt=je.CustomComponent||A,mt=M(St,V),Bt=mt.Element,It=mt.wrapperTemplate,Xt=N(St,W,dt,Q,je,null),Wt=o({},U.props,{tree:Z.getBlockTree(Ot),blockProps:je.customProps,offsetKey:dt,block:St});return Be.push(c.createElement(Bt,Xt,c.createElement(Rt,Wt))),!It||T(St,te)||R(It,Bt,Be),Be},[]));var he=G.getKey(),pe=a.encode(he,0,0),we=I(G,Y),_e=we.CustomComponent,De=_e!=null?c.createElement(_e,t({},this.props,{tree:Z.getBlockTree(he),blockProps:we.customProps,offsetKey:pe,block:G})):c.createElement(s,{block:G,children:Se,contentState:te,customStyleFn:le,customStyleMap:ue,decorator:z,direction:ce,forceSelection:se,hasSelection:E(ve,he),selection:ve,tree:Te});if(G.getParentKey())return De;var Ee=M(G,V),Fe=Ee.Element,Je=N(G,W,pe,Q,we,this.wrapperRef);return c.createElement(Fe,Je,De)},A})(c.Component);return YE=P,YE}var XE,zF;function Ahe(){if(zF)return XE;zF=1;var e=ud();function t(){return t=e||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function n(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var r=Dhe(),o=Gl(),i=pi(),s=Bi(),a=(function(c){n(d,c);function d(){return c.apply(this,arguments)||this}var h=d.prototype;return h.shouldComponentUpdate=function(g){var m=this.props.editorState,y=g.editorState,b=m.getDirectionMap(),v=y.getDirectionMap();if(b!==v)return!0;var S=m.getSelection().getHasFocus(),E=y.getSelection().getHasFocus();if(S!==E)return!0;var T=y.getNativelyRenderedContent(),R=m.isInCompositionMode(),M=y.isInCompositionMode();if(m===y||T!==null&&y.getCurrentContent()===T||R&&M)return!1;var I=m.getCurrentContent(),N=y.getCurrentContent(),P=m.getDecorator(),L=y.getDecorator();return R!==M||I!==N||P!==L||y.mustForceSelection()},h.render=function(){for(var g=this.props,m=g.blockRenderMap,y=g.blockRendererFn,b=g.blockStyleFn,v=g.customStyleMap,S=g.customStyleFn,E=g.editorState,T=g.editorKey,R=g.textDirectionality,M=E.getCurrentContent(),I=E.getSelection(),N=E.mustForceSelection(),P=E.getDecorator(),L=s(E.getDirectionMap()),A=M.getBlocksAsArray(),$=A[0],B=[],U=$;U;){var K=U.getKey(),G={blockRenderMap:m,blockRendererFn:y,blockStyleFn:b,contentState:M,customStyleFn:S,customStyleMap:v,decorator:P,editorKey:T,editorState:E,forceSelection:N,selection:I,block:U,direction:R||L.get(K),tree:E.getBlockTree(K)},V=m.get(U.getType())||m.get("unstyled"),Y=V.wrapper;B.push({block:i.createElement(r,t({key:K},G)),wrapperTemplate:Y,key:K,offsetKey:o.encode(K,0,0)});var Q=U.getNextSiblingKey();U=Q?M.getBlockForKey(Q):null}for(var te=[],z=0;z<B.length;){var W=B[z];if(W.wrapperTemplate){var Z=[];do Z.push(B[z].block),z++;while(z<B.length&&B[z].wrapperTemplate===W.wrapperTemplate);var le=i.cloneElement(W.wrapperTemplate,{key:W.key+"-wrap","data-offset-key":W.offsetKey},Z);te.push(le)}else te.push(W.block),z++}return i.createElement("div",{"data-contents":"true"},te)},d})(i.Component);return XE=a,XE}var ZE,UF;function HF(){if(UF)return ZE;UF=1;var e=ud();function t(){return t=e||function(I){for(var N=1;N<arguments.length;N++){var P=arguments[N];for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(I[L]=P[L])}return I},t.apply(this,arguments)}function n(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function r(I,N){I.prototype=Object.create(N.prototype),I.prototype.constructor=I,I.__proto__=N}function o(I,N,P){return N in I?Object.defineProperty(I,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):I[N]=P,I}var i=TF(),s=Gl(),a=pi(),c=FE(),d=Jy(),h=$_(),f=Yy(),g=cd(),m=LF(),y=eb(),b=VF(),v=rr(),S=hg(),E=Bi(),T=10,R=function(N,P){return N.getAnchorKey()===P||N.getFocusKey()===P},M=(function(I){r(N,I);function N(){for(var L,A=arguments.length,$=new Array(A),B=0;B<A;B++)$[B]=arguments[B];return L=I.call.apply(I,[this].concat($))||this,o(n(L),"_node",void 0),L}var P=N.prototype;return P.shouldComponentUpdate=function(A){return this.props.block!==A.block||this.props.tree!==A.tree||this.props.direction!==A.direction||R(A.selection,A.block.getKey())&&A.forceSelection},P.componentDidMount=function(){if(!this.props.preventScroll){var A=this.props.selection,$=A.getEndKey();if(!(!A.getHasFocus()||$!==this.props.block.getKey())){var B=this._node;if(B!=null){var U=d.getScrollParent(B),K=y(U),G;if(U===window){var V=m(B),Y=V.y+V.height,Q=b().height;G=Y-Q,G>0&&window.scrollTo(K.x,K.y+G+T)}else{S(B)||v(!1);var te=B.offsetHeight+B.offsetTop,z=U.offsetTop+U.offsetHeight,W=z+K.y;G=te-W,G>0&&c.setTop(U,c.getTop(U)+G+T)}}}}},P._renderChildren=function(){var A=this,$=this.props.block,B=$.getKey(),U=$.getText(),K=this.props.tree.size-1,G=R(this.props.selection,B);return this.props.tree.map(function(V,Y){var Q=V.get("leaves");if(Q.size===0)return null;var te=Q.size-1,z=Q.map(function(we,_e){var De=s.encode(B,Y,_e),Ee=we.get("start"),Fe=we.get("end");return a.createElement(i,{key:De,offsetKey:De,block:$,start:Ee,selection:G?A.props.selection:null,forceSelection:A.props.forceSelection,text:U.slice(Ee,Fe),styleSet:$.getInlineStyleAt(Ee),customStyleMap:A.props.customStyleMap,customStyleFn:A.props.customStyleFn,isLast:Y===K&&_e===te})}).toArray(),W=V.get("decoratorKey");if(W==null||!A.props.decorator)return z;var Z=E(A.props.decorator),le=Z.getComponentForKey(W);if(!le)return z;var ue=Z.getPropsForKey(W),ce=s.encode(B,Y,0),se=Q.first().get("start"),ve=Q.last().get("end"),Te=U.slice(se,ve),Se=$.getEntityAt(V.get("start")),he=f.getHTMLDirIfDifferent(h.getDirection(Te),A.props.direction),pe={contentState:A.props.contentState,decoratedText:Te,dir:he,start:se,end:ve,blockKey:B,entityKey:Se,offsetKey:ce};return a.createElement(le,t({},ue,pe,{key:ce}),z)}).toArray()},P.render=function(){var A=this,$=this.props,B=$.direction,U=$.offsetKey,K=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":B==="LTR","public/DraftStyleDefault/rtl":B==="RTL"});return a.createElement("div",{"data-offset-key":U,className:K,ref:function(V){return A._node=V}},this._renderChildren())},N})(a.Component);return ZE=M,ZE}var QE,GF;function Lhe(){if(GF)return QE;GF=1;function e(t){var n=t||"",r=arguments.length;if(r>1)for(var o=1;o<r;o++){var i=arguments[o];i&&(n=(n?n+" ":"")+i)}return n}return QE=e,QE}var JE,WF;function Nhe(){if(WF)return JE;WF=1;var e=ud();function t(){return t=e||function(m){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(m[v]=b[v])}return m},t.apply(this,arguments)}function n(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){r(m,S,b[S])})}return m}function r(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}function o(m,y){m.prototype=Object.create(y.prototype),m.prototype.constructor=m,m.__proto__=y}var i=HF(),s=Gl(),a=pi(),c=cd(),d=Lhe(),h=Bi(),f=function(y,b,v,S){return c({"public/DraftStyleDefault/unorderedListItem":y==="unordered-list-item","public/DraftStyleDefault/orderedListItem":y==="ordered-list-item","public/DraftStyleDefault/reset":v,"public/DraftStyleDefault/depth0":b===0,"public/DraftStyleDefault/depth1":b===1,"public/DraftStyleDefault/depth2":b===2,"public/DraftStyleDefault/depth3":b===3,"public/DraftStyleDefault/depth4":b>=4,"public/DraftStyleDefault/listLTR":S==="LTR","public/DraftStyleDefault/listRTL":S==="RTL"})},g=(function(m){o(y,m);function y(){return m.apply(this,arguments)||this}var b=y.prototype;return b.shouldComponentUpdate=function(S){var E=this.props.editorState,T=S.editorState,R=E.getDirectionMap(),M=T.getDirectionMap();if(R!==M)return!0;var I=E.getSelection().getHasFocus(),N=T.getSelection().getHasFocus();if(I!==N)return!0;var P=T.getNativelyRenderedContent(),L=E.isInCompositionMode(),A=T.isInCompositionMode();if(E===T||P!==null&&T.getCurrentContent()===P||L&&A)return!1;var $=E.getCurrentContent(),B=T.getCurrentContent(),U=E.getDecorator(),K=T.getDecorator();return L!==A||$!==B||U!==K||T.mustForceSelection()},b.render=function(){for(var S=this.props,E=S.blockRenderMap,T=S.blockRendererFn,R=S.blockStyleFn,M=S.customStyleMap,I=S.customStyleFn,N=S.editorState,P=S.editorKey,L=S.preventScroll,A=S.textDirectionality,$=N.getCurrentContent(),B=N.getSelection(),U=N.mustForceSelection(),K=N.getDecorator(),G=h(N.getDirectionMap()),V=$.getBlocksAsArray(),Y=[],Q=null,te=null,z=0;z<V.length;z++){var W=V[z],Z=W.getKey(),le=W.getType(),ue=T(W),ce=void 0,se=void 0,ve=void 0;ue&&(ce=ue.component,se=ue.props,ve=ue.editable);var Te=A||G.get(Z),Se=s.encode(Z,0,0),he={contentState:$,block:W,blockProps:se,blockStyleFn:R,customStyleMap:M,customStyleFn:I,decorator:K,direction:Te,forceSelection:U,offsetKey:Se,preventScroll:L,selection:B,tree:N.getBlockTree(Z)},pe=E.get(le)||E.get("unstyled"),we=pe.wrapper,_e=pe.element||E.get("unstyled").element,De=W.getDepth(),Ee="";if(R&&(Ee=R(W)),_e==="li"){var Fe=te!==we||Q===null||De>Q;Ee=d(Ee,f(le,De,Fe,Te))}var Je=ce||i,Be={className:Ee,"data-block":!0,"data-editor":P,"data-offset-key":Se,key:Z};ve!==void 0&&(Be=n({},Be,{contentEditable:ve,suppressContentEditableWarning:!0}));var Ot=a.createElement(_e,Be,a.createElement(Je,t({},he,{key:Z})));Y.push({block:Ot,wrapperTemplate:we,key:Z,offsetKey:Se}),we?Q=W.getDepth():Q=null,te=we}for(var dt=[],St=0;St<Y.length;){var je=Y[St];if(je.wrapperTemplate){var Rt=[];do Rt.push(Y[St].block),St++;while(St<Y.length&&Y[St].wrapperTemplate===je.wrapperTemplate);var mt=a.cloneElement(je.wrapperTemplate,{key:je.key+"-wrap","data-offset-key":je.offsetKey},Rt);dt.push(mt)}else dt.push(je.block),St++}return a.createElement("div",{"data-contents":"true"},dt)},y})(a.Component);return JE=g,JE}var e1,KF;function Bhe(){if(KF)return e1;KF=1;var e=Bc(),t=e("draft_tree_data_support");return e1=t?Ahe():Nhe(),e1}var t1,qF;function Fhe(){if(qF)return t1;qF=1;var e={isImage:function(r){return t(r)[0]==="image"},isJpeg:function(r){var o=t(r);return e.isImage(r)&&(o[1]==="jpeg"||o[1]==="pjpeg")}};function t(n){return n.split("/")}return t1=e,t1}var n1,YF;function jhe(){if(YF)return n1;YF=1;var e=rr();function t(o){var i=o.length;if(!Array.isArray(o)&&(typeof o=="object"||typeof o=="function")||e(!1),typeof i!="number"&&e(!1),i===0||i-1 in o||e(!1),typeof o.callee=="function"&&e(!1),o.hasOwnProperty)try{return Array.prototype.slice.call(o)}catch{}for(var s=Array(i),a=0;a<i;a++)s[a]=o[a];return s}function n(o){return!!o&&(typeof o=="object"||typeof o=="function")&&"length"in o&&!("setInterval"in o)&&typeof o.nodeType!="number"&&(Array.isArray(o)||"callee"in o||"item"in o)}function r(o){return n(o)?Array.isArray(o)?o.slice():t(o):[o]}return n1=r,n1}var r1,XF;function ZF(){if(XF)return r1;XF=1;function e(n){return function(){return n}}var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(n){return n},r1=t,r1}var o1,QF;function JF(){if(QF)return o1;QF=1;var e=Fhe(),t=jhe(),n=ZF(),r=new RegExp(`\r
`,"g"),o=`
`,i={"text/rtf":1,"text/html":1};function s(c){if(c.kind=="file")return c.getAsFile()}var a=(function(){function c(h){this.data=h,this.types=h.types?t(h.types):[]}var d=c.prototype;return d.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(f){return i[f]})},d.getText=function(){var f;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(f=this.data.getData("text/plain")):f=this.data.getData("Text")),f?f.replace(r,o):null},d.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},d.isLink=function(){return this.types.some(function(f){return f.indexOf("Url")!=-1||f.indexOf("text/uri-list")!=-1||f.indexOf("text/x-moz-url")})},d.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var f=this.data.getData("text/x-moz-url").split(`
`);return f[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},d.isImage=function(){var f=this.types.some(function(b){return b.indexOf("application/x-moz-file")!=-1});if(f)return!0;for(var g=this.getFiles(),m=0;m<g.length;m++){var y=g[m].type;if(!e.isImage(y))return!1}return!0},d.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},d.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(s).filter(n.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},d.hasFiles=function(){return this.getFiles().length>0},c})();return o1=a,o1}var i1,ej;function tj(){if(ej)return i1;ej=1;var e=rr(),t=/\.textClipping$/,n={"text/plain":!0,"text/html":!0,"text/rtf":!0},r=5e3;function o(s,a){var c=0,d=[];s.forEach(function(h){i(h,function(f){c++,f&&d.push(f.slice(0,r)),c==s.length&&a(d.join("\r"))})})}function i(s,a){if(!globalThis.FileReader||s.type&&!(s.type in n)){a("");return}if(s.type===""){var c="";t.test(s.name)&&(c=s.name.replace(t,"")),a(c);return}var d=new FileReader;d.onload=function(){var h=d.result;typeof h!="string"&&e(!1),a(h)},d.onerror=function(){a("")},d.readAsText(s)}return i1=o,i1}var s1,nj;function tb(){if(nj)return s1;nj=1;function e(t){return t==="handled"||t===!0}return s1=e,s1}var a1,rj;function Vhe(){if(rj)return a1;rj=1;var e=JF(),t=Ni(),n=Fr(),r=Zy(),o=Xy(),i=tj(),s=nF(),a=WB(),c=tb(),d=Bi();function h(b,v){var S=null,E=null,T=o(b.currentTarget);if(typeof T.caretRangeFromPoint=="function"){var R=T.caretRangeFromPoint(b.x,b.y);S=R.startContainer,E=R.startOffset}else if(b.rangeParent)S=b.rangeParent,E=b.rangeOffset;else return null;S=d(S),E=d(E);var M=d(r(S));return s(v,M,E,M,E)}var f={onDragEnd:function(v){v.exitCurrentMode(),g(v)},onDrop:function(v,S){var E=new e(S.nativeEvent.dataTransfer),T=v._latestEditorState,R=h(S.nativeEvent,T);if(S.preventDefault(),v._dragCount=0,v.exitCurrentMode(),R!=null){var M=E.getFiles();if(M.length>0){if(v.props.handleDroppedFiles&&c(v.props.handleDroppedFiles(R,M)))return;i(M,function(N){N&&v.update(y(T,R,N))});return}var I=v._internalDrag?"internal":"external";v.props.handleDrop&&c(v.props.handleDrop(R,E,I))||(v._internalDrag?v.update(m(T,R)):v.update(y(T,R,E.getText()))),g(v)}}};function g(b){b._internalDrag=!1;var v=b.editorContainer;if(v){var S=new MouseEvent("mouseup",{view:a(v),bubbles:!0,cancelable:!0});v.dispatchEvent(S)}}function m(b,v){var S=t.moveText(b.getCurrentContent(),b.getSelection(),v);return n.push(b,S,"insert-fragment")}function y(b,v,S){var E=t.insertText(b.getCurrentContent(),v,S,b.getCurrentInlineStyle());return n.push(b,E,"insert-fragment")}return a1=f,a1}var l1,oj;function $he(){if(oj)return l1;oj=1;function e(t){var n=t.getSelection(),r=n.getAnchorKey(),o=t.getBlockTree(r),i=n.getStartOffset(),s=!1;return o.some(function(a){return i===a.get("start")?(s=!0,!0):i<a.get("end")?a.get("leaves").some(function(c){var d=c.get("start");return i===d?(s=!0,!0):!1}):!1}),s}return l1=e,l1}var c1={},ij;function zhe(){return ij||(ij=1,(function(e,t){if(e.setImmediate)return;var n=1,r={},o=!1,i=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),R=0;R<T.length;R++)T[R]=arguments[R+1];var M={callback:E,args:T};return r[n]=M,s(n),n++}function c(E){delete r[E]}function d(E){var T=E.callback,R=E.args;switch(R.length){case 0:T();break;case 1:T(R[0]);break;case 2:T(R[0],R[1]);break;case 3:T(R[0],R[1],R[2]);break;default:T.apply(t,R);break}}function h(E){if(o)setTimeout(h,0,E);else{var T=r[E];if(T){o=!0;try{d(T)}finally{c(E),o=!1}}}}function f(){s=function(E){process.nextTick(function(){h(E)})}}function g(){if(e.postMessage&&!e.importScripts){var E=!0,T=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=T,E}}function m(){var E="setImmediate$"+Math.random()+"$",T=function(R){R.source===e&&typeof R.data=="string"&&R.data.indexOf(E)===0&&h(+R.data.slice(E.length))};e.addEventListener?e.addEventListener("message",T,!1):e.attachEvent("onmessage",T),s=function(R){e.postMessage(E+R,"*")}}function y(){var E=new MessageChannel;E.port1.onmessage=function(T){var R=T.data;h(R)},s=function(T){E.port2.postMessage(T)}}function b(){var E=i.documentElement;s=function(T){var R=i.createElement("script");R.onreadystatechange=function(){h(T),R.onreadystatechange=null,E.removeChild(R),R=null},E.appendChild(R)}}function v(){s=function(E){setTimeout(h,0,E)}}var S=Object.getPrototypeOf&&Object.getPrototypeOf(e);S=S&&S.setTimeout?S:e,{}.toString.call(e.process)==="[object process]"?f():g()?m():e.MessageChannel?y():i&&"onreadystatechange"in i.createElement("script")?b():v(),S.setImmediate=a,S.clearImmediate=c})(typeof self>"u"?typeof globalThis>"u"?c1:globalThis:self)),c1}var u1,sj;function Uhe(){return sj||(sj=1,zhe(),u1=globalThis.setImmediate),u1}var d1,aj;function Hhe(){if(aj)return d1;aj=1;var e=Ni(),t=Fr(),n=Fi(),r=xE(),o=tb(),i=$he(),s=Bi(),a=Uhe(),c="'",d="/",h=n.isBrowser("Firefox");function f(y){return h&&(y==c||y==d)}function g(y,b,v,S,E){var T=e.replaceText(y.getCurrentContent(),y.getSelection(),b,v,S);return t.push(y,T,"insert-characters",E)}function m(y,b){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0);var v=y._latestEditorState,S=b.data;if(S){if(y.props.handleBeforeInput&&o(y.props.handleBeforeInput(S,v,b.timeStamp))){b.preventDefault();return}var E=v.getSelection(),T=E.getStartOffset(),R=E.getAnchorKey();if(!E.isCollapsed()){b.preventDefault(),y.update(g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!0));return}var M=g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!1),I=!1;if(I||(I=i(y._latestCommittedEditorState)),!I){var N=v.getBlockTree(R),P=M.getBlockTree(R);I=N.size!==P.size||N.zip(P).some(function(L){var A=L[0],$=L[1],B=A.get("start"),U=B+(B>=T?S.length:0),K=A.get("end"),G=K+(K>=T?S.length:0),V=$.get("start"),Y=$.get("end"),Q=$.get("decoratorKey");return A.get("decoratorKey")!==Q||A.get("leaves").size!==$.get("leaves").size||U!==V||G!==Y||Q!=null&&Y-V!==K-B})}if(I||(I=f(S)),I||(I=s(M.getDirectionMap()).get(R)!==s(v.getDirectionMap()).get(R)),I){b.preventDefault(),M=t.set(M,{forceSelection:!0}),y.update(M);return}M=t.set(M,{nativelyRenderedContent:M.getCurrentContent()}),y._pendingStateFromBeforeInput=M,a(function(){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0)})}}return d1=m,d1}var h1,lj;function Ghe(){if(lj)return h1;lj=1;var e=Fr(),t=kE(),n=xF();function r(o,i){var s=i.currentTarget.ownerDocument;if(!o.props.preserveSelectionOnBlur&&n(s)===s.body){var a=s.defaultView.getSelection(),c=o.editor;a.rangeCount===1&&t(c,a.anchorNode)&&t(c,a.focusNode)&&a.removeAllRanges()}var d=o._latestEditorState,h=d.getSelection();if(h.getHasFocus()){var f=h.set("hasFocus",!1);o.props.onBlur&&o.props.onBlur(i),o.update(e.acceptSelection(d,f))}}return h1=r,h1}var f1,cj;function Whe(){if(cj)return f1;cj=1;var e=Fr();function t(n,r){n.setMode("composite"),n.update(e.set(n._latestEditorState,{inCompositionMode:!0})),n._onCompositionStart(r)}return f1=t,f1}var p1,uj;function dj(){if(uj)return p1;uj=1;var e=Wy();function t(n){var r=n.getSelection();return r.isCollapsed()?null:e(n.getCurrentContent(),r)}return p1=t,p1}var g1,hj;function Khe(){if(hj)return g1;hj=1;var e=dj();function t(n,r){var o=n._latestEditorState,i=o.getSelection();if(i.isCollapsed()){r.preventDefault();return}n.setClipboard(e(n._latestEditorState))}return g1=t,g1}var m1,fj;function qhe(){if(fj)return m1;fj=1;function e(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var n=t;if(!n.ownerDocument.defaultView)return n instanceof Node;if(n instanceof n.ownerDocument.defaultView.Node)return!0}return!1}return m1=e,m1}var v1,pj;function Yhe(){if(pj)return v1;pj=1;var e=Ni(),t=Fr(),n=Jy(),r=dj(),o=eb(),i=qhe();function s(c,d){var h=c._latestEditorState,f=h.getSelection(),g=d.target,m;if(f.isCollapsed()){d.preventDefault();return}if(i(g)){var y=g;m=o(n.getScrollParent(y))}var b=r(h);c.setClipboard(b),c.setMode("cut"),setTimeout(function(){c.restoreEditorDOM(m),c.exitCurrentMode(),c.update(a(h))},0)}function a(c){var d=e.removeRange(c.getCurrentContent(),c.getSelection(),"forward");return t.push(c,d,"remove-range")}return v1=s,v1}var y1,gj;function Xhe(){if(gj)return y1;gj=1;function e(t,n){t.setMode("drag"),n.preventDefault()}return y1=e,y1}var b1,mj;function Zhe(){if(mj)return b1;mj=1;function e(t){t._internalDrag=!0,t.setMode("drag")}return b1=e,b1}var w1,vj;function Qhe(){if(vj)return w1;vj=1;var e=Fr(),t=Fi();function n(r,o){var i=r._latestEditorState,s=i.getSelection();if(!s.getHasFocus()){var a=s.set("hasFocus",!0);r.props.onFocus&&r.props.onFocus(o),t.isBrowser("Chrome < 60.0.3081.0")?r.update(e.forceSelection(i,a)):r.update(e.acceptSelection(i,a))}}return w1=n,w1}var S1,yj;function hd(){if(yj)return S1;yj=1;var e=rr(),t=55296,n=56319,r=56320,o=57343,i=/[\uD800-\uDFFF]/;function s(b){return t<=b&&b<=o}function a(b,v){if(0<=v&&v<b.length||e(!1),v+1===b.length)return!1;var S=b.charCodeAt(v),E=b.charCodeAt(v+1);return t<=S&&S<=n&&r<=E&&E<=o}function c(b){return i.test(b)}function d(b,v){return 1+s(b.charCodeAt(v))}function h(b){if(!c(b))return b.length;for(var v=0,S=0;S<b.length;S+=d(b,S))v++;return v}function f(b,v,S){if(v=v||0,S=S===void 0?1/0:S||0,!c(b))return b.substr(v,S);var E=b.length;if(E<=0||v>E||S<=0)return"";var T=0;if(v>0){for(;v>0&&T<E;v--)T+=d(b,T);if(T>=E)return""}else if(v<0){for(T=E;v<0&&0<T;v++)T-=d(b,T-1);T<0&&(T=0)}var R=E;if(S<E)for(R=T;S>0&&R<E;S--)R+=d(b,R);return b.substring(T,R)}function g(b,v,S){v=v||0,S=S===void 0?1/0:S||0,v<0&&(v=0),S<0&&(S=0);var E=Math.abs(S-v);return v=v<S?v:S,f(b,v,E)}function m(b){for(var v=[],S=0;S<b.length;S+=d(b,S))v.push(b.codePointAt(S));return v}var y={getCodePoints:m,getUTF16Length:d,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:a,strlen:h,substring:g,substr:f};return S1=y,S1}var C1,bj;function x1(){if(bj)return C1;bj=1;var e=ZF(),t=e;return C1=t,C1}var _1,wj;function E1(){if(wj)return _1;wj=1,x1();function e(t,n){var r=t.getSelection(),o=t.getCurrentContent(),i=r.getStartKey(),s=r.getStartOffset(),a=i,c=0;if(n>s){var d=o.getKeyBefore(i);if(d==null)a=i;else{a=d;var h=o.getBlockForKey(d);c=h.getText().length}}else c=s-n;return r.merge({focusKey:a,focusOffset:c,isBackward:!0})}return _1=e,_1}var T1,Sj;function fg(){if(Sj)return T1;Sj=1;var e=Ni(),t=Bc(),n=t("draft_tree_data_support");function r(o,i,s){var a=o.getSelection(),c=o.getCurrentContent(),d=a,h=a.getAnchorKey(),f=a.getFocusKey(),g=c.getBlockForKey(h);if(n&&s==="forward"&&h!==f)return c;if(a.isCollapsed()){if(s==="forward"){if(o.isSelectionAtEndOfContent())return c;if(n){var m=a.getAnchorOffset()===c.getBlockForKey(h).getLength();if(m){var y=c.getBlockForKey(g.nextSibling);if(!y||y.getLength()===0)return c}}}else if(o.isSelectionAtStartOfContent())return c;if(d=i(o),d===a)return c}return e.removeRange(c,d,s)}return T1=r,T1}var M1,Cj;function xj(){if(Cj)return M1;Cj=1;var e=Fr(),t=hd(),n=E1(),r=fg();function o(i){var s=r(i,function(c){var d=c.getSelection(),h=c.getCurrentContent(),f=d.getAnchorKey(),g=d.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g-1];return n(c,m?t.getUTF16Length(m,0):1)},"backward");if(s===i.getCurrentContent())return i;var a=i.getSelection();return e.push(i,s.set("selectionBefore",a),a.isCollapsed()?"backspace-character":"remove-range")}return M1=o,M1}var O1,_j;function Jhe(){if(_j)return O1;_j=1;var e=Ni(),t=Gl(),n=Fr(),r=Fi(),o=uF(),i=o.notEmptyKey,s=Zy(),a=xj(),c=Bi(),d=r.isEngine("Gecko"),h=`

`;function f(m,y){switch(m){case"deleteContentBackward":return a(y)}return y}function g(m,y){m._pendingStateFromBeforeInput!==void 0&&(m.update(m._pendingStateFromBeforeInput),m._pendingStateFromBeforeInput=void 0);var b=m.editor,v=b.ownerDocument.defaultView.getSelection(),S=v.anchorNode,E=v.isCollapsed,T=S?.nodeType!==Node.TEXT_NODE&&S?.nodeType!==Node.ELEMENT_NODE;if(!(S==null||T)){if(S.nodeType===Node.TEXT_NODE&&(S.previousSibling!==null||S.nextSibling!==null)){var R=S.parentNode;if(R==null)return;S.nodeValue=R.textContent;for(var M=R.firstChild;M!=null;M=M.nextSibling)M!==S&&R.removeChild(M)}var I=S.textContent,N=m._latestEditorState,P=c(s(S)),L=t.decode(P),A=L.blockKey,$=L.decoratorKey,B=L.leafKey,U=N.getBlockTree(A).getIn([$,"leaves",B]),K=U.start,G=U.end,V=N.getCurrentContent(),Y=V.getBlockForKey(A),Q=Y.getText().slice(K,G);if(I.endsWith(h)&&(I=I.slice(0,-1)),I===Q){var te=y.nativeEvent.inputType;if(te){var z=f(te,N);if(z!==N){m.restoreEditorDOM(),m.update(z);return}}return}var W=N.getSelection(),Z=W.merge({anchorOffset:K,focusOffset:G,isBackward:!1}),le=Y.getEntityAt(K),ue=i(le)?V.getEntity(le):null,ce=ue!=null?ue.getMutability():null,se=ce==="MUTABLE",ve=se?"spellcheck-change":"apply-entity",Te=e.replaceText(V,Z,I,Y.getInlineStyleAt(K),se?Y.getEntityAt(K):null),Se,he,pe,we;if(d)Se=v.anchorOffset,he=v.focusOffset,pe=K+Math.min(Se,he),we=pe+Math.abs(Se-he),Se=pe,he=we;else{var _e=I.length-Q.length;pe=W.getStartOffset(),we=W.getEndOffset(),Se=E?we+_e:pe,he=we+_e}var De=Te.merge({selectionBefore:V.getSelectionAfter(),selectionAfter:W.merge({anchorOffset:Se,focusOffset:he})});m.update(n.push(N,De,ve))}}return O1=g,O1}var R1,Ej;function efe(){if(Ej)return R1;Ej=1;var e=Qy();function t(n){return n.which===e.RETURN&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))}return R1=t,R1}var I1,Tj;function P1(){if(Tj)return I1;Tj=1;var e=Fi(),t=efe(),n=e.isPlatform("Mac OS X"),r={isCtrlKeyCommand:function(i){return!!i.ctrlKey&&!i.altKey},isOptionKeyCommand:function(i){return n&&i.altKey},usesMacOSHeuristics:function(){return n},hasCommandModifier:function(i){return n?!!i.metaKey&&!i.altKey:r.isCtrlKeyCommand(i)},isSoftNewlineEvent:t};return I1=r,I1}var k1,Mj;function tfe(){if(Mj)return k1;Mj=1;var e=Ni(),t=Fr(),n=Wy(),r=Bi(),o=null,i={cut:function(a){var c=a.getCurrentContent(),d=a.getSelection(),h=null;if(d.isCollapsed()){var f=d.getAnchorKey(),g=c.getBlockForKey(f).getLength();if(g===d.getAnchorOffset()){var m=c.getKeyAfter(f);if(m==null)return a;h=d.set("focusKey",m).set("focusOffset",0)}else h=d.set("focusOffset",g)}else h=d;h=r(h),o=n(c,h);var y=e.removeRange(c,h,"forward");return y===c?a:t.push(a,y,"remove-range")},paste:function(a){if(!o)return a;var c=e.replaceWithFragment(a.getCurrentContent(),a.getSelection(),o);return t.push(a,c,"insert-fragment")}};return k1=i,k1}var D1,Oj;function Rj(){if(Oj)return D1;Oj=1;var e=Fi(),t=rr(),n=e.isBrowser("Chrome");function r(i){for(var s=i.cloneRange(),a=[],c=i.endContainer;c!=null;c=c.parentNode){var d=c===i.commonAncestorContainer;d?s.setStart(i.startContainer,i.startOffset):s.setStart(s.endContainer,0);var h=Array.from(s.getClientRects());if(a.push(h),d){var f;return a.reverse(),(f=[]).concat.apply(f,a)}s.setEndBefore(c)}t(!1)}var o=n?r:function(i){return Array.from(i.getClientRects())};return D1=o,D1}var A1,Ij;function nfe(){if(Ij)return A1;Ij=1;var e=hd(),t=Xy(),n=Rj(),r=rr();function o(c){var d=getComputedStyle(c),h=t(c),f=h.createElement("div");f.style.fontFamily=d.fontFamily,f.style.fontSize=d.fontSize,f.style.fontStyle=d.fontStyle,f.style.fontWeight=d.fontWeight,f.style.lineHeight=d.lineHeight,f.style.position="absolute",f.textContent="M";var g=h.body;g||r(!1),g.appendChild(f);var m=f.getBoundingClientRect();return g.removeChild(f),m.height}function i(c,d){for(var h=1/0,f=1/0,g=-1/0,m=-1/0,y=0;y<c.length;y++){var b=c[y];b.width===0||b.width===1||(h=Math.min(h,b.top),f=Math.min(f,b.bottom),g=Math.max(g,b.top),m=Math.max(m,b.bottom))}return g<=f&&g-h<d&&m-f<d}function s(c){switch(c.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return c.length;default:return c.childNodes.length}}function a(c){c.collapsed||r(!1),c=c.cloneRange();var d=c.startContainer;d.nodeType!==1&&(d=d.parentNode);var h=o(d),f=c.endContainer,g=c.endOffset;for(c.setStart(c.startContainer,0);i(n(c),h)&&(f=c.startContainer,g=c.startOffset,f.parentNode||r(!1),c.setStartBefore(f),!(f.nodeType===1&&getComputedStyle(f).display!=="inline")););var m=f,y=g-1;do{for(var b=m.nodeValue,v=y;v>=0;v--)if(!(b!=null&&v>0&&e.isSurrogatePair(b,v-1)))if(c.setStart(m,v),i(n(c),h))f=m,g=v;else break;if(v===-1||m.childNodes.length===0)break;m=m.childNodes[v],y=s(m)}while(!0);return c.setStart(f,g),c}return A1=a,A1}var L1,Pj;function rfe(){if(Pj)return L1;Pj=1;var e=Fr(),t=nfe(),n=oF(),r=E1(),o=fg();function i(s,a){var c=o(s,function(d){var h=d.getSelection();if(h.isCollapsed()&&h.getAnchorOffset()===0)return r(d,1);var f=a.currentTarget.ownerDocument,g=f.defaultView.getSelection(),m=g.getRangeAt(0);return m=t(m),n(d,null,m.endContainer,m.endOffset,m.startContainer,m.startOffset).selectionState},"backward");return c===s.getCurrentContent()?s:e.push(s,c,"remove-range")}return L1=i,L1}var N1,kj;function ofe(){if(kj)return N1;kj=1;var e=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]`;return N1={getPunctuation:function(){return e}},N1}var B1,Dj;function Aj(){if(Dj)return B1;Dj=1;var e=ofe(),t=e.getPunctuation(),n="['‘’]",r="\\s|(?![_])"+t,o="^(?:"+r+")*(?:"+n+"|(?!"+r+").)*(?:(?!"+r+").)",i=new RegExp(o),s="(?:(?!"+r+").)(?:"+n+"|(?!"+r+").)*(?:"+r+")*$",a=new RegExp(s);function c(h,f){var g=f?a.exec(h):i.exec(h);return g?g[0]:h}var d={getBackward:function(f){return c(f,!0)},getForward:function(f){return c(f,!1)}};return B1=d,B1}var F1,Lj;function ife(){if(Lj)return F1;Lj=1;var e=Aj(),t=Fr(),n=E1(),r=fg();function o(i){var s=r(i,function(a){var c=a.getSelection(),d=c.getStartOffset();if(d===0)return n(a,1);var h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(0,d),m=e.getBackward(g);return n(a,m.length||1)},"backward");return s===i.getCurrentContent()?i:t.push(i,s,"remove-range")}return F1=o,F1}var j1,Nj;function Bj(){if(Nj)return j1;Nj=1,x1();function e(t,n){var r=t.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),s=t.getCurrentContent(),a=o,c,d=s.getBlockForKey(o);return n>d.getText().length-i?(a=s.getKeyAfter(o),c=0):c=i+n,r.merge({focusKey:a,focusOffset:c})}return j1=e,j1}var V1,Fj;function sfe(){if(Fj)return V1;Fj=1;var e=Aj(),t=Fr(),n=Bj(),r=fg();function o(i){var s=r(i,function(a){var c=a.getSelection(),d=c.getStartOffset(),h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(d),m=e.getForward(g);return n(a,m.length||1)},"forward");return s===i.getCurrentContent()?i:t.push(i,s,"remove-range")}return V1=o,V1}var $1,jj;function afe(){if(jj)return $1;jj=1;var e=Ni(),t=Fr();function n(r){var o=e.splitBlock(r.getCurrentContent(),r.getSelection());return t.push(r,o,"split-block")}return $1=n,$1}var z1,Vj;function lfe(){if(Vj)return z1;Vj=1;var e=Fr();function t(n){var r=n.getSelection(),o=r.getEndKey(),i=n.getCurrentContent(),s=i.getBlockForKey(o).getLength();return e.set(n,{selection:r.merge({anchorKey:o,anchorOffset:s,focusKey:o,focusOffset:s,isBackward:!1}),forceSelection:!0})}return z1=t,z1}var U1,$j;function cfe(){if($j)return U1;$j=1;var e=Fr();function t(n){var r=n.getSelection(),o=r.getStartKey();return e.set(n,{selection:r.merge({anchorKey:o,anchorOffset:0,focusKey:o,focusOffset:0,isBackward:!1}),forceSelection:!0})}return U1=t,U1}var H1,zj;function ufe(){if(zj)return H1;zj=1;var e=Fr(),t=hd(),n=Bj(),r=fg();function o(i){var s=r(i,function(c){var d=c.getSelection(),h=c.getCurrentContent(),f=d.getAnchorKey(),g=d.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g];return n(c,m?t.getUTF16Length(m,0):1)},"forward");if(s===i.getCurrentContent())return i;var a=i.getSelection();return e.push(i,s.set("selectionBefore",a),a.isCollapsed()?"delete-character":"remove-range")}return H1=o,H1}var G1,Uj;function dfe(){if(Uj)return G1;Uj=1;var e=Ni(),t=Fr(),n=Wy();function r(o){var i=o.getSelection();if(!i.isCollapsed())return o;var s=i.getAnchorOffset();if(s===0)return o;var a=i.getAnchorKey(),c=o.getCurrentContent(),d=c.getBlockForKey(a),h=d.getLength();if(h<=1)return o;var f,g;s===h?(f=i.set("anchorOffset",s-1),g=i):(f=i.set("focusOffset",s+1),g=f.set("anchorOffset",s+1));var m=n(c,f),y=e.removeRange(c,f,"backward"),b=y.getSelectionAfter(),v=b.getAnchorOffset()-1,S=b.merge({anchorOffset:v,focusOffset:v}),E=e.replaceWithFragment(y,S,m),T=t.push(o,E,"insert-fragment");return t.acceptSelection(T,g)}return G1=r,G1}var W1,Hj;function hfe(){if(Hj)return W1;Hj=1;var e=Fr();function t(n,r,o){var i=e.undo(r);if(r.getLastChangeType()==="spellcheck-change"){var s=i.getCurrentContent();o(e.set(i,{nativelyRenderedContent:s}));return}if(n.preventDefault(),!r.getNativelyRenderedContent()){o(i);return}o(e.set(r,{nativelyRenderedContent:null})),setTimeout(function(){o(i)},0)}return W1=t,W1}var K1,Gj;function ffe(){if(Gj)return K1;Gj=1;var e=Ni(),t=Fr(),n=P1(),r=Qy(),o=tfe(),i=Fi(),s=tb(),a=rfe(),c=ife(),d=sfe(),h=afe(),f=lfe(),g=cfe(),m=xj(),y=ufe(),b=dfe(),v=hfe(),S=n.isOptionKeyCommand,E=i.isBrowser("Chrome");function T(M,I,N){switch(M){case"redo":return t.redo(I);case"delete":return y(I);case"delete-word":return d(I);case"backspace":return m(I);case"backspace-word":return c(I);case"backspace-to-start-of-line":return a(I,N);case"split-block":return h(I);case"transpose-characters":return b(I);case"move-selection-to-start-of-block":return g(I);case"move-selection-to-end-of-block":return f(I);case"secondary-cut":return o.cut(I);case"secondary-paste":return o.paste(I);default:return I}}function R(M,I){var N=I.which,P=M._latestEditorState;function L(U){var K=M.props[U];return K?(K(I),!0):!1}switch(N){case r.RETURN:if(I.preventDefault(),M.props.handleReturn&&s(M.props.handleReturn(I,P)))return;break;case r.ESC:if(I.preventDefault(),L("onEscape"))return;break;case r.TAB:if(L("onTab"))return;break;case r.UP:if(L("onUpArrow"))return;break;case r.RIGHT:if(L("onRightArrow"))return;break;case r.DOWN:if(L("onDownArrow"))return;break;case r.LEFT:if(L("onLeftArrow"))return;break;case r.SPACE:E&&S(I)&&I.preventDefault()}var A=M.props.keyBindingFn(I);if(A==null||A===""){if(N===r.SPACE&&E&&S(I)){var $=e.replaceText(P.getCurrentContent(),P.getSelection()," ");M.update(t.push(P,$,"insert-characters"))}return}if(A==="undo"){v(I,P,M.update);return}if(I.preventDefault(),!(M.props.handleKeyCommand&&s(M.props.handleKeyCommand(A,P,I.timeStamp)))){var B=T(A,P,I);B!==P&&M.update(B)}}return K1=R,K1}var q1,Wj;function pfe(){if(Wj)return q1;Wj=1;function e(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}var t=(function(){function n(o){e(this,"_uri",void 0),this._uri=o}var r=n.prototype;return r.toString=function(){return this._uri},n})();return q1=t,q1}var Y1,Kj;function qj(){if(Kj)return Y1;Kj=1;var e=Fi(),t=rr(),n=e.isBrowser("IE <= 9");function r(o){var i,s=null;return!n&&document.implementation&&document.implementation.createHTMLDocument&&(i=document.implementation.createHTMLDocument("foo"),i.documentElement||t(!1),i.documentElement.innerHTML=o,s=i.getElementsByTagName("body")[0]),s}return Y1=r,Y1}var X1,Yj;function gfe(){if(Yj)return X1;Yj=1;var e=dd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="A"}return X1=t,X1}var Z1,Xj;function mfe(){if(Xj)return Z1;Xj=1;var e=dd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="IMG"}return Z1=t,Z1}var Q1,Zj;function Qj(){if(Zj)return Q1;Zj=1;var e;function t(Se){for(var he=1;he<arguments.length;he++){var pe=arguments[he]!=null?arguments[he]:{},we=Object.keys(pe);typeof Object.getOwnPropertySymbols=="function"&&(we=we.concat(Object.getOwnPropertySymbols(pe).filter(function(_e){return Object.getOwnPropertyDescriptor(pe,_e).enumerable}))),we.forEach(function(_e){n(Se,_e,pe[_e])})}return Se}function n(Se,he,pe){return he in Se?Object.defineProperty(Se,he,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Se[he]=pe,Se}var r=Ls(),o=ld(),i=Ns(),s=Q_(),a=Ky(),c=pfe(),d=cd(),h=Qa(),f=qj(),g=Bc(),m=Jn(),y=m.List,b=m.Map,v=m.OrderedSet,S=gfe(),E=mF(),T=hg(),R=mfe(),M=g("draft_tree_data_support"),I="&nbsp;",N=" ",P=new RegExp("\r","g"),L=new RegExp(`
`,"g"),A=new RegExp(`^
`,"g"),$=new RegExp(I,"g"),B=new RegExp("&#13;?","g"),U=new RegExp("&#8203;?","g"),K=["bold","bolder","500","600","700","800","900"],G=["light","lighter","normal","100","200","300","400"],V=["className","href","rel","target","title"],Y=["alt","className","height","src","width"],Q=(e={},n(e,d("public/DraftStyleDefault/depth0"),0),n(e,d("public/DraftStyleDefault/depth1"),1),n(e,d("public/DraftStyleDefault/depth2"),2),n(e,d("public/DraftStyleDefault/depth3"),3),n(e,d("public/DraftStyleDefault/depth4"),4),e),te=b({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),z=function(he){var pe={};return he.mapKeys(function(we,_e){var De=[_e.element];_e.aliasedElements!==void 0&&De.push.apply(De,_e.aliasedElements),De.forEach(function(Ee){pe[Ee]===void 0?pe[Ee]=we:typeof pe[Ee]=="string"?pe[Ee]=[pe[Ee],we]:pe[Ee].push(we)})}),b(pe)},W=function(he){if(T(he)){var pe=he;if(pe.style.fontFamily.includes("monospace"))return"CODE"}return null},Z=function(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(Q).some(function(we){he.classList.contains(we)&&(pe=Q[we])}),pe},le=function(he){if(!S(he))return!1;var pe=he;if(!pe.href||pe.protocol!=="http:"&&pe.protocol!=="https:"&&pe.protocol!=="mailto:"&&pe.protocol!=="tel:")return!1;try{var we=new c(pe.href);return!0}catch{return!1}},ue=function(he){if(!R(he))return!1;var pe=he;return!!(pe.attributes.getNamedItem("src")&&pe.attributes.getNamedItem("src").value)},ce=function(he,pe){if(!T(he))return pe;var we=he,_e=we.style.fontWeight,De=we.style.fontStyle,Ee=we.style.textDecoration;return pe.withMutations(function(Fe){K.indexOf(_e)>=0?Fe.add("BOLD"):G.indexOf(_e)>=0&&Fe.remove("BOLD"),De==="italic"?Fe.add("ITALIC"):De==="normal"&&Fe.remove("ITALIC"),Ee==="underline"&&Fe.add("UNDERLINE"),Ee==="line-through"&&Fe.add("STRIKETHROUGH"),Ee==="none"&&(Fe.remove("UNDERLINE"),Fe.remove("STRIKETHROUGH"))})},se=function(he){return he==="ul"||he==="ol"},ve=(function(){function Se(pe,we){n(this,"characterList",y()),n(this,"currentBlockType","unstyled"),n(this,"currentDepth",0),n(this,"currentEntity",null),n(this,"currentText",""),n(this,"wrapper",null),n(this,"blockConfigs",[]),n(this,"contentBlocks",[]),n(this,"entityMap",a),n(this,"blockTypeMap",void 0),n(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=pe,this.disambiguate=we}var he=Se.prototype;return he.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=a,this.wrapper=null,this.contentBlocks=[]},he.addDOMNode=function(we){var _e;return this.contentBlocks=[],this.currentDepth=0,(_e=this.blockConfigs).push.apply(_e,this._toBlockConfigs([we],v())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},he.getContentBlocks=function(){return this.contentBlocks.length===0&&(M?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},he._makeBlockConfig=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=we.key||h(),De=t({key:_e,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},we);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",De},he._toBlockConfigs=function(we,_e){for(var De=[],Ee=0;Ee<we.length;Ee++){var Fe=we[Ee],Je=Fe.nodeName.toLowerCase();if(Je==="body"||se(Je)){this._trimCurrentText(),this.currentText!==""&&De.push(this._makeBlockConfig());var Be=this.currentDepth,Ot=this.wrapper;se(Je)&&(this.wrapper=Je,se(Ot)&&this.currentDepth++),De.push.apply(De,this._toBlockConfigs(Array.from(Fe.childNodes),_e)),this.currentDepth=Be,this.wrapper=Ot;continue}var dt=this.blockTypeMap.get(Je);if(dt!==void 0){this._trimCurrentText(),this.currentText!==""&&De.push(this._makeBlockConfig());var St=this.currentDepth,je=this.wrapper;if(this.wrapper=Je==="pre"?"pre":this.wrapper,typeof dt!="string"&&(dt=this.disambiguate(Je,this.wrapper)||dt[0]||"unstyled"),!M&&T(Fe)&&(dt==="unordered-list-item"||dt==="ordered-list-item")){var Rt=Fe;this.currentDepth=Z(Rt,this.currentDepth)}var mt=h(),Bt=this._toBlockConfigs(Array.from(Fe.childNodes),_e);this._trimCurrentText(),De.push(this._makeBlockConfig({key:mt,childConfigs:Bt,type:dt})),this.currentDepth=St,this.wrapper=je;continue}if(Je==="#text"){this._addTextNode(Fe,_e);continue}if(Je==="br"){this._addBreakNode(Fe,_e);continue}if(ue(Fe)){this._addImgNode(Fe,_e);continue}if(le(Fe)){this._addAnchorNode(Fe,De,_e);continue}var It=_e;te.has(Je)&&(It=It.add(te.get(Je))),It=ce(Fe,It);var Xt=W(Fe);Xt!=null&&(It=It.add(Xt)),De.push.apply(De,this._toBlockConfigs(Array.from(Fe.childNodes),It))}return De},he._appendText=function(we,_e){var De;this.currentText+=we;var Ee=r.create({style:_e,entity:this.currentEntity});this.characterList=(De=this.characterList).push.apply(De,Array(we.length).fill(Ee))},he._trimCurrentText=function(){var we=this.currentText.length,_e=we-this.currentText.trimLeft().length,De=this.currentText.trimRight().length,Ee=this.characterList.findEntry(function(Fe){return Fe.getEntity()!==null});_e=Ee!==void 0?Math.min(_e,Ee[0]):_e,Ee=this.characterList.reverse().findEntry(function(Fe){return Fe.getEntity()!==null}),De=Ee!==void 0?Math.max(De,we-Ee[0]):De,_e>De?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(_e,De),this.characterList=this.characterList.slice(_e,De))},he._addTextNode=function(we,_e){var De=we.textContent,Ee=De.trim();Ee===""&&this.wrapper!=="pre"&&(De=" "),this.wrapper!=="pre"&&(De=De.replace(A,""),De=De.replace(L,N)),this._appendText(De,_e)},he._addBreakNode=function(we,_e){E(we)&&this._appendText(`
`,_e)},he._addImgNode=function(we,_e){if(R(we)){var De=we,Ee={};Y.forEach(function(Fe){var Je=De.getAttribute(Fe);Je&&(Ee[Fe]=Je)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",Ee),g("draftjs_fix_paste_for_img")?De.getAttribute("role")!=="presentation"&&this._appendText("📷",_e):this._appendText("📷",_e),this.currentEntity=null}},he._addAnchorNode=function(we,_e,De){if(S(we)){var Ee=we,Fe={};V.forEach(function(Je){var Be=Ee.getAttribute(Je);Be&&(Fe[Je]=Be)}),Fe.url=new c(Ee.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",Fe||{}),_e.push.apply(_e,this._toBlockConfigs(Array.from(we.childNodes),De)),this.currentEntity=null}},he._toContentBlocks=function(we){for(var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,De=we.length-1,Ee=0;Ee<=De;Ee++){var Fe=we[Ee];Fe.parent=_e,Fe.prevSibling=Ee>0?we[Ee-1].key:null,Fe.nextSibling=Ee<De?we[Ee+1].key:null,Fe.children=y(Fe.childConfigs.map(function(Je){return Je.key})),this.contentBlocks.push(new i(t({},Fe))),this._toContentBlocks(Fe.childConfigs,Fe.key)}},he._hoistContainersInBlockConfigs=function(we){var _e=this,De=y(we).flatMap(function(Ee){return Ee.type!=="unstyled"||Ee.text!==""?[Ee]:_e._hoistContainersInBlockConfigs(Ee.childConfigs)});return De},he._toFlatContentBlocks=function(we){var _e=this,De=this._hoistContainersInBlockConfigs(we);De.forEach(function(Ee){var Fe=_e._extractTextFromBlockConfigs(Ee.childConfigs),Je=Fe.text,Be=Fe.characterList;_e.contentBlocks.push(new o(t({},Ee,{text:Ee.text+Je,characterList:Ee.characterList.concat(Be)})))})},he._extractTextFromBlockConfigs=function(we){for(var _e=we.length-1,De="",Ee=y(),Fe=0;Fe<=_e;Fe++){var Je=we[Fe];De+=Je.text,Ee=Ee.concat(Je.characterList),De!==""&&Je.type!=="unstyled"&&(De+=`
`,Ee=Ee.push(Ee.last()));var Be=this._extractTextFromBlockConfigs(Je.childConfigs);De+=Be.text,Ee=Ee.concat(Be.characterList)}return{text:De,characterList:Ee}},Se})(),Te=function(he){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s;he=he.trim().replace(P,"").replace($,N).replace(B,"").replace(U,"");var _e=pe(he);if(!_e)return null;var De=z(we),Ee=function(Je,Be){return Je==="li"?Be==="ol"?"ordered-list-item":"unordered-list-item":null};return new ve(De,Ee).addDOMNode(_e).getContentBlocks()};return Q1=Te,Q1}var J1,Jj;function vfe(){if(Jj)return J1;Jj=1;function e(b){for(var v=1;v<arguments.length;v++){var S=arguments[v]!=null?arguments[v]:{},E=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(S).filter(function(T){return Object.getOwnPropertyDescriptor(S,T).enumerable}))),E.forEach(function(T){t(b,T,S[T])})}return b}function t(b,v,S){return v in b?Object.defineProperty(b,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[v]=S,b}var n=ld(),r=Ns(),o=Qj(),i=Qa(),s=qj(),a=Bc(),c=Jn(),d=mB(),h=c.List,f=c.Repeat,g=a("draft_tree_data_support"),m=g?r:n,y={processHTML:function(v,S){return o(v,s,S)},processText:function(v,S,E){return v.reduce(function(T,R,M){R=d(R);var I=i(),N={key:I,type:E,text:R,characterList:h(f(S,R.length))};if(g&&M!==0){var P=M-1,L=T[P]=T[P].merge({nextSibling:I});N=e({},N,{prevSibling:L.getKey()})}return T.push(new m(N)),T},[])}};return J1=y,J1}var eT,eV;function yfe(){if(eV)return eT;eV=1;function e(t,n,r,o){var i=n.getStartKey(),s=n.getEndKey(),a=t.getBlockMap(),c=a.toSeq().skipUntil(function(d,h){return h===i}).takeUntil(function(d,h){return h===s}).concat([[s,a.get(s)]]).map(function(d){var h=d.getDepth()+r;return h=Math.max(0,Math.min(h,o)),d.set("depth",h)});return a=a.merge(c),t.merge({blockMap:a,selectionBefore:n,selectionAfter:n})}return eT=e,eT}var tT,tV;function nV(){if(tV)return tT;tV=1;var e=Ni(),t=Fr(),n=yfe(),r=Bi(),o={currentBlockContainsLink:function(s){var a=s.getSelection(),c=s.getCurrentContent(),d=c.getEntityMap();return c.getBlockForKey(a.getAnchorKey()).getCharacterList().slice(a.getStartOffset(),a.getEndOffset()).some(function(h){var f=h.getEntity();return!!f&&d.__get(f).getType()==="LINK"})},getCurrentBlockType:function(s){var a=s.getSelection();return s.getCurrentContent().getBlockForKey(a.getStartKey()).getType()},getDataObjectForLinkURL:function(s){return{url:s.toString()}},handleKeyCommand:function(s,a,c){switch(a){case"bold":return o.toggleInlineStyle(s,"BOLD");case"italic":return o.toggleInlineStyle(s,"ITALIC");case"underline":return o.toggleInlineStyle(s,"UNDERLINE");case"code":return o.toggleCode(s);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return o.onBackspace(s);case"delete":case"delete-word":case"delete-to-end-of-block":return o.onDelete(s);default:return null}},insertSoftNewline:function(s){var a=e.insertText(s.getCurrentContent(),s.getSelection(),`
`,s.getCurrentInlineStyle(),null),c=t.push(s,a,"insert-characters");return t.forceSelection(c,a.getSelectionAfter())},onBackspace:function(s){var a=s.getSelection();if(!a.isCollapsed()||a.getAnchorOffset()||a.getFocusOffset())return null;var c=s.getCurrentContent(),d=a.getStartKey(),h=c.getBlockBefore(d);if(h&&h.getType()==="atomic"){var f=c.getBlockMap().delete(h.getKey()),g=c.merge({blockMap:f,selectionAfter:a});if(g!==c)return t.push(s,g,"remove-range")}var m=o.tryToRemoveBlockStyle(s);return m?t.push(s,m,"change-block-type"):null},onDelete:function(s){var a=s.getSelection();if(!a.isCollapsed())return null;var c=s.getCurrentContent(),d=a.getStartKey(),h=c.getBlockForKey(d),f=h.getLength();if(a.getStartOffset()<f)return null;var g=c.getBlockAfter(d);if(!g||g.getType()!=="atomic")return null;var m=a.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),y=e.removeRange(c,m,"forward");return y!==c?t.push(s,y,"remove-range"):null},onTab:function(s,a,c){var d=a.getSelection(),h=d.getAnchorKey();if(h!==d.getFocusKey())return a;var f=a.getCurrentContent(),g=f.getBlockForKey(h),m=g.getType();if(m!=="unordered-list-item"&&m!=="ordered-list-item")return a;s.preventDefault();var y=g.getDepth();if(!s.shiftKey&&y===c)return a;var b=n(f,d,s.shiftKey?-1:1,c);return t.push(a,b,"adjust-depth")},toggleBlockType:function(s,a){var c=s.getSelection(),d=c.getStartKey(),h=c.getEndKey(),f=s.getCurrentContent(),g=c;if(d!==h&&c.getEndOffset()===0){var m=r(f.getBlockBefore(h));h=m.getKey(),g=g.merge({anchorKey:d,anchorOffset:c.getStartOffset(),focusKey:h,focusOffset:m.getLength(),isBackward:!1})}var y=f.getBlockMap().skipWhile(function(v,S){return S!==d}).reverse().skipWhile(function(v,S){return S!==h}).some(function(v){return v.getType()==="atomic"});if(y)return s;var b=f.getBlockForKey(d).getType()===a?"unstyled":a;return t.push(s,e.setBlockType(f,g,b),"change-block-type")},toggleCode:function(s){var a=s.getSelection(),c=a.getAnchorKey(),d=a.getFocusKey();return a.isCollapsed()||c!==d?o.toggleBlockType(s,"code-block"):o.toggleInlineStyle(s,"CODE")},toggleInlineStyle:function(s,a){var c=s.getSelection(),d=s.getCurrentInlineStyle();if(c.isCollapsed())return t.setInlineStyleOverride(s,d.has(a)?d.remove(a):d.add(a));var h=s.getCurrentContent(),f;return d.has(a)?f=e.removeInlineStyle(h,c,a):f=e.applyInlineStyle(h,c,a),t.push(s,f,"change-inline-style")},toggleLink:function(s,a,c){var d=e.applyEntity(s.getCurrentContent(),a,c);return t.push(s,d,"apply-entity")},tryToRemoveBlockStyle:function(s){var a=s.getSelection(),c=a.getAnchorOffset();if(a.isCollapsed()&&c===0){var d=a.getAnchorKey(),h=s.getCurrentContent(),f=h.getBlockForKey(d),g=f.getType(),m=h.getBlockBefore(d);if(g==="code-block"&&m&&m.getType()==="code-block"&&m.getLength()!==0)return null;if(g!=="unstyled")return e.setBlockType(h,a,"unstyled")}return null}};return tT=o,tT}var nT,rV;function bfe(){if(rV)return nT;rV=1;var e=/\r\n?|\n/g;function t(n){return n.split(e)}return nT=t,nT}var rT,oV;function wfe(){if(oV)return rT;oV=1;var e=cg(),t=Ls(),n=JF(),r=Ni(),o=vfe(),i=Fr(),s=nV(),a=xE(),c=tj(),d=tb(),h=bfe();function f(y,b){b.preventDefault();var v=new n(b.clipboardData);if(!v.isRichText()){var S=v.getFiles(),E=v.getText();if(S.length>0){if(y.props.handlePastedFiles&&d(y.props.handlePastedFiles(S)))return;c(S,function(z){if(z=z||E,!!z){var W=y._latestEditorState,Z=h(z),le=t.create({style:W.getCurrentInlineStyle(),entity:a(W.getCurrentContent(),W.getSelection())}),ue=s.getCurrentBlockType(W),ce=o.processText(Z,le,ue),se=e.createFromArray(ce),ve=r.replaceWithFragment(W.getCurrentContent(),W.getSelection(),se);y.update(i.push(W,ve,"insert-fragment"))}});return}}var T=[],R=v.getText(),M=v.getHTML(),I=y._latestEditorState;if(y.props.formatPastedText){var N=y.props.formatPastedText(R,M),P=N.text,L=N.html;R=P,M=L}if(!(y.props.handlePastedText&&d(y.props.handlePastedText(R,M,I)))){if(R&&(T=h(R)),!y.props.stripPastedStyles){var A=y.getClipboard();if(!y.props.formatPastedText&&v.isRichText()&&A){var $;if((($=M)===null||$===void 0?void 0:$.indexOf(y.getEditorKey()))!==-1||T.length===1&&A.size===1&&A.first().getText()===R){y.update(g(y._latestEditorState,A));return}}else if(A&&v.types.includes("com.apple.webarchive")&&!v.types.includes("text/html")&&m(T,A)){y.update(g(y._latestEditorState,A));return}if(M){var B=o.processHTML(M,y.props.blockRenderMap);if(B){var U=B.contentBlocks,K=B.entityMap;if(U){var G=e.createFromArray(U);y.update(g(y._latestEditorState,G,K));return}}}y.setClipboard(null)}if(T.length){var V=t.create({style:I.getCurrentInlineStyle(),entity:a(I.getCurrentContent(),I.getSelection())}),Y=s.getCurrentBlockType(I),Q=o.processText(T,V,Y),te=e.createFromArray(Q);y.update(g(y._latestEditorState,te))}}}function g(y,b,v){var S=r.replaceWithFragment(y.getCurrentContent(),y.getSelection(),b);return i.push(y,S.set("entityMap",v),"insert-fragment")}function m(y,b){return y.length===b.size&&b.valueSeq().every(function(v,S){return v.getText()===y[S]})}return rT=f,rT}var oT,iV;function Sfe(){if(iV)return oT;iV=1;var e=Fi(),t=Hhe(),n=Ghe(),r=Whe(),o=Khe(),i=Yhe(),s=Xhe(),a=Zhe(),c=Qhe(),d=Jhe(),h=ffe(),f=wfe(),g=lF(),m=e.isBrowser("Chrome"),y=e.isBrowser("Firefox"),b=m||y?g:function(S){},v={onBeforeInput:t,onBlur:n,onCompositionStart:r,onCopy:o,onCut:i,onDragOver:s,onDragStart:a,onFocus:c,onInput:d,onKeyDown:h,onPaste:f,onSelect:g,onMouseUp:b,onKeyUp:b};return oT=v,oT}var iT={exports:{}},gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sV;function Cfe(){if(sV)return gi;sV=1;var e=pi();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(c,d,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:c,containerInfo:d,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gi.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,h)},gi.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},gi.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},gi.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},gi.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,f=a(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},gi.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=a(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},gi.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,f=a(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},gi.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=a(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},gi.requestFormReset=function(c){r.d.r(c)},gi.unstable_batchedUpdates=function(c,d){return c(d)},gi.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},gi.useFormStatus=function(){return s.H.useHostTransitionStatus()},gi.version="19.1.1",gi}var aV;function sT(){if(aV)return iT.exports;aV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),iT.exports=Cfe(),iT.exports}var aT,lV;function xfe(){if(lV)return aT;lV=1;var e=sT(),t=e.unstable_flushControlled;return aT=t,aT}var lT,cV;function _fe(){if(cV)return lT;cV=1;function e(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i}var t=pi(),n=cd(),r=(function(o){e(i,o);function i(){return o.apply(this,arguments)||this}var s=i.prototype;return s.shouldComponentUpdate=function(c){return this.props.text!==c.text||this.props.editorState.getSelection().getHasFocus()!==c.editorState.getSelection().getHasFocus()},s.render=function(){var c=this.props.editorState.getSelection().getHasFocus(),d=n({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":c}),h={whiteSpace:"pre-wrap"};return t.createElement("div",{className:d},t.createElement("div",{className:n("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:h},this.props.text))},i})(t.Component);return lT=r,lT}var cT,uV;function dV(){if(uV)return cT;uV=1;var e=P1(),t=Qy(),n=Fi(),r=n.isPlatform("Mac OS X"),o=r&&n.isBrowser("Firefox < 29"),i=e.hasCommandModifier,s=e.isCtrlKeyCommand;function a(g){return r&&g.altKey||s(g)}function c(g){return i(g)?g.shiftKey?"redo":"undo":null}function d(g){return!r&&g.shiftKey?null:a(g)?"delete-word":"delete"}function h(g){return i(g)&&r?"backspace-to-start-of-line":a(g)?"backspace-word":"backspace"}function f(g){switch(g.keyCode){case 66:return i(g)?"bold":null;case 68:return s(g)?"delete":null;case 72:return s(g)?"backspace":null;case 73:return i(g)?"italic":null;case 74:return i(g)?"code":null;case 75:return r&&s(g)?"secondary-cut":null;case 77:return s(g)?"split-block":null;case 79:return s(g)?"split-block":null;case 84:return r&&s(g)?"transpose-characters":null;case 85:return i(g)?"underline":null;case 87:return r&&s(g)?"backspace-word":null;case 89:return s(g)?r?"secondary-paste":"redo":null;case 90:return c(g)||null;case t.RETURN:return"split-block";case t.DELETE:return d(g);case t.BACKSPACE:return h(g);case t.LEFT:return o&&i(g)?"move-selection-to-start-of-block":null;case t.RIGHT:return o&&i(g)?"move-selection-to-end-of-block":null;default:return null}}return cT=f,cT}var uT,hV;function Efe(){if(hV)return uT;hV=1;var e=ud();function t(){return t=e||function(Q){for(var te=1;te<arguments.length;te++){var z=arguments[te];for(var W in z)Object.prototype.hasOwnProperty.call(z,W)&&(Q[W]=z[W])}return Q},t.apply(this,arguments)}function n(Q){for(var te=1;te<arguments.length;te++){var z=arguments[te]!=null?arguments[te]:{},W=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(W=W.concat(Object.getOwnPropertySymbols(z).filter(function(Z){return Object.getOwnPropertyDescriptor(z,Z).enumerable}))),W.forEach(function(Z){o(Q,Z,z[Z])})}return Q}function r(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function o(Q,te,z){return te in Q?Object.defineProperty(Q,te,{value:z,enumerable:!0,configurable:!0,writable:!0}):Q[te]=z,Q}function i(Q,te){Q.prototype=Object.create(te.prototype),Q.prototype.constructor=Q,Q.__proto__=te}var s=Q_(),a=kB(),c=whe(),d=Bhe(),h=Vhe(),f=Sfe(),g=xfe(),m=_fe(),y=yF(),b=Fr(),v=pi(),S=FE(),E=Jy(),T=Fi(),R=cd(),M=Qa(),I=dV(),N=eb(),P=Bc(),L=rr(),A=hg(),$=Bi(),B=T.isBrowser("IE"),U=!B,K={edit:f,composite:c,drag:h,cut:null,render:null},G=!1,V=(function(Q){i(te,Q);function te(){return Q.apply(this,arguments)||this}var z=te.prototype;return z.render=function(){return null},z.componentDidMount=function(){this._update()},z.componentDidUpdate=function(){this._update()},z._update=function(){var Z=this.props.editor;Z._latestEditorState=this.props.editorState,Z._blockSelectEvents=!0},te})(v.Component),Y=(function(Q){i(te,Q);function te(W){var Z;return Z=Q.call(this,W)||this,o(r(Z),"_blockSelectEvents",void 0),o(r(Z),"_clipboard",void 0),o(r(Z),"_handler",void 0),o(r(Z),"_dragCount",void 0),o(r(Z),"_internalDrag",void 0),o(r(Z),"_editorKey",void 0),o(r(Z),"_placeholderAccessibilityID",void 0),o(r(Z),"_latestEditorState",void 0),o(r(Z),"_latestCommittedEditorState",void 0),o(r(Z),"_pendingStateFromBeforeInput",void 0),o(r(Z),"_onBeforeInput",void 0),o(r(Z),"_onBlur",void 0),o(r(Z),"_onCharacterData",void 0),o(r(Z),"_onCompositionEnd",void 0),o(r(Z),"_onCompositionStart",void 0),o(r(Z),"_onCopy",void 0),o(r(Z),"_onCut",void 0),o(r(Z),"_onDragEnd",void 0),o(r(Z),"_onDragOver",void 0),o(r(Z),"_onDragStart",void 0),o(r(Z),"_onDrop",void 0),o(r(Z),"_onInput",void 0),o(r(Z),"_onFocus",void 0),o(r(Z),"_onKeyDown",void 0),o(r(Z),"_onKeyPress",void 0),o(r(Z),"_onKeyUp",void 0),o(r(Z),"_onMouseDown",void 0),o(r(Z),"_onMouseUp",void 0),o(r(Z),"_onPaste",void 0),o(r(Z),"_onSelect",void 0),o(r(Z),"editor",void 0),o(r(Z),"editorContainer",void 0),o(r(Z),"focus",void 0),o(r(Z),"blur",void 0),o(r(Z),"setMode",void 0),o(r(Z),"exitCurrentMode",void 0),o(r(Z),"restoreEditorDOM",void 0),o(r(Z),"setClipboard",void 0),o(r(Z),"getClipboard",void 0),o(r(Z),"getEditorKey",void 0),o(r(Z),"update",void 0),o(r(Z),"onDragEnter",void 0),o(r(Z),"onDragLeave",void 0),o(r(Z),"_handleEditorContainerRef",function(le){Z.editorContainer=le,Z.editor=le!==null?le.firstChild:null}),o(r(Z),"focus",function(le){var ue=Z.props.editorState,ce=ue.getSelection().getHasFocus(),se=Z.editor;if(se){var ve=E.getScrollParent(se),Te=le||N(ve),Se=Te.x,he=Te.y;A(se)||L(!1),se.focus(),ve===window?window.scrollTo(Se,he):S.setTop(ve,he),ce||Z.update(b.forceSelection(ue,ue.getSelection()))}}),o(r(Z),"blur",function(){var le=Z.editor;le&&(A(le)||L(!1),le.blur())}),o(r(Z),"setMode",function(le){var ue=Z.props,ce=ue.onPaste,se=ue.onCut,ve=ue.onCopy,Te=n({},K.edit);ce&&(Te.onPaste=ce),se&&(Te.onCut=se),ve&&(Te.onCopy=ve);var Se=n({},K,{edit:Te});Z._handler=Se[le]}),o(r(Z),"exitCurrentMode",function(){Z.setMode("edit")}),o(r(Z),"restoreEditorDOM",function(le){Z.setState({contentsKey:Z.state.contentsKey+1},function(){Z.focus(le)})}),o(r(Z),"setClipboard",function(le){Z._clipboard=le}),o(r(Z),"getClipboard",function(){return Z._clipboard}),o(r(Z),"update",function(le){Z._latestEditorState=le,Z.props.onChange(le)}),o(r(Z),"onDragEnter",function(){Z._dragCount++}),o(r(Z),"onDragLeave",function(){Z._dragCount--,Z._dragCount===0&&Z.exitCurrentMode()}),Z._blockSelectEvents=!1,Z._clipboard=null,Z._handler=null,Z._dragCount=0,Z._editorKey=W.editorKey||M(),Z._placeholderAccessibilityID="placeholder-"+Z._editorKey,Z._latestEditorState=W.editorState,Z._latestCommittedEditorState=W.editorState,Z._onBeforeInput=Z._buildHandler("onBeforeInput"),Z._onBlur=Z._buildHandler("onBlur"),Z._onCharacterData=Z._buildHandler("onCharacterData"),Z._onCompositionEnd=Z._buildHandler("onCompositionEnd"),Z._onCompositionStart=Z._buildHandler("onCompositionStart"),Z._onCopy=Z._buildHandler("onCopy"),Z._onCut=Z._buildHandler("onCut"),Z._onDragEnd=Z._buildHandler("onDragEnd"),Z._onDragOver=Z._buildHandler("onDragOver"),Z._onDragStart=Z._buildHandler("onDragStart"),Z._onDrop=Z._buildHandler("onDrop"),Z._onInput=Z._buildHandler("onInput"),Z._onFocus=Z._buildHandler("onFocus"),Z._onKeyDown=Z._buildHandler("onKeyDown"),Z._onKeyPress=Z._buildHandler("onKeyPress"),Z._onKeyUp=Z._buildHandler("onKeyUp"),Z._onMouseDown=Z._buildHandler("onMouseDown"),Z._onMouseUp=Z._buildHandler("onMouseUp"),Z._onPaste=Z._buildHandler("onPaste"),Z._onSelect=Z._buildHandler("onSelect"),Z.getEditorKey=function(){return Z._editorKey},Z.state={contentsKey:0},Z}var z=te.prototype;return z._buildHandler=function(Z){var le=this;return function(ue){if(!le.props.readOnly){var ce=le._handler&&le._handler[Z];ce&&(g?g(function(){return ce(le,ue)}):ce(le,ue))}}},z._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},z._renderPlaceholder=function(){if(this._showPlaceholder()){var Z={text:$(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,Z)}return null},z._renderARIADescribedBy=function(){var Z=this.props.ariaDescribedBy||"",le=this._showPlaceholder()?this._placeholderAccessibilityID:"";return Z.replace("{{editor_id_placeholder}}",le)||void 0},z.render=function(){var Z=this.props,le=Z.blockRenderMap,ue=Z.blockRendererFn,ce=Z.blockStyleFn,se=Z.customStyleFn,ve=Z.customStyleMap,Te=Z.editorState,Se=Z.preventScroll,he=Z.readOnly,pe=Z.textAlignment,we=Z.textDirectionality,_e=R({"DraftEditor/root":!0,"DraftEditor/alignLeft":pe==="left","DraftEditor/alignRight":pe==="right","DraftEditor/alignCenter":pe==="center"}),De={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},Ee=this.props.role||"textbox",Fe=Ee==="combobox"?!!this.props.ariaExpanded:null,Je={blockRenderMap:le,blockRendererFn:ue,blockStyleFn:ce,customStyleMap:n({},a,ve),customStyleFn:se,editorKey:this._editorKey,editorState:Te,preventScroll:Se,textDirectionality:we};return v.createElement("div",{className:_e},this._renderPlaceholder(),v.createElement("div",{className:R("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":he?null:this.props.ariaActiveDescendantID,"aria-autocomplete":he?null:this.props.ariaAutoComplete,"aria-controls":he?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":he?null:Fe,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":he?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:R({notranslate:!he,"public/DraftEditor/content":!0}),contentEditable:!he,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:he?null:Ee,spellCheck:U&&this.props.spellCheck,style:De,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(V,{editor:this,editorState:Te}),v.createElement(d,t({},Je,{key:"contents"+this.state.contentsKey})))))},z.componentDidMount=function(){this._blockSelectEvents=!1,!G&&P("draft_ods_enabled")&&(G=!0,y.initODS()),this.setMode("edit"),B&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):globalThis.execCommand("AutoUrlDetect",!1,!1))},z.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},te})(v.Component);return o(Y,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:s,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:I,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),uT=Y,uT}var fV={},pV;function Tfe(){return pV||(pV=1),fV}var dT,gV;function mV(){if(gV)return dT;gV=1;var e={stringify:function(n){return"_"+String(n)},unstringify:function(n){return n.slice(1)}};return dT=e,dT}var hT,vV;function Mfe(){if(vV)return hT;vV=1;var e=mV(),t=hd(),n=t.strlen;function r(o,i){var s=[];return o.findEntityRanges(function(a){return!!a.getEntity()},function(a,c){var d=o.getText(),h=o.getEntityAt(a);s.push({offset:n(d.slice(0,a)),length:n(d.slice(a,c)),key:Number(i[e.stringify(h)])})}),s}return hT=r,hT}var fT,yV;function Ofe(){if(yV)return fT;yV=1;var e=hd(),t=ug(),n=function(c,d){return c===d},r=function(c){return!!c},o=[];function i(a,c,d){var h=[],f=c.map(function(g){return g.has(d)}).toList();return t(f,n,r,function(g,m){var y=a.getText();h.push({offset:e.strlen(y.slice(0,g)),length:e.strlen(y.slice(g,m)),style:d})}),h}function s(a){var c=a.getCharacterList().map(function(h){return h.getStyle()}).toList(),d=c.flatten().toSet().map(function(h){return i(a,c,h)});return Array.prototype.concat.apply(o,d.toJS())}return fT=s,fT}var pT,bV;function Rfe(){if(bV)return pT;bV=1;function e(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){t(m,S,b[S])})}return m}function t(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}var n=ld(),r=Ns(),o=mV(),i=Mfe(),s=Ofe(),a=rr(),c=function(y,b){return{key:y.getKey(),text:y.getText(),type:y.getType(),depth:y.getDepth(),inlineStyleRanges:s(y),entityRanges:i(y,b),data:y.getData().toObject()}},d=function(y,b,v,S){if(y instanceof n){v.push(c(y,b));return}y instanceof r||a(!1);var E=y.getParentKey(),T=S[y.getKey()]=e({},c(y,b),{children:[]});if(E){S[E].children.push(T);return}v.push(T)},h=function(y,b){var v=b.entityMap,S=[],E={},T={},R=0;return y.getBlockMap().forEach(function(M){M.findEntityRanges(function(I){return I.getEntity()!==null},function(I){var N=M.getEntityAt(I),P=o.stringify(N);T[P]||(T[P]=N,v[P]="".concat(R),R++)}),d(M,v,S,E)}),{blocks:S,entityMap:v}},f=function(y,b){var v=b.blocks,S=b.entityMap,E={};return Object.keys(S).forEach(function(T,R){var M=y.getEntity(o.unstringify(T));E[R]={type:M.getType(),mutability:M.getMutability(),data:M.getData()}}),{blocks:v,entityMap:E}},g=function(y){var b={entityMap:{},blocks:[]};return b=h(y,b),b=f(y,b),b};return pT=g,pT}var gT,wV;function Ife(){if(wV)return gT;wV=1;function e(c){for(var d=1;d<arguments.length;d++){var h=arguments[d]!=null?arguments[d]:{},f=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(h).filter(function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),f.forEach(function(g){t(c,g,h[g])})}return c}function t(c,d,h){return d in c?Object.defineProperty(c,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[d]=h,c}var n=Qa(),r=rr(),o=function(d,h){for(var f=[].concat(d).reverse();f.length;){var g=f.pop();h(g);var m=g.children;Array.isArray(m)||r(!1),f=f.concat([].concat(m.reverse()))}},i=function(d){if(!(d&&d.type))return!1;var h=d.type;return h==="unordered-list-item"||h==="ordered-list-item"},s=function(d){Array.isArray(d.children)&&(d.children=d.children.map(function(h){return h.type===d.type?e({},h,{depth:(d.depth||0)+1}):h}))},a={fromRawTreeStateToRawState:function(d){var h=d.blocks,f=[];return Array.isArray(h)||r(!1),!Array.isArray(h)||!h.length?d:(o(h,function(g){var m=e({},g);i(g)&&(m.depth=m.depth||0,s(g),g.children!=null&&g.children.length>0)||(delete m.children,f.push(m))}),d.blocks=f,e({},d,{blocks:f}))},fromRawStateToRawTreeState:function(d){var h=[],f=[];return d.blocks.forEach(function(g){var m=i(g),y=g.depth||0,b=e({},g,{children:[]});if(!m){h.push(b);return}var v=f[0];if(v==null&&y===0)h.push(b);else if(v==null||v.depth<y-1){var S={key:n(),text:"",depth:y-1,type:g.type,children:[],entityRanges:[],inlineStyleRanges:[]};f.unshift(S),y===1?h.push(S):v?.children.push(S),S.children.push(b)}else if(v.depth===y-1)v.children.push(b);else{for(;v!=null&&v.depth>=y;)f.shift(),v=f[0];y>0?v.children.push(b):h.push(b)}}),e({},d,{blocks:h})}};return gT=a,gT}var mT,SV;function Pfe(){if(SV)return mT;SV=1,x1();var e={isValidBlock:function(n,r){var o=n.getKey(),i=n.getParentKey();if(i!=null){var s=r.get(i);if(!s.getChildKeys().includes(o))return!1}var a=n.getChildKeys().map(function(g){return r.get(g)});if(!a.every(function(g){return g.getParentKey()===o}))return!1;var c=n.getPrevSiblingKey();if(c!=null){var d=r.get(c);if(d.getNextSiblingKey()!==o)return!1}var h=n.getNextSiblingKey();if(h!=null){var f=r.get(h);if(f.getPrevSiblingKey()!==o)return!1}return!(h!==null&&c!==null&&c===h||n.text!=""&&n.getChildKeys().size>0)},isConnectedTree:function(n){var r=n.toArray().filter(function(m){return m.getParentKey()==null&&m.getPrevSiblingKey()==null});if(r.length!==1)return!1;for(var o=r.shift(),i=0,s=o.getKey(),a=[];s!=null;){var c=n.get(s),d=c.getChildKeys(),h=c.getNextSiblingKey();if(d.size>0){h!=null&&a.unshift(h);var f=d.map(function(m){return n.get(m)}),g=f.find(function(m){return m.getPrevSiblingKey()==null});if(g==null)return!1;s=g.getKey()}else c.getNextSiblingKey()!=null?s=c.getNextSiblingKey():s=a.shift();i++}return i===n.size},isValidTree:function(n){var r=this,o=n.toArray();return o.every(function(i){return r.isValidBlock(i,n)})?this.isConnectedTree(n):!1}};return mT=e,mT}var vT,CV;function kfe(){if(CV)return vT;CV=1;var e=Ls(),t=Jn(),n=t.List;function r(o,i){var s=o.map(function(a,c){var d=i[c];return e.create({style:a,entity:d})});return n(s)}return vT=r,vT}var yT,xV;function Dfe(){if(xV)return yT;xV=1;var e=hd(),t=e.substr;function n(r,o){var i=Array(r.length).fill(null);return o&&o.forEach(function(s){for(var a=t(r,0,s.offset).length,c=a+t(r,s.offset,s.length).length,d=a;d<c;d++)i[d]=s.key}),i}return yT=n,yT}var bT,_V;function Afe(){if(_V)return bT;_V=1;var e=hd(),t=Jn(),n=t.OrderedSet,r=e.substr,o=n();function i(s,a){var c=Array(s.length).fill(o);return a&&a.forEach(function(d){for(var h=r(s,0,d.offset).length,f=h+r(s,d.offset,d.length).length;h<f;)c[h]=c[h].add(d.style),h++}),c}return bT=i,bT}var wT,EV;function Lfe(){if(EV)return wT;EV=1;function e(B){for(var U=1;U<arguments.length;U++){var K=arguments[U]!=null?arguments[U]:{},G=Object.keys(K);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(K).filter(function(V){return Object.getOwnPropertyDescriptor(K,V).enumerable}))),G.forEach(function(V){t(B,V,K[V])})}return B}function t(B,U,K){return U in B?Object.defineProperty(B,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):B[U]=K,B}var n=ld(),r=Ns(),o=F_(),i=Ky(),s=Ife();Pfe();var a=qy(),c=kfe(),d=Dfe(),h=Afe(),f=Qa(),g=Bc(),m=Jn(),y=rr(),b=g("draft_tree_data_support"),v=m.List,S=m.Map,E=m.OrderedMap,T=function(U,K){var G=U.key,V=U.type,Y=U.data,Q=U.text,te=U.depth,z={text:Q,depth:te||0,type:V||"unstyled",key:G||f(),data:S(Y),characterList:R(U,K)};return z},R=function(U,K){var G=U.text,V=U.entityRanges,Y=U.inlineStyleRanges,Q=V||[],te=Y||[];return c(h(G,te),d(G,Q.filter(function(z){return K.hasOwnProperty(z.key)}).map(function(z){return e({},z,{key:K[z.key]})})))},M=function(U){return e({},U,{key:U.key||f()})},I=function(U,K,G){var V=K.map(function(Y){return e({},Y,{parentRef:G})});return U.concat(V.reverse())},N=function(U,K){return U.map(M).reduce(function(G,V,Y){Array.isArray(V.children)||y(!1);var Q=V.children.map(M),te=new r(e({},T(V,K),{prevSibling:Y===0?null:U[Y-1].key,nextSibling:Y===U.length-1?null:U[Y+1].key,children:v(Q.map(function(Te){return Te.key}))}));G=G.set(te.getKey(),te);for(var z=I([],Q,te);z.length>0;){var W=z.pop(),Z=W.parentRef,le=Z.getChildKeys(),ue=le.indexOf(W.key),ce=Array.isArray(W.children);if(!ce){ce||y(!1);break}var se=W.children.map(M),ve=new r(e({},T(W,K),{parent:Z.getKey(),children:v(se.map(function(Te){return Te.key})),prevSibling:ue===0?null:le.get(ue-1),nextSibling:ue===le.size-1?null:le.get(ue+1)}));G=G.set(ve.getKey(),ve),z=I(z,se,ve)}return G},E())},P=function(U,K){return E(U.map(function(G){var V=new n(T(G,K));return[V.getKey(),V]}))},L=function(U,K){var G=U.blocks.find(function(Q){return Array.isArray(Q.children)&&Q.children.length>0}),V=b&&!G?s.fromRawStateToRawTreeState(U).blocks:U.blocks;if(!b)return P(G?s.fromRawTreeStateToRawState(U).blocks:V,K);var Y=N(V,K);return Y},A=function(U){var K=U.entityMap,G={};return Object.keys(K).forEach(function(V){var Y=K[V],Q=Y.type,te=Y.mutability,z=Y.data;G[V]=i.__create(Q,te,z||{})}),G},$=function(U){Array.isArray(U.blocks)||y(!1);var K=A(U),G=L(U,K),V=G.isEmpty()?new a:a.createEmpty(G.first().getKey());return new o({blockMap:G,entityMap:K,selectionBefore:V,selectionAfter:V})};return wT=$,wT}var ST,TV;function Nfe(){if(TV)return ST;TV=1;var e=Rj();function t(n){var r=e(n),o=0,i=0,s=0,a=0;if(r.length){if(r.length>1&&r[0].width===0){var c=r[1];o=c.top,i=c.right,s=c.bottom,a=c.left}else{var d=r[0];o=d.top,i=d.right,s=d.bottom,a=d.left}for(var h=1;h<r.length;h++){var f=r[h];f.height!==0&&f.width!==0&&(o=Math.min(o,f.top),i=Math.max(i,f.right),s=Math.max(s,f.bottom),a=Math.min(a,f.left))}}return{top:o,right:i,bottom:s,left:a,width:i-a,height:s-o}}return ST=t,ST}var CT,MV;function Bfe(){if(MV)return CT;MV=1;var e=Nfe();function t(n){var r=n.getSelection();if(!r.rangeCount)return null;var o=r.getRangeAt(0),i=e(o),s=i.top,a=i.right,c=i.bottom,d=i.left;return s===0&&a===0&&c===0&&d===0?null:i}return CT=t,CT}var xT,OV;function Ffe(){if(OV)return xT;OV=1;var e=uhe(),t=cg(),n=Ls(),r=dhe(),o=ld(),i=F_(),s=Q_(),a=kB(),c=Efe(),d=HF(),h=Ky(),f=Ni(),g=uB(),m=Fr(),y=P1(),b=Tfe(),v=nV(),S=qy(),E=Rfe(),T=Lfe(),R=Qa(),M=dV(),I=Bfe(),N=Qj(),P={Editor:c,EditorBlock:d,EditorState:m,CompositeDecorator:r,Entity:h,EntityInstance:g,BlockMapBuilder:t,CharacterMetadata:n,ContentBlock:o,ContentState:i,RawDraftContentState:b,SelectionState:S,AtomicBlockUtils:e,KeyBindingUtil:y,Modifier:f,RichUtils:v,DefaultDraftBlockRenderMap:s,DefaultDraftInlineStyle:a,convertFromHTML:N,convertFromRaw:T,convertToRaw:E,genKey:R,getDefaultKeyBinding:M,getVisibleSelectionRect:I};return xT=P,xT}var Bs=Ffe();const RV=Bp[0],_T=16,IV="#000000",PV=["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH"];let jfe=0;function kV(e,t){return{type:"unstyled",depth:0,key:"block"+ ++jfe,entityRanges:[],inlineStyleRanges:t,text:e}}function ET(e,t){const n=e+"_";return t.startsWith(n)?t.split("_")[1]:null}function TT(e,t){const n=e+"_";return t.find(r=>!!r&&r.startsWith(n))?.split("_")[1]||null}function Vfe(e){const t=[];let n="",r=[];for(const o of e.parts){const i=XC(o.fgcolor),{fontFamily:s,style:a,size:c,name:d}=o.font,h=d==="Symbol",f=a&1,g=a&2,m=a&4,y=a&8,b=[`color_${i}`,`fontSize_${c||_T}px`,`fontFamily_${s}`];f&&b.push("ITALIC"),g&&b.push("UNDERLINE"),m&&b.push("STRIKETHROUGH"),y&&b.push("BOLD");let v=!1;for(const S of o.string.text.split(`\r
`).join(`
`).split(`
`)){const E=h?IC(S):S;if(v&&(t.push(kV(n,r)),n="",r=[]),v=!0,!E)continue;const T=n.length,R=E.length;b.forEach(M=>r.push({offset:T,length:R,style:M})),n+=E}}return n&&t.push(kV(n,r)),{blocks:t,entityMap:{}}}function $fe(e,{blocks:t}){const{scene:n}=e,r=[];let o=null;for(let i=0;i<t.length;++i){const{text:s,inlineStyleRanges:a}=t[i];for(let c=0;c<s.length;++c){let d=!1,h=!1,f=!1,g=!1,m=0,y=0,b="";for(const S of a){if(c<S.offset||c>=S.offset+S.length)continue;const E=S.style;let T;E==="BOLD"?d=!0:E==="ITALIC"?h=!0:E==="STRIKETHROUGH"?f=!0:E==="UNDERLINE"?g=!0:(T=ET("color",E))?m||=ZC(T):(T=ET("fontSize",E))?y||=parseInt(T):(T=ET("fontFamily",E))&&(b||=T)}const v=(h?1:0)|(g?2:0)|(f?4:0)|(d?8:0);(!o||o.fgcolor!==m||o.font.size!==y||o.font.style!==v||o.font.name!==b)&&(o={fgcolor:m,string:n.string(""),font:n.font({size:y,style:v,name:b})},r.push(e.createPart(o,!0))),o.string.set({text:o.string.text+s[c]})}i!==t.length-1&&(o?o.string.set({text:o.string.text+`\r
`}):(o={string:n.string(`\r
`),font:n.font()},r.push(e.createPart(o,!0))))}e.set({parts:r})}function MT(e,t,n){const r=t+"_",o=r+n,i=e.getSelection(),s=e.getCurrentInlineStyle(),a=f=>!!f&&f.startsWith(r);if(i.isCollapsed())return Bs.EditorState.setInlineStyleOverride(e,s.filter(f=>!a(f)).toSet().add(o));let c=e.getCurrentContent();const d=s.filter(a).toArray();let h;for(;h=d.pop();)c=Bs.Modifier.removeInlineStyle(c,i,h);return c=Bs.Modifier.applyInlineStyle(c,i,o),Bs.EditorState.push(e,c,"change-inline-style")}class zfe{constructor(t,n){this.isClosed=!1,this.fontDecorations=[],this.fontSize=_T.toString(),this.fontColor=IV,this.fontName=RV,this.text=n,this.state=Bs.EditorState.createWithContent(Bs.convertFromRaw(Vfe(n))),vt(this,{isClosed:Pe.ref,state:Pe.ref,fontDecorations:Pe.ref,fontSize:Pe.ref,fontColor:Pe.ref,fontName:Pe.ref,setState:ye,set:ye,applyAndClose:ye,close:ye})}setState(t){this.state=t;const n=t.getCurrentInlineStyle();if(!n)return;this.fontDecorations=PV.filter(o=>n.has(o)),this.fontName=TT("fontFamily",n)||RV,this.fontColor=TT("color",n)||IV;const r=TT("fontSize",n);this.fontSize=(r&&parseInt(r)||_T).toString()}set({fontDecorations:t=this.fontDecorations,fontSize:n=this.fontSize,fontColor:r=this.fontColor,fontName:o=this.fontName}){let{state:i}=this;const s=i.getCurrentInlineStyle();for(const a of PV){const c=t.includes(a),d=s.has(a);c!==d&&(i=Bs.RichUtils.toggleInlineStyle(i,a))}i=MT(i,"fontSize",n+"px"),i=MT(i,"color",r),i=MT(i,"fontFamily",o),this.state=i,this.fontDecorations=t,this.fontSize=n,this.fontColor=r,this.fontName=o}applyAndClose(){const t=Bs.convertToRaw(this.state.getCurrentContent());if(t.blocks.length!==1||t.blocks[0].text){const{text:n}=this;$fe(n,t)}this.isClosed=!0}close(){this.isClosed=!0}}class fd{constructor(t,n,{key:r,data:o}){this.scene=t,this.m=n,this.subs=new Set,this.key=r||Os.freeKey(n),this.key>0&&this.m.set(this.key,this),this.data=o?{...o}:{}}delete(){return this.subs.size?!1:(this.key>0&&this.m.delete(this.key),this.key=0,!0)}toJSON(){const{key:t,data:n}=this;let r;for(const o in n){const i=n[o];typeof i<"u"&&((r||={})[o]=i)}return r?{key:t,data:r}:{key:t}}}class Kh extends fd{constructor(t,n){super(t,t.objects,n),this.parent=null,this._deletedByParent=!1;const{x:r,y:o,width:i,height:s,attrib:a}=n;this.x=r||0,this.y=o||0,this.width=i||0,this.height=s||0,this.attrib=a||0}delete(){if(super.delete(),this._deletedByParent)return!0;const{parent:t,scene:n}=this;return t?.set({children:t.children.filter(r=>r.key)}),n.set({order:n.order.filter(r=>r.key)}),!0}set({x:t=this.x,y:n=this.y,attrib:r=this.attrib,width:o=this.width,height:i=this.height}){let s=!1;const a=t-this.x,c=n-this.y;if((a!==0||c!==0)&&(this._onMoved(a,c),s=!0),this.width!==o||this.height!==i){const d=this.width||1,h=this.height||1,f=o&&o>0?o:d,g=i&&i>0?i:h,m=f/d,y=g/h;(m!==1||y!==1)&&(this._onResized(this.x,this.y,m,y),s=!0)}return this.attrib!==r&&(this.attrib=r,this.onAttribChanged()),s&&this.parent?._childChanged(),this}rotate(t,n){if(t===0)return this;const r=n?.x??this.x,o=n?.y??this.y;return this._onRotated(r,o,t),this.parent?._childChanged(),this}isVisible(){const t=this.attrib;return t&Bl?!0:!(t&Ua||1<<Zu(t)&this.scene.hiddenLayers)}updateBBox(t,n,r,o){this.x=t,this.y=n,this.width=r,this.height=o}_onMoved(t,n){this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,o){const i=t+(this.x-t)*r,s=n+(this.y-n)*o,a=(this.width||1)*r,c=(this.height||1)*o;this.updateBBox(i,s,a,c)}_onRotated(t,n,r){const o=Math.sin(r),i=Math.cos(r),s=this.x-t,a=this.y-n,c=s*i-a*o+t,d=s*o+a*i+n;this.updateBBox(c,d,this.width,this.height)}toJSON(){const{attrib:t,height:n,width:r,x:o,y:i}=this;return{...super.toJSON(),attrib:t,height:n,width:r,x:o,y:i}}toString(){return"Графический элемент"}}class Ufe extends Kh{constructor(t,n,r){super(t,r),this.type="group",this.children=[],this.set({...r,children:n})}delete(t){return this.children.forEach(n=>{n._deletedByParent=!0,n.delete(t)}),super.delete()}set(t,n){typeof t.children<"u"&&(this.children.forEach(o=>o.parent=null),this.children=t.children,this.children.forEach(o=>o.parent=this),this.children.length>0?this._childChanged():(this.updateBBox(this.x,this.y,0,0),this.parent?._childChanged()));const{attrib:r}=t;return typeof r<"u"&&!n&&this.children.forEach(o=>o.set({attrib:r})),super.set(t)}_childChanged(){let t=1/0,n=-1/0,r=1/0,o=-1/0;this.children.forEach(i=>{t=Math.min(t,i.x),r=Math.min(r,i.y),n=Math.max(n,i.x+i.width),o=Math.max(o,i.y+i.height)}),this.updateBBox(t,r,n-t,o-r),this.parent?._childChanged()}_onMoved(t,n){if(this.children.length===0){super._onMoved(t,n);return}this.children.forEach(r=>r._onMoved(t,n)),this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,o){if(this.children.length===0){super._onResized(t,n,r,o);return}let i=1/0,s=-1/0,a=1/0,c=-1/0;this.children.forEach(d=>{d._onResized(t,n,r,o),i=Math.min(i,d.x),a=Math.min(a,d.y),s=Math.max(s,d.x+d.width),c=Math.max(c,d.y+d.height)}),this.updateBBox(i,a,s-i,c-a)}_onRotated(t,n,r){if(this.children.length===0){super._onRotated(t,n,r);return}let o=1/0,i=-1/0,s=1/0,a=-1/0;this.children.forEach(c=>{c._onRotated(t,n,r),o=Math.min(o,c.x),s=Math.min(s,c.y),i=Math.max(i,c.x+c.width),a=Math.max(a,c.y+c.height)}),this.updateBBox(o,s,i-o,a-s)}*descendants(t){for(const n of this.children)t&&n.key<=0||(n.type==="group"&&(yield*n.descendants(t)),yield n)}onAttribChanged(){}toJSON(){const{type:t}=this,{x:n,y:r,width:o,height:i,...s}=super.toJSON(),a=this.children.filter(c=>c.key>0).map(c=>c.key);return{...s,type:t,children:a}}toString(){return"Группа"}}class DV{constructor(){this.type="scene",this.onInputChanged=new pa,this.objects=new Map,this.pens=new Map,this.brushes=new Map,this.images=new Map,this.imagesOpaque=new Map,this.strings=new Map,this.fonts=new Map,this.texts=new Map,this.x=0,this.y=0,this.order=[],this.background=null,this.hiddenLayers=0,this.grid=null,this.selectUnselectable=!1,this.disableInputs=!1}init(t){if(!t)return;this.set({...t,background:void 0,order:void 0}).merge(t,"exact");const n=t.background&&this.brushes.get(t.background);n&&this.set({background:n})}set({x:t=this.x,y:n=this.y,order:r=this.order,hiddenLayers:o=this.hiddenLayers,selectUnselectable:i=this.selectUnselectable,disableInputs:s=this.disableInputs,grid:a=this.grid,background:c=this.background}){return this.background!==c&&(this.background?.subs.delete(this),this.background=c,this.background?.subs.add(this),this.onBackgroundChanged()),this.disableInputs!==s&&(this.disableInputs=s,this.onDisableInputsChanged()),(this.x!==t||this.y!==n)&&(this.x=Math.round(t),this.y=Math.round(n),this.onOriginChanged()),this.hiddenLayers!==o&&(this.hiddenLayers=o,this.onLayersChanged()),this.order=r,this.selectUnselectable=i,this.grid=a,this}pick(t,n){const{order:r,hiddenLayers:o,selectUnselectable:i}=this;for(let s=r.length-1;s>=0;--s){const a=r[s],c=a.attrib,d=c&Ua,h=c&Bl,f=c&Rs,g=c&Ap,m=Zu(c);if(d||g&&!i||!h&&1<<m&o||f)continue;let y=t-a.x,b=n-a.y,v=0;if(a.type==="line"){if(a.pen)v=a.pen.width/2||.5;else if(!a.brush)continue;v=Math.max(v,4)}else if(a.type==="textView"||a.type==="imageView"){const S=Math.sin(-a.angle),E=Math.cos(-a.angle),T=y*E-b*S,R=y*S+b*E;y=T,b=R}if(!(y<-v||y>a.width+v||b<-v||b>a.height+v)&&!(a.type==="line"&&!a.inside(y,b,v)))return a}return null}toJSON(){const{background:t,x:n,y:r,hiddenLayers:o,selectUnselectable:i,grid:s,pens:a,brushes:c,images:d,imagesOpaque:h,fonts:f,strings:g,texts:m,objects:y,order:b}=this;return{background:t?.key,x:n,y:r,hiddenLayers:o,selectUnselectable:i,grid:s,pens:[...a.values()].map(v=>v.toJSON()),brushes:[...c.values()].map(v=>v.toJSON()),images:[...d.values()].map(v=>v.toJSON()),imagesOpaque:[...h.values()].map(v=>v.toJSON()),fonts:[...f.values()].map(v=>v.toJSON()),strings:[...g.values()].map(v=>v.toJSON()),texts:[...m.values()].map(v=>v.toJSON()),objects:[...y.values()].map(v=>v.toJSON()),order:b.filter(v=>v.key>0).map(v=>v.key)}}merge(t,n="free",r){const o=n==="free"?0:-1;function i(P,L){return n==="exact"?L?{...P,...L}:P:{...P,...L,key:o}}const s=t.pens?.map(P=>[P.key,this.pen(i(P))]),a=t.images?.map(P=>[P.key,this.image(P,i(P))]),c=t.imagesOpaque?.map(P=>[P.key,this.image(P,i(P,{opaque:!0}))]),d=t.fonts?.map(P=>[P.key,this.font(i(P))]),h=t.strings?.map(P=>[P.key,this.string(P.text||"",i(P))]),f=s?new Map(s):this.pens,g=a?new Map(a):this.images,m=c?new Map(c):this.imagesOpaque,y=d?new Map(d):this.fonts,b=h?new Map(h):this.strings,v=t.brushes?.map(P=>{const L=P.image&&m.get(P.image)||null;return[P.key,this.brush(i(P,{image:L}))]}),S=v?new Map(v):this.brushes,E=t.texts?.map(P=>{const L=P.parts.map((A,$)=>{const B=y.get(A.font)||Fc(`Текст #${P.key}[${$}]: Шрифт #${A.font} не существует`),U=b.get(A.string)||Fc(`Текст #${P.key}[${$}]: Строка #${A.string} не существует`);return{...A,font:B,string:U}});return[P.key,this.text(L,i(P))]}),T=E?new Map(E):this.texts,R=[],M=t.objects?.map(P=>{switch(P.type){case"line":{const L=P.pen&&f.get(P.pen)||null,A=P.brush&&S.get(P.brush)||null;return[P.key,this.line(P.coords,i(P,{pen:L,brush:A}))]}case"imageView":{const A=(P.opaque?m:g).get(P.image)||Fc(`ImageView (opaque: ${P.opaque}) #${P.key}: Изображение #${P.image} не существует`);return[P.key,this.imageView(A,i(P))]}case"textView":{const L=T.get(P.text)||Fc(`TextView #${P.key}: Текст #${P.text} не существует`);return[P.key,this.textView(L,i(P))]}case"input":{const L=P.font&&y.get(P.font)||null;return[P.key,this.input(P.inputType,i(P,{font:L}))]}case"videoView":return[P.key,this.video(P.src,i(P))];case"group":{const L=this.group([],i(P));return R.push({g:L,o:P}),[P.key,L]}case"3dView":throw Error(`Объект #${P.key} является 3D проекцией. Они еще не реализованы.`)}}),I=new Map(M);for(const{g:P,o:L}of R){const A=L.children.map($=>I.get($)||Fc(`Группа #${P.key}: Объект #${$} не существует.`));P.set({children:A})}const N=t.order?.map(P=>{const L=I.get(P)||Fc(`Объект #${P} не существует и не может быть отображен.`);return L.type==="group"&&Fc(`Объект #${P} является группой и не может быть отображен.`),L});return!r&&N?.length&&this.set({order:this.order.concat(N)}),{objects:I,brushes:S,fonts:y,images:g,imagesOpaque:m,pens:f,strings:b,texts:T,order:N||[]}}_exist(t,n){return n&&n.key&&n.key>0&&t.get(n.key)}_not(t,n){return n&&n.key&&n.key>0&&t.get(n.key)&&Fc(`Объект #${n.key} уже существует`),!0}group(t,n={}){return this._not(this.objects,n)&&new Ufe(this,t,n)}line(t,n){return this._not(this.objects,n)&&this.createLine(t,n)}imageView(t,n){return this._not(this.objects,n)&&this.createImageView(t,n)}textView(t,n){return this._not(this.objects,n)&&this.createTextView(t,n)}input(t,n){return this._not(this.objects,n)&&this.createInput(t,n)}video(t,n){return this._not(this.objects,n)&&this.createVideo(t,n)}pen(t){return this._exist(this.pens,t)||this.createPen(t)}brush(t){return this._exist(this.brushes,t)||this.createBrush(t)}image(t,n){return this._exist(n?.opaque?this.imagesOpaque:this.images,n)||this.createImage(t,n)}string(t,n){return this._exist(this.strings,n)||this.createString(t,n)}font(t){return this._exist(this.fonts,t)||this.createFont(t)}text(t,n){return this._exist(this.texts,n)||this.createText(t,n)}}function Fc(e){throw Error(e)}class AV extends fd{constructor(t,n){super(t,t.brushes,n),this.type="brush",this.color=0,this.style=0,this.rop=0,this.hatch=0,this.image=null,this.set(n)}set({color:t=this.color,hatch:n=this.hatch,image:r=this.image,rop:o=this.rop,style:i=this.style}){let s=!1;return this.image!==r&&(this.image?.subs.delete(this),this.image=r,this.image?.subs.add(this),s=!0),(this.color!==t||this.style!==i||this.rop!==o||this.hatch!==n)&&(this.color=t,this.style=i,this.rop=o,this.hatch=n,s=!0),s&&this.subs.forEach(a=>a._onBrushPropsChanged()),this}toJSON(){const{color:t,hatch:n,image:r,rop:o,style:i}=this;return{...super.toJSON(),color:t,hatch:n,image:r?.key,rop:o,style:i}}delete(t){if(!super.delete())return!1;const{image:n}=this;return n&&(n.subs.delete(this),t||n.delete()),!0}}const Hfe=7,Gfe=9,Wfe=10,Kfe=0,qfe=1,Yfe=3;class Xfe extends AV{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Xu(t)||""),this._cssColor}getGlobalCompositeOperation(){switch(this.rop){case Gfe:return"multiply";case Wfe:return"multiply";case Hfe:return"difference";default:return""}}getFillStyle(t){switch(this.style){case Kfe:return this.getCssColor();case qfe:return null;case Yfe:return this.image?.getCanvasPattern(t)??"black";default:return"white"}}_onImageChanged(){this.subs.forEach(t=>t._onBrushPropsChanged())}}const Zfe=Bp.map(e=>e.toUpperCase());function Qfe(e){if(!e)return Bp[0];if(e==="Symbol")return"Times New Roman";const t=e.toUpperCase(),n=t.endsWith(" CYR")?t.slice(0,-4):t;return Bp[Math.max(Zfe.indexOf(n),0)]}class LV extends fd{constructor(t,n){super(t,t.fonts,n),this.name="",this.size=0,this.style=0,this._fontFamily="",this.set(n)}get fontFamily(){return this._fontFamily||=Qfe(this.name)}set({name:t=this.name,size:n=this.size,style:r=this.style}){let o=!0;return this.name!==t&&(this.name=t,this._fontFamily="",o=!0),(this.size!==n||this.style!==r)&&(this.size=n,this.style=r,o=!0),o&&(this.onPropsChanged(),this.subs.forEach(i=>i._onFontPropsChanged())),this}toJSON(){const{name:t,size:n,style:r}=this;return{...super.toJSON(),name:t,size:n,style:r}}}class Jfe extends LV{constructor(){super(...arguments),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,size:n,style:r}=this;return this.inputCssFont=`${r&Lp?"bold":"normal"} ${r&ty?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?IC(t):t}onPropsChanged(){this.inputCssFont=""}}class NV extends fd{constructor(t,{width:n,height:r,src:o},i){super(t,i.opaque?t.imagesOpaque:t.images,i),this.width=n,this.height=r,this.src=o}toJSON(){const{height:t,src:n,width:r}=this;return{...super.toJSON(),height:t,src:n,width:r}}}const BV=new Map,FV=new Map;async function epe(e){const t=await LC(e),n=await createImageBitmap(t);return FV.set(e,n),n}class tpe{constructor(t){this.shouldUpdateCanvas=!1;const n=Rh(t.width,t.height),r=n.getContext("2d",{alpha:!1});r.drawImage(t,0,0),this.imageCtx=r,this.imageData=r.getImageData(0,0,n.width,n.height)}getCanvasImageSource(){const{imageCtx:t}=this;return this.shouldUpdateCanvas&&(this.shouldUpdateCanvas=!1,t.putImageData(this.imageData,0,0)),t.canvas}getPixel(t,n){const{imageData:r}=this;if(t<0||n<0||t>=r.width||n>=r.height)return 0;const{data:o}=r,i=(Math.floor(n)*r.width+Math.floor(t))*4;return ga(o[i],o[i+1],o[i+2],"rgb")}setPixel(t,n,r){const o=this.imageData,{data:i}=o,s=(Math.floor(n)*o.width+Math.floor(t))*4;i[s+0]=Ik(r),i[s+1]=Pk(r),i[s+2]=kk(r),i[s+3]=255,this.shouldUpdateCanvas=!0}}class npe extends NV{constructor(t,n,r){super(t,n,r),this.patternCache=new WeakMap,this.imageBitmap=null,this.pixelsWrapper=null;const o=Ji(this.src),i=FV.get(o);if(i){this.imageBitmap=i;return}let s=BV.get(o);s||(s=epe(o),BV.set(o,s)),s.then(a=>{this.imageBitmap=a,this.subs.forEach(c=>c._onImageChanged())})}getPixelsWrapper(){if(this.pixelsWrapper)return this.pixelsWrapper;const{imageBitmap:t}=this;return t?this.pixelsWrapper=new tpe(t):null}getPixel(t,n){return this.getPixelsWrapper()?.getPixel(t,n)||0}setPixel(t,n,r){if(t<0||n<0||t>this.width||n>this.height)return!1;const o=this.getPixelsWrapper();return o&&(o.setPixel(t,n,r),this.subs.forEach(i=>i._onImageChanged())),!0}getCanvasPattern(t){const n=this.getCanvasImageSource();if(!n)return null;const r=this.patternCache.get(t);if(r)return r;const o=t.createPattern(n,"repeat");return o?(this.patternCache.set(t,o),o):null}getCanvasImageSource(){return this.pixelsWrapper?.getCanvasImageSource()||this.imageBitmap}}class jV extends Kh{constructor(t,n,r){const o={...r,width:r.width??n.width,height:r.height??n.height,image:n};super(t,o),this.type="imageView",this.area=null,this.image=n,n.subs.add(this),this.opaque=r.opaque||!1,this.angle=r.angle||0,this.set(o)}set({area:t=this.area,image:n=this.image,...r}){let o=!1;return this.image!==n&&(this.image.subs.delete(this),this.image=n,this.image.subs.add(this),o=!0),this.area!==t&&(this.area=t,o=!0),super.set(r),o&&this.onPropsChanged(),this}_onRotated(t,n,r){this.angle+=r,super._onRotated(t,n,r)}toJSON(){const{image:t,area:n,opaque:r,type:o,angle:i}=this;return{...super.toJSON(),type:o,image:t.key,area:n,opaque:r,angle:i}}delete(t){const{image:n}=this;return n.subs.delete(this),t||n.delete(),super.delete()}toString(){return"Картинка"}}class rpe extends jV{constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,area:o,width:i,height:s}=this,{width:a,height:c}=t.canvas;let d=Math.round(this.x-n.x),h=Math.round(this.y-n.y);if(r){const y=Math.cos(r),b=Math.sin(r),v=i*y,S=i*b,E=v-s*b,T=S+s*y,R=-s*b,M=s*y,I=d+Math.min(0,v,E,R),N=d+Math.max(0,v,E,R),P=h+Math.min(0,S,T,M),L=h+Math.max(0,S,T,M);if(I>a||P>c||N<0||L<0)return}else if(d>a||h>c||d+i<0||h+s<0)return;const f=this.isVisible()&&this.image.getCanvasImageSource();if(!f)return;r&&(t.save(),t.translate(d,h),t.rotate(r),d=0,h=0);const g=Math.round(this.width),m=Math.round(this.height);if(o){const y=Math.round(o.x),b=Math.round(o.y),v=Math.round(o.w),S=Math.round(o.h);t.drawImage(f,y,b,v,S,d,h,g,m)}else t.drawImage(f,d,h,g,m);r&&t.restore()}onAttribChanged(){this.scene._setDirty()}_onImageChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}updateBBox(t,n,r,o){super.updateBBox(t,n,r,o),this.scene._setDirty()}}const ope=4;class VV extends Kh{constructor(t,n,r){super(t,r),this.type="input",this.value="",this.style=0,this.font=null,this.inputType=n,this.set(r)}get isMultiline(){return!!(this.style&ope)}set({value:t=this.value,style:n=this.style,font:r=this.font,...o}){return this.font!==r&&(this.font?.subs.delete(this),this.font=r,this.font?.subs.add(this)),this.value!==t&&(this.value=t,this.isMultiline?this.value=this.value:t=t.replace(/[\r\n]/g,"")),this.style=n,super.set(o)}toJSON(){const{inputType:t,style:n,font:r,type:o,value:i}=this;return{...super.toJSON(),type:o,inputType:t,exStyle:0,font:r?.key,style:n,value:i}}delete(t){const{font:n}=this;return n&&(n.subs.delete(this),t||n.delete()),super.delete()}toString(){return`Элемент интерфейса '${this.inputType}'`}}const pd={"jf-scene":"yNr0VPwT","jf-input":"doAE-L2e","jf-video":"_8PHlccAK","disable-inputs":"k7TCS6Hm",multiline:"-QksePcc",border:"GnGoYW5X"},ipe=64,spe=128,ape=8388608;class lpe extends VV{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:o=0}=r;let i;n==="Button"?(i=document.createElement("input"),i.type="button",i.addEventListener("click",this)):(i=document.createElement("textarea"),i.addEventListener("input",this)),i.className=pd["jf-input"],i.spellcheck=!1,i.name=`jf-${this.key}`,o&ape&&i.classList.add(pd.border),this.isMultiline&&i.classList.add(pd.multiline),i.addEventListener("focus",this),i.addEventListener("blur",this),this.domElement=i}focus(){this.domElement.focus()}handleEvent(t){const{scene:n,domElement:r,style:o}=this;if(t.type==="input"){if(!(o&spe)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(o&ipe)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this.domElement.value=this._value=this.value);const o=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y),s=Math.round(this.width),a=Math.round(this.height);this._x!==o&&n.setProperty("left",(this._x=o).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==a&&n.setProperty("height",(this._h=a).toString()+"px")}onAttribChanged(){this.scene._setDirty()}_onFontPropsChanged(){this.scene._setDirty()}updateBBox(t,n,r,o){super.updateBBox(t,n,r,o),this.scene._setDirty()}}class $V extends Kh{constructor(t,n,r){super(t,r),this.type="line",this.pen=null,this.brush=null,this.start=null,this.end=null,this.setCoords(n).set(r)}get length(){return this.coords.length/2}set({pen:t=this.pen,brush:n=this.brush,start:r=this.start,end:o=this.end,...i}){let s=!1;return this.pen!==t&&(this.pen?.subs.delete(this),this.pen=t,this.pen?.subs.add(this),s=!0),this.brush!==n&&(this.brush?.subs.delete(this),this.brush=n,this.brush?.subs.add(this),s=!0),(this.start!==r||this.end!==o)&&(this.start=r,this.end=o,s=!0),super.set(i),s&&this.onPropsChanged(),this}addPoint({x:t,y:n},r=this.length){const o=r*2,i=this.coords,s=t-this.x,a=n-this.y;return o<0||o>=i.length?i.push(s,a):i.splice(o,0,s,a),this._pointCountChanged(),!0}point(t){const n=t*2,r=this.coords;return n>=0&&n<r.length?{x:r[n]+this.x,y:r[n+1]+this.y}:null}setPoint(t,{x:n,y:r}){const o=t*2,i=this.coords;return o<0||o>=i.length?!1:(i[o+0]=n-this.x,i[o+1]=r-this.y,this._pointCountChanged(),!0)}removePoint(t){const n=t*2,r=this.coords;return r.length<=2||n<0||n>=r.length?!1:(r.splice(n,2),this._pointCountChanged(),!0)}setCoords(t){if(!t.length||t.length%2)throw Error("Количество координат должно быть четным.");return this.coords=t.slice(),this.x=0,this.y=0,this._pointCountChanged(),this}getIntersectionIndex(t,n){const{coords:r,brush:o,pen:i}=this;let s=0;return i&&(s=i.width/2||.5),s=Math.max(s,4),rk(r,!!o,s,t,n)}inside(t,n,r){const{coords:o,brush:i}=this;return i&&sq(o,t,n)||rk(o,!!i,r,t,n)!==-1}_pointCountChanged(){const t=this.coords;let n=t[0],r=t[1],o=n,i=r;for(let s=2;s<t.length;s+=2){const a=t[s+0],c=t[s+1];a<n&&(n=a),a>o&&(o=a),c<r&&(r=c),c>i&&(i=c)}if(n!==0||r!==0)for(let s=0;s<t.length;s+=2)t[s+0]-=n,t[s+1]-=r;this.updateBBox(this.x+n,this.y+r,o-n,i-r),this.parent?._childChanged(),this.onCoordsChanged()}_onResized(t,n,r,o){const i=this.coords;for(let c=0;c<i.length;c+=2)i[c+0]*=r,i[c+1]*=o;const s=t+(this.x-t)*r,a=n+(this.y-n)*o;this.updateBBox(s,a,this.width*r,this.height*o),this.onCoordsChanged()}_onRotated(t,n,r){const o=this.coords,i=t-this.x,s=n-this.y,a=Math.sin(r),c=Math.cos(r);let d=1/0,h=-1/0,f=1/0,g=-1/0;for(let m=0;m<o.length;m+=2){const y=o[m+0]-i,b=o[m+1]-s,v=y*c-b*a+i,S=y*a+b*c+s;o[m+0]=v,o[m+1]=S,v<d&&(d=v),v>h&&(h=v),S<f&&(f=S),S>g&&(g=S)}if(d!==0||f!==0)for(let m=0;m<o.length;m+=2)o[m+0]-=d,o[m+1]-=f;this.updateBBox(this.x+d,this.y+f,h-d,g-f),this.onCoordsChanged()}toJSON(){const{coords:t,brush:n,end:r,pen:o,start:i,type:s}=this;return{...super.toJSON(),type:s,coords:t.slice(),brush:n?.key,end:r,pen:o?.key,start:i}}delete(t){const{pen:n,brush:r}=this;return n&&(n.subs.delete(this),t||n.delete()),r&&(r.subs.delete(this),t||r.delete(t)),super.delete()}toString(){return"Полилиния"}}class cpe extends $V{constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.sourceOffset=0,this.regionWidth=0,this.regionHeight=0;const o=Rh(0,0);this.lineCtx=o.getContext("2d",{alpha:!0})}updateRegionSize(){const t=Math.max((this.pen?.getLineWidth()||0)/2,this.start?.length||0,this.end?.length||0);this.sourceOffset=t,this.regionWidth=Math.ceil(this.width+t*2),this.regionHeight=Math.ceil(this.height+t*2)}getCanvasImageSource(){const{regionWidth:t,regionHeight:n}=this;if(!t||!n)return null;if(!this.shouldUpdateSource){const d=this.lineCtx.canvas;return d.width&&d.height?d:null}this.shouldUpdateSource=!1;const{coords:r,pen:o,brush:i,lineCtx:s,sourceOffset:a}=this;s.canvas.width=t,s.canvas.height=n,a&&s.translate(a,a),s.moveTo(r[0],r[1]);for(let d=2;d<r.length;d+=2)s.lineTo(r[d],r[d+1]);if(i&&r.length>4){s.closePath();const d=i.getFillStyle(s);d&&(s.fillStyle=d,s.fill("evenodd"))}const c=o&&o.getStrokeStyle();if(c){if(!i&&r.length>2){const{start:h,end:f}=this;if(h){const g=r[3],m=r[2],y=r[1],b=r[0],v=h.length,S=Math.atan2(y-g,b-m),E=S+h.angle,T=S-h.angle;s.moveTo(b,y),s.lineTo(b-v*Math.cos(E),y-v*Math.sin(E)),s.moveTo(b,y),s.lineTo(b-v*Math.cos(T),y-v*Math.sin(T))}if(f){const g=r[r.length-4],m=r[r.length-3],y=r[r.length-2],b=r[r.length-1],v=f.length,S=Math.atan2(b-m,y-g),E=S+f.angle,T=S-f.angle;s.moveTo(y,b),s.lineTo(y-v*Math.cos(E),b-v*Math.sin(E)),s.moveTo(y,b),s.lineTo(y-v*Math.cos(T),b-v*Math.sin(T))}}s.lineCap="round",s.lineJoin="round",s.lineWidth=o.getLineWidth(),s.strokeStyle=c;const d=o.getLineDash();d&&s.setLineDash(d),s.stroke()}return s.canvas}_render(t){this.updateRegionSize();const{scene:n,sourceOffset:r,regionWidth:o,regionHeight:i}=this,{width:s,height:a}=t.canvas,c=Math.round(this.x-n.x-r),d=Math.round(this.y-n.y-r);if(c>s||d>a||c+o<0||d+i<0)return;const h=this.isVisible()&&this.getCanvasImageSource();if(!h)return;const f=(this.brush?this.brush.getGlobalCompositeOperation():this.pen?.getGlobalCompositeOperation())||"";f?(t.globalCompositeOperation=f,t.drawImage(h,c,d),t.globalCompositeOperation="source-over"):t.drawImage(h,c,d)}onCoordsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}onPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}_onPenPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}_onBrushPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}onAttribChanged(){this.scene._setDirty()}updateBBox(t,n,r,o){super.updateBBox(t,n,r,o),this.scene._setDirty()}}class zV extends fd{constructor(t,n){super(t,t.pens,n),this.color=0,this.style=0,this.rop=0,this.width=0,this.set(n)}set({color:t=this.color,rop:n=this.rop,style:r=this.style,width:o=this.width}){return(this.width!==o||this.color!==t||this.style!==r||this.rop!==n)&&(this.color=t,this.style=r,this.rop=n,this.width=o,this.subs.forEach(i=>i._onPenPropsChanged())),this}toJSON(){const{color:t,rop:n,style:r,width:o}=this;return{...super.toJSON(),color:t,rop:n,style:r,width:o}}}const upe=0,dpe=1,hpe=2,fpe=3,ppe=4,gpe=5,mpe=9,vpe=10,ype=7,bpe=[16,4],wpe=[2,4],Spe=[16,4,2,4],Cpe=[16,4,2,4,2,4];class xpe extends zV{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Xu(t)||""),this._cssColor}getLineWidth(){return Math.max(Math.round(this.width),1)}getGlobalCompositeOperation(){switch(this.rop){case mpe:return"multiply";case vpe:return"multiply";case ype:return"difference";default:return""}}getStrokeStyle(){return this.style!==gpe?this.getCssColor():""}getLineDash(){switch(this.style){case upe:return null;case dpe:return bpe;case hpe:return wpe;case fpe:return Spe;case ppe:return Cpe;default:return null}}}class UV extends fd{constructor(t,n,r){super(t,t.strings,r),this.text=n,this.set({...r,text:n})}set({text:t=this.text}){return this.text!==t&&(this.text=t,this.subs.forEach(n=>n._onStringTextChanged())),this}toJSON(){const{text:t}=this;return{...super.toJSON(),text:t}}}class _pe extends UV{constructor(){super(...arguments),this._text="",this.fragments=[""]}getLines(){const{text:t}=this;return this._text!==t&&(this._text=t,this.fragments=t.split(/\r\n|\n/)),this.fragments}}class HV{constructor(t,{font:n,string:r,fgcolor:o,bgcolor:i}){this.text=t,this.font=n,this.string=r,this.fgcolor=o||0,this.bgcolor=i??Ph,n.subs.add(this),r.subs.add(this)}set({font:t=this.font,string:n=this.string,fgcolor:r=this.fgcolor,bgcolor:o=this.bgcolor}){let i=!1,s=!1;return this.font!==t&&(this.font.subs.delete(this),this.font=t,t.subs.add(this),i=!0),this.string!==n&&(this.string.subs.delete(this),this.string=n,n.subs.add(this),i=!0),(this.fgcolor!==r||this.bgcolor!==o)&&(this.fgcolor=r,this.bgcolor=o,s=!0),(i||s)&&(this.onPropsChanged(i,s),this.text.subs.forEach(a=>a._onTextPartsChanged())),this}delete(t){this.font.subs.delete(this),this.string.subs.delete(this),t||(this.font.delete(),this.string.delete())}toJSON(){const{font:t,string:n,fgcolor:r,bgcolor:o}=this;return{font:t.key,string:n.key,fgcolor:r,bgcolor:o}}}class GV extends fd{constructor(t,n,r){super(t,t.texts,r),this.type="text",this.parts=n.map(o=>this.createPart(o,!0))}set({parts:t=this.parts},n){return this.parts!==t&&(this.parts.forEach(r=>!t.includes(r)&&r.delete(n)),this.parts=t,this.subs.forEach(r=>r._onTextPartsChanged())),this}createPart(t,n){const r=this._createPart(t);return n||this.set({parts:this.parts.concat(r)}),r}toJSON(){const t=this.parts.map(n=>n.toJSON());return{...super.toJSON(),parts:t}}delete(t){return super.delete()?(this.parts.forEach(n=>n.delete(t)),!0):!1}}const Epe=1.15,Tpe=.989,WV=Rh(0,0).getContext("2d",{alpha:!1});class Mpe extends HV{constructor(t,n){super(t,n),this.textFragments=null,this._fgColor=NaN,this._bgColor=NaN,this.fontCssColor="",this.bgCssColor=""}getTextFragments(){const{fontFamily:t,size:n,style:r}=this.font,o=this.string.getLines(),i=r&ty?"italic":"normal",a=`${r&Lp?"bold":"normal"} ${i} ${n}px ${t}`,{textFragments:c}=this;if(c&&c.cssFont===a&&c.textLines===o)return c;WV.font=a;const d=n*Epe,h=[];return o.forEach((f,g)=>{if(g>0&&h.push({text:`
`,width:0,height:d}),f){const m=this.font.transformText(f);h.push({width:WV.measureText(m).width,height:d,text:m})}else h.push({width:0,height:d,text:""})}),this.textFragments={cssFont:a,fragments:h,textLines:o}}getFontCssColor(){const{fgcolor:t}=this;return this._fgColor!==t&&(this._fgColor=t,this.fontCssColor=Xu(t)||"black"),this.fontCssColor}getBgCssColor(){const{bgcolor:t}=this;return this._bgColor!==t&&(this._bgColor=t,this.bgCssColor=Xu(t)||""),this.bgCssColor}_onFontPropsChanged(){this.text._onGeometryChanged()}_onStringTextChanged(){this.text._onGeometryChanged()}onPropsChanged(t,n){t&&this.text._onGeometryChanged(),n&&this.text._onColorsChanged()}}class Ope extends GV{constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.maxWidth=0,this.maxHeight=0,this._parts=null;const o=Rh(0,0);this.textCtx=o.getContext("2d",{alpha:!0})}get width(){return this.updateMetrics(),this.maxWidth}get height(){return this.updateMetrics(),this.maxHeight}updateMetrics(){const{parts:t}=this;if(this._parts===t)return;this._parts=t,this.shouldUpdateSource=!0;let n=0,r=0,o=0,i=0;for(const s of t)for(const a of s.getTextFragments().fragments){if(i=Math.max(i,a.height),a.text===`
`){r+=i,n=Math.max(n,o),o=0,i=0;continue}o+=a.width}r+=i,n=Math.max(n,o),this.maxWidth=Math.floor(n),this.maxHeight=Math.floor(r)}getCanvasImageSource(){const{textCtx:t}=this;this.updateMetrics();const{maxWidth:n,maxHeight:r}=this;if(!n||!r)return null;if(!this.shouldUpdateSource){const a=t.canvas;return a.width&&a.height?a:null}this.shouldUpdateSource=!1,t.canvas.width=Math.round(n),t.canvas.height=Math.round(r+2),t.textAlign="left",t.textBaseline="alphabetic",t.scale(Tpe,1);let o=0,i=0,s=0;for(const a of this.parts){const{fragments:c,cssFont:d}=a.getTextFragments(),{style:h}=a.font,f=a.getFontCssColor(),g=a.getBgCssColor(),m=h&Dk,y=h&Ak;t.font=d;for(const{text:b,width:v,height:S}of c){if(s=Math.max(s,S),b===`
`){i+=s,o=0,s=0;continue}if(b){const E=Math.round(o),T=Math.round(i+S*.85);if(g){t.fillStyle=g;const M=Math.round(i);t.fillRect(E,M,Math.round(v),Math.round(S))}t.fillStyle=f,t.fillText(b,E,T);const R=Math.max(1,S/10);if(m){const M=Math.round(i+S-R);t.fillRect(E,M,Math.round(v),Math.round(R))}if(y){const M=Math.round(i+S*.55);t.fillRect(E,M,Math.round(v),Math.round(R))}}o+=v}}return t.canvas}_createPart(t){return new Mpe(this,t)}_onGeometryChanged(){this._parts=null}_onColorsChanged(){this.shouldUpdateSource=!0}}class KV extends Kh{constructor(t,n,r){const o={...r,width:r.width??n.width,height:r.height??n.height,text:n};super(t,o),this.text=n,this.type="textView",n.subs.add(this),this.angle=r.angle??0,this.set({...r,text:n})}set({text:t=this.text,...n}){return this.text!==t&&(this.text.subs.delete(this),this.text=t,this.text.subs.add(this),this.onPropsChanged()),super.set(n)}_onRotated(t,n,r){super._onRotated(t,n,r),this.angle+=r}toJSON(){const{text:t,angle:n,type:r}=this;return{...super.toJSON(),type:r,text:t.key,angle:n}}delete(t){const{text:n}=this;return n.subs.delete(this),t||n.delete(t),super.delete()}toString(){return"Текст"}}class Rpe extends KV{constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,width:o,height:i}=this,{width:s,height:a}=t.canvas;let c=Math.round(this.x-n.x),d=Math.round(this.y-n.y);if(r){const m=Math.cos(r),y=Math.sin(r),b=o*m,v=o*y,S=b-i*y,E=v+i*m,T=-i*y,R=i*m,M=c+Math.min(0,b,S,T),I=c+Math.max(0,b,S,T),N=d+Math.min(0,v,E,R),P=d+Math.max(0,v,E,R);if(M>s||N>a||I<0||P<0)return}else if(c>s||d>a||c+o<0||d+i<0)return;const h=this.isVisible()&&this.text.getCanvasImageSource();if(!h)return;r&&(t.save(),t.translate(c,d),t.rotate(r),c=0,d=0);const f=Math.round(this.width*1.02),g=Math.round(this.height)+2;t.drawImage(h,0,0,f,g,c,d,f,g),r&&t.restore()}onAttribChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}_onTextPartsChanged(){this.scene._setDirty()}updateBBox(t,n,r,o){super.updateBBox(t,n,r,o),this.scene._setDirty()}}class qV extends Kh{constructor(t,n){super(t,n),this.type="videoView",this.fixed=n.fixed||!1}set({fixed:t=this.fixed,...n}){return this.fixed=t,super.set(n)}toJSON(){throw new Error("Method not implemented.")}toString(){return"Видео"}}let Ipe=class{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}};class Ppe extends qV{constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const o=this.domElement=document.createElement("video");o.className=pd["jf-video"],o.src=Ji(n),o.controls=!ry.hideVideoControls,this.video=new Ipe(o)}currentState(){const t=this.domElement;return t.paused?t.currentTime?"pause":"stop":"play"}setCurrentTime(t){const n=this.domElement;return t!==n.currentTime&&(n.currentTime=t),this}currentTime(){return this.domElement.currentTime}play(){const t=this.domElement;return t.paused&&t.play(),this}pause(){const t=this.domElement;return t.paused||t.pause(),this}stop(){return this.pause(),this.setCurrentTime(0),this}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this.fixed){const i=Math.round(this.width),s=Math.round(this.height);this._w!==i&&n.setProperty("width",(this._w=i).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}onAttribChanged(){this.scene._setDirty()}updateBBox(t,n,r,o){super.updateBBox(t,n,r,o),this.scene._setDirty()}}const YV=class extends DV{constructor(t){super(),this.prevOrder=[],this.dirty=!0;const n=document.createElement("canvas");this.ctx=n.getContext("2d",{alpha:!0,desynchronized:!1});const r=this.domElement=document.createElement("div");r.className=pd["jf-scene"],r.append(n),this.init(t)}dispose(){}render(t=!1){if(!t&&!this.domElement.offsetParent)return;const{ctx:n}=this,r=n.canvas,{clientWidth:o,clientHeight:i}=r;if((r.width!==o||r.height!==i)&&(r.width=o,r.height=i,this.dirty=!0),this.prevOrder!==this.order){const{prevOrder:s}=this;this.prevOrder=this.order,(this.order.length!==s.length||this.order.some((a,c)=>a!==s[c]))&&(this.dirty=!0)}!this.dirty||o<1||i<1||(n.fillStyle=this.background?.getFillStyle(n)||"white",n.fillRect(0,0,o,i),this.order.forEach(s=>s._render(n)),this.dirty=!1)}toBlob(t){const n=this.ctx.canvas,r=Math.max(t.x,0),o=Math.max(t.y,0),i=Math.min(t.w,n.width),s=Math.min(t.h,n.height),a=Rh(i,s);return a.getContext("2d",{alpha:!1}).drawImage(this.ctx.canvas,r,o,i,s,0,0,i,s),a instanceof OffscreenCanvas?a.convertToBlob():new Promise(h=>a.toBlob(f=>h(f)))}createLine(t,n={}){return new cpe(this,t,n)}createImageView(t,n={}){return new rpe(this,t,n)}createTextView(t,n={}){return new Rpe(this,t,n)}createInput(t,n={}){const r=new lpe(this,t,n);return this.domElement.append(r.domElement),r}createVideo(t,n={}){const r=new Ppe(this,t,n);return this.domElement.append(r.domElement),r}createPen(t={}){return new xpe(this,t)}createBrush(t={}){return new Xfe(this,t)}createImage(t,n={}){return new npe(this,t,n)}createString(t,n={}){return new _pe(this,t,n)}createFont(t={}){return new Jfe(this,t)}createText(t,n={}){return new Ope(this,t,n)}onDisableInputsChanged(){this.disableInputs?this.domElement.classList.add(pd["disable-inputs"]):this.domElement.classList.remove(pd["disable-inputs"])}onBackgroundChanged(){this._setDirty()}onLayersChanged(){this._setDirty()}onOriginChanged(){this._setDirty()}_onBrushPropsChanged(){this._setDirty()}_setDirty(){this.dirty=!0}},kpe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let OT=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=kpe[n[e]&63];return t};class Dpe{constructor(t,n,r){this.ed=t,this.object=n,this.speed=1;const o=t._history;o.pendNextEdit(),n.type==="_pseudoGroup"?o.savePositions(n._jf):o.saveTransform(n._jf),r&&this.handleKeyboard(r)}handleKeyboard(t){let n=0,r=0;switch(t.key){case"ArrowUp":n=0,r=-1;break;case"ArrowDown":n=0,r=1;break;case"ArrowLeft":n=-1,r=0;break;case"ArrowRight":n=1,r=0;break;default:return this}if(t.type==="keyup")return this.finish();const{object:o}=this,i=this.speed,s=o.x,a=o.y;return o.set({x:s+n*i,y:a+r*i}),++this.speed,this}finish(){return this.ed._history.pushPendingEdit(),null}}const jc=Symbol(),nb=Symbol(),XV=Symbol(),ZV=Symbol(),Vc=Symbol(),gd=Symbol(),QV="application/vnd.stratum.clipboard",{PS_DASH:RT,PS_DOT:JV,BS_NULL:Ape}=et,IT=ga(255,0,0),Lpe=ga(255,255,0),Npe=ga(129,165,212,"editor"),Bpe=ga(0,0,0,"editor"),PT=ga(0,0,0),Fpe=ga(0,0,255),kT=ga(128,128,128),e$=QC(16),t$=QC(24),Do=-1,Fs=Bl|Rs;class jpe{constructor(t){this.s=t;const n=Do;this.blueSelectionShadowBrush=t.brush({key:n,color:Npe}),this.graySelectionBorderBrush=t.brush({key:n,color:kT}),this.redBrush=t.brush({key:n,color:IT}),this.yellowBrush=t.brush({key:n,color:Lpe}),this.transparentSelectionBorderBrush=t.brush({key:n,color:Bpe}),this.nullBrush=t.brush({key:n,color:0,style:Ape}),this.selectionAreaPen=t.pen({key:n,color:PT,width:1,style:RT}),this.blackSelectionBorderPen=t.pen({key:n,color:PT,width:2}),this.highlightAreaPen=t.pen({key:n,color:kT,width:1,style:RT}),this.highlightAreaPenRed=t.pen({key:n,color:Fpe,width:1,style:RT}),this.defaultFont=t.font({key:n,size:16}),this.reorderFont=t.font({key:n,size:20,style:Lp}),this.classFont=t.font({key:n,size:12}),this.captStr=t.string("",{key:n}),this.captText=t.text([{string:this.captStr,font:this.defaultFont}],{key:n})}padIconImage(){const t=this.s;return[...t.images.values()].find(n=>n.src===qC.src)??t.image(qC)}iconImage(t){const n=t&&kp(t)||KC,{s:r}=this;return[...r.images.values()].find(o=>o.src===n.src)??r.image(n)}makeBorder(t,n){return t.scene.line([0,0,t.width+8,0,t.width+8,t.height+8,0,t.height+8],{key:Do,attrib:Fs,x:t.x-4,y:t.y-4,pen:n?this.highlightAreaPenRed:this.highlightAreaPen,brush:this.nullBrush})}highlightFor(t,n){const r=t.scene;let o;const i=rb(t);if(i){const s=this.makeBorder(i.a.slot,!0),a=this.makeBorder(i.b.slot,!0);o=this.tempGroup([s,a]),r.set({order:r.order.concat(s,a)})}else o=this.makeBorder(t,n),DT(t)&&o.rotate(t.angle,t),r.set({order:r.order.concat(o)});return o}textFor(t){const{s:n}=this,r=n$(t);this.captStr.set({text:r});const o=r.length*8,i=n.textView(this.captText,{key:Do,attrib:Fs,x:Math.min(Math.max(t.x,t.scene.x+4),t.scene.x+t.scene.domElement.clientWidth-o),y:Math.min(Math.max(t.y-32,t.scene.y+4),t.scene.y+t.scene.domElement.clientHeight-32)});return n.set({order:n.order.concat(i)}),i}createTextFor(t,n){const{s:r}=this,o=r.string(n,{key:Do}),i=r.text([{string:o,font:this.reorderFont}],{key:Do}),s=r.textView(i,{key:Do,attrib:Fs,x:t.x,y:t.y}),a=24,c=24,d=r.line([t.x,t.y,t.x+a,t.y,t.x+a,t.y+c,t.x,t.y+c],{key:Do,attrib:Fs,brush:this.redBrush}),h=r.string(n$(t),{key:Do}),f=r.text([{string:h,font:this.classFont}],{key:Do}),g=t.x,m=t.y+c,y=r.textView(f,{key:Do,attrib:Fs,x:g,y:m}),b=y.width,v=y.height,S=r.line([g,m,g+b,m,g+b,m+v,g,m+v],{key:Do,attrib:Fs,brush:this.yellowBrush}),E=r.group([s,d,y,S],{key:Do});return r.set({order:r.order.concat(d,s,S,y)}),[o,E]}createSelectionArea(t,n,r,o){const{s:i}=this,s=i.line([0,0,r,0,r,o,0,o],{key:Do,attrib:Fs,x:t,y:n,pen:this.selectionAreaPen,brush:this.nullBrush});return i.set({order:i.order.concat(s)}),s}tempGroup(t){return this.s.group(t,{key:Do})}}function md(e){return e.data[Vc]||null}function DT(e){return e.type==="textView"||e.type==="imageView"}function n$(e){const t=pg(e);if(t)return t.toString();if(e.parent&&pg(e.parent))return e.type==="imageView"&&e.key>0?`Иконка #${e.key} ${e.attrib&1?" (скрыта)":""}`:"Изображение имиджа";const n=e+(e.data.name?` '${e.data.name}'`:"")+(e.key>0?` #${e.key}`:"");if(e.type!=="group")return n;const r=e.children.length;return`${n} [${r}]`}function pg(e){return e.data[jc]??null}function gg(e){const t=e.data[jc];return t?.type==="child"?t:null}function Vpe(e){const t=e.data[jc];return t?.type==="pad"?t:null}function rb(e){const t=e.data[jc];return t?.type==="connection"?t:null}function Ci(e){const t=e.data[jc];return t&&(t.type==="child"||t.type==="pad")?t:null}let $pe=0;function zr(){return++$pe}function zpe(e){let t=e;for(;t.parent&&t.parent.key>0;)t=t.parent;return t}function r$(e){return kh(e.scene,I8(e))}function ob(e){return!!e.data[ZV]}function Upe(e){if(e.length<2)return e;const t=Rp(new Set(e),n=>!n.parent&&!ob(n)&&n.key>0);return t.length?t:[e[0]]}function o$(e){const{hiddenLayers:t}=e;return Rp(e.objects.values(),n=>{if(n.parent)return!1;const r=n.attrib;return!(r&Ua||t&1<<Zu(r))})}class AT extends Si{}function mg(e,t){if(!e)throw new AT(t)}function LT(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function i$(e){return{fonts:[{key:1,size:16}],strings:[{key:1,text:e}],texts:[{key:1,parts:[{font:1,string:1}]}],objects:[{type:"textView",key:1,text:1}],order:[1]}}function s$(e){return{images:[{key:1,...e}],objects:[{type:"imageView",key:1,image:1}],order:[1]}}const Hpe=i$("Sample Text"),Gpe={objects:[{type:"input",key:1,inputType:"Edit",width:64,height:20}],order:[1]},Wpe={objects:[{type:"input",key:1,inputType:"Button",width:64,height:20,value:"Кнопка"}],order:[1]},Kpe={pens:[{key:1,color:0,width:1}],brushes:[{key:1,color:kT}],objects:[{type:"line",key:1,coords:[0,0,0,100,100,100,100,0],pen:1,brush:1}],order:[1]};function qpe(e){const t=e.getData(QV);return t?JSON.parse(t):null}function a$(e,t){e.setData(QV,JSON.stringify(t))}class l${constructor(t){this.ed=t,this.title="Изменение порядка имиджей",this.counter=-1,this.childWeakMap=new WeakMap;const{children:n,_tools:r}=t;this.markers=n.map((o,i)=>{const s=(i+1).toString(),a=r.createTextFor(o.slot,s);return this.childWeakMap.set(o,a),a})}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,{sceneX:r,sceneY:o}=t,i=n._pick(r,o),s=i&&gg(i);if(!s)return this;const a=n.children.indexOf(s);let c=(t.shiftKey?a:this.counter)+1;const d=kC(n.children,c,s);return d.indexOf(s)!==a&&(d.forEach((h,f)=>this.childWeakMap.get(h)?.[0].set({text:(f+1).toString()})),n._history.saveChildOrder(),n.setChildOrder(d)),!t.shiftKey&&c>=d.length?this.finish():(this.counter=c,this)}finish(){for(const[t,n]of this.markers)n.delete();return null}}class Ype{constructor(t){this.ed=t,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,o=t.sceneY,i=n._scene,s=i.line([r,o,r+1,o+1],{pen:i.pen({color:PT}),attrib:Fs});return i.set({order:i.order.concat(s)}),new NT(n,s)}}class NT{constructor(t,n){this.ed=t,this.line=n,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){const{line:n}=this;if(t.type==="pointerup")return n.length===2&&Math.hypot(n.width,n.height)>5?this.finishLine():this;const r=n.point(n.length-2);let o=t.sceneX,i=t.sceneY;if(t.type==="pointermove"){if(t.ctrlKey&&r){const s=Math.abs(o-r.x),a=Math.abs(i-r.y);s>a?i=r.y:o=r.x}return n.setPoint(n.length-1,{x:o,y:i}),this}return r&&Math.hypot(r.x-o,r.y-i)<5?this:t.shiftKey?this.finishLine():(n.addPoint({x:o+1,y:i+1}),new NT(this.ed,n))}finishLine(){const{line:t,ed:n}=this;t.set({attrib:t.attrib&~Fs}),n._refreshChildImages();const r=[t];return n._history.saveCreatedObjects(r),n._createSelection(r),null}finish(){const{line:t}=this;t.length<3?this.line.delete():(t.removePoint(t.length-1),this.finishLine())}}class Xpe{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,o=kh(n._scene,r).set({x:t.sceneX,y:t.sceneY});n._refreshChildImages();const i=[o];return n._history.saveCreatedObjects(i),n._createSelection(i),null}}class Zpe{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,o=t.sceneX,i=t.sceneY,s=kh(n._scene,r);return s.set({x:o,y:i,width:1,height:1,attrib:s.attrib|Fs}),new Qpe(n,s,this.title)}}class Qpe{constructor(t,n,r="Создание объекта"){this.ed=t,this.object=n,this.title=r,this.cursor="crosshair",this.start={x:n.x,y:n.y}}handlePointer(t){const{object:n,start:r}=this;if(t.type==="pointermove"){const s=Math.min(t.sceneX,r.x),a=Math.min(t.sceneY,r.y),c=Math.abs(t.sceneX-r.x),d=Math.abs(t.sceneY-r.y);return n.set({x:s,y:a,width:c,height:d}),this}if(n.width<10&&n.height<10)return this;n.set({attrib:n.attrib&~Fs});const{ed:o}=this;o._refreshChildImages();const i=[n];return o._history.saveCreatedObjects(i),o._createSelection(i),null}finish(){this.object.delete()}}class Jpe{constructor(t){this.ed=t,this.title="Выбор первой цели",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,o=t.sceneY,i=n._pick(r,o),s=i&&Ci(i);return s?new c$(n,s,{x:r,y:o}):this}}class c${constructor(t,n,r=LT(n.slot)){this.ed=t,this.a=n,this.title="Выбор второй цели",this.cursor="crosshair";const{x:o,y:i}=r,s=t._scene,a=this.slot=s.line([o,i,o,i],{pen:s.pen({color:IT}),attrib:Fs});s.set({order:s.order.concat(a)})}handlePointer(t){const n=t.sceneX,r=t.sceneY,{slot:o}=this;if(t.type==="pointermove")return o.setPoint(1,{x:n,y:r}),this;const{ed:i,a:s}=this,a=i._pick(n,r),c=a&&Ci(a);if(!c||c===s)return this;const d=i.connections.find(g=>g.includes(s)&&g.includes(c));if(d)return this.finish(),i._createSelection([d.slot]),null;o.set({attrib:t$});const h=i.schema.createConnection(s.schema,c.schema,{key:o.key,aPadKey:lo(s.type==="pad"&&s.key),bPadKey:lo(c.type==="pad"&&c.key)});i._createConnection(o,h),i._refreshChildImages();const f=[o];return i._history.saveCreatedObjects(f),i._createSelection(f),null}finish(){this.slot.delete()}}class ib{constructor(t,n,r=!1){if(this.ed=t,this.area=null,this.kept=null,this.startX=n.sceneX,this.startY=n.sceneY,r){const a=t.selection;a&&(a.type==="multi"||!a.object._jf.parent&&!ob(a.object._jf))&&(this.kept=a._getJF())}else t.selection?.reset();const{selectUnselectable:o,hiddenLayers:i}=t._scene,s=Rp(t._scene.objects.values(),a=>{if(a.parent||ob(a)||this.kept?.includes(a))return!1;const c=a.attrib,d=c&1,h=c&4,f=c&8,g=c>>8&31;return!(d||f&&!o||1<<g&i||h)});this.objects=s}handlePointer(t){if(t.type==="pointerup")return this.removeAreaBox(),null;const n=Math.min(t.sceneX,this.startX),r=Math.min(t.sceneY,this.startY),o=Math.abs(t.sceneX-this.startX),i=Math.abs(t.sceneY-this.startY),{ed:s}=this;o>0&&i>0?this.area?this.area.set({x:n,y:r,width:o,height:i}):this.area=s._tools.createSelectionArea(n,r,o,i):this.removeAreaBox();const a=s.selection?._getJF()||[];let c=!1;const d=this.objects.filter(h=>{const f=h.x>=n&&h.y>=r&&h.x+h.width<=n+o&&h.y+h.height<=r+i;return c||=f&&!a.includes(h)||!f&&a.includes(h),f});return c&&s._createSelection(this.kept?.concat(d)??d),this}finish(){this.removeAreaBox()}removeAreaBox(){this.area&&(this.area.delete(!0),this.area=null)}}class ege{constructor(t,n,r){this.ed=t,this.ctrl=n,this.disableHighlights=!0;const o=this.prop=n.data[gd],i=o.direction;this.cursor=i==="vert"?"ns-resize":i==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=o.selection.object;this.origW=s.width,this.origH=s.height;const a=t._history;a.pendNextEdit(),a.saveTransform(s._jf)}handlePointer(t){if(t.type==="pointerup")return this.finish();let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const o=n-this.startX,i=r-this.startY;Math.abs(o)>Math.abs(i)?r=this.startY+this.origH*(o/this.origW):n=this.startX+this.origW*(i/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){const t=this.ed._history;return this.ctrl.x===this.startX&&this.ctrl.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class tge{constructor(t,n,r){this.ctrl=n,this.disableHighlights=!0;const o=this.prop=n.data[gd],i=o.direction;this.cursor=i==="vert"?"ns-resize":i==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=o.selection.object;this.origW=s.width,this.origH=s.height}handlePointer(t){if(t.type==="pointerup")return this.finish(),null;let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const o=n-this.startX,i=r-this.startY;Math.abs(o)>Math.abs(i)?r=this.startY+this.origH*(o/this.origW):n=this.startX+this.origW*(i/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){this.prop.complete?.()}}class BT{constructor(t,n,r){this.ed=t,this.object=n,this.disableHighlights=!0,this.cursor="grabbing",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY,t._history.pendNextEdit()}handlePointer(t){let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(t.type==="pointerup")return this.finish();if(t.ctrlKey){const o=Math.abs(n-this.startX),i=Math.abs(r-this.startY);o>i?r=this.startY:n=this.startX}return this.object.set({x:n,y:r}),this}finish(){const t=this.ed._history;return this.object.x===this.startX&&this.object.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class nge{constructor(t,n,r){this.ed=t,this.o=n,this.cursor="copy",this.startX=r.sceneX,this.startY=r.sceneY}handlePointer(t){if(t.type==="pointerup")return null;if(t.type!=="pointermove")return this;const n=t.sceneX-this.startX,r=t.sceneY-this.startY;if(Math.hypot(n,r)<16)return this;const{ed:o,o:i}=this,s=o._cloneObject(i).set({x:i.x+n,y:i.y+r});Ci(s)?._notifySlotMoved();const a=[s],c=o._history;return c.batch(()=>{c.saveCreatedObjects(a);const d=o._createSelection(a);return d?new BT(o,d.object,t):this})}}class rge{constructor(t){this.ed=t}handlePointer(t){if(t.type!=="pointerdown")return this;const n=t.shiftKey,r=t.shiftKey,{ed:o}=this,i=o._pickSmart(t.sceneX,t.sceneY,!n);if(!i)return new ib(o,t,n);const s=i.data[gd];if(s){if(typeof s.lineEditorIndex=="number"){if(t.shiftKey){const h=o.selection;if(h?.type!=="single")return this;const f=h.object;return f.type!=="line"?this:(f.removePoint(s.lineEditorIndex),this)}return new tge(o,i,t)}return r?new BT(o,s.selection.object,t):new ege(o,i,t)}const a=ob(i);if(!n){const h=i.data[Vc]||o._createSelection([i]);return!a&&h?new BT(o,h.object,t):this}const c=o.selection;if(!c)return new ib(o,t);const d=zpe(i);if(c.type==="single"){if(a){const h=c.object;if(t.shiftKey&&h.type==="line"&&rb(h._jf)){const f=h._jf,g=f.getIntersectionIndex(t.sceneX-f.x,t.sceneY-f.y);return g<0?this:(h.addPoint(t.sceneX,t.sceneY,g+1),this)}return new ib(o,t)}if(c.object._jf===d){if(c.object.type==="line"&&c.object.isPointsEditModeActive){const h=c.object._jf,f=h.getIntersectionIndex(t.sceneX-h.x,t.sceneY-h.y);return f<0?this:(c.object.addPoint(t.sceneX,t.sceneY,f+1),this)}return new nge(o,d,t)}c.object._jf.parent?o._createSelection([d]):o._createSelection([c.object._jf,d])}else c.object._jf.includes(d)?o._createSelection(c.object._jf.filter(h=>h!==d)):o._createSelection(c.object._jf.concat(d));return new ib(o,t,!0)}}class oge{constructor(t){this.ed=t,this.defaultAction=new rge(this.ed),this.currentAction=this.defaultAction,this.inTransition=!1,vt(this,{currentAction:Pe.ref,inAction:qr,actionTitle:qr})}get actionTitle(){return this.currentAction.title||""}get inAction(){return this.currentAction!==this.defaultAction}get isInChildReorderMode(){return this.currentAction instanceof l$}get canHandlePointer(){return!!this.currentAction.handlePointer}get highlightsDisallowed(){return!!this.currentAction.disableHighlights}handlePointer(t){this.currentAction.handlePointer&&(this.inTransition=!0,this.switchAction(this.currentAction.handlePointer(t)||this.defaultAction),this.inTransition=!1)}handleKeyboard(t){return this.currentAction.handleKeyboard?(this.inTransition=!0,this.switchAction(this.currentAction.handleKeyboard(t)||this.defaultAction),this.inTransition=!1,!0):!1}finishCurrent(){this.inTransition||(this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(this.defaultAction),this.inTransition=!1)}startMoveObjectWithKeyboard(t,n){this.startAction(new Dpe(this.ed,t,n))}startCreateConnection(t){this.startAction(t?new c$(this.ed,t):new Jpe(this.ed))}startCreateSample(t,n){this.startAction(new Zpe(this.ed,t,n))}startSelectSampleCoords(t,n){this.startAction(new Xpe(this.ed,t,n))}startCreateLine(){this.startAction(new Ype(this.ed))}startReorderChildren(){this.startAction(new l$(this.ed))}switchAction(t){this.currentAction!==t&&(this.currentAction=t)}startAction(t){As.assert(!this.inTransition),this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(t),this.inTransition=!1}}class sb{constructor(t,n,r){this.type="child",this.connections=[],this.resizable=!1,this.hovered=!1,this.imgContainer=null,this.scene=t,this.schema=n,this.slot=r,r.data[jc]=this;const o=r.children.length&&r.children[0];let i;o&&o.type==="imageView"?(i=o,i.data[XV]=this,i.data[nb]=this):i=null,this.icon=i,this.replaceImage(n.klass.image),this._subscribe(),vt(this,{schema:Pe.ref,hovered:Pe.ref,select:ye,connections:!1,resizable:!1})}get key(){return this.slot.key}select(t=!1){this.scene._createSelection([this.slot],!0,t)}_forceHide(){this.replaceImage({...this.schema.klass.image,scene:void 0})}_forceUpdate(){this.replaceImage(this.schema.klass.image)}_subscribe(){this.schema.klass.onImageChanged.add(this.scene._childImageChanged)}_unsubscribe(){this.schema.klass.onImageChanged.remove(this.scene._childImageChanged)}toString(){return`${this.schema.name} #${this.key}`}_saveChanges(){const{slot:t,schema:n}=this;n.node.set({sceneName:t.data.name||"",sceneX:t.x,sceneY:t.y})}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_setHover(t){this.hovered=t}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_copy(){const{key:t,schema:n}=this;return{key:t,klass:n.klass.name,klassUuid:n.klass.uuid,state:n.getState()}}_replaceSchema(t){if(t.node!==this.schema.node)throw Error("Типы имиджей не совпадают");this.schema=t}replaceImage(t){const n=!!t?.resizable,r=this.resizable!==n;this.resizable=n;const o=n?this.slot.width:32,i=n?this.slot.height:32;if(this.imgContainer?.delete(),this.imgContainer=null,this.icon){const{atlas:a,index:c=0}=t?.icon??{},d=this.scene._tools.iconImage(a),{x:h,y:f}=YC(d,c);this.icon.set({image:d,width:o,height:i,area:{x:h,y:f,w:32,h:32},attrib:this.slot.attrib})}const s=t?.scene?.data;if(!(!s?.objects?.length||t?.prior==="icon")){this.imgContainer=KD(this.slot,s,n&&!r,"unused");for(const a of Fp(this.imgContainer))a.data[nb]=this;r&&n&&this.icon?.set({width:this.slot.width,height:this.slot.height})}}}class vg{constructor(t,n,r){this.type="connection",this.scene=t,this.schemaConnection=n;let o,i;if(t.schema===n.a){if(o=t.pads.find(c=>c.key===n.aPadKey),!o)throw Error(`Площадка A #${n.aPadKey} не существует`)}else if(o=t.children.find(c=>c.schema===n.a),!o)throw Error(`Дочерний имидж ${n.a} не существует`);if(t.schema===n.b){if(i=t.pads.find(c=>c.key===n.bPadKey),!i)throw Error(`Площадка B #${n.bPadKey} не существует`)}else if(i=t.children.find(c=>c.schema===n.b),!i)throw Error(`Дочерний имидж ${n.b} не существует`);this.a=o,this.b=i,this.slot=r;const s=r.point(0);this.shift1=s?{x:s.x-o.slot.x,y:s.y-o.slot.y}:{x:0,y:0},this.size1={x:o.slot.width,y:o.slot.height},o.connections=o.connections.concat(this);const a=r.point(r.length-1);this.shift2=a?{x:a.x-i.slot.x,y:a.y-i.slot.y}:{x:0,y:0},this.size2={x:i.slot.width,y:i.slot.height},i.connections=i.connections.concat(this),r.data[jc]=this,r.data[ZV]=!0,this.updatePen(),vt(this,{schemaConnection:Pe.ref,setDisabled:ye,includes:!1})}updateShift(){const{slot:t,a:n,b:r}=this,o=t.point(0),i=t.point(t.length-1);this.shift1=o?{x:o.x-n.slot.x,y:o.y-n.slot.y}:{x:0,y:0},this.shift2=i?{x:i.x-r.slot.x,y:i.y-r.slot.y}:{x:0,y:0}}setDisabled(t){this.schemaConnection.setDisabled(t),this.updatePen()}get key(){return this.slot.key}includes(t){return this.a===t||this.b===t}toString(){return`Связь #${this.key}: ${this.a} - ${this.b}`}_copy(){return this.schemaConnection.proto.toJSON()}_notifyTargetMoved(){const{slot:t,shift1:n,shift2:r,a:o,b:i}=this,s=n.x*(o.slot.width/this.size1.x),a=n.y*(o.slot.height/this.size1.y),c=r.x*(i.slot.width/this.size2.x),d=r.y*(i.slot.height/this.size2.y),h=o.slot.x+s,f=o.slot.y+a,g=i.slot.x+c,m=i.slot.y+d;t.setPoint(0,{x:h,y:f}),t.setPoint(t.length-1,{x:g,y:m})}_notifySlotRemoved(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}_replaceConnection(t){if(t.proto!==this.schemaConnection.proto)throw Error("Типы связей не совпадают");this.schemaConnection=t}updatePen(){const t=this.slot.pen;if(!t)return;let n=t.style;this.schemaConnection.isDisabled?n|=JV:n&=~JV,t.set({style:n})}}class ab{constructor(t,n){this.type="pad",this.connections=[],this.scene=t,this.schema=t.schema,this.slot=n,n.data[jc]=this,vt(this,{schema:Pe.ref,connections:!1})}get key(){return this.slot.key}toString(){return`Площадка #${this.key}`}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_replaceSchema(){this.schema=this.scene.schema}}class FT{constructor(t,n,r,o=zr()){this.ed=t,this.id=o;const i=t._scene,s=new Set(n),a=new Set,c=[],d=[],h=[];n.forEach(f=>{if(f.parent&&f.parent.key>0){const m=f.parent.children.indexOf(f);h.push([f.key,f.parent.key,m])}const g=pg(f);g&&(g.type==="connection"?(g._notifySlotRemoved(),a.add(g)):(g.connections.forEach(m=>{m._notifySlotRemoved(),a.add(m),s.add(m.slot)}),g.type==="child"?c.push(g):d.push(g.slot.key)))}),this.parentRelations=h,this.deletedPads=d,this.deletedChildren=c.map(f=>f._copy()),this.deletedConnections=Array.from(a,f=>f._copy()),this.prevObjectOrder=wi(i.order,f=>f.key>0&&f.key),this.prevChildOrder=t.children.map(f=>f.key),this.deletedData=oy(s,!0),this.title=r??`Удалено${a.size?" (включая связи)":""}: ${s.size}`,s.forEach(f=>f.delete()),a.forEach(f=>f.schemaConnection.remove()),c.forEach(f=>f.schema.remove()),c.length&&this.ed._notifyChildrenRemoved(),d.length&&this.ed._notifyPadsRemoved(),a.size&&this.ed._notifyConnectionsRemoved()}undo(){const{ed:t}=this;let n=[];const{schema:r}=t;r&&(n=this.deletedChildren.map(c=>{const d=r.resolveKlass(c.klassUuid);return mg(d,`Имидж не существует: ${c.klass}`),mg(!r.hasAncestor(d),`Невозможно добавить '${d.name}' в схему: рекурсивная зависимость`),{...c,klass:d}}));const o=t._scene,{objects:i}=o.merge(this.deletedData,"exact",!0),s=t0(i);this.parentRelations.forEach(([c,d,h])=>{const f=o.objects.get(d);if(f?.type!=="group")throw Error(`Группа #${d} объекта #${c} не существует`);const g=o.objects.get(c);if(!g)throw Error(`Объект #${c} не существует`);const m=f.children.slice();m.splice(h,0,g),f.set({children:m})});const a=this.prevObjectOrder.map(c=>{const d=o.objects.get(c);if(!d||d.type==="group")throw Error(`Объект #${c} не существует`);return d});if(o.set({order:a}),r){const c=this.deletedPads.map(y=>{const b=o.objects.get(y);if(b?.type!=="imageView")throw Error(`Отображение площадки #${y} не существует`);return new ab(t,b)});t._setPads(t.pads.concat(c));const d=n.map(y=>{const b=o.objects.get(y.key);if(b?.type!=="group")throw Error(`Изображение имиджа '${y.klass.name} #${y.key}' отсутствует на сцене`);const v=r.createChild(y.klass,{key:b.key},y.state);return new sb(t,v,b)}),h=t.children.concat(d);t._setChildren(h);const f=this.prevChildOrder.map(y=>{const b=h.find(v=>v.key===y);if(!b)throw Error(`Имидж #${y} не найден`);return b});t.setChildOrder(f);const g=this.deletedConnections.map(y=>{const b=o.objects.get(y.key);if(b?.type!=="line")throw Error(`Изображение связи '#${y.key}' отсутствует на сцене`);const[v,S]=y.nodes,E=o.objects.get(Math.abs(v)),T=E&&Ci(E);if(!T)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const R=o.objects.get(Math.abs(S)),M=R&&Ci(R);if(!M)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const I=r.createConnection(T.schema,M.schema,{key:b.key,aPadKey:lo(T.type==="pad"&&T.key),bPadKey:lo(M.type==="pad"&&M.key),attrib:y.attrib,vars:y.vars});return new vg(t,I,b)}),m=t.connections.concat(g);t._setConnections(m),t._refreshChildImages()}return t._createSelection(s),new u$(this.ed,s,this.title,this.id)}}class u${constructor(t,n,r=`Создано ${n.length} объектов`,o=zr()){this.ed=t,this.title=r,this.id=o,this.keys=n.map(i=>i.key),t._sceneChanged()}undo(){const t=this.ed._scene,n=this.keys.map(r=>{const o=t.objects.get(r);if(!o)throw Error(`Объект #${r} не существует`);return o});return new FT(this.ed,n,this.title,this.id)}}class d${constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title=`Расформирована группа #${n.key}`;const o=n.children;this.groupKey=n.key,this.childKeys=n.children.map(i=>i.key),n.set({children:[]}),this.delAct=new FT(t,[n]),t._createSelection(o)}undo(){const{ed:t,childKeys:n,groupKey:r,delAct:o}=this;o.undo();const i=t._scene,s=n.map(c=>{const d=i.objects.get(c);if(!d)throw Error(`Объект #${c} не существует`);return d}),a=i.objects.get(r);if(a?.type!=="group")throw Error(`#${r} не является группой`);return a.set({children:s}),t._createSelection([a]),new h$(t,a,this.id)}}class h${constructor(t,n,r=zr()){this.ed=t,this.id=r,this.groupKey=n.key,this.title=`Сформирована группа #${this.groupKey}`,t._sceneChanged()}undo(){const{groupKey:t,ed:n}=this,r=n._scene.objects.get(t);if(r?.type!=="group")throw Error(`#${t} не является группой`);return new d$(n,r,this.id)}}class lb{constructor(t,n,r,o=zr()){this.ed=t,this.id=o,this.updatedAt=Date.now(),this.objectKey=r?.key||0,this.sceneOrder=n.filter(i=>i.key>0).map(i=>i.key),this.title=`Изменен z-порядок #${this.objectKey}`}updateTimestamp(){this.updatedAt=Date.now()}undo(){const t=this.ed._scene,n=this.sceneOrder.map(i=>{const s=t.objects.get(i);if(!s||s.type==="group")throw Error(`Объект #${i} не существует`);return s}),r=t.order;t.set({order:n}),this.ed._refreshChildImages();const o=t.order.find(i=>i.key===this.objectKey)??null;return o&&this.ed._createSelection([o]),new lb(this.ed,r,o,this.id)}}class jT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменён порядок имиджей",this.childOrder=n.map(o=>o.key)}undo(){const t=this.ed.children,n=this.childOrder.map(r=>{const o=this.ed.children.find(i=>i.key===r);if(!o)throw Error(`Имидж #${r} не найден`);return o});return this.ed.setChildOrder(n),this.ed._refreshChildImages(),new jT(this.ed,t,this.id)}}class cb{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Перемещение объекта",this.transforms=n.map(o=>({key:o.key,x:o.x,y:o.y,w:o.width,h:o.height}))}undo(){const t=this.ed._scene,n=this.transforms.map(o=>{const i=t.objects.get(o.key);if(!i)throw Error(`Объект #${o.key} не существует`);return i}),r=new cb(this.ed,n,this.id);return this.transforms.forEach((o,i)=>{const s=n[i];s.set({x:o.x,y:o.y,width:o.w,height:o.h}),Ci(s)?._notifySlotMoved()}),this.ed._createSelection(n),r}}class VT{constructor(t,n,r,o=null,i=zr()){this.ed=t,this.angle=r,this.id=i,this.objectKey=n.key,this.pivot=o||{x:n.x,y:n.y},this.title=`Поворот объекта на: ${qu(PC(r))}`}undo(){const{objectKey:t,angle:n,pivot:r}=this,o=this.ed._scene.objects.get(t);if(!o)throw Error(`Объект #${t} не существует`);return o.rotate(-n,r),this.ed._createSelection([o]),new VT(this.ed,o,-n,r,this.id)}}class $T{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменение атрибутов объекта",this.targetObjectKey=n.key,this.attribsDTO=Array.from(Fp(n,!0),o=>({objectKey:o.key,attrib:o.attrib}))}undo(){const t=this.ed._scene,n=t.objects.get(this.targetObjectKey);if(!n)throw Error(`Объект #${this.targetObjectKey} не существует`);const r=this.attribsDTO.map(({objectKey:i})=>{const s=t.objects.get(i);if(!s)throw Error(`Объект #${i} не существует`);return s}),o=new $T(this.ed,n,this.id);return this.attribsDTO.forEach(({attrib:i},s)=>{r[s].set({attrib:i},!0)}),this.ed._createSelection([n]),o}}class zT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменение гипербазы",this.objectKey=n.key,this.savedHyper=n.data.hyper||null}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new zT(this.ed,n,this.id),{savedHyper:o}=this;return o?n.data.hyper=o:delete n.data.hyper,this.ed._createSelection([n]),r}}class UT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменение имени объекта",this.objectKey=n.key,this.objectName=n.data.name||""}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new UT(this.ed,n,this.id),{objectName:o}=this;return o?n.data.name=o:delete n.data.name,this.ed._createSelection([n]),r}}class HT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменение значения Input",this.inputObjectKey=n.key,this.inputObjectValue=n.value}undo(){const n=this.ed._scene.objects.get(this.inputObjectKey);if(n?.type!=="input")throw Error(`Объект Input #${this.inputObjectKey} не существует`);const r=new HT(this.ed,n,this.id);return n.set({value:this.inputObjectValue}),this.ed._createSelection([n]),r}}class GT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменение отображаемого фрагмента",this.isComplete=!1,this.imageViewKey=n.key,this.imageViewArea=n.area}undo(){const n=this.ed._scene.objects.get(this.imageViewKey);if(n?.type!=="imageView")throw Error(`Объект ImageView #${this.imageViewKey} не существует`);const r=new GT(this.ed,n,this.id);return n.set({area:this.imageViewArea}),this.ed._createSelection([n]),r}complete(){this.isComplete=!0}}class WT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменение свойств кисти",this.brushKey=n.key,this.color=n.color,this.style=n.style,this.rop=n.rop,this.hatch=n.hatch}undo(){const{ed:t}=this,r=t._scene.brushes.get(this.brushKey);if(!r)throw Error(`Кисть #${this.brushKey} не существует`);const o=new WT(this.ed,r);return r.set({color:this.color,hatch:this.hatch,rop:this.rop,style:this.style}),o}}class KT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Изменение свойств pen",this.penKey=n.key,this.color=n.color,this.rop=n.rop,this.style=n.style,this.width=n.width}undo(){const{ed:t}=this,r=t._scene.pens.get(this.penKey);if(!r)throw Error(`Pen #${this.penKey} не существует`);const o=new KT(this.ed,r);return r.set({width:this.width,color:this.color,style:this.style,rop:this.rop}),o}}class qT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Установка паттерна",this.brushKey=n.key,this.brushImageKey=n.image?.key||0}undo(){const{ed:t,brushImageKey:n}=this,r=t._scene,o=r.brushes.get(this.brushKey);if(!o)throw Error(`Кисть #${this.brushKey} не существует`);let i;if(n){const a=r.imagesOpaque.get(n);if(!a)throw Error(`Изображение #${this.brushImageKey} не существует`);i=a}else i=null;const s=new qT(t,o);return o.set({image:i}),s}}class f${constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Создано изображение",this.imageKey=n.key}undo(){const n=this.ed._scene.imagesOpaque.get(this.imageKey);if(!n)throw Error(`Изображение #${this.imageKey} не существует`);return new p$(this.ed,n)}}class p${constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Удаление изображения",this.imageDTO=n.toJSON(),this.imageDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.imageDeleted)r=n.image(this.imageDTO,{opaque:!0,key:this.imageDTO.key});else if(r=n.imagesOpaque.get(this.imageDTO.key),!r)throw Error(`Изображение #${this.imageDTO.key} не существует`);return new f$(t,r)}}class YT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Установка Pen",this.lineKey=n.key,this.linePenKey=n.pen?.key||0}undo(){const{ed:t,linePenKey:n}=this,r=t._scene,o=r.objects.get(this.lineKey);if(o?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let i;if(n){const a=r.pens.get(n);if(!a)throw Error(`Изображение #${this.linePenKey} не существует`);i=a}else i=null;const s=new YT(t,o);return o.set({pen:i}),s}}class ub{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Создан Pen",this.penKey=n.key}undo(){const n=this.ed._scene.pens.get(this.penKey);if(!n)throw Error(`Pen #${this.penKey} не существует`);return new ub(this.ed,n)}}class ige{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Удаление Pen",this.penDTO=n.toJSON(),this.penDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.penDeleted)r=n.pen(this.penDTO);else if(r=n.pens.get(this.penDTO.key),!r)throw Error(`Pen #${this.penDTO.key} не существует`);return new ub(t,r)}}class XT{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Установка Brush",this.lineKey=n.key,this.lineBrushKey=n.brush?.key||0}undo(){const{ed:t,lineBrushKey:n}=this,r=t._scene,o=r.objects.get(this.lineKey);if(o?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let i;if(n){const a=r.brushes.get(n);if(!a)throw Error(`Кисть #${this.lineBrushKey} не существует`);i=a}else i=null;const s=new XT(t,o);return o.set({brush:i}),s}}class db{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Создан Brush",this.brushKey=n.key}undo(){const n=this.ed._scene.brushes.get(this.brushKey);if(!n)throw Error(`Brush #${this.brushKey} не существует`);return new db(this.ed,n)}}class sge{constructor(t,n,r=zr()){this.ed=t,this.id=r,this.title="Удаление Brush",this.brushDTO=n.toJSON(),this.brushDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.brushDeleted)r=n.brush(this.brushDTO);else if(r=n.brushes.get(this.brushDTO.key),!r)throw Error(`Изображение #${this.brushDTO.key} не существует`);return new db(t,r)}}class ZT{constructor(t,n=zr()){this.commits=t,this.id=n,this.title=t[0].title}undo(){const t=bq(this.commits,n=>n.undo());return new ZT(t,this.id)}}class age{constructor(t){this.ed=t,this.canUndo=!1,this.canRedo=!1,this.redoCommits=[],this.undoCommits=[],this.pendingEdit=null,this.pendingMode=!1,this.lastActionID=0,this.savedActionID=0,this.saveTaskQueued=!1,this.batchEdits=[],this.batchMode=!1,vt(this,{hasChanges:qr,lastActionID:Pe.ref,savedActionID:Pe.ref,canUndo:Pe.ref,canRedo:Pe.ref})}get hasChanges(){return this.savedActionID!==this.lastActionID}markUnchanged(){this.savedActionID=this.lastActionID}saveCreatedObjects(t){this.finishActions(),this.addEdit(new u$(this.ed,t))}deleteObjects(t){this.finishActions(),this.addEdit(new FT(this.ed,t))}saveNewGroup(t){this.finishActions(),this.addEdit(new h$(this.ed,t))}ungroupGroup(t){this.finishActions(),this.addEdit(new d$(this.ed,t))}saveTransform(t){this.finishActions()&&this.addEdit(new cb(this.ed,[t]))}savePositions(t){this.finishActions()&&this.addEdit(new cb(this.ed,t))}saveRotation(t,n,r){this.finishActions(),this.addEdit(new VT(this.ed,t,n,r))}saveHyper(t){this.finishActions(),this.addEdit(new zT(this.ed,t))}saveAttrib(t){this.finishActions(),this.addEdit(new $T(this.ed,t))}saveName(t){this.finishActions(),this.addEdit(new UT(this.ed,t))}savePoints(t){this.finishActions()}saveArrows(t){this.finishActions()}saveArea(t){this.finishActions()&&this.addEdit(new GT(this.ed,t))}saveInputValue(t){this.finishActions(),this.addEdit(new HT(this.ed,t))}savePenProps(t){this.finishActions()&&this.addEdit(new KT(this.ed,t))}saveBrushProps(t){this.finishActions()&&this.addEdit(new WT(this.ed,t))}saveBrushImage(t){this.finishActions(),this.addEdit(new qT(this.ed,t))}saveCreatedPen(t){this.finishActions(),this.addEdit(new ub(this.ed,t))}saveCreatedBrush(t){this.finishActions(),this.addEdit(new db(this.ed,t))}saveCreatedImage(t){this.finishActions(),this.addEdit(new f$(this.ed,t))}deleteImage(t){this.finishActions(),this.addEdit(new p$(this.ed,t))}deletePen(t){this.finishActions(),this.addEdit(new ige(this.ed,t))}saveLinePen(t){this.finishActions(),this.addEdit(new YT(this.ed,t))}deleteBrush(t){this.finishActions(),this.addEdit(new sge(this.ed,t))}saveLineBrush(t){this.finishActions(),this.addEdit(new XT(this.ed,t))}saveSceneOrder(t,n=null,r=300){this.finishActions();const o=this.undoCommits.at(-1);if(o instanceof lb&&Date.now()-o.updatedAt<r){o.updateTimestamp();return}const i=new lb(this.ed,t,n);this.addEdit(i)}saveChildOrder(){this.finishActions(),this.addEdit(new jT(this.ed,this.ed.children))}separateCommit(){this.undoCommits.at(-1)?.complete?.()}undo(){const t=this.undoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof AT&&this.undoCommits.push(t),r}this.redoCommits.push(n),this.lastActionID=this.undoCommits.at(-1)?.id||0,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}redo(){const t=this.redoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof AT&&this.redoCommits.push(t),r}this.undoCommits.push(n),this.lastActionID=n.id,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}batch(t){this.batchMode=!0;const n=t();this.batchMode=!1;const{batchEdits:r}=this;if(this.batchEdits=[],!this.finishActions())return n;let o;return r.length>1?o=new ZT(r):o=r[0],this.addEdit(o),n}pendNextEdit(){this.pendingMode=!0}pushPendingEdit(){this.pendingMode=!1;const{pendingEdit:t}=this;t&&(this.pendingEdit=null,this.addEdit(t))}clearPendingEdit(){this.pendingMode=!1,this.pendingEdit=null}addEdit(t){if(this.batchMode){this.batchEdits.push(t);return}if(this.pendingMode){const n=this.pendingEdit;n&&(this.addEditToStack(n),console.warn(`Действие '${n.title}' было завершено автоматически.
Оно должно быть завершено вручную через '${this.pushPendingEdit.name}' или '${this.clearPendingEdit.name}'`)),this.pendingEdit=t;return}this.addEditToStack(t)}addEditToStack(t){this.undoCommits.push(t),this.canUndo=!0,this.redoCommits=[],this.canRedo=!1,this.lastActionID=t.id,this.saveChanges()}saveChanges(){this.saveTaskQueued||(this.saveTaskQueued=!0,queueMicrotask(()=>{this.saveTaskQueued=!1,this.ed._saveChanges()}))}finishActions(){return this.batchMode?!0:this.pendingEdit?!1:(this.ed._actions.finishCurrent(),!0)}}class hb{constructor(t,n){this.scene=t,this._jf=n,n.key>0&&n.type==="group"?this.children=n.children.map(r=>new hb(t,r)):this.children=[],this.isChildImage=n.key<0,this.isChildIcon=!!n.data[XV],vt(this,{select:ye})}get key(){return this._jf.key}get type(){return this._jf.type}get name(){return this._jf.data.name||""}select(){this.scene._createSelection([this._jf],!0)}}function QT(e,t){return Array.from({length:t-e+1},(n,r)=>{const o=r+e;return[o,o.toString()]})}const fb=QT(0,15),g$=QT(16,23),lge=QT(24,31);class m${constructor(t,n,{canResize:r=!0,canMove:o=!0,canRotate:i=!0,canSetName:s=!0,canSetHyper:a=!0,layerRange:c=fb}){this.scene=t,this._canResize=r,this.canMove=o,this.canRotate=i,this.canSetName=s,this.canSetHyper=a,this.layerRange=c;const{x:d,y:h,width:f,height:g,data:m,attrib:y}=n,{name:b="",hyper:v=null}=m,S=Hv(Zu(y),c[0][0],c.at(-1)[0]),E=!!(y&Ap);this.x=d,this.y=h,this.width=f,this.height=g,this.name=b,this.layer=S,this.isUnselectable=E,this.hyper=v,vt(this,{x:Pe.ref,y:Pe.ref,width:Pe.ref,height:Pe.ref,name:Pe.ref,isUnselectable:Pe.ref,layer:Pe.ref,hyper:Pe.ref,set:ye,rotate:ye,delete:ye})}destroy(){}onTransformChanged(){}get key(){return this._jf.key}get canResize(){return this._canResize}set({x:t=this.x,y:n=this.y,width:r=this.width,height:o=this.height,name:i=this.name,layer:s=this.layer,isUnselectable:a=this.isUnselectable,hyper:c=this.hyper}){const d=this._jf;if(r=Math.max(r,1),o=Math.max(o,1),(this.x!==t||this.y!==n||this.width!==r||this.height!==o)&&(this.x=t,this.y=n,this.width=r,this.height=o,this.scene._history.saveTransform(d),d.set({x:t,y:n,width:r,height:o}),this.onTransformChanged(),Ci(d)?._notifySlotMoved(),md(d)?._notifySelectedObjectTransformed()),this.name!==i&&(this.name=i,this.scene._history.saveName(d),i?d.data.name=i:delete d.data.name),this.layer!==s||this.isUnselectable!==a){this.layer=s,this.isUnselectable=a;const h=(a?Ap:0)|QC(s);this.scene._history.saveAttrib(d),d.set({attrib:h})}this.hyper!==c&&(this.hyper=c,this.scene._history.saveHyper(d),c?d.data.hyper=c:delete d.data.hyper)}rotate(t,n){if(t===0)return;const r=this._jf;this.scene._history.saveRotation(r,t,n),r.rotate(t,n),this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,md(r)?._notifySelectedObjectTransformed()}delete(){md(this._jf)?.reset(),this.scene._history.deleteObjects([this._jf])}}class yg extends m${constructor(t,n,r={}){super(t,n,r),this._z=n.scene.order.indexOf(n),vt(this,{_z:Pe.ref,moveToTop:ye,moveToBottom:ye,increaseZ:ye,decreaseZ:ye})}get z(){return this._z+1}setZ(t){if(this._z===t||t<0)return;const n=this._jf.scene,r=n.order,o=kC(r,t,this._jf);n.set({order:o}),this.scene._refreshChildImages();const i=n.order.indexOf(this._jf);i!==this._z&&(this._z=i,this.scene._history.saveSceneOrder(r,this._jf))}moveToTop(){this.setZ(this._jf.scene.order.length-1)}moveToBottom(){this.setZ(0)}increaseZ(){this.setZ(this._z+1)}decreaseZ(){this.setZ(this._z-1)}}class v${constructor(t,n){const{color:r,rop:o,style:i,width:s}=n;this.style=i,this.color=r,this.rop=o,this.width=s,this.scene=t,this._jf=n,vt(this,{style:Pe.ref,color:Pe.ref,rop:Pe.ref,width:Pe.ref,set:ye})}set({style:t=this._jf.style,color:n=this.color,rop:r=this.rop,width:o=this.width}){this.style=t,this.color=n,this.rop=r,this.width=o,this.scene._history.savePenProps(this._jf),this._jf.set({color:n,rop:r,style:t,width:o})}}class y${constructor(t,n,r){const{color:o,rop:i,style:s,hatch:a,image:c}=n;this.style=s,this.color=o,this.rop=i,this.hatch=a,this.image=c,this.scene=t,this._jf=n,this.target=r,vt(this,{color:Pe.ref,rop:Pe.ref,style:Pe.ref,hatch:Pe.ref,image:Pe.ref,set:ye,setImage:ye})}set({style:t=this.style,color:n=this.color,rop:r=this.rop,hatch:o=this.hatch}){const i=this.scene._history;i.batch(()=>{this.color=n,this.style=t,this.rop=r,this.hatch=o;const s=this._jf;if(i.saveBrushProps(s),s.set({color:n,rop:r,style:t,hatch:o}),s.image&&t!==et.BS_PATTERN){this.image=null;const a=s.image;i.saveBrushImage(s),s.set({image:null}),i.deleteImage(a)}})}setImage(t){const n=this.scene._history;n.batch(()=>{this.image=t;const r=this._jf,o=this.scene._scene.image(t,{opaque:!0});n.saveCreatedImage(o);const i=r.image;n.saveBrushImage(r),r.set({image:o}),i&&n.deleteImage(i)})}}const $c=5;class cge extends yg{constructor(t,n){const r=rb(n);super(t,n,{canMove:!r,canResize:!r,canRotate:!r,canSetName:!r,canSetHyper:!r,layerRange:r?lge:fb}),this.isPointsEditModeActive=!1,this.type="line",this.hasAngle=!1,this.pen=n.pen&&new v$(t,n.pen),this.brush=n.brush&&new y$(t,n.brush,n),this.start=n.start,this.end=n.end,this.connection=r,this._jf=n;const o=t._tools,i=t._scene,s=o.blackSelectionBorderPen,a=o.redBrush,c=Bl|Ua|Rs,d=[],h=[],f=$c*2;for(let g=0;g<n.length;++g){const m=n.point(g);d.push(m);const y=i.line([0,0,f,0,f,f,0,f],{key:Do,x:m.x-$c,y:m.y-$c,brush:a,pen:s,attrib:c});h.push(y)}i.set({order:i.order.concat(h)}),this.points=d,this.markers=h,vt(this,{pen:Pe.ref,brush:Pe.ref,start:Pe.ref,end:Pe.ref,points:Pe.ref,isPointsEditModeActive:Pe.ref,createPen:ye,removePen:ye,createBrush:ye,removeBrush:ye,setArrows:ye,addPoint:ye,removePoint:ye,setPoint:ye,setPointsEditMode:ye})}destroy(){const t=this.scene._scene;t.set({order:t.order.filter(n=>!this.markers.includes(n))})}setPointsEditMode(t){this.isPointsEditModeActive=t;const{selection:n}=this.scene;if(n?.type==="single")if(n.setVisible(!t),t){const r=this.markers.length-1;this.markers.forEach((o,i)=>{o.set({attrib:o.attrib&-6}),o.data[gd]={selection:n,direction:"both",lineEditorIndex:i,notifyPositionChanged:this.alignPointsToShape.bind(this,o),complete:lo((i===0||i===r)&&this.complete.bind(this,o))}})}else this.markers.forEach(r=>r.set({attrib:r.attrib|(Ua|Rs)})),n._notifySelectedObjectTransformed()}complete(t){}alignPointsToShape(t=null){const n=this._jf,r=[];for(let o=0;o<n.length;++o){const i=n.point(o);r.push(i);const s=this.markers[o];s!==t?s.set({x:i.x-$c,y:i.y-$c}):n.setPoint(o,{x:t.x+$c,y:t.y+$c})}this.points=r,this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.connection?.updateShift()}onTransformChanged(){this.alignPointsToShape()}createPen(t){if(this.pen)return;const n=this.scene._scene.pen(t),r=this._jf,o=this.scene._history;o.batch(()=>{o.saveCreatedPen(n),o.saveLinePen(r)}),r.set({pen:n}),this.pen=new v$(this.scene,n)}removePen(){const{pen:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLinePen(n),n.set({pen:null}),r.deletePen(t._jf)}),this.pen=null}createBrush(t){if(this.brush)return;const n=this.scene._scene.brush(t),r=this._jf,o=this.scene._history;o.batch(()=>{o.saveLineBrush(r),r.set({brush:null}),o.saveCreatedBrush(n)}),r.set({brush:n}),this.brush=new y$(this.scene,n,this._jf)}removeBrush(){const{brush:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLineBrush(n),n.set({brush:null}),r.deleteBrush(t._jf)}),this.brush=null}setArrows({start:t=this.start,end:n=this.end}){this.start=t,this.end=n,this.scene._history.saveArrows(this._jf),this._jf.set({start:t,end:n})}onSinglePointChanged(){this.alignPointsToShape();const t=this._jf;this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,md(t)?._notifySelectedObjectTransformed()}addPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.addPoint({x:t,y:n},r);const o=$c*2,i=this.scene._tools,s=this.scene._scene,a=s.line([0,0,o,0,o,o,0,o],{key:Do,x:t,y:n,brush:i.redBrush,pen:i.blackSelectionBorderPen});this.markers.push(a),s.set({order:s.order.concat(a)}),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive)}setPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.setPoint(t,{x:n,y:r}),this.connection?.updateShift(),this.onSinglePointChanged()}removePoint(t){this.scene._history.savePoints(this._jf),this._jf.removePoint(t)&&(this.markers.splice(t,1)[0].delete(!0),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive))}}class uge extends yg{constructor(t,n){const r=Vpe(n);super(t,n,{canResize:!r,canRotate:!r,layerRange:r?g$:fb}),this.type="imageView",this.hasAngle=!0,this.pad=r,this.angle=n.angle,this.area=n.area,this._jf=n,vt(this,{angle:Pe.ref,area:Pe.ref,setAngle:ye,setArea:ye})}get image(){return this._jf.image}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,md(n)?._notifySelectedObjectTransformed()}setArea(t){this.area=t,this.scene._history.saveArea(this._jf),this._jf.set({area:t})}}class dge extends yg{constructor(t,n){super(t,n),this.type="textView",this.hasAngle=!0,this._jf=n,this.angle=n.angle,vt(this,{angle:Pe.ref,setAngle:ye})}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,md(n)?._notifySelectedObjectTransformed()}}class hge extends yg{constructor(t,n){super(t,n,{canRotate:!1,canSetHyper:!1}),this.type="input",this.hasAngle=!1,this._jf=n,this.value=n.value,vt(this,{value:Pe.ref,setValue:ye})}get inputType(){return this._jf.inputType}setValue(t){this.value=t,this.scene._history.saveInputValue(this._jf),this._jf.set({value:t})}}class fge extends yg{constructor(t,n){super(t,n,{canRotate:!1}),this.type="videoView",this.hasAngle=!1,this._jf=n}}class pge extends m${constructor(t,n){const r=gg(n);super(t,n,{canRotate:!r,layerRange:r?g$:fb}),this.type="group",this.hasAngle=!1,this._jf=n,this.child=r,this.children=n.children.map(o=>new hb(t,o)),vt(this,{ungroup:ye,canResize:qr})}get canResize(){return this.child?this.child.schema.klass.image?.resizable||!1:!0}get canUngroup(){return!this.child}ungroup(){As.assert(this.canUngroup);const t=this._jf;md(t)?.reset();const n=t.children;this.scene._history.ungroupGroup(t),this.scene._createSelection(n)}}class gge{constructor(t,n){this._reactKey=fk(),this.type="_pseudoGroup",this._jf=t.map(i=>i._jf),this.objects=t,this.selection=n;const{x:r,y:o}=iy(this._jf);this.x=r,this.y=o,this.canCreateGroup=t.filter(i=>!pg(i._jf)).length>1,this.canCreateConnection=t.length===2&&t.every(i=>Ci(i._jf)),vt(this,{x:Pe.ref,y:Pe.ref,createConnection:ye,createGroup:ye,delete:ye,set:ye})}get canMove(){return!0}set({x:t=this.x,y:n=this.y}){const r=t-this.x,o=n-this.y;r===0&&o===0||(this.x=t,this.y=n,this.selection.scene._history.savePositions(this._jf),this._jf.forEach(i=>{const s=i.x+r,a=i.y+o;i.set({x:s,y:a}),Ci(i)?._notifySlotMoved()}),this.selection._notifySelectedObjectTransformed())}createGroup(){As.assert(this.canCreateGroup);const t=this.selection.scene;this.selection.reset();const n=t._scene.group(this._jf.filter(r=>!pg(r)));t._history.saveNewGroup(n),t._createSelection([n])}createConnection(){As.assert(this.canCreateConnection),this.selection.scene.startCreateConnection()}delete(){this.selection.reset(),this.selection.scene._history.deleteObjects(this._jf)}}function mge(e,t){switch(t.type){case"line":return new cge(e,t);case"imageView":return new uge(e,t);case"textView":return new dge(e,t);case"input":return new hge(e,t);case"videoView":return new fge(e,t);case"group":return new pge(e,t)}}class vge{constructor(t,n){this.target=n;const r=t._scene,o=t._tools;this.scene=r;const i=o.blueSelectionShadowBrush,s=n.objects.map(({_jf:a})=>{const c=r.line([0,0,a.width,0,a.width,a.height,0,a.height],{key:Do,attrib:Bl|Rs,x:a.x,y:a.y,brush:i});return DT(a)&&c.rotate(a.angle,a),c});r.set({order:r.order.concat(s)}),this.shadows=s}align(){const{objects:t}=this.target;this.shadows.forEach((n,r)=>{const o=t[r]._jf,{x:i,y:s}=o;n.set({x:i,y:s}),DT(o)?n.rotate(-o.angle).set({x:i,y:s}).rotate(o.angle,o):n.set({x:i,y:s})})}toTop(){const{shadows:t,scene:n}=this,r=n.order.filter(o=>!t.includes(o)).concat(t);n.set({order:r})}remove(){const{shadows:t,scene:n}=this,r=n.order.filter(o=>!t.includes(o));n.set({order:r})}}class yge{constructor(t,n){this.type="multi",this.scene=t,n.forEach(o=>o._jf.data[Vc]=this);const r=this.object=new gge(n,this);this.shadow=new vge(t,r),vt(this,{reset:ye})}setVisible(t){}reset(){this.shadow.remove(),this.object.objects.forEach(({_jf:t})=>delete t.data[Vc]),this.scene._notifySelectionRemoved()}_notifySelectedObjectTransformed(){this.shadow.align()}_notifySceneOrderChanged(){this.shadow.toTop()}_getJF(){return this.object._jf}}const Yr=10,b$=Math.PI*2;class bge{constructor(t){const{scene:n}=t,r=this.scene=n._scene,o=n._tools,i=o.blackSelectionBorderPen,s=o.graySelectionBorderBrush,a=Bl|Rs,{a:c,b:d}=t,h=o.makeBorder(c.slot,!0),f=o.makeBorder(d.slot,!0),g=[h,f],{slot:m}=t;if(m.length===2){const{x:y,y:b}=t.slot.point(0),{x:v,y:S}=t.slot.point(1),E=(y+v+Yr)/2,T=(b+S+Yr)/2,R=r.line([0,0,Yr,0,Yr,Yr,0,Yr],{key:Do,x:E-Yr,y:T-Yr,brush:s,pen:i,attrib:a});g.push(R)}r.set({order:r.order.concat(g)}),this.objects=g}setVisible(t){}align(){}toTop(){const{scene:t,objects:n}=this,r=t.order.filter(o=>!n.includes(o)).concat(n);t.set({order:r})}remove(){const{scene:t,objects:n}=this,r=t.order.filter(o=>!n.includes(o));t.set({order:r})}}class wge{constructor(t,n){this.prevAngle=0;const{scene:r}=n;this.selection=t,this.o=n,this.scene=r;const o=r._scene,i=r._tools,s=n.canResize&&(!n.hasAngle||n.angle%b$===0),a=s?i.blackSelectionBorderPen:null,c=s?i.graySelectionBorderBrush:i.transparentSelectionBorderBrush,d=Bl|(s?0:Rs),h=(v,S,E="both")=>{const T=o.line([0,0,Yr,0,Yr,Yr,0,Yr],{key:Do,x:v,y:S,brush:c,pen:a,attrib:d});return T.data[gd]={selection:t,direction:E,notifyPositionChanged:this.resizeWith.bind(this,T)},T},f=n.x-Yr,g=n.y-Yr,m=n.width+Yr,y=n.height+Yr,b=[h(f,g),h(f+m/2,g,"vert"),h(f+m,g),h(f+m,g+y/2,"horiz"),h(f+m,g+y),h(f+m/2,g+y,"vert"),h(f,g+y),h(f,g+y/2,"horiz")];n.canRotate&&n.hasAngle&&(b.forEach(v=>v.rotate(n.angle,n)),this.prevAngle=n.angle),o.set({order:o.order.concat(...b)}),this.border=b}setVisible(t){t?this.border.forEach(n=>n.set({attrib:n.attrib&-6})):this.border.forEach(n=>n.set({attrib:n.attrib|(Ua|Rs)}))}align(){const{o:t,border:n}=this,r=t.x-Yr,o=t.y-Yr,i=t.width+Yr,s=t.height+Yr,a=t.canRotate&&t.hasAngle;if(a){const c=t.angle%b$;for(const d of this.border){d.rotate(-this.prevAngle);let{attrib:h}=d;c?h|=Rs:h&=~Rs;const f=this.scene._tools;d.set({attrib:h,pen:c?null:f.blackSelectionBorderPen,brush:c?f.transparentSelectionBorderBrush:f.graySelectionBorderBrush})}}n[0].set({x:r,y:o}),n[1].set({x:r+i/2,y:o}),n[2].set({x:r+i,y:o}),n[3].set({x:r+i,y:o+s/2}),n[4].set({x:r+i,y:o+s}),n[5].set({x:r+i/2,y:o+s}),n[6].set({x:r,y:o+s}),n[7].set({x:r,y:o+s/2}),a&&(this.border.forEach(c=>c.rotate(t.angle,t)),this.prevAngle=t.angle)}toTop(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(o=>!t.includes(o)).concat(t);n.set({order:r})}remove(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(o=>!t.includes(o));n.set({order:r})}resizeWith(t){const n=this.border,r=[n[0],n[1],n[2]],o=[n[2],n[3],n[4]],i=[n[4],n[5],n[6]],s=[n[6],n[7],n[0]],{x:a,y:c}=t;r.includes(t)&&r.forEach(v=>v.set({y:c})),i.includes(t)&&i.forEach(v=>v.set({y:c})),s.includes(t)&&s.forEach(v=>v.set({x:a})),o.includes(t)&&o.forEach(v=>v.set({x:a})),r[1].set({x:(r[0].x+r[2].x)/2}),i[1].set({x:(i[0].x+i[2].x)/2}),s[1].set({y:(s[0].y+s[2].y)/2}),o[1].set({y:(o[0].y+o[2].y)/2});const d=s.reduce((v,S)=>Math.min(v,S.x),1/0),h=o.reduce((v,S)=>Math.max(v,S.x),-1/0),f=r.reduce((v,S)=>Math.min(v,S.y),1/0),g=i.reduce((v,S)=>Math.max(v,S.y),-1/0),m=h-d-Yr,y=g-f-Yr,{o:b}=this;this.selection._notifyBorderRectChanged({x:m<1?b.x:d+Yr,y:y<1?b.y:f+Yr,w:Math.max(m,1),h:Math.max(y,1)}),(m<1||y<1)&&this.align()}}class Sge{constructor(t,n){this.type="single",this.ignoreObjectTransforms=!1,this.scene=t,this.object=n,n._jf.data[Vc]=this;const r=n.type==="line"&&n.connection;r?this.border=new bge(r):this.border=new wge(this,n),vt(this,{reset:ye})}setVisible(t){this.border.setVisible(t)}reset(){delete this.object._jf.data[Vc],this.border.remove(),this.scene._notifySelectionRemoved(),this.object.destroy()}_notifyBorderRectChanged(t){const{x:n,y:r,w:o,h:i}=t;this.ignoreObjectTransforms=!0,this.object.set({x:n,y:r,width:o,height:i}),this.ignoreObjectTransforms=!1}_notifySelectedObjectTransformed(){this.ignoreObjectTransforms||this.border.align()}_notifySceneOrderChanged(){this.border.toTop()}_getJF(){return[this.object._jf]}}const w$=65535,S$=255<<16,C$=255<<24,Cge=1,xge=2,_ge=4,Ege=new Pp(window),pb=new Set;function Tge(){return pb.size?(pb.forEach(e=>e._scene.render()),!0):!1}function Mge(e){pb.add(e),Ege.run(Tge)}function x$(e){pb.delete(e)}class JT{constructor(t,{fileContentTransfer:n=null,fileUploader:r=null,schema:o=null}={}){this.onNodeSelected=new Kr,this.onSaved=new Kr,this.selection=null,this.textEditor=null,this.lastCursorX=0,this.lastCursorY=0,this.viewScale=1,this._actions=new oge(this),this._history=new age(this),this.cameraMoveStart=null,this.prevPicked=null,this.highlightedItem=null,this.lastCutId="",this.pointerInside=!1,this.focusAfterViewMounted=null,this.isViewMounted=!1,this._childImageChanged=()=>{this._refreshChildImages(),this.selection&&this._createSelection(this.selection._getJF()),this.connections.forEach(d=>d._notifyTargetMoved())},this.handleWheel=d=>{if(d.preventDefault(),d.stopPropagation(),Yu.zoomWithCtrl&&!d.ctrlKey){const y=this._scene;this.setSceneXY(y.x+Math.round(d.deltaX*.5),y.y+Math.round(d.deltaY*.5));return}const f=this.viewScale,g=Math.sign(d.deltaY)*Math.max(f**2,1)*.1,m=f-g;this._setScale(m,d)},this.handleCopy=d=>{if(!this.isFocused)return;d.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&a$(d.clipboardData,h)},this.handleCut=d=>{if(!this.isFocused)return;d.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&(a$(d.clipboardData,h),d.clipboardData.setData(`editor-cut-${this.lastCutId=OT()}`,"true")),this.selection?.object.delete()},this.handlePaste=d=>{this.isFocused&&(d.preventDefault(),this.insertFromDropOrPaste(d.clipboardData,{x:this.lastCursorX,y:this.lastCursorY}))},this.handleDrop=d=>{this.handleDragLeave(),d.preventDefault(),d.stopPropagation(),this.focus();const h=this._scene.x+Math.round(d.offsetX),f=this._scene.y+Math.round(d.offsetY);this.insertFromDropOrPaste(d.dataTransfer,{x:h,y:f})},this.handleDragOver=d=>{d.preventDefault();const h=d.dataTransfer;h.dropEffect="none";const f=this.fileContentTransfer?.get(h);if(f){(f.image||f.scene||this.schema&&f.klass?.isInLibrary)&&(h.dropEffect="link");return}const{items:g,types:m}=h;if(g.length&&g[0].type.startsWith("image/")||m.some(y=>y==="text/plain")){h.dropEffect="copy";return}},this.handleDragEnter=d=>{this.handleDragOver(d),d.dataTransfer.dropEffect!=="none"&&this.view.parentElement?.style.setProperty("outline","dashed orange 2px")},this.handleDragLeave=()=>{this.view.parentElement?.style.setProperty("outline","none")},this.handlePointer=d=>{if(!d.isPrimary)return;d.preventDefault(),d.stopPropagation();const h=Math.round(d.offsetX),f=Math.round(d.offsetY),g=this._scene.x+h,m=this._scene.y+f;if(d.type==="pointerdown"&&(this.view.setPointerCapture(d.pointerId),this.focus()),d.ctrlKey?this._tryHighlight(g,m,d.shiftKey):this._removeHighlights(),d.buttons&xge){this.cameraMoveStart||={x:g,y:m};const v=this.cameraMoveStart.x-h,S=this.cameraMoveStart.y-f;this._scene.set({x:v,y:S})}else this.cameraMoveStart=null,this.lastCursorX=g,this.lastCursorY=m;const y=this._actions;if(!y.canHandlePointer)return;if(d.buttons&_ge){y.inAction?y.finishCurrent():this.selection?.reset();return}const b=(d.type==="pointermove"||d.buttons&Cge)&&d.type!=="pointercancel"?d.type:"pointerup";y.handlePointer({type:b,ctrlKey:d.ctrlKey,shiftKey:d.shiftKey,sceneX:g,sceneY:m})},this.handlePointerEnter=()=>{this.pointerInside=!0},this.handlePointerLeave=()=>{this.pointerInside=!1,this._removeHighlights()},this.handleWindowKeyboardEvent=d=>{!d.repeat&&this.pointerInside&&(d.key==="Control"||d.key==="Shift")&&(d.ctrlKey?this._tryHighlight(this.lastCursorX,this.lastCursorY,d.shiftKey):this._removeHighlights())},this.handleKeyboard=d=>{this._handleKeyboard(d)&&(d.preventDefault(),d.stopPropagation())};const i=this._scene=new YV(t),{domElement:s}=i;s.tabIndex=-1,s.style.outline="none",s.style.transformOrigin="top left",i.set({disableInputs:!0});const{hiddenLayers:a,selectUnselectable:c}=i;this.hideOther=!!(a&w$),this.hideChildren=!!(a&S$),this.hideConnections=!!(a&C$),this.selectUnselectable=c,this._tools=new jpe(i),this.fileContentTransfer=n,this.fileUploader=r,o?(this.schema=o,this.pads=wi(i.order,d=>d.type==="imageView"&&d.image.src===qC.src&&new ab(this,d)),this.children=o.children.list.map(d=>{const h=i.objects.get(d.key);if(h?.type!=="group")throw Error(`Изображение имиджа '${d}' отсутствует на сцене`);return new sb(this,d,h)}),this.connections=o.childConnections.list.map(d=>{const h=i.objects.get(d.key);if(h?.type!=="line")throw Error(`Изображение связи '#${d.key}' отсутствует на сцене`);return new vg(this,d,h)})):(this.schema=null,this.pads=[],this.children=[],this.connections=[]),vt(this,{schema:Pe.ref,lastCursorX:Pe.ref,lastCursorY:Pe.ref,viewScale:Pe.ref,selection:Pe.ref,children:!1,pads:!1,connections:!1,hideChildren:Pe.ref,hideConnections:Pe.ref,hideOther:Pe.ref,selectUnselectable:Pe.ref,textEditor:Pe.ref,handleDrop:ye,handlePointer:ye,handleCopy:ye,handleCut:ye,handlePaste:ye,handlePointerLeave:ye,handleWindowKeyboardEvent:ye,handleKeyboard:ye,handleWheel:ye,setLayers:ye,setChildOrder:ye,cancel:ye,undo:ye,redo:ye,save:ye,selectAll:ye,selectNext:ye,startCreateConnection:ye,startCreateText:ye,startCreateInput:ye,startCreateRect:ye,startCreateLine:ye,startCreateButton:ye,openTextEditor:ye,startReorderChildren:ye,replaceSchema:ye,onViewMounted:ye,onViewUnmounted:ye,pendNextEdit:ye,pushPendingEdit:ye,resetScale:ye,uploadFile:oo,focus:!1,dispose:!1}),s.addEventListener("contextmenu",dk),s.addEventListener("wheel",this.handleWheel,{passive:!1}),s.addEventListener("dragover",this.handleDragOver),s.addEventListener("dragenter",this.handleDragEnter),s.addEventListener("dragleave",this.handleDragLeave),s.addEventListener("drop",this.handleDrop),s.addEventListener("pointerdown",this.handlePointer),s.addEventListener("pointermove",this.handlePointer),s.addEventListener("pointerup",this.handlePointer),s.addEventListener("pointercancel",this.handlePointer),s.addEventListener("pointerenter",this.handlePointerEnter),s.addEventListener("pointerleave",this.handlePointerLeave),s.addEventListener("keydown",this.handleKeyboard),s.addEventListener("keyup",this.handleKeyboard),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste),document.addEventListener("cut",this.handleCut),window.addEventListener("keydown",this.handleWindowKeyboardEvent),window.addEventListener("keyup",this.handleWindowKeyboardEvent)}dispose(){this.children.forEach(t=>t._unsubscribe()),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("cut",this.handleCut),window.removeEventListener("keydown",this.handleWindowKeyboardEvent),window.removeEventListener("keyup",this.handleWindowKeyboardEvent),x$(this),this._scene.dispose()}resetScale(){this._setScale(1)}replaceSchema(t){if(As.assert(this.schema),t!==this.schema){if(t.klass!==this.schema.klass)throw Error("Типы имиджей не совпадают");this.schema=t,this.pads.forEach(n=>n._replaceSchema()),t.children.list.forEach((n,r)=>{this.children[r]._replaceSchema(n)}),t.childConnections.list.forEach((n,r)=>{this.connections[r]._replaceConnection(n)})}}setLayers({hideChildren:t=this.hideChildren,hideConnections:n=this.hideConnections,hideOther:r=this.hideOther,selectUnselectable:o=this.selectUnselectable}){if(this.hideOther!==r||this.hideChildren!==t||this.hideConnections!==n){this.hideChildren=t,this.hideConnections=n,this.hideOther=r;const i=(r?w$:0)|(t?S$:0)|(n?C$:0);this._scene.set({hiddenLayers:i}),this._saveChanges()}this.selectUnselectable!==o&&(this._scene.set({selectUnselectable:o}),this.selectUnselectable=o)}setChildOrder(t){const{schema:n}=this;n&&(n.reorderChildren(t.map(r=>r.schema)),this.children=t)}get hasChanges(){return this._history.hasChanges}get inAction(){return this._actions.inAction}get isInChildReorderMode(){return this._actions.isInChildReorderMode}get canUndo(){return this._history.canUndo}undo(){this._history.undo()}get canRedo(){return this._history.canRedo}redo(){this._history.redo()}cancel(){this._actions.finishCurrent()}_abort(){}selectAll(){this._actions.finishCurrent();const t=o$(this._scene);t.length&&this._createSelection(t)}selectNext(t){this._actions.finishCurrent();const n=o$(this._scene);if(!n.length)return;const r=this.selection?._getJF()[0].key||0,o=n.sort((s,a)=>t?a.key-s.key:s.key-a.key),i=o.find(s=>t?s.key<r:s.key>r)||o[0];this._createSelection([i],!0)}startCreateConnection(){if(!this.schema)return;this._abort(),this.setLayers({hideConnections:!1,hideChildren:!1});let t=null,n=null;const r=this.selection?._getJF();if(r&&(r.length===1||r.length===2)&&(t=Ci(r[0]),n=r.length===2?Ci(r[1]):null),t&&n){const o=this.connections.find(c=>c.includes(t)&&c.includes(n));if(o){this._createSelection([o.slot]);return}const i=this.createConnectionSlot(t,n),s=this.schema.createConnection(t.schema,n.schema,{key:i.key,aPadKey:lo(t.type==="pad"&&t.key),bPadKey:lo(n.type==="pad"&&n.key)});this._createConnection(i,s);const a=[i];this._history.saveCreatedObjects(a),this._createSelection(a)}else{this.selection?.reset();const o=t||n;this._actions.startCreateConnection(o)}}startReorderChildren(){this.schema&&(this.selection?.reset(),this.setLayers({hideChildren:!1}),this._actions.startReorderChildren())}startCreateLine(){this.setLayers({hideOther:!1}),this._actions.startCreateLine()}startCreateText(){this.setLayers({hideOther:!1}),this._actions.startSelectSampleCoords(Hpe,"Выбор координат элемента текста")}startCreateSample(t,n){this.setLayers({hideOther:!1}),this._actions.startCreateSample(t,n)}startCreateInput(){this.startCreateSample(Gpe,"Создание элемента ввода")}startCreateButton(){this.startCreateSample(Wpe,"Создание кнопки")}startCreateRect(){this.startCreateSample(Kpe,"Создание прямоугольника")}pendNextEdit(){this._history.pendNextEdit()}pushPendingEdit(){this._history.pushPendingEdit()}get view(){return this._scene.domElement}get isFocused(){return document.activeElement===this.view}focus(){this.view.focus()}_pick(t,n){const r=this._scene.pick(t,n);return r?.data[nb]?.slot||r}_pickSmart(t,n,r){let o=this._pick(t,n);if(!o)return this.prevPicked=null,null;if(o.data[gd])return o;let i=null;if(r){const s=Date.now();this.prevPicked&&s-this.prevPicked.pickedAt<300&&(i=this.prevPicked.item),this.prevPicked={item:o,pickedAt:s}}else this.prevPicked=null;for(;o.parent&&o.parent!==i&&!o.data[Vc];)o=o.parent;return r&&(this.prevPicked.item=o),o}_createSelection(t,n,r){this._removeHighlights(),this.selection?.reset();const o=Upe(t);if(!o.length)return null;if(!this.isInChildReorderMode)if(o.length===1){const[i]=o,s=mge(this,i);this.selection=new Sge(this,s);const a=gg(i);a&&this.onNodeSelected.dispatch(a.schema)}else{const i=o.map(s=>new hb(this,s));this.selection=new yge(this,i)}if(n){const[i]=o,{x:s,y:a}=i;this.isViewMounted?(r||this._outOfView(s,a))&&this._centerCameraOn(i):this.focusAfterViewMounted=i}return this.selection}onViewMounted(){Mge(this),this.isViewMounted=!0;const t=this.focusAfterViewMounted;t&&this._centerCameraOn(t),this.focusAfterViewMounted=null}onViewUnmounted(){x$(this),this.isViewMounted=!1}_setHighlight(t,n=!0){if(this.highlightedItem?.item===t)return;this._removeHighlights(void 0,n),n&&gg(t)?._setHover(!0);const r=this._tools.highlightFor(t),o=this._tools.textFor(t);this.highlightedItem={item:t,border:r,text:o}}_removeHighlights(t,n=!0){const r=this.highlightedItem;r&&(t&&r.item!==t||(n&&gg(r.item)?._setHover(!1),r.border?.delete(!0),r.text?.delete(!0),this.highlightedItem=null))}_tryHighlight(t,n,r=!1){if(this._actions.highlightsDisallowed)return;let o=this._pick(t,n);if(!r)for(;o?.parent;)o=o.parent;if(!o||o.data[Vc]||o.data[gd]){this._removeHighlights();return}this._setHighlight(o),this.highlightedItem?.text?.set({x:t,y:n+24})}_outOfView(t,n){const r=this._scene,o=Hv(t,r.x,r.x+r.domElement.clientWidth),i=Hv(n,r.y,r.y+r.domElement.clientHeight);return o!==t||i!==n?{x:o,y:i}:null}_centerCameraOn(t){const n=this._scene,r=t.x-(n.domElement.clientWidth-t.width)/2,o=t.y-(n.domElement.clientHeight-t.height)/2;this.setSceneXY(r,o)}_hideChildImages(){this.children.forEach(t=>t._forceHide())}_refreshChildImages(){this.children.forEach(o=>o._forceUpdate());const t=this._scene,n=[],r=[];for(const o of t.order)o.key>0||o.data[nb]?n.push(o):r.push(o);t.set({order:n.concat(r)})}_notifyChildrenRemoved(){this.children=this.children.filter(t=>(t._unsubscribe(),t.slot.key>0)),this.children.forEach(t=>t._subscribe())}_notifyPadsRemoved(){this.pads=this.pads.filter(t=>t.slot.key>0)}_notifyConnectionsRemoved(){this.connections=this.connections.filter(t=>t.slot.key>0)}_sceneChanged(){}openTextEditor(t){this.textEditor=new zfe(this,t._jf.text)}save(){return this._actions.finishCurrent(),this._history.markUnchanged(),this._scene.toJSON()}_saveChanges(){const{schema:t}=this;if(!t)return;this._hideChildImages();const n=this._scene.toJSON();this._refreshChildImages();const{klass:r}=t;r.set({scene:{...r.scene,data:n}}),this.children.forEach(o=>o._saveChanges()),t.applyChanges(),this.onSaved.dispatch()}_cloneObject(t){let n;const r=this._scene,o=Ci(t);if(o){const s=this.schema;let a;if(o.type==="pad")n=r$(o.slot),a=this.createPad(n);else{n=this.createChildSlot(o.schema.klass,t.x,t.y,o.slot.attrib);const f=s.createChild(o.schema.klass,{key:n.key},o.schema.getState());a=this.createChild(n,f);for(let g in t.data)n.data[g]=t.data[g]}const{objects:c,order:d}=r.merge(oy(o.connections.map(f=>f.slot)),"free",!0);r.set({order:d.concat(r.order)});const h=o.connections.map(f=>{const g=c.get(f.key);As.assert(g?.type==="line");const m=o===f.a?a:f.a,y=o===f.b?a:f.b,b=s.createConnection(m.schema,y.schema,{key:g.key,aPadKey:lo(m.type==="pad"&&m.key),bPadKey:lo(y.type==="pad"&&y.key),attrib:f.schemaConnection.attrib,vars:f.schemaConnection.proto.nestedConnections.map(v=>v.toJSON())});return new vg(this,b,g)});this.connections=this.connections.concat(h)}else n=r$(t);const i=n.data.name;if(i){const s=i.replace(/\d+$/,a=>(parseInt(a)+1).toString());n.data.name=s!==i?s:s+"2"}return this._refreshChildImages(),n}insertFromDropOrPaste(t,n){const r=qpe(t);if(r){const a=t.getData(`editor-cut-${this.lastCutId}`);a&&(this.lastCutId=""),this.insertFromClipboard(r,a?null:n);return}const o=this.fileContentTransfer?.pop(t);if(o){const{klass:a}=o;if(a){this.insertKlass(a,n);return}const{image:c}=o;if(c){const h=s$(c);this.insertSceneData(h,n,{name:NC(o.path)});return}const d=o.scene?.data.data;if(d){this.insertSceneData(d,n,{name:NC(o.path)});return}return}const i=t.files.item(0);if(i){this.uploadFile(i,n);return}const s=t.getData("text/plain");if(s){const a=i$(s);this.insertSceneData(a,n);return}}*uploadFile(t,n){const{fileUploader:r}=this;if(!r)return;const o=yield r.upload([t]);if(!o.length)return;const[{data:i}]=o;if(i.image){const a=s$(i.image);this.insertSceneData(a,n,{name:t.name});return}const s=i.scene?.data;s&&this.insertSceneData(s,n)}insertKlass(t,n){if(!this.schema)return;this.setLayers({hideChildren:!1}),this._abort();let r;if(this.schema.klass===t){const s=this.createPadSlot(n.x,n.y);r=this.createPad(s)}else{mg(!this.schema.hasAncestor(t),`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const s=this.createChildSlot(t,n.x,n.y),a=this.schema.createChild(t,{key:s.key});r=this.createChild(s,a)}const{slot:o}=r;o.set({x:n.x-o.width/2,y:n.y-o.height/2}),this._refreshChildImages();const i=[r.slot];this._history.saveCreatedObjects(i),this._createSelection(i)}insertFromClipboard(t,n){this._abort(),this.selection?.reset();const{schema:r}=this;let o;r&&(o=t.children?.map(f=>{const g=r.resolveKlass(f.klassUuid);return mg(g,`Имидж не существует: ${f.klass}`),mg(!r.hasAncestor(g),`Невозможно добавить '${g.name}' в схему: рекурсивная зависимость`),{...f,klass:g}}));const s=this._scene.merge(t.scene).objects;let a=t0(s);if(r){if(o&&o.length){const f=wi(o,g=>{const m=s.get(g.key);if(m?.type!=="group"){console.warn(`Изображение имиджа '${g.klass} #${g.key}' отсутствует на сцене`);return}const y=r.createChild(g.klass,{key:m.key},g.state);return new sb(this,y,m)});this.children=this.children.concat(f)}if(t.pads?.length){const f=wi(t.pads,g=>{const m=s.get(g);if(m?.type!=="imageView"){console.warn(`Изображение площадки #${g}' отсутствует на сцене`);return}return new ab(this,m)});this.pads=this.pads.concat(f)}if(t.connections?.length){const f=wi(t.connections,g=>{const m=s.get(g.key);if(m?.type!=="line"){console.warn(`Изображение связи '#${g.key}' отсутствует на сцене`);return}const[y,b]=g.nodes,v=s.get(Math.abs(y)),S=v&&Ci(v);if(!S){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const E=s.get(Math.abs(b)),T=E&&Ci(E);if(!T){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const R=r.createConnection(S.schema,T.schema,{key:m.key,aPadKey:lo(S.type==="pad"&&S.key),bPadKey:lo(T.type==="pad"&&T.key),attrib:g.attrib,vars:g.vars});return new vg(this,R,m)});this.connections=this.connections.concat(f)}this._refreshChildImages()}else(t.children?.length||t.pads?.length||t.connections?.length)&&(t.children?.forEach(f=>s.get(f.key)?.delete()),t.pads?.forEach(f=>s.get(f)?.delete()),t.connections?.forEach(f=>s.get(f.key)?.delete()),a=a.filter(f=>f.key>0));if(!a.length)return;const c=a,d=this._tools.tempGroup(c);n&&d.set({x:n.x-d.width/2,y:n.y-d.height/2});const h=this._outOfView(d.x,d.y);h&&(n?d.set(h):this._centerCameraOn(c[0])),d.set({children:[]}),this._history.saveCreatedObjects(c),this._createSelection(c)}insertSceneData(t,n,r){if(!t.objects?.length)return;this._abort(),this.selection?.reset();const o=kh(this._scene,t);r&&Object.assign(o.data,r),o.set({x:n.x-o.width/2,y:n.y-o.height/2}),this._refreshChildImages();const i=[o];this._history.saveCreatedObjects(i),this._createSelection(i)}setSceneXY(t,n){const r=this._scene;this.lastCursorX+=t-r.x,this.lastCursorY+=n-r.y,this._scene.set({x:t,y:n})}_setScale(t,n){const r=this.viewScale;this.viewScale=Math.min(Math.max(t,.25),4);const o=100/this.viewScale,i=this.view.style;i.transform=`scale(${this.viewScale})`,i.width=`${o}%`,i.height=`${o}%`;const s=this._scene,a=this.viewScale/r,c=n?.offsetX||0,d=n?.offsetY||0,h=s.x+c*a-c,f=s.y+d*a-d;s.set({x:h,y:f}),this._tools.defaultFont.set({size:16*(1/this.viewScale)})}copySelection(){const t=this.selection;if(!t)return null;const n=t._getJF().filter(c=>!rb(c));if(!n.length)return null;const r=[],o=[],i=[],s=new WeakSet;return n.forEach(c=>{const d=Ci(c);d&&(d.type==="child"?r.push(d._copy()):o.push(d.slot.key),s.add(d))}),this.connections.forEach(c=>{const{a:d,b:h}=c;s.has(d)&&s.has(h)&&(n.push(c.slot),i.push(c._copy()))}),{scene:oy(n),children:r,connections:i,pads:o}}_handleKeyboard(t){if(t.ctrlKey||t.altKey)return!1;const n=this._actions;if(n.handleKeyboard(t))return!0;if(t.type!=="keydown"||t.key!=="ArrowUp"&&t.key!=="ArrowDown"&&t.key!=="ArrowLeft"&&t.key!=="ArrowRight")return!1;const{selection:r}=this;if(!r||n.inAction){if(!this.cameraMoveStart){const o=t.shiftKey?80:20,i=this._scene,s=i.x+(t.key==="ArrowLeft"?-o:t.key==="ArrowRight"?o:0),a=i.y+(t.key==="ArrowUp"?-o:t.key==="ArrowDown"?o:0);this.setSceneXY(s,a)}return!0}if(t.shiftKey){if(r.type==="single"&&r.object.type!=="group")switch(t.key){case"ArrowLeft":r.object.decreaseZ();break;case"ArrowRight":r.object.increaseZ();break;case"ArrowUp":r.object.moveToTop();break;case"ArrowDown":r.object.moveToBottom();break}return!0}return r.object.canMove&&n.startMoveObjectWithKeyboard(r.object,t),!0}createConnectionSlot(t,n){const r=this._scene,o=r.pen({color:IT}),i=LT(t.slot),s=LT(n.slot),a=r.line([i.x,i.y,s.x,s.y],{pen:o,attrib:t$});return r.set({order:[a,...r.order]}),a}createChildSlot(t,n,r,o=e$){const i=this._scene,s=this._tools.iconImage(t.image?.icon?.atlas),a=i.imageView(s,{x:n,y:r,width:32,height:32,area:{x:0,y:0,w:32,h:32}});return i.set({order:i.order.concat(a)}),i.group([a],{attrib:o})}createPadSlot(t,n){const r=this._scene,o=this._tools.padIconImage(),i=r.imageView(o,{x:t,y:n,width:32,height:32,area:{x:0,y:0,w:32,h:32},attrib:e$});return r.set({order:r.order.concat(i)}),i}createPad(t){const n=new ab(this,t);return this.pads=this.pads.concat(n),n}createChild(t,n){const r=new sb(this,n,t);return this.children=this.children.concat(r),r}_createConnection(t,n){const r=new vg(this,n,t),{order:o}=this._scene,i=r.a.type==="child"?r.a.icon:r.a.slot,s=r.b.type==="child"?r.b.icon:r.b.slot;if(i&&s){const a=Math.min(o.indexOf(i),o.indexOf(s));this._scene.set({order:kC(o,a,t)})}return this.connections=this.connections.concat(r),r}_notifySelectionRemoved(){this.selection=null}_setPads(t){this.pads=t}_setConnections(t){this.connections=t}_setChildren(t){this.children=t}}class Oge{constructor(t,n){this.type="fileSceneEditor",this.editable=!0,this.fileScene=t,this.scene=new JT(t.data.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return this.fileScene.file.itemId}get title(){return this.fileScene.file.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.fileScene.file.isReadonly}get isDeleted(){return this.fileScene.file.isDeleted}save(){As.assert(!this.isReadonly);const t=this.scene.save(),n=this.fileScene;n.setData({...n.data,data:t})}dispose(){this.scene.dispose()}}class Rge{constructor(t,n){this.type="klassPropsEditor",this.editable=!0,this.klass=t,this.scene=new JT(t.image?.scene?.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return"props-"+this.klass.uuid}get title(){return this.klass.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){As.assert(!this.isReadonly);const t=this.scene.save(),{klass:n}=this;n.set({image:{...n.image,scene:{...n.image?.scene,data:t}}})}dispose(){this.scene.dispose()}}class Ige{constructor(t,n){this.type="schemaEditor",this.editable=!1,this.klass=t.klass,this.scene=new JT(t.klass.scene?.data||{},{...n,schema:t,fileUploader:n.getFileUploader(t.klass.file.lib)})}get _reactKey(){return"scene-"+this.klass.uuid}get schema(){return this.scene.schema}get title(){return`${this.klass.name} (схема)`}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}replaceSchema(t){this.scene.replaceSchema(t)}dispose(){this.scene.dispose()}}class Pge{constructor(t){this.type="textEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.fileBinary=t,this.currentText=this.savedText=zv(t.data).split(`\r
`).join(`
`),vt(this,{currentLineNumber:Pe.ref,currentColumnIndex:Pe.ref,currentText:Pe.ref,savedText:Pe.ref,hasChanges:qr,save:ye,setCurrentText:ye,setCursorPosition:ye})}get _reactKey(){return this.fileBinary.file.itemId}get title(){return this.fileBinary.file.name}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.fileBinary.file.isReadonly}get isDeleted(){return this.fileBinary.file.isDeleted}save(){As.assert(!this.isReadonly),this.fileBinary.setData(OC(this.currentText.split(`
`).join(`\r
`))),this.savedText=this.currentText}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}function _$(e){return e.type==="fileSceneEditor"||e.type==="klassPropsEditor"||e.type==="schemaEditor"}function kge(e){return e.type==="codeEditor"}const Dge=["input","select","button","textarea"];function Age(){const{activeElement:e}=document;return!!(e&&Dge.includes(e.tagName.toLowerCase()))}function Lge(e){return e.shiftKey?e.code.startsWith("Digit")?parseInt(e.code[e.code.length-1]):NaN:parseInt(e.key)}function Nge(e){const{selection:t}=e;return!t||t.type==="multi"||t.object.type!=="group"?null:t.object.child}function Bge(e,t,n){if(n.altKey)return!1;const{scene:r}=e;if(n.ctrlKey)return r.inAction?!1:n.code==="KeyY"||n.shiftKey&&n.code==="KeyZ"?(r.redo(),!0):n.code==="KeyZ"?(r.undo(),!0):n.code==="KeyA"?(n.repeat||r.selectAll(),!0):!1;if(n.code==="Escape")return r.inAction?r.cancel():r.selection?.reset(),!0;if(n.key==="Enter"||n.code==="Space"||n.code==="KeyS"||n.code==="KeyD"){if(!r.isFocused)return!1;const i=Nge(r);switch(n.code){case"KeyD":{const s=i?.schema.klass||r.schema?.klass;s&&t.openKlassCode(s);break}case"KeyS":{const s=i?.schema||r.schema;s&&t.openSchema(s);break}default:{const s=i?.schema.klass||r.schema?.klass;s&&t.openKlassProps(s);break}}return!0}if(parseInt(n.key)){if(n.shiftKey)return!1;if(n.key==="1")r.setLayers({hideChildren:!r.hideChildren});else if(n.key==="2")r.setLayers({hideConnections:!r.hideConnections});else if(n.key==="3")r.setLayers({hideOther:!r.hideOther});else if(n.key==="4")r.setLayers({selectUnselectable:!r.selectUnselectable});else return!1;return!0}if(n.code==="Backquote")return r.setLayers({hideChildren:!1,hideOther:!1,hideConnections:!1}),!0;if(n.code==="Tab")return r.isFocused?(r.inAction||r.selectNext(n.shiftKey),!0):!1;if(n.code==="KeyR"&&(r.isInChildReorderMode?r.cancel():r.startReorderChildren()),r.inAction)return!1;const o=r.selection;return n.key==="Delete"?(o?.object.delete(),!0):n.code==="KeyG"?(o?.type==="multi"&&o.object.canCreateGroup&&o.object.createGroup(),!0):n.code==="KeyU"?(o?.type==="single"&&o.object.type==="group"&&o.object.canUngroup&&o.object.ungroup(),!0):n.code==="KeyN"?(o?.type==="single"&&o.object.set({isUnselectable:!o.object.isUnselectable}),!0):n.code==="KeyE"?(o?.type==="single"&&o.object.type==="textView"&&r.openTextEditor(o.object),!0):n.code==="KeyC"?(r.startCreateConnection(),!0):n.code==="KeyL"?(r.startCreateLine(),!0):n.code==="KeyT"?(r.startCreateText(),!0):n.code==="KeyI"?(r.startCreateInput(),!0):n.code==="KeyB"?(r.startCreateButton(),!0):n.code==="KeyQ"?(r.startCreateRect(),!0):!1}function Fge(e,t,n){if(n.ctrlKey&&n.code==="KeyS"){if(!n.repeat){const o=e.tabs.currentTab?.editor;o?.save&&!o.isReadonly&&o.save()}return!0}if(n.ctrlKey&&n.code==="KeyR"){const o=e.player.player;return o?o.isMinimized?o.maximize():o.close():e.player.openPlayer(),!0}if(n.ctrlKey&&n.code==="KeyP")return t.rightPanelMinimized.toggle(),!0;if(n.ctrlKey&&n.code==="KeyF"){if(n.shiftKey)return e.vfsFilterVisible.setFalse(),t.leftPanelMinimized.toggle(),!0;{t.activeLeftPanelActiveView.set("files");let o=0;t.leftPanelMinimized.isTrue&&(t.leftPanelMinimized.setFalse(),o=300),setTimeout(e.vfsFilterVisible.setTrue,o)}return!0}if((n.ctrlKey||n.altKey)&&n.code==="KeyW"){const o=e.player.player;return o&&!o.isMinimized?o.close():e.tabs.currentTab?.close(),!0}if(n.altKey){const o=Lge(n);if(!isNaN(o)){if(e.tabs.tabs.length){const i=o>0?o-1:e.tabs.tabs.length-1;e.tabs.setCurrentTab(e.tabs.tabs[i])}return!0}}if(document.activeElement?.tagName.toLowerCase()==="textarea"||Age())return!1;n.ctrlKey&&n.code==="KeyA"&&n.preventDefault();const r=e.tabs.currentTab?.editor;return!!(r&&_$(r)&&Bge(r,e,n))}function jge(e,t){if(e.currentModalDialog.current)return!1;const{currentProject:n}=e;return!!n&&Fge(n,e,t)}function Vge(e,t){t.ctrlKey&&(t.code==="KeyS"||t.code==="KeyR")&&t.preventDefault(),jge(e,t)&&t.preventDefault()}class $ge{constructor(t){this.current=t,vt(this,{current:Pe.ref,set:ye})}set(t){this.current=t}}class vd{constructor(t=!1){this.isTrue=t,this.setTrue=()=>{this.isTrue=!0},this.setFalse=()=>{this.isTrue=!1},this.toggle=()=>{this.isTrue=!this.isTrue},vt(this,{isTrue:Pe.ref,setTrue:ye,setFalse:ye,toggle:ye})}}class eM extends Error{}const E$=(e,t,n)=>{typeof n=="string"||n instanceof Blob?e.append(t,n):n instanceof Date?e.append(t,n.toISOString()):e.append(t,JSON.stringify(n))},zge={bodySerializer:e=>{const t=new FormData;return Object.entries(e).forEach(([n,r])=>{r!=null&&(Array.isArray(r)?r.forEach(o=>E$(t,n,o)):E$(t,n,r))}),t}},Uge={bodySerializer:e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n)},Hge=({onRequest:e,onSseError:t,onSseEvent:n,responseTransformer:r,responseValidator:o,sseDefaultRetryDelay:i,sseMaxRetryAttempts:s,sseMaxRetryDelay:a,sseSleepFn:c,url:d,...h})=>{let f;const g=c??(b=>new Promise(v=>setTimeout(v,b)));return{stream:async function*(){let b=i??3e3,v=0;const S=h.signal??new AbortController().signal;for(;!S.aborted;){v++;const E=h.headers instanceof Headers?h.headers:new Headers(h.headers);f!==void 0&&E.set("Last-Event-ID",f);try{const T={redirect:"follow",...h,body:h.serializedBody,headers:E,signal:S};let R=new Request(d,T);e&&(R=await e(d,T));const I=await(h.fetch??globalThis.fetch)(R);if(!I.ok)throw new Error(`SSE failed: ${I.status} ${I.statusText}`);if(!I.body)throw new Error("No body in SSE response");const N=I.body.pipeThrough(new TextDecoderStream).getReader();let P="";const L=()=>{try{N.cancel()}catch{}};S.addEventListener("abort",L);try{for(;;){const{done:A,value:$}=await N.read();if(A)break;P+=$;const B=P.split(`

`);P=B.pop()??"";for(const U of B){const K=U.split(`
`),G=[];let V;for(const te of K)if(te.startsWith("data:"))G.push(te.replace(/^data:\s*/,""));else if(te.startsWith("event:"))V=te.replace(/^event:\s*/,"");else if(te.startsWith("id:"))f=te.replace(/^id:\s*/,"");else if(te.startsWith("retry:")){const z=Number.parseInt(te.replace(/^retry:\s*/,""),10);Number.isNaN(z)||(b=z)}let Y,Q=!1;if(G.length){const te=G.join(`
`);try{Y=JSON.parse(te),Q=!0}catch{Y=te}}Q&&(o&&await o(Y),r&&(Y=await r(Y))),n?.({data:Y,event:V,id:f,retry:b}),G.length&&(yield Y)}}}finally{S.removeEventListener("abort",L),N.releaseLock()}break}catch(T){if(t?.(T),s!==void 0&&v>=s)break;const R=Math.min(b*2**(v-1),a??3e4);await g(R)}}}()}},Gge=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},Wge=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},Kge=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},T$=({allowReserved:e,explode:t,name:n,style:r,value:o})=>{if(!t){const a=(e?o:o.map(c=>encodeURIComponent(c))).join(Wge(r));switch(r){case"label":return`.${a}`;case"matrix":return`;${n}=${a}`;case"simple":return a;default:return`${n}=${a}`}}const i=Gge(r),s=o.map(a=>r==="label"||r==="simple"?e?a:encodeURIComponent(a):gb({allowReserved:e,name:n,value:a})).join(i);return r==="label"||r==="matrix"?i+s:s},gb=({allowReserved:e,name:t,value:n})=>{if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?n:encodeURIComponent(n)}`},M$=({allowReserved:e,explode:t,name:n,style:r,value:o,valueOnly:i})=>{if(o instanceof Date)return i?o.toISOString():`${n}=${o.toISOString()}`;if(r!=="deepObject"&&!t){let c=[];Object.entries(o).forEach(([h,f])=>{c=[...c,h,e?f:encodeURIComponent(f)]});const d=c.join(",");switch(r){case"form":return`${n}=${d}`;case"label":return`.${d}`;case"matrix":return`;${n}=${d}`;default:return d}}const s=Kge(r),a=Object.entries(o).map(([c,d])=>gb({allowReserved:e,name:r==="deepObject"?`${n}[${c}]`:c,value:d})).join(s);return r==="label"||r==="matrix"?s+a:a},qge=/\{[^{}]+\}/g,Yge=({path:e,url:t})=>{let n=t;const r=t.match(qge);if(r)for(const o of r){let i=!1,s=o.substring(1,o.length-1),a="simple";s.endsWith("*")&&(i=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(s=s.substring(1),a="label"):s.startsWith(";")&&(s=s.substring(1),a="matrix");const c=e[s];if(c==null)continue;if(Array.isArray(c)){n=n.replace(o,T$({explode:i,name:s,style:a,value:c}));continue}if(typeof c=="object"){n=n.replace(o,M$({explode:i,name:s,style:a,value:c,valueOnly:!0}));continue}if(a==="matrix"){n=n.replace(o,`;${gb({name:s,value:c})}`);continue}const d=encodeURIComponent(a==="label"?`.${c}`:c);n=n.replace(o,d)}return n},Xge=({baseUrl:e,path:t,query:n,querySerializer:r,url:o})=>{const i=o.startsWith("/")?o:`/${o}`;let s=(e??"")+i;t&&(s=Yge({path:t,url:s}));let a=n?r(n):"";return a.startsWith("?")&&(a=a.substring(1)),a&&(s+=`?${a}`),s};function Zge(e){const t=e.body!==void 0;if(t&&e.bodySerializer)return"serializedBody"in e?e.serializedBody!==void 0&&e.serializedBody!==""?e.serializedBody:null:e.body!==""?e.body:null;if(t)return e.body}const Qge=async(e,t)=>{const n=typeof t=="function"?await t(e):t;if(n)return e.scheme==="bearer"?`Bearer ${n}`:e.scheme==="basic"?`Basic ${btoa(n)}`:n},O$=({allowReserved:e,array:t,object:n}={})=>o=>{const i=[];if(o&&typeof o=="object")for(const s in o){const a=o[s];if(a!=null)if(Array.isArray(a)){const c=T$({allowReserved:e,explode:!0,name:s,style:"form",value:a,...t});c&&i.push(c)}else if(typeof a=="object"){const c=M$({allowReserved:e,explode:!0,name:s,style:"deepObject",value:a,...n});c&&i.push(c)}else{const c=gb({allowReserved:e,name:s,value:a});c&&i.push(c)}}return i.join("&")},Jge=e=>{if(!e)return"stream";const t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(n=>t.startsWith(n)))return"blob";if(t.startsWith("text/"))return"text"}},eme=(e,t)=>t?!!(e.headers.has(t)||e.query?.[t]||e.headers.get("Cookie")?.includes(`${t}=`)):!1,tme=async({security:e,...t})=>{for(const n of e){if(eme(t,n.name))continue;const r=await Qge(n,t.auth);if(!r)continue;const o=n.name??"Authorization";switch(n.in){case"query":t.query||(t.query={}),t.query[o]=r;break;case"cookie":t.headers.append("Cookie",`${o}=${r}`);break;case"header":default:t.headers.set(o,r);break}}},R$=e=>Xge({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:O$(e.querySerializer),url:e.url}),I$=(e,t)=>{const n={...e,...t};return n.baseUrl?.endsWith("/")&&(n.baseUrl=n.baseUrl.substring(0,n.baseUrl.length-1)),n.headers=P$(e.headers,t.headers),n},nme=e=>{const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t},P$=(...e)=>{const t=new Headers;for(const n of e){if(!n)continue;const r=n instanceof Headers?nme(n):Object.entries(n);for(const[o,i]of r)if(i===null)t.delete(o);else if(Array.isArray(i))for(const s of i)t.append(o,s);else i!==void 0&&t.set(o,typeof i=="object"?JSON.stringify(i):i)}return t};class tM{constructor(){this.fns=[]}clear(){this.fns=[]}eject(t){const n=this.getInterceptorIndex(t);this.fns[n]&&(this.fns[n]=null)}exists(t){const n=this.getInterceptorIndex(t);return!!this.fns[n]}getInterceptorIndex(t){return typeof t=="number"?this.fns[t]?t:-1:this.fns.indexOf(t)}update(t,n){const r=this.getInterceptorIndex(t);return this.fns[r]?(this.fns[r]=n,t):!1}use(t){return this.fns.push(t),this.fns.length-1}}const rme=()=>({error:new tM,request:new tM,response:new tM}),ome=O$({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),ime={"Content-Type":"application/json"},sme=(e={})=>({...Uge,headers:ime,parseAs:"auto",querySerializer:ome,...e}),ame=(e={})=>{let t=I$(sme(),e);const n=()=>({...t}),r=d=>(t=I$(t,d),n()),o=rme(),i=async d=>{const h={...t,...d,fetch:d.fetch??t.fetch??globalThis.fetch,headers:P$(t.headers,d.headers),serializedBody:void 0};h.security&&await tme({...h,security:h.security}),h.requestValidator&&await h.requestValidator(h),h.body!==void 0&&h.bodySerializer&&(h.serializedBody=h.bodySerializer(h.body)),(h.body===void 0||h.serializedBody==="")&&h.headers.delete("Content-Type");const f=R$(h);return{opts:h,url:f}},s=async d=>{const{opts:h,url:f}=await i(d),g={redirect:"follow",...h,body:Zge(h)};let m=new Request(f,g);for(const M of o.request.fns)M&&(m=await M(m,h));const y=h.fetch;let b=await y(m);for(const M of o.response.fns)M&&(b=await M(b,m,h));const v={request:m,response:b};if(b.ok){const M=(h.parseAs==="auto"?Jge(b.headers.get("Content-Type")):h.parseAs)??"json";if(b.status===204||b.headers.get("Content-Length")==="0"){let N;switch(M){case"arrayBuffer":case"blob":case"text":N=await b[M]();break;case"formData":N=new FormData;break;case"stream":N=b.body;break;case"json":default:N={};break}return h.responseStyle==="data"?N:{data:N,...v}}let I;switch(M){case"arrayBuffer":case"blob":case"formData":case"json":case"text":I=await b[M]();break;case"stream":return h.responseStyle==="data"?b.body:{data:b.body,...v}}return M==="json"&&(h.responseValidator&&await h.responseValidator(I),h.responseTransformer&&(I=await h.responseTransformer(I))),h.responseStyle==="data"?I:{data:I,...v}}const S=await b.text();let E;try{E=JSON.parse(S)}catch{}const T=E??S;let R=T;for(const M of o.error.fns)M&&(R=await M(T,b,m,h));if(R=R||{},h.throwOnError)throw R;return h.responseStyle==="data"?void 0:{error:R,...v}},a=d=>h=>s({...h,method:d}),c=d=>async h=>{const{opts:f,url:g}=await i(h);return Hge({...f,body:f.body,headers:f.headers,method:d,onRequest:async(m,y)=>{let b=new Request(m,y);for(const v of o.request.fns)v&&(b=await v(b,f));return b},url:g})};return{buildUrl:R$,connect:a("CONNECT"),delete:a("DELETE"),get:a("GET"),getConfig:n,head:a("HEAD"),interceptors:o,options:a("OPTIONS"),patch:a("PATCH"),post:a("POST"),put:a("PUT"),request:s,setConfig:r,sse:{connect:c("CONNECT"),delete:c("DELETE"),get:c("GET"),head:c("HEAD"),options:c("OPTIONS"),patch:c("PATCH"),post:c("POST"),put:c("PUT"),trace:c("TRACE")},trace:a("TRACE")}},lme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/account/limits",...e}),cme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e}),ume=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e,headers:{"Content-Type":"application/json",...e.headers}}),dme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs/{dirId}",...e}),hme=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/libs",...e,headers:{"Content-Type":"application/json",...e.headers}}),k$=e=>e.client.put({security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/index",...e,headers:{"Content-Type":"application/json",...e.headers}}),fme=e=>e.client.post({...zge,security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/res",...e,headers:{"Content-Type":null,...e.headers}}),pme=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/projects",...e,headers:{"Content-Type":"application/json",...e.headers}}),gme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e}),mme=e=>e.client.patch({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e,headers:{"Content-Type":"application/json",...e.headers}}),vme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/config",...e}),yme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/zip",...e}),bme=e=>e.client.post({url:"/session",...e,headers:{"Content-Type":"application/json",...e.headers}}),wme=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/session/validate",...e});class Sme{constructor({baseUrl:t}){this.onError=new pa;const n=ame({baseUrl:t,cache:"no-store"});n.interceptors.error.use((r,o,i,s)=>{if(!s.throwOnError&&o.status===422||s?.ignoreStatus&&o.status<500)return r;const a=`${s.method} ${s.url} ${o.status} (${o.statusText}):
${r.message||"Неизвестная причина"}`;throw this.onError.dispatch(a),Error(a)}),this.c=n}setAuthData(t){this.c.setConfig({auth:t.accessToken})}removeAuthData(){this.c.setConfig({auth:void 0})}async createSession(t,n){const r=await bme({client:this.c,body:{login:t,password:n},throwOnError:!1});if(r.error)throw new eM(r.error.message);return r.data}async isSessionValid(){Gv(this.c.getConfig().auth,"SAPIClient.setAuthData вызван");const{response:t}=await wme({client:this.c,ignoreStatus:!0});return t.status<400}async getAccountLimits(){const{data:t}=await lme({client:this.c});return t}async getRootDirContent({libs:t,projects:n}){const{data:r}=await cme({client:this.c,query:{libs:t,projects:n}});return r}async getDirContent(t,{libs:n,projects:r}){const{data:o}=await dme({client:this.c,path:{dirId:t},query:{libs:n,projects:r}});return o}async createDir(t,n){const r=await ume({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,dir:r.error.conflictDir}:{created:!0,...r.data}}async createLib(t,n){const r=await hme({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,library:r.error.conflictLibrary}:{created:!0,...r.data}}async createProject(t){const n=await pme({client:this.c,throwOnError:!1,body:t});return n.error?{created:!1,project:n.error.conflictProject}:{created:!0,...n.data}}async updateProject(t,n){await mme({client:this.c,path:{projectId:t},body:n})}async getProject(t){const{data:n}=await gme({client:this.c,path:{projectId:t}});return n}async getProjectPlayerConfig(t){const{data:n}=await vme({client:this.c,path:{projectId:t}});return n}async updateLibraryIndex(t,n){const{data:r}=await k$({client:this.c,path:{libraryId:t},body:n,bodySerializer:dq});return r}async updateLibraryIndexRaw(t,n){await k$({client:this.c,path:{libraryId:t},body:n,bodySerializer:null})}async createLibraryRes(t,n,r){return(await fme({client:this.c,path:{libraryId:t},query:r,body:{files:n}})).data}async getProjectPlayerZip(t){return(await yme({client:this.c,path:{projectId:t}})).data}}class Cme extends Si{}class xme{constructor(t){this.isLoggingIn=!1,this.isDataFetching=!1,this.profileName="",this.projectCount=0,this.projectLimit=0,this.libraryCount=0,this.libraryLimit=0,this.onLogin=new Kr,this.onBeforeLogout=new Kr,this.apiClient=t,vt(this,{isLoggingIn:Pe.ref,isDataFetching:Pe.ref,libraryCount:Pe.ref,libraryLimit:Pe.ref,profileName:Pe.ref,projectCount:Pe.ref,projectLimit:Pe.ref,logout:ye,restorePrevSession:oo,login:oo,fetchLimits:oo})}*restorePrevSession(t){const{apiClient:n}=this;n.setAuthData(t.authData);const r=yield n.isSessionValid();return this.fetchLimits(t.profile),r}*login(t,n){const{apiClient:r}=this;this.isLoggingIn=!0;let o;try{o=yield r.createSession(t,n)}catch(i){throw i instanceof eM?new Cme(i.message):i}finally{this.isLoggingIn=!1}r.setAuthData(o.authData),this.onLogin.dispatch(o),this.fetchLimits(o.profile)}*fetchLimits(t){this.profileName=t.name||"";const{apiClient:n}=this;this.isDataFetching=!0;let r;try{r=yield n.getAccountLimits()}finally{this.isDataFetching=!1}this.libraryCount=r.libCount,this.libraryLimit=r.libLimit,this.projectCount=r.projectCount,this.projectLimit=r.projectLimit}logout(){this.onBeforeLogout.dispatch()}}class _me{constructor(){this.isOpen=!1,this.menuItems=[],this.anchorPosition={x:0,y:0},vt(this,{isOpen:Pe.ref,menuItems:Pe.ref,anchorPosition:Pe.ref,open:ye,close:ye})}open(t,n,r){this.anchorPosition={x:t,y:n},this.menuItems=r,this.isOpen=!0}close(){this.isOpen=!1}}class Eme{constructor(){this.klassFiles=new WeakSet,this.map=new Map,this.mapId=new Map,this.mapUuid=new Map,this._list=null,this.klassNameValidator=t=>this.get(t),this.onKlassRename=(t,n)=>{if(this.klassFiles.has(t.file)){this.map.delete(n),this.map.set(t.nameUC,t);for(const{children:r}of this.map.values())for(const o of r.list)(o.klassId?o.klassId===t.id:o.klassName.toUpperCase()===n)&&o._notifyKlassRenamed(t.name);this.updateList()}},this.onKlassFileRemoved=t=>{if(!this.klassFiles.delete(t))return;const n=t.klass;this.removeKlass(n),this.mapId.delete(n.id),this.mapUuid.delete(n.uuid),this.map.delete(n.nameUC),this.updateList()},this.removeKlass=t=>{t._setIsInLibrary(!1),t.nameValidator.set(null),t.onRename.remove(this.onKlassRename),t.file.onRemoved.remove(this.onKlassFileRemoved)},this.nodeCache=new WeakMap}get list(){return this._list||(this._list=[...this.map.values()].sort(Ku)),this._list}add(t){if(this.klassFiles.has(t.file))return;const n=this.mapId.get(t.id);n&&console.warn(`Имиджи '${n.name}' (${n.file.path}) и '${t.name}' (${t.file.path}) имеют одинаковый ID (${t.id})'`);const r=this.map.get(t.nameUC);r&&console.warn(`Имидж '${r.name}' уже существует в файле '${r.file.path}'`),this.klassFiles.add(t.file),this.mapId.set(t.id,t),this.map.set(t.nameUC,t),this.mapUuid.set(t.uuid,t),t._setIsInLibrary(!0),t.nameValidator.set(this.klassNameValidator),t.onRename.add(this.onKlassRename),t.file.onRemoved.add(this.onKlassFileRemoved)}clean(){this.map.forEach(this.removeKlass),this.klassFiles=new WeakSet,this.mapId.clear(),this.map.clear()}updateList(){this._list=null}get(t){return this.map.get(t.toUpperCase())??null}getById(t){return this.mapId.get(t)??null}getByUuid(t){return this.mapUuid.get(t)??null}getByNode(t){const n=this.nodeCache.get(t);if(n)return n;const r=t.klassId?this.getById(t.klassId):this.get(t.klassName);return r&&this.nodeCache.set(t,r),r}}class Tme{constructor(t){this.recursiveSearch=!0,this.searchDirs=[],this.standardSearchDir=null,this._klassLibrary=new Eme,this.onVFSDirsRemoved=n=>{const r=this.searchDirs.filter(o=>!n.has(o));this.searchDirs.length!==r.length&&(this.searchDirs=r)},this.rebuildLibrary=()=>{const{recursiveSearch:n,searchDirs:r,_klassLibrary:o,standardSearchDir:i}=this;if(o.clean(),i)for(const{klass:s}of i.recursive())s&&o.add(s);for(const s of r){const a=n?s.recursive():s.files;for(const{klass:c}of a)c&&o.add(c)}o.updateList()},t.onDirsRemoved.add(this.onVFSDirsRemoved),t.onEntriesMoved.add(this.rebuildLibrary),vt(this,{recursiveSearch:Pe.ref,searchDirs:Pe.ref})}get klassLibrary(){return this._klassLibrary}setRecursiveSearch(t){this.recursiveSearch=t}setStandardSearchDir(t){this.standardSearchDir=t,t.setSearchDirMarker(!0)}addSearchDir(t){this.searchDirs.includes(t)||(this.searchDirs=this.searchDirs.concat(t),t.setSearchDirMarker(!0))}removeSearchDir(t){t.setSearchDirMarker(!1),this.searchDirs=this.searchDirs.filter(n=>n!==t)}}class nM{constructor(t="transfer"){this.current=null,this.transferType="vnd.stratum/"+(t+"-"+OT()).toLowerCase()}put(t,n,r="all"){this.current=n,t.setData(this.transferType,"true"),t.effectAllowed=r}pop(t){if(!this.canDrop(t))return null;const n=this.current;return this.current=null,n}get(t){return this.canDrop(t)?this.current:null}canDrop(t){return t.types.includes(this.transferType)}}class Mme{constructor(t,n){this.multiplexer=t,this.editor=n,vt(this,{close:ye})}close(){this.editor.dispose?.(),this.multiplexer._notifyItemClosed(this)}}class Ome{constructor(t){this.sceneArgs=t,this.items=[]}addEditor(t){const n=new Mme(this,t);return this.items=this.items.concat(n),n}openSchemaEditor(t){const{klass:n}=t,r=this.items.find(o=>{const{editor:i}=o;return i.type==="schemaEditor"&&i.klass===n});if(r){const{editor:o}=r;return o.schema!==t&&o.replaceSchema(t),r}return this.addEditor(new Ige(t,this.sceneArgs))}openCodeEditor(t){const{klass:n}=t,r=this.items.find(({editor:o})=>o.type==="codeEditor"&&o.klass===n);return r||this.addEditor(new Kde(t))}openKlassPropsEditor(t){const n=this.items.find(({editor:r})=>r.type==="klassPropsEditor"&&r.klass===t);return n||this.addEditor(new Rge(t,this.sceneArgs))}openFileSceneEditor(t){const n=this.items.find(({editor:r})=>r.type==="fileSceneEditor"&&r.fileScene===t);return n||this.addEditor(new Oge(t,this.sceneArgs))}openBinaryFileEditor(t){const n=this.items.find(({editor:r})=>r.type==="textEditor"&&r.fileBinary===t);return n||this.addEditor(new Pge(t))}_notifyItemClosed(t){this.items=this.items.filter(n=>n!==t)}}class D${constructor({klass:t,klassId:n,key:r,name:o="",x:i=0,y:s=0},a){this.onSpecialValueChanged=new Kr,this.connections=new Set,this.parent=a,this.klassName=t,this.klassId=n||null,this.key=r,this.sceneName=o,this.sceneX=i,this.sceneY=s,vt(this,{sceneX:!1,sceneY:!1,sceneName:!1,klassName:!1,set:ye,remove:ye,toJSON:!1})}set({sceneX:t=this.sceneX,sceneY:n=this.sceneY,sceneName:r=this.sceneName}){let o=!1;this.sceneX!==t&&(this.sceneX=t,o=!0),this.sceneY!==n&&(this.sceneY=n,o=!0),this.sceneName!==r&&(this.sceneName=r,o=!0),o&&(this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged())}remove(){this.connections.forEach(t=>t.remove()),this.parent._notifyChildNodeRemoved(this)}toJSON(){return{key:this.key,klass:this.klassName,klassId:lo(this.klassId),x:this.sceneX,y:this.sceneY,name:lo(this.sceneName)}}_notifyKlassRenamed(t){this.klassName=t,this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged()}_addConnection(t){this.connections.add(t)}_removeConnection(t){this.connections.delete(t)}}class Rme{constructor(t,n){this.list=[],this.parent=t,this.list=n?.map(r=>new D$(r,t))||[],vt(this,{list:!1,create:ye,reorder:ye,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}create(t){const{list:n}=this,r=new D$(t,this.parent);return this.list=n.concat(r),this.parent._notifyChildListChanged(),r}reorder(t){this.list=t,this.parent._notifyChildListChanged()}_removeChild(t){this.list=sk(this.list,t)}}class A${constructor(t,n){this.data=t,this.carrier=n}get a(){return this.data[0]}get b(){return this.data[1]}_setNames(t){this.data=t}toJSON(){return this.data}}class L${constructor(t,n,{key:r,vars:o,attrib:i=0},s){this.onNestedConnectionsChanged=new Kr,this.onDisabledChanged=new Kr,this.isRemoved=!1,this.key=r,this.parent=s,this.a=t,this.b=n,typeof t!="number"&&t._addConnection(this),typeof n!="number"&&n._addConnection(this),this.nestedConnections=o?.map(a=>new A$(a,this))||[],this.attrib=i,vt(this,{attrib:Pe.ref,nestedConnections:!1,setDisabled:ye,setNestedConnections:ye,remove:ye,toJSON:!1})}get isDisabled(){return!!(this.attrib&qv)}setNestedConnections(t){const n=this.nestedConnections;this.nestedConnections=t.map(r=>{const o=r[0].toUpperCase(),i=r[1].toUpperCase(),s=n.find(a=>a.a.toUpperCase()===o&&a.b.toUpperCase()===i);return s?(s._setNames(r),s):new A$(r,this)}),this.onNestedConnectionsChanged.dispatch(),this.parent._notifyContentChanged()}setDisabled(t){t?this.attrib|=qv:this.attrib&=~qv,this.onDisabledChanged.dispatch(),this.parent._notifyContentChanged()}remove(){if(this.isRemoved)return;this.isRemoved=!0;const{a:t,b:n}=this;typeof t!="number"&&t._removeConnection(this),typeof n!="number"&&n._removeConnection(this),this.parent._notifyConnectionRemoved(this)}toJSON(){const{attrib:t,nestedConnections:n,a:r,b:o,key:i}=this,s=typeof r=="number"?-r:r.key,a=typeof o=="number"?-o:o.key;return{key:i,nodes:[s,a],vars:n.map(({a:c,b:d})=>[c,d]),attrib:lo(t)}}}class Ime{constructor(t,n){if(this.parent=t,n){const{children:r}=t;this.list=wi(n,o=>{const[i,s]=o.nodes,a=i>0?r.get(i):-i;if(!a)return null;const c=s>0?r.get(s):-s;return c?new L$(a,c,o,t):null})}else this.list=[];vt(this,{list:!1,create:ye})}create(t,n,r){const o=new L$(t,n,r,this.parent);return this.list=this.list.concat(o),this.parent._notifyConnectionListChanged(),o}_removeConnection(t){this.list=sk(this.list,t)}}class N${constructor(t){this.data=t,this.isLocal=!0}get isArgument(){return!!((this.data.attrib||0)&et.VF_ARGUMENT)}get isReturn(){return!!((this.data.attrib||0)&et.VF_RETURN)}get type(){return this.data.type}toJSON(){return this.data}}class B${constructor({name:t,type:n,attrib:r=0,defaultValue:o=null,description:i=""},s){this.isLocal=!1,this.onValueChanged=new Kr,this.klass=s,this.name=t,this.type=n,this.attrib=r,this.description=i;const a=this.nameUC=t.toUpperCase();o!==null&&Np(n,o)!==null?this.value=o:this.value=null,a==="ORGX"&&n===bt.FLOAT||a==="ORGY"&&n===bt.FLOAT||a==="_HOBJECT"&&n===bt.HANDLE||a==="_OBJNAME"&&n===bt.STRING||a==="_CLASSNAME"&&n===bt.STRING?this.specialValueType=a:this.specialValueType="none",vt(this,{value:Pe.ref,name:Pe.ref,description:Pe.ref,attrib:!1,setValue:ye,setDescription:ye,isValidValue:!1,toJSON:!1})}get isArgument(){return!!(this.attrib&et.VF_ARGUMENT)}get isReturn(){return!!(this.attrib&et.VF_RETURN)}setDescription(t){this.description=t,this.klass._notifyContentChanged()}setValue(t){return t!==null&&!this.isValidValue(t)?!1:(this.value=t,this.onValueChanged.dispatch(),this.klass._notifyContentChanged(),!0)}isValidValue(t){return Np(this.type,t)!==null}toJSON(){return{name:this.name,type:this.type,attrib:lo(this.attrib),defaultValue:this.value??void 0,description:lo(this.description)}}_changeAttrib(t){this.attrib=t}_rename(t){this.name=t}}function F$({attrib:e=0}){return!!(e&et.VF_LOCAL)}class Pme{constructor(t,n){this.list=[],this.onVarListChanged=new Kr,this.klass=t,this.allList=n?.map(r=>F$(r)?new N$(r):new B$(r,t))||[],this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),vt(this,{list:!1,allList:!1,set:ye,get:!1})}set(t){const{list:n}=this;this.allList=t.map(r=>{if(F$(r))return new N$(r);const o=r.name.toUpperCase(),i=n.find(s=>s.type===r.type&&s.nameUC===o);return i?(i._rename(r.name),i._changeAttrib(r.attrib||0),i):new B$(r,this.klass)}),this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),this.onVarListChanged.dispatch(),this.klass._notifyVarListChanged()}get(t){return this.listMap.get(t.toUpperCase())||null}}const kme={};class j$ extends Si{constructor(t){super(`Имидж '${t.name}' уже существует в файле '${t.file.path}'`)}}class Dme{constructor(t,n){this.uuid=OT(),this.onRename=new Kr,this.onImageChanged=new Kr,this.onVarListChanged=new Kr,this.onConnectionListChanged=new Kr,this.onChildListChanged=new Kr,this.nameValidator=new Eq,this.isInLibrary=!1,this.file=t,this.id=n.id,this.name=n.name,this.nameUC=n.name.toUpperCase(),this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1,this.date=n.date?new Date(n.date):new Date,this.vars=new Pme(this,n.vars),this.children=new Rme(this,n.children),this.childConnections=new Ime(this,n.links),this.scene=n.scene||null,this.image=n.image||null,this.description=n.description||"",vt(this,{hasCode:qr,hasScene:qr,name:Pe.ref,nameUC:Pe.ref,image:Pe.ref,isInLibrary:Pe.ref,scene:Pe.ref,modelText:!1,isFunction:!1,rename:ye,set:ye,toJSON:!1})}get hasScene(){return!!this.scene?.data}get hasCode(){return!!this.modelText}get isReadonly(){return this.file.isReadonly}get imageData(){const{image:t}=this;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this.image?.icon||kme}_setIsInLibrary(t){this.isInLibrary=t}set({scene:t=this.scene,image:n=this.image,modelText:r=this.modelText,isFunction:o=this.isFunction}){As.assert(!this.isReadonly);let i=!1;this.scene!==t&&(this.scene=t,i=!0),this.image!==n&&(this.image=n,this.onImageChanged.dispatch(),i=!0),this.modelText!==r&&(this.modelText=r,i=!0),this.isFunction!==o&&(this.isFunction=o,i=!0),i&&this._notifyContentChanged()}rename(t){if(As.assert(!this.isReadonly),!t||t===this.name)return;gk(t);const n=t.toUpperCase();if(n!==this.nameUC){const o=this.nameValidator.value?.(t);if(o)throw new j$(o)}const r=this.nameUC;this.name=t,this.nameUC=n,this.onRename.dispatch(this,r),this._notifyContentChanged()}toJSON(){return{name:this.name,id:this.id,date:this.date.toJSON(),vars:Op(this.vars.allList.map(t=>t.toJSON())),children:Op(this.children.list.map(t=>t.toJSON())),links:Op(this.childConnections.list.map(t=>t.toJSON())),description:lo(this.description),isFunction:lo(this.isFunction),modelText:lo(this.modelText),image:this.image,scene:this.scene}}_notifyVarListChanged(){this.onVarListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionListChanged(){this.onConnectionListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionRemoved(t){this.childConnections._removeConnection(t),this._notifyConnectionListChanged()}_notifyChildListChanged(){this.onChildListChanged.dispatch(),this._notifyContentChanged()}_notifyChildNodeRemoved(t){this.children._removeChild(t),this._notifyChildListChanged()}_notifyContentChanged(){this.file._notifyContentChanged()}}class Ame{constructor({apiClient:t,project:n}){this.isSyncing=!1,this.apiClient=t,this.project=n,vt(this,{isSyncing:Pe.ref,sync:oo})}get changesList(){const{project:t}=this;let n=wi(t.libs,r=>r.hasChanges&&r.name);return t.schema.isStateChanged&&(n=["Состояние схемы"].concat(n)),t.isDirty&&(n=["Настройки проекта"].concat(n)),n}*sync(){if(this.isSyncing)return;const{apiClient:t,project:n}=this;n.saveSchemaStateToFile();const r=wi(n.libs,i=>{const{vfsLib:s}=i;if(!s.isDirty)return;const a=s.toJSON();return s.setDirtyMarker(!1),[i,a]}),o=lo(n.isDirty&&n.toRemoteProjectData(!1));n.setDirtyMarker(!1),this.isSyncing=!0;for(const[i,s]of r)try{yield t.updateLibraryIndex(i.id,s)}catch(a){console.error(a),i.vfsLib.setDirtyMarker(!0),console.warn(`Не удалось синхронизировать '${i.name}' (${i.id})`)}if(o){const i=n.libs.map(a=>a.id),s=n.subProjects.map(a=>a.id);try{yield t.updateProject(n.id,{config:o,libIds:i,subprojectIds:s})}catch(a){console.error(a),n.setDirtyMarker(!0),console.warn("Не удалось синхронизировать настройки проекта")}}this.isSyncing=!1}}class zc{constructor(t){this.value=null,this.kind="own",this.master=null,vt(this,{value:Pe.ref,kind:Pe.ref,master:Pe.ref})}static{this.stub=new zc(!0)}_setValue(t,n,r){this.master=n,this.value=t,this.kind=r}_resetValue(){this.value=null}}class V${constructor(t,n){this._reactKey=fk(),this.ownValue=null,this.varConnections=new Set,this.sharedValueStorage=new zc,this.onValueChanged=()=>{this.sharedValueStorage._resetValue(),this.schema._notifyValuesChanged()},this.klassVar=t,this.schema=n,t.onValueChanged.add(this.onValueChanged),vt(this,{sharedValueStorage:Pe.ref,ownValue:Pe.ref,setOwnValue:ye,getConnectedVars:!1,getConnections:!1,setDefaultValue:!1,setDescription:!1})}_dispose(){this.klassVar.onValueChanged.remove(this.onValueChanged),this.varConnections.forEach(t=>t._dispose())}get name(){return this.klassVar.name}get type(){return this.klassVar.type}get computedValue(){return this.sharedValueStorage.value}get computedValueKind(){const{sharedValueStorage:t}=this,{master:n}=t;return n===this||n===null?t.kind:this.ownValue===null?"alien":"overwritten"}get defaultValue(){return this.klassVar.value}get description(){return this.klassVar.description}getConnections(){return this.varConnections.values()}_setOwnValue(t){this.klassVar.isValidValue(t)&&(this.ownValue=t)}setOwnValue(t){return t!==null&&!this.klassVar.isValidValue(t)?!1:(this.ownValue=t,this.onValueChanged(),this.schema._notifyStateChanged(),!0)}setDefaultValue(t){return this.klassVar.setValue(t)}setDescription(t){this.klassVar.setDescription(t)}getConnectedVars(t){const n=new Set;return this._getConnectedVars(n),t||n.delete(this),n}_applyDefaultValue(){const{klassVar:t}=this,n=t.value;if(n!==null){this.sharedValueStorage._setValue(n,this,"classDefault");return}if(t.specialValueType==="none")return;let r;switch(t.specialValueType){case"ORGX":r=this.schema.node?.sceneX.toString();break;case"ORGY":r=this.schema.node?.sceneY.toString();break;case"_HOBJECT":{const o=this.schema.node?.key;o&&(r="#"+o);break}case"_OBJNAME":r=this.schema.node?.sceneName;break;case"_CLASSNAME":r=this.schema.klass.name;break}r?this.sharedValueStorage._setValue(r,this,"classSpecial"):this.sharedValueStorage._resetValue()}toString(){return this.name}_applyOwnValue(){const{ownValue:t}=this;t!==null&&this.sharedValueStorage._setValue(t,this,"own")}propagateSharedValueStorage(t){if(this.sharedValueStorage!==t){this.sharedValueStorage=t;for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a).propagateSharedValueStorage(t)}}}_getConnectedVars(t){if(!t.has(this)){t.add(this);for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a)._getConnectedVars(t)}}}_notifyConnectionCreated(t){this.varConnections.add(t),this.sharedValueStorage=zc.stub}_notifyConnectionRemoved(t){this.varConnections.delete(t),this.sharedValueStorage=zc.stub}_notifyConnectionDisabledChanged(){this.sharedValueStorage=zc.stub}_reduce(){this.sharedValueStorage===zc.stub&&this.propagateSharedValueStorage(new zc)}}class Lme{constructor(t,n){this.klassVars=t,this.schema=n,this.list=t.list.map(r=>new V$(r,n)),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),vt(this,{list:Pe.ref,get:!1})}get(t){const n=this.klassVars.get(t);return n&&this.map.get(n)||null}_rebuild(){const{list:t}=this,n=new Set(t);this.list=this.klassVars.list.map(r=>{const o=t.find(i=>i.klassVar===r);return o?(n.delete(o),o):new V$(r,this.schema)}),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),n.forEach(r=>{r.ownValue!==null&&this.schema._notifyStateChanged(),r._dispose()})}}class Nme{constructor(t,n,r,o){this.a=t,this.b=n,this.proto=r,this.carrier=o,this.isBroken=!0}}class Bme{constructor(t,n,r,o){this.a=t,this.b=n,this.proto=r,this.carrier=o,this.isBroken=!1,t._notifyConnectionCreated(this),n._notifyConnectionCreated(this)}_dispose(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}}class $${constructor(t,n,r,o){this.aPadKey=0,this.bPadKey=0,this.nestedConnections=[],this.onNestedConnectionsChanged=()=>{this.parent._notifyConnectionChanged(this)},this.onDisabledChanged=()=>{this.nestedConnections.forEach(i=>{i.isBroken||(i.a._notifyConnectionDisabledChanged(),i.b._notifyConnectionDisabledChanged())}),this.parent._notifyConnectionDisabledChanged()},this.parent=o,this.a=t,this.b=n,this.proto=r,typeof r.a=="number"&&(this.aPadKey=r.a),typeof r.b=="number"&&(this.bPadKey=r.b),this._rebuildNestedConnections(),this.proto.onNestedConnectionsChanged.add(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.add(this.onDisabledChanged),vt(this,{nestedConnections:Pe.ref,setDisabled:!1,remove:!1})}_dispose(){this.proto.onNestedConnectionsChanged.remove(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.remove(this.onDisabledChanged),this.nestedConnections.forEach(t=>!t.isBroken&&t._dispose())}get key(){return this.proto.key}get attrib(){return this.proto.attrib}get isDisabled(){return this.proto.isDisabled}setDisabled(t){this.proto.setDisabled(t)}remove(){this.proto.remove()}_rebuildNestedConnections(){const{nestedConnections:t,a:n,b:r}=this,o=new Set(t);this.nestedConnections=this.proto.nestedConnections.map(i=>{const s=t.find(h=>h.proto===i);if(s)return o.delete(s),s;const a=n.vars.get(i.a),c=r.vars.get(i.b);return a&&c&&a.klassVar.type===c.klassVar.type?new Bme(a,c,i,this):new Nme(a||i.a,c||i.b,i,this)}),o.forEach(i=>!i.isBroken&&i._dispose())}}class Fme{constructor(t){this.parent=t,this.list=[],this._rebuild()}_create(t,n,r){const o=new $$(t,n,r,this.parent);return this.list=this.list.concat(o),o}_rebuild(){const{list:t,parent:n}=this,{klass:r}=n,o=n.children.list,i=new Set(t);this.list=r.childConnections.list.map(s=>{const a=t.find(g=>g.proto===s);if(a)return i.delete(a),a;const{a:c,b:d}=s,h=typeof c=="number"?n:o.find(g=>g.node===c),f=typeof d=="number"?n:o.find(g=>g.node===d);if(!h||!f)throw Error("Неизвестная ошибка (schema.ts)");return new $$(h,f,s,n)}),i.forEach(s=>s._dispose())}}class jme{constructor(t,n){this.parent=t,this.library=n,this.list=[],this._rebuild(),vt(this,{list:Pe.ref,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}_create(t,n,r=null){const o=new mb(t,this.library,r,n,this.parent);return this.list=this.list.concat(o),o}_setOrder(t){this.list=t}_rebuild(t){const{library:n,list:r,parent:o}=this,i=new Set(r);this.list=o.klass.children.list.map(s=>{const a=r.find(d=>d.node===s);if(a)return i.delete(a),a;const c=n.getByNode(s);if(!c)throw Error(`Имидж '${s.klassName}' не существует`);return new mb(c,n,null,s,o)}),i.forEach(s=>s._dispose(t))}}class Vme{constructor(t){this.root=t,this.onDescendantsDeleted=new Kr,this.changedNestedConns=new Set,this.changedVars=new Set,this.changedChildren=new Set,this.changedConnections=new Set,this._needReduce=!0,this._needReapplyValues=!0,this._stateChanged=!1,vt(this,{_stateChanged:Pe.ref})}rebuild(){const{changedChildren:t,changedConnections:n,changedVars:r,changedNestedConns:o}=this;if(r.size&&(this._needReduce=!0,r.forEach(i=>i._rebuild()),r.clear()),o.size&&(this._needReduce=!0,o.forEach(i=>i._rebuildNestedConnections()),o.clear()),t.size){this._needReduce=!0;const i=new Set;t.forEach(s=>s._rebuild(i)),t.clear(),i.size&&this.onDescendantsDeleted.dispatch(i)}n.size&&(this._needReduce=!0,n.forEach(i=>i._rebuild()),n.clear()),this._needReduce&&(this._needReapplyValues=!0,this.root._reduceVars(),this._needReduce=!1),this._needReapplyValues&&(this.root._applyDefaultValues(),this.root._applyOwnValues(),this._needReapplyValues=!1)}}class mb{constructor(t,n,r,o=null,i=null){this.itemId=Wv(),this.canCreateChild=!0,this.canCreateConnection=!0,this.canReorderChildren=!0,this.onSpecialValueChanged=()=>{this.root._needReapplyValues=!0},this.onVarListChanged=()=>{const{node:s}=this;s&&(this.klass.vars.list.some(({specialValueType:a})=>a!=="none"&&a!=="_HOBJECT")?s.onSpecialValueChanged.add(this.onSpecialValueChanged):s.onSpecialValueChanged.remove(this.onSpecialValueChanged)),this.root.changedVars.add(this.vars)},this.onConnectionListChanged=()=>{this.root.changedConnections.add(this.childConnections)},this.onChildListChanged=()=>{this.root.changedChildren.add(this.children),this.root._needReapplyValues=!0},this.isFake=i&&i.isFake||r&&"isFake"in r||!1,this.klass=t,this.library=n,this.node=o,this.parent=i,this.root=i?.root||new Vme(this),this.vars=new Lme(t.vars,this),this.children=new jme(this,n),this.childConnections=new Fme(this),o&&t.vars.list.some(({specialValueType:s})=>s!=="none"&&s!=="_HOBJECT")&&o.onSpecialValueChanged.add(this.onSpecialValueChanged),t.onVarListChanged.add(this.onVarListChanged),t.onConnectionListChanged.add(this.onConnectionListChanged),t.onChildListChanged.add(this.onChildListChanged),r&&!("isFake"in r)&&(this.setState(r),i&&(this.root._stateChanged=!0)),i||this.root.rebuild(),vt(this,{createChild:ye,createConnection:ye,reorderChildren:ye,remove:ye,applyChanges:ye,markStateUnchanged:ye,getState:!1,hasAncestor:!1,resolveKlass:!1,hasNode:!1})}_dispose(t){this.children.list.forEach(r=>r._dispose(t));const{klass:n}=this;this.node?.onSpecialValueChanged.remove(this.onSpecialValueChanged),n.onVarListChanged.remove(this.onVarListChanged),n.onConnectionListChanged.remove(this.onConnectionListChanged),n.onChildListChanged.remove(this.onChildListChanged),this.vars.list.forEach(r=>r._dispose()),this.childConnections.list.forEach(r=>r._dispose()),t.add(this)}get name(){return this.klass.name}get key(){return this.node?.key||0}get isStateChanged(){return this.root._stateChanged}get onDescendantsDeleted(){return this.root.onDescendantsDeleted}getState(t){const n=wi(this.children.list,o=>o.getState()),r=wi(this.vars.list,o=>o.ownValue!==null&&{name:o.klassVar.name,value:o.ownValue});return!t&&!n.length&&!r.length?null:{key:this.key,klass:this.klass.name,klassId:this.klass.id,values:Op(r),children:Op(n)}}resolveKlass(t){return this.library.getByUuid(t)}hasAncestor(t){return this.klass===t||this.parent?.hasAncestor(t)||!1}createChild(t,n,r){if(this.hasAncestor(t))throw Error(`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const o={klass:t.name,klassId:t.id,key:n.key,name:n.name,x:n.x,y:n.y},i=this.klass.children.create(o);return this.children._create(t,i,r)}createConnection(t,n,{key:r,aPadKey:o=0,bPadKey:i=0,vars:s,attrib:a}){const c=this===t?o:t.node,d=this===n?i:n.node;if(typeof c!="number"&&t.parent!==this||typeof d!="number"&&n.parent!==this)throw Error("Связь должна существовать в пределах одной схемы");const h=this.klass.childConnections.create(c,d,{key:r,vars:s,attrib:a});return this.childConnections._create(t,n,h)}reorderChildren(t){this.klass.children.reorder(t.map(n=>n.node)),this.children._setOrder(t)}remove(){if(!this.node)throw Error("Невозможно удалить корень схемы");this.node.remove()}applyChanges(){this.root.rebuild()}hasNode(t){return this.root===t.root}toString(){return this.key?`${this.klass.name} #${this.key}`:this.klass.name}markStateUnchanged(){this.root._stateChanged=!1}_notifyStateChanged(){this.root._stateChanged=!0}_notifyValuesChanged(){this.root._needReapplyValues=!0}_notifyConnectionDisabledChanged(){this.root._needReduce=!0}_notifyConnectionChanged(t){this.root.changedNestedConns.add(t)}setState(t){const{values:n,klassId:r}=t;if(n?.length&&this.klass.id===r){const{vars:o}=this;n.forEach(i=>o.get(i.name)?._setOwnValue(i.value))}t.children?.forEach(o=>this.children.get(o.key)?.setState(o))}_reduceVars(){this.children.list.forEach(t=>t._reduceVars()),this.vars.list.forEach(t=>t._reduce())}_applyDefaultValues(){this.children.list.forEach(t=>t._applyDefaultValues()),this.vars.list.forEach(t=>t._applyDefaultValue())}_applyOwnValues(){this.vars.list.forEach(t=>t._applyOwnValue()),this.children.list.forEach(t=>t._applyOwnValues())}}class $me{constructor(t,n){this.tabs=t,this.item=n,vt(this,{close:ye})}get _reactKey(){return this.item.editor._reactKey}get editor(){return this.item.editor}close(){const{editor:t}=this.item;return t.hasChanges&&!window.confirm(`${t.title} содержит несохраненные изменения. Все равно закрыть?`)?!1:(this.item.close(),this.tabs._notifyTabClosed(this),!0)}}class zme{constructor(){this.tabs=[],this.currentTab=null,this.tabHistory=[],vt(this,{currentTab:Pe.ref,tabs:Pe.ref,addTab:ye,setCurrentTab:ye,reorderTabs:ye})}addTab(t){const n=this.tabs.find(o=>o.item===t);if(n)return this.setCurrentTab(n),!1;const r=new $me(this,t);return this.tabs=this.tabs.concat(r),this.tabHistory.push(r),this.currentTab=r,!0}setCurrentTab(t){this.currentTab!==t&&(this.currentTab=t,this.tabHistory=this.tabHistory.filter(n=>n!==t).concat(t))}reorderTabs(t){this.tabs=t}_notifyTabClosed(t){this.tabs=this.tabs.filter(n=>n!==t),this.tabHistory=this.tabHistory.filter(n=>n!==t),this.currentTab===t&&(this.currentTab=this.tabHistory.at(-1)||null)}}class bg extends Si{constructor(t){super(`${t.type==="file"?"Файл":"Каталог"} '${t.name}' уже существует в этом каталоге`)}}class qh extends Si{constructor(t){super(`'${t.path}' доступен только для чтения`)}}class z$ extends Si{constructor(){super("Не задано имя файл или каталога")}}class Ume{constructor(t,n,r){this.type="file",this.itemId=Wv(),this.isDeleted=!1,this.onRemoved=new Kr(!0),this.name=t,this.nameUC=t.toUpperCase(),this.parent=r,this.size=n.size||0,this.klass=n.cls?new Dme(this,n.cls):null,this.stt=n.stt?new Kme(this,n.stt):null,this.scene=n.scene?new Wme(this,n.scene):null,this.matrix=n.mat?new Gme(this,n.mat):null,this.binary=typeof n.base64=="string"?new Hme(this,n.base64,this.size):null,this.image=n.image||null,this.video=n.video||null,this.audio=n.audio||null,this.ttf=n.ttf||null,this.cursor=n.cursor||null,this.mesh=n.mesh||null,vt(this,{isDeleted:Pe.ref,name:Pe.ref,nameUC:Pe.ref,parent:Pe.ref,rename:ye,remove:ye,toJSON:!1})}get isPrjFile(){return this.parent.lib.vfs.projectFile===this}get lib(){return this.parent.lib}get path(){return this.parent.path+"/"+this.name}get isReadonly(){return this.parent.isReadonly}get canEdit(){return!this.isReadonly}get hasRelativePath(){return!this.lib.isDefault}rename(t){if(!this.canEdit)throw new qh(this);if(t=ik(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent.getEntry(n);if(r)throw new bg(r);this.nameUC=n}this.name=t,this.parent._notifyFileRenamed(),this._notifyContentChanged()}remove(){if(!this.canEdit)throw new qh(this);this.parent._notifyFileRemoved(this),this._remove()}toJSON(){const{image:t,video:n,cursor:r,stt:o,binary:i,scene:s,klass:a,audio:c,matrix:d,ttf:h,mesh:f}=this;return{size:i?.byteLength??lo(this.size),cls:a?.toJSON(),image:t,scene:s?.data,video:n,cursor:r,stt:o?.data,base64:i?.base64,audio:c,mat:d?.data,ttf:h,mesh:f}}_notifyParentDeleted(){this._remove()}_notifyParentChanged(t){this.parent=t}_notifyContentChanged(){this.lib._notifyFilesChanged()}_remove(){this.isDeleted=!0,this._notifyContentChanged(),this.onRemoved.dispatch(this)}}class Hme{constructor(t,n,r){this._data=null,this.file=t,this.isTextFile=/\.(txt|json|config)$/i.test(t.name),this.byteLength=r,this._base64=n,vt(this,{byteLength:Pe.ref,setData:ye})}get data(){return this._data||(this._data=MC(this._base64)),this._data}get base64(){if(!this._base64){const{_data:t}=this;return this._base64=t?$v(t):""}return this._base64}setData(t){this._data=t,this._base64="",this.byteLength=t.byteLength,this.file._notifyContentChanged()}}class Gme{constructor(t,n){this.file=t,this.data=n,vt(this,{data:!1,setData:ye})}setData(t){this.data=t,this.file._notifyContentChanged()}}class Wme{constructor(t,n){this.file=t,this.data=n,vt(this,{data:Pe.ref,setData:ye})}setData(t){this.data=t,this.file._notifyContentChanged()}}class Kme{constructor(t,n){this.file=t,this.data=n,vt(this,{data:!1,setData:ye})}setData(t){this.data=t,this.file._notifyContentChanged()}}class vb{constructor(t,n){this.dirs=[],this.files=[],this.isSearchDir=!1,this.isDeleted=!1,this.type="dir",this.itemId=Wv(),this.name=t,this.nameUC=t.toUpperCase(),this.parent=n instanceof vb?n:null,this.lib=n instanceof U$?n:n.lib,vt(this,{name:Pe.ref,nameUC:Pe.ref,isDeleted:Pe.ref,parent:Pe.ref,lib:Pe.ref,dirs:Pe.ref,files:Pe.ref,isSearchDir:Pe.ref,rename:ye,remove:ye,insertEntry:ye,createDir:ye,createFile:ye,setSearchDirMarker:ye,getDir:!1,getEntry:!1,getFile:!1,hasAncestor:!1,recursive:!1,resolveDir:!1,resolveFile:!1})}get path(){const{parent:t}=this;return t?t.path+"/"+this.name:this.name}get isReadonly(){return this.lib.isReadonly}get canCreateFiles(){return!this.isReadonly}get isProjectRootDir(){return this.lib.vfs.projectRootDir===this}get canEdit(){return!!this.parent&&!this.isReadonly}get canAddToSearchDir(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasRelativePath(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasFiles(){return this.files.length>0||this.dirs.some(t=>t.hasFiles)}rename(t){if(!this.canEdit)throw new qh(this);if(t=ik(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent?.getEntry(n);if(r)throw new bg(r);this.nameUC=n}this.name=t,this.parent?._notifyDirRenamed(),this.hasFiles&&this.lib._notifyFilesChanged()}remove(){if(!this.parent||this.isReadonly)throw new qh(this);this.parent._notifyDirRemoved(this);const t=new Set;this.removeRecursive(t),this.lib.vfs._notifyDirsRemoved(t)}insertEntry(t){if(!t.parent||t.parent===this)return;if(!this.canCreateFiles)throw new qh(this);if(!t.canEdit)throw new qh(t);const n=this.getEntry(t.name);if(n)throw new bg(n);const r=t.type==="file"||t.hasFiles;r&&t.lib._notifyFilesChanged(),t.type==="file"?(t.parent._notifyFileRemoved(t),this.files=this.files.concat(t).sort(Ku)):(t.parent._notifyDirRemoved(t),this.dirs=this.dirs.concat(t).sort(Ku)),t._notifyParentChanged(this),r&&this.lib._notifyFilesChanged(),this.lib.vfs._notifyEntriesMoved()}createDir(t){if(!t)throw new z$;const n=this.getEntry(t);if(n){if(n.type==="dir")return n;throw new bg(n)}const r=new vb(t,this);return this.dirs=this.dirs.concat(r).sort(Ku),r}createFile(t,n){const r=this._createFile(t,n);return this.lib._notifyFilesChanged(),r}setSearchDirMarker(t){this.isSearchDir=t}getDir(t){const n=t.toUpperCase();return this.dirs.find(r=>r.nameUC===n)||null}getFile(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||null}getEntry(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||this.dirs.find(r=>r.nameUC===n)||null}resolveDir(t){if(!t)return this;const n=t.split("/");let r=this;for(let o=0;o<n.length;++o){const i=r.getDir(n[o]);if(!i)return null;r=i}return r}resolveFile(t){if(!t)return null;const n=t.lastIndexOf("/");return n<0?this.getFile(t):this.resolveDir(t.slice(0,n))?.resolveFile(t.slice(n+1))||null}_createFile(t,n){if(!t)throw new z$;const r=this.getEntry(t);if(r)throw new bg(r);const o=new Ume(t,n,this);return this.files=this.files.concat(o).sort(Ku),o}_notifyDirRemoved(t){this.dirs=this.dirs.filter(n=>n!==t)}_notifyFileRemoved(t){this.files=this.files.filter(n=>n!==t)}_notifyDirRenamed(){this.dirs=this.dirs.slice().sort(Ku)}_notifyFileRenamed(){this.files=this.files.slice().sort(Ku)}_notifyParentChanged(t){this.parent=t,this.lib!==t.lib&&this.updateTreeAndLibRecursive(t.lib)}updateTreeAndLibRecursive(t){this.lib=t,this.dirs.forEach(n=>n.updateTreeAndLibRecursive(t))}removeRecursive(t){this.isDeleted=!0,t.add(this),this.dirs.forEach(n=>n.removeRecursive(t)),this.files.forEach(n=>n._notifyParentDeleted()),this.dirs=[],this.files=[]}hasAncestor(t){return this===t||this.parent?.hasAncestor(t)||!1}*recursive(){for(const t of this.dirs)yield*t.recursive();for(const t of this.files)yield t}}class U${constructor(t,n,{isDefault:r=!1,isReadonly:o=!1}={}){this.isDirty=!1,this.vfs=t,this.isDefault=r,this.isReadonly=r||o,this.rootDir=new vb(n,this),vt(this,{isDirty:Pe.ref,setDirtyMarker:ye,toJSON:!1})}setDirtyMarker(t){this.isDirty=t}toJSON(){function t(n,r="",o=[]){for(const i of n.dirs)t(i,r+i.name+"/",o);for(const i of n.files){const s=r+i.name;o.push({path:s,...i.toJSON()})}return o}return{version:yk,files:t(this.rootDir)}}_notifyFilesChanged(){this.isDirty=!0}}class qme{constructor(){this.libs=[],this.projectFile=null,this.onDirsRemoved=new Kr,this.onEntriesMoved=new Kr,vt(this,{libs:Pe.ref,projectFile:!1,createLibrary:ye,resolveDir:!1,resolveFile:!1,setProjectFile:!1})}get projectRootDir(){return this.projectFile?.parent||null}setProjectFile(t){this.projectFile=t}createLibrary(t,{files:n},r){const o=new U$(this,t,r);for(const i of n){const s=i.path.split("/");let a=o.rootDir;for(let c=0;c<s.length-1;++c)a=a.createDir(s[c]);a._createFile(s[s.length-1],i)}return this.libs=this.libs.concat(o),o}resolveDir(t){const n=this.getRootDir(t);return n&&n.resolveDir(t.slice(n.name.length+1))}resolveFile(t){const n=this.getRootDir(t);return n&&n.resolveFile(t.slice(n.name.length+1))}_notifyDirsRemoved(t){this.onDirsRemoved.dispatch(t)}_notifyEntriesMoved(){this.onEntriesMoved.dispatch()}getRootDir(t){const n=t.toUpperCase();let r=null;for(const o of this.libs){const{rootDir:i}=o;n.startsWith(i.nameUC)&&(!r||r.name.length<i.name.length)&&(r=i)}return r}}class Yme{constructor(){this.type="all",this.text="",this.textUC="",vt(this,{textUC:Pe.ref,type:Pe.ref,text:Pe.ref,isActive:qr,setType:ye,setText:ye,isFilePassing:!1})}get isActive(){const{type:t,text:n}=this;return t!=="all"||n.length>1}setType(t){this.type=t}setText(t){this.text=t,this.textUC=t.toUpperCase()}isFilePassing(t){const{type:n,textUC:r}=this,o=n==="all"||n==="klass"&&!!t.klass||n==="image"&&!!t.image,i=!r||(t.klass?t.klass.nameUC+" "+t.nameUC:t.nameUC).includes(r);return o&&i}isDirPassing(t){return t.dirs.some(n=>this.isDirPassing(n))||t.files.some(n=>this.isFilePassing(n))}}class Xme extends Error{constructor(t){super(`Проект ${t} загружается`)}}class Zme{constructor(t,n){if(this.fs=t,!n.projects.length)throw Error("Список проектов пуст");const r=n.projects.map(o=>{const i=t.path(o.filepath||"project.spj");return{config:o,path:i,state:{type:"notLoaded"}}});this.projects=r,this.initialProjectPath=n.initial?t.path(n.initial):r[0].path}exists(t){return this.projects.some(({path:n})=>n.equals(t))}async open(t){const n=this.projects.find(({path:i})=>i.equals(t));if(!n)return null;const r=n.state;if(r.type==="loading")throw new Xme(n.path);if(r.type==="loaded")return r.parsedProjectConfig;n.state={type:"loading"};let o;try{const{fs:i}=this,{path:s,config:a}=n;await Promise.all(a.libs.map(y=>i.mountLibrary(y)));const{searchDirs:c,stt:d}=a.settings,h=s.resolve(".."),f=[i.stdlibDir,h].concat(c?.map(y=>i.path(y))??[]),g=d?i.path(d):h.resolve("_preload.stt"),m=g.file()?.stt;m||console.warn(`Файл состояния ${g} не существует`),o={settings:a.settings,filepath:s,dir:h,searchDirs:f,stt:m}}catch(i){throw n.state={type:"notLoaded"},i}return n.state={type:"loaded",parsedProjectConfig:o},o}}class Qme{constructor(t,n,r){this.handlers={closed:new Set,error:new Set,shell:new Set,write:new Set,afterCycle:new Set},this.onProjectOpen=new pa,this.beforeProjectClosed=new pa,this.beforeCompute=new pa,this.afterCompute=new pa,this.beforeRender=new pa,this.classes=new ble,this.iterations=0,this.isPaused=!1,this.pluginFunctions={},this.compiler=new Ok,this.pluginNames=[],this.optionalPlugins=[],this.projects=[],this.closedProjects=new Set,this.uiEventsEnabled=!0,this.lag=0,this.timeStep=0,this.update=o=>{let i=!0;if(!this.isPaused)if(this.timeStep>0){const s=o-this.lag;for(s>this.timeStep*10&&(console.warn(`lag обнулен: dt:${s}`),this.lag=o-this.timeStep-1);this.lag+this.timeStep<o&&(this.lag+=this.timeStep,!!(i=this.compute())););}else i=this.compute();return this.beforeRender.dispatch(),i},this.showed=new Set,this.runner=new Pp(r),this.projectLoader=new Zme(t,n),this.initialCfg=this.init()}async init(){const t=this.projectLoader,n=await t.open(t.initialProjectPath);Gv(n,`${t.initialProjectPath}: Проект существует`),this.initialCfg=n}async ready(){return await this.initialCfg,this}get fs(){return this.projectLoader.fs}get currentProject(){const{projects:t}=this;return t.length?t[t.length-1]:null}canHandleProjectUiEvents(t){return this.uiEventsEnabled&&this.projects.includes(t)}run(){if(this.initialCfg instanceof Promise)throw Error(`${this.projectLoader.initialProjectPath}: Начальный проект не загружен`);this.projects.length||(this.uiEventsEnabled=!0,this.isPaused=!1,this.iterations=0,this.addProject(this.initialCfg),this.runner.run(this.update))}stop(){this.closeAll(),this.compute()}step(){this.isPaused=!0,this.compute()}pause(){this.isPaused=!0}block(){this.uiEventsEnabled=!1,this.isPaused=!0}unblock(){this.uiEventsEnabled=!0,this.isPaused=!1}continue(){this.isPaused=!1}closeProject(t){const n=this.projects.indexOf(t);n>=0&&this.projects.splice(n,1),this.closedProjects.add(t)}closeAll(){let t;for(;t=this.projects.pop();)this.closedProjects.add(t)}hasProject(t){return this.projectLoader.exists(t)}async openProject(t){const n=await this.projectLoader.open(t);return n?this.addProject(n):null}addProject({filepath:t,searchDirs:n,dir:r,stt:o,settings:i}){Nr.debugProject&&console.log(`Открывается ${t}`);const s=Symbol(t.toString());let a;try{i.plugins?.forEach(d=>{const h=this.optionalPlugins.find(({plugin:f})=>f.name===d);Gv(h,`${t}: Плагин ${d} загружен`),this.addPlugin(h.plugin,h.opts),Nr.debugProject&&console.log(`Загружен плагин '${d}'`)}),n.forEach(d=>{const h=!i.nonRecursive||d.equals(this.fs.stdlibDir);d.forEach(f=>{if(!f.cls||this.classes.hasFile(f))return;const g=new yle({projectId:s,data:f.cls,file:f,compiler:this.compiler,modelGlobals:this.pluginFunctions});g.isFunction&&this.compiler.addUserFunc(g.getUserFunctionSignature()),this.classes.add(g)},h)});const c=this.classes.get(i.rootClass);Gv(c,`${t}: Корневой имидж ${i.rootClass} существует`),a=new Ole({kernel:this,id:s,filepath:t,dir:r,rootKlass:c,state:o,settings:i})}catch(c){throw this.classes.unload(s),c}return this.projects.push(a),this.onProjectOpen.dispatch(a),a}compute(){if(this.closedProjects.forEach(n=>{Nr.debugProject&&console.log(`Закрывается ${n.id.description}`),this.beforeProjectClosed.dispatch(n),this.classes.unload(n.id)}),this.closedProjects.clear(),!this.projects.length)return this.handlers.closed.forEach(n=>n()),!1;const t=this.projects[this.projects.length-1];try{t.root.compute(!1)}catch(n){throw n instanceof C0?(this.handlers.error.forEach(r=>r(n.message)),new C0(`Проект ${t.id.description}, ${n.message}`,n.original)):n}return++this.iterations,this.handlers.afterCycle.forEach(n=>n()),!0}setIterationsPerSecond(t){this.timeStep=t>0?1e3/t:0,this.lag=0}log(t,n){Nr.logMessage&&console.info(n?`${n.path()}: ${t}`:t)}handleExe(t,n){const r=t.lastIndexOf(".exe"),o=r<0?t:t.substring(0,r);return this.handlers.shell.forEach(i=>i(o,"","",n??0)),!0}handleShell(t,n,r,o){return this.handlers.shell.forEach(i=>i(t,n,r,o)),!0}handleWrite(t,n){this.handlers.write.forEach(r=>r(t.toString(),n)),t.startsWith(this.fs.downloadsDir)&&AC(new Blob([n],{type:"text/plain"}),t.basename())}addPlugin(t,n){this.pluginNames.includes(t.name)||(t.deps?.forEach(r=>{if(!this.pluginNames.includes(r))throw Error(`Плагин '${t.name}' зависит от '${r}'`)}),this.pluginNames.push(t.name),t.register((r,o,i)=>{const s=this.compiler.addFunc(r,o);this.pluginFunctions[s]=i}),t.setup?.(this,n))}addOptionalPlugin(t,n){this.optionalPlugins.push({plugin:t,opts:n})}_functionNotImplemented(t,n){if(this.showed.size===this.showed.add(t.toUpperCase()).size)return;const r=`${t} не реализована`;console.warn(n?`${n.path()}: ${r}`:r)}dispose(){this.windowSystem?.windowFactory.dispose()}}class Jme{constructor(t){this.kernel=t}async ready(){return await this.kernel.ready(),this}get status(){const{kernel:t}=this;return t.currentProject?t.isPaused?"paused":"playing":"closed"}play(){return this.kernel.run(),this}close(){return this.kernel.stop(),this}pause(){return this.kernel.pause(),this}continue(){return this.kernel.continue(),this}step(){return this.kernel.step(),this}addPlugin(t,n){return this.kernel.addOptionalPlugin(t,n),this}on(t,n){return this.kernel.handlers[t].add(n),this}off(t,n){const r=this.kernel.handlers[t];return n?r.delete(n):this.kernel.handlers[t].clear(),this}dispose(){this.kernel.dispose()}}function eve(e){e.style.transformOrigin="top left",e.insertAdjacentHTML("afterend",`
<div id="mobzoom-icons-container">
    <img draggable="false" id="mobzoom-in-btn" src="images/zoom-in-icon.svg" />
    <img draggable="false" id="mobzoom-out-btn" src="images/zoom-out-icon.svg" />
</div>`);const n=document.getElementById("mobzoom-in-btn");n.oncontextmenu=N=>N.preventDefault();const r=document.getElementById("mobzoom-out-btn");r.oncontextmenu=N=>N.preventDefault();const o=new Pp(e.ownerDocument.defaultView);let i=1;const s=()=>{if(!isNaN(a))i*=1.05;else if(!isNaN(c))i*=.95;else return!1;return i=Math.min(Math.max(i,.1),1),e.style.transform=`scale(${i})`,e.style.width=`${100/i}%`,e.style.height=`${100/i}%`,!0};let a=NaN;n.onpointerdown=N=>{isNaN(a)&&(o.run(s),n.setPointerCapture(a=N.pointerId))},n.onpointerup=N=>{a===N.pointerId&&(a=NaN)},n.onpointercancel=N=>{a===N.pointerId&&(a=NaN)};let c=NaN;r.onpointerdown=N=>{isNaN(c)&&(o.run(s),r.setPointerCapture(c=N.pointerId))},r.onpointerup=N=>{c===N.pointerId&&(c=NaN)},r.onpointercancel=N=>{c===N.pointerId&&(c=NaN)};const d=new Pp(e.ownerDocument.defaultView);let h=null;const f=new Map;let g=0,m=0;function y(N){if(!(f.size>2)){if(f.size<2){h=null,(Math.abs(g)>1||Math.abs(m)>1)&&d.run(()=>(g-=Math.sign(g)*.4,m-=Math.sign(m)*.4,e.scrollLeft-=g,e.scrollTop-=m,Math.abs(g)>1||Math.abs(m)>1));return}N.stopPropagation();{h=[...f.values()];const[P,L]=h;P.x-L.x,P.y-L.y}}}let b=null;function v(N){f.set(N.pointerId,{id:N.pointerId,x:N.screenX,y:N.screenY}),d.stop(),N.isPrimary&&(b=[N.clientX,N.clientY]),y(N)}function S(N){f.delete(N.pointerId),N.isPrimary&&(b=null,E.stop()),y(N)}const E=new Pp(e.ownerDocument.defaultView),T=100;let R=[0,0];function M(){const[N,P]=R;if(b){const $=N-b[0],B=P-b[1];if($**2+B**2<100)return!1}let L=0,A=0;if(N<T)L=N-T;else{const $=window.innerWidth-N;$<T&&(L=T-$)}if(L/=40,P<T)A=P-T;else{const $=window.innerHeight-P;$<T&&(A=T-$)}return A/=40,L&&(e.scrollLeft+=Math.E**Math.abs(L)*Math.sign(L)),A&&(e.scrollTop+=Math.E**Math.abs(A)*Math.sign(A)),!0}function I(N){if(!h&&N.isPrimary?(R[0]=N.clientX,R[1]=N.clientY,E.run(M)):E.stop(),!h)return;const P=f.get(N.pointerId);if(P){N.isPrimary||(N.stopPropagation(),g=N.screenX-P.x,m=N.screenY-P.y,e.scrollLeft-=g,e.scrollTop-=m);{const[L,A]=h;L.x-A.x,L.y-A.y}P.x=N.screenX,P.y=N.screenY}}e.addEventListener("pointerdown",v,{capture:!0}),e.addEventListener("pointerup",S),e.addEventListener("pointercancel",S),e.addEventListener("pointermove",I,{capture:!0})}const wg={root:"c3UHApxQ",mywindow:"JtozXFt9",top:"pnlxzH3m",popup:"dJ50k0ZR","close-button":"_2NuvSdcG"};function tve(){const e=document.createElement("button");return e.textContent="×",e.className=wg["close-button"],e}class nve{constructor(t,{popup:n,content:r,...o},i=null){this.system=t,this.relativeTo=i,this.onClosed=new pa,this.x=0,this.y=0,this.width=0,this.height=0,this.title="",this.visible=!0,this.scale=1,this.instantClose=!1,this.isClosed=!1,this.hideTimeout=0;const s=this.view=r;if(this.popup=n||!1,this.set(o),this.width=s.clientWidth,this.height=s.clientHeight,n)s.addEventListener("focusout",this.onFocusOut.bind(this));else if(o.caption){const a=tve();s.children.item(0)?.append(a),a.addEventListener("click",this.close.bind(this)),this.instantClose=!0}}onFocusOut(t){this.view.contains(t.relatedTarget)||this.close()}close(){this.isClosed||(this.isClosed=!0,this.remove(),this.onClosed.dispatch())}toTop(){}set({x:t=this.x,y:n=this.y,title:r=this.title,visible:o=this.visible,preserveX:i}){const{view:s}=this,{style:a}=s;if(this.title!==r&&(this.view.ariaLabel=`Окно '${r}'`),this.popup){if(i){const c=this.relativeTo?.offsetLeft||0;a.setProperty("left",t+c+"px"),a.setProperty("right","unset")}else a.removeProperty("left"),a.removeProperty("right");if(this.y!==n){const c=this.relativeTo?.offsetTop||0;a.setProperty("top",n+c+"px")}}return this.visible!==o&&(this.view.style.opacity=o?"1":"0",this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(()=>this.view.style.setProperty("display",o?"block":"none"),o?0:250)),this.x=t,this.y=n,this.title=r,this.visible=o,this}makeRelativeTo(t){if(this.popup){const{style:n}=this.view,r=t.offsetLeft();console.log(this.x,r),n.setProperty("left",this.x+r+"px"),n.setProperty("right","unset");const o=t.offsetTop();n.setProperty("top",this.y+o+"px")}}offsetLeft(){return this.view.offsetLeft}offsetTop(){return this.view.offsetTop}remove1(){this.view.style.opacity="0",setTimeout(()=>this.view.remove(),250)}remove(){this.system._removeWindow(this),this.popup?this.remove1():this.remove1()}}const H$={root:"stratum-player-root"};class rve{constructor(t){this.firstWindow=null;const n=(typeof t=="string"?document.getElementById(t):t)||document.body,r=this.root=document.createElement("div");r.classList.add(wg.root,H$.root),n.append(r),Nr.isMobile&&eve(n)}get screenWidth(){return this.root.clientWidth}get screenHeight(){return this.root.clientHeight}_removeWindow(t){this.firstWindow===t&&(this.firstWindow=null)}createWindow(t){const n=t.content;n.classList.add(wg.mywindow,t.popup?wg.popup:wg.top);let{x:r=0,y:o=0}=t;n.style.opacity="0",queueMicrotask(()=>n.style.opacity="1"),this.root.appendChild(n),t.popup&&(r=Math.max(r,0),o=Math.max(o,0),n.offsetHeight&&(o=Math.min(o,this.screenHeight-n.offsetHeight-11)),Wu(n,{left:r+"px",top:o+"px"}));const i=document.activeElement?.hasAttribute("data-gspace-key")?document.activeElement:null,s=new nve(this,{...t,x:r,y:o},i);return!t.popup&&!this.firstWindow&&(this.firstWindow=s),requestAnimationFrame(()=>n.focus({preventScroll:!0})),s}dispose(){this.root.remove()}}class ove{create(t,n){return new YV(t)}}async function ive(e){const t=await _0.create(),n=new rve(Nr.root),r=n.root.ownerDocument.defaultView||window,o=new Qme(t,e,r),s={sceneFactory:new ove,windowFactory:n};return ZD.forEach(a=>o.addPlugin(a,s)),new Jme(o).ready()}var _=pi();const wn=EC(_),rM=tq({__proto__:null,default:wn},[_]);class sve{constructor(){this.vars=[],vt(this,{vars:Pe.ref,add:ye,clear:ye,remove:ye})}add(t){this.vars.includes(t)||(this.vars=this.vars.concat(t))}remove(t){this.vars=this.vars.filter(n=>n!==t)}clear(){this.vars=[]}}class ave{constructor(t,{klassVar:n}){this.value="",this.schema=t,this.klassVar=n,this._updateValue(),vt(this,{value:Pe.ref,setValue:ye})}get id(){return this.klassVar.id.toString()}get name(){return this.klassVar.name}get type(){return this.klassVar.type}setValue(t){const{klassVar:n,schema:r}=this,o=Np(n.type,t);if(o===null)return!1;const i=r._pSchema.vars.setValue(n,o);return i&&this._updateValue(),i}_updateValue(){const{klassVar:t,schema:n}=this,r=n._pSchema.vars.getNewValue(t);this.value=Lk(t.type,r)}}const lve={};class oM{constructor({pSchema:t,parent:n=null,root:r=this,player:o}){this.itemId=Wv(),this.isActive=!1,this.root=r,this.parent=n,this.player=o,this._pSchema=t,this.vars=t.klass.vars.list.map(i=>new ave(this,{klassVar:i})),this.children=t.children.map(i=>new oM({root:r,player:o,pSchema:i,parent:this})),vt(this,{isActive:Pe.ref,makeActive:ye})}get imageData(){const{image:t}=this._pSchema.klass;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this._pSchema.klass.image?.icon||lve}makeActive(){this.isActive=!0,this.player._setActiveSchema(this)}toString(){const{_pSchema:t}=this;return t.ndata?`${t.klass.name} #${t.ndata.key}`:t.klass.name}_updateValues(){this.vars.forEach(t=>t._updateValue())}}const cve=4;class uve{constructor(t,{player:n}){this.isMinimized=!1,this.activeSchema=null,this.rootSchema=null,this.iterationCount=0,this.iterationPerSecond=0,this.onPlayerClosed=()=>{this.player.dispose(),this.mgr._onPlayerClosed()},this.prevTime=Date.now(),this.onPlayerCycleCompleted=()=>{const r=this.player.kernel.iterations,o=Date.now();this.iterationPerSecond=Math.round((r-this.iterationCount)/(o-this.prevTime)*1e3),this.iterationCount=r,this.prevTime=o;const{currentProject:i}=this.player.kernel;if(!i){this.rootSchema=null;return}if((!this.rootSchema||this.rootSchema._pSchema!==i.root)&&(this.rootSchema=new oM({pSchema:i.root,player:this}),this.activeSchema=this.rootSchema,this.markedVars.clear(),this.mgr._updateMarkedVars(this.rootSchema)),this.status==="paused"||!((this.iterationCount-1)%cve)){const s=new Set;this.activeSchema&&s.add(this.activeSchema),this.markedVars.vars.forEach(a=>{s.add(a.schema)}),s.forEach(a=>{a._updateValues()})}},this.player=n,this.mgr=t,this.status=n.status,this.markedVars=new sve,vt(this,{isMinimized:Pe.ref,status:Pe.ref,activeSchema:Pe.ref,rootSchema:Pe.ref,iterationCount:Pe.ref,onPlayerClosed:ye,onPlayerCycleCompleted:ye,close:ye,continue:ye,maximize:ye,minimize:ye,pause:ye,step:ye}),n.on("closed",this.onPlayerClosed),n.on("afterCycle",this.onPlayerCycleCompleted)}updatePlayerStatus(){this.status=this.player.status}close(){this.player.close()}pause(){this.player.pause(),this.updatePlayerStatus()}continue(){this.player.continue(),this.updatePlayerStatus()}step(){this.player.step(),this.updatePlayerStatus()}minimize(){this.isMinimized=!0}maximize(){this.isMinimized=!1}_setActiveSchema(t){this.activeSchema=t}}class dve{constructor(t){this.onBeforeRun=new Kr,this.mountRef=_.createRef(),this.status="closed",this.player=null,this.markedVars=new Set,this.project=t,vt(this,{player:Pe.ref,status:Pe.ref,openPlayer:oo})}addMarkedVar(t){this.markedVars.add(t)}removeMarkedVar(t){this.markedVars.delete(t)}*openPlayer(){if(this.status!=="closed")return;const t=this.mountRef.current;if(!t)return;this.status="initializing",this.onBeforeRun.dispatch(),Nr.cache="no-cache",Nr.debugProject=!0,Nr.logMessage=!0,Nr.root=t;const{project:n}=this;n.saveSchemaStateToFile();const r=n.toRemoteProjectData(!0),o=[r].concat(n.subProjects.map(a=>a.config)),i=r.filepath;console.log({projects:o,initial:i});let s;try{s=yield ive({projects:o,initial:i})}catch(a){throw this._onPlayerClosed(),alert(a.message),a}s.on("error",alert);try{s.play()}catch(a){throw s.dispose(),this._onPlayerClosed(),alert(`При запуске проекта произошла ошибка:
`+a.message),a}this.player=new uve(this,{player:s}),this.status="running"}_onPlayerClosed(){this.status="closed",this.player=null}_updateMarkedVars(t){this.markedVars.forEach(n=>{let r=n.schema;const o=[r.key];for(;;){const a=r.parent;if(!a||!a.key)break;o.push(a.key),r=a}let i=t;for(const a of o.reverse()){const c=i.children.find(d=>d._pSchema.ndata?.key===a);if(!c)return;i=c}const s=i.vars.find(a=>a.name===n.name);s&&this.player?.markedVars.add(s)})}}class G${constructor(t,n,r,o){this.project=t,this.id=n,this.name=r,this.config=o,vt(this,{remove:ye})}remove(){this.project._removeSubProject(this)}}class hve{constructor(t){this.isDirty=!1,this.libs=[],this.subProjects=[],this.vfsFilter=new Yme,this.vfsFilterVisible=new vd,this.player=new dve(this),this.tabs=new zme,this.onCollapseFilesButtonClick=new Kr,this.onNodeSelected=new Kr,this.vfsFileTransfer=new nM("fileContent"),this.selectSchema=n=>{this.onNodeSelected.dispatch(n)},this.apiClient=t.apiClient,this.id=t.id,this.accessKey=t.accessKey,this.name=t.name,this.vfs=t.vfs,this.schema=t.schema,this.klassLibraryBuilder=t.classLibraryBuilder,this.plugins=t.plugins,this.projectFile=t.projectFile,this.sttFile=t.sttFile,this.libs=t.libs,this.subProjects=t.subProjects.map(({id:n,name:r,config:o})=>new G$(this,n,r,o)),this.editorMultiplexer=new Ome({fileContentTransfer:this.vfsFileTransfer,getFileUploader:this.getFileUploader.bind(this)}),this.syncer=new Ame({apiClient:t.apiClient,project:this}),vt(this,{isDirty:Pe.ref,libs:Pe.ref,subProjects:Pe.ref,plugins:Pe.ref,sttFile:Pe.ref,setRecursiveKlassSearch:ye,addKlassSearchDir:ye,removeKlassSearchDir:ye,addSubProject:ye,createNewKlass:ye,openBinaryFile:ye,focusOnNode:ye,openFile:ye,openKlassCode:ye,openKlassProps:ye,openKlassScene:ye,openMatrixFile:ye,openSceneFile:ye,openSchema:ye,saveSchemaStateToFile:ye,setDirtyMarker:ye,getFileUploader:!1,toRemoteProjectData:!1})}close(){return this.hasChanges&&!confirm("Несохраненные изменения будут потеряны, продолжить?")?!1:(this.player.player?.close(),this.tabs.tabs.every(t=>t.close()))}get hasChanges(){return this.isDirty||this.schema.isStateChanged||this.libs.some(t=>t.hasChanges)}get klassLibrary(){return this.klassLibraryBuilder.klassLibrary}get recursiveKlassSearch(){return this.klassLibraryBuilder.recursiveSearch}get klassSearchDirs(){return this.klassLibraryBuilder.searchDirs}addMarkedVar(t){this.player.addMarkedVar(t)}removeMarkedVar(t){this.player.removeMarkedVar(t)}setDirtyMarker(t){this.isDirty=t}setRecursiveKlassSearch(t){const{klassLibraryBuilder:n}=this;n.setRecursiveSearch(t),n.rebuildLibrary(),this.isDirty=!0}addKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.addSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}removeKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.removeSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}addSubProject(t,n,r){const o=new G$(this,t,n,r);return this.subProjects=this.subProjects.concat(o).sort((i,s)=>Mp(i.config.filepath||"",s.config.filepath||"")),this.isDirty=!0,o}createNewKlass(t,n){gk(t);const r=this.klassLibrary.get(t);if(r)throw new j$(r);const o=Ih(n,t,"cls"),i=n.createFile(o,{cls:mk(t)});return this.klassLibraryBuilder.rebuildLibrary(),i.klass}saveSchemaStateToFile(){const{schema:t}=this;if(!t.isStateChanged)return;const n=t.getState(!0);this.sttFile||(this.sttFile=this.projectFile.parent.createFile("_preload.stt",{stt:n}).stt),this.sttFile.setData(n),t.markStateUnchanged()}openSchema(t){const n=this.editorMultiplexer.openSchemaEditor(t);if(this.tabs.addTab(n)){const{scene:r}=n.editor;r.onNodeSelected.add(this.selectSchema),r.onSaved.add(()=>{r.schema&&(this.schema.hasNode(r.schema)||this.schema.applyChanges())})}return n}focusOnNode(t,n=!1){const r=this.openSchema(t.parent||t);t.parent?r.editor.scene.children.find(o=>o.schema===t)?.select(n):r.editor.scene.selection?.reset()}openKlassProps(t){this.tabs.addTab(this.editorMultiplexer.openKlassPropsEditor(t))}openKlassScene(t){this.openSchema(new mb(t,this.klassLibrary,{isFake:!0}))}openKlassCode(t){const n=this.klassLibrary,r=this.editorMultiplexer.openCodeEditor({klass:t,lib:n,pluginsGetter:()=>[]});if(this.tabs.addTab(r)){const{editor:o}=r;o.onError.add(i=>{alert(i)}),o.onSaved.add(()=>this.schema.applyChanges())}}openFile(t){if(t.klass){this.openKlassProps(t.klass);return}if(t.scene){this.tabs.addTab(this.editorMultiplexer.openFileSceneEditor(t.scene));return}if(t.binary){this.tabs.addTab(this.editorMultiplexer.openBinaryFileEditor(t.binary));return}}openSceneFile(t){}openMatrixFile(t){}openBinaryFile(t){}getFileUploader(t){const n=this.libs.find(r=>r.vfsLib===t);return n?new Nq(this.apiClient,n):null}toRemoteProjectData(t){const n={rootClass:this.schema.klass.name,searchDirs:this.klassLibraryBuilder.searchDirs.map(r=>r.path),nonRecursive:!this.klassLibraryBuilder.recursiveSearch,stt:this.sttFile?.file.path,plugins:this.plugins};return{filepath:this.projectFile.path,libs:this.libs.map(r=>r.toRemoteFilesData(t)),settings:n}}_removeSubProject(t){this.subProjects=this.subProjects.filter(n=>n!==t),this.isDirty=!0}async export(){const t=await this.apiClient.getProjectPlayerZip(this.id);AC(t,`${this.id}.zip`)}}class fve{constructor(t,n,r,o){this.id=t,this.name=n,this.contentDirname=r,this.vfsLib=o}get hasChanges(){return this.vfsLib.isDirty}remove(){}toRemoteFilesData(t){return{src:this.contentDirname,mount:this.vfsLib.rootDir.name,data:lo(t&&this.vfsLib.toJSON())}}}class W${constructor({libDto:t,parent:n,selector:r}){this.selector=r,this.id=t.id,this.name=t.name,this.parent=n,this.contentDirname=t.contentDirname,vt(this,{getPath:!1})}getPath(){const t=this.parent.getPath();return t?t+"/"+this.name:this.name}}class iM{constructor({selector:t,projectDto:n,parent:r}){this.parent=r,this.selector=t,this.projectDto=n,vt(this,{select:ye})}get id(){return this.projectDto.id}get name(){return this.projectDto.name}get config(){return this.projectDto.config}select(){this.selector._onProjectSelected(this)}}const pve={id:0,name:""};class yb{constructor({selector:t,apiClient:n,dirDto:r=pve,parent:o=null}){this.dirs=[],this.libs=[],this.projects=[],this.isChildrenFetching=!1,this.isChildrenFetched=!1,this.selector=t,this.apiClient=n,this.id=r.id,this.name=r.name,this.parent=o,vt(this,{isChildrenFetching:Pe.ref,isChildrenFetched:Pe.ref,libs:Pe.ref,dirs:Pe.ref,projects:Pe.ref,clear:ye,fetchChildren:oo,createNewDir:oo,createNewLibrary:oo,createNewProject:oo,getPath:!1})}*fetchChildren(){if(this.isChildrenFetching||this.isChildrenFetched)return;const{apiClient:t,selector:n}=this;this.isChildrenFetching=!0;let r;try{this.id?r=yield t.getDirContent(this.id,{libs:!0,projects:!0}):r=yield t.getRootDirContent({libs:!0,projects:!0})}finally{this.isChildrenFetching=!1}this.isChildrenFetched=!0,this.dirs=r.dirs.map(o=>new yb({selector:n,parent:this,apiClient:t,dirDto:o})).sort((o,i)=>Mp(o.name,i.name)),r.libs&&(this.libs=r.libs.map(o=>new W$({selector:n,parent:this,apiClient:t,libDto:o})).sort((o,i)=>Mp(o.name,i.name))),r.projects&&(this.projects=r.projects?.map(o=>new iM({selector:n,parent:this,projectDto:o})).sort((o,i)=>Mp(o.name,i.name)))}clear(){this.isChildrenFetched=!1,this.dirs=[],this.libs=[]}*createNewDir(t){const{apiClient:n,selector:r}=this,{dir:o,created:i}=yield n.createDir(t,this.id);if(!i)throw new Si(`Каталог '${o.name}' уже существует`);const s=new yb({dirDto:o,selector:r,apiClient:n,parent:this});return this.dirs=this.dirs.concat(s),s}*createNewLibrary(t){const{apiClient:n,selector:r}=this,{library:o,created:i}=yield n.createLib(t,this.id);if(!i)throw new Si(`Библиотека '${o.name}' уже существует`);const s=new W$({libDto:o,selector:r,apiClient:n,parent:this});return this.libs=this.libs.concat(s),s}*createNewProject(t,n,r){const{selector:o,apiClient:i}=this,{project:s,created:a}=yield i.createProject({name:t,config:n,parentDirId:this.id,libIds:[r.id]});if(!a)throw new Si(`Проект '${s.name}' уже существует`);const c=new iM({selector:o,parent:this,projectDto:s});return this.projects=this.projects.concat(c),c}getPath(){const t=this.parent?.getPath();return t?t+"/"+this.name:this.name}}class K${constructor(t,n=!1){this.onProjectSelected=new Kr,this.isProjectCreationInProgress=!1,this.apiClient=t,this.libsMode=n,this.root=new yb({selector:this,apiClient:t}),vt(this,{isProjectCreationInProgress:Pe.ref,createNewProject:oo,getDirById:!1})}*createNewProject(t){const n=t.getPath(),r=prompt(`Введите название проекта (будет создан в ${n?`папке '${n}'`:"корневой папке"})`);if(!r)return;let o;this.isProjectCreationInProgress=!0;try{const i=yield t.createNewLibrary(r),s="project.spj",a="root";yield this.apiClient.updateLibraryIndex(i.id,{version:yk,files:[{path:s},{path:"root.cls",cls:mk(a)}]});const c=i.getPath(),d={settings:{rootClass:a},libs:[{src:i.contentDirname,mount:c}],filepath:c+"/"+s};o=yield t.createNewProject(r,d,i)}catch(i){if(i instanceof eM){alert(i.message);return}throw i}finally{this.isProjectCreationInProgress=!1}this.onProjectSelected.dispatch(o)}getDirById(t){return(function n(r){if(r.id===t)return r;for(const o of r.dirs){const i=n(o);if(i)return i}return null})(this.root)}_onProjectSelected(t){this.onProjectSelected.dispatch(t)}}class gve{constructor({apiClient:t}){this.loadingMessage="Инициализация редактора",this.currentProject=null,this.ctxMenu=new _me,this.currentModalDialog=_.createRef(),this.activeLeftPanelActiveView=new $ge("schema"),this.mainMenuVisible=new vd,this.loginFormVisible=new vd,this.leftPanelMinimized=new vd,this.rightPanelMinimized=new vd,this.subProjectSelectorVisible=new vd,this.librarySelectorVisible=new vd,this.onNewSession=i=>{xq(this.getLocalStorageCredentialsKey(),i),this.onLogin()},this.onBeforeLogout=()=>{this.closeCurrentProject()&&(this.apiClient.removeAuthData(),_q(this.getLocalStorageCredentialsKey()),this.projectSelector.root.clear(),this.mainMenuVisible.setFalse(),this.loginFormVisible.setTrue())},this.onProjectSelected=i=>{this.mainMenuVisible.setFalse(),!(i.id===this.currentProject?.id||!this.closeCurrentProject())&&(Aq(i.id),i instanceof iM&&"subprojects"in i.projectDto?this.changeProject(i.projectDto):this.loadProjectById(i.id))},this.onPopState=i=>{this.loginFormVisible.isTrue||(i.preventDefault(),this.mainMenuVisible.setFalse(),this.tryLoadPreviousProject())},this.onBeforeUnload=i=>{const{currentProject:s}=this;s&&(s.tabs.tabs.length||s.hasChanges)&&i.preventDefault()},this.apiClient=t,t.onError.add(i=>alert("API: "+i)),(this.projectSelector=new K$(t)).onProjectSelected.add(this.onProjectSelected),(this.subProjectSelector=new K$(t)).onProjectSelected.add(({id:i,name:s,config:a})=>{this.currentProject?.addSubProject(i,s,a),this.subProjectSelectorVisible.setFalse()});const o=this.accountSettings=new xme(t);o.onLogin.add(this.onNewSession),o.onBeforeLogout.add(this.onBeforeLogout),vt(this,{currentProject:Pe.ref,loadingMessage:Pe.ref,openSubProject:ye,onPopState:ye,init:oo,changeProject:oo,loadProjectById:oo}),window.addEventListener("popstate",this.onPopState),window.addEventListener("beforeunload",this.onBeforeUnload),window.addEventListener("error",({error:i})=>alert(i.message)),window.addEventListener("keydown",Vge.bind(null,this))}*init(){let t=!1;const n=Cq(this.getLocalStorageCredentialsKey());n&&(this.loadingMessage="Вход в аккаунт",t=yield this.accountSettings.restorePrevSession(n)),this.loadingMessage="",t?this.onLogin():this.onBeforeLogout()}openSubProject(t){this.onProjectSelected(t)}onLogin(){this.projectSelector.root.fetchChildren(),this.loginFormVisible.setFalse(),this.tryLoadPreviousProject()}closeCurrentProject(){const{currentProject:t}=this;return t&&!t.close()?!1:(this.currentProject=null,!0)}tryLoadPreviousProject(){const t=Dq();if(t){if(this.currentProject?.id===t||!this.closeCurrentProject())return;this.loadProjectById(t)}else{if(!this.closeCurrentProject())return;this.mainMenuVisible.setTrue()}}*loadProjectById(t){this.loadingMessage=`Получение информации о проекте 'id:${t}'`;let n;try{n=yield this.apiClient.getProject(t)}catch(r){throw this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.changeProject(n)}*changeProject(t){let n;try{const{config:r}=t,o=`Загрузка ресурсов проекта '${r.filepath||t.name}'`;console.log(o),console.log(t),this.loadingMessage=o;const i=new qme,s=yy({src:ok}),a=t.libs.map(async M=>{const{id:I,name:N,writeAccess:P,contentDirname:L}=M,A=await yy({src:L},{cache:"no-cache"}),$=r.libs.find(U=>U.src===L).mount,B=i.createLibrary($,A,{isReadonly:!P});return new fve(I,N,L,B)}),c=yield Promise.all(a),d=i.resolveFile(r.filepath||"project.spj");if(!d)throw new Si(`Файл проекта '${r.filepath}' не существует`);const h=d.parent;i.setProjectFile(d);const f=yield s,g=i.createLibrary("Стандартная библиотека",f,{isDefault:!0});this.loadingMessage="Построение схемы имиджей";const m=new Tme(i);m.setRecursiveSearch(!r.settings.nonRecursive),m.setStandardSearchDir(g.rootDir),m.addSearchDir(h),r.settings.searchDirs?.forEach(M=>{const I=i.resolveDir(M);I?m.addSearchDir(I):console.warn(`Каталог поиска имиджей '${M}' не существует`)}),m.rebuildLibrary();const y=m.klassLibrary,b=r.settings.rootClass,v=y.get(b);if(!v)throw new Si(`Корневой имидж '${b}' не существует`);const S=r.settings.stt,E=S?i.resolveFile(S):h.getFile("_preload.stt"),T=E?.type==="file"?E.stt:null,R=new mb(v,y,T?.data);n=new hve({apiClient:this.apiClient,id:t.id,accessKey:t.accessKey,name:t.name,vfs:i,schema:R,classLibraryBuilder:m,plugins:r.settings.plugins||[],projectFile:d,sttFile:T,libs:c,subProjects:t.subprojects})}catch(r){throw alert(`При загрузке проекта произошла ошибка:
`+r.message),this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.currentProject=n,console.log(vk(n)),this.onProjectChanged(n)}onProjectChanged(t){t.focusOnNode(t.schema)}getLocalStorageCredentialsKey(){return`${Yu.localStoragePrefix}/session_data`}}class Nt{constructor(t=!1){const n=this;n.d=[],n[bb]=n[bb],n[Cg]=n[Cg],(typeof t!="boolean"||!t)&&vt(this,{props:Pe.ref})}get m(){return this.props.m}addDisposer(t){this.d.push(t)}}const Sg=Nt.prototype,mve=Object,vve=mve.assign,bb="parent",Cg="props",q$={vmFactory:(e,t)=>new e(t),Wrapper:_.Fragment},Y$=_.createContext(null);function sM({value:e,children:t}){return _.createElement(Y$.Provider,{value:e},t)}function aM(){return _.useContext(Y$)}if(!_.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!vt)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var wb=sT();const Sb=EC(wb);function yve(e){e()}function bve(e){e||(e=yve),eue({reactionScheduler:e})}function wve(e){return nue(e)}var Sve=1e4,Cve=1e4,xve=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Sve),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var o=Date.now();n.registrations.forEach(function(i,s){o-i.registeredAt>=r&&(n.finalize(i.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Cve))}}),e})(),_ve=typeof FinalizationRegistry<"u"?FinalizationRegistry:xve,lM=new _ve(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),cM={exports:{}},uM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X$;function Eve(){if(X$)return uM;X$=1;var e=pi();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function a(f,g){var m=g(),y=r({inst:{value:m,getSnapshot:g}}),b=y[0].inst,v=y[1];return i(function(){b.value=m,b.getSnapshot=g,c(b)&&v({inst:b})},[f,m,g]),o(function(){return c(b)&&v({inst:b}),f(function(){c(b)&&v({inst:b})})},[f]),s(m),m}function c(f){var g=f.getSnapshot;f=f.value;try{var m=g();return!n(f,m)}catch{return!0}}function d(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return uM.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,uM}var Z$;function Q$(){return Z$||(Z$=1,cM.exports=Eve()),cM.exports}var dM=Q$();function J$(e){e.reaction=new Ya("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function Tve(e,t){t===void 0&&(t="observed");var n=wn.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return lM.unregister(r),r.onStoreChange=a,r.reaction||(J$(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var o=n.current;o.reaction||(J$(o),lM.register(n,o,o)),wn.useDebugValue(o.reaction,wve),dM.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var i,s;if(o.reaction.track(function(){try{i=e()}catch(a){s=a}}),s)throw s;return i}var hM,fM,ez=typeof Symbol=="function"&&Symbol.for,Mve=(fM=(hM=Object.getOwnPropertyDescriptor(function(){},"name"))===null||hM===void 0?void 0:hM.configurable)!==null&&fM!==void 0?fM:!1,tz=ez?Symbol.for("react.forward_ref"):typeof _.forwardRef=="function"&&_.forwardRef(function(e){return null}).$$typeof,nz=ez?Symbol.for("react.memo"):typeof _.memo=="function"&&_.memo(function(e){return null}).$$typeof;function xg(e,t){var n;if(nz&&e.$$typeof===nz)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,o=e,i=e.displayName||e.name;if(tz&&e.$$typeof===tz&&(r=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(a,c){return Tve(function(){return o(a,c)},i)};return s.displayName=e.displayName,Mve&&Object.defineProperty(s,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(s.contextTypes=e.contextTypes),r&&(s=_.forwardRef(s)),s=_.memo(s),Rve(e,s),s}var Ove={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Rve(e,t){Object.keys(e).forEach(function(n){Ove[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var pM;bve(wb.unstable_batchedUpdates),pM=lM.finalizeAllImmediately;const Cb=_.createContext(null),rz=(e,t,n={},r,o=e.$$typeof===Symbol.for("react.forward_ref"),i,s,a)=>(i=(c,d)=>(s=t(c),a=_.createElement(_.useState(()=>n.observer===!1?e:xg(e))[0],vve({},c,{vm:s,ref:o?d:void 0})),r&&(a=_.createElement(Cb.Provider,{value:s},a)),_.createElement(q$.Wrapper,null,a)),o&&(i=_.forwardRef(i)),i=_.memo(i,n.propsAreEqual),i),Ive="onViewMounted",Pve="onViewUpdated",kve="onViewUnmounted",Dve="onViewMountedSync",Ave="onViewUpdatedSync",Lve="onViewUnmountedSync",oz=(e,t,n,r,o,i,s,a=_.useRef(!1))=>{e(()=>{a.current&&(i&&i(),t[n]&&t[n]()),a.current=!0}),e(()=>(t[r]&&t[r](),()=>{s&&s(),t[o]&&t[o]()}),[])},Dt=e=>(t,n)=>rz(t,(r,o)=>{const i=aM();return o=_.useContext(Cb),o=_.useState(s=>(Sg[bb]=o,Sg[Cg]=r,s=q$.vmFactory(e,i),delete Sg[bb],delete Sg[Cg],s))[0],oz(_.useEffect,o,Pve,Ive,kve,null,()=>o.d=o.d.filter(s=>{s()})),oz(_.useLayoutEffect,o,Ave,Dve,Lve,ye(()=>o[Cg]=r)),o},n,e.name||"Anonymous"),Ao=()=>(e,t)=>rz(e,()=>_.useContext(Cb),t);for(const[e,t]of[[FA,"autorun"],[Kce,"reaction"]])Sg[t]=function(){return this.d[this.d.push(e.apply(0,arguments))-1]};class R4e extends _.PureComponent{static{this.contextType=Cb}get viewModel(){return this.context}}function Sa(){return aM().app}function gM(){return aM().project}function iz(){return Sa().currentModalDialog}function Nve({app:e,children:t}){return x.jsx(sM,{value:{app:e},children:t})}function Bve({project:e,children:t}){const n=Sa();return x.jsx(sM,{value:{app:n,project:e},children:t})}class Fve extends Nt{constructor(){super()}}class jve extends Nt{constructor(){super(),this.onClick=t=>{this.parent._close(),this.m.action()},vt(this,{onClick:ye})}get title(){return this.m.title}get icon(){return this.m.icon}}class Vve extends Nt{constructor(){super(...arguments),this.onClose=(t,n)=>{this.m.close()}}get isOpen(){return this.m.isOpen}get anchorPosition(){const{anchorPosition:t}=this.m;return{top:t.y,left:t.x}}get menuItems(){return this.m.menuItems}_close(){this.m.close()}}function xb(e){e.preventDefault()}function $ve(e){e.stopPropagation()}function zve(e){return e+" !important"}function sz(e){e.preventDefault(),document.activeElement?.blur()}function Uve(){const e=_.useRef(null);return{ref:e,onFocus:n=>{n.relatedTarget!==e.current&&e.current?.focus()}}}const _g={black:"#000",white:"#fff"},Yh={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Xh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Uc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Zh={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ja={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Eg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Hve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Wl(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const Tg="$$material";function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}function Gve(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Wve(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Kve=(function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Wve(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Gve(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e})(),mi="-ms-",_b="-moz-",or="-webkit-",az="comm",mM="rule",vM="decl",qve="@import",lz="@keyframes",Yve="@layer",Xve=Math.abs,Eb=String.fromCharCode,Zve=Object.assign;function Qve(e,t){return ti(e,0)^45?(((t<<2^ti(e,0))<<2^ti(e,1))<<2^ti(e,2))<<2^ti(e,3):0}function cz(e){return e.trim()}function Jve(e,t){return(e=t.exec(e))?e[0]:e}function ir(e,t,n){return e.replace(t,n)}function yM(e,t){return e.indexOf(t)}function ti(e,t){return e.charCodeAt(t)|0}function Mg(e,t,n){return e.slice(t,n)}function el(e){return e.length}function bM(e){return e.length}function Tb(e,t){return t.push(e),e}function eye(e,t){return e.map(t).join("")}var Mb=1,Qh=1,uz=0,ji=0,To=0,Jh="";function Ob(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Mb,column:Qh,length:s,return:""}}function Og(e,t){return Zve(Ob("",null,null,"",null,null,0),e,{length:-e.length},t)}function tye(){return To}function nye(){return To=ji>0?ti(Jh,--ji):0,Qh--,To===10&&(Qh=1,Mb--),To}function ss(){return To=ji<uz?ti(Jh,ji++):0,Qh++,To===10&&(Qh=1,Mb++),To}function tl(){return ti(Jh,ji)}function Rb(){return ji}function Rg(e,t){return Mg(Jh,e,t)}function Ig(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dz(e){return Mb=Qh=1,uz=el(Jh=e),ji=0,[]}function hz(e){return Jh="",e}function Ib(e){return cz(Rg(ji-1,wM(e===91?e+2:e===40?e+1:e)))}function rye(e){for(;(To=tl())&&To<33;)ss();return Ig(e)>2||Ig(To)>3?"":" "}function oye(e,t){for(;--t&&ss()&&!(To<48||To>102||To>57&&To<65||To>70&&To<97););return Rg(e,Rb()+(t<6&&tl()==32&&ss()==32))}function wM(e){for(;ss();)switch(To){case e:return ji;case 34:case 39:e!==34&&e!==39&&wM(To);break;case 40:e===41&&wM(e);break;case 92:ss();break}return ji}function iye(e,t){for(;ss()&&e+To!==57;)if(e+To===84&&tl()===47)break;return"/*"+Rg(t,ji-1)+"*"+Eb(e===47?e:ss())}function sye(e){for(;!Ig(tl());)ss();return Rg(e,ji)}function aye(e){return hz(Pb("",null,null,null,[""],e=dz(e),0,[0],e))}function Pb(e,t,n,r,o,i,s,a,c){for(var d=0,h=0,f=s,g=0,m=0,y=0,b=1,v=1,S=1,E=0,T="",R=o,M=i,I=r,N=T;v;)switch(y=E,E=ss()){case 40:if(y!=108&&ti(N,f-1)==58){yM(N+=ir(Ib(E),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:N+=Ib(E);break;case 9:case 10:case 13:case 32:N+=rye(y);break;case 92:N+=oye(Rb()-1,7);continue;case 47:switch(tl()){case 42:case 47:Tb(lye(iye(ss(),Rb()),t,n),c);break;default:N+="/"}break;case 123*b:a[d++]=el(N)*S;case 125*b:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+h:S==-1&&(N=ir(N,/\f/g,"")),m>0&&el(N)-f&&Tb(m>32?pz(N+";",r,n,f-1):pz(ir(N," ","")+";",r,n,f-2),c);break;case 59:N+=";";default:if(Tb(I=fz(N,t,n,d,h,o,a,T,R=[],M=[],f),i),E===123)if(h===0)Pb(N,t,I,I,R,i,f,a,M);else switch(g===99&&ti(N,3)===110?100:g){case 100:case 108:case 109:case 115:Pb(e,I,I,r&&Tb(fz(e,I,I,0,0,o,a,T,o,R=[],f),M),o,M,f,a,r?R:M);break;default:Pb(N,I,I,I,[""],M,0,a,M)}}d=h=m=0,b=S=1,T=N="",f=s;break;case 58:f=1+el(N),m=y;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&nye()==125)continue}switch(N+=Eb(E),E*b){case 38:S=h>0?1:(N+="\f",-1);break;case 44:a[d++]=(el(N)-1)*S,S=1;break;case 64:tl()===45&&(N+=Ib(ss())),g=tl(),h=f=el(T=N+=sye(Rb())),E++;break;case 45:y===45&&el(N)==2&&(b=0)}}return i}function fz(e,t,n,r,o,i,s,a,c,d,h){for(var f=o-1,g=o===0?i:[""],m=bM(g),y=0,b=0,v=0;y<r;++y)for(var S=0,E=Mg(e,f+1,f=Xve(b=s[y])),T=e;S<m;++S)(T=cz(b>0?g[S]+" "+E:ir(E,/&\f/g,g[S])))&&(c[v++]=T);return Ob(e,t,n,o===0?mM:a,c,d,h)}function lye(e,t,n){return Ob(e,t,n,az,Eb(tye()),Mg(e,2,-2),0)}function pz(e,t,n,r){return Ob(e,t,n,vM,Mg(e,0,r),Mg(e,r+1,-1),r)}function ef(e,t){for(var n="",r=bM(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function cye(e,t,n,r){switch(e.type){case Yve:if(e.children.length)break;case qve:case vM:return e.return=e.return||e.value;case az:return"";case lz:return e.return=e.value+"{"+ef(e.children,r)+"}";case mM:e.value=e.props.join(",")}return el(n=ef(e.children,r))?e.return=e.value+"{"+n+"}":""}function uye(e){var t=bM(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function dye(e){return function(t){t.root||(t=t.return)&&e(t)}}function gz(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var hye=function(t,n,r){for(var o=0,i=0;o=i,i=tl(),o===38&&i===12&&(n[r]=1),!Ig(i);)ss();return Rg(t,ji)},fye=function(t,n){var r=-1,o=44;do switch(Ig(o)){case 0:o===38&&tl()===12&&(n[r]=1),t[r]+=hye(ji-1,n,r);break;case 2:t[r]+=Ib(o);break;case 4:if(o===44){t[++r]=tl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Eb(o)}while(o=ss());return t},pye=function(t,n){return hz(fye(dz(t),n))},mz=new WeakMap,gye=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!mz.get(r))&&!o){mz.set(t,!0);for(var i=[],s=pye(n,i),a=r.props,c=0,d=0;c<s.length;c++)for(var h=0;h<a.length;h++,d++)t.props[d]=i[c]?s[c].replace(/&\f/g,a[h]):a[h]+" "+s[c]}}},mye=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function vz(e,t){switch(Qve(e,t)){case 5103:return or+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return or+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return or+e+_b+e+mi+e+e;case 6828:case 4268:return or+e+mi+e+e;case 6165:return or+e+mi+"flex-"+e+e;case 5187:return or+e+ir(e,/(\w+).+(:[^]+)/,or+"box-$1$2"+mi+"flex-$1$2")+e;case 5443:return or+e+mi+"flex-item-"+ir(e,/flex-|-self/,"")+e;case 4675:return or+e+mi+"flex-line-pack"+ir(e,/align-content|flex-|-self/,"")+e;case 5548:return or+e+mi+ir(e,"shrink","negative")+e;case 5292:return or+e+mi+ir(e,"basis","preferred-size")+e;case 6060:return or+"box-"+ir(e,"-grow","")+or+e+mi+ir(e,"grow","positive")+e;case 4554:return or+ir(e,/([^-])(transform)/g,"$1"+or+"$2")+e;case 6187:return ir(ir(ir(e,/(zoom-|grab)/,or+"$1"),/(image-set)/,or+"$1"),e,"")+e;case 5495:case 3959:return ir(e,/(image-set\([^]*)/,or+"$1$`$1");case 4968:return ir(ir(e,/(.+:)(flex-)?(.*)/,or+"box-pack:$3"+mi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+or+e+e;case 4095:case 3583:case 4068:case 2532:return ir(e,/(.+)-inline(.+)/,or+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(el(e)-1-t>6)switch(ti(e,t+1)){case 109:if(ti(e,t+4)!==45)break;case 102:return ir(e,/(.+:)(.+)-([^]+)/,"$1"+or+"$2-$3$1"+_b+(ti(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~yM(e,"stretch")?vz(ir(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ti(e,t+1)!==115)break;case 6444:switch(ti(e,el(e)-3-(~yM(e,"!important")&&10))){case 107:return ir(e,":",":"+or)+e;case 101:return ir(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+or+(ti(e,14)===45?"inline-":"")+"box$3$1"+or+"$2$3$1"+mi+"$2box$3")+e}break;case 5936:switch(ti(e,t+11)){case 114:return or+e+mi+ir(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return or+e+mi+ir(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return or+e+mi+ir(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return or+e+mi+e+e}return e}var vye=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case vM:t.return=vz(t.value,t.length);break;case lz:return ef([Og(t,{value:ir(t.value,"@","@"+or)})],o);case mM:if(t.length)return eye(t.props,function(i){switch(Jve(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ef([Og(t,{props:[ir(i,/:(read-\w+)/,":"+_b+"$1")]})],o);case"::placeholder":return ef([Og(t,{props:[ir(i,/:(plac\w+)/,":"+or+"input-$1")]}),Og(t,{props:[ir(i,/:(plac\w+)/,":"+_b+"$1")]}),Og(t,{props:[ir(i,/:(plac\w+)/,mi+"input-$1")]})],o)}return""})}},yye=[vye],bye=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var v=b.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var o=t.stylisPlugins||yye,i={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var v=b.getAttribute("data-emotion").split(" "),S=1;S<v.length;S++)i[v[S]]=!0;a.push(b)});var c,d=[gye,mye];{var h,f=[cye,dye(function(b){h.insert(b)})],g=uye(d.concat(o,f)),m=function(v){return ef(aye(v),g)};c=function(v,S,E,T){h=E,m(v?v+"{"+S.styles+"}":S.styles),T&&(y.inserted[S.name]=!0)}}var y={key:n,sheet:new Kve({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return y.sheet.hydrate(a),y},SM={exports:{}},ur={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yz;function wye(){if(yz)return ur;yz=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function T(M){if(typeof M=="object"&&M!==null){var I=M.$$typeof;switch(I){case t:switch(M=M.type,M){case c:case d:case r:case i:case o:case f:return M;default:switch(M=M&&M.$$typeof,M){case a:case h:case y:case m:case s:return M;default:return I}}case n:return I}}}function R(M){return T(M)===d}return ur.AsyncMode=c,ur.ConcurrentMode=d,ur.ContextConsumer=a,ur.ContextProvider=s,ur.Element=t,ur.ForwardRef=h,ur.Fragment=r,ur.Lazy=y,ur.Memo=m,ur.Portal=n,ur.Profiler=i,ur.StrictMode=o,ur.Suspense=f,ur.isAsyncMode=function(M){return R(M)||T(M)===c},ur.isConcurrentMode=R,ur.isContextConsumer=function(M){return T(M)===a},ur.isContextProvider=function(M){return T(M)===s},ur.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},ur.isForwardRef=function(M){return T(M)===h},ur.isFragment=function(M){return T(M)===r},ur.isLazy=function(M){return T(M)===y},ur.isMemo=function(M){return T(M)===m},ur.isPortal=function(M){return T(M)===n},ur.isProfiler=function(M){return T(M)===i},ur.isStrictMode=function(M){return T(M)===o},ur.isSuspense=function(M){return T(M)===f},ur.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===d||M===i||M===o||M===f||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===y||M.$$typeof===m||M.$$typeof===s||M.$$typeof===a||M.$$typeof===h||M.$$typeof===v||M.$$typeof===S||M.$$typeof===E||M.$$typeof===b)},ur.typeOf=T,ur}var bz;function Sye(){return bz||(bz=1,SM.exports=wye()),SM.exports}var CM,wz;function Cye(){if(wz)return CM;wz=1;var e=Sye(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=r,i[e.Memo]=o;function s(y){return e.isMemo(y)?o:i[y.$$typeof]||t}var a=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function m(y,b,v){if(typeof b!="string"){if(g){var S=f(b);S&&S!==g&&m(y,S,v)}var E=c(b);d&&(E=E.concat(d(b)));for(var T=s(y),R=s(b),M=0;M<E.length;++M){var I=E[M];if(!n[I]&&!(v&&v[I])&&!(R&&R[I])&&!(T&&T[I])){var N=h(b,I);try{a(y,I,N)}catch{}}}}return y}return CM=m,CM}Cye();var xye=!0;function Sz(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var xM=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||xye===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},_M=function(t,n,r){xM(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function _ye(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Eye={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tye=/[A-Z]|^ms/g,Mye=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Cz=function(t){return t.charCodeAt(1)===45},xz=function(t){return t!=null&&typeof t!="boolean"},EM=gz(function(e){return Cz(e)?e:e.replace(Tye,"-$&").toLowerCase()}),_z=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Mye,function(r,o,i){return nl={name:o,styles:i,next:nl},o})}return Eye[t]!==1&&!Cz(t)&&typeof n=="number"&&n!==0?n+"px":n};function Pg(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return nl={name:o.name,styles:o.styles,next:nl},o.name;var i=n;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)nl={name:s.name,styles:s.styles,next:nl},s=s.next;var a=i.styles+";";return a}return Oye(e,t,n)}case"function":{if(e!==void 0){var c=nl,d=n(e);return nl=c,Pg(e,t,d)}break}}var h=n;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function Oye(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Pg(e,t,n[o])+";";else for(var i in n){var s=n[i];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=i+"{"+t[a]+"}":xz(a)&&(r+=EM(i)+":"+_z(i,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var c=0;c<s.length;c++)xz(s[c])&&(r+=EM(i)+":"+_z(i,s[c])+";");else{var d=Pg(e,t,s);switch(i){case"animation":case"animationName":{r+=EM(i)+":"+d+";";break}default:r+=i+"{"+d+"}"}}}return r}var Ez=/label:\s*([^\s;{]+)\s*(;|$)/g,nl;function kg(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";nl=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,o+=Pg(n,t,i);else{var s=i;o+=s[0]}for(var a=1;a<e.length;a++)if(o+=Pg(n,t,e[a]),r){var c=i;o+=c[a]}Ez.lastIndex=0;for(var d="",h;(h=Ez.exec(o))!==null;)d+="-"+h[1];var f=_ye(o)+d;return{name:f,styles:o,next:nl}}var Rye=function(t){return t()},Tz=rM.useInsertionEffect?rM.useInsertionEffect:!1,Mz=Tz||Rye,Oz=Tz||_.useLayoutEffect,Rz=_.createContext(typeof HTMLElement<"u"?bye({key:"css"}):null);Rz.Provider;var TM=function(t){return _.forwardRef(function(n,r){var o=_.useContext(Rz);return t(n,o,r)})},kb=_.createContext({}),MM={}.hasOwnProperty,OM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Iye=function(t,n){var r={};for(var o in n)MM.call(n,o)&&(r[o]=n[o]);return r[OM]=t,r},Pye=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return xM(n,r,o),Mz(function(){return _M(n,r,o)}),null},kye=TM(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[OM],i=[r],s="";typeof e.className=="string"?s=Sz(t.registered,i,e.className):e.className!=null&&(s=e.className+" ");var a=kg(i,void 0,_.useContext(kb));s+=t.key+"-"+a.name;var c={};for(var d in e)MM.call(e,d)&&d!=="css"&&d!==OM&&(c[d]=e[d]);return c.className=s,n&&(c.ref=n),_.createElement(_.Fragment,null,_.createElement(Pye,{cache:t,serialized:a,isStringTag:typeof o=="string"}),_.createElement(o,c))}),Dye=kye,Iz=function(t,n){var r=arguments;if(n==null||!MM.call(n,"css"))return _.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=Dye,i[1]=Iye(t,n);for(var s=2;s<o;s++)i[s]=r[s];return _.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Iz||(Iz={}));var Aye=TM(function(e,t){var n=e.styles,r=kg([n],void 0,_.useContext(kb)),o=_.useRef();return Oz(function(){var i=t.key+"-global",s=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",i),s.hydrate([c])),o.current=[s,a],function(){s.flush()}},[t]),Oz(function(){var i=o.current,s=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&_M(t,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Hc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kg(t)}function js(){var e=Hc.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Lye=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nye=gz(function(e){return Lye.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Bye=Nye,Fye=function(t){return t!=="theme"},Pz=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Bye:Fye},kz=function(t,n,r){var o;if(n){var i=n.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(s){return t.__emotion_forwardProp(s)&&i(s)}:i}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},jye=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return xM(n,r,o),Mz(function(){return _M(n,r,o)}),null},Vye=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,i,s;n!==void 0&&(i=n.label,s=n.target);var a=kz(t,n,r),c=a||Pz(o),d=!c("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var g=h[0];f.push(g[0]);for(var m=h.length,y=1;y<m;y++)f.push(h[y],g[y])}var b=TM(function(v,S,E){var T=d&&v.as||o,R="",M=[],I=v;if(v.theme==null){I={};for(var N in v)I[N]=v[N];I.theme=_.useContext(kb)}typeof v.className=="string"?R=Sz(S.registered,M,v.className):v.className!=null&&(R=v.className+" ");var P=kg(f.concat(M),S.registered,I);R+=S.key+"-"+P.name,s!==void 0&&(R+=" "+s);var L=d&&a===void 0?Pz(T):c,A={};for(var $ in v)d&&$==="as"||L($)&&(A[$]=v[$]);return A.className=R,E&&(A.ref=E),_.createElement(_.Fragment,null,_.createElement(jye,{cache:S,serialized:P,isStringTag:typeof T=="string"}),_.createElement(T,A))});return b.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=o,b.__emotion_styles=f,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+s}}),b.withComponent=function(v,S){var E=e(v,H({},n,S,{shouldForwardProp:kz(b,S,!0)}));return E.apply(void 0,f)},b}},$ye=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],RM=Vye.bind(null);$ye.forEach(function(e){RM[e]=RM(e)});var IM={exports:{}},PM,Dz;function zye(){if(Dz)return PM;Dz=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return PM=e,PM}var kM,Az;function Uye(){if(Az)return kM;Az=1;var e=zye();function t(){}function n(){}return n.resetWarningCache=t,kM=function(){function r(s,a,c,d,h,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},kM}var Lz;function Hye(){return Lz||(Lz=1,IM.exports=Uye()()),IM.exports}var Gye=Hye();const Me=EC(Gye);function Wye(e){return e==null||Object.keys(e).length===0}function Kye(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?o=>t(Wye(o)?n:o):t;return x.jsx(Aye,{styles:r})}function Nz(e,t){return RM(e,t)}function qye(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const Bz=[];function Gc(e){return Bz[0]=e,kg(Bz)}var DM={exports:{}},xr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz;function Yye(){if(Fz)return xr;Fz=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case e:switch(b=b.type,b){case n:case o:case r:case c:case d:case g:return b;default:switch(b=b&&b.$$typeof,b){case s:case a:case f:case h:return b;case i:return b;default:return v}}case t:return v}}}return xr.ContextConsumer=i,xr.ContextProvider=s,xr.Element=e,xr.ForwardRef=a,xr.Fragment=n,xr.Lazy=f,xr.Memo=h,xr.Portal=t,xr.Profiler=o,xr.StrictMode=r,xr.Suspense=c,xr.SuspenseList=d,xr.isContextConsumer=function(b){return y(b)===i},xr.isContextProvider=function(b){return y(b)===s},xr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},xr.isForwardRef=function(b){return y(b)===a},xr.isFragment=function(b){return y(b)===n},xr.isLazy=function(b){return y(b)===f},xr.isMemo=function(b){return y(b)===h},xr.isPortal=function(b){return y(b)===t},xr.isProfiler=function(b){return y(b)===o},xr.isStrictMode=function(b){return y(b)===r},xr.isSuspense=function(b){return y(b)===c},xr.isSuspenseList=function(b){return y(b)===d},xr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===o||b===r||b===c||b===d||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===h||b.$$typeof===s||b.$$typeof===i||b.$$typeof===a||b.$$typeof===m||b.getModuleId!==void 0)},xr.typeOf=y,xr}var jz;function Xye(){return jz||(jz=1,DM.exports=Yye()),DM.exports}var Vz=Xye();function rl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $z(e){if(_.isValidElement(e)||Vz.isValidElementType(e)||!rl(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=$z(e[n])}),t}function Ho(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return rl(e)&&rl(t)&&Object.keys(t).forEach(o=>{_.isValidElement(t[o])||Vz.isValidElementType(t[o])?r[o]=t[o]:rl(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&rl(e[o])?r[o]=Ho(e[o],t[o],n):n.clone?r[o]=rl(t[o])?$z(t[o]):t[o]:r[o]=t[o]}),r}const Zye=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Qye(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=e,i=Zye(t),s=Object.keys(i);function a(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n})`}function c(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-r/100}${n})`}function d(g,m){const y=s.indexOf(m);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n}) and (max-width:${(y!==-1&&typeof t[s[y]]=="number"?t[s[y]]:m)-r/100}${n})`}function h(g){return s.indexOf(g)+1<s.length?d(g,s[s.indexOf(g)+1]):a(g)}function f(g){const m=s.indexOf(g);return m===0?a(s[1]):m===s.length-1?c(s[m]):d(g,s[s.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:a,down:c,between:d,only:h,not:f,unit:n,...o}}function zz(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,o)=>{const i=/min-width:\s*([0-9.]+)/;return+(r.match(i)?.[1]||0)-+(o.match(i)?.[1]||0)});return n.length?n.reduce((r,o)=>{const i=t[o];return delete r[o],r[o]=i,r},{...t}):t}function Jye(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function ebe(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,i=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(i)}function tbe(e){const t=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function n(i,s){i.up=(...a)=>t(e.breakpoints.up(...a),s),i.down=(...a)=>t(e.breakpoints.down(...a),s),i.between=(...a)=>t(e.breakpoints.between(...a),s),i.only=(...a)=>t(e.breakpoints.only(...a),s),i.not=(...a)=>{const c=t(e.breakpoints.not(...a),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},o=i=>(n(r,i),r);return n(o),{...e,containerQueries:o}}const nbe={borderRadius:4};function Dg(e,t){return t?Ho(e,t,{clone:!1}):e}const Db={xs:0,sm:600,md:900,lg:1200,xl:1536},Uz={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Db[e]}px)`},rbe={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Db[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Ca(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||Uz;return t.reduce((s,a,c)=>(s[i.up(i.keys[c])]=n(t[c]),s),{})}if(typeof t=="object"){const i=r.breakpoints||Uz;return Object.keys(t).reduce((s,a)=>{if(Jye(i.keys,a)){const c=ebe(r.containerQueries?r:rbe,a);c&&(s[c]=n(t[a],a))}else if(Object.keys(i.values||Db).includes(a)){const c=i.up(a);s[c]=n(t[a],a)}else{const c=a;s[c]=t[c]}return s},{})}return n(t)}function Hz(e={}){return e.keys?.reduce((n,r)=>{const o=e.up(r);return n[o]={},n},{})||{}}function AM(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function obe(e,...t){const n=Hz(e),r=[n,...t].reduce((o,i)=>Ho(o,i),{});return AM(Object.keys(n),r)}function ibe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((o,i)=>{i<e.length&&(n[o]=!0)}):r.forEach(o=>{e[o]!=null&&(n[o]=!0)}),n}function LM({values:e,breakpoints:t,base:n}){const r=n||ibe(e,t),o=Object.keys(r);if(o.length===0)return e;let i;return o.reduce((s,a,c)=>(Array.isArray(e)?(s[a]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[i],i=a):s[a]=e,s),{})}function Ge(e){if(typeof e!="string")throw new Error(Wl(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Ab(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function Lb(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=Ab(e,n)||r,t&&(o=t(o,r,e)),o}function yo(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=s=>{if(s[t]==null)return null;const a=s[t],c=s.theme,d=Ab(c,r)||{};return Ca(s,a,f=>{let g=Lb(d,o,f);return f===g&&typeof f=="string"&&(g=Lb(d,o,`${t}${f==="default"?"":Ge(f)}`,f)),n===!1?g:{[n]:g}})};return i.propTypes={},i.filterProps=[t],i}function sbe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const abe={m:"margin",p:"padding"},lbe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Gz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},cbe=sbe(e=>{if(e.length>2)if(Gz[e])e=Gz[e];else return[e];const[t,n]=e.split(""),r=abe[t],o=lbe[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),NM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],BM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...NM,...BM];function Ag(e,t,n,r){const o=Ab(e,t,!0)??n;return typeof o=="number"||typeof o=="string"?i=>typeof i=="string"?i:typeof o=="string"?o.startsWith("var(")&&i===0?0:o.startsWith("var(")&&i===1?o:`calc(${i} * ${o})`:o*i:Array.isArray(o)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),a=o[s];return i>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof o=="function"?o:()=>{}}function Nb(e){return Ag(e,"spacing",8)}function yd(e,t){return typeof t=="string"||t==null?t:e(t)}function ube(e,t){return n=>e.reduce((r,o)=>(r[o]=yd(t,n),r),{})}function dbe(e,t,n,r){if(!t.includes(n))return null;const o=cbe(n),i=ube(o,r),s=e[n];return Ca(e,s,i)}function Wz(e,t){const n=Nb(e.theme);return Object.keys(e).map(r=>dbe(e,t,r,n)).reduce(Dg,{})}function co(e){return Wz(e,NM)}co.propTypes={},co.filterProps=NM;function uo(e){return Wz(e,BM)}uo.propTypes={},uo.filterProps=BM;function Kz(e=8,t=Nb({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const s=t(i);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Bb(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>t[i]?Dg(o,t[i](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Vs(e){return typeof e!="number"?e:`${e}px solid`}function $s(e,t){return yo({prop:e,themeKey:"borders",transform:t})}const hbe=$s("border",Vs),fbe=$s("borderTop",Vs),pbe=$s("borderRight",Vs),gbe=$s("borderBottom",Vs),mbe=$s("borderLeft",Vs),vbe=$s("borderColor"),ybe=$s("borderTopColor"),bbe=$s("borderRightColor"),wbe=$s("borderBottomColor"),Sbe=$s("borderLeftColor"),Cbe=$s("outline",Vs),xbe=$s("outlineColor"),Fb=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ag(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:yd(t,r)});return Ca(e,e.borderRadius,n)}return null};Fb.propTypes={},Fb.filterProps=["borderRadius"],Bb(hbe,fbe,pbe,gbe,mbe,vbe,ybe,bbe,wbe,Sbe,Fb,Cbe,xbe);const jb=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ag(e.theme,"spacing",8),n=r=>({gap:yd(t,r)});return Ca(e,e.gap,n)}return null};jb.propTypes={},jb.filterProps=["gap"];const Vb=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ag(e.theme,"spacing",8),n=r=>({columnGap:yd(t,r)});return Ca(e,e.columnGap,n)}return null};Vb.propTypes={},Vb.filterProps=["columnGap"];const $b=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ag(e.theme,"spacing",8),n=r=>({rowGap:yd(t,r)});return Ca(e,e.rowGap,n)}return null};$b.propTypes={},$b.filterProps=["rowGap"];const _be=yo({prop:"gridColumn"}),Ebe=yo({prop:"gridRow"}),Tbe=yo({prop:"gridAutoFlow"}),Mbe=yo({prop:"gridAutoColumns"}),Obe=yo({prop:"gridAutoRows"}),Rbe=yo({prop:"gridTemplateColumns"}),Ibe=yo({prop:"gridTemplateRows"}),Pbe=yo({prop:"gridTemplateAreas"}),kbe=yo({prop:"gridArea"});Bb(jb,Vb,$b,_be,Ebe,Tbe,Mbe,Obe,Rbe,Ibe,Pbe,kbe);function tf(e,t){return t==="grey"?t:e}const Dbe=yo({prop:"color",themeKey:"palette",transform:tf}),Abe=yo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tf}),Lbe=yo({prop:"backgroundColor",themeKey:"palette",transform:tf});Bb(Dbe,Abe,Lbe);function as(e){return e<=1&&e!==0?`${e*100}%`:e}const Nbe=yo({prop:"width",transform:as}),FM=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{const r=e.theme?.breakpoints?.values?.[n]||Db[n];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:as(n)}};return Ca(e,e.maxWidth,t)}return null};FM.filterProps=["maxWidth"];const Bbe=yo({prop:"minWidth",transform:as}),Fbe=yo({prop:"height",transform:as}),jbe=yo({prop:"maxHeight",transform:as}),Vbe=yo({prop:"minHeight",transform:as});yo({prop:"size",cssProperty:"width",transform:as}),yo({prop:"size",cssProperty:"height",transform:as});const $be=yo({prop:"boxSizing"});Bb(Nbe,FM,Bbe,Fbe,jbe,Vbe,$be);const Lg={border:{themeKey:"borders",transform:Vs},borderTop:{themeKey:"borders",transform:Vs},borderRight:{themeKey:"borders",transform:Vs},borderBottom:{themeKey:"borders",transform:Vs},borderLeft:{themeKey:"borders",transform:Vs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Fb},color:{themeKey:"palette",transform:tf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tf},backgroundColor:{themeKey:"palette",transform:tf},p:{style:uo},pt:{style:uo},pr:{style:uo},pb:{style:uo},pl:{style:uo},px:{style:uo},py:{style:uo},padding:{style:uo},paddingTop:{style:uo},paddingRight:{style:uo},paddingBottom:{style:uo},paddingLeft:{style:uo},paddingX:{style:uo},paddingY:{style:uo},paddingInline:{style:uo},paddingInlineStart:{style:uo},paddingInlineEnd:{style:uo},paddingBlock:{style:uo},paddingBlockStart:{style:uo},paddingBlockEnd:{style:uo},m:{style:co},mt:{style:co},mr:{style:co},mb:{style:co},ml:{style:co},mx:{style:co},my:{style:co},margin:{style:co},marginTop:{style:co},marginRight:{style:co},marginBottom:{style:co},marginLeft:{style:co},marginX:{style:co},marginY:{style:co},marginInline:{style:co},marginInlineStart:{style:co},marginInlineEnd:{style:co},marginBlock:{style:co},marginBlockStart:{style:co},marginBlockEnd:{style:co},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:jb},rowGap:{style:$b},columnGap:{style:Vb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:as},maxWidth:{style:FM},minWidth:{transform:as},height:{transform:as},maxHeight:{transform:as},minHeight:{transform:as},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zbe(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Ube(e,t){return typeof e=="function"?e(t):e}function Hbe(){function e(n,r,o,i){const s={[n]:r,theme:o},a=i[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:h,style:f}=a;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const g=Ab(o,d)||{};return f?f(s):Ca(s,r,y=>{let b=Lb(g,h,y);return y===b&&typeof y=="string"&&(b=Lb(g,h,`${n}${y==="default"?"":Ge(y)}`,y)),c===!1?b:{[c]:b}})}function t(n){const{sx:r,theme:o={},nested:i}=n||{};if(!r)return null;const s=o.unstable_sxConfig??Lg;function a(c){let d=c;if(typeof c=="function")d=c(o);else if(typeof c!="object")return c;if(!d)return null;const h=Hz(o.breakpoints),f=Object.keys(h);let g=h;return Object.keys(d).forEach(m=>{const y=Ube(d[m],o);if(y!=null)if(typeof y=="object")if(s[m])g=Dg(g,e(m,y,o,s));else{const b=Ca({theme:o},y,v=>({[m]:v}));zbe(b,y)?g[m]=t({sx:y,theme:o,nested:!0}):g=Dg(g,b)}else g=Dg(g,e(m,y,o,s))}),!i&&o.modularCssLayers?{"@layer sx":zz(o,AM(f,g))}:zz(o,AM(f,g))}return Array.isArray(r)?r.map(a):a(r)}return t}const bd=Hbe();bd.filterProps=["sx"];function Gbe(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(e);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}function zb(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:i={},...s}=e,a=Qye(n),c=Kz(o);let d=Ho({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...nbe,...i}},s);return d=tbe(d),d.applyStyles=Gbe,d=t.reduce((h,f)=>Ho(h,f),d),d.unstable_sxConfig={...Lg,...s?.unstable_sxConfig},d.unstable_sx=function(f){return bd({sx:f,theme:this})},d}function Wbe(e){return Object.keys(e).length===0}function Kbe(e=null){const t=_.useContext(kb);return!t||Wbe(t)?e:t}const qbe=zb();function Ub(e=qbe){return Kbe(e)}function jM(e){const t=Gc(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Ybe({styles:e,themeId:t,defaultTheme:n={}}){const r=Ub(n),o=t&&r[t]||r;let i=typeof e=="function"?e(o):e;return o.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>jM(typeof s=="function"?s(o):s)):i=jM(i)),x.jsx(Kye,{styles:i})}const Xbe=e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Lg;return Object.keys(e).forEach(r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function VM(e){const{sx:t,...n}=e,{systemProps:r,otherProps:o}=Xbe(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...s)=>{const a=t(...s);return rl(a)?{...r,...a}:r}:i={...r,...t},{...o,sx:i}}const qz=e=>e,Yz=(()=>{let e=qz;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qz}}})();function Xz(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Xz(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function We(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Xz(e))&&(r&&(r+=" "),r+=t);return r}function Zbe(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,i=Nz("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(bd);return _.forwardRef(function(c,d){const h=Ub(n),{className:f,component:g="div",...m}=VM(c);return x.jsx(i,{as:g,ref:d,className:We(f,o?o(r):r),theme:t&&h[t]||h,...m})})}const Qbe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function qt(e,t,n="Mui"){const r=Qbe[t];return r?`${n}-${r}`:`${Yz.generate(e)}-${t}`}function Gt(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=qt(e,o,n)}),r}function Zz(e){const{variants:t,...n}=e,r={variants:t,style:Gc(n),isProcessed:!0};return r.style===n||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=Gc(o.style))}),r}const Jbe=zb();function nf(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function wd(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function ewe(e){return e?(t,n)=>n[e]:null}function twe(e,t,n){e.theme=rwe(e.theme)?n:e.theme[t]||e.theme}function Hb(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(o=>Hb(e,o,n));if(Array.isArray(r?.variants)){let o;if(r.isProcessed)o=n?wd(r.style,n):r.style;else{const{variants:i,...s}=r;o=n?wd(Gc(s),n):s}return Qz(e,r.variants,[o],n)}return r?.isProcessed?n?wd(Gc(r.style),n):r.style:n?wd(Gc(r),n):r}function Qz(e,t,n=[],r=void 0){let o;e:for(let i=0;i<t.length;i+=1){const s=t[i];if(typeof s.props=="function"){if(o??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(o))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&e.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(o??={...e,...e.ownerState,ownerState:e.ownerState},n.push(r?wd(Gc(s.style(o)),r):s.style(o))):n.push(r?wd(Gc(s.style),r):s.style)}return n}function Jz(e={}){const{themeId:t,defaultTheme:n=Jbe,rootShouldForwardProp:r=nf,slotShouldForwardProp:o=nf}=e;function i(a){twe(a,t,n)}return(a,c={})=>{qye(a,I=>I.filter(N=>N!==bd));const{name:d,slot:h,skipVariantsResolver:f,skipSx:g,overridesResolver:m=ewe(iwe(h)),...y}=c,b=d&&d.startsWith("Mui")||h?"components":"custom",v=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,S=g||!1;let E=nf;h==="Root"||h==="root"?E=r:h?E=o:owe(a)&&(E=void 0);const T=Nz(a,{shouldForwardProp:E,label:nwe(),...y}),R=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(P){return Hb(P,I,P.theme.modularCssLayers?b:void 0)};if(rl(I)){const N=Zz(I);return function(L){return N.variants?Hb(L,N,L.theme.modularCssLayers?b:void 0):L.theme.modularCssLayers?wd(N.style,b):N.style}}return I},M=(...I)=>{const N=[],P=I.map(R),L=[];if(N.push(i),d&&m&&L.push(function(U){const G=U.theme.components?.[d]?.styleOverrides;if(!G)return null;const V={};for(const Y in G)V[Y]=Hb(U,G[Y],U.theme.modularCssLayers?"theme":void 0);return m(U,V)}),d&&!v&&L.push(function(U){const G=U.theme?.components?.[d]?.variants;return G?Qz(U,G,[],U.theme.modularCssLayers?"theme":void 0):null}),S||L.push(bd),Array.isArray(P[0])){const B=P.shift(),U=new Array(N.length).fill(""),K=new Array(L.length).fill("");let G;G=[...U,...B,...K],G.raw=[...U,...B.raw,...K],N.unshift(G)}const A=[...N,...P,...L],$=T(...A);return a.muiName&&($.muiName=a.muiName),$};return T.withConfig&&(M.withConfig=T.withConfig),M}}function nwe(e,t){return void 0}function rwe(e){for(const t in e)return!1;return!0}function owe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function iwe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const Vn=Jz();function Sd(e,t,n=!1){const r={...t};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=o;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],a=t[i];if(!a)r[i]=s||{};else if(!s)r[i]=a;else{r[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=c;r[i][d]=Sd(s[d],a[d],n)}}}else i==="className"&&n&&t.className?r.className=We(e?.className,t?.className):i==="style"&&n&&t.style?r.style={...e?.style,...t?.style}:r[i]===void 0&&(r[i]=e[i])}return r}function e3(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Sd(t.components[n].defaultProps,r)}function t3({props:e,name:t,defaultTheme:n,themeId:r}){let o=Ub(n);return r&&(o=o[r]||o),e3({theme:o,name:t,props:e})}const Hn=typeof window<"u"?_.useLayoutEffect:_.useEffect;function swe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function $M(e,t=0,n=1){return swe(e,t,n)}function awe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Wc(e){if(e.type)return e;if(e.charAt(0)==="#")return Wc(awe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Wl(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Wl(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const lwe=e=>{const t=Wc(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Ng=(e,t)=>{try{return lwe(e)}catch{return e}};function Gb(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((o,i)=>i<3?parseInt(o,10):o):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function n3(e){e=Wc(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=(d,h=(d+n/30)%12)=>o-i*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",c.push(t[3])),Gb({type:a,values:c})}function zM(e){e=Wc(e);let t=e.type==="hsl"||e.type==="hsla"?Wc(n3(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function cwe(e,t){const n=zM(e),r=zM(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function zs(e,t){return e=Wc(e),t=$M(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Gb(e)}function Cd(e,t,n){try{return zs(e,t)}catch{return e}}function Bg(e,t){if(e=Wc(e),t=$M(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Gb(e)}function pr(e,t,n){try{return Bg(e,t)}catch{return e}}function Fg(e,t){if(e=Wc(e),t=$M(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Gb(e)}function gr(e,t,n){try{return Fg(e,t)}catch{return e}}function uwe(e,t=.15){return zM(e)>.5?Bg(e,t):Fg(e,t)}function Wb(e,t,n){try{return uwe(e,t)}catch{return e}}const dwe=_.createContext(),Go=()=>_.useContext(dwe)??!1,hwe=_.createContext(void 0);function fwe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?Sd(o.defaultProps,r,t.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?Sd(o,r,t.components.mergeClassNameAndStyle):r}function pwe({props:e,name:t}){const n=_.useContext(hwe);return fwe({props:e,name:t,theme:{components:n}})}let r3=0;function gwe(e){const[t,n]=_.useState(e),r=e||t;return _.useEffect(()=>{t==null&&(r3+=1,n(`mui-${r3}`))},[t]),r}const o3={...rM}.useId;function kn(e){if(o3!==void 0){const t=o3();return e??t}return gwe(e)}const i3={theme:void 0};function mwe(e){let t,n;return function(o){let i=t;return(i===void 0||o.theme!==n)&&(i3.theme=o.theme,i=Zz(e(i3)),t=i,n=o.theme),i}}function vwe(e=""){function t(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${e?`${e}-`:""}${r}${t(...o)})`}const s3=(e,t,n,r=[])=>{let o=e;t.forEach((i,s)=>{s===t.length-1?Array.isArray(o)?o[Number(i)]=n:o&&typeof o=="object"&&(o[i]=n):o&&typeof o=="object"&&(o[i]||(o[i]=r.includes(i)?[]:{}),o=o[i])})},ywe=(e,t,n)=>{function r(o,i=[],s=[]){Object.entries(o).forEach(([a,c])=>{(!n||n&&!n([...i,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...i,a],Array.isArray(c)?[...s,a]:s):t([...i,a],c,s))})}r(e)},bwe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function UM(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},i={},s={};return ywe(e,(a,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(a,c))){const h=`--${n?`${n}-`:""}${a.join("-")}`,f=bwe(a,c);Object.assign(o,{[h]:f}),s3(i,a,`var(${h})`,d),s3(s,a,`var(${h}, ${f})`,d)}},a=>a[0]==="vars"),{css:o,vars:i,varsWithDefaults:s}}function wwe(e,t={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...d}=e,{vars:h,css:f,varsWithDefaults:g}=UM(d,t);let m=g;const y={},{[c]:b,...v}=s;if(Object.entries(v||{}).forEach(([R,M])=>{const{vars:I,css:N,varsWithDefaults:P}=UM(M,t);m=Ho(m,P),y[R]={css:N,vars:I}}),b){const{css:R,vars:M,varsWithDefaults:I}=UM(b,t);m=Ho(m,I),y[c]={css:R,vars:M}}function S(R,M){let I=o;if(o==="class"&&(I=".%s"),o==="data"&&(I="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(I=`[${o}="%s"]`),R){if(I==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${s[R]?.palette?.mode||R})`]:{":root":M}};if(I)return e.defaultColorScheme===R?`:root, ${I.replace("%s",String(R))}`:I.replace("%s",String(R))}return":root"}return{vars:m,generateThemeVars:()=>{let R={...h};return Object.entries(y).forEach(([,{vars:M}])=>{R=Ho(R,M)}),R},generateStyleSheets:()=>{const R=[],M=e.defaultColorScheme||"light";function I(L,A){Object.keys(A).length&&R.push(typeof L=="string"?{[L]:{...A}}:L)}I(n(void 0,{...f}),f);const{[M]:N,...P}=y;if(N){const{css:L}=N,A=s[M]?.palette?.mode,$=!r&&A?{colorScheme:A,...L}:{...L};I(n(M,{...$}),$)}return Object.entries(P).forEach(([L,{css:A}])=>{const $=s[L]?.palette?.mode,B=!r&&$?{colorScheme:$,...A}:{...A};I(n(L,{...B}),B)}),i&&R.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),R}}}function Swe(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function ft(e,t,n=void 0){const r={};for(const o in e){const i=e[o];let s="",a=!0;for(let c=0;c<i.length;c+=1){const d=i[c];d&&(s+=(a===!0?"":" ")+t(d),a=!1,n&&n[d]&&(s+=" "+n[d]))}r[o]=s}return r}function Kb(e,t){return _.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}const Cwe=zb(),xwe=Vn("div",{name:"MuiStack",slot:"Root"});function _we(e){return t3({props:e,name:"MuiStack",defaultTheme:Cwe})}function Ewe(e,t){const n=_.Children.toArray(e).filter(Boolean);return n.reduce((r,o,i)=>(r.push(o),i<n.length-1&&r.push(_.cloneElement(t,{key:`separator-${i}`})),r),[])}const Twe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Mwe=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...Ca({theme:t},LM({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=Nb(t),o=Object.keys(t.breakpoints.values).reduce((c,d)=>((typeof e.spacing=="object"&&e.spacing[d]!=null||typeof e.direction=="object"&&e.direction[d]!=null)&&(c[d]=!0),c),{}),i=LM({values:e.direction,base:o}),s=LM({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((c,d,h)=>{if(!i[c]){const g=d>0?i[h[d-1]]:"column";i[c]=g}}),n=Ho(n,Ca({theme:t},s,(c,d)=>e.useFlexGap?{gap:yd(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Twe(d?i[d]:e.direction)}`]:yd(r,c)}}))}return n=obe(t.breakpoints,n),n};function Owe(e={}){const{createStyledComponent:t=xwe,useThemeProps:n=_we,componentName:r="MuiStack"}=e,o=()=>ft({root:["root"]},c=>qt(r,c),{}),i=t(Mwe);return _.forwardRef(function(c,d){const h=n(c),f=VM(h),{component:g="div",direction:m="column",spacing:y=0,divider:b,children:v,className:S,useFlexGap:E=!1,...T}=f,R={direction:m,spacing:y,useFlexGap:E},M=o();return x.jsx(i,{as:g,ownerState:R,ref:d,className:We(M.root,S),...T,children:b?Ewe(v,b):v})})}function a3(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_g.white,default:_g.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const l3=a3();function c3(){return{text:{primary:_g.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_g.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const HM=c3();function u3(e,t,n,r){const o=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Fg(e.main,o):t==="dark"&&(e.dark=Bg(e.main,i)))}function d3(e,t,n,r,o){const i=o.light||o,s=o.dark||o*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(i*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function Rwe(e="light"){return e==="dark"?{main:Uc[200],light:Uc[50],dark:Uc[400]}:{main:Uc[700],light:Uc[400],dark:Uc[800]}}function Iwe(e="light"){return e==="dark"?{main:Xh[200],light:Xh[50],dark:Xh[400]}:{main:Xh[500],light:Xh[300],dark:Xh[700]}}function Pwe(e="light"){return e==="dark"?{main:Yh[500],light:Yh[300],dark:Yh[700]}:{main:Yh[700],light:Yh[400],dark:Yh[800]}}function kwe(e="light"){return e==="dark"?{main:Zh[400],light:Zh[300],dark:Zh[700]}:{main:Zh[700],light:Zh[500],dark:Zh[900]}}function Dwe(e="light"){return e==="dark"?{main:Ja[400],light:Ja[300],dark:Ja[700]}:{main:Ja[800],light:Ja[500],dark:Ja[900]}}function Awe(e="light"){return e==="dark"?{main:Eg[400],light:Eg[300],dark:Eg[700]}:{main:"#ed6c02",light:Eg[500],dark:Eg[900]}}function Lwe(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function GM(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o,...i}=e,s=e.primary||Rwe(t),a=e.secondary||Iwe(t),c=e.error||Pwe(t),d=e.info||kwe(t),h=e.success||Dwe(t),f=e.warning||Awe(t);function g(v){return o?Lwe(v):cwe(v,HM.text.primary)>=n?HM.text.primary:l3.text.primary}const m=({color:v,name:S,mainShade:E=500,lightShade:T=300,darkShade:R=700})=>{if(v={...v},!v.main&&v[E]&&(v.main=v[E]),!v.hasOwnProperty("main"))throw new Error(Wl(11,S?` (${S})`:"",E));if(typeof v.main!="string")throw new Error(Wl(12,S?` (${S})`:"",JSON.stringify(v.main)));return o?(d3(o,v,"light",T,r),d3(o,v,"dark",R,r)):(u3(v,"light",T,r),u3(v,"dark",R,r)),v.contrastText||(v.contrastText=g(v.main)),v};let y;return t==="light"?y=a3():t==="dark"&&(y=c3()),Ho({common:{..._g},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:Hve,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},i)}function Nwe(e){const t={};return Object.entries(e).forEach(r=>{const[o,i]=r;typeof i=="object"&&(t[o]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}function Bwe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Fwe(e){return Math.round(e*1e5)/1e5}const h3={textTransform:"uppercase"},f3='"Roboto", "Helvetica", "Arial", sans-serif';function jwe(e,t){const{fontFamily:n=f3,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:d,pxToRem:h,...f}=typeof t=="function"?t(e):t,g=r/14,m=h||(v=>`${v/c*g}rem`),y=(v,S,E,T,R)=>({fontFamily:n,fontWeight:v,fontSize:m(S),lineHeight:E,...n===f3?{letterSpacing:`${Fwe(T/S)}em`}:{},...R,...d}),b={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(i,48,1.167,0),h4:y(i,34,1.235,.25),h5:y(i,24,1.334,0),h6:y(s,20,1.6,.15),subtitle1:y(i,16,1.75,.15),subtitle2:y(s,14,1.57,.1),body1:y(i,16,1.5,.15),body2:y(i,14,1.43,.15),button:y(s,14,1.75,.4,h3),caption:y(i,12,1.66,.4),overline:y(i,12,2.66,1,h3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ho({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:a,...b},f,{clone:!1})}const Vwe=.2,$we=.14,zwe=.12;function Xr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Vwe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${$we})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${zwe})`].join(",")}const Uwe=["none",Xr(0,2,1,-1,0,1,1,0,0,1,3,0),Xr(0,3,1,-2,0,2,2,0,0,1,5,0),Xr(0,3,3,-2,0,3,4,0,0,1,8,0),Xr(0,2,4,-1,0,4,5,0,0,1,10,0),Xr(0,3,5,-1,0,5,8,0,0,1,14,0),Xr(0,3,5,-1,0,6,10,0,0,1,18,0),Xr(0,4,5,-2,0,7,10,1,0,2,16,1),Xr(0,5,5,-3,0,8,10,1,0,3,14,2),Xr(0,5,6,-3,0,9,12,1,0,3,16,2),Xr(0,6,6,-3,0,10,14,1,0,4,18,3),Xr(0,6,7,-4,0,11,15,1,0,4,20,3),Xr(0,7,8,-4,0,12,17,2,0,5,22,4),Xr(0,7,8,-4,0,13,19,2,0,5,24,4),Xr(0,7,9,-4,0,14,21,2,0,5,26,4),Xr(0,8,9,-5,0,15,22,2,0,6,28,5),Xr(0,8,10,-5,0,16,24,2,0,6,30,5),Xr(0,8,11,-5,0,17,26,2,0,6,32,5),Xr(0,9,11,-5,0,18,28,2,0,7,34,6),Xr(0,9,12,-6,0,19,29,2,0,7,36,6),Xr(0,10,13,-6,0,20,31,3,0,8,38,7),Xr(0,10,13,-6,0,21,33,3,0,8,40,7),Xr(0,10,14,-6,0,22,35,3,0,8,42,7),Xr(0,11,14,-7,0,23,36,3,0,9,44,8),Xr(0,11,15,-7,0,24,38,3,0,9,46,8)],Hwe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},p3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function g3(e){return`${Math.round(e)}ms`}function Gwe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Wwe(e){const t={...Hwe,...e.easing},n={...p3,...e.duration};return{getAutoHeightDuration:Gwe,create:(o=["all"],i={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0,...d}=i;return(Array.isArray(o)?o:[o]).map(h=>`${h} ${typeof s=="string"?s:g3(s)} ${a} ${typeof c=="string"?c:g3(c)}`).join(",")},...e,easing:t,duration:n}}const Kwe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function qwe(e){return rl(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function m3(e={}){const t={...e};function n(r){const o=Object.entries(r);for(let i=0;i<o.length;i++){const[s,a]=o[i];!qwe(a)||s.startsWith("unstable_")?delete r[s]:rl(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function v3(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const Ywe=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function Xwe(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:zs(t,Ywe(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${v3(n)})`:Fg(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${v3(n)})`:Bg(t,n)}})}function WM(e={},...t){const{breakpoints:n,mixins:r={},spacing:o,palette:i={},transitions:s={},typography:a={},shape:c,colorSpace:d,...h}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Wl(20));const f=GM({...i,colorSpace:d}),g=zb(e);let m=Ho(g,{mixins:Bwe(g.breakpoints,r),palette:f,shadows:Uwe.slice(),typography:jwe(f,a),transitions:Wwe(s),zIndex:{...Kwe}});return m=Ho(m,h),m=t.reduce((y,b)=>Ho(y,b),m),m.unstable_sxConfig={...Lg,...h?.unstable_sxConfig},m.unstable_sx=function(b){return bd({sx:b,theme:this})},m.toRuntimeSource=m3,Xwe(m),m}function KM(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Zwe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=KM(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function y3(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function b3(e){return e==="dark"?Zwe:[]}function Qwe(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:o,...i}=e,s=GM({...t,colorSpace:o});return{palette:s,opacity:{...y3(s.mode),...n},overlays:r||b3(s.mode),...i}}function Jwe(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const eSe=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],tSe=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if(o==="class"&&(i=".%s"),o==="data"&&(i="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(i=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return eSe(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:i?{[i.replace("%s",t)]:s,[`${r}, ${i.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(i)return i.replace("%s",String(t))}return r};function nSe(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function Qe(e,t,n){!e[t]&&n&&(e[t]=n)}function jg(e){return typeof e!="string"||!e.startsWith("hsl")?e:n3(e)}function Kl(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Ng(jg(e[t])))}function rSe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const ol=e=>{try{return e()}catch{}},oSe=(e="mui")=>vwe(e);function qM(e,t,n,r,o){if(!n)return;n=n===!0?{}:n;const i=o==="dark"?"dark":"light";if(!r){t[o]=Qwe({...n,palette:{mode:i,...n?.palette},colorSpace:e});return}const{palette:s,...a}=WM({...r,palette:{mode:i,...n?.palette},colorSpace:e});return t[o]={...n,palette:s,opacity:{...y3(i),...n?.opacity},overlays:n?.overlays||b3(i)},a}function iSe(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=Jwe,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...h}=e,f=Object.keys(n)[0],g=r||(n.light&&f!=="light"?"light":f),m=oSe(i),{[g]:y,light:b,dark:v,...S}=n,E={...S};let T=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(Wl(21,g));let R;s&&(R="oklch");const M=qM(R,E,T,h,g);b&&!E.light&&qM(R,E,b,void 0,"light"),v&&!E.dark&&qM(R,E,v,void 0,"dark");let I={defaultColorScheme:g,...M,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:d,getCssVar:m,colorSchemes:E,font:{...Nwe(M.typography),...M.font},spacing:rSe(h.spacing)};Object.keys(I.colorSchemes).forEach($=>{const B=I.colorSchemes[$].palette,U=G=>{const V=G.split("-"),Y=V[1],Q=V[2];return m(G,B[Y][Q])};B.mode==="light"&&(Qe(B.common,"background","#fff"),Qe(B.common,"onBackground","#000")),B.mode==="dark"&&(Qe(B.common,"background","#000"),Qe(B.common,"onBackground","#fff"));function K(G,V,Y){if(R){let Q;return G===Cd&&(Q=`transparent ${((1-Y)*100).toFixed(0)}%`),G===pr&&(Q=`#000 ${(Y*100).toFixed(0)}%`),G===gr&&(Q=`#fff ${(Y*100).toFixed(0)}%`),`color-mix(in ${R}, ${V}, ${Q})`}return G(V,Y)}if(nSe(B,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),B.mode==="light"){Qe(B.Alert,"errorColor",K(pr,B.error.light,.6)),Qe(B.Alert,"infoColor",K(pr,B.info.light,.6)),Qe(B.Alert,"successColor",K(pr,B.success.light,.6)),Qe(B.Alert,"warningColor",K(pr,B.warning.light,.6)),Qe(B.Alert,"errorFilledBg",U("palette-error-main")),Qe(B.Alert,"infoFilledBg",U("palette-info-main")),Qe(B.Alert,"successFilledBg",U("palette-success-main")),Qe(B.Alert,"warningFilledBg",U("palette-warning-main")),Qe(B.Alert,"errorFilledColor",ol(()=>B.getContrastText(B.error.main))),Qe(B.Alert,"infoFilledColor",ol(()=>B.getContrastText(B.info.main))),Qe(B.Alert,"successFilledColor",ol(()=>B.getContrastText(B.success.main))),Qe(B.Alert,"warningFilledColor",ol(()=>B.getContrastText(B.warning.main))),Qe(B.Alert,"errorStandardBg",K(gr,B.error.light,.9)),Qe(B.Alert,"infoStandardBg",K(gr,B.info.light,.9)),Qe(B.Alert,"successStandardBg",K(gr,B.success.light,.9)),Qe(B.Alert,"warningStandardBg",K(gr,B.warning.light,.9)),Qe(B.Alert,"errorIconColor",U("palette-error-main")),Qe(B.Alert,"infoIconColor",U("palette-info-main")),Qe(B.Alert,"successIconColor",U("palette-success-main")),Qe(B.Alert,"warningIconColor",U("palette-warning-main")),Qe(B.AppBar,"defaultBg",U("palette-grey-100")),Qe(B.Avatar,"defaultBg",U("palette-grey-400")),Qe(B.Button,"inheritContainedBg",U("palette-grey-300")),Qe(B.Button,"inheritContainedHoverBg",U("palette-grey-A100")),Qe(B.Chip,"defaultBorder",U("palette-grey-400")),Qe(B.Chip,"defaultAvatarColor",U("palette-grey-700")),Qe(B.Chip,"defaultIconColor",U("palette-grey-700")),Qe(B.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Qe(B.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Qe(B.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Qe(B.LinearProgress,"primaryBg",K(gr,B.primary.main,.62)),Qe(B.LinearProgress,"secondaryBg",K(gr,B.secondary.main,.62)),Qe(B.LinearProgress,"errorBg",K(gr,B.error.main,.62)),Qe(B.LinearProgress,"infoBg",K(gr,B.info.main,.62)),Qe(B.LinearProgress,"successBg",K(gr,B.success.main,.62)),Qe(B.LinearProgress,"warningBg",K(gr,B.warning.main,.62)),Qe(B.Skeleton,"bg",R?K(Cd,B.text.primary,.11):`rgba(${U("palette-text-primaryChannel")} / 0.11)`),Qe(B.Slider,"primaryTrack",K(gr,B.primary.main,.62)),Qe(B.Slider,"secondaryTrack",K(gr,B.secondary.main,.62)),Qe(B.Slider,"errorTrack",K(gr,B.error.main,.62)),Qe(B.Slider,"infoTrack",K(gr,B.info.main,.62)),Qe(B.Slider,"successTrack",K(gr,B.success.main,.62)),Qe(B.Slider,"warningTrack",K(gr,B.warning.main,.62));const G=R?K(pr,B.background.default,.6825):Wb(B.background.default,.8);Qe(B.SnackbarContent,"bg",G),Qe(B.SnackbarContent,"color",ol(()=>R?HM.text.primary:B.getContrastText(G))),Qe(B.SpeedDialAction,"fabHoverBg",Wb(B.background.paper,.15)),Qe(B.StepConnector,"border",U("palette-grey-400")),Qe(B.StepContent,"border",U("palette-grey-400")),Qe(B.Switch,"defaultColor",U("palette-common-white")),Qe(B.Switch,"defaultDisabledColor",U("palette-grey-100")),Qe(B.Switch,"primaryDisabledColor",K(gr,B.primary.main,.62)),Qe(B.Switch,"secondaryDisabledColor",K(gr,B.secondary.main,.62)),Qe(B.Switch,"errorDisabledColor",K(gr,B.error.main,.62)),Qe(B.Switch,"infoDisabledColor",K(gr,B.info.main,.62)),Qe(B.Switch,"successDisabledColor",K(gr,B.success.main,.62)),Qe(B.Switch,"warningDisabledColor",K(gr,B.warning.main,.62)),Qe(B.TableCell,"border",K(gr,K(Cd,B.divider,1),.88)),Qe(B.Tooltip,"bg",K(Cd,B.grey[700],.92))}if(B.mode==="dark"){Qe(B.Alert,"errorColor",K(gr,B.error.light,.6)),Qe(B.Alert,"infoColor",K(gr,B.info.light,.6)),Qe(B.Alert,"successColor",K(gr,B.success.light,.6)),Qe(B.Alert,"warningColor",K(gr,B.warning.light,.6)),Qe(B.Alert,"errorFilledBg",U("palette-error-dark")),Qe(B.Alert,"infoFilledBg",U("palette-info-dark")),Qe(B.Alert,"successFilledBg",U("palette-success-dark")),Qe(B.Alert,"warningFilledBg",U("palette-warning-dark")),Qe(B.Alert,"errorFilledColor",ol(()=>B.getContrastText(B.error.dark))),Qe(B.Alert,"infoFilledColor",ol(()=>B.getContrastText(B.info.dark))),Qe(B.Alert,"successFilledColor",ol(()=>B.getContrastText(B.success.dark))),Qe(B.Alert,"warningFilledColor",ol(()=>B.getContrastText(B.warning.dark))),Qe(B.Alert,"errorStandardBg",K(pr,B.error.light,.9)),Qe(B.Alert,"infoStandardBg",K(pr,B.info.light,.9)),Qe(B.Alert,"successStandardBg",K(pr,B.success.light,.9)),Qe(B.Alert,"warningStandardBg",K(pr,B.warning.light,.9)),Qe(B.Alert,"errorIconColor",U("palette-error-main")),Qe(B.Alert,"infoIconColor",U("palette-info-main")),Qe(B.Alert,"successIconColor",U("palette-success-main")),Qe(B.Alert,"warningIconColor",U("palette-warning-main")),Qe(B.AppBar,"defaultBg",U("palette-grey-900")),Qe(B.AppBar,"darkBg",U("palette-background-paper")),Qe(B.AppBar,"darkColor",U("palette-text-primary")),Qe(B.Avatar,"defaultBg",U("palette-grey-600")),Qe(B.Button,"inheritContainedBg",U("palette-grey-800")),Qe(B.Button,"inheritContainedHoverBg",U("palette-grey-700")),Qe(B.Chip,"defaultBorder",U("palette-grey-700")),Qe(B.Chip,"defaultAvatarColor",U("palette-grey-300")),Qe(B.Chip,"defaultIconColor",U("palette-grey-300")),Qe(B.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Qe(B.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Qe(B.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Qe(B.LinearProgress,"primaryBg",K(pr,B.primary.main,.5)),Qe(B.LinearProgress,"secondaryBg",K(pr,B.secondary.main,.5)),Qe(B.LinearProgress,"errorBg",K(pr,B.error.main,.5)),Qe(B.LinearProgress,"infoBg",K(pr,B.info.main,.5)),Qe(B.LinearProgress,"successBg",K(pr,B.success.main,.5)),Qe(B.LinearProgress,"warningBg",K(pr,B.warning.main,.5)),Qe(B.Skeleton,"bg",R?K(Cd,B.text.primary,.13):`rgba(${U("palette-text-primaryChannel")} / 0.13)`),Qe(B.Slider,"primaryTrack",K(pr,B.primary.main,.5)),Qe(B.Slider,"secondaryTrack",K(pr,B.secondary.main,.5)),Qe(B.Slider,"errorTrack",K(pr,B.error.main,.5)),Qe(B.Slider,"infoTrack",K(pr,B.info.main,.5)),Qe(B.Slider,"successTrack",K(pr,B.success.main,.5)),Qe(B.Slider,"warningTrack",K(pr,B.warning.main,.5));const G=R?K(gr,B.background.default,.985):Wb(B.background.default,.98);Qe(B.SnackbarContent,"bg",G),Qe(B.SnackbarContent,"color",ol(()=>R?l3.text.primary:B.getContrastText(G))),Qe(B.SpeedDialAction,"fabHoverBg",Wb(B.background.paper,.15)),Qe(B.StepConnector,"border",U("palette-grey-600")),Qe(B.StepContent,"border",U("palette-grey-600")),Qe(B.Switch,"defaultColor",U("palette-grey-300")),Qe(B.Switch,"defaultDisabledColor",U("palette-grey-600")),Qe(B.Switch,"primaryDisabledColor",K(pr,B.primary.main,.55)),Qe(B.Switch,"secondaryDisabledColor",K(pr,B.secondary.main,.55)),Qe(B.Switch,"errorDisabledColor",K(pr,B.error.main,.55)),Qe(B.Switch,"infoDisabledColor",K(pr,B.info.main,.55)),Qe(B.Switch,"successDisabledColor",K(pr,B.success.main,.55)),Qe(B.Switch,"warningDisabledColor",K(pr,B.warning.main,.55)),Qe(B.TableCell,"border",K(pr,K(Cd,B.divider,1),.68)),Qe(B.Tooltip,"bg",K(Cd,B.grey[700],.92))}Kl(B.background,"default"),Kl(B.background,"paper"),Kl(B.common,"background"),Kl(B.common,"onBackground"),Kl(B,"divider"),Object.keys(B).forEach(G=>{const V=B[G];G!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&Qe(B[G],"mainChannel",Ng(jg(V.main))),V.light&&Qe(B[G],"lightChannel",Ng(jg(V.light))),V.dark&&Qe(B[G],"darkChannel",Ng(jg(V.dark))),V.contrastText&&Qe(B[G],"contrastTextChannel",Ng(jg(V.contrastText))),G==="text"&&(Kl(B[G],"primary"),Kl(B[G],"secondary")),G==="action"&&(V.active&&Kl(B[G],"active"),V.selected&&Kl(B[G],"selected")))})}),I=t.reduce(($,B)=>Ho($,B),I);const N={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:tSe(I),enableContrastVars:s},{vars:P,generateThemeVars:L,generateStyleSheets:A}=wwe(I,N);return I.vars=P,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([$,B])=>{I[$]=B}),I.generateThemeVars=L,I.generateStyleSheets=A,I.generateSpacing=function(){return Kz(h.spacing,Nb(this))},I.getColorSchemeSelector=Swe(c),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=a,I.unstable_sxConfig={...Lg,...h?.unstable_sxConfig},I.unstable_sx=function(B){return bd({sx:B,theme:this})},I.toRuntimeSource=m3,I}function w3(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:GM({...n===!0?{}:n.palette,mode:t})})}function S3(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:i=n?.mode,...s}=e,a=i||"light",c=o?.[a],d={...o,...n?{[a]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return WM(e,...t);let h=n;"palette"in e||d[a]&&(d[a]!==!0?h=d[a].palette:a==="dark"&&(h={mode:"dark"}));const f=WM({...e,palette:h},...t);return f.defaultColorScheme=a,f.colorSchemes=d,f.palette.mode==="light"&&(f.colorSchemes.light={...d.light!==!0&&d.light,palette:f.palette},w3(f,"dark",d.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:f.palette},w3(f,"light",d.light)),f}return!n&&!("light"in d)&&a==="light"&&(d.light=!0),iSe({...s,colorSchemes:d,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}function sSe(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function aSe(e){return parseFloat(e)}const qb=S3();function il(){const e=Ub(qb);return e[Tg]||e}function lSe({props:e,name:t}){return t3({props:e,name:t,defaultTheme:qb,themeId:Tg})}function C3(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const xi=e=>C3(e)&&e!=="classes",be=Jz({themeId:Tg,defaultTheme:qb,rootShouldForwardProp:xi});function x3(...e){return e.reduce((t,n)=>n==null?t:function(...o){t.apply(this,o),n.apply(this,o)},()=>{})}function cSe(e){return x.jsx(Ybe,{...e,defaultTheme:qb,themeId:Tg})}function uSe(e){return function(n){return x.jsx(cSe,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function dSe(){return VM}const Ut=mwe;function rn(e){return pwe(e)}function hSe(e){return qt("MuiSvgIcon",e)}Gt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const fSe=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${Ge(t)}`,`fontSize${Ge(n)}`]};return ft(o,hSe,r)},pSe=be("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ge(n.color)}`],t[`fontSize${Ge(n.fontSize)}`]]}})(Ut(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),YM=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:f,viewBox:g="0 0 24 24",...m}=r,y=_.isValidElement(o)&&o.type==="svg",b={...r,color:s,component:a,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:y},v={};h||(v.viewBox=g);const S=fSe(b);return x.jsxs(pSe,{as:a,className:We(S.root,i),focusable:"false",color:d,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...v,...m,...y&&o.props,ownerState:b,children:[y?o.props.children:o,f?x.jsx("title",{children:f}):null]})});YM.muiName="SvgIcon";function xt(e,t){function n(r,o){return x.jsx(YM,{"data-testid":void 0,ref:o,...r,children:e})}return n.muiName=YM.muiName,_.memo(_.forwardRef(n))}function Kc(e,t=166){let n;function r(...o){const i=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function Zr(e){return e&&e.ownerDocument||document}function ls(e){return Zr(e).defaultView||window}function XM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function xd(e){const{controlled:t,default:n,name:r,state:o="value"}=e,{current:i}=_.useRef(t!==void 0),[s,a]=_.useState(n),c=i?t:s,d=_.useCallback(h=>{i||a(h)},[]);return[c,d]}function Vt(e){const t=_.useRef(e);return Hn(()=>{t.current=e}),_.useRef((...n)=>(0,t.current)(...n)).current}function Mn(...e){const t=_.useRef(void 0),n=_.useCallback(r=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return i.current=r,()=>{i.current=null}});return()=>{o.forEach(i=>i?.())}},e);return _.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function gSe(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function _3(e,t){if(!e)return t;function n(s,a){const c={};return Object.keys(a).forEach(d=>{gSe(d,a[d])&&typeof s[d]=="function"&&(c[d]=(...h)=>{s[d](...h),a[d](...h)})}),c}if(typeof e=="function"||typeof t=="function")return s=>{const a=typeof t=="function"?t(s):t,c=typeof e=="function"?e({...s,...a}):e,d=We(s?.className,a?.className,c?.className),h=n(c,a);return{...a,...c,...h,...!!d&&{className:d},...a?.style&&c?.style&&{style:{...a.style,...c.style}},...a?.sx&&c?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=t,o=n(e,r),i=We(r?.className,e?.className);return{...t,...e,...o,...!!i&&{className:i},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function gt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZM(e,t){return ZM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ZM(e,t)}function E3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ZM(e,t)}const T3={disabled:!1},Yb=wn.createContext(null);var mSe=function(t){return t.scrollTop},Vg="unmounted",_d="exited",Ed="entering",rf="entered",QM="exiting",Us=(function(e){E3(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=o,a=s&&!s.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?a?(c=_d,i.appearStatus=Ed):c=rf:r.unmountOnExit||r.mountOnEnter?c=Vg:c=_d,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===Vg?{status:_d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==Ed&&s!==rf&&(i=Ed):(s===Ed||s===rf)&&(i=QM)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===Ed){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Sb.findDOMNode(this);s&&mSe(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_d&&this.setState({status:Vg})},n.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,c=this.props.nodeRef?[a]:[Sb.findDOMNode(this),a],d=c[0],h=c[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!o&&!s||T3.disabled){this.safeSetState({status:rf},function(){i.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:Ed},function(){i.props.onEntering(d,h),i.onTransitionEnd(g,function(){i.safeSetState({status:rf},function(){i.props.onEntered(d,h)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Sb.findDOMNode(this);if(!i||T3.disabled){this.safeSetState({status:_d},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:QM},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:_d},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Sb.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],d=c[0],h=c[1];this.props.addEndListener(d,h)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Vg)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=gt(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement(Yb.Provider,{value:null},typeof s=="function"?s(o,a):wn.cloneElement(wn.Children.only(s),a))},t})(wn.Component);Us.contextType=Yb,Us.propTypes={};function of(){}Us.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:of,onEntering:of,onEntered:of,onExit:of,onExiting:of,onExited:of},Us.UNMOUNTED=Vg,Us.EXITED=_d,Us.ENTERING=Ed,Us.ENTERED=rf,Us.EXITING=QM;function vSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JM(e,t){var n=function(i){return t&&_.isValidElement(i)?t(i):i},r=Object.create(null);return e&&_.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function ySe(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var s,a={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var d=r[c][s];a[r[c][s]]=n(d)}a[c]=n(c)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a}function Td(e,t,n){return n[t]!=null?n[t]:e.props[t]}function bSe(e,t){return JM(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Td(n,"appear",e),enter:Td(n,"enter",e),exit:Td(n,"exit",e)})})}function wSe(e,t,n){var r=JM(e.children),o=ySe(t,r);return Object.keys(o).forEach(function(i){var s=o[i];if(_.isValidElement(s)){var a=i in t,c=i in r,d=t[i],h=_.isValidElement(d)&&!d.props.in;c&&(!a||h)?o[i]=_.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Td(s,"exit",e),enter:Td(s,"enter",e)}):!c&&a&&!h?o[i]=_.cloneElement(s,{in:!1}):c&&a&&_.isValidElement(d)&&(o[i]=_.cloneElement(s,{onExited:n.bind(null,s),in:d.props.in,exit:Td(s,"exit",e),enter:Td(s,"enter",e)}))}}),o}var SSe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},CSe={component:"div",childFactory:function(t){return t}},eO=(function(e){E3(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=i.handleExited.bind(vSe(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,c=i.firstRender;return{children:c?bSe(o,a):wSe(o,s,a),firstRender:!1}},n.handleExited=function(o,i){var s=JM(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var c=H({},a.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=gt(o,["component","childFactory"]),c=this.state.contextValue,d=SSe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?wn.createElement(Yb.Provider,{value:c},d):wn.createElement(Yb.Provider,{value:c},wn.createElement(i,a,d))},t})(wn.Component);eO.propTypes={},eO.defaultProps=CSe;const M3={};function cs(e,t){const n=_.useRef(M3);return n.current===M3&&(n.current=e(t)),n}const xSe=[];function Xb(e){_.useEffect(e,xSe)}class Zb{static create(){return new Zb}currentId=null;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Vi(){const e=cs(Zb.create).current;return Xb(e.disposeEffect),e}const tO=e=>e.scrollTop;function qc(e,t){const{timeout:n,easing:r,style:o={}}=e;return{duration:o.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:o.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:o.transitionDelay}}function _Se(e){return qt("MuiCollapse",e)}Gt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const ESe=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ft(r,_Se,n)},TSe=be("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(Ut(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),MSe=be("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),OSe=be("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),nO=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:c,easing:d,in:h,onEnter:f,onEntered:g,onEntering:m,onExit:y,onExited:b,onExiting:v,orientation:S="vertical",style:E,timeout:T=p3.standard,TransitionComponent:R=Us,...M}=r,I={...r,orientation:S,collapsedSize:a},N=ESe(I),P=il(),L=Vi(),A=_.useRef(null),$=_.useRef(),B=typeof a=="number"?`${a}px`:a,U=S==="horizontal",K=U?"width":"height",G=_.useRef(null),V=Mn(n,G),Y=se=>ve=>{if(se){const Te=G.current;ve===void 0?se(Te):se(Te,ve)}},Q=()=>A.current?A.current[U?"clientWidth":"clientHeight"]:0,te=Y((se,ve)=>{A.current&&U&&(A.current.style.position="absolute"),se.style[K]=B,f&&f(se,ve)}),z=Y((se,ve)=>{const Te=Q();A.current&&U&&(A.current.style.position="");const{duration:Se,easing:he}=qc({style:E,timeout:T,easing:d},{mode:"enter"});if(T==="auto"){const pe=P.transitions.getAutoHeightDuration(Te);se.style.transitionDuration=`${pe}ms`,$.current=pe}else se.style.transitionDuration=typeof Se=="string"?Se:`${Se}ms`;se.style[K]=`${Te}px`,se.style.transitionTimingFunction=he,m&&m(se,ve)}),W=Y((se,ve)=>{se.style[K]="auto",g&&g(se,ve)}),Z=Y(se=>{se.style[K]=`${Q()}px`,y&&y(se)}),le=Y(b),ue=Y(se=>{const ve=Q(),{duration:Te,easing:Se}=qc({style:E,timeout:T,easing:d},{mode:"exit"});if(T==="auto"){const he=P.transitions.getAutoHeightDuration(ve);se.style.transitionDuration=`${he}ms`,$.current=he}else se.style.transitionDuration=typeof Te=="string"?Te:`${Te}ms`;se.style[K]=B,se.style.transitionTimingFunction=Se,v&&v(se)}),ce=se=>{T==="auto"&&L.start($.current||0,se),o&&o(G.current,se)};return x.jsx(R,{in:h,onEnter:te,onEntered:W,onEntering:z,onExit:Z,onExited:le,onExiting:ue,addEndListener:ce,nodeRef:G,timeout:T==="auto"?null:T,...M,children:(se,{ownerState:ve,...Te})=>x.jsx(TSe,{as:c,className:We(N.root,s,{entered:N.entered,exited:!h&&B==="0px"&&N.hidden}[se]),style:{[U?"minWidth":"minHeight"]:B,...E},ref:V,ownerState:{...I,state:se},...Te,children:x.jsx(MSe,{ownerState:{...I,state:se},className:N.wrapper,ref:A,children:x.jsx(OSe,{ownerState:{...I,state:se},className:N.wrapperInner,children:i})})})})});nO&&(nO.muiSupportAuto=!0);function RSe(e){return qt("MuiPaper",e)}Gt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ISe=e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return ft(i,RSe,o)},PSe=be("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Ut(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Md=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiPaper"}),o=il(),{className:i,component:s="div",elevation:a=1,square:c=!1,variant:d="elevation",...h}=r,f={...r,component:s,elevation:a,square:c,variant:d},g=ISe(f);return x.jsx(PSe,{as:s,ownerState:f,className:We(g.root,i),ref:n,...h,style:{...d==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[a],...o.vars&&{"--Paper-overlay":o.vars.overlays?.[a]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${zs("#fff",KM(a))}, ${zs("#fff",KM(a))})`}},...h.style}})});function sf(e){return typeof e=="string"}function O3(e,t,n){return e===void 0||sf(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function Qb(e,t,n){return typeof e=="function"?e(t,n):e}function us(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function R3(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function I3(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const m=We(n?.className,i,o?.className,r?.className),y={...n?.style,...o?.style,...r?.style},b={...n,...o,...r};return m.length>0&&(b.className=m),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const s=us({...o,...r}),a=R3(r),c=R3(o),d=t(s),h=We(d?.className,n?.className,i,o?.className,r?.className),f={...d?.style,...n?.style,...o?.style,...r?.style},g={...d,...n,...c,...a};return h.length>0&&(g.className=h),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:d.ref}}function ln(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...c}=t,{component:d,slots:h={[e]:void 0},slotProps:f={[e]:void 0},...g}=i,m=h[e]||r,y=Qb(f[e],o),{props:{component:b,...v},internalRef:S}=I3({className:n,...c,externalForwardedProps:e==="root"?g:void 0,externalSlotProps:y}),E=Mn(S,y?.ref,t.ref),T=e==="root"?b||d:b,R=O3(m,{...e==="root"&&!d&&!h[e]&&s,...e!=="root"&&!h[e]&&s,...v,...T&&!a&&{as:T},...T&&a&&{component:T},ref:E},o);return[m,R]}function Jb(e){try{return e.matches(":focus-visible")}catch{}return!1}class ew{static create(){return new ew}static use(){const t=cs(ew.create).current,[n,r]=_.useState(!1);return t.shouldMount=n,t.setShouldMount=r,_.useEffect(t.mountEffect,[n]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=DSe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function kSe(){return ew.use()}function DSe(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function ASe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:s,in:a,onExited:c,timeout:d}=e,[h,f]=_.useState(!1),g=We(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+i,left:-(s/2)+o},y=We(n.child,h&&n.childLeaving,r&&n.childPulsate);return!a&&!h&&f(!0),_.useEffect(()=>{if(!a&&c!=null){const b=setTimeout(c,d);return()=>{clearTimeout(b)}}},[c,a,d]),x.jsx("span",{className:g,style:m,children:x.jsx("span",{className:y})})}const Hs=Gt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),rO=550,LSe=80,NSe=js`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,BSe=js`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,FSe=js`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,jSe=be("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),VSe=be(ASe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Hs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${NSe};
    animation-duration: ${rO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Hs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Hs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Hs.childLeaving} {
    opacity: 0;
    animation-name: ${BSe};
    animation-duration: ${rO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Hs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${FSe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,$Se=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s,...a}=r,[c,d]=_.useState([]),h=_.useRef(0),f=_.useRef(null);_.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const g=_.useRef(!1),m=Vi(),y=_.useRef(null),b=_.useRef(null),v=_.useCallback(R=>{const{pulsate:M,rippleX:I,rippleY:N,rippleSize:P,cb:L}=R;d(A=>[...A,x.jsx(VSe,{classes:{ripple:We(i.ripple,Hs.ripple),rippleVisible:We(i.rippleVisible,Hs.rippleVisible),ripplePulsate:We(i.ripplePulsate,Hs.ripplePulsate),child:We(i.child,Hs.child),childLeaving:We(i.childLeaving,Hs.childLeaving),childPulsate:We(i.childPulsate,Hs.childPulsate)},timeout:rO,pulsate:M,rippleX:I,rippleY:N,rippleSize:P},h.current)]),h.current+=1,f.current=L},[i]),S=_.useCallback((R={},M={},I=()=>{})=>{const{pulsate:N=!1,center:P=o||M.pulsate,fakeElement:L=!1}=M;if(R?.type==="mousedown"&&g.current){g.current=!1;return}R?.type==="touchstart"&&(g.current=!0);const A=L?null:b.current,$=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,U,K;if(P||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)B=Math.round($.width/2),U=Math.round($.height/2);else{const{clientX:G,clientY:V}=R.touches&&R.touches.length>0?R.touches[0]:R;B=Math.round(G-$.left),U=Math.round(V-$.top)}if(P)K=Math.sqrt((2*$.width**2+$.height**2)/3),K%2===0&&(K+=1);else{const G=Math.max(Math.abs((A?A.clientWidth:0)-B),B)*2+2,V=Math.max(Math.abs((A?A.clientHeight:0)-U),U)*2+2;K=Math.sqrt(G**2+V**2)}R?.touches?y.current===null&&(y.current=()=>{v({pulsate:N,rippleX:B,rippleY:U,rippleSize:K,cb:I})},m.start(LSe,()=>{y.current&&(y.current(),y.current=null)})):v({pulsate:N,rippleX:B,rippleY:U,rippleSize:K,cb:I})},[o,v,m]),E=_.useCallback(()=>{S({},{pulsate:!0})},[S]),T=_.useCallback((R,M)=>{if(m.clear(),R?.type==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{T(R,M)});return}y.current=null,d(I=>I.length>0?I.slice(1):I),f.current=M},[m]);return _.useImperativeHandle(n,()=>({pulsate:E,start:S,stop:T}),[E,S,T]),x.jsx(jSe,{className:We(Hs.root,i.root,s),ref:b,...a,children:x.jsx(eO,{component:null,exit:!0,children:c})})});function zSe(e){return qt("MuiButtonBase",e)}const P3=Gt("MuiButtonBase",["root","disabled","focusVisible"]),USe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,s=ft({root:["root",t&&"disabled",n&&"focusVisible"]},zSe,o);return n&&r&&(s.root+=` ${r}`),s},HSe=be("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${P3.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),sl=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:c="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:g=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:b,onClick:v,onContextMenu:S,onDragLeave:E,onFocus:T,onFocusVisible:R,onKeyDown:M,onKeyUp:I,onMouseDown:N,onMouseLeave:P,onMouseUp:L,onTouchEnd:A,onTouchMove:$,onTouchStart:B,tabIndex:U=0,TouchRippleProps:K,touchRippleRef:G,type:V,...Y}=r,Q=_.useRef(null),te=kSe(),z=Mn(te.ref,G),[W,Z]=_.useState(!1);d&&W&&Z(!1),_.useImperativeHandle(o,()=>({focusVisible:()=>{Z(!0),Q.current.focus()}}),[]);const le=te.shouldMount&&!h&&!d;_.useEffect(()=>{W&&g&&!h&&te.pulsate()},[h,g,W,te]);const ue=ql(te,"start",N,f),ce=ql(te,"stop",S,f),se=ql(te,"stop",E,f),ve=ql(te,"stop",L,f),Te=ql(te,"stop",je=>{W&&je.preventDefault(),P&&P(je)},f),Se=ql(te,"start",B,f),he=ql(te,"stop",A,f),pe=ql(te,"stop",$,f),we=ql(te,"stop",je=>{Jb(je.target)||Z(!1),b&&b(je)},!1),_e=Vt(je=>{Q.current||(Q.current=je.currentTarget),Jb(je.target)&&(Z(!0),R&&R(je)),T&&T(je)}),De=()=>{const je=Q.current;return c&&c!=="button"&&!(je.tagName==="A"&&je.href)},Ee=Vt(je=>{g&&!je.repeat&&W&&je.key===" "&&te.stop(je,()=>{te.start(je)}),je.target===je.currentTarget&&De()&&je.key===" "&&je.preventDefault(),M&&M(je),je.target===je.currentTarget&&De()&&je.key==="Enter"&&!d&&(je.preventDefault(),v&&v(je))}),Fe=Vt(je=>{g&&je.key===" "&&W&&!je.defaultPrevented&&te.stop(je,()=>{te.pulsate(je)}),I&&I(je),v&&je.target===je.currentTarget&&De()&&je.key===" "&&!je.defaultPrevented&&v(je)});let Je=c;Je==="button"&&(Y.href||Y.to)&&(Je=y);const Be={};Je==="button"?(Be.type=V===void 0?"button":V,Be.disabled=d):(!Y.href&&!Y.to&&(Be.role="button"),d&&(Be["aria-disabled"]=d));const Ot=Mn(n,Q),dt={...r,centerRipple:i,component:c,disabled:d,disableRipple:h,disableTouchRipple:f,focusRipple:g,tabIndex:U,focusVisible:W},St=USe(dt);return x.jsxs(HSe,{as:Je,className:We(St.root,a),ownerState:dt,onBlur:we,onClick:v,onContextMenu:ce,onFocus:_e,onKeyDown:Ee,onKeyUp:Fe,onMouseDown:ue,onMouseLeave:Te,onMouseUp:ve,onDragLeave:se,onTouchEnd:he,onTouchMove:pe,onTouchStart:Se,ref:Ot,tabIndex:d?-1:U,type:V,...Be,...Y,children:[s,le?x.jsx($Se,{ref:z,center:i,...K}):null]})});function ql(e,t,n,r=!1){return Vt(o=>(n&&n(o),r||e[t](o),!0))}function GSe(e){return typeof e.main=="string"}function WSe(e,t=[]){if(!GSe(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Qr(e=[]){return([,t])=>t&&WSe(t,e)}function KSe(e){return qt("MuiCircularProgress",e)}Gt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Yc=44,oO=js`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,iO=js`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,qSe=typeof oO!="string"?Hc`
        animation: ${oO} 1.4s linear infinite;
      `:null,YSe=typeof iO!="string"?Hc`
        animation: ${iO} 1.4s ease-in-out infinite;
      `:null,XSe=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${Ge(r)}`],svg:["svg"],circle:["circle",`circle${Ge(n)}`,o&&"circleDisableShrink"]};return ft(i,KSe,t)},ZSe=be("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ge(n.color)}`]]}})(Ut(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:qSe||{animation:`${oO} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),QSe=be("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),JSe=be("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ge(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Ut(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:YSe||{animation:`${iO} 1.4s ease-in-out infinite`}}]}))),af=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,size:a=40,style:c,thickness:d=3.6,value:h=0,variant:f="indeterminate",...g}=r,m={...r,color:i,disableShrink:s,size:a,thickness:d,value:h,variant:f},y=XSe(m),b={},v={},S={};if(f==="determinate"){const E=2*Math.PI*((Yc-d)/2);b.strokeDasharray=E.toFixed(3),S["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*E).toFixed(3)}px`,v.transform="rotate(-90deg)"}return x.jsx(ZSe,{className:We(y.root,o),style:{width:a,height:a,...v,...c},ownerState:m,ref:n,role:"progressbar",...S,...g,children:x.jsx(QSe,{className:y.svg,ownerState:m,viewBox:`${Yc/2} ${Yc/2} ${Yc} ${Yc}`,children:x.jsx(JSe,{className:y.circle,style:b,ownerState:m,cx:Yc,cy:Yc,r:(Yc-d)/2,fill:"none",strokeWidth:d})})})});function eCe(e){return qt("MuiIconButton",e)}const sO=Gt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),tCe=e=>{const{classes:t,disabled:n,color:r,edge:o,size:i,loading:s}=e,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Ge(r)}`,o&&`edge${Ge(o)}`,`size${Ge(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return ft(a,eCe,t)},nCe=be(sl,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Ge(n.color)}`],n.edge&&t[`edge${Ge(n.edge)}`],t[`size${Ge(n.size)}`]]}})(Ut(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ut(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${sO.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${sO.loading}`]:{color:"transparent"}}))),rCe=be("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Sn=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiIconButton"}),{edge:o=!1,children:i,className:s,color:a="default",disabled:c=!1,disableFocusRipple:d=!1,size:h="medium",id:f,loading:g=null,loadingIndicator:m,...y}=r,b=kn(f),v=m??x.jsx(af,{"aria-labelledby":b,color:"inherit",size:16}),S={...r,edge:o,color:a,disabled:c,disableFocusRipple:d,loading:g,loadingIndicator:v,size:h},E=tCe(S);return x.jsxs(nCe,{id:g?b:f,className:We(E.root,s),centerRipple:!0,focusRipple:!d,disabled:c||g,ref:n,...y,ownerState:S,children:[typeof g=="boolean"&&x.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:x.jsx(rCe,{className:E.loadingIndicator,ownerState:S,children:g&&v})}),i]})}),oCe=xt(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function iCe(e){return qt("MuiTypography",e)}const k3=Gt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),sCe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},aCe=dSe(),lCe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,e.align!=="inherit"&&`align${Ge(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return ft(a,iCe,s)},cCe=be("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ge(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Ut(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Ge(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),D3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},bo=_.forwardRef(function(t,n){const{color:r,...o}=rn({props:t,name:"MuiTypography"}),i=!sCe[r],s=aCe({...o,...i&&{color:r}}),{align:a="inherit",className:c,component:d,gutterBottom:h=!1,noWrap:f=!1,paragraph:g=!1,variant:m="body1",variantMapping:y=D3,...b}=s,v={...s,align:a,color:r,className:c,component:d,gutterBottom:h,noWrap:f,paragraph:g,variant:m,variantMapping:y},S=d||(g?"p":y[m]||D3[m])||"span",E=lCe(v);return x.jsx(cCe,{as:S,ref:n,className:We(E.root,c),...b,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})});function uCe(e){return qt("MuiAppBar",e)}Gt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const dCe=e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${Ge(t)}`,`position${Ge(n)}`]};return ft(o,uCe,r)},A3=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,hCe=be(Md,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ge(n.position)}`],t[`color${Ge(n.color)}`]]}})(Ut(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Qr(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?A3(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?A3(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),fCe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAppBar"}),{className:o,color:i="primary",enableColorOnDark:s=!1,position:a="fixed",...c}=r,d={...r,color:i,position:a,enableColorOnDark:s},h=dCe(d);return x.jsx(hCe,{square:!0,component:"header",ownerState:d,elevation:4,className:We(h.root,o,a==="fixed"&&"mui-fixed"),ref:n,...c})}),aO=e=>{const t=_.useRef({});return _.useEffect(()=>{t.current=e}),t.current};function L3({array1:e,array2:t,parser:n=r=>r}){return e&&t&&e.length===t.length&&e.every((r,o)=>n(r)===n(t[o]))}function N3(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function pCe(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:s=!1}=e;return(a,{inputValue:c,getOptionLabel:d})=>{let h=s?c.trim():c;n&&(h=h.toLowerCase()),t&&(h=N3(h));const f=h?a.filter(g=>{let m=(i||d)(g);return n&&(m=m.toLowerCase()),t&&(m=N3(m)),o==="start"?m.startsWith(h):m.includes(h)}):a;return typeof r=="number"?f.slice(0,r):f}}const gCe=pCe(),B3=5,mCe=e=>e.current!==null&&e.current.parentElement?.contains(document.activeElement),vCe=[];function F3(e,t,n,r){if(t||e==null||r)return"";const o=n(e);return typeof o=="string"?o:""}function yCe(e){const{unstable_isActiveElementInListbox:t=mCe,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:c=!1,componentName:d="useAutocomplete",defaultValue:h=e.multiple?vCe:null,disableClearable:f=!1,disableCloseOnSelect:g=!1,disabled:m,disabledItemsFocusable:y=!1,disableListWrap:b=!1,filterOptions:v=gCe,filterSelectedOptions:S=!1,freeSolo:E=!1,getOptionDisabled:T,getOptionKey:R,getOptionLabel:M=Xe=>Xe.label??Xe,groupBy:I,handleHomeEndKeys:N=!e.freeSolo,id:P,includeInputInList:L=!1,inputValue:A,isOptionEqualToValue:$=(Xe,Ze)=>Xe===Ze,multiple:B=!1,onChange:U,onClose:K,onHighlightChange:G,onInputChange:V,onOpen:Y,open:Q,openOnFocus:te=!1,options:z,readOnly:W=!1,renderValue:Z,selectOnFocus:le=!e.freeSolo,value:ue}=e,ce=kn(P);let se=M;se=Xe=>{const Ze=M(Xe);return typeof Ze!="string"?String(Ze):Ze};const ve=_.useRef(!1),Te=_.useRef(!0),Se=_.useRef(null),he=_.useRef(null),[pe,we]=_.useState(null),[_e,De]=_.useState(-1),Ee=o?0:-1,Fe=_.useRef(Ee),Je=_.useRef(F3(h??ue,B,se)).current,[Be,Ot]=xd({controlled:ue,default:h,name:d}),[dt,St]=xd({controlled:A,default:Je,name:d,state:"inputValue"}),[je,Rt]=_.useState(!1),mt=_.useCallback((Xe,Ze,it)=>{if(!(B?Be.length<Ze.length:Ze!==null)&&!a)return;const cn=F3(Ze,B,se,Z);dt!==cn&&(St(cn),V&&V(Xe,cn,it))},[se,dt,B,V,St,a,Be,Z]),[Bt,It]=xd({controlled:Q,default:!1,name:d,state:"open"}),[Xt,Wt]=_.useState(!0),ht=!B&&Be!=null&&dt===se(Be),_t=Bt&&!W,He=_t?v(z.filter(Xe=>!(S&&(B?Be:[Be]).some(Ze=>Ze!==null&&$(Xe,Ze)))),{inputValue:ht&&Xt?"":dt,getOptionLabel:se}):[],lt=aO({filteredOptions:He,value:Be,inputValue:dt});_.useEffect(()=>{const Xe=Be!==lt.value;je&&!Xe||E&&!Xe||mt(null,Be,"reset")},[Be,mt,je,lt.value,E]);const ct=Bt&&He.length>0&&!W,Ct=Vt(Xe=>{if(Xe===-1)Se.current.focus();else{const Ze=Z?"data-item-index":"data-tag-index";pe.querySelector(`[${Ze}="${Xe}"]`).focus()}});_.useEffect(()=>{B&&_e>Be.length-1&&(De(-1),Ct(-1))},[Be,B,_e,Ct]);function st(Xe,Ze){if(!he.current||Xe<0||Xe>=He.length)return-1;let it=Xe;for(;;){const Zt=he.current.querySelector(`[data-option-index="${it}"]`),cn=y?!1:!Zt||Zt.disabled||Zt.getAttribute("aria-disabled")==="true";if(Zt&&Zt.hasAttribute("tabindex")&&!cn)return it;if(Ze==="next"?it=(it+1)%He.length:it=(it-1+He.length)%He.length,it===Xe)return-1}}const At=Vt(({event:Xe,index:Ze,reason:it})=>{if(Fe.current=Ze,Ze===-1?Se.current.removeAttribute("aria-activedescendant"):Se.current.setAttribute("aria-activedescendant",`${ce}-option-${Ze}`),G&&["mouse","keyboard","touch"].includes(it)&&G(Xe,Ze===-1?null:He[Ze],it),!he.current)return;const Zt=he.current.querySelector(`[role="option"].${n}-focused`);Zt&&(Zt.classList.remove(`${n}-focused`),Zt.classList.remove(`${n}-focusVisible`));let cn=he.current;if(he.current.getAttribute("role")!=="listbox"&&(cn=he.current.parentElement.querySelector('[role="listbox"]')),!cn)return;if(Ze===-1){cn.scrollTop=0;return}const vr=he.current.querySelector(`[data-option-index="${Ze}"]`);if(vr&&(vr.classList.add(`${n}-focused`),it==="keyboard"&&vr.classList.add(`${n}-focusVisible`),cn.scrollHeight>cn.clientHeight&&it!=="mouse"&&it!=="touch")){const Zn=vr,Wr=cn.clientHeight+cn.scrollTop,Ri=Zn.offsetTop+Zn.offsetHeight;Ri>Wr?cn.scrollTop=Ri-cn.clientHeight:Zn.offsetTop-Zn.offsetHeight*(I?1.3:0)<cn.scrollTop&&(cn.scrollTop=Zn.offsetTop-Zn.offsetHeight*(I?1.3:0))}}),pt=Vt(({event:Xe,diff:Ze,direction:it="next",reason:Zt})=>{if(!_t)return;const vr=st((()=>{const Zn=He.length-1;if(Ze==="reset")return Ee;if(Ze==="start")return 0;if(Ze==="end")return Zn;const Wr=Fe.current+Ze;return Wr<0?Wr===-1&&L?-1:b&&Fe.current!==-1||Math.abs(Ze)>1?0:Zn:Wr>Zn?Wr===Zn+1&&L?-1:b||Math.abs(Ze)>1?Zn:0:Wr})(),it);if(At({index:vr,reason:Zt,event:Xe}),r&&Ze!=="reset")if(vr===-1)Se.current.value=dt;else{const Zn=se(He[vr]);Se.current.value=Zn,Zn.toLowerCase().indexOf(dt.toLowerCase())===0&&dt.length>0&&Se.current.setSelectionRange(dt.length,Zn.length)}}),Pt=!L3({array1:lt.filteredOptions,array2:He,parser:se}),Dn=()=>{const Xe=(Ze,it)=>{const Zt=Ze?se(Ze):"",cn=it?se(it):"";return Zt===cn};if(Fe.current!==-1&&!L3({array1:lt.filteredOptions,array2:He,parser:se})&&lt.inputValue===dt&&(B?Be.length===lt.value.length&&lt.value.every((Ze,it)=>se(Be[it])===se(Ze)):Xe(lt.value,Be))){const Ze=lt.filteredOptions[Fe.current];if(Ze)return He.findIndex(it=>se(it)===se(Ze))}return-1},An=_.useCallback(()=>{if(!_t)return;const Xe=Dn();if(Xe!==-1){Fe.current=Xe;return}const Ze=B?Be[0]:Be;if(He.length===0||Ze==null){pt({diff:"reset"});return}if(he.current){if(Ze!=null){const it=He[Fe.current];if(B&&it&&Be.findIndex(cn=>$(it,cn))!==-1)return;const Zt=He.findIndex(cn=>$(cn,Ze));Zt===-1?pt({diff:"reset"}):At({index:Zt});return}if(Fe.current>=He.length-1){At({index:He.length-1});return}At({index:Fe.current})}},[He.length,B?!1:Be,S,pt,At,_t,dt,B]),fr=Vt(Xe=>{XM(he,Xe),Xe&&An()});_.useEffect(()=>{Pt&&An()},[An,Pt]);const Fn=Xe=>{Bt||(It(!0),Wt(!0),Y&&Y(Xe))},Dr=(Xe,Ze)=>{Bt&&(It(!1),K&&K(Xe,Ze))},er=(Xe,Ze,it,Zt)=>{if(B){if(Be.length===Ze.length&&Be.every((cn,vr)=>cn===Ze[vr]))return}else if(Be===Ze)return;U&&U(Xe,Ze,it,Zt),Ot(Ze)},jr=_.useRef(!1),Vr=(Xe,Ze,it="selectOption",Zt="options")=>{let cn=it,vr=Ze;if(B){vr=Array.isArray(Be)?Be.slice():[];const Zn=vr.findIndex(Wr=>$(Ze,Wr));Zn===-1?vr.push(Ze):Zt!=="freeSolo"&&(vr.splice(Zn,1),cn="removeOption")}mt(Xe,vr,cn),er(Xe,vr,cn,{option:Ze}),!g&&(!Xe||!Xe.ctrlKey&&!Xe.metaKey)&&Dr(Xe,cn),(s===!0||s==="touch"&&jr.current||s==="mouse"&&!jr.current)&&Se.current.blur()};function on(Xe,Ze){if(Xe===-1)return-1;let it=Xe;for(;;){if(Ze==="next"&&it===Be.length||Ze==="previous"&&it===-1)return-1;const Zt=Z?"data-item-index":"data-tag-index",cn=pe.querySelector(`[${Zt}="${it}"]`);if(!cn||!cn.hasAttribute("tabindex")||cn.disabled||cn.getAttribute("aria-disabled")==="true")it+=Ze==="next"?1:-1;else return it}}const Ln=(Xe,Ze)=>{if(!B)return;dt===""&&Dr(Xe,"toggleInput");let it=_e;_e===-1?dt===""&&Ze==="previous"&&(it=Be.length-1):(it+=Ze==="next"?1:-1,it<0&&(it=0),it===Be.length&&(it=-1)),it=on(it,Ze),De(it),Ct(it)},Lt=Xe=>{ve.current=!0,St(""),V&&V(Xe,"","clear"),er(Xe,B?[]:null,"clear")},$t=Xe=>Ze=>{if(Xe.onKeyDown&&Xe.onKeyDown(Ze),!Ze.defaultMuiPrevented&&(_e!==-1&&!["ArrowLeft","ArrowRight"].includes(Ze.key)&&(De(-1),Ct(-1)),Ze.which!==229))switch(Ze.key){case"Home":_t&&N&&(Ze.preventDefault(),pt({diff:"start",direction:"next",reason:"keyboard",event:Ze}));break;case"End":_t&&N&&(Ze.preventDefault(),pt({diff:"end",direction:"previous",reason:"keyboard",event:Ze}));break;case"PageUp":Ze.preventDefault(),pt({diff:-B3,direction:"previous",reason:"keyboard",event:Ze}),Fn(Ze);break;case"PageDown":Ze.preventDefault(),pt({diff:B3,direction:"next",reason:"keyboard",event:Ze}),Fn(Ze);break;case"ArrowDown":Ze.preventDefault(),pt({diff:1,direction:"next",reason:"keyboard",event:Ze}),Fn(Ze);break;case"ArrowUp":Ze.preventDefault(),pt({diff:-1,direction:"previous",reason:"keyboard",event:Ze}),Fn(Ze);break;case"ArrowLeft":!B&&Z?Ct(0):Ln(Ze,"previous");break;case"ArrowRight":!B&&Z?Ct(-1):Ln(Ze,"next");break;case"Enter":if(Fe.current!==-1&&_t){const it=He[Fe.current],Zt=T?T(it):!1;if(Ze.preventDefault(),Zt)return;Vr(Ze,it,"selectOption"),r&&Se.current.setSelectionRange(Se.current.value.length,Se.current.value.length)}else E&&dt!==""&&ht===!1&&(B&&Ze.preventDefault(),Vr(Ze,dt,"createOption","freeSolo"));break;case"Escape":_t?(Ze.preventDefault(),Ze.stopPropagation(),Dr(Ze,"escape")):c&&(dt!==""||B&&Be.length>0||Z)&&(Ze.preventDefault(),Ze.stopPropagation(),Lt(Ze));break;case"Backspace":if(B&&!W&&dt===""&&Be.length>0){const it=_e===-1?Be.length-1:_e,Zt=Be.slice();Zt.splice(it,1),er(Ze,Zt,"removeOption",{option:Be[it]})}!B&&Z&&!W&&(Ot(null),Ct(-1));break;case"Delete":if(B&&!W&&dt===""&&Be.length>0&&_e!==-1){const it=_e,Zt=Be.slice();Zt.splice(it,1),er(Ze,Zt,"removeOption",{option:Be[it]})}!B&&Z&&!W&&(Ot(null),Ct(-1));break}},tn=Xe=>{Rt(!0),te&&!ve.current&&Fn(Xe)},en=Xe=>{if(t(he)){Se.current.focus();return}Rt(!1),Te.current=!0,ve.current=!1,i&&Fe.current!==-1&&_t?Vr(Xe,He[Fe.current],"blur"):i&&E&&dt!==""?Vr(Xe,dt,"blur","freeSolo"):a&&mt(Xe,Be,"blur"),Dr(Xe,"blur")},En=Xe=>{const Ze=Xe.target.value;dt!==Ze&&(St(Ze),Wt(!1),V&&V(Xe,Ze,"input")),Ze===""?!f&&!B&&er(Xe,null,"clear"):Fn(Xe)},fo=Xe=>{const Ze=Number(Xe.currentTarget.getAttribute("data-option-index"));Fe.current!==Ze&&At({event:Xe,index:Ze,reason:"mouse"})},jo=Xe=>{At({event:Xe,index:Number(Xe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),jr.current=!0},Xo=Xe=>{const Ze=Number(Xe.currentTarget.getAttribute("data-option-index"));Vr(Xe,He[Ze],"selectOption"),jr.current=!1},Mi=Xe=>Ze=>{const it=Be.slice();it.splice(Xe,1),er(Ze,it,"removeOption",{option:Be[Xe]})},Gr=Xe=>{er(Xe,null,"removeOption",{option:Be})},Ar=Xe=>{Bt?Dr(Xe,"toggleInput"):Fn(Xe)},mr=Xe=>{Xe.currentTarget.contains(Xe.target)&&Xe.target.getAttribute("id")!==ce&&Xe.preventDefault()},Co=Xe=>{Xe.currentTarget.contains(Xe.target)&&(Se.current.focus(),le&&Te.current&&Se.current.selectionEnd-Se.current.selectionStart===0&&Se.current.select(),Te.current=!1)},Oi=Xe=>{!m&&(dt===""||!Bt)&&Ar(Xe)};let Tr=E&&dt.length>0;Tr=Tr||(B?Be.length>0:Be!==null);let nn=He;return I&&(nn=He.reduce((Xe,Ze,it)=>{const Zt=I(Ze);return Xe.length>0&&Xe[Xe.length-1].group===Zt?Xe[Xe.length-1].options.push(Ze):Xe.push({key:it,index:it,group:Zt,options:[Ze]}),Xe},[])),m&&je&&en(),{getRootProps:(Xe={})=>({...Xe,onKeyDown:$t(Xe),onMouseDown:mr,onClick:Co}),getInputLabelProps:()=>({id:`${ce}-label`,htmlFor:ce}),getInputProps:()=>({id:ce,value:dt,onBlur:en,onFocus:tn,onChange:En,onMouseDown:Oi,"aria-activedescendant":_t?"":null,"aria-autocomplete":r?"both":"list","aria-controls":ct?`${ce}-listbox`:void 0,"aria-expanded":ct,autoComplete:"off",ref:Se,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Lt}),getItemProps:({index:Xe=0}={})=>({...B&&{key:Xe},...Z?{"data-item-index":Xe}:{"data-tag-index":Xe},tabIndex:-1,...!W&&{onDelete:B?Mi(Xe):Gr}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ar}),getTagProps:({index:Xe})=>({key:Xe,"data-tag-index":Xe,tabIndex:-1,...!W&&{onDelete:Mi(Xe)}}),getListboxProps:()=>({role:"listbox",id:`${ce}-listbox`,"aria-labelledby":`${ce}-label`,ref:fr,onMouseDown:Xe=>{Xe.preventDefault()}}),getOptionProps:({index:Xe,option:Ze})=>{const it=(B?Be:[Be]).some(cn=>cn!=null&&$(Ze,cn)),Zt=T?T(Ze):!1;return{key:R?.(Ze)??se(Ze),tabIndex:-1,role:"option",id:`${ce}-option-${Xe}`,onMouseMove:fo,onClick:Xo,onTouchStart:jo,"data-option-index":Xe,"aria-disabled":Zt,"aria-selected":it}},id:ce,inputValue:dt,value:Be,dirty:Tr,expanded:_t&&pe,popupOpen:_t,focused:je||_e!==-1,anchorEl:pe,setAnchorEl:we,focusedItem:_e,focusedTag:_e,groupedOptions:nn}}var $i="top",Gs="bottom",Ws="right",zi="left",lO="auto",$g=[$i,Gs,Ws,zi],lf="start",zg="end",bCe="clippingParents",j3="viewport",Ug="popper",wCe="reference",V3=$g.reduce(function(e,t){return e.concat([t+"-"+lf,t+"-"+zg])},[]),$3=[].concat($g,[lO]).reduce(function(e,t){return e.concat([t,t+"-"+lf,t+"-"+zg])},[]),SCe="beforeRead",CCe="read",xCe="afterRead",_Ce="beforeMain",ECe="main",TCe="afterMain",MCe="beforeWrite",OCe="write",RCe="afterWrite",ICe=[SCe,CCe,xCe,_Ce,ECe,TCe,MCe,OCe,RCe];function al(e){return e?(e.nodeName||"").toLowerCase():null}function ds(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Od(e){var t=ds(e).Element;return e instanceof t||e instanceof Element}function Ks(e){var t=ds(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function cO(e){if(typeof ShadowRoot>"u")return!1;var t=ds(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function PCe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!Ks(i)||!al(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function kCe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(c,d){return c[d]="",c},{});!Ks(o)||!al(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const DCe={name:"applyStyles",enabled:!0,phase:"write",fn:PCe,effect:kCe,requires:["computeStyles"]};function ll(e){return e.split("-")[0]}var Rd=Math.max,tw=Math.min,cf=Math.round;function uO(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function z3(){return!/^((?!chrome|android).)*safari/i.test(uO())}function uf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Ks(e)&&(o=e.offsetWidth>0&&cf(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&cf(r.height)/e.offsetHeight||1);var s=Od(e)?ds(e):window,a=s.visualViewport,c=!z3()&&n,d=(r.left+(c&&a?a.offsetLeft:0))/o,h=(r.top+(c&&a?a.offsetTop:0))/i,f=r.width/o,g=r.height/i;return{width:f,height:g,top:h,right:d+f,bottom:h+g,left:d,x:d,y:h}}function dO(e){var t=uf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function U3(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&cO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Yl(e){return ds(e).getComputedStyle(e)}function ACe(e){return["table","td","th"].indexOf(al(e))>=0}function Xc(e){return((Od(e)?e.ownerDocument:e.document)||window.document).documentElement}function nw(e){return al(e)==="html"?e:e.assignedSlot||e.parentNode||(cO(e)?e.host:null)||Xc(e)}function H3(e){return!Ks(e)||Yl(e).position==="fixed"?null:e.offsetParent}function LCe(e){var t=/firefox/i.test(uO()),n=/Trident/i.test(uO());if(n&&Ks(e)){var r=Yl(e);if(r.position==="fixed")return null}var o=nw(e);for(cO(o)&&(o=o.host);Ks(o)&&["html","body"].indexOf(al(o))<0;){var i=Yl(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Hg(e){for(var t=ds(e),n=H3(e);n&&ACe(n)&&Yl(n).position==="static";)n=H3(n);return n&&(al(n)==="html"||al(n)==="body"&&Yl(n).position==="static")?t:n||LCe(e)||t}function hO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Gg(e,t,n){return Rd(e,tw(t,n))}function NCe(e,t,n){var r=Gg(e,t,n);return r>n?n:r}function G3(){return{top:0,right:0,bottom:0,left:0}}function W3(e){return Object.assign({},G3(),e)}function K3(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var BCe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,W3(typeof t!="number"?t:K3(t,$g))};function FCe(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=ll(n.placement),c=hO(a),d=[zi,Ws].indexOf(a)>=0,h=d?"height":"width";if(!(!i||!s)){var f=BCe(o.padding,n),g=dO(i),m=c==="y"?$i:zi,y=c==="y"?Gs:Ws,b=n.rects.reference[h]+n.rects.reference[c]-s[c]-n.rects.popper[h],v=s[c]-n.rects.reference[c],S=Hg(i),E=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,T=b/2-v/2,R=f[m],M=E-g[h]-f[y],I=E/2-g[h]/2+T,N=Gg(R,I,M),P=c;n.modifiersData[r]=(t={},t[P]=N,t.centerOffset=N-I,t)}}function jCe(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||U3(t.elements.popper,o)&&(t.elements.arrow=o))}const VCe={name:"arrow",enabled:!0,phase:"main",fn:FCe,effect:jCe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function df(e){return e.split("-")[1]}var $Ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zCe(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:cf(n*o)/o||0,y:cf(r*o)/o||0}}function q3(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,d=e.adaptive,h=e.roundOffsets,f=e.isFixed,g=s.x,m=g===void 0?0:g,y=s.y,b=y===void 0?0:y,v=typeof h=="function"?h({x:m,y:b}):{x:m,y:b};m=v.x,b=v.y;var S=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),T=zi,R=$i,M=window;if(d){var I=Hg(n),N="clientHeight",P="clientWidth";if(I===ds(n)&&(I=Xc(n),Yl(I).position!=="static"&&a==="absolute"&&(N="scrollHeight",P="scrollWidth")),I=I,o===$i||(o===zi||o===Ws)&&i===zg){R=Gs;var L=f&&I===M&&M.visualViewport?M.visualViewport.height:I[N];b-=L-r.height,b*=c?1:-1}if(o===zi||(o===$i||o===Gs)&&i===zg){T=Ws;var A=f&&I===M&&M.visualViewport?M.visualViewport.width:I[P];m-=A-r.width,m*=c?1:-1}}var $=Object.assign({position:a},d&&$Ce),B=h===!0?zCe({x:m,y:b},ds(n)):{x:m,y:b};if(m=B.x,b=B.y,c){var U;return Object.assign({},$,(U={},U[R]=E?"0":"",U[T]=S?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",U))}return Object.assign({},$,(t={},t[R]=E?b+"px":"",t[T]=S?m+"px":"",t.transform="",t))}function UCe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,d={placement:ll(t.placement),variation:df(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,q3(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,q3(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const HCe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UCe,data:{}};var rw={passive:!0};function GCe(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,c=ds(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(h){h.addEventListener("scroll",n.update,rw)}),a&&c.addEventListener("resize",n.update,rw),function(){i&&d.forEach(function(h){h.removeEventListener("scroll",n.update,rw)}),a&&c.removeEventListener("resize",n.update,rw)}}const WCe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:GCe,data:{}};var KCe={left:"right",right:"left",bottom:"top",top:"bottom"};function ow(e){return e.replace(/left|right|bottom|top/g,function(t){return KCe[t]})}var qCe={start:"end",end:"start"};function Y3(e){return e.replace(/start|end/g,function(t){return qCe[t]})}function fO(e){var t=ds(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pO(e){return uf(Xc(e)).left+fO(e).scrollLeft}function YCe(e,t){var n=ds(e),r=Xc(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;var d=z3();(d||!d&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a+pO(e),y:c}}function XCe(e){var t,n=Xc(e),r=fO(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Rd(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Rd(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+pO(e),c=-r.scrollTop;return Yl(o||n).direction==="rtl"&&(a+=Rd(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}function gO(e){var t=Yl(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function X3(e){return["html","body","#document"].indexOf(al(e))>=0?e.ownerDocument.body:Ks(e)&&gO(e)?e:X3(nw(e))}function Wg(e,t){var n;t===void 0&&(t=[]);var r=X3(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=ds(r),s=o?[i].concat(i.visualViewport||[],gO(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(Wg(nw(s)))}function mO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ZCe(e,t){var n=uf(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Z3(e,t,n){return t===j3?mO(YCe(e,n)):Od(t)?ZCe(t,n):mO(XCe(Xc(e)))}function QCe(e){var t=Wg(nw(e)),n=["absolute","fixed"].indexOf(Yl(e).position)>=0,r=n&&Ks(e)?Hg(e):e;return Od(r)?t.filter(function(o){return Od(o)&&U3(o,r)&&al(o)!=="body"}):[]}function JCe(e,t,n,r){var o=t==="clippingParents"?QCe(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(c,d){var h=Z3(e,d,r);return c.top=Rd(h.top,c.top),c.right=tw(h.right,c.right),c.bottom=tw(h.bottom,c.bottom),c.left=Rd(h.left,c.left),c},Z3(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Q3(e){var t=e.reference,n=e.element,r=e.placement,o=r?ll(r):null,i=r?df(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(o){case $i:c={x:s,y:t.y-n.height};break;case Gs:c={x:s,y:t.y+t.height};break;case Ws:c={x:t.x+t.width,y:a};break;case zi:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var d=o?hO(o):null;if(d!=null){var h=d==="y"?"height":"width";switch(i){case lf:c[d]=c[d]-(t[h]/2-n[h]/2);break;case zg:c[d]=c[d]+(t[h]/2-n[h]/2);break}}return c}function Kg(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,a=n.boundary,c=a===void 0?bCe:a,d=n.rootBoundary,h=d===void 0?j3:d,f=n.elementContext,g=f===void 0?Ug:f,m=n.altBoundary,y=m===void 0?!1:m,b=n.padding,v=b===void 0?0:b,S=W3(typeof v!="number"?v:K3(v,$g)),E=g===Ug?wCe:Ug,T=e.rects.popper,R=e.elements[y?E:g],M=JCe(Od(R)?R:R.contextElement||Xc(e.elements.popper),c,h,s),I=uf(e.elements.reference),N=Q3({reference:I,element:T,placement:o}),P=mO(Object.assign({},T,N)),L=g===Ug?P:I,A={top:M.top-L.top+S.top,bottom:L.bottom-M.bottom+S.bottom,left:M.left-L.left+S.left,right:L.right-M.right+S.right},$=e.modifiersData.offset;if(g===Ug&&$){var B=$[o];Object.keys(A).forEach(function(U){var K=[Ws,Gs].indexOf(U)>=0?1:-1,G=[$i,Gs].indexOf(U)>=0?"y":"x";A[U]+=B[G]*K})}return A}function e0e(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?$3:c,h=df(r),f=h?a?V3:V3.filter(function(y){return df(y)===h}):$g,g=f.filter(function(y){return d.indexOf(y)>=0});g.length===0&&(g=f);var m=g.reduce(function(y,b){return y[b]=Kg(e,{placement:b,boundary:o,rootBoundary:i,padding:s})[ll(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function t0e(e){if(ll(e)===lO)return[];var t=ow(e);return[Y3(e),t,Y3(t)]}function n0e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,d=n.padding,h=n.boundary,f=n.rootBoundary,g=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,b=n.allowedAutoPlacements,v=t.options.placement,S=ll(v),E=S===v,T=c||(E||!y?[ow(v)]:t0e(v)),R=[v].concat(T).reduce(function(ue,ce){return ue.concat(ll(ce)===lO?e0e(t,{placement:ce,boundary:h,rootBoundary:f,padding:d,flipVariations:y,allowedAutoPlacements:b}):ce)},[]),M=t.rects.reference,I=t.rects.popper,N=new Map,P=!0,L=R[0],A=0;A<R.length;A++){var $=R[A],B=ll($),U=df($)===lf,K=[$i,Gs].indexOf(B)>=0,G=K?"width":"height",V=Kg(t,{placement:$,boundary:h,rootBoundary:f,altBoundary:g,padding:d}),Y=K?U?Ws:zi:U?Gs:$i;M[G]>I[G]&&(Y=ow(Y));var Q=ow(Y),te=[];if(i&&te.push(V[B]<=0),a&&te.push(V[Y]<=0,V[Q]<=0),te.every(function(ue){return ue})){L=$,P=!1;break}N.set($,te)}if(P)for(var z=y?3:1,W=function(ce){var se=R.find(function(ve){var Te=N.get(ve);if(Te)return Te.slice(0,ce).every(function(Se){return Se})});if(se)return L=se,"break"},Z=z;Z>0;Z--){var le=W(Z);if(le==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const r0e={name:"flip",enabled:!0,phase:"main",fn:n0e,requiresIfExists:["offset"],data:{_skip:!1}};function J3(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eU(e){return[$i,Ws,Gs,zi].some(function(t){return e[t]>=0})}function o0e(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Kg(t,{elementContext:"reference"}),a=Kg(t,{altBoundary:!0}),c=J3(s,r),d=J3(a,o,i),h=eU(c),f=eU(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:h,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const i0e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:o0e};function s0e(e,t,n){var r=ll(e),o=[zi,$i].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[zi,Ws].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function a0e(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,s=$3.reduce(function(h,f){return h[f]=s0e(f,t.rects,i),h},{}),a=s[t.placement],c=a.x,d=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=s}const l0e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:a0e};function c0e(e){var t=e.state,n=e.name;t.modifiersData[n]=Q3({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const u0e={name:"popperOffsets",enabled:!0,phase:"read",fn:c0e,data:{}};function d0e(e){return e==="x"?"y":"x"}function h0e(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.padding,g=n.tether,m=g===void 0?!0:g,y=n.tetherOffset,b=y===void 0?0:y,v=Kg(t,{boundary:c,rootBoundary:d,padding:f,altBoundary:h}),S=ll(t.placement),E=df(t.placement),T=!E,R=hO(S),M=d0e(R),I=t.modifiersData.popperOffsets,N=t.rects.reference,P=t.rects.popper,L=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,A=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(I){if(i){var U,K=R==="y"?$i:zi,G=R==="y"?Gs:Ws,V=R==="y"?"height":"width",Y=I[R],Q=Y+v[K],te=Y-v[G],z=m?-P[V]/2:0,W=E===lf?N[V]:P[V],Z=E===lf?-P[V]:-N[V],le=t.elements.arrow,ue=m&&le?dO(le):{width:0,height:0},ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:G3(),se=ce[K],ve=ce[G],Te=Gg(0,N[V],ue[V]),Se=T?N[V]/2-z-Te-se-A.mainAxis:W-Te-se-A.mainAxis,he=T?-N[V]/2+z+Te+ve+A.mainAxis:Z+Te+ve+A.mainAxis,pe=t.elements.arrow&&Hg(t.elements.arrow),we=pe?R==="y"?pe.clientTop||0:pe.clientLeft||0:0,_e=(U=$?.[R])!=null?U:0,De=Y+Se-_e-we,Ee=Y+he-_e,Fe=Gg(m?tw(Q,De):Q,Y,m?Rd(te,Ee):te);I[R]=Fe,B[R]=Fe-Y}if(a){var Je,Be=R==="x"?$i:zi,Ot=R==="x"?Gs:Ws,dt=I[M],St=M==="y"?"height":"width",je=dt+v[Be],Rt=dt-v[Ot],mt=[$i,zi].indexOf(S)!==-1,Bt=(Je=$?.[M])!=null?Je:0,It=mt?je:dt-N[St]-P[St]-Bt+A.altAxis,Xt=mt?dt+N[St]+P[St]-Bt-A.altAxis:Rt,Wt=m&&mt?NCe(It,dt,Xt):Gg(m?It:je,dt,m?Xt:Rt);I[M]=Wt,B[M]=Wt-dt}t.modifiersData[r]=B}}const f0e={name:"preventOverflow",enabled:!0,phase:"main",fn:h0e,requiresIfExists:["offset"]};function p0e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function g0e(e){return e===ds(e)||!Ks(e)?fO(e):p0e(e)}function m0e(e){var t=e.getBoundingClientRect(),n=cf(t.width)/e.offsetWidth||1,r=cf(t.height)/e.offsetHeight||1;return n!==1||r!==1}function v0e(e,t,n){n===void 0&&(n=!1);var r=Ks(t),o=Ks(t)&&m0e(t),i=Xc(t),s=uf(e,o,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((al(t)!=="body"||gO(i))&&(a=g0e(t)),Ks(t)?(c=uf(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=pO(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function y0e(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&o(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function b0e(e){var t=y0e(e);return ICe.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function w0e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function S0e(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var tU={placement:"bottom",modifiers:[],strategy:"absolute"};function nU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function C0e(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?tU:o;return function(a,c,d){d===void 0&&(d=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},tU,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],g=!1,m={state:h,setOptions:function(S){var E=typeof S=="function"?S(h.options):S;b(),h.options=Object.assign({},i,h.options,E),h.scrollParents={reference:Od(a)?Wg(a):a.contextElement?Wg(a.contextElement):[],popper:Wg(c)};var T=b0e(S0e([].concat(r,h.options.modifiers)));return h.orderedModifiers=T.filter(function(R){return R.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var S=h.elements,E=S.reference,T=S.popper;if(nU(E,T)){h.rects={reference:v0e(E,Hg(T),h.options.strategy==="fixed"),popper:dO(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var R=0;R<h.orderedModifiers.length;R++){if(h.reset===!0){h.reset=!1,R=-1;continue}var M=h.orderedModifiers[R],I=M.fn,N=M.options,P=N===void 0?{}:N,L=M.name;typeof I=="function"&&(h=I({state:h,options:P,name:L,instance:m})||h)}}}},update:w0e(function(){return new Promise(function(v){m.forceUpdate(),v(h)})}),destroy:function(){b(),g=!0}};if(!nU(a,c))return m;m.setOptions(d).then(function(v){!g&&d.onFirstUpdate&&d.onFirstUpdate(v)});function y(){h.orderedModifiers.forEach(function(v){var S=v.name,E=v.options,T=E===void 0?{}:E,R=v.effect;if(typeof R=="function"){var M=R({state:h,name:S,instance:m,options:T}),I=function(){};f.push(M||I)}})}function b(){f.forEach(function(v){return v()}),f=[]}return m}}var x0e=[WCe,u0e,HCe,DCe,l0e,r0e,f0e,VCe,i0e],_0e=C0e({defaultModifiers:x0e});function Wo(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...i}=e,s=o?{}:Qb(n,r),{props:a,internalRef:c}=I3({...i,externalSlotProps:s}),d=Mn(c,s?.ref,e.additionalProps?.ref);return O3(t,{...a,ref:d},r)}function Zc(e){return parseInt(_.version,10)>=19?e?.props?.ref||null:e?.ref||null}function E0e(e){return typeof e=="function"?e():e}const rU=_.forwardRef(function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[s,a]=_.useState(null),c=Mn(_.isValidElement(r)?Zc(r):null,n);if(Hn(()=>{i||a(E0e(o)||document.body)},[o,i]),Hn(()=>{if(s&&!i)return XM(n,s),()=>{XM(n,null)}},[n,s,i]),i){if(_.isValidElement(r)){const d={ref:c};return _.cloneElement(r,d)}return r}return s&&wb.createPortal(r,s)});function T0e(e){return qt("MuiPopper",e)}Gt("MuiPopper",["root"]);function M0e(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function vO(e){return typeof e=="function"?e():e}function O0e(e){return e.nodeType!==void 0}const R0e=e=>{const{classes:t}=e;return ft({root:["root"]},T0e,t)},I0e={},P0e=_.forwardRef(function(t,n){const{anchorEl:r,children:o,direction:i,disablePortal:s,modifiers:a,open:c,placement:d,popperOptions:h,popperRef:f,slotProps:g={},slots:m={},TransitionProps:y,ownerState:b,...v}=t,S=_.useRef(null),E=Mn(S,n),T=_.useRef(null),R=Mn(T,f),M=_.useRef(R);Hn(()=>{M.current=R},[R]),_.useImperativeHandle(f,()=>T.current,[]);const I=M0e(d,i),[N,P]=_.useState(I),[L,A]=_.useState(vO(r));_.useEffect(()=>{T.current&&T.current.forceUpdate()}),_.useEffect(()=>{r&&A(vO(r))},[r]),Hn(()=>{if(!L||!c)return;const G=Q=>{P(Q.placement)};let V=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{G(Q)}}];a!=null&&(V=V.concat(a)),h&&h.modifiers!=null&&(V=V.concat(h.modifiers));const Y=_0e(L,S.current,{placement:I,...h,modifiers:V});return M.current(Y),()=>{Y.destroy(),M.current(null)}},[L,s,a,c,h,I]);const $={placement:N};y!==null&&($.TransitionProps=y);const B=R0e(t),U=m.root??"div",K=Wo({elementType:U,externalSlotProps:g.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:E},ownerState:t,className:B.root});return x.jsx(U,{...K,children:typeof o=="function"?o($):o})}),k0e=be(_.forwardRef(function(t,n){const{anchorEl:r,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:d,open:h,placement:f="bottom",popperOptions:g=I0e,popperRef:m,style:y,transition:b=!1,slotProps:v={},slots:S={},...E}=t,[T,R]=_.useState(!0),M=()=>{R(!1)},I=()=>{R(!0)};if(!c&&!h&&(!b||T))return null;let N;if(i)N=i;else if(r){const A=vO(r);N=A&&O0e(A)?Zr(A).body:Zr(null).body}const P=!h&&c&&(!b||T)?"none":void 0,L=b?{in:h,onEnter:M,onExited:I}:void 0;return x.jsx(rU,{disablePortal:a,container:N,children:x.jsx(P0e,{anchorEl:r,direction:s,disablePortal:a,modifiers:d,ref:n,open:b?!T:h,placement:f,popperOptions:g,popperRef:m,slotProps:v,slots:S,...E,style:{position:"fixed",top:0,left:0,display:P,...y},TransitionProps:L,children:o})})}),{name:"MuiPopper",slot:"Root"})({}),qg=_.forwardRef(function(t,n){const r=Go(),o=rn({props:t,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:c,container:d,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,slots:E,slotProps:T,...R}=o,M=E?.root??a?.Root,I={anchorEl:i,container:d,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,...R};return x.jsx(k0e,{as:s,direction:r?"rtl":"ltr",slots:{root:M},slotProps:T??c,...I,ref:n})});function D0e(e){return qt("MuiListSubheader",e)}Gt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const A0e=e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:i}=e,s={root:["root",n!=="default"&&`color${Ge(n)}`,!r&&"gutters",o&&"inset",!i&&"sticky"]};return ft(s,D0e,t)},L0e=be("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Ge(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(Ut(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),yO=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListSubheader"}),{className:o,color:i="default",component:s="li",disableGutters:a=!1,disableSticky:c=!1,inset:d=!1,...h}=r,f={...r,color:i,component:s,disableGutters:a,disableSticky:c,inset:d},g=A0e(f);return x.jsx(L0e,{as:s,className:We(g.root,o),ref:n,ownerState:f,...h})});yO&&(yO.muiSkipListHighlight=!0);const N0e=xt(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function B0e(e){return qt("MuiChip",e)}const $n=Gt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),F0e=e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:c}=e,d={root:["root",c,n&&"disabled",`size${Ge(r)}`,`color${Ge(o)}`,a&&"clickable",a&&`clickableColor${Ge(o)}`,s&&"deletable",s&&`deletableColor${Ge(o)}`,`${c}${Ge(o)}`],label:["label",`label${Ge(r)}`],avatar:["avatar",`avatar${Ge(r)}`,`avatarColor${Ge(o)}`],icon:["icon",`icon${Ge(r)}`,`iconColor${Ge(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Ge(r)}`,`deleteIconColor${Ge(o)}`,`deleteIcon${Ge(c)}Color${Ge(o)}`]};return ft(d,B0e,t)},j0e=be("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:c}=n;return[{[`& .${$n.avatar}`]:t.avatar},{[`& .${$n.avatar}`]:t[`avatar${Ge(a)}`]},{[`& .${$n.avatar}`]:t[`avatarColor${Ge(r)}`]},{[`& .${$n.icon}`]:t.icon},{[`& .${$n.icon}`]:t[`icon${Ge(a)}`]},{[`& .${$n.icon}`]:t[`iconColor${Ge(o)}`]},{[`& .${$n.deleteIcon}`]:t.deleteIcon},{[`& .${$n.deleteIcon}`]:t[`deleteIcon${Ge(a)}`]},{[`& .${$n.deleteIcon}`]:t[`deleteIconColor${Ge(r)}`]},{[`& .${$n.deleteIcon}`]:t[`deleteIcon${Ge(c)}Color${Ge(r)}`]},t.root,t[`size${Ge(a)}`],t[`color${Ge(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${Ge(r)})`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${Ge(r)}`],t[c],t[`${c}${Ge(r)}`]]}})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${$n.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${$n.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${$n.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${$n.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${$n.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${$n.icon}`]:{marginLeft:5,marginRight:-6},[`& .${$n.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${$n.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${$n.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Qr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${$n.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${$n.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${$n.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${$n.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(Qr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${$n.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${$n.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Qr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${$n.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${$n.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${$n.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${$n.avatar}`]:{marginLeft:4},[`& .${$n.avatarSmall}`]:{marginLeft:2},[`& .${$n.icon}`]:{marginLeft:4},[`& .${$n.iconSmall}`]:{marginLeft:2},[`& .${$n.deleteIcon}`]:{marginRight:5},[`& .${$n.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Qr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${$n.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${$n.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${$n.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),V0e=be("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Ge(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function oU(e){return e.key==="Backspace"||e.key==="Delete"}const bO=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:c,deleteIcon:d,disabled:h=!1,icon:f,label:g,onClick:m,onDelete:y,onKeyDown:b,onKeyUp:v,size:S="medium",variant:E="filled",tabIndex:T,skipFocusWhenDisabled:R=!1,slots:M={},slotProps:I={},...N}=r,P=_.useRef(null),L=Mn(P,n),A=se=>{se.stopPropagation(),y&&y(se)},$=se=>{se.currentTarget===se.target&&oU(se)&&se.preventDefault(),b&&b(se)},B=se=>{se.currentTarget===se.target&&y&&oU(se)&&y(se),v&&v(se)},U=s!==!1&&m?!0:s,K=U||y?sl:c||"div",G={...r,component:K,disabled:h,size:S,color:a,iconColor:_.isValidElement(f)&&f.props.color||a,onDelete:!!y,clickable:U,variant:E},V=F0e(G),Y=K===sl?{component:c||"div",focusVisibleClassName:V.focusVisible,...y&&{disableRipple:!0}}:{};let Q=null;y&&(Q=d&&_.isValidElement(d)?_.cloneElement(d,{className:We(d.props.className,V.deleteIcon),onClick:A}):x.jsx(N0e,{className:V.deleteIcon,onClick:A}));let te=null;o&&_.isValidElement(o)&&(te=_.cloneElement(o,{className:We(V.avatar,o.props.className)}));let z=null;f&&_.isValidElement(f)&&(z=_.cloneElement(f,{className:We(V.icon,f.props.className)}));const W={slots:M,slotProps:I},[Z,le]=ln("root",{elementType:j0e,externalForwardedProps:{...W,...N},ownerState:G,shouldForwardComponentProp:!0,ref:L,className:We(V.root,i),additionalProps:{disabled:U&&h?!0:void 0,tabIndex:R&&h?-1:T,...Y},getSlotProps:se=>({...se,onClick:ve=>{se.onClick?.(ve),m?.(ve)},onKeyDown:ve=>{se.onKeyDown?.(ve),$(ve)},onKeyUp:ve=>{se.onKeyUp?.(ve),B(ve)}})}),[ue,ce]=ln("label",{elementType:V0e,externalForwardedProps:W,ownerState:G,className:V.label});return x.jsxs(Z,{as:K,...le,children:[te||z,x.jsx(ue,{...ce,children:g}),Q]})});function iw(e){return parseInt(e,10)||0}const $0e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function z0e(e){for(const t in e)return!1;return!0}function iU(e){return z0e(e)||e.outerHeightStyle===0&&!e.overflowing}const U0e=_.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:i=1,style:s,value:a,...c}=t,{current:d}=_.useRef(a!=null),h=_.useRef(null),f=Mn(n,h),g=_.useRef(null),m=_.useRef(null),y=_.useCallback(()=>{const T=h.current,R=m.current;if(!T||!R)return;const I=ls(T).getComputedStyle(T);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=I.width,R.value=T.value||t.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const N=I.boxSizing,P=iw(I.paddingBottom)+iw(I.paddingTop),L=iw(I.borderBottomWidth)+iw(I.borderTopWidth),A=R.scrollHeight;R.value="x";const $=R.scrollHeight;let B=A;i&&(B=Math.max(Number(i)*$,B)),o&&(B=Math.min(Number(o)*$,B)),B=Math.max(B,$);const U=B+(N==="border-box"?P+L:0),K=Math.abs(B-A)<=1;return{outerHeightStyle:U,overflowing:K}},[o,i,t.placeholder]),b=Vt(()=>{const T=h.current,R=y();if(!T||!R||iU(R))return!1;const M=R.outerHeightStyle;return g.current!=null&&g.current!==M}),v=_.useCallback(()=>{const T=h.current,R=y();if(!T||!R||iU(R))return;const M=R.outerHeightStyle;g.current!==M&&(g.current=M,T.style.height=`${M}px`),T.style.overflow=R.overflowing?"hidden":""},[y]),S=_.useRef(-1);Hn(()=>{const T=Kc(v),R=h?.current;if(!R)return;const M=ls(R);M.addEventListener("resize",T);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{b()&&(I.unobserve(R),cancelAnimationFrame(S.current),v(),S.current=requestAnimationFrame(()=>{I.observe(R)}))}),I.observe(R)),()=>{T.clear(),cancelAnimationFrame(S.current),M.removeEventListener("resize",T),I&&I.disconnect()}},[y,v,b]),Hn(()=>{v()});const E=T=>{d||v();const R=T.target,M=R.value.length,I=R.value.endsWith(`
`),N=R.selectionStart===M;I&&N&&R.setSelectionRange(M,M),r&&r(T)};return x.jsxs(_.Fragment,{children:[x.jsx("textarea",{value:a,onChange:E,ref:f,rows:i,style:s,...c}),x.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:{...$0e.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function Id({props:e,states:t,muiFormControl:n}){return t.reduce((r,o)=>(r[o]=e[o],n&&typeof e[o]>"u"&&(r[o]=n[o]),r),{})}const sw=_.createContext(void 0);function Xl(){return _.useContext(sw)}function sU(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function aw(e,t=!1){return e&&(sU(e.value)&&e.value!==""||t&&sU(e.defaultValue)&&e.defaultValue!=="")}function H0e(e){return e.startAdornment}function G0e(e){return qt("MuiInputBase",e)}const ni=Gt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var aU;const lw=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Ge(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},cw=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},W0e=e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:c,hiddenLabel:d,multiline:h,readOnly:f,size:g,startAdornment:m,type:y}=e,b={root:["root",`color${Ge(n)}`,r&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",a&&"formControl",g&&g!=="medium"&&`size${Ge(g)}`,h&&"multiline",m&&"adornedStart",i&&"adornedEnd",d&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return ft(b,G0e,t)},uw=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:lw})(Ut(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ni.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),dw=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:cw})(Ut(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ni.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${ni.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),lU=uSe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Yg=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:a,color:c,components:d={},componentsProps:h={},defaultValue:f,disabled:g,disableInjectingGlobalStyles:m,endAdornment:y,error:b,fullWidth:v=!1,id:S,inputComponent:E="input",inputProps:T={},inputRef:R,margin:M,maxRows:I,minRows:N,multiline:P=!1,name:L,onBlur:A,onChange:$,onClick:B,onFocus:U,onKeyDown:K,onKeyUp:G,placeholder:V,readOnly:Y,renderSuffix:Q,rows:te,size:z,slotProps:W={},slots:Z={},startAdornment:le,type:ue="text",value:ce,...se}=r,ve=T.value!=null?T.value:ce,{current:Te}=_.useRef(ve!=null),Se=_.useRef(),he=_.useCallback(He=>{},[]),pe=Mn(Se,R,T.ref,he),[we,_e]=_.useState(!1),De=Xl(),Ee=Id({props:r,muiFormControl:De,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ee.focused=De?De.focused:we,_.useEffect(()=>{!De&&g&&we&&(_e(!1),A&&A())},[De,g,we,A]);const Fe=De&&De.onFilled,Je=De&&De.onEmpty,Be=_.useCallback(He=>{aw(He)?Fe&&Fe():Je&&Je()},[Fe,Je]);Hn(()=>{Te&&Be({value:ve})},[ve,Be,Te]);const Ot=He=>{U&&U(He),T.onFocus&&T.onFocus(He),De&&De.onFocus?De.onFocus(He):_e(!0)},dt=He=>{A&&A(He),T.onBlur&&T.onBlur(He),De&&De.onBlur?De.onBlur(He):_e(!1)},St=(He,...lt)=>{if(!Te){const ct=He.target||Se.current;if(ct==null)throw new Error(Wl(1));Be({value:ct.value})}T.onChange&&T.onChange(He,...lt),$&&$(He,...lt)};_.useEffect(()=>{Be(Se.current)},[]);const je=He=>{Se.current&&He.currentTarget===He.target&&Se.current.focus(),B&&B(He)};let Rt=E,mt=T;P&&Rt==="input"&&(te?mt={type:void 0,minRows:te,maxRows:te,...mt}:mt={type:void 0,maxRows:I,minRows:N,...mt},Rt=U0e);const Bt=He=>{Be(He.animationName==="mui-auto-fill-cancel"?Se.current:{value:"x"})};_.useEffect(()=>{De&&De.setAdornedStart(!!le)},[De,le]);const It={...r,color:Ee.color||"primary",disabled:Ee.disabled,endAdornment:y,error:Ee.error,focused:Ee.focused,formControl:De,fullWidth:v,hiddenLabel:Ee.hiddenLabel,multiline:P,size:Ee.size,startAdornment:le,type:ue},Xt=W0e(It),Wt=Z.root||d.Root||uw,ht=W.root||h.root||{},_t=Z.input||d.Input||dw;return mt={...mt,...W.input??h.input},x.jsxs(_.Fragment,{children:[!m&&typeof lU=="function"&&(aU||(aU=x.jsx(lU,{}))),x.jsxs(Wt,{...ht,ref:n,onClick:je,...se,...!sf(Wt)&&{ownerState:{...It,...ht.ownerState}},className:We(Xt.root,ht.className,a,Y&&"MuiInputBase-readOnly"),children:[le,x.jsx(sw.Provider,{value:null,children:x.jsx(_t,{"aria-invalid":Ee.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:f,disabled:Ee.disabled,id:S,onAnimationStart:Bt,name:L,placeholder:V,readOnly:Y,required:Ee.required,rows:te,value:ve,onKeyDown:K,onKeyUp:G,type:ue,...mt,...!sf(_t)&&{as:Rt,ownerState:{...It,...mt.ownerState}},ref:pe,className:We(Xt.input,mt.className,Y&&"MuiInputBase-readOnly"),onBlur:dt,onChange:St,onFocus:Ot})}),y,Q?Q({...Ee,startAdornment:le}):null]})]})});function K0e(e){return qt("MuiInput",e)}const Qc={...ni,...Gt("MuiInput",["root","underline","input"])};function q0e(e){return qt("MuiOutlinedInput",e)}const qs={...ni,...Gt("MuiOutlinedInput",["root","notchedOutline","input"])};function Y0e(e){return qt("MuiFilledInput",e)}const hs={...ni,...Gt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},cU=xt(x.jsx("path",{d:"M7 10l5 5 5-5z"}));function X0e(e){return qt("MuiAutocomplete",e)}const In=Gt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var uU,dU;const Z0e=e=>{const{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:c,popupOpen:d,size:h}=e,f={root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${Ge(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",d&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return ft(f,X0e,t)},Q0e=be("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=n;return[{[`& .${In.tag}`]:t.tag},{[`& .${In.tag}`]:t[`tagSize${Ge(a)}`]},{[`& .${In.inputRoot}`]:t.inputRoot},{[`& .${In.input}`]:t.input},{[`& .${In.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${In.focused} .${In.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${In.clearIndicator}`]:{visibility:"visible"}},[`& .${In.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${In.inputRoot}`]:{[`.${In.hasPopupIcon}&, .${In.hasClearIcon}&`]:{paddingRight:30},[`.${In.hasPopupIcon}.${In.hasClearIcon}&`]:{paddingRight:56},[`& .${In.input}`]:{width:0,minWidth:30}},[`& .${Qc.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Qc.root}.${ni.sizeSmall}`]:{[`& .${Qc.input}`]:{padding:"2px 4px 3px 0"}},[`& .${qs.root}`]:{padding:9,[`.${In.hasPopupIcon}&, .${In.hasClearIcon}&`]:{paddingRight:39},[`.${In.hasPopupIcon}.${In.hasClearIcon}&`]:{paddingRight:65},[`& .${In.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${In.endAdornment}`]:{right:9}},[`& .${qs.root}.${ni.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${In.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${hs.root}`]:{paddingTop:19,paddingLeft:8,[`.${In.hasPopupIcon}&, .${In.hasClearIcon}&`]:{paddingRight:39},[`.${In.hasPopupIcon}.${In.hasClearIcon}&`]:{paddingRight:65},[`& .${hs.input}`]:{padding:"7px 4px"},[`& .${In.endAdornment}`]:{right:9}},[`& .${hs.root}.${ni.sizeSmall}`]:{paddingBottom:1,[`& .${hs.input}`]:{padding:"2.5px 4px"}},[`& .${ni.hiddenLabel}`]:{paddingTop:8},[`& .${hs.root}.${ni.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${In.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${hs.root}.${ni.hiddenLabel}.${ni.sizeSmall}`]:{[`& .${In.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${In.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${In.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${In.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${In.inputRoot}`]:{flexWrap:"wrap"}}}]}),J0e=be("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),exe=be(Sn,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),txe=be(Sn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),nxe=be(qg,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${In.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(Ut(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),rxe=be(Md,{name:"MuiAutocomplete",slot:"Paper"})(Ut(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),oxe=be("div",{name:"MuiAutocomplete",slot:"Loading"})(Ut(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),ixe=be("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Ut(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),sxe=be("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Ut(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${In.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${In.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${In.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${In.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${In.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),axe=be(yO,{name:"MuiAutocomplete",slot:"GroupLabel"})(Ut(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),lxe=be("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${In.option}`]:{paddingLeft:24}}),hU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:c,className:d,clearIcon:h=uU||(uU=x.jsx(oCe,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:g=!1,clearText:m="Clear",closeText:y="Close",componentsProps:b,defaultValue:v=r.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:E=!1,disabled:T=!1,disabledItemsFocusable:R=!1,disableListWrap:M=!1,disablePortal:I=!1,filterOptions:N,filterSelectedOptions:P=!1,forcePopupIcon:L="auto",freeSolo:A=!1,fullWidth:$=!1,getLimitTagsText:B=Pn=>`+${Pn}`,getOptionDisabled:U,getOptionKey:K,getOptionLabel:G,isOptionEqualToValue:V,groupBy:Y,handleHomeEndKeys:Q=!r.freeSolo,id:te,includeInputInList:z=!1,inputValue:W,limitTags:Z=-1,ListboxComponent:le,ListboxProps:ue,loading:ce=!1,loadingText:se="Loading…",multiple:ve=!1,noOptionsText:Te="No options",onChange:Se,onClose:he,onHighlightChange:pe,onInputChange:we,onOpen:_e,open:De,openOnFocus:Ee=!1,openText:Fe="Open",options:Je,PaperComponent:Be,PopperComponent:Ot,popupIcon:dt=dU||(dU=x.jsx(cU,{})),readOnly:St=!1,renderGroup:je,renderInput:Rt,renderOption:mt,renderTags:Bt,renderValue:It,selectOnFocus:Xt=!r.freeSolo,size:Wt="medium",slots:ht={},slotProps:_t={},value:He,...lt}=r,{getRootProps:ct,getInputProps:Ct,getInputLabelProps:st,getPopupIndicatorProps:At,getClearProps:pt,getItemProps:Pt,getListboxProps:Dn,getOptionProps:An,value:fr,dirty:Fn,expanded:Dr,id:er,popupOpen:jr,focused:Vr,focusedItem:on,anchorEl:Ln,setAnchorEl:Lt,inputValue:$t,groupedOptions:tn}=yCe({...r,componentName:"Autocomplete"}),en=!S&&!T&&Fn&&!St,En=(!A||L===!0)&&L!==!1,{onMouseDown:fo}=Ct(),{ref:jo,...Xo}=Dn(),Gr=G||(Pn=>Pn.label??Pn),Ar={...r,disablePortal:I,expanded:Dr,focused:Vr,fullWidth:$,getOptionLabel:Gr,hasClearIcon:en,hasPopupIcon:En,inputFocused:on===-1,popupOpen:jr,size:Wt},mr=Z0e(Ar),Co={slots:{paper:Be,popper:Ot,...ht},slotProps:{chip:c,listbox:ue,...b,..._t}},[Oi,Tr]=ln("listbox",{elementType:sxe,externalForwardedProps:Co,ownerState:Ar,className:mr.listbox,additionalProps:Xo,ref:jo}),[nn,Xe]=ln("paper",{elementType:Md,externalForwardedProps:Co,ownerState:Ar,className:mr.paper}),[Ze,it]=ln("popper",{elementType:qg,externalForwardedProps:Co,ownerState:Ar,className:mr.popper,additionalProps:{disablePortal:I,style:{width:Ln?Ln.clientWidth:null},role:"presentation",anchorEl:Ln,open:jr}});let Zt;const cn=Pn=>({className:mr.tag,disabled:T,...Pt(Pn)});if(ve?fr.length>0&&(Bt?Zt=Bt(fr,cn,Ar):It?Zt=It(fr,cn,Ar):Zt=fr.map((Pn,Mr)=>{const{key:ii,...Ii}=cn({index:Mr});return x.jsx(bO,{label:Gr(Pn),size:Wt,...Ii,...Co.slotProps.chip},ii)})):It&&fr!=null&&(Zt=It(fr,cn,Ar)),Z>-1&&Array.isArray(Zt)){const Pn=Zt.length-Z;!Vr&&Pn>0&&(Zt=Zt.splice(0,Z),Zt.push(x.jsx("span",{className:mr.tag,children:B(Pn)},Zt.length)))}const Zn=je||(Pn=>x.jsxs("li",{children:[x.jsx(axe,{className:mr.groupLabel,ownerState:Ar,component:"div",children:Pn.group}),x.jsx(lxe,{className:mr.groupUl,ownerState:Ar,children:Pn.children})]},Pn.key)),Ri=mt||((Pn,Mr)=>{const{key:ii,...Ii}=Pn;return x.jsx("li",{...Ii,children:Gr(Mr)},ii)}),ms=(Pn,Mr)=>{const ii=An({option:Pn,index:Mr});return Ri({...ii,className:mr.option},Pn,{selected:ii["aria-selected"],index:Mr,inputValue:$t},Ar)},oi=Co.slotProps.clearIndicator,oa=Co.slotProps.popupIndicator;return x.jsxs(_.Fragment,{children:[x.jsx(Q0e,{ref:n,className:We(mr.root,d),ownerState:Ar,...ct(lt),children:Rt({id:er,disabled:T,fullWidth:!0,size:Wt==="small"?"small":void 0,InputLabelProps:st(),InputProps:{ref:Lt,className:mr.inputRoot,startAdornment:Zt,onMouseDown:Pn=>{Pn.target===Pn.currentTarget&&fo(Pn)},...(en||En)&&{endAdornment:x.jsxs(J0e,{className:mr.endAdornment,ownerState:Ar,children:[en?x.jsx(exe,{...pt(),"aria-label":m,title:m,ownerState:Ar,...oi,className:We(mr.clearIndicator,oi?.className),children:h}):null,En?x.jsx(txe,{...At(),disabled:T,"aria-label":jr?y:Fe,title:jr?y:Fe,ownerState:Ar,...oa,className:We(mr.popupIndicator,oa?.className),children:dt}):null]})}},inputProps:{className:mr.input,disabled:T,readOnly:St,...Ct()}})}),Ln?x.jsx(nxe,{as:Ze,...it,children:x.jsxs(rxe,{as:nn,...Xe,children:[ce&&tn.length===0?x.jsx(oxe,{className:mr.loading,ownerState:Ar,children:se}):null,tn.length===0&&!A&&!ce?x.jsx(ixe,{className:mr.noOptions,ownerState:Ar,role:"presentation",onMouseDown:Pn=>{Pn.preventDefault()},children:Te}):null,tn.length>0?x.jsx(Oi,{as:le,...Tr,children:tn.map((Pn,Mr)=>Y?Zn({key:Pn.key,group:Pn.group,children:Pn.options.map((ii,Ii)=>ms(ii,Pn.index+Ii))}):ms(Pn,Mr))}):null]})}):null]})}),fU=Gt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),cxe={entering:{opacity:1},entered:{opacity:1}},Xg=_.forwardRef(function(t,n){const r=il(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:c,in:d,onEnter:h,onEntered:f,onEntering:g,onExit:m,onExited:y,onExiting:b,style:v,timeout:S=o,TransitionComponent:E=Us,...T}=t,R=_.useRef(null),M=Mn(R,Zc(a),n),I=K=>G=>{if(K){const V=R.current;G===void 0?K(V):K(V,G)}},N=I(g),P=I((K,G)=>{tO(K);const V=qc({style:v,timeout:S,easing:c},{mode:"enter"});K.style.webkitTransition=r.transitions.create("opacity",V),K.style.transition=r.transitions.create("opacity",V),h&&h(K,G)}),L=I(f),A=I(b),$=I(K=>{const G=qc({style:v,timeout:S,easing:c},{mode:"exit"});K.style.webkitTransition=r.transitions.create("opacity",G),K.style.transition=r.transitions.create("opacity",G),m&&m(K)}),B=I(y),U=K=>{i&&i(R.current,K)};return x.jsx(E,{appear:s,in:d,nodeRef:R,onEnter:P,onEntered:L,onEntering:N,onExit:$,onExited:B,onExiting:A,addEndListener:U,timeout:S,...T,children:(K,{ownerState:G,...V})=>_.cloneElement(a,{style:{opacity:0,visibility:K==="exited"&&!d?"hidden":void 0,...cxe[K],...v,...a.props.style},ref:M,...V})})});function uxe(e){return qt("MuiBackdrop",e)}Gt("MuiBackdrop",["root","invisible"]);const dxe=e=>{const{classes:t,invisible:n}=e;return ft({root:["root",n&&"invisible"]},uxe,t)},hxe=be("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),hw=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiBackdrop"}),{children:o,className:i,component:s="div",invisible:a=!1,open:c,components:d={},componentsProps:h={},slotProps:f={},slots:g={},TransitionComponent:m,transitionDuration:y,...b}=r,v={...r,component:s,invisible:a},S=dxe(v),E={transition:m,root:d.Root,...g},T={...h,...f},R={component:s,slots:E,slotProps:T},[M,I]=ln("root",{elementType:hxe,externalForwardedProps:R,className:We(S.root,i),ownerState:v}),[N,P]=ln("transition",{elementType:Xg,externalForwardedProps:R,ownerState:v});return x.jsx(N,{in:c,timeout:y,...b,...P,children:x.jsx(M,{"aria-hidden":!0,...I,classes:S,ref:n,children:o})})});function fxe(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=aO({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!o&&(s=!0);const{badgeContent:a,max:c=r}=s?i:e,d=a&&Number(a)>c?`${c}+`:a;return{badgeContent:a,invisible:s,max:c,displayValue:d}}function pxe(e){return qt("MuiBadge",e)}const Jc=Gt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),wO=10,SO=4,gxe=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=e,a={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}`,`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}${Ge(o)}`,`overlap${Ge(o)}`,t!=="default"&&`color${Ge(t)}`]};return ft(a,pxe,s)},mxe=be("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),vxe=be("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Ge(n.anchorOrigin.vertical)}${Ge(n.anchorOrigin.horizontal)}${Ge(n.overlap)}`],n.color!=="default"&&t[`color${Ge(n.color)}`],n.invisible&&t.invisible]}})(Ut(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:wO*2,lineHeight:1,padding:"0 6px",height:wO*2,borderRadius:wO,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Qr(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:SO,height:SO*2,minWidth:SO*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Jc.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function pU(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const Zg=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiBadge"}),{anchorOrigin:o,className:i,classes:s,component:a,components:c={},componentsProps:d={},children:h,overlap:f="rectangular",color:g="default",invisible:m=!1,max:y=99,badgeContent:b,slots:v,slotProps:S,showZero:E=!1,variant:T="standard",...R}=r,{badgeContent:M,invisible:I,max:N,displayValue:P}=fxe({max:y,invisible:m,badgeContent:b,showZero:E}),L=aO({anchorOrigin:pU(o),color:g,overlap:f,variant:T,badgeContent:b}),A=I||M==null&&T!=="dot",{color:$=g,overlap:B=f,anchorOrigin:U,variant:K=T}=A?L:r,G=pU(U),V=K!=="dot"?P:void 0,Y={...r,badgeContent:M,invisible:A,max:N,displayValue:V,showZero:E,anchorOrigin:G,color:$,overlap:B,variant:K},Q=gxe(Y),te={slots:{root:v?.root??c.Root,badge:v?.badge??c.Badge},slotProps:{root:S?.root??d.root,badge:S?.badge??d.badge}},[z,W]=ln("root",{elementType:mxe,externalForwardedProps:{...te,...R},ownerState:Y,className:We(Q.root,i),ref:n,additionalProps:{as:a}}),[Z,le]=ln("badge",{elementType:vxe,externalForwardedProps:te,ownerState:Y,className:Q.badge});return x.jsxs(z,{...W,children:[h,x.jsx(Z,{...le,children:V})]})}),yxe=Gt("MuiBox",["root"]),bxe=S3(),ri=Zbe({themeId:Tg,defaultTheme:bxe,defaultClassName:yxe.root,generateClassName:Yz.generate});function wxe(e){return qt("MuiButton",e)}const Pd=Gt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Sxe=_.createContext({}),Cxe=_.createContext(void 0),xxe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,loading:s,loadingPosition:a,classes:c}=e,d={root:["root",s&&"loading",i,`${i}${Ge(t)}`,`size${Ge(o)}`,`${i}Size${Ge(o)}`,`color${Ge(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Ge(a)}`],startIcon:["icon","startIcon",`iconSize${Ge(o)}`],endIcon:["icon","endIcon",`iconSize${Ge(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=ft(d,wxe,c);return{...c,...h}},gU=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],_xe=be(sl,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ge(n.color)}`],t[`size${Ge(n.size)}`],t[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Pd.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Pd.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Pd.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Pd.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Qr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Pd.loading}`]:{color:"transparent"}}}]}})),Exe=be("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Ge(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...gU]})),Txe=be("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Ge(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...gU]})),Mxe=be("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),mU=be("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Ui=_.forwardRef(function(t,n){const r=_.useContext(Sxe),o=_.useContext(Cxe),i=Sd(r,t),s=rn({props:i,name:"MuiButton"}),{children:a,color:c="primary",component:d="button",className:h,disabled:f=!1,disableElevation:g=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:b,fullWidth:v=!1,id:S,loading:E=null,loadingIndicator:T,loadingPosition:R="center",size:M="medium",startIcon:I,type:N,variant:P="text",...L}=s,A=kn(S),$=T??x.jsx(af,{"aria-labelledby":A,color:"inherit",size:16}),B={...s,color:c,component:d,disabled:f,disableElevation:g,disableFocusRipple:m,fullWidth:v,loading:E,loadingIndicator:$,loadingPosition:R,size:M,type:N,variant:P},U=xxe(B),K=(I||E&&R==="start")&&x.jsx(Exe,{className:U.startIcon,ownerState:B,children:I||x.jsx(mU,{className:U.loadingIconPlaceholder,ownerState:B})}),G=(y||E&&R==="end")&&x.jsx(Txe,{className:U.endIcon,ownerState:B,children:y||x.jsx(mU,{className:U.loadingIconPlaceholder,ownerState:B})}),V=o||"",Y=typeof E=="boolean"?x.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:E&&x.jsx(Mxe,{className:U.loadingIndicator,ownerState:B,children:$})}):null;return x.jsxs(_xe,{ownerState:B,className:We(r.className,U.root,h,V),component:d,disabled:f||E,focusRipple:!m,focusVisibleClassName:We(U.focusVisible,b),ref:n,type:N,id:E?A:S,...L,classes:U,children:[K,R!=="end"&&Y,a,R==="end"&&Y,G]})});function Oxe(e){return _.Children.toArray(e).filter(t=>_.isValidElement(t))}function Rxe(e){return qt("PrivateSwitchBase",e)}Gt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ixe=e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${Ge(o)}`],input:["input"]};return ft(i,Rxe,t)},Pxe=be(sl,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),kxe=be("input",{name:"MuiSwitchBase",shouldForwardProp:xi})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),vU=_.forwardRef(function(t,n){const{autoFocus:r,checked:o,checkedIcon:i,defaultChecked:s,disabled:a,disableFocusRipple:c=!1,edge:d=!1,icon:h,id:f,inputProps:g,inputRef:m,name:y,onBlur:b,onChange:v,onFocus:S,readOnly:E,required:T=!1,tabIndex:R,type:M,value:I,slots:N={},slotProps:P={},...L}=t,[A,$]=xd({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),B=Xl(),U=ce=>{S&&S(ce),B&&B.onFocus&&B.onFocus(ce)},K=ce=>{b&&b(ce),B&&B.onBlur&&B.onBlur(ce)},G=ce=>{if(ce.nativeEvent.defaultPrevented)return;const se=ce.target.checked;$(se),v&&v(ce,se)};let V=a;B&&typeof V>"u"&&(V=B.disabled);const Y=M==="checkbox"||M==="radio",Q={...t,checked:A,disabled:V,disableFocusRipple:c,edge:d},te=Ixe(Q),z={slots:N,slotProps:{input:g,...P}},[W,Z]=ln("root",{ref:n,elementType:Pxe,className:te.root,shouldForwardComponentProp:!0,externalForwardedProps:{...z,component:"span",...L},getSlotProps:ce=>({...ce,onFocus:se=>{ce.onFocus?.(se),U(se)},onBlur:se=>{ce.onBlur?.(se),K(se)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:V,role:void 0,tabIndex:null}}),[le,ue]=ln("input",{ref:m,elementType:kxe,className:te.input,externalForwardedProps:z,getSlotProps:ce=>({...ce,onChange:se=>{ce.onChange?.(se),G(se)}}),ownerState:Q,additionalProps:{autoFocus:r,checked:o,defaultChecked:s,disabled:V,id:Y?f:void 0,name:y,readOnly:E,required:T,tabIndex:R,type:M,...M==="checkbox"&&I===void 0?{}:{value:I}}});return x.jsxs(W,{...Z,children:[x.jsx(le,{...ue}),A?i:h]})}),Dxe=xt(x.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Axe=xt(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Lxe=xt(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Nxe(e){return qt("MuiCheckbox",e)}const fw=Gt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Bxe=e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,i={root:["root",n&&"indeterminate",`color${Ge(r)}`,`size${Ge(o)}`]},s=ft(i,Nxe,t);return{...t,...s}},Fxe=be(vU,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Ge(n.size)}`],n.color!=="default"&&t[`color${Ge(n.color)}`]]}})(Ut(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{[`&.${fw.checked}, &.${fw.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${fw.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),jxe=x.jsx(Axe,{}),Vxe=x.jsx(Dxe,{}),$xe=x.jsx(Lxe,{}),cl=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiCheckbox"}),{checkedIcon:o=jxe,color:i="primary",icon:s=Vxe,indeterminate:a=!1,indeterminateIcon:c=$xe,inputProps:d,size:h="medium",disableRipple:f=!1,className:g,slots:m={},slotProps:y={},...b}=r,v=a?c:s,S=a?c:o,E={...r,disableRipple:f,color:i,indeterminate:a,size:h},T=Bxe(E),R=y.input??d,[M,I]=ln("root",{ref:n,elementType:Fxe,className:We(T.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:y,...b},ownerState:E,additionalProps:{type:"checkbox",icon:_.cloneElement(v,{fontSize:v.props.fontSize??h}),checkedIcon:_.cloneElement(S,{fontSize:S.props.fontSize??h}),disableRipple:f,slots:m,slotProps:{input:_3(typeof R=="function"?R(E):R,{"data-indeterminate":a})}}});return x.jsx(M,{...I,classes:T})});function yU(e){return e.substring(2).toLowerCase()}function zxe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Uxe(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,s=_.useRef(!1),a=_.useRef(null),c=_.useRef(!1),d=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=Mn(Zc(t),a),f=Vt(y=>{const b=d.current;d.current=!1;const v=Zr(a.current);if(!c.current||!a.current||"clientX"in y&&zxe(y,v))return;if(s.current){s.current=!1;return}let S;y.composedPath?S=y.composedPath().includes(a.current):S=!v.documentElement.contains(y.target)||a.current.contains(y.target),!S&&(n||!b)&&o(y)}),g=y=>b=>{d.current=!0;const v=t.props[y];v&&v(b)},m={ref:h};return i!==!1&&(m[i]=g(i)),_.useEffect(()=>{if(i!==!1){const y=yU(i),b=Zr(a.current),v=()=>{s.current=!0};return b.addEventListener(y,f),b.addEventListener("touchmove",v),()=>{b.removeEventListener(y,f),b.removeEventListener("touchmove",v)}}},[f,i]),r!==!1&&(m[r]=g(r)),_.useEffect(()=>{if(r!==!1){const y=yU(r),b=Zr(a.current);return b.addEventListener(y,f),()=>{b.removeEventListener(y,f)}}},[f,r]),_.cloneElement(t,m)}function bU(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Hxe(e){const t=Zr(e);return t.body===e?ls(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Qg(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function wU(e){return parseInt(ls(e).getComputedStyle(e).paddingRight,10)||0}function Gxe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function SU(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,s=>{const a=!i.includes(s),c=!Gxe(s);a&&c&&Qg(s,o)})}function CO(e,t){let n=-1;return e.some((r,o)=>t(r)?(n=o,!0):!1),n}function Wxe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Hxe(r)){const s=bU(ls(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${wU(r)+s}px`;const a=Zr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${wU(c)+s}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Zr(r).body;else{const s=r.parentElement,a=ls(r);i=s?.nodeName==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:s,property:a})=>{i?s.style.setProperty(a,i):s.style.removeProperty(a)})}}function Kxe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class qxe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Qg(t.modalRef,!1);const o=Kxe(n);SU(n,t.mount,t.modalRef,o,!0);const i=CO(this.containers,s=>s.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:o}),r)}mount(t,n){const r=CO(this.containers,i=>i.modals.includes(t)),o=this.containers[r];o.restore||(o.restore=Wxe(o,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const o=CO(this.containers,s=>s.modals.includes(t)),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&Qg(t.modalRef,n),SU(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&Qg(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const Yxe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Xxe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Zxe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Qxe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Zxe(e))}function Jxe(e){const t=[],n=[];return Array.from(e.querySelectorAll(Yxe)).forEach((r,o)=>{const i=Xxe(r);i===-1||!Qxe(r)||(i===0?t.push(r):n.push({documentOrder:o,tabIndex:i,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(t)}function e_e(){return!0}function CU(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=Jxe,isEnabled:s=e_e,open:a}=e,c=_.useRef(!1),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),g=_.useRef(null),m=_.useRef(!1),y=_.useRef(null),b=Mn(Zc(t),y),v=_.useRef(null);_.useEffect(()=>{!a||!y.current||(m.current=!n)},[n,a]),_.useEffect(()=>{if(!a||!y.current)return;const T=Zr(y.current);return y.current.contains(T.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{o||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[a]),_.useEffect(()=>{if(!a||!y.current)return;const T=Zr(y.current),R=N=>{v.current=N,!(r||!s()||N.key!=="Tab")&&T.activeElement===y.current&&N.shiftKey&&(c.current=!0,h.current&&h.current.focus())},M=()=>{const N=y.current;if(N===null)return;if(!T.hasFocus()||!s()||c.current){c.current=!1;return}if(N.contains(T.activeElement)||r&&T.activeElement!==d.current&&T.activeElement!==h.current)return;if(T.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!m.current)return;let P=[];if((T.activeElement===d.current||T.activeElement===h.current)&&(P=i(y.current)),P.length>0){const L=!!(v.current?.shiftKey&&v.current?.key==="Tab"),A=P[0],$=P[P.length-1];typeof A!="string"&&typeof $!="string"&&(L?$.focus():A.focus())}else N.focus()};T.addEventListener("focusin",M),T.addEventListener("keydown",R,!0);const I=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(I),T.removeEventListener("focusin",M),T.removeEventListener("keydown",R,!0)}},[n,r,o,s,a,i]);const S=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0,g.current=T.target;const R=t.props.onFocus;R&&R(T)},E=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0};return x.jsxs(_.Fragment,{children:[x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:d,"data-testid":"sentinelStart"}),_.cloneElement(t,{ref:b,onFocus:S}),x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:h,"data-testid":"sentinelEnd"})]})}function t_e(e){return typeof e=="function"?e():e}function n_e(e){return e?e.props.hasOwnProperty("in"):!1}const xU=()=>{},pw=new qxe;function r_e(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:s,children:a,onClose:c,open:d,rootRef:h}=e,f=_.useRef({}),g=_.useRef(null),m=_.useRef(null),y=Mn(m,h),[b,v]=_.useState(!d),S=n_e(a);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const T=()=>Zr(g.current),R=()=>(f.current.modalRef=m.current,f.current.mount=g.current,f.current),M=()=>{pw.mount(R(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},I=Vt(()=>{const G=t_e(t)||T().body;pw.add(R(),G),m.current&&M()}),N=()=>pw.isTopModal(R()),P=Vt(G=>{g.current=G,G&&(d&&N()?M():m.current&&Qg(m.current,E))}),L=_.useCallback(()=>{pw.remove(R(),E)},[E]);_.useEffect(()=>()=>{L()},[L]),_.useEffect(()=>{d?I():(!S||!o)&&L()},[d,L,S,o,I]);const A=G=>V=>{G.onKeyDown?.(V),!(V.key!=="Escape"||V.which===229||!N())&&(n||(V.stopPropagation(),c&&c(V,"escapeKeyDown")))},$=G=>V=>{G.onClick?.(V),V.target===V.currentTarget&&c&&c(V,"backdropClick")};return{getRootProps:(G={})=>{const V=us(e);delete V.onTransitionEnter,delete V.onTransitionExited;const Y={...V,...G};return{role:"presentation",...Y,onKeyDown:A(Y),ref:y}},getBackdropProps:(G={})=>{const V=G;return{"aria-hidden":!0,...V,onClick:$(V),open:d}},getTransitionProps:()=>{const G=()=>{v(!1),i&&i()},V=()=>{v(!0),s&&s(),o&&L()};return{onEnter:x3(G,a?.props.onEnter??xU),onExited:x3(V,a?.props.onExited??xU)}},rootRef:y,portalRef:P,isTopModal:N,exited:b,hasTransition:S}}function o_e(e){return qt("MuiModal",e)}Gt("MuiModal",["root","hidden","backdrop"]);const i_e=e=>{const{open:t,exited:n,classes:r}=e;return ft({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},o_e,r)},s_e=be("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Ut(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),a_e=be(hw,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),gw=_.forwardRef(function(t,n){const r=rn({name:"MuiModal",props:t}),{BackdropComponent:o=a_e,BackdropProps:i,classes:s,className:a,closeAfterTransition:c=!1,children:d,container:h,component:f,components:g={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:v=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:R=!1,keepMounted:M=!1,onClose:I,onTransitionEnter:N,onTransitionExited:P,open:L,slotProps:A={},slots:$={},theme:B,...U}=r,K={...r,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:v,disablePortal:S,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:R,keepMounted:M},{getRootProps:G,getBackdropProps:V,getTransitionProps:Y,portalRef:Q,isTopModal:te,exited:z,hasTransition:W}=r_e({...K,rootRef:n}),Z={...K,exited:z},le=i_e(Z),ue={};if(d.props.tabIndex===void 0&&(ue.tabIndex="-1"),W){const{onEnter:he,onExited:pe}=Y();ue.onEnter=he,ue.onExited=pe}const ce={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...m,...A}},[se,ve]=ln("root",{ref:n,elementType:s_e,externalForwardedProps:{...ce,...U,component:f},getSlotProps:G,ownerState:Z,className:We(a,le?.root,!Z.open&&Z.exited&&le?.hidden)}),[Te,Se]=ln("backdrop",{ref:i?.ref,elementType:o,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:he=>V({...he,onClick:pe=>{he?.onClick&&he.onClick(pe)}}),className:We(i?.className,le?.backdrop),ownerState:Z});return!M&&!L&&(!W||z)?null:x.jsx(rU,{ref:Q,container:h,disablePortal:S,children:x.jsxs(se,{...ve,children:[!R&&o?x.jsx(Te,{...Se}):null,x.jsx(CU,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:E,isEnabled:te,open:L,children:_.cloneElement(d,ue)})]})})});function l_e(e){return qt("MuiDialog",e)}const xO=Gt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),_U=_.createContext({}),c_e=be(hw,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),u_e=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container",`scroll${Ge(n)}`],paper:["paper",`paperScroll${Ge(n)}`,`paperWidth${Ge(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return ft(s,l_e,t)},d_e=be(gw,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),h_e=be("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Ge(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),f_e=be(Md,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Ge(n.scroll)}`],t[`paperWidth${Ge(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Ut(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${xO.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${xO.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${xO.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_O=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiDialog"}),o=il(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:d,BackdropProps:h,children:f,className:g,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:b=!1,maxWidth:v="sm",onClick:S,onClose:E,open:T,PaperComponent:R=Md,PaperProps:M={},scroll:I="paper",slots:N={},slotProps:P={},TransitionComponent:L=Xg,transitionDuration:A=i,TransitionProps:$,...B}=r,U={...r,disableEscapeKeyDown:m,fullScreen:y,fullWidth:b,maxWidth:v,scroll:I},K=u_e(U),G=_.useRef(),V=_e=>{G.current=_e.target===_e.currentTarget},Y=_e=>{S&&S(_e),G.current&&(G.current=null,E&&E(_e,"backdropClick"))},Q=kn(a),te=_.useMemo(()=>({titleId:Q}),[Q]),z={transition:L,...N},W={transition:$,paper:M,backdrop:h,...P},Z={slots:z,slotProps:W},[le,ue]=ln("root",{elementType:d_e,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U,className:We(K.root,g),ref:n}),[ce,se]=ln("backdrop",{elementType:c_e,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U}),[ve,Te]=ln("paper",{elementType:f_e,shouldForwardComponentProp:!0,externalForwardedProps:Z,ownerState:U,className:We(K.paper,M.className)}),[Se,he]=ln("container",{elementType:h_e,externalForwardedProps:Z,ownerState:U,className:K.container}),[pe,we]=ln("transition",{elementType:Xg,externalForwardedProps:Z,ownerState:U,additionalProps:{appear:!0,in:T,timeout:A,role:"presentation"}});return x.jsx(le,{closeAfterTransition:!0,slots:{backdrop:ce},slotProps:{backdrop:{transitionDuration:A,as:d,...se}},disableEscapeKeyDown:m,onClose:E,open:T,onClick:Y,...ue,...B,children:x.jsx(pe,{...we,children:x.jsx(Se,{onMouseDown:V,...he,children:x.jsx(ve,{as:R,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":Q,"aria-modal":c,...Te,children:x.jsx(_U.Provider,{value:te,children:f})})})})})});function p_e(e){return qt("MuiDialogActions",e)}Gt("MuiDialogActions",["root","spacing"]);const g_e=e=>{const{classes:t,disableSpacing:n}=e;return ft({root:["root",!n&&"spacing"]},p_e,t)},m_e=be("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),EU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1,...s}=r,a={...r,disableSpacing:i},c=g_e(a);return x.jsx(m_e,{className:We(c.root,o),ownerState:a,ref:n,...s})});function v_e(e){return qt("MuiDialogContent",e)}Gt("MuiDialogContent",["root","dividers"]);function y_e(e){return qt("MuiDialogTitle",e)}const b_e=Gt("MuiDialogTitle",["root"]),w_e=e=>{const{classes:t,dividers:n}=e;return ft({root:["root",n&&"dividers"]},v_e,t)},S_e=be("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Ut(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${b_e.root} + &`]:{paddingTop:0}}}]}))),TU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiDialogContent"}),{className:o,dividers:i=!1,...s}=r,a={...r,dividers:i},c=w_e(a);return x.jsx(S_e,{className:We(c.root,o),ownerState:a,ref:n,...s})}),C_e=e=>{const{classes:t}=e;return ft({root:["root"]},y_e,t)},x_e=be(bo,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),__e=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiDialogTitle"}),{className:o,id:i,...s}=r,a=r,c=C_e(a),{titleId:d=i}=_.useContext(_U);return x.jsx(x_e,{component:"h2",className:We(c.root,o),ownerState:a,ref:n,variant:"h6",id:i??d,...s})});function E_e(e){return qt("MuiDivider",e)}const MU=Gt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),T_e=e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:c}=e;return ft({root:["root",t&&"absolute",c,i&&"light",s==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},E_e,r)},M_e=be("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(Ut(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),O_e=be("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(Ut(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Jg=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiDivider"}),{absolute:o=!1,children:i,className:s,orientation:a="horizontal",component:c=i||a==="vertical"?"div":"hr",flexItem:d=!1,light:h=!1,role:f=c!=="hr"?"separator":void 0,textAlign:g="center",variant:m="fullWidth",...y}=r,b={...r,absolute:o,component:c,flexItem:d,light:h,orientation:a,role:f,textAlign:g,variant:m},v=T_e(b);return x.jsx(M_e,{as:c,className:We(v.root,s),role:f,ref:n,ownerState:b,"aria-orientation":f==="separator"&&(c!=="hr"||a==="vertical")?a:void 0,...y,children:i?x.jsx(O_e,{className:v.wrapper,ownerState:b,children:i}):null})});Jg&&(Jg.muiSkipListHighlight=!0);function R_e(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=ls(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const d=i.getComputedStyle(t);s=d.getPropertyValue("-webkit-transform")||d.getPropertyValue("transform")}let a=0,c=0;if(s&&s!=="none"&&typeof s=="string"){const d=s.split("(")[1].split(")")[0].split(",");a=parseInt(d[4],10),c=parseInt(d[5],10)}return e==="left"?o?`translateX(${o.right+a-r.left}px)`:`translateX(${i.innerWidth+a-r.left}px)`:e==="right"?o?`translateX(-${r.right-o.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:e==="up"?o?`translateY(${o.bottom+c-r.top}px)`:`translateY(${i.innerHeight+c-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function I_e(e){return typeof e=="function"?e():e}function mw(e,t,n){const r=I_e(n),o=R_e(e,t,r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const P_e=_.forwardRef(function(t,n){const r=il(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:c,container:d,direction:h="down",easing:f=o,in:g,onEnter:m,onEntered:y,onEntering:b,onExit:v,onExited:S,onExiting:E,style:T,timeout:R=i,TransitionComponent:M=Us,...I}=t,N=_.useRef(null),P=Mn(Zc(c),N,n),L=Q=>te=>{Q&&(te===void 0?Q(N.current):Q(N.current,te))},A=L((Q,te)=>{mw(h,Q,d),tO(Q),m&&m(Q,te)}),$=L((Q,te)=>{const z=qc({timeout:R,style:T,easing:f},{mode:"enter"});Q.style.webkitTransition=r.transitions.create("-webkit-transform",{...z}),Q.style.transition=r.transitions.create("transform",{...z}),Q.style.webkitTransform="none",Q.style.transform="none",b&&b(Q,te)}),B=L(y),U=L(E),K=L(Q=>{const te=qc({timeout:R,style:T,easing:f},{mode:"exit"});Q.style.webkitTransition=r.transitions.create("-webkit-transform",te),Q.style.transition=r.transitions.create("transform",te),mw(h,Q,d),v&&v(Q)}),G=L(Q=>{Q.style.webkitTransition="",Q.style.transition="",S&&S(Q)}),V=Q=>{s&&s(N.current,Q)},Y=_.useCallback(()=>{N.current&&mw(h,N.current,d)},[h,d]);return _.useEffect(()=>{if(g||h==="down"||h==="right")return;const Q=Kc(()=>{N.current&&mw(h,N.current,d)}),te=ls(N.current);return te.addEventListener("resize",Q),()=>{Q.clear(),te.removeEventListener("resize",Q)}},[h,g,d]),_.useEffect(()=>{g||Y()},[g,Y]),x.jsx(M,{nodeRef:N,onEnter:A,onEntered:B,onEntering:$,onExit:K,onExited:G,onExiting:U,addEndListener:V,appear:a,in:g,timeout:R,...I,children:(Q,{ownerState:te,...z})=>_.cloneElement(c,{ref:P,style:{visibility:Q==="exited"&&!g?"hidden":void 0,...T,...c.props.style},...z})})}),k_e=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:o,size:i,hiddenLabel:s,multiline:a}=e,c={root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd",i==="small"&&`size${Ge(i)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},d=ft(c,Y0e,t);return{...t,...d}},D_e=be(uw,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...lw(e,t),!n.disableUnderline&&t.underline]}})(Ut(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${hs.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${hs.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hs.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hs.disabled}, .${hs.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${hs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Qr()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),A_e=be(dw,{name:"MuiFilledInput",slot:"Input",overridesResolver:cw})(Ut(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),EO=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,hiddenLabel:c,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:g={},type:m="text",...y}=r,b={...r,disableUnderline:o,fullWidth:a,inputComponent:d,multiline:h,type:m},v=k_e(r),S={root:{ownerState:b},input:{ownerState:b}},E=f??s?Ho(S,f??s):S,T=g.root??i.Root??D_e,R=g.input??i.Input??A_e;return x.jsx(Yg,{slots:{root:T,input:R},slotProps:E,fullWidth:a,inputComponent:d,multiline:h,ref:n,type:m,...y,classes:v})});EO.muiName="Input";function L_e(e){return qt("MuiFormControl",e)}Gt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const N_e=e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root",n!=="none"&&`margin${Ge(n)}`,r&&"fullWidth"]};return ft(o,L_e,t)},B_e=be("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Ge(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),vw=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:c=!1,error:d=!1,focused:h,fullWidth:f=!1,hiddenLabel:g=!1,margin:m="none",required:y=!1,size:b="medium",variant:v="outlined",...S}=r,E={...r,color:s,component:a,disabled:c,error:d,fullWidth:f,hiddenLabel:g,margin:m,required:y,size:b,variant:v},T=N_e(E),[R,M]=_.useState(()=>{let G=!1;return o&&_.Children.forEach(o,V=>{if(!Kb(V,["Input","Select"]))return;const Y=Kb(V,["Select"])?V.props.input:V;Y&&H0e(Y.props)&&(G=!0)}),G}),[I,N]=_.useState(()=>{let G=!1;return o&&_.Children.forEach(o,V=>{Kb(V,["Input","Select"])&&(aw(V.props,!0)||aw(V.props.inputProps,!0))&&(G=!0)}),G}),[P,L]=_.useState(!1);c&&P&&L(!1);const A=h!==void 0&&!c?h:P;let $;_.useRef(!1);const B=_.useCallback(()=>{N(!0)},[]),U=_.useCallback(()=>{N(!1)},[]),K=_.useMemo(()=>({adornedStart:R,setAdornedStart:M,color:s,disabled:c,error:d,filled:I,focused:A,fullWidth:f,hiddenLabel:g,size:b,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:U,onFilled:B,registerEffect:$,required:y,variant:v}),[R,s,c,d,I,A,f,g,$,U,B,y,b,v]);return x.jsx(sw.Provider,{value:K,children:x.jsx(B_e,{as:a,ownerState:E,className:We(T.root,i),ref:n,...S,children:o})})});function F_e(e){return qt("MuiFormControlLabel",e)}const hf=Gt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),j_e=e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,s={root:["root",n&&"disabled",`labelPlacement${Ge(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return ft(s,F_e,t)},V_e=be("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${hf.label}`]:t.label},t.root,t[`labelPlacement${Ge(n.labelPlacement)}`]]}})(Ut(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${hf.disabled}`]:{cursor:"default"},[`& .${hf.label}`]:{[`&.${hf.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),$_e=be("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Ut(({theme:e})=>({[`&.${hf.error}`]:{color:(e.vars||e).palette.error.main}}))),Zl=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormControlLabel"}),{checked:o,className:i,componentsProps:s={},control:a,disabled:c,disableTypography:d,inputRef:h,label:f,labelPlacement:g="end",name:m,onChange:y,required:b,slots:v={},slotProps:S={},value:E,...T}=r,R=Xl(),M=c??a.props.disabled??R?.disabled,I=b??a.props.required,N={disabled:M,required:I};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof a.props[G]>"u"&&typeof r[G]<"u"&&(N[G]=r[G])});const P=Id({props:r,muiFormControl:R,states:["error"]}),L={...r,disabled:M,labelPlacement:g,required:I,error:P.error},A=j_e(L),$={slots:v,slotProps:{...s,...S}},[B,U]=ln("typography",{elementType:bo,externalForwardedProps:$,ownerState:L});let K=f;return K!=null&&K.type!==bo&&!d&&(K=x.jsx(B,{component:"span",...U,className:We(A.label,U?.className),children:K})),x.jsxs(V_e,{className:We(A.root,i),ownerState:L,ref:n,...T,children:[_.cloneElement(a,N),I?x.jsxs("div",{children:[K,x.jsxs($_e,{ownerState:L,"aria-hidden":!0,className:A.asterisk,children:[" ","*"]})]}):K]})});function z_e(e){return qt("MuiFormHelperText",e)}const OU=Gt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var RU;const U_e=e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:c}=e,d={root:["root",o&&"disabled",i&&"error",r&&`size${Ge(r)}`,n&&"contained",a&&"focused",s&&"filled",c&&"required"]};return ft(d,z_e,t)},H_e=be("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Ge(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(Ut(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${OU.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${OU.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),G_e=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormHelperText"}),{children:o,className:i,component:s="p",disabled:a,error:c,filled:d,focused:h,margin:f,required:g,variant:m,...y}=r,b=Xl(),v=Id({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),S={...r,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete S.ownerState;const E=U_e(S);return x.jsx(H_e,{as:s,className:We(E.root,i),ref:n,...y,ownerState:S,children:o===" "?RU||(RU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):o})});function W_e(e){return qt("MuiFormLabel",e)}const em=Gt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),K_e=e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e,c={root:["root",`color${Ge(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return ft(c,W_e,t)},q_e=be("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(Ut(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{[`&.${em.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${em.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${em.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),Y_e=be("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ut(({theme:e})=>({[`&.${em.error}`]:{color:(e.vars||e).palette.error.main}}))),X_e=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiFormLabel"}),{children:o,className:i,color:s,component:a="label",disabled:c,error:d,filled:h,focused:f,required:g,...m}=r,y=Xl(),b=Id({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},S=K_e(v);return x.jsxs(q_e,{as:a,ownerState:v,className:We(S.root,i),ref:n,...m,children:[o,b.required&&x.jsxs(Y_e,{ownerState:v,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]})});function TO(e){return`scale(${e}, ${e**2})`}const Z_e={entering:{opacity:1,transform:TO(1)},entered:{opacity:1,transform:"none"}},MO=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tm=_.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:i,easing:s,in:a,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:g,onExiting:m,style:y,timeout:b="auto",TransitionComponent:v=Us,...S}=t,E=Vi(),T=_.useRef(),R=il(),M=_.useRef(null),I=Mn(M,Zc(i),n),N=G=>V=>{if(G){const Y=M.current;V===void 0?G(Y):G(Y,V)}},P=N(h),L=N((G,V)=>{tO(G);const{duration:Y,delay:Q,easing:te}=qc({style:y,timeout:b,easing:s},{mode:"enter"});let z;b==="auto"?(z=R.transitions.getAutoHeightDuration(G.clientHeight),T.current=z):z=Y,G.style.transition=[R.transitions.create("opacity",{duration:z,delay:Q}),R.transitions.create("transform",{duration:MO?z:z*.666,delay:Q,easing:te})].join(","),c&&c(G,V)}),A=N(d),$=N(m),B=N(G=>{const{duration:V,delay:Y,easing:Q}=qc({style:y,timeout:b,easing:s},{mode:"exit"});let te;b==="auto"?(te=R.transitions.getAutoHeightDuration(G.clientHeight),T.current=te):te=V,G.style.transition=[R.transitions.create("opacity",{duration:te,delay:Y}),R.transitions.create("transform",{duration:MO?te:te*.666,delay:MO?Y:Y||te*.333,easing:Q})].join(","),G.style.opacity=0,G.style.transform=TO(.75),f&&f(G)}),U=N(g),K=G=>{b==="auto"&&E.start(T.current||0,G),r&&r(M.current,G)};return x.jsx(v,{appear:o,in:a,nodeRef:M,onEnter:L,onEntered:A,onEntering:P,onExit:B,onExited:U,onExiting:$,addEndListener:K,timeout:b==="auto"?null:b,...S,children:(G,{ownerState:V,...Y})=>_.cloneElement(i,{style:{opacity:0,transform:TO(.75),visibility:G==="exited"&&!a?"hidden":void 0,...Z_e[G],...y,...i.props.style},ref:I,...Y})})});tm&&(tm.muiSupportAuto=!0);const Q_e=e=>{const{classes:t,disableUnderline:n}=e,o=ft({root:["root",!n&&"underline"],input:["input"]},K0e,t);return{...t,...o}},J_e=be(uw,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...lw(e,t),!n.disableUnderline&&t.underline]}})(Ut(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Qc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Qc.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Qc.disabled}, .${Qc.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Qc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Qr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),eEe=be(dw,{name:"MuiInput",slot:"Input",overridesResolver:cw})({}),OO=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,inputComponent:c="input",multiline:d=!1,slotProps:h,slots:f={},type:g="text",...m}=r,y=Q_e(r),v={root:{ownerState:{disableUnderline:o}}},S=h??s?Ho(h??s,v):v,E=f.root??i.Root??J_e,T=f.input??i.Input??eEe;return x.jsx(Yg,{slots:{root:E,input:T},slotProps:S,fullWidth:a,inputComponent:c,multiline:d,ref:n,type:g,...m,classes:y})});OO.muiName="Input";function tEe(e){return qt("MuiInputAdornment",e)}const RO=Gt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var IU;const nEe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ge(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},rEe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=e,a={root:["root",n&&"disablePointerEvents",o&&`position${Ge(o)}`,s,r&&"hiddenLabel",i&&`size${Ge(i)}`]};return ft(a,tEe,t)},oEe=be("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:nEe})(Ut(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${RO.positionStart}&:not(.${RO.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),iEe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:c=!1,position:d,variant:h,...f}=r,g=Xl()||{};let m=h;h&&g.variant,g&&!m&&(m=g.variant);const y={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:a,position:d,variant:m},b=rEe(y);return x.jsx(sw.Provider,{value:null,children:x.jsx(oEe,{as:s,ownerState:y,className:We(b.root,i),ref:n,...f,children:typeof o=="string"&&!c?x.jsx(bo,{color:"textSecondary",children:o}):x.jsxs(_.Fragment,{children:[d==="start"?IU||(IU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,o]})})})});function sEe(e){return qt("MuiInputLabel",e)}Gt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const aEe=e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=e,c={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&r!=="medium"&&`size${Ge(r)}`,s],asterisk:[a&&"asterisk"]},d=ft(c,sEe,t);return{...t,...d}},lEe=be(X_e,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${em.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Ut(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),PU=_.forwardRef(function(t,n){const r=rn({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,margin:i,shrink:s,variant:a,className:c,...d}=r,h=Xl();let f=s;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);const g=Id({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),m={...r,disableAnimation:o,formControl:h,shrink:f,size:g.size,variant:g.variant,required:g.required,focused:g.focused},y=aEe(m);return x.jsx(lEe,{"data-shrink":f,ref:n,className:We(y.root,c),...d,ownerState:m,classes:y})});function cEe(e){return qt("MuiLinearProgress",e)}Gt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const IO=4,PO=js`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,uEe=typeof PO!="string"?Hc`
        animation: ${PO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,kO=js`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,dEe=typeof kO!="string"?Hc`
        animation: ${kO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,DO=js`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,hEe=typeof DO!="string"?Hc`
        animation: ${DO} 3s infinite linear;
      `:null,fEe=e=>{const{classes:t,variant:n,color:r}=e,o={root:["root",`color${Ge(r)}`,n],dashed:["dashed",`dashedColor${Ge(r)}`],bar1:["bar","bar1",`barColor${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Ge(r)}`,n==="buffer"&&`color${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return ft(o,cEe,t)},AO=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),pEe=be("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Ge(n.color)}`],t[n.variant]]}})(Ut(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{backgroundColor:AO(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),gEe=be("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Ge(n.color)}`]]}})(Ut(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(Qr()).map(([t])=>{const n=AO(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),hEe||{animation:`${DO} 3s infinite linear`}),mEe=be("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(Ut(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${IO}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${IO}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:uEe||{animation:`${PO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),vEe=be("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(Ut(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:AO(e,t),transition:`transform .${IO}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:dEe||{animation:`${kO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),yEe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:s,valueBuffer:a,variant:c="indeterminate",...d}=r,h={...r,color:i,variant:c},f=fEe(h),g=Go(),m={},y={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){m["aria-valuenow"]=Math.round(s),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let b=s-100;g&&(b=-b),y.bar1.transform=`translateX(${b}%)`}if(c==="buffer"&&a!==void 0){let b=(a||0)-100;g&&(b=-b),y.bar2.transform=`translateX(${b}%)`}return x.jsxs(pEe,{className:We(f.root,o),ownerState:h,role:"progressbar",...m,ref:n,...d,children:[c==="buffer"?x.jsx(gEe,{className:f.dashed,ownerState:h}):null,x.jsx(mEe,{className:f.bar1,ownerState:h,style:y.bar1}),c==="determinate"?null:x.jsx(vEe,{className:f.bar2,ownerState:h,style:y.bar2})]})}),xa=_.createContext({});function bEe(e){return qt("MuiList",e)}Gt("MuiList",["root","padding","dense","subheader"]);const wEe=e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return ft({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},bEe,t)},SEe=be("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),kU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:d,...h}=r,f=_.useMemo(()=>({dense:a}),[a]),g={...r,component:s,dense:a,disablePadding:c},m=wEe(g);return x.jsx(xa.Provider,{value:f,children:x.jsxs(SEe,{as:s,className:We(m.root,i),ref:n,ownerState:g,...h,children:[d,o]})})});function CEe(e){return qt("MuiListItem",e)}Gt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function xEe(e){return qt("MuiListItemButton",e)}const ff=Gt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),_Ee=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},EEe=e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:i,divider:s,selected:a}=e,d=ft({root:["root",r&&"dense",!i&&"gutters",s&&"divider",o&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},xEe,n);return{...n,...d}},TEe=be(sl,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:_Ee})(Ut(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ff.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${ff.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${ff.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${ff.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ff.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),MEe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:s="div",children:a,dense:c=!1,disableGutters:d=!1,divider:h=!1,focusVisibleClassName:f,selected:g=!1,className:m,...y}=r,b=_.useContext(xa),v=_.useMemo(()=>({dense:c||b.dense||!1,alignItems:o,disableGutters:d}),[o,b.dense,c,d]),S=_.useRef(null);Hn(()=>{i&&S.current&&S.current.focus()},[i]);const E={...r,alignItems:o,dense:v.dense,disableGutters:d,divider:h,selected:g},T=EEe(E),R=Mn(S,n);return x.jsx(xa.Provider,{value:v,children:x.jsx(TEe,{ref:R,href:y.href||y.to,component:(y.href||y.to)&&s==="div"?"button":s,focusVisibleClassName:We(T.focusVisible,f),ownerState:E,className:We(T.root,m),...y,classes:T,children:a})})});function OEe(e){return qt("MuiListItemSecondaryAction",e)}Gt("MuiListItemSecondaryAction",["root","disableGutters"]);const REe=e=>{const{disableGutters:t,classes:n}=e;return ft({root:["root",t&&"disableGutters"]},OEe,n)},IEe=be("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),DU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemSecondaryAction"}),{className:o,...i}=r,s=_.useContext(xa),a={...r,disableGutters:s.disableGutters},c=REe(a);return x.jsx(IEe,{className:We(c.root,o),ownerState:a,ref:n,...i})});DU.muiName="ListItemSecondaryAction";const PEe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},kEe=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:o,disablePadding:i,divider:s,hasSecondaryAction:a}=e;return ft({root:["root",r&&"dense",!o&&"gutters",!i&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},CEe,n)},DEe=be("div",{name:"MuiListItem",slot:"Root",overridesResolver:PEe})(Ut(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${ff.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),AEe=be("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),LEe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItem"}),{alignItems:o="center",children:i,className:s,component:a,components:c={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f,...g}={},dense:m=!1,disableGutters:y=!1,disablePadding:b=!1,divider:v=!1,secondaryAction:S,slotProps:E={},slots:T={},...R}=r,M=_.useContext(xa),I=_.useMemo(()=>({dense:m||M.dense||!1,alignItems:o,disableGutters:y}),[o,M.dense,m,y]),N=_.useRef(null),P=_.Children.toArray(i),L=P.length&&Kb(P[P.length-1],["ListItemSecondaryAction"]),A={...r,alignItems:o,dense:I.dense,disableGutters:y,disablePadding:b,divider:v,hasSecondaryAction:L},$=kEe(A),B=Mn(N,n),U=T.root||c.Root||DEe,K=E.root||d.root||{},G={className:We($.root,K.className,s),...R};let V=a||"li";return L?(V=!G.component&&!a?"div":V,h==="li"&&(V==="li"?V="div":G.component==="li"&&(G.component="div")),x.jsx(xa.Provider,{value:I,children:x.jsxs(AEe,{as:h,className:We($.container,f),ref:B,ownerState:A,...g,children:[x.jsx(U,{...K,...!sf(U)&&{as:V,ownerState:{...A,...K.ownerState}},...G,children:P}),P.pop()]})})):x.jsx(xa.Provider,{value:I,children:x.jsxs(U,{...K,as:V,ref:B,...!sf(U)&&{ownerState:{...A,...K.ownerState}},...G,children:[P,S&&x.jsx(DU,{children:S})]})})});function NEe(e){return qt("MuiListItemIcon",e)}const AU=Gt("MuiListItemIcon",["root","alignItemsFlexStart"]),BEe=e=>{const{alignItems:t,classes:n}=e;return ft({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},NEe,n)},FEe=be("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Ut(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),yw=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemIcon"}),{className:o,...i}=r,s=_.useContext(xa),a={...r,alignItems:s.alignItems},c=BEe(a);return x.jsx(FEe,{className:We(c.root,o),ownerState:a,ref:n,...i})});function jEe(e){return qt("MuiListItemText",e)}const kd=Gt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),VEe=e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return ft({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},jEe,t)},$Ee=be("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${kd.primary}`]:t.primary},{[`& .${kd.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${k3.root}:where(& .${kd.primary})`]:{display:"block"},[`.${k3.root}:where(& .${kd.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),LU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:c,primaryTypographyProps:d,secondary:h,secondaryTypographyProps:f,slots:g={},slotProps:m={},...y}=r,{dense:b}=_.useContext(xa);let v=c??o,S=h;const E={...r,disableTypography:s,inset:a,primary:!!v,secondary:!!S,dense:b},T=VEe(E),R={slots:g,slotProps:{primary:d,secondary:f,...m}},[M,I]=ln("root",{className:We(T.root,i),elementType:$Ee,externalForwardedProps:{...R,...y},ownerState:E,ref:n}),[N,P]=ln("primary",{className:T.primary,elementType:bo,externalForwardedProps:R,ownerState:E}),[L,A]=ln("secondary",{className:T.secondary,elementType:bo,externalForwardedProps:R,ownerState:E});return v!=null&&v.type!==bo&&!s&&(v=x.jsx(N,{variant:b?"body2":"body1",component:P?.variant?void 0:"span",...P,children:v})),S!=null&&S.type!==bo&&!s&&(S=x.jsx(L,{variant:"body2",color:"textSecondary",...A,children:S})),x.jsxs(M,{...I,children:[v,S]})});function LO(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function NU(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function BU(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function nm(e,t,n,r,o,i){let s=!1,a=o(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!BU(a,i)||c)a=o(e,a,n);else return a.focus(),!0}return!1}const FU=_.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:h,variant:f="selectedMenu",...g}=t,m=_.useRef(null),y=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Hn(()=>{o&&m.current.focus()},[o]),_.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:R})=>{const M=!m.current.style.width;if(T.clientHeight<m.current.clientHeight&&M){const I=`${bU(ls(T))}px`;m.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=I,m.current.style.width=`calc(100% + ${I})`}return m.current}}),[]);const b=T=>{const R=m.current,M=T.key;if(T.ctrlKey||T.metaKey||T.altKey){h&&h(T);return}const N=Zr(R).activeElement;if(M==="ArrowDown")T.preventDefault(),nm(R,N,d,c,LO);else if(M==="ArrowUp")T.preventDefault(),nm(R,N,d,c,NU);else if(M==="Home")T.preventDefault(),nm(R,null,d,c,LO);else if(M==="End")T.preventDefault(),nm(R,null,d,c,NU);else if(M.length===1){const P=y.current,L=M.toLowerCase(),A=performance.now();P.keys.length>0&&(A-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&L!==P.keys[0]&&(P.repeating=!1)),P.lastTime=A,P.keys.push(L);const $=N&&!P.repeating&&BU(N,P);P.previousKeyMatched&&($||nm(R,N,!1,c,LO,P))?T.preventDefault():P.previousKeyMatched=!1}h&&h(T)},v=Mn(m,n);let S=-1;_.Children.forEach(s,(T,R)=>{if(!_.isValidElement(T)){S===R&&(S+=1,S>=s.length&&(S=-1));return}T.props.disabled||(f==="selectedMenu"&&T.props.selected||S===-1)&&(S=R),S===R&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(S+=1,S>=s.length&&(S=-1))});const E=_.Children.map(s,(T,R)=>{if(R===S){const M={};return i&&(M.autoFocus=!0),T.props.tabIndex===void 0&&f==="selectedMenu"&&(M.tabIndex=0),_.cloneElement(T,M)}return T});return x.jsx(kU,{role:"menu",ref:v,className:a,onKeyDown:b,tabIndex:o?0:-1,...g,children:E})});function zEe(e){return qt("MuiPopover",e)}Gt("MuiPopover",["root","paper"]);function jU(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function VU(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function $U(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function bw(e){return typeof e=="function"?e():e}const UEe=e=>{const{classes:t}=e;return ft({root:["root"],paper:["paper"]},zEe,t)},HEe=be(gw,{name:"MuiPopover",slot:"Root"})({}),zU=be(Md,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),GEe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:d,className:h,container:f,elevation:g=8,marginThreshold:m=16,open:y,PaperProps:b={},slots:v={},slotProps:S={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:R="auto",TransitionProps:M={},disableScrollLock:I=!1,...N}=r,P=_.useRef(),L={...r,anchorOrigin:s,anchorReference:c,elevation:g,marginThreshold:m,transformOrigin:E,TransitionComponent:T,transitionDuration:R,TransitionProps:M},A=UEe(L),$=_.useCallback(()=>{if(c==="anchorPosition")return a;const he=bw(i),we=(he&&he.nodeType===1?he:Zr(P.current).body).getBoundingClientRect();return{top:we.top+jU(we,s.vertical),left:we.left+VU(we,s.horizontal)}},[i,s.horizontal,s.vertical,a,c]),B=_.useCallback(he=>({vertical:jU(he,E.vertical),horizontal:VU(he,E.horizontal)}),[E.horizontal,E.vertical]),U=_.useCallback(he=>{const pe={width:he.offsetWidth,height:he.offsetHeight},we=B(pe);if(c==="none")return{top:null,left:null,transformOrigin:$U(we)};const _e=$();let De=_e.top-we.vertical,Ee=_e.left-we.horizontal;const Fe=De+pe.height,Je=Ee+pe.width,Be=ls(bw(i)),Ot=Be.innerHeight-m,dt=Be.innerWidth-m;if(m!==null&&De<m){const St=De-m;De-=St,we.vertical+=St}else if(m!==null&&Fe>Ot){const St=Fe-Ot;De-=St,we.vertical+=St}if(m!==null&&Ee<m){const St=Ee-m;Ee-=St,we.horizontal+=St}else if(Je>dt){const St=Je-dt;Ee-=St,we.horizontal+=St}return{top:`${Math.round(De)}px`,left:`${Math.round(Ee)}px`,transformOrigin:$U(we)}},[i,c,$,B,m]),[K,G]=_.useState(y),V=_.useCallback(()=>{const he=P.current;if(!he)return;const pe=U(he);pe.top!==null&&he.style.setProperty("top",pe.top),pe.left!==null&&(he.style.left=pe.left),he.style.transformOrigin=pe.transformOrigin,G(!0)},[U]);_.useEffect(()=>(I&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[i,I,V]);const Y=()=>{V()},Q=()=>{G(!1)};_.useEffect(()=>{y&&V()}),_.useImperativeHandle(o,()=>y?{updatePosition:()=>{V()}}:null,[y,V]),_.useEffect(()=>{if(!y)return;const he=Kc(()=>{V()}),pe=ls(bw(i));return pe.addEventListener("resize",he),()=>{he.clear(),pe.removeEventListener("resize",he)}},[i,y,V]);let te=R;const z={slots:{transition:T,...v},slotProps:{transition:M,paper:b,...S}},[W,Z]=ln("transition",{elementType:tm,externalForwardedProps:z,ownerState:L,getSlotProps:he=>({...he,onEntering:(pe,we)=>{he.onEntering?.(pe,we),Y()},onExited:pe=>{he.onExited?.(pe),Q()}}),additionalProps:{appear:!0,in:y}});R==="auto"&&!W.muiSupportAuto&&(te=void 0);const le=f||(i?Zr(bw(i)).body:void 0),[ue,{slots:ce,slotProps:se,...ve}]=ln("root",{ref:n,elementType:HEe,externalForwardedProps:{...z,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:_3(typeof S.backdrop=="function"?S.backdrop(L):S.backdrop,{invisible:!0})},container:le,open:y},ownerState:L,className:We(A.root,h)}),[Te,Se]=ln("paper",{ref:P,className:A.paper,elementType:zU,externalForwardedProps:z,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:K?void 0:{opacity:0}},ownerState:L});return x.jsx(ue,{...ve,...!sf(ue)&&{slots:ce,slotProps:se,disableScrollLock:I},children:x.jsx(W,{...Z,timeout:te,children:x.jsx(Te,{...Se,children:d})})})});function WEe(e){return qt("MuiMenu",e)}Gt("MuiMenu",["root","paper","list"]);const KEe={vertical:"top",horizontal:"right"},qEe={vertical:"top",horizontal:"left"},YEe=e=>{const{classes:t}=e;return ft({root:["root"],paper:["paper"],list:["list"]},WEe,t)},XEe=be(GEe,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),ZEe=be(zU,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),QEe=be(FU,{name:"MuiMenu",slot:"List"})({outline:0}),ww=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:s,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:y,...b}={},variant:v="selectedMenu",slots:S={},slotProps:E={},...T}=r,R=Go(),M={...r,autoFocus:o,disableAutoFocusItem:a,MenuListProps:c,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:b,variant:v},I=YEe(M),N=o&&!a&&h,P=_.useRef(null),L=(te,z)=>{P.current&&P.current.adjustStyleForScrollbar(te,{direction:R?"rtl":"ltr"}),y&&y(te,z)},A=te=>{te.key==="Tab"&&(te.preventDefault(),d&&d(te,"tabKeyDown"))};let $=-1;_.Children.map(i,(te,z)=>{_.isValidElement(te)&&(te.props.disabled||(v==="selectedMenu"&&te.props.selected||$===-1)&&($=z))});const B={slots:S,slotProps:{list:c,transition:b,paper:f,...E}},U=Wo({elementType:S.root,externalSlotProps:E.root,ownerState:M,className:[I.root,s]}),[K,G]=ln("paper",{className:I.paper,elementType:ZEe,externalForwardedProps:B,shouldForwardComponentProp:!0,ownerState:M}),[V,Y]=ln("list",{className:We(I.list,c.className),elementType:QEe,shouldForwardComponentProp:!0,externalForwardedProps:B,getSlotProps:te=>({...te,onKeyDown:z=>{A(z),te.onKeyDown?.(z)}}),ownerState:M}),Q=typeof B.slotProps.transition=="function"?B.slotProps.transition(M):B.slotProps.transition;return x.jsx(XEe,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?KEe:qEe,slots:{root:S.root,paper:K,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:U,paper:G,backdrop:typeof E.backdrop=="function"?E.backdrop(M):E.backdrop,transition:{...Q,onEntering:(...te)=>{L(...te),Q?.onEntering?.(...te)}}},open:h,ref:n,transitionDuration:m,ownerState:M,...T,classes:g,children:x.jsx(V,{actions:P,autoFocus:o&&($===-1||a),autoFocusItem:N,variant:v,...Y,children:i})})});function JEe(e){return qt("MuiMenuItem",e)}const rm=Gt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),e1e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},t1e=e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=e,c=ft({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},JEe,s);return{...s,...c}},n1e=be(sl,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:e1e})(Ut(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${rm.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${rm.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${rm.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${rm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${rm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${MU.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${MU.inset}`]:{marginLeft:52},[`& .${kd.root}`]:{marginTop:0,marginBottom:0},[`& .${kd.inset}`]:{paddingLeft:36},[`& .${AU.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${AU.root} svg`]:{fontSize:"1.25rem"}}}]}))),Hi=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:f,className:g,...m}=r,y=_.useContext(xa),b=_.useMemo(()=>({dense:s||y.dense||!1,disableGutters:c}),[y.dense,s,c]),v=_.useRef(null);Hn(()=>{o&&v.current&&v.current.focus()},[o]);const S={...r,dense:b.dense,divider:a,disableGutters:c},E=t1e(r),T=Mn(v,n);let R;return r.disabled||(R=f!==void 0?f:-1),x.jsx(xa.Provider,{value:b,children:x.jsx(n1e,{ref:T,role:h,tabIndex:R,component:i,focusVisibleClassName:We(E.focusVisible,d),className:We(E.root,g),...m,ownerState:S,classes:E})})});function r1e(e){return qt("MuiNativeSelect",e)}const NO=Gt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),o1e=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Ge(n)}`,i&&"iconOpen",r&&"disabled"]};return ft(a,r1e,t)},UU=be("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${NO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),i1e=be(UU,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:xi,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${NO.multiple}`]:t.multiple}]}})({}),HU=be("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${NO.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),s1e=be(HU,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ge(n.variant)}`],n.open&&t.iconOpen]}})({}),a1e=_.forwardRef(function(t,n){const{className:r,disabled:o,error:i,IconComponent:s,inputRef:a,variant:c="standard",...d}=t,h={...t,disabled:o,variant:c,error:i},f=o1e(h);return x.jsxs(_.Fragment,{children:[x.jsx(i1e,{ownerState:h,className:We(f.select,r),disabled:o,ref:a||n,...d}),t.multiple?null:x.jsx(s1e,{as:s,ownerState:h,className:f.icon})]})});var GU;const l1e=be("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:xi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),c1e=be("legend",{name:"MuiNotchedOutlined",shouldForwardProp:xi})(Ut(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function u1e(e){const{children:t,classes:n,className:r,label:o,notched:i,...s}=e,a=o!=null&&o!=="",c={...e,notched:i,withLabel:a};return x.jsx(l1e,{"aria-hidden":!0,className:r,ownerState:c,...s,children:x.jsx(c1e,{ownerState:c,children:a?x.jsx("span",{children:o}):GU||(GU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const d1e=e=>{const{classes:t}=e,r=ft({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},q0e,t);return{...t,...r}},h1e=be(uw,{shouldForwardProp:e=>xi(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:lw})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${qs.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${qs.focused} .${qs.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Qr()).map(([n])=>({props:{color:n},style:{[`&.${qs.focused} .${qs.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${qs.error} .${qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${qs.disabled} .${qs.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),f1e=be(u1e,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),p1e=be(dw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:cw})(Ut(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),BO=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:i=!1,inputComponent:s="input",label:a,multiline:c=!1,notched:d,slots:h={},slotProps:f={},type:g="text",...m}=r,y=d1e(r),b=Xl(),v=Id({props:r,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:b,fullWidth:i,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:g},E=h.root??o.Root??h1e,T=h.input??o.Input??p1e,[R,M]=ln("notchedOutline",{elementType:f1e,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:h,slotProps:f},additionalProps:{label:a!=null&&a!==""&&v.required?x.jsxs(_.Fragment,{children:[a," ","*"]}):a}});return x.jsx(Yg,{slots:{root:E,input:T},slotProps:f,renderSuffix:I=>x.jsx(R,{...M,notched:typeof d<"u"?d:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:i,inputComponent:s,multiline:c,ref:n,type:g,...m,classes:{...y,notchedOutline:null}})});BO.muiName="Input";const g1e=xt(x.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),m1e=xt(x.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function WU(e){return qt("MuiSelect",e)}const om=Gt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var KU;const v1e=be(UU,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${om.select}`]:t.select},{[`&.${om.select}`]:t[n.variant]},{[`&.${om.error}`]:t.error},{[`&.${om.multiple}`]:t.multiple}]}})({[`&.${om.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),y1e=be(HU,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ge(n.variant)}`],n.open&&t.iconOpen]}})({}),b1e=be("input",{shouldForwardProp:e=>C3(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function qU(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function w1e(e){return e==null||typeof e=="string"&&!e.trim()}const S1e=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Ge(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ft(a,WU,t)},C1e=_.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":o,autoFocus:i,autoWidth:s,children:a,className:c,defaultOpen:d,defaultValue:h,disabled:f,displayEmpty:g,error:m=!1,IconComponent:y,inputRef:b,labelId:v,MenuProps:S={},multiple:E,name:T,onBlur:R,onChange:M,onClose:I,onFocus:N,onOpen:P,open:L,readOnly:A,renderValue:$,required:B,SelectDisplayProps:U={},tabIndex:K,type:G,value:V,variant:Y="standard",...Q}=t,[te,z]=xd({controlled:V,default:h,name:"Select"}),[W,Z]=xd({controlled:L,default:d,name:"Select"}),le=_.useRef(null),ue=_.useRef(null),[ce,se]=_.useState(null),{current:ve}=_.useRef(L!=null),[Te,Se]=_.useState(),he=Mn(n,b),pe=_.useCallback(st=>{ue.current=st,st&&se(st)},[]),we=ce?.parentNode;_.useImperativeHandle(he,()=>({focus:()=>{ue.current.focus()},node:le.current,value:te}),[te]),_.useEffect(()=>{d&&W&&ce&&!ve&&(Se(s?null:we.clientWidth),ue.current.focus())},[ce,s]),_.useEffect(()=>{i&&ue.current.focus()},[i]),_.useEffect(()=>{if(!v)return;const st=Zr(ue.current).getElementById(v);if(st){const At=()=>{getSelection().isCollapsed&&ue.current.focus()};return st.addEventListener("click",At),()=>{st.removeEventListener("click",At)}}},[v]);const _e=(st,At)=>{st?P&&P(At):I&&I(At),ve||(Se(s?null:we.clientWidth),Z(st))},De=st=>{st.button===0&&(st.preventDefault(),ue.current.focus(),_e(!0,st))},Ee=st=>{_e(!1,st)},Fe=_.Children.toArray(a),Je=st=>{const At=Fe.find(pt=>pt.props.value===st.target.value);At!==void 0&&(z(At.props.value),M&&M(st,At))},Be=st=>At=>{let pt;if(At.currentTarget.hasAttribute("tabindex")){if(E){pt=Array.isArray(te)?te.slice():[];const Pt=te.indexOf(st.props.value);Pt===-1?pt.push(st.props.value):pt.splice(Pt,1)}else pt=st.props.value;if(st.props.onClick&&st.props.onClick(At),te!==pt&&(z(pt),M)){const Pt=At.nativeEvent||At,Dn=new Pt.constructor(Pt.type,Pt);Object.defineProperty(Dn,"target",{writable:!0,value:{value:pt,name:T}}),M(Dn,st)}E||_e(!1,At)}},Ot=st=>{A||[" ","ArrowUp","ArrowDown","Enter"].includes(st.key)&&(st.preventDefault(),_e(!0,st))},dt=ce!==null&&W,St=st=>{!dt&&R&&(Object.defineProperty(st,"target",{writable:!0,value:{value:te,name:T}}),R(st))};delete Q["aria-invalid"];let je,Rt;const mt=[];let Bt=!1;(aw({value:te})||g)&&($?je=$(te):Bt=!0);const It=Fe.map(st=>{if(!_.isValidElement(st))return null;let At;if(E){if(!Array.isArray(te))throw new Error(Wl(2));At=te.some(pt=>qU(pt,st.props.value)),At&&Bt&&mt.push(st.props.children)}else At=qU(te,st.props.value),At&&Bt&&(Rt=st.props.children);return _.cloneElement(st,{"aria-selected":At?"true":"false",onClick:Be(st),onKeyUp:pt=>{pt.key===" "&&pt.preventDefault(),st.props.onKeyUp&&st.props.onKeyUp(pt)},role:"option",selected:At,value:void 0,"data-value":st.props.value})});Bt&&(E?mt.length===0?je=null:je=mt.reduce((st,At,pt)=>(st.push(At),pt<mt.length-1&&st.push(", "),st),[]):je=Rt);let Xt=Te;!s&&ve&&ce&&(Xt=we.clientWidth);let Wt;typeof K<"u"?Wt=K:Wt=f?null:0;const ht=U.id||(T?`mui-component-select-${T}`:void 0),_t={...t,variant:Y,value:te,open:dt,error:m},He=S1e(_t),lt={...S.PaperProps,...typeof S.slotProps?.paper=="function"?S.slotProps.paper(_t):S.slotProps?.paper},ct={...S.MenuListProps,...typeof S.slotProps?.list=="function"?S.slotProps.list(_t):S.slotProps?.list},Ct=kn();return x.jsxs(_.Fragment,{children:[x.jsx(v1e,{as:"div",ref:pe,tabIndex:Wt,role:"combobox","aria-controls":dt?Ct:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":dt?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,ht].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":B?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:Ot,onMouseDown:f||A?null:De,onBlur:St,onFocus:N,...U,ownerState:_t,className:We(U.className,He.select,c),id:ht,children:w1e(je)?KU||(KU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):je}),x.jsx(b1e,{"aria-invalid":m,value:Array.isArray(te)?te.join(","):te,name:T,ref:le,"aria-hidden":!0,onChange:Je,tabIndex:-1,disabled:f,className:He.nativeInput,autoFocus:i,required:B,...Q,ownerState:_t}),x.jsx(y1e,{as:y,className:He.icon,ownerState:_t}),x.jsx(ww,{id:`menu-${T||""}`,anchorEl:we,open:dt,onClose:Ee,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:Ct,...ct},paper:{...lt,style:{minWidth:Xt,...lt!=null?lt.style:null}}},children:It})]})}),x1e=e=>{const{classes:t}=e,r=ft({root:["root"]},WU,t);return{...t,...r}},FO={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>xi(e)&&e!=="variant"},_1e=be(OO,FO)(""),E1e=be(BO,FO)(""),T1e=be(EO,FO)(""),Sw=_.forwardRef(function(t,n){const r=rn({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:h=cU,id:f,input:g,inputProps:m,label:y,labelId:b,MenuProps:v,multiple:S=!1,native:E=!1,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:N,variant:P="outlined",...L}=r,A=E?a1e:C1e,$=Xl(),B=Id({props:r,muiFormControl:$,states:["variant","error"]}),U=B.variant||P,K={...r,variant:U,classes:s},G=x1e(K),{root:V,...Y}=G,Q=g||{standard:x.jsx(_1e,{ownerState:K}),outlined:x.jsx(E1e,{label:y,ownerState:K}),filled:x.jsx(T1e,{ownerState:K})}[U],te=Mn(n,Zc(Q));return x.jsx(_.Fragment,{children:_.cloneElement(Q,{inputComponent:A,inputProps:{children:i,error:B.error,IconComponent:h,variant:U,type:void 0,multiple:S,...E?{id:f}:{autoWidth:o,defaultOpen:c,displayEmpty:d,labelId:b,MenuProps:v,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:{id:f,...N}},...m,classes:m?Ho(Y,m.classes):Y,...g?g.props.inputProps:{}},...(S&&E||d)&&U==="outlined"?{notched:!0}:{},ref:te,className:We(Q.props.className,a,G.root),...!g&&{variant:U},...L})})});Sw.muiName="Select";function M1e(e){return qt("MuiSkeleton",e)}Gt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const O1e=e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:s}=e;return ft({root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!s&&"heightAuto"]},M1e,t)},jO=js`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,VO=js`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,R1e=typeof jO!="string"?Hc`
        animation: ${jO} 2s ease-in-out 0.5s infinite;
      `:null,I1e=typeof VO!="string"?Hc`
        &::after {
          animation: ${VO} 2s linear 0.5s infinite;
        }
      `:null,P1e=be("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(Ut(({theme:e})=>{const t=sSe(e.shape.borderRadius)||"px",n=aSe(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:e.alpha(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:R1e||{animation:`${jO} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:I1e||{"&::after":{animation:`${VO} 2s linear 0.5s infinite`}}}]}})),k1e=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:s="span",height:a,style:c,variant:d="text",width:h,...f}=r,g={...r,animation:o,component:s,variant:d,hasChildren:!!f.children},m=O1e(g);return x.jsx(P1e,{as:s,ref:n,className:We(m.root,i),ownerState:g,...f,style:{width:h,height:a,...c}})});function D1e(e){return qt("MuiTooltip",e)}const ho=Gt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function A1e(e){return Math.round(e*1e5)/1e5}const L1e=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${Ge(i.split("-")[0])}`],arrow:["arrow"]};return ft(s,D1e,t)},N1e=be(qg,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(Ut(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${ho.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ho.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ho.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${ho.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${ho.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${ho.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${ho.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${ho.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),B1e=be("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Ge(n.placement.split("-")[0])}`]]}})(Ut(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${ho.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${ho.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${ho.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${ho.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${A1e(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${ho.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${ho.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${ho.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${ho.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${ho.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${ho.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${ho.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${ho.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${ho.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${ho.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),F1e=be("span",{name:"MuiTooltip",slot:"Arrow"})(Ut(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Cw=!1;const YU=new Zb;let im={x:0,y:0};function xw(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const On=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTooltip"}),{arrow:o=!1,children:i,classes:s,components:a={},componentsProps:c={},describeChild:d=!1,disableFocusListener:h=!1,disableHoverListener:f=!1,disableInteractive:g=!1,disableTouchListener:m=!1,enterDelay:y=100,enterNextDelay:b=0,enterTouchDelay:v=700,followCursor:S=!1,id:E,leaveDelay:T=0,leaveTouchDelay:R=1500,onClose:M,onOpen:I,open:N,placement:P="bottom",PopperComponent:L,PopperProps:A={},slotProps:$={},slots:B={},title:U,TransitionComponent:K,TransitionProps:G,...V}=r,Y=_.isValidElement(i)?i:x.jsx("span",{children:i}),Q=il(),te=Go(),[z,W]=_.useState(),[Z,le]=_.useState(null),ue=_.useRef(!1),ce=g||S,se=Vi(),ve=Vi(),Te=Vi(),Se=Vi(),[he,pe]=xd({controlled:N,default:!1,name:"Tooltip",state:"open"});let we=he;const _e=kn(E),De=_.useRef(),Ee=Vt(()=>{De.current!==void 0&&(document.body.style.WebkitUserSelect=De.current,De.current=void 0),Se.clear()});_.useEffect(()=>Ee,[Ee]);const Fe=on=>{YU.clear(),Cw=!0,pe(!0),I&&!we&&I(on)},Je=Vt(on=>{YU.start(800+T,()=>{Cw=!1}),pe(!1),M&&we&&M(on),se.start(Q.transitions.duration.shortest,()=>{ue.current=!1})}),Be=on=>{ue.current&&on.type!=="touchstart"||(z&&z.removeAttribute("title"),ve.clear(),Te.clear(),y||Cw&&b?ve.start(Cw?b:y,()=>{Fe(on)}):Fe(on))},Ot=on=>{ve.clear(),Te.start(T,()=>{Je(on)})},[,dt]=_.useState(!1),St=on=>{Jb(on.target)||(dt(!1),Ot(on))},je=on=>{z||W(on.currentTarget),Jb(on.target)&&(dt(!0),Be(on))},Rt=on=>{ue.current=!0;const Ln=Y.props;Ln.onTouchStart&&Ln.onTouchStart(on)},mt=on=>{Rt(on),Te.clear(),se.clear(),Ee(),De.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Se.start(v,()=>{document.body.style.WebkitUserSelect=De.current,Be(on)})},Bt=on=>{Y.props.onTouchEnd&&Y.props.onTouchEnd(on),Ee(),Te.start(R,()=>{Je(on)})};_.useEffect(()=>{if(!we)return;function on(Ln){Ln.key==="Escape"&&Je(Ln)}return document.addEventListener("keydown",on),()=>{document.removeEventListener("keydown",on)}},[Je,we]);const It=Mn(Zc(Y),W,n);!U&&U!==0&&(we=!1);const Xt=_.useRef(),Wt=on=>{const Ln=Y.props;Ln.onMouseMove&&Ln.onMouseMove(on),im={x:on.clientX,y:on.clientY},Xt.current&&Xt.current.update()},ht={},_t=typeof U=="string";d?(ht.title=!we&&_t&&!f?U:null,ht["aria-describedby"]=we?_e:null):(ht["aria-label"]=_t?U:null,ht["aria-labelledby"]=we&&!_t?_e:null);const He={...ht,...V,...Y.props,className:We(V.className,Y.props.className),onTouchStart:Rt,ref:It,...S?{onMouseMove:Wt}:{}},lt={};m||(He.onTouchStart=mt,He.onTouchEnd=Bt),f||(He.onMouseOver=xw(Be,He.onMouseOver),He.onMouseLeave=xw(Ot,He.onMouseLeave),ce||(lt.onMouseOver=Be,lt.onMouseLeave=Ot)),h||(He.onFocus=xw(je,He.onFocus),He.onBlur=xw(St,He.onBlur),ce||(lt.onFocus=je,lt.onBlur=St));const ct={...r,isRtl:te,arrow:o,disableInteractive:ce,placement:P,PopperComponentProp:L,touch:ue.current},Ct=typeof $.popper=="function"?$.popper(ct):$.popper,st=_.useMemo(()=>{let on=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return A.popperOptions?.modifiers&&(on=on.concat(A.popperOptions.modifiers)),Ct?.popperOptions?.modifiers&&(on=on.concat(Ct.popperOptions.modifiers)),{...A.popperOptions,...Ct?.popperOptions,modifiers:on}},[Z,A.popperOptions,Ct?.popperOptions]),At=L1e(ct),pt=typeof $.transition=="function"?$.transition(ct):$.transition,Pt={slots:{popper:a.Popper,transition:a.Transition??K,tooltip:a.Tooltip,arrow:a.Arrow,...B},slotProps:{arrow:$.arrow??c.arrow,popper:{...A,...Ct??c.popper},tooltip:$.tooltip??c.tooltip,transition:{...G,...pt??c.transition}}},[Dn,An]=ln("popper",{elementType:N1e,externalForwardedProps:Pt,ownerState:ct,className:We(At.popper,A?.className)}),[fr,Fn]=ln("transition",{elementType:tm,externalForwardedProps:Pt,ownerState:ct}),[Dr,er]=ln("tooltip",{elementType:B1e,className:At.tooltip,externalForwardedProps:Pt,ownerState:ct}),[jr,Vr]=ln("arrow",{elementType:F1e,className:At.arrow,externalForwardedProps:Pt,ownerState:ct,ref:le});return x.jsxs(_.Fragment,{children:[_.cloneElement(Y,He),x.jsx(Dn,{as:L??qg,placement:P,anchorEl:S?{getBoundingClientRect:()=>({top:im.y,left:im.x,right:im.x,bottom:im.y,width:0,height:0})}:z,popperRef:Xt,open:z?we:!1,id:_e,transition:!0,...lt,...An,popperOptions:st,children:({TransitionProps:on})=>x.jsx(fr,{timeout:Q.transitions.duration.shorter,...on,...Fn,children:x.jsxs(Dr,{...er,children:[U,o?x.jsx(jr,{...Vr}):null]})})})]})}),j1e=Owe({createStyledComponent:be("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>rn({props:e,name:"MuiStack"})});function V1e(e){return qt("MuiSwitch",e)}const _i=Gt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),$1e=e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:s}=e,a={root:["root",n&&`edge${Ge(n)}`,`size${Ge(r)}`],switchBase:["switchBase",`color${Ge(o)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ft(a,V1e,t);return{...t,...c}},z1e=be("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Ge(n.edge)}`],t[`size${Ge(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${_i.thumb}`]:{width:16,height:16},[`& .${_i.switchBase}`]:{padding:4,[`&.${_i.checked}`]:{transform:"translateX(16px)"}}}}]}),U1e=be(vU,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${_i.input}`]:t.input},n.color!=="default"&&t[`color${Ge(n.color)}`]]}})(Ut(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${_i.checked}`]:{transform:"translateX(20px)"},[`&.${_i.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${_i.checked} + .${_i.track}`]:{opacity:.5},[`&.${_i.disabled} + .${_i.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${_i.input}`]:{left:"-100%",width:"300%"}})),Ut(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Qr(["light"])).map(([t])=>({props:{color:t},style:{[`&.${_i.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_i.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${_i.checked} + .${_i.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),H1e=be("span",{name:"MuiSwitch",slot:"Track"})(Ut(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),G1e=be("span",{name:"MuiSwitch",slot:"Thumb"})(Ut(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),XU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiSwitch"}),{className:o,color:i="primary",edge:s=!1,size:a="medium",sx:c,slots:d={},slotProps:h={},...f}=r,g={...r,color:i,edge:s,size:a},m=$1e(g),y={slots:d,slotProps:h},[b,v]=ln("root",{className:We(m.root,o),elementType:z1e,externalForwardedProps:y,ownerState:g,additionalProps:{sx:c}}),[S,E]=ln("thumb",{className:m.thumb,elementType:G1e,externalForwardedProps:y,ownerState:g}),T=x.jsx(S,{...E}),[R,M]=ln("track",{className:m.track,elementType:H1e,externalForwardedProps:y,ownerState:g});return x.jsxs(b,{...v,children:[x.jsx(U1e,{type:"checkbox",icon:T,checkedIcon:T,ref:n,ownerState:g,...f,classes:{...m,root:m.switchBase},slots:{...d.switchBase&&{root:d.switchBase},...d.input&&{input:d.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(g):h.switchBase},input:{role:"switch"},...h.input&&{input:typeof h.input=="function"?h.input(g):h.input}}}),x.jsx(R,{...M})]})});function W1e(e){return qt("MuiTab",e)}const Ys=Gt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),K1e=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:c}=e,d={root:["root",i&&s&&"labelIcon",`textColor${Ge(n)}`,r&&"fullWidth",o&&"wrapped",a&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return ft(d,W1e,t)},q1e=be(sl,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ge(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Ys.iconWrapper}`]:t.iconWrapper},{[`& .${Ys.icon}`]:t.icon}]}})(Ut(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${Ys.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${Ys.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${Ys.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${Ys.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Ys.selected}`]:{opacity:1},[`&.${Ys.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ys.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Ys.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Ys.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Ys.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),$O=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:c,iconPosition:d="top",indicator:h,label:f,onChange:g,onClick:m,onFocus:y,selected:b,selectionFollowsFocus:v,textColor:S="inherit",value:E,wrapped:T=!1,...R}=r,M={...r,disabled:i,disableFocusRipple:s,selected:b,icon:!!c,iconPosition:d,label:!!f,fullWidth:a,textColor:S,wrapped:T},I=K1e(M),N=c&&f&&_.isValidElement(c)?_.cloneElement(c,{className:We(I.icon,c.props.className)}):c,P=A=>{!b&&g&&g(A,E),m&&m(A)},L=A=>{v&&!b&&g&&g(A,E),y&&y(A)};return x.jsxs(q1e,{focusRipple:!s,className:We(I.root,o),ref:n,role:"tab","aria-selected":b,disabled:i,onClick:P,onFocus:L,ownerState:M,tabIndex:b?0:-1,...R,children:[d==="top"||d==="start"?x.jsxs(_.Fragment,{children:[N,f]}):x.jsxs(_.Fragment,{children:[f,N]}),h]})}),Y1e=_.createContext(),X1e=_.createContext();function Z1e(e){return qt("MuiTableCell",e)}const Q1e=Gt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),J1e=e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Ge(r)}`,o!=="normal"&&`padding${Ge(o)}`,`size${Ge(i)}`]};return ft(a,Z1e,t)},eTe=be("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Ge(n.size)}`],n.padding!=="normal"&&t[`padding${Ge(n.padding)}`],n.align!=="inherit"&&t[`align${Ge(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(Ut(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Q1e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),zO=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:a,scope:c,size:d,sortDirection:h,variant:f,...g}=r,m=_.useContext(Y1e),y=_.useContext(X1e),b=y&&y.variant==="head";let v;s?v=s:v=b?"th":"td";let S=c;v==="td"?S=void 0:!S&&b&&(S="col");const E=f||y&&y.variant,T={...r,align:o,component:v,padding:a||(m&&m.padding?m.padding:"normal"),size:d||(m&&m.size?m.size:"medium"),sortDirection:h,stickyHeader:E==="head"&&m&&m.stickyHeader,variant:E},R=J1e(T);let M=null;return h&&(M=h==="asc"?"ascending":"descending"),x.jsx(eTe,{as:v,ref:n,className:We(R.root,i),"aria-sort":M,scope:S,ownerState:T,...g})});function tTe(e){return qt("MuiToolbar",e)}Gt("MuiToolbar",["root","gutters","regular","dense"]);const nTe=e=>{const{classes:t,disableGutters:n,variant:r}=e;return ft({root:["root",!n&&"gutters",r]},tTe,t)},rTe=be("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(Ut(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),ZU=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiToolbar"}),{className:o,component:i="div",disableGutters:s=!1,variant:a="regular",...c}=r,d={...r,component:i,disableGutters:s,variant:a},h=nTe(d);return x.jsx(rTe,{as:i,className:We(h.root,o),ref:n,ownerState:d,...c})}),QU=xt(x.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),JU=xt(x.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function oTe(e){return qt("MuiTablePaginationActions",e)}Gt("MuiTablePaginationActions",["root"]);const iTe=e=>{const{classes:t}=e;return ft({root:["root"]},oTe,t)},sTe=be("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),aTe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTablePaginationActions"}),{backIconButtonProps:o,className:i,count:s,disabled:a=!1,getItemAriaLabel:c,nextIconButtonProps:d,onPageChange:h,page:f,rowsPerPage:g,showFirstButton:m,showLastButton:y,slots:b={},slotProps:v={},...S}=r,E=Go(),R=iTe(r),M=ce=>{h(ce,0)},I=ce=>{h(ce,f-1)},N=ce=>{h(ce,f+1)},P=ce=>{h(ce,Math.max(0,Math.ceil(s/g)-1))},L=b.firstButton??Sn,A=b.lastButton??Sn,$=b.nextButton??Sn,B=b.previousButton??Sn,U=b.firstButtonIcon??g1e,K=b.lastButtonIcon??m1e,G=b.nextButtonIcon??JU,V=b.previousButtonIcon??QU,Y=E?A:L,Q=E?$:B,te=E?B:$,z=E?L:A,W=E?v.lastButton:v.firstButton,Z=E?v.nextButton:v.previousButton,le=E?v.previousButton:v.nextButton,ue=E?v.firstButton:v.lastButton;return x.jsxs(sTe,{ref:n,className:We(R.root,i),...S,children:[m&&x.jsx(Y,{onClick:M,disabled:a||f===0,"aria-label":c("first",f),title:c("first",f),...W,children:E?x.jsx(K,{...v.lastButtonIcon}):x.jsx(U,{...v.firstButtonIcon})}),x.jsx(Q,{onClick:I,disabled:a||f===0,color:"inherit","aria-label":c("previous",f),title:c("previous",f),...Z??o,children:E?x.jsx(G,{...v.nextButtonIcon}):x.jsx(V,{...v.previousButtonIcon})}),x.jsx(te,{onClick:N,disabled:a||(s!==-1?f>=Math.ceil(s/g)-1:!1),color:"inherit","aria-label":c("next",f),title:c("next",f),...le??d,children:E?x.jsx(V,{...v.previousButtonIcon}):x.jsx(G,{...v.nextButtonIcon})}),y&&x.jsx(z,{onClick:P,disabled:a||f>=Math.ceil(s/g)-1,"aria-label":c("last",f),title:c("last",f),...ue,children:E?x.jsx(U,{...v.firstButtonIcon}):x.jsx(K,{...v.lastButtonIcon})})]})});function lTe(e){return qt("MuiTablePagination",e)}const Dd=Gt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var eH;const cTe=be(zO,{name:"MuiTablePagination",slot:"Root"})(Ut(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),uTe=be(ZU,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${Dd.actions}`]:t.actions,...t.toolbar})})(Ut(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Dd.actions}`]:{flexShrink:0,marginLeft:20}}))),dTe=be("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),hTe=be("p",{name:"MuiTablePagination",slot:"SelectLabel"})(Ut(({theme:e})=>({...e.typography.body2,flexShrink:0}))),fTe=be(Sw,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${Dd.selectIcon}`]:t.selectIcon,[`& .${Dd.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Dd.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),pTe=be(Hi,{name:"MuiTablePagination",slot:"MenuItem"})({}),gTe=be("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(Ut(({theme:e})=>({...e.typography.body2,flexShrink:0})));function mTe({from:e,to:t,count:n}){return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`}function vTe(e){return`Go to ${e} page`}const yTe=e=>{const{classes:t}=e;return ft({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},lTe,t)},bTe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTablePagination"}),{ActionsComponent:o=aTe,backIconButtonProps:i,colSpan:s,component:a=zO,count:c,disabled:d=!1,getItemAriaLabel:h=vTe,labelDisplayedRows:f=mTe,labelRowsPerPage:g="Rows per page:",nextIconButtonProps:m,onPageChange:y,onRowsPerPageChange:b,page:v,rowsPerPage:S,rowsPerPageOptions:E=[10,25,50,100],SelectProps:T={},showFirstButton:R=!1,showLastButton:M=!1,slotProps:I={},slots:N={},...P}=r,L=r,A=yTe(L),$=I?.select??T,B=$.native?"option":pTe;let U;(a===zO||a==="td")&&(U=s||1e3);const K=kn($.id),G=kn($.labelId),V=()=>c===-1?(v+1)*S:S===-1?c:Math.min(c,(v+1)*S),Y={slots:N,slotProps:I},[Q,te]=ln("root",{ref:n,className:A.root,elementType:cTe,externalForwardedProps:{...Y,component:a,...P},ownerState:L,additionalProps:{colSpan:U}}),[z,W]=ln("toolbar",{className:A.toolbar,elementType:uTe,externalForwardedProps:Y,ownerState:L}),[Z,le]=ln("spacer",{className:A.spacer,elementType:dTe,externalForwardedProps:Y,ownerState:L}),[ue,ce]=ln("selectLabel",{className:A.selectLabel,elementType:hTe,externalForwardedProps:Y,ownerState:L,additionalProps:{id:G}}),[se,ve]=ln("select",{className:A.select,elementType:fTe,externalForwardedProps:Y,ownerState:L}),[Te,Se]=ln("menuItem",{className:A.menuItem,elementType:B,externalForwardedProps:Y,ownerState:L}),[he,pe]=ln("displayedRows",{className:A.displayedRows,elementType:gTe,externalForwardedProps:Y,ownerState:L});return x.jsx(Q,{...te,children:x.jsxs(z,{...W,children:[x.jsx(Z,{...le}),E.length>1&&x.jsx(ue,{...ce,children:g}),E.length>1&&x.jsx(se,{variant:"standard",...!$.variant&&{input:eH||(eH=x.jsx(Yg,{}))},value:S,onChange:b,id:K,labelId:G,...$,classes:{...$.classes,root:We(A.input,A.selectRoot,($.classes||{}).root),select:We(A.select,($.classes||{}).select),icon:We(A.selectIcon,($.classes||{}).icon)},disabled:d,...ve,children:E.map(we=>_.createElement(Te,{...Se,key:we.label?we.label:we,value:we.value?we.value:we},we.label?we.label:we))}),x.jsx(he,{...pe,children:f({from:c===0?0:v*S+1,to:V(),count:c===-1?-1:c,page:v})}),x.jsx(o,{className:A.actions,backIconButtonProps:i,count:c,nextIconButtonProps:m,onPageChange:y,page:v,rowsPerPage:S,showFirstButton:R,showLastButton:M,slotProps:I.actions,slots:N.actions,getItemAriaLabel:h,disabled:d})]})})});function wTe(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function STe(e,t,n,r={},o=()=>{}){const{ease:i=wTe,duration:s=300}=r;let a=null;const c=t[e];let d=!1;const h=()=>{d=!0},f=g=>{if(d){o(new Error("Animation cancelled"));return}a===null&&(a=g);const m=Math.min(1,(g-a)/s);if(t[e]=i(m)*(n-c)+c,m>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(f)};return c===n?(o(new Error("Element already at target position")),h):(requestAnimationFrame(f),h)}const CTe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function xTe(e){const{onChange:t,...n}=e,r=_.useRef(),o=_.useRef(null),i=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return Hn(()=>{const s=Kc(()=>{const c=r.current;i(),c!==r.current&&t(r.current)}),a=ls(o.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),_.useEffect(()=>{i(),t(r.current)},[t]),x.jsx("div",{style:CTe,...n,ref:o})}function _Te(e){return qt("MuiTabScrollButton",e)}const tH=Gt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ETe=e=>{const{classes:t,orientation:n,disabled:r}=e;return ft({root:["root",n,r&&"disabled"]},_Te,t)},TTe=be(sl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${tH.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),MTe=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTabScrollButton"}),{className:o,slots:i={},slotProps:s={},direction:a,orientation:c,disabled:d,...h}=r,f=Go(),g={isRtl:f,...r},m=ETe(g),y=i.StartScrollButtonIcon??QU,b=i.EndScrollButtonIcon??JU,v=Wo({elementType:y,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),S=Wo({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return x.jsx(TTe,{component:"div",className:We(m.root,o),ref:n,role:null,ownerState:g,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?x.jsx(y,{...v}):x.jsx(b,{...S})})});function OTe(e){return qt("MuiTabs",e)}const sm=Gt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),nH=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,rH=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,_w=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const i=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||i)o=n(e,o);else{o.focus();return}}},RTe=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:c}=e;return ft({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},OTe,c)},ITe=be("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${sm.scrollButtons}`]:t.scrollButtons},{[`& .${sm.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(Ut(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${sm.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),PTe=be("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),kTe=be("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),DTe=be("span",{name:"MuiTabs",slot:"Indicator"})(Ut(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),ATe=be(xTe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),oH={},iH=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTabs"}),o=il(),i=Go(),{"aria-label":s,"aria-labelledby":a,action:c,centered:d=!1,children:h,className:f,component:g="div",allowScrollButtonsMobile:m=!1,indicatorColor:y="primary",onChange:b,orientation:v="horizontal",ScrollButtonComponent:S,scrollButtons:E="auto",selectionFollowsFocus:T,slots:R={},slotProps:M={},TabIndicatorProps:I={},TabScrollButtonProps:N={},textColor:P="primary",value:L,variant:A="standard",visibleScrollbar:$=!1,...B}=r,U=A==="scrollable",K=v==="vertical",G=K?"scrollTop":"scrollLeft",V=K?"top":"left",Y=K?"bottom":"right",Q=K?"clientHeight":"clientWidth",te=K?"height":"width",z={...r,component:g,allowScrollButtonsMobile:m,indicatorColor:y,orientation:v,vertical:K,scrollButtons:E,textColor:P,variant:A,visibleScrollbar:$,fixed:!U,hideScrollbar:U&&!$,scrollableX:U&&!K,scrollableY:U&&K,centered:d&&!U,scrollButtonsHideMobile:!m},W=RTe(z),Z=Wo({elementType:R.StartScrollButtonIcon,externalSlotProps:M.startScrollButtonIcon,ownerState:z}),le=Wo({elementType:R.EndScrollButtonIcon,externalSlotProps:M.endScrollButtonIcon,ownerState:z}),[ue,ce]=_.useState(!1),[se,ve]=_.useState(oH),[Te,Se]=_.useState(!1),[he,pe]=_.useState(!1),[we,_e]=_.useState(!1),[De,Ee]=_.useState({overflow:"hidden",scrollbarWidth:0}),Fe=new Map,Je=_.useRef(null),Be=_.useRef(null),Ot={slots:R,slotProps:{indicator:I,scrollButton:N,...M}},dt=()=>{const Lt=Je.current;let $t;if(Lt){const en=Lt.getBoundingClientRect();$t={clientWidth:Lt.clientWidth,scrollLeft:Lt.scrollLeft,scrollTop:Lt.scrollTop,scrollWidth:Lt.scrollWidth,top:en.top,bottom:en.bottom,left:en.left,right:en.right}}let tn;if(Lt&&L!==!1){const en=Be.current.children;if(en.length>0){const En=en[Fe.get(L)];tn=En?En.getBoundingClientRect():null}}return{tabsMeta:$t,tabMeta:tn}},St=Vt(()=>{const{tabsMeta:Lt,tabMeta:$t}=dt();let tn=0,en;K?(en="top",$t&&Lt&&(tn=$t.top-Lt.top+Lt.scrollTop)):(en=i?"right":"left",$t&&Lt&&(tn=(i?-1:1)*($t[en]-Lt[en]+Lt.scrollLeft)));const En={[en]:tn,[te]:$t?$t[te]:0};if(typeof se[en]!="number"||typeof se[te]!="number")ve(En);else{const fo=Math.abs(se[en]-En[en]),jo=Math.abs(se[te]-En[te]);(fo>=1||jo>=1)&&ve(En)}}),je=(Lt,{animation:$t=!0}={})=>{$t?STe(G,Je.current,Lt,{duration:o.transitions.duration.standard}):Je.current[G]=Lt},Rt=Lt=>{let $t=Je.current[G];K?$t+=Lt:$t+=Lt*(i?-1:1),je($t)},mt=()=>{const Lt=Je.current[Q];let $t=0;const tn=Array.from(Be.current.children);for(let en=0;en<tn.length;en+=1){const En=tn[en];if($t+En[Q]>Lt){en===0&&($t=Lt);break}$t+=En[Q]}return $t},Bt=()=>{Rt(-1*mt())},It=()=>{Rt(mt())},[Xt,{onChange:Wt,...ht}]=ln("scrollbar",{className:We(W.scrollableX,W.hideScrollbar),elementType:ATe,shouldForwardComponentProp:!0,externalForwardedProps:Ot,ownerState:z}),_t=_.useCallback(Lt=>{Wt?.(Lt),Ee({overflow:null,scrollbarWidth:Lt})},[Wt]),[He,lt]=ln("scrollButtons",{className:We(W.scrollButtons,N.className),elementType:MTe,externalForwardedProps:Ot,ownerState:z,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Z,endScrollButtonIcon:le}}}),ct=()=>{const Lt={};Lt.scrollbarSizeListener=U?x.jsx(Xt,{...ht,onChange:_t}):null;const tn=U&&(E==="auto"&&(Te||he)||E===!0);return Lt.scrollButtonStart=tn?x.jsx(He,{direction:i?"right":"left",onClick:Bt,disabled:!Te,...lt}):null,Lt.scrollButtonEnd=tn?x.jsx(He,{direction:i?"left":"right",onClick:It,disabled:!he,...lt}):null,Lt},Ct=Vt(Lt=>{const{tabsMeta:$t,tabMeta:tn}=dt();if(!(!tn||!$t)){if(tn[V]<$t[V]){const en=$t[G]+(tn[V]-$t[V]);je(en,{animation:Lt})}else if(tn[Y]>$t[Y]){const en=$t[G]+(tn[Y]-$t[Y]);je(en,{animation:Lt})}}}),st=Vt(()=>{U&&E!==!1&&_e(!we)});_.useEffect(()=>{const Lt=Kc(()=>{Je.current&&St()});let $t;const tn=fo=>{fo.forEach(jo=>{jo.removedNodes.forEach(Xo=>{$t?.unobserve(Xo)}),jo.addedNodes.forEach(Xo=>{$t?.observe(Xo)})}),Lt(),st()},en=ls(Je.current);en.addEventListener("resize",Lt);let En;return typeof ResizeObserver<"u"&&($t=new ResizeObserver(Lt),Array.from(Be.current.children).forEach(fo=>{$t.observe(fo)})),typeof MutationObserver<"u"&&(En=new MutationObserver(tn),En.observe(Be.current,{childList:!0})),()=>{Lt.clear(),en.removeEventListener("resize",Lt),En?.disconnect(),$t?.disconnect()}},[St,st]),_.useEffect(()=>{const Lt=Array.from(Be.current.children),$t=Lt.length;if(typeof IntersectionObserver<"u"&&$t>0&&U&&E!==!1){const tn=Lt[0],en=Lt[$t-1],En={root:Je.current,threshold:.99},fo=Gr=>{Se(!Gr[0].isIntersecting)},jo=new IntersectionObserver(fo,En);jo.observe(tn);const Xo=Gr=>{pe(!Gr[0].isIntersecting)},Mi=new IntersectionObserver(Xo,En);return Mi.observe(en),()=>{jo.disconnect(),Mi.disconnect()}}},[U,E,we,h?.length]),_.useEffect(()=>{ce(!0)},[]),_.useEffect(()=>{St()}),_.useEffect(()=>{Ct(oH!==se)},[Ct,se]),_.useImperativeHandle(c,()=>({updateIndicator:St,updateScrollButtons:st}),[St,st]);const[At,pt]=ln("indicator",{className:We(W.indicator,I.className),elementType:DTe,externalForwardedProps:Ot,ownerState:z,additionalProps:{style:se}}),Pt=x.jsx(At,{...pt});let Dn=0;const An=_.Children.map(h,Lt=>{if(!_.isValidElement(Lt))return null;const $t=Lt.props.value===void 0?Dn:Lt.props.value;Fe.set($t,Dn);const tn=$t===L;return Dn+=1,_.cloneElement(Lt,{fullWidth:A==="fullWidth",indicator:tn&&!ue&&Pt,selected:tn,selectionFollowsFocus:T,onChange:b,textColor:P,value:$t,...Dn===1&&L===!1&&!Lt.props.tabIndex?{tabIndex:0}:{}})}),fr=Lt=>{if(Lt.altKey||Lt.shiftKey||Lt.ctrlKey||Lt.metaKey)return;const $t=Be.current,tn=Zr($t).activeElement;if(tn.getAttribute("role")!=="tab")return;let En=v==="horizontal"?"ArrowLeft":"ArrowUp",fo=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&i&&(En="ArrowRight",fo="ArrowLeft"),Lt.key){case En:Lt.preventDefault(),_w($t,tn,rH);break;case fo:Lt.preventDefault(),_w($t,tn,nH);break;case"Home":Lt.preventDefault(),_w($t,null,nH);break;case"End":Lt.preventDefault(),_w($t,null,rH);break}},Fn=ct(),[Dr,er]=ln("root",{ref:n,className:We(W.root,f),elementType:ITe,externalForwardedProps:{...Ot,...B,component:g},ownerState:z}),[jr,Vr]=ln("scroller",{ref:Je,className:W.scroller,elementType:PTe,externalForwardedProps:Ot,ownerState:z,additionalProps:{style:{overflow:De.overflow,[K?`margin${i?"Left":"Right"}`:"marginBottom"]:$?void 0:-De.scrollbarWidth}}}),[on,Ln]=ln("list",{ref:Be,className:We(W.list,W.flexContainer),elementType:kTe,externalForwardedProps:Ot,ownerState:z,getSlotProps:Lt=>({...Lt,onKeyDown:$t=>{fr($t),Lt.onKeyDown?.($t)}})});return x.jsxs(Dr,{...er,children:[Fn.scrollButtonStart,Fn.scrollbarSizeListener,x.jsxs(jr,{...Vr,children:[x.jsx(on,{"aria-label":s,"aria-labelledby":a,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...Ln,children:An}),ue&&Pt]}),Fn.scrollButtonEnd]})});function LTe(e){return qt("MuiTextField",e)}Gt("MuiTextField",["root"]);const NTe={standard:OO,filled:EO,outlined:BO},BTe=e=>{const{classes:t}=e;return ft({root:["root"]},LTe,t)},FTe=be(vw,{name:"MuiTextField",slot:"Root"})({}),ul=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:s,className:a,color:c="primary",defaultValue:d,disabled:h=!1,error:f=!1,FormHelperTextProps:g,fullWidth:m=!1,helperText:y,id:b,InputLabelProps:v,inputProps:S,InputProps:E,inputRef:T,label:R,maxRows:M,minRows:I,multiline:N=!1,name:P,onBlur:L,onChange:A,onFocus:$,placeholder:B,required:U=!1,rows:K,select:G=!1,SelectProps:V,slots:Y={},slotProps:Q={},type:te,value:z,variant:W="outlined",...Z}=r,le={...r,autoFocus:i,color:c,disabled:h,error:f,fullWidth:m,multiline:N,required:U,select:G,variant:W},ue=BTe(le),ce=kn(b),se=y&&ce?`${ce}-helper-text`:void 0,ve=R&&ce?`${ce}-label`:void 0,Te=NTe[W],Se={slots:Y,slotProps:{input:E,inputLabel:v,htmlInput:S,formHelperText:g,select:V,...Q}},he={},pe=Se.slotProps.inputLabel;W==="outlined"&&(pe&&typeof pe.shrink<"u"&&(he.notched=pe.shrink),he.label=R),G&&((!V||!V.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[we,_e]=ln("root",{elementType:FTe,shouldForwardComponentProp:!0,externalForwardedProps:{...Se,...Z},ownerState:le,className:We(ue.root,a),ref:n,additionalProps:{disabled:h,error:f,fullWidth:m,required:U,color:c,variant:W}}),[De,Ee]=ln("input",{elementType:Te,externalForwardedProps:Se,additionalProps:he,ownerState:le}),[Fe,Je]=ln("inputLabel",{elementType:PU,externalForwardedProps:Se,ownerState:le}),[Be,Ot]=ln("htmlInput",{elementType:"input",externalForwardedProps:Se,ownerState:le}),[dt,St]=ln("formHelperText",{elementType:G_e,externalForwardedProps:Se,ownerState:le}),[je,Rt]=ln("select",{elementType:Sw,externalForwardedProps:Se,ownerState:le}),mt=x.jsx(De,{"aria-describedby":se,autoComplete:o,autoFocus:i,defaultValue:d,fullWidth:m,multiline:N,name:P,rows:K,maxRows:M,minRows:I,type:te,value:z,id:ce,inputRef:T,onBlur:L,onChange:A,onFocus:$,placeholder:B,inputProps:Ot,slots:{input:Y.htmlInput?Be:void 0},...Ee});return x.jsxs(we,{..._e,children:[R!=null&&R!==""&&x.jsx(Fe,{htmlFor:ce,id:ve,...Je,children:R}),G?x.jsx(je,{"aria-describedby":se,id:ce,labelId:ve,value:z,input:mt,...Rt,children:s}):mt,y&&x.jsx(dt,{id:se,...St,children:y})]})});function jTe(e){return qt("MuiToggleButton",e)}const Ad=Gt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),sH=_.createContext({}),aH=_.createContext(void 0);function VTe(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const $Te=e=>{const{classes:t,fullWidth:n,selected:r,disabled:o,size:i,color:s}=e,a={root:["root",r&&"selected",o&&"disabled",n&&"fullWidth",`size${Ge(i)}`,s]};return ft(a,jTe,t)},zTe=be(sl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${Ge(n.size)}`]]}})(Ut(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Ad.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Ad.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(Qr()).map(([t])=>({props:{color:t},style:{[`&.${Ad.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),UO=_.forwardRef(function(t,n){const{value:r,...o}=_.useContext(sH),i=_.useContext(aH),s=Sd({...o,selected:VTe(t.value,r)},t),a=rn({props:s,name:"MuiToggleButton"}),{children:c,className:d,color:h="standard",disabled:f=!1,disableFocusRipple:g=!1,fullWidth:m=!1,onChange:y,onClick:b,selected:v,size:S="medium",value:E,...T}=a,R={...a,color:h,disabled:f,disableFocusRipple:g,fullWidth:m,size:S},M=$Te(R),I=P=>{b&&(b(P,E),P.defaultPrevented)||y&&y(P,E)},N=i||"";return x.jsx(zTe,{className:We(o.className,M.root,d,N),disabled:f,focusRipple:!g,ref:n,onClick:I,onChange:y,value:E,ownerState:R,"aria-pressed":v,...T,children:c})});function UTe(e){return qt("MuiToggleButtonGroup",e)}const Ur=Gt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),HTe=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:o}=e,i={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${Ge(n)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return ft(i,UTe,t)},GTe=be("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ur.grouped}`]:t.grouped},{[`& .${Ur.grouped}`]:t[`grouped${Ge(n.orientation)}`]},{[`& .${Ur.firstButton}`]:t.firstButton},{[`& .${Ur.lastButton}`]:t.lastButton},{[`& .${Ur.middleButton}`]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(Ut(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Ur.grouped}`]:{[`&.${Ur.selected} + .${Ur.grouped}.${Ur.selected}`]:{borderTop:0,marginTop:0}},[`& .${Ur.firstButton},& .${Ur.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Ur.lastButton},& .${Ur.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Ur.lastButton}.${Ad.disabled},& .${Ur.middleButton}.${Ad.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Ur.grouped}`]:{[`&.${Ur.selected} + .${Ur.grouped}.${Ur.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Ur.firstButton},& .${Ur.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Ur.lastButton},& .${Ur.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Ur.lastButton}.${Ad.disabled},& .${Ur.middleButton}.${Ad.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),lH=_.forwardRef(function(t,n){const r=rn({props:t,name:"MuiToggleButtonGroup"}),{children:o,className:i,color:s="standard",disabled:a=!1,exclusive:c=!1,fullWidth:d=!1,onChange:h,orientation:f="horizontal",size:g="medium",value:m,...y}=r,b={...r,disabled:a,fullWidth:d,orientation:f,size:g},v=HTe(b),S=_.useCallback((N,P)=>{if(!h)return;const L=m&&m.indexOf(P);let A;m&&L>=0?(A=m.slice(),A.splice(L,1)):A=m?m.concat(P):[P],h(N,A)},[h,m]),E=_.useCallback((N,P)=>{h&&h(N,m===P?null:P)},[h,m]),T=_.useMemo(()=>({className:v.grouped,onChange:c?E:S,value:m,size:g,fullWidth:d,color:s,disabled:a}),[v.grouped,c,E,S,m,g,d,s,a]),R=Oxe(o),M=R.length,I=N=>{const P=N===0,L=N===M-1;return P&&L?"":P?v.firstButton:L?v.lastButton:v.middleButton};return x.jsx(GTe,{role:"group",className:We(v.root,i),ref:n,ownerState:b,...y,children:x.jsx(sH.Provider,{value:T,children:R.map((N,P)=>x.jsx(aH.Provider,{value:I(P),children:N},P))})})}),WTe=Dt(jve)(({vm:e})=>x.jsxs(Hi,{onClick:e.onClick,children:[x.jsx(yw,{children:e.icon}),e.title]})),KTe=Dt(Vve)(({vm:e})=>{const t=iz();return x.jsx(ww,{ref:t,onContextMenu:xb,anchorReference:"anchorPosition",open:e.isOpen,onClose:e.onClose,anchorPosition:e.anchorPosition,children:e.menuItems.map((n,r)=>x.jsx(WTe,{m:n},r))})});class qTe extends Nt{constructor(){super(),this.loginValue="",this.passwordValue="",this.loginErrorText="",this.loginButtonDisabled=!1,this.onLoginValueChange=({target:t})=>{this.loginValue=t.value,this.loginErrorText=""},this.onPasswordValueChange=({target:t})=>{this.passwordValue=t.value,this.loginErrorText=""},this.onLoginButtonClick=()=>this.tryLogin(),vt(this,{loginButtonDisabled:Pe.ref,loginErrorText:Pe.ref,loginValue:Pe.ref,passwordValue:Pe.ref,onLoginValueChange:ye,onPasswordValueChange:ye,tryLogin:oo})}get isLoggingIn(){return this.m.isLoggingIn}*tryLogin(){try{yield this.m.login(this.loginValue,this.passwordValue)}catch(t){if(!(t instanceof Si))throw t;this.loginErrorText=t.message}}}const YTe=xt(x.jsx("path",{d:"M21 11h-1.5v-.5h-2v3h2V13H21v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zM8 10v5H6.5v-1.5h-2V15H3v-5c0-.55.45-1 1-1h3c.55 0 1 .45 1 1m-1.5.5h-2V12h2zm7 1.5c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1h-4V9h4c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M11 10.5v.75h2v-.75zm2 2.25h-2v.75h2z"})),XTe=xt(x.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),HO=xt(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),ZTe=xt(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"})),QTe=xt(x.jsx("path",{d:"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z"})),JTe=xt(x.jsx("path",{d:"M11.71 17.99C8.53 17.84 6 15.22 6 12c0-3.31 2.69-6 6-6 3.22 0 5.84 2.53 5.99 5.71l-2.1-.63C15.48 9.31 13.89 8 12 8c-2.21 0-4 1.79-4 4 0 1.89 1.31 3.48 3.08 3.89zM22 12c0 .3-.01.6-.04.9l-1.97-.59c.01-.1.01-.21.01-.31 0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8c.1 0 .21 0 .31-.01l.59 1.97c-.3.03-.6.04-.9.04-5.52 0-10-4.48-10-10S6.48 2 12 2s10 4.48 10 10m-3.77 4.26L22 15l-10-3 3 10 1.26-3.77 4.27 4.27 1.98-1.98z"})),cH=xt(x.jsx("path",{d:"m14 7-5 5 5 5z"})),uH=xt(x.jsx("path",{d:"m10 17 5-5-5-5z"})),eMe=xt(x.jsx("path",{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3z"})),dH=xt(x.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),tMe=xt(x.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),nMe=xt(x.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 4h2v5l-1-.75L9 9zm9 16H6V4h1v9l3-2.25L13 13V4h5z"})),rMe=xt(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Ew=xt(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),oMe=xt(x.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),iMe=xt(x.jsx("path",{d:"M20 4v12H8V4zm0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),sMe=xt(x.jsx("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"})),hH=xt(x.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"})),aMe=xt(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),lMe=xt([x.jsx("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),x.jsx("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"},"1")]),cMe=xt(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),uMe=xt(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),dMe=xt(x.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"})),fH=xt(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),hMe=xt(x.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"})),fMe=xt(x.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),pH=xt(x.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),pMe=xt(x.jsx("path",{d:"M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-4.05 16.5-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13z"})),gMe=xt(x.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),gH=xt(x.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12M5.21 10 10 5.21 14.79 10zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5M2 20h20v4H2z"})),mMe=xt(x.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),vMe=xt(x.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"})),yMe=xt(x.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"})),bMe=xt(x.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),mH=xt(x.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"})),wMe=xt(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"})),SMe=xt(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),CMe=xt(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),xMe=xt(x.jsx("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-1 2H5v-2h2zm0-3H5V8h2zm9 7H8v-2h8zm0-4h-2v-2h2zm0-3h-2V8h2zm3 3h-2v-2h2zm0-3h-2V8h2z"})),_Me=xt(x.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),EMe=xt(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),TMe=xt([x.jsx("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),x.jsx("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")]),MMe=xt([x.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),x.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")]),OMe=xt(x.jsx("path",{d:"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93M4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4zm7-13.93C7.05 1.56 4 4.92 4 9h7z"})),RMe=xt(x.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),IMe=xt(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),vH=xt(x.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"})),PMe=xt(x.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"})),kMe=xt(x.jsx("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-6-7 4V7z"})),DMe=xt(x.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),AMe=xt(x.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),LMe=xt(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"})),NMe=xt(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-2.5-3.5 7-4.5-7-4.5z"})),BMe=xt(x.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"})),FMe=xt(x.jsx("path",{d:"M2 4h20v16H2z"})),jMe=xt(x.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),VMe=xt(x.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),yH=xt(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),$Me=xt(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z"})),Tw=xt(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9z"})),zMe=xt(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9zM6 3h3v2H6zm3 18H6v-2h3zm0-8H6v-2h3zm10 0h-3v-2h3z"})),UMe=xt(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),HMe=xt([x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),x.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")]),GMe=xt(x.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),WMe=xt(x.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"})),KMe=xt(x.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),qMe=xt(x.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),YMe=xt(x.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})),bH=xt(x.jsx("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"})),XMe=xt(x.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H5V8h14z"})),ZMe=xt(x.jsx("path",{d:"m9 19 1.41-1.41L5.83 13H22v-2H5.83l4.59-4.59L9 5l-7 7z"})),QMe=Dt(qTe)(({vm:e,open:t})=>x.jsxs(_O,{open:t,fullWidth:!0,children:[x.jsx(TU,{children:x.jsxs(ri,{display:"flex",flexDirection:"column",gap:1,p:"5px",children:[x.jsx(ul,{disabled:e.isLoggingIn,value:e.loginValue,onChange:e.onLoginValueChange,error:!!e.loginErrorText,helperText:e.loginErrorText,label:"Логин",autoComplete:"off",fullWidth:!0}),x.jsx(ul,{disabled:e.isLoggingIn,value:e.passwordValue,onChange:e.onPasswordValueChange,label:"Пароль",type:"password",autoComplete:"off",fullWidth:!0})]})}),x.jsx(EU,{children:x.jsx(Ui,{disabled:e.loginButtonDisabled,onClick:e.onLoginButtonClick,loading:e.isLoggingIn,loadingPosition:"start",startIcon:x.jsx(GMe,{}),variant:"contained",fullWidth:!0,children:"Вход"})})]}));function wH(e){return lSe}function JMe(e){return qt("MuiSimpleTreeView",e)}Gt("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);const SH={};function CH(e,t){const n=_.useRef(SH);return n.current===SH&&(n.current=e(t)),n}var Mw=Symbol("NOT_FOUND");function eOe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function tOe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function nOe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var xH=e=>Array.isArray(e)?e:[e];function rOe(e){const t=Array.isArray(e[0])?e[0]:e;return nOe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function oOe(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}function iOe(e){let t;return{get(n){return t&&e(t.key,n)?t.value:Mw},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function sOe(e,t){let n=[];function r(a){const c=n.findIndex(d=>t(a,d.key));if(c>-1){const d=n[c];return c>0&&(n.splice(c,1),n.unshift(d)),d.value}return Mw}function o(a,c){r(a)===Mw&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function i(){return n}function s(){n=[]}return{get:r,put:o,getEntries:i,clear:s}}var aOe=(e,t)=>e===t;function lOe(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let i=0;i<o;i++)if(!e(n[i],r[i]))return!1;return!0}}function GO(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=aOe,maxSize:o=1,resultEqualityCheck:i}=n,s=lOe(r);let a=0;const c=o<=1?iOe(s):sOe(o,s);function d(){let h=c.get(arguments);if(h===Mw){if(h=e.apply(null,arguments),a++,i){const g=c.getEntries().find(m=>i(m.value,h));g&&(h=g.value,a!==0&&a--)}c.put(arguments,h)}return h}return d.clearCache=()=>{c.clear(),d.resetResultsCount()},d.resultsCount=()=>a,d.resetResultsCount=()=>{a=0},d}var cOe=class{constructor(e){this.value=e}deref(){return this.value}},uOe=typeof WeakRef<"u"?WeakRef:cOe,dOe=0,_H=1;function Ow(){return{s:dOe,v:void 0,o:null,p:null}}function EH(e,t={}){let n=Ow();const{resultEqualityCheck:r}=t;let o,i=0;function s(){let a=n;const{length:c}=arguments;for(let f=0,g=c;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const b=y.get(m);b===void 0?(a=Ow(),y.set(m,a)):a=b}else{let y=a.p;y===null&&(a.p=y=new Map);const b=y.get(m);b===void 0?(a=Ow(),y.set(m,a)):a=b}}const d=a;let h;if(a.s===_H)h=a.v;else if(h=e.apply(null,arguments),i++,r){const f=o?.deref?.()??o;f!=null&&r(f,h)&&(h=f,i!==0&&i--),o=typeof h=="object"&&h!==null||typeof h=="function"?new uOe(h):h}return d.s=_H,d.v=h,h}return s.clearCache=()=>{n=Ow(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function TH(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let i=0,s=0,a,c={},d=o.pop();typeof d=="object"&&(c=d,d=o.pop()),eOe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:f,memoizeOptions:g=[],argsMemoize:m=EH,argsMemoizeOptions:y=[]}=h,b=xH(g),v=xH(y),S=rOe(o),E=f(function(){return i++,d.apply(null,arguments)},...b),T=m(function(){s++;const M=oOe(S,arguments);return a=E.apply(null,M),a},...v);return Object.assign(T,{resultFunc:d,memoizedResultFunc:E,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var hOe=TH(EH),fOe=Object.assign((e,t=hOe)=>{tOe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((s,a,c)=>(s[n[c]]=a,s),{}))},{withTypes:()=>fOe});const pOe=TH({memoize:GO,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),Bn=(e,t,n,r,o,i,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&o&&i)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f),y=n(c,d,h,f),b=r(c,d,h,f),v=o(c,d,h,f);return i(g,m,y,b,v,d,h,f)};else if(e&&t&&n&&r&&o)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f),y=n(c,d,h,f),b=r(c,d,h,f);return o(g,m,y,b,d,h,f)};else if(e&&t&&n&&r)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f),y=n(c,d,h,f);return r(g,m,y,d,h,f)};else if(e&&t&&n)a=(c,d,h,f)=>{const g=e(c,d,h,f),m=t(c,d,h,f);return n(g,m,d,h,f)};else if(e&&t)a=(c,d,h,f)=>{const g=e(c,d,h,f);return t(g,d,h,f)};else if(e)a=e;else throw new Error("Missing arguments");return a},pf=(...e)=>{const t=new WeakMap;let n=1;const r=e[e.length-1],o=e.length-1||1,i=Math.max(r.length-o,0);if(i>3)throw new Error("Unsupported number of arguments");return(a,c,d,h)=>{let f=a.__cacheKey__;f||(f={id:n},a.__cacheKey__=f,n+=1);let g=t.get(f);if(!g){const m=e.length===1?[v=>v,r]:e;let y=e;const b=[void 0,void 0,void 0];switch(i){case 0:break;case 1:{y=[...m.slice(0,-1),()=>b[0],r];break}case 2:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],r];break}case 3:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],()=>b[2],r];break}default:throw new Error("Unsupported number of arguments")}g=pOe(...y),g.selectorArgs=b,t.set(f,g)}switch(i){case 3:g.selectorArgs[2]=h;case 2:g.selectorArgs[1]=d;case 1:g.selectorArgs[0]=c}switch(i){case 0:return g(a);case 1:return g(a,c);case 2:return g(a,c,d);case 3:return g(a,c,d,h);default:throw new Error("unreachable")}}};var WO={exports:{}},KO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MH;function gOe(){if(MH)return KO;MH=1;var e=pi(),t=Q$();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return KO.useSyncExternalStoreWithSelector=function(d,h,f,g,m){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function S(I){if(!E){if(E=!0,T=I,I=g(I),m!==void 0&&b.hasValue){var N=b.value;if(m(N,I))return R=N}return R=I}if(N=R,r(T,I))return N;var P=g(I);return m!==void 0&&m(N,P)?(T=I,N):(T=I,R=P)}var E=!1,T,R,M=f===void 0?null:f;return[function(){return S(h())},M===null?void 0:function(){return S(M())}]},[h,f,g,m]);var v=o(d,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},KO}var OH;function mOe(){return OH||(OH=1,WO.exports=gOe()),WO.exports}var vOe=mOe();function Yn(e,t,n,r,o){const i=s=>t(s,n,r,o);return vOe.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,i)}const yOe=()=>{};function Rw(e,t,n){const r=cs(bOe,{store:e,selector:t}).current;r.effect=n,Xb(r.onMount)}function bOe(e){const{store:t,selector:n}=e;let r=n(t.state);const o={effect:yOe,dispose:null,subscribe:()=>{o.dispose??=t.subscribe(i=>{const s=n(i);o.effect(r,s),r=s})},onMount:()=>(o.subscribe(),()=>{o.dispose?.(),o.dispose=null})};return o.subscribe(),o}class am{static create(t){return new am(t)}constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){this.state=t,this.updateTick+=1;const n=this.updateTick,r=this.listeners.values();let o;for(;o=r.next(),!o.done;){if(n!==this.updateTick)return;const i=o.value;i(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){this.setState(H({},this.state,t));return}}set(t,n){Object.is(this.state[t],n)||this.setState(H({},this.state,{[t]:n}))}}class RH{maxListeners=20;warnOnce=!1;events={};on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let s=o.length-1;s>=0;s-=1){const a=o[s];r.highPriority.has(a)&&a.apply(this,n)}for(let s=0;s<i.length;s+=1){const a=i[s];r.regular.has(a)&&a.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...i){r.removeListener(t,o),n.apply(r,i)})}}const wOe=e=>e.isPropagationStopped!==void 0,IH=()=>{const[e]=_.useState(()=>new RH),t=_.useCallback((...r)=>{const[o,i,s={}]=r;s.defaultMuiPrevented=!1,!(wOe(s)&&s.isPropagationStopped())&&e.emit(o,i,s)},[e]),n=_.useCallback((r,o)=>(e.on(r,o),()=>{e.removeListener(r,o)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};IH.params={};const PH=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};PH.params={};const lm={treeId:Bn(e=>e.id.treeId)};let kH=0;const SOe=()=>(kH+=1,`mui-tree-view-${kH}`),Iw=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,qO=({params:e,store:t})=>{_.useEffect(()=>{const r=t.state.id;e.id===r.providedTreeId&&r.treeId!==void 0||t.set("id",H({},r,{treeId:e.id??SOe()}))},[t,e.id]);const n=Yn(t,lm.treeId);return{getRootProps:()=>({id:n})}};qO.params={id:!0},qO.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const COe=[IH,PH,qO],xOe=["apiRef"],_Oe=e=>{let{props:{apiRef:t},plugins:n}=e,r=gt(e.props,xOe);const o=_.useMemo(()=>{const a={};return n.forEach(c=>{Object.assign(a,c.params)}),a},[n]),{forwardedProps:i,pluginParams:s}=_.useMemo(()=>{const a={},c={};Object.keys(r).forEach(h=>{const f=r[h];o[h]?a[h]=f:c[h]=f});const d=n.reduce((h,f)=>f.applyDefaultValuesToParams?f.applyDefaultValuesToParams({params:h}):h,a);return{forwardedProps:c,pluginParams:d}},[n,r,o]);return{forwardedProps:i,pluginParams:s,apiRef:t}},EOe=e=>{const{plugins:t,instance:n,publicAPI:r,store:o,rootRef:i}=e,s=_.useCallback(d=>{let h=null,f=null;const g=[],m={};t.forEach(v=>{if(!v.itemPlugin)return;const S=v.itemPlugin({props:d,rootRef:h,contentRef:f});S?.rootRef&&(h=S.rootRef),S?.contentRef&&(f=S.contentRef),S?.propsEnhancers&&(g.push(S.propsEnhancers),Object.keys(S.propsEnhancers).forEach(E=>{m[E]=!0}))});const y=v=>S=>{const E={};return g.forEach(T=>{const R=T[v];R!=null&&Object.assign(E,R(S))}),E},b=Object.fromEntries(Object.keys(m).map(v=>[v,y(v)]));return{contentRef:f,rootRef:h,propsEnhancers:b}},[t]),a=_.useCallback(({itemId:d,children:h,idAttribute:f})=>{let g=h;for(let m=t.length-1;m>=0;m-=1){const y=t[m];y.wrapItem&&(g=y.wrapItem({instance:n,itemId:d,children:g,idAttribute:f}))}return g},[t,n]),c=_.useCallback(({children:d})=>{let h=d;for(let f=t.length-1;f>=0;f-=1){const g=t[f];g.wrapRoot&&(h=g.wrapRoot({children:h}))}return h},[t]);return _.useMemo(()=>({runItemPlugins:s,wrapItem:a,wrapRoot:c,instance:n,publicAPI:r,store:o,rootRef:i}),[s,a,c,n,r,o,i])};function TOe(e){return e.current==null&&(e.current={}),e}function MOe(e){const t=_.useRef({});return e?TOe(e):t}const OOe=({plugins:e,rootRef:t,props:n})=>{const r=_.useMemo(()=>[...COe,...e],[e]),{pluginParams:o,forwardedProps:i,apiRef:s}=_Oe({plugins:r,props:n}),a=CH(()=>({})).current,c=MOe(s),d=_.useRef(null),h=Mn(d,t),f=CH(()=>{const v={};for(const S of r)S.getInitialState&&Object.assign(v,S.getInitialState(o));return new am(v)}).current,g=EOe({plugins:r,instance:a,publicAPI:c.current,store:f,rootRef:d}),m=[],y=v=>{const S=v({instance:a,params:o,rootRef:d,plugins:r,store:f});S.getRootProps&&m.push(S.getRootProps),S.publicAPI&&Object.assign(c.current,S.publicAPI),S.instance&&Object.assign(a,S.instance)};return r.forEach(y),{getRootProps:(v={})=>{const S=H({role:"tree"},i,v,{ref:h});return m.forEach(E=>{Object.assign(S,E(v))}),S},rootRef:h,contextValue:g}},DH=_.createContext(null),Ld=()=>{const e=_.useContext(DH);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},AH=_.createContext({classes:{},slots:{},slotProps:{}}),LH=()=>_.useContext(AH),YO={};function ROe(e){const{contextValue:t,classes:n=YO,slots:r=YO,slotProps:o=YO,children:i}=e,s=_.useMemo(()=>({classes:n,slots:{collapseIcon:r.collapseIcon,expandIcon:r.expandIcon,endIcon:r.endIcon},slotProps:{collapseIcon:o.collapseIcon,expandIcon:o.expandIcon,endIcon:o.endIcon}}),[n,r.collapseIcon,r.expandIcon,r.endIcon,o.collapseIcon,o.expandIcon,o.endIcon]);return x.jsx(DH.Provider,{value:t,children:x.jsx(AH.Provider,{value:s,children:t.wrapRoot({children:i})})})}const cm=(e,t,n)=>{e.$$publishEvent(t,n)},gf="__TREE_VIEW_ROOT_PARENT_ID__",NH=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},Pw=(e,t)=>{if(t==null)return!1;let n=e[t];if(!n)return!1;if(n.disabled)return!0;for(;n.parentId!=null;){if(n=e[n.parentId],!n)return!1;if(n.disabled)return!0}return!1},um=_.createContext(()=>-1),IOe=[],Jt={isLoading:Bn(e=>e.items.loading),error:Bn(e=>e.items.error),disabledItemFocusable:Bn(e=>e.items.disabledItemsFocusable),itemMetaLookup:Bn(e=>e.items.itemMetaLookup),itemMeta:Bn((e,t)=>e.items.itemMetaLookup[t??gf]??null),itemOrderedChildrenIds:Bn((e,t)=>e.items.itemOrderedChildrenIdsLookup[t??gf]??IOe),itemModel:Bn((e,t)=>e.items.itemModelLookup[t]),isItemDisabled:Bn((e,t)=>Pw(e.items.itemMetaLookup,t)),itemIndex:Bn((e,t)=>{const n=e.items.itemMetaLookup[t];return n==null?-1:e.items.itemChildrenIndexesLookup[n.parentId??gf][n.id]}),itemParentId:Bn((e,t)=>e.items.itemMetaLookup[t]?.parentId??null),itemDepth:Bn((e,t)=>e.items.itemMetaLookup[t]?.depth??0),canItemBeFocused:Bn((e,t)=>e.items.disabledItemsFocusable||!Pw(e.items.itemMetaLookup,t))},POe=(e,t,n)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(n[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},XO=({disabledItemsFocusable:e,items:t,isItemDisabled:n,getItemLabel:r,getItemChildren:o,getItemId:i,initialDepth:s=0,initialParentId:a=null,getChildrenCount:c,ignoreChildren:d=!1})=>{const h={},f={},g={[gf]:[]},m=(b,v,S)=>{const E=i?i(b):b.id;POe(E,b,h);const T=r?r(b):b.label;if(T==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(b)].join(`
`));const R=o?o(b):b.children;h[E]={id:E,label:T,parentId:S,idAttribute:void 0,expandable:c?c(b)>0:!!R?.length,disabled:n?n(b):!1,depth:v},f[E]=b;const M=S??gf;g[M]||(g[M]=[]),g[M].push(E),d||R?.forEach(I=>m(I,v+1,E))};t?.forEach(b=>m(b,s,a));const y={};return Object.keys(g).forEach(b=>{y[b]=NH(g[b])}),{disabledItemsFocusable:e,itemMetaLookup:h,itemModelLookup:f,itemOrderedChildrenIdsLookup:g,itemChildrenIndexesLookup:y}},dm=({instance:e,params:t,store:n})=>{const r=_.useCallback(S=>Jt.itemModel(n.state,S),[n]),o=_.useCallback(S=>Jt.itemMeta(n.state,S)?.parentId||null,[n]),i=Vt(S=>{n.set("items",H({},n.state.items,{loading:S}))}),s=Vt(S=>{n.set("items",H({},n.state.items,{error:S}))}),a=Vt(({itemId:S,shouldBeDisabled:E})=>{if(!n.state.items.itemMetaLookup[S])return;const T=H({},n.state.items.itemMetaLookup);T[S]=H({},T[S],{disabled:E??!T[S].disabled}),n.set("items",H({},n.state.items,{itemMetaLookup:T}))}),c=_.useCallback(()=>{const S=E=>{const T=Jt.itemModel(n.state,E),R=H({},T),M=Jt.itemOrderedChildrenIds(n.state,E);return M.length>0?R.children=M.map(S):delete R.children,R};return Jt.itemOrderedChildrenIds(n.state,null).map(S)},[n]),d=_.useCallback(S=>Jt.itemOrderedChildrenIds(n.state,S),[n]),h=S=>{const E=Jt.itemMeta(n.state,S);if(E==null)return null;const T=Iw({treeId:lm.treeId(n.state),itemId:S,id:E.idAttribute});return document.getElementById(T)},f=_.useRef(!1),g=_.useCallback(()=>{f.current=!0},[]),m=_.useCallback(()=>f.current,[]),y=({items:S,parentId:E,depth:T,getChildrenCount:R})=>{if(S){const M=XO({disabledItemsFocusable:t.disabledItemsFocusable,items:S,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:R,initialDepth:T,initialParentId:E,ignoreChildren:!0});let I;E?I={itemModelLookup:H({},n.state.items.itemModelLookup,M.itemModelLookup),itemMetaLookup:H({},n.state.items.itemMetaLookup,M.itemMetaLookup),itemOrderedChildrenIdsLookup:H({},M.itemOrderedChildrenIdsLookup,n.state.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:H({},M.itemChildrenIndexesLookup,n.state.items.itemChildrenIndexesLookup)}:I={itemModelLookup:M.itemModelLookup,itemMetaLookup:M.itemMetaLookup,itemOrderedChildrenIdsLookup:M.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:M.itemChildrenIndexesLookup},Object.values(n.state.items.itemMetaLookup).forEach(N=>{I.itemMetaLookup[N.id]||cm(e,"removeItem",{id:N.id})}),n.set("items",H({},n.state.items,I))}},b=S=>{if(S==null)n.set("items",H({},n.state.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}}));else{const E=Object.keys(n.state.items.itemMetaLookup).reduce((M,I)=>{const N=n.state.items.itemMetaLookup[I];return N.parentId===S?(cm(e,"removeItem",{id:N.id}),M):H({},M,{[N.id]:N})},{}),T=H({},n.state.items.itemOrderedChildrenIdsLookup),R=H({},n.state.items.itemChildrenIndexesLookup);delete R[S],delete T[S],n.set("items",H({},n.state.items,{itemMetaLookup:E,itemOrderedChildrenIdsLookup:T,itemChildrenIndexesLookup:R}))}};_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const S=XO({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});Object.values(n.state.items.itemMetaLookup).forEach(E=>{S.itemMetaLookup[E.id]||cm(e,"removeItem",{id:E.id})}),n.set("items",H({},n.state.items,S))},[e,n,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const v=Vt((S,E)=>{t.onItemClick&&t.onItemClick(S,E)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:r,getItemDOMElement:h,getItemTree:c,getItemOrderedChildrenIds:d,setIsItemDisabled:a,getParentId:o},instance:{getItemDOMElement:h,preventItemUpdates:g,areItemUpdatesPrevented:m,addItems:y,setTreeViewLoading:i,setTreeViewError:s,removeChildren:b,handleItemClick:v}}};dm.getInitialState=e=>({items:H({},XO({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})}),dm.applyDefaultValuesToParams=({params:e})=>H({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"}),dm.wrapRoot=({children:e})=>x.jsx(um.Provider,{value:Jt.itemDepth,children:e}),dm.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const BH=()=>{},FH=pf(e=>e.expansion.expandedItems,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),wo={expandedItemsRaw:Bn(e=>e.expansion.expandedItems),expandedItemsMap:FH,triggerSlot:Bn(e=>e.expansion.expansionTrigger),isItemExpanded:Bn(FH,(e,t)=>e.has(t)),isItemExpandable:Bn(Jt.itemMeta,(e,t)=>e?.expandable??!1)},jH=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),kw=({instance:e,store:t,params:n})=>{BH({controlled:n.expandedItems,defaultValue:n.defaultExpandedItems}),Hn(()=>{const d=jH({isItemEditable:n.isItemEditable,expansionTrigger:n.expansionTrigger});t.state.expansion.expansionTrigger!==d&&t.set("expansion",H({},t.state.expansion,{expansionTrigger:d}))},[t,n.isItemEditable,n.expansionTrigger]);const r=(d,h)=>{n.expandedItems===void 0&&t.set("expansion",H({},t.state.expansion,{expandedItems:h})),n.onExpandedItemsChange?.(d,h)},o=Vt(()=>{r(null,[])}),i=Vt(({itemId:d,event:h,shouldBeExpanded:f})=>{const g=wo.expandedItemsRaw(t.state);let m;f?m=[d].concat(g):m=g.filter(y=>y!==d),n.onItemExpansionToggle&&n.onItemExpansionToggle(h,d,f),r(h,m)}),s=Vt(({itemId:d,event:h=null,shouldBeExpanded:f})=>{const g=wo.isItemExpanded(t.state,d),m=f??!g;if(g===m)return;const y={isExpansionPrevented:!1,shouldBeExpanded:m,event:h,itemId:d};cm(e,"beforeItemToggleExpansion",y),!y.isExpansionPrevented&&e.applyItemExpansion({itemId:d,event:h,shouldBeExpanded:m})}),a=Vt(d=>wo.isItemExpandable(t.state,d)),c=(d,h)=>{const f=Jt.itemMeta(t.state,h);if(f==null)return;const m=Jt.itemOrderedChildrenIds(t.state,f.parentId).filter(b=>wo.isItemExpandable(t.state,b)&&!wo.isItemExpanded(t.state,b)),y=wo.expandedItemsRaw(t.state).concat(m);m.length>0&&(n.onItemExpansionToggle&&m.forEach(b=>{n.onItemExpansionToggle(d,b,!0)}),r(d,y))};return Hn(()=>{const d=n.expandedItems;d!==void 0&&t.set("expansion",H({},t.state.expansion,{expandedItems:d}))},[t,n.expandedItems]),{publicAPI:{setItemExpansion:s,isItemExpanded:a},instance:{setItemExpansion:s,applyItemExpansion:i,expandAllSiblings:c,resetItemExpansion:o}}},kOe=[];kw.applyDefaultValuesToParams=({params:e})=>H({},e,{defaultExpandedItems:e.defaultExpandedItems??kOe}),kw.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:jH(e)}}),kw.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const ZO=(e,t)=>{let n=t.length-1;for(;n>=0&&!Jt.canItemBeFocused(e,t[n]);)n-=1;if(n!==-1)return t[n]},VH=(e,t)=>{const n=Jt.itemMeta(e,t);if(!n)return null;const r=Jt.itemOrderedChildrenIds(e,n.parentId),o=Jt.itemIndex(e,t);if(o===0)return n.parentId;let i=o-1;for(;!Jt.canItemBeFocused(e,r[i])&&i>=0;)i-=1;if(i===-1)return n.parentId==null?null:VH(e,n.parentId);let s=r[i],a=ZO(e,Jt.itemOrderedChildrenIds(e,s));for(;wo.isItemExpanded(e,s)&&a!=null;)s=a,a=ZO(e,Jt.itemOrderedChildrenIds(e,s));return s},Dw=(e,t)=>{if(wo.isItemExpanded(e,t)){const r=Jt.itemOrderedChildrenIds(e,t).find(o=>Jt.canItemBeFocused(e,o));if(r!=null)return r}let n=Jt.itemMeta(e,t);for(;n!=null;){const r=Jt.itemOrderedChildrenIds(e,n.parentId),o=Jt.itemIndex(e,n.id);if(o<r.length-1){let i=o+1;for(;!Jt.canItemBeFocused(e,r[i])&&i<r.length-1;)i+=1;if(Jt.canItemBeFocused(e,r[i]))return r[i]}n=Jt.itemMeta(e,n.parentId)}return null},$H=e=>{let t=null;for(;t==null||wo.isItemExpanded(e,t);){const n=Jt.itemOrderedChildrenIds(e,t),r=ZO(e,n);if(r==null)return t;t=r}return t},Aw=e=>Jt.itemOrderedChildrenIds(e,null).find(t=>Jt.canItemBeFocused(e,t)),zH=(e,t,n)=>{if(t===n)return[t,n];const r=Jt.itemMeta(e,t),o=Jt.itemMeta(e,n);if(!r||!o)return[t,n];if(r.parentId===o.id||o.parentId===r.id)return o.parentId===r.id?[r.id,o.id]:[o.id,r.id];const i=[r.id],s=[o.id];let a=r.parentId,c=o.parentId,d=s.indexOf(a)!==-1,h=i.indexOf(c)!==-1,f=!0,g=!0;for(;!h&&!d;)f&&(i.push(a),d=s.indexOf(a)!==-1,f=a!==null,!d&&f&&(a=Jt.itemParentId(e,a))),g&&!d&&(s.push(c),h=i.indexOf(c)!==-1,g=c!==null,!h&&g&&(c=Jt.itemParentId(e,c)));const m=d?a:c,y=Jt.itemOrderedChildrenIds(e,m),b=i[i.indexOf(m)-1],v=s[s.indexOf(m)-1];return y.indexOf(b)<y.indexOf(v)?[t,n]:[n,t]},DOe=(e,t,n)=>{const r=c=>{if(wo.isItemExpandable(e,c)&&wo.isItemExpanded(e,c))return Jt.itemOrderedChildrenIds(e,c)[0];let d=Jt.itemMeta(e,c);for(;d!=null;){const h=Jt.itemOrderedChildrenIds(e,d.parentId),f=Jt.itemIndex(e,d.id);if(f<h.length-1)return h[f+1];d=d.parentId?Jt.itemMeta(e,d.parentId):null}throw new Error("Invalid range")},[o,i]=zH(e,t,n),s=[o];let a=o;for(;a!==i;)a=r(a),Jt.isItemDisabled(e,a)||s.push(a);return s},AOe=e=>{let t=Aw(e);const n=[];for(;t!=null;)n.push(t),t=Dw(e,t);return n},QO=(e,t)=>t!==e.closest('*[role="treeitem"]'),UH=pf(e=>e.selection.selectedItems,e=>Array.isArray(e)?e:e!=null?[e]:[]),HH=pf(UH,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),dr={selectedItemsRaw:Bn(e=>e.selection.selectedItems),selectedItems:UH,selectedItemsMap:HH,enabled:Bn(e=>e.selection.isEnabled),isMultiSelectEnabled:Bn(e=>e.selection.isMultiSelectEnabled),isCheckboxSelectionEnabled:Bn(e=>e.selection.isCheckboxSelectionEnabled),propagationRules:Bn(e=>e.selection.selectionPropagation),isItemSelected:Bn(HH,(e,t)=>e.has(t)),canItemBeSelected:Bn(Jt.isItemDisabled,e=>e.selection.isEnabled,(e,t,n)=>t&&!e)},Lw=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},GH=({store:e,oldModel:t,newModel:n})=>{const r=new Map;return n.forEach(o=>{r.set(o,!0)}),{added:n.filter(o=>!dr.isItemSelected(e.state,o)),removed:t.filter(o=>!r.has(o))}},LOe=({store:e,selectionPropagation:t,newModel:n,oldModel:r,additionalItemsToPropagate:o})=>{if(!t.descendants&&!t.parents)return n;let i=!1;const s=Lw(n),a=GH({store:e,newModel:n,oldModel:r});return o?.forEach(c=>{s[c]?a.added.includes(c)||a.added.push(c):a.removed.includes(c)||a.removed.push(c)}),a.added.forEach(c=>{if(t.descendants){const d=h=>{h!==c&&(i=!0,s[h]=!0),Jt.itemOrderedChildrenIds(e.state,h).forEach(d)};d(c)}if(t.parents){const d=f=>s[f]?Jt.itemOrderedChildrenIds(e.state,f).every(d):!1,h=f=>{const g=Jt.itemParentId(e.state,f);if(g==null)return;Jt.itemOrderedChildrenIds(e.state,g).every(d)&&(i=!0,s[g]=!0,h(g))};h(c)}}),a.removed.forEach(c=>{if(t.parents){let d=Jt.itemParentId(e.state,c);for(;d!=null;)s[d]&&(i=!0,delete s[d]),d=Jt.itemParentId(e.state,d)}if(t.descendants){const d=h=>{h!==c&&(i=!0,delete s[h]),Jt.itemOrderedChildrenIds(e.state,h).forEach(d)};d(c)}}),i?Object.keys(s):n},NOe=Bn((e,t)=>{if(dr.isItemSelected(e,t))return"checked";let n=!1,r=!1;const o=s=>{s!==t&&(dr.isItemSelected(e,s)?n=!0:r=!0),Jt.itemOrderedChildrenIds(e,s).forEach(o)};return o(t),n&&r?"indeterminate":dr.propagationRules(e).parents&&n&&!r?"checked":"empty"}),BOe=({props:e})=>{const{itemId:t}=e,{store:n}=Ld(),r=Yn(n,dr.isCheckboxSelectionEnabled),o=Yn(n,dr.canItemBeSelected,t),i=Yn(n,NOe,t);return{propsEnhancers:{checkbox:({externalEventHandlers:s,interactions:a})=>({tabIndex:-1,onChange:d=>{s.onChange?.(d),!d.defaultMuiPrevented&&dr.canItemBeSelected(n.state,t)&&a.handleCheckboxSelection(d)},visible:r,disabled:!o,checked:i==="checked",indeterminate:i==="indeterminate"})}}},hm=({store:e,params:t})=>{BH({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const n=_.useRef(null),r=_.useRef({}),o=(g,m,y)=>{const b=dr.selectedItemsRaw(e.state);let v;const S=dr.isMultiSelectEnabled(e.state);if(S&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?v=LOe({store:e,selectionPropagation:t.selectionPropagation,newModel:m,oldModel:b,additionalItemsToPropagate:y}):v=m,t.onItemSelectionToggle)if(S){const E=GH({store:e,newModel:v,oldModel:b});t.onItemSelectionToggle&&(E.added.forEach(T=>{t.onItemSelectionToggle(g,T,!0)}),E.removed.forEach(T=>{t.onItemSelectionToggle(g,T,!1)}))}else t.onItemSelectionToggle&&v!==b&&(b!=null&&t.onItemSelectionToggle(g,b,!1),v!=null&&t.onItemSelectionToggle(g,v,!0));t.selectedItems===void 0&&e.set("selection",H({},e.state.selection,{selectedItems:v})),t.onSelectedItemsChange?.(g,v)},i=({itemId:g,event:m=null,keepExistingSelection:y=!1,shouldBeSelected:b})=>{if(!dr.enabled(e.state))return;let v;const S=dr.isMultiSelectEnabled(e.state);if(y){const E=dr.selectedItems(e.state),T=dr.isItemSelected(e.state,g);T&&(b===!1||b==null)?v=E.filter(R=>R!==g):!T&&(b===!0||b==null)?v=[g].concat(E):v=E}else b===!1||b==null&&dr.isItemSelected(e.state,g)?v=S?[]:null:v=S?[g]:g;o(m,v,[g]),n.current=g,r.current={}},s=(g,[m,y])=>{if(!dr.isMultiSelectEnabled(e.state))return;let v=dr.selectedItems(e.state).slice();Object.keys(r.current).length>0&&(v=v.filter(R=>!r.current[R]));const S=Lw(v),E=DOe(e.state,m,y),T=E.filter(R=>!S[R]);v=v.concat(T),o(g,v),r.current=Lw(E)},a=(g,m)=>{if(n.current!=null){const[y,b]=zH(e.state,m,n.current);s(g,[y,b])}},c=(g,m)=>{s(g,[Aw(e.state),m])},d=(g,m)=>{s(g,[m,$H(e.state)])},h=g=>{if(!dr.isMultiSelectEnabled(e.state))return;const y=AOe(e.state);o(g,y),r.current=Lw(y)},f=(g,m,y)=>{if(!dr.isMultiSelectEnabled(e.state))return;let v=dr.selectedItems(e.state).slice();Object.keys(r.current).length===0?(v.push(y),r.current={[m]:!0,[y]:!0}):(r.current[m]||(r.current={}),r.current[y]?(v=v.filter(S=>S!==m),delete r.current[m]):(v.push(y),r.current[y]=!0)),o(g,v)};return Hn(()=>{e.set("selection",{selectedItems:t.selectedItems===void 0?e.state.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}})},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:i},instance:{setItemSelection:i,selectAllNavigableItems:h,expandSelectionRange:a,selectRangeFromStartToItem:c,selectRangeFromItemToEnd:d,selectItemFromArrowNavigation:f}}};hm.itemPlugin=BOe;const FOe=[],jOe={};hm.applyDefaultValuesToParams=({params:e})=>H({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?FOe:null),selectionPropagation:e.selectionPropagation??jOe}),hm.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}}),hm.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const WH=1e3;let VOe=class{timeouts=new Map;cleanupTimeout=WH;constructor(t=WH){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}},$Oe=class{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}},zOe=class{};function UOe(e){let t=0;return function(r,o,i){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new $Oe:new VOe);const[s]=_.useState(new zOe),a=_.useRef(null),c=_.useRef(void 0);c.current=i;const d=_.useRef(null);if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=r.$$subscribeEvent(o,h),t+=1,d.current={cleanupToken:t},e.registry.register(s,()=>{a.current?.(),a.current=null,d.current=null},d.current)}else!c.current&&a.current&&(a.current(),a.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));_.useEffect(()=>{if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=r.$$subscribeEvent(o,h)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{a.current?.(),a.current=null}},[r,o])}}const HOe=UOe({registry:null}),KH=pf(dr.selectedItems,wo.expandedItemsMap,Jt.itemMetaLookup,Jt.disabledItemFocusable,e=>Jt.itemOrderedChildrenIds(e,null),(e,t,n,r,o)=>{const i=e.find(a=>{if(!r&&Pw(n,a))return!1;const c=n[a];return c&&(c.parentId==null||t.has(c.parentId))});if(i!=null)return i;const s=o.find(a=>r||!Pw(n,a));return s??null}),Nd={defaultFocusableItemId:KH,isItemTheDefaultFocusableItem:Bn(KH,(e,t)=>e===t),focusedItemId:Bn(e=>e.focus.focusedItemId),isItemFocused:Bn((e,t)=>e.focus.focusedItemId===t)},JO=({instance:e,params:t,store:n})=>{const r=Vt(h=>{Nd.focusedItemId(n.state)!==h&&n.set("focus",H({},n.state.focus,{focusedItemId:h}))}),o=h=>{const f=Jt.itemMeta(n.state,h);return f&&(f.parentId==null||wo.isItemExpanded(n.state,f.parentId))},i=(h,f)=>{const g=e.getItemDOMElement(f);g&&g.focus(),r(f),t.onItemFocus&&t.onItemFocus(h,f)},s=Vt((h,f)=>{o(f)&&i(h,f)}),a=Vt(()=>{const h=Nd.focusedItemId(n.state);if(h==null)return;if(Jt.itemMeta(n.state,h)){const g=e.getItemDOMElement(h);g&&g.blur()}r(null)});HOe(e,"removeItem",({id:h})=>{const f=Nd.focusedItemId(n.state),g=Nd.defaultFocusableItemId(n.state);f===h&&g!=null&&i(null,g)});const c=h=>f=>{if(h.onFocus?.(f),f.defaultMuiPrevented)return;const g=Nd.defaultFocusableItemId(n.state);f.target===f.currentTarget&&g!=null&&i(f,g)},d=h=>f=>{h.onBlur?.(f),!f.defaultMuiPrevented&&r(null)};return{getRootProps:h=>({onFocus:c(h),onBlur:d(h)}),publicAPI:{focusItem:s},instance:{focusItem:s,removeFocusedItem:a}}};JO.getInitialState=()=>({focus:{focusedItemId:null}}),JO.params={onItemFocus:!0};const Nw=(e,t)=>e.getAvailablePlugins().has(t),Ql={isItemEditable:Bn(e=>e.label?.isItemEditable,Jt.itemModel,(e,t,n)=>!t||e==null?!1:typeof e=="boolean"?e:e(t)),isItemBeingEdited:Bn((e,t)=>t==null?!1:e.label?.editedItemId===t),isAnyItemBeingEdited:Bn(e=>!!e.label?.editedItemId)},GOe=({props:e})=>{const{store:t}=Ld(),{label:n,itemId:r}=e,[o,i]=_.useState(n),s=Yn(t,Ql.isItemEditable,r),a=Yn(t,Ql.isItemBeingEdited,r);return _.useEffect(()=>{a||i(n)},[a,n]),{propsEnhancers:{label:()=>({editable:s}),labelInput:({externalEventHandlers:c,interactions:d})=>s?{value:o??"","data-element":"labelInput",onChange:m=>{c.onChange?.(m),i(m.target.value)},onKeyDown:m=>{if(c.onKeyDown?.(m),m.defaultMuiPrevented)return;const y=m.target;m.key==="Enter"&&y.value?d.handleSaveItemLabel(m,y.value):m.key==="Escape"&&d.handleCancelItemLabelEditing(m)},onBlur:m=>{c.onBlur?.(m),!m.defaultMuiPrevented&&m.target.value&&d.handleSaveItemLabel(m,m.target.value)},autoFocus:!0,type:"text"}:{}}}},eu=({store:e,params:t})=>{const n=o=>{o!==null&&!Ql.isItemEditable(e.state,o)||e.set("label",H({},e.state.label,{editedItemId:o}))},r=(o,i)=>{if(!i)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",o].join(`
`));const s=e.state.items.itemMetaLookup[o];s.label!==i&&(e.set("items",H({},e.state.items,{itemMetaLookup:H({},e.state.items.itemMetaLookup,{[o]:H({},s,{label:i})})})),t.onItemLabelChange&&t.onItemLabelChange(o,i))};return Hn(()=>{e.set("label",H({},e.state.items,{isItemEditable:t.isItemEditable}))},[e,t.isItemEditable]),{instance:{setEditedItem:n,updateItemLabel:r},publicAPI:{setEditedItem:n,updateItemLabel:r}}};eu.itemPlugin=GOe,eu.applyDefaultValuesToParams=({params:e})=>H({},e,{isItemEditable:e.isItemEditable??!1}),eu.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}}),eu.params={onItemLabelChange:!0,isItemEditable:!0};function WOe(e){return!!e&&e.length===1&&!!e.match(/\S/)}const qH=({instance:e,store:t,params:n})=>{const r=Go(),o=_.useRef({}),i=Vt(f=>{o.current=f(o.current)}),s=Yn(t,Jt.itemMetaLookup);_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const f={},g=m=>{f[m.id]=m.label.substring(0,1).toLowerCase()};Object.values(s).forEach(g),o.current=f},[s,n.getItemId,e]);const a=(f,g)=>{const m=g.toLowerCase(),y=E=>{const T=Dw(t.state,E);return T===null?Aw(t.state):T};let b=null,v=y(f);const S={};for(;b==null&&!S[v];)o.current[v]===m?b=v:(S[v]=!0,v=y(v));return b},c=f=>dr.enabled(t.state)&&!Jt.isItemDisabled(t.state,f),d=f=>!Jt.isItemDisabled(t.state,f)&&wo.isItemExpandable(t.state,f);return{instance:{updateFirstCharMap:i,handleItemKeyDown:async(f,g)=>{if(f.defaultMuiPrevented||f.altKey||QO(f.target,f.currentTarget))return;const m=f.ctrlKey||f.metaKey,y=f.key,b=dr.isMultiSelectEnabled(t.state);switch(!0){case(y===" "&&c(g)):{f.preventDefault(),b&&f.shiftKey?e.expandSelectionRange(f,g):e.setItemSelection({event:f,itemId:g,keepExistingSelection:b,shouldBeSelected:void 0});break}case y==="Enter":{Nw(e,eu)&&Ql.isItemEditable(t.state,g)&&!Ql.isItemBeingEdited(t.state,g)?e.setEditedItem(g):d(g)?(e.setItemExpansion({event:f,itemId:g}),f.preventDefault()):c(g)&&(b?(f.preventDefault(),e.setItemSelection({event:f,itemId:g,keepExistingSelection:!0})):dr.isItemSelected(t.state,g)||(e.setItemSelection({event:f,itemId:g}),f.preventDefault()));break}case y==="ArrowDown":{const v=Dw(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case y==="ArrowUp":{const v=VH(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case(y==="ArrowRight"&&!r||y==="ArrowLeft"&&r):{if(m)return;if(wo.isItemExpanded(t.state,g)){const v=Dw(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}else d(g)&&(e.setItemExpansion({event:f,itemId:g}),f.preventDefault());break}case(y==="ArrowLeft"&&!r||y==="ArrowRight"&&r):{if(m)return;if(d(g)&&wo.isItemExpanded(t.state,g))e.setItemExpansion({event:f,itemId:g}),f.preventDefault();else{const v=Jt.itemParentId(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}break}case y==="Home":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromStartToItem(f,g):e.focusItem(f,Aw(t.state)),f.preventDefault();break}case y==="End":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromItemToEnd(f,g):e.focusItem(f,$H(t.state)),f.preventDefault();break}case y==="*":{e.expandAllSiblings(f,g),f.preventDefault();break}case(String.fromCharCode(f.keyCode)==="A"&&m&&b&&dr.enabled(t.state)):{e.selectAllNavigableItems(f),f.preventDefault();break}case(!m&&!f.shiftKey&&WOe(y)):{const v=a(g,y);v!=null&&(e.focusItem(f,v),f.preventDefault());break}}}}}};qH.params={};function KOe(e){return e.replace(/["\\]/g,"\\$&")}const YH=_.createContext(null);function XH(e){const{children:t,itemId:n=null,idAttribute:r}=e,{instance:o,store:i,rootRef:s}=Ld(),a=_.useRef(new Map);_.useEffect(()=>{if(!s.current)return;const d=Jt.itemOrderedChildrenIds(i.state,n??null)??[],h=KOe(r??s.current.id);if(n!=null){const y=s.current.querySelector(`*[id="${h}"][role="treeitem"]`);if(y&&y.getAttribute("aria-expanded")==="false")return}const f=s.current.querySelectorAll(`${n==null?"":`*[id="${h}"] `}[role="treeitem"]:not(*[id="${h}"] [role="treeitem"] [role="treeitem"])`),g=Array.from(f).map(y=>a.current.get(y.id));(g.length!==d.length||g.some((y,b)=>y!==d[b]))&&o.setJSXItemsOrderedChildrenIds(n??null,g)});const c=_.useMemo(()=>({registerChild:(d,h)=>a.current.set(d,h),unregisterChild:d=>a.current.delete(d),parentId:n}),[n]);return x.jsx(YH.Provider,{value:c,children:t})}const ZH={dataSource:Bn(e=>e.lazyLoading?.dataSource),isItemLoading:Bn((e,t)=>e.lazyLoading?.dataSource.loading[t]??!1),itemHasError:Bn((e,t)=>!!e.lazyLoading?.dataSource.errors[t])},eR=e=>Array.isArray(e)?e.length>0&&e.some(eR):!!e,qOe=({itemId:e,children:t})=>{const{instance:n,store:r,publicAPI:o}=Ld(),i=Yn(r,wo.isItemExpandable,e),s=Yn(r,ZH.isItemLoading,e),a=Yn(r,ZH.itemHasError,e),c=eR(t)||i,d=Yn(r,wo.isItemExpanded,e),h=Yn(r,Nd.isItemFocused,e),f=Yn(r,dr.isItemSelected,e),g=Yn(r,Jt.isItemDisabled,e),m=Yn(r,Ql.isItemBeingEdited,e),y=Yn(r,Ql.isItemEditable,e),b={expandable:c,expanded:d,focused:h,selected:f,disabled:g,editing:m,editable:y,loading:s,error:a},v=N=>{if(b.disabled)return;b.focused||n.focusItem(N,e);const P=dr.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey);b.expandable&&!(P&&wo.isItemExpanded(r.state,e))&&n.setItemExpansion({event:N,itemId:e})},S=N=>{if(b.disabled)return;!b.focused&&!b.editing&&n.focusItem(N,e),dr.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey)?N.shiftKey?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:!0}):n.setItemSelection({event:N,itemId:e,shouldBeSelected:!0})},E=N=>{const P=N.nativeEvent.shiftKey,L=dr.isMultiSelectEnabled(r.state);L&&P?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:L,shouldBeSelected:N.target.checked})},T=()=>{Nw(n,eu)&&(m?n.setEditedItem(null):n.setEditedItem(e))};return{interactions:{handleExpansion:v,handleSelection:S,handleCheckboxSelection:E,toggleItemEditing:T,handleSaveItemLabel:(N,P)=>{Nw(n,eu)&&Ql.isItemBeingEdited(r.state,e)&&(n.updateItemLabel(e,P),T(),n.focusItem(N,e))},handleCancelItemLabelEditing:N=>{Nw(n,eu)&&Ql.isItemBeingEdited(r.state,e)&&(T(),n.focusItem(N,e))}},status:b,publicAPI:o}},fm=({instance:e,store:t})=>{e.preventItemUpdates();const n=Vt(i=>{if(t.state.items.itemMetaLookup[i.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${i.id}"`].join(`
`));return t.set("items",H({},t.state.items,{itemMetaLookup:H({},t.state.items.itemMetaLookup,{[i.id]:i}),itemModelLookup:H({},t.state.items.itemModelLookup,{[i.id]:{id:i.id,label:i.label??""}})})),()=>{const s=H({},t.state.items.itemMetaLookup),a=H({},t.state.items.itemModelLookup);delete s[i.id],delete a[i.id],t.set("items",H({},t.state.items,{itemMetaLookup:s,itemModelLookup:a})),cm(e,"removeItem",{id:i.id})}}),r=(i,s)=>{const a=i??gf;t.set("items",H({},t.state.items,{itemOrderedChildrenIdsLookup:H({},t.state.items.itemOrderedChildrenIdsLookup,{[a]:s}),itemChildrenIndexesLookup:H({},t.state.items.itemChildrenIndexesLookup,{[a]:NH(s)})}))},o=Vt((i,s)=>(e.updateFirstCharMap(a=>(a[i]=s,a)),()=>{e.updateFirstCharMap(a=>{const c=H({},a);return delete c[i],c})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:o}}},YOe=({props:e,rootRef:t,contentRef:n})=>{const{instance:r,store:o}=Ld(),{children:i,disabled:s=!1,label:a,itemId:c,id:d}=e,h=_.useContext(YH);if(h==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:f,unregisterChild:g,parentId:m}=h,y=eR(i),b=_.useRef(null),v=Mn(b,n),S=Yn(o,lm.treeId);return Hn(()=>{const E=Iw({itemId:c,treeId:S,id:d});return f(E,c),()=>{g(E),g(E)}},[o,r,f,g,c,d,S]),Hn(()=>r.insertJSXItem({id:c,idAttribute:d,parentId:m,expandable:y,disabled:s}),[r,m,c,y,s,d]),_.useEffect(()=>{if(a)return r.mapFirstCharFromJSX(c,(b.current?.textContent??"").substring(0,1).toLowerCase())},[r,c,a]),{contentRef:v,rootRef:t}};fm.itemPlugin=YOe,fm.wrapItem=({children:e,itemId:t,idAttribute:n})=>{const r=_.useContext(um);return x.jsx(XH,{itemId:t,idAttribute:n,children:x.jsx(um.Provider,{value:r+1,children:e})})},fm.wrapRoot=({children:e})=>x.jsx(XH,{itemId:null,idAttribute:null,children:x.jsx(um.Provider,{value:0,children:e})}),fm.params={};const XOe=[dm,kw,hm,JO,qH,fm],ZOe=["slots","slotProps"],QOe=wH(),JOe=e=>{const{classes:t}=e;return _.useMemo(()=>ft({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},JMe,t),[t])},eRe=be("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),tRe=[],tR=_.forwardRef(function(t,n){const r=QOe({props:t,name:"MuiSimpleTreeView"}),{slots:o,slotProps:i}=r,s=gt(r,ZOe),{getRootProps:a,contextValue:c}=OOe({plugins:XOe,rootRef:n,props:H({},s,{items:tRe})}),d=JOe(r),h=o?.root??eRe,f=Wo({elementType:h,externalSlotProps:i?.root,className:d.root,getSlotProps:a,ownerState:r});return x.jsx(ROe,{contextValue:c,classes:d,slots:o,slotProps:i,children:x.jsx(h,H({},f))})}),nRe=Object.is;function QH(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const o in e)if(n+=1,!nRe(e[o],t[o])||!(o in t))return!1;for(const o in t)r+=1;return n===r}const rRe=e=>{const{runItemPlugins:t,instance:n,publicAPI:r,store:o}=Ld(),i=_.useContext(um),s=Yn(o,(...he)=>typeof i=="function"?i(...he):i,e.itemId),{id:a,itemId:c,label:d,children:h,rootRef:f}=e,{rootRef:g,contentRef:m,propsEnhancers:y}=t(e),{interactions:b,status:v}=qOe({itemId:c,children:h}),S=_.useRef(null),E=_.useRef(null),T=Mn(f,g,S),R=Mn(m,E),M=_.useRef(null),I=Yn(o,lm.treeId),N=Yn(o,dr.canItemBeSelected,c),P=Yn(o,dr.isCheckboxSelectionEnabled),L=Iw({itemId:c,treeId:I,id:a}),A=Yn(o,Nd.isItemTheDefaultFocusableItem,c),$={rootRefObject:S,contentRefObject:E,interactions:b},B=he=>pe=>{he.onFocus?.(pe),!pe.defaultMuiPrevented&&!v.focused&&Jt.canItemBeFocused(o.state,c)&&pe.currentTarget===pe.target&&n.focusItem(pe,c)},U=he=>pe=>{if(he.onBlur?.(pe),pe.defaultMuiPrevented)return;const we=n.getItemDOMElement(c);v.editing||pe.relatedTarget&&QO(pe.relatedTarget,we)&&(pe.target&&pe.target?.dataset?.element==="labelInput"&&QO(pe.target,we)||pe.relatedTarget?.dataset?.element==="labelInput")||n.removeFocusedItem()},K=he=>pe=>{he.onKeyDown?.(pe),!(pe.defaultMuiPrevented||pe.target?.dataset?.element==="labelInput")&&n.handleItemKeyDown(pe,c)},G=he=>pe=>{he.onDoubleClick?.(pe),!pe.defaultMuiPrevented&&b.toggleItemEditing()},V=he=>pe=>{he.onClick?.(pe),n.handleItemClick(pe,c),!(pe.defaultMuiPrevented||M.current?.contains(pe.target))&&(wo.triggerSlot(o.state)==="content"&&b.handleExpansion(pe),P||b.handleSelection(pe))},Y=he=>pe=>{he.onMouseDown?.(pe),!pe.defaultMuiPrevented&&(pe.shiftKey||pe.ctrlKey||pe.metaKey||v.disabled)&&pe.preventDefault()},Q=he=>pe=>{he.onClick?.(pe),!pe.defaultMuiPrevented&&wo.triggerSlot(o.state)==="iconContainer"&&b.handleExpansion(pe)};return{getContextProviderProps:()=>({itemId:c,id:a}),getRootProps:(he={})=>{const pe=H({},us(e),us(he));let we;v.selected?we=!0:N?we=!1:we=void 0;const _e=H({},pe,{ref:T,role:"treeitem",tabIndex:A?0:-1,id:L,"aria-expanded":v.expandable?v.expanded:void 0,"aria-selected":we,"aria-disabled":v.disabled||void 0},he,{style:H({},he.style??{},{"--TreeView-itemDepth":s}),onFocus:B(pe),onBlur:U(pe),onKeyDown:K(pe)}),De=y.root?.(H({},$,{externalEventHandlers:pe}))??{};return H({},_e,De)},getContentProps:(he={})=>{const pe=us(he),we=H({},pe,he,{ref:R,onClick:V(pe),onMouseDown:Y(pe),status:v});["expanded","selected","focused","disabled","editing","editable"].forEach(De=>{v[De]&&(we[`data-${De}`]="")});const _e=y.content?.(H({},$,{externalEventHandlers:pe}))??{};return H({},we,_e)},getGroupTransitionProps:(he={})=>{const pe=us(he);return H({},pe,{unmountOnExit:!0,component:"ul",role:"group",in:v.expanded,children:h},he)},getIconContainerProps:(he={})=>{const pe=us(he);return H({},pe,he,{onClick:Q(pe)})},getCheckboxProps:(he={})=>{const pe=us(he),we=H({},pe,{ref:M,"aria-hidden":!0},he),_e=y.checkbox?.(H({},$,{externalEventHandlers:pe}))??{};return H({},we,_e)},getLabelProps:(he={})=>{const pe=H({},us(he)),we=H({},pe,{children:d},he,{onDoubleClick:G(pe)}),_e=y.label?.(H({},$,{externalEventHandlers:pe}))??{};return H({},_e,we)},getLabelInputProps:(he={})=>{const pe=us(he),we=y.labelInput?.(H({},$,{externalEventHandlers:pe}))??{};return H({},he,we)},getDragAndDropOverlayProps:(he={})=>{const pe=us(he),we=y.dragAndDropOverlay?.(H({},$,{externalEventHandlers:pe}))??{};return H({},he,we)},getErrorContainerProps:(he={})=>{const pe=us(he);return H({},pe,he)},getLoadingContainerProps:(he={})=>{const pe=us(he);return H({size:"12px",thickness:6},pe,he)},rootRef:T,status:v,publicAPI:r}};function oRe(e){return qt("MuiTreeItem",e)}const Jl=Gt("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]),iRe=xt(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),sRe=xt(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function aRe(e){const{slots:t,slotProps:n,status:r}=e,{slots:o,slotProps:i}=LH(),s={collapseIcon:t?.collapseIcon??o.collapseIcon??sRe,expandIcon:t?.expandIcon??o.expandIcon??iRe,endIcon:t?.endIcon??o.endIcon,icon:t?.icon};let a;s?.icon?a="icon":r.expandable?r.expanded?a="collapseIcon":a="expandIcon":a="endIcon";const c=s[a],d=Wo({elementType:c,externalSlotProps:h=>H({},Qb(i[a],h),Qb(n?.[a],h)),ownerState:{}});return c?x.jsx(c,H({},d)):null}const lRe=be("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>nf(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:zs(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function cRe(e){return e.action==null?null:x.jsx(lRe,H({},e))}function uRe(e){const{children:t,itemId:n,id:r}=e,{wrapItem:o,instance:i,store:s}=Ld(),a=Yn(s,lm.treeId),c=Iw({itemId:n,treeId:a,id:r});return x.jsx(_.Fragment,{children:o({children:t,itemId:n,instance:i,idAttribute:c})})}const dRe=be("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>H({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),hRe=["visible"],fRe=["id","itemId","label","disabled","children","slots","slotProps","classes"],pRe=wH(),gRe=be("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),mRe=be("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>nf(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zs(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:zs(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:zs(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:zs(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),vRe=be("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>nf(e)&&e!=="editable"})(({theme:e})=>H({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),yRe=be("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),bRe=be(nO,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),wRe=be("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),SRe=be(af,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),CRe=be(_.forwardRef((e,t)=>{const{visible:n}=e,r=gt(e,hRe);return n?x.jsx(cl,H({},r,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),xRe=e=>{const{classes:t}=LH(),n=H({},e,{root:We(e?.root,t.root),content:We(e?.content,t.itemContent),iconContainer:We(e?.iconContainer,t.itemIconContainer),checkbox:We(e?.checkbox,t.itemCheckbox),label:We(e?.label,t.itemLabel),groupTransition:We(e?.groupTransition,t.itemGroupTransition),labelInput:We(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:We(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:We(e?.errorIcon,t.itemErrorIcon),loadingIcon:We(e?.loadingIcon,t.itemLoadingIcon)});return ft({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},oRe,n)},tu=_.forwardRef(function(t,n){const r=pRe({props:t,name:"MuiTreeItem"}),{id:o,itemId:i,label:s,disabled:a,children:c,slots:d={},slotProps:h={},classes:f}=r,g=gt(r,fRe),{getContextProviderProps:m,getRootProps:y,getContentProps:b,getIconContainerProps:v,getCheckboxProps:S,getLabelProps:E,getGroupTransitionProps:T,getLabelInputProps:R,getDragAndDropOverlayProps:M,getErrorContainerProps:I,getLoadingContainerProps:N,status:P}=rRe({id:o,itemId:i,children:c,label:s,disabled:a}),L=xRe(f),A=d.root??gRe,$=Wo({elementType:A,getSlotProps:y,externalForwardedProps:g,externalSlotProps:h.root,additionalProps:{ref:n},ownerState:{},className:L.root}),B=d.content??mRe,U=Wo({elementType:B,getSlotProps:b,externalSlotProps:h.content,ownerState:{},className:We(L.content,P.expanded&&L.expanded,P.selected&&L.selected,P.focused&&L.focused,P.disabled&&L.disabled,P.editing&&L.editing,P.editable&&L.editable)}),K=d.iconContainer??yRe,G=Wo({elementType:K,getSlotProps:v,externalSlotProps:h.iconContainer,ownerState:{},className:L.iconContainer}),V=d.label??vRe,Y=Wo({elementType:V,getSlotProps:E,externalSlotProps:h.label,ownerState:{},className:L.label}),Q=d.checkbox??CRe,te=Wo({elementType:Q,getSlotProps:S,externalSlotProps:h.checkbox,ownerState:{},className:L.checkbox}),z=d.groupTransition??void 0,W=Wo({elementType:z,getSlotProps:T,externalSlotProps:h.groupTransition,ownerState:{},className:L.groupTransition}),Z=d.labelInput??dRe,le=Wo({elementType:Z,getSlotProps:R,externalSlotProps:h.labelInput,ownerState:{},className:L.labelInput}),ue=d.dragAndDropOverlay??cRe,ce=Wo({elementType:ue,getSlotProps:M,externalSlotProps:h.dragAndDropOverlay,ownerState:{},className:L.dragAndDropOverlay}),se=d.errorIcon??wRe,ve=Wo({elementType:se,getSlotProps:I,externalSlotProps:h.errorIcon,ownerState:{},className:L.errorIcon}),Te=d.loadingIcon??SRe,Se=Wo({elementType:Te,getSlotProps:N,externalSlotProps:h.loadingIcon,ownerState:{},className:L.loadingIcon});return x.jsx(uRe,H({},m(),{children:x.jsxs(A,H({},$,{children:[x.jsxs(B,H({},U,{children:[x.jsxs(K,H({},G,{children:[P.error&&x.jsx(se,H({},ve)),P.loading?x.jsx(Te,H({},Se)):x.jsx(aRe,{status:P,slots:d,slotProps:h})]})),x.jsx(Q,H({},te)),P.editing?x.jsx(Z,H({},le)):x.jsx(V,H({},Y)),x.jsx(ue,H({},ce))]})),c&&x.jsx(bRe,H({as:z},W))]}))}))}),nR=be("div",{name:"FlexRow"})({boxSizing:"border-box",display:"flex",flexDirection:"row",width:"100%",height:"100%",minWidth:0,minHeight:0}),rR=be("div",{name:"FlexCol"})({boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",height:"100%",minWidth:0,minHeight:0}),_Re=be("div",{name:"RollPanel",shouldForwardProp:e=>e!=="width"&&e!=="minimized"&&e!=="reverse"})(({minimized:e,width:t,reverse:n})=>({boxSizing:"border-box",display:"flex",...!n&&{overflow:"hidden"},flexDirection:n?"row-reverse":"row",transition:"width 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,height:"100%",minWidth:0,width:e?20:t})),ERe=be("div",{name:"RollPanel",slot:"content",shouldForwardProp:e=>e!=="width"&&e!=="minimized"})(({width:e})=>({boxSizing:"border-box",display:"flex",flexDirection:"column",userSelect:"none",height:"100%",flexShrink:0,width:e}));function oR({width:e,minimized:t,button:n,children:r,reverse:o}){return x.jsxs(_Re,{width:e,minimized:t,reverse:o,children:[t&&n,x.jsx(ERe,{width:e,children:r})]})}be(rR)({transition:"ease-in 0.15s",overflow:"hidden",userSelect:"none"});const JH=be(Sn)({padding:0,borderRadius:0});be(tu)({fontSize:"1rem"});function TRe(){return null}function Bw(){return x.jsx(Jg,{flexItem:!0,orientation:"vertical"})}Bw.muiName="Divider";function _a(){return x.jsx(Jg,{flexItem:!0,orientation:"horizontal"})}_a.muiNames="Divider";const MRe=be(bo)({whiteSpace:"pre",userSelect:"none"});MRe.displayName="NonSelectableTypo";const mf=_.forwardRef(function(t,n){return x.jsx(bo,{ref:n,component:"span",...t})});mf.muiName="Typography";const ORe=be("img",{name:"FileImageIcon"})({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"}),eG=be("div",{name:"SettingsFormWrapper"})({display:"flex",flexDirection:"row",position:"absolute",top:"50%",left:"50%",width:"60%",height:600,transform:"translate(-50%, -50%)",backgroundColor:"white",boxShadow:"24px",borderRadius:"8px",padding:8,outline:"none",gap:8,userSelect:"none",minWidth:900}),RRe=be("div",{name:"SettingsFormTabs"})({boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",gap:8,flexShrink:1,minWidth:180}),tG=be("div",{name:"SettingsFormContent"})({display:"flex",flexGrow:1,width:"100%",gap:8,justifyContent:"center",alignItems:"stretch",minWidth:0});be("div",{name:"SettingsFormContentCards"})({display:"flex",gap:8,justifyContent:"center",alignItems:"stretch",width:"100%"});const iR=be("div",{name:"SettingsFormCard"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box"}),IRe=be("div",{name:"SettingsFormCard2"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),sR=be("h3",{name:"StyledH3"})({textAlign:"center",margin:0}),nG=be("div",{name:"SettingsFormCardLib"})({display:"flex",flexDirection:"column",gap:2,height:"100%"});be(cl,{name:"StyledCheckbox"})({});const pm=be(Ui,{name:"StyledButton"})({minHeight:64}),Fw=be("div",{name:"SettingsFormCardContent"})({overflowY:"auto",height:"100%",display:"flex",flexDirection:"column",gap:16,whiteSpace:"nowrap"}),PRe=be("textarea")({flexGrow:1,whiteSpace:"pre",resize:"none",overflow:"auto"});class kRe extends Nt{constructor(t){super(),this.ctx=t,this._currentTab="projectSettings",this.onModalClose=(n,r)=>{this.showProjectSettingsTab&&this.ctx.app.mainMenuVisible.setFalse()},this.onProjectSettingsTabSelected=n=>{this._currentTab="projectSettings"},this.onProjectSelectionTabSelected=n=>{this._currentTab="projectSelection"},this.onAccountTabSelected=n=>{this._currentTab="account"},this.onLogoutButtonClick=n=>{this.ctx.app.accountSettings.logout()},this.onExportButtonClick=()=>{this.ctx.app.currentProject?.export()},this.showEmbedIframeCode=()=>{const n=this.ctx.app.currentProject;if(!n)return;const r=`<iframe width="100%" height="100%" src="${vk(n)}" title="${n.name}"></iframe>`;prompt("Код для вставки",r)},vt(this,{_currentTab:Pe.ref,onModalClose:ye,onAccountTabSelected:ye,onProjectSelectionTabSelected:ye,onProjectSettingsTabSelected:ye,onLogoutButtonClick:ye})}get currentTab(){const{_currentTab:t}=this;return this.showProjectSettingsTab||t!=="projectSettings"?t:"projectSelection"}get showProjectSettingsTab(){return!!this.ctx.app.currentProject}get libCount(){return this.ctx.app.accountSettings.libraryCount}get libLimit(){return this.ctx.app.accountSettings.libraryLimit}get projectCount(){return this.ctx.app.accountSettings.projectCount}get projectLimit(){return this.ctx.app.accountSettings.projectLimit}get isModalOpen(){return this.ctx.app.mainMenuVisible.isTrue}get profileName(){return this.ctx.app.accountSettings.profileName}}class DRe extends Nt{constructor(t){super(),this.ctx=t,this.onRecursiveSearchCheckboxChange=(n,r)=>{this.m.setRecursiveKlassSearch(r)},this.onAddSubProjectButtonClick=()=>{this.ctx.app.subProjectSelectorVisible.setTrue(),this.ctx.app.subProjectSelector.root.fetchChildren()}}get recursiveSearchCheckboxChecked(){return this.m.recursiveKlassSearch}get projectItems(){const{app:t}=this.ctx,n=this.m.projectFile.parent.path;return this.m.subProjects.map(r=>({key:r.id,primaryText:r.name,secondaryText:pk(r.config.filepath||"",n),onClick:t.openSubProject.bind(t,r),onDeleteButtonClick:r.remove.bind(r)}))}}class ARe extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{}}get itemId(){return"lib_"+this.m.id}get label(){return this.m.name}}class LRe extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDoubleClick=n=>{n.stopPropagation(),this.m.select()},this.onDragStart=n=>{}}get itemId(){return"prj_"+this.m.id.toString()}get label(){const{m:t}=this;return t.name}}class rG extends Nt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{},this.onDragOver=n=>{},this.onDragLeave=n=>{},this.onDrop=n=>{}}get itemId(){return"dir_"+this.m.id.toString()}get label(){return this.m.name}get canExpand(){const{dirs:t,libs:n}=this.m;return!!(t.length||n.length)}get showLoadingIndicator(){return this.m.isChildrenFetching}}class NRe extends Nt{constructor(){super(),this.expandedItems=[],this.selectedItem=null,this.onSelectedItemsChange=(t,n)=>{this.selectedItem=n,!(t?.type!=="keydown"||!n||!n.startsWith("prj_"))&&t.target.dispatchEvent(new MouseEvent("dblclick",{bubbles:!0}))},this.onCreateProjectButtonClick=()=>{const{selectedItem:t}=this;let n=this.m.root;if(t?.startsWith("dir_")){const r=parseInt(t.slice(4)),o=r&&this.m.getDirById(r);o&&(n=o)}this.m.createNewProject(n)},this.onExpandedItemsChange=(t,n)=>{this.expandedItems=n;for(const r of n)this.m.getDirById(parseInt(r.slice(4)))?.fetchChildren()},vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:ye,onSelectedItemsChange:ye})}get isProjectCreationInProgress(){return this.m.isProjectCreationInProgress}get createProjectButtonDisabled(){return!1}}const BRe=Dt(LRe)(({vm:e})=>x.jsx(tu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:XTe},onDoubleClick:e.onDoubleClick})),FRe=Dt(ARe)(({vm:e,m:t})=>t.selector.libsMode?x.jsx(tu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:pH}}):null);function jRe(){return x.jsx(af,{size:32,sx:{color:Ja[500],position:"absolute",top:-2,left:-2,zIndex:1}})}const oG=Dt(rG)(({m:e})=>x.jsxs(x.Fragment,{children:[e.dirs.map(t=>x.jsx(VRe,{m:t},t.id)),e.projects.map(t=>x.jsx(BRe,{m:t},t.id)),e.libs.map(t=>x.jsx(FRe,{m:t},t.id))]})),VRe=Dt(rG)(({vm:e,m:t})=>x.jsx(tu,{slotProps:{groupTransition:{enter:!1,exit:!1}},itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[e.label,e.showLoadingIndicator&&x.jsx(jRe,{})]}),draggable:e.draggable,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,children:x.jsx(oG,{m:t})})),iG=Dt(NRe)(({vm:e,m:t,hidden:n})=>x.jsx(iR,{hidden:n,children:x.jsxs(nG,{children:[x.jsx(Fw,{children:x.jsx(tR,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(oG,{m:t.root})})}),x.jsx(Ui,{fullWidth:!0,variant:"contained",startIcon:x.jsx(HO,{}),loadingPosition:"start",loading:e.isProjectCreationInProgress,disabled:e.createProjectButtonDisabled,onClick:e.onCreateProjectButtonClick,children:"Создать новый проект"})]})})),$Re=Ao()(({vm:e})=>x.jsx(Zl,{control:x.jsx(cl,{checked:e.recursiveSearchCheckboxChecked,onChange:e.onRecursiveSearchCheckboxChange}),label:"Рекурсивный поиск"})),zRe=Dt(DRe)(({vm:e,m:t,hidden:n})=>n?null:x.jsxs(x.Fragment,{children:[x.jsx(iR,{children:x.jsxs(nG,{children:[x.jsx(sR,{children:"Библиотеки"}),x.jsx(Fw,{children:t.libs.map(r=>x.jsx("div",{children:r.name},r.id))}),x.jsx($Re,{})]})}),x.jsxs(IRe,{children:[x.jsx(sR,{children:"Проекты"}),x.jsx(Fw,{children:x.jsx(kU,{dense:!0,children:e.projectItems.map(r=>x.jsx(LEe,{secondaryAction:x.jsx(Sn,{onClick:r.onDeleteButtonClick,edge:"end",children:x.jsx(Ew,{})}),children:x.jsx(MEe,{onClick:r.onClick,children:x.jsx(LU,{primary:r.primaryText,secondary:r.secondaryText})})},r.key))})}),x.jsx(Ui,{onClick:e.onAddSubProjectButtonClick,variant:"contained",startIcon:x.jsx(HO,{}),children:"Подключить проект"})]}),x.jsxs(iR,{children:[x.jsx(sR,{children:"Плагины"}),x.jsx(Fw,{children:t.plugins.map(r=>x.jsx("div",{children:r},r))})]})]})),URe=be(Ui,{name:"EMainMenuFormViewAccountLogoutButton"})({alignSelf:"center"}),HRe=Ao()(({vm:e,hidden:t})=>{if(t)return null;const{projectCount:n,projectLimit:r,libCount:o,libLimit:i,profileName:s}=e;return x.jsxs(x.Fragment,{children:[x.jsxs(ri,{sx:{display:"flex",flexDirection:"column"},children:[x.jsx("h1",{children:s}),x.jsxs("h2",{children:["Проектов: ",n," (макс: ",r,")"]}),x.jsxs("h2",{children:["Библиотек: ",o," (макс: ",i,")"]})]}),x.jsx(URe,{size:"large",color:"error",variant:"contained",onClick:e.onLogoutButtonClick,children:"Выйти из аккаунта"})]})}),GRe=Ao()(({vm:e})=>{const{currentTab:t}=e,{currentProject:n,projectSelector:r}=e.ctx.app;return x.jsxs(x.Fragment,{children:[n&&x.jsx(zRe,{m:n,hidden:t!=="projectSettings"}),x.jsx(iG,{m:r,hidden:t!=="projectSelection"}),x.jsx(HRe,{hidden:t!=="account"})]})}),WRe=Dt(kRe)(({vm:e})=>x.jsx(gw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:hw},slotProps:{backdrop:{timeout:500}},children:x.jsx(Xg,{in:e.isModalOpen,children:x.jsxs(eG,{children:[x.jsxs(RRe,{children:[e.showProjectSettingsTab&&x.jsx(pm,{onClick:e.onProjectSettingsTabSelected,variant:e.currentTab==="projectSettings"?"contained":"outlined",children:"Настройки проекта"}),x.jsx(pm,{onClick:e.onProjectSelectionTabSelected,variant:e.currentTab==="projectSelection"?"contained":"outlined",children:"Выбор проекта"}),x.jsx(pm,{onClick:e.onAccountTabSelected,variant:e.currentTab==="account"?"contained":"outlined",children:"Аккаунт"}),e.showProjectSettingsTab&&x.jsx(pm,{onClick:e.onExportButtonClick,variant:"outlined",children:"Скачать проект в ZIP"}),e.showProjectSettingsTab&&x.jsx(pm,{onClick:e.showEmbedIframeCode,variant:"outlined",children:"Получить код для встраивания"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/docs",children:"Документация"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/editor/s2k-converter.zip",children:"Загрузить свой проект"})]}),x.jsx(tG,{children:x.jsx(GRe,{})})]})})}));class KRe extends Nt{get activeEditor(){return this.m.currentTab?.editor||null}}class qRe extends Nt{constructor(){super()}}class YRe extends Nt{constructor(){super(),this.optionsMenuOpen=!1,this.propsButtonRef=_.createRef(),this.onResetZoomButtonClick=()=>{this.scene.resetScale()},this.onHideClassesCheckboxChange=(t,n)=>this.scene.setLayers({hideChildren:!n}),this.onShowOtherCheckboxChange=(t,n)=>this.scene.setLayers({hideOther:!n}),this.onShowConnectionsCheckboxChange=(t,n)=>this.scene.setLayers({hideConnections:!n}),this.onSelectUnselectableCheckboxChange=(t,n)=>this.scene.setLayers({selectUnselectable:n}),this.onUndoButtonClick=()=>this.scene.undo(),this.onRedoButtonClick=()=>this.scene.redo(),this.onSelectPrevObjectButtonClick=()=>this.scene.selectNext(!0),this.onSelectNextObjectButtonClick=()=>this.scene.selectNext(),this.onCreateConnectionButtonClick=()=>this.scene.startCreateConnection(),this.onCreateLineButtonClick=()=>this.scene.startCreateLine(),this.onCreateRectButtonClick=()=>this.scene.startCreateRect(),this.onCreateTextButtonClick=()=>this.scene.startCreateText(),this.onCreateInputButtonClick=()=>this.scene.startCreateInput(),this.onCreateButtonButtonClick=()=>this.scene.startCreateButton(),this.onReorderButtonClick=()=>{const{scene:t}=this;t.isInChildReorderMode?t.cancel():t.startReorderChildren()},this.onSceneOptionsButtonClick=()=>{this.optionsMenuOpen=!0},this.onOptionsMenuClose=()=>{this.optionsMenuOpen=!1},vt(this,{optionsMenuOpen:Pe.ref,resetZoomButtonDisabled:qr,onSceneOptionsButtonClick:ye,onOptionsMenuClose:ye})}get scene(){return this.m.scene}get showClassesCheckboxChecked(){return!this.scene.hideChildren}get showConnectionsCheckboxChecked(){return!this.scene.hideConnections}get showOtherCheckboxChecked(){return!this.scene.hideOther}get selectUnselectableCheckboxChecked(){return this.scene.selectUnselectable}get statusCursorX(){return this.scene.lastCursorX.toString()}get statusCursorY(){return this.scene.lastCursorY.toString()}get zoom(){return Math.round(this.scene.viewScale*100).toString()}get resetZoomButtonDisabled(){return this.scene.viewScale===1}get undoButtonDisabled(){return!this.scene.canUndo}get redoButtonDisabled(){return!this.scene.canRedo}get reorderButtonActive(){return this.scene.isInChildReorderMode}get statusText(){return"scene.statusText"}get showSchemaButtons(){return!!this.scene.schema}get showSceneOptionsButton(){const{type:t}=this.m;return t==="fileSceneEditor"||t==="schemaEditor"}}class XRe extends Nt{get cursorPosition(){const{currentLineNumber:t,currentColumnIndex:n}=this.m;return`Строка: ${t}, столбец: ${n}`}}class ZRe extends Nt{constructor(){super(...arguments),this.onSaveButtonClick=()=>this.m.currentTab?.editor.save?.()}get currentEditor(){return this.m.currentTab?.editor||null}get showSaveButton(){return!!this.m.currentTab?.editor.save}get saveButtonDisabled(){return this.m.currentTab?.editor.isReadonly||!1}}class QRe extends Nt{constructor(){super(...arguments),this.setSizeVariant=t=>{this.setSceneOptions({...this.options,size:t==="content"?{type:"content"}:t==="fixed"?{type:"fixed",width:100,height:100}:null})},this.setWidth=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:r,height:n.height}})},this.setHeight=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:n.width,height:r}})},this.setPopup=(t,n)=>{this.setSceneOptions({...this.options,popup:n})},this.setFixed=(t,n)=>{this.setSceneOptions({...this.options,fixed:n})},this.setVScroll=(t,n)=>{this.setSceneOptions({...this.options,vscroll:n})},this.setHScroll=(t,n)=>{this.setSceneOptions({...this.options,hscroll:n})},this.seAutoOrg=(t,n)=>{this.setSceneOptions({...this.options,autoorg:n})},this.seAutoScroll=(t,n)=>{this.setSceneOptions({...this.options,autoscroll:n})}}get anchorEl(){return this.parent.propsButtonRef.current}get options(){const{m:t}=this.parent,{type:n}=t;return(n==="fileSceneEditor"?t.fileScene.data:n==="schemaEditor"?t.klass.scene:null)?.options||null}setSceneOptions(t){const{m:n}=this.parent,{type:r}=n;if(r==="fileSceneEditor"){const o={...n.fileScene.data};n.fileScene.setData({...o,options:t})}else if(r==="schemaEditor"){const o={...n.klass.scene};n.klass.set({scene:{...o,options:t}})}}get sizeVariant(){return this.options?.size?.type||"null"}get width(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get height(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get popup(){return this.options?.popup||!1}get fixed(){return this.options?.fixed||!1}get vscroll(){return this.options?.vscroll||!1}get hscroll(){return this.options?.hscroll||!1}get autoorg(){return this.options?.autoorg||!1}get autoScroll(){return this.options?.autoscroll||!1}}const aR=be("div",{name:"ESceneObjectViewEditors"})({boxSizing:"border-box",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",minWidth:0,padding:4,gap:8}),JRe=be(bo)({cursor:"pointer",textDecoration:"underline"}),eIe=be("button")({backgroundColor:"transparent",border:"none",margin:0,padding:0}),tIe=be("div",{name:"ESceneObjectViewToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"center",paddingLeft:4}),nIe=be(ul,{name:"ZValueIndicator"})({maxWidth:"25%",pointerEvents:"none","& input":{textAlign:"center"}});function sG({children:e,visible:t}){return t?x.jsx(Zg,{badgeContent:"+",children:e}):e}const rIe=be("div",{name:"ESceneView"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden"}),oIe=be(TU,{name:"RichTextEditorView"})({paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,marginLeft:6,marginRight:6,"& .public-DraftEditor-content":{whiteSpace:zve("pre")}}),iIe=be("form")({width:"100%"}),sIe=be("div",{name:"ESceneLineBrushImageView",shouldForwardProp:e=>e!=="dashed"})(({dashed:e})=>({display:"flex",flexDirection:"column",alignItems:"center",borderWidth:2,borderRadius:2,borderStyle:"dashed",...e&&{borderColor:"green"},backgroundColor:"#fafafa",color:"#bdbdbd",cursor:"pointer","*":{pointerEvents:"none"}})),aIe=be("input",{name:"ESceneLineBrushImageView",slot:"input"})({display:"none"}),lIe=be("img",{name:"ESceneLineBrushImageView",slot:"image"})({maxWidth:"100%",maxHeight:"100%",padding:2});function cIe(){return x.jsx(bo,{p:4,component:"p",children:"Выберите или перетащите изображение"})}function aG(e){return parseFloat(e)||0}function lG(e){return Math.max(parseFloat(e)||1,1)}class uIe extends Nt{constructor(){super(...arguments),this.setX=t=>this.m.set({x:aG(t)}),this.setY=t=>this.m.set({y:aG(t)})}get x(){return qu(this.m.x)}get y(){return qu(this.m.y)}}class dIe extends Nt{constructor(){super(...arguments),this.setW=t=>this.m.set({width:lG(t)}),this.setH=t=>this.m.set({height:lG(t)})}get w(){return qu(this.m.width)}get h(){return qu(this.m.height)}}class hIe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.setAngle(Ip(parseFloat(t)||0))}get value(){return qu(PC(this.m.angle))}}class fIe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.rotate(Ip(parseFloat(t)||0))}}class pIe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.set({name:t})}get value(){return this.m.name}}class gIe extends Nt{constructor(){super(...arguments),this.setValue=(t,n)=>this.m.set({isUnselectable:n})}get value(){return this.m.isUnselectable}}class mIe extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.set({layer:parseInt(t.target.value)})}get options(){return this.m.layerRange}get value(){return this.m.layer}}const vIe=parseInt(_.version,10),Yt=e=>{if(vIe>=19){const t=n=>e(n,n.ref??null);return t.displayName=e.displayName??e.name,t}return _.forwardRef(e)},_r=xt,cG=_r(x.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),uG=_r(x.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),dG=_r(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),hG=_r(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),yIe=_r(x.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),fG=_r(x.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})),bIe=_r(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}));_r(x.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})),_r(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));const wIe=_r(x.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),SIe=_r(x.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"})),CIe=_r(x.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"})),xIe=_r(x.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"})),_Ie=_r(x.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"})),EIe=_r(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),pG=_r(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),gG=_r(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),TIe=_r(x.jsx("path",{d:"M19 13H5v-2h14v2z"})),MIe=_r(x.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})),mG=_r(x.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),vG=_r(x.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),OIe=_r(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),RIe=_r(x.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),IIe=_r(x.jsx("g",{children:x.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})})),yG=_r(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));_r(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}));const PIe=_r(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),kIe=_r(x.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),bG=_.createContext(void 0),yt=()=>{const e=_.useContext(bG);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},DIe=["sortingOrder"],AIe=_.memo(function(t){const{sortingOrder:n}=t,r=gt(t,DIe),o=yt(),[i]=n,s=i==="asc"?o.slots.columnSortedAscendingIcon:o.slots.columnSortedDescendingIcon;return s?x.jsx(s,H({},r)):null}),wG=_.createContext(void 0);function hn(){const e=_.useContext(wG);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const LIe=new TextEncoder;let jw=2*1024,gm=new ArrayBuffer(jw),lR=new Uint8Array(gm),Bd=new Int32Array(gm);const NIe=BIe;function BIe(e){const t=e.length*2;t>jw&&(jw=t+(4-t%4),gm=new ArrayBuffer(jw),lR=new Uint8Array(gm),Bd=new Int32Array(gm));const n=LIe.encodeInto(e,lR).written,r=0,o=n|0;let i=0,s=(r+o|0)+374761393|0;if(o<16)for(;(i+3|0)<o;i=i+4|0)s=Math.imul(Ea(s+Math.imul(Bd[i]|0,3266489917)|0,17)|0,668265263);else{let a=r+606290984|0,c=r+2246822519|0,d=r,h=r-2654435761|0;for(;(i+15|0)<o;i=i+16|0)a=Math.imul(Ea(a+Math.imul(Bd[i+0|0]|0,2246822519)|0,13)|0,2654435761),c=Math.imul(Ea(c+Math.imul(Bd[i+4|0]|0,2246822519)|0,13)|0,2654435761),d=Math.imul(Ea(d+Math.imul(Bd[i+8|0]|0,2246822519)|0,13)|0,2654435761),h=Math.imul(Ea(h+Math.imul(Bd[i+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((Ea(a,1)|0+Ea(c,7)|0)+Ea(d,12)|0)+Ea(h,18)|0)+o|0;(i+3|0)<o;i=i+4|0)s=Math.imul(Ea(s+Math.imul(Bd[i]|0,3266489917)|0,17)|0,668265263)}for(;i<o;i=i+1|0)s=Math.imul(Ea(s+Math.imul(lR[i]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function Ea(e,t){return e<<t|e>>>32-t}const SG={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{const t=SG.values;return`@media (min-width:${typeof t[e]=="number"?t[e]:e}px)`}},CG={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},FIe=xG(CG),wt=H({breakpoints:SG,spacing:jIe,transition:VIe,keys:CG},FIe);function jIe(e,t,n,r){return e===void 0?Ta(1):t===void 0?Ta(e):n===void 0?Ta(e)+" "+Ta(t):r===void 0?Ta(e)+" "+Ta(t)+" "+Ta(n):Ta(e)+" "+Ta(t)+" "+Ta(n)+" "+Ta(r)}function Ta(e){return e===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${e})`}function VIe(e,t){const{duration:n=wt.transitions.duration.base,easing:r=wt.transitions.easing.easeInOut,delay:o=0}=t??{};return e.map(i=>`${i} ${n} ${r} ${o}ms`).join(", ")}function xG(e){if(typeof e=="string")return`var(${e})`;const t={};for(const n in e)Object.hasOwn(e,n)&&(t[n]=xG(e[n]));return t}function $Ie(){const e=il();return _.useMemo(()=>{const t=NIe(WIe(e)),n=zIe(e);return{id:t,variables:n}},[e])}function zIe(e){const t=HIe(e),n=(e.vars||e).palette.DataGrid,r=n?.bg??(e.vars||e).palette.background.default,o=n?.headerBg??r,i=n?.pinnedBg??r,s=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:zs(e.palette.background.default,e.palette.action.disabledOpacity),a=e.palette.mode==="dark"?`color-mix(in srgb, ${(e.vars||e).palette.background.paper} 95%, #fff)`:(e.vars||e).palette.background.paper,c=e.vars?`rgb(${e.vars.palette.primary.mainChannel})`:e.palette.primary.main,d=UIe(e),h=e.vars?.font?.body2??cR(e.typography.body2),f=e.vars?.font?.caption??cR(e.typography.caption),g=e.vars?.font?.body1??cR(e.typography.body1),m=wt.keys;return{[m.spacingUnit]:e.vars?e.vars.spacing??e.spacing(1):e.spacing(1),[m.colors.border.base]:t,[m.colors.background.base]:r,[m.colors.background.overlay]:a,[m.colors.background.backdrop]:s,[m.colors.foreground.base]:(e.vars||e).palette.text.primary,[m.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[m.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[m.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[m.colors.foreground.error]:(e.vars||e).palette.error.dark,[m.colors.interactive.hover]:(e.vars||e).palette.action.hover,[m.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[m.colors.interactive.focus]:_G((e.vars||e).palette.primary.main),[m.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[m.colors.interactive.disabled]:_G((e.vars||e).palette.action.disabled),[m.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[m.colors.interactive.selected]:c,[m.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[m.header.background.base]:o,[m.cell.background.pinned]:i,[m.radius.base]:d,[m.typography.fontFamily.base]:e.typography.fontFamily,[m.typography.fontWeight.light]:e.typography.fontWeightLight,[m.typography.fontWeight.regular]:e.typography.fontWeightRegular,[m.typography.fontWeight.medium]:e.typography.fontWeightMedium,[m.typography.fontWeight.bold]:e.typography.fontWeightBold,[m.typography.font.body]:h,[m.typography.font.small]:f,[m.typography.font.large]:g,[m.transitions.easing.easeIn]:e.transitions.easing.easeIn,[m.transitions.easing.easeOut]:e.transitions.easing.easeOut,[m.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[m.transitions.duration.short]:`${e.transitions.duration.shorter}ms`,[m.transitions.duration.base]:`${e.transitions.duration.short}ms`,[m.transitions.duration.long]:`${e.transitions.duration.standard}ms`,[m.shadows.base]:(e.vars||e).shadows[2],[m.shadows.overlay]:(e.vars||e).shadows[8],[m.zIndex.panel]:(e.vars||e).zIndex.modal,[m.zIndex.menu]:(e.vars||e).zIndex.modal}}function UIe(e){return e.vars?e.vars.shape.borderRadius:typeof e.shape.borderRadius=="number"?`${e.shape.borderRadius}px`:e.shape.borderRadius}function HIe(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Fg(zs(e.palette.divider,1),.88):Bg(zs(e.palette.divider,1),.68)}function GIe(e,t){return`rgba(from ${e} r g b / ${t})`}function _G(e){return GIe(e,1)}function cR(e){if(e)return`${e.fontWeight} ${e.fontSize} / ${e.lineHeight} ${e.fontFamily}`}function WIe(e){const t=new WeakSet;return JSON.stringify(e,(n,r)=>{if(typeof window<"u"&&r===window||typeof document<"u"&&r===document)return r.toString();if(r!==null&&typeof r=="object"){if(_.isValidElement(r)||t.has(r))return null;t.add(r)}return r})}const KIe=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],qIe=["onRowsPerPageChange","material","disabled"],YIe=["material"],XIe=["autoFocus","label","fullWidth","slotProps","className","material"],ZIe=["material"],QIe=["material"],JIe=["material"],ePe=["material"],tPe=["material"],nPe=["material"],rPe=["material"],oPe=["material"],iPe=["material","label","className"],sPe=["material"],aPe=["inert","iconStart","iconEnd","children","material"],lPe=["slotProps","material"],cPe=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],uPe=["key"],dPe=["inputProps","InputProps","InputLabelProps"],hPe=["slotProps","material"],fPe=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],pPe=["native"],EG=be(iEe)(({theme:e})=>({[`&.${RO.positionEnd} .${sO.sizeSmall}`]:{marginRight:e.spacing(-.75)}})),TG=be(Zl,{shouldForwardProp:e=>e!=="fullWidth"})(({theme:e})=>({gap:e.spacing(.5),margin:0,overflow:"hidden",[`& .${hf.label}`]:{fontSize:e.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),MG=be(cl,{shouldForwardProp:e=>e!=="density"})(({theme:e})=>({variants:[{props:{density:"compact"},style:{padding:e.spacing(.5)}}]})),gPe=be(LU)({[`& .${kd.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),mPe=Yt(function(t,n){const{id:r,label:o,labelId:i,material:s,disabled:a,slotProps:c,onChange:d,onKeyDown:h,onOpen:f,onClose:g,size:m,style:y,fullWidth:b}=t,v=gt(t,KIe),S={PaperProps:{onKeyDown:h}};return g&&(S.onClose=g),x.jsxs(vw,{size:m,fullWidth:b,style:y,disabled:a,ref:n,children:[x.jsx(PU,{id:i,htmlFor:r,shrink:!0,variant:"outlined",children:o}),x.jsx(Sw,H({id:r,labelId:i,label:o,displayEmpty:!0,onChange:d,variant:"outlined"},v,{notched:!0,inputProps:c?.htmlInput,onOpen:f,MenuProps:S,size:m},s))]})}),vPe=be(bTe)(({theme:e})=>({[`& .${Dd.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Dd.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),yPe=Yt(function(t,n){const{onRowsPerPageChange:r,material:o,disabled:i}=t,s=gt(t,qIe),a=_.useMemo(()=>{if(i)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[i]),c=hn(),d=yt(),{estimatedRowCount:h}=d;return x.jsx(vPe,H({component:"div",onRowsPerPageChange:Vt(f=>{r?.(Number(f.target.value))}),labelRowsPerPage:c.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:f=>c.current.getLocaleText("paginationDisplayedRows")(H({},f,{estimated:h})),getItemAriaLabel:c.current.getLocaleText("paginationItemAriaLabel")},a,s,o,{ref:n}))}),bPe=Yt(function(t,n){const{material:r}=t,o=gt(t,YIe);return x.jsx(Zg,H({},o,r,{ref:n}))}),wPe=Yt(function(t,n){const{autoFocus:r,label:o,fullWidth:i,slotProps:s,className:a,material:c}=t,d=gt(t,XIe),h=_.useRef(null),f=Mn(h,n),g=_.useRef(null);return _.useEffect(()=>{r?h.current?.querySelector("input")?.focus({preventScroll:!0}):r===!1&&g.current&&g.current.stop({})},[r]),o?x.jsx(TG,{className:a,control:x.jsx(MG,H({},d,c,{inputProps:s?.htmlInput,ref:f,touchRippleRef:g})),label:o,fullWidth:i}):x.jsx(MG,H({},d,c,{className:We(a,c?.className),inputProps:s?.htmlInput,ref:f,touchRippleRef:g}))}),SPe=Yt(function(t,n){const{material:r}=t,o=gt(t,ZIe);return x.jsx(af,H({},o,r,{ref:n}))}),CPe=Yt(function(t,n){const{material:r}=t,o=gt(t,QIe);return x.jsx(Jg,H({},o,r,{ref:n}))}),xPe=Yt(function(t,n){const{material:r}=t,o=gt(t,JIe);return x.jsx(yEe,H({},o,r,{ref:n}))}),_Pe=Yt(function(t,n){const{material:r}=t,o=gt(t,ePe);return x.jsx(Ui,H({},o,r,{ref:n}))}),EPe=Yt(function(t,n){const{material:r}=t,o=gt(t,tPe);return x.jsx(bO,H({},o,r,{ref:n}))}),TPe=Yt(function(t,n){const{material:r}=t,o=gt(t,nPe);return x.jsx(Sn,H({},o,r,{ref:n}))}),MPe=Yt(function(t,n){const{material:r}=t,o=gt(t,rPe);return x.jsx(On,H({},o,r,{ref:n}))}),OPe=Yt(function(t,n){const{material:r}=t,o=gt(t,oPe);return x.jsx(k1e,H({},o,r,{ref:n}))}),RPe=Yt(function(t,n){const{material:r,label:o,className:i}=t,s=gt(t,iPe);return o?x.jsx(TG,{className:i,control:x.jsx(XU,H({},s,r,{ref:n})),label:o}):x.jsx(XU,H({},s,r,{className:i,ref:n}))}),IPe=Yt(function(t,n){const{material:r}=t,o=gt(t,sPe);return x.jsx(FU,H({},o,r,{ref:n}))});function PPe(e){const{inert:t,iconStart:n,iconEnd:r,children:o,material:i}=e,s=gt(e,aPe);return t&&(s.disableRipple=!0),_.createElement(Hi,H({},s,i),[n&&x.jsx(yw,{children:n},"1"),x.jsx(gPe,{children:o},"2"),r&&x.jsx(yw,{children:r},"3")])}function kPe(e){const{slotProps:t,material:n}=e,r=gt(e,lPe);return x.jsx(ul,H({variant:"outlined"},r,n,{inputProps:t?.htmlInput,InputProps:uR(t?.input),InputLabelProps:H({shrink:!0},t?.inputLabel)}))}function DPe(e){const t=yt(),{id:n,multiple:r,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:d,label:h,placeholder:f,slotProps:g,material:m}=e,y=gt(e,cPe);return x.jsx(hU,H({id:n,multiple:r,freeSolo:o,options:i,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:d,renderTags:(b,v)=>b.map((S,E)=>{const T=v({index:E}),{key:R}=T,M=gt(T,uPe);return x.jsx(bO,H({variant:"outlined",size:"small",label:typeof S=="string"?S:s?.(S)},M),R)}),renderInput:b=>{const{inputProps:v,InputProps:S,InputLabelProps:E}=b,T=gt(b,dPe);return x.jsx(ul,H({},T,{label:h,placeholder:f,inputProps:v,InputProps:uR(S,!1),InputLabelProps:H({shrink:!0},E)},g?.textField,t.slotProps?.baseTextField))}},y,m))}function APe(e){return x.jsx(Yg,H({},uR(e)))}function uR(e,t=!0){if(!e)return;const{slotProps:n,material:r}=e,i=gt(e,hPe);t&&(i.startAdornment&&(i.startAdornment=x.jsx(EG,{position:"start",children:i.startAdornment})),i.endAdornment&&(i.endAdornment=x.jsx(EG,{position:"end",children:i.endAdornment})));for(const s in r)Object.hasOwn(r,s)&&(i[s]=r[s]);return n?.htmlInput&&(i.inputProps?i.inputProps=H({},i.inputProps,n?.htmlInput):i.inputProps=n?.htmlInput),i}const LPe={"bottom-start":"top left","bottom-end":"top right"};function NPe(e){const{open:t,children:n,className:r,flip:o,onExited:i,onDidShow:s,onDidHide:a,id:c,target:d,transition:h,placement:f,material:g}=e,m=gt(e,fPe),y=_.useMemo(()=>{const v=[{name:"preventOverflow",options:{padding:8}}];return o&&v.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||a)&&v.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s?.()},effect:()=>()=>{a?.()}}),v},[o,s,a]);let b;if(!h)b=OG(e,n);else{const v=S=>E=>{S&&S(),i&&i(E)};b=S=>OG(e,x.jsx(tm,H({},S.TransitionProps,{style:{transformOrigin:LPe[S.placement]},onExited:v(S.TransitionProps?.onExited),children:x.jsx(Md,{children:n})})))}return x.jsx(qg,H({id:c,className:r,open:t,anchorEl:d,transition:h,placement:f,modifiers:y},m,g,{children:b}))}function OG(e,t){return FPe(e,BPe(e,t))}function BPe(e,t){return e.onClickAway===void 0?t:x.jsx(Uxe,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function FPe(e,t){return e.focusTrap===void 0?t:x.jsx(CU,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:x.jsx("div",{tabIndex:-1,children:t})})}function jPe(e){let{native:t}=e,n=gt(e,pPe);return t?x.jsx("option",H({},n)):x.jsx(Hi,H({},n))}const VPe=H({},{baseAutocomplete:DPe,baseBadge:bPe,baseCheckbox:wPe,baseChip:EPe,baseCircularProgress:SPe,baseDivider:CPe,baseInput:APe,baseLinearProgress:xPe,baseMenuList:IPe,baseMenuItem:PPe,baseTextField:kPe,baseButton:_Pe,baseIconButton:TPe,baseTooltip:MPe,basePagination:yPe,basePopper:NPe,baseSelect:mPe,baseSelectOption:jPe,baseSkeleton:OPe,baseSwitch:RPe},{booleanCellTrueIcon:vG,booleanCellFalseIcon:pG,columnMenuIcon:EIe,openFilterButtonIcon:yIe,filterPanelDeleteIcon:pG,columnFilteredIcon:fG,columnSelectorIcon:wIe,columnUnsortedIcon:AIe,columnSortedAscendingIcon:cG,columnSortedDescendingIcon:uG,columnResizeIcon:SIe,densityCompactIcon:CIe,densityStandardIcon:xIe,densityComfortableIcon:_Ie,exportIcon:kIe,moreActionsIcon:OIe,treeDataCollapseIcon:hG,treeDataExpandIcon:dG,groupingCriteriaCollapseIcon:hG,groupingCriteriaExpandIcon:dG,detailPanelExpandIcon:gG,detailPanelCollapseIcon:TIe,rowReorderIcon:mG,quickFilterIcon:bIe,quickFilterClearIcon:yG,columnMenuHideIcon:RIe,columnMenuSortAscendingIcon:cG,columnMenuSortDescendingIcon:uG,columnMenuUnsortIcon:null,columnMenuFilterIcon:fG,columnMenuManageColumnsIcon:IIe,columnMenuClearIcon:yG,loadIcon:MIe,filterPanelAddIcon:gG,filterPanelRemoveAllIcon:PIe,columnReorderIcon:mG,menuItemCheckIcon:vG}),$Pe=()=>_.useRef(null),Mt=(...e)=>{const t=Bn(...e);return(r,o,i,s)=>t(dR(r),o,i,s)},Gn=(...e)=>{const t=pf(...e);return(r,o,i,s)=>t(dR(r),o,i,s)},kr=e=>(t,n)=>e(dR(t),n);function dR(e){return"current"in e?e.current.state:e}const Jr=kr(e=>e.dimensions),hR=Mt(Jr,e=>e.columnsTotalWidth),zPe=Mt(Jr,e=>e.rowHeight);Mt(Jr,e=>e.contentSize.height);const UPe=Mt(Jr,e=>e.hasScrollX),HPe=Mt(Jr,e=>e.hasScrollY),RG=Mt(Jr,e=>e.columnsTotalWidth<e.viewportOuterSize.width),GPe=Mt(Jr,e=>e.headerHeight),WPe=Mt(Jr,e=>e.groupHeaderHeight);Mt(Jr,e=>e.headerFilterHeight);const KPe=Mt(Jr,e=>e.hasScrollX?e.scrollbarSize:0),IG=Mt(Jr,e=>e.hasScrollY?e.scrollbarSize:0),qPe=Mt(Jr,KPe,(e,t)=>{const n=e.viewportOuterSize.height-e.minimumSize.height>0;return!(t===0&&!n)}),fR=kr(e=>e.rowsMeta),Ma=kr(e=>e.rows),vf=Mt(Ma,e=>e.totalRowCount),YPe=Mt(Ma,e=>e.loading),XPe=Mt(Ma,e=>e.totalTopLevelRowCount),Xs=Mt(Ma,e=>e.dataRowIdToModelLookup);Mt(Xs,(e,t)=>e[t]);const Ko=Mt(Ma,e=>e.tree),dl=Mt(Ko,(e,t)=>e[t]),ZPe=Mt(Ma,e=>e.groupsToFetch),QPe=Mt(Ma,e=>e.groupingName),PG=Mt(Ma,e=>e.treeDepths),mm=Gn(Ma,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:(t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]??0)+1}),Fd=Mt(Ma,e=>e.dataRowIds),JPe=Gn(Fd,Xs,(e,t)=>e.reduce((n,r)=>(t[r]&&n.push(t[r]),n),[])),eke=Mt(Ma,e=>e?.additionalRowGroups),vm=Gn(eke,e=>{const t=e?.pinnedRows;return{bottom:t?.bottom?.map(n=>({id:n.id,model:n.model??{}}))??[],top:t?.top?.map(n=>({id:n.id,model:n.model??{}}))??[]}}),kG=Mt(vm,e=>(e?.top?.length||0)+(e?.bottom?.length||0)),Lo="auto-generated-group-node-root",jd=Symbol("mui.id_autogenerated"),tke=()=>({type:"group",id:Lo,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function nke(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const Vw=(e,t,n)=>{const r=t?t(e):e.id;return nke(r,e,n),r},rke=(e,t,n)=>{const r=t.field;if(!t||!t.valueGetter)return e[r];const o=e[t.field];return t.valueGetter(o,e,t,n)},$w=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const o={type:"full",rows:[]},i={};for(let s=0;s<e.length;s+=1){const a=e[s],c=Vw(a,t);i[c]=a,o.rows.push(c)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:o,dataRowIdToModelLookup:i}},DG=({tree:e,rowCountProp:t=0})=>{const n=e[Lo];return Math.max(t,n.children.length+(n.footerId==null?0:1))},AG=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:r,previousTreeDepths:o,previousGroupsToFetch:i})=>{const s=e.current.caches.rows,{tree:a,treeDepths:c,dataRowIds:d,groupingName:h,groupsToFetch:f=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:o,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:i}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:c,dataRowIds:d,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},H({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:DG({tree:g.tree,rowCountProp:t}),groupingName:h,loading:n,groupsToFetch:f})},LG=e=>jd in e,yf=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,pR=(e,t,n,r)=>{const o=e[t];if(o.type!=="group")return[];const i=[];for(let s=0;s<o.children.length;s+=1){const a=o.children[s];if((!n||!yf(e[a]))&&i.push(a),r)continue;const c=pR(e,a,n,r);for(let d=0;d<c.length;d+=1)i.push(c[d])}return!n&&o.footerId!=null&&i.push(o.footerId),i},NG=({previousCache:e,getRowId:t,updates:n,groupKeys:r})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const o=new Map;n.forEach(d=>{const h=Vw(d,t,"A row was provided without id when calling updateRows():");o.has(h)?o.set(h,H({},o.get(h),d)):o.set(h,d)});const i={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:H({},e.updates.idToActionLookup),groupKeys:r},s=H({},e.dataRowIdToModelLookup),a={insert:{},modify:{},remove:{}};o.forEach((d,h)=>{const f=i.idToActionLookup[h];if(d._action==="delete"){if(f==="remove"||!s[h])return;f!=null&&(a[f][h]=!0),i.actions.remove.push(h),delete s[h];return}const g=s[h];if(g){f==="remove"?(a.remove[h]=!0,i.actions.modify.push(h)):f==null&&i.actions.modify.push(h),s[h]=H({},g,d);return}f==="remove"?(a.remove[h]=!0,i.actions.insert.push(h)):f==null&&i.actions.insert.push(h),s[h]=d});const c=Object.keys(a);for(let d=0;d<c.length;d+=1){const h=c[d],f=a[h];Object.keys(f).length>0&&(i.actions[h]=i.actions[h].filter(g=>!f[g]))}return{dataRowIdToModelLookup:s,updates:i,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}},BG="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function FG(e,t,n){const r=[];return t.forEach(o=>{const i=Vw(o,n,"A row was provided without id when calling updateRows():");if(dl(e,i)?.type==="pinnedRow"){const a=e.current.caches.pinnedRows,c=a.idLookup[i];c&&(a.idLookup[i]=H({},c,o))}else r.push(o)}),r}const jG=(e,t,n)=>typeof e=="number"&&e>0?e:t;function ec(e){return _.memo(e,QH)}const oke={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:n,estimated:r})=>{if(!r)return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`;const o=r&&r>t?`around ${r}`:`more than ${t}`;return`${e}–${t} of ${n!==-1?n:o}`},paginationItemAriaLabel:e=>e==="first"?"Go to first page":e==="last"?"Go to last page":e==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt…",promptFieldPlaceholderWithRecording:"Type or record a prompt…",promptFieldPlaceholderListening:"Listening for prompt…",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing…",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,n)=>t==="is any of"?`${e} is any of: ${n}`:`${e} ${t} ${n}`,promptChangeFilterDescription:(e,t,n)=>t==="is any of"?`Filter where ${e} is any of: ${n}`:`Filter where ${e} ${t} ${n}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`};function _n(e){return qt("MuiDataGrid",e)}const oe=Gt("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let Oa=(function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e})({});const VG=1e3;class ike{timeouts=new Map;cleanupTimeout=VG;constructor(t=VG){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class ske{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class gR{static create(){return new gR}}const zw={current:lke()};let $G=0;function Et(e,t,n,r){const o=_.useState(gR.create)[0],i=_.useRef(null),s=_.useRef(null);s.current=n;const a=_.useRef(null);if(!i.current&&s.current){const c=(d,h,f)=>{h.defaultMuiPrevented||s.current?.(d,h,f)};i.current=e.current.subscribeEvent(t,c,r),$G+=1,a.current={cleanupToken:$G},zw.current.register(o,()=>{i.current?.(),i.current=null,a.current=null},a.current)}else!s.current&&i.current&&(i.current(),i.current=null,a.current&&(zw.current.unregister(a.current),a.current=null));_.useEffect(()=>{if(!i.current&&s.current){const c=(d,h,f)=>{h.defaultMuiPrevented||s.current?.(d,h,f)};i.current=e.current.subscribeEvent(t,c,r)}return a.current&&zw.current&&(zw.current.unregister(a.current),a.current=null),()=>{i.current?.(),i.current=null}},[e,t,r])}const ake={isFirst:!0};function hr(e,t,n){Et(e,t,n,ake)}function lke(){return typeof FinalizationRegistry<"u"?new ske:new ike}const cke=Object.is,zG=QH,uke=(e,t)=>e===t?!0:e.length===t.length&&e.every((n,r)=>n===t[r]),dke=(e,t)=>{let n=Object.is;return t instanceof Array?n=uke:t instanceof Object&&(n=zG),n(e,t)},hke=()=>({state:null,equals:null,selector:null,args:void 0}),UG=[],fke=()=>null;function tt(e,t,n=void 0,r=cke){const o=cs(hke),i=o.current.selector!==null,[s,a]=_.useState(i?null:t(e,n));o.current.state=s,o.current.equals=r,o.current.selector=t;const c=o.current.args;if(o.current.args=n,i&&!dke(c,n)){const f=o.current.selector(e,o.current.args);o.current.equals(o.current.state,f)||(o.current.state=f,a(f))}const d=_.useCallback(()=>(o.current.subscription||(o.current.subscription=e.current.store.subscribe(()=>{const f=o.current.selector(e,o.current.args);o.current.equals(o.current.state,f)||(o.current.state=f,a(f))})),null),UG),h=_.useCallback(()=>(o.current.subscription||d(),()=>{o.current.subscription&&(o.current.subscription(),o.current.subscription=void 0)}),UG);return dM.useSyncExternalStore(h,d,fke),s}const pke={compact:.7,comfortable:1.3,standard:1},bf=kr(e=>e.density),ym=Mt(bf,e=>pke[e]);function hl(e){throw new Error("Failed assertion: should not be rendered")}const gke=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],mke=e=>{const{classes:t}=e;return ft({root:["editInputCell"]},_n,t)},vke=be(hl,{name:"MuiDataGrid",slot:"EditInputCell"})({font:wt.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),yke=Yt((e,t)=>{const n=yt(),{id:r,value:o,field:i,colDef:s,hasFocus:a,debounceMs:c=200,isProcessingProps:d,onValueChange:h,slotProps:f}=e,g=gt(e,gke),m=hn(),y=_.useRef(null),[b,v]=_.useState(o),S=mke(n),E=_.useCallback(async R=>{const M=R.target.value,I=m.current.getColumn(i);let N=M;I.valueParser&&(N=I.valueParser(M,m.current.getRow(r),I,m)),v(N),m.current.setEditCellValue({id:r,field:i,value:N,debounceMs:c,unstable_skipValueParser:!0},R),h&&await h(R,M)},[m,c,i,r,h]),T=m.current.unstable_getEditCellMeta(r,i);return _.useEffect(()=>{T?.changeReason!=="debouncedSetEditCellValue"&&v(o)},[T,o]),Hn(()=>{a&&y.current.focus()},[a]),x.jsx(vke,H({as:n.slots.baseInput,inputRef:y,className:S.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:b??"",onChange:E,endAdornment:d?x.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g,f?.root,{ref:t}))}),bke=e=>x.jsx(yke,H({},e)),HG=(e,t)=>t&&e.length>1?[e[0]]:e,GG=(e,t)=>n=>H({},n,{sorting:H({},n.sorting,{sortModel:HG(e,t)})}),wke=e=>e==="desc",Ske=(e,t)=>{const n=t.current.getColumn(e.field);if(!n||e.sort===null)return null;let r;return n.getSortComparator?r=n.getSortComparator(e.sort):r=wke(e.sort)?(...i)=>-1*n.sortComparator(...i):n.sortComparator,r?{getSortCellParams:i=>({id:i,field:n.field,rowNode:dl(t,i),value:t.current.getCellValue(i,n.field),api:t.current}),comparator:r}:null},Cke=(e,t,n)=>e.reduce((r,o,i)=>{if(r!==0)return r;const s=t.params[i],a=n.params[i];return r=o.comparator(s.value,a.value,s,a),r},0),xke=(e,t)=>{const n=e.map(r=>Ske(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>Cke(n,o,i)).map(o=>o.node.id)},WG=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},mR=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,_ke=new Intl.Collator,Eke=(e,t)=>{const n=mR(e,t);return n!==null?n:typeof e=="string"?_ke.compare(e.toString(),t.toString()):e-t},KG=(e,t)=>{const n=mR(e,t);return n!==null?n:Number(e)-Number(t)},qG=(e,t)=>{const n=mR(e,t);return n!==null?n:e>t?1:e<t?-1:0},Tke=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function Zs(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,tabIndex:s,disabled:a,slotProps:c,clearButton:d,headerFilterMenu:h}=e,f=gt(e,Tke),g=c?.root,m=Vi(),[y,b]=_.useState(vR(t.value)),[v,S]=_.useState(!1),E=kn(),T=yt(),R=_.useCallback(M=>{const I=vR(M.target.value);b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=H({},t,{value:r==="number"&&!Number.isNaN(Number(I))?Number(I):I,fromInput:E});n(N),S(!1)})},[m,T.filterDebounceMs,t,r,E,n]);return _.useEffect(()=>{(t.fromInput!==E||t.value==null)&&b(vR(t.value))},[E,t]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,H({id:E,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:y??"",onChange:R,type:r||"text",disabled:a,slotProps:H({},g?.slotProps,{input:H({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.slotProps?.input),htmlInput:H({tabIndex:s},g?.slotProps?.htmlInput)}),inputRef:i},T.slotProps?.baseTextField,f,g)),h,d]})}function vR(e){if(!(e==null||e===""))return String(e)}function Mke(e){return typeof e=="number"&&!Number.isNaN(e)}function Oke(e){return typeof e=="function"}function yR(e){return typeof e=="object"&&e!==null}function Rke(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Uw(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Vd=(e,t,n)=>Math.max(t,Math.min(n,e));function Ike(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Pke(e){const t=Ike(e);return(n,r)=>n+(r-n)*t()}function YG(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const nu=(e,t)=>n=>{e&&t(n)};function XG(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s}=e,a=kn(),[c,d]=_.useState([]),[h,f]=_.useState(t.value||[]),g=yt();_.useEffect(()=>{const v=t.value??[];f(v.map(String))},[t.value]);const m=_.useCallback((v,S)=>{f(S.map(String)),n(H({},t,{value:[...S.map(E=>r==="number"?Number(E):E)]}))},[n,t,r]),y=_.useCallback((v,S)=>{d(S===""?[]:[S])},[d]),b=g.slots.baseAutocomplete;return x.jsx(b,H({multiple:!0,freeSolo:!0,options:c,id:a,value:h,onChange:m,onInputChange:y,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:i}}},s?.root))}var fl=(function(e){return e.Cell="cell",e.Row="row",e})(fl||{}),Xn=(function(e){return e.Edit="edit",e.View="view",e})(Xn||{}),Er=(function(e){return e.Edit="edit",e.View="view",e})(Er||{}),Ei=(function(e){return e.And="and",e.Or="or",e})(Ei||{});class kke{constructor(t){this.data=t.ids}has(t){return this.data.has(t)}select(t){this.data.add(t)}unselect(t){this.data.delete(t)}}class Dke{constructor(t){this.data=t.ids}has(t){return!this.data.has(t)}select(t){this.data.delete(t)}unselect(t){this.data.add(t)}}const ru=e=>e.type==="include"?new kke(e):new Dke(e);var tc=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e})(tc||{}),Qs=(function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(Qs||{}),ou=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e})(ou||{}),pl=(function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(pl||{});function ZG(e){return e.field!==void 0}const QG={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},bm=()=>({items:[],logicOperator:Ei.And,quickFilterValues:[],quickFilterLogicOperator:Ei.And});function JG(e){return{current:e.current.getPublicApi()}}let iu=(function(e){return e.LEFT="left",e.RIGHT="right",e})({});const Hw={left:[],right:[]},e2=kr(e=>e.isRtl),t2=kr(e=>e.props.listView??!1),n2=kr(e=>e.listViewColumn),Ra=kr(e=>e.columns),gl=Mt(Ra,e=>e.orderedFields),nc=Mt(Ra,e=>e.lookup),Js=Gn(gl,nc,(e,t)=>e.map(n=>t[n])),ea=Mt(Ra,e=>e.columnVisibilityModel),Ake=Mt(Ra,e=>e.initialColumnVisibilityModel),eo=Gn(Js,ea,t2,n2,(e,t,n,r)=>n&&r?[r]:e.filter(o=>t[o.field]!==!1)),wm=Gn(eo,e=>e.map(t=>t.field)),r2=kr(e=>e.pinnedColumns);Gn(r2,gl,e2,(e,t,n)=>o2(e,t,n));const Gw=Gn(Ra,r2,wm,e2,t2,(e,t,n,r,o)=>{if(o)return Hw;const i=o2(t,n,r);return{left:i.left.map(a=>e.lookup[a]),right:i.right.map(a=>e.lookup[a])}});function o2(e,t,n){if(!Array.isArray(e.left)&&!Array.isArray(e.right)||e.left?.length===0&&e.right?.length===0)return Hw;const r=(a,c)=>Array.isArray(a)?a.filter(d=>c.includes(d)):[],o=r(e.left,t),i=t.filter(a=>!o.includes(a)),s=r(e.right,i);return n?{left:s,right:o}:{left:o,right:s}}const $d=Gn(eo,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),i2=Gn(Js,e=>e.filter(t=>t.filterable)),Lke=Gn(Js,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),Nke=Gn(Js,e=>e.some(t=>t.colSpan!==void 0));let Sm;function Bke(){if(Sm!==void 0)return Sm;try{Sm=new Function("return true")()}catch{Sm=!1}return Sm}const bR=(e,t)=>{const n=H({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=nc(t)[n.field];n.operator=r&&r.filterOperators[0].value}return n},wR=(e,t,n)=>{const r=e.items.length>1;let o;r&&t?o=[e.items[0]]:o=e.items;const i=r&&o.some(a=>a.id==null);return o.some(a=>a.operator==null)||i?H({},e,{items:o.map(a=>bR(a,n))}):e.items!==o?H({},e,{items:o}):e},s2=(e,t,n)=>r=>H({},r,{filterModel:wR(e,t,n)}),Cm=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,a2=(e,t)=>{if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){const h=n.valueParser;r=Array.isArray(e.value)?e.value?.map(f=>h(f,void 0,n,t)):h(e.value,void 0,n,t)}else r=e.value;const{ignoreDiacritics:o}=t.current.rootProps;o&&(r=Cm(r));const i=H({},e,{value:r}),s=n.filterOperators;if(!s?.length)throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const a=s.find(h=>h.value===i.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${i.operator}'.`);const c=JG(t),d=a.getApplyFilterFn(i,n);return typeof d!="function"?null:{item:i,fn:h=>{let f=t.current.getRowValue(h,n);return o&&(f=Cm(f)),d(f,h,n,c)}}};let l2=1;const Fke=(e,t,n)=>{const{items:r}=e,o=r.map(a=>a2(a,t)).filter(a=>!!a);if(o.length===0)return null;if(n||!Bke())return(a,c)=>{const d={};for(let h=0;h<o.length;h+=1){const f=o[h];(!c||c(f.item.field))&&(d[f.item.id]=f.fn(a))}return d};const i=new Function("appliers","row","shouldApplyFilter",`"use strict";
${o.map((a,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${o.map((a,c)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(l2)));return l2+=1,(a,c)=>i(o,a,c)},c2=e=>e.quickFilterExcludeHiddenColumns??!0,jke=(e,t)=>{const n=e.quickFilterValues?.filter(Boolean)??[];if(n.length===0)return null;const r=gl(t),o=ea(t);let i;c2(e)?i=r.filter(d=>o[d]!==!1):i=r;const s=[],{ignoreDiacritics:a}=t.current.rootProps,c=JG(t);return i.forEach(d=>{const h=t.current.getColumn(d),f=h?.getApplyQuickFilterFn;f&&s.push({column:h,appliers:n.map(g=>{const m=a?Cm(g):g;return{fn:f(m,h,c)}})})}),function(h,f){const g={};e:for(let m=0;m<n.length;m+=1){const y=n[m];for(let b=0;b<s.length;b+=1){const{column:v,appliers:S}=s[b],{field:E}=v;if(f&&!f(E))continue;const T=S[m];let R=t.current.getRowValue(h,v);if(T.fn===null)continue;if(a&&(R=Cm(R)),T.fn(R,h,v,c)){g[y]=!0;continue e}}g[y]=!1}return g}},Vke=(e,t,n)=>{const r=Fke(e,t,n),o=jke(e,t);return function(s,a,c){c.passingFilterItems=r?.(s,a)??null,c.passingQuickFilterValues=o?.(s,a)??null}},u2=e=>e!=null,$ke=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(r=>a2(r,t)!==null)),e.cleanedFilterItems),zke=(e,t,n,r,o)=>{const i=$ke(o,r,n.items),s=e.filter(u2),a=t.filter(u2);if(s.length>0){const c=h=>s.some(f=>f[h.id]);if((n.logicOperator??bm().logicOperator)===Ei.And){if(!i.every(c))return!1}else if(!i.some(c))return!1}if(a.length>0&&n.quickFilterValues!=null){const c=h=>a.some(f=>f[h]);if((n.quickFilterLogicOperator??bm().quickFilterLogicOperator)===Ei.And){if(!n.quickFilterValues.every(c))return!1}else if(!n.quickFilterValues.some(c))return!1}return!0},Uke=e=>{if(!e)return null;const t=new RegExp(Uw(e),"i");return(n,r,o,i)=>{let s=i.current.getRowFormattedValue(r,o);return i.current.ignoreDiacritics&&(s=Cm(s)),s!=null?t.test(s.toString()):!1}},d2=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new RegExp(Uw(r),"i");return i=>{if(i==null)return t;const s=o.test(String(i));return t?!s:s}},h2=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>{if(i==null)return t;const s=o.compare(r,i.toString())===0;return t?!s:s}},f2=e=>()=>t=>{const n=t===""||t==null;return e?!n:n},Ia={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Eke,type:"string",align:"left",filterOperators:((e=!1)=>[{value:"contains",getApplyFilterFn:d2(e,!1),InputComponent:Zs},{value:"doesNotContain",getApplyFilterFn:d2(e,!0),InputComponent:Zs},{value:"equals",getApplyFilterFn:h2(e,!1),InputComponent:Zs},{value:"doesNotEqual",getApplyFilterFn:h2(e,!0),InputComponent:Zs},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${Uw(n)}.*$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:Zs},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${Uw(n)}$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:Zs},{value:"isEmpty",getApplyFilterFn:f2(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:f2(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return o=>o!=null?n.some(i=>r.compare(i,o.toString()||"")===0):!1},InputComponent:XG}])(),renderEditCell:bke,getApplyQuickFilterFn:Uke};function p2(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Ww=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",Hke=e=>!!e.key,g2=e=>e==="Tab"||e==="Escape";function m2(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="V"&&!e.shiftKey&&!e.altKey}function Gke(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="C"&&!e.shiftKey&&!e.altKey}const v2=_.createContext(void 0),Kw=()=>{const e=_.useContext(v2);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e},Wke="MuiDataGridVariables",SR=_.createContext({className:"unset",tag:x.jsx("style",{href:"/unset"})});function y2(){return _.useContext(SR).className}function Kke(){return _.useContext(SR)}function qke(e){const t=Kw(),n=yt(),r=t.hooks.useCSSVariables(),o=_.useMemo(()=>{const i=`${Wke}-${r.id}`,s=`.${i}{${Yke(r.variables)}}`,a=x.jsx("style",{href:`/${i}`,nonce:n.nonce,children:s});return{className:i,tag:a}},[n.nonce,r]);return x.jsx(SR.Provider,{value:o,children:e.children})}function Yke(e){let t="";for(const n in e)Object.hasOwn(e,n)&&e[n]!==void 0&&(t+=`${n}:${e[n]};`);return t}const Xke=["open","target","onClose","children","position","className","onExited"],Zke=e=>{const{classes:t}=e;return ft({root:["menu"]},_n,t)},Qke=be(hl,{name:"MuiDataGrid",slot:"Menu"})({zIndex:wt.zIndex.menu,[`& .${oe.menuList}`]:{outline:0}});function qw(e){const{open:t,target:n,onClose:r,children:o,position:i,className:s,onExited:a}=e,c=gt(e,Xke),d=hn(),h=yt(),f=Zke(h),g=y2(),m=_.useRef(null);Hn(()=>{t?m.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(m.current?.focus?.(),m.current=null)},[t]),_.useEffect(()=>{const v=t?"menuOpen":"menuClose";d.current.publishEvent(v,{target:n})},[d,t,n]);const y=v=>{v.target&&(n===v.target||n?.contains(v.target))||r(v)},b=v=>{g2(v.key)&&r(v)};return x.jsx(Qke,H({as:h.slots.basePopper,className:We(f.root,s,g),ownerState:h,open:t,target:n,transition:!0,placement:i,onClickAway:y,onExited:a,clickAwayMouseEvent:"onMouseDown",onKeyDown:b},c,h.slotProps?.basePopper,{children:o}))}const Jke=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],eDe=e=>typeof e.getActions=="function";function tDe(e){const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:i="bottom-end",focusElementRef:s}=e,a=gt(e,Jke),[c,d]=_.useState(-1),[h,f]=_.useState(!1),g=hn(),m=_.useRef(null),y=_.useRef(null),b=_.useRef(!1),v=_.useRef({}),S=Go(),E=kn(),T=kn(),R=yt();if(!eDe(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const M=t.getActions(g.current.getRowParams(n)),I=M.filter(V=>!V.props.showInMenu),N=M.filter(V=>V.props.showInMenu),P=I.length+(N.length?1:0);_.useLayoutEffect(()=>{r||Object.entries(v.current).forEach(([V,Y])=>{Y?.stop({},()=>{delete v.current[V]})})},[r]),_.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),_.useEffect(()=>{r||(d(-1),b.current=!1)},[r]),_.useImperativeHandle(s,()=>({focus(){if(!b.current){const V=M.findIndex(Y=>!Y.props.disabled);d(V)}}}),[M]),_.useEffect(()=>{c>=P&&d(P-1)},[c,P]);const L=()=>{f(!0),d(P-1),b.current=!0},A=()=>{f(!1)},$=V=>{V.stopPropagation(),V.preventDefault(),h?A():L()},B=V=>Y=>{v.current[V]=Y},U=(V,Y)=>Q=>{d(V),b.current=!0,Y&&Y(Q)},K=V=>{if(P<=1)return;const Y=(te,z)=>{if(te<0||te>M.length)return te;const Z=(z==="left"?-1:1)*(S?-1:1);return M[te+Z]?.props.disabled?Y(te+Z,z):te+Z};let Q=c;V.key==="ArrowRight"?Q=Y(c,"right"):V.key==="ArrowLeft"&&(Q=Y(c,"left")),!(Q<0||Q>=P)&&Q!==c&&(V.preventDefault(),V.stopPropagation(),d(Q))},G=P>0?{role:"menu",onKeyDown:K}:void 0;return x.jsxs("div",H({ref:m,tabIndex:-1,className:oe.actionsCell},G,a,{children:[I.map((V,Y)=>_.cloneElement(V,{key:Y,touchRippleRef:B(Y),onClick:U(Y,V.props.onClick),tabIndex:c===Y?o:-1})),N.length>0&&T&&x.jsx(R.slots.baseIconButton,H({ref:y,id:T,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":h,"aria-controls":h?E:void 0,role:"menuitem",size:"small",onClick:$,touchRippleRef:B(T),tabIndex:c===I.length?o:-1},R.slotProps?.baseIconButton,{children:x.jsx(R.slots.moreActionsIcon,{fontSize:"small"})})),N.length>0&&x.jsx(qw,{open:h,target:y.current,position:i,onClose:A,children:x.jsx(R.slots.baseMenuList,{id:E,className:oe.menuList,"aria-labelledby":T,autoFocusItem:!0,children:N.map((V,Y)=>_.cloneElement(V,{key:Y,closeMenu:A}))})})]}))}const nDe=e=>x.jsx(tDe,H({},e)),Yw="actions",rDe=H({},Ia,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:nDe,getApplyQuickFilterFn:()=>null}),oDe="__tree_data_group__",b2="__row_group_by_columns_group__",CR="__detail_panel_toggle__";let Rn=(function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e})({});const iDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],sDe=e=>{const{classes:t}=e;return ft({root:["booleanCell"]},_n,t)};function aDe(e){const{value:t,rowNode:n}=e,r=gt(e,iDe),o=hn(),i=yt(),s={classes:i.classes},a=sDe(s),d=tt(o,mm)>0&&n.type==="group"&&i.treeData===!1,h=_.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return d&&t===void 0?null:x.jsx(h,H({fontSize:"small",className:a.root,titleAccess:o.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},r))}const lDe=_.memo(aDe),cDe=e=>e.field!==b2&&yf(e.rowNode)?"":x.jsx(lDe,H({},e)),uDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],dDe=e=>{const{classes:t}=e;return ft({root:["editBooleanCell"]},_n,t)};function hDe(e){const{id:t,value:n,field:r,className:o,hasFocus:i,onValueChange:s}=e,a=gt(e,uDe),c=hn(),d=_.useRef(null),h=kn(),[f,g]=_.useState(n),m=yt(),y={classes:m.classes},b=dDe(y),v=_.useCallback(async S=>{const E=S.target.checked;s&&await s(S,E),g(E),await c.current.setEditCellValue({id:t,field:r,value:E},S)},[c,r,t,s]);return _.useEffect(()=>{g(n)},[n]),Hn(()=>{i&&d.current.focus()},[i]),x.jsx("label",H({htmlFor:h,className:We(b.root,o)},a,{children:x.jsx(m.slots.baseCheckbox,H({id:h,inputRef:d,checked:!!f,onChange:v,size:"small"},m.slotProps?.baseCheckbox))}))}const fDe=e=>x.jsx(hDe,H({},e)),pDe=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function gDe(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,headerFilterMenu:i,clearButton:s,tabIndex:a,slotProps:c}=e,d=gt(e,pDe),[h,f]=_.useState(Xw(t.value)),g=yt(),m=kn(),y=kn(),b=g.slotProps?.baseSelect||{},v=b.native??!1,S=g.slotProps?.baseSelectOption||{},E=_.useCallback(M=>{const I=Xw(M.target.value);f(I),n(H({},t,{value:I}))},[n,t]);_.useEffect(()=>{f(Xw(t.value))},[t.value]);const T=c?.root.label??r.current.getLocaleText("filterPanelInputLabel"),R=c?.root.slotProps;return x.jsxs(_.Fragment,{children:[x.jsxs(g.slots.baseSelect,H({fullWidth:!0,labelId:m,id:y,label:T,value:h===void 0?"":String(h),onChange:E,native:v,slotProps:{htmlInput:H({ref:o,tabIndex:a},R?.htmlInput)}},b,d,c?.root,{children:[x.jsx(g.slots.baseSelectOption,H({},S,{native:v,value:"",children:r.current.getLocaleText("filterValueAny")})),x.jsx(g.slots.baseSelectOption,H({},S,{native:v,value:"true",children:r.current.getLocaleText("filterValueTrue")})),x.jsx(g.slots.baseSelectOption,H({},S,{native:v,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]})),i,s]})}function Xw(e){if(String(e).toLowerCase()==="true")return!0;if(String(e).toLowerCase()==="false")return!1}const mDe=()=>[{value:"is",getApplyFilterFn:e=>{const t=Xw(e.value);return t===void 0?null:n=>!!n===t},InputComponent:gDe}],vDe=(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),yDe=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},w2=H({},Ia,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:cDe,renderEditCell:fDe,sortComparator:KG,valueFormatter:vDe,filterOperators:mDe(),getApplyQuickFilterFn:()=>null,aggregable:!1,pastedValueParser:e=>yDe(e)});function Zw(e){for(const t in e)return!1;return!0}const S2=kr(e=>e.sorting),xm=Mt(S2,e=>e.sortedRows),xR=Gn(xm,Xs,Ko,(e,t,n)=>e.reduce((r,o)=>{const i=t[o];if(i)r.push({id:o,model:i});else{const s=n[o];s&&yf(s)&&r.push({id:o,model:{[jd]:o}})}return r},[])),ta=Mt(S2,e=>e.sortModel),bDe=Gn(ta,e=>e.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?o+1:void 0},n),{}));Gn(xm,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const Qw=kr(e=>e.filter),No=Mt(Qw,e=>e.filterModel),C2=Mt(No,e=>e.quickFilterValues),wDe=kr(e=>e.visibleRowsLookup),wf=Mt(Qw,e=>e.filteredRowsLookup);Mt(Qw,e=>e.filteredChildrenCountLookup),Mt(Qw,e=>e.filteredDescendantCountLookup);const su=Gn(wDe,xR,(e,t)=>Zw(e)?t:t.filter(n=>e[n.id]!==!1)),zd=Gn(su,e=>e.map(t=>t.id)),x2=Gn(wf,xR,(e,t)=>Zw(e)?t:t.filter(n=>e[n.id]!==!1)),_2=Gn(x2,e=>e.map(t=>t.id));Gn(zd,Ko,(e,t)=>{const n={};let r=0;return e.reduce((o,i)=>{const s=t[i];return n[s.depth]||(n[s.depth]=0),s.depth>r&&(n[s.depth]=0),r=s.depth,n[s.depth]+=1,o[i]=n[s.depth],o},{})});const E2=Gn(su,Ko,mm,(e,t,n)=>n<2?e:e.filter(r=>t[r.id]?.depth===0)),_R=Mt(su,e=>e.length),ER=Mt(E2,e=>e.length),T2=Mt(x2,e=>e.length);Mt(T2,ER,(e,t)=>e-t);const TR=Gn(No,nc,(e,t)=>e.items?.filter(n=>{if(!n.field)return!1;const r=t[n.field];if(!r?.filterOperators||r?.filterOperators?.length===0)return!1;const o=r.filterOperators.find(i=>i.value===n.operator);return o?!o.InputComponent||n.value!=null&&n.value?.toString()!=="":!1})),SDe=Gn(TR,e=>e.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{}));Gn(zd,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const Pa=kr(e=>e.rowSelection),_m=Gn(Pa,ru),Jw=Mt(Pa,T2,(e,t)=>e.type==="include"?e.ids.size:t-e.ids.size),M2=Gn(Pa,Xs,Fd,(e,t,n)=>{const r=new Map;if(e.type==="include")for(const o of e.ids)r.set(o,t[o]);else for(let o=0;o<n.length;o+=1){const i=n[o];e.ids.has(i)||r.set(i,t[i])}return r});function O2(e,t){const n=Ko(e),r=xm(e),o=wf(e),i=n[t];if(!i||i.type!=="group")return[];const s=[],a=r.findIndex(c=>c===t)+1;for(let c=a;c<r.length&&n[r[c]]?.depth>i.depth;c+=1){const d=r[c];o[d]!==!1&&e.current.isRowSelectable(d)&&s.push(d)}return s}const CDe=Mt(Ko,wf,_m,(e,t,n,{groupId:r,autoSelectParents:o})=>{const i=e[r];if(!i||i.type!=="group"||n.has(r))return{isIndeterminate:!1,isChecked:n.has(r)};let s=!1,a=!1;const c=d=>{if(t[d]===!1||s&&a)return;const h=e[d];h?.type==="group"&&h.children.forEach(c),n.has(d)?s=!0:a=!0};return c(r),{isIndeterminate:s&&a,isChecked:o?s&&!a:!1}});function MR(e){return e.signature===Oa.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const xDe=(e,t)=>{const n=[];let r=t;for(;r!=null&&r!==Lo;){const o=e[r];if(!o)return n;n.push(r),r=o.parent}return n},_De=(e,t,n)=>{const r=e[n];if(!r)return[];const o=r.parent;return o==null?[]:e[o].children.filter(s=>s!==n&&t[s]!==!1)},Em=(e,t,n,r,o,i,s=_m(e))=>{const a=wf(e),c=new Set([]);if(!(!r&&!o||a[n]===!1)&&(r&&t[n]?.type==="group"&&O2(e,n).forEach(f=>{i(f),c.add(f)}),o)){const d=g=>{if(!s.has(g)&&!c.has(g))return!1;const m=t[g];return m?m.type!=="group"?!0:m.children.every(d):!1},h=g=>{const m=_De(t,a,g);if(m.length===0||m.every(d)){const b=t[g]?.parent;b!=null&&b!==Lo&&e.current.isRowSelectable(b)&&(i(b),c.add(b),h(b))}},f=t[n];if(!f||f.parent===Lo)return;h(n)}},R2=(e,t,n,r,o,i)=>{const s=_m(e);!o&&!r||(o&&xDe(t,n).forEach(c=>{s.has(c)&&i(c)}),r&&t[n]?.type==="group"&&O2(e,n).forEach(d=>{i(d)}))},EDe=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],TDe=e=>{const{classes:t}=e;return ft({root:["checkboxInput"]},_n,t)},MDe=Yt(function(t,n){const{field:r,id:o,rowNode:i,tabIndex:s}=t,a=gt(t,EDe),c=hn(),d=yt(),h={classes:d.classes},f=TDe(h),g=E=>{const T={value:E.target.checked,id:o};c.current.publishEvent("rowSelectionCheckboxChange",T,E)};_.useLayoutEffect(()=>{if(s===0){const E=c.current.getCellElement(o,r);E&&(E.tabIndex=-1)}},[c,s,o,r]);const m=_.useCallback(E=>{E.key===" "&&E.stopPropagation()},[]),y=c.current.isRowSelectable(o),{isIndeterminate:b,isChecked:v}=tt(c,CDe,{groupId:o,autoSelectParents:d.rowSelectionPropagation?.parents??!1});if(i.type==="footer"||i.type==="pinnedRow")return null;const S=c.current.getLocaleText(v&&!b?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return x.jsx(d.slots.baseCheckbox,H({tabIndex:s,checked:v&&!b,onChange:g,className:f.root,slotProps:{htmlInput:{"aria-label":S,name:"select_row"}},onKeyDown:m,indeterminate:b,disabled:!y},d.slotProps?.baseCheckbox,a,{ref:n}))}),eS=kr(e=>e.focus),Gi=Mt(eS,e=>e.cell),ODe=Mt(eS,e=>e.columnHeader);Mt(eS,e=>e.columnHeaderFilter);const tS=Mt(eS,e=>e.columnGroupHeader),nS=kr(e=>e.tabIndex),OR=Mt(nS,e=>e.cell),I2=Mt(nS,e=>e.columnHeader);Mt(nS,e=>e.columnHeaderFilter);const RDe=Mt(nS,e=>e.columnGroupHeader),IDe=100,PDe=e=>e?0:100,P2=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,k2=e=>({page:0,pageSize:e?0:100}),kDe=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),D2=(e,t)=>{if(t===Oa.DataGrid&&e>IDe)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},DDe=-1,Sf=kr(e=>e.pagination),A2=Mt(Sf,e=>e.enabled&&e.paginationMode==="client"),qo=Mt(Sf,e=>e.paginationModel),Cf=Mt(Sf,e=>e.rowCount),Tm=Mt(Sf,e=>e.meta),ADe=Mt(qo,e=>e.page),L2=Mt(qo,e=>e.pageSize),N2=Mt(qo,Cf,(e,t)=>P2(t,e.pageSize,e.page)),RR=Gn(A2,qo,Ko,mm,su,E2,(e,t,n,r,o,i)=>{if(!e)return null;const s=i.length,a=Math.min(t.pageSize*t.page,s-1),c=t.pageSize===DDe?s-1:Math.min(a+t.pageSize-1,s-1);if(a===-1||c===-1)return null;if(r<2)return{firstRowIndex:a,lastRowIndex:c};const d=i[a],h=c-a+1,f=o.findIndex(y=>y.id===d.id);let g=f,m=0;for(;g<o.length&&m<=h;){const y=o[g],b=n[y.id]?.depth;b===void 0?g+=1:((m<h||b>0)&&(g+=1),b===0&&(m+=1))}return{firstRowIndex:f,lastRowIndex:g-1}}),LDe=Gn(su,RR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),B2=Gn(zd,RR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Mm=Gn(A2,RR,LDe,su,(e,t,n,r)=>e?{rows:n,range:t,rowIdToIndexMap:n.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}:{rows:r,range:r.length===0?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowIdToIndexMap:r.reduce((o,i,s)=>(o.set(i.id,s),o),new Map)}),NDe=["field","colDef"],BDe=e=>{const{classes:t}=e;return ft({root:["checkboxInput"]},_n,t)},FDe=Yt(function(t,n){const r=gt(t,NDe),[,o]=_.useState(!1),i=hn(),s=yt(),a={classes:s.classes},c=BDe(a),d=tt(i,I2),h=tt(i,Pa),f=tt(i,zd),g=tt(i,B2),m=_.useMemo(()=>{const N=s.isRowSelectable;if(typeof N!="function"||h.type==="exclude")return h;const P={type:"include",ids:new Set};for(const L of h.ids)s.keepNonExistentRowsSelected&&P.ids.add(L),i.current.getRow(L)&&N(i.current.getRowParams(L))&&P.ids.add(L);return P},[i,s.isRowSelectable,s.keepNonExistentRowsSelected,h]),y=_.useMemo(()=>{const N=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?f:g,P=new Set;for(let L=0;L<N.length;L+=1){const A=N[L];i.current.getRow(A)&&i.current.isRowSelectable(A)&&P.add(A)}return P},[i,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,g,f]),b=_.useMemo(()=>{const N=ru(m);let P=0;for(const L of y)N.has(L)&&(P+=1);return P},[m,y]),v=_.useMemo(()=>{if(b===0)return!1;const N=ru(m);for(const P of y)if(!N.has(P))return!0;return!1},[b,m,y]),S=b>0,E=N=>{const P={value:N.target.checked};i.current.publishEvent("headerSelectionCheckboxChange",P)},T=d!==null&&d.field===t.field?0:-1;_.useLayoutEffect(()=>{const N=i.current.getColumnHeaderElement(t.field);T===0&&N&&(N.tabIndex=-1)},[T,i,t.field]);const R=_.useCallback(N=>{N.key===" "&&i.current.publishEvent("headerSelectionCheckboxChange",{value:!S})},[i,S]),M=_.useCallback(()=>{o(N=>!N)},[]);_.useEffect(()=>i.current.subscribeEvent("rowSelectionChange",M),[i,M]);const I=i.current.getLocaleText(S&&!v?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return x.jsx(s.slots.baseCheckbox,H({indeterminate:v,checked:S&&!v,onChange:E,className:c.root,slotProps:{htmlInput:{"aria-label":I,name:"select_all_rows"}},tabIndex:T,onKeyDown:R,disabled:!MR(s)},s.slotProps?.baseCheckbox,r,{ref:n}))}),xf=kr((e,t)=>jd in t?t[jd]:e.props.getRowId?e.props.getRowId(t):t.id),ka="__check__",_f=H({},w2,{type:"custom",field:ka,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,n,r)=>{const o=xf(r,t);return r.current.isRowSelected(o)},rowSpanValueGetter:(e,t,n,r)=>xf(r,t),renderHeader:e=>x.jsx(FDe,H({},e)),renderCell:e=>x.jsx(MDe,H({},e))}),jDe=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function F2(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function Ef(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s,headerFilterMenu:a,clearButton:c,tabIndex:d,disabled:h}=e,f=gt(e,jDe),g=s?.root.slotProps,m=Vi(),[y,b]=_.useState(()=>F2(t.value,r)),[v,S]=_.useState(!1),E=kn(),T=yt(),R=_.useCallback(M=>{m.clear();const I=M.target.value;b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=new Date(I);n(H({},t,{value:Number.isNaN(N.getTime())?void 0:N})),S(!1)})},[n,t,T.filterDebounceMs,m]);return _.useEffect(()=>{const M=F2(t.value,r);b(M)},[t.value,r]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,H({fullWidth:!0,id:E,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:R,type:r||"text",disabled:h,inputRef:i,slotProps:H({},g,{input:H({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.input),htmlInput:H({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:d},g?.htmlInput)})},T.slotProps?.baseTextField,f,s?.root)),a,c]})}function Tf(e,t,n,r){if(!e.value)return null;const o=new Date(e.value);n?o.setSeconds(0,0):(o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),o.setHours(0,0,0,0));const i=o.getTime();return s=>{if(!s)return!1;if(r)return t(s.getTime(),i);const a=new Date(s);return n?a.setSeconds(0,0):a.setHours(0,0,0,0),t(a.getTime(),i)}}const j2=e=>[{value:"is",getApplyFilterFn:t=>Tf(t,(n,r)=>n===r,e),InputComponent:Ef,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Tf(t,(n,r)=>n!==r,e),InputComponent:Ef,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Tf(t,(n,r)=>n>r,e),InputComponent:Ef,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Tf(t,(n,r)=>n>=r,e),InputComponent:Ef,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Tf(t,(n,r)=>n<r,e,!e),InputComponent:Ef,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Tf(t,(n,r)=>n<=r,e),InputComponent:Ef,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],VDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],$De=be(hl)({fontSize:"inherit"}),zDe=e=>{const{classes:t}=e;return ft({root:["editInputCell"]},_n,t)};function UDe(e){const{id:t,value:n,field:r,colDef:o,hasFocus:i,onValueChange:s,slotProps:a}=e,c=gt(e,VDe),d=o.type==="dateTime",h=hn(),f=_.useRef(null),g=_.useMemo(()=>{let R;n==null?R=null:n instanceof Date?R=n:R=new Date((n??"").toString());let M;return R==null||Number.isNaN(R.getTime())?M="":M=new Date(R.getTime()-R.getTimezoneOffset()*60*1e3).toISOString().substr(0,d?16:10),{parsed:R,formatted:M}},[n,d]),[m,y]=_.useState(g),b=yt(),v={classes:b.classes},S=zDe(v),E=_.useCallback(R=>{if(R==="")return null;const[M,I]=R.split("T"),[N,P,L]=M.split("-"),A=new Date;if(A.setFullYear(Number(N),Number(P)-1,Number(L)),A.setHours(0,0,0,0),I){const[$,B]=I.split(":");A.setHours(Number($),Number(B),0,0)}return A},[]),T=_.useCallback(async R=>{const M=R.target.value,I=E(M);s&&await s(R,I),y({parsed:I,formatted:M}),h.current.setEditCellValue({id:t,field:r,value:I},R)},[h,r,t,s,E]);return _.useEffect(()=>{y(R=>g.parsed!==R.parsed&&g.parsed?.getTime()!==R.parsed?.getTime()?g:R)},[g]),Hn(()=>{i&&f.current.focus()},[i]),x.jsx($De,H({as:b.slots.baseInput,inputRef:f,fullWidth:!0,className:S.root,type:d?"datetime-local":"date",value:m.formatted,onChange:T},c,a?.root,{slotProps:{htmlInput:H({max:d?"9999-12-31T23:59":"9999-12-31"},a?.root?.slotProps?.htmlInput)}}))}const V2=e=>x.jsx(UDe,H({},e));function $2({value:e,columnType:t,rowId:n,field:r}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}const HDe=(e,t,n,r)=>{if(!e)return"";const o=xf(r,t);return LG(t)&&!(e instanceof Date)?e:($2({value:e,columnType:"date",rowId:o,field:n.field}),e.toLocaleDateString())},GDe=(e,t,n,r)=>{if(!e)return"";const o=xf(r,t);return LG(t)&&!(e instanceof Date)?e:($2({value:e,columnType:"dateTime",rowId:o,field:n.field}),e.toLocaleString())},WDe=H({},Ia,{type:"date",sortComparator:qG,valueFormatter:HDe,filterOperators:j2(),renderEditCell:V2,pastedValueParser:e=>new Date(e)}),KDe=H({},Ia,{type:"dateTime",sortComparator:qG,valueFormatter:GDe,filterOperators:j2(!0),renderEditCell:V2,pastedValueParser:e=>new Date(e)}),au=e=>e==null?null:Number(e),qDe=e=>e==null||Number.isNaN(e)||e===""?null:t=>au(t)===au(e),YDe=H({},Ia,{type:"number",align:"right",headerAlign:"right",sortComparator:KG,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>Mke(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>au(t)===e.value,InputComponent:Zs,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>au(t)!==e.value,InputComponent:Zs,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)>e.value,InputComponent:Zs,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)>=e.value,InputComponent:Zs,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)<e.value,InputComponent:Zs,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:au(t)<=e.value,InputComponent:Zs,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:XG,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:qDe});function Om(e){return e?.type==="singleSelect"}function Ud(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(H({field:e.field},t)):e.valueOptions}function rS(e,t,n){if(t===void 0)return;const r=t.find(o=>{const i=n(o);return String(i)===String(e)});return n(r)}const XDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function ZDe(e){return"key"in e&&!!e.key}function z2(e){const t=yt(),{id:n,value:r,field:o,row:i,colDef:s,hasFocus:a,error:c,onValueChange:d,initialOpen:h=t.editMode===fl.Cell,slotProps:f}=e,g=gt(e,XDe),m=hn(),y=_.useRef(null),b=_.useRef(null),[v,S]=_.useState(h),T=(t.slotProps?.baseSelect||{}).native??!1;if(Hn(()=>{a&&b.current?.focus()},[a]),!Om(s))return null;const R=Ud(s,{id:n,row:i});if(!R)return null;const M=s.getOptionValue,I=s.getOptionLabel,N=async A=>{if(!Om(s)||!R)return;S(!1);const $=A.target,B=rS($.value,R,M);d&&await d(A,B),await m.current.setEditCellValue({id:n,field:o,value:B},A)},P=(A,$)=>{if(t.editMode===fl.Row){S(!1);return}if($==="backdropClick"||A.key==="Escape"){const B=m.current.getCellParams(n,o);m.current.publishEvent("cellEditStop",H({},B,{reason:A.key==="Escape"?Qs.escapeKeyDown:Qs.cellFocusOut}))}},L=A=>{ZDe(A)&&A.key==="Enter"||S(!0)};return!R||!s?null:x.jsx(t.slots.baseSelect,H({ref:y,value:r,onChange:N,open:v,onOpen:L,onClose:P,error:c,native:T,fullWidth:!0,slotProps:{htmlInput:{ref:b}}},g,f?.root,t.slotProps?.baseSelect,{children:R.map(A=>{const $=M(A);return _.createElement(t.slots.baseSelectOption,H({},t.slotProps?.baseSelectOption||{},{native:T,key:$,value:$}),I(A))})}))}const QDe=e=>x.jsx(z2,H({},e)),JDe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],eAe=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:r,isSelectNative:o,baseSelectOptionProps:i})=>["",...Ud(e)||[]].map(a=>{const c=r(a);let d=n(a);return d===""&&(d=" "),_.createElement(t,H({},i,{native:o,key:c,value:c}),d)});function U2(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,tabIndex:s,clearButton:a,headerFilterMenu:c,slotProps:d}=e,h=gt(e,JDe),f=t.value??"",g=kn(),m=kn(),y=yt(),b=y.slotProps?.baseSelect?.native??!1,v=o.current.getColumn(t.field),S=v.getOptionValue,E=v.getOptionLabel,T=_.useMemo(()=>Ud(v),[v]),R=_.useCallback(I=>{let N=I.target.value;N=rS(N,T,S),n(H({},t,{value:N}))},[T,S,n,t]);if(!v||!Om(v))return null;const M=d?.root.label??o.current.getLocaleText("filterPanelInputLabel");return x.jsxs(_.Fragment,{children:[x.jsx(y.slots.baseSelect,H({fullWidth:!0,id:g,label:M,labelId:m,value:f,onChange:R,slotProps:{htmlInput:H({tabIndex:s,ref:i,type:r||"text",placeholder:d?.root.placeholder??o.current.getLocaleText("filterPanelInputPlaceholder")},d?.root.slotProps?.htmlInput)},native:b},y.slotProps?.baseSelect,h,d?.root,{children:eAe({column:v,OptionComponent:y.slots.baseSelectOption,getOptionLabel:E,getOptionValue:S,isSelectNative:b,baseSelectOptionProps:y.slotProps?.baseSelectOption})})),c,a]})}const tAe=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function nAe(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,slotProps:s}=e,a=gt(e,tAe),c=kn(),d=yt(),h=o.current.getColumn(t.field),f=h.getOptionValue,g=h.getOptionLabel,m=_.useCallback((E,T)=>f(E)===f(T),[f]),y=_.useMemo(()=>Ud(h)||[],[h]),b=_.useMemo(()=>Array.isArray(t.value)?t.value.reduce((E,T)=>{const R=y.find(M=>f(M)===T);return R!=null&&E.push(R),E},[]):[],[f,t.value,y]),v=_.useCallback((E,T)=>{n(H({},t,{value:T.map(f)}))},[n,t,f]);if(!h||!Om(h))return null;const S=d.slots.baseAutocomplete;return x.jsx(S,H({multiple:!0,options:y,isOptionEqualToValue:m,id:c,value:b,onChange:v,getOptionLabel:g,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:i}}},a,s?.root))}const Mf=e=>e==null||!yR(e)?e:e.value,rAe=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Mf(t)===Mf(e.value),InputComponent:U2},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Mf(t)!==Mf(e.value),InputComponent:U2},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Mf);return n=>t.includes(Mf(n))},InputComponent:nAe}],oAe=e=>typeof e[0]=="object",iAe=H({},Ia,{type:"singleSelect",getOptionLabel:e=>yR(e)?e.label:String(e),getOptionValue:e=>yR(e)?e.value:e,valueFormatter(e,t,n,r){const o=xf(r,t);if(!Om(n))return"";const i=Ud(n,{id:o,row:t});if(e==null)return"";if(!i)return e;if(!oAe(i))return n.getOptionLabel(e);const s=i.find(a=>n.getOptionValue(a)===e);return s?n.getOptionLabel(s):""},renderEditCell:QDe,filterOperators:rAe(),pastedValueParser:(e,t,n)=>{const r=n,o=Ud(r)||[],i=r.getOptionValue;if(o.find(a=>i(a)===e))return e}}),sAe="string",aAe=()=>({string:Ia,number:YDe,date:WDe,dateTime:KDe,boolean:w2,singleSelect:iAe,[Yw]:rDe,custom:Ia}),IR=kr(e=>e.headerFiltering),lAe=Mt(IR,e=>e?.enabled??!1),cAe=Mt(IR,e=>e.editing),uAe=Mt(IR,e=>e.menuOpen),oS=kr(e=>e.columnGrouping),H2=Gn(oS,e=>e?.unwrappedGroupingModel??{}),G2=Gn(oS,e=>e?.lookup??{}),dAe=Gn(oS,e=>e?.headerStructure??[]),Rm=Mt(oS,e=>e?.maxDepth??0),W2=["maxWidth","minWidth","width","flex"],PR=aAe();function hAe({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r=new Set(n.map(s=>s.field)),o={all:{},frozenFields:[],freeze:s=>{const a=o.all[s];a&&a.frozen!==!0&&(o.all[s].frozen=!0,o.frozenFields.push(s))}};function i(){if(o.frozenFields.length===r.size)return;const s={min:{},max:{}};let a=e,c=t,d=0;o.frozenFields.forEach(h=>{a-=o.all[h].computedWidth,c-=o.all[h].flex});for(let h=0;h<n.length;h+=1){const f=n[h];if(o.all[f.field]&&o.all[f.field].frozen===!0)continue;let m=a/c*f.flex;m<f.minWidth?(d+=f.minWidth-m,m=f.minWidth,s.min[f.field]=!0):m>f.maxWidth&&(d+=f.maxWidth-m,m=f.maxWidth,s.max[f.field]=!0),o.all[f.field]={frozen:!1,computedWidth:m,flex:f.flex}}d<0?Object.keys(s.max).forEach(h=>{o.freeze(h)}):d>0?Object.keys(s.min).forEach(h=>{o.freeze(h)}):n.forEach(({field:h})=>{o.freeze(h)}),i()}return i(),o.all}const kR=(e,t)=>{const n={};let r=0,o=0;const i=[];e.orderedFields.forEach(c=>{let d=e.lookup[c],h=0,f=!1;e.columnVisibilityModel[c]!==!1&&(d.flex&&d.flex>0?(r+=d.flex,f=!0):h=Vd(d.width||Ia.width,d.minWidth||Ia.minWidth,d.maxWidth||Ia.maxWidth),o+=h),d.computedWidth!==h&&(d=H({},d,{computedWidth:h})),f&&i.push(d),n[c]=d});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),a=Math.max(s-o,0);if(r>0&&s>0){const c=hAe({initialFreeSpace:a,totalFlexUnits:r,flexColumns:i});Object.keys(c).forEach(d=>{n[d]=H({},n[d],{computedWidth:c[d].computedWidth})})}return H({},e,{lookup:n})},fAe=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(o.length===0&&n.length===0)return e;const i={},s=[];for(let h=0;h<n.length;h+=1){const f=n[h];e.lookup[f]&&(i[f]=!0,s.push(f))}const a=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(h=>!i[h])],c=H({},e.lookup);for(let h=0;h<o.length;h+=1){const f=o[h],g=H({},c[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([m,y])=>{g[m]=y===-1?1/0:y}),c[f]=g}return H({},e,{orderedFields:a,lookup:c})};function DR(e){let t=PR[sAe];return e&&PR[e]&&(t=PR[e]),t}const Of=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:r=ea(e),keepOnlyColumnsToUpsert:o=!1,updateInitialVisibilityModel:i=!1})=>{const s=!e.current.state.columns;let a;if(s)a={orderedFields:[],lookup:{},columnVisibilityModel:r,initialColumnVisibilityModel:r};else{const f=Ra(e);a={orderedFields:o?[]:[...f.orderedFields],lookup:H({},f.lookup),columnVisibilityModel:r,initialColumnVisibilityModel:i?r:f.initialColumnVisibilityModel}}const c={};if(o&&!s)for(const f in a.lookup)Object.prototype.hasOwnProperty.call(a.lookup,f)&&(c[f]=!1);t.forEach(f=>{const{field:g}=f;c[g]=!0;let m=a.lookup[g];m==null?(m=H({},DR(f.type),{field:g,hasBeenResized:!1}),a.orderedFields.push(g)):o&&a.orderedFields.push(g),m&&m.type!==f.type&&(m=H({},DR(f.type),{field:g}));let y=m.hasBeenResized;W2.forEach(b=>{f[b]!==void 0&&(y=!0,f[b]===-1&&(f[b]=1/0))}),a.lookup[g]=Sd(m,H({},DR(f.type),f,{hasBeenResized:y}))}),o&&!s&&Object.keys(a.lookup).forEach(f=>{c[f]||delete a.lookup[f]});const d=e.current.unstable_applyPipeProcessors("hydrateColumns",a),h=fAe(d,n);return kR(h,e.current.getRootDimensions?.()??void 0)};function Im(e,t){if(t.listView)return 0;const n=ym(e),r=Rm(e),o=lAe(e),i=Math.floor(t.columnHeaderHeight*n),s=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n),a=o?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return i+s*r+a}const iS=1,K2=1.5,pAe=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return ft(r,_n,n)},gAe=Vn("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${oe["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${oe["scrollArea--right"]}`]:t["scrollArea--right"]},{[`&.${oe["scrollArea--up"]}`]:t["scrollArea--up"]},{[`&.${oe["scrollArea--down"]}`]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${oe["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${oe["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${oe["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${oe["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),mAe=Mt(Jr,(e,t)=>t==="left"?e.leftPinnedWidth:t==="right"?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function vAe(e){const t=hn(),[n,r]=_.useState("none");return Et(t,"columnHeaderDragStart",()=>r("horizontal")),Et(t,"columnHeaderDragEnd",()=>r("none")),Et(t,"rowDragStart",()=>r("vertical")),Et(t,"rowDragEnd",()=>r("none")),n==="none"?null:n==="horizontal"?x.jsx(yAe,H({},e)):x.jsx(bAe,H({},e))}function yAe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),o=hn(),i=Vi(),s=tt(o,ym),a=tt(o,hR),c=tt(o,mAe,t),d=()=>{const b=Jr(o);if(t==="left")return n.current.left>0;if(t==="right"){const v=a-b.viewportInnerSize.width;return n.current.left<v}return!1},h=yt(),f=Im(o,h),g=Math.floor(h.columnHeaderHeight*s),m=H({height:g,top:f-g},t==="left"?{left:c}:{},t==="right"?{right:c}:{}),y=Vt(b=>{let v;if(b.preventDefault(),t==="left")v=b.clientX-r.current.getBoundingClientRect().right;else if(t==="right")v=Math.max(1,b.clientX-r.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");v=(v-iS)*K2+iS,i.start(0,()=>{o.current.scroll({left:n.current.left+v,top:n.current.top})})});return x.jsx(q2,H({},e,{ref:r,getCanScrollMore:d,style:m,handleDragOver:y}))}function bAe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),o=hn(),i=Vi(),s=tt(o,fR),a=()=>{const g=Jr(o);if(t==="up")return n.current.top>0;if(t==="down"){const y=(s.currentPageTotalHeight||0)-g.viewportInnerSize.height-(g.hasScrollX?g.scrollbarSize:0);return n.current.top<y}return!1},c=yt(),d=Im(o,c),h={top:t==="up"?d:void 0,bottom:t==="down"?0:void 0},f=Vt(g=>{let m;if(g.preventDefault(),t==="up")m=g.clientY-r.current.getBoundingClientRect().bottom;else if(t==="down")m=Math.max(1,g.clientY-r.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");m=(m-iS)*K2+iS,i.start(0,()=>{o.current.scroll({left:n.current.left,top:n.current.top+m})})});return x.jsx(q2,H({},e,{ref:r,getCanScrollMore:a,style:h,handleDragOver:f}))}const q2=Yt(function(t,n){const{scrollDirection:r,getCanScrollMore:o,style:i,handleDragOver:s}=t,a=hn(),[c,d]=_.useState(o),h=yt(),f=H({},h,{scrollDirection:r}),g=pAe(f);return Et(a,"scrollPositionChange",()=>{d(o)}),c?x.jsx(gAe,{ref:n,className:g.root,ownerState:f,onDragOver:s,style:i}):null}),sS=ec(vAe),Y2=_.createContext(void 0);function fs(){const e=_.useContext(Y2);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const wAe=()=>{},SAe=(e,t)=>{const n=_.useRef(!1);Hn(()=>n.current||!e?wAe:(n.current=!0,t()),[n.current||e])};function Cn(e,t,n){const r=_.useRef(!0);Hn(()=>{r.current=!1,e.current.register(n,t)},[e,n,t]),r.current&&e.current.register(n,t)}function Yo(e,t){const n=_.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}const X2=(e,t,n,r,o)=>{const i=Yo(e,"useNativeEventListener");hr(e,"rootMount",()=>{const s=t();if(!(!s||!n))return i.debug(`Binding native ${n} event`),s.addEventListener(n,r,o),()=>{i.debug(`Clearing native ${n} event`),s.removeEventListener(n,r,o)}})};function Hd(e){const t=_.useRef(!0);t.current&&(t.current=!1,e())}const CAe=Vn("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"&&e!=="right"})(({overlayType:e,loadingOverlayVariant:t,right:n})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${n}px`,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),xAe=Vn("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"})({}),_Ae=e=>{const{classes:t}=e;return ft({root:["overlayWrapper"],inner:["overlayWrapperInner"]},_n,t)};function EAe(e){const t=hn(),n=yt(),r=tt(t,Jr);let o=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);o===0&&(o=BG);const i=_Ae(H({},e,{classes:n.classes}));return x.jsx(CAe,H({className:i.root},e,{right:r.columnsTotalWidth-r.viewportOuterSize.width,children:x.jsx(xAe,H({className:i.inner,style:{height:o,width:r.viewportOuterSize.width}},e))}))}const Z2=kr(e=>e.pivoting),Gd=Mt(Z2,e=>e?.active),TAe=new Map,Q2=Mt(Z2,e=>e?.initialColumns||TAe),MAe=()=>{const e=hn(),t=yt(),n=tt(e,vf),r=tt(e,_R),o=tt(e,kG),i=tt(e,eo),s=n===0&&o===0,a=tt(e,YPe),c=tt(e,Gd),d=!a&&s,h=!a&&n>0&&r===0,f=!a&&i.length===0,g=d&&c;let m=null,y=null;d&&(m="noRowsOverlay"),f&&(m="noColumnsOverlay"),g&&(m="emptyPivotOverlay"),h&&(m="noResultsOverlay"),a&&(m="loadingOverlay",y=t.slotProps?.loadingOverlay?.[s?"noRowsVariant":"variant"]??(s?"skeleton":"linear-progress"));const b={overlayType:m,loadingOverlayVariant:y};return{getOverlay:()=>{if(!m)return null;const S=t.slots?.[m],E=t.slotProps?.[m];return x.jsx(EAe,H({},b,{children:x.jsx(S,H({},E))}))},overlaysProps:b}},aS=kr(e=>e.columnMenu);function OAe(){const e=fs(),t=yt(),n=tt(e,eo),r=tt(e,SDe),o=tt(e,bDe),i=tt(e,I2),s=tt(e,()=>OR(e)===null),a=tt(e,RDe),c=tt(e,ODe),d=tt(e,tS),h=tt(e,Rm),f=tt(e,aS),g=tt(e,ea),m=tt(e,dAe),y=!(a===null&&i===null&&s),b=e.current.columnHeadersContainerRef;return x.jsx(t.slots.columnHeaders,H({ref:b,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:o,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y},t.slotProps?.columnHeaders))}const RAe=ec(OAe),IAe=Vn("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),PAe=Vn("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n,loadingOverlayVariant:r,overlayType:o}=e,i=r==="skeleton"||o==="noColumnsOverlay";return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],i&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),kAe=Yt((e,t)=>{const{ownerState:n}=e,r=yt(),i=Kw().hooks.useGridAriaAttributes();return x.jsxs(PAe,H({ownerState:n,className:e.className,tabIndex:-1},i,r.slotProps?.main,{ref:t,children:[x.jsx(IAe,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),DAe=()=>ft({root:["topContainer"]},_n,{}),AAe=Vn("div")({position:"sticky",zIndex:40,top:0});function LAe(e){const t=DAe();return x.jsx(AAe,H({},e,{className:We(t.root,oe["container--top"]),role:"presentation"}))}const NAe=(e,t)=>{const{classes:n}=e;return ft({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},_n,n)},BAe=Vn("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),FAe=Yt(function(t,n){const r=yt(),o=!r.autoHeight&&t.style?.minHeight==="auto",i=NAe(r,o),s={classes:r.classes,overflowedContent:o};return x.jsx(BAe,H({},t,{ownerState:s,className:We(i.root,t.className),ref:n}))}),jAe=Vn("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),J2=Vn("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:wt.cell.background.pinned}),VAe=Vn(J2)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),$Ae=Vn(J2)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),zAe=Vn("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function UAe({rowsLength:e}){const t=hn(),{viewportOuterSize:n,minimumSize:r,hasScrollX:o,hasScrollY:i,scrollbarSize:s,leftPinnedWidth:a,rightPinnedWidth:c}=tt(t,Jr),d=o?s:0,h=n.height-r.height>0;return d===0&&!h?null:x.jsxs(jAe,{className:oe.filler,role:"presentation",style:{height:d,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&x.jsx(VAe,{className:oe["filler--pinnedLeft"],style:{width:a}}),x.jsx(zAe,{}),c>0&&x.jsx($Ae,{className:oe["filler--pinnedRight"],style:{width:c+(i?s:0)}})]})}const HAe=ec(UAe),GAe=["className"],WAe=e=>{const{classes:t}=e;return ft({root:["virtualScrollerRenderZone"]},_n,t)},KAe=Vn("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),qAe=Yt(function(t,n){const{className:r}=t,o=gt(t,GAe),i=fs(),s=yt(),a=WAe(s),c=i.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return x.jsx(KAe,H({className:We(a.root,r),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},o,{ref:n}))}),YAe={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},Bo=kr(e=>e.editRows),e5=Mt(Bo,(e,{rowId:t,editMode:n})=>n===fl.Row&&!!e[t]),XAe=Mt(Bo,(e,{rowId:t,field:n})=>e[t]?.[n]??null),Wd=kr(e=>e.preferencePanel),ZAe=Mt(Wd,(e,t)=>!!(e.open&&e.labelId===t));var Ti=(function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e})(Ti||{});const QAe={initialize:JAe,use:eLe,selectors:{}};function JAe(e){return{colspanMap:new Map}}function eLe(e,t,n){const r=t.colspan?.getColspan,o=()=>{e.state.colspanMap=new Map},i=(a,c)=>e.state.colspanMap.get(a)?.[c],s=Vt(r?(a,c,d,h)=>{for(let f=c;f<d;f+=1){const g=tLe(e.state.colspanMap,f,a,c,d,h,r);g.colSpan>1&&(f+=g.colSpan-1)}}:()=>{});return n.calculateColSpan=s,{resetColSpan:o,getCellColSpanInfo:i,calculateColSpan:s}}function tLe(e,t,n,r,o,i,s){const a=i.length,c=i[t],d=s(n,c,t);if(!d||d===1)return AR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let h=c.computedWidth;for(let f=1;f<d;f+=1){const g=t+f;if(g>=r&&g<o){const m=i[g];h+=m.computedWidth,AR(e,n,t+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+d,a-1),leftVisibleCellIndex:t})}AR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:d,width:h}})}return{colSpan:d}}function AR(e,t,n,r){let o=e.get(t);o||(o={},e.set(t,o)),o[n]=r}function nLe(e,t=166){let n,r;const o=()=>{n=void 0,e(...r)};function i(...s){r=s,n===void 0&&(n=setTimeout(o,t))}return i.clear=()=>{clearTimeout(n),n=void 0},i}function na(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(!na(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const s=o[i];if(!na(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!na(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Kd(e,t){return Math.round(e*10**t)/10**t}const rc={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},rLe={EMPTY:{top:[],bottom:[]}},oLe={EMPTY:{left:[],right:[]}};let io=(function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e})({});(function(e){function t(n,r){return n===0&&r===0?io.NONE:Math.abs(r)>=Math.abs(n)?r>0?io.DOWN:io.UP:n>0?io.RIGHT:io.LEFT}e.forDelta=t})(io||(io={}));const iLe={isReady:!1,root:rc.EMPTY,viewportOuterSize:rc.EMPTY,viewportInnerSize:rc.EMPTY,contentSize:rc.EMPTY,minimumSize:rc.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},Rf={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:pf((e,t)=>{const n=[];let r=0;for(let o=0;o<t.length;o+=1)n.push(r),r+=t[o].computedWidth;return n}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},Wi={initialize:sLe,use:aLe,selectors:Rf};function sLe(e){const t=H({},iLe,e.dimensions),{rowCount:n}=e,{rowHeight:r}=t,o={currentPageTotalHeight:n*r,positions:Array.from({length:n},(s,a)=>a*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},i=new Map;return{rootSize:rc.EMPTY,dimensions:t,rowsMeta:o,rowHeights:i}}function aLe(e,t,n){const r=_.useRef(!0),{refs:o,dimensions:{rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topPinnedHeight:d,bottomPinnedHeight:h},onResize:f}=t,g=o.container.current,m=_.useCallback(()=>{if(r.current)return;const T=Rf.rootSize(e.state),R=Rf.rowsMeta(e.state),M=uLe(g,t.dimensions.scrollbarSize),I=d+R.pinnedTopRowsTotalHeight,N=h+R.pinnedBottomRowsTotalHeight,P={width:s,height:Kd(R.currentPageTotalHeight,1)};let L,A,$=!1,B=!1;if(t.autoHeight)B=!1,$=Math.round(s)>Math.round(T.width),L={width:T.width,height:I+N+P.height},A={width:Math.max(0,L.width-(B?M:0)),height:Math.max(0,L.height-($?M:0))};else{L={width:T.width,height:T.height},A={width:Math.max(0,L.width),height:Math.max(0,L.height-I-N)};const Y=P,Q=A,te=Y.width>Q.width,z=Y.height>Q.height;(te||z)&&(B=z,$=Y.width+(B?M:0)>Q.width,$&&(B=Y.height+M>Q.height)),B&&(A.width-=M),$&&(A.height-=M)}const U=Math.max(L.width,s+(B?M:0)),K={width:s,height:I+P.height+N},G={isReady:!0,root:T,viewportOuterSize:L,viewportInnerSize:A,contentSize:P,minimumSize:K,hasScrollX:$,hasScrollY:B,scrollbarSize:M,rowWidth:U,rowHeight:i,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topContainerHeight:I,bottomContainerHeight:N},V=e.state.dimensions;na(V,G)||(e.update({dimensions:G}),f?.(G.root))},[e,g,t.dimensions.scrollbarSize,t.autoHeight,f,i,s,a,c,d,h]),{resizeThrottleMs:y}=t,b=Vt(m),v=_.useMemo(()=>y>0?nLe(b,y):void 0,[y,b]);_.useEffect(()=>v?.clear,[v]);const S=Vt(T=>{e.state.rootSize=T,r.current||!v?(r.current=!1,m()):v()});Hn(()=>cLe(g,e,S),[g,e,S]),Hn(m,[m]);const E=lLe(e,t,m);return{updateDimensions:m,debouncedUpdateDimensions:v,rowsMeta:E}}function lLe(e,t,n){const r=e.state.rowHeights,{rows:o,getRowHeight:i,getRowSpacing:s,getEstimatedRowHeight:a}=t,c=_.useRef(-1),d=_.useRef(!1),h=_.useRef(!1),f=t.pinnedRows,g=Yn(e,Rf.rowHeight),m=Vt(A=>{let $=r.get(A);return $===void 0&&($={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},r.set(A,$)),$}),{applyRowHeight:y}=t,b=_.useCallback(A=>{const $=Rf.dimensions(e.state),B=$.rowHeight,U=m(A.id);if(!i)U.content=B,U.needsFirstMeasurement=!1;else{const K=i(A);if(K==="auto"){if(U.needsFirstMeasurement){const G=a?a(A):B;U.content=G??B}d.current=!0,U.autoHeight=!0}else U.content=K??$.rowHeight,U.needsFirstMeasurement=!1,U.autoHeight=!1}if(s){const K=s(A);U.spacingTop=K.top??0,U.spacingBottom=K.bottom??0}else U.spacingTop=0,U.spacingBottom=0;return y?.(U,A),U},[e,i,m,a,g,s,y]),v=_.useCallback(()=>{d.current=!1;const A=f?.top.reduce((V,Y)=>{const Q=b(Y);return V+Q.content+Q.spacingTop+Q.spacingBottom+Q.detail},0)??0,$=f?.bottom.reduce((V,Y)=>{const Q=b(Y);return V+Q.content+Q.spacingTop+Q.spacingBottom+Q.detail},0)??0,B=[],U=o.reduce((V,Y)=>{B.push(V);const Q=b(Y),te=Q.content+Q.spacingTop+Q.spacingBottom+Q.detail;return V+te},0);d.current||(c.current=1/0);const K=A!==e.state.rowsMeta.pinnedTopRowsTotalHeight||$!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||U!==e.state.rowsMeta.currentPageTotalHeight,G={currentPageTotalHeight:U,positions:B,pinnedTopRowsTotalHeight:A,pinnedBottomRowsTotalHeight:$};e.set("rowsMeta",G),K&&n(),h.current=!0},[e,f,o,b,n]),S=Vt(v),E=A=>r.get(A)?.content??Rf.rowHeight(e.state),T=(A,$)=>{const B=m(A),U=B.content!==$;B.needsFirstMeasurement=!1,B.content=$,h.current&&=!U},R=A=>r.get(A)?.autoHeight??!1,M=()=>c.current,I=A=>{d.current&&A>c.current&&(c.current=A)},N=()=>{r.clear(),v()},P=cs(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(A=>{for(let $=0;$<A.length;$+=1){const B=A[$],U=B.borderBoxSize&&B.borderBoxSize.length>0?B.borderBoxSize[0].blockSize:B.contentRect.height,K=B.target.__mui_id;if(t.focusedVirtualCell?.()?.id===K&&U===0)return;T(K,U)}h.current||requestAnimationFrame(()=>{S()})})).current,L=(A,$)=>(A.__mui_id=$,P?.observe(A),()=>P?.unobserve(A));return Hn(()=>{v()},[v]),{getRowHeight:E,setLastMeasuredRowIndex:I,storeRowHeightMeasurement:T,hydrateRowsMeta:v,observeRowHeight:L,rowHasAutoHeight:R,getRowHeightEntry:m,getLastMeasuredRowIndex:M,resetRowHeights:N}}function cLe(e,t,n){if(!e)return;const r=e.getBoundingClientRect(),o={width:Kd(r.width,1),height:Kd(r.height,1)};if((t.state.rootSize===rc.EMPTY||!rc.equals(o,t.state.rootSize))&&n(o),typeof ResizeObserver>"u")return;const i=new ResizeObserver(([s])=>{if(!s)return;const a={width:Kd(s.contentRect.width,1),height:Kd(s.contentRect.height,1)};rc.equals(a,t.state.rootSize)||n(a)});return i.observe(e),()=>{i.disconnect()}}const t5=new WeakMap;function uLe(e,t){if(t!==void 0)return t;if(e===null)return 0;const n=t5.get(e);if(n!==void 0)return n;const o=Zr(e).createElement("div");o.style.width="99px",o.style.height="99px",o.style.position="absolute",o.style.overflow="scroll",o.className="scrollDiv",e.appendChild(o);const i=o.offsetWidth-o.clientWidth;return e.removeChild(o),t5.set(e,i),i}const dLe=(typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty").includes("firefox"),LR=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),If=(e,t,n)=>Math.max(t,Math.min(n,e)),NR=50,n5={top:0,left:0},hLe=Object.freeze(new Map),lS={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},cS={renderContext:Bn(e=>e.virtualization.renderContext),enabledForRows:Bn(e=>e.virtualization.enabledForRows),enabledForColumns:Bn(e=>e.virtualization.enabledForColumns)},r5={initialize:fLe,use:pLe,selectors:cS};function fLe(e){return{virtualization:H({enabled:!LR,enabledForRows:!LR,enabledForColumns:!LR,renderContext:lS},e.initialState?.virtualization),getters:null}}function pLe(e,t,n){const{refs:r,dimensions:{rowHeight:o,columnsTotalWidth:i},virtualization:{isRtl:s=!1,rowBufferPx:a=150,columnBufferPx:c=150},colspan:d,initialState:h,rows:f,range:g,columns:m,pinnedRows:y=rLe.EMPTY,pinnedColumns:b=oLe.EMPTY,minimalContentHeight:v,autoHeight:S,onWheel:E,onTouchMove:T,onRenderContextChange:R,onScrollChange:M,scrollReset:I,renderRow:N,renderInfiniteLoadingTrigger:P}=t,L=Yn(e,Wi.selectors.needsHorizontalScrollbar),A=y.bottom.length>0,[$,B]=_.useState(hLe),[,U]=_.useState(0),K=_.useRef(!1),G=Yn(e,cS.renderContext),V=Yn(e,cS.enabledForRows),Y=Yn(e,cS.enabledForColumns),Q=Yn(e,Wi.selectors.rowsMeta),te=Yn(e,Wi.selectors.contentHeight),z=_.useRef(h?.scroll??n5),W=_.useRef(!1),Z=_.useRef(n5),le=_.useRef(lS),ue=Vi(),ce=_.useRef(void 0),se=cs(()=>vLe(s,a,c,o*15,NR*6)).current,ve=_.useCallback(je=>{a5(je,e.state.virtualization.renderContext)||e.set("virtualization",H({},e.state.virtualization,{renderContext:je}));const Rt=Wi.selectors.dimensions(e.state).isReady,mt=je.firstRowIndex!==le.current.firstRowIndex||je.lastRowIndex!==le.current.lastRowIndex;Rt&&mt&&(le.current=je,R?.(je)),Z.current=z.current},[e,R]),Te=Vt(()=>{const je=r.scroller.current;if(!je)return;const Rt=Wi.selectors.dimensions(e.state),mt=Math.ceil(Rt.minimumSize.height-Rt.viewportOuterSize.height),Bt=Math.ceil(Rt.minimumSize.width-Rt.viewportInnerSize.width),It={top:If(je.scrollTop,0,mt),left:s?If(je.scrollLeft,-Bt,0):If(je.scrollLeft,0,Bt)},Xt=It.left-z.current.left,Wt=It.top-z.current.top,ht=Xt!==0||Wt!==0;z.current=It;const _t=ht?io.forDelta(Xt,Wt):io.NONE,He=Math.abs(z.current.top-Z.current.top),lt=Math.abs(z.current.left-Z.current.left),ct=He>=o||lt>=NR,Ct=se.direction!==_t;if(!(ct||Ct))return G;if(Ct)switch(_t){case io.NONE:case io.LEFT:case io.RIGHT:ce.current=void 0;break;default:ce.current=G;break}se.direction=_t,se.buffer=c5(s,_t,a,c,o*15,NR*6);const At=o5(e,t,n,V,Y),pt=i5(At,z.current,se);return a5(pt,G)||(wb.flushSync(()=>{ve(pt)}),ue.start(1e3,Te)),pt}),Se=Vt(()=>{if(!Wi.selectors.dimensions(e.state).isReady&&(V||Y))return;const je=o5(e,t,n,V,Y),Rt=i5(je,z.current,se);ce.current=void 0,ve(Rt)}),he=Vt(()=>{if(W.current){W.current=!1;return}const je=Te();je&&M?.(z.current,je)}),pe=()=>Q.positions[G.firstRowIndex]??0,we=(je={},Rt)=>{if(!je.rows&&!g)return[];let mt=G;je.renderContext&&(mt=je.renderContext,mt.firstColumnIndex=G.firstColumnIndex,mt.lastColumnIndex=G.lastColumnIndex);const Bt=!A&&je.position===void 0||A&&je.position==="bottom",It=je.position!==void 0;let Xt;switch(je.position){case"top":Xt=0;break;case"bottom":Xt=y.top.length+f.length;break;case void 0:default:Xt=y.top.length;break}const Wt=je.rows??f,ht=mt.firstRowIndex,_t=Math.min(mt.lastRowIndex,Wt.length),He=je.rows?u5(0,je.rows.length):u5(ht,_t);let lt=-1;const ct=t.focusedVirtualCell?.();!It&&ct&&(ct.rowIndex<ht&&(He.unshift(ct.rowIndex),lt=ct.rowIndex),ct.rowIndex>_t&&(He.push(ct.rowIndex),lt=ct.rowIndex));const Ct=[],st=Wi.selectors.columnPositions(e.state,m);return He.forEach(At=>{const{id:pt,model:Pt}=Wt[At];if(Rt&&!Rt[pt])return;const Dn=(g?.firstRowIndex||0)+Xt+At;if(d?.enabled){const en=b.left.length,En=m.length-b.right.length;n.calculateColSpan(pt,en,En,m),b.left.length>0&&n.calculateColSpan(pt,0,b.left.length,m),b.right.length>0&&n.calculateColSpan(pt,m.length-b.right.length,m.length,m)}const An=n.rowsMeta.rowHasAutoHeight(pt)?"auto":n.rowsMeta.getRowHeight(pt);let fr=!1;je.position===void 0&&(fr=At===0);let Fn=!1;const Dr=At===Wt.length-1;if(Bt)if(It)Fn=Dr;else{const en=f.length-1;At===en&&(Fn=!0)}let er=mt;ce.current&&At>=ce.current.firstRowIndex&&At<ce.current.lastRowIndex&&(er=ce.current);const jr=At===lt,Vr=ct?.rowIndex===Dn,on=l5(st,er,b.left.length),Ln=Dr&&je.position==="top",Lt=er.firstColumnIndex,$t=er.lastColumnIndex;if(Ct.push(N({id:pt,model:Pt,rowIndex:Dn,offsetLeft:on,columnsTotalWidth:i,baseRowHeight:An,firstColumnIndex:Lt,lastColumnIndex:$t,focusedColumnIndex:Vr?ct.columnIndex:void 0,isFirstVisible:fr,isLastVisible:Fn,isVirtualFocusRow:jr,showBottomBorder:Ln})),jr)return;const tn=$.get(pt);tn&&Ct.push(tn),je.position===void 0&&Dr&&Ct.push(P(pt))}),Ct},_e=_.useMemo(()=>({overflowX:L?void 0:"hidden",overflowY:S?"hidden":void 0}),[L,S]),De=_.useMemo(()=>{const je={width:L?i:"auto",flexBasis:te,flexShrink:0};return je.flexBasis===0&&(je.flexBasis=v),je},[i,te,L,v]),Ee=_.useRef(null),Fe=_.useCallback(je=>{je&&Ee.current?.(i,te)},[i,te]);Hn(()=>{K.current&&Se()},[Y,V,Se]),Hn(()=>{r.scroller.current&&(r.scroller.current.scrollLeft=0)},[r.scroller,I]),SAe(G!==lS,()=>{if(M?.(z.current,G),K.current=!0,h?.scroll&&r.scroller.current){const je=r.scroller.current,{top:Rt,left:mt}=h.scroll,Bt={top:!(Rt>0),left:!(mt>0)};!Bt.left&&i&&(je.scrollLeft=mt,Bt.left=!0,W.current=!0),!Bt.top&&te&&(je.scrollTop=Rt,W.current=!0),(!Bt.top||!Bt.left)&&(Ee.current=(It,Xt)=>{!Bt.left&&It&&(je.scrollLeft=mt,Bt.left=!0,W.current=!0),!Bt.top&&Xt&&(je.scrollTop=Rt,Bt.top=!0,W.current=!0),Bt.left&&Bt.top&&(Ee.current=null)})}}),Rw(e,Wi.selectors.dimensions,Se);const Je=je=>Rt=>{Rt&&r[je].current!==Rt&&(r[je].current=Rt,U(mt=>mt+1))},Be={setPanels:B,getOffsetTop:pe,getRows:we,getContainerProps:()=>({ref:Je("container")}),getScrollerProps:()=>({ref:Je("scroller"),onScroll:he,onWheel:E,onTouchMove:T,style:_e,role:"presentation",tabIndex:dLe?-1:void 0}),getContentProps:()=>({ref:Fe,style:De,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:Je("scrollbarVertical"),scrollPosition:z}),getScrollbarHorizontalProps:()=>({ref:Je("scrollbarHorizontal"),scrollPosition:z}),getScrollAreaProps:()=>({scrollPosition:z})};return Hd(()=>{e.state=H({},e.state,{getters:Be})}),_.useEffect(()=>{e.update({getters:Be})},Object.values(Be)),{getters:Be,useVirtualization:()=>Yn(e,je=>je),setPanels:B,forceUpdateRenderContext:Se,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function o5(e,t,n,r,o){const i=Wi.selectors.dimensions(e.state),s=t.rows,a=t.range,c=t.columns,d=n.getHiddenCellsOrigin(),h=t.rows.at(-1)?.id,f=c.at(-1);return{api:n,enabledForRows:r,enabledForColumns:o,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:i.leftPinnedWidth,columnsTotalWidth:i.columnsTotalWidth,viewportInnerWidth:i.viewportInnerSize.width,viewportInnerHeight:i.viewportInnerSize.height,lastRowHeight:h!==void 0?n.rowsMeta.getRowHeight(h):0,lastColumnWidth:f?.computedWidth??0,rowsMeta:Wi.selectors.rowsMeta(e.state),columnPositions:Wi.selectors.columnPositions(e.state,t.columns),rows:s,range:a,pinnedColumns:t.pinnedColumns,columns:c,hiddenCellsOriginMap:d,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function i5(e,t,n){const r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:o,left:i}=t,s=Math.abs(i)+e.leftPinnedWidth;if(e.enabledForRows){let c=Math.min(s5(e,o,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const d=e.hiddenCellsOriginMap[c];if(d){const f=Math.min(...Object.values(d));c=Math.min(c,f)}const h=e.autoHeight?c+e.rows.length:s5(e,o+e.viewportInnerHeight);r.firstRowIndex=c,r.lastRowIndex=h}if(e.enabledForColumns){let c=0,d=e.columnPositions.length,h=!1;const[f,g]=BR({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let m=f;m<g&&!h;m+=1){const y=e.rows[m];h=e.api.rowsMeta.rowHasAutoHeight(y.id)}(!h||e.virtualizeColumnsWithAutoRowHeight)&&(c=lu(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),d=lu(s+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=c,r.lastColumnIndex=d}return gLe(e,r,n)}function s5(e,t,n){const r=e.api.rowsMeta.getLastMeasuredRowIndex();let o=r===1/0;e.range?.lastRowIndex&&!o&&(o=r>=e.range.lastRowIndex);const i=If(r-(e.range?.firstRowIndex||0),0,e.rowsMeta.positions.length);return o||e.rowsMeta.positions[i]>=t?lu(t,e.rowsMeta.positions,n):mLe(t,e.rowsMeta.positions,i,n)}function gLe(e,t,n){const[r,o]=BR({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[i,s]=BR({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns?.left.length??0,maxLastIndex:e.columns.length-(e.pinnedColumns?.right.length??0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),a=yLe({api:e.api,firstColumnToRender:i,firstRowToRender:r,lastRowToRender:o,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:o,firstColumnIndex:a,lastColumnIndex:s}}function lu(e,t,n=void 0,r=0,o=t.length){if(t.length<=0)return-1;if(r>=o)return r;const i=r+Math.floor((o-r)/2),s=t[i];let a;if(n?.atStart){const c=(i===t.length-1?n.lastPosition:t[i+1])-s;a=e-c<s}else a=e<=s;return a?lu(e,t,n,r,i):lu(e,t,n,i+1,o)}function mLe(e,t,n,r=void 0){let o=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=o,o*=2;return lu(e,t,r,Math.floor(n/2),Math.min(n,t.length))}function BR({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:r,minFirstIndex:o,maxLastIndex:i,positions:s,lastSize:a}){const c=s[e]-n,d=s[t]+r,h=lu(c,s,{atStart:!0,lastPosition:s[s.length-1]+a}),f=lu(d,s);return[If(h,o,i),If(f,o,i)]}function a5(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function l5(e,t,n){const r=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(r)}function c5(e,t,n,r,o,i){if(e)switch(t){case io.LEFT:t=io.RIGHT;break;case io.RIGHT:t=io.LEFT;break}switch(t){case io.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case io.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:i};case io.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:i,columnBefore:0};case io.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case io.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function vLe(e,t,n,r,o){return{direction:io.NONE,buffer:c5(e,io.NONE,t,n,r,o)}}function u5(e,t){return Array.from({length:t-e}).map((n,r)=>e+r)}function yLe({api:e,firstColumnToRender:t,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let i=t,s=!1;for(;!s&&i>=0;){s=!0;for(let a=n;a<r;a+=1)if(o[a]){const d=o[a].id,h=e.getCellColSpanInfo(d,i);if(h&&h.spannedByColSpan&&h.leftVisibleCellIndex<i){i=h.leftVisibleCellIndex,s=!1;break}}}return i}const bLe={initialize:wLe,use:SLe,selectors:{}};function wLe(e){return{}}function SLe(e,t,n){return{getViewportPageSize:()=>{const o=Wi.selectors.dimensions(e.state);if(!o.isReady)return 0;if(t.getRowHeight){const s=r5.selectors.renderContext(e.state),a=s.lastRowIndex-s.firstRowIndex;return Math.min(a-1,t.rows.length)}const i=Math.floor(o.viewportInnerSize.height/o.rowHeight);return Math.min(i,t.rows.length)}}}const CLe={firstRowIndex:0,lastRowIndex:0},xLe={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},d5={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},Pf={initialize:_Le,use:ELe,selectors:d5};function _Le(e){return{rowSpanning:e.initialState?.rowSpanning??{caches:xLe,processedRange:CLe}}}function ELe(e,t,n){return{getHiddenCellsOrigin:()=>d5.hiddenCellsOriginMap(e.state)}}const h5=[Wi,r5,QAe,Pf,bLe],TLe=e=>{const t=cs(()=>new am(h5.map(r=>r.initialize(e)).reduce((r,o)=>Object.assign(r,o),{}))).current,n={};for(const r of h5)Object.assign(n,r.use(t,e,n));return{store:t,api:n}},Pm=!(typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent)),MLe=(e,t)=>{const{disableVirtualization:n,autoHeight:r}=t;return H({},e,{virtualization:{enabled:!n&&Pm,enabledForColumns:!n&&Pm,enabledForRows:!n&&!r&&Pm,renderContext:lS}})};function OLe(e,t){const{virtualizer:n}=e.current,{autoHeight:r,disableVirtualization:o}=t,i=d=>{d&&=Pm,n.store.set("virtualization",H({},n.store.state.virtualization,{enabled:d,enabledForColumns:d,enabledForRows:d&&!r}))};Cn(e,{unstable_setVirtualization:i,unstable_setColumnVirtualization:d=>{d&&=Pm,n.store.set("virtualization",H({},n.store.state.virtualization,{enabledForColumns:d}))}},"public");const c=n.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:c}),hr(e,"sortedRowsSet",c),hr(e,"paginationModelChange",c),hr(e,"columnsChange",c),_.useEffect(()=>{i(!t.disableVirtualization)},[o,r])}const uS=kr(e=>e.virtualization);Mt(uS,e=>e.enabled);const RLe=Mt(uS,e=>e.enabledForColumns);Mt(uS,e=>e.enabledForRows);const f5=Mt(uS,e=>e.renderContext),ILe=kr(e=>e.virtualization.renderContext.firstColumnIndex),PLe=kr(e=>e.virtualization.renderContext.lastColumnIndex),kLe=Gn(ILe,PLe,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t}));function DLe(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}class ALe{constructor({ttl:t=3e5,getKey:n=DLe}){this.cache={},this.ttl=t,this.getKey=n}set(t,n){const r=this.getKey(t),o=Date.now()+this.ttl;this.cache[r]={value:n,expiry:o}}get(t){const n=this.getKey(t),r=this.cache[n];if(r){if(Date.now()>r.expiry){delete this.cache[n];return}return r.value}}clear(){this.cache={}}}class LLe extends Error{constructor(t){super(t.message),this.name="GridGetRowsError",this.params=t.params,this.cause=t.cause}}class NLe extends Error{constructor(t){super(t.message),this.name="GridUpdateRowError",this.params=t.params,this.cause=t.cause}}const BLe=(e,t)=>{const{classes:n}=e,r={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return ft(r,_n,n)},p5=Vn("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),FLe=Vn(p5)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),jLe=Vn(p5)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),g5=Yt(function(t,n){const r=fs(),o=yt(),i=_.useRef(!1),s=_.useRef(0),a=_.useRef(null),c=_.useRef(null),d=BLe(o,t.position),h=tt(r,Jr),f=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",m=t.position==="vertical"?"top":"left",y=t.position==="vertical"?h.hasScrollX:h.hasScrollY,b=h.minimumSize[f]+(y?h.scrollbarSize:0),S=(t.position==="vertical"?h.viewportInnerSize.height:h.viewportOuterSize.width)*(b/h.viewportOuterSize[f]),E=Vt(()=>{const M=a.current,I=t.scrollPosition.current;if(!M||I[m]===s.current)return;if(s.current=I[m],i.current){i.current=!1;return}i.current=!0;const N=I[m]/b;M[g]=N*S}),T=Vt(()=>{const M=r.current.virtualScrollerRef.current,I=a.current;if(!I)return;if(i.current){i.current=!1;return}i.current=!0;const N=I[g]/S;M[g]=N*b});Xb(()=>{const M=r.current.virtualScrollerRef.current,I=a.current,N={passive:!0};return M.addEventListener("scroll",E,N),I.addEventListener("scroll",T,N),()=>{M.removeEventListener("scroll",E,N),I.removeEventListener("scroll",T,N)}}),_.useEffect(()=>{c.current.style.setProperty(f,`${S}px`)},[S,f]);const R=t.position==="vertical"?FLe:jLe;return x.jsx(R,{ref:Mn(n,a),className:d.root,style:t.position==="vertical"&&o.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:M=>{M.target.blur()},children:x.jsx("div",{ref:c,className:d.content})})}),VLe=e=>{const{classes:t,hasScrollX:n,hasPinnedRight:r,loadingOverlayVariant:o,overlayType:i}=e;return ft({root:["main",r&&"main--hasPinnedRight",(o==="skeleton"||i==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},_n,t)},$Le=Vn("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),zLe=e=>e.current.state.dimensions.rightPinnedWidth>0;function ULe(e){const t=fs(),n=yt(),r=tt(t,HPe),o=tt(t,UPe),i=tt(t,zLe),s=tt(t,qPe),{getOverlay:a,overlaysProps:c}=MAe(),d=H({classes:n.classes,hasScrollX:o,hasPinnedRight:i},c),h=VLe(d),f=t.current.virtualizer.api.useVirtualization().getters,{getContainerProps:g,getScrollerProps:m,getContentProps:y,getScrollbarVerticalProps:b,getScrollbarHorizontalProps:v,getRows:S,getScrollAreaProps:E}=f,T=S(void 0,Ko(t));return x.jsxs(kAe,H({className:h.root},g(),{ownerState:d,children:[x.jsx(sS,H({scrollDirection:"left"},E())),x.jsx(sS,H({scrollDirection:"right"},E())),x.jsx(sS,H({scrollDirection:"up"},E())),x.jsx(sS,H({scrollDirection:"down"},E())),x.jsxs($Le,H({className:h.scroller},m(),{ownerState:d,children:[x.jsxs(LAe,{children:[!n.listView&&x.jsx(RAe,{}),x.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:f})]}),a(),x.jsx(FAe,H({},y(),{children:x.jsxs(qAe,{role:"rowgroup",children:[T,x.jsx(n.slots.detailPanels,{virtualScroller:f})]})})),s&&x.jsx(HAe,{rowsLength:T.length}),x.jsx(n.slots.bottomContainer,{children:x.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:f})})]})),o&&!n.listView&&x.jsx(g5,H({position:"horizontal"},v())),r&&x.jsx(g5,H({position:"vertical"},b())),e.children]}))}function HLe(){const e=yt();return e.hideFooter?null:x.jsx(e.slots.footer,H({},e.slotProps?.footer))}let FR;function jR(){return FR===void 0&&document.createElement("div").focus({get preventScroll(){return FR=!0,!1}}),FR}function GLe({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const r=H({},e);return Object.keys(n).forEach(o=>{const i=o;n[i]!==void 0&&(r[i]=n[i])}),r}const WLe=e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null},KLe=e=>e===b2||WLe(e)!==null,m5=(e,t)=>{if(e)if(t){if(e===Rn.LEFT)return"right";if(e===Rn.RIGHT)return"left"}else{if(e===Rn.LEFT)return"left";if(e===Rn.RIGHT)return"right"}};function dS(e,t,n,r){const o=m5(n,t);return!o||r===void 0||(e[o]=r),e}const qLe=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],YLe=["changeReason","unstable_updateValueOnRender"];Rn.LEFT+"",iu.LEFT,Rn.RIGHT+"",iu.RIGHT,Rn.NONE+"",Rn.VIRTUAL+"";const XLe=e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:o,isEditable:i,isSelected:s,isSelectionMode:a,classes:c}=e,d={root:["cell",`cell--text${Ge(t)}`,s&&"selected",i&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",o===Rn.LEFT&&"cell--pinnedLeft",o===Rn.RIGHT&&"cell--pinnedRight",a&&!i&&"cell--selectionMode"]};return ft(d,_n,c)},ZLe=Yt(function(t,n){const{column:r,row:o,rowId:i,rowNode:s,align:a,colIndex:c,width:d,className:h,style:f,colSpan:g,disableDragEvents:m,isNotVisible:y,pinnedOffset:b,pinnedPosition:v,showRightBorder:S,showLeftBorder:E,onClick:T,onDoubleClick:R,onMouseDown:M,onMouseUp:I,onMouseOver:N,onKeyDown:P,onKeyUp:L,onDragEnter:A,onDragOver:$}=t,B=gt(t,qLe),U=fs(),K=yt(),G=Go(),V=r.field,Y=tt(U,XAe,{rowId:i,field:V}),te=Kw().hooks.useCellAggregationResult(i,V),z=Y?Xn.Edit:Xn.View,W=U.current.getCellParamsForRow(i,V,o,{colDef:r,cellMode:z,rowNode:s,tabIndex:tt(U,()=>{const lt=OR(U);return lt&&lt.field===V&&lt.id===i?0:-1}),hasFocus:tt(U,()=>{const lt=Gi(U);return lt?.id===i&&lt.field===V})});W.api=U.current,te&&(W.value=te.value,W.formattedValue=r.valueFormatter?r.valueFormatter(W.value,o,r,U):W.value);const Z=tt(U,()=>U.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:i,field:V})),le=U.current.virtualizer.store,ue=Yn(le,Pf.selectors.hiddenCells),ce=Yn(le,Pf.selectors.spannedCells),{hasFocus:se,isEditable:ve=!1,value:Te}=W,Se=r.type==="actions"&&"getActions"in r&&typeof r.getActions=="function"&&r.getActions(U.current.getRowParams(i)).some(lt=>!lt.props.disabled),he=(z==="view"||!ve)&&!Se?W.tabIndex:-1,{classes:pe,getCellClassName:we}=K,De=[tt(U,()=>U.current.unstable_applyPipeProcessors("cellClassName",[],{id:i,field:V}).filter(Boolean).join(" "))];r.cellClassName&&De.push(typeof r.cellClassName=="function"?r.cellClassName(W):r.cellClassName),r.display==="flex"&&De.push(oe["cell--flex"]),we&&De.push(we(W));const Ee=W.formattedValue??Te,Fe=_.useRef(null),Je=Mn(n,Fe),Be=_.useRef(null),Ot=K.cellSelection??!1,dt={align:a,showLeftBorder:E,showRightBorder:S,isEditable:ve,classes:K.classes,pinnedPosition:v,isSelected:Z,isSelectionMode:Ot},St=XLe(dt),je=_.useCallback(lt=>ct=>{const Ct=U.current.getCellParams(i,V||"");U.current.publishEvent(lt,Ct,ct),I&&I(ct)},[U,V,I,i]),Rt=_.useCallback(lt=>ct=>{const Ct=U.current.getCellParams(i,V||"");U.current.publishEvent(lt,Ct,ct),M&&M(ct)},[U,V,M,i]),mt=_.useCallback((lt,ct)=>Ct=>{if(!U.current.getRow(i))return;const st=U.current.getCellParams(i,V||"");U.current.publishEvent(lt,st,Ct),ct&&ct(Ct)},[U,V,i]),Bt=ue[i]?.[c]??!1,It=ce[i]?.[c]??1,Xt=_.useMemo(()=>{if(y)return{padding:0,opacity:0,width:0,height:0,border:0};const lt=dS(H({"--width":`${d}px`},f),G,v,b),ct=v===Rn.LEFT,Ct=v===Rn.RIGHT;return It>1&&(lt.height=`calc(var(--height) * ${It})`,lt.zIndex=10,(ct||Ct)&&(lt.zIndex=40)),lt},[d,y,f,b,v,G,It]);if(_.useEffect(()=>{if(!se||z===Xn.Edit)return;const lt=Zr(U.current.rootElementRef.current);if(Fe.current&&!Fe.current.contains(lt.activeElement)){const ct=Fe.current.querySelector('[tabindex="0"]'),Ct=Be.current||ct||Fe.current;if(jR())Ct.focus({preventScroll:!0});else{const st=U.current.getScrollPosition();Ct.focus(),U.current.scroll(st)}}},[se,z,U]),Bt)return x.jsx("div",{"data-colindex":c,role:"presentation",style:H({width:"var(--width)"},Xt)});let Wt=B.onFocus,ht,_t;if(Y===null&&r.renderCell&&(ht=r.renderCell(W)),Y!==null&&r.renderEditCell){const lt=U.current.getRowWithUpdatedValues(i,r.field),ct=gt(Y,YLe),Ct=r.valueFormatter?r.valueFormatter(Y.value,lt,r,U):W.formattedValue,st=H({},W,{row:lt,formattedValue:Ct},ct);ht=r.renderEditCell(st),De.push(oe["cell--editing"]),De.push(pe?.["cell--editing"])}if(ht===void 0){const lt=Ee?.toString();ht=lt,_t=lt}_.isValidElement(ht)&&Se&&(ht=_.cloneElement(ht,{focusElementRef:Be}));const He=m?null:{onDragEnter:mt("cellDragEnter",A),onDragOver:mt("cellDragOver",$)};return x.jsx("div",H({className:We(St.root,De,h),role:"gridcell","data-field":V,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":g,"aria-rowspan":It,style:Xt,title:_t,tabIndex:he,onClick:mt("cellClick",T),onDoubleClick:mt("cellDoubleClick",R),onMouseOver:mt("cellMouseOver",N),onMouseDown:Rt("cellMouseDown"),onMouseUp:je("cellMouseUp"),onKeyDown:mt("cellKeyDown",P),onKeyUp:mt("cellKeyUp",L)},He,B,{onFocus:Wt,ref:Je,children:ht}))}),QLe=ec(ZLe),JLe=["label","icon","showInMenu","onClick"],eNe=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],tNe=Yt((e,t)=>{const n=yt();if(!e.showInMenu){const{label:h,icon:f,onClick:g}=e,m=gt(e,JLe),y=b=>{g?.(b)};return x.jsx(n.slots.baseIconButton,H({size:"small",role:"menuitem","aria-label":h},m,{onClick:y},n.slotProps?.baseIconButton,{ref:t,children:_.cloneElement(f,{fontSize:"small"})}))}const{label:r,icon:o,onClick:i,closeMenuOnClick:s=!0,closeMenu:a}=e,c=gt(e,eNe),d=h=>{i?.(h),s&&a?.()};return x.jsx(n.slots.baseMenuItem,H({ref:t},c,{onClick:d,iconStart:o,children:r}))}),nNe=["field","type","align","width","height","empty","style","className"],v5="1.3em",rNe="1.2em",y5=[40,80],oNe={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},iNe=e=>{const{align:t,classes:n,empty:r}=e,o={root:["cell","cellSkeleton",`cell--text${t?Ge(t):"Left"}`,r&&"cellEmpty"]};return ft(o,_n,n)},sNe=Pke(12345);function aNe(e){const{field:t,type:n,align:r,width:o,height:i,empty:s=!1,style:a,className:c}=e,d=gt(e,nNe),h=yt(),f={classes:h.classes,align:r,empty:s},g=iNe(f),m=_.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:v5,height:v5};const[b,v]=n?oNe[n]??y5:y5;return{variant:"text",width:`${Math.round(sNe(b,v))}%`,height:rNe}},[n]);return x.jsx("div",H({"data-field":t,className:We(g.root,c),style:H({height:i,maxWidth:o,minWidth:o},a)},d,{children:!s&&x.jsx(h.slots.baseSkeleton,H({},m))}))}const lNe=ec(aNe),cNe=10,hS=-5,kf=1,b5={width:3,rx:1.5,x:10.5},uNe="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",dNe=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||e.current.state.dimensions.scrollbarSize===0),hNe=be("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${oe.autoHeight}`]:t.autoHeight},{[`&.${oe.autosizing}`]:t.autosizing},{[`&.${oe["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${oe["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${oe["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${oe["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${oe["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${oe.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${oe.actionsCell}`]:t.actionsCell},{[`& .${oe.booleanCell}`]:t.booleanCell},{[`& .${oe.cell}`]:t.cell},{[`& .${oe["cell--editable"]}`]:t["cell--editable"]},{[`& .${oe["cell--editing"]}`]:t["cell--editing"]},{[`& .${oe["cell--flex"]}`]:t["cell--flex"]},{[`& .${oe["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${oe["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${oe["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${oe["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${oe["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${oe["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${oe["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${oe["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${oe["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${oe["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${oe["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${oe["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${oe.cellCheckbox}`]:t.cellCheckbox},{[`& .${oe.cellEmpty}`]:t.cellEmpty},{[`& .${oe.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${oe.cellSkeleton}`]:t.cellSkeleton},{[`& .${oe.checkboxInput}`]:t.checkboxInput},{[`& .${oe.columnHeader}`]:t.columnHeader},{[`& .${oe["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${oe["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${oe["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${oe["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${oe["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${oe["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${oe["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${oe["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${oe["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${oe["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${oe["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${oe["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${oe["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${oe["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${oe["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${oe["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${oe["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${oe["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${oe.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${oe.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${oe.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${oe.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${oe.columnSeparator}`]:t.columnSeparator},{[`& .${oe["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${oe["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${oe["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${oe["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${oe["container--bottom"]}`]:t["container--bottom"]},{[`& .${oe["container--top"]}`]:t["container--top"]},{[`& .${oe.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${oe["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${oe.editBooleanCell}`]:t.editBooleanCell},{[`& .${oe.filterIcon}`]:t.filterIcon},{[`& .${oe["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${oe["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${oe["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${oe.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${oe.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${oe.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${oe.headerFilterRow}`]:t.headerFilterRow},{[`& .${oe.iconSeparator}`]:t.iconSeparator},{[`& .${oe.menuIcon}`]:t.menuIcon},{[`& .${oe.menuIconButton}`]:t.menuIconButton},{[`& .${oe.menuList}`]:t.menuList},{[`& .${oe.menuOpen}`]:t.menuOpen},{[`& .${oe.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${oe.pinnedRows}`]:t.pinnedRows},{[`& .${oe["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${oe["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${oe.row}`]:t.row},{[`& .${oe["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${oe["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${oe["row--dragging"]}`]:t["row--dragging"]},{[`& .${oe["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${oe["row--editable"]}`]:t["row--editable"]},{[`& .${oe["row--editing"]}`]:t["row--editing"]},{[`& .${oe["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${oe["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${oe.rowReorderCell}`]:t.rowReorderCell},{[`& .${oe["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${oe.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${oe.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${oe.rowSkeleton}`]:t.rowSkeleton},{[`& .${oe.scrollbar}`]:t.scrollbar},{[`& .${oe["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${oe["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${oe.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${oe["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${oe["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${oe["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${oe["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${oe.sortIcon}`]:t.sortIcon},{[`& .${oe.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${oe.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${oe.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${oe.withBorderColor}`]:t.withBorderColor},{[`& .${oe["row--dropAbove"]}`]:t["row--dropAbove"]},{[`& .${oe["row--dropBelow"]}`]:t["row--dropBelow"]},{[`& .${oe["row--beingDragged"]}`]:t["row--beingDragged"]}]})(()=>{const e=fs(),t=tt(e,dNe),n=wt.colors.background.base,r=wt.header.background.base,o=wt.cell.background.pinned,i=fNe(wt.colors.interactive.hover),s=wt.colors.interactive.hoverOpacity,a=wt.colors.interactive.selected,c=wt.colors.interactive.selectedOpacity,d=a,h=`calc(${c} + ${s})`,f=cu(n,i,s),g=cu(n,a,c),m=cu(n,d,h),y=cu(o,i,s),b=cu(o,a,c),v=cu(o,d,h),S=N=>({[`& .${oe["cell--pinnedLeft"]}, & .${oe["cell--pinnedRight"]}`]:{backgroundColor:N,"&.Mui-selected":{backgroundColor:cu(N,g,c),"&:hover":{backgroundColor:cu(N,m,h)}}}}),E=S(y),T=S(b),R=S(v),M={backgroundColor:g,"&:hover":{backgroundColor:m,"@media (hover: none)":{backgroundColor:g}}};return{"--unstable_DataGrid-radius":wt.radius.base,"--unstable_DataGrid-headWeight":wt.typography.fontWeight.medium,"--DataGrid-rowBorderColor":wt.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:wt.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:wt.colors.background.base,color:wt.colors.foreground.base,font:wt.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${oe.main} > *:first-child${uNe}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${oe.autoHeight}`]:{height:"auto"},[`&.${oe.autosizing}`]:{[`& .${oe.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${oe.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${oe.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${oe.groupingCriteriaCell}`]:{width:"unset"},[`& .${oe.treeDataGroupingCell}`]:{width:"unset"}},[`&.${oe.withSidePanel}`]:{flexDirection:"row"},[`& .${oe.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${oe.columnHeader}, & .${oe.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${oe.columnHeader}:focus-within, & .${oe.cell}:focus-within`]:{outline:`solid ${w5(wt.colors.interactive.focus,.5)} ${kf}px`,outlineOffset:kf*-1},[`& .${oe.columnHeader}:focus, & .${oe.cell}:focus`]:{outline:`solid ${wt.colors.interactive.focus} ${kf}px`,outlineOffset:kf*-1},[`& .${oe.columnHeader}:focus,
      & .${oe["columnHeader--withLeftBorder"]},
      & .${oe["columnHeader--withRightBorder"]},
      & .${oe["columnHeader--siblingFocused"]},
      & .${oe["virtualScroller--hasScrollX"]} .${oe["columnHeader--lastUnpinned"]},
      & .${oe["virtualScroller--hasScrollX"]} .${oe["columnHeader--last"]}
      `]:{[`& .${oe.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${oe["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${oe["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${oe["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${oe["root--noToolbar"]} [aria-rowindex="1"] .${oe["columnHeader--last"]}`]:{borderTopRightRadius:t?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${oe.columnHeaderCheckbox}, & .${oe.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${oe.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:r},[`& .${oe["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${oe["virtualScroller--hasScrollX"]} .${oe["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${oe["pivotPanelField--sorted"]} .${oe.iconButtonContainer},
      & .${oe["columnHeader--sorted"]} .${oe.iconButtonContainer},
      & .${oe["columnHeader--filtered"]} .${oe.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${oe.pivotPanelField}:not(.${oe["pivotPanelField--sorted"]}) .${oe.sortButton},
      & .${oe.columnHeader}:not(.${oe["columnHeader--sorted"]}) .${oe.sortButton}`]:{opacity:0,transition:wt.transition(["opacity"],{duration:wt.transitions.duration.short})},[`& .${oe.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:wt.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${oe.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${oe["columnHeader--filledGroup"]} .${oe.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${oe.sortIcon}, & .${oe.filterIcon}`]:{fontSize:"inherit"},[`& .${oe["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${oe["columnHeader--alignCenter"]} .${oe.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${oe["columnHeader--alignRight"]} .${oe.columnHeaderDraggableContainer}, & .${oe["columnHeader--alignRight"]} .${oe.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${oe["columnHeader--alignCenter"]} .${oe.menuIcon}`]:{marginLeft:"auto"},[`& .${oe["columnHeader--alignRight"]} .${oe.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${oe["columnHeader--moving"]}`]:{backgroundColor:f},[`& .${oe["columnHeader--pinnedLeft"]}, & .${oe["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:wt.header.background.base},[`& .${oe.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:cNe,color:wt.colors.border.base},[`& .${oe.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:r},"@media (hover: hover)":{[`& .${oe.columnHeader}:hover`]:{[`& .${oe.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${oe.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${oe.columnHeader}:not(.${oe["columnHeader--sorted"]}):hover .${oe.sortButton},
        & .${oe.pivotPanelField}:not(.${oe["pivotPanelField--sorted"]}):hover .${oe.sortButton},
        & .${oe.pivotPanelField}:not(.${oe["pivotPanelField--sorted"]}) .${oe.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${oe.columnHeader} .${oe.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${oe.columnHeader}:focus,
        & .${oe["columnHeader--siblingFocused"]}`]:{[`.${oe["columnSeparator--resizable"]}`]:{color:wt.colors.foreground.accent}},[`& .${oe.pivotPanelField}:not(.${oe["pivotPanelField--sorted"]}) .${oe.sortButton}`]:{opacity:.5}},[`& .${oe["columnHeader--withLeftBorder"]} .${oe["columnSeparator--sideLeft"]}:not(.${oe["columnSeparator--resizable"]}), & .${oe["columnHeader--withRightBorder"]} .${oe["columnSeparator--sideRight"]}:not(.${oe["columnSeparator--resizable"]})`]:{display:"none"},[`& .${oe["columnSeparator--sideLeft"]}`]:{left:hS},[`& .${oe["columnSeparator--sideRight"]}`]:{right:hS},[`& .${oe["columnHeader--withRightBorder"]} .${oe["columnSeparator--sideLeft"]}`]:{left:hS-.5},[`& .${oe["columnHeader--withRightBorder"]} .${oe["columnSeparator--sideRight"]}`]:{right:hS-.5},[`& .${oe["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${oe["columnSeparator--resizing"]}`]:{color:wt.colors.foreground.accent},"@media (hover: none)":{[`& .${oe.iconSeparator} rect`]:b5},"@media (hover: hover)":{"&:hover":{color:wt.colors.foreground.accent,[`& .${oe.iconSeparator} rect`]:b5}},"& svg":{pointerEvents:"none"}},[`& .${oe.iconSeparator}`]:{color:"inherit",transition:wt.transition(["color","width"],{duration:wt.transitions.duration.short})},[`& .${oe.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${oe.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${oe.headerFilterRow}`]:{[`& .${oe.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${oe["row--borderBottom"]} .${oe.columnHeader},
      & .${oe["row--borderBottom"]} .${oe.filler},
      & .${oe["row--borderBottom"]} .${oe.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${oe["row--borderBottom"]} .${oe.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${oe.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${oe["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:f,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${oe.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":M},[`& .${oe.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":M},[`& .${oe["virtualScrollerContent--overflowed"]} .${oe["row--lastVisible"]} .${oe.cell}`]:{borderTopColor:"transparent"},[`& .${oe.pinnedRows} .${oe.row}, .${oe.aggregationRowOverlayWrapper} .${oe.row}`]:{backgroundColor:o,"&:hover":{backgroundColor:y}},[`& .${oe["pinnedRows--top"]} :first-of-type`]:{[`& .${oe.cell}, .${oe.scrollbarFiller}`]:{borderTop:"none"}},[`&.${oe["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${oe["row--dynamicHeight"]} > .${oe.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${oe.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${oe.cell}.${oe["cell--selectionMode"]}`]:{cursor:"default"},[`& .${oe.cell}.${oe["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:wt.shadows.base,backgroundColor:wt.colors.background.overlay,"&:focus-within":{outline:`${kf}px solid ${wt.colors.interactive.focus}`,outlineOffset:kf*-1}},[`& .${oe["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${oe["row--editing"]}`]:{boxShadow:wt.shadows.base},[`& .${oe["row--editing"]} .${oe.cell}`]:{boxShadow:"none",backgroundColor:wt.colors.background.overlay},[`& .${oe.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${oe.booleanCell}[data-value="true"]`]:{color:wt.colors.foreground.muted},[`& .${oe.booleanCell}[data-value="false"]`]:{color:wt.colors.foreground.disabled},[`& .${oe.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:wt.spacing(1)},[`& .${oe.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:wt.colors.interactive.disabledOpacity},[`& .${oe["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${oe.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${oe.withBorderColor}`]:{borderColor:wt.colors.border.base},[`& .${oe["cell--withLeftBorder"]}, & .${oe["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${oe["cell--withRightBorder"]}, & .${oe["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${oe["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${oe["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${oe["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${oe["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${oe["cell--pinnedLeft"]}, & .${oe["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:wt.cell.background.pinned,"&.Mui-selected":{backgroundColor:b}},[`& .${oe.row}`]:{"&:hover":E,"&.Mui-selected":T,"&.Mui-selected:hover":R},[`& .${oe.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${oe.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${oe.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${oe.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${oe["columnHeader--dragging"]}`]:{background:wt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:wt.colors.interactive.disabledOpacity},[`& .${oe["row--dragging"]}`]:{background:wt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:wt.colors.foreground.base,transform:"translateZ(0)",[`& .${oe.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${oe.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${oe.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:wt.spacing(2)},[`& .${oe.treeDataGroupingCellLoadingContainer}, .${oe.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${oe.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${oe.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:wt.spacing(2)},[`& .${oe.columnHeaders} .${oe.scrollbarFiller}`]:{backgroundColor:r},[`.${oe.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${oe["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${oe["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${oe["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:wt.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${oe.filler}`]:{flex:"1 0 auto"},[`& .${oe["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${oe.columnHeaders} .${oe.filler}`]:{backgroundColor:r},[`& .${oe["main--hiddenContent"]}`]:{[`& .${oe.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${oe["scrollbar--vertical"]}, & .${oe.pinnedRows}, & .${oe.virtualScroller} > .${oe.filler}`]:{display:"none"}},[`& .${oe["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:wt.colors.interactive.selected}},[`& .${oe["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:wt.colors.interactive.selected},[`&.${oe["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${oe["row--beingDragged"]}`]:{color:wt.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function w5(e,t){return`rgba(from ${e} r g b / ${t})`}function fNe(e){return w5(e,1)}function cu(e,t,n){return`color-mix(in srgb,${e}, ${t} calc(${n} * 100%))`}const pNe=()=>()=>{},gNe=()=>!1,mNe=()=>!0,vNe=()=>dM.useSyncExternalStore(pNe,gNe,mNe),S5=_.createContext(void 0);function VR(){const e=_.useContext(S5);if(e===void 0)throw new Error("MUI X: Missing context.");return e}function yNe({children:e}){const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),o=_.useMemo(()=>({columnsPanelTriggerRef:t,filterPanelTriggerRef:n,aiAssistantPanelTriggerRef:r}),[]);return x.jsx(S5.Provider,{value:o,children:e})}function bNe(){const e=hn(),t=tt(e,Js),n=yt(),r=tt(e,Wd),{columnsPanelTriggerRef:o,filterPanelTriggerRef:i,aiAssistantPanelTriggerRef:s}=VR(),a=e.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??Ti.filters);let c=null;switch(r.openedPanelValue){case Ti.filters:c=i.current;break;case Ti.columns:c=o.current;break;case Ti.aiAssistant:c=s.current;break}return x.jsx(n.slots.panel,H({id:r.panelId,open:t.length>0&&r.open,"aria-labelledby":r.labelId,target:c,onClose:()=>e.current.hidePreferences()},n.slotProps?.panel,{children:a}))}function wNe(){const e=yt();return x.jsxs(_.Fragment,{children:[x.jsx(bNe,{}),e.showToolbar&&x.jsx(e.slots.toolbar,H({},e.slotProps?.toolbar))]})}const SNe=["className","children","sidePanel"],CNe=(e,t)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:o}=e,i={root:["root",n&&"autoHeight",`root--density${Ge(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",o&&"withVerticalBorder"]};return ft(i,_n,r)},xNe=Yt(function(t,n){const r=yt(),{className:o,children:i,sidePanel:s}=t,a=gt(t,SNe),c=fs(),d=tt(c,bf),h=c.current.rootElementRef,f=_.useCallback(S=>{S!==null&&c.current.publishEvent("rootMount",S)},[c]),g=Mn(h,n,f),m=r,y=CNe(m,d),b=Kke();return vNe()?null:x.jsxs(hNe,H({className:We(y.root,o,b.className,s&&oe.withSidePanel),ownerState:m},a,{ref:g,children:[x.jsxs("div",{className:oe.mainContent,role:"presentation",children:[x.jsx(wNe,{}),x.jsx(ULe,{children:i}),x.jsx(HLe,{})]}),s,b.tag]}))}),_Ne=ec(xNe),ENe=["className"],TNe=e=>{const{classes:t}=e;return ft({root:["footerContainer","withBorderColor"]},_n,t)},MNe=Vn("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),ONe=Yt(function(t,n){const{className:r}=t,o=gt(t,ENe),i=yt(),s=TNe(i);return x.jsx(MNe,H({className:We(s.root,r),ownerState:i},o,{ref:n}))}),RNe=["className"],INe=e=>{const{classes:t}=e;return ft({root:["overlay"]},_n,t)},PNe=Vn("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:wt.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:wt.colors.background.backdrop}),fS=Yt(function(t,n){const{className:r}=t,o=gt(t,RNe),i=yt(),s=INe(i);return x.jsx(PNe,H({className:We(s.root,r),ownerState:i},o,{ref:n}))});function ml(e,t,n,r={}){return typeof t=="function"?t(n,r):t?(t.props.className&&(n.className=kNe(t.props.className,n.className)),(t.props.style||n.style)&&(n.style=H({},n.style,t.props.style)),_.cloneElement(t,n)):_.createElement(e,n)}function kNe(e,t){return!e||!t?e||t:`${e} ${t}`}const C5=_.createContext(void 0);function DNe(){const e=_.useContext(C5);if(e===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}function ANe(e,t){if(!e.ref.current||!t.ref.current)return 0;const n=e.ref.current.compareDocumentPosition(t.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const LNe=["render","className"],NNe=e=>{const{classes:t}=e;return ft({root:["toolbar"]},_n,t)},BNe=Vn("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:wt.spacing(.25),padding:wt.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${wt.colors.border.base}`}),x5=Yt(function(t,n){const{render:r,className:o}=t,i=gt(t,LNe),s=yt(),a=NNe(s),[c,d]=_.useState(null),[h,f]=_.useState([]),g=_.useCallback(()=>h.sort(ANe),[h]),m=_.useCallback((M,I,N=!0)=>{let P=M;const L=g(),A=L.length;for(let $=0;$<A;$+=1){if(P+=I,P>=A){if(!N)return-1;P=0}else if(P<0){if(!N)return-1;P=A-1}if(!L[P].ref.current?.disabled&&L[P].ref.current?.ariaDisabled!=="true")return P}return-1},[g]),y=_.useCallback((M,I)=>{f(N=>[...N,{id:M,ref:I}])},[]),b=_.useCallback(M=>{f(I=>I.filter(N=>N.id!==M))},[]),v=_.useCallback(M=>{if(!c)return;const I=g(),N=I.findIndex(L=>L.id===c);let P=-1;if(M.key==="ArrowRight"?(M.preventDefault(),P=m(N,1)):M.key==="ArrowLeft"?(M.preventDefault(),P=m(N,-1)):M.key==="Home"?(M.preventDefault(),P=m(-1,1,!1)):M.key==="End"&&(M.preventDefault(),P=m(I.length,-1,!1)),P>=0&&P<I.length){const L=I[P];d(L.id),L.ref.current?.focus()}},[g,c,m]),S=_.useCallback(M=>{c!==M&&d(M)},[c,d]),E=_.useCallback(M=>{const I=g(),N=I.findIndex(L=>L.id===M),P=m(N,1);if(P>=0&&P<I.length){const L=I[P];d(L.id),L.ref.current?.focus()}},[g,m]);_.useEffect(()=>{const M=g();if(M.length>0){if(!c){d(M[0].id);return}const I=M.findIndex(N=>N.id===c);if(M[I]){if(I===-1){const N=M[I];N&&(d(N.id),N.ref.current?.focus())}}else{const N=M[M.length-1];N&&(d(N.id),N.ref.current?.focus())}}},[g,m]);const T=_.useMemo(()=>({focusableItemId:c,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}),[c,y,b,v,S,E]),R=ml(BNe,r,H({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:We(a.root,o)},i,{ref:n}));return x.jsx(C5.Provider,{value:T,children:R})}),FNe=["render","onKeyDown","onFocus","disabled","aria-disabled"],pS=Yt(function(t,n){const{render:r,onKeyDown:o,onFocus:i,disabled:s,"aria-disabled":a}=t,c=gt(t,FNe),d=kn(),h=yt(),f=_.useRef(null),g=Mn(f,n),{focusableItemId:m,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}=DNe(),T=P=>{v(P),o?.(P)},R=P=>{S(d),i?.(P)};_.useEffect(()=>(y(d,f),()=>b(d)),[]);const M=_.useRef(s);_.useEffect(()=>{M.current!==s&&s===!0&&E(d,s),M.current=s},[s,d,E]);const I=_.useRef(a);_.useEffect(()=>{I.current!==a&&a===!0&&E(d,!0),I.current=a},[a,d,E]);const N=ml(h.slots.baseIconButton,r,H({},h.slotProps?.baseIconButton,{tabIndex:m===d?0:-1},c,{disabled:s,"aria-disabled":a,onKeyDown:T,onFocus:R,ref:g}));return x.jsx(_.Fragment,{children:N})}),jNe=["className","children"],VNe=e=>{const{classes:t}=e;return ft({root:["toolbarContainer"]},_n,t)},$Ne=Vn(x5,{name:"MuiDataGrid",slot:"ToolbarContainer",shouldForwardProp:e=>e!=="ownerState"})({display:"flex",alignItems:"center",flexWrap:"wrap",gap:wt.spacing(1),padding:wt.spacing(.5),minHeight:"auto"}),zNe=Yt(function(t,n){const{className:r,children:o}=t,i=gt(t,jNe),s=yt(),a=VNe(s);return o?x.jsx($Ne,H({className:We(a.root,r),ownerState:s},i,{ref:n,children:o})):null}),UNe=e=>{const{classes:t,open:n}=e;return ft({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},_n,t)},HNe=_.memo(e=>{const{colDef:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:i}=e,s=hn(),a=yt(),c=H({},e,{classes:a.classes}),d=UNe(c),h=_.useCallback(g=>{g.preventDefault(),g.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]),f=t.headerName??t.field;return x.jsx("div",{className:d.root,children:x.jsx(a.slots.baseTooltip,H({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},a.slotProps?.baseTooltip,{children:x.jsx(a.slots.baseIconButton,H({ref:i,tabIndex:-1,className:d.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(f),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:o},a.slotProps?.baseIconButton,{children:x.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function GNe({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:o,open:i,target:s,onExited:a}){const c=hn(),d=c.current.getColumn(o),h=Vt(f=>{f&&(f.stopPropagation(),s?.contains(f.target))||c.current.hideColumnMenu()});return!s||!d?null:x.jsx(qw,{position:`bottom-${d.align==="right"?"start":"end"}`,open:i,target:s,onClose:h,onExited:a,children:x.jsx(n,H({colDef:d,hideMenu:h,open:i,id:e,labelledby:t},r))})}function WNe(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function gS(e,t){return e.closest(`.${t}`)}function oc(e){return e.replace(/["\\]/g,"\\$&")}function KNe(e,t){return e.querySelector(`[role="columnheader"][data-field="${oc(t)}"]`)}function _5(e){return`.${oe.row}[data-id="${oc(String(e))}"]`}function qNe(e,t){return e.querySelector(_5(t))}function YNe(e,{id:t,field:n}){const r=_5(t),o=`.${oe.cell}[data-field="${oc(n)}"]`,i=`${r} ${o}`;return e.querySelector(i)}function km(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function XNe(e){return e.getAttribute("data-field")}function ZNe(e,t){return e.querySelector(`[data-field="${oc(t)}"]`)}function QNe(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function JNe(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${oc(t)}-|"]`)??[])}function eBe(e,t){if(!gS(e,oe.root))throw new Error("MUI X: The root element is not found.");const r=e.getAttribute("aria-colindex");if(!r)return[];const o=Number(r)-1,i=[];return t.virtualScrollerRef?.current?(O5(t).forEach(s=>{const a=s.getAttribute("data-id");if(!a)return;let c=o;const d=t.unstable_getCellColSpanInfo(a,o);d&&d.spannedByColSpan&&(c=d.leftVisibleCellIndex);const h=s.querySelector(`[data-colindex="${c}"]`);h&&i.push(h)}),i):[]}function E5(e,t){return e.rootElementRef.current.querySelector(`.${oe[t]}`)}const T5=({api:e,colIndex:t,position:n,filterFn:r})=>{if(t===null)return[];const o=[];return O5(e).forEach(i=>{i.getAttribute("data-id")&&i.querySelectorAll(`.${oe[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const c=Df(a);c!==null&&r(c)&&o.push(a)})}),o};function tBe(e,t,n){const r=Df(t);return T5({api:e,colIndex:r,position:n?"right":"left",filterFn:o=>n?o<r:o>r})}function nBe(e,t,n){const r=Df(t);return T5({api:e,colIndex:r,position:n?"left":"right",filterFn:o=>n?o>r:o<r})}const M5=({api:e,colIndex:t,position:n,filterFn:r})=>{if(!e.columnHeadersContainerRef?.current)return[];if(t===null)return[];const o=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${oe[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(i=>{const s=Df(i);s!==null&&r(s,i)&&o.push(i)}),o};function rBe(e,t,n){const r=Df(t);return M5({api:e,position:n?"right":"left",colIndex:r,filterFn:o=>n?o<r:o>r})}function oBe(e,t,n){const r=Df(t);return M5({api:e,position:n?"left":"right",colIndex:r,filterFn:(o,i)=>i.classList.contains(oe["columnHeader--last"])?!1:n?o>r:o<r})}function iBe(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${oc(t)}"][role="columnheader"]`)}function sBe(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${oc(t)}"][role="gridcell"]`))}function O5(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${oe.row}`)}function Df(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const aBe=["className","aria-label"],lBe=e=>{const{classes:t}=e;return ft({root:["columnHeaderTitle"]},_n,t)},cBe=Vn("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),uBe=Yt(function(t,n){const{className:r}=t,o=gt(t,aBe),i=yt(),s=lBe(i);return x.jsx(cBe,H({className:We(s.root,r),ownerState:i},o,{ref:n}))});function dBe(e){const{label:t,description:n}=e,r=yt(),o=_.useRef(null),[i,s]=_.useState(""),a=_.useCallback(()=>{if(!n&&o?.current){const c=WNe(o.current);s(c?t:"")}},[n,t]);return x.jsx(r.slots.baseTooltip,H({title:n||i},r.slotProps?.baseTooltip,{children:x.jsx(uBe,{onMouseOver:a,ref:o,children:t})}))}const hBe=["resizable","resizing","height","side"];var $R=(function(e){return e.Left="left",e.Right="right",e})($R||{});const fBe=e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${Ge(o)}`],icon:["iconSeparator"]};return ft(i,_n,r)};function pBe(e){const{height:t,side:n=$R.Right}=e,r=gt(e,hBe),o=yt(),i=H({},e,{side:n,classes:o.classes}),s=fBe(i),a=_.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return x.jsx("div",H({className:s.root,style:{minHeight:t}},r,{onClick:a,children:x.jsx(o.slots.columnResizeIcon,{className:s.icon})}))}const gBe=_.memo(pBe),mBe=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],R5=Yt(function(t,n){const{classes:r,colIndex:o,height:i,isResizing:s,sortDirection:a,tabIndex:c,separatorSide:d,isDraggable:h,headerComponent:f,description:g,width:m,columnMenuIconButton:y=null,columnMenu:b=null,columnTitleIconButtons:v=null,headerClassName:S,label:E,resizable:T,draggableContainerProps:R,columnHeaderSeparatorProps:M,style:I}=t,N=gt(t,mBe),P=yt(),L=_.useRef(null),A=Mn(L,n);let $="none";return a!=null&&($=a==="asc"?"ascending":"descending"),x.jsxs("div",H({className:We(r.root,S),style:H({},I,{width:m}),role:"columnheader",tabIndex:c,"aria-colindex":o+1,"aria-sort":$},N,{ref:A,children:[x.jsxs("div",H({className:r.draggableContainer,draggable:h,role:"presentation"},R,{children:[x.jsxs("div",{className:r.titleContainer,role:"presentation",children:[x.jsx("div",{className:r.titleContainerContent,children:f!==void 0?f:x.jsx(dBe,{label:E,description:g,columnWidth:m})}),v]}),y]})),x.jsx(gBe,H({resizable:!P.disableColumnResize&&!!T,resizing:s,height:i,side:d},M)),b]}))}),vBe=e=>{const{disableColumnSorting:t}=yt(),{colDef:n,classes:r,isDragging:o,sortDirection:i,showRightBorder:s,showLeftBorder:a,filterItemsCounter:c,pinnedPosition:d,isLastUnpinned:h,isSiblingFocused:f}=e,g=n.sortable&&!t,m=i!=null,y=c!=null&&c>0,b=n.type==="number",v={root:["columnHeader",n.headerAlign==="left"&&"columnHeader--alignLeft",n.headerAlign==="center"&&"columnHeader--alignCenter",n.headerAlign==="right"&&"columnHeader--alignRight",g&&"columnHeader--sortable",o&&"columnHeader--moving",m&&"columnHeader--sorted",y&&"columnHeader--filtered",b&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",d===Rn.LEFT&&"columnHeader--pinnedLeft",d===Rn.RIGHT&&"columnHeader--pinnedRight",h&&"columnHeader--lastUnpinned",f&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ft(v,_n,r)};function yBe(e){const{colDef:t,columnMenuOpen:n,colIndex:r,headerHeight:o,isResizing:i,isLast:s,sortDirection:a,sortIndex:c,filterItemsCounter:d,hasFocus:h,tabIndex:f,disableReorder:g,separatorSide:m,showLeftBorder:y,showRightBorder:b,pinnedPosition:v,pinnedOffset:S}=e,E=fs(),T=yt(),R=Go(),M=_.useRef(null),I=kn(),N=kn(),P=_.useRef(null),[L,A]=_.useState(n),$=_.useMemo(()=>!T.disableColumnReorder&&!g&&!t.disableReorder,[T.disableColumnReorder,g,t.disableReorder]);let B;t.renderHeader&&(B=t.renderHeader(E.current.getColumnHeaderParams(t.field)));const U=H({},e,{classes:T.classes,showRightBorder:b,showLeftBorder:y}),K=vBe(U),G=_.useCallback(Te=>Se=>{km(Se)||E.current.publishEvent(Te,E.current.getColumnHeaderParams(t.field),Se)},[E,t.field]),V=_.useMemo(()=>({onClick:G("columnHeaderClick"),onContextMenu:G("columnHeaderContextMenu"),onDoubleClick:G("columnHeaderDoubleClick"),onMouseOver:G("columnHeaderOver"),onMouseOut:G("columnHeaderOut"),onMouseEnter:G("columnHeaderEnter"),onMouseLeave:G("columnHeaderLeave"),onKeyDown:G("columnHeaderKeyDown"),onFocus:G("columnHeaderFocus"),onBlur:G("columnHeaderBlur")}),[G]),Y=_.useMemo(()=>$?{onDragStart:G("columnHeaderDragStart"),onDragEnter:G("columnHeaderDragEnter"),onDragOver:G("columnHeaderDragOver"),onDragEndCapture:G("columnHeaderDragEnd")}:{},[$,G]),Q=_.useMemo(()=>({onMouseDown:G("columnSeparatorMouseDown"),onDoubleClick:G("columnSeparatorDoubleClick")}),[G]);_.useEffect(()=>{L||A(n)},[L,n]);const te=_.useCallback(()=>{A(!1)},[]),z=!T.disableColumnMenu&&!t.disableColumnMenu&&x.jsx(HNe,{colDef:t,columnMenuId:I,columnMenuButtonId:N,open:L,iconButtonRef:P}),W=x.jsx(GNe,{columnMenuId:I,columnMenuButtonId:N,field:t.field,open:n,target:P.current,ContentComponent:T.slots.columnMenu,contentComponentProps:T.slotProps?.columnMenu,onExited:te}),Z=t.sortingOrder??T.sortingOrder,le=(t.sortable||a!=null)&&!t.hideSortIcons&&!T.disableColumnSorting,ue=x.jsxs(_.Fragment,{children:[!T.disableColumnFilter&&x.jsx(T.slots.columnHeaderFilterIconButton,H({field:t.field,counter:d},T.slotProps?.columnHeaderFilterIconButton)),le&&x.jsx(T.slots.columnHeaderSortIcon,H({field:t.field,direction:a,index:c,sortingOrder:Z,disabled:!t.sortable},T.slotProps?.columnHeaderSortIcon))]});_.useLayoutEffect(()=>{const Te=E.current.state.columnMenu;if(h&&!Te.open){const he=M.current.querySelector('[tabindex="0"]')||M.current;if(!he)return;if(jR())he.focus({preventScroll:!0});else{const pe=E.current.getScrollPosition();he.focus(),E.current.scroll(pe)}}},[E,h]);const ce=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,se=t.headerName??t.field,ve=_.useMemo(()=>dS(H({},e.style),R,v,S),[v,S,e.style,R]);return x.jsx(R5,H({ref:M,classes:K,columnMenuOpen:n,colIndex:r,height:o,isResizing:i,sortDirection:a,hasFocus:h,tabIndex:f,separatorSide:m,isDraggable:$,headerComponent:B,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:z,columnTitleIconButtons:ue,headerClassName:We(ce,s&&oe["columnHeader--last"]),label:se,resizable:!T.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:W,draggableContainerProps:Y,columnHeaderSeparatorProps:Q,style:ve},V))}const bBe=ec(yBe),wBe=["className"],SBe=e=>{const{classes:t}=e;return ft({root:["iconButtonContainer"]},_n,t)},CBe=Vn("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),I5=Yt(function(t,n){const{className:r}=t,o=gt(t,wBe),i=yt(),s=SBe(i);return x.jsx(CBe,H({className:We(s.root,r),ownerState:i},o,{ref:n}))}),xBe=["direction","index","sortingOrder","disabled","className"],_Be=e=>{const{classes:t}=e;return ft({root:["sortButton"],icon:["sortIcon"]},_n,t)},EBe=Vn(hl,{name:"MuiDataGrid",slot:"SortButton"})({transition:wt.transition(["opacity"],{duration:wt.transitions.duration.short,easing:wt.transitions.easing.easeInOut})});function TBe(e,t,n,r){let o;const i={};return t==="asc"?o=e.columnSortedAscendingIcon:t==="desc"?o=e.columnSortedDescendingIcon:(o=e.columnUnsortedIcon,i.sortingOrder=r),o?x.jsx(o,H({fontSize:"small",className:n},i)):null}function MBe(e){const{direction:t,index:n,sortingOrder:r,disabled:o,className:i}=e,s=gt(e,xBe),a=hn(),c=yt(),d=H({},e,{classes:c.classes}),h=_Be(d),f=TBe(c.slots,t,h.icon,r);if(!f)return null;const g=x.jsx(EBe,H({as:c.slots.baseIconButton,ownerState:d,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:o,className:We(h.root,i)},c.slotProps?.baseIconButton,s,{children:f}));return x.jsxs(_.Fragment,{children:[n!=null&&x.jsx(c.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:g}),n==null&&g]})}function OBe(e){return x.jsx(I5,{children:x.jsx(MBe,H({},e,{tabIndex:-1}))})}const RBe=_.memo(OBe),IBe=e=>{const{classes:t}=e;return ft({icon:["filterIcon"]},_n,t)};function PBe(e){return e.counter?x.jsx(kBe,H({},e)):null}function kBe(e){const{counter:t,field:n,onClick:r}=e,o=hn(),i=yt(),s=H({},e,{classes:i.classes}),a=IBe(s),c=kn(),d=tt(o,ZAe,c),h=kn(),f=_.useCallback(m=>{m.preventDefault(),m.stopPropagation();const{open:y,openedPanelValue:b}=Wd(o);y&&b===Ti.filters?o.current.hideFilterPanel():o.current.showFilterPanel(void 0,h,c),r&&r(o.current.getColumnHeaderParams(n),m)},[o,n,r,h,c]);if(!t)return null;const g=x.jsx(i.slots.baseIconButton,H({id:c,onClick:f,"aria-label":o.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?h:void 0},i.slotProps?.baseIconButton,{children:x.jsx(i.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return x.jsx(i.slots.baseTooltip,H({title:o.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},i.slotProps?.baseTooltip,{children:x.jsxs(I5,{children:[t>1&&x.jsx(i.slots.baseBadge,{badgeContent:t,color:"default",children:g}),t===1&&g]})}))}const DBe=["hideMenu","colDef","id","labelledby","className","children","open"],ABe=be(hl)(()=>({minWidth:248}));function P5(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}const LBe=Yt(function(t,n){const{hideMenu:r,id:o,labelledby:i,className:s,children:a,open:c}=t,d=gt(t,DBe),h=yt(),f=_.useCallback(g=>{g.key==="Tab"&&g.preventDefault(),g2(g.key)&&r(g)},[r]);return x.jsx(ABe,H({as:h.slots.baseMenuList,id:o,className:We(oe.menuList,s),"aria-labelledby":i,onKeyDown:f,onWheel:P5,onTouchMove:P5,autoFocus:c},d,{ref:n,children:a}))}),NBe=["displayOrder"],BBe=e=>{const t=fs(),n=yt(),{defaultSlots:r,defaultSlotProps:o,slots:i={},slotProps:s={},hideMenu:a,colDef:c,addDividers:d=!0}=e,h=_.useMemo(()=>H({},r,i),[r,i]),f=_.useMemo(()=>{if(!s||Object.keys(s).length===0)return o;const y=H({},s);return Object.entries(o).forEach(([b,v])=>{y[b]=H({},v,s[b]||{})}),y},[o,s]),g=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),m=_.useMemo(()=>{const y=Object.keys(r);return Object.keys(i).filter(b=>!y.includes(b))},[i,r]);return _.useMemo(()=>{const v=Array.from(new Set([...g,...m])).filter(S=>h[S]!=null).sort((S,E)=>{const T=f[S],R=f[E],M=Number.isFinite(T?.displayOrder)?T.displayOrder:100,I=Number.isFinite(R?.displayOrder)?R.displayOrder:100;return M-I});return v.reduce((S,E,T)=>{let R={colDef:c,onClick:a};const M=f[E];if(M){const I=gt(M,NBe);R=H({},R,I)}return d&&T!==v.length-1?[...S,[h[E],R],[n.slots.baseDivider,{}]]:[...S,[h[E],R]]},[])},[d,c,g,a,h,f,m,n.slots.baseDivider])};function FBe(e){const{colDef:t,onClick:n}=e,r=hn(),o=yt(),a=eo(r).filter(d=>d.disableColumnMenu!==!0).length===1,c=_.useCallback(d=>{a||(r.current.setColumnVisibility(t.field,!1),n(d))},[r,t.field,n,a]);return o.disableColumnSelector||t.hideable===!1?null:x.jsx(o.slots.baseMenuItem,{onClick:c,disabled:a,iconStart:x.jsx(o.slots.columnMenuHideIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuHideColumn")})}function jBe(e){const{onClick:t}=e,n=hn(),r=yt(),o=_.useCallback(i=>{t(i),n.current.showPreferences(Ti.columns)},[n,t]);return r.disableColumnSelector?null:x.jsx(r.slots.baseMenuItem,{onClick:o,iconStart:x.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}function VBe(e){return x.jsxs(_.Fragment,{children:[x.jsx(FBe,H({},e)),x.jsx(jBe,H({},e))]})}function $Be(e){const{colDef:t,onClick:n}=e,r=hn(),o=yt(),i=_.useCallback(s=>{n(s),r.current.showFilterPanel(t.field)},[r,t.field,n]);return o.disableColumnFilter||!t.filterable?null:x.jsx(o.slots.baseMenuItem,{onClick:i,iconStart:x.jsx(o.slots.columnMenuFilterIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuFilter")})}function zBe(e){const{colDef:t,onClick:n}=e,r=hn(),o=tt(r,ta),i=yt(),s=_.useMemo(()=>t?o.find(f=>f.field===t.field)?.sort:null,[t,o]),a=t.sortingOrder??i.sortingOrder,c=_.useCallback(h=>{n(h);const f=h.currentTarget.getAttribute("data-value")||null,g=i.multipleColumnsSortingMode==="always";r.current.sortColumn(t.field,f===s?null:f,g)},[r,t,n,s,i.multipleColumnsSortingMode]);if(i.disableColumnSorting||!t||!t.sortable||!a.some(h=>!!h))return null;const d=h=>{const f=r.current.getLocaleText(h);return typeof f=="function"?f(t):f};return x.jsxs(_.Fragment,{children:[a.includes("asc")&&s!=="asc"?x.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"asc",iconStart:x.jsx(i.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:d("columnMenuSortAsc")}):null,a.includes("desc")&&s!=="desc"?x.jsx(i.slots.baseMenuItem,{onClick:c,"data-value":"desc",iconStart:x.jsx(i.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:d("columnMenuSortDesc")}):null,a.includes(null)&&s!=null?x.jsx(i.slots.baseMenuItem,{onClick:c,iconStart:i.slots.columnMenuUnsortIcon?x.jsx(i.slots.columnMenuUnsortIcon,{fontSize:"small"}):x.jsx("span",{}),children:r.current.getLocaleText("columnMenuUnsort")}):null]})}const UBe=["defaultSlots","defaultSlotProps","slots","slotProps"],HBe={columnMenuSortItem:zBe,columnMenuFilterItem:$Be,columnMenuColumnsItem:VBe},GBe={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},WBe=Yt(function(t,n){const{defaultSlots:r,defaultSlotProps:o,slots:i,slotProps:s}=t,a=gt(t,UBe),c=BBe(H({},a,{defaultSlots:r,defaultSlotProps:o,slots:i,slotProps:s}));return x.jsx(LBe,H({},a,{ref:n,children:c.map(([d,h],f)=>x.jsx(d,H({},h),f))}))}),KBe=Yt(function(t,n){return x.jsx(WBe,H({},t,{ref:n,defaultSlots:HBe,defaultSlotProps:GBe}))}),qBe=["className"],YBe=e=>{const{classes:t}=e;return ft({root:["panelWrapper"]},_n,t)},XBe=be("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),k5=Yt(function(t,n){const{className:r}=t,o=gt(t,qBe),i=yt(),s=YBe(i);return x.jsx(XBe,H({tabIndex:-1,className:We(s.root,r),ownerState:i},o,{ref:n}))});function ZBe(e){const t=yt();return x.jsx(k5,H({},e,{children:x.jsx(t.slots.columnsManagement,H({},t.slotProps?.columnsManagement))}))}const QBe=["children","className","classes","onClose"],JBe=Gt("MuiDataGrid",["panel","paper"]),eFe=be(hl,{name:"MuiDataGrid",slot:"panel"})({zIndex:wt.zIndex.panel}),tFe=be("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:wt.colors.background.overlay,borderRadius:wt.radius.base,boxShadow:wt.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${wt.spacing(2)})`,overflow:"auto"}),nFe=Yt((e,t)=>{const{children:n,className:r,onClose:o}=e,i=gt(e,QBe),s=hn(),a=yt(),c=JBe,[d,h]=_.useState(!1),f=y2(),g=Vt(()=>h(!0)),m=Vt(()=>h(!1)),y=Vt(()=>{o?.()}),b=Vt(E=>{E.key==="Escape"&&o?.()}),[v,S]=_.useState(null);return _.useEffect(()=>{const E=s.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');E&&S(E)},[s]),v?x.jsx(eFe,H({as:a.slots.basePopper,ownerState:a,placement:"bottom-end",className:We(c.panel,r,f),flip:!0,onDidShow:g,onDidHide:m,onClickAway:y,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},i,a.slotProps?.basePopper,{target:e.target??v,ref:t,children:x.jsx(tFe,{className:c.paper,ownerState:a,onKeyDown:b,children:d&&n})})):null}),rFe=["className"],oFe=e=>{const{classes:t}=e;return ft({root:["panelContent"]},_n,t)},iFe=Vn("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:wt.spacing(2.5,1.5,2,1),gap:wt.spacing(2.5)});function sFe(e){const{className:t}=e,n=gt(e,rFe),r=yt(),o=oFe(r);return x.jsx(iFe,H({className:We(o.root,t),ownerState:r},n))}const aFe=["className"],lFe=e=>{const{classes:t}=e;return ft({root:["panelFooter"]},_n,t)},cFe=be("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:wt.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${wt.colors.border.base}`});function uFe(e){const{className:t}=e,n=gt(e,aFe),r=yt(),o=lFe(r);return x.jsx(cFe,H({className:We(o.root,t),ownerState:r},n))}const dFe=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],hFe=["InputComponentProps"],fFe=e=>{const{classes:t}=e;return ft({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},_n,t)},pFe=be("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:wt.spacing(1.5)}),gFe=be("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),mFe=be("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),vFe=be("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),yFe=be("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),bFe=be("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),wFe=e=>{switch(e){case Ei.And:return"filterPanelOperatorAnd";case Ei.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Dm=e=>e.headerName||e.field,D5=new Intl.Collator,A5=Yt(function(t,n){const{item:r,hasMultipleFilters:o,deleteFilter:i,applyFilterChanges:s,showMultiFilterOperators:a,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:d,focusElementRef:h,logicOperators:f=[Ei.And,Ei.Or],columnsSort:g,filterColumns:m,deleteIconProps:y={},logicOperatorInputProps:b={},operatorInputProps:v={},columnInputProps:S={},valueInputProps:E={},readOnly:T}=t,R=gt(t,dFe),M=hn(),I=tt(M,nc),N=tt(M,i2),P=tt(M,No),L=kn(),A=kn(),$=kn(),B=kn(),U=yt(),K=fFe(U),G=_.useRef(null),V=_.useRef(null),Y=P.logicOperator??Ei.And,Q=o&&f.length>0,z=(U.slotProps?.baseSelect||{}).native??!1,W=U.slotProps?.baseSelectOption||{},{InputComponentProps:Z}=E,le=gt(E,hFe),ue=tt(M,Gd),ce=tt(M,Q2),{filteredColumns:se,selectedField:ve}=_.useMemo(()=>{let Ee=r.field;const Fe=I[r.field].filterable===!1?I[r.field]:null;if(Fe)return{filteredColumns:[Fe],selectedField:Ee};if(ue)return{filteredColumns:N.filter(Be=>ce.get(Be.field)!==void 0),selectedField:Ee};if(m===void 0||typeof m!="function")return{filteredColumns:N,selectedField:Ee};const Je=m({field:r.field,columns:N,currentFilters:P?.items||[]});return{filteredColumns:N.filter(Be=>{const Ot=Je.includes(Be.field);return Be.field===r.field&&!Ot&&(Ee=void 0),Ot}),selectedField:Ee}},[r.field,I,ue,m,N,P?.items,ce]),Te=_.useMemo(()=>{switch(g){case"asc":return se.sort((Ee,Fe)=>D5.compare(Dm(Ee),Dm(Fe)));case"desc":return se.sort((Ee,Fe)=>-D5.compare(Dm(Ee),Dm(Fe)));default:return se}},[se,g]),Se=r.field?M.current.getColumn(r.field):null,he=_.useMemo(()=>!r.operator||!Se?null:Se.filterOperators?.find(Ee=>Ee.value===r.operator),[r,Se]),pe=_.useCallback(Ee=>{const Fe=Ee.target.value,Je=M.current.getColumn(Fe);if(Je.field===Se.field)return;const Be=Je.filterOperators.find(St=>St.value===r.operator)||Je.filterOperators[0];let dt=!Be.InputComponent||Be.InputComponent!==he?.InputComponent||Je.type!==Se.type?void 0:r.value;if(Je.type==="singleSelect"&&dt!==void 0){const St=Je,je=Ud(St);Array.isArray(dt)?dt=dt.filter(Rt=>rS(Rt,je,St?.getOptionValue)!==void 0):rS(r.value,je,St?.getOptionValue)===void 0&&(dt=void 0)}s(H({},r,{field:Fe,operator:Be.value,value:dt}))},[M,s,r,Se,he]),we=_.useCallback(Ee=>{const Fe=Ee.target.value,Je=Se?.filterOperators.find(Ot=>Ot.value===Fe),Be=!Je?.InputComponent||Je?.InputComponent!==he?.InputComponent;s(H({},r,{operator:Fe,value:Be?void 0:r.value}))},[s,r,Se,he]),_e=_.useCallback(Ee=>{const Fe=Ee.target.value===Ei.And.toString()?Ei.And:Ei.Or;d(Fe)},[d]),De=()=>{i(r)};return _.useImperativeHandle(h,()=>({focus:()=>{he?.InputComponent?G?.current?.focus():V.current.focus()}}),[he]),x.jsxs(pFe,H({className:K.root,"data-id":r.id,ownerState:U},R,{ref:n,children:[x.jsx(gFe,H({},y,{className:We(K.deleteIcon,y.className),ownerState:U,children:x.jsx(U.slots.baseIconButton,H({"aria-label":M.current.getLocaleText("filterPanelDeleteIconLabel"),title:M.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:De,size:"small",disabled:T},U.slotProps?.baseIconButton,{children:x.jsx(U.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),x.jsx(mFe,H({as:U.slots.baseSelect,sx:[Q?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},b.sx],className:We(K.logicOperatorInput,b.className),ownerState:U},b,{size:"small",slotProps:{htmlInput:{"aria-label":M.current.getLocaleText("filterPanelLogicOperator")}},value:Y??"",onChange:_e,disabled:!!c||f.length===1,native:z},U.slotProps?.baseSelect,{children:f.map(Ee=>_.createElement(U.slots.baseSelectOption,H({},W,{native:z,key:Ee.toString(),value:Ee.toString()}),M.current.getLocaleText(wFe(Ee))))})),x.jsx(vFe,H({as:U.slots.baseSelect},S,{className:We(K.columnInput,S.className),ownerState:U,size:"small",labelId:A,id:L,label:M.current.getLocaleText("filterPanelColumns"),value:ve??"",onChange:pe,native:z,disabled:T},U.slotProps?.baseSelect,{children:Te.map(Ee=>_.createElement(U.slots.baseSelectOption,H({},W,{native:z,key:Ee.field,value:Ee.field}),Dm(Ee)))})),x.jsx(yFe,H({as:U.slots.baseSelect,size:"small"},v,{className:We(K.operatorInput,v.className),ownerState:U,labelId:B,label:M.current.getLocaleText("filterPanelOperator"),id:$,value:r.operator,onChange:we,native:z,inputRef:V,disabled:T},U.slotProps?.baseSelect,{children:Se?.filterOperators?.map(Ee=>_.createElement(U.slots.baseSelectOption,H({},W,{native:z,key:Ee.value,value:Ee.value}),Ee.label||M.current.getLocaleText(`filterOperator${Ge(Ee.value)}`)))})),x.jsx(bFe,H({},le,{className:We(K.valueInput,le.className),ownerState:U,children:he?.InputComponent?x.jsx(he.InputComponent,H({apiRef:M,item:r,applyValue:s,focusElementRef:G,disabled:T,slotProps:{root:{size:"small"}}},he.InputComponentProps,Z),r.field):null}))]}))}),SFe=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],L5=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),CFe=Yt(function(t,n){const r=hn(),o=yt(),i=tt(r,No),s=tt(r,i2),a=tt(r,Lke),c=_.useRef(null),d=_.useRef(null),{logicOperators:h=[Ei.And,Ei.Or],columnsSort:f,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:y=!1,disableRemoveAllButton:b=!1}=t,v=gt(t,SFe),S=r.current.upsertFilterItem,E=_.useCallback(B=>{r.current.setFilterLogicOperator(B)},[r]),T=_.useCallback(()=>{let B;if(m&&typeof m=="function"){const U=m({currentFilters:i?.items||[],columns:s});if(U===null)return null;B=s.find(({field:K})=>K===U)}else B=s.find(U=>U.filterOperators?.length);return B?L5(B):null},[i?.items,s,m]),R=_.useCallback(()=>{if(m===void 0||typeof m!="function")return T();const B=i.items.length?i.items:[T()].filter(Boolean),U=m({currentFilters:B,columns:s});if(U===null)return null;const K=s.find(({field:G})=>G===U);return K?L5(K):null},[i.items,s,m,T]),M=_.useMemo(()=>i.items.length?i.items:(d.current||(d.current=T()),d.current?[d.current]:[]),[i.items,T]),I=M.length>1,{readOnlyFilters:N,validFilters:P}=_.useMemo(()=>M.reduce((B,U)=>(a[U.field]?B.validFilters.push(U):B.readOnlyFilters.push(U),B),{readOnlyFilters:[],validFilters:[]}),[M,a]),L=_.useCallback(()=>{const B=R();B&&r.current.upsertFilterItems([...M,B])},[r,R,M]),A=_.useCallback(B=>{const U=P.length===1;r.current.deleteFilterItem(B),U&&r.current.hideFilterPanel()},[r,P.length]),$=_.useCallback(()=>P.length===1&&P[0].value===void 0?(r.current.deleteFilterItem(P[0]),r.current.hideFilterPanel()):r.current.setFilterModel(H({},i,{items:N}),"removeAllFilterItems"),[r,N,i,P]);return _.useEffect(()=>{h.length>0&&i.logicOperator&&!h.includes(i.logicOperator)&&E(h[0])},[h,E,i.logicOperator]),_.useEffect(()=>{P.length>0&&c.current.focus()},[P.length]),x.jsxs(k5,H({},v,{ref:n,children:[x.jsxs(sFe,{children:[N.map((B,U)=>x.jsx(A5,H({item:B,applyFilterChanges:S,deleteFilter:A,hasMultipleFilters:I,showMultiFilterOperators:U>0,disableMultiFilterOperator:U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:null,readOnly:!0,logicOperators:h,columnsSort:f},g),B.id==null?U:B.id)),P.map((B,U)=>x.jsx(A5,H({item:B,applyFilterChanges:S,deleteFilter:A,hasMultipleFilters:I,showMultiFilterOperators:N.length+U>0,disableMultiFilterOperator:N.length+U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:U===P.length-1?c:null,logicOperators:h,columnsSort:f},g),B.id==null?U+N.length:B.id))]}),!o.disableMultipleColumnsFiltering&&!(y&&b)?x.jsxs(uFe,{children:[y?x.jsx("span",{}):x.jsx(o.slots.baseButton,H({onClick:L,startIcon:x.jsx(o.slots.filterPanelAddIcon,{})},o.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!b&&P.length>0?x.jsx(o.slots.baseButton,H({onClick:$,startIcon:x.jsx(o.slots.filterPanelRemoveAllIcon,{})},o.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),xFe=(e,t)=>{const n=new Set(Object.keys(e).filter(i=>e[i]===!1)),r=new Set(Object.keys(t).filter(i=>t[i]===!1));if(n.size!==r.size)return!1;let o=!0;return n.forEach(i=>{r.has(i)||(o=!1)}),o},_Fe=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,EFe=["children"],TFe=js({from:{opacity:0},to:{opacity:1}}),MFe=js({"from, to":{"--scrollable":'" "'}}),OFe=Vn("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${MFe};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${TFe} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,RFe=Yt(function(t,n){const{children:r}=t,o=gt(t,EFe);return x.jsx(OFe,H({},o,{ref:n,children:r}))}),IFe=e=>{const{classes:t}=e;return ft({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},_n,t)},N5=new Intl.Collator;function PFe(e){const t=hn(),n=_.useRef(null),r=tt(t,Ake),o=tt(t,ea),i=yt(),[s,a]=_.useState(""),c=IFe(i),d=tt(t,Js),h=tt(t,Gd),f=tt(t,Q2),g=_.useMemo(()=>h?Array.from(f.values()):d,[h,f,d]),{sort:m,searchPredicate:y=_Fe,autoFocusSearchField:b=!0,disableShowHideToggle:v=!1,disableResetButton:S=!1,toggleAllMode:E="all",getTogglableColumns:T,searchInputProps:R,searchDebounceMs:M=i.columnFilterDebounceMs}=e,I=_.useMemo(()=>Kc(z=>{a(z)},M??150),[M]),N=_.useMemo(()=>xFe(o,r),[o,r]),P=_.useMemo(()=>{switch(m){case"asc":return[...g].sort((z,W)=>N5.compare(z.headerName||z.field,W.headerName||W.field));case"desc":return[...g].sort((z,W)=>-N5.compare(z.headerName||z.field,W.headerName||W.field));default:return g}},[g,m]),L=z=>{const{name:W}=z.target;t.current.setColumnVisibility(W,o[W]===!1)},A=_.useMemo(()=>{const z=T?T(P):null,W=z?P.filter(({field:Z})=>z.includes(Z)):P;return s?W.filter(Z=>y(Z,s.toLowerCase())):W},[P,s,y,T]),$=_.useCallback(z=>{const W=ea(t),Z=H({},W),le=T?T(g):null;return(E==="filteredOnly"?A:g).forEach(ue=>{ue.hideable&&(le==null||le.includes(ue.field))&&(z?delete Z[ue.field]:Z[ue.field]=!1)}),t.current.setColumnVisibilityModel(Z)},[t,g,T,E,A]),B=_.useCallback(z=>{I(z.target.value)},[I]),U=_.useMemo(()=>A.filter(z=>z.hideable),[A]),K=_.useMemo(()=>U.every(z=>o[z.field]==null||o[z.field]!==!1),[o,U]),G=_.useMemo(()=>U.every(z=>o[z.field]===!1),[o,U]),V=_.useRef(null);_.useEffect(()=>{b?n.current?.focus():V.current&&typeof V.current.focus=="function"&&V.current.focus()},[b]);let Y=!1;const Q=z=>Y===!1&&z.hideable!==!1?(Y=!0,!0):!1,te=_.useCallback(()=>{a(""),n.current&&(n.current.value="",n.current.focus())},[]);return x.jsxs(_.Fragment,{children:[x.jsx(AFe,{className:c.header,ownerState:i,children:x.jsx(LFe,H({as:i.slots.baseTextField,ownerState:i,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:c.searchInput,onChange:B,size:"small",type:"search",slotProps:{input:{startAdornment:x.jsx(i.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:x.jsx(i.slots.baseIconButton,H({size:"small","aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:te,edge:"end"},i.slotProps?.baseIconButton,{children:x.jsx(i.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},i.slotProps?.baseTextField,R))}),x.jsx(DFe,{ownerState:i,children:x.jsxs(kFe,{className:c.root,ownerState:i,children:[A.map(z=>x.jsx(FFe,H({as:i.slots.baseCheckbox,className:c.row,disabled:z.hideable===!1||h,checked:o[z.field]!==!1,onChange:L,name:z.field,inputRef:Q(z)?V:void 0,label:z.headerName||z.field,density:"compact",fullWidth:!0},i.slotProps?.baseCheckbox),z.field)),A.length===0&&x.jsx(BFe,{ownerState:i,children:t.current.getLocaleText("columnsManagementNoColumns")})]})}),!v||!S?x.jsxs(NFe,{ownerState:i,className:c.footer,children:[v?x.jsx("span",{}):x.jsx(i.slots.baseCheckbox,H({disabled:U.length===0||h,checked:K,indeterminate:!K&&!G,onChange:()=>$(!K),name:t.current.getLocaleText("columnsManagementShowHideAllText"),label:t.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},i.slotProps?.baseCheckbox)),S?null:x.jsx(i.slots.baseButton,H({onClick:()=>t.current.setColumnVisibilityModel(r),disabled:N||h},i.slotProps?.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const kFe=be("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:wt.spacing(.5,1.5)}),DFe=be(RFe,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),AFe=be("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:wt.spacing(1.5,2),borderBottom:`1px solid ${wt.colors.border.base}`}),LFe=be(hl,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${ni.input}::-webkit-search-decoration,
      & .${ni.input}::-webkit-search-cancel-button,
      & .${ni.input}::-webkit-search-results-button,
      & .${ni.input}::-webkit-search-results-decoration`]:{display:"none"}}),NFe=be("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:wt.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${wt.colors.border.base}`}),BFe=be("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:wt.spacing(1,0),alignSelf:"center",font:wt.typography.font.body}),FFe=be(hl,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({}),jFe=Yt(function(t,n){const{children:r,slotProps:o={}}=t,i=o.button||{},s=o.tooltip||{},a=hn(),c=yt(),d=kn(),h=kn(),[f,g]=_.useState(!1),m=_.useRef(null),y=Mn(n,m),b=S=>{g(E=>!E),i.onClick?.(S)},v=()=>g(!1);return r==null?null:x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,H({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},c.slotProps?.baseTooltip,s,{children:x.jsx(c.slots.baseButton,H({size:"small",startIcon:x.jsx(c.slots.exportIcon,{}),"aria-expanded":f,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":f?h:void 0,id:d},c.slotProps?.baseButton,i,{onClick:b,ref:y,children:a.current.getLocaleText("toolbarExport")}))})),x.jsx(qw,{open:f,target:m.current,onClose:v,position:"bottom-end",children:x.jsx(c.slots.baseMenuList,{id:h,className:oe.menuList,"aria-labelledby":d,autoFocusItem:f,children:_.Children.map(r,S=>_.isValidElement(S)?_.cloneElement(S,{hideMenu:v}):S)})})]})}),VFe=["hideMenu","options"],$Fe=["hideMenu","options"],zFe=["csvOptions","printOptions","excelOptions"];function UFe(e){const t=hn(),n=yt(),{hideMenu:r,options:o}=e,i=gt(e,VFe);return x.jsx(n.slots.baseMenuItem,H({onClick:()=>{t.current.exportDataAsCsv(o),r?.()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function HFe(e){const t=hn(),n=yt(),{hideMenu:r,options:o}=e,i=gt(e,$Fe);return x.jsx(n.slots.baseMenuItem,H({onClick:()=>{t.current.exportDataAsPrint(o),r?.()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}Yt(function(t,n){const r=t,{csvOptions:o={},printOptions:i={},excelOptions:s}=r,a=gt(r,zFe),d=hn().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:o,printOptions:i}).sort((h,f)=>h.componentName>f.componentName?1:-1);return d.length===0?null:x.jsx(jFe,H({},a,{ref:n,children:d.map((h,f)=>_.cloneElement(h.component,{key:f}))}))});const B5=_.createContext(void 0);function zR(){const e=_.useContext(B5);if(e===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}const GFe=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],WFe=e=>e.split(" ").filter(t=>t!==""),KFe=e=>e.join(" ");function qFe(e){const t=yt(),{render:n,className:r,parser:o=WFe,formatter:i=KFe,debounceMs:s=t.filterDebounceMs,defaultExpanded:a,expanded:c,onExpandedChange:d}=e,h=gt(e,GFe),f=hn(),g=_.useRef(null),m=_.useRef(null),y=tt(f,C2),[b,v]=_.useState(i(y??[])),[S,E]=_.useState(a??b.length>0),T=c??S,R=_.useMemo(()=>({value:b,expanded:T}),[b,T]),M=typeof r=="function"?r(R):r,I=_.useRef(null),N=kn(),P=_.useCallback(Y=>{d&&d(Y),c===void 0&&E(Y)},[d,c]),L=_.useRef(y);_.useEffect(()=>{na(L.current,y)||(L.current=y,v(Y=>na(o(Y),y)?Y:i(y??[])))},[y,i,o]);const A=_.useRef(!0),$=_.useRef(T);_.useEffect(()=>{if(A.current){A.current=!1;return}$.current!==T&&(T?requestAnimationFrame(()=>{g.current?.focus({preventScroll:!0})}):m.current?.focus({preventScroll:!0}),$.current=T)},[T]);const B=_.useMemo(()=>Kc(Y=>{const Q=o(Y);L.current=Q,f.current.setQuickFilterValues(Q)},s),[f,s,o]);_.useEffect(()=>B.clear,[B]);const U=_.useCallback(Y=>{const Q=Y.target.value;v(Q),B(Q)},[B]),K=_.useCallback(()=>{v(""),f.current.setQuickFilterValues([]),g.current?.focus()},[f,g]),G=_.useMemo(()=>({controlRef:g,triggerRef:m,state:R,controlId:N,clearValue:K,onValueChange:U,onExpandedChange:P}),[N,R,U,K,P]);Hn(()=>{I.current&&m.current&&I.current.style.setProperty("--trigger-width",`${m.current?.offsetWidth}px`)},[]);const V=ml("div",n,H({className:M},h,{ref:I}),R);return x.jsx(B5.Provider,{value:G,children:V})}const YFe=["render","className","slotProps","onKeyDown","onChange"],XFe=Yt(function(t,n){const{render:r,className:o,slotProps:i,onKeyDown:s,onChange:a}=t,c=gt(t,YFe),d=yt(),{state:h,controlId:f,controlRef:g,onValueChange:m,onExpandedChange:y,clearValue:b}=zR(),v=typeof o=="function"?o(h):o,S=Mn(g,n),E=I=>{I.key==="Escape"&&(h.value===""?y(!1):b()),s?.(I)},T=I=>{h.value===""&&y(!1),i?.htmlInput?.onBlur?.(I)},R=I=>{h.expanded||y(!0),m(I),a?.(I)},M=ml(d.slots.baseTextField,r,H({},d.slotProps?.baseTextField,{slotProps:H({htmlInput:H({role:"searchbox",id:f,tabIndex:h.expanded?void 0:-1},i?.htmlInput,{onBlur:T})},i),value:h.value,className:v},c,{onChange:R,onKeyDown:E,ref:S}),h);return x.jsx(_.Fragment,{children:M})}),ZFe=["render","className","onClick"],QFe=Yt(function(t,n){const{render:r,className:o,onClick:i}=t,s=gt(t,ZFe),a=yt(),{state:c,clearValue:d}=zR(),h=typeof o=="function"?o(c):o,f=m=>{d(),i?.(m)},g=ml(a.slots.baseIconButton,r,H({},a.slotProps?.baseIconButton,{className:h,tabIndex:-1},s,{onClick:f,ref:n}),c);return x.jsx(_.Fragment,{children:g})}),JFe=["render","className","onClick"],eje=Yt(function(t,n){const{render:r,className:o,onClick:i}=t,s=gt(t,JFe),a=yt(),{state:c,controlId:d,onExpandedChange:h,triggerRef:f}=zR(),g=typeof o=="function"?o(c):o,m=Mn(f,n),y=v=>{h(!c.expanded),i?.(v)},b=ml(a.slots.baseButton,r,H({},a.slotProps?.baseButton,{className:g,"aria-controls":d,"aria-expanded":c.expanded},s,{onClick:y,ref:m}),c);return x.jsx(_.Fragment,{children:b})}),tje=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],nje=["ref","slotProps"],rje=e=>{const{classes:t}=e;return ft({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},_n,t)},oje=Vn("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),ije=Vn(pS,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:e})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:e.expanded?0:1,pointerEvents:e.expanded?"none":"auto",transition:wt.transition(["opacity"])})),sje=Vn(e=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:e})=>({gridArea:"1 / 1",overflowX:"clip",width:e.expanded?260:"var(--trigger-width)",opacity:e.expanded?1:0,transition:wt.transition(["width","opacity"])}));function aje(e){const t=hn(),n=yt(),r={classes:n.classes,expanded:!1},o=rje(r),{quickFilterParser:i,quickFilterFormatter:s,debounceMs:a,className:c,slotProps:d}=e,h=gt(e,tje);return x.jsx(qFe,{parser:i,formatter:s,debounceMs:a,render:(f,g)=>{const m=H({},r,{expanded:g.expanded});return x.jsxs(oje,H({},f,{className:We(o.root,c),children:[x.jsx(eje,{render:y=>x.jsx(n.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:x.jsx(ije,H({className:o.trigger},y,{ownerState:m,color:"default","aria-disabled":g.expanded,children:x.jsx(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),x.jsx(XFe,{render:y=>{let{ref:b,slotProps:v}=y,S=gt(y,nje);return x.jsx(sje,H({as:n.slots.baseTextField,className:o.control,ownerState:m,inputRef:b,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:H({input:H({startAdornment:x.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:S.value?x.jsx(QFe,{render:x.jsx(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:x.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},v?.input)},v)},n.slotProps?.baseTextField,S,d?.root,h))}})]}))}})}const lje=["render","className","onClick","onPointerUp"],cje=Yt(function(t,n){const{render:r,className:o,onClick:i,onPointerUp:s}=t,a=gt(t,lje),c=yt(),d=kn(),h=kn(),f=hn(),g=tt(f,Wd),m=g.open&&g.openedPanelValue===Ti.filters,b=tt(f,TR).length,v={open:m,filterCount:b},S=typeof o=="function"?o(v):o,{filterPanelTriggerRef:E}=VR(),T=Mn(n,E),R=N=>{m?f.current.hidePreferences():f.current.showPreferences(Ti.filters,h,d),i?.(N)},M=N=>{m&&N.stopPropagation(),s?.(N)},I=ml(c.slots.baseButton,r,H({},c.slotProps?.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,onClick:R,onPointerUp:M,className:S},a,{ref:T}),v);return x.jsx(_.Fragment,{children:I})}),uje=["render","className","onClick","onPointerUp"],dje=Yt(function(t,n){const{render:r,className:o,onClick:i,onPointerUp:s}=t,a=gt(t,uje),c=yt(),d=kn(),h=kn(),f=hn(),g=tt(f,Wd),m=g.open&&g.openedPanelValue===Ti.columns,y={open:m},b=typeof o=="function"?o(y):o,{columnsPanelTriggerRef:v}=VR(),S=Mn(n,v),E=M=>{m?f.current.hidePreferences():f.current.showPreferences(Ti.columns,h,d),i?.(M)},T=M=>{m&&M.stopPropagation(),s?.(M)},R=ml(c.slots.baseButton,r,H({},c.slotProps?.baseButton,{id:d,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,className:b},a,{onPointerUp:T,onClick:E,ref:S}),y);return x.jsx(_.Fragment,{children:R})}),hje=["render","options","onClick"],fje=Yt(function(t,n){const{render:r,options:o,onClick:i}=t,s=gt(t,hje),a=yt(),c=hn(),d=f=>{c.current.exportDataAsCsv(o),i?.(f)},h=ml(a.slots.baseButton,r,H({},a.slotProps?.baseButton,{onClick:d},s,{ref:n}));return x.jsx(_.Fragment,{children:h})}),pje=["render","options","onClick"],gje=Yt(function(t,n){const{render:r,options:o,onClick:i}=t,s=gt(t,pje),a=yt(),c=hn(),d=f=>{c.current.exportDataAsPrint(o),i?.(f)},h=ml(a.slots.baseButton,r,H({},a.slotProps?.baseButton,{onClick:d},s,{ref:n}));return x.jsx(_.Fragment,{children:h})}),mje=["className"],vje=["className"],F5=e=>{const{classes:t}=e;return ft({divider:["toolbarDivider"],label:["toolbarLabel"]},_n,t)},yje=Vn(hl,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:wt.spacing(0,.5)}),bje=Vn("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:wt.typography.font.large,fontWeight:wt.typography.fontWeight.medium,margin:wt.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function j5(e){const t=gt(e,mje),n=yt(),r=F5(n);return x.jsx(yje,H({as:n.slots.baseDivider,orientation:"vertical",className:r.divider},t))}function wje(e){const t=gt(e,vje),n=yt(),r=F5(n);return x.jsx(bje,H({className:r.label},t))}function Sje(e){const{showQuickFilter:t=!0,quickFilterProps:n,csvOptions:r,printOptions:o,additionalItems:i,additionalExportMenuItems:s}=e,a=hn(),c=yt(),[d,h]=_.useState(!1),f=_.useRef(null),g=kn(),m=kn(),y=!r?.disableToolbarButton||!o?.disableToolbarButton||s,b=()=>h(!1);return x.jsxs(x5,{children:[c.label&&x.jsx(wje,{children:c.label}),!c.disableColumnSelector&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarColumns"),children:x.jsx(dje,{render:x.jsx(pS,{}),children:x.jsx(c.slots.columnSelectorIcon,{fontSize:"small"})})}),!c.disableColumnFilter&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarFilters"),children:x.jsx(cje,{render:(v,S)=>x.jsx(pS,H({},v,{color:S.filterCount>0?"primary":"default",children:x.jsx(c.slots.baseBadge,{badgeContent:S.filterCount,color:"primary",variant:"dot",children:x.jsx(c.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),i,y&&(!c.disableColumnFilter||!c.disableColumnSelector)&&x.jsx(j5,{}),y&&x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarExport"),disableInteractive:d,children:x.jsx(pS,{ref:f,id:m,"aria-controls":g,"aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:()=>h(!d),children:x.jsx(c.slots.exportIcon,{fontSize:"small"})})}),x.jsx(qw,{target:f.current,open:d,onClose:b,position:"bottom-end",children:x.jsxs(c.slots.baseMenuList,H({id:g,"aria-labelledby":m,autoFocusItem:!0},c.slotProps?.baseMenuList,{children:[!o?.disableToolbarButton&&x.jsx(gje,{render:x.jsx(c.slots.baseMenuItem,H({},c.slotProps?.baseMenuItem)),options:o,onClick:b,children:a.current.getLocaleText("toolbarExportPrint")}),!r?.disableToolbarButton&&x.jsx(fje,{render:x.jsx(c.slots.baseMenuItem,H({},c.slotProps?.baseMenuItem)),options:r,onClick:b,children:a.current.getLocaleText("toolbarExportCSV")}),s?.(b)]}))})]}),t&&x.jsxs(_.Fragment,{children:[x.jsx(j5,{}),x.jsx(aje,H({},n))]})]})}const Cje=["className","selectedRowCount"],xje=e=>{const{classes:t}=e;return ft({root:["selectedRowCount"]},_n,t)},_je=Vn("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:wt.spacing(0,2),visibility:"hidden",width:0,height:0,[wt.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),Eje=Yt(function(t,n){const{className:r,selectedRowCount:o}=t,i=gt(t,Cje),s=hn(),a=yt(),c=xje(a),d=s.current.getLocaleText("footerRowSelected")(o);return x.jsx(_je,H({className:We(c.root,r),ownerState:a},i,{ref:n,children:d}))}),Tje=Yt(function(t,n){const r=hn(),o=yt(),i=tt(r,XPe),s=tt(r,Jw),a=tt(r,ER),c=!o.hideFooterSelectedRowCount&&s>0?x.jsx(Eje,{selectedRowCount:s}):x.jsx("div",{}),d=!o.hideFooterRowCount&&!o.pagination?x.jsx(o.slots.footerRowCount,H({},o.slotProps?.footerRowCount,{rowCount:i,visibleRowCount:a})):null,h=o.pagination&&!o.hideFooterPagination&&o.slots.pagination&&x.jsx(o.slots.pagination,H({},o.slotProps?.pagination));return x.jsxs(ONe,H({},t,{ref:n,children:[c,d,h]}))}),Am=(e,t,n,r,o,i)=>{let s;switch(e){case Rn.LEFT:s=r[n];break;case Rn.RIGHT:s=o-r[n]-t+i;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},mS=(e,t,n,r,o)=>{const i=t===n-1;return e===Rn.LEFT&&i?!0:r?e===Rn.LEFT?!0:e===Rn.RIGHT?!i:!i||o:!1},vS=(e,t)=>e===Rn.RIGHT&&t===0,Lm={root:oe.scrollbarFiller,header:oe["scrollbarFiller--header"],borderTop:oe["scrollbarFiller--borderTop"],borderBottom:oe["scrollbarFiller--borderBottom"],pinnedRight:oe["scrollbarFiller--pinnedRight"]};function UR({header:e,borderTop:t=!0,borderBottom:n,pinnedRight:r}){return x.jsx("div",{role:"presentation",className:We(Lm.root,e&&Lm.header,t&&Lm.borderTop,n&&Lm.borderBottom,r&&Lm.pinnedRight)})}const Mje=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],Oje=Vn("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),Rje=e=>{const{classes:t}=e;return ft({root:["skeletonLoadingOverlay"]},_n,t)},V5=e=>parseInt(e.getAttribute("data-colindex"),10),Ije=Yt(function(t,n){const r=yt(),{slots:o}=r,i=Go(),s=Rje({classes:r.classes}),a=_.useRef(null),c=Mn(a,n),d=hn(),h=tt(d,Jr),f=tt(d,hR),g=tt(d,$d),m=_.useMemo(()=>g.filter(P=>P<=f).length,[f,g]),{skeletonRowsCount:y,visibleColumns:b,showFirstRowBorder:v}=t,S=gt(t,Mje),E=tt(d,eo),T=_.useMemo(()=>E.slice(0,m),[E,m]),R=tt(d,Gw),M=_.useCallback(P=>{if(R.left.findIndex(L=>L.field===P)!==-1)return Rn.LEFT;if(R.right.findIndex(L=>L.field===P)!==-1)return Rn.RIGHT},[R.left,R.right]),I=_.useMemo(()=>{const P=[];for(let L=0;L<y;L+=1){const A=[];for(let $=0;$<T.length;$+=1){const B=T[$],U=M(B.field),K=U===Rn.LEFT,G=U===Rn.RIGHT,V=m5(U,i),Y=V?R[V].length:T.length-R.left.length-R.right.length,Q=V?R[V].findIndex(we=>we.field===B.field):$-R.left.length,te=h.hasScrollY?h.scrollbarSize:0,z=dS({},i,U,Am(U,B.computedWidth,$,g,h.columnsTotalWidth,te)),W=h.columnsTotalWidth<h.viewportOuterSize.width,Z=mS(U,Q,Y,r.showCellVerticalBorder,W),le=vS(U,Q),ue=$===T.length-1,ce=G&&Q===0,se=ce&&W,ve=ue&&!ce&&W,Te=h.viewportOuterSize.width-h.columnsTotalWidth,Se=Math.max(0,Te),he=x.jsx(o.skeletonCell,{width:Se,empty:!0},`skeleton-filler-column-${L}`),pe=ue&&te!==0;se&&A.push(he),A.push(x.jsx(o.skeletonCell,{field:B.field,type:B.type,align:B.align,width:"var(--width)",height:h.rowHeight,"data-colindex":$,empty:b&&!b.has(B.field),className:We(K&&oe["cell--pinnedLeft"],G&&oe["cell--pinnedRight"],Z&&oe["cell--withRightBorder"],le&&oe["cell--withLeftBorder"]),style:H({"--width":`${B.computedWidth}px`},z)},`skeleton-column-${L}-${B.field}`)),ve&&A.push(he),pe&&A.push(x.jsx(UR,{pinnedRight:R.right.length>0},`skeleton-scrollbar-filler-${L}`))}P.push(x.jsx("div",{className:We(oe.row,oe.rowSkeleton,L===0&&!v&&oe["row--firstVisible"]),children:A},`skeleton-row-${L}`))}return P},[y,T,M,i,R,h.hasScrollY,h.scrollbarSize,h.columnsTotalWidth,h.viewportOuterSize.width,h.rowHeight,g,r.showCellVerticalBorder,o,b,v]);return Et(d,"columnResize",P=>{const{colDef:L,width:A}=P,$=a.current?.querySelectorAll(`[data-field="${oc(L.field)}"]`);if(!$)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const B=T.findIndex(Q=>Q.field===L.field),U=M(L.field),K=U===Rn.LEFT,G=U===Rn.RIGHT,V=getComputedStyle($[0]).getPropertyValue("--width"),Y=parseInt(V,10)-A;$&&$.forEach(Q=>{Q.style.setProperty("--width",`${A}px`)}),K&&a.current?.querySelectorAll(`.${oe["cell--pinnedLeft"]}`)?.forEach(te=>{V5(te)>B&&(te.style.left=`${parseInt(getComputedStyle(te).left,10)-Y}px`)}),G&&a.current?.querySelectorAll(`.${oe["cell--pinnedRight"]}`)?.forEach(te=>{V5(te)<B&&(te.style.right=`${parseInt(getComputedStyle(te).right,10)+Y}px`)})}),x.jsx(Oje,H({className:s.root},S,{ref:c,children:I}))}),Pje=Yt(function(t,n){const r=hn(),o=tt(r,Jr),i=o?.viewportInnerSize.height??0,s=Math.ceil(i/o.rowHeight);return x.jsx(Ije,H({},t,{skeletonRowsCount:s,ref:n}))}),kje=["variant","noRowsVariant","style"],Dje={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>Pje,style:{display:"block"}}},Aje=Yt(function(t,n){const{variant:r="linear-progress",noRowsVariant:o="skeleton",style:i}=t,s=gt(t,kje),a=hn(),c=yt(),d=tt(a,vf),h=Dje[d===0?o:r],f=h.component(c);return x.jsx(fS,H({style:H({},h.style,i)},s,{ref:n,children:x.jsx(f,{})}))}),Lje=Yt(function(t,n){const o=hn().current.getLocaleText("noRowsLabel");return x.jsx(fS,H({},t,{ref:n,children:o}))}),Nje=Yt(function(t,n){const r=yt(),o=hn(),i=tt(o,gl),s=()=>{o.current.showPreferences(Ti.columns)},a=!r.disableColumnSelector&&i.length>0;return x.jsxs(fS,H({},t,{ref:n,children:[o.current.getLocaleText("noColumnsOverlayLabel"),a&&x.jsx(r.slots.baseButton,H({size:"small"},r.slotProps?.baseButton,{onClick:s,children:o.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),Bje=be(hl)({maxHeight:"calc(100% + 1px)",flexGrow:1});function Fje(){const e=hn(),t=yt(),n=tt(e,qo),r=tt(e,Cf),o=tt(e,N2),{paginationMode:i,loading:s}=t,a=r===-1&&i==="server"&&s,c=_.useMemo(()=>Math.max(0,o-1),[o]),d=_.useMemo(()=>r===-1||n.page<=c?n.page:c,[c,n.page,r]),h=_.useCallback(y=>{e.current.setPageSize(y)},[e]),f=_.useCallback((y,b)=>{e.current.setPage(b)},[e]),m=(y=>{for(let b=0;b<t.pageSizeOptions.length;b+=1){const v=t.pageSizeOptions[b];if(typeof v=="number"){if(v===y)return!0}else if(v.value===y)return!0}return!1})(n.pageSize)?t.pageSizeOptions:[];return x.jsx(Bje,H({as:t.slots.basePagination,count:r,page:d,rowsPerPageOptions:m,rowsPerPage:n.pageSize,onPageChange:f,onRowsPerPageChange:h,disabled:a},t.slotProps?.basePagination))}const jje=["className","rowCount","visibleRowCount"],Vje=e=>{const{classes:t}=e;return ft({root:["rowCount"]},_n,t)},$je=Vn("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:wt.spacing(0,2)}),zje=Yt(function(t,n){const{className:r,rowCount:o,visibleRowCount:i}=t,s=gt(t,jje),a=hn(),c=yt(),d=Vje(c);if(o===0)return null;const h=i<o?a.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return x.jsxs($je,H({className:We(d.root,r),ownerState:c},s,{ref:n,children:[a.current.getLocaleText("footerTotalRows")," ",h]}))});function Uje(e,t){return ft(t,_n,e)}const Af=(e,t)=>Mm(e),$5=(e,t)=>tt(e,Mm),Hje=kr(e=>e.rowReorder),Gje=Mt(Hje,e=>e?.isActive??!1),Wje=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],Kje=Mt(Bo,(e,{rowReordering:t,treeData:n})=>!t||n?!1:!!Zw(e)),qje=Yt(function(t,n){const{selected:r,rowId:o,row:i,index:s,style:a,rowHeight:c,className:d,visibleColumns:h,pinnedColumns:f,offsetLeft:g,columnsTotalWidth:m,firstColumnIndex:y,lastColumnIndex:b,focusedColumnIndex:v,isFirstVisible:S,isLastVisible:E,isNotVisible:T,showBottomBorder:R,scrollbarWidth:M,gridHasFiller:I,onClick:N,onDoubleClick:P,onMouseEnter:L,onMouseLeave:A,onMouseOut:$,onMouseOver:B}=t,U=gt(t,Wje),K=fs(),G=Kw(),V=_.useRef(null),Y=yt(),Q=$5(K),te=tt(K,ta),z=tt(K,$d),W=Y.rowReordering,Z=Y.treeData,le=tt(K,Kje,{rowReordering:W,treeData:Z}),ue=tt(K,Gje),ce=Mn(V,n),se=dl(K,o),ve=tt(K,e5,{rowId:o,editMode:Y.editMode}),Te=Y.editMode===fl.Row,Se=v!==void 0,he=Se&&v>=f.left.length&&v<y,pe=Se&&v<h.length-f.right.length&&v>=b,we=Uje(Y.classes,{root:["row",r&&"selected",Te&&"row--editable",ve&&"row--editing",S&&"row--firstVisible",E&&"row--lastVisible",R&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]}),_e=G.hooks.useGridRowAriaAttributes();_.useLayoutEffect(()=>{if(Q.range){const ht=K.current.getRowIndexRelativeToVisibleRows(o);ht!==void 0&&K.current.unstable_setLastMeasuredRowIndex(ht)}if(V.current&&c==="auto")return K.current.observeRowHeight(V.current,o)},[K,Q.range,c,o]);const De=_.useCallback((ht,_t)=>He=>{km(He)||K.current.getRow(o)&&(K.current.publishEvent(ht,K.current.getRowParams(o),He),_t&&_t(He))},[K,o]),Ee=_.useCallback(ht=>{const He=gS(ht.target,oe.cell)?.getAttribute("data-field");He&&(He===_f.field||He===CR||He==="__reorder__"||K.current.getCellMode(o,He)===Xn.Edit||K.current.getColumn(He)?.type===Yw)||De("rowClick",N)(ht)},[K,N,De,o]),{slots:Fe,slotProps:Je,disableColumnReorder:Be}=Y,Ot=tt(K,()=>H({},K.current.getRowHeightEntry(o)),void 0,zG),dt=_.useMemo(()=>{if(T)return{opacity:0,width:0,height:0};const ht=H({},a,{maxHeight:c==="auto"?"none":c,minHeight:c,"--height":typeof c=="number"?`${c}px`:c});if(Ot.spacingTop){const _t=Y.rowSpacingType==="border"?"borderTopWidth":"marginTop";ht[_t]=Ot.spacingTop}if(Ot.spacingBottom){const _t=Y.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let He=ht[_t];typeof He!="number"&&(He=parseInt(He||"0",10)),He+=Ot.spacingBottom,ht[_t]=He}return ht},[T,c,a,Ot,Y.rowSpacingType]);if(!se)return null;const St=K.current.unstable_applyPipeProcessors("rowClassName",[],o),je=_e(se,s);if(typeof Y.getRowClassName=="function"){const ht=s-(Q.range?.firstRowIndex||0),_t=H({},K.current.getRowParams(o),{isFirstVisible:ht===0,isLastVisible:ht===Q.rows.length-1,indexRelativeToCurrentPage:ht});St.push(Y.getRowClassName(_t))}const Rt=(ht,_t,He,lt,ct=Rn.NONE)=>{const Ct=K.current.unstable_getCellColSpanInfo(o,He);if(Ct?.spannedByColSpan)return null;const st=Ct?.cellProps.width??ht.computedWidth,At=Ct?.cellProps.colSpan??1,pt=Am(ct,ht.computedWidth,He,z,m,M);if(se.type==="skeletonRow")return x.jsx(Fe.skeletonCell,{type:ht.type,width:st,height:c,field:ht.field,align:ht.align},ht.field);const Pt=ht.field==="__reorder__",Dn=!(Be||ht.disableReorder),An=le&&!te.length,fr=!(Dn||Pt&&An||ue),Fn=ct===Rn.VIRTUAL,Dr=vS(ct,_t),er=mS(ct,_t,lt,Y.showCellVerticalBorder,I);return x.jsx(Fe.cell,H({column:ht,width:st,rowId:o,align:ht.align||"left",colIndex:He,colSpan:At,disableDragEvents:fr,isNotVisible:Fn,pinnedOffset:pt,pinnedPosition:ct,showLeftBorder:Dr,showRightBorder:er,row:i,rowNode:se},Je?.cell),ht.field)},mt=f.left.map((ht,_t)=>Rt(ht,_t,_t,f.left.length,Rn.LEFT)),Bt=f.right.map((ht,_t)=>{const He=h.length-f.right.length+_t;return Rt(ht,_t,He,f.right.length,Rn.RIGHT)}),It=h.length-f.left.length-f.right.length,Xt=[];he&&Xt.push(Rt(h[v],v-f.left.length,v,It,Rn.VIRTUAL));for(let ht=y;ht<b;ht+=1){const _t=h[ht],He=ht-f.left.length;_t&&Xt.push(Rt(_t,He,ht,It))}pe&&Xt.push(Rt(h[v],v-f.left.length,v,It,Rn.VIRTUAL));const Wt=i?{onClick:Ee,onDoubleClick:De("rowDoubleClick",P),onMouseEnter:De("rowMouseEnter",L),onMouseLeave:De("rowMouseLeave",A),onMouseOut:De("rowMouseOut",$),onMouseOver:De("rowMouseOver",B)}:null;return x.jsxs("div",H({"data-id":o,"data-rowindex":s,role:"row",className:We(...St,we.root,d),style:dt},je,Wt,U,{ref:ce,children:[mt,x.jsx("div",{role:"presentation",className:oe.cellOffsetLeft,style:{width:g}}),Xt,x.jsx("div",{role:"presentation",className:We(oe.cell,oe.cellEmpty)}),Bt,M!==0&&x.jsx(UR,{pinnedRight:f.right.length>0,borderTop:!S})]}))}),Yje=ec(qje),Xje=()=>{const e=fs(),t=yt(),n=tt(e,eo),r=tt(e,_R),o=tt(e,Rm),i=tt(e,kG),s=t["aria-label"],a=t["aria-labelledby"];return{role:"grid","aria-label":!s&&!a&&t.label?t.label:s,"aria-labelledby":a,"aria-colcount":n.length,"aria-rowcount":o+1+i+r,"aria-multiselectable":MR(t)}},Zje=()=>{const e=fs(),t=tt(e,Rm);return _.useCallback((n,r)=>{const o={},i=r+t+2;return o["aria-rowindex"]=i,n&&e.current.isRowSelectable(n.id)&&(o["aria-selected"]=e.current.isRowSelected(n.id)),o},[e,t])},Qje=e=>({setRowIndex:_.useCallback((n,r)=>{const o=dl(e,n);if(!o)throw new Error(`MUI X: No row with id #${n} found.`);if(o.parent!==Lo)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(o.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(i=>{const s=Ko(e)[Lo],a=s.children,c=a.findIndex(h=>h===n);if(c===-1||c===r)return i;const d=[...a];return d.splice(r,0,d.splice(c,1)[0]),H({},i,{rows:H({},i.rows,{tree:H({},i.rows.tree,{[Lo]:H({},s,{children:d})})})})}),e.current.publishEvent("rowsSet")},[e])});function Jje({privateApiRef:e,configuration:t,props:n,children:r}){const o=_.useRef(e.current.getPublicApi());return x.jsx(v2.Provider,{value:t,children:x.jsx(bG.Provider,{value:n,children:x.jsx(Y2.Provider,{value:e,children:x.jsx(wG.Provider,{value:o,children:x.jsx(yNe,{children:x.jsx(qke,{children:r})})})})})})}const eVe=e=>{const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),o=_.useRef(null),i=_.useRef(null),s=_.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:o,virtualScrollbarHorizontalRef:i,columnHeadersContainerRef:s})},tVe=e=>{const t=Go();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const n=_.useRef(!0);_.useEffect(()=>{n.current?n.current=!1:e.current.setState(r=>H({},r,{isRtl:t}))},[e,t])},nVe=Rke()&&window.localStorage.getItem("DEBUG")!=null,Nm=()=>{},rVe={debug:Nm,info:Nm,warn:Nm,error:Nm},z5=["debug","info","warn","error"];function U5(e,t,n=console){const r=z5.indexOf(t);if(r===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return z5.reduce((i,s,a)=>(a>=r?i[s]=(...c)=>{const[d,...h]=c;n[s](`MUI X: ${e} - ${d}`,...h)}:i[s]=Nm,i),{})}const oVe=(e,t)=>{const n=_.useCallback(r=>nVe?U5(r,"debug",t.logger):t.logLevel?U5(r,t.logLevel.toString(),t.logger):rVe,[t.logLevel,t.logger]);Cn(e,{getLogger:n},"private")},iVe=(e,t)=>{const n=_.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:n})};function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function sVe(e,t){if(Bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fm(e){var t=sVe(e,"string");return Bm(t)=="symbol"?t:t+""}const aVe=e=>{const t=_.useRef({}),n=_.useRef(!1),r=_.useCallback(f=>{n.current||!f||(n.current=!0,Object.values(f.appliers).forEach(g=>{g()}),n.current=!1)},[]),o=_.useCallback((f,g,m)=>{t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const y=t.current[f];return y.processors.get(g)!==m&&(y.processors.set(g,m),y.processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null),y.processorsUpdated=!0),()=>{t.current[f].processors.set(g,null),t.current[f].processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null)}},[]),i=_.useCallback((f,g,m)=>(t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[f].appliers[g]=m,()=>{const y=t.current[f].appliers,b=gt(y,[g].map(Fm));t.current[f].appliers=b}),[]),s=_.useCallback(f=>{r(t.current[f])},[r]),a=_.useCallback(()=>{for(const f in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,f))continue;const g=t.current[f];g.processorsUpdated&&(g.processorsUpdated=!1,r(g))}},[r]),c=_.useCallback((...f)=>{const[g,m,y]=f;if(!t.current[g])return m;const b=t.current[g].processorsAsArray;let v=m;for(let S=0;S<b.length;S+=1)v=b[S](v,y);return v},[]),d={registerPipeProcessor:o,registerPipeApplier:i,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:a},h={unstable_applyPipeProcessors:c};Cn(e,d,"private"),Cn(e,h,"public")},Hr=(e,t,n,r=!0)=>{const o=_.useRef(null),i=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=_.useCallback(()=>{o.current=e.current.registerPipeProcessor(t,i.current,n)},[e,n,t]);Hd(()=>{r&&s()});const a=_.useRef(!0);_.useEffect(()=>(a.current?a.current=!1:r&&s(),()=>{o.current&&(o.current(),o.current=null)}),[s,r])},HR=(e,t,n)=>{const r=_.useRef(null),o=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=_.useCallback(()=>{r.current=e.current.registerPipeApplier(t,o.current,n)},[e,n,t]);Hd(()=>{i()});const s=_.useRef(!0);_.useEffect(()=>(s.current?s.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])};let uu=(function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e})({});const jm=(e,t,n,r)=>{const o=_.useCallback(()=>{e.current.registerStrategyProcessor(t,n,r)},[e,r,n,t]);Hd(()=>{o()});const i=_.useRef(!0);_.useEffect(()=>{i.current?i.current=!1:o()},[o])},qd="none",H5={dataSourceRowsUpdate:uu.DataSource,rowTreeCreation:uu.RowTree,filtering:uu.RowTree,sorting:uu.RowTree,visibleRowsLookupCreation:uu.RowTree},lVe=e=>{const t=_.useRef(new Map),n=_.useRef({}),r=_.useCallback((c,d,h)=>{const f=()=>{const y=n.current[d],b=gt(y,[c].map(Fm));n.current[d]=b};n.current[d]||(n.current[d]={});const g=n.current[d],m=g[c];return g[c]=h,!m||m===h||c===e.current.getActiveStrategy(H5[d])&&e.current.publishEvent("activeStrategyProcessorChange",d),f},[e]),o=_.useCallback((c,d)=>{const h=e.current.getActiveStrategy(H5[c]);if(h==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=n.current[c];if(!f||!f[h])throw new Error(`No processor found for processor "${c}" on strategy "${h}"`);const g=f[h];return g(d)},[e]),i=_.useCallback(c=>Array.from(t.current.entries()).find(([,f])=>f.group!==c?!1:f.isAvailable())?.[0]??qd,[]),s=_.useCallback((c,d,h)=>{t.current.set(d,{group:c,isAvailable:h}),e.current.publishEvent("strategyAvailabilityChange")},[e]);Cn(e,{registerStrategyProcessor:r,applyStrategyProcessor:o,getActiveStrategy:i,setStrategyAvailability:s},"private")},cVe=e=>{const t=_.useRef({}),n=_.useCallback(a=>{t.current[a.stateId]=a},[]),r=_.useCallback((a,c)=>{let d;if(Oke(a)?d=a(e.current.state):d=a,e.current.state===d)return!1;const h={current:{state:d}};let f=!1;const g=[];if(Object.keys(t.current).forEach(m=>{const y=t.current[m],b=y.stateSelector(e),v=y.stateSelector(h);v!==b&&(g.push({stateId:y.stateId,hasPropChanged:v!==y.propModel}),y.propModel!==void 0&&v!==y.propModel&&(f=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(m=>m.stateId).join(", ")} in the same transaction.`);if(f||(e.current.state=d,e.current.publishEvent("stateChange",d),e.current.store.update(d)),g.length===1){const{stateId:m,hasPropChanged:y}=g[0],b=t.current[m],v=b.stateSelector(h);b.propOnChange&&y&&b.propOnChange(v,{reason:c,api:e.current}),f||e.current.publishEvent(b.changeEvent,v,{reason:c})}return!f},[e]),o=_.useCallback((a,c,d)=>e.current.setState(h=>H({},h,{[a]:c(h[a])}),d),[e]),i={setState:r},s={updateControlState:o,registerControlState:n};Cn(e,i,"public"),Cn(e,s,"private")},uVe=(e,t)=>H({},e,{props:{listView:t.listView,getRowId:t.getRowId}}),dVe=(e,t)=>{_.useEffect(()=>{e.current.setState(n=>H({},n,{props:{listView:t.listView,getRowId:t.getRowId}}))},[e,t.listView,t.getRowId])},hVe=(e,t)=>{eVe(e),dVe(e,t),tVe(e),oVe(e,t),cVe(e),aVe(e),lVe(e),iVe(e,t),e.current.register("private",{rootProps:t})},fVe=Mt(Gi,f5,Mm,eo,(e,t,n,r)=>{if(!e)return!1;const o=n.rowIdToIndexMap.get(e.id),i=r.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(a=>a.field===e.field);return!(o!==void 0&&i!==-1&&o>=t.firstRowIndex&&o<=t.lastRowIndex)}),pVe=Gn(fVe,eo,Mm,Gi,(e,t,n,r)=>{if(!e)return null;const o=n.rowIdToIndexMap.get(r.id);if(o===void 0)return null;const i=t.findIndex(s=>s.field===r.field);return i===-1?null:H({},r,{rowIndex:o,columnIndex:i})}),yS={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:fl.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function gVe(e){return e}const mVe=Mt(eo,$d,(e,t)=>{const n=e.length;return n===0?0:Kd(t[n-1]+e[n-1].computedWidth,1)}),vVe=()=>GO((e,t,n,r,o)=>H({},e,{headerHeight:t,groupHeaderHeight:n,headerFilterHeight:r,headersTotalHeight:o}),{maxSize:1});function yVe(e,t){const n=Go(),{listView:r}=t,o=tt(e,eo),i=tt(e,vm),s=Gw(e),a=tt(e,_m),c=te=>a.has(te)&&e.current.isRowSelectable(te),d=$5(e),h=tt(e,Nke),f=tt(e,IG),g=tt(e,RG),{autoHeight:m}=t,y=r,b=tt(e,ym),v=jG(t.rowHeight,yS.rowHeight),S=Math.floor(v*b),E=Math.floor(t.columnHeaderHeight*b),T=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*b),R=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*b),M=tt(e,mVe),I=Im(e,t),N=s.left.reduce((te,z)=>te+z.computedWidth,0),P=s.right.reduce((te,z)=>te+z.computedWidth,0),L={rowHeight:S,headerHeight:E,columnsTotalWidth:M,leftPinnedWidth:N,rightPinnedWidth:P,topPinnedHeight:I,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},A=cs(vVe).current,$=tt(e,vf),B=tt(e,Sf),U=Math.min(B.enabled?B.paginationModel.pageSize:$,$),{getRowHeight:K,getEstimatedRowHeight:G,getRowSpacing:V}=t,Y=tt(e,pVe),Q=TLe({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:L,virtualization:{isRtl:n,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:h,getColspan:(te,z)=>{if(typeof z.colSpan=="function"){const W=e.current.getRow(te),Z=e.current.getRowValue(W,z);return z.colSpan(Z,W,z,e)??0}return z.colSpan??1}},initialState:{scroll:t.initialState?.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:d.rows,range:d.range,rowCount:U,columns:o,pinnedRows:i,pinnedColumns:s,autoHeight:m,minimalContentHeight:BG,getRowHeight:_.useMemo(()=>{if(K)return te=>K(H({},te,{densityFactor:b}))},[K,b]),getEstimatedRowHeight:_.useMemo(()=>G?te=>G(H({},te,{densityFactor:b})):void 0,[G,b]),getRowSpacing:_.useMemo(()=>V?te=>{const z=d.rowIdToIndexMap.get(te.id)??-1,W={isFirstVisible:z===0,isLastVisible:z===d.rows.length-1,indexRelativeToCurrentPage:z};return V(H({},te,W,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(te.id)}))}:void 0,[e,V,d.rows,d.rowIdToIndexMap]),applyRowHeight:Vt((te,z)=>e.current.unstable_applyPipeProcessors("rowHeight",te,z)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:Vt(()=>Y),resizeThrottleMs:t.resizeThrottleMs,onResize:Vt(te=>e.current.publishEvent("resize",te)),onWheel:Vt(te=>{e.current.publishEvent("virtualScrollerWheel",{},te)}),onTouchMove:Vt(te=>{e.current.publishEvent("virtualScrollerTouchMove",{},te)}),onRenderContextChange:Vt(te=>{e.current.publishEvent("renderedRowsIntervalChange",te)}),onScrollChange:(te,z)=>{e.current.publishEvent("scrollPositionChange",{top:te.top,left:te.left,renderContext:z})},scrollReset:y,renderRow:te=>x.jsx(t.slots.row,H({row:te.model,rowId:te.id,index:te.rowIndex,selected:c(te.id),offsetLeft:te.offsetLeft,columnsTotalWidth:M,rowHeight:te.baseRowHeight,pinnedColumns:s,visibleColumns:o,firstColumnIndex:te.firstColumnIndex,lastColumnIndex:te.lastColumnIndex,focusedColumnIndex:te.focusedColumnIndex,isFirstVisible:te.isFirstVisible,isLastVisible:te.isLastVisible,isNotVisible:te.isVirtualFocusRow,showBottomBorder:te.showBottomBorder,scrollbarWidth:f,gridHasFiller:g},t.slotProps?.row),te.id),renderInfiniteLoadingTrigger:te=>e.current.getInfiniteLoadingTriggerElement?.({lastRowId:te})});Hd(()=>{e.current.store.state.dimensions=A(Q.store.state.dimensions,E,T,R,I),e.current.store.state.rowsMeta=Q.store.state.rowsMeta,e.current.store.state.virtualization=Q.store.state.virtualization}),Rw(Q.store,Wi.selectors.dimensions,(te,z)=>{e.current.setState(W=>H({},W,{dimensions:A(z,E,T,R,I)}))}),Rw(Q.store,gVe,(te,z)=>{z.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(W=>H({},W,{rowsMeta:z.rowsMeta})),z.virtualization!==e.current.state.virtualization&&e.current.setState(W=>H({},W,{virtualization:z.virtualization}))}),e.current.register("private",{virtualizer:Q})}const Fo=(e,t,n,r)=>{const o=_.useRef(r),i=_.useRef(!1);r!==o.current&&(i.current=!1,o.current=r),i.current||(t.current.state=e(t.current.state,n,t),i.current=!0)};function GR(e,t){if(e==null)return"";const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const r=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(r[0])?`"'${r}"`:[t.delimiter,`
`,"\r",'"'].some(o=>n.includes(o))?`"${r}"`:r}return n}const G5=(e,t)=>{const{csvOptions:n,ignoreValueFormatter:r}=t;let o;if(r){const i=e.colDef.type;i==="number"?o=String(e.value):i==="date"||i==="dateTime"?o=e.value?.toISOString():typeof e.value?.toString=="function"?o=e.value.toString():o=e.value}else o=e.formattedValue;return GR(o,n)};class WR{rowString="";isEmpty=!0;constructor(t){this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const bVe=({id:e,columns:t,getCellParams:n,csvOptions:r,ignoreValueFormatter:o})=>{const i=new WR({csvOptions:r});return t.forEach(s=>{const a=n(e,s.field);i.addValue(G5(a,{ignoreValueFormatter:o,csvOptions:r}))}),i.getRowString()};function wVe(e){const{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:o,apiRef:i}=e,s=n.reduce((f,g)=>`${f}${bVe({id:g,columns:t,getCellParams:i.current.getCellParams,ignoreValueFormatter:o,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return s;const a=t.filter(f=>f.field!==_f.field),c=[];if(r.includeColumnGroupsHeaders){const f=i.current.getAllGroupDetails();let g=0;const m=a.reduce((y,b)=>{const v=i.current.getColumnGroupPath(b.field);return y[b.field]=v,g=Math.max(g,v.length),y},{});for(let y=0;y<g;y+=1){const b=new WR({csvOptions:r,sanitizeCellValue:GR});c.push(b),a.forEach(v=>{const S=(m[v.field]||[])[y],E=f[S];b.addValue(E?E.headerName||E.groupId:"")})}}const d=new WR({csvOptions:r,sanitizeCellValue:GR});return a.forEach(f=>{d.addValue(f.headerName||f.field)}),c.push(d),`${`${c.map(f=>f.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function W5(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function SVe(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{W5(e)}):W5(e)}function CVe(e){return!!(window.getSelection()?.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const xVe=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,r=(typeof n=="object"?n?.clipboardExport:n)||!1,o=t.clipboardCopyCellDelimiter,i=_.useCallback(s=>{if(!Gke(s)||CVe(s.target))return;let a="";if(Jw(e)>0)a=e.current.getDataAsCsv({includeHeaders:!1,delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1});else{const d=Gi(e);if(d){const h=e.current.getCellParams(d.id,d.field);a=G5(h,{csvOptions:{delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}a=e.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(SVe(a),e.current.publishEvent("clipboardCopy",a))},[e,r,o]);X2(e,()=>e.current.rootElementRef.current,"keydown",i),hr(e,"clipboardCopy",t.onClipboardCopy)},_Ve=e=>H({},e,{columnMenu:{open:!1}}),EVe=e=>{const t=Yo(e,"useGridColumnMenu"),n=_.useCallback(s=>{const a=aS(e),c={open:!0,field:s};(c.open!==a.open||c.field!==a.field)&&(e.current.setState(h=>h.columnMenu.open&&h.columnMenu.field===s?h:(t.debug("Opening Column Menu"),H({},h,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences())},[e,t]),r=_.useCallback(()=>{const s=aS(e);if(s.field){const d=nc(e),h=ea(e),f=gl(e);let g=s.field;if(d[g]||(g=f[0]),h[g]===!1){const m=f.filter(b=>b===g?!0:h[b]!==!1),y=m.indexOf(g);g=m[y+1]||m[y-1]}e.current.setColumnHeaderFocus(g)}const a={open:!1,field:void 0};(a.open!==s.open||a.field!==s.field)&&e.current.setState(d=>(t.debug("Hiding Column Menu"),H({},d,{columnMenu:a})))},[e,t]),o=_.useCallback(s=>{t.debug("Toggle Column Menu");const a=aS(e);!a.open||a.field!==s?n(s):r()},[e,t,n,r]);Cn(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o},"public"),Et(e,"columnResizeStart",r),Et(e,"virtualScrollerWheel",e.current.hideColumnMenu),Et(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},TVe=(e,t,n)=>{n.current.caches.columns={lastColumnsProp:t.columns};const r=Of({apiRef:n,columnsToUpsert:t.columns,initialState:t.initialState?.columns,columnVisibilityModel:t.columnVisibilityModel??t.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return H({},e,{columns:r,pinnedColumns:e.pinnedColumns??Hw})};function MVe(e,t){const n=Yo(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:ea,changeEvent:"columnVisibilityModelChange"});const r=_.useCallback(P=>{n.debug("Updating columns state."),e.current.setState(OVe(P)),e.current.publishEvent("columnsChange",P.orderedFields)},[n,e]),o=_.useCallback(P=>nc(e)[P],[e]),i=_.useCallback(()=>Js(e),[e]),s=_.useCallback(()=>eo(e),[e]),a=_.useCallback((P,L=!0)=>(L?eo(e):Js(e)).findIndex($=>$.field===P),[e]),c=_.useCallback(P=>{const L=a(P);return $d(e)[L]},[e,a]),d=_.useCallback(P=>{ea(e)!==P&&(e.current.setState(A=>H({},A,{columns:Of({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:P,keepOnlyColumnsToUpsert:!1})})),e.current.updateRenderContext?.())},[e]),h=_.useCallback(P=>{if(Gd(e)){e.current.updateNonPivotColumns(P);return}const L=Of({apiRef:e,columnsToUpsert:P,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});r(L)},[e,r]),f=_.useCallback((P,L)=>{const A=ea(e),$=A[P]??!0;if(L!==$){const B=H({},A,{[P]:L});e.current.setColumnVisibilityModel(B)}},[e]),g=_.useCallback(P=>gl(e).findIndex(A=>A===P),[e]),m=_.useCallback((P,L)=>{const A=gl(e),$=g(P);if($===L)return;n.debug(`Moving column ${P} to index ${L}`);const B=[...A],U=B.splice($,1)[0];B.splice(L,0,U),r(H({},Ra(e),{orderedFields:B}));const K={column:e.current.getColumn(P),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(P),oldIndex:$};e.current.publishEvent("columnIndexChange",K)},[e,n,r,g]),y=_.useCallback((P,L)=>{n.debug(`Updating column ${P} width to ${L}`);const A=Ra(e),$=A.lookup[P],B=H({},$,{width:L,hasBeenResized:!0});r(kR(H({},A,{lookup:H({},A.lookup,{[P]:B})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(P),colDef:B,width:L})},[e,n,r]),b={getColumn:o,getAllColumns:i,getColumnIndex:a,getColumnPosition:c,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:g,updateColumns:h,setColumnVisibilityModel:d,setColumnVisibility:f,setColumnWidth:y},v={setColumnIndex:m};Cn(e,b,"public"),Cn(e,v,t.signature===Oa.DataGrid?"private":"public");const S=_.useCallback((P,L)=>{const A={},$=ea(e);(!L.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(t.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys($).length>0)&&(A.columnVisibilityModel=$),A.orderedFields=gl(e);const U=Js(e),K={};return U.forEach(G=>{if(G.hasBeenResized){const V={};W2.forEach(Y=>{let Q=G[Y];Q===1/0&&(Q=-1),V[Y]=Q}),K[G.field]=V}}),Object.keys(K).length>0&&(A.dimensions=K),H({},P,{columns:A})},[e,t.columnVisibilityModel,t.initialState?.columns]),E=_.useCallback((P,L)=>{const A=L.stateToRestore.columns,$=A?.columnVisibilityModel;if(A==null)return P;const B=Of({apiRef:e,columnsToUpsert:[],initialState:A,columnVisibilityModel:$,keepOnlyColumnsToUpsert:!1});return A!=null&&e.current.setState(U=>H({},U,{columns:H({},U.columns,{lookup:B.lookup,orderedFields:B.orderedFields,initialColumnVisibilityModel:B.initialColumnVisibilityModel})})),$!=null&&e.current.setState(U=>H({},U,{columns:H({},U.columns,{columnVisibilityModel:$})})),A!=null&&e.current.publishEvent("columnsChange",B.orderedFields),P},[e]),T=_.useCallback((P,L)=>{if(L===Ti.columns){const A=t.slots.columnsPanel;return x.jsx(A,H({},t.slotProps?.columnsPanel))}return P},[t.slots.columnsPanel,t.slotProps?.columnsPanel]),R=_.useCallback(P=>{const L=Gd(e);return t.disableColumnSelector||L?P:[...P,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);Hr(e,"columnMenu",R),Hr(e,"exportState",S),Hr(e,"restoreState",E),Hr(e,"preferencePanel",T);const M=_.useRef(null);Et(e,"viewportInnerSizeChange",P=>{if(M.current!==P.width){if(M.current=P.width,!eo(e).some(A=>A.flex&&A.flex>0))return;r(kR(Ra(e),e.current.getRootDimensions()))}});const N=_.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const P=Of({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});r(P)},[e,n,r]);HR(e,"hydrateColumns",N),_.useEffect(()=>{if(e.current.caches.columns.lastColumnsProp===t.columns)return;e.current.caches.columns.lastColumnsProp=t.columns,n.info(`GridColumns have changed, new length ${t.columns.length}`);const P=Of({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel});r(P)},[n,e,r,t.columns,t.columnVisibilityModel]),_.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function OVe(e){return t=>H({},t,{columns:e})}const RVe=(e,t)=>H({},e,{density:t.initialState?.density??t.density??"standard"}),IVe=(e,t)=>{const n=Yo(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:bf,changeEvent:"densityChange"});const o={setDensity:Vt(a=>{bf(e)!==a&&(n.debug(`Set grid density to ${a}`),e.current.setState(d=>H({},d,{density:a})))})};Cn(e,o,"public");const i=_.useCallback((a,c)=>{const d=bf(e);return!c.exportOnlyDirtyModels||t.density!=null||t.initialState?.density!=null?H({},a,{density:d}):a},[e,t.density,t.initialState?.density]),s=_.useCallback((a,c)=>{const d=c.stateToRestore?.density?c.stateToRestore.density:bf(e);return e.current.setState(h=>H({},h,{density:d})),a},[e]);Hr(e,"exportState",i),Hr(e,"restoreState",s),_.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function PVe(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=r,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI X: exportAs not supported.")}const K5=({apiRef:e,options:t})=>{const n=Js(e);return t.fields?t.fields.reduce((o,i)=>{const s=n.find(a=>a.field===i);return s&&o.push(s),o},[]):(t.allColumns?n:eo(e)).filter(o=>o.disableExport!==!0)},q5=({apiRef:e})=>{const t=_2(e),n=Ko(e),r=Jw(e),o=t.filter(c=>n[c].type!=="footer"),i=vm(e),s=i?.top?.map(c=>c.id)||[],a=i?.bottom?.map(c=>c.id)||[];if(o.unshift(...s),o.push(...a),r>0){const c=M2(e);return o.filter(d=>c.has(d))}return o},kVe=(e,t)=>{const n=Yo(e,"useGridCsvExport"),r=t.ignoreValueFormatterDuringExport,o=(typeof r=="object"?r?.csvExport:r)||!1,i=_.useCallback((d={})=>{n.debug("Get data as CSV");const h=K5({apiRef:e,options:d}),g=(d.getRowsToExport??q5)({apiRef:e});return wVe({columns:h,rowIds:g,csvOptions:{delimiter:d.delimiter||",",shouldAppendQuotes:d.shouldAppendQuotes??!0,includeHeaders:d.includeHeaders??!0,includeColumnGroupsHeaders:d.includeColumnGroupsHeaders??!0,escapeFormulas:d.escapeFormulas??!0},ignoreValueFormatter:o,apiRef:e})},[n,e,o]),s=_.useCallback(d=>{n.debug("Export data as CSV");const h=i(d),f=new Blob([d?.utf8WithBom?new Uint8Array([239,187,191]):"",h],{type:"text/csv"});PVe(f,"csv",d?.fileName)},[n,i]);Cn(e,{getDataAsCsv:i,exportDataAsCsv:s},"public");const c=_.useCallback((d,h)=>h.csvOptions?.disableToolbarButton?d:[...d,{component:x.jsx(UFe,{options:h.csvOptions}),componentName:"csvExport"}],[]);Hr(e,"exportMenu",c)};function DVe(e,t){const n=[],r=t.querySelectorAll("style, link[rel='stylesheet']");for(let o=0;o<r.length;o+=1){const i=r[o];if(i.tagName==="STYLE"){const s=e.createElement(i.tagName),a=i.sheet;if(a){let c="";for(let d=0;d<a.cssRules.length;d+=1)typeof a.cssRules[d].cssText=="string"&&(c+=`${a.cssRules[d].cssText}\r
`);s.appendChild(e.createTextNode(c)),e.head.appendChild(s)}}else if(i.getAttribute("href")){const s=e.createElement(i.tagName);for(let a=0;a<i.attributes.length;a+=1){const c=i.attributes[a];c&&s.setAttribute(c.nodeName,c.nodeValue||"")}n.push(new Promise(a=>{s.addEventListener("load",()=>a())})),e.head.appendChild(s)}}return n}const bS=(e,t,n)=>{let r=e.paginationModel;const o=e.rowCount,i=n?.pageSize??r.pageSize,s=n?.page??r.page,a=P2(o,i,s);n&&(n?.page!==r.page||n?.pageSize!==r.pageSize)&&(r=n);const c=i===-1?0:kDe(r.page,a);return c!==r.page&&(r=H({},r,{page:c})),D2(r.pageSize,t),r},AVe=(e,t)=>{const n=Yo(e,"useGridPaginationModel"),r=tt(e,ym),o=_.useRef(No(e)),i=Math.floor(t.rowHeight*r);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:qo,changeEvent:"paginationModelChange"});const s=_.useCallback(E=>{const T=qo(e);E!==T.page&&(n.debug(`Setting page to ${E}`),e.current.setPaginationModel({page:E,pageSize:T.pageSize}))},[e,n]),a=_.useCallback(E=>{const T=qo(e);E!==T.pageSize&&(n.debug(`Setting page size to ${E}`),e.current.setPaginationModel({pageSize:E,page:T.page}))},[e,n]),c=_.useCallback(E=>{const T=qo(e);E!==T&&(n.debug("Setting 'paginationModel' to",E),e.current.setState(R=>H({},R,{pagination:H({},R.pagination,{paginationModel:bS(R.pagination,t.signature,E)})}),"setPaginationModel"))},[e,n,t.signature]);Cn(e,{setPage:s,setPageSize:a,setPaginationModel:c},"public");const h=_.useCallback((E,T)=>{const R=qo(e);return!T.exportOnlyDirtyModels||t.paginationModel!=null||t.initialState?.pagination?.paginationModel!=null||R.page!==0&&R.pageSize!==PDe(t.autoPageSize)?H({},E,{pagination:H({},E.pagination,{paginationModel:R})}):E},[e,t.paginationModel,t.initialState?.pagination?.paginationModel,t.autoPageSize]),f=_.useCallback((E,T)=>{const R=T.stateToRestore.pagination?.paginationModel?H({},k2(t.autoPageSize),T.stateToRestore.pagination?.paginationModel):qo(e);return e.current.setState(M=>H({},M,{pagination:H({},M.pagination,{paginationModel:bS(M.pagination,t.signature,R)})}),"stateRestorePreProcessing"),E},[e,t.autoPageSize,t.signature]);Hr(e,"exportState",h),Hr(e,"restoreState",f);const g=()=>{const E=qo(e);e.current.virtualScrollerRef?.current&&e.current.scrollToIndexes({rowIndex:E.page*E.pageSize})},m=_.useCallback(()=>{if(!t.autoPageSize)return;const E=e.current.getRootDimensions(),T=Math.max(1,Math.floor(E.viewportInnerSize.height/i));e.current.setPageSize(T)},[e,t.autoPageSize,i]),y=_.useCallback(E=>{if(E==null)return;const T=qo(e);if(T.page===0)return;const R=N2(e);T.page>R-1&&e.current.setPage(Math.max(0,R-1))},[e]),b=_.useCallback(()=>{qo(e).page!==0&&e.current.setPage(0),e.current.getScrollPosition().top!==0&&e.current.scroll({top:0})},[e]),v=_.useCallback(E=>{const T=H({},E,{items:TR(e)});na(T,o.current)||(o.current=T,b())},[e,b]);Et(e,"viewportInnerSizeChange",m),Et(e,"paginationModelChange",g),Et(e,"rowCountChange",y),Et(e,"sortModelChange",b),Et(e,"filterModelChange",v);const S=_.useRef(!0);_.useEffect(()=>{if(S.current){S.current=!1;return}t.pagination&&e.current.setState(E=>H({},E,{pagination:H({},E.pagination,{paginationModel:bS(E.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),_.useEffect(()=>{e.current.setState(E=>{const T=t.pagination===!0;return E.pagination.paginationMode===t.paginationMode&&E.pagination.enabled===T?E:H({},E,{pagination:H({},E.pagination,{paginationMode:t.paginationMode,enabled:T})})})},[e,t.paginationMode,t.pagination]),_.useEffect(m,[m])};function LVe(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function NVe(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const BVe=(e,t)=>{const n=e.current.rootElementRef.current!==null,r=Yo(e,"useGridPrintExport"),o=_.useRef(null),i=_.useRef(null),s=_.useRef({}),a=_.useRef([]),c=_.useRef(null);_.useEffect(()=>{o.current=Zr(e.current.rootElementRef.current)},[e,n]);const d=_.useCallback((v,S,E)=>new Promise(T=>{const R=K5({apiRef:e,options:{fields:v,allColumns:S}}).map(N=>N.field),M=Js(e),I={};M.forEach(N=>{I[N.field]=R.includes(N.field)}),E&&(I[_f.field]=!0),e.current.setColumnVisibilityModel(I),T()}),[e]),h=_.useCallback(v=>{const E=v({apiRef:e}).reduce((T,R)=>{const M=e.current.getRow(R);return M[jd]||T.push(M),T},[]);e.current.setRows(E)},[e]),f=_.useCallback((v,S)=>{const E=H({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},S),T=v.contentDocument;if(!T)return;const R=fR(e),M=e.current.rootElementRef.current,I=M.cloneNode(!0),N=I.querySelector(`.${oe.main}`);N.style.overflow="visible",I.style.contain="size";let P=M.querySelector(`.${oe.toolbar}`)?.offsetHeight||0,L=M.querySelector(`.${oe.footerContainer}`)?.offsetHeight||0;const A=I.querySelector(`.${oe.footerContainer}`);E.hideToolbar&&(I.querySelector(`.${oe.toolbar}`)?.remove(),P=0),E.hideFooter&&A&&(A.remove(),L=0);const $=R.currentPageTotalHeight+Im(e,t)+P+L;I.style.height=`${$}px`,I.style.boxSizing="content-box",!E.hideFooter&&A&&(A.style.position="absolute",A.style.width="100%",A.style.top=`${$-L}px`);const B=document.createElement("div");B.appendChild(I),T.body.style.marginTop="0px",T.body.innerHTML=B.innerHTML;const U=typeof E.pageStyle=="function"?E.pageStyle():E.pageStyle;if(typeof U=="string"){const G=T.createElement("style");G.appendChild(T.createTextNode(U)),T.head.appendChild(G)}E.bodyClassName&&T.body.classList.add(...E.bodyClassName.split(" "));let K=[];if(E.copyStyles){const G=M.getRootNode(),V=G.constructor.name==="ShadowRoot"?G:o.current;K=DVe(T,V)}Promise.all(K).then(()=>{v.contentWindow.print()})},[e,o,t]),g=_.useCallback(v=>{o.current.body.removeChild(v),e.current.restoreState(i.current||{}),i.current?.columns?.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(S=>H({},S,{virtualization:c.current})),e.current.setRows(a.current),i.current=null,s.current={},a.current=[]},[e]),y={exportDataAsPrint:_.useCallback(async v=>{if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(i.current=e.current.exportState(),s.current=ea(e),a.current=e.current.getSortedRows().filter(E=>!E[jd]),t.pagination){const T={page:0,pageSize:_R(e)};e.current.setState(R=>H({},R,{pagination:H({},R.pagination,{paginationModel:bS(R.pagination,"DataGridPro",T)})}))}c.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await d(v?.fields,v?.allColumns,v?.includeCheckboxes),h(v?.getRowsToExport??q5),await LVe();const S=NVe(v?.fileName);S.onload=()=>{f(S,v),S.contentWindow.matchMedia("print").addEventListener("change",T=>{T.matches===!1&&g(S)})},o.current.body.appendChild(S)},[t,r,e,f,g,d,h])};Cn(e,y,"public");const b=_.useCallback((v,S)=>S.printOptions?.disableToolbarButton?v:[...v,{component:x.jsx(HFe,{options:S.printOptions}),componentName:"printExport"}],[]);Hr(e,"exportMenu",b)},FVe=(e,t,n)=>{const r=t.filterModel??t.initialState?.filter?.filterModel??bm();return H({},e,{filter:H({filterModel:wR(r,t.disableMultipleColumnsFiltering,n)},QG),visibleRowsLookup:{}})},jVe=e=>e.filteredRowsLookup;function Y5(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function VVe(){return GO(Object.values)}const $Ve=(e,t)=>{const n=Yo(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:No,changeEvent:"filterModelChange"});const r=_.useCallback(()=>{e.current.setState(P=>{const L=No(e),A=e.current.getFilterState(L),$=H({},P,{filter:H({},P.filter,A)}),B=Y5(e,$);return H({},$,{visibleRowsLookup:B})}),e.current.publishEvent("filteredRowsSet")},[e]),o=_.useCallback((P,L)=>L==null||L.filterable===!1||t.disableColumnFilter?P:[...P,"columnMenuFilterItem"],[t.disableColumnFilter]),i=_.useCallback(P=>{const L=No(e),A=[...L.items],$=A.findIndex(B=>B.id===P.id);$===-1?A.push(P):A[$]=P,e.current.setFilterModel(H({},L,{items:A}),"upsertFilterItem")},[e]),s=_.useCallback(P=>{const L=No(e),A=[...L.items];P.forEach($=>{const B=A.findIndex(U=>U.id===$.id);B===-1?A.push($):A[B]=$}),e.current.setFilterModel(H({},L,{items:A}),"upsertFilterItems")},[e]),a=_.useCallback(P=>{const L=No(e),A=L.items.filter($=>$.id!==P.id);A.length!==L.items.length&&e.current.setFilterModel(H({},L,{items:A}),"deleteFilterItem")},[e]),c=_.useCallback((P,L,A)=>{if(n.debug("Displaying filter panel"),P){const $=No(e),B=$.items.filter(V=>{if(V.value!==void 0)return!(Array.isArray(V.value)&&V.value.length===0);const Q=e.current.getColumn(V.field).filterOperators?.find(z=>z.value===V.operator);return!(typeof Q?.requiresFilterValue>"u"?!0:Q?.requiresFilterValue)});let U;const K=B.find(V=>V.field===P),G=e.current.getColumn(P);K?U=B:t.disableMultipleColumnsFiltering?U=[bR({field:P,operator:G.filterOperators[0].value},e)]:U=[...B,bR({field:P,operator:G.filterOperators[0].value},e)],e.current.setFilterModel(H({},$,{items:U}))}e.current.showPreferences(Ti.filters,L,A)},[e,n,t.disableMultipleColumnsFiltering]),d=_.useCallback(()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()},[e,n]),h=_.useCallback(P=>{const L=No(e);L.logicOperator!==P&&e.current.setFilterModel(H({},L,{logicOperator:P}),"changeLogicOperator")},[e]),f=_.useCallback(P=>{const L=No(e);na(L.quickFilterValues,P)||e.current.setFilterModel(H({},L,{quickFilterValues:[...P]}))},[e]),g=_.useCallback((P,L)=>{No(e)!==P&&(n.debug("Setting filter model"),e.current.updateControlState("filter",s2(P,t.disableMultipleColumnsFiltering,e),L),e.current.unstable_applyFilters())},[e,n,t.disableMultipleColumnsFiltering]),m=_.useCallback(P=>{const L=wR(P,t.disableMultipleColumnsFiltering,e),A=t.filterMode==="client"?Vke(L,e,t.disableEval):null,$=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:A,filterModel:L??bm()});return H({},$,{filterModel:L})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),y={setFilterLogicOperator:h,unstable_applyFilters:r,deleteFilterItem:a,upsertFilterItem:i,upsertFilterItems:s,setFilterModel:g,showFilterPanel:c,hideFilterPanel:d,setQuickFilterValues:f,ignoreDiacritics:t.ignoreDiacritics,getFilterState:m};Cn(e,y,"public");const b=_.useCallback((P,L)=>{const A=No(e);return A.items.forEach(B=>{delete B.fromInput}),!L.exportOnlyDirtyModels||t.filterModel!=null||t.initialState?.filter?.filterModel!=null||!na(A,bm())?H({},P,{filter:{filterModel:A}}):P},[e,t.filterModel,t.initialState?.filter?.filterModel]),v=_.useCallback((P,L)=>{const A=L.stateToRestore.filter?.filterModel;return A==null?P:(e.current.updateControlState("filter",s2(A,t.disableMultipleColumnsFiltering,e),"restoreState"),H({},P,{callbacks:[...P.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),S=_.useCallback((P,L)=>{if(L===Ti.filters){const A=t.slots.filterPanel;return x.jsx(A,H({},t.slotProps?.filterPanel))}return P},[t.slots.filterPanel,t.slotProps?.filterPanel]),{getRowId:E}=t,T=cs(VVe),R=_.useCallback(P=>{if(t.filterMode!=="client"||!P.isRowMatchingFilters||!P.filterModel.items.length&&!P.filterModel.quickFilterValues?.length)return QG;const L=Xs(e),A={},{isRowMatchingFilters:$}=P,B={},U={passingFilterItems:null,passingQuickFilterValues:null},K=T.current(e.current.state.rows.dataRowIdToModelLookup);for(let Y=0;Y<K.length;Y+=1){const Q=K[Y],te=E?E(Q):Q.id;$(Q,void 0,U);const z=zke([U.passingFilterItems],[U.passingQuickFilterValues],P.filterModel,e,B);z||(A[te]=z)}const G="auto-generated-group-footer-root";return L[G]&&(A[G]=!0),{filteredRowsLookup:A,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,E,T]);Hr(e,"columnMenu",o),Hr(e,"exportState",b),Hr(e,"restoreState",v),Hr(e,"preferencePanel",S),jm(e,qd,"filtering",R),jm(e,qd,"visibleRowsLookupCreation",jVe);const M=_.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const P=No(e),L=nc(e),A=P.items.filter($=>$.field&&L[$.field]);A.length<P.items.length&&e.current.setFilterModel(H({},P,{items:A}))},[e,n]),I=_.useCallback(P=>{P==="filtering"&&e.current.unstable_applyFilters()},[e]),N=_.useCallback(()=>{e.current.setState(P=>H({},P,{visibleRowsLookup:Y5(e,P)}))},[e]);Et(e,"rowsSet",r),Et(e,"columnsChange",M),Et(e,"activeStrategyProcessorChange",I),Et(e,"rowExpansionChange",N),Et(e,"columnVisibilityModelChange",()=>{const P=No(e);P.quickFilterValues?.length&&c2(P)&&r()}),Hd(()=>{r()}),Hn(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,n,t.filterModel])},zVe=e=>H({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),UVe=(e,t)=>{const n=Yo(e,"useGridFocus"),r=_.useRef(null),o=e.current.rootElementRef.current!==null,i=_.useCallback((P,L)=>{P&&e.current.getRow(P.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(P.id,P.field),L)},[e]),s=_.useCallback((P,L)=>{const A=Gi(e);A?.id===P&&A?.field===L||(e.current.setState($=>(n.debug(`Focusing on cell with id=${P} and field=${L}`),H({},$,{tabIndex:{cell:{id:P,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:P,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(P)&&(A&&i(A,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(P,L))))},[e,n,i]),a=_.useCallback((P,L={})=>{const A=Gi(e);i(A,L),e.current.setState($=>(n.debug(`Focusing on column header with colIndex=${P}`),H({},$,{tabIndex:{columnHeader:{field:P},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:P},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,n,i]),c=_.useCallback((P,L={})=>{const A=Gi(e);i(A,L),e.current.setState($=>(n.debug(`Focusing on column header filter with colIndex=${P}`),H({},$,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:P},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:P},cell:null,columnGroupHeader:null}})))},[e,n,i]),d=_.useCallback((P,L,A={})=>{const $=Gi(e);$&&e.current.publishEvent("cellFocusOut",e.current.getCellParams($.id,$.field),A),e.current.setState(B=>H({},B,{tabIndex:{columnGroupHeader:{field:P,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:P,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),h=_.useCallback(()=>tS(e),[e]),f=_.useCallback((P,L,A)=>{let $=e.current.getColumnIndex(L);const B=eo(e),U=Af(e,{pagination:t.pagination,paginationMode:t.paginationMode}),K=vm(e),G=[].concat(K.top||[],U.rows,K.bottom||[]);let V=G.findIndex(z=>z.id===P);A==="right"?$+=1:A==="left"?$-=1:V+=1,$>=B.length?(V+=1,V<G.length&&($=0)):$<0&&(V-=1,V>=0&&($=B.length-1)),V=Vd(V,0,G.length-1);const Y=G[V];if(!Y)return;const Q=e.current.unstable_getCellColSpanInfo(Y.id,$);Q&&Q.spannedByColSpan&&(A==="left"||A==="below"?$=Q.leftVisibleCellIndex:A==="right"&&($=Q.rightVisibleCellIndex)),$=Vd($,0,B.length-1);const te=B[$];e.current.setCellFocus(Y.id,te.field)},[e,t.pagination,t.paginationMode]),g=_.useCallback(({id:P,field:L})=>{e.current.setCellFocus(P,L)},[e]),m=_.useCallback((P,L)=>{L.key==="Enter"||L.key==="Tab"||L.key==="Shift"||Ww(L.key)||e.current.setCellFocus(P.id,P.field)},[e]),y=_.useCallback(({field:P},L)=>{L.target===L.currentTarget&&e.current.setColumnHeaderFocus(P,L)},[e]),b=_.useCallback(({fields:P,depth:L},A)=>{if(A.target!==A.currentTarget)return;const $=tS(e);$!==null&&$.depth===L&&P.includes($.field)||e.current.setColumnGroupHeaderFocus(P[0],L,A)},[e]),v=_.useCallback((P,L)=>{L.relatedTarget?.getAttribute("class")?.includes(oe.columnHeader)||(n.debug("Clearing focus"),e.current.setState(A=>H({},A,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),S=_.useCallback(P=>{r.current=P},[]),E=_.useCallback(P=>{const L=r.current;r.current=null;const A=Gi(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:P,cell:L}))return;if(!A){L&&e.current.setCellFocus(L.id,L.field);return}L?.id===A.id&&L?.field===A.field||e.current.getCellElement(A.id,A.field)?.contains(P.target)||(L?e.current.setCellFocus(L.id,L.field):(e.current.setState(U=>H({},U,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),i(A,P)))},[e,i]),T=_.useCallback(P=>{if(P.cellMode==="view")return;const L=Gi(e);(L?.id!==P.id||L?.field!==P.field)&&e.current.setCellFocus(P.id,P.field)},[e]),R=_.useCallback(()=>{const P=Gi(e);if(P&&!e.current.getRow(P.id)){const L=P.id;let A=null;if(typeof L<"u"){const $=e.current.getRowElement(L),B=$?.dataset.rowindex?Number($?.dataset.rowindex):0,U=Af(e,{pagination:t.pagination,paginationMode:t.paginationMode});A=U.rows[Vd(B,0,U.rows.length-1)]?.id??null}e.current.setState($=>H({},$,{focus:{cell:A===null?null:{id:A,field:P.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),M=Vt(()=>{const P=Gi(e);if(!P)return;const L=Af(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(L.rows.find(B=>B.id===P.id)||L.rows.length===0)return;const $=eo(e);e.current.setState(B=>H({},B,{tabIndex:{cell:{id:L.rows[0].id,field:$[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),I={setCellFocus:s,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:c},N={moveFocusToRelativeCell:f,setColumnGroupHeaderFocus:d,getColumnGroupHeaderFocus:h};Cn(e,I,"public"),Cn(e,N,"private"),_.useEffect(()=>{const P=Zr(e.current.rootElementRef.current);return P.addEventListener("mouseup",E),()=>{P.removeEventListener("mouseup",E)}},[e,o,E]),Et(e,"columnHeaderBlur",v),Et(e,"cellDoubleClick",g),Et(e,"cellMouseDown",S),Et(e,"cellKeyDown",m),Et(e,"cellModeChange",T),Et(e,"columnHeaderFocus",y),Et(e,"columnGroupHeaderFocus",b),Et(e,"rowsSet",R),Et(e,"paginationModelChange",M)},KR=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e<n)return e+1}else if(!r&&e>t)return e-1;return null},qR=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e>t)return e-1}else if(!r&&e<n)return e+1;return null};function HVe(e,t,n,r){const o=Pf.selectors.hiddenCells(e.current.virtualizer.store.state);if(!o[t]?.[n])return t;const i=_2(e);let s=i.indexOf(t)+(r==="down"?1:-1);for(;s>=0&&s<i.length;){const a=i[s];if(!o[a]?.[n])return a;s+=r==="down"?1:-1}return t}const GVe=Gn(Mm,vm,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),WVe=(e,t)=>{const n=Yo(e,"useGridKeyboardNavigation"),r=Go(),o=_.useCallback(()=>GVe(e),[e]),i=t.signature!=="DataGrid"&&t.headerFilters,s=_.useCallback((v,S,E="left",T="up")=>{const R=su(e),M=e.current.unstable_getCellColSpanInfo(S,v);M&&M.spannedByColSpan&&(E==="left"?v=M.leftVisibleCellIndex:E==="right"&&(v=M.rightVisibleCellIndex));const I=wm(e)[v],N=HVe(e,S,v,T),P=R.findIndex(L=>L.id===N);n.debug(`Navigating to cell row ${P}, col ${v}`),e.current.scrollToIndexes({colIndex:v,rowIndex:P}),e.current.setCellFocus(N,I)},[e,n]),a=_.useCallback((v,S)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFocus(E,S)},[e,n]),c=_.useCallback((v,S)=>{n.debug(`Navigating to header filter col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFilterFocus(E,S)},[e,n]),d=_.useCallback((v,S,E)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const{field:T}=e.current.getVisibleColumns()[v];e.current.setColumnGroupHeaderFocus(T,S,E)},[e,n]),h=_.useCallback(v=>o()[v]?.id,[o]),f=_.useCallback((v,S)=>{const E=S.currentTarget.querySelector(`.${oe.columnHeaderTitleContainerContent}`);if(!!E&&E.contains(S.target)&&v.field!==_f.field)return;const R=o(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.length>0?0:null,P=R.length-1,L=0,A=eo(e).length-1,$=Rm(e);let B=!0;switch(S.key){case"ArrowDown":{i?c(I,S):N!==null&&s(I,h(N));break}case"ArrowRight":{const U=qR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});U!==null&&a(U,S);break}case"ArrowLeft":{const U=KR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});U!==null&&a(U,S);break}case"ArrowUp":{$>0&&d(I,$-1,S);break}case"PageDown":{N!==null&&P!==null&&s(I,h(Math.min(N+M,P)));break}case"Home":{a(L,S);break}case"End":{a(A,S);break}case"Enter":{(S.ctrlKey||S.metaKey)&&e.current.toggleColumnMenu(v.field);break}case" ":break;default:B=!1}B&&S.preventDefault()},[e,o,i,c,s,h,r,a,d]),g=_.useCallback((v,S)=>{const E=cAe(e)===v.field,T=uAe(e)===v.field;if(E||T||!Ww(S.key))return;const R=o(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=0,P=R.length-1,L=0,A=eo(e).length-1;let $=!0;switch(S.key){case"ArrowDown":{const B=h(N);B!=null&&s(I,B);break}case"ArrowRight":{const B=qR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});B!==null&&c(B,S);break}case"ArrowLeft":{const B=KR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});B!==null?c(B,S):e.current.setColumnHeaderFilterFocus(v.field,S);break}case"ArrowUp":{a(I,S);break}case"PageDown":{P!==null&&s(I,h(Math.min(N+M,P)));break}case"Home":{c(L,S);break}case"End":{c(A,S);break}case" ":break;default:$=!1}$&&S.preventDefault()},[e,o,c,r,a,s,h]),m=_.useCallback((v,S)=>{const E=tS(e);if(E===null)return;const{field:T,depth:R}=E,{fields:M,depth:I,maxDepth:N}=v,P=o(),L=e.current.getViewportPageSize(),A=e.current.getColumnIndex(T),$=T?e.current.getColumnIndex(T):0,B=0,U=P.length-1,K=0,G=eo(e).length-1;let V=!0;switch(S.key){case"ArrowDown":{I===N-1?a(A,S):d(A,R+1,S);break}case"ArrowUp":{I>0&&d(A,R-1,S);break}case"ArrowRight":{const Y=M.length-M.indexOf(T)-1;A+Y+1<=G&&d(A+Y+1,R,S);break}case"ArrowLeft":{const Y=M.indexOf(T);A-Y-1>=K&&d(A-Y-1,R,S);break}case"PageDown":{U!==null&&s($,h(Math.min(B+L,U)));break}case"Home":{d(K,R,S);break}case"End":{d(G,R,S);break}case" ":break;default:V=!1}V&&S.preventDefault()},[e,o,a,d,s,h]),y=_.useCallback((v,S)=>{if(km(S))return;const E=e.current.getCellParams(v.id,v.field);if(E.cellMode===Xn.Edit||!Ww(S.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:S,cell:E}))return;const R=o();if(R.length===0)return;const M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.findIndex(U=>U.id===v.id),P=0,L=R.length-1,A=0,$=eo(e).length-1;let B=!0;switch(S.key){case"ArrowDown":{N<L&&s(I,h(N+1),r?"right":"left","down");break}case"ArrowUp":{N>P?s(I,h(N-1)):i?c(I,S):a(I,S);break}case"ArrowRight":{const U=qR({currentColIndex:I,firstColIndex:A,lastColIndex:$,isRtl:r});U!==null&&s(U,h(N),r?"left":"right");break}case"ArrowLeft":{const U=KR({currentColIndex:I,firstColIndex:A,lastColIndex:$,isRtl:r});U!==null&&s(U,h(N),r?"right":"left");break}case"Tab":{S.shiftKey&&I>A?s(I-1,h(N),"left"):!S.shiftKey&&I<$&&s(I+1,h(N),"right");break}case" ":{if(v.field===CR)break;const K=v.colDef;if(K&&(K.field===oDe||KLe(K.field)))break;!S.shiftKey&&N<L&&s(I,h(Math.min(N+M,L)));break}case"PageDown":{N<L&&s(I,h(Math.min(N+M,L)));break}case"PageUp":{const U=Math.max(N-M,P);U!==N&&U>=P?s(I,h(U)):a(I,S);break}case"Home":{S.ctrlKey||S.metaKey||S.shiftKey?s(A,h(P)):s(A,h(N));break}case"End":{S.ctrlKey||S.metaKey||S.shiftKey?s($,h(L)):s($,h(N));break}default:B=!1}B&&S.preventDefault()},[e,o,r,s,h,i,c,a]),b=_.useCallback((v,{event:S})=>S.key===" "?!1:v,[]);Hr(e,"canStartEditing",b),Et(e,"columnHeaderKeyDown",f),Et(e,"headerFilterKeyDown",g),Et(e,"columnGroupHeaderKeyDown",m),Et(e,"cellKeyDown",y)},KVe=(e,t)=>{const n=Yo(e,"useGridRowCount"),r=tt(e,ER),o=tt(e,Cf),i=tt(e,Tm),s=tt(e,qo),a=cs(()=>qo(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Cf,changeEvent:"rowCountChange"});const d={setRowCount:_.useCallback(y=>{o!==y&&(n.debug("Setting 'rowCount' to",y),e.current.setState(b=>H({},b,{pagination:H({},b.pagination,{rowCount:y})})))},[e,n,o])};Cn(e,d,"public");const h=_.useCallback((y,b)=>{const v=Cf(e);return!b.exportOnlyDirtyModels||t.rowCount!=null||t.initialState?.pagination?.rowCount!=null?H({},y,{pagination:H({},y.pagination,{rowCount:v})}):y},[e,t.rowCount,t.initialState?.pagination?.rowCount]),f=_.useCallback((y,b)=>{const v=b.stateToRestore.pagination?.rowCount?b.stateToRestore.pagination.rowCount:Cf(e);return e.current.setState(S=>H({},S,{pagination:H({},S.pagination,{rowCount:v})})),y},[e]);Hr(e,"exportState",h),Hr(e,"restoreState",f);const g=_.useCallback(y=>{t.paginationMode==="client"||!a.current||y.pageSize!==a.current&&(a.current=y.pageSize,o===-1&&e.current.setPage(0))},[t.paginationMode,a,o,e]);Et(e,"paginationModelChange",g),_.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(r):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,r,t.rowCount]);const m=i.hasNextPage===!1;_.useEffect(()=>{m&&o===-1&&e.current.setRowCount(s.pageSize*s.page+r)},[e,r,m,o,s])},qVe=(e,t)=>{const n=Yo(e,"useGridPaginationMeta"),r=tt(e,Tm);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:Tm,changeEvent:"paginationMetaChange"});const i={setPaginationMeta:_.useCallback(c=>{r!==c&&(n.debug("Setting 'paginationMeta' to",c),e.current.setState(d=>H({},d,{pagination:H({},d.pagination,{meta:c})})))},[e,n,r])};Cn(e,i,"public");const s=_.useCallback((c,d)=>{const h=Tm(e);return!d.exportOnlyDirtyModels||t.paginationMeta!=null||t.initialState?.pagination?.meta!=null?H({},c,{pagination:H({},c.pagination,{meta:h})}):c},[e,t.paginationMeta,t.initialState?.pagination?.meta]),a=_.useCallback((c,d)=>{const h=d.stateToRestore.pagination?.meta?d.stateToRestore.pagination.meta:Tm(e);return e.current.setState(f=>H({},f,{pagination:H({},f.pagination,{meta:h})})),c},[e]);Hr(e,"exportState",s),Hr(e,"restoreState",a),_.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},YVe=(e,t)=>{const n=H({},k2(t.autoPageSize),t.paginationModel??t.initialState?.pagination?.paginationModel);D2(n.pageSize,t.signature);const r=t.rowCount??t.initialState?.pagination?.rowCount??(t.paginationMode==="client"?e.rows?.totalRowCount:void 0),o=t.paginationMeta??t.initialState?.pagination?.meta??{};return H({},e,{pagination:H({},e.pagination,{paginationModel:n,rowCount:r,meta:o,enabled:t.pagination===!0,paginationMode:t.paginationMode})})},XVe=(e,t)=>{qVe(e,t),AVe(e,t),KVe(e,t)},ZVe=(e,t)=>H({},e,{preferencePanel:t.initialState?.preferencePanel??{open:!1}}),QVe=(e,t)=>{const n=Yo(e,"useGridPreferencesPanel"),r=_.useCallback(()=>{e.current.setState(a=>{if(!a.preferencePanel.open)return a;n.debug("Hiding Preferences Panel");const c=Wd(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:c.openedPanelValue}),H({},a,{preferencePanel:{open:!1}})})},[e,n]),o=_.useCallback((a,c,d)=>{n.debug("Opening Preferences Panel"),e.current.setState(h=>H({},h,{preferencePanel:H({},h.preferencePanel,{open:!0,openedPanelValue:a,panelId:c,labelId:d})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:a})},[n,e]);Cn(e,{showPreferences:o,hidePreferences:r},"public");const i=_.useCallback((a,c)=>{const d=Wd(e);return!c.exportOnlyDirtyModels||t.initialState?.preferencePanel!=null||d.open?H({},a,{preferencePanel:d}):a},[e,t.initialState?.preferencePanel]),s=_.useCallback((a,c)=>{const d=c.stateToRestore.preferencePanel;return d!=null&&e.current.setState(h=>H({},h,{preferencePanel:d})),a},[e]);Hr(e,"exportState",i),Hr(e,"restoreState",s)},YR=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},JVe=["id","field"],e$e=["id","field"],t$e=(e,t)=>{const[n,r]=_.useState({}),o=_.useRef(n),i=_.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:d}=t,h=G=>(...V)=>{t.editMode===fl.Cell&&G(...V)},f=_.useCallback((G,V)=>{const Y=e.current.getCellParams(G,V);if(!e.current.isCellEditable(Y))throw new Error(`MUI X: The cell with id=${G} and field=${V} is not editable.`)},[e]),g=_.useCallback((G,V,Y)=>{if(e.current.getCellMode(G,V)!==Y)throw new Error(`MUI X: The cell with id=${G} and field=${V} is not in ${Y} mode.`)},[e]),m=_.useCallback((G,V)=>{if(!G.isEditable||G.cellMode===Xn.Edit)return;const Y=H({},G,{reason:tc.cellDoubleClick});e.current.publishEvent("cellEditStart",Y,V)},[e]),y=_.useCallback((G,V)=>{if(G.cellMode===Xn.View||e.current.getCellMode(G.id,G.field)===Xn.View)return;const Y=H({},G,{reason:Qs.cellFocusOut});e.current.publishEvent("cellEditStop",Y,V)},[e]),b=_.useCallback((G,V)=>{if(G.cellMode===Xn.Edit){if(V.which===229)return;let Y;if(V.key==="Escape"?Y=Qs.escapeKeyDown:V.key==="Enter"?Y=Qs.enterKeyDown:V.key==="Tab"&&(Y=V.shiftKey?Qs.shiftTabKeyDown:Qs.tabKeyDown,V.preventDefault()),Y){const Q=H({},G,{reason:Y});e.current.publishEvent("cellEditStop",Q,V)}}else if(G.isEditable){let Y;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:V,cellParams:G,editMode:"cell"}))return;if(p2(V)?Y=tc.printableKeyDown:m2(V)?Y=tc.pasteKeyDown:V.key==="Enter"?Y=tc.enterKeyDown:(V.key==="Backspace"||V.key==="Delete")&&(Y=tc.deleteKeyDown),Y){const te=H({},G,{reason:Y,key:V.key});e.current.publishEvent("cellEditStart",te,V)}}},[e]),v=_.useCallback(G=>{const{id:V,field:Y,reason:Q}=G,te={id:V,field:Y};(Q===tc.printableKeyDown||Q===tc.deleteKeyDown||Q===tc.pasteKeyDown)&&(te.deleteValue=!0),e.current.startCellEditMode(te)},[e]),S=_.useCallback(G=>{const{id:V,field:Y,reason:Q}=G;e.current.runPendingEditCellValueMutation(V,Y);let te;Q===Qs.enterKeyDown?te="below":Q===Qs.tabKeyDown?te="right":Q===Qs.shiftTabKeyDown&&(te="left");const z=Q==="escapeKeyDown";e.current.stopCellEditMode({id:V,field:Y,ignoreModifications:z,cellToFocusAfter:te})},[e]),E=G=>async(...V)=>{if(G){const{id:Y,field:Q}=V[0];e.current.state.editRows[Y][Q]?.error||G(...V)}};Et(e,"cellDoubleClick",h(m)),Et(e,"cellFocusOut",h(y)),Et(e,"cellKeyDown",h(b)),Et(e,"cellEditStart",h(v)),Et(e,"cellEditStop",h(S)),hr(e,"cellEditStart",t.onCellEditStart),hr(e,"cellEditStop",E(t.onCellEditStop));const T=_.useCallback((G,V)=>{const Y=Bo(e);return Y[G]&&Y[G][V]?Xn.Edit:Xn.View},[e]),R=Vt(G=>{const V=G!==t.cellModesModel;d&&V&&d(G,{api:e.current}),!(t.cellModesModel&&V)&&(r(G),o.current=G,e.current.publishEvent("cellModesModelChange",G))}),M=_.useCallback((G,V,Y)=>{const Q=H({},o.current);if(Y!==null)Q[G]=H({},Q[G],{[V]:H({},Y)});else{const te=Q[G],z=gt(te,[V].map(Fm));Q[G]=z,Object.keys(Q[G]).length===0&&delete Q[G]}R(Q)},[R]),I=_.useCallback((G,V,Y)=>{e.current.setState(Q=>{const te=H({},Q.editRows);return Y!==null?te[G]=H({},te[G],{[V]:H({},Y)}):(delete te[G][V],Object.keys(te[G]).length===0&&delete te[G]),H({},Q,{editRows:te})})},[e]),N=_.useCallback(G=>{const{id:V,field:Y}=G,Q=gt(G,JVe);f(V,Y),g(V,Y,Xn.View),M(V,Y,H({mode:Xn.Edit},Q))},[f,g,M]),P=Vt(async G=>{const{id:V,field:Y,deleteValue:Q,initialValue:te}=G,z=e.current.getCellValue(V,Y);let W=z;Q?W=YR(e.current.getColumn(Y)):te&&(W=te);const Z=e.current.getColumn(Y),le=!!Z.preProcessEditCellProps&&Q;let ue={value:W,error:!1,isProcessingProps:le};if(I(V,Y,ue),e.current.setCellFocus(V,Y),le&&(ue=await Promise.resolve(Z.preProcessEditCellProps({id:V,row:e.current.getRow(V),props:ue,hasChanged:W!==z})),e.current.getCellMode(V,Y)===Xn.Edit)){const ce=Bo(e);I(V,Y,H({},ue,{value:ce[V][Y].value,isProcessingProps:!1}))}}),L=_.useCallback(G=>{const{id:V,field:Y}=G,Q=gt(G,e$e);g(V,Y,Xn.Edit),M(V,Y,H({mode:Xn.View},Q))},[g,M]),A=Vt(async G=>{const{id:V,field:Y,ignoreModifications:Q,cellToFocusAfter:te="none"}=G;g(V,Y,Xn.Edit),e.current.runPendingEditCellValueMutation(V,Y);const z=()=>{I(V,Y,null),M(V,Y,null),te!=="none"&&e.current.moveFocusToRelativeCell(V,Y,te)};if(Q){z();return}const W=Bo(e),{error:Z,isProcessingProps:le}=W[V][Y],ue=e.current.getRow(V);if(Z||le){i.current[V][Y].mode=Xn.Edit,M(V,Y,{mode:Xn.Edit});return}const ce=e.current.getRowWithUpdatedValuesFromCellEditing(V,Y);if(t.dataSource?.updateRow){if(na(ue,ce)){z();return}const se=()=>{i.current[V][Y].mode=Xn.Edit,M(V,Y,{mode:Xn.Edit})},ve={rowId:V,updatedRow:ce,previousRow:ue};try{await e.current.dataSource.editRow(ve),z()}catch{se()}}else if(s){const se=ve=>{i.current[V][Y].mode=Xn.Edit,M(V,Y,{mode:Xn.Edit}),a&&a(ve)};try{Promise.resolve(s(ce,ue,{rowId:V})).then(ve=>{e.current.updateRows([ve]),z()}).catch(se)}catch(ve){se(ve)}}else e.current.updateRows([ce]),z()}),$=_.useCallback(async G=>{const{id:V,field:Y,value:Q,debounceMs:te,unstable_skipValueParser:z}=G;f(V,Y),g(V,Y,Xn.Edit);const W=e.current.getColumn(Y),Z=e.current.getRow(V);let le=Q;W.valueParser&&!z&&(le=W.valueParser(Q,Z,W,e));let ue=Bo(e),ce=H({},ue[V][Y],{value:le,changeReason:te?"debouncedSetEditCellValue":"setEditCellValue"});if(W.preProcessEditCellProps){const se=Q!==ue[V][Y].value;ce=H({},ce,{isProcessingProps:!0}),I(V,Y,ce),ce=await Promise.resolve(W.preProcessEditCellProps({id:V,row:Z,props:ce,hasChanged:se}))}return e.current.getCellMode(V,Y)===Xn.View?!1:(ue=Bo(e),ce=H({},ce,{isProcessingProps:!1}),ce.value=W.preProcessEditCellProps?ue[V][Y].value:le,I(V,Y,ce),ue=Bo(e),!ue[V]?.[Y]?.error)},[e,f,g,I]),B=_.useCallback((G,V)=>{const Y=e.current.getColumn(V),Q=Bo(e),te=e.current.getRow(G);if(!Q[G]||!Q[G][V])return e.current.getRow(G);const{value:z}=Q[G][V];return Y.valueSetter?Y.valueSetter(z,te,Y,e):H({},te,{[V]:z})},[e]),U={getCellMode:T,startCellEditMode:N,stopCellEditMode:L},K={setCellEditingEditCellValue:$,getRowWithUpdatedValuesFromCellEditing:B};Cn(e,U,"public"),Cn(e,K,"private"),_.useEffect(()=>{c&&R(c)},[c,R]),Hn(()=>{const G=Xs(e),V=i.current;i.current=YG(n),Object.entries(n).forEach(([Y,Q])=>{Object.entries(Q).forEach(([te,z])=>{const W=V[Y]?.[te]?.mode||Xn.View,Z=G[Y]?e.current.getRowId(G[Y]):Y;z.mode===Xn.Edit&&W===Xn.View?P(H({id:Z,field:te},z)):z.mode===Xn.View&&W===Xn.Edit&&A(H({id:Z,field:te},z))})})},[e,n,P,A])},n$e=["id"],r$e=["id"],o$e=(e,t)=>{const[n,r]=_.useState({}),o=_.useRef(n),i=_.useRef({}),s=_.useRef({}),a=_.useRef(void 0),c=_.useRef(null),{processRowUpdate:d,onProcessRowUpdateError:h,rowModesModel:f,onRowModesModelChange:g}=t,m=z=>(...W)=>{t.editMode===fl.Row&&z(...W)},y=_.useCallback((z,W)=>{const Z=e.current.getCellParams(z,W);if(!e.current.isCellEditable(Z))throw new Error(`MUI X: The cell with id=${z} and field=${W} is not editable.`)},[e]),b=_.useCallback((z,W)=>{if(e.current.getRowMode(z)!==W)throw new Error(`MUI X: The row with id=${z} is not in ${W} mode.`)},[e]),v=_.useCallback(z=>{const W=Bo(e);return Object.values(W[z]).some(Z=>Z.error)},[e]),S=_.useCallback((z,W)=>{if(!z.isEditable||e.current.getRowMode(z.id)===Er.Edit)return;const Z=e.current.getRowParams(z.id),le=H({},Z,{field:z.field,reason:ou.cellDoubleClick});e.current.publishEvent("rowEditStart",le,W)},[e]),E=_.useCallback(z=>{c.current=z},[]),T=_.useCallback((z,W)=>{z.isEditable&&e.current.getRowMode(z.id)!==Er.View&&(c.current=null,a.current=setTimeout(()=>{if(c.current?.id!==z.id){if(!e.current.getRow(z.id)||e.current.getRowMode(z.id)===Er.View||v(z.id))return;const Z=e.current.getRowParams(z.id),le=H({},Z,{field:z.field,reason:pl.rowFocusOut});e.current.publishEvent("rowEditStop",le,W)}}))},[e,v]);_.useEffect(()=>()=>{clearTimeout(a.current)},[]);const R=_.useCallback((z,W)=>{if(z.cellMode===Er.Edit){if(W.which===229)return;let Z;if(W.key==="Escape")Z=pl.escapeKeyDown;else if(W.key==="Enter")Z=pl.enterKeyDown;else if(W.key==="Tab"){const le=wm(e).filter(ue=>e.current.getColumn(ue).type===Yw?!0:e.current.isCellEditable(e.current.getCellParams(z.id,ue)));if(W.shiftKey?z.field===le[0]&&(Z=pl.shiftTabKeyDown):z.field===le[le.length-1]&&(Z=pl.tabKeyDown),W.preventDefault(),!Z){const ue=le.findIndex(se=>se===z.field),ce=le[W.shiftKey?ue-1:ue+1];e.current.setCellFocus(z.id,ce)}}if(Z){if(Z!==pl.escapeKeyDown&&v(z.id))return;const le=H({},e.current.getRowParams(z.id),{reason:Z,field:z.field});e.current.publishEvent("rowEditStop",le,W)}}else if(z.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:W,cellParams:z,editMode:"row"}))return;if(p2(W)||m2(W)?Z=ou.printableKeyDown:W.key==="Enter"?Z=ou.enterKeyDown:(W.key==="Backspace"||W.key==="Delete")&&(Z=ou.deleteKeyDown),Z){const ue=e.current.getRowParams(z.id),ce=H({},ue,{field:z.field,reason:Z});e.current.publishEvent("rowEditStart",ce,W)}}},[e,v]),M=_.useCallback(z=>{const{id:W,field:Z,reason:le}=z,ue={id:W,fieldToFocus:Z};(le===ou.printableKeyDown||le===ou.deleteKeyDown)&&(ue.deleteValue=!!Z),e.current.startRowEditMode(ue)},[e]),I=_.useCallback(z=>{const{id:W,reason:Z,field:le}=z;e.current.runPendingEditCellValueMutation(W);let ue;Z===pl.enterKeyDown?ue="below":Z===pl.tabKeyDown?ue="right":Z===pl.shiftTabKeyDown&&(ue="left");const ce=Z==="escapeKeyDown";e.current.stopRowEditMode({id:W,ignoreModifications:ce,field:le,cellToFocusAfter:ue})},[e]);Et(e,"cellDoubleClick",m(S)),Et(e,"cellFocusIn",m(E)),Et(e,"cellFocusOut",m(T)),Et(e,"cellKeyDown",m(R)),Et(e,"rowEditStart",m(M)),Et(e,"rowEditStop",m(I)),hr(e,"rowEditStart",t.onRowEditStart),hr(e,"rowEditStop",t.onRowEditStop);const N=_.useCallback(z=>e5(e,{rowId:z,editMode:t.editMode})?Er.Edit:Er.View,[e,t.editMode]),P=Vt(z=>{const W=z!==t.rowModesModel;g&&W&&g(z,{api:e.current}),!(t.rowModesModel&&W)&&(r(z),o.current=z,e.current.publishEvent("rowModesModelChange",z))}),L=_.useCallback((z,W)=>{const Z=H({},o.current);W!==null?Z[z]=H({},W):delete Z[z],P(Z)},[P]),A=_.useCallback((z,W)=>{e.current.setState(Z=>{const le=H({},Z.editRows);return W!==null?le[z]=W:delete le[z],H({},Z,{editRows:le})})},[e]),$=_.useCallback((z,W,Z)=>{e.current.setState(le=>{const ue=H({},le.editRows);return Z!==null?ue[z]=H({},ue[z],{[W]:H({},Z)}):(delete ue[z][W],Object.keys(ue[z]).length===0&&delete ue[z]),H({},le,{editRows:ue})})},[e]),B=_.useCallback(z=>{const{id:W}=z,Z=gt(z,n$e);b(W,Er.View),L(W,H({mode:Er.Edit},Z))},[b,L]),U=Vt(z=>{const{id:W,fieldToFocus:Z,deleteValue:le,initialValue:ue}=z,ce=e.current.getRow(W),se=Js(e),ve=se.reduce((Te,Se)=>{const he=Se.field;if(!e.current.getCellParams(W,he).isEditable)return Te;const we=e.current.getColumn(he);let _e=e.current.getCellValue(W,he);return Z===he&&(le||ue)&&(le?_e=YR(we):ue&&(_e=ue)),Te[he]={value:_e,error:!1,isProcessingProps:we.editable&&!!we.preProcessEditCellProps&&le},Te},{});s.current[W]=ce,A(W,ve),Z&&e.current.setCellFocus(W,Z),se.filter(Te=>e.current.getCellParams(W,Te.field).isEditable&&Te.editable&&!!Te.preProcessEditCellProps&&le).forEach(Te=>{const Se=Te.field,he=e.current.getCellValue(W,Se),pe=le?YR(Te):ue??he;Promise.resolve(Te.preProcessEditCellProps({id:W,row:ce,props:ve[Se],hasChanged:pe!==he})).then(we=>{if(e.current.getRowMode(W)===Er.Edit){const _e=Bo(e);$(W,Se,H({},we,{value:_e[W][Se].value,isProcessingProps:!1}))}})})}),K=_.useCallback(z=>{const{id:W}=z,Z=gt(z,r$e);b(W,Er.Edit),L(W,H({mode:Er.View},Z))},[b,L]),G=Vt(async z=>{const{id:W,ignoreModifications:Z,field:le,cellToFocusAfter:ue="none"}=z;e.current.runPendingEditCellValueMutation(W);const ce=()=>{ue!=="none"&&le&&e.current.moveFocusToRelativeCell(W,le,ue),A(W,null),L(W,null),delete s.current[W]};if(Z){ce();return}const se=Bo(e),ve=s.current[W];if(Object.values(se[W]).some(he=>he.isProcessingProps)){i.current[W].mode=Er.Edit;return}if(v(W)){i.current[W].mode=Er.Edit,L(W,{mode:Er.Edit});return}const Se=e.current.getRowWithUpdatedValuesFromRowEditing(W);if(t.dataSource?.updateRow){if(na(ve,Se)){ce();return}const he=()=>{i.current[W].mode=Er.Edit,L(W,{mode:Er.Edit})},pe={rowId:W,updatedRow:Se,previousRow:ve};try{await e.current.dataSource.editRow(pe),ce()}catch{he()}}else if(d){const he=pe=>{i.current[W]&&(i.current[W].mode=Er.Edit,L(W,{mode:Er.Edit})),h&&h(pe)};try{Promise.resolve(d(Se,ve,{rowId:W})).then(pe=>{e.current.updateRows([pe]),ce()}).catch(he)}catch(pe){he(pe)}}else e.current.updateRows([Se]),ce()}),V=_.useCallback(z=>{const{id:W,field:Z,value:le,debounceMs:ue,unstable_skipValueParser:ce}=z;y(W,Z);const se=e.current.getColumn(Z),ve=e.current.getRow(W);let Te=le;se.valueParser&&!ce&&(Te=se.valueParser(le,ve,se,e));let Se=Bo(e),he=H({},Se[W][Z],{value:Te,changeReason:ue?"debouncedSetEditCellValue":"setEditCellValue"});return se.preProcessEditCellProps||$(W,Z,he),new Promise(pe=>{const we=[];if(se.preProcessEditCellProps){const _e=he.value!==Se[W][Z].value;he=H({},he,{isProcessingProps:!0}),$(W,Z,he);const De=Se[W],Ee=gt(De,[Z].map(Fm)),Fe=Promise.resolve(se.preProcessEditCellProps({id:W,row:ve,props:he,hasChanged:_e,otherFieldsProps:Ee})).then(Je=>{if(e.current.getRowMode(W)===Er.View){pe(!1);return}Se=Bo(e),Je=H({},Je,{isProcessingProps:!1}),Je.value=se.preProcessEditCellProps?Se[W][Z].value:Te,$(W,Z,Je)});we.push(Fe)}Object.entries(Se[W]).forEach(([_e,De])=>{if(_e===Z)return;const Ee=e.current.getColumn(_e);if(!Ee.preProcessEditCellProps)return;De=H({},De,{isProcessingProps:!0}),$(W,_e,De),Se=Bo(e);const Fe=Se[W],Je=gt(Fe,[_e].map(Fm)),Be=Promise.resolve(Ee.preProcessEditCellProps({id:W,row:ve,props:De,hasChanged:!1,otherFieldsProps:Je})).then(Ot=>{if(e.current.getRowMode(W)===Er.View){pe(!1);return}Ot=H({},Ot,{isProcessingProps:!1}),$(W,_e,Ot)});we.push(Be)}),Promise.all(we).then(()=>{e.current.getRowMode(W)===Er.Edit?(Se=Bo(e),pe(!Se[W][Z].error)):pe(!1)})})},[e,y,$]),Y=_.useCallback(z=>{const W=Bo(e),Z=e.current.getRow(z);if(!W[z])return e.current.getRow(z);let le=H({},s.current[z],Z);return Object.entries(W[z]).forEach(([ue,ce])=>{const se=e.current.getColumn(ue);se?.valueSetter?le=se.valueSetter(ce.value,le,se,e):le[ue]=ce.value}),le},[e]),Q={getRowMode:N,startRowEditMode:B,stopRowEditMode:K},te={setRowEditingEditCellValue:V,getRowWithUpdatedValuesFromRowEditing:Y};Cn(e,Q,"public"),Cn(e,te,"private"),_.useEffect(()=>{f&&P(f)},[f,P]),Hn(()=>{const z=Xs(e),W=i.current;i.current=YG(n);const Z=new Set([...Object.keys(n),...Object.keys(W)]);Array.from(Z).forEach(le=>{const ue=n[le]??{mode:Er.View},ce=W[le]?.mode||Er.View,se=z[le]?e.current.getRowId(z[le]):le;ue.mode===Er.Edit&&ce===Er.View?U(H({id:se},ue)):ue.mode===Er.View&&ce===Er.Edit&&G(H({id:se},ue))})},[e,n,U,G])},i$e=e=>H({},e,{editRows:{}}),s$e=(e,t)=>{t$e(e,t),o$e(e,t);const n=_.useRef({}),{isCellEditable:r}=t,o=_.useCallback(g=>yf(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:r?r(g):!0,[r]),i=(g,m,y,b)=>{if(!y){b();return}if(n.current[g]||(n.current[g]={}),n.current[g][m]){const[E]=n.current[g][m];clearTimeout(E)}const v=()=>{const[E]=n.current[g][m];clearTimeout(E),b(),delete n.current[g][m]},S=setTimeout(()=>{b(),delete n.current[g][m]},y);n.current[g][m]=[S,v]};_.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([m,y])=>{Object.keys(y).forEach(b=>{const[v]=g[m][b];clearTimeout(v),delete g[m][b]})})}},[]);const s=_.useCallback((g,m)=>{if(n.current[g]){if(!m)Object.keys(n.current[g]).forEach(y=>{const[,b]=n.current[g][y];b()});else if(n.current[g][m]){const[,y]=n.current[g][m];y()}}},[]),a=_.useCallback(g=>{const{id:m,field:y,debounceMs:b}=g;return new Promise(v=>{i(m,y,b,async()=>{const S=t.editMode===fl.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(m,y)===Xn.Edit){const E=await S(g);v(E)}})})},[e,t.editMode]),c=_.useCallback((g,m)=>t.editMode===fl.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,m):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),d=_.useCallback((g,m)=>Bo(e)[g]?.[m]??null,[e]),h={isCellEditable:o,setEditCellValue:a,getRowWithUpdatedValues:c,unstable_getEditCellMeta:d},f={runPendingEditCellValueMutation:s};Cn(e,h,"public"),Cn(e,f,"private")},a$e=(e,t,n)=>{const r=!!t.dataSource;return n.current.caches.rows=$w({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),H({},e,{rows:AG({apiRef:n,rowCountProp:t.rowCount,loadingProp:r?!0:t.loading,previousTree:null,previousTreeDepths:null})})},l$e=(e,t,n)=>{const r=Yo(e,"useGridRows"),o=_.useRef(Date.now()),i=_.useRef(t.rowCount),s=Vi(),{setRowIndex:a}=n.hooks.useGridRowsOverridableMethods(e,t),c=_.useCallback(V=>{const Y=Xs(e)[V];if(Y)return Y;const Q=dl(e,V);return Q&&yf(Q)?{[jd]:V}:null},[e]),d=_.useCallback(V=>xf(e,V),[e]),h=_.useCallback(({cache:V,throttle:Y})=>{const Q=()=>{o.current=Date.now(),e.current.setState(z=>H({},z,{rows:AG({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Ko(e),previousTreeDepths:PG(e),previousGroupsToFetch:ZPe(e)})})),e.current.publishEvent("rowsSet")};if(s.clear(),e.current.caches.rows=V,!Y){Q();return}const te=t.throttleRowsMs-(Date.now()-o.current);if(te>0){s.start(te,Q);return}Q()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),f=_.useCallback(V=>{if(r.debug(`Updating all rows, new length ${V.length}`),Gd(e)){e.current.updateNonPivotRows(V,!1);return}const Y=$w({rows:V,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),Q=e.current.caches.rows;Y.rowsBeforePartialUpdates=Q.rowsBeforePartialUpdates,h({cache:Y,throttle:!0})},[r,t.getRowId,t.loading,t.rowCount,h,e]),g=_.useCallback(V=>{if(t.signature===Oa.DataGrid&&V.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Gd(e)){e.current.updateNonPivotRows(V);return}const Y=FG(e,V,t.getRowId),Q=NG({updates:Y,getRowId:t.getRowId,previousCache:e.current.caches.rows});h({cache:Q,throttle:!0})},[t.signature,t.getRowId,h,e]),m=_.useCallback((V,Y)=>{const Q=FG(e,V,t.getRowId),te=NG({updates:Q,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:Y??[]});h({cache:te,throttle:!1})},[t.getRowId,h,e]),y=_.useCallback(V=>{r.debug(`Setting loading to ${V}`),e.current.setState(Y=>H({},Y,{rows:H({},Y.rows,{loading:V})})),e.current.caches.rows.loadingPropBeforePartialUpdates=V},[e,r]),b=_.useCallback(()=>{const V=Fd(e),Y=Xs(e);return new Map(V.map(Q=>[Q,Y[Q]??{}]))},[e]),v=_.useCallback(()=>vf(e),[e]),S=_.useCallback(()=>Fd(e),[e]),E=_.useCallback(V=>{const{rowIdToIndexMap:Y}=Af(e);return Y.get(V)},[e]),T=_.useCallback((V,Y)=>{const Q=dl(e,V);if(!Q)throw new Error(`MUI X: No row with id #${V} found.`);if(Q.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const te=H({},Q,{childrenExpanded:Y});e.current.setState(z=>H({},z,{rows:H({},z.rows,{tree:H({},z.rows.tree,{[V]:te})})})),e.current.publishEvent("rowExpansionChange",te)},[e]),R=_.useCallback(V=>dl(e,V)??null,[e]),M=_.useCallback(({skipAutoGeneratedRows:V=!0,groupId:Y,applySorting:Q,applyFiltering:te,directChildrenOnly:z=!1})=>{const W=Ko(e);let Z;if(Q){const le=W[Y];if(!le)return[];const ue=xm(e);Z=[];const ce=ue.findIndex(se=>se===Y)+1;for(let se=ce;se<ue.length&&(z?W[ue[se]].depth===le.depth+1:W[ue[se]].depth>le.depth);se+=1){const ve=ue[se];(!V||!yf(W[ve]))&&Z.push(ve)}}else Z=pR(W,Y,V,z);if(te){const le=wf(e);Z=Zw(le)?Z:Z.filter(ue=>le[ue]!==!1)}return Z},[e]),I=_.useCallback((V,Y)=>{if(t.signature===Oa.DataGrid&&Y.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Y.length===0)return;if(mm(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const te=H({},Ko(e)),z=H({},Xs(e)),W=te[Lo],Z=[...W.children],le=new Set;for(let ce=0;ce<Y.length;ce+=1){const se=Y[ce],ve=Vw(se,t.getRowId,"A row was provided without id when calling replaceRows()."),[Te]=Z.splice(V+ce,1,ve);le.has(Te)||(delete z[Te],delete te[Te]);const Se={id:ve,depth:0,parent:Lo,type:"leaf",groupingKey:null};z[ve]=se,te[ve]=Se,le.add(ve)}te[Lo]=H({},W,{children:Z});const ue=Z.filter(ce=>te[ce]?.type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=z,e.current.setState(ce=>H({},ce,{rows:H({},ce.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,Z.length),dataRowIdToModelLookup:z,dataRowIds:ue,tree:te})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),N={getRow:c,setLoading:y,getRowId:d,getRowModels:b,getRowsCount:v,getAllRowIds:S,setRows:f,updateRows:g,getRowNode:R,getRowIndexRelativeToVisibleRows:E,unstable_replaceRows:I},P={setRowIndex:a,setRowChildrenExpansion:T,getRowGroupChildren:M},L={updateNestedRows:m},A=_.useCallback(()=>{r.info("Row grouping pre-processing have changed, regenerating the row tree");let V;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?V=H({},e.current.caches.rows,{updates:{type:"full",rows:Fd(e)}}):V=$w({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),h({cache:V,throttle:!1})},[r,e,t.rows,t.getRowId,t.loading,t.rowCount,h]),$=cs(()=>t.dataSource),B=_.useCallback(V=>{if(t.dataSource&&t.dataSource!==$.current){$.current=t.dataSource;return}V==="rowTreeCreation"&&A()},[A,$,t.dataSource]),U=_.useCallback(()=>{e.current.getActiveStrategy(uu.RowTree)!==QPe(e)&&A()},[e,A]);Et(e,"activeStrategyProcessorChange",B),Et(e,"strategyAvailabilityChange",U);const K=_.useCallback(()=>{e.current.setState(V=>{const Y=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Ko(e),treeDepths:PG(e),dataRowIds:Fd(e),dataRowIdToModelLookup:Xs(e)});return H({},V,{rows:H({},V.rows,Y,{totalTopLevelRowCount:DG({tree:Y.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);HR(e,"hydrateRows",K),Cn(e,N,"public"),Cn(e,P,t.signature===Oa.DataGrid?"private":"public"),Cn(e,L,"private");const G=_.useRef(!0);_.useEffect(()=>{if(G.current){G.current=!1;return}let V=!1;t.rowCount!==i.current&&(V=!0,i.current=t.rowCount);const Y=t.dataSource?JPe(e):t.rows,Q=e.current.caches.rows.rowsBeforePartialUpdates===Y,te=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,z=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;Q&&(te||(e.current.setState(W=>H({},W,{rows:H({},W.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),z||(e.current.setState(W=>H({},W,{rows:H({},W.rows,{totalRowCount:Math.max(t.rowCount||0,W.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,W.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),!V)||(r.debug(`Updating all rows, new length ${Y?.length}`),h({cache:$w({rows:Y,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,r,h,e])},c$e=e=>{const t={[Lo]:H({},tke(),{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:Lo,type:"leaf",groupingKey:null}}return{groupingName:qd,tree:t,treeDepths:{0:e.length},dataRowIds:e}},u$e=({previousTree:e,actions:t})=>{const n=H({},e),r={};for(let s=0;s<t.remove.length;s+=1){const a=t.remove[s];r[a]=!0,delete n[a]}for(let s=0;s<t.insert.length;s+=1){const a=t.insert[s];n[a]={id:a,depth:0,parent:Lo,type:"leaf",groupingKey:null}}const o=n[Lo];let i=[...o.children,...t.insert];return Object.values(r).length&&(i=i.filter(s=>!r[s])),n[Lo]=H({},o,{children:i}),{groupingName:qd,tree:n,treeDepths:{0:i.length},dataRowIds:i}},d$e=e=>e.updates.type==="full"?c$e(e.updates.rows):u$e({previousTree:e.previousTree,actions:e.updates.actions}),h$e=e=>{jm(e,qd,"rowTreeCreation",d$e)};class XR extends Error{}function f$e(e,t){const n=_.useCallback(y=>({field:y,colDef:e.current.getColumn(y)}),[e]),r=_.useCallback(y=>{const b=e.current.getRow(y);if(!b)throw new XR(`No row with id #${y} found`);return{id:y,columns:e.current.getAllColumns(),row:b}},[e]),o=_.useCallback((y,b,v,{cellMode:S,colDef:E,hasFocus:T,rowNode:R,tabIndex:M})=>{const I=v[b],N=E?.valueGetter?E.valueGetter(I,v,E,e):I,P={id:y,field:b,row:v,rowNode:R,colDef:E,cellMode:S,hasFocus:T,tabIndex:M,value:N,formattedValue:N,isEditable:!1,api:e.current};return E&&E.valueFormatter&&(P.formattedValue=E.valueFormatter(N,v,E,e)),P.isEditable=E&&e.current.isCellEditable(P),P},[e]),i=_.useCallback((y,b)=>{const v=e.current.getRow(y),S=dl(e,y);if(!v||!S)throw new XR(`No row with id #${y} found`);const E=Gi(e),T=OR(e),R=e.current.getCellMode(y,b);return e.current.getCellParamsForRow(y,b,v,{colDef:t.listView&&t.listViewColumn?.field===b?n2(e):e.current.getColumn(b),rowNode:S,hasFocus:E!==null&&E.field===b&&E.id===y,tabIndex:T&&T.field===b&&T.id===y?0:-1,cellMode:R})},[e,t.listView,t.listViewColumn?.field]),s=_.useCallback((y,b)=>{const v=e.current.getColumn(b),S=e.current.getRow(y);if(!S)throw new XR(`No row with id #${y} found`);return!v||!v.valueGetter?S[b]:v.valueGetter(S[v.field],S,v,e)},[e]),a=_.useCallback((y,b)=>rke(y,b,e),[e]),c=_.useCallback((y,b)=>{const v=a(y,b);return!b||!b.valueFormatter?v:b.valueFormatter(v,y,b,e)},[e,a]),d=_.useCallback(y=>e.current.rootElementRef.current?KNe(e.current.rootElementRef.current,y):null,[e]),h=_.useCallback(y=>e.current.rootElementRef.current?qNe(e.current.rootElementRef.current,y):null,[e]),f=_.useCallback((y,b)=>e.current.rootElementRef.current?YNe(e.current.rootElementRef.current,{id:y,field:b}):null,[e]),g={getCellValue:s,getCellParams:i,getCellElement:f,getRowValue:a,getRowFormattedValue:c,getRowParams:r,getRowElement:h,getColumnHeaderParams:n,getColumnHeaderElement:d},m={getCellParamsForRow:o};Cn(e,g,"public"),Cn(e,m,"private")}const Vm={type:"include",ids:new Set},p$e=(e,t)=>H({},e,{rowSelection:t.rowSelection?t.rowSelectionModel??Vm:Vm}),g$e=(e,t)=>{const n=Yo(e,"useGridSelection"),r=_.useCallback(z=>(...W)=>{t.rowSelection&&z(...W)},[t.rowSelection]),o=tt(e,mm)>1,i=t.signature!==Oa.DataGrid&&(t.rowSelectionPropagation?.parents||t.rowSelectionPropagation?.descendants)&&o,s=_.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),a=_.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:Pa,changeEvent:"rowSelectionChange"});const{checkboxSelection:c,disableRowSelectionOnClick:d,isRowSelectable:h}=t,f=MR(t),g=tt(e,Ko),m=_.useCallback(z=>{let W=z;const Z=a.current??z,le=e.current.isRowSelected(z);if(le){const ue=zd(e),ce=ue.findIndex(ve=>ve===Z),se=ue.findIndex(ve=>ve===W);if(ce===se)return;ce>se?W=ue[se+1]:W=ue[se-1]}a.current=z,e.current.selectRowRange({startId:Z,endId:W},!le)},[e]),y=Vt(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?B2(e):zd(e)),b=_.useCallback((z,W)=>{if(t.signature===Oa.DataGrid&&!f&&(z.type!=="include"||z.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Pa(e)!==z&&(n.debug("Setting selection model"),e.current.setState(le=>H({},le,{rowSelection:t.rowSelection?z:Vm}),W))},[e,n,t.rowSelection,t.signature,f]),v=_.useCallback(z=>_m(e).has(z),[e]),S=_.useCallback(z=>{if(t.rowSelection===!1||h&&!h(e.current.getRowParams(z)))return!1;const W=dl(e,z);return!(W?.type==="footer"||W?.type==="pinnedRow")},[e,t.rowSelection,h]),E=_.useCallback(()=>M2(e),[e]),T=_.useCallback((z,W=!0,Z=!1)=>{if(e.current.isRowSelectable(z))if(a.current=z,Z){n.debug(`Setting selection for row ${z}`);const le={type:"include",ids:new Set},ue=ce=>{le.ids.add(ce)};W&&(ue(z),i&&Em(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ue)),e.current.setRowSelectionModel(le,"singleRowSelection")}else{n.debug(`Toggling selection for row ${z}`);const le=Pa(e),ue={type:le.type,ids:new Set(le.ids)},ce=ru(ue);ce.unselect(z);const se=Se=>{ce.select(Se)},ve=Se=>{ce.unselect(Se)};W?(se(z),i&&Em(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,se)):i&&R2(e,g,z,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ve),(ue.type==="include"&&ue.ids.size<2||f)&&e.current.setRowSelectionModel(ue,"singleRowSelection")}},[e,n,i,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,f]),R=_.useCallback((z,W=!0,Z=!1)=>{if(n.debug("Setting selection for several rows"),t.rowSelection===!1)return;const le=new Set;for(let ve=0;ve<z.length;ve+=1){const Te=z[ve];e.current.isRowSelectable(Te)&&le.add(Te)}const ue=Pa(e);let ce;if(Z){if(ce={type:"include",ids:le},W){const ve=ru(ce);if(i){const Te=Se=>{ve.select(Se)};for(const Se of le)Em(e,g,Se,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Te)}}else ce.ids=new Set;if(ue.type===ce.type&&ce.ids.size===ue.ids.size&&Array.from(ce.ids).every(ve=>ue.ids.has(ve)))return}else{ce={type:ue.type,ids:new Set(ue.ids)};const ve=ru(ce),Te=he=>{ve.select(he)},Se=he=>{ve.unselect(he)};for(const he of le)W?(ve.select(he),i&&Em(e,g,he,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Te)):(Se(he),i&&R2(e,g,he,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Se))}(ce.type==="include"&&ce.ids.size<2||f)&&e.current.setRowSelectionModel(ce,"multipleRowsSelection")},[n,i,f,e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,t.rowSelection]),M=_.useCallback(z=>{if(!o||!i||z.ids.size===0&&z.type==="include")return z;const W={type:z.type,ids:new Set(z.ids)},Z=ru(W),le=ue=>{Z.select(ue)};for(const ue of z.ids)Em(e,g,ue,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,le,Z);return W},[e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,o,i]),I=_.useCallback(({startId:z,endId:W},Z=!0,le=!1)=>{if(!e.current.getRow(z)||!e.current.getRow(W))return;n.debug(`Expanding selection from row ${z} to row ${W}`);const ue=zd(e),ce=ue.indexOf(z),se=ue.indexOf(W),[ve,Te]=ce>se?[se,ce]:[ce,se],Se=ue.slice(ve,Te+1);e.current.selectRows(Se,Z,le)},[e,n]),N={selectRow:T,setRowSelectionModel:b,getSelectedRows:E,isRowSelected:v,isRowSelectable:S},P={selectRows:R,selectRowRange:I,getPropagatedRowSelectionModel:M};Cn(e,N,"public"),Cn(e,P,t.signature===Oa.DataGrid?"private":"public");const L=_.useRef(!0),A=_.useCallback((z=!1)=>{if(L.current)return;const W=Pa(e),Z=Xs(e),le=Ko(e),ue=wf(e),ce=he=>t.filterMode==="server"?!Z[he]:!le[he]||ue[he]===!1,se={type:W.type,ids:new Set(W.ids)},ve=ru(se);let Te=!1;for(const he of W.ids){if(ce(he)){if(t.keepNonExistentRowsSelected)continue;ve.unselect(he),Te=!0;continue}if(!t.rowSelectionPropagation?.parents)continue;const pe=g[he];if(pe?.type==="group"){if(pe.isAutoGenerated){ve.unselect(he),Te=!0;continue}pe.children.every(_e=>ue[_e]===!1)||(ve.unselect(he),Te=!0)}}const Se=o&&t.rowSelectionPropagation?.parents&&(se.ids.size>0||se.type==="exclude");if(Te||Se&&!z)if(Se)if(se.type==="exclude"){const he=y(),pe=[];for(let we=0;we<he.length;we+=1){const _e=he[we];(t.keepNonExistentRowsSelected||!ce(_e))&&ve.has(_e)&&pe.push(_e)}e.current.selectRows(pe,!0,!0)}else e.current.selectRows(Array.from(se.ids),!0,!0);else e.current.setRowSelectionModel(se,"multipleRowsSelection")},[e,o,t.rowSelectionPropagation?.parents,t.keepNonExistentRowsSelected,t.filterMode,g,y]),$=_.useCallback((z,W)=>{const Z=W.metaKey||W.ctrlKey,le=!c&&!Z&&!Hke(W),ue=!f||le,ce=e.current.isRowSelected(z),Te=Jw(e)>1&&ue||!ce;e.current.selectRow(z,Te,ue)},[e,f,c]),B=_.useCallback((z,W)=>{if(d)return;const Z=W.target.closest(`.${oe.cell}`)?.getAttribute("data-field");Z===_f.field||Z===CR||Z&&e.current.getColumn(Z)?.type===Yw||dl(e,z.id).type==="pinnedRow"||(W.shiftKey&&f?m(z.id):$(z.id,W))},[d,f,e,m,$]),U=_.useCallback((z,W)=>{f&&W.shiftKey&&window.getSelection()?.removeAllRanges()},[f]),K=_.useCallback((z,W)=>{f&&W.nativeEvent.shiftKey?m(z.id):e.current.selectRow(z.id,z.value,!f)},[e,m,f]),G=_.useCallback(z=>{const W=No(e),Z=C2(e),le=W.items.length>0||Z?.some(ue=>ue.length);!t.isRowSelectable&&!t.checkboxSelectionVisibleOnly&&(!o||t.rowSelectionPropagation?.descendants)&&!le&&!t.disableRowSelectionExcludeModel?e.current.setRowSelectionModel({type:z?"exclude":"include",ids:new Set},"multipleRowsSelection"):e.current.selectRows(y(),z)},[e,y,t.checkboxSelectionVisibleOnly,t.isRowSelectable,t.rowSelectionPropagation?.descendants,t.disableRowSelectionExcludeModel,o]),V=_.useCallback(z=>{G(z.value)},[G]),Y=_.useCallback((z,W)=>{if(e.current.getCellMode(z.id,z.field)!==Xn.Edit&&!km(W)){if(Ww(W.key)&&W.shiftKey){const Z=Gi(e);if(Z&&Z.id!==z.id){W.preventDefault();const le=e.current.isRowSelected(Z.id);if(!f){e.current.selectRow(Z.id,!le,!0);return}const ue=e.current.getRowIndexRelativeToVisibleRows(Z.id),ce=e.current.getRowIndexRelativeToVisibleRows(z.id);let se,ve;ue>ce?le?(se=ce,ve=ue-1):(se=ce,ve=ue):le?(se=ue+1,ve=ce):(se=ue,ve=ce);const Te=Af(e),Se=[];for(let he=se;he<=ve;he+=1)Se.push(Te.rows[he].id);e.current.selectRows(Se,!le);return}}if(W.key===" "&&W.shiftKey){W.preventDefault(),$(z.id,W);return}String.fromCharCode(W.keyCode)==="A"&&(W.ctrlKey||W.metaKey)&&(W.preventDefault(),G(!0))}},[e,f,$,G]),Q=Vt(()=>{if(!t.rowSelection){e.current.setRowSelectionModel(Vm);return}if(s===void 0)return;if(!i||!o||s.type==="include"&&s.ids.size===0){e.current.setRowSelectionModel(s);return}const z=e.current.getPropagatedRowSelectionModel(s);if(z.type!==s.type||z.ids.size!==s.ids.size||!Array.from(s.ids).every(W=>z.ids.has(W))){e.current.setRowSelectionModel(z);return}e.current.setRowSelectionModel(s)});Et(e,"sortedRowsSet",r(()=>A(!0))),Et(e,"filteredRowsSet",r(()=>A())),Et(e,"rowClick",r(B)),Et(e,"rowSelectionCheckboxChange",r(K)),Et(e,"headerSelectionCheckboxChange",V),Et(e,"cellMouseDown",r(U)),Et(e,"cellKeyDown",r(Y)),_.useEffect(()=>{Q()},[e,s,t.rowSelection,Q]);const te=s!=null;_.useEffect(()=>{if(te||!t.rowSelection||typeof S!="function")return;const z=Pa(e);if(z.type!=="include")return;const W=new Set;for(const Z of z.ids)S(Z)&&W.add(Z);W.size<z.ids.size&&e.current.setRowSelectionModel({type:z.type,ids:W})},[e,S,te,t.rowSelection]),_.useEffect(()=>{if(!t.rowSelection||te)return;const z=Pa(e);!f&&(z.type==="include"&&z.ids.size>1||z.type==="exclude")&&e.current.setRowSelectionModel(Vm)},[e,f,c,te,t.rowSelection]),_.useEffect(()=>{r(A)},[A,r]),_.useEffect(()=>{L.current&&(L.current=!1)},[])},m$e=e=>{const{classes:t}=e;return _.useMemo(()=>ft({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},_n,t),[t])},v$e=(e,t)=>{const n={classes:t.classes},r=m$e(n),o=_.useCallback(i=>{const s=H({},_f,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=i.lookup[ka]!=null;return a&&!c?(i.lookup[ka]=s,i.orderedFields=[ka,...i.orderedFields]):!a&&c?(delete i.lookup[ka],i.orderedFields=i.orderedFields.filter(d=>d!==ka)):a&&c&&(i.lookup[ka]=H({},s,i.lookup[ka]),t.columns.some(d=>d.field===ka)||(i.orderedFields=[ka,...i.orderedFields.filter(d=>d!==ka)])),i},[e,r,t.columns,t.checkboxSelection]);Hr(e,"hydrateColumns",o)},y$e=(e,t)=>{const n=t.sortModel??t.initialState?.sorting?.sortModel??[];return H({},e,{sorting:{sortModel:HG(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},b$e=(e,t)=>{const n=Yo(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:ta,changeEvent:"sortModelChange"});const r=_.useCallback((M,I)=>{const N=ta(e),P=N.findIndex(A=>A.field===M);let L=[...N];return P>-1?I?.sort==null?L.splice(P,1):L.splice(P,1,I):L=[...N,I],L},[e]),o=_.useCallback((M,I)=>{const P=ta(e).find(L=>L.field===M.field);if(P){const L=I===void 0?WG(M.sortingOrder??t.sortingOrder,P.sort):I;return L===void 0?void 0:H({},P,{sort:L})}return{field:M.field,sort:I===void 0?WG(M.sortingOrder??t.sortingOrder):I}},[e,t.sortingOrder]),i=_.useCallback((M,I)=>I==null||I.sortable===!1||t.disableColumnSorting?M:(I.sortingOrder||t.sortingOrder).some(P=>!!P)?[...M,"columnMenuSortItem"]:M,[t.sortingOrder,t.disableColumnSorting]),s=_.useCallback(()=>{e.current.setState(M=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),H({},M,{sorting:H({},M.sorting,{sortedRows:pR(Ko(e),Lo,!1)})});const I=ta(e),N=xke(I,e),P=e.current.applyStrategyProcessor("sorting",{sortRowList:N});return H({},M,{sorting:H({},M.sorting,{sortedRows:P})})}),e.current.publishEvent("sortedRowsSet")},[e,n,t.sortingMode]),a=_.useCallback(M=>{ta(e)!==M&&(n.debug("Setting sort model"),e.current.setState(GG(M,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),c=_.useCallback((M,I,N)=>{const P=e.current.getColumn(M),L=o(P,I);let A;!N||t.disableMultipleColumnsSorting?A=L?.sort==null?[]:[L]:A=r(P.field,L),e.current.setSortModel(A)},[e,r,o,t.disableMultipleColumnsSorting]),d=_.useCallback(()=>ta(e),[e]),h=_.useCallback(()=>xR(e).map(I=>I.model),[e]),f=_.useCallback(()=>xm(e),[e]),g=_.useCallback(M=>e.current.getSortedRowIds()[M],[e]);Cn(e,{getSortModel:d,getSortedRows:h,getSortedRowIds:f,getRowIdFromRowIndex:g,setSortModel:a,sortColumn:c,applySorting:s},"public");const y=_.useCallback((M,I)=>{const N=ta(e);return!I.exportOnlyDirtyModels||t.sortModel!=null||t.initialState?.sorting?.sortModel!=null||N.length>0?H({},M,{sorting:{sortModel:N}}):M},[e,t.sortModel,t.initialState?.sorting?.sortModel]),b=_.useCallback((M,I)=>{const N=I.stateToRestore.sorting?.sortModel;return N==null?M:(e.current.setState(GG(N,t.disableMultipleColumnsSorting)),H({},M,{callbacks:[...M.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),v=_.useCallback(M=>{const I=Ko(e),N=I[Lo],P=M.sortRowList?M.sortRowList(N.children.map(L=>I[L])):[...N.children];return N.footerId!=null&&P.push(N.footerId),P},[e]);Hr(e,"exportState",y),Hr(e,"restoreState",b),jm(e,qd,"sorting",v);const S=_.useCallback(({field:M,colDef:I},N)=>{if(!I.sortable||t.disableColumnSorting)return;const P=t.multipleColumnsSortingMode==="always"||N.shiftKey||N.metaKey||N.ctrlKey;c(M,void 0,P)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),E=_.useCallback(({field:M,colDef:I},N)=>{!I.sortable||t.disableColumnSorting||N.key==="Enter"&&!N.ctrlKey&&!N.metaKey&&c(M,void 0,t.multipleColumnsSortingMode==="always"||N.shiftKey)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),T=_.useCallback(()=>{const M=ta(e),I=nc(e);if(M.length>0){const N=M.filter(P=>I[P.field]);N.length<M.length&&e.current.setSortModel(N)}},[e]),R=_.useCallback(M=>{M==="sorting"&&e.current.applySorting()},[e]);Hr(e,"columnMenu",i),Et(e,"columnHeaderClick",S),Et(e,"columnHeaderKeyDown",E),Et(e,"rowsSet",e.current.applySorting),Et(e,"columnsChange",T),Et(e,"activeStrategyProcessorChange",R),Hd(()=>{e.current.applySorting()}),Hn(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function X5(e){const{containerSize:t,scrollPosition:n,elementSize:r,elementOffset:o}=e,i=o+r;if(r>t)return o;if(i-t>n)return i-t;if(o<n)return o}const w$e=(e,t)=>{const n=Go(),r=Yo(e,"useGridScroll"),o=e.current.columnHeadersContainerRef,i=e.current.virtualScrollerRef,s=tt(e,su),a=_.useCallback(f=>{const g=Jr(e),m=vf(e),y=eo(e);if(!(f.rowIndex==null)&&m===0||y.length===0)return!1;r.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let v={};if(f.colIndex!==void 0){const S=$d(e);let E;if(typeof f.rowIndex<"u"){const T=s[f.rowIndex]?.id,R=e.current.unstable_getCellColSpanInfo(T,f.colIndex);R&&!R.spannedByColSpan&&(E=R.cellProps.width)}typeof E>"u"&&(E=y[f.colIndex].computedWidth),v.left=X5({containerSize:g.viewportOuterSize.width,scrollPosition:Math.abs(i.current.scrollLeft),elementSize:E,elementOffset:S[f.colIndex]})}if(f.rowIndex!==void 0){const S=fR(e),E=ADe(e),T=L2(e),R=t.pagination?f.rowIndex-E*T:f.rowIndex,M=S.positions[R+1]?S.positions[R+1]-S.positions[R]:S.currentPageTotalHeight-S.positions[R];v.top=X5({containerSize:g.viewportInnerSize.height,scrollPosition:i.current.scrollTop,elementSize:M,elementOffset:S.positions[R]})}return v=e.current.unstable_applyPipeProcessors("scrollToIndexes",v,f),typeof v.left<"u"||typeof v.top<"u"?(e.current.scroll(v),!0):!1},[r,e,i,t.pagination,s]),c=_.useCallback(f=>{if(i.current&&f.left!==void 0&&o.current){const g=n?-1:1;o.current.scrollLeft=f.left,i.current.scrollLeft=g*f.left,r.debug(`Scrolling left: ${f.left}`)}i.current&&f.top!==void 0&&(i.current.scrollTop=f.top,r.debug(`Scrolling top: ${f.top}`)),r.debug("Scrolling, updating container, and viewport")},[i,n,o,r]),d=_.useCallback(()=>i?.current?{top:i.current.scrollTop,left:i.current.scrollLeft}:{top:0,left:0},[i]);Cn(e,{scroll:c,scrollToIndexes:a,getScrollPosition:d},"public")};function S$e(e,t){hr(e,"columnHeaderClick",t.onColumnHeaderClick),hr(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),hr(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),hr(e,"columnHeaderOver",t.onColumnHeaderOver),hr(e,"columnHeaderOut",t.onColumnHeaderOut),hr(e,"columnHeaderEnter",t.onColumnHeaderEnter),hr(e,"columnHeaderLeave",t.onColumnHeaderLeave),hr(e,"cellClick",t.onCellClick),hr(e,"cellDoubleClick",t.onCellDoubleClick),hr(e,"cellKeyDown",t.onCellKeyDown),hr(e,"preferencePanelClose",t.onPreferencePanelClose),hr(e,"preferencePanelOpen",t.onPreferencePanelOpen),hr(e,"menuOpen",t.onMenuOpen),hr(e,"menuClose",t.onMenuClose),hr(e,"rowDoubleClick",t.onRowDoubleClick),hr(e,"rowClick",t.onRowClick),hr(e,"stateChange",t.onStateChange)}const $m={width:0,height:0},C$e={isReady:!1,root:$m,viewportOuterSize:$m,viewportInnerSize:$m,contentSize:$m,minimumSize:$m,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},x$e=(e,t,n)=>{const r=C$e,o=ym(n);return H({},e,{dimensions:H({},r,T$e(t,n,o,Gw(n)))})},_$e=Mt(eo,$d,(e,t)=>{const n=e.length;return n===0?0:Kd(t[n-1]+e[n-1].computedWidth,1)});function E$e(e,t){const n=e.current.virtualizer,r=n.api.updateDimensions,o=n.api.getViewportPageSize,s={getRootDimensions:_.useCallback(()=>Jr(e),[e])},a={updateDimensions:r,getViewportPageSize:o};Cn(e,s,"public"),Cn(e,a,"private"),hr(e,"rootMount",d=>{Z5(d,Jr(e))}),hr(e,"debouncedResize",t.onResize),Rw(e.current.store,d=>d.dimensions,(d,h)=>{e.current.rootElementRef.current&&Z5(e.current.rootElementRef.current,h),M$e(h.viewportInnerSize,d.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",h.viewportInnerSize),e.current.publishEvent("debouncedResize",h.root)})}function Z5(e,t){const n=(r,o)=>e.style.setProperty(r,o);n("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),n("--DataGrid-rowWidth",`${t.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${t.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),n("--height",`${t.rowHeight}px`)}function T$e(e,t,n,r){const o=jG(e.rowHeight,yS.rowHeight);return{rowHeight:Math.floor(o*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n),columnsTotalWidth:_$e(t),headersTotalHeight:Im(t,e),leftPinnedWidth:r.left.reduce((i,s)=>i+s.computedWidth,0),rightPinnedWidth:r.right.reduce((i,s)=>i+s.computedWidth,0)}}function M$e(e,t){return e.width===t.width&&e.height===t.height}const O$e=(e,t,n)=>{const r=zPe(n),o=vf(n),i=Sf(n),s=Math.min(i.enabled?i.paginationModel.pageSize:o,o);return H({},e,{rowsMeta:{currentPageTotalHeight:s*r,positions:Array.from({length:s},(a,c)=>c*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},R$e=(e,t)=>{const n=e.current.virtualizer,{getRowHeight:r,setLastMeasuredRowIndex:o,storeRowHeightMeasurement:i,resetRowHeights:s,hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:d,getRowHeightEntry:h,getLastMeasuredRowIndex:f}=n.api.rowsMeta;HR(e,"rowHeight",a);const g={unstable_getRowHeight:r,unstable_setLastMeasuredRowIndex:o,unstable_storeRowHeightMeasurement:i,resetRowHeights:s},m={hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:d,getRowHeightEntry:h,getLastMeasuredRowIndex:f};Cn(e,g,"public"),Cn(e,m,"private")},I$e=e=>{const t=_.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),n=_.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(s=>{s()})},[e]);Cn(e,{exportState:t,restoreState:n},"public")},P$e=e=>{const t=e.current.virtualizer,n=t.api.resetColSpan,r=t.api.getCellColSpanInfo,o=t.api.calculateColSpan,i={unstable_getCellColSpanInfo:r},s={resetColSpan:n,calculateColSpan:o};Cn(e,i,"public"),Cn(e,s,"private"),Et(e,"columnOrderChange",n)},Q5=(e,t,n)=>{if(ZG(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:o}=e;o.forEach(i=>{Q5(i,[...t,r],n)})},ZR=e=>{if(!e)return{};const t={};return e.forEach(n=>{Q5(n,[],t)}),t},QR=(e,t,n)=>{const r=c=>t[c]??[],o=[],i=Math.max(0,...e.map(c=>r(c).length)),s=(c,d,h)=>{const f=r(c),g=r(d);for(let m=0;m<=h;m+=1)if(f[m]!==g[m])return!1;return!0},a=(c,d)=>{const h=n?.left,f=n?.right,g=!!h?.includes(c),m=!!h?.includes(d),y=!!f?.includes(c),b=!!f?.includes(d);return g!==m||y!==b};for(let c=0;c<i;c+=1){const d=[];for(let h=0;h<e.length;h+=1){const f=e[h],g=r(f)[c]??null;if(d.length===0){d.push({columnFields:[f],groupId:g});continue}const m=d[d.length-1],y=m.columnFields[m.columnFields.length-1];m.groupId!==g||!s(y,f,c)||a(y,f)?d.push({columnFields:[f],groupId:g}):m.columnFields.push(f)}o.push(d)}return o},k$e=["groupId","children"],JR=e=>{const t={};for(let n=0;n<e.length;n+=1){const r=e[n];if(ZG(r))continue;const{groupId:o,children:i}=r,s=gt(r,k$e);if(!o)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const a=H({},s,{groupId:o}),c=JR(i);if(c[o]!==void 0||t[o]!==void 0)throw new Error(`MUI X: The groupId ${o} is used multiple times in the columnGroupingModel.`);Object.assign(t,c),t[o]=a}return t},D$e=(e,t,n)=>{if(n.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;const r=gl(n),o=wm(n),i=JR(t.columnGroupingModel??[]),s=ZR(t.columnGroupingModel??[]),a=QR(r,s,n.current.state.pinnedColumns??{}),c=o.length===0?0:Math.max(...o.map(d=>s[d]?.length??0));return H({},e,{columnGrouping:{lookup:i,unwrappedGroupingModel:s,headerStructure:a,maxDepth:c}})},A$e=(e,t)=>{const n=_.useCallback(a=>H2(e)[a]??[],[e]),r=_.useCallback(()=>G2(e),[e]);Cn(e,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const i=_.useCallback(()=>{const a=ZR(t.columnGroupingModel??[]);e.current.setState(c=>{const d=c.columns?.orderedFields??[],h=c.pinnedColumns??{},f=QR(d,a,h);return H({},c,{columnGrouping:H({},c.columnGrouping,{headerStructure:f})})})},[e,t.columnGroupingModel]),s=_.useCallback(a=>{e.current.caches.columnGrouping.lastColumnGroupingModel=a;const c=e.current.getPinnedColumns?.()??{},d=gl(e),h=wm(e),f=JR(a??[]),g=ZR(a??[]),m=QR(d,g,c),y=h.length===0?0:Math.max(...h.map(b=>g[b]?.length??0));e.current.setState(b=>H({},b,{columnGrouping:{lookup:f,unwrappedGroupingModel:g,headerStructure:m,maxDepth:y}}))},[e]);Et(e,"columnIndexChange",i),Et(e,"columnsChange",()=>{s(t.columnGroupingModel)}),Et(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),_.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&s(t.columnGroupingModel)},[e,s,t.columnGroupingModel])};function L$e(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function J5(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function e4(e,t,n,r){let o=e;return r==="Right"?o+=t-n.left:o+=n.right-t,o}function N$e(e,t,n){return n==="Left"?e-t.left:t.right-e}function B$e(e){return e==="Right"?"Left":"Right"}function F$e(e,t){const n=e.classList.contains(oe["columnSeparator--sideRight"])?"Right":"Left";return t?B$e(n):n}function t4(e){e.preventDefault(),e.stopImmediatePropagation()}function j$e(e){const t=_.useRef(void 0),n=()=>RLe(e),r=tt(e,n);return _.useEffect(()=>{t.current&&r===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=L$e()}return t.current}}function V$e(e,t){if(e.length<4)return e;const n=e.slice();n.sort((a,c)=>a-c);const r=n[Math.floor(n.length*.25)],o=n[Math.floor(n.length*.75)-1],i=o-r,s=i<5?5:i*t;return n.filter(a=>a>r-s&&a<o+s)}function $$e(e,t,n){const r={},o=e.current.rootElementRef.current;return o.classList.add(oe.autosizing),n.forEach(i=>{const a=sBe(e.current,i.field).map(y=>y.getBoundingClientRect().width??0),c=t.includeOutliers?a:V$e(a,t.outliersFactor);if(t.includeHeaders){const y=iBe(e.current,i.field);if(y){const b=y.querySelector(`.${oe.columnHeaderTitle}`),v=y.querySelector(`.${oe.columnHeaderTitleContainerContent}`),S=y.querySelector(`.${oe.iconButtonContainer}`),E=y.querySelector(`.${oe.menuIcon}`),T=b??v,R=window.getComputedStyle(y,null),M=parseInt(R.paddingLeft,10)+parseInt(R.paddingRight,10),N=T.scrollWidth+1+M+(S?.clientWidth??0)+(E?.clientWidth??0);c.push(N)}}const d=i.minWidth!==-1/0&&i.minWidth!==void 0,h=i.maxWidth!==1/0&&i.maxWidth!==void 0,f=d?i.minWidth:0,g=h?i.maxWidth:1/0,m=c.length===0?0:Math.max(...c);r[i.field]=Vd(m,f,g)}),o.classList.remove(oe.autosizing),r}const z$e=e=>H({},e,{columnResize:{resizingColumnField:""}});function U$e(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const H$e=(e,t)=>{const n=Go(),r=Yo(e,"useGridColumnResize"),o=cs(U$e).current,i=_.useRef(null),s=_.useRef(null),a=Vi(),c=_.useRef(void 0),d=L=>{r.debug(`Updating width to ${L} for col ${o.colDef.field}`);const A=o.columnHeaderElement.offsetWidth,$=L-A,B=L-o.initialColWidth;if(B>0){const G=o.initialTotalWidth+B;e.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${G}px`)}o.colDef.computedWidth=L,o.colDef.width=L,o.colDef.flex=0,o.columnHeaderElement.style.width=`${L}px`;const U=o.headerFilterElement;U&&(U.style.width=`${L}px`),o.groupHeaderElements.forEach(G=>{const V=G;let Y;V.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${V.offsetWidth+$}px`,V.style.width=Y}),o.cellElements.forEach(G=>{const V=G;let Y;V.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${V.offsetWidth+$}px`,V.style.setProperty("--width",Y)});const K=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);K===iu.LEFT&&(Lf(o.fillerLeft,"width",$),o.leftPinnedCellsAfter.forEach(G=>{Lf(G,"left",$)}),o.leftPinnedHeadersAfter.forEach(G=>{Lf(G,"left",$)})),K===iu.RIGHT&&(Lf(o.fillerRight,"width",$),o.rightPinnedCellsBefore.forEach(G=>{Lf(G,"right",$)}),o.rightPinnedHeadersBefore.forEach(G=>{Lf(G,"right",$)}))},h=L=>{if(S(),o.previousMouseClickEvent){const A=o.previousMouseClickEvent,$=A.timeStamp,B=A.clientX,U=A.clientY;if(L.timeStamp-$<300&&L.clientX===B&&L.clientY===U){o.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,L);return}}if(o.colDef){e.current.setColumnWidth(o.colDef.field,o.colDef.width),r.debug(`Updating col ${o.colDef.field} with new width: ${o.colDef.width}`);const A=Ra(e);o.groupHeaderElements.forEach($=>{const B=QNe($),U=$,G=`${B.reduce((V,Y)=>A.columnVisibilityModel[Y]!==!1?V+A.lookup[Y].computedWidth:V,0)}px`;U.style.width=G})}a.start(0,()=>{e.current.publishEvent("columnResizeStop",null,L)})},f=(L,A,$)=>{const B=e.current.rootElementRef.current;o.initialColWidth=L.computedWidth,o.initialTotalWidth=e.current.getRootDimensions().rowWidth,o.colDef=L,o.columnHeaderElement=ZNe(e.current.columnHeadersContainerRef.current,L.field);const U=B.querySelector(`.${oe.headerFilterRow} [data-field="${oc(L.field)}"]`);U&&(o.headerFilterElement=U),o.groupHeaderElements=JNe(e.current.columnHeadersContainerRef?.current,L.field),o.cellElements=eBe(o.columnHeaderElement,e.current),o.fillerLeft=E5(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),o.fillerRight=E5(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const K=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);o.leftPinnedCellsAfter=K!==iu.LEFT?[]:tBe(e.current,o.columnHeaderElement,n),o.rightPinnedCellsBefore=K!==iu.RIGHT?[]:nBe(e.current,o.columnHeaderElement,n),o.leftPinnedHeadersAfter=K!==iu.LEFT?[]:rBe(e.current,o.columnHeaderElement,n),o.rightPinnedHeadersBefore=K!==iu.RIGHT?[]:oBe(e.current,o.columnHeaderElement,n),s.current=F$e(A,n),i.current=N$e($,o.columnHeaderElement.getBoundingClientRect(),s.current)},g=Vt(h),m=Vt(L=>{if(L.buttons===0){g(L);return}let A=e4(i.current,L.clientX,o.columnHeaderElement.getBoundingClientRect(),s.current);A=Vd(A,o.colDef.minWidth,o.colDef.maxWidth),d(A);const $={element:o.columnHeaderElement,colDef:o.colDef,width:A};e.current.publishEvent("columnResize",$,L)}),y=Vt(L=>{J5(L,c.current)&&h(L)}),b=Vt(L=>{const A=J5(L,c.current);if(!A)return;if(L.type==="mousemove"&&L.buttons===0){y(L);return}let $=e4(i.current,A.x,o.columnHeaderElement.getBoundingClientRect(),s.current);$=Vd($,o.colDef.minWidth,o.colDef.maxWidth),d($);const B={element:o.columnHeaderElement,colDef:o.colDef,width:$};e.current.publishEvent("columnResize",B,L)}),v=Vt(L=>{const A=gS(L.target,oe["columnSeparator--resizable"]);if(!A)return;const $=L.changedTouches[0];$!=null&&(c.current=$.identifier);const B=gS(L.target,oe.columnHeader),U=XNe(B),K=e.current.getColumn(U);r.debug(`Start Resize on col ${K.field}`),e.current.publishEvent("columnResizeStart",{field:U},L),f(K,A,$.clientX);const G=Zr(L.currentTarget);G.addEventListener("touchmove",b),G.addEventListener("touchend",y)}),S=_.useCallback(()=>{const L=Zr(e.current.rootElementRef.current);L.body.style.removeProperty("cursor"),L.removeEventListener("mousemove",m),L.removeEventListener("mouseup",g),L.removeEventListener("touchmove",b),L.removeEventListener("touchend",y),setTimeout(()=>{L.removeEventListener("click",t4,!0)},100),o.columnHeaderElement&&(o.columnHeaderElement.style.pointerEvents="unset")},[e,o,m,g,b,y]),E=_.useCallback(({field:L})=>{e.current.setState(A=>H({},A,{columnResize:H({},A.columnResize,{resizingColumnField:L})}))},[e]),T=_.useCallback(()=>{e.current.setState(L=>H({},L,{columnResize:H({},L.columnResize,{resizingColumnField:""})}))},[e]),R=Vt(({colDef:L},A)=>{if(A.button!==0||!A.currentTarget.classList.contains(oe["columnSeparator--resizable"]))return;A.preventDefault(),r.debug(`Start Resize on col ${L.field}`),e.current.publishEvent("columnResizeStart",{field:L.field},A),f(L,A.currentTarget,A.clientX);const $=Zr(e.current.rootElementRef.current);$.body.style.cursor="col-resize",o.previousMouseClickEvent=A.nativeEvent,$.addEventListener("mousemove",m),$.addEventListener("mouseup",g),$.addEventListener("click",t4,!0)}),M=Vt((L,A)=>{if(t.disableAutosize||A.button!==0)return;const $=e.current.state.columns.lookup[L.field];$.resizable!==!1&&e.current.autosizeColumns(H({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[$.field]}))}),I=j$e(e),N=_.useRef(!1),P=_.useCallback(async L=>{if(!e.current.rootElementRef?.current||N.current)return;N.current=!0;const $=Ra(e),B=H({},YAe,L,{columns:L?.columns??$.orderedFields});B.columns=B.columns.filter(K=>$.columnVisibilityModel[K]!==!1);const U=B.columns.map(K=>e.current.state.columns.lookup[K]);try{!t.disableVirtualization&&B.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await I());const K=$$e(e,B,U),G=U.map(V=>H({},V,{width:K[V.field],computedWidth:K[V.field],flex:0}));if(B.expand){const Y=$.orderedFields.map(W=>$.lookup[W]).filter(W=>$.columnVisibilityModel[W.field]!==!1).reduce((W,Z)=>W+(K[Z.field]??Z.computedWidth??Z.width),0),z=e.current.getRootDimensions().viewportInnerSize.width-Y;if(z>0){const W=z/(G.length||1);G.forEach(Z=>{Z.width+=W,Z.computedWidth+=W})}}e.current.updateColumns(G),G.forEach((V,Y)=>{if(V.width!==U[Y].width){const Q=V.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(V.field),colDef:V,width:Q})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),N.current=!1}},[e,I,t.disableVirtualization]);_.useEffect(()=>S,[S]),Xb(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),X2(e,()=>e.current.columnHeadersContainerRef?.current,"touchstart",v,{passive:!0}),Cn(e,{autosizeColumns:P},"public"),Et(e,"columnResizeStop",T),Et(e,"columnResizeStart",E),Et(e,"columnSeparatorMouseDown",R),Et(e,"columnSeparatorDoubleClick",M),hr(e,"columnResize",t.onColumnResize),hr(e,"columnWidthChange",t.onColumnWidthChange)};function Lf(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}function G$e(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function n4(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}const eI=(e,t,n)=>{if(!e)return null;let r=e[t.field];const o=t.rowSpanValueGetter??t.valueGetter;return o&&(r=o(r,e,t,n)),r},r4={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},Nf={caches:r4,processedRange:{firstRowIndex:0,lastRowIndex:0}},o4=20,i4=(e,t,n,r,o,i)=>{const s=e.current.virtualizer,a=i?Nf:Pf.selectors.state(s.store.state),c=H({},a.caches.spannedCells),d=H({},a.caches.hiddenCells),h=H({},a.caches.hiddenCellOriginMap),f={firstRowIndex:Math.min(a.processedRange.firstRowIndex,o.firstRowIndex),lastRowIndex:Math.max(a.processedRange.lastRowIndex,o.lastRowIndex)};return t.forEach((g,m)=>{for(let y=o.firstRowIndex;y<o.lastRowIndex;y+=1){const b=n[y];if(d[b.id]?.[m])continue;const v=eI(b.model,g,e);if(v==null)continue;let S=b.id,E=y,T=0;const R=[];if(y===o.firstRowIndex){let I=y-1,N=n[I];for(;I>=r.firstRowIndex&&N&&eI(N.model,g,e)===v;){const P=n[I+1];d[P.id]?d[P.id][m]=!0:d[P.id]={[m]:!0},R.push(y),T+=1,S=N.id,E=I,I-=1,N=n[I]}}R.forEach(I=>{h[I]?h[I][m]=E:h[I]={[m]:E}});let M=y+1;for(;M<=r.lastRowIndex&&n[M]&&eI(n[M].model,g,e)===v;){const I=n[M];d[I.id]?d[I.id][m]=!0:d[I.id]={[m]:!0},h[M]?h[M][m]=E:h[M]={[m]:E},M+=1,T+=1}T>0&&(c[S]?c[S][m]=T+1:c[S]={[m]:T+1})}}),{caches:{spannedCells:c,hiddenCells:d,hiddenCellOriginMap:h},processedRange:f}},W$e=(e,t)=>{const n=Fd(t).length;if(e.pagination){const r=L2(t);let o=o4;return r>0&&(o=r-1),{firstRowIndex:0,lastRowIndex:Math.min(o,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(o4,n)}},K$e=(e,t,n)=>{if(!t.rowSpanning)return H({},e,{rowSpanning:Nf});const r=e.rows.dataRowIds||[],o=e.columns.orderedFields||[],i=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,a=!!e.filter.filterModel.items.length||!!e.filter.filterModel.quickFilterValues?.length;if(!r.length||!o.length||!i||!s||a)return H({},e,{rowSpanning:Nf});const c=W$e(t,n),d=r.map(g=>({id:g,model:i[g]})),h=o.map(g=>s[g]),f=i4(n,h,d,c,c,!0);return H({},e,{rowSpanning:f})},q$e=(e,t)=>{const n=e.current.virtualizer.store,r=_.useCallback((i,s=!1)=>{const{range:a,rows:c}=Af(e);if(a===null||!n4(i))return;const d=s?Nf:Pf.selectors.state(n.state),h=G$e({firstRowIndex:i.firstRowIndex,lastRowIndex:Math.min(i.lastRowIndex,a.lastRowIndex-a.firstRowIndex+1)},d.processedRange);if(h===null)return;const f=eo(e),g=i4(e,f,c,a,h,s),m=Object.keys(g.caches.spannedCells).length,y=Object.keys(g.caches.hiddenCells).length,b=Object.keys(d.caches.spannedCells).length,v=Object.keys(d.caches.hiddenCells).length;!(s||m!==b||y!==v)||m===0&&b===0||n.set("rowSpanning",g)},[e,n]),o=_.useCallback(()=>{const i=f5(e);n4(i)&&r(i,!0)},[e,r]);Et(e,"renderedRowsIntervalChange",nu(t.rowSpanning,r)),Et(e,"sortedRowsSet",nu(t.rowSpanning,o)),Et(e,"paginationModelChange",nu(t.rowSpanning,o)),Et(e,"filteredRowsSet",nu(t.rowSpanning,o)),Et(e,"columnsChange",nu(t.rowSpanning,o)),_.useEffect(()=>{t.rowSpanning?n.state.rowSpanning.caches===r4&&o():n.state.rowSpanning!==Nf&&n.set("rowSpanning",Nf)},[e,n,o,t.rowSpanning])},Y$e=(e,t,n)=>H({},e,{listViewColumn:t.listViewColumn?H({},t.listViewColumn,{computedWidth:tI(n)}):void 0});function X$e(e,t){const n=()=>{e.current.setState(i=>i.listViewColumn?H({},i,{listViewColumn:H({},i.listViewColumn,{computedWidth:tI(e)})}):i)},r=_.useRef(null);Et(e,"viewportInnerSizeChange",i=>{r.current!==i.width&&(r.current=i.width,n())}),Et(e,"columnVisibilityModelChange",n),Hn(()=>{const i=t.listViewColumn;i&&e.current.setState(s=>H({},s,{listViewColumn:H({},i,{computedWidth:tI(e)})}))},[e,t.listViewColumn]),_.useEffect(()=>{t.listView&&t.listViewColumn},[t.listView,t.listViewColumn])}function tI(e){return Jr(e).viewportInnerSize.width}const Z$e=Mt(No,ta,qo,(e,t,n)=>({groupKeys:[],paginationModel:n,sortModel:t,filterModel:e,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1}));let nI=(function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e})({});class rI{constructor(t){this.chunkSize=t}getCacheKeys=t=>{if(this.chunkSize<1||typeof t.start!="number")return[t];const n=[];for(let r=t.start;r<=t.end;r+=this.chunkSize){const o=Math.min(r+this.chunkSize-1,t.end);n.push(H({},t,{start:r,end:o}))}return n};splitResponse=(t,n)=>{const r=this.getCacheKeys(t);if(r.length===1)return new Map([[t,n]]);const o=new Map;return r.forEach(i=>{const s=i.end===t.end,a=H({},n,{pageInfo:H({},n.pageInfo,{hasNextPage:n.pageInfo?.hasNextPage!==void 0&&!s?!0:n.pageInfo?.hasNextPage,nextCursor:n.pageInfo?.nextCursor!==void 0&&!s?n.rows[i.end+1].id:n.pageInfo?.nextCursor}),rows:typeof i.start!="number"||typeof t.start!="number"?n.rows:n.rows.slice(i.start-t.start,i.end-t.start+1)});o.set(i,a)}),o};static mergeResponses=t=>t.length===1?t[0]:t.reduce((n,r)=>({rows:[...n.rows,...r.rows],rowCount:r.rowCount,pageInfo:r.pageInfo}),{rows:[],rowCount:0,pageInfo:{}})}const Q$e=["skipCache"],J$e={clear:()=>{},get:()=>{},set:()=>{}};function s4(e,t={}){return e===null?J$e:e??new ALe(t)}const eze=(e,t,n={})=>{const r=_.useCallback(()=>{e.current.setStrategyAvailability(uu.DataSource,nI.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[o,i]=_.useState(!1),s=tt(e,qo),a=_.useRef(0),c=t.onDataSourceError,d=cs(()=>{if(!t.pagination)return new rI(s.pageSize);const M=t.pageSizeOptions.map(N=>typeof N=="number"?N:N.value).sort((N,P)=>N-P),I=Math.min(s.pageSize,M[0]);return new rI(I)}).current,[h,f]=_.useState(()=>s4(t.dataSourceCache,n.cacheOptions)),g=_.useCallback(async(M,I)=>{const N=t.dataSource?.getRows;if(!N)return;if(M&&M!==Lo&&t.signature!=="DataGrid"){n.fetchRowChildren?.([M]);return}n.clearDataSourceState?.();const P=I||{},{skipCache:L}=P,A=gt(P,Q$e),$=H({},Z$e(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),A),U=d.getCacheKeys($).map(G=>h.get(G));if(!L&&U.every(G=>G!==void 0)){e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:rI.mergeResponses(U),fetchParams:$});return}(o||e.current.getRowsCount()===0)&&e.current.setLoading(!0);const K=a.current+1;a.current=K;try{const G=await N($);d.splitResponse($,G).forEach((Y,Q)=>h.set(Q,Y)),a.current===K&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:G,fetchParams:$})}catch(G){a.current===K&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:G,fetchParams:$}),typeof c=="function"&&c(new LLe({message:G?.message,params:$,cause:G})))}finally{o&&a.current===K&&e.current.setLoading(!1)}},[d,h,e,o,t.dataSource?.getRows,c,n,t.signature]),m=_.useCallback(()=>{i(e.current.getActiveStrategy(uu.DataSource)===nI.Default)},[e]),y=_.useCallback(M=>{if("error"in M){e.current.setRows([]);return}const{response:I}=M;I.rowCount!==void 0&&e.current.setRowCount(I.rowCount),e.current.setRows(I.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:M.fetchParams,response:I},!0)},[e]),b=t.dataSource?.updateRow,v=n.handleEditRow,S=_.useCallback(async M=>{if(b)try{const I=await b(M);return typeof v=="function"?(v(M,I),I):(e.current.updateNestedRows([I],[]),I&&!na(I,M.previousRow)&&e.current.dataSource.cache.clear(),I)}catch(I){throw typeof c=="function"&&c(new NLe({message:I?.message,params:M,cause:I})),I}},[e,b,c,v]),E={dataSource:{fetchRows:g,cache:h,editRow:S}},T=_.useMemo(()=>Kc(g,0),[g]),R=_.useRef(!0);return _.useEffect(()=>{if(R.current){R.current=!1;return}if(t.dataSourceCache===void 0)return;const M=s4(t.dataSourceCache,n.cacheOptions);f(I=>I!==M?M:I)},[t.dataSourceCache,n.cacheOptions]),_.useEffect(()=>(t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{a.current+=1}),[e,t.dataSource]),{api:{public:E},debouncedFetchRows:T,strategyProcessor:{strategyName:nI.Default,group:"dataSourceRowsUpdate",processor:y},setStrategyAvailability:r,cacheChunkManager:d,cache:h,events:{strategyAvailabilityChange:m,sortModelChange:nu(o,()=>T()),filterModelChange:nu(o,()=>T()),paginationModelChange:nu(o,()=>T())}}},tze=(e,t)=>{const{api:n,strategyProcessor:r,events:o,setStrategyAvailability:i}=eze(e,t);Cn(e,n.public,"public"),jm(e,r.strategyName,r.group,r.processor),Object.entries(o).forEach(([s,a])=>{Et(e,s,a)}),_.useEffect(()=>{i()},[i])},nze=(e,t,n)=>{hVe(e,t),v$e(e,t),h$e(e),Fo(uVe,e,t),Fo(p$e,e,t),Fo(TVe,e,t),Fo(a$e,e,t),Fo(YVe,e,t),Fo(i$e,e,t),Fo(zVe,e,t),Fo(y$e,e,t),Fo(ZVe,e,t),Fo(FVe,e,t),Fo(K$e,e,t),Fo(RVe,e,t),Fo(z$e,e,t),Fo(_Ve,e,t),Fo(D$e,e,t),Fo(MLe,e,t),Fo(x$e,e,t),Fo(O$e,e,t),Fo(Y$e,e,t),yVe(e,t),WVe(e,t),g$e(e,t),MVe(e,t),l$e(e,t,n),q$e(e,t),f$e(e,t),P$e(e),A$e(e,t),s$e(e,t),UVe(e,t),QVe(e,t),$Ve(e,t),b$e(e,t),IVe(e,t),H$e(e,t),XVe(e,t),R$e(e),w$e(e,t),EVe(e),kVe(e,t),BVe(e,t),xVe(e,t),E$e(e,t),S$e(e,t),I$e(e),OLe(e,t),X$e(e,t),tze(e,t),_.useEffect(()=>{e.current.runAppliersForPendingProcessors()})},rze=e=>{const{classes:t,headerAlign:n,isDragging:r,isLastColumn:o,showLeftBorder:i,showRightBorder:s,groupId:a,pinnedPosition:c}=e,d={root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",s&&"columnHeader--withRightBorder",i&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c===Rn.LEFT&&"columnHeader--pinnedLeft",c===Rn.RIGHT&&"columnHeader--pinnedRight",o&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ft(d,_n,t)};function oze(e){const{groupId:t,width:n,depth:r,maxDepth:o,fields:i,height:s,colIndex:a,hasFocus:c,tabIndex:d,isLastColumn:h,pinnedPosition:f,pinnedOffset:g}=e,m=yt(),y=Go(),b=_.useRef(null),v=hn(),S=tt(v,G2),E=t?S[t]:{},{headerName:T=t??"",description:R="",headerAlign:M=void 0}=E;let I;const N=t&&S[t]?.renderHeaderGroup,P=_.useMemo(()=>({groupId:t,headerName:T,description:R,depth:r,maxDepth:o,fields:i,colIndex:a,isLastColumn:h}),[t,T,R,r,o,i,a,h]);t&&N&&(I=N(P));const L=H({},e,{classes:m.classes,headerAlign:M,depth:r,isDragging:!1}),A=T??t,$=kn(),B=t===null?`empty-group-cell-${$}`:t,U=rze(L);_.useLayoutEffect(()=>{if(c){const te=b.current.querySelector('[tabindex="0"]')||b.current;if(!te)return;if(jR())te.focus({preventScroll:!0});else{const z=v.current.getScrollPosition();te.focus(),v.current.scroll(z)}}},[v,c]);const K=_.useCallback(Q=>te=>{km(te)||v.current.publishEvent(Q,P,te)},[v,P]),G=_.useMemo(()=>({onKeyDown:K("columnGroupHeaderKeyDown"),onFocus:K("columnGroupHeaderFocus"),onBlur:K("columnGroupHeaderBlur")}),[K]),V=typeof E.headerClassName=="function"?E.headerClassName(P):E.headerClassName,Y=_.useMemo(()=>dS(H({},e.style),y,f,g),[f,g,e.style,y]);return x.jsx(R5,H({ref:b,classes:U,columnMenuOpen:!1,colIndex:a,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:d,isDraggable:!1,headerComponent:I,headerClassName:V,description:R,elementId:B,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:A,"aria-colspan":i.length,"data-fields":`|-${i.join("-|-")}-|`,style:Y},G))}const a4=be("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),ize=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:i,columnHeaderFocus:s,columnGroupHeaderFocus:a,headerGroupingMaxDepth:c,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:g}=e,[m,y]=_.useState(""),[b,v]=_.useState(""),S=fs(),E=yt(),T=tt(S,H2),R=tt(S,$d),M=tt(S,kLe),I=tt(S,Gw),N=tt(S,nc),P=l5(R,M,I.left.length),L=tt(S,hR),A=tt(S,RG),$=tt(S,GPe),B=tt(S,WPe),U=tt(S,IG),K=_.useCallback(se=>v(se.field),[]),G=_.useCallback(()=>v(""),[]),V=_.useCallback(se=>y(se.field),[]),Y=_.useCallback(()=>y(""),[]),Q=_.useMemo(()=>I.left.length?{firstColumnIndex:0,lastColumnIndex:I.left.length}:null,[I.left.length]),te=_.useMemo(()=>I.right.length?{firstColumnIndex:t.length-I.right.length,lastColumnIndex:t.length}:null,[I.right.length,t.length]);Et(S,"columnResizeStart",K),Et(S,"columnResizeStop",G),Et(S,"columnHeaderDragStart",V),Et(S,"columnHeaderDragEndNative",Y);const z=se=>{const{renderContext:ve=M}=se||{},Te=ve.firstColumnIndex,Se=Math.min(ve.lastColumnIndex,t.length);return{renderedColumns:t.slice(Te,Se),firstColumnToRender:Te,lastColumnToRender:Se}},W=(se,ve,Te,Se=!1)=>{const he=se?.position===Rn.RIGHT,pe=se?.position===void 0,we=I.right.length>0&&he||I.right.length===0&&pe,_e=P-Te;return x.jsxs(_.Fragment,{children:[pe&&x.jsx("div",{role:"presentation",style:{width:_e}}),ve,pe&&x.jsx("div",{role:"presentation",className:We(oe.filler,Se&&oe["filler--borderBottom"])}),we&&x.jsx(UR,{header:!0,pinnedRight:he,borderBottom:Se,borderTop:!1})]})},Z=(se,ve={})=>{const{renderedColumns:Te,firstColumnToRender:Se}=z(se),he=[];for(let pe=0;pe<Te.length;pe+=1){const we=Te[pe],_e=Se+pe,De=_e===0,Ee=o!==null&&o.field===we.field||De&&!g?0:-1,Fe=s!==null&&s.field===we.field,Je=d.open&&d.field===we.field,Be=se?.position,Ot=Am(Be,we.computedWidth,_e,R,L,U),dt=Be===Rn.RIGHT?Te[pe-1]:Te[pe+1],St=dt?s!==null&&s.field===dt.field:!1,je=_e+1===R.length-I.right.length,Rt=pe,mt=Te.length,Bt=vS(Be,Rt),It=mS(Be,Rt,mt,E.showColumnVerticalBorder,A);he.push(x.jsx(bBe,H({},n[we.field],{columnMenuOpen:Je,filterItemsCounter:r[we.field]&&r[we.field].length,headerHeight:$,isDragging:we.field===m,colDef:we,colIndex:_e,isResizing:b===we.field,isLast:_e===R.length-1,hasFocus:Fe,tabIndex:Ee,pinnedPosition:Be,pinnedOffset:Ot,isLastUnpinned:je,isSiblingFocused:St,showLeftBorder:Bt,showRightBorder:It},ve),we.field))}return W(se,he,0)},le=()=>x.jsxs(a4,{role:"row","aria-rowindex":c+1,ownerState:E,className:oe["row--borderBottom"],style:{height:$},children:[Q&&Z({position:Rn.LEFT,renderContext:Q},{disableReorder:!0}),Z({renderContext:M}),te&&Z({position:Rn.RIGHT,renderContext:te},{disableReorder:!0,separatorSide:$R.Left})]}),ue=({depth:se,params:ve})=>{const Te=z(ve);if(Te.renderedColumns.length===0)return null;const{firstColumnToRender:Se,lastColumnToRender:he}=Te,pe=f[se],we=t[Se].field,_e=T[we]?.[se]??null,De=pe.findIndex(({groupId:mt,columnFields:Bt})=>mt===_e&&Bt.includes(we)),Ee=t[he-1].field,Fe=T[Ee]?.[se]??null,Je=pe.findIndex(({groupId:mt,columnFields:Bt})=>mt===Fe&&Bt.includes(Ee)),Be=pe.slice(De,Je+1).map(mt=>H({},mt,{columnFields:mt.columnFields.filter(Bt=>h[Bt]!==!1)})).filter(mt=>mt.columnFields.length>0),Ot=Be[0].columnFields.indexOf(we),St=Be[0].columnFields.slice(0,Ot).reduce((mt,Bt)=>{const It=N[Bt];return mt+(It.computedWidth??0)},0);let je=Se;const Rt=Be.map(({groupId:mt,columnFields:Bt},It)=>{const Xt=a!==null&&a.depth===se&&Bt.includes(a.field),Wt=i!==null&&i.depth===se&&Bt.includes(i.field)?0:-1,ht={width:Bt.reduce((ct,Ct)=>ct+N[Ct].computedWidth,0),fields:Bt,colIndex:je},_t=ve.position,He=Am(_t,ht.width,je,R,L,U);je+=Bt.length;let lt=It;return _t===Rn.LEFT&&(lt=je-1),x.jsx(oze,{groupId:mt,width:ht.width,fields:ht.fields,colIndex:ht.colIndex,depth:se,isLastColumn:It===Be.length-1,maxDepth:c,height:B,hasFocus:Xt,tabIndex:Wt,pinnedPosition:_t,pinnedOffset:He,showLeftBorder:vS(_t,lt),showRightBorder:mS(_t,lt,Be.length,E.showColumnVerticalBorder,A)},It)});return W(ve,Rt,St)};return{renderContext:M,leftRenderContext:Q,rightRenderContext:te,pinnedColumns:I,visibleColumns:t,columnPositions:R,getFillers:W,getColumnHeadersRow:le,getColumnsToRender:z,getColumnGroupHeadersRows:()=>{if(c===0)return null;const se=[];for(let ve=0;ve<c;ve+=1)se.push(x.jsxs(a4,{role:"row","aria-rowindex":ve+1,ownerState:E,style:{height:B},children:[Q&&ue({depth:ve,params:{position:Rn.LEFT,renderContext:Q,maxLastColumn:Q.lastColumnIndex}}),ue({depth:ve,params:{renderContext:M}}),te&&ue({depth:ve,params:{position:Rn.RIGHT,renderContext:te,maxLastColumn:te.lastColumnIndex}})]},ve));return se},getPinnedCellOffset:Am,isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},sze=["className"],aze=e=>{const{classes:t}=e;return ft({root:["columnHeaders"]},_n,t)},lze=Vn("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),cze=Yt(function(t,n){const{className:r}=t,o=gt(t,sze),i=yt(),s=aze(i);return x.jsx(lze,H({className:We(s.root,r),ownerState:i},o,{role:"presentation",ref:n}))}),uze=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],dze=Yt(function(t,n){const{visibleColumns:r,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y}=t,b=gt(t,uze),{getInnerProps:v,getColumnHeadersRow:S,getColumnGroupHeadersRows:E}=ize({visibleColumns:r,sortColumnLookup:o,filterColumnLookup:i,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y});return x.jsxs(cze,H({},b,v(),{ref:n,children:[E(),S()]}))}),hze=ec(dze);function fze(e){return null}function pze(e){return null}const gze=Yt(function(t,n){const o=hn().current.getLocaleText("noResultsOverlayLabel");return x.jsx(fS,H({},t,{ref:n,children:o}))}),mze=()=>ft({root:["bottomContainer"]},_n,{}),vze=Vn("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function yze(e){const t=mze();return x.jsx(vze,H({},e,{className:We(t.root,oe["container--bottom"]),role:"presentation"}))}const bze=H({},VPe,{cell:QLe,skeletonCell:lNe,columnHeaderFilterIconButton:PBe,columnHeaderSortIcon:RBe,columnMenu:KBe,columnHeaders:hze,detailPanels:fze,bottomContainer:yze,footer:Tje,footerRowCount:zje,toolbar:Sje,pinnedRows:pze,loadingOverlay:Aje,noResultsOverlay:gze,noRowsOverlay:Lje,noColumnsOverlay:Nje,pagination:Fje,filterPanel:CFe,columnsPanel:ZBe,columnsManagement:PFe,panel:nFe,row:Yje}),wze={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},Sze=e=>H({},wze,e.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),Cze=bze,xze=e=>{const t=il(),n=_.useMemo(()=>e3({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),r=_.useMemo(()=>H({},oke,n.localeText),[n.localeText]),o=_.useMemo(()=>GLe({defaultSlots:Cze,slots:n.slots}),[n.slots]),i=_.useMemo(()=>Object.keys(yS).reduce((s,a)=>(s[a]=n[a]??yS[a],s),{}),[n]);return _.useMemo(()=>H({},n,i,{localeText:r,slots:o},Sze(n)),[n,r,o,i])},l4=Symbol("mui.api_private"),_ze=e=>e.isPropagationStopped!==void 0;let c4=0;function Eze(e){const t=e.current?.[l4];if(t)return t;const n={},r={state:n,store:am.create(n),instanceId:{id:c4}};return c4+=1,r.getPublicApi=()=>e.current,r.register=(o,i)=>{Object.keys(i).forEach(s=>{const a=i[s],c=r[s];if(c?.spying===!0?c.target=a:r[s]=a,o==="public"){const d=e.current,h=d[s];h?.spying===!0?h.target=a:d[s]=a}})},r.register("private",{caches:{},eventManager:new RH}),r}function Tze(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[l4]:e.current}}function Mze(e,t){const n=_.useRef(null),r=_.useRef(null);r.current||(r.current=Eze(n)),n.current||(n.current=Tze(r));const o=_.useCallback((...s)=>{const[a,c,d={}]=s;if(d.defaultMuiPrevented=!1,_ze(d)&&d.isPropagationStopped())return;const h=t.signature===Oa.DataGridPro||t.signature===Oa.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(a,c,d,h)},[r,t.signature]),i=_.useCallback((s,a,c)=>{r.current.eventManager.on(s,a,c);const d=r.current;return()=>{d.eventManager.removeListener(s,a)}},[r]);return Cn(r,{subscribeEvent:i,publishEvent:o},"public"),e&&!e.current?.state&&(e.current=n.current),_.useImperativeHandle(e,()=>n.current,[n]),_.useEffect(()=>{const s=r.current;return()=>{s.publishEvent("unmount")}},[r]),r}const u4={hooks:{useCSSVariables:$Ie,useGridAriaAttributes:Xje,useGridRowAriaAttributes:Zje,useGridRowsOverridableMethods:Qje,useCellAggregationResult:()=>null}},d4=function(t,n){const r=xze(t),o=Mze(r.apiRef,r);return nze(o,r,u4),x.jsx(Jje,{privateApiRef:o,configuration:u4,props:r,children:x.jsx(_Ne,H({className:r.className,style:r.style,sx:r.sx},r.slotProps?.root,{ref:n}))})},Oze=_.memo(Yt(d4));d4.propTypes={apiRef:Me.shape({current:Me.object}),"aria-label":Me.string,"aria-labelledby":Me.string,autoHeight:Me.bool,autoPageSize:Me.bool,autosizeOnMount:Me.bool,autosizeOptions:Me.shape({columns:Me.arrayOf(Me.string),disableColumnVirtualization:Me.bool,expand:Me.bool,includeHeaders:Me.bool,includeOutliers:Me.bool,outliersFactor:Me.number}),cellModesModel:Me.object,checkboxSelection:Me.bool,classes:Me.object,className:Me.string,clipboardCopyCellDelimiter:Me.string,columnBufferPx:Me.number,columnFilterDebounceMs:Me.number,columnGroupHeaderHeight:Me.number,columnGroupingModel:Me.arrayOf(Me.object),columnHeaderHeight:Me.number,columns:Me.arrayOf(Me.object).isRequired,columnVisibilityModel:Me.object,dataSource:Me.shape({getRows:Me.func.isRequired,updateRow:Me.func}),dataSourceCache:Me.shape({clear:Me.func.isRequired,get:Me.func.isRequired,set:Me.func.isRequired}),density:Me.oneOf(["comfortable","compact","standard"]),disableAutosize:Me.bool,disableColumnFilter:Me.bool,disableColumnMenu:Me.bool,disableColumnResize:Me.bool,disableColumnSelector:Me.bool,disableColumnSorting:Me.bool,disableDensitySelector:Me.bool,disableEval:Me.bool,disableMultipleRowSelection:Me.bool,disableRowSelectionExcludeModel:Me.bool,disableRowSelectionOnClick:Me.bool,disableVirtualization:Me.bool,editMode:Me.oneOf(["cell","row"]),estimatedRowCount:Me.number,experimentalFeatures:Me.shape({warnIfFocusStateIsNotSynced:Me.bool}),filterDebounceMs:Me.number,filterMode:Me.oneOf(["client","server"]),filterModel:Me.shape({items:Me.arrayOf(Me.shape({field:Me.string.isRequired,id:Me.oneOfType([Me.number,Me.string]),operator:Me.string.isRequired,value:Me.any})).isRequired,logicOperator:Me.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Me.bool,quickFilterLogicOperator:Me.oneOf(["and","or"]),quickFilterValues:Me.array}),getCellClassName:Me.func,getDetailPanelContent:Me.func,getEstimatedRowHeight:Me.func,getRowClassName:Me.func,getRowHeight:Me.func,getRowId:Me.func,getRowSpacing:Me.func,hideFooter:Me.bool,hideFooterPagination:Me.bool,hideFooterSelectedRowCount:Me.bool,ignoreDiacritics:Me.bool,ignoreValueFormatterDuringExport:Me.oneOfType([Me.shape({clipboardExport:Me.bool,csvExport:Me.bool}),Me.bool]),initialState:Me.object,isCellEditable:Me.func,isRowSelectable:Me.func,keepNonExistentRowsSelected:Me.bool,label:Me.string,loading:Me.bool,localeText:Me.object,logger:Me.shape({debug:Me.func.isRequired,error:Me.func.isRequired,info:Me.func.isRequired,warn:Me.func.isRequired}),logLevel:Me.oneOf(["debug","error","info","warn",!1]),nonce:Me.string,onCellClick:Me.func,onCellDoubleClick:Me.func,onCellEditStart:Me.func,onCellEditStop:Me.func,onCellKeyDown:Me.func,onCellModesModelChange:Me.func,onClipboardCopy:Me.func,onColumnHeaderClick:Me.func,onColumnHeaderContextMenu:Me.func,onColumnHeaderDoubleClick:Me.func,onColumnHeaderEnter:Me.func,onColumnHeaderLeave:Me.func,onColumnHeaderOut:Me.func,onColumnHeaderOver:Me.func,onColumnOrderChange:Me.func,onColumnResize:Me.func,onColumnVisibilityModelChange:Me.func,onColumnWidthChange:Me.func,onDataSourceError:Me.func,onDensityChange:Me.func,onFilterModelChange:Me.func,onMenuClose:Me.func,onMenuOpen:Me.func,onPaginationMetaChange:Me.func,onPaginationModelChange:Me.func,onPreferencePanelClose:Me.func,onPreferencePanelOpen:Me.func,onProcessRowUpdateError:Me.func,onResize:Me.func,onRowClick:Me.func,onRowCountChange:Me.func,onRowDoubleClick:Me.func,onRowEditStart:Me.func,onRowEditStop:Me.func,onRowModesModelChange:Me.func,onRowSelectionModelChange:Me.func,onSortModelChange:Me.func,onStateChange:Me.func,pageSizeOptions:Me.arrayOf(Me.oneOfType([Me.number,Me.shape({label:Me.string.isRequired,value:Me.number.isRequired})]).isRequired),pagination:Me.oneOf([!0]),paginationMeta:Me.shape({hasNextPage:Me.bool}),paginationMode:Me.oneOf(["client","server"]),paginationModel:Me.shape({page:Me.number.isRequired,pageSize:Me.number.isRequired}),processRowUpdate:Me.func,resizeThrottleMs:Me.number,rowBufferPx:Me.number,rowCount:Me.number,rowHeight:Me.number,rowModesModel:Me.object,rows:Me.arrayOf(Me.object),rowSelection:Me.bool,rowSelectionModel:Me.shape({ids:Me.instanceOf(Set).isRequired,type:Me.oneOf(["exclude","include"]).isRequired}),rowSpacingType:Me.oneOf(["border","margin"]),rowSpanning:Me.bool,scrollbarSize:Me.number,showCellVerticalBorder:Me.bool,showColumnVerticalBorder:Me.bool,showToolbar:Me.bool,slotProps:Me.object,slots:Me.object,sortingMode:Me.oneOf(["client","server"]),sortingOrder:Me.arrayOf(Me.oneOf(["asc","desc"])),sortModel:Me.arrayOf(Me.shape({field:Me.string.isRequired,sort:Me.oneOf(["asc","desc"])})),style:Me.object,sx:Me.oneOfType([Me.arrayOf(Me.oneOfType([Me.func,Me.object,Me.bool])),Me.func,Me.object]),virtualizeColumnsWithAutoRowHeight:Me.bool};function h4(e){const{api:t}=e,n=(r,o)=>{t.setEditCellValue({id:e.id,field:e.field,value:o}),t.stopCellEditMode({id:e.id,field:e.field})};return x.jsx(z2,{onValueChange:n,...e})}function Rze({onClick:e}){return x.jsx(tNe,{label:"Удалить",icon:x.jsx(rMe,{fontSize:"small",color:"error"}),onClick:e})}function f4({value:e,isBroken:t}){return x.jsx("div",{style:{textDecoration:t?"line-through":"unset"},children:e})}function p4(e){const{description:t}=e;return{label:t?`${e.name}: ${t}`:e.name,value:e.name}}class Ize extends Nt{constructor(){super(),this.allowAutoChangeB=new WeakSet,this.setEnabled=(t,n)=>this.props.sceneConnection?.setDisabled(!n),this.isCellEditable=t=>!t.row.isBroken,this.processRowUpdate=(t,n)=>{const{m:r}=this,o=t.a!==n.a,i=t.b!==n.b;if(!o&&!i)return n;const s=r.a.vars.get(t.a);let a=r.b.vars.get(t.b);if(!s||!a)return n;if(o){if(s.type!==a.type){this.allowAutoChangeB.add(r.proto);const d=r.b.vars.list.filter(h=>h.type===s.type);if(!d.length)return n;a=d.find(h=>h.klassVar.nameUC===s.klassVar.nameUC)||d[0]}else if(this.allowAutoChangeB.has(r.proto)){const d=r.b.vars.get(s.name);d&&(a=d)}}else this.allowAutoChangeB.delete(r.proto);const c=r.nestedConnections.map((d,h)=>h.toString()===t.id?[s.name,a.name]:d.proto.toJSON());return r.proto.setNestedConnections(c),r.parent.applyChanges(),{...t,a:s.name,typeA:s.type,b:a.name,typeB:a.type}},this.addRow=t=>{const{m:n}=this,r=n.b.vars.list,o=n.a.vars.list.find(a=>r.some(c=>c.type===a.type));if(!o)return;let i;if(i=n.b.vars.get(o.name),(!i||o.type!==i.type)&&(i=r.find(a=>a.type===o.type),!i))return;const s=[...n.proto.nestedConnections.map(a=>a.toJSON()),[o.name,i.name]];n.proto.setNestedConnections(s),n.parent.applyChanges()},vt(this,{processRowUpdate:ye,valuesOptionsA:qr,canAddRow:qr})}get enabled(){return!this.m.isDisabled}get valuesOptionsA(){const{a:t,b:n}=this.m,r=new Set(n.vars.list.map(o=>o.type));return wi(t.vars.list,o=>r.has(o.type)&&p4(o))}getOptionsB(t){const{b:n}=this.m;return wi(n.vars.list,r=>r.type===t&&p4(r))}get columns(){const{m:t}=this;return[{field:"a",headerName:t.a.name,editable:!0,flex:10,type:"singleSelect",valueOptions:this.valuesOptionsA,renderCell:n=>_.createElement(f4,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(h4,n)},{field:"b",headerName:t.b.name,editable:!0,flex:10,type:"singleSelect",valueOptions:n=>this.getOptionsB(n.row?.typeA),renderCell:n=>_.createElement(f4,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(h4,n)},{field:"delete",type:"actions",flex:1,getActions:n=>[_.createElement(Rze,{onClick:()=>this._deleteRow(n.id)})]}]}get rows(){return this.m.nestedConnections.map((t,n)=>{const r=n.toString();return t.isBroken?{id:r,isBroken:!0,a:t.a.toString(),typeA:null,b:t.b.toString(),typeB:null}:{id:r,isBroken:!1,a:t.a.name,typeA:t.a.type,b:t.b.name,typeB:t.b.type}})}get canAddRow(){const{m:t}=this,n=t.b.vars.list;return t.a.vars.list.some(r=>n.some(o=>o.type===r.type))}_deleteRow(t){const{m:n}=this,r=n.nestedConnections.filter((o,i)=>i.toString()!==t).map(o=>o.proto.toJSON());n.proto.setNestedConnections(r),n.parent.applyChanges()}}class Pze extends Nt{constructor(){super(),this.onUngroupButtonClick=()=>this.m.ungroup(),vt(this,{klassPropsButtonModel:qr,klassCodeButtonModel:qr,onUngroupButtonClick:!1})}get kind(){return this.child?"":"Группа"}get klassPropsButtonModel(){return this.child?.schema.klass||null}get klassSchemaButtonModel(){const{child:t}=this;if(!t)return null;const{schema:n}=t,{klass:r}=n;return!r.isReadonly||r.hasScene?n:null}get klassCodeButtonModel(){const{child:t}=this;if(!t)return null;const{klass:n}=t.schema;return!n.isReadonly||n.hasCode?n:null}get schemaValuesModel(){const t=this.child?.schema;return t&&!t.isFake?t:null}get showUngroupButton(){return this.m.canUngroup}get child(){return this.m.child}}const kze=[[-1,"Ничего не делать"],[Yv,"Открыть окно схемы имиджа"],[jC,"Открыть проект"],[Xv,"Выполнить действие"],[FC,"Вызвать shell"],[bk,"Нет конкретного действия"]],oI=[[$C,`Закрыть текущий проект (${$C})`],[VC,`Закрыть все проекты (${VC})`]];class Dze extends Nt{constructor(t){super(),this.ctx=t,this.setKlassName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,target:n}})},this.setWindowName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,window:n}})},this.onOpenSchemaButtonClick=()=>{const n=this.ctx.project.klassLibrary.get(this.klassName);!n||n.isReadonly&&!n.hasScene||this.ctx.project.openKlassScene(n)},vt(this,{klassNameOptions:qr,showOpenSchemaButton:qr})}get klassNameOptions(){return this.ctx.project.klassLibrary.list.map(t=>t.name)}get showOpenSchemaButton(){const t=this.ctx.project.klassLibrary.get(this.klassName);return t&&(!t.isReadonly||t.hasScene)||!1}get klassName(){return this.parent.m.hyper?.target||""}get windowName(){return this.parent.m.hyper?.window||""}}class Aze extends Nt{constructor(){super(...arguments),this.setProjectPath=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get projectPath(){return this.parent.m.hyper?.target||""}}class Lze extends Nt{constructor(){super(...arguments),this.setActionType=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t.target.value}})}}get options(){return oI}get actionType(){const t=this.parent.m.hyper?.target||"";return oI.some(([n])=>n===t)?t:oI[0][0]}}class Nze extends Nt{constructor(){super(...arguments),this.setCommandName=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get commandName(){return this.parent.m.hyper?.target||""}}class Bze extends Nt{constructor(){super(...arguments),this.setMode=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.set({hyper:null}):n.set({hyper:{...n.hyper,mode:r,target:""}})},this.setParams=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,params:t}})},this.setReceiver=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,object:t}})},this.setDisabled=(t,n)=>{const{m:r}=this;r.hyper&&r.set({hyper:{...r.hyper,disabled:n}})}}get modeOptions(){return kze}get mode(){const{hyper:t}=this.m;return!t||t.mode<Yv||t.mode>Xv?-1:t.mode}get params(){return this.m.hyper?.params||""}get receiver(){return this.m.hyper?.object||""}get disabled(){return this.m.hyper?.disabled||!1}}const Fze={unit:"%",x:0,y:0,width:100,height:100};class jze extends Nt{constructor(){super(...arguments),this.onChange=(t,{x:n,y:r,width:o,height:i})=>{const{m:s}=this.parent;if((o||i)&&(n||r||o<100||i<100)){const{image:a}=s;s.scene.pendNextEdit(),s.setArea({x:Math.round(n*.01*a.width),y:Math.round(r*.01*a.height),w:Math.max(Math.round(o*.01*a.width),1),h:Math.max(Math.round(i*.01*a.height),1)})}else s.setArea(null)},this.onDragEnd=t=>{this.parent.m.scene.pushPendingEdit()}}get crop(){const{area:t,image:n}=this.parent.m;return t?{unit:"%",x:t.x/n.width*100,y:t.y/n.height*100,width:t.w/n.width*100,height:t.h/n.height*100}:Fze}get imageInfo(){const{area:t,image:n}=this.parent.m;return"Crop: "+(t?`${t.x}, ${t.y}, ${t.w}x${t.h}`:"нет")+` [${n.width}x${n.height}]`}get imageSrc(){return Ji(this.parent.m.image.src)}}class Vze extends Nt{get kind(){return this.m.pad?"Площадка":"Картинка"}get isPad(){return!!this.m.pad}get schemaValuesModel(){const t=this.m.pad?.schema;return t&&!t.isFake?t:null}}class $ze extends Nt{constructor(){super(...arguments),this.setValue=t=>this.m.setValue(t)}get kind(){switch(this.m.inputType){case"Edit":return"Элемент ввода";case"Button":return"Кнопка";case"ComboBox":return"ComboBox";case"ListBox":return"Выпадающий список"}}get value(){return this.m.value}}class g4 extends Nt{constructor(){super(),this.editMode=!1,this.editValue="",this.onChange=t=>this._onChange(t.target.value),this.onInputChange=(t,n,r)=>{this._onChange(n)},this.onFormBlur=()=>{this.editMode&&(this.editMode=!1,this.props.onChange(this.editValue,!0))},this.onFormKeyDown=t=>{t.code==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.editMode=!1,t.target.blur())},vt(this,{editMode:Pe.ref,editValue:Pe.ref,onFormBlur:ye,_onChange:ye,onFormKeyDown:ye,onChange:!1,onInputChange:!1})}onViewUnmounted(){this.onFormBlur()}get value(){if(this.editMode)return this.editValue;const{value:t}=this.props;return typeof t=="function"?t():t}get error(){return!!this.props.required&&!this.value}_onChange(t){this.editMode=!0,this.editValue=t,this.props.immediate&&this.props.onChange(t,!1)}}const zze={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function Uze(e){return e.toLocaleString("ru",zze)}class Hze extends Nt{constructor(){super(...arguments),this.setKlassName=t=>this.klass.rename(t),this.setForceUseIcon=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,prior:n?"icon":"image"}})},this.setCanChangeSize=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,resizable:n}})}}get klass(){return this.parent.m.klass}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get date(){return Uze(this.klass.date)}get isPropsChangeDisabled(){return this.klass.isReadonly}get klassName(){return this.klass.name}get forceUseIcon(){return this.klass.image?.prior==="icon"}get canChangeSize(){return this.klass.image?.resizable||!1}}class Gze extends Nt{constructor(t){super(),this.ctx=t,this.onChange=(a,c)=>{this.crop=c},this.onDragEnd=a=>{const{crop:c,iconImage:d,m:h}=this,f=Math.round(c.x/100*d.width/32)*32,g=Math.round(c.y/100*d.height/32)*32;this.crop={unit:"%",x:f/d.width*100,y:g/d.height*100,width:32/d.width*100,height:32/d.height*100};const m=o9(d,f,g),y={atlas:h.image?.icon?.atlas,index:m};h.set({image:{...h.image,icon:y}})};const r=this.m.icon,o=r.atlas&&kp(r.atlas)||KC,{x:i,y:s}=YC(o,r.index||0);this.imageSrc=Ji(o.src),this.iconImage=o,this.crop={unit:"%",x:i/o.width*100,y:s/o.height*100,width:32/o.width*100,height:32/o.height*100},vt(this,{crop:Pe.ref,onChange:ye,onDragEnd:ye})}get disabled(){return this.m.isReadonly}get iconAtlas(){return this.iconImage.src}}const Wze=0,Kze=1,qze=2,Yze=3,Xze=4,Zze=5,Qze=0,Jze=1,m4=3,v4=9,e3e=10,t3e=[[-1,"Отсутствует"],[Wze,"Сплошная"],[Kze,"- - -"],[qze,". . ."],[Yze,"- . - ."],[Xze,"- . ."],[Zze,"Прозрачная"]],n3e=[[-1,"Отсутствует"],[Qze,"Сплошной цвет"],[m4,"Паттерн"],[Jze,"Прозрачная"]];class r3e extends Nt{constructor(){super(...arguments),this.setAngle=t=>{const{arrow:n}=this;if(!n)return;const r=Ip(parseInt(t));isNaN(r)||r<0||this.m.setArrows({[this.props.arrow]:{...n,angle:r}})},this.setLength=t=>{const{arrow:n}=this;if(!n)return;const r=parseInt(t);isNaN(r)||r<1||this.m.setArrows({[this.props.arrow]:{...n,length:r}})},this.setFill=(t,n)=>{const{arrow:r}=this;r&&this.m.setArrows({[this.props.arrow]:{...r,fill:n}})},this.onRemoveButtonClick=()=>this.m.setArrows({[this.props.arrow]:null})}get arrow(){return this.m[this.props.arrow]}get angle(){return qu(PC(this.arrow?.angle||0))}get length(){return(this.arrow?.length||0).toString()}get fill(){return this.arrow?.fill||!1}}class o3e extends Nt{constructor(){super(...arguments),this.getColor=()=>XC(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:ZC(t)}),n&&r.scene.pushPendingEdit()},this.setWidth=t=>{const n=parseInt(t);isNaN(n)||n<0||this.m.set({width:n})}}get width(){return this.m.width.toString()}}class i3e extends Nt{constructor(){super(),this.inputRef=_.createRef(),this.dashed=!1,this.onClick=()=>this.inputRef.current?.click(),this.onDragOver=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)},this.onDragEnter=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)&&(this.dashed=!0)},this.onDragLeave=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1},this.onDrop=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1;const n=this.m.scene.fileContentTransfer?.pop(t.dataTransfer);n?.image?this.m.setImage(n.image):this.addFromFileList(t.dataTransfer.files)},this.onChange=({currentTarget:{files:t}})=>t&&this.addFromFileList(t),vt(this,{dashed:Pe.ref,onClick:!1,onDragOver:!1,onDragEnter:ye,onDragLeave:ye,onDrop:ye,onChange:!1,addFromFileList:oo})}get image(){return this.m.image}tryAccept(t){return this.m.scene.fileContentTransfer?.get(t)?.image?(t.dropEffect="link",!0):t.items.length&&t.items[0].type.startsWith("image/")?(t.dropEffect="copy",!0):(t.dropEffect="none",!1)}*addFromFileList(t){const n=t.item(0);if(!n||!n.type.startsWith("image/"))return;const{fileUploader:r}=this.m.scene;if(!r)return;const o=yield r.upload([n]),i=o.length&&o[0].data.image;i&&this.m.setImage(i)}}class s3e extends Nt{constructor(){super(...arguments),this.getColor=()=>XC(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:ZC(t)}),n&&r.scene.pushPendingEdit()},this.setMix=(t,n)=>this.m.set({rop:n?v4:0})}get isPattern(){return this.m.style===m4}get mix(){const{rop:t}=this.m;return t===v4||t===e3e}}class a3e extends Nt{constructor(){super(...arguments),this.onPointsModeChange=(t,n)=>{this.m.setPointsEditMode(n==="points")},this.setPenVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removePen():n.pen?n.pen.set({style:r}):n.createPen({style:r})},this.setBrushVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removeBrush():n.brush?n.brush.set({style:r}):n.createBrush({style:r})},this.onAddStartArrowButtonClick=()=>this.m.setArrows({start:{angle:Ip(45),length:10,fill:!1}}),this.onAddEndArrowButtonClick=()=>this.m.setArrows({end:{angle:Ip(45),length:10,fill:!1}})}get kind(){return this.m.connection?"Связь":"Полилиния"}get mode(){return this.m.isPointsEditModeActive?"points":"props"}get sceneConnection(){return this.m.connection}get schemaConnection(){return this.m.connection?.schemaConnection||null}get canAddPen(){return!this.m.connection}get canAddBrush(){return!this.m.connection}get pen(){return this.m.pen}get brush(){return this.m.connection?null:this.m.brush}get hasStartArrow(){return!!this.m.start}get hasEndArrow(){return!!this.m.end}get penVariantOptions(){return t3e}get penVariant(){const{pen:t}=this.m;return t?t.style:-1}get brushVariantOptions(){return n3e}get brushVariant(){const{brush:t}=this.m;return t?t.style:-1}}const l3e=[{field:"x",headerName:"X",type:"number",editable:!0,flex:1},{field:"y",headerName:"Y",type:"number",editable:!0,flex:1}];class c3e extends Nt{constructor(){super(),this.processRowUpdate=(t,n)=>{const r=parseInt(t.x);if(isNaN(r))return n;const o=parseInt(t.y);if(isNaN(o))return n;const i=t.id;return this.m.setPoint(i,r,o),t},vt(this,{processRowUpdate:ye})}get columns(){return l3e}get rows(){return this.m.points.map(({x:t,y:n},r)=>({id:r,x:t,y:n}))}}class u3e extends Nt{constructor(){super(...arguments),this.onCreateGroupButtonClick=()=>this.m.createGroup(),this.onCreateConnectionButtonClick=()=>this.m.createConnection()}get selectionLength(){return this.m.objects.length}get showCreateGroupButton(){return this.m.canCreateGroup}get showCreateConnectionButton(){return this.m.canCreateConnection}}class d3e extends Nt{get klassPropsButtonModel(){return this.parent.hasSchema?this.parent.klass:null}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get schemaValuesModel(){const{schema:t}=this.parent;return t?.isFake?null:t}}function h3e(e){const{value:t}=e;if(t===null)return null;const n=e.row.computedValueKind,r=n==="own"?"blue":n==="overwritten"?"green":n==="classSpecial"?"orange":void 0;let o="";return t!==null&&(o=n==="own"?"Значение установлено пользователем":n==="overwritten"?"Значение перезаписано другой переменной":n==="alien"?"Значение установлено другой переменной":n==="classSpecial"?"Используется свойство объекта":"Используется значение по умолчанию"),x.jsx("div",{title:o,style:{color:r,whiteSpace:"pre"},children:t})}function f3e(e,t){if(!e)return null;if(t===bt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==bt.STRING&&(e=e.trim()),e||null}class p3e extends Nt{constructor(t){super(),this.ctx=t,this.processRowUpdate=(n,r)=>{const{m:o}=this,i=f3e(n.value,n.type);if(i===r.value)return r;const s=o.vars.list.find(a=>a._reactKey===n.id);return s?.setOwnValue(i)?(o.applyChanges(),{...n,value:s.computedValue,computedValueKind:s.computedValueKind}):r},this.columns=[{field:"markButton",width:24,minWidth:24,resizable:!1,sortable:!1,filterable:!1,headerName:"",cellClassName:"mark-button-cell",renderCell:n=>_.createElement(cl,{onChange:this.updateRow.bind(this,n.row)})},{field:"name",headerName:"Переменная",flex:1,renderCell:n=>{const{description:r,defaultValue:o,type:i}=n.row;let s=`Тип: ${bt[i]}`;return r&&(s+=`
Описание: ${r}`),o&&(s+=`
По умолчанию: '${o}'`),_.createElement("div",{title:s},n.value)}},{field:"value",headerName:"Значение",editable:!0,flex:1,renderCell:n=>_.createElement(h3e,n)}],vt(this,{processRowUpdate:ye,updateRow:ye})}updateRow(t,n,r){const{m:o}=this,i=o.vars.list.find(a=>a._reactKey===t.id);if(!i)return;const{project:s}=this.ctx;r?s.addMarkedVar(i):s.removeMarkedVar(i)}get rows(){return this.m.vars.list.map(t=>({id:t._reactKey,name:t.name,type:t.type,value:t.computedValue,computedValueKind:t.computedValueKind,description:t.description,defaultValue:t.defaultValue}))}}class g3e extends Nt{constructor(){super(...arguments),this.onOpenTextEditorButtonClick=()=>this.m.scene.openTextEditor(this.m)}get kind(){return"Текст"}}class m3e extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassProps(this.m)}get title(){return this.m.name}}class v3e extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openSchema(this.m)}get hasScene(){return this.m.klass.hasScene}}class y3e extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassCode(this.m)}get hasCode(){return this.m.hasCode||!1}}class b3e extends Nt{constructor(){super(...arguments),this.onClick=()=>this.m.delete()}}class w3e extends Nt{constructor(){super(...arguments),this.onMoveToBottomButtonClick=()=>this.m.moveToBottom(),this.onDecreaseZButtonClick=()=>this.m.decreaseZ(),this.onIncreaseZButtonClick=()=>this.m.increaseZ(),this.onMoveToTopButtonClick=()=>this.m.moveToTop()}get value(){return this.m.z.toString()}}let y4=0;class S3e extends Nt{constructor(t){super(),this.ctx=t,this.ref=_.createRef(),this.onFontStylesChange=(n,r)=>{this.m.set({fontDecorations:r})},this.onFontSizeChange=n=>{this.m.set({fontSize:n})},this.onColorChange=n=>{this.m.set({fontColor:n})},this.onFontChange=n=>{this.m.set({fontName:n.target.value})},this.onEditorChange=n=>{if(this.ref.current?.editor===document.activeElement){{const r=n.getLastChangeType();(r==="remove-range"||r==="delete-character")&&++y4}this.m.setState(n)}},this.handleKeyCommand=(n,r,o)=>{const{m:i}=this,s=Bs.RichUtils.handleKeyCommand(i.state,n);return s?(i.setState(s),"handled"):n==="strikethrough"?(i.setState(Bs.RichUtils.toggleInlineStyle(i.state,"STRIKETHROUGH")),"handled"):n==="font-up"?(this.m.set({fontSize:(Math.max(parseInt(i.fontSize)||1,0)+1).toString()}),"handled"):n==="font-down"?(this.m.set({fontSize:(Math.max(parseInt(i.fontSize)||1,2)-1).toString()}),"handled"):n==="apply"?(i.applyAndClose(),"handled"):n==="cancel"?(i.close(),"handled"):"not-handled"},this.customStyleFn=(n,r)=>{const o={whiteSpace:"pre"};return n.forEach(i=>{if(!i)return;const s=i.split("_");s.length<2||(o[s[0]]=s[1])}),o},this.keyBindingFn=n=>n.code==="Escape"?(n.preventDefault(),"cancel"):n.ctrlKey&&n.key==="Enter"?(n.preventDefault(),"apply"):n.ctrlKey&&n.key==="ArrowUp"?(n.preventDefault(),"font-up"):n.ctrlKey&&n.key==="ArrowDown"?(n.preventDefault(),"font-down"):n.ctrlKey&&n.code==="KeyS"?(n.preventDefault(),"strikethrough"):Bs.getDefaultKeyBinding(n),this.onApplyButtonClick=n=>{this.m.applyAndClose()},this.onCancelButtonClick=n=>{this.m.close()}}onViewMounted(){this.ref.current?.focus()}get dialogOpen(){return!this.m.isClosed}get randomKey(){return y4.toString()}get availableFonts(){return Bp}get editorState(){return this.m.state}get fontStyles(){return this.m.fontDecorations}get fontSizeValue(){return this.m.fontSize}get colorValue(){return this.m.fontColor}get fontValue(){return this.m.fontName}}class C3e extends Nt{constructor(){super(),this.viewMountRef=_.createRef(),vt(this,{hasSchema:qr})}onViewMountedSync(){const{scene:t}=this.m;this.viewMountRef.current?.appendChild(t.view),t.onViewMounted()}onViewUnmountedSync(){const{scene:t}=this.m;t.view.remove(),t.onViewUnmounted()}get textEditor(){return this.m.scene.textEditor}get selectedObject(){return this.m.scene.selection?.object||null}get selection(){return this.m.scene.selection}get klass(){const{m:t}=this;return t.type!=="fileSceneEditor"?t.klass:null}get schema(){return this.m.scene.schema}get hasSchema(){return!!this.schema}}function zm({options:e,...t}){return x.jsx(vw,{fullWidth:!0,children:x.jsx(ul,{select:!0,size:"small",...t,children:e.map(([n,r])=>x.jsx(Hi,{value:n,children:r},n))})})}function ps({label:e,...t}){return x.jsx(Zl,{control:x.jsx(cl,{...t}),label:e,sx:{mr:0}})}const x3e=Ao()(({vm:e,...t})=>x.jsx(ul,{error:e.error,value:e.value,...t})),So=Dt(g4)(({vm:e,value:t,onChange:n,immediate:r,...o})=>x.jsx(iIe,{onSubmit:sz,onKeyDown:e.onFormKeyDown,onBlur:e.onFormBlur,autoComplete:"off",children:x.jsx(x3e,{onChange:e.onChange,fullWidth:!0,size:"small",slotProps:{htmlInput:{step:"any"}},...o})})),_3e=Dt(g4)(({vm:e,options:t,value:n,onChange:r,immediate:o,...i})=>x.jsx(hU,{inputValue:e.value,onInputChange:e.onInputChange,onBlur:e.onFormBlur,renderInput:s=>x.jsx(ul,{...s,error:e.error,...i}),options:t,size:"small",freeSolo:!0,blurOnSelect:!0,sx:{flexGrow:1}})),E3e={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${fU.root}`]:{width:32,height:32,ml:-.5,mr:1}},T3e=Dt(QRe)(({vm:e})=>x.jsxs(ww,{anchorEl:e.anchorEl,open:e.parent.optionsMenuOpen,onClose:e.parent.onOptionsMenuClose,transformOrigin:{horizontal:"left",vertical:"bottom"},anchorOrigin:{horizontal:"left",vertical:"top"},slotProps:{paper:{elevation:0,sx:E3e}},children:[x.jsx(Hi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ps,{checked:e.popup,onChange:e.setPopup}),label:"Всплывающее окно"})}),x.jsx(Hi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ps,{checked:e.fixed,onChange:e.setFixed}),label:"Нельзя изменять размер мышкой"})}),x.jsx(Hi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ps,{checked:e.vscroll,onChange:e.setVScroll}),label:"Показывать вертикальный scroll"})}),x.jsx(Hi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ps,{checked:e.hscroll,onChange:e.setHScroll}),label:"Показывать горизонтальный scroll"})}),x.jsx(Hi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ps,{checked:e.autoorg,onChange:e.seAutoOrg}),label:"Граница по крайнему объекту"})}),x.jsx(Hi,{disableRipple:!0,children:x.jsx(Zl,{control:x.jsx(ps,{checked:e.autoScroll,onChange:e.seAutoScroll}),label:"Автоматически пересчитывать область прокрутки"})})]})),M3e=Ao()(({vm:e})=>x.jsxs(x.Fragment,{children:["x:",e.statusCursorX,", y:",e.statusCursorY,", zoom:",e.zoom,"%"]})),O3e=Dt(YRe)(({vm:e})=>{const{showSchemaButtons:t}=e;return x.jsxs(x.Fragment,{children:[x.jsx(T3e,{}),x.jsx(On,{title:"Отменить (Ctrl+Z)",placement:"top",children:x.jsx(bo,{component:"span",display:"flex",children:x.jsx(Sn,{onClick:e.onUndoButtonClick,disabled:e.undoButtonDisabled,size:"small",children:x.jsx(KMe,{})})})}),x.jsx(On,{title:"Повторить (Ctrl+Shift+Z)",placement:"top",children:x.jsx(bo,{component:"span",display:"flex",children:x.jsx(Sn,{onClick:e.onRedoButtonClick,disabled:e.redoButtonDisabled,size:"small",children:x.jsx(jMe,{})})})}),x.jsx(On,{title:"Создать линию (L)",placement:"top",children:x.jsx(Sn,{onClick:e.onCreateLineButtonClick,size:"small",sx:{ml:2},children:x.jsx(BMe,{})})}),x.jsx(On,{title:"Создать прямоугольник (Q)",placement:"top",children:x.jsx(Sn,{onClick:e.onCreateRectButtonClick,size:"small",children:x.jsx(FMe,{})})}),x.jsx(On,{title:"Создать текст (T)",placement:"top",children:x.jsx(Sn,{onClick:e.onCreateTextButtonClick,size:"small",children:x.jsx(YTe,{})})}),x.jsx(On,{title:"Создать элемент ввода (I)",placement:"top",children:x.jsx(Sn,{onClick:e.onCreateInputButtonClick,size:"small",children:x.jsx(xMe,{})})}),x.jsx(On,{title:"Создать кнопку (B)",placement:"top",children:x.jsx(Sn,{onClick:e.onCreateButtonButtonClick,size:"small",children:x.jsx(JTe,{})})}),t&&x.jsx(On,{title:"Создать связь (C)",placement:"top",children:x.jsx(Sn,{onClick:e.onCreateConnectionButtonClick,size:"small",children:x.jsx(QTe,{})})}),t&&x.jsx(On,{title:"Изменить порядок имиджей (R)",placement:"top",children:x.jsx(Sn,{onClick:e.onReorderButtonClick,color:e.reorderButtonActive?"error":"default",size:"small",sx:{ml:2},children:x.jsx(vMe,{})})}),e.showSceneOptionsButton&&x.jsx(On,{title:"Свойства окна сцены",placement:"top",children:x.jsx(Sn,{onClick:e.onSceneOptionsButtonClick,ref:e.propsButtonRef,size:"small",sx:{ml:2},children:x.jsx(XMe,{})})}),x.jsx(On,{title:"Предыдущий объект (Shift+Tab)",placement:"top",children:x.jsx(Sn,{onClick:e.onSelectPrevObjectButtonClick,size:"small",sx:{ml:2},children:x.jsx(RMe,{})})}),x.jsx(On,{title:"Следующий объект (Tab)",placement:"top",children:x.jsx(Sn,{onClick:e.onSelectNextObjectButtonClick,size:"small",children:x.jsx(IMe,{})})}),t&&x.jsxs(x.Fragment,{children:[x.jsx(On,{title:`${e.showClassesCheckboxChecked?"Скрыть":"Показать"} имиджи (1)`,placement:"top",children:x.jsx(cl,{checked:e.showClassesCheckboxChecked,onChange:e.onHideClassesCheckboxChange,checkedIcon:x.jsx(Tw,{sx:{color:"yellowgreen"}}),icon:x.jsx(zMe,{}),sx:{ml:2}})}),x.jsx(On,{title:`${e.showConnectionsCheckboxChecked?"Скрыть":"Показать"} связи (2)`,placement:"top",children:x.jsx(cl,{checked:e.showConnectionsCheckboxChecked,onChange:e.onShowConnectionsCheckboxChange,checkedIcon:x.jsx(SMe,{sx:{color:"red"}}),icon:x.jsx(CMe,{})})}),x.jsx(On,{title:`${e.showOtherCheckboxChecked?"Скрыть":"Показать"} остальные объекты (3)`,placement:"top",children:x.jsx(cl,{checked:e.showOtherCheckboxChecked,onChange:e.onShowOtherCheckboxChange,checkedIcon:x.jsx(oMe,{}),icon:x.jsx(iMe,{})})})]}),x.jsx(On,{title:`${e.selectUnselectableCheckboxChecked?"Отключить":"Включить"} выбор невыбираемых объектов (4)`,placement:"top",children:x.jsx(cl,{checked:e.selectUnselectableCheckboxChecked,onChange:e.onSelectUnselectableCheckboxChange,checkedIcon:x.jsx(cMe,{sx:{color:"red"}}),icon:x.jsx(uMe,{})})}),x.jsx(bo,{ml:"auto",children:x.jsx(M3e,{})}),x.jsx(Sn,{onClick:e.onResetZoomButtonClick,disabled:e.resetZoomButtonDisabled,size:"small",children:x.jsx(VMe,{})})]})}),R3e=Dt(XRe)(({vm:e})=>x.jsx(bo,{ml:"auto",children:e.cursorPosition})),I3e=Dt(ZRe)(({vm:e})=>{const{currentEditor:t}=e;return x.jsxs(ri,{display:"flex",flexGrow:0,height:25,fontSize:15,textAlign:"end",px:2,whiteSpace:"nowrap",sx:{userSelect:"none"},children:[e.showSaveButton&&x.jsx(On,{title:"Сохранить (Ctrl+S)",placement:"top",children:x.jsx(Sn,{onClick:e.onSaveButtonClick,disabled:e.saveButtonDisabled,size:"small",children:x.jsx($Me,{})})}),t&&_$(t)&&x.jsx(O3e,{m:t}),t&&kge(t)&&x.jsx(R3e,{m:t})]})});class P3e extends Nt{constructor(){super(),this.dashed=!1,this.onMouseDownCapture=t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},this.onPointerDown=t=>{switch(t.button){case 0:t.stopPropagation(),this.makeActive();return;case 1:t.preventDefault(),this.onCloseButtonClick();return}},this.onCloseButtonPointerDown=t=>{t.stopPropagation()},this.onDragStart=t=>{this.tabTransfer.put(t.dataTransfer,this,"move")},this.onDragOver=t=>{t.preventDefault();const n=t.dataTransfer;n.dropEffect=this.tabTransfer.canDrop(t.dataTransfer)?"move":"none"},this.onDragEnter=t=>{if(this.onDragOver(t),t.dataTransfer.dropEffect!=="none"){this.dashed=!0;return}this.isActive||this.makeActive()},this.onDragLeave=t=>{t.preventDefault(),t.currentTarget.contains(t.relatedTarget)||(this.dashed=!1)},this.onDrop=t=>{t.preventDefault();const n=this.tabTransfer.pop(t.dataTransfer);n&&(this.dashed=!1,this!==n&&this.parent._swapTabs(this.m,n.m))},this.onCloseButtonClick=t=>{this.m.close()},vt(this,{dashed:Pe.ref,isActive:qr,onPointerDown:ye,onDragEnter:ye,onDragLeave:ye,onDrop:ye})}makeActive(){this.parent._setCurrent(this.m)}get tabTransfer(){return this.parent.tabTransfer}get editor(){return this.m.editor}get value(){return this.m._reactKey}get _reactKey(){return this.m._reactKey}get isActive(){return this.parent.value===this.value}get title(){return this.editor.title}get hasChanges(){return this.editor.hasChanges||!1}get isDeleted(){return this.editor.isDeleted}get isReadonly(){return this.editor.isReadonly}}class k3e extends Nt{constructor(){super(...arguments),this.tabTransfer=new nM("tabs")}get tabs(){return this.m.tabs}get value(){return this.m.currentTab?._reactKey||!1}_setCurrent(t){this.m.setCurrentTab(t)}_swapTabs(t,n){const r=this.m.tabs.slice(),o=r.indexOf(t),i=r.indexOf(n);r.splice(i,1),r.splice(o,0,n),this.m.reorderTabs(r)}}const D3e=be(fH)({maxWidth:"1rem"}),A3e=be(Ew)({maxWidth:"1rem"}),L3e=be(bo,{shouldForwardProp:e=>e!=="isDeleted"})(({isDeleted:e})=>({...e&&{textDecoration:"line-through",color:"red"}})),N3e=Ao()(({vm:e})=>{const{title:t,hasChanges:n,isDeleted:r,isReadonly:o}=e,i=`${t}${o&&!r?" (READONLY)":""}`;return x.jsxs(L3e,{variant:"caption",fontSize:"0.8rem",isDeleted:r,children:[i,x.jsx(On,{title:"Закрыть (Alt+W, Shift+W)",children:x.jsx(Sn,{onClick:e.onCloseButtonClick,onPointerDown:e.onCloseButtonPointerDown,component:"div",size:"small",children:n?x.jsx(D3e,{}):x.jsx(A3e,{})})})]})}),iI=35,B3e=be($O,{shouldForwardProp:e=>e!=="dashed"&&e!=="isActive"})(({dashed:e,isActive:t})=>({maxHeight:iI,minHeight:iI,textTransform:"none",...e&&{border:"1px dashed black"},...t&&{background:"rgb(219 217 217)"}})),b4=Dt(P3e)(({vm:e})=>x.jsx(B3e,{label:x.jsx(N3e,{}),draggable:!0,disableRipple:!0,dashed:e.dashed,isActive:e.isActive,onPointerDown:e.onPointerDown,onDragStart:e.onDragStart,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop}));b4.muiName="Tab";const F3e=be(iH,{name:"ETabsView"})({minHeight:iI,[`& .${sm.indicator}`]:{transition:"none"},[`& .${sm.scrollButtons}.${tH.disabled}`]:{opacity:.3}}),j3e=Dt(k3e)(({vm:e})=>x.jsx(F3e,{variant:"scrollable",value:e.value,children:e.tabs.map(t=>x.jsx(b4,{value:t._reactKey,m:t},t._reactKey))})),V3e=be("div",{name:"LeftPanelToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center",[`& .${P3.root}`]:{padding:6}}),$3e=be(Ui,{name:"MainMenuButton"})({display:"block",margin:4,padding:2,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0});class z3e extends Nt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.onCollapseFilesButtonClick.dispatch()}}const U3e=Dt(z3e)(({vm:e})=>x.jsx(On,{title:"Свернуть список файлов",children:x.jsx(Sn,{onClick:e.onClick,children:x.jsx(qMe,{})})}));class H3e extends Nt{constructor(){super(...arguments),this.onClick=()=>{if(this.m.player){this.m.player.maximize();return}this.m.openPlayer()}}get isPlaying(){return!!this.m.player}}const G3e=Dt(H3e)(({vm:e})=>{const{isPlaying:t}=e;return x.jsx(On,{title:`${t?"Развернуть проигрыватель":"Запустить проект"} (Ctrl+R)`,children:x.jsx(Sn,{onClick:e.onClick,color:t?"error":"default",children:x.jsx(NMe,{})})})}),W3e=9,K3e=10,q3e=0,Y3e=1,X3e=3;class Z3e extends AV{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Xu(this._color=this.color):this._cssColor}blend(){switch(this.rop){case W3e:return"multiply";case K3e:return"multiply";default:return null}}fill(){switch(this.style){case q3e:return this.cssColor();case Y3e:return null;case X3e:return this.image?.pattern()??"black";default:return"white"}}}class Q3e extends LV{constructor(){super(...arguments),this._size=NaN,this._style=NaN,this._family="",this._textDecoration="",this._fontStyle="",this._fontWeight="",this._css=this.css(),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,size:n,style:r}=this;return this.inputCssFont=`${r&Lp?"bold":"normal"} ${r&ty?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?IC(t):t}css(){const{fontFamily:t,size:n,style:r}=this;let o=!1;if(this._style!==r){this._style=r,o=!0;const i=r&ty,s=r&Dk,a=r&Ak,c=r&Lp;this._textDecoration=`${s?"underline":""} ${a?"line-through":""}`,this._fontStyle=i?"italic":"normal",this._fontWeight=c?"bold":"normal"}return this._family!==t&&(this._family=t,o=!0),this._size!==n&&(this._size=n,o=!0),o?this._css={isSymbolFont:this.name==="Symbol",fontFamily:this._family,textDecoration:this._textDecoration,fontSize:n||15.940224159402327,fontStyle:this._fontStyle,fontWeight:this._fontWeight}:this._css}onPropsChanged(){this.inputCssFont=""}}let J3e=0;class eUe extends NV{constructor(t,n,r){super(t,n,r),this._pattern=null,this.resolvedSrc=Ji(this.src)}getPixel(){return 0}setPixel(){return!0}pattern(){if(this._pattern)return this._pattern.url;const t=document.createElementNS("http://www.w3.org/2000/svg","pattern"),n=`pattern_${++J3e}`;t.setAttribute("id",n),t.setAttribute("patternUnits","userSpaceOnUse"),t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString());const r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttribute("href",this.resolvedSrc),t.appendChild(r),this.scene._defs.appendChild(t);const o=`url(#${n})`;return this._pattern={e:t,url:o},o}}class tUe extends jV{constructor(t,n,r){super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","image"),this._visible=!0,this._src=null,this._area=null,this._x=0,this._y=0,this._w=0,this._h=0,this._angle=0,this.clipRect=null,this.hasArea=!0,this._svg.setAttribute("preserveAspectRatio","none")}_render(){const t=this.attrib,n=t&Ua,r=Zu(t),o=!(n||1<<r&this.scene.hiddenLayers);if(this._visible!==o&&(this._visible=o,o?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!o)return;const i=this.image,s=this._src!==i.resolvedSrc;s&&this._svg.setAttribute("href",this._src=i.resolvedSrc);const a=this.area,c=!!a,d=this.hasArea!==c;this.hasArea=c;const h=this._area!==a||s;if(h){this._area=a;const v=i.width,S=i.height;if(a){const E=Math.min(Math.max(a.x,0),v),T=Math.min(Math.max(a.y,0),S),R=Math.min(Math.max(a.w,0),v-E),M=Math.min(Math.max(a.h,0),S-T);if(!this.clipRect){const{id:N,rect:P}=this.scene._createClipRect();this._svg.setAttribute("clip-path",`url(#${N})`),this.clipRect=P}const{clipRect:I}=this;I.setAttribute("x",E.toString()),I.setAttribute("y",T.toString()),I.setAttribute("width",R.toString()),I.setAttribute("height",M.toString())}else this._svg.removeAttribute("clip-path"),this.clipRect?.remove(),this.clipRect=null}const f=this.x-this.scene.x,g=this.y-this.scene.y,m=this.width,y=this.height,b=this.angle;if(f!==this._x||g!==this._y||this._w!==m||this._h!==y||this._angle!==b||h){const{area:v}=this;this._x=f,this._y=g,this._w=m,this._h=y,this._angle=b;let S=`translate(${f}, ${g}),rotate(${b*180/Math.PI})`;v?S+=`scale(${m/v.w}, ${y/v.h}), translate(${-v.x}, ${-v.y})`:(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())),this._svg.setAttribute("transform",S),d&&(c?(this._svg.removeAttribute("width"),this._svg.removeAttribute("height")):(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())))}}onPropsChanged(){}onAttribChanged(){}}const Yd={"jf-scene":"Lub8lEDq","jf-input":"_3Au4Qe-K","jf-video":"uvJsh9bM","disable-inputs":"pQtj-s3j",multiline:"_3YpK1pvi",border:"_3n6h0K3a"},nUe=64,rUe=128,oUe=8388608;class iUe extends VV{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:o=0}=r;let i;n==="Button"?(i=document.createElement("input"),i.type="button",i.addEventListener("click",this)):(i=document.createElement("textarea"),i.addEventListener("input",this)),i.className=Yd["jf-input"],i.spellcheck=!1,i.name=`jf-${this.key}`,o&oUe&&i.classList.add(Yd.border),this.isMultiline&&i.classList.add(Yd.multiline),i.addEventListener("focus",this),i.addEventListener("blur",this),this._html=i}focus(){this._html.focus()}handleEvent(t){const{scene:n,_html:r,style:o}=this;if(t.type==="input"){if(!(o&rUe)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(o&nUe)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this._html.value=this._value=this.value);const o=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y),s=Math.round(this.width),a=Math.round(this.height);this._x!==o&&n.setProperty("left",(this._x=o).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==a&&n.setProperty("height",(this._h=a).toString()+"px")}_onFontPropsChanged(){}onAttribChanged(){}}let sUe=0;function aUe(){const e=`mark_${++sUe}`,t=document.createElementNS("http://www.w3.org/2000/svg","marker");t.setAttribute("id",e),t.setAttribute("orient","auto"),t.setAttribute("refX","0");const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return t.appendChild(n),{shape:n,marker:t,id:e}}function w4(e,t,n,r){const o=n.width||1,i=n.stroke(),s=t.fill?i:null,a=t.fill?null:i;e.marker.setAttribute("markerWidth",(t.width+o).toString()),e.marker.setAttribute("markerHeight",(t.oy*2+o).toString()),r&&e.marker.setAttribute("refX",t.width.toString()),e.marker.setAttribute("refY",t.oy.toString()),e.marker.setAttribute("markerUnits","userSpaceOnUse"),e.shape.setAttribute("points",t.coords),e.shape.setAttribute("stroke-width",o.toString()),a?e.shape.setAttribute("stroke",a):e.shape.removeAttribute("stroke"),e.shape.setAttribute("fill",s||"none")}function S4(e,t){if(e.angle===0||e.length===0)return null;const n=Math.abs(e.length*Math.sin(e.angle)),r=Math.abs(e.length*Math.cos(e.angle)),o=t?[0,0,r,n,0,n*2]:[r,0,0,n,r,n*2];return{coords:C4(o),fill:e.fill??!1,width:r,oy:n}}function C4(e){let t="";for(let n=0;n<e.length;n+=2)t+=e[n]+","+e[n+1]+" ";return t}function x4(e){const t=document.createElementNS("http://www.w3.org/2000/svg",e);return t.setAttribute("fill-rule","evenodd"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t}class lUe extends $V{constructor(t,n,r){super(t,n,r),this._visible=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0,this.shouldUpdateCoords=!0,this._svg=x4(this._svgType=r.brush&&n.length>4?"polygon":"polyline")}createMarker(t){const n=aUe();return this.scene._defs.appendChild(n.marker),this._svg.setAttribute(t?"marker-start":"marker-end",`url(#${n.id})`),n}_render(){const t=this.attrib,n=t&Ua,r=t&Bl,o=Zu(t),{pen:i,brush:s}=this,a=!n&&!!(i||s)&&(!!r||!(1<<o&this.scene.hiddenLayers));if(this._visible!==a&&(this._visible=a,a?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!a)return;const c=this.brush&&this.length>2?"polygon":"polyline";if(this._svgType!==c){this._svgType=c,this.shouldUpdateCoords=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0;const E=x4(c);this._svg.parentElement&&this._svg.replaceWith(E),this._svg=E}this.shouldUpdateCoords&&(this.shouldUpdateCoords=!1,this._svg.setAttribute("points",C4(this.coords)));const d=i?.width||1,h=i?.stroke()||null,f=i?.dash()||null;if(this._width!==d){this._width=d;const E=d.toString();this._svg.setAttribute("stroke-width",E),this._startMark?.shape.setAttribute("stroke-width",E),this._endMark?.shape.setAttribute("stroke-width",E)}this._stroke!==h&&(this._stroke=h,h?(this._svg.setAttribute("stroke",h),this._startMark?.shape.setAttribute("stroke",h),this._endMark?.shape.setAttribute("stroke",h)):this._svg.removeAttribute("stroke")),this._dash!==f&&(this._dash=f,f?this._svg.setAttribute("stroke-dasharray",f):this._svg.removeAttribute("stroke-dasharray"));const g=this.length>2&&s?.fill()||"none";this._fill!==g&&(this._fill=g,this._svg.setAttribute("fill",g));const m=s?.blend()||i?.blend()||null;this._blend!==m&&(this._blend=m,m?this._svg.style.setProperty("mix-blend-mode",m):this._svg.style.removeProperty("mix-blend-mode"));const y=i&&(s?null:this.start),b=i&&(s?null:this.end);if(this._start!==y){this._start=y;const E=y&&S4(y,!1);E?w4(this._startMark||=this.createMarker(!0),E,i,!0):(this._startMark?.marker.remove(),this._startMark=null)}if(this._end!==b){this._end=b;const E=b&&S4(b,!0);E?w4(this._endMark||=this.createMarker(!1),E,i,!1):(this._endMark?.marker.remove(),this._endMark=null)}const v=this.x-this.scene.x,S=this.y-this.scene.y;(v!==this._x||S!==this._y)&&(this._x=v,this._y=S,this._svg.setAttribute("transform",`translate(${v}, ${S})`))}onCoordsChanged(){this.shouldUpdateCoords=!0}onPropsChanged(){}onAttribChanged(){}_onPenPropsChanged(){}_onBrushPropsChanged(){}}const cUe=0,uUe=1,dUe=2,hUe=3,fUe=4,pUe=5,gUe=9,mUe=10;class vUe extends zV{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Xu(this._color=this.color):this._cssColor}blend(){switch(this.rop){case gUe:return"multiply";case mUe:return"multiply";default:return null}}stroke(){return this.style===pUe?null:this.cssColor()}dash(){switch(this.style){case cUe:return null;case uUe:return"16 4";case dUe:return"2 4";case hUe:return"16 4 2 4";case fUe:return"16 4 2 4 2 4";default:return null}}}class yUe extends UV{constructor(){super(...arguments),this._text="",this._parts=[""]}split(){return this._text!==this.text?this._parts=(this._text=this.text).split(`\r
`).join(`
`).split(`
`):this._parts}}class bUe extends HV{onPropsChanged(){}_onStringTextChanged(){}_onFontPropsChanged(){}}class wUe extends GV{constructor(){super(...arguments),this._textCalc=null}get width(){return this._textCalc?.().w??0}get height(){return this._textCalc?.().h??0}_createPart(t){return new bUe(this,t)}onTextPartsChanged(){}}function _4(e){const t=document.createElementNS("http://www.w3.org/2000/svg","tspan");return e&&(t.setAttribute("x","0px"),t.setAttribute("dy","1.15em")),t}class SUe{constructor(t,n){this.owner=t,this.part=n,this._fragments=[],this._css=null,this._fgcolor=NaN,this.spans=n.string.split().map((r,o)=>_4(o>0))}update(){let t=!1;const{part:n,spans:r}=this,o=n.string.split(),i=n.font.css();if(this._fragments!==o){this._fragments=o,t=!0,r.length!==o.length&&(this._fgcolor=NaN);let s;for(let a=0;a<o.length;++a){if(a<r.length)s=r[a];else{const d=_4(!0);r.push(d),s.after(d),s=d,this._css=null}let c=o[a];i.isSymbolFont&&(c=n.font.transformText(c)),s.textContent=c||"​"}for(;r.length>o.length;)r.pop()?.remove()}if(this._css!==i&&(this._css=i,t=!0,r.forEach(s=>{s.setAttribute("font-family",i.fontFamily),s.setAttribute("font-size",i.fontSize.toString()),s.setAttribute("font-style",i.fontStyle),s.setAttribute("text-decoration",i.textDecoration),s.setAttribute("font-weight",i.fontWeight)})),this._fgcolor!==n.fgcolor){this._fgcolor=n.fgcolor;const s=Xu(n.fgcolor)??"transparent";r.forEach(a=>a.setAttribute("fill",s))}return t}}class CUe extends KV{constructor(t,n,r){if(super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","text"),this._visible=!0,this._parts=[],this._partsSVG=[],this._sizes={w:0,h:0},this._angle=0,this._x=0,this._y=0,this._svg.setAttribute("dominant-baseline","text-before-edge"),this._svg.setAttribute("alignment-baseline","text-before-edge"),this._svg.setAttribute("letter-spacing","-0.07"),this._svg.style.setProperty("white-space","pre"),this._svg.style.setProperty("user-select","none"),n._textCalc=this._calcSizes.bind(this),!r.width||!r.height){const o=r.width??n.width,i=r.height??n.height;this.updateBBox(this.x,this.y,o,i)}}_calcSizes(){const t=this.text.parts;if(!t||!this.updateParts(t))return this._sizes;const n=this._svg.parentElement;n||this.scene._root.appendChild(this._svg);const{y:r=0,width:o,height:i}=this._svg.getBBox();return n||this._svg.remove(),this._sizes={w:o,h:r+i}}updateParts(t){if(this._parts!==t){this._parts=t;const n=[];this._partsSVG=t.map(r=>{const o=new SUe(this,r);return n.push(...o.spans),o}),this._svg.replaceChildren(...n)}return this._partsSVG.reduce((n,r)=>r.update()||n,!1)}_render(){const t=this.attrib,n=t&Ua,r=t&Bl,o=Zu(t),i=this.text.parts,s=(!!r||!(n||1<<o&this.scene.hiddenLayers))&&!!i;if(this._visible!==s&&(this._visible=s,s?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!s)return;this.updateParts(i);const a=this.x-this.scene.x,c=this.y-this.scene.y,d=this.angle;(a!==this._x||c!==this._y||this._angle!==d)&&(this._x=a,this._y=c,this._angle=d,this._svg.setAttribute("transform",`translate(${a}, ${c}), rotate(${d*180/Math.PI})`))}onPropsChanged(){}onAttribChanged(){}_onTextPartsChanged(){}}function E4(e,t,n){const r=new Set(n);let o=0,i=null;t.forEach(s=>{if(r.delete(s),o<n.length&&s===n[o])++o;else{const a=i?i.nextElementSibling:e.firstElementChild;e.insertBefore("_svg"in s?s._svg:s._html,a)}i="_svg"in s?s._svg:s._html}),r.forEach(s=>("_svg"in s?s._svg:s._html).remove())}class xUe{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}}class _Ue extends qV{constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const o=this._html=document.createElement("video");o.className=Yd["jf-video"],o.src=Ji(n),o.controls=!ry.hideVideoControls,this.video=new xUe(o)}currentState(){const t=this._html;return t.paused?t.currentTime?"pause":"stop":"play"}setCurrentTime(t){const n=this._html;return t!==n.currentTime&&(n.currentTime=t),this}currentTime(){return this._html.currentTime}play(){const t=this._html;return t.paused&&t.play(),this}pause(){const t=this._html;return t.paused||t.pause(),this}stop(){return this.pause(),this.setCurrentTime(0),this}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this.fixed){const i=Math.round(this.width),s=Math.round(this.height);this._w!==i&&n.setProperty("width",(this._w=i).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}onAttribChanged(){}}let EUe=0;class TUe extends DV{constructor(t){super(),this.prevOrder=[],this.svgOrder=[],this.htmlOrder=[],this.bgRect=null,this._bg=null;const n=this._root=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=this.htmlRoot=document.createElement("div"),i=this.domElement=document.createElement("div");i.className=Yd["jf-scene"],n.append(r),i.append(n,o),this.init(t)}dispose(){}render(t=!1){if(!t&&!this.domElement.parentElement)return;const{background:n,prevOrder:r,svgOrder:o,_root:i,htmlOrder:s,htmlRoot:a}=this,c=n?.fill()??null;let d=!1;if(d=this._bg!==c)if(this._bg=c,c){if(!this.bgRect){const f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("width","100%"),f.setAttribute("height","100%"),this.bgRect={_svg:f}}this.bgRect._svg.setAttribute("fill",c)}else this.bgRect?._svg.remove(),this.bgRect=null;const h=this.order;if(r!==h||d){const f=this.bgRect?[this.bgRect]:[],g=[];h.forEach(m=>{"_svg"in m?f.push(m):g.push(m)}),o.length>0?E4(i,f,o):i.append(...f.map(m=>m._svg)),s.length>0?E4(a,g,s):g.length>0&&a.append(...g.map(m=>m._html)),this.svgOrder=f,this.htmlOrder=g,this.prevOrder=h}h.forEach(f=>f._render())}toSVG(t,n){const{x:r,y:o,hiddenLayers:i}=this;this.set({x:t.x,y:t.y,hiddenLayers:0}),this.render(!0);let s;return n?(s=this._root,this.dispose()):(s=this._root.cloneNode(!0),this.set({x:r,y:o,hiddenLayers:i}),t&&this.render(!0)),s.removeAttribute("style"),s.removeAttribute("class"),s.setAttribute("viewBox",`0 0 ${t.w} ${t.h}`),s}toBlob(t){const n=this.toSVG(t);n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("width",t.w+"px"),n.setAttribute("height",t.h+"px"),n.setAttribute("preserveAspectRatio","xMidYMid slice");const o=`<?xml version="1.0"?>\r
`+new XMLSerializer().serializeToString(n);return Promise.resolve(new Blob([o],{type:"image/svg+xml"}))}createLine(t,n={}){return new lUe(this,t,n)}createImageView(t,n={}){return new tUe(this,t,n)}createTextView(t,n={}){return new CUe(this,t,n)}createInput(t,n={}){return new iUe(this,t,n)}createVideo(t,n={}){return new _Ue(this,t,n)}createPen(t={}){return new vUe(this,t)}createBrush(t={}){return new Z3e(this,t)}createImage(t,n={}){return new eUe(this,t,n)}createString(t,n={}){return new yUe(this,t,n)}createFont(t={}){return new Q3e(this,t)}createText(t,n={}){return new wUe(this,t,n)}_createClipRect(){const t=`clipPath_${++EUe}`,n=document.createElementNS("http://www.w3.org/2000/svg","clipPath");n.setAttribute("id",t);const r=document.createElementNS("http://www.w3.org/2000/svg","rect");return n.appendChild(r),this._defs.appendChild(n),{id:t,rect:r}}onDisableInputsChanged(){this.disableInputs?this.domElement.classList.add(Yd["disable-inputs"]):this.domElement.classList.remove(Yd["disable-inputs"])}_onBrushPropsChanged(){}onBackgroundChanged(){}onLayersChanged(){}onOriginChanged(){}}const MUe=TUe,T4=new WeakMap,M4=new Map;function OUe(e){const t=new MUe(e),n=iy(t.objects.values()),r=Math.abs(n.w-n.h)>50?Math.min(n.w,n.h):void 0,o={...n,w:r||n.w,h:r||n.h};return t.toSVG(o,!0)}function RUe(e,t){const n=kp(e)||KC,{x:r,y:o}=YC(n,t),i=`${r} ${o} 32 32`;return{src:Ji(n.src),viewBox:i}}const IUe=be("svg")({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"});function O4(e){return x.jsx(IUe,{width:32,height:32,viewBox:"0 0 32 32",preserveAspectRatio:"xMidYMid slice",...e})}function wS({sceneData:e}){let t=T4.get(e);return t||(t=OUe(e),T4.set(e,t)),x.jsx(O4,{ref:n=>n?.replaceChildren(t.cloneNode(!0))})}function sI({icon:{atlas:e="",index:t=0}}){const n=e+t;let r=M4.get(n);return r||(r=RUe(e,t),M4.set(n,r)),x.jsx(O4,{viewBox:r.viewBox,children:x.jsx("image",{href:r.src})})}const R4=be(ZTe)({opacity:.8}),I4=be(wMe)({opacity:.8}),P4=be(tR,{name:"SchemaTreeView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${Jl.content}`]:{padding:"0px 2px",margin:e.spacing(.2,0),[`& .${Jl.label}`]:e.typography.body2},[`& .${Jl.groupTransition}`]:{marginLeft:15,borderLeft:"1px dashed rgba(0, 0, 0, 0.4)"},[`& .${Jl.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class PUe extends Nt{constructor(t){super(),this.ctx=t,this.onDoubleClick=n=>{n.stopPropagation(),this.ctx.project.focusOnNode(this.m,!0)},vt(this,{canExpand:qr,onDoubleClick:!1})}get image(){return this.m.klass.imageData}get icon(){return this.m.klass.icon}get canExpand(){return this.m.children.list.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children.list}}class kUe extends Nt{constructor(t){super(),this.ctx=t,this.selectedItem=null,this.apiRef=_.createRef(),this.onNodeSelectedOnScene=n=>{const r=n.itemId,o=this.getItemById(r);if(!o)return;const i=new Set(this.expandedItems);let s=o;for(;s.parent;)i.add(s.parent.itemId),s=s.parent;this.selectedItem=r,this.expandedItems=Array.from(i);const a=document.activeElement;this.apiRef.current?.focusItem(null,n.itemId),a instanceof HTMLElement&&a.focus()},this.onExpandedItemsChange=(n,r)=>{if(n?.type==="keydown"&&n.key==="Enter"){const{expandedItems:o}=this;let i;r.length>o.length?i=r.find(s=>!o.includes(s)):i=o.find(s=>!r.includes(s)),i&&this.onSelectedItemChange(n,i);return}this.expandedItems=r},this.onSelectedItemChange=(n,r)=>{if(this.selectedItem=r,!r)return;const o=this.getItemById(r);o&&this.ctx.project.focusOnNode(o)},this.onDescendantsDeleted=n=>{const r=new Set(uk(n,o=>o.itemId));this.expandedItems=this.expandedItems.filter(o=>!r.has(o))},this.expandedItems=[this.m.itemId],vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:ye,onSelectedItemChange:ye})}onViewMountedSync(){this.m.onDescendantsDeleted.add(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.add(this.onNodeSelectedOnScene)}onViewUnmountedSync(){this.m.onDescendantsDeleted.remove(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.remove(this.onNodeSelectedOnScene)}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const o of r.children.list){const i=n(o);if(i)return i}return null})(this.m)}}const DUe=Dt(kUe)(({vm:e,m:t,hidden:n})=>x.jsx(P4,{hidden:n,apiRef:e.apiRef,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:R4,collapseIcon:I4},onContextMenu:xb,children:x.jsx(k4,{m:t})})),k4=Dt(PUe)(({vm:e})=>{const{image:t}=e;return x.jsx(tu,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(wS,{sceneData:t}):x.jsx(sI,{icon:e.icon}),e.label]}),onDoubleClick:e.onDoubleClick,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(AUe,{})})}),AUe=Ao()(({vm:e})=>e.children.map(t=>x.jsx(k4,{m:t},t.itemId)));class LUe extends Nt{constructor(){super(...arguments),this.onClick=()=>this.m.sync()}get isSyncing(){return this.m.isSyncing}get changesList(){return this.m.changesList}}const NUe={bgcolor:Ja[500],"&:hover":{bgcolor:Ja[700]}},BUe={bgcolor:Uc[700],"&:hover":{bgcolor:Uc[800]}},D4={width:"0.5em",height:"0.5em",color:"white"},FUe={color:Ja[500],position:"absolute",top:-2,left:-2,zIndex:1},jUe=x.jsx(yH,{sx:D4}),VUe=x.jsx(dH,{sx:D4});function $Ue({title:e}){return x.jsx(bo,{variant:"caption",whiteSpace:"pre-wrap",children:e})}const zUe=Dt(LUe)(({vm:e})=>{const{isSyncing:t,changesList:n}=e,r=!t&&!n.length,o=t?"Идет синхронизация...":n.length?`Изменения:
`+n.join(`
`):"Все библиотеки синхронизированы";return x.jsxs(ri,{position:"relative",ml:1,children:[x.jsx(On,{title:x.jsx($Ue,{title:o}),children:x.jsx(Sn,{onClick:e.onClick,sx:r?NUe:BUe,children:r?VUe:jUe})}),t&&x.jsx(af,{size:32,sx:FUe})]})}),UUe=be(tR,{name:"EVFSView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${Jl.content}`]:{padding:"0px 2px",[`& .${Jl.label}`]:e.typography.body2},[`& .${Jl.groupTransition}`]:{marginLeft:12},[`& .${Jl.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class HUe extends Nt{constructor(t){super(),this.selectedItem=null,this.autoCollapsed=!1,this.onExpandedItemsChange=(r,o)=>{this._expandedItems=o,this.autoCollapsed=!1},this.onSelectedItemsChange=(r,o)=>{if(this.selectItem(o),!o)return;const i=this.getItemById(o);if(i?.type!=="file")return;const{project:s}=this.ctx,{klass:a}=i;if(r&&"ctrlKey"in r&&r.ctrlKey){a&&(a.hasCode||!a.isReadonly)&&s.openKlassCode(a);return}if(r&&"shiftKey"in r&&r.shiftKey){a&&(a.hasScene||!a.isReadonly)&&s.openKlassScene(a);return}s.openFile(i)},this.collapse=()=>{this._expandedItems=[],this.autoCollapsed=!1},this.onDescendantsDeleted=r=>{const o=new Set(uk(r,i=>i.itemId));this._expandedItems=this._expandedItems.filter(i=>!o.has(i)),this.autoCollapsed=!1},this.ctx={...t,vfs:this,fileDirTransfer:new nM("fileDir"),_dragStartTimeStamp:0};const{libs:n}=this.m;this._expandedItems=n.length?[n[0].rootDir.itemId]:[],vt(this,{_expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:ye,selectItem:ye,expandItem:ye,expandAll:ye,collapse:ye,onSelectedItemsChange:!1})}onViewMountedSync(){this.ctx.project.onCollapseFilesButtonClick.add(this.collapse),this.m.onDirsRemoved.add(this.onDescendantsDeleted),this.autorun(()=>{this.ctx.project.vfsFilter.text.length>1&&this.expandAll()})}onViewUnmountedSync(){this.ctx.project.onCollapseFilesButtonClick.remove(this.collapse),this.m.onDirsRemoved.remove(this.onDescendantsDeleted)}get expandedItems(){return this.ctx.project.vfsFilter.text.length<2&&this.autoCollapsed?[]:this._expandedItems}get libs(){return this.m.libs}selectItem(t){this.selectedItem=t}expandItem(t){this._expandedItems.includes(t)||(this._expandedItems=this._expandedItems.concat(t),this.autoCollapsed=!1)}expandAll(){const t=[];function n(r){t.push(r.itemId),r.dirs.forEach(n)}this.libs.forEach(r=>n(r.rootDir)),this._expandedItems=t,this.autoCollapsed=!0}getItemById(t){function n(r){if(r.itemId===t)return r;for(const o of r.files)if(o.itemId===t)return o;for(const o of r.dirs){const i=n(o);if(i)return i}return null}for(const r of this.libs){const o=n(r.rootDir);if(o)return o}return null}}function ra(e){return _.createElement(e,{fontSize:"small"})}function A4(e){return[{title:"Переименовать",icon:ra(fH),action:e.startRenaming},{title:"Удалить",icon:ra(aMe),action:e.deleteWithConfirm}]}function GUe(e){return[{title:"Папка",icon:ra(sMe),action:e.createNewDir},{title:"Имидж",icon:ra(nMe),action:Oq(e.createClass)},{title:"Сцена",icon:ra(bH),action:e.createScene},{title:"Матрица",icon:ra(mH),action:e.createMatrix},{title:"Текстовый файл",icon:ra(vH),action:e.createTextFile},{title:"Загрузить файлы",icon:ra(YMe),action:e.openUploadDialog}]}function WUe(e,t){const{isSearchDir:n}=e;return{title:n?"Исключить из путей поиска имиджей":"Добавить в пути поиска имиджей",icon:ra(n?HMe:UMe),action:(n?t.removeKlassSearchDir:t.addKlassSearchDir).bind(t,e)}}function L4(e){return{title:"Скопировать относительный путь",icon:ra(hMe),action:Mq.bind(null,e)}}function KUe(e,t){const{isReadonly:n,hasScene:r}=e,o=[],i=n?r?"Просмотр схемы":"":r?"Редактировать схему":"Создать схему";i&&o.push({title:i+" (Shift+Click)",icon:ra(Tw),action:t.openKlassScene.bind(t,e)});const s=n?e.hasCode?"Просмотр кода":"":"Редактировать код";return s&&o.push({title:s+" (Ctrl+Click)",icon:ra(hH),action:t.openKlassCode.bind(t,e)}),o}const Bf=new WeakSet;class qUe extends Nt{constructor(t){super(),this.ctx=t,this.contentRef=_.createRef(),this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;(!(n.files.length||n.dirs.length)||window.confirm(`Удалить ${n.name}?`))&&n.remove()},this.createNewDir=()=>{const n=Ih(this.m,"Новая папка"),r=this.m.createDir(n);this.expand(),Bf.add(r)},this.createClass=()=>{const n=window.prompt("Имя имиджа")?.split(" ").join("");if(!n)return;const{project:r}=this.ctx;try{r.createNewKlass(n,this.m)}catch(o){if(!(o instanceof Si))throw o;alert(o.message)}},this.createScene=()=>{const n=Ih(this.m,"scene","vdr"),r=this.m.createFile(n,{scene:Pq});this.expand(),Bf.add(r)},this.createMatrix=()=>{const n=Ih(this.m,"matrix","mat"),r=this.m.createFile(n,{mat:Iq});this.expand(),Bf.add(r)},this.createTextFile=()=>{const n=Ih(this.m,"Новый текстовый файл","txt"),r=this.m.createFile(n,{base64:""});this.expand(),Bf.add(r)},this.openUploadDialog=()=>{const n=document.createElement("input");n.onchange=()=>this.uploadFiles(n.files),n.type="file",n.multiple=!0,n.accept="image/*, video/*, audio/*, font/*, .cur, .ico",n.click()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,o=n.clientY-6,{m:i}=this,s=[...i.canCreateFiles?GUe(this):[],...i.canEdit?A4(this):[],...i.canAddToSearchDir?[WUe(i,this.ctx.project)]:[],...i.hasRelativePath?[L4(i)]:[]];s.length&&this.ctx.app.ctxMenu.open(r,o,s)},this.onDragStart=n=>{n.stopPropagation(),this.ctx._dragStartTimeStamp=0;const r=n.dataTransfer;this.ctx.fileDirTransfer.put(r,this.m,"move");const o=this.contentRef.current?.querySelector(`.${Jl.label}`);o&&r.setDragImage(o,0,0)},this.onDragOver=n=>{n.preventDefault(),n.stopPropagation();const r=n.dataTransfer;if(r.dropEffect="none",!this.m.canCreateFiles)return;const o=this.ctx.fileDirTransfer.get(r);if(o){if(o.type==="dir"&&this.m.hasAncestor(o))return;r.dropEffect="move"}else if(r.types.some(s=>s==="Files"))r.dropEffect="copy";else return;this.ctx.vfs.selectItem(this.itemId);const{_dragStartTimeStamp:i}=this.ctx;i?(!this.m.parent||n.timeStamp-i>500)&&(this.expand(),this.ctx._dragStartTimeStamp=1/0):this.ctx._dragStartTimeStamp=n.timeStamp},this.onDragLeave=()=>{this.ctx._dragStartTimeStamp=0},this.onDrop=n=>{n.stopPropagation(),n.preventDefault();const r=n.dataTransfer,o=this.ctx.fileDirTransfer.pop(r);if(o){try{this.m.insertEntry(o)}catch(i){alert(i.message);return}this.ctx.vfs.selectItem(o.itemId)}else this.uploadFiles(r.files);this.expand()},this.isRenaming=Bf.delete(this.m),vt(this,{isRenaming:Pe.ref,canExpand:qr,startRenaming:ye,renameEntry:ye,createClass:ye,createMatrix:ye,createNewDir:ye,createScene:ye,createTextFile:ye,deleteWithConfirm:ye,uploadFiles:oo,openUploadDialog:!1,onContextMenu:!1,onDragLeave:!1,onDragOver:!1,onDragStart:!1,onDrop:!1})}get itemId(){return this.m.itemId}get label(){return this.m.name}get draggable(){return!this.isRenaming&&this.m.canEdit}get filteredDirs(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.dirs.filter(n=>t.isDirPassing(n)):this.m.dirs}get filteredFiles(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.files.filter(n=>t.isFilePassing(n)):this.m.files}get canExpand(){return this.filteredFiles.length>0||this.filteredDirs.length>0}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){alert(n.message)}}*uploadFiles(t){if(!t.length)return;const n=this.ctx.project.getFileUploader(this.m.lib);if(!n)return;const r=yield n.upload([...t]);let o=null;for(const i of r){const{base:s,ext:a}=yq(i.file.name),c=Ih(this.m,s,a);o=this.m.createFile(c,i.data).itemId}o&&this.ctx.vfs.selectItem(o)}expand(){this.ctx.vfs.expandItem(this.itemId)}}class YUe extends Nt{constructor(){super(),this.inputRef=_.createRef(),this.onInputBlur=({target:t})=>{this.parent.renameEntry(t.value)},this.onFormKeyDown=t=>{t.stopPropagation(),t.code==="Escape"&&(t.preventDefault(),this.parent.renameEntry(""))},vt(this,{onFormKeyDown:ye,onInputBlur:ye})}onViewMounted(){const t=this.inputRef.current;if(!t)return;t.focus();const n=t.value.lastIndexOf(".");n>0?t.setSelectionRange(0,n):t.select()}get defaultValue(){return this.parent.m.name}}class XUe extends Nt{constructor(t){super(),this.ctx=t,this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;window.confirm(`Удалить ${n.name}?`)&&n.remove()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,o=n.clientY-6,{m:i}=this,{klass:s}=i,a=[...s?KUe(s,this.ctx.project):[],...i.canEdit?A4(this):[],...i.hasRelativePath?[L4(i)]:[]];a.length&&this.ctx.app.ctxMenu.open(r,o,a)},this.onDragStart=n=>{this.ctx._dragStartTimeStamp=0,n.stopPropagation();const r=n.dataTransfer,{m:o}=this,{canEdit:i}=o;i&&this.ctx.fileDirTransfer.put(r,o,"move"),this.ctx.project.vfsFileTransfer.put(r,o,i?"linkMove":"link")},this.isRenaming=Bf.delete(this.m),vt(this,{isRenaming:Pe.ref,startRenaming:ye,renameEntry:ye,deleteWithConfirm:ye,onContextMenu:!1,onDragStart:!1})}get itemId(){return this.m.itemId}get label(){const{klass:t}=this.m;if(!t)return this.m.name;const{vfsFilter:n}=this.ctx.project;return n.type==="klass"?t.name:`${this.m.name} (${t.name})`}get draggable(){return!this.isRenaming}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){if(!(n instanceof Si))throw n;alert(n.message)}}}class ZUe extends Nt{constructor(){super(...arguments),this.onSearchFieldChange=t=>{this.m.setText(t.target.value)},this.onMenuItemClick=(t,n)=>{this.m.setType(t)},this.onClose=(t,n)=>{this.props.onClose()}}get searchFieldValue(){return this.m.text}get activeValue(){return this.m.type}get items(){return[{value:"all",title:"Все файлы"},{value:"klass",title:"Имиджи"},{value:"image",title:"Изображения"}]}}const N4=Dt(YUe)(({vm:e})=>x.jsx("form",{onSubmit:sz,onKeyDown:e.onFormKeyDown,children:x.jsx("input",{ref:e.inputRef,defaultValue:e.defaultValue,onBlur:e.onInputBlur})})),QUe=Ao()(({vm:{m:e}})=>{const{klass:t}=e;if(t){const{imageData:r}=t;return r?x.jsx(wS,{sceneData:r}):x.jsx(sI,{icon:t.icon})}const{scene:n}=e;if(n){const r=n.data.data;return r?.objects?.length?x.jsx(wS,{sceneData:r}):x.jsx(bH,{})}return e.image?x.jsx(ORe,{src:Ji(e.image.src)}):e.binary?e.binary.isTextFile?x.jsx(vH,{}):x.jsx(PMe,{}):e.matrix?x.jsx(mH,{}):e.stt?x.jsx(yH,{}):e.video?x.jsx(kMe,{}):e.audio?x.jsx(eMe,{}):e.cursor?x.jsx(OMe,{}):e.ttf?x.jsx(pMe,{}):x.jsx(tMe,{})}),JUe=Dt(HUe)(({vm:e,hidden:t})=>x.jsx(sM,{value:e.ctx,children:x.jsx(UUe,{hidden:t,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(tHe,{})})})),B4=Dt(qUe)(({vm:e})=>x.jsx(tu,{ref:e.contentRef,itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(N4,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsxs(x.Fragment,{children:[x.jsx(nHe,{}),x.jsx(rHe,{})]})})),eHe=Dt(XUe)(({vm:e})=>x.jsx(tu,{itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(N4,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,slots:{icon:QUe}})),tHe=Ao()(({vm:e})=>e.libs.map(({rootDir:t})=>x.jsx(B4,{m:t},t.itemId))),nHe=Ao()(({vm:e})=>e.filteredDirs.map(t=>x.jsx(B4,{m:t},t.itemId))),rHe=Ao()(({vm:e})=>e.filteredFiles.map(t=>x.jsx(eHe,{m:t},t.itemId))),oHe="filter-filter-search-field",iHe={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${fU.root}`]:{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:227,width:15,height:15,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}},sHe=Dt(ZUe)(({vm:e,open:t,anchorEl:n})=>{const r=Uve();return x.jsxs(ww,{anchorEl:n,open:t,onClose:e.onClose,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"left",vertical:"bottom"},slotProps:{paper:{elevation:0,sx:iHe}},children:[x.jsx(Hi,{onFocus:r.onFocus,selected:!0,disableRipple:!0,sx:{bgcolor:"transparent"},children:x.jsx(ul,{onFocus:$ve,inputRef:r.ref,value:e.searchFieldValue,onChange:e.onSearchFieldChange,label:"Имя файла",id:oHe,spellCheck:!1,autoFocus:!1,autoComplete:"off"})}),e.items.map((o,i)=>x.jsxs(Hi,{onClick:e.onMenuItemClick.bind(null,o.value),children:[o.value===e.activeValue&&x.jsx(yw,{children:x.jsx(dH,{fontSize:"small"})}),o.title]},i))]})});class aHe extends Nt{constructor(){super(...arguments),this.onClick=t=>{this.props.onClick()}}get badgeVisible(){return this.m.isActive}}const lHe=Dt(aHe)(({vm:e,buttonRef:t})=>x.jsx(On,{title:"Фильтр файлов (Ctrl+F)",children:x.jsx(Sn,{ref:t,onClick:e.onClick,children:x.jsx(Zg,{invisible:!e.badgeVisible,color:"warning",variant:"dot",children:x.jsx(fMe,{})})})}));function cHe(){const{mainMenuVisible:e}=Sa(),{projectFile:t}=gM(),n=t.path,r=t.parent.path;return x.jsx($3e,{variant:"outlined",title:n,onClick:e.setTrue,children:r})}function uHe(){const{leftPanelMinimized:e}=Sa();return x.jsx(On,{title:"Показать левую панель (Ctrl+Shift+F)",followCursor:!0,placement:"right",children:x.jsx(JH,{onClick:e.setFalse,size:"small",children:x.jsx(uH,{})})})}function dHe(){const{leftPanelMinimized:e}=Sa();return x.jsx(On,{title:"Скрыть левую панель (Ctrl+Shift+F)",children:x.jsx(Sn,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx(cH,{})})})}const hHe=xg(()=>{const{activeLeftPanelActiveView:e}=Sa(),{current:t}=e,n=(r,o)=>{o&&e.set(o)};return x.jsxs(lH,{value:t,exclusive:!0,fullWidth:!0,onChange:n,sx:{},children:[x.jsx(UO,{value:"schema",title:"Схема проекта",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(Tw,{fontSize:"small"})}),x.jsx(UO,{value:"files",title:"Файлы",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(pH,{fontSize:"small"})})]})}),fHe=xg(()=>{const e=_.useRef(null),{syncer:t,player:n,vfsFilter:r,vfsFilterVisible:o}=gM(),i=Sa().activeLeftPanelActiveView.current==="files";return x.jsxs(V3e,{children:[x.jsx(zUe,{m:t}),x.jsx(G3e,{m:n}),x.jsx(hHe,{}),i&&x.jsxs(x.Fragment,{children:[x.jsx(lHe,{m:r,onClick:o.setTrue,buttonRef:e}),x.jsx(sHe,{m:r,open:o.isTrue,onClose:o.setFalse,anchorEl:e.current}),x.jsx(U3e,{})]}),x.jsx(dHe,{})]})}),pHe=xg(()=>{const{leftPanelMinimized:e,activeLeftPanelActiveView:t}=Sa(),{vfs:n,schema:r}=gM();return x.jsxs(oR,{reverse:!0,width:240,minimized:e.isTrue,button:x.jsx(uHe,{}),children:[x.jsx(cHe,{}),x.jsx(_a,{}),x.jsx(fHe,{}),x.jsx(_a,{}),x.jsx(JUe,{m:n,hidden:t.current!=="files"}),x.jsx(DUe,{m:r,hidden:t.current!=="schema"})]})});class gHe extends Nt{constructor(){super(...arguments),this.beforeMount=t=>{t.languages.register({id:"stratumDSL"}),t.languages.setMonarchTokensProvider("stratumDSL",{defaultToken:"invalid",ignoreCase:!0,keywords:["HANDLE","STRING","FLOAT","COLORREF","local","if","else","while","exit","init","endif"],operators:[":=","==","!=","<","<=",">",">=","&&","||","!","+","-","*","/","%"],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],tokenizer:{root:[[/\b(?:HANDLE|STRING|FLOAT|COLORREF|local|if|else|while|exit|init|endif)\b/,"keyword"],[/\b\d+\.?\d*\b/,"number"],[/".*?"/,"string"],[/\/\*/,"comment","@comment"],[/\/\/.*/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[:=<>!\+\-\*\/&|]+/,"operator"],[/\b[A-Za-z_][A-Za-z0-9_]*(?=\s*\()/,"type.identifier"],[/\b[A-Za-z_][A-Za-z0-9_]*\b/,"identifier"]],comment:[[/.*?\*\//,"comment","@pop"],[/./,"comment"]]}})},this.onMount=(t,n)=>{t.onDidChangeCursorPosition(this.onDidChangeCursorPosition)},this.onDidChangeCursorPosition=t=>{const n=t.position.lineNumber,r=t.position.column;this.m.setCursorPosition(n,r)},this.onChange=(t="",n)=>{this.m.setCurrentText(t)},this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,o=n[n.length-1].length+1;this.m.setCursorPosition(r,o)}}function mHe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function j4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){mHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vHe(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function yHe(e,t){if(e==null)return{};var n=vHe(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bHe(e,t){return wHe(e)||SHe(e,t)||CHe(e,t)||xHe()}function wHe(e){if(Array.isArray(e))return e}function SHe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}}function CHe(e,t){if(e){if(typeof e=="string")return V4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V4(e,t)}}function V4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(r){_He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EHe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function Um(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(n,[].concat(o,a))}}}function SS(e){return{}.toString.call(e).includes("Object")}function THe(e){return!Object.keys(e).length}function Hm(e){return typeof e=="function"}function MHe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function OHe(e,t){return SS(t)||du("changeType"),Object.keys(t).some(function(n){return!MHe(e,n)})&&du("changeField"),t}function RHe(e){Hm(e)||du("selectorType")}function IHe(e){Hm(e)||SS(e)||du("handlerType"),SS(e)&&Object.values(e).some(function(t){return!Hm(t)})&&du("handlersType")}function PHe(e){e||du("initialIsRequired"),SS(e)||du("initialType"),THe(e)&&du("initialContent")}function kHe(e,t){throw new Error(e[t]||e.default)}var DHe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},du=Um(kHe)(DHe),CS={changes:OHe,selector:RHe,handler:IHe,initial:PHe};function AHe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};CS.initial(e),CS.handler(t);var n={current:e},r=Um(BHe)(n,t),o=Um(NHe)(n),i=Um(CS.changes)(e),s=Um(LHe)(n);function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return CS.selector(d),d(n.current)}function c(d){EHe(r,o,i,s)(d)}return[a,c]}function LHe(e,t){return Hm(t)?t(e.current):t}function NHe(e,t){return e.current=z4(z4({},e.current),t),t}function BHe(e,t,n){return Hm(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var FHe={create:AHe},jHe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function VHe(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(n,[].concat(o,a))}}}function $He(e){return{}.toString.call(e).includes("Object")}function zHe(e){return e||H4("configIsRequired"),$He(e)||H4("configType"),e.urls?(UHe(),{paths:{vs:e.urls.monacoBase}}):e}function UHe(){console.warn(U4.deprecation)}function HHe(e,t){throw new Error(e[t]||e.default)}var U4={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},H4=VHe(HHe)(U4),GHe={config:zHe},WHe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,s){return s(i)},o)}};function G4(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],G4(e[n],t[n]))}),j4(j4({},e),t)}var KHe={type:"cancelation",msg:"operation is manually canceled"};function aI(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(KHe):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var qHe=FHe.create({config:jHe,isInitialized:!1,resolve:null,reject:null,monaco:null}),W4=bHe(qHe,2),Gm=W4[0],xS=W4[1];function YHe(e){var t=GHe.config(e),n=t.monaco,r=yHe(t,["monaco"]);xS(function(o){return{config:G4(o.config,r),monaco:n}})}function XHe(){var e=Gm(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(xS({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),aI(lI);if(window.monaco&&window.monaco.editor)return K4(window.monaco),e.resolve(window.monaco),aI(lI);WHe(ZHe,JHe)(eGe)}return aI(lI)}function ZHe(e){return document.body.appendChild(e)}function QHe(e){var t=document.createElement("script");return e&&(t.src=e),t}function JHe(e){var t=Gm(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=QHe("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function eGe(){var e=Gm(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){K4(n),e.resolve(n)},function(n){e.reject(n)})}function K4(e){Gm().monaco||xS({monaco:e})}function tGe(){return Gm(function(e){var t=e.monaco;return t})}var lI=new Promise(function(e,t){return xS({resolve:e,reject:t})}),q4={config:YHe,init:XHe,__getMonacoInstance:tGe},nGe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},cI=nGe,rGe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},oGe=rGe;function iGe({children:e}){return wn.createElement("div",{style:oGe.container},e)}var sGe=iGe,aGe=sGe;function lGe({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:s}){return wn.createElement("section",{style:{...cI.wrapper,width:e,height:t},...s},!n&&wn.createElement(aGe,null,r),wn.createElement("div",{ref:o,style:{...cI.fullWidth,...!n&&cI.hide},className:i}))}var cGe=lGe,Y4=_.memo(cGe);function uGe(e){_.useEffect(e,[])}var X4=uGe;function dGe(e,t,n=!0){let r=_.useRef(!0);_.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var gs=dGe;function Wm(){}function Ff(e,t,n,r){return hGe(e,r)||fGe(e,t,n,r)}function hGe(e,t){return e.editor.getModel(Z4(e,t))}function fGe(e,t,n,r){return e.editor.createModel(t,n,r?Z4(e,r):void 0)}function Z4(e,t){return e.Uri.parse(t)}function pGe({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:d="light",loading:h="Loading...",options:f={},height:g="100%",width:m="100%",className:y,wrapperProps:b={},beforeMount:v=Wm,onMount:S=Wm}){let[E,T]=_.useState(!1),[R,M]=_.useState(!0),I=_.useRef(null),N=_.useRef(null),P=_.useRef(null),L=_.useRef(S),A=_.useRef(v),$=_.useRef(!1);X4(()=>{let G=q4.init();return G.then(V=>(N.current=V)&&M(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>I.current?K():G.cancel()}),gs(()=>{if(I.current&&N.current){let G=I.current.getOriginalEditor(),V=Ff(N.current,e||"",r||n||"text",i||"");V!==G.getModel()&&G.setModel(V)}},[i],E),gs(()=>{if(I.current&&N.current){let G=I.current.getModifiedEditor(),V=Ff(N.current,t||"",o||n||"text",s||"");V!==G.getModel()&&G.setModel(V)}},[s],E),gs(()=>{let G=I.current.getModifiedEditor();G.getOption(N.current.editor.EditorOption.readOnly)?G.setValue(t||""):t!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[t],E),gs(()=>{I.current?.getModel()?.original.setValue(e||"")},[e],E),gs(()=>{let{original:G,modified:V}=I.current.getModel();N.current.editor.setModelLanguage(G,r||n||"text"),N.current.editor.setModelLanguage(V,o||n||"text")},[n,r,o],E),gs(()=>{N.current?.editor.setTheme(d)},[d],E),gs(()=>{I.current?.updateOptions(f)},[f],E);let B=_.useCallback(()=>{if(!N.current)return;A.current(N.current);let G=Ff(N.current,e||"",r||n||"text",i||""),V=Ff(N.current,t||"",o||n||"text",s||"");I.current?.setModel({original:G,modified:V})},[n,t,o,e,r,i,s]),U=_.useCallback(()=>{!$.current&&P.current&&(I.current=N.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...f}),B(),N.current?.editor.setTheme(d),T(!0),$.current=!0)},[f,d,B]);_.useEffect(()=>{E&&L.current(I.current,N.current)},[E]),_.useEffect(()=>{!R&&!E&&U()},[R,E,U]);function K(){let G=I.current?.getModel();a||G?.original?.dispose(),c||G?.modified?.dispose(),I.current?.dispose()}return wn.createElement(Y4,{width:m,height:g,isEditorReady:E,loading:h,_ref:P,className:y,wrapperProps:b})}var gGe=pGe;_.memo(gGe);function mGe(e){let t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}var vGe=mGe,_S=new Map;function yGe({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:s="light",line:a,loading:c="Loading...",options:d={},overrideServices:h={},saveViewState:f=!0,keepCurrentModel:g=!1,width:m="100%",height:y="100%",className:b,wrapperProps:v={},beforeMount:S=Wm,onMount:E=Wm,onChange:T,onValidate:R=Wm}){let[M,I]=_.useState(!1),[N,P]=_.useState(!0),L=_.useRef(null),A=_.useRef(null),$=_.useRef(null),B=_.useRef(E),U=_.useRef(S),K=_.useRef(),G=_.useRef(r),V=vGe(i),Y=_.useRef(!1),Q=_.useRef(!1);X4(()=>{let W=q4.init();return W.then(Z=>(L.current=Z)&&P(!1)).catch(Z=>Z?.type!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>A.current?z():W.cancel()}),gs(()=>{let W=Ff(L.current,e||r||"",t||o||"",i||n||"");W!==A.current?.getModel()&&(f&&_S.set(V,A.current?.saveViewState()),A.current?.setModel(W),f&&A.current?.restoreViewState(_S.get(i)))},[i],M),gs(()=>{A.current?.updateOptions(d)},[d],M),gs(()=>{!A.current||r===void 0||(A.current.getOption(L.current.editor.EditorOption.readOnly)?A.current.setValue(r):r!==A.current.getValue()&&(Q.current=!0,A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),A.current.pushUndoStop(),Q.current=!1))},[r],M),gs(()=>{let W=A.current?.getModel();W&&o&&L.current?.editor.setModelLanguage(W,o)},[o],M),gs(()=>{a!==void 0&&A.current?.revealLine(a)},[a],M),gs(()=>{L.current?.editor.setTheme(s)},[s],M);let te=_.useCallback(()=>{if(!(!$.current||!L.current)&&!Y.current){U.current(L.current);let W=i||n,Z=Ff(L.current,r||e||"",t||o||"",W||"");A.current=L.current?.editor.create($.current,{model:Z,automaticLayout:!0,...d},h),f&&A.current.restoreViewState(_S.get(W)),L.current.editor.setTheme(s),a!==void 0&&A.current.revealLine(a),I(!0),Y.current=!0}},[e,t,n,r,o,i,d,h,f,s,a]);_.useEffect(()=>{M&&B.current(A.current,L.current)},[M]),_.useEffect(()=>{!N&&!M&&te()},[N,M,te]),G.current=r,_.useEffect(()=>{M&&T&&(K.current?.dispose(),K.current=A.current?.onDidChangeModelContent(W=>{Q.current||T(A.current.getValue(),W)}))},[M,T]),_.useEffect(()=>{if(M){let W=L.current.editor.onDidChangeMarkers(Z=>{let le=A.current.getModel()?.uri;if(le&&Z.find(ue=>ue.path===le.path)){let ue=L.current.editor.getModelMarkers({resource:le});R?.(ue)}});return()=>{W?.dispose()}}return()=>{}},[M,R]);function z(){K.current?.dispose(),g?f&&_S.set(i,A.current.saveViewState()):A.current.getModel()?.dispose(),A.current.dispose()}return wn.createElement(Y4,{width:m,height:y,isEditorReady:M,loading:c,_ref:$,className:b,wrapperProps:v})}var bGe=yGe,wGe=_.memo(bGe),SGe=wGe;const CGe=Dt(gHe)(({vm:e})=>x.jsx(SGe,{defaultLanguage:"stratumDSL",defaultValue:e.defaultValue,onChange:e.onChange,beforeMount:e.beforeMount,onMount:e.onMount,options:{readOnly:e.readOnly,readOnlyMessage:{value:"Имидж доступен только для чтения"}}})),xGe=be("div",{name:"EPlayerDialogContent",slot:"windowContainer"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden",display:"flex",[`& .${H$.root}`]:{flexGrow:1}});class _Ge extends Nt{constructor(){super(),this.onCloseButtonClick=()=>{this.m.player?.close()},this.onPlayButtonClick=()=>{this.m.player?.continue()},this.onPauseButtonClick=()=>{this.m.player?.pause()},this.onStepButtonClick=()=>{this.m.player?.pause(),this.m.player?.step()},this.onMinimizeButtonClick=()=>{this.m.player?.minimize()}}get dialogOpen(){const{player:t}=this.m;return!!t&&!t.isMinimized}get iterationCount(){return this.m.player?.iterationCount||0}get iterationPerSecond(){return this.m.player?.iterationPerSecond||0}get isPaused(){return this.m.player?.status==="paused"}}class EGe extends Nt{get image(){return this.m.imageData}get icon(){return this.m.icon}get canExpand(){return this.m.children.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children}}class TGe extends Nt{constructor(){super(),this.selectedItem=null,this.onExpandedItemsChange=(t,n)=>{if(t?.type==="keydown"&&t.key==="Enter"){const{expandedItems:r}=this;let o;n.length>r.length?o=n.find(i=>!r.includes(i)):o=r.find(i=>!n.includes(i)),o&&this.onSelectedItemChange(t,o);return}this.expandedItems=n},this.onSelectedItemChange=(t,n)=>{if(this.selectedItem=n,!n)return;this.getItemById(n)?.makeActive()},this.expandedItems=[this.m.itemId],vt(this,{expandedItems:Pe.ref,selectedItem:Pe.ref,onExpandedItemsChange:ye,onSelectedItemChange:ye})}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const o of r.children){const i=n(o);if(i)return i}return null})(this.m)}}function MGe(e,t){if(!e)return null;if(t===bt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==bt.STRING&&(e=e.trim()),e||null}const OGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class RGe extends Nt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,o=MGe(t.value,t.type);if(o===n.value)return n;const i=r.vars.find(s=>s.id===t.id);return i?.setValue(o||"")?{...t,value:i.value}:n},vt(this,{processRowUpdate:ye})}get columns(){return OGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}function IGe(e,t){if(!e)return null;if(t===bt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==bt.STRING&&(e=e.trim()),e||null}const PGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class kGe extends Nt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,o=IGe(t.value,t.type);if(o===n.value)return n;const i=r.vars.find(s=>s.id===t.id);return i?.setValue(o||"")?{...t,value:i.value}:n},vt(this,{processRowUpdate:ye})}get columns(){return PGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}const DGe=Dt(TGe)(({vm:e,m:t})=>x.jsx(P4,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:R4,collapseIcon:I4},onContextMenu:xb,children:x.jsx(Q4,{m:t})})),Q4=Dt(EGe)(({vm:e})=>{const{image:t}=e;return x.jsx(tu,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(wS,{sceneData:t}):x.jsx(sI,{icon:e.icon}),e.label]}),slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(AGe,{})})}),AGe=Ao()(({vm:e})=>e.children.map(t=>x.jsx(Q4,{m:t},t.itemId)));function Km(e){const t=$Pe(),n=_.useCallback((o,i)=>{if(o.isEditable&&!(i.target.nodeType===1&&!i.currentTarget.contains(i.target)))try{t.current?.startCellEditMode({id:o.id,field:o.field})}catch{}},[]),r=_.useCallback((o,i)=>{o.reason===Qs.enterKeyDown&&(i.defaultMuiPrevented=!0,t.current?.stopCellEditMode({id:o.id,field:o.field}))},[]);return x.jsx(Oze,{...e,apiRef:t,onCellClick:n,onProcessRowUpdateError:console.error,onCellEditStop:r})}const LGe=Dt(RGe)(({vm:e})=>x.jsx(Km,{sx:{flexGrow:6},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),NGe=Dt(kGe)(({vm:e})=>x.jsx(Km,{sx:{flexGrow:1},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),BGe=_.forwardRef(function(t,n){return x.jsx(P_e,{direction:"up",ref:n,...t})}),FGe=Dt(_Ge)(({m:e,vm:t})=>{const{player:n}=e,r=n?.rootSchema,o=n?.activeSchema;return x.jsxs(_O,{open:t.dialogOpen,TransitionComponent:BGe,keepMounted:!0,fullScreen:!0,children:[x.jsx(fCe,{position:"sticky",children:x.jsxs(ZU,{children:[x.jsx(Sn,{edge:"start",color:"inherit",onClick:t.onCloseButtonClick,children:x.jsx(Ew,{})}),t.isPaused?x.jsx(Sn,{edge:"start",color:"inherit",onClick:t.onPlayButtonClick,children:x.jsx(LMe,{})}):x.jsx(Sn,{edge:"start",color:"inherit",onClick:t.onPauseButtonClick,children:x.jsx(AMe,{})}),x.jsx(Sn,{edge:"start",color:"inherit",onClick:t.onStepButtonClick,children:x.jsx(WMe,{})}),x.jsx(Ui,{color:"inherit",onClick:t.onMinimizeButtonClick,children:"Свернуть"}),x.jsxs(bo,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Шагов: ",t.iterationCount," (",t.iterationPerSecond," в секунду)"]})]})}),x.jsxs(nR,{children:[r&&x.jsx(DGe,{m:r},r.itemId),x.jsx(xGe,{ref:e.mountRef}),x.jsxs(oR,{width:300,children:[n&&x.jsxs(x.Fragment,{children:["Отслеживаемые переменные:",x.jsx(NGe,{m:n.markedVars})]}),o&&x.jsxs(x.Fragment,{children:["Переменные схемы ",o.toString(),x.jsx(LGe,{m:o},o.itemId)]})]})]})]})}),jGe=Dt(Dze)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsxs(ri,{display:"flex",gap:"2%",children:[x.jsx(_3e,{label:"Имя имиджа",options:e.klassNameOptions,value:e.klassName,onChange:e.setKlassName,required:!0}),e.showOpenSchemaButton&&x.jsx(Sn,{onClick:e.onOpenSchemaButtonClick,children:x.jsx(DMe,{color:"info"})})]}),x.jsx(So,{label:"Имя окна",value:e.windowName,onChange:e.setWindowName})]})),VGe=Dt(Aze)(({vm:e})=>x.jsx(So,{label:"Путь к проекту",value:e.projectPath,onChange:e.setProjectPath,required:!0})),$Ge=Dt(Lze)(({vm:e})=>x.jsx(zm,{label:"Действие",options:e.options,value:e.actionType,onChange:e.setActionType})),zGe=Dt(Nze)(({vm:e})=>x.jsx(So,{label:"Команда",value:e.commandName,onChange:e.setCommandName,required:!0}));function UGe({mode:e}){switch(e){case Yv:return x.jsx(jGe,{});case jC:return x.jsx(VGe,{});case Xv:return x.jsx($Ge,{});case FC:return x.jsx(zGe,{})}return null}const HGe=Dt(Bze)(({vm:e})=>{const{mode:t}=e,n=t>=0;return x.jsxs(x.Fragment,{children:[x.jsx(zm,{label:"При нажатии на объект",options:e.modeOptions,value:e.mode,onChange:e.setMode}),n&&x.jsxs(x.Fragment,{children:[x.jsx(UGe,{mode:t}),x.jsx(So,{label:"Доп. параметры",value:e.params,onChange:e.setParams}),x.jsx(So,{label:"Получатель WM_HYPERJUMP",value:e.receiver,onChange:e.setReceiver}),x.jsx(ps,{label:"Активировать только через StdHyperJump",checked:e.disabled,onChange:e.setDisabled})]})]})}),GGe=["Выбран","Выбрано","Выбрано"],WGe=["объект","объекта","объектов"];function KGe({count:e}){return x.jsxs(bo,{children:[lk(e,GGe),x.jsx(mf,{color:"green",ml:"4px",mr:"4px",children:e}),lk(e,WGe)]})}function qGe(){const{rightPanelMinimized:e}=Sa();return x.jsx(On,{title:"Скрыть панель настроек (Ctrl+P)",children:x.jsx(Sn,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx(uH,{})})})}const YGe=Dt(m3e)(({vm:e})=>x.jsx(On,{title:"Открыть свойства (Space,Enter)",disableInteractive:!0,children:x.jsx(eIe,{onClick:e.onClick,children:x.jsx(JRe,{component:"span",color:"green",children:e.title})})})),XGe=Dt(v3e)(({vm:e})=>{const{hasScene:t}=e;return x.jsx(On,{title:`${t?"Открыть":"Создать"} схему (S)`,children:x.jsx(Sn,{onClick:e.onClick,children:x.jsx(sG,{visible:!t,children:x.jsx(Tw,{})})})})}),ZGe=Dt(y3e)(({vm:e})=>x.jsx(On,{title:"Открыть код (D)",children:x.jsx(Sn,{onClick:e.onClick,children:x.jsx(sG,{visible:!e.hasCode,children:x.jsx(hH,{})})})})),QGe=Dt(b3e)(({vm:e})=>x.jsx(On,{title:"Удалить (Delete)",children:x.jsx(Sn,{onClick:e.onClick,sx:{ml:"auto"},children:x.jsx(lMe,{})})})),uI=Ao()(({vm:e})=>{const{m:t,kind:n,selectionLength:r,klassCodeButtonModel:o,klassPropsButtonModel:i,klassSchemaButtonModel:s}=e;return x.jsxs(tIe,{children:[i&&x.jsx(YGe,{m:i}),r&&x.jsx(KGe,{count:r}),n&&x.jsx(mf,{children:n}),t&&t.type!=="_pseudoGroup"&&x.jsxs(mf,{whiteSpace:"pre",ml:1,children:["#",t.key]}),x.jsxs(ri,{children:[s&&x.jsx(XGe,{m:s}),o&&x.jsx(ZGe,{m:o}),t&&x.jsx(QGe,{m:t})]}),x.jsx(qGe,{})]})}),JGe=Dt(w3e)(({vm:e})=>x.jsxs(ri,{children:["Z-порядок:",x.jsxs(ri,{display:"flex",justifyContent:"center",children:[x.jsx(On,{title:"Вниз (Shift + ↓)",children:x.jsx(Sn,{onClick:e.onMoveToBottomButtonClick,size:"small",children:x.jsx(TMe,{})})}),x.jsx(On,{title:"Ниже (Shift + ←)",children:x.jsx(Sn,{onClick:e.onDecreaseZButtonClick,size:"small",children:x.jsx(_Me,{})})}),x.jsx(nIe,{value:e.value,size:"small",slotProps:{htmlInput:{tabIndex:-1}}}),x.jsx(On,{title:"Выше (Shift + →)",children:x.jsx(Sn,{onClick:e.onIncreaseZButtonClick,size:"small",children:x.jsx(EMe,{})})}),x.jsx(On,{title:"Наверх (Shift + ↑)",children:x.jsx(Sn,{onClick:e.onMoveToTopButtonClick,size:"small",children:x.jsx(MMe,{})})})]})]})),e2e=Dt(uIe)(({vm:e})=>x.jsxs(ri,{display:"flex",gap:"2%",children:[x.jsx(So,{label:"X",type:"number",value:e.x,onChange:e.setX}),x.jsx(So,{label:"Y",type:"number",value:e.y,onChange:e.setY})]})),t2e=Dt(dIe)(({vm:e})=>x.jsxs(ri,{display:"flex",gap:"2%",children:[x.jsx(So,{label:"Ширина",type:"number",value:e.w,onChange:e.setW}),x.jsx(So,{label:"Высота",type:"number",value:e.h,onChange:e.setH})]})),n2e=Dt(fIe)(({vm:e})=>x.jsx(So,{label:"Повернуть на",type:"number",onChange:e.setValue,value:"0"})),r2e=Dt(hIe)(({vm:e})=>x.jsx(So,{label:"Угол поворота",type:"number",value:e.value,onChange:e.setValue})),o2e=Dt(pIe)(({vm:e})=>x.jsx(So,{label:"Имя на сцене",value:e.value,onChange:e.setValue})),i2e=Dt(gIe)(({vm:e})=>x.jsx(ps,{label:"Невыбираемый объект (N)",checked:e.value,onChange:e.setValue})),s2e=Dt(mIe)(({vm:e})=>x.jsx(zm,{label:"Слой",options:e.options,value:e.value,onChange:e.setValue})),J4=Ao()(({vm:e,children:t})=>{const{m:n}=e;if(!n)return t;const r=n.type!=="_pseudoGroup";return x.jsxs(x.Fragment,{children:[n.canMove&&x.jsx(e2e,{m:n}),r&&x.jsxs(x.Fragment,{children:[n.canResize&&x.jsx(t2e,{m:n}),n.canSetName&&x.jsx(o2e,{m:n}),n.canRotate&&(n.hasAngle?x.jsx(r2e,{m:n}):x.jsx(n2e,{m:n})),n.type!=="group"&&x.jsx(JGe,{m:n}),x.jsx(i2e,{m:n}),x.jsx(s2e,{m:n})]}),t,r&&n.canSetHyper&&x.jsx(HGe,{m:n})]})}),Xd=Ao()(({children:e})=>x.jsxs(x.Fragment,{children:[x.jsx(uI,{}),x.jsx(_a,{}),x.jsx(aR,{children:x.jsx(J4,{children:e})})]})),dI=Dt(p3e)(({vm:e})=>x.jsx(Km,{sx:{"& .mark-button-cell":{padding:0,paddingLeft:0,paddingRight:"20px",[`& .${fw.root}`]:{padding:0}}},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),a2e=Dt(Pze)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsxs(Xd,{children:[e.showUngroupButton&&x.jsx(Ui,{onClick:e.onUngroupButtonClick,fullWidth:!0,variant:"contained",color:"error",children:"Разгруппировать (U)"}),t&&x.jsx(dI,{m:t})]})});var l2e=Object.defineProperty,c2e=(e,t,n)=>t in e?l2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,to=(e,t,n)=>c2e(e,typeof t!="symbol"?t+"":t,n);const ES={x:0,y:0,width:0,height:0,unit:"px"},jf=(e,t,n)=>Math.min(Math.max(e,t),n),u2e=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),eW=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function Vf(e,t,n){return e.unit==="%"?{...ES,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function hu(e,t,n){return e.unit?e.unit==="px"?{...ES,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...ES,...e,unit:"px"}}function tW(e,t,n,r,o,i=0,s=0,a=r,c=o){const d={...e};let h=Math.min(i,r),f=Math.min(s,o),g=Math.min(a,r),m=Math.min(c,o);t&&(t>1?(h=s?s*t:h,f=h/t,g=a*t):(f=i?i/t:f,h=f*t,m=c/t)),d.y<0&&(d.height=Math.max(d.height+d.y,f),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,h),d.x=0);const y=r-(d.x+d.width);y<0&&(d.x=Math.min(d.x,r-h),d.width+=y);const b=o-(d.y+d.height);if(b<0&&(d.y=Math.min(d.y,o-f),d.height+=b),d.width<h&&((n==="sw"||n=="nw")&&(d.x-=h-d.width),d.width=h),d.height<f&&((n==="nw"||n=="ne")&&(d.y-=f-d.height),d.height=f),d.width>g&&((n==="sw"||n=="nw")&&(d.x-=g-d.width),d.width=g),d.height>m&&((n==="nw"||n=="ne")&&(d.y-=m-d.height),d.height=m),t){const v=d.width/d.height;if(v<t){const S=Math.max(d.width/t,f);(n==="nw"||n=="ne")&&(d.y-=S-d.height),d.height=S}else if(v>t){const S=Math.max(d.height*t,h);(n==="sw"||n=="nw")&&(d.x-=S-d.width),d.width=S}}return d}function d2e(e,t,n,r){const o={...e};return t==="ArrowLeft"?r==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):r==="w"?(o.x-=n,o.width+=n):r==="sw"?(o.x-=n,o.width+=n,o.height+=n):r==="ne"?(o.y+=n,o.width-=n,o.height-=n):r==="e"?o.width-=n:r==="se"&&(o.width-=n,o.height-=n):t==="ArrowRight"&&(r==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):r==="w"?(o.x+=n,o.width-=n):r==="sw"?(o.x+=n,o.width-=n,o.height-=n):r==="ne"?(o.y-=n,o.width+=n,o.height+=n):r==="e"?o.width+=n:r==="se"&&(o.width+=n,o.height+=n)),t==="ArrowUp"?r==="nw"?(o.x-=n,o.y-=n,o.width+=n,o.height+=n):r==="n"?(o.y-=n,o.height+=n):r==="ne"?(o.y-=n,o.width+=n,o.height+=n):r==="sw"?(o.x+=n,o.width-=n,o.height-=n):r==="s"?o.height-=n:r==="se"&&(o.width-=n,o.height-=n):t==="ArrowDown"&&(r==="nw"?(o.x+=n,o.y+=n,o.width-=n,o.height-=n):r==="n"?(o.y+=n,o.height-=n):r==="ne"?(o.y+=n,o.width-=n,o.height-=n):r==="sw"?(o.x-=n,o.width+=n,o.height+=n):r==="s"?o.height+=n:r==="se"&&(o.width+=n,o.height+=n)),o}const $f={capture:!0,passive:!1};let h2e=0;const fu=class ja extends _.PureComponent{constructor(){super(...arguments),to(this,"docMoveBound",!1),to(this,"mouseDownOnCrop",!1),to(this,"dragStarted",!1),to(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),to(this,"componentRef",_.createRef()),to(this,"mediaRef",_.createRef()),to(this,"resizeObserver"),to(this,"initChangeCalled",!1),to(this,"instanceId",`rc-${h2e++}`),to(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),to(this,"onCropPointerDown",t=>{const{crop:n,disabled:r}=this.props,o=this.getBox();if(!n)return;const i=hu(n,o.width,o.height);if(r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=t.target.dataset.ord,a=!!s;let c=t.clientX,d=t.clientY,h=i.x,f=i.y;if(s){const g=t.clientX-o.x,m=t.clientY-o.y;let y=0,b=0;s==="ne"||s=="e"?(y=g-(i.x+i.width),b=m-i.y,h=i.x,f=i.y+i.height):s==="se"||s==="s"?(y=g-(i.x+i.width),b=m-(i.y+i.height),h=i.x,f=i.y):s==="sw"||s=="w"?(y=g-i.x,b=m-(i.y+i.height),h=i.x+i.width,f=i.y):(s==="nw"||s=="n")&&(y=g-i.x,b=m-i.y,h=i.x+i.width,f=i.y+i.height),c=h+o.x+y,d=f+o.y+b}this.evData={startClientX:c,startClientY:d,startCropX:h,startCropY:f,clientX:t.clientX,clientY:t.clientY,isResize:a,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),to(this,"onComponentPointerDown",t=>{const{crop:n,disabled:r,locked:o,keepSelection:i,onChange:s}=this.props,a=this.getBox();if(r||o||i&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-a.x,d=t.clientY-a.y,h={unit:"px",x:c,y:d,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:d,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(hu(h,a.width,a.height),Vf(h,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),to(this,"onDocPointerMove",t=>{const{crop:n,disabled:r,onChange:o,onDragStart:i}=this.props,s=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:a}=this;a.clientX=t.clientX,a.clientY=t.clientY;let c;a.isResize?c=this.resizeCrop():c=this.dragCrop(),eW(n,c)||o(hu(c,s.width,s.height),Vf(c,s.width,s.height))}),to(this,"onComponentKeyDown",t=>{const{crop:n,disabled:r,onChange:o,onComplete:i}=this.props;if(r)return;const s=t.key;let a=!1;if(!n)return;const c=this.getBox(),d=this.makePixelCrop(c),h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?ja.nudgeStepLarge:t.shiftKey?ja.nudgeStepMedium:ja.nudgeStep;if(s==="ArrowLeft"?(d.x-=h,a=!0):s==="ArrowRight"?(d.x+=h,a=!0):s==="ArrowUp"?(d.y-=h,a=!0):s==="ArrowDown"&&(d.y+=h,a=!0),a){t.cancelable&&t.preventDefault(),d.x=jf(d.x,0,c.width-d.width),d.y=jf(d.y,0,c.height-d.height);const f=hu(d,c.width,c.height),g=Vf(d,c.width,c.height);o(f,g),i&&i(f,g)}}),to(this,"onHandlerKeyDown",(t,n)=>{const{aspect:r=0,crop:o,disabled:i,minWidth:s=0,minHeight:a=0,maxWidth:c,maxHeight:d,onChange:h,onComplete:f}=this.props,g=this.getBox();if(i||!o)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?ja.nudgeStepLarge:t.shiftKey?ja.nudgeStepMedium:ja.nudgeStep,y=hu(o,g.width,g.height),b=d2e(y,t.key,m,n),v=tW(b,r,n,g.width,g.height,s,a,c,d);if(!eW(o,v)){const S=Vf(v,g.width,g.height);h(v,S),f&&f(v,S)}}),to(this,"onDocPointerDone",t=>{const{crop:n,disabled:r,onComplete:o,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),o&&o(hu(n,s.width,s.height),Vf(n,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),to(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:o,height:i}=t.getBoundingClientRect();return{x:n,y:r,width:o,height:i}}componentDidUpdate(t){const{crop:n,onComplete:r}=this.props;if(r&&!t.crop&&n){const{width:o,height:i}=this.getBox();o&&i&&r(hu(n,o,i),Vf(n,o,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,$f),this.document.addEventListener("pointerup",this.onDocPointerDone,$f),this.document.addEventListener("pointercancel",this.onDocPointerDone,$f),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,$f),this.document.removeEventListener("pointerup",this.onDocPointerDone,$f),this.document.removeEventListener("pointercancel",this.onDocPointerDone,$f),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),r=this.makePixelCrop(n),o=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return r.x=jf(t.startCropX+o,0,n.width-r.width),r.y=jf(t.startCropY+i,0,n.height-r.height),r}getPointRegion(t,n,r,o){const{evData:i}=this,s=i.clientX-t.x,a=i.clientY-t.y;let c;o&&n?c=n==="nw"||n==="n"||n==="ne":c=a<i.startCropY;let d;return r&&n?d=n==="nw"||n==="w"||n==="sw":d=s<i.startCropX,d?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,n,r=0,o=0){const i=Math.min(r,t.width),s=Math.min(o,t.height);return!n||!i&&!s?[i,s]:n>1?i?[i,i/n]:[s*n,s]:s?[s*n,s]:[i,i/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:o}=this.props,i=this.getBox(),[s,a]=this.resolveMinDimensions(i,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(i);const d=this.getPointRegion(i,t.ord,s,a),h=t.ord||d;let f=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(s&&h==="nw"||h==="w"||h==="sw")&&(f=Math.min(f,-s)),(a&&h==="nw"||h==="n"||h==="ne")&&(g=Math.min(g,-a));const m={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(m.x=t.startCropX,m.width=f,n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY-m.height)):d==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=f,n?m.height=m.width/n:m.height=g):d==="sw"?(m.x=t.startCropX+f,m.y=t.startCropY,m.width=Math.abs(f),n?m.height=m.width/n:m.height=g):d==="nw"&&(m.x=t.startCropX+f,m.width=Math.abs(f),n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY+g));const y=tW(m,n,d,i.width,i.height,s,a,r,o);return n||ja.xyOrds.indexOf(h)>-1?c=y:ja.xOrds.indexOf(h)>-1?(c.x=y.x,c.width=y.width):ja.yOrds.indexOf(h)>-1&&(c.y=y.y,c.height=y.height),c.x=jf(c.x,0,i.width-c.width),c.y=jf(c.y,0,i.height-c.height),c}renderCropSelection(){const{ariaLabels:t=ja.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:o,ruleOfThirds:i,crop:s}=this.props,a=this.getCropStyle();if(s)return wn.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&wn.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},wn.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),wn.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),wn.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),wn.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),wn.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),o&&wn.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},o(this.state)),i&&wn.createElement(wn.Fragment,null,wn.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),wn.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...ES,...this.props.crop||{}};return hu(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:r,className:o,crop:i,disabled:s,locked:a,style:c,ruleOfThirds:d}=this.props,{cropIsActive:h,newCropIsBeingDrawn:f}=this.state,g=i?this.renderCropSelection():null,m=u2e("ReactCrop",o,h&&"ReactCrop--active",s&&"ReactCrop--disabled",a&&"ReactCrop--locked",f&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&r&&"ReactCrop--circular-crop",i&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return wn.createElement("div",{ref:this.componentRef,className:m,style:c},wn.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?wn.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},wn.createElement("defs",null,wn.createElement("mask",{id:`hole-${this.instanceId}`},wn.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?wn.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):wn.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),wn.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};to(fu,"xOrds",["e","w"]),to(fu,"yOrds",["n","s"]),to(fu,"xyOrds",["nw","ne","se","sw"]),to(fu,"nudgeStep",1),to(fu,"nudgeStepMedium",10),to(fu,"nudgeStepLarge",100),to(fu,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let nW=fu;const f2e=Dt(jze)(({vm:e})=>x.jsxs(ri,{display:"flex",flexDirection:"column",children:[x.jsx(mf,{noWrap:!0,children:e.imageInfo}),x.jsx(ri,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(nW,{crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,className:"ReactCrop--no-animate",style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),p2e=Dt(Vze)(({vm:e})=>{const{isPad:t,schemaValuesModel:n}=e;return x.jsxs(Xd,{children:[!t&&x.jsx(f2e,{}),n&&x.jsx(dI,{m:n})]})}),g2e=Dt($ze)(({vm:e})=>x.jsx(Xd,{children:x.jsx(So,{label:"Текст",value:e.value,onChange:e.setValue})})),m2e=Dt(Gze)(({vm:e})=>x.jsxs(ri,{display:"flex",flexDirection:"column",children:[x.jsx(mf,{noWrap:!0,children:e.iconAtlas.toUpperCase()}),x.jsx(ri,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(nW,{disabled:e.disabled,locked:!0,className:"ReactCrop--no-animate",crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),v2e=Dt(Hze)(({vm:e})=>{const t=e.isPropsChangeDisabled;return x.jsxs(Xd,{children:[x.jsxs(bo,{children:["Создан: ",e.date]}),x.jsx(So,{label:"Имя",value:e.klassName,onChange:e.setKlassName,required:!0,disabled:t}),x.jsx(ps,{label:"Всегда использовать иконку",checked:e.forceUseIcon,onChange:e.setForceUseIcon,disabled:t}),x.jsx(ps,{label:"Можно менять размер",checked:e.canChangeSize,onChange:e.setCanChangeSize,disabled:t}),x.jsx(m2e,{m:e.klass})]})}),y2e=Ao()(({vm:e})=>{const t=!e.canAddRow;let n=x.jsx(Sn,{color:"primary",onClick:e.addRow,disabled:t,children:x.jsx(HO,{})});return t?n=x.jsx(On,{title:"Нет переменных общего типа",children:x.jsx("span",{children:n})}):n=x.jsx(On,{title:"Добавить связку переменных (A)",children:n}),x.jsxs(zNe,{sx:{flexWrap:"nowrap"},children:[n,x.jsx(ps,{checked:e.enabled,onChange:e.setEnabled,title:"Связь активна?"}),e.props.toolbar]})}),b2e=Dt(Ize)(({vm:e})=>x.jsx(Km,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,isCellEditable:e.isCellEditable,localeText:{noRowsLabel:"Нет соединенных переменных"},slotProps:{noRowsOverlay:void 0},slots:{noRowsOverlay:TRe,toolbar:y2e},disableColumnMenu:!0,disableColumnSorting:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),w2e=Dt(c3e)(({vm:e})=>x.jsx(Km,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),rW=Dt(r3e)(({vm:e})=>x.jsxs(ri,{display:"flex",gap:"2%",children:[x.jsx(So,{label:"Угол",type:"number",value:e.angle,onChange:e.setAngle}),x.jsx(So,{label:"Длина",type:"number",value:e.length,onChange:e.setLength}),x.jsx(On,{title:"Заливка",children:x.jsx(ps,{checked:e.fill,onChange:e.setFill,icon:x.jsx(gH,{}),checkedIcon:x.jsx(gH,{})})}),x.jsx(On,{title:"Удалить стрелку",children:x.jsx(Sn,{onClick:e.onRemoveButtonClick,sx:{flexGrow:0},children:x.jsx(Ew,{})})})]})),oW=Dt(o3e)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsx(So,{label:"Цвет",value:e.getColor,onChange:e.setColor,type:"color",immediate:!0}),x.jsx(So,{label:"Толщина",value:e.width,onChange:e.setWidth,type:"number"})]})),S2e=Dt(i3e)(({vm:e})=>{const{image:t}=e;return x.jsxs(sIe,{onClick:e.onClick,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop,dashed:e.dashed,children:[x.jsx(aIe,{ref:e.inputRef,onChange:e.onChange,type:"file",accept:"image/*",tabIndex:-1}),t?x.jsx(lIe,{src:Ji(t.src)}):x.jsx(cIe,{})]})}),C2e=Dt(s3e)(({vm:e})=>{const{isPattern:t}=e;return t?x.jsx(S2e,{m:e.m}):x.jsxs(ri,{display:"flex",gap:"2%",children:[x.jsx(So,{label:"Цвет",type:"color",value:e.getColor,onChange:e.setColor,immediate:!0}),x.jsx(ps,{label:"Смешивание",checked:e.mix,onChange:e.setMix})]})}),x2e=Dt(a3e)(({vm:e})=>{const{mode:t,schemaConnection:n,canAddPen:r,pen:o,canAddBrush:i,brush:s}=e,a=!n&&o,c=x.jsxs(iH,{value:t,onChange:e.onPointsModeChange,children:[x.jsx($O,{value:"props",label:"Свойства"}),x.jsx($O,{value:"points",label:"Точки"})]});return t==="points"?x.jsxs(x.Fragment,{children:[x.jsx(uI,{}),x.jsx(_a,{}),x.jsxs(aR,{children:[c,x.jsx(w2e,{m:e.m})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(uI,{}),x.jsx(_a,{}),x.jsxs(aR,{children:[c,x.jsxs(J4,{children:[r&&x.jsx(zm,{label:"Обводка",options:e.penVariantOptions,value:e.penVariant,onChange:e.setPenVariant}),a&&x.jsxs(ri,{display:"flex",gap:"2%",children:[x.jsx(oW,{m:o}),!e.hasStartArrow&&x.jsx(On,{title:"Добавить стрелку в начале",children:x.jsx(Sn,{onClick:e.onAddStartArrowButtonClick,children:x.jsx(Zg,{badgeContent:"+",children:x.jsx(ZMe,{})})})}),!e.hasEndArrow&&x.jsx(On,{title:"Добавить стрелку в конце",children:x.jsx(Sn,{onClick:e.onAddEndArrowButtonClick,children:x.jsx(Zg,{badgeContent:"+",children:x.jsx(dMe,{})})})})]}),a&&e.hasStartArrow&&x.jsx(rW,{m:e.m,arrow:"start"}),a&&e.hasEndArrow&&x.jsx(rW,{m:e.m,arrow:"end"}),i&&x.jsx(zm,{label:"Заливка",options:e.brushVariantOptions,value:e.brushVariant,onChange:e.setBrushVariant}),s&&x.jsx(C2e,{m:s}),n&&x.jsx(b2e,{m:n,sceneConnection:e.sceneConnection,toolbar:o&&x.jsx(oW,{m:o})})]})]})]})}),_2e=Dt(u3e)(({vm:e})=>x.jsxs(Xd,{children:[e.showCreateGroupButton&&x.jsx(Ui,{onClick:e.onCreateGroupButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать группу (G)"}),e.showCreateConnectionButton&&x.jsx(Ui,{onClick:e.onCreateConnectionButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать связь (C)"})]})),E2e=Dt(d3e)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsx(Xd,{children:t&&x.jsx(dI,{m:t})})}),T2e=Dt(g3e)(({vm:e})=>x.jsx(Xd,{children:x.jsx(Ui,{onClick:e.onOpenTextEditorButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Открыть редактор текста (E)"})})),M2e=Ao()(({vm:e})=>{const{selectedObject:t,m:n}=e;if(!t)switch(n.type){case"schemaEditor":return x.jsx(E2e,{m:null});case"klassPropsEditor":return x.jsx(v2e,{m:null});case"fileSceneEditor":return null}if(t.type==="_pseudoGroup")return x.jsx(_2e,{m:t});const{key:r}=t;switch(t.type){case"line":return x.jsx(x2e,{m:t},r);case"imageView":return x.jsx(p2e,{m:t},r);case"textView":return x.jsx(T2e,{m:t},r);case"input":return x.jsx(g2e,{m:t},r);case"group":return x.jsx(a2e,{m:t},r);case"videoView":return null}});function O2e(){const{rightPanelMinimized:e}=Sa();return x.jsx(On,{title:"Показать панель настроек (Ctrl+P)",followCursor:!0,placement:"left",children:x.jsx(JH,{onClick:e.setFalse,size:"small",children:x.jsx(cH,{})})})}const R2e=xg(()=>{const{rightPanelMinimized:e}=Sa();return x.jsx(oR,{width:300,minimized:e.isTrue,button:x.jsx(O2e,{}),children:x.jsx(M2e,{})})}),I2e=[{value:"BOLD",title:"Жирный (Ctrl+B)",children:x.jsx(gMe,{})},{value:"ITALIC",title:"Курсив (Ctrl+I)",children:x.jsx(mMe,{})},{value:"UNDERLINE",title:"Подчеркнутый (Ctrl+U)",children:x.jsx(bMe,{})},{value:"STRIKETHROUGH",title:"Зачеркнутый (Ctrl+S)",children:x.jsx(yMe,{})}].map(e=>x.jsx(UO,{...e},e.value)),P2e=Ao()(({vm:e})=>x.jsxs(j1e,{direction:"row",gap:1,alignItems:"center",padding:"4px",divider:x.jsx(Bw,{}),children:[x.jsx(lH,{onPointerDown:xb,value:e.fontStyles,onChange:e.onFontStylesChange,children:I2e}),x.jsx(So,{type:"number",label:"Размер",value:e.fontSizeValue,onChange:e.onFontSizeChange}),x.jsx(So,{type:"color",label:"Цвет",value:e.colorValue,onChange:e.onColorChange}),x.jsx(vw,{fullWidth:!0,children:x.jsx(ul,{select:!0,size:"small",label:"Шрифт",value:e.fontValue,onChange:e.onFontChange,children:e.availableFonts.map(t=>x.jsx(Hi,{value:t,children:t},t))})})]})),k2e=Ao()(({vm:e})=>x.jsx(Bs.Editor,{ref:e.ref,editorState:e.editorState,onChange:e.onEditorChange,handleKeyCommand:e.handleKeyCommand,customStyleFn:e.customStyleFn,keyBindingFn:e.keyBindingFn,preserveSelectionOnBlur:!0,spellCheck:!0},e.randomKey)),D2e=Dt(S3e)(({vm:e})=>{const t=iz();return x.jsxs(_O,{ref:t,open:e.dialogOpen,fullWidth:!0,maxWidth:"xl",children:[x.jsx(__e,{children:"Редактирование текста"}),x.jsx(_a,{}),x.jsx(P2e,{}),x.jsx(_a,{}),x.jsx(oIe,{children:x.jsx(k2e,{})}),x.jsx(_a,{}),x.jsxs(EU,{children:[x.jsx(Ui,{variant:"contained",onClick:e.onApplyButtonClick,children:"Применить"}),x.jsx(Ui,{variant:"outlined",onClick:e.onCancelButtonClick,children:"Отменить"})]})]})}),A2e=Dt(C3e)(({vm:e})=>{const{textEditor:t}=e;return x.jsxs(x.Fragment,{children:[t&&x.jsx(D2e,{m:t}),x.jsxs(nR,{children:[x.jsx(rIe,{ref:e.viewMountRef}),x.jsx(Bw,{}),x.jsx(R2e,{})]})]})});function L2e(){const e=_.useRef(null);return _.useEffect(()=>{const t=e.current;if(!t)return;const n=requestAnimationFrame(()=>t.focus());return()=>{cancelAnimationFrame(n)}},[e.current]),e}class N2e extends Nt{constructor(){super(...arguments),this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t),this.onChange=t=>this.m.setCurrentText(t.currentTarget.value)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,o=n[n.length-1].length+1;this.m.setCursorPosition(r,o)}}const B2e=Dt(N2e)(({vm:e})=>{const t=L2e();return x.jsx(PRe,{ref:t,defaultValue:e.defaultValue,readOnly:e.readOnly,onChange:e.onChange,onKeyUp:e.onKeyUp,onClick:e.onClick,spellCheck:!0})}),F2e=Dt(KRe)(({vm:e})=>{const{activeEditor:t}=e;if(!t)return null;switch(t.type){case"fileSceneEditor":case"klassPropsEditor":case"schemaEditor":return x.jsx(A2e,{m:t},t._reactKey);case"codeEditor":return x.jsx(CGe,{m:t},t._reactKey);case"textEditor":return x.jsx(B2e,{m:t},t._reactKey)}}),j2e=Dt(qRe)(({m:e})=>{const{tabs:t,player:n}=e;return x.jsxs(Bve,{project:e,children:[x.jsx(FGe,{m:n}),x.jsxs(nR,{children:[x.jsx(pHe,{}),x.jsx(Bw,{}),x.jsxs(rR,{children:[x.jsxs(rR,{children:[x.jsx(j3e,{m:t}),x.jsx(_a,{}),x.jsx(F2e,{m:t})]}),x.jsx(_a,{}),x.jsx(I3e,{m:t})]})]})]})});class V2e extends Nt{constructor(t){super(),this.ctx=t,this.onModalClose=(n,r)=>{this.ctx.app.subProjectSelectorVisible.setFalse()},vt(this,{onModalClose:ye})}get isModalOpen(){return this.ctx.app.subProjectSelectorVisible.isTrue}}const $2e=Dt(V2e)(({vm:e})=>x.jsx(gw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:hw},slotProps:{backdrop:{timeout:500}},children:x.jsx(Xg,{in:e.isModalOpen,children:x.jsx(eG,{children:x.jsx(tG,{children:x.jsx(iG,{m:e.m})})})})})),z2e=Dt(Fve)(({m:e})=>{const{currentProject:t,ctxMenu:n,accountSettings:r,loginFormVisible:o,loadingMessage:i,subProjectSelector:s}=e;return x.jsxs(Nve,{app:e,children:[x.jsx(WRe,{}),x.jsx($2e,{m:s}),x.jsx(QMe,{m:r,open:o.isTrue}),x.jsx(KTe,{m:n}),t&&x.jsx(j2e,{m:t},t.id),i&&x.jsxs("h3",{children:[i,"..."]})]})});var hI={exports:{}},qm={},fI={exports:{}},pI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iW;function U2e(){return iW||(iW=1,(function(e){function t(V,Y){var Q=V.length;V.push(Y);e:for(;0<Q;){var te=Q-1>>>1,z=V[te];if(0<o(z,Y))V[te]=Y,V[Q]=z,Q=te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],Q=V.pop();if(Q!==Y){V[0]=Q;e:for(var te=0,z=V.length,W=z>>>1;te<W;){var Z=2*(te+1)-1,le=V[Z],ue=Z+1,ce=V[ue];if(0>o(le,Q))ue<z&&0>o(ce,le)?(V[te]=ce,V[ue]=Q,te=ue):(V[te]=le,V[Z]=Q,te=Z);else if(ue<z&&0>o(ce,Q))V[te]=ce,V[ue]=Q,te=ue;else break e}}return Y}function o(V,Y){var Q=V.sortIndex-Y.sortIndex;return Q!==0?Q:V.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],d=[],h=1,f=null,g=3,m=!1,y=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=V)r(d),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=n(d)}}function M(V){if(b=!1,R(V),!y)if(n(c)!==null)y=!0,I||(I=!0,B());else{var Y=n(d);Y!==null&&G(M,Y.startTime-V)}}var I=!1,N=-1,P=5,L=-1;function A(){return v?!0:!(e.unstable_now()-L<P)}function $(){if(v=!1,I){var V=e.unstable_now();L=V;var Y=!0;try{e:{y=!1,b&&(b=!1,E(N),N=-1),m=!0;var Q=g;try{t:{for(R(V),f=n(c);f!==null&&!(f.expirationTime>V&&A());){var te=f.callback;if(typeof te=="function"){f.callback=null,g=f.priorityLevel;var z=te(f.expirationTime<=V);if(V=e.unstable_now(),typeof z=="function"){f.callback=z,R(V),Y=!0;break t}f===n(c)&&r(c),R(V)}else r(c);f=n(c)}if(f!==null)Y=!0;else{var W=n(d);W!==null&&G(M,W.startTime-V),Y=!1}}break e}finally{f=null,g=Q,m=!1}Y=void 0}}finally{Y?B():I=!1}}}var B;if(typeof T=="function")B=function(){T($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=$,B=function(){K.postMessage(null)}}else B=function(){S($,0)};function G(V,Y){N=S(function(){V(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var Q=g;g=Y;try{return V()}finally{g=Q}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=g;g=V;try{return Y()}finally{g=Q}},e.unstable_scheduleCallback=function(V,Y,Q){var te=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?te+Q:te):Q=te,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Q+z,V={id:h++,callback:Y,priorityLevel:V,startTime:Q,expirationTime:z,sortIndex:-1},Q>te?(V.sortIndex=Q,t(d,V),n(c)===null&&V===n(d)&&(b?(E(N),N=-1):b=!0,G(M,Q-te))):(V.sortIndex=z,t(c,V),y||m||(y=!0,I||(I=!0,B()))),V},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(V){var Y=g;return function(){var Q=g;g=Y;try{return V.apply(this,arguments)}finally{g=Q}}}})(pI)),pI}var sW;function H2e(){return sW||(sW=1,fI.exports=U2e()),fI.exports}var aW;function G2e(){if(aW)return qm;aW=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=H2e(),t=pi(),n=sT();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(i(l)!==l)throw Error(r(188))}function c(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(r(188));return u!==l?null:l}for(var p=l,w=u;;){var O=p.return;if(O===null)break;var j=O.alternate;if(j===null){if(w=O.return,w!==null){p=w;continue}break}if(O.child===j.child){for(j=O.child;j;){if(j===p)return a(O),l;if(j===w)return a(O),u;j=j.sibling}throw Error(r(188))}if(p.return!==w.return)p=O,w=j;else{for(var J=!1,ie=O.child;ie;){if(ie===p){J=!0,p=O,w=j;break}if(ie===w){J=!0,w=O,p=j;break}ie=ie.sibling}if(!J){for(ie=j.child;ie;){if(ie===p){J=!0,p=j,w=O;break}if(ie===w){J=!0,w=j,p=O;break}ie=ie.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==w)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var U=Symbol.for("react.client.reference");function K(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===U?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case m:return"Portal";case T:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case R:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return u=l.displayName||null,u!==null?u:K(l.type)||"Memo";case P:u=l._payload,l=l._init;try{return K(l(u))}catch{}}return null}var G=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},te=[],z=-1;function W(l){return{current:l}}function Z(l){0>z||(l.current=te[z],te[z]=null,z--)}function le(l,u){z++,te[z]=l.current,l.current=u}var ue=W(null),ce=W(null),se=W(null),ve=W(null);function Te(l,u){switch(le(se,u),le(ce,l),le(ue,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?RK(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=RK(u),l=IK(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Z(ue),le(ue,l)}function Se(){Z(ue),Z(ce),Z(se)}function he(l){l.memoizedState!==null&&le(ve,l);var u=ue.current,p=IK(u,l.type);u!==p&&(le(ce,l),le(ue,p))}function pe(l){ce.current===l&&(Z(ue),Z(ce)),ve.current===l&&(Z(ve),Av._currentValue=Q)}var we=Object.prototype.hasOwnProperty,_e=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,Ee=e.unstable_shouldYield,Fe=e.unstable_requestPaint,Je=e.unstable_now,Be=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,St=e.unstable_NormalPriority,je=e.unstable_LowPriority,Rt=e.unstable_IdlePriority,mt=e.log,Bt=e.unstable_setDisableYieldValue,It=null,Xt=null;function Wt(l){if(typeof mt=="function"&&Bt(l),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(It,l)}catch{}}var ht=Math.clz32?Math.clz32:lt,_t=Math.log,He=Math.LN2;function lt(l){return l>>>=0,l===0?32:31-(_t(l)/He|0)|0}var ct=256,Ct=4194304;function st(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function At(l,u,p){var w=l.pendingLanes;if(w===0)return 0;var O=0,j=l.suspendedLanes,J=l.pingedLanes;l=l.warmLanes;var ie=w&134217727;return ie!==0?(w=ie&~j,w!==0?O=st(w):(J&=ie,J!==0?O=st(J):p||(p=ie&~l,p!==0&&(O=st(p))))):(ie=w&~j,ie!==0?O=st(ie):J!==0?O=st(J):p||(p=w&~l,p!==0&&(O=st(p)))),O===0?0:u!==0&&u!==O&&(u&j)===0&&(j=O&-O,p=u&-u,j>=p||j===32&&(p&4194048)!==0)?u:O}function pt(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Pt(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var l=ct;return ct<<=1,(ct&4194048)===0&&(ct=256),l}function An(){var l=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),l}function fr(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function Fn(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Dr(l,u,p,w,O,j){var J=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var ie=l.entanglements,me=l.expirationTimes,Le=l.hiddenUpdates;for(p=J&~p;0<p;){var nt=31-ht(p),at=1<<nt;ie[nt]=0,me[nt]=-1;var Ve=Le[nt];if(Ve!==null)for(Le[nt]=null,nt=0;nt<Ve.length;nt++){var ze=Ve[nt];ze!==null&&(ze.lane&=-536870913)}p&=~at}w!==0&&er(l,w,0),j!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=j&~(J&~u))}function er(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var w=31-ht(u);l.entangledLanes|=u,l.entanglements[w]=l.entanglements[w]|1073741824|p&4194090}function jr(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var w=31-ht(p),O=1<<w;O&u|l[w]&u&&(l[w]|=u),p&=~O}}function Vr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function on(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Ln(){var l=Y.p;return l!==0?l:(l=window.event,l===void 0?32:YK(l.type))}function Lt(l,u){var p=Y.p;try{return Y.p=l,u()}finally{Y.p=p}}var $t=Math.random().toString(36).slice(2),tn="__reactFiber$"+$t,en="__reactProps$"+$t,En="__reactContainer$"+$t,fo="__reactEvents$"+$t,jo="__reactListeners$"+$t,Xo="__reactHandles$"+$t,Mi="__reactResources$"+$t,Gr="__reactMarker$"+$t;function Ar(l){delete l[tn],delete l[en],delete l[fo],delete l[jo],delete l[Xo]}function mr(l){var u=l[tn];if(u)return u;for(var p=l.parentNode;p;){if(u=p[En]||p[tn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=AK(l);l!==null;){if(p=l[tn])return p;l=AK(l)}return u}l=p,p=l.parentNode}return null}function Co(l){if(l=l[tn]||l[En]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Oi(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function Tr(l){var u=l[Mi];return u||(u=l[Mi]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function nn(l){l[Gr]=!0}var Xe=new Set,Ze={};function it(l,u){Zt(l,u),Zt(l+"Capture",u)}function Zt(l,u){for(Ze[l]=u,l=0;l<u.length;l++)Xe.add(u[l])}var cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vr={},Zn={};function Wr(l){return we.call(Zn,l)?!0:we.call(vr,l)?!1:cn.test(l)?Zn[l]=!0:(vr[l]=!0,!1)}function Ri(l,u,p){if(Wr(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var w=u.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function ms(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function oi(l,u,p,w){if(w===null)l.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+w)}}var oa,Pn;function Mr(l){if(oa===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);oa=u&&u[1]||"",Pn=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+l+Pn}var ii=!1;function Ii(l,u){if(!l||ii)return"";ii=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(u){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(ze){var Ve=ze}Reflect.construct(l,[],at)}else{try{at.call()}catch(ze){Ve=ze}l.call(at.prototype)}}else{try{throw Error()}catch(ze){Ve=ze}(at=l())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(ze){if(ze&&Ve&&typeof ze.stack=="string")return[ze.stack,Ve.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=w.DetermineComponentFrameRoot(),J=j[0],ie=j[1];if(J&&ie){var me=J.split(`
`),Le=ie.split(`
`);for(O=w=0;w<me.length&&!me[w].includes("DetermineComponentFrameRoot");)w++;for(;O<Le.length&&!Le[O].includes("DetermineComponentFrameRoot");)O++;if(w===me.length||O===Le.length)for(w=me.length-1,O=Le.length-1;1<=w&&0<=O&&me[w]!==Le[O];)O--;for(;1<=w&&0<=O;w--,O--)if(me[w]!==Le[O]){if(w!==1||O!==1)do if(w--,O--,0>O||me[w]!==Le[O]){var nt=`
`+me[w].replace(" at new "," at ");return l.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",l.displayName)),nt}while(1<=w&&0<=O);break}}}finally{ii=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Mr(p):""}function zf(l){switch(l.tag){case 26:case 27:case 5:return Mr(l.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return Ii(l.type,!1);case 11:return Ii(l.type.render,!1);case 1:return Ii(l.type,!0);case 31:return Mr("Activity");default:return""}}function pu(l){try{var u="";do u+=zf(l),l=l.return;while(l);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function vi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Zd(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ym(l){var u=Zd(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),w=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,j=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return O.call(this)},set:function(J){w=""+J,j.call(this,J)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(J){w=""+J},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ki(l){l._valueTracker||(l._valueTracker=Ym(l))}function Qd(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),w="";return l&&(w=Zd(l)?l.checked?"true":"false":l.value),l=w,l!==p?(u.setValue(l),!0):!1}function ic(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Uf=/[\n"\\]/g;function si(l){return l.replace(Uf,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function gu(l,u,p,w,O,j,J,ie){l.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?l.type=J:l.removeAttribute("type"),u!=null?J==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+vi(u)):l.value!==""+vi(u)&&(l.value=""+vi(u)):J!=="submit"&&J!=="reset"||l.removeAttribute("value"),u!=null?mu(l,J,vi(u)):p!=null?mu(l,J,vi(p)):w!=null&&l.removeAttribute("value"),O==null&&j!=null&&(l.defaultChecked=!!j),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?l.name=""+vi(ie):l.removeAttribute("name")}function Jd(l,u,p,w,O,j,J,ie){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(l.type=j),u!=null||p!=null){if(!(j!=="submit"&&j!=="reset"||u!=null))return;p=p!=null?""+vi(p):"",u=u!=null?""+vi(u):p,ie||u===l.value||(l.value=u),l.defaultValue=u}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,l.checked=ie?l.checked:!!w,l.defaultChecked=!!w,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(l.name=J)}function mu(l,u,p){u==="number"&&ic(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Da(l,u,p,w){if(l=l.options,u){u={};for(var O=0;O<p.length;O++)u["$"+p[O]]=!0;for(p=0;p<l.length;p++)O=u.hasOwnProperty("$"+l[p].value),l[p].selected!==O&&(l[p].selected=O),O&&w&&(l[p].defaultSelected=!0)}else{for(p=""+vi(p),u=null,O=0;O<l.length;O++){if(l[O].value===p){l[O].selected=!0,w&&(l[O].defaultSelected=!0);return}u!==null||l[O].disabled||(u=l[O])}u!==null&&(u.selected=!0)}}function eh(l,u,p){if(u!=null&&(u=""+vi(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+vi(p):""}function th(l,u,p,w){if(u==null){if(w!=null){if(p!=null)throw Error(r(92));if(G(w)){if(1<w.length)throw Error(r(93));w=w[0]}p=w}p==null&&(p=""),u=p}p=vi(u),l.defaultValue=p,w=l.textContent,w===p&&w!==""&&w!==null&&(l.value=w)}function vl(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nh(l,u,p){var w=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?w?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":w?l.setProperty(u,p):typeof p!="number"||p===0||yr.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function rh(l,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,p!=null){for(var w in p)!p.hasOwnProperty(w)||u!=null&&u.hasOwnProperty(w)||(w.indexOf("--")===0?l.setProperty(w,""):w==="float"?l.cssFloat="":l[w]="");for(var O in u)w=u[O],u.hasOwnProperty(O)&&p[O]!==w&&nh(l,O,w)}else for(var j in u)u.hasOwnProperty(j)&&nh(l,j,u[j])}function po(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(l){return sc.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var yl=null;function vu(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ia=null,bl=null;function yu(l){var u=Co(l);if(u&&(l=u.stateNode)){var p=l[en]||null;e:switch(l=u.stateNode,u.type){case"input":if(gu(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+si(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var w=p[u];if(w!==l&&w.form===l.form){var O=w[en]||null;if(!O)throw Error(r(90));gu(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(u=0;u<p.length;u++)w=p[u],w.form===l.form&&Qd(w)}break e;case"textarea":eh(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Da(l,!!p.multiple,u,!1)}}}var ys=!1;function oh(l,u,p){if(ys)return l(u,p);ys=!0;try{var w=l(u);return w}finally{if(ys=!1,(ia!==null||bl!==null)&&(oC(),ia&&(u=ia,l=bl,bl=ia=null,yu(u),l)))for(u=0;u<l.length;u++)yu(l[u])}}function ai(l,u){var p=l.stateNode;if(p===null)return null;var w=p[en]||null;if(w===null)return null;p=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(yi)try{var br={};Object.defineProperty(br,"passive",{get:function(){sa=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{sa=!1}var bs=null,lc=null,wl=null;function cc(){if(wl)return wl;var l,u=lc,p=u.length,w,O="value"in bs?bs.value:bs.textContent,j=O.length;for(l=0;l<p&&u[l]===O[l];l++);var J=p-l;for(w=1;w<=J&&u[p-w]===O[j-w];w++);return wl=O.slice(l,1<w?1-w:void 0)}function Sl(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Vo(){return!0}function aa(){return!1}function so(l){function u(p,w,O,j,J){this._reactName=p,this._targetInst=O,this.type=w,this.nativeEvent=j,this.target=J,this.currentTarget=null;for(var ie in l)l.hasOwnProperty(ie)&&(p=l[ie],this[ie]=p?p(j):j[ie]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Vo:aa,this.isPropagationStopped=aa,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),u}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=so(Pi),uc=h({},Pi,{view:0,detail:0}),ih=so(uc),wu,sh,dc,Cl=h({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==dc&&(dc&&l.type==="mousemove"?(wu=l.screenX-dc.screenX,sh=l.screenY-dc.screenY):sh=wu=0,dc=l),wu)},movementY:function(l){return"movementY"in l?l.movementY:sh}}),Hf=so(Cl),Gf=h({},Cl,{dataTransfer:0}),Xm=so(Gf),Wf=h({},uc,{relatedTarget:0}),ah=so(Wf),Zm=h({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),xl=so(Zm),Su=h({},Pi,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Kf=so(Su),lh=h({},Pi,{data:0}),tr=so(lh),qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qi(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Xf[l])?!!u[l]:!1}function hc(){return qi}var Zf=h({},uc,{key:function(l){if(l.key){var u=qf[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Sl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Yf[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(l){return l.type==="keypress"?Sl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Sl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Qf=so(Zf),li=h({},Cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),go=so(li),ae=h({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),Qt=so(ae),_l=h({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ki=so(_l),sr=h({},Cl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=so(sr),El=h({},Pi,{newState:0,oldState:0}),ci=so(El),ch=[9,13,27,32],fn=yi&&"CompositionEvent"in window,Mo=null;yi&&"documentMode"in document&&(Mo=document.documentMode);var uh=yi&&"TextEvent"in window&&!Mo,Wn=yi&&(!fn||Mo&&8<Mo&&11>=Mo),Cu=" ",Aa=!1;function ut(l,u){switch(l){case"keyup":return ch.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ws=!1;function no(l,u){switch(l){case"compositionend":return dh(u);case"keypress":return u.which!==32?null:(Aa=!0,Cu);case"textInput":return l=u.data,l===Cu&&Aa?null:l;default:return null}}function hh(l,u){if(ws)return l==="compositionend"||!fn&&ut(l,u)?(l=cc(),wl=lc=bs=null,ws=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Wn&&u.locale!=="ko"?null:u.data;default:return null}}var fc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!fc[l.type]:u==="textarea"}function Tl(l,u,p,w){ia?bl?bl.push(w):bl=[w]:ia=w,u=uC(u,"onChange"),0<u.length&&(p=new bu("onChange","change",null,p,w),l.push({event:p,listeners:u}))}var Ml=null,Yi=null;function Di(l){_K(l,0)}function wr(l){var u=Oi(l);if(Qd(u))return l}function pc(l,u){if(l==="change")return u}var Jf=!1;if(yi){var fh;if(yi){var Ol="oninput"in document;if(!Ol){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),Ol=typeof ph.oninput=="function"}fh=Ol}else fh=!1;Jf=fh&&(!document.documentMode||9<document.documentMode)}function gh(){Ml&&(Ml.detachEvent("onpropertychange",ep),Yi=Ml=null)}function ep(l){if(l.propertyName==="value"&&wr(Yi)){var u=[];Tl(u,Yi,l,vu(l)),oh(Di,u)}}function tp(l,u,p){l==="focusin"?(gh(),Ml=u,Yi=p,Ml.attachEvent("onpropertychange",ep)):l==="focusout"&&gh()}function Qm(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return wr(Yi)}function xu(l,u){if(l==="click")return wr(u)}function gc(l,u){if(l==="input"||l==="change")return wr(u)}function Jm(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var C=typeof Object.is=="function"?Object.is:Jm;function F(l,u){if(C(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),w=Object.keys(u);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var O=p[w];if(!we.call(u,O)||!C(l[O],u[O]))return!1}return!0}function X(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ee(l,u){var p=X(l);l=0;for(var w;p;){if(p.nodeType===3){if(w=l+p.textContent.length,l<=u&&w>=u)return{node:p,offset:u-l};l=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=X(p)}}function ne(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?ne(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function de(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=ic(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=ic(l.document)}return u}function ge(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Oe=yi&&"documentMode"in document&&11>=document.documentMode,$e=null,qe=null,rt=null,kt=!1;function zt(l,u,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;kt||$e==null||$e!==ic(w)||(w=$e,"selectionStart"in w&&ge(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),rt&&F(rt,w)||(rt=w,w=uC(qe,"onSelect"),0<w.length&&(u=new bu("onSelect","select",null,u,p),l.push({event:u,listeners:w}),u.target=$e)))}function an(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var yn={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},ar={},Or={};yi&&(Or=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function Oo(l){if(ar[l])return ar[l];if(!yn[l])return l;var u=yn[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in Or)return ar[l]=u[p];return l}var Na=Oo("animationend"),TS=Oo("animationiteration"),MS=Oo("animationstart"),gI=Oo("transitionrun"),mI=Oo("transitionstart"),vI=Oo("transitioncancel"),Ft=Oo("transitionend"),ev=new Map,xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xo.push("scrollEnd");function Ai(l,u){ev.set(l,u),it(u,[l])}var tv=new WeakMap;function q(l,u){if(typeof l=="object"&&l!==null){var p=tv.get(l);return p!==void 0?p:(u={value:l,source:u,stack:pu(u)},tv.set(l,u),u)}return{value:l,source:u,stack:pu(u)}}var re=[],Ce=0,Re=0;function Ue(){for(var l=Ce,u=Re=Ce=0;u<l;){var p=re[u];re[u++]=null;var w=re[u];re[u++]=null;var O=re[u];re[u++]=null;var j=re[u];if(re[u++]=null,w!==null&&O!==null){var J=w.pending;J===null?O.next=O:(O.next=J.next,J.next=O),w.pending=O}j!==0&&Ss(p,O,j)}}function Ke(l,u,p,w){re[Ce++]=l,re[Ce++]=u,re[Ce++]=p,re[Ce++]=w,Re|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function un(l,u,p,w){return Ke(l,u,p,w),OS(l)}function dn(l,u){return Ke(l,null,null,u),OS(l)}function Ss(l,u,p){l.lanes|=p;var w=l.alternate;w!==null&&(w.lanes|=p);for(var O=!1,j=l.return;j!==null;)j.childLanes|=p,w=j.alternate,w!==null&&(w.childLanes|=p),j.tag===22&&(l=j.stateNode,l===null||l._visibility&1||(O=!0)),l=j,j=j.return;return l.tag===3?(j=l.stateNode,O&&u!==null&&(O=31-ht(p),l=j.hiddenUpdates,w=l[O],w===null?l[O]=[u]:w.push(u),u.lane=p|536870912),j):null}function OS(l){if(50<Tv)throw Tv=0,xP=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var np={};function X2e(l,u,p,w){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(l,u,p,w){return new X2e(l,u,p,w)}function yI(l){return l=l.prototype,!(!l||!l.isReactComponent)}function mc(l,u){var p=l.alternate;return p===null?(p=Cs(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function cW(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function RS(l,u,p,w,O,j){var J=0;if(w=l,typeof l=="function")yI(l)&&(J=1);else if(typeof l=="string")J=Q5e(l,p,ue.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=Cs(31,p,u,O),l.elementType=L,l.lanes=j,l;case y:return mh(p.children,O,j,u);case b:J=8,O|=24;break;case v:return l=Cs(12,p,u,O|2),l.elementType=v,l.lanes=j,l;case M:return l=Cs(13,p,u,O),l.elementType=M,l.lanes=j,l;case I:return l=Cs(19,p,u,O),l.elementType=I,l.lanes=j,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:case T:J=10;break e;case E:J=9;break e;case R:J=11;break e;case N:J=14;break e;case P:J=16,w=null;break e}J=29,p=Error(r(130,l===null?"null":typeof l,"")),w=null}return u=Cs(J,p,u,O),u.elementType=l,u.type=w,u.lanes=j,u}function mh(l,u,p,w){return l=Cs(7,l,w,u),l.lanes=p,l}function bI(l,u,p){return l=Cs(6,l,null,u),l.lanes=p,l}function wI(l,u,p){return u=Cs(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var rp=[],op=0,IS=null,PS=0,la=[],ca=0,vh=null,vc=1,yc="";function yh(l,u){rp[op++]=PS,rp[op++]=IS,IS=l,PS=u}function uW(l,u,p){la[ca++]=vc,la[ca++]=yc,la[ca++]=vh,vh=l;var w=vc;l=yc;var O=32-ht(w)-1;w&=~(1<<O),p+=1;var j=32-ht(u)+O;if(30<j){var J=O-O%5;j=(w&(1<<J)-1).toString(32),w>>=J,O-=J,vc=1<<32-ht(u)+O|p<<O|w,yc=j+l}else vc=1<<j|p<<O|w,yc=l}function SI(l){l.return!==null&&(yh(l,1),uW(l,1,0))}function CI(l){for(;l===IS;)IS=rp[--op],rp[op]=null,PS=rp[--op],rp[op]=null;for(;l===vh;)vh=la[--ca],la[ca]=null,yc=la[--ca],la[ca]=null,vc=la[--ca],la[ca]=null}var Li=null,mo=null,lr=!1,bh=null,Rl=!1,xI=Error(r(519));function wh(l){var u=Error(r(418,""));throw ov(q(u,l)),xI}function dW(l){var u=l.stateNode,p=l.type,w=l.memoizedProps;switch(u[tn]=l,u[en]=w,p){case"dialog":Un("cancel",u),Un("close",u);break;case"iframe":case"object":case"embed":Un("load",u);break;case"video":case"audio":for(p=0;p<Ov.length;p++)Un(Ov[p],u);break;case"source":Un("error",u);break;case"img":case"image":case"link":Un("error",u),Un("load",u);break;case"details":Un("toggle",u);break;case"input":Un("invalid",u),Jd(u,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Ki(u);break;case"select":Un("invalid",u);break;case"textarea":Un("invalid",u),th(u,w.value,w.defaultValue,w.children),Ki(u)}p=w.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||w.suppressHydrationWarning===!0||OK(u.textContent,p)?(w.popover!=null&&(Un("beforetoggle",u),Un("toggle",u)),w.onScroll!=null&&Un("scroll",u),w.onScrollEnd!=null&&Un("scrollend",u),w.onClick!=null&&(u.onclick=dC),u=!0):u=!1,u||wh(l)}function hW(l){for(Li=l.return;Li;)switch(Li.tag){case 5:case 13:Rl=!1;return;case 27:case 3:Rl=!0;return;default:Li=Li.return}}function nv(l){if(l!==Li)return!1;if(!lr)return hW(l),lr=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||jP(l.type,l.memoizedProps)),p=!p),p&&mo&&wh(l),hW(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(u===0){mo=Fa(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;l=l.nextSibling}mo=null}}else u===27?(u=mo,ju(l.type)?(l=UP,UP=null,mo=l):mo=u):mo=Li?Fa(l.stateNode.nextSibling):null;return!0}function rv(){mo=Li=null,lr=!1}function fW(){var l=bh;return l!==null&&(Qi===null?Qi=l:Qi.push.apply(Qi,l),bh=null),l}function ov(l){bh===null?bh=[l]:bh.push(l)}var _I=W(null),Sh=null,bc=null;function _u(l,u,p){le(_I,u._currentValue),u._currentValue=p}function wc(l){l._currentValue=_I.current,Z(_I)}function EI(l,u,p){for(;l!==null;){var w=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),l===p)break;l=l.return}}function TI(l,u,p,w){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var j=O.dependencies;if(j!==null){var J=O.child;j=j.firstContext;e:for(;j!==null;){var ie=j;j=O;for(var me=0;me<u.length;me++)if(ie.context===u[me]){j.lanes|=p,ie=j.alternate,ie!==null&&(ie.lanes|=p),EI(j.return,p,l),w||(J=null);break e}j=ie.next}}else if(O.tag===18){if(J=O.return,J===null)throw Error(r(341));J.lanes|=p,j=J.alternate,j!==null&&(j.lanes|=p),EI(J,p,l),J=null}else J=O.child;if(J!==null)J.return=O;else for(J=O;J!==null;){if(J===l){J=null;break}if(O=J.sibling,O!==null){O.return=J.return,J=O;break}J=J.return}O=J}}function iv(l,u,p,w){l=null;for(var O=u,j=!1;O!==null;){if(!j){if((O.flags&524288)!==0)j=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var J=O.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var ie=O.type;C(O.pendingProps.value,J.value)||(l!==null?l.push(ie):l=[ie])}}else if(O===ve.current){if(J=O.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(Av):l=[Av])}O=O.return}l!==null&&TI(u,l,p,w),u.flags|=262144}function kS(l){for(l=l.firstContext;l!==null;){if(!C(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ch(l){Sh=l,bc=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function bi(l){return pW(Sh,l)}function DS(l,u){return Sh===null&&Ch(l),pW(l,u)}function pW(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},bc===null){if(l===null)throw Error(r(308));bc=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else bc=bc.next=u;return p}var Z2e=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,w){l.push(w)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},Q2e=e.unstable_scheduleCallback,J2e=e.unstable_NormalPriority,$o={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function MI(){return{controller:new Z2e,data:new Map,refCount:0}}function sv(l){l.refCount--,l.refCount===0&&Q2e(J2e,function(){l.controller.abort()})}var av=null,OI=0,ip=0,sp=null;function e5e(l,u){if(av===null){var p=av=[];OI=0,ip=IP(),sp={status:"pending",value:void 0,then:function(w){p.push(w)}}}return OI++,u.then(gW,gW),u}function gW(){if(--OI===0&&av!==null){sp!==null&&(sp.status="fulfilled");var l=av;av=null,ip=0,sp=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function t5e(l,u){var p=[],w={status:"pending",value:null,reason:null,then:function(O){p.push(O)}};return l.then(function(){w.status="fulfilled",w.value=u;for(var O=0;O<p.length;O++)(0,p[O])(u)},function(O){for(w.status="rejected",w.reason=O,O=0;O<p.length;O++)(0,p[O])(void 0)}),w}var mW=V.S;V.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&e5e(l,u),mW!==null&&mW(l,u)};var xh=W(null);function RI(){var l=xh.current;return l!==null?l:$r.pooledCache}function AS(l,u){u===null?le(xh,xh.current):le(xh,u.pool)}function vW(){var l=RI();return l===null?null:{parent:$o._currentValue,pool:l}}var lv=Error(r(460)),yW=Error(r(474)),LS=Error(r(542)),II={then:function(){}};function bW(l){return l=l.status,l==="fulfilled"||l==="rejected"}function NS(){}function wW(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(NS,NS),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,CW(l),l;default:if(typeof u.status=="string")u.then(NS,NS);else{if(l=$r,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(w){if(u.status==="pending"){var O=u;O.status="fulfilled",O.value=w}},function(w){if(u.status==="pending"){var O=u;O.status="rejected",O.reason=w}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,CW(l),l}throw cv=u,lv}}var cv=null;function SW(){if(cv===null)throw Error(r(459));var l=cv;return cv=null,l}function CW(l){if(l===lv||l===LS)throw Error(r(483))}var Eu=!1;function PI(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kI(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Tu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Mu(l,u,p){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Sr&2)!==0){var O=w.pending;return O===null?u.next=u:(u.next=O.next,O.next=u),w.pending=u,u=OS(l),Ss(l,null,p),u}return Ke(l,w,u,p),OS(l)}function uv(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var w=u.lanes;w&=l.pendingLanes,p|=w,u.lanes=p,jr(l,p)}}function DI(l,u){var p=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var O=null,j=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};j===null?O=j=J:j=j.next=J,p=p.next}while(p!==null);j===null?O=j=u:j=j.next=u}else O=j=u;p={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:j,shared:w.shared,callbacks:w.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var AI=!1;function dv(){if(AI){var l=sp;if(l!==null)throw l}}function hv(l,u,p,w){AI=!1;var O=l.updateQueue;Eu=!1;var j=O.firstBaseUpdate,J=O.lastBaseUpdate,ie=O.shared.pending;if(ie!==null){O.shared.pending=null;var me=ie,Le=me.next;me.next=null,J===null?j=Le:J.next=Le,J=me;var nt=l.alternate;nt!==null&&(nt=nt.updateQueue,ie=nt.lastBaseUpdate,ie!==J&&(ie===null?nt.firstBaseUpdate=Le:ie.next=Le,nt.lastBaseUpdate=me))}if(j!==null){var at=O.baseState;J=0,nt=Le=me=null,ie=j;do{var Ve=ie.lane&-536870913,ze=Ve!==ie.lane;if(ze?(Kn&Ve)===Ve:(w&Ve)===Ve){Ve!==0&&Ve===ip&&(AI=!0),nt!==null&&(nt=nt.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var vn=l,pn=ie;Ve=u;var Pr=p;switch(pn.tag){case 1:if(vn=pn.payload,typeof vn=="function"){at=vn.call(Pr,at,Ve);break e}at=vn;break e;case 3:vn.flags=vn.flags&-65537|128;case 0:if(vn=pn.payload,Ve=typeof vn=="function"?vn.call(Pr,at,Ve):vn,Ve==null)break e;at=h({},at,Ve);break e;case 2:Eu=!0}}Ve=ie.callback,Ve!==null&&(l.flags|=64,ze&&(l.flags|=8192),ze=O.callbacks,ze===null?O.callbacks=[Ve]:ze.push(Ve))}else ze={lane:Ve,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},nt===null?(Le=nt=ze,me=at):nt=nt.next=ze,J|=Ve;if(ie=ie.next,ie===null){if(ie=O.shared.pending,ie===null)break;ze=ie,ie=ze.next,ze.next=null,O.lastBaseUpdate=ze,O.shared.pending=null}}while(!0);nt===null&&(me=at),O.baseState=me,O.firstBaseUpdate=Le,O.lastBaseUpdate=nt,j===null&&(O.shared.lanes=0),Lu|=J,l.lanes=J,l.memoizedState=at}}function xW(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function _W(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)xW(p[l],u)}var ap=W(null),BS=W(0);function EW(l,u){l=Mc,le(BS,l),le(ap,u),Mc=l|u.baseLanes}function LI(){le(BS,Mc),le(ap,ap.current)}function NI(){Mc=BS.current,Z(ap),Z(BS)}var Ou=0,Nn=null,Rr=null,Ro=null,FS=!1,lp=!1,_h=!1,jS=0,fv=0,cp=null,n5e=0;function _o(){throw Error(r(321))}function BI(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!C(l[p],u[p]))return!1;return!0}function FI(l,u,p,w,O,j){return Ou=j,Nn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,V.H=l===null||l.memoizedState===null?l6:c6,_h=!1,j=p(w,O),_h=!1,lp&&(j=MW(u,p,w,O)),TW(l),j}function TW(l){V.H=GS;var u=Rr!==null&&Rr.next!==null;if(Ou=0,Ro=Rr=Nn=null,FS=!1,fv=0,cp=null,u)throw Error(r(300));l===null||Zo||(l=l.dependencies,l!==null&&kS(l)&&(Zo=!0))}function MW(l,u,p,w){Nn=l;var O=0;do{if(lp&&(cp=null),fv=0,lp=!1,25<=O)throw Error(r(301));if(O+=1,Ro=Rr=null,l.updateQueue!=null){var j=l.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}V.H=c5e,j=u(p,w)}while(lp);return j}function r5e(){var l=V.H,u=l.useState()[0];return u=typeof u.then=="function"?pv(u):u,l=l.useState()[0],(Rr!==null?Rr.memoizedState:null)!==l&&(Nn.flags|=1024),u}function jI(){var l=jS!==0;return jS=0,l}function VI(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function $I(l){if(FS){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}FS=!1}Ou=0,Ro=Rr=Nn=null,lp=!1,fv=jS=0,cp=null}function Xi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ro===null?Nn.memoizedState=Ro=l:Ro=Ro.next=l,Ro}function Io(){if(Rr===null){var l=Nn.alternate;l=l!==null?l.memoizedState:null}else l=Rr.next;var u=Ro===null?Nn.memoizedState:Ro.next;if(u!==null)Ro=u,Rr=l;else{if(l===null)throw Nn.alternate===null?Error(r(467)):Error(r(310));Rr=l,l={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Ro===null?Nn.memoizedState=Ro=l:Ro=Ro.next=l}return Ro}function zI(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pv(l){var u=fv;return fv+=1,cp===null&&(cp=[]),l=wW(cp,l,u),u=Nn,(Ro===null?u.memoizedState:Ro.next)===null&&(u=u.alternate,V.H=u===null||u.memoizedState===null?l6:c6),l}function VS(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return pv(l);if(l.$$typeof===T)return bi(l)}throw Error(r(438,String(l)))}function UI(l){var u=null,p=Nn.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var w=Nn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(u={data:w.data.map(function(O){return O.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=zI(),Nn.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),w=0;w<l;w++)p[w]=A;return u.index++,p}function Sc(l,u){return typeof u=="function"?u(l):u}function $S(l){var u=Io();return HI(u,Rr,l)}function HI(l,u,p){var w=l.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=p;var O=l.baseQueue,j=w.pending;if(j!==null){if(O!==null){var J=O.next;O.next=j.next,j.next=J}u.baseQueue=O=j,w.pending=null}if(j=l.baseState,O===null)l.memoizedState=j;else{u=O.next;var ie=J=null,me=null,Le=u,nt=!1;do{var at=Le.lane&-536870913;if(at!==Le.lane?(Kn&at)===at:(Ou&at)===at){var Ve=Le.revertLane;if(Ve===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),at===ip&&(nt=!0);else if((Ou&Ve)===Ve){Le=Le.next,Ve===ip&&(nt=!0);continue}else at={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(ie=me=at,J=j):me=me.next=at,Nn.lanes|=Ve,Lu|=Ve;at=Le.action,_h&&p(j,at),j=Le.hasEagerState?Le.eagerState:p(j,at)}else Ve={lane:at,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(ie=me=Ve,J=j):me=me.next=Ve,Nn.lanes|=at,Lu|=at;Le=Le.next}while(Le!==null&&Le!==u);if(me===null?J=j:me.next=ie,!C(j,l.memoizedState)&&(Zo=!0,nt&&(p=sp,p!==null)))throw p;l.memoizedState=j,l.baseState=J,l.baseQueue=me,w.lastRenderedState=j}return O===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function GI(l){var u=Io(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var w=p.dispatch,O=p.pending,j=u.memoizedState;if(O!==null){p.pending=null;var J=O=O.next;do j=l(j,J.action),J=J.next;while(J!==O);C(j,u.memoizedState)||(Zo=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),p.lastRenderedState=j}return[j,w]}function OW(l,u,p){var w=Nn,O=Io(),j=lr;if(j){if(p===void 0)throw Error(r(407));p=p()}else p=u();var J=!C((Rr||O).memoizedState,p);J&&(O.memoizedState=p,Zo=!0),O=O.queue;var ie=PW.bind(null,w,O,l);if(gv(2048,8,ie,[l]),O.getSnapshot!==u||J||Ro!==null&&Ro.memoizedState.tag&1){if(w.flags|=2048,up(9,zS(),IW.bind(null,w,O,p,u),null),$r===null)throw Error(r(349));j||(Ou&124)!==0||RW(w,u,p)}return p}function RW(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Nn.updateQueue,u===null?(u=zI(),Nn.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function IW(l,u,p,w){u.value=p,u.getSnapshot=w,kW(u)&&DW(l)}function PW(l,u,p){return p(function(){kW(u)&&DW(l)})}function kW(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!C(l,p)}catch{return!0}}function DW(l){var u=dn(l,2);u!==null&&Ms(u,l,2)}function WI(l){var u=Xi();if(typeof l=="function"){var p=l;if(l=p(),_h){Wt(!0);try{p()}finally{Wt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:l},u}function AW(l,u,p,w){return l.baseState=p,HI(l,Rr,typeof w=="function"?w:Sc)}function o5e(l,u,p,w,O){if(HS(l))throw Error(r(485));if(l=u.action,l!==null){var j={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){j.listeners.push(J)}};V.T!==null?p(!0):j.isTransition=!1,w(j),p=u.pending,p===null?(j.next=u.pending=j,LW(u,j)):(j.next=p.next,u.pending=p.next=j)}}function LW(l,u){var p=u.action,w=u.payload,O=l.state;if(u.isTransition){var j=V.T,J={};V.T=J;try{var ie=p(O,w),me=V.S;me!==null&&me(J,ie),NW(l,u,ie)}catch(Le){KI(l,u,Le)}finally{V.T=j}}else try{j=p(O,w),NW(l,u,j)}catch(Le){KI(l,u,Le)}}function NW(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(w){BW(l,u,w)},function(w){return KI(l,u,w)}):BW(l,u,p)}function BW(l,u,p){u.status="fulfilled",u.value=p,FW(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,LW(l,p)))}function KI(l,u,p){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do u.status="rejected",u.reason=p,FW(u),u=u.next;while(u!==w)}l.action=null}function FW(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function jW(l,u){return u}function VW(l,u){if(lr){var p=$r.formState;if(p!==null){e:{var w=Nn;if(lr){if(mo){t:{for(var O=mo,j=Rl;O.nodeType!==8;){if(!j){O=null;break t}if(O=Fa(O.nextSibling),O===null){O=null;break t}}j=O.data,O=j==="F!"||j==="F"?O:null}if(O){mo=Fa(O.nextSibling),w=O.data==="F!";break e}}wh(w)}w=!1}w&&(u=p[0])}}return p=Xi(),p.memoizedState=p.baseState=u,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jW,lastRenderedState:u},p.queue=w,p=i6.bind(null,Nn,w),w.dispatch=p,w=WI(!1),j=QI.bind(null,Nn,!1,w.queue),w=Xi(),O={state:u,dispatch:null,action:l,pending:null},w.queue=O,p=o5e.bind(null,Nn,O,j,p),O.dispatch=p,w.memoizedState=l,[u,p,!1]}function $W(l){var u=Io();return zW(u,Rr,l)}function zW(l,u,p){if(u=HI(l,u,jW)[0],l=$S(Sc)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var w=pv(u)}catch(J){throw J===lv?LS:J}else w=u;u=Io();var O=u.queue,j=O.dispatch;return p!==u.memoizedState&&(Nn.flags|=2048,up(9,zS(),i5e.bind(null,O,p),null)),[w,j,l]}function i5e(l,u){l.action=u}function UW(l){var u=Io(),p=Rr;if(p!==null)return zW(u,p,l);Io(),u=u.memoizedState,p=Io();var w=p.queue.dispatch;return p.memoizedState=l,[u,w,!1]}function up(l,u,p,w){return l={tag:l,create:p,deps:w,inst:u,next:null},u=Nn.updateQueue,u===null&&(u=zI(),Nn.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(w=p.next,p.next=l,l.next=w,u.lastEffect=l),l}function zS(){return{destroy:void 0,resource:void 0}}function HW(){return Io().memoizedState}function US(l,u,p,w){var O=Xi();w=w===void 0?null:w,Nn.flags|=l,O.memoizedState=up(1|u,zS(),p,w)}function gv(l,u,p,w){var O=Io();w=w===void 0?null:w;var j=O.memoizedState.inst;Rr!==null&&w!==null&&BI(w,Rr.memoizedState.deps)?O.memoizedState=up(u,j,p,w):(Nn.flags|=l,O.memoizedState=up(1|u,j,p,w))}function GW(l,u){US(8390656,8,l,u)}function WW(l,u){gv(2048,8,l,u)}function KW(l,u){return gv(4,2,l,u)}function qW(l,u){return gv(4,4,l,u)}function YW(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function XW(l,u,p){p=p!=null?p.concat([l]):null,gv(4,4,YW.bind(null,u,l),p)}function qI(){}function ZW(l,u){var p=Io();u=u===void 0?null:u;var w=p.memoizedState;return u!==null&&BI(u,w[1])?w[0]:(p.memoizedState=[l,u],l)}function QW(l,u){var p=Io();u=u===void 0?null:u;var w=p.memoizedState;if(u!==null&&BI(u,w[1]))return w[0];if(w=l(),_h){Wt(!0);try{l()}finally{Wt(!1)}}return p.memoizedState=[w,u],w}function YI(l,u,p){return p===void 0||(Ou&1073741824)!==0?l.memoizedState=u:(l.memoizedState=p,l=tK(),Nn.lanes|=l,Lu|=l,p)}function JW(l,u,p,w){return C(p,u)?p:ap.current!==null?(l=YI(l,p,w),C(l,u)||(Zo=!0),l):(Ou&42)===0?(Zo=!0,l.memoizedState=p):(l=tK(),Nn.lanes|=l,Lu|=l,u)}function e6(l,u,p,w,O){var j=Y.p;Y.p=j!==0&&8>j?j:8;var J=V.T,ie={};V.T=ie,QI(l,!1,u,p);try{var me=O(),Le=V.S;if(Le!==null&&Le(ie,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var nt=t5e(me,w);mv(l,u,nt,Ts(l))}else mv(l,u,w,Ts(l))}catch(at){mv(l,u,{then:function(){},status:"rejected",reason:at},Ts())}finally{Y.p=j,V.T=J}}function s5e(){}function XI(l,u,p,w){if(l.tag!==5)throw Error(r(476));var O=t6(l).queue;e6(l,O,u,Q,p===null?s5e:function(){return n6(l),p(w)})}function t6(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:Q},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function n6(l){var u=t6(l).next.queue;mv(l,u,{},Ts())}function ZI(){return bi(Av)}function r6(){return Io().memoizedState}function o6(){return Io().memoizedState}function a5e(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=Ts();l=Tu(p);var w=Mu(u,l,p);w!==null&&(Ms(w,u,p),uv(w,u,p)),u={cache:MI()},l.payload=u;return}u=u.return}}function l5e(l,u,p){var w=Ts();p={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},HS(l)?s6(u,p):(p=un(l,u,p,w),p!==null&&(Ms(p,l,w),a6(p,u,w)))}function i6(l,u,p){var w=Ts();mv(l,u,p,w)}function mv(l,u,p,w){var O={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(HS(l))s6(u,O);else{var j=l.alternate;if(l.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var J=u.lastRenderedState,ie=j(J,p);if(O.hasEagerState=!0,O.eagerState=ie,C(ie,J))return Ke(l,u,O,0),$r===null&&Ue(),!1}catch{}finally{}if(p=un(l,u,O,w),p!==null)return Ms(p,l,w),a6(p,u,w),!0}return!1}function QI(l,u,p,w){if(w={lane:2,revertLane:IP(),action:w,hasEagerState:!1,eagerState:null,next:null},HS(l)){if(u)throw Error(r(479))}else u=un(l,p,w,2),u!==null&&Ms(u,l,2)}function HS(l){var u=l.alternate;return l===Nn||u!==null&&u===Nn}function s6(l,u){lp=FS=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function a6(l,u,p){if((p&4194048)!==0){var w=u.lanes;w&=l.pendingLanes,p|=w,u.lanes=p,jr(l,p)}}var GS={readContext:bi,use:VS,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useLayoutEffect:_o,useInsertionEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useSyncExternalStore:_o,useId:_o,useHostTransitionStatus:_o,useFormState:_o,useActionState:_o,useOptimistic:_o,useMemoCache:_o,useCacheRefresh:_o},l6={readContext:bi,use:VS,useCallback:function(l,u){return Xi().memoizedState=[l,u===void 0?null:u],l},useContext:bi,useEffect:GW,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,US(4194308,4,YW.bind(null,u,l),p)},useLayoutEffect:function(l,u){return US(4194308,4,l,u)},useInsertionEffect:function(l,u){US(4,2,l,u)},useMemo:function(l,u){var p=Xi();u=u===void 0?null:u;var w=l();if(_h){Wt(!0);try{l()}finally{Wt(!1)}}return p.memoizedState=[w,u],w},useReducer:function(l,u,p){var w=Xi();if(p!==void 0){var O=p(u);if(_h){Wt(!0);try{p(u)}finally{Wt(!1)}}}else O=u;return w.memoizedState=w.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},w.queue=l,l=l.dispatch=l5e.bind(null,Nn,l),[w.memoizedState,l]},useRef:function(l){var u=Xi();return l={current:l},u.memoizedState=l},useState:function(l){l=WI(l);var u=l.queue,p=i6.bind(null,Nn,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:qI,useDeferredValue:function(l,u){var p=Xi();return YI(p,l,u)},useTransition:function(){var l=WI(!1);return l=e6.bind(null,Nn,l.queue,!0,!1),Xi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var w=Nn,O=Xi();if(lr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),$r===null)throw Error(r(349));(Kn&124)!==0||RW(w,u,p)}O.memoizedState=p;var j={value:p,getSnapshot:u};return O.queue=j,GW(PW.bind(null,w,j,l),[l]),w.flags|=2048,up(9,zS(),IW.bind(null,w,j,p,u),null),p},useId:function(){var l=Xi(),u=$r.identifierPrefix;if(lr){var p=yc,w=vc;p=(w&~(1<<32-ht(w)-1)).toString(32)+p,u="«"+u+"R"+p,p=jS++,0<p&&(u+="H"+p.toString(32)),u+="»"}else p=n5e++,u="«"+u+"r"+p.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:ZI,useFormState:VW,useActionState:VW,useOptimistic:function(l){var u=Xi();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=QI.bind(null,Nn,!0,p),p.dispatch=u,[l,u]},useMemoCache:UI,useCacheRefresh:function(){return Xi().memoizedState=a5e.bind(null,Nn)}},c6={readContext:bi,use:VS,useCallback:ZW,useContext:bi,useEffect:WW,useImperativeHandle:XW,useInsertionEffect:KW,useLayoutEffect:qW,useMemo:QW,useReducer:$S,useRef:HW,useState:function(){return $S(Sc)},useDebugValue:qI,useDeferredValue:function(l,u){var p=Io();return JW(p,Rr.memoizedState,l,u)},useTransition:function(){var l=$S(Sc)[0],u=Io().memoizedState;return[typeof l=="boolean"?l:pv(l),u]},useSyncExternalStore:OW,useId:r6,useHostTransitionStatus:ZI,useFormState:$W,useActionState:$W,useOptimistic:function(l,u){var p=Io();return AW(p,Rr,l,u)},useMemoCache:UI,useCacheRefresh:o6},c5e={readContext:bi,use:VS,useCallback:ZW,useContext:bi,useEffect:WW,useImperativeHandle:XW,useInsertionEffect:KW,useLayoutEffect:qW,useMemo:QW,useReducer:GI,useRef:HW,useState:function(){return GI(Sc)},useDebugValue:qI,useDeferredValue:function(l,u){var p=Io();return Rr===null?YI(p,l,u):JW(p,Rr.memoizedState,l,u)},useTransition:function(){var l=GI(Sc)[0],u=Io().memoizedState;return[typeof l=="boolean"?l:pv(l),u]},useSyncExternalStore:OW,useId:r6,useHostTransitionStatus:ZI,useFormState:UW,useActionState:UW,useOptimistic:function(l,u){var p=Io();return Rr!==null?AW(p,Rr,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:UI,useCacheRefresh:o6},dp=null,vv=0;function WS(l){var u=vv;return vv+=1,dp===null&&(dp=[]),wW(dp,l,u)}function yv(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function KS(l,u){throw u.$$typeof===f?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function u6(l){var u=l._init;return u(l._payload)}function d6(l){function u(ke,xe){if(l){var Ae=ke.deletions;Ae===null?(ke.deletions=[xe],ke.flags|=16):Ae.push(xe)}}function p(ke,xe){if(!l)return null;for(;xe!==null;)u(ke,xe),xe=xe.sibling;return null}function w(ke){for(var xe=new Map;ke!==null;)ke.key!==null?xe.set(ke.key,ke):xe.set(ke.index,ke),ke=ke.sibling;return xe}function O(ke,xe){return ke=mc(ke,xe),ke.index=0,ke.sibling=null,ke}function j(ke,xe,Ae){return ke.index=Ae,l?(Ae=ke.alternate,Ae!==null?(Ae=Ae.index,Ae<xe?(ke.flags|=67108866,xe):Ae):(ke.flags|=67108866,xe)):(ke.flags|=1048576,xe)}function J(ke){return l&&ke.alternate===null&&(ke.flags|=67108866),ke}function ie(ke,xe,Ae,ot){return xe===null||xe.tag!==6?(xe=bI(Ae,ke.mode,ot),xe.return=ke,xe):(xe=O(xe,Ae),xe.return=ke,xe)}function me(ke,xe,Ae,ot){var Kt=Ae.type;return Kt===y?nt(ke,xe,Ae.props.children,ot,Ae.key):xe!==null&&(xe.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===P&&u6(Kt)===xe.type)?(xe=O(xe,Ae.props),yv(xe,Ae),xe.return=ke,xe):(xe=RS(Ae.type,Ae.key,Ae.props,null,ke.mode,ot),yv(xe,Ae),xe.return=ke,xe)}function Le(ke,xe,Ae,ot){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Ae.containerInfo||xe.stateNode.implementation!==Ae.implementation?(xe=wI(Ae,ke.mode,ot),xe.return=ke,xe):(xe=O(xe,Ae.children||[]),xe.return=ke,xe)}function nt(ke,xe,Ae,ot,Kt){return xe===null||xe.tag!==7?(xe=mh(Ae,ke.mode,ot,Kt),xe.return=ke,xe):(xe=O(xe,Ae),xe.return=ke,xe)}function at(ke,xe,Ae){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=bI(""+xe,ke.mode,Ae),xe.return=ke,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case g:return Ae=RS(xe.type,xe.key,xe.props,null,ke.mode,Ae),yv(Ae,xe),Ae.return=ke,Ae;case m:return xe=wI(xe,ke.mode,Ae),xe.return=ke,xe;case P:var ot=xe._init;return xe=ot(xe._payload),at(ke,xe,Ae)}if(G(xe)||B(xe))return xe=mh(xe,ke.mode,Ae,null),xe.return=ke,xe;if(typeof xe.then=="function")return at(ke,WS(xe),Ae);if(xe.$$typeof===T)return at(ke,DS(ke,xe),Ae);KS(ke,xe)}return null}function Ve(ke,xe,Ae,ot){var Kt=xe!==null?xe.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Kt!==null?null:ie(ke,xe,""+Ae,ot);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:return Ae.key===Kt?me(ke,xe,Ae,ot):null;case m:return Ae.key===Kt?Le(ke,xe,Ae,ot):null;case P:return Kt=Ae._init,Ae=Kt(Ae._payload),Ve(ke,xe,Ae,ot)}if(G(Ae)||B(Ae))return Kt!==null?null:nt(ke,xe,Ae,ot,null);if(typeof Ae.then=="function")return Ve(ke,xe,WS(Ae),ot);if(Ae.$$typeof===T)return Ve(ke,xe,DS(ke,Ae),ot);KS(ke,Ae)}return null}function ze(ke,xe,Ae,ot,Kt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ke=ke.get(Ae)||null,ie(xe,ke,""+ot,Kt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case g:return ke=ke.get(ot.key===null?Ae:ot.key)||null,me(xe,ke,ot,Kt);case m:return ke=ke.get(ot.key===null?Ae:ot.key)||null,Le(xe,ke,ot,Kt);case P:var jn=ot._init;return ot=jn(ot._payload),ze(ke,xe,Ae,ot,Kt)}if(G(ot)||B(ot))return ke=ke.get(Ae)||null,nt(xe,ke,ot,Kt,null);if(typeof ot.then=="function")return ze(ke,xe,Ae,WS(ot),Kt);if(ot.$$typeof===T)return ze(ke,xe,Ae,DS(xe,ot),Kt);KS(xe,ot)}return null}function vn(ke,xe,Ae,ot){for(var Kt=null,jn=null,sn=xe,mn=xe=0,Jo=null;sn!==null&&mn<Ae.length;mn++){sn.index>mn?(Jo=sn,sn=null):Jo=sn.sibling;var nr=Ve(ke,sn,Ae[mn],ot);if(nr===null){sn===null&&(sn=Jo);break}l&&sn&&nr.alternate===null&&u(ke,sn),xe=j(nr,xe,mn),jn===null?Kt=nr:jn.sibling=nr,jn=nr,sn=Jo}if(mn===Ae.length)return p(ke,sn),lr&&yh(ke,mn),Kt;if(sn===null){for(;mn<Ae.length;mn++)sn=at(ke,Ae[mn],ot),sn!==null&&(xe=j(sn,xe,mn),jn===null?Kt=sn:jn.sibling=sn,jn=sn);return lr&&yh(ke,mn),Kt}for(sn=w(sn);mn<Ae.length;mn++)Jo=ze(sn,ke,mn,Ae[mn],ot),Jo!==null&&(l&&Jo.alternate!==null&&sn.delete(Jo.key===null?mn:Jo.key),xe=j(Jo,xe,mn),jn===null?Kt=Jo:jn.sibling=Jo,jn=Jo);return l&&sn.forEach(function(Hu){return u(ke,Hu)}),lr&&yh(ke,mn),Kt}function pn(ke,xe,Ae,ot){if(Ae==null)throw Error(r(151));for(var Kt=null,jn=null,sn=xe,mn=xe=0,Jo=null,nr=Ae.next();sn!==null&&!nr.done;mn++,nr=Ae.next()){sn.index>mn?(Jo=sn,sn=null):Jo=sn.sibling;var Hu=Ve(ke,sn,nr.value,ot);if(Hu===null){sn===null&&(sn=Jo);break}l&&sn&&Hu.alternate===null&&u(ke,sn),xe=j(Hu,xe,mn),jn===null?Kt=Hu:jn.sibling=Hu,jn=Hu,sn=Jo}if(nr.done)return p(ke,sn),lr&&yh(ke,mn),Kt;if(sn===null){for(;!nr.done;mn++,nr=Ae.next())nr=at(ke,nr.value,ot),nr!==null&&(xe=j(nr,xe,mn),jn===null?Kt=nr:jn.sibling=nr,jn=nr);return lr&&yh(ke,mn),Kt}for(sn=w(sn);!nr.done;mn++,nr=Ae.next())nr=ze(sn,ke,mn,nr.value,ot),nr!==null&&(l&&nr.alternate!==null&&sn.delete(nr.key===null?mn:nr.key),xe=j(nr,xe,mn),jn===null?Kt=nr:jn.sibling=nr,jn=nr);return l&&sn.forEach(function(u4e){return u(ke,u4e)}),lr&&yh(ke,mn),Kt}function Pr(ke,xe,Ae,ot){if(typeof Ae=="object"&&Ae!==null&&Ae.type===y&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:e:{for(var Kt=Ae.key;xe!==null;){if(xe.key===Kt){if(Kt=Ae.type,Kt===y){if(xe.tag===7){p(ke,xe.sibling),ot=O(xe,Ae.props.children),ot.return=ke,ke=ot;break e}}else if(xe.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===P&&u6(Kt)===xe.type){p(ke,xe.sibling),ot=O(xe,Ae.props),yv(ot,Ae),ot.return=ke,ke=ot;break e}p(ke,xe);break}else u(ke,xe);xe=xe.sibling}Ae.type===y?(ot=mh(Ae.props.children,ke.mode,ot,Ae.key),ot.return=ke,ke=ot):(ot=RS(Ae.type,Ae.key,Ae.props,null,ke.mode,ot),yv(ot,Ae),ot.return=ke,ke=ot)}return J(ke);case m:e:{for(Kt=Ae.key;xe!==null;){if(xe.key===Kt)if(xe.tag===4&&xe.stateNode.containerInfo===Ae.containerInfo&&xe.stateNode.implementation===Ae.implementation){p(ke,xe.sibling),ot=O(xe,Ae.children||[]),ot.return=ke,ke=ot;break e}else{p(ke,xe);break}else u(ke,xe);xe=xe.sibling}ot=wI(Ae,ke.mode,ot),ot.return=ke,ke=ot}return J(ke);case P:return Kt=Ae._init,Ae=Kt(Ae._payload),Pr(ke,xe,Ae,ot)}if(G(Ae))return vn(ke,xe,Ae,ot);if(B(Ae)){if(Kt=B(Ae),typeof Kt!="function")throw Error(r(150));return Ae=Kt.call(Ae),pn(ke,xe,Ae,ot)}if(typeof Ae.then=="function")return Pr(ke,xe,WS(Ae),ot);if(Ae.$$typeof===T)return Pr(ke,xe,DS(ke,Ae),ot);KS(ke,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,xe!==null&&xe.tag===6?(p(ke,xe.sibling),ot=O(xe,Ae),ot.return=ke,ke=ot):(p(ke,xe),ot=bI(Ae,ke.mode,ot),ot.return=ke,ke=ot),J(ke)):p(ke,xe)}return function(ke,xe,Ae,ot){try{vv=0;var Kt=Pr(ke,xe,Ae,ot);return dp=null,Kt}catch(sn){if(sn===lv||sn===LS)throw sn;var jn=Cs(29,sn,null,ke.mode);return jn.lanes=ot,jn.return=ke,jn}finally{}}}var hp=d6(!0),h6=d6(!1),ua=W(null),Il=null;function Ru(l){var u=l.alternate;le(zo,zo.current&1),le(ua,l),Il===null&&(u===null||ap.current!==null||u.memoizedState!==null)&&(Il=l)}function f6(l){if(l.tag===22){if(le(zo,zo.current),le(ua,l),Il===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Il=l)}}else Iu()}function Iu(){le(zo,zo.current),le(ua,ua.current)}function Cc(l){Z(ua),Il===l&&(Il=null),Z(zo)}var zo=W(0);function qS(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||zP(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function JI(l,u,p,w){u=l.memoizedState,p=p(w,u),p=p==null?u:h({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var eP={enqueueSetState:function(l,u,p){l=l._reactInternals;var w=Ts(),O=Tu(w);O.payload=u,p!=null&&(O.callback=p),u=Mu(l,O,w),u!==null&&(Ms(u,l,w),uv(u,l,w))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var w=Ts(),O=Tu(w);O.tag=1,O.payload=u,p!=null&&(O.callback=p),u=Mu(l,O,w),u!==null&&(Ms(u,l,w),uv(u,l,w))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Ts(),w=Tu(p);w.tag=2,u!=null&&(w.callback=u),u=Mu(l,w,p),u!==null&&(Ms(u,l,p),uv(u,l,p))}};function p6(l,u,p,w,O,j,J){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,j,J):u.prototype&&u.prototype.isPureReactComponent?!F(p,w)||!F(O,j):!0}function g6(l,u,p,w){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,w),u.state!==l&&eP.enqueueReplaceState(u,u.state,null)}function Eh(l,u){var p=u;if("ref"in u){p={};for(var w in u)w!=="ref"&&(p[w]=u[w])}if(l=l.defaultProps){p===u&&(p=h({},p));for(var O in l)p[O]===void 0&&(p[O]=l[O])}return p}var YS=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function m6(l){YS(l)}function v6(l){console.error(l)}function y6(l){YS(l)}function XS(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(w){setTimeout(function(){throw w})}}function b6(l,u,p){try{var w=l.onCaughtError;w(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function tP(l,u,p){return p=Tu(p),p.tag=3,p.payload={element:null},p.callback=function(){XS(l,u)},p}function w6(l){return l=Tu(l),l.tag=3,l}function S6(l,u,p,w){var O=p.type.getDerivedStateFromError;if(typeof O=="function"){var j=w.value;l.payload=function(){return O(j)},l.callback=function(){b6(u,p,w)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(l.callback=function(){b6(u,p,w),typeof O!="function"&&(Nu===null?Nu=new Set([this]):Nu.add(this));var ie=w.stack;this.componentDidCatch(w.value,{componentStack:ie!==null?ie:""})})}function u5e(l,u,p,w,O){if(p.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(u=p.alternate,u!==null&&iv(u,p,O,!0),p=ua.current,p!==null){switch(p.tag){case 13:return Il===null?EP():p.alternate===null&&vo===0&&(vo=3),p.flags&=-257,p.flags|=65536,p.lanes=O,w===II?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([w]):u.add(w),MP(l,w,O)),!1;case 22:return p.flags|=65536,w===II?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([w])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([w]):p.add(w)),MP(l,w,O)),!1}throw Error(r(435,p.tag))}return MP(l,w,O),EP(),!1}if(lr)return u=ua.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=O,w!==xI&&(l=Error(r(422),{cause:w}),ov(q(l,p)))):(w!==xI&&(u=Error(r(423),{cause:w}),ov(q(u,p))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,w=q(w,p),O=tP(l.stateNode,w,O),DI(l,O),vo!==4&&(vo=2)),!1;var j=Error(r(520),{cause:w});if(j=q(j,p),Ev===null?Ev=[j]:Ev.push(j),vo!==4&&(vo=2),u===null)return!0;w=q(w,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=O&-O,p.lanes|=l,l=tP(p.stateNode,w,l),DI(p,l),!1;case 1:if(u=p.type,j=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Nu===null||!Nu.has(j))))return p.flags|=65536,O&=-O,p.lanes|=O,O=w6(O),S6(O,l,p,w),DI(p,O),!1}p=p.return}while(p!==null);return!1}var C6=Error(r(461)),Zo=!1;function ui(l,u,p,w){u.child=l===null?h6(u,null,p,w):hp(u,l.child,p,w)}function x6(l,u,p,w,O){p=p.render;var j=u.ref;if("ref"in w){var J={};for(var ie in w)ie!=="ref"&&(J[ie]=w[ie])}else J=w;return Ch(u),w=FI(l,u,p,J,j,O),ie=jI(),l!==null&&!Zo?(VI(l,u,O),xc(l,u,O)):(lr&&ie&&SI(u),u.flags|=1,ui(l,u,w,O),u.child)}function _6(l,u,p,w,O){if(l===null){var j=p.type;return typeof j=="function"&&!yI(j)&&j.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=j,E6(l,u,j,w,O)):(l=RS(p.type,null,w,u,u.mode,O),l.ref=u.ref,l.return=u,u.child=l)}if(j=l.child,!cP(l,O)){var J=j.memoizedProps;if(p=p.compare,p=p!==null?p:F,p(J,w)&&l.ref===u.ref)return xc(l,u,O)}return u.flags|=1,l=mc(j,w),l.ref=u.ref,l.return=u,u.child=l}function E6(l,u,p,w,O){if(l!==null){var j=l.memoizedProps;if(F(j,w)&&l.ref===u.ref)if(Zo=!1,u.pendingProps=w=j,cP(l,O))(l.flags&131072)!==0&&(Zo=!0);else return u.lanes=l.lanes,xc(l,u,O)}return nP(l,u,p,w,O)}function T6(l,u,p){var w=u.pendingProps,O=w.children,j=l!==null?l.memoizedState:null;if(w.mode==="hidden"){if((u.flags&128)!==0){if(w=j!==null?j.baseLanes|p:p,l!==null){for(O=u.child=l.child,j=0;O!==null;)j=j|O.lanes|O.childLanes,O=O.sibling;u.childLanes=j&~w}else u.childLanes=0,u.child=null;return M6(l,u,w,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&AS(u,j!==null?j.cachePool:null),j!==null?EW(u,j):LI(),f6(u);else return u.lanes=u.childLanes=536870912,M6(l,u,j!==null?j.baseLanes|p:p,p)}else j!==null?(AS(u,j.cachePool),EW(u,j),Iu(),u.memoizedState=null):(l!==null&&AS(u,null),LI(),Iu());return ui(l,u,O,p),u.child}function M6(l,u,p,w){var O=RI();return O=O===null?null:{parent:$o._currentValue,pool:O},u.memoizedState={baseLanes:p,cachePool:O},l!==null&&AS(u,null),LI(),f6(u),l!==null&&iv(l,u,w,!0),null}function ZS(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function nP(l,u,p,w,O){return Ch(u),p=FI(l,u,p,w,void 0,O),w=jI(),l!==null&&!Zo?(VI(l,u,O),xc(l,u,O)):(lr&&w&&SI(u),u.flags|=1,ui(l,u,p,O),u.child)}function O6(l,u,p,w,O,j){return Ch(u),u.updateQueue=null,p=MW(u,w,p,O),TW(l),w=jI(),l!==null&&!Zo?(VI(l,u,j),xc(l,u,j)):(lr&&w&&SI(u),u.flags|=1,ui(l,u,p,j),u.child)}function R6(l,u,p,w,O){if(Ch(u),u.stateNode===null){var j=np,J=p.contextType;typeof J=="object"&&J!==null&&(j=bi(J)),j=new p(w,j),u.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=eP,u.stateNode=j,j._reactInternals=u,j=u.stateNode,j.props=w,j.state=u.memoizedState,j.refs={},PI(u),J=p.contextType,j.context=typeof J=="object"&&J!==null?bi(J):np,j.state=u.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(JI(u,p,J,w),j.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(J=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),J!==j.state&&eP.enqueueReplaceState(j,j.state,null),hv(u,w,j,O),dv(),j.state=u.memoizedState),typeof j.componentDidMount=="function"&&(u.flags|=4194308),w=!0}else if(l===null){j=u.stateNode;var ie=u.memoizedProps,me=Eh(p,ie);j.props=me;var Le=j.context,nt=p.contextType;J=np,typeof nt=="object"&&nt!==null&&(J=bi(nt));var at=p.getDerivedStateFromProps;nt=typeof at=="function"||typeof j.getSnapshotBeforeUpdate=="function",ie=u.pendingProps!==ie,nt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ie||Le!==J)&&g6(u,j,w,J),Eu=!1;var Ve=u.memoizedState;j.state=Ve,hv(u,w,j,O),dv(),Le=u.memoizedState,ie||Ve!==Le||Eu?(typeof at=="function"&&(JI(u,p,at,w),Le=u.memoizedState),(me=Eu||p6(u,p,me,w,Ve,Le,J))?(nt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(u.flags|=4194308)):(typeof j.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Le),j.props=w,j.state=Le,j.context=J,w=me):(typeof j.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{j=u.stateNode,kI(l,u),J=u.memoizedProps,nt=Eh(p,J),j.props=nt,at=u.pendingProps,Ve=j.context,Le=p.contextType,me=np,typeof Le=="object"&&Le!==null&&(me=bi(Le)),ie=p.getDerivedStateFromProps,(Le=typeof ie=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(J!==at||Ve!==me)&&g6(u,j,w,me),Eu=!1,Ve=u.memoizedState,j.state=Ve,hv(u,w,j,O),dv();var ze=u.memoizedState;J!==at||Ve!==ze||Eu||l!==null&&l.dependencies!==null&&kS(l.dependencies)?(typeof ie=="function"&&(JI(u,p,ie,w),ze=u.memoizedState),(nt=Eu||p6(u,p,nt,w,Ve,ze,me)||l!==null&&l.dependencies!==null&&kS(l.dependencies))?(Le||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,ze,me),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,ze,me)),typeof j.componentDidUpdate=="function"&&(u.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof j.componentDidUpdate!="function"||J===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=ze),j.props=w,j.state=ze,j.context=me,w=nt):(typeof j.componentDidUpdate!="function"||J===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&Ve===l.memoizedState||(u.flags|=1024),w=!1)}return j=w,ZS(l,u),w=(u.flags&128)!==0,j||w?(j=u.stateNode,p=w&&typeof p.getDerivedStateFromError!="function"?null:j.render(),u.flags|=1,l!==null&&w?(u.child=hp(u,l.child,null,O),u.child=hp(u,null,p,O)):ui(l,u,p,O),u.memoizedState=j.state,l=u.child):l=xc(l,u,O),l}function I6(l,u,p,w){return rv(),u.flags|=256,ui(l,u,p,w),u.child}var rP={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oP(l){return{baseLanes:l,cachePool:vW()}}function iP(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=da),l}function P6(l,u,p){var w=u.pendingProps,O=!1,j=(u.flags&128)!==0,J;if((J=j)||(J=l!==null&&l.memoizedState===null?!1:(zo.current&2)!==0),J&&(O=!0,u.flags&=-129),J=(u.flags&32)!==0,u.flags&=-33,l===null){if(lr){if(O?Ru(u):Iu(),lr){var ie=mo,me;if(me=ie){e:{for(me=ie,ie=Rl;me.nodeType!==8;){if(!ie){ie=null;break e}if(me=Fa(me.nextSibling),me===null){ie=null;break e}}ie=me}ie!==null?(u.memoizedState={dehydrated:ie,treeContext:vh!==null?{id:vc,overflow:yc}:null,retryLane:536870912,hydrationErrors:null},me=Cs(18,null,null,0),me.stateNode=ie,me.return=u,u.child=me,Li=u,mo=null,me=!0):me=!1}me||wh(u)}if(ie=u.memoizedState,ie!==null&&(ie=ie.dehydrated,ie!==null))return zP(ie)?u.lanes=32:u.lanes=536870912,null;Cc(u)}return ie=w.children,w=w.fallback,O?(Iu(),O=u.mode,ie=QS({mode:"hidden",children:ie},O),w=mh(w,O,p,null),ie.return=u,w.return=u,ie.sibling=w,u.child=ie,O=u.child,O.memoizedState=oP(p),O.childLanes=iP(l,J,p),u.memoizedState=rP,w):(Ru(u),sP(u,ie))}if(me=l.memoizedState,me!==null&&(ie=me.dehydrated,ie!==null)){if(j)u.flags&256?(Ru(u),u.flags&=-257,u=aP(l,u,p)):u.memoizedState!==null?(Iu(),u.child=l.child,u.flags|=128,u=null):(Iu(),O=w.fallback,ie=u.mode,w=QS({mode:"visible",children:w.children},ie),O=mh(O,ie,p,null),O.flags|=2,w.return=u,O.return=u,w.sibling=O,u.child=w,hp(u,l.child,null,p),w=u.child,w.memoizedState=oP(p),w.childLanes=iP(l,J,p),u.memoizedState=rP,u=O);else if(Ru(u),zP(ie)){if(J=ie.nextSibling&&ie.nextSibling.dataset,J)var Le=J.dgst;J=Le,w=Error(r(419)),w.stack="",w.digest=J,ov({value:w,source:null,stack:null}),u=aP(l,u,p)}else if(Zo||iv(l,u,p,!1),J=(p&l.childLanes)!==0,Zo||J){if(J=$r,J!==null&&(w=p&-p,w=(w&42)!==0?1:Vr(w),w=(w&(J.suspendedLanes|p))!==0?0:w,w!==0&&w!==me.retryLane))throw me.retryLane=w,dn(l,w),Ms(J,l,w),C6;ie.data==="$?"||EP(),u=aP(l,u,p)}else ie.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=me.treeContext,mo=Fa(ie.nextSibling),Li=u,lr=!0,bh=null,Rl=!1,l!==null&&(la[ca++]=vc,la[ca++]=yc,la[ca++]=vh,vc=l.id,yc=l.overflow,vh=u),u=sP(u,w.children),u.flags|=4096);return u}return O?(Iu(),O=w.fallback,ie=u.mode,me=l.child,Le=me.sibling,w=mc(me,{mode:"hidden",children:w.children}),w.subtreeFlags=me.subtreeFlags&65011712,Le!==null?O=mc(Le,O):(O=mh(O,ie,p,null),O.flags|=2),O.return=u,w.return=u,w.sibling=O,u.child=w,w=O,O=u.child,ie=l.child.memoizedState,ie===null?ie=oP(p):(me=ie.cachePool,me!==null?(Le=$o._currentValue,me=me.parent!==Le?{parent:Le,pool:Le}:me):me=vW(),ie={baseLanes:ie.baseLanes|p,cachePool:me}),O.memoizedState=ie,O.childLanes=iP(l,J,p),u.memoizedState=rP,w):(Ru(u),p=l.child,l=p.sibling,p=mc(p,{mode:"visible",children:w.children}),p.return=u,p.sibling=null,l!==null&&(J=u.deletions,J===null?(u.deletions=[l],u.flags|=16):J.push(l)),u.child=p,u.memoizedState=null,p)}function sP(l,u){return u=QS({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function QS(l,u){return l=Cs(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function aP(l,u,p){return hp(u,l.child,null,p),l=sP(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function k6(l,u,p){l.lanes|=u;var w=l.alternate;w!==null&&(w.lanes|=u),EI(l.return,u,p)}function lP(l,u,p,w,O){var j=l.memoizedState;j===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:O}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=p,j.tailMode=O)}function D6(l,u,p){var w=u.pendingProps,O=w.revealOrder,j=w.tail;if(ui(l,u,w.children,p),w=zo.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&k6(l,p,u);else if(l.tag===19)k6(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}switch(le(zo,w),O){case"forwards":for(p=u.child,O=null;p!==null;)l=p.alternate,l!==null&&qS(l)===null&&(O=p),p=p.sibling;p=O,p===null?(O=u.child,u.child=null):(O=p.sibling,p.sibling=null),lP(u,!1,O,p,j);break;case"backwards":for(p=null,O=u.child,u.child=null;O!==null;){if(l=O.alternate,l!==null&&qS(l)===null){u.child=O;break}l=O.sibling,O.sibling=p,p=O,O=l}lP(u,!0,p,null,j);break;case"together":lP(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function xc(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Lu|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(iv(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,p=mc(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=mc(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function cP(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&kS(l)))}function d5e(l,u,p){switch(u.tag){case 3:Te(u,u.stateNode.containerInfo),_u(u,$o,l.memoizedState.cache),rv();break;case 27:case 5:he(u);break;case 4:Te(u,u.stateNode.containerInfo);break;case 10:_u(u,u.type,u.memoizedProps.value);break;case 13:var w=u.memoizedState;if(w!==null)return w.dehydrated!==null?(Ru(u),u.flags|=128,null):(p&u.child.childLanes)!==0?P6(l,u,p):(Ru(u),l=xc(l,u,p),l!==null?l.sibling:null);Ru(u);break;case 19:var O=(l.flags&128)!==0;if(w=(p&u.childLanes)!==0,w||(iv(l,u,p,!1),w=(p&u.childLanes)!==0),O){if(w)return D6(l,u,p);u.flags|=128}if(O=u.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),le(zo,zo.current),w)break;return null;case 22:case 23:return u.lanes=0,T6(l,u,p);case 24:_u(u,$o,l.memoizedState.cache)}return xc(l,u,p)}function A6(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Zo=!0;else{if(!cP(l,p)&&(u.flags&128)===0)return Zo=!1,d5e(l,u,p);Zo=(l.flags&131072)!==0}else Zo=!1,lr&&(u.flags&1048576)!==0&&uW(u,PS,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var w=u.elementType,O=w._init;if(w=O(w._payload),u.type=w,typeof w=="function")yI(w)?(l=Eh(w,l),u.tag=1,u=R6(null,u,w,l,p)):(u.tag=0,u=nP(null,u,w,l,p));else{if(w!=null){if(O=w.$$typeof,O===R){u.tag=11,u=x6(null,u,w,l,p);break e}else if(O===N){u.tag=14,u=_6(null,u,w,l,p);break e}}throw u=K(w)||w,Error(r(306,u,""))}}return u;case 0:return nP(l,u,u.type,u.pendingProps,p);case 1:return w=u.type,O=Eh(w,u.pendingProps),R6(l,u,w,O,p);case 3:e:{if(Te(u,u.stateNode.containerInfo),l===null)throw Error(r(387));w=u.pendingProps;var j=u.memoizedState;O=j.element,kI(l,u),hv(u,w,null,p);var J=u.memoizedState;if(w=J.cache,_u(u,$o,w),w!==j.cache&&TI(u,[$o],p,!0),dv(),w=J.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:J.cache},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){u=I6(l,u,w,p);break e}else if(w!==O){O=q(Error(r(424)),u),ov(O),u=I6(l,u,w,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(mo=Fa(l.firstChild),Li=u,lr=!0,bh=null,Rl=!0,p=h6(u,null,w,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(rv(),w===O){u=xc(l,u,p);break e}ui(l,u,w,p)}u=u.child}return u;case 26:return ZS(l,u),l===null?(p=FK(u.type,null,u.pendingProps,null))?u.memoizedState=p:lr||(p=u.type,l=u.pendingProps,w=hC(se.current).createElement(p),w[tn]=u,w[en]=l,hi(w,p,l),nn(w),u.stateNode=w):u.memoizedState=FK(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return he(u),l===null&&lr&&(w=u.stateNode=LK(u.type,u.pendingProps,se.current),Li=u,Rl=!0,O=mo,ju(u.type)?(UP=O,mo=Fa(w.firstChild)):mo=O),ui(l,u,u.pendingProps.children,p),ZS(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&lr&&((O=w=mo)&&(w=j5e(w,u.type,u.pendingProps,Rl),w!==null?(u.stateNode=w,Li=u,mo=Fa(w.firstChild),Rl=!1,O=!0):O=!1),O||wh(u)),he(u),O=u.type,j=u.pendingProps,J=l!==null?l.memoizedProps:null,w=j.children,jP(O,j)?w=null:J!==null&&jP(O,J)&&(u.flags|=32),u.memoizedState!==null&&(O=FI(l,u,r5e,null,null,p),Av._currentValue=O),ZS(l,u),ui(l,u,w,p),u.child;case 6:return l===null&&lr&&((l=p=mo)&&(p=V5e(p,u.pendingProps,Rl),p!==null?(u.stateNode=p,Li=u,mo=null,l=!0):l=!1),l||wh(u)),null;case 13:return P6(l,u,p);case 4:return Te(u,u.stateNode.containerInfo),w=u.pendingProps,l===null?u.child=hp(u,null,w,p):ui(l,u,w,p),u.child;case 11:return x6(l,u,u.type,u.pendingProps,p);case 7:return ui(l,u,u.pendingProps,p),u.child;case 8:return ui(l,u,u.pendingProps.children,p),u.child;case 12:return ui(l,u,u.pendingProps.children,p),u.child;case 10:return w=u.pendingProps,_u(u,u.type,w.value),ui(l,u,w.children,p),u.child;case 9:return O=u.type._context,w=u.pendingProps.children,Ch(u),O=bi(O),w=w(O),u.flags|=1,ui(l,u,w,p),u.child;case 14:return _6(l,u,u.type,u.pendingProps,p);case 15:return E6(l,u,u.type,u.pendingProps,p);case 19:return D6(l,u,p);case 31:return w=u.pendingProps,p=u.mode,w={mode:w.mode,children:w.children},l===null?(p=QS(w,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=mc(l.child,w),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return T6(l,u,p);case 24:return Ch(u),w=bi($o),l===null?(O=RI(),O===null&&(O=$r,j=MI(),O.pooledCache=j,j.refCount++,j!==null&&(O.pooledCacheLanes|=p),O=j),u.memoizedState={parent:w,cache:O},PI(u),_u(u,$o,O)):((l.lanes&p)!==0&&(kI(l,u),hv(u,null,null,p),dv()),O=l.memoizedState,j=u.memoizedState,O.parent!==w?(O={parent:w,cache:w},u.memoizedState=O,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=O),_u(u,$o,w)):(w=j.cache,_u(u,$o,w),w!==O.cache&&TI(u,[$o],p,!0))),ui(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function _c(l){l.flags|=4}function L6(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!UK(u)){if(u=ua.current,u!==null&&((Kn&4194048)===Kn?Il!==null:(Kn&62914560)!==Kn&&(Kn&536870912)===0||u!==Il))throw cv=II,yW;l.flags|=8192}}function JS(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?An():536870912,l.lanes|=u,mp|=u)}function bv(l,u){if(!lr)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function ao(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,w=0;if(u)for(var O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=w,l.childLanes=p,u}function h5e(l,u,p){var w=u.pendingProps;switch(CI(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ao(u),null;case 1:return ao(u),null;case 3:return p=u.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),u.memoizedState.cache!==w&&(u.flags|=2048),wc($o),Se(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(nv(u)?_c(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fW())),ao(u),null;case 26:return p=u.memoizedState,l===null?(_c(u),p!==null?(ao(u),L6(u,p)):(ao(u),u.flags&=-16777217)):p?p!==l.memoizedState?(_c(u),ao(u),L6(u,p)):(ao(u),u.flags&=-16777217):(l.memoizedProps!==w&&_c(u),ao(u),u.flags&=-16777217),null;case 27:pe(u),p=se.current;var O=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==w&&_c(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return ao(u),null}l=ue.current,nv(u)?dW(u):(l=LK(O,w,p),u.stateNode=l,_c(u))}return ao(u),null;case 5:if(pe(u),p=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==w&&_c(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return ao(u),null}if(l=ue.current,nv(u))dW(u);else{switch(O=hC(se.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?l.multiple=!0:w.size&&(l.size=w.size);break;default:l=typeof w.is=="string"?O.createElement(p,{is:w.is}):O.createElement(p)}}l[tn]=u,l[en]=w;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=l;e:switch(hi(l,p,w),p){case"button":case"input":case"select":case"textarea":l=!!w.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_c(u)}}return ao(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==w&&_c(u);else{if(typeof w!="string"&&u.stateNode===null)throw Error(r(166));if(l=se.current,nv(u)){if(l=u.stateNode,p=u.memoizedProps,w=null,O=Li,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}l[tn]=u,l=!!(l.nodeValue===p||w!==null&&w.suppressHydrationWarning===!0||OK(l.nodeValue,p)),l||wh(u)}else l=hC(l).createTextNode(w),l[tn]=u,u.stateNode=l}return ao(u),null;case 13:if(w=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=nv(u),w!==null&&w.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[tn]=u}else rv(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ao(u),O=!1}else O=fW(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return u.flags&256?(Cc(u),u):(Cc(u),null)}if(Cc(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=w!==null,l=l!==null&&l.memoizedState!==null,p){w=u.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var j=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(j=w.memoizedState.cachePool.pool),j!==O&&(w.flags|=2048)}return p!==l&&p&&(u.child.flags|=8192),JS(u,u.updateQueue),ao(u),null;case 4:return Se(),l===null&&AP(u.stateNode.containerInfo),ao(u),null;case 10:return wc(u.type),ao(u),null;case 19:if(Z(zo),O=u.memoizedState,O===null)return ao(u),null;if(w=(u.flags&128)!==0,j=O.rendering,j===null)if(w)bv(O,!1);else{if(vo!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(j=qS(l),j!==null){for(u.flags|=128,bv(O,!1),l=j.updateQueue,u.updateQueue=l,JS(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)cW(p,l),p=p.sibling;return le(zo,zo.current&1|2),u.child}l=l.sibling}O.tail!==null&&Je()>nC&&(u.flags|=128,w=!0,bv(O,!1),u.lanes=4194304)}else{if(!w)if(l=qS(j),l!==null){if(u.flags|=128,w=!0,l=l.updateQueue,u.updateQueue=l,JS(u,l),bv(O,!0),O.tail===null&&O.tailMode==="hidden"&&!j.alternate&&!lr)return ao(u),null}else 2*Je()-O.renderingStartTime>nC&&p!==536870912&&(u.flags|=128,w=!0,bv(O,!1),u.lanes=4194304);O.isBackwards?(j.sibling=u.child,u.child=j):(l=O.last,l!==null?l.sibling=j:u.child=j,O.last=j)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=Je(),u.sibling=null,l=zo.current,le(zo,w?l&1|2:l&1),u):(ao(u),null);case 22:case 23:return Cc(u),NI(),w=u.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(u.flags|=8192):w&&(u.flags|=8192),w?(p&536870912)!==0&&(u.flags&128)===0&&(ao(u),u.subtreeFlags&6&&(u.flags|=8192)):ao(u),p=u.updateQueue,p!==null&&JS(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==p&&(u.flags|=2048),l!==null&&Z(xh),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),wc($o),ao(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function f5e(l,u){switch(CI(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return wc($o),Se(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return pe(u),null;case 13:if(Cc(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));rv()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Z(zo),null;case 4:return Se(),null;case 10:return wc(u.type),null;case 22:case 23:return Cc(u),NI(),l!==null&&Z(xh),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return wc($o),null;case 25:return null;default:return null}}function N6(l,u){switch(CI(u),u.tag){case 3:wc($o),Se();break;case 26:case 27:case 5:pe(u);break;case 4:Se();break;case 13:Cc(u);break;case 19:Z(zo);break;case 10:wc(u.type);break;case 22:case 23:Cc(u),NI(),l!==null&&Z(xh);break;case 24:wc($o)}}function wv(l,u){try{var p=u.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var O=w.next;p=O;do{if((p.tag&l)===l){w=void 0;var j=p.create,J=p.inst;w=j(),J.destroy=w}p=p.next}while(p!==O)}}catch(ie){Lr(u,u.return,ie)}}function Pu(l,u,p){try{var w=u.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var j=O.next;w=j;do{if((w.tag&l)===l){var J=w.inst,ie=J.destroy;if(ie!==void 0){J.destroy=void 0,O=u;var me=p,Le=ie;try{Le()}catch(nt){Lr(O,me,nt)}}}w=w.next}while(w!==j)}}catch(nt){Lr(u,u.return,nt)}}function B6(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{_W(u,p)}catch(w){Lr(l,l.return,w)}}}function F6(l,u,p){p.props=Eh(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(w){Lr(l,u,w)}}function Sv(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var w=l.stateNode;break;case 30:w=l.stateNode;break;default:w=l.stateNode}typeof p=="function"?l.refCleanup=p(w):p.current=w}}catch(O){Lr(l,u,O)}}function Pl(l,u){var p=l.ref,w=l.refCleanup;if(p!==null)if(typeof w=="function")try{w()}catch(O){Lr(l,u,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(O){Lr(l,u,O)}else p.current=null}function j6(l){var u=l.type,p=l.memoizedProps,w=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&w.focus();break e;case"img":p.src?w.src=p.src:p.srcSet&&(w.srcset=p.srcSet)}}catch(O){Lr(l,l.return,O)}}function uP(l,u,p){try{var w=l.stateNode;A5e(w,l.type,p,u),w[en]=u}catch(O){Lr(l,l.return,O)}}function V6(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ju(l.type)||l.tag===4}function dP(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||V6(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ju(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function hP(l,u,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=dC));else if(w!==4&&(w===27&&ju(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(hP(l,u,p),l=l.sibling;l!==null;)hP(l,u,p),l=l.sibling}function eC(l,u,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(w!==4&&(w===27&&ju(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(eC(l,u,p),l=l.sibling;l!==null;)eC(l,u,p),l=l.sibling}function $6(l){var u=l.stateNode,p=l.memoizedProps;try{for(var w=l.type,O=u.attributes;O.length;)u.removeAttributeNode(O[0]);hi(u,w,p),u[tn]=l,u[en]=p}catch(j){Lr(l,l.return,j)}}var Ec=!1,Eo=!1,fP=!1,z6=typeof WeakSet=="function"?WeakSet:Set,Qo=null;function p5e(l,u){if(l=l.containerInfo,BP=yC,l=de(l),ge(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var O=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{p.nodeType,j.nodeType}catch{p=null;break e}var J=0,ie=-1,me=-1,Le=0,nt=0,at=l,Ve=null;t:for(;;){for(var ze;at!==p||O!==0&&at.nodeType!==3||(ie=J+O),at!==j||w!==0&&at.nodeType!==3||(me=J+w),at.nodeType===3&&(J+=at.nodeValue.length),(ze=at.firstChild)!==null;)Ve=at,at=ze;for(;;){if(at===l)break t;if(Ve===p&&++Le===O&&(ie=J),Ve===j&&++nt===w&&(me=J),(ze=at.nextSibling)!==null)break;at=Ve,Ve=at.parentNode}at=ze}p=ie===-1||me===-1?null:{start:ie,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(FP={focusedElem:l,selectionRange:p},yC=!1,Qo=u;Qo!==null;)if(u=Qo,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,Qo=l;else for(;Qo!==null;){switch(u=Qo,j=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&j!==null){l=void 0,p=u,O=j.memoizedProps,j=j.memoizedState,w=p.stateNode;try{var vn=Eh(p.type,O,p.elementType===p.type);l=w.getSnapshotBeforeUpdate(vn,j),w.__reactInternalSnapshotBeforeUpdate=l}catch(pn){Lr(p,p.return,pn)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)$P(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":$P(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Qo=l;break}Qo=u.return}}function U6(l,u,p){var w=p.flags;switch(p.tag){case 0:case 11:case 15:ku(l,p),w&4&&wv(5,p);break;case 1:if(ku(l,p),w&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(J){Lr(p,p.return,J)}else{var O=Eh(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(O,u,l.__reactInternalSnapshotBeforeUpdate)}catch(J){Lr(p,p.return,J)}}w&64&&B6(p),w&512&&Sv(p,p.return);break;case 3:if(ku(l,p),w&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{_W(l,u)}catch(J){Lr(p,p.return,J)}}break;case 27:u===null&&w&4&&$6(p);case 26:case 5:ku(l,p),u===null&&w&4&&j6(p),w&512&&Sv(p,p.return);break;case 12:ku(l,p);break;case 13:ku(l,p),w&4&&W6(l,p),w&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=x5e.bind(null,p),$5e(l,p))));break;case 22:if(w=p.memoizedState!==null||Ec,!w){u=u!==null&&u.memoizedState!==null||Eo,O=Ec;var j=Eo;Ec=w,(Eo=u)&&!j?Du(l,p,(p.subtreeFlags&8772)!==0):ku(l,p),Ec=O,Eo=j}break;case 30:break;default:ku(l,p)}}function H6(l){var u=l.alternate;u!==null&&(l.alternate=null,H6(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Ar(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ro=null,Zi=!1;function Tc(l,u,p){for(p=p.child;p!==null;)G6(l,u,p),p=p.sibling}function G6(l,u,p){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(It,p)}catch{}switch(p.tag){case 26:Eo||Pl(p,u),Tc(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Eo||Pl(p,u);var w=ro,O=Zi;ju(p.type)&&(ro=p.stateNode,Zi=!1),Tc(l,u,p),Iv(p.stateNode),ro=w,Zi=O;break;case 5:Eo||Pl(p,u);case 6:if(w=ro,O=Zi,ro=null,Tc(l,u,p),ro=w,Zi=O,ro!==null)if(Zi)try{(ro.nodeType===9?ro.body:ro.nodeName==="HTML"?ro.ownerDocument.body:ro).removeChild(p.stateNode)}catch(j){Lr(p,u,j)}else try{ro.removeChild(p.stateNode)}catch(j){Lr(p,u,j)}break;case 18:ro!==null&&(Zi?(l=ro,DK(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Fv(l)):DK(ro,p.stateNode));break;case 4:w=ro,O=Zi,ro=p.stateNode.containerInfo,Zi=!0,Tc(l,u,p),ro=w,Zi=O;break;case 0:case 11:case 14:case 15:Eo||Pu(2,p,u),Eo||Pu(4,p,u),Tc(l,u,p);break;case 1:Eo||(Pl(p,u),w=p.stateNode,typeof w.componentWillUnmount=="function"&&F6(p,u,w)),Tc(l,u,p);break;case 21:Tc(l,u,p);break;case 22:Eo=(w=Eo)||p.memoizedState!==null,Tc(l,u,p),Eo=w;break;default:Tc(l,u,p)}}function W6(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Fv(l)}catch(p){Lr(u,u.return,p)}}function g5e(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new z6),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new z6),u;default:throw Error(r(435,l.tag))}}function pP(l,u){var p=g5e(l);u.forEach(function(w){var O=_5e.bind(null,l,w);p.has(w)||(p.add(w),w.then(O,O))})}function xs(l,u){var p=u.deletions;if(p!==null)for(var w=0;w<p.length;w++){var O=p[w],j=l,J=u,ie=J;e:for(;ie!==null;){switch(ie.tag){case 27:if(ju(ie.type)){ro=ie.stateNode,Zi=!1;break e}break;case 5:ro=ie.stateNode,Zi=!1;break e;case 3:case 4:ro=ie.stateNode.containerInfo,Zi=!0;break e}ie=ie.return}if(ro===null)throw Error(r(160));G6(j,J,O),ro=null,Zi=!1,j=O.alternate,j!==null&&(j.return=null),O.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)K6(u,l),u=u.sibling}var Ba=null;function K6(l,u){var p=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:xs(u,l),_s(l),w&4&&(Pu(3,l,l.return),wv(3,l),Pu(5,l,l.return));break;case 1:xs(u,l),_s(l),w&512&&(Eo||p===null||Pl(p,p.return)),w&64&&Ec&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?w:p.concat(w))));break;case 26:var O=Ba;if(xs(u,l),_s(l),w&512&&(Eo||p===null||Pl(p,p.return)),w&4){var j=p!==null?p.memoizedState:null;if(w=l.memoizedState,p===null)if(w===null)if(l.stateNode===null){e:{w=l.type,p=l.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":j=O.getElementsByTagName("title")[0],(!j||j[Gr]||j[tn]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=O.createElement(w),O.head.insertBefore(j,O.querySelector("head > title"))),hi(j,w,p),j[tn]=l,nn(j),w=j;break e;case"link":var J=$K("link","href",O).get(w+(p.href||""));if(J){for(var ie=0;ie<J.length;ie++)if(j=J[ie],j.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&j.getAttribute("rel")===(p.rel==null?null:p.rel)&&j.getAttribute("title")===(p.title==null?null:p.title)&&j.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(ie,1);break t}}j=O.createElement(w),hi(j,w,p),O.head.appendChild(j);break;case"meta":if(J=$K("meta","content",O).get(w+(p.content||""))){for(ie=0;ie<J.length;ie++)if(j=J[ie],j.getAttribute("content")===(p.content==null?null:""+p.content)&&j.getAttribute("name")===(p.name==null?null:p.name)&&j.getAttribute("property")===(p.property==null?null:p.property)&&j.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&j.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(ie,1);break t}}j=O.createElement(w),hi(j,w,p),O.head.appendChild(j);break;default:throw Error(r(468,w))}j[tn]=l,nn(j),w=j}l.stateNode=w}else zK(O,l.type,l.stateNode);else l.stateNode=VK(O,w,l.memoizedProps);else j!==w?(j===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):j.count--,w===null?zK(O,l.type,l.stateNode):VK(O,w,l.memoizedProps)):w===null&&l.stateNode!==null&&uP(l,l.memoizedProps,p.memoizedProps)}break;case 27:xs(u,l),_s(l),w&512&&(Eo||p===null||Pl(p,p.return)),p!==null&&w&4&&uP(l,l.memoizedProps,p.memoizedProps);break;case 5:if(xs(u,l),_s(l),w&512&&(Eo||p===null||Pl(p,p.return)),l.flags&32){O=l.stateNode;try{vl(O,"")}catch(ze){Lr(l,l.return,ze)}}w&4&&l.stateNode!=null&&(O=l.memoizedProps,uP(l,O,p!==null?p.memoizedProps:O)),w&1024&&(fP=!0);break;case 6:if(xs(u,l),_s(l),w&4){if(l.stateNode===null)throw Error(r(162));w=l.memoizedProps,p=l.stateNode;try{p.nodeValue=w}catch(ze){Lr(l,l.return,ze)}}break;case 3:if(gC=null,O=Ba,Ba=fC(u.containerInfo),xs(u,l),Ba=O,_s(l),w&4&&p!==null&&p.memoizedState.isDehydrated)try{Fv(u.containerInfo)}catch(ze){Lr(l,l.return,ze)}fP&&(fP=!1,q6(l));break;case 4:w=Ba,Ba=fC(l.stateNode.containerInfo),xs(u,l),_s(l),Ba=w;break;case 12:xs(u,l),_s(l);break;case 13:xs(u,l),_s(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(wP=Je()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,pP(l,w)));break;case 22:O=l.memoizedState!==null;var me=p!==null&&p.memoizedState!==null,Le=Ec,nt=Eo;if(Ec=Le||O,Eo=nt||me,xs(u,l),Eo=nt,Ec=Le,_s(l),w&8192)e:for(u=l.stateNode,u._visibility=O?u._visibility&-2:u._visibility|1,O&&(p===null||me||Ec||Eo||Th(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){me=p=u;try{if(j=me.stateNode,O)J=j.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{ie=me.stateNode;var at=me.memoizedProps.style,Ve=at!=null&&at.hasOwnProperty("display")?at.display:null;ie.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(ze){Lr(me,me.return,ze)}}}else if(u.tag===6){if(p===null){me=u;try{me.stateNode.nodeValue=O?"":me.memoizedProps}catch(ze){Lr(me,me.return,ze)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}w&4&&(w=l.updateQueue,w!==null&&(p=w.retryQueue,p!==null&&(w.retryQueue=null,pP(l,p))));break;case 19:xs(u,l),_s(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,pP(l,w)));break;case 30:break;case 21:break;default:xs(u,l),_s(l)}}function _s(l){var u=l.flags;if(u&2){try{for(var p,w=l.return;w!==null;){if(V6(w)){p=w;break}w=w.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var O=p.stateNode,j=dP(l);eC(l,j,O);break;case 5:var J=p.stateNode;p.flags&32&&(vl(J,""),p.flags&=-33);var ie=dP(l);eC(l,ie,J);break;case 3:case 4:var me=p.stateNode.containerInfo,Le=dP(l);hP(l,Le,me);break;default:throw Error(r(161))}}catch(nt){Lr(l,l.return,nt)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function q6(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;q6(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function ku(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)U6(l,u.alternate,u),u=u.sibling}function Th(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Pu(4,u,u.return),Th(u);break;case 1:Pl(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&F6(u,u.return,p),Th(u);break;case 27:Iv(u.stateNode);case 26:case 5:Pl(u,u.return),Th(u);break;case 22:u.memoizedState===null&&Th(u);break;case 30:Th(u);break;default:Th(u)}l=l.sibling}}function Du(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var w=u.alternate,O=l,j=u,J=j.flags;switch(j.tag){case 0:case 11:case 15:Du(O,j,p),wv(4,j);break;case 1:if(Du(O,j,p),w=j,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Le){Lr(w,w.return,Le)}if(w=j,O=w.updateQueue,O!==null){var ie=w.stateNode;try{var me=O.shared.hiddenCallbacks;if(me!==null)for(O.shared.hiddenCallbacks=null,O=0;O<me.length;O++)xW(me[O],ie)}catch(Le){Lr(w,w.return,Le)}}p&&J&64&&B6(j),Sv(j,j.return);break;case 27:$6(j);case 26:case 5:Du(O,j,p),p&&w===null&&J&4&&j6(j),Sv(j,j.return);break;case 12:Du(O,j,p);break;case 13:Du(O,j,p),p&&J&4&&W6(O,j);break;case 22:j.memoizedState===null&&Du(O,j,p),Sv(j,j.return);break;case 30:break;default:Du(O,j,p)}u=u.sibling}}function gP(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&sv(p))}function mP(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&sv(l))}function kl(l,u,p,w){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Y6(l,u,p,w),u=u.sibling}function Y6(l,u,p,w){var O=u.flags;switch(u.tag){case 0:case 11:case 15:kl(l,u,p,w),O&2048&&wv(9,u);break;case 1:kl(l,u,p,w);break;case 3:kl(l,u,p,w),O&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&sv(l)));break;case 12:if(O&2048){kl(l,u,p,w),l=u.stateNode;try{var j=u.memoizedProps,J=j.id,ie=j.onPostCommit;typeof ie=="function"&&ie(J,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(me){Lr(u,u.return,me)}}else kl(l,u,p,w);break;case 13:kl(l,u,p,w);break;case 23:break;case 22:j=u.stateNode,J=u.alternate,u.memoizedState!==null?j._visibility&2?kl(l,u,p,w):Cv(l,u):j._visibility&2?kl(l,u,p,w):(j._visibility|=2,fp(l,u,p,w,(u.subtreeFlags&10256)!==0)),O&2048&&gP(J,u);break;case 24:kl(l,u,p,w),O&2048&&mP(u.alternate,u);break;default:kl(l,u,p,w)}}function fp(l,u,p,w,O){for(O=O&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var j=l,J=u,ie=p,me=w,Le=J.flags;switch(J.tag){case 0:case 11:case 15:fp(j,J,ie,me,O),wv(8,J);break;case 23:break;case 22:var nt=J.stateNode;J.memoizedState!==null?nt._visibility&2?fp(j,J,ie,me,O):Cv(j,J):(nt._visibility|=2,fp(j,J,ie,me,O)),O&&Le&2048&&gP(J.alternate,J);break;case 24:fp(j,J,ie,me,O),O&&Le&2048&&mP(J.alternate,J);break;default:fp(j,J,ie,me,O)}u=u.sibling}}function Cv(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,w=u,O=w.flags;switch(w.tag){case 22:Cv(p,w),O&2048&&gP(w.alternate,w);break;case 24:Cv(p,w),O&2048&&mP(w.alternate,w);break;default:Cv(p,w)}u=u.sibling}}var xv=8192;function pp(l){if(l.subtreeFlags&xv)for(l=l.child;l!==null;)X6(l),l=l.sibling}function X6(l){switch(l.tag){case 26:pp(l),l.flags&xv&&l.memoizedState!==null&&e4e(Ba,l.memoizedState,l.memoizedProps);break;case 5:pp(l);break;case 3:case 4:var u=Ba;Ba=fC(l.stateNode.containerInfo),pp(l),Ba=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=xv,xv=16777216,pp(l),xv=u):pp(l));break;default:pp(l)}}function Z6(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function _v(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var w=u[p];Qo=w,J6(w,l)}Z6(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Q6(l),l=l.sibling}function Q6(l){switch(l.tag){case 0:case 11:case 15:_v(l),l.flags&2048&&Pu(9,l,l.return);break;case 3:_v(l);break;case 12:_v(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,tC(l)):_v(l);break;default:_v(l)}}function tC(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var w=u[p];Qo=w,J6(w,l)}Z6(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Pu(8,u,u.return),tC(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,tC(u));break;default:tC(u)}l=l.sibling}}function J6(l,u){for(;Qo!==null;){var p=Qo;switch(p.tag){case 0:case 11:case 15:Pu(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var w=p.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:sv(p.memoizedState.cache)}if(w=p.child,w!==null)w.return=p,Qo=w;else e:for(p=l;Qo!==null;){w=Qo;var O=w.sibling,j=w.return;if(H6(w),w===p){Qo=null;break e}if(O!==null){O.return=j,Qo=O;break e}Qo=j}}}var m5e={getCacheForType:function(l){var u=bi($o),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p}},v5e=typeof WeakMap=="function"?WeakMap:Map,Sr=0,$r=null,zn=null,Kn=0,Cr=0,Es=null,Au=!1,gp=!1,vP=!1,Mc=0,vo=0,Lu=0,Mh=0,yP=0,da=0,mp=0,Ev=null,Qi=null,bP=!1,wP=0,nC=1/0,rC=null,Nu=null,di=0,Bu=null,vp=null,yp=0,SP=0,CP=null,eK=null,Tv=0,xP=null;function Ts(){if((Sr&2)!==0&&Kn!==0)return Kn&-Kn;if(V.T!==null){var l=ip;return l!==0?l:IP()}return Ln()}function tK(){da===0&&(da=(Kn&536870912)===0||lr?Dn():536870912);var l=ua.current;return l!==null&&(l.flags|=32),da}function Ms(l,u,p){(l===$r&&(Cr===2||Cr===9)||l.cancelPendingCommit!==null)&&(bp(l,0),Fu(l,Kn,da,!1)),Fn(l,p),((Sr&2)===0||l!==$r)&&(l===$r&&((Sr&2)===0&&(Mh|=p),vo===4&&Fu(l,Kn,da,!1)),Dl(l))}function nK(l,u,p){if((Sr&6)!==0)throw Error(r(327));var w=!p&&(u&124)===0&&(u&l.expiredLanes)===0||pt(l,u),O=w?w5e(l,u):TP(l,u,!0),j=w;do{if(O===0){gp&&!w&&Fu(l,u,0,!1);break}else{if(p=l.current.alternate,j&&!y5e(p)){O=TP(l,u,!1),j=!1;continue}if(O===2){if(j=u,l.errorRecoveryDisabledLanes&j)var J=0;else J=l.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){u=J;e:{var ie=l;O=Ev;var me=ie.current.memoizedState.isDehydrated;if(me&&(bp(ie,J).flags|=256),J=TP(ie,J,!1),J!==2){if(vP&&!me){ie.errorRecoveryDisabledLanes|=j,Mh|=j,O=4;break e}j=Qi,Qi=O,j!==null&&(Qi===null?Qi=j:Qi.push.apply(Qi,j))}O=J}if(j=!1,O!==2)continue}}if(O===1){bp(l,0),Fu(l,u,0,!0);break}e:{switch(w=l,j=O,j){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Fu(w,u,da,!Au);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(O=wP+300-Je(),10<O)){if(Fu(w,u,da,!Au),At(w,0,!0)!==0)break e;w.timeoutHandle=PK(rK.bind(null,w,p,Qi,rC,bP,u,da,Mh,mp,Au,j,2,-0,0),O);break e}rK(w,p,Qi,rC,bP,u,da,Mh,mp,Au,j,0,-0,0)}}break}while(!0);Dl(l)}function rK(l,u,p,w,O,j,J,ie,me,Le,nt,at,Ve,ze){if(l.timeoutHandle=-1,at=u.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(Dv={stylesheets:null,count:0,unsuspend:J5e},X6(u),at=t4e(),at!==null)){l.cancelPendingCommit=at(uK.bind(null,l,u,j,p,w,O,J,ie,me,nt,1,Ve,ze)),Fu(l,j,J,!Le);return}uK(l,u,j,p,w,O,J,ie,me)}function y5e(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var w=0;w<p.length;w++){var O=p[w],j=O.getSnapshot;O=O.value;try{if(!C(j(),O))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Fu(l,u,p,w){u&=~yP,u&=~Mh,l.suspendedLanes|=u,l.pingedLanes&=~u,w&&(l.warmLanes|=u),w=l.expirationTimes;for(var O=u;0<O;){var j=31-ht(O),J=1<<j;w[j]=-1,O&=~J}p!==0&&er(l,p,u)}function oC(){return(Sr&6)===0?(Mv(0),!1):!0}function _P(){if(zn!==null){if(Cr===0)var l=zn.return;else l=zn,bc=Sh=null,$I(l),dp=null,vv=0,l=zn;for(;l!==null;)N6(l.alternate,l),l=l.return;zn=null}}function bp(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,N5e(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),_P(),$r=l,zn=p=mc(l.current,null),Kn=u,Cr=0,Es=null,Au=!1,gp=pt(l,u),vP=!1,mp=da=yP=Mh=Lu=vo=0,Qi=Ev=null,bP=!1,(u&8)!==0&&(u|=u&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=u;0<w;){var O=31-ht(w),j=1<<O;u|=l[O],w&=~j}return Mc=u,Ue(),p}function oK(l,u){Nn=null,V.H=GS,u===lv||u===LS?(u=SW(),Cr=3):u===yW?(u=SW(),Cr=4):Cr=u===C6?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Es=u,zn===null&&(vo=1,XS(l,q(u,l.current)))}function iK(){var l=V.H;return V.H=GS,l===null?GS:l}function sK(){var l=V.A;return V.A=m5e,l}function EP(){vo=4,Au||(Kn&4194048)!==Kn&&ua.current!==null||(gp=!0),(Lu&134217727)===0&&(Mh&134217727)===0||$r===null||Fu($r,Kn,da,!1)}function TP(l,u,p){var w=Sr;Sr|=2;var O=iK(),j=sK();($r!==l||Kn!==u)&&(rC=null,bp(l,u)),u=!1;var J=vo;e:do try{if(Cr!==0&&zn!==null){var ie=zn,me=Es;switch(Cr){case 8:_P(),J=6;break e;case 3:case 2:case 9:case 6:ua.current===null&&(u=!0);var Le=Cr;if(Cr=0,Es=null,wp(l,ie,me,Le),p&&gp){J=0;break e}break;default:Le=Cr,Cr=0,Es=null,wp(l,ie,me,Le)}}b5e(),J=vo;break}catch(nt){oK(l,nt)}while(!0);return u&&l.shellSuspendCounter++,bc=Sh=null,Sr=w,V.H=O,V.A=j,zn===null&&($r=null,Kn=0,Ue()),J}function b5e(){for(;zn!==null;)aK(zn)}function w5e(l,u){var p=Sr;Sr|=2;var w=iK(),O=sK();$r!==l||Kn!==u?(rC=null,nC=Je()+500,bp(l,u)):gp=pt(l,u);e:do try{if(Cr!==0&&zn!==null){u=zn;var j=Es;t:switch(Cr){case 1:Cr=0,Es=null,wp(l,u,j,1);break;case 2:case 9:if(bW(j)){Cr=0,Es=null,lK(u);break}u=function(){Cr!==2&&Cr!==9||$r!==l||(Cr=7),Dl(l)},j.then(u,u);break e;case 3:Cr=7;break e;case 4:Cr=5;break e;case 7:bW(j)?(Cr=0,Es=null,lK(u)):(Cr=0,Es=null,wp(l,u,j,7));break;case 5:var J=null;switch(zn.tag){case 26:J=zn.memoizedState;case 5:case 27:var ie=zn;if(!J||UK(J)){Cr=0,Es=null;var me=ie.sibling;if(me!==null)zn=me;else{var Le=ie.return;Le!==null?(zn=Le,iC(Le)):zn=null}break t}}Cr=0,Es=null,wp(l,u,j,5);break;case 6:Cr=0,Es=null,wp(l,u,j,6);break;case 8:_P(),vo=6;break e;default:throw Error(r(462))}}S5e();break}catch(nt){oK(l,nt)}while(!0);return bc=Sh=null,V.H=w,V.A=O,Sr=p,zn!==null?0:($r=null,Kn=0,Ue(),vo)}function S5e(){for(;zn!==null&&!Ee();)aK(zn)}function aK(l){var u=A6(l.alternate,l,Mc);l.memoizedProps=l.pendingProps,u===null?iC(l):zn=u}function lK(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=O6(p,u,u.pendingProps,u.type,void 0,Kn);break;case 11:u=O6(p,u,u.pendingProps,u.type.render,u.ref,Kn);break;case 5:$I(u);default:N6(p,u),u=zn=cW(u,Mc),u=A6(p,u,Mc)}l.memoizedProps=l.pendingProps,u===null?iC(l):zn=u}function wp(l,u,p,w){bc=Sh=null,$I(u),dp=null,vv=0;var O=u.return;try{if(u5e(l,O,u,p,Kn)){vo=1,XS(l,q(p,l.current)),zn=null;return}}catch(j){if(O!==null)throw zn=O,j;vo=1,XS(l,q(p,l.current)),zn=null;return}u.flags&32768?(lr||w===1?l=!0:gp||(Kn&536870912)!==0?l=!1:(Au=l=!0,(w===2||w===9||w===3||w===6)&&(w=ua.current,w!==null&&w.tag===13&&(w.flags|=16384))),cK(u,l)):iC(u)}function iC(l){var u=l;do{if((u.flags&32768)!==0){cK(u,Au);return}l=u.return;var p=h5e(u.alternate,u,Mc);if(p!==null){zn=p;return}if(u=u.sibling,u!==null){zn=u;return}zn=u=l}while(u!==null);vo===0&&(vo=5)}function cK(l,u){do{var p=f5e(l.alternate,l);if(p!==null){p.flags&=32767,zn=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){zn=l;return}zn=l=p}while(l!==null);vo=6,zn=null}function uK(l,u,p,w,O,j,J,ie,me){l.cancelPendingCommit=null;do sC();while(di!==0);if((Sr&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(j=u.lanes|u.childLanes,j|=Re,Dr(l,p,j,J,ie,me),l===$r&&(zn=$r=null,Kn=0),vp=u,Bu=l,yp=p,SP=j,CP=O,eK=w,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,E5e(St,function(){return gK(),null})):(l.callbackNode=null,l.callbackPriority=0),w=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||w){w=V.T,V.T=null,O=Y.p,Y.p=2,J=Sr,Sr|=4;try{p5e(l,u,p)}finally{Sr=J,Y.p=O,V.T=w}}di=1,dK(),hK(),fK()}}function dK(){if(di===1){di=0;var l=Bu,u=vp,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var w=Y.p;Y.p=2;var O=Sr;Sr|=4;try{K6(u,l);var j=FP,J=de(l.containerInfo),ie=j.focusedElem,me=j.selectionRange;if(J!==ie&&ie&&ie.ownerDocument&&ne(ie.ownerDocument.documentElement,ie)){if(me!==null&&ge(ie)){var Le=me.start,nt=me.end;if(nt===void 0&&(nt=Le),"selectionStart"in ie)ie.selectionStart=Le,ie.selectionEnd=Math.min(nt,ie.value.length);else{var at=ie.ownerDocument||document,Ve=at&&at.defaultView||window;if(Ve.getSelection){var ze=Ve.getSelection(),vn=ie.textContent.length,pn=Math.min(me.start,vn),Pr=me.end===void 0?pn:Math.min(me.end,vn);!ze.extend&&pn>Pr&&(J=Pr,Pr=pn,pn=J);var ke=ee(ie,pn),xe=ee(ie,Pr);if(ke&&xe&&(ze.rangeCount!==1||ze.anchorNode!==ke.node||ze.anchorOffset!==ke.offset||ze.focusNode!==xe.node||ze.focusOffset!==xe.offset)){var Ae=at.createRange();Ae.setStart(ke.node,ke.offset),ze.removeAllRanges(),pn>Pr?(ze.addRange(Ae),ze.extend(xe.node,xe.offset)):(Ae.setEnd(xe.node,xe.offset),ze.addRange(Ae))}}}}for(at=[],ze=ie;ze=ze.parentNode;)ze.nodeType===1&&at.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<at.length;ie++){var ot=at[ie];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}yC=!!BP,FP=BP=null}finally{Sr=O,Y.p=w,V.T=p}}l.current=u,di=2}}function hK(){if(di===2){di=0;var l=Bu,u=vp,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var w=Y.p;Y.p=2;var O=Sr;Sr|=4;try{U6(l,u.alternate,u)}finally{Sr=O,Y.p=w,V.T=p}}di=3}}function fK(){if(di===4||di===3){di=0,Fe();var l=Bu,u=vp,p=yp,w=eK;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?di=5:(di=0,vp=Bu=null,pK(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(Nu=null),on(p),u=u.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(It,u,void 0,(u.current.flags&128)===128)}catch{}if(w!==null){u=V.T,O=Y.p,Y.p=2,V.T=null;try{for(var j=l.onRecoverableError,J=0;J<w.length;J++){var ie=w[J];j(ie.value,{componentStack:ie.stack})}}finally{V.T=u,Y.p=O}}(yp&3)!==0&&sC(),Dl(l),O=l.pendingLanes,(p&4194090)!==0&&(O&42)!==0?l===xP?Tv++:(Tv=0,xP=l):Tv=0,Mv(0)}}function pK(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,sv(u)))}function sC(l){return dK(),hK(),fK(),gK()}function gK(){if(di!==5)return!1;var l=Bu,u=SP;SP=0;var p=on(yp),w=V.T,O=Y.p;try{Y.p=32>p?32:p,V.T=null,p=CP,CP=null;var j=Bu,J=yp;if(di=0,vp=Bu=null,yp=0,(Sr&6)!==0)throw Error(r(331));var ie=Sr;if(Sr|=4,Q6(j.current),Y6(j,j.current,J,p),Sr=ie,Mv(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(It,j)}catch{}return!0}finally{Y.p=O,V.T=w,pK(l,u)}}function mK(l,u,p){u=q(p,u),u=tP(l.stateNode,u,2),l=Mu(l,u,2),l!==null&&(Fn(l,2),Dl(l))}function Lr(l,u,p){if(l.tag===3)mK(l,l,p);else for(;u!==null;){if(u.tag===3){mK(u,l,p);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Nu===null||!Nu.has(w))){l=q(p,l),p=w6(2),w=Mu(u,p,2),w!==null&&(S6(p,w,u,l),Fn(w,2),Dl(w));break}}u=u.return}}function MP(l,u,p){var w=l.pingCache;if(w===null){w=l.pingCache=new v5e;var O=new Set;w.set(u,O)}else O=w.get(u),O===void 0&&(O=new Set,w.set(u,O));O.has(p)||(vP=!0,O.add(p),l=C5e.bind(null,l,u,p),u.then(l,l))}function C5e(l,u,p){var w=l.pingCache;w!==null&&w.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,$r===l&&(Kn&p)===p&&(vo===4||vo===3&&(Kn&62914560)===Kn&&300>Je()-wP?(Sr&2)===0&&bp(l,0):yP|=p,mp===Kn&&(mp=0)),Dl(l)}function vK(l,u){u===0&&(u=An()),l=dn(l,u),l!==null&&(Fn(l,u),Dl(l))}function x5e(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),vK(l,p)}function _5e(l,u){var p=0;switch(l.tag){case 13:var w=l.stateNode,O=l.memoizedState;O!==null&&(p=O.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(u),vK(l,p)}function E5e(l,u){return _e(l,u)}var aC=null,Sp=null,OP=!1,lC=!1,RP=!1,Oh=0;function Dl(l){l!==Sp&&l.next===null&&(Sp===null?aC=Sp=l:Sp=Sp.next=l),lC=!0,OP||(OP=!0,M5e())}function Mv(l,u){if(!RP&&lC){RP=!0;do for(var p=!1,w=aC;w!==null;){if(l!==0){var O=w.pendingLanes;if(O===0)var j=0;else{var J=w.suspendedLanes,ie=w.pingedLanes;j=(1<<31-ht(42|l)+1)-1,j&=O&~(J&~ie),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(p=!0,SK(w,j))}else j=Kn,j=At(w,w===$r?j:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(j&3)===0||pt(w,j)||(p=!0,SK(w,j));w=w.next}while(p);RP=!1}}function T5e(){yK()}function yK(){lC=OP=!1;var l=0;Oh!==0&&(L5e()&&(l=Oh),Oh=0);for(var u=Je(),p=null,w=aC;w!==null;){var O=w.next,j=bK(w,u);j===0?(w.next=null,p===null?aC=O:p.next=O,O===null&&(Sp=p)):(p=w,(l!==0||(j&3)!==0)&&(lC=!0)),w=O}Mv(l)}function bK(l,u){for(var p=l.suspendedLanes,w=l.pingedLanes,O=l.expirationTimes,j=l.pendingLanes&-62914561;0<j;){var J=31-ht(j),ie=1<<J,me=O[J];me===-1?((ie&p)===0||(ie&w)!==0)&&(O[J]=Pt(ie,u)):me<=u&&(l.expiredLanes|=ie),j&=~ie}if(u=$r,p=Kn,p=At(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w=l.callbackNode,p===0||l===u&&(Cr===2||Cr===9)||l.cancelPendingCommit!==null)return w!==null&&w!==null&&De(w),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||pt(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(w!==null&&De(w),on(p)){case 2:case 8:p=dt;break;case 32:p=St;break;case 268435456:p=Rt;break;default:p=St}return w=wK.bind(null,l),p=_e(p,w),l.callbackPriority=u,l.callbackNode=p,u}return w!==null&&w!==null&&De(w),l.callbackPriority=2,l.callbackNode=null,2}function wK(l,u){if(di!==0&&di!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(sC()&&l.callbackNode!==p)return null;var w=Kn;return w=At(l,l===$r?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w===0?null:(nK(l,w,u),bK(l,Je()),l.callbackNode!=null&&l.callbackNode===p?wK.bind(null,l):null)}function SK(l,u){if(sC())return null;nK(l,u,!0)}function M5e(){B5e(function(){(Sr&6)!==0?_e(Ot,T5e):yK()})}function IP(){return Oh===0&&(Oh=Dn()),Oh}function CK(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ac(""+l)}function xK(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function O5e(l,u,p,w,O){if(u==="submit"&&p&&p.stateNode===O){var j=CK((O[en]||null).action),J=w.submitter;J&&(u=(u=J[en]||null)?CK(u.formAction):J.getAttribute("formAction"),u!==null&&(j=u,J=null));var ie=new bu("action","action",null,w,O);l.push({event:ie,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Oh!==0){var me=J?xK(O,J):new FormData(O);XI(p,{pending:!0,data:me,method:O.method,action:j},null,me)}}else typeof j=="function"&&(ie.preventDefault(),me=J?xK(O,J):new FormData(O),XI(p,{pending:!0,data:me,method:O.method,action:j},j,me))},currentTarget:O}]})}}for(var PP=0;PP<xo.length;PP++){var kP=xo[PP],R5e=kP.toLowerCase(),I5e=kP[0].toUpperCase()+kP.slice(1);Ai(R5e,"on"+I5e)}Ai(Na,"onAnimationEnd"),Ai(TS,"onAnimationIteration"),Ai(MS,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(gI,"onTransitionRun"),Ai(mI,"onTransitionStart"),Ai(vI,"onTransitionCancel"),Ai(Ft,"onTransitionEnd"),Zt("onMouseEnter",["mouseout","mouseover"]),Zt("onMouseLeave",["mouseout","mouseover"]),Zt("onPointerEnter",["pointerout","pointerover"]),Zt("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ov="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P5e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ov));function _K(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var w=l[p],O=w.event;w=w.listeners;e:{var j=void 0;if(u)for(var J=w.length-1;0<=J;J--){var ie=w[J],me=ie.instance,Le=ie.currentTarget;if(ie=ie.listener,me!==j&&O.isPropagationStopped())break e;j=ie,O.currentTarget=Le;try{j(O)}catch(nt){YS(nt)}O.currentTarget=null,j=me}else for(J=0;J<w.length;J++){if(ie=w[J],me=ie.instance,Le=ie.currentTarget,ie=ie.listener,me!==j&&O.isPropagationStopped())break e;j=ie,O.currentTarget=Le;try{j(O)}catch(nt){YS(nt)}O.currentTarget=null,j=me}}}}function Un(l,u){var p=u[fo];p===void 0&&(p=u[fo]=new Set);var w=l+"__bubble";p.has(w)||(EK(u,l,2,!1),p.add(w))}function DP(l,u,p){var w=0;u&&(w|=4),EK(p,l,w,u)}var cC="_reactListening"+Math.random().toString(36).slice(2);function AP(l){if(!l[cC]){l[cC]=!0,Xe.forEach(function(p){p!=="selectionchange"&&(P5e.has(p)||DP(p,!1,l),DP(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[cC]||(u[cC]=!0,DP("selectionchange",!1,u))}}function EK(l,u,p,w){switch(YK(u)){case 2:var O=o4e;break;case 8:O=i4e;break;default:O=qP}p=O.bind(null,u,p,l),O=void 0,!sa||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(O=!0),w?O!==void 0?l.addEventListener(u,p,{capture:!0,passive:O}):l.addEventListener(u,p,!0):O!==void 0?l.addEventListener(u,p,{passive:O}):l.addEventListener(u,p,!1)}function LP(l,u,p,w,O){var j=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var J=w.tag;if(J===3||J===4){var ie=w.stateNode.containerInfo;if(ie===O)break;if(J===4)for(J=w.return;J!==null;){var me=J.tag;if((me===3||me===4)&&J.stateNode.containerInfo===O)return;J=J.return}for(;ie!==null;){if(J=mr(ie),J===null)return;if(me=J.tag,me===5||me===6||me===26||me===27){w=j=J;continue e}ie=ie.parentNode}}w=w.return}oh(function(){var Le=j,nt=vu(p),at=[];e:{var Ve=ev.get(l);if(Ve!==void 0){var ze=bu,vn=l;switch(l){case"keypress":if(Sl(p)===0)break e;case"keydown":case"keyup":ze=Qf;break;case"focusin":vn="focus",ze=ah;break;case"focusout":vn="blur",ze=ah;break;case"beforeblur":case"afterblur":ze=ah;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Qt;break;case Na:case TS:case MS:ze=xl;break;case Ft:ze=ki;break;case"scroll":case"scrollend":ze=ih;break;case"wheel":ze=Ne;break;case"copy":case"cut":case"paste":ze=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=go;break;case"toggle":case"beforetoggle":ze=ci}var pn=(u&4)!==0,Pr=!pn&&(l==="scroll"||l==="scrollend"),ke=pn?Ve!==null?Ve+"Capture":null:Ve;pn=[];for(var xe=Le,Ae;xe!==null;){var ot=xe;if(Ae=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||Ae===null||ke===null||(ot=ai(xe,ke),ot!=null&&pn.push(Rv(xe,ot,Ae))),Pr)break;xe=xe.return}0<pn.length&&(Ve=new ze(Ve,vn,null,p,nt),at.push({event:Ve,listeners:pn}))}}if((u&7)===0){e:{if(Ve=l==="mouseover"||l==="pointerover",ze=l==="mouseout"||l==="pointerout",Ve&&p!==yl&&(vn=p.relatedTarget||p.fromElement)&&(mr(vn)||vn[En]))break e;if((ze||Ve)&&(Ve=nt.window===nt?nt:(Ve=nt.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,ze?(vn=p.relatedTarget||p.toElement,ze=Le,vn=vn?mr(vn):null,vn!==null&&(Pr=i(vn),pn=vn.tag,vn!==Pr||pn!==5&&pn!==27&&pn!==6)&&(vn=null)):(ze=null,vn=Le),ze!==vn)){if(pn=Hf,ot="onMouseLeave",ke="onMouseEnter",xe="mouse",(l==="pointerout"||l==="pointerover")&&(pn=go,ot="onPointerLeave",ke="onPointerEnter",xe="pointer"),Pr=ze==null?Ve:Oi(ze),Ae=vn==null?Ve:Oi(vn),Ve=new pn(ot,xe+"leave",ze,p,nt),Ve.target=Pr,Ve.relatedTarget=Ae,ot=null,mr(nt)===Le&&(pn=new pn(ke,xe+"enter",vn,p,nt),pn.target=Ae,pn.relatedTarget=Pr,ot=pn),Pr=ot,ze&&vn)t:{for(pn=ze,ke=vn,xe=0,Ae=pn;Ae;Ae=Cp(Ae))xe++;for(Ae=0,ot=ke;ot;ot=Cp(ot))Ae++;for(;0<xe-Ae;)pn=Cp(pn),xe--;for(;0<Ae-xe;)ke=Cp(ke),Ae--;for(;xe--;){if(pn===ke||ke!==null&&pn===ke.alternate)break t;pn=Cp(pn),ke=Cp(ke)}pn=null}else pn=null;ze!==null&&TK(at,Ve,ze,pn,!1),vn!==null&&Pr!==null&&TK(at,Pr,vn,pn,!0)}}e:{if(Ve=Le?Oi(Le):window,ze=Ve.nodeName&&Ve.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Ve.type==="file")var Kt=pc;else if(La(Ve))if(Jf)Kt=gc;else{Kt=Qm;var jn=tp}else ze=Ve.nodeName,!ze||ze.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Le&&po(Le.elementType)&&(Kt=pc):Kt=xu;if(Kt&&(Kt=Kt(l,Le))){Tl(at,Kt,p,nt);break e}jn&&jn(l,Ve,Le),l==="focusout"&&Le&&Ve.type==="number"&&Le.memoizedProps.value!=null&&mu(Ve,"number",Ve.value)}switch(jn=Le?Oi(Le):window,l){case"focusin":(La(jn)||jn.contentEditable==="true")&&($e=jn,qe=Le,rt=null);break;case"focusout":rt=qe=$e=null;break;case"mousedown":kt=!0;break;case"contextmenu":case"mouseup":case"dragend":kt=!1,zt(at,p,nt);break;case"selectionchange":if(Oe)break;case"keydown":case"keyup":zt(at,p,nt)}var sn;if(fn)e:{switch(l){case"compositionstart":var mn="onCompositionStart";break e;case"compositionend":mn="onCompositionEnd";break e;case"compositionupdate":mn="onCompositionUpdate";break e}mn=void 0}else ws?ut(l,p)&&(mn="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(mn="onCompositionStart");mn&&(Wn&&p.locale!=="ko"&&(ws||mn!=="onCompositionStart"?mn==="onCompositionEnd"&&ws&&(sn=cc()):(bs=nt,lc="value"in bs?bs.value:bs.textContent,ws=!0)),jn=uC(Le,mn),0<jn.length&&(mn=new tr(mn,l,null,p,nt),at.push({event:mn,listeners:jn}),sn?mn.data=sn:(sn=dh(p),sn!==null&&(mn.data=sn)))),(sn=uh?no(l,p):hh(l,p))&&(mn=uC(Le,"onBeforeInput"),0<mn.length&&(jn=new tr("onBeforeInput","beforeinput",null,p,nt),at.push({event:jn,listeners:mn}),jn.data=sn)),O5e(at,l,Le,p,nt)}_K(at,u)})}function Rv(l,u,p){return{instance:l,listener:u,currentTarget:p}}function uC(l,u){for(var p=u+"Capture",w=[];l!==null;){var O=l,j=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||j===null||(O=ai(l,p),O!=null&&w.unshift(Rv(l,O,j)),O=ai(l,u),O!=null&&w.push(Rv(l,O,j))),l.tag===3)return w;l=l.return}return[]}function Cp(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function TK(l,u,p,w,O){for(var j=u._reactName,J=[];p!==null&&p!==w;){var ie=p,me=ie.alternate,Le=ie.stateNode;if(ie=ie.tag,me!==null&&me===w)break;ie!==5&&ie!==26&&ie!==27||Le===null||(me=Le,O?(Le=ai(p,j),Le!=null&&J.unshift(Rv(p,Le,me))):O||(Le=ai(p,j),Le!=null&&J.push(Rv(p,Le,me)))),p=p.return}J.length!==0&&l.push({event:u,listeners:J})}var k5e=/\r\n?/g,D5e=/\u0000|\uFFFD/g;function MK(l){return(typeof l=="string"?l:""+l).replace(k5e,`
`).replace(D5e,"")}function OK(l,u){return u=MK(u),MK(l)===u}function dC(){}function Ir(l,u,p,w,O,j){switch(p){case"children":typeof w=="string"?u==="body"||u==="textarea"&&w===""||vl(l,w):(typeof w=="number"||typeof w=="bigint")&&u!=="body"&&vl(l,""+w);break;case"className":ms(l,"class",w);break;case"tabIndex":ms(l,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(l,p,w);break;case"style":rh(l,w,j);break;case"data":if(u!=="object"){ms(l,"data",w);break}case"src":case"href":if(w===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=ac(""+w),l.setAttribute(p,w);break;case"action":case"formAction":if(typeof w=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(p==="formAction"?(u!=="input"&&Ir(l,u,"name",O.name,O,null),Ir(l,u,"formEncType",O.formEncType,O,null),Ir(l,u,"formMethod",O.formMethod,O,null),Ir(l,u,"formTarget",O.formTarget,O,null)):(Ir(l,u,"encType",O.encType,O,null),Ir(l,u,"method",O.method,O,null),Ir(l,u,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=ac(""+w),l.setAttribute(p,w);break;case"onClick":w!=null&&(l.onclick=dC);break;case"onScroll":w!=null&&Un("scroll",l);break;case"onScrollEnd":w!=null&&Un("scrollend",l);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":l.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){l.removeAttribute("xlink:href");break}p=ac(""+w),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""+w):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":w===!0?l.setAttribute(p,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,w):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?l.setAttribute(p,w):l.removeAttribute(p);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?l.removeAttribute(p):l.setAttribute(p,w);break;case"popover":Un("beforetoggle",l),Un("toggle",l),Ri(l,"popover",w);break;case"xlinkActuate":oi(l,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":oi(l,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":oi(l,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":oi(l,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":oi(l,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":oi(l,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":oi(l,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":oi(l,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":oi(l,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ri(l,"is",w);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=vs.get(p)||p,Ri(l,p,w))}}function NP(l,u,p,w,O,j){switch(p){case"style":rh(l,w,j);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof w=="string"?vl(l,w):(typeof w=="number"||typeof w=="bigint")&&vl(l,""+w);break;case"onScroll":w!=null&&Un("scroll",l);break;case"onScrollEnd":w!=null&&Un("scrollend",l);break;case"onClick":w!=null&&(l.onclick=dC);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ze.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(O=p.endsWith("Capture"),u=p.slice(2,O?p.length-7:void 0),j=l[en]||null,j=j!=null?j[p]:null,typeof j=="function"&&l.removeEventListener(u,j,O),typeof w=="function")){typeof j!="function"&&j!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,w,O);break e}p in l?l[p]=w:w===!0?l.setAttribute(p,""):Ri(l,p,w)}}}function hi(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Un("error",l),Un("load",l);var w=!1,O=!1,j;for(j in p)if(p.hasOwnProperty(j)){var J=p[j];if(J!=null)switch(j){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ir(l,u,j,J,p,null)}}O&&Ir(l,u,"srcSet",p.srcSet,p,null),w&&Ir(l,u,"src",p.src,p,null);return;case"input":Un("invalid",l);var ie=j=J=O=null,me=null,Le=null;for(w in p)if(p.hasOwnProperty(w)){var nt=p[w];if(nt!=null)switch(w){case"name":O=nt;break;case"type":J=nt;break;case"checked":me=nt;break;case"defaultChecked":Le=nt;break;case"value":j=nt;break;case"defaultValue":ie=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,u));break;default:Ir(l,u,w,nt,p,null)}}Jd(l,j,ie,me,Le,J,O,!1),Ki(l);return;case"select":Un("invalid",l),w=J=j=null;for(O in p)if(p.hasOwnProperty(O)&&(ie=p[O],ie!=null))switch(O){case"value":j=ie;break;case"defaultValue":J=ie;break;case"multiple":w=ie;default:Ir(l,u,O,ie,p,null)}u=j,p=J,l.multiple=!!w,u!=null?Da(l,!!w,u,!1):p!=null&&Da(l,!!w,p,!0);return;case"textarea":Un("invalid",l),j=O=w=null;for(J in p)if(p.hasOwnProperty(J)&&(ie=p[J],ie!=null))switch(J){case"value":w=ie;break;case"defaultValue":O=ie;break;case"children":j=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(91));break;default:Ir(l,u,J,ie,p,null)}th(l,w,O,j),Ki(l);return;case"option":for(me in p)if(p.hasOwnProperty(me)&&(w=p[me],w!=null))switch(me){case"selected":l.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ir(l,u,me,w,p,null)}return;case"dialog":Un("beforetoggle",l),Un("toggle",l),Un("cancel",l),Un("close",l);break;case"iframe":case"object":Un("load",l);break;case"video":case"audio":for(w=0;w<Ov.length;w++)Un(Ov[w],l);break;case"image":Un("error",l),Un("load",l);break;case"details":Un("toggle",l);break;case"embed":case"source":case"link":Un("error",l),Un("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in p)if(p.hasOwnProperty(Le)&&(w=p[Le],w!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ir(l,u,Le,w,p,null)}return;default:if(po(u)){for(nt in p)p.hasOwnProperty(nt)&&(w=p[nt],w!==void 0&&NP(l,u,nt,w,p,void 0));return}}for(ie in p)p.hasOwnProperty(ie)&&(w=p[ie],w!=null&&Ir(l,u,ie,w,p,null))}function A5e(l,u,p,w){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,j=null,J=null,ie=null,me=null,Le=null,nt=null;for(ze in p){var at=p[ze];if(p.hasOwnProperty(ze)&&at!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":me=at;default:w.hasOwnProperty(ze)||Ir(l,u,ze,null,w,at)}}for(var Ve in w){var ze=w[Ve];if(at=p[Ve],w.hasOwnProperty(Ve)&&(ze!=null||at!=null))switch(Ve){case"type":j=ze;break;case"name":O=ze;break;case"checked":Le=ze;break;case"defaultChecked":nt=ze;break;case"value":J=ze;break;case"defaultValue":ie=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,u));break;default:ze!==at&&Ir(l,u,Ve,ze,w,at)}}gu(l,J,ie,me,Le,nt,j,O);return;case"select":ze=J=ie=Ve=null;for(j in p)if(me=p[j],p.hasOwnProperty(j)&&me!=null)switch(j){case"value":break;case"multiple":ze=me;default:w.hasOwnProperty(j)||Ir(l,u,j,null,w,me)}for(O in w)if(j=w[O],me=p[O],w.hasOwnProperty(O)&&(j!=null||me!=null))switch(O){case"value":Ve=j;break;case"defaultValue":ie=j;break;case"multiple":J=j;default:j!==me&&Ir(l,u,O,j,w,me)}u=ie,p=J,w=ze,Ve!=null?Da(l,!!p,Ve,!1):!!w!=!!p&&(u!=null?Da(l,!!p,u,!0):Da(l,!!p,p?[]:"",!1));return;case"textarea":ze=Ve=null;for(ie in p)if(O=p[ie],p.hasOwnProperty(ie)&&O!=null&&!w.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:Ir(l,u,ie,null,w,O)}for(J in w)if(O=w[J],j=p[J],w.hasOwnProperty(J)&&(O!=null||j!=null))switch(J){case"value":Ve=O;break;case"defaultValue":ze=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==j&&Ir(l,u,J,O,w,j)}eh(l,Ve,ze);return;case"option":for(var vn in p)if(Ve=p[vn],p.hasOwnProperty(vn)&&Ve!=null&&!w.hasOwnProperty(vn))switch(vn){case"selected":l.selected=!1;break;default:Ir(l,u,vn,null,w,Ve)}for(me in w)if(Ve=w[me],ze=p[me],w.hasOwnProperty(me)&&Ve!==ze&&(Ve!=null||ze!=null))switch(me){case"selected":l.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:Ir(l,u,me,Ve,w,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pn in p)Ve=p[pn],p.hasOwnProperty(pn)&&Ve!=null&&!w.hasOwnProperty(pn)&&Ir(l,u,pn,null,w,Ve);for(Le in w)if(Ve=w[Le],ze=p[Le],w.hasOwnProperty(Le)&&Ve!==ze&&(Ve!=null||ze!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,u));break;default:Ir(l,u,Le,Ve,w,ze)}return;default:if(po(u)){for(var Pr in p)Ve=p[Pr],p.hasOwnProperty(Pr)&&Ve!==void 0&&!w.hasOwnProperty(Pr)&&NP(l,u,Pr,void 0,w,Ve);for(nt in w)Ve=w[nt],ze=p[nt],!w.hasOwnProperty(nt)||Ve===ze||Ve===void 0&&ze===void 0||NP(l,u,nt,Ve,w,ze);return}}for(var ke in p)Ve=p[ke],p.hasOwnProperty(ke)&&Ve!=null&&!w.hasOwnProperty(ke)&&Ir(l,u,ke,null,w,Ve);for(at in w)Ve=w[at],ze=p[at],!w.hasOwnProperty(at)||Ve===ze||Ve==null&&ze==null||Ir(l,u,at,Ve,w,ze)}var BP=null,FP=null;function hC(l){return l.nodeType===9?l:l.ownerDocument}function RK(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IK(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function jP(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var VP=null;function L5e(){var l=window.event;return l&&l.type==="popstate"?l===VP?!1:(VP=l,!0):(VP=null,!1)}var PK=typeof setTimeout=="function"?setTimeout:void 0,N5e=typeof clearTimeout=="function"?clearTimeout:void 0,kK=typeof Promise=="function"?Promise:void 0,B5e=typeof queueMicrotask=="function"?queueMicrotask:typeof kK<"u"?function(l){return kK.resolve(null).then(l).catch(F5e)}:PK;function F5e(l){setTimeout(function(){throw l})}function ju(l){return l==="head"}function DK(l,u){var p=u,w=0,O=0;do{var j=p.nextSibling;if(l.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"){if(0<w&&8>w){p=w;var J=l.ownerDocument;if(p&1&&Iv(J.documentElement),p&2&&Iv(J.body),p&4)for(p=J.head,Iv(p),J=p.firstChild;J;){var ie=J.nextSibling,me=J.nodeName;J[Gr]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=ie}}if(O===0){l.removeChild(j),Fv(u);return}O--}else p==="$"||p==="$?"||p==="$!"?O++:w=p.charCodeAt(0)-48;else w=0;p=j}while(p);Fv(u)}function $P(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":$P(p),Ar(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function j5e(l,u,p,w){for(;l.nodeType===1;){var O=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!w&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(w){if(!l[Gr])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(j=l.getAttribute("rel"),j==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(j!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(j=l.getAttribute("src"),(j!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&j&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var j=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===j)return l}else return l;if(l=Fa(l.nextSibling),l===null)break}return null}function V5e(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Fa(l.nextSibling),l===null))return null;return l}function zP(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function $5e(l,u){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")u();else{var w=function(){u(),p.removeEventListener("DOMContentLoaded",w)};p.addEventListener("DOMContentLoaded",w),l._reactRetry=w}}function Fa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var UP=null;function AK(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}function LK(l,u,p){switch(u=hC(p),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Iv(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Ar(l)}var ha=new Map,NK=new Set;function fC(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Oc=Y.d;Y.d={f:z5e,r:U5e,D:H5e,C:G5e,L:W5e,m:K5e,X:Y5e,S:q5e,M:X5e};function z5e(){var l=Oc.f(),u=oC();return l||u}function U5e(l){var u=Co(l);u!==null&&u.tag===5&&u.type==="form"?n6(u):Oc.r(l)}var xp=typeof document>"u"?null:document;function BK(l,u,p){var w=xp;if(w&&typeof u=="string"&&u){var O=si(u);O='link[rel="'+l+'"][href="'+O+'"]',typeof p=="string"&&(O+='[crossorigin="'+p+'"]'),NK.has(O)||(NK.add(O),l={rel:l,crossOrigin:p,href:u},w.querySelector(O)===null&&(u=w.createElement("link"),hi(u,"link",l),nn(u),w.head.appendChild(u)))}}function H5e(l){Oc.D(l),BK("dns-prefetch",l,null)}function G5e(l,u){Oc.C(l,u),BK("preconnect",l,u)}function W5e(l,u,p){Oc.L(l,u,p);var w=xp;if(w&&l&&u){var O='link[rel="preload"][as="'+si(u)+'"]';u==="image"&&p&&p.imageSrcSet?(O+='[imagesrcset="'+si(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(O+='[imagesizes="'+si(p.imageSizes)+'"]')):O+='[href="'+si(l)+'"]';var j=O;switch(u){case"style":j=_p(l);break;case"script":j=Ep(l)}ha.has(j)||(l=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),ha.set(j,l),w.querySelector(O)!==null||u==="style"&&w.querySelector(Pv(j))||u==="script"&&w.querySelector(kv(j))||(u=w.createElement("link"),hi(u,"link",l),nn(u),w.head.appendChild(u)))}}function K5e(l,u){Oc.m(l,u);var p=xp;if(p&&l){var w=u&&typeof u.as=="string"?u.as:"script",O='link[rel="modulepreload"][as="'+si(w)+'"][href="'+si(l)+'"]',j=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Ep(l)}if(!ha.has(j)&&(l=h({rel:"modulepreload",href:l},u),ha.set(j,l),p.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(kv(j)))return}w=p.createElement("link"),hi(w,"link",l),nn(w),p.head.appendChild(w)}}}function q5e(l,u,p){Oc.S(l,u,p);var w=xp;if(w&&l){var O=Tr(w).hoistableStyles,j=_p(l);u=u||"default";var J=O.get(j);if(!J){var ie={loading:0,preload:null};if(J=w.querySelector(Pv(j)))ie.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":u},p),(p=ha.get(j))&&HP(l,p);var me=J=w.createElement("link");nn(me),hi(me,"link",l),me._p=new Promise(function(Le,nt){me.onload=Le,me.onerror=nt}),me.addEventListener("load",function(){ie.loading|=1}),me.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,pC(J,u,w)}J={type:"stylesheet",instance:J,count:1,state:ie},O.set(j,J)}}}function Y5e(l,u){Oc.X(l,u);var p=xp;if(p&&l){var w=Tr(p).hoistableScripts,O=Ep(l),j=w.get(O);j||(j=p.querySelector(kv(O)),j||(l=h({src:l,async:!0},u),(u=ha.get(O))&&GP(l,u),j=p.createElement("script"),nn(j),hi(j,"link",l),p.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(O,j))}}function X5e(l,u){Oc.M(l,u);var p=xp;if(p&&l){var w=Tr(p).hoistableScripts,O=Ep(l),j=w.get(O);j||(j=p.querySelector(kv(O)),j||(l=h({src:l,async:!0,type:"module"},u),(u=ha.get(O))&&GP(l,u),j=p.createElement("script"),nn(j),hi(j,"link",l),p.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(O,j))}}function FK(l,u,p,w){var O=(O=se.current)?fC(O):null;if(!O)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=_p(p.href),p=Tr(O).hoistableStyles,w=p.get(u),w||(w={type:"style",instance:null,count:0,state:null},p.set(u,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=_p(p.href);var j=Tr(O).hoistableStyles,J=j.get(l);if(J||(O=O.ownerDocument||O,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(l,J),(j=O.querySelector(Pv(l)))&&!j._p&&(J.instance=j,J.state.loading=5),ha.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ha.set(l,p),j||Z5e(O,l,p,J.state))),u&&w===null)throw Error(r(528,""));return J}if(u&&w!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ep(p),p=Tr(O).hoistableScripts,w=p.get(u),w||(w={type:"script",instance:null,count:0,state:null},p.set(u,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function _p(l){return'href="'+si(l)+'"'}function Pv(l){return'link[rel="stylesheet"]['+l+"]"}function jK(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function Z5e(l,u,p,w){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?w.loading=1:(u=l.createElement("link"),w.preload=u,u.addEventListener("load",function(){return w.loading|=1}),u.addEventListener("error",function(){return w.loading|=2}),hi(u,"link",p),nn(u),l.head.appendChild(u))}function Ep(l){return'[src="'+si(l)+'"]'}function kv(l){return"script[async]"+l}function VK(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var w=l.querySelector('style[data-href~="'+si(p.href)+'"]');if(w)return u.instance=w,nn(w),w;var O=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return w=(l.ownerDocument||l).createElement("style"),nn(w),hi(w,"style",O),pC(w,p.precedence,l),u.instance=w;case"stylesheet":O=_p(p.href);var j=l.querySelector(Pv(O));if(j)return u.state.loading|=4,u.instance=j,nn(j),j;w=jK(p),(O=ha.get(O))&&HP(w,O),j=(l.ownerDocument||l).createElement("link"),nn(j);var J=j;return J._p=new Promise(function(ie,me){J.onload=ie,J.onerror=me}),hi(j,"link",w),u.state.loading|=4,pC(j,p.precedence,l),u.instance=j;case"script":return j=Ep(p.src),(O=l.querySelector(kv(j)))?(u.instance=O,nn(O),O):(w=p,(O=ha.get(j))&&(w=h({},p),GP(w,O)),l=l.ownerDocument||l,O=l.createElement("script"),nn(O),hi(O,"link",w),l.head.appendChild(O),u.instance=O);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(w=u.instance,u.state.loading|=4,pC(w,p.precedence,l));return u.instance}function pC(l,u,p){for(var w=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,j=O,J=0;J<w.length;J++){var ie=w[J];if(ie.dataset.precedence===u)j=ie;else if(j!==O)break}j?j.parentNode.insertBefore(l,j.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function HP(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function GP(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var gC=null;function $K(l,u,p){if(gC===null){var w=new Map,O=gC=new Map;O.set(p,w)}else O=gC,w=O.get(p),w||(w=new Map,O.set(p,w));if(w.has(l))return w;for(w.set(l,null),p=p.getElementsByTagName(l),O=0;O<p.length;O++){var j=p[O];if(!(j[Gr]||j[tn]||l==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var J=j.getAttribute(u)||"";J=l+J;var ie=w.get(J);ie?ie.push(j):w.set(J,[j])}}return w}function zK(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function Q5e(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function UK(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Dv=null;function J5e(){}function e4e(l,u,p){if(Dv===null)throw Error(r(475));var w=Dv;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var O=_p(p.href),j=l.querySelector(Pv(O));if(j){l=j._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(w.count++,w=mC.bind(w),l.then(w,w)),u.state.loading|=4,u.instance=j,nn(j);return}j=l.ownerDocument||l,p=jK(p),(O=ha.get(O))&&HP(p,O),j=j.createElement("link"),nn(j);var J=j;J._p=new Promise(function(ie,me){J.onload=ie,J.onerror=me}),hi(j,"link",p),u.instance=j}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(w.count++,u=mC.bind(w),l.addEventListener("load",u),l.addEventListener("error",u))}}function t4e(){if(Dv===null)throw Error(r(475));var l=Dv;return l.stylesheets&&l.count===0&&WP(l,l.stylesheets),0<l.count?function(u){var p=setTimeout(function(){if(l.stylesheets&&WP(l,l.stylesheets),l.unsuspend){var w=l.unsuspend;l.unsuspend=null,w()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(p)}}:null}function mC(){if(this.count--,this.count===0){if(this.stylesheets)WP(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var vC=null;function WP(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,vC=new Map,u.forEach(n4e,l),vC=null,mC.call(l))}function n4e(l,u){if(!(u.state.loading&4)){var p=vC.get(l);if(p)var w=p.get(null);else{p=new Map,vC.set(l,p);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<O.length;j++){var J=O[j];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),w=J)}w&&p.set(null,w)}O=u.instance,J=O.getAttribute("data-precedence"),j=p.get(J)||w,j===w&&p.set(null,O),p.set(J,O),this.count++,w=mC.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),j?j.parentNode.insertBefore(O,j.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),u.state.loading|=4}}var Av={$$typeof:T,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function r4e(l,u,p,w,O,j,J,ie){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=j,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function HK(l,u,p,w,O,j,J,ie,me,Le,nt,at){return l=new r4e(l,u,p,J,ie,me,Le,at),u=1,j===!0&&(u|=24),j=Cs(3,null,null,u),l.current=j,j.stateNode=l,u=MI(),u.refCount++,l.pooledCache=u,u.refCount++,j.memoizedState={element:w,isDehydrated:p,cache:u},PI(j),l}function GK(l){return l?(l=np,l):np}function WK(l,u,p,w,O,j){O=GK(O),w.context===null?w.context=O:w.pendingContext=O,w=Tu(u),w.payload={element:p},j=j===void 0?null:j,j!==null&&(w.callback=j),p=Mu(l,w,u),p!==null&&(Ms(p,l,u),uv(p,l,u))}function KK(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function KP(l,u){KK(l,u),(l=l.alternate)&&KK(l,u)}function qK(l){if(l.tag===13){var u=dn(l,67108864);u!==null&&Ms(u,l,67108864),KP(l,67108864)}}var yC=!0;function o4e(l,u,p,w){var O=V.T;V.T=null;var j=Y.p;try{Y.p=2,qP(l,u,p,w)}finally{Y.p=j,V.T=O}}function i4e(l,u,p,w){var O=V.T;V.T=null;var j=Y.p;try{Y.p=8,qP(l,u,p,w)}finally{Y.p=j,V.T=O}}function qP(l,u,p,w){if(yC){var O=YP(w);if(O===null)LP(l,u,w,bC,p),XK(l,w);else if(a4e(O,l,u,p,w))w.stopPropagation();else if(XK(l,w),u&4&&-1<s4e.indexOf(l)){for(;O!==null;){var j=Co(O);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var J=st(j.pendingLanes);if(J!==0){var ie=j;for(ie.pendingLanes|=2,ie.entangledLanes|=2;J;){var me=1<<31-ht(J);ie.entanglements[1]|=me,J&=~me}Dl(j),(Sr&6)===0&&(nC=Je()+500,Mv(0))}}break;case 13:ie=dn(j,2),ie!==null&&Ms(ie,j,2),oC(),KP(j,2)}if(j=YP(w),j===null&&LP(l,u,w,bC,p),j===O)break;O=j}O!==null&&w.stopPropagation()}else LP(l,u,w,null,p)}}function YP(l){return l=vu(l),XP(l)}var bC=null;function XP(l){if(bC=null,l=mr(l),l!==null){var u=i(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=s(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return bC=l,null}function YK(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Ot:return 2;case dt:return 8;case St:case je:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var ZP=!1,Vu=null,$u=null,zu=null,Lv=new Map,Nv=new Map,Uu=[],s4e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function XK(l,u){switch(l){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":$u=null;break;case"mouseover":case"mouseout":zu=null;break;case"pointerover":case"pointerout":Lv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nv.delete(u.pointerId)}}function Bv(l,u,p,w,O,j){return l===null||l.nativeEvent!==j?(l={blockedOn:u,domEventName:p,eventSystemFlags:w,nativeEvent:j,targetContainers:[O]},u!==null&&(u=Co(u),u!==null&&qK(u)),l):(l.eventSystemFlags|=w,u=l.targetContainers,O!==null&&u.indexOf(O)===-1&&u.push(O),l)}function a4e(l,u,p,w,O){switch(u){case"focusin":return Vu=Bv(Vu,l,u,p,w,O),!0;case"dragenter":return $u=Bv($u,l,u,p,w,O),!0;case"mouseover":return zu=Bv(zu,l,u,p,w,O),!0;case"pointerover":var j=O.pointerId;return Lv.set(j,Bv(Lv.get(j)||null,l,u,p,w,O)),!0;case"gotpointercapture":return j=O.pointerId,Nv.set(j,Bv(Nv.get(j)||null,l,u,p,w,O)),!0}return!1}function ZK(l){var u=mr(l.target);if(u!==null){var p=i(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){l.blockedOn=u,Lt(l.priority,function(){if(p.tag===13){var w=Ts();w=Vr(w);var O=dn(p,w);O!==null&&Ms(O,p,w),KP(p,w)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function wC(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=YP(l.nativeEvent);if(p===null){p=l.nativeEvent;var w=new p.constructor(p.type,p);yl=w,p.target.dispatchEvent(w),yl=null}else return u=Co(p),u!==null&&qK(u),l.blockedOn=p,!1;u.shift()}return!0}function QK(l,u,p){wC(l)&&p.delete(u)}function l4e(){ZP=!1,Vu!==null&&wC(Vu)&&(Vu=null),$u!==null&&wC($u)&&($u=null),zu!==null&&wC(zu)&&(zu=null),Lv.forEach(QK),Nv.forEach(QK)}function SC(l,u){l.blockedOn===u&&(l.blockedOn=null,ZP||(ZP=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,l4e)))}var CC=null;function JK(l){CC!==l&&(CC=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){CC===l&&(CC=null);for(var u=0;u<l.length;u+=3){var p=l[u],w=l[u+1],O=l[u+2];if(typeof w!="function"){if(XP(w||p)===null)continue;break}var j=Co(p);j!==null&&(l.splice(u,3),u-=3,XI(j,{pending:!0,data:O,method:p.method,action:w},w,O))}}))}function Fv(l){function u(me){return SC(me,l)}Vu!==null&&SC(Vu,l),$u!==null&&SC($u,l),zu!==null&&SC(zu,l),Lv.forEach(u),Nv.forEach(u);for(var p=0;p<Uu.length;p++){var w=Uu[p];w.blockedOn===l&&(w.blockedOn=null)}for(;0<Uu.length&&(p=Uu[0],p.blockedOn===null);)ZK(p),p.blockedOn===null&&Uu.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(w=0;w<p.length;w+=3){var O=p[w],j=p[w+1],J=O[en]||null;if(typeof j=="function")J||JK(p);else if(J){var ie=null;if(j&&j.hasAttribute("formAction")){if(O=j,J=j[en]||null)ie=J.formAction;else if(XP(O)!==null)continue}else ie=J.action;typeof ie=="function"?p[w+1]=ie:(p.splice(w,3),w-=3),JK(p)}}}function QP(l){this._internalRoot=l}xC.prototype.render=QP.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,w=Ts();WK(p,w,l,u,null,null)},xC.prototype.unmount=QP.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;WK(l.current,2,null,l,null,null),oC(),u[En]=null}};function xC(l){this._internalRoot=l}xC.prototype.unstable_scheduleHydration=function(l){if(l){var u=Ln();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Uu.length&&u!==0&&u<Uu[p].priority;p++);Uu.splice(p,0,l),p===0&&ZK(l)}};var eq=t.version;if(eq!=="19.1.1")throw Error(r(527,eq,"19.1.1"));Y.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var c4e={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _C=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_C.isDisabled&&_C.supportsFiber)try{It=_C.inject(c4e),Xt=_C}catch{}}return qm.createRoot=function(l,u){if(!o(l))throw Error(r(299));var p=!1,w="",O=m6,j=v6,J=y6,ie=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(j=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ie=u.unstable_transitionCallbacks)),u=HK(l,1,!1,null,null,p,w,O,j,J,ie,null),l[En]=u.current,AP(l),new QP(u)},qm.hydrateRoot=function(l,u,p){if(!o(l))throw Error(r(299));var w=!1,O="",j=m6,J=v6,ie=y6,me=null,Le=null;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onUncaughtError!==void 0&&(j=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(ie=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(me=p.unstable_transitionCallbacks),p.formState!==void 0&&(Le=p.formState)),u=HK(l,1,!0,u,p??null,w,O,j,J,ie,me,Le),u.context=GK(null),p=u.current,w=Ts(),w=Vr(w),O=Tu(w),O.callback=null,Mu(p,O,w),p=w,u.current.lanes=p,Fn(u,p),Dl(u),l[En]=u.current,AP(l),new xC(u)},qm.version="19.1.1",qm}var lW;function W2e(){if(lW)return hI.exports;lW=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hI.exports=G2e(),hI.exports}var K2e=W2e();function q2e(e,t){const n=typeof e=="string"?document.getElementById(e):e;K2e.createRoot(n).render(t)}async function Y2e(e){const t=new Sme({baseUrl:Yu.apiUrl}),n=new gve({apiClient:t});n.init(),q2e(e,x.jsx(z2e,{m:n}))}return jv.create=Y2e,jv.options=Yu,Object.defineProperty(jv,Symbol.toStringTag,{value:"Module"}),jv})({});
;var $GH_COMMIT = '4862e32 EDITOR: build(player): Используется версия 0.x.x';
