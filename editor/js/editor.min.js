(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.pVED4Nqg{border-radius:16px;width:30%}.pVED4Nqg form{display:flex;flex-direction:column}.pVED4Nqg form menu{display:flex;flex-direction:column;gap:4px}.pVED4Nqg form button{height:40px}.pVED4Nqg form button[value=ok]:enabled{background-color:#90ee90}.pVED4Nqg form p{display:flex;justify-content:center}.pVED4Nqg input::file-selector-button{font-weight:700;color:#1e90ff;padding:.5em;border:thin solid grey;border-radius:3px}.ApJIp71s{position:relative;overflow:hidden;outline:none;transform-origin:top left}.ApJIp71s.qhzEyKeP{overflow-x:auto}.ApJIp71s.j1zyfqqN{overflow-y:auto}.ApJIp71s.-WlIuMox{display:none}.ApJIp71s .ApJIp71s{position:absolute}.ApJIp71s ._-7ivHAO2{position:sticky!important;top:0;left:0}.ApJIp71s .xTZG1aX9{pointer-events:none;position:absolute!important;top:0;left:0}.ApJIp71s .Q4gUooLG{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.yNr0VPwT{position:relative;user-select:none;width:100%;height:100%;overflow:clip}.yNr0VPwT>canvas{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.yNr0VPwT .doAE-L2e{all:unset;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.yNr0VPwT ._8PHlccAK{position:absolute;pointer-events:auto;background-color:#000}.yNr0VPwT.k7TCS6Hm .doAE-L2e{pointer-events:none}.yNr0VPwT .doAE-L2e.-QksePcc{white-space:wrap}.yNr0VPwT .doAE-L2e:not(.-QksePcc){overflow:hidden}.yNr0VPwT textarea.doAE-L2e.ZFAGmpo5{text-align:center}.yNr0VPwT textarea.doAE-L2e.GnGoYW5X{border:inset 2px}.yNr0VPwT input[type=button].doAE-L2e{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.yNr0VPwT input[type=button].doAE-L2e:active{border-style:inset}.c3UHApxQ{position:relative;overflow:auto;min-width:300px;min-height:300px}.JtozXFt9{position:absolute!important;margin:0 auto;left:0;right:0}.JtozXFt9.pnlxzH3m{transition:opacity .25s linear,box-shadow .1s linear}.JtozXFt9.pnlxzH3m:focus-within{box-shadow:0 2px 6px #0000004d}.JtozXFt9.dJ50k0ZR{transition:opacity .25s linear;box-shadow:13px 11px 6px #0000007f;border:1px black solid}.JtozXFt9 ._2NuvSdcG{padding:0;background-color:transparent;border:none;position:absolute;top:0;right:8px;font-size:26px;cursor:pointer;color:#333}.JtozXFt9 ._2NuvSdcG:hover{color:red}.Lub8lEDq{position:relative;user-select:none;width:100%;height:100%;overflow:clip;background-color:#fff}.Lub8lEDq>svg,.Lub8lEDq>div{pointer-events:none;position:absolute;overflow:clip;top:0;left:0;width:100%;height:100%}.Lub8lEDq ._3Au4Qe-K{all:unset;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.Lub8lEDq .uvJsh9bM{position:absolute;pointer-events:auto;background-color:#000}.Lub8lEDq.pQtj-s3j ._3Au4Qe-K{pointer-events:none}.Lub8lEDq ._3Au4Qe-K._3YpK1pvi{white-space:wrap}.Lub8lEDq ._3Au4Qe-K:not(._3YpK1pvi){overflow:hidden}.Lub8lEDq textarea._3Au4Qe-K._3n6h0K3a{border:inset 2px}.Lub8lEDq input[type=button]._3Au4Qe-K{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.Lub8lEDq input[type=button]._3Au4Qe-K:active{border-style:inset}@keyframes marching-ants{0%{background-position:0 0,0 100%,0 0,100% 0}to{background-position:20px 0,-20px 100%,0 -20px,100% 20px}}:root{--rc-drag-handle-size: 12px;--rc-drag-handle-mobile-size: 24px;--rc-drag-handle-bg-colour: rgba(0, 0, 0, .2);--rc-drag-bar-size: 6px;--rc-border-color: rgba(255, 255, 255, .7);--rc-focus-color: #0088ff}.ReactCrop{position:relative;display:inline-block;cursor:crosshair;max-width:100%}.ReactCrop *,.ReactCrop *:before,.ReactCrop *:after{box-sizing:border-box}.ReactCrop--disabled,.ReactCrop--locked{cursor:inherit}.ReactCrop__child-wrapper{overflow:hidden;max-height:inherit}.ReactCrop__child-wrapper>img,.ReactCrop__child-wrapper>video{display:block;max-width:100%;max-height:inherit}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>img,.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>video{touch-action:none}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__crop-selection{touch-action:none}.ReactCrop__crop-mask{position:absolute;inset:0;pointer-events:none;width:calc(100% + .5px);height:calc(100% + .5px)}.ReactCrop__crop-selection{position:absolute;top:0;left:0;transform:translateZ(0);cursor:move}.ReactCrop--disabled .ReactCrop__crop-selection{cursor:inherit}.ReactCrop--circular-crop .ReactCrop__crop-selection{border-radius:50%}.ReactCrop--circular-crop .ReactCrop__crop-selection:after{pointer-events:none;content:"";position:absolute;inset:-1px;border:1px solid var(--rc-border-color);opacity:.3}.ReactCrop--no-animate .ReactCrop__crop-selection{outline:1px dashed white}.ReactCrop__crop-selection:not(.ReactCrop--no-animate .ReactCrop__crop-selection){animation:marching-ants 1s;background-image:linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%);background-size:10px 1px,10px 1px,1px 10px,1px 10px;background-position:0 0,0 100%,0 0,100% 0;background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;color:#fff;animation-play-state:running;animation-timing-function:linear;animation-iteration-count:infinite}.ReactCrop__crop-selection:focus{outline:2px solid var(--rc-focus-color);outline-offset:-1px}.ReactCrop--invisible-crop .ReactCrop__crop-mask,.ReactCrop--invisible-crop .ReactCrop__crop-selection{display:none}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after,.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{content:"";display:block;position:absolute;background-color:#fff6}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after{width:1px;height:100%}.ReactCrop__rule-of-thirds-vt:before{left:33.3333333333%}.ReactCrop__rule-of-thirds-vt:after{left:66.6666666667%}.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{width:100%;height:1px}.ReactCrop__rule-of-thirds-hz:before{top:33.3333333333%}.ReactCrop__rule-of-thirds-hz:after{top:66.6666666667%}.ReactCrop__drag-handle{position:absolute;width:var(--rc-drag-handle-size);height:var(--rc-drag-handle-size);background-color:var(--rc-drag-handle-bg-colour);border:1px solid var(--rc-border-color)}.ReactCrop__drag-handle:focus{background:var(--rc-focus-color)}.ReactCrop .ord-nw{top:0;left:0;transform:translate(-50%,-50%);cursor:nw-resize}.ReactCrop .ord-n{top:0;left:50%;transform:translate(-50%,-50%);cursor:n-resize}.ReactCrop .ord-ne{top:0;right:0;transform:translate(50%,-50%);cursor:ne-resize}.ReactCrop .ord-e{top:50%;right:0;transform:translate(50%,-50%);cursor:e-resize}.ReactCrop .ord-se{bottom:0;right:0;transform:translate(50%,50%);cursor:se-resize}.ReactCrop .ord-s{bottom:0;left:50%;transform:translate(-50%,50%);cursor:s-resize}.ReactCrop .ord-sw{bottom:0;left:0;transform:translate(-50%,50%);cursor:sw-resize}.ReactCrop .ord-w{top:50%;left:0;transform:translate(-50%,-50%);cursor:w-resize}.ReactCrop__disabled .ReactCrop__drag-handle{cursor:inherit}.ReactCrop__drag-bar{position:absolute}.ReactCrop__drag-bar.ord-n{top:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(-50%)}.ReactCrop__drag-bar.ord-e{right:0;top:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(50%)}.ReactCrop__drag-bar.ord-s{bottom:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(50%)}.ReactCrop__drag-bar.ord-w{top:0;left:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(-50%)}.ReactCrop--new-crop .ReactCrop__drag-bar,.ReactCrop--new-crop .ReactCrop__drag-handle,.ReactCrop--fixed-aspect .ReactCrop__drag-bar,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-n,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-e,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-s,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-w{display:none}@media (pointer: coarse){.ReactCrop .ord-n,.ReactCrop .ord-e,.ReactCrop .ord-s,.ReactCrop .ord-w{display:none}.ReactCrop__drag-handle{width:var(--rc-drag-handle-mobile-size);height:var(--rc-drag-handle-mobile-size)}}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
var stratumEditor=(function(Hv){"use strict";function hq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Gv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fq(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var k0={exports:{}},kp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function pq(){if(rP)return kp;rP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return kp.Fragment=t,kp.jsx=n,kp.jsxs=n,kp}var iP;function gq(){return iP||(iP=1,k0.exports=pq()),k0.exports}var x=gq();/**
Copyright (c) 2020 Egor Nepomnyaschih @license (MIT)
*/const fc=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],oP=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Wv(e){if(e>=oP.length)throw new Error("Unable to parse base64 string.");const t=oP[e];if(t===255)throw new Error("Unable to parse base64 string.");return t}function Kv(e){let t="",n,r=e.length;for(n=2;n<r;n+=3)t+=fc[e[n-2]>>2],t+=fc[(e[n-2]&3)<<4|e[n-1]>>4],t+=fc[(e[n-1]&15)<<2|e[n]>>6],t+=fc[e[n]&63];return n===r+1&&(t+=fc[e[n-2]>>2],t+=fc[(e[n-2]&3)<<4],t+="=="),n===r&&(t+=fc[e[n-2]>>2],t+=fc[(e[n-2]&3)<<4|e[n-1]>>4],t+=fc[(e[n-1]&15)<<2],t+="="),t}function qv(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(t!==-1&&t<e.length-2)throw new Error("Unable to parse base64 string.");let n=e.endsWith("==")?2:e.endsWith("=")?1:0,r=e.length,i=new Uint8Array(3*(r/4)),o;for(let s=0,a=0;s<r;s+=4,a+=3)o=Wv(e.charCodeAt(s))<<18|Wv(e.charCodeAt(s+1))<<12|Wv(e.charCodeAt(s+2))<<6|Wv(e.charCodeAt(s+3)),i[a]=o>>16,i[a+1]=o>>8&255,i[a+2]=o&255;return i.subarray(0,i.length-n)}const qa=[...Array.from({length:128},(e,t)=>String.fromCharCode(t)),"Ђ","Ѓ","‚","ѓ","„","…","†","‡","€","‰","Љ","‹","Њ","Ќ","Ћ","Џ","ђ","‘","’","“","”","•","–","—","","™","љ","›","њ","ќ","ћ","џ"," ","Ў","ў","Ћ","¤","Ґ","¦","§","Ё","©","Є","«","¬","","®","Ї","°","±","І","і","ґ","µ","¶","·","ё","№","є","»","ј","Ѕ","ѕ","ї","А","Б","В","Г","Д","Е","Ж","З","И","Й","К","Л","М","Н","О","П","Р","С","Т","У","Ф","Х","Ц","Ч","Ш","Щ","Ъ","Ы","Ь","Э","Ю","Я","а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"];function Pp(e){return Array.from(e).map(t=>qa[t]).join("")}const Yv=32,mq=10;function Dp(e){return new Uint8Array([...e].map(t=>{const n=qa.indexOf(t);return n>-1?n:Yv}))}class aa{constructor(){this.listeners=new Set,this.listenersOnce=new Set}add(t){this.listeners.add(t)}addOnce(t){this.listenersOnce.add(t)}remove(t){this.listeners.delete(t),this.listenersOnce.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.listenersOnce.forEach(n=>n(...t)),this.listenersOnce.clear()}}const Ap=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare;/**
 * Gauss-Jordan elimination by lovasoa (https://github.com/lovasoa) @license (MIT)
 */class P0{constructor(t,n){this.data=new Array(t.length);for(let r=0,i=t[0].length;r<t.length;r++){this.data[r]=new Array(i);for(let o=0;o<i;o++)this.data[r][o]=t[r][o]}if(n){if(typeof n[0]!="object")for(let r=0;r<n.length;r++)n[r]=[n[r]];this.mirror=new P0(n)}}swap(t,n){this.mirror&&this.mirror.swap(t,n);const r=this.data[t];this.data[t]=this.data[n],this.data[n]=r}multline(t,n){this.mirror&&this.mirror.multline(t,n);const r=this.data[t];for(let i=r.length-1;i>=0;i--)r[i]*=n}addmul(t,n,r){this.mirror&&this.mirror.addmul(t,n,r);const i=this.data[t],o=this.data[n];for(let s=i.length-1;s>=0;s--)i[s]=i[s]+r*o[s]}hasNullLine(t){for(let n=0;n<this.data[t].length;n++)if(this.data[t][n]!==0)return!1;return!0}gauss(){let t=0;const n=this.data.length,r=this.data[0].length,i=[];for(let o=0;o<r;o++){let s=0,a=0;for(let c=t;c<n;c++){const u=this.data[c][o];Math.abs(u)>Math.abs(s)&&(a=c,s=u)}if(s===0)i.push(t);else{this.multline(a,1/s),this.swap(a,t);for(let c=0;c<n;c++)c!==t&&this.addmul(c,t,-this.data[c][o])}t++}for(let o=0;o<i.length;o++)if(!this.mirror.hasNullLine(i[o]))throw new Error("singular matrix");return this.mirror.data}}function vq(e){const{a:t,b:n}=e,r=new P0(t,n).gauss();if(r.length>0&&r[0].length===1)for(let i=0;i<r.length;i++)r[i]=r[i][0];return r}function sP(e,t,n,r){const i=n-e,o=r-t;return Math.sqrt(i*i+o*o)}function aP(e,t,n,r,i){for(let o=t?0:2,s=t?e.length-2:0;o<e.length;s=o,o+=2){const a=e[o],c=e[o+1],u=e[s],h=e[s+1],f=a-u,g=c-h,m=f*f+g*g;if(m===0&&sP(r,i,u,h)<=n)return s/2;let y=((r-u)*f+(i-h)*g)/m;if(y=Math.max(0,Math.min(1,y)),sP(r,i,u+y*f,h+y*g)<=n)return s/2}return-1}function yq(e,t,n){let r=!1;for(let i=0,o=e.length-2;i<e.length;o=i,i+=2){const s=e[i],a=e[i+1],c=e[o],u=e[o+1];(a<=n&&n<u||u<=n&&n<a)&&u-a!==0&&t>(c-s)*(n-a)/(u-a)+s&&(r=!r)}return r}const lP="stdlib",Sd={contentUrl:"./content"};function Ps(e){if(e.startsWith("res:")){const t=e.slice(4);return t.startsWith("stdlib/")?`${Sd.contentUrl}/stdlib/res/${t.slice(7)}`:`${Sd.contentUrl}/libs/${t.slice(0,2)}/${t.slice(2,22)}/res/${t.slice(23)}`}return e.startsWith("icon:")?`${Sd.contentUrl}/icons/${e.slice(5)}.png`:e}function bq(e){return e==="stdlib"?`${Sd.contentUrl}/stdlib/index.json`:`${Sd.contentUrl}/libs/${e.slice(0,2)}/${e.slice(2)}/index.json`}function wq(e,t){return`res:${e}/${t}`}function Sq(e){const t=e[0]*(e[4]*e[8]-e[7]*e[5])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]);return[(e[4]*e[8]-e[7]*e[5])/t,(e[2]*e[7]-e[1]*e[8])/t,(e[1]*e[5]-e[2]*e[4])/t,(e[5]*e[6]-e[3]*e[8])/t,(e[0]*e[8]-e[2]*e[6])/t,(e[3]*e[2]-e[0]*e[5])/t,(e[3]*e[7]-e[6]*e[4])/t,(e[6]*e[1]-e[0]*e[7])/t,(e[0]*e[4]-e[3]*e[1])/t]}function Cq(e,t){return t===null?void 0:t}function xq(e){return JSON.stringify(e,Cq)}const _q=/[\/\?<>\\:\*\|"]/g,Eq=/[\x00-\x1f\x80-\x9f]/g,Tq=/^\.+$/,Mq=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,Oq=/[\. ]+$/;function cP(e){return e.replace(_q,"").replace(Eq,"").replace(Tq,"").replace(Mq,"").replace(Oq,"")}class Ya{constructor(t){this.m=new Map,t?.forEach(([n,r])=>this.set(n,r))}set(t,n){const r=this.m.get(t);return r?r.add(n):this.m.set(t,new Set([n])),this}get(t){return this.m.get(t)??null}delete(t){return this.m.delete(t)}forEach(t){return this.m.forEach(t)}[Symbol.iterator](){return this.m.entries()}values(){return this.m.values()}}const Rq=[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","!","∀","#","∃","%","&","∍","(",")","*","+",",","−",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","≅","Α","Β","Χ","Δ","Ε","Φ","Γ","Η","Ι","ϑ","Κ","Λ","Μ","Ν","Ο","Π","Θ","Ρ","Σ","Τ","Υ","ς","Ω","Ξ","Ψ","Ζ","[","∴","]","⊥","_","‾","α","β","χ","δ","ε","φ","γ","η","ι","ϕ","κ","λ","μ","ν","ο","π","θ","ρ","σ","τ","υ","ϖ","ω","ξ","ψ","ζ","{","|","}","~"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","€","ϒ","′","≤","⁄","∞","ƒ","♣","♦","♥","♠","↔","←","↑","→","↓","°","±","″","≥","×","∝","∂","•","÷","≠","≡","≈","…","⏐","⎯","↵","ℵ","ℑ","ℜ","℘","⊗","⊕","∅","∩","∪","⊃","⊇","⊄","⊂","⊆","∈","∉","∠","∇","®","©","™","∏","√","⋅","¬","∧","∨","⇔","⇐","⇑","⇒","⇓","◊","〈","®","©","™","∑","⎛","⎜","⎝","⎡","⎢","⎣","⎧","⎨","⎩","⎪"," ","〉","∫","⌠","⎮","⌡","⎞","⎟","⎠","⎤","⎥","⎦","⎫","⎬","⎭"," "];function D0(e){let t="";for(let n=0;n<e.length;++n){let r=qa.indexOf(e[n]);r===142?r=163:r<0&&(r=0),t+=Rq[r]}return t}class hs extends Map{static freeKey(t,n){let r=n||0;for(;t.has(++r););return r}static freeNegativeKey(t){let n=0;for(;t.has(--n););return n}}function uP(e,t){return e.filter(n=>n!==t)}function Di(e){return e||void 0}function Lp(e){return e.length?e:void 0}function dP(e){return(e&e-1)===0}function Xv(e,t,n){return Math.min(Math.max(e,t),n)}function hP(e,t){e=Math.abs(e)%100;const n=e%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:n===1?t[0]:t[2]}function Iq(e){const t=e.split("."),n=t.length>1?t.pop():"";return{base:t.join("."),ext:n}}function fP(e){return new Array().concat(...e)}function Np(e,t){const n=[];for(const r of e)t(r)&&n.push(r);return n}function*pP(e,t){for(const n of e)yield t(n)}function ns(e,t){const n=[];for(const r of e){const i=t(r);i&&n.push(i)}return n}function kq(e,t){const n=e.length-1,r=[];for(let i=n;i>=0;--i)r.push(t(e[i]));return r}function A0(e){return e*180/Math.PI}function Bp(e){return e*Math.PI/180}function L0(e,t,n){const r=[];let i=!1;for(const o of e)o!==n&&(!i&&r.length===t&&(r.push(n),i=!0),r.push(o));return i||r.push(n),r}function Pq(e){return Math.round(e*1e5)/1e5}function Fp(e,t="no additional info provided"){if(!e)throw new Error("Assertion Error: "+t)}function Cd(e,t){Object.assign(e.style,t)}const N0=document.createElement("a");function B0(e,t){const n=URL.createObjectURL(e);N0.href=n,N0.download=t,N0.click(),setTimeout(()=>URL.revokeObjectURL(n),1e3)}function gP(e){e.target===e.currentTarget&&e.preventDefault()}function F0(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error(`Ошибка загрузки ${e}`)),r.crossOrigin="",r.src=e})}function Gh(e,t){if(window.OffscreenCanvas)return new OffscreenCanvas(e,t);{const n=document.createElement("canvas");return n.width=e,n.height=t,n}}class jp{constructor(t){this.root=t,this.frameId=0,this.isStopped=!0}get isRunning(){return this.frameId!==0}run(t){if(this.isRunning)return;const{root:n}=this,r=i=>{this.isStopped||(this.frameId=t(i)?n.requestAnimationFrame(r):0)};this.isStopped=!1,this.frameId=n.requestAnimationFrame(r)}stop(){this.isRunning&&(this.isStopped=!0,this.root.cancelAnimationFrame(this.frameId),this.frameId=0)}}function Dq(){const e=Date.now(),t=new Uint8Array(2);crypto.getRandomValues(t);const n=t[0]*256+t[1];return e*65536+n}let mP=0;function vP(){return(++mP).toString()}function Zv(){return(++mP).toString()}function Aq(e){try{return JSON.parse(localStorage.getItem(e))}catch{return null}}function Lq(e,t){localStorage.setItem(e,JSON.stringify(t))}function Nq(e){localStorage.removeItem(e)}class gi{constructor(t=!1){this.once=t,this.listeners=new Set}add(t){this.listeners.add(t)}remove(t){this.listeners.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.once&&this.listeners.clear()}}class Bq{constructor(){this.value=null}set(t){this.value=t}}function yP(e,t){if(!t)return"C:\\"+j0(e);const n=t.toUpperCase().split("/"),r=e.split("/"),i=r.map(u=>u.toUpperCase());let o=0;for(;o<n.length&&o<i.length&&i[o]===n[o];++o);const s=Array.from({length:n.length-o},()=>".."),a=Array.from({length:r.length-o},(u,h)=>r[o+h]);return s.concat(a).join("\\")}function j0(e){return e.split("/").join("\\")}function Fq(e,t){navigator.clipboard?navigator.clipboard.writeText(e):prompt(t,e)}function jq(e){const t=yP(e.path,e.lib.vfs.projectRootDir?.path);Fq(t,"Относительный путь")}function Vq(e,t=250){return setTimeout.bind(null,e,t)}function Wh(e,t,n=""){n&&(n="."+n);let r=2,i=t+n;for(;e.getEntry(i);)i=t+" "+r+n,++r;return i}class rs extends Error{}class $q extends rs{constructor(){super("Имя имиджа должно состоять из букв, цифр и подчеркивания")}}function bP(e){if(!/^[_A-ZА-Я][_A-ZА-Я0-9]*$/i.test(e))throw new $q}function wP(e){const t=new Date;return{name:e,id:Dq(),image:{icon:{atlas:"system.dbm",index:0}},date:t.toJSON()}}const zq={cols:0,rows:0,minV:0,minH:0,data:[]},Uq={};async function Hq(e){const t=URL.createObjectURL(e),n=await F0(t),{naturalWidth:r,naturalHeight:i}=n;return URL.revokeObjectURL(t),{width:r,height:i}}function Gq(){return parseInt(new URLSearchParams(location.search).get("p"))}function Wq(e){history.pushState({},"",`./?p=${e}`)}function xd(e,t){return Ap(e.name,t.name)}function SP(e){return`${location.origin+location.pathname}embed/?p=${e.id}&key=${e.accessKey}`}function _d(e){return(Math.round(e*1e5)/1e5).toString()}const Qv=[];async function Kq(e,{width:t,height:n}){const r=Qv.find(({type:s,size:a,name:c,data:{image:u}})=>e.type===s&&e.size===a&&e.name===c&&u.width===t&&u.height===n);if(!r)return null;const i=`${e.name} (${e.type}, ${e.size}б, ${t}x${n}): `;return(await fetch(Ps(r.data.image.src),{method:"HEAD",cache:"no-cache"})).ok?(console.log(i+"взято из кеша"),r.data):(Qv.splice(Qv.indexOf(r)),console.log(i+"нет на сервере, удалено из кеша"),null)}class qq{constructor(t,n){this.client=t,this.lib=n}async upload(t){const n=[],{client:r,lib:i}=this,o=[],s=t.map(async c=>{const u=c.name.split("."),h=u.length>1?u.at(-1).toLowerCase():"";if(h==="cur"||h==="ico"||c.type==="image/x-win-bitmap"||c.type==="image/x-icon"||c.type==="image/vnd.microsoft.icon"){o.push({file:c,mapFn:m=>({cursor:{src:m}})});return}if(c.type.startsWith("image/")){const m=await Hq(c),y=await Kq(c,m);if(y){n.push({data:y,file:c});return}const{width:b,height:v}=m;o.push({file:c,mapFn:S=>({image:{src:S,width:b,height:v}})});return}if(c.type.startsWith("video/")){o.push({file:c,mapFn:m=>({video:{src:m}})});return}if(c.type.startsWith("audio/")){o.push({file:c,mapFn:m=>({audio:{src:m}})});return}if(c.type.startsWith("font/")){o.push({file:c,mapFn:m=>({ttf:{src:m}})});return}const f=await c.arrayBuffer(),g=Kv(new Uint8Array(f));n.push({file:c,data:{base64:g,size:f.byteLength}})});try{await Promise.all(s)}catch(c){if(!(c instanceof Error))throw c;return alert(c.message),[]}if(!o.length)return n;let a;try{a=await r.createLibraryRes(i.id,o.map(c=>c.file))}catch(c){return alert(`Не удалось загрузить файлы: ${c.message}`),[]}return o.forEach(({file:c,mapFn:u},h)=>{const f=a.files[h];if(!f.res)return;const{name:g,size:m}=f.res,y=wq(i.contentDirname,g),b={...u(y),size:m};b.image&&Qv.push({name:c.name,size:c.size,type:c.type,data:b}),n.push({file:c,data:b})}),n}}const Ed=Sd;Ed.localStoragePrefix="editor",Ed.apiUrl="./api",Ed.zoomWithCtrl=!!localStorage.getItem("zoomWithCtrl");var ct=(e=>(e[e.PI=3.1415926536]="PI",e[e.WORD8=0]="WORD8",e[e.INT8=1]="INT8",e[e.WORD16=2]="WORD16",e[e.INT16=3]="INT16",e[e.WORD32=4]="WORD32",e[e.INT32=5]="INT32",e[e.FLOAT32=6]="FLOAT32",e[e.FLOAT40=7]="FLOAT40",e[e.FLOAT64=8]="FLOAT64",e[e.FLOAT80=9]="FLOAT80",e[e.PEN2D=1]="PEN2D",e[e.BRUSH2D=2]="BRUSH2D",e[e.DIB2D=3]="DIB2D",e[e.DOUBLEDIB2D=4]="DOUBLEDIB2D",e[e.FONT2D=5]="FONT2D",e[e.STRING2D=6]="STRING2D",e[e.TEXT2D=7]="TEXT2D",e[e.SPACE3D=8]="SPACE3D",e[e.TEXTURE3D=9]="TEXTURE3D",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_CLOSE=16]="WM_CLOSE",e[e.WM_GETMINMAXINFO=36]="WM_GETMINMAXINFO",e[e.WM_COMMAND=273]="WM_COMMAND",e[e.WM_MOUSEMOVE=512]="WM_MOUSEMOVE",e[e.WM_LBUTTONDOWN=513]="WM_LBUTTONDOWN",e[e.WM_LBUTTONUP=514]="WM_LBUTTONUP",e[e.WM_LBUTTONDBLCLK=515]="WM_LBUTTONDBLCLK",e[e.WM_RBUTTONDOWN=516]="WM_RBUTTONDOWN",e[e.WM_RBUTTONUP=517]="WM_RBUTTONUP",e[e.WM_RBUTTONDBLCLK=518]="WM_RBUTTONDBLCLK",e[e.WM_MBUTTONDOWN=519]="WM_MBUTTONDOWN",e[e.WM_MBUTTONUP=520]="WM_MBUTTONUP",e[e.WM_MBUTTONDBLCLK=521]="WM_MBUTTONDBLCLK",e[e.WM_ALLMOUSEMESSAGE=1536]="WM_ALLMOUSEMESSAGE",e[e.WM_ALLKEYMESSAGE=1537]="WM_ALLKEYMESSAGE",e[e.WM_KEYDOWN=256]="WM_KEYDOWN",e[e.WM_KEYUP=257]="WM_KEYUP",e[e.WM_CANCLOSE=1538]="WM_CANCLOSE",e[e.WM_SPACEDONE=1539]="WM_SPACEDONE",e[e.WM_SPACEINIT=1540]="WM_SPACEINIT",e[e.WM_CONTROLNOTIFY=1544]="WM_CONTROLNOTIFY",e[e.WM_HYPERJUMP=1546]="WM_HYPERJUMP",e[e.SIZE_RESTORED=0]="SIZE_RESTORED",e[e.SIZE_MINIMIZED=1]="SIZE_MINIMIZED",e[e.SIZE_MAXIMIZED=2]="SIZE_MAXIMIZED",e[e.SIZE_MAXSHOW=3]="SIZE_MAXSHOW",e[e.SIZE_MAXHIDE=4]="SIZE_MAXHIDE",e[e.OTGROUP2D=3]="OTGROUP2D",e[e.OTRGROUP2D=4]="OTRGROUP2D",e[e.OTGROUP3D=5]="OTGROUP3D",e[e.OTOBJECT3D=10]="OTOBJECT3D",e[e.OTLINE_2D=20]="OTLINE_2D",e[e.OTBITMAP_2D=21]="OTBITMAP_2D",e[e.OTDOUBLEBITMAP_2D=22]="OTDOUBLEBITMAP_2D",e[e.OTTEXT_2D=23]="OTTEXT_2D",e[e.OTVIEW3D_2D=24]="OTVIEW3D_2D",e[e.OTEDITFRAME=50]="OTEDITFRAME",e[e.OTROTATECENTER=51]="OTROTATECENTER",e[e.OTFRAME3D=52]="OTFRAME3D",e[e.OTAXIS3D=53]="OTAXIS3D",e[e.OTPEN2D=101]="OTPEN2D",e[e.OTBRUSH2D=102]="OTBRUSH2D",e[e.OTDIB2D=103]="OTDIB2D",e[e.OTDOUBLEDIB2D=104]="OTDOUBLEDIB2D",e[e.OTFONT2D=105]="OTFONT2D",e[e.OTSTRING2D=106]="OTSTRING2D",e[e.OTTEXT2D=107]="OTTEXT2D",e[e.OTREFTODIB2D=110]="OTREFTODIB2D",e[e.OTREFTODOUBLEDIB2D=111]="OTREFTODOUBLEDIB2D",e[e.ATTRSET=1]="ATTRSET",e[e.ATTRRESET=2]="ATTRRESET",e[e.ATTRPUT=3]="ATTRPUT",e[e.PFC_MOVEOBJECT=32768]="PFC_MOVEOBJECT",e[e.PFC_SETCURRENT=16384]="PFC_SETCURRENT",e[e.PFC_SETFRAME=8192]="PFC_SETFRAME",e[e.PFC_PENS=1]="PFC_PENS",e[e.PFC_BRUHS=2]="PFC_BRUHS",e[e.PFC_DIBS=4]="PFC_DIBS",e[e.PFC_DDIBS=8]="PFC_DDIBS",e[e.PFC_STRINGS=16]="PFC_STRINGS",e[e.PFC_FONTS=32]="PFC_FONTS",e[e.PFC_TEXTS=64]="PFC_TEXTS",e[e.PFC_3D=128]="PFC_3D",e[e.PFC_ALL=255]="PFC_ALL",e[e.OID_RESERVED=32e3]="OID_RESERVED",e[e.OID_RCENTER=32001]="OID_RCENTER",e[e.OID_FRAME2D1=32002]="OID_FRAME2D1",e[e.OID_FRAME2D2=32003]="OID_FRAME2D2",e[e.OID_FRAME2D3=32004]="OID_FRAME2D3",e[e.OID_FRAME2D4=32005]="OID_FRAME2D4",e[e.OID_FRAME2D5=32006]="OID_FRAME2D5",e[e.OID_FRAME2D6=32007]="OID_FRAME2D6",e[e.OID_FRAME2D7=32008]="OID_FRAME2D7",e[e.OID_FRAME2D8=32009]="OID_FRAME2D8",e[e.OID_FRAME2D=32010]="OID_FRAME2D",e[e.OID_AXIS3D=32100]="OID_AXIS3D",e[e.OID_FRAME3D1=32102]="OID_FRAME3D1",e[e.OID_FRAME3D2=32103]="OID_FRAME3D2",e[e.OID_FRAME3D3=32104]="OID_FRAME3D3",e[e.OID_FRAME3D4=32105]="OID_FRAME3D4",e[e.OID_FRAME3D5=32106]="OID_FRAME3D5",e[e.OID_FRAME3D6=32107]="OID_FRAME3D6",e[e.OID_FRAME3D7=32108]="OID_FRAME3D7",e[e.OID_FRAME3D8=32109]="OID_FRAME3D8",e[e.OID_FRAME3D=32110]="OID_FRAME3D",e[e.MB_OK=0]="MB_OK",e[e.MB_OKCANCEL=1]="MB_OKCANCEL",e[e.MB_ABORTRETRYIGNORE=2]="MB_ABORTRETRYIGNORE",e[e.MB_YESNOCANCEL=3]="MB_YESNOCANCEL",e[e.MB_YESNO=4]="MB_YESNO",e[e.MB_RETRYCANCEL=5]="MB_RETRYCANCEL",e[e.MB_TYPEMASK=15]="MB_TYPEMASK",e[e.MB_ICONHAND=16]="MB_ICONHAND",e[e.MB_ICONQUESTION=32]="MB_ICONQUESTION",e[e.MB_ICONEXCLAMATION=48]="MB_ICONEXCLAMATION",e[e.MB_ICONASTERISK=64]="MB_ICONASTERISK",e[e.MB_ICONMASK=240]="MB_ICONMASK",e[e.MB_ICONINFORMATION=64]="MB_ICONINFORMATION",e[e.MB_ICONSTOP=16]="MB_ICONSTOP",e[e.MB_DEFBUTTON1=0]="MB_DEFBUTTON1",e[e.MB_DEFBUTTON2=256]="MB_DEFBUTTON2",e[e.MB_DEFBUTTON3=512]="MB_DEFBUTTON3",e[e.MB_DEFMASK=3840]="MB_DEFMASK",e[e.MB_APPLMODAL=0]="MB_APPLMODAL",e[e.MB_SYSTEMMODAL=4096]="MB_SYSTEMMODAL",e[e.MB_TASKMODAL=8192]="MB_TASKMODAL",e[e.MB_NOFOCUS=32768]="MB_NOFOCUS",e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWNORMAL=1]="SW_SHOWNORMAL",e[e.SW_NORMAL=1]="SW_NORMAL",e[e.SW_SHOWMINIMIZED=2]="SW_SHOWMINIMIZED",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_MAXIMIZE=3]="SW_MAXIMIZE",e[e.SW_SHOWNOACTIVATE=4]="SW_SHOWNOACTIVATE",e[e.SW_SHOW=5]="SW_SHOW",e[e.SW_MINIMIZE=6]="SW_MINIMIZE",e[e.SW_SHOWMINNOACTIVE=7]="SW_SHOWMINNOACTIVE",e[e.SW_SHOWNA=8]="SW_SHOWNA",e[e.SW_RESTORE=9]="SW_RESTORE",e[e.MCIERR_INVALID_DEVICE_ID=257]="MCIERR_INVALID_DEVICE_ID",e[e.MCIERR_UNRECOGNIZED_KEYWORD=259]="MCIERR_UNRECOGNIZED_KEYWORD",e[e.MCIERR_UNRECOGNIZED_COMMAND=261]="MCIERR_UNRECOGNIZED_COMMAND",e[e.MCIERR_HARDWARE=262]="MCIERR_HARDWARE",e[e.MCIERR_INVALID_DEVICE_NAME=263]="MCIERR_INVALID_DEVICE_NAME",e[e.MCIERR_OUT_OF_MEMORY=264]="MCIERR_OUT_OF_MEMORY",e[e.MCIERR_DEVICE_OPEN=265]="MCIERR_DEVICE_OPEN",e[e.MCIERR_CANNOT_LOAD_DRIVER=266]="MCIERR_CANNOT_LOAD_DRIVER",e[e.MCIERR_MISSING_COMMAND_STRING=267]="MCIERR_MISSING_COMMAND_STRING",e[e.MCIERR_PARAM_OVERFLOW=268]="MCIERR_PARAM_OVERFLOW",e[e.MCIERR_MISSING_STRING_ARGUMENT=269]="MCIERR_MISSING_STRING_ARGUMENT",e[e.MCIERR_BAD_INTEGER=270]="MCIERR_BAD_INTEGER",e[e.MCIERR_PARSER_INTERNAL=271]="MCIERR_PARSER_INTERNAL",e[e.MCIERR_DRIVER_INTERNAL=272]="MCIERR_DRIVER_INTERNAL",e[e.MCIERR_MISSING_PARAMETER=273]="MCIERR_MISSING_PARAMETER",e[e.MCIERR_UNSUPPORTED_FUNCTION=274]="MCIERR_UNSUPPORTED_FUNCTION",e[e.MCIERR_FILE_NOT_FOUND=275]="MCIERR_FILE_NOT_FOUND",e[e.MCIERR_DEVICE_NOT_READY=276]="MCIERR_DEVICE_NOT_READY",e[e.MCIERR_INTERNAL=277]="MCIERR_INTERNAL",e[e.MCIERR_DRIVER=278]="MCIERR_DRIVER",e[e.MCIERR_CANNOT_USE_ALL=279]="MCIERR_CANNOT_USE_ALL",e[e.MCIERR_MULTIPLE=280]="MCIERR_MULTIPLE",e[e.MCIERR_EXTENSION_NOT_FOUND=281]="MCIERR_EXTENSION_NOT_FOUND",e[e.MCIERR_OUTOFRANGE=282]="MCIERR_OUTOFRANGE",e[e.MCIERR_FLAGS_NOT_COMPATIBLE=284]="MCIERR_FLAGS_NOT_COMPATIBLE",e[e.MCIERR_FILE_NOT_SAVED=286]="MCIERR_FILE_NOT_SAVED",e[e.MCIERR_DEVICE_TYPE_REQUIRED=287]="MCIERR_DEVICE_TYPE_REQUIRED",e[e.MCIERR_DEVICE_LOCKED=288]="MCIERR_DEVICE_LOCKED",e[e.MCIERR_DUPLICATE_ALIAS=289]="MCIERR_DUPLICATE_ALIAS",e[e.MCIERR_BAD_CONSTANT=290]="MCIERR_BAD_CONSTANT",e[e.MCIERR_MUST_USE_SHAREABLE=291]="MCIERR_MUST_USE_SHAREABLE",e[e.MCIERR_MISSING_DEVICE_NAME=292]="MCIERR_MISSING_DEVICE_NAME",e[e.MCIERR_BAD_TIME_FORMAT=293]="MCIERR_BAD_TIME_FORMAT",e[e.MCIERR_NO_CLOSING_QUOTE=294]="MCIERR_NO_CLOSING_QUOTE",e[e.MCIERR_DUPLICATE_FLAGS=295]="MCIERR_DUPLICATE_FLAGS",e[e.MCIERR_INVALID_FILE=296]="MCIERR_INVALID_FILE",e[e.MCIERR_NULL_PARAMETER_BLOCK=297]="MCIERR_NULL_PARAMETER_BLOCK",e[e.MCIERR_UNNAMED_RESOURCE=298]="MCIERR_UNNAMED_RESOURCE",e[e.MCIERR_NEW_REQUIRES_ALIAS=299]="MCIERR_NEW_REQUIRES_ALIAS",e[e.MCIERR_NOTIFY_ON_AUTO_OPEN=300]="MCIERR_NOTIFY_ON_AUTO_OPEN",e[e.MCIERR_NO_ELEMENT_ALLOWED=301]="MCIERR_NO_ELEMENT_ALLOWED",e[e.MCIERR_NONAPPLICABLE_FUNCTION=302]="MCIERR_NONAPPLICABLE_FUNCTION",e[e.MCIERR_ILLEGAL_FOR_AUTO_OPEN=303]="MCIERR_ILLEGAL_FOR_AUTO_OPEN",e[e.MCIERR_FILENAME_REQUIRED=304]="MCIERR_FILENAME_REQUIRED",e[e.MCIERR_EXTRA_CHARACTERS=305]="MCIERR_EXTRA_CHARACTERS",e[e.MCIERR_DEVICE_NOT_INSTALLED=306]="MCIERR_DEVICE_NOT_INSTALLED",e[e.MCIERR_GET_CD=307]="MCIERR_GET_CD",e[e.MCIERR_SET_CD=308]="MCIERR_SET_CD",e[e.MCIERR_SET_DRIVE=309]="MCIERR_SET_DRIVE",e[e.MCIERR_DEVICE_LENGTH=310]="MCIERR_DEVICE_LENGTH",e[e.MCIERR_DEVICE_ORD_LENGTH=311]="MCIERR_DEVICE_ORD_LENGTH",e[e.MCIERR_NO_INTEGER=312]="MCIERR_NO_INTEGER",e[e.MCIERR_WAVE_OUTPUTSINUSE=320]="MCIERR_WAVE_OUTPUTSINUSE",e[e.MCIERR_WAVE_SETOUTPUTINUSE=321]="MCIERR_WAVE_SETOUTPUTINUSE",e[e.MCIERR_WAVE_INPUTSINUSE=322]="MCIERR_WAVE_INPUTSINUSE",e[e.MCIERR_WAVE_SETINPUTINUSE=323]="MCIERR_WAVE_SETINPUTINUSE",e[e.MCIERR_WAVE_OUTPUTUNSPECIFIED=324]="MCIERR_WAVE_OUTPUTUNSPECIFIED",e[e.MCIERR_WAVE_INPUTUNSPECIFIED=325]="MCIERR_WAVE_INPUTUNSPECIFIED",e[e.MCIERR_WAVE_OUTPUTSUNSUITABLE=326]="MCIERR_WAVE_OUTPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETOUTPUTUNSUITABLE=327]="MCIERR_WAVE_SETOUTPUTUNSUITABLE",e[e.MCIERR_WAVE_INPUTSUNSUITABLE=328]="MCIERR_WAVE_INPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETINPUTUNSUITABLE=329]="MCIERR_WAVE_SETINPUTUNSUITABLE",e[e.MCIERR_SEQ_DIV_INCOMPATIBLE=336]="MCIERR_SEQ_DIV_INCOMPATIBLE",e[e.MCIERR_SEQ_PORT_INUSE=337]="MCIERR_SEQ_PORT_INUSE",e[e.MCIERR_SEQ_PORT_NONEXISTENT=338]="MCIERR_SEQ_PORT_NONEXISTENT",e[e.MCIERR_SEQ_PORT_MAPNODEVICE=339]="MCIERR_SEQ_PORT_MAPNODEVICE",e[e.MCIERR_SEQ_PORT_MISCERROR=340]="MCIERR_SEQ_PORT_MISCERROR",e[e.MCIERR_SEQ_TIMER=341]="MCIERR_SEQ_TIMER",e[e.MCIERR_SEQ_PORTUNSPECIFIED=342]="MCIERR_SEQ_PORTUNSPECIFIED",e[e.MCIERR_SEQ_NOMIDIPRESENT=343]="MCIERR_SEQ_NOMIDIPRESENT",e[e.MCIERR_NO_WINDOW=346]="MCIERR_NO_WINDOW",e[e.MCIERR_CREATEWINDOW=347]="MCIERR_CREATEWINDOW",e[e.MCIERR_FILE_READ=348]="MCIERR_FILE_READ",e[e.MCIERR_FILE_WRITE=349]="MCIERR_FILE_WRITE",e[e.WS_VISIBLE=268435456]="WS_VISIBLE",e[e.WS_DISABLED=134217728]="WS_DISABLED",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_DLGFRAME=4194304]="WS_DLGFRAME",e[e.WS_VSCROLL=2097152]="WS_VSCROLL",e[e.WS_HSCROLL=1048576]="WS_HSCROLL",e[e.WS_SYSMENU=524288]="WS_SYSMENU",e[e.WS_THICKFRAME=262144]="WS_THICKFRAME",e[e.WS_MINIMIZEBOX=131072]="WS_MINIMIZEBOX",e[e.WS_MAXIMIZEBOX=65536]="WS_MAXIMIZEBOX",e[e.WS_GROUP=131072]="WS_GROUP",e[e.WS_TABSTOP=65536]="WS_TABSTOP",e[e.WS_OVERLAPPED=0]="WS_OVERLAPPED",e[e.WS_POPUP=2147483648]="WS_POPUP",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.IDX_PRIMARY=1]="IDX_PRIMARY",e[e.IDX_UNIQUE=2]="IDX_UNIQUE",e[e.IDX_DESCENDING=4]="IDX_DESCENDING",e[e.IDX_MAINTAINED=8]="IDX_MAINTAINED",e[e.IDX_SUBSET=16]="IDX_SUBSET",e[e.IDX_EXPR=32]="IDX_EXPR",e[e.IDX_IDXOOD=64]="IDX_IDXOOD",e[e.IDX_CASEINSENS=128]="IDX_CASEINSENS",e[e.FLDDBCHAR=513]="FLDDBCHAR",e[e.FLDDBNUM=514]="FLDDBNUM",e[e.FLDDBMEMO=515]="FLDDBMEMO",e[e.FLDDBBOOL=516]="FLDDBBOOL",e[e.FLDDBDATE=517]="FLDDBDATE",e[e.FLDDBFLOAT=518]="FLDDBFLOAT",e[e.FLDDBLOCK=519]="FLDDBLOCK",e[e.FLDDBOLEBLOB=520]="FLDDBOLEBLOB",e[e.FLDDBBINARY=521]="FLDDBBINARY",e[e.FLDDBBYTES=522]="FLDDBBYTES",e[e.BS_PUSHBUTTON=0]="BS_PUSHBUTTON",e[e.BS_DEFPUSHBUTTON=1]="BS_DEFPUSHBUTTON",e[e.BS_CHECKBOX=2]="BS_CHECKBOX",e[e.BS_AUTOCHECKBOX=3]="BS_AUTOCHECKBOX",e[e.BS_RADIOBUTTON=4]="BS_RADIOBUTTON",e[e.BS_3STATE=5]="BS_3STATE",e[e.BS_AUTO3STATE=6]="BS_AUTO3STATE",e[e.BS_GROUPBOX=7]="BS_GROUPBOX",e[e.BS_USERBUTTON=8]="BS_USERBUTTON",e[e.BS_AUTORADIOBUTTON=9]="BS_AUTORADIOBUTTON",e[e.BS_OWNERDRAW=11]="BS_OWNERDRAW",e[e.BS_LEFTTEXT=32]="BS_LEFTTEXT",e[e.ES_LEFT=0]="ES_LEFT",e[e.ES_CENTER=1]="ES_CENTER",e[e.ES_RIGHT=2]="ES_RIGHT",e[e.ES_MULTILINE=4]="ES_MULTILINE",e[e.ES_UPPERCASE=8]="ES_UPPERCASE",e[e.ES_LOWERCASE=16]="ES_LOWERCASE",e[e.ES_PASSWORD=32]="ES_PASSWORD",e[e.ES_AUTOVSCROLL=64]="ES_AUTOVSCROLL",e[e.ES_AUTOHSCROLL=128]="ES_AUTOHSCROLL",e[e.ES_NOHIDESEL=256]="ES_NOHIDESEL",e[e.SBS_HORZ=0]="SBS_HORZ",e[e.SBS_VERT=1]="SBS_VERT",e[e.SBS_TOPALIGN=2]="SBS_TOPALIGN",e[e.SBS_LEFTALIGN=2]="SBS_LEFTALIGN",e[e.SBS_BOTTOMALIGN=4]="SBS_BOTTOMALIGN",e[e.SBS_RIGHTALIGN=4]="SBS_RIGHTALIGN",e[e.SBS_SIZEBOXTOPLEFTALIGN=2]="SBS_SIZEBOXTOPLEFTALIGN",e[e.SBS_SIZEBOXBOTTOMRIGHTALIGN=4]="SBS_SIZEBOXBOTTOMRIGHTALIGN",e[e.SBS_SIZEBOX=8]="SBS_SIZEBOX",e[e.LBS_NOTIFY=1]="LBS_NOTIFY",e[e.LBS_SORT=2]="LBS_SORT",e[e.LBS_NOREDRAW=4]="LBS_NOREDRAW",e[e.LBS_MULTIPLESEL=8]="LBS_MULTIPLESEL",e[e.LBS_OWNERDRAWFIXED=16]="LBS_OWNERDRAWFIXED",e[e.LBS_OWNERDRAWVARIABLE=32]="LBS_OWNERDRAWVARIABLE",e[e.LBS_HASSTRINGS=64]="LBS_HASSTRINGS",e[e.LBS_USETABSTOPS=128]="LBS_USETABSTOPS",e[e.LBS_NOINTEGRALHEIGHT=256]="LBS_NOINTEGRALHEIGHT",e[e.LBS_MULTICOLUMN=512]="LBS_MULTICOLUMN",e[e.LBS_WANTKEYBOARDINPUT=1024]="LBS_WANTKEYBOARDINPUT",e[e.LBS_EXTENDEDSEL=2048]="LBS_EXTENDEDSEL",e[e.CBS_SIMPLE=1]="CBS_SIMPLE",e[e.CBS_DROPDOWN=2]="CBS_DROPDOWN",e[e.CBS_DROPDOWNLIST=3]="CBS_DROPDOWNLIST",e[e.CBS_OWNERDRAWFIXED=16]="CBS_OWNERDRAWFIXED",e[e.CBS_OWNERDRAWVARIABLE=32]="CBS_OWNERDRAWVARIABLE",e[e.CBS_AUTOHSCROLL=64]="CBS_AUTOHSCROLL",e[e.CBS_OEMCONVERT=128]="CBS_OEMCONVERT",e[e.CBS_SORT=256]="CBS_SORT",e[e.CBS_HASSTRINGS=512]="CBS_HASSTRINGS",e[e.CBS_NOINTEGRALHEIGHT=1024]="CBS_NOINTEGRALHEIGHT",e[e.BS_SOLID=0]="BS_SOLID",e[e.BS_NULL=1]="BS_NULL",e[e.BS_HATCHED=2]="BS_HATCHED",e[e.BS_PATTERN=3]="BS_PATTERN",e[e.BS_GRADIENT_LINEAR=10]="BS_GRADIENT_LINEAR",e[e.HS_HORIZONTAL=0]="HS_HORIZONTAL",e[e.HS_VERTICAL=1]="HS_VERTICAL",e[e.HS_FDIAGONAL=2]="HS_FDIAGONAL",e[e.HS_BDIAGONAL=3]="HS_BDIAGONAL",e[e.HS_CROSS=4]="HS_CROSS",e[e.HS_DIAGCROSS=5]="HS_DIAGCROSS",e[e.PS_SOLID=0]="PS_SOLID",e[e.PS_DASH=1]="PS_DASH",e[e.PS_DOT=2]="PS_DOT",e[e.PS_DASHDOT=3]="PS_DASHDOT",e[e.PS_DASHDOTDOT=4]="PS_DASHDOTDOT",e[e.PS_NULL=5]="PS_NULL",e[e.PS_INSIDEFRAME=6]="PS_INSIDEFRAME",e[e.R2_BLACK=1]="R2_BLACK",e[e.R2_NOTMERGEPEN=2]="R2_NOTMERGEPEN",e[e.R2_MASKNOTPEN=3]="R2_MASKNOTPEN",e[e.R2_NOTCOPYPEN=4]="R2_NOTCOPYPEN",e[e.R2_MASKPENNOT=5]="R2_MASKPENNOT",e[e.R2_NOT=6]="R2_NOT",e[e.R2_XORPEN=7]="R2_XORPEN",e[e.R2_NOTMASKPEN=8]="R2_NOTMASKPEN",e[e.R2_MASKPEN=9]="R2_MASKPEN",e[e.R2_NOTXORPEN=10]="R2_NOTXORPEN",e[e.R2_NOP=11]="R2_NOP",e[e.R2_MERGENOTPEN=12]="R2_MERGENOTPEN",e[e.R2_COPYPEN=13]="R2_COPYPEN",e[e.R2_MERGEPENNOT=14]="R2_MERGEPENNOT",e[e.R2_MERGEPEN=15]="R2_MERGEPEN",e[e.R2_WHITE=16]="R2_WHITE",e[e.FILE_ATTRIBUTE_ARCHIVE=32]="FILE_ATTRIBUTE_ARCHIVE",e[e.FILE_ATTRIBUTE_COMPRESSED=2048]="FILE_ATTRIBUTE_COMPRESSED",e[e.FILE_ATTRIBUTE_DIRECTORY=16]="FILE_ATTRIBUTE_DIRECTORY",e[e.FILE_ATTRIBUTE_HIDDEN=2]="FILE_ATTRIBUTE_HIDDEN",e[e.FILE_ATTRIBUTE_NORMAL=128]="FILE_ATTRIBUTE_NORMAL",e[e.FILE_ATTRIBUTE_OFFLINE=4096]="FILE_ATTRIBUTE_OFFLINE",e[e.FILE_ATTRIBUTE_READONLY=1]="FILE_ATTRIBUTE_READONLY",e[e.FILE_ATTRIBUTE_SYSTEM=4]="FILE_ATTRIBUTE_SYSTEM",e[e.FILE_ATTRIBUTE_TEMPORARY=256]="FILE_ATTRIBUTE_TEMPORARY",e[e.VF_LOCAL=2]="VF_LOCAL",e[e.VF_EQVAR=256]="VF_EQVAR",e[e.VF_ARGUMENT=512]="VF_ARGUMENT",e[e.VF_RETURN=1024]="VF_RETURN",e[e.CUR_ARROW=0]="CUR_ARROW",e[e.CUR_CROSS=1]="CUR_CROSS",e[e.CUR_TEXT=2]="CUR_TEXT",e[e.CUR_NO=3]="CUR_NO",e[e.CUR_SIZE=4]="CUR_SIZE",e[e.CUR_SIZENESW=5]="CUR_SIZENESW",e[e.CUR_SIZENS=6]="CUR_SIZENS",e[e.CUR_SIZENWSE=7]="CUR_SIZENWSE",e[e.CUR_SIZEWE=8]="CUR_SIZEWE",e[e.CUR_UPARROW=9]="CUR_UPARROW",e[e.CUR_WAIT=10]="CUR_WAIT",e[e.CUR_LINK=11]="CUR_LINK",e[e.CUR_HELP=12]="CUR_HELP",e[e.SHADOWTYPE_STENCIL_MODULATIVE=18]="SHADOWTYPE_STENCIL_MODULATIVE",e[e.SHADOWTYPE_STENCIL_ADDITIVE=17]="SHADOWTYPE_STENCIL_ADDITIVE",e[e.SHADOWTYPE_TEXTURE_MODULATIVE=34]="SHADOWTYPE_TEXTURE_MODULATIVE",e[e.SHADOWTYPE_TEXTURE_ADDITIVE=33]="SHADOWTYPE_TEXTURE_ADDITIVE",e[e.FOG_NONE=0]="FOG_NONE",e[e.FOG_EXP=1]="FOG_EXP",e[e.FOG_EXP2=2]="FOG_EXP2",e[e.FOG_LINEAR=3]="FOG_LINEAR",e[e.TEX_TYPE_1D=1]="TEX_TYPE_1D",e[e.TEX_TYPE_2D=2]="TEX_TYPE_2D",e[e.TEX_TYPE_3D=3]="TEX_TYPE_3D",e[e.TEX_TYPE_CUBE_MAP=4]="TEX_TYPE_CUBE_MAP",e[e.SBF_ONE=0]="SBF_ONE",e[e.SBF_ZERO=1]="SBF_ZERO",e[e.SBF_DEST_COLOUR=2]="SBF_DEST_COLOUR",e[e.SBF_SOURCE_COLOUR=3]="SBF_SOURCE_COLOUR",e[e.SBF_ONE_MINUS_DEST_COLOUR=4]="SBF_ONE_MINUS_DEST_COLOUR",e[e.SBF_ONE_MINUS_SOURCE_COLOUR=5]="SBF_ONE_MINUS_SOURCE_COLOUR",e[e.SBF_DEST_ALPHA=6]="SBF_DEST_ALPHA",e[e.SBF_SOURCE_ALPHA=7]="SBF_SOURCE_ALPHA",e[e.SBF_ONE_MINUS_DEST_ALPHA=8]="SBF_ONE_MINUS_DEST_ALPHA",e[e.SBF_ONE_MINUS_SOURCE_ALPHA=9]="SBF_ONE_MINUS_SOURCE_ALPHA",e[e.CMPF_ALWAYS_FAIL=0]="CMPF_ALWAYS_FAIL",e[e.CMPF_ALWAYS_PASS=1]="CMPF_ALWAYS_PASS",e[e.CMPF_LESS=2]="CMPF_LESS",e[e.CMPF_LESS_EQUAL=3]="CMPF_LESS_EQUAL",e[e.CMPF_EQUAL=4]="CMPF_EQUAL",e[e.CMPF_NOT_EQUAL=5]="CMPF_NOT_EQUAL",e[e.CMPF_GREATER_EQUAL=6]="CMPF_GREATER_EQUAL",e[e.CMPF_GREATER=7]="CMPF_GREATER",e[e.CULL_NONE=1]="CULL_NONE",e[e.CULL_CLOCKWISE=2]="CULL_CLOCKWISE",e[e.CULL_ANTICLOCKWISE=3]="CULL_ANTICLOCKWISE",e[e.SO_FLAT=0]="SO_FLAT",e[e.SO_GOURAUD=1]="SO_GOURAUD",e[e.SO_PHONG=2]="SO_PHONG",e[e.PM_POINTS=1]="PM_POINTS",e[e.PM_WIREFRAME=2]="PM_WIREFRAME",e[e.PM_SOLID=3]="PM_SOLID",e[e.LT_POINT=0]="LT_POINT",e[e.LT_DIRECTIONAL=1]="LT_DIRECTIONAL",e[e.LT_SPOTLIGHT=2]="LT_SPOTLIGHT",e[e.PT_ORTHOGRAPHIC=0]="PT_ORTHOGRAPHIC",e[e.PT_PERSPECTIVE=1]="PT_PERSPECTIVE",e[e.OT_POINT_LIST=1]="OT_POINT_LIST",e[e.OT_LINE_LIST=2]="OT_LINE_LIST",e[e.OT_LINE_STRIP=3]="OT_LINE_STRIP",e[e.OT_TRIANGLE_LIST=4]="OT_TRIANGLE_LIST",e[e.OT_TRIANGLE_STRIP=5]="OT_TRIANGLE_STRIP",e[e.OT_TRIANGLE_FAN=6]="OT_TRIANGLE_FAN",e[e.BBT_POINT=0]="BBT_POINT",e[e.BBT_ORIENTED_COMMON=1]="BBT_ORIENTED_COMMON",e[e.BBT_ORIENTED_SELF=2]="BBT_ORIENTED_SELF",e[e.BBT_PERPENDICULAR_COMMON=3]="BBT_PERPENDICULAR_COMMON",e[e.BBT_PERPENDICULAR_SELF=4]="BBT_PERPENDICULAR_SELF",e[e.GMM_RELATIVE=0]="GMM_RELATIVE",e[e.GMM_PIXELS=1]="GMM_PIXELS",e[e.GMM_RELATIVE_ASPECT_ADJUSTED=2]="GMM_RELATIVE_ASPECT_ADJUSTED",e[e.GHA_LEFT=0]="GHA_LEFT",e[e.GHA_CENTER=1]="GHA_CENTER",e[e.GHA_RIGHT=2]="GHA_RIGHT",e[e.GVA_TOP=0]="GVA_TOP",e[e.GVA_CENTER=1]="GVA_CENTER",e[e.GVA_BOTTOM=2]="GVA_BOTTOM",e[e.MTHA_LEFT=0]="MTHA_LEFT",e[e.MTHA_CENTER=1]="MTHA_CENTER",e[e.MTVA_BELOW=0]="MTVA_BELOW",e[e.MTVA_ABOVE=1]="MTVA_ABOVE",e[e.MTVA_CENTER=2]="MTVA_CENTER",e[e.PT_BOOL=0]="PT_BOOL",e[e.PT_REAL=1]="PT_REAL",e[e.PT_INT=2]="PT_INT",e[e.PT_UNSIGNED_INT=3]="PT_UNSIGNED_INT",e[e.PT_SHORT=4]="PT_SHORT",e[e.PT_UNSIGNED_SHORT=5]="PT_UNSIGNED_SHORT",e[e.PT_LONG=6]="PT_LONG",e[e.PT_UNSIGNED_LONG=7]="PT_UNSIGNED_LONG",e[e.PT_STRING=8]="PT_STRING",e[e.PT_VECTOR3=9]="PT_VECTOR3",e[e.PT_MATRIX3=10]="PT_MATRIX3",e[e.PT_MATRIX4=11]="PT_MATRIX4",e[e.PT_QUATERNION=12]="PT_QUATERNION",e[e.PT_COLOURVALUE=13]="PT_COLOURVALUE",e[e.NUI_SP_HIP_CENTER=0]="NUI_SP_HIP_CENTER",e[e.NUI_SP_SPINE=1]="NUI_SP_SPINE",e[e.NUI_SP_SHOULDER_CENTER=2]="NUI_SP_SHOULDER_CENTER",e[e.NUI_SP_HEAD=3]="NUI_SP_HEAD",e[e.NUI_SP_SHOULDER_LEFT=4]="NUI_SP_SHOULDER_LEFT",e[e.NUI_SP_ELBOW_LEFT=5]="NUI_SP_ELBOW_LEFT",e[e.NUI_SP_WRIST_LEFT=6]="NUI_SP_WRIST_LEFT",e[e.NUI_SP_HAND_LEFT=7]="NUI_SP_HAND_LEFT",e[e.NUI_SP_SHOULDER_RIGHT=8]="NUI_SP_SHOULDER_RIGHT",e[e.NUI_SP_ELBOW_RIGHT=9]="NUI_SP_ELBOW_RIGHT",e[e.NUI_SP_WRIST_RIGHT=10]="NUI_SP_WRIST_RIGHT",e[e.NUI_SP_HAND_RIGHT=11]="NUI_SP_HAND_RIGHT",e[e.NUI_SP_HIP_LEFT=12]="NUI_SP_HIP_LEFT",e[e.NUI_SP_KNEE_LEFT=13]="NUI_SP_KNEE_LEFT",e[e.NUI_SP_ANKLE_LEFT=14]="NUI_SP_ANKLE_LEFT",e[e.NUI_SP_FOOT_LEFT=15]="NUI_SP_FOOT_LEFT",e[e.NUI_SP_HIP_RIGHT=16]="NUI_SP_HIP_RIGHT",e[e.NUI_SP_KNEE_RIGHT=17]="NUI_SP_KNEE_RIGHT",e[e.NUI_SP_ANKLE_RIGHT=18]="NUI_SP_ANKLE_RIGHT",e[e.NUI_SP_FOOT_RIGHT=19]="NUI_SP_FOOT_RIGHT",e[e.NUI_SP_COUNT=20]="NUI_SP_COUNT",e[e.WEB_DIALOG_OPEN=100]="WEB_DIALOG_OPEN",e))(ct||{});const V0=258;var kt=(e=>(e[e.FLOAT=1]="FLOAT",e[e.STRING=2]="STRING",e[e.HANDLE=3]="HANDLE",e[e.COLORREF=4]="COLORREF",e))(kt||{});const Jv=1,CP="2.0",ey=0,$0=1,z0=2,xP=3,ty=4,U0="CM_CLEARALL",H0="CM_PREVPAGE",Cl=8;var pc=(e=>(e[e.FLOAT_REF=kt.FLOAT|Cl]="FLOAT_REF",e[e.STRING_REF=kt.STRING|Cl]="STRING_REF",e[e.HANDLE_REF=kt.HANDLE|Cl]="HANDLE_REF",e[e.COLORREF_REF=kt.COLORREF|Cl]="COLORREF_REF",e))(pc||{});class Yq{constructor(){this.blocks=[]}pushBlock(t){return this.blocks.push(t),t}popBlock(t){const n=this.blocks.pop();if(n?.expect!==t)throw Error(`Ожидалось ${t}`);return n}lastBlock(){return this.blocks.length>0?this.blocks[this.blocks.length-1]:null}haveABreakHaveAKitKat(){for(let t=this.blocks.length-1;t>=0;--t)if(this.blocks[t].canBreak)return"break;";return"return;"}}const Xq="map",Zq="g",G0="schema",W0="string",_P="n",EP="o",TP={[kt.FLOAT]:"f",[kt.HANDLE]:"i",[kt.COLORREF]:"i",[kt.STRING]:"s"},Qq=`
"use strict"
const { map, values } = memory;
const of = values.oldFloats;
const nf = values.newFloats;
const oi = values.oldInts;
const ni = values.newInts;
const os = values.oldStrings;
const ns = values.newStrings;
function string(value) {
    return (Math.round(value * 1e5) / 1e5).toString()
}
`,Jq="userFunction",e9="solveEquationsFor",{FLOAT:Qt,STRING:lo,HANDLE:ny,COLORREF:t9}=kt,n9=[["ABS",{argTypes:[Qt],retType:Qt,template:"Math.abs(#0) || 0"}],["ALLTRIM",{argTypes:[lo],retType:lo,template:"(#0).trim()"}],["AND",{argTypes:[Qt,Qt],retType:Qt,template:"(#0) && (#1) ? 1 : 0"}],["ARCTAN",{argTypes:[Qt],retType:Qt,template:"Math.atan(#0)||0"}],["AVERAGE",{argTypes:[Qt,Qt],retType:Qt,template:"(#0) / 2 + (#1) / 2"}],["COMPARE",{argTypes:[lo,lo],retType:Qt,template:"(#0) == (#1) ? 1 : 0"}],["COS",{argTypes:[Qt],retType:Qt,template:"Math.cos(#0) || 0"}],["DEG",{argTypes:[Qt],retType:Qt,template:"180 * (#0) / Math.PI || 0"}],["DELTA",{argTypes:[Qt],retType:Qt,template:"(#0) ? 0 : 1"}],["ED",{argTypes:[Qt],retType:Qt,template:"(#0) > 0 ? 1 : 0"}],["ED",{argTypes:[ny],retType:Qt,template:"(#0) > 0 ? 1 : 0"}],["EXP",{argTypes:[Qt],retType:Qt,template:"Math.exp(#0) || 0"}],["FLOAT",{argTypes:[t9],retType:Qt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Qt],retType:Qt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[ny],retType:Qt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[lo],retType:Qt,template:"parseFloat(#0) || 0"}],["HANDLE",{argTypes:[Qt],retType:ny,template:"parseInt(#0) || 0"}],["LEFT",{argTypes:[lo,Qt],retType:lo,template:"(#0).substring(0, #1)"}],["LENGTH",{argTypes:[lo],retType:Qt,template:"(#0).length"}],["LIMIT",{argTypes:[Qt,Qt,Qt],retType:Qt,template:"Math.max(#1, Math.min(#2, #0))||0"}],["LOWER",{argTypes:[lo],retType:lo,template:"(#0).toLowerCase()"}],["LTRIM",{argTypes:[lo],retType:lo,template:'(#0).replace(/^\\s+/, "")'}],["MAX",{argTypes:[Qt,Qt],retType:Qt,template:"Math.max(#0, #1) || 0"}],["MIN",{argTypes:[Qt,Qt],retType:Qt,template:"Math.min(#0, #1) || 0"}],["NOT",{argTypes:[Qt],retType:Qt,template:"(#0) ? 0 : 1"}],["NOT",{argTypes:[ny],retType:Qt,template:"(#0) ? 0 : 1"}],["NOTBIN",{argTypes:[Qt],retType:Qt,template:"~(#0)"}],["OR",{argTypes:[Qt,Qt],retType:Qt,template:"(#0) || (#1) ? 1 : 0"}],["RAD",{argTypes:[Qt],retType:Qt,template:"Math.PI * (#0) / 180 || 0"}],["REPLICATE",{argTypes:[lo,Qt],retType:lo,template:"(#0).repeat(#1)"}],["RND",{argTypes:[Qt],retType:Qt,template:"(#0) * Math.random()"}],["RTRIM",{argTypes:[lo],retType:lo,template:'(#0).replace(/\\s+$/, "")'}],["SGN",{argTypes:[Qt],retType:Qt,template:"Math.sign(#0) || 0"}],["SIN",{argTypes:[Qt],retType:Qt,template:"Math.sin(#0) || 0"}],["SQR",{argTypes:[Qt],retType:Qt,template:"(#0) ** 2"}],["SQRT",{argTypes:[Qt],retType:Qt,template:"Math.sqrt(#0) || 0"}],["STRING",{argTypes:[Qt],retType:lo,template:`${W0}(#0)`}],["TAN",{argTypes:[Qt],retType:Qt,template:"Math.tan(#0) || 0"}],["TRUNC",{argTypes:[Qt],retType:Qt,template:"Math.trunc(#0) || 0"}],["UPPER",{argTypes:[lo],retType:lo,template:"(#0).toUpperCase()"}],["XOR",{argTypes:[Qt,Qt],retType:Qt,template:"(#0) !== 0 ^ (#1) !== 0"}],["XORBIN",{argTypes:[Qt,Qt],retType:Qt,template:"(#0) ^ (#1)"}]],r9=(()=>{const e=new Map;return n9.forEach(([t,n])=>{let r=e.get(t);r||e.set(t,r=[]),r.push(n)}),e})(),{FLOAT:an,STRING:co,HANDLE:xl,COLORREF:ry}=kt,MP=[{name:"^",arg:[an,an],ret:an,text:"#0 ** #1",prior:13},{name:"*",arg:[an,an],ret:an,text:"#0 * #1",prior:12},{name:"/",arg:[an,an],ret:an,text:"#0 / (#1 || Infinity)",prior:12},{name:"%",arg:[an,an],ret:an,text:"#0 % #1",prior:12},{name:"+",arg:[an,an],ret:an,text:"#0 + #1",prior:11},{name:"+",arg:[co,co],ret:co,text:"#0 + #1",prior:11},{name:"+",arg:[co,an],ret:co,text:`#0 + ${W0}(#1)`,prior:11},{name:"+",arg:[an,co],ret:co,text:`${W0}(#0) + #1`,prior:11},{name:"-",arg:[an,an],ret:an,text:"#0 - #1",prior:11},{name:"<<",arg:[an,an],ret:an,text:"#0 << #1",prior:10},{name:">>",arg:[an,an],ret:an,text:"#0 >> #1",prior:10},{name:">",arg:[an,an],ret:an,text:"+(#0 > #1)",prior:9},{name:">=",arg:[an,an],ret:an,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[an,an],ret:an,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[an,an],ret:an,text:"+(#0 <= #1)",prior:9},{name:">",arg:[co,co],ret:an,text:"+(#0 > #1)",prior:9},{name:">=",arg:[co,co],ret:an,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[co,co],ret:an,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[co,co],ret:an,text:"+(#0 <= #1)",prior:9},{name:"==",arg:[an,an],ret:an,text:"+(#0 == #1)",prior:8},{name:"==",arg:[co,co],ret:an,text:"+(#0 == #1)",prior:8},{name:"==",arg:[xl,xl],ret:an,text:"+(#0 == #1)",prior:8},{name:"==",arg:[ry,ry],ret:an,text:"+(#0 == #1)",prior:8},{name:"!=",arg:[an,an],ret:an,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[co,co],ret:an,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[xl,xl],ret:an,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[ry,ry],ret:an,text:"+(#0 != #1)",prior:8},{name:"&",arg:[an,an],ret:an,text:"#0 & #1",prior:7},{name:"|",arg:[an,an],ret:an,text:"#0 | #1",prior:5},{name:"&&",arg:[an,an],ret:an,text:"+Boolean(#0 && #1)",prior:4},{name:"&&",arg:[xl,xl],ret:xl,text:"+Boolean(#0 && #1)",prior:4},{name:"||",arg:[an,an],ret:an,text:"+Boolean(#0 || #1)",prior:3},{name:"||",arg:[xl,xl],ret:xl,text:"+Boolean(#0 || #1)",prior:3}],i9=Array.from(new Ya(MP.map(e=>[e.prior,e.name]))).sort((e,t)=>t[0]-e[0]).map(e=>Array.from(e[1]));class o9{constructor(){this.m=new Map}declareVar(t,n,r){const i=t.toLowerCase(),o=this.m.get(i);if(o){if(o[0].type!==n)throw Error(`Переменная уже объявлена: ${t}`);return!1}const s={name:t,type:n,attrib:r||void 0};return this.m.set(i,[s,this.m.size]),!0}makeInEquation(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==kt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);r[0].inEquation=!0}setAsReturn(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);r[0].attrib=(r[0].attrib??0)|ct.VF_RETURN}getFloatVar(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==kt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);return`$${n}`}_getOrCreateVar(t,n){const r=t.toLowerCase(),i=this.m.get(r);if(i)return[r,i[0]];const o={name:t,type:n};return this.m.set(r,[o,this.m.size]),[r,o]}getOrCreateVar(t,n,r=kt.FLOAT){const[i,{type:o}]=this._getOrCreateVar(n,r),s=`${t?_P:EP}${TP[o]}`,a=`$${i}`;return{text:`${s}[${a}]`,type:o}}derefer(t,n=kt.FLOAT){const r=t.first;if(r.type!=="var"||t.rest.length>0)throw Error("Должно быть имя переменной");const[i,{type:o}]=this._getOrCreateVar(r.name,n),s=`${r.isNew?_P:EP}${TP[o]}`,a=`$${i}`;return[s,a]}result(){return[...this.m.values()].sort((t,n)=>t[1]-n[1]).map(t=>t[0])}}function OP(e,t){const n=t.args.map(a=>_l(e,a)),r=t.name.toUpperCase(),i=r9.get(r);if(i){const a=i.find(({argTypes:u})=>u.length===n.length&&u.every((h,f)=>h===n[f].type));if(!a)throw Error(`Некорректная сигнатура функции ${t.name}(${n.map(u=>kt[u.type])}).
Возможные варианты:
`+i.map(u=>`${t.name}(${u.argTypes.map(h=>kt[h])})`).join(`
`));const c=n.map(u=>u.text);return{text:a.template.replace(/#(\d)/g,(u,h)=>c[h]),type:a.retType}}if(r==="EXIT"){if(n.length>0)throw Error(`${t.name}: ожидалось 0 аргументов, получено ${n.length}`);return{text:"return",type:null}}const o=e.funcTable?.get(r);if(!o)throw Error(`Функция не существует: ${`${t.name}(${n.map(a=>kt[a.type])})`}`);const s=o.find(a=>{if(!a.argTypes.every((f,g)=>{if(g>=n.length)return!1;const m=f&Cl-1;return n[g].type===m}))return!1;const u=n.length-a.argTypes.length;if(!u)return!0;if(a.type==="user")return!1;const{restArgsTypes:h}=a;return u%h.length!==0?!1:n.slice(-u).every((f,g)=>f.type===h[g%h.length])});if(!s){const a=`${t.name}(${n.map(u=>kt[u.type])})`,c=o.map(u=>{const h=u.argTypes.map(f=>(f&Cl?"&":"")+kt[f&Cl-1]);return u.type==="plugin"&&u.restArgsTypes.length&&h.push(`[${u.restArgsTypes.map(f=>kt[f])}]`),` - ${t.name}(${h})`});throw Error(`Некорректная сигнатура функции ${a}.
Возможные варианты:
${c.join(`;
`)}`)}if(s.type==="plugin"){const a=n.map((u,h)=>s.argTypes[h]&Cl?e.vars.derefer(t.args[h]):u.text);let c=`${Zq}.${s.path}.call(${[G0,...a]})`;return s.kind==="generator"?c="yield* "+c:s.kind==="async"&&(c="yield "+c),{text:c,type:s.retType}}else{const a=n.map(c=>c.text);return{text:`yield* ${G0}.${Jq}(${[`"${s.name}"`,`[${a}]`]})`,type:s.retType}}}function s9(e){return`t${e.tmpVarCount++}`}function iy(e,t){switch(t.isNew&&t.type!=="var"&&e.bugs.push(["Применение оператора '~' не к переменной",t]),t.type){case"float":return{text:parseFloat(t.value).toString(),type:kt.FLOAT};case"handle":return{text:parseInt(t.value,10).toString(),type:kt.HANDLE};case"string":return{text:"`"+t.value.replace(/[`$\\]/g,"\\$&")+"`",type:kt.STRING};case"var":{const n=ct[t.name.toUpperCase()]?.toString();return n?{text:n,type:kt.FLOAT}:e.vars.getOrCreateVar(t.isNew,t.name)}case"call":{let n=t;if(t.isNew&&t.args.length){const o={...t.args[0].first,isNew:!0},s=[{...t.args[0],first:o},...t.args.slice(1)];n={...t,args:s}}const r=s9(e),i=OP(e,n);if(!i.type)throw Error(`Функция ${t.name} не возвращает значения`);return e.lines.push(`const ${r}=${i.text};`),{text:r,type:i.type}}case"-":case"!":{let n=t.op;t.isNew&&(n={...n,isNew:!0});const r=iy(e,n);if(r.type!==kt.FLOAT)throw Error(`Оператор "${t.type}" не применим к ${kt[r.type]}`);return{text:`(${t.type}${r.text})`,type:r.type}}case"subexpr":{const n=_l(e,t.expr);return{text:`(${n.text})`,type:n.type}}}}function _l(e,{first:t,rest:n}){if(!n.length)return iy(e,t);const r=[{type:"decl",op:t},...fP(n.map(o=>[o.action,{type:"decl",op:o.operand}]))];i9.forEach(o=>{for(;;){const s=r.findIndex(y=>typeof y=="string"&&o.includes(y));if(s<0)break;const a=r[s],c=r[s-1],u=r[s+1],h=c.type==="decl"?iy(e,c.op):c.res,f=u.type==="decl"?iy(e,u.op):u.res,g=MP.find(({name:y,arg:b})=>y===a&&b[0]===h.type&&b[1]===f.type);if(!g)throw Error(`Оператор '${a}' неприменим к '${kt[h.type]}', '${kt[f.type]}'`);const m={text:g.text.replace(/#\d/g,y=>(y==="#0"?h:f).text),type:g.ret};r.splice(s-1,3,{type:"parsed",res:m})}});const i=r[0];if(typeof i!="object"||i.type!=="parsed")throw Error("Ошибка разбора выражения");return i.res}function RP(e,t,n){if(t!==n)throw Error(`"${e}" имеет тип ${kt[t]}, но правое выражение возвращает ${kt[n]}`)}function IP(e,t){switch(t.type){case":=":{const r=_l(e,t.expr),i=e.vars.getOrCreateVar(!0,t.to,r.type);RP(t.to,i.type,r.type),e.lines.push(`${i.text} = ${r.text};`);break}case"callChain":{t.functions.forEach(r=>{const i=OP(e,r);e.lines.push(`${i.text};`)});break}case"if":{e.b.pushBlock({canBreak:!1,expect:"endif",hasElse:!1});const r=_l(e,t.expr);e.lines.push(`if (${r.text}) {`);break}case"else":{const r=e.b.lastBlock();if(r?.expect!=="endif"||r.hasElse)throw Error("else должен находиться после if");r.hasElse=!0,e.lines.push("} else {");break}case"endif":{e.b.popBlock("endif"),e.lines.push("}");break}case"varsDec":{const{datatype:r,modifiers:i,names:o}=t;let s;switch(r){case"FLOAT":case"INTEGER":s=kt.FLOAT;break;case"HANDLE":s=kt.HANDLE;break;case"STRING":s=kt.STRING;break;case"COLORREF":s=kt.COLORREF;break}const a=(i.includes("LOCAL")?ct.VF_LOCAL:0)|(i.includes("PARAMETER")?ct.VF_ARGUMENT:0);o.forEach(c=>{e.vars.declareVar(c,s,a)||e.bugs.push([`Повторное объявление переменной: ${c}`,t])});break}case"while":{e.b.pushBlock({expect:"endwhile",canBreak:!0});const r=`g${++e.whileGuardCount}`;e.lines.push(`var ${r} = 0;`),e.lines.push("while (true) {"),e.lines.push(`if (++${r} > 10000000) throw Error("Бесконечный цикл (10_000_000 итераций)");`);const i=_l(e,t.expr);e.lines.push(`if (!(${i.text})) break;`);break}case"endwhile":{e.b.popBlock("endwhile"),e.lines.push("}");break}case"do":{e.b.pushBlock({expect:"until",canBreak:!0}),e.lines.push("do {");break}case"until":{e.b.popBlock("until");const r=_l(e,t.expr);e.lines.push(`if (!(${r.text})) break;`),e.lines.push("} while (true);");break}case"switch":{e.b.pushBlock({expect:"endswitch",canBreak:!0,caseCount:0}),e.lines.push("do { //switch");break}case"endswitch":{const r=e.b.popBlock("endswitch");if(!r.caseCount)throw Error("Ожидалось case");for(let i=0;i<r.caseCount;++i)e.lines.push("}");e.lines.push("} while (false); //endswitch");break}case"case":{const r=e.b.lastBlock();if(r?.expect!=="endswitch")throw Error("case должен находиться внутри блока switch");r.caseCount&&e.lines.push("} else {"),++r.caseCount;const i=_l(e,t.expr);e.lines.push(`if (${i.text}) { //case`);break}case"default":{if(e.b.lastBlock()?.expect!=="endswitch")throw Error("default должен находиться внутри блока switch");e.lines.push("} else { //default");break}case"break":e.lines.push(e.b.haveABreakHaveAKitKat());break;case"=":{const r={...e,lines:[]},i=_l(r,t.lhs);if(i.type!==kt.FLOAT)throw Error("Левая часть выражения не возвращает FLOAT");const o=_l(r,t.rhs);if(o.type!==kt.FLOAT)throw Error("Правая часть выражения не возвращает FLOAT");r.lines.push(`return ${o.text} - (${i.text});`),e.equations.push(r.lines);break}case"::=":{const r={...e,lines:[]},i=_l(r,t.expr),o=e.vars.getOrCreateVar(!0,t.to,i.type);RP(t.to,o.type,i.type),r.lines.push(`${o.text} = ${i.text};`),e.defers.push(r.lines);break}case"eqResult":{if(t.deferred)t.vars.forEach(r=>e.vars.makeInEquation(r));else{const r=t.vars.map(i=>e.vars.getFloatVar(i));e.lines.push(`${G0}.${e9}([${r}]);`)}break}case"function":{e.isFunction=!0;break}case"return":{e.vars.setAsReturn(t.to);break}default:throw Error(`Неизвестный оператор: "${t.type}"`)}}function a9(e,t,n){const r=e.vars.result(),{lines:i,bugs:o,equations:s,defers:a,isFunction:c}=e;if(i.length===0&&s.length===0&&a.length===0)return{bugs:o,vars:r,isFunction:c,mainText:"",equationsTexts:[],defersTexts:[]};const u=r.map((v,S)=>`const $${v.name.toLowerCase()} = ${Xq}[${S}];`).join(`
`),h=Qq+`
`+u+`
`,f=t?`//# sourceURL=_transpiled/${t}`:"",g=n?.split(`
`).map(v=>"// "+v).join(`
`)??"",m=i.length?g+h+i.join(`
`)+f:"",y=s.map((v,S)=>h+v.join(`
`)+(f&&`${f}_eq_${S}`)),b=a.map((v,S)=>h+v.join(`
`)+(f&&`${f}_defer_${S}`));return{bugs:o,vars:r,isFunction:c,mainText:m,equationsTexts:y,defersTexts:b}}function l9(e,{funcTable:t,sourceURL:n,comment:r}={}){const i={funcTable:t,vars:new o9,b:new Yq,lines:[],defers:[],equations:[],isFunction:!1,bugs:[],tmpVarCount:0,whileGuardCount:0};e.forEach(s=>{try{IP(i,s.code);let a=s.code.then;for(;a;)IP(i,a),a=a.then}catch(a){throw a instanceof Error?Error(`Строка ${s.line}: ${a.message}`):a}});const o=i.b.lastBlock();if(o)throw Error(`Строка ${e.length}: ожидалось ${o.expect}`);return a9(i,n,r)}class kP extends SyntaxError{constructor(t,n,r,i){super(t),this.expected=n,this.found=r,this.location=i,this.name="SyntaxError"}format(t){let n="Error: "+this.message;if(this.location){let r=null;const i=t.find(c=>c.source===this.location.source);i&&(r=i.text.split(/\r\n|\n|\r/g));const o=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,a=this.location.source+":"+s.line+":"+s.column;if(r){const c=this.location.end,u="".padEnd(s.line.toString().length," "),h=r[o.line-1],g=(o.line===c.line?c.column:h.length+1)-o.column||1;n+=`
 --> `+a+`
`+u+` |
`+s.line+" | "+h+`
`+u+" | "+"".padEnd(o.column-1," ")+"".padEnd(g,"^")}else n+=`
 at `+a}return n}static buildMessage(t,n){function r(g){return g.codePointAt(0).toString(16).toUpperCase()}const i=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function o(g){return i?g.replace(i,m=>"\\u{"+r(m)+"}"):g}function s(g){return o(g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}function a(g){return o(g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}const c={literal(g){return'"'+s(g.text)+'"'},class(g){const m=g.parts.map(y=>Array.isArray(y)?a(y[0])+"-"+a(y[1]):a(y));return"["+(g.inverted?"^":"")+m.join("")+"]"+(g.unicode?"u":"")},any(){return"any character"},end(){return"end of input"},other(g){return g.description}};function u(g){return c[g.type](g)}function h(g){const m=g.map(u);if(m.sort(),m.length>0){let y=1;for(let b=1;b<m.length;b++)m[b-1]!==m[b]&&(m[y]=m[b],y++);m.length=y}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function f(g){return g?'"'+s(g)+'"':"end of input"}return"Expected "+h(t)+" but "+f(n)+" found."}}function c9(e,t){t=t!==void 0?t:{};const n={},r=t.grammarSource,i={Code:Sn};let o=Sn;const s=",",a="(",c=")",u="~",h=">=",f=">",g="<=",m="<",y="==",b="!=",v="&&",S="&",E="||",T="|",R=":=",M="::=",I="=",N="?",D="if",L="while",A="until",$="case",F="else",H="endif",q="break",K="endwhile",z="do",Z="endswitch",ee="switch",ie="default",U="function",Y="return",J="handle",he="string",ge="float",pe="colorref",le="integer",Ce="local",ke="nosave",Te="parameter",me=".",ye="#",xe="'",Re='"',Le=/^[!\-]/,Ie=/^[%*-+\-\/\^]/,je=/^[_a-z\u0430-\u044F0-9]/i,lt=/^[0-9]/,We=/^[eE]/,Bt=/^[+\-]/,Ct=/^[^']/,Ot=/^[^"]/,Ke=/^[ \t]/,Ft=/^[\n;]/,Mt=/^[ \t\n\r]/,zt=tr("variable name"),Lt=xn(",",!1),Xt=tr("function call"),sn=xn("(",!1),xt=xn(")",!1),Dt=ki(["!","-"],!1,!1,!1),Je=tr("!<operand> or -<operand>"),bt=tr("(<expression>)"),wt=tr("operand"),at=xn("~",!1),mt=ki(["%",["*","+"],"-","/","^"],!1,!1,!1),Vt=xn(">=",!1),_t=xn(">",!1),Nt=xn("<=",!1),Zn=xn("<",!1),An=xn("==",!1),yr=xn("!=",!1),Qn=xn("&&",!1),Br=xn("&",!1),St=xn("||",!1),Yr=xn("|",!1),Xr=tr("expression"),en=tr("assignment operator"),Gn=xn(":=",!1),$t=xn("::=",!1),Kt=tr("equality operator"),nn=xn("=",!1),un=tr("immediately equation result"),wn=xn("?",!1),hi=tr("deferred equation result"),ai=tr("function call chain"),qi=tr("( <expression> )"),Do=tr("if(<condition>)"),Fr=xn("if",!0),Wn=tr("while(<condition>)"),Er=xn("while",!0),Ri=tr("until(<condition>)"),vo=xn("until",!0),jr=tr("case(<condition>)"),gn=xn("case",!0),st=xn("else",!0),it=xn("endif",!0),vt=xn("break",!0),Yt=xn("endwhile",!0),vn=xn("do",!0),br=xn("endswitch",!0),dr=xn("switch",!0),Zr=xn("default",!0),Yi=xn("function",!0),Jo=tr("return <var name>"),Bi=xn("return",!0),cs=xn("HANDLE",!0),Nn=xn("STRING",!0),Tr=xn("FLOAT",!0),no=xn("COLORREF",!0),Ao=xn("INTEGER",!0),Bc=xn("LOCAL",!0),Jl=xn("NOSAVE",!0),fi=xn("PARAMETER",!0),wr=ki(["_",["a","z"],["а","я"],["0","9"]],!1,!0,!1),Ys=tr("function name"),yo=ki([["0","9"]],!1,!1,!1),Ba=xn(".",!1),_s=ki(["e","E"],!1,!1,!1),ec=ki(["+","-"],!1,!1,!1),bo=tr("float"),tc=tr("handle"),Xs=xn("#",!1),pl=xn("'",!1),Zs=ki(["'"],!0,!1,!1),gl=xn('"',!1),nc=ki(['"'],!0,!1,!1),Es=tr("space or tab"),Sr=ki([" ","	"],!1,!1,!1),Fc=tr("new line"),Fa=ki([`
`,";"],!1,!1,!1),ri=ki([" ","	",`
`,"\r"],!1,!1,!1);function Xi(X){return{code:X,line:Co().start.line}}function Qs(X){return X.filter(se=>se.code)}function wo(X){return{type:"var",name:X}}function So(X){return X}function Ts(X,se){return{type:"call",name:X,args:se}}function Ms(X,se){return{type:X,op:se}}function ln(X){return{type:"subexpr",expr:X}}function ja(X,se){return{...se,isNew:!!X}}function Lo(X,se,Me){return{action:se,operand:Me}}function rc(X,se){return{first:X,rest:se}}function ro(X,se){return se}function Fi(X,se){return[X].concat(se)}function Zi(X,se){return se}function hr(X,se,Me){return{type:"varsDec",datatype:X,modifiers:se,names:Me}}function Uo(X,se,Me){return{type:se,to:X,expr:Me}}function B(X,se,Me){return{type:se,lhs:X,rhs:Me}}function G(X,se){return se}function re(X,se){return{type:"eqResult",deferred:!1,vars:[X].concat(se)}}function ue(X,se){return se}function we(X,se){return{type:"eqResult",deferred:!0,vars:[X].concat(se)}}function $e(X,se){return se}function Xe(X,se){return{type:"callChain",functions:[X].concat(se)}}function tn(X){return X}function Bn(X){return X}function Pn(X){return X}function Vr(X){return{type:"if",expr:X}}function Ii(X){return{type:"while",expr:X}}function ic(X){return{type:"until",expr:X}}function ml(X,se){return{type:"case",expr:X,then:se}}function Js(X){return{type:"else",then:X}}function Gu(X){return{type:"endif",then:X}}function jc(){return{type:"break"}}function Mh(){return{type:"endwhile"}}function Wu(){return{type:"do"}}function Vc(){return{type:"endswitch"}}function Oh(){return{type:"switch"}}function Va(X){return{type:"default",then:X}}function oc(){return{type:"function"}}function Ku(X){return{type:"return",to:X}}function $c(){return"HANDLE"}function fr(){return"STRING"}function qu(){return"FLOAT"}function Yu(){return"COLORREF"}function Xu(){return"INTEGER"}function es(){return"LOCAL"}function vl(){return"NOSAVE"}function Zu(){return"PARAMETER"}function Qu(X){return{type:"float",value:X}}function io(X){return{type:"handle",value:X.length>0?X:"0"}}function _i(X){return{type:"string",value:X[1]}}let de=t.peg$currPos|0,dn=de;const $a=[{line:1,column:1}];let Ho=de,Cr=t.peg$maxFailExpected||[],He=t.peg$silentFails|0,za;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=i[t.startRule]}function Co(){return pt(dn,de)}function zc(X=de){const se=e.codePointAt(X);return se===void 0?"":String.fromCodePoint(se)}function xn(X,se){return{type:"literal",text:X,ignoreCase:se}}function ki(X,se,Me,Ae){return{type:"class",parts:X,inverted:se,ignoreCase:Me,unicode:Ae}}function sc(){return{type:"end"}}function tr(X){return{type:"other",description:X}}function Ve(X){let se=$a[X],Me;if(se)return se;if(X>=$a.length)Me=$a.length-1;else for(Me=X;!$a[--Me];);for(se=$a[Me],se={line:se.line,column:se.column};Me<X;)e.charCodeAt(Me)===10?(se.line++,se.column=1):se.column++,Me++;return $a[X]=se,se}function pt(X,se,Me){const Ae=Ve(X),Qe=Ve(se);return{source:r,start:{offset:X,line:Ae.line,column:Ae.column},end:{offset:se,line:Qe.line,column:Qe.column}}}function ze(X){de<Ho||(de>Ho&&(Ho=de,Cr=[]),Cr.push(X))}function bn(X,se,Me){return new kP(kP.buildMessage(X,se),X,se,Me)}function Sn(){let X,se,Me,Ae,Qe,nt,Mn;for(X=de,se=[],Me=de,Ae=[],Qe=Zt();Qe!==n;)Ae.push(Qe),Qe=Zt();for(Qe=_n(),Qe===n&&(Qe=null),nt=[],Mn=Zt();Mn!==n;)nt.push(Mn),Mn=Zt();for(Mn=ov(),Mn!==n?(dn=Me,Me=Xi(Qe)):(de=Me,Me=n);Me!==n;){for(se.push(Me),Me=de,Ae=[],Qe=Zt();Qe!==n;)Ae.push(Qe),Qe=Zt();for(Qe=_n(),Qe===n&&(Qe=null),nt=[],Mn=Zt();Mn!==n;)nt.push(Mn),Mn=Zt();Mn=ov(),Mn!==n?(dn=Me,Me=Xi(Qe)):(de=Me,Me=n)}return dn=X,se=Qs(se),X=se,X}function Tn(){let X,se;return He++,X=de,se=Qr(),se!==n&&(dn=X,se=wo(se)),X=se,He--,X===n&&(se=n,He===0&&ze(zt)),X}function xo(){let X,se,Me,Ae,Qe;for(X=de,se=[],Me=Zt();Me!==n;)se.push(Me),Me=Zt();if(Me=Ur(),Me!==n){for(Ae=[],Qe=Zt();Qe!==n;)Ae.push(Qe),Qe=Zt();e.charCodeAt(de)===44?(Qe=s,de++):(Qe=n,He===0&&ze(Lt)),Qe===n&&(Qe=null),dn=X,X=Me}else de=X,X=n;return X}function ji(){let X,se,Me,Ae,Qe,nt,Mn,On;if(He++,X=de,se=oo(),se!==n){for(Me=[],Ae=Zt();Ae!==n;)Me.push(Ae),Ae=Zt();if(e.charCodeAt(de)===40?(Ae=a,de++):(Ae=n,He===0&&ze(sn)),Ae!==n){for(Qe=[],nt=Zt();nt!==n;)Qe.push(nt),nt=Zt();for(nt=[],Mn=xo();Mn!==n;)nt.push(Mn),Mn=xo();for(Mn=[],On=Zt();On!==n;)Mn.push(On),On=Zt();e.charCodeAt(de)===41?(On=c,de++):(On=n,He===0&&ze(xt)),On!==n?(dn=X,X=Ts(se,nt)):(de=X,X=n)}else de=X,X=n}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(Xt)),X}function pi(){let X;return X=e.charAt(de),Le.test(X)?de++:(X=n,He===0&&ze(Dt)),X}function Vi(){let X,se,Me,Ae;if(He++,X=de,se=pi(),se!==n){for(Me=[],Ae=Zt();Ae!==n;)Me.push(Ae),Ae=Zt();Ae=$i(),Ae!==n?(dn=X,X=Ms(se,Ae)):(de=X,X=n)}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(Je)),X}function Os(){let X,se,Me,Ae,Qe,nt;if(He++,X=de,e.charCodeAt(de)===40?(se=a,de++):(se=n,He===0&&ze(sn)),se!==n){for(Me=[],Ae=Zt();Ae!==n;)Me.push(Ae),Ae=Zt();if(Ae=Ur(),Ae!==n){for(Qe=[],nt=Zt();nt!==n;)Qe.push(nt),nt=Zt();e.charCodeAt(de)===41?(nt=c,de++):(nt=n,He===0&&ze(xt)),nt!==n?(dn=X,X=ln(Ae)):(de=X,X=n)}else de=X,X=n}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(bt)),X}function $i(){let X,se,Me,Ae;for(He++,X=de,e.charCodeAt(de)===126?(se=u,de++):(se=n,He===0&&ze(at)),se===n&&(se=null),Me=[],Ae=Zt();Ae!==n;)Me.push(Ae),Ae=Zt();return Ae=Vi(),Ae===n&&(Ae=bI(),Ae===n&&(Ae=wI(),Ae===n&&(Ae=SI(),Ae===n&&(Ae=ji(),Ae===n&&(Ae=Tn(),Ae===n&&(Ae=Os())))))),Ae!==n?(dn=X,X=ja(se,Ae)):(de=X,X=n),He--,X===n&&(se=n,He===0&&ze(wt)),X}function Go(){let X;return X=e.charAt(de),Ie.test(X)?de++:(X=n,He===0&&ze(mt)),X===n&&(e.substr(de,2)===h?(X=h,de+=2):(X=n,He===0&&ze(Vt)),X===n&&(e.charCodeAt(de)===62?(X=f,de++):(X=n,He===0&&ze(_t)),X===n&&(e.substr(de,2)===g?(X=g,de+=2):(X=n,He===0&&ze(Nt)),X===n&&(e.charCodeAt(de)===60?(X=m,de++):(X=n,He===0&&ze(Zn)),X===n&&(e.substr(de,2)===y?(X=y,de+=2):(X=n,He===0&&ze(An)),X===n&&(e.substr(de,2)===b?(X=b,de+=2):(X=n,He===0&&ze(yr)),X===n&&(e.substr(de,2)===v?(X=v,de+=2):(X=n,He===0&&ze(Qn)),X===n&&(e.charCodeAt(de)===38?(X=S,de++):(X=n,He===0&&ze(Br)),X===n&&(e.substr(de,2)===E?(X=E,de+=2):(X=n,He===0&&ze(St)),X===n&&(e.charCodeAt(de)===124?(X=T,de++):(X=n,He===0&&ze(Yr)))))))))))),X}function Ur(){let X,se,Me,Ae,Qe,nt,Mn,On;if(He++,X=de,se=$i(),se!==n){for(Me=[],Ae=de,Qe=[],nt=Zt();nt!==n;)Qe.push(nt),nt=Zt();if(nt=Go(),nt!==n){for(Mn=[],On=Zt();On!==n;)Mn.push(On),On=Zt();On=$i(),On!==n?(dn=Ae,Ae=Lo(se,nt,On)):(de=Ae,Ae=n)}else de=Ae,Ae=n;for(;Ae!==n;){for(Me.push(Ae),Ae=de,Qe=[],nt=Zt();nt!==n;)Qe.push(nt),nt=Zt();if(nt=Go(),nt!==n){for(Mn=[],On=Zt();On!==n;)Mn.push(On),On=Zt();On=$i(),On!==n?(dn=Ae,Ae=Lo(se,nt,On)):(de=Ae,Ae=n)}else de=Ae,Ae=n}dn=X,X=rc(se,Me)}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(Xr)),X}function Uc(){let X,se,Me,Ae,Qe,nt;if(X=de,se=Qr(),se!==n){for(Me=[],Ae=de,Qi(),e.charCodeAt(de)===44?(Qe=s,de++):(Qe=n,He===0&&ze(Lt)),Qe!==n?(Qi(),nt=Qr(),nt!==n?(dn=Ae,Ae=ro(se,nt)):(de=Ae,Ae=n)):(de=Ae,Ae=n);Ae!==n;)Me.push(Ae),Ae=de,Qi(),e.charCodeAt(de)===44?(Qe=s,de++):(Qe=n,He===0&&ze(Lt)),Qe!==n?(Qi(),nt=Qr(),nt!==n?(dn=Ae,Ae=ro(se,nt)):(de=Ae,Ae=n)):(de=Ae,Ae=n);dn=X,X=Fi(se,Me)}else de=X,X=n;return X}function ip(){let X,se,Me,Ae,Qe,nt,Mn,On,ea;if(X=de,se=Fn(),se!==n){if(Me=[],Ae=Zt(),Ae!==n)for(;Ae!==n;)Me.push(Ae),Ae=Zt();else Me=n;if(Me!==n){if(Ae=Qi(),Qe=[],nt=de,Mn=kr(),Mn!==n){if(On=[],ea=Zt(),ea!==n)for(;ea!==n;)On.push(ea),ea=Zt();else On=n;On!==n?(dn=nt,nt=Zi(se,Mn)):(de=nt,nt=n)}else de=nt,nt=n;for(;nt!==n;)if(Qe.push(nt),nt=de,Mn=kr(),Mn!==n){if(On=[],ea=Zt(),ea!==n)for(;ea!==n;)On.push(ea),ea=Zt();else On=n;On!==n?(dn=nt,nt=Zi(se,Mn)):(de=nt,nt=n)}else de=nt,nt=n;nt=Uc(),nt!==n?(dn=X,X=hr(se,Qe,nt)):(de=X,X=n)}else de=X,X=n}else de=X,X=n;return X}function Rh(){let X,se,Me,Ae,Qe;if(He++,X=de,se=Qr(),se!==n)if(Qi(),e.substr(de,2)===R?(Me=R,de+=2):(Me=n,He===0&&ze(Gn)),Me===n&&(e.substr(de,3)===M?(Me=M,de+=3):(Me=n,He===0&&ze($t))),Me!==n){for(Ae=[],Qe=Zt();Qe!==n;)Ae.push(Qe),Qe=Zt();Qe=Ur(),Qe!==n?(dn=X,X=Uo(se,Me,Qe)):(de=X,X=n)}else de=X,X=n;else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(en)),X}function ac(){let X,se,Me,Ae,Qe;if(He++,X=de,se=Ur(),se!==n)if(Qi(),e.charCodeAt(de)===61?(Me=I,de++):(Me=n,He===0&&ze(nn)),Me!==n){for(Ae=[],Qe=Zt();Qe!==n;)Ae.push(Qe),Qe=Zt();Qe=Ur(),Qe!==n?(dn=X,X=B(se,Me,Qe)):(de=X,X=n)}else de=X,X=n;else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(Kt)),X}function Ih(){let X,se,Me,Ae,Qe,nt,Mn,On;if(He++,X=de,se=Qr(),se!==n){for(Me=[],Ae=de,Qe=[],nt=Zt();nt!==n;)Qe.push(nt),nt=Zt();if(e.charCodeAt(de)===44?(nt=s,de++):(nt=n,He===0&&ze(Lt)),nt!==n){for(Mn=[],On=Zt();On!==n;)Mn.push(On),On=Zt();On=Qr(),On!==n?(dn=Ae,Ae=G(se,On)):(de=Ae,Ae=n)}else de=Ae,Ae=n;for(;Ae!==n;){for(Me.push(Ae),Ae=de,Qe=[],nt=Zt();nt!==n;)Qe.push(nt),nt=Zt();if(e.charCodeAt(de)===44?(nt=s,de++):(nt=n,He===0&&ze(Lt)),nt!==n){for(Mn=[],On=Zt();On!==n;)Mn.push(On),On=Zt();On=Qr(),On!==n?(dn=Ae,Ae=G(se,On)):(de=Ae,Ae=n)}else de=Ae,Ae=n}for(Ae=[],Qe=Zt();Qe!==n;)Ae.push(Qe),Qe=Zt();if(e.charCodeAt(de)===61?(Qe=I,de++):(Qe=n,He===0&&ze(nn)),Qe!==n){for(nt=[],Mn=Zt();Mn!==n;)nt.push(Mn),Mn=Zt();e.charCodeAt(de)===63?(Mn=N,de++):(Mn=n,He===0&&ze(wn)),Mn!==n?(dn=X,X=re(se,Me)):(de=X,X=n)}else de=X,X=n}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(un)),X}function kh(){let X,se,Me,Ae,Qe,nt,Mn;if(He++,X=de,e.charCodeAt(de)===63?(se=N,de++):(se=n,He===0&&ze(wn)),se!==n)if(Qi(),Me=Qr(),Me!==n){for(Ae=[],Qe=de,Qi(),e.charCodeAt(de)===44?(nt=s,de++):(nt=n,He===0&&ze(Lt)),nt!==n?(Qi(),Mn=Qr(),Mn!==n?(dn=Qe,Qe=ue(Me,Mn)):(de=Qe,Qe=n)):(de=Qe,Qe=n);Qe!==n;)Ae.push(Qe),Qe=de,Qi(),e.charCodeAt(de)===44?(nt=s,de++):(nt=n,He===0&&ze(Lt)),nt!==n?(Qi(),Mn=Qr(),Mn!==n?(dn=Qe,Qe=ue(Me,Mn)):(de=Qe,Qe=n)):(de=Qe,Qe=n);dn=X,X=we(Me,Ae)}else de=X,X=n;else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(hi)),X}function op(){let X,se,Me,Ae,Qe,nt;if(He++,X=de,se=ji(),se!==n){if(Me=[],Ae=de,Qe=[],nt=Zt(),nt!==n)for(;nt!==n;)Qe.push(nt),nt=Zt();else Qe=n;for(Qe!==n?(nt=ji(),nt!==n?(dn=Ae,Ae=$e(se,nt)):(de=Ae,Ae=n)):(de=Ae,Ae=n);Ae!==n;){if(Me.push(Ae),Ae=de,Qe=[],nt=Zt(),nt!==n)for(;nt!==n;)Qe.push(nt),nt=Zt();else Qe=n;Qe!==n?(nt=ji(),nt!==n?(dn=Ae,Ae=$e(se,nt)):(de=Ae,Ae=n)):(de=Ae,Ae=n)}dn=X,X=Xe(se,Me)}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(ai)),X}function sp(){let X,se,Me,Ae,Qe,nt;if(He++,X=de,e.charCodeAt(de)===40?(se=a,de++):(se=n,He===0&&ze(sn)),se!==n){for(Me=[],Ae=Zt();Ae!==n;)Me.push(Ae),Ae=Zt();if(Ae=Ur(),Ae!==n){for(Qe=[],nt=Zt();nt!==n;)Qe.push(nt),nt=Zt();e.charCodeAt(de)===41?(nt=c,de++):(nt=n,He===0&&ze(xt)),nt!==n?(dn=X,X=Ae):(de=X,X=n)}else de=X,X=n}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(qi)),X}function rv(){let X,se,Me,Ae,Qe;for(He++,X=de,se=[],Me=Zt();Me!==n;)se.push(Me),Me=Zt();if(Me=Ur(),Me!==n){for(Ae=[],Qe=Zt();Qe!==n;)Ae.push(Qe),Qe=Zt();e.charCodeAt(de)===41?(Qe=c,de++):(Qe=n,He===0&&ze(xt)),Qe!==n?(dn=X,X=Me):(de=X,X=n)}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(qi)),X}function Ju(){let X;return X=sp(),X===n&&(X=rv()),X}function Hc(){let X,se,Me;if(X=de,se=[],Me=Zt(),Me!==n)for(;Me!==n;)se.push(Me),Me=Zt();else se=n;return se!==n?(Me=_n(),Me!==n?(dn=X,X=Me):(de=X,X=n)):(de=X,X=n),X}function iv(){let X,se,Me;return He++,X=de,se=e.substr(de,2),se.toLowerCase()===D?de+=2:(se=n,He===0&&ze(Fr)),se!==n?(Qi(),Me=Ju(),Me!==n?(dn=X,X=Vr(Me)):(de=X,X=n)):(de=X,X=n),He--,X===n&&(se=n,He===0&&ze(Do)),X}function C(){let X,se,Me;return He++,X=de,se=e.substr(de,5),se.toLowerCase()===L?de+=5:(se=n,He===0&&ze(Er)),se!==n?(Qi(),Me=Ju(),Me!==n?(dn=X,X=Ii(Me)):(de=X,X=n)):(de=X,X=n),He--,X===n&&(se=n,He===0&&ze(Wn)),X}function j(){let X,se,Me;return He++,X=de,se=e.substr(de,5),se.toLowerCase()===A?de+=5:(se=n,He===0&&ze(vo)),se!==n?(Qi(),Me=Ju(),Me!==n?(dn=X,X=ic(Me)):(de=X,X=n)):(de=X,X=n),He--,X===n&&(se=n,He===0&&ze(Ri)),X}function Q(){let X,se,Me,Ae;return He++,X=de,se=e.substr(de,4),se.toLowerCase()===$?de+=4:(se=n,He===0&&ze(gn)),se!==n?(Qi(),Me=Ju(),Me!==n?(Ae=Hc(),Ae===n&&(Ae=null),dn=X,X=ml(Me,Ae)):(de=X,X=n)):(de=X,X=n),He--,X===n&&(se=n,He===0&&ze(jr)),X}function ne(){let X,se,Me;return X=de,se=e.substr(de,4),se.toLowerCase()===F?de+=4:(se=n,He===0&&ze(st)),se!==n?(Me=Hc(),Me===n&&(Me=null),dn=X,X=Js(Me)):(de=X,X=n),X}function oe(){let X,se,Me;return X=de,se=e.substr(de,5),se.toLowerCase()===H?de+=5:(se=n,He===0&&ze(it)),se!==n?(Me=Hc(),Me===n&&(Me=null),dn=X,X=Gu(Me)):(de=X,X=n),X}function ve(){let X,se;return X=de,se=e.substr(de,5),se.toLowerCase()===q?de+=5:(se=n,He===0&&ze(vt)),se!==n&&(dn=X,se=jc()),X=se,X}function be(){let X,se;return X=de,se=e.substr(de,8),se.toLowerCase()===K?de+=8:(se=n,He===0&&ze(Yt)),se!==n&&(dn=X,se=Mh()),X=se,X}function De(){let X,se;return X=de,se=e.substr(de,2),se.toLowerCase()===z?de+=2:(se=n,He===0&&ze(vn)),se!==n&&(dn=X,se=Wu()),X=se,X}function Ye(){let X,se;return X=de,se=e.substr(de,9),se.toLowerCase()===Z?de+=9:(se=n,He===0&&ze(br)),se!==n&&(dn=X,se=Vc()),X=se,X}function ot(){let X,se;return X=de,se=e.substr(de,6),se.toLowerCase()===ee?de+=6:(se=n,He===0&&ze(dr)),se!==n&&(dn=X,se=Oh()),X=se,X}function ft(){let X,se,Me;return X=de,se=e.substr(de,7),se.toLowerCase()===ie?de+=7:(se=n,He===0&&ze(Zr)),se!==n?(Me=Hc(),Me===n&&(Me=null),dn=X,X=Va(Me)):(de=X,X=n),X}function Gt(){let X,se;return X=de,se=e.substr(de,8),se.toLowerCase()===U?de+=8:(se=n,He===0&&ze(Yi)),se!==n&&(dn=X,se=oc()),X=se,X}function rn(){let X,se,Me;return He++,X=de,se=e.substr(de,6),se.toLowerCase()===Y?de+=6:(se=n,He===0&&ze(Bi)),se!==n?(Qi(),Me=Qr(),Me!==n?(dn=X,X=Ku(Me)):(de=X,X=n)):(de=X,X=n),He--,X===n&&(se=n,He===0&&ze(Jo)),X}function _n(){let X;return X=ip(),X===n&&(X=Rh(),X===n&&(X=ac(),X===n&&(X=Ih(),X===n&&(X=kh(),X===n&&(X=iv(),X===n&&(X=ne(),X===n&&(X=oe(),X===n&&(X=ve(),X===n&&(X=C(),X===n&&(X=be(),X===n&&(X=De(),X===n&&(X=j(),X===n&&(X=Ye(),X===n&&(X=ot(),X===n&&(X=Q(),X===n&&(X=ft(),X===n&&(X=op(),X===n&&(X=Gt(),X===n&&(X=rn()))))))))))))))))))),X}function Fn(){let X,se;return X=de,se=e.substr(de,6),se.toLowerCase()===J?de+=6:(se=n,He===0&&ze(cs)),se!==n&&(dn=X,se=$c()),X=se,X===n&&(X=de,se=e.substr(de,6),se.toLowerCase()===he?de+=6:(se=n,He===0&&ze(Nn)),se!==n&&(dn=X,se=fr()),X=se,X===n&&(X=de,se=e.substr(de,5),se.toLowerCase()===ge?de+=5:(se=n,He===0&&ze(Tr)),se!==n&&(dn=X,se=qu()),X=se,X===n&&(X=de,se=e.substr(de,8),se.toLowerCase()===pe?de+=8:(se=n,He===0&&ze(no)),se!==n&&(dn=X,se=Yu()),X=se,X===n&&(X=de,se=e.substr(de,7),se.toLowerCase()===le?de+=7:(se=n,He===0&&ze(Ao)),se!==n&&(dn=X,se=Xu()),X=se)))),X}function kr(){let X,se;return X=de,se=e.substr(de,5),se.toLowerCase()===Ce?de+=5:(se=n,He===0&&ze(Bc)),se!==n&&(dn=X,se=es()),X=se,X===n&&(X=de,se=e.substr(de,6),se.toLowerCase()===ke?de+=6:(se=n,He===0&&ze(Jl)),se!==n&&(dn=X,se=vl()),X=se,X===n&&(X=de,se=e.substr(de,9),se.toLowerCase()===Te?de+=9:(se=n,He===0&&ze(fi)),se!==n&&(dn=X,se=Zu()),X=se)),X}function Qr(){let X,se,Me;if(He++,X=de,se=[],Me=e.charAt(de),je.test(Me)?de++:(Me=n,He===0&&ze(wr)),Me!==n)for(;Me!==n;)se.push(Me),Me=e.charAt(de),je.test(Me)?de++:(Me=n,He===0&&ze(wr));else se=n;return se!==n?X=e.substring(X,de):X=se,He--,X===n&&(se=n,He===0&&ze(zt)),X}function oo(){let X;return He++,X=Qr(),He--,X===n&&He===0&&ze(Ys),X}function yl(){let X,se;if(X=[],se=e.charAt(de),lt.test(se)?de++:(se=n,He===0&&ze(yo)),se!==n)for(;se!==n;)X.push(se),se=e.charAt(de),lt.test(se)?de++:(se=n,He===0&&ze(yo));else X=n;return X}function PS(){let X,se,Me;return X=de,e.charCodeAt(de)===46?(se=me,de++):(se=n,He===0&&ze(Ba)),se!==n?(Me=yl(),Me!==n?(se=[se,Me],X=se):(de=X,X=n)):(de=X,X=n),X}function DS(){let X,se,Me,Ae;return X=de,se=e.charAt(de),We.test(se)?de++:(se=n,He===0&&ze(_s)),se!==n?(Me=e.charAt(de),Bt.test(Me)?de++:(Me=n,He===0&&ze(ec)),Me===n&&(Me=null),Ae=yl(),Ae!==n?(se=[se,Me,Ae],X=se):(de=X,X=n)):(de=X,X=n),X}function bI(){let X,se,Me,Ae,Qe,nt;return He++,X=de,se=de,Me=de,Ae=yl(),Ae!==n?(Qe=PS(),Qe===n&&(Qe=null),nt=DS(),nt===n&&(nt=null),Ae=[Ae,Qe,nt],Me=Ae):(de=Me,Me=n),Me!==n?se=e.substring(se,de):se=Me,se!==n&&(dn=X,se=Qu(se)),X=se,He--,X===n&&(se=n,He===0&&ze(bo)),X}function wI(){let X,se,Me,Ae,Qe;if(He++,X=de,e.charCodeAt(de)===35?(se=ye,de++):(se=n,He===0&&ze(Xs)),se!==n){for(Me=de,Ae=[],Qe=e.charAt(de),lt.test(Qe)?de++:(Qe=n,He===0&&ze(yo));Qe!==n;)Ae.push(Qe),Qe=e.charAt(de),lt.test(Qe)?de++:(Qe=n,He===0&&ze(yo));Me=e.substring(Me,de),dn=X,X=io(Me)}else de=X,X=n;return He--,X===n&&(se=n,He===0&&ze(tc)),X}function SI(){let X,se,Me,Ae,Qe,nt;if(X=de,se=de,e.charCodeAt(de)===39?(Me=xe,de++):(Me=n,He===0&&ze(pl)),Me!==n){for(Ae=de,Qe=[],nt=e.charAt(de),Ct.test(nt)?de++:(nt=n,He===0&&ze(Zs));nt!==n;)Qe.push(nt),nt=e.charAt(de),Ct.test(nt)?de++:(nt=n,He===0&&ze(Zs));Ae=e.substring(Ae,de),e.charCodeAt(de)===39?(Qe=xe,de++):(Qe=n,He===0&&ze(pl)),Qe!==n?(Me=[Me,Ae,Qe],se=Me):(de=se,se=n)}else de=se,se=n;if(se===n)if(se=de,e.charCodeAt(de)===34?(Me=Re,de++):(Me=n,He===0&&ze(gl)),Me!==n){for(Ae=de,Qe=[],nt=e.charAt(de),Ot.test(nt)?de++:(nt=n,He===0&&ze(nc));nt!==n;)Qe.push(nt),nt=e.charAt(de),Ot.test(nt)?de++:(nt=n,He===0&&ze(nc));Ae=e.substring(Ae,de),e.charCodeAt(de)===34?(Qe=Re,de++):(Qe=n,He===0&&ze(gl)),Qe!==n?(Me=[Me,Ae,Qe],se=Me):(de=se,se=n)}else de=se,se=n;return se!==n&&(dn=X,se=_i(se)),X=se,X}function Zt(){let X;return He++,X=e.charAt(de),Ke.test(X)?de++:(X=n,He===0&&ze(Sr)),He--,X===n&&He===0&&ze(Es),X}function ov(){let X;return He++,X=e.charAt(de),Ft.test(X)?de++:(X=n,He===0&&ze(Fa)),He--,X===n&&He===0&&ze(Fc),X}function Qi(){let X,se;for(He++,X=[],se=e.charAt(de),Mt.test(se)?de++:(se=n,He===0&&ze(ri));se!==n;)X.push(se),se=e.charAt(de),Mt.test(se)?de++:(se=n,He===0&&ze(ri));return He--,X}za=o();const us=za!==n&&de===e.length;function sv(){throw za!==n&&de<e.length&&ze(sc()),bn(Cr,Ho<e.length?zc(Ho):null,Ho<e.length?pt(Ho,Ho+1):pt(Ho,Ho))}if(t.peg$library)return{peg$result:za,peg$currPos:de,peg$FAILED:n,peg$maxFailExpected:Cr,peg$maxFailPos:Ho,peg$success:us,peg$throw:us?void 0:sv};if(us)return za;sv()}const K0="'",q0='"';function u9(e){let t="",n=null;for(let r=0;r<e.length;++r){const i=e[r];if(i===K0&&n!==q0?n=n?null:K0:i===q0&&n!==K0&&(n=n?null:q0),n){t+=i;continue}if(i==="/"){const o=e[r+1];if(o==="*"){for(r+=2,t+="  ";r<e.length&&(e[r]!=="*"||e[r+1]!=="/");)++r,t+=e[r]===`
`?`
`:" ";t+=" ",++r;continue}if(o==="/"){for(++r,t+=" ";r<e.length&&e[++r]!==`
`;)t+=" ";t[t.length-1]!==`
`&&(t+=`
`);continue}}if(i==="\r"){e[r+1]===`
`&&(++r,t+=" "),t[t.length-1]!==`
`&&(t+=`
`);continue}t+=i}return t[t.length-1]===`
`?t:t+`
`}class oy extends Error{constructor(t){super(t.join(`
`)),this.errors=t}format(t=`
`){return this.errors.join(t)}}function d9(e,t){let n;try{n=c9(e)}catch(r){if(!(r instanceof Error))throw r;const i=r.location.start,o=`Строка ${i.line} столбец ${i.column}: ${r.message}`;throw new oy([o])}try{return l9(n,t)}catch(r){throw r instanceof Error?new oy([r.message]):r}}function h9(e,t){let n;try{n=u9(e)}catch(r){throw r instanceof Error?new oy([r.message]):r}return d9(n,t)}const f9={[kt.FLOAT]:"F",[kt.STRING]:"S",[kt.HANDLE]:"H",[kt.COLORREF]:"C",[pc.FLOAT_REF]:"G",[pc.STRING_REF]:"T",[pc.HANDLE_REF]:"I",[pc.COLORREF_REF]:"D"};function p9(e){return e.map(t=>f9[t]).join("")}const Y0=[],g9=function*(){}.constructor;class PP{constructor(){this.m=new Map}addFunc(t,n){const r=n.a||Y0,i=n.rest||Y0,o=r.concat(i),s=t.toUpperCase();let a=this.m.get(s);if(!a)this.m.set(s,a=[]);else{const u=Cl-1;if(a.some(h=>{const f=h.argTypes.concat(h.type==="plugin"?h.restArgsTypes:Y0);return f.length===o.length&&f.every((g,m)=>(g&u)===(o[m]&u))}))throw Error(`Функция '${t}' с аргументами '${r}' уже существует`)}const c="$"+t+(r.length?"$"+p9(o):"");return a.push({type:"plugin",kind:n.kind||"sync",path:c,argTypes:r,restArgsTypes:i,retType:n.r||null}),c}addUserFunc(t){const n=t.name.toUpperCase(),r=this.m.get(n);if(!r)return this.m.set(n,[t]),!0;const i=Cl-1;return r.some(o=>o.argTypes.length===t.argTypes.length&&o.argTypes.every((s,a)=>(s&i)===t.argTypes[a]))?!1:(r.push(t),!0)}transpile(t,n,r){return h9(t,{funcTable:this.m,sourceURL:n,comment:r})}compile(t){return new Function("g","schema","memory",t)}compileGenerator(t){return new g9("g","schema","memory",t)}}const m9=[{atlas:"default.dbm",width:224,height:928},{atlas:"animals.dbm",width:224,height:736},{atlas:"art.dbm",width:416,height:256},{atlas:"be_icons.dbm",width:160,height:1504},{atlas:"diamonds.dbm",width:256,height:544},{atlas:"folders.dbm",width:416,height:352},{atlas:"folders2.dbm",width:192,height:1376},{atlas:"hardware.dbm",width:64,height:2656},{atlas:"mask.bmp",width:64,height:64},{atlas:"people.dbm",width:416,height:576},{atlas:"recycle.dbm",width:32,height:3296},{atlas:"science.dbm",width:128,height:608},{atlas:"signs.dbm",width:96,height:1504},{atlas:"system.dbm",width:64,height:736},{atlas:"varpoint.bmp",width:32,height:128},{atlas:"varpoint.dbm",width:160,height:32},{atlas:"windows.dbm",width:512,height:384},{atlas:"_default.bmp",width:96,height:96}];function Vp(e){const t=m9.find(n=>n.atlas===e);return t?{...t,src:"icon:"+t.atlas}:null}const X0=Vp("default.dbm"),Z0=Vp("varpoint.dbm");function Q0(e,t){const n=e.width/32,r=t%n*32,i=Math.floor(t/n)*32;return{x:r,y:i}}function v9(e,t,n){const r=e.width/32;return t/32+n/32*r}const y9=["gray","blue","navy","gray","#b5b5b5","white","black","black","black","white","gray","gray","gray","navy","white","#b5b5b5","gray","gray","black","gray","white"],Kh=1<<24,$p=2<<24,DP=4<<24;function b9(e){const t=parseInt(e);if(!isNaN(t))return t;const n=e.toLowerCase().trim();if(n.startsWith("rgb")){const r=n.split("(")[1].split(")")[0].split(",").map(i=>parseInt(i));return r[0]|r[1]<<8|r[2]<<16}return n.startsWith("transparent")?Kh:n.startsWith("syscolor")?$p|parseInt(n.split("(")[1].split(")")[0]):0}function Td(e){if(e&Kh)return null;const t=e&255;if(e&$p)return y9[t]||"black";const n=e>>8&255,r=e>>16&255;return e&DP?`rgba(${t},${n},${r}, 0.5)`:`rgb(${t},${n},${r})`}function Xa(e,t,n,r){const i=r==="transparent"?Kh:r==="syscolor"?$p:r==="editor"?DP:0;return e&255|(t&255)<<8|(n&255)<<16|i}function AP(e){return e&255}function LP(e){return e>>8&255}function NP(e){return e>>16&255}function w9(e){if(e&Kh)return"Transparent";const t=e&255;if(e&$p)return`SysColor(${t})`;const n=e>>8&255,r=e>>16&255;return`rgb(${t},${n},${r})`}function J0(e){if(e&Kh)return"#ffffff";const t=(e&255).toString(16);if(e&$p)return"#000000";const n=(e>>8&255).toString(16),r=(e>>16&255).toString(16);return`#${t.length>1?t:`0${t}`}${n.length>1?n:`0${n}`}${r.length>1?r:`0${r}`}`}function eC(e){const t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return Xa(t,n,r)}const El=1,gc=2,la=4,zp=8;function Md(e){return e>>8&31}function tC(e){return e<<8}const sy=1,BP=2,FP=4,Up=8;function jP(e,t){switch(e){case kt.FLOAT:return Pq(t).toString();case kt.STRING:return t;case kt.HANDLE:return"#"+t;case kt.COLORREF:return w9(t)}}function Hp(e,t){switch(e){case kt.FLOAT:{const n=parseFloat(t.replace(",","."));if(!isNaN(n))return n;const r=ct[t.toUpperCase()];return typeof r=="number"?r:null}case kt.HANDLE:return S9(t);case kt.STRING:return t;case kt.COLORREF:return b9(t)}}function S9(e){return(e.startsWith("#")?parseInt(e.slice(1)):parseInt(e))||0}const k=kt.FLOAT,fe=kt.STRING,P=kt.HANDLE,kn=kt.COLORREF,rt=pc.FLOAT_REF,To=pc.STRING_REF,C9=pc.HANDLE_REF;pc.COLORREF_REF;const x9=.752812499999996,_9=1.3283520132835271,E9=Date.now()-48151623,VP=13.204656862745098;function $P(e){const t=e.file()?.base64;return t?Pp(qv(t)):""}function T9(){}class M9{constructor(t,n){this.key=t,this.fields=n??[]}insert(t){if(t==="FLOAT")return this.fields.push({type:t,value:0}),1;if(t==="HANDLE")return this.fields.push({type:t,value:0}),1;if(t==="STRING")return this.fields.push({type:t,value:""}),1;throw Error(`Неизвестный тип элемента: ${t}`)}insertClass(t,n){const r=n.map(i=>{const o=i[0].toUpperCase();switch(i[1]){case kt.FLOAT:return[o,{type:"FLOAT",value:0}];case kt.STRING:return[o,{type:"STRING",value:""}];default:return[o,{type:"HANDLE",value:0}]}});return this.fields.push({type:"STRUCT",realType:t,value:new Map(r)}),1}set(t,n,r){if(t<0||t>this.fields.length-1)return;let i=this.fields[t];if(i.type==="STRUCT"){const o=i.value.get(n.toUpperCase());if(!o)return;i=o}if(typeof r=="string"){if(i.type!=="STRING")return;i.value=r}else{if(i.type==="STRING")return;i.value=r}}remove(t){return this.fields.splice(t,1).length?1:0}count(){return this.fields.length}type(t){if(t<0||t>this.fields.length-1)return"";const n=this.fields[t];return n.type==="STRUCT"?n.realType:n.type}getFloat(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const i=r.value.get(n.toUpperCase());if(!i)return 0;r=i}return r.type==="FLOAT"?r.value:0}getHandle(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const i=r.value.get(n.toUpperCase());if(!i)return 0;r=i}return r.type==="HANDLE"?r.value:0}getString(t,n){if(t<0||t>this.fields.length-1)return"";let r=this.fields[t];if(r.type==="STRUCT"){const i=r.value.get(n.toUpperCase());if(!i)return"";r=i}return r.type==="STRING"?r.value:""}sort(t){if(!t?.length)return this.fields.sort((n,r)=>n.value-r.value),1;if(t.length===1)return t[0].desc?this.fields.sort((n,r)=>r.value-n.value):this.fields.sort((n,r)=>n.value-r.value),1;throw console.log(t),Error("VSort: сортировка по нескольким полям не реализована")}}function O9(e,t){const n=hs.freeKey(e),r=new M9(n,t);return e.set(n,r),r}function R9(){return this.kernel.createArray().key}function I9(e){this.kernel.arrays.delete(e)}function k9(e){return this.kernel.arrays.get(e)?.count()??0}function P9(e,t){return this.kernel.arrays.get(e)?.type(t)??""}function D9(e,t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=t.toUpperCase();if(r==="STRING"||r==="FLOAT"||r==="HANDLE")return n.insert(r);const i=this.kernel.classes.get(t);if(!i)return 0;const o=i.vars.list.map(s=>[s.name,s.type]);return n.insertClass(i.name,o)}function A9(e,t){return this.kernel.arrays.get(e)?.remove(t)??0}function L9(){return this.kernel.arrays.clear(),1}function N9(e,t,n){return this.kernel.arrays.get(e)?.getString(Math.floor(t),n)??""}function B9(e,t,n){return this.kernel.arrays.get(e)?.getHandle(Math.floor(t),n)??0}function F9(e,t,n){return this.kernel.arrays.get(e)?.getFloat(Math.floor(t),n)??0}function nC(e,t,n,r){this.kernel.arrays.get(e)?.set(t,n,r)}function j9(e,...t){const n=this.kernel.arrays.get(e);return n?n.sort(t.map(r=>({desc:!1,field:r}))):0}function V9(e,t,...n){const r=this.kernel.arrays.get(e);if(!r)return 0;const i=!!t;return r.sort(n.map(o=>({desc:i,field:o})))}function $9(e,...t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=[];for(let i=0;i<t.length;i+=2){const o=t[i],s=!!t[i+1];r.push({desc:s,field:o})}return n.sort(r)}function z9(e){e("New",{r:P},R9),e("Delete",{a:[P]},I9),e("VGetCount",{a:[P],r:k},k9),e("VGetType",{a:[P,k],r:fe},P9),e("VInsert",{a:[P,fe],r:k},D9),e("VDelete",{a:[P,k],r:k},A9),e("VClearAll",{},L9),e("VGetS",{a:[P,k,fe],r:fe},N9),e("VGetH",{a:[P,k,fe],r:P},B9),e("VGetF",{a:[P,k,fe],r:k},F9),e("VSet",{a:[P,k,fe,k]},nC),e("VSet",{a:[P,k,fe,fe]},nC),e("VSet",{a:[P,k,fe,P]},nC),e("VSort",{a:[P],rest:[fe],r:k},j9),e("VSort",{a:[P,k],rest:[fe],r:k},V9),e("VSort",{a:[P],rest:[fe,k],r:k},$9)}const U9={name:"arrays",register:z9,setup(e){const t=new Map;e.arrays=t,e.createArray=O9.bind(null,t)}},zP=new Set;function Ds(...e){zP.size!==zP.add(e[0]).size&&console.warn(...e)}function H9(e){throw Ds("AudioGetBalance",e),Error("Not implemented")}function G9(e){throw Ds("AudioGetLength",e),Error("Not implemented")}function W9(e){throw Ds("AudioGetPosition",e),Error("Not implemented")}function K9(e){throw Ds("AudioGetRepeat",e),Error("Not implemented")}function q9(e){throw Ds("AudioGetTone",e),Error("Not implemented")}function Y9(e){throw Ds("AudioGetVolume",e),Error("Not implemented")}function X9(e){const t=this.kernel.audios.get(e);return t&&!t.paused?1:0}function Z9(e){throw Ds("AudioIsSeekable",e),Error("Not implemented")}function Q9(e){const t=this.prj.dir.resolve(e).file()?.audio;if(!t)return 0;const n=new Audio(Ps(t.src)),r=hs.freeKey(this.kernel.audios);return this.kernel.audios.set(r,n),r}function J9(e){this.kernel.audios.get(e)?.play()}function e8(e){Ds("AudioReset",e)}function t8(e,t){Ds("AudioSetBalance",e,t)}function n8(e,t){Ds("AudioSetPosition",e,t)}function r8(e,t){Ds("AudioSetRepeat",e,t)}function i8(e,t){Ds("AudioSetTone",e,t)}function o8(e,t){Ds("AudioSetVolume",e,t)}function s8(e){this.kernel.audios.get(e)?.pause()}function a8(e){e("AudioGetBalance",{a:[P],r:k},H9),e("AudioGetLength",{a:[P],r:k},G9),e("AudioGetPosition",{a:[P],r:k},W9),e("AudioGetRepeat",{a:[P],r:k},K9),e("AudioGetTone",{a:[P],r:k},q9),e("AudioGetVolume",{a:[P],r:k},Y9),e("AudioIsPlaying",{a:[P],r:k},X9),e("AudioIsSeekable",{a:[P],r:k},Z9),e("AudioOpenSound",{a:[fe],r:P},Q9),e("AudioPlay",{a:[P]},J9),e("AudioReset",{a:[P]},e8),e("AudioSetBalance",{a:[P,k]},t8),e("AudioSetPosition",{a:[P,k]},n8),e("AudioSetRepeat",{a:[P,k]},r8),e("AudioSetTone",{a:[P,k]},i8),e("AudioSetVolume",{a:[P,k]},o8),e("AudioStop",{a:[P]},s8)}const l8={name:"audio",register:a8,setup(e){e.audios=new Map}};function c8(e){return this.resolve(e)?.klass.name??""}function UP(...e){throw console.warn("createLink",...e),Error("Not implemented")}function u8(...e){throw console.warn("createObject",...e),Error("Not implemented")}function d8(){throw Error("Not implemented")}function h8(...e){throw console.warn("setLinkVars",...e),Error("Not implemented")}function f8(e){return this.kernel.classes.get(e)?.children.length??0}function p8(){return this.ndata?.key??0}function g8(e){return this.resolve(e)?.ndata?.key??0}function m8(e,t){if(t<0)return 0;const n=this.kernel.classes.get(e)?.children;return n&&t<n.length?n[t].key:0}function v8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.klass??""}function y8(e,t,n){return this.kernel.classes.get(e)?.connections.find(({nodes:[r,i]})=>r===t&&i===n||r===n&&i===t)?.key??0}function b8(e,t){const n=this.kernel.classes.get(e)?.modelText;if(!n)return 0;const r=this.kernel.streams.get(t);if(!r)return 0;const i=Dp(n);return r.write(i),i.length}function HP(e,t){const n=this.kernel.classes.get(e);if(!n)return 0;const r=this.kernel.streams.get(t)?.bytes();if(!r)return 0;const i=Pp(r),o=n.modelText;n.set({modelText:i});try{n.compile()}catch(s){if(!(s instanceof Error))throw s;return console.warn(s.message),n.set({modelText:o}),0}return 1}function w8(e,t){const n=this.resolve(e);if(!n)return"";const r=n.klass.vars.get(t);return r?n.getVarValueS(r)??"":""}function rC(e,t){const n=this.resolve(e);if(!n)return 0;const r=n.klass.vars.get(t);return r?n.getVarValueFHC(r)??0:0}function ay(e,t,n){const r=this.resolve(e);if(!r)return;const i=r.klass.vars.get(t);i&&r.vars.setValue(i,n)}function GP(e,t,n,r,i,o,s,a,c,u,h,f){const g=this.kernel.classes.get(e)?.vars.list;if(t<0||!g||t>=g.length)return n[r]="",i[o]="",s[a]="",c[u]="",h&&(h[f]=0),0;const m=g[t];return n[r]=m.name,i[o]=kt[m.type],s[a]=m.defaultValue??"",c[u]=m.description??"",h&&(h[f]=m.attrib),1}function S8(e){return this.kernel.classes.get(e)?.vars.list.length??0}function C8(e,t,n){const r=this.kernel.classes.get(e);if(!r)return 0;const i=r.children.findIndex(s=>s.key===t);if(i<0)return 0;const o=r.children.slice();return o[i]={...o[i],name:n},r.set({children:o}),1}function x8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.name??""}function _8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file();if(!r)return 0;const i=n.getValues();return r.set({stt:i}),1}function E8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file()?.stt;return r?(n.applyValues(r),1):0}function T8(e){return this.resolve(e)?.initValues(!0)?1:0}function M8(){this.kernel._functionNotImplemented("Stop",this)}function O8(e){e<=0||this.kernel.closeAll()}function R8(){this.prj.close()}function I8(e){e("GetClassName",{a:[fe],r:fe},c8),e("CreateLink",{a:[fe,P,P],r:P},UP),e("CreateLink",{a:[fe,fe,fe],r:P},UP),e("CreateObject",{a:[fe,fe,fe,k,k],r:P},u8),e("DeleteObject",{a:[fe,P,k],r:k},d8),e("SetLinkVars",{a:[fe,P,fe],r:k},h8),e("GetObjectCount",{a:[fe],r:k},f8),e("GetHObject",{r:P},p8),e("GetHObjectByName",{a:[fe],r:P},g8),e("GetHObjectByNum",{a:[fe,k],r:P},m8),e("GetObjectClass",{a:[fe,P],r:fe},v8),e("GetLink",{a:[fe,P,P],r:P},y8),e("GetModelText",{a:[fe,P],r:k},b8),e("SetModelText",{a:[fe,P],r:k},HP),e("SetModelText",{a:[fe,P,k],r:k},HP),e("GetVarS",{a:[fe,fe],r:fe},w8),e("GetVarF",{a:[fe,fe],r:k},rC),e("GetVarH",{a:[fe,fe],r:P},rC),e("GetVarC",{a:[fe,fe],r:kn},rC),e("SetVar",{a:[fe,fe,k]},ay),e("SetVar",{a:[fe,fe,fe]},ay),e("SetVar",{a:[fe,fe,P]},ay),e("SetVar",{a:[fe,fe,kn]},ay),e("GetVarInfo",{a:[fe,k,To,To,To,To],r:k},GP),e("GetVarInfo",{a:[fe,k,To,To,To,To,rt],r:k},GP),e("GetVarCount",{a:[fe],r:k},S8),e("SetObjectName",{a:[fe,P,fe],r:k},C8),e("GetNameByHandle",{a:[fe,P],r:fe},x8),e("SaveObjectState",{a:[fe,fe],r:k},_8),e("LoadObjectState",{a:[fe,fe],r:k},E8),e("SetVarsToDefault",{a:[fe],r:k},T8),e("Stop",{a:[k]},M8),e("Quit",{a:[k]},O8),e("CloseAll",{},R8)}const k8={name:"class",deps:["streams"],register:I8};function P8(e,t,n,r,i,o,s,a){let c;switch(t.toUpperCase()){case"EDIT":c="Edit";break;case"BUTTON":c="Button";break;case"COMBOBOX":c="ComboBox";break;case"LISTBOX":c="ListBox";break;default:return 0}const u=this.kernel.scenes.get(e);if(!u)return 0;const h=u.scene;let f=i,g=o;const m=u.matrix;if(m){const b=i*m[2]+o*m[5]+m[8];f=(i*m[0]+o*m[3]+m[6])/b,g=(i*m[1]+o*m[4]+m[7])/b}const y=h.input(c,{x:f,y:g,width:s,height:a,value:n,style:r});return h.set({order:h.order.concat(y)}),y.key}function WP(e,t,n,r){const i=this.kernel.scenes.get(e)?.scene.objects.get(t);if(i?.type!=="input")return"";const{value:o}=i;return typeof n>"u"?o:o.slice(n,n+r)}function D8(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="input"&&r.set({value:n})?1:0}function A8(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);return i?.type==="input"&&i.set({font:r.fonts.get(n)??null})?1:0}function L8(){return this.kernel._functionNotImplemented("EnableControl2d"),0}function N8(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return;const r=n.objects.get(t);r?.type==="input"&&r.focus()}function B8(){return this.kernel._functionNotImplemented("IsDlgButtonChecked"),0}function F8(){return this.kernel._functionNotImplemented("CheckDlgButton2d"),1}function j8(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="input"&&r.set({style:n})?1:0}function V8(e,t,n){return this.kernel._functionNotImplemented("LBAddString"),0}function $8(e,t,n){return this.kernel._functionNotImplemented("LBGetString"),""}function z8(e,t){return this.kernel._functionNotImplemented("LBClearList"),0}function U8(e,t){return this.kernel._functionNotImplemented("LBGetSelIndex"),0}function H8(e,t,n){return this.kernel._functionNotImplemented("lBSetSelIndex"),0}function G8(e){e("CreateControlObject2d",{a:[P,fe,fe,k,k,k,k,k,k],r:P},P8),e("GetControlText2d",{a:[P,P],r:fe},WP),e("GetControlText2d",{a:[P,P,k,k],r:fe},WP),e("SetControlText2d",{a:[P,P,fe],r:k},D8),e("SetControlFont2d",{a:[P,P,P],r:k},A8),e("EnableControl2d",{a:[P,P,k],r:k},L8),e("SetControlFocus2d",{a:[P,P]},N8),e("IsDlgButtonChecked2d",{a:[P,P],r:k},B8),e("CheckDlgButton2d",{a:[P,P,k],r:k},F8),e("SetControlStyle2d",{a:[P,P,k],r:k},j8),e("LBAddString",{a:[P,P,fe],r:k},V8),e("LBGetString",{a:[P,P,k],r:fe},$8),e("LBClearList",{a:[P,P],r:k},z8),e("LBGetSelIndex",{a:[P,P],r:k},U8),e("LBSetSelIndex",{a:[P,P,k],r:k},H8)}const W8={name:"controls",deps:["windows"],register:G8},ly=Sd;ly.hideVideoControls=!1;const Gp=["Arial","Verdana","Tahoma","Times New Roman","Georgia","Courier New","cursive"];class K8{constructor(t){if(this.pens=new Set,this.brushes=new Set,this.images=new Set,this.imagesOpaque=new Set,this.strings=new Set,this.fonts=new Set,this.texts=new Set,t)if(t.type==="group")for(const n of Wp(t))n.type!=="group"&&this.add(n);else this.add(t)}add(t){switch(t.type){case"line":t.pen&&this.pens.add(t.pen),t.brush&&(this.add(t.brush),this.brushes.add(t.brush));break;case"imageView":(t.opaque?this.imagesOpaque:this.images).add(t.image);break;case"textView":this.add(t.text),this.texts.add(t.text);break;case"input":t.font&&this.fonts.add(t.font);break;case"brush":t.image&&this.imagesOpaque.add(t.image);break;case"text":t.parts.forEach(n=>{this.strings.add(n.string),this.fonts.add(n.font)});break;case"scene":t.background&&(this.add(t.background),this.brushes.add(t.background));break}return this}}function*Wp(e,t){e.type==="group"&&(yield*e.descendants(t)),yield e}function*q8(e,t){for(const n of e)n.type==="group"&&(yield*n.descendants(t)),yield n}function Y8(e){if(e.type!=="group")return{objects:[e.toJSON()],order:[e.key]};const t=Array.from(Wp(e,!0),n=>n.toJSON());return{objects:t,order:ns(e.scene.order,n=>t.some(r=>r.key===n.key)&&n.key)}}function cy(e,t){const n=[],r=new K8,i=new WeakSet;let o=null;const s=Symbol.iterator in e?q8(e,!0):Wp(e,!0);for(const a of s)o=a.scene,n.push(a.toJSON()),a.type!=="group"&&(r.add(a),i.add(a));return{pens:Array.from(r.pens,a=>a.toJSON()),brushes:Array.from(r.brushes,a=>a.toJSON()),images:Array.from(r.images,a=>a.toJSON()),imagesOpaque:Array.from(r.imagesOpaque,a=>a.toJSON()),strings:Array.from(r.strings,a=>a.toJSON()),fonts:Array.from(r.fonts,a=>a.toJSON()),texts:Array.from(r.texts,a=>a.toJSON()),objects:n,order:o&&!t?ns(o.order,a=>i.has(a)&&a.key):[]}}function iC(e){return Np(e.values(),t=>!t.parent)}function qh(e,t,n){const{objects:r}=e.merge(t,n),i=iC(r);return i.length>1?e.group(i,{key:n==="unused"?-1:0}):i[0]}const X8={x:0,y:0,w:0,h:0};function uy(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)o.x<t&&(t=o.x),o.y<n&&(n=o.y),o.x+o.width>r&&(r=o.x+o.width),o.y+o.height>i&&(i=o.y+o.height);return t===1/0?X8:{x:t,y:n,w:r-t,h:i-n}}const Ti=ly;Ti.root=document.body,Ti.isMobile=!1,Ti.logMessage=!1;var oC={exports:{}};const KP=fq(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var qP;function Z8(){return qP||(qP=1,(function(e,t){var n=void 0,r=function(i){return n||(n=new Promise(function(o,s){var a=typeof i<"u"?i:{},c=a.onAbort;a.onAbort=function(B){s(new Error(B)),c&&c(B)},a.postRun=a.postRun||[],a.postRun.push(function(){o(a)}),e=void 0;var u;u||=typeof a<"u"?a:{};var h=typeof window=="object",f=typeof WorkerGlobalScope<"u",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";u.onRuntimeInitialized=function(){function B(Ve,pt){switch(typeof pt){case"boolean":zc(Ve,pt?1:0);break;case"number":Cr(Ve,pt);break;case"string":za(Ve,pt,-1,-1);break;case"object":if(pt===null)He(Ve);else if(pt.length!=null){var ze=ri(pt,Fa);Co(Ve,ze,pt.length,-1),Lo(ze)}else xn(Ve,"Wrong API use : tried to return a value of an unknown type ("+pt+").",-1);break;default:He(Ve)}}function G(Ve,pt){for(var ze=[],bn=0;bn<Ve;bn+=1){var Sn=xe(pt+4*bn,"i32"),Tn=_i(Sn);if(Tn===1||Tn===2)Sn=Ho(Sn);else if(Tn===3)Sn=dn(Sn);else if(Tn===4){Tn=Sn,Sn=de(Tn),Tn=$a(Tn);for(var xo=new Uint8Array(Sn),ji=0;ji<Sn;ji+=1)xo[ji]=A[Tn+ji];Sn=xo}else Sn=null;ze.push(Sn)}return ze}function re(Ve,pt){this.Qa=Ve,this.db=pt,this.Oa=1,this.lb=[]}function ue(Ve,pt){if(this.db=pt,pt=Lt(Ve)+1,this.eb=ja(pt),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Xt(Ve,$,this.eb,pt),this.kb=this.eb,this.Za=this.pb=null}function we(Ve){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Ve!=null){var pt=this.filename,ze="/",bn=pt;if(ze&&(ze=typeof ze=="string"?ze:Gn(ze),bn=pt?Bt(ze+"/"+pt):ze),pt=mt(!0,!0),bn=vt(bn,pt),Ve){if(typeof Ve=="string"){ze=Array(Ve.length);for(var Sn=0,Tn=Ve.length;Sn<Tn;++Sn)ze[Sn]=Ve.charCodeAt(Sn);Ve=ze}Bi(bn,pt|146),ze=Nn(bn,577),Bc(ze,Ve,0,Ve.length,0),Tr(ze),Bi(bn,pt)}}this.handleError(tn(this.filename,$e)),this.db=xe($e,"i32"),sc(this.db),this.fb={},this.Sa={}}var $e=Zi(4),Xe=u.cwrap,tn=Xe("sqlite3_open","number",["string","number"]),Bn=Xe("sqlite3_close_v2","number",["number"]),Pn=Xe("sqlite3_exec","number",["number","string","number","number","number"]),Vr=Xe("sqlite3_changes","number",["number"]),Ii=Xe("sqlite3_prepare_v2","number",["number","string","number","number","number"]),ic=Xe("sqlite3_sql","string",["number"]),ml=Xe("sqlite3_normalized_sql","string",["number"]),Js=Xe("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Gu=Xe("sqlite3_bind_text","number",["number","number","number","number","number"]),jc=Xe("sqlite3_bind_blob","number",["number","number","number","number","number"]),Mh=Xe("sqlite3_bind_double","number",["number","number","number"]),Wu=Xe("sqlite3_bind_int","number",["number","number","number"]),Vc=Xe("sqlite3_bind_parameter_index","number",["number","string"]),Oh=Xe("sqlite3_step","number",["number"]),Va=Xe("sqlite3_errmsg","string",["number"]),oc=Xe("sqlite3_column_count","number",["number"]),Ku=Xe("sqlite3_data_count","number",["number"]),$c=Xe("sqlite3_column_double","number",["number","number"]),fr=Xe("sqlite3_column_text","string",["number","number"]),qu=Xe("sqlite3_column_blob","number",["number","number"]),Yu=Xe("sqlite3_column_bytes","number",["number","number"]),Xu=Xe("sqlite3_column_type","number",["number","number"]),es=Xe("sqlite3_column_name","string",["number","number"]),vl=Xe("sqlite3_reset","number",["number"]),Zu=Xe("sqlite3_clear_bindings","number",["number"]),Qu=Xe("sqlite3_finalize","number",["number"]),io=Xe("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),_i=Xe("sqlite3_value_type","number",["number"]),de=Xe("sqlite3_value_bytes","number",["number"]),dn=Xe("sqlite3_value_text","string",["number"]),$a=Xe("sqlite3_value_blob","number",["number"]),Ho=Xe("sqlite3_value_double","number",["number"]),Cr=Xe("sqlite3_result_double","",["number","number"]),He=Xe("sqlite3_result_null","",["number"]),za=Xe("sqlite3_result_text","",["number","string","number","number"]),Co=Xe("sqlite3_result_blob","",["number","number","number","number"]),zc=Xe("sqlite3_result_int","",["number","number"]),xn=Xe("sqlite3_result_error","",["number","string","number"]),ki=Xe("sqlite3_aggregate_context","number",["number","number"]),sc=Xe("RegisterExtensionFunctions","number",["number"]),tr=Xe("sqlite3_update_hook","number",["number","number","number"]);re.prototype.bind=function(Ve){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(Ve)?this.Cb(Ve):Ve!=null&&typeof Ve=="object"?this.Db(Ve):!0},re.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var Ve=Oh(this.Qa);switch(Ve){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Ve)}},re.prototype.wb=function(Ve){return Ve==null&&(Ve=this.Oa,this.Oa+=1),$c(this.Qa,Ve)},re.prototype.Gb=function(Ve){if(Ve==null&&(Ve=this.Oa,this.Oa+=1),Ve=fr(this.Qa,Ve),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Ve)},re.prototype.Hb=function(Ve){return Ve==null&&(Ve=this.Oa,this.Oa+=1),fr(this.Qa,Ve)},re.prototype.getBlob=function(Ve){Ve==null&&(Ve=this.Oa,this.Oa+=1);var pt=Yu(this.Qa,Ve);Ve=qu(this.Qa,Ve);for(var ze=new Uint8Array(pt),bn=0;bn<pt;bn+=1)ze[bn]=A[Ve+bn];return ze},re.prototype.get=function(Ve,pt){pt=pt||{},Ve!=null&&this.bind(Ve)&&this.step(),Ve=[];for(var ze=Ku(this.Qa),bn=0;bn<ze;bn+=1)switch(Xu(this.Qa,bn)){case 1:var Sn=pt.useBigInt?this.Gb(bn):this.wb(bn);Ve.push(Sn);break;case 2:Ve.push(this.wb(bn));break;case 3:Ve.push(this.Hb(bn));break;case 4:Ve.push(this.getBlob(bn));break;default:Ve.push(null)}return Ve},re.prototype.getColumnNames=function(){for(var Ve=[],pt=oc(this.Qa),ze=0;ze<pt;ze+=1)Ve.push(es(this.Qa,ze));return Ve},re.prototype.getAsObject=function(Ve,pt){Ve=this.get(Ve,pt),pt=this.getColumnNames();for(var ze={},bn=0;bn<pt.length;bn+=1)ze[pt[bn]]=Ve[bn];return ze},re.prototype.getSQL=function(){return ic(this.Qa)},re.prototype.getNormalizedSQL=function(){return ml(this.Qa)},re.prototype.run=function(Ve){return Ve!=null&&this.bind(Ve),this.step(),this.reset()},re.prototype.sb=function(Ve,pt){pt==null&&(pt=this.Oa,this.Oa+=1),Ve=sn(Ve);var ze=ri(Ve,Fa);this.lb.push(ze),this.db.handleError(Gu(this.Qa,pt,ze,Ve.length-1,0))},re.prototype.Bb=function(Ve,pt){pt==null&&(pt=this.Oa,this.Oa+=1);var ze=ri(Ve,Fa);this.lb.push(ze),this.db.handleError(jc(this.Qa,pt,ze,Ve.length,0))},re.prototype.rb=function(Ve,pt){pt==null&&(pt=this.Oa,this.Oa+=1),this.db.handleError((Ve===(Ve|0)?Wu:Mh)(this.Qa,pt,Ve))},re.prototype.Eb=function(Ve){Ve==null&&(Ve=this.Oa,this.Oa+=1),jc(this.Qa,Ve,0,0,0)},re.prototype.tb=function(Ve,pt){switch(pt==null&&(pt=this.Oa,this.Oa+=1),typeof Ve){case"string":this.sb(Ve,pt);return;case"number":this.rb(Ve,pt);return;case"bigint":this.sb(Ve.toString(),pt);return;case"boolean":this.rb(Ve+0,pt);return;case"object":if(Ve===null){this.Eb(pt);return}if(Ve.length!=null){this.Bb(Ve,pt);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Ve+")."},re.prototype.Db=function(Ve){var pt=this;return Object.keys(Ve).forEach(function(ze){var bn=Vc(pt.Qa,ze);bn!==0&&pt.tb(Ve[ze],bn)}),!0},re.prototype.Cb=function(Ve){for(var pt=0;pt<Ve.length;pt+=1)this.tb(Ve[pt],pt+1);return!0},re.prototype.reset=function(){return this.freemem(),Zu(this.Qa)===0&&vl(this.Qa)===0},re.prototype.freemem=function(){for(var Ve;(Ve=this.lb.pop())!==void 0;)Lo(Ve)},re.prototype.free=function(){this.freemem();var Ve=Qu(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,Ve},ue.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var Ve=hr(),pt=Zi(4);Le($e),Le(pt);try{this.db.handleError(Js(this.db.db,this.kb,-1,$e,pt)),this.kb=xe(pt,"i32");var ze=xe($e,"i32");return ze===0?(this.mb(),{done:!0}):(this.Za=new re(ze,this.db),this.db.fb[ze]=this.Za,{value:this.Za,done:!1})}catch(bn){throw this.pb=lt(this.kb),this.mb(),bn}finally{Fi(Ve)}},ue.prototype.mb=function(){Lo(this.eb),this.eb=null},ue.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:lt(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(ue.prototype[Symbol.iterator]=function(){return this}),we.prototype.run=function(Ve,pt){if(!this.db)throw"Database closed";if(pt){Ve=this.prepare(Ve,pt);try{Ve.step()}finally{Ve.free()}}else this.handleError(Pn(this.db,Ve,0,0,$e));return this},we.prototype.exec=function(Ve,pt,ze){if(!this.db)throw"Database closed";var bn=hr(),Sn=null;try{var Tn=Sr(Ve),xo=Zi(4);for(Ve=[];xe(Tn,"i8")!==0;){Le($e),Le(xo),this.handleError(Js(this.db,Tn,-1,$e,xo));var ji=xe($e,"i32");if(Tn=xe(xo,"i32"),ji!==0){var pi=null;for(Sn=new re(ji,this),pt!=null&&Sn.bind(pt);Sn.step();)pi===null&&(pi={columns:Sn.getColumnNames(),values:[]},Ve.push(pi)),pi.values.push(Sn.get(null,ze));Sn.free()}}return Ve}catch(Vi){throw Sn&&Sn.free(),Vi}finally{Fi(bn)}},we.prototype.each=function(Ve,pt,ze,bn,Sn){typeof pt=="function"&&(bn=ze,ze=pt,pt=void 0),Ve=this.prepare(Ve,pt);try{for(;Ve.step();)ze(Ve.getAsObject(null,Sn))}finally{Ve.free()}if(typeof bn=="function")return bn()},we.prototype.prepare=function(Ve,pt){if(Le($e),this.handleError(Ii(this.db,Ve,-1,$e,0)),Ve=xe($e,"i32"),Ve===0)throw"Nothing to prepare";var ze=new re(Ve,this);return pt!=null&&ze.bind(pt),this.fb[Ve]=ze},we.prototype.iterateStatements=function(Ve){return new ue(Ve,this)},we.prototype.export=function(){Object.values(this.fb).forEach(function(pt){pt.free()}),Object.values(this.Sa).forEach(So),this.Sa={},this.handleError(Bn(this.db));var Ve=Jl(this.filename);return this.handleError(tn(this.filename,$e)),this.db=xe($e,"i32"),sc(this.db),Ve},we.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(Ve){Ve.free()}),Object.values(this.Sa).forEach(So),this.Sa={},this.Ya&&(So(this.Ya),this.Ya=void 0),this.handleError(Bn(this.db)),Zr("/"+this.filename),this.db=null)},we.prototype.handleError=function(Ve){if(Ve===0)return null;throw Ve=Va(this.db),Error(Ve)},we.prototype.getRowsModified=function(){return Vr(this.db)},we.prototype.create_function=function(Ve,pt){Object.prototype.hasOwnProperty.call(this.Sa,Ve)&&(So(this.Sa[Ve]),delete this.Sa[Ve]);var ze=Ts(function(bn,Sn,Tn){Sn=G(Sn,Tn);try{var xo=pt.apply(null,Sn)}catch(ji){xn(bn,ji,-1);return}B(bn,xo)},"viii");return this.Sa[Ve]=ze,this.handleError(io(this.db,Ve,pt.length,1,0,ze,0,0,0)),this},we.prototype.create_aggregate=function(Ve,pt){var ze=pt.init||function(){return null},bn=pt.finalize||function(pi){return pi},Sn=pt.step;if(!Sn)throw"An aggregate function must have a step function in "+Ve;var Tn={};Object.hasOwnProperty.call(this.Sa,Ve)&&(So(this.Sa[Ve]),delete this.Sa[Ve]),pt=Ve+"__finalize",Object.hasOwnProperty.call(this.Sa,pt)&&(So(this.Sa[pt]),delete this.Sa[pt]);var xo=Ts(function(pi,Vi,Os){var $i=ki(pi,1);Object.hasOwnProperty.call(Tn,$i)||(Tn[$i]=ze()),Vi=G(Vi,Os),Vi=[Tn[$i]].concat(Vi);try{Tn[$i]=Sn.apply(null,Vi)}catch(Go){delete Tn[$i],xn(pi,Go,-1)}},"viii"),ji=Ts(function(pi){var Vi=ki(pi,1);try{var Os=bn(Tn[Vi])}catch($i){delete Tn[Vi],xn(pi,$i,-1);return}B(pi,Os),delete Tn[Vi]},"vi");return this.Sa[Ve]=xo,this.Sa[pt]=ji,this.handleError(io(this.db,Ve,Sn.length-1,1,0,0,xo,ji,0)),this},we.prototype.updateHook=function(Ve){this.Ya&&(tr(this.db,0,0),So(this.Ya),this.Ya=void 0),Ve&&(this.Ya=Ts(function(pt,ze,bn,Sn,Tn){switch(ze){case 18:pt="insert";break;case 23:pt="update";break;case 9:pt="delete";break;default:throw"unknown operationCode in updateHook callback: "+ze}if(bn=bn?je($,bn):"",Sn=Sn?je($,Sn):"",Tn>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";Ve(pt,bn,Sn,Number(Tn))},"viiiij"),tr(this.db,this.Ya,0))},u.Database=we};var m={...u},y="./this.program",b=(B,G)=>{throw G},v="",S,E;if(g){var T=KP;v=__dirname+"/",E=B=>(B=ee(B)?new URL(B):B,T.readFileSync(B)),S=async B=>(B=ee(B)?new URL(B):B,T.readFileSync(B,void 0)),!u.thisProgram&&1<process.argv.length&&(y=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=u,b=(B,G)=>{throw process.exitCode=B,G}}else(h||f)&&(f?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),v=v.startsWith("blob:")?"":v.slice(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),f&&(E=B=>{var G=new XMLHttpRequest;return G.open("GET",B,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}),S=async B=>{if(ee(B))return new Promise((re,ue)=>{var we=new XMLHttpRequest;we.open("GET",B,!0),we.responseType="arraybuffer",we.onload=()=>{we.status==200||we.status==0&&we.response?re(we.response):ue(we.status)},we.onerror=ue,we.send(null)});var G=await fetch(B,{credentials:"same-origin"});if(G.ok)return G.arrayBuffer();throw Error(G.status+" : "+G.url)});var R=u.print||console.log.bind(console),M=u.printErr||console.error.bind(console);Object.assign(u,m),m=null,u.thisProgram&&(y=u.thisProgram);var I=u.wasmBinary,N,D=!1,L,A,$,F,H,q,K,z,Z,ee=B=>B.startsWith("file://");function ie(){var B=N.buffer;u.HEAP8=A=new Int8Array(B),u.HEAP16=F=new Int16Array(B),u.HEAPU8=$=new Uint8Array(B),u.HEAPU16=new Uint16Array(B),u.HEAP32=H=new Int32Array(B),u.HEAPU32=q=new Uint32Array(B),u.HEAPF32=K=new Float32Array(B),u.HEAPF64=Z=new Float64Array(B),u.HEAP64=z=new BigInt64Array(B),u.HEAPU64=new BigUint64Array(B)}var U=0,Y=null;function J(B){throw u.onAbort?.(B),B="Aborted("+B+")",M(B),D=!0,new WebAssembly.RuntimeError(B+". Build with -sASSERTIONS for more info.")}var he;async function ge(B){if(!I)try{var G=await S(B);return new Uint8Array(G)}catch{}if(B==he&&I)B=new Uint8Array(I);else if(E)B=E(B);else throw"both async and sync fetching of the wasm failed";return B}async function pe(B,G){try{var re=await ge(B);return await WebAssembly.instantiate(re,G)}catch(ue){M(`failed to asynchronously prepare wasm: ${ue}`),J(ue)}}async function le(B){var G=he;if(!I&&typeof WebAssembly.instantiateStreaming=="function"&&!ee(G)&&!g)try{var re=fetch(G,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(re,B)}catch(ue){M(`wasm streaming compile failed: ${ue}`),M("falling back to ArrayBuffer instantiation")}return pe(G,B)}class Ce{name="ExitStatus";constructor(G){this.message=`Program terminated with exit(${G})`,this.status=G}}var ke=B=>{for(;0<B.length;)B.shift()(u)},Te=[],me=[],ye=()=>{var B=u.preRun.shift();me.unshift(B)};function xe(B,G="i8"){switch(G.endsWith("*")&&(G="*"),G){case"i1":return A[B];case"i8":return A[B];case"i16":return F[B>>1];case"i32":return H[B>>2];case"i64":return z[B>>3];case"float":return K[B>>2];case"double":return Z[B>>3];case"*":return q[B>>2];default:J(`invalid type for getValue: ${G}`)}}var Re=u.noExitRuntime||!0;function Le(B){var G="i32";switch(G.endsWith("*")&&(G="*"),G){case"i1":A[B]=0;break;case"i8":A[B]=0;break;case"i16":F[B>>1]=0;break;case"i32":H[B>>2]=0;break;case"i64":z[B>>3]=BigInt(0);break;case"float":K[B>>2]=0;break;case"double":Z[B>>3]=0;break;case"*":q[B>>2]=0;break;default:J(`invalid type for setValue: ${G}`)}}var Ie=typeof TextDecoder<"u"?new TextDecoder:void 0,je=(B,G=0,re=NaN)=>{var ue=G+re;for(re=G;B[re]&&!(re>=ue);)++re;if(16<re-G&&B.buffer&&Ie)return Ie.decode(B.subarray(G,re));for(ue="";G<re;){var we=B[G++];if(we&128){var $e=B[G++]&63;if((we&224)==192)ue+=String.fromCharCode((we&31)<<6|$e);else{var Xe=B[G++]&63;we=(we&240)==224?(we&15)<<12|$e<<6|Xe:(we&7)<<18|$e<<12|Xe<<6|B[G++]&63,65536>we?ue+=String.fromCharCode(we):(we-=65536,ue+=String.fromCharCode(55296|we>>10,56320|we&1023))}}else ue+=String.fromCharCode(we)}return ue},lt=(B,G)=>B?je($,B,G):"",We=(B,G)=>{for(var re=0,ue=B.length-1;0<=ue;ue--){var we=B[ue];we==="."?B.splice(ue,1):we===".."?(B.splice(ue,1),re++):re&&(B.splice(ue,1),re--)}if(G)for(;re;re--)B.unshift("..");return B},Bt=B=>{var G=B.charAt(0)==="/",re=B.slice(-1)==="/";return(B=We(B.split("/").filter(ue=>!!ue),!G).join("/"))||G||(B="."),B&&re&&(B+="/"),(G?"/":"")+B},Ct=B=>{var G=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(B).slice(1);return B=G[0],G=G[1],!B&&!G?".":(G&&=G.slice(0,-1),B+G)},Ot=B=>B&&B.match(/([^\/]+|\/)\/*$/)[1],Ke=()=>{if(g){var B=KP;return G=>B.randomFillSync(G)}return G=>crypto.getRandomValues(G)},Ft=B=>{(Ft=Ke())(B)},Mt=(...B)=>{for(var G="",re=!1,ue=B.length-1;-1<=ue&&!re;ue--){if(re=0<=ue?B[ue]:"/",typeof re!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!re)return"";G=re+"/"+G,re=re.charAt(0)==="/"}return G=We(G.split("/").filter(we=>!!we),!re).join("/"),(re?"/":"")+G||"."},zt=[],Lt=B=>{for(var G=0,re=0;re<B.length;++re){var ue=B.charCodeAt(re);127>=ue?G++:2047>=ue?G+=2:55296<=ue&&57343>=ue?(G+=4,++re):G+=3}return G},Xt=(B,G,re,ue)=>{if(!(0<ue))return 0;var we=re;ue=re+ue-1;for(var $e=0;$e<B.length;++$e){var Xe=B.charCodeAt($e);if(55296<=Xe&&57343>=Xe){var tn=B.charCodeAt(++$e);Xe=65536+((Xe&1023)<<10)|tn&1023}if(127>=Xe){if(re>=ue)break;G[re++]=Xe}else{if(2047>=Xe){if(re+1>=ue)break;G[re++]=192|Xe>>6}else{if(65535>=Xe){if(re+2>=ue)break;G[re++]=224|Xe>>12}else{if(re+3>=ue)break;G[re++]=240|Xe>>18,G[re++]=128|Xe>>12&63}G[re++]=128|Xe>>6&63}G[re++]=128|Xe&63}}return G[re]=0,re-we},sn=(B,G)=>{var re=Array(Lt(B)+1);return B=Xt(B,re,0,re.length),G&&(re.length=B),re},xt=[];function Dt(B,G){xt[B]={input:[],output:[],cb:G},gn(B,Je)}var Je={open(B){var G=xt[B.node.rdev];if(!G)throw new St(43);B.tty=G,B.seekable=!1},close(B){B.tty.cb.fsync(B.tty)},fsync(B){B.tty.cb.fsync(B.tty)},read(B,G,re,ue){if(!B.tty||!B.tty.cb.xb)throw new St(60);for(var we=0,$e=0;$e<ue;$e++){try{var Xe=B.tty.cb.xb(B.tty)}catch{throw new St(29)}if(Xe===void 0&&we===0)throw new St(6);if(Xe==null)break;we++,G[re+$e]=Xe}return we&&(B.node.atime=Date.now()),we},write(B,G,re,ue){if(!B.tty||!B.tty.cb.qb)throw new St(60);try{for(var we=0;we<ue;we++)B.tty.cb.qb(B.tty,G[re+we])}catch{throw new St(29)}return ue&&(B.node.mtime=B.node.ctime=Date.now()),we}},bt={xb(){e:{if(!zt.length){var B=null;if(g){var G=Buffer.alloc(256),re=0,ue=process.stdin.fd;try{re=T.readSync(ue,G,0,256)}catch(we){if(we.toString().includes("EOF"))re=0;else throw we}0<re&&(B=G.slice(0,re).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(B=window.prompt("Input: "),B!==null&&(B+=`
`));if(!B){B=null;break e}zt=sn(B,!0)}B=zt.shift()}return B},qb(B,G){G===null||G===10?(R(je(B.output)),B.output=[]):G!=0&&B.output.push(G)},fsync(B){0<B.output?.length&&(R(je(B.output)),B.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},wt={qb(B,G){G===null||G===10?(M(je(B.output)),B.output=[]):G!=0&&B.output.push(G)},fsync(B){0<B.output?.length&&(M(je(B.output)),B.output=[])}},at={Wa:null,Xa(){return at.createNode(null,"/",16895,0)},createNode(B,G,re,ue){if((re&61440)===24576||(re&61440)===4096)throw new St(63);return at.Wa||(at.Wa={dir:{node:{Ta:at.La.Ta,Ua:at.La.Ua,lookup:at.La.lookup,hb:at.La.hb,rename:at.La.rename,unlink:at.La.unlink,rmdir:at.La.rmdir,readdir:at.La.readdir,symlink:at.La.symlink},stream:{Va:at.Ma.Va}},file:{node:{Ta:at.La.Ta,Ua:at.La.Ua},stream:{Va:at.Ma.Va,read:at.Ma.read,write:at.Ma.write,ib:at.Ma.ib,jb:at.Ma.jb}},link:{node:{Ta:at.La.Ta,Ua:at.La.Ua,readlink:at.La.readlink},stream:{}},ub:{node:{Ta:at.La.Ta,Ua:at.La.Ua},stream:jr}}),re=un(B,G,re,ue),wn(re.mode)?(re.La=at.Wa.dir.node,re.Ma=at.Wa.dir.stream,re.Na={}):(re.mode&61440)===32768?(re.La=at.Wa.file.node,re.Ma=at.Wa.file.stream,re.Ra=0,re.Na=null):(re.mode&61440)===40960?(re.La=at.Wa.link.node,re.Ma=at.Wa.link.stream):(re.mode&61440)===8192&&(re.La=at.Wa.ub.node,re.Ma=at.Wa.ub.stream),re.atime=re.mtime=re.ctime=Date.now(),B&&(B.Na[G]=re,B.atime=B.mtime=B.ctime=re.atime),re},Sb(B){return B.Na?B.Na.subarray?B.Na.subarray(0,B.Ra):new Uint8Array(B.Na):new Uint8Array(0)},La:{Ta(B){var G={};return G.dev=(B.mode&61440)===8192?B.id:1,G.ino=B.id,G.mode=B.mode,G.nlink=1,G.uid=0,G.gid=0,G.rdev=B.rdev,wn(B.mode)?G.size=4096:(B.mode&61440)===32768?G.size=B.Ra:(B.mode&61440)===40960?G.size=B.link.length:G.size=0,G.atime=new Date(B.atime),G.mtime=new Date(B.mtime),G.ctime=new Date(B.ctime),G.blksize=4096,G.blocks=Math.ceil(G.size/G.blksize),G},Ua(B,G){for(var re of["mode","atime","mtime","ctime"])G[re]!=null&&(B[re]=G[re]);G.size!==void 0&&(G=G.size,B.Ra!=G&&(G==0?(B.Na=null,B.Ra=0):(re=B.Na,B.Na=new Uint8Array(G),re&&B.Na.set(re.subarray(0,Math.min(G,B.Ra))),B.Ra=G)))},lookup(){throw at.vb},hb(B,G,re,ue){return at.createNode(B,G,re,ue)},rename(B,G,re){try{var ue=nn(G,re)}catch{}if(ue){if(wn(B.mode))for(var we in ue.Na)throw new St(55);Kt(ue)}delete B.parent.Na[B.name],G.Na[re]=B,B.name=re,G.ctime=G.mtime=B.parent.ctime=B.parent.mtime=Date.now()},unlink(B,G){delete B.Na[G],B.ctime=B.mtime=Date.now()},rmdir(B,G){var re=nn(B,G),ue;for(ue in re.Na)throw new St(55);delete B.Na[G],B.ctime=B.mtime=Date.now()},readdir(B){return[".","..",...Object.keys(B.Na)]},symlink(B,G,re){return B=at.createNode(B,G,41471,0),B.link=re,B},readlink(B){if((B.mode&61440)!==40960)throw new St(28);return B.link}},Ma:{read(B,G,re,ue,we){var $e=B.node.Na;if(we>=B.node.Ra)return 0;if(B=Math.min(B.node.Ra-we,ue),8<B&&$e.subarray)G.set($e.subarray(we,we+B),re);else for(ue=0;ue<B;ue++)G[re+ue]=$e[we+ue];return B},write(B,G,re,ue,we,$e){if(G.buffer===A.buffer&&($e=!1),!ue)return 0;if(B=B.node,B.mtime=B.ctime=Date.now(),G.subarray&&(!B.Na||B.Na.subarray)){if($e)return B.Na=G.subarray(re,re+ue),B.Ra=ue;if(B.Ra===0&&we===0)return B.Na=G.slice(re,re+ue),B.Ra=ue;if(we+ue<=B.Ra)return B.Na.set(G.subarray(re,re+ue),we),ue}$e=we+ue;var Xe=B.Na?B.Na.length:0;if(Xe>=$e||($e=Math.max($e,Xe*(1048576>Xe?2:1.125)>>>0),Xe!=0&&($e=Math.max($e,256)),Xe=B.Na,B.Na=new Uint8Array($e),0<B.Ra&&B.Na.set(Xe.subarray(0,B.Ra),0)),B.Na.subarray&&G.subarray)B.Na.set(G.subarray(re,re+ue),we);else for($e=0;$e<ue;$e++)B.Na[we+$e]=G[re+$e];return B.Ra=Math.max(B.Ra,we+ue),ue},Va(B,G,re){if(re===1?G+=B.position:re===2&&(B.node.mode&61440)===32768&&(G+=B.node.Ra),0>G)throw new St(28);return G},ib(B,G,re,ue,we){if((B.node.mode&61440)!==32768)throw new St(43);if(B=B.node.Na,we&2||!B||B.buffer!==A.buffer){we=!0,ue=65536*Math.ceil(G/65536);var $e=rc(65536,ue);if($e&&$.fill(0,$e,$e+ue),ue=$e,!ue)throw new St(48);B&&((0<re||re+G<B.length)&&(B.subarray?B=B.subarray(re,re+G):B=Array.prototype.slice.call(B,re,re+G)),A.set(B,ue))}else we=!1,ue=B.byteOffset;return{Kb:ue,Ab:we}},jb(B,G,re,ue){return at.Ma.write(B,G,0,ue,re,!1),0}}},mt=(B,G)=>{var re=0;return B&&(re|=365),G&&(re|=146),re},Vt=null,_t={},Nt=[],Zn=1,An=null,yr=!1,Qn=!0,Br={},St=class{name="ErrnoError";constructor(B){this.Pa=B}},Yr=class{gb={};node=null;get flags(){return this.gb.flags}set flags(B){this.gb.flags=B}get position(){return this.gb.position}set position(B){this.gb.position=B}},Xr=class{La={};Ma={};ab=null;constructor(B,G,re,ue){B||=this,this.parent=B,this.Xa=B.Xa,this.id=Zn++,this.name=G,this.mode=re,this.rdev=ue,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(B){B?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(B){B?this.mode|=146:this.mode&=-147}};function en(B,G={}){if(!B)throw new St(44);G.nb??(G.nb=!0),B.charAt(0)==="/"||(B="//"+B);var re=0;e:for(;40>re;re++){B=B.split("/").filter(tn=>!!tn);for(var ue=Vt,we="/",$e=0;$e<B.length;$e++){var Xe=$e===B.length-1;if(Xe&&G.parent)break;if(B[$e]!==".")if(B[$e]==="..")we=Ct(we),ue=ue.parent;else{we=Bt(we+"/"+B[$e]);try{ue=nn(ue,B[$e])}catch(tn){if(tn?.Pa===44&&Xe&&G.Jb)return{path:we};throw tn}if(!ue.ab||Xe&&!G.nb||(ue=ue.ab.root),(ue.mode&61440)===40960&&(!Xe||G.$a)){if(!ue.La.readlink)throw new St(52);ue=ue.La.readlink(ue),ue.charAt(0)==="/"||(ue=Ct(we)+"/"+ue),B=ue+"/"+B.slice($e+1).join("/");continue e}}}return{path:we,node:ue}}throw new St(32)}function Gn(B){for(var G;;){if(B===B.parent)return B=B.Xa.zb,G?B[B.length-1]!=="/"?`${B}/${G}`:B+G:B;G=G?`${B.name}/${G}`:B.name,B=B.parent}}function $t(B,G){for(var re=0,ue=0;ue<G.length;ue++)re=(re<<5)-re+G.charCodeAt(ue)|0;return(B+re>>>0)%An.length}function Kt(B){var G=$t(B.parent.id,B.name);if(An[G]===B)An[G]=B.bb;else for(G=An[G];G;){if(G.bb===B){G.bb=B.bb;break}G=G.bb}}function nn(B,G){var re=wn(B.mode)?(re=ai(B,"x"))?re:B.La.lookup?0:2:54;if(re)throw new St(re);for(re=An[$t(B.id,G)];re;re=re.bb){var ue=re.name;if(re.parent.id===B.id&&ue===G)return re}return B.La.lookup(B,G)}function un(B,G,re,ue){return B=new Xr(B,G,re,ue),G=$t(B.parent.id,B.name),B.bb=An[G],An[G]=B}function wn(B){return(B&61440)===16384}function hi(B){var G=["r","w","rw"][B&3];return B&512&&(G+="w"),G}function ai(B,G){if(Qn)return 0;if(!G.includes("r")||B.mode&292){if(G.includes("w")&&!(B.mode&146)||G.includes("x")&&!(B.mode&73))return 2}else return 2;return 0}function qi(B,G){if(!wn(B.mode))return 54;try{return nn(B,G),20}catch{}return ai(B,"wx")}function Do(B,G,re){try{var ue=nn(B,G)}catch(we){return we.Pa}if(B=ai(B,"wx"))return B;if(re){if(!wn(ue.mode))return 54;if(ue===ue.parent||Gn(ue)==="/")return 10}else if(wn(ue.mode))return 31;return 0}function Fr(B){if(!B)throw new St(63);return B}function Wn(B){if(B=Nt[B],!B)throw new St(8);return B}function Er(B,G=-1){if(B=Object.assign(new Yr,B),G==-1)e:{for(G=0;4096>=G;G++)if(!Nt[G])break e;throw new St(33)}return B.fd=G,Nt[G]=B}function Ri(B,G=-1){return B=Er(B,G),B.Ma?.Rb?.(B),B}function vo(B,G,re){var ue=B?.Ma.Ua;B=ue?B:G,ue??=G.La.Ua,Fr(ue),ue(B,re)}var jr={open(B){B.Ma=_t[B.node.rdev].Ma,B.Ma.open?.(B)},Va(){throw new St(70)}};function gn(B,G){_t[B]={Ma:G}}function st(B,G){var re=G==="/";if(re&&Vt)throw new St(10);if(!re&&G){var ue=en(G,{nb:!1});if(G=ue.path,ue=ue.node,ue.ab)throw new St(10);if(!wn(ue.mode))throw new St(54)}G={type:B,Wb:{},zb:G,Ib:[]},B=B.Xa(G),B.Xa=G,G.root=B,re?Vt=B:ue&&(ue.ab=G,ue.Xa&&ue.Xa.Ib.push(G))}function it(B,G,re){var ue=en(B,{parent:!0}).node;if(B=Ot(B),!B)throw new St(28);if(B==="."||B==="..")throw new St(20);var we=qi(ue,B);if(we)throw new St(we);if(!ue.La.hb)throw new St(63);return ue.La.hb(ue,B,G,re)}function vt(B,G=438){return it(B,G&4095|32768,0)}function Yt(B,G=511){return it(B,G&1023|16384,0)}function vn(B,G,re){typeof re>"u"&&(re=G,G=438),it(B,G|8192,re)}function br(B,G){if(!Mt(B))throw new St(44);var re=en(G,{parent:!0}).node;if(!re)throw new St(44);G=Ot(G);var ue=qi(re,G);if(ue)throw new St(ue);if(!re.La.symlink)throw new St(63);re.La.symlink(re,G,B)}function dr(B){var G=en(B,{parent:!0}).node;B=Ot(B);var re=nn(G,B),ue=Do(G,B,!0);if(ue)throw new St(ue);if(!G.La.rmdir)throw new St(63);if(re.ab)throw new St(10);G.La.rmdir(G,B),Kt(re)}function Zr(B){var G=en(B,{parent:!0}).node;if(!G)throw new St(44);B=Ot(B);var re=nn(G,B),ue=Do(G,B,!1);if(ue)throw new St(ue);if(!G.La.unlink)throw new St(63);if(re.ab)throw new St(10);G.La.unlink(G,B),Kt(re)}function Yi(B,G){return B=en(B,{$a:!G}).node,Fr(B.La.Ta)(B)}function Jo(B,G,re,ue){vo(B,G,{mode:re&4095|G.mode&-4096,ctime:Date.now(),Fb:ue})}function Bi(B,G){B=typeof B=="string"?en(B,{$a:!0}).node:B,Jo(null,B,G)}function cs(B,G,re){if(wn(G.mode))throw new St(31);if((G.mode&61440)!==32768)throw new St(28);var ue=ai(G,"w");if(ue)throw new St(ue);vo(B,G,{size:re,timestamp:Date.now()})}function Nn(B,G,re=438){if(B==="")throw new St(44);if(typeof G=="string"){var ue={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[G];if(typeof ue>"u")throw Error(`Unknown file open mode: ${G}`);G=ue}if(re=G&64?re&4095|32768:0,typeof B=="object")ue=B;else{var we=B.endsWith("/");B=en(B,{$a:!(G&131072),Jb:!0}),ue=B.node,B=B.path}var $e=!1;if(G&64)if(ue){if(G&128)throw new St(20)}else{if(we)throw new St(31);ue=it(B,re|511,0),$e=!0}if(!ue)throw new St(44);if((ue.mode&61440)===8192&&(G&=-513),G&65536&&!wn(ue.mode))throw new St(54);if(!$e&&(we=ue?(ue.mode&61440)===40960?32:wn(ue.mode)&&(hi(G)!=="r"||G&576)?31:ai(ue,hi(G)):44))throw new St(we);return G&512&&!$e&&(we=ue,we=typeof we=="string"?en(we,{$a:!0}).node:we,cs(null,we,0)),G&=-131713,we=Er({node:ue,path:Gn(ue),flags:G,seekable:!0,position:0,Ma:ue.Ma,Lb:[],error:!1}),we.Ma.open&&we.Ma.open(we),$e&&Bi(ue,re&511),!u.logReadFiles||G&1||B in Br||(Br[B]=1),we}function Tr(B){if(B.fd===null)throw new St(8);B.ob&&(B.ob=null);try{B.Ma.close&&B.Ma.close(B)}catch(G){throw G}finally{Nt[B.fd]=null}B.fd=null}function no(B,G,re){if(B.fd===null)throw new St(8);if(!B.seekable||!B.Ma.Va)throw new St(70);if(re!=0&&re!=1&&re!=2)throw new St(28);B.position=B.Ma.Va(B,G,re),B.Lb=[]}function Ao(B,G,re,ue,we){if(0>ue||0>we)throw new St(28);if(B.fd===null)throw new St(8);if((B.flags&2097155)===1)throw new St(8);if(wn(B.node.mode))throw new St(31);if(!B.Ma.read)throw new St(28);var $e=typeof we<"u";if(!$e)we=B.position;else if(!B.seekable)throw new St(70);return G=B.Ma.read(B,G,re,ue,we),$e||(B.position+=G),G}function Bc(B,G,re,ue,we){if(0>ue||0>we)throw new St(28);if(B.fd===null)throw new St(8);if((B.flags&2097155)===0)throw new St(8);if(wn(B.node.mode))throw new St(31);if(!B.Ma.write)throw new St(28);B.seekable&&B.flags&1024&&no(B,0,2);var $e=typeof we<"u";if(!$e)we=B.position;else if(!B.seekable)throw new St(70);return G=B.Ma.write(B,G,re,ue,we,void 0),$e||(B.position+=G),G}function Jl(B){var G,re=Nn(B,re||0);B=Yi(B).size;var ue=new Uint8Array(B);return Ao(re,ue,0,B,0),G=ue,Tr(re),G}function fi(B,G,re){B=Bt("/dev/"+B);var ue=mt(!!G,!!re);fi.yb??(fi.yb=64);var we=fi.yb++<<8|0;gn(we,{open($e){$e.seekable=!1},close(){re?.buffer?.length&&re(10)},read($e,Xe,tn,Bn){for(var Pn=0,Vr=0;Vr<Bn;Vr++){try{var Ii=G()}catch{throw new St(29)}if(Ii===void 0&&Pn===0)throw new St(6);if(Ii==null)break;Pn++,Xe[tn+Vr]=Ii}return Pn&&($e.node.atime=Date.now()),Pn},write($e,Xe,tn,Bn){for(var Pn=0;Pn<Bn;Pn++)try{re(Xe[tn+Pn])}catch{throw new St(29)}return Bn&&($e.node.mtime=$e.node.ctime=Date.now()),Pn}}),vn(B,ue,we)}var wr={};function Ys(B,G,re){if(G.charAt(0)==="/")return G;if(B=B===-100?"/":Wn(B).path,G.length==0){if(!re)throw new St(44);return B}return B+"/"+G}function yo(B,G){H[B>>2]=G.dev,H[B+4>>2]=G.mode,q[B+8>>2]=G.nlink,H[B+12>>2]=G.uid,H[B+16>>2]=G.gid,H[B+20>>2]=G.rdev,z[B+24>>3]=BigInt(G.size),H[B+32>>2]=4096,H[B+36>>2]=G.blocks;var re=G.atime.getTime(),ue=G.mtime.getTime(),we=G.ctime.getTime();return z[B+40>>3]=BigInt(Math.floor(re/1e3)),q[B+48>>2]=re%1e3*1e6,z[B+56>>3]=BigInt(Math.floor(ue/1e3)),q[B+64>>2]=ue%1e3*1e6,z[B+72>>3]=BigInt(Math.floor(we/1e3)),q[B+80>>2]=we%1e3*1e6,z[B+88>>3]=BigInt(G.ino),0}var Ba=void 0,_s=()=>{var B=H[+Ba>>2];return Ba+=4,B},ec=0,bo=[0,31,60,91,121,152,182,213,244,274,305,335],tc=[0,31,59,90,120,151,181,212,243,273,304,334],Xs={},pl=B=>{L=B,Re||0<ec||(u.onExit?.(B),D=!0),b(B,new Ce(B))},Zs=B=>{if(!D)try{if(B(),!(Re||0<ec))try{L=B=L,pl(B)}catch(G){G instanceof Ce||G=="unwind"||b(1,G)}}catch(G){G instanceof Ce||G=="unwind"||b(1,G)}},gl={},nc=()=>{if(!Es){var B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},G;for(G in gl)gl[G]===void 0?delete B[G]:B[G]=gl[G];var re=[];for(G in B)re.push(`${G}=${B[G]}`);Es=re}return Es},Es,Sr=B=>{var G=Lt(B)+1,re=Zi(G);return Xt(B,$,re,G),re},Fc=(B,G,re,ue)=>{var we={string:Pn=>{var Vr=0;return Pn!=null&&Pn!==0&&(Vr=Sr(Pn)),Vr},array:Pn=>{var Vr=Zi(Pn.length);return A.set(Pn,Vr),Vr}};B=u["_"+B];var $e=[],Xe=0;if(ue)for(var tn=0;tn<ue.length;tn++){var Bn=we[re[tn]];Bn?(Xe===0&&(Xe=hr()),$e[tn]=Bn(ue[tn])):$e[tn]=ue[tn]}return re=B(...$e),re=(function(Pn){return Xe!==0&&Fi(Xe),G==="string"?Pn?je($,Pn):"":G==="boolean"?!!Pn:Pn})(re)},Fa=0,ri=(B,G)=>(G=G==1?Zi(B.length):ja(B.length),B.subarray||B.slice||(B=new Uint8Array(B)),$.set(B,G),G),Xi,Qs=[],wo,So=B=>{Xi.delete(wo.get(B)),wo.set(B,null),Qs.push(B)},Ts=(B,G)=>{if(!Xi){Xi=new WeakMap;var re=wo.length;if(Xi)for(var ue=0;ue<0+re;ue++){var we=wo.get(ue);we&&Xi.set(we,ue)}}if(re=Xi.get(B)||0)return re;if(Qs.length)re=Qs.pop();else{try{wo.grow(1)}catch(Bn){throw Bn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Bn}re=wo.length-1}try{wo.set(re,B)}catch(Bn){if(!(Bn instanceof TypeError))throw Bn;if(typeof WebAssembly.Function=="function"){var $e=WebAssembly.Function;ue={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},we={parameters:[],results:G[0]=="v"?[]:[ue[G[0]]]};for(var Xe=1;Xe<G.length;++Xe)we.parameters.push(ue[G[Xe]]);G=new $e(we,B)}else{ue=[1],we=G.slice(0,1),G=G.slice(1),Xe={i:127,p:127,j:126,f:125,d:124,e:111},ue.push(96);var tn=G.length;128>tn?ue.push(tn):ue.push(tn%128|128,tn>>7);for($e of G)ue.push(Xe[$e]);we=="v"?ue.push(0):ue.push(1,Xe[we]),G=[0,97,115,109,1,0,0,0,1],$e=ue.length,128>$e?G.push($e):G.push($e%128|128,$e>>7),G.push(...ue),G.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),G=new WebAssembly.Module(new Uint8Array(G)),G=new WebAssembly.Instance(G,{e:{f:B}}).exports.f}wo.set(re,G)}return Xi.set(B,re),re};An=Array(4096),st(at,"/"),Yt("/tmp"),Yt("/home"),Yt("/home/web_user"),(function(){Yt("/dev"),gn(259,{read:()=>0,write:(ue,we,$e,Xe)=>Xe,Va:()=>0}),vn("/dev/null",259),Dt(1280,bt),Dt(1536,wt),vn("/dev/tty",1280),vn("/dev/tty1",1536);var B=new Uint8Array(1024),G=0,re=()=>(G===0&&(Ft(B),G=B.byteLength),B[--G]);fi("random",re),fi("urandom",re),Yt("/dev/shm"),Yt("/dev/shm/tmp")})(),(function(){Yt("/proc");var B=Yt("/proc/self");Yt("/proc/self/fd"),st({Xa(){var G=un(B,"fd",16895,73);return G.Ma={Va:at.Ma.Va},G.La={lookup(re,ue){re=+ue;var we=Wn(re);return re={parent:null,Xa:{zb:"fake"},La:{readlink:()=>we.path},id:re+1},re.parent=re},readdir(){return Array.from(Nt.entries()).filter(([,re])=>re).map(([re])=>re.toString())}},G}},"/proc/self/fd")})(),at.vb=new St(44),at.vb.stack="<generic error, no stack>";var Ms={a:(B,G,re,ue)=>J(`Assertion failed: ${B?je($,B):""}, at: `+[G?G?je($,G):"":"unknown filename",re,ue?ue?je($,ue):"":"unknown function"]),i:function(B,G){try{return B=B?je($,B):"",Bi(B,G),0}catch(re){if(typeof wr>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},L:function(B,G,re){try{if(G=G?je($,G):"",G=Ys(B,G),re&-8)return-28;var ue=en(G,{$a:!0}).node;return ue?(B="",re&4&&(B+="r"),re&2&&(B+="w"),re&1&&(B+="x"),B&&ai(ue,B)?-2:0):-44}catch(we){if(typeof wr>"u"||we.name!=="ErrnoError")throw we;return-we.Pa}},j:function(B,G){try{var re=Wn(B);return Jo(re,re.node,G,!1),0}catch(ue){if(typeof wr>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},h:function(B){try{var G=Wn(B);return vo(G,G.node,{timestamp:Date.now(),Fb:!1}),0}catch(re){if(typeof wr>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},b:function(B,G,re){Ba=re;try{var ue=Wn(B);switch(G){case 0:var we=_s();if(0>we)break;for(;Nt[we];)we++;return Ri(ue,we).fd;case 1:case 2:return 0;case 3:return ue.flags;case 4:return we=_s(),ue.flags|=we,0;case 12:return we=_s(),F[we+0>>1]=2,0;case 13:case 14:return 0}return-28}catch($e){if(typeof wr>"u"||$e.name!=="ErrnoError")throw $e;return-$e.Pa}},g:function(B,G){try{var re=Wn(B),ue=re.node,we=re.Ma.Ta;B=we?re:ue,we??=ue.La.Ta,Fr(we);var $e=we(B);return yo(G,$e)}catch(Xe){if(typeof wr>"u"||Xe.name!=="ErrnoError")throw Xe;return-Xe.Pa}},H:function(B,G){G=-9007199254740992>G||9007199254740992<G?NaN:Number(G);try{if(isNaN(G))return 61;var re=Wn(B);if(0>G||(re.flags&2097155)===0)throw new St(28);return cs(re,re.node,G),0}catch(ue){if(typeof wr>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},G:function(B,G){try{if(G===0)return-28;var re=Lt("/")+1;return G<re?-68:(Xt("/",$,B,G),re)}catch(ue){if(typeof wr>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},K:function(B,G){try{return B=B?je($,B):"",yo(G,Yi(B,!0))}catch(re){if(typeof wr>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},C:function(B,G,re){try{return G=G?je($,G):"",G=Ys(B,G),Yt(G,re),0}catch(ue){if(typeof wr>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},J:function(B,G,re,ue){try{G=G?je($,G):"";var we=ue&256;return G=Ys(B,G,ue&4096),yo(re,we?Yi(G,!0):Yi(G))}catch($e){if(typeof wr>"u"||$e.name!=="ErrnoError")throw $e;return-$e.Pa}},x:function(B,G,re,ue){Ba=ue;try{G=G?je($,G):"",G=Ys(B,G);var we=ue?_s():0;return Nn(G,re,we).fd}catch($e){if(typeof wr>"u"||$e.name!=="ErrnoError")throw $e;return-$e.Pa}},v:function(B,G,re,ue){try{if(G=G?je($,G):"",G=Ys(B,G),0>=ue)return-28;var we=en(G).node;if(!we)throw new St(44);if(!we.La.readlink)throw new St(28);var $e=we.La.readlink(we),Xe=Math.min(ue,Lt($e)),tn=A[re+Xe];return Xt($e,$,re,ue+1),A[re+Xe]=tn,Xe}catch(Bn){if(typeof wr>"u"||Bn.name!=="ErrnoError")throw Bn;return-Bn.Pa}},u:function(B){try{return B=B?je($,B):"",dr(B),0}catch(G){if(typeof wr>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},f:function(B,G){try{return B=B?je($,B):"",yo(G,Yi(B))}catch(re){if(typeof wr>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},r:function(B,G,re){try{return G=G?je($,G):"",G=Ys(B,G),re===0?Zr(G):re===512?dr(G):J("Invalid flags passed to unlinkat"),0}catch(ue){if(typeof wr>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},q:function(B,G,re){try{G=G?je($,G):"",G=Ys(B,G,!0);var ue=Date.now(),we,$e;if(re){var Xe=q[re>>2]+4294967296*H[re+4>>2],tn=H[re+8>>2];tn==1073741823?we=ue:tn==1073741822?we=null:we=1e3*Xe+tn/1e6,re+=16,Xe=q[re>>2]+4294967296*H[re+4>>2],tn=H[re+8>>2],tn==1073741823?$e=ue:tn==1073741822?$e=null:$e=1e3*Xe+tn/1e6}else $e=we=ue;if(($e??we)!==null){B=we;var Bn=en(G,{$a:!0}).node;Fr(Bn.La.Ua)(Bn,{atime:B,mtime:$e})}return 0}catch(Pn){if(typeof wr>"u"||Pn.name!=="ErrnoError")throw Pn;return-Pn.Pa}},m:()=>J(""),l:()=>{Re=!1,ec=0},A:function(B,G){B=-9007199254740992>B||9007199254740992<B?NaN:Number(B),B=new Date(1e3*B),H[G>>2]=B.getSeconds(),H[G+4>>2]=B.getMinutes(),H[G+8>>2]=B.getHours(),H[G+12>>2]=B.getDate(),H[G+16>>2]=B.getMonth(),H[G+20>>2]=B.getFullYear()-1900,H[G+24>>2]=B.getDay();var re=B.getFullYear();H[G+28>>2]=(re%4!==0||re%100===0&&re%400!==0?tc:bo)[B.getMonth()]+B.getDate()-1|0,H[G+36>>2]=-(60*B.getTimezoneOffset()),re=new Date(B.getFullYear(),6,1).getTimezoneOffset();var ue=new Date(B.getFullYear(),0,1).getTimezoneOffset();H[G+32>>2]=(re!=ue&&B.getTimezoneOffset()==Math.min(ue,re))|0},y:function(B,G,re,ue,we,$e,Xe){we=-9007199254740992>we||9007199254740992<we?NaN:Number(we);try{if(isNaN(we))return 61;var tn=Wn(ue);if((G&2)!==0&&(re&2)===0&&(tn.flags&2097155)!==2)throw new St(2);if((tn.flags&2097155)===1)throw new St(2);if(!tn.Ma.ib)throw new St(43);if(!B)throw new St(28);var Bn=tn.Ma.ib(tn,B,we,G,re),Pn=Bn.Kb;return H[$e>>2]=Bn.Ab,q[Xe>>2]=Pn,0}catch(Vr){if(typeof wr>"u"||Vr.name!=="ErrnoError")throw Vr;return-Vr.Pa}},z:function(B,G,re,ue,we,$e){$e=-9007199254740992>$e||9007199254740992<$e?NaN:Number($e);try{var Xe=Wn(we);if(re&2){if(re=$e,(Xe.node.mode&61440)!==32768)throw new St(43);if(!(ue&2)){var tn=$.slice(B,B+G);Xe.Ma.jb&&Xe.Ma.jb(Xe,tn,re,G,ue)}}}catch(Bn){if(typeof wr>"u"||Bn.name!=="ErrnoError")throw Bn;return-Bn.Pa}},n:(B,G)=>{if(Xs[B]&&(clearTimeout(Xs[B].id),delete Xs[B]),!G)return 0;var re=setTimeout(()=>{delete Xs[B],Zs(()=>ro(B,performance.now()))},G);return Xs[B]={id:re,Xb:G},0},B:(B,G,re,ue)=>{var we=new Date().getFullYear(),$e=new Date(we,0,1).getTimezoneOffset();we=new Date(we,6,1).getTimezoneOffset(),q[B>>2]=60*Math.max($e,we),H[G>>2]=+($e!=we),G=Xe=>{var tn=Math.abs(Xe);return`UTC${0<=Xe?"-":"+"}${String(Math.floor(tn/60)).padStart(2,"0")}${String(tn%60).padStart(2,"0")}`},B=G($e),G=G(we),we<$e?(Xt(B,$,re,17),Xt(G,$,ue,17)):(Xt(B,$,ue,17),Xt(G,$,re,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:B=>{var G=$.length;if(B>>>=0,2147483648<B)return!1;for(var re=1;4>=re;re*=2){var ue=G*(1+.2/re);ue=Math.min(ue,B+100663296);e:{ue=(Math.min(2147483648,65536*Math.ceil(Math.max(B,ue)/65536))-N.buffer.byteLength+65535)/65536|0;try{N.grow(ue),ie();var we=1;break e}catch{}we=void 0}if(we)return!0}return!1},E:(B,G)=>{var re=0;return nc().forEach((ue,we)=>{var $e=G+re;for(we=q[B+4*we>>2]=$e,$e=0;$e<ue.length;++$e)A[we++]=ue.charCodeAt($e);A[we]=0,re+=ue.length+1}),0},F:(B,G)=>{var re=nc();q[B>>2]=re.length;var ue=0;return re.forEach(we=>ue+=we.length+1),q[G>>2]=ue,0},e:function(B){try{var G=Wn(B);return Tr(G),0}catch(re){if(typeof wr>"u"||re.name!=="ErrnoError")throw re;return re.Pa}},p:function(B,G){try{var re=Wn(B);return A[G]=re.tty?2:wn(re.mode)?3:(re.mode&61440)===40960?7:4,F[G+2>>1]=0,z[G+8>>3]=BigInt(0),z[G+16>>3]=BigInt(0),0}catch(ue){if(typeof wr>"u"||ue.name!=="ErrnoError")throw ue;return ue.Pa}},w:function(B,G,re,ue){try{e:{var we=Wn(B);B=G;for(var $e,Xe=G=0;Xe<re;Xe++){var tn=q[B>>2],Bn=q[B+4>>2];B+=8;var Pn=Ao(we,A,tn,Bn,$e);if(0>Pn){var Vr=-1;break e}if(G+=Pn,Pn<Bn)break;typeof $e<"u"&&($e+=Pn)}Vr=G}return q[ue>>2]=Vr,0}catch(Ii){if(typeof wr>"u"||Ii.name!=="ErrnoError")throw Ii;return Ii.Pa}},D:function(B,G,re,ue){G=-9007199254740992>G||9007199254740992<G?NaN:Number(G);try{if(isNaN(G))return 61;var we=Wn(B);return no(we,G,re),z[ue>>3]=BigInt(we.position),we.ob&&G===0&&re===0&&(we.ob=null),0}catch($e){if(typeof wr>"u"||$e.name!=="ErrnoError")throw $e;return $e.Pa}},I:function(B){try{var G=Wn(B);return G.Ma?.fsync?G.Ma.fsync(G):0}catch(re){if(typeof wr>"u"||re.name!=="ErrnoError")throw re;return re.Pa}},t:function(B,G,re,ue){try{e:{var we=Wn(B);B=G;for(var $e,Xe=G=0;Xe<re;Xe++){var tn=q[B>>2],Bn=q[B+4>>2];B+=8;var Pn=Bc(we,A,tn,Bn,$e);if(0>Pn){var Vr=-1;break e}if(G+=Pn,Pn<Bn)break;typeof $e<"u"&&($e+=Pn)}Vr=G}return q[ue>>2]=Vr,0}catch(Ii){if(typeof wr>"u"||Ii.name!=="ErrnoError")throw Ii;return Ii.Pa}},k:pl},ln;(async function(){function B(re){return ln=re.exports,N=ln.M,ie(),wo=ln.O,U--,u.monitorRunDependencies?.(U),U==0&&Y&&(re=Y,Y=null,re()),ln}U++,u.monitorRunDependencies?.(U);var G={a:Ms};return u.instantiateWasm?new Promise(re=>{u.instantiateWasm(G,(ue,we)=>{B(ue),re(ue.exports)})}):(he??=u.locateFile?u.locateFile("sql-wasm.wasm",v):v+"sql-wasm.wasm",B((await le(G)).instance))})(),u._sqlite3_free=B=>(u._sqlite3_free=ln.P)(B),u._sqlite3_value_text=B=>(u._sqlite3_value_text=ln.Q)(B),u._sqlite3_prepare_v2=(B,G,re,ue,we)=>(u._sqlite3_prepare_v2=ln.R)(B,G,re,ue,we),u._sqlite3_step=B=>(u._sqlite3_step=ln.S)(B),u._sqlite3_reset=B=>(u._sqlite3_reset=ln.T)(B),u._sqlite3_exec=(B,G,re,ue,we)=>(u._sqlite3_exec=ln.U)(B,G,re,ue,we),u._sqlite3_finalize=B=>(u._sqlite3_finalize=ln.V)(B),u._sqlite3_column_name=(B,G)=>(u._sqlite3_column_name=ln.W)(B,G),u._sqlite3_column_text=(B,G)=>(u._sqlite3_column_text=ln.X)(B,G),u._sqlite3_column_type=(B,G)=>(u._sqlite3_column_type=ln.Y)(B,G),u._sqlite3_errmsg=B=>(u._sqlite3_errmsg=ln.Z)(B),u._sqlite3_clear_bindings=B=>(u._sqlite3_clear_bindings=ln._)(B),u._sqlite3_value_blob=B=>(u._sqlite3_value_blob=ln.$)(B),u._sqlite3_value_bytes=B=>(u._sqlite3_value_bytes=ln.aa)(B),u._sqlite3_value_double=B=>(u._sqlite3_value_double=ln.ba)(B),u._sqlite3_value_int=B=>(u._sqlite3_value_int=ln.ca)(B),u._sqlite3_value_type=B=>(u._sqlite3_value_type=ln.da)(B),u._sqlite3_result_blob=(B,G,re,ue)=>(u._sqlite3_result_blob=ln.ea)(B,G,re,ue),u._sqlite3_result_double=(B,G)=>(u._sqlite3_result_double=ln.fa)(B,G),u._sqlite3_result_error=(B,G,re)=>(u._sqlite3_result_error=ln.ga)(B,G,re),u._sqlite3_result_int=(B,G)=>(u._sqlite3_result_int=ln.ha)(B,G),u._sqlite3_result_int64=(B,G)=>(u._sqlite3_result_int64=ln.ia)(B,G),u._sqlite3_result_null=B=>(u._sqlite3_result_null=ln.ja)(B),u._sqlite3_result_text=(B,G,re,ue)=>(u._sqlite3_result_text=ln.ka)(B,G,re,ue),u._sqlite3_aggregate_context=(B,G)=>(u._sqlite3_aggregate_context=ln.la)(B,G),u._sqlite3_column_count=B=>(u._sqlite3_column_count=ln.ma)(B),u._sqlite3_data_count=B=>(u._sqlite3_data_count=ln.na)(B),u._sqlite3_column_blob=(B,G)=>(u._sqlite3_column_blob=ln.oa)(B,G),u._sqlite3_column_bytes=(B,G)=>(u._sqlite3_column_bytes=ln.pa)(B,G),u._sqlite3_column_double=(B,G)=>(u._sqlite3_column_double=ln.qa)(B,G),u._sqlite3_bind_blob=(B,G,re,ue,we)=>(u._sqlite3_bind_blob=ln.ra)(B,G,re,ue,we),u._sqlite3_bind_double=(B,G,re)=>(u._sqlite3_bind_double=ln.sa)(B,G,re),u._sqlite3_bind_int=(B,G,re)=>(u._sqlite3_bind_int=ln.ta)(B,G,re),u._sqlite3_bind_text=(B,G,re,ue,we)=>(u._sqlite3_bind_text=ln.ua)(B,G,re,ue,we),u._sqlite3_bind_parameter_index=(B,G)=>(u._sqlite3_bind_parameter_index=ln.va)(B,G),u._sqlite3_sql=B=>(u._sqlite3_sql=ln.wa)(B),u._sqlite3_normalized_sql=B=>(u._sqlite3_normalized_sql=ln.xa)(B),u._sqlite3_changes=B=>(u._sqlite3_changes=ln.ya)(B),u._sqlite3_close_v2=B=>(u._sqlite3_close_v2=ln.za)(B),u._sqlite3_create_function_v2=(B,G,re,ue,we,$e,Xe,tn,Bn)=>(u._sqlite3_create_function_v2=ln.Aa)(B,G,re,ue,we,$e,Xe,tn,Bn),u._sqlite3_update_hook=(B,G,re)=>(u._sqlite3_update_hook=ln.Ba)(B,G,re),u._sqlite3_open=(B,G)=>(u._sqlite3_open=ln.Ca)(B,G);var ja=u._malloc=B=>(ja=u._malloc=ln.Da)(B),Lo=u._free=B=>(Lo=u._free=ln.Ea)(B);u._RegisterExtensionFunctions=B=>(u._RegisterExtensionFunctions=ln.Fa)(B);var rc=(B,G)=>(rc=ln.Ga)(B,G),ro=(B,G)=>(ro=ln.Ha)(B,G),Fi=B=>(Fi=ln.Ia)(B),Zi=B=>(Zi=ln.Ja)(B),hr=()=>(hr=ln.Ka)();u.stackSave=()=>hr(),u.stackRestore=B=>Fi(B),u.stackAlloc=B=>Zi(B),u.cwrap=(B,G,re,ue)=>{var we=!re||re.every($e=>$e==="number"||$e==="boolean");return G!=="string"&&we&&!ue?u["_"+B]:(...$e)=>Fc(B,G,re,$e)},u.addFunction=Ts,u.removeFunction=So,u.UTF8ToString=lt,u.ALLOC_NORMAL=Fa,u.allocate=ri,u.allocateUTF8OnStack=Sr;function Uo(){function B(){if(u.calledRun=!0,!D){if(!u.noFSInit&&!yr){var G,re;yr=!0,ue??=u.stdin,G??=u.stdout,re??=u.stderr,ue?fi("stdin",ue):br("/dev/tty","/dev/stdin"),G?fi("stdout",null,G):br("/dev/tty","/dev/stdout"),re?fi("stderr",null,re):br("/dev/tty1","/dev/stderr"),Nn("/dev/stdin",0),Nn("/dev/stdout",1),Nn("/dev/stderr",1)}if(ln.N(),Qn=!1,u.onRuntimeInitialized?.(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var ue=u.postRun.shift();Te.unshift(ue)}ke(Te)}}if(0<U)Y=Uo;else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)ye();ke(me),0<U?Y=Uo:u.setStatus?(u.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>u.setStatus(""),1),B()},1)):B()}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return Uo(),a}),n)};e.exports=r,e.exports.default=r})(oC)),oC.exports}var Q8=Z8();const J8=Gv(Q8);class e7{constructor(t){this.curRow={},this.fieldNames=t.map(n=>n.toUpperCase())}setCurrentRow(t){this.curRow=t}getValue(t){if(t<0||t>=this.fieldNames.length)return"";const n=this.fieldNames[t];return(this.curRow[n]||"").toString()}}class YP{constructor(t){this.rowEngine=t}getString(t){return this.rowEngine.getValue(t)}getFloat(t){return parseFloat(this.rowEngine.getValue(t))}}class t7{constructor(t,n){this.rows=[],this.rowPointer=0,this.cols=t.map(r=>({name:r})),this.rows=n,this.rowEngine=new e7(t),this.currentRow=new YP(this.rowEngine)}goTop(){this.rowPointer=0}skip(t){const n=this.rowPointer+t;return n<0||n>=this.rows.length?!1:(this.rowPointer=n,!0)}getColumn(t){return t<0||t>=this.cols.length?null:this.cols[t]}getRow(){if(this.rowPointer>=this.rows.length)return null;const t=this.rows[this.rowPointer];return this.rowEngine.setCurrentRow(t),this.currentRow}getColumnCount(){return this.cols.length}getRowCount(){return this.rows.length}}class n7{async query(t){const i=await(await fetch("https://stratum.ac.ru/enteronline/api/sql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:t})})).json();return new t7(i.fields,i.rows)}close(){}}class r7{constructor(){this.curRow=[]}setCurrentRow(t){this.curRow=t}getValue(t){return t<0||t>=this.curRow.length?"":(this.curRow[t]||"").toString()}}class i7{constructor(t){this.res=t,this.rowPointer=0,console.log(t),this.cols=t.columns.map(n=>({name:n})),this.rowEngine=new r7,this.currentRow=new YP(this.rowEngine)}goTop(){this.rowPointer=0}skip(t){const n=this.rowPointer+t;return n<0||n>=this.res.values.length?!1:(this.rowPointer=n,!0)}getColumn(t){return t<0||t>=this.cols.length?null:this.cols[t]}getRow(){if(this.rowPointer>=this.res.values.length)return null;const t=this.res.values[this.rowPointer];return this.rowEngine.setCurrentRow(t),this.currentRow}getColumnCount(){return this.cols.length}getRowCount(){return this.res.values.length}}class o7{constructor(t){this.db=t,console.log(t)}async query(t){const n=this.db.exec(t);return new i7(n[0])}close(){}}class sC{constructor(t){this.s=t}static async create(){const t=await J8({locateFile:n=>`https://sql.js.org/dist/${n}`});return new sC(t)}mysql(){return new n7}sqlite(t){const n=new this.s.Database(t);return new o7(n)}}function dy(...e){console.warn(...e)}function s7(e,t,n,r){let i;switch(t){case"sqlite":{let s=null;if(e){const a=this.prj.dir.resolve(e),c=a.file();if(!c)return 0;if(!c.base64)return Ti.debugFile&&this._warn(`CreateStream: Файл ${a} (${c.size} байт) существует, но формат не base64.`),0;s=qv(c.base64)}i=this.kernel.dbDriverFactory.sqlite(s);break}default:{i=this.kernel.dbDriverFactory.mysql(),console.warn(`Неизвестный тип БД: ${t}; fallback к Mysql (remote)`);break}}const o=hs.freeKey(this.kernel.dbs,100);return this.kernel.dbs.set(o,i),o}function a7(e){const t=this.kernel.dbs.get(e);return t?(t.close(),this.kernel.dbs.delete(e),1):0}function l7(e){return this.kernel.dbTables.delete(e)?1:0}function c7(){return dy("DbGetError"),0}function u7(e){return dy("DbGetErrorStr",e),""}function d7(e,t){throw dy("DbSetDir",e,t),Error("'DbSetDir' not implemented")}function h7(){dy("DbCloseAll")}function f7(e){const t=this.kernel.dbTables.get(e);return t?(t.goTop(),t.getRowCount()?1:0):0}function p7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.skip(t)?1:0}function g7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.getColumn(t-1)?.name||""}function m7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.getRow()?.getString(t-1)||""}function v7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.getRow()?.getFloat(t-1)||0}async function XP(e,t,n){const r=e.kernel.dbs.get(t);if(!r)return 0;const i=await r.query(n),o=hs.freeKey(e.kernel.dbTables,1e3);return e.kernel.dbTables.set(o,i),o}function y7(e,t,n){const r=this.kernel.streams.get(t);if(!r)return Promise.resolve(0);const i=Pp(r.bytes());return XP(this,e,i)}function b7(e,t,n){return XP(this,e,t)}function w7(e){const t=this.kernel.dbTables.get(e);return t?t.getRowCount():-1}function S7(e,t,n){const r=this.kernel.streams.get(n);if(!r)return 0;const i=this.kernel.dbTables.get(e);if(!i)return 0;const o=t-1;if(o<0||o>i.getColumnCount())return 0;const s=i.getRow();if(!s)return 0;const a=s.getString(t);return r.write(Dp(a)),1}function C7(e){e("DbOpenBase",{a:[fe,fe,fe,fe],r:P},s7),e("DbCloseBase",{a:[P],r:k},a7),e("DbCloseTable",{a:[P],r:k},l7),e("DbGetError",{r:k},c7),e("DbGetErrorStr",{a:[k],r:fe},u7),e("DbSetDir",{a:[P,fe],r:k},d7),e("DbCloseAll",{},h7),e("DbGoTop",{a:[P],r:k},f7),e("DbSkip",{a:[P,k],r:k},p7),e("DbGetField",{a:[P,k],r:fe},m7),e("DbSQL",{a:[P,fe,k],r:P,kind:"async"},b7),e("DbSQL",{a:[P,P,k],r:P,kind:"async"},y7),e("DbGetCount",{a:[P],r:k},w7),e("DbGetFieldN",{a:[P,k],r:k},v7),e("DbGetFieldName",{a:[P,k],r:fe},g7),e("DbGetBlob",{a:[P,k,P],r:k},S7)}const x7={name:"db",deps:["streams"],register:C7,setup:async e=>{e.dbDriverFactory=await sC.create(),e.dbs=new Map,e.dbTables=new Map}},_7={dialog:"pVED4Nqg"};class E7{constructor(){this.onClose=new aa;const t=this.domElement=document.createElement("dialog");t.className=_7.dialog,t.innerHTML=`
<form method="dialog">
  <p><input type="file"></p>

  <menu>
    <button value="ok" disabled>Подтвердить выбор</button>
    <button value="cancel">Отмена</button>
  </menu>
</form>
    `;const n=t.querySelector('input[type="file"]'),r=t.querySelector('button[value="ok"]');n.addEventListener("change",()=>{r.disabled=!n.files?.length}),t.addEventListener("close",()=>{const i=t.returnValue==="ok"&&n.files?.item(0);this.onClose.dispatch(i||null)})}open(){this.domElement.showModal()}}let T7=0;async function M7(e,t,n){const{kernel:r}=this;r.block();const i=new E7;r.windowSystem.windowFactory.root.ownerDocument.body.append(i.domElement),i.open();const o=await new Promise(c=>i.onClose.add(c));let s=null;if(o)try{if(o.type.startsWith("image/")){const c=URL.createObjectURL(o),u=await F0(c),{naturalWidth:h,naturalHeight:f}=u;s={size:o.size,image:{width:h,height:f,src:c}}}else{const c=await o.arrayBuffer(),u=Kv(new Uint8Array(c));s={size:o.size,base64:u}}}catch(c){console.warn(c.message)}if(i.domElement.remove(),r.unblock(),!s)return"";const a=r.fs.uploadsDir.resolve("file"+ ++T7);return a.create("file",s),a.toString()}function O7(e,t,n){return this.kernel.fs.downloadsDir.resolve(n||"data.txt").toString()}function R7(e,t,n){switch(n){case n&ct.MB_OK:return alert(e),1;case n&ct.MB_OKCANCEL:return confirm(e)?1:2;case n&ct.MB_YESNO:return confirm(e)?6:7;default:return 0}}function I7(e,t,n){return prompt(e||t,n)||""}function k7(e,t){return this.kernel._functionNotImplemented("DialogBox"),1}function P7(e,t,n){throw Error("ChoseFolderDialog: Not implemented")}function D7(e){e("ChoseFolderDialog",{a:[fe,fe,k],r:fe},P7),e("DialogBox",{a:[fe,P],r:1},k7),e("FileLoadDialog",{a:[fe,fe,fe],r:fe,kind:"async"},M7),e("FileSaveDialog",{a:[fe,fe,fe],r:fe},O7),e("MessageBox",{a:[fe,fe,k],r:k},R7),e("InputBox",{a:[fe,fe,fe],r:fe},I7)}const A7={name:"dialogs",deps:["windows"],register:D7};function L7(e){return this.prj.dir.resolve(e).create("folder")?1:0}function N7(e){const t=this.prj.dir.resolve(e);return t.fileExist()||this.kernel.hasProject(t)?1:0}function B7(e){const t=this.kernel.classes.get(e);return t?t.file.path.resolve("..").toString()+"\\":""}function F7(){return this.prj.dir.toString()}function j7(){return"C:\\Windows"}function V7(e){const t=this.prj.dir.resolve(e).matchGlob();if(!t.length)return 0;const n=t.map(r=>{const i=[["NAME",{type:"STRING",value:r.name}],["SIZE",{type:"FLOAT",value:r.size}],["ATTR",{type:"FLOAT",value:0}],["YEAR",{type:"FLOAT",value:2007}],["MONTH",{type:"FLOAT",value:9}],["DAY",{type:"FLOAT",value:3}],["DAYOFWEEK",{type:"FLOAT",value:1}],["HOUR",{type:"FLOAT",value:4}],["MINUTE",{type:"FLOAT",value:20}],["SECOND",{type:"FLOAT",value:0}]];return{type:"STRUCT",realType:"FILE_ATTRIBUTE",value:new Map(i)}});return this.kernel.createArray(n).key}function $7(e){return e.length===0||e[e.length-1]==="\\"?e:e+"\\"}function z7(e){e("CreateDir",{a:[fe],r:k},L7),e("FileExist",{a:[fe],r:k},N7),e("GetClassDirectory",{a:[fe],r:fe},B7),e("GetProjectDirectory",{r:fe},F7),e("GetWindowsDirectory",{r:fe},j7),e("GetFileList",{a:[fe,k],r:P},V7),e("AddSlash",{a:[fe],r:fe},$7)}const U7={name:"filesystem",deps:["arrays"],register:z7};function H7(e){const t=this.kernel.scenes.get(e);return t?t.scene.x:0}function G7(e){const t=this.kernel.scenes.get(e);return t?t.scene.y:0}function W7(e,t,n){const r=this.kernel.scenes.get(e);return r?(r.setSceneOrg(t,n),1):0}function K7(e){return this.kernel.scenes.get(e)?.scale??0}function q7(e,t){const n=this.kernel.scenes.get(e);return n?(n.setScale(t),1):0}function Y7(e,t,n,r,i,o,s){const a=this.kernel.scenes.get(e)?.scene.toBlob({x:r,y:i,w:o,h:s});if(!a)return 0;const c=t.match(/(?:.*[\\/])?(.+?)(\..*)?$/),u=c&&c.length>1?c[1]:"Screenshot";return a.then(h=>B0(h,u)),1}function X7(e){return this.kernel.scenes.get(e)?.scene.background?.key??0}function Z7(e,t){const n=this.kernel.scenes.get(e)?.scene;return n?.set({background:n.brushes.get(t)??null})?1:0}function Q7(){return 0}function J7(e){return this.kernel.scenes.get(e)?.scene.hiddenLayers??0}function eY(e,t){return this.kernel.scenes.get(e)?.scene.set({hiddenLayers:t})?1:0}function tY(){return 1}function nY(e,t,n,r,i){return this.kernel.scenes.get(e)?.scene.pen({color:r,rop:i,style:t,width:n}).key??0}function rY(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.color??0}function iY(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.rop??0}function oY(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.style??0}function sY(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.width??0}function aY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({color:n})?1:0}function lY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({rop:n})?1:0}function cY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({style:n})?1:0}function uY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({width:n})?1:0}function dY(e,t,n,r,i,o){const s=this.kernel.scenes.get(e)?.scene;return s?.brush({color:r,hatch:n,rop:o,style:t,image:s.imagesOpaque.get(i)}).key??0}function hY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.color??0}function fY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.rop??0}function pY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.style??0}function gY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.hatch??0}function mY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.image?.key??0}function vY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({color:n})?1:0}function yY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({rop:n})?1:0}function bY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({style:n})?1:0}function wY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({hatch:n})?1:0}function SY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;return r?.brushes.get(t)?.set({image:r.imagesOpaque.get(n)??null})?1:0}function ZP({kernel:e},t,n,r,i){return e.scenes.get(t)?.scene.font({name:n,size:r,style:i}).key??0}function CY(e,t,n,r){return ZP(this,e,t,n,r)}function xY(e,t,n,r){return ZP(this,e,t,n*_9,r)}function _Y(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.name??""}function EY(e,t){return(this.kernel.scenes.get(e)?.scene.fonts.get(t)?.size??0)*x9}function TY(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.style??0}function MY(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({name:n})?1:0}function OY(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({size:n})?1:0}function RY(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({style:n})?1:0}function IY(e,t){return this.kernel.scenes.get(e)?.scene.string(t).key??0}function kY(e,t){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.text??""}function PY(e,t,n){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.set({text:n})?1:0}function DY(e,t,n,r,i){const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const s=o.strings.get(n);if(!s)return 0;const a=o.fonts.get(t);return a?o.text([{string:s,font:a,fgcolor:r,bgcolor:i}]).key:0}function AY(e,t){return this.kernel.scenes.get(e)?.scene.texts.get(t)?.parts.length??0}function Yh({kernel:e},t,n,r){if(r<0)return null;const i=e.scenes.get(t)?.scene.texts.get(n)?.parts;return i&&r<i.length?i[r]:null}function QP(e,t,n=0){return Yh(this,e,t,n)?.font.key??0}function JP(e,t,n=0){return Yh(this,e,t,n)?.string.key??0}function eD(e,t,n=0){return Yh(this,e,t,n)?.fgcolor??0}function tD(e,t,n=0){return Yh(this,e,t,n)?.bgcolor??0}function nD(e,t,n,r,i,o,s){if(n<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t)?.parts;return!c||n>=c.length?0:(c[n].set({string:a.strings.get(i),font:a.fonts.get(r),fgcolor:o,bgcolor:s}),1)}function LY(e,t,n,r,i,o){return nD.call(this,e,t,0,n,r,i,o)}function NY(e,t,n,r){if(n<0)return 0;const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const o=i.texts.get(t)?.parts;if(!o||n>=o.length)return 0;const s=i.fonts.get(r);return s?(o[n].set({font:s}),1):0}function BY(e,t,n,r){if(n<0)return 0;const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const o=i.texts.get(t)?.parts;if(!o||n>=o.length)return 0;const s=i.strings.get(r);return s?(o[n].set({string:s}),1):0}function FY(e,t,n,r){return Yh(this,e,t,n)?.set({fgcolor:r})?1:0}function jY(e,t,n,r){return Yh(this,e,t,n)?.set({bgcolor:r})?1:0}function rD(e,t,n,r,i,o,s){if(n<0)return 0;const a=this.kernel.scenes.get(e)?.scene;if(!a)return 0;const c=a.texts.get(t);if(!c)return 0;const u=a.fonts.get(r);if(!u)return 0;const h=a.strings.get(i);if(!h)return 0;const f=n<c.parts.length,g=c.createPart({font:u,string:h,fgcolor:o,bgcolor:s},f);if(f){const m=c.parts.slice();m.splice(n,0,g),c.set({parts:m})}return 1}function VY(e,t,n,r,i,o){return rD.call(this,e,t,1/0,n,r,i,o)}function $Y(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.texts.get(t);if(!i||n>=i.parts.length)return 0;const o=i.parts.slice();return o.splice(n,1),i.set({parts:o},!0),1}function iD({kernel:e},{prj:t},n,r,i){const o=e.scenes.get(n)?.scene;if(!o)return 0;const s=t.dir.resolve(r),a=s.file();return a?a.image?o.image(a.image,{opaque:i}).key:(Ti.debugFile&&console.warn(`create(Double)DIB2d: Файл ${s} существует, но формат не image.`),0):0}function oD(e,t){return iD(this,this,e,t,!0)}function sD(e,t){return iD(this,this,e,t)}function zY(e,t,n,r){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.getPixel(n,r)??0}function UY(e,t,n,r,i){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.setPixel(n,r,i)?1:0}function HY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;switch(t){case ct.PEN2D:i=r.pens;break;case ct.BRUSH2D:i=r.brushes;break;case ct.DOUBLEDIB2D:i=r.images;break;case ct.DIB2D:i=r.imagesOpaque;break;case ct.STRING2D:i=r.strings;break;case ct.FONT2D:i=r.fonts;break;case ct.TEXT2D:i=r.texts;break;case ct.SPACE3D:throw Error("Не реализовано");default:return 0}return i.get(n)?.delete(!0)?1:0}function GY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;switch(t){case ct.PEN2D:i=r.pens;break;case ct.BRUSH2D:i=r.brushes;break;case ct.DOUBLEDIB2D:i=r.images;break;case ct.DIB2D:i=r.imagesOpaque;break;case ct.STRING2D:i=r.strings;break;case ct.FONT2D:i=r.fonts;break;case ct.TEXT2D:i=r.texts;break;case ct.SPACE3D:throw Error("Не реализовано");default:return 0}let o=1/0;for(const s of i.keys())s>n&&s<o&&(o=s);return o===1/0?0:o}function WY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;switch(t){case ct.PEN2D:i=r.pens;break;case ct.BRUSH2D:i=r.brushes;break;case ct.DOUBLEDIB2D:i=r.images;break;case ct.DIB2D:i=r.imagesOpaque;break;case ct.STRING2D:i=r.strings;break;case ct.FONT2D:i=r.fonts;break;case ct.TEXT2D:i=r.texts;break;case ct.SPACE3D:throw Error("Не реализовано");default:return 0}return i.get(n)?.subs.size??0}function KY(e,t,n){return Xa(e,t,n)}function qY(e,t,n,r){return Xa(e,t,n,r===1?"transparent":r===2?"syscolor":"rgb")}function YY(e){return e&4294967295}function XY(e){return AP(e)}function ZY(e){return LP(e)}function QY(e){return NP(e)}function JY(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=this.prj.dir.resolve(t).file()?.scene?.data;return s?o.paste(s,n,r,i)?.key??0:0}function eX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.delete(!0)?1:0}function tX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":return ct.OTGROUP2D;case"line":return ct.OTLINE_2D;case"imageView":return n.opaque?ct.OTBITMAP_2D:ct.OTDOUBLEBITMAP_2D;case"textView":return ct.OTTEXT_2D;case"videoView":return 0;case"input":return 26}}function nX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.data?.name??""}function rX(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?(r.data.name=n,1):0}function iX(e,t,n){if(!n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;if(t){const o=r.objects.get(t);if(!o)return 0;if(o.data?.name===n)return o.key;if(o.type!=="group")return 0;i=o.descendants()}else i=r.objects.values();for(const o of i)if(o.data?.name===n)return o.key;return 0}function oX(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const i=n.invmatrix;if(!i)return r.x;const o=r.x,s=r.y,a=o*i[2]+s*i[5]+i[8];return(o*i[0]+s*i[3]+i[6])/a}function sX(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const i=n.invmatrix;if(!i)return r.y;const o=r.x,s=r.y,a=o*i[2]+s*i[5]+i[8];return(o*i[1]+s*i[4]+i[7])/a}function aX(e,t,n,r){const i=this.kernel.scenes.get(e);if(!i)return 0;const o=i.scene.objects.get(t);if(!o)return 0;let s=n,a=r;const c=i.matrix;if(c){const u=n*c[2]+r*c[5]+c[8];s=(n*c[0]+r*c[3]+c[6])/u,a=(n*c[1]+r*c[4]+c[7])/u}return o.set({x:s,y:a}),1}function lX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.width??0}function cX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.height??0}function uX(e,t,n,r){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.set({width:n,height:r})?1:0}function dX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.width;case"imageView":return n.image.width;case"textView":return n.text.width;case"videoView":return n.video.width}}function hX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.height;case"imageView":return n.image.height;case"textView":return n.text.height;case"videoView":return n.video.height}}function fX(e,t,n,r,i,o){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!s)return n[r]=0,i[o]=0,0;switch(s.type){case"group":case"line":case"input":return n[r]=s.width,i[o]=s.height,1;case"imageView":return n[r]=s.image.width,i[o]=s.image.height,1;case"textView":return n[r]=s.text.width,i[o]=s.text.height,1;case"videoView":return n[r]=s.video.width,i[o]=s.video.height,1}}function pX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n&&(n.type==="textView"||n.type==="imageView")?n.angle:0}function gX(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene.objects.get(t);if(!s)return 0;let a=n,c=r;const u=o.matrix;if(u){const h=n*u[2]+r*u[5]+u[8];a=(n*u[0]+r*u[3]+u[6])/h,c=(n*u[1]+r*u[4]+u[7])/h}return s.rotate(i,{x:a,y:c}),1}function aC({kernel:e},t,n,r){const i=e.scenes.get(t)?.scene.objects.get(n);if(!i)return 0;const o=r?i.attrib&-2:i.attrib|1;return i.set({attrib:o}),1}function mX(e,t,n){return aC(this,e,t,!!n)}function vX(e,t){aC(this,e,t,!0)}function yX(e,t){aC(this,e,t,!1)}function bX(e,t,n){return this.kernel.scenes.get(e)?.pick(t,n,!0)?.key??0}function wX(){return this.kernel.windowSystem.lastPickedPrimaryKey}function SX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?(this.kernel.windowSystem.clipboard=cy(n),1):0}function CX(e,t,n,r){const i=this.kernel.windowSystem.clipboard;return i?this.kernel.scenes.get(e)?.paste(i,t,n,r)?.key??0:0}function xX(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!r)return 0;let i=r.attrib;switch(n){case 0:i&=-13;break;case 1:i&=~la,i|=zp;break;case 2:i&=~zp,i|=la;break;default:return 0}return r.set({attrib:i}),1}function _X(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.attrib??0}function EX(e,t,n,r){const i=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!i)return 0;let{attrib:o}=i;switch(r){case ct.ATTRSET:o|=n;break;case ct.ATTRRESET:o&=~n;break;case ct.ATTRPUT:o=n;break;default:return 0}return i.set({attrib:o}),1}function TX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=1/0;for(const i of n.objects.keys())i>t&&i<r&&(r=i);return r===1/0?0:r}function MX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(!i)return 0;const o=r.objects.get(n);return o&&i.x+i.width>=o.x&&o.x+o.width>=i.x&&i.y+i.height>=o.y&&o.y+o.height>=i.y?1:0}function OX(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[0].key:0}function RX(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[t.length-1].key:0}function IX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order,o=i.indexOf(r);return o<1?0:i[o-1].key}function kX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order,o=i.indexOf(r);return o>-1&&o<i.length-1?i[o+1].key:0}function PX(e,t){const n=t-1;if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.order;return r&&n<r.length?r[n].key:0}function DX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order.indexOf(r);return o<0?0:o+1}function AX(e,t,n){const r=n-1;if(r<0)return 0;const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const o=i.objects.get(t);if(!o||o.type==="group")return 0;const s=i.order,a=[];for(let c=0;c<s.length;++c){const u=s[c];u!==o&&a.push(u),r===c&&a.push(o)}return r>=s.length&&a.push(o),i.set({order:a}),1}function LX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order.filter(o=>o!==r);return i.unshift(r),n.set({order:i}),1}function NX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order.filter(o=>o!==r);return i.push(r),n.set({order:i}),1}function BX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(!i||i.type==="group")return 0;const o=r.objects.get(n);if(!o||o.type==="group")return 0;const s=r.order.slice(),a=s.indexOf(i);if(a<0)return 0;const c=s.indexOf(o);if(c<0)return 0;const u=s[a];return s[a]=s[c],s[c]=u,r.set({order:s}),1}function aD({kernel:e},t,n,r,i){const o=e.scenes.get(t);if(!o)return 0;const{matrix:s,scene:a}=o;if(s)for(let u=0;u<i.length;u+=2){const h=i[u+0],f=i[u+1],g=h*s[2]+f*s[5]+s[8];i[u+0]=(h*s[0]+f*s[3]+s[6])/g,i[u+1]=(h*s[1]+f*s[4]+s[7])/g}const c=a.line(i,{pen:a.pens.get(n),brush:a.brushes.get(r)});return a.set({order:a.order.concat(c)}),c.key}function FX(e,t,n,...r){return aD(this,e,t,n,r)}function jX(e,t,n,r,i){return aD(this,e,t,n,[r,i])}function VX(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene.objects.get(t);if(s?.type!=="line")return 0;let a=r,c=i;const u=o.matrix;if(u){const h=r*u[2]+i*u[5]+u[8];a=(r*u[0]+i*u[3]+u[6])/h,c=(r*u[1]+i*u[4]+u[7])/h}return s.addPoint({x:a,y:c},n)?1:0}function $X(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene.objects.get(t);if(s?.type!=="line")return 0;let a=r,c=i;const u=o.matrix;if(u){const h=r*u[2]+i*u[5]+u[8];a=(r*u[0]+i*u[3]+u[6])/h,c=(r*u[1]+i*u[4]+u[7])/h}return s.setPoint(n,{x:a,y:c})?1:0}function zX(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="line"&&r.removePoint(n)?1:0}function UX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.pen?.key||0}function HX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.brush?.key||0}function GX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"?n.length:0}function WX(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const i=r.scene.objects.get(t),o=i?.type==="line"&&i.point(n);if(!o)return 0;const{x:s,y:a}=o,c=r.invmatrix;if(!c)return s;const u=s*c[2]+a*c[5]+c[8];return(s*c[0]+a*c[3]+c[6])/u}function KX(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const i=r.scene.objects.get(t),o=i?.type==="line"&&i.point(n);if(!o)return 0;const{x:s,y:a}=o,c=r.invmatrix;if(!c)return a;const u=s*c[2]+a*c[5]+c[8];return(s*c[1]+a*c[4]+c[7])/u}function qX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);return i?.type==="line"&&i.set({brush:r.brushes.get(n)??null})?1:0}function YX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);return i?.type==="line"&&i.set({pen:r.pens.get(n)??null})?1:0}function XX(e,t,n,r,i,o,s,a){const c=this.kernel.scenes.get(e)?.scene.objects.get(t);if(c?.type!=="line")return 0;const u={angle:n,length:r,fill:!!i},h={angle:o,length:s,fill:!!a};return c.set({start:h,end:u}),1}function ZX(e,...t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=!0;const i=t.map(o=>{const s=n.objects.get(o);return(!s||s.parent)&&(r=!1),s});return r?n.group(i).key:0}function QX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type!=="group"?0:(n.set({children:[]}).delete(),1)}function JX(e,t,n){if(t===n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(i?.type!=="group")return 0;const o=r.objects.get(n);if(!o||o.parent)return 0;if(o.type==="group"){let s=i;for(;s=s.parent;)if(s===o)return 0}return i.set({children:i.children.concat(o)}),1}function eZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(i?.type!=="group")return 0;const o=r.objects.get(n);return o?.parent!==i?0:(i.set({children:i.children.filter(s=>s!==o)}),1)}function tZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="group"?n.children.length:0}function nZ(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(r?.type!=="group")return 0;const i=r.children;return n<i.length?i[n].key:0}function rZ(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.parent?.key??0}function iZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(i?.type!=="group")return 0;for(let o=0;o<i.children.length;++o){const s=i.children[o];if(s.key===n)return o+1;if(s.type==="group"){for(const a of s.descendants())if(a.key===n)return o+1}}return 0}function lD({kernel:e},t,n,r,i,o){const s=e.scenes.get(t);if(!s)return 0;const a=s.scene,c=(o?a.imagesOpaque:a.images).get(n);if(!c)return 0;let u=r,h=i;const f=s.matrix;if(f){const m=r*f[2]+i*f[5]+f[8];u=(r*f[0]+i*f[3]+f[6])/m,h=(r*f[1]+i*f[4]+f[7])/m}const g=a.imageView(c,{x:u,y:h,opaque:o});return a.set({order:a.order.concat(g)}),g.key}function oZ(e,t,n,r){return lD(this,e,t,n,r,!0)}function sZ(e,t,n,r){return lD(this,e,t,n,r)}function aZ(e,t,n,r,i,o,s,a,c,u){const h=this.kernel.scenes.get(e)?.scene.objects.get(t);if(h?.type!=="imageView")return n[r]=0,i[o]=0,s[a]=0,c[u]=0,0;const f=h.area;return n[r]=f?.x??0,i[o]=f?.y??0,s[a]=f?.w??h.image.width,c[u]=f?.h??h.image.height,1}function lZ(e,t,n,r,i,o){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);return s?.type==="imageView"&&s.set({area:{x:n,y:r,w:i,h:o}})?1:0}function cZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&n.opaque&&n.image.key||0}function uZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&!n.opaque&&n.image.key||0}function dZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.imagesOpaque.get(n);if(!i)return 0;const o=r.objects.get(t);return o?.type==="imageView"&&o.opaque&&o.set({image:i})?1:0}function hZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.images.get(n);if(!i)return 0;const o=r.objects.get(t);return o?.type==="imageView"&&!o.opaque&&o.set({image:i})?1:0}function fZ(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene,a=s.texts.get(t);if(!a)return 0;let c=n,u=r;const h=o.matrix;if(h){const g=n*h[2]+r*h[5]+h[8];c=(n*h[0]+r*h[3]+h[6])/g,u=(n*h[1]+r*h[4]+h[7])/g}const f=s.textView(a,{x:c,y:u,angle:i});return s.set({order:s.order.concat(f)}),f.key}function pZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="textView"&&n.text.key||0}function gZ(e){return this.kernel._functionNotImplemented("emptySpace2d",this),0}function mZ(e){e("GetSpaceOrg2dx",{a:[P],r:k},H7),e("GetSpaceOrg2dy",{a:[P],r:k},G7),e("SetSpaceOrg2d",{a:[P,k,k],r:k},W7),e("EmptySpace2d",{a:[P],r:k},gZ),e("GetScaleSpace2d",{a:[P],r:k},K7),e("SetScaleSpace2d",{a:[P,k],r:k},q7),e("SaveRectArea2d",{a:[P,fe,k,k,k,k,k],r:k},Y7),e("GetBkBrush2d",{a:[P],r:P},X7),e("SetBkBrush2d",{a:[P,P],r:k},Z7),e("LockSpace2d",{a:[P,k],r:k},Q7),e("GetSpaceLayers2d",{a:[P],r:k},J7),e("SetSpaceLayers2d",{a:[P,k],r:k},eY),e("SetSpaceRenderEngine2d",{a:[P,k],r:k},tY),e("CreatePen2d",{a:[P,k,k,kn,k],r:P},nY),e("GetPenColor2d",{a:[P,P],r:kn},rY),e("GetPenRop2d",{a:[P,P],r:k},iY),e("GetPenStyle2d",{a:[P,P],r:k},oY),e("GetPenWidth2d",{a:[P,P],r:k},sY),e("SetPenColor2d",{a:[P,P,kn],r:k},aY),e("SetPenRop2d",{a:[P,P,k],r:k},lY),e("SetPenStyle2d",{a:[P,P,k],r:k},cY),e("SetPenWidth2d",{a:[P,P,k],r:k},uY),e("CreateBrush2d",{a:[P,k,k,kn,P,k],r:P},dY),e("GetBrushColor2d",{a:[P,P],r:kn},hY),e("GetBrushRop2d",{a:[P,P],r:k},fY),e("GetBrushStyle2d",{a:[P,P],r:k},pY),e("GetBrushHatch2d",{a:[P,P],r:k},gY),e("GetBrushDib2d",{a:[P,P],r:P},mY),e("SetBrushColor2d",{a:[P,P,kn],r:k},vY),e("SetBrushRop2d",{a:[P,P,k],r:k},yY),e("SetBrushStyle2d",{a:[P,P,k],r:k},bY),e("SetBrushHatch2d",{a:[P,P,k],r:k},wY),e("SetBrushDib2d",{a:[P,P,P],r:k},SY),e("CreateFont2d",{a:[P,fe,k,k],r:P},CY),e("CreateFont2dpt",{a:[P,fe,k,k],r:P},xY),e("GetFontName2d",{a:[P,P],r:fe},_Y),e("GetFontSize2d",{a:[P,P],r:k},EY),e("GetFontStyle2d",{a:[P,P],r:k},TY),e("SetFontName2d",{a:[P,P,fe],r:k},MY),e("SetFontSize2d",{a:[P,P,k],r:k},OY),e("SetFontStyle2d",{a:[P,P,k],r:k},RY),e("CreateString2d",{a:[P,fe],r:P},IY),e("GetString2d",{a:[P,P],r:fe},kY),e("SetString2d",{a:[P,P,fe],r:k},PY),e("CreateText2d",{a:[P,P,P,kn,kn],r:P},DY),e("GetTextCount2d",{a:[P,P],r:k},AY),e("GetTextFont2d",{a:[P,P],r:P},QP),e("GetTextFont2d",{a:[P,P,k],r:P},QP),e("GetTextString2d",{a:[P,P],r:P},JP),e("GetTextString2d",{a:[P,P,k],r:P},JP),e("GetTextFgColor2d",{a:[P,P],r:kn},eD),e("GetTextFgColor2d",{a:[P,P,k],r:kn},eD),e("GetTextBkColor2d",{a:[P,P],r:kn},tD),e("GetTextBkColor2d",{a:[P,P,k],r:kn},tD),e("SetText2d",{a:[P,P,P,P,kn,kn],r:k},LY),e("SetText2d",{a:[P,P,k,P,P,kn,kn],r:k},nD),e("SetTextFont2d",{a:[P,P,k,P],r:k},NY),e("SetTextString2d",{a:[P,P,k,P],r:k},BY),e("SetTextFgColor2d",{a:[P,P,k,kn],r:k},FY),e("SetTextBkColor2d",{a:[P,P,k,kn],r:k},jY),e("AddText2d",{a:[P,P,P,P,kn,kn],r:k},VY),e("AddText2d",{a:[P,P,k,P,P,kn,kn],r:k},rD),e("RemoveText2d",{a:[P,P,k],r:k},$Y),e("CreateDib2d",{a:[P,fe],r:P},oD),e("CreateRDib2d",{a:[P,fe],r:P},oD),e("CreateDoubleDib2d",{a:[P,fe],r:P},sD),e("CreateRDoubleDIB2d",{a:[P,fe],r:P},sD),e("GetDibPixel2d",{a:[P,P,k,k],r:kn},zY),e("SetDibPixel2d",{a:[P,P,k,k,kn],r:k},UY),e("DeleteTool2d",{a:[P,k,P],r:k},HY),e("GetNextTool2d",{a:[P,k,P],r:P},GY),e("GetToolRef2d",{a:[P,k,P],r:k},WY),e("Rgb",{a:[k,k,k],r:kn},KY),e("RgbEx",{a:[k,k,k,k],r:kn},qY),e("Rgbf",{a:[k],r:kn},YY),e("GetRValue",{a:[kn],r:k},XY),e("GetGValue",{a:[kn],r:k},ZY),e("GetBValue",{a:[kn],r:k},QY),e("CreateObjectFromFile2d",{a:[P,fe,k,k,k],r:P},JY),e("DeleteObject2d",{a:[P,P],r:k},eX),e("GetObjectType2d",{a:[P,P],r:k},tX),e("GetObjectName2d",{a:[P,P],r:fe},nX),e("SetObjectName2d",{a:[P,P,fe],r:k},rX),e("GetObject2dByName",{a:[P,P,fe],r:P},iX),e("GetObjectOrg2dx",{a:[P,P],r:k},oX),e("GetObjectOrg2dy",{a:[P,P],r:k},sX),e("SetObjectOrg2d",{a:[P,P,k,k],r:k},aX),e("GetObjectWidth2d",{a:[P,P],r:k},lX),e("GetObjectHeight2d",{a:[P,P],r:k},cX),e("SetObjectSize2d",{a:[P,P,k,k],r:k},uX),e("GetActualWidth2d",{a:[P,P],r:k},dX),e("GetActualHeight2d",{a:[P,P],r:k},hX),e("GetActualSize2d",{a:[P,P,rt,rt],r:k},fX),e("GetObjectAngle2d",{a:[P,P],r:k},pX),e("RotateObject2d",{a:[P,P,k,k,k],r:k},gX),e("SetShowObject2d",{a:[P,P,k],r:k},mX),e("ShowObject2d",{a:[P,P]},vX),e("HideObject2d",{a:[P,P]},yX),e("GetObjectFromPoint2d",{a:[P,k,k],r:P},bX),e("GetLastPrimary2d",{r:P},wX),e("CopyToClipboard2d",{a:[P,P],r:k},SX),e("PasteFromClipboard2d",{a:[P,k,k,k],r:P},CX),e("LockObject2d",{a:[P,P,k],r:k},xX),e("GetObjectAttribute2d",{a:[P,P],r:k},_X),e("SetObjectAttribute2d",{a:[P,P,k,k],r:k},EX),e("GetNextObject2d",{a:[P,P],r:P},TX),e("IsObjectsIntersect2d",{a:[P,P,P,k],r:k},MX),e("GetBottomObject2d",{a:[P],r:P},OX),e("GetTopObject2d",{a:[P],r:P},RX),e("GetLowerObject2d",{a:[P,P],r:P},IX),e("GetUpperObject2d",{a:[P,P],r:P},kX),e("GetObjectFromZOrder2d",{a:[P,k],r:P},PX),e("GetZOrder2d",{a:[P,P],r:k},DX),e("SetZOrder2d",{a:[P,P,k],r:k},AX),e("ObjectToBottom2d",{a:[P,P],r:k},LX),e("ObjectToTop2d",{a:[P,P],r:k},NX),e("SwapObject2d",{a:[P,P,P],r:k},BX),e("CreatePolyLine2d",{a:[P,P,P],rest:[k,k],r:P},FX),e("CreateLine2d",{a:[P,P,P,k,k],r:P},jX),e("AddPoint2d",{a:[P,P,k,k,k],r:k},VX),e("SetVectorPoint2d",{a:[P,P,k,k,k],r:k},$X),e("DelPoint2d",{a:[P,P,k],r:k},zX),e("GetPenObject2d",{a:[P,P],r:P},UX),e("GetBrushObject2d",{a:[P,P],r:P},HX),e("GetVectorNumPoints2d",{a:[P,P],r:k},GX),e("GetVectorPoint2dx",{a:[P,P,k],r:k},WX),e("GetVectorPoint2dy",{a:[P,P,k],r:k},KX),e("SetBrushObject2d",{a:[P,P,P],r:P},qX),e("SetPenObject2d",{a:[P,P,P],r:P},YX),e("SetLineArrows2d",{a:[P,P,k,k,k,k,k,k],r:k},XX),e("CreateGroup2d",{a:[P],rest:[P],r:P},ZX),e("DeleteGroup2d",{a:[P,P],r:k},QX),e("AddGroupItem2d",{a:[P,P,P],r:k},JX),e("DelGroupItem2d",{a:[P,P,P],r:k},eZ),e("GetGroupItemsNum2d",{a:[P,P],r:k},tZ),e("GetGroupItem2d",{a:[P,P,k],r:P},nZ),e("GetObjectParent2d",{a:[P,P],r:P},rZ),e("IsGroupContainObject2d",{a:[P,P,P],r:k},iZ),e("CreateBitmap2d",{a:[P,P,k,k],r:P},oZ),e("CreateDoubleBitmap2d",{a:[P,P,k,k],r:P},sZ),e("GetBitmapSrcRect2d",{a:[P,P,rt,rt,rt,rt],r:k},aZ),e("SetBitmapSrcRect2d",{a:[P,P,k,k,k,k],r:k},lZ),e("GetDibObject2d",{a:[P,P],r:P},cZ),e("GetDDibObject2d",{a:[P,P],r:P},uZ),e("SetDibObject2d",{a:[P,P,P],r:k},dZ),e("SetDDibObject2d",{a:[P,P,P],r:k},hZ),e("CreateRasterText2d",{a:[P,P,k,k,k],r:P},fZ),e("GetTextObject2d",{a:[P,P],r:P},pZ)}const vZ={name:"graphics2d",deps:["windows","streams"],register:mZ};var cD=1e-6,As=typeof Float32Array<"u"?Float32Array:Array;function hy(){var e=new As(9);return As!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function uD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function jo(){var e=new As(16);return As!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function yZ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function dD(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function hD(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=t[6],u=t[7],h=t[8],f=t[9],g=t[10],m=t[11],y=t[12],b=t[13],v=t[14],S=t[15],E=n*a-r*s,T=n*c-i*s,R=n*u-o*s,M=r*c-i*a,I=r*u-o*a,N=i*u-o*c,D=h*b-f*y,L=h*v-g*y,A=h*S-m*y,$=f*v-g*b,F=f*S-m*b,H=g*S-m*v,q=E*H-T*F+R*$+M*A-I*L+N*D;return q?(q=1/q,e[0]=(a*H-c*F+u*$)*q,e[1]=(i*F-r*H-o*$)*q,e[2]=(b*N-v*I+S*M)*q,e[3]=(g*I-f*N-m*M)*q,e[4]=(c*A-s*H-u*L)*q,e[5]=(n*H-i*A+o*L)*q,e[6]=(v*R-y*N-S*T)*q,e[7]=(h*N-g*R+m*T)*q,e[8]=(s*F-a*A+u*D)*q,e[9]=(r*A-n*F-o*D)*q,e[10]=(y*I-b*R+S*E)*q,e[11]=(f*R-h*I-m*E)*q,e[12]=(a*L-s*$-c*D)*q,e[13]=(n*$-r*L+i*D)*q,e[14]=(b*T-y*M-v*E)*q,e[15]=(h*M-f*T+g*E)*q,e):null}function bZ(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],h=t[7],f=t[8],g=t[9],m=t[10],y=t[11],b=t[12],v=t[13],S=t[14],E=t[15],T=n[0],R=n[1],M=n[2],I=n[3];return e[0]=T*r+R*a+M*f+I*b,e[1]=T*i+R*c+M*g+I*v,e[2]=T*o+R*u+M*m+I*S,e[3]=T*s+R*h+M*y+I*E,T=n[4],R=n[5],M=n[6],I=n[7],e[4]=T*r+R*a+M*f+I*b,e[5]=T*i+R*c+M*g+I*v,e[6]=T*o+R*u+M*m+I*S,e[7]=T*s+R*h+M*y+I*E,T=n[8],R=n[9],M=n[10],I=n[11],e[8]=T*r+R*a+M*f+I*b,e[9]=T*i+R*c+M*g+I*v,e[10]=T*o+R*u+M*m+I*S,e[11]=T*s+R*h+M*y+I*E,T=n[12],R=n[13],M=n[14],I=n[15],e[12]=T*r+R*a+M*f+I*b,e[13]=T*i+R*c+M*g+I*v,e[14]=T*o+R*u+M*m+I*S,e[15]=T*s+R*h+M*y+I*E,e}function wZ(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function SZ(e,t,n){var r=n[0],i=n[1],o=n[2],s=Math.sqrt(r*r+i*i+o*o),a,c,u;return s<cD?null:(s=1/s,r*=s,i*=s,o*=s,a=Math.sin(t),c=Math.cos(t),u=1-c,e[0]=r*r*u+c,e[1]=i*r*u+o*a,e[2]=o*r*u-i*a,e[3]=0,e[4]=r*i*u-o*a,e[5]=i*i*u+c,e[6]=o*i*u+r*a,e[7]=0,e[8]=r*o*u+i*a,e[9]=i*o*u-r*a,e[10]=o*o*u+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function lC(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function fD(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],c=t[8],u=t[9],h=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(o*o+s*s+a*a),e[2]=Math.sqrt(c*c+u*u+h*h),e}function CZ(e,t){var n=new As(3);fD(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],s=t[0]*r,a=t[1]*i,c=t[2]*o,u=t[4]*r,h=t[5]*i,f=t[6]*o,g=t[8]*r,m=t[9]*i,y=t[10]*o,b=s+h+y,v=0;return b>0?(v=Math.sqrt(b+1)*2,e[3]=.25*v,e[0]=(f-m)/v,e[1]=(g-c)/v,e[2]=(a-u)/v):s>h&&s>y?(v=Math.sqrt(1+s-h-y)*2,e[3]=(f-m)/v,e[0]=.25*v,e[1]=(a+u)/v,e[2]=(g+c)/v):h>y?(v=Math.sqrt(1+h-s-y)*2,e[3]=(g-c)/v,e[0]=(a+u)/v,e[1]=.25*v,e[2]=(f+m)/v):(v=Math.sqrt(1+y-s-h)*2,e[3]=(a-u)/v,e[0]=(g+c)/v,e[1]=(f+m)/v,e[2]=.25*v),e}function pD(e,t,n,r){var i=t[0],o=t[1],s=t[2],a=t[3],c=i+i,u=o+o,h=s+s,f=i*c,g=i*u,m=i*h,y=o*u,b=o*h,v=s*h,S=a*c,E=a*u,T=a*h,R=r[0],M=r[1],I=r[2];return e[0]=(1-(y+v))*R,e[1]=(g+T)*R,e[2]=(m-E)*R,e[3]=0,e[4]=(g-T)*M,e[5]=(1-(f+v))*M,e[6]=(b+S)*M,e[7]=0,e[8]=(m+E)*I,e[9]=(b-S)*I,e[10]=(1-(f+y))*I,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function xZ(e,t,n,r,i){var o=1/Math.tan(t/2);if(e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0){var s=1/(r-i);e[10]=(i+r)*s,e[14]=2*i*r*s}else e[10]=-1,e[14]=-2*r;return e}var _Z=xZ;function EZ(e,t,n,r){var i=t[0],o=t[1],s=t[2],a=r[0],c=r[1],u=r[2],h=i-n[0],f=o-n[1],g=s-n[2],m=h*h+f*f+g*g;m>0&&(m=1/Math.sqrt(m),h*=m,f*=m,g*=m);var y=c*g-u*f,b=u*h-a*g,v=a*f-c*h;return m=y*y+b*b+v*v,m>0&&(m=1/Math.sqrt(m),y*=m,b*=m,v*=m),e[0]=y,e[1]=b,e[2]=v,e[3]=0,e[4]=f*v-g*b,e[5]=g*y-h*v,e[6]=h*b-f*y,e[7]=0,e[8]=h,e[9]=f,e[10]=g,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}var mc=bZ;function Dr(){var e=new As(3);return As!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function TZ(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function Yo(e,t,n){var r=new As(3);return r[0]=e,r[1]=t,r[2]=n,r}function gD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Tl(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function MZ(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function OZ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function RZ(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function IZ(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function kZ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function PZ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function DZ(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function fy(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function iu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Xh(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],c=n[2];return e[0]=i*c-o*a,e[1]=o*s-r*c,e[2]=r*a-i*s,e}function ou(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,e}function AZ(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],s=t[1],a=t[2],c=Math.sqrt((n*n+r*r+i*i)*(o*o+s*s+a*a)),u=c&&iu(e,t)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var Kp=OZ,LZ=RZ,NZ=kZ,cC=PZ,BZ=TZ,mD=DZ;(function(){var e=Dr();return function(t,n,r,i,o,s){var a,c;for(n||(n=3),r||(r=0),i?c=Math.min(i*n+r,t.length):c=t.length,a=r;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}})();function FZ(){var e=new As(4);return As!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function qp(e,t,n,r){var i=new As(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function uC(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function jZ(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=o*s,e}(function(){var e=FZ();return function(t,n,r,i,o,s){var a,c;for(n||(n=4),r||(r=0),i?c=Math.min(i*n+r,t.length):c=t.length,a=r;a<c;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],o(e,e,s),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}})();function Yp(){var e=new As(4);return As!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function VZ(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function $Z(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function zZ(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c+s*a,e[1]=i*c+o*a,e[2]=o*c-i*a,e[3]=s*c-r*a,e}function UZ(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c-o*a,e[1]=i*c+s*a,e[2]=o*c+r*a,e[3]=s*c-i*a,e}function HZ(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],a=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*a,e[1]=i*c-r*a,e[2]=o*c+s*a,e[3]=s*c-o*a,e}function dC(e,t,n,r){var i=t[0],o=t[1],s=t[2],a=t[3],c=n[0],u=n[1],h=n[2],f=n[3],g,m,y,b,v;return m=i*c+o*u+s*h+a*f,m<0&&(m=-m,c=-c,u=-u,h=-h,f=-f),1-m>cD?(g=Math.acos(m),y=Math.sin(g),b=Math.sin((1-r)*g)/y,v=Math.sin(r*g)/y):(b=1-r,v=r),e[0]=b*i+v*c,e[1]=b*o+v*u,e[2]=b*s+v*h,e[3]=b*a+v*f,e}function GZ(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[o*3+o]-t[s*3+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[o*3+s]-t[s*3+o])*r,e[o]=(t[o*3+i]+t[i*3+o])*r,e[s]=(t[s*3+i]+t[i*3+s])*r}return e}var WZ=uC,hC=jZ;(function(){var e=Dr(),t=Yo(1,0,0),n=Yo(0,1,0);return function(r,i,o){var s=iu(i,o);return s<-.999999?(Xh(e,t,i),BZ(e)<1e-6&&Xh(e,n,i),fy(e,e),$Z(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Xh(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,hC(r,r))}})(),(function(){var e=Yp(),t=Yp();return function(n,r,i,o,s,a){return dC(e,r,s,a),dC(t,i,o,a),dC(n,e,t,2*a*(1-a)),n}})(),(function(){var e=hy();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],hC(t,GZ(t,e))}})();function KZ(e,t,n){const r=[],i=Math.ceil(n/8);e.font=t;let o=0;const s=i,a=i,c=i,u=i;let h=0;for(let m=0;m<16;++m){let y=0;for(let b=0;b<16;++b){const v=m*16+b,S=qa[v],{width:E}=e.measureText(S),T=n;r.push({x:y+c,y:h+s,w:E,h:T,asc:s,desc:a,left:c,right:u}),y+=c+Math.ceil(E)+u}h+=s+n+a,o=Math.max(o,y)}return{font:t,fontSize:n,glyphRects:r,width:o,height:h}}function qZ(e,{font:t,glyphRects:n,height:r,width:i}){e.canvas.width=i,e.canvas.height=r,e.font=t,e.fillStyle="white",e.textAlign="left",e.textBaseline="top",e.fontKerning="none",n.forEach(({x:o,y:s},a)=>{e.fillText(qa[a],o,s)})}const YZ=2,XZ=0,ZZ=1,QZ=2,JZ=3,eQ=4,tQ=5,nQ=6,rQ=7,iQ=8,oQ=9,sQ=0,Xp=1,aQ=2,lQ=1,cQ=2,uQ=3,vD=4,dQ=5,hQ=6,fQ=0,pQ=1,gQ=0,yD=1,py=0,Zp=1,gy=2,mQ=0,vQ=1,yQ=2,my=0,vy=1,Qp=2;class fC{constructor(t){this.objectsGenerator=t,this.list=new WeakMap,this.cur=null}get(t){const{cur:n}=this;if(n&&n.ctx===t)return n;const r=this.list.get(t);if(r)return this.cur=r;const i=this.objectsGenerator(t);return this.list.set(t,this.cur=i),i}}function Jp(e,t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){console.log(n.split(`
`).map((s,a)=>`${a+1}: ${s}`).join(`
`));const o=e.getShaderInfoLog(r);throw Error(`Ошибка компиляции шейдера (${t===e.VERTEX_SHADER?"vertex":"fragment"}): ${o}`)}return r}function pC(e,t,n){const r=e.getUniformLocation(t,n);if(!r)throw Error(`Программа не содержит Uniform '${n}'`);return r}class bQ{constructor(){this.entries=new Map}add(t,n,r){let i=this.entries.get(t);i||this.entries.set(t,i=new Map);let o=i.get(n);o?o.push(r):i.set(n,o=[r])}filterInline(t){this.entries.forEach((n,r)=>{n.forEach((i,o)=>{const s=i.filter(t);s.length?n.set(o,s):n.delete(o)}),n.size||this.entries.delete(r)})}}var wQ=`precision mediump float;
#ifdef UV
uniform sampler2D uTexture;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){
#ifndef GOURAUD
vec4 vLightColor4=vec4(1,1,1,1);
#endif
#ifdef UV
gl_FragColor=texture2D(uTexture,vTexCoord)*vLightColor4;
#else
gl_FragColor=vLightColor4;
#endif
}`,SQ=`uniform mat4 uMVP4;
#ifdef GOURAUD
uniform vec3 uWorldLightPos;uniform mat4 uWorldMat4;uniform mat3 uWorldNormalMat;uniform vec3 uAmbientColor;uniform vec4 uTechDiffuseColor4;
#endif
attribute vec4 aPos4;
#ifdef GOURAUD
attribute vec3 aNormal;
#endif
#ifdef UV
attribute vec2 aUv;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){gl_Position=uMVP4*aPos4;
#ifdef GOURAUD
vec3 lightDir=normalize(uWorldLightPos-(uWorldMat4*aPos4).xyz);vec3 worldNormal=normalize(uWorldNormalMat*aNormal);vec3 uLightDiffuse=vec3(1,1,1);float uLightPower=1.;vec3 diffuse=uLightDiffuse*uLightPower*max(dot(worldNormal,lightDir),.0);vec3 GI=uAmbientColor+(uTechDiffuseColor4.rgb*diffuse);vLightColor4=vec4(GI,uTechDiffuseColor4.a);
#endif
#ifdef UV
vTexCoord=aUv;
#endif
}`;let yy=-1;const Zh=[{usesUV:!1,shadingMode:-1,index:++yy},{usesUV:!1,shadingMode:Xp,index:++yy},{usesUV:!0,shadingMode:-1,index:++yy},{usesUV:!0,shadingMode:Xp,index:++yy}],bD={usesUV:!0,shadingMode:-1,index:-1};class wD{constructor(t,n,r,i){this.ctx=t,this.shaderProgram=n,this.hasNormalsSupport=r,this.hasUVSupport=i,this._activeTech=null,this._activeVAO=null}use(){const{ctx:t}=this;t._activeProgram!==this&&(t._setActiveProgram(this),t.gl.useProgram(this.shaderProgram),this._activeTech=null,this._activeVAO=null,++t.stats.switchesProgram,this.init())}_setActiveTech(t){this._activeTech=t}_setActiveVAO(t){this._activeVAO=t}}const SD=Zh.map(({usesUV:e,shadingMode:t})=>{const n=[];return e&&n.push("UV"),n.push(t===Xp?"GOURAUD":t===aQ?"PHONG":t===sQ?"FLAT":"NO_SHADING"),n.map(r=>`#define ${r}
`).join("")}),CQ=SD.map(e=>e+SQ),xQ=SD.map(e=>e+wQ),_Q=Dr();class CD extends wD{constructor(t,n,r,i){const{gl:o}=t,s=o.createProgram();if(o.attachShader(s,r),o.attachShader(s,i),o.bindAttribLocation(s,my,"aPos4"),o.bindAttribLocation(s,vy,"aNormal"),o.bindAttribLocation(s,Qp,"aUv"),o.linkProgram(s),!o.getProgramParameter(s,o.LINK_STATUS)){const u=o.getProgramInfoLog(s);throw Error(`Ошибка Link Program: ${u}`)}const a=n.shadingMode>-1;super(t,s,a,n.usesUV),this.caps=n,this.uTechDiffuseColor4=null,this.uAmbientColor=null,this.uWorldLightPos=null,this.uWorldMat4=null,this.uWorldNormalMat=null;const c=pC.bind(null,o,s);this.uVMP4=c("uMVP4"),a&&(this.uTechDiffuseColor4=c("uTechDiffuseColor4"),this.uWorldLightPos=c("uWorldLightPos"),this.uWorldMat4=c("uWorldMat4"),this.uWorldNormalMat=c("uWorldNormalMat"),this.uAmbientColor=c("uAmbientColor")),this.gl=o}init(){this.hasNormalsSupport&&this.gl.uniform3fv(this.uWorldLightPos,this.ctx._lightPosition)}setMVPMatrix(t){this.gl.uniformMatrix4fv(this.uVMP4,!1,t)}setNormalMatrix(t,n){const{gl:r}=this;r.uniformMatrix4fv(this.uWorldMat4,!1,t),r.uniformMatrix3fv(this.uWorldNormalMat,!1,n)}setDiffuse(t){this.gl.uniform4fv(this.uTechDiffuseColor4,t)}setAmbient(t){this.gl.uniform3fv(this.uAmbientColor,LZ(_Q,this.ctx._ambientColor,t))}useTexture(){}}var EQ="precision mediump float;varying vec2 tCoord;uniform vec4 color;uniform bool useTexture;uniform sampler2D tex;void main(){gl_FragColor=useTexture ? texture2D(tex,tCoord)*color : color;}",TQ="attribute vec2 v;attribute vec2 uv;uniform vec4 p;uniform vec4 uvRect;varying vec2 tCoord;void main(){gl_Position=vec4((p.x+p.z*v.x)*2.-1.,(-p.y+p.w*v.y)*2.+1.,0,1);tCoord=vec2(uvRect.x+uvRect.z*uv.x,uvRect.y+uvRect.w*uv.y);}";class MQ extends wD{constructor(t){const{gl:n}=t,r=Jp(n,n.VERTEX_SHADER,TQ),i=Jp(n,n.FRAGMENT_SHADER,EQ),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.bindAttribLocation(o,my,"v"),n.bindAttribLocation(o,Qp,"uv"),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS)){const a=n.getProgramInfoLog(o);throw Error(`Ошибка Link Program: ${a}`)}super(t,o,!1,!0),this.textureInUse=!1;const s=pC.bind(null,n,o);this.uPos=s("p"),this.uUVRect=s("uvRect"),this.uColor=s("color"),this.uUseTexture=s("useTexture"),this.gl=t.gl}setColor(t){this.gl.uniform4fv(this.uColor,t)}setPositionAndScale(t,n,r,i){this.gl.uniform4f(this.uPos,t,n,r,i)}setUVRect(t){this.gl.uniform4fv(this.uUVRect,t)}useTexture(t){this.textureInUse!==t&&(this.textureInUse=t,this.gl.uniform1f(this.uUseTexture,+t))}init(){}}var OQ="precision mediump float;uniform sampler2D uTexture;uniform vec4 uTextColor;varying vec2 vTexCoord;void main(){float alpha=texture2D(uTexture,vTexCoord).a*uTextColor.a;gl_FragColor=vec4(uTextColor.rgb,alpha);}";class RQ extends CD{constructor(t,n){const{gl:r}=t,i=Jp(r,r.FRAGMENT_SHADER,OQ);super(t,bD,n,i),this.uTextColor=pC(r,this.shaderProgram,"uTextColor")}setTextColor(t){this.gl.uniform4fv(this.uTextColor,t)}}class eg{use(t){const n=this.selectProgram(t);return n.use(),n._activeTech===this||(n._setActiveTech(this),this.apply(n),++t.stats.switchesTech),n}}class IQ extends eg{constructor(t){super(),this.material=t,this.passVersion=-1,this.texture=null,this.programCaps=null,this.pass=t.techs[0].passes[0]}prepare(){const{pass:t}=this;if(this.passVersion===t._version)return;this.passVersion=t._version;const r=!!(this.texture=t._getDefaultTextureUnit()?.getTexture()||null),i=t.lightingEnabled?Xp:0,o=Zh.find(s=>s.usesUV===r&&s.shadingMode===i);if(!o)throw Error(`Материал "${this.material.name}": программа с заданными требованиями (usesUV: ${r}, shadingMode: ${i}) не существует`);this.programCaps=o}hasOpacity(){const{pass:t}=this;return t.diffuse[3]<1}getProgramCaps(){return this.prepare(),this.programCaps}selectProgram(t){return this.prepare(),t.meshPrograms[this.programCaps.index]}apply(t){const{ctx:n}=t,{pass:r}=this;n.setDepthWrite(r.depthWrite),n.setDepthCheck(r.depthCheck),this.texture?.use(n),t.setDiffuse(r.diffuse),t.setAmbient(r.ambient)}}class kQ extends eg{constructor(t){super(),this.material=t,this.pass=t.techs[0].passes[0]}selectProgram(t){return t.overlayProgram}apply(t){const{pass:n}=this,r=n._getDefaultTextureUnit()?.getTexture();r?(r.use(t.ctx),t.useTexture(!0)):t.useTexture(!1),t.setColor(n.diffuse)}}class PQ extends eg{constructor(t,n){super(),this.fontTexture=t,this.colorSource=n}getProgramCaps(){return bD}selectProgram(t){return t.textProgram}apply(t){this.fontTexture.use(t.ctx),t.setTextColor(this.colorSource.color)}}const DQ=qp(0,0,1,1);class AQ extends eg{constructor(t){super(),this.fontTexture=t}selectProgram(t){return t.overlayProgram}apply(t){this.fontTexture.use(t.ctx),t.useTexture(!0),t.setUVRect(DQ)}}const gC=Gh(0,0).getContext("2d",{alpha:!0});class LQ{constructor(t){this.fontName=t,this.cache=new fC(this.genFontTexture.bind(this)),this.textOverlayRenderTech=null;const n=Math.round(150/72*20);this.glyphData=KZ(gC,`${n}px ${this.fontName}`,n)}genFontTexture(t){qZ(gC,this.glyphData);const{gl:n}=t,r=n.createTexture();return t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,gC.canvas),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}getTextOverlayRenderTech(){return this.textOverlayRenderTech||(this.textOverlayRenderTech=new AQ(this)),this.textOverlayRenderTech}}class NQ{constructor(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesVAO=0,this.switchesFace=0,this.dcOpaque=0,this.dcTransparent=0,this.dcOverlay=0,this.dcTotal=0;const t=this;Object.defineProperty(window,"s",{configurable:!0,get(){return t}})}reset(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesFace=0,this.switchesVAO=0,this.dcOpaque=0,this.dcTransparent=0,this.dcTotal=0,this.dcOverlay=0}}class BQ{constructor(t){this.gl=t,this.currentTexture=null,this.uvEnabled=!1,this.normalsEnabled=!1,this.backFacesInUse=!1,this.depthWrite=!0,this.depthCheck=!0,this.blendSFactor=WebGLRenderingContext.ONE,this.blendDFactor=WebGLRenderingContext.ZERO,this._ambientColor=Dr(),this._lightPosition=Dr(),this.stats=new NQ,this._activeProgram=null,t.enable(t.CULL_FACE),t.enableVertexAttribArray(my),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.hasIndices32Support=!!t.getExtension("OES_element_index_uint");const n=CQ.map(o=>Jp(t,t.VERTEX_SHADER,o)),r=xQ.map(o=>Jp(t,t.FRAGMENT_SHADER,o));this.meshPrograms=Zh.map((o,s)=>new CD(this,o,n[s],r[s]));const i=n[Zh.findIndex(o=>o.usesUV&&o.shadingMode<0)];this.textProgram=new RQ(this,i),this.overlayProgram=new MQ(this)}_setActiveProgram(t){this._activeProgram=t}reset(){this.stats.reset()}setLighting(t,n){gD(this._ambientColor,t),gD(this._lightPosition,n),this._activeProgram?.init()}enableUV(){this.uvEnabled||(this.uvEnabled=!0,this.gl.enableVertexAttribArray(Qp))}disableUV(){this.uvEnabled&&(this.uvEnabled=!1,this.gl.disableVertexAttribArray(Qp))}enableNormals(){this.normalsEnabled||(this.normalsEnabled=!0,this.gl.enableVertexAttribArray(vy))}disableNormals(){this.normalsEnabled&&(this.normalsEnabled=!1,this.gl.disableVertexAttribArray(vy))}useBackFaces(t){if(this.backFacesInUse===t)return;this.backFacesInUse=t;const{gl:n}=this;n.frontFace(t?n.CW:n.CCW),++this.stats.switchesFace}setTexture(t){if(this.currentTexture===t)return;this.currentTexture=t;const{gl:n}=this;n.bindTexture(n.TEXTURE_2D,t),++this.stats.switchesTexture}setDepthWrite(t){this.depthWrite!==t&&(this.depthWrite=t,this.gl.depthMask(t))}setDepthCheck(t){if(this.depthCheck===t)return;this.depthCheck=t;const{gl:n}=this;n.depthFunc(t?n.LESS:n.ALWAYS)}setBlendFunc(t,n){this.blendSFactor===t&&this.blendDFactor===n||(this.blendSFactor=t,this.blendDFactor=n,this.gl.blendFunc(t,n))}}function vc(e){const t=e.split(" ").map(n=>parseFloat(n));return t.length===4&&!t.some(isNaN)?[t[0],t[1],t[2]-t[0],t[3]-t[1]]:null}function FQ(e){const t=e.split(" ").slice(0,3).map(n=>parseFloat(n));return t.some(isNaN)?null:[...t,1]}class mC{constructor(t,n,r){this.o=t,this.type=n,this.overlay=null,this.parent=null,this.children=[],this.visible=!0,this.x=0,this.y=0,this.width=0,this.height=0,this.metricsMode=gQ,this.horAlign=py,this.horTextAlign=py,this.vertAlign=mQ,this.caption="",this.charHeight=12,this.spaceWidth=0,this.color=[1,1,1,1],this.material=null,this.uv=[0,0,1,1],this.uvTL=[0,0,1,1],this.uvTR=[0,0,1,1],this.uvBL=[0,0,1,1],this.uvBR=[0,0,1,1],this.uvL=[0,0,1,1],this.uvR=[0,0,1,1],this.uvT=[0,0,1,1],this.uvB=[0,0,1,1],this.borders=[0,0,0,0],this.textMesh=null,t.overlayElements.set(this.key=t.key(),this),this.name=r?.name??""}drawAt(t,n,r,i,o,s,a){const{visible:c,vertAlign:u,horAlign:h,metricsMode:f,x:g,y:m,width:y,height:b}=this;if(!c)return;const v=f===yD,S=(v?g/s:g)+(h===gy?i:h===Zp?i/2:0)+n,E=(v?m/a:m)+(u===yQ?o:u===vQ?o/2:0)+r,T=v?y/s:y,R=v?b/a:b;this.draw(t,S,E,T,R,s,a),this.children.forEach(M=>M.drawAt(t,S,E,T,R,s,a))}setMetricsMode(t){return this.metricsMode=t,this}setChildren(t){return this.children.forEach(n=>n.parent=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>n.parent=this),this}setVisible(t){return this.visible=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setSize(t,n){return this.width=t,this.height=n,this}setAlignment(t,n){return this.horAlign=t,this.vertAlign=n,this}setCaption(t){return this.caption!==t&&(this.caption=t,this.textMesh=null),this}setColor(t,n,r,i){return this.color=[t,n,r,i],this}setMaterial(t){return this.material=t,this}setParam(t,n){switch(t){case"uv_coords":{const i=vc(n);i&&(this.uv=i);break}case"border_material":break;case"border_size":{const i=n.split(" ").map(o=>Math.max(parseInt(o),2));i.length===4&&!i.some(isNaN)&&(this.borders=i);break}case"border_topleft_uv":{const i=vc(n);i&&(this.uvTL=i);break}case"border_topright_uv":{const i=vc(n);i&&(this.uvTR=i);break}case"border_bottomleft_uv":{const i=vc(n);i&&(this.uvBL=i);break}case"border_bottomright_uv":{const i=vc(n);i&&(this.uvBR=i);break}case"border_left_uv":{const i=vc(n);i&&(this.uvL=i);break}case"border_right_uv":{const i=vc(n);i&&(this.uvR=i);break}case"border_top_uv":{const i=vc(n);i&&(this.uvT=i);break}case"border_bottom_uv":{const i=vc(n);i&&(this.uvB=i);break}case"font_name":break;case"alignment":this.horTextAlign=n==="center"?Zp:n==="right"?gy:py;break;case"colour":const r=FQ(n);r&&(this.color=r);break;case"char_height":{const i=parseInt(n)||12;this.charHeight!==i&&(this.charHeight=i,this.textMesh=null);break}case"space_width":{const i=parseInt(n)||12;this.spaceWidth!==i&&(this.spaceWidth=i,this.textMesh=null);break}default:console.warn(`Неизвестный параметр StringInterface: '${t}'`);break}}}class Qh{constructor(t){this.data=t,this.cache=new fC(this.genBuffers.bind(this)),this.gl=null;const{indices:n,positions:r,positionSize:i}=t,o=this.useIndices32=n instanceof Uint32Array;this.positionSize=i,this.hasIndices=!!n,this.count=n?.length??r.length/i,this.drawMode=t.drawMode??WebGLRenderingContext.TRIANGLES,this.indicesType=o?WebGLRenderingContext.UNSIGNED_INT:WebGLRenderingContext.UNSIGNED_SHORT}genBuffers(t){const{gl:n}=t,{indices:r,positions:i,uvs:o,normals:s}=this.data,a=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,i,n.STATIC_DRAW);let c;o?(c=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,o,n.STATIC_DRAW)):c=null;let u;s?(u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,s,n.STATIC_DRAW)):u=null;let h;return r?(h=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h),n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW),this.useIndices32&&!t.hasIndices32Support&&(console.warn("WebGL: Не поддерживаются 32-битные индексы"),this.indicesType=n.UNSIGNED_SHORT,this.count=0)):h=null,{ctx:t,positionsBuffer:a,uvsBuffer:c,normalsBuffer:u,indexBuffer:h}}use(t){if(t._activeVAO===this)return;t._setActiveVAO(this);const{ctx:n}=t,{positionsBuffer:r,uvsBuffer:i,normalsBuffer:o,indexBuffer:s}=this.cache.get(n),{gl:a}=n;a.bindBuffer(a.ARRAY_BUFFER,r),a.vertexAttribPointer(my,this.positionSize,a.FLOAT,!1,0,0),i&&t.hasUVSupport?(a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(Qp,2,a.FLOAT,!1,0,0),n.enableUV()):n.disableUV(),o&&t.hasNormalsSupport?(a.bindBuffer(a.ARRAY_BUFFER,o),a.vertexAttribPointer(vy,3,a.FLOAT,!1,0,0),n.enableNormals()):n.disableNormals(),s&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,s),this.gl=a,++n.stats.switchesVAO}draw(){const{gl:t,drawMode:n,count:r,indicesType:i,hasIndices:o}=this;o?t.drawElements(n,r,i,0):t.drawArrays(n,0,r)}_drawRange(t,n){const{gl:r,drawMode:i,indicesType:o}=this;r.drawElements(i,n,o,t)}}class jQ{constructor(t,n,r){this.sharedVAO=t,this.count=r,this.byteOffset=n*(t.useIndices32?4:2)}use(t){this.sharedVAO.use(t)}draw(){this.sharedVAO._drawRange(this.byteOffset,this.count)}}const by=new Qh({positionSize:2,positions:new Float32Array([0,0,0,-1,1,-1,1,0]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),drawMode:WebGLRenderingContext.TRIANGLE_FAN});class VQ extends mC{constructor(t,n){super(t,"Panel",n)}draw(t,n,r,i,o){const{material:s,uv:a}=this;if(!s)return;const c=s._getPanelOverlayRenderTech().use(t);by.use(c),c.setUVRect(a),c.setPositionAndScale(n,r,i,o),by.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class $Q extends mC{constructor(t,n){super(t,"BorderPanel",n)}draw(t,n,r,i,o,s,a){const{material:c,uv:u,borders:h,uvTL:f,uvT:g,uvTR:m,uvR:y,uvBR:b,uvB:v,uvBL:S,uvL:E,metricsMode:T}=this;if(!c)return;const R=c._getPanelOverlayRenderTech().use(t);by.use(R);const M=T===yD,I=M?h[0]/s:h[0],N=M?h[1]/s:h[1],D=M?h[2]/a:h[2],L=M?h[3]/a:h[3],A=i-I-N,$=o-D-L;[[[I,D,A,$],u],[[0,0,I,D],f],[[I,0,A,D],g],[[I+A,0,N,D],m],[[I+A,D,N,$],y],[[I+A,D+$,N,L],b],[[I,D+$,A,L],v],[[0,D+$,I,L],S],[[0,D,I,$],E]].forEach(([H,q])=>{R.setUVRect(q),R.setPositionAndScale(n+H[0],r+H[1],H[2],H[3]),by.draw(),++t.stats.dcOverlay,++t.stats.dcTotal})}}function xD(e,t,n=py,r=0){const{glyphRects:i,fontSize:o,height:s,width:a}=e,c=[...t],u=(r||i[Yv].w)/o;let h=0;const f=[];let g=0,m=0;{let E={glyphs:[],width:0},T=0;c.forEach(R=>{const M=qa.indexOf(R),I=M>-1?M:Yv;if(I===mq){f.push(E),g=Math.max(g,E.width),m+=1,E={glyphs:[],width:0},T=0,E.width=0;return}const N=i[I];if(I===Yv)(n!==Zp||!f.length||E.glyphs.length)&&(E.width+=u,E.glyphs.push(null));else{const D=N.w/o,L=N.h/o;E.width+=D,T=Math.max(T,L),E.glyphs.push(N),++h}}),f.push(E),g=Math.max(g,E.width),m+=T}if(!h)return{caption:t,width:g,height:m,vao:null,align:n};const y=new Float32Array(h*8),b=new Float32Array(h*8),v=new Uint16Array(h*6);{let E=0,T=0;f.forEach(R=>{let M=n===Zp?(g-R.width)/2:n===gy?g-R.width:0;R.glyphs.forEach(I=>{if(!I){M+=u;return}const N=I.w/o,D=I.x-I.left,L=I.y-I.asc,A=I.left+I.w+I.right,$=I.asc+I.h+I.desc,F=A/o,H=$/o,q=E*8,K=E*6,z=E*4;++E;{const Z=M-I.left/o,ee=T+I.asc/o;M+=N;const ie=Z,U=Z,Y=Z+F,J=Y,he=ee,ge=ee-H,pe=ge,le=he;y[q+0]=ie,y[q+1]=he,y[q+2]=U,y[q+3]=ge,y[q+4]=Y,y[q+5]=pe,y[q+6]=J,y[q+7]=le}{const Z=D/a,ee=Z,ie=(D+A)/a,U=ie,Y=L/s,J=(L+$)/s,he=J,ge=Y;b[q+0]=Z,b[q+1]=Y,b[q+2]=ee,b[q+3]=J,b[q+4]=ie,b[q+5]=he,b[q+6]=U,b[q+7]=ge}v[K+0]=z+0,v[K+1]=z+1,v[K+2]=z+2,v[K+3]=z+0,v[K+4]=z+2,v[K+5]=z+3}),T-=1})}const S=new Qh({positionSize:2,positions:y,uvs:b,indices:v});return{caption:t,width:g,height:m,vao:S,align:n}}class zQ extends mC{constructor(t,n){super(t,"TextArea",n),this.tech=t._getFontTexture().getTextOverlayRenderTech()}draw(t,n,r,i,o,s,a){const{caption:c,tech:u,horTextAlign:h,spaceWidth:f}=this;if(!c)return;const{vao:g,width:m}=this.textMesh||(this.textMesh=xD(u.fontTexture.glyphData,c,h,f));if(!g)return;const y=u.use(t);g.use(y);const b=this.charHeight*.75,v=b/s,S=b/a,E=n-(h===gy?m*v:h===Zp?m*v/2:0);y.setPositionAndScale(E,r,v,S),y.setColor(this.color),g.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class wy{constructor(){this.renderIteration=0,this.currentRenderList=null}_setCurrentRenderList(t){this.currentRenderList=t}_setRenderIteration(t){this.renderIteration=t}_techOrVAOChanged(){this.currentRenderList?._removeElement(this)}}class UQ{constructor(){this.renderIteration=0,this.gcFilter=t=>t.currentRenderList===this,this.capsGroups=Zh.map(()=>new bQ)}clear(){++this.renderIteration}add(t){if(t._setRenderIteration(this.renderIteration),t.currentRenderList===this)return;t._setCurrentRenderList(this);const n=t.getRenderTech(),r=t.getVAO(),i=n.getProgramCaps();this.capsGroups[i.index].add(n,r,t)}_removeElement(t){t._setCurrentRenderList(null),this.gc()}render(t,n){let r=!1;const{renderIteration:i}=this,{stats:o}=t;for(const s of this.capsGroups)s.entries.forEach((a,c)=>{const u=c.use(t),{hasNormalsSupport:h}=u;a.forEach((f,g)=>{g.use(u),f.forEach(m=>{if(m.currentRenderList!==this){r=!0;return}if(m.renderIteration!==i){m._setCurrentRenderList(null),r=!0;return}t.useBackFaces(m.isMirrored()),h&&u.setNormalMatrix(m.getWorldMatrix(),m.getWorldNormalMatrix()),u.setMVPMatrix(m.getMVPMatrix(n)),g.draw(),++o.dcOpaque,++o.dcTotal})})});r&&this.gc()}gc(){for(const t of this.capsGroups)t.filterInline(this.gcFilter)}}class _D{constructor(){this.elements=[],this.renderIteration=0}clear(){++this.renderIteration}add(t){t._setRenderIteration(this.renderIteration),t.currentRenderList!==this&&(t._setCurrentRenderList(this),this.elements.push(t))}_removeElement(){}render(t,n){let r=!1;const{renderIteration:i}=this,{stats:o}=t;if(n.node){const s=n.node.getWorldPosition();this.elements.sort((a,c)=>cC(s,c.getWorldCOM())-cC(s,a.getWorldCOM()))}else this.elements.sort((s,a)=>mD(a.getWorldCOM())-mD(s.getWorldCOM()));this.elements.forEach(s=>{if(s.currentRenderList!==this){r=!0;return}if(s.renderIteration!==i){s._setCurrentRenderList(null),r=!0;return}const a=s.getRenderTech(),c=s.getVAO(),u=a.use(t);c.use(u),t.useBackFaces(s.isMirrored()),u.hasNormalsSupport&&u.setNormalMatrix(s.getWorldMatrix(),s.getWorldNormalMatrix()),u.setMVPMatrix(s.getMVPMatrix(n)),c.draw(),++o.dcTotal,++o.dcTransparent}),r&&this.gc()}gc(){this.elements=this.elements.filter(t=>t.currentRenderList===this)}}class HQ{constructor(t){this.image=t,this.cache=new fC(this.genTexture.bind(this))}genTexture(t){const{gl:n}=t,r=n.createTexture();function i(s){t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),dP(s.width)&&dP(s.height)?n.generateMipmap(n.TEXTURE_2D):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE))}const{image:o}=this;return o.complete&&o.naturalHeight?i(o):(t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([211,211,211,64])),o.complete||o.addEventListener("load",()=>i(o))),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}}const GQ=jo(),WQ=hy(),ED=Dr(),KQ=Yo(0,1,0),TD=Yo(0,0,-1),qQ=Yo(1,1,1),YQ=qp(1,1,1,1),vC=Dr(),yC=Dr(),bC=Dr(),wC=Dr(),SC=Dr();function MD({origin:e,dir:t},n,r,i){Kp(vC,r,n),Kp(yC,i,n),Xh(bC,t,yC);const o=iu(vC,bC);if(o>-Number.EPSILON&&o<Number.EPSILON)return 1/0;const s=1/o;Kp(wC,e,n);const a=iu(wC,bC)*s;if(a<0||a>1)return 1/0;Xh(SC,wC,vC);const c=iu(t,SC)*s;if(c<0||a+c>1)return 1/0;const u=iu(yC,SC)*s;return u>Number.EPSILON?u:1/0}const su=Dr(),au=Dr(),lu=Dr();function XQ(e,t){let n=1/0;for(let r=0;r+8<t.length;r+=9){su[0]=t[r+0],su[1]=t[r+1],su[2]=t[r+2],au[0]=t[r+3],au[1]=t[r+4],au[2]=t[r+5],lu[0]=t[r+6],lu[1]=t[r+7],lu[2]=t[r+8];const i=MD(e,su,au,lu);n>i&&(n=i)}return n}function ZQ(e,t,n){let r=1/0;for(let i=0;i+2<n.length;i+=3){const o=n[i+0]*3,s=n[i+1]*3,a=n[i+2]*3;su[0]=t[o+0],su[1]=t[o+1],su[2]=t[o+2],au[0]=t[s+0],au[1]=t[s+1],au[2]=t[s+2],lu[0]=t[a+0],lu[1]=t[a+1],lu[2]=t[a+2];const c=MD(e,su,au,lu);r>c&&(r=c)}return r}function QQ(e,t,n){const[r,i,o]=t;return e[0]=n[0]*r+n[4]*i+n[8]*o,e[1]=n[1]*r+n[5]*i+n[9]*o,e[2]=n[2]*r+n[6]*i+n[10]*o,fy(e,e)}function JQ(e,t,n){return ou(e.origin,t.origin,n),QQ(e.dir,t.dir,n),e}function OD(e){switch(e){case XZ:return WebGLRenderingContext.ONE;case ZZ:return WebGLRenderingContext.ZERO;case QZ:return WebGLRenderingContext.DST_COLOR;case JZ:return WebGLRenderingContext.SRC_COLOR;case eQ:return WebGLRenderingContext.ONE_MINUS_DST_COLOR;case tQ:return WebGLRenderingContext.ONE_MINUS_SRC_COLOR;case nQ:return WebGLRenderingContext.DST_ALPHA;case rQ:return WebGLRenderingContext.SRC_ALPHA;case iQ:return WebGLRenderingContext.ONE_MINUS_DST_ALPHA;case oQ:return WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;default:return 0}}function eJ(e){switch(e){case lQ:return WebGLRenderingContext.POINTS;case cQ:return WebGLRenderingContext.LINES;case uQ:return WebGLRenderingContext.LINE_STRIP;case dQ:return WebGLRenderingContext.TRIANGLE_STRIP;case hQ:return WebGLRenderingContext.TRIANGLE_FAN;default:return WebGLRenderingContext.TRIANGLES}}function CC(){return{origin:Dr(),dir:Yo(0,0,1)}}const tJ=new Qh({positionSize:2,positions:new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,-.5]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),indices:new Uint16Array([0,2,1,0,3,2,0,1,2,0,2,3])});class nJ extends wy{constructor(t,n,r){super(),this.set=t,this.position=n,this.parentScale=r,this.worldMatrix=jo(),this.localMatrix=jo(),this.worldCOM=Dr(),this.rotation=Yp(),this.mvpMatrix=jo(),this.worldMatrixVersion=0,this.comWorldMatrixVersion=0,this.shouldUpdateLocalMatrix=!0,this.key=t.o.key()}getMVPMatrix(t){return mc(this.mvpMatrix,t._getVPMatrix(),this.getWorldMatrix())}getWorldMatrix(){const{set:t}=this;this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,pD(this.localMatrix,this.rotation,this.position,this.parentScale),this.worldMatrixVersion=0);const n=t.node;return this.worldMatrixVersion!==n._worldMatrixVersion&&(this.worldMatrixVersion=n._worldMatrixVersion,mc(this.worldMatrix,n._getWorldMatrix(),this.localMatrix)),this.worldMatrix}getWorldCOM(){const t=this.set.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,ou(this.worldCOM,this.position,t._getWorldMatrix()),lC(this.worldCOM,this.getWorldMatrix())),this.worldCOM}getVAO(){return tJ}getRenderTech(){return this.set.material._getMeshRenderTech()}getWorldNormalMatrix(){return WQ}isMirrored(){return!1}_onAttached(){this.worldMatrixVersion=0,this.comWorldMatrixVersion=0}_updateLocalMatrix(){this.shouldUpdateLocalMatrix=!0}}class Jh{constructor(t,n){this.o=t,this.node=null,this.visible=!0,t.movables.set(this.key=t.key(),this),this.name=n?.name??""}destroy(){this.detach(),this.o.movables.delete(this.key)}setVisible(t){return this.visible=t,this}detach(){const t=this.node;return t?(t.movables=t.movables.filter(n=>n!==this),this.node=null,this):this}}class rJ extends Jh{constructor(t,n){super(t,n),this.commonScale=Yo(1,1,1),this.type=fQ,this.material=null,this.billboards=[],t.billboardSets.set(this.key,this)}destroy(){super.destroy(),this.o.billboardSets.delete(this.key)}createBillboard(t,n,r){const i=new nJ(this,Yo(t,n,r),this.commonScale);return this.billboards.push(i),i}setCommonDirection(t,n,r){return this}setCommonUpVector(t,n,r){return this}setDimensions(t,n){Tl(this.commonScale,t,n,1);for(const r of this.billboards)r._updateLocalMatrix();return this}setType(t){if(t!==pQ)throw Error(`billboardSet_SetBillboardType: тип ${t} не реализован`);return this.type=t,this}setMaterial(t){if(this.material!==t){this.material=t;for(const n of this.billboards)n._techOrVAOChanged()}return this}_onAttached(){for(const t of this.billboards)t._onAttached()}_setup(t){const{material:n}=this;if(!n)return;const r=n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements;for(const i of this.billboards)r.add(i)}}const RD=new Map;class iJ{constructor(t){this.info=t,this.texture=null,this.image=null,this.loadImage()}loadImage(){if(this.image)return this.image;const t=Ps(this.info.src),n=RD.get(t);if(n)return this.image=n;const r=new Image;return r.crossOrigin="",r.src=t,RD.set(t,r),this.image=r}getTexture(){return this.texture||(this.image||(this.image=this.loadImage()),this.texture=new HQ(this.image)),this.texture}}const Sy=Dr();class ID{constructor(t,n){this.center=t,this.sqrRadius=n*n}intersectsWith(t){const{center:n}=this;if(cC(n,t.origin)<=this.sqrRadius)return!0;Kp(Sy,n,t.origin);const r=iu(Sy,t.dir),i=iu(Sy,Sy)-r*r;if(i>this.sqrRadius)return!1;const o=Math.sqrt(this.sqrRadius-i);return r+o>=0}}class oJ{constructor(t,n,r){this.parent=t,this.data=n,this.indexOffset=r,this.material=null,this.vao=null,this.materialFound=!1,this.materialName=n.material||"",this.useSharedGeometry=n.useSharedGeometry||!1;const i=n.useSharedGeometry?t.data.sharedGeometry:n.geometry;if(!i)throw Error("Mesh не имеет геометрии");if(i.length>1)throw Error("Mesh с несколькими VertexBuffer не реализованы");const[o]=i;if(!o.positions)throw Error("Mesh без Positions не поддерживается");this.vBufferData=o;const{maxX:s,maxY:a,maxZ:c,minX:u,minY:h,minZ:f}=n.extrema||o.positions.extrema,g=(s+u)/2,m=(a+h)/2,y=(c+f)/2;this.center=Yo(g,m,y);const b=Math.max(s-u,a-h,c-f)/2;this.boundingSphere=new ID(this.center,b)}getCOM(){return this.center}getVertexCount(){return this.vBufferData.vertexCount}getDefaultMaterial(){if(this.materialFound)return this.material;if(this.materialFound=!0,!this.materialName)return null;const t=this.parent.o.materialByName.get(this.materialName)??null;if(!t){const n=this.parent.submeshes.indexOf(this);console.warn(`Ogre: ${this.parent.meta}[${n}]: материал '${this.materialName}' не существует`)}return this.material=t}getVAO(){if(this.vao)return this.vao;if(this.useSharedGeometry){const a=this.indexOffset;let c=this.data.indices.length;return this.vao=new jQ(this.parent._getSharedVAO(),a,c)}const{vBufferData:t,data:n}=this,r=new Float32Array(t.positions.coords),i=t.normals?.length?new Float32Array(t.normals):null,o=t.uvs?.length?new Float32Array(t.uvs[0]):null,s=new(n.useIndices32?Uint32Array:Uint16Array)(n.indices);return this.vao=new Qh({positionSize:3,positions:r,uvs:o,normals:i,indices:s})}getClosestIntersection(t){return this.boundingSphere.intersectsWith(t)?ZQ(t,this.vBufferData.positions.coords,this.data.indices):1/0}}class sJ{constructor(t,n){this.o=t,this.data=n,this.sharedVAO=null;let r=0;this.submeshes=n.submeshes.map(i=>{const o=new oJ(this,i,r);return r+=i.indices.length,o})}_getSharedVAO(){if(this.sharedVAO)return this.sharedVAO;const[t]=this.data.sharedGeometry;let n=!1,r=0;this.data.submeshes.forEach(u=>{u.useIndices32&&(n=!0),r+=u.indices.length});const i=new(n?Uint32Array:Uint16Array)(r);let o=0;this.data.submeshes.forEach(u=>{i.set(u.indices,o),o+=u.indices.length});const s=new Float32Array(t.positions.coords),a=t.normals?.length?new Float32Array(t.normals):null,c=t.uvs?.length?new Float32Array(t.uvs[0]):null;return this.sharedVAO=new Qh({positionSize:3,positions:s,uvs:c,normals:a,indices:i})}}class aJ extends Jh{constructor(t,n){super(t,n),t.lights.set(this.key,this)}destroy(){super.destroy(),this.o.lights.delete(this.key)}_onAttached(){}_setup(t){t.globalLight=this}}class lJ{constructor(t,n=""){this.pass=t,this.name=n,this.texture=null,this.imageNameUC=null,this.imageFound=!1,t.tech.mat.o.texUnits.set(this.key=t.tech.mat.o.key(),this)}setTexture(t,n){if(n!==YZ)throw Error("textureUnitState_SetTexture: Используемый тип текстуры не поддерживается");return this.texture=t?.getTexture()||null,this}setTextureName(t){return this.imageNameUC=t.toUpperCase(),this}getTexture(){return this.imageFound||this.texture?this.texture:(this.imageFound=!0,this.imageNameUC?this.texture=this.pass.tech.mat.o.imageResByNameUC.get(this.imageNameUC)?.getTexture()||null:null)}}class cJ{constructor(t){this.tech=t,this.textures=[],this.ambient=Yo(1,1,1),this.diffuse=qp(1,1,1,1),this.specular=qp(0,0,0,1),this.emissive=Yo(0,0,0),this.shininess=0,this.lightingEnabled=!0,this.shadingMode=Xp,this.depthCheck=!0,this.depthWrite=!0,this._glBlendSFactor=WebGLRenderingContext.ONE,this._glBlendDFactor=WebGLRenderingContext.ZERO,this._version=0,t.mat.o.passes.set(this.key=t.mat.o.key(),this)}_getDefaultTextureUnit(){const{textures:t}=this;return t.length?t[0]:null}createTextureUnit(t){const n=new lJ(this,t);return this.textures.push(n),n}setLightingEnabled(t){return this.lightingEnabled=t,this}setAmbient(t,n,r){return Tl(this.ambient,t,n,r),this}setDiffuse(t,n,r,i){return uC(this.diffuse,t,n,r,i),this}setSpecular(t,n,r,i){return uC(this.specular,t,n,r,i),this}setEmissive(t,n,r){return Tl(this.emissive,t,n,r),this}setShininess(t){return this.shininess=t,this}setShadingMode(t){return this.shadingMode=t,this}setDepthCheckEnabled(t){return this.depthCheck=t,this}setDepthWriteEnabled(t){return this.depthWrite=t,this}setSceneBlending(t,n){return this._glBlendSFactor=OD(t)||WebGLRenderingContext.ONE,this._glBlendDFactor=OD(n)||WebGLRenderingContext.ZERO,this}}class uJ{constructor(t){this.mat=t,t.o.techniques.set(this.key=t.o.key(),this),this.passes=[new cJ(this)]}pass(t){return t>=0&&t<this.passes.length?this.passes[t]:null}}class dJ{constructor(t,n){this.o=t,this.name=n,this.meshRenderTech=null,this.panelOverlayRenderTech=null,t.materialByKey.set(this.key=t.key(),this),t.materialByName.has(n)||t.materialByName.set(n,this),this.techs=[new uJ(this)]}tech(t){return t>=0&&t<this.techs.length?this.techs[t]:null}_getMeshRenderTech(){return this.meshRenderTech||(this.meshRenderTech=new IQ(this)),this.meshRenderTech}_getPanelOverlayRenderTech(){return this.panelOverlayRenderTech||(this.panelOverlayRenderTech=new kQ(this)),this.panelOverlayRenderTech}}const ef=jo();class hJ extends wy{constructor(t,n,r,i,o){super(),this.text=t,this.renderTech=n,this.vao=r,this.width=i,this.height=o,this.mvpMatrix=jo(),this.worldCOM=Dr(),this.comWorldMatrixVersion=1}getMVPMatrix(t){const{node:n,charHeight:r}=this.text,i=mc(this.mvpMatrix,t._getViewMatrix(),n._getWorldMatrix()),o=Math.hypot(i[0],i[1],i[2])*r,s=Math.hypot(i[4],i[5],i[6])*r,a=-this.width*o,c=this.height*s;return ef[0]=o,ef[5]=s,ef[12]=i[12]+a,ef[13]=i[13]+c,ef[14]=i[14],mc(this.mvpMatrix,t._getProjectionMatrix(),ef)}getWorldCOM(){const t=this.text.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,lC(this.worldCOM,t._getWorldMatrix())),this.worldCOM}getVAO(){return this.vao}getRenderTech(){return this.renderTech}getWorldMatrix(){throw new Error("Method not implemented.")}getWorldNormalMatrix(){throw new Error("Method not implemented.")}isMirrored(){return!1}_onAttached(){this.comWorldMatrixVersion=1}}class fJ extends Jh{constructor(t,n,r){super(t,r),this.textElement=null,this.textElementCreated=!1,this.color=qp(1,1,1,1),this.charHeight=1,t.movableTexts.set(this.key,this),this.caption=n,this.fontName=r?.fontName||""}destroy(){super.destroy(),this.o.movableTexts.delete(this.key)}setCharHeight(t){return this.charHeight=t,this}_onAttached(){this.textElement?._onAttached()}_setup(t){if(!this.textElementCreated&&(this.textElementCreated=!0,this.caption)){const r=this.o._getFontTexture(this.fontName),{vao:i,width:o,height:s}=xD(r.glyphData,this.caption);if(i){const a=new PQ(r,this);this.textElement=new hJ(this,a,i,o,s)}}const{textElement:n}=this;n&&t.textElements.add(n)}}class pJ{constructor(t,n=""){this.o=t,this.name=n,this.children=[],this.visible=!1,this.scaleX=1,this.scaleY=1,this.z=0,t.overlays.set(this.key=t.key(),this)}setChildren(t){return this.children.forEach(n=>n.overlay=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>{n.overlay=this,n.parent&&(console.warn("OverlayElement has parent"),n.parent=null)}),this}setZ(t){return this.z=t,this.o.overlayQueue=null,this}setScale(t,n){return this.scaleX=t,this.scaleY=n,this}setVisible(t){return this.visible=t,this.o.overlayQueue=null,this}render(t){const{ctx:n}=t.window,{drawingBufferWidth:r,drawingBufferHeight:i}=n.gl;this.children.forEach(o=>o.drawAt(n,0,0,1,1,r,i))}}class gJ{constructor(t,n){this.window=t,this.bg=Yo(.2,.2,.2),this.overlaysEnabled=!0,t.o.viewports.set(this.key=t.o.key(),this),this.camera=n,n._setViewport(this)}setCamera(t){return this.camera!==t&&(this.camera._setViewport(null),this.camera=t._setViewport(this)),this}enableOverlays(t){return this.overlaysEnabled=t,this}setBackground(t,n,r){return Tl(this.bg,t,n,r),this}}class mJ{constructor(t,n,r){this.o=t,this.viewports=new Set,this.x=0,this.y=0,this.width=0,this.height=0,this.wheelPosition=0,this.buttonsPressed=[!1,!1,!1,!1],this.mainViewport=null,t.windows.set(this.key=t.key(),this);const i=this.domElement=document.createElement("canvas");this.width=i.width=n,this.height=i.height=r,i.setAttribute("data-render-window-key",this.key.toString());const o=i.getContext("webgl",{alpha:!1,depth:!0,antialias:!0,desynchronized:!1});this.ctx=new BQ(o)}close(){this.o.windows.delete(this.key)}createViewport(t,n){const r=new gJ(this,t);if(this.viewports.size)throw Error("Создание нескольких Viewport не реализовано");return this.mainViewport=r,this.viewports.add(r),r}render(t){const{ctx:n}=this,{gl:r}=n;this.viewports.forEach(i=>{const{camera:o}=i;o._updateActualAspect();const{scene:s}=o,{globalLight:a,opaqueElements:c,textElements:u,transparentElements:h}=s._setup(t);if(n.reset(),r.clearColor(...i.bg,1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),n.setLighting(s.ambient,a?.node.getWorldPosition()||ED),r.enable(r.DEPTH_TEST),c.render(n,o),r.enable(r.BLEND),h.render(n,o),r.disable(r.DEPTH_TEST),n.useBackFaces(!1),u.render(n,o),i.overlaysEnabled){let f;(f=this.o.overlayQueue)||(f=this.o.overlayQueue=[...this.o.overlays.values()].filter(g=>g.visible).sort((g,m)=>g.z-m.z)),f.forEach(g=>g.render(i))}r.disable(r.BLEND)})}}const kD=Dr(),PD=Dr(),DD=Dr();class vJ extends Jh{constructor(t,n){super(t.o,n),this.scene=t,this.projectionMatrix=jo(),this.vpMatrix=jo(),this.inverseVPMatrix=jo(),this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.vpWorldMatrixVersion=1,this.shouldUpdateInverseVPMatrix=!0,this.inverseVPWorldMatrixVersion=1,this.viewportAspect=10,this.viewport=null,this.nearDist=1,this.farDist=1e3,this.fov=Math.PI/4,this.aspect=1.3333333333333333,this.autoAspect=!0,t.o.cameras.set(this.key,this),n&&this.set(n)}destroy(){super.destroy(),this.o.cameras.delete(this.key)}useViewportAspect(){return!!this.viewport&&this.autoAspect}_setViewport(t){return this.viewport=t,this}set({farDist:t=this.farDist,fov:n=this.fov,nearDist:r=this.nearDist,aspect:i=this.aspect}){return(this.farDist!==t||this.fov!==n||this.nearDist!==r||this.aspect!==i&&!this.useViewportAspect())&&(this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.shouldUpdateInverseVPMatrix=!0),this.farDist=t,this.fov=n,this.nearDist=r,this.aspect=i,this}_updateActualAspect(){if(!this.autoAspect)return;const{domElement:t}=this.viewport.window,n=t.width/t.height;this.viewportAspect!==n&&(this.viewportAspect=n,this.shouldUpdateProjectionMatrix=!0)}_getViewMatrix(){return this.node?._getInverseWorldMatrix()||GQ}_getProjectionMatrix(){return this.shouldUpdateProjectionMatrix&&(this.shouldUpdateProjectionMatrix=!1,_Z(this.projectionMatrix,this.fov,this.useViewportAspect()?this.viewportAspect:this.aspect,this.nearDist,this.farDist)),this.projectionMatrix}_getVPMatrix(){const{node:t}=this;return t?((this.shouldUpdateVPMatrix||this.vpWorldMatrixVersion!==t._worldMatrixVersion)&&(this.shouldUpdateVPMatrix=!1,this.vpWorldMatrixVersion=t._worldMatrixVersion,mc(this.vpMatrix,this._getProjectionMatrix(),this._getViewMatrix())),this.vpMatrix):this._getProjectionMatrix()}_getInverseVPMatrix(){const{node:t}=this,n=t?t._worldMatrixVersion:1;return(this.shouldUpdateInverseVPMatrix||this.inverseVPWorldMatrixVersion!==n)&&(this.shouldUpdateInverseVPMatrix=!1,this.inverseVPWorldMatrixVersion=n,hD(this.inverseVPMatrix,this._getVPMatrix())),this.inverseVPMatrix}getRay(t,n,r){const i=this._getInverseVPMatrix(),o=2*t-1,s=1-2*n;return Tl(kD,o,s,-1),ou(r.origin,kD,i),Tl(PD,o,s,0),ou(DD,PD,i),Kp(r.dir,DD,r.origin),fy(r.dir,r.dir),r}_onAttached(){this.vpWorldMatrixVersion=1,this.inverseVPWorldMatrixVersion=1}_setup(){}}class yJ extends wy{constructor(t,n){super(),this.entity=t,this.submesh=n,this.worldCOM=Dr(),this.comWorldMatrixVersion=0,this.material=null,this.vertexCount=n.getVertexCount(),this.material=n.getDefaultMaterial()}setMaterial(t){return this.material!==t&&(this.material=t,this._techOrVAOChanged()),this}_setup(t){const{material:n}=this;n&&(n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}getWorldMatrix(){return this.entity.node._getWorldMatrix()}getWorldNormalMatrix(){return this.entity._getWorldNormalMatrix()}getWorldCOM(){const t=this.entity.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,ou(this.worldCOM,this.submesh.getCOM(),t._getWorldMatrix())),this.worldCOM}getVAO(){return this.submesh.getVAO()}getRenderTech(){return this.material._getMeshRenderTech()}isMirrored(){return this.entity.node._isMirrored()}getMVPMatrix(t){return this.entity._getMVPMatrix(t)}_onAttached(){this.comWorldMatrixVersion=0}}const AD=jo();class LD extends Jh{constructor(t,{submeshes:n},r){super(t.o,r),this.scene=t,this.mvpMatrix=jo(),this.worldNormalMatrix=hy(),this.normalWorldMatrixVersion=1,t.o.entities.set(this.key,this),this.subEntities=n.map(i=>new yJ(this,i))}destroy(){super.destroy(),this.o.entities.delete(this.key)}subEntity(t){return t>=0&&t<this.subEntities.length?this.subEntities[t]:null}_getMVPMatrix(t){return mc(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,dD(AD,t._getInverseWorldMatrix()),uD(this.worldNormalMatrix,AD)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const{submesh:r}of this.subEntities){const i=r.getClosestIntersection(t);n>i&&(n=i)}return n}_onAttached(){this.normalWorldMatrixVersion=1;for(const t of this.subEntities)t._onAttached()}_setup(t){for(const n of this.subEntities)n._setup(t)}}class bJ extends eg{selectProgram(t){return t.meshPrograms[0]}apply(t){const{ctx:n}=t;n.setDepthWrite(!0),n.setDepthCheck(!0),t.setDiffuse(YQ),t.setAmbient(qQ)}hasOpacity(){return!1}getProgramCaps(){return Zh[0]}}const wJ=new bJ;class SJ extends wy{constructor(t,n,r){super(),this.object=t,this.drawType=n,this.worldCOM=Dr(),this.comWorldMatrixVersion=0,this.coords=[],this.normals=[],this.isComplete=!1,this.vao=null,this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0,this.minZ=1/0,this.maxZ=-1/0,this.center=null,this.boundingSphere=null,this.vertexCount=0,this.renderTech=r?._getMeshRenderTech()||wJ}addVertex(t,n,r){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t),this.minY=Math.min(this.minY,n),this.maxY=Math.max(this.maxY,n),this.minZ=Math.min(this.minZ,r),this.maxZ=Math.max(this.maxZ,r),this.coords.push(t,n,r),++this.vertexCount}addNormal(t,n,r){this.normals.push(t,n,r)}end(){this.isComplete=!0;const{maxX:t,maxY:n,maxZ:r,minX:i,minY:o,minZ:s}=this,a=(t+i)/2,c=(n+o)/2,u=(r+s)/2;this.center=Yo(a,c,u);const h=Math.max(t-i,n-o,r-s)/2;this.boundingSphere=new ID(this.center,h)}getWorldMatrix(){return this.object.node._getWorldMatrix()}getWorldNormalMatrix(){return this.object._getWorldNormalMatrix()}getWorldCOM(){const t=this.object.node;return t?(this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,ou(this.worldCOM,this.center,t._getWorldMatrix())),this.worldCOM):ED}getVAO(){return this.vao?this.vao:this.vao=new Qh({positionSize:3,positions:new Float32Array(this.coords),normals:this.normals.length?new Float32Array(this.normals):null,drawMode:eJ(this.drawType)})}getRenderTech(){return this.renderTech}isMirrored(){return this.object.node._isMirrored()}getMVPMatrix(t){return this.object._getMVPMatrix(t)}getClosestIntersection(t){return this.drawType!==vD||!this.isComplete||!this.boundingSphere.intersectsWith(t)?1/0:XQ(t,this.coords)}_setup(t){this.isComplete&&(this.renderTech.hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}_onAttached(){this.comWorldMatrixVersion=0}}const ND=jo();class BD extends Jh{constructor(t,n){super(t.o,n),this.scene=t,this.mvpMatrix=jo(),this.worldNormalMatrix=hy(),this.normalWorldMatrixVersion=0,this.sections=[],t.o.manualObjects.set(this.key,this)}destroy(){super.destroy(),this.o.manualObjects.delete(this.key)}createSection(t,n){const r=new SJ(this,t,n);return this.sections.push(r),r}clear(){this.sections=[]}_getMVPMatrix(t){return mc(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,dD(ND,t._getInverseWorldMatrix()),uD(this.worldNormalMatrix,ND)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const r of this.sections){const i=r.getClosestIntersection(t);n>i&&(n=i)}return n}_onAttached(){this.normalWorldMatrixVersion=0;for(const t of this.sections)t._onAttached()}_setup(t){for(const n of this.sections)n._setup(t)}}class CJ{constructor(t){this.entries=t,this.length=t.length}getEntry(t){const{entries:n}=this;return t>=0&&t<n.length?n[t]:null}sort(){this.entries.sort((t,n)=>t.distance-n.distance)}}class xJ{constructor(t,n){this.scene=t,this.localMatrix=jo(),this.worldMatrix=jo(),this.inverseWorldMatrix=jo(),this.worldPosition=Dr(),this.worldRotation=Yp(),this.worldScale=Yo(1,1,1),this.mirrored=!1,this.shouldUpdateLocalMatrix=!1,this.shouldUpdateWorldMatrix=!1,this.shouldUpdateInverseWorldMatrix=!1,this.shouldUpdateMirroredInfo=!1,this.shouldUpdateWorldPosition=!1,this.shouldUpdateWorldRotation=!1,this.shouldUpdateWorldScale=!1,this.position=Dr(),this.scale=Yo(1,1,1),this.rotation=Yp(),this._worldMatrixVersion=1,this.children=[],this.parent=null,t.o.nodes.set(this.key=t.o.key(),this),this.name=n?.name??""}destroy(){this.children.forEach(t=>{t.parent=null,t.updateWorldMatrixRecursive()}),this.removeParent(),this.scene.o.nodes.delete(this.key)}getChild(t){const{children:n}=this;return t>=0&&t<n.length?n[t]:null}addChild(t){const n=t.parent;if(n){if(n===this)return this;let r=this.parent;for(;r;){if(r===t)throw Error("SceneNode.addChild: child является родительским узлом текущего узла");r=r.parent}}if(t===this)throw Error("SceneNode.addChild: child является текущим узлом");if(t.scene!==this.scene)throw Error("SceneNode.addChild: child принадлежит другой сцене");return t.removeParent(),this.children.push(t),t.parent=this,t.updateWorldMatrixRecursive(),this}updateWorldMatrixRecursive(){if(!this.shouldUpdateWorldMatrix){this.shouldUpdateWorldMatrix=!0,++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldPosition=!0,this.shouldUpdateWorldRotation=!0,this.shouldUpdateWorldScale=!0;for(const t of this.children)t.updateWorldMatrixRecursive()}}updateLocalMatrix(){this.shouldUpdateLocalMatrix||(this.shouldUpdateLocalMatrix=!0,this.updateWorldMatrixRecursive())}updateChildrenMirroredInfoRecursive(){if(!this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!0;for(const t of this.children)t.updateChildrenMirroredInfoRecursive()}}updateMirroredInfo(){if(this.shouldUpdateMirroredInfo)return;const{scale:t}=this;if(this.mirrored!==Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0){this.shouldUpdateMirroredInfo=!0;for(const n of this.children)n.updateChildrenMirroredInfoRecursive()}}removeParent(){const t=this.parent;return t?(t.children=t.children.filter(n=>n!==this),this.parent=null,this):this}setPosition(t,n,r){return Tl(this.position,t,n,r),this.updateLocalMatrix(),this}setRotation(t,n,r,i){return hC(this.rotation,WZ(this.rotation,t,n,r,i)),this.updateLocalMatrix(),this}resetRotation(){return VZ(this.rotation),this.updateLocalMatrix(),this}rotateX(t){return zZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateY(t){return UZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateZ(t){return HZ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}setScale(t,n,r){return Tl(this.scale,t,n,r),this.updateLocalMatrix(),this.updateMirroredInfo(),this}_getWorldMatrixForRotation(){++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldRotation=!0;for(const t of this.children)t.updateWorldMatrixRecursive();return this.worldMatrix}_getWorldMatrix(){return this.shouldUpdateWorldMatrix&&(this.shouldUpdateWorldMatrix=!1,this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,pD(this.localMatrix,this.rotation,this.position,this.scale)),this.parent?mc(this.worldMatrix,this.parent._getWorldMatrix(),this.localMatrix):yZ(this.worldMatrix,this.localMatrix)),this.worldMatrix}_getInverseWorldMatrix(){return this.shouldUpdateInverseWorldMatrix&&(this.shouldUpdateInverseWorldMatrix=!1,hD(this.inverseWorldMatrix,this._getWorldMatrix())),this.inverseWorldMatrix}_isMirrored(){if(this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!1;const{scale:t}=this;this.mirrored=Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0,this.parent?._isMirrored()&&(this.mirrored=!this.mirrored)}return this.mirrored}getWorldPosition(){return this.shouldUpdateWorldPosition&&(this.shouldUpdateWorldPosition=!1,lC(this.worldPosition,this._getWorldMatrix())),this.worldPosition}getWorldRotation(){return this.shouldUpdateWorldRotation&&(this.shouldUpdateWorldRotation=!1,CZ(this.worldRotation,this._getWorldMatrix())),this.worldRotation}getWorldScale(){return this.shouldUpdateWorldScale&&(this.shouldUpdateWorldScale=!1,fD(this.worldScale,this._getWorldMatrix())),this.worldScale}}const xC=Dr(),FD=Dr(),_J=Dr(),Cy=CC(),tg=Dr();class jD extends xJ{constructor(t,n){super(t,n),this.trackingInfo=null,this.movables=[],t.o.sceneNodes.set(this.key,this)}destroy(){super.destroy(),this.movables.forEach(t=>t.node=null),this.scene.o.sceneNodes.delete(this.key)}getMovable(t){const{movables:n}=this;return t>=0&&t<n.length?n[t]:null}attach(t){const n=t.node;if(n){if(n===this)return this;t.detach()}return this.movables.push(t),t.node=this,t._onAttached(this),this}setAutoTracking(t,n,r,i){if(!t)return this.trackingInfo=null,this;let o,s;const{trackingInfo:a}=this;if(a){if(o=a.direction,s=a.orientationMat,a.target===t&&o[0]===n&&o[1]===r&&o[2]===i)return this;Tl(o,n,r,i)}else o=Yo(n,r,i),s=jo();fy(xC,o);const c=AZ(xC,TD);return Xh(FD,xC,TD),SZ(s,c,FD),this.trackingInfo={target:t,direction:o,orientationMat:s},this}updateTracking(){const{parent:t,trackingInfo:n}=this;if(!n||!t)return;const r=this.getWorldScale(),i=this._getWorldMatrixForRotation();EZ(i,this.getWorldPosition(),n.target.getWorldPosition(),ou(_J,KQ,t._getWorldMatrix())),mc(i,i,n.orientationMat),wZ(i,i,r)}_setup(t){this.updateTracking();for(const n of this.movables)n.visible&&n._setup(t);for(const n of this.children)n._setup(t)}_findIntersections(t,n){let r=!1;for(const i of this.movables){if(!(i instanceof LD||i instanceof BD))continue;r||(r=!0,JQ(Cy,t,this._getInverseWorldMatrix()));const o=i._getClosestIntersection(Cy);if(o<1/0){MZ(tg,Cy.origin,IZ(tg,Cy.dir,o)),ou(tg,tg,this._getWorldMatrix());const s=NZ(t.origin,tg);n.push({movable:i,distance:s})}}for(const i of this.children)i._findIntersections(t,n)}}class EJ{constructor(t){this.o=t,this.renderInfo={globalLight:null,opaqueElements:new UQ,transparentElements:new _D,textElements:new _D},this.frameNumber=0,this.ambient=Dr(),t.scenes.set(this.key=t.key(),this),this.root=new jD(this)}setAmbient(t,n,r){return Tl(this.ambient,t,n,r),this}createSceneNode(t){return new jD(this,t)}createCamera(t){return new vJ(this,t)}createEntity(t,n){return new LD(this,t,n)}createManualObject(t){return new BD(this,t)}_setup(t){if(this.frameNumber===t)return this.renderInfo;this.frameNumber=t;const{renderInfo:n}=this;return n.globalLight=null,n.opaqueElements.clear(),n.transparentElements.clear(),n.textElements.clear(),this.root._setup(n),n}rayCast(t){const n=[];return this.root._findIntersections(t,n),new CJ(n)}}class TJ{constructor(){this.windows=new Map,this.scenes=new Map,this.viewports=new Map,this.overlays=new Map,this.overlayElements=new Map,this.entities=new Map,this.manualObjects=new Map,this.nodes=new Map,this.sceneNodes=new Map,this.movables=new Map,this.cameras=new Map,this.billboardSets=new Map,this.lights=new Map,this.movableTexts=new Map,this.materialByKey=new Map,this.materialByName=new Map,this.techniques=new Map,this.passes=new Map,this.texUnits=new Map,this.imageResByNameUC=new Map,this.meshResByNameUC=new Map,this.primaryWindow=null,this.overlayQueue=null,this.fontMap=new Map,this.globalKey=1e3,this.drawNumber=0}_getFontTexture(t){const n=t||"sans-serif",r=n.toUpperCase(),i=this.fontMap.get(r);if(i)return i;const o=new LQ(n);return this.fontMap.set(r,o),o}key(){return++this.globalKey}createRenderWindow(t,n){const r=new mJ(this,t,n);return this.primaryWindow||=r,r}createScene(){return new EJ(this)}createMovableText(t,n){return new fJ(this,t,n)}createLight(t){return new aJ(this,t)}createBillboardSet(t){return new rJ(this,t)}createMaterial(t){return new dJ(this,t)}createOverlayElement(t,n){switch(t){case"Panel":return new VQ(this,n);case"BorderPanel":return new $Q(this,n);case"TextArea":return new zQ(this,n);default:throw Error(`createOverlayElement: тип '${t}' не реализован`)}}createOverlay(t){return new pJ(this,t)}createMesh(t,n){const r=new sJ(this,t);return this.meshResByNameUC.set(n.toUpperCase(),r),r}createImage(t,n){const r=new iJ(t);return this.imageResByNameUC.set(n.toUpperCase(),r),r}renderAll(){const t=++this.drawNumber;this.windows.forEach(n=>n.render(t))}}const VD=new Set;function Un(...e){VD.size!==VD.add(e[0]).size&&console.warn(...e)}function MJ(e,t,n,r,i){if(!this.kernel.egor.scenes.get(e))return 0;const s=this.kernel.egor.manualObjects.get(t);if(!s)return 0;const a=s.sections[0];return a.addVertex(n,r,i),a.vertexCount}function OJ(e,t,n,r,...i){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function RJ(e,t,n,r,...i){throw Un("ApplyTexture3d",e,t,n,r,i),Error("ApplyTexture3d: Функция не реализована")}function IJ(e,t,n,r,i,o){if(!this.kernel.egor.scenes.get(e))return 0;const a=this.kernel.egor.cameras.get(t);return a?this.kernel.egor.createRenderWindow(1e3,1e3).createViewport(a).key:0}function kJ(e,t,n,r,i,o,s,a,c,u,h,f,g){const m=this.kernel.egor.scenes.get(e);return m?m.createCamera().key:0}function PJ(e,t){throw Un("CreateDefCamera3d",e,t),Error("CreateDefCamera3d: Функция не реализована")}function DJ(e,t,n,r,i,o,s,a,c,u){throw Un("CreateMaterial3d",e,t,n,r,i,o,s,a,c,u),Error("CreateMaterial3d: Функция не реализована")}function AJ(e){const t=this.kernel.egor.scenes.get(e);if(!t)return 0;const n=t.createManualObject();return n.createSection(vD,null),n.key}function LJ(e,t){throw Un("CreateObjectFromFile3d",e,t),Error("CreateObjectFromFile3d: Функция не реализована")}function NJ(e){return this.kernel.egor.createScene().key}function BJ(e,t,n,r,i,o){throw Un("CreateSurface3d",e,t,n,r,i,o),Error("CreateSurface3d: Функция не реализована")}function FJ(e,t,n){throw Un("DelPoint3d",e,t,n),Error("DelPoint3d: Функция не реализована")}function jJ(e,t,n){throw Un("DelPrimitive3d",e,t,n),Error("DelPrimitive3d: Функция не реализована")}function VJ(e){throw Un("DeleteSpace3d",e),Error("DeleteSpace3d: Функция не реализована")}function $J(e,t){throw Un("DuplicateObject3d",e,t),Error("DuplicateObject3d: Функция не реализована")}function zJ(e,t,n,r){throw Un("FitToCamera3d",e,t,n,r),Error("FitToCamera3d: Функция не реализована")}function UJ(e,t){throw Un("GetActiveCamera3d",e,t),Error("getActiveCamera3d: Функция не реализована")}function HJ(e,t,n,r,i){throw Un("GetColors3d",e,t,n,r,i),Error("GetColors3d: Функция не реализована")}function GJ(e,t){throw Un("GetMaterialByName3d",e,t),Error("GetMaterialByName3d: Функция не реализована")}function WJ(e,t){throw Un("GetNumPoints3d",e,t),Error("GetNumPoints3d: Функция не реализована")}function KJ(e,t){throw Un("GetNumPrimitives3d",e,t),Error("GetNumPrimitives3d: Функция не реализована")}function qJ(e,t,n,r,i,o,s,a){throw Un("GetObject3dFromPoint2d",e,t,n,r,o,a),Error("GetObject3dFromPoint2d: Функция не реализована")}function YJ(e,t,n,r,i,o,s,a){throw Un("GetObjectBase3d",e,t,r,o,a),Error("GetObjectBase3d: Функция не реализована")}function XJ(e,t,n){throw Un("GetObjectBase3dM",e,t,n),Error("GetObjectBase3dM: Функция не реализована")}function ZJ(e,t){throw Un("GetObjectColor3d",e,t),Error("GetObjectColor3d: Функция не реализована")}function QJ(e,t,n){throw Un("GetObjectDimension3d",e,t,n),Error("GetObjectDimension3d: Функция не реализована")}function JJ(e,t,n){return n}function eee(e,t,n){throw Un("GetObjectPoints3d",e,t,n),Error("GetObjectPoints3d: Функция не реализована")}function tee(e,t,n,r,i,o,s,a,c){throw Un("GetPoint3d",e,t,n,i,s,c),Error("GetPoint3d: Функция не реализована")}function nee(e,t){throw Un("GetSpace3d",e,t),Error("getSpace3d: Функция не реализована")}function ree(e,t,n,r,i){const o=this.kernel.egor.scenes.get(e);return o?o.createManualObject().key:0}function iee(e,t,n,r,i,o,s,a){throw Un("MakeCylinder3d",e,t,n,r,i,o,s,a),Error("MakeCylinder3d: Функция не реализована")}function oee(e,t,n,r,i,o){throw Un("MakeGrid3d",e,t,n,r,i,o),Error("MakeGrid3d: Функция не реализована")}function see(e,t,n,r,i,o){throw Un("MakeSphere3d",e,t,n,r,i,o),Error("MakeSphere3d: Функция не реализована")}function aee(){Un("MakeTore3d")}function lee(e,t,n,r,i,o,s,a){throw Un("MakeTube3d",e,t,n,r,i,o,s,a),Error("MakeTube3d: Функция не реализована")}function cee(e){throw Un("PopCrdSystem3d",e),Error("PopCrdSystem3d: Функция не реализована")}function uee(e){throw Un("PushCrdSystem3d",e),Error("PushCrdSystem3d: Функция не реализована")}function dee(e,t){throw Un("RemoveTexture3d",e,t),Error("RemoveTexture3d: Функция не реализована")}function hee(e,t,n,r){throw Un("RotateObject3d",e,t,n,r),Error("RotateObject3d: Функция не реализована")}function fee(e,t,n,r){throw Un("RotateObjectPoints3d",e,t,n,r),Error("RotateObjectPoints3d: Функция не реализована")}function pee(e,t){throw Un("SelectLocalCrd3d",e,t),Error("SelectLocalCrd3d: Функция не реализована")}function gee(e,t){throw Un("SelectViewCrd3d",e,t),Error("SelectViewCrd3d: Функция не реализована")}function mee(e){throw Un("SelectWorldCrd3d",e),Error("SelectWorldCrd3d: Функция не реализована")}function vee(e,t,n,r,i){throw Un("SetColors3d",e,t,n,r,i),Error("SetColors3d: Функция не реализована")}function yee(e,t,n,r,i){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function bee(e,t,n){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function wee(e,t,n){throw Un("SetObjectMatrix3d",e,t,n),Error("SetObjectMatrix3d: Функция не реализована")}function See(e,t,n){throw Un("SetObjectPoints3d",e,t,n),Error("SetObjectPoints3d: Функция не реализована")}function Cee(e,t,n,r,i,o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function xee(e,t,n,r,i,...o){return 1}function _ee(e,t,n,r,i,o,s,a,c,u,h){throw Un("SweepAndExtrude3d",e,t,n,r,i,o,s,a,c,u,h),Error("SweepAndExtrude3d: Функция не реализована")}function Eee(){Un("SwitchToCamera3d")}function Tee(e,t,n,r,i,o){throw Un("TransformCamera3d",e,t,n,r,i,o),Error("TransformCamera3d: Функция не реализована")}function Mee(e,t,n){throw Un("TransformObject3d",e,t,n),Error("TransformObject3d: Функция не реализована")}function Oee(e,t,n){throw Un("TransformObjectPoints3d",e,t,n),Error("TransformObjectPoints3d: Функция не реализована")}function Ree(e,t,n,r){return!this.kernel.egor.scenes.get(t)||!this.kernel.egor.cameras.get(n)?0:1}function Iee(e){e("AddPoint3d",{a:[P,P,k,k,k],r:k},MJ),e("AddPrimitive3d",{a:[P,P,k,kn],rest:[k],r:k},OJ),e("ApplyTexture3d",{a:[P,P,P,P],rest:[k],r:k},RJ),e("Create3dView2d",{a:[P,P,k,k,k,k],r:P},IJ),e("CreateCamera3dEx",{a:[P,fe,k,k,kn,k,k,k,k,k,k,k,k],r:P},kJ),e("CreateDefCamera3d",{a:[P,k],r:P},PJ),e("CreateMaterial3d",{a:[P,fe,fe,kn,kn,kn,kn,k,k,k],r:P},DJ),e("CreateObject3d",{a:[P],r:P},AJ),e("CreateObjectFromFile3d",{a:[P,fe],r:P},LJ),e("CreateSpace3d",{a:[P],r:P},NJ),e("CreateSurface3d",{a:[P,P,k,k,kn,k],r:P},BJ),e("DelPoint3d",{a:[P,P,k],r:k},FJ),e("DelPrimitive3d",{a:[P,P,k],r:k},jJ),e("DeleteSpace3d",{a:[P],r:k},VJ),e("DuplicateObject3d",{a:[P,P],r:P},$J),e("FitToCamera3d",{a:[P,P,P,k],r:k},zJ),e("GetActiveCamera3d",{a:[P,P],r:P},UJ),e("GetColors3d",{a:[P,P,k,k,k],r:k},HJ),e("GetMaterialByName3d",{a:[P,fe],r:P},GJ),e("GetNumPoints3d",{a:[P,P],r:k},WJ),e("GetNumPrimitives3d",{a:[P,P],r:k},KJ),e("GetObject3dFromPoint2d",{a:[P,P,k,k,C9,rt],r:P},qJ),e("GetObjectBase3d",{a:[P,P,rt,rt,rt],r:k},YJ),e("GetObjectBase3dM",{a:[P,P,k],r:k},XJ),e("GetObjectColor3d",{a:[P,P],r:kn},ZJ),e("GetObjectDimension3d",{a:[P,P,k],r:k},QJ),e("GetObjectMatrix3d",{a:[P,P,k],r:k},JJ),e("GetObjectPoints3d",{a:[P,P,k],r:k},eee),e("GetPoint3d",{a:[P,P,k,rt,rt,rt],r:k},tee),e("GetSpace3d",{a:[P,P],r:P},nee),e("MakeBar3d",{a:[P,kn,k,k,k],r:P},ree),e("MakeCylinder3d",{a:[P,P,kn,k,k,k,k,k],r:P},iee),e("MakeGrid3d",{a:[P,k,k,k,k,kn],r:P},oee),e("MakeSphere3d",{a:[P,P,kn,k,k,k],r:P},see),e("MakeTore3d",{a:[]},aee),e("MakeTube3d",{a:[P,P,kn,k,k,k,k,k],r:P},lee),e("PopCrdSystem3d",{a:[P],r:k},cee),e("PushCrdSystem3d",{a:[P],r:k},uee),e("RemoveTexture3d",{a:[P,P],r:k},dee),e("RotateObject3d",{a:[P,P,k,k],r:k},hee),e("RotateObjectPoints3d",{a:[P,P,k,k],r:k},fee),e("SelectLocalCrd3d",{a:[P,P],r:k},pee),e("SelectViewCrd3d",{a:[P,P],r:k},gee),e("SelectWorldCrd3d",{a:[P],r:k},mee),e("SetColors3d",{a:[P,P,k,k,k],r:k},vee),e("SetObjectBase3d",{a:[P,P,k,k,k],r:k},yee),e("SetObjectColor3d",{a:[P,P,kn],r:k},bee),e("SetObjectMatrix3d",{a:[P,P,k],r:k},wee),e("SetObjectPoints3d",{a:[P,P,k],r:k},See),e("SetPoint3d",{a:[P,P,k,k,k,k],r:k},Cee),e("SetPrimitive3d",{a:[P,P,k,k,kn],rest:[k],r:k},xee),e("SweepAndExtrude3d",{a:[P,P,k,k,k,k,k,k,k,kn,k],r:P},_ee),e("SwitchToCamera3d",{a:[]},Eee),e("TransformCamera3d",{a:[P,P,k,k,k,k],r:k},Tee),e("TransformObject3d",{a:[P,P,k],r:k},Mee),e("TransformObjectPoints3d",{a:[P,P,k],r:k},Oee),e("_CameraProc3d",{a:[fe,P,P,k],r:k},Ree)}const kee={name:"graphics3d",deps:["ogre"],register:Iee};class yc{constructor(t){this.minV=Math.floor(t.minV),this.minH=Math.floor(t.minH),this.rows=t.rows,this.cols=t.cols,this.m=t.data?new Float64Array(t.data):new Float64Array(this.rows*this.cols)}isSquare(){return this.cols===this.rows}get(t,n){const r=Math.floor(t)-this.minV,i=Math.floor(n)-this.minH;return r<0||i<0||r>=this.rows||i>=this.cols?0:this.m[r*this.cols+i]}set(t,n,r){const i=Math.floor(t)-this.minV,o=Math.floor(n)-this.minH;return i<0||o<0||i>=this.rows||o>=this.cols?0:(this.m[i*this.cols+o]=r,r)}sum(){return this.m.reduce((t,n)=>t+n,0)}glue(t,n,r){const i=this,o=Math.min(i.minH,t.minH+r),s=Math.min(i.minV,t.minV+n),a=Math.max(i.cols+i.minH,t.cols+t.minH+r),c=Math.max(i.rows+i.minV,t.rows+t.minV+n),u=new yc({cols:a-o,rows:c-s,minH:o,minV:s});for(let h=t.minV;h<t.rows+t.minV;h++)for(let f=t.minH;f<t.cols+t.minH;f++)u.set(h+n,f+r,t.get(h,f));for(let h=i.minV;h<i.rows+i.minV;h++)for(let f=i.minH;f<i.cols+i.minH;f++)u.set(h,f,i.get(h,f));return u}add(t){const n=this,r=Math.min(n.minH,t.minH),i=Math.min(n.minV,t.minV),o=Math.max(n.cols+n.minH,t.cols+t.minH),a=Math.max(n.rows+n.minV,t.rows+t.minV)-i,c=o-r,u=new yc({cols:c,rows:a,minH:r,minV:i}),h=Math.min(n.rows,t.rows),f=Math.min(n.cols,t.cols);for(let g=0;g<h;g++)for(let m=0;m<f;m++)u.m[g+c+m]=n.m[g*n.cols+m]+t.m[g+t.cols+m];return u}mul(t){const n=this;if(n.cols!==t.rows)return null;const r=t.cols,i=n.rows,o=new yc({cols:r,rows:i,minH:n.minH,minV:n.minV});for(let s=0;s<i;s++)for(let a=0;a<r;a++){let c=0;for(let u=0;u<n.cols;u++)c+=n.m[s*n.cols+u]*t.m[u*t.cols+a];o.m[s*r+a]=c}return o}det(){if(!this.isSquare())throw Error("Not a square matrix");const t=this.rows;if(t===1)return this.m[0];if(t===2)return this.m[0]*this.m[3]-this.m[1]*this.m[2];const n=Array.from(this.m);let r=1;for(let i=0;i<t;i++){let o=i,s=Math.abs(n[i*t+i]);for(let a=i+1;a<t;a++){const c=Math.abs(n[a*t+i]);c>s&&(s=c,o=a)}if(s===0)return 0;if(o!==i){r=-r;for(let a=i;a<t;a++){const c=n[i*t+a];n[i*t+a]=n[o*t+a],n[o*t+a]=c}}for(let a=i+1;a<t;a++){const c=n[a*t+i]/n[i*t+i];for(let u=i;u<t;u++)n[a*t+u]-=c*n[i*t+u]}r*=n[i*t+i]}return r}obr(){if(!this.isSquare()||this.det()===0)return null;const t=this.rows,n=new yc({cols:this.cols,rows:this.rows,minH:0,minV:0,data:Array.from(this.m)}),r=new yc({cols:this.cols,rows:this.rows,minH:0,minV:0});for(let i=0;i<t;i++)for(let o=0;o<t;o++)r.set(i,o,0),i===o&&r.set(i,o,1);for(let i=0;i<t;i++){let o=n.get(i,i);for(let s=0;s<t;s++)n.set(i,s,n.get(i,s)/o),r.set(i,s,r.get(i,s)/o);for(let s=i+1;s<t;s++){o=n.get(s,i);for(let a=0;a<t;a++)n.set(s,a,n.get(s,a)-n.get(i,a)*o),r.set(s,a,r.get(s,a)-r.get(i,a)*o)}}for(let i=t-1;i>0;i--)for(let o=i-1;o>=0;o--){let s=n.get(o,i);for(let a=0;a<t;a++)n.set(o,a,n.get(o,a)-n.get(i,a)*s),r.set(o,a,r.get(o,a)-r.get(i,a)*s)}return r.minH=this.minH,r.minV=this.minV,r}diag(t){this.fill(0);const n=Math.min(this.rows,this.cols);for(let r=0;r<n;r++)this.set(r,r,t);return 1}fill(t){return this.m.fill(t),1}sortByRow(t,n){const r=t-this.minV;if(r<0||r>=this.rows)return 0;const i=Array.from({length:this.cols},(s,a)=>Array.from({length:this.rows},(c,u)=>this.m[u*this.cols+a])),o=n?(s,a)=>a[r]-s[r]:(s,a)=>s[r]-a[r];return i.sort(o),i.forEach((s,a)=>{s.forEach((c,u)=>{this.m[u*this.cols+a]=c})}),1}sortByColumn(t,n){const r=t-this.minH;if(r<0||r>=this.cols)return 0;const i=Array.from({length:this.rows},(s,a)=>{const c=a*this.cols,u=c+this.cols;return Array.from(this.m.subarray(c,u))}),o=n?(s,a)=>a[r]-s[r]:(s,a)=>s[r]-a[r];return i.sort(o),this.m=new Float64Array(fP(i)),1}data(){const{minH:t,minV:n,cols:r,rows:i,m:o}=this;return{minV:n,minH:t,cols:r,rows:i,data:[...o]}}}function Pee(e,t,n,r,i,o){if(o<=0)return 0;const s=Math.floor(n)-Math.floor(t)+1,a=Math.floor(i)-Math.floor(r)+1;if(s<=0||a<=0)return 0;const c=e||hs.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,new yc({rows:s,cols:a,minV:t,minH:r})),c}function Dee(e,t){return t<=0?0:this.kernel.matrices.delete(e)?1:0}function Aee(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.fill(t)??0}function Lee(e,t,n,r){return r<=0?0:this.kernel.matrices.get(e)?.get(t,n)??0}function Nee(e,t,n,r,i){return i<=0?0:this.kernel.matrices.get(e)?.set(t,n,r)??0}function Bee(e,t){if(t<=0)return 0;throw Error("MEditor: редактор матриц не реализован")}function Fee(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.diag(t)??0}function jee(e,t){if(t<=0)return 0;const n=this.kernel.matrices.get(e);return!n||!n.isSquare()?0:n.det()}function Vee(e,t,n,r){if(r<=0)return 0;const i=this.kernel.matrices.get(e);if(!i)return 0;const o=this.kernel.matrices.get(t);if(!o)return 0;const s=i.add(o);if(!s)return 0;const a=n||hs.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function $ee(e,t){return t<=0?0:this.kernel.matrices.get(e)?.sum()??0}function zee(e,t,n,r){if(r<=0)return 0;const i=this.kernel.matrices.get(e),o=this.kernel.matrices.get(t);if(!i||!o)return 0;const s=i.mul(o);if(!s)return 0;const a=n||hs.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(a,s),a}function Uee(e,t,n,r,i,o){if(o<=0)return 0;const s=this.kernel.matrices.get(e),a=this.kernel.matrices.get(t);if(!s||!a)return 0;const c=n||hs.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,s.glue(a,Math.floor(r),Math.floor(i))),c}function Hee(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const i=r.obr();if(!i)return 0;const o=t||hs.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(o,i),o}function Gee(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const i=this.prj.dir.resolve(t).create("file");return i?(i.set({mat:r.data()}),1):0}function Wee(e,t,n){if(n<=0)return 0;const r=this.prj.dir.resolve(t).file()?.mat;if(!r)return 0;const i=e||hs.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(i,new yc(r)),i}function Kee(e,t,n,r){if(r<=0)return 0;const i=this.kernel.matrices.get(e);if(!i)return 0;switch(n){case 1:return i.sortByColumn(t,!1);case 2:return i.sortByColumn(t,!0);case 3:return i.sortByRow(t,!1);case 4:return i.sortByRow(t,!0);default:return 0}}function qee(e,t,n,r,i,o,s,a,c){const u=this.kernel.matrices.get(e);return u?(t[n]=u.minV,r[i]=u.minH,o[s]=u.minV+u.rows-1,a[c]=u.minH+u.cols-1,e):0}function Yee(e){e("MCreate",{a:[k,k,k,k,k,k],r:k},Pee),e("MDelete",{a:[k,k],r:k},Dee),e("MFill",{a:[k,k,k],r:k},Aee),e("MGet",{a:[k,k,k,k],r:k},Lee),e("MPut",{a:[k,k,k,k,k],r:k},Nee),e("MEditor",{a:[k,k]},Bee),e("MDiag",{a:[k,k,k],r:k},Fee),e("MDet",{a:[k,k],r:k},jee),e("MSum",{a:[k,k],r:k},$ee),e("MMul",{a:[k,k,k,k],r:k},zee),e("MGlue",{a:[k,k,k,k,k,k],r:k},Uee),e("MObr",{a:[k,k,k],r:k},Hee),e("MSaveAs",{a:[k,fe,k],r:k},Gee),e("MLoad",{a:[k,fe,k],r:k},Wee),e("MSort",{a:[k,k,k,k],r:k},Kee),e("MAddC",{a:[k,k,k,k],r:k},Vee),e("MDim",{a:[k,rt,rt,rt,rt],r:k},qee)}const Xee={name:"matrix",register:Yee,setup(e){e.matrices=new Map,e.onProjectOpen.add(t=>{t.dir.forEach(n=>{if(!n.mat)return;const r=n.path.basename(),i=parseInt(r.substring(0,r.length-5));isNaN(i)||!i||e.matrices.has(i)||e.matrices.set(i,new yc(n.mat))},!1)})}};function $D(e,t,n,r,i){const o=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!o)return;const s=this.resolve(n);s?.klass.vars.msg&&o.subscribe(s,r,t,i)}function zD(e,t,n){const r=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!r)return;const i=this.resolve(t);i?.klass.vars.msg&&r.unsubscribe(i,n)}function Zee(e,t){const n=this.kernel.scenes.get(e);if(!n)return;const r=this.resolve(t);r?.klass.vars.msg&&n.setCapture(r)}function Qee(){this.kernel.windowSystem.releaseCapture()}function*Jee(e,t,...n){if(this.kernel.recursionLvl>58)return;let r=null;if(t&&(r=this.kernel.classes.get(t),!r))return;/[\*\?]/.test(e)&&this.kernel._functionNotImplemented("SendMessage с path содержащим '*'/'?'",this);const i=this.resolveMany(e,r);if(!i.length)return;const o=new Array(n.length),s=this.klass.vars,a=i[0].klass.vars;for(let c=0;c<n.length;c+=2){const u=s.get(n[c+0]);if(!u)continue;const h=a.get(n[c+1]);h&&(o[c+0]=u,o[c+1]=h)}for(const c of i){if(c===this)return;for(let v=0;v<o.length;v+=2){const S=o[v+0];if(!S)continue;const E=o[v+1];c.vars.setValue(E,this.vars.getNewValue(S))}++this.kernel.recursionLvl,yield*c.computeBranch(),--this.kernel.recursionLvl;const{map:u,values:{newFloats:h,oldFloats:f,newInts:g,oldInts:m,newStrings:y,oldStrings:b}}=c.vars;for(let v=0;v<u.length;++v){const S=u[v];f[S]=h[S],m[S]=g[S],b[S]=y[S]}for(let v=0;v<o.length;v+=2){const S=o[v+0];if(!S)continue;const E=o[v+1];this.setNewValue(S,c.vars.getNewValue(E))}}}function ete(e){e("RegisterObject",{a:[P,P,fe,k,k]},$D),e("RegisterObject",{a:[fe,P,fe,k,k]},$D),e("UnregisterObject",{a:[P,fe,k]},zD),e("UnregisterObject",{a:[fe,fe,k]},zD),e("SetCapture",{a:[P,fe,k]},Zee),e("ReleaseCapture",{},Qee),e("SendMessage",{a:[fe,fe],rest:[fe,fe],kind:"generator"},Jee)}const tte={name:"messages",deps:["windows"],register:ete,setup(e){e.recursionLvl=0}};function nte(e){if(!e)return 0;const t=qa.indexOf(e[0]);return t<0?0:t}function rte(e){return e<0||e>255?"":qa[e]}function UD(e,t,n=1){e[t]+=n}function HD(e,t,n=1){e[t]-=n}function ite(e){return e>1?0:e<-1?Math.PI:Math.acos(e)||0}function ote(e){return e>1?Math.PI/2:e<-1?-Math.PI/2:Math.asin(e)||0}function ste(e,t,n){return e.split(t).join(n)}function ate(e,t,n){return e.substring(0,n)===t.substring(0,n)?1:0}function lte(e,t){return t===0?e>=0?0:Math.PI:t>0?-Math.atan(e/t)+Math.PI/2:-Math.atan(e/t)+Math.PI*1.5}function cte(e){return e>0?(Math.log(e)||0)/Math.LN10:-1e100}function ute(e){return e>0?Math.log(e)||0:-1e100}function dte(e,t){return e>0&&t>0?Math.log(t)/Math.log(e)||0:-1e100}function hte(e,t,n){if(t==="")return-1;for(var r=-1,i=0,o=0;o<n;++o){if(r=e.indexOf(t,i),r<0)return-1;i=r+t.length}return r}function fte(e,t){return e.substring(e.length-t)}function pte(e,t){var n=Math.ceil(10**t);return Math.round(e*n-Number.EPSILON)/n||0}function gte(e,t){return e.substring(t)}function mte(e,t,n){return e.substring(t,Math.max(t,0)+n)}function vte(e){e("Arccos",{a:[k],r:k},ite),e("Arcsin",{a:[k],r:k},ote),e("Ascii",{a:[fe],r:k},nte),e("Change",{a:[fe,fe,fe],r:fe},ste),e("Chr",{a:[k],r:fe},rte),e("Comparei",{a:[fe,fe,k],r:k},ate),e("Dec",{a:[rt,k]},HD),e("Dec",{a:[rt]},HD),e("GetangleByXY",{a:[k,k],r:k},lte),e("Inc",{a:[rt,k]},UD),e("Inc",{a:[rt]},UD),e("Lg",{a:[k],r:k},cte),e("Ln",{a:[k],r:k},ute),e("Log",{a:[k,k],r:k},dte),e("Pos",{a:[fe,fe,k],r:k},hte),e("Randomize",{a:[k]},T9),e("Right",{a:[fe,k],r:fe},fte),e("Round",{a:[k,k],r:k},pte),e("Substr",{a:[fe,k,k],r:fe},mte),e("Substr",{a:[fe,k],r:fe},gte)}const yte={name:"misc",register:vte};function bte(e){const t=this.prj.dir.resolve(e).file()?.video;if(!t)return 0;const n=hs.freeKey(this.kernel.videos);return this.kernel.videos.set(n,t),n}function wte(e,t,n,r,i,o){const s=this.kernel.videos.get(t);if(!s)return 0;const a=this.kernel.scenes.get(e);if(!a)return 0;const c=a.scene;let u=n,h=r;const f=a.matrix;if(f){const y=n*f[2]+r*f[5]+f[8];u=(n*f[0]+r*f[3]+f[6])/y,h=(n*f[1]+r*f[4]+f[7])/y}const g=i>=0||o>=0,m=c.video(s.src,{x:u,y:h,width:Math.max(0,i),height:Math.max(0,o),fixed:g});return c.set({order:c.order.concat(m)}),m.key}function Ste(e,t){throw Error("videoSetPos2d: Not implemented")}function Cte(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"?n.currentTime()*VP:0}function xte(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.setCurrentTime(n/VP)?1:0}function _te(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Ete(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.pause()?1:0}function Tte(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Mte(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.stop()?1:0}function Ote(){return ct.MCIERR_INVALID_DEVICE_NAME}function Rte(){return""}function Ite(){return 0}function kte(e){e("OpenVideo",{a:[fe,k],r:P},bte),e("CreateVideoFrame2d",{a:[P,P,k,k,k,k,k],r:P},wte),e("VideoSetPos2d",{a:[P,k],r:k},Ste),e("FrameGetPos2d",{a:[P,P],r:k},Cte),e("FrameSetPos2d",{a:[P,P,k],r:k},xte),e("VideoPlay2d",{a:[P,P,k,k,k,k],r:k},_te),e("VideoPause2d",{a:[P,P],r:k},Ete),e("VideoResume2d",{a:[P,P],r:k},Tte),e("VideoStop2d",{a:[P,P],r:k},Mte),e("MciSendString",{a:[fe],r:k},Ote),e("MciSendStringStr",{a:[fe],r:fe},Rte),e("SndPlaySound",{a:[fe,k],r:k},Ite)}const Pte={name:"multimedia",deps:["windows"],register:kte,setup(e){e.videos=new Map}},Dte=new Map([["ShiftLeft",16],["ShiftRight",16],["ControlLeft",17],["ControlRight",17],["AltLeft",18],["AltRight",18],["CapsLock",20],["Tab",9],["Enter",13],["Escape",27],["Space",32],["Backspace",8],["ArrowUp",38],["ArrowDown",40],["ArrowLeft",37],["ArrowRight",39],["MetaLeft",91],["MetaRight",92],["ContextMenu",93],["Delete",46],["Insert",45],["Home",36],["End",35],["PageUp",33],["PageDown",34],["F1",112],["F2",113],["F3",114],["F4",115],["F5",116],["F6",117],["F7",118],["F8",119],["F9",120],["F10",121],["F11",122],["F12",123],["Digit0",48],["Digit1",49],["Digit2",50],["Digit3",51],["Digit4",52],["Digit5",53],["Digit6",54],["Digit7",55],["Digit8",56],["Digit9",57],["KeyA",65],["KeyB",66],["KeyC",67],["KeyD",68],["KeyE",69],["KeyF",70],["KeyG",71],["KeyH",72],["KeyI",73],["KeyJ",74],["KeyK",75],["KeyL",76],["KeyM",77],["KeyN",78],["KeyO",79],["KeyP",80],["KeyQ",81],["KeyR",82],["KeyS",83],["KeyT",84],["KeyU",85],["KeyV",86],["KeyW",87],["KeyX",88],["KeyY",89],["KeyZ",90]]);function Ate(e){if(e>=16&&e<=18||e>=112&&e<=135||e>=37&&e<=40)return!1;switch(e){case 27:case 9:case 20:case 144:case 145:case 42:case 19:case 45:case 46:case 36:case 35:case 33:case 34:case 93:case 91:case 92:return!1}return!0}const tf=new Uint8Array(256);function _C(e){return e>=0&&e<256?!!tf[e]:!1}function xy(e){tf[1]=e.buttons&1,tf[2]=e.buttons&2,tf[4]=e.buttons&4}const GD=new Set;function WD(e){let t=Dte.get(e.code);if(t?tf[t]=+(e.type==="keydown"):(GD.has(e.code)||(GD.add(e.code),console.warn(`Неизвестная клавиша: ${e.code}`)),t=0),e.winVKey=t,e.type==="keydown"&&Ate(t)){const n=qa.indexOf(e.key);e.winChar=n<0?t:n}}function Lte(){tf.fill(0)}window.addEventListener("keydown",WD,{capture:!0}),window.addEventListener("keyup",WD,{capture:!0}),window.addEventListener("pointerdown",xy,{capture:!0}),window.addEventListener("pointerup",xy,{capture:!0}),window.addEventListener("pointermove",xy,{capture:!0}),window.addEventListener("pointercancel",xy,{capture:!0}),window.addEventListener("blur",Lte);const KD=Symbol("renderWindow.parent");let Nte=0,Bte=0,Fte=0,jte=0,Vte=0,$te=0,zte=0,Ute=0;const qD=new Set;function Ne(...e){qD.size!==qD.add(e[0]).size&&console.warn(...e)}const Hte=CC(),EC=CC();function Gte(e,t){Ne("AnimationState_AddTime",e,t)}function Wte(e){throw Ne("AnimationState_GetEnabled",e),Error("Not implemented")}function Kte(e){throw Ne("AnimationState_GetLength",e),Error("Not implemented")}function qte(e){throw Ne("AnimationState_GetLoop",e),Error("Not implemented")}function Yte(e){throw Ne("AnimationState_GetTimePosition",e),Error("Not implemented")}function Xte(e){throw Ne("AnimationState_GetWeight",e),Error("Not implemented")}function Zte(e,t){Ne("AnimationState_SetEnabled",e,t)}function Qte(e,t){Ne("AnimationState_SetLength",e,t)}function Jte(e,t){Ne("AnimationState_SetLoop",e,t)}function ene(e,t){Ne("AnimationState_SetTimePosition",e,t)}function tne(e,t){Ne("AnimationState_SetWeight",e,t)}function nne(e,t,n,r,i){throw Ne("Billboard_GetColour",e,t,n,r,i),Error("Not implemented")}function rne(e,t,n,r){throw Ne("Billboard_GetPosition",e),Error("Not implemented")}function ine(e){throw Ne("Billboard_GetRotation",e),Error("Not implemented")}function one(e,t,n,r,i){Ne("Billboard_SetColour",e,t,n,r,i)}function sne(e,t,n,r){Ne("Billboard_SetPosition",e,t,n,r)}function ane(e,t){Ne("Billboard_SetRotation",e,t)}function lne(e,t,n){return this.kernel.egor.createBillboardSet({name:t||"__BillboardSet_"+Nte++,poolSize:n}).key??0}function cne(e,t,n,r){return this.kernel.egor.billboardSets.get(e)?.createBillboard(t,n,r).key??0}function une(e){Ne("BillboardSet_Destroy",e)}function dne(e,t){throw Ne("BillboardSet_GetBillboard",e,t),Error("Not implemented")}function hne(e){throw Ne("BillboardSet_GetBillboardType",e),Error("Not implemented")}function fne(e,t,n,r){throw Ne("BillboardSet_GetCommonDirection",e,t,n,r),Error("Not implemented")}function pne(e,t,n,r){throw Ne("BillboardSet_GetCommonUpVector",e,t,n,r),Error("Not implemented")}function gne(e,t,n){throw Ne("BillboardSet_GetDefaultDimensions",e,t,n),Error("Not implemented")}function mne(e,t){throw Ne("BillboardSet_GetMaterialName",e,t),Error("Not implemented")}function vne(e){throw Ne("BillboardSet_GetNumBillboards",e),Error("Not implemented")}function yne(e,t){Ne("BillboardSet_RemoveBillboard",e,t)}function bne(e,t){this.kernel.egor.billboardSets.get(e)?.setType(t)}function wne(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonDirection(t,n,r)}function Sne(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonUpVector(t,n,r)}function Cne(e,t,n){this.kernel.egor.billboardSets.get(e)?.setDimensions(t,n)}function xne(e,t){this.kernel.egor.billboardSets.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function _ne(e){throw Ne("Bone_GetManuallyControlled",e),Error("Not implemented")}function Ene(e){Ne("Bone_Reset",e)}function Tne(e,t){Ne("Bone_SetManuallyControlled",e,t)}function Mne(e,t){return this.kernel.egor.scenes.get(e)?.createCamera({name:t||"__Camera_"+Bte++}).key??0}function One(e){Ne("Camera_Destroy",e)}function Rne(e){throw Ne("Camera_GetAspectRatio",e),Error("Not implemented")}function Ine(e){throw Ne("Camera_GetFarClipDistance",e),Error("Not implemented")}function kne(e){throw Ne("Camera_GetFOV",e),Error("Not implemented")}function Pne(e){throw Ne("Camera_GetNearClipDistance",e),Error("Not implemented")}function Dne(e){throw Ne("Camera_GetPolygonMode",e),Error("Not implemented")}function Ane(e){throw Ne("Camera_GetProjectionType",e),Error("Not implemented")}function Lne(e,t){Ne("Camera_SetAspectRatio",e,t)}function Nne(e,t){this.kernel.egor.cameras.get(e)?.set({farDist:t})}function Bne(e,t){Ne("Camera_SetFocalLength",e,t)}function Fne(e,t){this.kernel.egor.cameras.get(e)?.set({fov:t})}function jne(e,t,n){Ne("Camera_SetFrustumOffset",e,t,n)}function Vne(e,t){this.kernel.egor.cameras.get(e)?.set({nearDist:t})}function $ne(e,t){Ne("Camera_SetPolygonMode",e,t)}function zne(e,t){Ne("Camera_SetProjectionType",e,t)}function Une(e){return this.kernel.egorRayCastResult?.getEntry(e)?.distance||0}function Hne(e){return this.kernel.egorRayCastResult?.getEntry(e)?.movable.key||0}function Gne(){return this.kernel.egorRayCastResult?.length||0}function Wne(e,t,n,r,i,o,s){const a=this.kernel.egor.scenes.get(e);if(!a){this.kernel.egorRayCastResult=null;return}const{dir:c,origin:u}=EC;u[0]=t,u[1]=n,u[2]=r,c[0]=i,c[1]=o,c[2]=s,this.kernel.egorRayCastResult=a?.rayCast(EC)}function Kne(){this.kernel.egorRayCastResult?.sort()}function qne(e){throw Ne("Compositor_GetEnabled",e),Error("Not implemented")}function Yne(e,t){Ne("Compositor_SetEnabled",e,t)}function Xne(e,t,n){if(!n)return 0;const r=this.kernel.egor.scenes.get(e);if(!r)return 0;const i=this.kernel.egor.meshResByNameUC.get(n.toUpperCase());if(!i)throw Error(`Mesh не существует: '${n}'`);return r.createEntity(i,{name:t||"__Entity_"+Fte++}).key??0}function Zne(e){this.kernel.egor.entities.get(e)?.destroy()}function Qne(e,t){throw Ne("Entity_GetAnimationState",e,t),Error("Not implemented")}function Jne(e,t){throw Ne("Entity_GetBone",e,t),Error("Not implemented")}function ere(e,t){throw Ne("Entity_GetIndexCount",e,t),Error("Not implemented")}function tre(e,t,n){throw Ne("Entity_GetMaterial",e,t,n),Error("Not implemented")}function nre(e){return this.kernel.egor.entities.get(e)?.subEntities.length??0}function YD(e,t=0){const n=this.kernel.egor.entities.get(e);return n?t>=0?n.subEntity(t)?.vertexCount??0:n.subEntities.reduce((r,i)=>r+i.vertexCount,0):0}function rre(e,t,n){const r=this.kernel.egor.entities.get(e);if(!r)return;const i=this.kernel.egor.materialByName.get(n);i&&r.subEntity(t)?.setMaterial(i)}function ire(e,t){return this.kernel.egor.createLight({name:t||"__Light_"+jte++}).key??0}function ore(e){Ne("Light_Destroy",e)}function sre(e){throw Ne("Light_GetPowerScale",e),Error("Not implemented")}function are(e,t,n,r,i){Ne("Light_SetAttenuation",e,t,n,r,i)}function lre(e,t,n,r){Ne("Light_SetDiffuseColour",e,t,n,r)}function cre(e,t){Ne("Light_SetPowerScale",e,t)}function ure(e,t,n,r){Ne("Light_SetSpecularColour",e,t,n,r)}function dre(e,t,n,r){Ne("Light_SetSpotlightRange",e,t,n,r)}function hre(e,t){Ne("Light_SetType",e,t)}function fre(e,t,n){const{egor:r}=this.kernel,i=r.manualObjects.get(e);if(!i)return;const o=r.materialByName.get(t)||null,s=i.createSection(n,o);this.kernel.egorManualObjectsSections.set(i,s)}function pre(e){this.kernel.egor.manualObjects.get(e)?.clear()}function gre(e,t,n,r,i){Ne("ManualObject_Colour",e,t,n,r,i)}function mre(e,t){Ne("ManualObject_ConvertToMesh",e,t)}function vre(e,t){return this.kernel.egor.scenes.get(e)?.createManualObject({name:t||"__ManualObject_"+Vte++}).key||0}function yre(e){this.kernel.egor.manualObjects.get(e)?.destroy()}function bre(e){const t=this.kernel.egor.manualObjects.get(e);if(!t)return;const n=this.kernel.egorManualObjectsSections.get(t);n&&(n.end(),this.kernel.egorManualObjectsSections.delete(t))}function wre(e,t){Ne("ManualObject_EstimateIndexCount",e,t)}function Sre(e,t){Ne("ManualObject_EstimateVertexCount",e,t)}function Cre(e){throw Ne("ManualObject_GetDynamic",e),Error("Not implemented")}function xre(e,t){Ne("ManualObject_Index",e,t)}function _re(e,t,n,r){const i=this.kernel.egor.manualObjects.get(e);i&&this.kernel.egorManualObjectsSections.get(i)?.addNormal(t,n,r)}function Ere(e,t,n,r){const i=this.kernel.egor.manualObjects.get(e);i&&this.kernel.egorManualObjectsSections.get(i)?.addVertex(t,n,r)}function Tre(e,t){Ne("ManualObject_SetDynamic",e,t)}function Mre(e,t,n){Ne("ManualObject_TextureCoord",e,t,n)}function Ore(e){return this.kernel.egor.createMaterial(e||"__Material_"+$te++).key}function Rre(e){return e&&this.kernel.egor.materialByName.get(e)?.key||0}function Ire(e){throw Ne("Material_GetBestTechnique",e),Error("Not implemented")}function kre(e,t){throw Ne("Material_GetName",e,t),Error("Not implemented")}function Pre(e,t){return this.kernel.egor.materialByKey.get(e)?.tech(t)?.key??0}function Dre(e,t){throw Ne("Material_GetTechniqueByName",e,t),Error("Not implemented")}function Are(e,t,n,r,i,o,s){throw Ne("Movable_GetBoundingBox",e,t,n,r,i,o,s),Error("Not implemented")}function Lre(e){throw Ne("Movable_GetCastShadows",e),Error("Not implemented")}function Nre(e,t,n){const r=this.kernel.egor.movables.get(e);r&&(t[n]=r.name)}function Bre(e){return this.kernel.egor.movables.get(e)?.node?.key??0}function Fre(e){const t=this.kernel.egor.movables.get(e);return t?t.visible?1:0:-1}function jre(e,t){Ne("Movable_SetCastShadows",e,t)}function Vre(e,t){const n=this.kernel.egor.movables.get(e);n&&this.kernel.egor.sceneNodes.get(t)?.attach(n)}function $re(e,t){this.kernel.egor.movables.get(e)?.setVisible(!!t)}function zre(e,t,n){return this.kernel.egor.createMovableText(t,{name:e||"__MovableText_"+zte++,fontName:n}).key}function Ure(e){Ne("MovableText_Destroy",e)}function Hre(e,t){throw Ne("MovableText_GetCaption",e,t),Error("Not implemented")}function Gre(e){throw Ne("MovableText_GetCharacterHeight",e),Error("Not implemented")}function Wre(e,t,n,r,i){throw Ne("MovableText_GetColor",e,t,n,r,i),Error("Not implemented")}function Kre(e,t){throw Ne("MovableText_GetFontName",e,t),Error("Not implemented")}function qre(e,t,n,r){throw Ne("MovableText_GetGlobalTranslation",e,t,n,r),Error("Not implemented")}function Yre(e,t,n,r){throw Ne("MovableText_GetLocalTranslation",e,t,n,r),Error("Not implemented")}function Xre(e){throw Ne("MovableText_GetSpaceWidth",e),Error("Not implemented")}function Zre(e,t,n){throw Ne("MovableText_GetTextAlignment",e,t,n),Error("Not implemented")}function Qre(e,t){Ne("MovableText_SetCaption",e,t)}function Jre(e,t){this.kernel.egor.movableTexts.get(e)?.setCharHeight(t)}function eie(e,t,n,r,i){Ne("MovableText_SetColor",e,t,n,r,i)}function tie(e,t){Ne("MovableText_SetFontName",e,t)}function nie(e,t,n,r){Ne("MovableText_SetGlobalTranslation",e,t,n,r)}function rie(e,t,n,r){Ne("MovableText_SetLocalTranslation",e,t,n,r)}function iie(e,t){Ne("MovableText_SetSpaceWidth",e,t)}function oie(e,t,n){Ne("MovableText_SetTextAlignment",e,t,n)}function sie(e,t){Ne("Node_AddChild",e,t)}function aie(e,t){return this.kernel.egor.nodes.get(e)?.getChild(t)?.key||0}function lie(e,t,n,r,i,o,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldPosition();t[n]=c[0],r[i]=c[1],o[s]=c[2]}function cie(e,t,n,r,i,o,s,a,c){const u=this.kernel.egor.nodes.get(e);if(!u)return;const h=u.getWorldRotation();r[i]=h[0],o[s]=h[1],a[c]=h[2],t[n]=h[3]}function uie(e,t,n,r,i,o,s){const a=this.kernel.egor.nodes.get(e);if(!a)return;const c=a.getWorldScale();t[n]=c[0],r[i]=c[1],o[s]=c[2]}function die(e,t,n){t[n]=this.kernel.egor.nodes.get(e)?.name??""}function hie(e){return this.kernel.egor.nodes.get(e)?.children.length??-1}function fie(e){throw Ne("Node_GetParent",e),Error("Not implemented")}function pie(e,t,n,r,i,o,s){const a=this.kernel.egor.nodes.get(e);a&&(t[n]=a.position[0],r[i]=a.position[1],o[s]=a.position[2])}function gie(e,t,n,r,i,o,s,a,c){const u=this.kernel.egor.nodes.get(e);u&&(r[i]=u.rotation[0],o[s]=u.rotation[1],a[c]=u.rotation[2],t[n]=u.rotation[3])}function mie(e,t,n,r,i,o,s){const a=this.kernel.egor.nodes.get(e);a&&(t[n]=a.scale[0],r[i]=a.scale[1],o[s]=a.scale[2])}function vie(e,t){Ne("Node_RemoveChild",e,t)}function yie(e,t){const n=this.kernel.egor.nodes.get(t);if(!n)return;const r=this.kernel.egor.nodes.get(e);r&&n.addChild(r)}function bie(e,t,n,r){this.kernel.egor.nodes.get(e)?.setPosition(t,n,r)}function wie(e,t,n,r,i){throw Ne("Node_SetRotationAxis",e,t,n,r,i),Error("Node_SetRotationAxis")}function Sie(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateX(t).rotateY(n).rotateZ(r)}function Cie(e,t,n,r){throw Error()}function xie(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateY(t).rotateX(n).rotateZ(r)}function _ie(e,t,n,r){throw Error()}function Eie(e,t,n,r){throw Error()}function Tie(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateZ(t).rotateY(n).rotateX(r)}function Mie(e,t,n,r,i){this.kernel.egor.nodes.get(e)?.setRotation(n,r,i,t)}function Oie(e,t,n,r){this.kernel.egor.nodes.get(e)?.setScale(t,n,r)}function Rie(e,t){const n=this.kernel.egor.overlays.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function Iie(e){return this.kernel.egor.createOverlay(e).key}function kie(e,t,n){throw Ne("Overlay_FindElementAt",e,t,n),Error("Not implemented")}function Pie(e){if(!e)return 0;for(const t of this.kernel.egor.overlays.values())if(t.name===e)return t.key;return 0}function Die(e,t){throw Ne("Overlay_GetName",e,t),Error("Not implemented")}function Aie(e){throw Ne("Overlay_GetRotate",e),Error("Not implemented")}function Lie(e,t,n){throw Ne("Overlay_GetScale",e,t,n),Error("Not implemented")}function Nie(e,t,n){throw Ne("Overlay_GetScroll",e,t,n),Error("Not implemented")}function Bie(e){throw Ne("Overlay_GetVisible",e),Error("Not implemented")}function Fie(e){throw Ne("Overlay_GetZOrder",e),Error("Not implemented")}function jie(e,t){Ne("Overlay_RemoveChild",e,t)}function Vie(e,t){Ne("Overlay_SetRotate",e,t)}function $ie(e,t,n){this.kernel.egor.overlays.get(e)?.setScale(t,n)}function zie(e,t,n){Ne("Overlay_SetScroll",e,t,n)}function Uie(e,t){this.kernel.egor.overlays.get(e)?.setVisible(!!t)}function Hie(e,t){this.kernel.egor.overlays.get(e)?.setZ(t)}function Gie(e,t){const n=this.kernel.egor.overlayElements.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function Wie(e,t){throw Ne("OverlayContainer_GetChild",e,t),Error("Not implemented")}function Kie(e){throw Ne("OverlayContainer_GetChildCount",e),Error("Not implemented")}function qie(e,t){Ne("OverlayContainer_RemoveChild",e,t)}function Yie(e,t){if(e!=="BorderPanel"&&e!=="Panel"&&e!=="TextArea")throw Error(`Неизвестный тип OverlayElement: '${e}'`);return this.kernel.egor.createOverlayElement(e,{name:t}).key}function Xie(e){if(!e)return 0;for(const t of this.kernel.egor.overlayElements.values())if(t.name===e)return t.key;return 0}function Zie(e,t,n,r,i){const o=this.kernel.egor.overlayElements.get(e);t[n]=o?.horAlign??0,r[i]=o?.vertAlign??0}function Qie(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.caption??""}function Jie(e,t,n,r,i){throw Ne("OverlayElement_GetColour",e,t,n,r,i),Error("Not implemented")}function eoe(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.material?.name??""}function toe(e){return this.kernel.egor.overlayElements.get(e)?.metricsMode??0}function noe(e){return this.kernel.egor.overlayElements.get(e)?.parent?.key??0}function roe(e,t,n,r,i){const o=this.kernel.egor.overlayElements.get(e);t[n]=o?.x??0,r[i]=o?.y??0}function ioe(e,t,n,r,i){const o=this.kernel.egor.overlayElements.get(e);t[n]=o?.width??0,r[i]=o?.height??0}function ooe(e){const t=this.kernel.egor.overlayElements.get(e);return t?t.visible?1:0:-1}function soe(e){throw Ne("OverlayElement_IsContainer",e),Error("Not implemented")}function aoe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setAlignment(t,n)}function loe(e,t){this.kernel.egor.overlayElements.get(e)?.setCaption(t)}function coe(e,t,n,r,i){this.kernel.egor.overlayElements.get(e)?.setColor(t,n,r,i)}function uoe(e,t){this.kernel.egor.overlayElements.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function doe(e,t){this.kernel.egor.overlayElements.get(e)?.setMetricsMode(t)}function hoe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setPosition(t,n)}function foe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setSize(t,n)}function poe(e,t){this.kernel.egor.overlayElements.get(e)?.setVisible(!!t)}function goe(e,t,n){throw Ne("ParticleSystem_Create",e,t,n),Error("Not implemented")}function moe(e,t,n){throw Ne("ParticleSystem_CreateEx",e,t,n),Error("Not implemented")}function voe(e){Ne("ParticleSystem_Destroy",e)}function yoe(e,t){Ne("ParticleSystem_GetName",e,t)}function boe(e){throw Ne("ParticleSystem_GetParent",e),Error("Not implemented")}function woe(e){throw Ne("ParticleSystem_GetVisible",e),Error("Not implemented")}function Soe(e,t){Ne("ParticleSystem_SetParent",e,t)}function Coe(e,t){Ne("ParticleSystem_SetVisible",e,t)}function xoe(e,t){throw Ne("Pass_Create",e,t),Error("Not implemented")}function _oe(e,t,n){throw Ne("Pass_GetAlphaRejectSettings",e,t,n),Error("Not implemented")}function Eoe(e,t,n,r,i){throw Ne("Pass_GetAmbient",e,t,n,r,i),Error("Not implemented")}function Toe(e){throw Ne("Pass_GetColourWriteEnabled",e),Error("Not implemented")}function Moe(e){throw Ne("Pass_GetCullingMode",e),Error("Not implemented")}function Ooe(e){throw Ne("Pass_GetDepthCheckEnabled",e),Error("Not implemented")}function Roe(e){throw Ne("Pass_GetDepthFunction",e),Error("Not implemented")}function Ioe(e){throw Ne("Pass_GetDepthWriteEnabled",e),Error("Not implemented")}function koe(e,t,n,r,i){throw Ne("Pass_GetDiffuse",e,t,n,r,i),Error("Not implemented")}function Poe(e){throw Ne("Pass_GetLightingEnabled",e),Error("Not implemented")}function Doe(e){throw Ne("Pass_GetPolygonMode",e),Error("Not implemented")}function Aoe(e,t,n){throw Ne("Pass_GetSceneBlending",e,t,n),Error("Not implemented")}function Loe(e,t,n,r,i){throw Ne("Pass_GetSelfIllumination",e,t,n,r,i),Error("Not implemented")}function Noe(e){throw Ne("Pass_GetShadingMode",e),Error("Not implemented")}function Boe(e){throw Ne("Pass_GetShininess",e),Error("Not implemented")}function Foe(e,t,n,r,i){throw Ne("Pass_GetSpecular",e,t,n,r,i),Error("Not implemented")}function joe(e,t){throw Ne("Pass_GetTextureUnitStateByIndex",e,t),Error("Not implemented")}function Voe(e,t){throw Ne("Pass_GetTextureUnitStateByName",e,t),Error("Not implemented")}function $oe(e,t,n){Ne("Pass_SetAlphaRejectSettings",e,t,n)}function zoe(e,t,n,r){this.kernel.egor.passes.get(e)?.setAmbient(t,n,r)}function Uoe(e,t){Ne("Pass_SetColourWriteEnabled",e,t)}function Hoe(e,t){Ne("Pass_SetCullingMode",e,t)}function Goe(e,t){this.kernel.egor.passes.get(e)?.setDepthCheckEnabled(!!t)}function Woe(e,t){Ne("Pass_SetDepthFunction",e,t)}function Koe(e,t){this.kernel.egor.passes.get(e)?.setDepthWriteEnabled(!!t)}function qoe(e,t,n,r,i){this.kernel.egor.passes.get(e)?.setDiffuse(t,n,r,i)}function Yoe(e,t){this.kernel.egor.passes.get(e)?.setLightingEnabled(!!t)}function Xoe(e,t){Ne("Pass_SetPolygonMode",e,t)}function Zoe(e,t,n){this.kernel.egor.passes.get(e)?.setSceneBlending(t,n)}function Qoe(e,t,n,r){this.kernel.egor.passes.get(e)?.setEmissive(t,n,r)}function Joe(e,t){this.kernel.egor.passes.get(e)?.setShadingMode(t)}function ese(e,t){this.kernel.egor.passes.get(e)?.setShininess(t)}function tse(e,t,n,r,i){this.kernel.egor.passes.get(e)?.setSpecular(t,n,r,i)}function nse(e,t,n){throw Ne("RenderTexture_Create",e,t,n),Error("Not implemented")}function rse(e){Ne("RenderTexture_Destroy",e)}function XD(e,t,n,r){const i=e.createRenderWindow(n,r);return t.createFrame(i.domElement).onDisposed.add(i.close.bind(i)),i[KD]=t,i}function ise(e){const t=this.kernel.scenes.get(e);if(!t)throw Error("Внешние 3D окна не поддерживаются");return XD(this.kernel.egor,t,t.getClientWidth(),t.getClientHeight()).key}function ose(e,t,n,r){const i=this.kernel.scenes.get(e);if(!i)throw Error("Внешние 3D окна не поддерживаются");return XD(this.kernel.egor,i,n,r).key}function sse(e,t,n,r){throw Ne("RenderWindow_CreateEx",e,t,n,r),Error("Not implemented")}function ase(e){Ne("RenderWindow_Destroy",e)}function lse(e){throw Ne("RenderWindow_Get",e),Error("Not implemented")}function cse(){throw Ne("RenderWindow_GetCount"),Error("Not implemented")}function use(e){throw Ne("RenderWindow_GetCursorHovered",e),Error("Not implemented")}function dse(e,t,n,r,i){const o=this.kernel.egor.windows.get(e)?.[KD];t[n]=o?.mouseX??0,r[i]=o?.mouseY??0}function hse(e,t){return _C(t)?1:0}function fse(e,t){const n=t===0?"left":t===1?"right":t===2?"middle":null;return _C(n==="left"?1:n==="right"?2:4)?1:0}function pse(e,t,n,r,i){const o=this.kernel.egor.windows.get(e);t[n]=o?.x??0,r[i]=o?.y??0}function gse(){return this.kernel.egor.primaryWindow?.key??0}function mse(e,t,n,r,i){const o=this.kernel.egor.windows.get(e);t[n]=o?.width??0,r[i]=o?.height??0}function vse(e,t){throw Ne("RenderWindow_GetViewport",e,t),Error("Not implemented")}function yse(e){return this.kernel.egor.windows.get(e)?.viewports.size??0}function bse(e){return this.kernel.egor.windows.get(e)?.wheelPosition??0}function wse(e,t,n){Ne("RenderWindow_SetPosition",e,t,n)}function Sse(e,t,n){Ne("RenderWindow_SetSize",e,t,n)}function Cse(e){throw Ne("RenderWindow_ToggleFullscreen",e),Error("Not implemented")}function xse(e,t,n,r){Ne("Root_AddResourceLocation",e,t,n,r)}function _se(e){$P(this.prj.dir.resolve(e))?.split(`\r
`).forEach(n=>{const r=n.trim().toUpperCase();if(!r.startsWith("FILESYSTEM")&&!r.startsWith("ZIP"))return;const i=r.split("=")[1].trim();this.prj.dir.resolve(i).forEach(s=>{if(s.image){const a=s.path.basename(),c=this.kernel.egor.createImage(s.image,a);c.meta=s.path.toString();return}if(s.mesh){const a=s.path.basename(),c=this.kernel.egor.createMesh(s.mesh,a);c.meta=s.path.toString();return}if(s.base64){const a=s.path.basename().toUpperCase(),c=$P(s.path);if(a.endsWith(".MATERIAL")){const u=c.split(`
`).map(h=>h.trim());for(let h=0;h<u.length;h++){const f=u[h],g=f.startsWith("material ")&&f.replace("material ","").split('"').join("");if(!g)continue;const y=this.kernel.egor.createMaterial(g).techs[0].passes[0];for(let b=h+1;b<u.length;b++){const v=u[b];if(v==="}")break;const S=v.startsWith("shading ")&&v.replace("shading ","");if(S){const N=S.toLowerCase()==="phong"?ct.SO_PHONG:ct.SO_GOURAUD;y.setShadingMode(N);continue}const E=v.startsWith("ambient ")&&v.replace("ambient ","");if(E){const N=E.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setAmbient(...N);continue}const T=v.startsWith("diffuse ")&&v.replace("diffuse ","");if(T){const N=T.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setDiffuse(...N);continue}const R=v.startsWith("specular ")&&v.replace("specular ","");if(R){const N=R.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setSpecular(...N),N.length>4&&y.setShininess(N[4]);continue}const M=v.startsWith("emissive ")&&v.replace("emissive ","");if(M){const N=M.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setEmissive(...N),N.length>4&&y.setShininess(N[4]);continue}if(v.startsWith("texture_unit"))for(let N=b+1;N<u.length;N++){const D=u[N];if(D==="}")break;const L=D.startsWith("texture ")&&D.replace("texture ","");if(L){const A=L.toUpperCase();y.createTextureUnit().setTextureName(A);continue}}}}}}},!1)})}function Ese(){}function Tse(){Ne("Root_Destroy")}function Mse(){throw Ne("Root_GetTime"),Error("Not implemented")}function Ose(){}function Rse(){}function Ise(){return 1}function kse(){return this.kernel.egorShouldRender=!0,1}function Pse(){return 1}function Dse(){Ne("Root_SaveConfig")}function Ase(){return 1}function Lse(e){Ne("Scene_Clear",e)}function Nse(e){if(e!=="OctreeSceneManager"&&e!=="BSPSceneManager"&&e!=="TerrainSceneManager")throw Error(`Неподдерживаемый тип сцены: ${e}`);return this.kernel.egor.createScene().key}function Bse(e){Ne("Scene_Destroy",e)}function Fse(e,t){throw Ne("Scene_GetCamera",e,t),Error("Not implemented")}function jse(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.entities.values())if(r.scene===n&&r.name===t)return r.key;return 0}function Vse(e,t){throw Ne("Scene_GetLight",e,t),Error("Not implemented")}function $se(e,t){throw Ne("Scene_GetParticleSystem",e,t),Error("Not implemented")}function zse(e){return this.kernel.egor.scenes.get(e)?.root.key??0}function Use(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.sceneNodes.values())if(r.scene===n&&r.name===t)return r.key;return 0}function Hse(e){throw Ne("Scene_GetShadowTechnique",e),Error("Not implemented")}function Gse(e,t){Ne("Scene_Load",e,t)}function Wse(e,t,n,r){this.kernel.egor.scenes.get(e)?.setAmbient(t,n,r)}function Kse(e,t,n,r,i,o,s,a){Ne("Scene_SetFog",e,t,n,r,i,o,s,a)}function qse(e,t){Ne("Scene_SetShadowTechnique",e,t)}function Yse(e,t,n,r){e&&Ne("Scene_SetSkyBox",e,t,n,r)}function Xse(e,t){Ne("Scene_SetWorldGeometry",e,t)}function Zse(e,t){Ne("SceneNode_AttachObject",e,t)}function Qse(e,t){return this.kernel.egor.scenes.get(e)?.createSceneNode({name:t||"__SceneNode_"+Ute++}).key??0}function Jse(e){this.kernel.egor.sceneNodes.get(e)?.destroy()}function eae(e,t){Ne("SceneNode_DetachObject",e,t)}function tae(e){return this.kernel.egor.sceneNodes.get(e)?.movables.length??-1}function nae(e,t){return this.kernel.egor.sceneNodes.get(e)?.getMovable(t)?.key||0}function rae(e){throw Ne("SceneNode_GetScene",e),Error("Not implemented")}function iae(e,t,n,r,i){this.kernel.egor.sceneNodes.get(e)?.setAutoTracking(this.kernel.egor.sceneNodes.get(t)??null,n,r,i)}function oae(e,t,n){const r=this.kernel.egor.sceneNodes.get(e);if(!r)return;const i=!!t;if(!n){r.movables.forEach(o=>o.setVisible(i));return}(function o(s){s.movables.forEach(a=>a.setVisible(i)),s.children.forEach(a=>o(a))})(r)}function sae(e,t,n){Ne("StringInterface_GetParameter",e,t,n)}function aae(e){throw Ne("StringInterface_GetParameterCount",e),Error("Not implemented")}function lae(e,t,n){Ne("StringInterface_GetParameterDescription",e,t,n)}function cae(e,t,n){Ne("StringInterface_GetParameterName",e,t,n)}function uae(e,t){throw Ne("StringInterface_GetParameterType",e,t),Error("Not implemented")}function dae(e,t,n){const r=this.kernel.egor.overlayElements.get(e);r&&r.setParam(t,n)}function hae(e,t){throw Ne("Technique_Create",e,t),Error("Not implemented")}function fae(e,t){return this.kernel.egor.techniques.get(e)?.pass(t)?.key??0}function pae(e,t){throw Ne("Technique_GetPassByName",e,t),Error("Not implemented")}function gae(e,t){return this.kernel.egor.passes.get(e)?.createTextureUnit(t).key??0}function mae(e,t,n){Ne("TextureUnitState_GetTexture",e,t,n)}function vae(e,t,n){this.kernel.egor.texUnits.get(e)?.setTexture(this.kernel.egor.imageResByNameUC.get(t.toUpperCase())??null,n)}function yae(e,t,n){throw Ne("Viewport_AddCompositor",e,t,n),Error("Not implemented")}function bae(e,t,n){const r=this.kernel.egor.cameras.get(t);return r?this.kernel.egor.windows.get(e)?.createViewport(r,n).key??0:0}function wae(e){Ne("Viewport_Destroy",e)}function Sae(e,t,n,r){throw Ne("Viewport_GetBackgroundColour",e,t,n,r),Error("Not implemented")}function Cae(e){throw Ne("Viewport_GetCamera",e),Error("Not implemented")}function xae(e,t){throw Ne("Viewport_GetCompositor",e,t),Error("Not implemented")}function _ae(e,t,n,r,i){throw Ne("Viewport_GetDimensions",e,t,n,r,i),Error("Not implemented")}function Eae(e){throw Ne("Viewport_GetNumCompositors",e),Error("Not implemented")}function Tae(e){throw Ne("Viewport_GetOverlaysEnabled",e),Error("Not implemented")}function Mae(e,t,n,r,i,o,s,a,c,u,h,f,g,m,y){const{origin:b,dir:v}=this.kernel.egor.viewports.get(e)?.camera.getRay(t,n,EC)||Hte;r[i]=b[0],o[s]=b[1],a[c]=b[2],u[h]=v[0],f[g]=v[1],m[y]=v[2]}function Oae(e,t){Ne("Viewport_RemoveCompositor",e,t)}function Rae(e,t,n,r){this.kernel.egor.viewports.get(e)?.setBackground(t,n,r)}function Iae(e,t){const n=this.kernel.egor.cameras.get(t);n&&this.kernel.egor.viewports.get(e)?.setCamera(n)}function kae(e,t,n,r,i){Ne("Viewport_SetDimensions",e,t,n,r,i)}function Pae(e,t){this.kernel.egor.viewports.get(e)?.enableOverlays(!!t)}function Dae(e){e("AnimationState_AddTime",{a:[P,k]},Gte),e("AnimationState_GetEnabled",{a:[P],r:k},Wte),e("AnimationState_GetLength",{a:[P],r:k},Kte),e("AnimationState_GetLoop",{a:[P],r:k},qte),e("AnimationState_GetTimePosition",{a:[P],r:k},Yte),e("AnimationState_GetWeight",{a:[P],r:k},Xte),e("AnimationState_SetEnabled",{a:[P,k]},Zte),e("AnimationState_SetLength",{a:[P,k]},Qte),e("AnimationState_SetLoop",{a:[P,k]},Jte),e("AnimationState_SetTimePosition",{a:[P,k]},ene),e("AnimationState_SetWeight",{a:[P,k]},tne),e("Billboard_GetColour",{a:[P,rt,rt,rt,rt]},nne),e("Billboard_GetPosition",{a:[P,rt,rt,rt]},rne),e("Billboard_GetRotation",{a:[P],r:k},ine),e("Billboard_SetColour",{a:[P,k,k,k,k]},one),e("Billboard_SetPosition",{a:[P,k,k,k]},sne),e("Billboard_SetRotation",{a:[P,k]},ane),e("BillboardSet_Create",{a:[P,fe,k],r:P},lne),e("BillboardSet_CreateBillboard",{a:[P,k,k,k],r:P},cne),e("BillboardSet_Destroy",{a:[P]},une),e("BillboardSet_GetBillboard",{a:[P,k],r:P},dne),e("BillboardSet_GetBillboardType",{a:[P],r:k},hne),e("BillboardSet_GetCommonDirection",{a:[P,rt,rt,rt]},fne),e("BillboardSet_GetCommonUpVector",{a:[P,rt,rt,rt]},pne),e("BillboardSet_GetDefaultDimensions",{a:[P,rt,rt]},gne),e("BillboardSet_GetMaterialName",{a:[P,To]},mne),e("BillboardSet_GetNumBillboards",{a:[P],r:k},vne),e("BillboardSet_RemoveBillboard",{a:[P,P]},yne),e("BillboardSet_SetBillboardType",{a:[P,k]},bne),e("BillboardSet_SetCommonDirection",{a:[P,k,k,k]},wne),e("BillboardSet_SetCommonUpVector",{a:[P,k,k,k]},Sne),e("BillboardSet_SetDefaultDimensions",{a:[P,k,k]},Cne),e("BillboardSet_SetMaterialName",{a:[P,fe]},xne),e("Bone_GetManuallyControlled",{a:[P],r:k},_ne),e("Bone_Reset",{a:[P]},Ene),e("Bone_SetManuallyControlled",{a:[P,k]},Tne),e("Camera_Create",{a:[P,fe],r:P},Mne),e("Camera_Destroy",{a:[P]},One),e("Camera_GetAspectRatio",{a:[P],r:k},Rne),e("Camera_GetFarClipDistance",{a:[P],r:k},Ine),e("Camera_GetFOV",{a:[P],r:k},kne),e("Camera_GetNearClipDistance",{a:[P],r:k},Pne),e("Camera_GetPolygonMode",{a:[P],r:k},Dne),e("Camera_GetProjectionType",{a:[P],r:k},Ane),e("Camera_SetAspectRatio",{a:[P,k]},Lne),e("Camera_SetFarClipDistance",{a:[P,k]},Nne),e("Camera_SetFocalLength",{a:[P,k]},Bne),e("Camera_SetFOV",{a:[P,k]},Fne),e("Camera_SetFrustumOffset",{a:[P,k,k]},jne),e("Camera_SetNearClipDistance",{a:[P,k]},Vne),e("Camera_SetPolygonMode",{a:[P,k]},$ne),e("Camera_SetProjectionType",{a:[P,k]},zne),e("Collision_GetDistance",{a:[k],r:k},Une),e("Collision_GetObject",{a:[k],r:P},Hne),e("Collision_GetResultCount",{r:k},Gne),e("Collision_RayCast",{a:[P,k,k,k,k,k,k]},Wne),e("Collision_Sort",{},Kne),e("Compositor_GetEnabled",{a:[P],r:k},qne),e("Compositor_SetEnabled",{a:[P,k]},Yne),e("Entity_Create",{a:[P,fe,fe],r:P},Xne),e("Entity_Destroy",{a:[P]},Zne),e("Entity_GetAnimationState",{a:[P,fe],r:P},Qne),e("Entity_GetBone",{a:[P,fe],r:P},Jne),e("Entity_GetIndexCount",{a:[P,k],r:k},ere),e("Entity_GetMaterial",{a:[P,k,To]},tre),e("Entity_GetSubEntityCount",{a:[P],r:k},nre),e("Entity_GetVertexCount",{a:[P],r:k},YD),e("Entity_GetVertexCount",{a:[P,k],r:k},YD),e("Entity_SetMaterial",{a:[P,k,fe]},rre),e("Light_Create",{a:[P,fe],r:P},ire),e("Light_Destroy",{a:[P]},ore),e("Light_GetPowerScale",{a:[P],r:k},sre),e("Light_SetAttenuation",{a:[P,k,k,k,k]},are),e("Light_SetDiffuseColour",{a:[P,k,k,k]},lre),e("Light_SetPowerScale",{a:[P,k]},cre),e("Light_SetSpecularColour",{a:[P,k,k,k]},ure),e("Light_SetSpotlightRange",{a:[P,k,k,k]},dre),e("Light_SetType",{a:[P,k]},hre),e("ManualObject_Begin",{a:[P,fe,k]},fre),e("ManualObject_Clear",{a:[P]},pre),e("ManualObject_Colour",{a:[P,k,k,k,k]},gre),e("ManualObject_ConvertToMesh",{a:[P,fe]},mre),e("ManualObject_Create",{a:[P,fe],r:P},vre),e("ManualObject_Destroy",{a:[P]},yre),e("ManualObject_End",{a:[P]},bre),e("ManualObject_EstimateIndexCount",{a:[P,k]},wre),e("ManualObject_EstimateVertexCount",{a:[P,k]},Sre),e("ManualObject_GetDynamic",{a:[P],r:k},Cre),e("ManualObject_Index",{a:[P,k]},xre),e("ManualObject_Normal",{a:[P,k,k,k]},_re),e("ManualObject_Position",{a:[P,k,k,k]},Ere),e("ManualObject_SetDynamic",{a:[P,k]},Tre),e("ManualObject_TextureCoord",{a:[P,k,k]},Mre),e("Material_Create",{a:[fe],r:P},Ore),e("Material_Get",{a:[fe],r:P},Rre),e("Material_GetBestTechnique",{a:[P],r:P},Ire),e("Material_GetName",{a:[P,To]},kre),e("Material_GetTechniqueByIndex",{a:[P,k],r:P},Pre),e("Material_GetTechniqueByName",{a:[P,fe],r:P},Dre),e("Movable_GetBoundingBox",{a:[P,rt,rt,rt,rt,rt,rt]},Are),e("Movable_GetCastShadows",{a:[P],r:k},Lre),e("Movable_GetName",{a:[P,To]},Nre),e("Movable_GetParent",{a:[P],r:P},Bre),e("Movable_GetVisible",{a:[P],r:k},Fre),e("Movable_SetCastShadows",{a:[P,k]},jre),e("Movable_SetParent",{a:[P,P]},Vre),e("Movable_SetVisible",{a:[P,k]},$re),e("MovableText_Create",{a:[fe,fe,fe],r:P},zre),e("MovableText_Destroy",{a:[P]},Ure),e("MovableText_GetCaption",{a:[P,To]},Hre),e("MovableText_GetCharacterHeight",{a:[P],r:k},Gre),e("MovableText_GetColor",{a:[P,rt,rt,rt,rt]},Wre),e("MovableText_GetFontName",{a:[P,To]},Kre),e("MovableText_GetGlobalTranslation",{a:[P,rt,rt,rt]},qre),e("MovableText_GetLocalTranslation",{a:[P,rt,rt,rt]},Yre),e("MovableText_GetSpaceWidth",{a:[P],r:k},Xre),e("MovableText_GetTextAlignment",{a:[P,rt,rt]},Zre),e("MovableText_SetCaption",{a:[P,fe]},Qre),e("MovableText_SetCharacterHeight",{a:[P,k]},Jre),e("MovableText_SetColor",{a:[P,k,k,k,k]},eie),e("MovableText_SetFontName",{a:[P,fe]},tie),e("MovableText_SetGlobalTranslation",{a:[P,k,k,k]},nie),e("MovableText_SetLocalTranslation",{a:[P,k,k,k]},rie),e("MovableText_SetSpaceWidth",{a:[P,k]},iie),e("MovableText_SetTextAlignment",{a:[P,k,k]},oie),e("Node_AddChild",{a:[P,P]},sie),e("Node_GetChild",{a:[P,k],r:P},aie),e("Node_GetDerivedPosition",{a:[P,rt,rt,rt]},lie),e("Node_GetDerivedRotationQuaternion",{a:[P,rt,rt,rt,rt]},cie),e("Node_GetDerivedScale",{a:[P,rt,rt,rt]},uie),e("Node_GetName",{a:[P,To]},die),e("Node_GetNumChildren",{a:[P],r:k},hie),e("Node_GetParent",{a:[P],r:P},fie),e("Node_GetPosition",{a:[P,rt,rt,rt]},pie),e("Node_GetRotationQuaternion",{a:[P,rt,rt,rt,rt]},gie),e("Node_GetScale",{a:[P,rt,rt,rt]},mie),e("Node_RemoveChild",{a:[P,P]},vie),e("Node_SetParent",{a:[P,P]},yie),e("Node_SetPosition",{a:[P,k,k,k]},bie),e("Node_SetRotationAxis",{a:[P,k,k,k,k]},wie),e("Node_SetRotationEulerXYZ",{a:[P,k,k,k]},Sie),e("Node_SetRotationEulerXZY",{a:[P,k,k,k]},Cie),e("Node_SetRotationEulerYXZ",{a:[P,k,k,k]},xie),e("Node_SetRotationEulerYZX",{a:[P,k,k,k]},_ie),e("Node_SetRotationEulerZXY",{a:[P,k,k,k]},Eie),e("Node_SetRotationEulerZYX",{a:[P,k,k,k]},Tie),e("Node_SetRotationQuaternion",{a:[P,k,k,k,k]},Mie),e("Node_SetScale",{a:[P,k,k,k]},Oie),e("Overlay_AddChild",{a:[P,P]},Rie),e("Overlay_Create",{a:[fe],r:P},Iie),e("Overlay_FindElementAt",{a:[P,k,k],r:P},kie),e("Overlay_Get",{a:[fe],r:P},Pie),e("Overlay_GetName",{a:[P,To]},Die),e("Overlay_GetRotate",{a:[P],r:k},Aie),e("Overlay_GetScale",{a:[P,rt,rt]},Lie),e("Overlay_GetScroll",{a:[P,rt,rt]},Nie),e("Overlay_GetVisible",{a:[P],r:k},Bie),e("Overlay_GetZOrder",{a:[P],r:k},Fie),e("Overlay_RemoveChild",{a:[P,P]},jie),e("Overlay_SetRotate",{a:[P,k]},Vie),e("Overlay_SetScale",{a:[P,k,k]},$ie),e("Overlay_SetScroll",{a:[P,k,k]},zie),e("Overlay_SetVisible",{a:[P,k]},Uie),e("Overlay_SetZOrder",{a:[P,k]},Hie),e("OverlayContainer_AddChild",{a:[P,P]},Gie),e("OverlayContainer_GetChild",{a:[P,k],r:P},Wie),e("OverlayContainer_GetChildCount",{a:[P],r:k},Kie),e("OverlayContainer_RemoveChild",{a:[P,P]},qie),e("OverlayElement_Create",{a:[fe,fe],r:P},Yie),e("OverlayElement_Get",{a:[fe],r:P},Xie),e("OverlayElement_GetAlignment",{a:[P,rt,rt]},Zie),e("OverlayElement_GetCaption",{a:[P,To]},Qie),e("OverlayElement_GetColour",{a:[P,rt,rt,rt,rt]},Jie),e("OverlayElement_GetMaterialName",{a:[P,To]},eoe),e("OverlayElement_GetMetricsMode",{a:[P],r:k},toe),e("OverlayElement_GetParent",{a:[P],r:P},noe),e("OverlayElement_GetPosition",{a:[P,rt,rt]},roe),e("OverlayElement_GetSize",{a:[P,rt,rt]},ioe),e("OverlayElement_GetVisible",{a:[P],r:k},ooe),e("OverlayElement_IsContainer",{a:[P],r:k},soe),e("OverlayElement_SetAlignment",{a:[P,k,k]},aoe),e("OverlayElement_SetCaption",{a:[P,fe]},loe),e("OverlayElement_SetColour",{a:[P,k,k,k,k]},coe),e("OverlayElement_SetMaterialName",{a:[P,fe]},uoe),e("OverlayElement_SetMetricsMode",{a:[P,k]},doe),e("OverlayElement_SetPosition",{a:[P,k,k]},hoe),e("OverlayElement_SetSize",{a:[P,k,k]},foe),e("OverlayElement_SetVisible",{a:[P,k]},poe),e("ParticleSystem_Create",{a:[P,fe,fe],r:P},goe),e("ParticleSystem_CreateEx",{a:[P,fe,fe],r:P},moe),e("ParticleSystem_Destroy",{a:[P]},voe),e("ParticleSystem_GetName",{a:[P,fe]},yoe),e("ParticleSystem_GetParent",{a:[P],r:P},boe),e("ParticleSystem_GetVisible",{a:[P],r:k},woe),e("ParticleSystem_SetParent",{a:[P,P]},Soe),e("ParticleSystem_SetVisible",{a:[P,k]},Coe),e("Pass_Create",{a:[P,fe],r:P},xoe),e("Pass_GetAlphaRejectSettings",{a:[P,rt,rt]},_oe),e("Pass_GetAmbient",{a:[P,rt,rt,rt,rt]},Eoe),e("Pass_GetColourWriteEnabled",{a:[P],r:k},Toe),e("Pass_GetCullingMode",{a:[P],r:k},Moe),e("Pass_GetDepthCheckEnabled",{a:[P],r:k},Ooe),e("Pass_GetDepthFunction",{a:[P],r:k},Roe),e("Pass_GetDepthWriteEnabled",{a:[P],r:k},Ioe),e("Pass_GetDiffuse",{a:[P,rt,rt,rt,rt]},koe),e("Pass_GetLightingEnabled",{a:[P],r:k},Poe),e("Pass_GetPolygonMode",{a:[P],r:k},Doe),e("Pass_GetSceneBlending",{a:[P,rt,rt]},Aoe),e("Pass_GetSelfIllumination",{a:[P,rt,rt,rt,rt]},Loe),e("Pass_GetShadingMode",{a:[P],r:k},Noe),e("Pass_GetShininess",{a:[P],r:k},Boe),e("Pass_GetSpecular",{a:[P,rt,rt,rt,rt]},Foe),e("Pass_GetTextureUnitStateByIndex",{a:[P,k],r:P},joe),e("Pass_GetTextureUnitStateByName",{a:[P,fe],r:P},Voe),e("Pass_SetAlphaRejectSettings",{a:[P,k,k]},$oe),e("Pass_SetAmbient",{a:[P,k,k,k,k]},zoe),e("Pass_SetColourWriteEnabled",{a:[P,k]},Uoe),e("Pass_SetCullingMode",{a:[P,k]},Hoe),e("Pass_SetDepthCheckEnabled",{a:[P,k]},Goe),e("Pass_SetDepthFunction",{a:[P,k]},Woe),e("Pass_SetDepthWriteEnabled",{a:[P,k]},Koe),e("Pass_SetDiffuse",{a:[P,k,k,k,k]},qoe),e("Pass_SetLightingEnabled",{a:[P,k]},Yoe),e("Pass_SetPolygonMode",{a:[P,k]},Xoe),e("Pass_SetSceneBlending",{a:[P,k,k]},Zoe),e("Pass_SetSelfIllumination",{a:[P,k,k,k,k]},Qoe),e("Pass_SetShadingMode",{a:[P,k]},Joe),e("Pass_SetShininess",{a:[P,k]},ese),e("Pass_SetSpecular",{a:[P,k,k,k,k]},tse),e("RenderTexture_Create",{a:[fe,k,k],r:P},nse),e("RenderTexture_Destroy",{a:[P]},rse),e("RenderWindow_Create",{a:[P,k,k],r:P},ise),e("RenderWindow_Create2",{a:[P,fe,k,k,k,k,k,k],r:P},ose),e("RenderWindow_CreateEx",{a:[P,k,k,k],r:P},sse),e("RenderWindow_Destroy",{a:[P]},ase),e("RenderWindow_Get",{a:[k],r:P},lse),e("RenderWindow_GetCount",{r:k},cse),e("RenderWindow_GetCursorHovered",{a:[P],r:k},use),e("RenderWindow_GetCursorPosition",{a:[P,rt,rt]},dse),e("RenderWindow_GetKeyboardButtonPressed",{a:[P,k],r:k},hse),e("RenderWindow_GetMouseButtonPressed",{a:[P,k],r:k},fse),e("RenderWindow_GetPosition",{a:[P,rt,rt]},pse),e("RenderWindow_GetPrimary",{r:P},gse),e("RenderWindow_GetSize",{a:[P,rt,rt]},mse),e("RenderWindow_GetViewport",{a:[P,k],r:P},vse),e("RenderWindow_GetViewportCount",{a:[P],r:k},yse),e("RenderWindow_GetWheelPosition",{a:[P],r:k},bse),e("RenderWindow_SetPosition",{a:[P,k,k]},wse),e("RenderWindow_SetSize",{a:[P,k,k]},Sse),e("RenderWindow_ToggleFullscreen",{a:[P],r:k},Cse),e("Root_AddResourceLocation",{a:[fe,fe,fe,k]},xse),e("Root_AddResourceLocationFromConfigFile",{a:[fe]},_se),e("Root_Create",{a:[fe,fe,fe]},Ese),e("Root_Destroy",{},Tse),e("Root_GetTime",{r:k},Mse),e("Root_Initialise",{},Ose),e("Root_InitialiseAllResourceGroups",{},Rse),e("Root_IsInitialised",{r:k},Ise),e("Root_RenderOneFrame",{r:k},kse),e("Root_RestoreConfig",{r:k},Pse),e("Root_SaveConfig",{},Dse),e("Root_ShowConfigDialog",{r:k},Ase),e("Scene_Clear",{a:[P]},Lse),e("Scene_Create",{a:[fe],r:P},Nse),e("Scene_Destroy",{a:[P]},Bse),e("Scene_GetCamera",{a:[P,fe],r:P},Fse),e("Scene_GetEntity",{a:[P,fe],r:P},jse),e("Scene_GetLight",{a:[P,fe],r:P},Vse),e("Scene_GetParticleSystem",{a:[P,fe],r:P},$se),e("Scene_GetRootSceneNode",{a:[P],r:P},zse),e("Scene_GetSceneNode",{a:[P,fe],r:P},Use),e("Scene_GetShadowTechnique",{a:[P],r:k},Hse),e("Scene_Load",{a:[P,fe]},Gse),e("Scene_SetAmbientLight",{a:[P,k,k,k]},Wse),e("Scene_SetFog",{a:[P,k,k,k,k,k,k,k]},Kse),e("Scene_SetShadowTechnique",{a:[P,k]},qse),e("Scene_SetSkyBox",{a:[P,k,fe,k]},Yse),e("Scene_SetWorldGeometry",{a:[P,fe]},Xse),e("SceneNode_AttachObject",{a:[P,P]},Zse),e("SceneNode_Create",{a:[P,fe],r:P},Qse),e("SceneNode_Destroy",{a:[P]},Jse),e("SceneNode_DetachObject",{a:[P,P]},eae),e("SceneNode_GetNumObjects",{a:[P],r:k},tae),e("SceneNode_GetObject",{a:[P,k],r:P},nae),e("SceneNode_GetScene",{a:[P],r:P},rae),e("SceneNode_SetAutoTracking",{a:[P,P,k,k,k]},iae),e("SceneNode_SetVisible",{a:[P,k,k]},oae),e("StringInterface_GetParameter",{a:[P,fe,fe]},sae),e("StringInterface_GetParameterCount",{a:[P],r:k},aae),e("StringInterface_GetParameterDescription",{a:[P,k,fe]},lae),e("StringInterface_GetParameterName",{a:[P,k,fe]},cae),e("StringInterface_GetParameterType",{a:[P,k],r:k},uae),e("StringInterface_SetParameter",{a:[P,fe,fe]},dae),e("Technique_Create",{a:[P,fe],r:P},hae),e("Technique_GetPassByIndex",{a:[P,k],r:P},fae),e("Technique_GetPassByName",{a:[P,fe],r:P},pae),e("TextureUnitState_Create",{a:[P,fe],r:P},gae),e("TextureUnitState_GetTexture",{a:[P,fe,P]},mae),e("TextureUnitState_SetTexture",{a:[P,fe,k]},vae),e("Viewport_AddCompositor",{a:[P,fe,k],r:P},yae),e("Viewport_Create",{a:[P,P,k],r:P},bae),e("Viewport_Destroy",{a:[P]},wae),e("Viewport_GetBackgroundColour",{a:[P,rt,rt,rt]},Sae),e("Viewport_GetCamera",{a:[P],r:P},Cae),e("Viewport_GetCompositor",{a:[P,k],r:P},xae),e("Viewport_GetDimensions",{a:[P,rt,rt,rt,rt]},_ae),e("Viewport_GetNumCompositors",{a:[P],r:k},Eae),e("Viewport_GetOverlaysEnabled",{a:[P],r:k},Tae),e("Viewport_GetRay",{a:[P,k,k,rt,rt,rt,rt,rt,rt]},Mae),e("Viewport_RemoveCompositor",{a:[P,P]},Oae),e("Viewport_SetBackgroundColour",{a:[P,k,k,k]},Rae),e("Viewport_SetCamera",{a:[P,P]},Iae),e("Viewport_SetDimensions",{a:[P,k,k,k,k]},kae),e("Viewport_SetOverlaysEnabled",{a:[P,k]},Pae)}const Aae={name:"ogre",deps:["windows"],register:Dae,setup(e){e.egor=new TJ,e.egorShouldRender=!1,e.egorRayCastResult=null,e.egorManualObjectsSections=new WeakMap,e.beforeRender.add(()=>{e.egorShouldRender&&(e.egorShouldRender=!1,e.egor.renderAll())})}},Lae=13,Nae=10,Bae=[1,1,2,2,4,4,4,5,8,10];function ZD(e){return e<0||e>9?0:Bae[e]}class QD{constructor(t=null,n=null){this.file=n,t?this.v=new DataView(t.buffer,t.byteOffset,t.byteLength):this.v=new DataView(new ArrayBuffer(0)),this.p=0,this.width=8}copyTo(t,n,r){return n<0||n+r>this.v.byteLength?0:(t.v.byteLength<r?t.v=new DataView(this.v.buffer.slice(n,r)):new Uint8Array(t.v.buffer).set(new Uint8Array(this.v.buffer,n,r)),1)}seek(t){return this.p=t}eof(){return this.p>=this.size()?1:0}pos(){return this.p}size(){return this.v.byteLength}setWidth(t){return this.width=t,1}widthNumber(){const t=ZD(this.width);if(t===0)return 0;const n=this.p,r=n+t;if(r>this.size())return 0;switch(this.p=r,this.width){case 0:return this.v.getUint8(n);case 1:return this.v.getInt8(n);case 2:return this.v.getUint16(n,!0);case 3:return this.v.getInt16(n,!0);case 4:return this.v.getUint32(n,!0);case 5:return this.v.getInt32(n,!0);case 6:return this.v.getFloat32(n,!0);case 7:throw Error("Чтение FLOAT40 не поддерживается");case 8:return this.v.getFloat64(n,!0);case 9:throw Error("Чтение FLOAT80 не поддерживается");default:return 0}}resize(t){const n=new Uint8Array(new ArrayBuffer(t));n.set(new Uint8Array(this.v.buffer)),this.v=new DataView(n.buffer)}writeWidthNumber(t){const n=ZD(this.width);if(n===0)return 0;const r=this.p,i=r+n;switch(i>this.size()&&this.resize(i),this.p=i,this.width){case 0:return this.v.setUint8(r,t),1;case 1:return this.v.setInt8(r,t),1;case 2:return this.v.setUint16(r,t,!0),2;case 3:return this.v.setInt16(r,t,!0),2;case 4:return this.v.setUint32(r,t,!0),4;case 5:return this.v.setInt32(r,t,!0),4;case 6:return this.v.setFloat32(r,t,!0),4;case 7:throw Error("FLOAT40 не поддерживается");case 8:return this.v.setFloat64(r,t,!0),8;case 9:throw Error("FLOAT80 не поддерживается");default:return 0}}getLine(t,n){const r=this.p,i=Math.min(t,this.size()-r);if(i<=0)return"";let o=0,s="";for(;o<i;){const a=this.v.getUint8(r+o);o++;const c=qa[a];if(s+=c,c===n)break}return this.p+=o,s}line(){const t=this.p,n=this.size()-t;if(n<=0)return"";let r=0,i=0;for(;r<n;){const s=this.v.getUint8(t+r);if(s===0){i=1;break}if(s===Lae&&r+1<n&&this.v.getUint8(t+r+1)===Nae){i=2;break}r+=1}const o=Pp(new Uint8Array(this.v.buffer,t,r));return this.p=t+r+i,o}writeLine(t){const n=t+`\r
`;let r=this.p;const i=r+n.length;return i>this.size()&&this.resize(i),this.p=i,Dp(n).forEach((s,a)=>this.v.setUint8(r+a,s)),n.length}write(t){let n=this.p;const r=n+t.length;r>this.size()&&this.resize(r),this.p=r,t.forEach((i,o)=>this.v.setUint8(n+o,i))}bytes(){return new Uint8Array(this.v.buffer)}}function Fae(e,t,n){const r=e.toUpperCase(),i=n.toUpperCase(),o=i.includes("CREATE"),s=i.includes("READONLY"),a=hs.freeKey(this.kernel.streams);if(r==="FILE"){const c=this.prj.dir.resolve(t);let u=null,h=null;if(o){if(u=c.create("file",{base64:""}),!u)return 0}else{if(u=c.file(),!u)return 0;u.base64?h=qv(u.base64):Ti.debugFile&&this._warn(`CreateStream: Файл ${c} (${u.size} байт) существует, но формат не base64.`)}return this.kernel.streams.set(a,new QD(h,s?null:u)),a}return r==="MEMORY"?(this.kernel.streams.set(a,new QD),a):(console.warn(`Поток типа ${r} не поддерживается`),0)}function jae(e){const t=this.kernel.streams.get(e);if(!t)return 0;if(this.kernel.streams.delete(e),!t.file)return 1;const n=t.bytes();return t.file.set({base64:Kv(n)}),this.kernel.handleWrite(t.file.path,n),1}function Vae(e,t){return this.kernel.streams.get(e)?.seek(t)??0}function $ae(e){return this.kernel.streams.get(e)?.eof()??0}function zae(e){return this.kernel.streams.get(e)?.pos()??0}function Uae(e){return this.kernel.streams.get(e)?.size()??0}function Hae(e,t){return this.kernel.streams.get(e)?.setWidth(t)??0}function Gae(e){return this.kernel.streams.get(e)?.widthNumber()??0}function Wae(e){return this.kernel.streams.get(e)?.line()??""}function Kae(e,t){return this.kernel.streams.get(e)?.writeWidthNumber(t)??0}function qae(e,t){return this.kernel.streams.get(e)?.writeLine(t)??0}function Yae(e,t,n){return this.kernel.streams.get(e)?.getLine(t,n)??""}function Xae(e,t,n,r){const i=this.kernel.streams.get(e);if(!i)return 0;const o=this.kernel.streams.get(t);return o?i.copyTo(o,n,r):0}function Zae(e){e("CreateStream",{a:[fe,fe,fe],r:P},Fae),e("CloseStream",{a:[P],r:k},jae),e("Seek",{a:[P,k],r:k},Vae),e("Eof",{a:[P],r:k},$ae),e("GetPos",{a:[P],r:k},zae),e("GetSize",{a:[P],r:k},Uae),e("SetWidth",{a:[P,k],r:k},Hae),e("Read",{a:[P],r:k},Gae),e("ReadLn",{a:[P],r:fe},Wae),e("Write",{a:[P,k],r:k},Kae),e("WriteLn",{a:[P,fe],r:k},qae),e("GetLine",{a:[P,k,fe],r:fe},Yae),e("CopyBlock",{a:[P,P,k,k],r:k},Xae)}const Qae={name:"streams",register:Zae,setup(e){e.streams=new Map}};function Jae(e){return this.kernel._functionNotImplemented(`System(${e})`),0}function ele(e){return _C(e)?1:0}function tle(e,t,n,r,i){const o=this.kernel.windows.get(e);if(!o)return t[n]=0,r[i]=0,0;const s=o.mouseX+o.scene.x,a=o.mouseY+o.scene.y,c=o.invmatrix;if(!c)return t[n]=s,r[i]=a,1;const u=s*c[2]+a*c[5]+c[8];return t[n]=(s*c[0]+a*c[3]+c[6])/u,r[i]=(s*c[1]+a*c[4]+c[7])/u,1}function nle(e){this.kernel.windowSystem.showCursor(e>0)}function JD(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;let r;switch(t){case ct.CUR_ARROW:r="auto";break;case ct.CUR_CROSS:r="crosshair";break;case ct.CUR_TEXT:r="text";break;case ct.CUR_NO:r="not-allowed";break;case ct.CUR_SIZE:r="move";break;case ct.CUR_SIZENESW:r="nesw-resize";break;case ct.CUR_SIZENS:r="ns-resize	";break;case ct.CUR_SIZENWSE:r="nwse-resize";break;case ct.CUR_SIZEWE:r="ew-resize";break;case ct.CUR_UPARROW:r="n-resize";break;case ct.CUR_WAIT:r="wait";break;case ct.CUR_LINK:r="pointer";break;case ct.CUR_HELP:r="help";break;default:r="auto";break}n.setCursor(r)}function eA(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;const r=this.prj.dir.resolve(t).file()?.cursor;n.setCursor(r?`url(${Ps(r.src)}), auto`:"default")}function rle(){return Date.now()-E9}function ile(e,t,n,r,i,o){const s=new Date;e[t]=s.getFullYear(),n[r]=s.getMonth()+1,i[o]=s.getDate()}function ole(e,t,n,r,i,o,s,a){const c=new Date;e[t]=c.getHours(),n[r]=c.getMinutes(),i[o]=c.getSeconds(),s[a]=c.getMilliseconds()*.1}function sle(e,t,n,...[r,i,o,s,a]){if(n>4)return 0;const c=this.kernel.scenes.get(e)?.scene.objects.get(t);return c?(n<0?delete c.data.hyper:c.data.hyper={mode:n,target:r,object:i,effect:o,window:s,params:a},1):0}function ale(e,t,n,r){const i=this.kernel.scenes.get(e);if(!i)return;const o=(i.scene.objects.get(r)??i.pick(t,n))?.data?.hyper;o&&i.hyperClick(o,{x:t,y:n})}function lle(){return this.kernel.windowSystem.windowFactory.screenWidth}function cle(){return this.kernel.windowSystem.windowFactory.screenHeight}function ule(){return 0}function dle(){return 0}function hle(){return this.kernel.windowSystem.windowFactory.screenWidth}function fle(){return this.kernel.windowSystem.windowFactory.screenHeight}function ple(){return 0}function gle(){return 0}function mle(){return 0}function vle(){return 0}function yle(){return 0}function ble(){return 0}function wle(e,t){return this.kernel.handleExe(e,t)?1:0}function Sle(e,t,n,r){return this.kernel.handleShell(e,t,n,r)?1:0}function Cle(e){this.kernel.log(e,this)}function xle(e){e("System",{a:[k],rest:[k],r:k},Jae),e("GetAsyncKeyState",{a:[k],r:k},ele),e("GetMousePos",{a:[fe,rt,rt],r:k},tle),e("ShowCursor",{a:[k]},nle),e("LoadCursor",{a:[P,fe]},eA),e("LoadCursor",{a:[fe,fe]},eA),e("SetStandartCursor",{a:[P,k]},JD),e("SetStandartCursor",{a:[fe,k]},JD),e("GetTickCount",{r:k},rle),e("GetTime",{a:[rt,rt,rt,rt]},ole),e("GetDate",{a:[rt,rt,rt]},ile),e("SetHyperJump2d",{a:[P,P,k],rest:[fe],r:k},sle),e("StdHyperJump",{a:[P,k,k,P,k]},ale),e("GetScreenWidth",{r:k},lle),e("GetScreenHeight",{r:k},cle),e("GetWorkAreaX",{r:k},ule),e("GetWorkAreaY",{r:k},dle),e("GetWorkAreaWidth",{r:k},hle),e("GetWorkAreaHeight",{r:k},fle),e("GetTitleHeight",{r:k},ple),e("GetSmallTitleHeight",{r:k},gle),e("GetFixedFrameWidth",{r:k},mle),e("GetFixedFrameHeight",{r:k},vle),e("GetSizeFrameWidth",{r:k},yle),e("GetSizeFrameHeight",{r:k},ble),e("WinExecute",{a:[fe,k],r:k},wle),e("Shell",{a:[fe,fe,fe,k],r:k},Sle),e("LogMessage",{a:[fe]},Cle)}const _le={name:"system",deps:["windows"],register:xle};function Ele(e){return e.toString()}function Tle(e,t){return e<0||e>255?"":qa[e]}function Mle(){return this.kernel.fs.appData.toString()}function Ole(e){e("FloatToString",{a:[k],r:fe},Ele),e("ConvertToAscii",{a:[k,k],r:fe},Tle),e("GetSpecialPath",{r:fe},Mle)}const Rle={name:"tdl",register:Ole},tA=new Set;function cu(...e){tA.size!==tA.add(e[0]).size&&console.warn(...e)}async function Od(e,t){const n=await fetch(`https://stratum.ac.ru/enteronline/api/ta/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw Error(r.message);return r}async function Ile(e){cu("GetWordInfo",e);const{wordInfo:t}=await Od("getWordInfo",{word:e});return t}async function kle(e,t){cu("GetWordInfo",e,t);const n=this.kernel.streams.get(t);if(!n)return;const{wordInfo:r}=await Od("getWordInfo",{word:e});n.write(Dp(r)),n.seek(0)}async function Ple(e,t,n){cu("GetWordProperty",e,t,n);const{wordProperty:r}=await Od("getWordProperty",{word:e,filter:t,propName:n});return r}async function Dle(e){cu("GetWordFormCount",e);const{wordFormCount:t}=await Od("getWordFormCount",{word:e});return t}async function Ale(e,t,n){cu("GetWordForm",e,t,n);const{wordForm:r}=await Od("getWordForm",{word:e,formIndex:t,formProp:n});return r}async function Lle(e){cu("FindNextWord",e);const{nextWord:t}=await Od("findNextWord",{word:e});return t}async function Nle(e){cu("FindPrevWord",e);const{prevWord:t}=await Od("findPrevWord",{word:e});return t}async function Ble(e,t,n){return cu("InitAnalyzer",e,t,n),1}function Fle(e){e("GetWordInfo",{a:[fe],r:fe,kind:"async"},Ile),e("GetWordInfo",{a:[fe,P],kind:"async"},kle),e("GetWordProperty",{a:[fe,fe,fe],r:fe,kind:"async"},Ple),e("GetWordFormCount",{a:[fe],r:k,kind:"async"},Dle),e("GetWordForm",{a:[fe,k,fe],r:fe,kind:"async"},Ale),e("FindNextWord",{a:[fe],r:fe,kind:"async"},Lle),e("FindPrevWord",{a:[fe],r:fe,kind:"async"},Nle),e("InitAnalyzer",{a:[fe,fe,fe],r:k,kind:"async"},Ble)}const jle={name:"textAnalyzer",deps:["streams"],register:Fle};async function _y({src:e,etag:t},n){let r;try{r=await fetch(`${bq(e)}${t?"?"+t:""}`,n)}catch(o){throw o instanceof Error?Error("Сервер библиотек не отвечает"):o}if(r.status===404)throw Error(`404: Библиотека '${e}' не существует`);const i=await r.json();if(!r.ok)throw Error(i.message||"Неизвестная ошибка");return i}function nA(e,t,n,r){const{children:i}=e,o=i.length?i[0]:null,s=qh(e.scene,t,r).set({x:e.x,y:e.y,attrib:e.attrib});if(o){const a=e.attrib|El;n?(o.set({attrib:a}),s.set({width:o.width,height:o.height})):o.set({attrib:a,width:1,height:1})}return e.set({children:i.concat(s)}),s}const Ml={gspace:"ApJIp71s","scroll-x":"qhzEyKeP","scroll-y":"j1zyfqqN",hidden:"-WlIuMox",scene:"_-7ivHAO2",frame:"xTZG1aX9",spacer:"Q4gUooLG"};class Vle{constructor(t,n){this.space=t,this.view=n,this.onDisposed=new aa}dispose(){this.view.remove(),this.space._removeFrame(this)}}class TC{constructor({system:t,key:n,name:r,project:i,data:o,options:s,x:a=0,y:c=0,matrix:u=null,source:h=null,parent:f=null,sceneChildren:g}){this.isVisible=!0,this.scale=1,this.mouseX=0,this.mouseY=0,this.mouseMoveSubs=new Ya,this.leftButtonUpSubs=new Ya,this.leftButtonDownSubs=new Ya,this.leftButtonDoubleClickSubs=new Ya,this.rightButtonUpSubs=new Ya,this.rightButtonDownSubs=new Ya,this.middleButtonUpSubs=new Ya,this.middleButtonDownSubs=new Ya,this.keyDownSubs=new Set,this.keyUpSubs=new Set,this.keyCharSubs=new Set,this.controlNotifySubs=new Ya,this.commandSubs=new Ya,this.windowMoveSubs=new Set,this.spaceDoneSubs=new Set,this.sizeSubs=new Set,this.frames=new Set,this.all=new Set([this]),this.clientWidth=0,this.clientHeight=0,this.hiddenBy=null,this.currentCursor="auto",this.cursorOverHyp=!1,this.connectedWindow=null,this.spacer=null,this.scrollX=null,this.scrollY=null,this.scrolledSceneX=NaN,this.scrolledSceneY=NaN,this.lastTouchInfo=null,this.title=r,this.system=t,this.kernel=t.kernel,this.key=n,this.name=r,this.project=i,this.matrix=u,this.invmatrix=u&&Sq(u),this.parent=f,this.source=h,this.x=a,this.y=c;const m=this.scene=t.sceneFactory.create(o,i.settings.graphicsBackend);g?.forEach(({key:T,klass:R})=>{const M=t.kernel.classes.get(R)?.image;if(!M||M.prior==="icon"||!M.scene?.data?.objects?.length)return;const I=m.objects.get(T);I?.type==="group"&&nA(I,M.scene.data,M.resizable)}),m.domElement.classList.add(Ml.scene);const y=this.domElement=document.createElement("div");y.className=Ml.gspace,y.tabIndex=0,y.setAttribute("data-gspace-name",r),y.setAttribute("data-gspace-key",n.toString()),y.append(m.domElement);const b=s.size;if(b?.type==="fixed"&&(this.clientWidth=b.width,this.clientHeight=b.height),b?.type!=="fixed"||s.autoorg||s.hscroll||s.vscroll){const T=uy(m.objects.values());m.set({x:T.x,y:T.y}),this.clientWidth<=0&&(this.clientWidth=T.w),this.clientHeight<=0&&(this.clientHeight=T.h),s.hscroll&&(this.scrollX={min:T.x,max:T.x+(s.autoscroll?0:T.w)}),s.vscroll&&(this.scrollY={min:T.y,max:T.y+(s.autoscroll?0:T.h)})}this.clientWidth<=0&&(this.clientWidth=this.system.windowFactory.screenWidth),this.clientHeight<=0&&(this.clientHeight=this.system.windowFactory.screenHeight),Cd(y,{...f&&{left:a-f.scene.x+"px",top:c-f.scene.y+"px"},width:this.clientWidth+"px",height:this.clientHeight+"px"});const{pointerTarget:v}=this;v.addEventListener("contextmenu",gP);const S=this.handlePointer.bind(this);v.addEventListener("pointerdown",S),v.addEventListener("pointermove",S),v.addEventListener("pointerup",S),v.addEventListener("pointercancel",S);const E=this.handleKeyboard.bind(this);y.addEventListener("keydown",E),y.addEventListener("keyup",E),m.onInputChanged.add(this.handleInput.bind(this))}getClientWidth(){return this.domElement.clientWidth||this.clientWidth}getClientHeight(){return this.domElement.clientHeight||this.clientHeight}getWidth(){return this.domElement.offsetWidth||this.clientWidth}getHeight(){return this.domElement.offsetHeight||this.clientHeight}get pointerTarget(){return this.scene.domElement}setTitle(t){this.title=t,this.connectedWindow?.set({title:t})}setConnectedWindow(t){t.onClosed.add(this.onConnectedWindowClosed.bind(this)),this.connectedWindow=t}onConnectedWindowClosed(){this.connectedWindow=null,this.close()}setOpacity(t){const{domElement:n}=this;this.connectedWindow&&!this.isVisible||(t>=1?n.style.removeProperty("opacity"):Cd(n,{transition:"none",opacity:t.toString()}))}updateMouseCoords(t,n){this.mouseX=t,this.mouseY=n,this.parent?.updateMouseCoords(this.x+t,this.y+n)}syncScrollbars(){const{domElement:t,scene:n,scrollX:r,scrollY:i}=this;r&&(this.scrolledSceneX===n.x?n.set({x:r.min+t.scrollLeft}):t.scrollLeft=n.x-r.min,this.scrolledSceneX=n.x),i&&(this.scrolledSceneY===n.y?n.set({y:i.min+t.scrollTop}):t.scrollTop=n.y-i.min,this.scrolledSceneY=n.y)}beforeRender(){this.syncScrollbars(),this.scene.render()}beforeAll(){this.syncScrollbars()}afterAll(){const{domElement:t,scrollX:n,scrollY:r}=this;if(!n&&!r)return;if(!this.spacer){const u=this.spacer=document.createElement("div");u.className=Ml.spacer,t.append(u)}const{spacer:i}=this;let o=n?Math.max(n.max-n.min,0):0,s=r?Math.max(r.max-r.min,0):0;const a=n&&!o,c=r&&!s;if(a||c){const u=uy(this.scene.objects.values());a&&(o=u.w),c&&(s=u.h)}if(n){t.classList.contains(Ml["scroll-x"])||t.classList.add(Ml["scroll-x"]);const u=Math.round(o)+"px";i.style.width!==u&&(i.style.width=u)}if(r){t.classList.contains(Ml["scroll-y"])||t.classList.add(Ml["scroll-y"]);const u=Math.round(s)+"px";i.style.height!==u&&(i.style.height=u)}}updateCursor(){const t=this.system.cursorVisible?this.cursorOverHyp?"pointer":this.currentCursor:"none",{domElement:n}=this;n.style.cursor!==t&&(n.style.cursor=t)}setCapture(t){this.system.setCapture(this,t)}subscribe(t,n,r,i){const o=i&1,s=this.scene.objects.get(r)??null;switch(n){case ct.WM_MOVE:this.windowMoveSubs.add(t);break;case ct.WM_SPACEDONE:this.spaceDoneSubs.add(t);break;case ct.WM_SIZE:this.sizeSubs.add(t);break;case ct.WM_CONTROLNOTIFY:(s||r===0)&&this.controlNotifySubs.set(t,s);break;case ct.WM_COMMAND:(s||!o)&&this.commandSubs.set(t,s);break;case ct.WM_MOUSEMOVE:(s||!o)&&this.mouseMoveSubs.set(t,o?s:null);break;case ct.WM_LBUTTONDOWN:(s||!o)&&this.leftButtonDownSubs.set(t,o?s:null);break;case ct.WM_LBUTTONUP:(s||!o)&&this.leftButtonUpSubs.set(t,o?s:null);break;case ct.WM_LBUTTONDBLCLK:(s||!o)&&this.leftButtonDoubleClickSubs.set(t,o?s:null);break;case ct.WM_RBUTTONDOWN:(s||!o)&&this.rightButtonDownSubs.set(t,o?s:null);break;case ct.WM_RBUTTONUP:(s||!o)&&this.rightButtonUpSubs.set(t,o?s:null);break;case ct.WM_MBUTTONDOWN:(s||!o)&&this.middleButtonDownSubs.set(t,o?s:null);break;case ct.WM_MBUTTONUP:(s||!o)&&this.middleButtonUpSubs.set(t,o?s:null);break;case ct.WM_ALLMOUSEMESSAGE:if(!s&&o)break;const a=o?s:null;this.mouseMoveSubs.set(t,a),this.leftButtonDownSubs.set(t,a),this.leftButtonUpSubs.set(t,a),this.leftButtonDoubleClickSubs.set(t,a),this.rightButtonDownSubs.set(t,a),this.rightButtonUpSubs.set(t,a),this.middleButtonDownSubs.set(t,a),this.middleButtonUpSubs.set(t,a);break;case ct.WM_KEYDOWN:this.keyDownSubs.add(t);break;case ct.WM_KEYUP:this.keyUpSubs.add(t);break;case V0:this.keyCharSubs.add(t);break;case ct.WM_ALLKEYMESSAGE:this.keyDownSubs.add(t),this.keyUpSubs.add(t),this.keyCharSubs.add(t);break;default:t.kernel._functionNotImplemented(`Подписка на ${ct[n]}`,t);break}}unsubscribe(t,n){switch(n){case ct.WM_MOVE:this.windowMoveSubs.delete(t);break;case ct.WM_SPACEDONE:this.spaceDoneSubs.delete(t);break;case ct.WM_SIZE:this.sizeSubs.delete(t);break;case ct.WM_CONTROLNOTIFY:this.controlNotifySubs.delete(t);break;case ct.WM_COMMAND:this.commandSubs.delete(t);break;case ct.WM_MOUSEMOVE:this.mouseMoveSubs.delete(t);break;case ct.WM_LBUTTONDOWN:this.leftButtonDownSubs.delete(t);break;case ct.WM_LBUTTONUP:this.leftButtonUpSubs.delete(t);break;case ct.WM_LBUTTONDBLCLK:this.leftButtonDoubleClickSubs.delete(t);break;case ct.WM_RBUTTONDOWN:this.rightButtonDownSubs.delete(t);break;case ct.WM_RBUTTONUP:this.rightButtonUpSubs.delete(t);break;case ct.WM_MBUTTONDOWN:this.middleButtonDownSubs.delete(t);break;case ct.WM_MBUTTONUP:this.middleButtonUpSubs.delete(t);break;case ct.WM_ALLMOUSEMESSAGE:this.mouseMoveSubs.delete(t),this.leftButtonDownSubs.delete(t),this.leftButtonDoubleClickSubs.delete(t),this.leftButtonUpSubs.delete(t),this.rightButtonDownSubs.delete(t),this.rightButtonUpSubs.delete(t),this.middleButtonDownSubs.delete(t),this.middleButtonUpSubs.delete(t);break;case ct.WM_KEYDOWN:this.keyDownSubs.delete(t);break;case ct.WM_KEYUP:this.keyUpSubs.delete(t);break;case V0:this.keyCharSubs.delete(t);break;case ct.WM_ALLKEYMESSAGE:this.keyDownSubs.delete(t),this.keyUpSubs.delete(t),this.keyCharSubs.delete(t);break}}setWindowOrg(t,n){this.x=t,this.y=n,this.connectedWindow?this.connectedWindow.set({x:t,y:n}):this.parent&&Cd(this.domElement,{left:t-this.parent.scene.x+"px",top:n-this.parent.scene.y+"px"})}setWindowSize(t,n){this.clientWidth=t,this.clientHeight=n;const{inverseScale:r}=this;Cd(this.domElement,{width:t*r+"px",height:n*r+"px"})}setWindowPos(t,n,r,i){this.setWindowOrg(t,n),this.setWindowSize(r,i)}setSceneOrg(t,n){this.scene.set({x:t,y:n})}setScrollX(t,n){const{scrollX:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollX={min:t,max:n},this.scrolledSceneX=this.scene.x-t)}setScrollY(t,n){const{scrollY:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollY={min:t,max:n},this.scrolledSceneY=this.scene.y-t)}setCursor(t){this.currentCursor=t,this.updateCursor()}createFrame(t){t.classList.add(Ml.frame),this.domElement.append(t);const n=new Vle(this,t);return this.frames.add(n),n}createChild(t){const n=new TC({...t,parent:this});return this.domElement.append(n.domElement),this.all.add(n),n}pick(t,n,r){let i=t,o=n;const s=this.matrix;if(s){const c=t*s[2]+n*s[5]+s[8];i=(t*s[0]+n*s[3]+s[6])/c,o=(t*s[1]+n*s[4]+s[7])/c}let a=this.scene.pick(i,o);if(r&&(this.system.lastPickedPrimaryKey=a?.key??0),!a)return null;for(;a.parent;)a=a.parent;return a}paste(t,n,r,i){if(!t.objects?.length)return null;let o=t;if(i&ct.PFC_ALL){const h={...t};i&ct.PFC_PENS&&delete h.pens,i&ct.PFC_BRUHS&&delete h.brushes,i&ct.PFC_DDIBS&&delete h.images,i&ct.PFC_DIBS&&delete h.imagesOpaque,i&ct.PFC_STRINGS&&delete h.strings,i&ct.PFC_FONTS&&delete h.fonts,i&ct.PFC_TEXTS&&delete h.texts,o=h}const s=qh(this.scene,o);if(!(i&ct.PFC_MOVEOBJECT))return s;let a=n,c=r;const u=this.matrix;if(u){const h=n*u[2]+r*u[5]+u[8];a=(n*u[0]+r*u[3]+u[6])/h,c=(n*u[1]+r*u[4]+u[7])/h}return s.set({x:a,y:c})}async tryOpenProject(t,n){const r=this.project.dir.resolve(t);let i;try{i=await this.kernel.openProject(r)}catch(o){if(!(o instanceof Error))throw o;console.warn(`Не удалось открыть ${r}: ${o.message}`);return}if(!i){console.warn(`${r} не существует`);return}n&&this.system.hideProjectWindows(this.project,i)}hyperClick(t,n){const{project:r}=this;switch(t.object&&console.warn("Посылка WM_HYPERJUMP не реализована"),t.mode){case ey:{if(t.target){const i=t.window||"",o=t.target,s="WS_BYSPACE",a=n.x-this.scene.x,c=n.y-this.scene.y;requestAnimationFrame(()=>{const u=this.system.createGSpace(r,i,o,s,a,c);this.connectedWindow&&u?.connectedWindow?.set({preserveX:!0})})}break}case $0:{const i=t.target;if(!i)break;this.kernel.handleExe(i);break}case z0:{const i=t.target;if(!i)break;const o=t.params?.toUpperCase().includes("/HIDEWINDOWS");this.tryOpenProject(i,o);break}case xP:break;case ty:{const i=t.target?.toUpperCase();if(!i)break;switch(i){case U0:this.kernel.closeAll();break;case H0:r.close();break;default:console.warn(`Действие '${i}' не реализовано.`);break}break}default:console.warn("Неизвестный тип гиперперехода"),console.log(t)}}toTop(){this.connectedWindow?this.connectedWindow?.toTop():this.parent?.domElement.append(this.domElement)}hide(){this.isVisible=!1,this.connectedWindow?this.connectedWindow.set({visible:!1}):this.domElement.classList.add(Ml.hidden)}show(){this.isVisible=!0,this.connectedWindow?this.connectedWindow.set({visible:!0}):this.domElement.classList.remove(Ml.hidden)}get actualScale(){return Math.max(this.scale,.1)}get inverseScale(){return 1/this.actualScale}setScale(t){if(this.scale=t,t!==1){const{actualScale:n,inverseScale:r}=this;Cd(this.domElement,{transform:`scale(${n})`,width:this.clientWidth*r+"px",height:this.clientHeight*r+"px"})}else Cd(this.domElement,{transform:"none",width:this.clientWidth+"px",height:this.clientHeight+"px"})}_hide(t){this.hiddenBy=t,this.hide()}_restoreIfHiddenBy(t){this.hiddenBy===t&&(this.hiddenBy=null,this.show())}_dispose(){this.parent?.all.delete(this),this.scene.dispose(),this.frames.forEach(t=>t.onDisposed.dispatch()),this.frames.clear(),this.connectedWindow?.remove(),this.handleClose()}_removeFrame(t){this.frames.delete(t)}close(){this.system._closeWindows(this.all)}handlePointer(t){if(!t.isPrimary||t.target!==t.currentTarget)return;this.updateMouseCoords(t.offsetX,t.offsetY);const{captureTarget:n}=this.system;if(n){const r=n.w;if(r.pointerTarget.setPointerCapture(t.pointerId),r!==this)return}this.kernel.canRunMainTask()&&this.kernel.runMainTask(this.sendMouseMessages(t))}*sendMouseMessages(t){const{captureTarget:n}=this.system,{scene:r}=this,i=Math.round(t.offsetX+r.x),o=Math.round(t.offsetY+r.y);let s=r.pick(i,o);for(;s;){const S=s.parent;if(!S)break;s=S}const a=s?.data?.hyper;let c,u;switch(t.type){case"pointerdown":{switch(t.button){case 0:const S=Date.now();this.lastTouchInfo&&S-this.lastTouchInfo.time<300&&Math.abs(i-this.lastTouchInfo.x)<10&&Math.abs(o-this.lastTouchInfo.y)<10?(u=ct.WM_LBUTTONDBLCLK,c=this.leftButtonDoubleClickSubs,this.lastTouchInfo=null):(a&&!a.disabled&&this.hyperClick(a,{x:i,y:o}),u=ct.WM_LBUTTONDOWN,c=this.leftButtonDownSubs,this.lastTouchInfo={time:S,x:i,y:o});break;case 1:u=ct.WM_MBUTTONDOWN,c=this.middleButtonDownSubs;break;case 2:u=ct.WM_RBUTTONDOWN,c=this.rightButtonDownSubs;break;default:return}break}case"pointerup":case"pointercancel":{switch(t.button){case 0:u=ct.WM_LBUTTONUP,c=this.leftButtonUpSubs;break;case 1:u=ct.WM_MBUTTONUP,c=this.middleButtonUpSubs;break;case 2:u=ct.WM_RBUTTONUP,c=this.rightButtonUpSubs;break;default:return}break}case"pointermove":{this.cursorOverHyp=!!a&&!a.disabled,this.updateCursor(),u=ct.WM_MOUSEMOVE,c=this.mouseMoveSubs;break}default:return}let h=i,f=o;const g=this.invmatrix;if(g){const S=i*g[2]+o*g[5]+g[8];h=(i*g[0]+o*g[3]+g[6])/S,f=(i*g[1]+o*g[4]+g[7])/S}const m=t.buttons&1?1:0,y=t.buttons&2?2:0,b=t.buttons&4?16:0,v=m|y|b;for(const[S,E]of c){if(!(n&&n.w===this&&n.s===S||E.has(s)||E.has(null))||!this.kernel.canHandleProjectUiEvents(S.prj))continue;const{msg:R,xpos:M,ypos:I,fwkeys:N}=S.klass.vars;R&&(S.vars.setValue(R,u),M&&S.vars.setValue(M,h),I&&S.vars.setValue(I,f),N&&S.vars.setValue(N,v),yield*S.compute(!0))}}handleKeyboard(t){t.target!==t.currentTarget||typeof t.winVKey!="number"||this.kernel.canRunMainTask()&&this.kernel.runMainTask(this.sendKeyboardMessages(t))}*sendKeyboardMessages(t){const n=t.winVKey;let r,i;switch(t.type){case"keydown":r=ct.WM_KEYDOWN,i=this.keyDownSubs;break;case"keyup":r=ct.WM_KEYUP,i=this.keyUpSubs;break;default:return}for(const s of i){const{msg:a,wvkey:c,repeat:u,scancode:h}=s.klass.vars;!a||!this.kernel.canHandleProjectUiEvents(s.prj)||(s.vars.setValue(a,r),c&&s.vars.setValue(c,n),u&&s.vars.setValue(u,1),h&&s.vars.setValue(h,0),yield*s.compute(!0))}const{winChar:o}=t;if(o)for(const s of this.keyCharSubs){const{msg:a,wvkey:c,repeat:u,scancode:h}=s.klass.vars;a&&(s.vars.setValue(a,V0),c&&s.vars.setValue(c,o),u&&s.vars.setValue(u,1),h&&s.vars.setValue(h,0),yield*s.compute(!0))}}handleInput(t){this.kernel.canRunMainTask()&&this.kernel.runMainTask(this.sendControlMessages(t))}*sendControlMessages(t){let n,r;switch(t.type){case"input":n=768,r=1024;break;case"focus":n=r=256;break;case"blur":n=r=512;break;case"click":n=r=0;break;default:return}for(const[i]of this.commandSubs){const{msg:o,_hobject:s,iditem:a,wnotifycode:c}=i.klass.vars;o&&(i.vars.setValue(o,ct.WM_COMMAND),s&&i.vars.setValue(s,t.target.key),a&&i.vars.setValue(a,0),c&&i.vars.setValue(c,r),yield*i.compute(!0))}for(const[i,o]of this.controlNotifySubs){if(!(o.has(t.target)||o.has(null)))continue;const{msg:a,_hobject:c,iditem:u,wnotifycode:h}=i.klass.vars;a&&(i.vars.setValue(a,ct.WM_CONTROLNOTIFY),c&&i.vars.setValue(c,t.target.key),u&&i.vars.setValue(u,0),h&&i.vars.setValue(h,n),yield*i.compute(!0))}}handleClose(){this.kernel.runParallelTask(this.sendSpaceDoneMessages())}*sendSpaceDoneMessages(){const{key:t,name:n}=this;for(const r of this.spaceDoneSubs){const{msg:i,_hspace:o,_windowName:s}=r.klass.vars;i&&(r.vars.setValue(i,ct.WM_SPACEDONE),o&&r.vars.setValue(o,t),s&&r.vars.setValue(s,n),yield*r.computeBranch())}}}function $le(e,t){const n=e.toUpperCase(),r=n.includes("WS_CHILD"),i=n.includes("WS_BYSPACE"),o=n.includes("WS_POPUP"),s=n.includes("WS_NORESIZE"),a=n.includes("WS_AUTOORG"),c=n.includes("WS_SPACESIZE"),u=n.includes("WS_NOCAPTION"),h=n.includes("WS_VSCROLL"),f=n.includes("WS_HSCROLL"),g=n.includes("WS_TOOL"),m=i?{...t}:{};return r&&(m.child=!0),f&&(m.hscroll=!0),h&&(m.vscroll=!0),c&&(m.size={type:"content"}),s&&(m.fixed=!0),o&&(m.popup=!0),a&&(m.autoorg=!0),u||(m.caption=!0),g&&(m.tool=!0),m}class zle{constructor(t,{sceneFactory:n,windowFactory:r}){this.kernel=t,this.scenes=new Map,this.windows=new Map,this.cursorVisible=!0,this.captureTarget=null,this.lastPickedPrimaryKey=0,this.clipboard=null,this.sceneFactory=n,this.windowFactory=r}createGSpace(t,n,r,i,o=0,s=0,a=0,c=0,u=""){let h=n;if(h){const T=this.windows.get(h);if(T)return T}let f=null,g=null,m=null;if(r){const T=this.kernel.classes.get(r),R=T?.scene;if(R)f=R,g={type:"classname",data:T.name},m=T.children;else{const M=t.dir.resolve(r),I=M.file()?.scene;I&&(f=I,g={type:"filename",data:M.toString()})}}if(!h){if(!f)return this.kernel._functionNotImplemented("Пустая сцена без имени"),null;h=f.options?.popup?"@PopupWindow":"MainWindow";const T=this.windows.get(h);if(T)return T}const y=$le(i,f?.options);!y.size&&a>0&&c>0&&(y.size={type:"fixed",width:a,height:c});const b=hs.freeKey(this.scenes),v={system:this,project:t,key:b,name:h,x:o,y:s,...f,options:y,source:g,sceneChildren:m},S=y.child&&this.windows.get(u);if(!this.kernel.iterations&&!S&&y.popup&&!y.tool)return console.warn(`Невозможно открыть всплывающее окно '${h}' в координатах ${o}, ${s}`),null;const E=S?S.createChild(v):this.createWindow(v);return this.scenes.set(b,E),this.windows.set(h,E),E}createWindow(t){const n=new TC(t),{x:r,y:i,name:o}=t,{popup:s=!1,caption:a=!1,tool:c=!1}=t.options,u=this.windowFactory.createWindow({content:n.domElement,x:r,y:i,title:o,popup:s,caption:a,closeOnFocusOut:s&&!c});return n.setConnectedWindow(u),n}setCapture(t,n){this.captureTarget={w:t,s:n}}releaseCapture(){this.captureTarget=null}showCursor(t){this.cursorVisible=t,this.windows.forEach(n=>n.updateCursor())}_closeWindows(t){this.scenes.forEach(n=>{t.has(n)&&(n===this.captureTarget?.w&&(this.captureTarget=null),n._dispose(),this.scenes.delete(n.key),this.windows.delete(n.name))})}clearAll(){this.scenes.clear(),this.windows.clear(),this.cursorVisible=!0,this.lastPickedPrimaryKey=0}hideProjectWindows(t,n){this.windows.forEach(r=>{r.project===t&&r._hide(n)})}closeProjectWindows(t){const n=new Set([...this.windows.values()].filter(r=>r.project===t));this._closeWindows(n),this.windows.forEach(r=>r._restoreIfHiddenBy(t))}}function Ule(e,t,n,r,i,o,s,a){return this.kernel.windowSystem.createGSpace(this.prj,e,n,a,r,i,o,s,t)?.key||0}function Hle(e){return this.kernel.windows.get(e)?.getClientWidth()??0}function Gle(e){return this.kernel.windows.get(e)?.getClientHeight()??0}function Wle(e){return this.kernel.scenes.get(e)?.name??""}function Kle(e){return this.kernel.windows.get(e)?.x??0}function qle(e){return this.kernel.windows.get(e)?.y??0}function Yle(e){return this.kernel.windows.get(e)?.key??0}function Xle(e){return this.kernel.windows.get(e)?.getWidth()??0}function Zle(e){return this.kernel.windows.get(e)?.getHeight()??0}function Qle(e){return this.kernel.windows.get(e)?.title??""}function Jle(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function ece(e,t,n,r){const i=this.kernel.windows.get(e);return i?(t>0?i.setScrollX(n,r):i.setScrollY(n,r),1):0}function tce(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowOrg(t,n),1):0}function nce(e,t,n,r,i){const o=this.kernel.windows.get(e);return o?(o.setWindowPos(t,n,r,i),1):0}function rce(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function ice(e,t){const n=this.kernel.windows.get(e);return n?(n.setTitle(t),1):0}function rA(e,t){const n=typeof e=="string"?this.kernel.windows.get(e):this.kernel.scenes.get(e);return n?(n.setOpacity(Xv(t,0,100)*.01),1):0}function iA(){return this.kernel._functionNotImplemented("SetWindowTransparentColor"),1}function oA(e,t){return t?(this.kernel._functionNotImplemented("SetWindowRegion"),1):0}function oce(){return this.kernel._functionNotImplemented("SetWindowOwner"),1}function sce(e,t){const n=this.kernel.windows.get(e);if(!n)return 0;switch(t){case ct.SW_HIDE:n.hide();break;case ct.SW_SHOW:case ct.SW_NORMAL:n.show();break}return 1}function ace(e){const t=this.kernel.windows.get(e);return t?(t.toTop(),1):0}function lce(e){const t=this.kernel.windows.get(e);return t?(t.close(),1):0}function cce(){return 0}function uce(e){return this.kernel.windows.has(e)?1:0}function dce(e){return this.kernel.windows.get(e)?.isVisible?1:0}function hce(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function fce(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function pce(){return this.kernel._functionNotImplemented("OpenClassScheme"),1}function gce(){return this.kernel._functionNotImplemented("CloseClassScheme"),1}function mce(){}function vce(){}function yce(){}function bce(e,t){const n=this.kernel.windows.get(e)?.source;return n&&n.type===t.toLowerCase()&&n.data||""}function wce(e){e("CreateWindowEx",{a:[fe,fe,fe,k,k,k,k,fe],r:P},Ule),e("GetClientWidth",{a:[fe],r:k},Hle),e("GetClientHeight",{a:[fe],r:k},Gle),e("GetWindowName",{a:[P],r:fe},Wle),e("GetWindowOrgX",{a:[fe],r:k},Kle),e("GetWindowOrgY",{a:[fe],r:k},qle),e("GetWindowSpace",{a:[fe],r:P},Yle),e("GetWindowWidth",{a:[fe],r:k},Xle),e("GetWindowHeight",{a:[fe],r:k},Zle),e("GetWindowTitle",{a:[fe],r:fe},Qle),e("SetClientSize",{a:[fe,k,k],r:k},Jle),e("SetScrollRange",{a:[fe,k,k,k],r:k},ece),e("SetWindowOrg",{a:[fe,k,k],r:k},tce),e("SetWindowPos",{a:[fe,k,k,k,k],r:k},nce),e("SetWindowSize",{a:[fe,k,k],r:k},rce),e("SetWindowTitle",{a:[fe,fe],r:k},ice),e("SetWindowTransparent",{a:[fe,k],r:k},rA),e("SetWindowTransparent",{a:[P,k],r:k},rA),e("SetWindowTransparentColor",{a:[fe,kn],r:k},iA),e("SetWindowTransparentColor",{a:[P,kn],r:k},iA),e("SetWindowRegion",{a:[fe,P],r:k},oA),e("SetWindowRegion",{a:[P,P],r:k},oA),e("SetWindowOwner",{a:[P,P],r:k},oce),e("ShowWindow",{a:[fe,k],r:k},sce),e("BringWindowToTop",{a:[fe],r:k},ace),e("CloseWindow",{a:[fe],r:k},lce),e("IsIconic",{a:[fe],r:k},cce),e("IsWindowExist",{a:[fe],r:k},uce),e("IsWindowVisible",{a:[fe],r:k},dce),e("LoadSpaceWindow",{a:[fe,fe,fe],r:P},hce),e("OpenSchemeWindow",{a:[fe,fe,fe],r:P},fce),e("OpenClassScheme",{a:[fe,k],r:P},pce),e("CloseClassScheme",{a:[fe],r:k},gce),e("CascadeWindows",{},mce),e("Tile",{a:[k]},vce),e("ArrangeIcons",{},yce),e("GetWindowProp",{a:[fe,fe],r:fe},bce)}const sA=[{name:"windows",register:wce,setup(e,t){if(!t)throw Error("Плагин 'windows': не указаны зависимости");const n=new zle(e,t);e.windowSystem=n,e.windows=n.windows,e.scenes=n.scenes,e.beforeProjectClosed.add(r=>n.closeProjectWindows(r)),e.beforeCompute.add(()=>n.windows.forEach(r=>r.beforeAll())),e.afterCompute.add(()=>n.windows.forEach(r=>r.afterAll())),e.beforeRender.add(()=>n.windows.forEach(r=>r.beforeRender()))}},Qae,U9,l8,k8,U7,vZ,W8,Xee,tte,yte,Pte,Aae,kee,_le,A7,Rle,x7,jle];class Sce{constructor(t,n){this.id=t,this.attrib=0,this.description="",this.defaultValue=null,this.inEquation=!1,this.parsed=null,this.name=n.name,this.type=n.type,this.set(n)}set({attrib:t=this.attrib,defaultValue:n=this.defaultValue,description:r=this.description,inEquation:i=this.inEquation}){return this.parsed=n!==null?Hp(this.type,n):null,this.attrib=t,this.defaultValue=n,this.description=r,this.inEquation=i,this}}class aA{constructor(t){this._disable=null,this._enable=null,this.orgx=null,this.orgy=null,this._hobject=null,this._objname=null,this._classname=null,this.msg=null,this.xpos=null,this.ypos=null,this.fwkeys=null,this.wvkey=null,this.repeat=null,this.scancode=null,this.nwidth=null,this.nheight=null,this._hspace=null,this._windowName=null,this.iditem=null,this.wnotifycode=null;const n=t?.map((r,i)=>[r.name.toUpperCase(),new Sce(i,r)]);if(this.list=n?.map(r=>r[1])??[],this.m=new Map(n),!!n)for(const[r,i]of n){const o=i.type,{FLOAT:s,STRING:a,HANDLE:c}=kt;r==="_ENABLE"&&o===s?this._enable=i:r==="_DISABLE"&&o===s?this._disable=i:r==="MSG"&&o===s?this.msg=i:r==="_HOBJECT"&&o===c?this._hobject=i:r==="IDITEM"&&o===s?this.iditem=i:r==="WNOTIFYCODE"&&o===s?this.wnotifycode=i:r==="NWIDTH"&&o===s?this.nwidth=i:r==="NHEIGHT"&&o===s?this.nheight=i:r==="XPOS"&&o===s?this.xpos=i:r==="YPOS"&&o===s?this.ypos=i:r==="FWKEYS"&&o===s?this.fwkeys=i:r==="ORGX"&&o===s?this.orgx=i:r==="ORGY"&&o===s?this.orgy=i:r==="_OBJNAME"&&o===a?this._objname=i:r==="_CLASSNAME"&&o===a?this._classname=i:r==="WVKEY"&&o===s?this.wvkey=i:r==="REPEAT"&&o===s?this.repeat=i:r==="SCANCODE"&&o===s?this.scancode=i:r==="_HSPACE"&&o===c?this._hspace=i:r==="_WINDOWNAME"&&o===a&&(this._windowName=i)}}get(t){return this.m.get(t.toUpperCase())??null}}class Cce{constructor({compiler:t,data:n,file:r,projectId:i,modelGlobals:o}){this.onChildrenChanged=new aa,this.main=null,this.defers=[],this.equations=[],this.transpiledCode=null,this.isCompiled=!1;const{name:s,transpiled:a,id:c,vars:u}=n;this.projectId=i,this.compiler=t,this.modelGlobals=o,this.file=r,this.name=s,this.nameUC=s.toUpperCase(),this.vars=new aA(u),this.transpiledCode=a??null,this.id=c,this.children=n.children||[],this.connections=n.links||[],this.scene=n.scene||null,this.image=n.image||null,this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1}set({vars:t,children:n=this.children,links:r=this.connections,scene:i=this.scene,image:o=this.image,modelText:s=this.modelText,isFunction:a=this.isFunction}){return t&&(this.vars=new aA(t)),this.modelText!==s&&(this.isCompiled=!1),this.children!==n&&(this.children=n,this.onChildrenChanged.dispatch(n)),this.connections=r,this.scene=i,this.image=o,this.modelText=s,this.isFunction=a,this}compile(){if(this.isCompiled)return;this.isCompiled=!0;let t;const{compiler:n}=this;if(this.transpiledCode)Ti.debugCompiler&&console.log(`Компиляция (кешировано) ${this.name} (${this.vars.list.length} переменных)`),t=this.transpiledCode,this.transpiledCode=null;else{const i=this.file.path.toString().slice(3);Ti.debugCompiler&&console.log(`Компиляция '${this.name}' ('${i}'): ${this.vars.list.length} переменных`);try{const o=n.transpile(this.modelText,this.name,i);Ti.debugCompiler&&o.bugs.length&&console.warn(`${this.name}:
${o.bugs.map(([c])=>` -${c}`).join(`
`)}`);const s=this.vars,a=o.vars.map(c=>{const u=s.get(c.name);if(!u)return c;const{defaultValue:h,description:f}=u;return{...c,defaultValue:h,description:f}});this.set({vars:a,isFunction:o.isFunction}),t=o}catch(o){throw o instanceof oy?Error(`Ошибка компиляции '${this.name}' ('${i}'): '${o.message}'`):o}}const{modelGlobals:r}=this;this.main=t.mainText?n.compileGenerator(t.mainText).bind(null,r):null,this.defers=t.defersTexts?.map(i=>n.compile(i).bind(null,r))||[],this.equations=t.equationsTexts?.map(i=>n.compile(i).bind(null,r))||[]}getUserFunctionSignature(){const t=this.vars.list;return{type:"user",name:this.name,argTypes:t.filter(n=>n.attrib&ct.VF_ARGUMENT).map(n=>n.type),retType:t.find(n=>n.attrib&ct.VF_RETURN)?.type??null}}}class xce{constructor(){this.files=new WeakSet,this.m=new Map}add(t){const{nameUC:n}=t,r=this.m.get(n);if(r)throw Error(`Конфликт имен имиджей: '${t.name}' ('${t.file.path}') уже существует в файле '${r.file.path}'`);return this.m.set(n,t),this.files.add(t.file),this}get(t){return this.m.get(t.toUpperCase())??null}hasFile(t){return this.files.has(t)}unload(t){this.m.forEach(n=>n.projectId===t&&this.files.delete(n.file)),this.m=new Map(Np(this.m,n=>n[1].projectId!==t))}}class _ce{alloc(t){const n=new Float64Array(t.floats),r=new Int32Array(t.ints),i=Array.from({length:t.strings},()=>"");this.newFloats=n,this.oldFloats=n.slice(),this.newInts=r,this.oldInts=r.slice(),this.newStrings=i,this.oldStrings=i.slice()}sync(){this.oldFloats.set(this.newFloats),this.oldInts.set(this.newInts);const{newStrings:t,oldStrings:n}=this;for(let r=0;r<t.length;++r)n[r]=t[r]}}class Ece{constructor(t){this.newFloats=this.oldFloats=new Float64Array(t.floats),this.newInts=this.oldInts=new Int32Array(t.ints),this.newStrings=this.oldStrings=Array.from({length:t.strings},()=>"")}}class lA{constructor(t,n){this.map=t,this.values=n}getNewValue(t){const{newFloats:n,newInts:r,newStrings:i}=this.values,o=this.map[t.id];switch(t.type){case kt.FLOAT:return n[o];case kt.HANDLE:case kt.COLORREF:return r[o];case kt.STRING:return i[o]}}setValue(t,n){const{newFloats:r,oldFloats:i,newInts:o,oldInts:s,newStrings:a,oldStrings:c}=this.values,u=this.map[t.id];switch(t.type){case kt.FLOAT:if(typeof n!="number")return!1;r[u]=i[u]=n;break;case kt.HANDLE:case kt.COLORREF:if(typeof n!="number")return!1;o[u]=s[u]=n;break;case kt.STRING:if(typeof n!="string")return!1;a[u]=c[u]=n;break}return!0}}class cA{constructor(){this.floats=0,this.ints=0,this.strings=0}add(t){switch(t.type){case kt.FLOAT:return this.floats++;case kt.HANDLE:case kt.COLORREF:return this.ints++;case kt.STRING:return this.strings++}}}class Tce{constructor(t,n){this.v=t,this.a=n,this.index=-1,this.connected=new Set}propagateIndex(t){this.index>=0||(this.index=t,this.connected.forEach(n=>n.propagateIndex(t)))}connectWith(t){this.connected.add(t),t.connected.add(this)}getIndex(){return this.index<0&&this.propagateIndex(this.a.add(this.v)),this.index}}function Mce(e,t){const{children:n}=e;t.forEach(({nodes:[r,i],vars:o,attrib:s=0})=>{if(s&Jv)return;let a=`Имидж ${e.klass.name}: связь #${r}-#${i}: `;const c=r>0?n.find(h=>h.ndata.key===r):e;if(!c){console.warn(a+`Дочерний имидж #${r} не существует`);return}const u=i>0?n.find(h=>h.ndata.key===i):e;if(!u){console.warn(a+`Дочерний имидж #${i} не существует`);return}a=`Имидж ${e.klass.name}: связь #${r} (${c.klass.name}) - #${i} (${u.klass.name}): `,o.forEach(([h,f])=>{const g=c.klass.vars.get(h);if(!g){console.warn(a+`Переменная ${c.klass.name}:${h} не существует`);return}const m=u.klass.vars.get(f);if(!m){console.warn(a+`Переменная ${u.klass.name}:${f} не существует`);return}if(g.type!==m.type){console.warn(a+`Типы переменных ${c.klass.name}:${h} и ${u.klass.name}:${f} не совпадают`);return}c.vars[g.id].connectWith(u.vars[m.id])})})}function uA(e,t,n,r=null){e.compile();const i=e.vars.list.map(a=>new Tce(a,n)),o=e.children.map(a=>{const c=t.get(a.klass);if(!c)throw Error(`Подимидж ${a.klass} #${a.key} имиджа ${e.name} не существует`);return uA(c,t,n,a)}),s={klass:e,ndata:r,vars:i,children:o};return e.connections.length&&Mce(s,e.connections),s}function dA(e,t,n){const r=e.vars.map(o=>{const s=o.getIndex();return o.v.inEquation&&n.add(s),s}),i=e.children.map(o=>dA(o,t,n));return t.createSchema({...e,varMap:r,children:i,prj:t})}function Oce(){return!1}function Rce(e,t){return e.values.newFloats[e.map[t]]>0}function Ice(e,t){return e.values.newFloats[e.map[t]]<=0}const hA={done:!0,value:void 0};class kce{constructor(t){this.root=t,this.current=null}nextActiveNode(){let t=this.current;if(!t)return this.current=this.root.getFirstDeepLeftSchema();if(t===this.root)return this.current=null;for(;;){const n=t.nextSibling;if(!n)return this.current=t.parent;if(t=n,!t.isDisabled())return this.current=t.getFirstDeepLeftSchema()}}getCurrentNode(){return this.current}}class Pce{constructor(t){this.curMainIterator=null,this.treeIterator=new kce(t)}[Symbol.iterator](){return this}throw(t){throw t}return(){throw Error("Генератор был неожиданно остановлен")}next(t){if(this.curMainIterator){const n=this.curMainIterator.next(t);if(!n.done)return n;this.curMainIterator=null}for(;;){const n=this.treeIterator.nextActiveNode();if(!n)return hA;const r=n.main();if(!r)continue;const i=r.next();if(!i.done)return this.curMainIterator=r,i}}getCurrentNode(){return this.treeIterator.getCurrentNode()}}class Dce{constructor(t,n){this.branchIterator=null,this.root=t,this.ignoreDisable=n}[Symbol.iterator](){return this}throw(t){throw t}return(){throw Error("Генератор был неожиданно остановлен")}next(t){if(!this.branchIterator){if(this.setup(),!this.ignoreDisable&&this.root.isDisabled())return this.finalize(),hA;this.branchIterator=this.root.computeBranch()}const n=this.branchIterator.next(t);return n.done&&this.finalize(),n}setup(){this.root.prj.beforeCompute()}finalize(){const{root:t}=this;t.prj.solveGlobalEquations(),t.computeSchemaDefers(),t.prj.afterCompute()}getCurrentNode(){return this.branchIterator?.getCurrentNode()||null}}const fA=new WeakMap;class Ace{constructor({prj:t,klass:n,ndata:r,vars:i,children:o}){this.nextSibling=null,this.parent=null,this.isDisabled=Oce,this.updateChildNodeData=u=>{u.length===this.children.length&&u.forEach((h,f)=>{const g=this.children[f],m=g.ndata;m.key!==h.key||m.klass!==h.klass||(m.name&&this.resolveMap.delete(m.name),h.name&&this.resolveMap.set(h.name.toUpperCase(),g),g.ndata=h)})},this.prj=t,this.klass=n,this.ndata=r,this.vars=i,this.children=o;const{_disable:s,_enable:a}=n.vars;s&&(!a||s.id<a.id)?this.isDisabled=Rce.bind(null,this.vars,s.id):a&&(!s||a.id<s.id)&&(this.isDisabled=Ice.bind(null,this.vars,a.id)),this.resolveMap=new Map([["",this]]);let c;for(const u of o){c&&(c.nextSibling=u),c=u,u.parent=this,u.resolveMap.set("..",this);const{key:h,name:f}=u.ndata;this.resolveMap.set("#"+h,u),f&&this.resolveMap.set(f.toUpperCase(),u)}n.onChildrenChanged.add(this.updateChildNodeData)}get kernel(){return this.prj.kernel}resolve(t){if(t.length===0)return this;const n=t.toUpperCase().split("\\");let r=t[0]==="\\"?this.prj.root:this;for(const i of n){const o=r.resolveMap.get(i);if(!o)return null;r=o}return r}resolveMany(t,n){if(t){const r=this.resolve(t);return!r||n&&r.klass!==n?[]:[r]}return n?this.prj.getKlassSchemas(n):[]}initValues(t){this.children.forEach(r=>r.initValues());const{vars:n}=this.klass;return n.list.forEach(r=>{let i;if(r.parsed!==null)i=r.parsed;else switch(r){case n.orgx:i=this.ndata?.x??0;break;case n.orgy:i=this.ndata?.y??0;break;case n._hobject:i=this.ndata?.key??0;break;case n._objname:i=this.ndata?.name??"";break;case n._classname:i=this.klass.name;break;default:if(!t)return;i=r.type===kt.STRING?"":0;break}this.vars.setValue(r,i)}),this}applyValues(t){const{values:n,klassId:r}=t;if(n?.length)if(this.klass.id===r){const{vars:i}=this.klass;n.forEach(({name:o,value:s})=>{const a=i.get(o);if(!a)return;const c=Hp(a.type,s);c!==null&&this.vars.setValue(a,c)})}else console.warn(`Пропуск установки stt для ${this.path()} (id ${this.klass.id}): ожидалось id ${r} (${t.klass})`);return t.children?.forEach(i=>this.children.find(o=>o.ndata.key===i.key)?.applyValues(i)),this}getValues(){const{klass:t,ndata:n}=this,r=this.children.map(o=>o.getValues()),i=t.vars.list.map(o=>{const s=jP(o.type,this.vars.getNewValue(o));return{name:o.name,value:s}});return{key:n?.key??0,klass:t.name,klassId:t.id,values:i,children:r}}computeAndPushVector(t,n,{a:r,b:i}){const{vars:o}=this,{oldFloats:s,newFloats:a}=o.values;let c=!1;const u=t(this,o),h=n.map(f=>{a[f]=s[f]=1;const g=u-t(this,o);return a[f]=s[f]=0,g!==0&&(c=!0),g});c&&(r.push(h),i.push(u))}computeEquationVectors(t,n){this.children.forEach(r=>r.computeEquationVectors(t,n)),this.klass.equations.forEach(r=>this.computeAndPushVector(r,t,n))}computeSchemaDefers(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchemaDefers()),this.klass.defers.forEach(t=>t(this,this.vars))}getFirstDeepLeftSchema(){let t=this;for(;;){let n=null;for(const r of t.children)if(!r.isDisabled()){n=r;break}if(!n)break;t=n}return t}main(){return this.klass.main?.(this,this.vars)||null}computeBranch(){return new Pce(this)}compute(t){return new Dce(this,t)}*userFunction(t,n){const r=this.kernel.classes.get(t);if(!r)throw Error(`Функция не существует: ${t}`);if(r.compile(),!r.isFunction)throw Error(`Имидж ${t} существует, но не является функцией`);const i=r.vars.list;if(n.length>i.length)throw Error(`${t}: ${n.length} аргументов, но функция имеет ${i.length} переменных`);let o=fA.get(i);if(!o){const c=new cA;o={map:i.map(u=>c.add(u)),varCount:c},fA.set(i,o)}const s=new lA(o.map,new Ece(o.varCount));n.forEach((c,u)=>{const h=i[u];if(!s.setValue(h,c))throw Error(`Аргумент ${u} имеет тип ${typeof c}; ожидалось ${h.type}`)}),r.main&&(yield*r.main(this,s));const a=i.find(c=>c.attrib&ct.VF_RETURN);if(a)return s.getNewValue(a)}solveEquationsFor(t){this.prj.solveEquationsFor(t)}path(){if(this===this.prj.root)return this.klass.name;const t=[this];for(;;){const n=t[0].resolveMap.get("..");if(n===this.prj.root)break;t.unshift(n)}return t.map(n=>`${n.klass.name} (#${n.ndata.key})`).join(" - ")}setNewValue(t,n){const{newFloats:r,newInts:i,newStrings:o}=this.vars.values,s=this.vars.map[t.id];switch(t.type){case kt.FLOAT:if(typeof n!="number")return!1;r[s]=n;break;case kt.HANDLE:case kt.COLORREF:if(typeof n!="number")return!1;i[s]=n;break;case kt.STRING:if(typeof n!="string")return!1;o[s]=n;break}return!0}getVarValueFHC(t){const{newFloats:n,newInts:r}=this.vars.values,i=this.vars.map[t.id];switch(t.type){case kt.FLOAT:return n[i];case kt.HANDLE:case kt.COLORREF:return r[i];default:return null}}getVarValueS(t){return t.type===kt.STRING?this.vars.values.newStrings[this.vars.map[t.id]]:null}_warn(t){console.warn(`${this.path()}: ${t}`)}}class Lce{constructor({id:t,dir:n,rootKlass:r,state:i,kernel:o,settings:s}){this.memory=new _ce,this.classTypes=new WeakMap,this.id=t,this.dir=n,this.kernel=o,this.settings=s;const a=new Set,c=new cA,u=uA(r,o.classes,c),h=this.root=dA(u,this,a);this.memory.alloc(c),h.initValues(),i&&h.applyValues(i),this.equationVars=Array.from(a)}createSchema({varMap:t,...n}){const r=new Ace({...n,vars:new lA(t,this.memory)}),i=this.classTypes.get(r.klass);return i?i.push(r):this.classTypes.set(r.klass,[r]),r}getKlassSchemas(t){return this.classTypes.get(t)??[]}solveGlobalEquations(){const{equationVars:t}=this;t.length&&this.solveEquationsFor(t)}solveEquationsFor(t){const{oldFloats:n,newFloats:r}=this.memory,i=t.map(s=>{const a=n[s];return r[s]=n[s]=0,a}),o={a:[],b:[]};this.root.computeEquationVectors(t,o),t.forEach((s,a)=>n[s]=i[a]);try{const s=vq(o);t.forEach((a,c)=>r[a]=s[c])}catch{t.forEach(a=>r[a]=0)}}beforeCompute(){this.kernel.beforeCompute.dispatch()}afterCompute(){this.memory.sync(),this.kernel.afterCompute.dispatch()}close(){this.kernel.closeProject(this)}}let MC=class{constructor(t=""){this.name=t,this.type="folder",this.items=new Map}};class OC{constructor(t,n){this.root=t,this.stdlibDir=n,this.uploadsDir=new Ls(this.root,["C:","Uploads"]),this.downloadsDir=new Ls(this.root,["C:","Downloads"]),this.appData=new Ls(this.root,["C:","Users","User","AppData","Roaming"]),this.loadedLibs=new Set,this.uploadsDir.create("folder"),this.downloadsDir.create("folder")}static async create(){const t=new MC,n=new Ls(t,["C:","library"]),{files:r}=await _y({src:lP});return r.forEach(i=>n.resolve(i.path).createWithDirs(i)),new OC(t,n)}async mountLibrary(t){if(this.loadedLibs.size===this.loadedLibs.add(t.src).size)return;const{files:n}=t.data||await _y(t,{cache:Ti.cache});n.forEach(r=>this.path(t.mount?`${t.mount}/${r.path}`:r.path).createWithDirs(r))}path(t){return new Ls(this.root,["D:"].concat(t.split("/")))}}class pA{constructor(t,n={}){this.path=t,this.type="file",this.size=null,this.cls=null,this.image=null,this.scene=null,this.video=null,this.audio=null,this.ttf=null,this.cursor=null,this.stt=null,this.mat=null,this.base64=null,this.mesh=null,this.set(n)}set({size:t=this.size,cls:n=this.cls,image:r=this.image,scene:i=this.scene,video:o=this.video,audio:s=this.audio,ttf:a=this.ttf,cursor:c=this.cursor,stt:u=this.stt,mat:h=this.mat,mesh:f=this.mesh,base64:g=this.base64}){return this.size=t,this.cls=n,this.image=r,this.scene=i,this.video=o,this.audio=s,this.ttf=a,this.cursor=c,this.stt=u,this.mat=h,this.mesh=f,this.base64=g,this}}class Ls{constructor(t,n,r){if(this.fs=t,this.parts=n,this.str=null,n[0].length!==2&&n[0][1]!==":")throw Error("Неправильное имя тома диска");this.partsUC=r??n.map(i=>i.toUpperCase())}static splitPath(t){return t.split(/[/\\]/).map(n=>n.trim()).filter(n=>n.length>0)}resolve(t){const n=Ls.splitPath(t);if(!n.length)return this;const r=n[0].length===2&&n[0][1]===":",i=r?[n[0]]:this.parts.slice(),o=r?[n[0].toUpperCase()]:this.partsUC.slice();for(let s=r?1:0;s<n.length;++s){const a=n[s];a===".."?i.length>1&&(i.pop(),o.pop()):a!=="."&&(i.push(a),o.push(a.toUpperCase()))}return new Ls(this.fs,i,o)}toString(){return this.str?this.str:this.str=this.parts.join("\\")}basename(){return this.parts[this.parts.length-1]}equals(t){if(this===t)return!0;const n=this.partsUC,r=t.partsUC;if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}startsWith(t){const n=this.partsUC,r=t.partsUC;if(n.length<r.length)return!1;for(let i=0;i<r.length;++i)if(n[i]!==r[i])return!1;return!0}static getFolder(t,n,r){let i=t;for(let o=0;o<n.length-(r?0:1);++o){const s=i.items.get(n[o]);if(!s||s.type!=="folder")return null;i=s}return i}create(t,n){const{partsUC:r}=this,i=Ls.getFolder(this.fs,r);if(!i)return null;const o=r[r.length-1],s=i.items.get(o);if(t==="folder")return s||i.items.set(o,new MC),this;if(s)return s.type!=="file"?null:(n&&s.set(n),s);const a=new pA(this,n);return i.items.set(o,a),a}createWithDirs(t){const{parts:n,partsUC:r}=this;let i=this.fs;for(let c=0;c<n.length-1;++c){let u=i.items.get(r[c]);if(!u)u=new MC(n[c]),i.items.set(r[c],u);else if(u.type==="file")throw Error(`Невозможно создать директорию ${this}: файл ${u.path} уже существует.`);i=u}const o=r[r.length-1];if(i.items.has(o))throw Error(`Невозможно создать директорию ${this}: файл уже существует.`);const a=new pA(this,t);return i.items.set(o,a),a}fileExist(){const{partsUC:t}=this,n=Ls.getFolder(this.fs,t);if(!n)return!1;const r=t[t.length-1];return n.items.get(r)?.type==="file"}file(){const{partsUC:t}=this,n=Ls.getFolder(this.fs,t);if(!n)return Ti.debugFile&&console.warn(`${this.toString()} не существует`),null;const r=t[t.length-1],i=n.items.get(r);return i?i.type!=="file"?(Ti.debugFile&&console.warn(`${this.toString()} является каталогом`),null):i:(Ti.debugFile&&console.warn(`${this.toString()} не существует`),null)}forEach(t,n){const{partsUC:r}=this,i=Ls.getFolder(this.fs,r,!0);i&&i.items.forEach(function o(s){s.type==="folder"?n&&s.items.forEach(o):t(s)})}matchGlob(){const{partsUC:t}=this,n=Ls.getFolder(this.fs,t);if(!n)return[];const r=t[t.length-1];if(r.includes("*")){const[s,a]=r.split("*");let c;return!s&&!a?c=[".","..",...n.items]:c=[...n.items].filter(([u])=>u.startsWith(s)&&u.endsWith(a)),c.map(u=>{if(typeof u=="string")return{name:u,size:0};const h=u[1];return h.type==="folder"?{name:h.name,size:0}:{name:h.path.basename(),size:h.size??0}})}const i=n.items.get(r);return i?[i.type==="folder"?{name:i.name,size:0}:{name:i.path.basename(),size:i.size??0}]:[]}}function Nce(e=[]){const t=new PP;return sA.concat(e).forEach(n=>n.register(t.addFunc.bind(t))),t}function gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Bce={};function Ey(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:Bce}var gA=Object.assign,Ty=Object.getOwnPropertyDescriptor,Ol=Object.defineProperty,My=Object.prototype,RC=[];Object.freeze(RC);var IC={};Object.freeze(IC);var Fce=typeof Proxy<"u",jce=Object.toString();function mA(){Fce||gr("Proxy not available")}function vA(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var nf=function(){};function Za(e){return typeof e=="function"}function Rd(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Oy(e){return e!==null&&typeof e=="object"}function uu(e){if(!Oy(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===jce}function yA(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Ry(e,t,n){Ol(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function bA(e,t,n){Ol(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Id(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Oy(r)&&r[n]===!0}}function rf(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Vce(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function bc(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var wA=typeof Object.getOwnPropertySymbols<"u";function $ce(e){var t=Object.keys(e);if(!wA)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return My.propertyIsEnumerable.call(e,r)})):t}var Iy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:wA?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function SA(e){return e===null?null:typeof e=="object"?""+e:e}function wc(e,t){return My.hasOwnProperty.call(e,t)}var zce=Object.getOwnPropertyDescriptors||function(t){var n={};return Iy(t).forEach(function(r){n[r]=Ty(t,r)}),n};function Ns(e,t){return!!(e&t)}function Bs(e,t,n){return n?e|=t:e&=~t,e}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Uce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gce(r.key),r)}}function of(e,t,n){return t&&Uce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Wce(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kd.apply(null,arguments)}function xA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kC(e,t)}function Hce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Wce(e,t){if(e){if(typeof e=="string")return CA(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CA(e,t):void 0}}var Rl=Symbol("mobx-stored-annotations");function Il(e){function t(n,r){if(rg(r))return e.decorate_20223_(n,r);ng(n,r,e)}return Object.assign(t,e)}function ng(e,t,n){wc(e,Rl)||Ry(e,Rl,kd({},e[Rl])),Jce(n)||(e[Rl][t]=n)}function Kce(e){return wc(e,Rl)||Ry(e,Rl,kd({},e[Rl])),e[Rl]}function rg(e){return typeof e=="object"&&typeof e.kind=="string"}var jn=Symbol("mobx administration"),du=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=xr.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return zA(this)},t.reportChanged=function(){ca(),UA(this),ua()},t.toString=function(){return this.name_},of(e,[{key:"isBeingObserved",get:function(){return Ns(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ns(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ns(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Bs(this.flags_,e.diffValueMask_,r===1)}}])})();du.isBeingObservedMask_=1,du.isPendingUnobservationMask_=2,du.diffValueMask_=4;var PC=Id("Atom",du);function _A(e,t,n){t===void 0&&(t=nf),n===void 0&&(n=nf);var r=new du(e);return t!==nf&&ide(r,t),n!==nf&&XA(r,n),r}function qce(e,t){return vL(e,t)}function Yce(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var af={structural:qce,default:Yce};function Pd(e,t,n){return tL(e)?e:Array.isArray(e)?Be.array(e,{name:n}):uu(e)?Be.object(e,void 0,{name:n}):rf(e)?Be.map(e,{name:n}):bc(e)?Be.set(e,{name:n}):typeof e=="function"&&!lg(e)&&!cg(e)?yA(e)?Mi(e):ag(n,e):e}function Xce(e,t,n){if(e==null||Yy(e)||Ky(e)||Nd(e)||Dl(e))return e;if(Array.isArray(e))return Be.array(e,{name:n,deep:!1});if(uu(e))return Be.object(e,void 0,{name:n,deep:!1});if(rf(e))return Be.map(e,{name:n,deep:!1});if(bc(e))return Be.set(e,{name:n,deep:!1})}function ky(e){return e}function Zce(e,t){return vL(e,t)?t:e}var Qce="override";function Jce(e){return e.annotationType_===Qce}function ig(e,t){return{annotationType_:e,options_:t,make_:eue,extend_:tue,decorate_20223_:nue}}function eue(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(lg(n.value))return 1;var o=EA(e,this,t,n,!1);return Ol(r,t,o),2}function tue(e,t,n,r){var i=EA(e,this,t,n);return e.defineProperty_(t,i,r)}function nue(e,t){var n=t.kind,r=t.name,i=t.addInitializer,o=this,s=function(u){var h,f,g,m;return Dd((h=(f=o.options_)==null?void 0:f.name)!=null?h:r.toString(),u,(g=(m=o.options_)==null?void 0:m.autoAction)!=null?g:!1)};if(n=="field")return function(c){var u,h=c;return lg(h)||(h=s(h)),(u=o.options_)!=null&&u.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(n=="method"){var a;return lg(e)||(e=s(e)),(a=this.options_)!=null&&a.bound&&i(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}gr("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function rue(e,t,n,r){t.annotationType_,r.value}function EA(e,t,n,r,i){var o,s,a,c,u,h,f;i===void 0&&(i=Ut.safeDescriptors),rue(e,t,n,r);var g=r.value;if((o=t.options_)!=null&&o.bound){var m;g=g.bind((m=e.proxy_)!=null?m:e.target_)}return{value:Dd((s=(a=t.options_)==null?void 0:a.name)!=null?s:n.toString(),g,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(h=t.options_)!=null&&h.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function TA(e,t){return{annotationType_:e,options_:t,make_:iue,extend_:oue,decorate_20223_:sue}}function iue(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!wc(e.target_,t)||!cg(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(cg(n.value))return 1;var o=MA(e,this,t,n,!1,!1);return Ol(r,t,o),2}function oue(e,t,n,r){var i,o=MA(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,o,r)}function sue(e,t){var n,r=t.name,i=t.addInitializer;return cg(e)||(e=Mi(e)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,s=o[r].bind(o);s.isMobXFlow=!0,o[r]=s}),e}function aue(e,t,n,r){t.annotationType_,r.value}function MA(e,t,n,r,i,o){o===void 0&&(o=Ut.safeDescriptors),aue(e,t,n,r);var s=r.value;if(cg(s)||(s=Mi(s)),i){var a;s=s.bind((a=e.proxy_)!=null?a:e.target_),s.isMobXFlow=!0}return{value:s,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function DC(e,t){return{annotationType_:e,options_:t,make_:lue,extend_:cue,decorate_20223_:uue}}function lue(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function cue(e,t,n,r){return due(e,this,t,n),e.defineComputedProperty_(t,kd({},this.options_,{get:n.get,set:n.set}),r)}function uue(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var o=cf(this)[jn],s=kd({},n.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+r.toString()),o.values_.set(r,new Qa(s))}),function(){return this[jn].getObservablePropValue_(r)}}function due(e,t,n,r){t.annotationType_,r.get}function Py(e,t){return{annotationType_:e,options_:t,make_:hue,extend_:fue,decorate_20223_:pue}}function hue(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function fue(e,t,n,r){var i,o;return gue(e,this),e.defineObservableProperty_(t,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:Pd,r)}function pue(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function s(a,c){var u,h,f=cf(a)[jn],g=new Ad(c,(u=(h=n.options_)==null?void 0:h.enhancer)!=null?u:Pd,"ObservableObject."+i.toString(),!1);f.values_.set(i,g),o.add(a)}if(r=="accessor")return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[jn].getObservablePropValue_(i)},set:function(c){return o.has(this)||s(this,c),this[jn].setObservablePropValue_(i,c)},init:function(c){return o.has(this)||s(this,c),c}}}function gue(e,t,n,r){t.annotationType_}var mue="true",vue=OA();function OA(e){return{annotationType_:mue,options_:e,make_:yue,extend_:bue,decorate_20223_:wue}}function yue(e,t,n,r){var i,o;if(n.get)return mi.make_(e,t,n,r);if(n.set){var s=Dd(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:Ut.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(Ol(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(yA(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?Mi.bound:Mi;return u.make_(e,t,n,r)}var h=(a=this.options_)!=null&&a.autoBind?ag.bound:ag;return h.make_(e,t,n,r)}var f=((i=this.options_)==null?void 0:i.deep)===!1?Be.ref:Be;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var g;n.value=n.value.bind((g=e.proxy_)!=null?g:e.target_)}return f.make_(e,t,n,r)}function bue(e,t,n,r){var i,o;if(n.get)return mi.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:Ut.safeDescriptors?e.isPlainObject_:!0,set:Dd(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var s;n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)}var a=((o=this.options_)==null?void 0:o.deep)===!1?Be.ref:Be;return a.extend_(e,t,n,r)}function wue(e,t){gr("'"+this.annotationType_+"' cannot be used as a decorator")}var Sue="observable",Cue="observable.ref",xue="observable.shallow",_ue="observable.struct",RA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(RA);function Dy(e){return e||RA}var AC=Py(Sue),Eue=Py(Cue,{enhancer:ky}),Tue=Py(xue,{enhancer:Xce}),Mue=Py(_ue,{enhancer:Zce}),IA=Il(AC);function Ay(e){return e.deep===!0?Pd:e.deep===!1?ky:Rue(e.defaultDecorator)}function Oue(e){var t;return e?(t=e.defaultDecorator)!=null?t:OA(e):void 0}function Rue(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Pd}function kA(e,t,n){if(rg(t))return AC.decorate_20223_(e,t);if(Rd(t)){ng(e,t,AC);return}return tL(e)?e:uu(e)?Be.object(e,t,n):Array.isArray(e)?Be.array(e,t):rf(e)?Be.map(e,t):bc(e)?Be.set(e,t):typeof e=="object"&&e!==null?e:Be.box(e,t)}gA(kA,IA);var Iue={box:function(t,n){var r=Dy(n);return new Ad(t,Ay(r),r.name,!0,r.equals)},array:function(t,n){var r=Dy(n);return(Ut.useProxies===!1||r.proxy===!1?Ode:yde)(t,Ay(r),r.name)},map:function(t,n){var r=Dy(n);return new iL(t,Ay(r),r.name)},set:function(t,n){var r=Dy(n);return new sL(t,Ay(r),r.name)},object:function(t,n,r){return Bd(function(){return lde(Ut.useProxies===!1||r?.proxy===!1?cf({},r):gde({},r),t,n)})},ref:Il(Eue),shallow:Il(Tue),deep:IA,struct:Il(Mue)},Be=gA(kA,Iue),PA="computed",kue="computed.struct",LC=DC(PA),Pue=DC(kue,{equals:af.structural}),mi=function(t,n){if(rg(n))return LC.decorate_20223_(t,n);if(Rd(n))return ng(t,n,LC);if(uu(t))return Il(DC(PA,t));var r=uu(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Qa(r)};Object.assign(mi,LC),mi.struct=Il(Pue);var DA,AA,Ly=0,Due=1,Aue=(DA=(AA=Ty(function(){},"name"))==null?void 0:AA.configurable)!=null?DA:!1,LA={value:"action",configurable:!0,writable:!1,enumerable:!1};function Dd(e,t,n,r){n===void 0&&(n=!1);function i(){return Lue(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},Aue&&(LA.value=e,Ol(i,"name",LA)),i}function Lue(e,t,n,r,i){var o=Nue(e,t);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{Bue(o)}}function Nue(e,t,n,r){var i=!1,o=0,s=Ut.trackingDerivation,a=!t||!s;ca();var c=Ut.allowStateChanges;a&&(Ld(),c=Ny(!0));var u=FC(!0),h={runAsAction_:a,prevDerivation_:s,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:i,startTime_:o,actionId_:Due++,parentActionId_:Ly};return Ly=h.actionId_,h}function Bue(e){Ly!==e.actionId_&&gr(30),Ly=e.parentActionId_,e.error_!==void 0&&(Ut.suppressReactionErrors=!0),By(e.prevAllowStateChanges_),og(e.prevAllowStateReads_),ua(),e.runAsAction_&&Sc(e.prevDerivation_),Ut.suppressReactionErrors=!1}function Fue(e,t){var n=Ny(e);try{return t()}finally{By(n)}}function Ny(e){var t=Ut.allowStateChanges;return Ut.allowStateChanges=e,t}function By(e){Ut.allowStateChanges=e}var Ad=(function(e){function t(r,i,o,s,a){var c;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=af.default),c=e.call(this,o)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=i,c.name_=o,c.equals=a,c.value_=i(r,void 0,o),c}xA(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==Ut.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(da(this)){var o=ha(this,{object:this,type:Pl,newValue:i});if(!o)return Ut.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?Ut.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),Ja(this)&&el(this,{type:Pl,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return ug(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Pl,newValue:this.value_,oldValue:void 0}),dg(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return SA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(du),Qa=(function(){function e(n){this.dependenciesState_=xr.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=xr.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Vy(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=jy.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||gr(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Dd("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?af.structural:af.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Uue(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&gr(32,this.name_,this.derivation),Ut.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)NC(this)&&(this.warnAboutUntrackedRead_(),ca(),this.value_=this.computeValue_(!1),ua());else if(zA(this),NC(this)){var r=Ut.trackingContext;this.keepAlive_&&!r&&(Ut.trackingContext=this),this.trackAndCompute()&&zue(this),Ut.trackingContext=r}var i=this.value_;if($y(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&gr(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else gr(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===xr.NOT_TRACKING_,o=this.computeValue_(!0),s=i||$y(r)||$y(o)||!this.equals_(r,o);return s&&(this.value_=o),s},t.computeValue_=function(r){this.isComputing=!0;var i=Ny(!1),o;if(r)o=NA(this,this.derivation,this.scope_);else if(Ut.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(s){o=new Vy(s)}return By(i),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(BC(this),this.value_=void 0)},t.observe_=function(r,i){var o=this,s=!0,a=void 0;return qA(function(){var c=o.get();if(!s||i){var u=Ld();r({observableKind:"computed",debugObjectName:o.name_,type:Pl,object:o,newValue:c,oldValue:a}),Sc(u)}s=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return SA(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},of(e,[{key:"isComputing",get:function(){return Ns(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Ns(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Ns(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ns(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ns(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Bs(this.flags_,e.diffValueMask_,r===1)}}])})();Qa.isComputingMask_=1,Qa.isRunningSetterMask_=2,Qa.isBeingObservedMask_=4,Qa.isPendingUnobservationMask_=8,Qa.diffValueMask_=16;var Fy=Id("ComputedValue",Qa),xr;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(xr||(xr={}));var jy;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(jy||(jy={}));var Vy=function(t){this.cause=void 0,this.cause=t};function $y(e){return e instanceof Vy}function NC(e){switch(e.dependenciesState_){case xr.UP_TO_DATE_:return!1;case xr.NOT_TRACKING_:case xr.STALE_:return!0;case xr.POSSIBLY_STALE_:{for(var t=FC(!0),n=Ld(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(Fy(s)){if(Ut.disableErrorBoundaries)s.get();else try{s.get()}catch{return Sc(n),og(t),!0}if(e.dependenciesState_===xr.STALE_)return Sc(n),og(t),!0}}return FA(e),Sc(n),og(t),!1}}}function OWe(e){}function NA(e,t,n){var r=FC(!0);FA(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Ut.runId;var i=Ut.trackingDerivation;Ut.trackingDerivation=e,Ut.inBatch++;var o;if(Ut.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(s){o=new Vy(s)}return Ut.inBatch--,Ut.trackingDerivation=i,jue(e),og(r),o}function jue(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=xr.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var a=n[s];a.diffValue===0&&(a.diffValue=1,i!==s&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var c=t[o];c.diffValue===0&&VA(c,e),c.diffValue=0}for(;i--;){var u=n[i];u.diffValue===1&&(u.diffValue=0,$ue(u,e))}r!==xr.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function BC(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)VA(t[n],e);e.dependenciesState_=xr.NOT_TRACKING_}function BA(e){var t=Ld();try{return e()}finally{Sc(t)}}function Ld(){var e=Ut.trackingDerivation;return Ut.trackingDerivation=null,e}function Sc(e){Ut.trackingDerivation=e}function FC(e){var t=Ut.allowStateReads;return Ut.allowStateReads=e,t}function og(e){Ut.allowStateReads=e}function FA(e){if(e.dependenciesState_!==xr.UP_TO_DATE_){e.dependenciesState_=xr.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=xr.UP_TO_DATE_}}var zy=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Uy=!0,jA=!1,Ut=(function(){var e=Ey();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Uy=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new zy().version&&(Uy=!1),Uy?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new zy):(setTimeout(function(){jA||gr(35)},1),new zy)})();function Vue(){if((Ut.pendingReactions.length||Ut.inBatch||Ut.isRunningReactions)&&gr(36),jA=!0,Uy){var e=Ey();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),Ut=new zy}}function $ue(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function VA(e,t){e.observers_.delete(t),e.observers_.size===0&&$A(e)}function $A(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Ut.pendingUnobservations.push(e))}function ca(){Ut.inBatch++}function ua(){if(--Ut.inBatch===0){HA();for(var e=Ut.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Qa&&n.suspend_())}Ut.pendingUnobservations=[]}}function zA(e){var t=Ut.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Ut.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&Ut.inBatch>0&&$A(e),!1)}function UA(e){e.lowestObserverState_!==xr.STALE_&&(e.lowestObserverState_=xr.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===xr.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=xr.STALE_}))}function zue(e){e.lowestObserverState_!==xr.STALE_&&(e.lowestObserverState_=xr.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===xr.POSSIBLY_STALE_?t.dependenciesState_=xr.STALE_:t.dependenciesState_===xr.UP_TO_DATE_&&(e.lowestObserverState_=xr.UP_TO_DATE_)}))}function Uue(e){e.lowestObserverState_===xr.UP_TO_DATE_&&(e.lowestObserverState_=xr.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===xr.UP_TO_DATE_&&(t.dependenciesState_=xr.POSSIBLY_STALE_,t.onBecomeStale_())}))}var kl=(function(){function e(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=xr.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=jy.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ut.pendingReactions.push(this),HA())},t.runReaction_=function(){if(!this.isDisposed){ca(),this.isScheduled=!1;var r=Ut.trackingContext;if(Ut.trackingContext=this,NC(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}Ut.trackingContext=r,ua()}},t.track=function(r){if(!this.isDisposed){ca(),this.isRunning=!0;var i=Ut.trackingContext;Ut.trackingContext=this;var o=NA(this,r,void 0);Ut.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&BC(this),$y(o)&&this.reportExceptionInDerivation_(o.cause),ua()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Ut.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";Ut.suppressReactionErrors||console.error(o,r),Ut.globalReactionErrorHandlers.forEach(function(s){return s(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ca(),BC(this),ua()))},t.getDisposer_=function(r){var i=this,o=function s(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[jn]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},of(e,[{key:"isDisposed",get:function(){return Ns(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Ns(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Ns(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Ns(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Bs(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Ns(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Bs(this.flags_,e.diffValueMask_,r===1)}}])})();kl.isDisposedMask_=1,kl.isScheduledMask_=2,kl.isTrackPendingMask_=4,kl.isRunningMask_=8,kl.diffValueMask_=16;var Hue=100,jC=function(t){return t()};function HA(){Ut.inBatch>0||Ut.isRunningReactions||jC(Gue)}function Gue(){Ut.isRunningReactions=!0;for(var e=Ut.pendingReactions,t=0;e.length>0;){++t===Hue&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ut.isRunningReactions=!1}var Hy=Id("Reaction",kl);function Wue(e){var t=jC;jC=function(r){return e(function(){return t(r)})}}function sg(){return!1}function RWe(e){}function IWe(e){}function kWe(e){}function Kue(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var GA="action",que="action.bound",WA="autoAction",Yue="autoAction.bound",Xue="<unnamed action>",VC=ig(GA),Zue=ig(que,{bound:!0}),$C=ig(WA,{autoAction:!0}),Que=ig(Yue,{autoAction:!0,bound:!0});function KA(e){var t=function(r,i){if(Za(r))return Dd(r.name||Xue,r,e);if(Za(i))return Dd(r,i,e);if(rg(i))return(e?$C:VC).decorate_20223_(r,i);if(Rd(i))return ng(r,i,e?$C:VC);if(Rd(r))return Il(ig(e?WA:GA,{name:r,autoAction:e}))};return t}var _e=KA(!1);Object.assign(_e,VC);var ag=KA(!0);Object.assign(ag,$C),_e.bound=Il(Zue),ag.bound=Il(Que);function lg(e){return Za(e)&&e.isMobxAction===!0}function qA(e,t){var n,r,i,o;t===void 0&&(t=IC);var s=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new kl(s,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=YA(t),h=!1;c=new kl(s,function(){h||(h=!0,u(function(){h=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){e(c)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||c.schedule_(),c.getDisposer_((o=t)==null?void 0:o.signal)}var Jue=function(t){return t()};function YA(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Jue}function ede(e,t,n){var r,i,o;n===void 0&&(n=IC);var s=(r=n.name)!=null?r:"Reaction",a=_e(s,n.onError?tde(n.onError,t):t),c=!n.scheduler&&!n.delay,u=YA(n),h=!0,f=!1,g,m=n.compareStructural?af.structural:n.equals||af.default,y=new kl(s,function(){h||c?b():f||(f=!0,u(b))},n.onError,n.requiresObservable);function b(){if(f=!1,!y.isDisposed){var v=!1,S=g;y.track(function(){var E=Fue(!1,function(){return e(y)});v=h||!m(g,E),g=E}),(h&&n.fireImmediately||!h&&v)&&a(g,S,y),h=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||y.schedule_(),y.getDisposer_((o=n)==null?void 0:o.signal)}function tde(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var nde="onBO",rde="onBUO";function ide(e,t,n){return ZA(nde,e,t,n)}function XA(e,t,n){return ZA(rde,e,t,n)}function ZA(e,t,n,r){var i=Xy(t),o=Za(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var a=i[s];a&&(a.delete(o),a.size===0&&delete i[s])}}var ode="never",Gy="always",sde="observed";function ade(e){e.isolateGlobalState===!0&&Vue();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(Ut.useProxies=t===Gy?!0:t===ode?!1:typeof Proxy<"u"),t==="ifavailable"&&(Ut.verifyProxies=!0),n!==void 0){var r=n===Gy?Gy:n===sde;Ut.enforceActions=r,Ut.allowStateChanges=!(r===!0||r===Gy)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(Ut[i]=!!e[i])}),Ut.allowStateReads=!Ut.observableRequiresReaction,e.reactionScheduler&&Wue(e.reactionScheduler)}function lde(e,t,n,r){var i=zce(t);return Bd(function(){var o=cf(e,r)[jn];Iy(i).forEach(function(s){o.extend_(s,i[s],n&&s in n?n[s]:!0)})}),e}function cde(e,t){return QA(Xy(e,t))}function QA(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=ude(e.observing_).map(QA)),t}function ude(e){return Array.from(new Set(e))}var dde=0;function JA(){this.message="FLOW_CANCELLED"}JA.prototype=Object.create(Error.prototype);var zC=TA("flow"),hde=TA("flow.bound",{bound:!0}),Mi=Object.assign(function(t,n){if(rg(n))return zC.decorate_20223_(t,n);if(Rd(n))return ng(t,n,zC);var r=t,i=r.name||"<unnamed flow>",o=function(){var a=this,c=arguments,u=++dde,h=_e(i+" - runid: "+u+" - init",r).apply(a,c),f,g=void 0,m=new Promise(function(y,b){var v=0;f=b;function S(R){g=void 0;var M;try{M=_e(i+" - runid: "+u+" - yield "+v++,h.next).call(h,R)}catch(I){return b(I)}T(M)}function E(R){g=void 0;var M;try{M=_e(i+" - runid: "+u+" - yield "+v++,h.throw).call(h,R)}catch(I){return b(I)}T(M)}function T(R){if(Za(R?.then)){R.then(T,b);return}return R.done?y(R.value):(g=Promise.resolve(R.value),g.then(S,E))}S(void 0)});return m.cancel=_e(i+" - runid: "+u+" - cancel",function(){try{g&&eL(g);var y=h.return(void 0),b=Promise.resolve(y.value);b.then(nf,nf),eL(b),f(new JA)}catch(v){f(v)}}),m};return o.isMobXFlow=!0,o},zC);Mi.bound=Il(hde);function eL(e){Za(e.cancel)&&e.cancel()}function cg(e){return e?.isMobXFlow===!0}function fde(e,t){return e?Yy(e)||!!e[jn]||PC(e)||Hy(e)||Fy(e):!1}function tL(e){return fde(e)}function Cc(e,t){t===void 0&&(t=void 0),ca();try{return e.apply(t)}finally{ua()}}function lf(e){return e[jn]}var pde={has:function(t,n){return lf(t).has_(n)},get:function(t,n){return lf(t).get_(n)},set:function(t,n,r){var i;return Rd(n)?(i=lf(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return Rd(n)?(r=lf(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=lf(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return lf(t).ownKeys_()},preventExtensions:function(t){gr(13)}};function gde(e,t){var n,r;return mA(),e=cf(e,t),(r=(n=e[jn]).proxy_)!=null?r:n.proxy_=new Proxy(e,pde)}function da(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function ug(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),vA(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ha(e,t){var n=Ld();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&(t=r[i](t),t&&!t.type&&gr(14),!!t);i++);return t}finally{Sc(n)}}function Ja(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function dg(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),vA(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function el(e,t){var n=Ld(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](t);Sc(n)}}function Rt(e,t,n){return Bd(function(){var r,i=cf(e,n)[jn];(r=t)!=null||(t=Kce(e)),Iy(t).forEach(function(o){return i.make_(o,t[o])})}),e}var nL="splice",Pl="update",mde=1e4,vde={get:function(t,n){var r=t[jn];return n===jn?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):wc(Wy,n)?Wy[n]:t[n]},set:function(t,n,r){var i=t[jn];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){gr(15)}},UC=(function(){function e(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new du(n),this.enhancer_=function(s,a){return r(s,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return ug(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),dg(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&gr("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),s=0;s<r-i;s++)o[s]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&gr(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&gL(r+i+1)},t.spliceWithArray_=function(r,i,o){var s=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),o===void 0&&(o=RC),da(this)){var c=ha(this,{object:this.proxy_,type:nL,index:r,removedCount:i,added:o});if(!c)return RC;i=c.removedCount,o=c.added}if(o=o.length===0?o:o.map(function(f){return s.enhancer_(f,void 0)}),this.legacyMode_){var u=o.length-i;this.updateArrayLength_(a,u)}var h=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(r,i,o){if(o.length<mde){var s;return(s=this.values_).splice.apply(s,[r,i].concat(o))}else{var a=this.values_.slice(r,r+i),c=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var u=0;u<o.length;u++)this.values_[r+u]=o[u];for(var h=0;h<c.length;h++)this.values_[r+o.length+h]=c[h];return a}},t.notifyArrayChildUpdate_=function(r,i,o){var s=!this.owned_&&sg(),a=Ja(this),c=a||s?{observableKind:"array",object:this.proxy_,type:Pl,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),a&&el(this,c)},t.notifyArraySplice_=function(r,i,o){var s=!this.owned_&&sg(),a=Ja(this),c=a||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:nL,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&el(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&gr(17,r,o.length),r<o.length){this.atom_;var s=o[r];if(da(this)){var a=ha(this,{type:Pl,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,s);var c=i!==s;c&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,s))}else{for(var u=new Array(r+1-o.length),h=0;h<u.length-1;h++)u[h]=void 0;u[u.length-1]=i,this.spliceWithArray_(o.length,0,u)}},e})();function yde(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),mA(),Bd(function(){var i=new UC(n,t,r,!1);bA(i.values_,jn,i);var o=new Proxy(i.values_,vde);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var Wy={clear:function(){return this.splice(0)},replace:function(t){var n=this[jn];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=this[jn];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,n)}return s.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[jn].spliceWithArray_(t,n,r)},push:function(){for(var t=this[jn],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[jn].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[jn],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return Ut.trackingDerivation&&gr(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ut.trackingDerivation&&gr(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[jn],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};oi("at",Fs),oi("concat",Fs),oi("flat",Fs),oi("includes",Fs),oi("indexOf",Fs),oi("join",Fs),oi("lastIndexOf",Fs),oi("slice",Fs),oi("toString",Fs),oi("toLocaleString",Fs),oi("toSorted",Fs),oi("toSpliced",Fs),oi("with",Fs),oi("every",tl),oi("filter",tl),oi("find",tl),oi("findIndex",tl),oi("findLast",tl),oi("findLastIndex",tl),oi("flatMap",tl),oi("forEach",tl),oi("map",tl),oi("some",tl),oi("toReversed",tl),oi("reduce",rL),oi("reduceRight",rL);function oi(e,t){typeof Array.prototype[e]=="function"&&(Wy[e]=t(e))}function Fs(e){return function(){var t=this[jn];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function tl(e){return function(t,n){var r=this,i=this[jn];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[e](function(s,a){return t.call(n,s,a,r)})}}function rL(e){return function(){var t=this,n=this[jn];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,s,a){return i(o,s,a,t)},r[e].apply(r,arguments)}}var bde=Id("ObservableArrayAdministration",UC);function Ky(e){return Oy(e)&&bde(e[jn])}var wde={},hu="add",qy="delete",iL=(function(){function e(n,r,i){var o=this;r===void 0&&(r=Pd),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[jn]=wde,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Za(Map)||gr(18),Bd(function(){o.keysAtom_=_A("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!Ut.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var s=o=new Ad(this.has_(r),ky,"ObservableMap.key?",!1);this.hasMap_.set(r,s),XA(s,function(){return i.hasMap_.delete(r)})}return o.get()},t.set=function(r,i){var o=this.has_(r);if(da(this)){var s=ha(this,{type:o?Pl:hu,object:this,newValue:i,name:r});if(!s)return this;i=s.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,da(this)){var o=ha(this,{type:qy,object:this,name:r});if(!o)return!1}if(this.has_(r)){var s=sg(),a=Ja(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:qy,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Cc(function(){var u;i.keysAtom_.reportChanged(),(u=i.hasMap_.get(r))==null||u.setNewValue_(!1);var h=i.data_.get(r);h.setNewValue_(void 0),i.data_.delete(r)}),a&&el(this,c),!0}return!1},t.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==Ut.UNCHANGED){var s=sg(),a=Ja(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:Pl,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),a&&el(this,c)}},t.addValue_=function(r,i){var o=this;this.keysAtom_,Cc(function(){var u,h=new Ad(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,h),i=h.value_,(u=o.hasMap_.get(r))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var s=sg(),a=Ja(this),c=a||s?{observableKind:"map",debugObjectName:this.name_,type:hu,object:this,name:r,newValue:i}:null;a&&el(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return oL({next:function(){var s=i.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,i=this.keys();return oL({next:function(){var s=i.next(),a=s.done,c=s.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var o=sf(this),s;!(s=o()).done;){var a=s.value,c=a[0],u=a[1];r.call(i,u,c,this)}},t.merge=function(r){var i=this;return Nd(r)&&(r=new Map(r)),Cc(function(){uu(r)?$ce(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var s=o[0],a=o[1];return i.set(s,a)}):rf(r)?(Vce(r)||gr(19,r),r.forEach(function(o,s){return i.set(s,o)})):r!=null&&gr(20,r)}),this},t.clear=function(){var r=this;Cc(function(){BA(function(){for(var i=sf(r.keys()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},t.replace=function(r){var i=this;return Cc(function(){for(var o=Sde(r),s=new Map,a=!1,c=sf(i.data_.keys()),u;!(u=c()).done;){var h=u.value;if(!o.has(h)){var f=i.delete(h);if(f)a=!0;else{var g=i.data_.get(h);s.set(h,g)}}}for(var m=sf(o.entries()),y;!(y=m()).done;){var b=y.value,v=b[0],S=b[1],E=i.data_.has(v);if(i.set(v,S),i.data_.has(v)){var T=i.data_.get(v);s.set(v,T),E||(a=!0)}}if(!a)if(i.data_.size!==s.size)i.keysAtom_.reportChanged();else for(var R=i.data_.keys(),M=s.keys(),I=R.next(),N=M.next();!I.done;){if(I.value!==N.value){i.keysAtom_.reportChanged();break}I=R.next(),N=M.next()}i.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return dg(this,r)},t.intercept_=function(r){return ug(this,r)},of(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Nd=Id("ObservableMap",iL);function oL(e){return e[Symbol.toStringTag]="MapIterator",qC(e)}function Sde(e){if(rf(e)||Nd(e))return e;if(Array.isArray(e))return new Map(e);if(uu(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return gr(21,e)}var Cde={},sL=(function(){function e(n,r,i){var o=this;r===void 0&&(r=Pd),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[jn]=Cde,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Za(Set)||gr(22),this.enhancer_=function(s,a){return r(s,a,i)},Bd(function(){o.atom_=_A(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Cc(function(){BA(function(){for(var i=sf(r.data_.values()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},t.forEach=function(r,i){for(var o=sf(this),s;!(s=o()).done;){var a=s.value;r.call(i,a,a,this)}},t.add=function(r){var i=this;if(this.atom_,da(this)){var o=ha(this,{type:hu,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){Cc(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var s=!1,a=Ja(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:hu,object:this,newValue:r}:null;a&&el(this,c)}return this},t.delete=function(r){var i=this;if(da(this)){var o=ha(this,{type:qy,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var s=!1,a=Ja(this),c=a||s?{observableKind:"set",debugObjectName:this.name_,type:qy,object:this,oldValue:r}:null;return Cc(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&el(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return aL({next:function(){var o=r.next(),s=o.value,a=o.done;return a?{value:void 0,done:a}:{value:[s,s],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return aL({next:function(){var s=i.next(),a=s.value,c=s.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(a),done:c}}})},t.intersection=function(r){if(bc(r)&&!Dl(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(bc(r)&&!Dl(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(bc(r)&&!Dl(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(bc(r)&&!Dl(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return Dl(r)&&(r=new Set(r)),Cc(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):bc(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&gr("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return dg(this,r)},t.intercept_=function(r){return ug(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},of(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Dl=Id("ObservableSet",sL);function aL(e){return e[Symbol.toStringTag]="SetIterator",qC(e)}var lL=Object.create(null),cL="remove",uL=(function(){function e(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=vue),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new du("ObservableObject.keys"),this.isPlainObject_=uu(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof Qa)return o.set(i),!0;if(da(this)){var s=ha(this,{type:Pl,object:this.proxy_||this.target_,name:r,newValue:i});if(!s)return null;i=s.newValue}if(i=o.prepareNewValue_(i),i!==Ut.UNCHANGED){var a=Ja(this),c=!1,u=a||c?{type:Pl,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),a&&el(this,u)}return!0},t.get_=function(r){return Ut.trackingDerivation&&!wc(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,o){return o===void 0&&(o=!1),wc(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(r){if(!Ut.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Ad(r in this.target_,ky,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Rl])!=null&&o[r])return;gr(1,i.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==My;){var a=Ty(s,r);if(a){var c=i.make_(this,r,a,s);if(c===0)return;if(c===1)break}s=Object.getPrototypeOf(s)}hL(this,i,r)}},t.extend_=function(r,i,o,s){if(s===void 0&&(s=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,s);var a=o.extend_(this,r,i,s);return a&&hL(this,o,r),a},t.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{ca();var s=this.delete_(r);if(!s)return s;if(da(this)){var a=ha(this,{object:this.proxy_||this.target_,name:r,type:hu,newValue:i.value});if(!a)return null;var c=a.newValue;i.value!==c&&(i=kd({},i,{value:c}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else Ol(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{ua()}return!0},t.defineObservableProperty_=function(r,i,o,s){s===void 0&&(s=!1),this.keysAtom_;try{ca();var a=this.delete_(r);if(!a)return a;if(da(this)){var c=ha(this,{object:this.proxy_||this.target_,name:r,type:hu,newValue:i});if(!c)return null;i=c.newValue}var u=dL(r),h={configurable:Ut.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,h))return!1}else Ol(this.target_,r,h);var f=new Ad(i,o,"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{ua()}return!0},t.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{ca();var s=this.delete_(r);if(!s)return s;if(da(this)){var a=ha(this,{object:this.proxy_||this.target_,name:r,type:hu,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var c=dL(r),u={configurable:Ut.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Ol(this.target_,r,u);this.values_.set(r,new Qa(i)),this.notifyPropertyAddition_(r,void 0)}finally{ua()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!wc(this.target_,r))return!0;if(da(this)){var o=ha(this,{object:this.proxy_||this.target_,name:r,type:cL});if(!o)return null}try{var s;ca();var a=Ja(this),c=!1,u=this.values_.get(r),h=void 0;if(!u&&(a||c)){var f;h=(f=Ty(this.target_,r))==null?void 0:f.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Ad&&(h=u.value_),UA(u)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(r in this.target_),a||c){var g={type:cL,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};a&&el(this,g)}}finally{ua()}return!0},t.observe_=function(r,i){return dg(this,r)},t.intercept_=function(r){return ug(this,r)},t.notifyPropertyAddition_=function(r,i){var o,s=Ja(this),a=!1;if(s||a){var c=s||a?{type:hu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;s&&el(this,c)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Iy(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function cf(e,t){var n;if(wc(e,jn))return e;var r=(n=t?.name)!=null?n:"ObservableObject",i=new uL(e,new Map,String(r),Oue(t));return Ry(e,jn,i),e}var xde=Id("ObservableObjectAdministration",uL);function dL(e){return lL[e]||(lL[e]={get:function(){return this[jn].getObservablePropValue_(e)},set:function(n){return this[jn].setObservablePropValue_(e,n)}})}function Yy(e){return Oy(e)?xde(e[jn]):!1}function hL(e,t,n){var r;(r=e.target_[Rl])==null||delete r[n]}var _de=pL(0),Ede=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),HC=0,fL=function(){};function Tde(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Tde(fL,Array.prototype);var GC=(function(e){function t(r,i,o,s){var a;return o===void 0&&(o="ObservableArray"),s===void 0&&(s=!1),a=e.call(this)||this,Bd(function(){var c=new UC(o,i,s,!0);c.proxy_=a,bA(a,jn,c),r&&r.length&&a.spliceWithArray(0,0,r),Ede&&Object.defineProperty(a,"0",_de)}),a}xA(t,e);var n=t.prototype;return n.concat=function(){this[jn].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),o.map(function(a){return Ky(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return qC({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},of(t,[{key:"length",get:function(){return this[jn].getArrayLength_()},set:function(i){this[jn].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(fL);Object.entries(Wy).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Ry(GC.prototype,t,n)});function pL(e){return{enumerable:!1,configurable:!0,get:function(){return this[jn].get_(e)},set:function(n){this[jn].set_(e,n)}}}function Mde(e){Ol(GC.prototype,""+e,pL(e))}function gL(e){if(e>HC){for(var t=HC;t<e+100;t++)Mde(t);HC=e}}gL(1e3);function Ode(e,t,n){return new GC(e,t,n)}function Xy(e,t){if(typeof e=="object"&&e!==null){if(Ky(e))return t!==void 0&&gr(23),e[jn].atom_;if(Dl(e))return e.atom_;if(Nd(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||gr(25,t,WC(e)),n}if(Yy(e)){if(!t)return gr(26);var r=e[jn].values_.get(t);return r||gr(27,t,WC(e)),r}if(PC(e)||Fy(e)||Hy(e))return e}else if(Za(e)&&Hy(e[jn]))return e[jn];gr(28)}function Rde(e,t){if(e||gr(29),PC(e)||Fy(e)||Hy(e)||Nd(e)||Dl(e))return e;if(e[jn])return e[jn];gr(24,e)}function WC(e,t){var n;if(t!==void 0)n=Xy(e,t);else{if(lg(e))return e.name;Yy(e)||Nd(e)||Dl(e)?n=Rde(e):n=Xy(e)}return n.name_}function Bd(e){var t=Ld(),n=Ny(!0);ca();try{return e()}finally{ua(),By(n),Sc(t)}}var mL=My.toString;function vL(e,t,n){return n===void 0&&(n=-1),KC(e,t,n)}function KC(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var s=mL.call(e);if(s!==mL.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=yL(e),t=yL(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(Za(c)&&c instanceof c&&Za(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var h=r.length;h--;)if(r[h]===e)return i[h]===t;if(r.push(e),i.push(t),a){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!KC(e[h],t[h],n-1,r,i))return!1}else{var f=Object.keys(e),g=f.length;if(Object.keys(t).length!==g)return!1;for(var m=0;m<g;m++){var y=f[m];if(!(wc(t,y)&&KC(e[y],t[y],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function yL(e){return Ky(e)?e.slice():rf(e)||Nd(e)||bc(e)||Dl(e)?Array.from(e.entries()):e}var bL,Ide=((bL=Ey().Iterator)==null?void 0:bL.prototype)||{};function qC(e){return e[Symbol.iterator]=kde,Object.assign(Object.create(Ide),e)}function kde(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Ey();typeof t[e]>"u"&&gr("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Kue,extras:{getDebugName:WC},$mobx:jn});var Fd={},YC={},wL;function Pde(){return wL||(wL=1,Object.defineProperty(YC,"__esModule",{value:!0})),YC}var XC={},SL;function Dde(){return SL||(SL=1,Object.defineProperty(XC,"__esModule",{value:!0})),XC}var ZC={},CL;function Ade(){return CL||(CL=1,Object.defineProperty(ZC,"__esModule",{value:!0})),ZC}var QC={},xL;function Lde(){return xL||(xL=1,Object.defineProperty(QC,"__esModule",{value:!0})),QC}var JC={},_L;function Nde(){return _L||(_L=1,Object.defineProperty(JC,"__esModule",{value:!0})),JC}var ex={},EL;function Bde(){return EL||(EL=1,Object.defineProperty(ex,"__esModule",{value:!0})),ex}var tx={},TL;function Fde(){return TL||(TL=1,Object.defineProperty(tx,"__esModule",{value:!0})),tx}var nx={},ML;function jde(){return ML||(ML=1,Object.defineProperty(nx,"__esModule",{value:!0})),nx}var rx={},OL;function Vde(){return OL||(OL=1,Object.defineProperty(rx,"__esModule",{value:!0})),rx}var ix={},RL;function $de(){return RL||(RL=1,Object.defineProperty(ix,"__esModule",{value:!0})),ix}var ox={},IL;function zde(){return IL||(IL=1,Object.defineProperty(ox,"__esModule",{value:!0})),ox}var sx={},kL;function Ude(){return kL||(kL=1,Object.defineProperty(sx,"__esModule",{value:!0})),sx}var ax={},PL;function Hde(){return PL||(PL=1,Object.defineProperty(ax,"__esModule",{value:!0})),ax}var lx={},DL;function Gde(){return DL||(DL=1,Object.defineProperty(lx,"__esModule",{value:!0})),lx}var cx={},AL;function Wde(){return AL||(AL=1,Object.defineProperty(cx,"__esModule",{value:!0})),cx}var ux={},LL;function Kde(){return LL||(LL=1,Object.defineProperty(ux,"__esModule",{value:!0})),ux}var dx={},NL;function qde(){return NL||(NL=1,Object.defineProperty(dx,"__esModule",{value:!0})),dx}var hx={},BL;function Yde(){return BL||(BL=1,Object.defineProperty(hx,"__esModule",{value:!0})),hx}var fx={},FL;function Xde(){return FL||(FL=1,Object.defineProperty(fx,"__esModule",{value:!0})),fx}var px={},jL;function Zde(){return jL||(jL=1,Object.defineProperty(px,"__esModule",{value:!0})),px}var gx={},VL;function Qde(){return VL||(VL=1,Object.defineProperty(gx,"__esModule",{value:!0})),gx}var mx={},$L;function Jde(){return $L||($L=1,Object.defineProperty(mx,"__esModule",{value:!0})),mx}var vx={},zL;function ehe(){return zL||(zL=1,Object.defineProperty(vx,"__esModule",{value:!0})),vx}var yx={},UL;function the(){return UL||(UL=1,Object.defineProperty(yx,"__esModule",{value:!0})),yx}var bx={},HL;function nhe(){return HL||(HL=1,Object.defineProperty(bx,"__esModule",{value:!0})),bx}var wx={},GL;function rhe(){return GL||(GL=1,Object.defineProperty(wx,"__esModule",{value:!0})),wx}var Sx={},WL;function ihe(){return WL||(WL=1,Object.defineProperty(Sx,"__esModule",{value:!0})),Sx}var Cx={},KL;function ohe(){return KL||(KL=1,Object.defineProperty(Cx,"__esModule",{value:!0})),Cx}var xx={},qL;function she(){return qL||(qL=1,Object.defineProperty(xx,"__esModule",{value:!0})),xx}var _x={},YL;function ahe(){return YL||(YL=1,Object.defineProperty(_x,"__esModule",{value:!0})),_x}var Ex={},XL;function lhe(){return XL||(XL=1,Object.defineProperty(Ex,"__esModule",{value:!0})),Ex}var Tx={},ZL;function che(){return ZL||(ZL=1,Object.defineProperty(Tx,"__esModule",{value:!0})),Tx}var Mx={},QL;function uhe(){return QL||(QL=1,Object.defineProperty(Mx,"__esModule",{value:!0})),Mx}var Ox={},JL;function dhe(){return JL||(JL=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var Rx={},eN;function hhe(){return eN||(eN=1,Object.defineProperty(Rx,"__esModule",{value:!0})),Rx}var Ix={},tN;function fhe(){return tN||(tN=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var kx={},nN;function phe(){return nN||(nN=1,Object.defineProperty(kx,"__esModule",{value:!0})),kx}var Px={},rN;function ghe(){return rN||(rN=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var Dx={},iN;function mhe(){return iN||(iN=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var Ax={},oN;function vhe(){return oN||(oN=1,Object.defineProperty(Ax,"__esModule",{value:!0})),Ax}var Lx={},sN;function yhe(){return sN||(sN=1,Object.defineProperty(Lx,"__esModule",{value:!0})),Lx}var Nx={},aN;function bhe(){return aN||(aN=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Bx={},lN;function whe(){return lN||(lN=1,Object.defineProperty(Bx,"__esModule",{value:!0})),Bx}var Fx={},cN;function She(){return cN||(cN=1,Object.defineProperty(Fx,"__esModule",{value:!0})),Fx}var jx={},uN;function Che(){return uN||(uN=1,Object.defineProperty(jx,"__esModule",{value:!0})),jx}var Vx={},dN;function xhe(){return dN||(dN=1,Object.defineProperty(Vx,"__esModule",{value:!0})),Vx}var $x={},hN;function _he(){return hN||(hN=1,Object.defineProperty($x,"__esModule",{value:!0})),$x}var zx={},fN;function Ehe(){return fN||(fN=1,Object.defineProperty(zx,"__esModule",{value:!0})),zx}var Ux={},pN;function The(){return pN||(pN=1,Object.defineProperty(Ux,"__esModule",{value:!0})),Ux}var Hx={},gN;function Mhe(){return gN||(gN=1,Object.defineProperty(Hx,"__esModule",{value:!0})),Hx}var Gx={},mN;function Ohe(){return mN||(mN=1,Object.defineProperty(Gx,"__esModule",{value:!0})),Gx}var Wx={},vN;function Rhe(){return vN||(vN=1,Object.defineProperty(Wx,"__esModule",{value:!0})),Wx}var Kx={},yN;function Ihe(){return yN||(yN=1,Object.defineProperty(Kx,"__esModule",{value:!0})),Kx}var qx={},bN;function khe(){return bN||(bN=1,Object.defineProperty(qx,"__esModule",{value:!0})),qx}var Yx={},wN;function Phe(){return wN||(wN=1,Object.defineProperty(Yx,"__esModule",{value:!0})),Yx}var Xx={},SN;function Dhe(){return SN||(SN=1,Object.defineProperty(Xx,"__esModule",{value:!0})),Xx}var Zx={},CN;function Ahe(){return CN||(CN=1,Object.defineProperty(Zx,"__esModule",{value:!0})),Zx}var Qx={},xN;function Lhe(){return xN||(xN=1,Object.defineProperty(Qx,"__esModule",{value:!0})),Qx}var Jx={},_N;function Nhe(){return _N||(_N=1,Object.defineProperty(Jx,"__esModule",{value:!0})),Jx}var e_={},EN;function Bhe(){return EN||(EN=1,Object.defineProperty(e_,"__esModule",{value:!0})),e_}var t_={},TN;function Fhe(){return TN||(TN=1,Object.defineProperty(t_,"__esModule",{value:!0})),t_}var n_={},MN;function jhe(){return MN||(MN=1,Object.defineProperty(n_,"__esModule",{value:!0})),n_}var r_={},ON;function Vhe(){return ON||(ON=1,Object.defineProperty(r_,"__esModule",{value:!0})),r_}var i_={},RN;function $he(){return RN||(RN=1,Object.defineProperty(i_,"__esModule",{value:!0})),i_}var o_={},IN;function zhe(){return IN||(IN=1,Object.defineProperty(o_,"__esModule",{value:!0})),o_}var s_={},kN;function Uhe(){return kN||(kN=1,Object.defineProperty(s_,"__esModule",{value:!0})),s_}var a_={},PN;function Hhe(){return PN||(PN=1,Object.defineProperty(a_,"__esModule",{value:!0})),a_}var hg={},DN;function Ghe(){if(DN)return hg;DN=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.UnreachableCaseError=void 0;class e extends Error{constructor(n){super(`Unreachable case: ${n}`)}}return hg.UnreachableCaseError=e,hg}var fg={},AN;function Whe(){if(AN)return fg;AN=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.assert=void 0;function e(t,n="no additional info provided"){if(!t)throw new Error("Assertion Error: "+n)}return fg.assert=e,fg}var pg={},LN;function Khe(){if(LN)return pg;LN=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.createFactoryWithConstraint=void 0;const e=()=>t=>t;return pg.createFactoryWithConstraint=e,pg}var gg={},NN;function qhe(){if(NN)return gg;NN=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.isExact=void 0;const e=()=>t=>t;return gg.isExact=e,gg}var mg={},BN;function Yhe(){if(BN)return mg;BN=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.noop=void 0;function e(...t){}return mg.noop=e,mg}var l_={},FN;function Xhe(){return FN||(FN=1,Object.defineProperty(l_,"__esModule",{value:!0})),l_}var jN;function Zhe(){return jN||(jN=1,(function(e){var t=Fd&&Fd.__createBinding||(Object.create?(function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}):(function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]})),n=Fd&&Fd.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(Pde(),e),n(Dde(),e),n(Ade(),e),n(Lde(),e),n(Nde(),e),n(Bde(),e),n(Fde(),e),n(jde(),e),n(Vde(),e),n($de(),e),n(zde(),e),n(Ude(),e),n(Hde(),e),n(Gde(),e),n(Wde(),e),n(Kde(),e),n(qde(),e),n(Yde(),e),n(Xde(),e),n(Zde(),e),n(Qde(),e),n(Jde(),e),n(ehe(),e),n(the(),e),n(nhe(),e),n(rhe(),e),n(ihe(),e),n(ohe(),e),n(she(),e),n(ahe(),e),n(lhe(),e),n(che(),e),n(uhe(),e),n(dhe(),e),n(hhe(),e),n(fhe(),e),n(phe(),e),n(ghe(),e),n(mhe(),e),n(vhe(),e),n(yhe(),e),n(bhe(),e),n(whe(),e),n(She(),e),n(Che(),e),n(xhe(),e),n(_he(),e),n(Ehe(),e),n(The(),e),n(Mhe(),e),n(Ohe(),e),n(Rhe(),e),n(Ihe(),e),n(khe(),e),n(Phe(),e),n(Dhe(),e),n(Ahe(),e),n(Lhe(),e),n(Nhe(),e),n(Bhe(),e),n(Fhe(),e),n(jhe(),e),n(Vhe(),e),n($he(),e),n(zhe(),e),n(Uhe(),e),n(Hhe(),e),n(Ghe(),e),n(Whe(),e),n(Khe(),e),n(qhe(),e),n(Yhe(),e),n(Xhe(),e)})(Fd)),Fd}var fa=Zhe();function Qhe(e){const t=e.vars.allList,n=ns(t,i=>i.isArgument&&i.type),r=t.find(i=>i.isReturn)?.type??null;return{type:"user",name:e.name,argTypes:n,retType:r}}function Jhe(e,t){const n=Nce(t);return e.forEach(r=>r.isFunction&&n.addUserFunc(Qhe(r))),n}class efe{constructor({klass:t,lib:n,pluginsGetter:r}){this.type="codeEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.onError=new gi,this.onSaved=new gi,this.klass=t,this.lib=n,this.pluginsGetter=r,this.currentText=this.savedText=t.modelText.split(`\r
`).join(`
`),Rt(this,{currentLineNumber:Be.ref,currentColumnIndex:Be.ref,currentText:Be.ref,savedText:Be.ref,hasChanges:mi,save:_e,setCurrentText:_e,setCursorPosition:_e})}get _reactKey(){return"code-"+this.klass.uuid}get title(){return this.klass.name+" (код)"}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){fa.assert(!this.isReadonly);try{const t=this.currentText.split(`
`).join(`\r
`),r=Jhe(this.lib.list,this.pluginsGetter()).transpile(t,this.klass.name,this.klass.file.path);if(r.bugs.length)throw Error(r.bugs.map(([i])=>` -${i}`).join(`
`));if(this.savedText===this.currentText)return;this.klass.vars.set(r.vars),this.klass.set({modelText:t,isFunction:r.isFunction}),this.savedText=this.currentText,this.onSaved.dispatch()}catch(t){if(!(t instanceof Error))return;this.onError.dispatch(t.message)}}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}var Zy={exports:{}},tfe=Zy.exports,VN;function _r(){return VN||(VN=1,(function(e,t){(function(n,r){e.exports=r()})(tfe,function(){var n=Array.prototype.slice;function r(C,j){j&&(C.prototype=Object.create(j.prototype)),C.prototype.constructor=C}function i(C){return c(C)?C:Re(C)}r(o,i);function o(C){return u(C)?C:Le(C)}r(s,i);function s(C){return h(C)?C:Ie(C)}r(a,i);function a(C){return c(C)&&!f(C)?C:je(C)}function c(C){return!!(C&&C[m])}function u(C){return!!(C&&C[y])}function h(C){return!!(C&&C[b])}function f(C){return u(C)||h(C)}function g(C){return!!(C&&C[v])}i.isIterable=c,i.isKeyed=u,i.isIndexed=h,i.isAssociative=f,i.isOrdered=g,i.Keyed=o,i.Indexed=s,i.Set=a;var m="@@__IMMUTABLE_ITERABLE__@@",y="@@__IMMUTABLE_KEYED__@@",b="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",S="delete",E=5,T=1<<E,R=T-1,M={},I={value:!1},N={value:!1};function D(C){return C.value=!1,C}function L(C){C&&(C.value=!0)}function A(){}function $(C,j){j=j||0;for(var Q=Math.max(0,C.length-j),ne=new Array(Q),oe=0;oe<Q;oe++)ne[oe]=C[oe+j];return ne}function F(C){return C.size===void 0&&(C.size=C.__iterate(q)),C.size}function H(C,j){if(typeof j!="number"){var Q=j>>>0;if(""+Q!==j||Q===4294967295)return NaN;j=Q}return j<0?F(C)+j:j}function q(){return!0}function K(C,j,Q){return(C===0||Q!==void 0&&C<=-Q)&&(j===void 0||Q!==void 0&&j>=Q)}function z(C,j){return ee(C,j,0)}function Z(C,j){return ee(C,j,j)}function ee(C,j,Q){return C===void 0?Q:C<0?Math.max(0,j+C):j===void 0?C:Math.min(j,C)}var ie=0,U=1,Y=2,J=typeof Symbol=="function"&&Symbol.iterator,he="@@iterator",ge=J||he;function pe(C){this.next=C}pe.prototype.toString=function(){return"[Iterator]"},pe.KEYS=ie,pe.VALUES=U,pe.ENTRIES=Y,pe.prototype.inspect=pe.prototype.toSource=function(){return this.toString()},pe.prototype[ge]=function(){return this};function le(C,j,Q,ne){var oe=C===0?j:C===1?Q:[j,Q];return ne?ne.value=oe:ne={value:oe,done:!1},ne}function Ce(){return{value:void 0,done:!0}}function ke(C){return!!ye(C)}function Te(C){return C&&typeof C.next=="function"}function me(C){var j=ye(C);return j&&j.call(C)}function ye(C){var j=C&&(J&&C[J]||C[he]);if(typeof j=="function")return j}function xe(C){return C&&typeof C.length=="number"}r(Re,i);function Re(C){return C==null?Mt():c(C)?C.toSeq():Xt(C)}Re.of=function(){return Re(arguments)},Re.prototype.toSeq=function(){return this},Re.prototype.toString=function(){return this.__toString("Seq {","}")},Re.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Re.prototype.__iterate=function(C,j){return xt(this,C,j,!0)},Re.prototype.__iterator=function(C,j){return Dt(this,C,j,!0)},r(Le,Re);function Le(C){return C==null?Mt().toKeyedSeq():c(C)?u(C)?C.toSeq():C.fromEntrySeq():zt(C)}Le.prototype.toKeyedSeq=function(){return this},r(Ie,Re);function Ie(C){return C==null?Mt():c(C)?u(C)?C.entrySeq():C.toIndexedSeq():Lt(C)}Ie.of=function(){return Ie(arguments)},Ie.prototype.toIndexedSeq=function(){return this},Ie.prototype.toString=function(){return this.__toString("Seq [","]")},Ie.prototype.__iterate=function(C,j){return xt(this,C,j,!1)},Ie.prototype.__iterator=function(C,j){return Dt(this,C,j,!1)},r(je,Re);function je(C){return(C==null?Mt():c(C)?u(C)?C.entrySeq():C:Lt(C)).toSetSeq()}je.of=function(){return je(arguments)},je.prototype.toSetSeq=function(){return this},Re.isSeq=Ke,Re.Keyed=Le,Re.Set=je,Re.Indexed=Ie;var lt="@@__IMMUTABLE_SEQ__@@";Re.prototype[lt]=!0,r(We,Ie);function We(C){this._array=C,this.size=C.length}We.prototype.get=function(C,j){return this.has(C)?this._array[H(this,C)]:j},We.prototype.__iterate=function(C,j){for(var Q=this._array,ne=Q.length-1,oe=0;oe<=ne;oe++)if(C(Q[j?ne-oe:oe],oe,this)===!1)return oe+1;return oe},We.prototype.__iterator=function(C,j){var Q=this._array,ne=Q.length-1,oe=0;return new pe(function(){return oe>ne?Ce():le(C,oe,Q[j?ne-oe++:oe++])})},r(Bt,Le);function Bt(C){var j=Object.keys(C);this._object=C,this._keys=j,this.size=j.length}Bt.prototype.get=function(C,j){return j!==void 0&&!this.has(C)?j:this._object[C]},Bt.prototype.has=function(C){return this._object.hasOwnProperty(C)},Bt.prototype.__iterate=function(C,j){for(var Q=this._object,ne=this._keys,oe=ne.length-1,ve=0;ve<=oe;ve++){var be=ne[j?oe-ve:ve];if(C(Q[be],be,this)===!1)return ve+1}return ve},Bt.prototype.__iterator=function(C,j){var Q=this._object,ne=this._keys,oe=ne.length-1,ve=0;return new pe(function(){var be=ne[j?oe-ve:ve];return ve++>oe?Ce():le(C,be,Q[be])})},Bt.prototype[v]=!0,r(Ct,Ie);function Ct(C){this._iterable=C,this.size=C.length||C.size}Ct.prototype.__iterateUncached=function(C,j){if(j)return this.cacheResult().__iterate(C,j);var Q=this._iterable,ne=me(Q),oe=0;if(Te(ne))for(var ve;!(ve=ne.next()).done&&C(ve.value,oe++,this)!==!1;);return oe},Ct.prototype.__iteratorUncached=function(C,j){if(j)return this.cacheResult().__iterator(C,j);var Q=this._iterable,ne=me(Q);if(!Te(ne))return new pe(Ce);var oe=0;return new pe(function(){var ve=ne.next();return ve.done?ve:le(C,oe++,ve.value)})},r(Ot,Ie);function Ot(C){this._iterator=C,this._iteratorCache=[]}Ot.prototype.__iterateUncached=function(C,j){if(j)return this.cacheResult().__iterate(C,j);for(var Q=this._iterator,ne=this._iteratorCache,oe=0;oe<ne.length;)if(C(ne[oe],oe++,this)===!1)return oe;for(var ve;!(ve=Q.next()).done;){var be=ve.value;if(ne[oe]=be,C(be,oe++,this)===!1)break}return oe},Ot.prototype.__iteratorUncached=function(C,j){if(j)return this.cacheResult().__iterator(C,j);var Q=this._iterator,ne=this._iteratorCache,oe=0;return new pe(function(){if(oe>=ne.length){var ve=Q.next();if(ve.done)return ve;ne[oe]=ve.value}return le(C,oe,ne[oe++])})};function Ke(C){return!!(C&&C[lt])}var Ft;function Mt(){return Ft||(Ft=new We([]))}function zt(C){var j=Array.isArray(C)?new We(C).fromEntrySeq():Te(C)?new Ot(C).fromEntrySeq():ke(C)?new Ct(C).fromEntrySeq():typeof C=="object"?new Bt(C):void 0;if(!j)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+C);return j}function Lt(C){var j=sn(C);if(!j)throw new TypeError("Expected Array or iterable object of values: "+C);return j}function Xt(C){var j=sn(C)||typeof C=="object"&&new Bt(C);if(!j)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+C);return j}function sn(C){return xe(C)?new We(C):Te(C)?new Ot(C):ke(C)?new Ct(C):void 0}function xt(C,j,Q,ne){var oe=C._cache;if(oe){for(var ve=oe.length-1,be=0;be<=ve;be++){var De=oe[Q?ve-be:be];if(j(De[1],ne?De[0]:be,C)===!1)return be+1}return be}return C.__iterateUncached(j,Q)}function Dt(C,j,Q,ne){var oe=C._cache;if(oe){var ve=oe.length-1,be=0;return new pe(function(){var De=oe[Q?ve-be:be];return be++>ve?Ce():le(j,ne?De[0]:be-1,De[1])})}return C.__iteratorUncached(j,Q)}function Je(C,j){return j?bt(j,C,"",{"":C}):wt(C)}function bt(C,j,Q,ne){return Array.isArray(j)?C.call(ne,Q,Ie(j).map(function(oe,ve){return bt(C,oe,ve,j)})):at(j)?C.call(ne,Q,Le(j).map(function(oe,ve){return bt(C,oe,ve,j)})):j}function wt(C){return Array.isArray(C)?Ie(C).map(wt).toList():at(C)?Le(C).map(wt).toMap():C}function at(C){return C&&(C.constructor===Object||C.constructor===void 0)}function mt(C,j){if(C===j||C!==C&&j!==j)return!0;if(!C||!j)return!1;if(typeof C.valueOf=="function"&&typeof j.valueOf=="function"){if(C=C.valueOf(),j=j.valueOf(),C===j||C!==C&&j!==j)return!0;if(!C||!j)return!1}return!!(typeof C.equals=="function"&&typeof j.equals=="function"&&C.equals(j))}function Vt(C,j){if(C===j)return!0;if(!c(j)||C.size!==void 0&&j.size!==void 0&&C.size!==j.size||C.__hash!==void 0&&j.__hash!==void 0&&C.__hash!==j.__hash||u(C)!==u(j)||h(C)!==h(j)||g(C)!==g(j))return!1;if(C.size===0&&j.size===0)return!0;var Q=!f(C);if(g(C)){var ne=C.entries();return j.every(function(Ye,ot){var ft=ne.next().value;return ft&&mt(ft[1],Ye)&&(Q||mt(ft[0],ot))})&&ne.next().done}var oe=!1;if(C.size===void 0)if(j.size===void 0)typeof C.cacheResult=="function"&&C.cacheResult();else{oe=!0;var ve=C;C=j,j=ve}var be=!0,De=j.__iterate(function(Ye,ot){if(Q?!C.has(Ye):oe?!mt(Ye,C.get(ot,M)):!mt(C.get(ot,M),Ye))return be=!1,!1});return be&&C.size===De}r(_t,Ie);function _t(C,j){if(!(this instanceof _t))return new _t(C,j);if(this._value=C,this.size=j===void 0?1/0:Math.max(0,j),this.size===0){if(Nt)return Nt;Nt=this}}_t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},_t.prototype.get=function(C,j){return this.has(C)?this._value:j},_t.prototype.includes=function(C){return mt(this._value,C)},_t.prototype.slice=function(C,j){var Q=this.size;return K(C,j,Q)?this:new _t(this._value,Z(j,Q)-z(C,Q))},_t.prototype.reverse=function(){return this},_t.prototype.indexOf=function(C){return mt(this._value,C)?0:-1},_t.prototype.lastIndexOf=function(C){return mt(this._value,C)?this.size:-1},_t.prototype.__iterate=function(C,j){for(var Q=0;Q<this.size;Q++)if(C(this._value,Q,this)===!1)return Q+1;return Q},_t.prototype.__iterator=function(C,j){var Q=this,ne=0;return new pe(function(){return ne<Q.size?le(C,ne++,Q._value):Ce()})},_t.prototype.equals=function(C){return C instanceof _t?mt(this._value,C._value):Vt(C)};var Nt;function Zn(C,j){if(!C)throw new Error(j)}r(An,Ie);function An(C,j,Q){if(!(this instanceof An))return new An(C,j,Q);if(Zn(Q!==0,"Cannot step a Range by 0"),C=C||0,j===void 0&&(j=1/0),Q=Q===void 0?1:Math.abs(Q),j<C&&(Q=-Q),this._start=C,this._end=j,this._step=Q,this.size=Math.max(0,Math.ceil((j-C)/Q-1)+1),this.size===0){if(yr)return yr;yr=this}}An.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},An.prototype.get=function(C,j){return this.has(C)?this._start+H(this,C)*this._step:j},An.prototype.includes=function(C){var j=(C-this._start)/this._step;return j>=0&&j<this.size&&j===Math.floor(j)},An.prototype.slice=function(C,j){return K(C,j,this.size)?this:(C=z(C,this.size),j=Z(j,this.size),j<=C?new An(0,0):new An(this.get(C,this._end),this.get(j,this._end),this._step))},An.prototype.indexOf=function(C){var j=C-this._start;if(j%this._step===0){var Q=j/this._step;if(Q>=0&&Q<this.size)return Q}return-1},An.prototype.lastIndexOf=function(C){return this.indexOf(C)},An.prototype.__iterate=function(C,j){for(var Q=this.size-1,ne=this._step,oe=j?this._start+Q*ne:this._start,ve=0;ve<=Q;ve++){if(C(oe,ve,this)===!1)return ve+1;oe+=j?-ne:ne}return ve},An.prototype.__iterator=function(C,j){var Q=this.size-1,ne=this._step,oe=j?this._start+Q*ne:this._start,ve=0;return new pe(function(){var be=oe;return oe+=j?-ne:ne,ve>Q?Ce():le(C,ve++,be)})},An.prototype.equals=function(C){return C instanceof An?this._start===C._start&&this._end===C._end&&this._step===C._step:Vt(this,C)};var yr;r(Qn,i);function Qn(){throw TypeError("Abstract")}r(Br,Qn);function Br(){}r(St,Qn);function St(){}r(Yr,Qn);function Yr(){}Qn.Keyed=Br,Qn.Indexed=St,Qn.Set=Yr;var Xr=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(j,Q){j=j|0,Q=Q|0;var ne=j&65535,oe=Q&65535;return ne*oe+((j>>>16)*oe+ne*(Q>>>16)<<16>>>0)|0};function en(C){return C>>>1&1073741824|C&3221225471}function Gn(C){if(C===!1||C===null||C===void 0||typeof C.valueOf=="function"&&(C=C.valueOf(),C===!1||C===null||C===void 0))return 0;if(C===!0)return 1;var j=typeof C;if(j==="number"){var Q=C|0;for(Q!==C&&(Q^=C*4294967295);C>4294967295;)C/=4294967295,Q^=C;return en(Q)}if(j==="string")return C.length>Wn?$t(C):Kt(C);if(typeof C.hashCode=="function")return C.hashCode();if(j==="object")return nn(C);if(typeof C.toString=="function")return Kt(C.toString());throw new Error("Value type "+j+" cannot be hashed.")}function $t(C){var j=vo[C];return j===void 0&&(j=Kt(C),Ri===Er&&(Ri=0,vo={}),Ri++,vo[C]=j),j}function Kt(C){for(var j=0,Q=0;Q<C.length;Q++)j=31*j+C.charCodeAt(Q)|0;return en(j)}function nn(C){var j;if(ai&&(j=qi.get(C),j!==void 0)||(j=C[Fr],j!==void 0)||!wn&&(j=C.propertyIsEnumerable&&C.propertyIsEnumerable[Fr],j!==void 0||(j=hi(C),j!==void 0)))return j;if(j=++Do,Do&1073741824&&(Do=0),ai)qi.set(C,j);else{if(un!==void 0&&un(C)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(wn)Object.defineProperty(C,Fr,{enumerable:!1,configurable:!1,writable:!1,value:j});else if(C.propertyIsEnumerable!==void 0&&C.propertyIsEnumerable===C.constructor.prototype.propertyIsEnumerable)C.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},C.propertyIsEnumerable[Fr]=j;else if(C.nodeType!==void 0)C[Fr]=j;else throw new Error("Unable to set a non-enumerable property on object.")}return j}var un=Object.isExtensible,wn=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function hi(C){if(C&&C.nodeType>0)switch(C.nodeType){case 1:return C.uniqueID;case 9:return C.documentElement&&C.documentElement.uniqueID}}var ai=typeof WeakMap=="function",qi;ai&&(qi=new WeakMap);var Do=0,Fr="__immutablehash__";typeof Symbol=="function"&&(Fr=Symbol(Fr));var Wn=16,Er=255,Ri=0,vo={};function jr(C){Zn(C!==1/0,"Cannot perform this action with an infinite size.")}r(gn,Br);function gn(C){return C==null?Tr():st(C)&&!g(C)?C:Tr().withMutations(function(j){var Q=o(C);jr(Q.size),Q.forEach(function(ne,oe){return j.set(oe,ne)})})}gn.prototype.toString=function(){return this.__toString("Map {","}")},gn.prototype.get=function(C,j){return this._root?this._root.get(0,void 0,C,j):j},gn.prototype.set=function(C,j){return no(this,C,j)},gn.prototype.setIn=function(C,j){return this.updateIn(C,M,function(){return j})},gn.prototype.remove=function(C){return no(this,C,M)},gn.prototype.deleteIn=function(C){return this.updateIn(C,function(){return M})},gn.prototype.update=function(C,j,Q){return arguments.length===1?C(this):this.updateIn([C],j,Q)},gn.prototype.updateIn=function(C,j,Q){Q||(Q=j,j=void 0);var ne=bo(this,Qu(C),j,Q);return ne===M?void 0:ne},gn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Tr()},gn.prototype.merge=function(){return yo(this,void 0,arguments)},gn.prototype.mergeWith=function(C){var j=n.call(arguments,1);return yo(this,C,j)},gn.prototype.mergeIn=function(C){var j=n.call(arguments,1);return this.updateIn(C,Tr(),function(Q){return typeof Q.merge=="function"?Q.merge.apply(Q,j):j[j.length-1]})},gn.prototype.mergeDeep=function(){return yo(this,Ba,arguments)},gn.prototype.mergeDeepWith=function(C){var j=n.call(arguments,1);return yo(this,_s(C),j)},gn.prototype.mergeDeepIn=function(C){var j=n.call(arguments,1);return this.updateIn(C,Tr(),function(Q){return typeof Q.mergeDeep=="function"?Q.mergeDeep.apply(Q,j):j[j.length-1]})},gn.prototype.sort=function(C){return hr(Va(this,C))},gn.prototype.sortBy=function(C,j){return hr(Va(this,j,C))},gn.prototype.withMutations=function(C){var j=this.asMutable();return C(j),j.wasAltered()?j.__ensureOwner(this.__ownerID):this},gn.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new A)},gn.prototype.asImmutable=function(){return this.__ensureOwner()},gn.prototype.wasAltered=function(){return this.__altered},gn.prototype.__iterator=function(C,j){return new Yi(this,C,j)},gn.prototype.__iterate=function(C,j){var Q=this,ne=0;return this._root&&this._root.iterate(function(oe){return ne++,C(oe[1],oe[0],Q)},j),ne},gn.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?cs(this.size,this._root,C,this.__hash):(this.__ownerID=C,this.__altered=!1,this)};function st(C){return!!(C&&C[it])}gn.isMap=st;var it="@@__IMMUTABLE_MAP__@@",vt=gn.prototype;vt[it]=!0,vt[S]=vt.remove,vt.removeIn=vt.deleteIn;function Yt(C,j){this.ownerID=C,this.entries=j}Yt.prototype.get=function(C,j,Q,ne){for(var oe=this.entries,ve=0,be=oe.length;ve<be;ve++)if(mt(Q,oe[ve][0]))return oe[ve][1];return ne},Yt.prototype.update=function(C,j,Q,ne,oe,ve,be){for(var De=oe===M,Ye=this.entries,ot=0,ft=Ye.length;ot<ft&&!mt(ne,Ye[ot][0]);ot++);var Gt=ot<ft;if(Gt?Ye[ot][1]===oe:De)return this;if(L(be),(De||!Gt)&&L(ve),!(De&&Ye.length===1)){if(!Gt&&!De&&Ye.length>=gl)return fi(C,Ye,ne,oe);var rn=C&&C===this.ownerID,_n=rn?Ye:$(Ye);return Gt?De?ot===ft-1?_n.pop():_n[ot]=_n.pop():_n[ot]=[ne,oe]:_n.push([ne,oe]),rn?(this.entries=_n,this):new Yt(C,_n)}};function vn(C,j,Q){this.ownerID=C,this.bitmap=j,this.nodes=Q}vn.prototype.get=function(C,j,Q,ne){j===void 0&&(j=Gn(Q));var oe=1<<((C===0?j:j>>>C)&R),ve=this.bitmap;return(ve&oe)===0?ne:this.nodes[tc(ve&oe-1)].get(C+E,j,Q,ne)},vn.prototype.update=function(C,j,Q,ne,oe,ve,be){Q===void 0&&(Q=Gn(ne));var De=(j===0?Q:Q>>>j)&R,Ye=1<<De,ot=this.bitmap,ft=(ot&Ye)!==0;if(!ft&&oe===M)return this;var Gt=tc(ot&Ye-1),rn=this.nodes,_n=ft?rn[Gt]:void 0,Fn=Ao(_n,C,j+E,Q,ne,oe,ve,be);if(Fn===_n)return this;if(!ft&&Fn&&rn.length>=nc)return Ys(C,rn,ot,De,Fn);if(ft&&!Fn&&rn.length===2&&Bc(rn[Gt^1]))return rn[Gt^1];if(ft&&Fn&&rn.length===1&&Bc(Fn))return Fn;var kr=C&&C===this.ownerID,Qr=ft?Fn?ot:ot^Ye:ot|Ye,oo=ft?Fn?Xs(rn,Gt,Fn,kr):Zs(rn,Gt,kr):pl(rn,Gt,Fn,kr);return kr?(this.bitmap=Qr,this.nodes=oo,this):new vn(C,Qr,oo)};function br(C,j,Q){this.ownerID=C,this.count=j,this.nodes=Q}br.prototype.get=function(C,j,Q,ne){j===void 0&&(j=Gn(Q));var oe=(C===0?j:j>>>C)&R,ve=this.nodes[oe];return ve?ve.get(C+E,j,Q,ne):ne},br.prototype.update=function(C,j,Q,ne,oe,ve,be){Q===void 0&&(Q=Gn(ne));var De=(j===0?Q:Q>>>j)&R,Ye=oe===M,ot=this.nodes,ft=ot[De];if(Ye&&!ft)return this;var Gt=Ao(ft,C,j+E,Q,ne,oe,ve,be);if(Gt===ft)return this;var rn=this.count;if(!ft)rn++;else if(!Gt&&(rn--,rn<Es))return wr(C,ot,rn,De);var _n=C&&C===this.ownerID,Fn=Xs(ot,De,Gt,_n);return _n?(this.count=rn,this.nodes=Fn,this):new br(C,rn,Fn)};function dr(C,j,Q){this.ownerID=C,this.keyHash=j,this.entries=Q}dr.prototype.get=function(C,j,Q,ne){for(var oe=this.entries,ve=0,be=oe.length;ve<be;ve++)if(mt(Q,oe[ve][0]))return oe[ve][1];return ne},dr.prototype.update=function(C,j,Q,ne,oe,ve,be){Q===void 0&&(Q=Gn(ne));var De=oe===M;if(Q!==this.keyHash)return De?this:(L(be),L(ve),Jl(this,C,j,Q,[ne,oe]));for(var Ye=this.entries,ot=0,ft=Ye.length;ot<ft&&!mt(ne,Ye[ot][0]);ot++);var Gt=ot<ft;if(Gt?Ye[ot][1]===oe:De)return this;if(L(be),(De||!Gt)&&L(ve),De&&ft===2)return new Zr(C,this.keyHash,Ye[ot^1]);var rn=C&&C===this.ownerID,_n=rn?Ye:$(Ye);return Gt?De?ot===ft-1?_n.pop():_n[ot]=_n.pop():_n[ot]=[ne,oe]:_n.push([ne,oe]),rn?(this.entries=_n,this):new dr(C,this.keyHash,_n)};function Zr(C,j,Q){this.ownerID=C,this.keyHash=j,this.entry=Q}Zr.prototype.get=function(C,j,Q,ne){return mt(Q,this.entry[0])?this.entry[1]:ne},Zr.prototype.update=function(C,j,Q,ne,oe,ve,be){var De=oe===M,Ye=mt(ne,this.entry[0]);if(Ye?oe===this.entry[1]:De)return this;if(L(be),De){L(ve);return}return Ye?C&&C===this.ownerID?(this.entry[1]=oe,this):new Zr(C,this.keyHash,[ne,oe]):(L(ve),Jl(this,C,j,Gn(ne),[ne,oe]))},Yt.prototype.iterate=dr.prototype.iterate=function(C,j){for(var Q=this.entries,ne=0,oe=Q.length-1;ne<=oe;ne++)if(C(Q[j?oe-ne:ne])===!1)return!1},vn.prototype.iterate=br.prototype.iterate=function(C,j){for(var Q=this.nodes,ne=0,oe=Q.length-1;ne<=oe;ne++){var ve=Q[j?oe-ne:ne];if(ve&&ve.iterate(C,j)===!1)return!1}},Zr.prototype.iterate=function(C,j){return C(this.entry)},r(Yi,pe);function Yi(C,j,Q){this._type=j,this._reverse=Q,this._stack=C._root&&Bi(C._root)}Yi.prototype.next=function(){for(var C=this._type,j=this._stack;j;){var Q=j.node,ne=j.index++,oe;if(Q.entry){if(ne===0)return Jo(C,Q.entry)}else if(Q.entries){if(oe=Q.entries.length-1,ne<=oe)return Jo(C,Q.entries[this._reverse?oe-ne:ne])}else if(oe=Q.nodes.length-1,ne<=oe){var ve=Q.nodes[this._reverse?oe-ne:ne];if(ve){if(ve.entry)return Jo(C,ve.entry);j=this._stack=Bi(ve,j)}continue}j=this._stack=this._stack.__prev}return Ce()};function Jo(C,j){return le(C,j[0],j[1])}function Bi(C,j){return{node:C,index:0,__prev:j}}function cs(C,j,Q,ne){var oe=Object.create(vt);return oe.size=C,oe._root=j,oe.__ownerID=Q,oe.__hash=ne,oe.__altered=!1,oe}var Nn;function Tr(){return Nn||(Nn=cs(0))}function no(C,j,Q){var ne,oe;if(C._root){var ve=D(I),be=D(N);if(ne=Ao(C._root,C.__ownerID,0,void 0,j,Q,ve,be),!be.value)return C;oe=C.size+(ve.value?Q===M?-1:1:0)}else{if(Q===M)return C;oe=1,ne=new Yt(C.__ownerID,[[j,Q]])}return C.__ownerID?(C.size=oe,C._root=ne,C.__hash=void 0,C.__altered=!0,C):ne?cs(oe,ne):Tr()}function Ao(C,j,Q,ne,oe,ve,be,De){return C?C.update(j,Q,ne,oe,ve,be,De):ve===M?C:(L(De),L(be),new Zr(j,ne,[oe,ve]))}function Bc(C){return C.constructor===Zr||C.constructor===dr}function Jl(C,j,Q,ne,oe){if(C.keyHash===ne)return new dr(j,ne,[C.entry,oe]);var ve=(Q===0?C.keyHash:C.keyHash>>>Q)&R,be=(Q===0?ne:ne>>>Q)&R,De,Ye=ve===be?[Jl(C,j,Q+E,ne,oe)]:(De=new Zr(j,ne,oe),ve<be?[C,De]:[De,C]);return new vn(j,1<<ve|1<<be,Ye)}function fi(C,j,Q,ne){C||(C=new A);for(var oe=new Zr(C,Gn(Q),[Q,ne]),ve=0;ve<j.length;ve++){var be=j[ve];oe=oe.update(C,0,void 0,be[0],be[1])}return oe}function wr(C,j,Q,ne){for(var oe=0,ve=0,be=new Array(Q),De=0,Ye=1,ot=j.length;De<ot;De++,Ye<<=1){var ft=j[De];ft!==void 0&&De!==ne&&(oe|=Ye,be[ve++]=ft)}return new vn(C,oe,be)}function Ys(C,j,Q,ne,oe){for(var ve=0,be=new Array(T),De=0;Q!==0;De++,Q>>>=1)be[De]=Q&1?j[ve++]:void 0;return be[ne]=oe,new br(C,ve+1,be)}function yo(C,j,Q){for(var ne=[],oe=0;oe<Q.length;oe++){var ve=Q[oe],be=o(ve);c(ve)||(be=be.map(function(De){return Je(De)})),ne.push(be)}return ec(C,j,ne)}function Ba(C,j,Q){return C&&C.mergeDeep&&c(j)?C.mergeDeep(j):mt(C,j)?C:j}function _s(C){return function(j,Q,ne){if(j&&j.mergeDeepWith&&c(Q))return j.mergeDeepWith(C,Q);var oe=C(j,Q,ne);return mt(j,oe)?j:oe}}function ec(C,j,Q){return Q=Q.filter(function(ne){return ne.size!==0}),Q.length===0?C:C.size===0&&!C.__ownerID&&Q.length===1?C.constructor(Q[0]):C.withMutations(function(ne){for(var oe=j?function(be,De){ne.update(De,M,function(Ye){return Ye===M?be:j(Ye,be,De)})}:function(be,De){ne.set(De,be)},ve=0;ve<Q.length;ve++)Q[ve].forEach(oe)})}function bo(C,j,Q,ne){var oe=C===M,ve=j.next();if(ve.done){var be=oe?Q:C,De=ne(be);return De===be?C:De}Zn(oe||C&&C.set,"invalid keyPath");var Ye=ve.value,ot=oe?M:C.get(Ye,M),ft=bo(ot,j,Q,ne);return ft===ot?C:ft===M?C.remove(Ye):(oe?Tr():C).set(Ye,ft)}function tc(C){return C=C-(C>>1&1431655765),C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C=C+(C>>8),C=C+(C>>16),C&127}function Xs(C,j,Q,ne){var oe=ne?C:$(C);return oe[j]=Q,oe}function pl(C,j,Q,ne){var oe=C.length+1;if(ne&&j+1===oe)return C[j]=Q,C;for(var ve=new Array(oe),be=0,De=0;De<oe;De++)De===j?(ve[De]=Q,be=-1):ve[De]=C[De+be];return ve}function Zs(C,j,Q){var ne=C.length-1;if(Q&&j===ne)return C.pop(),C;for(var oe=new Array(ne),ve=0,be=0;be<ne;be++)be===j&&(ve=1),oe[be]=C[be+ve];return oe}var gl=T/4,nc=T/2,Es=T/4;r(Sr,St);function Sr(C){var j=Ms();if(C==null)return j;if(Fc(C))return C;var Q=s(C),ne=Q.size;return ne===0?j:(jr(ne),ne>0&&ne<T?So(0,ne,E,null,new Xi(Q.toArray())):j.withMutations(function(oe){oe.setSize(ne),Q.forEach(function(ve,be){return oe.set(be,ve)})}))}Sr.of=function(){return this(arguments)},Sr.prototype.toString=function(){return this.__toString("List [","]")},Sr.prototype.get=function(C,j){if(C=H(this,C),C>=0&&C<this.size){C+=this._origin;var Q=rc(this,C);return Q&&Q.array[C&R]}return j},Sr.prototype.set=function(C,j){return ln(this,C,j)},Sr.prototype.remove=function(C){return this.has(C)?C===0?this.shift():C===this.size-1?this.pop():this.splice(C,1):this},Sr.prototype.insert=function(C,j){return this.splice(C,0,j)},Sr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=E,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ms()},Sr.prototype.push=function(){var C=arguments,j=this.size;return this.withMutations(function(Q){ro(Q,0,j+C.length);for(var ne=0;ne<C.length;ne++)Q.set(j+ne,C[ne])})},Sr.prototype.pop=function(){return ro(this,0,-1)},Sr.prototype.unshift=function(){var C=arguments;return this.withMutations(function(j){ro(j,-C.length);for(var Q=0;Q<C.length;Q++)j.set(Q,C[Q])})},Sr.prototype.shift=function(){return ro(this,1)},Sr.prototype.merge=function(){return Fi(this,void 0,arguments)},Sr.prototype.mergeWith=function(C){var j=n.call(arguments,1);return Fi(this,C,j)},Sr.prototype.mergeDeep=function(){return Fi(this,Ba,arguments)},Sr.prototype.mergeDeepWith=function(C){var j=n.call(arguments,1);return Fi(this,_s(C),j)},Sr.prototype.setSize=function(C){return ro(this,0,C)},Sr.prototype.slice=function(C,j){var Q=this.size;return K(C,j,Q)?this:ro(this,z(C,Q),Z(j,Q))},Sr.prototype.__iterator=function(C,j){var Q=0,ne=wo(this,j);return new pe(function(){var oe=ne();return oe===Qs?Ce():le(C,Q++,oe)})},Sr.prototype.__iterate=function(C,j){for(var Q=0,ne=wo(this,j),oe;(oe=ne())!==Qs&&C(oe,Q++,this)!==!1;);return Q},Sr.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?So(this._origin,this._capacity,this._level,this._root,this._tail,C,this.__hash):(this.__ownerID=C,this)};function Fc(C){return!!(C&&C[Fa])}Sr.isList=Fc;var Fa="@@__IMMUTABLE_LIST__@@",ri=Sr.prototype;ri[Fa]=!0,ri[S]=ri.remove,ri.setIn=vt.setIn,ri.deleteIn=ri.removeIn=vt.removeIn,ri.update=vt.update,ri.updateIn=vt.updateIn,ri.mergeIn=vt.mergeIn,ri.mergeDeepIn=vt.mergeDeepIn,ri.withMutations=vt.withMutations,ri.asMutable=vt.asMutable,ri.asImmutable=vt.asImmutable,ri.wasAltered=vt.wasAltered;function Xi(C,j){this.array=C,this.ownerID=j}Xi.prototype.removeBefore=function(C,j,Q){if(Q===j?1<<j:this.array.length===0)return this;var ne=Q>>>j&R;if(ne>=this.array.length)return new Xi([],C);var oe=ne===0,ve;if(j>0){var be=this.array[ne];if(ve=be&&be.removeBefore(C,j-E,Q),ve===be&&oe)return this}if(oe&&!ve)return this;var De=Lo(this,C);if(!oe)for(var Ye=0;Ye<ne;Ye++)De.array[Ye]=void 0;return ve&&(De.array[ne]=ve),De},Xi.prototype.removeAfter=function(C,j,Q){if(Q===(j?1<<j:0)||this.array.length===0)return this;var ne=Q-1>>>j&R;if(ne>=this.array.length)return this;var oe;if(j>0){var ve=this.array[ne];if(oe=ve&&ve.removeAfter(C,j-E,Q),oe===ve&&ne===this.array.length-1)return this}var be=Lo(this,C);return be.array.splice(ne+1),oe&&(be.array[ne]=oe),be};var Qs={};function wo(C,j){var Q=C._origin,ne=C._capacity,oe=Zi(ne),ve=C._tail;return be(C._root,C._level,0);function be(ot,ft,Gt){return ft===0?De(ot,Gt):Ye(ot,ft,Gt)}function De(ot,ft){var Gt=ft===oe?ve&&ve.array:ot&&ot.array,rn=ft>Q?0:Q-ft,_n=ne-ft;return _n>T&&(_n=T),function(){if(rn===_n)return Qs;var Fn=j?--_n:rn++;return Gt&&Gt[Fn]}}function Ye(ot,ft,Gt){var rn,_n=ot&&ot.array,Fn=Gt>Q?0:Q-Gt>>ft,kr=(ne-Gt>>ft)+1;return kr>T&&(kr=T),function(){do{if(rn){var Qr=rn();if(Qr!==Qs)return Qr;rn=null}if(Fn===kr)return Qs;var oo=j?--kr:Fn++;rn=be(_n&&_n[oo],ft-E,Gt+(oo<<ft))}while(!0)}}}function So(C,j,Q,ne,oe,ve,be){var De=Object.create(ri);return De.size=j-C,De._origin=C,De._capacity=j,De._level=Q,De._root=ne,De._tail=oe,De.__ownerID=ve,De.__hash=be,De.__altered=!1,De}var Ts;function Ms(){return Ts||(Ts=So(0,0,E))}function ln(C,j,Q){if(j=H(C,j),j!==j)return C;if(j>=C.size||j<0)return C.withMutations(function(be){j<0?ro(be,j).set(0,Q):ro(be,0,j+1).set(j,Q)});j+=C._origin;var ne=C._tail,oe=C._root,ve=D(N);return j>=Zi(C._capacity)?ne=ja(ne,C.__ownerID,0,j,Q,ve):oe=ja(oe,C.__ownerID,C._level,j,Q,ve),ve.value?C.__ownerID?(C._root=oe,C._tail=ne,C.__hash=void 0,C.__altered=!0,C):So(C._origin,C._capacity,C._level,oe,ne):C}function ja(C,j,Q,ne,oe,ve){var be=ne>>>Q&R,De=C&&be<C.array.length;if(!De&&oe===void 0)return C;var Ye;if(Q>0){var ot=C&&C.array[be],ft=ja(ot,j,Q-E,ne,oe,ve);return ft===ot?C:(Ye=Lo(C,j),Ye.array[be]=ft,Ye)}return De&&C.array[be]===oe?C:(L(ve),Ye=Lo(C,j),oe===void 0&&be===Ye.array.length-1?Ye.array.pop():Ye.array[be]=oe,Ye)}function Lo(C,j){return j&&C&&j===C.ownerID?C:new Xi(C?C.array.slice():[],j)}function rc(C,j){if(j>=Zi(C._capacity))return C._tail;if(j<1<<C._level+E){for(var Q=C._root,ne=C._level;Q&&ne>0;)Q=Q.array[j>>>ne&R],ne-=E;return Q}}function ro(C,j,Q){j!==void 0&&(j=j|0),Q!==void 0&&(Q=Q|0);var ne=C.__ownerID||new A,oe=C._origin,ve=C._capacity,be=oe+j,De=Q===void 0?ve:Q<0?ve+Q:oe+Q;if(be===oe&&De===ve)return C;if(be>=De)return C.clear();for(var Ye=C._level,ot=C._root,ft=0;be+ft<0;)ot=new Xi(ot&&ot.array.length?[void 0,ot]:[],ne),Ye+=E,ft+=1<<Ye;ft&&(be+=ft,oe+=ft,De+=ft,ve+=ft);for(var Gt=Zi(ve),rn=Zi(De);rn>=1<<Ye+E;)ot=new Xi(ot&&ot.array.length?[ot]:[],ne),Ye+=E;var _n=C._tail,Fn=rn<Gt?rc(C,De-1):rn>Gt?new Xi([],ne):_n;if(_n&&rn>Gt&&be<ve&&_n.array.length){ot=Lo(ot,ne);for(var kr=ot,Qr=Ye;Qr>E;Qr-=E){var oo=Gt>>>Qr&R;kr=kr.array[oo]=Lo(kr.array[oo],ne)}kr.array[Gt>>>E&R]=_n}if(De<ve&&(Fn=Fn&&Fn.removeAfter(ne,0,De)),be>=rn)be-=rn,De-=rn,Ye=E,ot=null,Fn=Fn&&Fn.removeBefore(ne,0,be);else if(be>oe||rn<Gt){for(ft=0;ot;){var yl=be>>>Ye&R;if(yl!==rn>>>Ye&R)break;yl&&(ft+=(1<<Ye)*yl),Ye-=E,ot=ot.array[yl]}ot&&be>oe&&(ot=ot.removeBefore(ne,Ye,be-ft)),ot&&rn<Gt&&(ot=ot.removeAfter(ne,Ye,rn-ft)),ft&&(be-=ft,De-=ft)}return C.__ownerID?(C.size=De-be,C._origin=be,C._capacity=De,C._level=Ye,C._root=ot,C._tail=Fn,C.__hash=void 0,C.__altered=!0,C):So(be,De,Ye,ot,Fn)}function Fi(C,j,Q){for(var ne=[],oe=0,ve=0;ve<Q.length;ve++){var be=Q[ve],De=s(be);De.size>oe&&(oe=De.size),c(be)||(De=De.map(function(Ye){return Je(Ye)})),ne.push(De)}return oe>C.size&&(C=C.setSize(oe)),ec(C,j,ne)}function Zi(C){return C<T?0:C-1>>>E<<E}r(hr,gn);function hr(C){return C==null?re():Uo(C)?C:re().withMutations(function(j){var Q=o(C);jr(Q.size),Q.forEach(function(ne,oe){return j.set(oe,ne)})})}hr.of=function(){return this(arguments)},hr.prototype.toString=function(){return this.__toString("OrderedMap {","}")},hr.prototype.get=function(C,j){var Q=this._map.get(C);return Q!==void 0?this._list.get(Q)[1]:j},hr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):re()},hr.prototype.set=function(C,j){return ue(this,C,j)},hr.prototype.remove=function(C){return ue(this,C,M)},hr.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},hr.prototype.__iterate=function(C,j){var Q=this;return this._list.__iterate(function(ne){return ne&&C(ne[1],ne[0],Q)},j)},hr.prototype.__iterator=function(C,j){return this._list.fromEntrySeq().__iterator(C,j)},hr.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var j=this._map.__ensureOwner(C),Q=this._list.__ensureOwner(C);return C?B(j,Q,C,this.__hash):(this.__ownerID=C,this._map=j,this._list=Q,this)};function Uo(C){return st(C)&&g(C)}hr.isOrderedMap=Uo,hr.prototype[v]=!0,hr.prototype[S]=hr.prototype.remove;function B(C,j,Q,ne){var oe=Object.create(hr.prototype);return oe.size=C?C.size:0,oe._map=C,oe._list=j,oe.__ownerID=Q,oe.__hash=ne,oe}var G;function re(){return G||(G=B(Tr(),Ms()))}function ue(C,j,Q){var ne=C._map,oe=C._list,ve=ne.get(j),be=ve!==void 0,De,Ye;if(Q===M){if(!be)return C;oe.size>=T&&oe.size>=ne.size*2?(Ye=oe.filter(function(ot,ft){return ot!==void 0&&ve!==ft}),De=Ye.toKeyedSeq().map(function(ot){return ot[0]}).flip().toMap(),C.__ownerID&&(De.__ownerID=Ye.__ownerID=C.__ownerID)):(De=ne.remove(j),Ye=ve===oe.size-1?oe.pop():oe.set(ve,void 0))}else if(be){if(Q===oe.get(ve)[1])return C;De=ne,Ye=oe.set(ve,[j,Q])}else De=ne.set(j,oe.size),Ye=oe.set(oe.size,[j,Q]);return C.__ownerID?(C.size=De.size,C._map=De,C._list=Ye,C.__hash=void 0,C):B(De,Ye)}r(we,Le);function we(C,j){this._iter=C,this._useKeys=j,this.size=C.size}we.prototype.get=function(C,j){return this._iter.get(C,j)},we.prototype.has=function(C){return this._iter.has(C)},we.prototype.valueSeq=function(){return this._iter.valueSeq()},we.prototype.reverse=function(){var C=this,j=Vr(this,!0);return this._useKeys||(j.valueSeq=function(){return C._iter.toSeq().reverse()}),j},we.prototype.map=function(C,j){var Q=this,ne=Pn(this,C,j);return this._useKeys||(ne.valueSeq=function(){return Q._iter.toSeq().map(C,j)}),ne},we.prototype.__iterate=function(C,j){var Q=this,ne;return this._iter.__iterate(this._useKeys?function(oe,ve){return C(oe,ve,Q)}:(ne=j?Yu(this):0,function(oe){return C(oe,j?--ne:ne++,Q)}),j)},we.prototype.__iterator=function(C,j){if(this._useKeys)return this._iter.__iterator(C,j);var Q=this._iter.__iterator(U,j),ne=j?Yu(this):0;return new pe(function(){var oe=Q.next();return oe.done?oe:le(C,j?--ne:ne++,oe.value,oe)})},we.prototype[v]=!0,r($e,Ie);function $e(C){this._iter=C,this.size=C.size}$e.prototype.includes=function(C){return this._iter.includes(C)},$e.prototype.__iterate=function(C,j){var Q=this,ne=0;return this._iter.__iterate(function(oe){return C(oe,ne++,Q)},j)},$e.prototype.__iterator=function(C,j){var Q=this._iter.__iterator(U,j),ne=0;return new pe(function(){var oe=Q.next();return oe.done?oe:le(C,ne++,oe.value,oe)})},r(Xe,je);function Xe(C){this._iter=C,this.size=C.size}Xe.prototype.has=function(C){return this._iter.includes(C)},Xe.prototype.__iterate=function(C,j){var Q=this;return this._iter.__iterate(function(ne){return C(ne,ne,Q)},j)},Xe.prototype.__iterator=function(C,j){var Q=this._iter.__iterator(U,j);return new pe(function(){var ne=Q.next();return ne.done?ne:le(C,ne.value,ne.value,ne)})},r(tn,Le);function tn(C){this._iter=C,this.size=C.size}tn.prototype.entrySeq=function(){return this._iter.toSeq()},tn.prototype.__iterate=function(C,j){var Q=this;return this._iter.__iterate(function(ne){if(ne){qu(ne);var oe=c(ne);return C(oe?ne.get(1):ne[1],oe?ne.get(0):ne[0],Q)}},j)},tn.prototype.__iterator=function(C,j){var Q=this._iter.__iterator(U,j);return new pe(function(){for(;;){var ne=Q.next();if(ne.done)return ne;var oe=ne.value;if(oe){qu(oe);var ve=c(oe);return le(C,ve?oe.get(0):oe[0],ve?oe.get(1):oe[1],ne)}}})},$e.prototype.cacheResult=we.prototype.cacheResult=Xe.prototype.cacheResult=tn.prototype.cacheResult=vl;function Bn(C){var j=es(C);return j._iter=C,j.size=C.size,j.flip=function(){return C},j.reverse=function(){var Q=C.reverse.apply(this);return Q.flip=function(){return C.reverse()},Q},j.has=function(Q){return C.includes(Q)},j.includes=function(Q){return C.has(Q)},j.cacheResult=vl,j.__iterateUncached=function(Q,ne){var oe=this;return C.__iterate(function(ve,be){return Q(be,ve,oe)!==!1},ne)},j.__iteratorUncached=function(Q,ne){if(Q===Y){var oe=C.__iterator(Q,ne);return new pe(function(){var ve=oe.next();if(!ve.done){var be=ve.value[0];ve.value[0]=ve.value[1],ve.value[1]=be}return ve})}return C.__iterator(Q===U?ie:U,ne)},j}function Pn(C,j,Q){var ne=es(C);return ne.size=C.size,ne.has=function(oe){return C.has(oe)},ne.get=function(oe,ve){var be=C.get(oe,M);return be===M?ve:j.call(Q,be,oe,C)},ne.__iterateUncached=function(oe,ve){var be=this;return C.__iterate(function(De,Ye,ot){return oe(j.call(Q,De,Ye,ot),Ye,be)!==!1},ve)},ne.__iteratorUncached=function(oe,ve){var be=C.__iterator(Y,ve);return new pe(function(){var De=be.next();if(De.done)return De;var Ye=De.value,ot=Ye[0];return le(oe,ot,j.call(Q,Ye[1],ot,C),De)})},ne}function Vr(C,j){var Q=es(C);return Q._iter=C,Q.size=C.size,Q.reverse=function(){return C},C.flip&&(Q.flip=function(){var ne=Bn(C);return ne.reverse=function(){return C.flip()},ne}),Q.get=function(ne,oe){return C.get(j?ne:-1-ne,oe)},Q.has=function(ne){return C.has(j?ne:-1-ne)},Q.includes=function(ne){return C.includes(ne)},Q.cacheResult=vl,Q.__iterate=function(ne,oe){var ve=this;return C.__iterate(function(be,De){return ne(be,De,ve)},!oe)},Q.__iterator=function(ne,oe){return C.__iterator(ne,!oe)},Q}function Ii(C,j,Q,ne){var oe=es(C);return ne&&(oe.has=function(ve){var be=C.get(ve,M);return be!==M&&!!j.call(Q,be,ve,C)},oe.get=function(ve,be){var De=C.get(ve,M);return De!==M&&j.call(Q,De,ve,C)?De:be}),oe.__iterateUncached=function(ve,be){var De=this,Ye=0;return C.__iterate(function(ot,ft,Gt){if(j.call(Q,ot,ft,Gt))return Ye++,ve(ot,ne?ft:Ye-1,De)},be),Ye},oe.__iteratorUncached=function(ve,be){var De=C.__iterator(Y,be),Ye=0;return new pe(function(){for(;;){var ot=De.next();if(ot.done)return ot;var ft=ot.value,Gt=ft[0],rn=ft[1];if(j.call(Q,rn,Gt,C))return le(ve,ne?Gt:Ye++,rn,ot)}})},oe}function ic(C,j,Q){var ne=gn().asMutable();return C.__iterate(function(oe,ve){ne.update(j.call(Q,oe,ve,C),0,function(be){return be+1})}),ne.asImmutable()}function ml(C,j,Q){var ne=u(C),oe=(g(C)?hr():gn()).asMutable();C.__iterate(function(be,De){oe.update(j.call(Q,be,De,C),function(Ye){return Ye=Ye||[],Ye.push(ne?[De,be]:be),Ye})});var ve=Xu(C);return oe.map(function(be){return fr(C,ve(be))})}function Js(C,j,Q,ne){var oe=C.size;if(j!==void 0&&(j=j|0),Q!==void 0&&(Q=Q|0),K(j,Q,oe))return C;var ve=z(j,oe),be=Z(Q,oe);if(ve!==ve||be!==be)return Js(C.toSeq().cacheResult(),j,Q,ne);var De=be-ve,Ye;De===De&&(Ye=De<0?0:De);var ot=es(C);return ot.size=Ye===0?Ye:C.size&&Ye||void 0,!ne&&Ke(C)&&Ye>=0&&(ot.get=function(ft,Gt){return ft=H(this,ft),ft>=0&&ft<Ye?C.get(ft+ve,Gt):Gt}),ot.__iterateUncached=function(ft,Gt){var rn=this;if(Ye===0)return 0;if(Gt)return this.cacheResult().__iterate(ft,Gt);var _n=0,Fn=!0,kr=0;return C.__iterate(function(Qr,oo){if(!(Fn&&(Fn=_n++<ve)))return kr++,ft(Qr,ne?oo:kr-1,rn)!==!1&&kr!==Ye}),kr},ot.__iteratorUncached=function(ft,Gt){if(Ye!==0&&Gt)return this.cacheResult().__iterator(ft,Gt);var rn=Ye!==0&&C.__iterator(ft,Gt),_n=0,Fn=0;return new pe(function(){for(;_n++<ve;)rn.next();if(++Fn>Ye)return Ce();var kr=rn.next();return ne||ft===U?kr:ft===ie?le(ft,Fn-1,void 0,kr):le(ft,Fn-1,kr.value[1],kr)})},ot}function Gu(C,j,Q){var ne=es(C);return ne.__iterateUncached=function(oe,ve){var be=this;if(ve)return this.cacheResult().__iterate(oe,ve);var De=0;return C.__iterate(function(Ye,ot,ft){return j.call(Q,Ye,ot,ft)&&++De&&oe(Ye,ot,be)}),De},ne.__iteratorUncached=function(oe,ve){var be=this;if(ve)return this.cacheResult().__iterator(oe,ve);var De=C.__iterator(Y,ve),Ye=!0;return new pe(function(){if(!Ye)return Ce();var ot=De.next();if(ot.done)return ot;var ft=ot.value,Gt=ft[0],rn=ft[1];return j.call(Q,rn,Gt,be)?oe===Y?ot:le(oe,Gt,rn,ot):(Ye=!1,Ce())})},ne}function jc(C,j,Q,ne){var oe=es(C);return oe.__iterateUncached=function(ve,be){var De=this;if(be)return this.cacheResult().__iterate(ve,be);var Ye=!0,ot=0;return C.__iterate(function(ft,Gt,rn){if(!(Ye&&(Ye=j.call(Q,ft,Gt,rn))))return ot++,ve(ft,ne?Gt:ot-1,De)}),ot},oe.__iteratorUncached=function(ve,be){var De=this;if(be)return this.cacheResult().__iterator(ve,be);var Ye=C.__iterator(Y,be),ot=!0,ft=0;return new pe(function(){var Gt,rn,_n;do{if(Gt=Ye.next(),Gt.done)return ne||ve===U?Gt:ve===ie?le(ve,ft++,void 0,Gt):le(ve,ft++,Gt.value[1],Gt);var Fn=Gt.value;rn=Fn[0],_n=Fn[1],ot&&(ot=j.call(Q,_n,rn,De))}while(ot);return ve===Y?Gt:le(ve,rn,_n,Gt)})},oe}function Mh(C,j){var Q=u(C),ne=[C].concat(j).map(function(be){return c(be)?Q&&(be=o(be)):be=Q?zt(be):Lt(Array.isArray(be)?be:[be]),be}).filter(function(be){return be.size!==0});if(ne.length===0)return C;if(ne.length===1){var oe=ne[0];if(oe===C||Q&&u(oe)||h(C)&&h(oe))return oe}var ve=new We(ne);return Q?ve=ve.toKeyedSeq():h(C)||(ve=ve.toSetSeq()),ve=ve.flatten(!0),ve.size=ne.reduce(function(be,De){if(be!==void 0){var Ye=De.size;if(Ye!==void 0)return be+Ye}},0),ve}function Wu(C,j,Q){var ne=es(C);return ne.__iterateUncached=function(oe,ve){var be=0,De=!1;function Ye(ot,ft){var Gt=this;ot.__iterate(function(rn,_n){return(!j||ft<j)&&c(rn)?Ye(rn,ft+1):oe(rn,Q?_n:be++,Gt)===!1&&(De=!0),!De},ve)}return Ye(C,0),be},ne.__iteratorUncached=function(oe,ve){var be=C.__iterator(oe,ve),De=[],Ye=0;return new pe(function(){for(;be;){var ot=be.next();if(ot.done!==!1){be=De.pop();continue}var ft=ot.value;if(oe===Y&&(ft=ft[1]),(!j||De.length<j)&&c(ft))De.push(be),be=ft.__iterator(oe,ve);else return Q?ot:le(oe,Ye++,ft,ot)}return Ce()})},ne}function Vc(C,j,Q){var ne=Xu(C);return C.toSeq().map(function(oe,ve){return ne(j.call(Q,oe,ve,C))}).flatten(!0)}function Oh(C,j){var Q=es(C);return Q.size=C.size&&C.size*2-1,Q.__iterateUncached=function(ne,oe){var ve=this,be=0;return C.__iterate(function(De,Ye){return(!be||ne(j,be++,ve)!==!1)&&ne(De,be++,ve)!==!1},oe),be},Q.__iteratorUncached=function(ne,oe){var ve=C.__iterator(U,oe),be=0,De;return new pe(function(){return(!De||be%2)&&(De=ve.next(),De.done)?De:be%2?le(ne,be++,j):le(ne,be++,De.value,De)})},Q}function Va(C,j,Q){j||(j=Zu);var ne=u(C),oe=0,ve=C.toSeq().map(function(be,De){return[De,be,oe++,Q?Q(be,De,C):be]}).toArray();return ve.sort(function(be,De){return j(be[3],De[3])||be[2]-De[2]}).forEach(ne?function(be,De){ve[De].length=2}:function(be,De){ve[De]=be[1]}),ne?Le(ve):h(C)?Ie(ve):je(ve)}function oc(C,j,Q){if(j||(j=Zu),Q){var ne=C.toSeq().map(function(oe,ve){return[oe,Q(oe,ve,C)]}).reduce(function(oe,ve){return Ku(j,oe[1],ve[1])?ve:oe});return ne&&ne[0]}else return C.reduce(function(oe,ve){return Ku(j,oe,ve)?ve:oe})}function Ku(C,j,Q){var ne=C(Q,j);return ne===0&&Q!==j&&(Q==null||Q!==Q)||ne>0}function $c(C,j,Q){var ne=es(C);return ne.size=new We(Q).map(function(oe){return oe.size}).min(),ne.__iterate=function(oe,ve){for(var be=this.__iterator(U,ve),De,Ye=0;!(De=be.next()).done&&oe(De.value,Ye++,this)!==!1;);return Ye},ne.__iteratorUncached=function(oe,ve){var be=Q.map(function(ot){return ot=i(ot),me(ve?ot.reverse():ot)}),De=0,Ye=!1;return new pe(function(){var ot;return Ye||(ot=be.map(function(ft){return ft.next()}),Ye=ot.some(function(ft){return ft.done})),Ye?Ce():le(oe,De++,j.apply(null,ot.map(function(ft){return ft.value})))})},ne}function fr(C,j){return Ke(C)?j:C.constructor(j)}function qu(C){if(C!==Object(C))throw new TypeError("Expected [K, V] tuple: "+C)}function Yu(C){return jr(C.size),F(C)}function Xu(C){return u(C)?o:h(C)?s:a}function es(C){return Object.create((u(C)?Le:h(C)?Ie:je).prototype)}function vl(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Re.prototype.cacheResult.call(this)}function Zu(C,j){return C>j?1:C<j?-1:0}function Qu(C){var j=me(C);if(!j){if(!xe(C))throw new TypeError("Expected iterable or array-like: "+C);j=me(i(C))}return j}r(io,Br);function io(C,j){var Q,ne=function(be){if(be instanceof ne)return be;if(!(this instanceof ne))return new ne(be);if(!Q){Q=!0;var De=Object.keys(C);$a(oe,De),oe.size=De.length,oe._name=j,oe._keys=De,oe._defaultValues=C}this._map=gn(be)},oe=ne.prototype=Object.create(_i);return oe.constructor=ne,ne}io.prototype.toString=function(){return this.__toString(dn(this)+" {","}")},io.prototype.has=function(C){return this._defaultValues.hasOwnProperty(C)},io.prototype.get=function(C,j){if(!this.has(C))return j;var Q=this._defaultValues[C];return this._map?this._map.get(C,Q):Q},io.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var C=this.constructor;return C._empty||(C._empty=de(this,Tr()))},io.prototype.set=function(C,j){if(!this.has(C))throw new Error('Cannot set unknown key "'+C+'" on '+dn(this));var Q=this._map&&this._map.set(C,j);return this.__ownerID||Q===this._map?this:de(this,Q)},io.prototype.remove=function(C){if(!this.has(C))return this;var j=this._map&&this._map.remove(C);return this.__ownerID||j===this._map?this:de(this,j)},io.prototype.wasAltered=function(){return this._map.wasAltered()},io.prototype.__iterator=function(C,j){var Q=this;return o(this._defaultValues).map(function(ne,oe){return Q.get(oe)}).__iterator(C,j)},io.prototype.__iterate=function(C,j){var Q=this;return o(this._defaultValues).map(function(ne,oe){return Q.get(oe)}).__iterate(C,j)},io.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var j=this._map&&this._map.__ensureOwner(C);return C?de(this,j,C):(this.__ownerID=C,this._map=j,this)};var _i=io.prototype;_i[S]=_i.remove,_i.deleteIn=_i.removeIn=vt.removeIn,_i.merge=vt.merge,_i.mergeWith=vt.mergeWith,_i.mergeIn=vt.mergeIn,_i.mergeDeep=vt.mergeDeep,_i.mergeDeepWith=vt.mergeDeepWith,_i.mergeDeepIn=vt.mergeDeepIn,_i.setIn=vt.setIn,_i.update=vt.update,_i.updateIn=vt.updateIn,_i.withMutations=vt.withMutations,_i.asMutable=vt.asMutable,_i.asImmutable=vt.asImmutable;function de(C,j,Q){var ne=Object.create(Object.getPrototypeOf(C));return ne._map=j,ne.__ownerID=Q,ne}function dn(C){return C._name||C.constructor.name||"Record"}function $a(C,j){try{j.forEach(Ho.bind(void 0,C))}catch{}}function Ho(C,j){Object.defineProperty(C,j,{get:function(){return this.get(j)},set:function(Q){Zn(this.__ownerID,"Cannot set on an immutable record."),this.set(j,Q)}})}r(Cr,Yr);function Cr(C){return C==null?sc():He(C)&&!g(C)?C:sc().withMutations(function(j){var Q=a(C);jr(Q.size),Q.forEach(function(ne){return j.add(ne)})})}Cr.of=function(){return this(arguments)},Cr.fromKeys=function(C){return this(o(C).keySeq())},Cr.prototype.toString=function(){return this.__toString("Set {","}")},Cr.prototype.has=function(C){return this._map.has(C)},Cr.prototype.add=function(C){return zc(this,this._map.set(C,!0))},Cr.prototype.remove=function(C){return zc(this,this._map.remove(C))},Cr.prototype.clear=function(){return zc(this,this._map.clear())},Cr.prototype.union=function(){var C=n.call(arguments,0);return C=C.filter(function(j){return j.size!==0}),C.length===0?this:this.size===0&&!this.__ownerID&&C.length===1?this.constructor(C[0]):this.withMutations(function(j){for(var Q=0;Q<C.length;Q++)a(C[Q]).forEach(function(ne){return j.add(ne)})})},Cr.prototype.intersect=function(){var C=n.call(arguments,0);if(C.length===0)return this;C=C.map(function(Q){return a(Q)});var j=this;return this.withMutations(function(Q){j.forEach(function(ne){C.every(function(oe){return oe.includes(ne)})||Q.remove(ne)})})},Cr.prototype.subtract=function(){var C=n.call(arguments,0);if(C.length===0)return this;C=C.map(function(Q){return a(Q)});var j=this;return this.withMutations(function(Q){j.forEach(function(ne){C.some(function(oe){return oe.includes(ne)})&&Q.remove(ne)})})},Cr.prototype.merge=function(){return this.union.apply(this,arguments)},Cr.prototype.mergeWith=function(C){var j=n.call(arguments,1);return this.union.apply(this,j)},Cr.prototype.sort=function(C){return tr(Va(this,C))},Cr.prototype.sortBy=function(C,j){return tr(Va(this,j,C))},Cr.prototype.wasAltered=function(){return this._map.wasAltered()},Cr.prototype.__iterate=function(C,j){var Q=this;return this._map.__iterate(function(ne,oe){return C(oe,oe,Q)},j)},Cr.prototype.__iterator=function(C,j){return this._map.map(function(Q,ne){return ne}).__iterator(C,j)},Cr.prototype.__ensureOwner=function(C){if(C===this.__ownerID)return this;var j=this._map.__ensureOwner(C);return C?this.__make(j,C):(this.__ownerID=C,this._map=j,this)};function He(C){return!!(C&&C[za])}Cr.isSet=He;var za="@@__IMMUTABLE_SET__@@",Co=Cr.prototype;Co[za]=!0,Co[S]=Co.remove,Co.mergeDeep=Co.merge,Co.mergeDeepWith=Co.mergeWith,Co.withMutations=vt.withMutations,Co.asMutable=vt.asMutable,Co.asImmutable=vt.asImmutable,Co.__empty=sc,Co.__make=xn;function zc(C,j){return C.__ownerID?(C.size=j.size,C._map=j,C):j===C._map?C:j.size===0?C.__empty():C.__make(j)}function xn(C,j){var Q=Object.create(Co);return Q.size=C?C.size:0,Q._map=C,Q.__ownerID=j,Q}var ki;function sc(){return ki||(ki=xn(Tr()))}r(tr,Cr);function tr(C){return C==null?Sn():Ve(C)?C:Sn().withMutations(function(j){var Q=a(C);jr(Q.size),Q.forEach(function(ne){return j.add(ne)})})}tr.of=function(){return this(arguments)},tr.fromKeys=function(C){return this(o(C).keySeq())},tr.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Ve(C){return He(C)&&g(C)}tr.isOrderedSet=Ve;var pt=tr.prototype;pt[v]=!0,pt.__empty=Sn,pt.__make=ze;function ze(C,j){var Q=Object.create(pt);return Q.size=C?C.size:0,Q._map=C,Q.__ownerID=j,Q}var bn;function Sn(){return bn||(bn=ze(re()))}r(Tn,St);function Tn(C){return C==null?$i():xo(C)?C:$i().unshiftAll(C)}Tn.of=function(){return this(arguments)},Tn.prototype.toString=function(){return this.__toString("Stack [","]")},Tn.prototype.get=function(C,j){var Q=this._head;for(C=H(this,C);Q&&C--;)Q=Q.next;return Q?Q.value:j},Tn.prototype.peek=function(){return this._head&&this._head.value},Tn.prototype.push=function(){if(arguments.length===0)return this;for(var C=this.size+arguments.length,j=this._head,Q=arguments.length-1;Q>=0;Q--)j={value:arguments[Q],next:j};return this.__ownerID?(this.size=C,this._head=j,this.__hash=void 0,this.__altered=!0,this):Vi(C,j)},Tn.prototype.pushAll=function(C){if(C=s(C),C.size===0)return this;jr(C.size);var j=this.size,Q=this._head;return C.reverse().forEach(function(ne){j++,Q={value:ne,next:Q}}),this.__ownerID?(this.size=j,this._head=Q,this.__hash=void 0,this.__altered=!0,this):Vi(j,Q)},Tn.prototype.pop=function(){return this.slice(1)},Tn.prototype.unshift=function(){return this.push.apply(this,arguments)},Tn.prototype.unshiftAll=function(C){return this.pushAll(C)},Tn.prototype.shift=function(){return this.pop.apply(this,arguments)},Tn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):$i()},Tn.prototype.slice=function(C,j){if(K(C,j,this.size))return this;var Q=z(C,this.size),ne=Z(j,this.size);if(ne!==this.size)return St.prototype.slice.call(this,C,j);for(var oe=this.size-Q,ve=this._head;Q--;)ve=ve.next;return this.__ownerID?(this.size=oe,this._head=ve,this.__hash=void 0,this.__altered=!0,this):Vi(oe,ve)},Tn.prototype.__ensureOwner=function(C){return C===this.__ownerID?this:C?Vi(this.size,this._head,C,this.__hash):(this.__ownerID=C,this.__altered=!1,this)},Tn.prototype.__iterate=function(C,j){if(j)return this.reverse().__iterate(C);for(var Q=0,ne=this._head;ne&&C(ne.value,Q++,this)!==!1;)ne=ne.next;return Q},Tn.prototype.__iterator=function(C,j){if(j)return this.reverse().__iterator(C);var Q=0,ne=this._head;return new pe(function(){if(ne){var oe=ne.value;return ne=ne.next,le(C,Q++,oe)}return Ce()})};function xo(C){return!!(C&&C[ji])}Tn.isStack=xo;var ji="@@__IMMUTABLE_STACK__@@",pi=Tn.prototype;pi[ji]=!0,pi.withMutations=vt.withMutations,pi.asMutable=vt.asMutable,pi.asImmutable=vt.asImmutable,pi.wasAltered=vt.wasAltered;function Vi(C,j,Q,ne){var oe=Object.create(pi);return oe.size=C,oe._head=j,oe.__ownerID=Q,oe.__hash=ne,oe.__altered=!1,oe}var Os;function $i(){return Os||(Os=Vi(0))}function Go(C,j){var Q=function(ne){C.prototype[ne]=j[ne]};return Object.keys(j).forEach(Q),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(j).forEach(Q),C}i.Iterator=pe,Go(i,{toArray:function(){jr(this.size);var C=new Array(this.size||0);return this.valueSeq().__iterate(function(j,Q){C[Q]=j}),C},toIndexedSeq:function(){return new $e(this)},toJS:function(){return this.toSeq().map(function(C){return C&&typeof C.toJS=="function"?C.toJS():C}).__toJS()},toJSON:function(){return this.toSeq().map(function(C){return C&&typeof C.toJSON=="function"?C.toJSON():C}).__toJS()},toKeyedSeq:function(){return new we(this,!0)},toMap:function(){return gn(this.toKeyedSeq())},toObject:function(){jr(this.size);var C={};return this.__iterate(function(j,Q){C[Q]=j}),C},toOrderedMap:function(){return hr(this.toKeyedSeq())},toOrderedSet:function(){return tr(u(this)?this.valueSeq():this)},toSet:function(){return Cr(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Xe(this)},toSeq:function(){return h(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Tn(u(this)?this.valueSeq():this)},toList:function(){return Sr(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(C,j){return this.size===0?C+j:C+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+j},concat:function(){var C=n.call(arguments,0);return fr(this,Mh(this,C))},includes:function(C){return this.some(function(j){return mt(j,C)})},entries:function(){return this.__iterator(Y)},every:function(C,j){jr(this.size);var Q=!0;return this.__iterate(function(ne,oe,ve){if(!C.call(j,ne,oe,ve))return Q=!1,!1}),Q},filter:function(C,j){return fr(this,Ii(this,C,j,!0))},find:function(C,j,Q){var ne=this.findEntry(C,j);return ne?ne[1]:Q},findEntry:function(C,j){var Q;return this.__iterate(function(ne,oe,ve){if(C.call(j,ne,oe,ve))return Q=[oe,ne],!1}),Q},findLastEntry:function(C,j){return this.toSeq().reverse().findEntry(C,j)},forEach:function(C,j){return jr(this.size),this.__iterate(j?C.bind(j):C)},join:function(C){jr(this.size),C=C!==void 0?""+C:",";var j="",Q=!0;return this.__iterate(function(ne){Q?Q=!1:j+=C,j+=ne!=null?ne.toString():""}),j},keys:function(){return this.__iterator(ie)},map:function(C,j){return fr(this,Pn(this,C,j))},reduce:function(C,j,Q){jr(this.size);var ne,oe;return arguments.length<2?oe=!0:ne=j,this.__iterate(function(ve,be,De){oe?(oe=!1,ne=ve):ne=C.call(Q,ne,ve,be,De)}),ne},reduceRight:function(C,j,Q){var ne=this.toKeyedSeq().reverse();return ne.reduce.apply(ne,arguments)},reverse:function(){return fr(this,Vr(this,!0))},slice:function(C,j){return fr(this,Js(this,C,j,!0))},some:function(C,j){return!this.every(ac(C),j)},sort:function(C){return fr(this,Va(this,C))},values:function(){return this.__iterator(U)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(C,j){return F(C?this.toSeq().filter(C,j):this)},countBy:function(C,j){return ic(this,C,j)},equals:function(C){return Vt(this,C)},entrySeq:function(){var C=this;if(C._cache)return new We(C._cache);var j=C.toSeq().map(Rh).toIndexedSeq();return j.fromEntrySeq=function(){return C.toSeq()},j},filterNot:function(C,j){return this.filter(ac(C),j)},findLast:function(C,j,Q){return this.toKeyedSeq().reverse().find(C,j,Q)},first:function(){return this.find(q)},flatMap:function(C,j){return fr(this,Vc(this,C,j))},flatten:function(C){return fr(this,Wu(this,C,!0))},fromEntrySeq:function(){return new tn(this)},get:function(C,j){return this.find(function(Q,ne){return mt(ne,C)},void 0,j)},getIn:function(C,j){for(var Q=this,ne=Qu(C),oe;!(oe=ne.next()).done;){var ve=oe.value;if(Q=Q&&Q.get?Q.get(ve,M):M,Q===M)return j}return Q},groupBy:function(C,j){return ml(this,C,j)},has:function(C){return this.get(C,M)!==M},hasIn:function(C){return this.getIn(C,M)!==M},isSubset:function(C){return C=typeof C.includes=="function"?C:i(C),this.every(function(j){return C.includes(j)})},isSuperset:function(C){return C=typeof C.isSubset=="function"?C:i(C),C.isSubset(this)},keySeq:function(){return this.toSeq().map(ip).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(C){return oc(this,C)},maxBy:function(C,j){return oc(this,j,C)},min:function(C){return oc(this,C?Ih(C):sp)},minBy:function(C,j){return oc(this,j?Ih(j):sp,C)},rest:function(){return this.slice(1)},skip:function(C){return this.slice(Math.max(0,C))},skipLast:function(C){return fr(this,this.toSeq().reverse().skip(C).reverse())},skipWhile:function(C,j){return fr(this,jc(this,C,j,!0))},skipUntil:function(C,j){return this.skipWhile(ac(C),j)},sortBy:function(C,j){return fr(this,Va(this,j,C))},take:function(C){return this.slice(0,Math.max(0,C))},takeLast:function(C){return fr(this,this.toSeq().reverse().take(C).reverse())},takeWhile:function(C,j){return fr(this,Gu(this,C,j))},takeUntil:function(C,j){return this.takeWhile(ac(C),j)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=rv(this))}});var Ur=i.prototype;Ur[m]=!0,Ur[ge]=Ur.values,Ur.__toJS=Ur.toArray,Ur.__toStringMapper=kh,Ur.inspect=Ur.toSource=function(){return this.toString()},Ur.chain=Ur.flatMap,Ur.contains=Ur.includes,(function(){try{Object.defineProperty(Ur,"length",{get:function(){if(!i.noLengthWarning){var C;try{throw new Error}catch(j){C=j.stack}if(C.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+C),this.size}}})}catch{}})(),Go(o,{flip:function(){return fr(this,Bn(this))},findKey:function(C,j){var Q=this.findEntry(C,j);return Q&&Q[0]},findLastKey:function(C,j){return this.toSeq().reverse().findKey(C,j)},keyOf:function(C){return this.findKey(function(j){return mt(j,C)})},lastKeyOf:function(C){return this.findLastKey(function(j){return mt(j,C)})},mapEntries:function(C,j){var Q=this,ne=0;return fr(this,this.toSeq().map(function(oe,ve){return C.call(j,[ve,oe],ne++,Q)}).fromEntrySeq())},mapKeys:function(C,j){var Q=this;return fr(this,this.toSeq().flip().map(function(ne,oe){return C.call(j,ne,oe,Q)}).flip())}});var Uc=o.prototype;Uc[y]=!0,Uc[ge]=Ur.entries,Uc.__toJS=Ur.toObject,Uc.__toStringMapper=function(C,j){return JSON.stringify(j)+": "+kh(C)},Go(s,{toKeyedSeq:function(){return new we(this,!1)},filter:function(C,j){return fr(this,Ii(this,C,j,!1))},findIndex:function(C,j){var Q=this.findEntry(C,j);return Q?Q[0]:-1},indexOf:function(C){var j=this.toKeyedSeq().keyOf(C);return j===void 0?-1:j},lastIndexOf:function(C){var j=this.toKeyedSeq().reverse().keyOf(C);return j===void 0?-1:j},reverse:function(){return fr(this,Vr(this,!1))},slice:function(C,j){return fr(this,Js(this,C,j,!1))},splice:function(C,j){var Q=arguments.length;if(j=Math.max(j|0,0),Q===0||Q===2&&!j)return this;C=z(C,C<0?this.count():this.size);var ne=this.slice(0,C);return fr(this,Q===1?ne:ne.concat($(arguments,2),this.slice(C+j)))},findLastIndex:function(C,j){var Q=this.toKeyedSeq().findLastKey(C,j);return Q===void 0?-1:Q},first:function(){return this.get(0)},flatten:function(C){return fr(this,Wu(this,C,!1))},get:function(C,j){return C=H(this,C),C<0||this.size===1/0||this.size!==void 0&&C>this.size?j:this.find(function(Q,ne){return ne===C},void 0,j)},has:function(C){return C=H(this,C),C>=0&&(this.size!==void 0?this.size===1/0||C<this.size:this.indexOf(C)!==-1)},interpose:function(C){return fr(this,Oh(this,C))},interleave:function(){var C=[this].concat($(arguments)),j=$c(this.toSeq(),Ie.of,C),Q=j.flatten(!0);return j.size&&(Q.size=j.size*C.length),fr(this,Q)},last:function(){return this.get(-1)},skipWhile:function(C,j){return fr(this,jc(this,C,j,!1))},zip:function(){var C=[this].concat($(arguments));return fr(this,$c(this,op,C))},zipWith:function(C){var j=$(arguments);return j[0]=this,fr(this,$c(this,C,j))}}),s.prototype[b]=!0,s.prototype[v]=!0,Go(a,{get:function(C,j){return this.has(C)?C:j},includes:function(C){return this.has(C)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=Ur.includes,Go(Le,o.prototype),Go(Ie,s.prototype),Go(je,a.prototype),Go(Br,o.prototype),Go(St,s.prototype),Go(Yr,a.prototype);function ip(C,j){return j}function Rh(C,j){return[j,C]}function ac(C){return function(){return!C.apply(this,arguments)}}function Ih(C){return function(){return-C.apply(this,arguments)}}function kh(C){return typeof C=="string"?JSON.stringify(C):C}function op(){return $(arguments)}function sp(C,j){return C<j?1:C>j?-1:0}function rv(C){if(C.size===1/0)return 0;var j=g(C),Q=u(C),ne=j?1:0,oe=C.__iterate(Q?j?function(ve,be){ne=31*ne+Hc(Gn(ve),Gn(be))|0}:function(ve,be){ne=ne+Hc(Gn(ve),Gn(be))|0}:j?function(ve){ne=31*ne+Gn(ve)|0}:function(ve){ne=ne+Gn(ve)|0});return Ju(oe,ne)}function Ju(C,j){return j=Xr(j,3432918353),j=Xr(j<<15|j>>>-15,461845907),j=Xr(j<<13|j>>>-13,5),j=(j+3864292196|0)^C,j=Xr(j^j>>>16,2246822507),j=Xr(j^j>>>13,3266489909),j=en(j^j>>>16),j}function Hc(C,j){return C^j+2654435769+(C<<6)+(C>>2)|0}var iv={Iterable:i,Seq:Re,Collection:Qn,Map:gn,OrderedMap:hr,List:Sr,Stack:Tn,Set:Cr,OrderedSet:tr,Record:io,Range:An,Repeat:_t,is:mt,fromJS:Je};return iv})})(Zy)),Zy.exports}var c_,$N;function vg(){if($N)return c_;$N=1;var e=_r(),t=e.OrderedMap,n={createFromArray:function(i){return t(i.map(function(o){return[o.getKey(),o]}))}};return c_=n,c_}var u_,zN;function pa(){if(zN)return u_;zN=1;function e(f,g){f.prototype=Object.create(g.prototype),f.prototype.constructor=f,f.__proto__=g}var t=_r(),n=t.Map,r=t.OrderedSet,i=t.Record,o=r(),s={style:o,entity:null},a=i(s),c=(function(f){e(g,f);function g(){return f.apply(this,arguments)||this}var m=g.prototype;return m.getStyle=function(){return this.get("style")},m.getEntity=function(){return this.get("entity")},m.hasStyle=function(b){return this.getStyle().includes(b)},g.applyStyle=function(b,v){var S=b.set("style",b.getStyle().add(v));return g.create(S)},g.removeStyle=function(b,v){var S=b.set("style",b.getStyle().remove(v));return g.create(S)},g.applyEntity=function(b,v){var S=b.getEntity()===v?b:b.set("entity",v);return g.create(S)},g.create=function(b){if(!b)return u;var v={style:o,entity:null},S=n(v).merge(b),E=h.get(S);if(E)return E;var T=new g(S);return h=h.set(S,T),T},g.fromJS=function(b){var v=b.style,S=b.entity;return new g({style:Array.isArray(v)?r(v):v,entity:Array.isArray(S)?r(S):S})},g})(a),u=new c,h=n([[n(s),u]]);return c.EMPTY=u,u_=c,u_}var d_,UN;function yg(){if(UN)return d_;UN=1;function e(t,n,r,i){if(t.size){var o=0;t.reduce(function(s,a,c){return n(s,a)||(r(s)&&i(o,c),o=c),a}),r(t.last())&&i(o,t.count())}}return d_=e,d_}var h_,HN;function jd(){if(HN)return h_;HN=1;function e(v,S){v.prototype=Object.create(S.prototype),v.prototype.constructor=v,v.__proto__=S}var t=pa(),n=yg(),r=_r(),i=r.List,o=r.Map,s=r.OrderedSet,a=r.Record,c=r.Repeat,u=s(),h={key:"",type:"unstyled",text:"",characterList:i(),depth:0,data:o()},f=a(h),g=function(S){if(!S)return S;var E=S.characterList,T=S.text;return T&&!E&&(S.characterList=i(c(t.EMPTY,T.length))),S},m=(function(v){e(S,v);function S(T){return v.call(this,g(T))||this}var E=S.prototype;return E.getKey=function(){return this.get("key")},E.getType=function(){return this.get("type")},E.getText=function(){return this.get("text")},E.getCharacterList=function(){return this.get("characterList")},E.getLength=function(){return this.getText().length},E.getDepth=function(){return this.get("depth")},E.getData=function(){return this.get("data")},E.getInlineStyleAt=function(R){var M=this.getCharacterList().get(R);return M?M.getStyle():u},E.getEntityAt=function(R){var M=this.getCharacterList().get(R);return M?M.getEntity():null},E.findStyleRanges=function(R,M){n(this.getCharacterList(),y,R,M)},E.findEntityRanges=function(R,M){n(this.getCharacterList(),b,R,M)},S})(f);function y(v,S){return v.getStyle()===S.getStyle()}function b(v,S){return v.getEntity()===S.getEntity()}return h_=m,h_}var f_,GN;function ga(){if(GN)return f_;GN=1;function e(b,v){b.prototype=Object.create(v.prototype),b.prototype.constructor=b,b.__proto__=v}var t=pa(),n=yg(),r=_r(),i=r.List,o=r.Map,s=r.OrderedSet,a=r.Record,c=r.Repeat,u=s(),h={parent:null,characterList:i(),data:o(),depth:0,key:"",text:"",type:"unstyled",children:i(),prevSibling:null,nextSibling:null},f=function(v,S){return v.getStyle()===S.getStyle()},g=function(v,S){return v.getEntity()===S.getEntity()},m=function(v){if(!v)return v;var S=v.characterList,E=v.text;return E&&!S&&(v.characterList=i(c(t.EMPTY,E.length))),v},y=(function(b){e(v,b);function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;return b.call(this,m(E))||this}var S=v.prototype;return S.getKey=function(){return this.get("key")},S.getType=function(){return this.get("type")},S.getText=function(){return this.get("text")},S.getCharacterList=function(){return this.get("characterList")},S.getLength=function(){return this.getText().length},S.getDepth=function(){return this.get("depth")},S.getData=function(){return this.get("data")},S.getInlineStyleAt=function(T){var R=this.getCharacterList().get(T);return R?R.getStyle():u},S.getEntityAt=function(T){var R=this.getCharacterList().get(T);return R?R.getEntity():null},S.getChildKeys=function(){return this.get("children")},S.getParentKey=function(){return this.get("parent")},S.getPrevSiblingKey=function(){return this.get("prevSibling")},S.getNextSiblingKey=function(){return this.get("nextSibling")},S.findStyleRanges=function(T,R){n(this.getCharacterList(),f,T,R)},S.findEntityRanges=function(T,R){n(this.getCharacterList(),g,T,R)},v})(a(h));return f_=y,f_}var p_,WN;function nfe(){if(WN)return p_;WN=1;var e=pa(),t=_r(),n=t.Map,r={add:function(s,a,c){return i(s,a,c,!0)},remove:function(s,a,c){return i(s,a,c,!1)}};function i(o,s,a,c){var u=o.getBlockMap(),h=s.getStartKey(),f=s.getStartOffset(),g=s.getEndKey(),m=s.getEndOffset(),y=u.skipUntil(function(b,v){return v===h}).takeUntil(function(b,v){return v===g}).concat(n([[g,u.get(g)]])).map(function(b,v){var S,E;h===g?(S=f,E=m):(S=v===h?f:0,E=v===g?m:b.getLength());for(var T=b.getCharacterList(),R;S<E;)R=T.get(S),T=T.set(S,c?e.applyStyle(R,a):e.removeStyle(R,a)),S++;return b.set("characterList",T)});return o.merge({blockMap:u.merge(y),selectionBefore:s,selectionAfter:s})}return p_=r,p_}var g_,KN;function rfe(){if(KN)return g_;KN=1;var e=pa();function t(n,r,i,o){for(var s=r,a=n.getCharacterList();s<i;)a=a.set(s,e.applyEntity(a.get(s),o)),s++;return n.set("characterList",a)}return g_=t,g_}var m_,qN;function ife(){if(qN)return m_;qN=1;var e=rfe(),t=_r();function n(r,i,o){var s=r.getBlockMap(),a=i.getStartKey(),c=i.getStartOffset(),u=i.getEndKey(),h=i.getEndOffset(),f=s.skipUntil(function(g,m){return m===a}).takeUntil(function(g,m){return m===u}).toOrderedMap().merge(t.OrderedMap([[u,s.get(u)]])).map(function(g,m){var y=m===a?c:0,b=m===u?h:g.getLength();return e(g,y,b,o)});return r.merge({blockMap:s.merge(f),selectionBefore:i,selectionAfter:i})}return m_=n,m_}var v_,YN;function ofe(){if(YN)return v_;YN=1;var e={getRemovalRange:function(n,r,i,o,s){var a=i.split(" ");a=a.map(function(S,E){if(s==="forward"){if(E>0)return" "+S}else if(E<a.length-1)return S+" ";return S});for(var c=o,u,h,f=null,g=null,m=0;m<a.length;m++){if(h=a[m],u=c+h.length,n<u&&c<r)f!==null||(f=c),g=u;else if(f!==null)break;c=u}var y=o+i.length,b=f===o,v=g===y;return(!b&&v||b&&!v)&&(s==="forward"?g!==y&&g++:f!==o&&f--),{start:f,end:g}}};return v_=e,v_}var y_,XN;function Or(){if(XN)return y_;XN=1;function e(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(!t){var s;if(n===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;s=new Error(n.replace(/%s/g,function(){return String(i[a++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}return y_=e,y_}var b_,ZN;function sfe(){if(ZN)return b_;ZN=1;var e=Or();function t(n,r){var i=[];return n.findEntityRanges(function(o){return o.getEntity()===r},function(o,s){i.push({start:o,end:s})}),i.length||e(!1),i}return b_=t,b_}var w_,QN;function afe(){if(QN)return w_;QN=1;var e=ofe(),t=sfe(),n=Or();function r(o,s,a,c,u){var h=c.getStartOffset(),f=c.getEndOffset(),g=s.getEntityAt(h),m=a.getEntityAt(f-1);if(!g&&!m)return c;var y=c;if(g&&g===m)y=i(o,s,y,u,g,!0,!0);else if(g&&m){var b=i(o,s,y,u,g,!1,!0),v=i(o,a,y,u,m,!1,!1);y=y.merge({anchorOffset:b.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:!1})}else if(g){var S=i(o,s,y,u,g,!1,!0);y=y.merge({anchorOffset:S.getStartOffset(),isBackward:!1})}else if(m){var E=i(o,a,y,u,m,!1,!1);y=y.merge({focusOffset:E.getEndOffset(),isBackward:!1})}return y}function i(o,s,a,c,u,h,f){var g=a.getStartOffset(),m=a.getEndOffset(),y=o.__get(u),b=y.getMutability(),v=f?g:m;if(b==="MUTABLE")return a;var S=t(s,u).filter(function(R){return v<=R.end&&v>=R.start});S.length!=1&&n(!1);var E=S[0];if(b==="IMMUTABLE")return a.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1});h||(f?m=E.end:g=E.start);var T=e.getRemovalRange(g,m,s.getText().slice(E.start,E.end),E.start,c);return a.merge({anchorOffset:T.start,focusOffset:T.end,isBackward:!1})}return w_=r,w_}var S_,JN;function Al(){if(JN)return S_;JN=1;var e={},t=Math.pow(2,24);function n(){for(var r;r===void 0||e.hasOwnProperty(r)||!isNaN(+r);)r=Math.floor(Math.random()*t).toString(32);return e[r]=!0,r}return S_=n,S_}var C_,eB;function tB(){if(eB)return C_;eB=1;var e=ga(),t=Al(),n=_r(),r=n.OrderedMap,i=function(c){var u={},h;return r(c.withMutations(function(f){f.forEach(function(g,m){var y=g.getKey(),b=g.getNextSiblingKey(),v=g.getPrevSiblingKey(),S=g.getChildKeys(),E=g.getParentKey(),T=t();if(u[y]=T,b){var R=f.get(b);R?f.setIn([b,"prevSibling"],T):f.setIn([y,"nextSibling"],null)}if(v){var M=f.get(v);M?f.setIn([v,"nextSibling"],T):f.setIn([y,"prevSibling"],null)}if(E&&f.get(E)){var I=f.get(E),N=I.getChildKeys();f.setIn([E,"children"],N.set(N.indexOf(g.getKey()),T))}else f.setIn([y,"parent"],null),h&&(f.setIn([h.getKey(),"nextSibling"],T),f.setIn([y,"prevSibling"],u[h.getKey()])),h=f.get(y);S.forEach(function(D){var L=f.get(D);L?f.setIn([D,"parent"],T):f.setIn([y,"children"],g.getChildKeys().filter(function(A){return A!==D}))})})}).toArray().map(function(f){return[u[f.getKey()],f.set("key",u[f.getKey()])]}))},o=function(c){return r(c.toArray().map(function(u){var h=t();return[h,u.set("key",h)]}))},s=function(c){var u=c.first()instanceof e;return u?i(c):o(c)};return C_=s,C_}var x_,nB;function rB(){if(nB)return x_;nB=1;var e=pa(),t=yg(),n=Or();function r(s,a){var c=s.getBlockMap(),u=s.getEntityMap(),h={},f=a.getStartKey(),g=a.getStartOffset(),m=c.get(f),y=o(u,m,g);y!==m&&(h[f]=y);var b=a.getEndKey(),v=a.getEndOffset(),S=c.get(b);f===b&&(S=y);var E=o(u,S,v);return E!==S&&(h[b]=E),Object.keys(h).length?s.merge({blockMap:c.merge(h),selectionAfter:a}):s.set("selectionAfter",a)}function i(s,a,c){var u;return t(s,function(h,f){return h.getEntity()===f.getEntity()},function(h){return h.getEntity()===a},function(h,f){h<=c&&f>=c&&(u={start:h,end:f})}),typeof u!="object"&&n(!1),u}function o(s,a,c){var u=a.getCharacterList(),h=c>0?u.get(c-1):void 0,f=c<u.count()?u.get(c):void 0,g=h?h.getEntity():void 0,m=f?f.getEntity():void 0;if(m&&m===g){var y=s.__get(m);if(y.getMutability()!=="MUTABLE"){for(var b=i(u,m,c),v=b.start,S=b.end,E;v<S;)E=u.get(v),u=u.set(v,e.applyEntity(E,null)),v++;return a.set("characterList",u)}}return a}return x_=r,x_}var __,iB;function Qy(){if(iB)return __;iB=1;var e=tB(),t=rB(),n=function(i,o){var s=o.getStartKey(),a=o.getStartOffset(),c=o.getEndKey(),u=o.getEndOffset(),h=t(i,o),f=h.getBlockMap(),g=f.keySeq(),m=g.indexOf(s),y=g.indexOf(c)+1;return e(f.slice(m,y).map(function(b,v){var S=b.getText(),E=b.getCharacterList();return s===c?b.merge({text:S.slice(a,u),characterList:E.slice(a,u)}):v===s?b.merge({text:S.slice(a),characterList:E.slice(a)}):v===c?b.merge({text:S.slice(0,u),characterList:E.slice(0,u)}):b}))};return __=n,__}var E_,oB;function sB(){if(oB)return E_;oB=1;function e(t,n,r){var i=t;if(r===i.count())n.forEach(function(a){i=i.push(a)});else if(r===0)n.reverse().forEach(function(a){i=i.unshift(a)});else{var o=i.slice(0,r),s=i.slice(r);i=o.concat(n,s).toList()}return i}return E_=e,E_}var T_,aB;function lfe(){if(aB)return T_;aB=1;var e=vg(),t=ga(),n=_r(),r=sB(),i=Or(),o=tB(),s=n.List,a=function(b,v,S,E,T,R){var M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",I=S.get(T),N=I.getText(),D=I.getCharacterList(),L=T,A=R+E.getText().length,$=null;switch(M){case"MERGE_OLD_DATA_TO_NEW_DATA":$=E.getData().merge(I.getData());break;case"REPLACE_WITH_NEW_DATA":$=E.getData();break}var F=I.getType();N&&F==="unstyled"&&(F=E.getType());var H=I.merge({text:N.slice(0,R)+E.getText()+N.slice(R),characterList:r(D,E.getCharacterList(),R),type:F,data:$});return b.merge({blockMap:S.set(T,H),selectionBefore:v,selectionAfter:v.merge({anchorKey:L,anchorOffset:A,focusKey:L,focusOffset:A,isBackward:!1})})},c=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),R=E.slice(0,v),M=T.slice(0,v),I=S.first();return b.merge({text:R+I.getText(),characterList:M.concat(I.getCharacterList()),type:R?b.getType():I.getType(),data:I.getData()})},u=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),R=E.length,M=E.slice(v,R),I=T.slice(v,R),N=S.last();return N.merge({text:N.getText()+M,characterList:N.getCharacterList().concat(I),data:N.getData()})},h=function(b,v){var S=b.getKey(),E=b,T=[];for(v.get(S)&&T.push(S);E&&E.getNextSiblingKey();){var R=E.getNextSiblingKey();if(!R)break;T.push(R),E=v.get(R)}return T},f=function(b,v,S,E){return b.withMutations(function(T){var R=S.getKey(),M=E.getKey(),I=S.getNextSiblingKey(),N=S.getParentKey(),D=h(E,b),L=D[D.length-1];if(T.get(M)?(T.setIn([R,"nextSibling"],M),T.setIn([M,"prevSibling"],R)):(T.setIn([R,"nextSibling"],E.getNextSiblingKey()),T.setIn([E.getNextSiblingKey(),"prevSibling"],R)),T.setIn([L,"nextSibling"],I),I&&T.setIn([I,"prevSibling"],L),D.forEach(function(K){return T.setIn([K,"parent"],N)}),N){var A=b.get(N),$=A.getChildKeys(),F=$.indexOf(R),H=F+1,q=$.toArray();q.splice.apply(q,[H,0].concat(D)),T.setIn([N,"children"],s(q))}})},g=function(b,v,S,E,T,R){var M=S.first()instanceof t,I=[],N=E.size,D=S.get(T),L=E.first(),A=E.last(),$=A.getLength(),F=A.getKey(),H=M&&(!D.getChildKeys().isEmpty()||!L.getChildKeys().isEmpty());S.forEach(function(K,z){if(z!==T){I.push(K);return}H?I.push(K):I.push(c(K,R,E)),E.slice(H?0:1,N-1).forEach(function(Z){return I.push(Z)}),I.push(u(K,R,E))});var q=e.createFromArray(I);return M&&(q=f(q,S,D,L)),b.merge({blockMap:q,selectionBefore:v,selectionAfter:v.merge({anchorKey:F,anchorOffset:$,focusKey:F,focusOffset:$,isBackward:!1})})},m=function(b,v,S){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";v.isCollapsed()||i(!1);var T=b.getBlockMap(),R=o(S),M=v.getStartKey(),I=v.getStartOffset(),N=T.get(M);return N instanceof t&&(N.getChildKeys().isEmpty()||i(!1)),R.size===1?a(b,v,T,R.first(),M,I,E):g(b,v,T,R,M,I)};return T_=m,T_}var M_,lB;function cfe(){if(lB)return M_;lB=1;var e=_r(),t=sB(),n=Or(),r=e.Repeat;function i(o,s,a,c){s.isCollapsed()||n(!1);var u=null;if(a!=null&&(u=a.length),u==null||u===0)return o;var h=o.getBlockMap(),f=s.getStartKey(),g=s.getStartOffset(),m=h.get(f),y=m.getText(),b=m.merge({text:y.slice(0,g)+a+y.slice(g,m.getLength()),characterList:t(m.getCharacterList(),r(c,u).toList(),g)}),v=g+u;return o.merge({blockMap:h.set(f,b),selectionAfter:s.merge({anchorOffset:v,focusOffset:v})})}return M_=i,M_}var O_,cB;function uB(){if(cB)return O_;cB=1;var e=_r(),t=e.Map;function n(r,i,o){var s=i.getStartKey(),a=i.getEndKey(),c=r.getBlockMap(),u=c.toSeq().skipUntil(function(h,f){return f===s}).takeUntil(function(h,f){return f===a}).concat(t([[a,c.get(a)]])).map(o);return r.merge({blockMap:c.merge(u),selectionBefore:i,selectionAfter:i})}return O_=n,O_}var R_,dB;function hB(){if(dB)return R_;dB=1;var e=ga(),t=function(r,i){var o=r instanceof e;if(!o)return null;var s=r.getNextSiblingKey();if(s)return s;var a=r.getParentKey();if(!a)return null;for(var c=i.get(a);c&&!c.getNextSiblingKey();){var u=c.getParentKey();c=u?i.get(u):null}return c?c.getNextSiblingKey():null};return R_=t,R_}var I_,fB;function ufe(){if(fB)return I_;fB=1;var e=ga(),t=hB(),n=_r();n.List;var r=n.Map,i=function(m,y,b){if(m){var v=y.get(m);v&&y.set(m,b(v))}},o=function(m,y){var b=[];if(!m)return b;for(var v=y.get(m);v&&v.getParentKey();){var S=v.getParentKey();S&&b.push(S),v=S?y.get(S):null}return b},s=function(m,y){var b=[];if(!m)return b;for(var v=t(m,y);v&&y.get(v);){var S=y.get(v);b.push(v),v=S.getParentKey()?t(S,y):null}return b},a=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getNextSiblingKey();v&&!y.get(v);)v=b.get(v).getNextSiblingKey()||null;return v},c=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getPrevSiblingKey();v&&!y.get(v);)v=b.get(v).getPrevSiblingKey()||null;return v},u=function(m,y,b,v){return m.withMutations(function(S){if(i(y.getKey(),S,function(I){return I.merge({nextSibling:a(I,S,v),prevSibling:c(I,S,v)})}),i(b.getKey(),S,function(I){return I.merge({nextSibling:a(I,S,v),prevSibling:c(I,S,v)})}),o(y.getKey(),v).forEach(function(I){return i(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(D){return S.get(D)}),nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),i(y.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:y.getPrevSiblingKey()})}),i(y.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:a(I,S,v)})}),i(b.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:c(I,S,v)})}),i(b.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:b.getNextSiblingKey()})}),o(b.getKey(),v).forEach(function(I){i(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(D){return S.get(D)}),nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),s(b,v).forEach(function(I){return i(I,S,function(N){return N.merge({nextSibling:a(N,S,v),prevSibling:c(N,S,v)})})}),m.get(y.getKey())==null&&m.get(b.getKey())!=null&&b.getParentKey()===y.getKey()&&b.getPrevSiblingKey()==null){var E=y.getPrevSiblingKey();i(b.getKey(),S,function(I){return I.merge({prevSibling:E})}),i(E,S,function(I){return I.merge({nextSibling:b.getKey()})});var T=E?m.get(E):null,R=T?T.getParentKey():null;if(y.getChildKeys().forEach(function(I){i(I,S,function(N){return N.merge({parent:R})})}),R!=null){var M=m.get(R);i(R,S,function(I){return I.merge({children:M.getChildKeys().concat(y.getChildKeys())})})}i(y.getChildKeys().find(function(I){var N=m.get(I);return N.getNextSiblingKey()===null}),S,function(I){return I.merge({nextSibling:y.getNextSiblingKey()})})}})},h=function(m,y){if(y.isCollapsed())return m;var b=m.getBlockMap(),v=y.getStartKey(),S=y.getStartOffset(),E=y.getEndKey(),T=y.getEndOffset(),R=b.get(v),M=b.get(E),I=R instanceof e,N=[];if(I){var D=M.getChildKeys(),L=o(E,b);M.getNextSiblingKey()&&(N=N.concat(L)),D.isEmpty()||(N=N.concat(L.concat([E]))),N=N.concat(o(t(M,b),b))}var A;R===M?A=f(R.getCharacterList(),S,T):A=R.getCharacterList().slice(0,S).concat(M.getCharacterList().slice(T));var $=R.merge({text:R.getText().slice(0,S)+M.getText().slice(T),characterList:A}),F=I&&S===0&&T===0&&M.getParentKey()===v&&M.getPrevSiblingKey()==null,H=F?r([[v,null]]):b.toSeq().skipUntil(function(K,z){return z===v}).takeUntil(function(K,z){return z===E}).filter(function(K,z){return N.indexOf(z)===-1}).concat(r([[E,null]])).map(function(K,z){return z===v?$:null}),q=b.merge(H).filter(function(K){return!!K});return I&&R!==M&&(q=u(q,R,M,b)),m.merge({blockMap:q,selectionBefore:y,selectionAfter:y.merge({anchorKey:v,anchorOffset:S,focusKey:v,focusOffset:S,isBackward:!1})})},f=function(m,y,b){if(y===0)for(;y<b;)m=m.shift(),y++;else if(b===m.count())for(;b>y;)m=m.pop(),b--;else{var v=m.slice(0,y),S=m.slice(b);m=v.concat(S).toList()}return m};return I_=h,I_}var k_,pB;function dfe(){if(pB)return k_;pB=1;var e=ga(),t=Al(),n=_r(),r=Or(),i=uB(),o=n.List,s=n.Map,a=function(f,g,m){if(f){var y=g.get(f);y&&g.set(f,m(y))}},c=function(f,g,m){return f.withMutations(function(y){var b=g.getKey(),v=m.getKey();a(g.getParentKey(),y,function(S){var E=S.getChildKeys(),T=E.indexOf(b)+1,R=E.toArray();return R.splice(T,0,v),S.merge({children:o(R)})}),a(g.getNextSiblingKey(),y,function(S){return S.merge({prevSibling:v})}),a(b,y,function(S){return S.merge({nextSibling:v})}),a(v,y,function(S){return S.merge({prevSibling:b})})})},u=function(f,g){g.isCollapsed()||r(!1);var m=g.getAnchorKey(),y=f.getBlockMap(),b=y.get(m),v=b.getText();if(!v){var S=b.getType();if(S==="unordered-list-item"||S==="ordered-list-item")return i(f,g,function($){return $.merge({type:"unstyled",depth:0})})}var E=g.getAnchorOffset(),T=b.getCharacterList(),R=t(),M=b instanceof e,I=b.merge({text:v.slice(0,E),characterList:T.slice(0,E)}),N=I.merge({key:R,text:v.slice(E),characterList:T.slice(E),data:s()}),D=y.toSeq().takeUntil(function($){return $===b}),L=y.toSeq().skipUntil(function($){return $===b}).rest(),A=D.concat([[m,I],[R,N]],L).toOrderedMap();return M&&(b.getChildKeys().isEmpty()||r(!1),A=c(A,I,N)),f.merge({blockMap:A,selectionBefore:g,selectionAfter:g.merge({anchorKey:R,anchorOffset:0,focusKey:R,focusOffset:0,isBackward:!1})})};return k_=u,k_}var P_,gB;function fs(){if(gB)return P_;gB=1;var e=pa(),t=nfe(),n=ife(),r=afe(),i=Qy(),o=_r(),s=lfe(),a=cfe(),c=Or(),u=uB(),h=rB(),f=ufe(),g=dfe(),m=o.OrderedSet,y={replaceText:function(v,S,E,T,R){var M=h(v,S),I=f(M,S),N=e.create({style:T||m(),entity:R||null});return a(I,I.getSelectionAfter(),E,N)},insertText:function(v,S,E,T,R){return S.isCollapsed()||c(!1),y.replaceText(v,S,E,T,R)},moveText:function(v,S,E){var T=i(v,S),R=y.removeRange(v,S,"backward");return y.replaceWithFragment(R,E,T)},replaceWithFragment:function(v,S,E){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",R=h(v,S),M=f(R,S);return s(M,M.getSelectionAfter(),E,T)},removeRange:function(v,S,E){var T,R,M,I;S.getIsBackward()&&(S=S.merge({anchorKey:S.getFocusKey(),anchorOffset:S.getFocusOffset(),focusKey:S.getAnchorKey(),focusOffset:S.getAnchorOffset(),isBackward:!1})),T=S.getAnchorKey(),R=S.getFocusKey(),M=v.getBlockForKey(T),I=v.getBlockForKey(R);var N=S.getStartOffset(),D=S.getEndOffset(),L=M.getEntityAt(N),A=I.getEntityAt(D-1);if(T===R&&L&&L===A){var $=r(v.getEntityMap(),M,I,S,E);return f(v,$)}var F=h(v,S);return f(F,S)},splitBlock:function(v,S){var E=h(v,S),T=f(E,S);return g(T,T.getSelectionAfter())},applyInlineStyle:function(v,S,E){return t.add(v,S,E)},removeInlineStyle:function(v,S,E){return t.remove(v,S,E)},setBlockType:function(v,S,E){return u(v,S,function(T){return T.merge({type:E,depth:0})})},setBlockData:function(v,S,E){return u(v,S,function(T){return T.merge({data:E})})},mergeBlockData:function(v,S,E){return u(v,S,function(T){return T.merge({data:T.getData().merge(E)})})},applyEntity:function(v,S,E){var T=h(v,S);return n(T,S,E)}};return P_=y,P_}var D_,mB;function vB(){if(mB)return D_;mB=1;function e(t){return Object.keys(t).map(function(n){return t[n]})}return D_=e,D_}var A_,yB;function hfe(){if(yB)return A_;yB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}function n(S,E){if(S==null)return{};var T={},R=Object.keys(S),M,I;for(I=0;I<R.length;I++)M=R[I],!(E.indexOf(M)>=0)&&(T[M]=S[M]);return T}var r=yg(),i=vB(),o=_r(),s=o.List,a=o.Repeat,c=o.Record,u=function(){return!0},h={start:null,end:null},f=c(h),g={start:null,end:null,decoratorKey:null,leaves:null},m=c(g),y={generate:function(E,T,R){var M=T.getLength();if(!M)return s.of(new m({start:0,end:0,decoratorKey:null,leaves:s.of(new f({start:0,end:0}))}));var I=[],N=R?R.getDecorations(T,E):s(a(null,M)),D=T.getCharacterList();return r(N,v,u,function(L,A){I.push(new m({start:L,end:A,decoratorKey:N.get(L),leaves:b(D.slice(L,A).toList(),L)}))}),s(I)},fromJS:function(E){var T=E.leaves,R=n(E,["leaves"]);return new m(e({},R,{leaves:T!=null?s(Array.isArray(T)?T:i(T)).map(function(M){return f(M)}):null}))}};function b(S,E){var T=[],R=S.map(function(M){return M.getStyle()}).toList();return r(R,v,u,function(M,I){T.push(new f({start:M+E,end:I+E}))}),s(T)}function v(S,E){return S===E}return A_=y,A_}var L_,bB;function wB(){if(bB)return L_;bB=1;function e(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s}var t=_r(),n=t.Record,r=n({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),i=(function(o){e(s,o);function s(){return o.apply(this,arguments)||this}var a=s.prototype;return a.getType=function(){return this.get("type")},a.getMutability=function(){return this.get("mutability")},a.getData=function(){return this.get("data")},s})(r);return L_=i,L_}var N_,SB;function ffe(){if(SB)return N_;SB=1;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,r=t=="x"?n:n&3|8;return r.toString(16)})}return N_=e,N_}var B_,CB;function Jy(){if(CB)return B_;CB=1;function e(f){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{},y=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(m).filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable}))),y.forEach(function(b){t(f,b,m[b])})}return f}function t(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var n=wB(),r=_r(),i=Or(),o=ffe(),s=r.Map,a=s(),c=o();function u(f,g){console.warn("WARNING: "+f+` will be deprecated soon!
Please use "`+g+'" instead.')}var h={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),h.__getLastCreatedEntityKey()},create:function(g,m,y){return u("DraftEntity.create","contentState.createEntity"),h.__create(g,m,y)},add:function(g){return u("DraftEntity.add","contentState.addEntity"),h.__add(g)},get:function(g){return u("DraftEntity.get","contentState.getEntity"),h.__get(g)},__getAll:function(){return a},__loadWithEntities:function(g){a=g,c=o()},mergeData:function(g,m){return u("DraftEntity.mergeData","contentState.mergeEntityData"),h.__mergeData(g,m)},replaceData:function(g,m){return u("DraftEntity.replaceData","contentState.replaceEntityData"),h.__replaceData(g,m)},__getLastCreatedEntityKey:function(){return c},__create:function(g,m,y){return h.__add(new n({type:g,mutability:m,data:y||{}}))},__add:function(g){return c=o(),a=a.set(c,g),c},__get:function(g){var m=a.get(g);return m||i(!1),m},__mergeData:function(g,m){var y=h.__get(g),b=e({},y.getData(),m),v=y.set("data",b);return a=a.set(g,v),v},__replaceData:function(g,m){var y=h.__get(g),b=y.set("data",m);return a=a.set(g,b),b}};return B_=h,B_}var F_,xB;function eb(){if(xB)return F_;xB=1;function e(s,a){s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a}var t=_r(),n=t.Record,r={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},i=n(r),o=(function(s){e(a,s);function a(){return s.apply(this,arguments)||this}var c=a.prototype;return c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},c.getAnchorKey=function(){return this.get("anchorKey")},c.getAnchorOffset=function(){return this.get("anchorOffset")},c.getFocusKey=function(){return this.get("focusKey")},c.getFocusOffset=function(){return this.get("focusOffset")},c.getIsBackward=function(){return this.get("isBackward")},c.getHasFocus=function(){return this.get("hasFocus")},c.hasEdgeWithin=function(h,f,g){var m=this.getAnchorKey(),y=this.getFocusKey();if(m===y&&m===h){var b=this.getStartOffset(),v=this.getEndOffset();return f<=b&&b<=g||f<=v&&v<=g}if(h!==m&&h!==y)return!1;var S=h===m?this.getAnchorOffset():this.getFocusOffset();return f<=S&&g>=S},c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},a.createEmpty=function(h){return new a({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1,hasFocus:!1})},a})(i);return F_=o,F_}var j_,_B;function fu(){return _B||(_B=1,j_=function(e){return typeof window<"u"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1}),j_}var V_,EB;function TB(){if(EB)return V_;EB=1;var e=new RegExp("\r","g");function t(n){return n.replace(e,"")}return V_=t,V_}var $_,MB;function z_(){if(MB)return $_;MB=1;function e(N){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{},A=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),A.forEach(function($){t(N,$,L[$])})}return N}function t(N,D,L){return D in N?Object.defineProperty(N,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[D]=L,N}function n(N,D){N.prototype=Object.create(D.prototype),N.prototype.constructor=N,N.__proto__=D}var r=vg(),i=pa(),o=jd(),s=ga(),a=Jy(),c=eb(),u=Al(),h=vB(),f=fu(),g=_r(),m=TB(),y=g.List,b=g.Record,v=g.Repeat,S=g.Map,E=g.OrderedMap,T={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},R=b(T),M=f("draft_tree_data_support")?s:o,I=(function(N){n(D,N);function D(){return N.apply(this,arguments)||this}var L=D.prototype;return L.getEntityMap=function(){return a},L.getBlockMap=function(){return this.get("blockMap")},L.getSelectionBefore=function(){return this.get("selectionBefore")},L.getSelectionAfter=function(){return this.get("selectionAfter")},L.getBlockForKey=function($){var F=this.getBlockMap().get($);return F},L.getKeyBefore=function($){return this.getBlockMap().reverse().keySeq().skipUntil(function(F){return F===$}).skip(1).first()},L.getKeyAfter=function($){return this.getBlockMap().keySeq().skipUntil(function(F){return F===$}).skip(1).first()},L.getBlockAfter=function($){return this.getBlockMap().skipUntil(function(F,H){return H===$}).skip(1).first()},L.getBlockBefore=function($){return this.getBlockMap().reverse().skipUntil(function(F,H){return H===$}).skip(1).first()},L.getBlocksAsArray=function(){return this.getBlockMap().toArray()},L.getFirstBlock=function(){return this.getBlockMap().first()},L.getLastBlock=function(){return this.getBlockMap().last()},L.getPlainText=function($){return this.getBlockMap().map(function(F){return F?F.getText():""}).join($||`
`)},L.getLastCreatedEntityKey=function(){return a.__getLastCreatedEntityKey()},L.hasText=function(){var $=this.getBlockMap();return $.size>1||escape($.first().getText()).replace(/%u200B/g,"").length>0},L.createEntity=function($,F,H){return a.__create($,F,H),this},L.mergeEntityData=function($,F){return a.__mergeData($,F),this},L.replaceEntityData=function($,F){return a.__replaceData($,F),this},L.addEntity=function($){return a.__add($),this},L.getEntity=function($){return a.__get($)},L.getAllEntities=function(){return a.__getAll()},L.loadWithEntities=function($){return a.__loadWithEntities($)},D.createFromBlockArray=function($,F){var H=Array.isArray($)?$:$.contentBlocks,q=r.createFromArray(H),K=q.isEmpty()?new c:c.createEmpty(q.first().getKey());return new D({blockMap:q,entityMap:F||a,selectionBefore:K,selectionAfter:K})},D.createFromText=function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,H=$.split(F),q=H.map(function(K){return K=m(K),new M({key:u(),text:K,type:"unstyled",characterList:y(v(i.EMPTY,K.length))})});return D.createFromBlockArray(q)},D.fromJS=function($){return new D(e({},$,{blockMap:E($.blockMap).map(D.createContentBlockFromJS),selectionBefore:new c($.selectionBefore),selectionAfter:new c($.selectionAfter)}))},D.createContentBlockFromJS=function($){var F=$.characterList;return new M(e({},$,{data:S($.data),characterList:F!=null?y((Array.isArray(F)?F:h(F)).map(function(H){return i.fromJS(H)})):void 0}))},D})(R);return $_=I,$_}var U_,OB;function tb(){if(OB)return U_;OB=1;var e=Or(),t="NEUTRAL",n="LTR",r="RTL",i=null;function o(g){return g===n||g===r}function s(g){return o(g)||e(!1),g===n?"ltr":"rtl"}function a(g,m){return o(g)||e(!1),o(m)||e(!1),g===m?null:s(g)}function c(g){i=g}function u(){c(n)}function h(){return i||this.initGlobalDir(),i||e(!1),i}var f={NEUTRAL:t,LTR:n,RTL:r,isStrong:o,getHTMLDir:s,getHTMLDirIfDifferent:a,setGlobalDir:c,initGlobalDir:u,getGlobalDir:h};return U_=f,U_}var H_,RB;function G_(){if(RB)return H_;RB=1;var e=tb(),t=Or(),n={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},r=new RegExp("["+n.L+n.R+n.AL+"]"),i=new RegExp("["+n.R+n.AL+"]");function o(g){var m=r.exec(g);return m==null?null:m[0]}function s(g){var m=o(g);return m==null?e.NEUTRAL:i.exec(m)?e.RTL:e.LTR}function a(g,m){if(m=m||e.NEUTRAL,!g.length)return m;var y=s(g);return y===e.NEUTRAL?m:y}function c(g,m){return m||(m=e.getGlobalDir()),e.isStrong(m)||t(!1),a(g,m)}function u(g,m){return c(g,m)===e.LTR}function h(g,m){return c(g,m)===e.RTL}var f={firstStrongChar:o,firstStrongCharDir:s,resolveBlockDir:a,getDirection:c,isDirectionLTR:u,isDirectionRTL:h};return H_=f,H_}var W_,IB;function pfe(){if(IB)return W_;IB=1;function e(o,s,a){return s in o?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o}var t=G_(),n=tb(),r=Or(),i=(function(){function o(a){e(this,"_defaultDir",void 0),e(this,"_lastDir",void 0),a?n.isStrong(a)||r(!1):a=n.getGlobalDir(),this._defaultDir=a,this.reset()}var s=o.prototype;return s.reset=function(){this._lastDir=this._defaultDir},s.getDirection=function(c){return this._lastDir=t.getDirection(c,this._lastDir),this._lastDir},o})();return W_=i,W_}var K_,kB;function ps(){if(kB)return K_;kB=1;var e=function(n){if(n!=null)return n;throw new Error("Got unexpected null or undefined")};return K_=e,K_}var q_,PB;function gfe(){if(PB)return q_;PB=1;var e=pfe(),t=_r(),n=ps(),r=t.OrderedMap,i,o={getDirectionMap:function(a,c){i?i.reset():i=new e;var u=a.getBlockMap(),h=u.valueSeq().map(function(g){return n(i).getDirection(g.getText())}),f=r(u.keySeq().zip(h));return c!=null&&t.is(c,f)?c:f}};return q_=o,q_}var Y_,DB;function si(){if(DB)return Y_;DB=1;function e(N){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{},A=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),A.forEach(function($){t(N,$,L[$])})}return N}function t(N,D,L){return D in N?Object.defineProperty(N,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[D]=L,N}var n=hfe(),r=z_(),i=gfe(),o=eb(),s=_r(),a=s.OrderedSet,c=s.Record,u=s.Stack,h=s.OrderedMap,f=s.List,g={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:u(),selection:null,treeMap:null,undoStack:u()},m=c(g),y=(function(){D.createEmpty=function(A){return this.createWithText("",A)},D.createWithText=function(A,$){return D.createWithContent(r.createFromText(A),$)},D.createWithContent=function(A,$){if(A.getBlockMap().count()===0)return D.createEmpty($);var F=A.getBlockMap().first().getKey();return D.create({currentContent:A,undoStack:u(),redoStack:u(),decorator:$||null,selection:o.createEmpty(F)})},D.create=function(A){var $=A.currentContent,F=A.decorator,H=e({},A,{treeMap:v($,F),directionMap:i.getDirectionMap($)});return new D(new m(H))},D.fromJS=function(A){return new D(new m(e({},A,{directionMap:A.directionMap!=null?h(A.directionMap):A.directionMap,inlineStyleOverride:A.inlineStyleOverride!=null?a(A.inlineStyleOverride):A.inlineStyleOverride,nativelyRenderedContent:A.nativelyRenderedContent!=null?r.fromJS(A.nativelyRenderedContent):A.nativelyRenderedContent,redoStack:A.redoStack!=null?u(A.redoStack.map(function($){return r.fromJS($)})):A.redoStack,selection:A.selection!=null?new o(A.selection):A.selection,treeMap:A.treeMap!=null?h(A.treeMap).map(function($){return f($).map(function(F){return n.fromJS(F)})}):A.treeMap,undoStack:A.undoStack!=null?u(A.undoStack.map(function($){return r.fromJS($)})):A.undoStack,currentContent:r.fromJS(A.currentContent)})))},D.set=function(A,$){var F=A.getImmutable().withMutations(function(H){var q=H.get("decorator"),K=q;$.decorator===null?K=null:$.decorator&&(K=$.decorator);var z=$.currentContent||A.getCurrentContent();if(K!==q){var Z=H.get("treeMap"),ee;K&&q?ee=E(z,z.getBlockMap(),Z,K,q):ee=v(z,K),H.merge({decorator:K,treeMap:ee,nativelyRenderedContent:null});return}var ie=A.getCurrentContent();z!==ie&&H.set("treeMap",S(A,z.getBlockMap(),z.getEntityMap(),K)),H.merge($)});return new D(F)};var N=D.prototype;N.toJS=function(){return this.getImmutable().toJS()},N.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},N.getCurrentContent=function(){return this.getImmutable().get("currentContent")},N.getUndoStack=function(){return this.getImmutable().get("undoStack")},N.getRedoStack=function(){return this.getImmutable().get("redoStack")},N.getSelection=function(){return this.getImmutable().get("selection")},N.getDecorator=function(){return this.getImmutable().get("decorator")},N.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},N.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},N.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},N.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},N.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},D.setInlineStyleOverride=function(A,$){return D.set(A,{inlineStyleOverride:$})},N.getCurrentInlineStyle=function(){var A=this.getInlineStyleOverride();if(A!=null)return A;var $=this.getCurrentContent(),F=this.getSelection();return F.isCollapsed()?R($,F):M($,F)},N.getBlockTree=function(A){return this.getImmutable().getIn(["treeMap",A])},N.isSelectionAtStartOfContent=function(){var A=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(A,0,0)},N.isSelectionAtEndOfContent=function(){var A=this.getCurrentContent(),$=A.getBlockMap(),F=$.last(),H=F.getLength();return this.getSelection().hasEdgeWithin(F.getKey(),H,H)},N.getDirectionMap=function(){return this.getImmutable().get("directionMap")},D.acceptSelection=function(A,$){return b(A,$,!1)},D.forceSelection=function(A,$){return $.getHasFocus()||($=$.set("hasFocus",!0)),b(A,$,!0)},D.moveSelectionToEnd=function(A){var $=A.getCurrentContent(),F=$.getLastBlock(),H=F.getKey(),q=F.getLength();return D.acceptSelection(A,new o({anchorKey:H,anchorOffset:q,focusKey:H,focusOffset:q,isBackward:!1}))},D.moveFocusToEnd=function(A){var $=D.moveSelectionToEnd(A);return D.forceSelection($,$.getSelection())},D.push=function(A,$,F){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(A.getCurrentContent()===$)return A;var q=i.getDirectionMap($,A.getDirectionMap());if(!A.getAllowUndo())return D.set(A,{currentContent:$,directionMap:q,lastChangeType:F,selection:$.getSelectionAfter(),forceSelection:H,inlineStyleOverride:null});var K=A.getSelection(),z=A.getCurrentContent(),Z=A.getUndoStack(),ee=$;K!==z.getSelectionAfter()||T(A,F)?(Z=Z.push(z),ee=ee.set("selectionBefore",K)):(F==="insert-characters"||F==="backspace-character"||F==="delete-character")&&(ee=ee.set("selectionBefore",z.getSelectionBefore()));var ie=A.getInlineStyleOverride(),U=["adjust-depth","change-block-type","split-block"];U.indexOf(F)===-1&&(ie=null);var Y={currentContent:ee,directionMap:q,undoStack:Z,redoStack:u(),lastChangeType:F,selection:$.getSelectionAfter(),forceSelection:H,inlineStyleOverride:ie};return D.set(A,Y)},D.undo=function(A){if(!A.getAllowUndo())return A;var $=A.getUndoStack(),F=$.peek();if(!F)return A;var H=A.getCurrentContent(),q=i.getDirectionMap(F,A.getDirectionMap());return D.set(A,{currentContent:F,directionMap:q,undoStack:$.shift(),redoStack:A.getRedoStack().push(H),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:H.getSelectionBefore()})},D.redo=function(A){if(!A.getAllowUndo())return A;var $=A.getRedoStack(),F=$.peek();if(!F)return A;var H=A.getCurrentContent(),q=i.getDirectionMap(F,A.getDirectionMap());return D.set(A,{currentContent:F,directionMap:q,undoStack:A.getUndoStack().push(H),redoStack:$.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:F.getSelectionAfter()})};function D(L){t(this,"_immutable",void 0),this._immutable=L}return N.getImmutable=function(){return this._immutable},D})();function b(N,D,L){return y.set(N,{selection:D,forceSelection:L,nativelyRenderedContent:null,inlineStyleOverride:null})}function v(N,D){return N.getBlockMap().map(function(L){return n.generate(N,L,D)}).toOrderedMap()}function S(N,D,L,A){var $=N.getCurrentContent().set("entityMap",L),F=$.getBlockMap(),H=N.getImmutable().get("treeMap");return H.merge(D.toSeq().filter(function(q,K){return q!==F.get(K)}).map(function(q){return n.generate($,q,A)}))}function E(N,D,L,A,$){return L.merge(D.toSeq().filter(function(F){return A.getDecorations(F,N)!==$.getDecorations(F,N)}).map(function(F){return n.generate(N,F,A)}))}function T(N,D){var L=N.getLastChangeType();return D!==L||D!=="insert-characters"&&D!=="backspace-character"&&D!=="delete-character"}function R(N,D){var L=D.getStartKey(),A=D.getStartOffset(),$=N.getBlockForKey(L);return A>0?$.getInlineStyleAt(A-1):$.getLength()?$.getInlineStyleAt(0):I(N,L)}function M(N,D){var L=D.getStartKey(),A=D.getStartOffset(),$=N.getBlockForKey(L);return A<$.getLength()?$.getInlineStyleAt(A):A>0?$.getInlineStyleAt(A-1):I(N,L)}function I(N,D){var L=N.getBlockMap().reverse().skipUntil(function(A,$){return $===D}).skip(1).skipUntil(function(A,$){return A.getLength()}).first();return L?L.getInlineStyleAt(L.getLength()-1):a()}return Y_=y,Y_}var X_,AB;function mfe(){if(AB)return X_;AB=1;var e=ga(),t=hB(),n=_r(),r=Or(),i=n.OrderedMap,o=n.List,s=function(h,f,g){if(h){var m=f.get(h);m&&f.set(h,g(m))}},a=function(h,f,g,m,y){if(!y)return h;var b=m==="after",v=f.getKey(),S=g.getKey(),E=f.getParentKey(),T=f.getNextSiblingKey(),R=f.getPrevSiblingKey(),M=g.getParentKey(),I=b?g.getNextSiblingKey():S,N=b?S:g.getPrevSiblingKey();return h.withMutations(function(D){s(E,D,function(L){var A=L.getChildKeys();return L.merge({children:A.delete(A.indexOf(v))})}),s(R,D,function(L){return L.merge({nextSibling:T})}),s(T,D,function(L){return L.merge({prevSibling:R})}),s(I,D,function(L){return L.merge({prevSibling:v})}),s(N,D,function(L){return L.merge({nextSibling:v})}),s(M,D,function(L){var A=L.getChildKeys(),$=A.indexOf(S),F=b?$+1:$!==0?$-1:0,H=A.toArray();return H.splice(F,0,v),L.merge({children:o(H)})}),s(v,D,function(L){return L.merge({nextSibling:I,prevSibling:N,parent:M})})})},c=function(h,f,g,m){m==="replace"&&r(!1);var y=g.getKey(),b=f.getKey();b===y&&r(!1);var v=h.getBlockMap(),S=f instanceof e,E=[f],T=v.delete(b);S&&(E=[],T=v.withMutations(function(A){var $=f.getNextSiblingKey(),F=t(f,A);A.toSeq().skipUntil(function(H){return H.getKey()===b}).takeWhile(function(H){var q=H.getKey(),K=q===b,z=$&&q!==$,Z=!$&&H.getParentKey()&&(!F||q!==F);return!!(K||z||Z)}).forEach(function(H){E.push(H),A.delete(H.getKey())})}));var R=T.toSeq().takeUntil(function(A){return A===g}),M=T.toSeq().skipUntil(function(A){return A===g}).skip(1),I=E.map(function(A){return[A.getKey(),A]}),N=i();if(m==="before"){var D=h.getBlockBefore(y);!D||D.getKey()!==f.getKey()||r(!1),N=R.concat([].concat(I,[[y,g]]),M).toOrderedMap()}else if(m==="after"){var L=h.getBlockAfter(y);!L||L.getKey()!==b||r(!1),N=R.concat([[y,g]].concat(I),M).toOrderedMap()}return h.merge({blockMap:a(N,f,g,m,S),selectionBefore:h.getSelectionAfter(),selectionAfter:h.getSelectionAfter().merge({anchorKey:b,focusKey:b})})};return X_=c,X_}var Z_,LB;function vfe(){if(LB)return Z_;LB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},R=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),R.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}var n=vg(),r=pa(),i=jd(),o=ga(),s=fs(),a=si(),c=Al(),u=fu(),h=_r(),f=mfe(),g=u("draft_tree_data_support"),m=g?o:i,y=h.List,b=h.Repeat,v={insertAtomicBlock:function(E,T,R){var M=E.getCurrentContent(),I=E.getSelection(),N=s.removeRange(M,I,"backward"),D=N.getSelectionAfter(),L=s.splitBlock(N,D),A=L.getSelectionAfter(),$=s.setBlockType(L,A,"atomic"),F=r.create({entity:T}),H={key:c(),type:"atomic",text:R,characterList:y(b(F,R.length))},q={key:c(),type:"unstyled"};g&&(H=e({},H,{nextSibling:q.key}),q=e({},q,{prevSibling:H.key}));var K=[new m(H),new m(q)],z=n.createFromArray(K),Z=s.replaceWithFragment($,A,z),ee=Z.merge({selectionBefore:I,selectionAfter:Z.getSelectionAfter().set("hasFocus",!0)});return a.push(E,ee,"insert-fragment")},moveAtomicBlock:function(E,T,R,M){var I=E.getCurrentContent(),N=E.getSelection(),D;if(M==="before"||M==="after"){var L=I.getBlockForKey(M==="before"?R.getStartKey():R.getEndKey());D=f(I,T,L,M)}else{var A=s.removeRange(I,R,"backward"),$=A.getSelectionAfter(),F=A.getBlockForKey($.getFocusKey());if($.getStartOffset()===0)D=f(A,T,F,"before");else if($.getEndOffset()===F.getLength())D=f(A,T,F,"after");else{var H=s.splitBlock(A,$),q=H.getSelectionAfter(),K=H.getBlockForKey(q.getFocusKey());D=f(H,T,K,"before")}}var z=D.merge({selectionBefore:N,selectionAfter:D.getSelectionAfter().set("hasFocus",!0)});return a.push(E,z,"move-block")}};return Z_=v,Z_}var Q_,NB;function yfe(){if(NB)return Q_;NB=1;function e(a,c,u){return c in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,a}var t=_r(),n=t.List,r=".",i=(function(){function a(u){e(this,"_decorators",void 0),this._decorators=u.slice()}var c=a.prototype;return c.getDecorations=function(h,f){var g=Array(h.getText().length).fill(null);return this._decorators.forEach(function(m,y){var b=0,v=m.strategy,S=function(T,R){o(g,T,R)&&(s(g,T,R,y+r+b),b++)};v(h,S,f)}),n(g)},c.getComponentForKey=function(h){var f=parseInt(h.split(r)[0],10);return this._decorators[f].component},c.getPropsForKey=function(h){var f=parseInt(h.split(r)[0],10);return this._decorators[f].props},a})();function o(a,c,u){for(var h=c;h<u;h++)if(a[h]!=null)return!1;return!0}function s(a,c,u,h){for(var f=c;f<u;f++)a[f]=h}return Q_=i,Q_}var J_={exports:{}},Kn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BB;function bfe(){if(BB)return Kn;BB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=f&&U[f]||U["@@iterator"],typeof U=="function"?U:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v(U,Y,J){this.props=U,this.context=Y,this.refs=b,this.updater=J||m}v.prototype.isReactComponent={},v.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},v.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=v.prototype;function E(U,Y,J){this.props=U,this.context=Y,this.refs=b,this.updater=J||m}var T=E.prototype=new S;T.constructor=E,y(T,v.prototype),T.isPureReactComponent=!0;var R=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function N(U,Y,J,he,ge,pe){return J=pe.ref,{$$typeof:e,type:U,key:Y,ref:J!==void 0?J:null,props:pe}}function D(U,Y){return N(U.type,Y,void 0,void 0,void 0,U.props)}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function A(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(J){return Y[J]})}var $=/\/+/g;function F(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?A(""+U.key):Y.toString(36)}function H(){}function q(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(H,H):(U.status="pending",U.then(function(Y){U.status==="pending"&&(U.status="fulfilled",U.value=Y)},function(Y){U.status==="pending"&&(U.status="rejected",U.reason=Y)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,Y,J,he,ge){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(pe){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case e:case t:le=!0;break;case h:return le=U._init,K(le(U._payload),Y,J,he,ge)}}if(le)return ge=ge(U),le=he===""?"."+F(U,0):he,R(ge)?(J="",le!=null&&(J=le.replace($,"$&/")+"/"),K(ge,Y,J,"",function(Te){return Te})):ge!=null&&(L(ge)&&(ge=D(ge,J+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace($,"$&/")+"/")+le)),Y.push(ge)),1;le=0;var Ce=he===""?".":he+":";if(R(U))for(var ke=0;ke<U.length;ke++)he=U[ke],pe=Ce+F(he,ke),le+=K(he,Y,J,pe,ge);else if(ke=g(U),typeof ke=="function")for(U=ke.call(U),ke=0;!(he=U.next()).done;)he=he.value,pe=Ce+F(he,ke++),le+=K(he,Y,J,pe,ge);else if(pe==="object"){if(typeof U.then=="function")return K(q(U),Y,J,he,ge);throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return le}function z(U,Y,J){if(U==null)return U;var he=[],ge=0;return K(U,he,"","",function(pe){return Y.call(J,pe,ge++)}),he}function Z(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(J){(U._status===0||U._status===-1)&&(U._status=1,U._result=J)},function(J){(U._status===0||U._status===-1)&&(U._status=2,U._result=J)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var ee=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ie(){}return Kn.Children={map:z,forEach:function(U,Y,J){z(U,function(){Y.apply(this,arguments)},J)},count:function(U){var Y=0;return z(U,function(){Y++}),Y},toArray:function(U){return z(U,function(Y){return Y})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Kn.Component=v,Kn.Fragment=n,Kn.Profiler=i,Kn.PureComponent=E,Kn.StrictMode=r,Kn.Suspense=c,Kn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Kn.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},Kn.cache=function(U){return function(){return U.apply(null,arguments)}},Kn.cloneElement=function(U,Y,J){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=y({},U.props),ge=U.key,pe=void 0;if(Y!=null)for(le in Y.ref!==void 0&&(pe=void 0),Y.key!==void 0&&(ge=""+Y.key),Y)!I.call(Y,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Y.ref===void 0||(he[le]=Y[le]);var le=arguments.length-2;if(le===1)he.children=J;else if(1<le){for(var Ce=Array(le),ke=0;ke<le;ke++)Ce[ke]=arguments[ke+2];he.children=Ce}return N(U.type,ge,void 0,void 0,pe,he)},Kn.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Kn.createElement=function(U,Y,J){var he,ge={},pe=null;if(Y!=null)for(he in Y.key!==void 0&&(pe=""+Y.key),Y)I.call(Y,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ge[he]=Y[he]);var le=arguments.length-2;if(le===1)ge.children=J;else if(1<le){for(var Ce=Array(le),ke=0;ke<le;ke++)Ce[ke]=arguments[ke+2];ge.children=Ce}if(U&&U.defaultProps)for(he in le=U.defaultProps,le)ge[he]===void 0&&(ge[he]=le[he]);return N(U,pe,void 0,void 0,null,ge)},Kn.createRef=function(){return{current:null}},Kn.forwardRef=function(U){return{$$typeof:a,render:U}},Kn.isValidElement=L,Kn.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:Z}},Kn.memo=function(U,Y){return{$$typeof:u,type:U,compare:Y===void 0?null:Y}},Kn.startTransition=function(U){var Y=M.T,J={};M.T=J;try{var he=U(),ge=M.S;ge!==null&&ge(J,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ie,ee)}catch(pe){ee(pe)}finally{M.T=Y}},Kn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Kn.use=function(U){return M.H.use(U)},Kn.useActionState=function(U,Y,J){return M.H.useActionState(U,Y,J)},Kn.useCallback=function(U,Y){return M.H.useCallback(U,Y)},Kn.useContext=function(U){return M.H.useContext(U)},Kn.useDebugValue=function(){},Kn.useDeferredValue=function(U,Y){return M.H.useDeferredValue(U,Y)},Kn.useEffect=function(U,Y,J){var he=M.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(U,Y)},Kn.useId=function(){return M.H.useId()},Kn.useImperativeHandle=function(U,Y,J){return M.H.useImperativeHandle(U,Y,J)},Kn.useInsertionEffect=function(U,Y){return M.H.useInsertionEffect(U,Y)},Kn.useLayoutEffect=function(U,Y){return M.H.useLayoutEffect(U,Y)},Kn.useMemo=function(U,Y){return M.H.useMemo(U,Y)},Kn.useOptimistic=function(U,Y){return M.H.useOptimistic(U,Y)},Kn.useReducer=function(U,Y,J){return M.H.useReducer(U,Y,J)},Kn.useRef=function(U){return M.H.useRef(U)},Kn.useState=function(U){return M.H.useState(U)},Kn.useSyncExternalStore=function(U,Y,J){return M.H.useSyncExternalStore(U,Y,J)},Kn.useTransition=function(){return M.H.useTransition()},Kn.version="19.1.1",Kn}var FB;function Xo(){return FB||(FB=1,J_.exports=bfe()),J_.exports}var eE,jB;function Vd(){if(jB)return eE;jB=1;function e(n){return typeof n=="object"?Object.keys(n).filter(function(r){return n[r]}).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}function t(n){return n.replace(/\//g,"-")}return eE=e,eE}var tE,VB;function nE(){if(VB)return tE;VB=1;var e=Xo(),t=Vd(),n=_r(),r=n.Map,i=e.createElement("ul",{className:t("public/DraftStyleDefault/ul")}),o=e.createElement("ol",{className:t("public/DraftStyleDefault/ol")}),s=e.createElement("pre",{className:t("public/DraftStyleDefault/pre")}),a=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:i},"ordered-list-item":{element:"li",wrapper:o},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:s},unstyled:{element:"div",aliasedElements:["p"]}});return tE=a,tE}var rE,$B;function zB(){return $B||($B=1,rE={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}),rE}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iE,UB;function $d(){if(UB)return iE;UB=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function i(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var s={},a=0;a<10;a++)s["_"+String.fromCharCode(a)]=a;var c=Object.getOwnPropertyNames(s).map(function(h){return s[h]});if(c.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(h){u[h]=h}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return iE=i()?Object.assign:function(o,s){for(var a,c=r(o),u,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var f in a)t.call(a,f)&&(c[f]=a[f]);if(e){u=e(a);for(var g=0;g<u.length;g++)n.call(a,u[g])&&(c[u[g]]=a[u[g]])}}return c},iE}var bg={exports:{}},wfe=bg.exports,HB;function Sfe(){return HB||(HB=1,(function(e,t){(function(n,r){var i="0.7.41",o="",s="?",a="function",c="undefined",u="object",h="string",f="major",g="model",m="name",y="type",b="vendor",v="version",S="architecture",E="console",T="mobile",R="tablet",M="smarttv",I="wearable",N="embedded",D=500,L="Amazon",A="Apple",$="ASUS",F="BlackBerry",H="Browser",q="Chrome",K="Edge",z="Firefox",Z="Google",ee="Honor",ie="Huawei",U="Lenovo",Y="LG",J="Microsoft",he="Motorola",ge="Nvidia",pe="OnePlus",le="Opera",Ce="OPPO",ke="Samsung",Te="Sharp",me="Sony",ye="Xiaomi",xe="Zebra",Re="Facebook",Le="Chromium OS",Ie="Mac OS",je=" Browser",lt=function(Je,bt){var wt={};for(var at in Je)bt[at]&&bt[at].length%2===0?wt[at]=bt[at].concat(Je[at]):wt[at]=Je[at];return wt},We=function(Je){for(var bt={},wt=0;wt<Je.length;wt++)bt[Je[wt].toUpperCase()]=Je[wt];return bt},Bt=function(Je,bt){return typeof Je===h?Ct(bt).indexOf(Ct(Je))!==-1:!1},Ct=function(Je){return Je.toLowerCase()},Ot=function(Je){return typeof Je===h?Je.replace(/[^\d\.]/g,o).split(".")[0]:r},Ke=function(Je,bt){if(typeof Je===h)return Je=Je.replace(/^\s\s*/,o),typeof bt===c?Je:Je.substring(0,D)},Ft=function(Je,bt){for(var wt=0,at,mt,Vt,_t,Nt,Zn;wt<bt.length&&!Nt;){var An=bt[wt],yr=bt[wt+1];for(at=mt=0;at<An.length&&!Nt&&An[at];)if(Nt=An[at++].exec(Je),Nt)for(Vt=0;Vt<yr.length;Vt++)Zn=Nt[++mt],_t=yr[Vt],typeof _t===u&&_t.length>0?_t.length===2?typeof _t[1]==a?this[_t[0]]=_t[1].call(this,Zn):this[_t[0]]=_t[1]:_t.length===3?typeof _t[1]===a&&!(_t[1].exec&&_t[1].test)?this[_t[0]]=Zn?_t[1].call(this,Zn,_t[2]):r:this[_t[0]]=Zn?Zn.replace(_t[1],_t[2]):r:_t.length===4&&(this[_t[0]]=Zn?_t[3].call(this,Zn.replace(_t[1],_t[2])):r):this[_t]=Zn||r;wt+=2}},Mt=function(Je,bt){for(var wt in bt)if(typeof bt[wt]===u&&bt[wt].length>0){for(var at=0;at<bt[wt].length;at++)if(Bt(bt[wt][at],Je))return wt===s?r:wt}else if(Bt(bt[wt],Je))return wt===s?r:wt;return bt.hasOwnProperty("*")?bt["*"]:Je},zt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Lt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Xt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,le+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,le+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,le]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+H]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+H]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+H],v],[/\bfocus\/([\w\.]+)/i],[v,[m,z+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,le+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,le+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI"+je]],[/fxios\/([\w\.-]+)/i],[v,[m,z]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+je],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,ke+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Re],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,q+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,q+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+H]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,Mt,zt]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[S,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[S,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[S,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[S,/ower/,o,Ct]],[/ sun4\w[;\)]/i],[[S,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[S,Ct]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[b,ke],[y,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[b,ke],[y,T]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[b,A],[y,T]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[b,A],[y,R]],[/(macintosh);/i],[g,[b,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[b,Te],[y,T]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[b,ee],[y,R]],[/honor([-\w ]+)[;\)]/i],[g,[b,ee],[y,T]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[b,ie],[y,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[b,ie],[y,T]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[b,ye],[y,R]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[b,ye],[y,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[b,Ce],[y,T]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[b,Mt,{OnePlus:["304","403","203"],"*":Ce}],[y,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[b,"Vivo"],[y,T]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[b,"Realme"],[y,T]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[b,he],[y,T]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[b,he],[y,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[b,Y],[y,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[b,Y],[y,T]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[b,U],[y,R]],[/(nokia) (t[12][01])/i],[b,g,[y,R]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[y,T],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[b,Z],[y,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[b,Z],[y,T]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[b,me],[y,T]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[b,me],[y,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[b,pe],[y,T]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[b,L],[y,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[b,L],[y,T]],[/(playbook);[-\w\),; ]+(rim)/i],[g,b,[y,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[b,F],[y,T]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[b,$],[y,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[b,$],[y,T]],[/(nexus 9)/i],[g,[b,"HTC"],[y,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[g,/_/g," "],[y,T]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[b,"TCL"],[y,R]],[/(itel) ((\w+))/i],[[b,Ct],g,[y,Mt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[b,"Acer"],[y,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[b,"Meizu"],[y,T]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[b,"Ulefone"],[y,T]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[b,"Energizer"],[y,T]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[b,"Cat"],[y,T]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[b,"Smartfren"],[y,T]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[b,"Nothing"],[y,T]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[b,"Archos"],[y,R]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[b,"Archos"],[y,T]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,g,[y,R]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,g,[y,T]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,g,[y,R]],[/(surface duo)/i],[g,[b,J],[y,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[b,"Fairphone"],[y,T]],[/(u304aa)/i],[g,[b,"AT&T"],[y,T]],[/\bsie-(\w*)/i],[g,[b,"Siemens"],[y,T]],[/\b(rct\w+) b/i],[g,[b,"RCA"],[y,R]],[/\b(venue[\d ]{2,7}) b/i],[g,[b,"Dell"],[y,R]],[/\b(q(?:mv|ta)\w+) b/i],[g,[b,"Verizon"],[y,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[b,"Barnes & Noble"],[y,R]],[/\b(tm\d{3}\w+) b/i],[g,[b,"NuVision"],[y,R]],[/\b(k88) b/i],[g,[b,"ZTE"],[y,R]],[/\b(nx\d{3}j) b/i],[g,[b,"ZTE"],[y,T]],[/\b(gen\d{3}) b.+49h/i],[g,[b,"Swiss"],[y,T]],[/\b(zur\d{3}) b/i],[g,[b,"Swiss"],[y,R]],[/\b((zeki)?tb.*\b) b/i],[g,[b,"Zeki"],[y,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],g,[y,R]],[/\b(ns-?\w{0,9}) b/i],[g,[b,"Insignia"],[y,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[b,"NextBook"],[y,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],g,[y,T]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],g,[y,T]],[/\b(ph-1) /i],[g,[b,"Essential"],[y,T]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[b,"Envizen"],[y,R]],[/\b(trio[-\w\. ]+) b/i],[g,[b,"MachSpeed"],[y,R]],[/\btu_(1491) b/i],[g,[b,"Rotor"],[y,R]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[b,ge],[y,R]],[/(sprint) (\w+)/i],[b,g,[y,T]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[b,J],[y,T]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[b,xe],[y,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[b,xe],[y,T]],[/smart-tv.+(samsung)/i],[b,[y,M]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[b,ke],[y,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,Y],[y,M]],[/(apple) ?tv/i],[b,[g,A+" TV"],[y,M]],[/crkey/i],[[g,q+"cast"],[b,Z],[y,M]],[/droid.+aft(\w+)( bui|\))/i],[g,[b,L],[y,M]],[/(shield \w+ tv)/i],[g,[b,ge],[y,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[b,Te],[y,M]],[/(bravia[\w ]+)( bui|\))/i],[g,[b,me],[y,M]],[/(mi(tv|box)-?\w+) bui/i],[g,[b,ye],[y,M]],[/Hbbtv.*(technisat) (.*);/i],[b,g,[y,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,Ke],[g,Ke],[y,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[y,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,g,[y,E]],[/droid.+; (shield)( bui|\))/i],[g,[b,ge],[y,E]],[/(playstation \w+)/i],[g,[b,me],[y,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[b,J],[y,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[b,ke],[y,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,g,[y,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[b,Ce],[y,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[b,A],[y,I]],[/(opwwe\d{3})/i],[g,[b,pe],[y,I]],[/(moto 360)/i],[g,[b,he],[y,I]],[/(smartwatch 3)/i],[g,[b,me],[y,I]],[/(g watch r)/i],[g,[b,Y],[y,I]],[/droid.+; (wt63?0{2,3})\)/i],[g,[b,xe],[y,I]],[/droid.+; (glass) \d/i],[g,[b,Z],[y,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,g,[y,I]],[/; (quest( \d| pro)?)/i],[g,[b,Re],[y,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[y,N]],[/(aeobc)\b/i],[g,[b,L],[y,N]],[/(homepod).+mac os/i],[g,[b,A],[y,N]],[/windows iot/i],[[y,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[y,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[y,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,T]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,K+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[v,Mt,Lt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Mt,Lt],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Ie],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,v],[/\(bb(10);/i],[v,[m,F]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,q+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,Le],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},sn=function(Je,bt){if(typeof Je===u&&(bt=Je,Je=r),!(this instanceof sn))return new sn(Je,bt).getResult();var wt=typeof n!==c&&n.navigator?n.navigator:r,at=Je||(wt&&wt.userAgent?wt.userAgent:o),mt=wt&&wt.userAgentData?wt.userAgentData:r,Vt=bt?lt(Xt,bt):Xt,_t=wt&&wt.userAgent==at;return this.getBrowser=function(){var Nt={};return Nt[m]=r,Nt[v]=r,Ft.call(Nt,at,Vt.browser),Nt[f]=Ot(Nt[v]),_t&&wt&&wt.brave&&typeof wt.brave.isBrave==a&&(Nt[m]="Brave"),Nt},this.getCPU=function(){var Nt={};return Nt[S]=r,Ft.call(Nt,at,Vt.cpu),Nt},this.getDevice=function(){var Nt={};return Nt[b]=r,Nt[g]=r,Nt[y]=r,Ft.call(Nt,at,Vt.device),_t&&!Nt[y]&&mt&&mt.mobile&&(Nt[y]=T),_t&&Nt[g]=="Macintosh"&&wt&&typeof wt.standalone!==c&&wt.maxTouchPoints&&wt.maxTouchPoints>2&&(Nt[g]="iPad",Nt[y]=R),Nt},this.getEngine=function(){var Nt={};return Nt[m]=r,Nt[v]=r,Ft.call(Nt,at,Vt.engine),Nt},this.getOS=function(){var Nt={};return Nt[m]=r,Nt[v]=r,Ft.call(Nt,at,Vt.os),_t&&!Nt[m]&&mt&&mt.platform&&mt.platform!="Unknown"&&(Nt[m]=mt.platform.replace(/chrome os/i,Le).replace(/macos/i,Ie)),Nt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return at},this.setUA=function(Nt){return at=typeof Nt===h&&Nt.length>D?Ke(Nt,D):Nt,this},this.setUA(at),this};sn.VERSION=i,sn.BROWSER=We([m,v,f]),sn.CPU=We([S]),sn.DEVICE=We([g,b,y,E,T,M,R,I,N]),sn.ENGINE=sn.OS=We([m,v]),e.exports&&(t=e.exports=sn),t.UAParser=sn;var xt=typeof n!==c&&(n.jQuery||n.Zepto);if(xt&&!xt.ua){var Dt=new sn;xt.ua=Dt.getResult(),xt.ua.get=function(){return Dt.getUA()},xt.ua.set=function(Je){Dt.setUA(Je);var bt=Dt.getResult();for(var wt in bt)xt.ua[wt]=bt[wt]}}})(typeof window=="object"?window:wfe)})(bg,bg.exports)),bg.exports}var oE,GB;function Cfe(){if(GB)return oE;GB=1;var e=Sfe(),t="Unknown",n={"Mac OS":"Mac OS X"};function r(u){return n[u]||u}function i(u){if(!u)return{major:"",minor:""};var h=u.split(".");return{major:h[0],minor:h[1]}}var o=new e,s=o.getResult(),a=i(s.browser.version),c={browserArchitecture:s.cpu.architecture||t,browserFullVersion:s.browser.version||t,browserMinorVersion:a.minor||t,browserName:s.browser.name||t,browserVersion:s.browser.major||t,deviceName:s.device.model||t,engineName:s.engine.name||t,engineVersion:s.engine.version||t,platformArchitecture:s.cpu.architecture||t,platformName:r(s.os.name)||t,platformVersion:s.os.version||t,platformFullVersion:s.os.version||t};return oE=c,oE}var sE,WB;function xfe(){if(WB)return sE;WB=1;var e=Or(),t=/\./,n=/\|\|/,r=/\s+\-\s+/,i=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,o=/^(\d*)(.*)/;function s(D,L){var A=D.split(n);return A.length>1?A.some(function($){return N.contains($,L)}):(D=A[0].trim(),a(D,L))}function a(D,L){var A=D.split(r);if(A.length>0&&A.length<=2||e(!1),A.length===1)return c(A[0],L);var $=A[0],F=A[1];return S($)&&S(F)||e(!1),c(">="+$,L)&&c("<="+F,L)}function c(D,L){if(D=D.trim(),D==="")return!0;var A=L.split(t),$=b(D),F=$.modifier,H=$.rangeComponents;switch(F){case"<":return u(A,H);case"<=":return h(A,H);case">=":return g(A,H);case">":return m(A,H);case"~":case"~>":return y(A,H);default:return f(A,H)}}function u(D,L){return I(D,L)===-1}function h(D,L){var A=I(D,L);return A===-1||A===0}function f(D,L){return I(D,L)===0}function g(D,L){var A=I(D,L);return A===1||A===0}function m(D,L){return I(D,L)===1}function y(D,L){var A=L.slice(),$=L.slice();$.length>1&&$.pop();var F=$.length-1,H=parseInt($[F],10);return v(H)&&($[F]=H+1+""),g(D,A)&&u(D,$)}function b(D){var L=D.split(t),A=L[0].match(i);return A||e(!1),{modifier:A[1],rangeComponents:[A[2]].concat(L.slice(1))}}function v(D){return!isNaN(D)&&isFinite(D)}function S(D){return!b(D).modifier}function E(D,L){for(var A=D.length;A<L;A++)D[A]="0"}function T(D,L){D=D.slice(),L=L.slice(),E(D,L.length);for(var A=0;A<L.length;A++){var $=L[A].match(/^[x*]$/i);if($&&(L[A]=D[A]="0",$[0]==="*"&&A===L.length-1))for(var F=A;F<D.length;F++)D[F]="0"}return E(L,D.length),[D,L]}function R(D,L){var A=D.match(o)[1],$=L.match(o)[1],F=parseInt(A,10),H=parseInt($,10);return v(F)&&v(H)&&F!==H?M(F,H):M(D,L)}function M(D,L){return typeof D!=typeof L&&e(!1),D>L?1:D<L?-1:0}function I(D,L){for(var A=T(D,L),$=A[0],F=A[1],H=0;H<F.length;H++){var q=R($[H],F[H]);if(q)return q}return 0}var N={contains:function(L,A){return s(L.trim(),A.trim())}};return sE=N,sE}var aE,KB;function _fe(){if(KB)return aE;KB=1;var e=Object.prototype.hasOwnProperty;function t(n,r,i){if(!n)return null;var o={};for(var s in n)e.call(n,s)&&(o[s]=r.call(i,n[s],s,n));return o}return aE=t,aE}var lE,qB;function Efe(){if(qB)return lE;qB=1;function e(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}return lE=e,lE}var cE,YB;function gs(){if(YB)return cE;YB=1;var e=Cfe(),t=xfe(),n=_fe(),r=Efe();function i(a,c,u,h){if(a===u)return!0;if(!u.startsWith(a))return!1;var f=u.slice(a.length);return c?(f=h?h(f):f,t.contains(f,c)):!1}function o(a){return e.platformName==="Windows"?a.replace(/^\s*NT/,""):a}var s={isBrowser:function(c){return i(e.browserName,e.browserFullVersion,c)},isBrowserArchitecture:function(c){return i(e.browserArchitecture,null,c)},isDevice:function(c){return i(e.deviceName,null,c)},isEngine:function(c){return i(e.engineName,e.engineVersion,c)},isPlatform:function(c){return i(e.platformName,e.platformFullVersion,c,o)},isPlatformArchitecture:function(c){return i(e.platformArchitecture,null,c)}};return cE=n(s,r),cE}var uE,XB;function nb(){if(XB)return uE;XB=1;function e(t){return!t||!t.ownerDocument?document:t.ownerDocument}return uE=e,uE}var dE,ZB;function zd(){if(ZB)return dE;ZB=1;function e(t){return!t||!t.ownerDocument?!1:t.nodeType===Node.ELEMENT_NODE}return dE=e,dE}var hE,QB;function JB(){if(QB)return hE;QB=1;var e=zd();function t(n){if(e(n)){var r=n,i=r.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<r.childNodes.length;o++){var s=t(r.childNodes[o]);if(s)return s}}return null}return hE=t,hE}var fE,eF;function rb(){if(eF)return fE;eF=1;var e=nb(),t=JB();function n(r){for(var i=r;i&&i!==e(r).documentElement;){var o=t(i);if(o!=null)return o;i=i.parentNode}return null}return fE=n,fE}var pE,tF;function nF(){if(tF)return pE;tF=1;function e(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}return pE=e,pE}var gE,rF;function Tfe(){if(rF)return gE;rF=1;function e(f,g,m){return g in f?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m,f}var t=gs(),n=rb(),r=nF(),i=_r(),o=Or(),s=ps(),a=i.Map,c={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},u=t.isBrowser("IE <= 11"),h=(function(){function f(m){var y=this;e(this,"observer",void 0),e(this,"container",void 0),e(this,"mutations",void 0),e(this,"onCharData",void 0),this.container=m,this.mutations=a();var b=r(m);b.MutationObserver&&!u?this.observer=new b.MutationObserver(function(v){return y.registerMutations(v)}):this.onCharData=function(v){v.target instanceof Node||o(!1),y.registerMutation({type:"characterData",target:v.target})}}var g=f.prototype;return g.start=function(){this.observer?this.observer.observe(this.container,c):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},g.stopAndFlushMutations=function(){var y=this.observer;y?(this.registerMutations(y.takeRecords()),y.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var b=this.mutations;return this.mutations=a(),b},g.registerMutations=function(y){for(var b=0;b<y.length;b++)this.registerMutation(y[b])},g.getMutationTextContent=function(y){var b=y.type,v=y.target,S=y.removedNodes;if(b==="characterData"){if(v.textContent!=="")return u?v.textContent.replace(`
`,""):v.textContent}else if(b==="childList"){if(S&&S.length)return"";if(v.textContent!=="")return v.textContent}return null},g.registerMutation=function(y){var b=this.getMutationTextContent(y);if(b!=null){var v=s(n(y.target));this.mutations=this.mutations.set(v,b)}},f})();return gE=h,gE}var mE,iF;function xc(){if(iF)return mE;iF=1;var e="-",t={encode:function(r,i,o){return r+e+i+e+o},decode:function(r){var i=r.split(e).reverse(),o=i[0],s=i[1],a=i.slice(2);return{blockKey:a.reverse().join(e),decoratorKey:parseInt(s,10),leafKey:parseInt(o,10)}}};return mE=t,mE}var vE,oF;function ib(){return oF||(oF=1,vE={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}),vE}var yE,sF;function aF(){return sF||(sF=1,yE={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}),yE}var bE,lF;function wg(){if(lF)return bE;lF=1;function e(t){return!t||!t.ownerDocument?!1:t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement}return bE=e,bE}var wE,cF;function uF(){if(cF)return wE;cF=1;var e=Or(),t=wg();function n(r){var i=r.editorContainer;i||e(!1),t(i.firstChild)||e(!1);var o=i.firstChild;return o}return wE=n,wE}var SE,dF;function hF(){if(dF)return SE;dF=1;var e=xc(),t=ps();function n(r,i,o,s,a){var c=t(r.getSelection());if(!i||!s)return c;var u=e.decode(i),h=u.blockKey,f=r.getBlockTree(h),g=f&&f.getIn([u.decoratorKey,"leaves",u.leafKey]),m=e.decode(s),y=m.blockKey,b=r.getBlockTree(y),v=b&&b.getIn([m.decoratorKey,"leaves",m.leafKey]);if(!g||!v)return c;var S=g.get("start"),E=v.get("start"),T=g?S+o:null,R=v?E+a:null,M=c.getAnchorKey()===h&&c.getAnchorOffset()===T&&c.getFocusKey()===y&&c.getFocusOffset()===R;if(M)return c;var I=!1;if(h===y){var N=g.get("end"),D=v.get("end");E===S&&D===N?I=a<o:I=E<S}else{var L=r.getCurrentContent().getBlockMap().keySeq().skipUntil(function(A){return A===h||A===y}).first();I=L===y}return c.merge({anchorKey:h,anchorOffset:T,focusKey:y,focusOffset:R,isBackward:I})}return SE=n,SE}var CE,fF;function pF(){if(fF)return CE;fF=1;var e=rb(),t=JB(),n=hF(),r=Or(),i=zd(),o=ps();function s(f,g,m,y,b,v){var S=m.nodeType===Node.TEXT_NODE,E=b.nodeType===Node.TEXT_NODE;if(S&&E)return{selectionState:n(f,o(e(m)),y,o(e(b)),v),needsRecovery:!1};var T=null,R=null,M=!0;return S?(T={key:o(e(m)),offset:y},R=u(g,b,v)):E?(R={key:o(e(b)),offset:v},T=u(g,m,y)):(T=u(g,m,y),R=u(g,b,v),m===b&&y===v&&(M=!!m.firstChild&&m.firstChild.nodeName!=="BR")),{selectionState:n(f,T.key,T.offset,R.key,R.offset),needsRecovery:M}}function a(f){for(;f.firstChild&&(i(f.firstChild)&&f.firstChild.getAttribute("data-blocks")==="true"||t(f.firstChild));)f=f.firstChild;return f}function c(f){for(;f.lastChild&&(i(f.lastChild)&&f.lastChild.getAttribute("data-blocks")==="true"||t(f.lastChild));)f=f.lastChild;return f}function u(f,g,m){var y=g,b=e(y);if(b!=null||f&&(f===y||f.firstChild===y)||r(!1),f===y){y=y.firstChild,i(y)||r(!1);var v=y;y=v,y.getAttribute("data-contents")!=="true"&&r(!1),m>0&&(m=y.childNodes.length)}if(m===0){var S=null;if(b!=null)S=b;else{var E=a(y);S=o(t(E))}return{key:S,offset:0}}var T=y.childNodes[m-1],R=null,M=null;if(!t(T))R=o(b),M=h(T);else{var I=c(T);R=o(t(I)),M=h(I)}return{key:R,offset:M}}function h(f){var g=f.textContent;return g===`
`?0:g.length}return CE=s,CE}var xE,gF;function mF(){if(gF)return xE;gF=1;var e=pF();function t(n,r){var i=r.ownerDocument.defaultView.getSelection(),o=i.anchorNode,s=i.anchorOffset,a=i.focusNode,c=i.focusOffset,u=i.rangeCount;return u===0||o==null||a==null?{selectionState:n.getSelection().set("hasFocus",!1),needsRecovery:!1}:e(n,r,o,s,a,c)}return xE=t,xE}var _E,vF;function yF(){if(vF)return _E;vF=1;var e=aF(),t=si(),n=uF(),r=mF();function i(o){if(o._blockSelectEvents||o._latestEditorState!==o.props.editorState){if(o._blockSelectEvents){var s=o.props.editorState,a=s.getSelection();e.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(a.toJS())})}return}var c=o.props.editorState,u=r(c,n(o)),h=u.selectionState;h!==c.getSelection()&&(u.needsRecovery?c=t.forceSelection(c,h):c=t.acceptSelection(c,h),o.update(c))}return _E=i,_E}var EE,bF;function wF(){if(bF)return EE;bF=1;function e(t){return t!=null&&t!=""}return EE={notEmptyKey:e},EE}var TE,SF;function ME(){if(SF)return TE;SF=1;var e=wF(),t=e.notEmptyKey;function n(i,o){var s;if(o.isCollapsed()){var a=o.getAnchorKey(),c=o.getAnchorOffset();return c>0?(s=i.getBlockForKey(a).getEntityAt(c-1),s!==i.getBlockForKey(a).getEntityAt(c)?null:r(i.getEntityMap(),s)):null}var u=o.getStartKey(),h=o.getStartOffset(),f=i.getBlockForKey(u);return s=h===f.getLength()?null:f.getEntityAt(h),r(i.getEntityMap(),s)}function r(i,o){if(t(o)){var s=i.__get(o);return s.getMutability()==="MUTABLE"?o:null}return null}return TE=n,TE}var OE,CF;function Mfe(){if(CF)return OE;CF=1;var e=Tfe(),t=fs(),n=xc(),r=si(),i=ib(),o=gs(),s=yF(),a=uF(),c=mF(),u=ME(),h=ps(),f=o.isBrowser("IE"),g=20,m=!1,y=!1,b=null;function v(E){b||(b=new e(a(E)),b.start())}var S={onCompositionStart:function(T){y=!0,v(T)},onCompositionEnd:function(T){m=!1,y=!1,setTimeout(function(){m||S.resolveComposition(T)},g)},onSelect:s,onKeyDown:function(T,R){if(!y){S.resolveComposition(T),T._onKeyDown(R);return}(R.which===i.RIGHT||R.which===i.LEFT)&&R.preventDefault()},onKeyPress:function(T,R){R.which===i.RETURN&&R.preventDefault()},resolveComposition:function(T){if(!y){var R=h(b).stopAndFlushMutations();b=null,m=!0;var M=r.set(T._latestEditorState,{inCompositionMode:!1});if(T.exitCurrentMode(),!R.size){T.update(M);return}var I=M.getCurrentContent();R.forEach(function(A,$){var F=n.decode($),H=F.blockKey,q=F.decoratorKey,K=F.leafKey,z=M.getBlockTree(H).getIn([q,"leaves",K]),Z=z.start,ee=z.end,ie=M.getSelection().merge({anchorKey:H,focusKey:H,anchorOffset:Z,focusOffset:ee,isBackward:!1}),U=u(I,ie),Y=I.getBlockForKey(H).getInlineStyleAt(Z);I=t.replaceText(I,ie,A,Y,U),M=r.set(M,{currentContent:I})});var N=c(M,a(T)),D=N.selectionState;T.restoreEditorDOM();var L=f?r.forceSelection(M,D):r.acceptSelection(M,D);T.update(r.push(L,I,"insert-characters"))}}};return OE=S,OE}var RE,xF;function Ofe(){if(xF)return RE;xF=1;var e=$d();function t(){return t=e||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function n(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var r=xc(),i=Xo(),o=G_(),s=tb(),a=(function(c){n(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.children,b=g.contentState,v=g.decorator,S=g.decoratorKey,E=g.direction,T=g.leafSet,R=g.text,M=m.getKey(),I=T.get("leaves"),N=v.getComponentForKey(S),D=v.getPropsForKey(S),L=r.encode(M,parseInt(S,10),0),A=R.slice(I.first().get("start"),I.last().get("end")),$=s.getHTMLDirIfDifferent(o.getDirection(A),E);return i.createElement(N,t({},D,{contentState:b,decoratedText:A,dir:$,key:L,entityKey:m.getEntityAt(T.get("start")),offsetKey:L}),y)},u})(i.Component);return RE=a,RE}var IE,_F;function Rfe(){if(_F)return IE;_F=1;function e(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function t(g,m){g.prototype=Object.create(m.prototype),g.prototype.constructor=g,g.__proto__=m}function n(g,m,y){return m in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y,g}var r=Xo(),i=gs(),o=Or(),s=zd(),a=i.isBrowser("IE <= 11");function c(g){return a?g.textContent===`
`:g.tagName==="BR"}var u=function(m){return a?r.createElement("span",{key:"A","data-text":"true",ref:m},`
`):r.createElement("br",{key:"A","data-text":"true",ref:m})},h=function(m){return a?r.createElement("span",{key:"B","data-text":"true",ref:m},`
`):r.createElement("br",{key:"B","data-text":"true",ref:m})},f=(function(g){t(m,g);function m(b){var v;return v=g.call(this,b)||this,n(e(v),"_forceFlag",void 0),n(e(v),"_node",void 0),v._forceFlag=!1,v}var y=m.prototype;return y.shouldComponentUpdate=function(v){var S=this._node,E=v.children==="";s(S)||o(!1);var T=S;return E?!c(T):T.textContent!==v.children},y.componentDidMount=function(){this._forceFlag=!this._forceFlag},y.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},y.render=function(){var v=this;return this.props.children===""?this._forceFlag?u(function(S){return v._node=S}):h(function(S){return v._node=S}):r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(E){return v._node=E}},this.props.children)},m})(r.Component);return IE=f,IE}var kE,EF;function TF(){if(EF)return kE;EF=1;var e=zd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="BR"}return kE=t,kE}var PE,MF;function OF(){return MF||(MF=1,PE={initODS:function(){},handleExtensionCausedError:function(){}}),PE}var DE,RF;function Ife(){if(RF)return DE;RF=1;function e(t){var n=t?t.ownerDocument||t:document,r=n.defaultView||window;return!!(t&&(typeof r.Node=="function"?t instanceof r.Node:typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"))}return DE=e,DE}var AE,IF;function kfe(){if(IF)return AE;IF=1;var e=Ife();function t(n){return e(n)&&n.nodeType==3}return AE=t,AE}var LE,kF;function NE(){if(kF)return LE;kF=1;var e=kfe();function t(n,r){return!n||!r?!1:n===r?!0:e(n)?!1:e(r)?t(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1}return LE=t,LE}var BE,PF;function DF(){if(PF)return BE;PF=1;function e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}return BE=e,BE}var FE,AF;function Pfe(){if(AF)return FE;AF=1;var e=OF(),t=aF(),n=gs(),r=NE(),i=DF(),o=nb(),s=Or(),a=zd(),c=n.isBrowser("IE");function u(v,S){if(!v)return"[empty]";var E=h(v,S);if(E.nodeType===Node.TEXT_NODE)return E.textContent;a(E)||s(!1);var T=E;return T.outerHTML}function h(v,S){var E=S!==void 0?S(v):[];if(v.nodeType===Node.TEXT_NODE){var T=v.textContent.length;return o(v).createTextNode("[text "+T+(E.length?" | "+E.join(", "):"")+"]")}var R=v.cloneNode();R.nodeType===1&&E.length&&R.setAttribute("data-labels",E.join(", "));for(var M=v.childNodes,I=0;I<M.length;I++)R.appendChild(h(M[I],S));return R}function f(v,S){for(var E=v,T=E;E;){if(a(E)&&T.hasAttribute("contenteditable"))return u(E,S);E=E.parentNode,T=E}return"Could not find contentEditable parent of node"}function g(v){return v.nodeValue===null?v.childNodes.length:v.nodeValue.length}function m(v,S,E,T,R){var M=o(S);if(r(M.documentElement,S)){var I=M.defaultView.getSelection(),N=v.getAnchorKey(),D=v.getAnchorOffset(),L=v.getFocusKey(),A=v.getFocusOffset(),$=v.getIsBackward();if(!I.extend&&$){var F=N,H=D;N=L,D=A,L=F,A=H,$=!1}var q=N===E&&T<=D&&R>=D,K=L===E&&T<=A&&R>=A;if(q&&K){I.removeAllRanges(),b(I,S,D-T,v),y(I,S,A-T,v);return}if(!$)q&&(I.removeAllRanges(),b(I,S,D-T,v)),K&&y(I,S,A-T,v);else if(K&&(I.removeAllRanges(),b(I,S,A-T,v)),q){var z=I.focusNode,Z=I.focusOffset;I.removeAllRanges(),b(I,S,D-T,v),y(I,z,Z,v)}}}function y(v,S,E,T){var R=i(),M=v.extend;if(M&&S!=null&&r(R,S)){E>g(S)&&t.logSelectionStateFailure({anonymizedDom:f(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())});var I=S===v.focusNode;try{v.rangeCount>0&&v.extend&&v.extend(S,E)}catch(D){throw t.logSelectionStateFailure({anonymizedDom:f(S,function(L){var A=[];return L===R&&A.push("active element"),L===v.anchorNode&&A.push("selection anchor node"),L===v.focusNode&&A.push("selection focus node"),A}),extraParams:JSON.stringify({activeElementName:R?R.nodeName:null,nodeIsFocus:S===v.focusNode,nodeWasFocus:I,selectionRangeCount:v.rangeCount,selectionAnchorNodeName:v.anchorNode?v.anchorNode.nodeName:null,selectionAnchorOffset:v.anchorOffset,selectionFocusNodeName:v.focusNode?v.focusNode.nodeName:null,selectionFocusOffset:v.focusOffset,message:D?""+D:null,offset:E},null,2),selectionState:JSON.stringify(T.toJS(),null,2)}),D}}else if(S&&v.rangeCount>0){var N=v.getRangeAt(0);N.setEnd(S,E),v.addRange(N.cloneRange())}}function b(v,S,E,T){var R=o(S).createRange();if(E>g(S)&&(t.logSelectionStateFailure({anonymizedDom:f(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())}),e.handleExtensionCausedError()),R.setStart(S,E),c)try{v.addRange(R)}catch{}else v.addRange(R)}return FE={setDraftEditorSelection:m,addFocusToSelection:y},FE}var jE,LF;function NF(){if(LF)return jE;LF=1;var e=$d();function t(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function n(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,h.__proto__=f}function r(h,f,g){return f in h?Object.defineProperty(h,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[f]=g,h}var i=Rfe(),o=Xo(),s=Or(),a=TF(),c=Pfe().setDraftEditorSelection,u=(function(h){n(f,h);function f(){for(var m,y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return m=h.call.apply(h,[this].concat(b))||this,r(t(m),"leaf",void 0),m}var g=f.prototype;return g._setSelection=function(){var y=this.props.selection;if(!(y==null||!y.getHasFocus())){var b=this.props,v=b.block,S=b.start,E=b.text,T=v.getKey(),R=S+E.length;if(y.hasEdgeWithin(T,S,R)){var M=this.leaf;M||s(!1);var I=M.firstChild;I||s(!1);var N;I.nodeType===Node.TEXT_NODE?N=I:a(I)?N=M:(N=I.firstChild,N||s(!1)),c(y,N,T,S,R)}}},g.shouldComponentUpdate=function(y){var b=this.leaf;b||s(!1);var v=b.textContent!==y.text||y.styleSet!==this.props.styleSet||y.forceSelection;return v},g.componentDidUpdate=function(){this._setSelection()},g.componentDidMount=function(){this._setSelection()},g.render=function(){var y=this,b=this.props.block,v=this.props.text;v.endsWith(`
`)&&this.props.isLast&&(v+=`
`);var S=this.props,E=S.customStyleMap,T=S.customStyleFn,R=S.offsetKey,M=S.styleSet,I=M.reduce(function(D,L){var A={},$=E[L];return $!==void 0&&D.textDecoration!==$.textDecoration&&(A.textDecoration=[D.textDecoration,$.textDecoration].join(" ").trim()),e(D,$,A)},{});if(T){var N=T(M,b);I=e(I,N)}return o.createElement("span",{"data-offset-key":R,ref:function(L){return y.leaf=L},style:I},o.createElement(i,null,v))},f})(o.Component);return jE=u,jE}var VE,BF;function Dfe(){if(BF)return VE;BF=1;function e(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var t=Ofe(),n=NF(),r=xc(),i=_r(),o=Xo(),s=Vd();i.List;var a=(function(c){e(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.contentState,b=g.customStyleFn,v=g.customStyleMap,S=g.decorator,E=g.direction,T=g.forceSelection,R=g.hasSelection,M=g.selection,I=g.tree,N=m.getKey(),D=m.getText(),L=I.size-1,A=this.props.children||I.map(function($,F){var H=$.get("decoratorKey"),q=$.get("leaves"),K=q.size-1,z=q.map(function(Z,ee){var ie=r.encode(N,F,ee),U=Z.get("start"),Y=Z.get("end");return o.createElement(n,{key:ie,offsetKey:ie,block:m,start:U,selection:R?M:null,forceSelection:T,text:D.slice(U,Y),styleSet:m.getInlineStyleAt(U),customStyleMap:v,customStyleFn:b,isLast:H===L&&ee===K})}).toArray();return!H||!S?z:o.createElement(t,{block:m,children:z,contentState:y,decorator:S,decoratorKey:H,direction:E,leafSet:$,text:D,key:F})}).toArray();return o.createElement("div",{"data-offset-key":r.encode(N,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":E==="LTR","public/DraftStyleDefault/rtl":E==="RTL"})},A)},u})(o.Component);return VE=a,VE}var $E,FF;function zE(){if(FF)return $E;FF=1;function e(n,r){return!!r&&(n===r.documentElement||n===r.body)}var t={getTop:function(r){var i=r.ownerDocument;return e(r,i)?i.body.scrollTop||i.documentElement.scrollTop:r.scrollTop},setTop:function(r,i){var o=r.ownerDocument;e(r,o)?o.body.scrollTop=o.documentElement.scrollTop=i:r.scrollTop=i},getLeft:function(r){var i=r.ownerDocument;return e(r,i)?i.body.scrollLeft||i.documentElement.scrollLeft:r.scrollLeft},setLeft:function(r,i){var o=r.ownerDocument;e(r,o)?o.body.scrollLeft=o.documentElement.scrollLeft=i:r.scrollLeft=i}};return $E=t,$E}var UE,jF;function Afe(){if(jF)return UE;jF=1;var e=/-(.)/g;function t(n){return n.replace(e,function(r,i){return i.toUpperCase()})}return UE=t,UE}var HE,VF;function Lfe(){if(VF)return HE;VF=1;var e=/([A-Z])/g;function t(n){return n.replace(e,"-$1").toLowerCase()}return HE=t,HE}var GE,$F;function Nfe(){if($F)return GE;$F=1;var e=Afe(),t=Lfe();function n(i){return i==null?i:String(i)}function r(i,o){var s;if(window.getComputedStyle&&(s=window.getComputedStyle(i,null),s))return n(s.getPropertyValue(t(o)));if(document.defaultView&&document.defaultView.getComputedStyle){if(s=document.defaultView.getComputedStyle(i,null),s)return n(s.getPropertyValue(t(o)));if(o==="display")return"none"}return i.currentStyle?n(o==="float"?i.currentStyle.cssFloat||i.currentStyle.styleFloat:i.currentStyle[e(o)]):n(i.style&&i.style[e(o)])}return GE=r,GE}var WE,zF;function ob(){if(zF)return WE;zF=1;var e=Nfe();function t(r,i){var o=n.get(r,i);return o==="auto"||o==="scroll"}var n={get:e,getScrollParent:function(i){if(!i)return null;for(var o=i.ownerDocument;i&&i!==o.body;){if(t(i,"overflow")||t(i,"overflowY")||t(i,"overflowX"))return i;i=i.parentNode}return o.defaultView||o.parentWindow}};return WE=n,WE}var KE,UF;function Bfe(){if(UF)return KE;UF=1;var e=NE();function t(n){var r=n.ownerDocument.documentElement;if(!("getBoundingClientRect"in n)||!e(r,n))return{left:0,right:0,top:0,bottom:0};var i=n.getBoundingClientRect();return{left:Math.round(i.left)-r.clientLeft,right:Math.round(i.right)-r.clientLeft,top:Math.round(i.top)-r.clientTop,bottom:Math.round(i.bottom)-r.clientTop}}return KE=t,KE}var qE,HF;function GF(){if(HF)return qE;HF=1;var e=Bfe();function t(n){var r=e(n);return{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top}}return qE=t,qE}var YE,WF;function Ffe(){if(WF)return YE;WF=1;var e=typeof navigator<"u"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function t(n){return n=n||document,n.scrollingElement?n.scrollingElement:!e&&n.compatMode==="CSS1Compat"?n.documentElement:n.body}return YE=t,YE}var XE,KF;function jfe(){if(KF)return XE;KF=1;function e(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}return XE=e,XE}var ZE,qF;function sb(){if(qF)return ZE;qF=1;var e=Ffe(),t=jfe();function n(r){var i=e(r.ownerDocument||r.document);r.Window&&r instanceof r.Window&&(r=i);var o=t(r),s=r===i?r.ownerDocument.documentElement:r,a=r.scrollWidth-s.clientWidth,c=r.scrollHeight-s.clientHeight;return o.x=Math.max(0,Math.min(o.x,a)),o.y=Math.max(0,Math.min(o.y,c)),o}return ZE=n,ZE}var QE,YF;function XF(){if(YF)return QE;YF=1;function e(){var r;return document.documentElement&&(r=document.documentElement.clientWidth),!r&&document.body&&(r=document.body.clientWidth),r||0}function t(){var r;return document.documentElement&&(r=document.documentElement.clientHeight),!r&&document.body&&(r=document.body.clientHeight),r||0}function n(){return{width:window.innerWidth||e(),height:window.innerHeight||t()}}return n.withoutScrollbars=function(){return{width:e(),height:t()}},QE=n,QE}var JE,ZF;function Vfe(){if(ZF)return JE;ZF=1;var e=$d();function t(){return t=e||function(L){for(var A=1;A<arguments.length;A++){var $=arguments[A];for(var F in $)Object.prototype.hasOwnProperty.call($,F)&&(L[F]=$[F])}return L},t.apply(this,arguments)}function n(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function r(L,A){L.prototype=Object.create(A.prototype),L.prototype.constructor=L,L.__proto__=A}function i(L){for(var A=1;A<arguments.length;A++){var $=arguments[A]!=null?arguments[A]:{},F=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols($).filter(function(H){return Object.getOwnPropertyDescriptor($,H).enumerable}))),F.forEach(function(H){o(L,H,$[H])})}return L}function o(L,A,$){return A in L?Object.defineProperty(L,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[A]=$,L}var s=Dfe(),a=xc(),c=Xo(),u=zE(),h=ob(),f=GF(),g=sb(),m=XF(),y=_r(),b=Or(),v=wg(),S=10;y.List;var E=function(A,$){return A.getAnchorKey()===$||A.getFocusKey()===$},T=function(A,$){var F=A.getNextSiblingKey();return F?$.getBlockForKey(F).getType()===A.getType():!1},R=function(A,$,F){var H=[],q=!0,K=!1,z=void 0;try{for(var Z=F.reverse()[Symbol.iterator](),ee;!(q=(ee=Z.next()).done);q=!0){var ie=ee.value;if(ie.type!==$)break;H.push(ie)}}catch(J){K=!0,z=J}finally{try{!q&&Z.return!=null&&Z.return()}finally{if(K)throw z}}F.splice(F.indexOf(H[0]),H.length+1);var U=H.reverse(),Y=U[0].key;return F.push(c.cloneElement(A,{key:"".concat(Y,"-wrap"),"data-offset-key":a.encode(Y,0,0)},U)),F},M=function(A,$){var F=$.get(A.getType())||$.get("unstyled"),H=F.wrapper,q=F.element||$.get("unstyled").element;return{Element:q,wrapperTemplate:H}},I=function(A,$){var F=$(A);if(!F)return{};var H=F.component,q=F.props,K=F.editable;return{CustomComponent:H,customProps:q,customEditable:K}},N=function(A,$,F,H,q,K){var z={"data-block":!0,"data-editor":$,"data-offset-key":F,key:A.getKey(),ref:K},Z=H(A);return Z&&(z.className=Z),q.customEditable!==void 0&&(z=i({},z,{contentEditable:q.customEditable,suppressContentEditableWarning:!0})),z},D=(function(L){r(A,L);function A(){for(var F,H=arguments.length,q=new Array(H),K=0;K<H;K++)q[K]=arguments[K];return F=L.call.apply(L,[this].concat(q))||this,o(n(F),"wrapperRef",c.createRef()),F}var $=A.prototype;return $.shouldComponentUpdate=function(H){var q=this.props,K=q.block,z=q.direction,Z=q.tree,ee=!K.getChildKeys().isEmpty(),ie=K!==H.block||Z!==H.tree||z!==H.direction||E(H.selection,H.block.getKey())&&H.forceSelection;return ee||ie},$.componentDidMount=function(){var H=this.props.selection,q=H.getEndKey();if(!(!H.getHasFocus()||q!==this.props.block.getKey())){var K=this.wrapperRef.current;if(K){var z=h.getScrollParent(K),Z=g(z),ee;if(z===window){var ie=f(K),U=ie.y+ie.height,Y=m().height;ee=U-Y,ee>0&&window.scrollTo(Z.x,Z.y+ee+S)}else{v(K)||b(!1);var J=K,he=J.offsetHeight+J.offsetTop,ge=z.offsetHeight+Z.y;ee=he-ge,ee>0&&u.setTop(z,u.getTop(z)+ee+S)}}}},$.render=function(){var H=this,q=this.props,K=q.block,z=q.blockRenderMap,Z=q.blockRendererFn,ee=q.blockStyleFn,ie=q.contentState,U=q.decorator,Y=q.editorKey,J=q.editorState,he=q.customStyleFn,ge=q.customStyleMap,pe=q.direction,le=q.forceSelection,Ce=q.selection,ke=q.tree,Te=null;K.children.size&&(Te=K.children.reduce(function(We,Bt){var Ct=a.encode(Bt,0,0),Ot=ie.getBlockForKey(Bt),Ke=I(Ot,Z),Ft=Ke.CustomComponent||A,Mt=M(Ot,z),zt=Mt.Element,Lt=Mt.wrapperTemplate,Xt=N(Ot,Y,Ct,ee,Ke,null),sn=i({},H.props,{tree:J.getBlockTree(Bt),blockProps:Ke.customProps,offsetKey:Ct,block:Ot});return We.push(c.createElement(zt,Xt,c.createElement(Ft,sn))),!Lt||T(Ot,ie)||R(Lt,zt,We),We},[]));var me=K.getKey(),ye=a.encode(me,0,0),xe=I(K,Z),Re=xe.CustomComponent,Le=Re!=null?c.createElement(Re,t({},this.props,{tree:J.getBlockTree(me),blockProps:xe.customProps,offsetKey:ye,block:K})):c.createElement(s,{block:K,children:Te,contentState:ie,customStyleFn:he,customStyleMap:ge,decorator:U,direction:pe,forceSelection:le,hasSelection:E(Ce,me),selection:Ce,tree:ke});if(K.getParentKey())return Le;var Ie=M(K,z),je=Ie.Element,lt=N(K,Y,ye,ee,xe,this.wrapperRef);return c.createElement(je,lt,Le)},A})(c.Component);return JE=D,JE}var e1,QF;function $fe(){if(QF)return e1;QF=1;var e=$d();function t(){return t=e||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},t.apply(this,arguments)}function n(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var r=Vfe(),i=xc(),o=Xo(),s=ps(),a=(function(c){n(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.shouldComponentUpdate=function(g){var m=this.props.editorState,y=g.editorState,b=m.getDirectionMap(),v=y.getDirectionMap();if(b!==v)return!0;var S=m.getSelection().getHasFocus(),E=y.getSelection().getHasFocus();if(S!==E)return!0;var T=y.getNativelyRenderedContent(),R=m.isInCompositionMode(),M=y.isInCompositionMode();if(m===y||T!==null&&y.getCurrentContent()===T||R&&M)return!1;var I=m.getCurrentContent(),N=y.getCurrentContent(),D=m.getDecorator(),L=y.getDecorator();return R!==M||I!==N||D!==L||y.mustForceSelection()},h.render=function(){for(var g=this.props,m=g.blockRenderMap,y=g.blockRendererFn,b=g.blockStyleFn,v=g.customStyleMap,S=g.customStyleFn,E=g.editorState,T=g.editorKey,R=g.textDirectionality,M=E.getCurrentContent(),I=E.getSelection(),N=E.mustForceSelection(),D=E.getDecorator(),L=s(E.getDirectionMap()),A=M.getBlocksAsArray(),$=A[0],F=[],H=$;H;){var q=H.getKey(),K={blockRenderMap:m,blockRendererFn:y,blockStyleFn:b,contentState:M,customStyleFn:S,customStyleMap:v,decorator:D,editorKey:T,editorState:E,forceSelection:N,selection:I,block:H,direction:R||L.get(q),tree:E.getBlockTree(q)},z=m.get(H.getType())||m.get("unstyled"),Z=z.wrapper;F.push({block:o.createElement(r,t({key:q},K)),wrapperTemplate:Z,key:q,offsetKey:i.encode(q,0,0)});var ee=H.getNextSiblingKey();H=ee?M.getBlockForKey(ee):null}for(var ie=[],U=0;U<F.length;){var Y=F[U];if(Y.wrapperTemplate){var J=[];do J.push(F[U].block),U++;while(U<F.length&&F[U].wrapperTemplate===Y.wrapperTemplate);var he=o.cloneElement(Y.wrapperTemplate,{key:Y.key+"-wrap","data-offset-key":Y.offsetKey},J);ie.push(he)}else ie.push(Y.block),U++}return o.createElement("div",{"data-contents":"true"},ie)},u})(o.Component);return e1=a,e1}var t1,JF;function ej(){if(JF)return t1;JF=1;var e=$d();function t(){return t=e||function(I){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(I[L]=D[L])}return I},t.apply(this,arguments)}function n(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function r(I,N){I.prototype=Object.create(N.prototype),I.prototype.constructor=I,I.__proto__=N}function i(I,N,D){return N in I?Object.defineProperty(I,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):I[N]=D,I}var o=NF(),s=xc(),a=Xo(),c=zE(),u=ob(),h=G_(),f=tb(),g=Vd(),m=GF(),y=sb(),b=XF(),v=Or(),S=wg(),E=ps(),T=10,R=function(N,D){return N.getAnchorKey()===D||N.getFocusKey()===D},M=(function(I){r(N,I);function N(){for(var L,A=arguments.length,$=new Array(A),F=0;F<A;F++)$[F]=arguments[F];return L=I.call.apply(I,[this].concat($))||this,i(n(L),"_node",void 0),L}var D=N.prototype;return D.shouldComponentUpdate=function(A){return this.props.block!==A.block||this.props.tree!==A.tree||this.props.direction!==A.direction||R(A.selection,A.block.getKey())&&A.forceSelection},D.componentDidMount=function(){if(!this.props.preventScroll){var A=this.props.selection,$=A.getEndKey();if(!(!A.getHasFocus()||$!==this.props.block.getKey())){var F=this._node;if(F!=null){var H=u.getScrollParent(F),q=y(H),K;if(H===window){var z=m(F),Z=z.y+z.height,ee=b().height;K=Z-ee,K>0&&window.scrollTo(q.x,q.y+K+T)}else{S(F)||v(!1);var ie=F.offsetHeight+F.offsetTop,U=H.offsetTop+H.offsetHeight,Y=U+q.y;K=ie-Y,K>0&&c.setTop(H,c.getTop(H)+K+T)}}}}},D._renderChildren=function(){var A=this,$=this.props.block,F=$.getKey(),H=$.getText(),q=this.props.tree.size-1,K=R(this.props.selection,F);return this.props.tree.map(function(z,Z){var ee=z.get("leaves");if(ee.size===0)return null;var ie=ee.size-1,U=ee.map(function(xe,Re){var Le=s.encode(F,Z,Re),Ie=xe.get("start"),je=xe.get("end");return a.createElement(o,{key:Le,offsetKey:Le,block:$,start:Ie,selection:K?A.props.selection:null,forceSelection:A.props.forceSelection,text:H.slice(Ie,je),styleSet:$.getInlineStyleAt(Ie),customStyleMap:A.props.customStyleMap,customStyleFn:A.props.customStyleFn,isLast:Z===q&&Re===ie})}).toArray(),Y=z.get("decoratorKey");if(Y==null||!A.props.decorator)return U;var J=E(A.props.decorator),he=J.getComponentForKey(Y);if(!he)return U;var ge=J.getPropsForKey(Y),pe=s.encode(F,Z,0),le=ee.first().get("start"),Ce=ee.last().get("end"),ke=H.slice(le,Ce),Te=$.getEntityAt(z.get("start")),me=f.getHTMLDirIfDifferent(h.getDirection(ke),A.props.direction),ye={contentState:A.props.contentState,decoratedText:ke,dir:me,start:le,end:Ce,blockKey:F,entityKey:Te,offsetKey:pe};return a.createElement(he,t({},ge,ye,{key:pe}),U)}).toArray()},D.render=function(){var A=this,$=this.props,F=$.direction,H=$.offsetKey,q=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":F==="LTR","public/DraftStyleDefault/rtl":F==="RTL"});return a.createElement("div",{"data-offset-key":H,className:q,ref:function(z){return A._node=z}},this._renderChildren())},N})(a.Component);return t1=M,t1}var n1,tj;function zfe(){if(tj)return n1;tj=1;function e(t){var n=t||"",r=arguments.length;if(r>1)for(var i=1;i<r;i++){var o=arguments[i];o&&(n=(n?n+" ":"")+o)}return n}return n1=e,n1}var r1,nj;function Ufe(){if(nj)return r1;nj=1;var e=$d();function t(){return t=e||function(m){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(m[v]=b[v])}return m},t.apply(this,arguments)}function n(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){r(m,S,b[S])})}return m}function r(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}function i(m,y){m.prototype=Object.create(y.prototype),m.prototype.constructor=m,m.__proto__=y}var o=ej(),s=xc(),a=Xo(),c=Vd(),u=zfe(),h=ps(),f=function(y,b,v,S){return c({"public/DraftStyleDefault/unorderedListItem":y==="unordered-list-item","public/DraftStyleDefault/orderedListItem":y==="ordered-list-item","public/DraftStyleDefault/reset":v,"public/DraftStyleDefault/depth0":b===0,"public/DraftStyleDefault/depth1":b===1,"public/DraftStyleDefault/depth2":b===2,"public/DraftStyleDefault/depth3":b===3,"public/DraftStyleDefault/depth4":b>=4,"public/DraftStyleDefault/listLTR":S==="LTR","public/DraftStyleDefault/listRTL":S==="RTL"})},g=(function(m){i(y,m);function y(){return m.apply(this,arguments)||this}var b=y.prototype;return b.shouldComponentUpdate=function(S){var E=this.props.editorState,T=S.editorState,R=E.getDirectionMap(),M=T.getDirectionMap();if(R!==M)return!0;var I=E.getSelection().getHasFocus(),N=T.getSelection().getHasFocus();if(I!==N)return!0;var D=T.getNativelyRenderedContent(),L=E.isInCompositionMode(),A=T.isInCompositionMode();if(E===T||D!==null&&T.getCurrentContent()===D||L&&A)return!1;var $=E.getCurrentContent(),F=T.getCurrentContent(),H=E.getDecorator(),q=T.getDecorator();return L!==A||$!==F||H!==q||T.mustForceSelection()},b.render=function(){for(var S=this.props,E=S.blockRenderMap,T=S.blockRendererFn,R=S.blockStyleFn,M=S.customStyleMap,I=S.customStyleFn,N=S.editorState,D=S.editorKey,L=S.preventScroll,A=S.textDirectionality,$=N.getCurrentContent(),F=N.getSelection(),H=N.mustForceSelection(),q=N.getDecorator(),K=h(N.getDirectionMap()),z=$.getBlocksAsArray(),Z=[],ee=null,ie=null,U=0;U<z.length;U++){var Y=z[U],J=Y.getKey(),he=Y.getType(),ge=T(Y),pe=void 0,le=void 0,Ce=void 0;ge&&(pe=ge.component,le=ge.props,Ce=ge.editable);var ke=A||K.get(J),Te=s.encode(J,0,0),me={contentState:$,block:Y,blockProps:le,blockStyleFn:R,customStyleMap:M,customStyleFn:I,decorator:q,direction:ke,forceSelection:H,offsetKey:Te,preventScroll:L,selection:F,tree:N.getBlockTree(J)},ye=E.get(he)||E.get("unstyled"),xe=ye.wrapper,Re=ye.element||E.get("unstyled").element,Le=Y.getDepth(),Ie="";if(R&&(Ie=R(Y)),Re==="li"){var je=ie!==xe||ee===null||Le>ee;Ie=u(Ie,f(he,Le,je,ke))}var lt=pe||o,We={className:Ie,"data-block":!0,"data-editor":D,"data-offset-key":Te,key:J};Ce!==void 0&&(We=n({},We,{contentEditable:Ce,suppressContentEditableWarning:!0}));var Bt=a.createElement(Re,We,a.createElement(lt,t({},me,{key:J})));Z.push({block:Bt,wrapperTemplate:xe,key:J,offsetKey:Te}),xe?ee=Y.getDepth():ee=null,ie=xe}for(var Ct=[],Ot=0;Ot<Z.length;){var Ke=Z[Ot];if(Ke.wrapperTemplate){var Ft=[];do Ft.push(Z[Ot].block),Ot++;while(Ot<Z.length&&Z[Ot].wrapperTemplate===Ke.wrapperTemplate);var Mt=a.cloneElement(Ke.wrapperTemplate,{key:Ke.key+"-wrap","data-offset-key":Ke.offsetKey},Ft);Ct.push(Mt)}else Ct.push(Ke.block),Ot++}return a.createElement("div",{"data-contents":"true"},Ct)},y})(a.Component);return r1=g,r1}var i1,rj;function Hfe(){if(rj)return i1;rj=1;var e=fu(),t=e("draft_tree_data_support");return i1=t?$fe():Ufe(),i1}var o1,ij;function Gfe(){if(ij)return o1;ij=1;var e={isImage:function(r){return t(r)[0]==="image"},isJpeg:function(r){var i=t(r);return e.isImage(r)&&(i[1]==="jpeg"||i[1]==="pjpeg")}};function t(n){return n.split("/")}return o1=e,o1}var s1,oj;function Wfe(){if(oj)return s1;oj=1;var e=Or();function t(i){var o=i.length;if(!Array.isArray(i)&&(typeof i=="object"||typeof i=="function")||e(!1),typeof o!="number"&&e(!1),o===0||o-1 in i||e(!1),typeof i.callee=="function"&&e(!1),i.hasOwnProperty)try{return Array.prototype.slice.call(i)}catch{}for(var s=Array(o),a=0;a<o;a++)s[a]=i[a];return s}function n(i){return!!i&&(typeof i=="object"||typeof i=="function")&&"length"in i&&!("setInterval"in i)&&typeof i.nodeType!="number"&&(Array.isArray(i)||"callee"in i||"item"in i)}function r(i){return n(i)?Array.isArray(i)?i.slice():t(i):[i]}return s1=r,s1}var a1,sj;function aj(){if(sj)return a1;sj=1;function e(n){return function(){return n}}var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(n){return n},a1=t,a1}var l1,lj;function cj(){if(lj)return l1;lj=1;var e=Gfe(),t=Wfe(),n=aj(),r=new RegExp(`\r
`,"g"),i=`
`,o={"text/rtf":1,"text/html":1};function s(c){if(c.kind=="file")return c.getAsFile()}var a=(function(){function c(h){this.data=h,this.types=h.types?t(h.types):[]}var u=c.prototype;return u.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(f){return o[f]})},u.getText=function(){var f;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(f=this.data.getData("text/plain")):f=this.data.getData("Text")),f?f.replace(r,i):null},u.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},u.isLink=function(){return this.types.some(function(f){return f.indexOf("Url")!=-1||f.indexOf("text/uri-list")!=-1||f.indexOf("text/x-moz-url")})},u.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var f=this.data.getData("text/x-moz-url").split(`
`);return f[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},u.isImage=function(){var f=this.types.some(function(b){return b.indexOf("application/x-moz-file")!=-1});if(f)return!0;for(var g=this.getFiles(),m=0;m<g.length;m++){var y=g[m].type;if(!e.isImage(y))return!1}return!0},u.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},u.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(s).filter(n.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},u.hasFiles=function(){return this.getFiles().length>0},c})();return l1=a,l1}var c1,uj;function dj(){if(uj)return c1;uj=1;var e=Or(),t=/\.textClipping$/,n={"text/plain":!0,"text/html":!0,"text/rtf":!0},r=5e3;function i(s,a){var c=0,u=[];s.forEach(function(h){o(h,function(f){c++,f&&u.push(f.slice(0,r)),c==s.length&&a(u.join("\r"))})})}function o(s,a){if(!globalThis.FileReader||s.type&&!(s.type in n)){a("");return}if(s.type===""){var c="";t.test(s.name)&&(c=s.name.replace(t,"")),a(c);return}var u=new FileReader;u.onload=function(){var h=u.result;typeof h!="string"&&e(!1),a(h)},u.onerror=function(){a("")},u.readAsText(s)}return c1=i,c1}var u1,hj;function ab(){if(hj)return u1;hj=1;function e(t){return t==="handled"||t===!0}return u1=e,u1}var d1,fj;function Kfe(){if(fj)return d1;fj=1;var e=cj(),t=fs(),n=si(),r=rb(),i=nb(),o=dj(),s=hF(),a=nF(),c=ab(),u=ps();function h(b,v){var S=null,E=null,T=i(b.currentTarget);if(typeof T.caretRangeFromPoint=="function"){var R=T.caretRangeFromPoint(b.x,b.y);S=R.startContainer,E=R.startOffset}else if(b.rangeParent)S=b.rangeParent,E=b.rangeOffset;else return null;S=u(S),E=u(E);var M=u(r(S));return s(v,M,E,M,E)}var f={onDragEnd:function(v){v.exitCurrentMode(),g(v)},onDrop:function(v,S){var E=new e(S.nativeEvent.dataTransfer),T=v._latestEditorState,R=h(S.nativeEvent,T);if(S.preventDefault(),v._dragCount=0,v.exitCurrentMode(),R!=null){var M=E.getFiles();if(M.length>0){if(v.props.handleDroppedFiles&&c(v.props.handleDroppedFiles(R,M)))return;o(M,function(N){N&&v.update(y(T,R,N))});return}var I=v._internalDrag?"internal":"external";v.props.handleDrop&&c(v.props.handleDrop(R,E,I))||(v._internalDrag?v.update(m(T,R)):v.update(y(T,R,E.getText()))),g(v)}}};function g(b){b._internalDrag=!1;var v=b.editorContainer;if(v){var S=new MouseEvent("mouseup",{view:a(v),bubbles:!0,cancelable:!0});v.dispatchEvent(S)}}function m(b,v){var S=t.moveText(b.getCurrentContent(),b.getSelection(),v);return n.push(b,S,"insert-fragment")}function y(b,v,S){var E=t.insertText(b.getCurrentContent(),v,S,b.getCurrentInlineStyle());return n.push(b,E,"insert-fragment")}return d1=f,d1}var h1,pj;function qfe(){if(pj)return h1;pj=1;function e(t){var n=t.getSelection(),r=n.getAnchorKey(),i=t.getBlockTree(r),o=n.getStartOffset(),s=!1;return i.some(function(a){return o===a.get("start")?(s=!0,!0):o<a.get("end")?a.get("leaves").some(function(c){var u=c.get("start");return o===u?(s=!0,!0):!1}):!1}),s}return h1=e,h1}var f1={},gj;function Yfe(){return gj||(gj=1,(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,o=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),R=0;R<T.length;R++)T[R]=arguments[R+1];var M={callback:E,args:T};return r[n]=M,s(n),n++}function c(E){delete r[E]}function u(E){var T=E.callback,R=E.args;switch(R.length){case 0:T();break;case 1:T(R[0]);break;case 2:T(R[0],R[1]);break;case 3:T(R[0],R[1],R[2]);break;default:T.apply(t,R);break}}function h(E){if(i)setTimeout(h,0,E);else{var T=r[E];if(T){i=!0;try{u(T)}finally{c(E),i=!1}}}}function f(){s=function(E){process.nextTick(function(){h(E)})}}function g(){if(e.postMessage&&!e.importScripts){var E=!0,T=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=T,E}}function m(){var E="setImmediate$"+Math.random()+"$",T=function(R){R.source===e&&typeof R.data=="string"&&R.data.indexOf(E)===0&&h(+R.data.slice(E.length))};e.addEventListener?e.addEventListener("message",T,!1):e.attachEvent("onmessage",T),s=function(R){e.postMessage(E+R,"*")}}function y(){var E=new MessageChannel;E.port1.onmessage=function(T){var R=T.data;h(R)},s=function(T){E.port2.postMessage(T)}}function b(){var E=o.documentElement;s=function(T){var R=o.createElement("script");R.onreadystatechange=function(){h(T),R.onreadystatechange=null,E.removeChild(R),R=null},E.appendChild(R)}}function v(){s=function(E){setTimeout(h,0,E)}}var S=Object.getPrototypeOf&&Object.getPrototypeOf(e);S=S&&S.setTimeout?S:e,{}.toString.call(e.process)==="[object process]"?f():g()?m():e.MessageChannel?y():o&&"onreadystatechange"in o.createElement("script")?b():v(),S.setImmediate=a,S.clearImmediate=c})(typeof self>"u"?typeof globalThis>"u"?f1:globalThis:self)),f1}var p1,mj;function Xfe(){return mj||(mj=1,Yfe(),p1=globalThis.setImmediate),p1}var g1,vj;function Zfe(){if(vj)return g1;vj=1;var e=fs(),t=si(),n=gs(),r=ME(),i=ab(),o=qfe(),s=ps(),a=Xfe(),c="'",u="/",h=n.isBrowser("Firefox");function f(y){return h&&(y==c||y==u)}function g(y,b,v,S,E){var T=e.replaceText(y.getCurrentContent(),y.getSelection(),b,v,S);return t.push(y,T,"insert-characters",E)}function m(y,b){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0);var v=y._latestEditorState,S=b.data;if(S){if(y.props.handleBeforeInput&&i(y.props.handleBeforeInput(S,v,b.timeStamp))){b.preventDefault();return}var E=v.getSelection(),T=E.getStartOffset(),R=E.getAnchorKey();if(!E.isCollapsed()){b.preventDefault(),y.update(g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!0));return}var M=g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!1),I=!1;if(I||(I=o(y._latestCommittedEditorState)),!I){var N=v.getBlockTree(R),D=M.getBlockTree(R);I=N.size!==D.size||N.zip(D).some(function(L){var A=L[0],$=L[1],F=A.get("start"),H=F+(F>=T?S.length:0),q=A.get("end"),K=q+(q>=T?S.length:0),z=$.get("start"),Z=$.get("end"),ee=$.get("decoratorKey");return A.get("decoratorKey")!==ee||A.get("leaves").size!==$.get("leaves").size||H!==z||K!==Z||ee!=null&&Z-z!==q-F})}if(I||(I=f(S)),I||(I=s(M.getDirectionMap()).get(R)!==s(v.getDirectionMap()).get(R)),I){b.preventDefault(),M=t.set(M,{forceSelection:!0}),y.update(M);return}M=t.set(M,{nativelyRenderedContent:M.getCurrentContent()}),y._pendingStateFromBeforeInput=M,a(function(){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0)})}}return g1=m,g1}var m1,yj;function Qfe(){if(yj)return m1;yj=1;var e=si(),t=NE(),n=DF();function r(i,o){var s=o.currentTarget.ownerDocument;if(!i.props.preserveSelectionOnBlur&&n(s)===s.body){var a=s.defaultView.getSelection(),c=i.editor;a.rangeCount===1&&t(c,a.anchorNode)&&t(c,a.focusNode)&&a.removeAllRanges()}var u=i._latestEditorState,h=u.getSelection();if(h.getHasFocus()){var f=h.set("hasFocus",!1);i.props.onBlur&&i.props.onBlur(o),i.update(e.acceptSelection(u,f))}}return m1=r,m1}var v1,bj;function Jfe(){if(bj)return v1;bj=1;var e=si();function t(n,r){n.setMode("composite"),n.update(e.set(n._latestEditorState,{inCompositionMode:!0})),n._onCompositionStart(r)}return v1=t,v1}var y1,wj;function Sj(){if(wj)return y1;wj=1;var e=Qy();function t(n){var r=n.getSelection();return r.isCollapsed()?null:e(n.getCurrentContent(),r)}return y1=t,y1}var b1,Cj;function epe(){if(Cj)return b1;Cj=1;var e=Sj();function t(n,r){var i=n._latestEditorState,o=i.getSelection();if(o.isCollapsed()){r.preventDefault();return}n.setClipboard(e(n._latestEditorState))}return b1=t,b1}var w1,xj;function tpe(){if(xj)return w1;xj=1;function e(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var n=t;if(!n.ownerDocument.defaultView)return n instanceof Node;if(n instanceof n.ownerDocument.defaultView.Node)return!0}return!1}return w1=e,w1}var S1,_j;function npe(){if(_j)return S1;_j=1;var e=fs(),t=si(),n=ob(),r=Sj(),i=sb(),o=tpe();function s(c,u){var h=c._latestEditorState,f=h.getSelection(),g=u.target,m;if(f.isCollapsed()){u.preventDefault();return}if(o(g)){var y=g;m=i(n.getScrollParent(y))}var b=r(h);c.setClipboard(b),c.setMode("cut"),setTimeout(function(){c.restoreEditorDOM(m),c.exitCurrentMode(),c.update(a(h))},0)}function a(c){var u=e.removeRange(c.getCurrentContent(),c.getSelection(),"forward");return t.push(c,u,"remove-range")}return S1=s,S1}var C1,Ej;function rpe(){if(Ej)return C1;Ej=1;function e(t,n){t.setMode("drag"),n.preventDefault()}return C1=e,C1}var x1,Tj;function ipe(){if(Tj)return x1;Tj=1;function e(t){t._internalDrag=!0,t.setMode("drag")}return x1=e,x1}var _1,Mj;function ope(){if(Mj)return _1;Mj=1;var e=si(),t=gs();function n(r,i){var o=r._latestEditorState,s=o.getSelection();if(!s.getHasFocus()){var a=s.set("hasFocus",!0);r.props.onFocus&&r.props.onFocus(i),t.isBrowser("Chrome < 60.0.3081.0")?r.update(e.forceSelection(o,a)):r.update(e.acceptSelection(o,a))}}return _1=n,_1}var E1,Oj;function Ud(){if(Oj)return E1;Oj=1;var e=Or(),t=55296,n=56319,r=56320,i=57343,o=/[\uD800-\uDFFF]/;function s(b){return t<=b&&b<=i}function a(b,v){if(0<=v&&v<b.length||e(!1),v+1===b.length)return!1;var S=b.charCodeAt(v),E=b.charCodeAt(v+1);return t<=S&&S<=n&&r<=E&&E<=i}function c(b){return o.test(b)}function u(b,v){return 1+s(b.charCodeAt(v))}function h(b){if(!c(b))return b.length;for(var v=0,S=0;S<b.length;S+=u(b,S))v++;return v}function f(b,v,S){if(v=v||0,S=S===void 0?1/0:S||0,!c(b))return b.substr(v,S);var E=b.length;if(E<=0||v>E||S<=0)return"";var T=0;if(v>0){for(;v>0&&T<E;v--)T+=u(b,T);if(T>=E)return""}else if(v<0){for(T=E;v<0&&0<T;v++)T-=u(b,T-1);T<0&&(T=0)}var R=E;if(S<E)for(R=T;S>0&&R<E;S--)R+=u(b,R);return b.substring(T,R)}function g(b,v,S){v=v||0,S=S===void 0?1/0:S||0,v<0&&(v=0),S<0&&(S=0);var E=Math.abs(S-v);return v=v<S?v:S,f(b,v,E)}function m(b){for(var v=[],S=0;S<b.length;S+=u(b,S))v.push(b.codePointAt(S));return v}var y={getCodePoints:m,getUTF16Length:u,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:a,strlen:h,substring:g,substr:f};return E1=y,E1}var T1,Rj;function M1(){if(Rj)return T1;Rj=1;var e=aj(),t=e;return T1=t,T1}var O1,Ij;function R1(){if(Ij)return O1;Ij=1,M1();function e(t,n){var r=t.getSelection(),i=t.getCurrentContent(),o=r.getStartKey(),s=r.getStartOffset(),a=o,c=0;if(n>s){var u=i.getKeyBefore(o);if(u==null)a=o;else{a=u;var h=i.getBlockForKey(u);c=h.getText().length}}else c=s-n;return r.merge({focusKey:a,focusOffset:c,isBackward:!0})}return O1=e,O1}var I1,kj;function Sg(){if(kj)return I1;kj=1;var e=fs(),t=fu(),n=t("draft_tree_data_support");function r(i,o,s){var a=i.getSelection(),c=i.getCurrentContent(),u=a,h=a.getAnchorKey(),f=a.getFocusKey(),g=c.getBlockForKey(h);if(n&&s==="forward"&&h!==f)return c;if(a.isCollapsed()){if(s==="forward"){if(i.isSelectionAtEndOfContent())return c;if(n){var m=a.getAnchorOffset()===c.getBlockForKey(h).getLength();if(m){var y=c.getBlockForKey(g.nextSibling);if(!y||y.getLength()===0)return c}}}else if(i.isSelectionAtStartOfContent())return c;if(u=o(i),u===a)return c}return e.removeRange(c,u,s)}return I1=r,I1}var k1,Pj;function Dj(){if(Pj)return k1;Pj=1;var e=si(),t=Ud(),n=R1(),r=Sg();function i(o){var s=r(o,function(c){var u=c.getSelection(),h=c.getCurrentContent(),f=u.getAnchorKey(),g=u.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g-1];return n(c,m?t.getUTF16Length(m,0):1)},"backward");if(s===o.getCurrentContent())return o;var a=o.getSelection();return e.push(o,s.set("selectionBefore",a),a.isCollapsed()?"backspace-character":"remove-range")}return k1=i,k1}var P1,Aj;function spe(){if(Aj)return P1;Aj=1;var e=fs(),t=xc(),n=si(),r=gs(),i=wF(),o=i.notEmptyKey,s=rb(),a=Dj(),c=ps(),u=r.isEngine("Gecko"),h=`

`;function f(m,y){switch(m){case"deleteContentBackward":return a(y)}return y}function g(m,y){m._pendingStateFromBeforeInput!==void 0&&(m.update(m._pendingStateFromBeforeInput),m._pendingStateFromBeforeInput=void 0);var b=m.editor,v=b.ownerDocument.defaultView.getSelection(),S=v.anchorNode,E=v.isCollapsed,T=S?.nodeType!==Node.TEXT_NODE&&S?.nodeType!==Node.ELEMENT_NODE;if(!(S==null||T)){if(S.nodeType===Node.TEXT_NODE&&(S.previousSibling!==null||S.nextSibling!==null)){var R=S.parentNode;if(R==null)return;S.nodeValue=R.textContent;for(var M=R.firstChild;M!=null;M=M.nextSibling)M!==S&&R.removeChild(M)}var I=S.textContent,N=m._latestEditorState,D=c(s(S)),L=t.decode(D),A=L.blockKey,$=L.decoratorKey,F=L.leafKey,H=N.getBlockTree(A).getIn([$,"leaves",F]),q=H.start,K=H.end,z=N.getCurrentContent(),Z=z.getBlockForKey(A),ee=Z.getText().slice(q,K);if(I.endsWith(h)&&(I=I.slice(0,-1)),I===ee){var ie=y.nativeEvent.inputType;if(ie){var U=f(ie,N);if(U!==N){m.restoreEditorDOM(),m.update(U);return}}return}var Y=N.getSelection(),J=Y.merge({anchorOffset:q,focusOffset:K,isBackward:!1}),he=Z.getEntityAt(q),ge=o(he)?z.getEntity(he):null,pe=ge!=null?ge.getMutability():null,le=pe==="MUTABLE",Ce=le?"spellcheck-change":"apply-entity",ke=e.replaceText(z,J,I,Z.getInlineStyleAt(q),le?Z.getEntityAt(q):null),Te,me,ye,xe;if(u)Te=v.anchorOffset,me=v.focusOffset,ye=q+Math.min(Te,me),xe=ye+Math.abs(Te-me),Te=ye,me=xe;else{var Re=I.length-ee.length;ye=Y.getStartOffset(),xe=Y.getEndOffset(),Te=E?xe+Re:ye,me=xe+Re}var Le=ke.merge({selectionBefore:z.getSelectionAfter(),selectionAfter:Y.merge({anchorOffset:Te,focusOffset:me})});m.update(n.push(N,Le,Ce))}}return P1=g,P1}var D1,Lj;function ape(){if(Lj)return D1;Lj=1;var e=ib();function t(n){return n.which===e.RETURN&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))}return D1=t,D1}var A1,Nj;function L1(){if(Nj)return A1;Nj=1;var e=gs(),t=ape(),n=e.isPlatform("Mac OS X"),r={isCtrlKeyCommand:function(o){return!!o.ctrlKey&&!o.altKey},isOptionKeyCommand:function(o){return n&&o.altKey},usesMacOSHeuristics:function(){return n},hasCommandModifier:function(o){return n?!!o.metaKey&&!o.altKey:r.isCtrlKeyCommand(o)},isSoftNewlineEvent:t};return A1=r,A1}var N1,Bj;function lpe(){if(Bj)return N1;Bj=1;var e=fs(),t=si(),n=Qy(),r=ps(),i=null,o={cut:function(a){var c=a.getCurrentContent(),u=a.getSelection(),h=null;if(u.isCollapsed()){var f=u.getAnchorKey(),g=c.getBlockForKey(f).getLength();if(g===u.getAnchorOffset()){var m=c.getKeyAfter(f);if(m==null)return a;h=u.set("focusKey",m).set("focusOffset",0)}else h=u.set("focusOffset",g)}else h=u;h=r(h),i=n(c,h);var y=e.removeRange(c,h,"forward");return y===c?a:t.push(a,y,"remove-range")},paste:function(a){if(!i)return a;var c=e.replaceWithFragment(a.getCurrentContent(),a.getSelection(),i);return t.push(a,c,"insert-fragment")}};return N1=o,N1}var B1,Fj;function jj(){if(Fj)return B1;Fj=1;var e=gs(),t=Or(),n=e.isBrowser("Chrome");function r(o){for(var s=o.cloneRange(),a=[],c=o.endContainer;c!=null;c=c.parentNode){var u=c===o.commonAncestorContainer;u?s.setStart(o.startContainer,o.startOffset):s.setStart(s.endContainer,0);var h=Array.from(s.getClientRects());if(a.push(h),u){var f;return a.reverse(),(f=[]).concat.apply(f,a)}s.setEndBefore(c)}t(!1)}var i=n?r:function(o){return Array.from(o.getClientRects())};return B1=i,B1}var F1,Vj;function cpe(){if(Vj)return F1;Vj=1;var e=Ud(),t=nb(),n=jj(),r=Or();function i(c){var u=getComputedStyle(c),h=t(c),f=h.createElement("div");f.style.fontFamily=u.fontFamily,f.style.fontSize=u.fontSize,f.style.fontStyle=u.fontStyle,f.style.fontWeight=u.fontWeight,f.style.lineHeight=u.lineHeight,f.style.position="absolute",f.textContent="M";var g=h.body;g||r(!1),g.appendChild(f);var m=f.getBoundingClientRect();return g.removeChild(f),m.height}function o(c,u){for(var h=1/0,f=1/0,g=-1/0,m=-1/0,y=0;y<c.length;y++){var b=c[y];b.width===0||b.width===1||(h=Math.min(h,b.top),f=Math.min(f,b.bottom),g=Math.max(g,b.top),m=Math.max(m,b.bottom))}return g<=f&&g-h<u&&m-f<u}function s(c){switch(c.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return c.length;default:return c.childNodes.length}}function a(c){c.collapsed||r(!1),c=c.cloneRange();var u=c.startContainer;u.nodeType!==1&&(u=u.parentNode);var h=i(u),f=c.endContainer,g=c.endOffset;for(c.setStart(c.startContainer,0);o(n(c),h)&&(f=c.startContainer,g=c.startOffset,f.parentNode||r(!1),c.setStartBefore(f),!(f.nodeType===1&&getComputedStyle(f).display!=="inline")););var m=f,y=g-1;do{for(var b=m.nodeValue,v=y;v>=0;v--)if(!(b!=null&&v>0&&e.isSurrogatePair(b,v-1)))if(c.setStart(m,v),o(n(c),h))f=m,g=v;else break;if(v===-1||m.childNodes.length===0)break;m=m.childNodes[v],y=s(m)}while(!0);return c.setStart(f,g),c}return F1=a,F1}var j1,$j;function upe(){if($j)return j1;$j=1;var e=si(),t=cpe(),n=pF(),r=R1(),i=Sg();function o(s,a){var c=i(s,function(u){var h=u.getSelection();if(h.isCollapsed()&&h.getAnchorOffset()===0)return r(u,1);var f=a.currentTarget.ownerDocument,g=f.defaultView.getSelection(),m=g.getRangeAt(0);return m=t(m),n(u,null,m.endContainer,m.endOffset,m.startContainer,m.startOffset).selectionState},"backward");return c===s.getCurrentContent()?s:e.push(s,c,"remove-range")}return j1=o,j1}var V1,zj;function dpe(){if(zj)return V1;zj=1;var e=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]`;return V1={getPunctuation:function(){return e}},V1}var $1,Uj;function Hj(){if(Uj)return $1;Uj=1;var e=dpe(),t=e.getPunctuation(),n="['‘’]",r="\\s|(?![_])"+t,i="^(?:"+r+")*(?:"+n+"|(?!"+r+").)*(?:(?!"+r+").)",o=new RegExp(i),s="(?:(?!"+r+").)(?:"+n+"|(?!"+r+").)*(?:"+r+")*$",a=new RegExp(s);function c(h,f){var g=f?a.exec(h):o.exec(h);return g?g[0]:h}var u={getBackward:function(f){return c(f,!0)},getForward:function(f){return c(f,!1)}};return $1=u,$1}var z1,Gj;function hpe(){if(Gj)return z1;Gj=1;var e=Hj(),t=si(),n=R1(),r=Sg();function i(o){var s=r(o,function(a){var c=a.getSelection(),u=c.getStartOffset();if(u===0)return n(a,1);var h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(0,u),m=e.getBackward(g);return n(a,m.length||1)},"backward");return s===o.getCurrentContent()?o:t.push(o,s,"remove-range")}return z1=i,z1}var U1,Wj;function Kj(){if(Wj)return U1;Wj=1,M1();function e(t,n){var r=t.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),s=t.getCurrentContent(),a=i,c,u=s.getBlockForKey(i);return n>u.getText().length-o?(a=s.getKeyAfter(i),c=0):c=o+n,r.merge({focusKey:a,focusOffset:c})}return U1=e,U1}var H1,qj;function fpe(){if(qj)return H1;qj=1;var e=Hj(),t=si(),n=Kj(),r=Sg();function i(o){var s=r(o,function(a){var c=a.getSelection(),u=c.getStartOffset(),h=c.getStartKey(),f=a.getCurrentContent(),g=f.getBlockForKey(h).getText().slice(u),m=e.getForward(g);return n(a,m.length||1)},"forward");return s===o.getCurrentContent()?o:t.push(o,s,"remove-range")}return H1=i,H1}var G1,Yj;function ppe(){if(Yj)return G1;Yj=1;var e=fs(),t=si();function n(r){var i=e.splitBlock(r.getCurrentContent(),r.getSelection());return t.push(r,i,"split-block")}return G1=n,G1}var W1,Xj;function gpe(){if(Xj)return W1;Xj=1;var e=si();function t(n){var r=n.getSelection(),i=r.getEndKey(),o=n.getCurrentContent(),s=o.getBlockForKey(i).getLength();return e.set(n,{selection:r.merge({anchorKey:i,anchorOffset:s,focusKey:i,focusOffset:s,isBackward:!1}),forceSelection:!0})}return W1=t,W1}var K1,Zj;function mpe(){if(Zj)return K1;Zj=1;var e=si();function t(n){var r=n.getSelection(),i=r.getStartKey();return e.set(n,{selection:r.merge({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:!1}),forceSelection:!0})}return K1=t,K1}var q1,Qj;function vpe(){if(Qj)return q1;Qj=1;var e=si(),t=Ud(),n=Kj(),r=Sg();function i(o){var s=r(o,function(c){var u=c.getSelection(),h=c.getCurrentContent(),f=u.getAnchorKey(),g=u.getAnchorOffset(),m=h.getBlockForKey(f).getText()[g];return n(c,m?t.getUTF16Length(m,0):1)},"forward");if(s===o.getCurrentContent())return o;var a=o.getSelection();return e.push(o,s.set("selectionBefore",a),a.isCollapsed()?"delete-character":"remove-range")}return q1=i,q1}var Y1,Jj;function ype(){if(Jj)return Y1;Jj=1;var e=fs(),t=si(),n=Qy();function r(i){var o=i.getSelection();if(!o.isCollapsed())return i;var s=o.getAnchorOffset();if(s===0)return i;var a=o.getAnchorKey(),c=i.getCurrentContent(),u=c.getBlockForKey(a),h=u.getLength();if(h<=1)return i;var f,g;s===h?(f=o.set("anchorOffset",s-1),g=o):(f=o.set("focusOffset",s+1),g=f.set("anchorOffset",s+1));var m=n(c,f),y=e.removeRange(c,f,"backward"),b=y.getSelectionAfter(),v=b.getAnchorOffset()-1,S=b.merge({anchorOffset:v,focusOffset:v}),E=e.replaceWithFragment(y,S,m),T=t.push(i,E,"insert-fragment");return t.acceptSelection(T,g)}return Y1=r,Y1}var X1,eV;function bpe(){if(eV)return X1;eV=1;var e=si();function t(n,r,i){var o=e.undo(r);if(r.getLastChangeType()==="spellcheck-change"){var s=o.getCurrentContent();i(e.set(o,{nativelyRenderedContent:s}));return}if(n.preventDefault(),!r.getNativelyRenderedContent()){i(o);return}i(e.set(r,{nativelyRenderedContent:null})),setTimeout(function(){i(o)},0)}return X1=t,X1}var Z1,tV;function wpe(){if(tV)return Z1;tV=1;var e=fs(),t=si(),n=L1(),r=ib(),i=lpe(),o=gs(),s=ab(),a=upe(),c=hpe(),u=fpe(),h=ppe(),f=gpe(),g=mpe(),m=Dj(),y=vpe(),b=ype(),v=bpe(),S=n.isOptionKeyCommand,E=o.isBrowser("Chrome");function T(M,I,N){switch(M){case"redo":return t.redo(I);case"delete":return y(I);case"delete-word":return u(I);case"backspace":return m(I);case"backspace-word":return c(I);case"backspace-to-start-of-line":return a(I,N);case"split-block":return h(I);case"transpose-characters":return b(I);case"move-selection-to-start-of-block":return g(I);case"move-selection-to-end-of-block":return f(I);case"secondary-cut":return i.cut(I);case"secondary-paste":return i.paste(I);default:return I}}function R(M,I){var N=I.which,D=M._latestEditorState;function L(H){var q=M.props[H];return q?(q(I),!0):!1}switch(N){case r.RETURN:if(I.preventDefault(),M.props.handleReturn&&s(M.props.handleReturn(I,D)))return;break;case r.ESC:if(I.preventDefault(),L("onEscape"))return;break;case r.TAB:if(L("onTab"))return;break;case r.UP:if(L("onUpArrow"))return;break;case r.RIGHT:if(L("onRightArrow"))return;break;case r.DOWN:if(L("onDownArrow"))return;break;case r.LEFT:if(L("onLeftArrow"))return;break;case r.SPACE:E&&S(I)&&I.preventDefault()}var A=M.props.keyBindingFn(I);if(A==null||A===""){if(N===r.SPACE&&E&&S(I)){var $=e.replaceText(D.getCurrentContent(),D.getSelection()," ");M.update(t.push(D,$,"insert-characters"))}return}if(A==="undo"){v(I,D,M.update);return}if(I.preventDefault(),!(M.props.handleKeyCommand&&s(M.props.handleKeyCommand(A,D,I.timeStamp)))){var F=T(A,D,I);F!==D&&M.update(F)}}return Z1=R,Z1}var Q1,nV;function Spe(){if(nV)return Q1;nV=1;function e(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}var t=(function(){function n(i){e(this,"_uri",void 0),this._uri=i}var r=n.prototype;return r.toString=function(){return this._uri},n})();return Q1=t,Q1}var J1,rV;function iV(){if(rV)return J1;rV=1;var e=gs(),t=Or(),n=e.isBrowser("IE <= 9");function r(i){var o,s=null;return!n&&document.implementation&&document.implementation.createHTMLDocument&&(o=document.implementation.createHTMLDocument("foo"),o.documentElement||t(!1),o.documentElement.innerHTML=i,s=o.getElementsByTagName("body")[0]),s}return J1=r,J1}var eT,oV;function Cpe(){if(oV)return eT;oV=1;var e=zd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="A"}return eT=t,eT}var tT,sV;function xpe(){if(sV)return tT;sV=1;var e=zd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="IMG"}return tT=t,tT}var nT,aV;function lV(){if(aV)return nT;aV=1;var e;function t(Te){for(var me=1;me<arguments.length;me++){var ye=arguments[me]!=null?arguments[me]:{},xe=Object.keys(ye);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(ye).filter(function(Re){return Object.getOwnPropertyDescriptor(ye,Re).enumerable}))),xe.forEach(function(Re){n(Te,Re,ye[Re])})}return Te}function n(Te,me,ye){return me in Te?Object.defineProperty(Te,me,{value:ye,enumerable:!0,configurable:!0,writable:!0}):Te[me]=ye,Te}var r=pa(),i=jd(),o=ga(),s=nE(),a=Jy(),c=Spe(),u=Vd(),h=Al(),f=iV(),g=fu(),m=_r(),y=m.List,b=m.Map,v=m.OrderedSet,S=Cpe(),E=TF(),T=wg(),R=xpe(),M=g("draft_tree_data_support"),I="&nbsp;",N=" ",D=new RegExp("\r","g"),L=new RegExp(`
`,"g"),A=new RegExp(`^
`,"g"),$=new RegExp(I,"g"),F=new RegExp("&#13;?","g"),H=new RegExp("&#8203;?","g"),q=["bold","bolder","500","600","700","800","900"],K=["light","lighter","normal","100","200","300","400"],z=["className","href","rel","target","title"],Z=["alt","className","height","src","width"],ee=(e={},n(e,u("public/DraftStyleDefault/depth0"),0),n(e,u("public/DraftStyleDefault/depth1"),1),n(e,u("public/DraftStyleDefault/depth2"),2),n(e,u("public/DraftStyleDefault/depth3"),3),n(e,u("public/DraftStyleDefault/depth4"),4),e),ie=b({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),U=function(me){var ye={};return me.mapKeys(function(xe,Re){var Le=[Re.element];Re.aliasedElements!==void 0&&Le.push.apply(Le,Re.aliasedElements),Le.forEach(function(Ie){ye[Ie]===void 0?ye[Ie]=xe:typeof ye[Ie]=="string"?ye[Ie]=[ye[Ie],xe]:ye[Ie].push(xe)})}),b(ye)},Y=function(me){if(T(me)){var ye=me;if(ye.style.fontFamily.includes("monospace"))return"CODE"}return null},J=function(me){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(ee).some(function(xe){me.classList.contains(xe)&&(ye=ee[xe])}),ye},he=function(me){if(!S(me))return!1;var ye=me;if(!ye.href||ye.protocol!=="http:"&&ye.protocol!=="https:"&&ye.protocol!=="mailto:"&&ye.protocol!=="tel:")return!1;try{var xe=new c(ye.href);return!0}catch{return!1}},ge=function(me){if(!R(me))return!1;var ye=me;return!!(ye.attributes.getNamedItem("src")&&ye.attributes.getNamedItem("src").value)},pe=function(me,ye){if(!T(me))return ye;var xe=me,Re=xe.style.fontWeight,Le=xe.style.fontStyle,Ie=xe.style.textDecoration;return ye.withMutations(function(je){q.indexOf(Re)>=0?je.add("BOLD"):K.indexOf(Re)>=0&&je.remove("BOLD"),Le==="italic"?je.add("ITALIC"):Le==="normal"&&je.remove("ITALIC"),Ie==="underline"&&je.add("UNDERLINE"),Ie==="line-through"&&je.add("STRIKETHROUGH"),Ie==="none"&&(je.remove("UNDERLINE"),je.remove("STRIKETHROUGH"))})},le=function(me){return me==="ul"||me==="ol"},Ce=(function(){function Te(ye,xe){n(this,"characterList",y()),n(this,"currentBlockType","unstyled"),n(this,"currentDepth",0),n(this,"currentEntity",null),n(this,"currentText",""),n(this,"wrapper",null),n(this,"blockConfigs",[]),n(this,"contentBlocks",[]),n(this,"entityMap",a),n(this,"blockTypeMap",void 0),n(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=ye,this.disambiguate=xe}var me=Te.prototype;return me.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=a,this.wrapper=null,this.contentBlocks=[]},me.addDOMNode=function(xe){var Re;return this.contentBlocks=[],this.currentDepth=0,(Re=this.blockConfigs).push.apply(Re,this._toBlockConfigs([xe],v())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},me.getContentBlocks=function(){return this.contentBlocks.length===0&&(M?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},me._makeBlockConfig=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=xe.key||h(),Le=t({key:Re,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},xe);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",Le},me._toBlockConfigs=function(xe,Re){for(var Le=[],Ie=0;Ie<xe.length;Ie++){var je=xe[Ie],lt=je.nodeName.toLowerCase();if(lt==="body"||le(lt)){this._trimCurrentText(),this.currentText!==""&&Le.push(this._makeBlockConfig());var We=this.currentDepth,Bt=this.wrapper;le(lt)&&(this.wrapper=lt,le(Bt)&&this.currentDepth++),Le.push.apply(Le,this._toBlockConfigs(Array.from(je.childNodes),Re)),this.currentDepth=We,this.wrapper=Bt;continue}var Ct=this.blockTypeMap.get(lt);if(Ct!==void 0){this._trimCurrentText(),this.currentText!==""&&Le.push(this._makeBlockConfig());var Ot=this.currentDepth,Ke=this.wrapper;if(this.wrapper=lt==="pre"?"pre":this.wrapper,typeof Ct!="string"&&(Ct=this.disambiguate(lt,this.wrapper)||Ct[0]||"unstyled"),!M&&T(je)&&(Ct==="unordered-list-item"||Ct==="ordered-list-item")){var Ft=je;this.currentDepth=J(Ft,this.currentDepth)}var Mt=h(),zt=this._toBlockConfigs(Array.from(je.childNodes),Re);this._trimCurrentText(),Le.push(this._makeBlockConfig({key:Mt,childConfigs:zt,type:Ct})),this.currentDepth=Ot,this.wrapper=Ke;continue}if(lt==="#text"){this._addTextNode(je,Re);continue}if(lt==="br"){this._addBreakNode(je,Re);continue}if(ge(je)){this._addImgNode(je,Re);continue}if(he(je)){this._addAnchorNode(je,Le,Re);continue}var Lt=Re;ie.has(lt)&&(Lt=Lt.add(ie.get(lt))),Lt=pe(je,Lt);var Xt=Y(je);Xt!=null&&(Lt=Lt.add(Xt)),Le.push.apply(Le,this._toBlockConfigs(Array.from(je.childNodes),Lt))}return Le},me._appendText=function(xe,Re){var Le;this.currentText+=xe;var Ie=r.create({style:Re,entity:this.currentEntity});this.characterList=(Le=this.characterList).push.apply(Le,Array(xe.length).fill(Ie))},me._trimCurrentText=function(){var xe=this.currentText.length,Re=xe-this.currentText.trimLeft().length,Le=this.currentText.trimRight().length,Ie=this.characterList.findEntry(function(je){return je.getEntity()!==null});Re=Ie!==void 0?Math.min(Re,Ie[0]):Re,Ie=this.characterList.reverse().findEntry(function(je){return je.getEntity()!==null}),Le=Ie!==void 0?Math.max(Le,xe-Ie[0]):Le,Re>Le?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(Re,Le),this.characterList=this.characterList.slice(Re,Le))},me._addTextNode=function(xe,Re){var Le=xe.textContent,Ie=Le.trim();Ie===""&&this.wrapper!=="pre"&&(Le=" "),this.wrapper!=="pre"&&(Le=Le.replace(A,""),Le=Le.replace(L,N)),this._appendText(Le,Re)},me._addBreakNode=function(xe,Re){E(xe)&&this._appendText(`
`,Re)},me._addImgNode=function(xe,Re){if(R(xe)){var Le=xe,Ie={};Z.forEach(function(je){var lt=Le.getAttribute(je);lt&&(Ie[je]=lt)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",Ie),g("draftjs_fix_paste_for_img")?Le.getAttribute("role")!=="presentation"&&this._appendText("📷",Re):this._appendText("📷",Re),this.currentEntity=null}},me._addAnchorNode=function(xe,Re,Le){if(S(xe)){var Ie=xe,je={};z.forEach(function(lt){var We=Ie.getAttribute(lt);We&&(je[lt]=We)}),je.url=new c(Ie.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",je||{}),Re.push.apply(Re,this._toBlockConfigs(Array.from(xe.childNodes),Le)),this.currentEntity=null}},me._toContentBlocks=function(xe){for(var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Le=xe.length-1,Ie=0;Ie<=Le;Ie++){var je=xe[Ie];je.parent=Re,je.prevSibling=Ie>0?xe[Ie-1].key:null,je.nextSibling=Ie<Le?xe[Ie+1].key:null,je.children=y(je.childConfigs.map(function(lt){return lt.key})),this.contentBlocks.push(new o(t({},je))),this._toContentBlocks(je.childConfigs,je.key)}},me._hoistContainersInBlockConfigs=function(xe){var Re=this,Le=y(xe).flatMap(function(Ie){return Ie.type!=="unstyled"||Ie.text!==""?[Ie]:Re._hoistContainersInBlockConfigs(Ie.childConfigs)});return Le},me._toFlatContentBlocks=function(xe){var Re=this,Le=this._hoistContainersInBlockConfigs(xe);Le.forEach(function(Ie){var je=Re._extractTextFromBlockConfigs(Ie.childConfigs),lt=je.text,We=je.characterList;Re.contentBlocks.push(new i(t({},Ie,{text:Ie.text+lt,characterList:Ie.characterList.concat(We)})))})},me._extractTextFromBlockConfigs=function(xe){for(var Re=xe.length-1,Le="",Ie=y(),je=0;je<=Re;je++){var lt=xe[je];Le+=lt.text,Ie=Ie.concat(lt.characterList),Le!==""&&lt.type!=="unstyled"&&(Le+=`
`,Ie=Ie.push(Ie.last()));var We=this._extractTextFromBlockConfigs(lt.childConfigs);Le+=We.text,Ie=Ie.concat(We.characterList)}return{text:Le,characterList:Ie}},Te})(),ke=function(me){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s;me=me.trim().replace(D,"").replace($,N).replace(F,"").replace(H,"");var Re=ye(me);if(!Re)return null;var Le=U(xe),Ie=function(lt,We){return lt==="li"?We==="ol"?"ordered-list-item":"unordered-list-item":null};return new Ce(Le,Ie).addDOMNode(Re).getContentBlocks()};return nT=ke,nT}var rT,cV;function _pe(){if(cV)return rT;cV=1;function e(b){for(var v=1;v<arguments.length;v++){var S=arguments[v]!=null?arguments[v]:{},E=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(S).filter(function(T){return Object.getOwnPropertyDescriptor(S,T).enumerable}))),E.forEach(function(T){t(b,T,S[T])})}return b}function t(b,v,S){return v in b?Object.defineProperty(b,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[v]=S,b}var n=jd(),r=ga(),i=lV(),o=Al(),s=iV(),a=fu(),c=_r(),u=TB(),h=c.List,f=c.Repeat,g=a("draft_tree_data_support"),m=g?r:n,y={processHTML:function(v,S){return i(v,s,S)},processText:function(v,S,E){return v.reduce(function(T,R,M){R=u(R);var I=o(),N={key:I,type:E,text:R,characterList:h(f(S,R.length))};if(g&&M!==0){var D=M-1,L=T[D]=T[D].merge({nextSibling:I});N=e({},N,{prevSibling:L.getKey()})}return T.push(new m(N)),T},[])}};return rT=y,rT}var iT,uV;function Epe(){if(uV)return iT;uV=1;function e(t,n,r,i){var o=n.getStartKey(),s=n.getEndKey(),a=t.getBlockMap(),c=a.toSeq().skipUntil(function(u,h){return h===o}).takeUntil(function(u,h){return h===s}).concat([[s,a.get(s)]]).map(function(u){var h=u.getDepth()+r;return h=Math.max(0,Math.min(h,i)),u.set("depth",h)});return a=a.merge(c),t.merge({blockMap:a,selectionBefore:n,selectionAfter:n})}return iT=e,iT}var oT,dV;function hV(){if(dV)return oT;dV=1;var e=fs(),t=si(),n=Epe(),r=ps(),i={currentBlockContainsLink:function(s){var a=s.getSelection(),c=s.getCurrentContent(),u=c.getEntityMap();return c.getBlockForKey(a.getAnchorKey()).getCharacterList().slice(a.getStartOffset(),a.getEndOffset()).some(function(h){var f=h.getEntity();return!!f&&u.__get(f).getType()==="LINK"})},getCurrentBlockType:function(s){var a=s.getSelection();return s.getCurrentContent().getBlockForKey(a.getStartKey()).getType()},getDataObjectForLinkURL:function(s){return{url:s.toString()}},handleKeyCommand:function(s,a,c){switch(a){case"bold":return i.toggleInlineStyle(s,"BOLD");case"italic":return i.toggleInlineStyle(s,"ITALIC");case"underline":return i.toggleInlineStyle(s,"UNDERLINE");case"code":return i.toggleCode(s);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return i.onBackspace(s);case"delete":case"delete-word":case"delete-to-end-of-block":return i.onDelete(s);default:return null}},insertSoftNewline:function(s){var a=e.insertText(s.getCurrentContent(),s.getSelection(),`
`,s.getCurrentInlineStyle(),null),c=t.push(s,a,"insert-characters");return t.forceSelection(c,a.getSelectionAfter())},onBackspace:function(s){var a=s.getSelection();if(!a.isCollapsed()||a.getAnchorOffset()||a.getFocusOffset())return null;var c=s.getCurrentContent(),u=a.getStartKey(),h=c.getBlockBefore(u);if(h&&h.getType()==="atomic"){var f=c.getBlockMap().delete(h.getKey()),g=c.merge({blockMap:f,selectionAfter:a});if(g!==c)return t.push(s,g,"remove-range")}var m=i.tryToRemoveBlockStyle(s);return m?t.push(s,m,"change-block-type"):null},onDelete:function(s){var a=s.getSelection();if(!a.isCollapsed())return null;var c=s.getCurrentContent(),u=a.getStartKey(),h=c.getBlockForKey(u),f=h.getLength();if(a.getStartOffset()<f)return null;var g=c.getBlockAfter(u);if(!g||g.getType()!=="atomic")return null;var m=a.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),y=e.removeRange(c,m,"forward");return y!==c?t.push(s,y,"remove-range"):null},onTab:function(s,a,c){var u=a.getSelection(),h=u.getAnchorKey();if(h!==u.getFocusKey())return a;var f=a.getCurrentContent(),g=f.getBlockForKey(h),m=g.getType();if(m!=="unordered-list-item"&&m!=="ordered-list-item")return a;s.preventDefault();var y=g.getDepth();if(!s.shiftKey&&y===c)return a;var b=n(f,u,s.shiftKey?-1:1,c);return t.push(a,b,"adjust-depth")},toggleBlockType:function(s,a){var c=s.getSelection(),u=c.getStartKey(),h=c.getEndKey(),f=s.getCurrentContent(),g=c;if(u!==h&&c.getEndOffset()===0){var m=r(f.getBlockBefore(h));h=m.getKey(),g=g.merge({anchorKey:u,anchorOffset:c.getStartOffset(),focusKey:h,focusOffset:m.getLength(),isBackward:!1})}var y=f.getBlockMap().skipWhile(function(v,S){return S!==u}).reverse().skipWhile(function(v,S){return S!==h}).some(function(v){return v.getType()==="atomic"});if(y)return s;var b=f.getBlockForKey(u).getType()===a?"unstyled":a;return t.push(s,e.setBlockType(f,g,b),"change-block-type")},toggleCode:function(s){var a=s.getSelection(),c=a.getAnchorKey(),u=a.getFocusKey();return a.isCollapsed()||c!==u?i.toggleBlockType(s,"code-block"):i.toggleInlineStyle(s,"CODE")},toggleInlineStyle:function(s,a){var c=s.getSelection(),u=s.getCurrentInlineStyle();if(c.isCollapsed())return t.setInlineStyleOverride(s,u.has(a)?u.remove(a):u.add(a));var h=s.getCurrentContent(),f;return u.has(a)?f=e.removeInlineStyle(h,c,a):f=e.applyInlineStyle(h,c,a),t.push(s,f,"change-inline-style")},toggleLink:function(s,a,c){var u=e.applyEntity(s.getCurrentContent(),a,c);return t.push(s,u,"apply-entity")},tryToRemoveBlockStyle:function(s){var a=s.getSelection(),c=a.getAnchorOffset();if(a.isCollapsed()&&c===0){var u=a.getAnchorKey(),h=s.getCurrentContent(),f=h.getBlockForKey(u),g=f.getType(),m=h.getBlockBefore(u);if(g==="code-block"&&m&&m.getType()==="code-block"&&m.getLength()!==0)return null;if(g!=="unstyled")return e.setBlockType(h,a,"unstyled")}return null}};return oT=i,oT}var sT,fV;function Tpe(){if(fV)return sT;fV=1;var e=/\r\n?|\n/g;function t(n){return n.split(e)}return sT=t,sT}var aT,pV;function Mpe(){if(pV)return aT;pV=1;var e=vg(),t=pa(),n=cj(),r=fs(),i=_pe(),o=si(),s=hV(),a=ME(),c=dj(),u=ab(),h=Tpe();function f(y,b){b.preventDefault();var v=new n(b.clipboardData);if(!v.isRichText()){var S=v.getFiles(),E=v.getText();if(S.length>0){if(y.props.handlePastedFiles&&u(y.props.handlePastedFiles(S)))return;c(S,function(U){if(U=U||E,!!U){var Y=y._latestEditorState,J=h(U),he=t.create({style:Y.getCurrentInlineStyle(),entity:a(Y.getCurrentContent(),Y.getSelection())}),ge=s.getCurrentBlockType(Y),pe=i.processText(J,he,ge),le=e.createFromArray(pe),Ce=r.replaceWithFragment(Y.getCurrentContent(),Y.getSelection(),le);y.update(o.push(Y,Ce,"insert-fragment"))}});return}}var T=[],R=v.getText(),M=v.getHTML(),I=y._latestEditorState;if(y.props.formatPastedText){var N=y.props.formatPastedText(R,M),D=N.text,L=N.html;R=D,M=L}if(!(y.props.handlePastedText&&u(y.props.handlePastedText(R,M,I)))){if(R&&(T=h(R)),!y.props.stripPastedStyles){var A=y.getClipboard();if(!y.props.formatPastedText&&v.isRichText()&&A){var $;if((($=M)===null||$===void 0?void 0:$.indexOf(y.getEditorKey()))!==-1||T.length===1&&A.size===1&&A.first().getText()===R){y.update(g(y._latestEditorState,A));return}}else if(A&&v.types.includes("com.apple.webarchive")&&!v.types.includes("text/html")&&m(T,A)){y.update(g(y._latestEditorState,A));return}if(M){var F=i.processHTML(M,y.props.blockRenderMap);if(F){var H=F.contentBlocks,q=F.entityMap;if(H){var K=e.createFromArray(H);y.update(g(y._latestEditorState,K,q));return}}}y.setClipboard(null)}if(T.length){var z=t.create({style:I.getCurrentInlineStyle(),entity:a(I.getCurrentContent(),I.getSelection())}),Z=s.getCurrentBlockType(I),ee=i.processText(T,z,Z),ie=e.createFromArray(ee);y.update(g(y._latestEditorState,ie))}}}function g(y,b,v){var S=r.replaceWithFragment(y.getCurrentContent(),y.getSelection(),b);return o.push(y,S.set("entityMap",v),"insert-fragment")}function m(y,b){return y.length===b.size&&b.valueSeq().every(function(v,S){return v.getText()===y[S]})}return aT=f,aT}var lT,gV;function Ope(){if(gV)return lT;gV=1;var e=gs(),t=Zfe(),n=Qfe(),r=Jfe(),i=epe(),o=npe(),s=rpe(),a=ipe(),c=ope(),u=spe(),h=wpe(),f=Mpe(),g=yF(),m=e.isBrowser("Chrome"),y=e.isBrowser("Firefox"),b=m||y?g:function(S){},v={onBeforeInput:t,onBlur:n,onCompositionStart:r,onCopy:i,onCut:o,onDragOver:s,onDragStart:a,onFocus:c,onInput:u,onKeyDown:h,onPaste:f,onSelect:g,onMouseUp:b,onKeyUp:b};return lT=v,lT}var cT={exports:{}},Zo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mV;function Rpe(){if(mV)return Zo;mV=1;var e=Xo();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:c,containerInfo:u,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Zo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zo.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return o(c,u,null,h)},Zo.flushSync=function(c){var u=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=u,r.p=h,r.d.f()}},Zo.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},Zo.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Zo.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Zo.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=a(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},Zo.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=a(h,u.crossOrigin);r.d.L(c,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Zo.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=a(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},Zo.requestFormReset=function(c){r.d.r(c)},Zo.unstable_batchedUpdates=function(c,u){return c(u)},Zo.useFormState=function(c,u,h){return s.H.useFormState(c,u,h)},Zo.useFormStatus=function(){return s.H.useHostTransitionStatus()},Zo.version="19.1.1",Zo}var vV;function uT(){if(vV)return cT.exports;vV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cT.exports=Rpe(),cT.exports}var dT,yV;function Ipe(){if(yV)return dT;yV=1;var e=uT(),t=e.unstable_flushControlled;return dT=t,dT}var hT,bV;function kpe(){if(bV)return hT;bV=1;function e(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.__proto__=o}var t=Xo(),n=Vd(),r=(function(i){e(o,i);function o(){return i.apply(this,arguments)||this}var s=o.prototype;return s.shouldComponentUpdate=function(c){return this.props.text!==c.text||this.props.editorState.getSelection().getHasFocus()!==c.editorState.getSelection().getHasFocus()},s.render=function(){var c=this.props.editorState.getSelection().getHasFocus(),u=n({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":c}),h={whiteSpace:"pre-wrap"};return t.createElement("div",{className:u},t.createElement("div",{className:n("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:h},this.props.text))},o})(t.Component);return hT=r,hT}var fT,wV;function SV(){if(wV)return fT;wV=1;var e=L1(),t=ib(),n=gs(),r=n.isPlatform("Mac OS X"),i=r&&n.isBrowser("Firefox < 29"),o=e.hasCommandModifier,s=e.isCtrlKeyCommand;function a(g){return r&&g.altKey||s(g)}function c(g){return o(g)?g.shiftKey?"redo":"undo":null}function u(g){return!r&&g.shiftKey?null:a(g)?"delete-word":"delete"}function h(g){return o(g)&&r?"backspace-to-start-of-line":a(g)?"backspace-word":"backspace"}function f(g){switch(g.keyCode){case 66:return o(g)?"bold":null;case 68:return s(g)?"delete":null;case 72:return s(g)?"backspace":null;case 73:return o(g)?"italic":null;case 74:return o(g)?"code":null;case 75:return r&&s(g)?"secondary-cut":null;case 77:return s(g)?"split-block":null;case 79:return s(g)?"split-block":null;case 84:return r&&s(g)?"transpose-characters":null;case 85:return o(g)?"underline":null;case 87:return r&&s(g)?"backspace-word":null;case 89:return s(g)?r?"secondary-paste":"redo":null;case 90:return c(g)||null;case t.RETURN:return"split-block";case t.DELETE:return u(g);case t.BACKSPACE:return h(g);case t.LEFT:return i&&o(g)?"move-selection-to-start-of-block":null;case t.RIGHT:return i&&o(g)?"move-selection-to-end-of-block":null;default:return null}}return fT=f,fT}var pT,CV;function Ppe(){if(CV)return pT;CV=1;var e=$d();function t(){return t=e||function(ee){for(var ie=1;ie<arguments.length;ie++){var U=arguments[ie];for(var Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&(ee[Y]=U[Y])}return ee},t.apply(this,arguments)}function n(ee){for(var ie=1;ie<arguments.length;ie++){var U=arguments[ie]!=null?arguments[ie]:{},Y=Object.keys(U);typeof Object.getOwnPropertySymbols=="function"&&(Y=Y.concat(Object.getOwnPropertySymbols(U).filter(function(J){return Object.getOwnPropertyDescriptor(U,J).enumerable}))),Y.forEach(function(J){i(ee,J,U[J])})}return ee}function r(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function i(ee,ie,U){return ie in ee?Object.defineProperty(ee,ie,{value:U,enumerable:!0,configurable:!0,writable:!0}):ee[ie]=U,ee}function o(ee,ie){ee.prototype=Object.create(ie.prototype),ee.prototype.constructor=ee,ee.__proto__=ie}var s=nE(),a=zB(),c=Mfe(),u=Hfe(),h=Kfe(),f=Ope(),g=Ipe(),m=kpe(),y=OF(),b=si(),v=Xo(),S=zE(),E=ob(),T=gs(),R=Vd(),M=Al(),I=SV(),N=sb(),D=fu(),L=Or(),A=wg(),$=ps(),F=T.isBrowser("IE"),H=!F,q={edit:f,composite:c,drag:h,cut:null,render:null},K=!1,z=(function(ee){o(ie,ee);function ie(){return ee.apply(this,arguments)||this}var U=ie.prototype;return U.render=function(){return null},U.componentDidMount=function(){this._update()},U.componentDidUpdate=function(){this._update()},U._update=function(){var J=this.props.editor;J._latestEditorState=this.props.editorState,J._blockSelectEvents=!0},ie})(v.Component),Z=(function(ee){o(ie,ee);function ie(Y){var J;return J=ee.call(this,Y)||this,i(r(J),"_blockSelectEvents",void 0),i(r(J),"_clipboard",void 0),i(r(J),"_handler",void 0),i(r(J),"_dragCount",void 0),i(r(J),"_internalDrag",void 0),i(r(J),"_editorKey",void 0),i(r(J),"_placeholderAccessibilityID",void 0),i(r(J),"_latestEditorState",void 0),i(r(J),"_latestCommittedEditorState",void 0),i(r(J),"_pendingStateFromBeforeInput",void 0),i(r(J),"_onBeforeInput",void 0),i(r(J),"_onBlur",void 0),i(r(J),"_onCharacterData",void 0),i(r(J),"_onCompositionEnd",void 0),i(r(J),"_onCompositionStart",void 0),i(r(J),"_onCopy",void 0),i(r(J),"_onCut",void 0),i(r(J),"_onDragEnd",void 0),i(r(J),"_onDragOver",void 0),i(r(J),"_onDragStart",void 0),i(r(J),"_onDrop",void 0),i(r(J),"_onInput",void 0),i(r(J),"_onFocus",void 0),i(r(J),"_onKeyDown",void 0),i(r(J),"_onKeyPress",void 0),i(r(J),"_onKeyUp",void 0),i(r(J),"_onMouseDown",void 0),i(r(J),"_onMouseUp",void 0),i(r(J),"_onPaste",void 0),i(r(J),"_onSelect",void 0),i(r(J),"editor",void 0),i(r(J),"editorContainer",void 0),i(r(J),"focus",void 0),i(r(J),"blur",void 0),i(r(J),"setMode",void 0),i(r(J),"exitCurrentMode",void 0),i(r(J),"restoreEditorDOM",void 0),i(r(J),"setClipboard",void 0),i(r(J),"getClipboard",void 0),i(r(J),"getEditorKey",void 0),i(r(J),"update",void 0),i(r(J),"onDragEnter",void 0),i(r(J),"onDragLeave",void 0),i(r(J),"_handleEditorContainerRef",function(he){J.editorContainer=he,J.editor=he!==null?he.firstChild:null}),i(r(J),"focus",function(he){var ge=J.props.editorState,pe=ge.getSelection().getHasFocus(),le=J.editor;if(le){var Ce=E.getScrollParent(le),ke=he||N(Ce),Te=ke.x,me=ke.y;A(le)||L(!1),le.focus(),Ce===window?window.scrollTo(Te,me):S.setTop(Ce,me),pe||J.update(b.forceSelection(ge,ge.getSelection()))}}),i(r(J),"blur",function(){var he=J.editor;he&&(A(he)||L(!1),he.blur())}),i(r(J),"setMode",function(he){var ge=J.props,pe=ge.onPaste,le=ge.onCut,Ce=ge.onCopy,ke=n({},q.edit);pe&&(ke.onPaste=pe),le&&(ke.onCut=le),Ce&&(ke.onCopy=Ce);var Te=n({},q,{edit:ke});J._handler=Te[he]}),i(r(J),"exitCurrentMode",function(){J.setMode("edit")}),i(r(J),"restoreEditorDOM",function(he){J.setState({contentsKey:J.state.contentsKey+1},function(){J.focus(he)})}),i(r(J),"setClipboard",function(he){J._clipboard=he}),i(r(J),"getClipboard",function(){return J._clipboard}),i(r(J),"update",function(he){J._latestEditorState=he,J.props.onChange(he)}),i(r(J),"onDragEnter",function(){J._dragCount++}),i(r(J),"onDragLeave",function(){J._dragCount--,J._dragCount===0&&J.exitCurrentMode()}),J._blockSelectEvents=!1,J._clipboard=null,J._handler=null,J._dragCount=0,J._editorKey=Y.editorKey||M(),J._placeholderAccessibilityID="placeholder-"+J._editorKey,J._latestEditorState=Y.editorState,J._latestCommittedEditorState=Y.editorState,J._onBeforeInput=J._buildHandler("onBeforeInput"),J._onBlur=J._buildHandler("onBlur"),J._onCharacterData=J._buildHandler("onCharacterData"),J._onCompositionEnd=J._buildHandler("onCompositionEnd"),J._onCompositionStart=J._buildHandler("onCompositionStart"),J._onCopy=J._buildHandler("onCopy"),J._onCut=J._buildHandler("onCut"),J._onDragEnd=J._buildHandler("onDragEnd"),J._onDragOver=J._buildHandler("onDragOver"),J._onDragStart=J._buildHandler("onDragStart"),J._onDrop=J._buildHandler("onDrop"),J._onInput=J._buildHandler("onInput"),J._onFocus=J._buildHandler("onFocus"),J._onKeyDown=J._buildHandler("onKeyDown"),J._onKeyPress=J._buildHandler("onKeyPress"),J._onKeyUp=J._buildHandler("onKeyUp"),J._onMouseDown=J._buildHandler("onMouseDown"),J._onMouseUp=J._buildHandler("onMouseUp"),J._onPaste=J._buildHandler("onPaste"),J._onSelect=J._buildHandler("onSelect"),J.getEditorKey=function(){return J._editorKey},J.state={contentsKey:0},J}var U=ie.prototype;return U._buildHandler=function(J){var he=this;return function(ge){if(!he.props.readOnly){var pe=he._handler&&he._handler[J];pe&&(g?g(function(){return pe(he,ge)}):pe(he,ge))}}},U._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},U._renderPlaceholder=function(){if(this._showPlaceholder()){var J={text:$(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,J)}return null},U._renderARIADescribedBy=function(){var J=this.props.ariaDescribedBy||"",he=this._showPlaceholder()?this._placeholderAccessibilityID:"";return J.replace("{{editor_id_placeholder}}",he)||void 0},U.render=function(){var J=this.props,he=J.blockRenderMap,ge=J.blockRendererFn,pe=J.blockStyleFn,le=J.customStyleFn,Ce=J.customStyleMap,ke=J.editorState,Te=J.preventScroll,me=J.readOnly,ye=J.textAlignment,xe=J.textDirectionality,Re=R({"DraftEditor/root":!0,"DraftEditor/alignLeft":ye==="left","DraftEditor/alignRight":ye==="right","DraftEditor/alignCenter":ye==="center"}),Le={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},Ie=this.props.role||"textbox",je=Ie==="combobox"?!!this.props.ariaExpanded:null,lt={blockRenderMap:he,blockRendererFn:ge,blockStyleFn:pe,customStyleMap:n({},a,Ce),customStyleFn:le,editorKey:this._editorKey,editorState:ke,preventScroll:Te,textDirectionality:xe};return v.createElement("div",{className:Re},this._renderPlaceholder(),v.createElement("div",{className:R("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":me?null:this.props.ariaActiveDescendantID,"aria-autocomplete":me?null:this.props.ariaAutoComplete,"aria-controls":me?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":me?null:je,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":me?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:R({notranslate:!me,"public/DraftEditor/content":!0}),contentEditable:!me,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:me?null:Ie,spellCheck:H&&this.props.spellCheck,style:Le,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(z,{editor:this,editorState:ke}),v.createElement(u,t({},lt,{key:"contents"+this.state.contentsKey})))))},U.componentDidMount=function(){this._blockSelectEvents=!1,!K&&D("draft_ods_enabled")&&(K=!0,y.initODS()),this.setMode("edit"),F&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):globalThis.execCommand("AutoUrlDetect",!1,!1))},U.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},ie})(v.Component);return i(Z,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:s,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:I,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),pT=Z,pT}var xV={},_V;function Dpe(){return _V||(_V=1),xV}var gT,EV;function TV(){if(EV)return gT;EV=1;var e={stringify:function(n){return"_"+String(n)},unstringify:function(n){return n.slice(1)}};return gT=e,gT}var mT,MV;function Ape(){if(MV)return mT;MV=1;var e=TV(),t=Ud(),n=t.strlen;function r(i,o){var s=[];return i.findEntityRanges(function(a){return!!a.getEntity()},function(a,c){var u=i.getText(),h=i.getEntityAt(a);s.push({offset:n(u.slice(0,a)),length:n(u.slice(a,c)),key:Number(o[e.stringify(h)])})}),s}return mT=r,mT}var vT,OV;function Lpe(){if(OV)return vT;OV=1;var e=Ud(),t=yg(),n=function(c,u){return c===u},r=function(c){return!!c},i=[];function o(a,c,u){var h=[],f=c.map(function(g){return g.has(u)}).toList();return t(f,n,r,function(g,m){var y=a.getText();h.push({offset:e.strlen(y.slice(0,g)),length:e.strlen(y.slice(g,m)),style:u})}),h}function s(a){var c=a.getCharacterList().map(function(h){return h.getStyle()}).toList(),u=c.flatten().toSet().map(function(h){return o(a,c,h)});return Array.prototype.concat.apply(i,u.toJS())}return vT=s,vT}var yT,RV;function Npe(){if(RV)return yT;RV=1;function e(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){t(m,S,b[S])})}return m}function t(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}var n=jd(),r=ga(),i=TV(),o=Ape(),s=Lpe(),a=Or(),c=function(y,b){return{key:y.getKey(),text:y.getText(),type:y.getType(),depth:y.getDepth(),inlineStyleRanges:s(y),entityRanges:o(y,b),data:y.getData().toObject()}},u=function(y,b,v,S){if(y instanceof n){v.push(c(y,b));return}y instanceof r||a(!1);var E=y.getParentKey(),T=S[y.getKey()]=e({},c(y,b),{children:[]});if(E){S[E].children.push(T);return}v.push(T)},h=function(y,b){var v=b.entityMap,S=[],E={},T={},R=0;return y.getBlockMap().forEach(function(M){M.findEntityRanges(function(I){return I.getEntity()!==null},function(I){var N=M.getEntityAt(I),D=i.stringify(N);T[D]||(T[D]=N,v[D]="".concat(R),R++)}),u(M,v,S,E)}),{blocks:S,entityMap:v}},f=function(y,b){var v=b.blocks,S=b.entityMap,E={};return Object.keys(S).forEach(function(T,R){var M=y.getEntity(i.unstringify(T));E[R]={type:M.getType(),mutability:M.getMutability(),data:M.getData()}}),{blocks:v,entityMap:E}},g=function(y){var b={entityMap:{},blocks:[]};return b=h(y,b),b=f(y,b),b};return yT=g,yT}var bT,IV;function Bpe(){if(IV)return bT;IV=1;function e(c){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?arguments[u]:{},f=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(h).filter(function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),f.forEach(function(g){t(c,g,h[g])})}return c}function t(c,u,h){return u in c?Object.defineProperty(c,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[u]=h,c}var n=Al(),r=Or(),i=function(u,h){for(var f=[].concat(u).reverse();f.length;){var g=f.pop();h(g);var m=g.children;Array.isArray(m)||r(!1),f=f.concat([].concat(m.reverse()))}},o=function(u){if(!(u&&u.type))return!1;var h=u.type;return h==="unordered-list-item"||h==="ordered-list-item"},s=function(u){Array.isArray(u.children)&&(u.children=u.children.map(function(h){return h.type===u.type?e({},h,{depth:(u.depth||0)+1}):h}))},a={fromRawTreeStateToRawState:function(u){var h=u.blocks,f=[];return Array.isArray(h)||r(!1),!Array.isArray(h)||!h.length?u:(i(h,function(g){var m=e({},g);o(g)&&(m.depth=m.depth||0,s(g),g.children!=null&&g.children.length>0)||(delete m.children,f.push(m))}),u.blocks=f,e({},u,{blocks:f}))},fromRawStateToRawTreeState:function(u){var h=[],f=[];return u.blocks.forEach(function(g){var m=o(g),y=g.depth||0,b=e({},g,{children:[]});if(!m){h.push(b);return}var v=f[0];if(v==null&&y===0)h.push(b);else if(v==null||v.depth<y-1){var S={key:n(),text:"",depth:y-1,type:g.type,children:[],entityRanges:[],inlineStyleRanges:[]};f.unshift(S),y===1?h.push(S):v?.children.push(S),S.children.push(b)}else if(v.depth===y-1)v.children.push(b);else{for(;v!=null&&v.depth>=y;)f.shift(),v=f[0];y>0?v.children.push(b):h.push(b)}}),e({},u,{blocks:h})}};return bT=a,bT}var wT,kV;function Fpe(){if(kV)return wT;kV=1,M1();var e={isValidBlock:function(n,r){var i=n.getKey(),o=n.getParentKey();if(o!=null){var s=r.get(o);if(!s.getChildKeys().includes(i))return!1}var a=n.getChildKeys().map(function(g){return r.get(g)});if(!a.every(function(g){return g.getParentKey()===i}))return!1;var c=n.getPrevSiblingKey();if(c!=null){var u=r.get(c);if(u.getNextSiblingKey()!==i)return!1}var h=n.getNextSiblingKey();if(h!=null){var f=r.get(h);if(f.getPrevSiblingKey()!==i)return!1}return!(h!==null&&c!==null&&c===h||n.text!=""&&n.getChildKeys().size>0)},isConnectedTree:function(n){var r=n.toArray().filter(function(m){return m.getParentKey()==null&&m.getPrevSiblingKey()==null});if(r.length!==1)return!1;for(var i=r.shift(),o=0,s=i.getKey(),a=[];s!=null;){var c=n.get(s),u=c.getChildKeys(),h=c.getNextSiblingKey();if(u.size>0){h!=null&&a.unshift(h);var f=u.map(function(m){return n.get(m)}),g=f.find(function(m){return m.getPrevSiblingKey()==null});if(g==null)return!1;s=g.getKey()}else c.getNextSiblingKey()!=null?s=c.getNextSiblingKey():s=a.shift();o++}return o===n.size},isValidTree:function(n){var r=this,i=n.toArray();return i.every(function(o){return r.isValidBlock(o,n)})?this.isConnectedTree(n):!1}};return wT=e,wT}var ST,PV;function jpe(){if(PV)return ST;PV=1;var e=pa(),t=_r(),n=t.List;function r(i,o){var s=i.map(function(a,c){var u=o[c];return e.create({style:a,entity:u})});return n(s)}return ST=r,ST}var CT,DV;function Vpe(){if(DV)return CT;DV=1;var e=Ud(),t=e.substr;function n(r,i){var o=Array(r.length).fill(null);return i&&i.forEach(function(s){for(var a=t(r,0,s.offset).length,c=a+t(r,s.offset,s.length).length,u=a;u<c;u++)o[u]=s.key}),o}return CT=n,CT}var xT,AV;function $pe(){if(AV)return xT;AV=1;var e=Ud(),t=_r(),n=t.OrderedSet,r=e.substr,i=n();function o(s,a){var c=Array(s.length).fill(i);return a&&a.forEach(function(u){for(var h=r(s,0,u.offset).length,f=h+r(s,u.offset,u.length).length;h<f;)c[h]=c[h].add(u.style),h++}),c}return xT=o,xT}var _T,LV;function zpe(){if(LV)return _T;LV=1;function e(F){for(var H=1;H<arguments.length;H++){var q=arguments[H]!=null?arguments[H]:{},K=Object.keys(q);typeof Object.getOwnPropertySymbols=="function"&&(K=K.concat(Object.getOwnPropertySymbols(q).filter(function(z){return Object.getOwnPropertyDescriptor(q,z).enumerable}))),K.forEach(function(z){t(F,z,q[z])})}return F}function t(F,H,q){return H in F?Object.defineProperty(F,H,{value:q,enumerable:!0,configurable:!0,writable:!0}):F[H]=q,F}var n=jd(),r=ga(),i=z_(),o=Jy(),s=Bpe();Fpe();var a=eb(),c=jpe(),u=Vpe(),h=$pe(),f=Al(),g=fu(),m=_r(),y=Or(),b=g("draft_tree_data_support"),v=m.List,S=m.Map,E=m.OrderedMap,T=function(H,q){var K=H.key,z=H.type,Z=H.data,ee=H.text,ie=H.depth,U={text:ee,depth:ie||0,type:z||"unstyled",key:K||f(),data:S(Z),characterList:R(H,q)};return U},R=function(H,q){var K=H.text,z=H.entityRanges,Z=H.inlineStyleRanges,ee=z||[],ie=Z||[];return c(h(K,ie),u(K,ee.filter(function(U){return q.hasOwnProperty(U.key)}).map(function(U){return e({},U,{key:q[U.key]})})))},M=function(H){return e({},H,{key:H.key||f()})},I=function(H,q,K){var z=q.map(function(Z){return e({},Z,{parentRef:K})});return H.concat(z.reverse())},N=function(H,q){return H.map(M).reduce(function(K,z,Z){Array.isArray(z.children)||y(!1);var ee=z.children.map(M),ie=new r(e({},T(z,q),{prevSibling:Z===0?null:H[Z-1].key,nextSibling:Z===H.length-1?null:H[Z+1].key,children:v(ee.map(function(ke){return ke.key}))}));K=K.set(ie.getKey(),ie);for(var U=I([],ee,ie);U.length>0;){var Y=U.pop(),J=Y.parentRef,he=J.getChildKeys(),ge=he.indexOf(Y.key),pe=Array.isArray(Y.children);if(!pe){pe||y(!1);break}var le=Y.children.map(M),Ce=new r(e({},T(Y,q),{parent:J.getKey(),children:v(le.map(function(ke){return ke.key})),prevSibling:ge===0?null:he.get(ge-1),nextSibling:ge===he.size-1?null:he.get(ge+1)}));K=K.set(Ce.getKey(),Ce),U=I(U,le,Ce)}return K},E())},D=function(H,q){return E(H.map(function(K){var z=new n(T(K,q));return[z.getKey(),z]}))},L=function(H,q){var K=H.blocks.find(function(ee){return Array.isArray(ee.children)&&ee.children.length>0}),z=b&&!K?s.fromRawStateToRawTreeState(H).blocks:H.blocks;if(!b)return D(K?s.fromRawTreeStateToRawState(H).blocks:z,q);var Z=N(z,q);return Z},A=function(H){var q=H.entityMap,K={};return Object.keys(q).forEach(function(z){var Z=q[z],ee=Z.type,ie=Z.mutability,U=Z.data;K[z]=o.__create(ee,ie,U||{})}),K},$=function(H){Array.isArray(H.blocks)||y(!1);var q=A(H),K=L(H,q),z=K.isEmpty()?new a:a.createEmpty(K.first().getKey());return new i({blockMap:K,entityMap:q,selectionBefore:z,selectionAfter:z})};return _T=$,_T}var ET,NV;function Upe(){if(NV)return ET;NV=1;var e=jj();function t(n){var r=e(n),i=0,o=0,s=0,a=0;if(r.length){if(r.length>1&&r[0].width===0){var c=r[1];i=c.top,o=c.right,s=c.bottom,a=c.left}else{var u=r[0];i=u.top,o=u.right,s=u.bottom,a=u.left}for(var h=1;h<r.length;h++){var f=r[h];f.height!==0&&f.width!==0&&(i=Math.min(i,f.top),o=Math.max(o,f.right),s=Math.max(s,f.bottom),a=Math.min(a,f.left))}}return{top:i,right:o,bottom:s,left:a,width:o-a,height:s-i}}return ET=t,ET}var TT,BV;function Hpe(){if(BV)return TT;BV=1;var e=Upe();function t(n){var r=n.getSelection();if(!r.rangeCount)return null;var i=r.getRangeAt(0),o=e(i),s=o.top,a=o.right,c=o.bottom,u=o.left;return s===0&&a===0&&c===0&&u===0?null:o}return TT=t,TT}var MT,FV;function Gpe(){if(FV)return MT;FV=1;var e=vfe(),t=vg(),n=pa(),r=yfe(),i=jd(),o=z_(),s=nE(),a=zB(),c=Ppe(),u=ej(),h=Jy(),f=fs(),g=wB(),m=si(),y=L1(),b=Dpe(),v=hV(),S=eb(),E=Npe(),T=zpe(),R=Al(),M=SV(),I=Hpe(),N=lV(),D={Editor:c,EditorBlock:u,EditorState:m,CompositeDecorator:r,Entity:h,EntityInstance:g,BlockMapBuilder:t,CharacterMetadata:n,ContentBlock:i,ContentState:o,RawDraftContentState:b,SelectionState:S,AtomicBlockUtils:e,KeyBindingUtil:y,Modifier:f,RichUtils:v,DefaultDraftBlockRenderMap:s,DefaultDraftInlineStyle:a,convertFromHTML:N,convertFromRaw:T,convertToRaw:E,genKey:R,getDefaultKeyBinding:M,getVisibleSelectionRect:I};return MT=D,MT}var ma=Gpe();const jV=Gp[0],OT=16,VV="#000000",$V=["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH"];let Wpe=0;function zV(e,t){return{type:"unstyled",depth:0,key:"block"+ ++Wpe,entityRanges:[],inlineStyleRanges:t,text:e}}function RT(e,t){const n=e+"_";return t.startsWith(n)?t.split("_")[1]:null}function IT(e,t){const n=e+"_";return t.find(r=>!!r&&r.startsWith(n))?.split("_")[1]||null}function Kpe(e){const t=[];let n="",r=[];for(const i of e.parts){const o=J0(i.fgcolor),{fontFamily:s,style:a,size:c,name:u}=i.font,h=u==="Symbol",f=a&1,g=a&2,m=a&4,y=a&8,b=[`color_${o}`,`fontSize_${c||OT}px`,`fontFamily_${s}`];f&&b.push("ITALIC"),g&&b.push("UNDERLINE"),m&&b.push("STRIKETHROUGH"),y&&b.push("BOLD");let v=!1;for(const S of i.string.text.split(`\r
`).join(`
`).split(`
`)){const E=h?D0(S):S;if(v&&(t.push(zV(n,r)),n="",r=[]),v=!0,!E)continue;const T=n.length,R=E.length;b.forEach(M=>r.push({offset:T,length:R,style:M})),n+=E}}return n&&t.push(zV(n,r)),{blocks:t,entityMap:{}}}function qpe(e,{blocks:t}){const{scene:n}=e,r=[];let i=null;for(let o=0;o<t.length;++o){const{text:s,inlineStyleRanges:a}=t[o];for(let c=0;c<s.length;++c){let u=!1,h=!1,f=!1,g=!1,m=0,y=0,b="";for(const S of a){if(c<S.offset||c>=S.offset+S.length)continue;const E=S.style;let T;E==="BOLD"?u=!0:E==="ITALIC"?h=!0:E==="STRIKETHROUGH"?f=!0:E==="UNDERLINE"?g=!0:(T=RT("color",E))?m||=eC(T):(T=RT("fontSize",E))?y||=parseInt(T):(T=RT("fontFamily",E))&&(b||=T)}const v=(h?1:0)|(g?2:0)|(f?4:0)|(u?8:0);(!i||i.fgcolor!==m||i.font.size!==y||i.font.style!==v||i.font.name!==b)&&(i={fgcolor:m,string:n.string(""),font:n.font({size:y,style:v,name:b})},r.push(e.createPart(i,!0))),i.string.set({text:i.string.text+s[c]})}o!==t.length-1&&(i?i.string.set({text:i.string.text+`\r
`}):(i={string:n.string(`\r
`),font:n.font()},r.push(e.createPart(i,!0))))}e.set({parts:r})}function kT(e,t,n){const r=t+"_",i=r+n,o=e.getSelection(),s=e.getCurrentInlineStyle(),a=f=>!!f&&f.startsWith(r);if(o.isCollapsed())return ma.EditorState.setInlineStyleOverride(e,s.filter(f=>!a(f)).toSet().add(i));let c=e.getCurrentContent();const u=s.filter(a).toArray();let h;for(;h=u.pop();)c=ma.Modifier.removeInlineStyle(c,o,h);return c=ma.Modifier.applyInlineStyle(c,o,i),ma.EditorState.push(e,c,"change-inline-style")}class Ype{constructor(t,n){this.isClosed=!1,this.fontDecorations=[],this.fontSize=OT.toString(),this.fontColor=VV,this.fontName=jV,this.text=n,this.state=ma.EditorState.createWithContent(ma.convertFromRaw(Kpe(n))),Rt(this,{isClosed:Be.ref,state:Be.ref,fontDecorations:Be.ref,fontSize:Be.ref,fontColor:Be.ref,fontName:Be.ref,setState:_e,set:_e,applyAndClose:_e,close:_e})}setState(t){this.state=t;const n=t.getCurrentInlineStyle();if(!n)return;this.fontDecorations=$V.filter(i=>n.has(i)),this.fontName=IT("fontFamily",n)||jV,this.fontColor=IT("color",n)||VV;const r=IT("fontSize",n);this.fontSize=(r&&parseInt(r)||OT).toString()}set({fontDecorations:t=this.fontDecorations,fontSize:n=this.fontSize,fontColor:r=this.fontColor,fontName:i=this.fontName}){let{state:o}=this;const s=o.getCurrentInlineStyle();for(const a of $V){const c=t.includes(a),u=s.has(a);c!==u&&(o=ma.RichUtils.toggleInlineStyle(o,a))}o=kT(o,"fontSize",n+"px"),o=kT(o,"color",r),o=kT(o,"fontFamily",i),this.state=o,this.fontDecorations=t,this.fontSize=n,this.fontColor=r,this.fontName=i}applyAndClose(){const t=ma.convertToRaw(this.state.getCurrentContent());if(t.blocks.length!==1||t.blocks[0].text){const{text:n}=this;qpe(n,t)}this.isClosed=!0}close(){this.isClosed=!0}}class Hd{constructor(t,n,{key:r,data:i}){this.scene=t,this.m=n,this.subs=new Set,this.key=r||hs.freeKey(n),this.key>0&&this.m.set(this.key,this),this.data=i?{...i}:{}}delete(){return this.subs.size?!1:(this.key>0&&this.m.delete(this.key),this.key=0,!0)}toJSON(){const{key:t,data:n}=this;let r;for(const i in n){const o=n[i];typeof o<"u"&&((r||={})[i]=o)}return r?{key:t,data:r}:{key:t}}}class uf extends Hd{constructor(t,n){super(t,t.objects,n),this.parent=null,this._deletedByParent=!1;const{x:r,y:i,width:o,height:s,attrib:a}=n;this.x=r||0,this.y=i||0,this.width=o||0,this.height=s||0,this.attrib=a||0}delete(){if(super.delete(),this._deletedByParent)return!0;const{parent:t,scene:n}=this;return t?.set({children:t.children.filter(r=>r.key)}),n.set({order:n.order.filter(r=>r.key)}),!0}set({x:t=this.x,y:n=this.y,attrib:r=this.attrib,width:i=this.width,height:o=this.height}){let s=!1;const a=t-this.x,c=n-this.y;if((a!==0||c!==0)&&(this._onMoved(a,c),s=!0),this.width!==i||this.height!==o){const u=this.width||1,h=this.height||1,f=i&&i>0?i:u,g=o&&o>0?o:h,m=f/u,y=g/h;(m!==1||y!==1)&&(this._onResized(this.x,this.y,m,y),s=!0)}return this.attrib!==r&&(this.attrib=r,this.onAttribChanged()),s&&this.parent?._childChanged(),this}rotate(t,n){if(t===0)return this;const r=n?.x??this.x,i=n?.y??this.y;return this._onRotated(r,i,t),this.parent?._childChanged(),this}isVisible(){const t=this.attrib;return t&gc?!0:!(t&El||1<<Md(t)&this.scene.hiddenLayers)}updateBBox(t,n,r,i){this.x=t,this.y=n,this.width=r,this.height=i}_onMoved(t,n){this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,i){const o=t+(this.x-t)*r,s=n+(this.y-n)*i,a=(this.width||1)*r,c=(this.height||1)*i;this.updateBBox(o,s,a,c)}_onRotated(t,n,r){const i=Math.sin(r),o=Math.cos(r),s=this.x-t,a=this.y-n,c=s*o-a*i+t,u=s*i+a*o+n;this.updateBBox(c,u,this.width,this.height)}toJSON(){const{attrib:t,height:n,width:r,x:i,y:o}=this;return{...super.toJSON(),attrib:t,height:n,width:r,x:i,y:o}}toString(){return"Графический элемент"}}class Xpe extends uf{constructor(t,n,r){super(t,r),this.type="group",this.children=[],this.set({...r,children:n})}delete(t){return this.children.forEach(n=>{n._deletedByParent=!0,n.delete(t)}),super.delete()}set(t,n){typeof t.children<"u"&&(this.children.forEach(i=>i.parent=null),this.children=t.children,this.children.forEach(i=>i.parent=this),this.children.length>0?this._childChanged():(this.updateBBox(this.x,this.y,0,0),this.parent?._childChanged()));const{attrib:r}=t;return typeof r<"u"&&!n&&this.children.forEach(i=>i.set({attrib:r})),super.set(t)}_childChanged(){let t=1/0,n=-1/0,r=1/0,i=-1/0;this.children.forEach(o=>{t=Math.min(t,o.x),r=Math.min(r,o.y),n=Math.max(n,o.x+o.width),i=Math.max(i,o.y+o.height)}),this.updateBBox(t,r,n-t,i-r),this.parent?._childChanged()}_onMoved(t,n){if(this.children.length===0){super._onMoved(t,n);return}this.children.forEach(r=>r._onMoved(t,n)),this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,i){if(this.children.length===0){super._onResized(t,n,r,i);return}let o=1/0,s=-1/0,a=1/0,c=-1/0;this.children.forEach(u=>{u._onResized(t,n,r,i),o=Math.min(o,u.x),a=Math.min(a,u.y),s=Math.max(s,u.x+u.width),c=Math.max(c,u.y+u.height)}),this.updateBBox(o,a,s-o,c-a)}_onRotated(t,n,r){if(this.children.length===0){super._onRotated(t,n,r);return}let i=1/0,o=-1/0,s=1/0,a=-1/0;this.children.forEach(c=>{c._onRotated(t,n,r),i=Math.min(i,c.x),s=Math.min(s,c.y),o=Math.max(o,c.x+c.width),a=Math.max(a,c.y+c.height)}),this.updateBBox(i,s,o-i,a-s)}*descendants(t){for(const n of this.children)t&&n.key<=0||(n.type==="group"&&(yield*n.descendants(t)),yield n)}onAttribChanged(){}toJSON(){const{type:t}=this,{x:n,y:r,width:i,height:o,...s}=super.toJSON(),a=this.children.filter(c=>c.key>0).map(c=>c.key);return{...s,type:t,children:a}}toString(){return"Группа"}}class UV{constructor(){this.type="scene",this.onInputChanged=new aa,this.objects=new Map,this.pens=new Map,this.brushes=new Map,this.images=new Map,this.imagesOpaque=new Map,this.strings=new Map,this.fonts=new Map,this.texts=new Map,this.x=0,this.y=0,this.order=[],this.background=null,this.hiddenLayers=0,this.grid=null,this.selectUnselectable=!1,this.disableInputs=!1}init(t){if(!t)return;this.set({...t,background:void 0,order:void 0}).merge(t,"exact");const n=t.background&&this.brushes.get(t.background);n&&this.set({background:n})}set({x:t=this.x,y:n=this.y,order:r=this.order,hiddenLayers:i=this.hiddenLayers,selectUnselectable:o=this.selectUnselectable,disableInputs:s=this.disableInputs,grid:a=this.grid,background:c=this.background}){return this.background!==c&&(this.background?.subs.delete(this),this.background=c,this.background?.subs.add(this),this.onBackgroundChanged()),this.disableInputs!==s&&(this.disableInputs=s,this.onDisableInputsChanged()),(this.x!==t||this.y!==n)&&(this.x=Math.round(t),this.y=Math.round(n),this.onOriginChanged()),this.hiddenLayers!==i&&(this.hiddenLayers=i,this.onLayersChanged()),this.order=r,this.selectUnselectable=o,this.grid=a,this}pick(t,n){const{order:r,hiddenLayers:i,selectUnselectable:o}=this;for(let s=r.length-1;s>=0;--s){const a=r[s],c=a.attrib,u=c&El,h=c&gc,f=c&la,g=c&zp,m=Md(c);if(u||g&&!o||!h&&1<<m&i||f)continue;let y=t-a.x,b=n-a.y,v=0;if(a.type==="line"){if(a.pen)v=a.pen.width/2||.5;else if(!a.brush)continue;v=Math.max(v,4)}else if(a.type==="textView"||a.type==="imageView"){const S=Math.sin(-a.angle),E=Math.cos(-a.angle),T=y*E-b*S,R=y*S+b*E;y=T,b=R}if(!(y<-v||y>a.width+v||b<-v||b>a.height+v)&&!(a.type==="line"&&!a.inside(y,b,v)))return a}return null}toJSON(){const{background:t,x:n,y:r,hiddenLayers:i,selectUnselectable:o,grid:s,pens:a,brushes:c,images:u,imagesOpaque:h,fonts:f,strings:g,texts:m,objects:y,order:b}=this;return{background:t?.key,x:n,y:r,hiddenLayers:i,selectUnselectable:o,grid:s,pens:[...a.values()].map(v=>v.toJSON()),brushes:[...c.values()].map(v=>v.toJSON()),images:[...u.values()].map(v=>v.toJSON()),imagesOpaque:[...h.values()].map(v=>v.toJSON()),fonts:[...f.values()].map(v=>v.toJSON()),strings:[...g.values()].map(v=>v.toJSON()),texts:[...m.values()].map(v=>v.toJSON()),objects:[...y.values()].map(v=>v.toJSON()),order:b.filter(v=>v.key>0).map(v=>v.key)}}merge(t,n="free",r){const i=n==="free"?0:-1;function o(D,L){return n==="exact"?L?{...D,...L}:D:{...D,...L,key:i}}const s=t.pens?.map(D=>[D.key,this.pen(o(D))]),a=t.images?.map(D=>[D.key,this.image(D,o(D))]),c=t.imagesOpaque?.map(D=>[D.key,this.image(D,o(D,{opaque:!0}))]),u=t.fonts?.map(D=>[D.key,this.font(o(D))]),h=t.strings?.map(D=>[D.key,this.string(D.text||"",o(D))]),f=s?new Map(s):this.pens,g=a?new Map(a):this.images,m=c?new Map(c):this.imagesOpaque,y=u?new Map(u):this.fonts,b=h?new Map(h):this.strings,v=t.brushes?.map(D=>{const L=D.image&&m.get(D.image)||null;return[D.key,this.brush(o(D,{image:L}))]}),S=v?new Map(v):this.brushes,E=t.texts?.map(D=>{const L=D.parts.map((A,$)=>{const F=y.get(A.font)||pu(`Текст #${D.key}[${$}]: Шрифт #${A.font} не существует`),H=b.get(A.string)||pu(`Текст #${D.key}[${$}]: Строка #${A.string} не существует`);return{...A,font:F,string:H}});return[D.key,this.text(L,o(D))]}),T=E?new Map(E):this.texts,R=[],M=t.objects?.map(D=>{switch(D.type){case"line":{const L=D.pen&&f.get(D.pen)||null,A=D.brush&&S.get(D.brush)||null;return[D.key,this.line(D.coords,o(D,{pen:L,brush:A}))]}case"imageView":{const A=(D.opaque?m:g).get(D.image)||pu(`ImageView (opaque: ${D.opaque}) #${D.key}: Изображение #${D.image} не существует`);return[D.key,this.imageView(A,o(D))]}case"textView":{const L=T.get(D.text)||pu(`TextView #${D.key}: Текст #${D.text} не существует`);return[D.key,this.textView(L,o(D))]}case"input":{const L=D.font&&y.get(D.font)||null;return[D.key,this.input(D.inputType,o(D,{font:L}))]}case"videoView":return[D.key,this.video(D.src,o(D))];case"group":{const L=this.group([],o(D));return R.push({g:L,o:D}),[D.key,L]}case"3dView":throw Error(`Объект #${D.key} является 3D проекцией. Они еще не реализованы.`)}}),I=new Map(M);for(const{g:D,o:L}of R){const A=L.children.map($=>I.get($)||pu(`Группа #${D.key}: Объект #${$} не существует.`));D.set({children:A})}const N=t.order?.map(D=>{const L=I.get(D)||pu(`Объект #${D} не существует и не может быть отображен.`);return L.type==="group"&&pu(`Объект #${D} является группой и не может быть отображен.`),L});return!r&&N?.length&&this.set({order:this.order.concat(N)}),{objects:I,brushes:S,fonts:y,images:g,imagesOpaque:m,pens:f,strings:b,texts:T,order:N||[]}}_exist(t,n){return n&&n.key&&n.key>0&&t.get(n.key)}_not(t,n){return n&&n.key&&n.key>0&&t.get(n.key)&&pu(`Объект #${n.key} уже существует`),!0}group(t,n={}){return this._not(this.objects,n)&&new Xpe(this,t,n)}line(t,n){return this._not(this.objects,n)&&this.createLine(t,n)}imageView(t,n){return this._not(this.objects,n)&&this.createImageView(t,n)}textView(t,n){return this._not(this.objects,n)&&this.createTextView(t,n)}input(t,n){return this._not(this.objects,n)&&this.createInput(t,n)}video(t,n){return this._not(this.objects,n)&&this.createVideo(t,n)}pen(t){return this._exist(this.pens,t)||this.createPen(t)}brush(t){return this._exist(this.brushes,t)||this.createBrush(t)}image(t,n){return this._exist(n?.opaque?this.imagesOpaque:this.images,n)||this.createImage(t,n)}string(t,n){return this._exist(this.strings,n)||this.createString(t,n)}font(t){return this._exist(this.fonts,t)||this.createFont(t)}text(t,n){return this._exist(this.texts,n)||this.createText(t,n)}}function pu(e){throw Error(e)}class HV extends Hd{constructor(t,n){super(t,t.brushes,n),this.type="brush",this.color=0,this.style=0,this.rop=0,this.hatch=0,this.image=null,this.set(n)}set({color:t=this.color,hatch:n=this.hatch,image:r=this.image,rop:i=this.rop,style:o=this.style}){let s=!1;return this.image!==r&&(this.image?.subs.delete(this),this.image=r,this.image?.subs.add(this),s=!0),(this.color!==t||this.style!==o||this.rop!==i||this.hatch!==n)&&(this.color=t,this.style=o,this.rop=i,this.hatch=n,s=!0),s&&this.subs.forEach(a=>a._onBrushPropsChanged()),this}toJSON(){const{color:t,hatch:n,image:r,rop:i,style:o}=this;return{...super.toJSON(),color:t,hatch:n,image:r?.key,rop:i,style:o}}delete(t){if(!super.delete())return!1;const{image:n}=this;return n&&(n.subs.delete(this),t||n.delete()),!0}}const Zpe=7,Qpe=9,Jpe=10,ege=0,tge=1,nge=3;class rge extends HV{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Td(t)||""),this._cssColor}getGlobalCompositeOperation(){switch(this.rop){case Qpe:return"multiply";case Jpe:return"multiply";case Zpe:return"difference";default:return""}}getFillStyle(t){switch(this.style){case ege:return this.getCssColor();case tge:return null;case nge:return this.image?.getCanvasPattern(t)??"black";default:return"white"}}_onImageChanged(){this.subs.forEach(t=>t._onBrushPropsChanged())}}const ige=Gp.map(e=>e.toUpperCase());function oge(e){if(!e)return Gp[0];if(e==="Symbol")return"Times New Roman";const t=e.toUpperCase(),n=t.endsWith(" CYR")?t.slice(0,-4):t;return Gp[Math.max(ige.indexOf(n),0)]}class GV extends Hd{constructor(t,n){super(t,t.fonts,n),this.name="",this.size=0,this.style=0,this._fontFamily="",this.set(n)}get fontFamily(){return this._fontFamily||=oge(this.name)}get actualSize(){return this.size||16.521739130434785}set({name:t=this.name,size:n=this.size,style:r=this.style}){let i=!0;return this.name!==t&&(this.name=t,this._fontFamily="",i=!0),(this.size!==n||this.style!==r)&&(this.size=n,this.style=r,i=!0),i&&(this.onPropsChanged(),this.subs.forEach(o=>o._onFontPropsChanged())),this}toJSON(){const{name:t,size:n,style:r}=this;return{...super.toJSON(),name:t,size:n,style:r}}}class sge extends GV{constructor(){super(...arguments),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,actualSize:n,style:r}=this;return this.inputCssFont=`${r&Up?"bold":"normal"} ${r&sy?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?D0(t):t}onPropsChanged(){this.inputCssFont=""}}class WV extends Hd{constructor(t,{width:n,height:r,src:i},o){super(t,o.opaque?t.imagesOpaque:t.images,o),this.width=n,this.height=r,this.src=i}toJSON(){const{height:t,src:n,width:r}=this;return{...super.toJSON(),height:t,src:n,width:r}}}const KV=new Map,qV=new Map;async function age(e){const t=await F0(e),n=await createImageBitmap(t);return qV.set(e,n),n}class lge{constructor(t){this.shouldUpdateCanvas=!1;const n=Gh(t.width,t.height),r=n.getContext("2d",{alpha:!1});r.drawImage(t,0,0),this.imageCtx=r,this.imageData=r.getImageData(0,0,n.width,n.height)}getCanvasImageSource(){const{imageCtx:t}=this;return this.shouldUpdateCanvas&&(this.shouldUpdateCanvas=!1,t.putImageData(this.imageData,0,0)),t.canvas}getPixel(t,n){const{imageData:r}=this;if(t<0||n<0||t>=r.width||n>=r.height)return 0;const{data:i}=r,o=(Math.floor(n)*r.width+Math.floor(t))*4;return Xa(i[o],i[o+1],i[o+2],"rgb")}setPixel(t,n,r){const i=this.imageData,{data:o}=i,s=(Math.floor(n)*i.width+Math.floor(t))*4;o[s+0]=AP(r),o[s+1]=LP(r),o[s+2]=NP(r),o[s+3]=255,this.shouldUpdateCanvas=!0}}class cge extends WV{constructor(t,n,r){super(t,n,r),this.patternCache=new WeakMap,this.imageBitmap=null,this.pixelsWrapper=null;const i=Ps(this.src),o=qV.get(i);if(o){this.imageBitmap=o;return}let s=KV.get(i);s||(s=age(i),KV.set(i,s)),s.then(a=>{this.imageBitmap=a,this.subs.forEach(c=>c._onImageChanged())})}getPixelsWrapper(){if(this.pixelsWrapper)return this.pixelsWrapper;const{imageBitmap:t}=this;return t?this.pixelsWrapper=new lge(t):null}getPixel(t,n){return this.getPixelsWrapper()?.getPixel(t,n)||0}setPixel(t,n,r){if(t<0||n<0||t>this.width||n>this.height)return!1;const i=this.getPixelsWrapper();return i&&(i.setPixel(t,n,r),this.subs.forEach(o=>o._onImageChanged())),!0}getCanvasPattern(t){const n=this.getCanvasImageSource();if(!n)return null;const r=this.patternCache.get(t);if(r)return r;const i=t.createPattern(n,"repeat");return i?(this.patternCache.set(t,i),i):null}getCanvasImageSource(){return this.pixelsWrapper?.getCanvasImageSource()||this.imageBitmap}}class YV extends uf{constructor(t,n,r){const i={...r,width:r.width??n.width,height:r.height??n.height,image:n};super(t,i),this.type="imageView",this.area=null,this.image=n,n.subs.add(this),this.opaque=r.opaque||!1,this.angle=r.angle||0,this.set(i)}set({area:t=this.area,image:n=this.image,...r}){let i=!1;return this.image!==n&&(this.image.subs.delete(this),this.image=n,this.image.subs.add(this),i=!0),this.area!==t&&(this.area=t,i=!0),super.set(r),i&&this.onPropsChanged(),this}_onRotated(t,n,r){this.angle+=r,super._onRotated(t,n,r)}toJSON(){const{image:t,area:n,opaque:r,type:i,angle:o}=this;return{...super.toJSON(),type:i,image:t.key,area:n,opaque:r,angle:o}}delete(t){const{image:n}=this;return n.subs.delete(this),t||n.delete(),super.delete()}toString(){return"Картинка"}}class uge extends YV{constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,area:i,width:o,height:s}=this,{width:a,height:c}=t.canvas;let u=Math.round(this.x-n.x),h=Math.round(this.y-n.y);if(r){const y=Math.cos(r),b=Math.sin(r),v=o*y,S=o*b,E=v-s*b,T=S+s*y,R=-s*b,M=s*y,I=u+Math.min(0,v,E,R),N=u+Math.max(0,v,E,R),D=h+Math.min(0,S,T,M),L=h+Math.max(0,S,T,M);if(I>a||D>c||N<0||L<0)return}else if(u>a||h>c||u+o<0||h+s<0)return;const f=this.isVisible()&&this.image.getCanvasImageSource();if(!f)return;r&&(t.save(),t.translate(u,h),t.rotate(r),u=0,h=0);const g=Math.round(this.width),m=Math.round(this.height);if(i){const{image:y}=this,b=Math.round(i.x),v=Math.round(i.y),S=Math.round(Math.min(i.w,y.width-i.x)),E=Math.round(Math.min(i.h,y.height-i.y));t.drawImage(f,b,v,S,E,u,h,g,m)}else t.drawImage(f,u,h,g,m);r&&t.restore()}onAttribChanged(){this.scene._setDirty()}_onImageChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}const dge=4;class XV extends uf{constructor(t,n,r){super(t,r),this.type="input",this.value="",this.style=0,this.font=null,this.inputType=n,this.set(r)}get isMultiline(){return!!(this.style&dge)}set({value:t=this.value,style:n=this.style,font:r=this.font,...i}){let o=!1;return this.font!==r&&(this.font?.subs.delete(this),this.font=r,this.font?.subs.add(this),o=!0),this.value!==t&&(this.value=t,this.isMultiline?this.value=this.value:t=t.replace(/[\r\n]/g,""),o=!0),this.style!==n&&(this.style=n,o=!0),super.set(i),o&&this.onPropsChanged(),this}toJSON(){const{inputType:t,style:n,font:r,type:i,value:o}=this;return{...super.toJSON(),type:i,inputType:t,exStyle:0,font:r?.key,style:n,value:o}}delete(t){const{font:n}=this;return n&&(n.subs.delete(this),t||n.delete()),super.delete()}toString(){return`Элемент интерфейса '${this.inputType}'`}}const gu={"jf-scene":"yNr0VPwT","jf-input":"doAE-L2e","jf-video":"_8PHlccAK","disable-inputs":"k7TCS6Hm",multiline:"-QksePcc",centered:"ZFAGmpo5",border:"GnGoYW5X"},hge=1,fge=64,pge=128,gge=8388608;class mge extends XV{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:i=0}=r;let o;switch(n){case"Button":o=document.createElement("input"),o.type="button",o.addEventListener("click",this);break;case"ComboBox":case"ListBox":o=document.createElement("select"),o.addEventListener("input",this);break;default:o=document.createElement("textarea"),o.addEventListener("input",this);break}o.className=gu["jf-input"],o.spellcheck=!1,o.name=`jf-${this.key}`,i&gge&&o.classList.add(gu.border),i&hge&&o.classList.add(gu.centered),this.isMultiline&&o.classList.add(gu.multiline),o.addEventListener("focus",this),o.addEventListener("blur",this),this.domElement=o,this.scene._appendDomElement(o)}focus(){this.domElement.focus()}handleEvent(t){const{scene:n,domElement:r,style:i}=this;if(t.type==="input"){if(!(i&pge)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(i&fge)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this.domElement.value=this._value=this.value);const i=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y),s=Math.round(this.width),a=Math.round(this.height);this._x!==i&&n.setProperty("left",(this._x=i).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==a&&n.setProperty("height",(this._h=a).toString()+"px")}delete(t){return this.domElement.remove(),super.delete(t)}onAttribChanged(){this.scene._setDirty()}_onFontPropsChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}class ZV extends uf{constructor(t,n,r){super(t,r),this.type="line",this.pen=null,this.brush=null,this.start=null,this.end=null,this.setCoords(n).set(r)}get length(){return this.coords.length/2}set({pen:t=this.pen,brush:n=this.brush,start:r=this.start,end:i=this.end,...o}){let s=!1;return this.pen!==t&&(this.pen?.subs.delete(this),this.pen=t,this.pen?.subs.add(this),s=!0),this.brush!==n&&(this.brush?.subs.delete(this),this.brush=n,this.brush?.subs.add(this),s=!0),(this.start!==r||this.end!==i)&&(this.start=r,this.end=i,s=!0),super.set(o),s&&this.onPropsChanged(),this}addPoint({x:t,y:n},r=this.length){const i=r*2,o=this.coords,s=t-this.x,a=n-this.y;return i<0||i>=o.length?o.push(s,a):o.splice(i,0,s,a),this._pointCountChanged(),!0}point(t){const n=t*2,r=this.coords;return n>=0&&n<r.length?{x:r[n]+this.x,y:r[n+1]+this.y}:null}setPoint(t,{x:n,y:r}){const i=t*2,o=this.coords;return i<0||i>=o.length?!1:(o[i+0]=n-this.x,o[i+1]=r-this.y,this._pointCountChanged(),!0)}removePoint(t){const n=t*2,r=this.coords;return r.length<=2||n<0||n>=r.length?!1:(r.splice(n,2),this._pointCountChanged(),!0)}setCoords(t){if(!t.length||t.length%2)throw Error("Количество координат должно быть четным.");return this.coords=t.slice(),this.x=0,this.y=0,this._pointCountChanged(),this}getIntersectionIndex(t,n){const{coords:r,brush:i,pen:o}=this;let s=0;return o&&(s=o.width/2||.5),s=Math.max(s,4),aP(r,!!i,s,t,n)}inside(t,n,r){const{coords:i,brush:o}=this;return o&&yq(i,t,n)||aP(i,!!o,r,t,n)!==-1}_pointCountChanged(){const t=this.coords;let n=t[0],r=t[1],i=n,o=r;for(let s=2;s<t.length;s+=2){const a=t[s+0],c=t[s+1];a<n&&(n=a),a>i&&(i=a),c<r&&(r=c),c>o&&(o=c)}if(n!==0||r!==0)for(let s=0;s<t.length;s+=2)t[s+0]-=n,t[s+1]-=r;this.updateBBox(this.x+n,this.y+r,i-n,o-r),this.parent?._childChanged(),this.onCoordsChanged()}_onResized(t,n,r,i){const o=this.coords;for(let c=0;c<o.length;c+=2)o[c+0]*=r,o[c+1]*=i;const s=t+(this.x-t)*r,a=n+(this.y-n)*i;this.updateBBox(s,a,this.width*r,this.height*i),this.onCoordsChanged()}_onRotated(t,n,r){const i=this.coords,o=t-this.x,s=n-this.y,a=Math.sin(r),c=Math.cos(r);let u=1/0,h=-1/0,f=1/0,g=-1/0;for(let m=0;m<i.length;m+=2){const y=i[m+0]-o,b=i[m+1]-s,v=y*c-b*a+o,S=y*a+b*c+s;i[m+0]=v,i[m+1]=S,v<u&&(u=v),v>h&&(h=v),S<f&&(f=S),S>g&&(g=S)}if(u!==0||f!==0)for(let m=0;m<i.length;m+=2)i[m+0]-=u,i[m+1]-=f;this.updateBBox(this.x+u,this.y+f,h-u,g-f),this.onCoordsChanged()}toJSON(){const{coords:t,brush:n,end:r,pen:i,start:o,type:s}=this;return{...super.toJSON(),type:s,coords:t.slice(),brush:n?.key,end:r,pen:i?.key,start:o}}delete(t){const{pen:n,brush:r}=this;return n&&(n.subs.delete(this),t||n.delete()),r&&(r.subs.delete(this),t||r.delete(t)),super.delete()}toString(){return"Полилиния"}}class vge extends ZV{constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.sourceOffset=0,this.regionWidth=0,this.regionHeight=0;const i=Gh(0,0);this.lineCtx=i.getContext("2d",{alpha:!0})}updateRegionSize(){const t=Math.max((this.pen?.getLineWidth()||0)/2,this.start?.length||0,this.end?.length||0);this.sourceOffset=t,this.regionWidth=Math.ceil(this.width+t*2),this.regionHeight=Math.ceil(this.height+t*2)}getCanvasImageSource(){const{regionWidth:t,regionHeight:n}=this;if(!t||!n)return null;if(!this.shouldUpdateSource){const u=this.lineCtx.canvas;return u.width&&u.height?u:null}this.shouldUpdateSource=!1;const{coords:r,pen:i,brush:o,lineCtx:s,sourceOffset:a}=this;s.canvas.width=t,s.canvas.height=n,a&&s.translate(a,a),s.moveTo(r[0],r[1]);for(let u=2;u<r.length;u+=2)s.lineTo(r[u],r[u+1]);if(o&&r.length>4){s.closePath();const u=o.getFillStyle(s);u&&(s.fillStyle=u,s.fill("evenodd"))}const c=i&&i.getStrokeStyle();if(c){if(!o&&r.length>2){const{start:h,end:f}=this;if(h){const g=r[3],m=r[2],y=r[1],b=r[0],v=h.length,S=Math.atan2(y-g,b-m),E=S+h.angle,T=S-h.angle;s.moveTo(b,y),s.lineTo(b-v*Math.cos(E),y-v*Math.sin(E)),s.moveTo(b,y),s.lineTo(b-v*Math.cos(T),y-v*Math.sin(T))}if(f){const g=r[r.length-4],m=r[r.length-3],y=r[r.length-2],b=r[r.length-1],v=f.length,S=Math.atan2(b-m,y-g),E=S+f.angle,T=S-f.angle;s.moveTo(y,b),s.lineTo(y-v*Math.cos(E),b-v*Math.sin(E)),s.moveTo(y,b),s.lineTo(y-v*Math.cos(T),b-v*Math.sin(T))}}s.lineCap="round",s.lineJoin="round",s.lineWidth=i.getLineWidth(),s.strokeStyle=c;const u=i.getLineDash();u&&s.setLineDash(u),s.stroke()}return s.canvas}_render(t){this.updateRegionSize();const{scene:n,sourceOffset:r,regionWidth:i,regionHeight:o}=this,{width:s,height:a}=t.canvas,c=Math.round(this.x-n.x-r),u=Math.round(this.y-n.y-r);if(c>s||u>a||c+i<0||u+o<0)return;const h=this.isVisible()&&this.getCanvasImageSource();if(!h)return;const f=(this.brush?this.brush.getGlobalCompositeOperation():this.pen?.getGlobalCompositeOperation())||"";f?(t.globalCompositeOperation=f,t.drawImage(h,c,u),t.globalCompositeOperation="source-over"):t.drawImage(h,c,u)}onCoordsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}onPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}_onPenPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}_onBrushPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}onAttribChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}class QV extends Hd{constructor(t,n){super(t,t.pens,n),this.color=0,this.style=0,this.rop=0,this.width=0,this.set(n)}set({color:t=this.color,rop:n=this.rop,style:r=this.style,width:i=this.width}){return(this.width!==i||this.color!==t||this.style!==r||this.rop!==n)&&(this.color=t,this.style=r,this.rop=n,this.width=i,this.subs.forEach(o=>o._onPenPropsChanged())),this}toJSON(){const{color:t,rop:n,style:r,width:i}=this;return{...super.toJSON(),color:t,rop:n,style:r,width:i}}}const yge=0,bge=1,wge=2,Sge=3,Cge=4,xge=5,_ge=9,Ege=10,Tge=7,Mge=[16,4],Oge=[2,4],Rge=[16,4,2,4],Ige=[16,4,2,4,2,4];class kge extends QV{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Td(t)||""),this._cssColor}getLineWidth(){return Math.max(Math.round(this.width),1)}getGlobalCompositeOperation(){switch(this.rop){case _ge:return"multiply";case Ege:return"multiply";case Tge:return"difference";default:return""}}getStrokeStyle(){return this.style!==xge?this.getCssColor():""}getLineDash(){switch(this.style){case yge:return null;case bge:return Mge;case wge:return Oge;case Sge:return Rge;case Cge:return Ige;default:return null}}}class JV extends Hd{constructor(t,n,r){super(t,t.strings,r),this.text=n,this.set({...r,text:n})}set({text:t=this.text}){return this.text!==t&&(this.text=t,this.subs.forEach(n=>n._onStringTextChanged())),this}toJSON(){const{text:t}=this;return{...super.toJSON(),text:t}}}class Pge extends JV{constructor(){super(...arguments),this._text="",this.fragments=[""]}getLines(){const{text:t}=this;return this._text!==t&&(this._text=t,this.fragments=t.split(/\r\n|\n/)),this.fragments}}class e${constructor(t,{font:n,string:r,fgcolor:i,bgcolor:o}){this.text=t,this.font=n,this.string=r,this.fgcolor=i||0,this.bgcolor=o??Kh,n.subs.add(this),r.subs.add(this)}set({font:t=this.font,string:n=this.string,fgcolor:r=this.fgcolor,bgcolor:i=this.bgcolor}){let o=!1,s=!1;return this.font!==t&&(this.font.subs.delete(this),this.font=t,t.subs.add(this),o=!0),this.string!==n&&(this.string.subs.delete(this),this.string=n,n.subs.add(this),o=!0),(this.fgcolor!==r||this.bgcolor!==i)&&(this.fgcolor=r,this.bgcolor=i,s=!0),(o||s)&&(this.onPropsChanged(o,s),this.text.subs.forEach(a=>a._onTextPartsChanged())),this}delete(t){this.font.subs.delete(this),this.string.subs.delete(this),t||(this.font.delete(),this.string.delete())}toJSON(){const{font:t,string:n,fgcolor:r,bgcolor:i}=this;return{font:t.key,string:n.key,fgcolor:r,bgcolor:i}}}class t$ extends Hd{constructor(t,n,r){super(t,t.texts,r),this.type="text",this.parts=n.map(i=>this.createPart(i,!0))}set({parts:t=this.parts},n){return this.parts!==t&&(this.parts.forEach(r=>!t.includes(r)&&r.delete(n)),this.parts=t,this.subs.forEach(r=>r._onTextPartsChanged())),this}createPart(t,n){const r=this._createPart(t);return n||this.set({parts:this.parts.concat(r)}),r}toJSON(){const t=this.parts.map(n=>n.toJSON());return{...super.toJSON(),parts:t}}delete(t){return super.delete()?(this.parts.forEach(n=>n.delete(t)),!0):!1}}const Dge=1.15,Age=.989,n$=Gh(0,0).getContext("2d",{alpha:!1});class Lge extends e${constructor(t,n){super(t,n),this.textFragments=null,this._fgColor=NaN,this._bgColor=NaN,this.fontCssColor="",this.bgCssColor=""}getTextFragments(){const{fontFamily:t,actualSize:n,style:r}=this.font,i=this.string.getLines(),o=r&sy?"italic":"normal",a=`${r&Up?"bold":"normal"} ${o} ${n}px ${t}`,{textFragments:c}=this;if(c&&c.cssFont===a&&c.textLines===i)return c;n$.font=a;const u=n*Dge,h=[];return i.forEach((f,g)=>{if(g>0&&h.push({text:`
`,width:0,height:u}),f){const m=this.font.transformText(f);h.push({width:n$.measureText(m).width,height:u,text:m})}else h.push({width:0,height:u,text:""})}),this.textFragments={cssFont:a,fragments:h,textLines:i}}getFontCssColor(){const{fgcolor:t}=this;return this._fgColor!==t&&(this._fgColor=t,this.fontCssColor=Td(t)||"black"),this.fontCssColor}getBgCssColor(){const{bgcolor:t}=this;return this._bgColor!==t&&(this._bgColor=t,this.bgCssColor=Td(t)||""),this.bgCssColor}_onFontPropsChanged(){this.text._onGeometryChanged()}_onStringTextChanged(){this.text._onGeometryChanged()}onPropsChanged(t,n){t&&this.text._onGeometryChanged(),n&&this.text._onColorsChanged()}}class Nge extends t${constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.maxWidth=0,this.maxHeight=0,this._parts=null;const i=Gh(0,0);this.textCtx=i.getContext("2d",{alpha:!0})}get width(){return this.updateMetrics(),this.maxWidth}get height(){return this.updateMetrics(),this.maxHeight}updateMetrics(){const{parts:t}=this;if(this._parts===t)return;this._parts=t,this.shouldUpdateSource=!0;let n=0,r=0,i=0,o=0;for(const s of t)for(const a of s.getTextFragments().fragments){if(o=Math.max(o,a.height),a.text===`
`){r+=o,n=Math.max(n,i),i=0,o=0;continue}i+=a.width}r+=o,n=Math.max(n,i),this.maxWidth=Math.floor(n),this.maxHeight=Math.floor(r)}getCanvasImageSource(){const{textCtx:t}=this;this.updateMetrics();const{maxWidth:n,maxHeight:r}=this;if(!n||!r)return null;if(!this.shouldUpdateSource){const a=t.canvas;return a.width&&a.height?a:null}this.shouldUpdateSource=!1,t.canvas.width=Math.round(n),t.canvas.height=Math.round(r+2),t.textAlign="left",t.textBaseline="alphabetic",t.scale(Age,1);let i=0,o=0,s=0;for(const a of this.parts){const{fragments:c,cssFont:u}=a.getTextFragments(),{style:h}=a.font,f=a.getFontCssColor(),g=a.getBgCssColor(),m=h&BP,y=h&FP;t.font=u;for(const{text:b,width:v,height:S}of c){if(s=Math.max(s,S),b===`
`){o+=s,i=0,s=0;continue}if(b){const E=Math.round(i),T=Math.round(o+S*.85);if(g){t.fillStyle=g;const M=Math.round(o);t.fillRect(E,M,Math.round(v),Math.round(S))}t.fillStyle=f,t.fillText(b,E,T);const R=Math.max(1,S/10);if(m){const M=Math.round(o+S-R);t.fillRect(E,M,Math.round(v),Math.round(R))}if(y){const M=Math.round(o+S*.55);t.fillRect(E,M,Math.round(v),Math.round(R))}}i+=v}}return t.canvas}_createPart(t){return new Lge(this,t)}_onGeometryChanged(){this._parts=null}_onColorsChanged(){this.shouldUpdateSource=!0}}class r$ extends uf{constructor(t,n,r){const i={...r,width:r.width??n.width,height:r.height??n.height,text:n};super(t,i),this.text=n,this.type="textView",n.subs.add(this),this.angle=r.angle??0,this.set({...r,text:n})}set({text:t=this.text,...n}){return this.text!==t&&(this.text.subs.delete(this),this.text=t,this.text.subs.add(this),this.onPropsChanged()),super.set(n)}_onRotated(t,n,r){super._onRotated(t,n,r),this.angle+=r}toJSON(){const{text:t,angle:n,type:r}=this;return{...super.toJSON(),type:r,text:t.key,angle:n}}delete(t){const{text:n}=this;return n.subs.delete(this),t||n.delete(t),super.delete()}toString(){return"Текст"}}class Bge extends r${constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,width:i,height:o}=this,{width:s,height:a}=t.canvas;let c=Math.round(this.x-n.x),u=Math.round(this.y-n.y);if(r){const m=Math.cos(r),y=Math.sin(r),b=i*m,v=i*y,S=b-o*y,E=v+o*m,T=-o*y,R=o*m,M=c+Math.min(0,b,S,T),I=c+Math.max(0,b,S,T),N=u+Math.min(0,v,E,R),D=u+Math.max(0,v,E,R);if(M>s||N>a||I<0||D<0)return}else if(c>s||u>a||c+i<0||u+o<0)return;const h=this.isVisible()&&this.text.getCanvasImageSource();if(!h)return;r&&(t.save(),t.translate(c,u),t.rotate(r),c=0,u=0);const f=Math.round(this.width*1.02),g=Math.round(this.height)+2;t.drawImage(h,0,0,f,g,c,u,f,g),r&&t.restore()}onAttribChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}_onTextPartsChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}class i$ extends uf{constructor(t,n){super(t,n),this.type="videoView",this.fixed=n.fixed||!1}set({fixed:t=this.fixed,...n}){return this.fixed=t,super.set(n)}toJSON(){throw new Error("Method not implemented.")}toString(){return"Видео"}}let Fge=class{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}};class jge extends i${constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const i=this.domElement=document.createElement("video");i.className=gu["jf-video"],i.src=Ps(n),i.controls=!ly.hideVideoControls,this.video=new Fge(i),this.scene._appendDomElement(i)}currentState(){const t=this.domElement;return t.paused?t.currentTime?"pause":"stop":"play"}setCurrentTime(t){const n=this.domElement;return t!==n.currentTime&&(n.currentTime=t),this}currentTime(){return this.domElement.currentTime}play(){const t=this.domElement;return t.paused&&t.play(),this}pause(){const t=this.domElement;return t.paused||t.pause(),this}stop(){return this.pause(),this.setCurrentTime(0),this}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this.fixed){const o=Math.round(this.width),s=Math.round(this.height);this._w!==o&&n.setProperty("width",(this._w=o).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}delete(){return this.domElement.remove(),super.delete()}onAttribChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}const o$=class extends UV{constructor(t){super(),this.prevOrder=[],this.dirty=!0;const n=document.createElement("canvas");this.ctx=n.getContext("2d",{alpha:!0,desynchronized:!1});const r=this.domElement=document.createElement("div");r.className=gu["jf-scene"],r.append(n),this.init(t)}dispose(){}render(t=!1){if(!t&&!this.domElement.offsetParent)return;const{ctx:n}=this,r=n.canvas,{clientWidth:i,clientHeight:o}=r;if((r.width!==i||r.height!==o)&&(r.width=i,r.height=o,this.dirty=!0),this.prevOrder!==this.order){const{prevOrder:s}=this;this.prevOrder=this.order,(this.order.length!==s.length||this.order.some((a,c)=>a!==s[c]))&&(this.dirty=!0)}!this.dirty||i<1||o<1||(n.fillStyle=this.background?.getFillStyle(n)||"white",n.fillRect(0,0,i,o),this.order.forEach(s=>s._render(n)),this.dirty=!1)}toBlob(t){const n=this.ctx.canvas,r=Math.max(t.x,0),i=Math.max(t.y,0),o=Math.min(t.w,n.width),s=Math.min(t.h,n.height),a=Gh(o,s);return a.getContext("2d",{alpha:!1}).drawImage(this.ctx.canvas,r,i,o,s,0,0,o,s),a instanceof OffscreenCanvas?a.convertToBlob():new Promise(h=>a.toBlob(f=>h(f)))}createLine(t,n={}){return new vge(this,t,n)}createImageView(t,n={}){return new uge(this,t,n)}createTextView(t,n={}){return new Bge(this,t,n)}createInput(t,n={}){return new mge(this,t,n)}createVideo(t,n={}){return new jge(this,t,n)}createPen(t={}){return new kge(this,t)}createBrush(t={}){return new rge(this,t)}createImage(t,n={}){return new cge(this,t,n)}createString(t,n={}){return new Pge(this,t,n)}createFont(t={}){return new sge(this,t)}createText(t,n={}){return new Nge(this,t,n)}onDisableInputsChanged(){this.disableInputs?this.domElement.classList.add(gu["disable-inputs"]):this.domElement.classList.remove(gu["disable-inputs"])}onBackgroundChanged(){this._setDirty()}onLayersChanged(){this._setDirty()}onOriginChanged(){this._setDirty()}_onBrushPropsChanged(){this._setDirty()}_setDirty(){this.dirty=!0}_appendDomElement(t){this.domElement.append(t)}},Vge="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let PT=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=Vge[n[e]&63];return t};class $ge{constructor(t,n,r){this.ed=t,this.object=n,this.speed=1;const i=t._history;i.pendNextEdit(),n.type==="_pseudoGroup"?i.savePositions(n._jf):i.saveTransform(n._jf),r&&this.handleKeyboard(r)}handleKeyboard(t){let n=0,r=0;switch(t.key){case"ArrowUp":n=0,r=-1;break;case"ArrowDown":n=0,r=1;break;case"ArrowLeft":n=-1,r=0;break;case"ArrowRight":n=1,r=0;break;default:return this}if(t.type==="keyup")return this.finish();const{object:i}=this,o=this.speed,s=i.x,a=i.y;return i.set({x:s+n*o,y:a+r*o}),++this.speed,this}finish(){return this.ed._history.pushPendingEdit(),null}}const mu=Symbol(),lb=Symbol(),s$=Symbol(),a$=Symbol(),vu=Symbol(),Gd=Symbol(),l$="application/vnd.stratum.clipboard",{PS_DASH:DT,PS_DOT:c$,BS_NULL:zge}=ct,AT=Xa(255,0,0),Uge=Xa(255,255,0),Hge=Xa(129,165,212,"editor"),Gge=Xa(0,0,0,"editor"),LT=Xa(0,0,0),Wge=Xa(0,0,255),NT=Xa(128,128,128),u$=tC(16),d$=tC(24),uo=-1,va=gc|la;class Kge{constructor(t){this.s=t;const n=uo;this.blueSelectionShadowBrush=t.brush({key:n,color:Hge}),this.graySelectionBorderBrush=t.brush({key:n,color:NT}),this.redBrush=t.brush({key:n,color:AT}),this.yellowBrush=t.brush({key:n,color:Uge}),this.transparentSelectionBorderBrush=t.brush({key:n,color:Gge}),this.nullBrush=t.brush({key:n,color:0,style:zge}),this.selectionAreaPen=t.pen({key:n,color:LT,width:1,style:DT}),this.blackSelectionBorderPen=t.pen({key:n,color:LT,width:2}),this.highlightAreaPen=t.pen({key:n,color:NT,width:1,style:DT}),this.highlightAreaPenRed=t.pen({key:n,color:Wge,width:1,style:DT}),this.defaultFont=t.font({key:n,size:16}),this.reorderFont=t.font({key:n,size:20,style:Up}),this.classFont=t.font({key:n,size:12}),this.captStr=t.string("",{key:n}),this.captText=t.text([{string:this.captStr,font:this.defaultFont}],{key:n})}padIconImage(){const t=this.s;return[...t.images.values()].find(n=>n.src===Z0.src)??t.image(Z0)}iconImage(t){const n=t&&Vp(t)||X0,{s:r}=this;return[...r.images.values()].find(i=>i.src===n.src)??r.image(n)}makeBorder(t,n){return t.scene.line([0,0,t.width+8,0,t.width+8,t.height+8,0,t.height+8],{key:uo,attrib:va,x:t.x-4,y:t.y-4,pen:n?this.highlightAreaPenRed:this.highlightAreaPen,brush:this.nullBrush})}highlightFor(t,n){const r=t.scene;let i;const o=cb(t);if(o){const s=this.makeBorder(o.a.slot,!0),a=this.makeBorder(o.b.slot,!0);i=this.tempGroup([s,a]),r.set({order:r.order.concat(s,a)})}else i=this.makeBorder(t,n),BT(t)&&i.rotate(t.angle,t),r.set({order:r.order.concat(i)});return i}textFor(t){const{s:n}=this,r=h$(t);this.captStr.set({text:r});const i=r.length*8,o=n.textView(this.captText,{key:uo,attrib:va,x:Math.min(Math.max(t.x,t.scene.x+4),t.scene.x+t.scene.domElement.clientWidth-i),y:Math.min(Math.max(t.y-32,t.scene.y+4),t.scene.y+t.scene.domElement.clientHeight-32)});return n.set({order:n.order.concat(o)}),o}createTextFor(t,n){const{s:r}=this,i=r.string(n,{key:uo}),o=r.text([{string:i,font:this.reorderFont}],{key:uo}),s=r.textView(o,{key:uo,attrib:va,x:t.x,y:t.y}),a=24,c=24,u=r.line([t.x,t.y,t.x+a,t.y,t.x+a,t.y+c,t.x,t.y+c],{key:uo,attrib:va,brush:this.redBrush}),h=r.string(h$(t),{key:uo}),f=r.text([{string:h,font:this.classFont}],{key:uo}),g=t.x,m=t.y+c,y=r.textView(f,{key:uo,attrib:va,x:g,y:m}),b=y.width,v=y.height,S=r.line([g,m,g+b,m,g+b,m+v,g,m+v],{key:uo,attrib:va,brush:this.yellowBrush}),E=r.group([s,u,y,S],{key:uo});return r.set({order:r.order.concat(u,s,S,y)}),[i,E]}createSelectionArea(t,n,r,i){const{s:o}=this,s=o.line([0,0,r,0,r,i,0,i],{key:uo,attrib:va,x:t,y:n,pen:this.selectionAreaPen,brush:this.nullBrush});return o.set({order:o.order.concat(s)}),s}tempGroup(t){return this.s.group(t,{key:uo})}}function Wd(e){return e.data[vu]||null}function BT(e){return e.type==="textView"||e.type==="imageView"}function h$(e){const t=Cg(e);if(t)return t.toString();if(e.parent&&Cg(e.parent))return e.type==="imageView"&&e.key>0?`Иконка #${e.key} ${e.attrib&1?" (скрыта)":""}`:"Изображение имиджа";const n=e+(e.data.name?` '${e.data.name}'`:"")+(e.key>0?` #${e.key}`:"");if(e.type!=="group")return n;const r=e.children.length;return`${n} [${r}]`}function Cg(e){return e.data[mu]??null}function xg(e){const t=e.data[mu];return t?.type==="child"?t:null}function qge(e){const t=e.data[mu];return t?.type==="pad"?t:null}function cb(e){const t=e.data[mu];return t?.type==="connection"?t:null}function is(e){const t=e.data[mu];return t&&(t.type==="child"||t.type==="pad")?t:null}let Yge=0;function ci(){return++Yge}function Xge(e){let t=e;for(;t.parent&&t.parent.key>0;)t=t.parent;return t}function f$(e){return qh(e.scene,Y8(e))}function ub(e){return!!e.data[a$]}function Zge(e){if(e.length<2)return e;const t=Np(new Set(e),n=>!n.parent&&!ub(n)&&n.key>0);return t.length?t:[e[0]]}function p$(e){const{hiddenLayers:t}=e;return Np(e.objects.values(),n=>{if(n.parent)return!1;const r=n.attrib;return!(r&El||t&1<<Md(r))})}class FT extends rs{}function _g(e,t){if(!e)throw new FT(t)}function jT(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function g$(e){return{fonts:[{key:1,size:16}],strings:[{key:1,text:e}],texts:[{key:1,parts:[{font:1,string:1}]}],objects:[{type:"textView",key:1,text:1}],order:[1]}}function m$(e){return{images:[{key:1,...e}],objects:[{type:"imageView",key:1,image:1}],order:[1]}}const Qge=g$("Sample Text"),Jge={objects:[{type:"input",key:1,inputType:"Edit",width:64,height:20}],order:[1]},eme={objects:[{type:"input",key:1,inputType:"Button",width:64,height:20,value:"Кнопка"}],order:[1]},tme={pens:[{key:1,color:0,width:1}],brushes:[{key:1,color:NT}],objects:[{type:"line",key:1,coords:[0,0,0,100,100,100,100,0],pen:1,brush:1}],order:[1]};function nme(e){const t=e.getData(l$);return t?JSON.parse(t):null}function v$(e,t){e.setData(l$,JSON.stringify(t))}class y${constructor(t){this.ed=t,this.title="Изменение порядка имиджей",this.counter=-1,this.childWeakMap=new WeakMap;const{children:n,_tools:r}=t;this.markers=n.map((i,o)=>{const s=(o+1).toString(),a=r.createTextFor(i.slot,s);return this.childWeakMap.set(i,a),a})}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,{sceneX:r,sceneY:i}=t,o=n._pick(r,i),s=o&&xg(o);if(!s)return this;const a=n.children.indexOf(s);let c=(t.shiftKey?a:this.counter)+1;const u=L0(n.children,c,s);return u.indexOf(s)!==a&&(u.forEach((h,f)=>this.childWeakMap.get(h)?.[0].set({text:(f+1).toString()})),n._history.saveChildOrder(),n.setChildOrder(u)),!t.shiftKey&&c>=u.length?this.finish():(this.counter=c,this)}finish(){for(const[t,n]of this.markers)n.delete();return null}}class rme{constructor(t){this.ed=t,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,i=t.sceneY,o=n._scene,s=o.line([r,i,r+1,i+1],{pen:o.pen({color:LT}),attrib:va});return o.set({order:o.order.concat(s)}),new VT(n,s)}}class VT{constructor(t,n){this.ed=t,this.line=n,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){const{line:n}=this;if(t.type==="pointerup")return n.length===2&&Math.hypot(n.width,n.height)>5?this.finishLine():this;const r=n.point(n.length-2);let i=t.sceneX,o=t.sceneY;if(t.type==="pointermove"){if(t.ctrlKey&&r){const s=Math.abs(i-r.x),a=Math.abs(o-r.y);s>a?o=r.y:i=r.x}return n.setPoint(n.length-1,{x:i,y:o}),this}return r&&Math.hypot(r.x-i,r.y-o)<5?this:t.shiftKey?this.finishLine():(n.addPoint({x:i+1,y:o+1}),new VT(this.ed,n))}finishLine(){const{line:t,ed:n}=this;t.set({attrib:t.attrib&~va}),n._refreshChildImages();const r=[t];return n._history.saveCreatedObjects(r),n._createSelection(r),null}finish(){const{line:t}=this;t.length<3?this.line.delete():(t.removePoint(t.length-1),this.finishLine())}}class ime{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,i=qh(n._scene,r).set({x:t.sceneX,y:t.sceneY});n._refreshChildImages();const o=[i];return n._history.saveCreatedObjects(o),n._createSelection(o),null}}class ome{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,i=t.sceneX,o=t.sceneY,s=qh(n._scene,r);return s.set({x:i,y:o,width:1,height:1,attrib:s.attrib|va}),new sme(n,s,this.title)}}class sme{constructor(t,n,r="Создание объекта"){this.ed=t,this.object=n,this.title=r,this.cursor="crosshair",this.start={x:n.x,y:n.y}}handlePointer(t){const{object:n,start:r}=this;if(t.type==="pointermove"){const s=Math.min(t.sceneX,r.x),a=Math.min(t.sceneY,r.y),c=Math.abs(t.sceneX-r.x),u=Math.abs(t.sceneY-r.y);return n.set({x:s,y:a,width:c,height:u}),this}if(n.width<10&&n.height<10)return this;n.set({attrib:n.attrib&~va});const{ed:i}=this;i._refreshChildImages();const o=[n];return i._history.saveCreatedObjects(o),i._createSelection(o),null}finish(){this.object.delete()}}class ame{constructor(t){this.ed=t,this.title="Выбор первой цели",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,i=t.sceneY,o=n._pick(r,i),s=o&&is(o);return s?new b$(n,s,{x:r,y:i}):this}}class b${constructor(t,n,r=jT(n.slot)){this.ed=t,this.a=n,this.title="Выбор второй цели",this.cursor="crosshair";const{x:i,y:o}=r,s=t._scene,a=this.slot=s.line([i,o,i,o],{pen:s.pen({color:AT}),attrib:va});s.set({order:s.order.concat(a)})}handlePointer(t){const n=t.sceneX,r=t.sceneY,{slot:i}=this;if(t.type==="pointermove")return i.setPoint(1,{x:n,y:r}),this;const{ed:o,a:s}=this,a=o._pick(n,r),c=a&&is(a);if(!c||c===s)return this;const u=o.connections.find(g=>g.includes(s)&&g.includes(c));if(u)return this.finish(),o._createSelection([u.slot]),null;i.set({attrib:d$});const h=o.schema.createConnection(s.schema,c.schema,{key:i.key,aPadKey:Di(s.type==="pad"&&s.key),bPadKey:Di(c.type==="pad"&&c.key)});o._createConnection(i,h),o._refreshChildImages();const f=[i];return o._history.saveCreatedObjects(f),o._createSelection(f),null}finish(){this.slot.delete()}}class db{constructor(t,n,r=!1){if(this.ed=t,this.area=null,this.kept=null,this.startX=n.sceneX,this.startY=n.sceneY,r){const a=t.selection;a&&(a.type==="multi"||!a.object._jf.parent&&!ub(a.object._jf))&&(this.kept=a._getJF())}else t.selection?.reset();const{selectUnselectable:i,hiddenLayers:o}=t._scene,s=Np(t._scene.objects.values(),a=>{if(a.parent||ub(a)||this.kept?.includes(a))return!1;const c=a.attrib,u=c&1,h=c&4,f=c&8,g=c>>8&31;return!(u||f&&!i||1<<g&o||h)});this.objects=s}handlePointer(t){if(t.type==="pointerup")return this.removeAreaBox(),null;const n=Math.min(t.sceneX,this.startX),r=Math.min(t.sceneY,this.startY),i=Math.abs(t.sceneX-this.startX),o=Math.abs(t.sceneY-this.startY),{ed:s}=this;i>0&&o>0?this.area?this.area.set({x:n,y:r,width:i,height:o}):this.area=s._tools.createSelectionArea(n,r,i,o):this.removeAreaBox();const a=s.selection?._getJF()||[];let c=!1;const u=this.objects.filter(h=>{const f=h.x>=n&&h.y>=r&&h.x+h.width<=n+i&&h.y+h.height<=r+o;return c||=f&&!a.includes(h)||!f&&a.includes(h),f});return c&&s._createSelection(this.kept?.concat(u)??u),this}finish(){this.removeAreaBox()}removeAreaBox(){this.area&&(this.area.delete(!0),this.area=null)}}class lme{constructor(t,n,r){this.ed=t,this.ctrl=n,this.disableHighlights=!0;const i=this.prop=n.data[Gd],o=i.direction;this.cursor=o==="vert"?"ns-resize":o==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=i.selection.object;this.origW=s.width,this.origH=s.height;const a=t._history;a.pendNextEdit(),a.saveTransform(s._jf)}handlePointer(t){if(t.type==="pointerup")return this.finish();let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const i=n-this.startX,o=r-this.startY;Math.abs(i)>Math.abs(o)?r=this.startY+this.origH*(i/this.origW):n=this.startX+this.origW*(o/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){const t=this.ed._history;return this.ctrl.x===this.startX&&this.ctrl.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class cme{constructor(t,n,r){this.ctrl=n,this.disableHighlights=!0;const i=this.prop=n.data[Gd],o=i.direction;this.cursor=o==="vert"?"ns-resize":o==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=i.selection.object;this.origW=s.width,this.origH=s.height}handlePointer(t){if(t.type==="pointerup")return this.finish(),null;let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const i=n-this.startX,o=r-this.startY;Math.abs(i)>Math.abs(o)?r=this.startY+this.origH*(i/this.origW):n=this.startX+this.origW*(o/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){this.prop.complete?.()}}class $T{constructor(t,n,r){this.ed=t,this.object=n,this.disableHighlights=!0,this.cursor="grabbing",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY,t._history.pendNextEdit()}handlePointer(t){let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(t.type==="pointerup")return this.finish();if(t.ctrlKey){const i=Math.abs(n-this.startX),o=Math.abs(r-this.startY);i>o?r=this.startY:n=this.startX}return this.object.set({x:n,y:r}),this}finish(){const t=this.ed._history;return this.object.x===this.startX&&this.object.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class ume{constructor(t,n,r){this.ed=t,this.o=n,this.cursor="copy",this.startX=r.sceneX,this.startY=r.sceneY}handlePointer(t){if(t.type==="pointerup")return null;if(t.type!=="pointermove")return this;const n=t.sceneX-this.startX,r=t.sceneY-this.startY;if(Math.hypot(n,r)<16)return this;const{ed:i,o}=this,s=i._cloneObject(o).set({x:o.x+n,y:o.y+r});is(s)?._notifySlotMoved();const a=[s],c=i._history;return c.batch(()=>{c.saveCreatedObjects(a);const u=i._createSelection(a);return u?new $T(i,u.object,t):this})}}class dme{constructor(t){this.ed=t}handlePointer(t){if(t.type!=="pointerdown")return this;const n=t.shiftKey,r=t.shiftKey,{ed:i}=this,o=i._pickSmart(t.sceneX,t.sceneY,!n);if(!o)return new db(i,t,n);const s=o.data[Gd];if(s){if(typeof s.lineEditorIndex=="number"){if(t.shiftKey){const h=i.selection;if(h?.type!=="single")return this;const f=h.object;return f.type!=="line"?this:(f.removePoint(s.lineEditorIndex),this)}return new cme(i,o,t)}return r?new $T(i,s.selection.object,t):new lme(i,o,t)}const a=ub(o);if(!n){const h=o.data[vu]||i._createSelection([o]);return!a&&h?new $T(i,h.object,t):this}const c=i.selection;if(!c)return new db(i,t);const u=Xge(o);if(c.type==="single"){if(a){const h=c.object;if(t.shiftKey&&h.type==="line"&&cb(h._jf)){const f=h._jf,g=f.getIntersectionIndex(t.sceneX-f.x,t.sceneY-f.y);return g<0?this:(h.addPoint(t.sceneX,t.sceneY,g+1),this)}return new db(i,t)}if(c.object._jf===u){if(c.object.type==="line"&&c.object.isPointsEditModeActive){const h=c.object._jf,f=h.getIntersectionIndex(t.sceneX-h.x,t.sceneY-h.y);return f<0?this:(c.object.addPoint(t.sceneX,t.sceneY,f+1),this)}return new ume(i,u,t)}c.object._jf.parent?i._createSelection([u]):i._createSelection([c.object._jf,u])}else c.object._jf.includes(u)?i._createSelection(c.object._jf.filter(h=>h!==u)):i._createSelection(c.object._jf.concat(u));return new db(i,t,!0)}}class hme{constructor(t){this.ed=t,this.defaultAction=new dme(this.ed),this.currentAction=this.defaultAction,this.inTransition=!1,Rt(this,{currentAction:Be.ref,inAction:mi,actionTitle:mi})}get actionTitle(){return this.currentAction.title||""}get inAction(){return this.currentAction!==this.defaultAction}get isInChildReorderMode(){return this.currentAction instanceof y$}get canHandlePointer(){return!!this.currentAction.handlePointer}get highlightsDisallowed(){return!!this.currentAction.disableHighlights}handlePointer(t){this.currentAction.handlePointer&&(this.inTransition=!0,this.switchAction(this.currentAction.handlePointer(t)||this.defaultAction),this.inTransition=!1)}handleKeyboard(t){return this.currentAction.handleKeyboard?(this.inTransition=!0,this.switchAction(this.currentAction.handleKeyboard(t)||this.defaultAction),this.inTransition=!1,!0):!1}finishCurrent(){this.inTransition||(this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(this.defaultAction),this.inTransition=!1)}startMoveObjectWithKeyboard(t,n){this.startAction(new $ge(this.ed,t,n))}startCreateConnection(t){this.startAction(t?new b$(this.ed,t):new ame(this.ed))}startCreateSample(t,n){this.startAction(new ome(this.ed,t,n))}startSelectSampleCoords(t,n){this.startAction(new ime(this.ed,t,n))}startCreateLine(){this.startAction(new rme(this.ed))}startReorderChildren(){this.startAction(new y$(this.ed))}switchAction(t){this.currentAction!==t&&(this.currentAction=t)}startAction(t){fa.assert(!this.inTransition),this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(t),this.inTransition=!1}}class hb{constructor(t,n,r){this.type="child",this.connections=[],this.resizable=!1,this.hovered=!1,this.imgContainer=null,this.scene=t,this.schema=n,this.slot=r,r.data[mu]=this;const i=r.children.length&&r.children[0];let o;i&&i.type==="imageView"?(o=i,o.data[s$]=this,o.data[lb]=this):o=null,this.icon=o,this.replaceImage(n.klass.image),this._subscribe(),Rt(this,{schema:Be.ref,hovered:Be.ref,select:_e,connections:!1,resizable:!1})}get key(){return this.slot.key}select(t=!1){this.scene._createSelection([this.slot],!0,t)}_forceHide(){this.replaceImage({...this.schema.klass.image,scene:void 0})}_forceUpdate(){this.replaceImage(this.schema.klass.image)}_subscribe(){this.schema.klass.onImageChanged.add(this.scene._childImageChanged)}_unsubscribe(){this.schema.klass.onImageChanged.remove(this.scene._childImageChanged)}toString(){return`${this.schema.name} #${this.key}`}_saveChanges(){const{slot:t,schema:n}=this;n.node.set({sceneName:t.data.name||"",sceneX:t.x,sceneY:t.y})}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_setHover(t){this.hovered=t}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_copy(){const{key:t,schema:n}=this;return{key:t,klass:n.klass.name,klassUuid:n.klass.uuid,state:n.getState()}}_replaceSchema(t){if(t.node!==this.schema.node)throw Error("Типы имиджей не совпадают");this.schema=t}replaceImage(t){const n=!!t?.resizable,r=this.resizable!==n;this.resizable=n;const i=n?this.slot.width:32,o=n?this.slot.height:32;if(this.imgContainer?.delete(),this.imgContainer=null,this.icon){const{atlas:a,index:c=0}=t?.icon??{},u=this.scene._tools.iconImage(a),{x:h,y:f}=Q0(u,c);this.icon.set({image:u,width:i,height:o,area:{x:h,y:f,w:32,h:32},attrib:this.slot.attrib})}const s=t?.scene?.data;if(!(!s?.objects?.length||t?.prior==="icon")){this.imgContainer=nA(this.slot,s,n&&!r,"unused");for(const a of Wp(this.imgContainer))a.data[lb]=this;r&&n&&this.icon?.set({width:this.slot.width,height:this.slot.height})}}}class Eg{constructor(t,n,r){this.type="connection",this.scene=t,this.schemaConnection=n;let i,o;if(t.schema===n.a){if(i=t.pads.find(c=>c.key===n.aPadKey),!i)throw Error(`Площадка A #${n.aPadKey} не существует`)}else if(i=t.children.find(c=>c.schema===n.a),!i)throw Error(`Дочерний имидж ${n.a} не существует`);if(t.schema===n.b){if(o=t.pads.find(c=>c.key===n.bPadKey),!o)throw Error(`Площадка B #${n.bPadKey} не существует`)}else if(o=t.children.find(c=>c.schema===n.b),!o)throw Error(`Дочерний имидж ${n.b} не существует`);this.a=i,this.b=o,this.slot=r;const s=r.point(0);this.shift1=s?{x:s.x-i.slot.x,y:s.y-i.slot.y}:{x:0,y:0},this.size1={x:i.slot.width,y:i.slot.height},i.connections=i.connections.concat(this);const a=r.point(r.length-1);this.shift2=a?{x:a.x-o.slot.x,y:a.y-o.slot.y}:{x:0,y:0},this.size2={x:o.slot.width,y:o.slot.height},o.connections=o.connections.concat(this),r.data[mu]=this,r.data[a$]=!0,this.updatePen(),Rt(this,{schemaConnection:Be.ref,setDisabled:_e,includes:!1})}updateShift(){const{slot:t,a:n,b:r}=this,i=t.point(0),o=t.point(t.length-1);this.shift1=i?{x:i.x-n.slot.x,y:i.y-n.slot.y}:{x:0,y:0},this.shift2=o?{x:o.x-r.slot.x,y:o.y-r.slot.y}:{x:0,y:0}}setDisabled(t){this.schemaConnection.setDisabled(t),this.updatePen()}get key(){return this.slot.key}includes(t){return this.a===t||this.b===t}toString(){return`Связь #${this.key}: ${this.a} - ${this.b}`}_copy(){return this.schemaConnection.proto.toJSON()}_notifyTargetMoved(){const{slot:t,shift1:n,shift2:r,a:i,b:o}=this,s=n.x*(i.slot.width/this.size1.x),a=n.y*(i.slot.height/this.size1.y),c=r.x*(o.slot.width/this.size2.x),u=r.y*(o.slot.height/this.size2.y),h=i.slot.x+s,f=i.slot.y+a,g=o.slot.x+c,m=o.slot.y+u;t.setPoint(0,{x:h,y:f}),t.setPoint(t.length-1,{x:g,y:m})}_notifySlotRemoved(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}_replaceConnection(t){if(t.proto!==this.schemaConnection.proto)throw Error("Типы связей не совпадают");this.schemaConnection=t}updatePen(){const t=this.slot.pen;if(!t)return;let n=t.style;this.schemaConnection.isDisabled?n|=c$:n&=~c$,t.set({style:n})}}class fb{constructor(t,n){this.type="pad",this.connections=[],this.scene=t,this.schema=t.schema,this.slot=n,n.data[mu]=this,Rt(this,{schema:Be.ref,connections:!1})}get key(){return this.slot.key}toString(){return`Площадка #${this.key}`}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_replaceSchema(){this.schema=this.scene.schema}}class zT{constructor(t,n,r,i=ci()){this.ed=t,this.id=i;const o=t._scene,s=new Set(n),a=new Set,c=[],u=[],h=[];n.forEach(f=>{if(f.parent&&f.parent.key>0){const m=f.parent.children.indexOf(f);h.push([f.key,f.parent.key,m])}const g=Cg(f);g&&(g.type==="connection"?(g._notifySlotRemoved(),a.add(g)):(g.connections.forEach(m=>{m._notifySlotRemoved(),a.add(m),s.add(m.slot)}),g.type==="child"?c.push(g):u.push(g.slot.key)))}),this.parentRelations=h,this.deletedPads=u,this.deletedChildren=c.map(f=>f._copy()),this.deletedConnections=Array.from(a,f=>f._copy()),this.prevObjectOrder=ns(o.order,f=>f.key>0&&f.key),this.prevChildOrder=t.children.map(f=>f.key),this.deletedData=cy(s,!0),this.title=r??`Удалено${a.size?" (включая связи)":""}: ${s.size}`,s.forEach(f=>f.delete()),a.forEach(f=>f.schemaConnection.remove()),c.forEach(f=>f.schema.remove()),c.length&&this.ed._notifyChildrenRemoved(),u.length&&this.ed._notifyPadsRemoved(),a.size&&this.ed._notifyConnectionsRemoved()}undo(){const{ed:t}=this;let n=[];const{schema:r}=t;r&&(n=this.deletedChildren.map(c=>{const u=r.resolveKlass(c.klassUuid);return _g(u,`Имидж не существует: ${c.klass}`),_g(!r.hasAncestor(u),`Невозможно добавить '${u.name}' в схему: рекурсивная зависимость`),{...c,klass:u}}));const i=t._scene,{objects:o}=i.merge(this.deletedData,"exact",!0),s=iC(o);this.parentRelations.forEach(([c,u,h])=>{const f=i.objects.get(u);if(f?.type!=="group")throw Error(`Группа #${u} объекта #${c} не существует`);const g=i.objects.get(c);if(!g)throw Error(`Объект #${c} не существует`);const m=f.children.slice();m.splice(h,0,g),f.set({children:m})});const a=this.prevObjectOrder.map(c=>{const u=i.objects.get(c);if(!u||u.type==="group")throw Error(`Объект #${c} не существует`);return u});if(i.set({order:a}),r){const c=this.deletedPads.map(y=>{const b=i.objects.get(y);if(b?.type!=="imageView")throw Error(`Отображение площадки #${y} не существует`);return new fb(t,b)});t._setPads(t.pads.concat(c));const u=n.map(y=>{const b=i.objects.get(y.key);if(b?.type!=="group")throw Error(`Изображение имиджа '${y.klass.name} #${y.key}' отсутствует на сцене`);const v=r.createChild(y.klass,{key:b.key},y.state);return new hb(t,v,b)}),h=t.children.concat(u);t._setChildren(h);const f=this.prevChildOrder.map(y=>{const b=h.find(v=>v.key===y);if(!b)throw Error(`Имидж #${y} не найден`);return b});t.setChildOrder(f);const g=this.deletedConnections.map(y=>{const b=i.objects.get(y.key);if(b?.type!=="line")throw Error(`Изображение связи '#${y.key}' отсутствует на сцене`);const[v,S]=y.nodes,E=i.objects.get(Math.abs(v)),T=E&&is(E);if(!T)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const R=i.objects.get(Math.abs(S)),M=R&&is(R);if(!M)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const I=r.createConnection(T.schema,M.schema,{key:b.key,aPadKey:Di(T.type==="pad"&&T.key),bPadKey:Di(M.type==="pad"&&M.key),attrib:y.attrib,vars:y.vars});return new Eg(t,I,b)}),m=t.connections.concat(g);t._setConnections(m),t._refreshChildImages()}return t._createSelection(s),new w$(this.ed,s,this.title,this.id)}}class w${constructor(t,n,r=`Создано ${n.length} объектов`,i=ci()){this.ed=t,this.title=r,this.id=i,this.keys=n.map(o=>o.key),t._sceneChanged()}undo(){const t=this.ed._scene,n=this.keys.map(r=>{const i=t.objects.get(r);if(!i)throw Error(`Объект #${r} не существует`);return i});return new zT(this.ed,n,this.title,this.id)}}class S${constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title=`Расформирована группа #${n.key}`;const i=n.children;this.groupKey=n.key,this.childKeys=n.children.map(o=>o.key),n.set({children:[]}),this.delAct=new zT(t,[n]),t._createSelection(i)}undo(){const{ed:t,childKeys:n,groupKey:r,delAct:i}=this;i.undo();const o=t._scene,s=n.map(c=>{const u=o.objects.get(c);if(!u)throw Error(`Объект #${c} не существует`);return u}),a=o.objects.get(r);if(a?.type!=="group")throw Error(`#${r} не является группой`);return a.set({children:s}),t._createSelection([a]),new C$(t,a,this.id)}}class C${constructor(t,n,r=ci()){this.ed=t,this.id=r,this.groupKey=n.key,this.title=`Сформирована группа #${this.groupKey}`,t._sceneChanged()}undo(){const{groupKey:t,ed:n}=this,r=n._scene.objects.get(t);if(r?.type!=="group")throw Error(`#${t} не является группой`);return new S$(n,r,this.id)}}class pb{constructor(t,n,r,i=ci()){this.ed=t,this.id=i,this.updatedAt=Date.now(),this.objectKey=r?.key||0,this.sceneOrder=n.filter(o=>o.key>0).map(o=>o.key),this.title=`Изменен z-порядок #${this.objectKey}`}updateTimestamp(){this.updatedAt=Date.now()}undo(){const t=this.ed._scene,n=this.sceneOrder.map(o=>{const s=t.objects.get(o);if(!s||s.type==="group")throw Error(`Объект #${o} не существует`);return s}),r=t.order;t.set({order:n}),this.ed._refreshChildImages();const i=t.order.find(o=>o.key===this.objectKey)??null;return i&&this.ed._createSelection([i]),new pb(this.ed,r,i,this.id)}}class UT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменён порядок имиджей",this.childOrder=n.map(i=>i.key)}undo(){const t=this.ed.children,n=this.childOrder.map(r=>{const i=this.ed.children.find(o=>o.key===r);if(!i)throw Error(`Имидж #${r} не найден`);return i});return this.ed.setChildOrder(n),this.ed._refreshChildImages(),new UT(this.ed,t,this.id)}}class gb{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Перемещение объекта",this.transforms=n.map(i=>({key:i.key,x:i.x,y:i.y,w:i.width,h:i.height}))}undo(){const t=this.ed._scene,n=this.transforms.map(i=>{const o=t.objects.get(i.key);if(!o)throw Error(`Объект #${i.key} не существует`);return o}),r=new gb(this.ed,n,this.id);return this.transforms.forEach((i,o)=>{const s=n[o];s.set({x:i.x,y:i.y,width:i.w,height:i.h}),is(s)?._notifySlotMoved()}),this.ed._createSelection(n),r}}class HT{constructor(t,n,r,i=null,o=ci()){this.ed=t,this.angle=r,this.id=o,this.objectKey=n.key,this.pivot=i||{x:n.x,y:n.y},this.title=`Поворот объекта на: ${_d(A0(r))}`}undo(){const{objectKey:t,angle:n,pivot:r}=this,i=this.ed._scene.objects.get(t);if(!i)throw Error(`Объект #${t} не существует`);return i.rotate(-n,r),this.ed._createSelection([i]),new HT(this.ed,i,-n,r,this.id)}}class GT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение атрибутов объекта",this.targetObjectKey=n.key,this.attribsDTO=Array.from(Wp(n,!0),i=>({objectKey:i.key,attrib:i.attrib}))}undo(){const t=this.ed._scene,n=t.objects.get(this.targetObjectKey);if(!n)throw Error(`Объект #${this.targetObjectKey} не существует`);const r=this.attribsDTO.map(({objectKey:o})=>{const s=t.objects.get(o);if(!s)throw Error(`Объект #${o} не существует`);return s}),i=new GT(this.ed,n,this.id);return this.attribsDTO.forEach(({attrib:o},s)=>{r[s].set({attrib:o},!0)}),this.ed._createSelection([n]),i}}class WT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение гипербазы",this.objectKey=n.key,this.savedHyper=n.data.hyper||null}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new WT(this.ed,n,this.id),{savedHyper:i}=this;return i?n.data.hyper=i:delete n.data.hyper,this.ed._createSelection([n]),r}}class KT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение имени объекта",this.objectKey=n.key,this.objectName=n.data.name||""}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new KT(this.ed,n,this.id),{objectName:i}=this;return i?n.data.name=i:delete n.data.name,this.ed._createSelection([n]),r}}class qT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение значения Input",this.inputObjectKey=n.key,this.inputObjectValue=n.value}undo(){const n=this.ed._scene.objects.get(this.inputObjectKey);if(n?.type!=="input")throw Error(`Объект Input #${this.inputObjectKey} не существует`);const r=new qT(this.ed,n,this.id);return n.set({value:this.inputObjectValue}),this.ed._createSelection([n]),r}}class YT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение отображаемого фрагмента",this.isComplete=!1,this.imageViewKey=n.key,this.imageViewArea=n.area}undo(){const n=this.ed._scene.objects.get(this.imageViewKey);if(n?.type!=="imageView")throw Error(`Объект ImageView #${this.imageViewKey} не существует`);const r=new YT(this.ed,n,this.id);return n.set({area:this.imageViewArea}),this.ed._createSelection([n]),r}complete(){this.isComplete=!0}}class XT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение свойств кисти",this.brushKey=n.key,this.color=n.color,this.style=n.style,this.rop=n.rop,this.hatch=n.hatch}undo(){const{ed:t}=this,r=t._scene.brushes.get(this.brushKey);if(!r)throw Error(`Кисть #${this.brushKey} не существует`);const i=new XT(this.ed,r);return r.set({color:this.color,hatch:this.hatch,rop:this.rop,style:this.style}),i}}class ZT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение свойств pen",this.penKey=n.key,this.color=n.color,this.rop=n.rop,this.style=n.style,this.width=n.width}undo(){const{ed:t}=this,r=t._scene.pens.get(this.penKey);if(!r)throw Error(`Pen #${this.penKey} не существует`);const i=new ZT(this.ed,r);return r.set({width:this.width,color:this.color,style:this.style,rop:this.rop}),i}}class QT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Установка паттерна",this.brushKey=n.key,this.brushImageKey=n.image?.key||0}undo(){const{ed:t,brushImageKey:n}=this,r=t._scene,i=r.brushes.get(this.brushKey);if(!i)throw Error(`Кисть #${this.brushKey} не существует`);let o;if(n){const a=r.imagesOpaque.get(n);if(!a)throw Error(`Изображение #${this.brushImageKey} не существует`);o=a}else o=null;const s=new QT(t,i);return i.set({image:o}),s}}class x${constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Создано изображение",this.imageKey=n.key}undo(){const n=this.ed._scene.imagesOpaque.get(this.imageKey);if(!n)throw Error(`Изображение #${this.imageKey} не существует`);return new _$(this.ed,n)}}class _${constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Удаление изображения",this.imageDTO=n.toJSON(),this.imageDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.imageDeleted)r=n.image(this.imageDTO,{opaque:!0,key:this.imageDTO.key});else if(r=n.imagesOpaque.get(this.imageDTO.key),!r)throw Error(`Изображение #${this.imageDTO.key} не существует`);return new x$(t,r)}}class JT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Установка Pen",this.lineKey=n.key,this.linePenKey=n.pen?.key||0}undo(){const{ed:t,linePenKey:n}=this,r=t._scene,i=r.objects.get(this.lineKey);if(i?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let o;if(n){const a=r.pens.get(n);if(!a)throw Error(`Изображение #${this.linePenKey} не существует`);o=a}else o=null;const s=new JT(t,i);return i.set({pen:o}),s}}class mb{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Создан Pen",this.penKey=n.key}undo(){const n=this.ed._scene.pens.get(this.penKey);if(!n)throw Error(`Pen #${this.penKey} не существует`);return new mb(this.ed,n)}}class fme{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Удаление Pen",this.penDTO=n.toJSON(),this.penDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.penDeleted)r=n.pen(this.penDTO);else if(r=n.pens.get(this.penDTO.key),!r)throw Error(`Pen #${this.penDTO.key} не существует`);return new mb(t,r)}}class eM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Установка Brush",this.lineKey=n.key,this.lineBrushKey=n.brush?.key||0}undo(){const{ed:t,lineBrushKey:n}=this,r=t._scene,i=r.objects.get(this.lineKey);if(i?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let o;if(n){const a=r.brushes.get(n);if(!a)throw Error(`Кисть #${this.lineBrushKey} не существует`);o=a}else o=null;const s=new eM(t,i);return i.set({brush:o}),s}}class vb{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Создан Brush",this.brushKey=n.key}undo(){const n=this.ed._scene.brushes.get(this.brushKey);if(!n)throw Error(`Brush #${this.brushKey} не существует`);return new vb(this.ed,n)}}class pme{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Удаление Brush",this.brushDTO=n.toJSON(),this.brushDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.brushDeleted)r=n.brush(this.brushDTO);else if(r=n.brushes.get(this.brushDTO.key),!r)throw Error(`Изображение #${this.brushDTO.key} не существует`);return new vb(t,r)}}class tM{constructor(t,n=ci()){this.commits=t,this.id=n,this.title=t[0].title}undo(){const t=kq(this.commits,n=>n.undo());return new tM(t,this.id)}}class gme{constructor(t){this.ed=t,this.canUndo=!1,this.canRedo=!1,this.redoCommits=[],this.undoCommits=[],this.pendingEdit=null,this.pendingMode=!1,this.lastActionID=0,this.savedActionID=0,this.saveTaskQueued=!1,this.batchEdits=[],this.batchMode=!1,Rt(this,{hasChanges:mi,lastActionID:Be.ref,savedActionID:Be.ref,canUndo:Be.ref,canRedo:Be.ref})}get hasChanges(){return this.savedActionID!==this.lastActionID}markUnchanged(){this.savedActionID=this.lastActionID}saveCreatedObjects(t){this.finishActions(),this.addEdit(new w$(this.ed,t))}deleteObjects(t){this.finishActions(),this.addEdit(new zT(this.ed,t))}saveNewGroup(t){this.finishActions(),this.addEdit(new C$(this.ed,t))}ungroupGroup(t){this.finishActions(),this.addEdit(new S$(this.ed,t))}saveTransform(t){this.finishActions()&&this.addEdit(new gb(this.ed,[t]))}savePositions(t){this.finishActions()&&this.addEdit(new gb(this.ed,t))}saveRotation(t,n,r){this.finishActions(),this.addEdit(new HT(this.ed,t,n,r))}saveHyper(t){this.finishActions(),this.addEdit(new WT(this.ed,t))}saveAttrib(t){this.finishActions(),this.addEdit(new GT(this.ed,t))}saveName(t){this.finishActions(),this.addEdit(new KT(this.ed,t))}savePoints(t){this.finishActions()}saveArrows(t){this.finishActions()}saveArea(t){this.finishActions()&&this.addEdit(new YT(this.ed,t))}saveInputValue(t){this.finishActions(),this.addEdit(new qT(this.ed,t))}savePenProps(t){this.finishActions()&&this.addEdit(new ZT(this.ed,t))}saveBrushProps(t){this.finishActions()&&this.addEdit(new XT(this.ed,t))}saveBrushImage(t){this.finishActions(),this.addEdit(new QT(this.ed,t))}saveCreatedPen(t){this.finishActions(),this.addEdit(new mb(this.ed,t))}saveCreatedBrush(t){this.finishActions(),this.addEdit(new vb(this.ed,t))}saveCreatedImage(t){this.finishActions(),this.addEdit(new x$(this.ed,t))}deleteImage(t){this.finishActions(),this.addEdit(new _$(this.ed,t))}deletePen(t){this.finishActions(),this.addEdit(new fme(this.ed,t))}saveLinePen(t){this.finishActions(),this.addEdit(new JT(this.ed,t))}deleteBrush(t){this.finishActions(),this.addEdit(new pme(this.ed,t))}saveLineBrush(t){this.finishActions(),this.addEdit(new eM(this.ed,t))}saveSceneOrder(t,n=null,r=300){this.finishActions();const i=this.undoCommits.at(-1);if(i instanceof pb&&Date.now()-i.updatedAt<r){i.updateTimestamp();return}const o=new pb(this.ed,t,n);this.addEdit(o)}saveChildOrder(){this.finishActions(),this.addEdit(new UT(this.ed,this.ed.children))}separateCommit(){this.undoCommits.at(-1)?.complete?.()}undo(){const t=this.undoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof FT&&this.undoCommits.push(t),r}this.redoCommits.push(n),this.lastActionID=this.undoCommits.at(-1)?.id||0,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}redo(){const t=this.redoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof FT&&this.redoCommits.push(t),r}this.undoCommits.push(n),this.lastActionID=n.id,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}batch(t){this.batchMode=!0;const n=t();this.batchMode=!1;const{batchEdits:r}=this;if(this.batchEdits=[],!this.finishActions())return n;let i;return r.length>1?i=new tM(r):i=r[0],this.addEdit(i),n}pendNextEdit(){this.pendingMode=!0}pushPendingEdit(){this.pendingMode=!1;const{pendingEdit:t}=this;t&&(this.pendingEdit=null,this.addEdit(t))}clearPendingEdit(){this.pendingMode=!1,this.pendingEdit=null}addEdit(t){if(this.batchMode){this.batchEdits.push(t);return}if(this.pendingMode){const n=this.pendingEdit;n&&(this.addEditToStack(n),console.warn(`Действие '${n.title}' было завершено автоматически.
Оно должно быть завершено вручную через '${this.pushPendingEdit.name}' или '${this.clearPendingEdit.name}'`)),this.pendingEdit=t;return}this.addEditToStack(t)}addEditToStack(t){this.undoCommits.push(t),this.canUndo=!0,this.redoCommits=[],this.canRedo=!1,this.lastActionID=t.id,this.saveChanges()}saveChanges(){this.saveTaskQueued||(this.saveTaskQueued=!0,queueMicrotask(()=>{this.saveTaskQueued=!1,this.ed._saveChanges()}))}finishActions(){return this.batchMode?!0:this.pendingEdit?!1:(this.ed._actions.finishCurrent(),!0)}}class yb{constructor(t,n){this.scene=t,this._jf=n,n.key>0&&n.type==="group"?this.children=n.children.map(r=>new yb(t,r)):this.children=[],this.isChildImage=n.key<0,this.isChildIcon=!!n.data[s$],Rt(this,{select:_e})}get key(){return this._jf.key}get type(){return this._jf.type}get name(){return this._jf.data.name||""}select(){this.scene._createSelection([this._jf],!0)}}function nM(e,t){return Array.from({length:t-e+1},(n,r)=>{const i=r+e;return[i,i.toString()]})}const bb=nM(0,15),E$=nM(16,23),mme=nM(24,31);class T${constructor(t,n,{canResize:r=!0,canMove:i=!0,canRotate:o=!0,canSetName:s=!0,canSetHyper:a=!0,layerRange:c=bb}){this.scene=t,this._canResize=r,this.canMove=i,this.canRotate=o,this.canSetName=s,this.canSetHyper=a,this.layerRange=c;const{x:u,y:h,width:f,height:g,data:m,attrib:y}=n,{name:b="",hyper:v=null}=m,S=Xv(Md(y),c[0][0],c.at(-1)[0]),E=!!(y&zp);this.x=u,this.y=h,this.width=f,this.height=g,this.name=b,this.layer=S,this.isUnselectable=E,this.hyper=v,Rt(this,{x:Be.ref,y:Be.ref,width:Be.ref,height:Be.ref,name:Be.ref,isUnselectable:Be.ref,layer:Be.ref,hyper:Be.ref,set:_e,rotate:_e,delete:_e})}destroy(){}onTransformChanged(){}get key(){return this._jf.key}get canResize(){return this._canResize}set({x:t=this.x,y:n=this.y,width:r=this.width,height:i=this.height,name:o=this.name,layer:s=this.layer,isUnselectable:a=this.isUnselectable,hyper:c=this.hyper}){const u=this._jf;if(r=Math.max(r,1),i=Math.max(i,1),(this.x!==t||this.y!==n||this.width!==r||this.height!==i)&&(this.x=t,this.y=n,this.width=r,this.height=i,this.scene._history.saveTransform(u),u.set({x:t,y:n,width:r,height:i}),this.onTransformChanged(),is(u)?._notifySlotMoved(),Wd(u)?._notifySelectedObjectTransformed()),this.name!==o&&(this.name=o,this.scene._history.saveName(u),o?u.data.name=o:delete u.data.name),this.layer!==s||this.isUnselectable!==a){this.layer=s,this.isUnselectable=a;const h=(a?zp:0)|tC(s);this.scene._history.saveAttrib(u),u.set({attrib:h})}this.hyper!==c&&(this.hyper=c,this.scene._history.saveHyper(u),c?u.data.hyper=c:delete u.data.hyper)}rotate(t,n){if(t===0)return;const r=this._jf;this.scene._history.saveRotation(r,t,n),r.rotate(t,n),this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,Wd(r)?._notifySelectedObjectTransformed()}delete(){Wd(this._jf)?.reset(),this.scene._history.deleteObjects([this._jf])}}class Tg extends T${constructor(t,n,r={}){super(t,n,r),this._z=n.scene.order.indexOf(n),Rt(this,{_z:Be.ref,moveToTop:_e,moveToBottom:_e,increaseZ:_e,decreaseZ:_e})}get z(){return this._z+1}setZ(t){if(this._z===t||t<0)return;const n=this._jf.scene,r=n.order,i=L0(r,t,this._jf);n.set({order:i}),this.scene._refreshChildImages();const o=n.order.indexOf(this._jf);o!==this._z&&(this._z=o,this.scene._history.saveSceneOrder(r,this._jf))}moveToTop(){this.setZ(this._jf.scene.order.length-1)}moveToBottom(){this.setZ(0)}increaseZ(){this.setZ(this._z+1)}decreaseZ(){this.setZ(this._z-1)}}class M${constructor(t,n){const{color:r,rop:i,style:o,width:s}=n;this.style=o,this.color=r,this.rop=i,this.width=s,this.scene=t,this._jf=n,Rt(this,{style:Be.ref,color:Be.ref,rop:Be.ref,width:Be.ref,set:_e})}set({style:t=this._jf.style,color:n=this.color,rop:r=this.rop,width:i=this.width}){this.style=t,this.color=n,this.rop=r,this.width=i,this.scene._history.savePenProps(this._jf),this._jf.set({color:n,rop:r,style:t,width:i})}}class O${constructor(t,n,r){const{color:i,rop:o,style:s,hatch:a,image:c}=n;this.style=s,this.color=i,this.rop=o,this.hatch=a,this.image=c,this.scene=t,this._jf=n,this.target=r,Rt(this,{color:Be.ref,rop:Be.ref,style:Be.ref,hatch:Be.ref,image:Be.ref,set:_e,setImage:_e})}set({style:t=this.style,color:n=this.color,rop:r=this.rop,hatch:i=this.hatch}){const o=this.scene._history;o.batch(()=>{this.color=n,this.style=t,this.rop=r,this.hatch=i;const s=this._jf;if(o.saveBrushProps(s),s.set({color:n,rop:r,style:t,hatch:i}),s.image&&t!==ct.BS_PATTERN){this.image=null;const a=s.image;o.saveBrushImage(s),s.set({image:null}),o.deleteImage(a)}})}setImage(t){const n=this.scene._history;n.batch(()=>{this.image=t;const r=this._jf,i=this.scene._scene.image(t,{opaque:!0});n.saveCreatedImage(i);const o=r.image;n.saveBrushImage(r),r.set({image:i}),o&&n.deleteImage(o)})}}const yu=5;class vme extends Tg{constructor(t,n){const r=cb(n);super(t,n,{canMove:!r,canResize:!r,canRotate:!r,canSetName:!r,canSetHyper:!r,layerRange:r?mme:bb}),this.isPointsEditModeActive=!1,this.type="line",this.hasAngle=!1,this.pen=n.pen&&new M$(t,n.pen),this.brush=n.brush&&new O$(t,n.brush,n),this.start=n.start,this.end=n.end,this.connection=r,this._jf=n;const i=t._tools,o=t._scene,s=i.blackSelectionBorderPen,a=i.redBrush,c=gc|El|la,u=[],h=[],f=yu*2;for(let g=0;g<n.length;++g){const m=n.point(g);u.push(m);const y=o.line([0,0,f,0,f,f,0,f],{key:uo,x:m.x-yu,y:m.y-yu,brush:a,pen:s,attrib:c});h.push(y)}o.set({order:o.order.concat(h)}),this.points=u,this.markers=h,Rt(this,{pen:Be.ref,brush:Be.ref,start:Be.ref,end:Be.ref,points:Be.ref,isPointsEditModeActive:Be.ref,createPen:_e,removePen:_e,createBrush:_e,removeBrush:_e,setArrows:_e,addPoint:_e,removePoint:_e,setPoint:_e,setPointsEditMode:_e})}destroy(){const t=this.scene._scene;t.set({order:t.order.filter(n=>!this.markers.includes(n))})}setPointsEditMode(t){this.isPointsEditModeActive=t;const{selection:n}=this.scene;if(n?.type==="single")if(n.setVisible(!t),t){const r=this.markers.length-1;this.markers.forEach((i,o)=>{i.set({attrib:i.attrib&-6}),i.data[Gd]={selection:n,direction:"both",lineEditorIndex:o,notifyPositionChanged:this.alignPointsToShape.bind(this,i),complete:Di((o===0||o===r)&&this.complete.bind(this,i))}})}else this.markers.forEach(r=>r.set({attrib:r.attrib|(El|la)})),n._notifySelectedObjectTransformed()}complete(t){}alignPointsToShape(t=null){const n=this._jf,r=[];for(let i=0;i<n.length;++i){const o=n.point(i);r.push(o);const s=this.markers[i];s!==t?s.set({x:o.x-yu,y:o.y-yu}):n.setPoint(i,{x:t.x+yu,y:t.y+yu})}this.points=r,this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.connection?.updateShift()}onTransformChanged(){this.alignPointsToShape()}createPen(t){if(this.pen)return;const n=this.scene._scene.pen(t),r=this._jf,i=this.scene._history;i.batch(()=>{i.saveCreatedPen(n),i.saveLinePen(r)}),r.set({pen:n}),this.pen=new M$(this.scene,n)}removePen(){const{pen:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLinePen(n),n.set({pen:null}),r.deletePen(t._jf)}),this.pen=null}createBrush(t){if(this.brush)return;const n=this.scene._scene.brush(t),r=this._jf,i=this.scene._history;i.batch(()=>{i.saveLineBrush(r),r.set({brush:null}),i.saveCreatedBrush(n)}),r.set({brush:n}),this.brush=new O$(this.scene,n,this._jf)}removeBrush(){const{brush:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLineBrush(n),n.set({brush:null}),r.deleteBrush(t._jf)}),this.brush=null}setArrows({start:t=this.start,end:n=this.end}){this.start=t,this.end=n,this.scene._history.saveArrows(this._jf),this._jf.set({start:t,end:n})}onSinglePointChanged(){this.alignPointsToShape();const t=this._jf;this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,Wd(t)?._notifySelectedObjectTransformed()}addPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.addPoint({x:t,y:n},r);const i=yu*2,o=this.scene._tools,s=this.scene._scene,a=s.line([0,0,i,0,i,i,0,i],{key:uo,x:t,y:n,brush:o.redBrush,pen:o.blackSelectionBorderPen});this.markers.push(a),s.set({order:s.order.concat(a)}),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive)}setPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.setPoint(t,{x:n,y:r}),this.connection?.updateShift(),this.onSinglePointChanged()}removePoint(t){this.scene._history.savePoints(this._jf),this._jf.removePoint(t)&&(this.markers.splice(t,1)[0].delete(!0),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive))}}class yme extends Tg{constructor(t,n){const r=qge(n);super(t,n,{canResize:!r,canRotate:!r,layerRange:r?E$:bb}),this.type="imageView",this.hasAngle=!0,this.pad=r,this.angle=n.angle,this.area=n.area,this._jf=n,Rt(this,{angle:Be.ref,area:Be.ref,setAngle:_e,setArea:_e})}get image(){return this._jf.image}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,Wd(n)?._notifySelectedObjectTransformed()}setArea(t){this.area=t,this.scene._history.saveArea(this._jf),this._jf.set({area:t})}}class bme extends Tg{constructor(t,n){super(t,n),this.type="textView",this.hasAngle=!0,this._jf=n,this.angle=n.angle,Rt(this,{angle:Be.ref,setAngle:_e})}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,Wd(n)?._notifySelectedObjectTransformed()}}class wme extends Tg{constructor(t,n){super(t,n,{canRotate:!1,canSetHyper:!1}),this.type="input",this.hasAngle=!1,this._jf=n,this.value=n.value,Rt(this,{value:Be.ref,setValue:_e})}get inputType(){return this._jf.inputType}setValue(t){this.value=t,this.scene._history.saveInputValue(this._jf),this._jf.set({value:t})}}class Sme extends Tg{constructor(t,n){super(t,n,{canRotate:!1}),this.type="videoView",this.hasAngle=!1,this._jf=n}}class Cme extends T${constructor(t,n){const r=xg(n);super(t,n,{canRotate:!r,layerRange:r?E$:bb}),this.type="group",this.hasAngle=!1,this._jf=n,this.child=r,this.children=n.children.map(i=>new yb(t,i)),Rt(this,{ungroup:_e,canResize:mi})}get canResize(){return this.child?this.child.schema.klass.image?.resizable||!1:!0}get canUngroup(){return!this.child}ungroup(){fa.assert(this.canUngroup);const t=this._jf;Wd(t)?.reset();const n=t.children;this.scene._history.ungroupGroup(t),this.scene._createSelection(n)}}class xme{constructor(t,n){this._reactKey=vP(),this.type="_pseudoGroup",this._jf=t.map(o=>o._jf),this.objects=t,this.selection=n;const{x:r,y:i}=uy(this._jf);this.x=r,this.y=i,this.canCreateGroup=t.filter(o=>!Cg(o._jf)).length>1,this.canCreateConnection=t.length===2&&t.every(o=>is(o._jf)),Rt(this,{x:Be.ref,y:Be.ref,createConnection:_e,createGroup:_e,delete:_e,set:_e})}get canMove(){return!0}set({x:t=this.x,y:n=this.y}){const r=t-this.x,i=n-this.y;r===0&&i===0||(this.x=t,this.y=n,this.selection.scene._history.savePositions(this._jf),this._jf.forEach(o=>{const s=o.x+r,a=o.y+i;o.set({x:s,y:a}),is(o)?._notifySlotMoved()}),this.selection._notifySelectedObjectTransformed())}createGroup(){fa.assert(this.canCreateGroup);const t=this.selection.scene;this.selection.reset();const n=t._scene.group(this._jf.filter(r=>!Cg(r)));t._history.saveNewGroup(n),t._createSelection([n])}createConnection(){fa.assert(this.canCreateConnection),this.selection.scene.startCreateConnection()}delete(){this.selection.reset(),this.selection.scene._history.deleteObjects(this._jf)}}function _me(e,t){switch(t.type){case"line":return new vme(e,t);case"imageView":return new yme(e,t);case"textView":return new bme(e,t);case"input":return new wme(e,t);case"videoView":return new Sme(e,t);case"group":return new Cme(e,t)}}class Eme{constructor(t,n){this.target=n;const r=t._scene,i=t._tools;this.scene=r;const o=i.blueSelectionShadowBrush,s=n.objects.map(({_jf:a})=>{const c=r.line([0,0,a.width,0,a.width,a.height,0,a.height],{key:uo,attrib:gc|la,x:a.x,y:a.y,brush:o});return BT(a)&&c.rotate(a.angle,a),c});r.set({order:r.order.concat(s)}),this.shadows=s}align(){const{objects:t}=this.target;this.shadows.forEach((n,r)=>{const i=t[r]._jf,{x:o,y:s}=i;n.set({x:o,y:s}),BT(i)?n.rotate(-i.angle).set({x:o,y:s}).rotate(i.angle,i):n.set({x:o,y:s})})}toTop(){const{shadows:t,scene:n}=this,r=n.order.filter(i=>!t.includes(i)).concat(t);n.set({order:r})}remove(){const{shadows:t,scene:n}=this,r=n.order.filter(i=>!t.includes(i));n.set({order:r})}}class Tme{constructor(t,n){this.type="multi",this.scene=t,n.forEach(i=>i._jf.data[vu]=this);const r=this.object=new xme(n,this);this.shadow=new Eme(t,r),Rt(this,{reset:_e})}setVisible(t){}reset(){this.shadow.remove(),this.object.objects.forEach(({_jf:t})=>delete t.data[vu]),this.scene._notifySelectionRemoved()}_notifySelectedObjectTransformed(){this.shadow.align()}_notifySceneOrderChanged(){this.shadow.toTop()}_getJF(){return this.object._jf}}const vi=10,R$=Math.PI*2;class Mme{constructor(t){const{scene:n}=t,r=this.scene=n._scene,i=n._tools,o=i.blackSelectionBorderPen,s=i.graySelectionBorderBrush,a=gc|la,{a:c,b:u}=t,h=i.makeBorder(c.slot,!0),f=i.makeBorder(u.slot,!0),g=[h,f],{slot:m}=t;if(m.length===2){const{x:y,y:b}=t.slot.point(0),{x:v,y:S}=t.slot.point(1),E=(y+v+vi)/2,T=(b+S+vi)/2,R=r.line([0,0,vi,0,vi,vi,0,vi],{key:uo,x:E-vi,y:T-vi,brush:s,pen:o,attrib:a});g.push(R)}r.set({order:r.order.concat(g)}),this.objects=g}setVisible(t){}align(){}toTop(){const{scene:t,objects:n}=this,r=t.order.filter(i=>!n.includes(i)).concat(n);t.set({order:r})}remove(){const{scene:t,objects:n}=this,r=t.order.filter(i=>!n.includes(i));t.set({order:r})}}class Ome{constructor(t,n){this.prevAngle=0;const{scene:r}=n;this.selection=t,this.o=n,this.scene=r;const i=r._scene,o=r._tools,s=n.canResize&&(!n.hasAngle||n.angle%R$===0),a=s?o.blackSelectionBorderPen:null,c=s?o.graySelectionBorderBrush:o.transparentSelectionBorderBrush,u=gc|(s?0:la),h=(v,S,E="both")=>{const T=i.line([0,0,vi,0,vi,vi,0,vi],{key:uo,x:v,y:S,brush:c,pen:a,attrib:u});return T.data[Gd]={selection:t,direction:E,notifyPositionChanged:this.resizeWith.bind(this,T)},T},f=n.x-vi,g=n.y-vi,m=n.width+vi,y=n.height+vi,b=[h(f,g),h(f+m/2,g,"vert"),h(f+m,g),h(f+m,g+y/2,"horiz"),h(f+m,g+y),h(f+m/2,g+y,"vert"),h(f,g+y),h(f,g+y/2,"horiz")];n.canRotate&&n.hasAngle&&(b.forEach(v=>v.rotate(n.angle,n)),this.prevAngle=n.angle),i.set({order:i.order.concat(...b)}),this.border=b}setVisible(t){t?this.border.forEach(n=>n.set({attrib:n.attrib&-6})):this.border.forEach(n=>n.set({attrib:n.attrib|(El|la)}))}align(){const{o:t,border:n}=this,r=t.x-vi,i=t.y-vi,o=t.width+vi,s=t.height+vi,a=t.canRotate&&t.hasAngle;if(a){const c=t.angle%R$;for(const u of this.border){u.rotate(-this.prevAngle);let{attrib:h}=u;c?h|=la:h&=~la;const f=this.scene._tools;u.set({attrib:h,pen:c?null:f.blackSelectionBorderPen,brush:c?f.transparentSelectionBorderBrush:f.graySelectionBorderBrush})}}n[0].set({x:r,y:i}),n[1].set({x:r+o/2,y:i}),n[2].set({x:r+o,y:i}),n[3].set({x:r+o,y:i+s/2}),n[4].set({x:r+o,y:i+s}),n[5].set({x:r+o/2,y:i+s}),n[6].set({x:r,y:i+s}),n[7].set({x:r,y:i+s/2}),a&&(this.border.forEach(c=>c.rotate(t.angle,t)),this.prevAngle=t.angle)}toTop(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(i=>!t.includes(i)).concat(t);n.set({order:r})}remove(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(i=>!t.includes(i));n.set({order:r})}resizeWith(t){const n=this.border,r=[n[0],n[1],n[2]],i=[n[2],n[3],n[4]],o=[n[4],n[5],n[6]],s=[n[6],n[7],n[0]],{x:a,y:c}=t;r.includes(t)&&r.forEach(v=>v.set({y:c})),o.includes(t)&&o.forEach(v=>v.set({y:c})),s.includes(t)&&s.forEach(v=>v.set({x:a})),i.includes(t)&&i.forEach(v=>v.set({x:a})),r[1].set({x:(r[0].x+r[2].x)/2}),o[1].set({x:(o[0].x+o[2].x)/2}),s[1].set({y:(s[0].y+s[2].y)/2}),i[1].set({y:(i[0].y+i[2].y)/2});const u=s.reduce((v,S)=>Math.min(v,S.x),1/0),h=i.reduce((v,S)=>Math.max(v,S.x),-1/0),f=r.reduce((v,S)=>Math.min(v,S.y),1/0),g=o.reduce((v,S)=>Math.max(v,S.y),-1/0),m=h-u-vi,y=g-f-vi,{o:b}=this;this.selection._notifyBorderRectChanged({x:m<1?b.x:u+vi,y:y<1?b.y:f+vi,w:Math.max(m,1),h:Math.max(y,1)}),(m<1||y<1)&&this.align()}}class Rme{constructor(t,n){this.type="single",this.ignoreObjectTransforms=!1,this.scene=t,this.object=n,n._jf.data[vu]=this;const r=n.type==="line"&&n.connection;r?this.border=new Mme(r):this.border=new Ome(this,n),Rt(this,{reset:_e})}setVisible(t){this.border.setVisible(t)}reset(){delete this.object._jf.data[vu],this.border.remove(),this.scene._notifySelectionRemoved(),this.object.destroy()}_notifyBorderRectChanged(t){const{x:n,y:r,w:i,h:o}=t;this.ignoreObjectTransforms=!0,this.object.set({x:n,y:r,width:i,height:o}),this.ignoreObjectTransforms=!1}_notifySelectedObjectTransformed(){this.ignoreObjectTransforms||this.border.align()}_notifySceneOrderChanged(){this.border.toTop()}_getJF(){return[this.object._jf]}}const I$=65535,k$=255<<16,P$=255<<24,Ime=1,kme=2,Pme=4,Dme=new jp(window),wb=new Set;function Ame(){return wb.size?(wb.forEach(e=>e._scene.render()),!0):!1}function Lme(e){wb.add(e),Dme.run(Ame)}function D$(e){wb.delete(e)}class rM{constructor(t,{fileContentTransfer:n=null,fileUploader:r=null,schema:i=null}={}){this.onNodeSelected=new gi,this.onSaved=new gi,this.selection=null,this.textEditor=null,this.lastCursorX=0,this.lastCursorY=0,this.viewScale=1,this._actions=new hme(this),this._history=new gme(this),this.cameraMoveStart=null,this.prevPicked=null,this.highlightedItem=null,this.lastCutId="",this.pointerInside=!1,this.focusAfterViewMounted=null,this.isViewMounted=!1,this._childImageChanged=()=>{this._refreshChildImages(),this.selection&&this._createSelection(this.selection._getJF()),this.connections.forEach(u=>u._notifyTargetMoved())},this.handleWheel=u=>{if(u.preventDefault(),u.stopPropagation(),Ed.zoomWithCtrl&&!u.ctrlKey){const y=this._scene;this.setSceneXY(y.x+Math.round(u.deltaX*.5),y.y+Math.round(u.deltaY*.5));return}const f=this.viewScale,g=Math.sign(u.deltaY)*Math.max(f**2,1)*.1,m=f-g;this._setScale(m,u)},this.handleCopy=u=>{if(!this.isFocused)return;u.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&v$(u.clipboardData,h)},this.handleCut=u=>{if(!this.isFocused)return;u.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&(v$(u.clipboardData,h),u.clipboardData.setData(`editor-cut-${this.lastCutId=PT()}`,"true")),this.selection?.object.delete()},this.handlePaste=u=>{this.isFocused&&(u.preventDefault(),this.insertFromDropOrPaste(u.clipboardData,{x:this.lastCursorX,y:this.lastCursorY}))},this.handleDrop=u=>{this.handleDragLeave(),u.preventDefault(),u.stopPropagation(),this.focus();const h=this._scene.x+Math.round(u.offsetX),f=this._scene.y+Math.round(u.offsetY);this.insertFromDropOrPaste(u.dataTransfer,{x:h,y:f})},this.handleDragOver=u=>{u.preventDefault();const h=u.dataTransfer;h.dropEffect="none";const f=this.fileContentTransfer?.get(h);if(f){(f.image||f.scene||this.schema&&f.klass?.isInLibrary)&&(h.dropEffect="link");return}const{items:g,types:m}=h;if(g.length&&g[0].type.startsWith("image/")||m.some(y=>y==="text/plain")){h.dropEffect="copy";return}},this.handleDragEnter=u=>{this.handleDragOver(u),u.dataTransfer.dropEffect!=="none"&&this.view.parentElement?.style.setProperty("outline","dashed orange 2px")},this.handleDragLeave=()=>{this.view.parentElement?.style.setProperty("outline","none")},this.handlePointer=u=>{if(!u.isPrimary)return;u.preventDefault(),u.stopPropagation();const h=Math.round(u.offsetX),f=Math.round(u.offsetY),g=this._scene.x+h,m=this._scene.y+f;if(u.type==="pointerdown"&&(this.view.setPointerCapture(u.pointerId),this.focus()),u.ctrlKey?this._tryHighlight(g,m,u.shiftKey):this._removeHighlights(),u.buttons&kme){this.cameraMoveStart||={x:g,y:m};const v=this.cameraMoveStart.x-h,S=this.cameraMoveStart.y-f;this._scene.set({x:v,y:S})}else this.cameraMoveStart=null,this.lastCursorX=g,this.lastCursorY=m;const y=this._actions;if(!y.canHandlePointer)return;if(u.buttons&Pme){y.inAction?y.finishCurrent():this.selection?.reset();return}const b=(u.type==="pointermove"||u.buttons&Ime)&&u.type!=="pointercancel"?u.type:"pointerup";y.handlePointer({type:b,ctrlKey:u.ctrlKey,shiftKey:u.shiftKey,sceneX:g,sceneY:m})},this.handlePointerEnter=()=>{this.pointerInside=!0},this.handlePointerLeave=()=>{this.pointerInside=!1,this._removeHighlights()},this.handleWindowKeyboardEvent=u=>{!u.repeat&&this.pointerInside&&(u.key==="Control"||u.key==="Shift")&&(u.ctrlKey?this._tryHighlight(this.lastCursorX,this.lastCursorY,u.shiftKey):this._removeHighlights())},this.handleKeyboard=u=>{this._handleKeyboard(u)&&(u.preventDefault(),u.stopPropagation())};const o=this._scene=new o$(t),{domElement:s}=o;s.tabIndex=-1,s.style.outline="none",s.style.transformOrigin="top left",o.set({disableInputs:!0});const{hiddenLayers:a,selectUnselectable:c}=o;this.hideOther=!!(a&I$),this.hideChildren=!!(a&k$),this.hideConnections=!!(a&P$),this.selectUnselectable=c,this._tools=new Kge(o),this.fileContentTransfer=n,this.fileUploader=r,i?(this.schema=i,this.pads=ns(o.order,u=>u.type==="imageView"&&u.image.src===Z0.src&&new fb(this,u)),this.children=i.children.list.map(u=>{const h=o.objects.get(u.key);if(h?.type!=="group")throw Error(`Изображение имиджа '${u}' отсутствует на сцене`);return new hb(this,u,h)}),this.connections=i.childConnections.list.map(u=>{const h=o.objects.get(u.key);if(h?.type!=="line")throw Error(`Изображение связи '#${u.key}' отсутствует на сцене`);return new Eg(this,u,h)})):(this.schema=null,this.pads=[],this.children=[],this.connections=[]),Rt(this,{schema:Be.ref,lastCursorX:Be.ref,lastCursorY:Be.ref,viewScale:Be.ref,selection:Be.ref,children:!1,pads:!1,connections:!1,hideChildren:Be.ref,hideConnections:Be.ref,hideOther:Be.ref,selectUnselectable:Be.ref,textEditor:Be.ref,handleDrop:_e,handlePointer:_e,handleCopy:_e,handleCut:_e,handlePaste:_e,handlePointerLeave:_e,handleWindowKeyboardEvent:_e,handleKeyboard:_e,handleWheel:_e,setLayers:_e,setChildOrder:_e,cancel:_e,undo:_e,redo:_e,save:_e,selectAll:_e,selectNext:_e,startCreateConnection:_e,startCreateText:_e,startCreateInput:_e,startCreateRect:_e,startCreateLine:_e,startCreateButton:_e,openTextEditor:_e,startReorderChildren:_e,replaceSchema:_e,onViewMounted:_e,onViewUnmounted:_e,pendNextEdit:_e,pushPendingEdit:_e,resetScale:_e,uploadFile:Mi,focus:!1,dispose:!1}),s.addEventListener("contextmenu",gP),s.addEventListener("wheel",this.handleWheel,{passive:!1}),s.addEventListener("dragover",this.handleDragOver),s.addEventListener("dragenter",this.handleDragEnter),s.addEventListener("dragleave",this.handleDragLeave),s.addEventListener("drop",this.handleDrop),s.addEventListener("pointerdown",this.handlePointer),s.addEventListener("pointermove",this.handlePointer),s.addEventListener("pointerup",this.handlePointer),s.addEventListener("pointercancel",this.handlePointer),s.addEventListener("pointerenter",this.handlePointerEnter),s.addEventListener("pointerleave",this.handlePointerLeave),s.addEventListener("keydown",this.handleKeyboard),s.addEventListener("keyup",this.handleKeyboard),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste),document.addEventListener("cut",this.handleCut),window.addEventListener("keydown",this.handleWindowKeyboardEvent),window.addEventListener("keyup",this.handleWindowKeyboardEvent)}dispose(){this.children.forEach(t=>t._unsubscribe()),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("cut",this.handleCut),window.removeEventListener("keydown",this.handleWindowKeyboardEvent),window.removeEventListener("keyup",this.handleWindowKeyboardEvent),D$(this),this._scene.dispose()}resetScale(){this._setScale(1)}replaceSchema(t){if(fa.assert(this.schema),t!==this.schema){if(t.klass!==this.schema.klass)throw Error("Типы имиджей не совпадают");this.schema=t,this.pads.forEach(n=>n._replaceSchema()),t.children.list.forEach((n,r)=>{this.children[r]._replaceSchema(n)}),t.childConnections.list.forEach((n,r)=>{this.connections[r]._replaceConnection(n)})}}setLayers({hideChildren:t=this.hideChildren,hideConnections:n=this.hideConnections,hideOther:r=this.hideOther,selectUnselectable:i=this.selectUnselectable}){if(this.hideOther!==r||this.hideChildren!==t||this.hideConnections!==n){this.hideChildren=t,this.hideConnections=n,this.hideOther=r;const o=(r?I$:0)|(t?k$:0)|(n?P$:0);this._scene.set({hiddenLayers:o}),this._saveChanges()}this.selectUnselectable!==i&&(this._scene.set({selectUnselectable:i}),this.selectUnselectable=i)}setChildOrder(t){const{schema:n}=this;n&&(n.reorderChildren(t.map(r=>r.schema)),this.children=t)}get hasChanges(){return this._history.hasChanges}get inAction(){return this._actions.inAction}get isInChildReorderMode(){return this._actions.isInChildReorderMode}get canUndo(){return this._history.canUndo}undo(){this._history.undo()}get canRedo(){return this._history.canRedo}redo(){this._history.redo()}cancel(){this._actions.finishCurrent()}_abort(){}selectAll(){this._actions.finishCurrent();const t=p$(this._scene);t.length&&this._createSelection(t)}selectNext(t){this._actions.finishCurrent();const n=p$(this._scene);if(!n.length)return;const r=this.selection?._getJF()[0].key||0,i=n.sort((s,a)=>t?a.key-s.key:s.key-a.key),o=i.find(s=>t?s.key<r:s.key>r)||i[0];this._createSelection([o],!0)}startCreateConnection(){if(!this.schema)return;this._abort(),this.setLayers({hideConnections:!1,hideChildren:!1});let t=null,n=null;const r=this.selection?._getJF();if(r&&(r.length===1||r.length===2)&&(t=is(r[0]),n=r.length===2?is(r[1]):null),t&&n){const i=this.connections.find(c=>c.includes(t)&&c.includes(n));if(i){this._createSelection([i.slot]);return}const o=this.createConnectionSlot(t,n),s=this.schema.createConnection(t.schema,n.schema,{key:o.key,aPadKey:Di(t.type==="pad"&&t.key),bPadKey:Di(n.type==="pad"&&n.key)});this._createConnection(o,s);const a=[o];this._history.saveCreatedObjects(a),this._createSelection(a)}else{this.selection?.reset();const i=t||n;this._actions.startCreateConnection(i)}}startReorderChildren(){this.schema&&(this.selection?.reset(),this.setLayers({hideChildren:!1}),this._actions.startReorderChildren())}startCreateLine(){this.setLayers({hideOther:!1}),this._actions.startCreateLine()}startCreateText(){this.setLayers({hideOther:!1}),this._actions.startSelectSampleCoords(Qge,"Выбор координат элемента текста")}startCreateSample(t,n){this.setLayers({hideOther:!1}),this._actions.startCreateSample(t,n)}startCreateInput(){this.startCreateSample(Jge,"Создание элемента ввода")}startCreateButton(){this.startCreateSample(eme,"Создание кнопки")}startCreateRect(){this.startCreateSample(tme,"Создание прямоугольника")}pendNextEdit(){this._history.pendNextEdit()}pushPendingEdit(){this._history.pushPendingEdit()}get view(){return this._scene.domElement}get isFocused(){return document.activeElement===this.view}focus(){this.view.focus()}_pick(t,n){const r=this._scene.pick(t,n);return r?.data[lb]?.slot||r}_pickSmart(t,n,r){let i=this._pick(t,n);if(!i)return this.prevPicked=null,null;if(i.data[Gd])return i;let o=null;if(r){const s=Date.now();this.prevPicked&&s-this.prevPicked.pickedAt<300&&(o=this.prevPicked.item),this.prevPicked={item:i,pickedAt:s}}else this.prevPicked=null;for(;i.parent&&i.parent!==o&&!i.data[vu];)i=i.parent;return r&&(this.prevPicked.item=i),i}_createSelection(t,n,r){this._removeHighlights(),this.selection?.reset();const i=Zge(t);if(!i.length)return null;if(!this.isInChildReorderMode)if(i.length===1){const[o]=i,s=_me(this,o);this.selection=new Rme(this,s);const a=xg(o);a&&this.onNodeSelected.dispatch(a.schema)}else{const o=i.map(s=>new yb(this,s));this.selection=new Tme(this,o)}if(n){const[o]=i,{x:s,y:a}=o;this.isViewMounted?(r||this._outOfView(s,a))&&this._centerCameraOn(o):this.focusAfterViewMounted=o}return this.selection}onViewMounted(){Lme(this),this.isViewMounted=!0;const t=this.focusAfterViewMounted;t&&this._centerCameraOn(t),this.focusAfterViewMounted=null}onViewUnmounted(){D$(this),this.isViewMounted=!1}_setHighlight(t,n=!0){if(this.highlightedItem?.item===t)return;this._removeHighlights(void 0,n),n&&xg(t)?._setHover(!0);const r=this._tools.highlightFor(t),i=this._tools.textFor(t);this.highlightedItem={item:t,border:r,text:i}}_removeHighlights(t,n=!0){const r=this.highlightedItem;r&&(t&&r.item!==t||(n&&xg(r.item)?._setHover(!1),r.border?.delete(!0),r.text?.delete(!0),this.highlightedItem=null))}_tryHighlight(t,n,r=!1){if(this._actions.highlightsDisallowed)return;let i=this._pick(t,n);if(!r)for(;i?.parent;)i=i.parent;if(!i||i.data[vu]||i.data[Gd]){this._removeHighlights();return}this._setHighlight(i),this.highlightedItem?.text?.set({x:t,y:n+24})}_outOfView(t,n){const r=this._scene,i=Xv(t,r.x,r.x+r.domElement.clientWidth),o=Xv(n,r.y,r.y+r.domElement.clientHeight);return i!==t||o!==n?{x:i,y:o}:null}_centerCameraOn(t){const n=this._scene,r=t.x-(n.domElement.clientWidth-t.width)/2,i=t.y-(n.domElement.clientHeight-t.height)/2;this.setSceneXY(r,i)}_hideChildImages(){this.children.forEach(t=>t._forceHide())}_refreshChildImages(){this.children.forEach(i=>i._forceUpdate());const t=this._scene,n=[],r=[];for(const i of t.order)i.key>0||i.data[lb]?n.push(i):r.push(i);t.set({order:n.concat(r)})}_notifyChildrenRemoved(){this.children=this.children.filter(t=>(t._unsubscribe(),t.slot.key>0)),this.children.forEach(t=>t._subscribe())}_notifyPadsRemoved(){this.pads=this.pads.filter(t=>t.slot.key>0)}_notifyConnectionsRemoved(){this.connections=this.connections.filter(t=>t.slot.key>0)}_sceneChanged(){}openTextEditor(t){this.textEditor=new Ype(this,t._jf.text)}save(){return this._actions.finishCurrent(),this._history.markUnchanged(),this._scene.toJSON()}_saveChanges(){const{schema:t}=this;if(!t)return;this._hideChildImages();const n=this._scene.toJSON();this._refreshChildImages();const{klass:r}=t;r.set({scene:{...r.scene,data:n}}),this.children.forEach(i=>i._saveChanges()),t.applyChanges(),this.onSaved.dispatch()}_cloneObject(t){let n;const r=this._scene,i=is(t);if(i){const s=this.schema;let a;if(i.type==="pad")n=f$(i.slot),a=this.createPad(n);else{n=this.createChildSlot(i.schema.klass,t.x,t.y,i.slot.attrib);const f=s.createChild(i.schema.klass,{key:n.key},i.schema.getState());a=this.createChild(n,f);for(let g in t.data)n.data[g]=t.data[g]}const{objects:c,order:u}=r.merge(cy(i.connections.map(f=>f.slot)),"free",!0);r.set({order:u.concat(r.order)});const h=i.connections.map(f=>{const g=c.get(f.key);fa.assert(g?.type==="line");const m=i===f.a?a:f.a,y=i===f.b?a:f.b,b=s.createConnection(m.schema,y.schema,{key:g.key,aPadKey:Di(m.type==="pad"&&m.key),bPadKey:Di(y.type==="pad"&&y.key),attrib:f.schemaConnection.attrib,vars:f.schemaConnection.proto.nestedConnections.map(v=>v.toJSON())});return new Eg(this,b,g)});this.connections=this.connections.concat(h)}else n=f$(t);const o=n.data.name;if(o){const s=o.replace(/\d+$/,a=>(parseInt(a)+1).toString());n.data.name=s!==o?s:s+"2"}return this._refreshChildImages(),n}insertFromDropOrPaste(t,n){const r=nme(t);if(r){const a=t.getData(`editor-cut-${this.lastCutId}`);a&&(this.lastCutId=""),this.insertFromClipboard(r,a?null:n);return}const i=this.fileContentTransfer?.pop(t);if(i){const{klass:a}=i;if(a){this.insertKlass(a,n);return}const{image:c}=i;if(c){const h=m$(c);this.insertSceneData(h,n,{name:j0(i.path)});return}const u=i.scene?.data.data;if(u){this.insertSceneData(u,n,{name:j0(i.path)});return}return}const o=t.files.item(0);if(o){this.uploadFile(o,n);return}const s=t.getData("text/plain");if(s){const a=g$(s);this.insertSceneData(a,n);return}}*uploadFile(t,n){const{fileUploader:r}=this;if(!r)return;const i=yield r.upload([t]);if(!i.length)return;const[{data:o}]=i;if(o.image){const a=m$(o.image);this.insertSceneData(a,n,{name:t.name});return}const s=o.scene?.data;s&&this.insertSceneData(s,n)}insertKlass(t,n){if(!this.schema)return;this.setLayers({hideChildren:!1}),this._abort();let r;if(this.schema.klass===t){const s=this.createPadSlot(n.x,n.y);r=this.createPad(s)}else{_g(!this.schema.hasAncestor(t),`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const s=this.createChildSlot(t,n.x,n.y),a=this.schema.createChild(t,{key:s.key});r=this.createChild(s,a)}const{slot:i}=r;i.set({x:n.x-i.width/2,y:n.y-i.height/2}),this._refreshChildImages();const o=[r.slot];this._history.saveCreatedObjects(o),this._createSelection(o)}insertFromClipboard(t,n){this._abort(),this.selection?.reset();const{schema:r}=this;let i;r&&(i=t.children?.map(f=>{const g=r.resolveKlass(f.klassUuid);return _g(g,`Имидж не существует: ${f.klass}`),_g(!r.hasAncestor(g),`Невозможно добавить '${g.name}' в схему: рекурсивная зависимость`),{...f,klass:g}}));const s=this._scene.merge(t.scene).objects;let a=iC(s);if(r){if(i&&i.length){const f=ns(i,g=>{const m=s.get(g.key);if(m?.type!=="group"){console.warn(`Изображение имиджа '${g.klass} #${g.key}' отсутствует на сцене`);return}const y=r.createChild(g.klass,{key:m.key},g.state);return new hb(this,y,m)});this.children=this.children.concat(f)}if(t.pads?.length){const f=ns(t.pads,g=>{const m=s.get(g);if(m?.type!=="imageView"){console.warn(`Изображение площадки #${g}' отсутствует на сцене`);return}return new fb(this,m)});this.pads=this.pads.concat(f)}if(t.connections?.length){const f=ns(t.connections,g=>{const m=s.get(g.key);if(m?.type!=="line"){console.warn(`Изображение связи '#${g.key}' отсутствует на сцене`);return}const[y,b]=g.nodes,v=s.get(Math.abs(y)),S=v&&is(v);if(!S){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const E=s.get(Math.abs(b)),T=E&&is(E);if(!T){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const R=r.createConnection(S.schema,T.schema,{key:m.key,aPadKey:Di(S.type==="pad"&&S.key),bPadKey:Di(T.type==="pad"&&T.key),attrib:g.attrib,vars:g.vars});return new Eg(this,R,m)});this.connections=this.connections.concat(f)}this._refreshChildImages()}else(t.children?.length||t.pads?.length||t.connections?.length)&&(t.children?.forEach(f=>s.get(f.key)?.delete()),t.pads?.forEach(f=>s.get(f)?.delete()),t.connections?.forEach(f=>s.get(f.key)?.delete()),a=a.filter(f=>f.key>0));if(!a.length)return;const c=a,u=this._tools.tempGroup(c);n&&u.set({x:n.x-u.width/2,y:n.y-u.height/2});const h=this._outOfView(u.x,u.y);h&&(n?u.set(h):this._centerCameraOn(c[0])),u.set({children:[]}),this._history.saveCreatedObjects(c),this._createSelection(c)}insertSceneData(t,n,r){if(!t.objects?.length)return;this._abort(),this.selection?.reset();const i=qh(this._scene,t);r&&Object.assign(i.data,r),i.set({x:n.x-i.width/2,y:n.y-i.height/2}),this._refreshChildImages();const o=[i];this._history.saveCreatedObjects(o),this._createSelection(o)}setSceneXY(t,n){const r=this._scene;this.lastCursorX+=t-r.x,this.lastCursorY+=n-r.y,this._scene.set({x:t,y:n})}_setScale(t,n){const r=this.viewScale;this.viewScale=Math.min(Math.max(t,.25),4);const i=100/this.viewScale,o=this.view.style;o.transform=`scale(${this.viewScale})`,o.width=`${i}%`,o.height=`${i}%`;const s=this._scene,a=this.viewScale/r,c=n?.offsetX||0,u=n?.offsetY||0,h=s.x+c*a-c,f=s.y+u*a-u;s.set({x:h,y:f}),this._tools.defaultFont.set({size:16*(1/this.viewScale)})}copySelection(){const t=this.selection;if(!t)return null;const n=t._getJF().filter(c=>!cb(c));if(!n.length)return null;const r=[],i=[],o=[],s=new WeakSet;return n.forEach(c=>{const u=is(c);u&&(u.type==="child"?r.push(u._copy()):i.push(u.slot.key),s.add(u))}),this.connections.forEach(c=>{const{a:u,b:h}=c;s.has(u)&&s.has(h)&&(n.push(c.slot),o.push(c._copy()))}),{scene:cy(n),children:r,connections:o,pads:i}}_handleKeyboard(t){if(t.ctrlKey||t.altKey)return!1;const n=this._actions;if(n.handleKeyboard(t))return!0;if(t.type!=="keydown"||t.key!=="ArrowUp"&&t.key!=="ArrowDown"&&t.key!=="ArrowLeft"&&t.key!=="ArrowRight")return!1;const{selection:r}=this;if(!r||n.inAction){if(!this.cameraMoveStart){const i=t.shiftKey?80:20,o=this._scene,s=o.x+(t.key==="ArrowLeft"?-i:t.key==="ArrowRight"?i:0),a=o.y+(t.key==="ArrowUp"?-i:t.key==="ArrowDown"?i:0);this.setSceneXY(s,a)}return!0}if(t.shiftKey){if(r.type==="single"&&r.object.type!=="group")switch(t.key){case"ArrowLeft":r.object.decreaseZ();break;case"ArrowRight":r.object.increaseZ();break;case"ArrowUp":r.object.moveToTop();break;case"ArrowDown":r.object.moveToBottom();break}return!0}return r.object.canMove&&n.startMoveObjectWithKeyboard(r.object,t),!0}createConnectionSlot(t,n){const r=this._scene,i=r.pen({color:AT}),o=jT(t.slot),s=jT(n.slot),a=r.line([o.x,o.y,s.x,s.y],{pen:i,attrib:d$});return r.set({order:[a,...r.order]}),a}createChildSlot(t,n,r,i=u$){const o=this._scene,s=this._tools.iconImage(t.image?.icon?.atlas),a=o.imageView(s,{x:n,y:r,width:32,height:32,area:{x:0,y:0,w:32,h:32}});return o.set({order:o.order.concat(a)}),o.group([a],{attrib:i})}createPadSlot(t,n){const r=this._scene,i=this._tools.padIconImage(),o=r.imageView(i,{x:t,y:n,width:32,height:32,area:{x:0,y:0,w:32,h:32},attrib:u$});return r.set({order:r.order.concat(o)}),o}createPad(t){const n=new fb(this,t);return this.pads=this.pads.concat(n),n}createChild(t,n){const r=new hb(this,n,t);return this.children=this.children.concat(r),r}_createConnection(t,n){const r=new Eg(this,n,t),{order:i}=this._scene,o=r.a.type==="child"?r.a.icon:r.a.slot,s=r.b.type==="child"?r.b.icon:r.b.slot;if(o&&s){const a=Math.min(i.indexOf(o),i.indexOf(s));this._scene.set({order:L0(i,a,t)})}return this.connections=this.connections.concat(r),r}_notifySelectionRemoved(){this.selection=null}_setPads(t){this.pads=t}_setConnections(t){this.connections=t}_setChildren(t){this.children=t}}class Nme{constructor(t,n){this.type="fileSceneEditor",this.editable=!0,this.fileScene=t,this.scene=new rM(t.data.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return this.fileScene.file.itemId}get title(){return this.fileScene.file.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.fileScene.file.isReadonly}get isDeleted(){return this.fileScene.file.isDeleted}save(){fa.assert(!this.isReadonly);const t=this.scene.save(),n=this.fileScene;n.setData({...n.data,data:t})}dispose(){this.scene.dispose()}}class Bme{constructor(t,n){this.type="klassPropsEditor",this.editable=!0,this.klass=t,this.scene=new rM(t.image?.scene?.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return"props-"+this.klass.uuid}get title(){return this.klass.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){fa.assert(!this.isReadonly);const t=this.scene.save(),{klass:n}=this;n.set({image:{...n.image,scene:{...n.image?.scene,data:t}}})}dispose(){this.scene.dispose()}}class Fme{constructor(t,n){this.type="schemaEditor",this.editable=!1,this.klass=t.klass,this.scene=new rM(t.klass.scene?.data||{},{...n,schema:t,fileUploader:n.getFileUploader(t.klass.file.lib)})}get _reactKey(){return"scene-"+this.klass.uuid}get schema(){return this.scene.schema}get title(){return`${this.klass.name} (схема)`}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}replaceSchema(t){this.scene.replaceSchema(t)}dispose(){this.scene.dispose()}}class jme{constructor(t){this.type="textEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.fileBinary=t,this.currentText=this.savedText=Pp(t.data).split(`\r
`).join(`
`),Rt(this,{currentLineNumber:Be.ref,currentColumnIndex:Be.ref,currentText:Be.ref,savedText:Be.ref,hasChanges:mi,save:_e,setCurrentText:_e,setCursorPosition:_e})}get _reactKey(){return this.fileBinary.file.itemId}get title(){return this.fileBinary.file.name}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.fileBinary.file.isReadonly}get isDeleted(){return this.fileBinary.file.isDeleted}save(){fa.assert(!this.isReadonly),this.fileBinary.setData(Dp(this.currentText.split(`
`).join(`\r
`))),this.savedText=this.currentText}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}function A$(e){return e.type==="fileSceneEditor"||e.type==="klassPropsEditor"||e.type==="schemaEditor"}function Vme(e){return e.type==="codeEditor"}const $me=["input","select","button","textarea"];function zme(){const{activeElement:e}=document;return!!(e&&$me.includes(e.tagName.toLowerCase()))}function Ume(e){return e.shiftKey?e.code.startsWith("Digit")?parseInt(e.code[e.code.length-1]):NaN:parseInt(e.key)}function Hme(e){const{selection:t}=e;return!t||t.type==="multi"||t.object.type!=="group"?null:t.object.child}function Gme(e,t,n){if(n.altKey)return!1;const{scene:r}=e;if(n.ctrlKey)return r.inAction?!1:n.code==="KeyY"||n.shiftKey&&n.code==="KeyZ"?(r.redo(),!0):n.code==="KeyZ"?(r.undo(),!0):n.code==="KeyA"?(n.repeat||r.selectAll(),!0):!1;if(n.code==="Escape")return r.inAction?r.cancel():r.selection?.reset(),!0;if(n.key==="Enter"||n.code==="Space"||n.code==="KeyS"||n.code==="KeyD"){if(!r.isFocused)return!1;const o=Hme(r);switch(n.code){case"KeyD":{const s=o?.schema.klass||r.schema?.klass;s&&t.openKlassCode(s);break}case"KeyS":{const s=o?.schema||r.schema;s&&t.openSchema(s);break}default:{const s=o?.schema.klass||r.schema?.klass;s&&t.openKlassProps(s);break}}return!0}if(parseInt(n.key)){if(n.shiftKey)return!1;if(n.key==="1")r.setLayers({hideChildren:!r.hideChildren});else if(n.key==="2")r.setLayers({hideConnections:!r.hideConnections});else if(n.key==="3")r.setLayers({hideOther:!r.hideOther});else if(n.key==="4")r.setLayers({selectUnselectable:!r.selectUnselectable});else return!1;return!0}if(n.code==="Backquote")return r.setLayers({hideChildren:!1,hideOther:!1,hideConnections:!1}),!0;if(n.code==="Tab")return r.isFocused?(r.inAction||r.selectNext(n.shiftKey),!0):!1;if(n.code==="KeyR"&&(r.isInChildReorderMode?r.cancel():r.startReorderChildren()),r.inAction)return!1;const i=r.selection;return n.key==="Delete"?(i?.object.delete(),!0):n.code==="KeyG"?(i?.type==="multi"&&i.object.canCreateGroup&&i.object.createGroup(),!0):n.code==="KeyU"?(i?.type==="single"&&i.object.type==="group"&&i.object.canUngroup&&i.object.ungroup(),!0):n.code==="KeyN"?(i?.type==="single"&&i.object.set({isUnselectable:!i.object.isUnselectable}),!0):n.code==="KeyE"?(i?.type==="single"&&i.object.type==="textView"&&r.openTextEditor(i.object),!0):n.code==="KeyC"?(r.startCreateConnection(),!0):n.code==="KeyL"?(r.startCreateLine(),!0):n.code==="KeyT"?(r.startCreateText(),!0):n.code==="KeyI"?(r.startCreateInput(),!0):n.code==="KeyB"?(r.startCreateButton(),!0):n.code==="KeyQ"?(r.startCreateRect(),!0):!1}function Wme(e,t,n){if(n.ctrlKey&&n.code==="KeyS"){if(!n.repeat){const i=e.tabs.currentTab?.editor;i?.save&&!i.isReadonly&&i.save()}return!0}if(n.ctrlKey&&n.code==="KeyR"){const i=e.player.player;return i?i.isMinimized?i.maximize():i.close():e.player.openPlayer(),!0}if(n.ctrlKey&&n.code==="KeyP")return t.rightPanelMinimized.toggle(),!0;if(n.ctrlKey&&n.code==="KeyF"){if(n.shiftKey)return e.vfsFilterVisible.setFalse(),t.leftPanelMinimized.toggle(),!0;{t.activeLeftPanelActiveView.set("files");let i=0;t.leftPanelMinimized.isTrue&&(t.leftPanelMinimized.setFalse(),i=300),setTimeout(e.vfsFilterVisible.setTrue,i)}return!0}if((n.ctrlKey||n.altKey)&&n.code==="KeyW"){const i=e.player.player;return i&&!i.isMinimized?i.close():e.tabs.currentTab?.close(),!0}if(n.altKey){const i=Ume(n);if(!isNaN(i)){if(e.tabs.tabs.length){const o=i>0?i-1:e.tabs.tabs.length-1;e.tabs.setCurrentTab(e.tabs.tabs[o])}return!0}}if(document.activeElement?.tagName.toLowerCase()==="textarea"||zme())return!1;n.ctrlKey&&n.code==="KeyA"&&n.preventDefault();const r=e.tabs.currentTab?.editor;return!!(r&&A$(r)&&Gme(r,e,n))}function Kme(e,t){if(e.currentModalDialog.current)return!1;const{currentProject:n}=e;return!!n&&Wme(n,e,t)}function qme(e,t){t.ctrlKey&&(t.code==="KeyS"||t.code==="KeyR")&&t.preventDefault(),Kme(e,t)&&t.preventDefault()}class Yme{constructor(t){this.current=t,Rt(this,{current:Be.ref,set:_e})}set(t){this.current=t}}class Kd{constructor(t=!1){this.isTrue=t,this.setTrue=()=>{this.isTrue=!0},this.setFalse=()=>{this.isTrue=!1},this.toggle=()=>{this.isTrue=!this.isTrue},Rt(this,{isTrue:Be.ref,setTrue:_e,setFalse:_e,toggle:_e})}}class iM extends Error{}const L$=(e,t,n)=>{typeof n=="string"||n instanceof Blob?e.append(t,n):n instanceof Date?e.append(t,n.toISOString()):e.append(t,JSON.stringify(n))},Xme={bodySerializer:e=>{const t=new FormData;return Object.entries(e).forEach(([n,r])=>{r!=null&&(Array.isArray(r)?r.forEach(i=>L$(t,n,i)):L$(t,n,r))}),t}},Zme={bodySerializer:e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n)},Qme=({onRequest:e,onSseError:t,onSseEvent:n,responseTransformer:r,responseValidator:i,sseDefaultRetryDelay:o,sseMaxRetryAttempts:s,sseMaxRetryDelay:a,sseSleepFn:c,url:u,...h})=>{let f;const g=c??(b=>new Promise(v=>setTimeout(v,b)));return{stream:async function*(){let b=o??3e3,v=0;const S=h.signal??new AbortController().signal;for(;!S.aborted;){v++;const E=h.headers instanceof Headers?h.headers:new Headers(h.headers);f!==void 0&&E.set("Last-Event-ID",f);try{const T={redirect:"follow",...h,body:h.serializedBody,headers:E,signal:S};let R=new Request(u,T);e&&(R=await e(u,T));const I=await(h.fetch??globalThis.fetch)(R);if(!I.ok)throw new Error(`SSE failed: ${I.status} ${I.statusText}`);if(!I.body)throw new Error("No body in SSE response");const N=I.body.pipeThrough(new TextDecoderStream).getReader();let D="";const L=()=>{try{N.cancel()}catch{}};S.addEventListener("abort",L);try{for(;;){const{done:A,value:$}=await N.read();if(A)break;D+=$;const F=D.split(`

`);D=F.pop()??"";for(const H of F){const q=H.split(`
`),K=[];let z;for(const ie of q)if(ie.startsWith("data:"))K.push(ie.replace(/^data:\s*/,""));else if(ie.startsWith("event:"))z=ie.replace(/^event:\s*/,"");else if(ie.startsWith("id:"))f=ie.replace(/^id:\s*/,"");else if(ie.startsWith("retry:")){const U=Number.parseInt(ie.replace(/^retry:\s*/,""),10);Number.isNaN(U)||(b=U)}let Z,ee=!1;if(K.length){const ie=K.join(`
`);try{Z=JSON.parse(ie),ee=!0}catch{Z=ie}}ee&&(i&&await i(Z),r&&(Z=await r(Z))),n?.({data:Z,event:z,id:f,retry:b}),K.length&&(yield Z)}}}finally{S.removeEventListener("abort",L),N.releaseLock()}break}catch(T){if(t?.(T),s!==void 0&&v>=s)break;const R=Math.min(b*2**(v-1),a??3e4);await g(R)}}}()}},Jme=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},eve=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},tve=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},N$=({allowReserved:e,explode:t,name:n,style:r,value:i})=>{if(!t){const a=(e?i:i.map(c=>encodeURIComponent(c))).join(eve(r));switch(r){case"label":return`.${a}`;case"matrix":return`;${n}=${a}`;case"simple":return a;default:return`${n}=${a}`}}const o=Jme(r),s=i.map(a=>r==="label"||r==="simple"?e?a:encodeURIComponent(a):Sb({allowReserved:e,name:n,value:a})).join(o);return r==="label"||r==="matrix"?o+s:s},Sb=({allowReserved:e,name:t,value:n})=>{if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?n:encodeURIComponent(n)}`},B$=({allowReserved:e,explode:t,name:n,style:r,value:i,valueOnly:o})=>{if(i instanceof Date)return o?i.toISOString():`${n}=${i.toISOString()}`;if(r!=="deepObject"&&!t){let c=[];Object.entries(i).forEach(([h,f])=>{c=[...c,h,e?f:encodeURIComponent(f)]});const u=c.join(",");switch(r){case"form":return`${n}=${u}`;case"label":return`.${u}`;case"matrix":return`;${n}=${u}`;default:return u}}const s=tve(r),a=Object.entries(i).map(([c,u])=>Sb({allowReserved:e,name:r==="deepObject"?`${n}[${c}]`:c,value:u})).join(s);return r==="label"||r==="matrix"?s+a:a},nve=/\{[^{}]+\}/g,rve=({path:e,url:t})=>{let n=t;const r=t.match(nve);if(r)for(const i of r){let o=!1,s=i.substring(1,i.length-1),a="simple";s.endsWith("*")&&(o=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(s=s.substring(1),a="label"):s.startsWith(";")&&(s=s.substring(1),a="matrix");const c=e[s];if(c==null)continue;if(Array.isArray(c)){n=n.replace(i,N$({explode:o,name:s,style:a,value:c}));continue}if(typeof c=="object"){n=n.replace(i,B$({explode:o,name:s,style:a,value:c,valueOnly:!0}));continue}if(a==="matrix"){n=n.replace(i,`;${Sb({name:s,value:c})}`);continue}const u=encodeURIComponent(a==="label"?`.${c}`:c);n=n.replace(i,u)}return n},ive=({baseUrl:e,path:t,query:n,querySerializer:r,url:i})=>{const o=i.startsWith("/")?i:`/${i}`;let s=(e??"")+o;t&&(s=rve({path:t,url:s}));let a=n?r(n):"";return a.startsWith("?")&&(a=a.substring(1)),a&&(s+=`?${a}`),s};function ove(e){const t=e.body!==void 0;if(t&&e.bodySerializer)return"serializedBody"in e?e.serializedBody!==void 0&&e.serializedBody!==""?e.serializedBody:null:e.body!==""?e.body:null;if(t)return e.body}const sve=async(e,t)=>{const n=typeof t=="function"?await t(e):t;if(n)return e.scheme==="bearer"?`Bearer ${n}`:e.scheme==="basic"?`Basic ${btoa(n)}`:n},F$=({allowReserved:e,array:t,object:n}={})=>i=>{const o=[];if(i&&typeof i=="object")for(const s in i){const a=i[s];if(a!=null)if(Array.isArray(a)){const c=N$({allowReserved:e,explode:!0,name:s,style:"form",value:a,...t});c&&o.push(c)}else if(typeof a=="object"){const c=B$({allowReserved:e,explode:!0,name:s,style:"deepObject",value:a,...n});c&&o.push(c)}else{const c=Sb({allowReserved:e,name:s,value:a});c&&o.push(c)}}return o.join("&")},ave=e=>{if(!e)return"stream";const t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(n=>t.startsWith(n)))return"blob";if(t.startsWith("text/"))return"text"}},lve=(e,t)=>t?!!(e.headers.has(t)||e.query?.[t]||e.headers.get("Cookie")?.includes(`${t}=`)):!1,cve=async({security:e,...t})=>{for(const n of e){if(lve(t,n.name))continue;const r=await sve(n,t.auth);if(!r)continue;const i=n.name??"Authorization";switch(n.in){case"query":t.query||(t.query={}),t.query[i]=r;break;case"cookie":t.headers.append("Cookie",`${i}=${r}`);break;case"header":default:t.headers.set(i,r);break}}},j$=e=>ive({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:F$(e.querySerializer),url:e.url}),V$=(e,t)=>{const n={...e,...t};return n.baseUrl?.endsWith("/")&&(n.baseUrl=n.baseUrl.substring(0,n.baseUrl.length-1)),n.headers=$$(e.headers,t.headers),n},uve=e=>{const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t},$$=(...e)=>{const t=new Headers;for(const n of e){if(!n)continue;const r=n instanceof Headers?uve(n):Object.entries(n);for(const[i,o]of r)if(o===null)t.delete(i);else if(Array.isArray(o))for(const s of o)t.append(i,s);else o!==void 0&&t.set(i,typeof o=="object"?JSON.stringify(o):o)}return t};class oM{constructor(){this.fns=[]}clear(){this.fns=[]}eject(t){const n=this.getInterceptorIndex(t);this.fns[n]&&(this.fns[n]=null)}exists(t){const n=this.getInterceptorIndex(t);return!!this.fns[n]}getInterceptorIndex(t){return typeof t=="number"?this.fns[t]?t:-1:this.fns.indexOf(t)}update(t,n){const r=this.getInterceptorIndex(t);return this.fns[r]?(this.fns[r]=n,t):!1}use(t){return this.fns.push(t),this.fns.length-1}}const dve=()=>({error:new oM,request:new oM,response:new oM}),hve=F$({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),fve={"Content-Type":"application/json"},pve=(e={})=>({...Zme,headers:fve,parseAs:"auto",querySerializer:hve,...e}),gve=(e={})=>{let t=V$(pve(),e);const n=()=>({...t}),r=u=>(t=V$(t,u),n()),i=dve(),o=async u=>{const h={...t,...u,fetch:u.fetch??t.fetch??globalThis.fetch,headers:$$(t.headers,u.headers),serializedBody:void 0};h.security&&await cve({...h,security:h.security}),h.requestValidator&&await h.requestValidator(h),h.body!==void 0&&h.bodySerializer&&(h.serializedBody=h.bodySerializer(h.body)),(h.body===void 0||h.serializedBody==="")&&h.headers.delete("Content-Type");const f=j$(h);return{opts:h,url:f}},s=async u=>{const{opts:h,url:f}=await o(u),g={redirect:"follow",...h,body:ove(h)};let m=new Request(f,g);for(const M of i.request.fns)M&&(m=await M(m,h));const y=h.fetch;let b=await y(m);for(const M of i.response.fns)M&&(b=await M(b,m,h));const v={request:m,response:b};if(b.ok){const M=(h.parseAs==="auto"?ave(b.headers.get("Content-Type")):h.parseAs)??"json";if(b.status===204||b.headers.get("Content-Length")==="0"){let N;switch(M){case"arrayBuffer":case"blob":case"text":N=await b[M]();break;case"formData":N=new FormData;break;case"stream":N=b.body;break;case"json":default:N={};break}return h.responseStyle==="data"?N:{data:N,...v}}let I;switch(M){case"arrayBuffer":case"blob":case"formData":case"json":case"text":I=await b[M]();break;case"stream":return h.responseStyle==="data"?b.body:{data:b.body,...v}}return M==="json"&&(h.responseValidator&&await h.responseValidator(I),h.responseTransformer&&(I=await h.responseTransformer(I))),h.responseStyle==="data"?I:{data:I,...v}}const S=await b.text();let E;try{E=JSON.parse(S)}catch{}const T=E??S;let R=T;for(const M of i.error.fns)M&&(R=await M(T,b,m,h));if(R=R||{},h.throwOnError)throw R;return h.responseStyle==="data"?void 0:{error:R,...v}},a=u=>h=>s({...h,method:u}),c=u=>async h=>{const{opts:f,url:g}=await o(h);return Qme({...f,body:f.body,headers:f.headers,method:u,onRequest:async(m,y)=>{let b=new Request(m,y);for(const v of i.request.fns)v&&(b=await v(b,f));return b},url:g})};return{buildUrl:j$,connect:a("CONNECT"),delete:a("DELETE"),get:a("GET"),getConfig:n,head:a("HEAD"),interceptors:i,options:a("OPTIONS"),patch:a("PATCH"),post:a("POST"),put:a("PUT"),request:s,setConfig:r,sse:{connect:c("CONNECT"),delete:c("DELETE"),get:c("GET"),head:c("HEAD"),options:c("OPTIONS"),patch:c("PATCH"),post:c("POST"),put:c("PUT"),trace:c("TRACE")},trace:a("TRACE")}},mve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/account/limits",...e}),vve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e}),yve=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e,headers:{"Content-Type":"application/json",...e.headers}}),bve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs/{dirId}",...e}),wve=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/libs",...e,headers:{"Content-Type":"application/json",...e.headers}}),z$=e=>e.client.put({security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/index",...e,headers:{"Content-Type":"application/json",...e.headers}}),Sve=e=>e.client.post({...Xme,security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/res",...e,headers:{"Content-Type":null,...e.headers}}),Cve=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/projects",...e,headers:{"Content-Type":"application/json",...e.headers}}),xve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e}),_ve=e=>e.client.patch({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e,headers:{"Content-Type":"application/json",...e.headers}}),Eve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/config",...e}),Tve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/zip",...e}),Mve=e=>e.client.post({url:"/session",...e,headers:{"Content-Type":"application/json",...e.headers}}),Ove=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/session/validate",...e});class Rve{constructor({baseUrl:t}){this.onError=new aa;const n=gve({baseUrl:t,cache:"no-store"});n.interceptors.error.use((r,i,o,s)=>{if(!s.throwOnError&&i.status===422||s?.ignoreStatus&&i.status<500)return r;const a=`${s.method} ${s.url} ${i.status} (${i.statusText}):
${r.message||"Неизвестная причина"}`;throw this.onError.dispatch(a),Error(a)}),this.c=n}setAuthData(t){this.c.setConfig({auth:t.accessToken})}removeAuthData(){this.c.setConfig({auth:void 0})}async createSession(t,n){const r=await Mve({client:this.c,body:{login:t,password:n},throwOnError:!1});if(r.error)throw new iM(r.error.message);return r.data}async isSessionValid(){Fp(this.c.getConfig().auth,"SAPIClient.setAuthData должен быть вызван");const{response:t}=await Ove({client:this.c,ignoreStatus:!0});return t.status<400}async getAccountLimits(){const{data:t}=await mve({client:this.c});return t}async getRootDirContent({libs:t,projects:n}){const{data:r}=await vve({client:this.c,query:{libs:t,projects:n}});return r}async getDirContent(t,{libs:n,projects:r}){const{data:i}=await bve({client:this.c,path:{dirId:t},query:{libs:n,projects:r}});return i}async createDir(t,n){const r=await yve({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,dir:r.error.conflictDir}:{created:!0,...r.data}}async createLib(t,n){const r=await wve({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,library:r.error.conflictLibrary}:{created:!0,...r.data}}async createProject(t){const n=await Cve({client:this.c,throwOnError:!1,body:t});return n.error?{created:!1,project:n.error.conflictProject}:{created:!0,...n.data}}async updateProject(t,n){await _ve({client:this.c,path:{projectId:t},body:n})}async getProject(t){const{data:n}=await xve({client:this.c,path:{projectId:t}});return n}async getProjectPlayerConfig(t){const{data:n}=await Eve({client:this.c,path:{projectId:t}});return n}async updateLibraryIndex(t,n){const{data:r}=await z$({client:this.c,path:{libraryId:t},body:n,bodySerializer:xq});return r}async updateLibraryIndexRaw(t,n){await z$({client:this.c,path:{libraryId:t},body:n,bodySerializer:null})}async createLibraryRes(t,n,r){return(await Sve({client:this.c,path:{libraryId:t},query:r,body:{files:n}})).data}async getProjectPlayerZip(t){return(await Tve({client:this.c,path:{projectId:t}})).data}}class Ive extends rs{}class kve{constructor(t){this.isLoggingIn=!1,this.isDataFetching=!1,this.profileName="",this.projectCount=0,this.projectLimit=0,this.libraryCount=0,this.libraryLimit=0,this.onLogin=new gi,this.onBeforeLogout=new gi,this.apiClient=t,Rt(this,{isLoggingIn:Be.ref,isDataFetching:Be.ref,libraryCount:Be.ref,libraryLimit:Be.ref,profileName:Be.ref,projectCount:Be.ref,projectLimit:Be.ref,logout:_e,restorePrevSession:Mi,login:Mi,fetchLimits:Mi})}*restorePrevSession(t){const{apiClient:n}=this;n.setAuthData(t.authData);const r=yield n.isSessionValid();return this.fetchLimits(t.profile),r}*login(t,n){const{apiClient:r}=this;this.isLoggingIn=!0;let i;try{i=yield r.createSession(t,n)}catch(o){throw o instanceof iM?new Ive(o.message):o}finally{this.isLoggingIn=!1}r.setAuthData(i.authData),this.onLogin.dispatch(i),this.fetchLimits(i.profile)}*fetchLimits(t){this.profileName=t.name||"";const{apiClient:n}=this;this.isDataFetching=!0;let r;try{r=yield n.getAccountLimits()}finally{this.isDataFetching=!1}this.libraryCount=r.libCount,this.libraryLimit=r.libLimit,this.projectCount=r.projectCount,this.projectLimit=r.projectLimit}logout(){this.onBeforeLogout.dispatch()}}class Pve{constructor(){this.isOpen=!1,this.menuItems=[],this.anchorPosition={x:0,y:0},Rt(this,{isOpen:Be.ref,menuItems:Be.ref,anchorPosition:Be.ref,open:_e,close:_e})}open(t,n,r){this.anchorPosition={x:t,y:n},this.menuItems=r,this.isOpen=!0}close(){this.isOpen=!1}}class Dve{constructor(){this.klassFiles=new WeakSet,this.map=new Map,this.mapId=new Map,this.mapUuid=new Map,this._list=null,this.klassNameValidator=t=>this.get(t),this.onKlassRename=(t,n)=>{if(this.klassFiles.has(t.file)){this.map.delete(n),this.map.set(t.nameUC,t);for(const{children:r}of this.map.values())for(const i of r.list)(i.klassId?i.klassId===t.id:i.klassName.toUpperCase()===n)&&i._notifyKlassRenamed(t.name);this.updateList()}},this.onKlassFileRemoved=t=>{if(!this.klassFiles.delete(t))return;const n=t.klass;this.removeKlass(n),this.mapId.delete(n.id),this.mapUuid.delete(n.uuid),this.map.delete(n.nameUC),this.updateList()},this.removeKlass=t=>{t._setIsInLibrary(!1),t.nameValidator.set(null),t.onRename.remove(this.onKlassRename),t.file.onRemoved.remove(this.onKlassFileRemoved)},this.nodeCache=new WeakMap}get list(){return this._list||(this._list=[...this.map.values()].sort(xd)),this._list}add(t){if(this.klassFiles.has(t.file))return;const n=this.mapId.get(t.id);n&&console.warn(`Имиджи '${n.name}' (${n.file.path}) и '${t.name}' (${t.file.path}) имеют одинаковый ID (${t.id})'`);const r=this.map.get(t.nameUC);r&&console.warn(`Имидж '${r.name}' уже существует в файле '${r.file.path}'`),this.klassFiles.add(t.file),this.mapId.set(t.id,t),this.map.set(t.nameUC,t),this.mapUuid.set(t.uuid,t),t._setIsInLibrary(!0),t.nameValidator.set(this.klassNameValidator),t.onRename.add(this.onKlassRename),t.file.onRemoved.add(this.onKlassFileRemoved)}clean(){this.map.forEach(this.removeKlass),this.klassFiles=new WeakSet,this.mapId.clear(),this.map.clear()}updateList(){this._list=null}get(t){return this.map.get(t.toUpperCase())??null}getById(t){return this.mapId.get(t)??null}getByUuid(t){return this.mapUuid.get(t)??null}getByNode(t){const n=this.nodeCache.get(t);if(n)return n;const r=t.klassId?this.getById(t.klassId):this.get(t.klassName);return r&&this.nodeCache.set(t,r),r}}class Ave{constructor(t){this.recursiveSearch=!0,this.searchDirs=[],this.standardSearchDir=null,this._klassLibrary=new Dve,this.onVFSDirsRemoved=n=>{const r=this.searchDirs.filter(i=>!n.has(i));this.searchDirs.length!==r.length&&(this.searchDirs=r)},this.rebuildLibrary=()=>{const{recursiveSearch:n,searchDirs:r,_klassLibrary:i,standardSearchDir:o}=this;if(i.clean(),o)for(const{klass:s}of o.recursive())s&&i.add(s);for(const s of r){const a=n?s.recursive():s.files;for(const{klass:c}of a)c&&i.add(c)}i.updateList()},t.onDirsRemoved.add(this.onVFSDirsRemoved),t.onEntriesMoved.add(this.rebuildLibrary),Rt(this,{recursiveSearch:Be.ref,searchDirs:Be.ref})}get klassLibrary(){return this._klassLibrary}setRecursiveSearch(t){this.recursiveSearch=t}setStandardSearchDir(t){this.standardSearchDir=t,t.setSearchDirMarker(!0)}addSearchDir(t){this.searchDirs.includes(t)||(this.searchDirs=this.searchDirs.concat(t),t.setSearchDirMarker(!0))}removeSearchDir(t){t.setSearchDirMarker(!1),this.searchDirs=this.searchDirs.filter(n=>n!==t)}}class sM{constructor(t="transfer"){this.current=null,this.transferType="vnd.stratum/"+(t+"-"+PT()).toLowerCase()}put(t,n,r="all"){this.current=n,t.setData(this.transferType,"true"),t.effectAllowed=r}pop(t){if(!this.canDrop(t))return null;const n=this.current;return this.current=null,n}get(t){return this.canDrop(t)?this.current:null}canDrop(t){return t.types.includes(this.transferType)}}class Lve{constructor(t,n){this.multiplexer=t,this.editor=n,Rt(this,{close:_e})}close(){this.editor.dispose?.(),this.multiplexer._notifyItemClosed(this)}}class Nve{constructor(t){this.sceneArgs=t,this.items=[]}addEditor(t){const n=new Lve(this,t);return this.items=this.items.concat(n),n}openSchemaEditor(t){const{klass:n}=t,r=this.items.find(i=>{const{editor:o}=i;return o.type==="schemaEditor"&&o.klass===n});if(r){const{editor:i}=r;return i.schema!==t&&i.replaceSchema(t),r}return this.addEditor(new Fme(t,this.sceneArgs))}openCodeEditor(t){const{klass:n}=t,r=this.items.find(({editor:i})=>i.type==="codeEditor"&&i.klass===n);return r||this.addEditor(new efe(t))}openKlassPropsEditor(t){const n=this.items.find(({editor:r})=>r.type==="klassPropsEditor"&&r.klass===t);return n||this.addEditor(new Bme(t,this.sceneArgs))}openFileSceneEditor(t){const n=this.items.find(({editor:r})=>r.type==="fileSceneEditor"&&r.fileScene===t);return n||this.addEditor(new Nme(t,this.sceneArgs))}openBinaryFileEditor(t){const n=this.items.find(({editor:r})=>r.type==="textEditor"&&r.fileBinary===t);return n||this.addEditor(new jme(t))}_notifyItemClosed(t){this.items=this.items.filter(n=>n!==t)}}class U${constructor({klass:t,klassId:n,key:r,name:i="",x:o=0,y:s=0},a){this.onSpecialValueChanged=new gi,this.connections=new Set,this.parent=a,this.klassName=t,this.klassId=n||null,this.key=r,this.sceneName=i,this.sceneX=o,this.sceneY=s,Rt(this,{sceneX:!1,sceneY:!1,sceneName:!1,klassName:!1,set:_e,remove:_e,toJSON:!1})}set({sceneX:t=this.sceneX,sceneY:n=this.sceneY,sceneName:r=this.sceneName}){let i=!1;this.sceneX!==t&&(this.sceneX=t,i=!0),this.sceneY!==n&&(this.sceneY=n,i=!0),this.sceneName!==r&&(this.sceneName=r,i=!0),i&&(this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged())}remove(){this.connections.forEach(t=>t.remove()),this.parent._notifyChildNodeRemoved(this)}toJSON(){return{key:this.key,klass:this.klassName,klassId:Di(this.klassId),x:this.sceneX,y:this.sceneY,name:Di(this.sceneName)}}_notifyKlassRenamed(t){this.klassName=t,this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged()}_addConnection(t){this.connections.add(t)}_removeConnection(t){this.connections.delete(t)}}class Bve{constructor(t,n){this.list=[],this.parent=t,this.list=n?.map(r=>new U$(r,t))||[],Rt(this,{list:!1,create:_e,reorder:_e,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}create(t){const{list:n}=this,r=new U$(t,this.parent);return this.list=n.concat(r),this.parent._notifyChildListChanged(),r}reorder(t){this.list=t,this.parent._notifyChildListChanged()}_removeChild(t){this.list=uP(this.list,t)}}class H${constructor(t,n){this.data=t,this.carrier=n}get a(){return this.data[0]}get b(){return this.data[1]}_setNames(t){this.data=t}toJSON(){return this.data}}class G${constructor(t,n,{key:r,vars:i,attrib:o=0},s){this.onNestedConnectionsChanged=new gi,this.onDisabledChanged=new gi,this.isRemoved=!1,this.key=r,this.parent=s,this.a=t,this.b=n,typeof t!="number"&&t._addConnection(this),typeof n!="number"&&n._addConnection(this),this.nestedConnections=i?.map(a=>new H$(a,this))||[],this.attrib=o,Rt(this,{attrib:Be.ref,nestedConnections:!1,setDisabled:_e,setNestedConnections:_e,remove:_e,toJSON:!1})}get isDisabled(){return!!(this.attrib&Jv)}setNestedConnections(t){const n=this.nestedConnections;this.nestedConnections=t.map(r=>{const i=r[0].toUpperCase(),o=r[1].toUpperCase(),s=n.find(a=>a.a.toUpperCase()===i&&a.b.toUpperCase()===o);return s?(s._setNames(r),s):new H$(r,this)}),this.onNestedConnectionsChanged.dispatch(),this.parent._notifyContentChanged()}setDisabled(t){t?this.attrib|=Jv:this.attrib&=~Jv,this.onDisabledChanged.dispatch(),this.parent._notifyContentChanged()}remove(){if(this.isRemoved)return;this.isRemoved=!0;const{a:t,b:n}=this;typeof t!="number"&&t._removeConnection(this),typeof n!="number"&&n._removeConnection(this),this.parent._notifyConnectionRemoved(this)}toJSON(){const{attrib:t,nestedConnections:n,a:r,b:i,key:o}=this,s=typeof r=="number"?-r:r.key,a=typeof i=="number"?-i:i.key;return{key:o,nodes:[s,a],vars:n.map(({a:c,b:u})=>[c,u]),attrib:Di(t)}}}class Fve{constructor(t,n){if(this.parent=t,n){const{children:r}=t;this.list=ns(n,i=>{const[o,s]=i.nodes,a=o>0?r.get(o):-o;if(!a)return null;const c=s>0?r.get(s):-s;return c?new G$(a,c,i,t):null})}else this.list=[];Rt(this,{list:!1,create:_e})}create(t,n,r){const i=new G$(t,n,r,this.parent);return this.list=this.list.concat(i),this.parent._notifyConnectionListChanged(),i}_removeConnection(t){this.list=uP(this.list,t)}}class W${constructor(t){this.data=t,this.isLocal=!0}get isArgument(){return!!((this.data.attrib||0)&ct.VF_ARGUMENT)}get isReturn(){return!!((this.data.attrib||0)&ct.VF_RETURN)}get type(){return this.data.type}toJSON(){return this.data}}class K${constructor({name:t,type:n,attrib:r=0,defaultValue:i=null,description:o=""},s){this.isLocal=!1,this.onValueChanged=new gi,this.klass=s,this.name=t,this.type=n,this.attrib=r,this.description=o;const a=this.nameUC=t.toUpperCase();i!==null&&Hp(n,i)!==null?this.value=i:this.value=null,a==="ORGX"&&n===kt.FLOAT||a==="ORGY"&&n===kt.FLOAT||a==="_HOBJECT"&&n===kt.HANDLE||a==="_OBJNAME"&&n===kt.STRING||a==="_CLASSNAME"&&n===kt.STRING?this.specialValueType=a:this.specialValueType="none",Rt(this,{value:Be.ref,name:Be.ref,description:Be.ref,attrib:!1,setValue:_e,setDescription:_e,isValidValue:!1,toJSON:!1})}get isArgument(){return!!(this.attrib&ct.VF_ARGUMENT)}get isReturn(){return!!(this.attrib&ct.VF_RETURN)}setDescription(t){this.description=t,this.klass._notifyContentChanged()}setValue(t){return t!==null&&!this.isValidValue(t)?!1:(this.value=t,this.onValueChanged.dispatch(),this.klass._notifyContentChanged(),!0)}isValidValue(t){return Hp(this.type,t)!==null}toJSON(){return{name:this.name,type:this.type,attrib:Di(this.attrib),defaultValue:this.value??void 0,description:Di(this.description)}}_changeAttrib(t){this.attrib=t}_rename(t){this.name=t}}function q$({attrib:e=0}){return!!(e&ct.VF_LOCAL)}class jve{constructor(t,n){this.list=[],this.onVarListChanged=new gi,this.klass=t,this.allList=n?.map(r=>q$(r)?new W$(r):new K$(r,t))||[],this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),Rt(this,{list:!1,allList:!1,set:_e,get:!1})}set(t){const{list:n}=this;this.allList=t.map(r=>{if(q$(r))return new W$(r);const i=r.name.toUpperCase(),o=n.find(s=>s.type===r.type&&s.nameUC===i);return o?(o._rename(r.name),o._changeAttrib(r.attrib||0),o):new K$(r,this.klass)}),this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),this.onVarListChanged.dispatch(),this.klass._notifyVarListChanged()}get(t){return this.listMap.get(t.toUpperCase())||null}}const Vve={};class Y$ extends rs{constructor(t){super(`Имидж '${t.name}' уже существует в файле '${t.file.path}'`)}}class $ve{constructor(t,n){this.uuid=PT(),this.onRename=new gi,this.onImageChanged=new gi,this.onVarListChanged=new gi,this.onConnectionListChanged=new gi,this.onChildListChanged=new gi,this.nameValidator=new Bq,this.isInLibrary=!1,this.file=t,this.id=n.id,this.name=n.name,this.nameUC=n.name.toUpperCase(),this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1,this.date=n.date?new Date(n.date):new Date,this.vars=new jve(this,n.vars),this.children=new Bve(this,n.children),this.childConnections=new Fve(this,n.links),this.scene=n.scene||null,this.image=n.image||null,this.description=n.description||"",Rt(this,{hasCode:mi,hasScene:mi,name:Be.ref,nameUC:Be.ref,image:Be.ref,isInLibrary:Be.ref,scene:Be.ref,modelText:!1,isFunction:!1,rename:_e,set:_e,toJSON:!1})}get hasScene(){return!!this.scene?.data}get hasCode(){return!!this.modelText}get isReadonly(){return this.file.isReadonly}get imageData(){const{image:t}=this;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this.image?.icon||Vve}_setIsInLibrary(t){this.isInLibrary=t}set({scene:t=this.scene,image:n=this.image,modelText:r=this.modelText,isFunction:i=this.isFunction}){fa.assert(!this.isReadonly);let o=!1;this.scene!==t&&(this.scene=t,o=!0),this.image!==n&&(this.image=n,this.onImageChanged.dispatch(),o=!0),this.modelText!==r&&(this.modelText=r,o=!0),this.isFunction!==i&&(this.isFunction=i,o=!0),o&&this._notifyContentChanged()}rename(t){if(fa.assert(!this.isReadonly),!t||t===this.name)return;bP(t);const n=t.toUpperCase();if(n!==this.nameUC){const i=this.nameValidator.value?.(t);if(i)throw new Y$(i)}const r=this.nameUC;this.name=t,this.nameUC=n,this.onRename.dispatch(this,r),this._notifyContentChanged()}toJSON(){return{name:this.name,id:this.id,date:this.date.toJSON(),vars:Lp(this.vars.allList.map(t=>t.toJSON())),children:Lp(this.children.list.map(t=>t.toJSON())),links:Lp(this.childConnections.list.map(t=>t.toJSON())),description:Di(this.description),isFunction:Di(this.isFunction),modelText:Di(this.modelText),image:this.image,scene:this.scene}}_notifyVarListChanged(){this.onVarListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionListChanged(){this.onConnectionListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionRemoved(t){this.childConnections._removeConnection(t),this._notifyConnectionListChanged()}_notifyChildListChanged(){this.onChildListChanged.dispatch(),this._notifyContentChanged()}_notifyChildNodeRemoved(t){this.children._removeChild(t),this._notifyChildListChanged()}_notifyContentChanged(){this.file._notifyContentChanged()}}class zve{constructor({apiClient:t,project:n}){this.isSyncing=!1,this.apiClient=t,this.project=n,Rt(this,{isSyncing:Be.ref,sync:Mi})}get changesList(){const{project:t}=this;let n=ns(t.libs,r=>r.hasChanges&&r.name);return t.schema.isStateChanged&&(n=["Состояние схемы"].concat(n)),t.isDirty&&(n=["Настройки проекта"].concat(n)),n}*sync(){if(this.isSyncing)return;const{apiClient:t,project:n}=this;n.saveSchemaStateToFile();const r=ns(n.libs,o=>{const{vfsLib:s}=o;if(!s.isDirty)return;const a=s.toJSON();return s.setDirtyMarker(!1),[o,a]}),i=Di(n.isDirty&&n.toRemoteProjectData(!1));n.setDirtyMarker(!1),this.isSyncing=!0;for(const[o,s]of r)try{yield t.updateLibraryIndex(o.id,s)}catch(a){console.error(a),o.vfsLib.setDirtyMarker(!0),console.warn(`Не удалось синхронизировать '${o.name}' (${o.id})`)}if(i){const o=n.libs.map(a=>a.id),s=n.subProjects.map(a=>a.id);try{yield t.updateProject(n.id,{config:i,libIds:o,subprojectIds:s})}catch(a){console.error(a),n.setDirtyMarker(!0),console.warn("Не удалось синхронизировать настройки проекта")}}this.isSyncing=!1}}class bu{constructor(t){this.value=null,this.kind="own",this.master=null,Rt(this,{value:Be.ref,kind:Be.ref,master:Be.ref})}static{this.stub=new bu(!0)}_setValue(t,n,r){this.master=n,this.value=t,this.kind=r}_resetValue(){this.value=null}}class X${constructor(t,n){this._reactKey=vP(),this.ownValue=null,this.varConnections=new Set,this.sharedValueStorage=new bu,this.onValueChanged=()=>{this.sharedValueStorage._resetValue(),this.schema._notifyValuesChanged()},this.klassVar=t,this.schema=n,t.onValueChanged.add(this.onValueChanged),Rt(this,{sharedValueStorage:Be.ref,ownValue:Be.ref,setOwnValue:_e,getConnectedVars:!1,getConnections:!1,setDefaultValue:!1,setDescription:!1})}_dispose(){this.klassVar.onValueChanged.remove(this.onValueChanged),this.varConnections.forEach(t=>t._dispose())}get name(){return this.klassVar.name}get type(){return this.klassVar.type}get computedValue(){return this.sharedValueStorage.value}get computedValueKind(){const{sharedValueStorage:t}=this,{master:n}=t;return n===this||n===null?t.kind:this.ownValue===null?"alien":"overwritten"}get defaultValue(){return this.klassVar.value}get description(){return this.klassVar.description}getConnections(){return this.varConnections.values()}_setOwnValue(t){this.klassVar.isValidValue(t)&&(this.ownValue=t)}setOwnValue(t){return t!==null&&!this.klassVar.isValidValue(t)?!1:(this.ownValue=t,this.onValueChanged(),this.schema._notifyStateChanged(),!0)}setDefaultValue(t){return this.klassVar.setValue(t)}setDescription(t){this.klassVar.setDescription(t)}getConnectedVars(t){const n=new Set;return this._getConnectedVars(n),t||n.delete(this),n}_applyDefaultValue(){const{klassVar:t}=this,n=t.value;if(n!==null){this.sharedValueStorage._setValue(n,this,"classDefault");return}if(t.specialValueType==="none")return;let r;switch(t.specialValueType){case"ORGX":r=this.schema.node?.sceneX.toString();break;case"ORGY":r=this.schema.node?.sceneY.toString();break;case"_HOBJECT":{const i=this.schema.node?.key;i&&(r="#"+i);break}case"_OBJNAME":r=this.schema.node?.sceneName;break;case"_CLASSNAME":r=this.schema.klass.name;break}r?this.sharedValueStorage._setValue(r,this,"classSpecial"):this.sharedValueStorage._resetValue()}toString(){return this.name}_applyOwnValue(){const{ownValue:t}=this;t!==null&&this.sharedValueStorage._setValue(t,this,"own")}propagateSharedValueStorage(t){if(this.sharedValueStorage!==t){this.sharedValueStorage=t;for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a).propagateSharedValueStorage(t)}}}_getConnectedVars(t){if(!t.has(this)){t.add(this);for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a)._getConnectedVars(t)}}}_notifyConnectionCreated(t){this.varConnections.add(t),this.sharedValueStorage=bu.stub}_notifyConnectionRemoved(t){this.varConnections.delete(t),this.sharedValueStorage=bu.stub}_notifyConnectionDisabledChanged(){this.sharedValueStorage=bu.stub}_reduce(){this.sharedValueStorage===bu.stub&&this.propagateSharedValueStorage(new bu)}}class Uve{constructor(t,n){this.klassVars=t,this.schema=n,this.list=t.list.map(r=>new X$(r,n)),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),Rt(this,{list:Be.ref,get:!1})}get(t){const n=this.klassVars.get(t);return n&&this.map.get(n)||null}_rebuild(){const{list:t}=this,n=new Set(t);this.list=this.klassVars.list.map(r=>{const i=t.find(o=>o.klassVar===r);return i?(n.delete(i),i):new X$(r,this.schema)}),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),n.forEach(r=>{r.ownValue!==null&&this.schema._notifyStateChanged(),r._dispose()})}}class Hve{constructor(t,n,r,i){this.a=t,this.b=n,this.proto=r,this.carrier=i,this.isBroken=!0}}class Gve{constructor(t,n,r,i){this.a=t,this.b=n,this.proto=r,this.carrier=i,this.isBroken=!1,t._notifyConnectionCreated(this),n._notifyConnectionCreated(this)}_dispose(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}}class Z${constructor(t,n,r,i){this.aPadKey=0,this.bPadKey=0,this.nestedConnections=[],this.onNestedConnectionsChanged=()=>{this.parent._notifyConnectionChanged(this)},this.onDisabledChanged=()=>{this.nestedConnections.forEach(o=>{o.isBroken||(o.a._notifyConnectionDisabledChanged(),o.b._notifyConnectionDisabledChanged())}),this.parent._notifyConnectionDisabledChanged()},this.parent=i,this.a=t,this.b=n,this.proto=r,typeof r.a=="number"&&(this.aPadKey=r.a),typeof r.b=="number"&&(this.bPadKey=r.b),this._rebuildNestedConnections(),this.proto.onNestedConnectionsChanged.add(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.add(this.onDisabledChanged),Rt(this,{nestedConnections:Be.ref,setDisabled:!1,remove:!1})}_dispose(){this.proto.onNestedConnectionsChanged.remove(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.remove(this.onDisabledChanged),this.nestedConnections.forEach(t=>!t.isBroken&&t._dispose())}get key(){return this.proto.key}get attrib(){return this.proto.attrib}get isDisabled(){return this.proto.isDisabled}setDisabled(t){this.proto.setDisabled(t)}remove(){this.proto.remove()}_rebuildNestedConnections(){const{nestedConnections:t,a:n,b:r}=this,i=new Set(t);this.nestedConnections=this.proto.nestedConnections.map(o=>{const s=t.find(h=>h.proto===o);if(s)return i.delete(s),s;const a=n.vars.get(o.a),c=r.vars.get(o.b);return a&&c&&a.klassVar.type===c.klassVar.type?new Gve(a,c,o,this):new Hve(a||o.a,c||o.b,o,this)}),i.forEach(o=>!o.isBroken&&o._dispose())}}class Wve{constructor(t){this.parent=t,this.list=[],this._rebuild()}_create(t,n,r){const i=new Z$(t,n,r,this.parent);return this.list=this.list.concat(i),i}_rebuild(){const{list:t,parent:n}=this,{klass:r}=n,i=n.children.list,o=new Set(t);this.list=r.childConnections.list.map(s=>{const a=t.find(g=>g.proto===s);if(a)return o.delete(a),a;const{a:c,b:u}=s,h=typeof c=="number"?n:i.find(g=>g.node===c),f=typeof u=="number"?n:i.find(g=>g.node===u);if(!h||!f)throw Error("Неизвестная ошибка (schema.ts)");return new Z$(h,f,s,n)}),o.forEach(s=>s._dispose())}}class Kve{constructor(t,n){this.parent=t,this.library=n,this.list=[],this._rebuild(),Rt(this,{list:Be.ref,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}_create(t,n,r=null){const i=new Cb(t,this.library,r,n,this.parent);return this.list=this.list.concat(i),i}_setOrder(t){this.list=t}_rebuild(t){const{library:n,list:r,parent:i}=this,o=new Set(r);this.list=i.klass.children.list.map(s=>{const a=r.find(u=>u.node===s);if(a)return o.delete(a),a;const c=n.getByNode(s);if(!c)throw Error(`Имидж '${s.klassName}' не существует`);return new Cb(c,n,null,s,i)}),o.forEach(s=>s._dispose(t))}}class qve{constructor(t){this.root=t,this.onDescendantsDeleted=new gi,this.changedNestedConns=new Set,this.changedVars=new Set,this.changedChildren=new Set,this.changedConnections=new Set,this._needReduce=!0,this._needReapplyValues=!0,this._stateChanged=!1,Rt(this,{_stateChanged:Be.ref})}rebuild(){const{changedChildren:t,changedConnections:n,changedVars:r,changedNestedConns:i}=this;if(r.size&&(this._needReduce=!0,r.forEach(o=>o._rebuild()),r.clear()),i.size&&(this._needReduce=!0,i.forEach(o=>o._rebuildNestedConnections()),i.clear()),t.size){this._needReduce=!0;const o=new Set;t.forEach(s=>s._rebuild(o)),t.clear(),o.size&&this.onDescendantsDeleted.dispatch(o)}n.size&&(this._needReduce=!0,n.forEach(o=>o._rebuild()),n.clear()),this._needReduce&&(this._needReapplyValues=!0,this.root._reduceVars(),this._needReduce=!1),this._needReapplyValues&&(this.root._applyDefaultValues(),this.root._applyOwnValues(),this._needReapplyValues=!1)}}class Cb{constructor(t,n,r,i=null,o=null){this.itemId=Zv(),this.canCreateChild=!0,this.canCreateConnection=!0,this.canReorderChildren=!0,this.onSpecialValueChanged=()=>{this.root._needReapplyValues=!0},this.onVarListChanged=()=>{const{node:s}=this;s&&(this.klass.vars.list.some(({specialValueType:a})=>a!=="none"&&a!=="_HOBJECT")?s.onSpecialValueChanged.add(this.onSpecialValueChanged):s.onSpecialValueChanged.remove(this.onSpecialValueChanged)),this.root.changedVars.add(this.vars)},this.onConnectionListChanged=()=>{this.root.changedConnections.add(this.childConnections)},this.onChildListChanged=()=>{this.root.changedChildren.add(this.children),this.root._needReapplyValues=!0},this.isFake=o&&o.isFake||r&&"isFake"in r||!1,this.klass=t,this.library=n,this.node=i,this.parent=o,this.root=o?.root||new qve(this),this.vars=new Uve(t.vars,this),this.children=new Kve(this,n),this.childConnections=new Wve(this),i&&t.vars.list.some(({specialValueType:s})=>s!=="none"&&s!=="_HOBJECT")&&i.onSpecialValueChanged.add(this.onSpecialValueChanged),t.onVarListChanged.add(this.onVarListChanged),t.onConnectionListChanged.add(this.onConnectionListChanged),t.onChildListChanged.add(this.onChildListChanged),r&&!("isFake"in r)&&(this.setState(r),o&&(this.root._stateChanged=!0)),o||this.root.rebuild(),Rt(this,{createChild:_e,createConnection:_e,reorderChildren:_e,remove:_e,applyChanges:_e,markStateUnchanged:_e,getState:!1,hasAncestor:!1,resolveKlass:!1,hasNode:!1})}_dispose(t){this.children.list.forEach(r=>r._dispose(t));const{klass:n}=this;this.node?.onSpecialValueChanged.remove(this.onSpecialValueChanged),n.onVarListChanged.remove(this.onVarListChanged),n.onConnectionListChanged.remove(this.onConnectionListChanged),n.onChildListChanged.remove(this.onChildListChanged),this.vars.list.forEach(r=>r._dispose()),this.childConnections.list.forEach(r=>r._dispose()),t.add(this)}get name(){return this.klass.name}get key(){return this.node?.key||0}get isStateChanged(){return this.root._stateChanged}get onDescendantsDeleted(){return this.root.onDescendantsDeleted}getState(t){const n=ns(this.children.list,i=>i.getState()),r=ns(this.vars.list,i=>i.ownValue!==null&&{name:i.klassVar.name,value:i.ownValue});return!t&&!n.length&&!r.length?null:{key:this.key,klass:this.klass.name,klassId:this.klass.id,values:Lp(r),children:Lp(n)}}resolveKlass(t){return this.library.getByUuid(t)}hasAncestor(t){return this.klass===t||this.parent?.hasAncestor(t)||!1}createChild(t,n,r){if(this.hasAncestor(t))throw Error(`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const i={klass:t.name,klassId:t.id,key:n.key,name:n.name,x:n.x,y:n.y},o=this.klass.children.create(i);return this.children._create(t,o,r)}createConnection(t,n,{key:r,aPadKey:i=0,bPadKey:o=0,vars:s,attrib:a}){const c=this===t?i:t.node,u=this===n?o:n.node;if(typeof c!="number"&&t.parent!==this||typeof u!="number"&&n.parent!==this)throw Error("Связь должна существовать в пределах одной схемы");const h=this.klass.childConnections.create(c,u,{key:r,vars:s,attrib:a});return this.childConnections._create(t,n,h)}reorderChildren(t){this.klass.children.reorder(t.map(n=>n.node)),this.children._setOrder(t)}remove(){if(!this.node)throw Error("Невозможно удалить корень схемы");this.node.remove()}applyChanges(){this.root.rebuild()}hasNode(t){return this.root===t.root}toString(){return this.key?`${this.klass.name} #${this.key}`:this.klass.name}markStateUnchanged(){this.root._stateChanged=!1}_notifyStateChanged(){this.root._stateChanged=!0}_notifyValuesChanged(){this.root._needReapplyValues=!0}_notifyConnectionDisabledChanged(){this.root._needReduce=!0}_notifyConnectionChanged(t){this.root.changedNestedConns.add(t)}setState(t){const{values:n,klassId:r}=t;if(n?.length&&this.klass.id===r){const{vars:i}=this;n.forEach(o=>i.get(o.name)?._setOwnValue(o.value))}t.children?.forEach(i=>this.children.get(i.key)?.setState(i))}_reduceVars(){this.children.list.forEach(t=>t._reduceVars()),this.vars.list.forEach(t=>t._reduce())}_applyDefaultValues(){this.children.list.forEach(t=>t._applyDefaultValues()),this.vars.list.forEach(t=>t._applyDefaultValue())}_applyOwnValues(){this.vars.list.forEach(t=>t._applyOwnValue()),this.children.list.forEach(t=>t._applyOwnValues())}}class Yve{constructor(t,n){this.tabs=t,this.item=n,Rt(this,{close:_e})}get _reactKey(){return this.item.editor._reactKey}get editor(){return this.item.editor}close(){const{editor:t}=this.item;return t.hasChanges&&!window.confirm(`${t.title} содержит несохраненные изменения. Все равно закрыть?`)?!1:(this.item.close(),this.tabs._notifyTabClosed(this),!0)}}class Xve{constructor(){this.tabs=[],this.currentTab=null,this.tabHistory=[],Rt(this,{currentTab:Be.ref,tabs:Be.ref,addTab:_e,setCurrentTab:_e,reorderTabs:_e})}addTab(t){const n=this.tabs.find(i=>i.item===t);if(n)return this.setCurrentTab(n),!1;const r=new Yve(this,t);return this.tabs=this.tabs.concat(r),this.tabHistory.push(r),this.currentTab=r,!0}setCurrentTab(t){this.currentTab!==t&&(this.currentTab=t,this.tabHistory=this.tabHistory.filter(n=>n!==t).concat(t))}reorderTabs(t){this.tabs=t}_notifyTabClosed(t){this.tabs=this.tabs.filter(n=>n!==t),this.tabHistory=this.tabHistory.filter(n=>n!==t),this.currentTab===t&&(this.currentTab=this.tabHistory.at(-1)||null)}}class Mg extends rs{constructor(t){super(`${t.type==="file"?"Файл":"Каталог"} '${t.name}' уже существует в этом каталоге`)}}class df extends rs{constructor(t){super(`'${t.path}' доступен только для чтения`)}}class Q$ extends rs{constructor(){super("Не задано имя файл или каталога")}}class Zve{constructor(t,n,r){this.type="file",this.itemId=Zv(),this.isDeleted=!1,this.onRemoved=new gi(!0),this.name=t,this.nameUC=t.toUpperCase(),this.parent=r,this.size=n.size||0,this.klass=n.cls?new $ve(this,n.cls):null,this.stt=n.stt?new tye(this,n.stt):null,this.scene=n.scene?new eye(this,n.scene):null,this.matrix=n.mat?new Jve(this,n.mat):null,this.binary=typeof n.base64=="string"?new Qve(this,n.base64,this.size):null,this.image=n.image||null,this.video=n.video||null,this.audio=n.audio||null,this.ttf=n.ttf||null,this.cursor=n.cursor||null,this.mesh=n.mesh||null,Rt(this,{isDeleted:Be.ref,name:Be.ref,nameUC:Be.ref,parent:Be.ref,rename:_e,remove:_e,toJSON:!1})}get isPrjFile(){return this.parent.lib.vfs.projectFile===this}get lib(){return this.parent.lib}get path(){return this.parent.path+"/"+this.name}get isReadonly(){return this.parent.isReadonly}get canEdit(){return!this.isReadonly}get hasRelativePath(){return!this.lib.isDefault}rename(t){if(!this.canEdit)throw new df(this);if(t=cP(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent.getEntry(n);if(r)throw new Mg(r);this.nameUC=n}this.name=t,this.parent._notifyFileRenamed(),this._notifyContentChanged()}remove(){if(!this.canEdit)throw new df(this);this.parent._notifyFileRemoved(this),this._remove()}toJSON(){const{image:t,video:n,cursor:r,stt:i,binary:o,scene:s,klass:a,audio:c,matrix:u,ttf:h,mesh:f}=this;return{size:o?.byteLength??Di(this.size),cls:a?.toJSON(),image:t,scene:s?.data,video:n,cursor:r,stt:i?.data,base64:o?.base64,audio:c,mat:u?.data,ttf:h,mesh:f}}_notifyParentDeleted(){this._remove()}_notifyParentChanged(t){this.parent=t}_notifyContentChanged(){this.lib._notifyFilesChanged()}_remove(){this.isDeleted=!0,this._notifyContentChanged(),this.onRemoved.dispatch(this)}}class Qve{constructor(t,n,r){this._data=null,this.file=t,this.isTextFile=/\.(txt|json|config)$/i.test(t.name),this.byteLength=r,this._base64=n,Rt(this,{byteLength:Be.ref,setData:_e})}get data(){return this._data||(this._data=qv(this._base64)),this._data}get base64(){if(!this._base64){const{_data:t}=this;return this._base64=t?Kv(t):""}return this._base64}setData(t){this._data=t,this._base64="",this.byteLength=t.byteLength,this.file._notifyContentChanged()}}class Jve{constructor(t,n){this.file=t,this.data=n,Rt(this,{data:!1,setData:_e})}setData(t){this.data=t,this.file._notifyContentChanged()}}class eye{constructor(t,n){this.file=t,this.data=n,Rt(this,{data:Be.ref,setData:_e})}setData(t){this.data=t,this.file._notifyContentChanged()}}class tye{constructor(t,n){this.file=t,this.data=n,Rt(this,{data:!1,setData:_e})}setData(t){this.data=t,this.file._notifyContentChanged()}}class xb{constructor(t,n){this.dirs=[],this.files=[],this.isSearchDir=!1,this.isDeleted=!1,this.type="dir",this.itemId=Zv(),this.name=t,this.nameUC=t.toUpperCase(),this.parent=n instanceof xb?n:null,this.lib=n instanceof J$?n:n.lib,Rt(this,{name:Be.ref,nameUC:Be.ref,isDeleted:Be.ref,parent:Be.ref,lib:Be.ref,dirs:Be.ref,files:Be.ref,isSearchDir:Be.ref,rename:_e,remove:_e,insertEntry:_e,createDir:_e,createFile:_e,setSearchDirMarker:_e,getDir:!1,getEntry:!1,getFile:!1,hasAncestor:!1,recursive:!1,resolveDir:!1,resolveFile:!1})}get path(){const{parent:t}=this;return t?t.path+"/"+this.name:this.name}get isReadonly(){return this.lib.isReadonly}get canCreateFiles(){return!this.isReadonly}get isProjectRootDir(){return this.lib.vfs.projectRootDir===this}get canEdit(){return!!this.parent&&!this.isReadonly}get canAddToSearchDir(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasRelativePath(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasFiles(){return this.files.length>0||this.dirs.some(t=>t.hasFiles)}rename(t){if(!this.canEdit)throw new df(this);if(t=cP(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent?.getEntry(n);if(r)throw new Mg(r);this.nameUC=n}this.name=t,this.parent?._notifyDirRenamed(),this.hasFiles&&this.lib._notifyFilesChanged()}remove(){if(!this.parent||this.isReadonly)throw new df(this);this.parent._notifyDirRemoved(this);const t=new Set;this.removeRecursive(t),this.lib.vfs._notifyDirsRemoved(t)}insertEntry(t){if(!t.parent||t.parent===this)return;if(!this.canCreateFiles)throw new df(this);if(!t.canEdit)throw new df(t);const n=this.getEntry(t.name);if(n)throw new Mg(n);const r=t.type==="file"||t.hasFiles;r&&t.lib._notifyFilesChanged(),t.type==="file"?(t.parent._notifyFileRemoved(t),this.files=this.files.concat(t).sort(xd)):(t.parent._notifyDirRemoved(t),this.dirs=this.dirs.concat(t).sort(xd)),t._notifyParentChanged(this),r&&this.lib._notifyFilesChanged(),this.lib.vfs._notifyEntriesMoved()}createDir(t){if(!t)throw new Q$;const n=this.getEntry(t);if(n){if(n.type==="dir")return n;throw new Mg(n)}const r=new xb(t,this);return this.dirs=this.dirs.concat(r).sort(xd),r}createFile(t,n){const r=this._createFile(t,n);return this.lib._notifyFilesChanged(),r}setSearchDirMarker(t){this.isSearchDir=t}getDir(t){const n=t.toUpperCase();return this.dirs.find(r=>r.nameUC===n)||null}getFile(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||null}getEntry(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||this.dirs.find(r=>r.nameUC===n)||null}resolveDir(t){if(!t)return this;const n=t.split("/");let r=this;for(let i=0;i<n.length;++i){const o=r.getDir(n[i]);if(!o)return null;r=o}return r}resolveFile(t){if(!t)return null;const n=t.lastIndexOf("/");return n<0?this.getFile(t):this.resolveDir(t.slice(0,n))?.resolveFile(t.slice(n+1))||null}_createFile(t,n){if(!t)throw new Q$;const r=this.getEntry(t);if(r)throw new Mg(r);const i=new Zve(t,n,this);return this.files=this.files.concat(i).sort(xd),i}_notifyDirRemoved(t){this.dirs=this.dirs.filter(n=>n!==t)}_notifyFileRemoved(t){this.files=this.files.filter(n=>n!==t)}_notifyDirRenamed(){this.dirs=this.dirs.slice().sort(xd)}_notifyFileRenamed(){this.files=this.files.slice().sort(xd)}_notifyParentChanged(t){this.parent=t,this.lib!==t.lib&&this.updateTreeAndLibRecursive(t.lib)}updateTreeAndLibRecursive(t){this.lib=t,this.dirs.forEach(n=>n.updateTreeAndLibRecursive(t))}removeRecursive(t){this.isDeleted=!0,t.add(this),this.dirs.forEach(n=>n.removeRecursive(t)),this.files.forEach(n=>n._notifyParentDeleted()),this.dirs=[],this.files=[]}hasAncestor(t){return this===t||this.parent?.hasAncestor(t)||!1}*recursive(){for(const t of this.dirs)yield*t.recursive();for(const t of this.files)yield t}}class J${constructor(t,n,{isDefault:r=!1,isReadonly:i=!1}={}){this.isDirty=!1,this.vfs=t,this.isDefault=r,this.isReadonly=r||i,this.rootDir=new xb(n,this),Rt(this,{isDirty:Be.ref,setDirtyMarker:_e,toJSON:!1})}setDirtyMarker(t){this.isDirty=t}toJSON(){function t(n,r="",i=[]){for(const o of n.dirs)t(o,r+o.name+"/",i);for(const o of n.files){const s=r+o.name;i.push({path:s,...o.toJSON()})}return i}return{version:CP,files:t(this.rootDir)}}_notifyFilesChanged(){this.isDirty=!0}}class nye{constructor(){this.libs=[],this.projectFile=null,this.onDirsRemoved=new gi,this.onEntriesMoved=new gi,Rt(this,{libs:Be.ref,projectFile:!1,createLibrary:_e,resolveDir:!1,resolveFile:!1,setProjectFile:!1})}get projectRootDir(){return this.projectFile?.parent||null}setProjectFile(t){this.projectFile=t}createLibrary(t,{files:n},r){const i=new J$(this,t,r);for(const o of n){const s=o.path.split("/");let a=i.rootDir;for(let c=0;c<s.length-1;++c)a=a.createDir(s[c]);a._createFile(s[s.length-1],o)}return this.libs=this.libs.concat(i),i}resolveDir(t){const n=this.getRootDir(t);return n&&n.resolveDir(t.slice(n.name.length+1))}resolveFile(t){const n=this.getRootDir(t);return n&&n.resolveFile(t.slice(n.name.length+1))}_notifyDirsRemoved(t){this.onDirsRemoved.dispatch(t)}_notifyEntriesMoved(){this.onEntriesMoved.dispatch()}getRootDir(t){const n=t.toUpperCase();let r=null;for(const i of this.libs){const{rootDir:o}=i;n.startsWith(o.nameUC)&&(!r||r.name.length<o.name.length)&&(r=o)}return r}}class rye{constructor(){this.type="all",this.text="",this.textUC="",Rt(this,{textUC:Be.ref,type:Be.ref,text:Be.ref,isActive:mi,setType:_e,setText:_e,isFilePassing:!1})}get isActive(){const{type:t,text:n}=this;return t!=="all"||n.length>1}setType(t){this.type=t}setText(t){this.text=t,this.textUC=t.toUpperCase()}isFilePassing(t){const{type:n,textUC:r}=this,i=n==="all"||n==="klass"&&!!t.klass||n==="image"&&!!t.image,o=!r||(t.klass?t.klass.nameUC+" "+t.nameUC:t.nameUC).includes(r);return i&&o}isDirPassing(t){return t.dirs.some(n=>this.isDirPassing(n))||t.files.some(n=>this.isFilePassing(n))}}class iye extends Error{constructor(t){super(`Проект ${t} загружается`)}}class oye{constructor(t,n){if(this.fs=t,!n.projects.length)throw Error("Список проектов пуст");const r=n.projects.map(i=>{const o=t.path(i.filepath||"project.spj");return{config:i,path:o,state:{type:"notLoaded"}}});this.projects=r,this.initialProjectPath=n.initial?t.path(n.initial):r[0].path}exists(t){return this.projects.some(({path:n})=>n.equals(t))}async open(t){const n=this.projects.find(({path:o})=>o.equals(t));if(!n)return null;const r=n.state;if(r.type==="loading")throw new iye(n.path);if(r.type==="loaded")return r.parsedProjectConfig;n.state={type:"loading"};let i;try{const{fs:o}=this,{path:s,config:a}=n;await Promise.all(a.libs.map(y=>o.mountLibrary(y)));const{searchDirs:c,stt:u}=a.settings,h=s.resolve(".."),f=[o.stdlibDir,h].concat(c?.map(y=>o.path(y))??[]),g=u?o.path(u):h.resolve("_preload.stt"),m=g.file()?.stt;m||console.warn(`Файл состояния ${g} не существует`),i={settings:a.settings,filepath:s,dir:h,searchDirs:f,stt:m}}catch(o){throw n.state={type:"notLoaded"},o}return n.state={type:"loaded",parsedProjectConfig:i},i}}class e3{constructor(){this.currentTask=null,this.onError=new aa,this.nextTaskStep=t=>{let n;try{n=this.currentTask.next(t)}catch(r){throw this.onError.dispatch(r),r}this.handleTaskResult(n)},this.rejectTask=t=>{let n;try{n=this.currentTask.throw(t)}catch(r){throw this.onError.dispatch(r),r}this.handleTaskResult(n)}}handleTaskResult(t){if(t.done){this.currentTask=null;return}Promise.resolve(t.value).then(this.nextTaskStep,this.rejectTask)}canRunTask(){return!this.currentTask}runTask(t){Fp(!this.currentTask,"Предыдущий генератор должен завершить свое выполнение"),this.currentTask=t,this.nextTaskStep()}}class sye{constructor(t,n,r){this.handlers={closed:new Set,error:new Set,shell:new Set,write:new Set,afterCycle:new Set},this.onProjectOpen=new aa,this.beforeProjectClosed=new aa,this.beforeCompute=new aa,this.afterCompute=new aa,this.beforeRender=new aa,this.classes=new xce,this.iterations=0,this.isPaused=!1,this.pluginFunctions={},this.compiler=new PP,this.pluginNames=[],this.optionalPlugins=[],this.projects=[],this.closedProjects=new Set,this.mainTaskRunner=new e3,this.uiEventsEnabled=!0,this.lag=0,this.timeStep=0,this.curIterator=null,this.update=i=>{let o=!0;if(!this.isPaused)if(this.timeStep>0){const s=i-this.lag;for(s>this.timeStep*10&&(console.warn(`lag обнулен: dt:${s}`),this.lag=i-this.timeStep-1);this.lag+this.timeStep<i&&(this.lag+=this.timeStep,!!(o=this.compute())););}else o=this.compute();return this.beforeRender.dispatch(),o},this.showed=new Set,this.runner=new jp(r),this.projectLoader=new oye(t,n),this.initialCfg=this.init(),this.mainTaskRunner.onError.add(this.handleError.bind(this))}async init(){const t=this.projectLoader,n=await t.open(t.initialProjectPath);Fp(n,`Корневой проект ${t.initialProjectPath} должен существовать`),this.initialCfg=n}async ready(){return await this.initialCfg,this}get fs(){return this.projectLoader.fs}get currentProject(){const{projects:t}=this;return t.length?t[t.length-1]:null}canHandleProjectUiEvents(t){return this.uiEventsEnabled&&this.projects.includes(t)}run(){if(this.initialCfg instanceof Promise)throw Error(`${this.projectLoader.initialProjectPath}: Начальный проект не загружен`);this.projects.length||(this.uiEventsEnabled=!0,this.isPaused=!1,this.iterations=0,this.addProject(this.initialCfg),this.runner.run(this.update))}stop(){this.closeAll(),this.compute()}step(){this.isPaused=!0,this.compute()}pause(){this.isPaused=!0}block(){this.uiEventsEnabled=!1,this.isPaused=!0}unblock(){this.uiEventsEnabled=!0,this.isPaused=!1}continue(){this.isPaused=!1}closeProject(t){const n=this.projects.indexOf(t);n>=0&&this.projects.splice(n,1),this.closedProjects.add(t)}closeAll(){let t;for(;t=this.projects.pop();)this.closedProjects.add(t)}hasProject(t){return this.projectLoader.exists(t)}async openProject(t){const n=await this.projectLoader.open(t);return n?this.addProject(n):null}async addProject({filepath:t,searchDirs:n,dir:r,stt:i,settings:o}){Ti.debugProject&&console.log(`Открывается ${t}`);const s=Symbol(t.toString());let a;try{if(o.plugins)for(const u of o.plugins){const h=this.optionalPlugins.find(({plugin:f})=>f.name===u);Fp(h,`${t}: Плагин '${u}' требуется для работы проекта`),await this.setupPlugin(h.plugin,h.opts),Ti.debugProject&&console.log(`Загружен плагин '${u}'`)}n.forEach(u=>{const h=!o.nonRecursive||u.equals(this.fs.stdlibDir);u.forEach(f=>{if(!f.cls||this.classes.hasFile(f))return;const g=new Cce({projectId:s,data:f.cls,file:f,compiler:this.compiler,modelGlobals:this.pluginFunctions});g.isFunction&&this.compiler.addUserFunc(g.getUserFunctionSignature()),this.classes.add(g)},h)});const c=this.classes.get(o.rootClass);Fp(c,`${t}: Корневой имидж ${o.rootClass} должен существовать`),a=new Lce({kernel:this,id:s,filepath:t,dir:r,rootKlass:c,state:i,settings:o})}catch(c){throw this.classes.unload(s),c}return this.projects.push(a),this.onProjectOpen.dispatch(a),a}canRunMainTask(){return this.mainTaskRunner.canRunTask()}runMainTask(t){this.mainTaskRunner.runTask(t)}runParallelTask(t){new e3().runTask(t)}handleError(t){this.runner.stop();let n=`Ошибка: ${t.message}`;this.projects.length>0&&(n+=`
В проекте ${this.projects[this.projects.length-1].id.description}`);const r=this.curIterator?.getCurrentNode();r&&(n+=`
В имидже ${r.path()}`),this.handlers.error.forEach(i=>i(n)),console.error(n)}*rootTask(){const t=this.projects[this.projects.length-1];yield*this.curIterator=t.root.compute(!1),++this.iterations,this.handlers.afterCycle.forEach(n=>n())}compute(){return this.canRunMainTask()?(this.closedProjects.forEach(t=>{Ti.debugProject&&console.log(`Закрывается ${t.id.description}`),this.beforeProjectClosed.dispatch(t),this.classes.unload(t.id)}),this.closedProjects.clear(),this.projects.length?(this.runMainTask(this.rootTask()),!0):(this.handlers.closed.forEach(t=>t()),!1)):!0}setIterationsPerSecond(t){this.timeStep=t>0?1e3/t:0,this.lag=0}log(t,n){Ti.logMessage&&console.info(n?`${n.path()}: ${t}`:t)}handleExe(t,n){const r=t.lastIndexOf(".exe"),i=r<0?t:t.substring(0,r);return this.handlers.shell.forEach(o=>o(i,"","",n??0)),!0}handleShell(t,n,r,i){return this.handlers.shell.forEach(o=>o(t,n,r,i)),!0}handleWrite(t,n){this.handlers.write.forEach(r=>r(t.toString(),n)),t.startsWith(this.fs.downloadsDir)&&B0(new Blob([n],{type:"text/plain"}),t.basename())}async setupPlugin(t,n){this.pluginNames.includes(t.name)||(t.deps?.forEach(r=>{if(!this.pluginNames.includes(r))throw Error(`Плагин '${t.name}' зависит от '${r}'`)}),this.pluginNames.push(t.name),t.register((r,i,o)=>{const s=this.compiler.addFunc(r,i);this.pluginFunctions[s]=o}),await t.setup?.(this,n))}registerPlugin(t,n){this.optionalPlugins.push({plugin:t,opts:n})}_functionNotImplemented(t,n){if(this.showed.size===this.showed.add(t.toUpperCase()).size)return;const r=`${t} не реализована`;console.warn(n?`${n.path()}: ${r}`:r)}dispose(){this.windowSystem?.windowFactory.dispose()}}class aye{constructor(t){this.kernel=t}async ready(){return await this.kernel.ready(),this}get status(){const{kernel:t}=this;return t.currentProject?t.isPaused?"paused":"playing":"closed"}play(){return this.kernel.run(),this}close(){return this.kernel.stop(),this}pause(){return this.kernel.pause(),this}continue(){return this.kernel.continue(),this}step(){return this.kernel.step(),this}addPlugin(t,n){return this.kernel.registerPlugin(t,n),this}on(t,n){return this.kernel.handlers[t].add(n),this}off(t,n){const r=this.kernel.handlers[t];return n?r.delete(n):this.kernel.handlers[t].clear(),this}dispose(){this.kernel.dispose()}}function lye(e){e.style.transformOrigin="top left",e.insertAdjacentHTML("afterend",`
<div id="mobzoom-icons-container">
    <img draggable="false" id="mobzoom-in-btn" src="images/zoom-in-icon.svg" />
    <img draggable="false" id="mobzoom-out-btn" src="images/zoom-out-icon.svg" />
</div>`);const n=document.getElementById("mobzoom-in-btn");n.oncontextmenu=N=>N.preventDefault();const r=document.getElementById("mobzoom-out-btn");r.oncontextmenu=N=>N.preventDefault();const i=new jp(e.ownerDocument.defaultView);let o=1;const s=()=>{if(!isNaN(a))o*=1.05;else if(!isNaN(c))o*=.95;else return!1;return o=Math.min(Math.max(o,.1),1),e.style.transform=`scale(${o})`,e.style.width=`${100/o}%`,e.style.height=`${100/o}%`,!0};let a=NaN;n.onpointerdown=N=>{isNaN(a)&&(i.run(s),n.setPointerCapture(a=N.pointerId))},n.onpointerup=N=>{a===N.pointerId&&(a=NaN)},n.onpointercancel=N=>{a===N.pointerId&&(a=NaN)};let c=NaN;r.onpointerdown=N=>{isNaN(c)&&(i.run(s),r.setPointerCapture(c=N.pointerId))},r.onpointerup=N=>{c===N.pointerId&&(c=NaN)},r.onpointercancel=N=>{c===N.pointerId&&(c=NaN)};const u=new jp(e.ownerDocument.defaultView);let h=null;const f=new Map;let g=0,m=0;function y(N){if(!(f.size>2)){if(f.size<2){h=null,(Math.abs(g)>1||Math.abs(m)>1)&&u.run(()=>(g-=Math.sign(g)*.4,m-=Math.sign(m)*.4,e.scrollLeft-=g,e.scrollTop-=m,Math.abs(g)>1||Math.abs(m)>1));return}N.stopPropagation();{h=[...f.values()];const[D,L]=h;D.x-L.x,D.y-L.y}}}let b=null;function v(N){f.set(N.pointerId,{id:N.pointerId,x:N.screenX,y:N.screenY}),u.stop(),N.isPrimary&&(b=[N.clientX,N.clientY]),y(N)}function S(N){f.delete(N.pointerId),N.isPrimary&&(b=null,E.stop()),y(N)}const E=new jp(e.ownerDocument.defaultView),T=100;let R=[0,0];function M(){const[N,D]=R;if(b){const $=N-b[0],F=D-b[1];if($**2+F**2<100)return!1}let L=0,A=0;if(N<T)L=N-T;else{const $=window.innerWidth-N;$<T&&(L=T-$)}if(L/=40,D<T)A=D-T;else{const $=window.innerHeight-D;$<T&&(A=T-$)}return A/=40,L&&(e.scrollLeft+=Math.E**Math.abs(L)*Math.sign(L)),A&&(e.scrollTop+=Math.E**Math.abs(A)*Math.sign(A)),!0}function I(N){if(!h&&N.isPrimary?(R[0]=N.clientX,R[1]=N.clientY,E.run(M)):E.stop(),!h)return;const D=f.get(N.pointerId);if(D){N.isPrimary||(N.stopPropagation(),g=N.screenX-D.x,m=N.screenY-D.y,e.scrollLeft-=g,e.scrollTop-=m);{const[L,A]=h;L.x-A.x,L.y-A.y}D.x=N.screenX,D.y=N.screenY}}e.addEventListener("pointerdown",v,{capture:!0}),e.addEventListener("pointerup",S),e.addEventListener("pointercancel",S),e.addEventListener("pointermove",I,{capture:!0})}const Og={root:"c3UHApxQ",mywindow:"JtozXFt9",top:"pnlxzH3m",popup:"dJ50k0ZR","close-button":"_2NuvSdcG"};function cye(){const e=document.createElement("button");return e.textContent="×",e.className=Og["close-button"],e}class uye{constructor(t,{popup:n,content:r,...i},o=null){this.system=t,this.relativeTo=o,this.onClosed=new aa,this.x=0,this.y=0,this.width=0,this.height=0,this.title="",this.visible=!0,this.scale=1,this.instantClose=!1,this.isClosed=!1,this.hideTimeout=0;const s=this.view=r;if(this.popup=n||!1,this.set(i),this.width=s.clientWidth,this.height=s.clientHeight,queueMicrotask(this.appear.bind(this)),n)i.closeOnFocusOut&&s.addEventListener("focusout",this.onFocusOut.bind(this));else if(i.caption){const a=cye();s.children.item(0)?.append(a),a.addEventListener("click",this.close.bind(this)),this.instantClose=!0}}appear(){this.visible&&(this.view.style.opacity="1")}onFocusOut(t){this.view.contains(t.relatedTarget)||this.close()}close(){this.isClosed||(this.isClosed=!0,this.remove(),this.onClosed.dispatch())}toTop(){}set({x:t=this.x,y:n=this.y,title:r=this.title,visible:i=this.visible,preserveX:o}){const{view:s}=this,{style:a}=s;if(this.title!==r&&(this.view.ariaLabel=`Окно '${r}'`),this.popup){if(o){const c=this.relativeTo?.offsetLeft||0;a.setProperty("left",t+c+"px"),a.setProperty("right","unset")}else a.removeProperty("left"),a.removeProperty("right");if(this.y!==n){const c=this.relativeTo?.offsetTop||0;a.setProperty("top",n+c+"px")}}return this.visible!==i&&(this.view.style.opacity=i?"1":"0",this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(()=>this.view.style.setProperty("display",i?"block":"none"),i?0:250)),this.x=t,this.y=n,this.title=r,this.visible=i,this}makeRelativeTo(t){if(this.popup){const{style:n}=this.view,r=t.offsetLeft();console.log(this.x,r),n.setProperty("left",this.x+r+"px"),n.setProperty("right","unset");const i=t.offsetTop();n.setProperty("top",this.y+i+"px")}}offsetLeft(){return this.view.offsetLeft}offsetTop(){return this.view.offsetTop}remove1(){this.view.style.opacity="0",setTimeout(()=>this.view.remove(),250)}remove(){this.system._removeWindow(this),this.popup?this.remove1():this.remove1()}}const t3={root:"stratum-player-root"};class dye{constructor(t){this.firstWindow=null;const n=(typeof t=="string"?document.getElementById(t):t)||document.body,r=this.root=document.createElement("div");r.classList.add(Og.root,t3.root),n.append(r),Ti.isMobile&&lye(n)}get screenWidth(){return this.root.clientWidth}get screenHeight(){return this.root.clientHeight}_removeWindow(t){this.firstWindow===t&&(this.firstWindow=null)}createWindow(t){const n=t.content;n.classList.add(Og.mywindow,t.popup?Og.popup:Og.top),n.style.opacity="0";let{x:r=0,y:i=0}=t;this.root.appendChild(n),t.popup&&(r=Math.max(r,0),i=Math.max(i,0),n.offsetHeight&&(i=Math.min(i,this.screenHeight-n.offsetHeight-16)),Cd(n,{left:r+"px",top:i+"px"}));const o=document.activeElement?.hasAttribute("data-gspace-key")?document.activeElement:null,s=new uye(this,{...t,x:r,y:i},o);return!t.popup&&!this.firstWindow&&(this.firstWindow=s),requestAnimationFrame(()=>n.focus({preventScroll:!0})),s}dispose(){this.root.remove()}}class hye{create(t,n){return new o$(t)}}async function fye(e){const t=await OC.create(),n=new dye(Ti.root),r=n.root.ownerDocument.defaultView||window,i=new sye(t,e,r),s={sceneFactory:new hye,windowFactory:n};for(const a of sA)await i.setupPlugin(a,s);return new aye(i).ready()}var _=Xo();const Vn=Gv(_),aM=hq({__proto__:null,default:Vn},[_]);class pye{constructor(){this.vars=[],Rt(this,{vars:Be.ref,add:_e,clear:_e,remove:_e})}add(t){this.vars.includes(t)||(this.vars=this.vars.concat(t))}remove(t){this.vars=this.vars.filter(n=>n!==t)}clear(){this.vars=[]}}class gye{constructor(t,{klassVar:n}){this.value="",this.schema=t,this.klassVar=n,this._updateValue(),Rt(this,{value:Be.ref,setValue:_e})}get id(){return this.klassVar.id.toString()}get name(){return this.klassVar.name}get type(){return this.klassVar.type}setValue(t){const{klassVar:n,schema:r}=this,i=Hp(n.type,t);if(i===null)return!1;const o=r._pSchema.vars.setValue(n,i);return o&&this._updateValue(),o}_updateValue(){const{klassVar:t,schema:n}=this,r=n._pSchema.vars.getNewValue(t);this.value=jP(t.type,r)}}const mye={};class lM{constructor({pSchema:t,parent:n=null,root:r=this,player:i}){this.itemId=Zv(),this.isActive=!1,this.root=r,this.parent=n,this.player=i,this._pSchema=t,this.vars=t.klass.vars.list.map(o=>new gye(this,{klassVar:o})),this.children=t.children.map(o=>new lM({root:r,player:i,pSchema:o,parent:this})),Rt(this,{isActive:Be.ref,makeActive:_e})}get imageData(){const{image:t}=this._pSchema.klass;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this._pSchema.klass.image?.icon||mye}makeActive(){this.isActive=!0,this.player._setActiveSchema(this)}toString(){const{_pSchema:t}=this;return t.ndata?`${t.klass.name} #${t.ndata.key}`:t.klass.name}_updateValues(){this.vars.forEach(t=>t._updateValue())}}const vye=4;class yye{constructor(t,{player:n}){this.isMinimized=!1,this.activeSchema=null,this.rootSchema=null,this.iterationCount=0,this.iterationPerSecond=0,this.onPlayerClosed=()=>{this.player.dispose(),this.mgr._onPlayerClosed()},this.prevTime=Date.now(),this.onPlayerCycleCompleted=()=>{const r=this.player.kernel.iterations,i=Date.now();this.iterationPerSecond=Math.round((r-this.iterationCount)/(i-this.prevTime)*1e3),this.iterationCount=r,this.prevTime=i;const{currentProject:o}=this.player.kernel;if(!o){this.rootSchema=null;return}if((!this.rootSchema||this.rootSchema._pSchema!==o.root)&&(this.rootSchema=new lM({pSchema:o.root,player:this}),this.activeSchema=this.rootSchema,this.markedVars.clear(),this.mgr._updateMarkedVars(this.rootSchema)),this.status==="paused"||!((this.iterationCount-1)%vye)){const s=new Set;this.activeSchema&&s.add(this.activeSchema),this.markedVars.vars.forEach(a=>{s.add(a.schema)}),s.forEach(a=>{a._updateValues()})}},this.player=n,this.mgr=t,this.status=n.status,this.markedVars=new pye,Rt(this,{isMinimized:Be.ref,status:Be.ref,activeSchema:Be.ref,rootSchema:Be.ref,iterationCount:Be.ref,onPlayerClosed:_e,onPlayerCycleCompleted:_e,close:_e,continue:_e,maximize:_e,minimize:_e,pause:_e,step:_e}),n.on("closed",this.onPlayerClosed),n.on("afterCycle",this.onPlayerCycleCompleted)}updatePlayerStatus(){this.status=this.player.status}close(){this.player.close()}pause(){this.player.pause(),this.updatePlayerStatus()}continue(){this.player.continue(),this.updatePlayerStatus()}step(){this.player.step(),this.updatePlayerStatus()}minimize(){this.isMinimized=!0}maximize(){this.isMinimized=!1}_setActiveSchema(t){this.activeSchema=t}}class bye{constructor(t){this.onBeforeRun=new gi,this.mountRef=_.createRef(),this.status="closed",this.player=null,this.markedVars=new Set,this.project=t,Rt(this,{player:Be.ref,status:Be.ref,openPlayer:Mi})}addMarkedVar(t){this.markedVars.add(t)}removeMarkedVar(t){this.markedVars.delete(t)}*openPlayer(){if(this.status!=="closed")return;const t=this.mountRef.current;if(!t)return;this.status="initializing",this.onBeforeRun.dispatch(),Ti.cache="no-cache",Ti.debugProject=!0,Ti.logMessage=!0,Ti.root=t;const{project:n}=this;n.saveSchemaStateToFile();const r=n.toRemoteProjectData(!0),i=[r].concat(n.subProjects.map(a=>a.config)),o=r.filepath;console.log({projects:i,initial:o});let s;try{s=yield fye({projects:i,initial:o})}catch(a){throw this._onPlayerClosed(),alert(a.message),a}s.on("error",alert);try{s.play()}catch(a){throw s.dispose(),this._onPlayerClosed(),alert(`При запуске проекта произошла ошибка:
`+a.message),a}this.player=new yye(this,{player:s}),this.status="running"}_onPlayerClosed(){this.status="closed",this.player=null}_updateMarkedVars(t){this.markedVars.forEach(n=>{let r=n.schema;const i=[r.key];for(;;){const a=r.parent;if(!a||!a.key)break;i.push(a.key),r=a}let o=t;for(const a of i.reverse()){const c=o.children.find(u=>u._pSchema.ndata?.key===a);if(!c)return;o=c}const s=o.vars.find(a=>a.name===n.name);s&&this.player?.markedVars.add(s)})}}class n3{constructor(t,n,r,i){this.project=t,this.id=n,this.name=r,this.config=i,Rt(this,{remove:_e})}remove(){this.project._removeSubProject(this)}}class wye{constructor(t){this.isDirty=!1,this.libs=[],this.subProjects=[],this.vfsFilter=new rye,this.vfsFilterVisible=new Kd,this.player=new bye(this),this.tabs=new Xve,this.onCollapseFilesButtonClick=new gi,this.onNodeSelected=new gi,this.vfsFileTransfer=new sM("fileContent"),this.selectSchema=n=>{this.onNodeSelected.dispatch(n)},this.apiClient=t.apiClient,this.id=t.id,this.accessKey=t.accessKey,this.name=t.name,this.vfs=t.vfs,this.schema=t.schema,this.klassLibraryBuilder=t.classLibraryBuilder,this.plugins=t.plugins,this.projectFile=t.projectFile,this.sttFile=t.sttFile,this.libs=t.libs,this.subProjects=t.subProjects.map(({id:n,name:r,config:i})=>new n3(this,n,r,i)),this.editorMultiplexer=new Nve({fileContentTransfer:this.vfsFileTransfer,getFileUploader:this.getFileUploader.bind(this)}),this.syncer=new zve({apiClient:t.apiClient,project:this}),Rt(this,{isDirty:Be.ref,libs:Be.ref,subProjects:Be.ref,plugins:Be.ref,sttFile:Be.ref,setRecursiveKlassSearch:_e,addKlassSearchDir:_e,removeKlassSearchDir:_e,addSubProject:_e,createNewKlass:_e,openBinaryFile:_e,focusOnNode:_e,openFile:_e,openKlassCode:_e,openKlassProps:_e,openKlassScene:_e,openMatrixFile:_e,openSceneFile:_e,openSchema:_e,saveSchemaStateToFile:_e,setDirtyMarker:_e,getFileUploader:!1,toRemoteProjectData:!1})}close(){return this.hasChanges&&!confirm("Несохраненные изменения будут потеряны, продолжить?")?!1:(this.player.player?.close(),this.tabs.tabs.every(t=>t.close()))}get hasChanges(){return this.isDirty||this.schema.isStateChanged||this.libs.some(t=>t.hasChanges)}get klassLibrary(){return this.klassLibraryBuilder.klassLibrary}get recursiveKlassSearch(){return this.klassLibraryBuilder.recursiveSearch}get klassSearchDirs(){return this.klassLibraryBuilder.searchDirs}addMarkedVar(t){this.player.addMarkedVar(t)}removeMarkedVar(t){this.player.removeMarkedVar(t)}setDirtyMarker(t){this.isDirty=t}setRecursiveKlassSearch(t){const{klassLibraryBuilder:n}=this;n.setRecursiveSearch(t),n.rebuildLibrary(),this.isDirty=!0}addKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.addSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}removeKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.removeSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}addSubProject(t,n,r){const i=new n3(this,t,n,r);return this.subProjects=this.subProjects.concat(i).sort((o,s)=>Ap(o.config.filepath||"",s.config.filepath||"")),this.isDirty=!0,i}createNewKlass(t,n){bP(t);const r=this.klassLibrary.get(t);if(r)throw new Y$(r);const i=Wh(n,t,"cls"),o=n.createFile(i,{cls:wP(t)});return this.klassLibraryBuilder.rebuildLibrary(),o.klass}saveSchemaStateToFile(){const{schema:t}=this;if(!t.isStateChanged)return;const n=t.getState(!0);this.sttFile||(this.sttFile=this.projectFile.parent.createFile("_preload.stt",{stt:n}).stt),this.sttFile.setData(n),t.markStateUnchanged()}openSchema(t){const n=this.editorMultiplexer.openSchemaEditor(t);if(this.tabs.addTab(n)){const{scene:r}=n.editor;r.onNodeSelected.add(this.selectSchema),r.onSaved.add(()=>{r.schema&&(this.schema.hasNode(r.schema)||this.schema.applyChanges())})}return n}focusOnNode(t,n=!1){const r=this.openSchema(t.parent||t);t.parent?r.editor.scene.children.find(i=>i.schema===t)?.select(n):r.editor.scene.selection?.reset()}openKlassProps(t){this.tabs.addTab(this.editorMultiplexer.openKlassPropsEditor(t))}openKlassScene(t){this.openSchema(new Cb(t,this.klassLibrary,{isFake:!0}))}openKlassCode(t){const n=this.klassLibrary,r=this.editorMultiplexer.openCodeEditor({klass:t,lib:n,pluginsGetter:()=>[]});if(this.tabs.addTab(r)){const{editor:i}=r;i.onError.add(o=>{alert(o)}),i.onSaved.add(()=>this.schema.applyChanges())}}openFile(t){if(t.klass){this.openKlassProps(t.klass);return}if(t.scene){this.tabs.addTab(this.editorMultiplexer.openFileSceneEditor(t.scene));return}if(t.binary){this.tabs.addTab(this.editorMultiplexer.openBinaryFileEditor(t.binary));return}}openSceneFile(t){}openMatrixFile(t){}openBinaryFile(t){}getFileUploader(t){const n=this.libs.find(r=>r.vfsLib===t);return n?new qq(this.apiClient,n):null}toRemoteProjectData(t){const n={rootClass:this.schema.klass.name,searchDirs:this.klassLibraryBuilder.searchDirs.map(r=>r.path),nonRecursive:!this.klassLibraryBuilder.recursiveSearch,stt:this.sttFile?.file.path,plugins:this.plugins};return{filepath:this.projectFile.path,libs:this.libs.map(r=>r.toRemoteFilesData(t)),settings:n}}_removeSubProject(t){this.subProjects=this.subProjects.filter(n=>n!==t),this.isDirty=!0}async export(){const t=await this.apiClient.getProjectPlayerZip(this.id);B0(t,`${this.id}.zip`)}}class Sye{constructor(t,n,r,i){this.id=t,this.name=n,this.contentDirname=r,this.vfsLib=i}get hasChanges(){return this.vfsLib.isDirty}remove(){}toRemoteFilesData(t){return{src:this.contentDirname,mount:this.vfsLib.rootDir.name,data:Di(t&&this.vfsLib.toJSON())}}}class r3{constructor({libDto:t,parent:n,selector:r}){this.selector=r,this.id=t.id,this.name=t.name,this.parent=n,this.contentDirname=t.contentDirname,Rt(this,{getPath:!1})}getPath(){const t=this.parent.getPath();return t?t+"/"+this.name:this.name}}class cM{constructor({selector:t,projectDto:n,parent:r}){this.parent=r,this.selector=t,this.projectDto=n,Rt(this,{select:_e})}get id(){return this.projectDto.id}get name(){return this.projectDto.name}get config(){return this.projectDto.config}select(){this.selector._onProjectSelected(this)}}const Cye={id:0,name:""};class _b{constructor({selector:t,apiClient:n,dirDto:r=Cye,parent:i=null}){this.dirs=[],this.libs=[],this.projects=[],this.isChildrenFetching=!1,this.isChildrenFetched=!1,this.selector=t,this.apiClient=n,this.id=r.id,this.name=r.name,this.parent=i,Rt(this,{isChildrenFetching:Be.ref,isChildrenFetched:Be.ref,libs:Be.ref,dirs:Be.ref,projects:Be.ref,clear:_e,fetchChildren:Mi,createNewDir:Mi,createNewLibrary:Mi,createNewProject:Mi,getPath:!1})}*fetchChildren(){if(this.isChildrenFetching||this.isChildrenFetched)return;const{apiClient:t,selector:n}=this;this.isChildrenFetching=!0;let r;try{this.id?r=yield t.getDirContent(this.id,{libs:!0,projects:!0}):r=yield t.getRootDirContent({libs:!0,projects:!0})}finally{this.isChildrenFetching=!1}this.isChildrenFetched=!0,this.dirs=r.dirs.map(i=>new _b({selector:n,parent:this,apiClient:t,dirDto:i})).sort((i,o)=>Ap(i.name,o.name)),r.libs&&(this.libs=r.libs.map(i=>new r3({selector:n,parent:this,apiClient:t,libDto:i})).sort((i,o)=>Ap(i.name,o.name))),r.projects&&(this.projects=r.projects?.map(i=>new cM({selector:n,parent:this,projectDto:i})).sort((i,o)=>Ap(i.name,o.name)))}clear(){this.isChildrenFetched=!1,this.dirs=[],this.libs=[]}*createNewDir(t){const{apiClient:n,selector:r}=this,{dir:i,created:o}=yield n.createDir(t,this.id);if(!o)throw new rs(`Каталог '${i.name}' уже существует`);const s=new _b({dirDto:i,selector:r,apiClient:n,parent:this});return this.dirs=this.dirs.concat(s),s}*createNewLibrary(t){const{apiClient:n,selector:r}=this,{library:i,created:o}=yield n.createLib(t,this.id);if(!o)throw new rs(`Библиотека '${i.name}' уже существует`);const s=new r3({libDto:i,selector:r,apiClient:n,parent:this});return this.libs=this.libs.concat(s),s}*createNewProject(t,n,r){const{selector:i,apiClient:o}=this,{project:s,created:a}=yield o.createProject({name:t,config:n,parentDirId:this.id,libIds:[r.id]});if(!a)throw new rs(`Проект '${s.name}' уже существует`);const c=new cM({selector:i,parent:this,projectDto:s});return this.projects=this.projects.concat(c),c}getPath(){const t=this.parent?.getPath();return t?t+"/"+this.name:this.name}}class i3{constructor(t,n=!1){this.onProjectSelected=new gi,this.isProjectCreationInProgress=!1,this.apiClient=t,this.libsMode=n,this.root=new _b({selector:this,apiClient:t}),Rt(this,{isProjectCreationInProgress:Be.ref,createNewProject:Mi,getDirById:!1})}*createNewProject(t){const n=t.getPath(),r=prompt(`Введите название проекта (будет создан в ${n?`папке '${n}'`:"корневой папке"})`);if(!r)return;let i;this.isProjectCreationInProgress=!0;try{const o=yield t.createNewLibrary(r),s="project.spj",a="root";yield this.apiClient.updateLibraryIndex(o.id,{version:CP,files:[{path:s},{path:"root.cls",cls:wP(a)}]});const c=o.getPath(),u={settings:{rootClass:a},libs:[{src:o.contentDirname,mount:c}],filepath:c+"/"+s};i=yield t.createNewProject(r,u,o)}catch(o){if(o instanceof iM){alert(o.message);return}throw o}finally{this.isProjectCreationInProgress=!1}this.onProjectSelected.dispatch(i)}getDirById(t){return(function n(r){if(r.id===t)return r;for(const i of r.dirs){const o=n(i);if(o)return o}return null})(this.root)}_onProjectSelected(t){this.onProjectSelected.dispatch(t)}}class xye{constructor({apiClient:t}){this.loadingMessage="Инициализация редактора",this.currentProject=null,this.ctxMenu=new Pve,this.currentModalDialog=_.createRef(),this.activeLeftPanelActiveView=new Yme("schema"),this.mainMenuVisible=new Kd,this.loginFormVisible=new Kd,this.leftPanelMinimized=new Kd,this.rightPanelMinimized=new Kd,this.subProjectSelectorVisible=new Kd,this.librarySelectorVisible=new Kd,this.onNewSession=o=>{Lq(this.getLocalStorageCredentialsKey(),o),this.onLogin()},this.onBeforeLogout=()=>{this.closeCurrentProject()&&(this.apiClient.removeAuthData(),Nq(this.getLocalStorageCredentialsKey()),this.projectSelector.root.clear(),this.mainMenuVisible.setFalse(),this.loginFormVisible.setTrue())},this.onProjectSelected=o=>{this.mainMenuVisible.setFalse(),!(o.id===this.currentProject?.id||!this.closeCurrentProject())&&(Wq(o.id),o instanceof cM&&"subprojects"in o.projectDto?this.changeProject(o.projectDto):this.loadProjectById(o.id))},this.onPopState=o=>{this.loginFormVisible.isTrue||(o.preventDefault(),this.mainMenuVisible.setFalse(),this.tryLoadPreviousProject())},this.onBeforeUnload=o=>{const{currentProject:s}=this;s&&(s.tabs.tabs.length||s.hasChanges)&&o.preventDefault()},this.apiClient=t,t.onError.add(o=>alert("API: "+o)),(this.projectSelector=new i3(t)).onProjectSelected.add(this.onProjectSelected),(this.subProjectSelector=new i3(t)).onProjectSelected.add(({id:o,name:s,config:a})=>{this.currentProject?.addSubProject(o,s,a),this.subProjectSelectorVisible.setFalse()});const i=this.accountSettings=new kve(t);i.onLogin.add(this.onNewSession),i.onBeforeLogout.add(this.onBeforeLogout),Rt(this,{currentProject:Be.ref,loadingMessage:Be.ref,openSubProject:_e,onPopState:_e,init:Mi,changeProject:Mi,loadProjectById:Mi}),window.addEventListener("popstate",this.onPopState),window.addEventListener("beforeunload",this.onBeforeUnload),window.addEventListener("error",({error:o})=>alert(o.message)),window.addEventListener("keydown",qme.bind(null,this))}*init(){let t=!1;const n=Aq(this.getLocalStorageCredentialsKey());n&&(this.loadingMessage="Вход в аккаунт",t=yield this.accountSettings.restorePrevSession(n)),this.loadingMessage="",t?this.onLogin():this.onBeforeLogout()}openSubProject(t){this.onProjectSelected(t)}onLogin(){this.projectSelector.root.fetchChildren(),this.loginFormVisible.setFalse(),this.tryLoadPreviousProject()}closeCurrentProject(){const{currentProject:t}=this;return t&&!t.close()?!1:(this.currentProject=null,!0)}tryLoadPreviousProject(){const t=Gq();if(t){if(this.currentProject?.id===t||!this.closeCurrentProject())return;this.loadProjectById(t)}else{if(!this.closeCurrentProject())return;this.mainMenuVisible.setTrue()}}*loadProjectById(t){this.loadingMessage=`Получение информации о проекте 'id:${t}'`;let n;try{n=yield this.apiClient.getProject(t)}catch(r){throw this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.changeProject(n)}*changeProject(t){let n;try{const{config:r}=t,i=`Загрузка ресурсов проекта '${r.filepath||t.name}'`;console.log(i),console.log(t),this.loadingMessage=i;const o=new nye,s=_y({src:lP}),a=t.libs.map(async M=>{const{id:I,name:N,writeAccess:D,contentDirname:L}=M,A=await _y({src:L},{cache:"no-cache"}),$=r.libs.find(H=>H.src===L).mount,F=o.createLibrary($,A,{isReadonly:!D});return new Sye(I,N,L,F)}),c=yield Promise.all(a),u=o.resolveFile(r.filepath||"project.spj");if(!u)throw new rs(`Файл проекта '${r.filepath}' не существует`);const h=u.parent;o.setProjectFile(u);const f=yield s,g=o.createLibrary("Стандартная библиотека",f,{isDefault:!0});this.loadingMessage="Построение схемы имиджей";const m=new Ave(o);m.setRecursiveSearch(!r.settings.nonRecursive),m.setStandardSearchDir(g.rootDir),m.addSearchDir(h),r.settings.searchDirs?.forEach(M=>{const I=o.resolveDir(M);I?m.addSearchDir(I):console.warn(`Каталог поиска имиджей '${M}' не существует`)}),m.rebuildLibrary();const y=m.klassLibrary,b=r.settings.rootClass,v=y.get(b);if(!v)throw new rs(`Корневой имидж '${b}' не существует`);const S=r.settings.stt,E=S?o.resolveFile(S):h.getFile("_preload.stt"),T=E?.type==="file"?E.stt:null,R=new Cb(v,y,T?.data);n=new wye({apiClient:this.apiClient,id:t.id,accessKey:t.accessKey,name:t.name,vfs:o,schema:R,classLibraryBuilder:m,plugins:r.settings.plugins||[],projectFile:u,sttFile:T,libs:c,subProjects:t.subprojects})}catch(r){throw alert(`При загрузке проекта произошла ошибка:
`+r.message),this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.currentProject=n,console.log(SP(n)),this.onProjectChanged(n)}onProjectChanged(t){t.focusOnNode(t.schema)}getLocalStorageCredentialsKey(){return`${Ed.localStoragePrefix}/session_data`}}class qt{constructor(t=!1){const n=this;n.d=[],n[Eb]=n[Eb],n[Ig]=n[Ig],(typeof t!="boolean"||!t)&&Rt(this,{props:Be.ref})}get m(){return this.props.m}addDisposer(t){this.d.push(t)}}const Rg=qt.prototype,_ye=Object,Eye=_ye.assign,Eb="parent",Ig="props",o3={vmFactory:(e,t)=>new e(t),Wrapper:_.Fragment},s3=_.createContext(null);function uM({value:e,children:t}){return _.createElement(s3.Provider,{value:e},t)}function dM(){return _.useContext(s3)}if(!_.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Rt)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Tb=uT();const Mb=Gv(Tb);function Tye(e){e()}function Mye(e){e||(e=Tye),ade({reactionScheduler:e})}function Oye(e){return cde(e)}var Rye=1e4,Iye=1e4,kye=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Rye),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,s){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Iye))}}),e})(),Pye=typeof FinalizationRegistry<"u"?FinalizationRegistry:kye,hM=new Pye(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),fM={exports:{}},pM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function Dye(){if(a3)return pM;a3=1;var e=Xo();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(f,g){var m=g(),y=r({inst:{value:m,getSnapshot:g}}),b=y[0].inst,v=y[1];return o(function(){b.value=m,b.getSnapshot=g,c(b)&&v({inst:b})},[f,m,g]),i(function(){return c(b)&&v({inst:b}),f(function(){c(b)&&v({inst:b})})},[f]),s(m),m}function c(f){var g=f.getSnapshot;f=f.value;try{var m=g();return!n(f,m)}catch{return!0}}function u(f,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return pM.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,pM}var l3;function c3(){return l3||(l3=1,fM.exports=Dye()),fM.exports}var gM=c3();function u3(e){e.reaction=new kl("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function Aye(e,t){t===void 0&&(t="observed");var n=Vn.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return hM.unregister(r),r.onStoreChange=a,r.reaction||(u3(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(u3(i),hM.register(n,i,i)),Vn.useDebugValue(i.reaction,Oye),gM.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o,s;if(i.reaction.track(function(){try{o=e()}catch(a){s=a}}),s)throw s;return o}var mM,vM,d3=typeof Symbol=="function"&&Symbol.for,Lye=(vM=(mM=Object.getOwnPropertyDescriptor(function(){},"name"))===null||mM===void 0?void 0:mM.configurable)!==null&&vM!==void 0?vM:!1,h3=d3?Symbol.for("react.forward_ref"):typeof _.forwardRef=="function"&&_.forwardRef(function(e){return null}).$$typeof,f3=d3?Symbol.for("react.memo"):typeof _.memo=="function"&&_.memo(function(e){return null}).$$typeof;function kg(e,t){var n;if(f3&&e.$$typeof===f3)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=e,o=e.displayName||e.name;if(h3&&e.$$typeof===h3&&(r=!0,i=e.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(a,c){return Aye(function(){return i(a,c)},o)};return s.displayName=e.displayName,Lye&&Object.defineProperty(s,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(s.contextTypes=e.contextTypes),r&&(s=_.forwardRef(s)),s=_.memo(s),Bye(e,s),s}var Nye={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Bye(e,t){Object.keys(e).forEach(function(n){Nye[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var yM;Mye(Tb.unstable_batchedUpdates),yM=hM.finalizeAllImmediately;const Ob=_.createContext(null),p3=(e,t,n={},r,i=e.$$typeof===Symbol.for("react.forward_ref"),o,s,a)=>(o=(c,u)=>(s=t(c),a=_.createElement(_.useState(()=>n.observer===!1?e:kg(e))[0],Eye({},c,{vm:s,ref:i?u:void 0})),r&&(a=_.createElement(Ob.Provider,{value:s},a)),_.createElement(o3.Wrapper,null,a)),i&&(o=_.forwardRef(o)),o=_.memo(o,n.propsAreEqual),o),Fye="onViewMounted",jye="onViewUpdated",Vye="onViewUnmounted",$ye="onViewMountedSync",zye="onViewUpdatedSync",Uye="onViewUnmountedSync",g3=(e,t,n,r,i,o,s,a=_.useRef(!1))=>{e(()=>{a.current&&(o&&o(),t[n]&&t[n]()),a.current=!0}),e(()=>(t[r]&&t[r](),()=>{s&&s(),t[i]&&t[i]()}),[])},Wt=e=>(t,n)=>p3(t,(r,i)=>{const o=dM();return i=_.useContext(Ob),i=_.useState(s=>(Rg[Eb]=i,Rg[Ig]=r,s=o3.vmFactory(e,o),delete Rg[Eb],delete Rg[Ig],s))[0],g3(_.useEffect,i,jye,Fye,Vye,null,()=>i.d=i.d.filter(s=>{s()})),g3(_.useLayoutEffect,i,zye,$ye,Uye,_e(()=>i[Ig]=r)),i},n,e.name||"Anonymous"),ho=()=>(e,t)=>p3(e,()=>_.useContext(Ob),t);for(const[e,t]of[[qA,"autorun"],[ede,"reaction"]])Rg[t]=function(){return this.d[this.d.push(e.apply(0,arguments))-1]};class VWe extends _.PureComponent{static{this.contextType=Ob}get viewModel(){return this.context}}function nl(){return dM().app}function bM(){return dM().project}function m3(){return nl().currentModalDialog}function Hye({app:e,children:t}){return x.jsx(uM,{value:{app:e},children:t})}function Gye({project:e,children:t}){const n=nl();return x.jsx(uM,{value:{app:n,project:e},children:t})}class Wye extends qt{constructor(){super()}}class Kye extends qt{constructor(){super(),this.onClick=t=>{this.parent._close(),this.m.action()},Rt(this,{onClick:_e})}get title(){return this.m.title}get icon(){return this.m.icon}}class qye extends qt{constructor(){super(...arguments),this.onClose=(t,n)=>{this.m.close()}}get isOpen(){return this.m.isOpen}get anchorPosition(){const{anchorPosition:t}=this.m;return{top:t.y,left:t.x}}get menuItems(){return this.m.menuItems}_close(){this.m.close()}}function Rb(e){e.preventDefault()}function Yye(e){e.stopPropagation()}function Xye(e){return e+" !important"}function v3(e){e.preventDefault(),document.activeElement?.blur()}function Zye(){const e=_.useRef(null);return{ref:e,onFocus:n=>{n.relatedTarget!==e.current&&e.current?.focus()}}}const Pg={black:"#000",white:"#fff"},hf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ff={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},wu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},pf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ll={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Dg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Qye={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function _c(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const Ag="$$material";function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}function Jye(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ebe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var tbe=(function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ebe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Jye(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e})(),Qo="-ms-",Ib="-moz-",Rr="-webkit-",y3="comm",wM="rule",SM="decl",nbe="@import",b3="@keyframes",rbe="@layer",ibe=Math.abs,kb=String.fromCharCode,obe=Object.assign;function sbe(e,t){return Vo(e,0)^45?(((t<<2^Vo(e,0))<<2^Vo(e,1))<<2^Vo(e,2))<<2^Vo(e,3):0}function w3(e){return e.trim()}function abe(e,t){return(e=t.exec(e))?e[0]:e}function Ir(e,t,n){return e.replace(t,n)}function CM(e,t){return e.indexOf(t)}function Vo(e,t){return e.charCodeAt(t)|0}function Lg(e,t,n){return e.slice(t,n)}function Nl(e){return e.length}function xM(e){return e.length}function Pb(e,t){return t.push(e),e}function lbe(e,t){return e.map(t).join("")}var Db=1,gf=1,S3=0,ms=0,to=0,mf="";function Ab(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Db,column:gf,length:s,return:""}}function Ng(e,t){return obe(Ab("",null,null,"",null,null,0),e,{length:-e.length},t)}function cbe(){return to}function ube(){return to=ms>0?Vo(mf,--ms):0,gf--,to===10&&(gf=1,Db--),to}function js(){return to=ms<S3?Vo(mf,ms++):0,gf++,to===10&&(gf=1,Db++),to}function Bl(){return Vo(mf,ms)}function Lb(){return ms}function Bg(e,t){return Lg(mf,e,t)}function Fg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C3(e){return Db=gf=1,S3=Nl(mf=e),ms=0,[]}function x3(e){return mf="",e}function Nb(e){return w3(Bg(ms-1,_M(e===91?e+2:e===40?e+1:e)))}function dbe(e){for(;(to=Bl())&&to<33;)js();return Fg(e)>2||Fg(to)>3?"":" "}function hbe(e,t){for(;--t&&js()&&!(to<48||to>102||to>57&&to<65||to>70&&to<97););return Bg(e,Lb()+(t<6&&Bl()==32&&js()==32))}function _M(e){for(;js();)switch(to){case e:return ms;case 34:case 39:e!==34&&e!==39&&_M(to);break;case 40:e===41&&_M(e);break;case 92:js();break}return ms}function fbe(e,t){for(;js()&&e+to!==57;)if(e+to===84&&Bl()===47)break;return"/*"+Bg(t,ms-1)+"*"+kb(e===47?e:js())}function pbe(e){for(;!Fg(Bl());)js();return Bg(e,ms)}function gbe(e){return x3(Bb("",null,null,null,[""],e=C3(e),0,[0],e))}function Bb(e,t,n,r,i,o,s,a,c){for(var u=0,h=0,f=s,g=0,m=0,y=0,b=1,v=1,S=1,E=0,T="",R=i,M=o,I=r,N=T;v;)switch(y=E,E=js()){case 40:if(y!=108&&Vo(N,f-1)==58){CM(N+=Ir(Nb(E),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:N+=Nb(E);break;case 9:case 10:case 13:case 32:N+=dbe(y);break;case 92:N+=hbe(Lb()-1,7);continue;case 47:switch(Bl()){case 42:case 47:Pb(mbe(fbe(js(),Lb()),t,n),c);break;default:N+="/"}break;case 123*b:a[u++]=Nl(N)*S;case 125*b:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+h:S==-1&&(N=Ir(N,/\f/g,"")),m>0&&Nl(N)-f&&Pb(m>32?E3(N+";",r,n,f-1):E3(Ir(N," ","")+";",r,n,f-2),c);break;case 59:N+=";";default:if(Pb(I=_3(N,t,n,u,h,i,a,T,R=[],M=[],f),o),E===123)if(h===0)Bb(N,t,I,I,R,o,f,a,M);else switch(g===99&&Vo(N,3)===110?100:g){case 100:case 108:case 109:case 115:Bb(e,I,I,r&&Pb(_3(e,I,I,0,0,i,a,T,i,R=[],f),M),i,M,f,a,r?R:M);break;default:Bb(N,I,I,I,[""],M,0,a,M)}}u=h=m=0,b=S=1,T=N="",f=s;break;case 58:f=1+Nl(N),m=y;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&ube()==125)continue}switch(N+=kb(E),E*b){case 38:S=h>0?1:(N+="\f",-1);break;case 44:a[u++]=(Nl(N)-1)*S,S=1;break;case 64:Bl()===45&&(N+=Nb(js())),g=Bl(),h=f=Nl(T=N+=pbe(Lb())),E++;break;case 45:y===45&&Nl(N)==2&&(b=0)}}return o}function _3(e,t,n,r,i,o,s,a,c,u,h){for(var f=i-1,g=i===0?o:[""],m=xM(g),y=0,b=0,v=0;y<r;++y)for(var S=0,E=Lg(e,f+1,f=ibe(b=s[y])),T=e;S<m;++S)(T=w3(b>0?g[S]+" "+E:Ir(E,/&\f/g,g[S])))&&(c[v++]=T);return Ab(e,t,n,i===0?wM:a,c,u,h)}function mbe(e,t,n){return Ab(e,t,n,y3,kb(cbe()),Lg(e,2,-2),0)}function E3(e,t,n,r){return Ab(e,t,n,SM,Lg(e,0,r),Lg(e,r+1,-1),r)}function vf(e,t){for(var n="",r=xM(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function vbe(e,t,n,r){switch(e.type){case rbe:if(e.children.length)break;case nbe:case SM:return e.return=e.return||e.value;case y3:return"";case b3:return e.return=e.value+"{"+vf(e.children,r)+"}";case wM:e.value=e.props.join(",")}return Nl(n=vf(e.children,r))?e.return=e.value+"{"+n+"}":""}function ybe(e){var t=xM(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function bbe(e){return function(t){t.root||(t=t.return)&&e(t)}}function T3(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var wbe=function(t,n,r){for(var i=0,o=0;i=o,o=Bl(),i===38&&o===12&&(n[r]=1),!Fg(o);)js();return Bg(t,ms)},Sbe=function(t,n){var r=-1,i=44;do switch(Fg(i)){case 0:i===38&&Bl()===12&&(n[r]=1),t[r]+=wbe(ms-1,n,r);break;case 2:t[r]+=Nb(i);break;case 4:if(i===44){t[++r]=Bl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=kb(i)}while(i=js());return t},Cbe=function(t,n){return x3(Sbe(C3(t),n))},M3=new WeakMap,xbe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!M3.get(r))&&!i){M3.set(t,!0);for(var o=[],s=Cbe(n,o),a=r.props,c=0,u=0;c<s.length;c++)for(var h=0;h<a.length;h++,u++)t.props[u]=o[c]?s[c].replace(/&\f/g,a[h]):a[h]+" "+s[c]}}},_be=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function O3(e,t){switch(sbe(e,t)){case 5103:return Rr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Rr+e+Ib+e+Qo+e+e;case 6828:case 4268:return Rr+e+Qo+e+e;case 6165:return Rr+e+Qo+"flex-"+e+e;case 5187:return Rr+e+Ir(e,/(\w+).+(:[^]+)/,Rr+"box-$1$2"+Qo+"flex-$1$2")+e;case 5443:return Rr+e+Qo+"flex-item-"+Ir(e,/flex-|-self/,"")+e;case 4675:return Rr+e+Qo+"flex-line-pack"+Ir(e,/align-content|flex-|-self/,"")+e;case 5548:return Rr+e+Qo+Ir(e,"shrink","negative")+e;case 5292:return Rr+e+Qo+Ir(e,"basis","preferred-size")+e;case 6060:return Rr+"box-"+Ir(e,"-grow","")+Rr+e+Qo+Ir(e,"grow","positive")+e;case 4554:return Rr+Ir(e,/([^-])(transform)/g,"$1"+Rr+"$2")+e;case 6187:return Ir(Ir(Ir(e,/(zoom-|grab)/,Rr+"$1"),/(image-set)/,Rr+"$1"),e,"")+e;case 5495:case 3959:return Ir(e,/(image-set\([^]*)/,Rr+"$1$`$1");case 4968:return Ir(Ir(e,/(.+:)(flex-)?(.*)/,Rr+"box-pack:$3"+Qo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rr+e+e;case 4095:case 3583:case 4068:case 2532:return Ir(e,/(.+)-inline(.+)/,Rr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nl(e)-1-t>6)switch(Vo(e,t+1)){case 109:if(Vo(e,t+4)!==45)break;case 102:return Ir(e,/(.+:)(.+)-([^]+)/,"$1"+Rr+"$2-$3$1"+Ib+(Vo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~CM(e,"stretch")?O3(Ir(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Vo(e,t+1)!==115)break;case 6444:switch(Vo(e,Nl(e)-3-(~CM(e,"!important")&&10))){case 107:return Ir(e,":",":"+Rr)+e;case 101:return Ir(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rr+(Vo(e,14)===45?"inline-":"")+"box$3$1"+Rr+"$2$3$1"+Qo+"$2box$3")+e}break;case 5936:switch(Vo(e,t+11)){case 114:return Rr+e+Qo+Ir(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Rr+e+Qo+Ir(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Rr+e+Qo+Ir(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Rr+e+Qo+e+e}return e}var Ebe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case SM:t.return=O3(t.value,t.length);break;case b3:return vf([Ng(t,{value:Ir(t.value,"@","@"+Rr)})],i);case wM:if(t.length)return lbe(t.props,function(o){switch(abe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vf([Ng(t,{props:[Ir(o,/:(read-\w+)/,":"+Ib+"$1")]})],i);case"::placeholder":return vf([Ng(t,{props:[Ir(o,/:(plac\w+)/,":"+Rr+"input-$1")]}),Ng(t,{props:[Ir(o,/:(plac\w+)/,":"+Ib+"$1")]}),Ng(t,{props:[Ir(o,/:(plac\w+)/,Qo+"input-$1")]})],i)}return""})}},Tbe=[Ebe],Mbe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var v=b.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=t.stylisPlugins||Tbe,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var v=b.getAttribute("data-emotion").split(" "),S=1;S<v.length;S++)o[v[S]]=!0;a.push(b)});var c,u=[xbe,_be];{var h,f=[vbe,bbe(function(b){h.insert(b)})],g=ybe(u.concat(i,f)),m=function(v){return vf(gbe(v),g)};c=function(v,S,E,T){h=E,m(v?v+"{"+S.styles+"}":S.styles),T&&(y.inserted[S.name]=!0)}}var y={key:n,sheet:new tbe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return y.sheet.hydrate(a),y},EM={exports:{}},Ar={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3;function Obe(){if(R3)return Ar;R3=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function T(M){if(typeof M=="object"&&M!==null){var I=M.$$typeof;switch(I){case t:switch(M=M.type,M){case c:case u:case r:case o:case i:case f:return M;default:switch(M=M&&M.$$typeof,M){case a:case h:case y:case m:case s:return M;default:return I}}case n:return I}}}function R(M){return T(M)===u}return Ar.AsyncMode=c,Ar.ConcurrentMode=u,Ar.ContextConsumer=a,Ar.ContextProvider=s,Ar.Element=t,Ar.ForwardRef=h,Ar.Fragment=r,Ar.Lazy=y,Ar.Memo=m,Ar.Portal=n,Ar.Profiler=o,Ar.StrictMode=i,Ar.Suspense=f,Ar.isAsyncMode=function(M){return R(M)||T(M)===c},Ar.isConcurrentMode=R,Ar.isContextConsumer=function(M){return T(M)===a},Ar.isContextProvider=function(M){return T(M)===s},Ar.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},Ar.isForwardRef=function(M){return T(M)===h},Ar.isFragment=function(M){return T(M)===r},Ar.isLazy=function(M){return T(M)===y},Ar.isMemo=function(M){return T(M)===m},Ar.isPortal=function(M){return T(M)===n},Ar.isProfiler=function(M){return T(M)===o},Ar.isStrictMode=function(M){return T(M)===i},Ar.isSuspense=function(M){return T(M)===f},Ar.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===u||M===o||M===i||M===f||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===y||M.$$typeof===m||M.$$typeof===s||M.$$typeof===a||M.$$typeof===h||M.$$typeof===v||M.$$typeof===S||M.$$typeof===E||M.$$typeof===b)},Ar.typeOf=T,Ar}var I3;function Rbe(){return I3||(I3=1,EM.exports=Obe()),EM.exports}var TM,k3;function Ibe(){if(k3)return TM;k3=1;var e=Rbe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function s(y){return e.isMemo(y)?i:o[y.$$typeof]||t}var a=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,g=Object.prototype;function m(y,b,v){if(typeof b!="string"){if(g){var S=f(b);S&&S!==g&&m(y,S,v)}var E=c(b);u&&(E=E.concat(u(b)));for(var T=s(y),R=s(b),M=0;M<E.length;++M){var I=E[M];if(!n[I]&&!(v&&v[I])&&!(R&&R[I])&&!(T&&T[I])){var N=h(b,I);try{a(y,I,N)}catch{}}}}return y}return TM=m,TM}Ibe();var kbe=!0;function P3(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var MM=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||kbe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},OM=function(t,n,r){MM(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Pbe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Dbe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Abe=/[A-Z]|^ms/g,Lbe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,D3=function(t){return t.charCodeAt(1)===45},A3=function(t){return t!=null&&typeof t!="boolean"},RM=T3(function(e){return D3(e)?e:e.replace(Abe,"-$&").toLowerCase()}),L3=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Lbe,function(r,i,o){return Fl={name:i,styles:o,next:Fl},i})}return Dbe[t]!==1&&!D3(t)&&typeof n=="number"&&n!==0?n+"px":n};function jg(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Fl={name:i.name,styles:i.styles,next:Fl},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Fl={name:s.name,styles:s.styles,next:Fl},s=s.next;var a=o.styles+";";return a}return Nbe(e,t,n)}case"function":{if(e!==void 0){var c=Fl,u=n(e);return Fl=c,jg(e,t,u)}break}}var h=n;if(t==null)return h;var f=t[h];return f!==void 0?f:h}function Nbe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=jg(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":A3(a)&&(r+=RM(o)+":"+L3(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var c=0;c<s.length;c++)A3(s[c])&&(r+=RM(o)+":"+L3(o,s[c])+";");else{var u=jg(e,t,s);switch(o){case"animation":case"animationName":{r+=RM(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var N3=/label:\s*([^\s;{]+)\s*(;|$)/g,Fl;function Vg(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Fl=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=jg(n,t,o);else{var s=o;i+=s[0]}for(var a=1;a<e.length;a++)if(i+=jg(n,t,e[a]),r){var c=o;i+=c[a]}N3.lastIndex=0;for(var u="",h;(h=N3.exec(i))!==null;)u+="-"+h[1];var f=Pbe(i)+u;return{name:f,styles:i,next:Fl}}var Bbe=function(t){return t()},B3=aM.useInsertionEffect?aM.useInsertionEffect:!1,F3=B3||Bbe,j3=B3||_.useLayoutEffect,V3=_.createContext(typeof HTMLElement<"u"?Mbe({key:"css"}):null);V3.Provider;var IM=function(t){return _.forwardRef(function(n,r){var i=_.useContext(V3);return t(n,i,r)})},Fb=_.createContext({}),kM={}.hasOwnProperty,PM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Fbe=function(t,n){var r={};for(var i in n)kM.call(n,i)&&(r[i]=n[i]);return r[PM]=t,r},jbe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return MM(n,r,i),F3(function(){return OM(n,r,i)}),null},Vbe=IM(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[PM],o=[r],s="";typeof e.className=="string"?s=P3(t.registered,o,e.className):e.className!=null&&(s=e.className+" ");var a=Vg(o,void 0,_.useContext(Fb));s+=t.key+"-"+a.name;var c={};for(var u in e)kM.call(e,u)&&u!=="css"&&u!==PM&&(c[u]=e[u]);return c.className=s,n&&(c.ref=n),_.createElement(_.Fragment,null,_.createElement(jbe,{cache:t,serialized:a,isStringTag:typeof i=="string"}),_.createElement(i,c))}),$be=Vbe,$3=function(t,n){var r=arguments;if(n==null||!kM.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=$be,o[1]=Fbe(t,n);for(var s=2;s<i;s++)o[s]=r[s];return _.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})($3||($3={}));var zbe=IM(function(e,t){var n=e.styles,r=Vg([n],void 0,_.useContext(Fb)),i=_.useRef();return j3(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",o),s.hydrate([c])),i.current=[s,a],function(){s.flush()}},[t]),j3(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&OM(t,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Su(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vg(t)}function ya(){var e=Su.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ube=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Hbe=T3(function(e){return Ube.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Gbe=Hbe,Wbe=function(t){return t!=="theme"},z3=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Gbe:Wbe},U3=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Kbe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return MM(n,r,i),F3(function(){return OM(n,r,i)}),null},qbe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=U3(t,n,r),c=a||z3(i),u=!c("as");return function(){var h=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)f.push.apply(f,h);else{var g=h[0];f.push(g[0]);for(var m=h.length,y=1;y<m;y++)f.push(h[y],g[y])}var b=IM(function(v,S,E){var T=u&&v.as||i,R="",M=[],I=v;if(v.theme==null){I={};for(var N in v)I[N]=v[N];I.theme=_.useContext(Fb)}typeof v.className=="string"?R=P3(S.registered,M,v.className):v.className!=null&&(R=v.className+" ");var D=Vg(f.concat(M),S.registered,I);R+=S.key+"-"+D.name,s!==void 0&&(R+=" "+s);var L=u&&a===void 0?z3(T):c,A={};for(var $ in v)u&&$==="as"||L($)&&(A[$]=v[$]);return A.className=R,E&&(A.ref=E),_.createElement(_.Fragment,null,_.createElement(Kbe,{cache:S,serialized:D,isStringTag:typeof T=="string"}),_.createElement(T,A))});return b.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=f,b.__emotion_forwardProp=a,Object.defineProperty(b,"toString",{value:function(){return"."+s}}),b.withComponent=function(v,S){var E=e(v,W({},n,S,{shouldForwardProp:U3(b,S,!0)}));return E.apply(void 0,f)},b}},Ybe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],DM=qbe.bind(null);Ybe.forEach(function(e){DM[e]=DM(e)});var AM={exports:{}},LM,H3;function Xbe(){if(H3)return LM;H3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return LM=e,LM}var NM,G3;function Zbe(){if(G3)return NM;G3=1;var e=Xbe();function t(){}function n(){}return n.resetWarningCache=t,NM=function(){function r(s,a,c,u,h,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},NM}var W3;function Qbe(){return W3||(W3=1,AM.exports=Zbe()()),AM.exports}var Jbe=Qbe();const Pe=Gv(Jbe);function ewe(e){return e==null||Object.keys(e).length===0}function twe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(ewe(i)?n:i):t;return x.jsx(zbe,{styles:r})}function K3(e,t){return DM(e,t)}function nwe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const q3=[];function Cu(e){return q3[0]=e,Vg(q3)}var BM={exports:{}},Wr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function rwe(){if(Y3)return Wr;Y3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case e:switch(b=b.type,b){case n:case i:case r:case c:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case s:case a:case f:case h:return b;case o:return b;default:return v}}case t:return v}}}return Wr.ContextConsumer=o,Wr.ContextProvider=s,Wr.Element=e,Wr.ForwardRef=a,Wr.Fragment=n,Wr.Lazy=f,Wr.Memo=h,Wr.Portal=t,Wr.Profiler=i,Wr.StrictMode=r,Wr.Suspense=c,Wr.SuspenseList=u,Wr.isContextConsumer=function(b){return y(b)===o},Wr.isContextProvider=function(b){return y(b)===s},Wr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Wr.isForwardRef=function(b){return y(b)===a},Wr.isFragment=function(b){return y(b)===n},Wr.isLazy=function(b){return y(b)===f},Wr.isMemo=function(b){return y(b)===h},Wr.isPortal=function(b){return y(b)===t},Wr.isProfiler=function(b){return y(b)===i},Wr.isStrictMode=function(b){return y(b)===r},Wr.isSuspense=function(b){return y(b)===c},Wr.isSuspenseList=function(b){return y(b)===u},Wr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===h||b.$$typeof===s||b.$$typeof===o||b.$$typeof===a||b.$$typeof===m||b.getModuleId!==void 0)},Wr.typeOf=y,Wr}var X3;function iwe(){return X3||(X3=1,BM.exports=rwe()),BM.exports}var Z3=iwe();function jl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Q3(e){if(_.isValidElement(e)||Z3.isValidElementType(e)||!jl(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Q3(e[n])}),t}function Mo(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return jl(e)&&jl(t)&&Object.keys(t).forEach(i=>{_.isValidElement(t[i])||Z3.isValidElementType(t[i])?r[i]=t[i]:jl(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&jl(e[i])?r[i]=Mo(e[i],t[i],n):n.clone?r[i]=jl(t[i])?Q3(t[i]):t[i]:r[i]=t[i]}),r}const owe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function swe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=owe(t),s=Object.keys(o);function a(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n})`}function c(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-r/100}${n})`}function u(g,m){const y=s.indexOf(m);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n}) and (max-width:${(y!==-1&&typeof t[s[y]]=="number"?t[s[y]]:m)-r/100}${n})`}function h(g){return s.indexOf(g)+1<s.length?u(g,s[s.indexOf(g)+1]):a(g)}function f(g){const m=s.indexOf(g);return m===0?a(s[1]):m===s.length-1?c(s[m]):u(g,s[s.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:c,between:u,only:h,not:f,unit:n,...i}}function J3(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function awe(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function lwe(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function cwe(e){const t=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>t(e.breakpoints.up(...a),s),o.down=(...a)=>t(e.breakpoints.down(...a),s),o.between=(...a)=>t(e.breakpoints.between(...a),s),o.only=(...a)=>t(e.breakpoints.only(...a),s),o.not=(...a)=>{const c=t(e.breakpoints.not(...a),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const uwe={borderRadius:4};function $g(e,t){return t?Mo(e,t,{clone:!1}):e}const jb={xs:0,sm:600,md:900,lg:1200,xl:1536},e2={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${jb[e]}px)`},dwe={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:jb[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function rl(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||e2;return t.reduce((s,a,c)=>(s[o.up(o.keys[c])]=n(t[c]),s),{})}if(typeof t=="object"){const o=r.breakpoints||e2;return Object.keys(t).reduce((s,a)=>{if(awe(o.keys,a)){const c=lwe(r.containerQueries?r:dwe,a);c&&(s[c]=n(t[a],a))}else if(Object.keys(o.values||jb).includes(a)){const c=o.up(a);s[c]=n(t[a],a)}else{const c=a;s[c]=t[c]}return s},{})}return n(t)}function t2(e={}){return e.keys?.reduce((n,r)=>{const i=e.up(r);return n[i]={},n},{})||{}}function FM(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function hwe(e,...t){const n=t2(e),r=[n,...t].reduce((i,o)=>Mo(i,o),{});return FM(Object.keys(n),r)}function fwe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function jM({values:e,breakpoints:t,base:n}){const r=n||fwe(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,a,c)=>(Array.isArray(e)?(s[a]=e[c]!=null?e[c]:e[o],o=c):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[o],o=a):s[a]=e,s),{})}function et(e){if(typeof e!="string")throw new Error(_c(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Vb(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function $b(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Vb(e,n)||r,t&&(i=t(i,r,e)),i}function Hi(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],c=s.theme,u=Vb(c,r)||{};return rl(s,a,f=>{let g=$b(u,i,f);return f===g&&typeof f=="string"&&(g=$b(u,i,`${t}${f==="default"?"":et(f)}`,f)),n===!1?g:{[n]:g}})};return o.propTypes={},o.filterProps=[t],o}function pwe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const gwe={m:"margin",p:"padding"},mwe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},n2={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vwe=pwe(e=>{if(e.length>2)if(n2[e])e=n2[e];else return[e];const[t,n]=e.split(""),r=gwe[t],i=mwe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),VM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$M=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VM,...$M];function zg(e,t,n,r){const i=Vb(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function zb(e){return zg(e,"spacing",8)}function qd(e,t){return typeof t=="string"||t==null?t:e(t)}function ywe(e,t){return n=>e.reduce((r,i)=>(r[i]=qd(t,n),r),{})}function bwe(e,t,n,r){if(!t.includes(n))return null;const i=vwe(n),o=ywe(i,r),s=e[n];return rl(e,s,o)}function r2(e,t){const n=zb(e.theme);return Object.keys(e).map(r=>bwe(e,t,r,n)).reduce($g,{})}function Ai(e){return r2(e,VM)}Ai.propTypes={},Ai.filterProps=VM;function Li(e){return r2(e,$M)}Li.propTypes={},Li.filterProps=$M;function i2(e=8,t=zb({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Ub(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?$g(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ba(e){return typeof e!="number"?e:`${e}px solid`}function wa(e,t){return Hi({prop:e,themeKey:"borders",transform:t})}const wwe=wa("border",ba),Swe=wa("borderTop",ba),Cwe=wa("borderRight",ba),xwe=wa("borderBottom",ba),_we=wa("borderLeft",ba),Ewe=wa("borderColor"),Twe=wa("borderTopColor"),Mwe=wa("borderRightColor"),Owe=wa("borderBottomColor"),Rwe=wa("borderLeftColor"),Iwe=wa("outline",ba),kwe=wa("outlineColor"),Hb=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=zg(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:qd(t,r)});return rl(e,e.borderRadius,n)}return null};Hb.propTypes={},Hb.filterProps=["borderRadius"],Ub(wwe,Swe,Cwe,xwe,_we,Ewe,Twe,Mwe,Owe,Rwe,Hb,Iwe,kwe);const Gb=e=>{if(e.gap!==void 0&&e.gap!==null){const t=zg(e.theme,"spacing",8),n=r=>({gap:qd(t,r)});return rl(e,e.gap,n)}return null};Gb.propTypes={},Gb.filterProps=["gap"];const Wb=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=zg(e.theme,"spacing",8),n=r=>({columnGap:qd(t,r)});return rl(e,e.columnGap,n)}return null};Wb.propTypes={},Wb.filterProps=["columnGap"];const Kb=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=zg(e.theme,"spacing",8),n=r=>({rowGap:qd(t,r)});return rl(e,e.rowGap,n)}return null};Kb.propTypes={},Kb.filterProps=["rowGap"];const Pwe=Hi({prop:"gridColumn"}),Dwe=Hi({prop:"gridRow"}),Awe=Hi({prop:"gridAutoFlow"}),Lwe=Hi({prop:"gridAutoColumns"}),Nwe=Hi({prop:"gridAutoRows"}),Bwe=Hi({prop:"gridTemplateColumns"}),Fwe=Hi({prop:"gridTemplateRows"}),jwe=Hi({prop:"gridTemplateAreas"}),Vwe=Hi({prop:"gridArea"});Ub(Gb,Wb,Kb,Pwe,Dwe,Awe,Lwe,Nwe,Bwe,Fwe,jwe,Vwe);function yf(e,t){return t==="grey"?t:e}const $we=Hi({prop:"color",themeKey:"palette",transform:yf}),zwe=Hi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:yf}),Uwe=Hi({prop:"backgroundColor",themeKey:"palette",transform:yf});Ub($we,zwe,Uwe);function Vs(e){return e<=1&&e!==0?`${e*100}%`:e}const Hwe=Hi({prop:"width",transform:Vs}),zM=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{const r=e.theme?.breakpoints?.values?.[n]||jb[n];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Vs(n)}};return rl(e,e.maxWidth,t)}return null};zM.filterProps=["maxWidth"];const Gwe=Hi({prop:"minWidth",transform:Vs}),Wwe=Hi({prop:"height",transform:Vs}),Kwe=Hi({prop:"maxHeight",transform:Vs}),qwe=Hi({prop:"minHeight",transform:Vs});Hi({prop:"size",cssProperty:"width",transform:Vs}),Hi({prop:"size",cssProperty:"height",transform:Vs});const Ywe=Hi({prop:"boxSizing"});Ub(Hwe,zM,Gwe,Wwe,Kwe,qwe,Ywe);const Ug={border:{themeKey:"borders",transform:ba},borderTop:{themeKey:"borders",transform:ba},borderRight:{themeKey:"borders",transform:ba},borderBottom:{themeKey:"borders",transform:ba},borderLeft:{themeKey:"borders",transform:ba},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ba},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hb},color:{themeKey:"palette",transform:yf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:yf},backgroundColor:{themeKey:"palette",transform:yf},p:{style:Li},pt:{style:Li},pr:{style:Li},pb:{style:Li},pl:{style:Li},px:{style:Li},py:{style:Li},padding:{style:Li},paddingTop:{style:Li},paddingRight:{style:Li},paddingBottom:{style:Li},paddingLeft:{style:Li},paddingX:{style:Li},paddingY:{style:Li},paddingInline:{style:Li},paddingInlineStart:{style:Li},paddingInlineEnd:{style:Li},paddingBlock:{style:Li},paddingBlockStart:{style:Li},paddingBlockEnd:{style:Li},m:{style:Ai},mt:{style:Ai},mr:{style:Ai},mb:{style:Ai},ml:{style:Ai},mx:{style:Ai},my:{style:Ai},margin:{style:Ai},marginTop:{style:Ai},marginRight:{style:Ai},marginBottom:{style:Ai},marginLeft:{style:Ai},marginX:{style:Ai},marginY:{style:Ai},marginInline:{style:Ai},marginInlineStart:{style:Ai},marginInlineEnd:{style:Ai},marginBlock:{style:Ai},marginBlockStart:{style:Ai},marginBlockEnd:{style:Ai},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Gb},rowGap:{style:Kb},columnGap:{style:Wb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vs},maxWidth:{style:zM},minWidth:{transform:Vs},height:{transform:Vs},maxHeight:{transform:Vs},minHeight:{transform:Vs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Xwe(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Zwe(e,t){return typeof e=="function"?e(t):e}function Qwe(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:f}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const g=Vb(i,u)||{};return f?f(s):rl(s,r,y=>{let b=$b(g,h,y);return y===b&&typeof y=="string"&&(b=$b(g,h,`${n}${y==="default"?"":et(y)}`,y)),c===!1?b:{[c]:b}})}function t(n){const{sx:r,theme:i={},nested:o}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Ug;function a(c){let u=c;if(typeof c=="function")u=c(i);else if(typeof c!="object")return c;if(!u)return null;const h=t2(i.breakpoints),f=Object.keys(h);let g=h;return Object.keys(u).forEach(m=>{const y=Zwe(u[m],i);if(y!=null)if(typeof y=="object")if(s[m])g=$g(g,e(m,y,i,s));else{const b=rl({theme:i},y,v=>({[m]:v}));Xwe(b,y)?g[m]=t({sx:y,theme:i,nested:!0}):g=$g(g,b)}else g=$g(g,e(m,y,i,s))}),!o&&i.modularCssLayers?{"@layer sx":J3(i,FM(f,g))}:J3(i,FM(f,g))}return Array.isArray(r)?r.map(a):a(r)}return t}const Yd=Qwe();Yd.filterProps=["sx"];function Jwe(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(e);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}function qb(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=e,a=swe(n),c=i2(i);let u=Mo({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...uwe,...o}},s);return u=cwe(u),u.applyStyles=Jwe,u=t.reduce((h,f)=>Mo(h,f),u),u.unstable_sxConfig={...Ug,...s?.unstable_sxConfig},u.unstable_sx=function(f){return Yd({sx:f,theme:this})},u}function eSe(e){return Object.keys(e).length===0}function tSe(e=null){const t=_.useContext(Fb);return!t||eSe(t)?e:t}const nSe=qb();function Yb(e=nSe){return tSe(e)}function UM(e){const t=Cu(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function rSe({styles:e,themeId:t,defaultTheme:n={}}){const r=Yb(n),i=t&&r[t]||r;let o=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(s=>UM(typeof s=="function"?s(i):s)):o=UM(o)),x.jsx(twe,{styles:o})}const iSe=e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Ug;return Object.keys(e).forEach(r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function HM(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=iSe(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return jl(a)?{...r,...a}:r}:o={...r,...t},{...i,sx:o}}const o2=e=>e,s2=(()=>{let e=o2;return{configure(t){e=t},generate(t){return e(t)},reset(){e=o2}}})();function a2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=a2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=a2(e))&&(r&&(r+=" "),r+=t);return r}function oSe(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=K3("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Yd);return _.forwardRef(function(c,u){const h=Yb(n),{className:f,component:g="div",...m}=HM(c);return x.jsx(o,{as:g,ref:u,className:tt(f,i?i(r):r),theme:t&&h[t]||h,...m})})}const sSe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function fn(e,t,n="Mui"){const r=sSe[t];return r?`${n}-${r}`:`${s2.generate(e)}-${t}`}function cn(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=fn(e,i,n)}),r}function l2(e){const{variants:t,...n}=e,r={variants:t,style:Cu(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=Cu(i.style))}),r}const aSe=qb();function bf(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Xd(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function lSe(e){return e?(t,n)=>n[e]:null}function cSe(e,t,n){e.theme=dSe(e.theme)?n:e.theme[t]||e.theme}function Xb(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(i=>Xb(e,i,n));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=n?Xd(r.style,n):r.style;else{const{variants:o,...s}=r;i=n?Xd(Cu(s),n):s}return c2(e,r.variants,[i],n)}return r?.isProcessed?n?Xd(Cu(r.style),n):r.style:n?Xd(Cu(r),n):r}function c2(e,t,n=[],r=void 0){let i;e:for(let o=0;o<t.length;o+=1){const s=t[o];if(typeof s.props=="function"){if(i??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(i))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&e.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(i??={...e,...e.ownerState,ownerState:e.ownerState},n.push(r?Xd(Cu(s.style(i)),r):s.style(i))):n.push(r?Xd(Cu(s.style),r):s.style)}return n}function u2(e={}){const{themeId:t,defaultTheme:n=aSe,rootShouldForwardProp:r=bf,slotShouldForwardProp:i=bf}=e;function o(a){cSe(a,t,n)}return(a,c={})=>{nwe(a,I=>I.filter(N=>N!==Yd));const{name:u,slot:h,skipVariantsResolver:f,skipSx:g,overridesResolver:m=lSe(fSe(h)),...y}=c,b=u&&u.startsWith("Mui")||h?"components":"custom",v=f!==void 0?f:h&&h!=="Root"&&h!=="root"||!1,S=g||!1;let E=bf;h==="Root"||h==="root"?E=r:h?E=i:hSe(a)&&(E=void 0);const T=K3(a,{shouldForwardProp:E,label:uSe(),...y}),R=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(D){return Xb(D,I,D.theme.modularCssLayers?b:void 0)};if(jl(I)){const N=l2(I);return function(L){return N.variants?Xb(L,N,L.theme.modularCssLayers?b:void 0):L.theme.modularCssLayers?Xd(N.style,b):N.style}}return I},M=(...I)=>{const N=[],D=I.map(R),L=[];if(N.push(o),u&&m&&L.push(function(H){const K=H.theme.components?.[u]?.styleOverrides;if(!K)return null;const z={};for(const Z in K)z[Z]=Xb(H,K[Z],H.theme.modularCssLayers?"theme":void 0);return m(H,z)}),u&&!v&&L.push(function(H){const K=H.theme?.components?.[u]?.variants;return K?c2(H,K,[],H.theme.modularCssLayers?"theme":void 0):null}),S||L.push(Yd),Array.isArray(D[0])){const F=D.shift(),H=new Array(N.length).fill(""),q=new Array(L.length).fill("");let K;K=[...H,...F,...q],K.raw=[...H,...F.raw,...q],N.unshift(K)}const A=[...N,...D,...L],$=T(...A);return a.muiName&&($.muiName=a.muiName),$};return T.withConfig&&(M.withConfig=T.withConfig),M}}function uSe(e,t){return void 0}function dSe(e){for(const t in e)return!1;return!0}function hSe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function fSe(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const or=u2();function Zd(e,t,n=!1){const r={...t};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=i;if(o==="components"||o==="slots")r[o]={...e[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const s=e[o],a=t[o];if(!a)r[o]=s||{};else if(!s)r[o]=a;else{r[o]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;r[o][u]=Zd(s[u],a[u],n)}}}else o==="className"&&n&&t.className?r.className=tt(e?.className,t?.className):o==="style"&&n&&t.style?r.style={...e?.style,...t?.style}:r[o]===void 0&&(r[o]=e[o])}return r}function d2(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Zd(t.components[n].defaultProps,r)}function h2({props:e,name:t,defaultTheme:n,themeId:r}){let i=Yb(n);return r&&(i=i[r]||i),d2({theme:i,name:t,props:e})}const cr=typeof window<"u"?_.useLayoutEffect:_.useEffect;function pSe(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function GM(e,t=0,n=1){return pSe(e,t,n)}function gSe(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xu(e){if(e.type)return e;if(e.charAt(0)==="#")return xu(gSe(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(_c(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(_c(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const mSe=e=>{const t=xu(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Hg=(e,t)=>{try{return mSe(e)}catch{return e}};function Zb(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function f2(e){e=xu(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(u,h=(u+n/30)%12)=>i-o*Math.max(Math.min(h-3,9-h,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",c.push(t[3])),Zb({type:a,values:c})}function WM(e){e=xu(e);let t=e.type==="hsl"||e.type==="hsla"?xu(f2(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function vSe(e,t){const n=WM(e),r=WM(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Sa(e,t){return e=xu(e),t=GM(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Zb(e)}function Qd(e,t,n){try{return Sa(e,t)}catch{return e}}function Gg(e,t){if(e=xu(e),t=GM(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Zb(e)}function $r(e,t,n){try{return Gg(e,t)}catch{return e}}function Wg(e,t){if(e=xu(e),t=GM(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Zb(e)}function zr(e,t,n){try{return Wg(e,t)}catch{return e}}function ySe(e,t=.15){return WM(e)>.5?Gg(e,t):Wg(e,t)}function Qb(e,t,n){try{return ySe(e,t)}catch{return e}}const bSe=_.createContext(),Oo=()=>_.useContext(bSe)??!1,wSe=_.createContext(void 0);function SSe(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Zd(i.defaultProps,r,t.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?Zd(i,r,t.components.mergeClassNameAndStyle):r}function CSe({props:e,name:t}){const n=_.useContext(wSe);return SSe({props:e,name:t,theme:{components:n}})}let p2=0;function xSe(e){const[t,n]=_.useState(e),r=e||t;return _.useEffect(()=>{t==null&&(p2+=1,n(`mui-${p2}`))},[t]),r}const g2={...aM}.useId;function er(e){if(g2!==void 0){const t=g2();return e??t}return xSe(e)}const m2={theme:void 0};function _Se(e){let t,n;return function(i){let o=t;return(o===void 0||i.theme!==n)&&(m2.theme=i.theme,o=l2(e(m2)),t=o,n=i.theme),o}}function ESe(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const v2=(e,t,n,r=[])=>{let i=e;t.forEach((o,s)=>{s===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},TSe=(e,t,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,c])=>{(!n||n&&!n([...o,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...o,a],Array.isArray(c)?[...s,a]:s):t([...o,a],c,s))})}r(e)},MSe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function KM(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return TSe(e,(a,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(a,c))){const h=`--${n?`${n}-`:""}${a.join("-")}`,f=MSe(a,c);Object.assign(i,{[h]:f}),v2(o,a,`var(${h})`,u),v2(s,a,`var(${h}, ${f})`,u)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function OSe(e,t={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:o}=t,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...u}=e,{vars:h,css:f,varsWithDefaults:g}=KM(u,t);let m=g;const y={},{[c]:b,...v}=s;if(Object.entries(v||{}).forEach(([R,M])=>{const{vars:I,css:N,varsWithDefaults:D}=KM(M,t);m=Mo(m,D),y[R]={css:N,vars:I}}),b){const{css:R,vars:M,varsWithDefaults:I}=KM(b,t);m=Mo(m,I),y[c]={css:R,vars:M}}function S(R,M){let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),R){if(I==="media")return e.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${s[R]?.palette?.mode||R})`]:{":root":M}};if(I)return e.defaultColorScheme===R?`:root, ${I.replace("%s",String(R))}`:I.replace("%s",String(R))}return":root"}return{vars:m,generateThemeVars:()=>{let R={...h};return Object.entries(y).forEach(([,{vars:M}])=>{R=Mo(R,M)}),R},generateStyleSheets:()=>{const R=[],M=e.defaultColorScheme||"light";function I(L,A){Object.keys(A).length&&R.push(typeof L=="string"?{[L]:{...A}}:L)}I(n(void 0,{...f}),f);const{[M]:N,...D}=y;if(N){const{css:L}=N,A=s[M]?.palette?.mode,$=!r&&A?{colorScheme:A,...L}:{...L};I(n(M,{...$}),$)}return Object.entries(D).forEach(([L,{css:A}])=>{const $=s[L]?.palette?.mode,F=!r&&$?{colorScheme:$,...A}:{...A};I(n(L,{...F}),F)}),o&&R.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),R}}}function RSe(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function Et(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let c=0;c<o.length;c+=1){const u=o[c];u&&(s+=(a===!0?"":" ")+t(u),a=!1,n&&n[u]&&(s+=" "+n[u]))}r[i]=s}return r}function Jb(e,t){return _.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}const ISe=qb(),kSe=or("div",{name:"MuiStack",slot:"Root"});function PSe(e){return h2({props:e,name:"MuiStack",defaultTheme:ISe})}function DSe(e,t){const n=_.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(_.cloneElement(t,{key:`separator-${o}`})),r),[])}const ASe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],LSe=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...rl({theme:t},jM({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=zb(t),i=Object.keys(t.breakpoints.values).reduce((c,u)=>((typeof e.spacing=="object"&&e.spacing[u]!=null||typeof e.direction=="object"&&e.direction[u]!=null)&&(c[u]=!0),c),{}),o=jM({values:e.direction,base:i}),s=jM({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((c,u,h)=>{if(!o[c]){const g=u>0?o[h[u-1]]:"column";o[c]=g}}),n=Mo(n,rl({theme:t},s,(c,u)=>e.useFlexGap?{gap:qd(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${ASe(u?o[u]:e.direction)}`]:qd(r,c)}}))}return n=hwe(t.breakpoints,n),n};function NSe(e={}){const{createStyledComponent:t=kSe,useThemeProps:n=PSe,componentName:r="MuiStack"}=e,i=()=>Et({root:["root"]},c=>fn(r,c),{}),o=t(LSe);return _.forwardRef(function(c,u){const h=n(c),f=HM(h),{component:g="div",direction:m="column",spacing:y=0,divider:b,children:v,className:S,useFlexGap:E=!1,...T}=f,R={direction:m,spacing:y,useFlexGap:E},M=i();return x.jsx(o,{as:g,ownerState:R,ref:u,className:tt(M.root,S),...T,children:b?DSe(v,b):v})})}function y2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pg.white,default:Pg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const b2=y2();function w2(){return{text:{primary:Pg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Pg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const qM=w2();function S2(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Wg(e.main,i):t==="dark"&&(e.dark=Gg(e.main,o)))}function C2(e,t,n,r,i){const o=i.light||i,s=i.dark||i*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(o*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function BSe(e="light"){return e==="dark"?{main:wu[200],light:wu[50],dark:wu[400]}:{main:wu[700],light:wu[400],dark:wu[800]}}function FSe(e="light"){return e==="dark"?{main:ff[200],light:ff[50],dark:ff[400]}:{main:ff[500],light:ff[300],dark:ff[700]}}function jSe(e="light"){return e==="dark"?{main:hf[500],light:hf[300],dark:hf[700]}:{main:hf[700],light:hf[400],dark:hf[800]}}function VSe(e="light"){return e==="dark"?{main:pf[400],light:pf[300],dark:pf[700]}:{main:pf[700],light:pf[500],dark:pf[900]}}function $Se(e="light"){return e==="dark"?{main:Ll[400],light:Ll[300],dark:Ll[700]}:{main:Ll[800],light:Ll[500],dark:Ll[900]}}function zSe(e="light"){return e==="dark"?{main:Dg[400],light:Dg[300],dark:Dg[700]}:{main:"#ed6c02",light:Dg[500],dark:Dg[900]}}function USe(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function YM(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i,...o}=e,s=e.primary||BSe(t),a=e.secondary||FSe(t),c=e.error||jSe(t),u=e.info||VSe(t),h=e.success||$Se(t),f=e.warning||zSe(t);function g(v){return i?USe(v):vSe(v,qM.text.primary)>=n?qM.text.primary:b2.text.primary}const m=({color:v,name:S,mainShade:E=500,lightShade:T=300,darkShade:R=700})=>{if(v={...v},!v.main&&v[E]&&(v.main=v[E]),!v.hasOwnProperty("main"))throw new Error(_c(11,S?` (${S})`:"",E));if(typeof v.main!="string")throw new Error(_c(12,S?` (${S})`:"",JSON.stringify(v.main)));return i?(C2(i,v,"light",T,r),C2(i,v,"dark",R,r)):(S2(v,"light",T,r),S2(v,"dark",R,r)),v.contrastText||(v.contrastText=g(v.main)),v};let y;return t==="light"?y=y2():t==="dark"&&(y=w2()),Mo({common:{...Pg},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:h,name:"success"}),grey:Qye,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},o)}function HSe(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function GSe(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function WSe(e){return Math.round(e*1e5)/1e5}const x2={textTransform:"uppercase"},_2='"Roboto", "Helvetica", "Arial", sans-serif';function KSe(e,t){const{fontFamily:n=_2,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:u,pxToRem:h,...f}=typeof t=="function"?t(e):t,g=r/14,m=h||(v=>`${v/c*g}rem`),y=(v,S,E,T,R)=>({fontFamily:n,fontWeight:v,fontSize:m(S),lineHeight:E,...n===_2?{letterSpacing:`${WSe(T/S)}em`}:{},...R,...u}),b={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(s,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(s,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(s,14,1.75,.4,x2),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,x2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mo({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...b},f,{clone:!1})}const qSe=.2,YSe=.14,XSe=.12;function yi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${qSe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${YSe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${XSe})`].join(",")}const ZSe=["none",yi(0,2,1,-1,0,1,1,0,0,1,3,0),yi(0,3,1,-2,0,2,2,0,0,1,5,0),yi(0,3,3,-2,0,3,4,0,0,1,8,0),yi(0,2,4,-1,0,4,5,0,0,1,10,0),yi(0,3,5,-1,0,5,8,0,0,1,14,0),yi(0,3,5,-1,0,6,10,0,0,1,18,0),yi(0,4,5,-2,0,7,10,1,0,2,16,1),yi(0,5,5,-3,0,8,10,1,0,3,14,2),yi(0,5,6,-3,0,9,12,1,0,3,16,2),yi(0,6,6,-3,0,10,14,1,0,4,18,3),yi(0,6,7,-4,0,11,15,1,0,4,20,3),yi(0,7,8,-4,0,12,17,2,0,5,22,4),yi(0,7,8,-4,0,13,19,2,0,5,24,4),yi(0,7,9,-4,0,14,21,2,0,5,26,4),yi(0,8,9,-5,0,15,22,2,0,6,28,5),yi(0,8,10,-5,0,16,24,2,0,6,30,5),yi(0,8,11,-5,0,17,26,2,0,6,32,5),yi(0,9,11,-5,0,18,28,2,0,7,34,6),yi(0,9,12,-6,0,19,29,2,0,7,36,6),yi(0,10,13,-6,0,20,31,3,0,8,38,7),yi(0,10,13,-6,0,21,33,3,0,8,40,7),yi(0,10,14,-6,0,22,35,3,0,8,42,7),yi(0,11,14,-7,0,23,36,3,0,9,44,8),yi(0,11,15,-7,0,24,38,3,0,9,46,8)],QSe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},E2={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function T2(e){return`${Math.round(e)}ms`}function JSe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function e0e(e){const t={...QSe,...e.easing},n={...E2,...e.duration};return{getAutoHeightDuration:JSe,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0,...u}=o;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:T2(s)} ${a} ${typeof c=="string"?c:T2(c)}`).join(",")},...e,easing:t,duration:n}}const t0e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function n0e(e){return jl(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function M2(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!n0e(a)||s.startsWith("unstable_")?delete r[s]:jl(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function O2(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const r0e=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function i0e(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Sa(t,r0e(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${O2(n)})`:Wg(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${O2(n)})`:Gg(t,n)}})}function XM(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:c,colorSpace:u,...h}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(_c(20));const f=YM({...o,colorSpace:u}),g=qb(e);let m=Mo(g,{mixins:GSe(g.breakpoints,r),palette:f,shadows:ZSe.slice(),typography:KSe(f,a),transitions:e0e(s),zIndex:{...t0e}});return m=Mo(m,h),m=t.reduce((y,b)=>Mo(y,b),m),m.unstable_sxConfig={...Ug,...h?.unstable_sxConfig},m.unstable_sx=function(b){return Yd({sx:b,theme:this})},m.toRuntimeSource=M2,i0e(m),m}function ZM(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const o0e=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=ZM(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function R2(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function I2(e){return e==="dark"?o0e:[]}function s0e(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:i,...o}=e,s=YM({...t,colorSpace:i});return{palette:s,opacity:{...R2(s.mode),...n},overlays:r||I2(s.mode),...o}}function a0e(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const l0e=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],c0e=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return l0e(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",t)]:s,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function u0e(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ut(e,t,n){!e[t]&&n&&(e[t]=n)}function Kg(e){return typeof e!="string"||!e.startsWith("hsl")?e:f2(e)}function Ec(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Hg(Kg(e[t])))}function d0e(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Vl=e=>{try{return e()}catch{}},h0e=(e="mui")=>ESe(e);function QM(e,t,n,r,i){if(!n)return;n=n===!0?{}:n;const o=i==="dark"?"dark":"light";if(!r){t[i]=s0e({...n,palette:{mode:o,...n?.palette},colorSpace:e});return}const{palette:s,...a}=XM({...r,palette:{mode:o,...n?.palette},colorSpace:e});return t[i]={...n,palette:s,opacity:{...R2(o),...n?.opacity},overlays:n?.overlays||I2(o)},a}function f0e(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=a0e,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...h}=e,f=Object.keys(n)[0],g=r||(n.light&&f!=="light"?"light":f),m=h0e(o),{[g]:y,light:b,dark:v,...S}=n,E={...S};let T=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(_c(21,g));let R;s&&(R="oklch");const M=QM(R,E,T,h,g);b&&!E.light&&QM(R,E,b,void 0,"light"),v&&!E.dark&&QM(R,E,v,void 0,"dark");let I={defaultColorScheme:g,...M,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:u,getCssVar:m,colorSchemes:E,font:{...HSe(M.typography),...M.font},spacing:d0e(h.spacing)};Object.keys(I.colorSchemes).forEach($=>{const F=I.colorSchemes[$].palette,H=K=>{const z=K.split("-"),Z=z[1],ee=z[2];return m(K,F[Z][ee])};F.mode==="light"&&(ut(F.common,"background","#fff"),ut(F.common,"onBackground","#000")),F.mode==="dark"&&(ut(F.common,"background","#000"),ut(F.common,"onBackground","#fff"));function q(K,z,Z){if(R){let ee;return K===Qd&&(ee=`transparent ${((1-Z)*100).toFixed(0)}%`),K===$r&&(ee=`#000 ${(Z*100).toFixed(0)}%`),K===zr&&(ee=`#fff ${(Z*100).toFixed(0)}%`),`color-mix(in ${R}, ${z}, ${ee})`}return K(z,Z)}if(u0e(F,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),F.mode==="light"){ut(F.Alert,"errorColor",q($r,F.error.light,.6)),ut(F.Alert,"infoColor",q($r,F.info.light,.6)),ut(F.Alert,"successColor",q($r,F.success.light,.6)),ut(F.Alert,"warningColor",q($r,F.warning.light,.6)),ut(F.Alert,"errorFilledBg",H("palette-error-main")),ut(F.Alert,"infoFilledBg",H("palette-info-main")),ut(F.Alert,"successFilledBg",H("palette-success-main")),ut(F.Alert,"warningFilledBg",H("palette-warning-main")),ut(F.Alert,"errorFilledColor",Vl(()=>F.getContrastText(F.error.main))),ut(F.Alert,"infoFilledColor",Vl(()=>F.getContrastText(F.info.main))),ut(F.Alert,"successFilledColor",Vl(()=>F.getContrastText(F.success.main))),ut(F.Alert,"warningFilledColor",Vl(()=>F.getContrastText(F.warning.main))),ut(F.Alert,"errorStandardBg",q(zr,F.error.light,.9)),ut(F.Alert,"infoStandardBg",q(zr,F.info.light,.9)),ut(F.Alert,"successStandardBg",q(zr,F.success.light,.9)),ut(F.Alert,"warningStandardBg",q(zr,F.warning.light,.9)),ut(F.Alert,"errorIconColor",H("palette-error-main")),ut(F.Alert,"infoIconColor",H("palette-info-main")),ut(F.Alert,"successIconColor",H("palette-success-main")),ut(F.Alert,"warningIconColor",H("palette-warning-main")),ut(F.AppBar,"defaultBg",H("palette-grey-100")),ut(F.Avatar,"defaultBg",H("palette-grey-400")),ut(F.Button,"inheritContainedBg",H("palette-grey-300")),ut(F.Button,"inheritContainedHoverBg",H("palette-grey-A100")),ut(F.Chip,"defaultBorder",H("palette-grey-400")),ut(F.Chip,"defaultAvatarColor",H("palette-grey-700")),ut(F.Chip,"defaultIconColor",H("palette-grey-700")),ut(F.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ut(F.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ut(F.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ut(F.LinearProgress,"primaryBg",q(zr,F.primary.main,.62)),ut(F.LinearProgress,"secondaryBg",q(zr,F.secondary.main,.62)),ut(F.LinearProgress,"errorBg",q(zr,F.error.main,.62)),ut(F.LinearProgress,"infoBg",q(zr,F.info.main,.62)),ut(F.LinearProgress,"successBg",q(zr,F.success.main,.62)),ut(F.LinearProgress,"warningBg",q(zr,F.warning.main,.62)),ut(F.Skeleton,"bg",R?q(Qd,F.text.primary,.11):`rgba(${H("palette-text-primaryChannel")} / 0.11)`),ut(F.Slider,"primaryTrack",q(zr,F.primary.main,.62)),ut(F.Slider,"secondaryTrack",q(zr,F.secondary.main,.62)),ut(F.Slider,"errorTrack",q(zr,F.error.main,.62)),ut(F.Slider,"infoTrack",q(zr,F.info.main,.62)),ut(F.Slider,"successTrack",q(zr,F.success.main,.62)),ut(F.Slider,"warningTrack",q(zr,F.warning.main,.62));const K=R?q($r,F.background.default,.6825):Qb(F.background.default,.8);ut(F.SnackbarContent,"bg",K),ut(F.SnackbarContent,"color",Vl(()=>R?qM.text.primary:F.getContrastText(K))),ut(F.SpeedDialAction,"fabHoverBg",Qb(F.background.paper,.15)),ut(F.StepConnector,"border",H("palette-grey-400")),ut(F.StepContent,"border",H("palette-grey-400")),ut(F.Switch,"defaultColor",H("palette-common-white")),ut(F.Switch,"defaultDisabledColor",H("palette-grey-100")),ut(F.Switch,"primaryDisabledColor",q(zr,F.primary.main,.62)),ut(F.Switch,"secondaryDisabledColor",q(zr,F.secondary.main,.62)),ut(F.Switch,"errorDisabledColor",q(zr,F.error.main,.62)),ut(F.Switch,"infoDisabledColor",q(zr,F.info.main,.62)),ut(F.Switch,"successDisabledColor",q(zr,F.success.main,.62)),ut(F.Switch,"warningDisabledColor",q(zr,F.warning.main,.62)),ut(F.TableCell,"border",q(zr,q(Qd,F.divider,1),.88)),ut(F.Tooltip,"bg",q(Qd,F.grey[700],.92))}if(F.mode==="dark"){ut(F.Alert,"errorColor",q(zr,F.error.light,.6)),ut(F.Alert,"infoColor",q(zr,F.info.light,.6)),ut(F.Alert,"successColor",q(zr,F.success.light,.6)),ut(F.Alert,"warningColor",q(zr,F.warning.light,.6)),ut(F.Alert,"errorFilledBg",H("palette-error-dark")),ut(F.Alert,"infoFilledBg",H("palette-info-dark")),ut(F.Alert,"successFilledBg",H("palette-success-dark")),ut(F.Alert,"warningFilledBg",H("palette-warning-dark")),ut(F.Alert,"errorFilledColor",Vl(()=>F.getContrastText(F.error.dark))),ut(F.Alert,"infoFilledColor",Vl(()=>F.getContrastText(F.info.dark))),ut(F.Alert,"successFilledColor",Vl(()=>F.getContrastText(F.success.dark))),ut(F.Alert,"warningFilledColor",Vl(()=>F.getContrastText(F.warning.dark))),ut(F.Alert,"errorStandardBg",q($r,F.error.light,.9)),ut(F.Alert,"infoStandardBg",q($r,F.info.light,.9)),ut(F.Alert,"successStandardBg",q($r,F.success.light,.9)),ut(F.Alert,"warningStandardBg",q($r,F.warning.light,.9)),ut(F.Alert,"errorIconColor",H("palette-error-main")),ut(F.Alert,"infoIconColor",H("palette-info-main")),ut(F.Alert,"successIconColor",H("palette-success-main")),ut(F.Alert,"warningIconColor",H("palette-warning-main")),ut(F.AppBar,"defaultBg",H("palette-grey-900")),ut(F.AppBar,"darkBg",H("palette-background-paper")),ut(F.AppBar,"darkColor",H("palette-text-primary")),ut(F.Avatar,"defaultBg",H("palette-grey-600")),ut(F.Button,"inheritContainedBg",H("palette-grey-800")),ut(F.Button,"inheritContainedHoverBg",H("palette-grey-700")),ut(F.Chip,"defaultBorder",H("palette-grey-700")),ut(F.Chip,"defaultAvatarColor",H("palette-grey-300")),ut(F.Chip,"defaultIconColor",H("palette-grey-300")),ut(F.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ut(F.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ut(F.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ut(F.LinearProgress,"primaryBg",q($r,F.primary.main,.5)),ut(F.LinearProgress,"secondaryBg",q($r,F.secondary.main,.5)),ut(F.LinearProgress,"errorBg",q($r,F.error.main,.5)),ut(F.LinearProgress,"infoBg",q($r,F.info.main,.5)),ut(F.LinearProgress,"successBg",q($r,F.success.main,.5)),ut(F.LinearProgress,"warningBg",q($r,F.warning.main,.5)),ut(F.Skeleton,"bg",R?q(Qd,F.text.primary,.13):`rgba(${H("palette-text-primaryChannel")} / 0.13)`),ut(F.Slider,"primaryTrack",q($r,F.primary.main,.5)),ut(F.Slider,"secondaryTrack",q($r,F.secondary.main,.5)),ut(F.Slider,"errorTrack",q($r,F.error.main,.5)),ut(F.Slider,"infoTrack",q($r,F.info.main,.5)),ut(F.Slider,"successTrack",q($r,F.success.main,.5)),ut(F.Slider,"warningTrack",q($r,F.warning.main,.5));const K=R?q(zr,F.background.default,.985):Qb(F.background.default,.98);ut(F.SnackbarContent,"bg",K),ut(F.SnackbarContent,"color",Vl(()=>R?b2.text.primary:F.getContrastText(K))),ut(F.SpeedDialAction,"fabHoverBg",Qb(F.background.paper,.15)),ut(F.StepConnector,"border",H("palette-grey-600")),ut(F.StepContent,"border",H("palette-grey-600")),ut(F.Switch,"defaultColor",H("palette-grey-300")),ut(F.Switch,"defaultDisabledColor",H("palette-grey-600")),ut(F.Switch,"primaryDisabledColor",q($r,F.primary.main,.55)),ut(F.Switch,"secondaryDisabledColor",q($r,F.secondary.main,.55)),ut(F.Switch,"errorDisabledColor",q($r,F.error.main,.55)),ut(F.Switch,"infoDisabledColor",q($r,F.info.main,.55)),ut(F.Switch,"successDisabledColor",q($r,F.success.main,.55)),ut(F.Switch,"warningDisabledColor",q($r,F.warning.main,.55)),ut(F.TableCell,"border",q($r,q(Qd,F.divider,1),.68)),ut(F.Tooltip,"bg",q(Qd,F.grey[700],.92))}Ec(F.background,"default"),Ec(F.background,"paper"),Ec(F.common,"background"),Ec(F.common,"onBackground"),Ec(F,"divider"),Object.keys(F).forEach(K=>{const z=F[K];K!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&ut(F[K],"mainChannel",Hg(Kg(z.main))),z.light&&ut(F[K],"lightChannel",Hg(Kg(z.light))),z.dark&&ut(F[K],"darkChannel",Hg(Kg(z.dark))),z.contrastText&&ut(F[K],"contrastTextChannel",Hg(Kg(z.contrastText))),K==="text"&&(Ec(F[K],"primary"),Ec(F[K],"secondary")),K==="action"&&(z.active&&Ec(F[K],"active"),z.selected&&Ec(F[K],"selected")))})}),I=t.reduce(($,F)=>Mo($,F),I);const N={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:c0e(I),enableContrastVars:s},{vars:D,generateThemeVars:L,generateStyleSheets:A}=OSe(I,N);return I.vars=D,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([$,F])=>{I[$]=F}),I.generateThemeVars=L,I.generateStyleSheets=A,I.generateSpacing=function(){return i2(h.spacing,zb(this))},I.getColorSchemeSelector=RSe(c),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=a,I.unstable_sxConfig={...Ug,...h?.unstable_sxConfig},I.unstable_sx=function(F){return Yd({sx:F,theme:this})},I.toRuntimeSource=M2,I}function k2(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:YM({...n===!0?{}:n.palette,mode:t})})}function P2(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n?.mode,...s}=e,a=o||"light",c=i?.[a],u={...i,...n?{[a]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return XM(e,...t);let h=n;"palette"in e||u[a]&&(u[a]!==!0?h=u[a].palette:a==="dark"&&(h={mode:"dark"}));const f=XM({...e,palette:h},...t);return f.defaultColorScheme=a,f.colorSchemes=u,f.palette.mode==="light"&&(f.colorSchemes.light={...u.light!==!0&&u.light,palette:f.palette},k2(f,"dark",u.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:f.palette},k2(f,"light",u.light)),f}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),f0e({...s,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}function p0e(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function g0e(e){return parseFloat(e)}const ew=P2();function $l(){const e=Yb(ew);return e[Ag]||e}function m0e({props:e,name:t}){return h2({props:e,name:t,defaultTheme:ew,themeId:Ag})}function D2(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const os=e=>D2(e)&&e!=="classes",Ee=u2({themeId:Ag,defaultTheme:ew,rootShouldForwardProp:os});function A2(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function v0e(e){return x.jsx(rSe,{...e,defaultTheme:ew,themeId:Ag})}function y0e(e){return function(n){return x.jsx(v0e,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function b0e(){return HM}const on=_Se;function yn(e){return CSe(e)}function w0e(e){return fn("MuiSvgIcon",e)}cn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const S0e=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${et(t)}`,`fontSize${et(n)}`]};return Et(i,w0e,r)},C0e=Ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${et(n.color)}`],t[`fontSize${et(n.fontSize)}`]]}})(on(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),JM=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:f,viewBox:g="0 0 24 24",...m}=r,y=_.isValidElement(i)&&i.type==="svg",b={...r,color:s,component:a,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:y},v={};h||(v.viewBox=g);const S=S0e(b);return x.jsxs(C0e,{as:a,className:tt(S.root,o),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...v,...m,...y&&i.props,ownerState:b,children:[y?i.props.children:i,f?x.jsx("title",{children:f}):null]})});JM.muiName="SvgIcon";function At(e,t){function n(r,i){return x.jsx(JM,{"data-testid":void 0,ref:i,...r,children:e})}return n.muiName=JM.muiName,_.memo(_.forwardRef(n))}function _u(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function bi(e){return e&&e.ownerDocument||document}function $s(e){return bi(e).defaultView||window}function eO(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Jd(e){const{controlled:t,default:n,name:r,state:i="value"}=e,{current:o}=_.useRef(t!==void 0),[s,a]=_.useState(n),c=o?t:s,u=_.useCallback(h=>{o||a(h)},[]);return[c,u]}function Jt(e){const t=_.useRef(e);return cr(()=>{t.current=e}),_.useRef((...n)=>(0,t.current)(...n)).current}function qn(...e){const t=_.useRef(void 0),n=_.useCallback(r=>{const i=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},e);return _.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function x0e(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function L2(e,t){if(!e)return t;function n(s,a){const c={};return Object.keys(a).forEach(u=>{x0e(u,a[u])&&typeof s[u]=="function"&&(c[u]=(...h)=>{s[u](...h),a[u](...h)})}),c}if(typeof e=="function"||typeof t=="function")return s=>{const a=typeof t=="function"?t(s):t,c=typeof e=="function"?e({...s,...a}):e,u=tt(s?.className,a?.className,c?.className),h=n(c,a);return{...a,...c,...h,...!!u&&{className:u},...a?.style&&c?.style&&{style:{...a.style,...c.style}},...a?.sx&&c?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=t,i=n(e,r),o=tt(r?.className,e?.className);return{...t,...e,...i,...!!o&&{className:o},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Tt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tO(e,t){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tO(e,t)}function N2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tO(e,t)}const B2={disabled:!1},tw=Vn.createContext(null);var _0e=function(t){return t.scrollTop},qg="unmounted",eh="exited",th="entering",wf="entered",nO="exiting",Ca=(function(e){N2(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?a?(c=eh,o.appearStatus=th):c=wf:r.unmountOnExit||r.mountOnEnter?c=qg:c=eh,o.state={status:c},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===qg?{status:eh}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==th&&s!==wf&&(o=th):(s===th||s===wf)&&(o=nO)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===th){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Mb.findDOMNode(this);s&&_0e(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===eh&&this.setState({status:qg})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[Mb.findDOMNode(this),a],u=c[0],h=c[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!i&&!s||B2.disabled){this.safeSetState({status:wf},function(){o.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:th},function(){o.props.onEntering(u,h),o.onTransitionEnd(g,function(){o.safeSetState({status:wf},function(){o.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Mb.findDOMNode(this);if(!o||B2.disabled){this.safeSetState({status:eh},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:nO},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:eh},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Mb.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===qg)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Tt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vn.createElement(tw.Provider,{value:null},typeof s=="function"?s(i,a):Vn.cloneElement(Vn.Children.only(s),a))},t})(Vn.Component);Ca.contextType=tw,Ca.propTypes={};function Sf(){}Ca.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sf,onEntering:Sf,onEntered:Sf,onExit:Sf,onExiting:Sf,onExited:Sf},Ca.UNMOUNTED=qg,Ca.EXITED=eh,Ca.ENTERING=th,Ca.ENTERED=wf,Ca.EXITING=nO;function E0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(e,t){var n=function(o){return t&&_.isValidElement(o)?t(o):o},r=Object.create(null);return e&&_.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function T0e(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var u=r[c][s];a[r[c][s]]=n(u)}a[c]=n(c)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function nh(e,t,n){return n[t]!=null?n[t]:e.props[t]}function M0e(e,t){return rO(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:nh(n,"appear",e),enter:nh(n,"enter",e),exit:nh(n,"exit",e)})})}function O0e(e,t,n){var r=rO(e.children),i=T0e(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(_.isValidElement(s)){var a=o in t,c=o in r,u=t[o],h=_.isValidElement(u)&&!u.props.in;c&&(!a||h)?i[o]=_.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:nh(s,"exit",e),enter:nh(s,"enter",e)}):!c&&a&&!h?i[o]=_.cloneElement(s,{in:!1}):c&&a&&_.isValidElement(u)&&(i[o]=_.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:nh(s,"exit",e),enter:nh(s,"enter",e)}))}}),i}var R0e=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},I0e={component:"div",childFactory:function(t){return t}},iO=(function(e){N2(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(E0e(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,c=o.firstRender;return{children:c?M0e(i,a):O0e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=rO(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var c=W({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Tt(i,["component","childFactory"]),c=this.state.contextValue,u=R0e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Vn.createElement(tw.Provider,{value:c},u):Vn.createElement(tw.Provider,{value:c},Vn.createElement(o,a,u))},t})(Vn.Component);iO.propTypes={},iO.defaultProps=I0e;const F2={};function zs(e,t){const n=_.useRef(F2);return n.current===F2&&(n.current=e(t)),n}const k0e=[];function nw(e){_.useEffect(e,k0e)}class rw{static create(){return new rw}currentId=null;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function vs(){const e=zs(rw.create).current;return nw(e.disposeEffect),e}const oO=e=>e.scrollTop;function Eu(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}function P0e(e){return fn("MuiCollapse",e)}cn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const D0e=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Et(r,P0e,n)},A0e=Ee("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(on(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),L0e=Ee("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),N0e=Ee("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),sO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:c,easing:u,in:h,onEnter:f,onEntered:g,onEntering:m,onExit:y,onExited:b,onExiting:v,orientation:S="vertical",style:E,timeout:T=E2.standard,TransitionComponent:R=Ca,...M}=r,I={...r,orientation:S,collapsedSize:a},N=D0e(I),D=$l(),L=vs(),A=_.useRef(null),$=_.useRef(),F=typeof a=="number"?`${a}px`:a,H=S==="horizontal",q=H?"width":"height",K=_.useRef(null),z=qn(n,K),Z=le=>Ce=>{if(le){const ke=K.current;Ce===void 0?le(ke):le(ke,Ce)}},ee=()=>A.current?A.current[H?"clientWidth":"clientHeight"]:0,ie=Z((le,Ce)=>{A.current&&H&&(A.current.style.position="absolute"),le.style[q]=F,f&&f(le,Ce)}),U=Z((le,Ce)=>{const ke=ee();A.current&&H&&(A.current.style.position="");const{duration:Te,easing:me}=Eu({style:E,timeout:T,easing:u},{mode:"enter"});if(T==="auto"){const ye=D.transitions.getAutoHeightDuration(ke);le.style.transitionDuration=`${ye}ms`,$.current=ye}else le.style.transitionDuration=typeof Te=="string"?Te:`${Te}ms`;le.style[q]=`${ke}px`,le.style.transitionTimingFunction=me,m&&m(le,Ce)}),Y=Z((le,Ce)=>{le.style[q]="auto",g&&g(le,Ce)}),J=Z(le=>{le.style[q]=`${ee()}px`,y&&y(le)}),he=Z(b),ge=Z(le=>{const Ce=ee(),{duration:ke,easing:Te}=Eu({style:E,timeout:T,easing:u},{mode:"exit"});if(T==="auto"){const me=D.transitions.getAutoHeightDuration(Ce);le.style.transitionDuration=`${me}ms`,$.current=me}else le.style.transitionDuration=typeof ke=="string"?ke:`${ke}ms`;le.style[q]=F,le.style.transitionTimingFunction=Te,v&&v(le)}),pe=le=>{T==="auto"&&L.start($.current||0,le),i&&i(K.current,le)};return x.jsx(R,{in:h,onEnter:ie,onEntered:Y,onEntering:U,onExit:J,onExited:he,onExiting:ge,addEndListener:pe,nodeRef:K,timeout:T==="auto"?null:T,...M,children:(le,{ownerState:Ce,...ke})=>x.jsx(A0e,{as:c,className:tt(N.root,s,{entered:N.entered,exited:!h&&F==="0px"&&N.hidden}[le]),style:{[H?"minWidth":"minHeight"]:F,...E},ref:z,ownerState:{...I,state:le},...ke,children:x.jsx(L0e,{ownerState:{...I,state:le},className:N.wrapper,ref:A,children:x.jsx(N0e,{ownerState:{...I,state:le},className:N.wrapperInner,children:o})})})})});sO&&(sO.muiSupportAuto=!0);function B0e(e){return fn("MuiPaper",e)}cn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const F0e=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Et(o,B0e,i)},j0e=Ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(on(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),rh=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiPaper"}),i=$l(),{className:o,component:s="div",elevation:a=1,square:c=!1,variant:u="elevation",...h}=r,f={...r,component:s,elevation:a,square:c,variant:u},g=F0e(f);return x.jsx(j0e,{as:s,ownerState:f,className:tt(g.root,o),ref:n,...h,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Sa("#fff",ZM(a))}, ${Sa("#fff",ZM(a))})`}},...h.style}})});function Cf(e){return typeof e=="string"}function j2(e,t,n){return e===void 0||Cf(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function iw(e,t,n){return typeof e=="function"?e(t,n):e}function Us(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function V2(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function $2(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const m=tt(n?.className,o,i?.className,r?.className),y={...n?.style,...i?.style,...r?.style},b={...n,...i,...r};return m.length>0&&(b.className=m),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const s=Us({...i,...r}),a=V2(r),c=V2(i),u=t(s),h=tt(u?.className,n?.className,o,i?.className,r?.className),f={...u?.style,...n?.style,...i?.style,...r?.style},g={...u,...n,...c,...a};return h.length>0&&(g.className=h),Object.keys(f).length>0&&(g.style=f),{props:g,internalRef:u.ref}}function En(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...c}=t,{component:u,slots:h={[e]:void 0},slotProps:f={[e]:void 0},...g}=o,m=h[e]||r,y=iw(f[e],i),{props:{component:b,...v},internalRef:S}=$2({className:n,...c,externalForwardedProps:e==="root"?g:void 0,externalSlotProps:y}),E=qn(S,y?.ref,t.ref),T=e==="root"?b||u:b,R=j2(m,{...e==="root"&&!u&&!h[e]&&s,...e!=="root"&&!h[e]&&s,...v,...T&&!a&&{as:T},...T&&a&&{component:T},ref:E},i);return[m,R]}function ow(e){try{return e.matches(":focus-visible")}catch{}return!1}class sw{static create(){return new sw}static use(){const t=zs(sw.create).current,[n,r]=_.useState(!1);return t.shouldMount=n,t.setShouldMount=r,_.useEffect(t.mountEffect,[n]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=$0e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function V0e(){return sw.use()}function $0e(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function z0e(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:c,timeout:u}=e,[h,f]=_.useState(!1),g=tt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},y=tt(n.child,h&&n.childLeaving,r&&n.childPulsate);return!a&&!h&&f(!0),_.useEffect(()=>{if(!a&&c!=null){const b=setTimeout(c,u);return()=>{clearTimeout(b)}}},[c,a,u]),x.jsx("span",{className:g,style:m,children:x.jsx("span",{className:y})})}const xa=cn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),aO=550,U0e=80,H0e=ya`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,G0e=ya`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,W0e=ya`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,K0e=Ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),q0e=Ee(z0e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${xa.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${H0e};
    animation-duration: ${aO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${xa.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${xa.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${xa.childLeaving} {
    opacity: 0;
    animation-name: ${G0e};
    animation-duration: ${aO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${xa.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${W0e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Y0e=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[c,u]=_.useState([]),h=_.useRef(0),f=_.useRef(null);_.useEffect(()=>{f.current&&(f.current(),f.current=null)},[c]);const g=_.useRef(!1),m=vs(),y=_.useRef(null),b=_.useRef(null),v=_.useCallback(R=>{const{pulsate:M,rippleX:I,rippleY:N,rippleSize:D,cb:L}=R;u(A=>[...A,x.jsx(q0e,{classes:{ripple:tt(o.ripple,xa.ripple),rippleVisible:tt(o.rippleVisible,xa.rippleVisible),ripplePulsate:tt(o.ripplePulsate,xa.ripplePulsate),child:tt(o.child,xa.child),childLeaving:tt(o.childLeaving,xa.childLeaving),childPulsate:tt(o.childPulsate,xa.childPulsate)},timeout:aO,pulsate:M,rippleX:I,rippleY:N,rippleSize:D},h.current)]),h.current+=1,f.current=L},[o]),S=_.useCallback((R={},M={},I=()=>{})=>{const{pulsate:N=!1,center:D=i||M.pulsate,fakeElement:L=!1}=M;if(R?.type==="mousedown"&&g.current){g.current=!1;return}R?.type==="touchstart"&&(g.current=!0);const A=L?null:b.current,$=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,H,q;if(D||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)F=Math.round($.width/2),H=Math.round($.height/2);else{const{clientX:K,clientY:z}=R.touches&&R.touches.length>0?R.touches[0]:R;F=Math.round(K-$.left),H=Math.round(z-$.top)}if(D)q=Math.sqrt((2*$.width**2+$.height**2)/3),q%2===0&&(q+=1);else{const K=Math.max(Math.abs((A?A.clientWidth:0)-F),F)*2+2,z=Math.max(Math.abs((A?A.clientHeight:0)-H),H)*2+2;q=Math.sqrt(K**2+z**2)}R?.touches?y.current===null&&(y.current=()=>{v({pulsate:N,rippleX:F,rippleY:H,rippleSize:q,cb:I})},m.start(U0e,()=>{y.current&&(y.current(),y.current=null)})):v({pulsate:N,rippleX:F,rippleY:H,rippleSize:q,cb:I})},[i,v,m]),E=_.useCallback(()=>{S({},{pulsate:!0})},[S]),T=_.useCallback((R,M)=>{if(m.clear(),R?.type==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{T(R,M)});return}y.current=null,u(I=>I.length>0?I.slice(1):I),f.current=M},[m]);return _.useImperativeHandle(n,()=>({pulsate:E,start:S,stop:T}),[E,S,T]),x.jsx(K0e,{className:tt(xa.root,o.root,s),ref:b,...a,children:x.jsx(iO,{component:null,exit:!0,children:c})})});function X0e(e){return fn("MuiButtonBase",e)}const z2=cn("MuiButtonBase",["root","disabled","focusVisible"]),Z0e=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Et({root:["root",t&&"disabled",n&&"focusVisible"]},X0e,i);return n&&r&&(s.root+=` ${r}`),s},Q0e=Ee("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${z2.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zl=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:f=!1,focusRipple:g=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:b,onClick:v,onContextMenu:S,onDragLeave:E,onFocus:T,onFocusVisible:R,onKeyDown:M,onKeyUp:I,onMouseDown:N,onMouseLeave:D,onMouseUp:L,onTouchEnd:A,onTouchMove:$,onTouchStart:F,tabIndex:H=0,TouchRippleProps:q,touchRippleRef:K,type:z,...Z}=r,ee=_.useRef(null),ie=V0e(),U=qn(ie.ref,K),[Y,J]=_.useState(!1);u&&Y&&J(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{J(!0),ee.current.focus()}}),[]);const he=ie.shouldMount&&!h&&!u;_.useEffect(()=>{Y&&g&&!h&&ie.pulsate()},[h,g,Y,ie]);const ge=Tc(ie,"start",N,f),pe=Tc(ie,"stop",S,f),le=Tc(ie,"stop",E,f),Ce=Tc(ie,"stop",L,f),ke=Tc(ie,"stop",Ke=>{Y&&Ke.preventDefault(),D&&D(Ke)},f),Te=Tc(ie,"start",F,f),me=Tc(ie,"stop",A,f),ye=Tc(ie,"stop",$,f),xe=Tc(ie,"stop",Ke=>{ow(Ke.target)||J(!1),b&&b(Ke)},!1),Re=Jt(Ke=>{ee.current||(ee.current=Ke.currentTarget),ow(Ke.target)&&(J(!0),R&&R(Ke)),T&&T(Ke)}),Le=()=>{const Ke=ee.current;return c&&c!=="button"&&!(Ke.tagName==="A"&&Ke.href)},Ie=Jt(Ke=>{g&&!Ke.repeat&&Y&&Ke.key===" "&&ie.stop(Ke,()=>{ie.start(Ke)}),Ke.target===Ke.currentTarget&&Le()&&Ke.key===" "&&Ke.preventDefault(),M&&M(Ke),Ke.target===Ke.currentTarget&&Le()&&Ke.key==="Enter"&&!u&&(Ke.preventDefault(),v&&v(Ke))}),je=Jt(Ke=>{g&&Ke.key===" "&&Y&&!Ke.defaultPrevented&&ie.stop(Ke,()=>{ie.pulsate(Ke)}),I&&I(Ke),v&&Ke.target===Ke.currentTarget&&Le()&&Ke.key===" "&&!Ke.defaultPrevented&&v(Ke)});let lt=c;lt==="button"&&(Z.href||Z.to)&&(lt=y);const We={};lt==="button"?(We.type=z===void 0?"button":z,We.disabled=u):(!Z.href&&!Z.to&&(We.role="button"),u&&(We["aria-disabled"]=u));const Bt=qn(n,ee),Ct={...r,centerRipple:o,component:c,disabled:u,disableRipple:h,disableTouchRipple:f,focusRipple:g,tabIndex:H,focusVisible:Y},Ot=Z0e(Ct);return x.jsxs(Q0e,{as:lt,className:tt(Ot.root,a),ownerState:Ct,onBlur:xe,onClick:v,onContextMenu:pe,onFocus:Re,onKeyDown:Ie,onKeyUp:je,onMouseDown:ge,onMouseLeave:ke,onMouseUp:Ce,onDragLeave:le,onTouchEnd:me,onTouchMove:ye,onTouchStart:Te,ref:Bt,tabIndex:u?-1:H,type:z,...We,...Z,children:[s,he?x.jsx(Y0e,{ref:U,center:o,...q}):null]})});function Tc(e,t,n,r=!1){return Jt(i=>(n&&n(i),r||e[t](i),!0))}function J0e(e){return typeof e.main=="string"}function eCe(e,t=[]){if(!J0e(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function wi(e=[]){return([,t])=>t&&eCe(t,e)}function tCe(e){return fn("MuiCircularProgress",e)}cn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Tu=44,lO=ya`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,cO=ya`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,nCe=typeof lO!="string"?Su`
        animation: ${lO} 1.4s linear infinite;
      `:null,rCe=typeof cO!="string"?Su`
        animation: ${cO} 1.4s ease-in-out infinite;
      `:null,iCe=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${et(r)}`],svg:["svg"],circle:["circle",`circle${et(n)}`,i&&"circleDisableShrink"]};return Et(o,tCe,t)},oCe=Ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${et(n.color)}`]]}})(on(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:nCe||{animation:`${lO} 1.4s linear infinite`}},...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),sCe=Ee("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),aCe=Ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${et(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(on(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:rCe||{animation:`${cO} 1.4s ease-in-out infinite`}}]}))),xf=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:c,thickness:u=3.6,value:h=0,variant:f="indeterminate",...g}=r,m={...r,color:o,disableShrink:s,size:a,thickness:u,value:h,variant:f},y=iCe(m),b={},v={},S={};if(f==="determinate"){const E=2*Math.PI*((Tu-u)/2);b.strokeDasharray=E.toFixed(3),S["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*E).toFixed(3)}px`,v.transform="rotate(-90deg)"}return x.jsx(oCe,{className:tt(y.root,i),style:{width:a,height:a,...v,...c},ownerState:m,ref:n,role:"progressbar",...S,...g,children:x.jsx(sCe,{className:y.svg,ownerState:m,viewBox:`${Tu/2} ${Tu/2} ${Tu} ${Tu}`,children:x.jsx(aCe,{className:y.circle,style:b,ownerState:m,cx:Tu,cy:Tu,r:(Tu-u)/2,fill:"none",strokeWidth:u})})})});function lCe(e){return fn("MuiIconButton",e)}const uO=cn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),cCe=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:s}=e,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${et(r)}`,i&&`edge${et(i)}`,`size${et(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Et(a,lCe,t)},uCe=Ee(zl,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${et(n.color)}`],n.edge&&t[`edge${et(n.edge)}`],t[`size${et(n.size)}`]]}})(on(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),on(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${uO.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${uO.loading}`]:{color:"transparent"}}))),dCe=Ee("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),$n=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium",id:f,loading:g=null,loadingIndicator:m,...y}=r,b=er(f),v=m??x.jsx(xf,{"aria-labelledby":b,color:"inherit",size:16}),S={...r,edge:i,color:a,disabled:c,disableFocusRipple:u,loading:g,loadingIndicator:v,size:h},E=cCe(S);return x.jsxs(uCe,{id:g?b:f,className:tt(E.root,s),centerRipple:!0,focusRipple:!u,disabled:c||g,ref:n,...y,ownerState:S,children:[typeof g=="boolean"&&x.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:x.jsx(dCe,{className:E.loadingIndicator,ownerState:S,children:g&&v})}),o]})}),hCe=At(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function fCe(e){return fn("MuiTypography",e)}const U2=cn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),pCe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},gCe=b0e(),mCe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,e.align!=="inherit"&&`align${et(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Et(a,fCe,s)},vCe=Ee("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${et(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(on(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${et(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),H2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Gi=_.forwardRef(function(t,n){const{color:r,...i}=yn({props:t,name:"MuiTypography"}),o=!pCe[r],s=gCe({...i,...o&&{color:r}}),{align:a="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:f=!1,paragraph:g=!1,variant:m="body1",variantMapping:y=H2,...b}=s,v={...s,align:a,color:r,className:c,component:u,gutterBottom:h,noWrap:f,paragraph:g,variant:m,variantMapping:y},S=u||(g?"p":y[m]||H2[m])||"span",E=mCe(v);return x.jsx(vCe,{as:S,ref:n,className:tt(E.root,c),...b,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...b.style}})});function yCe(e){return fn("MuiAppBar",e)}cn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const bCe=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${et(t)}`,`position${et(n)}`]};return Et(i,yCe,r)},G2=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,wCe=Ee(rh,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${et(n.position)}`],t[`color${et(n.color)}`]]}})(on(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(wi(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?G2(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?G2(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),SCe=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed",...c}=r,u={...r,color:o,position:a,enableColorOnDark:s},h=bCe(u);return x.jsx(wCe,{square:!0,component:"header",ownerState:u,elevation:4,className:tt(h.root,i,a==="fixed"&&"mui-fixed"),ref:n,...c})}),dO=e=>{const t=_.useRef({});return _.useEffect(()=>{t.current=e}),t.current};function W2({array1:e,array2:t,parser:n=r=>r}){return e&&t&&e.length===t.length&&e.every((r,i)=>n(r)===n(t[i]))}function K2(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function CCe(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=e;return(a,{inputValue:c,getOptionLabel:u})=>{let h=s?c.trim():c;n&&(h=h.toLowerCase()),t&&(h=K2(h));const f=h?a.filter(g=>{let m=(o||u)(g);return n&&(m=m.toLowerCase()),t&&(m=K2(m)),i==="start"?m.startsWith(h):m.includes(h)}):a;return typeof r=="number"?f.slice(0,r):f}}const xCe=CCe(),q2=5,_Ce=e=>e.current!==null&&e.current.parentElement?.contains(document.activeElement),ECe=[];function Y2(e,t,n,r){if(t||e==null||r)return"";const i=n(e);return typeof i=="string"?i:""}function TCe(e){const{unstable_isActiveElementInListbox:t=_Ce,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:c=!1,componentName:u="useAutocomplete",defaultValue:h=e.multiple?ECe:null,disableClearable:f=!1,disableCloseOnSelect:g=!1,disabled:m,disabledItemsFocusable:y=!1,disableListWrap:b=!1,filterOptions:v=xCe,filterSelectedOptions:S=!1,freeSolo:E=!1,getOptionDisabled:T,getOptionKey:R,getOptionLabel:M=st=>st.label??st,groupBy:I,handleHomeEndKeys:N=!e.freeSolo,id:D,includeInputInList:L=!1,inputValue:A,isOptionEqualToValue:$=(st,it)=>st===it,multiple:F=!1,onChange:H,onClose:q,onHighlightChange:K,onInputChange:z,onOpen:Z,open:ee,openOnFocus:ie=!1,options:U,readOnly:Y=!1,renderValue:J,selectOnFocus:he=!e.freeSolo,value:ge}=e,pe=er(D);let le=M;le=st=>{const it=M(st);return typeof it!="string"?String(it):it};const Ce=_.useRef(!1),ke=_.useRef(!0),Te=_.useRef(null),me=_.useRef(null),[ye,xe]=_.useState(null),[Re,Le]=_.useState(-1),Ie=i?0:-1,je=_.useRef(Ie),lt=_.useRef(Y2(h??ge,F,le)).current,[We,Bt]=Jd({controlled:ge,default:h,name:u}),[Ct,Ot]=Jd({controlled:A,default:lt,name:u,state:"inputValue"}),[Ke,Ft]=_.useState(!1),Mt=_.useCallback((st,it,vt)=>{if(!(F?We.length<it.length:it!==null)&&!a)return;const vn=Y2(it,F,le,J);Ct!==vn&&(Ot(vn),z&&z(st,vn,vt))},[le,Ct,F,z,Ot,a,We,J]),[zt,Lt]=Jd({controlled:ee,default:!1,name:u,state:"open"}),[Xt,sn]=_.useState(!0),xt=!F&&We!=null&&Ct===le(We),Dt=zt&&!Y,Je=Dt?v(U.filter(st=>!(S&&(F?We:[We]).some(it=>it!==null&&$(st,it)))),{inputValue:xt&&Xt?"":Ct,getOptionLabel:le}):[],bt=dO({filteredOptions:Je,value:We,inputValue:Ct});_.useEffect(()=>{const st=We!==bt.value;Ke&&!st||E&&!st||Mt(null,We,"reset")},[We,Mt,Ke,bt.value,E]);const wt=zt&&Je.length>0&&!Y,at=Jt(st=>{if(st===-1)Te.current.focus();else{const it=J?"data-item-index":"data-tag-index";ye.querySelector(`[${it}="${st}"]`).focus()}});_.useEffect(()=>{F&&Re>We.length-1&&(Le(-1),at(-1))},[We,F,Re,at]);function mt(st,it){if(!me.current||st<0||st>=Je.length)return-1;let vt=st;for(;;){const Yt=me.current.querySelector(`[data-option-index="${vt}"]`),vn=y?!1:!Yt||Yt.disabled||Yt.getAttribute("aria-disabled")==="true";if(Yt&&Yt.hasAttribute("tabindex")&&!vn)return vt;if(it==="next"?vt=(vt+1)%Je.length:vt=(vt-1+Je.length)%Je.length,vt===st)return-1}}const Vt=Jt(({event:st,index:it,reason:vt})=>{if(je.current=it,it===-1?Te.current.removeAttribute("aria-activedescendant"):Te.current.setAttribute("aria-activedescendant",`${pe}-option-${it}`),K&&["mouse","keyboard","touch"].includes(vt)&&K(st,it===-1?null:Je[it],vt),!me.current)return;const Yt=me.current.querySelector(`[role="option"].${n}-focused`);Yt&&(Yt.classList.remove(`${n}-focused`),Yt.classList.remove(`${n}-focusVisible`));let vn=me.current;if(me.current.getAttribute("role")!=="listbox"&&(vn=me.current.parentElement.querySelector('[role="listbox"]')),!vn)return;if(it===-1){vn.scrollTop=0;return}const br=me.current.querySelector(`[data-option-index="${it}"]`);if(br&&(br.classList.add(`${n}-focused`),vt==="keyboard"&&br.classList.add(`${n}-focusVisible`),vn.scrollHeight>vn.clientHeight&&vt!=="mouse"&&vt!=="touch")){const dr=br,Zr=vn.clientHeight+vn.scrollTop,Yi=dr.offsetTop+dr.offsetHeight;Yi>Zr?vn.scrollTop=Yi-vn.clientHeight:dr.offsetTop-dr.offsetHeight*(I?1.3:0)<vn.scrollTop&&(vn.scrollTop=dr.offsetTop-dr.offsetHeight*(I?1.3:0))}}),_t=Jt(({event:st,diff:it,direction:vt="next",reason:Yt})=>{if(!Dt)return;const br=mt((()=>{const dr=Je.length-1;if(it==="reset")return Ie;if(it==="start")return 0;if(it==="end")return dr;const Zr=je.current+it;return Zr<0?Zr===-1&&L?-1:b&&je.current!==-1||Math.abs(it)>1?0:dr:Zr>dr?Zr===dr+1&&L?-1:b||Math.abs(it)>1?dr:0:Zr})(),vt);if(Vt({index:br,reason:Yt,event:st}),r&&it!=="reset")if(br===-1)Te.current.value=Ct;else{const dr=le(Je[br]);Te.current.value=dr,dr.toLowerCase().indexOf(Ct.toLowerCase())===0&&Ct.length>0&&Te.current.setSelectionRange(Ct.length,dr.length)}}),Nt=!W2({array1:bt.filteredOptions,array2:Je,parser:le}),Zn=()=>{const st=(it,vt)=>{const Yt=it?le(it):"",vn=vt?le(vt):"";return Yt===vn};if(je.current!==-1&&!W2({array1:bt.filteredOptions,array2:Je,parser:le})&&bt.inputValue===Ct&&(F?We.length===bt.value.length&&bt.value.every((it,vt)=>le(We[vt])===le(it)):st(bt.value,We))){const it=bt.filteredOptions[je.current];if(it)return Je.findIndex(vt=>le(vt)===le(it))}return-1},An=_.useCallback(()=>{if(!Dt)return;const st=Zn();if(st!==-1){je.current=st;return}const it=F?We[0]:We;if(Je.length===0||it==null){_t({diff:"reset"});return}if(me.current){if(it!=null){const vt=Je[je.current];if(F&&vt&&We.findIndex(vn=>$(vt,vn))!==-1)return;const Yt=Je.findIndex(vn=>$(vn,it));Yt===-1?_t({diff:"reset"}):Vt({index:Yt});return}if(je.current>=Je.length-1){Vt({index:Je.length-1});return}Vt({index:je.current})}},[Je.length,F?!1:We,S,_t,Vt,Dt,Ct,F]),yr=Jt(st=>{eO(me,st),st&&An()});_.useEffect(()=>{Nt&&An()},[An,Nt]);const Qn=st=>{zt||(Lt(!0),sn(!0),Z&&Z(st))},Br=(st,it)=>{zt&&(Lt(!1),q&&q(st,it))},St=(st,it,vt,Yt)=>{if(F){if(We.length===it.length&&We.every((vn,br)=>vn===it[br]))return}else if(We===it)return;H&&H(st,it,vt,Yt),Bt(it)},Yr=_.useRef(!1),Xr=(st,it,vt="selectOption",Yt="options")=>{let vn=vt,br=it;if(F){br=Array.isArray(We)?We.slice():[];const dr=br.findIndex(Zr=>$(it,Zr));dr===-1?br.push(it):Yt!=="freeSolo"&&(br.splice(dr,1),vn="removeOption")}Mt(st,br,vn),St(st,br,vn,{option:it}),!g&&(!st||!st.ctrlKey&&!st.metaKey)&&Br(st,vn),(s===!0||s==="touch"&&Yr.current||s==="mouse"&&!Yr.current)&&Te.current.blur()};function en(st,it){if(st===-1)return-1;let vt=st;for(;;){if(it==="next"&&vt===We.length||it==="previous"&&vt===-1)return-1;const Yt=J?"data-item-index":"data-tag-index",vn=ye.querySelector(`[${Yt}="${vt}"]`);if(!vn||!vn.hasAttribute("tabindex")||vn.disabled||vn.getAttribute("aria-disabled")==="true")vt+=it==="next"?1:-1;else return vt}}const Gn=(st,it)=>{if(!F)return;Ct===""&&Br(st,"toggleInput");let vt=Re;Re===-1?Ct===""&&it==="previous"&&(vt=We.length-1):(vt+=it==="next"?1:-1,vt<0&&(vt=0),vt===We.length&&(vt=-1)),vt=en(vt,it),Le(vt),at(vt)},$t=st=>{Ce.current=!0,Ot(""),z&&z(st,"","clear"),St(st,F?[]:null,"clear")},Kt=st=>it=>{if(st.onKeyDown&&st.onKeyDown(it),!it.defaultMuiPrevented&&(Re!==-1&&!["ArrowLeft","ArrowRight"].includes(it.key)&&(Le(-1),at(-1)),it.which!==229))switch(it.key){case"Home":Dt&&N&&(it.preventDefault(),_t({diff:"start",direction:"next",reason:"keyboard",event:it}));break;case"End":Dt&&N&&(it.preventDefault(),_t({diff:"end",direction:"previous",reason:"keyboard",event:it}));break;case"PageUp":it.preventDefault(),_t({diff:-q2,direction:"previous",reason:"keyboard",event:it}),Qn(it);break;case"PageDown":it.preventDefault(),_t({diff:q2,direction:"next",reason:"keyboard",event:it}),Qn(it);break;case"ArrowDown":it.preventDefault(),_t({diff:1,direction:"next",reason:"keyboard",event:it}),Qn(it);break;case"ArrowUp":it.preventDefault(),_t({diff:-1,direction:"previous",reason:"keyboard",event:it}),Qn(it);break;case"ArrowLeft":!F&&J?at(0):Gn(it,"previous");break;case"ArrowRight":!F&&J?at(-1):Gn(it,"next");break;case"Enter":if(je.current!==-1&&Dt){const vt=Je[je.current],Yt=T?T(vt):!1;if(it.preventDefault(),Yt)return;Xr(it,vt,"selectOption"),r&&Te.current.setSelectionRange(Te.current.value.length,Te.current.value.length)}else E&&Ct!==""&&xt===!1&&(F&&it.preventDefault(),Xr(it,Ct,"createOption","freeSolo"));break;case"Escape":Dt?(it.preventDefault(),it.stopPropagation(),Br(it,"escape")):c&&(Ct!==""||F&&We.length>0||J)&&(it.preventDefault(),it.stopPropagation(),$t(it));break;case"Backspace":if(F&&!Y&&Ct===""&&We.length>0){const vt=Re===-1?We.length-1:Re,Yt=We.slice();Yt.splice(vt,1),St(it,Yt,"removeOption",{option:We[vt]})}!F&&J&&!Y&&(Bt(null),at(-1));break;case"Delete":if(F&&!Y&&Ct===""&&We.length>0&&Re!==-1){const vt=Re,Yt=We.slice();Yt.splice(vt,1),St(it,Yt,"removeOption",{option:We[vt]})}!F&&J&&!Y&&(Bt(null),at(-1));break}},nn=st=>{Ft(!0),ie&&!Ce.current&&Qn(st)},un=st=>{if(t(me)){Te.current.focus();return}Ft(!1),ke.current=!0,Ce.current=!1,o&&je.current!==-1&&Dt?Xr(st,Je[je.current],"blur"):o&&E&&Ct!==""?Xr(st,Ct,"blur","freeSolo"):a&&Mt(st,We,"blur"),Br(st,"blur")},wn=st=>{const it=st.target.value;Ct!==it&&(Ot(it),sn(!1),z&&z(st,it,"input")),it===""?!f&&!F&&St(st,null,"clear"):Qn(st)},hi=st=>{const it=Number(st.currentTarget.getAttribute("data-option-index"));je.current!==it&&Vt({event:st,index:it,reason:"mouse"})},ai=st=>{Vt({event:st,index:Number(st.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Yr.current=!0},qi=st=>{const it=Number(st.currentTarget.getAttribute("data-option-index"));Xr(st,Je[it],"selectOption"),Yr.current=!1},Do=st=>it=>{const vt=We.slice();vt.splice(st,1),St(it,vt,"removeOption",{option:We[st]})},Fr=st=>{St(st,null,"removeOption",{option:We})},Wn=st=>{zt?Br(st,"toggleInput"):Qn(st)},Er=st=>{st.currentTarget.contains(st.target)&&st.target.getAttribute("id")!==pe&&st.preventDefault()},Ri=st=>{st.currentTarget.contains(st.target)&&(Te.current.focus(),he&&ke.current&&Te.current.selectionEnd-Te.current.selectionStart===0&&Te.current.select(),ke.current=!1)},vo=st=>{!m&&(Ct===""||!zt)&&Wn(st)};let jr=E&&Ct.length>0;jr=jr||(F?We.length>0:We!==null);let gn=Je;return I&&(gn=Je.reduce((st,it,vt)=>{const Yt=I(it);return st.length>0&&st[st.length-1].group===Yt?st[st.length-1].options.push(it):st.push({key:vt,index:vt,group:Yt,options:[it]}),st},[])),m&&Ke&&un(),{getRootProps:(st={})=>({...st,onKeyDown:Kt(st),onMouseDown:Er,onClick:Ri}),getInputLabelProps:()=>({id:`${pe}-label`,htmlFor:pe}),getInputProps:()=>({id:pe,value:Ct,onBlur:un,onFocus:nn,onChange:wn,onMouseDown:vo,"aria-activedescendant":Dt?"":null,"aria-autocomplete":r?"both":"list","aria-controls":wt?`${pe}-listbox`:void 0,"aria-expanded":wt,autoComplete:"off",ref:Te,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:$t}),getItemProps:({index:st=0}={})=>({...F&&{key:st},...J?{"data-item-index":st}:{"data-tag-index":st},tabIndex:-1,...!Y&&{onDelete:F?Do(st):Fr}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Wn}),getTagProps:({index:st})=>({key:st,"data-tag-index":st,tabIndex:-1,...!Y&&{onDelete:Do(st)}}),getListboxProps:()=>({role:"listbox",id:`${pe}-listbox`,"aria-labelledby":`${pe}-label`,ref:yr,onMouseDown:st=>{st.preventDefault()}}),getOptionProps:({index:st,option:it})=>{const vt=(F?We:[We]).some(vn=>vn!=null&&$(it,vn)),Yt=T?T(it):!1;return{key:R?.(it)??le(it),tabIndex:-1,role:"option",id:`${pe}-option-${st}`,onMouseMove:hi,onClick:qi,onTouchStart:ai,"data-option-index":st,"aria-disabled":Yt,"aria-selected":vt}},id:pe,inputValue:Ct,value:We,dirty:jr,expanded:Dt&&ye,popupOpen:Dt,focused:Ke||Re!==-1,anchorEl:ye,setAnchorEl:xe,focusedItem:Re,focusedTag:Re,groupedOptions:gn}}var ys="top",_a="bottom",Ea="right",bs="left",hO="auto",Yg=[ys,_a,Ea,bs],_f="start",Xg="end",MCe="clippingParents",X2="viewport",Zg="popper",OCe="reference",Z2=Yg.reduce(function(e,t){return e.concat([t+"-"+_f,t+"-"+Xg])},[]),Q2=[].concat(Yg,[hO]).reduce(function(e,t){return e.concat([t,t+"-"+_f,t+"-"+Xg])},[]),RCe="beforeRead",ICe="read",kCe="afterRead",PCe="beforeMain",DCe="main",ACe="afterMain",LCe="beforeWrite",NCe="write",BCe="afterWrite",FCe=[RCe,ICe,kCe,PCe,DCe,ACe,LCe,NCe,BCe];function Ul(e){return e?(e.nodeName||"").toLowerCase():null}function Hs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ih(e){var t=Hs(e).Element;return e instanceof t||e instanceof Element}function Ta(e){var t=Hs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function fO(e){if(typeof ShadowRoot>"u")return!1;var t=Hs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function jCe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Ta(o)||!Ul(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function VCe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!Ta(i)||!Ul(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}const $Ce={name:"applyStyles",enabled:!0,phase:"write",fn:jCe,effect:VCe,requires:["computeStyles"]};function Hl(e){return e.split("-")[0]}var oh=Math.max,aw=Math.min,Ef=Math.round;function pO(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function J2(){return!/^((?!chrome|android).)*safari/i.test(pO())}function Tf(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Ta(e)&&(i=e.offsetWidth>0&&Ef(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ef(r.height)/e.offsetHeight||1);var s=ih(e)?Hs(e):window,a=s.visualViewport,c=!J2()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/i,h=(r.top+(c&&a?a.offsetTop:0))/o,f=r.width/i,g=r.height/o;return{width:f,height:g,top:h,right:u+f,bottom:h+g,left:u,x:u,y:h}}function gO(e){var t=Tf(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ez(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&fO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mc(e){return Hs(e).getComputedStyle(e)}function zCe(e){return["table","td","th"].indexOf(Ul(e))>=0}function Mu(e){return((ih(e)?e.ownerDocument:e.document)||window.document).documentElement}function lw(e){return Ul(e)==="html"?e:e.assignedSlot||e.parentNode||(fO(e)?e.host:null)||Mu(e)}function tz(e){return!Ta(e)||Mc(e).position==="fixed"?null:e.offsetParent}function UCe(e){var t=/firefox/i.test(pO()),n=/Trident/i.test(pO());if(n&&Ta(e)){var r=Mc(e);if(r.position==="fixed")return null}var i=lw(e);for(fO(i)&&(i=i.host);Ta(i)&&["html","body"].indexOf(Ul(i))<0;){var o=Mc(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Qg(e){for(var t=Hs(e),n=tz(e);n&&zCe(n)&&Mc(n).position==="static";)n=tz(n);return n&&(Ul(n)==="html"||Ul(n)==="body"&&Mc(n).position==="static")?t:n||UCe(e)||t}function mO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jg(e,t,n){return oh(e,aw(t,n))}function HCe(e,t,n){var r=Jg(e,t,n);return r>n?n:r}function nz(){return{top:0,right:0,bottom:0,left:0}}function rz(e){return Object.assign({},nz(),e)}function iz(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var GCe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,rz(typeof t!="number"?t:iz(t,Yg))};function WCe(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Hl(n.placement),c=mO(a),u=[bs,Ea].indexOf(a)>=0,h=u?"height":"width";if(!(!o||!s)){var f=GCe(i.padding,n),g=gO(o),m=c==="y"?ys:bs,y=c==="y"?_a:Ea,b=n.rects.reference[h]+n.rects.reference[c]-s[c]-n.rects.popper[h],v=s[c]-n.rects.reference[c],S=Qg(o),E=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,T=b/2-v/2,R=f[m],M=E-g[h]-f[y],I=E/2-g[h]/2+T,N=Jg(R,I,M),D=c;n.modifiersData[r]=(t={},t[D]=N,t.centerOffset=N-I,t)}}function KCe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||ez(t.elements.popper,i)&&(t.elements.arrow=i))}const qCe={name:"arrow",enabled:!0,phase:"main",fn:WCe,effect:KCe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mf(e){return e.split("-")[1]}var YCe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function XCe(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ef(n*i)/i||0,y:Ef(r*i)/i||0}}function oz(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,f=e.isFixed,g=s.x,m=g===void 0?0:g,y=s.y,b=y===void 0?0:y,v=typeof h=="function"?h({x:m,y:b}):{x:m,y:b};m=v.x,b=v.y;var S=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),T=bs,R=ys,M=window;if(u){var I=Qg(n),N="clientHeight",D="clientWidth";if(I===Hs(n)&&(I=Mu(n),Mc(I).position!=="static"&&a==="absolute"&&(N="scrollHeight",D="scrollWidth")),I=I,i===ys||(i===bs||i===Ea)&&o===Xg){R=_a;var L=f&&I===M&&M.visualViewport?M.visualViewport.height:I[N];b-=L-r.height,b*=c?1:-1}if(i===bs||(i===ys||i===_a)&&o===Xg){T=Ea;var A=f&&I===M&&M.visualViewport?M.visualViewport.width:I[D];m-=A-r.width,m*=c?1:-1}}var $=Object.assign({position:a},u&&YCe),F=h===!0?XCe({x:m,y:b},Hs(n)):{x:m,y:b};if(m=F.x,b=F.y,c){var H;return Object.assign({},$,(H={},H[R]=E?"0":"",H[T]=S?"0":"",H.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",H))}return Object.assign({},$,(t={},t[R]=E?b+"px":"",t[T]=S?m+"px":"",t.transform="",t))}function ZCe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:Hl(t.placement),variation:Mf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,oz(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,oz(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const QCe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZCe,data:{}};var cw={passive:!0};function JCe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Hs(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(h){h.addEventListener("scroll",n.update,cw)}),a&&c.addEventListener("resize",n.update,cw),function(){o&&u.forEach(function(h){h.removeEventListener("scroll",n.update,cw)}),a&&c.removeEventListener("resize",n.update,cw)}}const exe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JCe,data:{}};var txe={left:"right",right:"left",bottom:"top",top:"bottom"};function uw(e){return e.replace(/left|right|bottom|top/g,function(t){return txe[t]})}var nxe={start:"end",end:"start"};function sz(e){return e.replace(/start|end/g,function(t){return nxe[t]})}function vO(e){var t=Hs(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function yO(e){return Tf(Mu(e)).left+vO(e).scrollLeft}function rxe(e,t){var n=Hs(e),r=Mu(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var u=J2();(u||!u&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+yO(e),y:c}}function ixe(e){var t,n=Mu(e),r=vO(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=oh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=oh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+yO(e),c=-r.scrollTop;return Mc(i||n).direction==="rtl"&&(a+=oh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function bO(e){var t=Mc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function az(e){return["html","body","#document"].indexOf(Ul(e))>=0?e.ownerDocument.body:Ta(e)&&bO(e)?e:az(lw(e))}function em(e,t){var n;t===void 0&&(t=[]);var r=az(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Hs(r),s=i?[o].concat(o.visualViewport||[],bO(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(em(lw(s)))}function wO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oxe(e,t){var n=Tf(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function lz(e,t,n){return t===X2?wO(rxe(e,n)):ih(t)?oxe(t,n):wO(ixe(Mu(e)))}function sxe(e){var t=em(lw(e)),n=["absolute","fixed"].indexOf(Mc(e).position)>=0,r=n&&Ta(e)?Qg(e):e;return ih(r)?t.filter(function(i){return ih(i)&&ez(i,r)&&Ul(i)!=="body"}):[]}function axe(e,t,n,r){var i=t==="clippingParents"?sxe(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,u){var h=lz(e,u,r);return c.top=oh(h.top,c.top),c.right=aw(h.right,c.right),c.bottom=aw(h.bottom,c.bottom),c.left=oh(h.left,c.left),c},lz(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cz(e){var t=e.reference,n=e.element,r=e.placement,i=r?Hl(r):null,o=r?Mf(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(i){case ys:c={x:s,y:t.y-n.height};break;case _a:c={x:s,y:t.y+t.height};break;case Ea:c={x:t.x+t.width,y:a};break;case bs:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var u=i?mO(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(o){case _f:c[u]=c[u]-(t[h]/2-n[h]/2);break;case Xg:c[u]=c[u]+(t[h]/2-n[h]/2);break}}return c}function tm(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,c=a===void 0?MCe:a,u=n.rootBoundary,h=u===void 0?X2:u,f=n.elementContext,g=f===void 0?Zg:f,m=n.altBoundary,y=m===void 0?!1:m,b=n.padding,v=b===void 0?0:b,S=rz(typeof v!="number"?v:iz(v,Yg)),E=g===Zg?OCe:Zg,T=e.rects.popper,R=e.elements[y?E:g],M=axe(ih(R)?R:R.contextElement||Mu(e.elements.popper),c,h,s),I=Tf(e.elements.reference),N=cz({reference:I,element:T,placement:i}),D=wO(Object.assign({},T,N)),L=g===Zg?D:I,A={top:M.top-L.top+S.top,bottom:L.bottom-M.bottom+S.bottom,left:M.left-L.left+S.left,right:L.right-M.right+S.right},$=e.modifiersData.offset;if(g===Zg&&$){var F=$[i];Object.keys(A).forEach(function(H){var q=[Ea,_a].indexOf(H)>=0?1:-1,K=[ys,_a].indexOf(H)>=0?"y":"x";A[H]+=F[K]*q})}return A}function lxe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Q2:c,h=Mf(r),f=h?a?Z2:Z2.filter(function(y){return Mf(y)===h}):Yg,g=f.filter(function(y){return u.indexOf(y)>=0});g.length===0&&(g=f);var m=g.reduce(function(y,b){return y[b]=tm(e,{placement:b,boundary:i,rootBoundary:o,padding:s})[Hl(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function cxe(e){if(Hl(e)===hO)return[];var t=uw(e);return[sz(e),t,sz(t)]}function uxe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,u=n.padding,h=n.boundary,f=n.rootBoundary,g=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,b=n.allowedAutoPlacements,v=t.options.placement,S=Hl(v),E=S===v,T=c||(E||!y?[uw(v)]:cxe(v)),R=[v].concat(T).reduce(function(ge,pe){return ge.concat(Hl(pe)===hO?lxe(t,{placement:pe,boundary:h,rootBoundary:f,padding:u,flipVariations:y,allowedAutoPlacements:b}):pe)},[]),M=t.rects.reference,I=t.rects.popper,N=new Map,D=!0,L=R[0],A=0;A<R.length;A++){var $=R[A],F=Hl($),H=Mf($)===_f,q=[ys,_a].indexOf(F)>=0,K=q?"width":"height",z=tm(t,{placement:$,boundary:h,rootBoundary:f,altBoundary:g,padding:u}),Z=q?H?Ea:bs:H?_a:ys;M[K]>I[K]&&(Z=uw(Z));var ee=uw(Z),ie=[];if(o&&ie.push(z[F]<=0),a&&ie.push(z[Z]<=0,z[ee]<=0),ie.every(function(ge){return ge})){L=$,D=!1;break}N.set($,ie)}if(D)for(var U=y?3:1,Y=function(pe){var le=R.find(function(Ce){var ke=N.get(Ce);if(ke)return ke.slice(0,pe).every(function(Te){return Te})});if(le)return L=le,"break"},J=U;J>0;J--){var he=Y(J);if(he==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const dxe={name:"flip",enabled:!0,phase:"main",fn:uxe,requiresIfExists:["offset"],data:{_skip:!1}};function uz(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function dz(e){return[ys,Ea,_a,bs].some(function(t){return e[t]>=0})}function hxe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=tm(t,{elementContext:"reference"}),a=tm(t,{altBoundary:!0}),c=uz(s,r),u=uz(a,i,o),h=dz(c),f=dz(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const fxe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hxe};function pxe(e,t,n){var r=Hl(e),i=[bs,ys].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[bs,Ea].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function gxe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=Q2.reduce(function(h,f){return h[f]=pxe(f,t.rects,o),h},{}),a=s[t.placement],c=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}const mxe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gxe};function vxe(e){var t=e.state,n=e.name;t.modifiersData[n]=cz({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const yxe={name:"popperOffsets",enabled:!0,phase:"read",fn:vxe,data:{}};function bxe(e){return e==="x"?"y":"x"}function wxe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,f=n.padding,g=n.tether,m=g===void 0?!0:g,y=n.tetherOffset,b=y===void 0?0:y,v=tm(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:h}),S=Hl(t.placement),E=Mf(t.placement),T=!E,R=mO(S),M=bxe(R),I=t.modifiersData.popperOffsets,N=t.rects.reference,D=t.rects.popper,L=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,A=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(I){if(o){var H,q=R==="y"?ys:bs,K=R==="y"?_a:Ea,z=R==="y"?"height":"width",Z=I[R],ee=Z+v[q],ie=Z-v[K],U=m?-D[z]/2:0,Y=E===_f?N[z]:D[z],J=E===_f?-D[z]:-N[z],he=t.elements.arrow,ge=m&&he?gO(he):{width:0,height:0},pe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:nz(),le=pe[q],Ce=pe[K],ke=Jg(0,N[z],ge[z]),Te=T?N[z]/2-U-ke-le-A.mainAxis:Y-ke-le-A.mainAxis,me=T?-N[z]/2+U+ke+Ce+A.mainAxis:J+ke+Ce+A.mainAxis,ye=t.elements.arrow&&Qg(t.elements.arrow),xe=ye?R==="y"?ye.clientTop||0:ye.clientLeft||0:0,Re=(H=$?.[R])!=null?H:0,Le=Z+Te-Re-xe,Ie=Z+me-Re,je=Jg(m?aw(ee,Le):ee,Z,m?oh(ie,Ie):ie);I[R]=je,F[R]=je-Z}if(a){var lt,We=R==="x"?ys:bs,Bt=R==="x"?_a:Ea,Ct=I[M],Ot=M==="y"?"height":"width",Ke=Ct+v[We],Ft=Ct-v[Bt],Mt=[ys,bs].indexOf(S)!==-1,zt=(lt=$?.[M])!=null?lt:0,Lt=Mt?Ke:Ct-N[Ot]-D[Ot]-zt+A.altAxis,Xt=Mt?Ct+N[Ot]+D[Ot]-zt-A.altAxis:Ft,sn=m&&Mt?HCe(Lt,Ct,Xt):Jg(m?Lt:Ke,Ct,m?Xt:Ft);I[M]=sn,F[M]=sn-Ct}t.modifiersData[r]=F}}const Sxe={name:"preventOverflow",enabled:!0,phase:"main",fn:wxe,requiresIfExists:["offset"]};function Cxe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function xxe(e){return e===Hs(e)||!Ta(e)?vO(e):Cxe(e)}function _xe(e){var t=e.getBoundingClientRect(),n=Ef(t.width)/e.offsetWidth||1,r=Ef(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Exe(e,t,n){n===void 0&&(n=!1);var r=Ta(t),i=Ta(t)&&_xe(t),o=Mu(t),s=Tf(e,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Ul(t)!=="body"||bO(o))&&(a=xxe(t)),Ta(t)?(c=Tf(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=yO(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Txe(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&i(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Mxe(e){var t=Txe(e);return FCe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Oxe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Rxe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var hz={placement:"bottom",modifiers:[],strategy:"absolute"};function fz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ixe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?hz:i;return function(a,c,u){u===void 0&&(u=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},hz,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],g=!1,m={state:h,setOptions:function(S){var E=typeof S=="function"?S(h.options):S;b(),h.options=Object.assign({},o,h.options,E),h.scrollParents={reference:ih(a)?em(a):a.contextElement?em(a.contextElement):[],popper:em(c)};var T=Mxe(Rxe([].concat(r,h.options.modifiers)));return h.orderedModifiers=T.filter(function(R){return R.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var S=h.elements,E=S.reference,T=S.popper;if(fz(E,T)){h.rects={reference:Exe(E,Qg(T),h.options.strategy==="fixed"),popper:gO(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var R=0;R<h.orderedModifiers.length;R++){if(h.reset===!0){h.reset=!1,R=-1;continue}var M=h.orderedModifiers[R],I=M.fn,N=M.options,D=N===void 0?{}:N,L=M.name;typeof I=="function"&&(h=I({state:h,options:D,name:L,instance:m})||h)}}}},update:Oxe(function(){return new Promise(function(v){m.forceUpdate(),v(h)})}),destroy:function(){b(),g=!0}};if(!fz(a,c))return m;m.setOptions(u).then(function(v){!g&&u.onFirstUpdate&&u.onFirstUpdate(v)});function y(){h.orderedModifiers.forEach(function(v){var S=v.name,E=v.options,T=E===void 0?{}:E,R=v.effect;if(typeof R=="function"){var M=R({state:h,name:S,instance:m,options:T}),I=function(){};f.push(M||I)}})}function b(){f.forEach(function(v){return v()}),f=[]}return m}}var kxe=[exe,yxe,QCe,$Ce,mxe,dxe,Sxe,qCe,fxe],Pxe=Ixe({defaultModifiers:kxe});function Ro(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:iw(n,r),{props:a,internalRef:c}=$2({...o,externalSlotProps:s}),u=qn(c,s?.ref,e.additionalProps?.ref);return j2(t,{...a,ref:u},r)}function Ou(e){return parseInt(_.version,10)>=19?e?.props?.ref||null:e?.ref||null}function Dxe(e){return typeof e=="function"?e():e}const pz=_.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,a]=_.useState(null),c=qn(_.isValidElement(r)?Ou(r):null,n);if(cr(()=>{o||a(Dxe(i)||document.body)},[i,o]),cr(()=>{if(s&&!o)return eO(n,s),()=>{eO(n,null)}},[n,s,o]),o){if(_.isValidElement(r)){const u={ref:c};return _.cloneElement(r,u)}return r}return s&&Tb.createPortal(r,s)});function Axe(e){return fn("MuiPopper",e)}cn("MuiPopper",["root"]);function Lxe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function SO(e){return typeof e=="function"?e():e}function Nxe(e){return e.nodeType!==void 0}const Bxe=e=>{const{classes:t}=e;return Et({root:["root"]},Axe,t)},Fxe={},jxe=_.forwardRef(function(t,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:g={},slots:m={},TransitionProps:y,ownerState:b,...v}=t,S=_.useRef(null),E=qn(S,n),T=_.useRef(null),R=qn(T,f),M=_.useRef(R);cr(()=>{M.current=R},[R]),_.useImperativeHandle(f,()=>T.current,[]);const I=Lxe(u,o),[N,D]=_.useState(I),[L,A]=_.useState(SO(r));_.useEffect(()=>{T.current&&T.current.forceUpdate()}),_.useEffect(()=>{r&&A(SO(r))},[r]),cr(()=>{if(!L||!c)return;const K=ee=>{D(ee.placement)};let z=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ee})=>{K(ee)}}];a!=null&&(z=z.concat(a)),h&&h.modifiers!=null&&(z=z.concat(h.modifiers));const Z=Pxe(L,S.current,{placement:I,...h,modifiers:z});return M.current(Z),()=>{Z.destroy(),M.current(null)}},[L,s,a,c,h,I]);const $={placement:N};y!==null&&($.TransitionProps=y);const F=Bxe(t),H=m.root??"div",q=Ro({elementType:H,externalSlotProps:g.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:E},ownerState:t,className:F.root});return x.jsx(H,{...q,children:typeof i=="function"?i($):i})}),Vxe=Ee(_.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:u,open:h,placement:f="bottom",popperOptions:g=Fxe,popperRef:m,style:y,transition:b=!1,slotProps:v={},slots:S={},...E}=t,[T,R]=_.useState(!0),M=()=>{R(!1)},I=()=>{R(!0)};if(!c&&!h&&(!b||T))return null;let N;if(o)N=o;else if(r){const A=SO(r);N=A&&Nxe(A)?bi(A).body:bi(null).body}const D=!h&&c&&(!b||T)?"none":void 0,L=b?{in:h,onEnter:M,onExited:I}:void 0;return x.jsx(pz,{disablePortal:a,container:N,children:x.jsx(jxe,{anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:b?!T:h,placement:f,popperOptions:g,popperRef:m,slotProps:v,slots:S,...E,style:{position:"fixed",top:0,left:0,display:D,...y},TransitionProps:L,children:i})})}),{name:"MuiPopper",slot:"Root"})({}),nm=_.forwardRef(function(t,n){const r=Oo(),i=yn({props:t,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:c,container:u,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,slots:E,slotProps:T,...R}=i,M=E?.root??a?.Root,I={anchorEl:o,container:u,disablePortal:h,keepMounted:f,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,...R};return x.jsx(Vxe,{as:s,direction:r?"rtl":"ltr",slots:{root:M},slotProps:T??c,...I,ref:n})});function $xe(e){return fn("MuiListSubheader",e)}cn("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const zxe=e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:o}=e,s={root:["root",n!=="default"&&`color${et(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return Et(s,$xe,t)},Uxe=Ee("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${et(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(on(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),CO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:a=!1,disableSticky:c=!1,inset:u=!1,...h}=r,f={...r,color:o,component:s,disableGutters:a,disableSticky:c,inset:u},g=zxe(f);return x.jsx(Uxe,{as:s,className:tt(g.root,i),ref:n,ownerState:f,...h})});CO&&(CO.muiSkipListHighlight=!0);const Hxe=At(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Gxe(e){return fn("MuiChip",e)}const sr=cn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Wxe=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:c}=e,u={root:["root",c,n&&"disabled",`size${et(r)}`,`color${et(i)}`,a&&"clickable",a&&`clickableColor${et(i)}`,s&&"deletable",s&&`deletableColor${et(i)}`,`${c}${et(i)}`],label:["label",`label${et(r)}`],avatar:["avatar",`avatar${et(r)}`,`avatarColor${et(i)}`],icon:["icon",`icon${et(r)}`,`iconColor${et(o)}`],deleteIcon:["deleteIcon",`deleteIcon${et(r)}`,`deleteIconColor${et(i)}`,`deleteIcon${et(c)}Color${et(i)}`]};return Et(u,Gxe,t)},Kxe=Ee("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:c}=n;return[{[`& .${sr.avatar}`]:t.avatar},{[`& .${sr.avatar}`]:t[`avatar${et(a)}`]},{[`& .${sr.avatar}`]:t[`avatarColor${et(r)}`]},{[`& .${sr.icon}`]:t.icon},{[`& .${sr.icon}`]:t[`icon${et(a)}`]},{[`& .${sr.icon}`]:t[`iconColor${et(i)}`]},{[`& .${sr.deleteIcon}`]:t.deleteIcon},{[`& .${sr.deleteIcon}`]:t[`deleteIcon${et(a)}`]},{[`& .${sr.deleteIcon}`]:t[`deleteIconColor${et(r)}`]},{[`& .${sr.deleteIcon}`]:t[`deleteIcon${et(c)}Color${et(r)}`]},t.root,t[`size${et(a)}`],t[`color${et(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${et(r)})`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${et(r)}`],t[c],t[`${c}${et(r)}`]]}})(on(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${sr.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${sr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${sr.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${sr.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${sr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${sr.icon}`]:{marginLeft:5,marginRight:-6},[`& .${sr.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${sr.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${sr.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(wi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${sr.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${sr.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${sr.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${sr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(wi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${sr.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${sr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(wi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${sr.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${sr.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${sr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${sr.avatar}`]:{marginLeft:4},[`& .${sr.avatarSmall}`]:{marginLeft:2},[`& .${sr.icon}`]:{marginLeft:4},[`& .${sr.iconSmall}`]:{marginLeft:2},[`& .${sr.deleteIcon}`]:{marginRight:5},[`& .${sr.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(wi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${sr.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${sr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${sr.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),qxe=Ee("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${et(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function gz(e){return e.key==="Backspace"||e.key==="Delete"}const xO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:c,deleteIcon:u,disabled:h=!1,icon:f,label:g,onClick:m,onDelete:y,onKeyDown:b,onKeyUp:v,size:S="medium",variant:E="filled",tabIndex:T,skipFocusWhenDisabled:R=!1,slots:M={},slotProps:I={},...N}=r,D=_.useRef(null),L=qn(D,n),A=le=>{le.stopPropagation(),y&&y(le)},$=le=>{le.currentTarget===le.target&&gz(le)&&le.preventDefault(),b&&b(le)},F=le=>{le.currentTarget===le.target&&y&&gz(le)&&y(le),v&&v(le)},H=s!==!1&&m?!0:s,q=H||y?zl:c||"div",K={...r,component:q,disabled:h,size:S,color:a,iconColor:_.isValidElement(f)&&f.props.color||a,onDelete:!!y,clickable:H,variant:E},z=Wxe(K),Z=q===zl?{component:c||"div",focusVisibleClassName:z.focusVisible,...y&&{disableRipple:!0}}:{};let ee=null;y&&(ee=u&&_.isValidElement(u)?_.cloneElement(u,{className:tt(u.props.className,z.deleteIcon),onClick:A}):x.jsx(Hxe,{className:z.deleteIcon,onClick:A}));let ie=null;i&&_.isValidElement(i)&&(ie=_.cloneElement(i,{className:tt(z.avatar,i.props.className)}));let U=null;f&&_.isValidElement(f)&&(U=_.cloneElement(f,{className:tt(z.icon,f.props.className)}));const Y={slots:M,slotProps:I},[J,he]=En("root",{elementType:Kxe,externalForwardedProps:{...Y,...N},ownerState:K,shouldForwardComponentProp:!0,ref:L,className:tt(z.root,o),additionalProps:{disabled:H&&h?!0:void 0,tabIndex:R&&h?-1:T,...Z},getSlotProps:le=>({...le,onClick:Ce=>{le.onClick?.(Ce),m?.(Ce)},onKeyDown:Ce=>{le.onKeyDown?.(Ce),$(Ce)},onKeyUp:Ce=>{le.onKeyUp?.(Ce),F(Ce)}})}),[ge,pe]=En("label",{elementType:qxe,externalForwardedProps:Y,ownerState:K,className:z.label});return x.jsxs(J,{as:q,...he,children:[ie||U,x.jsx(ge,{...pe,children:g}),ee]})});function dw(e){return parseInt(e,10)||0}const Yxe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Xxe(e){for(const t in e)return!1;return!0}function mz(e){return Xxe(e)||e.outerHeightStyle===0&&!e.overflowing}const Zxe=_.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...c}=t,{current:u}=_.useRef(a!=null),h=_.useRef(null),f=qn(n,h),g=_.useRef(null),m=_.useRef(null),y=_.useCallback(()=>{const T=h.current,R=m.current;if(!T||!R)return;const I=$s(T).getComputedStyle(T);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=I.width,R.value=T.value||t.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const N=I.boxSizing,D=dw(I.paddingBottom)+dw(I.paddingTop),L=dw(I.borderBottomWidth)+dw(I.borderTopWidth),A=R.scrollHeight;R.value="x";const $=R.scrollHeight;let F=A;o&&(F=Math.max(Number(o)*$,F)),i&&(F=Math.min(Number(i)*$,F)),F=Math.max(F,$);const H=F+(N==="border-box"?D+L:0),q=Math.abs(F-A)<=1;return{outerHeightStyle:H,overflowing:q}},[i,o,t.placeholder]),b=Jt(()=>{const T=h.current,R=y();if(!T||!R||mz(R))return!1;const M=R.outerHeightStyle;return g.current!=null&&g.current!==M}),v=_.useCallback(()=>{const T=h.current,R=y();if(!T||!R||mz(R))return;const M=R.outerHeightStyle;g.current!==M&&(g.current=M,T.style.height=`${M}px`),T.style.overflow=R.overflowing?"hidden":""},[y]),S=_.useRef(-1);cr(()=>{const T=_u(v),R=h?.current;if(!R)return;const M=$s(R);M.addEventListener("resize",T);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{b()&&(I.unobserve(R),cancelAnimationFrame(S.current),v(),S.current=requestAnimationFrame(()=>{I.observe(R)}))}),I.observe(R)),()=>{T.clear(),cancelAnimationFrame(S.current),M.removeEventListener("resize",T),I&&I.disconnect()}},[y,v,b]),cr(()=>{v()});const E=T=>{u||v();const R=T.target,M=R.value.length,I=R.value.endsWith(`
`),N=R.selectionStart===M;I&&N&&R.setSelectionRange(M,M),r&&r(T)};return x.jsxs(_.Fragment,{children:[x.jsx("textarea",{value:a,onChange:E,ref:f,rows:o,style:s,...c}),x.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:{...Yxe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function sh({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const hw=_.createContext(void 0);function Oc(){return _.useContext(hw)}function vz(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function fw(e,t=!1){return e&&(vz(e.value)&&e.value!==""||t&&vz(e.defaultValue)&&e.defaultValue!=="")}function Qxe(e){return e.startAdornment}function Jxe(e){return fn("MuiInputBase",e)}const $o=cn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var yz;const pw=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${et(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},gw=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},e_e=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:f,size:g,startAdornment:m,type:y}=e,b={root:["root",`color${et(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",s&&"focused",a&&"formControl",g&&g!=="medium"&&`size${et(g)}`,h&&"multiline",m&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return Et(b,Jxe,t)},mw=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pw})(on(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${$o.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),vw=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:gw})(on(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${$o.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${$o.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),bz=y0e({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),rm=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:c,components:u={},componentsProps:h={},defaultValue:f,disabled:g,disableInjectingGlobalStyles:m,endAdornment:y,error:b,fullWidth:v=!1,id:S,inputComponent:E="input",inputProps:T={},inputRef:R,margin:M,maxRows:I,minRows:N,multiline:D=!1,name:L,onBlur:A,onChange:$,onClick:F,onFocus:H,onKeyDown:q,onKeyUp:K,placeholder:z,readOnly:Z,renderSuffix:ee,rows:ie,size:U,slotProps:Y={},slots:J={},startAdornment:he,type:ge="text",value:pe,...le}=r,Ce=T.value!=null?T.value:pe,{current:ke}=_.useRef(Ce!=null),Te=_.useRef(),me=_.useCallback(Je=>{},[]),ye=qn(Te,R,T.ref,me),[xe,Re]=_.useState(!1),Le=Oc(),Ie=sh({props:r,muiFormControl:Le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ie.focused=Le?Le.focused:xe,_.useEffect(()=>{!Le&&g&&xe&&(Re(!1),A&&A())},[Le,g,xe,A]);const je=Le&&Le.onFilled,lt=Le&&Le.onEmpty,We=_.useCallback(Je=>{fw(Je)?je&&je():lt&&lt()},[je,lt]);cr(()=>{ke&&We({value:Ce})},[Ce,We,ke]);const Bt=Je=>{H&&H(Je),T.onFocus&&T.onFocus(Je),Le&&Le.onFocus?Le.onFocus(Je):Re(!0)},Ct=Je=>{A&&A(Je),T.onBlur&&T.onBlur(Je),Le&&Le.onBlur?Le.onBlur(Je):Re(!1)},Ot=(Je,...bt)=>{if(!ke){const wt=Je.target||Te.current;if(wt==null)throw new Error(_c(1));We({value:wt.value})}T.onChange&&T.onChange(Je,...bt),$&&$(Je,...bt)};_.useEffect(()=>{We(Te.current)},[]);const Ke=Je=>{Te.current&&Je.currentTarget===Je.target&&Te.current.focus(),F&&F(Je)};let Ft=E,Mt=T;D&&Ft==="input"&&(ie?Mt={type:void 0,minRows:ie,maxRows:ie,...Mt}:Mt={type:void 0,maxRows:I,minRows:N,...Mt},Ft=Zxe);const zt=Je=>{We(Je.animationName==="mui-auto-fill-cancel"?Te.current:{value:"x"})};_.useEffect(()=>{Le&&Le.setAdornedStart(!!he)},[Le,he]);const Lt={...r,color:Ie.color||"primary",disabled:Ie.disabled,endAdornment:y,error:Ie.error,focused:Ie.focused,formControl:Le,fullWidth:v,hiddenLabel:Ie.hiddenLabel,multiline:D,size:Ie.size,startAdornment:he,type:ge},Xt=e_e(Lt),sn=J.root||u.Root||mw,xt=Y.root||h.root||{},Dt=J.input||u.Input||vw;return Mt={...Mt,...Y.input??h.input},x.jsxs(_.Fragment,{children:[!m&&typeof bz=="function"&&(yz||(yz=x.jsx(bz,{}))),x.jsxs(sn,{...xt,ref:n,onClick:Ke,...le,...!Cf(sn)&&{ownerState:{...Lt,...xt.ownerState}},className:tt(Xt.root,xt.className,a,Z&&"MuiInputBase-readOnly"),children:[he,x.jsx(hw.Provider,{value:null,children:x.jsx(Dt,{"aria-invalid":Ie.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:f,disabled:Ie.disabled,id:S,onAnimationStart:zt,name:L,placeholder:z,readOnly:Z,required:Ie.required,rows:ie,value:Ce,onKeyDown:q,onKeyUp:K,type:ge,...Mt,...!Cf(Dt)&&{as:Ft,ownerState:{...Lt,...Mt.ownerState}},ref:ye,className:tt(Xt.input,Mt.className,Z&&"MuiInputBase-readOnly"),onBlur:Ct,onChange:Ot,onFocus:Bt})}),y,ee?ee({...Ie,startAdornment:he}):null]})]})});function t_e(e){return fn("MuiInput",e)}const Ru={...$o,...cn("MuiInput",["root","underline","input"])};function n_e(e){return fn("MuiOutlinedInput",e)}const Ma={...$o,...cn("MuiOutlinedInput",["root","notchedOutline","input"])};function r_e(e){return fn("MuiFilledInput",e)}const Gs={...$o,...cn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},wz=At(x.jsx("path",{d:"M7 10l5 5 5-5z"}));function i_e(e){return fn("MuiAutocomplete",e)}const Jn=cn("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Sz,Cz;const o_e=e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:c,popupOpen:u,size:h}=e,f={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${et(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Et(f,i_e,t)},s_e=Ee("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=n;return[{[`& .${Jn.tag}`]:t.tag},{[`& .${Jn.tag}`]:t[`tagSize${et(a)}`]},{[`& .${Jn.inputRoot}`]:t.inputRoot},{[`& .${Jn.input}`]:t.input},{[`& .${Jn.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${Jn.focused} .${Jn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Jn.clearIndicator}`]:{visibility:"visible"}},[`& .${Jn.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Jn.inputRoot}`]:{[`.${Jn.hasPopupIcon}&, .${Jn.hasClearIcon}&`]:{paddingRight:30},[`.${Jn.hasPopupIcon}.${Jn.hasClearIcon}&`]:{paddingRight:56},[`& .${Jn.input}`]:{width:0,minWidth:30}},[`& .${Ru.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ru.root}.${$o.sizeSmall}`]:{[`& .${Ru.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ma.root}`]:{padding:9,[`.${Jn.hasPopupIcon}&, .${Jn.hasClearIcon}&`]:{paddingRight:39},[`.${Jn.hasPopupIcon}.${Jn.hasClearIcon}&`]:{paddingRight:65},[`& .${Jn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Jn.endAdornment}`]:{right:9}},[`& .${Ma.root}.${$o.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Jn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Gs.root}`]:{paddingTop:19,paddingLeft:8,[`.${Jn.hasPopupIcon}&, .${Jn.hasClearIcon}&`]:{paddingRight:39},[`.${Jn.hasPopupIcon}.${Jn.hasClearIcon}&`]:{paddingRight:65},[`& .${Gs.input}`]:{padding:"7px 4px"},[`& .${Jn.endAdornment}`]:{right:9}},[`& .${Gs.root}.${$o.sizeSmall}`]:{paddingBottom:1,[`& .${Gs.input}`]:{padding:"2.5px 4px"}},[`& .${$o.hiddenLabel}`]:{paddingTop:8},[`& .${Gs.root}.${$o.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Jn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Gs.root}.${$o.hiddenLabel}.${$o.sizeSmall}`]:{[`& .${Jn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Jn.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Jn.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Jn.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Jn.inputRoot}`]:{flexWrap:"wrap"}}}]}),a_e=Ee("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),l_e=Ee($n,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),c_e=Ee($n,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),u_e=Ee(nm,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Jn.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(on(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),d_e=Ee(rh,{name:"MuiAutocomplete",slot:"Paper"})(on(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),h_e=Ee("div",{name:"MuiAutocomplete",slot:"Loading"})(on(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),f_e=Ee("div",{name:"MuiAutocomplete",slot:"NoOptions"})(on(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),p_e=Ee("ul",{name:"MuiAutocomplete",slot:"Listbox"})(on(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Jn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Jn.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Jn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Jn.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Jn.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),g_e=Ee(CO,{name:"MuiAutocomplete",slot:"GroupLabel"})(on(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),m_e=Ee("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${Jn.option}`]:{paddingLeft:24}}),xz=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:c,className:u,clearIcon:h=Sz||(Sz=x.jsx(hCe,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:g=!1,clearText:m="Clear",closeText:y="Close",componentsProps:b,defaultValue:v=r.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:E=!1,disabled:T=!1,disabledItemsFocusable:R=!1,disableListWrap:M=!1,disablePortal:I=!1,filterOptions:N,filterSelectedOptions:D=!1,forcePopupIcon:L="auto",freeSolo:A=!1,fullWidth:$=!1,getLimitTagsText:F=Nn=>`+${Nn}`,getOptionDisabled:H,getOptionKey:q,getOptionLabel:K,isOptionEqualToValue:z,groupBy:Z,handleHomeEndKeys:ee=!r.freeSolo,id:ie,includeInputInList:U=!1,inputValue:Y,limitTags:J=-1,ListboxComponent:he,ListboxProps:ge,loading:pe=!1,loadingText:le="Loading…",multiple:Ce=!1,noOptionsText:ke="No options",onChange:Te,onClose:me,onHighlightChange:ye,onInputChange:xe,onOpen:Re,open:Le,openOnFocus:Ie=!1,openText:je="Open",options:lt,PaperComponent:We,PopperComponent:Bt,popupIcon:Ct=Cz||(Cz=x.jsx(wz,{})),readOnly:Ot=!1,renderGroup:Ke,renderInput:Ft,renderOption:Mt,renderTags:zt,renderValue:Lt,selectOnFocus:Xt=!r.freeSolo,size:sn="medium",slots:xt={},slotProps:Dt={},value:Je,...bt}=r,{getRootProps:wt,getInputProps:at,getInputLabelProps:mt,getPopupIndicatorProps:Vt,getClearProps:_t,getItemProps:Nt,getListboxProps:Zn,getOptionProps:An,value:yr,dirty:Qn,expanded:Br,id:St,popupOpen:Yr,focused:Xr,focusedItem:en,anchorEl:Gn,setAnchorEl:$t,inputValue:Kt,groupedOptions:nn}=TCe({...r,componentName:"Autocomplete"}),un=!S&&!T&&Qn&&!Ot,wn=(!A||L===!0)&&L!==!1,{onMouseDown:hi}=at(),{ref:ai,...qi}=Zn(),Fr=K||(Nn=>Nn.label??Nn),Wn={...r,disablePortal:I,expanded:Br,focused:Xr,fullWidth:$,getOptionLabel:Fr,hasClearIcon:un,hasPopupIcon:wn,inputFocused:en===-1,popupOpen:Yr,size:sn},Er=o_e(Wn),Ri={slots:{paper:We,popper:Bt,...xt},slotProps:{chip:c,listbox:ge,...b,...Dt}},[vo,jr]=En("listbox",{elementType:p_e,externalForwardedProps:Ri,ownerState:Wn,className:Er.listbox,additionalProps:qi,ref:ai}),[gn,st]=En("paper",{elementType:rh,externalForwardedProps:Ri,ownerState:Wn,className:Er.paper}),[it,vt]=En("popper",{elementType:nm,externalForwardedProps:Ri,ownerState:Wn,className:Er.popper,additionalProps:{disablePortal:I,style:{width:Gn?Gn.clientWidth:null},role:"presentation",anchorEl:Gn,open:Yr}});let Yt;const vn=Nn=>({className:Er.tag,disabled:T,...Nt(Nn)});if(Ce?yr.length>0&&(zt?Yt=zt(yr,vn,Wn):Lt?Yt=Lt(yr,vn,Wn):Yt=yr.map((Nn,Tr)=>{const{key:no,...Ao}=vn({index:Tr});return x.jsx(xO,{label:Fr(Nn),size:sn,...Ao,...Ri.slotProps.chip},no)})):Lt&&yr!=null&&(Yt=Lt(yr,vn,Wn)),J>-1&&Array.isArray(Yt)){const Nn=Yt.length-J;!Xr&&Nn>0&&(Yt=Yt.splice(0,J),Yt.push(x.jsx("span",{className:Er.tag,children:F(Nn)},Yt.length)))}const dr=Ke||(Nn=>x.jsxs("li",{children:[x.jsx(g_e,{className:Er.groupLabel,ownerState:Wn,component:"div",children:Nn.group}),x.jsx(m_e,{className:Er.groupUl,ownerState:Wn,children:Nn.children})]},Nn.key)),Yi=Mt||((Nn,Tr)=>{const{key:no,...Ao}=Nn;return x.jsx("li",{...Ao,children:Fr(Tr)},no)}),Jo=(Nn,Tr)=>{const no=An({option:Nn,index:Tr});return Yi({...no,className:Er.option},Nn,{selected:no["aria-selected"],index:Tr,inputValue:Kt},Wn)},Bi=Ri.slotProps.clearIndicator,cs=Ri.slotProps.popupIndicator;return x.jsxs(_.Fragment,{children:[x.jsx(s_e,{ref:n,className:tt(Er.root,u),ownerState:Wn,...wt(bt),children:Ft({id:St,disabled:T,fullWidth:!0,size:sn==="small"?"small":void 0,InputLabelProps:mt(),InputProps:{ref:$t,className:Er.inputRoot,startAdornment:Yt,onMouseDown:Nn=>{Nn.target===Nn.currentTarget&&hi(Nn)},...(un||wn)&&{endAdornment:x.jsxs(a_e,{className:Er.endAdornment,ownerState:Wn,children:[un?x.jsx(l_e,{..._t(),"aria-label":m,title:m,ownerState:Wn,...Bi,className:tt(Er.clearIndicator,Bi?.className),children:h}):null,wn?x.jsx(c_e,{...Vt(),disabled:T,"aria-label":Yr?y:je,title:Yr?y:je,ownerState:Wn,...cs,className:tt(Er.popupIndicator,cs?.className),children:Ct}):null]})}},inputProps:{className:Er.input,disabled:T,readOnly:Ot,...at()}})}),Gn?x.jsx(u_e,{as:it,...vt,children:x.jsxs(d_e,{as:gn,...st,children:[pe&&nn.length===0?x.jsx(h_e,{className:Er.loading,ownerState:Wn,children:le}):null,nn.length===0&&!A&&!pe?x.jsx(f_e,{className:Er.noOptions,ownerState:Wn,role:"presentation",onMouseDown:Nn=>{Nn.preventDefault()},children:ke}):null,nn.length>0?x.jsx(vo,{as:he,...jr,children:nn.map((Nn,Tr)=>Z?dr({key:Nn.key,group:Nn.group,children:Nn.options.map((no,Ao)=>Jo(no,Nn.index+Ao))}):Jo(Nn,Tr))}):null]})}):null]})}),_z=cn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),v_e={entering:{opacity:1},entered:{opacity:1}},im=_.forwardRef(function(t,n){const r=$l(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:c,in:u,onEnter:h,onEntered:f,onEntering:g,onExit:m,onExited:y,onExiting:b,style:v,timeout:S=i,TransitionComponent:E=Ca,...T}=t,R=_.useRef(null),M=qn(R,Ou(a),n),I=q=>K=>{if(q){const z=R.current;K===void 0?q(z):q(z,K)}},N=I(g),D=I((q,K)=>{oO(q);const z=Eu({style:v,timeout:S,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",z),q.style.transition=r.transitions.create("opacity",z),h&&h(q,K)}),L=I(f),A=I(b),$=I(q=>{const K=Eu({style:v,timeout:S,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",K),q.style.transition=r.transitions.create("opacity",K),m&&m(q)}),F=I(y),H=q=>{o&&o(R.current,q)};return x.jsx(E,{appear:s,in:u,nodeRef:R,onEnter:D,onEntered:L,onEntering:N,onExit:$,onExited:F,onExiting:A,addEndListener:H,timeout:S,...T,children:(q,{ownerState:K,...z})=>_.cloneElement(a,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...v_e[q],...v,...a.props.style},ref:M,...z})})});function y_e(e){return fn("MuiBackdrop",e)}cn("MuiBackdrop",["root","invisible"]);const b_e=e=>{const{classes:t,invisible:n}=e;return Et({root:["root",n&&"invisible"]},y_e,t)},w_e=Ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),yw=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:c,components:u={},componentsProps:h={},slotProps:f={},slots:g={},TransitionComponent:m,transitionDuration:y,...b}=r,v={...r,component:s,invisible:a},S=b_e(v),E={transition:m,root:u.Root,...g},T={...h,...f},R={component:s,slots:E,slotProps:T},[M,I]=En("root",{elementType:w_e,externalForwardedProps:R,className:tt(S.root,o),ownerState:v}),[N,D]=En("transition",{elementType:im,externalForwardedProps:R,ownerState:v});return x.jsx(N,{in:c,timeout:y,...b,...D,children:x.jsx(M,{"aria-hidden":!0,...I,classes:S,ref:n,children:i})})});function S_e(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=dO({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:a,max:c=r}=s?o:e,u=a&&Number(a)>c?`${c}+`:a;return{badgeContent:a,invisible:s,max:c,displayValue:u}}function C_e(e){return fn("MuiBadge",e)}const Iu=cn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),_O=10,EO=4,x_e=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${et(n.vertical)}${et(n.horizontal)}`,`anchorOrigin${et(n.vertical)}${et(n.horizontal)}${et(i)}`,`overlap${et(i)}`,t!=="default"&&`color${et(t)}`]};return Et(a,C_e,s)},__e=Ee("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),E_e=Ee("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${et(n.anchorOrigin.vertical)}${et(n.anchorOrigin.horizontal)}${et(n.overlap)}`],n.color!=="default"&&t[`color${et(n.color)}`],n.invisible&&t.invisible]}})(on(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:_O*2,lineHeight:1,padding:"0 6px",height:_O*2,borderRadius:_O,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(wi(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:EO,height:EO*2,minWidth:EO*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Iu.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function Ez(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const om=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:o,classes:s,component:a,components:c={},componentsProps:u={},children:h,overlap:f="rectangular",color:g="default",invisible:m=!1,max:y=99,badgeContent:b,slots:v,slotProps:S,showZero:E=!1,variant:T="standard",...R}=r,{badgeContent:M,invisible:I,max:N,displayValue:D}=S_e({max:y,invisible:m,badgeContent:b,showZero:E}),L=dO({anchorOrigin:Ez(i),color:g,overlap:f,variant:T,badgeContent:b}),A=I||M==null&&T!=="dot",{color:$=g,overlap:F=f,anchorOrigin:H,variant:q=T}=A?L:r,K=Ez(H),z=q!=="dot"?D:void 0,Z={...r,badgeContent:M,invisible:A,max:N,displayValue:z,showZero:E,anchorOrigin:K,color:$,overlap:F,variant:q},ee=x_e(Z),ie={slots:{root:v?.root??c.Root,badge:v?.badge??c.Badge},slotProps:{root:S?.root??u.root,badge:S?.badge??u.badge}},[U,Y]=En("root",{elementType:__e,externalForwardedProps:{...ie,...R},ownerState:Z,className:tt(ee.root,o),ref:n,additionalProps:{as:a}}),[J,he]=En("badge",{elementType:E_e,externalForwardedProps:ie,ownerState:Z,className:ee.badge});return x.jsxs(U,{...Y,children:[h,x.jsx(J,{...he,children:z})]})}),T_e=cn("MuiBox",["root"]),M_e=P2(),zo=oSe({themeId:Ag,defaultTheme:M_e,defaultClassName:T_e.root,generateClassName:s2.generate});function O_e(e){return fn("MuiButton",e)}const ah=cn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),R_e=_.createContext({}),I_e=_.createContext(void 0),k_e=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:c}=e,u={root:["root",s&&"loading",o,`${o}${et(t)}`,`size${et(i)}`,`${o}Size${et(i)}`,`color${et(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${et(a)}`],startIcon:["icon","startIcon",`iconSize${et(i)}`],endIcon:["icon","endIcon",`iconSize${et(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Et(u,O_e,c);return{...c,...h}},Tz=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],P_e=Ee(zl,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${et(n.color)}`],t[`size${et(n.size)}`],t[`${n.variant}Size${et(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(on(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${ah.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${ah.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${ah.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${ah.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(wi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ah.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ah.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${ah.loading}`]:{color:"transparent"}}}]}})),D_e=Ee("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${et(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Tz]})),A_e=Ee("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${et(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Tz]})),L_e=Ee("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Mz=Ee("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),ws=_.forwardRef(function(t,n){const r=_.useContext(R_e),i=_.useContext(I_e),o=Zd(r,t),s=yn({props:o,name:"MuiButton"}),{children:a,color:c="primary",component:u="button",className:h,disabled:f=!1,disableElevation:g=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:b,fullWidth:v=!1,id:S,loading:E=null,loadingIndicator:T,loadingPosition:R="center",size:M="medium",startIcon:I,type:N,variant:D="text",...L}=s,A=er(S),$=T??x.jsx(xf,{"aria-labelledby":A,color:"inherit",size:16}),F={...s,color:c,component:u,disabled:f,disableElevation:g,disableFocusRipple:m,fullWidth:v,loading:E,loadingIndicator:$,loadingPosition:R,size:M,type:N,variant:D},H=k_e(F),q=(I||E&&R==="start")&&x.jsx(D_e,{className:H.startIcon,ownerState:F,children:I||x.jsx(Mz,{className:H.loadingIconPlaceholder,ownerState:F})}),K=(y||E&&R==="end")&&x.jsx(A_e,{className:H.endIcon,ownerState:F,children:y||x.jsx(Mz,{className:H.loadingIconPlaceholder,ownerState:F})}),z=i||"",Z=typeof E=="boolean"?x.jsx("span",{className:H.loadingWrapper,style:{display:"contents"},children:E&&x.jsx(L_e,{className:H.loadingIndicator,ownerState:F,children:$})}):null;return x.jsxs(P_e,{ownerState:F,className:tt(r.className,H.root,h,z),component:u,disabled:f||E,focusRipple:!m,focusVisibleClassName:tt(H.focusVisible,b),ref:n,type:N,id:E?A:S,...L,classes:H,children:[q,R!=="end"&&Z,a,R==="end"&&Z,K]})});function N_e(e){return _.Children.toArray(e).filter(t=>_.isValidElement(t))}function B_e(e){return fn("PrivateSwitchBase",e)}cn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const F_e=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${et(i)}`],input:["input"]};return Et(o,B_e,t)},j_e=Ee(zl,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),V_e=Ee("input",{name:"MuiSwitchBase",shouldForwardProp:os})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Oz=_.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:a,disableFocusRipple:c=!1,edge:u=!1,icon:h,id:f,inputProps:g,inputRef:m,name:y,onBlur:b,onChange:v,onFocus:S,readOnly:E,required:T=!1,tabIndex:R,type:M,value:I,slots:N={},slotProps:D={},...L}=t,[A,$]=Jd({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),F=Oc(),H=pe=>{S&&S(pe),F&&F.onFocus&&F.onFocus(pe)},q=pe=>{b&&b(pe),F&&F.onBlur&&F.onBlur(pe)},K=pe=>{if(pe.nativeEvent.defaultPrevented)return;const le=pe.target.checked;$(le),v&&v(pe,le)};let z=a;F&&typeof z>"u"&&(z=F.disabled);const Z=M==="checkbox"||M==="radio",ee={...t,checked:A,disabled:z,disableFocusRipple:c,edge:u},ie=F_e(ee),U={slots:N,slotProps:{input:g,...D}},[Y,J]=En("root",{ref:n,elementType:j_e,className:ie.root,shouldForwardComponentProp:!0,externalForwardedProps:{...U,component:"span",...L},getSlotProps:pe=>({...pe,onFocus:le=>{pe.onFocus?.(le),H(le)},onBlur:le=>{pe.onBlur?.(le),q(le)}}),ownerState:ee,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:z,role:void 0,tabIndex:null}}),[he,ge]=En("input",{ref:m,elementType:V_e,className:ie.input,externalForwardedProps:U,getSlotProps:pe=>({...pe,onChange:le=>{pe.onChange?.(le),K(le)}}),ownerState:ee,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:z,id:Z?f:void 0,name:y,readOnly:E,required:T,tabIndex:R,type:M,...M==="checkbox"&&I===void 0?{}:{value:I}}});return x.jsxs(Y,{...J,children:[x.jsx(he,{...ge}),A?o:h]})}),$_e=At(x.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),z_e=At(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),U_e=At(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function H_e(e){return fn("MuiCheckbox",e)}const bw=cn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),G_e=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${et(r)}`,`size${et(i)}`]},s=Et(o,H_e,t);return{...t,...s}},W_e=Ee(Oz,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${et(n.size)}`],n.color!=="default"&&t[`color${et(n.color)}`]]}})(on(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{[`&.${bw.checked}, &.${bw.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${bw.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),K_e=x.jsx(z_e,{}),q_e=x.jsx($_e,{}),Y_e=x.jsx(U_e,{}),Gl=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiCheckbox"}),{checkedIcon:i=K_e,color:o="primary",icon:s=q_e,indeterminate:a=!1,indeterminateIcon:c=Y_e,inputProps:u,size:h="medium",disableRipple:f=!1,className:g,slots:m={},slotProps:y={},...b}=r,v=a?c:s,S=a?c:i,E={...r,disableRipple:f,color:o,indeterminate:a,size:h},T=G_e(E),R=y.input??u,[M,I]=En("root",{ref:n,elementType:W_e,className:tt(T.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:y,...b},ownerState:E,additionalProps:{type:"checkbox",icon:_.cloneElement(v,{fontSize:v.props.fontSize??h}),checkedIcon:_.cloneElement(S,{fontSize:S.props.fontSize??h}),disableRipple:f,slots:m,slotProps:{input:L2(typeof R=="function"?R(E):R,{"data-indeterminate":a})}}});return x.jsx(M,{...I,classes:T})});function Rz(e){return e.substring(2).toLowerCase()}function X_e(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Z_e(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=_.useRef(!1),a=_.useRef(null),c=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=qn(Ou(t),a),f=Jt(y=>{const b=u.current;u.current=!1;const v=bi(a.current);if(!c.current||!a.current||"clientX"in y&&X_e(y,v))return;if(s.current){s.current=!1;return}let S;y.composedPath?S=y.composedPath().includes(a.current):S=!v.documentElement.contains(y.target)||a.current.contains(y.target),!S&&(n||!b)&&i(y)}),g=y=>b=>{u.current=!0;const v=t.props[y];v&&v(b)},m={ref:h};return o!==!1&&(m[o]=g(o)),_.useEffect(()=>{if(o!==!1){const y=Rz(o),b=bi(a.current),v=()=>{s.current=!0};return b.addEventListener(y,f),b.addEventListener("touchmove",v),()=>{b.removeEventListener(y,f),b.removeEventListener("touchmove",v)}}},[f,o]),r!==!1&&(m[r]=g(r)),_.useEffect(()=>{if(r!==!1){const y=Rz(r),b=bi(a.current);return b.addEventListener(y,f),()=>{b.removeEventListener(y,f)}}},[f,r]),_.cloneElement(t,m)}function Iz(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Q_e(e){const t=bi(e);return t.body===e?$s(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function sm(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function kz(e){return parseInt($s(e).getComputedStyle(e).paddingRight,10)||0}function J_e(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Pz(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const a=!o.includes(s),c=!J_e(s);a&&c&&sm(s,i)})}function TO(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function eEe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(Q_e(r)){const s=Iz($s(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${kz(r)+s}px`;const a=bi(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${kz(c)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=bi(r).body;else{const s=r.parentElement,a=$s(r);o=s?.nodeName==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function tEe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class nEe{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&sm(t.modalRef,!1);const i=tEe(n);Pz(n,t.mount,t.modalRef,i,!0);const o=TO(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=TO(this.containers,o=>o.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=eEe(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=TO(this.containers,s=>s.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&sm(t.modalRef,n),Pz(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&sm(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const rEe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function iEe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function oEe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function sEe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||oEe(e))}function aEe(e){const t=[],n=[];return Array.from(e.querySelectorAll(rEe)).forEach((r,i)=>{const o=iEe(r);o===-1||!sEe(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function lEe(){return!0}function Dz(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=aEe,isEnabled:s=lEe,open:a}=e,c=_.useRef(!1),u=_.useRef(null),h=_.useRef(null),f=_.useRef(null),g=_.useRef(null),m=_.useRef(!1),y=_.useRef(null),b=qn(Ou(t),y),v=_.useRef(null);_.useEffect(()=>{!a||!y.current||(m.current=!n)},[n,a]),_.useEffect(()=>{if(!a||!y.current)return;const T=bi(y.current);return y.current.contains(T.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{i||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[a]),_.useEffect(()=>{if(!a||!y.current)return;const T=bi(y.current),R=N=>{v.current=N,!(r||!s()||N.key!=="Tab")&&T.activeElement===y.current&&N.shiftKey&&(c.current=!0,h.current&&h.current.focus())},M=()=>{const N=y.current;if(N===null)return;if(!T.hasFocus()||!s()||c.current){c.current=!1;return}if(N.contains(T.activeElement)||r&&T.activeElement!==u.current&&T.activeElement!==h.current)return;if(T.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!m.current)return;let D=[];if((T.activeElement===u.current||T.activeElement===h.current)&&(D=o(y.current)),D.length>0){const L=!!(v.current?.shiftKey&&v.current?.key==="Tab"),A=D[0],$=D[D.length-1];typeof A!="string"&&typeof $!="string"&&(L?$.focus():A.focus())}else N.focus()};T.addEventListener("focusin",M),T.addEventListener("keydown",R,!0);const I=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(I),T.removeEventListener("focusin",M),T.removeEventListener("keydown",R,!0)}},[n,r,i,s,a,o]);const S=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0,g.current=T.target;const R=t.props.onFocus;R&&R(T)},E=T=>{f.current===null&&(f.current=T.relatedTarget),m.current=!0};return x.jsxs(_.Fragment,{children:[x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(t,{ref:b,onFocus:S}),x.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:h,"data-testid":"sentinelEnd"})]})}function cEe(e){return typeof e=="function"?e():e}function uEe(e){return e?e.props.hasOwnProperty("in"):!1}const Az=()=>{},ww=new nEe;function dEe(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:c,open:u,rootRef:h}=e,f=_.useRef({}),g=_.useRef(null),m=_.useRef(null),y=qn(m,h),[b,v]=_.useState(!u),S=uEe(a);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const T=()=>bi(g.current),R=()=>(f.current.modalRef=m.current,f.current.mount=g.current,f.current),M=()=>{ww.mount(R(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},I=Jt(()=>{const K=cEe(t)||T().body;ww.add(R(),K),m.current&&M()}),N=()=>ww.isTopModal(R()),D=Jt(K=>{g.current=K,K&&(u&&N()?M():m.current&&sm(m.current,E))}),L=_.useCallback(()=>{ww.remove(R(),E)},[E]);_.useEffect(()=>()=>{L()},[L]),_.useEffect(()=>{u?I():(!S||!i)&&L()},[u,L,S,i,I]);const A=K=>z=>{K.onKeyDown?.(z),!(z.key!=="Escape"||z.which===229||!N())&&(n||(z.stopPropagation(),c&&c(z,"escapeKeyDown")))},$=K=>z=>{K.onClick?.(z),z.target===z.currentTarget&&c&&c(z,"backdropClick")};return{getRootProps:(K={})=>{const z=Us(e);delete z.onTransitionEnter,delete z.onTransitionExited;const Z={...z,...K};return{role:"presentation",...Z,onKeyDown:A(Z),ref:y}},getBackdropProps:(K={})=>{const z=K;return{"aria-hidden":!0,...z,onClick:$(z),open:u}},getTransitionProps:()=>{const K=()=>{v(!1),o&&o()},z=()=>{v(!0),s&&s(),i&&L()};return{onEnter:A2(K,a?.props.onEnter??Az),onExited:A2(z,a?.props.onExited??Az)}},rootRef:y,portalRef:D,isTopModal:N,exited:b,hasTransition:S}}function hEe(e){return fn("MuiModal",e)}cn("MuiModal",["root","hidden","backdrop"]);const fEe=e=>{const{open:t,exited:n,classes:r}=e;return Et({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},hEe,r)},pEe=Ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(on(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),gEe=Ee(yw,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Sw=_.forwardRef(function(t,n){const r=yn({name:"MuiModal",props:t}),{BackdropComponent:i=gEe,BackdropProps:o,classes:s,className:a,closeAfterTransition:c=!1,children:u,container:h,component:f,components:g={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:v=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:R=!1,keepMounted:M=!1,onClose:I,onTransitionEnter:N,onTransitionExited:D,open:L,slotProps:A={},slots:$={},theme:F,...H}=r,q={...r,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:v,disablePortal:S,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:R,keepMounted:M},{getRootProps:K,getBackdropProps:z,getTransitionProps:Z,portalRef:ee,isTopModal:ie,exited:U,hasTransition:Y}=dEe({...q,rootRef:n}),J={...q,exited:U},he=fEe(J),ge={};if(u.props.tabIndex===void 0&&(ge.tabIndex="-1"),Y){const{onEnter:me,onExited:ye}=Z();ge.onEnter=me,ge.onExited=ye}const pe={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...m,...A}},[le,Ce]=En("root",{ref:n,elementType:pEe,externalForwardedProps:{...pe,...H,component:f},getSlotProps:K,ownerState:J,className:tt(a,he?.root,!J.open&&J.exited&&he?.hidden)}),[ke,Te]=En("backdrop",{ref:o?.ref,elementType:i,externalForwardedProps:pe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:me=>z({...me,onClick:ye=>{me?.onClick&&me.onClick(ye)}}),className:tt(o?.className,he?.backdrop),ownerState:J});return!M&&!L&&(!Y||U)?null:x.jsx(pz,{ref:ee,container:h,disablePortal:S,children:x.jsxs(le,{...Ce,children:[!R&&i?x.jsx(ke,{...Te}):null,x.jsx(Dz,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:E,isEnabled:ie,open:L,children:_.cloneElement(u,ge)})]})})});function mEe(e){return fn("MuiDialog",e)}const MO=cn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Lz=_.createContext({}),vEe=Ee(yw,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),yEe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${et(n)}`],paper:["paper",`paperScroll${et(n)}`,`paperWidth${et(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Et(s,mEe,t)},bEe=Ee(Sw,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),wEe=Ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${et(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),SEe=Ee(rh,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${et(n.scroll)}`],t[`paperWidth${et(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(on(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${MO.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${MO.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${MO.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),OO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiDialog"}),i=$l(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:h,children:f,className:g,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:b=!1,maxWidth:v="sm",onClick:S,onClose:E,open:T,PaperComponent:R=rh,PaperProps:M={},scroll:I="paper",slots:N={},slotProps:D={},TransitionComponent:L=im,transitionDuration:A=o,TransitionProps:$,...F}=r,H={...r,disableEscapeKeyDown:m,fullScreen:y,fullWidth:b,maxWidth:v,scroll:I},q=yEe(H),K=_.useRef(),z=Re=>{K.current=Re.target===Re.currentTarget},Z=Re=>{S&&S(Re),K.current&&(K.current=null,E&&E(Re,"backdropClick"))},ee=er(a),ie=_.useMemo(()=>({titleId:ee}),[ee]),U={transition:L,...N},Y={transition:$,paper:M,backdrop:h,...D},J={slots:U,slotProps:Y},[he,ge]=En("root",{elementType:bEe,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:H,className:tt(q.root,g),ref:n}),[pe,le]=En("backdrop",{elementType:vEe,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:H}),[Ce,ke]=En("paper",{elementType:SEe,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:H,className:tt(q.paper,M.className)}),[Te,me]=En("container",{elementType:wEe,externalForwardedProps:J,ownerState:H,className:q.container}),[ye,xe]=En("transition",{elementType:im,externalForwardedProps:J,ownerState:H,additionalProps:{appear:!0,in:T,timeout:A,role:"presentation"}});return x.jsx(he,{closeAfterTransition:!0,slots:{backdrop:pe},slotProps:{backdrop:{transitionDuration:A,as:u,...le}},disableEscapeKeyDown:m,onClose:E,open:T,onClick:Z,...ge,...F,children:x.jsx(ye,{...xe,children:x.jsx(Te,{onMouseDown:z,...me,children:x.jsx(Ce,{as:R,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":ee,"aria-modal":c,...ke,children:x.jsx(Lz.Provider,{value:ie,children:f})})})})})});function CEe(e){return fn("MuiDialogActions",e)}cn("MuiDialogActions",["root","spacing"]);const xEe=e=>{const{classes:t,disableSpacing:n}=e;return Et({root:["root",!n&&"spacing"]},CEe,t)},_Ee=Ee("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Nz=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},c=xEe(a);return x.jsx(_Ee,{className:tt(c.root,i),ownerState:a,ref:n,...s})});function EEe(e){return fn("MuiDialogContent",e)}cn("MuiDialogContent",["root","dividers"]);function TEe(e){return fn("MuiDialogTitle",e)}const MEe=cn("MuiDialogTitle",["root"]),OEe=e=>{const{classes:t,dividers:n}=e;return Et({root:["root",n&&"dividers"]},EEe,t)},REe=Ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(on(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${MEe.root} + &`]:{paddingTop:0}}}]}))),Bz=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},c=OEe(a);return x.jsx(REe,{className:tt(c.root,i),ownerState:a,ref:n,...s})}),IEe=e=>{const{classes:t}=e;return Et({root:["root"]},TEe,t)},kEe=Ee(Gi,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),PEe=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,c=IEe(a),{titleId:u=o}=_.useContext(Lz);return x.jsx(kEe,{component:"h2",className:tt(c.root,i),ownerState:a,ref:n,variant:"h6",id:o??u,...s})});function DEe(e){return fn("MuiDivider",e)}const Fz=cn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),AEe=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:c}=e;return Et({root:["root",t&&"absolute",c,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},DEe,r)},LEe=Ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(on(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),NEe=Ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(on(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),am=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:a="horizontal",component:c=o||a==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:f=c!=="hr"?"separator":void 0,textAlign:g="center",variant:m="fullWidth",...y}=r,b={...r,absolute:i,component:c,flexItem:u,light:h,orientation:a,role:f,textAlign:g,variant:m},v=AEe(b);return x.jsx(LEe,{as:c,className:tt(v.root,s),role:f,ref:n,ownerState:b,"aria-orientation":f==="separator"&&(c!=="hr"||a==="vertical")?a:void 0,...y,children:o?x.jsx(NEe,{className:v.wrapper,ownerState:b,children:o}):null})});am&&(am.muiSkipListHighlight=!0);function BEe(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=$s(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const u=o.getComputedStyle(t);s=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,c=0;if(s&&s!=="none"&&typeof s=="string"){const u=s.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),c=parseInt(u[5],10)}return e==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${o.innerWidth+a-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:e==="up"?i?`translateY(${i.bottom+c-r.top}px)`:`translateY(${o.innerHeight+c-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function FEe(e){return typeof e=="function"?e():e}function Cw(e,t,n){const r=FEe(n),i=BEe(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const jEe=_.forwardRef(function(t,n){const r=$l(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:c,container:u,direction:h="down",easing:f=i,in:g,onEnter:m,onEntered:y,onEntering:b,onExit:v,onExited:S,onExiting:E,style:T,timeout:R=o,TransitionComponent:M=Ca,...I}=t,N=_.useRef(null),D=qn(Ou(c),N,n),L=ee=>ie=>{ee&&(ie===void 0?ee(N.current):ee(N.current,ie))},A=L((ee,ie)=>{Cw(h,ee,u),oO(ee),m&&m(ee,ie)}),$=L((ee,ie)=>{const U=Eu({timeout:R,style:T,easing:f},{mode:"enter"});ee.style.webkitTransition=r.transitions.create("-webkit-transform",{...U}),ee.style.transition=r.transitions.create("transform",{...U}),ee.style.webkitTransform="none",ee.style.transform="none",b&&b(ee,ie)}),F=L(y),H=L(E),q=L(ee=>{const ie=Eu({timeout:R,style:T,easing:f},{mode:"exit"});ee.style.webkitTransition=r.transitions.create("-webkit-transform",ie),ee.style.transition=r.transitions.create("transform",ie),Cw(h,ee,u),v&&v(ee)}),K=L(ee=>{ee.style.webkitTransition="",ee.style.transition="",S&&S(ee)}),z=ee=>{s&&s(N.current,ee)},Z=_.useCallback(()=>{N.current&&Cw(h,N.current,u)},[h,u]);return _.useEffect(()=>{if(g||h==="down"||h==="right")return;const ee=_u(()=>{N.current&&Cw(h,N.current,u)}),ie=$s(N.current);return ie.addEventListener("resize",ee),()=>{ee.clear(),ie.removeEventListener("resize",ee)}},[h,g,u]),_.useEffect(()=>{g||Z()},[g,Z]),x.jsx(M,{nodeRef:N,onEnter:A,onEntered:F,onEntering:$,onExit:q,onExited:K,onExiting:H,addEndListener:z,appear:a,in:g,timeout:R,...I,children:(ee,{ownerState:ie,...U})=>_.cloneElement(c,{ref:D,style:{visibility:ee==="exited"&&!g?"hidden":void 0,...T,...c.props.style},...U})})}),VEe=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=e,c={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${et(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Et(c,r_e,t);return{...t,...u}},$Ee=Ee(mw,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...pw(e,t),!n.disableUnderline&&t.underline]}})(on(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Gs.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Gs.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gs.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gs.disabled}, .${Gs.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Gs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(wi()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),zEe=Ee(vw,{name:"MuiFilledInput",slot:"Input",overridesResolver:gw})(on(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),RO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:c,inputComponent:u="input",multiline:h=!1,slotProps:f,slots:g={},type:m="text",...y}=r,b={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:h,type:m},v=VEe(r),S={root:{ownerState:b},input:{ownerState:b}},E=f??s?Mo(S,f??s):S,T=g.root??o.Root??$Ee,R=g.input??o.Input??zEe;return x.jsx(rm,{slots:{root:T,input:R},slotProps:E,fullWidth:a,inputComponent:u,multiline:h,ref:n,type:m,...y,classes:v})});RO.muiName="Input";function UEe(e){return fn("MuiFormControl",e)}cn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const HEe=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${et(n)}`,r&&"fullWidth"]};return Et(i,UEe,t)},GEe=Ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${et(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),xw=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:f=!1,hiddenLabel:g=!1,margin:m="none",required:y=!1,size:b="medium",variant:v="outlined",...S}=r,E={...r,color:s,component:a,disabled:c,error:u,fullWidth:f,hiddenLabel:g,margin:m,required:y,size:b,variant:v},T=HEe(E),[R,M]=_.useState(()=>{let K=!1;return i&&_.Children.forEach(i,z=>{if(!Jb(z,["Input","Select"]))return;const Z=Jb(z,["Select"])?z.props.input:z;Z&&Qxe(Z.props)&&(K=!0)}),K}),[I,N]=_.useState(()=>{let K=!1;return i&&_.Children.forEach(i,z=>{Jb(z,["Input","Select"])&&(fw(z.props,!0)||fw(z.props.inputProps,!0))&&(K=!0)}),K}),[D,L]=_.useState(!1);c&&D&&L(!1);const A=h!==void 0&&!c?h:D;let $;_.useRef(!1);const F=_.useCallback(()=>{N(!0)},[]),H=_.useCallback(()=>{N(!1)},[]),q=_.useMemo(()=>({adornedStart:R,setAdornedStart:M,color:s,disabled:c,error:u,filled:I,focused:A,fullWidth:f,hiddenLabel:g,size:b,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:H,onFilled:F,registerEffect:$,required:y,variant:v}),[R,s,c,u,I,A,f,g,$,H,F,y,b,v]);return x.jsx(hw.Provider,{value:q,children:x.jsx(GEe,{as:a,ownerState:E,className:tt(T.root,o),ref:n,...S,children:i})})});function WEe(e){return fn("MuiFormControlLabel",e)}const Of=cn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),KEe=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${et(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Et(s,WEe,t)},qEe=Ee("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Of.label}`]:t.label},t.root,t[`labelPlacement${et(n.labelPlacement)}`]]}})(on(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Of.disabled}`]:{cursor:"default"},[`& .${Of.label}`]:{[`&.${Of.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),YEe=Ee("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(on(({theme:e})=>({[`&.${Of.error}`]:{color:(e.vars||e).palette.error.main}}))),Rc=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:a,disabled:c,disableTypography:u,inputRef:h,label:f,labelPlacement:g="end",name:m,onChange:y,required:b,slots:v={},slotProps:S={},value:E,...T}=r,R=Oc(),M=c??a.props.disabled??R?.disabled,I=b??a.props.required,N={disabled:M,required:I};["checked","name","onChange","value","inputRef"].forEach(K=>{typeof a.props[K]>"u"&&typeof r[K]<"u"&&(N[K]=r[K])});const D=sh({props:r,muiFormControl:R,states:["error"]}),L={...r,disabled:M,labelPlacement:g,required:I,error:D.error},A=KEe(L),$={slots:v,slotProps:{...s,...S}},[F,H]=En("typography",{elementType:Gi,externalForwardedProps:$,ownerState:L});let q=f;return q!=null&&q.type!==Gi&&!u&&(q=x.jsx(F,{component:"span",...H,className:tt(A.label,H?.className),children:q})),x.jsxs(qEe,{className:tt(A.root,o),ownerState:L,ref:n,...T,children:[_.cloneElement(a,N),I?x.jsxs("div",{children:[q,x.jsxs(YEe,{ownerState:L,"aria-hidden":!0,className:A.asterisk,children:[" ","*"]})]}):q]})});function XEe(e){return fn("MuiFormHelperText",e)}const jz=cn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Vz;const ZEe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:c}=e,u={root:["root",i&&"disabled",o&&"error",r&&`size${et(r)}`,n&&"contained",a&&"focused",s&&"filled",c&&"required"]};return Et(u,XEe,t)},QEe=Ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${et(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(on(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${jz.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${jz.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),JEe=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:c,filled:u,focused:h,margin:f,required:g,variant:m,...y}=r,b=Oc(),v=sh({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),S={...r,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete S.ownerState;const E=ZEe(S);return x.jsx(QEe,{as:s,className:tt(E.root,o),ref:n,...y,ownerState:S,children:i===" "?Vz||(Vz=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function e1e(e){return fn("MuiFormLabel",e)}const lm=cn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),t1e=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,c={root:["root",`color${et(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Et(c,e1e,t)},n1e=Ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(on(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{[`&.${lm.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${lm.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${lm.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),r1e=Ee("span",{name:"MuiFormLabel",slot:"Asterisk"})(on(({theme:e})=>({[`&.${lm.error}`]:{color:(e.vars||e).palette.error.main}}))),i1e=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:c,error:u,filled:h,focused:f,required:g,...m}=r,y=Oc(),b=sh({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:b.color||"primary",component:a,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},S=t1e(v);return x.jsxs(n1e,{as:a,ownerState:v,className:tt(S.root,o),ref:n,...m,children:[i,b.required&&x.jsxs(r1e,{ownerState:v,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]})});function IO(e){return`scale(${e}, ${e**2})`}const o1e={entering:{opacity:1,transform:IO(1)},entered:{opacity:1,transform:"none"}},kO=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),cm=_.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:c,onEntered:u,onEntering:h,onExit:f,onExited:g,onExiting:m,style:y,timeout:b="auto",TransitionComponent:v=Ca,...S}=t,E=vs(),T=_.useRef(),R=$l(),M=_.useRef(null),I=qn(M,Ou(o),n),N=K=>z=>{if(K){const Z=M.current;z===void 0?K(Z):K(Z,z)}},D=N(h),L=N((K,z)=>{oO(K);const{duration:Z,delay:ee,easing:ie}=Eu({style:y,timeout:b,easing:s},{mode:"enter"});let U;b==="auto"?(U=R.transitions.getAutoHeightDuration(K.clientHeight),T.current=U):U=Z,K.style.transition=[R.transitions.create("opacity",{duration:U,delay:ee}),R.transitions.create("transform",{duration:kO?U:U*.666,delay:ee,easing:ie})].join(","),c&&c(K,z)}),A=N(u),$=N(m),F=N(K=>{const{duration:z,delay:Z,easing:ee}=Eu({style:y,timeout:b,easing:s},{mode:"exit"});let ie;b==="auto"?(ie=R.transitions.getAutoHeightDuration(K.clientHeight),T.current=ie):ie=z,K.style.transition=[R.transitions.create("opacity",{duration:ie,delay:Z}),R.transitions.create("transform",{duration:kO?ie:ie*.666,delay:kO?Z:Z||ie*.333,easing:ee})].join(","),K.style.opacity=0,K.style.transform=IO(.75),f&&f(K)}),H=N(g),q=K=>{b==="auto"&&E.start(T.current||0,K),r&&r(M.current,K)};return x.jsx(v,{appear:i,in:a,nodeRef:M,onEnter:L,onEntered:A,onEntering:D,onExit:F,onExited:H,onExiting:$,addEndListener:q,timeout:b==="auto"?null:b,...S,children:(K,{ownerState:z,...Z})=>_.cloneElement(o,{style:{opacity:0,transform:IO(.75),visibility:K==="exited"&&!a?"hidden":void 0,...o1e[K],...y,...o.props.style},ref:I,...Z})})});cm&&(cm.muiSupportAuto=!0);const s1e=e=>{const{classes:t,disableUnderline:n}=e,i=Et({root:["root",!n&&"underline"],input:["input"]},t_e,t);return{...t,...i}},a1e=Ee(mw,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...pw(e,t),!n.disableUnderline&&t.underline]}})(on(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ru.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ru.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ru.disabled}, .${Ru.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Ru.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(wi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),l1e=Ee(vw,{name:"MuiInput",slot:"Input",overridesResolver:gw})({}),PO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:c="input",multiline:u=!1,slotProps:h,slots:f={},type:g="text",...m}=r,y=s1e(r),v={root:{ownerState:{disableUnderline:i}}},S=h??s?Mo(h??s,v):v,E=f.root??o.Root??a1e,T=f.input??o.Input??l1e;return x.jsx(rm,{slots:{root:E,input:T},slotProps:S,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:g,...m,classes:y})});PO.muiName="Input";function c1e(e){return fn("MuiInputAdornment",e)}const DO=cn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var $z;const u1e=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${et(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},d1e=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${et(i)}`,s,r&&"hiddenLabel",o&&`size${et(o)}`]};return Et(a,c1e,t)},h1e=Ee("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:u1e})(on(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${DO.positionStart}&:not(.${DO.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),f1e=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:c=!1,position:u,variant:h,...f}=r,g=Oc()||{};let m=h;h&&g.variant,g&&!m&&(m=g.variant);const y={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:a,position:u,variant:m},b=d1e(y);return x.jsx(hw.Provider,{value:null,children:x.jsx(h1e,{as:s,ownerState:y,className:tt(b.root,o),ref:n,...f,children:typeof i=="string"&&!c?x.jsx(Gi,{color:"textSecondary",children:i}):x.jsxs(_.Fragment,{children:[u==="start"?$z||($z=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})});function p1e(e){return fn("MuiInputLabel",e)}cn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const g1e=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,c={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${et(r)}`,s],asterisk:[a&&"asterisk"]},u=Et(c,p1e,t);return{...t,...u}},m1e=Ee(i1e,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${lm.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(on(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),zz=_.forwardRef(function(t,n){const r=yn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:c,...u}=r,h=Oc();let f=s;typeof f>"u"&&h&&(f=h.filled||h.focused||h.adornedStart);const g=sh({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),m={...r,disableAnimation:i,formControl:h,shrink:f,size:g.size,variant:g.variant,required:g.required,focused:g.focused},y=g1e(m);return x.jsx(m1e,{"data-shrink":f,ref:n,className:tt(y.root,c),...u,ownerState:m,classes:y})});function v1e(e){return fn("MuiLinearProgress",e)}cn("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const AO=4,LO=ya`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,y1e=typeof LO!="string"?Su`
        animation: ${LO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,NO=ya`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,b1e=typeof NO!="string"?Su`
        animation: ${NO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,BO=ya`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,w1e=typeof BO!="string"?Su`
        animation: ${BO} 3s infinite linear;
      `:null,S1e=e=>{const{classes:t,variant:n,color:r}=e,i={root:["root",`color${et(r)}`,n],dashed:["dashed",`dashedColor${et(r)}`],bar1:["bar","bar1",`barColor${et(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${et(r)}`,n==="buffer"&&`color${et(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Et(i,v1e,t)},FO=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),C1e=Ee("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${et(n.color)}`],t[n.variant]]}})(on(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{backgroundColor:FO(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),x1e=Ee("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${et(n.color)}`]]}})(on(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(wi()).map(([t])=>{const n=FO(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),w1e||{animation:`${BO} 3s infinite linear`}),_1e=Ee("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${et(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(on(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${AO}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${AO}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:y1e||{animation:`${LO} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),E1e=Ee("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${et(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(on(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:FO(e,t),transition:`transform .${AO}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:b1e||{animation:`${NO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),T1e=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:a,variant:c="indeterminate",...u}=r,h={...r,color:o,variant:c},f=S1e(h),g=Oo(),m={},y={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){m["aria-valuenow"]=Math.round(s),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let b=s-100;g&&(b=-b),y.bar1.transform=`translateX(${b}%)`}if(c==="buffer"&&a!==void 0){let b=(a||0)-100;g&&(b=-b),y.bar2.transform=`translateX(${b}%)`}return x.jsxs(C1e,{className:tt(f.root,i),ownerState:h,role:"progressbar",...m,ref:n,...u,children:[c==="buffer"?x.jsx(x1e,{className:f.dashed,ownerState:h}):null,x.jsx(_1e,{className:f.bar1,ownerState:h,style:y.bar1}),c==="determinate"?null:x.jsx(E1e,{className:f.bar2,ownerState:h,style:y.bar2})]})}),il=_.createContext({});function M1e(e){return fn("MuiList",e)}cn("MuiList",["root","padding","dense","subheader"]);const O1e=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Et({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},M1e,t)},R1e=Ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),Uz=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:u,...h}=r,f=_.useMemo(()=>({dense:a}),[a]),g={...r,component:s,dense:a,disablePadding:c},m=O1e(g);return x.jsx(il.Provider,{value:f,children:x.jsxs(R1e,{as:s,className:tt(m.root,o),ref:n,ownerState:g,...h,children:[u,i]})})});function I1e(e){return fn("MuiListItem",e)}cn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function k1e(e){return fn("MuiListItemButton",e)}const Rf=cn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),P1e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},D1e=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,u=Et({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},k1e,n);return{...n,...u}},A1e=Ee(zl,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:P1e})(on(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Rf.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Rf.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${Rf.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${Rf.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Rf.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),L1e=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:c=!1,disableGutters:u=!1,divider:h=!1,focusVisibleClassName:f,selected:g=!1,className:m,...y}=r,b=_.useContext(il),v=_.useMemo(()=>({dense:c||b.dense||!1,alignItems:i,disableGutters:u}),[i,b.dense,c,u]),S=_.useRef(null);cr(()=>{o&&S.current&&S.current.focus()},[o]);const E={...r,alignItems:i,dense:v.dense,disableGutters:u,divider:h,selected:g},T=D1e(E),R=qn(S,n);return x.jsx(il.Provider,{value:v,children:x.jsx(A1e,{ref:R,href:y.href||y.to,component:(y.href||y.to)&&s==="div"?"button":s,focusVisibleClassName:tt(T.focusVisible,f),ownerState:E,className:tt(T.root,m),...y,classes:T,children:a})})});function N1e(e){return fn("MuiListItemSecondaryAction",e)}cn("MuiListItemSecondaryAction",["root","disableGutters"]);const B1e=e=>{const{disableGutters:t,classes:n}=e;return Et({root:["root",t&&"disableGutters"]},N1e,n)},F1e=Ee("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Hz=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=_.useContext(il),a={...r,disableGutters:s.disableGutters},c=B1e(a);return x.jsx(F1e,{className:tt(c.root,i),ownerState:a,ref:n,...o})});Hz.muiName="ListItemSecondaryAction";const j1e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},V1e=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=e;return Et({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},I1e,n)},$1e=Ee("div",{name:"MuiListItem",slot:"Root",overridesResolver:j1e})(on(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Rf.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),z1e=Ee("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),U1e=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:a,components:c={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:f,...g}={},dense:m=!1,disableGutters:y=!1,disablePadding:b=!1,divider:v=!1,secondaryAction:S,slotProps:E={},slots:T={},...R}=r,M=_.useContext(il),I=_.useMemo(()=>({dense:m||M.dense||!1,alignItems:i,disableGutters:y}),[i,M.dense,m,y]),N=_.useRef(null),D=_.Children.toArray(o),L=D.length&&Jb(D[D.length-1],["ListItemSecondaryAction"]),A={...r,alignItems:i,dense:I.dense,disableGutters:y,disablePadding:b,divider:v,hasSecondaryAction:L},$=V1e(A),F=qn(N,n),H=T.root||c.Root||$1e,q=E.root||u.root||{},K={className:tt($.root,q.className,s),...R};let z=a||"li";return L?(z=!K.component&&!a?"div":z,h==="li"&&(z==="li"?z="div":K.component==="li"&&(K.component="div")),x.jsx(il.Provider,{value:I,children:x.jsxs(z1e,{as:h,className:tt($.container,f),ref:F,ownerState:A,...g,children:[x.jsx(H,{...q,...!Cf(H)&&{as:z,ownerState:{...A,...q.ownerState}},...K,children:D}),D.pop()]})})):x.jsx(il.Provider,{value:I,children:x.jsxs(H,{...q,as:z,ref:F,...!Cf(H)&&{ownerState:{...A,...q.ownerState}},...K,children:[D,S&&x.jsx(Hz,{children:S})]})})});function H1e(e){return fn("MuiListItemIcon",e)}const Gz=cn("MuiListItemIcon",["root","alignItemsFlexStart"]),G1e=e=>{const{alignItems:t,classes:n}=e;return Et({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},H1e,n)},W1e=Ee("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(on(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),_w=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiListItemIcon"}),{className:i,...o}=r,s=_.useContext(il),a={...r,alignItems:s.alignItems},c=G1e(a);return x.jsx(W1e,{className:tt(c.root,i),ownerState:a,ref:n,...o})});function K1e(e){return fn("MuiListItemText",e)}const lh=cn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),q1e=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return Et({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},K1e,t)},Y1e=Ee("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${lh.primary}`]:t.primary},{[`& .${lh.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${U2.root}:where(& .${lh.primary})`]:{display:"block"},[`.${U2.root}:where(& .${lh.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Wz=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:f,slots:g={},slotProps:m={},...y}=r,{dense:b}=_.useContext(il);let v=c??i,S=h;const E={...r,disableTypography:s,inset:a,primary:!!v,secondary:!!S,dense:b},T=q1e(E),R={slots:g,slotProps:{primary:u,secondary:f,...m}},[M,I]=En("root",{className:tt(T.root,o),elementType:Y1e,externalForwardedProps:{...R,...y},ownerState:E,ref:n}),[N,D]=En("primary",{className:T.primary,elementType:Gi,externalForwardedProps:R,ownerState:E}),[L,A]=En("secondary",{className:T.secondary,elementType:Gi,externalForwardedProps:R,ownerState:E});return v!=null&&v.type!==Gi&&!s&&(v=x.jsx(N,{variant:b?"body2":"body1",component:D?.variant?void 0:"span",...D,children:v})),S!=null&&S.type!==Gi&&!s&&(S=x.jsx(L,{variant:"body2",color:"textSecondary",...A,children:S})),x.jsxs(M,{...I,children:[v,S]})});function jO(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Kz(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function qz(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function um(e,t,n,r,i,o){let s=!1,a=i(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!qz(a,o)||c)a=i(e,a,n);else return a.focus(),!0}return!1}const Yz=_.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:f="selectedMenu",...g}=t,m=_.useRef(null),y=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});cr(()=>{i&&m.current.focus()},[i]),_.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:R})=>{const M=!m.current.style.width;if(T.clientHeight<m.current.clientHeight&&M){const I=`${Iz($s(T))}px`;m.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=I,m.current.style.width=`calc(100% + ${I})`}return m.current}}),[]);const b=T=>{const R=m.current,M=T.key;if(T.ctrlKey||T.metaKey||T.altKey){h&&h(T);return}const N=bi(R).activeElement;if(M==="ArrowDown")T.preventDefault(),um(R,N,u,c,jO);else if(M==="ArrowUp")T.preventDefault(),um(R,N,u,c,Kz);else if(M==="Home")T.preventDefault(),um(R,null,u,c,jO);else if(M==="End")T.preventDefault(),um(R,null,u,c,Kz);else if(M.length===1){const D=y.current,L=M.toLowerCase(),A=performance.now();D.keys.length>0&&(A-D.lastTime>500?(D.keys=[],D.repeating=!0,D.previousKeyMatched=!0):D.repeating&&L!==D.keys[0]&&(D.repeating=!1)),D.lastTime=A,D.keys.push(L);const $=N&&!D.repeating&&qz(N,D);D.previousKeyMatched&&($||um(R,N,!1,c,jO,D))?T.preventDefault():D.previousKeyMatched=!1}h&&h(T)},v=qn(m,n);let S=-1;_.Children.forEach(s,(T,R)=>{if(!_.isValidElement(T)){S===R&&(S+=1,S>=s.length&&(S=-1));return}T.props.disabled||(f==="selectedMenu"&&T.props.selected||S===-1)&&(S=R),S===R&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(S+=1,S>=s.length&&(S=-1))});const E=_.Children.map(s,(T,R)=>{if(R===S){const M={};return o&&(M.autoFocus=!0),T.props.tabIndex===void 0&&f==="selectedMenu"&&(M.tabIndex=0),_.cloneElement(T,M)}return T});return x.jsx(Uz,{role:"menu",ref:v,className:a,onKeyDown:b,tabIndex:i?0:-1,...g,children:E})});function X1e(e){return fn("MuiPopover",e)}cn("MuiPopover",["root","paper"]);function Xz(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Zz(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Qz(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Ew(e){return typeof e=="function"?e():e}const Z1e=e=>{const{classes:t}=e;return Et({root:["root"],paper:["paper"]},X1e,t)},Q1e=Ee(Sw,{name:"MuiPopover",slot:"Root"})({}),Jz=Ee(rh,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),J1e=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:u,className:h,container:f,elevation:g=8,marginThreshold:m=16,open:y,PaperProps:b={},slots:v={},slotProps:S={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:R="auto",TransitionProps:M={},disableScrollLock:I=!1,...N}=r,D=_.useRef(),L={...r,anchorOrigin:s,anchorReference:c,elevation:g,marginThreshold:m,transformOrigin:E,TransitionComponent:T,transitionDuration:R,TransitionProps:M},A=Z1e(L),$=_.useCallback(()=>{if(c==="anchorPosition")return a;const me=Ew(o),xe=(me&&me.nodeType===1?me:bi(D.current).body).getBoundingClientRect();return{top:xe.top+Xz(xe,s.vertical),left:xe.left+Zz(xe,s.horizontal)}},[o,s.horizontal,s.vertical,a,c]),F=_.useCallback(me=>({vertical:Xz(me,E.vertical),horizontal:Zz(me,E.horizontal)}),[E.horizontal,E.vertical]),H=_.useCallback(me=>{const ye={width:me.offsetWidth,height:me.offsetHeight},xe=F(ye);if(c==="none")return{top:null,left:null,transformOrigin:Qz(xe)};const Re=$();let Le=Re.top-xe.vertical,Ie=Re.left-xe.horizontal;const je=Le+ye.height,lt=Ie+ye.width,We=$s(Ew(o)),Bt=We.innerHeight-m,Ct=We.innerWidth-m;if(m!==null&&Le<m){const Ot=Le-m;Le-=Ot,xe.vertical+=Ot}else if(m!==null&&je>Bt){const Ot=je-Bt;Le-=Ot,xe.vertical+=Ot}if(m!==null&&Ie<m){const Ot=Ie-m;Ie-=Ot,xe.horizontal+=Ot}else if(lt>Ct){const Ot=lt-Ct;Ie-=Ot,xe.horizontal+=Ot}return{top:`${Math.round(Le)}px`,left:`${Math.round(Ie)}px`,transformOrigin:Qz(xe)}},[o,c,$,F,m]),[q,K]=_.useState(y),z=_.useCallback(()=>{const me=D.current;if(!me)return;const ye=H(me);ye.top!==null&&me.style.setProperty("top",ye.top),ye.left!==null&&(me.style.left=ye.left),me.style.transformOrigin=ye.transformOrigin,K(!0)},[H]);_.useEffect(()=>(I&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[o,I,z]);const Z=()=>{z()},ee=()=>{K(!1)};_.useEffect(()=>{y&&z()}),_.useImperativeHandle(i,()=>y?{updatePosition:()=>{z()}}:null,[y,z]),_.useEffect(()=>{if(!y)return;const me=_u(()=>{z()}),ye=$s(Ew(o));return ye.addEventListener("resize",me),()=>{me.clear(),ye.removeEventListener("resize",me)}},[o,y,z]);let ie=R;const U={slots:{transition:T,...v},slotProps:{transition:M,paper:b,...S}},[Y,J]=En("transition",{elementType:cm,externalForwardedProps:U,ownerState:L,getSlotProps:me=>({...me,onEntering:(ye,xe)=>{me.onEntering?.(ye,xe),Z()},onExited:ye=>{me.onExited?.(ye),ee()}}),additionalProps:{appear:!0,in:y}});R==="auto"&&!Y.muiSupportAuto&&(ie=void 0);const he=f||(o?bi(Ew(o)).body:void 0),[ge,{slots:pe,slotProps:le,...Ce}]=En("root",{ref:n,elementType:Q1e,externalForwardedProps:{...U,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:L2(typeof S.backdrop=="function"?S.backdrop(L):S.backdrop,{invisible:!0})},container:he,open:y},ownerState:L,className:tt(A.root,h)}),[ke,Te]=En("paper",{ref:D,className:A.paper,elementType:Jz,externalForwardedProps:U,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:q?void 0:{opacity:0}},ownerState:L});return x.jsx(ge,{...Ce,...!Cf(ge)&&{slots:pe,slotProps:le,disableScrollLock:I},children:x.jsx(Y,{...J,timeout:ie,children:x.jsx(ke,{...Te,children:u})})})});function eTe(e){return fn("MuiMenu",e)}cn("MuiMenu",["root","paper","list"]);const tTe={vertical:"top",horizontal:"right"},nTe={vertical:"top",horizontal:"left"},rTe=e=>{const{classes:t}=e;return Et({root:["root"],paper:["paper"],list:["list"]},eTe,t)},iTe=Ee(J1e,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),oTe=Ee(Jz,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sTe=Ee(Yz,{name:"MuiMenu",slot:"List"})({outline:0}),Tw=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:u,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:y,...b}={},variant:v="selectedMenu",slots:S={},slotProps:E={},...T}=r,R=Oo(),M={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:c,onEntering:y,PaperProps:f,transitionDuration:m,TransitionProps:b,variant:v},I=rTe(M),N=i&&!a&&h,D=_.useRef(null),L=(ie,U)=>{D.current&&D.current.adjustStyleForScrollbar(ie,{direction:R?"rtl":"ltr"}),y&&y(ie,U)},A=ie=>{ie.key==="Tab"&&(ie.preventDefault(),u&&u(ie,"tabKeyDown"))};let $=-1;_.Children.map(o,(ie,U)=>{_.isValidElement(ie)&&(ie.props.disabled||(v==="selectedMenu"&&ie.props.selected||$===-1)&&($=U))});const F={slots:S,slotProps:{list:c,transition:b,paper:f,...E}},H=Ro({elementType:S.root,externalSlotProps:E.root,ownerState:M,className:[I.root,s]}),[q,K]=En("paper",{className:I.paper,elementType:oTe,externalForwardedProps:F,shouldForwardComponentProp:!0,ownerState:M}),[z,Z]=En("list",{className:tt(I.list,c.className),elementType:sTe,shouldForwardComponentProp:!0,externalForwardedProps:F,getSlotProps:ie=>({...ie,onKeyDown:U=>{A(U),ie.onKeyDown?.(U)}}),ownerState:M}),ee=typeof F.slotProps.transition=="function"?F.slotProps.transition(M):F.slotProps.transition;return x.jsx(iTe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?tTe:nTe,slots:{root:S.root,paper:q,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:H,paper:K,backdrop:typeof E.backdrop=="function"?E.backdrop(M):E.backdrop,transition:{...ee,onEntering:(...ie)=>{L(...ie),ee?.onEntering?.(...ie)}}},open:h,ref:n,transitionDuration:m,ownerState:M,...T,classes:g,children:x.jsx(z,{actions:D,autoFocus:i&&($===-1||a),autoFocusItem:N,variant:v,...Z,children:o})})});function aTe(e){return fn("MuiMenuItem",e)}const dm=cn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),lTe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},cTe=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,c=Et({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},aTe,s);return{...s,...c}},uTe=Ee(zl,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:lTe})(on(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${dm.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${dm.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${dm.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${dm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${dm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Fz.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Fz.inset}`]:{marginLeft:52},[`& .${lh.root}`]:{marginTop:0,marginBottom:0},[`& .${lh.inset}`]:{paddingLeft:36},[`& .${Gz.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${Gz.root} svg`]:{fontSize:"1.25rem"}}}]}))),Ss=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:f,className:g,...m}=r,y=_.useContext(il),b=_.useMemo(()=>({dense:s||y.dense||!1,disableGutters:c}),[y.dense,s,c]),v=_.useRef(null);cr(()=>{i&&v.current&&v.current.focus()},[i]);const S={...r,dense:b.dense,divider:a,disableGutters:c},E=cTe(r),T=qn(v,n);let R;return r.disabled||(R=f!==void 0?f:-1),x.jsx(il.Provider,{value:b,children:x.jsx(uTe,{ref:T,role:h,tabIndex:R,component:o,focusVisibleClassName:tt(E.focusVisible,u),className:tt(E.root,g),...m,ownerState:S,classes:E})})});function dTe(e){return fn("MuiNativeSelect",e)}const VO=cn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),hTe=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${et(n)}`,o&&"iconOpen",r&&"disabled"]};return Et(a,dTe,t)},eU=Ee("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${VO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),fTe=Ee(eU,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:os,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${VO.multiple}`]:t.multiple}]}})({}),tU=Ee("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${VO.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),pTe=Ee(tU,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${et(n.variant)}`],n.open&&t.iconOpen]}})({}),gTe=_.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:c="standard",...u}=t,h={...t,disabled:i,variant:c,error:o},f=hTe(h);return x.jsxs(_.Fragment,{children:[x.jsx(fTe,{ownerState:h,className:tt(f.select,r),disabled:i,ref:a||n,...u}),t.multiple?null:x.jsx(pTe,{as:s,ownerState:h,className:f.icon})]})});var nU;const mTe=Ee("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:os})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),vTe=Ee("legend",{name:"MuiNotchedOutlined",shouldForwardProp:os})(on(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function yTe(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,a=i!=null&&i!=="",c={...e,notched:o,withLabel:a};return x.jsx(mTe,{"aria-hidden":!0,className:r,ownerState:c,...s,children:x.jsx(vTe,{ownerState:c,children:a?x.jsx("span",{children:i}):nU||(nU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const bTe=e=>{const{classes:t}=e,r=Et({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},n_e,t);return{...t,...r}},wTe=Ee(mw,{shouldForwardProp:e=>os(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pw})(on(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ma.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${Ma.focused} .${Ma.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(wi()).map(([n])=>({props:{color:n},style:{[`&.${Ma.focused} .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Ma.error} .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ma.disabled} .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),STe=Ee(yTe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(on(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),CTe=Ee(vw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gw})(on(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),$O=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:s="input",label:a,multiline:c=!1,notched:u,slots:h={},slotProps:f={},type:g="text",...m}=r,y=bTe(r),b=Oc(),v=sh({props:r,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:b,fullWidth:o,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:g},E=h.root??i.Root??wTe,T=h.input??i.Input??CTe,[R,M]=En("notchedOutline",{elementType:STe,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:h,slotProps:f},additionalProps:{label:a!=null&&a!==""&&v.required?x.jsxs(_.Fragment,{children:[a," ","*"]}):a}});return x.jsx(rm,{slots:{root:E,input:T},slotProps:f,renderSuffix:I=>x.jsx(R,{...M,notched:typeof u<"u"?u:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:o,inputComponent:s,multiline:c,ref:n,type:g,...m,classes:{...y,notchedOutline:null}})});$O.muiName="Input";const xTe=At(x.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),_Te=At(x.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function rU(e){return fn("MuiSelect",e)}const hm=cn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var iU;const ETe=Ee(eU,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${hm.select}`]:t.select},{[`&.${hm.select}`]:t[n.variant]},{[`&.${hm.error}`]:t.error},{[`&.${hm.multiple}`]:t.multiple}]}})({[`&.${hm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),TTe=Ee(tU,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${et(n.variant)}`],n.open&&t.iconOpen]}})({}),MTe=Ee("input",{shouldForwardProp:e=>D2(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function oU(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function OTe(e){return e==null||typeof e=="string"&&!e.trim()}const RTe=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${et(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Et(a,rU,t)},ITe=_.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:c,defaultOpen:u,defaultValue:h,disabled:f,displayEmpty:g,error:m=!1,IconComponent:y,inputRef:b,labelId:v,MenuProps:S={},multiple:E,name:T,onBlur:R,onChange:M,onClose:I,onFocus:N,onOpen:D,open:L,readOnly:A,renderValue:$,required:F,SelectDisplayProps:H={},tabIndex:q,type:K,value:z,variant:Z="standard",...ee}=t,[ie,U]=Jd({controlled:z,default:h,name:"Select"}),[Y,J]=Jd({controlled:L,default:u,name:"Select"}),he=_.useRef(null),ge=_.useRef(null),[pe,le]=_.useState(null),{current:Ce}=_.useRef(L!=null),[ke,Te]=_.useState(),me=qn(n,b),ye=_.useCallback(mt=>{ge.current=mt,mt&&le(mt)},[]),xe=pe?.parentNode;_.useImperativeHandle(me,()=>({focus:()=>{ge.current.focus()},node:he.current,value:ie}),[ie]),_.useEffect(()=>{u&&Y&&pe&&!Ce&&(Te(s?null:xe.clientWidth),ge.current.focus())},[pe,s]),_.useEffect(()=>{o&&ge.current.focus()},[o]),_.useEffect(()=>{if(!v)return;const mt=bi(ge.current).getElementById(v);if(mt){const Vt=()=>{getSelection().isCollapsed&&ge.current.focus()};return mt.addEventListener("click",Vt),()=>{mt.removeEventListener("click",Vt)}}},[v]);const Re=(mt,Vt)=>{mt?D&&D(Vt):I&&I(Vt),Ce||(Te(s?null:xe.clientWidth),J(mt))},Le=mt=>{mt.button===0&&(mt.preventDefault(),ge.current.focus(),Re(!0,mt))},Ie=mt=>{Re(!1,mt)},je=_.Children.toArray(a),lt=mt=>{const Vt=je.find(_t=>_t.props.value===mt.target.value);Vt!==void 0&&(U(Vt.props.value),M&&M(mt,Vt))},We=mt=>Vt=>{let _t;if(Vt.currentTarget.hasAttribute("tabindex")){if(E){_t=Array.isArray(ie)?ie.slice():[];const Nt=ie.indexOf(mt.props.value);Nt===-1?_t.push(mt.props.value):_t.splice(Nt,1)}else _t=mt.props.value;if(mt.props.onClick&&mt.props.onClick(Vt),ie!==_t&&(U(_t),M)){const Nt=Vt.nativeEvent||Vt,Zn=new Nt.constructor(Nt.type,Nt);Object.defineProperty(Zn,"target",{writable:!0,value:{value:_t,name:T}}),M(Zn,mt)}E||Re(!1,Vt)}},Bt=mt=>{A||[" ","ArrowUp","ArrowDown","Enter"].includes(mt.key)&&(mt.preventDefault(),Re(!0,mt))},Ct=pe!==null&&Y,Ot=mt=>{!Ct&&R&&(Object.defineProperty(mt,"target",{writable:!0,value:{value:ie,name:T}}),R(mt))};delete ee["aria-invalid"];let Ke,Ft;const Mt=[];let zt=!1;(fw({value:ie})||g)&&($?Ke=$(ie):zt=!0);const Lt=je.map(mt=>{if(!_.isValidElement(mt))return null;let Vt;if(E){if(!Array.isArray(ie))throw new Error(_c(2));Vt=ie.some(_t=>oU(_t,mt.props.value)),Vt&&zt&&Mt.push(mt.props.children)}else Vt=oU(ie,mt.props.value),Vt&&zt&&(Ft=mt.props.children);return _.cloneElement(mt,{"aria-selected":Vt?"true":"false",onClick:We(mt),onKeyUp:_t=>{_t.key===" "&&_t.preventDefault(),mt.props.onKeyUp&&mt.props.onKeyUp(_t)},role:"option",selected:Vt,value:void 0,"data-value":mt.props.value})});zt&&(E?Mt.length===0?Ke=null:Ke=Mt.reduce((mt,Vt,_t)=>(mt.push(Vt),_t<Mt.length-1&&mt.push(", "),mt),[]):Ke=Ft);let Xt=ke;!s&&Ce&&pe&&(Xt=xe.clientWidth);let sn;typeof q<"u"?sn=q:sn=f?null:0;const xt=H.id||(T?`mui-component-select-${T}`:void 0),Dt={...t,variant:Z,value:ie,open:Ct,error:m},Je=RTe(Dt),bt={...S.PaperProps,...typeof S.slotProps?.paper=="function"?S.slotProps.paper(Dt):S.slotProps?.paper},wt={...S.MenuListProps,...typeof S.slotProps?.list=="function"?S.slotProps.list(Dt):S.slotProps?.list},at=er();return x.jsxs(_.Fragment,{children:[x.jsx(ETe,{as:"div",ref:ye,tabIndex:sn,role:"combobox","aria-controls":Ct?at:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":Ct?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,xt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":F?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:Bt,onMouseDown:f||A?null:Le,onBlur:Ot,onFocus:N,...H,ownerState:Dt,className:tt(H.className,Je.select,c),id:xt,children:OTe(Ke)?iU||(iU=x.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Ke}),x.jsx(MTe,{"aria-invalid":m,value:Array.isArray(ie)?ie.join(","):ie,name:T,ref:he,"aria-hidden":!0,onChange:lt,tabIndex:-1,disabled:f,className:Je.nativeInput,autoFocus:o,required:F,...ee,ownerState:Dt}),x.jsx(TTe,{as:y,className:Je.icon,ownerState:Dt}),x.jsx(Tw,{id:`menu-${T||""}`,anchorEl:xe,open:Ct,onClose:Ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:at,...wt},paper:{...bt,style:{minWidth:Xt,...bt!=null?bt.style:null}}},children:Lt})]})}),kTe=e=>{const{classes:t}=e,r=Et({root:["root"]},rU,t);return{...t,...r}},zO={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>os(e)&&e!=="variant"},PTe=Ee(PO,zO)(""),DTe=Ee($O,zO)(""),ATe=Ee(RO,zO)(""),Mw=_.forwardRef(function(t,n){const r=yn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=wz,id:f,input:g,inputProps:m,label:y,labelId:b,MenuProps:v,multiple:S=!1,native:E=!1,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:N,variant:D="outlined",...L}=r,A=E?gTe:ITe,$=Oc(),F=sh({props:r,muiFormControl:$,states:["variant","error"]}),H=F.variant||D,q={...r,variant:H,classes:s},K=kTe(q),{root:z,...Z}=K,ee=g||{standard:x.jsx(PTe,{ownerState:q}),outlined:x.jsx(DTe,{label:y,ownerState:q}),filled:x.jsx(ATe,{ownerState:q})}[H],ie=qn(n,Ou(ee));return x.jsx(_.Fragment,{children:_.cloneElement(ee,{inputComponent:A,inputProps:{children:o,error:F.error,IconComponent:h,variant:H,type:void 0,multiple:S,...E?{id:f}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:b,MenuProps:v,onClose:T,onOpen:R,open:M,renderValue:I,SelectDisplayProps:{id:f,...N}},...m,classes:m?Mo(Z,m.classes):Z,...g?g.props.inputProps:{}},...(S&&E||u)&&H==="outlined"?{notched:!0}:{},ref:ie,className:tt(ee.props.className,a,K.root),...!g&&{variant:H},...L})})});Mw.muiName="Select";function LTe(e){return fn("MuiSkeleton",e)}cn("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const NTe=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:s}=e;return Et({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},LTe,t)},UO=ya`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,HO=ya`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,BTe=typeof UO!="string"?Su`
        animation: ${UO} 2s ease-in-out 0.5s infinite;
      `:null,FTe=typeof HO!="string"?Su`
        &::after {
          animation: ${HO} 2s linear 0.5s infinite;
        }
      `:null,jTe=Ee("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(on(({theme:e})=>{const t=p0e(e.shape.borderRadius)||"px",n=g0e(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:e.alpha(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:BTe||{animation:`${UO} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:FTe||{"&::after":{animation:`${HO} 2s linear 0.5s infinite`}}}]}})),VTe=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:c,variant:u="text",width:h,...f}=r,g={...r,animation:i,component:s,variant:u,hasChildren:!!f.children},m=NTe(g);return x.jsx(jTe,{as:s,ref:n,className:tt(m.root,o),ownerState:g,...f,style:{width:h,height:a,...c}})});function $Te(e){return fn("MuiTooltip",e)}const Ni=cn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function zTe(e){return Math.round(e*1e5)/1e5}const UTe=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${et(o.split("-")[0])}`],arrow:["arrow"]};return Et(s,$Te,t)},HTe=Ee(nm,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(on(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${Ni.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ni.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ni.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Ni.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Ni.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Ni.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Ni.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Ni.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),GTe=Ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${et(n.placement.split("-")[0])}`]]}})(on(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${Ni.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Ni.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Ni.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Ni.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${zTe(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${Ni.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Ni.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${Ni.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Ni.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${Ni.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Ni.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${Ni.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Ni.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Ni.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Ni.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),WTe=Ee("span",{name:"MuiTooltip",slot:"Arrow"})(on(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Ow=!1;const sU=new rw;let fm={x:0,y:0};function Rw(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Yn=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:a={},componentsProps:c={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:f=!1,disableInteractive:g=!1,disableTouchListener:m=!1,enterDelay:y=100,enterNextDelay:b=0,enterTouchDelay:v=700,followCursor:S=!1,id:E,leaveDelay:T=0,leaveTouchDelay:R=1500,onClose:M,onOpen:I,open:N,placement:D="bottom",PopperComponent:L,PopperProps:A={},slotProps:$={},slots:F={},title:H,TransitionComponent:q,TransitionProps:K,...z}=r,Z=_.isValidElement(o)?o:x.jsx("span",{children:o}),ee=$l(),ie=Oo(),[U,Y]=_.useState(),[J,he]=_.useState(null),ge=_.useRef(!1),pe=g||S,le=vs(),Ce=vs(),ke=vs(),Te=vs(),[me,ye]=Jd({controlled:N,default:!1,name:"Tooltip",state:"open"});let xe=me;const Re=er(E),Le=_.useRef(),Ie=Jt(()=>{Le.current!==void 0&&(document.body.style.WebkitUserSelect=Le.current,Le.current=void 0),Te.clear()});_.useEffect(()=>Ie,[Ie]);const je=en=>{sU.clear(),Ow=!0,ye(!0),I&&!xe&&I(en)},lt=Jt(en=>{sU.start(800+T,()=>{Ow=!1}),ye(!1),M&&xe&&M(en),le.start(ee.transitions.duration.shortest,()=>{ge.current=!1})}),We=en=>{ge.current&&en.type!=="touchstart"||(U&&U.removeAttribute("title"),Ce.clear(),ke.clear(),y||Ow&&b?Ce.start(Ow?b:y,()=>{je(en)}):je(en))},Bt=en=>{Ce.clear(),ke.start(T,()=>{lt(en)})},[,Ct]=_.useState(!1),Ot=en=>{ow(en.target)||(Ct(!1),Bt(en))},Ke=en=>{U||Y(en.currentTarget),ow(en.target)&&(Ct(!0),We(en))},Ft=en=>{ge.current=!0;const Gn=Z.props;Gn.onTouchStart&&Gn.onTouchStart(en)},Mt=en=>{Ft(en),ke.clear(),le.clear(),Ie(),Le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Te.start(v,()=>{document.body.style.WebkitUserSelect=Le.current,We(en)})},zt=en=>{Z.props.onTouchEnd&&Z.props.onTouchEnd(en),Ie(),ke.start(R,()=>{lt(en)})};_.useEffect(()=>{if(!xe)return;function en(Gn){Gn.key==="Escape"&&lt(Gn)}return document.addEventListener("keydown",en),()=>{document.removeEventListener("keydown",en)}},[lt,xe]);const Lt=qn(Ou(Z),Y,n);!H&&H!==0&&(xe=!1);const Xt=_.useRef(),sn=en=>{const Gn=Z.props;Gn.onMouseMove&&Gn.onMouseMove(en),fm={x:en.clientX,y:en.clientY},Xt.current&&Xt.current.update()},xt={},Dt=typeof H=="string";u?(xt.title=!xe&&Dt&&!f?H:null,xt["aria-describedby"]=xe?Re:null):(xt["aria-label"]=Dt?H:null,xt["aria-labelledby"]=xe&&!Dt?Re:null);const Je={...xt,...z,...Z.props,className:tt(z.className,Z.props.className),onTouchStart:Ft,ref:Lt,...S?{onMouseMove:sn}:{}},bt={};m||(Je.onTouchStart=Mt,Je.onTouchEnd=zt),f||(Je.onMouseOver=Rw(We,Je.onMouseOver),Je.onMouseLeave=Rw(Bt,Je.onMouseLeave),pe||(bt.onMouseOver=We,bt.onMouseLeave=Bt)),h||(Je.onFocus=Rw(Ke,Je.onFocus),Je.onBlur=Rw(Ot,Je.onBlur),pe||(bt.onFocus=Ke,bt.onBlur=Ot));const wt={...r,isRtl:ie,arrow:i,disableInteractive:pe,placement:D,PopperComponentProp:L,touch:ge.current},at=typeof $.popper=="function"?$.popper(wt):$.popper,mt=_.useMemo(()=>{let en=[{name:"arrow",enabled:!!J,options:{element:J,padding:4}}];return A.popperOptions?.modifiers&&(en=en.concat(A.popperOptions.modifiers)),at?.popperOptions?.modifiers&&(en=en.concat(at.popperOptions.modifiers)),{...A.popperOptions,...at?.popperOptions,modifiers:en}},[J,A.popperOptions,at?.popperOptions]),Vt=UTe(wt),_t=typeof $.transition=="function"?$.transition(wt):$.transition,Nt={slots:{popper:a.Popper,transition:a.Transition??q,tooltip:a.Tooltip,arrow:a.Arrow,...F},slotProps:{arrow:$.arrow??c.arrow,popper:{...A,...at??c.popper},tooltip:$.tooltip??c.tooltip,transition:{...K,..._t??c.transition}}},[Zn,An]=En("popper",{elementType:HTe,externalForwardedProps:Nt,ownerState:wt,className:tt(Vt.popper,A?.className)}),[yr,Qn]=En("transition",{elementType:cm,externalForwardedProps:Nt,ownerState:wt}),[Br,St]=En("tooltip",{elementType:GTe,className:Vt.tooltip,externalForwardedProps:Nt,ownerState:wt}),[Yr,Xr]=En("arrow",{elementType:WTe,className:Vt.arrow,externalForwardedProps:Nt,ownerState:wt,ref:he});return x.jsxs(_.Fragment,{children:[_.cloneElement(Z,Je),x.jsx(Zn,{as:L??nm,placement:D,anchorEl:S?{getBoundingClientRect:()=>({top:fm.y,left:fm.x,right:fm.x,bottom:fm.y,width:0,height:0})}:U,popperRef:Xt,open:U?xe:!1,id:Re,transition:!0,...bt,...An,popperOptions:mt,children:({TransitionProps:en})=>x.jsx(yr,{timeout:ee.transitions.duration.shorter,...en,...Qn,children:x.jsxs(Br,{...St,children:[H,i?x.jsx(Yr,{...Xr}):null]})})})]})}),KTe=NSe({createStyledComponent:Ee("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>yn({props:e,name:"MuiStack"})});function qTe(e){return fn("MuiSwitch",e)}const ss=cn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),YTe=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&`edge${et(n)}`,`size${et(r)}`],switchBase:["switchBase",`color${et(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=Et(a,qTe,t);return{...t,...c}},XTe=Ee("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${et(n.edge)}`],t[`size${et(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ss.thumb}`]:{width:16,height:16},[`& .${ss.switchBase}`]:{padding:4,[`&.${ss.checked}`]:{transform:"translateX(16px)"}}}}]}),ZTe=Ee(Oz,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${ss.input}`]:t.input},n.color!=="default"&&t[`color${et(n.color)}`]]}})(on(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${ss.checked}`]:{transform:"translateX(20px)"},[`&.${ss.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${ss.checked} + .${ss.track}`]:{opacity:.5},[`&.${ss.disabled} + .${ss.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${ss.input}`]:{left:"-100%",width:"300%"}})),on(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(wi(["light"])).map(([t])=>({props:{color:t},style:{[`&.${ss.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ss.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${ss.checked} + .${ss.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),QTe=Ee("span",{name:"MuiSwitch",slot:"Track"})(on(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),JTe=Ee("span",{name:"MuiSwitch",slot:"Thumb"})(on(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),aU=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:c,slots:u={},slotProps:h={},...f}=r,g={...r,color:o,edge:s,size:a},m=YTe(g),y={slots:u,slotProps:h},[b,v]=En("root",{className:tt(m.root,i),elementType:XTe,externalForwardedProps:y,ownerState:g,additionalProps:{sx:c}}),[S,E]=En("thumb",{className:m.thumb,elementType:JTe,externalForwardedProps:y,ownerState:g}),T=x.jsx(S,{...E}),[R,M]=En("track",{className:m.track,elementType:QTe,externalForwardedProps:y,ownerState:g});return x.jsxs(b,{...v,children:[x.jsx(ZTe,{type:"checkbox",icon:T,checkedIcon:T,ref:n,ownerState:g,...f,classes:{...m,root:m.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(g):h.switchBase},input:{role:"switch"},...h.input&&{input:typeof h.input=="function"?h.input(g):h.input}}}),x.jsx(R,{...M})]})});function eMe(e){return fn("MuiTab",e)}const Oa=cn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),tMe=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:c}=e,u={root:["root",o&&s&&"labelIcon",`textColor${et(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return Et(u,eMe,t)},nMe=Ee(zl,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${et(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Oa.iconWrapper}`]:t.iconWrapper},{[`& .${Oa.icon}`]:t.icon}]}})(on(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${Oa.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${Oa.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${Oa.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${Oa.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Oa.selected}`]:{opacity:1},[`&.${Oa.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Oa.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Oa.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Oa.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Oa.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),GO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:c,iconPosition:u="top",indicator:h,label:f,onChange:g,onClick:m,onFocus:y,selected:b,selectionFollowsFocus:v,textColor:S="inherit",value:E,wrapped:T=!1,...R}=r,M={...r,disabled:o,disableFocusRipple:s,selected:b,icon:!!c,iconPosition:u,label:!!f,fullWidth:a,textColor:S,wrapped:T},I=tMe(M),N=c&&f&&_.isValidElement(c)?_.cloneElement(c,{className:tt(I.icon,c.props.className)}):c,D=A=>{!b&&g&&g(A,E),m&&m(A)},L=A=>{v&&!b&&g&&g(A,E),y&&y(A)};return x.jsxs(nMe,{focusRipple:!s,className:tt(I.root,i),ref:n,role:"tab","aria-selected":b,disabled:o,onClick:D,onFocus:L,ownerState:M,tabIndex:b?0:-1,...R,children:[u==="top"||u==="start"?x.jsxs(_.Fragment,{children:[N,f]}):x.jsxs(_.Fragment,{children:[f,N]}),h]})}),rMe=_.createContext(),iMe=_.createContext();function oMe(e){return fn("MuiTableCell",e)}const sMe=cn("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),aMe=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${et(r)}`,i!=="normal"&&`padding${et(i)}`,`size${et(o)}`]};return Et(a,oMe,t)},lMe=Ee("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${et(n.size)}`],n.padding!=="normal"&&t[`padding${et(n.padding)}`],n.align!=="inherit"&&t[`align${et(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(on(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${sMe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),WO=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:c,size:u,sortDirection:h,variant:f,...g}=r,m=_.useContext(rMe),y=_.useContext(iMe),b=y&&y.variant==="head";let v;s?v=s:v=b?"th":"td";let S=c;v==="td"?S=void 0:!S&&b&&(S="col");const E=f||y&&y.variant,T={...r,align:i,component:v,padding:a||(m&&m.padding?m.padding:"normal"),size:u||(m&&m.size?m.size:"medium"),sortDirection:h,stickyHeader:E==="head"&&m&&m.stickyHeader,variant:E},R=aMe(T);let M=null;return h&&(M=h==="asc"?"ascending":"descending"),x.jsx(lMe,{as:v,ref:n,className:tt(R.root,o),"aria-sort":M,scope:S,ownerState:T,...g})});function cMe(e){return fn("MuiToolbar",e)}cn("MuiToolbar",["root","gutters","regular","dense"]);const uMe=e=>{const{classes:t,disableGutters:n,variant:r}=e;return Et({root:["root",!n&&"gutters",r]},cMe,t)},dMe=Ee("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(on(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),lU=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular",...c}=r,u={...r,component:o,disableGutters:s,variant:a},h=uMe(u);return x.jsx(dMe,{as:o,className:tt(h.root,i),ref:n,ownerState:u,...c})}),cU=At(x.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),uU=At(x.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function hMe(e){return fn("MuiTablePaginationActions",e)}cn("MuiTablePaginationActions",["root"]);const fMe=e=>{const{classes:t}=e;return Et({root:["root"]},hMe,t)},pMe=Ee("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),gMe=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTablePaginationActions"}),{backIconButtonProps:i,className:o,count:s,disabled:a=!1,getItemAriaLabel:c,nextIconButtonProps:u,onPageChange:h,page:f,rowsPerPage:g,showFirstButton:m,showLastButton:y,slots:b={},slotProps:v={},...S}=r,E=Oo(),R=fMe(r),M=pe=>{h(pe,0)},I=pe=>{h(pe,f-1)},N=pe=>{h(pe,f+1)},D=pe=>{h(pe,Math.max(0,Math.ceil(s/g)-1))},L=b.firstButton??$n,A=b.lastButton??$n,$=b.nextButton??$n,F=b.previousButton??$n,H=b.firstButtonIcon??xTe,q=b.lastButtonIcon??_Te,K=b.nextButtonIcon??uU,z=b.previousButtonIcon??cU,Z=E?A:L,ee=E?$:F,ie=E?F:$,U=E?L:A,Y=E?v.lastButton:v.firstButton,J=E?v.nextButton:v.previousButton,he=E?v.previousButton:v.nextButton,ge=E?v.firstButton:v.lastButton;return x.jsxs(pMe,{ref:n,className:tt(R.root,o),...S,children:[m&&x.jsx(Z,{onClick:M,disabled:a||f===0,"aria-label":c("first",f),title:c("first",f),...Y,children:E?x.jsx(q,{...v.lastButtonIcon}):x.jsx(H,{...v.firstButtonIcon})}),x.jsx(ee,{onClick:I,disabled:a||f===0,color:"inherit","aria-label":c("previous",f),title:c("previous",f),...J??i,children:E?x.jsx(K,{...v.nextButtonIcon}):x.jsx(z,{...v.previousButtonIcon})}),x.jsx(ie,{onClick:N,disabled:a||(s!==-1?f>=Math.ceil(s/g)-1:!1),color:"inherit","aria-label":c("next",f),title:c("next",f),...he??u,children:E?x.jsx(z,{...v.previousButtonIcon}):x.jsx(K,{...v.nextButtonIcon})}),y&&x.jsx(U,{onClick:D,disabled:a||f>=Math.ceil(s/g)-1,"aria-label":c("last",f),title:c("last",f),...ge,children:E?x.jsx(H,{...v.firstButtonIcon}):x.jsx(q,{...v.lastButtonIcon})})]})});function mMe(e){return fn("MuiTablePagination",e)}const ch=cn("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var dU;const vMe=Ee(WO,{name:"MuiTablePagination",slot:"Root"})(on(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),yMe=Ee(lU,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${ch.actions}`]:t.actions,...t.toolbar})})(on(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ch.actions}`]:{flexShrink:0,marginLeft:20}}))),bMe=Ee("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),wMe=Ee("p",{name:"MuiTablePagination",slot:"SelectLabel"})(on(({theme:e})=>({...e.typography.body2,flexShrink:0}))),SMe=Ee(Mw,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${ch.selectIcon}`]:t.selectIcon,[`& .${ch.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ch.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),CMe=Ee(Ss,{name:"MuiTablePagination",slot:"MenuItem"})({}),xMe=Ee("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(on(({theme:e})=>({...e.typography.body2,flexShrink:0})));function _Me({from:e,to:t,count:n}){return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`}function EMe(e){return`Go to ${e} page`}const TMe=e=>{const{classes:t}=e;return Et({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},mMe,t)},MMe=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=gMe,backIconButtonProps:o,colSpan:s,component:a=WO,count:c,disabled:u=!1,getItemAriaLabel:h=EMe,labelDisplayedRows:f=_Me,labelRowsPerPage:g="Rows per page:",nextIconButtonProps:m,onPageChange:y,onRowsPerPageChange:b,page:v,rowsPerPage:S,rowsPerPageOptions:E=[10,25,50,100],SelectProps:T={},showFirstButton:R=!1,showLastButton:M=!1,slotProps:I={},slots:N={},...D}=r,L=r,A=TMe(L),$=I?.select??T,F=$.native?"option":CMe;let H;(a===WO||a==="td")&&(H=s||1e3);const q=er($.id),K=er($.labelId),z=()=>c===-1?(v+1)*S:S===-1?c:Math.min(c,(v+1)*S),Z={slots:N,slotProps:I},[ee,ie]=En("root",{ref:n,className:A.root,elementType:vMe,externalForwardedProps:{...Z,component:a,...D},ownerState:L,additionalProps:{colSpan:H}}),[U,Y]=En("toolbar",{className:A.toolbar,elementType:yMe,externalForwardedProps:Z,ownerState:L}),[J,he]=En("spacer",{className:A.spacer,elementType:bMe,externalForwardedProps:Z,ownerState:L}),[ge,pe]=En("selectLabel",{className:A.selectLabel,elementType:wMe,externalForwardedProps:Z,ownerState:L,additionalProps:{id:K}}),[le,Ce]=En("select",{className:A.select,elementType:SMe,externalForwardedProps:Z,ownerState:L}),[ke,Te]=En("menuItem",{className:A.menuItem,elementType:F,externalForwardedProps:Z,ownerState:L}),[me,ye]=En("displayedRows",{className:A.displayedRows,elementType:xMe,externalForwardedProps:Z,ownerState:L});return x.jsx(ee,{...ie,children:x.jsxs(U,{...Y,children:[x.jsx(J,{...he}),E.length>1&&x.jsx(ge,{...pe,children:g}),E.length>1&&x.jsx(le,{variant:"standard",...!$.variant&&{input:dU||(dU=x.jsx(rm,{}))},value:S,onChange:b,id:q,labelId:K,...$,classes:{...$.classes,root:tt(A.input,A.selectRoot,($.classes||{}).root),select:tt(A.select,($.classes||{}).select),icon:tt(A.selectIcon,($.classes||{}).icon)},disabled:u,...Ce,children:E.map(xe=>_.createElement(ke,{...Te,key:xe.label?xe.label:xe,value:xe.value?xe.value:xe},xe.label?xe.label:xe))}),x.jsx(me,{...ye,children:f({from:c===0?0:v*S+1,to:z(),count:c===-1?-1:c,page:v})}),x.jsx(i,{className:A.actions,backIconButtonProps:o,count:c,nextIconButtonProps:m,onPageChange:y,page:v,rowsPerPage:S,showFirstButton:R,showLastButton:M,slotProps:I.actions,slots:N.actions,getItemAriaLabel:h,disabled:u})]})})});function OMe(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function RMe(e,t,n,r={},i=()=>{}){const{ease:o=OMe,duration:s=300}=r;let a=null;const c=t[e];let u=!1;const h=()=>{u=!0},f=g=>{if(u){i(new Error("Animation cancelled"));return}a===null&&(a=g);const m=Math.min(1,(g-a)/s);if(t[e]=o(m)*(n-c)+c,m>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return c===n?(i(new Error("Element already at target position")),h):(requestAnimationFrame(f),h)}const IMe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function kMe(e){const{onChange:t,...n}=e,r=_.useRef(),i=_.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return cr(()=>{const s=_u(()=>{const c=r.current;o(),c!==r.current&&t(r.current)}),a=$s(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),_.useEffect(()=>{o(),t(r.current)},[t]),x.jsx("div",{style:IMe,...n,ref:i})}function PMe(e){return fn("MuiTabScrollButton",e)}const hU=cn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),DMe=e=>{const{classes:t,orientation:n,disabled:r}=e;return Et({root:["root",n,r&&"disabled"]},PMe,t)},AMe=Ee(zl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${hU.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),LMe=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:c,disabled:u,...h}=r,f=Oo(),g={isRtl:f,...r},m=DMe(g),y=o.StartScrollButtonIcon??cU,b=o.EndScrollButtonIcon??uU,v=Ro({elementType:y,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),S=Ro({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return x.jsx(AMe,{component:"div",className:tt(m.root,i),ref:n,role:null,ownerState:g,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:a==="left"?x.jsx(y,{...v}):x.jsx(b,{...S})})});function NMe(e){return fn("MuiTabs",e)}const pm=cn("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),fU=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,pU=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Iw=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(e,i);else{i.focus();return}}},BMe=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:c}=e;return Et({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},NMe,c)},FMe=Ee("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${pm.scrollButtons}`]:t.scrollButtons},{[`& .${pm.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(on(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${pm.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),jMe=Ee("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),VMe=Ee("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),$Me=Ee("span",{name:"MuiTabs",slot:"Indicator"})(on(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),zMe=Ee(kMe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),gU={},mU=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTabs"}),i=$l(),o=Oo(),{"aria-label":s,"aria-labelledby":a,action:c,centered:u=!1,children:h,className:f,component:g="div",allowScrollButtonsMobile:m=!1,indicatorColor:y="primary",onChange:b,orientation:v="horizontal",ScrollButtonComponent:S,scrollButtons:E="auto",selectionFollowsFocus:T,slots:R={},slotProps:M={},TabIndicatorProps:I={},TabScrollButtonProps:N={},textColor:D="primary",value:L,variant:A="standard",visibleScrollbar:$=!1,...F}=r,H=A==="scrollable",q=v==="vertical",K=q?"scrollTop":"scrollLeft",z=q?"top":"left",Z=q?"bottom":"right",ee=q?"clientHeight":"clientWidth",ie=q?"height":"width",U={...r,component:g,allowScrollButtonsMobile:m,indicatorColor:y,orientation:v,vertical:q,scrollButtons:E,textColor:D,variant:A,visibleScrollbar:$,fixed:!H,hideScrollbar:H&&!$,scrollableX:H&&!q,scrollableY:H&&q,centered:u&&!H,scrollButtonsHideMobile:!m},Y=BMe(U),J=Ro({elementType:R.StartScrollButtonIcon,externalSlotProps:M.startScrollButtonIcon,ownerState:U}),he=Ro({elementType:R.EndScrollButtonIcon,externalSlotProps:M.endScrollButtonIcon,ownerState:U}),[ge,pe]=_.useState(!1),[le,Ce]=_.useState(gU),[ke,Te]=_.useState(!1),[me,ye]=_.useState(!1),[xe,Re]=_.useState(!1),[Le,Ie]=_.useState({overflow:"hidden",scrollbarWidth:0}),je=new Map,lt=_.useRef(null),We=_.useRef(null),Bt={slots:R,slotProps:{indicator:I,scrollButton:N,...M}},Ct=()=>{const $t=lt.current;let Kt;if($t){const un=$t.getBoundingClientRect();Kt={clientWidth:$t.clientWidth,scrollLeft:$t.scrollLeft,scrollTop:$t.scrollTop,scrollWidth:$t.scrollWidth,top:un.top,bottom:un.bottom,left:un.left,right:un.right}}let nn;if($t&&L!==!1){const un=We.current.children;if(un.length>0){const wn=un[je.get(L)];nn=wn?wn.getBoundingClientRect():null}}return{tabsMeta:Kt,tabMeta:nn}},Ot=Jt(()=>{const{tabsMeta:$t,tabMeta:Kt}=Ct();let nn=0,un;q?(un="top",Kt&&$t&&(nn=Kt.top-$t.top+$t.scrollTop)):(un=o?"right":"left",Kt&&$t&&(nn=(o?-1:1)*(Kt[un]-$t[un]+$t.scrollLeft)));const wn={[un]:nn,[ie]:Kt?Kt[ie]:0};if(typeof le[un]!="number"||typeof le[ie]!="number")Ce(wn);else{const hi=Math.abs(le[un]-wn[un]),ai=Math.abs(le[ie]-wn[ie]);(hi>=1||ai>=1)&&Ce(wn)}}),Ke=($t,{animation:Kt=!0}={})=>{Kt?RMe(K,lt.current,$t,{duration:i.transitions.duration.standard}):lt.current[K]=$t},Ft=$t=>{let Kt=lt.current[K];q?Kt+=$t:Kt+=$t*(o?-1:1),Ke(Kt)},Mt=()=>{const $t=lt.current[ee];let Kt=0;const nn=Array.from(We.current.children);for(let un=0;un<nn.length;un+=1){const wn=nn[un];if(Kt+wn[ee]>$t){un===0&&(Kt=$t);break}Kt+=wn[ee]}return Kt},zt=()=>{Ft(-1*Mt())},Lt=()=>{Ft(Mt())},[Xt,{onChange:sn,...xt}]=En("scrollbar",{className:tt(Y.scrollableX,Y.hideScrollbar),elementType:zMe,shouldForwardComponentProp:!0,externalForwardedProps:Bt,ownerState:U}),Dt=_.useCallback($t=>{sn?.($t),Ie({overflow:null,scrollbarWidth:$t})},[sn]),[Je,bt]=En("scrollButtons",{className:tt(Y.scrollButtons,N.className),elementType:LMe,externalForwardedProps:Bt,ownerState:U,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:J,endScrollButtonIcon:he}}}),wt=()=>{const $t={};$t.scrollbarSizeListener=H?x.jsx(Xt,{...xt,onChange:Dt}):null;const nn=H&&(E==="auto"&&(ke||me)||E===!0);return $t.scrollButtonStart=nn?x.jsx(Je,{direction:o?"right":"left",onClick:zt,disabled:!ke,...bt}):null,$t.scrollButtonEnd=nn?x.jsx(Je,{direction:o?"left":"right",onClick:Lt,disabled:!me,...bt}):null,$t},at=Jt($t=>{const{tabsMeta:Kt,tabMeta:nn}=Ct();if(!(!nn||!Kt)){if(nn[z]<Kt[z]){const un=Kt[K]+(nn[z]-Kt[z]);Ke(un,{animation:$t})}else if(nn[Z]>Kt[Z]){const un=Kt[K]+(nn[Z]-Kt[Z]);Ke(un,{animation:$t})}}}),mt=Jt(()=>{H&&E!==!1&&Re(!xe)});_.useEffect(()=>{const $t=_u(()=>{lt.current&&Ot()});let Kt;const nn=hi=>{hi.forEach(ai=>{ai.removedNodes.forEach(qi=>{Kt?.unobserve(qi)}),ai.addedNodes.forEach(qi=>{Kt?.observe(qi)})}),$t(),mt()},un=$s(lt.current);un.addEventListener("resize",$t);let wn;return typeof ResizeObserver<"u"&&(Kt=new ResizeObserver($t),Array.from(We.current.children).forEach(hi=>{Kt.observe(hi)})),typeof MutationObserver<"u"&&(wn=new MutationObserver(nn),wn.observe(We.current,{childList:!0})),()=>{$t.clear(),un.removeEventListener("resize",$t),wn?.disconnect(),Kt?.disconnect()}},[Ot,mt]),_.useEffect(()=>{const $t=Array.from(We.current.children),Kt=$t.length;if(typeof IntersectionObserver<"u"&&Kt>0&&H&&E!==!1){const nn=$t[0],un=$t[Kt-1],wn={root:lt.current,threshold:.99},hi=Fr=>{Te(!Fr[0].isIntersecting)},ai=new IntersectionObserver(hi,wn);ai.observe(nn);const qi=Fr=>{ye(!Fr[0].isIntersecting)},Do=new IntersectionObserver(qi,wn);return Do.observe(un),()=>{ai.disconnect(),Do.disconnect()}}},[H,E,xe,h?.length]),_.useEffect(()=>{pe(!0)},[]),_.useEffect(()=>{Ot()}),_.useEffect(()=>{at(gU!==le)},[at,le]),_.useImperativeHandle(c,()=>({updateIndicator:Ot,updateScrollButtons:mt}),[Ot,mt]);const[Vt,_t]=En("indicator",{className:tt(Y.indicator,I.className),elementType:$Me,externalForwardedProps:Bt,ownerState:U,additionalProps:{style:le}}),Nt=x.jsx(Vt,{..._t});let Zn=0;const An=_.Children.map(h,$t=>{if(!_.isValidElement($t))return null;const Kt=$t.props.value===void 0?Zn:$t.props.value;je.set(Kt,Zn);const nn=Kt===L;return Zn+=1,_.cloneElement($t,{fullWidth:A==="fullWidth",indicator:nn&&!ge&&Nt,selected:nn,selectionFollowsFocus:T,onChange:b,textColor:D,value:Kt,...Zn===1&&L===!1&&!$t.props.tabIndex?{tabIndex:0}:{}})}),yr=$t=>{if($t.altKey||$t.shiftKey||$t.ctrlKey||$t.metaKey)return;const Kt=We.current,nn=bi(Kt).activeElement;if(nn.getAttribute("role")!=="tab")return;let wn=v==="horizontal"?"ArrowLeft":"ArrowUp",hi=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&o&&(wn="ArrowRight",hi="ArrowLeft"),$t.key){case wn:$t.preventDefault(),Iw(Kt,nn,pU);break;case hi:$t.preventDefault(),Iw(Kt,nn,fU);break;case"Home":$t.preventDefault(),Iw(Kt,null,fU);break;case"End":$t.preventDefault(),Iw(Kt,null,pU);break}},Qn=wt(),[Br,St]=En("root",{ref:n,className:tt(Y.root,f),elementType:FMe,externalForwardedProps:{...Bt,...F,component:g},ownerState:U}),[Yr,Xr]=En("scroller",{ref:lt,className:Y.scroller,elementType:jMe,externalForwardedProps:Bt,ownerState:U,additionalProps:{style:{overflow:Le.overflow,[q?`margin${o?"Left":"Right"}`:"marginBottom"]:$?void 0:-Le.scrollbarWidth}}}),[en,Gn]=En("list",{ref:We,className:tt(Y.list,Y.flexContainer),elementType:VMe,externalForwardedProps:Bt,ownerState:U,getSlotProps:$t=>({...$t,onKeyDown:Kt=>{yr(Kt),$t.onKeyDown?.(Kt)}})});return x.jsxs(Br,{...St,children:[Qn.scrollButtonStart,Qn.scrollbarSizeListener,x.jsxs(Yr,{...Xr,children:[x.jsx(en,{"aria-label":s,"aria-labelledby":a,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...Gn,children:An}),ge&&Nt]}),Qn.scrollButtonEnd]})});function UMe(e){return fn("MuiTextField",e)}cn("MuiTextField",["root"]);const HMe={standard:PO,filled:RO,outlined:$O},GMe=e=>{const{classes:t}=e;return Et({root:["root"]},UMe,t)},WMe=Ee(xw,{name:"MuiTextField",slot:"Root"})({}),Wl=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:c="primary",defaultValue:u,disabled:h=!1,error:f=!1,FormHelperTextProps:g,fullWidth:m=!1,helperText:y,id:b,InputLabelProps:v,inputProps:S,InputProps:E,inputRef:T,label:R,maxRows:M,minRows:I,multiline:N=!1,name:D,onBlur:L,onChange:A,onFocus:$,placeholder:F,required:H=!1,rows:q,select:K=!1,SelectProps:z,slots:Z={},slotProps:ee={},type:ie,value:U,variant:Y="outlined",...J}=r,he={...r,autoFocus:o,color:c,disabled:h,error:f,fullWidth:m,multiline:N,required:H,select:K,variant:Y},ge=GMe(he),pe=er(b),le=y&&pe?`${pe}-helper-text`:void 0,Ce=R&&pe?`${pe}-label`:void 0,ke=HMe[Y],Te={slots:Z,slotProps:{input:E,inputLabel:v,htmlInput:S,formHelperText:g,select:z,...ee}},me={},ye=Te.slotProps.inputLabel;Y==="outlined"&&(ye&&typeof ye.shrink<"u"&&(me.notched=ye.shrink),me.label=R),K&&((!z||!z.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[xe,Re]=En("root",{elementType:WMe,shouldForwardComponentProp:!0,externalForwardedProps:{...Te,...J},ownerState:he,className:tt(ge.root,a),ref:n,additionalProps:{disabled:h,error:f,fullWidth:m,required:H,color:c,variant:Y}}),[Le,Ie]=En("input",{elementType:ke,externalForwardedProps:Te,additionalProps:me,ownerState:he}),[je,lt]=En("inputLabel",{elementType:zz,externalForwardedProps:Te,ownerState:he}),[We,Bt]=En("htmlInput",{elementType:"input",externalForwardedProps:Te,ownerState:he}),[Ct,Ot]=En("formHelperText",{elementType:JEe,externalForwardedProps:Te,ownerState:he}),[Ke,Ft]=En("select",{elementType:Mw,externalForwardedProps:Te,ownerState:he}),Mt=x.jsx(Le,{"aria-describedby":le,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:m,multiline:N,name:D,rows:q,maxRows:M,minRows:I,type:ie,value:U,id:pe,inputRef:T,onBlur:L,onChange:A,onFocus:$,placeholder:F,inputProps:Bt,slots:{input:Z.htmlInput?We:void 0},...Ie});return x.jsxs(xe,{...Re,children:[R!=null&&R!==""&&x.jsx(je,{htmlFor:pe,id:Ce,...lt,children:R}),K?x.jsx(Ke,{"aria-describedby":le,id:pe,labelId:Ce,value:U,input:Mt,...Ft,children:s}):Mt,y&&x.jsx(Ct,{id:le,...Ot,children:y})]})});function KMe(e){return fn("MuiToggleButton",e)}const uh=cn("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),vU=_.createContext({}),yU=_.createContext(void 0);function qMe(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const YMe=e=>{const{classes:t,fullWidth:n,selected:r,disabled:i,size:o,color:s}=e,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${et(o)}`,s]};return Et(a,KMe,t)},XMe=Ee(zl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${et(n.size)}`]]}})(on(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${uh.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${uh.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(wi()).map(([t])=>({props:{color:t},style:{[`&.${uh.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),KO=_.forwardRef(function(t,n){const{value:r,...i}=_.useContext(vU),o=_.useContext(yU),s=Zd({...i,selected:qMe(t.value,r)},t),a=yn({props:s,name:"MuiToggleButton"}),{children:c,className:u,color:h="standard",disabled:f=!1,disableFocusRipple:g=!1,fullWidth:m=!1,onChange:y,onClick:b,selected:v,size:S="medium",value:E,...T}=a,R={...a,color:h,disabled:f,disableFocusRipple:g,fullWidth:m,size:S},M=YMe(R),I=D=>{b&&(b(D,E),D.defaultPrevented)||y&&y(D,E)},N=o||"";return x.jsx(XMe,{className:tt(i.className,M.root,u,N),disabled:f,focusRipple:!g,ref:n,onClick:I,onChange:y,value:E,ownerState:R,"aria-pressed":v,...T,children:c})});function ZMe(e){return fn("MuiToggleButtonGroup",e)}const ui=cn("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),QMe=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:i}=e,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${et(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Et(o,ZMe,t)},JMe=Ee("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ui.grouped}`]:t.grouped},{[`& .${ui.grouped}`]:t[`grouped${et(n.orientation)}`]},{[`& .${ui.firstButton}`]:t.firstButton},{[`& .${ui.lastButton}`]:t.lastButton},{[`& .${ui.middleButton}`]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(on(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ui.grouped}`]:{[`&.${ui.selected} + .${ui.grouped}.${ui.selected}`]:{borderTop:0,marginTop:0}},[`& .${ui.firstButton},& .${ui.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ui.lastButton},& .${ui.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${ui.lastButton}.${uh.disabled},& .${ui.middleButton}.${uh.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${ui.grouped}`]:{[`&.${ui.selected} + .${ui.grouped}.${ui.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${ui.firstButton},& .${ui.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ui.lastButton},& .${ui.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${ui.lastButton}.${uh.disabled},& .${ui.middleButton}.${uh.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),bU=_.forwardRef(function(t,n){const r=yn({props:t,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:a=!1,exclusive:c=!1,fullWidth:u=!1,onChange:h,orientation:f="horizontal",size:g="medium",value:m,...y}=r,b={...r,disabled:a,fullWidth:u,orientation:f,size:g},v=QMe(b),S=_.useCallback((N,D)=>{if(!h)return;const L=m&&m.indexOf(D);let A;m&&L>=0?(A=m.slice(),A.splice(L,1)):A=m?m.concat(D):[D],h(N,A)},[h,m]),E=_.useCallback((N,D)=>{h&&h(N,m===D?null:D)},[h,m]),T=_.useMemo(()=>({className:v.grouped,onChange:c?E:S,value:m,size:g,fullWidth:u,color:s,disabled:a}),[v.grouped,c,E,S,m,g,u,s,a]),R=N_e(i),M=R.length,I=N=>{const D=N===0,L=N===M-1;return D&&L?"":D?v.firstButton:L?v.lastButton:v.middleButton};return x.jsx(JMe,{role:"group",className:tt(v.root,o),ref:n,ownerState:b,...y,children:x.jsx(vU.Provider,{value:T,children:R.map((N,D)=>x.jsx(yU.Provider,{value:I(D),children:N},D))})})}),eOe=Wt(Kye)(({vm:e})=>x.jsxs(Ss,{onClick:e.onClick,children:[x.jsx(_w,{children:e.icon}),e.title]})),tOe=Wt(qye)(({vm:e})=>{const t=m3();return x.jsx(Tw,{ref:t,onContextMenu:Rb,anchorReference:"anchorPosition",open:e.isOpen,onClose:e.onClose,anchorPosition:e.anchorPosition,children:e.menuItems.map((n,r)=>x.jsx(eOe,{m:n},r))})});class nOe extends qt{constructor(){super(),this.loginValue="",this.passwordValue="",this.loginErrorText="",this.loginButtonDisabled=!1,this.onLoginValueChange=({target:t})=>{this.loginValue=t.value,this.loginErrorText=""},this.onPasswordValueChange=({target:t})=>{this.passwordValue=t.value,this.loginErrorText=""},this.onLoginButtonClick=()=>this.tryLogin(),Rt(this,{loginButtonDisabled:Be.ref,loginErrorText:Be.ref,loginValue:Be.ref,passwordValue:Be.ref,onLoginValueChange:_e,onPasswordValueChange:_e,tryLogin:Mi})}get isLoggingIn(){return this.m.isLoggingIn}*tryLogin(){try{yield this.m.login(this.loginValue,this.passwordValue)}catch(t){if(!(t instanceof rs))throw t;this.loginErrorText=t.message}}}const rOe=At(x.jsx("path",{d:"M21 11h-1.5v-.5h-2v3h2V13H21v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zM8 10v5H6.5v-1.5h-2V15H3v-5c0-.55.45-1 1-1h3c.55 0 1 .45 1 1m-1.5.5h-2V12h2zm7 1.5c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1h-4V9h4c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M11 10.5v.75h2v-.75zm2 2.25h-2v.75h2z"})),iOe=At(x.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),qO=At(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),oOe=At(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"})),sOe=At(x.jsx("path",{d:"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z"})),aOe=At(x.jsx("path",{d:"M11.71 17.99C8.53 17.84 6 15.22 6 12c0-3.31 2.69-6 6-6 3.22 0 5.84 2.53 5.99 5.71l-2.1-.63C15.48 9.31 13.89 8 12 8c-2.21 0-4 1.79-4 4 0 1.89 1.31 3.48 3.08 3.89zM22 12c0 .3-.01.6-.04.9l-1.97-.59c.01-.1.01-.21.01-.31 0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8c.1 0 .21 0 .31-.01l.59 1.97c-.3.03-.6.04-.9.04-5.52 0-10-4.48-10-10S6.48 2 12 2s10 4.48 10 10m-3.77 4.26L22 15l-10-3 3 10 1.26-3.77 4.27 4.27 1.98-1.98z"})),wU=At(x.jsx("path",{d:"m14 7-5 5 5 5z"})),SU=At(x.jsx("path",{d:"m10 17 5-5-5-5z"})),lOe=At(x.jsx("path",{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3z"})),CU=At(x.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),cOe=At(x.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),uOe=At(x.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 4h2v5l-1-.75L9 9zm9 16H6V4h1v9l3-2.25L13 13V4h5z"})),dOe=At(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),kw=At(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),hOe=At(x.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),fOe=At(x.jsx("path",{d:"M20 4v12H8V4zm0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),pOe=At(x.jsx("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"})),xU=At(x.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"})),gOe=At(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),mOe=At([x.jsx("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),x.jsx("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"},"1")]),vOe=At(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),yOe=At(x.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),bOe=At(x.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"})),_U=At(x.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),wOe=At(x.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"})),SOe=At(x.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),EU=At(x.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),COe=At(x.jsx("path",{d:"M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-4.05 16.5-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13z"})),xOe=At(x.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),TU=At(x.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12M5.21 10 10 5.21 14.79 10zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5M2 20h20v4H2z"})),_Oe=At(x.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),EOe=At(x.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"})),TOe=At(x.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"})),MOe=At(x.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),MU=At(x.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"})),OOe=At(x.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"})),ROe=At(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),IOe=At(x.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),kOe=At(x.jsx("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-1 2H5v-2h2zm0-3H5V8h2zm9 7H8v-2h8zm0-4h-2v-2h2zm0-3h-2V8h2zm3 3h-2v-2h2zm0-3h-2V8h2z"})),POe=At(x.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),DOe=At(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),AOe=At([x.jsx("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),x.jsx("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")]),LOe=At([x.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),x.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")]),NOe=At(x.jsx("path",{d:"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93M4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4zm7-13.93C7.05 1.56 4 4.92 4 9h7z"})),BOe=At(x.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),FOe=At(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),OU=At(x.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"})),jOe=At(x.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"})),VOe=At(x.jsx("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-6-7 4V7z"})),$Oe=At(x.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),zOe=At(x.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),UOe=At(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"})),HOe=At(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-2.5-3.5 7-4.5-7-4.5z"})),GOe=At(x.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"})),WOe=At(x.jsx("path",{d:"M2 4h20v16H2z"})),KOe=At(x.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),qOe=At(x.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),RU=At(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),YOe=At(x.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z"})),Pw=At(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9z"})),XOe=At(x.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9zM6 3h3v2H6zm3 18H6v-2h3zm0-8H6v-2h3zm10 0h-3v-2h3z"})),ZOe=At(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),QOe=At([x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),x.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")]),JOe=At(x.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),eRe=At(x.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"})),tRe=At(x.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),nRe=At(x.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),rRe=At(x.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})),IU=At(x.jsx("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"})),iRe=At(x.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H5V8h14z"})),oRe=At(x.jsx("path",{d:"m9 19 1.41-1.41L5.83 13H22v-2H5.83l4.59-4.59L9 5l-7 7z"})),sRe=Wt(nOe)(({vm:e,open:t})=>x.jsxs(OO,{open:t,fullWidth:!0,children:[x.jsx(Bz,{children:x.jsxs(zo,{display:"flex",flexDirection:"column",gap:1,p:"5px",children:[x.jsx(Wl,{disabled:e.isLoggingIn,value:e.loginValue,onChange:e.onLoginValueChange,error:!!e.loginErrorText,helperText:e.loginErrorText,label:"Логин",autoComplete:"off",fullWidth:!0}),x.jsx(Wl,{disabled:e.isLoggingIn,value:e.passwordValue,onChange:e.onPasswordValueChange,label:"Пароль",type:"password",autoComplete:"off",fullWidth:!0})]})}),x.jsx(Nz,{children:x.jsx(ws,{disabled:e.loginButtonDisabled,onClick:e.onLoginButtonClick,loading:e.isLoggingIn,loadingPosition:"start",startIcon:x.jsx(JOe,{}),variant:"contained",fullWidth:!0,children:"Вход"})})]}));function kU(e){return m0e}function aRe(e){return fn("MuiSimpleTreeView",e)}cn("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);const PU={};function DU(e,t){const n=_.useRef(PU);return n.current===PU&&(n.current=e(t)),n}var Dw=Symbol("NOT_FOUND");function lRe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cRe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function uRe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var AU=e=>Array.isArray(e)?e:[e];function dRe(e){const t=Array.isArray(e[0])?e[0]:e;return uRe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hRe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}function fRe(e){let t;return{get(n){return t&&e(t.key,n)?t.value:Dw},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function pRe(e,t){let n=[];function r(a){const c=n.findIndex(u=>t(a,u.key));if(c>-1){const u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return Dw}function i(a,c){r(a)===Dw&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function o(){return n}function s(){n=[]}return{get:r,put:i,getEntries:o,clear:s}}var gRe=(e,t)=>e===t;function mRe(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:i}=n;for(let o=0;o<i;o++)if(!e(n[o],r[o]))return!1;return!0}}function YO(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=gRe,maxSize:i=1,resultEqualityCheck:o}=n,s=mRe(r);let a=0;const c=i<=1?fRe(s):pRe(i,s);function u(){let h=c.get(arguments);if(h===Dw){if(h=e.apply(null,arguments),a++,o){const g=c.getEntries().find(m=>o(m.value,h));g&&(h=g.value,a!==0&&a--)}c.put(arguments,h)}return h}return u.clearCache=()=>{c.clear(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}var vRe=class{constructor(e){this.value=e}deref(){return this.value}},yRe=typeof WeakRef<"u"?WeakRef:vRe,bRe=0,LU=1;function Aw(){return{s:bRe,v:void 0,o:null,p:null}}function NU(e,t={}){let n=Aw();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let a=n;const{length:c}=arguments;for(let f=0,g=c;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const b=y.get(m);b===void 0?(a=Aw(),y.set(m,a)):a=b}else{let y=a.p;y===null&&(a.p=y=new Map);const b=y.get(m);b===void 0?(a=Aw(),y.set(m,a)):a=b}}const u=a;let h;if(a.s===LU)h=a.v;else if(h=e.apply(null,arguments),o++,r){const f=i?.deref?.()??i;f!=null&&r(f,h)&&(h=f,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new yRe(h):h}return u.s=LU,u.v=h,h}return s.clearCache=()=>{n=Aw(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function BU(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),lRe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...n,...c},{memoize:f,memoizeOptions:g=[],argsMemoize:m=NU,argsMemoizeOptions:y=[]}=h,b=AU(g),v=AU(y),S=dRe(i),E=f(function(){return o++,u.apply(null,arguments)},...b),T=m(function(){s++;const M=hRe(S,arguments);return a=E.apply(null,M),a},...v);return Object.assign(T,{resultFunc:u,memoizedResultFunc:E,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var wRe=BU(NU),SRe=Object.assign((e,t=wRe)=>{cRe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,c)=>(s[n[c]]=a,s),{}))},{withTypes:()=>SRe});const CRe=BU({memoize:YO,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),rr=(e,t,n,r,i,o,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&i&&o)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f),y=n(c,u,h,f),b=r(c,u,h,f),v=i(c,u,h,f);return o(g,m,y,b,v,u,h,f)};else if(e&&t&&n&&r&&i)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f),y=n(c,u,h,f),b=r(c,u,h,f);return i(g,m,y,b,u,h,f)};else if(e&&t&&n&&r)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f),y=n(c,u,h,f);return r(g,m,y,u,h,f)};else if(e&&t&&n)a=(c,u,h,f)=>{const g=e(c,u,h,f),m=t(c,u,h,f);return n(g,m,u,h,f)};else if(e&&t)a=(c,u,h,f)=>{const g=e(c,u,h,f);return t(g,u,h,f)};else if(e)a=e;else throw new Error("Missing arguments");return a},If=(...e)=>{const t=new WeakMap;let n=1;const r=e[e.length-1],i=e.length-1||1,o=Math.max(r.length-i,0);if(o>3)throw new Error("Unsupported number of arguments");return(a,c,u,h)=>{let f=a.__cacheKey__;f||(f={id:n},a.__cacheKey__=f,n+=1);let g=t.get(f);if(!g){const m=e.length===1?[v=>v,r]:e;let y=e;const b=[void 0,void 0,void 0];switch(o){case 0:break;case 1:{y=[...m.slice(0,-1),()=>b[0],r];break}case 2:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],r];break}case 3:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],()=>b[2],r];break}default:throw new Error("Unsupported number of arguments")}g=CRe(...y),g.selectorArgs=b,t.set(f,g)}switch(o){case 3:g.selectorArgs[2]=h;case 2:g.selectorArgs[1]=u;case 1:g.selectorArgs[0]=c}switch(o){case 0:return g(a);case 1:return g(a,c);case 2:return g(a,c,u);case 3:return g(a,c,u,h);default:throw new Error("unreachable")}}};var XO={exports:{}},ZO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FU;function xRe(){if(FU)return ZO;FU=1;var e=Xo(),t=c3();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return ZO.useSyncExternalStoreWithSelector=function(u,h,f,g,m){var y=o(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function S(I){if(!E){if(E=!0,T=I,I=g(I),m!==void 0&&b.hasValue){var N=b.value;if(m(N,I))return R=N}return R=I}if(N=R,r(T,I))return N;var D=g(I);return m!==void 0&&m(N,D)?(T=I,N):(T=I,R=D)}var E=!1,T,R,M=f===void 0?null:f;return[function(){return S(h())},M===null?void 0:function(){return S(M())}]},[h,f,g,m]);var v=i(u,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},ZO}var jU;function _Re(){return jU||(jU=1,XO.exports=xRe()),XO.exports}var ERe=_Re();function mr(e,t,n,r,i){const o=s=>t(s,n,r,i);return ERe.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,o)}const TRe=()=>{};function Lw(e,t,n){const r=zs(MRe,{store:e,selector:t}).current;r.effect=n,nw(r.onMount)}function MRe(e){const{store:t,selector:n}=e;let r=n(t.state);const i={effect:TRe,dispose:null,subscribe:()=>{i.dispose??=t.subscribe(o=>{const s=n(o);i.effect(r,s),r=s})},onMount:()=>(i.subscribe(),()=>{i.dispose?.(),i.dispose=null})};return i.subscribe(),i}class gm{static create(t){return new gm(t)}constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){this.state=t,this.updateTick+=1;const n=this.updateTick,r=this.listeners.values();let i;for(;i=r.next(),!i.done;){if(n!==this.updateTick)return;const o=i.value;o(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){this.setState(W({},this.state,t));return}}set(t,n){Object.is(this.state[t],n)||this.setState(W({},this.state,{[t]:n}))}}class VU{maxListeners=20;warnOnce=!1;events={};on(t,n,r={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),r.isFirst?i.highPriority.set(n,!0):i.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const i=Array.from(r.highPriority.keys()),o=Array.from(r.regular.keys());for(let s=i.length-1;s>=0;s-=1){const a=i[s];r.highPriority.has(a)&&a.apply(this,n)}for(let s=0;s<o.length;s+=1){const a=o[s];r.regular.has(a)&&a.apply(this,n)}}once(t,n){const r=this;this.on(t,function i(...o){r.removeListener(t,i),n.apply(r,o)})}}const ORe=e=>e.isPropagationStopped!==void 0,$U=()=>{const[e]=_.useState(()=>new VU),t=_.useCallback((...r)=>{const[i,o,s={}]=r;s.defaultMuiPrevented=!1,!(ORe(s)&&s.isPropagationStopped())&&e.emit(i,o,s)},[e]),n=_.useCallback((r,i)=>(e.on(r,i),()=>{e.removeListener(r,i)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};$U.params={};const zU=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};zU.params={};const mm={treeId:rr(e=>e.id.treeId)};let UU=0;const RRe=()=>(UU+=1,`mui-tree-view-${UU}`),Nw=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,QO=({params:e,store:t})=>{_.useEffect(()=>{const r=t.state.id;e.id===r.providedTreeId&&r.treeId!==void 0||t.set("id",W({},r,{treeId:e.id??RRe()}))},[t,e.id]);const n=mr(t,mm.treeId);return{getRootProps:()=>({id:n})}};QO.params={id:!0},QO.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const IRe=[$U,zU,QO],kRe=["apiRef"],PRe=e=>{let{props:{apiRef:t},plugins:n}=e,r=Tt(e.props,kRe);const i=_.useMemo(()=>{const a={};return n.forEach(c=>{Object.assign(a,c.params)}),a},[n]),{forwardedProps:o,pluginParams:s}=_.useMemo(()=>{const a={},c={};Object.keys(r).forEach(h=>{const f=r[h];i[h]?a[h]=f:c[h]=f});const u=n.reduce((h,f)=>f.applyDefaultValuesToParams?f.applyDefaultValuesToParams({params:h}):h,a);return{forwardedProps:c,pluginParams:u}},[n,r,i]);return{forwardedProps:o,pluginParams:s,apiRef:t}},DRe=e=>{const{plugins:t,instance:n,publicAPI:r,store:i,rootRef:o}=e,s=_.useCallback(u=>{let h=null,f=null;const g=[],m={};t.forEach(v=>{if(!v.itemPlugin)return;const S=v.itemPlugin({props:u,rootRef:h,contentRef:f});S?.rootRef&&(h=S.rootRef),S?.contentRef&&(f=S.contentRef),S?.propsEnhancers&&(g.push(S.propsEnhancers),Object.keys(S.propsEnhancers).forEach(E=>{m[E]=!0}))});const y=v=>S=>{const E={};return g.forEach(T=>{const R=T[v];R!=null&&Object.assign(E,R(S))}),E},b=Object.fromEntries(Object.keys(m).map(v=>[v,y(v)]));return{contentRef:f,rootRef:h,propsEnhancers:b}},[t]),a=_.useCallback(({itemId:u,children:h,idAttribute:f})=>{let g=h;for(let m=t.length-1;m>=0;m-=1){const y=t[m];y.wrapItem&&(g=y.wrapItem({instance:n,itemId:u,children:g,idAttribute:f}))}return g},[t,n]),c=_.useCallback(({children:u})=>{let h=u;for(let f=t.length-1;f>=0;f-=1){const g=t[f];g.wrapRoot&&(h=g.wrapRoot({children:h}))}return h},[t]);return _.useMemo(()=>({runItemPlugins:s,wrapItem:a,wrapRoot:c,instance:n,publicAPI:r,store:i,rootRef:o}),[s,a,c,n,r,i,o])};function ARe(e){return e.current==null&&(e.current={}),e}function LRe(e){const t=_.useRef({});return e?ARe(e):t}const NRe=({plugins:e,rootRef:t,props:n})=>{const r=_.useMemo(()=>[...IRe,...e],[e]),{pluginParams:i,forwardedProps:o,apiRef:s}=PRe({plugins:r,props:n}),a=DU(()=>({})).current,c=LRe(s),u=_.useRef(null),h=qn(u,t),f=DU(()=>{const v={};for(const S of r)S.getInitialState&&Object.assign(v,S.getInitialState(i));return new gm(v)}).current,g=DRe({plugins:r,instance:a,publicAPI:c.current,store:f,rootRef:u}),m=[],y=v=>{const S=v({instance:a,params:i,rootRef:u,plugins:r,store:f});S.getRootProps&&m.push(S.getRootProps),S.publicAPI&&Object.assign(c.current,S.publicAPI),S.instance&&Object.assign(a,S.instance)};return r.forEach(y),{getRootProps:(v={})=>{const S=W({role:"tree"},o,v,{ref:h});return m.forEach(E=>{Object.assign(S,E(v))}),S},rootRef:h,contextValue:g}},HU=_.createContext(null),dh=()=>{const e=_.useContext(HU);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},GU=_.createContext({classes:{},slots:{},slotProps:{}}),WU=()=>_.useContext(GU),JO={};function BRe(e){const{contextValue:t,classes:n=JO,slots:r=JO,slotProps:i=JO,children:o}=e,s=_.useMemo(()=>({classes:n,slots:{collapseIcon:r.collapseIcon,expandIcon:r.expandIcon,endIcon:r.endIcon},slotProps:{collapseIcon:i.collapseIcon,expandIcon:i.expandIcon,endIcon:i.endIcon}}),[n,r.collapseIcon,r.expandIcon,r.endIcon,i.collapseIcon,i.expandIcon,i.endIcon]);return x.jsx(HU.Provider,{value:t,children:x.jsx(GU.Provider,{value:s,children:t.wrapRoot({children:o})})})}const vm=(e,t,n)=>{e.$$publishEvent(t,n)},kf="__TREE_VIEW_ROOT_PARENT_ID__",KU=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},Bw=(e,t)=>{if(t==null)return!1;let n=e[t];if(!n)return!1;if(n.disabled)return!0;for(;n.parentId!=null;){if(n=e[n.parentId],!n)return!1;if(n.disabled)return!0}return!1},ym=_.createContext(()=>-1),FRe=[],mn={isLoading:rr(e=>e.items.loading),error:rr(e=>e.items.error),disabledItemFocusable:rr(e=>e.items.disabledItemsFocusable),itemMetaLookup:rr(e=>e.items.itemMetaLookup),itemMeta:rr((e,t)=>e.items.itemMetaLookup[t??kf]??null),itemOrderedChildrenIds:rr((e,t)=>e.items.itemOrderedChildrenIdsLookup[t??kf]??FRe),itemModel:rr((e,t)=>e.items.itemModelLookup[t]),isItemDisabled:rr((e,t)=>Bw(e.items.itemMetaLookup,t)),itemIndex:rr((e,t)=>{const n=e.items.itemMetaLookup[t];return n==null?-1:e.items.itemChildrenIndexesLookup[n.parentId??kf][n.id]}),itemParentId:rr((e,t)=>e.items.itemMetaLookup[t]?.parentId??null),itemDepth:rr((e,t)=>e.items.itemMetaLookup[t]?.depth??0),canItemBeFocused:rr((e,t)=>e.items.disabledItemsFocusable||!Bw(e.items.itemMetaLookup,t))},jRe=(e,t,n)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(n[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},eR=({disabledItemsFocusable:e,items:t,isItemDisabled:n,getItemLabel:r,getItemChildren:i,getItemId:o,initialDepth:s=0,initialParentId:a=null,getChildrenCount:c,ignoreChildren:u=!1})=>{const h={},f={},g={[kf]:[]},m=(b,v,S)=>{const E=o?o(b):b.id;jRe(E,b,h);const T=r?r(b):b.label;if(T==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(b)].join(`
`));const R=i?i(b):b.children;h[E]={id:E,label:T,parentId:S,idAttribute:void 0,expandable:c?c(b)>0:!!R?.length,disabled:n?n(b):!1,depth:v},f[E]=b;const M=S??kf;g[M]||(g[M]=[]),g[M].push(E),u||R?.forEach(I=>m(I,v+1,E))};t?.forEach(b=>m(b,s,a));const y={};return Object.keys(g).forEach(b=>{y[b]=KU(g[b])}),{disabledItemsFocusable:e,itemMetaLookup:h,itemModelLookup:f,itemOrderedChildrenIdsLookup:g,itemChildrenIndexesLookup:y}},bm=({instance:e,params:t,store:n})=>{const r=_.useCallback(S=>mn.itemModel(n.state,S),[n]),i=_.useCallback(S=>mn.itemMeta(n.state,S)?.parentId||null,[n]),o=Jt(S=>{n.set("items",W({},n.state.items,{loading:S}))}),s=Jt(S=>{n.set("items",W({},n.state.items,{error:S}))}),a=Jt(({itemId:S,shouldBeDisabled:E})=>{if(!n.state.items.itemMetaLookup[S])return;const T=W({},n.state.items.itemMetaLookup);T[S]=W({},T[S],{disabled:E??!T[S].disabled}),n.set("items",W({},n.state.items,{itemMetaLookup:T}))}),c=_.useCallback(()=>{const S=E=>{const T=mn.itemModel(n.state,E),R=W({},T),M=mn.itemOrderedChildrenIds(n.state,E);return M.length>0?R.children=M.map(S):delete R.children,R};return mn.itemOrderedChildrenIds(n.state,null).map(S)},[n]),u=_.useCallback(S=>mn.itemOrderedChildrenIds(n.state,S),[n]),h=S=>{const E=mn.itemMeta(n.state,S);if(E==null)return null;const T=Nw({treeId:mm.treeId(n.state),itemId:S,id:E.idAttribute});return document.getElementById(T)},f=_.useRef(!1),g=_.useCallback(()=>{f.current=!0},[]),m=_.useCallback(()=>f.current,[]),y=({items:S,parentId:E,depth:T,getChildrenCount:R})=>{if(S){const M=eR({disabledItemsFocusable:t.disabledItemsFocusable,items:S,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:R,initialDepth:T,initialParentId:E,ignoreChildren:!0});let I;E?I={itemModelLookup:W({},n.state.items.itemModelLookup,M.itemModelLookup),itemMetaLookup:W({},n.state.items.itemMetaLookup,M.itemMetaLookup),itemOrderedChildrenIdsLookup:W({},M.itemOrderedChildrenIdsLookup,n.state.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:W({},M.itemChildrenIndexesLookup,n.state.items.itemChildrenIndexesLookup)}:I={itemModelLookup:M.itemModelLookup,itemMetaLookup:M.itemMetaLookup,itemOrderedChildrenIdsLookup:M.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:M.itemChildrenIndexesLookup},Object.values(n.state.items.itemMetaLookup).forEach(N=>{I.itemMetaLookup[N.id]||vm(e,"removeItem",{id:N.id})}),n.set("items",W({},n.state.items,I))}},b=S=>{if(S==null)n.set("items",W({},n.state.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}}));else{const E=Object.keys(n.state.items.itemMetaLookup).reduce((M,I)=>{const N=n.state.items.itemMetaLookup[I];return N.parentId===S?(vm(e,"removeItem",{id:N.id}),M):W({},M,{[N.id]:N})},{}),T=W({},n.state.items.itemOrderedChildrenIdsLookup),R=W({},n.state.items.itemChildrenIndexesLookup);delete R[S],delete T[S],n.set("items",W({},n.state.items,{itemMetaLookup:E,itemOrderedChildrenIdsLookup:T,itemChildrenIndexesLookup:R}))}};_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const S=eR({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});Object.values(n.state.items.itemMetaLookup).forEach(E=>{S.itemMetaLookup[E.id]||vm(e,"removeItem",{id:E.id})}),n.set("items",W({},n.state.items,S))},[e,n,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const v=Jt((S,E)=>{t.onItemClick&&t.onItemClick(S,E)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:r,getItemDOMElement:h,getItemTree:c,getItemOrderedChildrenIds:u,setIsItemDisabled:a,getParentId:i},instance:{getItemDOMElement:h,preventItemUpdates:g,areItemUpdatesPrevented:m,addItems:y,setTreeViewLoading:o,setTreeViewError:s,removeChildren:b,handleItemClick:v}}};bm.getInitialState=e=>({items:W({},eR({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})}),bm.applyDefaultValuesToParams=({params:e})=>W({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"}),bm.wrapRoot=({children:e})=>x.jsx(ym.Provider,{value:mn.itemDepth,children:e}),bm.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const qU=()=>{},YU=If(e=>e.expansion.expandedItems,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),Wi={expandedItemsRaw:rr(e=>e.expansion.expandedItems),expandedItemsMap:YU,triggerSlot:rr(e=>e.expansion.expansionTrigger),isItemExpanded:rr(YU,(e,t)=>e.has(t)),isItemExpandable:rr(mn.itemMeta,(e,t)=>e?.expandable??!1)},XU=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),Fw=({instance:e,store:t,params:n})=>{qU({controlled:n.expandedItems,defaultValue:n.defaultExpandedItems}),cr(()=>{const u=XU({isItemEditable:n.isItemEditable,expansionTrigger:n.expansionTrigger});t.state.expansion.expansionTrigger!==u&&t.set("expansion",W({},t.state.expansion,{expansionTrigger:u}))},[t,n.isItemEditable,n.expansionTrigger]);const r=(u,h)=>{n.expandedItems===void 0&&t.set("expansion",W({},t.state.expansion,{expandedItems:h})),n.onExpandedItemsChange?.(u,h)},i=Jt(()=>{r(null,[])}),o=Jt(({itemId:u,event:h,shouldBeExpanded:f})=>{const g=Wi.expandedItemsRaw(t.state);let m;f?m=[u].concat(g):m=g.filter(y=>y!==u),n.onItemExpansionToggle&&n.onItemExpansionToggle(h,u,f),r(h,m)}),s=Jt(({itemId:u,event:h=null,shouldBeExpanded:f})=>{const g=Wi.isItemExpanded(t.state,u),m=f??!g;if(g===m)return;const y={isExpansionPrevented:!1,shouldBeExpanded:m,event:h,itemId:u};vm(e,"beforeItemToggleExpansion",y),!y.isExpansionPrevented&&e.applyItemExpansion({itemId:u,event:h,shouldBeExpanded:m})}),a=Jt(u=>Wi.isItemExpandable(t.state,u)),c=(u,h)=>{const f=mn.itemMeta(t.state,h);if(f==null)return;const m=mn.itemOrderedChildrenIds(t.state,f.parentId).filter(b=>Wi.isItemExpandable(t.state,b)&&!Wi.isItemExpanded(t.state,b)),y=Wi.expandedItemsRaw(t.state).concat(m);m.length>0&&(n.onItemExpansionToggle&&m.forEach(b=>{n.onItemExpansionToggle(u,b,!0)}),r(u,y))};return cr(()=>{const u=n.expandedItems;u!==void 0&&t.set("expansion",W({},t.state.expansion,{expandedItems:u}))},[t,n.expandedItems]),{publicAPI:{setItemExpansion:s,isItemExpanded:a},instance:{setItemExpansion:s,applyItemExpansion:o,expandAllSiblings:c,resetItemExpansion:i}}},VRe=[];Fw.applyDefaultValuesToParams=({params:e})=>W({},e,{defaultExpandedItems:e.defaultExpandedItems??VRe}),Fw.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:XU(e)}}),Fw.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const tR=(e,t)=>{let n=t.length-1;for(;n>=0&&!mn.canItemBeFocused(e,t[n]);)n-=1;if(n!==-1)return t[n]},ZU=(e,t)=>{const n=mn.itemMeta(e,t);if(!n)return null;const r=mn.itemOrderedChildrenIds(e,n.parentId),i=mn.itemIndex(e,t);if(i===0)return n.parentId;let o=i-1;for(;!mn.canItemBeFocused(e,r[o])&&o>=0;)o-=1;if(o===-1)return n.parentId==null?null:ZU(e,n.parentId);let s=r[o],a=tR(e,mn.itemOrderedChildrenIds(e,s));for(;Wi.isItemExpanded(e,s)&&a!=null;)s=a,a=tR(e,mn.itemOrderedChildrenIds(e,s));return s},jw=(e,t)=>{if(Wi.isItemExpanded(e,t)){const r=mn.itemOrderedChildrenIds(e,t).find(i=>mn.canItemBeFocused(e,i));if(r!=null)return r}let n=mn.itemMeta(e,t);for(;n!=null;){const r=mn.itemOrderedChildrenIds(e,n.parentId),i=mn.itemIndex(e,n.id);if(i<r.length-1){let o=i+1;for(;!mn.canItemBeFocused(e,r[o])&&o<r.length-1;)o+=1;if(mn.canItemBeFocused(e,r[o]))return r[o]}n=mn.itemMeta(e,n.parentId)}return null},QU=e=>{let t=null;for(;t==null||Wi.isItemExpanded(e,t);){const n=mn.itemOrderedChildrenIds(e,t),r=tR(e,n);if(r==null)return t;t=r}return t},Vw=e=>mn.itemOrderedChildrenIds(e,null).find(t=>mn.canItemBeFocused(e,t)),JU=(e,t,n)=>{if(t===n)return[t,n];const r=mn.itemMeta(e,t),i=mn.itemMeta(e,n);if(!r||!i)return[t,n];if(r.parentId===i.id||i.parentId===r.id)return i.parentId===r.id?[r.id,i.id]:[i.id,r.id];const o=[r.id],s=[i.id];let a=r.parentId,c=i.parentId,u=s.indexOf(a)!==-1,h=o.indexOf(c)!==-1,f=!0,g=!0;for(;!h&&!u;)f&&(o.push(a),u=s.indexOf(a)!==-1,f=a!==null,!u&&f&&(a=mn.itemParentId(e,a))),g&&!u&&(s.push(c),h=o.indexOf(c)!==-1,g=c!==null,!h&&g&&(c=mn.itemParentId(e,c)));const m=u?a:c,y=mn.itemOrderedChildrenIds(e,m),b=o[o.indexOf(m)-1],v=s[s.indexOf(m)-1];return y.indexOf(b)<y.indexOf(v)?[t,n]:[n,t]},$Re=(e,t,n)=>{const r=c=>{if(Wi.isItemExpandable(e,c)&&Wi.isItemExpanded(e,c))return mn.itemOrderedChildrenIds(e,c)[0];let u=mn.itemMeta(e,c);for(;u!=null;){const h=mn.itemOrderedChildrenIds(e,u.parentId),f=mn.itemIndex(e,u.id);if(f<h.length-1)return h[f+1];u=u.parentId?mn.itemMeta(e,u.parentId):null}throw new Error("Invalid range")},[i,o]=JU(e,t,n),s=[i];let a=i;for(;a!==o;)a=r(a),mn.isItemDisabled(e,a)||s.push(a);return s},zRe=e=>{let t=Vw(e);const n=[];for(;t!=null;)n.push(t),t=jw(e,t);return n},nR=(e,t)=>t!==e.closest('*[role="treeitem"]'),eH=If(e=>e.selection.selectedItems,e=>Array.isArray(e)?e:e!=null?[e]:[]),tH=If(eH,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),Lr={selectedItemsRaw:rr(e=>e.selection.selectedItems),selectedItems:eH,selectedItemsMap:tH,enabled:rr(e=>e.selection.isEnabled),isMultiSelectEnabled:rr(e=>e.selection.isMultiSelectEnabled),isCheckboxSelectionEnabled:rr(e=>e.selection.isCheckboxSelectionEnabled),propagationRules:rr(e=>e.selection.selectionPropagation),isItemSelected:rr(tH,(e,t)=>e.has(t)),canItemBeSelected:rr(mn.isItemDisabled,e=>e.selection.isEnabled,(e,t,n)=>t&&!e)},$w=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},nH=({store:e,oldModel:t,newModel:n})=>{const r=new Map;return n.forEach(i=>{r.set(i,!0)}),{added:n.filter(i=>!Lr.isItemSelected(e.state,i)),removed:t.filter(i=>!r.has(i))}},URe=({store:e,selectionPropagation:t,newModel:n,oldModel:r,additionalItemsToPropagate:i})=>{if(!t.descendants&&!t.parents)return n;let o=!1;const s=$w(n),a=nH({store:e,newModel:n,oldModel:r});return i?.forEach(c=>{s[c]?a.added.includes(c)||a.added.push(c):a.removed.includes(c)||a.removed.push(c)}),a.added.forEach(c=>{if(t.descendants){const u=h=>{h!==c&&(o=!0,s[h]=!0),mn.itemOrderedChildrenIds(e.state,h).forEach(u)};u(c)}if(t.parents){const u=f=>s[f]?mn.itemOrderedChildrenIds(e.state,f).every(u):!1,h=f=>{const g=mn.itemParentId(e.state,f);if(g==null)return;mn.itemOrderedChildrenIds(e.state,g).every(u)&&(o=!0,s[g]=!0,h(g))};h(c)}}),a.removed.forEach(c=>{if(t.parents){let u=mn.itemParentId(e.state,c);for(;u!=null;)s[u]&&(o=!0,delete s[u]),u=mn.itemParentId(e.state,u)}if(t.descendants){const u=h=>{h!==c&&(o=!0,delete s[h]),mn.itemOrderedChildrenIds(e.state,h).forEach(u)};u(c)}}),o?Object.keys(s):n},HRe=rr((e,t)=>{if(Lr.isItemSelected(e,t))return"checked";let n=!1,r=!1;const i=s=>{s!==t&&(Lr.isItemSelected(e,s)?n=!0:r=!0),mn.itemOrderedChildrenIds(e,s).forEach(i)};return i(t),n&&r?"indeterminate":Lr.propagationRules(e).parents&&n&&!r?"checked":"empty"}),GRe=({props:e})=>{const{itemId:t}=e,{store:n}=dh(),r=mr(n,Lr.isCheckboxSelectionEnabled),i=mr(n,Lr.canItemBeSelected,t),o=mr(n,HRe,t);return{propsEnhancers:{checkbox:({externalEventHandlers:s,interactions:a})=>({tabIndex:-1,onChange:u=>{s.onChange?.(u),!u.defaultMuiPrevented&&Lr.canItemBeSelected(n.state,t)&&a.handleCheckboxSelection(u)},visible:r,disabled:!i,checked:o==="checked",indeterminate:o==="indeterminate"})}}},wm=({store:e,params:t})=>{qU({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const n=_.useRef(null),r=_.useRef({}),i=(g,m,y)=>{const b=Lr.selectedItemsRaw(e.state);let v;const S=Lr.isMultiSelectEnabled(e.state);if(S&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?v=URe({store:e,selectionPropagation:t.selectionPropagation,newModel:m,oldModel:b,additionalItemsToPropagate:y}):v=m,t.onItemSelectionToggle)if(S){const E=nH({store:e,newModel:v,oldModel:b});t.onItemSelectionToggle&&(E.added.forEach(T=>{t.onItemSelectionToggle(g,T,!0)}),E.removed.forEach(T=>{t.onItemSelectionToggle(g,T,!1)}))}else t.onItemSelectionToggle&&v!==b&&(b!=null&&t.onItemSelectionToggle(g,b,!1),v!=null&&t.onItemSelectionToggle(g,v,!0));t.selectedItems===void 0&&e.set("selection",W({},e.state.selection,{selectedItems:v})),t.onSelectedItemsChange?.(g,v)},o=({itemId:g,event:m=null,keepExistingSelection:y=!1,shouldBeSelected:b})=>{if(!Lr.enabled(e.state))return;let v;const S=Lr.isMultiSelectEnabled(e.state);if(y){const E=Lr.selectedItems(e.state),T=Lr.isItemSelected(e.state,g);T&&(b===!1||b==null)?v=E.filter(R=>R!==g):!T&&(b===!0||b==null)?v=[g].concat(E):v=E}else b===!1||b==null&&Lr.isItemSelected(e.state,g)?v=S?[]:null:v=S?[g]:g;i(m,v,[g]),n.current=g,r.current={}},s=(g,[m,y])=>{if(!Lr.isMultiSelectEnabled(e.state))return;let v=Lr.selectedItems(e.state).slice();Object.keys(r.current).length>0&&(v=v.filter(R=>!r.current[R]));const S=$w(v),E=$Re(e.state,m,y),T=E.filter(R=>!S[R]);v=v.concat(T),i(g,v),r.current=$w(E)},a=(g,m)=>{if(n.current!=null){const[y,b]=JU(e.state,m,n.current);s(g,[y,b])}},c=(g,m)=>{s(g,[Vw(e.state),m])},u=(g,m)=>{s(g,[m,QU(e.state)])},h=g=>{if(!Lr.isMultiSelectEnabled(e.state))return;const y=zRe(e.state);i(g,y),r.current=$w(y)},f=(g,m,y)=>{if(!Lr.isMultiSelectEnabled(e.state))return;let v=Lr.selectedItems(e.state).slice();Object.keys(r.current).length===0?(v.push(y),r.current={[m]:!0,[y]:!0}):(r.current[m]||(r.current={}),r.current[y]?(v=v.filter(S=>S!==m),delete r.current[m]):(v.push(y),r.current[y]=!0)),i(g,v)};return cr(()=>{e.set("selection",{selectedItems:t.selectedItems===void 0?e.state.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}})},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:o},instance:{setItemSelection:o,selectAllNavigableItems:h,expandSelectionRange:a,selectRangeFromStartToItem:c,selectRangeFromItemToEnd:u,selectItemFromArrowNavigation:f}}};wm.itemPlugin=GRe;const WRe=[],KRe={};wm.applyDefaultValuesToParams=({params:e})=>W({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?WRe:null),selectionPropagation:e.selectionPropagation??KRe}),wm.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}}),wm.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const rH=1e3;let qRe=class{timeouts=new Map;cleanupTimeout=rH;constructor(t=rH){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}},YRe=class{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}},XRe=class{};function ZRe(e){let t=0;return function(r,i,o){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new YRe:new qRe);const[s]=_.useState(new XRe),a=_.useRef(null),c=_.useRef(void 0);c.current=o;const u=_.useRef(null);if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=r.$$subscribeEvent(i,h),t+=1,u.current={cleanupToken:t},e.registry.register(s,()=>{a.current?.(),a.current=null,u.current=null},u.current)}else!c.current&&a.current&&(a.current(),a.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));_.useEffect(()=>{if(!a.current&&c.current){const h=(f,g)=>{g.defaultMuiPrevented||c.current?.(f,g)};a.current=r.$$subscribeEvent(i,h)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{a.current?.(),a.current=null}},[r,i])}}const QRe=ZRe({registry:null}),iH=If(Lr.selectedItems,Wi.expandedItemsMap,mn.itemMetaLookup,mn.disabledItemFocusable,e=>mn.itemOrderedChildrenIds(e,null),(e,t,n,r,i)=>{const o=e.find(a=>{if(!r&&Bw(n,a))return!1;const c=n[a];return c&&(c.parentId==null||t.has(c.parentId))});if(o!=null)return o;const s=i.find(a=>r||!Bw(n,a));return s??null}),hh={defaultFocusableItemId:iH,isItemTheDefaultFocusableItem:rr(iH,(e,t)=>e===t),focusedItemId:rr(e=>e.focus.focusedItemId),isItemFocused:rr((e,t)=>e.focus.focusedItemId===t)},rR=({instance:e,params:t,store:n})=>{const r=Jt(h=>{hh.focusedItemId(n.state)!==h&&n.set("focus",W({},n.state.focus,{focusedItemId:h}))}),i=h=>{const f=mn.itemMeta(n.state,h);return f&&(f.parentId==null||Wi.isItemExpanded(n.state,f.parentId))},o=(h,f)=>{const g=e.getItemDOMElement(f);g&&g.focus(),r(f),t.onItemFocus&&t.onItemFocus(h,f)},s=Jt((h,f)=>{i(f)&&o(h,f)}),a=Jt(()=>{const h=hh.focusedItemId(n.state);if(h==null)return;if(mn.itemMeta(n.state,h)){const g=e.getItemDOMElement(h);g&&g.blur()}r(null)});QRe(e,"removeItem",({id:h})=>{const f=hh.focusedItemId(n.state),g=hh.defaultFocusableItemId(n.state);f===h&&g!=null&&o(null,g)});const c=h=>f=>{if(h.onFocus?.(f),f.defaultMuiPrevented)return;const g=hh.defaultFocusableItemId(n.state);f.target===f.currentTarget&&g!=null&&o(f,g)},u=h=>f=>{h.onBlur?.(f),!f.defaultMuiPrevented&&r(null)};return{getRootProps:h=>({onFocus:c(h),onBlur:u(h)}),publicAPI:{focusItem:s},instance:{focusItem:s,removeFocusedItem:a}}};rR.getInitialState=()=>({focus:{focusedItemId:null}}),rR.params={onItemFocus:!0};const zw=(e,t)=>e.getAvailablePlugins().has(t),Ic={isItemEditable:rr(e=>e.label?.isItemEditable,mn.itemModel,(e,t,n)=>!t||e==null?!1:typeof e=="boolean"?e:e(t)),isItemBeingEdited:rr((e,t)=>t==null?!1:e.label?.editedItemId===t),isAnyItemBeingEdited:rr(e=>!!e.label?.editedItemId)},JRe=({props:e})=>{const{store:t}=dh(),{label:n,itemId:r}=e,[i,o]=_.useState(n),s=mr(t,Ic.isItemEditable,r),a=mr(t,Ic.isItemBeingEdited,r);return _.useEffect(()=>{a||o(n)},[a,n]),{propsEnhancers:{label:()=>({editable:s}),labelInput:({externalEventHandlers:c,interactions:u})=>s?{value:i??"","data-element":"labelInput",onChange:m=>{c.onChange?.(m),o(m.target.value)},onKeyDown:m=>{if(c.onKeyDown?.(m),m.defaultMuiPrevented)return;const y=m.target;m.key==="Enter"&&y.value?u.handleSaveItemLabel(m,y.value):m.key==="Escape"&&u.handleCancelItemLabelEditing(m)},onBlur:m=>{c.onBlur?.(m),!m.defaultMuiPrevented&&m.target.value&&u.handleSaveItemLabel(m,m.target.value)},autoFocus:!0,type:"text"}:{}}}},ku=({store:e,params:t})=>{const n=i=>{i!==null&&!Ic.isItemEditable(e.state,i)||e.set("label",W({},e.state.label,{editedItemId:i}))},r=(i,o)=>{if(!o)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",i].join(`
`));const s=e.state.items.itemMetaLookup[i];s.label!==o&&(e.set("items",W({},e.state.items,{itemMetaLookup:W({},e.state.items.itemMetaLookup,{[i]:W({},s,{label:o})})})),t.onItemLabelChange&&t.onItemLabelChange(i,o))};return cr(()=>{e.set("label",W({},e.state.items,{isItemEditable:t.isItemEditable}))},[e,t.isItemEditable]),{instance:{setEditedItem:n,updateItemLabel:r},publicAPI:{setEditedItem:n,updateItemLabel:r}}};ku.itemPlugin=JRe,ku.applyDefaultValuesToParams=({params:e})=>W({},e,{isItemEditable:e.isItemEditable??!1}),ku.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}}),ku.params={onItemLabelChange:!0,isItemEditable:!0};function eIe(e){return!!e&&e.length===1&&!!e.match(/\S/)}const oH=({instance:e,store:t,params:n})=>{const r=Oo(),i=_.useRef({}),o=Jt(f=>{i.current=f(i.current)}),s=mr(t,mn.itemMetaLookup);_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const f={},g=m=>{f[m.id]=m.label.substring(0,1).toLowerCase()};Object.values(s).forEach(g),i.current=f},[s,n.getItemId,e]);const a=(f,g)=>{const m=g.toLowerCase(),y=E=>{const T=jw(t.state,E);return T===null?Vw(t.state):T};let b=null,v=y(f);const S={};for(;b==null&&!S[v];)i.current[v]===m?b=v:(S[v]=!0,v=y(v));return b},c=f=>Lr.enabled(t.state)&&!mn.isItemDisabled(t.state,f),u=f=>!mn.isItemDisabled(t.state,f)&&Wi.isItemExpandable(t.state,f);return{instance:{updateFirstCharMap:o,handleItemKeyDown:async(f,g)=>{if(f.defaultMuiPrevented||f.altKey||nR(f.target,f.currentTarget))return;const m=f.ctrlKey||f.metaKey,y=f.key,b=Lr.isMultiSelectEnabled(t.state);switch(!0){case(y===" "&&c(g)):{f.preventDefault(),b&&f.shiftKey?e.expandSelectionRange(f,g):e.setItemSelection({event:f,itemId:g,keepExistingSelection:b,shouldBeSelected:void 0});break}case y==="Enter":{zw(e,ku)&&Ic.isItemEditable(t.state,g)&&!Ic.isItemBeingEdited(t.state,g)?e.setEditedItem(g):u(g)?(e.setItemExpansion({event:f,itemId:g}),f.preventDefault()):c(g)&&(b?(f.preventDefault(),e.setItemSelection({event:f,itemId:g,keepExistingSelection:!0})):Lr.isItemSelected(t.state,g)||(e.setItemSelection({event:f,itemId:g}),f.preventDefault()));break}case y==="ArrowDown":{const v=jw(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case y==="ArrowUp":{const v=ZU(t.state,g);v&&(f.preventDefault(),e.focusItem(f,v),b&&f.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(f,g,v));break}case(y==="ArrowRight"&&!r||y==="ArrowLeft"&&r):{if(m)return;if(Wi.isItemExpanded(t.state,g)){const v=jw(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}else u(g)&&(e.setItemExpansion({event:f,itemId:g}),f.preventDefault());break}case(y==="ArrowLeft"&&!r||y==="ArrowRight"&&r):{if(m)return;if(u(g)&&Wi.isItemExpanded(t.state,g))e.setItemExpansion({event:f,itemId:g}),f.preventDefault();else{const v=mn.itemParentId(t.state,g);v&&(e.focusItem(f,v),f.preventDefault())}break}case y==="Home":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromStartToItem(f,g):e.focusItem(f,Vw(t.state)),f.preventDefault();break}case y==="End":{c(g)&&b&&m&&f.shiftKey?e.selectRangeFromItemToEnd(f,g):e.focusItem(f,QU(t.state)),f.preventDefault();break}case y==="*":{e.expandAllSiblings(f,g),f.preventDefault();break}case(String.fromCharCode(f.keyCode)==="A"&&m&&b&&Lr.enabled(t.state)):{e.selectAllNavigableItems(f),f.preventDefault();break}case(!m&&!f.shiftKey&&eIe(y)):{const v=a(g,y);v!=null&&(e.focusItem(f,v),f.preventDefault());break}}}}}};oH.params={};function tIe(e){return e.replace(/["\\]/g,"\\$&")}const sH=_.createContext(null);function aH(e){const{children:t,itemId:n=null,idAttribute:r}=e,{instance:i,store:o,rootRef:s}=dh(),a=_.useRef(new Map);_.useEffect(()=>{if(!s.current)return;const u=mn.itemOrderedChildrenIds(o.state,n??null)??[],h=tIe(r??s.current.id);if(n!=null){const y=s.current.querySelector(`*[id="${h}"][role="treeitem"]`);if(y&&y.getAttribute("aria-expanded")==="false")return}const f=s.current.querySelectorAll(`${n==null?"":`*[id="${h}"] `}[role="treeitem"]:not(*[id="${h}"] [role="treeitem"] [role="treeitem"])`),g=Array.from(f).map(y=>a.current.get(y.id));(g.length!==u.length||g.some((y,b)=>y!==u[b]))&&i.setJSXItemsOrderedChildrenIds(n??null,g)});const c=_.useMemo(()=>({registerChild:(u,h)=>a.current.set(u,h),unregisterChild:u=>a.current.delete(u),parentId:n}),[n]);return x.jsx(sH.Provider,{value:c,children:t})}const lH={dataSource:rr(e=>e.lazyLoading?.dataSource),isItemLoading:rr((e,t)=>e.lazyLoading?.dataSource.loading[t]??!1),itemHasError:rr((e,t)=>!!e.lazyLoading?.dataSource.errors[t])},iR=e=>Array.isArray(e)?e.length>0&&e.some(iR):!!e,nIe=({itemId:e,children:t})=>{const{instance:n,store:r,publicAPI:i}=dh(),o=mr(r,Wi.isItemExpandable,e),s=mr(r,lH.isItemLoading,e),a=mr(r,lH.itemHasError,e),c=iR(t)||o,u=mr(r,Wi.isItemExpanded,e),h=mr(r,hh.isItemFocused,e),f=mr(r,Lr.isItemSelected,e),g=mr(r,mn.isItemDisabled,e),m=mr(r,Ic.isItemBeingEdited,e),y=mr(r,Ic.isItemEditable,e),b={expandable:c,expanded:u,focused:h,selected:f,disabled:g,editing:m,editable:y,loading:s,error:a},v=N=>{if(b.disabled)return;b.focused||n.focusItem(N,e);const D=Lr.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey);b.expandable&&!(D&&Wi.isItemExpanded(r.state,e))&&n.setItemExpansion({event:N,itemId:e})},S=N=>{if(b.disabled)return;!b.focused&&!b.editing&&n.focusItem(N,e),Lr.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey)?N.shiftKey?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:!0}):n.setItemSelection({event:N,itemId:e,shouldBeSelected:!0})},E=N=>{const D=N.nativeEvent.shiftKey,L=Lr.isMultiSelectEnabled(r.state);L&&D?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:L,shouldBeSelected:N.target.checked})},T=()=>{zw(n,ku)&&(m?n.setEditedItem(null):n.setEditedItem(e))};return{interactions:{handleExpansion:v,handleSelection:S,handleCheckboxSelection:E,toggleItemEditing:T,handleSaveItemLabel:(N,D)=>{zw(n,ku)&&Ic.isItemBeingEdited(r.state,e)&&(n.updateItemLabel(e,D),T(),n.focusItem(N,e))},handleCancelItemLabelEditing:N=>{zw(n,ku)&&Ic.isItemBeingEdited(r.state,e)&&(T(),n.focusItem(N,e))}},status:b,publicAPI:i}},Sm=({instance:e,store:t})=>{e.preventItemUpdates();const n=Jt(o=>{if(t.state.items.itemMetaLookup[o.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${o.id}"`].join(`
`));return t.set("items",W({},t.state.items,{itemMetaLookup:W({},t.state.items.itemMetaLookup,{[o.id]:o}),itemModelLookup:W({},t.state.items.itemModelLookup,{[o.id]:{id:o.id,label:o.label??""}})})),()=>{const s=W({},t.state.items.itemMetaLookup),a=W({},t.state.items.itemModelLookup);delete s[o.id],delete a[o.id],t.set("items",W({},t.state.items,{itemMetaLookup:s,itemModelLookup:a})),vm(e,"removeItem",{id:o.id})}}),r=(o,s)=>{const a=o??kf;t.set("items",W({},t.state.items,{itemOrderedChildrenIdsLookup:W({},t.state.items.itemOrderedChildrenIdsLookup,{[a]:s}),itemChildrenIndexesLookup:W({},t.state.items.itemChildrenIndexesLookup,{[a]:KU(s)})}))},i=Jt((o,s)=>(e.updateFirstCharMap(a=>(a[o]=s,a)),()=>{e.updateFirstCharMap(a=>{const c=W({},a);return delete c[o],c})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:i}}},rIe=({props:e,rootRef:t,contentRef:n})=>{const{instance:r,store:i}=dh(),{children:o,disabled:s=!1,label:a,itemId:c,id:u}=e,h=_.useContext(sH);if(h==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:f,unregisterChild:g,parentId:m}=h,y=iR(o),b=_.useRef(null),v=qn(b,n),S=mr(i,mm.treeId);return cr(()=>{const E=Nw({itemId:c,treeId:S,id:u});return f(E,c),()=>{g(E),g(E)}},[i,r,f,g,c,u,S]),cr(()=>r.insertJSXItem({id:c,idAttribute:u,parentId:m,expandable:y,disabled:s}),[r,m,c,y,s,u]),_.useEffect(()=>{if(a)return r.mapFirstCharFromJSX(c,(b.current?.textContent??"").substring(0,1).toLowerCase())},[r,c,a]),{contentRef:v,rootRef:t}};Sm.itemPlugin=rIe,Sm.wrapItem=({children:e,itemId:t,idAttribute:n})=>{const r=_.useContext(ym);return x.jsx(aH,{itemId:t,idAttribute:n,children:x.jsx(ym.Provider,{value:r+1,children:e})})},Sm.wrapRoot=({children:e})=>x.jsx(aH,{itemId:null,idAttribute:null,children:x.jsx(ym.Provider,{value:0,children:e})}),Sm.params={};const iIe=[bm,Fw,wm,rR,oH,Sm],oIe=["slots","slotProps"],sIe=kU(),aIe=e=>{const{classes:t}=e;return _.useMemo(()=>Et({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},aRe,t),[t])},lIe=Ee("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),cIe=[],oR=_.forwardRef(function(t,n){const r=sIe({props:t,name:"MuiSimpleTreeView"}),{slots:i,slotProps:o}=r,s=Tt(r,oIe),{getRootProps:a,contextValue:c}=NRe({plugins:iIe,rootRef:n,props:W({},s,{items:cIe})}),u=aIe(r),h=i?.root??lIe,f=Ro({elementType:h,externalSlotProps:o?.root,className:u.root,getSlotProps:a,ownerState:r});return x.jsx(BRe,{contextValue:c,classes:u,slots:i,slotProps:o,children:x.jsx(h,W({},f))})}),uIe=Object.is;function cH(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const i in e)if(n+=1,!uIe(e[i],t[i])||!(i in t))return!1;for(const i in t)r+=1;return n===r}const dIe=e=>{const{runItemPlugins:t,instance:n,publicAPI:r,store:i}=dh(),o=_.useContext(ym),s=mr(i,(...me)=>typeof o=="function"?o(...me):o,e.itemId),{id:a,itemId:c,label:u,children:h,rootRef:f}=e,{rootRef:g,contentRef:m,propsEnhancers:y}=t(e),{interactions:b,status:v}=nIe({itemId:c,children:h}),S=_.useRef(null),E=_.useRef(null),T=qn(f,g,S),R=qn(m,E),M=_.useRef(null),I=mr(i,mm.treeId),N=mr(i,Lr.canItemBeSelected,c),D=mr(i,Lr.isCheckboxSelectionEnabled),L=Nw({itemId:c,treeId:I,id:a}),A=mr(i,hh.isItemTheDefaultFocusableItem,c),$={rootRefObject:S,contentRefObject:E,interactions:b},F=me=>ye=>{me.onFocus?.(ye),!ye.defaultMuiPrevented&&!v.focused&&mn.canItemBeFocused(i.state,c)&&ye.currentTarget===ye.target&&n.focusItem(ye,c)},H=me=>ye=>{if(me.onBlur?.(ye),ye.defaultMuiPrevented)return;const xe=n.getItemDOMElement(c);v.editing||ye.relatedTarget&&nR(ye.relatedTarget,xe)&&(ye.target&&ye.target?.dataset?.element==="labelInput"&&nR(ye.target,xe)||ye.relatedTarget?.dataset?.element==="labelInput")||n.removeFocusedItem()},q=me=>ye=>{me.onKeyDown?.(ye),!(ye.defaultMuiPrevented||ye.target?.dataset?.element==="labelInput")&&n.handleItemKeyDown(ye,c)},K=me=>ye=>{me.onDoubleClick?.(ye),!ye.defaultMuiPrevented&&b.toggleItemEditing()},z=me=>ye=>{me.onClick?.(ye),n.handleItemClick(ye,c),!(ye.defaultMuiPrevented||M.current?.contains(ye.target))&&(Wi.triggerSlot(i.state)==="content"&&b.handleExpansion(ye),D||b.handleSelection(ye))},Z=me=>ye=>{me.onMouseDown?.(ye),!ye.defaultMuiPrevented&&(ye.shiftKey||ye.ctrlKey||ye.metaKey||v.disabled)&&ye.preventDefault()},ee=me=>ye=>{me.onClick?.(ye),!ye.defaultMuiPrevented&&Wi.triggerSlot(i.state)==="iconContainer"&&b.handleExpansion(ye)};return{getContextProviderProps:()=>({itemId:c,id:a}),getRootProps:(me={})=>{const ye=W({},Us(e),Us(me));let xe;v.selected?xe=!0:N?xe=!1:xe=void 0;const Re=W({},ye,{ref:T,role:"treeitem",tabIndex:A?0:-1,id:L,"aria-expanded":v.expandable?v.expanded:void 0,"aria-selected":xe,"aria-disabled":v.disabled||void 0},me,{style:W({},me.style??{},{"--TreeView-itemDepth":s}),onFocus:F(ye),onBlur:H(ye),onKeyDown:q(ye)}),Le=y.root?.(W({},$,{externalEventHandlers:ye}))??{};return W({},Re,Le)},getContentProps:(me={})=>{const ye=Us(me),xe=W({},ye,me,{ref:R,onClick:z(ye),onMouseDown:Z(ye),status:v});["expanded","selected","focused","disabled","editing","editable"].forEach(Le=>{v[Le]&&(xe[`data-${Le}`]="")});const Re=y.content?.(W({},$,{externalEventHandlers:ye}))??{};return W({},xe,Re)},getGroupTransitionProps:(me={})=>{const ye=Us(me);return W({},ye,{unmountOnExit:!0,component:"ul",role:"group",in:v.expanded,children:h},me)},getIconContainerProps:(me={})=>{const ye=Us(me);return W({},ye,me,{onClick:ee(ye)})},getCheckboxProps:(me={})=>{const ye=Us(me),xe=W({},ye,{ref:M,"aria-hidden":!0},me),Re=y.checkbox?.(W({},$,{externalEventHandlers:ye}))??{};return W({},xe,Re)},getLabelProps:(me={})=>{const ye=W({},Us(me)),xe=W({},ye,{children:u},me,{onDoubleClick:K(ye)}),Re=y.label?.(W({},$,{externalEventHandlers:ye}))??{};return W({},Re,xe)},getLabelInputProps:(me={})=>{const ye=Us(me),xe=y.labelInput?.(W({},$,{externalEventHandlers:ye}))??{};return W({},me,xe)},getDragAndDropOverlayProps:(me={})=>{const ye=Us(me),xe=y.dragAndDropOverlay?.(W({},$,{externalEventHandlers:ye}))??{};return W({},me,xe)},getErrorContainerProps:(me={})=>{const ye=Us(me);return W({},ye,me)},getLoadingContainerProps:(me={})=>{const ye=Us(me);return W({size:"12px",thickness:6},ye,me)},rootRef:T,status:v,publicAPI:r}};function hIe(e){return fn("MuiTreeItem",e)}const kc=cn("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]),fIe=At(x.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),pIe=At(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function gIe(e){const{slots:t,slotProps:n,status:r}=e,{slots:i,slotProps:o}=WU(),s={collapseIcon:t?.collapseIcon??i.collapseIcon??pIe,expandIcon:t?.expandIcon??i.expandIcon??fIe,endIcon:t?.endIcon??i.endIcon,icon:t?.icon};let a;s?.icon?a="icon":r.expandable?r.expanded?a="collapseIcon":a="expandIcon":a="endIcon";const c=s[a],u=Ro({elementType:c,externalSlotProps:h=>W({},iw(o[a],h),iw(n?.[a],h)),ownerState:{}});return c?x.jsx(c,W({},u)):null}const mIe=Ee("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>bf(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:Sa(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function vIe(e){return e.action==null?null:x.jsx(mIe,W({},e))}function yIe(e){const{children:t,itemId:n,id:r}=e,{wrapItem:i,instance:o,store:s}=dh(),a=mr(s,mm.treeId),c=Nw({itemId:n,treeId:a,id:r});return x.jsx(_.Fragment,{children:i({children:t,itemId:n,instance:o,idAttribute:c})})}const bIe=Ee("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>W({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),wIe=["visible"],SIe=["id","itemId","label","disabled","children","slots","slotProps","classes"],CIe=kU(),xIe=Ee("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),_Ie=Ee("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>bf(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),EIe=Ee("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>bf(e)&&e!=="editable"})(({theme:e})=>W({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),TIe=Ee("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),MIe=Ee(sO,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),OIe=Ee("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),RIe=Ee(xf,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),IIe=Ee(_.forwardRef((e,t)=>{const{visible:n}=e,r=Tt(e,wIe);return n?x.jsx(Gl,W({},r,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),kIe=e=>{const{classes:t}=WU(),n=W({},e,{root:tt(e?.root,t.root),content:tt(e?.content,t.itemContent),iconContainer:tt(e?.iconContainer,t.itemIconContainer),checkbox:tt(e?.checkbox,t.itemCheckbox),label:tt(e?.label,t.itemLabel),groupTransition:tt(e?.groupTransition,t.itemGroupTransition),labelInput:tt(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:tt(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:tt(e?.errorIcon,t.itemErrorIcon),loadingIcon:tt(e?.loadingIcon,t.itemLoadingIcon)});return Et({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},hIe,n)},Pu=_.forwardRef(function(t,n){const r=CIe({props:t,name:"MuiTreeItem"}),{id:i,itemId:o,label:s,disabled:a,children:c,slots:u={},slotProps:h={},classes:f}=r,g=Tt(r,SIe),{getContextProviderProps:m,getRootProps:y,getContentProps:b,getIconContainerProps:v,getCheckboxProps:S,getLabelProps:E,getGroupTransitionProps:T,getLabelInputProps:R,getDragAndDropOverlayProps:M,getErrorContainerProps:I,getLoadingContainerProps:N,status:D}=dIe({id:i,itemId:o,children:c,label:s,disabled:a}),L=kIe(f),A=u.root??xIe,$=Ro({elementType:A,getSlotProps:y,externalForwardedProps:g,externalSlotProps:h.root,additionalProps:{ref:n},ownerState:{},className:L.root}),F=u.content??_Ie,H=Ro({elementType:F,getSlotProps:b,externalSlotProps:h.content,ownerState:{},className:tt(L.content,D.expanded&&L.expanded,D.selected&&L.selected,D.focused&&L.focused,D.disabled&&L.disabled,D.editing&&L.editing,D.editable&&L.editable)}),q=u.iconContainer??TIe,K=Ro({elementType:q,getSlotProps:v,externalSlotProps:h.iconContainer,ownerState:{},className:L.iconContainer}),z=u.label??EIe,Z=Ro({elementType:z,getSlotProps:E,externalSlotProps:h.label,ownerState:{},className:L.label}),ee=u.checkbox??IIe,ie=Ro({elementType:ee,getSlotProps:S,externalSlotProps:h.checkbox,ownerState:{},className:L.checkbox}),U=u.groupTransition??void 0,Y=Ro({elementType:U,getSlotProps:T,externalSlotProps:h.groupTransition,ownerState:{},className:L.groupTransition}),J=u.labelInput??bIe,he=Ro({elementType:J,getSlotProps:R,externalSlotProps:h.labelInput,ownerState:{},className:L.labelInput}),ge=u.dragAndDropOverlay??vIe,pe=Ro({elementType:ge,getSlotProps:M,externalSlotProps:h.dragAndDropOverlay,ownerState:{},className:L.dragAndDropOverlay}),le=u.errorIcon??OIe,Ce=Ro({elementType:le,getSlotProps:I,externalSlotProps:h.errorIcon,ownerState:{},className:L.errorIcon}),ke=u.loadingIcon??RIe,Te=Ro({elementType:ke,getSlotProps:N,externalSlotProps:h.loadingIcon,ownerState:{},className:L.loadingIcon});return x.jsx(yIe,W({},m(),{children:x.jsxs(A,W({},$,{children:[x.jsxs(F,W({},H,{children:[x.jsxs(q,W({},K,{children:[D.error&&x.jsx(le,W({},Ce)),D.loading?x.jsx(ke,W({},Te)):x.jsx(gIe,{status:D,slots:u,slotProps:h})]})),x.jsx(ee,W({},ie)),D.editing?x.jsx(J,W({},he)):x.jsx(z,W({},Z)),x.jsx(ge,W({},pe))]})),c&&x.jsx(MIe,W({as:U},Y))]}))}))}),sR=Ee("div",{name:"FlexRow"})({boxSizing:"border-box",display:"flex",flexDirection:"row",width:"100%",height:"100%",minWidth:0,minHeight:0}),aR=Ee("div",{name:"FlexCol"})({boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",height:"100%",minWidth:0,minHeight:0}),PIe=Ee("div",{name:"RollPanel",shouldForwardProp:e=>e!=="width"&&e!=="minimized"&&e!=="reverse"})(({minimized:e,width:t,reverse:n})=>({boxSizing:"border-box",display:"flex",...!n&&{overflow:"hidden"},flexDirection:n?"row-reverse":"row",transition:"width 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,height:"100%",minWidth:0,width:e?20:t})),DIe=Ee("div",{name:"RollPanel",slot:"content",shouldForwardProp:e=>e!=="width"&&e!=="minimized"})(({width:e})=>({boxSizing:"border-box",display:"flex",flexDirection:"column",userSelect:"none",height:"100%",flexShrink:0,width:e}));function lR({width:e,minimized:t,button:n,children:r,reverse:i}){return x.jsxs(PIe,{width:e,minimized:t,reverse:i,children:[t&&n,x.jsx(DIe,{width:e,children:r})]})}Ee(aR)({transition:"ease-in 0.15s",overflow:"hidden",userSelect:"none"});const uH=Ee($n)({padding:0,borderRadius:0});Ee(Pu)({fontSize:"1rem"});function AIe(){return null}function Uw(){return x.jsx(am,{flexItem:!0,orientation:"vertical"})}Uw.muiName="Divider";function ol(){return x.jsx(am,{flexItem:!0,orientation:"horizontal"})}ol.muiNames="Divider";const LIe=Ee(Gi)({whiteSpace:"pre",userSelect:"none"});LIe.displayName="NonSelectableTypo";const Pf=_.forwardRef(function(t,n){return x.jsx(Gi,{ref:n,component:"span",...t})});Pf.muiName="Typography";const NIe=Ee("img",{name:"FileImageIcon"})({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"}),dH=Ee("div",{name:"SettingsFormWrapper"})({display:"flex",flexDirection:"row",position:"absolute",top:"50%",left:"50%",width:"60%",height:600,transform:"translate(-50%, -50%)",backgroundColor:"white",boxShadow:"24px",borderRadius:"8px",padding:8,outline:"none",gap:8,userSelect:"none",minWidth:900}),BIe=Ee("div",{name:"SettingsFormTabs"})({boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",gap:8,flexShrink:1,minWidth:180}),hH=Ee("div",{name:"SettingsFormContent"})({display:"flex",flexGrow:1,width:"100%",gap:8,justifyContent:"center",alignItems:"stretch",minWidth:0});Ee("div",{name:"SettingsFormContentCards"})({display:"flex",gap:8,justifyContent:"center",alignItems:"stretch",width:"100%"});const cR=Ee("div",{name:"SettingsFormCard"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box"}),FIe=Ee("div",{name:"SettingsFormCard2"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),uR=Ee("h3",{name:"StyledH3"})({textAlign:"center",margin:0}),fH=Ee("div",{name:"SettingsFormCardLib"})({display:"flex",flexDirection:"column",gap:2,height:"100%"});Ee(Gl,{name:"StyledCheckbox"})({});const Cm=Ee(ws,{name:"StyledButton"})({minHeight:64}),Hw=Ee("div",{name:"SettingsFormCardContent"})({overflowY:"auto",height:"100%",display:"flex",flexDirection:"column",gap:16,whiteSpace:"nowrap"}),jIe=Ee("textarea")({flexGrow:1,whiteSpace:"pre",resize:"none",overflow:"auto"});class VIe extends qt{constructor(t){super(),this.ctx=t,this._currentTab="projectSettings",this.onModalClose=(n,r)=>{this.showProjectSettingsTab&&this.ctx.app.mainMenuVisible.setFalse()},this.onProjectSettingsTabSelected=n=>{this._currentTab="projectSettings"},this.onProjectSelectionTabSelected=n=>{this._currentTab="projectSelection"},this.onAccountTabSelected=n=>{this._currentTab="account"},this.onLogoutButtonClick=n=>{this.ctx.app.accountSettings.logout()},this.onExportButtonClick=()=>{this.ctx.app.currentProject?.export()},this.showEmbedIframeCode=()=>{const n=this.ctx.app.currentProject;if(!n)return;const r=`<iframe width="100%" height="100%" src="${SP(n)}" title="${n.name}"></iframe>`;prompt("Код для вставки",r)},Rt(this,{_currentTab:Be.ref,onModalClose:_e,onAccountTabSelected:_e,onProjectSelectionTabSelected:_e,onProjectSettingsTabSelected:_e,onLogoutButtonClick:_e})}get currentTab(){const{_currentTab:t}=this;return this.showProjectSettingsTab||t!=="projectSettings"?t:"projectSelection"}get showProjectSettingsTab(){return!!this.ctx.app.currentProject}get libCount(){return this.ctx.app.accountSettings.libraryCount}get libLimit(){return this.ctx.app.accountSettings.libraryLimit}get projectCount(){return this.ctx.app.accountSettings.projectCount}get projectLimit(){return this.ctx.app.accountSettings.projectLimit}get isModalOpen(){return this.ctx.app.mainMenuVisible.isTrue}get profileName(){return this.ctx.app.accountSettings.profileName}}class $Ie extends qt{constructor(t){super(),this.ctx=t,this.onRecursiveSearchCheckboxChange=(n,r)=>{this.m.setRecursiveKlassSearch(r)},this.onAddSubProjectButtonClick=()=>{this.ctx.app.subProjectSelectorVisible.setTrue(),this.ctx.app.subProjectSelector.root.fetchChildren()}}get recursiveSearchCheckboxChecked(){return this.m.recursiveKlassSearch}get projectItems(){const{app:t}=this.ctx,n=this.m.projectFile.parent.path;return this.m.subProjects.map(r=>({key:r.id,primaryText:r.name,secondaryText:yP(r.config.filepath||"",n),onClick:t.openSubProject.bind(t,r),onDeleteButtonClick:r.remove.bind(r)}))}}class zIe extends qt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{}}get itemId(){return"lib_"+this.m.id}get label(){return this.m.name}}class UIe extends qt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDoubleClick=n=>{n.stopPropagation(),this.m.select()},this.onDragStart=n=>{}}get itemId(){return"prj_"+this.m.id.toString()}get label(){const{m:t}=this;return t.name}}class pH extends qt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{},this.onDragOver=n=>{},this.onDragLeave=n=>{},this.onDrop=n=>{}}get itemId(){return"dir_"+this.m.id.toString()}get label(){return this.m.name}get canExpand(){const{dirs:t,libs:n}=this.m;return!!(t.length||n.length)}get showLoadingIndicator(){return this.m.isChildrenFetching}}class HIe extends qt{constructor(){super(),this.expandedItems=[],this.selectedItem=null,this.onSelectedItemsChange=(t,n)=>{this.selectedItem=n,!(t?.type!=="keydown"||!n||!n.startsWith("prj_"))&&t.target.dispatchEvent(new MouseEvent("dblclick",{bubbles:!0}))},this.onCreateProjectButtonClick=()=>{const{selectedItem:t}=this;let n=this.m.root;if(t?.startsWith("dir_")){const r=parseInt(t.slice(4)),i=r&&this.m.getDirById(r);i&&(n=i)}this.m.createNewProject(n)},this.onExpandedItemsChange=(t,n)=>{this.expandedItems=n;for(const r of n)this.m.getDirById(parseInt(r.slice(4)))?.fetchChildren()},Rt(this,{expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:_e,onSelectedItemsChange:_e})}get isProjectCreationInProgress(){return this.m.isProjectCreationInProgress}get createProjectButtonDisabled(){return!1}}const GIe=Wt(UIe)(({vm:e})=>x.jsx(Pu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:iOe},onDoubleClick:e.onDoubleClick})),WIe=Wt(zIe)(({vm:e,m:t})=>t.selector.libsMode?x.jsx(Pu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:EU}}):null);function KIe(){return x.jsx(xf,{size:32,sx:{color:Ll[500],position:"absolute",top:-2,left:-2,zIndex:1}})}const gH=Wt(pH)(({m:e})=>x.jsxs(x.Fragment,{children:[e.dirs.map(t=>x.jsx(qIe,{m:t},t.id)),e.projects.map(t=>x.jsx(GIe,{m:t},t.id)),e.libs.map(t=>x.jsx(WIe,{m:t},t.id))]})),qIe=Wt(pH)(({vm:e,m:t})=>x.jsx(Pu,{slotProps:{groupTransition:{enter:!1,exit:!1}},itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[e.label,e.showLoadingIndicator&&x.jsx(KIe,{})]}),draggable:e.draggable,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,children:x.jsx(gH,{m:t})})),mH=Wt(HIe)(({vm:e,m:t,hidden:n})=>x.jsx(cR,{hidden:n,children:x.jsxs(fH,{children:[x.jsx(Hw,{children:x.jsx(oR,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(gH,{m:t.root})})}),x.jsx(ws,{fullWidth:!0,variant:"contained",startIcon:x.jsx(qO,{}),loadingPosition:"start",loading:e.isProjectCreationInProgress,disabled:e.createProjectButtonDisabled,onClick:e.onCreateProjectButtonClick,children:"Создать новый проект"})]})})),YIe=ho()(({vm:e})=>x.jsx(Rc,{control:x.jsx(Gl,{checked:e.recursiveSearchCheckboxChecked,onChange:e.onRecursiveSearchCheckboxChange}),label:"Рекурсивный поиск"})),XIe=Wt($Ie)(({vm:e,m:t,hidden:n})=>n?null:x.jsxs(x.Fragment,{children:[x.jsx(cR,{children:x.jsxs(fH,{children:[x.jsx(uR,{children:"Библиотеки"}),x.jsx(Hw,{children:t.libs.map(r=>x.jsx("div",{children:r.name},r.id))}),x.jsx(YIe,{})]})}),x.jsxs(FIe,{children:[x.jsx(uR,{children:"Проекты"}),x.jsx(Hw,{children:x.jsx(Uz,{dense:!0,children:e.projectItems.map(r=>x.jsx(U1e,{secondaryAction:x.jsx($n,{onClick:r.onDeleteButtonClick,edge:"end",children:x.jsx(kw,{})}),children:x.jsx(L1e,{onClick:r.onClick,children:x.jsx(Wz,{primary:r.primaryText,secondary:r.secondaryText})})},r.key))})}),x.jsx(ws,{onClick:e.onAddSubProjectButtonClick,variant:"contained",startIcon:x.jsx(qO,{}),children:"Подключить проект"})]}),x.jsxs(cR,{children:[x.jsx(uR,{children:"Плагины"}),x.jsx(Hw,{children:t.plugins.map(r=>x.jsx("div",{children:r},r))})]})]})),ZIe=Ee(ws,{name:"EMainMenuFormViewAccountLogoutButton"})({alignSelf:"center"}),QIe=ho()(({vm:e,hidden:t})=>{if(t)return null;const{projectCount:n,projectLimit:r,libCount:i,libLimit:o,profileName:s}=e;return x.jsxs(x.Fragment,{children:[x.jsxs(zo,{sx:{display:"flex",flexDirection:"column"},children:[x.jsx("h1",{children:s}),x.jsxs("h2",{children:["Проектов: ",n," (макс: ",r,")"]}),x.jsxs("h2",{children:["Библиотек: ",i," (макс: ",o,")"]})]}),x.jsx(ZIe,{size:"large",color:"error",variant:"contained",onClick:e.onLogoutButtonClick,children:"Выйти из аккаунта"})]})}),JIe=ho()(({vm:e})=>{const{currentTab:t}=e,{currentProject:n,projectSelector:r}=e.ctx.app;return x.jsxs(x.Fragment,{children:[n&&x.jsx(XIe,{m:n,hidden:t!=="projectSettings"}),x.jsx(mH,{m:r,hidden:t!=="projectSelection"}),x.jsx(QIe,{hidden:t!=="account"})]})}),eke=Wt(VIe)(({vm:e})=>x.jsx(Sw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:yw},slotProps:{backdrop:{timeout:500}},children:x.jsx(im,{in:e.isModalOpen,children:x.jsxs(dH,{children:[x.jsxs(BIe,{children:[e.showProjectSettingsTab&&x.jsx(Cm,{onClick:e.onProjectSettingsTabSelected,variant:e.currentTab==="projectSettings"?"contained":"outlined",children:"Настройки проекта"}),x.jsx(Cm,{onClick:e.onProjectSelectionTabSelected,variant:e.currentTab==="projectSelection"?"contained":"outlined",children:"Выбор проекта"}),x.jsx(Cm,{onClick:e.onAccountTabSelected,variant:e.currentTab==="account"?"contained":"outlined",children:"Аккаунт"}),e.showProjectSettingsTab&&x.jsx(Cm,{onClick:e.onExportButtonClick,variant:"outlined",children:"Скачать проект в ZIP"}),e.showProjectSettingsTab&&x.jsx(Cm,{onClick:e.showEmbedIframeCode,variant:"outlined",children:"Получить код для встраивания"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/docs",children:"Документация"}),x.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/editor/s2k-converter.zip",children:"Загрузить свой проект"})]}),x.jsx(hH,{children:x.jsx(JIe,{})})]})})}));class tke extends qt{get activeEditor(){return this.m.currentTab?.editor||null}}class nke extends qt{constructor(){super()}}class rke extends qt{constructor(){super(),this.optionsMenuOpen=!1,this.propsButtonRef=_.createRef(),this.onResetZoomButtonClick=()=>{this.scene.resetScale()},this.onHideClassesCheckboxChange=(t,n)=>this.scene.setLayers({hideChildren:!n}),this.onShowOtherCheckboxChange=(t,n)=>this.scene.setLayers({hideOther:!n}),this.onShowConnectionsCheckboxChange=(t,n)=>this.scene.setLayers({hideConnections:!n}),this.onSelectUnselectableCheckboxChange=(t,n)=>this.scene.setLayers({selectUnselectable:n}),this.onUndoButtonClick=()=>this.scene.undo(),this.onRedoButtonClick=()=>this.scene.redo(),this.onSelectPrevObjectButtonClick=()=>this.scene.selectNext(!0),this.onSelectNextObjectButtonClick=()=>this.scene.selectNext(),this.onCreateConnectionButtonClick=()=>this.scene.startCreateConnection(),this.onCreateLineButtonClick=()=>this.scene.startCreateLine(),this.onCreateRectButtonClick=()=>this.scene.startCreateRect(),this.onCreateTextButtonClick=()=>this.scene.startCreateText(),this.onCreateInputButtonClick=()=>this.scene.startCreateInput(),this.onCreateButtonButtonClick=()=>this.scene.startCreateButton(),this.onReorderButtonClick=()=>{const{scene:t}=this;t.isInChildReorderMode?t.cancel():t.startReorderChildren()},this.onSceneOptionsButtonClick=()=>{this.optionsMenuOpen=!0},this.onOptionsMenuClose=()=>{this.optionsMenuOpen=!1},Rt(this,{optionsMenuOpen:Be.ref,resetZoomButtonDisabled:mi,onSceneOptionsButtonClick:_e,onOptionsMenuClose:_e})}get scene(){return this.m.scene}get showClassesCheckboxChecked(){return!this.scene.hideChildren}get showConnectionsCheckboxChecked(){return!this.scene.hideConnections}get showOtherCheckboxChecked(){return!this.scene.hideOther}get selectUnselectableCheckboxChecked(){return this.scene.selectUnselectable}get statusCursorX(){return this.scene.lastCursorX.toString()}get statusCursorY(){return this.scene.lastCursorY.toString()}get zoom(){return Math.round(this.scene.viewScale*100).toString()}get resetZoomButtonDisabled(){return this.scene.viewScale===1}get undoButtonDisabled(){return!this.scene.canUndo}get redoButtonDisabled(){return!this.scene.canRedo}get reorderButtonActive(){return this.scene.isInChildReorderMode}get statusText(){return"scene.statusText"}get showSchemaButtons(){return!!this.scene.schema}get showSceneOptionsButton(){const{type:t}=this.m;return t==="fileSceneEditor"||t==="schemaEditor"}}class ike extends qt{get cursorPosition(){const{currentLineNumber:t,currentColumnIndex:n}=this.m;return`Строка: ${t}, столбец: ${n}`}}class oke extends qt{constructor(){super(...arguments),this.onSaveButtonClick=()=>this.m.currentTab?.editor.save?.()}get currentEditor(){return this.m.currentTab?.editor||null}get showSaveButton(){return!!this.m.currentTab?.editor.save}get saveButtonDisabled(){return this.m.currentTab?.editor.isReadonly||!1}}class ske extends qt{constructor(){super(...arguments),this.setSizeVariant=t=>{this.setSceneOptions({...this.options,size:t==="content"?{type:"content"}:t==="fixed"?{type:"fixed",width:100,height:100}:null})},this.setWidth=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:r,height:n.height}})},this.setHeight=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:n.width,height:r}})},this.setPopup=(t,n)=>{this.setSceneOptions({...this.options,popup:n})},this.setFixed=(t,n)=>{this.setSceneOptions({...this.options,fixed:n})},this.setVScroll=(t,n)=>{this.setSceneOptions({...this.options,vscroll:n})},this.setHScroll=(t,n)=>{this.setSceneOptions({...this.options,hscroll:n})},this.seAutoOrg=(t,n)=>{this.setSceneOptions({...this.options,autoorg:n})},this.seAutoScroll=(t,n)=>{this.setSceneOptions({...this.options,autoscroll:n})}}get anchorEl(){return this.parent.propsButtonRef.current}get options(){const{m:t}=this.parent,{type:n}=t;return(n==="fileSceneEditor"?t.fileScene.data:n==="schemaEditor"?t.klass.scene:null)?.options||null}setSceneOptions(t){const{m:n}=this.parent,{type:r}=n;if(r==="fileSceneEditor"){const i={...n.fileScene.data};n.fileScene.setData({...i,options:t})}else if(r==="schemaEditor"){const i={...n.klass.scene};n.klass.set({scene:{...i,options:t}})}}get sizeVariant(){return this.options?.size?.type||"null"}get width(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get height(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get popup(){return this.options?.popup||!1}get fixed(){return this.options?.fixed||!1}get vscroll(){return this.options?.vscroll||!1}get hscroll(){return this.options?.hscroll||!1}get autoorg(){return this.options?.autoorg||!1}get autoScroll(){return this.options?.autoscroll||!1}}const dR=Ee("div",{name:"ESceneObjectViewEditors"})({boxSizing:"border-box",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",minWidth:0,padding:4,gap:8}),ake=Ee(Gi)({cursor:"pointer",textDecoration:"underline"}),lke=Ee("button")({backgroundColor:"transparent",border:"none",margin:0,padding:0}),cke=Ee("div",{name:"ESceneObjectViewToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"center",paddingLeft:4}),uke=Ee(Wl,{name:"ZValueIndicator"})({maxWidth:"25%",pointerEvents:"none","& input":{textAlign:"center"}});function vH({children:e,visible:t}){return t?x.jsx(om,{badgeContent:"+",children:e}):e}const dke=Ee("div",{name:"ESceneView"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden"}),hke=Ee(Bz,{name:"RichTextEditorView"})({paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,marginLeft:6,marginRight:6,"& .public-DraftEditor-content":{whiteSpace:Xye("pre")}}),fke=Ee("form")({width:"100%"}),pke=Ee("div",{name:"ESceneLineBrushImageView",shouldForwardProp:e=>e!=="dashed"})(({dashed:e})=>({display:"flex",flexDirection:"column",alignItems:"center",borderWidth:2,borderRadius:2,borderStyle:"dashed",...e&&{borderColor:"green"},backgroundColor:"#fafafa",color:"#bdbdbd",cursor:"pointer","*":{pointerEvents:"none"}})),gke=Ee("input",{name:"ESceneLineBrushImageView",slot:"input"})({display:"none"}),mke=Ee("img",{name:"ESceneLineBrushImageView",slot:"image"})({maxWidth:"100%",maxHeight:"100%",padding:2});function vke(){return x.jsx(Gi,{p:4,component:"p",children:"Выберите или перетащите изображение"})}function yH(e){return parseFloat(e)||0}function bH(e){return Math.max(parseFloat(e)||1,1)}class yke extends qt{constructor(){super(...arguments),this.setX=t=>this.m.set({x:yH(t)}),this.setY=t=>this.m.set({y:yH(t)})}get x(){return _d(this.m.x)}get y(){return _d(this.m.y)}}class bke extends qt{constructor(){super(...arguments),this.setW=t=>this.m.set({width:bH(t)}),this.setH=t=>this.m.set({height:bH(t)})}get w(){return _d(this.m.width)}get h(){return _d(this.m.height)}}class wke extends qt{constructor(){super(...arguments),this.setValue=t=>this.m.setAngle(Bp(parseFloat(t)||0))}get value(){return _d(A0(this.m.angle))}}class Ske extends qt{constructor(){super(...arguments),this.setValue=t=>this.m.rotate(Bp(parseFloat(t)||0))}}class Cke extends qt{constructor(){super(...arguments),this.setValue=t=>this.m.set({name:t})}get value(){return this.m.name}}class xke extends qt{constructor(){super(...arguments),this.setValue=(t,n)=>this.m.set({isUnselectable:n})}get value(){return this.m.isUnselectable}}class _ke extends qt{constructor(){super(...arguments),this.setValue=t=>this.m.set({layer:parseInt(t.target.value)})}get options(){return this.m.layerRange}get value(){return this.m.layer}}const Eke=parseInt(_.version,10),pn=e=>{if(Eke>=19){const t=n=>e(n,n.ref??null);return t.displayName=e.displayName??e.name,t}return _.forwardRef(e)},Kr=At,wH=Kr(x.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),SH=Kr(x.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),CH=Kr(x.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),xH=Kr(x.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Tke=Kr(x.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),_H=Kr(x.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})),Mke=Kr(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}));Kr(x.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})),Kr(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));const Oke=Kr(x.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),Rke=Kr(x.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"})),Ike=Kr(x.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"})),kke=Kr(x.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"})),Pke=Kr(x.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"})),Dke=Kr(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),EH=Kr(x.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),TH=Kr(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),Ake=Kr(x.jsx("path",{d:"M19 13H5v-2h14v2z"})),Lke=Kr(x.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})),MH=Kr(x.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),OH=Kr(x.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),Nke=Kr(x.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Bke=Kr(x.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),Fke=Kr(x.jsx("g",{children:x.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})})),RH=Kr(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));Kr(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}));const jke=Kr(x.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),Vke=Kr(x.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),IH=_.createContext(void 0),It=()=>{const e=_.useContext(IH);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},$ke=["sortingOrder"],zke=_.memo(function(t){const{sortingOrder:n}=t,r=Tt(t,$ke),i=It(),[o]=n,s=o==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return s?x.jsx(s,W({},r)):null}),kH=_.createContext(void 0);function Rn(){const e=_.useContext(kH);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const Uke=new TextEncoder;let Gw=2*1024,xm=new ArrayBuffer(Gw),hR=new Uint8Array(xm),fh=new Int32Array(xm);const Hke=Gke;function Gke(e){const t=e.length*2;t>Gw&&(Gw=t+(4-t%4),xm=new ArrayBuffer(Gw),hR=new Uint8Array(xm),fh=new Int32Array(xm));const n=Uke.encodeInto(e,hR).written,r=0,i=n|0;let o=0,s=(r+i|0)+374761393|0;if(i<16)for(;(o+3|0)<i;o=o+4|0)s=Math.imul(sl(s+Math.imul(fh[o]|0,3266489917)|0,17)|0,668265263);else{let a=r+606290984|0,c=r+2246822519|0,u=r,h=r-2654435761|0;for(;(o+15|0)<i;o=o+16|0)a=Math.imul(sl(a+Math.imul(fh[o+0|0]|0,2246822519)|0,13)|0,2654435761),c=Math.imul(sl(c+Math.imul(fh[o+4|0]|0,2246822519)|0,13)|0,2654435761),u=Math.imul(sl(u+Math.imul(fh[o+8|0]|0,2246822519)|0,13)|0,2654435761),h=Math.imul(sl(h+Math.imul(fh[o+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((sl(a,1)|0+sl(c,7)|0)+sl(u,12)|0)+sl(h,18)|0)+i|0;(o+3|0)<i;o=o+4|0)s=Math.imul(sl(s+Math.imul(fh[o]|0,3266489917)|0,17)|0,668265263)}for(;o<i;o=o+1|0)s=Math.imul(sl(s+Math.imul(hR[o]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function sl(e,t){return e<<t|e>>>32-t}const PH={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{const t=PH.values;return`@media (min-width:${typeof t[e]=="number"?t[e]:e}px)`}},DH={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},Wke=AH(DH),Pt=W({breakpoints:PH,spacing:Kke,transition:qke,keys:DH},Wke);function Kke(e,t,n,r){return e===void 0?al(1):t===void 0?al(e):n===void 0?al(e)+" "+al(t):r===void 0?al(e)+" "+al(t)+" "+al(n):al(e)+" "+al(t)+" "+al(n)+" "+al(r)}function al(e){return e===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${e})`}function qke(e,t){const{duration:n=Pt.transitions.duration.base,easing:r=Pt.transitions.easing.easeInOut,delay:i=0}=t??{};return e.map(o=>`${o} ${n} ${r} ${i}ms`).join(", ")}function AH(e){if(typeof e=="string")return`var(${e})`;const t={};for(const n in e)Object.hasOwn(e,n)&&(t[n]=AH(e[n]));return t}function Yke(){const e=$l();return _.useMemo(()=>{const t=Hke(ePe(e)),n=Xke(e);return{id:t,variables:n}},[e])}function Xke(e){const t=Qke(e),n=(e.vars||e).palette.DataGrid,r=n?.bg??(e.vars||e).palette.background.default,i=n?.headerBg??r,o=n?.pinnedBg??r,s=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Sa(e.palette.background.default,e.palette.action.disabledOpacity),a=e.palette.mode==="dark"?`color-mix(in srgb, ${(e.vars||e).palette.background.paper} 95%, #fff)`:(e.vars||e).palette.background.paper,c=e.vars?`rgb(${e.vars.palette.primary.mainChannel})`:e.palette.primary.main,u=Zke(e),h=e.vars?.font?.body2??fR(e.typography.body2),f=e.vars?.font?.caption??fR(e.typography.caption),g=e.vars?.font?.body1??fR(e.typography.body1),m=Pt.keys;return{[m.spacingUnit]:e.vars?e.vars.spacing??e.spacing(1):e.spacing(1),[m.colors.border.base]:t,[m.colors.background.base]:r,[m.colors.background.overlay]:a,[m.colors.background.backdrop]:s,[m.colors.foreground.base]:(e.vars||e).palette.text.primary,[m.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[m.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[m.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[m.colors.foreground.error]:(e.vars||e).palette.error.dark,[m.colors.interactive.hover]:(e.vars||e).palette.action.hover,[m.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[m.colors.interactive.focus]:LH((e.vars||e).palette.primary.main),[m.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[m.colors.interactive.disabled]:LH((e.vars||e).palette.action.disabled),[m.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[m.colors.interactive.selected]:c,[m.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[m.header.background.base]:i,[m.cell.background.pinned]:o,[m.radius.base]:u,[m.typography.fontFamily.base]:e.typography.fontFamily,[m.typography.fontWeight.light]:e.typography.fontWeightLight,[m.typography.fontWeight.regular]:e.typography.fontWeightRegular,[m.typography.fontWeight.medium]:e.typography.fontWeightMedium,[m.typography.fontWeight.bold]:e.typography.fontWeightBold,[m.typography.font.body]:h,[m.typography.font.small]:f,[m.typography.font.large]:g,[m.transitions.easing.easeIn]:e.transitions.easing.easeIn,[m.transitions.easing.easeOut]:e.transitions.easing.easeOut,[m.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[m.transitions.duration.short]:`${e.transitions.duration.shorter}ms`,[m.transitions.duration.base]:`${e.transitions.duration.short}ms`,[m.transitions.duration.long]:`${e.transitions.duration.standard}ms`,[m.shadows.base]:(e.vars||e).shadows[2],[m.shadows.overlay]:(e.vars||e).shadows[8],[m.zIndex.panel]:(e.vars||e).zIndex.modal,[m.zIndex.menu]:(e.vars||e).zIndex.modal}}function Zke(e){return e.vars?e.vars.shape.borderRadius:typeof e.shape.borderRadius=="number"?`${e.shape.borderRadius}px`:e.shape.borderRadius}function Qke(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Wg(Sa(e.palette.divider,1),.88):Gg(Sa(e.palette.divider,1),.68)}function Jke(e,t){return`rgba(from ${e} r g b / ${t})`}function LH(e){return Jke(e,1)}function fR(e){if(e)return`${e.fontWeight} ${e.fontSize} / ${e.lineHeight} ${e.fontFamily}`}function ePe(e){const t=new WeakSet;return JSON.stringify(e,(n,r)=>{if(typeof window<"u"&&r===window||typeof document<"u"&&r===document)return r.toString();if(r!==null&&typeof r=="object"){if(_.isValidElement(r)||t.has(r))return null;t.add(r)}return r})}const tPe=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],nPe=["onRowsPerPageChange","material","disabled"],rPe=["material"],iPe=["autoFocus","label","fullWidth","slotProps","className","material"],oPe=["material"],sPe=["material"],aPe=["material"],lPe=["material"],cPe=["material"],uPe=["material"],dPe=["material"],hPe=["material"],fPe=["material","label","className"],pPe=["material"],gPe=["inert","iconStart","iconEnd","children","material"],mPe=["slotProps","material"],vPe=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],yPe=["key"],bPe=["inputProps","InputProps","InputLabelProps"],wPe=["slotProps","material"],SPe=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],CPe=["native"],NH=Ee(f1e)(({theme:e})=>({[`&.${DO.positionEnd} .${uO.sizeSmall}`]:{marginRight:e.spacing(-.75)}})),BH=Ee(Rc,{shouldForwardProp:e=>e!=="fullWidth"})(({theme:e})=>({gap:e.spacing(.5),margin:0,overflow:"hidden",[`& .${Of.label}`]:{fontSize:e.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),FH=Ee(Gl,{shouldForwardProp:e=>e!=="density"})(({theme:e})=>({variants:[{props:{density:"compact"},style:{padding:e.spacing(.5)}}]})),xPe=Ee(Wz)({[`& .${lh.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),_Pe=pn(function(t,n){const{id:r,label:i,labelId:o,material:s,disabled:a,slotProps:c,onChange:u,onKeyDown:h,onOpen:f,onClose:g,size:m,style:y,fullWidth:b}=t,v=Tt(t,tPe),S={PaperProps:{onKeyDown:h}};return g&&(S.onClose=g),x.jsxs(xw,{size:m,fullWidth:b,style:y,disabled:a,ref:n,children:[x.jsx(zz,{id:o,htmlFor:r,shrink:!0,variant:"outlined",children:i}),x.jsx(Mw,W({id:r,labelId:o,label:i,displayEmpty:!0,onChange:u,variant:"outlined"},v,{notched:!0,inputProps:c?.htmlInput,onOpen:f,MenuProps:S,size:m},s))]})}),EPe=Ee(MMe)(({theme:e})=>({[`& .${ch.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${ch.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),TPe=pn(function(t,n){const{onRowsPerPageChange:r,material:i,disabled:o}=t,s=Tt(t,nPe),a=_.useMemo(()=>{if(o)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[o]),c=Rn(),u=It(),{estimatedRowCount:h}=u;return x.jsx(EPe,W({component:"div",onRowsPerPageChange:Jt(f=>{r?.(Number(f.target.value))}),labelRowsPerPage:c.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:f=>c.current.getLocaleText("paginationDisplayedRows")(W({},f,{estimated:h})),getItemAriaLabel:c.current.getLocaleText("paginationItemAriaLabel")},a,s,i,{ref:n}))}),MPe=pn(function(t,n){const{material:r}=t,i=Tt(t,rPe);return x.jsx(om,W({},i,r,{ref:n}))}),OPe=pn(function(t,n){const{autoFocus:r,label:i,fullWidth:o,slotProps:s,className:a,material:c}=t,u=Tt(t,iPe),h=_.useRef(null),f=qn(h,n),g=_.useRef(null);return _.useEffect(()=>{r?h.current?.querySelector("input")?.focus({preventScroll:!0}):r===!1&&g.current&&g.current.stop({})},[r]),i?x.jsx(BH,{className:a,control:x.jsx(FH,W({},u,c,{inputProps:s?.htmlInput,ref:f,touchRippleRef:g})),label:i,fullWidth:o}):x.jsx(FH,W({},u,c,{className:tt(a,c?.className),inputProps:s?.htmlInput,ref:f,touchRippleRef:g}))}),RPe=pn(function(t,n){const{material:r}=t,i=Tt(t,oPe);return x.jsx(xf,W({},i,r,{ref:n}))}),IPe=pn(function(t,n){const{material:r}=t,i=Tt(t,sPe);return x.jsx(am,W({},i,r,{ref:n}))}),kPe=pn(function(t,n){const{material:r}=t,i=Tt(t,aPe);return x.jsx(T1e,W({},i,r,{ref:n}))}),PPe=pn(function(t,n){const{material:r}=t,i=Tt(t,lPe);return x.jsx(ws,W({},i,r,{ref:n}))}),DPe=pn(function(t,n){const{material:r}=t,i=Tt(t,cPe);return x.jsx(xO,W({},i,r,{ref:n}))}),APe=pn(function(t,n){const{material:r}=t,i=Tt(t,uPe);return x.jsx($n,W({},i,r,{ref:n}))}),LPe=pn(function(t,n){const{material:r}=t,i=Tt(t,dPe);return x.jsx(Yn,W({},i,r,{ref:n}))}),NPe=pn(function(t,n){const{material:r}=t,i=Tt(t,hPe);return x.jsx(VTe,W({},i,r,{ref:n}))}),BPe=pn(function(t,n){const{material:r,label:i,className:o}=t,s=Tt(t,fPe);return i?x.jsx(BH,{className:o,control:x.jsx(aU,W({},s,r,{ref:n})),label:i}):x.jsx(aU,W({},s,r,{className:o,ref:n}))}),FPe=pn(function(t,n){const{material:r}=t,i=Tt(t,pPe);return x.jsx(Yz,W({},i,r,{ref:n}))});function jPe(e){const{inert:t,iconStart:n,iconEnd:r,children:i,material:o}=e,s=Tt(e,gPe);return t&&(s.disableRipple=!0),_.createElement(Ss,W({},s,o),[n&&x.jsx(_w,{children:n},"1"),x.jsx(xPe,{children:i},"2"),r&&x.jsx(_w,{children:r},"3")])}function VPe(e){const{slotProps:t,material:n}=e,r=Tt(e,mPe);return x.jsx(Wl,W({variant:"outlined"},r,n,{inputProps:t?.htmlInput,InputProps:pR(t?.input),InputLabelProps:W({shrink:!0},t?.inputLabel)}))}function $Pe(e){const t=It(),{id:n,multiple:r,freeSolo:i,options:o,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:u,label:h,placeholder:f,slotProps:g,material:m}=e,y=Tt(e,vPe);return x.jsx(xz,W({id:n,multiple:r,freeSolo:i,options:o,getOptionLabel:s,isOptionEqualToValue:a,value:c,onChange:u,renderTags:(b,v)=>b.map((S,E)=>{const T=v({index:E}),{key:R}=T,M=Tt(T,yPe);return x.jsx(xO,W({variant:"outlined",size:"small",label:typeof S=="string"?S:s?.(S)},M),R)}),renderInput:b=>{const{inputProps:v,InputProps:S,InputLabelProps:E}=b,T=Tt(b,bPe);return x.jsx(Wl,W({},T,{label:h,placeholder:f,inputProps:v,InputProps:pR(S,!1),InputLabelProps:W({shrink:!0},E)},g?.textField,t.slotProps?.baseTextField))}},y,m))}function zPe(e){return x.jsx(rm,W({},pR(e)))}function pR(e,t=!0){if(!e)return;const{slotProps:n,material:r}=e,o=Tt(e,wPe);t&&(o.startAdornment&&(o.startAdornment=x.jsx(NH,{position:"start",children:o.startAdornment})),o.endAdornment&&(o.endAdornment=x.jsx(NH,{position:"end",children:o.endAdornment})));for(const s in r)Object.hasOwn(r,s)&&(o[s]=r[s]);return n?.htmlInput&&(o.inputProps?o.inputProps=W({},o.inputProps,n?.htmlInput):o.inputProps=n?.htmlInput),o}const UPe={"bottom-start":"top left","bottom-end":"top right"};function HPe(e){const{open:t,children:n,className:r,flip:i,onExited:o,onDidShow:s,onDidHide:a,id:c,target:u,transition:h,placement:f,material:g}=e,m=Tt(e,SPe),y=_.useMemo(()=>{const v=[{name:"preventOverflow",options:{padding:8}}];return i&&v.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||a)&&v.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s?.()},effect:()=>()=>{a?.()}}),v},[i,s,a]);let b;if(!h)b=jH(e,n);else{const v=S=>E=>{S&&S(),o&&o(E)};b=S=>jH(e,x.jsx(cm,W({},S.TransitionProps,{style:{transformOrigin:UPe[S.placement]},onExited:v(S.TransitionProps?.onExited),children:x.jsx(rh,{children:n})})))}return x.jsx(nm,W({id:c,className:r,open:t,anchorEl:u,transition:h,placement:f,modifiers:y},m,g,{children:b}))}function jH(e,t){return WPe(e,GPe(e,t))}function GPe(e,t){return e.onClickAway===void 0?t:x.jsx(Z_e,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function WPe(e,t){return e.focusTrap===void 0?t:x.jsx(Dz,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:x.jsx("div",{tabIndex:-1,children:t})})}function KPe(e){let{native:t}=e,n=Tt(e,CPe);return t?x.jsx("option",W({},n)):x.jsx(Ss,W({},n))}const qPe=W({},{baseAutocomplete:$Pe,baseBadge:MPe,baseCheckbox:OPe,baseChip:DPe,baseCircularProgress:RPe,baseDivider:IPe,baseInput:zPe,baseLinearProgress:kPe,baseMenuList:FPe,baseMenuItem:jPe,baseTextField:VPe,baseButton:PPe,baseIconButton:APe,baseTooltip:LPe,basePagination:TPe,basePopper:HPe,baseSelect:_Pe,baseSelectOption:KPe,baseSkeleton:NPe,baseSwitch:BPe},{booleanCellTrueIcon:OH,booleanCellFalseIcon:EH,columnMenuIcon:Dke,openFilterButtonIcon:Tke,filterPanelDeleteIcon:EH,columnFilteredIcon:_H,columnSelectorIcon:Oke,columnUnsortedIcon:zke,columnSortedAscendingIcon:wH,columnSortedDescendingIcon:SH,columnResizeIcon:Rke,densityCompactIcon:Ike,densityStandardIcon:kke,densityComfortableIcon:Pke,exportIcon:Vke,moreActionsIcon:Nke,treeDataCollapseIcon:xH,treeDataExpandIcon:CH,groupingCriteriaCollapseIcon:xH,groupingCriteriaExpandIcon:CH,detailPanelExpandIcon:TH,detailPanelCollapseIcon:Ake,rowReorderIcon:MH,quickFilterIcon:Mke,quickFilterClearIcon:RH,columnMenuHideIcon:Bke,columnMenuSortAscendingIcon:wH,columnMenuSortDescendingIcon:SH,columnMenuUnsortIcon:null,columnMenuFilterIcon:_H,columnMenuManageColumnsIcon:Fke,columnMenuClearIcon:RH,loadIcon:Lke,filterPanelAddIcon:TH,filterPanelRemoveAllIcon:jke,columnReorderIcon:MH,menuItemCheckIcon:OH}),YPe=()=>_.useRef(null),Ht=(...e)=>{const t=rr(...e);return(r,i,o,s)=>t(gR(r),i,o,s)},ur=(...e)=>{const t=If(...e);return(r,i,o,s)=>t(gR(r),i,o,s)},ni=e=>(t,n)=>e(gR(t),n);function gR(e){return"current"in e?e.current.state:e}const Si=ni(e=>e.dimensions),mR=Ht(Si,e=>e.columnsTotalWidth),XPe=Ht(Si,e=>e.rowHeight);Ht(Si,e=>e.contentSize.height);const ZPe=Ht(Si,e=>e.hasScrollX),QPe=Ht(Si,e=>e.hasScrollY),VH=Ht(Si,e=>e.columnsTotalWidth<e.viewportOuterSize.width),JPe=Ht(Si,e=>e.headerHeight),eDe=Ht(Si,e=>e.groupHeaderHeight);Ht(Si,e=>e.headerFilterHeight);const tDe=Ht(Si,e=>e.hasScrollX?e.scrollbarSize:0),$H=Ht(Si,e=>e.hasScrollY?e.scrollbarSize:0),nDe=Ht(Si,tDe,(e,t)=>{const n=e.viewportOuterSize.height-e.minimumSize.height>0;return!(t===0&&!n)}),vR=ni(e=>e.rowsMeta),ll=ni(e=>e.rows),Df=Ht(ll,e=>e.totalRowCount),rDe=Ht(ll,e=>e.loading),iDe=Ht(ll,e=>e.totalTopLevelRowCount),Ra=Ht(ll,e=>e.dataRowIdToModelLookup);Ht(Ra,(e,t)=>e[t]);const Io=Ht(ll,e=>e.tree),Kl=Ht(Io,(e,t)=>e[t]),oDe=Ht(ll,e=>e.groupsToFetch),sDe=Ht(ll,e=>e.groupingName),zH=Ht(ll,e=>e.treeDepths),_m=ur(ll,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:(t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]??0)+1}),ph=Ht(ll,e=>e.dataRowIds),aDe=ur(ph,Ra,(e,t)=>e.reduce((n,r)=>(t[r]&&n.push(t[r]),n),[])),lDe=Ht(ll,e=>e?.additionalRowGroups),Em=ur(lDe,e=>{const t=e?.pinnedRows;return{bottom:t?.bottom?.map(n=>({id:n.id,model:n.model??{}}))??[],top:t?.top?.map(n=>({id:n.id,model:n.model??{}}))??[]}}),UH=Ht(Em,e=>(e?.top?.length||0)+(e?.bottom?.length||0)),fo="auto-generated-group-node-root",gh=Symbol("mui.id_autogenerated"),cDe=()=>({type:"group",id:fo,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function uDe(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const Ww=(e,t,n)=>{const r=t?t(e):e.id;return uDe(r,e,n),r},dDe=(e,t,n)=>{const r=t.field;if(!t||!t.valueGetter)return e[r];const i=e[t.field];return t.valueGetter(i,e,t,n)},Kw=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const i={type:"full",rows:[]},o={};for(let s=0;s<e.length;s+=1){const a=e[s],c=Ww(a,t);o[c]=a,i.rows.push(c)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:i,dataRowIdToModelLookup:o}},HH=({tree:e,rowCountProp:t=0})=>{const n=e[fo];return Math.max(t,n.children.length+(n.footerId==null?0:1))},GH=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:r,previousTreeDepths:i,previousGroupsToFetch:o})=>{const s=e.current.caches.rows,{tree:a,treeDepths:c,dataRowIds:u,groupingName:h,groupsToFetch:f=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:i,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:o}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:c,dataRowIds:u,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},W({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:HH({tree:g.tree,rowCountProp:t}),groupingName:h,loading:n,groupsToFetch:f})},WH=e=>gh in e,Af=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,yR=(e,t,n,r)=>{const i=e[t];if(i.type!=="group")return[];const o=[];for(let s=0;s<i.children.length;s+=1){const a=i.children[s];if((!n||!Af(e[a]))&&o.push(a),r)continue;const c=yR(e,a,n,r);for(let u=0;u<c.length;u+=1)o.push(c[u])}return!n&&i.footerId!=null&&o.push(i.footerId),o},KH=({previousCache:e,getRowId:t,updates:n,groupKeys:r})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const i=new Map;n.forEach(u=>{const h=Ww(u,t,"A row was provided without id when calling updateRows():");i.has(h)?i.set(h,W({},i.get(h),u)):i.set(h,u)});const o={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:W({},e.updates.idToActionLookup),groupKeys:r},s=W({},e.dataRowIdToModelLookup),a={insert:{},modify:{},remove:{}};i.forEach((u,h)=>{const f=o.idToActionLookup[h];if(u._action==="delete"){if(f==="remove"||!s[h])return;f!=null&&(a[f][h]=!0),o.actions.remove.push(h),delete s[h];return}const g=s[h];if(g){f==="remove"?(a.remove[h]=!0,o.actions.modify.push(h)):f==null&&o.actions.modify.push(h),s[h]=W({},g,u);return}f==="remove"?(a.remove[h]=!0,o.actions.insert.push(h)):f==null&&o.actions.insert.push(h),s[h]=u});const c=Object.keys(a);for(let u=0;u<c.length;u+=1){const h=c[u],f=a[h];Object.keys(f).length>0&&(o.actions[h]=o.actions[h].filter(g=>!f[g]))}return{dataRowIdToModelLookup:s,updates:o,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}},qH="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function YH(e,t,n){const r=[];return t.forEach(i=>{const o=Ww(i,n,"A row was provided without id when calling updateRows():");if(Kl(e,o)?.type==="pinnedRow"){const a=e.current.caches.pinnedRows,c=a.idLookup[o];c&&(a.idLookup[o]=W({},c,i))}else r.push(i)}),r}const XH=(e,t,n)=>typeof e=="number"&&e>0?e:t;function Pc(e){return _.memo(e,cH)}const hDe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:n,estimated:r})=>{if(!r)return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`;const i=r&&r>t?`around ${r}`:`more than ${t}`;return`${e}–${t} of ${n!==-1?n:i}`},paginationItemAriaLabel:e=>e==="first"?"Go to first page":e==="last"?"Go to last page":e==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt…",promptFieldPlaceholderWithRecording:"Type or record a prompt…",promptFieldPlaceholderListening:"Listening for prompt…",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing…",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,n)=>t==="is any of"?`${e} is any of: ${n}`:`${e} ${t} ${n}`,promptChangeFilterDescription:(e,t,n)=>t==="is any of"?`Filter where ${e} is any of: ${n}`:`Filter where ${e} ${t} ${n}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`};function Hn(e){return fn("MuiDataGrid",e)}const ae=cn("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let cl=(function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e})({});const ZH=1e3;class fDe{timeouts=new Map;cleanupTimeout=ZH;constructor(t=ZH){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class pDe{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class bR{static create(){return new bR}}const qw={current:mDe()};let QH=0;function jt(e,t,n,r){const i=_.useState(bR.create)[0],o=_.useRef(null),s=_.useRef(null);s.current=n;const a=_.useRef(null);if(!o.current&&s.current){const c=(u,h,f)=>{h.defaultMuiPrevented||s.current?.(u,h,f)};o.current=e.current.subscribeEvent(t,c,r),QH+=1,a.current={cleanupToken:QH},qw.current.register(i,()=>{o.current?.(),o.current=null,a.current=null},a.current)}else!s.current&&o.current&&(o.current(),o.current=null,a.current&&(qw.current.unregister(a.current),a.current=null));_.useEffect(()=>{if(!o.current&&s.current){const c=(u,h,f)=>{h.defaultMuiPrevented||s.current?.(u,h,f)};o.current=e.current.subscribeEvent(t,c,r)}return a.current&&qw.current&&(qw.current.unregister(a.current),a.current=null),()=>{o.current?.(),o.current=null}},[e,t,r])}const gDe={isFirst:!0};function Nr(e,t,n){jt(e,t,n,gDe)}function mDe(){return typeof FinalizationRegistry<"u"?new pDe:new fDe}const vDe=Object.is,JH=cH,yDe=(e,t)=>e===t?!0:e.length===t.length&&e.every((n,r)=>n===t[r]),bDe=(e,t)=>{let n=Object.is;return t instanceof Array?n=yDe:t instanceof Object&&(n=JH),n(e,t)},wDe=()=>({state:null,equals:null,selector:null,args:void 0}),eG=[],SDe=()=>null;function dt(e,t,n=void 0,r=vDe){const i=zs(wDe),o=i.current.selector!==null,[s,a]=_.useState(o?null:t(e,n));i.current.state=s,i.current.equals=r,i.current.selector=t;const c=i.current.args;if(i.current.args=n,o&&!bDe(c,n)){const f=i.current.selector(e,i.current.args);i.current.equals(i.current.state,f)||(i.current.state=f,a(f))}const u=_.useCallback(()=>(i.current.subscription||(i.current.subscription=e.current.store.subscribe(()=>{const f=i.current.selector(e,i.current.args);i.current.equals(i.current.state,f)||(i.current.state=f,a(f))})),null),eG),h=_.useCallback(()=>(i.current.subscription||u(),()=>{i.current.subscription&&(i.current.subscription(),i.current.subscription=void 0)}),eG);return gM.useSyncExternalStore(h,u,SDe),s}const CDe={compact:.7,comfortable:1.3,standard:1},Lf=ni(e=>e.density),Tm=Ht(Lf,e=>CDe[e]);function ql(e){throw new Error("Failed assertion: should not be rendered")}const xDe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],_De=e=>{const{classes:t}=e;return Et({root:["editInputCell"]},Hn,t)},EDe=Ee(ql,{name:"MuiDataGrid",slot:"EditInputCell"})({font:Pt.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),TDe=pn((e,t)=>{const n=It(),{id:r,value:i,field:o,colDef:s,hasFocus:a,debounceMs:c=200,isProcessingProps:u,onValueChange:h,slotProps:f}=e,g=Tt(e,xDe),m=Rn(),y=_.useRef(null),[b,v]=_.useState(i),S=_De(n),E=_.useCallback(async R=>{const M=R.target.value,I=m.current.getColumn(o);let N=M;I.valueParser&&(N=I.valueParser(M,m.current.getRow(r),I,m)),v(N),m.current.setEditCellValue({id:r,field:o,value:N,debounceMs:c,unstable_skipValueParser:!0},R),h&&await h(R,M)},[m,c,o,r,h]),T=m.current.unstable_getEditCellMeta(r,o);return _.useEffect(()=>{T?.changeReason!=="debouncedSetEditCellValue"&&v(i)},[T,i]),cr(()=>{a&&y.current.focus()},[a]),x.jsx(EDe,W({as:n.slots.baseInput,inputRef:y,className:S.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:b??"",onChange:E,endAdornment:u?x.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g,f?.root,{ref:t}))}),MDe=e=>x.jsx(TDe,W({},e)),tG=(e,t)=>t&&e.length>1?[e[0]]:e,nG=(e,t)=>n=>W({},n,{sorting:W({},n.sorting,{sortModel:tG(e,t)})}),ODe=e=>e==="desc",RDe=(e,t)=>{const n=t.current.getColumn(e.field);if(!n||e.sort===null)return null;let r;return n.getSortComparator?r=n.getSortComparator(e.sort):r=ODe(e.sort)?(...o)=>-1*n.sortComparator(...o):n.sortComparator,r?{getSortCellParams:o=>({id:o,field:n.field,rowNode:Kl(t,o),value:t.current.getCellValue(o,n.field),api:t.current}),comparator:r}:null},IDe=(e,t,n)=>e.reduce((r,i,o)=>{if(r!==0)return r;const s=t.params[o],a=n.params[o];return r=i.comparator(s.value,a.value,s,a),r},0),kDe=(e,t)=>{const n=e.map(r=>RDe(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(i=>({node:i,params:n.map(o=>o.getSortCellParams(i.id))})).sort((i,o)=>IDe(n,i,o)).map(i=>i.node.id)},rG=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},wR=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,PDe=new Intl.Collator,DDe=(e,t)=>{const n=wR(e,t);return n!==null?n:typeof e=="string"?PDe.compare(e.toString(),t.toString()):e-t},iG=(e,t)=>{const n=wR(e,t);return n!==null?n:Number(e)-Number(t)},oG=(e,t)=>{const n=wR(e,t);return n!==null?n:e>t?1:e<t?-1:0},ADe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function Ia(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,tabIndex:s,disabled:a,slotProps:c,clearButton:u,headerFilterMenu:h}=e,f=Tt(e,ADe),g=c?.root,m=vs(),[y,b]=_.useState(SR(t.value)),[v,S]=_.useState(!1),E=er(),T=It(),R=_.useCallback(M=>{const I=SR(M.target.value);b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=W({},t,{value:r==="number"&&!Number.isNaN(Number(I))?Number(I):I,fromInput:E});n(N),S(!1)})},[m,T.filterDebounceMs,t,r,E,n]);return _.useEffect(()=>{(t.fromInput!==E||t.value==null)&&b(SR(t.value))},[E,t]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,W({id:E,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:y??"",onChange:R,type:r||"text",disabled:a,slotProps:W({},g?.slotProps,{input:W({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.slotProps?.input),htmlInput:W({tabIndex:s},g?.slotProps?.htmlInput)}),inputRef:o},T.slotProps?.baseTextField,f,g)),h,u]})}function SR(e){if(!(e==null||e===""))return String(e)}function LDe(e){return typeof e=="number"&&!Number.isNaN(e)}function NDe(e){return typeof e=="function"}function CR(e){return typeof e=="object"&&e!==null}function BDe(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Yw(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const mh=(e,t,n)=>Math.max(t,Math.min(n,e));function FDe(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function jDe(e){const t=FDe(e);return(n,r)=>n+(r-n)*t()}function sG(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const Du=(e,t)=>n=>{e&&t(n)};function aG(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,slotProps:s}=e,a=er(),[c,u]=_.useState([]),[h,f]=_.useState(t.value||[]),g=It();_.useEffect(()=>{const v=t.value??[];f(v.map(String))},[t.value]);const m=_.useCallback((v,S)=>{f(S.map(String)),n(W({},t,{value:[...S.map(E=>r==="number"?Number(E):E)]}))},[n,t,r]),y=_.useCallback((v,S)=>{u(S===""?[]:[S])},[u]),b=g.slots.baseAutocomplete;return x.jsx(b,W({multiple:!0,freeSolo:!0,options:c,id:a,value:h,onChange:m,onInputChange:y,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:o}}},s?.root))}var Yl=(function(e){return e.Cell="cell",e.Row="row",e})(Yl||{}),vr=(function(e){return e.Edit="edit",e.View="view",e})(vr||{}),qr=(function(e){return e.Edit="edit",e.View="view",e})(qr||{}),as=(function(e){return e.And="and",e.Or="or",e})(as||{});class VDe{constructor(t){this.data=t.ids}has(t){return this.data.has(t)}select(t){this.data.add(t)}unselect(t){this.data.delete(t)}}class $De{constructor(t){this.data=t.ids}has(t){return!this.data.has(t)}select(t){this.data.delete(t)}unselect(t){this.data.add(t)}}const Au=e=>e.type==="include"?new VDe(e):new $De(e);var Dc=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e})(Dc||{}),ka=(function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(ka||{}),Lu=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e})(Lu||{}),Xl=(function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(Xl||{});function lG(e){return e.field!==void 0}const cG={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},Mm=()=>({items:[],logicOperator:as.And,quickFilterValues:[],quickFilterLogicOperator:as.And});function uG(e){return{current:e.current.getPublicApi()}}let Nu=(function(e){return e.LEFT="left",e.RIGHT="right",e})({});const Xw={left:[],right:[]},dG=ni(e=>e.isRtl),hG=ni(e=>e.props.listView??!1),fG=ni(e=>e.listViewColumn),ul=ni(e=>e.columns),Zl=Ht(ul,e=>e.orderedFields),Ac=Ht(ul,e=>e.lookup),Pa=ur(Zl,Ac,(e,t)=>e.map(n=>t[n])),Da=Ht(ul,e=>e.columnVisibilityModel),zDe=Ht(ul,e=>e.initialColumnVisibilityModel),Ci=ur(Pa,Da,hG,fG,(e,t,n,r)=>n&&r?[r]:e.filter(i=>t[i.field]!==!1)),Om=ur(Ci,e=>e.map(t=>t.field)),pG=ni(e=>e.pinnedColumns);ur(pG,Zl,dG,(e,t,n)=>gG(e,t,n));const Zw=ur(ul,pG,Om,dG,hG,(e,t,n,r,i)=>{if(i)return Xw;const o=gG(t,n,r);return{left:o.left.map(a=>e.lookup[a]),right:o.right.map(a=>e.lookup[a])}});function gG(e,t,n){if(!Array.isArray(e.left)&&!Array.isArray(e.right)||e.left?.length===0&&e.right?.length===0)return Xw;const r=(a,c)=>Array.isArray(a)?a.filter(u=>c.includes(u)):[],i=r(e.left,t),o=t.filter(a=>!i.includes(a)),s=r(e.right,o);return n?{left:s,right:i}:{left:i,right:s}}const vh=ur(Ci,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),mG=ur(Pa,e=>e.filter(t=>t.filterable)),UDe=ur(Pa,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),HDe=ur(Pa,e=>e.some(t=>t.colSpan!==void 0));let Rm;function GDe(){if(Rm!==void 0)return Rm;try{Rm=new Function("return true")()}catch{Rm=!1}return Rm}const xR=(e,t)=>{const n=W({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=Ac(t)[n.field];n.operator=r&&r.filterOperators[0].value}return n},_R=(e,t,n)=>{const r=e.items.length>1;let i;r&&t?i=[e.items[0]]:i=e.items;const o=r&&i.some(a=>a.id==null);return i.some(a=>a.operator==null)||o?W({},e,{items:i.map(a=>xR(a,n))}):e.items!==i?W({},e,{items:i}):e},vG=(e,t,n)=>r=>W({},r,{filterModel:_R(e,t,n)}),Im=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,yG=(e,t)=>{if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){const h=n.valueParser;r=Array.isArray(e.value)?e.value?.map(f=>h(f,void 0,n,t)):h(e.value,void 0,n,t)}else r=e.value;const{ignoreDiacritics:i}=t.current.rootProps;i&&(r=Im(r));const o=W({},e,{value:r}),s=n.filterOperators;if(!s?.length)throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const a=s.find(h=>h.value===o.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${o.operator}'.`);const c=uG(t),u=a.getApplyFilterFn(o,n);return typeof u!="function"?null:{item:o,fn:h=>{let f=t.current.getRowValue(h,n);return i&&(f=Im(f)),u(f,h,n,c)}}};let bG=1;const WDe=(e,t,n)=>{const{items:r}=e,i=r.map(a=>yG(a,t)).filter(a=>!!a);if(i.length===0)return null;if(n||!GDe())return(a,c)=>{const u={};for(let h=0;h<i.length;h+=1){const f=i[h];(!c||c(f.item.field))&&(u[f.item.id]=f.fn(a))}return u};const o=new Function("appliers","row","shouldApplyFilter",`"use strict";
${i.map((a,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${i.map((a,c)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(bG)));return bG+=1,(a,c)=>o(i,a,c)},wG=e=>e.quickFilterExcludeHiddenColumns??!0,KDe=(e,t)=>{const n=e.quickFilterValues?.filter(Boolean)??[];if(n.length===0)return null;const r=Zl(t),i=Da(t);let o;wG(e)?o=r.filter(u=>i[u]!==!1):o=r;const s=[],{ignoreDiacritics:a}=t.current.rootProps,c=uG(t);return o.forEach(u=>{const h=t.current.getColumn(u),f=h?.getApplyQuickFilterFn;f&&s.push({column:h,appliers:n.map(g=>{const m=a?Im(g):g;return{fn:f(m,h,c)}})})}),function(h,f){const g={};e:for(let m=0;m<n.length;m+=1){const y=n[m];for(let b=0;b<s.length;b+=1){const{column:v,appliers:S}=s[b],{field:E}=v;if(f&&!f(E))continue;const T=S[m];let R=t.current.getRowValue(h,v);if(T.fn===null)continue;if(a&&(R=Im(R)),T.fn(R,h,v,c)){g[y]=!0;continue e}}g[y]=!1}return g}},qDe=(e,t,n)=>{const r=WDe(e,t,n),i=KDe(e,t);return function(s,a,c){c.passingFilterItems=r?.(s,a)??null,c.passingQuickFilterValues=i?.(s,a)??null}},SG=e=>e!=null,YDe=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(r=>yG(r,t)!==null)),e.cleanedFilterItems),XDe=(e,t,n,r,i)=>{const o=YDe(i,r,n.items),s=e.filter(SG),a=t.filter(SG);if(s.length>0){const c=h=>s.some(f=>f[h.id]);if((n.logicOperator??Mm().logicOperator)===as.And){if(!o.every(c))return!1}else if(!o.some(c))return!1}if(a.length>0&&n.quickFilterValues!=null){const c=h=>a.some(f=>f[h]);if((n.quickFilterLogicOperator??Mm().quickFilterLogicOperator)===as.And){if(!n.quickFilterValues.every(c))return!1}else if(!n.quickFilterValues.some(c))return!1}return!0},ZDe=e=>{if(!e)return null;const t=new RegExp(Yw(e),"i");return(n,r,i,o)=>{let s=o.current.getRowFormattedValue(r,i);return o.current.ignoreDiacritics&&(s=Im(s)),s!=null?t.test(s.toString()):!1}},CG=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),i=new RegExp(Yw(r),"i");return o=>{if(o==null)return t;const s=i.test(String(o));return t?!s:s}},xG=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),i=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return o=>{if(o==null)return t;const s=i.compare(r,o.toString())===0;return t?!s:s}},_G=e=>()=>t=>{const n=t===""||t==null;return e?!n:n},dl={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:DDe,type:"string",align:"left",filterOperators:((e=!1)=>[{value:"contains",getApplyFilterFn:CG(e,!1),InputComponent:Ia},{value:"doesNotContain",getApplyFilterFn:CG(e,!0),InputComponent:Ia},{value:"equals",getApplyFilterFn:xG(e,!1),InputComponent:Ia},{value:"doesNotEqual",getApplyFilterFn:xG(e,!0),InputComponent:Ia},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${Yw(n)}.*$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:Ia},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${Yw(n)}$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:Ia},{value:"isEmpty",getApplyFilterFn:_G(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:_G(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(i=>i.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?n.some(o=>r.compare(o,i.toString()||"")===0):!1},InputComponent:aG}])(),renderEditCell:MDe,getApplyQuickFilterFn:ZDe};function EG(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Qw=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",QDe=e=>!!e.key,TG=e=>e==="Tab"||e==="Escape";function MG(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="V"&&!e.shiftKey&&!e.altKey}function JDe(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="C"&&!e.shiftKey&&!e.altKey}const OG=_.createContext(void 0),Jw=()=>{const e=_.useContext(OG);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e},eAe="MuiDataGridVariables",ER=_.createContext({className:"unset",tag:x.jsx("style",{href:"/unset"})});function RG(){return _.useContext(ER).className}function tAe(){return _.useContext(ER)}function nAe(e){const t=Jw(),n=It(),r=t.hooks.useCSSVariables(),i=_.useMemo(()=>{const o=`${eAe}-${r.id}`,s=`.${o}{${rAe(r.variables)}}`,a=x.jsx("style",{href:`/${o}`,nonce:n.nonce,children:s});return{className:o,tag:a}},[n.nonce,r]);return x.jsx(ER.Provider,{value:i,children:e.children})}function rAe(e){let t="";for(const n in e)Object.hasOwn(e,n)&&e[n]!==void 0&&(t+=`${n}:${e[n]};`);return t}const iAe=["open","target","onClose","children","position","className","onExited"],oAe=e=>{const{classes:t}=e;return Et({root:["menu"]},Hn,t)},sAe=Ee(ql,{name:"MuiDataGrid",slot:"Menu"})({zIndex:Pt.zIndex.menu,[`& .${ae.menuList}`]:{outline:0}});function eS(e){const{open:t,target:n,onClose:r,children:i,position:o,className:s,onExited:a}=e,c=Tt(e,iAe),u=Rn(),h=It(),f=oAe(h),g=RG(),m=_.useRef(null);cr(()=>{t?m.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(m.current?.focus?.(),m.current=null)},[t]),_.useEffect(()=>{const v=t?"menuOpen":"menuClose";u.current.publishEvent(v,{target:n})},[u,t,n]);const y=v=>{v.target&&(n===v.target||n?.contains(v.target))||r(v)},b=v=>{TG(v.key)&&r(v)};return x.jsx(sAe,W({as:h.slots.basePopper,className:tt(f.root,s,g),ownerState:h,open:t,target:n,transition:!0,placement:o,onClickAway:y,onExited:a,clickAwayMouseEvent:"onMouseDown",onKeyDown:b},c,h.slotProps?.basePopper,{children:i}))}const aAe=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],lAe=e=>typeof e.getActions=="function";function cAe(e){const{colDef:t,id:n,hasFocus:r,tabIndex:i,position:o="bottom-end",focusElementRef:s}=e,a=Tt(e,aAe),[c,u]=_.useState(-1),[h,f]=_.useState(!1),g=Rn(),m=_.useRef(null),y=_.useRef(null),b=_.useRef(!1),v=_.useRef({}),S=Oo(),E=er(),T=er(),R=It();if(!lAe(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const M=t.getActions(g.current.getRowParams(n)),I=M.filter(z=>!z.props.showInMenu),N=M.filter(z=>z.props.showInMenu),D=I.length+(N.length?1:0);_.useLayoutEffect(()=>{r||Object.entries(v.current).forEach(([z,Z])=>{Z?.stop({},()=>{delete v.current[z]})})},[r]),_.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),_.useEffect(()=>{r||(u(-1),b.current=!1)},[r]),_.useImperativeHandle(s,()=>({focus(){if(!b.current){const z=M.findIndex(Z=>!Z.props.disabled);u(z)}}}),[M]),_.useEffect(()=>{c>=D&&u(D-1)},[c,D]);const L=()=>{f(!0),u(D-1),b.current=!0},A=()=>{f(!1)},$=z=>{z.stopPropagation(),z.preventDefault(),h?A():L()},F=z=>Z=>{v.current[z]=Z},H=(z,Z)=>ee=>{u(z),b.current=!0,Z&&Z(ee)},q=z=>{if(D<=1)return;const Z=(ie,U)=>{if(ie<0||ie>M.length)return ie;const J=(U==="left"?-1:1)*(S?-1:1);return M[ie+J]?.props.disabled?Z(ie+J,U):ie+J};let ee=c;z.key==="ArrowRight"?ee=Z(c,"right"):z.key==="ArrowLeft"&&(ee=Z(c,"left")),!(ee<0||ee>=D)&&ee!==c&&(z.preventDefault(),z.stopPropagation(),u(ee))},K=D>0?{role:"menu",onKeyDown:q}:void 0;return x.jsxs("div",W({ref:m,tabIndex:-1,className:ae.actionsCell},K,a,{children:[I.map((z,Z)=>_.cloneElement(z,{key:Z,touchRippleRef:F(Z),onClick:H(Z,z.props.onClick),tabIndex:c===Z?i:-1})),N.length>0&&T&&x.jsx(R.slots.baseIconButton,W({ref:y,id:T,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":h,"aria-controls":h?E:void 0,role:"menuitem",size:"small",onClick:$,touchRippleRef:F(T),tabIndex:c===I.length?i:-1},R.slotProps?.baseIconButton,{children:x.jsx(R.slots.moreActionsIcon,{fontSize:"small"})})),N.length>0&&x.jsx(eS,{open:h,target:y.current,position:o,onClose:A,children:x.jsx(R.slots.baseMenuList,{id:E,className:ae.menuList,"aria-labelledby":T,autoFocusItem:!0,children:N.map((z,Z)=>_.cloneElement(z,{key:Z,closeMenu:A}))})})]}))}const uAe=e=>x.jsx(cAe,W({},e)),tS="actions",dAe=W({},dl,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:uAe,getApplyQuickFilterFn:()=>null}),hAe="__tree_data_group__",IG="__row_group_by_columns_group__",TR="__detail_panel_toggle__";let Xn=(function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e})({});const fAe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],pAe=e=>{const{classes:t}=e;return Et({root:["booleanCell"]},Hn,t)};function gAe(e){const{value:t,rowNode:n}=e,r=Tt(e,fAe),i=Rn(),o=It(),s={classes:o.classes},a=pAe(s),u=dt(i,_m)>0&&n.type==="group"&&o.treeData===!1,h=_.useMemo(()=>t?o.slots.booleanCellTrueIcon:o.slots.booleanCellFalseIcon,[o.slots.booleanCellFalseIcon,o.slots.booleanCellTrueIcon,t]);return u&&t===void 0?null:x.jsx(h,W({fontSize:"small",className:a.root,titleAccess:i.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},r))}const mAe=_.memo(gAe),vAe=e=>e.field!==IG&&Af(e.rowNode)?"":x.jsx(mAe,W({},e)),yAe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],bAe=e=>{const{classes:t}=e;return Et({root:["editBooleanCell"]},Hn,t)};function wAe(e){const{id:t,value:n,field:r,className:i,hasFocus:o,onValueChange:s}=e,a=Tt(e,yAe),c=Rn(),u=_.useRef(null),h=er(),[f,g]=_.useState(n),m=It(),y={classes:m.classes},b=bAe(y),v=_.useCallback(async S=>{const E=S.target.checked;s&&await s(S,E),g(E),await c.current.setEditCellValue({id:t,field:r,value:E},S)},[c,r,t,s]);return _.useEffect(()=>{g(n)},[n]),cr(()=>{o&&u.current.focus()},[o]),x.jsx("label",W({htmlFor:h,className:tt(b.root,i)},a,{children:x.jsx(m.slots.baseCheckbox,W({id:h,inputRef:u,checked:!!f,onChange:v,size:"small"},m.slotProps?.baseCheckbox))}))}const SAe=e=>x.jsx(wAe,W({},e)),CAe=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function xAe(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:i,headerFilterMenu:o,clearButton:s,tabIndex:a,slotProps:c}=e,u=Tt(e,CAe),[h,f]=_.useState(nS(t.value)),g=It(),m=er(),y=er(),b=g.slotProps?.baseSelect||{},v=b.native??!1,S=g.slotProps?.baseSelectOption||{},E=_.useCallback(M=>{const I=nS(M.target.value);f(I),n(W({},t,{value:I}))},[n,t]);_.useEffect(()=>{f(nS(t.value))},[t.value]);const T=c?.root.label??r.current.getLocaleText("filterPanelInputLabel"),R=c?.root.slotProps;return x.jsxs(_.Fragment,{children:[x.jsxs(g.slots.baseSelect,W({fullWidth:!0,labelId:m,id:y,label:T,value:h===void 0?"":String(h),onChange:E,native:v,slotProps:{htmlInput:W({ref:i,tabIndex:a},R?.htmlInput)}},b,u,c?.root,{children:[x.jsx(g.slots.baseSelectOption,W({},S,{native:v,value:"",children:r.current.getLocaleText("filterValueAny")})),x.jsx(g.slots.baseSelectOption,W({},S,{native:v,value:"true",children:r.current.getLocaleText("filterValueTrue")})),x.jsx(g.slots.baseSelectOption,W({},S,{native:v,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]})),o,s]})}function nS(e){if(String(e).toLowerCase()==="true")return!0;if(String(e).toLowerCase()==="false")return!1}const _Ae=()=>[{value:"is",getApplyFilterFn:e=>{const t=nS(e.value);return t===void 0?null:n=>!!n===t},InputComponent:xAe}],EAe=(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),TAe=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},kG=W({},dl,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:vAe,renderEditCell:SAe,sortComparator:iG,valueFormatter:EAe,filterOperators:_Ae(),getApplyQuickFilterFn:()=>null,aggregable:!1,pastedValueParser:e=>TAe(e)});function rS(e){for(const t in e)return!1;return!0}const PG=ni(e=>e.sorting),km=Ht(PG,e=>e.sortedRows),MR=ur(km,Ra,Io,(e,t,n)=>e.reduce((r,i)=>{const o=t[i];if(o)r.push({id:i,model:o});else{const s=n[i];s&&Af(s)&&r.push({id:i,model:{[gh]:i}})}return r},[])),Aa=Ht(PG,e=>e.sortModel),MAe=ur(Aa,e=>e.reduce((n,r,i)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?i+1:void 0},n),{}));ur(km,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const iS=ni(e=>e.filter),po=Ht(iS,e=>e.filterModel),DG=Ht(po,e=>e.quickFilterValues),OAe=ni(e=>e.visibleRowsLookup),Nf=Ht(iS,e=>e.filteredRowsLookup);Ht(iS,e=>e.filteredChildrenCountLookup),Ht(iS,e=>e.filteredDescendantCountLookup);const Bu=ur(OAe,MR,(e,t)=>rS(e)?t:t.filter(n=>e[n.id]!==!1)),yh=ur(Bu,e=>e.map(t=>t.id)),AG=ur(Nf,MR,(e,t)=>rS(e)?t:t.filter(n=>e[n.id]!==!1)),LG=ur(AG,e=>e.map(t=>t.id));ur(yh,Io,(e,t)=>{const n={};let r=0;return e.reduce((i,o)=>{const s=t[o];return n[s.depth]||(n[s.depth]=0),s.depth>r&&(n[s.depth]=0),r=s.depth,n[s.depth]+=1,i[o]=n[s.depth],i},{})});const NG=ur(Bu,Io,_m,(e,t,n)=>n<2?e:e.filter(r=>t[r.id]?.depth===0)),OR=Ht(Bu,e=>e.length),RR=Ht(NG,e=>e.length),BG=Ht(AG,e=>e.length);Ht(BG,RR,(e,t)=>e-t);const IR=ur(po,Ac,(e,t)=>e.items?.filter(n=>{if(!n.field)return!1;const r=t[n.field];if(!r?.filterOperators||r?.filterOperators?.length===0)return!1;const i=r.filterOperators.find(o=>o.value===n.operator);return i?!i.InputComponent||n.value!=null&&n.value?.toString()!=="":!1})),RAe=ur(IR,e=>e.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{}));ur(yh,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const hl=ni(e=>e.rowSelection),Pm=ur(hl,Au),oS=Ht(hl,BG,(e,t)=>e.type==="include"?e.ids.size:t-e.ids.size),FG=ur(hl,Ra,ph,(e,t,n)=>{const r=new Map;if(e.type==="include")for(const i of e.ids)r.set(i,t[i]);else for(let i=0;i<n.length;i+=1){const o=n[i];e.ids.has(o)||r.set(o,t[o])}return r});function jG(e,t){const n=Io(e),r=km(e),i=Nf(e),o=n[t];if(!o||o.type!=="group")return[];const s=[],a=r.findIndex(c=>c===t)+1;for(let c=a;c<r.length&&n[r[c]]?.depth>o.depth;c+=1){const u=r[c];i[u]!==!1&&e.current.isRowSelectable(u)&&s.push(u)}return s}const IAe=Ht(Io,Nf,Pm,(e,t,n,{groupId:r,autoSelectParents:i})=>{const o=e[r];if(!o||o.type!=="group"||n.has(r))return{isIndeterminate:!1,isChecked:n.has(r)};let s=!1,a=!1;const c=u=>{if(t[u]===!1||s&&a)return;const h=e[u];h?.type==="group"&&h.children.forEach(c),n.has(u)?s=!0:a=!0};return c(r),{isIndeterminate:s&&a,isChecked:i?s&&!a:!1}});function kR(e){return e.signature===cl.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const kAe=(e,t)=>{const n=[];let r=t;for(;r!=null&&r!==fo;){const i=e[r];if(!i)return n;n.push(r),r=i.parent}return n},PAe=(e,t,n)=>{const r=e[n];if(!r)return[];const i=r.parent;return i==null?[]:e[i].children.filter(s=>s!==n&&t[s]!==!1)},Dm=(e,t,n,r,i,o,s=Pm(e))=>{const a=Nf(e),c=new Set([]);if(!(!r&&!i||a[n]===!1)&&(r&&t[n]?.type==="group"&&jG(e,n).forEach(f=>{o(f),c.add(f)}),i)){const u=g=>{if(!s.has(g)&&!c.has(g))return!1;const m=t[g];return m?m.type!=="group"?!0:m.children.every(u):!1},h=g=>{const m=PAe(t,a,g);if(m.length===0||m.every(u)){const b=t[g]?.parent;b!=null&&b!==fo&&e.current.isRowSelectable(b)&&(o(b),c.add(b),h(b))}},f=t[n];if(!f||f.parent===fo)return;h(n)}},VG=(e,t,n,r,i,o)=>{const s=Pm(e);!i&&!r||(i&&kAe(t,n).forEach(c=>{s.has(c)&&o(c)}),r&&t[n]?.type==="group"&&jG(e,n).forEach(u=>{o(u)}))},DAe=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],AAe=e=>{const{classes:t}=e;return Et({root:["checkboxInput"]},Hn,t)},LAe=pn(function(t,n){const{field:r,id:i,rowNode:o,tabIndex:s}=t,a=Tt(t,DAe),c=Rn(),u=It(),h={classes:u.classes},f=AAe(h),g=E=>{const T={value:E.target.checked,id:i};c.current.publishEvent("rowSelectionCheckboxChange",T,E)};_.useLayoutEffect(()=>{if(s===0){const E=c.current.getCellElement(i,r);E&&(E.tabIndex=-1)}},[c,s,i,r]);const m=_.useCallback(E=>{E.key===" "&&E.stopPropagation()},[]),y=c.current.isRowSelectable(i),{isIndeterminate:b,isChecked:v}=dt(c,IAe,{groupId:i,autoSelectParents:u.rowSelectionPropagation?.parents??!1});if(o.type==="footer"||o.type==="pinnedRow")return null;const S=c.current.getLocaleText(v&&!b?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return x.jsx(u.slots.baseCheckbox,W({tabIndex:s,checked:v&&!b,onChange:g,className:f.root,slotProps:{htmlInput:{"aria-label":S,name:"select_row"}},onKeyDown:m,indeterminate:b,disabled:!y},u.slotProps?.baseCheckbox,a,{ref:n}))}),sS=ni(e=>e.focus),Cs=Ht(sS,e=>e.cell),NAe=Ht(sS,e=>e.columnHeader);Ht(sS,e=>e.columnHeaderFilter);const aS=Ht(sS,e=>e.columnGroupHeader),lS=ni(e=>e.tabIndex),PR=Ht(lS,e=>e.cell),$G=Ht(lS,e=>e.columnHeader);Ht(lS,e=>e.columnHeaderFilter);const BAe=Ht(lS,e=>e.columnGroupHeader),FAe=100,jAe=e=>e?0:100,zG=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,UG=e=>({page:0,pageSize:e?0:100}),VAe=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),HG=(e,t)=>{if(t===cl.DataGrid&&e>FAe)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},$Ae=-1,Bf=ni(e=>e.pagination),GG=Ht(Bf,e=>e.enabled&&e.paginationMode==="client"),ko=Ht(Bf,e=>e.paginationModel),Ff=Ht(Bf,e=>e.rowCount),Am=Ht(Bf,e=>e.meta),zAe=Ht(ko,e=>e.page),WG=Ht(ko,e=>e.pageSize),KG=Ht(ko,Ff,(e,t)=>zG(t,e.pageSize,e.page)),DR=ur(GG,ko,Io,_m,Bu,NG,(e,t,n,r,i,o)=>{if(!e)return null;const s=o.length,a=Math.min(t.pageSize*t.page,s-1),c=t.pageSize===$Ae?s-1:Math.min(a+t.pageSize-1,s-1);if(a===-1||c===-1)return null;if(r<2)return{firstRowIndex:a,lastRowIndex:c};const u=o[a],h=c-a+1,f=i.findIndex(y=>y.id===u.id);let g=f,m=0;for(;g<i.length&&m<=h;){const y=i[g],b=n[y.id]?.depth;b===void 0?g+=1:((m<h||b>0)&&(g+=1),b===0&&(m+=1))}return{firstRowIndex:f,lastRowIndex:g-1}}),UAe=ur(Bu,DR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),qG=ur(yh,DR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Lm=ur(GG,DR,UAe,Bu,(e,t,n,r)=>e?{rows:n,range:t,rowIdToIndexMap:n.reduce((i,o,s)=>(i.set(o.id,s),i),new Map)}:{rows:r,range:r.length===0?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowIdToIndexMap:r.reduce((i,o,s)=>(i.set(o.id,s),i),new Map)}),HAe=["field","colDef"],GAe=e=>{const{classes:t}=e;return Et({root:["checkboxInput"]},Hn,t)},WAe=pn(function(t,n){const r=Tt(t,HAe),[,i]=_.useState(!1),o=Rn(),s=It(),a={classes:s.classes},c=GAe(a),u=dt(o,$G),h=dt(o,hl),f=dt(o,yh),g=dt(o,qG),m=_.useMemo(()=>{const N=s.isRowSelectable;if(typeof N!="function"||h.type==="exclude")return h;const D={type:"include",ids:new Set};for(const L of h.ids)s.keepNonExistentRowsSelected&&D.ids.add(L),o.current.getRow(L)&&N(o.current.getRowParams(L))&&D.ids.add(L);return D},[o,s.isRowSelectable,s.keepNonExistentRowsSelected,h]),y=_.useMemo(()=>{const N=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?f:g,D=new Set;for(let L=0;L<N.length;L+=1){const A=N[L];o.current.getRow(A)&&o.current.isRowSelectable(A)&&D.add(A)}return D},[o,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,g,f]),b=_.useMemo(()=>{const N=Au(m);let D=0;for(const L of y)N.has(L)&&(D+=1);return D},[m,y]),v=_.useMemo(()=>{if(b===0)return!1;const N=Au(m);for(const D of y)if(!N.has(D))return!0;return!1},[b,m,y]),S=b>0,E=N=>{const D={value:N.target.checked};o.current.publishEvent("headerSelectionCheckboxChange",D)},T=u!==null&&u.field===t.field?0:-1;_.useLayoutEffect(()=>{const N=o.current.getColumnHeaderElement(t.field);T===0&&N&&(N.tabIndex=-1)},[T,o,t.field]);const R=_.useCallback(N=>{N.key===" "&&o.current.publishEvent("headerSelectionCheckboxChange",{value:!S})},[o,S]),M=_.useCallback(()=>{i(N=>!N)},[]);_.useEffect(()=>o.current.subscribeEvent("rowSelectionChange",M),[o,M]);const I=o.current.getLocaleText(S&&!v?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return x.jsx(s.slots.baseCheckbox,W({indeterminate:v,checked:S&&!v,onChange:E,className:c.root,slotProps:{htmlInput:{"aria-label":I,name:"select_all_rows"}},tabIndex:T,onKeyDown:R,disabled:!kR(s)},s.slotProps?.baseCheckbox,r,{ref:n}))}),jf=ni((e,t)=>gh in t?t[gh]:e.props.getRowId?e.props.getRowId(t):t.id),fl="__check__",Vf=W({},kG,{type:"custom",field:fl,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,n,r)=>{const i=jf(r,t);return r.current.isRowSelected(i)},rowSpanValueGetter:(e,t,n,r)=>jf(r,t),renderHeader:e=>x.jsx(WAe,W({},e)),renderCell:e=>x.jsx(LAe,W({},e))}),KAe=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function YG(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function $f(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,slotProps:s,headerFilterMenu:a,clearButton:c,tabIndex:u,disabled:h}=e,f=Tt(e,KAe),g=s?.root.slotProps,m=vs(),[y,b]=_.useState(()=>YG(t.value,r)),[v,S]=_.useState(!1),E=er(),T=It(),R=_.useCallback(M=>{m.clear();const I=M.target.value;b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=new Date(I);n(W({},t,{value:Number.isNaN(N.getTime())?void 0:N})),S(!1)})},[n,t,T.filterDebounceMs,m]);return _.useEffect(()=>{const M=YG(t.value,r);b(M)},[t.value,r]),x.jsxs(_.Fragment,{children:[x.jsx(T.slots.baseTextField,W({fullWidth:!0,id:E,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:R,type:r||"text",disabled:h,inputRef:o,slotProps:W({},g,{input:W({endAdornment:v?x.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.input),htmlInput:W({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:u},g?.htmlInput)})},T.slotProps?.baseTextField,f,s?.root)),a,c]})}function zf(e,t,n,r){if(!e.value)return null;const i=new Date(e.value);n?i.setSeconds(0,0):(i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i.setHours(0,0,0,0));const o=i.getTime();return s=>{if(!s)return!1;if(r)return t(s.getTime(),o);const a=new Date(s);return n?a.setSeconds(0,0):a.setHours(0,0,0,0),t(a.getTime(),o)}}const XG=e=>[{value:"is",getApplyFilterFn:t=>zf(t,(n,r)=>n===r,e),InputComponent:$f,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>zf(t,(n,r)=>n!==r,e),InputComponent:$f,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>zf(t,(n,r)=>n>r,e),InputComponent:$f,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>zf(t,(n,r)=>n>=r,e),InputComponent:$f,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>zf(t,(n,r)=>n<r,e,!e),InputComponent:$f,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>zf(t,(n,r)=>n<=r,e),InputComponent:$f,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],qAe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],YAe=Ee(ql)({fontSize:"inherit"}),XAe=e=>{const{classes:t}=e;return Et({root:["editInputCell"]},Hn,t)};function ZAe(e){const{id:t,value:n,field:r,colDef:i,hasFocus:o,onValueChange:s,slotProps:a}=e,c=Tt(e,qAe),u=i.type==="dateTime",h=Rn(),f=_.useRef(null),g=_.useMemo(()=>{let R;n==null?R=null:n instanceof Date?R=n:R=new Date((n??"").toString());let M;return R==null||Number.isNaN(R.getTime())?M="":M=new Date(R.getTime()-R.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:R,formatted:M}},[n,u]),[m,y]=_.useState(g),b=It(),v={classes:b.classes},S=XAe(v),E=_.useCallback(R=>{if(R==="")return null;const[M,I]=R.split("T"),[N,D,L]=M.split("-"),A=new Date;if(A.setFullYear(Number(N),Number(D)-1,Number(L)),A.setHours(0,0,0,0),I){const[$,F]=I.split(":");A.setHours(Number($),Number(F),0,0)}return A},[]),T=_.useCallback(async R=>{const M=R.target.value,I=E(M);s&&await s(R,I),y({parsed:I,formatted:M}),h.current.setEditCellValue({id:t,field:r,value:I},R)},[h,r,t,s,E]);return _.useEffect(()=>{y(R=>g.parsed!==R.parsed&&g.parsed?.getTime()!==R.parsed?.getTime()?g:R)},[g]),cr(()=>{o&&f.current.focus()},[o]),x.jsx(YAe,W({as:b.slots.baseInput,inputRef:f,fullWidth:!0,className:S.root,type:u?"datetime-local":"date",value:m.formatted,onChange:T},c,a?.root,{slotProps:{htmlInput:W({max:u?"9999-12-31T23:59":"9999-12-31"},a?.root?.slotProps?.htmlInput)}}))}const ZG=e=>x.jsx(ZAe,W({},e));function QG({value:e,columnType:t,rowId:n,field:r}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}const QAe=(e,t,n,r)=>{if(!e)return"";const i=jf(r,t);return WH(t)&&!(e instanceof Date)?e:(QG({value:e,columnType:"date",rowId:i,field:n.field}),e.toLocaleDateString())},JAe=(e,t,n,r)=>{if(!e)return"";const i=jf(r,t);return WH(t)&&!(e instanceof Date)?e:(QG({value:e,columnType:"dateTime",rowId:i,field:n.field}),e.toLocaleString())},eLe=W({},dl,{type:"date",sortComparator:oG,valueFormatter:QAe,filterOperators:XG(),renderEditCell:ZG,pastedValueParser:e=>new Date(e)}),tLe=W({},dl,{type:"dateTime",sortComparator:oG,valueFormatter:JAe,filterOperators:XG(!0),renderEditCell:ZG,pastedValueParser:e=>new Date(e)}),Fu=e=>e==null?null:Number(e),nLe=e=>e==null||Number.isNaN(e)||e===""?null:t=>Fu(t)===Fu(e),rLe=W({},dl,{type:"number",align:"right",headerAlign:"right",sortComparator:iG,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>LDe(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>Fu(t)===e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>Fu(t)!==e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Fu(t)>e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Fu(t)>=e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Fu(t)<e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Fu(t)<=e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:aG,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:nLe});function Nm(e){return e?.type==="singleSelect"}function bh(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(W({field:e.field},t)):e.valueOptions}function cS(e,t,n){if(t===void 0)return;const r=t.find(i=>{const o=n(i);return String(o)===String(e)});return n(r)}const iLe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function oLe(e){return"key"in e&&!!e.key}function JG(e){const t=It(),{id:n,value:r,field:i,row:o,colDef:s,hasFocus:a,error:c,onValueChange:u,initialOpen:h=t.editMode===Yl.Cell,slotProps:f}=e,g=Tt(e,iLe),m=Rn(),y=_.useRef(null),b=_.useRef(null),[v,S]=_.useState(h),T=(t.slotProps?.baseSelect||{}).native??!1;if(cr(()=>{a&&b.current?.focus()},[a]),!Nm(s))return null;const R=bh(s,{id:n,row:o});if(!R)return null;const M=s.getOptionValue,I=s.getOptionLabel,N=async A=>{if(!Nm(s)||!R)return;S(!1);const $=A.target,F=cS($.value,R,M);u&&await u(A,F),await m.current.setEditCellValue({id:n,field:i,value:F},A)},D=(A,$)=>{if(t.editMode===Yl.Row){S(!1);return}if($==="backdropClick"||A.key==="Escape"){const F=m.current.getCellParams(n,i);m.current.publishEvent("cellEditStop",W({},F,{reason:A.key==="Escape"?ka.escapeKeyDown:ka.cellFocusOut}))}},L=A=>{oLe(A)&&A.key==="Enter"||S(!0)};return!R||!s?null:x.jsx(t.slots.baseSelect,W({ref:y,value:r,onChange:N,open:v,onOpen:L,onClose:D,error:c,native:T,fullWidth:!0,slotProps:{htmlInput:{ref:b}}},g,f?.root,t.slotProps?.baseSelect,{children:R.map(A=>{const $=M(A);return _.createElement(t.slots.baseSelectOption,W({},t.slotProps?.baseSelectOption||{},{native:T,key:$,value:$}),I(A))})}))}const sLe=e=>x.jsx(JG,W({},e)),aLe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],lLe=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:r,isSelectNative:i,baseSelectOptionProps:o})=>["",...bh(e)||[]].map(a=>{const c=r(a);let u=n(a);return u===""&&(u=" "),_.createElement(t,W({},o,{native:i,key:c,value:c}),u)});function e4(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,tabIndex:s,clearButton:a,headerFilterMenu:c,slotProps:u}=e,h=Tt(e,aLe),f=t.value??"",g=er(),m=er(),y=It(),b=y.slotProps?.baseSelect?.native??!1,v=i.current.getColumn(t.field),S=v.getOptionValue,E=v.getOptionLabel,T=_.useMemo(()=>bh(v),[v]),R=_.useCallback(I=>{let N=I.target.value;N=cS(N,T,S),n(W({},t,{value:N}))},[T,S,n,t]);if(!v||!Nm(v))return null;const M=u?.root.label??i.current.getLocaleText("filterPanelInputLabel");return x.jsxs(_.Fragment,{children:[x.jsx(y.slots.baseSelect,W({fullWidth:!0,id:g,label:M,labelId:m,value:f,onChange:R,slotProps:{htmlInput:W({tabIndex:s,ref:o,type:r||"text",placeholder:u?.root.placeholder??i.current.getLocaleText("filterPanelInputPlaceholder")},u?.root.slotProps?.htmlInput)},native:b},y.slotProps?.baseSelect,h,u?.root,{children:lLe({column:v,OptionComponent:y.slots.baseSelectOption,getOptionLabel:E,getOptionValue:S,isSelectNative:b,baseSelectOptionProps:y.slotProps?.baseSelectOption})})),c,a]})}const cLe=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function uLe(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,slotProps:s}=e,a=Tt(e,cLe),c=er(),u=It(),h=i.current.getColumn(t.field),f=h.getOptionValue,g=h.getOptionLabel,m=_.useCallback((E,T)=>f(E)===f(T),[f]),y=_.useMemo(()=>bh(h)||[],[h]),b=_.useMemo(()=>Array.isArray(t.value)?t.value.reduce((E,T)=>{const R=y.find(M=>f(M)===T);return R!=null&&E.push(R),E},[]):[],[f,t.value,y]),v=_.useCallback((E,T)=>{n(W({},t,{value:T.map(f)}))},[n,t,f]);if(!h||!Nm(h))return null;const S=u.slots.baseAutocomplete;return x.jsx(S,W({multiple:!0,options:y,isOptionEqualToValue:m,id:c,value:b,onChange:v,getOptionLabel:g,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:o}}},a,s?.root))}const Uf=e=>e==null||!CR(e)?e:e.value,dLe=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Uf(t)===Uf(e.value),InputComponent:e4},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Uf(t)!==Uf(e.value),InputComponent:e4},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Uf);return n=>t.includes(Uf(n))},InputComponent:uLe}],hLe=e=>typeof e[0]=="object",fLe=W({},dl,{type:"singleSelect",getOptionLabel:e=>CR(e)?e.label:String(e),getOptionValue:e=>CR(e)?e.value:e,valueFormatter(e,t,n,r){const i=jf(r,t);if(!Nm(n))return"";const o=bh(n,{id:i,row:t});if(e==null)return"";if(!o)return e;if(!hLe(o))return n.getOptionLabel(e);const s=o.find(a=>n.getOptionValue(a)===e);return s?n.getOptionLabel(s):""},renderEditCell:sLe,filterOperators:dLe(),pastedValueParser:(e,t,n)=>{const r=n,i=bh(r)||[],o=r.getOptionValue;if(i.find(a=>o(a)===e))return e}}),pLe="string",gLe=()=>({string:dl,number:rLe,date:eLe,dateTime:tLe,boolean:kG,singleSelect:fLe,[tS]:dAe,custom:dl}),AR=ni(e=>e.headerFiltering),mLe=Ht(AR,e=>e?.enabled??!1),vLe=Ht(AR,e=>e.editing),yLe=Ht(AR,e=>e.menuOpen),uS=ni(e=>e.columnGrouping),t4=ur(uS,e=>e?.unwrappedGroupingModel??{}),n4=ur(uS,e=>e?.lookup??{}),bLe=ur(uS,e=>e?.headerStructure??[]),Bm=Ht(uS,e=>e?.maxDepth??0),r4=["maxWidth","minWidth","width","flex"],LR=gLe();function wLe({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r=new Set(n.map(s=>s.field)),i={all:{},frozenFields:[],freeze:s=>{const a=i.all[s];a&&a.frozen!==!0&&(i.all[s].frozen=!0,i.frozenFields.push(s))}};function o(){if(i.frozenFields.length===r.size)return;const s={min:{},max:{}};let a=e,c=t,u=0;i.frozenFields.forEach(h=>{a-=i.all[h].computedWidth,c-=i.all[h].flex});for(let h=0;h<n.length;h+=1){const f=n[h];if(i.all[f.field]&&i.all[f.field].frozen===!0)continue;let m=a/c*f.flex;m<f.minWidth?(u+=f.minWidth-m,m=f.minWidth,s.min[f.field]=!0):m>f.maxWidth&&(u+=f.maxWidth-m,m=f.maxWidth,s.max[f.field]=!0),i.all[f.field]={frozen:!1,computedWidth:m,flex:f.flex}}u<0?Object.keys(s.max).forEach(h=>{i.freeze(h)}):u>0?Object.keys(s.min).forEach(h=>{i.freeze(h)}):n.forEach(({field:h})=>{i.freeze(h)}),o()}return o(),i.all}const NR=(e,t)=>{const n={};let r=0,i=0;const o=[];e.orderedFields.forEach(c=>{let u=e.lookup[c],h=0,f=!1;e.columnVisibilityModel[c]!==!1&&(u.flex&&u.flex>0?(r+=u.flex,f=!0):h=mh(u.width||dl.width,u.minWidth||dl.minWidth,u.maxWidth||dl.maxWidth),i+=h),u.computedWidth!==h&&(u=W({},u,{computedWidth:h})),f&&o.push(u),n[c]=u});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),a=Math.max(s-i,0);if(r>0&&s>0){const c=wLe({initialFreeSpace:a,totalFlexUnits:r,flexColumns:o});Object.keys(c).forEach(u=>{n[u]=W({},n[u],{computedWidth:c[u].computedWidth})})}return W({},e,{lookup:n})},SLe=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,i=Object.keys(r);if(i.length===0&&n.length===0)return e;const o={},s=[];for(let h=0;h<n.length;h+=1){const f=n[h];e.lookup[f]&&(o[f]=!0,s.push(f))}const a=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(h=>!o[h])],c=W({},e.lookup);for(let h=0;h<i.length;h+=1){const f=i[h],g=W({},c[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([m,y])=>{g[m]=y===-1?1/0:y}),c[f]=g}return W({},e,{orderedFields:a,lookup:c})};function BR(e){let t=LR[pLe];return e&&LR[e]&&(t=LR[e]),t}const Hf=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:r=Da(e),keepOnlyColumnsToUpsert:i=!1,updateInitialVisibilityModel:o=!1})=>{const s=!e.current.state.columns;let a;if(s)a={orderedFields:[],lookup:{},columnVisibilityModel:r,initialColumnVisibilityModel:r};else{const f=ul(e);a={orderedFields:i?[]:[...f.orderedFields],lookup:W({},f.lookup),columnVisibilityModel:r,initialColumnVisibilityModel:o?r:f.initialColumnVisibilityModel}}const c={};if(i&&!s)for(const f in a.lookup)Object.prototype.hasOwnProperty.call(a.lookup,f)&&(c[f]=!1);t.forEach(f=>{const{field:g}=f;c[g]=!0;let m=a.lookup[g];m==null?(m=W({},BR(f.type),{field:g,hasBeenResized:!1}),a.orderedFields.push(g)):i&&a.orderedFields.push(g),m&&m.type!==f.type&&(m=W({},BR(f.type),{field:g}));let y=m.hasBeenResized;r4.forEach(b=>{f[b]!==void 0&&(y=!0,f[b]===-1&&(f[b]=1/0))}),a.lookup[g]=Zd(m,W({},BR(f.type),f,{hasBeenResized:y}))}),i&&!s&&Object.keys(a.lookup).forEach(f=>{c[f]||delete a.lookup[f]});const u=e.current.unstable_applyPipeProcessors("hydrateColumns",a),h=SLe(u,n);return NR(h,e.current.getRootDimensions?.()??void 0)};function Fm(e,t){if(t.listView)return 0;const n=Tm(e),r=Bm(e),i=mLe(e),o=Math.floor(t.columnHeaderHeight*n),s=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n),a=i?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return o+s*r+a}const dS=1,i4=1.5,CLe=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return Et(r,Hn,n)},xLe=or("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${ae["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${ae["scrollArea--right"]}`]:t["scrollArea--right"]},{[`&.${ae["scrollArea--up"]}`]:t["scrollArea--up"]},{[`&.${ae["scrollArea--down"]}`]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${ae["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${ae["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${ae["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${ae["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),_Le=Ht(Si,(e,t)=>t==="left"?e.leftPinnedWidth:t==="right"?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function ELe(e){const t=Rn(),[n,r]=_.useState("none");return jt(t,"columnHeaderDragStart",()=>r("horizontal")),jt(t,"columnHeaderDragEnd",()=>r("none")),jt(t,"rowDragStart",()=>r("vertical")),jt(t,"rowDragEnd",()=>r("none")),n==="none"?null:n==="horizontal"?x.jsx(TLe,W({},e)):x.jsx(MLe,W({},e))}function TLe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),i=Rn(),o=vs(),s=dt(i,Tm),a=dt(i,mR),c=dt(i,_Le,t),u=()=>{const b=Si(i);if(t==="left")return n.current.left>0;if(t==="right"){const v=a-b.viewportInnerSize.width;return n.current.left<v}return!1},h=It(),f=Fm(i,h),g=Math.floor(h.columnHeaderHeight*s),m=W({height:g,top:f-g},t==="left"?{left:c}:{},t==="right"?{right:c}:{}),y=Jt(b=>{let v;if(b.preventDefault(),t==="left")v=b.clientX-r.current.getBoundingClientRect().right;else if(t==="right")v=Math.max(1,b.clientX-r.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");v=(v-dS)*i4+dS,o.start(0,()=>{i.current.scroll({left:n.current.left+v,top:n.current.top})})});return x.jsx(o4,W({},e,{ref:r,getCanScrollMore:u,style:m,handleDragOver:y}))}function MLe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),i=Rn(),o=vs(),s=dt(i,vR),a=()=>{const g=Si(i);if(t==="up")return n.current.top>0;if(t==="down"){const y=(s.currentPageTotalHeight||0)-g.viewportInnerSize.height-(g.hasScrollX?g.scrollbarSize:0);return n.current.top<y}return!1},c=It(),u=Fm(i,c),h={top:t==="up"?u:void 0,bottom:t==="down"?0:void 0},f=Jt(g=>{let m;if(g.preventDefault(),t==="up")m=g.clientY-r.current.getBoundingClientRect().bottom;else if(t==="down")m=Math.max(1,g.clientY-r.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");m=(m-dS)*i4+dS,o.start(0,()=>{i.current.scroll({left:n.current.left,top:n.current.top+m})})});return x.jsx(o4,W({},e,{ref:r,getCanScrollMore:a,style:h,handleDragOver:f}))}const o4=pn(function(t,n){const{scrollDirection:r,getCanScrollMore:i,style:o,handleDragOver:s}=t,a=Rn(),[c,u]=_.useState(i),h=It(),f=W({},h,{scrollDirection:r}),g=CLe(f);return jt(a,"scrollPositionChange",()=>{u(i)}),c?x.jsx(xLe,{ref:n,className:g.root,ownerState:f,onDragOver:s,style:o}):null}),hS=Pc(ELe),s4=_.createContext(void 0);function Ws(){const e=_.useContext(s4);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const OLe=()=>{},RLe=(e,t)=>{const n=_.useRef(!1);cr(()=>n.current||!e?OLe:(n.current=!0,t()),[n.current||e])};function zn(e,t,n){const r=_.useRef(!0);cr(()=>{r.current=!1,e.current.register(n,t)},[e,n,t]),r.current&&e.current.register(n,t)}function Po(e,t){const n=_.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}const a4=(e,t,n,r,i)=>{const o=Po(e,"useNativeEventListener");Nr(e,"rootMount",()=>{const s=t();if(!(!s||!n))return o.debug(`Binding native ${n} event`),s.addEventListener(n,r,i),()=>{o.debug(`Clearing native ${n} event`),s.removeEventListener(n,r,i)}})};function wh(e){const t=_.useRef(!0);t.current&&(t.current=!1,e())}const ILe=or("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"&&e!=="right"})(({overlayType:e,loadingOverlayVariant:t,right:n})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${n}px`,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),kLe=or("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"})({}),PLe=e=>{const{classes:t}=e;return Et({root:["overlayWrapper"],inner:["overlayWrapperInner"]},Hn,t)};function DLe(e){const t=Rn(),n=It(),r=dt(t,Si);let i=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);i===0&&(i=qH);const o=PLe(W({},e,{classes:n.classes}));return x.jsx(ILe,W({className:o.root},e,{right:r.columnsTotalWidth-r.viewportOuterSize.width,children:x.jsx(kLe,W({className:o.inner,style:{height:i,width:r.viewportOuterSize.width}},e))}))}const l4=ni(e=>e.pivoting),Sh=Ht(l4,e=>e?.active),ALe=new Map,c4=Ht(l4,e=>e?.initialColumns||ALe),LLe=()=>{const e=Rn(),t=It(),n=dt(e,Df),r=dt(e,OR),i=dt(e,UH),o=dt(e,Ci),s=n===0&&i===0,a=dt(e,rDe),c=dt(e,Sh),u=!a&&s,h=!a&&n>0&&r===0,f=!a&&o.length===0,g=u&&c;let m=null,y=null;u&&(m="noRowsOverlay"),f&&(m="noColumnsOverlay"),g&&(m="emptyPivotOverlay"),h&&(m="noResultsOverlay"),a&&(m="loadingOverlay",y=t.slotProps?.loadingOverlay?.[s?"noRowsVariant":"variant"]??(s?"skeleton":"linear-progress"));const b={overlayType:m,loadingOverlayVariant:y};return{getOverlay:()=>{if(!m)return null;const S=t.slots?.[m],E=t.slotProps?.[m];return x.jsx(DLe,W({},b,{children:x.jsx(S,W({},E))}))},overlaysProps:b}},fS=ni(e=>e.columnMenu);function NLe(){const e=Ws(),t=It(),n=dt(e,Ci),r=dt(e,RAe),i=dt(e,MAe),o=dt(e,$G),s=dt(e,()=>PR(e)===null),a=dt(e,BAe),c=dt(e,NAe),u=dt(e,aS),h=dt(e,Bm),f=dt(e,fS),g=dt(e,Da),m=dt(e,bLe),y=!(a===null&&o===null&&s),b=e.current.columnHeadersContainerRef;return x.jsx(t.slots.columnHeaders,W({ref:b,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:i,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y},t.slotProps?.columnHeaders))}const BLe=Pc(NLe),FLe=or("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),jLe=or("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n,loadingOverlayVariant:r,overlayType:i}=e,o=r==="skeleton"||i==="noColumnsOverlay";return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],o&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),VLe=pn((e,t)=>{const{ownerState:n}=e,r=It(),o=Jw().hooks.useGridAriaAttributes();return x.jsxs(jLe,W({ownerState:n,className:e.className,tabIndex:-1},o,r.slotProps?.main,{ref:t,children:[x.jsx(FLe,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),$Le=()=>Et({root:["topContainer"]},Hn,{}),zLe=or("div")({position:"sticky",zIndex:40,top:0});function ULe(e){const t=$Le();return x.jsx(zLe,W({},e,{className:tt(t.root,ae["container--top"]),role:"presentation"}))}const HLe=(e,t)=>{const{classes:n}=e;return Et({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},Hn,n)},GLe=or("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),WLe=pn(function(t,n){const r=It(),i=!r.autoHeight&&t.style?.minHeight==="auto",o=HLe(r,i),s={classes:r.classes,overflowedContent:i};return x.jsx(GLe,W({},t,{ownerState:s,className:tt(o.root,t.className),ref:n}))}),KLe=or("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),u4=or("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:Pt.cell.background.pinned}),qLe=or(u4)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),YLe=or(u4)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),XLe=or("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function ZLe({rowsLength:e}){const t=Rn(),{viewportOuterSize:n,minimumSize:r,hasScrollX:i,hasScrollY:o,scrollbarSize:s,leftPinnedWidth:a,rightPinnedWidth:c}=dt(t,Si),u=i?s:0,h=n.height-r.height>0;return u===0&&!h?null:x.jsxs(KLe,{className:ae.filler,role:"presentation",style:{height:u,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&x.jsx(qLe,{className:ae["filler--pinnedLeft"],style:{width:a}}),x.jsx(XLe,{}),c>0&&x.jsx(YLe,{className:ae["filler--pinnedRight"],style:{width:c+(o?s:0)}})]})}const QLe=Pc(ZLe),JLe=["className"],eNe=e=>{const{classes:t}=e;return Et({root:["virtualScrollerRenderZone"]},Hn,t)},tNe=or("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),nNe=pn(function(t,n){const{className:r}=t,i=Tt(t,JLe),o=Ws(),s=It(),a=eNe(s),c=o.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return x.jsx(tNe,W({className:tt(a.root,r),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},i,{ref:n}))}),rNe={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},go=ni(e=>e.editRows),d4=Ht(go,(e,{rowId:t,editMode:n})=>n===Yl.Row&&!!e[t]),iNe=Ht(go,(e,{rowId:t,field:n})=>e[t]?.[n]??null),Ch=ni(e=>e.preferencePanel),oNe=Ht(Ch,(e,t)=>!!(e.open&&e.labelId===t));var ls=(function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e})(ls||{});const sNe={initialize:aNe,use:lNe,selectors:{}};function aNe(e){return{colspanMap:new Map}}function lNe(e,t,n){const r=t.colspan?.getColspan,i=()=>{e.state.colspanMap=new Map},o=(a,c)=>e.state.colspanMap.get(a)?.[c],s=Jt(r?(a,c,u,h)=>{for(let f=c;f<u;f+=1){const g=cNe(e.state.colspanMap,f,a,c,u,h,r);g.colSpan>1&&(f+=g.colSpan-1)}}:()=>{});return n.calculateColSpan=s,{resetColSpan:i,getCellColSpanInfo:o,calculateColSpan:s}}function cNe(e,t,n,r,i,o,s){const a=o.length,c=o[t],u=s(n,c,t);if(!u||u===1)return FR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let h=c.computedWidth;for(let f=1;f<u;f+=1){const g=t+f;if(g>=r&&g<i){const m=o[g];h+=m.computedWidth,FR(e,n,t+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+u,a-1),leftVisibleCellIndex:t})}FR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:u,width:h}})}return{colSpan:u}}function FR(e,t,n,r){let i=e.get(t);i||(i={},e.set(t,i)),i[n]=r}function uNe(e,t=166){let n,r;const i=()=>{n=void 0,e(...r)};function o(...s){r=s,n===void 0&&(n=setTimeout(i,t))}return o.clear=()=>{clearTimeout(n),n=void 0},o}function La(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o+=1)if(!La(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let o=0;o<i.length;o+=1)if(!t.has(i[o][0]))return!1;for(let o=0;o<i.length;o+=1){const s=i[o];if(!La(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let o=0;o<i.length;o+=1)if(!t.has(i[o][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o+=1)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(let i=0;i<r;i+=1){const o=n[i];if(!La(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function xh(e,t){return Math.round(e*10**t)/10**t}const Lc={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},dNe={EMPTY:{top:[],bottom:[]}},hNe={EMPTY:{left:[],right:[]}};let Oi=(function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e})({});(function(e){function t(n,r){return n===0&&r===0?Oi.NONE:Math.abs(r)>=Math.abs(n)?r>0?Oi.DOWN:Oi.UP:n>0?Oi.RIGHT:Oi.LEFT}e.forDelta=t})(Oi||(Oi={}));const fNe={isReady:!1,root:Lc.EMPTY,viewportOuterSize:Lc.EMPTY,viewportInnerSize:Lc.EMPTY,contentSize:Lc.EMPTY,minimumSize:Lc.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},Gf={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:If((e,t)=>{const n=[];let r=0;for(let i=0;i<t.length;i+=1)n.push(r),r+=t[i].computedWidth;return n}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},xs={initialize:pNe,use:gNe,selectors:Gf};function pNe(e){const t=W({},fNe,e.dimensions),{rowCount:n}=e,{rowHeight:r}=t,i={currentPageTotalHeight:n*r,positions:Array.from({length:n},(s,a)=>a*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},o=new Map;return{rootSize:Lc.EMPTY,dimensions:t,rowsMeta:i,rowHeights:o}}function gNe(e,t,n){const r=_.useRef(!0),{refs:i,dimensions:{rowHeight:o,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topPinnedHeight:u,bottomPinnedHeight:h},onResize:f}=t,g=i.container.current,m=_.useCallback(()=>{if(r.current)return;const T=Gf.rootSize(e.state),R=Gf.rowsMeta(e.state),M=yNe(g,t.dimensions.scrollbarSize),I=u+R.pinnedTopRowsTotalHeight,N=h+R.pinnedBottomRowsTotalHeight,D={width:s,height:xh(R.currentPageTotalHeight,1)};let L,A,$=!1,F=!1;if(t.autoHeight)F=!1,$=Math.round(s)>Math.round(T.width),L={width:T.width,height:I+N+D.height},A={width:Math.max(0,L.width-(F?M:0)),height:Math.max(0,L.height-($?M:0))};else{L={width:T.width,height:T.height},A={width:Math.max(0,L.width),height:Math.max(0,L.height-I-N)};const Z=D,ee=A,ie=Z.width>ee.width,U=Z.height>ee.height;(ie||U)&&(F=U,$=Z.width+(F?M:0)>ee.width,$&&(F=Z.height+M>ee.height)),F&&(A.width-=M),$&&(A.height-=M)}const H=Math.max(L.width,s+(F?M:0)),q={width:s,height:I+D.height+N},K={isReady:!0,root:T,viewportOuterSize:L,viewportInnerSize:A,contentSize:D,minimumSize:q,hasScrollX:$,hasScrollY:F,scrollbarSize:M,rowWidth:H,rowHeight:o,columnsTotalWidth:s,leftPinnedWidth:a,rightPinnedWidth:c,topContainerHeight:I,bottomContainerHeight:N},z=e.state.dimensions;La(z,K)||(e.update({dimensions:K}),f?.(K.root))},[e,g,t.dimensions.scrollbarSize,t.autoHeight,f,o,s,a,c,u,h]),{resizeThrottleMs:y}=t,b=Jt(m),v=_.useMemo(()=>y>0?uNe(b,y):void 0,[y,b]);_.useEffect(()=>v?.clear,[v]);const S=Jt(T=>{e.state.rootSize=T,r.current||!v?(r.current=!1,m()):v()});cr(()=>vNe(g,e,S),[g,e,S]),cr(m,[m]);const E=mNe(e,t,m);return{updateDimensions:m,debouncedUpdateDimensions:v,rowsMeta:E}}function mNe(e,t,n){const r=e.state.rowHeights,{rows:i,getRowHeight:o,getRowSpacing:s,getEstimatedRowHeight:a}=t,c=_.useRef(-1),u=_.useRef(!1),h=_.useRef(!1),f=t.pinnedRows,g=mr(e,Gf.rowHeight),m=Jt(A=>{let $=r.get(A);return $===void 0&&($={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},r.set(A,$)),$}),{applyRowHeight:y}=t,b=_.useCallback(A=>{const $=Gf.dimensions(e.state),F=$.rowHeight,H=m(A.id);if(!o)H.content=F,H.needsFirstMeasurement=!1;else{const q=o(A);if(q==="auto"){if(H.needsFirstMeasurement){const K=a?a(A):F;H.content=K??F}u.current=!0,H.autoHeight=!0}else H.content=q??$.rowHeight,H.needsFirstMeasurement=!1,H.autoHeight=!1}if(s){const q=s(A);H.spacingTop=q.top??0,H.spacingBottom=q.bottom??0}else H.spacingTop=0,H.spacingBottom=0;return y?.(H,A),H},[e,o,m,a,g,s,y]),v=_.useCallback(()=>{u.current=!1;const A=f?.top.reduce((z,Z)=>{const ee=b(Z);return z+ee.content+ee.spacingTop+ee.spacingBottom+ee.detail},0)??0,$=f?.bottom.reduce((z,Z)=>{const ee=b(Z);return z+ee.content+ee.spacingTop+ee.spacingBottom+ee.detail},0)??0,F=[],H=i.reduce((z,Z)=>{F.push(z);const ee=b(Z),ie=ee.content+ee.spacingTop+ee.spacingBottom+ee.detail;return z+ie},0);u.current||(c.current=1/0);const q=A!==e.state.rowsMeta.pinnedTopRowsTotalHeight||$!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||H!==e.state.rowsMeta.currentPageTotalHeight,K={currentPageTotalHeight:H,positions:F,pinnedTopRowsTotalHeight:A,pinnedBottomRowsTotalHeight:$};e.set("rowsMeta",K),q&&n(),h.current=!0},[e,f,i,b,n]),S=Jt(v),E=A=>r.get(A)?.content??Gf.rowHeight(e.state),T=(A,$)=>{const F=m(A),H=F.content!==$;F.needsFirstMeasurement=!1,F.content=$,h.current&&=!H},R=A=>r.get(A)?.autoHeight??!1,M=()=>c.current,I=A=>{u.current&&A>c.current&&(c.current=A)},N=()=>{r.clear(),v()},D=zs(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(A=>{for(let $=0;$<A.length;$+=1){const F=A[$],H=F.borderBoxSize&&F.borderBoxSize.length>0?F.borderBoxSize[0].blockSize:F.contentRect.height,q=F.target.__mui_id;if(t.focusedVirtualCell?.()?.id===q&&H===0)return;T(q,H)}h.current||requestAnimationFrame(()=>{S()})})).current,L=(A,$)=>(A.__mui_id=$,D?.observe(A),()=>D?.unobserve(A));return cr(()=>{v()},[v]),{getRowHeight:E,setLastMeasuredRowIndex:I,storeRowHeightMeasurement:T,hydrateRowsMeta:v,observeRowHeight:L,rowHasAutoHeight:R,getRowHeightEntry:m,getLastMeasuredRowIndex:M,resetRowHeights:N}}function vNe(e,t,n){if(!e)return;const r=e.getBoundingClientRect(),i={width:xh(r.width,1),height:xh(r.height,1)};if((t.state.rootSize===Lc.EMPTY||!Lc.equals(i,t.state.rootSize))&&n(i),typeof ResizeObserver>"u")return;const o=new ResizeObserver(([s])=>{if(!s)return;const a={width:xh(s.contentRect.width,1),height:xh(s.contentRect.height,1)};Lc.equals(a,t.state.rootSize)||n(a)});return o.observe(e),()=>{o.disconnect()}}const h4=new WeakMap;function yNe(e,t){if(t!==void 0)return t;if(e===null)return 0;const n=h4.get(e);if(n!==void 0)return n;const i=bi(e).createElement("div");i.style.width="99px",i.style.height="99px",i.style.position="absolute",i.style.overflow="scroll",i.className="scrollDiv",e.appendChild(i);const o=i.offsetWidth-i.clientWidth;return e.removeChild(i),h4.set(e,o),o}const bNe=(typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty").includes("firefox"),jR=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),Wf=(e,t,n)=>Math.max(t,Math.min(n,e)),VR=50,f4={top:0,left:0},wNe=Object.freeze(new Map),pS={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},gS={renderContext:rr(e=>e.virtualization.renderContext),enabledForRows:rr(e=>e.virtualization.enabledForRows),enabledForColumns:rr(e=>e.virtualization.enabledForColumns)},p4={initialize:SNe,use:CNe,selectors:gS};function SNe(e){return{virtualization:W({enabled:!jR,enabledForRows:!jR,enabledForColumns:!jR,renderContext:pS},e.initialState?.virtualization),getters:null}}function CNe(e,t,n){const{refs:r,dimensions:{rowHeight:i,columnsTotalWidth:o},virtualization:{isRtl:s=!1,rowBufferPx:a=150,columnBufferPx:c=150},colspan:u,initialState:h,rows:f,range:g,columns:m,pinnedRows:y=dNe.EMPTY,pinnedColumns:b=hNe.EMPTY,minimalContentHeight:v,autoHeight:S,onWheel:E,onTouchMove:T,onRenderContextChange:R,onScrollChange:M,scrollReset:I,renderRow:N,renderInfiniteLoadingTrigger:D}=t,L=mr(e,xs.selectors.needsHorizontalScrollbar),A=y.bottom.length>0,[$,F]=_.useState(wNe),[,H]=_.useState(0),q=_.useRef(!1),K=mr(e,gS.renderContext),z=mr(e,gS.enabledForRows),Z=mr(e,gS.enabledForColumns),ee=mr(e,xs.selectors.rowsMeta),ie=mr(e,xs.selectors.contentHeight),U=_.useRef(h?.scroll??f4),Y=_.useRef(!1),J=_.useRef(f4),he=_.useRef(pS),ge=vs(),pe=_.useRef(void 0),le=zs(()=>ENe(s,a,c,i*15,VR*6)).current,Ce=_.useCallback(Ke=>{y4(Ke,e.state.virtualization.renderContext)||e.set("virtualization",W({},e.state.virtualization,{renderContext:Ke}));const Ft=xs.selectors.dimensions(e.state).isReady,Mt=Ke.firstRowIndex!==he.current.firstRowIndex||Ke.lastRowIndex!==he.current.lastRowIndex;Ft&&Mt&&(he.current=Ke,R?.(Ke)),J.current=U.current},[e,R]),ke=Jt(()=>{const Ke=r.scroller.current;if(!Ke)return;const Ft=xs.selectors.dimensions(e.state),Mt=Math.ceil(Ft.minimumSize.height-Ft.viewportOuterSize.height),zt=Math.ceil(Ft.minimumSize.width-Ft.viewportInnerSize.width),Lt={top:Wf(Ke.scrollTop,0,Mt),left:s?Wf(Ke.scrollLeft,-zt,0):Wf(Ke.scrollLeft,0,zt)},Xt=Lt.left-U.current.left,sn=Lt.top-U.current.top,xt=Xt!==0||sn!==0;U.current=Lt;const Dt=xt?Oi.forDelta(Xt,sn):Oi.NONE,Je=Math.abs(U.current.top-J.current.top),bt=Math.abs(U.current.left-J.current.left),wt=Je>=i||bt>=VR,at=le.direction!==Dt;if(!(wt||at))return K;if(at)switch(Dt){case Oi.NONE:case Oi.LEFT:case Oi.RIGHT:pe.current=void 0;break;default:pe.current=K;break}le.direction=Dt,le.buffer=w4(s,Dt,a,c,i*15,VR*6);const Vt=g4(e,t,n,z,Z),_t=m4(Vt,U.current,le);return y4(_t,K)||(Tb.flushSync(()=>{Ce(_t)}),ge.start(1e3,ke)),_t}),Te=Jt(()=>{if(!xs.selectors.dimensions(e.state).isReady&&(z||Z))return;const Ke=g4(e,t,n,z,Z),Ft=m4(Ke,U.current,le);pe.current=void 0,Ce(Ft)}),me=Jt(()=>{if(Y.current){Y.current=!1;return}const Ke=ke();Ke&&M?.(U.current,Ke)}),ye=()=>ee.positions[K.firstRowIndex]??0,xe=(Ke={},Ft)=>{if(!Ke.rows&&!g)return[];let Mt=K;Ke.renderContext&&(Mt=Ke.renderContext,Mt.firstColumnIndex=K.firstColumnIndex,Mt.lastColumnIndex=K.lastColumnIndex);const zt=!A&&Ke.position===void 0||A&&Ke.position==="bottom",Lt=Ke.position!==void 0;let Xt;switch(Ke.position){case"top":Xt=0;break;case"bottom":Xt=y.top.length+f.length;break;case void 0:default:Xt=y.top.length;break}const sn=Ke.rows??f,xt=Mt.firstRowIndex,Dt=Math.min(Mt.lastRowIndex,sn.length),Je=Ke.rows?S4(0,Ke.rows.length):S4(xt,Dt);let bt=-1;const wt=t.focusedVirtualCell?.();!Lt&&wt&&(wt.rowIndex<xt&&(Je.unshift(wt.rowIndex),bt=wt.rowIndex),wt.rowIndex>Dt&&(Je.push(wt.rowIndex),bt=wt.rowIndex));const at=[],mt=xs.selectors.columnPositions(e.state,m);return Je.forEach(Vt=>{const{id:_t,model:Nt}=sn[Vt];if(Ft&&!Ft[_t])return;const Zn=(g?.firstRowIndex||0)+Xt+Vt;if(u?.enabled){const un=b.left.length,wn=m.length-b.right.length;n.calculateColSpan(_t,un,wn,m),b.left.length>0&&n.calculateColSpan(_t,0,b.left.length,m),b.right.length>0&&n.calculateColSpan(_t,m.length-b.right.length,m.length,m)}const An=n.rowsMeta.rowHasAutoHeight(_t)?"auto":n.rowsMeta.getRowHeight(_t);let yr=!1;Ke.position===void 0&&(yr=Vt===0);let Qn=!1;const Br=Vt===sn.length-1;if(zt)if(Lt)Qn=Br;else{const un=f.length-1;Vt===un&&(Qn=!0)}let St=Mt;pe.current&&Vt>=pe.current.firstRowIndex&&Vt<pe.current.lastRowIndex&&(St=pe.current);const Yr=Vt===bt,Xr=wt?.rowIndex===Zn,en=b4(mt,St,b.left.length),Gn=Br&&Ke.position==="top",$t=St.firstColumnIndex,Kt=St.lastColumnIndex;if(at.push(N({id:_t,model:Nt,rowIndex:Zn,offsetLeft:en,columnsTotalWidth:o,baseRowHeight:An,firstColumnIndex:$t,lastColumnIndex:Kt,focusedColumnIndex:Xr?wt.columnIndex:void 0,isFirstVisible:yr,isLastVisible:Qn,isVirtualFocusRow:Yr,showBottomBorder:Gn})),Yr)return;const nn=$.get(_t);nn&&at.push(nn),Ke.position===void 0&&Br&&at.push(D(_t))}),at},Re=_.useMemo(()=>({overflowX:L?void 0:"hidden",overflowY:S?"hidden":void 0}),[L,S]),Le=_.useMemo(()=>{const Ke={width:L?o:"auto",flexBasis:ie,flexShrink:0};return Ke.flexBasis===0&&(Ke.flexBasis=v),Ke},[o,ie,L,v]),Ie=_.useRef(null),je=_.useCallback(Ke=>{Ke&&Ie.current?.(o,ie)},[o,ie]);cr(()=>{q.current&&Te()},[Z,z,Te]),cr(()=>{r.scroller.current&&(r.scroller.current.scrollLeft=0)},[r.scroller,I]),RLe(K!==pS,()=>{if(M?.(U.current,K),q.current=!0,h?.scroll&&r.scroller.current){const Ke=r.scroller.current,{top:Ft,left:Mt}=h.scroll,zt={top:!(Ft>0),left:!(Mt>0)};!zt.left&&o&&(Ke.scrollLeft=Mt,zt.left=!0,Y.current=!0),!zt.top&&ie&&(Ke.scrollTop=Ft,Y.current=!0),(!zt.top||!zt.left)&&(Ie.current=(Lt,Xt)=>{!zt.left&&Lt&&(Ke.scrollLeft=Mt,zt.left=!0,Y.current=!0),!zt.top&&Xt&&(Ke.scrollTop=Ft,zt.top=!0,Y.current=!0),zt.left&&zt.top&&(Ie.current=null)})}}),Lw(e,xs.selectors.dimensions,Te);const lt=Ke=>Ft=>{Ft&&r[Ke].current!==Ft&&(r[Ke].current=Ft,H(Mt=>Mt+1))},We={setPanels:F,getOffsetTop:ye,getRows:xe,getContainerProps:()=>({ref:lt("container")}),getScrollerProps:()=>({ref:lt("scroller"),onScroll:me,onWheel:E,onTouchMove:T,style:Re,role:"presentation",tabIndex:bNe?-1:void 0}),getContentProps:()=>({ref:je,style:Le,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:lt("scrollbarVertical"),scrollPosition:U}),getScrollbarHorizontalProps:()=>({ref:lt("scrollbarHorizontal"),scrollPosition:U}),getScrollAreaProps:()=>({scrollPosition:U})};return wh(()=>{e.state=W({},e.state,{getters:We})}),_.useEffect(()=>{e.update({getters:We})},Object.values(We)),{getters:We,useVirtualization:()=>mr(e,Ke=>Ke),setPanels:F,forceUpdateRenderContext:Te,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function g4(e,t,n,r,i){const o=xs.selectors.dimensions(e.state),s=t.rows,a=t.range,c=t.columns,u=n.getHiddenCellsOrigin(),h=t.rows.at(-1)?.id,f=c.at(-1);return{api:n,enabledForRows:r,enabledForColumns:i,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:o.leftPinnedWidth,columnsTotalWidth:o.columnsTotalWidth,viewportInnerWidth:o.viewportInnerSize.width,viewportInnerHeight:o.viewportInnerSize.height,lastRowHeight:h!==void 0?n.rowsMeta.getRowHeight(h):0,lastColumnWidth:f?.computedWidth??0,rowsMeta:xs.selectors.rowsMeta(e.state),columnPositions:xs.selectors.columnPositions(e.state,t.columns),rows:s,range:a,pinnedColumns:t.pinnedColumns,columns:c,hiddenCellsOriginMap:u,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function m4(e,t,n){const r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:i,left:o}=t,s=Math.abs(o)+e.leftPinnedWidth;if(e.enabledForRows){let c=Math.min(v4(e,i,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const u=e.hiddenCellsOriginMap[c];if(u){const f=Math.min(...Object.values(u));c=Math.min(c,f)}const h=e.autoHeight?c+e.rows.length:v4(e,i+e.viewportInnerHeight);r.firstRowIndex=c,r.lastRowIndex=h}if(e.enabledForColumns){let c=0,u=e.columnPositions.length,h=!1;const[f,g]=$R({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let m=f;m<g&&!h;m+=1){const y=e.rows[m];h=e.api.rowsMeta.rowHasAutoHeight(y.id)}(!h||e.virtualizeColumnsWithAutoRowHeight)&&(c=ju(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),u=ju(s+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=c,r.lastColumnIndex=u}return xNe(e,r,n)}function v4(e,t,n){const r=e.api.rowsMeta.getLastMeasuredRowIndex();let i=r===1/0;e.range?.lastRowIndex&&!i&&(i=r>=e.range.lastRowIndex);const o=Wf(r-(e.range?.firstRowIndex||0),0,e.rowsMeta.positions.length);return i||e.rowsMeta.positions[o]>=t?ju(t,e.rowsMeta.positions,n):_Ne(t,e.rowsMeta.positions,o,n)}function xNe(e,t,n){const[r,i]=$R({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[o,s]=$R({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns?.left.length??0,maxLastIndex:e.columns.length-(e.pinnedColumns?.right.length??0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),a=TNe({api:e.api,firstColumnToRender:o,firstRowToRender:r,lastRowToRender:i,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:i,firstColumnIndex:a,lastColumnIndex:s}}function ju(e,t,n=void 0,r=0,i=t.length){if(t.length<=0)return-1;if(r>=i)return r;const o=r+Math.floor((i-r)/2),s=t[o];let a;if(n?.atStart){const c=(o===t.length-1?n.lastPosition:t[o+1])-s;a=e-c<s}else a=e<=s;return a?ju(e,t,n,r,o):ju(e,t,n,o+1,i)}function _Ne(e,t,n,r=void 0){let i=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=i,i*=2;return ju(e,t,r,Math.floor(n/2),Math.min(n,t.length))}function $R({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:r,minFirstIndex:i,maxLastIndex:o,positions:s,lastSize:a}){const c=s[e]-n,u=s[t]+r,h=ju(c,s,{atStart:!0,lastPosition:s[s.length-1]+a}),f=ju(u,s);return[Wf(h,i,o),Wf(f,i,o)]}function y4(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function b4(e,t,n){const r=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(r)}function w4(e,t,n,r,i,o){if(e)switch(t){case Oi.LEFT:t=Oi.RIGHT;break;case Oi.RIGHT:t=Oi.LEFT;break}switch(t){case Oi.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case Oi.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:o};case Oi.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:o,columnBefore:0};case Oi.UP:return{rowAfter:0,rowBefore:i,columnAfter:0,columnBefore:0};case Oi.DOWN:return{rowAfter:i,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function ENe(e,t,n,r,i){return{direction:Oi.NONE,buffer:w4(e,Oi.NONE,t,n,r,i)}}function S4(e,t){return Array.from({length:t-e}).map((n,r)=>e+r)}function TNe({api:e,firstColumnToRender:t,firstRowToRender:n,lastRowToRender:r,visibleRows:i}){let o=t,s=!1;for(;!s&&o>=0;){s=!0;for(let a=n;a<r;a+=1)if(i[a]){const u=i[a].id,h=e.getCellColSpanInfo(u,o);if(h&&h.spannedByColSpan&&h.leftVisibleCellIndex<o){o=h.leftVisibleCellIndex,s=!1;break}}}return o}const MNe={initialize:ONe,use:RNe,selectors:{}};function ONe(e){return{}}function RNe(e,t,n){return{getViewportPageSize:()=>{const i=xs.selectors.dimensions(e.state);if(!i.isReady)return 0;if(t.getRowHeight){const s=p4.selectors.renderContext(e.state),a=s.lastRowIndex-s.firstRowIndex;return Math.min(a-1,t.rows.length)}const o=Math.floor(i.viewportInnerSize.height/i.rowHeight);return Math.min(o,t.rows.length)}}}const INe={firstRowIndex:0,lastRowIndex:0},kNe={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},C4={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},Kf={initialize:PNe,use:DNe,selectors:C4};function PNe(e){return{rowSpanning:e.initialState?.rowSpanning??{caches:kNe,processedRange:INe}}}function DNe(e,t,n){return{getHiddenCellsOrigin:()=>C4.hiddenCellsOriginMap(e.state)}}const x4=[xs,p4,sNe,Kf,MNe],ANe=e=>{const t=zs(()=>new gm(x4.map(r=>r.initialize(e)).reduce((r,i)=>Object.assign(r,i),{}))).current,n={};for(const r of x4)Object.assign(n,r.use(t,e,n));return{store:t,api:n}},jm=!(typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent)),LNe=(e,t)=>{const{disableVirtualization:n,autoHeight:r}=t;return W({},e,{virtualization:{enabled:!n&&jm,enabledForColumns:!n&&jm,enabledForRows:!n&&!r&&jm,renderContext:pS}})};function NNe(e,t){const{virtualizer:n}=e.current,{autoHeight:r,disableVirtualization:i}=t,o=u=>{u&&=jm,n.store.set("virtualization",W({},n.store.state.virtualization,{enabled:u,enabledForColumns:u,enabledForRows:u&&!r}))};zn(e,{unstable_setVirtualization:o,unstable_setColumnVirtualization:u=>{u&&=jm,n.store.set("virtualization",W({},n.store.state.virtualization,{enabledForColumns:u}))}},"public");const c=n.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:c}),Nr(e,"sortedRowsSet",c),Nr(e,"paginationModelChange",c),Nr(e,"columnsChange",c),_.useEffect(()=>{o(!t.disableVirtualization)},[i,r])}const mS=ni(e=>e.virtualization);Ht(mS,e=>e.enabled);const BNe=Ht(mS,e=>e.enabledForColumns);Ht(mS,e=>e.enabledForRows);const _4=Ht(mS,e=>e.renderContext),FNe=ni(e=>e.virtualization.renderContext.firstColumnIndex),jNe=ni(e=>e.virtualization.renderContext.lastColumnIndex),VNe=ur(FNe,jNe,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t}));function $Ne(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}class zNe{constructor({ttl:t=3e5,getKey:n=$Ne}){this.cache={},this.ttl=t,this.getKey=n}set(t,n){const r=this.getKey(t),i=Date.now()+this.ttl;this.cache[r]={value:n,expiry:i}}get(t){const n=this.getKey(t),r=this.cache[n];if(r){if(Date.now()>r.expiry){delete this.cache[n];return}return r.value}}clear(){this.cache={}}}class UNe extends Error{constructor(t){super(t.message),this.name="GridGetRowsError",this.params=t.params,this.cause=t.cause}}class HNe extends Error{constructor(t){super(t.message),this.name="GridUpdateRowError",this.params=t.params,this.cause=t.cause}}const GNe=(e,t)=>{const{classes:n}=e,r={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return Et(r,Hn,n)},E4=or("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),WNe=or(E4)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),KNe=or(E4)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),T4=pn(function(t,n){const r=Ws(),i=It(),o=_.useRef(!1),s=_.useRef(0),a=_.useRef(null),c=_.useRef(null),u=GNe(i,t.position),h=dt(r,Si),f=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",m=t.position==="vertical"?"top":"left",y=t.position==="vertical"?h.hasScrollX:h.hasScrollY,b=h.minimumSize[f]+(y?h.scrollbarSize:0),S=(t.position==="vertical"?h.viewportInnerSize.height:h.viewportOuterSize.width)*(b/h.viewportOuterSize[f]),E=Jt(()=>{const M=a.current,I=t.scrollPosition.current;if(!M||I[m]===s.current)return;if(s.current=I[m],o.current){o.current=!1;return}o.current=!0;const N=I[m]/b;M[g]=N*S}),T=Jt(()=>{const M=r.current.virtualScrollerRef.current,I=a.current;if(!I)return;if(o.current){o.current=!1;return}o.current=!0;const N=I[g]/S;M[g]=N*b});nw(()=>{const M=r.current.virtualScrollerRef.current,I=a.current,N={passive:!0};return M.addEventListener("scroll",E,N),I.addEventListener("scroll",T,N),()=>{M.removeEventListener("scroll",E,N),I.removeEventListener("scroll",T,N)}}),_.useEffect(()=>{c.current.style.setProperty(f,`${S}px`)},[S,f]);const R=t.position==="vertical"?WNe:KNe;return x.jsx(R,{ref:qn(n,a),className:u.root,style:t.position==="vertical"&&i.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:M=>{M.target.blur()},children:x.jsx("div",{ref:c,className:u.content})})}),qNe=e=>{const{classes:t,hasScrollX:n,hasPinnedRight:r,loadingOverlayVariant:i,overlayType:o}=e;return Et({root:["main",r&&"main--hasPinnedRight",(i==="skeleton"||o==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},Hn,t)},YNe=or("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),XNe=e=>e.current.state.dimensions.rightPinnedWidth>0;function ZNe(e){const t=Ws(),n=It(),r=dt(t,QPe),i=dt(t,ZPe),o=dt(t,XNe),s=dt(t,nDe),{getOverlay:a,overlaysProps:c}=LLe(),u=W({classes:n.classes,hasScrollX:i,hasPinnedRight:o},c),h=qNe(u),f=t.current.virtualizer.api.useVirtualization().getters,{getContainerProps:g,getScrollerProps:m,getContentProps:y,getScrollbarVerticalProps:b,getScrollbarHorizontalProps:v,getRows:S,getScrollAreaProps:E}=f,T=S(void 0,Io(t));return x.jsxs(VLe,W({className:h.root},g(),{ownerState:u,children:[x.jsx(hS,W({scrollDirection:"left"},E())),x.jsx(hS,W({scrollDirection:"right"},E())),x.jsx(hS,W({scrollDirection:"up"},E())),x.jsx(hS,W({scrollDirection:"down"},E())),x.jsxs(YNe,W({className:h.scroller},m(),{ownerState:u,children:[x.jsxs(ULe,{children:[!n.listView&&x.jsx(BLe,{}),x.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:f})]}),a(),x.jsx(WLe,W({},y(),{children:x.jsxs(nNe,{role:"rowgroup",children:[T,x.jsx(n.slots.detailPanels,{virtualScroller:f})]})})),s&&x.jsx(QLe,{rowsLength:T.length}),x.jsx(n.slots.bottomContainer,{children:x.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:f})})]})),i&&!n.listView&&x.jsx(T4,W({position:"horizontal"},v())),r&&x.jsx(T4,W({position:"vertical"},b())),e.children]}))}function QNe(){const e=It();return e.hideFooter?null:x.jsx(e.slots.footer,W({},e.slotProps?.footer))}let zR;function UR(){return zR===void 0&&document.createElement("div").focus({get preventScroll(){return zR=!0,!1}}),zR}function JNe({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const r=W({},e);return Object.keys(n).forEach(i=>{const o=i;n[o]!==void 0&&(r[o]=n[o])}),r}const eBe=e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null},tBe=e=>e===IG||eBe(e)!==null,M4=(e,t)=>{if(e)if(t){if(e===Xn.LEFT)return"right";if(e===Xn.RIGHT)return"left"}else{if(e===Xn.LEFT)return"left";if(e===Xn.RIGHT)return"right"}};function vS(e,t,n,r){const i=M4(n,t);return!i||r===void 0||(e[i]=r),e}const nBe=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],rBe=["changeReason","unstable_updateValueOnRender"];Xn.LEFT+"",Nu.LEFT,Xn.RIGHT+"",Nu.RIGHT,Xn.NONE+"",Xn.VIRTUAL+"";const iBe=e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:i,isEditable:o,isSelected:s,isSelectionMode:a,classes:c}=e,u={root:["cell",`cell--text${et(t)}`,s&&"selected",o&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",i===Xn.LEFT&&"cell--pinnedLeft",i===Xn.RIGHT&&"cell--pinnedRight",a&&!o&&"cell--selectionMode"]};return Et(u,Hn,c)},oBe=pn(function(t,n){const{column:r,row:i,rowId:o,rowNode:s,align:a,colIndex:c,width:u,className:h,style:f,colSpan:g,disableDragEvents:m,isNotVisible:y,pinnedOffset:b,pinnedPosition:v,showRightBorder:S,showLeftBorder:E,onClick:T,onDoubleClick:R,onMouseDown:M,onMouseUp:I,onMouseOver:N,onKeyDown:D,onKeyUp:L,onDragEnter:A,onDragOver:$}=t,F=Tt(t,nBe),H=Ws(),q=It(),K=Oo(),z=r.field,Z=dt(H,iNe,{rowId:o,field:z}),ie=Jw().hooks.useCellAggregationResult(o,z),U=Z?vr.Edit:vr.View,Y=H.current.getCellParamsForRow(o,z,i,{colDef:r,cellMode:U,rowNode:s,tabIndex:dt(H,()=>{const bt=PR(H);return bt&&bt.field===z&&bt.id===o?0:-1}),hasFocus:dt(H,()=>{const bt=Cs(H);return bt?.id===o&&bt.field===z})});Y.api=H.current,ie&&(Y.value=ie.value,Y.formattedValue=r.valueFormatter?r.valueFormatter(Y.value,i,r,H):Y.value);const J=dt(H,()=>H.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:o,field:z})),he=H.current.virtualizer.store,ge=mr(he,Kf.selectors.hiddenCells),pe=mr(he,Kf.selectors.spannedCells),{hasFocus:le,isEditable:Ce=!1,value:ke}=Y,Te=r.type==="actions"&&"getActions"in r&&typeof r.getActions=="function"&&r.getActions(H.current.getRowParams(o)).some(bt=>!bt.props.disabled),me=(U==="view"||!Ce)&&!Te?Y.tabIndex:-1,{classes:ye,getCellClassName:xe}=q,Le=[dt(H,()=>H.current.unstable_applyPipeProcessors("cellClassName",[],{id:o,field:z}).filter(Boolean).join(" "))];r.cellClassName&&Le.push(typeof r.cellClassName=="function"?r.cellClassName(Y):r.cellClassName),r.display==="flex"&&Le.push(ae["cell--flex"]),xe&&Le.push(xe(Y));const Ie=Y.formattedValue??ke,je=_.useRef(null),lt=qn(n,je),We=_.useRef(null),Bt=q.cellSelection??!1,Ct={align:a,showLeftBorder:E,showRightBorder:S,isEditable:Ce,classes:q.classes,pinnedPosition:v,isSelected:J,isSelectionMode:Bt},Ot=iBe(Ct),Ke=_.useCallback(bt=>wt=>{const at=H.current.getCellParams(o,z||"");H.current.publishEvent(bt,at,wt),I&&I(wt)},[H,z,I,o]),Ft=_.useCallback(bt=>wt=>{const at=H.current.getCellParams(o,z||"");H.current.publishEvent(bt,at,wt),M&&M(wt)},[H,z,M,o]),Mt=_.useCallback((bt,wt)=>at=>{if(!H.current.getRow(o))return;const mt=H.current.getCellParams(o,z||"");H.current.publishEvent(bt,mt,at),wt&&wt(at)},[H,z,o]),zt=ge[o]?.[c]??!1,Lt=pe[o]?.[c]??1,Xt=_.useMemo(()=>{if(y)return{padding:0,opacity:0,width:0,height:0,border:0};const bt=vS(W({"--width":`${u}px`},f),K,v,b),wt=v===Xn.LEFT,at=v===Xn.RIGHT;return Lt>1&&(bt.height=`calc(var(--height) * ${Lt})`,bt.zIndex=10,(wt||at)&&(bt.zIndex=40)),bt},[u,y,f,b,v,K,Lt]);if(_.useEffect(()=>{if(!le||U===vr.Edit)return;const bt=bi(H.current.rootElementRef.current);if(je.current&&!je.current.contains(bt.activeElement)){const wt=je.current.querySelector('[tabindex="0"]'),at=We.current||wt||je.current;if(UR())at.focus({preventScroll:!0});else{const mt=H.current.getScrollPosition();at.focus(),H.current.scroll(mt)}}},[le,U,H]),zt)return x.jsx("div",{"data-colindex":c,role:"presentation",style:W({width:"var(--width)"},Xt)});let sn=F.onFocus,xt,Dt;if(Z===null&&r.renderCell&&(xt=r.renderCell(Y)),Z!==null&&r.renderEditCell){const bt=H.current.getRowWithUpdatedValues(o,r.field),wt=Tt(Z,rBe),at=r.valueFormatter?r.valueFormatter(Z.value,bt,r,H):Y.formattedValue,mt=W({},Y,{row:bt,formattedValue:at},wt);xt=r.renderEditCell(mt),Le.push(ae["cell--editing"]),Le.push(ye?.["cell--editing"])}if(xt===void 0){const bt=Ie?.toString();xt=bt,Dt=bt}_.isValidElement(xt)&&Te&&(xt=_.cloneElement(xt,{focusElementRef:We}));const Je=m?null:{onDragEnter:Mt("cellDragEnter",A),onDragOver:Mt("cellDragOver",$)};return x.jsx("div",W({className:tt(Ot.root,Le,h),role:"gridcell","data-field":z,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":g,"aria-rowspan":Lt,style:Xt,title:Dt,tabIndex:me,onClick:Mt("cellClick",T),onDoubleClick:Mt("cellDoubleClick",R),onMouseOver:Mt("cellMouseOver",N),onMouseDown:Ft("cellMouseDown"),onMouseUp:Ke("cellMouseUp"),onKeyDown:Mt("cellKeyDown",D),onKeyUp:Mt("cellKeyUp",L)},Je,F,{onFocus:sn,ref:lt,children:xt}))}),sBe=Pc(oBe),aBe=["label","icon","showInMenu","onClick"],lBe=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],cBe=pn((e,t)=>{const n=It();if(!e.showInMenu){const{label:h,icon:f,onClick:g}=e,m=Tt(e,aBe),y=b=>{g?.(b)};return x.jsx(n.slots.baseIconButton,W({size:"small",role:"menuitem","aria-label":h},m,{onClick:y},n.slotProps?.baseIconButton,{ref:t,children:_.cloneElement(f,{fontSize:"small"})}))}const{label:r,icon:i,onClick:o,closeMenuOnClick:s=!0,closeMenu:a}=e,c=Tt(e,lBe),u=h=>{o?.(h),s&&a?.()};return x.jsx(n.slots.baseMenuItem,W({ref:t},c,{onClick:u,iconStart:i,children:r}))}),uBe=["field","type","align","width","height","empty","style","className"],O4="1.3em",dBe="1.2em",R4=[40,80],hBe={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},fBe=e=>{const{align:t,classes:n,empty:r}=e,i={root:["cell","cellSkeleton",`cell--text${t?et(t):"Left"}`,r&&"cellEmpty"]};return Et(i,Hn,n)},pBe=jDe(12345);function gBe(e){const{field:t,type:n,align:r,width:i,height:o,empty:s=!1,style:a,className:c}=e,u=Tt(e,uBe),h=It(),f={classes:h.classes,align:r,empty:s},g=fBe(f),m=_.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:O4,height:O4};const[b,v]=n?hBe[n]??R4:R4;return{variant:"text",width:`${Math.round(pBe(b,v))}%`,height:dBe}},[n]);return x.jsx("div",W({"data-field":t,className:tt(g.root,c),style:W({height:o,maxWidth:i,minWidth:i},a)},u,{children:!s&&x.jsx(h.slots.baseSkeleton,W({},m))}))}const mBe=Pc(gBe),vBe=10,yS=-5,qf=1,I4={width:3,rx:1.5,x:10.5},yBe="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",bBe=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||e.current.state.dimensions.scrollbarSize===0),wBe=Ee("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${ae.autoHeight}`]:t.autoHeight},{[`&.${ae.autosizing}`]:t.autosizing},{[`&.${ae["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${ae["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${ae["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${ae["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${ae["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${ae.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${ae.actionsCell}`]:t.actionsCell},{[`& .${ae.booleanCell}`]:t.booleanCell},{[`& .${ae.cell}`]:t.cell},{[`& .${ae["cell--editable"]}`]:t["cell--editable"]},{[`& .${ae["cell--editing"]}`]:t["cell--editing"]},{[`& .${ae["cell--flex"]}`]:t["cell--flex"]},{[`& .${ae["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${ae["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${ae["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${ae["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${ae["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${ae["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${ae["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${ae["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${ae["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${ae["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${ae["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${ae["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${ae.cellCheckbox}`]:t.cellCheckbox},{[`& .${ae.cellEmpty}`]:t.cellEmpty},{[`& .${ae.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${ae.cellSkeleton}`]:t.cellSkeleton},{[`& .${ae.checkboxInput}`]:t.checkboxInput},{[`& .${ae.columnHeader}`]:t.columnHeader},{[`& .${ae["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${ae["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${ae["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${ae["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${ae["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${ae["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${ae["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${ae["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${ae["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${ae["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${ae["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${ae["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${ae["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${ae["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${ae["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${ae["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${ae["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${ae["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${ae.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${ae.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${ae.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${ae.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${ae.columnSeparator}`]:t.columnSeparator},{[`& .${ae["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${ae["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${ae["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${ae["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${ae["container--bottom"]}`]:t["container--bottom"]},{[`& .${ae["container--top"]}`]:t["container--top"]},{[`& .${ae.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${ae["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${ae.editBooleanCell}`]:t.editBooleanCell},{[`& .${ae.filterIcon}`]:t.filterIcon},{[`& .${ae["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${ae["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${ae["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${ae.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${ae.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${ae.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${ae.headerFilterRow}`]:t.headerFilterRow},{[`& .${ae.iconSeparator}`]:t.iconSeparator},{[`& .${ae.menuIcon}`]:t.menuIcon},{[`& .${ae.menuIconButton}`]:t.menuIconButton},{[`& .${ae.menuList}`]:t.menuList},{[`& .${ae.menuOpen}`]:t.menuOpen},{[`& .${ae.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${ae.pinnedRows}`]:t.pinnedRows},{[`& .${ae["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${ae["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${ae.row}`]:t.row},{[`& .${ae["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${ae["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${ae["row--dragging"]}`]:t["row--dragging"]},{[`& .${ae["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${ae["row--editable"]}`]:t["row--editable"]},{[`& .${ae["row--editing"]}`]:t["row--editing"]},{[`& .${ae["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${ae["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${ae.rowReorderCell}`]:t.rowReorderCell},{[`& .${ae["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${ae.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${ae.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${ae.rowSkeleton}`]:t.rowSkeleton},{[`& .${ae.scrollbar}`]:t.scrollbar},{[`& .${ae["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${ae["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${ae.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${ae["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${ae["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${ae["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${ae["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${ae.sortIcon}`]:t.sortIcon},{[`& .${ae.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${ae.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${ae.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${ae.withBorderColor}`]:t.withBorderColor},{[`& .${ae["row--dropAbove"]}`]:t["row--dropAbove"]},{[`& .${ae["row--dropBelow"]}`]:t["row--dropBelow"]},{[`& .${ae["row--beingDragged"]}`]:t["row--beingDragged"]}]})(()=>{const e=Ws(),t=dt(e,bBe),n=Pt.colors.background.base,r=Pt.header.background.base,i=Pt.cell.background.pinned,o=SBe(Pt.colors.interactive.hover),s=Pt.colors.interactive.hoverOpacity,a=Pt.colors.interactive.selected,c=Pt.colors.interactive.selectedOpacity,u=a,h=`calc(${c} + ${s})`,f=Vu(n,o,s),g=Vu(n,a,c),m=Vu(n,u,h),y=Vu(i,o,s),b=Vu(i,a,c),v=Vu(i,u,h),S=N=>({[`& .${ae["cell--pinnedLeft"]}, & .${ae["cell--pinnedRight"]}`]:{backgroundColor:N,"&.Mui-selected":{backgroundColor:Vu(N,g,c),"&:hover":{backgroundColor:Vu(N,m,h)}}}}),E=S(y),T=S(b),R=S(v),M={backgroundColor:g,"&:hover":{backgroundColor:m,"@media (hover: none)":{backgroundColor:g}}};return{"--unstable_DataGrid-radius":Pt.radius.base,"--unstable_DataGrid-headWeight":Pt.typography.fontWeight.medium,"--DataGrid-rowBorderColor":Pt.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:Pt.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:Pt.colors.background.base,color:Pt.colors.foreground.base,font:Pt.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${ae.main} > *:first-child${yBe}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${ae.autoHeight}`]:{height:"auto"},[`&.${ae.autosizing}`]:{[`& .${ae.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${ae.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${ae.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${ae.groupingCriteriaCell}`]:{width:"unset"},[`& .${ae.treeDataGroupingCell}`]:{width:"unset"}},[`&.${ae.withSidePanel}`]:{flexDirection:"row"},[`& .${ae.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${ae.columnHeader}, & .${ae.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${ae.columnHeader}:focus-within, & .${ae.cell}:focus-within`]:{outline:`solid ${k4(Pt.colors.interactive.focus,.5)} ${qf}px`,outlineOffset:qf*-1},[`& .${ae.columnHeader}:focus, & .${ae.cell}:focus`]:{outline:`solid ${Pt.colors.interactive.focus} ${qf}px`,outlineOffset:qf*-1},[`& .${ae.columnHeader}:focus,
      & .${ae["columnHeader--withLeftBorder"]},
      & .${ae["columnHeader--withRightBorder"]},
      & .${ae["columnHeader--siblingFocused"]},
      & .${ae["virtualScroller--hasScrollX"]} .${ae["columnHeader--lastUnpinned"]},
      & .${ae["virtualScroller--hasScrollX"]} .${ae["columnHeader--last"]}
      `]:{[`& .${ae.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${ae["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${ae["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${ae["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${ae["root--noToolbar"]} [aria-rowindex="1"] .${ae["columnHeader--last"]}`]:{borderTopRightRadius:t?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${ae.columnHeaderCheckbox}, & .${ae.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${ae.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:r},[`& .${ae["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${ae["virtualScroller--hasScrollX"]} .${ae["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${ae["pivotPanelField--sorted"]} .${ae.iconButtonContainer},
      & .${ae["columnHeader--sorted"]} .${ae.iconButtonContainer},
      & .${ae["columnHeader--filtered"]} .${ae.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${ae.pivotPanelField}:not(.${ae["pivotPanelField--sorted"]}) .${ae.sortButton},
      & .${ae.columnHeader}:not(.${ae["columnHeader--sorted"]}) .${ae.sortButton}`]:{opacity:0,transition:Pt.transition(["opacity"],{duration:Pt.transitions.duration.short})},[`& .${ae.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:Pt.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${ae.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${ae["columnHeader--filledGroup"]} .${ae.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${ae.sortIcon}, & .${ae.filterIcon}`]:{fontSize:"inherit"},[`& .${ae["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${ae["columnHeader--alignCenter"]} .${ae.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${ae["columnHeader--alignRight"]} .${ae.columnHeaderDraggableContainer}, & .${ae["columnHeader--alignRight"]} .${ae.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${ae["columnHeader--alignCenter"]} .${ae.menuIcon}`]:{marginLeft:"auto"},[`& .${ae["columnHeader--alignRight"]} .${ae.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${ae["columnHeader--moving"]}`]:{backgroundColor:f},[`& .${ae["columnHeader--pinnedLeft"]}, & .${ae["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:Pt.header.background.base},[`& .${ae.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:vBe,color:Pt.colors.border.base},[`& .${ae.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:r},"@media (hover: hover)":{[`& .${ae.columnHeader}:hover`]:{[`& .${ae.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ae.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${ae.columnHeader}:not(.${ae["columnHeader--sorted"]}):hover .${ae.sortButton},
        & .${ae.pivotPanelField}:not(.${ae["pivotPanelField--sorted"]}):hover .${ae.sortButton},
        & .${ae.pivotPanelField}:not(.${ae["pivotPanelField--sorted"]}) .${ae.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${ae.columnHeader} .${ae.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${ae.columnHeader}:focus,
        & .${ae["columnHeader--siblingFocused"]}`]:{[`.${ae["columnSeparator--resizable"]}`]:{color:Pt.colors.foreground.accent}},[`& .${ae.pivotPanelField}:not(.${ae["pivotPanelField--sorted"]}) .${ae.sortButton}`]:{opacity:.5}},[`& .${ae["columnHeader--withLeftBorder"]} .${ae["columnSeparator--sideLeft"]}:not(.${ae["columnSeparator--resizable"]}), & .${ae["columnHeader--withRightBorder"]} .${ae["columnSeparator--sideRight"]}:not(.${ae["columnSeparator--resizable"]})`]:{display:"none"},[`& .${ae["columnSeparator--sideLeft"]}`]:{left:yS},[`& .${ae["columnSeparator--sideRight"]}`]:{right:yS},[`& .${ae["columnHeader--withRightBorder"]} .${ae["columnSeparator--sideLeft"]}`]:{left:yS-.5},[`& .${ae["columnHeader--withRightBorder"]} .${ae["columnSeparator--sideRight"]}`]:{right:yS-.5},[`& .${ae["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${ae["columnSeparator--resizing"]}`]:{color:Pt.colors.foreground.accent},"@media (hover: none)":{[`& .${ae.iconSeparator} rect`]:I4},"@media (hover: hover)":{"&:hover":{color:Pt.colors.foreground.accent,[`& .${ae.iconSeparator} rect`]:I4}},"& svg":{pointerEvents:"none"}},[`& .${ae.iconSeparator}`]:{color:"inherit",transition:Pt.transition(["color","width"],{duration:Pt.transitions.duration.short})},[`& .${ae.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${ae.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${ae.headerFilterRow}`]:{[`& .${ae.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${ae["row--borderBottom"]} .${ae.columnHeader},
      & .${ae["row--borderBottom"]} .${ae.filler},
      & .${ae["row--borderBottom"]} .${ae.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ae["row--borderBottom"]} .${ae.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${ae.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${ae["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:f,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ae.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":M},[`& .${ae.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":M},[`& .${ae["virtualScrollerContent--overflowed"]} .${ae["row--lastVisible"]} .${ae.cell}`]:{borderTopColor:"transparent"},[`& .${ae.pinnedRows} .${ae.row}, .${ae.aggregationRowOverlayWrapper} .${ae.row}`]:{backgroundColor:i,"&:hover":{backgroundColor:y}},[`& .${ae["pinnedRows--top"]} :first-of-type`]:{[`& .${ae.cell}, .${ae.scrollbarFiller}`]:{borderTop:"none"}},[`&.${ae["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${ae["row--dynamicHeight"]} > .${ae.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${ae.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${ae.cell}.${ae["cell--selectionMode"]}`]:{cursor:"default"},[`& .${ae.cell}.${ae["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:Pt.shadows.base,backgroundColor:Pt.colors.background.overlay,"&:focus-within":{outline:`${qf}px solid ${Pt.colors.interactive.focus}`,outlineOffset:qf*-1}},[`& .${ae["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${ae["row--editing"]}`]:{boxShadow:Pt.shadows.base},[`& .${ae["row--editing"]} .${ae.cell}`]:{boxShadow:"none",backgroundColor:Pt.colors.background.overlay},[`& .${ae.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${ae.booleanCell}[data-value="true"]`]:{color:Pt.colors.foreground.muted},[`& .${ae.booleanCell}[data-value="false"]`]:{color:Pt.colors.foreground.disabled},[`& .${ae.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:Pt.spacing(1)},[`& .${ae.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:Pt.colors.interactive.disabledOpacity},[`& .${ae["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${ae.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${ae.withBorderColor}`]:{borderColor:Pt.colors.border.base},[`& .${ae["cell--withLeftBorder"]}, & .${ae["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${ae["cell--withRightBorder"]}, & .${ae["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${ae["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${ae["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${ae["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${ae["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${ae["cell--pinnedLeft"]}, & .${ae["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:Pt.cell.background.pinned,"&.Mui-selected":{backgroundColor:b}},[`& .${ae.row}`]:{"&:hover":E,"&.Mui-selected":T,"&.Mui-selected:hover":R},[`& .${ae.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${ae.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${ae.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${ae.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${ae["columnHeader--dragging"]}`]:{background:Pt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:Pt.colors.interactive.disabledOpacity},[`& .${ae["row--dragging"]}`]:{background:Pt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:Pt.colors.foreground.base,transform:"translateZ(0)",[`& .${ae.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${ae.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ae.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:Pt.spacing(2)},[`& .${ae.treeDataGroupingCellLoadingContainer}, .${ae.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${ae.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${ae.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:Pt.spacing(2)},[`& .${ae.columnHeaders} .${ae.scrollbarFiller}`]:{backgroundColor:r},[`.${ae.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${ae["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ae["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${ae["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:Pt.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${ae.filler}`]:{flex:"1 0 auto"},[`& .${ae["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${ae.columnHeaders} .${ae.filler}`]:{backgroundColor:r},[`& .${ae["main--hiddenContent"]}`]:{[`& .${ae.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${ae["scrollbar--vertical"]}, & .${ae.pinnedRows}, & .${ae.virtualScroller} > .${ae.filler}`]:{display:"none"}},[`& .${ae["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:Pt.colors.interactive.selected}},[`& .${ae["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:Pt.colors.interactive.selected},[`&.${ae["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${ae["row--beingDragged"]}`]:{color:Pt.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function k4(e,t){return`rgba(from ${e} r g b / ${t})`}function SBe(e){return k4(e,1)}function Vu(e,t,n){return`color-mix(in srgb,${e}, ${t} calc(${n} * 100%))`}const CBe=()=>()=>{},xBe=()=>!1,_Be=()=>!0,EBe=()=>gM.useSyncExternalStore(CBe,xBe,_Be),P4=_.createContext(void 0);function HR(){const e=_.useContext(P4);if(e===void 0)throw new Error("MUI X: Missing context.");return e}function TBe({children:e}){const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),i=_.useMemo(()=>({columnsPanelTriggerRef:t,filterPanelTriggerRef:n,aiAssistantPanelTriggerRef:r}),[]);return x.jsx(P4.Provider,{value:i,children:e})}function MBe(){const e=Rn(),t=dt(e,Pa),n=It(),r=dt(e,Ch),{columnsPanelTriggerRef:i,filterPanelTriggerRef:o,aiAssistantPanelTriggerRef:s}=HR(),a=e.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??ls.filters);let c=null;switch(r.openedPanelValue){case ls.filters:c=o.current;break;case ls.columns:c=i.current;break;case ls.aiAssistant:c=s.current;break}return x.jsx(n.slots.panel,W({id:r.panelId,open:t.length>0&&r.open,"aria-labelledby":r.labelId,target:c,onClose:()=>e.current.hidePreferences()},n.slotProps?.panel,{children:a}))}function OBe(){const e=It();return x.jsxs(_.Fragment,{children:[x.jsx(MBe,{}),e.showToolbar&&x.jsx(e.slots.toolbar,W({},e.slotProps?.toolbar))]})}const RBe=["className","children","sidePanel"],IBe=(e,t)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:i}=e,o={root:["root",n&&"autoHeight",`root--density${et(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",i&&"withVerticalBorder"]};return Et(o,Hn,r)},kBe=pn(function(t,n){const r=It(),{className:i,children:o,sidePanel:s}=t,a=Tt(t,RBe),c=Ws(),u=dt(c,Lf),h=c.current.rootElementRef,f=_.useCallback(S=>{S!==null&&c.current.publishEvent("rootMount",S)},[c]),g=qn(h,n,f),m=r,y=IBe(m,u),b=tAe();return EBe()?null:x.jsxs(wBe,W({className:tt(y.root,i,b.className,s&&ae.withSidePanel),ownerState:m},a,{ref:g,children:[x.jsxs("div",{className:ae.mainContent,role:"presentation",children:[x.jsx(OBe,{}),x.jsx(ZNe,{children:o}),x.jsx(QNe,{})]}),s,b.tag]}))}),PBe=Pc(kBe),DBe=["className"],ABe=e=>{const{classes:t}=e;return Et({root:["footerContainer","withBorderColor"]},Hn,t)},LBe=or("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),NBe=pn(function(t,n){const{className:r}=t,i=Tt(t,DBe),o=It(),s=ABe(o);return x.jsx(LBe,W({className:tt(s.root,r),ownerState:o},i,{ref:n}))}),BBe=["className"],FBe=e=>{const{classes:t}=e;return Et({root:["overlay"]},Hn,t)},jBe=or("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:Pt.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:Pt.colors.background.backdrop}),bS=pn(function(t,n){const{className:r}=t,i=Tt(t,BBe),o=It(),s=FBe(o);return x.jsx(jBe,W({className:tt(s.root,r),ownerState:o},i,{ref:n}))});function Ql(e,t,n,r={}){return typeof t=="function"?t(n,r):t?(t.props.className&&(n.className=VBe(t.props.className,n.className)),(t.props.style||n.style)&&(n.style=W({},n.style,t.props.style)),_.cloneElement(t,n)):_.createElement(e,n)}function VBe(e,t){return!e||!t?e||t:`${e} ${t}`}const D4=_.createContext(void 0);function $Be(){const e=_.useContext(D4);if(e===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}function zBe(e,t){if(!e.ref.current||!t.ref.current)return 0;const n=e.ref.current.compareDocumentPosition(t.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const UBe=["render","className"],HBe=e=>{const{classes:t}=e;return Et({root:["toolbar"]},Hn,t)},GBe=or("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:Pt.spacing(.25),padding:Pt.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${Pt.colors.border.base}`}),A4=pn(function(t,n){const{render:r,className:i}=t,o=Tt(t,UBe),s=It(),a=HBe(s),[c,u]=_.useState(null),[h,f]=_.useState([]),g=_.useCallback(()=>h.sort(zBe),[h]),m=_.useCallback((M,I,N=!0)=>{let D=M;const L=g(),A=L.length;for(let $=0;$<A;$+=1){if(D+=I,D>=A){if(!N)return-1;D=0}else if(D<0){if(!N)return-1;D=A-1}if(!L[D].ref.current?.disabled&&L[D].ref.current?.ariaDisabled!=="true")return D}return-1},[g]),y=_.useCallback((M,I)=>{f(N=>[...N,{id:M,ref:I}])},[]),b=_.useCallback(M=>{f(I=>I.filter(N=>N.id!==M))},[]),v=_.useCallback(M=>{if(!c)return;const I=g(),N=I.findIndex(L=>L.id===c);let D=-1;if(M.key==="ArrowRight"?(M.preventDefault(),D=m(N,1)):M.key==="ArrowLeft"?(M.preventDefault(),D=m(N,-1)):M.key==="Home"?(M.preventDefault(),D=m(-1,1,!1)):M.key==="End"&&(M.preventDefault(),D=m(I.length,-1,!1)),D>=0&&D<I.length){const L=I[D];u(L.id),L.ref.current?.focus()}},[g,c,m]),S=_.useCallback(M=>{c!==M&&u(M)},[c,u]),E=_.useCallback(M=>{const I=g(),N=I.findIndex(L=>L.id===M),D=m(N,1);if(D>=0&&D<I.length){const L=I[D];u(L.id),L.ref.current?.focus()}},[g,m]);_.useEffect(()=>{const M=g();if(M.length>0){if(!c){u(M[0].id);return}const I=M.findIndex(N=>N.id===c);if(M[I]){if(I===-1){const N=M[I];N&&(u(N.id),N.ref.current?.focus())}}else{const N=M[M.length-1];N&&(u(N.id),N.ref.current?.focus())}}},[g,m]);const T=_.useMemo(()=>({focusableItemId:c,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}),[c,y,b,v,S,E]),R=Ql(GBe,r,W({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:tt(a.root,i)},o,{ref:n}));return x.jsx(D4.Provider,{value:T,children:R})}),WBe=["render","onKeyDown","onFocus","disabled","aria-disabled"],wS=pn(function(t,n){const{render:r,onKeyDown:i,onFocus:o,disabled:s,"aria-disabled":a}=t,c=Tt(t,WBe),u=er(),h=It(),f=_.useRef(null),g=qn(f,n),{focusableItemId:m,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}=$Be(),T=D=>{v(D),i?.(D)},R=D=>{S(u),o?.(D)};_.useEffect(()=>(y(u,f),()=>b(u)),[]);const M=_.useRef(s);_.useEffect(()=>{M.current!==s&&s===!0&&E(u,s),M.current=s},[s,u,E]);const I=_.useRef(a);_.useEffect(()=>{I.current!==a&&a===!0&&E(u,!0),I.current=a},[a,u,E]);const N=Ql(h.slots.baseIconButton,r,W({},h.slotProps?.baseIconButton,{tabIndex:m===u?0:-1},c,{disabled:s,"aria-disabled":a,onKeyDown:T,onFocus:R,ref:g}));return x.jsx(_.Fragment,{children:N})}),KBe=["className","children"],qBe=e=>{const{classes:t}=e;return Et({root:["toolbarContainer"]},Hn,t)},YBe=or(A4,{name:"MuiDataGrid",slot:"ToolbarContainer",shouldForwardProp:e=>e!=="ownerState"})({display:"flex",alignItems:"center",flexWrap:"wrap",gap:Pt.spacing(1),padding:Pt.spacing(.5),minHeight:"auto"}),XBe=pn(function(t,n){const{className:r,children:i}=t,o=Tt(t,KBe),s=It(),a=qBe(s);return i?x.jsx(YBe,W({className:tt(a.root,r),ownerState:s},o,{ref:n,children:i})):null}),ZBe=e=>{const{classes:t,open:n}=e;return Et({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},Hn,t)},QBe=_.memo(e=>{const{colDef:t,open:n,columnMenuId:r,columnMenuButtonId:i,iconButtonRef:o}=e,s=Rn(),a=It(),c=W({},e,{classes:a.classes}),u=ZBe(c),h=_.useCallback(g=>{g.preventDefault(),g.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]),f=t.headerName??t.field;return x.jsx("div",{className:u.root,children:x.jsx(a.slots.baseTooltip,W({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},a.slotProps?.baseTooltip,{children:x.jsx(a.slots.baseIconButton,W({ref:o,tabIndex:-1,className:u.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(f),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:i},a.slotProps?.baseIconButton,{children:x.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function JBe({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:i,open:o,target:s,onExited:a}){const c=Rn(),u=c.current.getColumn(i),h=Jt(f=>{f&&(f.stopPropagation(),s?.contains(f.target))||c.current.hideColumnMenu()});return!s||!u?null:x.jsx(eS,{position:`bottom-${u.align==="right"?"start":"end"}`,open:o,target:s,onClose:h,onExited:a,children:x.jsx(n,W({colDef:u,hideMenu:h,open:o,id:e,labelledby:t},r))})}function eFe(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function SS(e,t){return e.closest(`.${t}`)}function Nc(e){return e.replace(/["\\]/g,"\\$&")}function tFe(e,t){return e.querySelector(`[role="columnheader"][data-field="${Nc(t)}"]`)}function L4(e){return`.${ae.row}[data-id="${Nc(String(e))}"]`}function nFe(e,t){return e.querySelector(L4(t))}function rFe(e,{id:t,field:n}){const r=L4(t),i=`.${ae.cell}[data-field="${Nc(n)}"]`,o=`${r} ${i}`;return e.querySelector(o)}function Vm(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function iFe(e){return e.getAttribute("data-field")}function oFe(e,t){return e.querySelector(`[data-field="${Nc(t)}"]`)}function sFe(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function aFe(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${Nc(t)}-|"]`)??[])}function lFe(e,t){if(!SS(e,ae.root))throw new Error("MUI X: The root element is not found.");const r=e.getAttribute("aria-colindex");if(!r)return[];const i=Number(r)-1,o=[];return t.virtualScrollerRef?.current?(j4(t).forEach(s=>{const a=s.getAttribute("data-id");if(!a)return;let c=i;const u=t.unstable_getCellColSpanInfo(a,i);u&&u.spannedByColSpan&&(c=u.leftVisibleCellIndex);const h=s.querySelector(`[data-colindex="${c}"]`);h&&o.push(h)}),o):[]}function N4(e,t){return e.rootElementRef.current.querySelector(`.${ae[t]}`)}const B4=({api:e,colIndex:t,position:n,filterFn:r})=>{if(t===null)return[];const i=[];return j4(e).forEach(o=>{o.getAttribute("data-id")&&o.querySelectorAll(`.${ae[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const c=Yf(a);c!==null&&r(c)&&i.push(a)})}),i};function cFe(e,t,n){const r=Yf(t);return B4({api:e,colIndex:r,position:n?"right":"left",filterFn:i=>n?i<r:i>r})}function uFe(e,t,n){const r=Yf(t);return B4({api:e,colIndex:r,position:n?"left":"right",filterFn:i=>n?i>r:i<r})}const F4=({api:e,colIndex:t,position:n,filterFn:r})=>{if(!e.columnHeadersContainerRef?.current)return[];if(t===null)return[];const i=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${ae[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(o=>{const s=Yf(o);s!==null&&r(s,o)&&i.push(o)}),i};function dFe(e,t,n){const r=Yf(t);return F4({api:e,position:n?"right":"left",colIndex:r,filterFn:i=>n?i<r:i>r})}function hFe(e,t,n){const r=Yf(t);return F4({api:e,position:n?"left":"right",colIndex:r,filterFn:(i,o)=>o.classList.contains(ae["columnHeader--last"])?!1:n?i>r:i<r})}function fFe(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${Nc(t)}"][role="columnheader"]`)}function pFe(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${Nc(t)}"][role="gridcell"]`))}function j4(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${ae.row}`)}function Yf(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const gFe=["className","aria-label"],mFe=e=>{const{classes:t}=e;return Et({root:["columnHeaderTitle"]},Hn,t)},vFe=or("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),yFe=pn(function(t,n){const{className:r}=t,i=Tt(t,gFe),o=It(),s=mFe(o);return x.jsx(vFe,W({className:tt(s.root,r),ownerState:o},i,{ref:n}))});function bFe(e){const{label:t,description:n}=e,r=It(),i=_.useRef(null),[o,s]=_.useState(""),a=_.useCallback(()=>{if(!n&&i?.current){const c=eFe(i.current);s(c?t:"")}},[n,t]);return x.jsx(r.slots.baseTooltip,W({title:n||o},r.slotProps?.baseTooltip,{children:x.jsx(yFe,{onMouseOver:a,ref:i,children:t})}))}const wFe=["resizable","resizing","height","side"];var GR=(function(e){return e.Left="left",e.Right="right",e})(GR||{});const SFe=e=>{const{resizable:t,resizing:n,classes:r,side:i}=e,o={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",i&&`columnSeparator--side${et(i)}`],icon:["iconSeparator"]};return Et(o,Hn,r)};function CFe(e){const{height:t,side:n=GR.Right}=e,r=Tt(e,wFe),i=It(),o=W({},e,{side:n,classes:i.classes}),s=SFe(o),a=_.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return x.jsx("div",W({className:s.root,style:{minHeight:t}},r,{onClick:a,children:x.jsx(i.slots.columnResizeIcon,{className:s.icon})}))}const xFe=_.memo(CFe),_Fe=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],V4=pn(function(t,n){const{classes:r,colIndex:i,height:o,isResizing:s,sortDirection:a,tabIndex:c,separatorSide:u,isDraggable:h,headerComponent:f,description:g,width:m,columnMenuIconButton:y=null,columnMenu:b=null,columnTitleIconButtons:v=null,headerClassName:S,label:E,resizable:T,draggableContainerProps:R,columnHeaderSeparatorProps:M,style:I}=t,N=Tt(t,_Fe),D=It(),L=_.useRef(null),A=qn(L,n);let $="none";return a!=null&&($=a==="asc"?"ascending":"descending"),x.jsxs("div",W({className:tt(r.root,S),style:W({},I,{width:m}),role:"columnheader",tabIndex:c,"aria-colindex":i+1,"aria-sort":$},N,{ref:A,children:[x.jsxs("div",W({className:r.draggableContainer,draggable:h,role:"presentation"},R,{children:[x.jsxs("div",{className:r.titleContainer,role:"presentation",children:[x.jsx("div",{className:r.titleContainerContent,children:f!==void 0?f:x.jsx(bFe,{label:E,description:g,columnWidth:m})}),v]}),y]})),x.jsx(xFe,W({resizable:!D.disableColumnResize&&!!T,resizing:s,height:o,side:u},M)),b]}))}),EFe=e=>{const{disableColumnSorting:t}=It(),{colDef:n,classes:r,isDragging:i,sortDirection:o,showRightBorder:s,showLeftBorder:a,filterItemsCounter:c,pinnedPosition:u,isLastUnpinned:h,isSiblingFocused:f}=e,g=n.sortable&&!t,m=o!=null,y=c!=null&&c>0,b=n.type==="number",v={root:["columnHeader",n.headerAlign==="left"&&"columnHeader--alignLeft",n.headerAlign==="center"&&"columnHeader--alignCenter",n.headerAlign==="right"&&"columnHeader--alignRight",g&&"columnHeader--sortable",i&&"columnHeader--moving",m&&"columnHeader--sorted",y&&"columnHeader--filtered",b&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",u===Xn.LEFT&&"columnHeader--pinnedLeft",u===Xn.RIGHT&&"columnHeader--pinnedRight",h&&"columnHeader--lastUnpinned",f&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Et(v,Hn,r)};function TFe(e){const{colDef:t,columnMenuOpen:n,colIndex:r,headerHeight:i,isResizing:o,isLast:s,sortDirection:a,sortIndex:c,filterItemsCounter:u,hasFocus:h,tabIndex:f,disableReorder:g,separatorSide:m,showLeftBorder:y,showRightBorder:b,pinnedPosition:v,pinnedOffset:S}=e,E=Ws(),T=It(),R=Oo(),M=_.useRef(null),I=er(),N=er(),D=_.useRef(null),[L,A]=_.useState(n),$=_.useMemo(()=>!T.disableColumnReorder&&!g&&!t.disableReorder,[T.disableColumnReorder,g,t.disableReorder]);let F;t.renderHeader&&(F=t.renderHeader(E.current.getColumnHeaderParams(t.field)));const H=W({},e,{classes:T.classes,showRightBorder:b,showLeftBorder:y}),q=EFe(H),K=_.useCallback(ke=>Te=>{Vm(Te)||E.current.publishEvent(ke,E.current.getColumnHeaderParams(t.field),Te)},[E,t.field]),z=_.useMemo(()=>({onClick:K("columnHeaderClick"),onContextMenu:K("columnHeaderContextMenu"),onDoubleClick:K("columnHeaderDoubleClick"),onMouseOver:K("columnHeaderOver"),onMouseOut:K("columnHeaderOut"),onMouseEnter:K("columnHeaderEnter"),onMouseLeave:K("columnHeaderLeave"),onKeyDown:K("columnHeaderKeyDown"),onFocus:K("columnHeaderFocus"),onBlur:K("columnHeaderBlur")}),[K]),Z=_.useMemo(()=>$?{onDragStart:K("columnHeaderDragStart"),onDragEnter:K("columnHeaderDragEnter"),onDragOver:K("columnHeaderDragOver"),onDragEndCapture:K("columnHeaderDragEnd")}:{},[$,K]),ee=_.useMemo(()=>({onMouseDown:K("columnSeparatorMouseDown"),onDoubleClick:K("columnSeparatorDoubleClick")}),[K]);_.useEffect(()=>{L||A(n)},[L,n]);const ie=_.useCallback(()=>{A(!1)},[]),U=!T.disableColumnMenu&&!t.disableColumnMenu&&x.jsx(QBe,{colDef:t,columnMenuId:I,columnMenuButtonId:N,open:L,iconButtonRef:D}),Y=x.jsx(JBe,{columnMenuId:I,columnMenuButtonId:N,field:t.field,open:n,target:D.current,ContentComponent:T.slots.columnMenu,contentComponentProps:T.slotProps?.columnMenu,onExited:ie}),J=t.sortingOrder??T.sortingOrder,he=(t.sortable||a!=null)&&!t.hideSortIcons&&!T.disableColumnSorting,ge=x.jsxs(_.Fragment,{children:[!T.disableColumnFilter&&x.jsx(T.slots.columnHeaderFilterIconButton,W({field:t.field,counter:u},T.slotProps?.columnHeaderFilterIconButton)),he&&x.jsx(T.slots.columnHeaderSortIcon,W({field:t.field,direction:a,index:c,sortingOrder:J,disabled:!t.sortable},T.slotProps?.columnHeaderSortIcon))]});_.useLayoutEffect(()=>{const ke=E.current.state.columnMenu;if(h&&!ke.open){const me=M.current.querySelector('[tabindex="0"]')||M.current;if(!me)return;if(UR())me.focus({preventScroll:!0});else{const ye=E.current.getScrollPosition();me.focus(),E.current.scroll(ye)}}},[E,h]);const pe=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,le=t.headerName??t.field,Ce=_.useMemo(()=>vS(W({},e.style),R,v,S),[v,S,e.style,R]);return x.jsx(V4,W({ref:M,classes:q,columnMenuOpen:n,colIndex:r,height:i,isResizing:o,sortDirection:a,hasFocus:h,tabIndex:f,separatorSide:m,isDraggable:$,headerComponent:F,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:U,columnTitleIconButtons:ge,headerClassName:tt(pe,s&&ae["columnHeader--last"]),label:le,resizable:!T.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:Y,draggableContainerProps:Z,columnHeaderSeparatorProps:ee,style:Ce},z))}const MFe=Pc(TFe),OFe=["className"],RFe=e=>{const{classes:t}=e;return Et({root:["iconButtonContainer"]},Hn,t)},IFe=or("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),$4=pn(function(t,n){const{className:r}=t,i=Tt(t,OFe),o=It(),s=RFe(o);return x.jsx(IFe,W({className:tt(s.root,r),ownerState:o},i,{ref:n}))}),kFe=["direction","index","sortingOrder","disabled","className"],PFe=e=>{const{classes:t}=e;return Et({root:["sortButton"],icon:["sortIcon"]},Hn,t)},DFe=or(ql,{name:"MuiDataGrid",slot:"SortButton"})({transition:Pt.transition(["opacity"],{duration:Pt.transitions.duration.short,easing:Pt.transitions.easing.easeInOut})});function AFe(e,t,n,r){let i;const o={};return t==="asc"?i=e.columnSortedAscendingIcon:t==="desc"?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,o.sortingOrder=r),i?x.jsx(i,W({fontSize:"small",className:n},o)):null}function LFe(e){const{direction:t,index:n,sortingOrder:r,disabled:i,className:o}=e,s=Tt(e,kFe),a=Rn(),c=It(),u=W({},e,{classes:c.classes}),h=PFe(u),f=AFe(c.slots,t,h.icon,r);if(!f)return null;const g=x.jsx(DFe,W({as:c.slots.baseIconButton,ownerState:u,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:i,className:tt(h.root,o)},c.slotProps?.baseIconButton,s,{children:f}));return x.jsxs(_.Fragment,{children:[n!=null&&x.jsx(c.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:g}),n==null&&g]})}function NFe(e){return x.jsx($4,{children:x.jsx(LFe,W({},e,{tabIndex:-1}))})}const BFe=_.memo(NFe),FFe=e=>{const{classes:t}=e;return Et({icon:["filterIcon"]},Hn,t)};function jFe(e){return e.counter?x.jsx(VFe,W({},e)):null}function VFe(e){const{counter:t,field:n,onClick:r}=e,i=Rn(),o=It(),s=W({},e,{classes:o.classes}),a=FFe(s),c=er(),u=dt(i,oNe,c),h=er(),f=_.useCallback(m=>{m.preventDefault(),m.stopPropagation();const{open:y,openedPanelValue:b}=Ch(i);y&&b===ls.filters?i.current.hideFilterPanel():i.current.showFilterPanel(void 0,h,c),r&&r(i.current.getColumnHeaderParams(n),m)},[i,n,r,h,c]);if(!t)return null;const g=x.jsx(o.slots.baseIconButton,W({id:c,onClick:f,"aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?h:void 0},o.slotProps?.baseIconButton,{children:x.jsx(o.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return x.jsx(o.slots.baseTooltip,W({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},o.slotProps?.baseTooltip,{children:x.jsxs($4,{children:[t>1&&x.jsx(o.slots.baseBadge,{badgeContent:t,color:"default",children:g}),t===1&&g]})}))}const $Fe=["hideMenu","colDef","id","labelledby","className","children","open"],zFe=Ee(ql)(()=>({minWidth:248}));function z4(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}const UFe=pn(function(t,n){const{hideMenu:r,id:i,labelledby:o,className:s,children:a,open:c}=t,u=Tt(t,$Fe),h=It(),f=_.useCallback(g=>{g.key==="Tab"&&g.preventDefault(),TG(g.key)&&r(g)},[r]);return x.jsx(zFe,W({as:h.slots.baseMenuList,id:i,className:tt(ae.menuList,s),"aria-labelledby":o,onKeyDown:f,onWheel:z4,onTouchMove:z4,autoFocus:c},u,{ref:n,children:a}))}),HFe=["displayOrder"],GFe=e=>{const t=Ws(),n=It(),{defaultSlots:r,defaultSlotProps:i,slots:o={},slotProps:s={},hideMenu:a,colDef:c,addDividers:u=!0}=e,h=_.useMemo(()=>W({},r,o),[r,o]),f=_.useMemo(()=>{if(!s||Object.keys(s).length===0)return i;const y=W({},s);return Object.entries(i).forEach(([b,v])=>{y[b]=W({},v,s[b]||{})}),y},[i,s]),g=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),m=_.useMemo(()=>{const y=Object.keys(r);return Object.keys(o).filter(b=>!y.includes(b))},[o,r]);return _.useMemo(()=>{const v=Array.from(new Set([...g,...m])).filter(S=>h[S]!=null).sort((S,E)=>{const T=f[S],R=f[E],M=Number.isFinite(T?.displayOrder)?T.displayOrder:100,I=Number.isFinite(R?.displayOrder)?R.displayOrder:100;return M-I});return v.reduce((S,E,T)=>{let R={colDef:c,onClick:a};const M=f[E];if(M){const I=Tt(M,HFe);R=W({},R,I)}return u&&T!==v.length-1?[...S,[h[E],R],[n.slots.baseDivider,{}]]:[...S,[h[E],R]]},[])},[u,c,g,a,h,f,m,n.slots.baseDivider])};function WFe(e){const{colDef:t,onClick:n}=e,r=Rn(),i=It(),a=Ci(r).filter(u=>u.disableColumnMenu!==!0).length===1,c=_.useCallback(u=>{a||(r.current.setColumnVisibility(t.field,!1),n(u))},[r,t.field,n,a]);return i.disableColumnSelector||t.hideable===!1?null:x.jsx(i.slots.baseMenuItem,{onClick:c,disabled:a,iconStart:x.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuHideColumn")})}function KFe(e){const{onClick:t}=e,n=Rn(),r=It(),i=_.useCallback(o=>{t(o),n.current.showPreferences(ls.columns)},[n,t]);return r.disableColumnSelector?null:x.jsx(r.slots.baseMenuItem,{onClick:i,iconStart:x.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}function qFe(e){return x.jsxs(_.Fragment,{children:[x.jsx(WFe,W({},e)),x.jsx(KFe,W({},e))]})}function YFe(e){const{colDef:t,onClick:n}=e,r=Rn(),i=It(),o=_.useCallback(s=>{n(s),r.current.showFilterPanel(t.field)},[r,t.field,n]);return i.disableColumnFilter||!t.filterable?null:x.jsx(i.slots.baseMenuItem,{onClick:o,iconStart:x.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuFilter")})}function XFe(e){const{colDef:t,onClick:n}=e,r=Rn(),i=dt(r,Aa),o=It(),s=_.useMemo(()=>t?i.find(f=>f.field===t.field)?.sort:null,[t,i]),a=t.sortingOrder??o.sortingOrder,c=_.useCallback(h=>{n(h);const f=h.currentTarget.getAttribute("data-value")||null,g=o.multipleColumnsSortingMode==="always";r.current.sortColumn(t.field,f===s?null:f,g)},[r,t,n,s,o.multipleColumnsSortingMode]);if(o.disableColumnSorting||!t||!t.sortable||!a.some(h=>!!h))return null;const u=h=>{const f=r.current.getLocaleText(h);return typeof f=="function"?f(t):f};return x.jsxs(_.Fragment,{children:[a.includes("asc")&&s!=="asc"?x.jsx(o.slots.baseMenuItem,{onClick:c,"data-value":"asc",iconStart:x.jsx(o.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:u("columnMenuSortAsc")}):null,a.includes("desc")&&s!=="desc"?x.jsx(o.slots.baseMenuItem,{onClick:c,"data-value":"desc",iconStart:x.jsx(o.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:u("columnMenuSortDesc")}):null,a.includes(null)&&s!=null?x.jsx(o.slots.baseMenuItem,{onClick:c,iconStart:o.slots.columnMenuUnsortIcon?x.jsx(o.slots.columnMenuUnsortIcon,{fontSize:"small"}):x.jsx("span",{}),children:r.current.getLocaleText("columnMenuUnsort")}):null]})}const ZFe=["defaultSlots","defaultSlotProps","slots","slotProps"],QFe={columnMenuSortItem:XFe,columnMenuFilterItem:YFe,columnMenuColumnsItem:qFe},JFe={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},eje=pn(function(t,n){const{defaultSlots:r,defaultSlotProps:i,slots:o,slotProps:s}=t,a=Tt(t,ZFe),c=GFe(W({},a,{defaultSlots:r,defaultSlotProps:i,slots:o,slotProps:s}));return x.jsx(UFe,W({},a,{ref:n,children:c.map(([u,h],f)=>x.jsx(u,W({},h),f))}))}),tje=pn(function(t,n){return x.jsx(eje,W({},t,{ref:n,defaultSlots:QFe,defaultSlotProps:JFe}))}),nje=["className"],rje=e=>{const{classes:t}=e;return Et({root:["panelWrapper"]},Hn,t)},ije=Ee("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),U4=pn(function(t,n){const{className:r}=t,i=Tt(t,nje),o=It(),s=rje(o);return x.jsx(ije,W({tabIndex:-1,className:tt(s.root,r),ownerState:o},i,{ref:n}))});function oje(e){const t=It();return x.jsx(U4,W({},e,{children:x.jsx(t.slots.columnsManagement,W({},t.slotProps?.columnsManagement))}))}const sje=["children","className","classes","onClose"],aje=cn("MuiDataGrid",["panel","paper"]),lje=Ee(ql,{name:"MuiDataGrid",slot:"panel"})({zIndex:Pt.zIndex.panel}),cje=Ee("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:Pt.colors.background.overlay,borderRadius:Pt.radius.base,boxShadow:Pt.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${Pt.spacing(2)})`,overflow:"auto"}),uje=pn((e,t)=>{const{children:n,className:r,onClose:i}=e,o=Tt(e,sje),s=Rn(),a=It(),c=aje,[u,h]=_.useState(!1),f=RG(),g=Jt(()=>h(!0)),m=Jt(()=>h(!1)),y=Jt(()=>{i?.()}),b=Jt(E=>{E.key==="Escape"&&i?.()}),[v,S]=_.useState(null);return _.useEffect(()=>{const E=s.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');E&&S(E)},[s]),v?x.jsx(lje,W({as:a.slots.basePopper,ownerState:a,placement:"bottom-end",className:tt(c.panel,r,f),flip:!0,onDidShow:g,onDidHide:m,onClickAway:y,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},o,a.slotProps?.basePopper,{target:e.target??v,ref:t,children:x.jsx(cje,{className:c.paper,ownerState:a,onKeyDown:b,children:u&&n})})):null}),dje=["className"],hje=e=>{const{classes:t}=e;return Et({root:["panelContent"]},Hn,t)},fje=or("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:Pt.spacing(2.5,1.5,2,1),gap:Pt.spacing(2.5)});function pje(e){const{className:t}=e,n=Tt(e,dje),r=It(),i=hje(r);return x.jsx(fje,W({className:tt(i.root,t),ownerState:r},n))}const gje=["className"],mje=e=>{const{classes:t}=e;return Et({root:["panelFooter"]},Hn,t)},vje=Ee("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:Pt.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${Pt.colors.border.base}`});function yje(e){const{className:t}=e,n=Tt(e,gje),r=It(),i=mje(r);return x.jsx(vje,W({className:tt(i.root,t),ownerState:r},n))}const bje=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],wje=["InputComponentProps"],Sje=e=>{const{classes:t}=e;return Et({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Hn,t)},Cje=Ee("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:Pt.spacing(1.5)}),xje=Ee("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),_je=Ee("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),Eje=Ee("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),Tje=Ee("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),Mje=Ee("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),Oje=e=>{switch(e){case as.And:return"filterPanelOperatorAnd";case as.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},$m=e=>e.headerName||e.field,H4=new Intl.Collator,G4=pn(function(t,n){const{item:r,hasMultipleFilters:i,deleteFilter:o,applyFilterChanges:s,showMultiFilterOperators:a,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:u,focusElementRef:h,logicOperators:f=[as.And,as.Or],columnsSort:g,filterColumns:m,deleteIconProps:y={},logicOperatorInputProps:b={},operatorInputProps:v={},columnInputProps:S={},valueInputProps:E={},readOnly:T}=t,R=Tt(t,bje),M=Rn(),I=dt(M,Ac),N=dt(M,mG),D=dt(M,po),L=er(),A=er(),$=er(),F=er(),H=It(),q=Sje(H),K=_.useRef(null),z=_.useRef(null),Z=D.logicOperator??as.And,ee=i&&f.length>0,U=(H.slotProps?.baseSelect||{}).native??!1,Y=H.slotProps?.baseSelectOption||{},{InputComponentProps:J}=E,he=Tt(E,wje),ge=dt(M,Sh),pe=dt(M,c4),{filteredColumns:le,selectedField:Ce}=_.useMemo(()=>{let Ie=r.field;const je=I[r.field].filterable===!1?I[r.field]:null;if(je)return{filteredColumns:[je],selectedField:Ie};if(ge)return{filteredColumns:N.filter(We=>pe.get(We.field)!==void 0),selectedField:Ie};if(m===void 0||typeof m!="function")return{filteredColumns:N,selectedField:Ie};const lt=m({field:r.field,columns:N,currentFilters:D?.items||[]});return{filteredColumns:N.filter(We=>{const Bt=lt.includes(We.field);return We.field===r.field&&!Bt&&(Ie=void 0),Bt}),selectedField:Ie}},[r.field,I,ge,m,N,D?.items,pe]),ke=_.useMemo(()=>{switch(g){case"asc":return le.sort((Ie,je)=>H4.compare($m(Ie),$m(je)));case"desc":return le.sort((Ie,je)=>-H4.compare($m(Ie),$m(je)));default:return le}},[le,g]),Te=r.field?M.current.getColumn(r.field):null,me=_.useMemo(()=>!r.operator||!Te?null:Te.filterOperators?.find(Ie=>Ie.value===r.operator),[r,Te]),ye=_.useCallback(Ie=>{const je=Ie.target.value,lt=M.current.getColumn(je);if(lt.field===Te.field)return;const We=lt.filterOperators.find(Ot=>Ot.value===r.operator)||lt.filterOperators[0];let Ct=!We.InputComponent||We.InputComponent!==me?.InputComponent||lt.type!==Te.type?void 0:r.value;if(lt.type==="singleSelect"&&Ct!==void 0){const Ot=lt,Ke=bh(Ot);Array.isArray(Ct)?Ct=Ct.filter(Ft=>cS(Ft,Ke,Ot?.getOptionValue)!==void 0):cS(r.value,Ke,Ot?.getOptionValue)===void 0&&(Ct=void 0)}s(W({},r,{field:je,operator:We.value,value:Ct}))},[M,s,r,Te,me]),xe=_.useCallback(Ie=>{const je=Ie.target.value,lt=Te?.filterOperators.find(Bt=>Bt.value===je),We=!lt?.InputComponent||lt?.InputComponent!==me?.InputComponent;s(W({},r,{operator:je,value:We?void 0:r.value}))},[s,r,Te,me]),Re=_.useCallback(Ie=>{const je=Ie.target.value===as.And.toString()?as.And:as.Or;u(je)},[u]),Le=()=>{o(r)};return _.useImperativeHandle(h,()=>({focus:()=>{me?.InputComponent?K?.current?.focus():z.current.focus()}}),[me]),x.jsxs(Cje,W({className:q.root,"data-id":r.id,ownerState:H},R,{ref:n,children:[x.jsx(xje,W({},y,{className:tt(q.deleteIcon,y.className),ownerState:H,children:x.jsx(H.slots.baseIconButton,W({"aria-label":M.current.getLocaleText("filterPanelDeleteIconLabel"),title:M.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Le,size:"small",disabled:T},H.slotProps?.baseIconButton,{children:x.jsx(H.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),x.jsx(_je,W({as:H.slots.baseSelect,sx:[ee?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},b.sx],className:tt(q.logicOperatorInput,b.className),ownerState:H},b,{size:"small",slotProps:{htmlInput:{"aria-label":M.current.getLocaleText("filterPanelLogicOperator")}},value:Z??"",onChange:Re,disabled:!!c||f.length===1,native:U},H.slotProps?.baseSelect,{children:f.map(Ie=>_.createElement(H.slots.baseSelectOption,W({},Y,{native:U,key:Ie.toString(),value:Ie.toString()}),M.current.getLocaleText(Oje(Ie))))})),x.jsx(Eje,W({as:H.slots.baseSelect},S,{className:tt(q.columnInput,S.className),ownerState:H,size:"small",labelId:A,id:L,label:M.current.getLocaleText("filterPanelColumns"),value:Ce??"",onChange:ye,native:U,disabled:T},H.slotProps?.baseSelect,{children:ke.map(Ie=>_.createElement(H.slots.baseSelectOption,W({},Y,{native:U,key:Ie.field,value:Ie.field}),$m(Ie)))})),x.jsx(Tje,W({as:H.slots.baseSelect,size:"small"},v,{className:tt(q.operatorInput,v.className),ownerState:H,labelId:F,label:M.current.getLocaleText("filterPanelOperator"),id:$,value:r.operator,onChange:xe,native:U,inputRef:z,disabled:T},H.slotProps?.baseSelect,{children:Te?.filterOperators?.map(Ie=>_.createElement(H.slots.baseSelectOption,W({},Y,{native:U,key:Ie.value,value:Ie.value}),Ie.label||M.current.getLocaleText(`filterOperator${et(Ie.value)}`)))})),x.jsx(Mje,W({},he,{className:tt(q.valueInput,he.className),ownerState:H,children:me?.InputComponent?x.jsx(me.InputComponent,W({apiRef:M,item:r,applyValue:s,focusElementRef:K,disabled:T,slotProps:{root:{size:"small"}}},me.InputComponentProps,J),r.field):null}))]}))}),Rje=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],W4=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),Ije=pn(function(t,n){const r=Rn(),i=It(),o=dt(r,po),s=dt(r,mG),a=dt(r,UDe),c=_.useRef(null),u=_.useRef(null),{logicOperators:h=[as.And,as.Or],columnsSort:f,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:y=!1,disableRemoveAllButton:b=!1}=t,v=Tt(t,Rje),S=r.current.upsertFilterItem,E=_.useCallback(F=>{r.current.setFilterLogicOperator(F)},[r]),T=_.useCallback(()=>{let F;if(m&&typeof m=="function"){const H=m({currentFilters:o?.items||[],columns:s});if(H===null)return null;F=s.find(({field:q})=>q===H)}else F=s.find(H=>H.filterOperators?.length);return F?W4(F):null},[o?.items,s,m]),R=_.useCallback(()=>{if(m===void 0||typeof m!="function")return T();const F=o.items.length?o.items:[T()].filter(Boolean),H=m({currentFilters:F,columns:s});if(H===null)return null;const q=s.find(({field:K})=>K===H);return q?W4(q):null},[o.items,s,m,T]),M=_.useMemo(()=>o.items.length?o.items:(u.current||(u.current=T()),u.current?[u.current]:[]),[o.items,T]),I=M.length>1,{readOnlyFilters:N,validFilters:D}=_.useMemo(()=>M.reduce((F,H)=>(a[H.field]?F.validFilters.push(H):F.readOnlyFilters.push(H),F),{readOnlyFilters:[],validFilters:[]}),[M,a]),L=_.useCallback(()=>{const F=R();F&&r.current.upsertFilterItems([...M,F])},[r,R,M]),A=_.useCallback(F=>{const H=D.length===1;r.current.deleteFilterItem(F),H&&r.current.hideFilterPanel()},[r,D.length]),$=_.useCallback(()=>D.length===1&&D[0].value===void 0?(r.current.deleteFilterItem(D[0]),r.current.hideFilterPanel()):r.current.setFilterModel(W({},o,{items:N}),"removeAllFilterItems"),[r,N,o,D]);return _.useEffect(()=>{h.length>0&&o.logicOperator&&!h.includes(o.logicOperator)&&E(h[0])},[h,E,o.logicOperator]),_.useEffect(()=>{D.length>0&&c.current.focus()},[D.length]),x.jsxs(U4,W({},v,{ref:n,children:[x.jsxs(pje,{children:[N.map((F,H)=>x.jsx(G4,W({item:F,applyFilterChanges:S,deleteFilter:A,hasMultipleFilters:I,showMultiFilterOperators:H>0,disableMultiFilterOperator:H!==1,applyMultiFilterOperatorChanges:E,focusElementRef:null,readOnly:!0,logicOperators:h,columnsSort:f},g),F.id==null?H:F.id)),D.map((F,H)=>x.jsx(G4,W({item:F,applyFilterChanges:S,deleteFilter:A,hasMultipleFilters:I,showMultiFilterOperators:N.length+H>0,disableMultiFilterOperator:N.length+H!==1,applyMultiFilterOperatorChanges:E,focusElementRef:H===D.length-1?c:null,logicOperators:h,columnsSort:f},g),F.id==null?H+N.length:F.id))]}),!i.disableMultipleColumnsFiltering&&!(y&&b)?x.jsxs(yje,{children:[y?x.jsx("span",{}):x.jsx(i.slots.baseButton,W({onClick:L,startIcon:x.jsx(i.slots.filterPanelAddIcon,{})},i.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!b&&D.length>0?x.jsx(i.slots.baseButton,W({onClick:$,startIcon:x.jsx(i.slots.filterPanelRemoveAllIcon,{})},i.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),kje=(e,t)=>{const n=new Set(Object.keys(e).filter(o=>e[o]===!1)),r=new Set(Object.keys(t).filter(o=>t[o]===!1));if(n.size!==r.size)return!1;let i=!0;return n.forEach(o=>{r.has(o)||(i=!1)}),i},Pje=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,Dje=["children"],Aje=ya({from:{opacity:0},to:{opacity:1}}),Lje=ya({"from, to":{"--scrollable":'" "'}}),Nje=or("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${Lje};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${Aje} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,Bje=pn(function(t,n){const{children:r}=t,i=Tt(t,Dje);return x.jsx(Nje,W({},i,{ref:n,children:r}))}),Fje=e=>{const{classes:t}=e;return Et({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},Hn,t)},K4=new Intl.Collator;function jje(e){const t=Rn(),n=_.useRef(null),r=dt(t,zDe),i=dt(t,Da),o=It(),[s,a]=_.useState(""),c=Fje(o),u=dt(t,Pa),h=dt(t,Sh),f=dt(t,c4),g=_.useMemo(()=>h?Array.from(f.values()):u,[h,f,u]),{sort:m,searchPredicate:y=Pje,autoFocusSearchField:b=!0,disableShowHideToggle:v=!1,disableResetButton:S=!1,toggleAllMode:E="all",getTogglableColumns:T,searchInputProps:R,searchDebounceMs:M=o.columnFilterDebounceMs}=e,I=_.useMemo(()=>_u(U=>{a(U)},M??150),[M]),N=_.useMemo(()=>kje(i,r),[i,r]),D=_.useMemo(()=>{switch(m){case"asc":return[...g].sort((U,Y)=>K4.compare(U.headerName||U.field,Y.headerName||Y.field));case"desc":return[...g].sort((U,Y)=>-K4.compare(U.headerName||U.field,Y.headerName||Y.field));default:return g}},[g,m]),L=U=>{const{name:Y}=U.target;t.current.setColumnVisibility(Y,i[Y]===!1)},A=_.useMemo(()=>{const U=T?T(D):null,Y=U?D.filter(({field:J})=>U.includes(J)):D;return s?Y.filter(J=>y(J,s.toLowerCase())):Y},[D,s,y,T]),$=_.useCallback(U=>{const Y=Da(t),J=W({},Y),he=T?T(g):null;return(E==="filteredOnly"?A:g).forEach(ge=>{ge.hideable&&(he==null||he.includes(ge.field))&&(U?delete J[ge.field]:J[ge.field]=!1)}),t.current.setColumnVisibilityModel(J)},[t,g,T,E,A]),F=_.useCallback(U=>{I(U.target.value)},[I]),H=_.useMemo(()=>A.filter(U=>U.hideable),[A]),q=_.useMemo(()=>H.every(U=>i[U.field]==null||i[U.field]!==!1),[i,H]),K=_.useMemo(()=>H.every(U=>i[U.field]===!1),[i,H]),z=_.useRef(null);_.useEffect(()=>{b?n.current?.focus():z.current&&typeof z.current.focus=="function"&&z.current.focus()},[b]);let Z=!1;const ee=U=>Z===!1&&U.hideable!==!1?(Z=!0,!0):!1,ie=_.useCallback(()=>{a(""),n.current&&(n.current.value="",n.current.focus())},[]);return x.jsxs(_.Fragment,{children:[x.jsx(zje,{className:c.header,ownerState:o,children:x.jsx(Uje,W({as:o.slots.baseTextField,ownerState:o,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:c.searchInput,onChange:F,size:"small",type:"search",slotProps:{input:{startAdornment:x.jsx(o.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:x.jsx(o.slots.baseIconButton,W({size:"small","aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:ie,edge:"end"},o.slotProps?.baseIconButton,{children:x.jsx(o.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},o.slotProps?.baseTextField,R))}),x.jsx($je,{ownerState:o,children:x.jsxs(Vje,{className:c.root,ownerState:o,children:[A.map(U=>x.jsx(Wje,W({as:o.slots.baseCheckbox,className:c.row,disabled:U.hideable===!1||h,checked:i[U.field]!==!1,onChange:L,name:U.field,inputRef:ee(U)?z:void 0,label:U.headerName||U.field,density:"compact",fullWidth:!0},o.slotProps?.baseCheckbox),U.field)),A.length===0&&x.jsx(Gje,{ownerState:o,children:t.current.getLocaleText("columnsManagementNoColumns")})]})}),!v||!S?x.jsxs(Hje,{ownerState:o,className:c.footer,children:[v?x.jsx("span",{}):x.jsx(o.slots.baseCheckbox,W({disabled:H.length===0||h,checked:q,indeterminate:!q&&!K,onChange:()=>$(!q),name:t.current.getLocaleText("columnsManagementShowHideAllText"),label:t.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},o.slotProps?.baseCheckbox)),S?null:x.jsx(o.slots.baseButton,W({onClick:()=>t.current.setColumnVisibilityModel(r),disabled:N||h},o.slotProps?.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const Vje=Ee("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:Pt.spacing(.5,1.5)}),$je=Ee(Bje,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),zje=Ee("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:Pt.spacing(1.5,2),borderBottom:`1px solid ${Pt.colors.border.base}`}),Uje=Ee(ql,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${$o.input}::-webkit-search-decoration,
      & .${$o.input}::-webkit-search-cancel-button,
      & .${$o.input}::-webkit-search-results-button,
      & .${$o.input}::-webkit-search-results-decoration`]:{display:"none"}}),Hje=Ee("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:Pt.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${Pt.colors.border.base}`}),Gje=Ee("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:Pt.spacing(1,0),alignSelf:"center",font:Pt.typography.font.body}),Wje=Ee(ql,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({}),Kje=pn(function(t,n){const{children:r,slotProps:i={}}=t,o=i.button||{},s=i.tooltip||{},a=Rn(),c=It(),u=er(),h=er(),[f,g]=_.useState(!1),m=_.useRef(null),y=qn(n,m),b=S=>{g(E=>!E),o.onClick?.(S)},v=()=>g(!1);return r==null?null:x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,W({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},c.slotProps?.baseTooltip,s,{children:x.jsx(c.slots.baseButton,W({size:"small",startIcon:x.jsx(c.slots.exportIcon,{}),"aria-expanded":f,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":f?h:void 0,id:u},c.slotProps?.baseButton,o,{onClick:b,ref:y,children:a.current.getLocaleText("toolbarExport")}))})),x.jsx(eS,{open:f,target:m.current,onClose:v,position:"bottom-end",children:x.jsx(c.slots.baseMenuList,{id:h,className:ae.menuList,"aria-labelledby":u,autoFocusItem:f,children:_.Children.map(r,S=>_.isValidElement(S)?_.cloneElement(S,{hideMenu:v}):S)})})]})}),qje=["hideMenu","options"],Yje=["hideMenu","options"],Xje=["csvOptions","printOptions","excelOptions"];function Zje(e){const t=Rn(),n=It(),{hideMenu:r,options:i}=e,o=Tt(e,qje);return x.jsx(n.slots.baseMenuItem,W({onClick:()=>{t.current.exportDataAsCsv(i),r?.()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))}function Qje(e){const t=Rn(),n=It(),{hideMenu:r,options:i}=e,o=Tt(e,Yje);return x.jsx(n.slots.baseMenuItem,W({onClick:()=>{t.current.exportDataAsPrint(i),r?.()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))}pn(function(t,n){const r=t,{csvOptions:i={},printOptions:o={},excelOptions:s}=r,a=Tt(r,Xje),u=Rn().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:i,printOptions:o}).sort((h,f)=>h.componentName>f.componentName?1:-1);return u.length===0?null:x.jsx(Kje,W({},a,{ref:n,children:u.map((h,f)=>_.cloneElement(h.component,{key:f}))}))});const q4=_.createContext(void 0);function WR(){const e=_.useContext(q4);if(e===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}const Jje=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],eVe=e=>e.split(" ").filter(t=>t!==""),tVe=e=>e.join(" ");function nVe(e){const t=It(),{render:n,className:r,parser:i=eVe,formatter:o=tVe,debounceMs:s=t.filterDebounceMs,defaultExpanded:a,expanded:c,onExpandedChange:u}=e,h=Tt(e,Jje),f=Rn(),g=_.useRef(null),m=_.useRef(null),y=dt(f,DG),[b,v]=_.useState(o(y??[])),[S,E]=_.useState(a??b.length>0),T=c??S,R=_.useMemo(()=>({value:b,expanded:T}),[b,T]),M=typeof r=="function"?r(R):r,I=_.useRef(null),N=er(),D=_.useCallback(Z=>{u&&u(Z),c===void 0&&E(Z)},[u,c]),L=_.useRef(y);_.useEffect(()=>{La(L.current,y)||(L.current=y,v(Z=>La(i(Z),y)?Z:o(y??[])))},[y,o,i]);const A=_.useRef(!0),$=_.useRef(T);_.useEffect(()=>{if(A.current){A.current=!1;return}$.current!==T&&(T?requestAnimationFrame(()=>{g.current?.focus({preventScroll:!0})}):m.current?.focus({preventScroll:!0}),$.current=T)},[T]);const F=_.useMemo(()=>_u(Z=>{const ee=i(Z);L.current=ee,f.current.setQuickFilterValues(ee)},s),[f,s,i]);_.useEffect(()=>F.clear,[F]);const H=_.useCallback(Z=>{const ee=Z.target.value;v(ee),F(ee)},[F]),q=_.useCallback(()=>{v(""),f.current.setQuickFilterValues([]),g.current?.focus()},[f,g]),K=_.useMemo(()=>({controlRef:g,triggerRef:m,state:R,controlId:N,clearValue:q,onValueChange:H,onExpandedChange:D}),[N,R,H,q,D]);cr(()=>{I.current&&m.current&&I.current.style.setProperty("--trigger-width",`${m.current?.offsetWidth}px`)},[]);const z=Ql("div",n,W({className:M},h,{ref:I}),R);return x.jsx(q4.Provider,{value:K,children:z})}const rVe=["render","className","slotProps","onKeyDown","onChange"],iVe=pn(function(t,n){const{render:r,className:i,slotProps:o,onKeyDown:s,onChange:a}=t,c=Tt(t,rVe),u=It(),{state:h,controlId:f,controlRef:g,onValueChange:m,onExpandedChange:y,clearValue:b}=WR(),v=typeof i=="function"?i(h):i,S=qn(g,n),E=I=>{I.key==="Escape"&&(h.value===""?y(!1):b()),s?.(I)},T=I=>{h.value===""&&y(!1),o?.htmlInput?.onBlur?.(I)},R=I=>{h.expanded||y(!0),m(I),a?.(I)},M=Ql(u.slots.baseTextField,r,W({},u.slotProps?.baseTextField,{slotProps:W({htmlInput:W({role:"searchbox",id:f,tabIndex:h.expanded?void 0:-1},o?.htmlInput,{onBlur:T})},o),value:h.value,className:v},c,{onChange:R,onKeyDown:E,ref:S}),h);return x.jsx(_.Fragment,{children:M})}),oVe=["render","className","onClick"],sVe=pn(function(t,n){const{render:r,className:i,onClick:o}=t,s=Tt(t,oVe),a=It(),{state:c,clearValue:u}=WR(),h=typeof i=="function"?i(c):i,f=m=>{u(),o?.(m)},g=Ql(a.slots.baseIconButton,r,W({},a.slotProps?.baseIconButton,{className:h,tabIndex:-1},s,{onClick:f,ref:n}),c);return x.jsx(_.Fragment,{children:g})}),aVe=["render","className","onClick"],lVe=pn(function(t,n){const{render:r,className:i,onClick:o}=t,s=Tt(t,aVe),a=It(),{state:c,controlId:u,onExpandedChange:h,triggerRef:f}=WR(),g=typeof i=="function"?i(c):i,m=qn(f,n),y=v=>{h(!c.expanded),o?.(v)},b=Ql(a.slots.baseButton,r,W({},a.slotProps?.baseButton,{className:g,"aria-controls":u,"aria-expanded":c.expanded},s,{onClick:y,ref:m}),c);return x.jsx(_.Fragment,{children:b})}),cVe=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],uVe=["ref","slotProps"],dVe=e=>{const{classes:t}=e;return Et({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},Hn,t)},hVe=or("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),fVe=or(wS,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:e})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:e.expanded?0:1,pointerEvents:e.expanded?"none":"auto",transition:Pt.transition(["opacity"])})),pVe=or(e=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:e})=>({gridArea:"1 / 1",overflowX:"clip",width:e.expanded?260:"var(--trigger-width)",opacity:e.expanded?1:0,transition:Pt.transition(["width","opacity"])}));function gVe(e){const t=Rn(),n=It(),r={classes:n.classes,expanded:!1},i=dVe(r),{quickFilterParser:o,quickFilterFormatter:s,debounceMs:a,className:c,slotProps:u}=e,h=Tt(e,cVe);return x.jsx(nVe,{parser:o,formatter:s,debounceMs:a,render:(f,g)=>{const m=W({},r,{expanded:g.expanded});return x.jsxs(hVe,W({},f,{className:tt(i.root,c),children:[x.jsx(lVe,{render:y=>x.jsx(n.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:x.jsx(fVe,W({className:i.trigger},y,{ownerState:m,color:"default","aria-disabled":g.expanded,children:x.jsx(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),x.jsx(iVe,{render:y=>{let{ref:b,slotProps:v}=y,S=Tt(y,uVe);return x.jsx(pVe,W({as:n.slots.baseTextField,className:i.control,ownerState:m,inputRef:b,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:W({input:W({startAdornment:x.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:S.value?x.jsx(sVe,{render:x.jsx(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:x.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},v?.input)},v)},n.slotProps?.baseTextField,S,u?.root,h))}})]}))}})}const mVe=["render","className","onClick","onPointerUp"],vVe=pn(function(t,n){const{render:r,className:i,onClick:o,onPointerUp:s}=t,a=Tt(t,mVe),c=It(),u=er(),h=er(),f=Rn(),g=dt(f,Ch),m=g.open&&g.openedPanelValue===ls.filters,b=dt(f,IR).length,v={open:m,filterCount:b},S=typeof i=="function"?i(v):i,{filterPanelTriggerRef:E}=HR(),T=qn(n,E),R=N=>{m?f.current.hidePreferences():f.current.showPreferences(ls.filters,h,u),o?.(N)},M=N=>{m&&N.stopPropagation(),s?.(N)},I=Ql(c.slots.baseButton,r,W({},c.slotProps?.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,onClick:R,onPointerUp:M,className:S},a,{ref:T}),v);return x.jsx(_.Fragment,{children:I})}),yVe=["render","className","onClick","onPointerUp"],bVe=pn(function(t,n){const{render:r,className:i,onClick:o,onPointerUp:s}=t,a=Tt(t,yVe),c=It(),u=er(),h=er(),f=Rn(),g=dt(f,Ch),m=g.open&&g.openedPanelValue===ls.columns,y={open:m},b=typeof i=="function"?i(y):i,{columnsPanelTriggerRef:v}=HR(),S=qn(n,v),E=M=>{m?f.current.hidePreferences():f.current.showPreferences(ls.columns,h,u),o?.(M)},T=M=>{m&&M.stopPropagation(),s?.(M)},R=Ql(c.slots.baseButton,r,W({},c.slotProps?.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,className:b},a,{onPointerUp:T,onClick:E,ref:S}),y);return x.jsx(_.Fragment,{children:R})}),wVe=["render","options","onClick"],SVe=pn(function(t,n){const{render:r,options:i,onClick:o}=t,s=Tt(t,wVe),a=It(),c=Rn(),u=f=>{c.current.exportDataAsCsv(i),o?.(f)},h=Ql(a.slots.baseButton,r,W({},a.slotProps?.baseButton,{onClick:u},s,{ref:n}));return x.jsx(_.Fragment,{children:h})}),CVe=["render","options","onClick"],xVe=pn(function(t,n){const{render:r,options:i,onClick:o}=t,s=Tt(t,CVe),a=It(),c=Rn(),u=f=>{c.current.exportDataAsPrint(i),o?.(f)},h=Ql(a.slots.baseButton,r,W({},a.slotProps?.baseButton,{onClick:u},s,{ref:n}));return x.jsx(_.Fragment,{children:h})}),_Ve=["className"],EVe=["className"],Y4=e=>{const{classes:t}=e;return Et({divider:["toolbarDivider"],label:["toolbarLabel"]},Hn,t)},TVe=or(ql,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:Pt.spacing(0,.5)}),MVe=or("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:Pt.typography.font.large,fontWeight:Pt.typography.fontWeight.medium,margin:Pt.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function X4(e){const t=Tt(e,_Ve),n=It(),r=Y4(n);return x.jsx(TVe,W({as:n.slots.baseDivider,orientation:"vertical",className:r.divider},t))}function OVe(e){const t=Tt(e,EVe),n=It(),r=Y4(n);return x.jsx(MVe,W({className:r.label},t))}function RVe(e){const{showQuickFilter:t=!0,quickFilterProps:n,csvOptions:r,printOptions:i,additionalItems:o,additionalExportMenuItems:s}=e,a=Rn(),c=It(),[u,h]=_.useState(!1),f=_.useRef(null),g=er(),m=er(),y=!r?.disableToolbarButton||!i?.disableToolbarButton||s,b=()=>h(!1);return x.jsxs(A4,{children:[c.label&&x.jsx(OVe,{children:c.label}),!c.disableColumnSelector&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarColumns"),children:x.jsx(bVe,{render:x.jsx(wS,{}),children:x.jsx(c.slots.columnSelectorIcon,{fontSize:"small"})})}),!c.disableColumnFilter&&x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarFilters"),children:x.jsx(vVe,{render:(v,S)=>x.jsx(wS,W({},v,{color:S.filterCount>0?"primary":"default",children:x.jsx(c.slots.baseBadge,{badgeContent:S.filterCount,color:"primary",variant:"dot",children:x.jsx(c.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),o,y&&(!c.disableColumnFilter||!c.disableColumnSelector)&&x.jsx(X4,{}),y&&x.jsxs(_.Fragment,{children:[x.jsx(c.slots.baseTooltip,{title:a.current.getLocaleText("toolbarExport"),disableInteractive:u,children:x.jsx(wS,{ref:f,id:m,"aria-controls":g,"aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:()=>h(!u),children:x.jsx(c.slots.exportIcon,{fontSize:"small"})})}),x.jsx(eS,{target:f.current,open:u,onClose:b,position:"bottom-end",children:x.jsxs(c.slots.baseMenuList,W({id:g,"aria-labelledby":m,autoFocusItem:!0},c.slotProps?.baseMenuList,{children:[!i?.disableToolbarButton&&x.jsx(xVe,{render:x.jsx(c.slots.baseMenuItem,W({},c.slotProps?.baseMenuItem)),options:i,onClick:b,children:a.current.getLocaleText("toolbarExportPrint")}),!r?.disableToolbarButton&&x.jsx(SVe,{render:x.jsx(c.slots.baseMenuItem,W({},c.slotProps?.baseMenuItem)),options:r,onClick:b,children:a.current.getLocaleText("toolbarExportCSV")}),s?.(b)]}))})]}),t&&x.jsxs(_.Fragment,{children:[x.jsx(X4,{}),x.jsx(gVe,W({},n))]})]})}const IVe=["className","selectedRowCount"],kVe=e=>{const{classes:t}=e;return Et({root:["selectedRowCount"]},Hn,t)},PVe=or("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:Pt.spacing(0,2),visibility:"hidden",width:0,height:0,[Pt.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),DVe=pn(function(t,n){const{className:r,selectedRowCount:i}=t,o=Tt(t,IVe),s=Rn(),a=It(),c=kVe(a),u=s.current.getLocaleText("footerRowSelected")(i);return x.jsx(PVe,W({className:tt(c.root,r),ownerState:a},o,{ref:n,children:u}))}),AVe=pn(function(t,n){const r=Rn(),i=It(),o=dt(r,iDe),s=dt(r,oS),a=dt(r,RR),c=!i.hideFooterSelectedRowCount&&s>0?x.jsx(DVe,{selectedRowCount:s}):x.jsx("div",{}),u=!i.hideFooterRowCount&&!i.pagination?x.jsx(i.slots.footerRowCount,W({},i.slotProps?.footerRowCount,{rowCount:o,visibleRowCount:a})):null,h=i.pagination&&!i.hideFooterPagination&&i.slots.pagination&&x.jsx(i.slots.pagination,W({},i.slotProps?.pagination));return x.jsxs(NBe,W({},t,{ref:n,children:[c,u,h]}))}),zm=(e,t,n,r,i,o)=>{let s;switch(e){case Xn.LEFT:s=r[n];break;case Xn.RIGHT:s=i-r[n]-t+o;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},CS=(e,t,n,r,i)=>{const o=t===n-1;return e===Xn.LEFT&&o?!0:r?e===Xn.LEFT?!0:e===Xn.RIGHT?!o:!o||i:!1},xS=(e,t)=>e===Xn.RIGHT&&t===0,Um={root:ae.scrollbarFiller,header:ae["scrollbarFiller--header"],borderTop:ae["scrollbarFiller--borderTop"],borderBottom:ae["scrollbarFiller--borderBottom"],pinnedRight:ae["scrollbarFiller--pinnedRight"]};function KR({header:e,borderTop:t=!0,borderBottom:n,pinnedRight:r}){return x.jsx("div",{role:"presentation",className:tt(Um.root,e&&Um.header,t&&Um.borderTop,n&&Um.borderBottom,r&&Um.pinnedRight)})}const LVe=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],NVe=or("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),BVe=e=>{const{classes:t}=e;return Et({root:["skeletonLoadingOverlay"]},Hn,t)},Z4=e=>parseInt(e.getAttribute("data-colindex"),10),FVe=pn(function(t,n){const r=It(),{slots:i}=r,o=Oo(),s=BVe({classes:r.classes}),a=_.useRef(null),c=qn(a,n),u=Rn(),h=dt(u,Si),f=dt(u,mR),g=dt(u,vh),m=_.useMemo(()=>g.filter(D=>D<=f).length,[f,g]),{skeletonRowsCount:y,visibleColumns:b,showFirstRowBorder:v}=t,S=Tt(t,LVe),E=dt(u,Ci),T=_.useMemo(()=>E.slice(0,m),[E,m]),R=dt(u,Zw),M=_.useCallback(D=>{if(R.left.findIndex(L=>L.field===D)!==-1)return Xn.LEFT;if(R.right.findIndex(L=>L.field===D)!==-1)return Xn.RIGHT},[R.left,R.right]),I=_.useMemo(()=>{const D=[];for(let L=0;L<y;L+=1){const A=[];for(let $=0;$<T.length;$+=1){const F=T[$],H=M(F.field),q=H===Xn.LEFT,K=H===Xn.RIGHT,z=M4(H,o),Z=z?R[z].length:T.length-R.left.length-R.right.length,ee=z?R[z].findIndex(xe=>xe.field===F.field):$-R.left.length,ie=h.hasScrollY?h.scrollbarSize:0,U=vS({},o,H,zm(H,F.computedWidth,$,g,h.columnsTotalWidth,ie)),Y=h.columnsTotalWidth<h.viewportOuterSize.width,J=CS(H,ee,Z,r.showCellVerticalBorder,Y),he=xS(H,ee),ge=$===T.length-1,pe=K&&ee===0,le=pe&&Y,Ce=ge&&!pe&&Y,ke=h.viewportOuterSize.width-h.columnsTotalWidth,Te=Math.max(0,ke),me=x.jsx(i.skeletonCell,{width:Te,empty:!0},`skeleton-filler-column-${L}`),ye=ge&&ie!==0;le&&A.push(me),A.push(x.jsx(i.skeletonCell,{field:F.field,type:F.type,align:F.align,width:"var(--width)",height:h.rowHeight,"data-colindex":$,empty:b&&!b.has(F.field),className:tt(q&&ae["cell--pinnedLeft"],K&&ae["cell--pinnedRight"],J&&ae["cell--withRightBorder"],he&&ae["cell--withLeftBorder"]),style:W({"--width":`${F.computedWidth}px`},U)},`skeleton-column-${L}-${F.field}`)),Ce&&A.push(me),ye&&A.push(x.jsx(KR,{pinnedRight:R.right.length>0},`skeleton-scrollbar-filler-${L}`))}D.push(x.jsx("div",{className:tt(ae.row,ae.rowSkeleton,L===0&&!v&&ae["row--firstVisible"]),children:A},`skeleton-row-${L}`))}return D},[y,T,M,o,R,h.hasScrollY,h.scrollbarSize,h.columnsTotalWidth,h.viewportOuterSize.width,h.rowHeight,g,r.showCellVerticalBorder,i,b,v]);return jt(u,"columnResize",D=>{const{colDef:L,width:A}=D,$=a.current?.querySelectorAll(`[data-field="${Nc(L.field)}"]`);if(!$)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const F=T.findIndex(ee=>ee.field===L.field),H=M(L.field),q=H===Xn.LEFT,K=H===Xn.RIGHT,z=getComputedStyle($[0]).getPropertyValue("--width"),Z=parseInt(z,10)-A;$&&$.forEach(ee=>{ee.style.setProperty("--width",`${A}px`)}),q&&a.current?.querySelectorAll(`.${ae["cell--pinnedLeft"]}`)?.forEach(ie=>{Z4(ie)>F&&(ie.style.left=`${parseInt(getComputedStyle(ie).left,10)-Z}px`)}),K&&a.current?.querySelectorAll(`.${ae["cell--pinnedRight"]}`)?.forEach(ie=>{Z4(ie)<F&&(ie.style.right=`${parseInt(getComputedStyle(ie).right,10)+Z}px`)})}),x.jsx(NVe,W({className:s.root},S,{ref:c,children:I}))}),jVe=pn(function(t,n){const r=Rn(),i=dt(r,Si),o=i?.viewportInnerSize.height??0,s=Math.ceil(o/i.rowHeight);return x.jsx(FVe,W({},t,{skeletonRowsCount:s,ref:n}))}),VVe=["variant","noRowsVariant","style"],$Ve={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>jVe,style:{display:"block"}}},zVe=pn(function(t,n){const{variant:r="linear-progress",noRowsVariant:i="skeleton",style:o}=t,s=Tt(t,VVe),a=Rn(),c=It(),u=dt(a,Df),h=$Ve[u===0?i:r],f=h.component(c);return x.jsx(bS,W({style:W({},h.style,o)},s,{ref:n,children:x.jsx(f,{})}))}),UVe=pn(function(t,n){const i=Rn().current.getLocaleText("noRowsLabel");return x.jsx(bS,W({},t,{ref:n,children:i}))}),HVe=pn(function(t,n){const r=It(),i=Rn(),o=dt(i,Zl),s=()=>{i.current.showPreferences(ls.columns)},a=!r.disableColumnSelector&&o.length>0;return x.jsxs(bS,W({},t,{ref:n,children:[i.current.getLocaleText("noColumnsOverlayLabel"),a&&x.jsx(r.slots.baseButton,W({size:"small"},r.slotProps?.baseButton,{onClick:s,children:i.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),GVe=Ee(ql)({maxHeight:"calc(100% + 1px)",flexGrow:1});function WVe(){const e=Rn(),t=It(),n=dt(e,ko),r=dt(e,Ff),i=dt(e,KG),{paginationMode:o,loading:s}=t,a=r===-1&&o==="server"&&s,c=_.useMemo(()=>Math.max(0,i-1),[i]),u=_.useMemo(()=>r===-1||n.page<=c?n.page:c,[c,n.page,r]),h=_.useCallback(y=>{e.current.setPageSize(y)},[e]),f=_.useCallback((y,b)=>{e.current.setPage(b)},[e]),m=(y=>{for(let b=0;b<t.pageSizeOptions.length;b+=1){const v=t.pageSizeOptions[b];if(typeof v=="number"){if(v===y)return!0}else if(v.value===y)return!0}return!1})(n.pageSize)?t.pageSizeOptions:[];return x.jsx(GVe,W({as:t.slots.basePagination,count:r,page:u,rowsPerPageOptions:m,rowsPerPage:n.pageSize,onPageChange:f,onRowsPerPageChange:h,disabled:a},t.slotProps?.basePagination))}const KVe=["className","rowCount","visibleRowCount"],qVe=e=>{const{classes:t}=e;return Et({root:["rowCount"]},Hn,t)},YVe=or("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:Pt.spacing(0,2)}),XVe=pn(function(t,n){const{className:r,rowCount:i,visibleRowCount:o}=t,s=Tt(t,KVe),a=Rn(),c=It(),u=qVe(c);if(i===0)return null;const h=o<i?a.current.getLocaleText("footerTotalVisibleRows")(o,i):i.toLocaleString();return x.jsxs(YVe,W({className:tt(u.root,r),ownerState:c},s,{ref:n,children:[a.current.getLocaleText("footerTotalRows")," ",h]}))});function ZVe(e,t){return Et(t,Hn,e)}const Xf=(e,t)=>Lm(e),Q4=(e,t)=>dt(e,Lm),QVe=ni(e=>e.rowReorder),JVe=Ht(QVe,e=>e?.isActive??!1),e$e=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],t$e=Ht(go,(e,{rowReordering:t,treeData:n})=>!t||n?!1:!!rS(e)),n$e=pn(function(t,n){const{selected:r,rowId:i,row:o,index:s,style:a,rowHeight:c,className:u,visibleColumns:h,pinnedColumns:f,offsetLeft:g,columnsTotalWidth:m,firstColumnIndex:y,lastColumnIndex:b,focusedColumnIndex:v,isFirstVisible:S,isLastVisible:E,isNotVisible:T,showBottomBorder:R,scrollbarWidth:M,gridHasFiller:I,onClick:N,onDoubleClick:D,onMouseEnter:L,onMouseLeave:A,onMouseOut:$,onMouseOver:F}=t,H=Tt(t,e$e),q=Ws(),K=Jw(),z=_.useRef(null),Z=It(),ee=Q4(q),ie=dt(q,Aa),U=dt(q,vh),Y=Z.rowReordering,J=Z.treeData,he=dt(q,t$e,{rowReordering:Y,treeData:J}),ge=dt(q,JVe),pe=qn(z,n),le=Kl(q,i),Ce=dt(q,d4,{rowId:i,editMode:Z.editMode}),ke=Z.editMode===Yl.Row,Te=v!==void 0,me=Te&&v>=f.left.length&&v<y,ye=Te&&v<h.length-f.right.length&&v>=b,xe=ZVe(Z.classes,{root:["row",r&&"selected",ke&&"row--editable",Ce&&"row--editing",S&&"row--firstVisible",E&&"row--lastVisible",R&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]}),Re=K.hooks.useGridRowAriaAttributes();_.useLayoutEffect(()=>{if(ee.range){const xt=q.current.getRowIndexRelativeToVisibleRows(i);xt!==void 0&&q.current.unstable_setLastMeasuredRowIndex(xt)}if(z.current&&c==="auto")return q.current.observeRowHeight(z.current,i)},[q,ee.range,c,i]);const Le=_.useCallback((xt,Dt)=>Je=>{Vm(Je)||q.current.getRow(i)&&(q.current.publishEvent(xt,q.current.getRowParams(i),Je),Dt&&Dt(Je))},[q,i]),Ie=_.useCallback(xt=>{const Je=SS(xt.target,ae.cell)?.getAttribute("data-field");Je&&(Je===Vf.field||Je===TR||Je==="__reorder__"||q.current.getCellMode(i,Je)===vr.Edit||q.current.getColumn(Je)?.type===tS)||Le("rowClick",N)(xt)},[q,N,Le,i]),{slots:je,slotProps:lt,disableColumnReorder:We}=Z,Bt=dt(q,()=>W({},q.current.getRowHeightEntry(i)),void 0,JH),Ct=_.useMemo(()=>{if(T)return{opacity:0,width:0,height:0};const xt=W({},a,{maxHeight:c==="auto"?"none":c,minHeight:c,"--height":typeof c=="number"?`${c}px`:c});if(Bt.spacingTop){const Dt=Z.rowSpacingType==="border"?"borderTopWidth":"marginTop";xt[Dt]=Bt.spacingTop}if(Bt.spacingBottom){const Dt=Z.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Je=xt[Dt];typeof Je!="number"&&(Je=parseInt(Je||"0",10)),Je+=Bt.spacingBottom,xt[Dt]=Je}return xt},[T,c,a,Bt,Z.rowSpacingType]);if(!le)return null;const Ot=q.current.unstable_applyPipeProcessors("rowClassName",[],i),Ke=Re(le,s);if(typeof Z.getRowClassName=="function"){const xt=s-(ee.range?.firstRowIndex||0),Dt=W({},q.current.getRowParams(i),{isFirstVisible:xt===0,isLastVisible:xt===ee.rows.length-1,indexRelativeToCurrentPage:xt});Ot.push(Z.getRowClassName(Dt))}const Ft=(xt,Dt,Je,bt,wt=Xn.NONE)=>{const at=q.current.unstable_getCellColSpanInfo(i,Je);if(at?.spannedByColSpan)return null;const mt=at?.cellProps.width??xt.computedWidth,Vt=at?.cellProps.colSpan??1,_t=zm(wt,xt.computedWidth,Je,U,m,M);if(le.type==="skeletonRow")return x.jsx(je.skeletonCell,{type:xt.type,width:mt,height:c,field:xt.field,align:xt.align},xt.field);const Nt=xt.field==="__reorder__",Zn=!(We||xt.disableReorder),An=he&&!ie.length,yr=!(Zn||Nt&&An||ge),Qn=wt===Xn.VIRTUAL,Br=xS(wt,Dt),St=CS(wt,Dt,bt,Z.showCellVerticalBorder,I);return x.jsx(je.cell,W({column:xt,width:mt,rowId:i,align:xt.align||"left",colIndex:Je,colSpan:Vt,disableDragEvents:yr,isNotVisible:Qn,pinnedOffset:_t,pinnedPosition:wt,showLeftBorder:Br,showRightBorder:St,row:o,rowNode:le},lt?.cell),xt.field)},Mt=f.left.map((xt,Dt)=>Ft(xt,Dt,Dt,f.left.length,Xn.LEFT)),zt=f.right.map((xt,Dt)=>{const Je=h.length-f.right.length+Dt;return Ft(xt,Dt,Je,f.right.length,Xn.RIGHT)}),Lt=h.length-f.left.length-f.right.length,Xt=[];me&&Xt.push(Ft(h[v],v-f.left.length,v,Lt,Xn.VIRTUAL));for(let xt=y;xt<b;xt+=1){const Dt=h[xt],Je=xt-f.left.length;Dt&&Xt.push(Ft(Dt,Je,xt,Lt))}ye&&Xt.push(Ft(h[v],v-f.left.length,v,Lt,Xn.VIRTUAL));const sn=o?{onClick:Ie,onDoubleClick:Le("rowDoubleClick",D),onMouseEnter:Le("rowMouseEnter",L),onMouseLeave:Le("rowMouseLeave",A),onMouseOut:Le("rowMouseOut",$),onMouseOver:Le("rowMouseOver",F)}:null;return x.jsxs("div",W({"data-id":i,"data-rowindex":s,role:"row",className:tt(...Ot,xe.root,u),style:Ct},Ke,sn,H,{ref:pe,children:[Mt,x.jsx("div",{role:"presentation",className:ae.cellOffsetLeft,style:{width:g}}),Xt,x.jsx("div",{role:"presentation",className:tt(ae.cell,ae.cellEmpty)}),zt,M!==0&&x.jsx(KR,{pinnedRight:f.right.length>0,borderTop:!S})]}))}),r$e=Pc(n$e),i$e=()=>{const e=Ws(),t=It(),n=dt(e,Ci),r=dt(e,OR),i=dt(e,Bm),o=dt(e,UH),s=t["aria-label"],a=t["aria-labelledby"];return{role:"grid","aria-label":!s&&!a&&t.label?t.label:s,"aria-labelledby":a,"aria-colcount":n.length,"aria-rowcount":i+1+o+r,"aria-multiselectable":kR(t)}},o$e=()=>{const e=Ws(),t=dt(e,Bm);return _.useCallback((n,r)=>{const i={},o=r+t+2;return i["aria-rowindex"]=o,n&&e.current.isRowSelectable(n.id)&&(i["aria-selected"]=e.current.isRowSelected(n.id)),i},[e,t])},s$e=e=>({setRowIndex:_.useCallback((n,r)=>{const i=Kl(e,n);if(!i)throw new Error(`MUI X: No row with id #${n} found.`);if(i.parent!==fo)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(i.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(o=>{const s=Io(e)[fo],a=s.children,c=a.findIndex(h=>h===n);if(c===-1||c===r)return o;const u=[...a];return u.splice(r,0,u.splice(c,1)[0]),W({},o,{rows:W({},o.rows,{tree:W({},o.rows.tree,{[fo]:W({},s,{children:u})})})})}),e.current.publishEvent("rowsSet")},[e])});function a$e({privateApiRef:e,configuration:t,props:n,children:r}){const i=_.useRef(e.current.getPublicApi());return x.jsx(OG.Provider,{value:t,children:x.jsx(IH.Provider,{value:n,children:x.jsx(s4.Provider,{value:e,children:x.jsx(kH.Provider,{value:i,children:x.jsx(TBe,{children:x.jsx(nAe,{children:r})})})})})})}const l$e=e=>{const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),i=_.useRef(null),o=_.useRef(null),s=_.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:i,virtualScrollbarHorizontalRef:o,columnHeadersContainerRef:s})},c$e=e=>{const t=Oo();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const n=_.useRef(!0);_.useEffect(()=>{n.current?n.current=!1:e.current.setState(r=>W({},r,{isRtl:t}))},[e,t])},u$e=BDe()&&window.localStorage.getItem("DEBUG")!=null,Hm=()=>{},d$e={debug:Hm,info:Hm,warn:Hm,error:Hm},J4=["debug","info","warn","error"];function e5(e,t,n=console){const r=J4.indexOf(t);if(r===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return J4.reduce((o,s,a)=>(a>=r?o[s]=(...c)=>{const[u,...h]=c;n[s](`MUI X: ${e} - ${u}`,...h)}:o[s]=Hm,o),{})}const h$e=(e,t)=>{const n=_.useCallback(r=>u$e?e5(r,"debug",t.logger):t.logLevel?e5(r,t.logLevel.toString(),t.logger):d$e,[t.logLevel,t.logger]);zn(e,{getLogger:n},"private")},f$e=(e,t)=>{const n=_.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:n})};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function p$e(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wm(e){var t=p$e(e,"string");return Gm(t)=="symbol"?t:t+""}const g$e=e=>{const t=_.useRef({}),n=_.useRef(!1),r=_.useCallback(f=>{n.current||!f||(n.current=!0,Object.values(f.appliers).forEach(g=>{g()}),n.current=!1)},[]),i=_.useCallback((f,g,m)=>{t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const y=t.current[f];return y.processors.get(g)!==m&&(y.processors.set(g,m),y.processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null),y.processorsUpdated=!0),()=>{t.current[f].processors.set(g,null),t.current[f].processorsAsArray=Array.from(t.current[f].processors.values()).filter(v=>v!==null)}},[]),o=_.useCallback((f,g,m)=>(t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[f].appliers[g]=m,()=>{const y=t.current[f].appliers,b=Tt(y,[g].map(Wm));t.current[f].appliers=b}),[]),s=_.useCallback(f=>{r(t.current[f])},[r]),a=_.useCallback(()=>{for(const f in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,f))continue;const g=t.current[f];g.processorsUpdated&&(g.processorsUpdated=!1,r(g))}},[r]),c=_.useCallback((...f)=>{const[g,m,y]=f;if(!t.current[g])return m;const b=t.current[g].processorsAsArray;let v=m;for(let S=0;S<b.length;S+=1)v=b[S](v,y);return v},[]),u={registerPipeProcessor:i,registerPipeApplier:o,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:a},h={unstable_applyPipeProcessors:c};zn(e,u,"private"),zn(e,h,"public")},di=(e,t,n,r=!0)=>{const i=_.useRef(null),o=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=_.useCallback(()=>{i.current=e.current.registerPipeProcessor(t,o.current,n)},[e,n,t]);wh(()=>{r&&s()});const a=_.useRef(!0);_.useEffect(()=>(a.current?a.current=!1:r&&s(),()=>{i.current&&(i.current(),i.current=null)}),[s,r])},qR=(e,t,n)=>{const r=_.useRef(null),i=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),o=_.useCallback(()=>{r.current=e.current.registerPipeApplier(t,i.current,n)},[e,n,t]);wh(()=>{o()});const s=_.useRef(!0);_.useEffect(()=>(s.current?s.current=!1:o(),()=>{r.current&&(r.current(),r.current=null)}),[o])};let $u=(function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e})({});const Km=(e,t,n,r)=>{const i=_.useCallback(()=>{e.current.registerStrategyProcessor(t,n,r)},[e,r,n,t]);wh(()=>{i()});const o=_.useRef(!0);_.useEffect(()=>{o.current?o.current=!1:i()},[i])},_h="none",t5={dataSourceRowsUpdate:$u.DataSource,rowTreeCreation:$u.RowTree,filtering:$u.RowTree,sorting:$u.RowTree,visibleRowsLookupCreation:$u.RowTree},m$e=e=>{const t=_.useRef(new Map),n=_.useRef({}),r=_.useCallback((c,u,h)=>{const f=()=>{const y=n.current[u],b=Tt(y,[c].map(Wm));n.current[u]=b};n.current[u]||(n.current[u]={});const g=n.current[u],m=g[c];return g[c]=h,!m||m===h||c===e.current.getActiveStrategy(t5[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),f},[e]),i=_.useCallback((c,u)=>{const h=e.current.getActiveStrategy(t5[c]);if(h==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=n.current[c];if(!f||!f[h])throw new Error(`No processor found for processor "${c}" on strategy "${h}"`);const g=f[h];return g(u)},[e]),o=_.useCallback(c=>Array.from(t.current.entries()).find(([,f])=>f.group!==c?!1:f.isAvailable())?.[0]??_h,[]),s=_.useCallback((c,u,h)=>{t.current.set(u,{group:c,isAvailable:h}),e.current.publishEvent("strategyAvailabilityChange")},[e]);zn(e,{registerStrategyProcessor:r,applyStrategyProcessor:i,getActiveStrategy:o,setStrategyAvailability:s},"private")},v$e=e=>{const t=_.useRef({}),n=_.useCallback(a=>{t.current[a.stateId]=a},[]),r=_.useCallback((a,c)=>{let u;if(NDe(a)?u=a(e.current.state):u=a,e.current.state===u)return!1;const h={current:{state:u}};let f=!1;const g=[];if(Object.keys(t.current).forEach(m=>{const y=t.current[m],b=y.stateSelector(e),v=y.stateSelector(h);v!==b&&(g.push({stateId:y.stateId,hasPropChanged:v!==y.propModel}),y.propModel!==void 0&&v!==y.propModel&&(f=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(m=>m.stateId).join(", ")} in the same transaction.`);if(f||(e.current.state=u,e.current.publishEvent("stateChange",u),e.current.store.update(u)),g.length===1){const{stateId:m,hasPropChanged:y}=g[0],b=t.current[m],v=b.stateSelector(h);b.propOnChange&&y&&b.propOnChange(v,{reason:c,api:e.current}),f||e.current.publishEvent(b.changeEvent,v,{reason:c})}return!f},[e]),i=_.useCallback((a,c,u)=>e.current.setState(h=>W({},h,{[a]:c(h[a])}),u),[e]),o={setState:r},s={updateControlState:i,registerControlState:n};zn(e,o,"public"),zn(e,s,"private")},y$e=(e,t)=>W({},e,{props:{listView:t.listView,getRowId:t.getRowId}}),b$e=(e,t)=>{_.useEffect(()=>{e.current.setState(n=>W({},n,{props:{listView:t.listView,getRowId:t.getRowId}}))},[e,t.listView,t.getRowId])},w$e=(e,t)=>{l$e(e),b$e(e,t),c$e(e),h$e(e,t),v$e(e),g$e(e),m$e(e),f$e(e,t),e.current.register("private",{rootProps:t})},S$e=Ht(Cs,_4,Lm,Ci,(e,t,n,r)=>{if(!e)return!1;const i=n.rowIdToIndexMap.get(e.id),o=r.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(a=>a.field===e.field);return!(i!==void 0&&o!==-1&&i>=t.firstRowIndex&&i<=t.lastRowIndex)}),C$e=ur(S$e,Ci,Lm,Cs,(e,t,n,r)=>{if(!e)return null;const i=n.rowIdToIndexMap.get(r.id);if(i===void 0)return null;const o=t.findIndex(s=>s.field===r.field);return o===-1?null:W({},r,{rowIndex:i,columnIndex:o})}),_S={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:Yl.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function x$e(e){return e}const _$e=Ht(Ci,vh,(e,t)=>{const n=e.length;return n===0?0:xh(t[n-1]+e[n-1].computedWidth,1)}),E$e=()=>YO((e,t,n,r,i)=>W({},e,{headerHeight:t,groupHeaderHeight:n,headerFilterHeight:r,headersTotalHeight:i}),{maxSize:1});function T$e(e,t){const n=Oo(),{listView:r}=t,i=dt(e,Ci),o=dt(e,Em),s=Zw(e),a=dt(e,Pm),c=ie=>a.has(ie)&&e.current.isRowSelectable(ie),u=Q4(e),h=dt(e,HDe),f=dt(e,$H),g=dt(e,VH),{autoHeight:m}=t,y=r,b=dt(e,Tm),v=XH(t.rowHeight,_S.rowHeight),S=Math.floor(v*b),E=Math.floor(t.columnHeaderHeight*b),T=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*b),R=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*b),M=dt(e,_$e),I=Fm(e,t),N=s.left.reduce((ie,U)=>ie+U.computedWidth,0),D=s.right.reduce((ie,U)=>ie+U.computedWidth,0),L={rowHeight:S,headerHeight:E,columnsTotalWidth:M,leftPinnedWidth:N,rightPinnedWidth:D,topPinnedHeight:I,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},A=zs(E$e).current,$=dt(e,Df),F=dt(e,Bf),H=Math.min(F.enabled?F.paginationModel.pageSize:$,$),{getRowHeight:q,getEstimatedRowHeight:K,getRowSpacing:z}=t,Z=dt(e,C$e),ee=ANe({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:L,virtualization:{isRtl:n,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:h,getColspan:(ie,U)=>{if(typeof U.colSpan=="function"){const Y=e.current.getRow(ie),J=e.current.getRowValue(Y,U);return U.colSpan(J,Y,U,e)??0}return U.colSpan??1}},initialState:{scroll:t.initialState?.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:u.rows,range:u.range,rowCount:H,columns:i,pinnedRows:o,pinnedColumns:s,autoHeight:m,minimalContentHeight:qH,getRowHeight:_.useMemo(()=>{if(q)return ie=>q(W({},ie,{densityFactor:b}))},[q,b]),getEstimatedRowHeight:_.useMemo(()=>K?ie=>K(W({},ie,{densityFactor:b})):void 0,[K,b]),getRowSpacing:_.useMemo(()=>z?ie=>{const U=u.rowIdToIndexMap.get(ie.id)??-1,Y={isFirstVisible:U===0,isLastVisible:U===u.rows.length-1,indexRelativeToCurrentPage:U};return z(W({},ie,Y,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(ie.id)}))}:void 0,[e,z,u.rows,u.rowIdToIndexMap]),applyRowHeight:Jt((ie,U)=>e.current.unstable_applyPipeProcessors("rowHeight",ie,U)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:Jt(()=>Z),resizeThrottleMs:t.resizeThrottleMs,onResize:Jt(ie=>e.current.publishEvent("resize",ie)),onWheel:Jt(ie=>{e.current.publishEvent("virtualScrollerWheel",{},ie)}),onTouchMove:Jt(ie=>{e.current.publishEvent("virtualScrollerTouchMove",{},ie)}),onRenderContextChange:Jt(ie=>{e.current.publishEvent("renderedRowsIntervalChange",ie)}),onScrollChange:(ie,U)=>{e.current.publishEvent("scrollPositionChange",{top:ie.top,left:ie.left,renderContext:U})},scrollReset:y,renderRow:ie=>x.jsx(t.slots.row,W({row:ie.model,rowId:ie.id,index:ie.rowIndex,selected:c(ie.id),offsetLeft:ie.offsetLeft,columnsTotalWidth:M,rowHeight:ie.baseRowHeight,pinnedColumns:s,visibleColumns:i,firstColumnIndex:ie.firstColumnIndex,lastColumnIndex:ie.lastColumnIndex,focusedColumnIndex:ie.focusedColumnIndex,isFirstVisible:ie.isFirstVisible,isLastVisible:ie.isLastVisible,isNotVisible:ie.isVirtualFocusRow,showBottomBorder:ie.showBottomBorder,scrollbarWidth:f,gridHasFiller:g},t.slotProps?.row),ie.id),renderInfiniteLoadingTrigger:ie=>e.current.getInfiniteLoadingTriggerElement?.({lastRowId:ie})});wh(()=>{e.current.store.state.dimensions=A(ee.store.state.dimensions,E,T,R,I),e.current.store.state.rowsMeta=ee.store.state.rowsMeta,e.current.store.state.virtualization=ee.store.state.virtualization}),Lw(ee.store,xs.selectors.dimensions,(ie,U)=>{e.current.setState(Y=>W({},Y,{dimensions:A(U,E,T,R,I)}))}),Lw(ee.store,x$e,(ie,U)=>{U.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(Y=>W({},Y,{rowsMeta:U.rowsMeta})),U.virtualization!==e.current.state.virtualization&&e.current.setState(Y=>W({},Y,{virtualization:U.virtualization}))}),e.current.register("private",{virtualizer:ee})}const mo=(e,t,n,r)=>{const i=_.useRef(r),o=_.useRef(!1);r!==i.current&&(o.current=!1,i.current=r),o.current||(t.current.state=e(t.current.state,n,t),o.current=!0)};function YR(e,t){if(e==null)return"";const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const r=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(r[0])?`"'${r}"`:[t.delimiter,`
`,"\r",'"'].some(i=>n.includes(i))?`"${r}"`:r}return n}const n5=(e,t)=>{const{csvOptions:n,ignoreValueFormatter:r}=t;let i;if(r){const o=e.colDef.type;o==="number"?i=String(e.value):o==="date"||o==="dateTime"?i=e.value?.toISOString():typeof e.value?.toString=="function"?i=e.value.toString():i=e.value}else i=e.formattedValue;return YR(i,n)};class XR{rowString="";isEmpty=!0;constructor(t){this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const M$e=({id:e,columns:t,getCellParams:n,csvOptions:r,ignoreValueFormatter:i})=>{const o=new XR({csvOptions:r});return t.forEach(s=>{const a=n(e,s.field);o.addValue(n5(a,{ignoreValueFormatter:i,csvOptions:r}))}),o.getRowString()};function O$e(e){const{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:i,apiRef:o}=e,s=n.reduce((f,g)=>`${f}${M$e({id:g,columns:t,getCellParams:o.current.getCellParams,ignoreValueFormatter:i,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return s;const a=t.filter(f=>f.field!==Vf.field),c=[];if(r.includeColumnGroupsHeaders){const f=o.current.getAllGroupDetails();let g=0;const m=a.reduce((y,b)=>{const v=o.current.getColumnGroupPath(b.field);return y[b.field]=v,g=Math.max(g,v.length),y},{});for(let y=0;y<g;y+=1){const b=new XR({csvOptions:r,sanitizeCellValue:YR});c.push(b),a.forEach(v=>{const S=(m[v.field]||[])[y],E=f[S];b.addValue(E?E.headerName||E.groupId:"")})}}const u=new XR({csvOptions:r,sanitizeCellValue:YR});return a.forEach(f=>{u.addValue(f.headerName||f.field)}),c.push(u),`${`${c.map(f=>f.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function r5(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function R$e(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{r5(e)}):r5(e)}function I$e(e){return!!(window.getSelection()?.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const k$e=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,r=(typeof n=="object"?n?.clipboardExport:n)||!1,i=t.clipboardCopyCellDelimiter,o=_.useCallback(s=>{if(!JDe(s)||I$e(s.target))return;let a="";if(oS(e)>0)a=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const u=Cs(e);if(u){const h=e.current.getCellParams(u.id,u.field);a=n5(h,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}a=e.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(R$e(a),e.current.publishEvent("clipboardCopy",a))},[e,r,i]);a4(e,()=>e.current.rootElementRef.current,"keydown",o),Nr(e,"clipboardCopy",t.onClipboardCopy)},P$e=e=>W({},e,{columnMenu:{open:!1}}),D$e=e=>{const t=Po(e,"useGridColumnMenu"),n=_.useCallback(s=>{const a=fS(e),c={open:!0,field:s};(c.open!==a.open||c.field!==a.field)&&(e.current.setState(h=>h.columnMenu.open&&h.columnMenu.field===s?h:(t.debug("Opening Column Menu"),W({},h,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences())},[e,t]),r=_.useCallback(()=>{const s=fS(e);if(s.field){const u=Ac(e),h=Da(e),f=Zl(e);let g=s.field;if(u[g]||(g=f[0]),h[g]===!1){const m=f.filter(b=>b===g?!0:h[b]!==!1),y=m.indexOf(g);g=m[y+1]||m[y-1]}e.current.setColumnHeaderFocus(g)}const a={open:!1,field:void 0};(a.open!==s.open||a.field!==s.field)&&e.current.setState(u=>(t.debug("Hiding Column Menu"),W({},u,{columnMenu:a})))},[e,t]),i=_.useCallback(s=>{t.debug("Toggle Column Menu");const a=fS(e);!a.open||a.field!==s?n(s):r()},[e,t,n,r]);zn(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:i},"public"),jt(e,"columnResizeStart",r),jt(e,"virtualScrollerWheel",e.current.hideColumnMenu),jt(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},A$e=(e,t,n)=>{n.current.caches.columns={lastColumnsProp:t.columns};const r=Hf({apiRef:n,columnsToUpsert:t.columns,initialState:t.initialState?.columns,columnVisibilityModel:t.columnVisibilityModel??t.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return W({},e,{columns:r,pinnedColumns:e.pinnedColumns??Xw})};function L$e(e,t){const n=Po(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Da,changeEvent:"columnVisibilityModelChange"});const r=_.useCallback(D=>{n.debug("Updating columns state."),e.current.setState(N$e(D)),e.current.publishEvent("columnsChange",D.orderedFields)},[n,e]),i=_.useCallback(D=>Ac(e)[D],[e]),o=_.useCallback(()=>Pa(e),[e]),s=_.useCallback(()=>Ci(e),[e]),a=_.useCallback((D,L=!0)=>(L?Ci(e):Pa(e)).findIndex($=>$.field===D),[e]),c=_.useCallback(D=>{const L=a(D);return vh(e)[L]},[e,a]),u=_.useCallback(D=>{Da(e)!==D&&(e.current.setState(A=>W({},A,{columns:Hf({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:D,keepOnlyColumnsToUpsert:!1})})),e.current.updateRenderContext?.())},[e]),h=_.useCallback(D=>{if(Sh(e)){e.current.updateNonPivotColumns(D);return}const L=Hf({apiRef:e,columnsToUpsert:D,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});r(L)},[e,r]),f=_.useCallback((D,L)=>{const A=Da(e),$=A[D]??!0;if(L!==$){const F=W({},A,{[D]:L});e.current.setColumnVisibilityModel(F)}},[e]),g=_.useCallback(D=>Zl(e).findIndex(A=>A===D),[e]),m=_.useCallback((D,L)=>{const A=Zl(e),$=g(D);if($===L)return;n.debug(`Moving column ${D} to index ${L}`);const F=[...A],H=F.splice($,1)[0];F.splice(L,0,H),r(W({},ul(e),{orderedFields:F}));const q={column:e.current.getColumn(D),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(D),oldIndex:$};e.current.publishEvent("columnIndexChange",q)},[e,n,r,g]),y=_.useCallback((D,L)=>{n.debug(`Updating column ${D} width to ${L}`);const A=ul(e),$=A.lookup[D],F=W({},$,{width:L,hasBeenResized:!0});r(NR(W({},A,{lookup:W({},A.lookup,{[D]:F})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(D),colDef:F,width:L})},[e,n,r]),b={getColumn:i,getAllColumns:o,getColumnIndex:a,getColumnPosition:c,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:g,updateColumns:h,setColumnVisibilityModel:u,setColumnVisibility:f,setColumnWidth:y},v={setColumnIndex:m};zn(e,b,"public"),zn(e,v,t.signature===cl.DataGrid?"private":"public");const S=_.useCallback((D,L)=>{const A={},$=Da(e);(!L.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(t.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys($).length>0)&&(A.columnVisibilityModel=$),A.orderedFields=Zl(e);const H=Pa(e),q={};return H.forEach(K=>{if(K.hasBeenResized){const z={};r4.forEach(Z=>{let ee=K[Z];ee===1/0&&(ee=-1),z[Z]=ee}),q[K.field]=z}}),Object.keys(q).length>0&&(A.dimensions=q),W({},D,{columns:A})},[e,t.columnVisibilityModel,t.initialState?.columns]),E=_.useCallback((D,L)=>{const A=L.stateToRestore.columns,$=A?.columnVisibilityModel;if(A==null)return D;const F=Hf({apiRef:e,columnsToUpsert:[],initialState:A,columnVisibilityModel:$,keepOnlyColumnsToUpsert:!1});return A!=null&&e.current.setState(H=>W({},H,{columns:W({},H.columns,{lookup:F.lookup,orderedFields:F.orderedFields,initialColumnVisibilityModel:F.initialColumnVisibilityModel})})),$!=null&&e.current.setState(H=>W({},H,{columns:W({},H.columns,{columnVisibilityModel:$})})),A!=null&&e.current.publishEvent("columnsChange",F.orderedFields),D},[e]),T=_.useCallback((D,L)=>{if(L===ls.columns){const A=t.slots.columnsPanel;return x.jsx(A,W({},t.slotProps?.columnsPanel))}return D},[t.slots.columnsPanel,t.slotProps?.columnsPanel]),R=_.useCallback(D=>{const L=Sh(e);return t.disableColumnSelector||L?D:[...D,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);di(e,"columnMenu",R),di(e,"exportState",S),di(e,"restoreState",E),di(e,"preferencePanel",T);const M=_.useRef(null);jt(e,"viewportInnerSizeChange",D=>{if(M.current!==D.width){if(M.current=D.width,!Ci(e).some(A=>A.flex&&A.flex>0))return;r(NR(ul(e),e.current.getRootDimensions()))}});const N=_.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const D=Hf({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});r(D)},[e,n,r]);qR(e,"hydrateColumns",N),_.useEffect(()=>{if(e.current.caches.columns.lastColumnsProp===t.columns)return;e.current.caches.columns.lastColumnsProp=t.columns,n.info(`GridColumns have changed, new length ${t.columns.length}`);const D=Hf({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel});r(D)},[n,e,r,t.columns,t.columnVisibilityModel]),_.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function N$e(e){return t=>W({},t,{columns:e})}const B$e=(e,t)=>W({},e,{density:t.initialState?.density??t.density??"standard"}),F$e=(e,t)=>{const n=Po(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:Lf,changeEvent:"densityChange"});const i={setDensity:Jt(a=>{Lf(e)!==a&&(n.debug(`Set grid density to ${a}`),e.current.setState(u=>W({},u,{density:a})))})};zn(e,i,"public");const o=_.useCallback((a,c)=>{const u=Lf(e);return!c.exportOnlyDirtyModels||t.density!=null||t.initialState?.density!=null?W({},a,{density:u}):a},[e,t.density,t.initialState?.density]),s=_.useCallback((a,c)=>{const u=c.stateToRestore?.density?c.stateToRestore.density:Lf(e);return e.current.setState(h=>W({},h,{density:u})),a},[e]);di(e,"exportState",o),di(e,"restoreState",s),_.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function j$e(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.download=r,o.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI X: exportAs not supported.")}const i5=({apiRef:e,options:t})=>{const n=Pa(e);return t.fields?t.fields.reduce((i,o)=>{const s=n.find(a=>a.field===o);return s&&i.push(s),i},[]):(t.allColumns?n:Ci(e)).filter(i=>i.disableExport!==!0)},o5=({apiRef:e})=>{const t=LG(e),n=Io(e),r=oS(e),i=t.filter(c=>n[c].type!=="footer"),o=Em(e),s=o?.top?.map(c=>c.id)||[],a=o?.bottom?.map(c=>c.id)||[];if(i.unshift(...s),i.push(...a),r>0){const c=FG(e);return i.filter(u=>c.has(u))}return i},V$e=(e,t)=>{const n=Po(e,"useGridCsvExport"),r=t.ignoreValueFormatterDuringExport,i=(typeof r=="object"?r?.csvExport:r)||!1,o=_.useCallback((u={})=>{n.debug("Get data as CSV");const h=i5({apiRef:e,options:u}),g=(u.getRowsToExport??o5)({apiRef:e});return O$e({columns:h,rowIds:g,csvOptions:{delimiter:u.delimiter||",",shouldAppendQuotes:u.shouldAppendQuotes??!0,includeHeaders:u.includeHeaders??!0,includeColumnGroupsHeaders:u.includeColumnGroupsHeaders??!0,escapeFormulas:u.escapeFormulas??!0},ignoreValueFormatter:i,apiRef:e})},[n,e,i]),s=_.useCallback(u=>{n.debug("Export data as CSV");const h=o(u),f=new Blob([u?.utf8WithBom?new Uint8Array([239,187,191]):"",h],{type:"text/csv"});j$e(f,"csv",u?.fileName)},[n,o]);zn(e,{getDataAsCsv:o,exportDataAsCsv:s},"public");const c=_.useCallback((u,h)=>h.csvOptions?.disableToolbarButton?u:[...u,{component:x.jsx(Zje,{options:h.csvOptions}),componentName:"csvExport"}],[]);di(e,"exportMenu",c)};function $$e(e,t){const n=[],r=t.querySelectorAll("style, link[rel='stylesheet']");for(let i=0;i<r.length;i+=1){const o=r[i];if(o.tagName==="STYLE"){const s=e.createElement(o.tagName),a=o.sheet;if(a){let c="";for(let u=0;u<a.cssRules.length;u+=1)typeof a.cssRules[u].cssText=="string"&&(c+=`${a.cssRules[u].cssText}\r
`);s.appendChild(e.createTextNode(c)),e.head.appendChild(s)}}else if(o.getAttribute("href")){const s=e.createElement(o.tagName);for(let a=0;a<o.attributes.length;a+=1){const c=o.attributes[a];c&&s.setAttribute(c.nodeName,c.nodeValue||"")}n.push(new Promise(a=>{s.addEventListener("load",()=>a())})),e.head.appendChild(s)}}return n}const ES=(e,t,n)=>{let r=e.paginationModel;const i=e.rowCount,o=n?.pageSize??r.pageSize,s=n?.page??r.page,a=zG(i,o,s);n&&(n?.page!==r.page||n?.pageSize!==r.pageSize)&&(r=n);const c=o===-1?0:VAe(r.page,a);return c!==r.page&&(r=W({},r,{page:c})),HG(r.pageSize,t),r},z$e=(e,t)=>{const n=Po(e,"useGridPaginationModel"),r=dt(e,Tm),i=_.useRef(po(e)),o=Math.floor(t.rowHeight*r);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:ko,changeEvent:"paginationModelChange"});const s=_.useCallback(E=>{const T=ko(e);E!==T.page&&(n.debug(`Setting page to ${E}`),e.current.setPaginationModel({page:E,pageSize:T.pageSize}))},[e,n]),a=_.useCallback(E=>{const T=ko(e);E!==T.pageSize&&(n.debug(`Setting page size to ${E}`),e.current.setPaginationModel({pageSize:E,page:T.page}))},[e,n]),c=_.useCallback(E=>{const T=ko(e);E!==T&&(n.debug("Setting 'paginationModel' to",E),e.current.setState(R=>W({},R,{pagination:W({},R.pagination,{paginationModel:ES(R.pagination,t.signature,E)})}),"setPaginationModel"))},[e,n,t.signature]);zn(e,{setPage:s,setPageSize:a,setPaginationModel:c},"public");const h=_.useCallback((E,T)=>{const R=ko(e);return!T.exportOnlyDirtyModels||t.paginationModel!=null||t.initialState?.pagination?.paginationModel!=null||R.page!==0&&R.pageSize!==jAe(t.autoPageSize)?W({},E,{pagination:W({},E.pagination,{paginationModel:R})}):E},[e,t.paginationModel,t.initialState?.pagination?.paginationModel,t.autoPageSize]),f=_.useCallback((E,T)=>{const R=T.stateToRestore.pagination?.paginationModel?W({},UG(t.autoPageSize),T.stateToRestore.pagination?.paginationModel):ko(e);return e.current.setState(M=>W({},M,{pagination:W({},M.pagination,{paginationModel:ES(M.pagination,t.signature,R)})}),"stateRestorePreProcessing"),E},[e,t.autoPageSize,t.signature]);di(e,"exportState",h),di(e,"restoreState",f);const g=()=>{const E=ko(e);e.current.virtualScrollerRef?.current&&e.current.scrollToIndexes({rowIndex:E.page*E.pageSize})},m=_.useCallback(()=>{if(!t.autoPageSize)return;const E=e.current.getRootDimensions(),T=Math.max(1,Math.floor(E.viewportInnerSize.height/o));e.current.setPageSize(T)},[e,t.autoPageSize,o]),y=_.useCallback(E=>{if(E==null)return;const T=ko(e);if(T.page===0)return;const R=KG(e);T.page>R-1&&e.current.setPage(Math.max(0,R-1))},[e]),b=_.useCallback(()=>{ko(e).page!==0&&e.current.setPage(0),e.current.getScrollPosition().top!==0&&e.current.scroll({top:0})},[e]),v=_.useCallback(E=>{const T=W({},E,{items:IR(e)});La(T,i.current)||(i.current=T,b())},[e,b]);jt(e,"viewportInnerSizeChange",m),jt(e,"paginationModelChange",g),jt(e,"rowCountChange",y),jt(e,"sortModelChange",b),jt(e,"filterModelChange",v);const S=_.useRef(!0);_.useEffect(()=>{if(S.current){S.current=!1;return}t.pagination&&e.current.setState(E=>W({},E,{pagination:W({},E.pagination,{paginationModel:ES(E.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),_.useEffect(()=>{e.current.setState(E=>{const T=t.pagination===!0;return E.pagination.paginationMode===t.paginationMode&&E.pagination.enabled===T?E:W({},E,{pagination:W({},E.pagination,{paginationMode:t.paginationMode,enabled:T})})})},[e,t.paginationMode,t.pagination]),_.useEffect(m,[m])};function U$e(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function H$e(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const G$e=(e,t)=>{const n=e.current.rootElementRef.current!==null,r=Po(e,"useGridPrintExport"),i=_.useRef(null),o=_.useRef(null),s=_.useRef({}),a=_.useRef([]),c=_.useRef(null);_.useEffect(()=>{i.current=bi(e.current.rootElementRef.current)},[e,n]);const u=_.useCallback((v,S,E)=>new Promise(T=>{const R=i5({apiRef:e,options:{fields:v,allColumns:S}}).map(N=>N.field),M=Pa(e),I={};M.forEach(N=>{I[N.field]=R.includes(N.field)}),E&&(I[Vf.field]=!0),e.current.setColumnVisibilityModel(I),T()}),[e]),h=_.useCallback(v=>{const E=v({apiRef:e}).reduce((T,R)=>{const M=e.current.getRow(R);return M[gh]||T.push(M),T},[]);e.current.setRows(E)},[e]),f=_.useCallback((v,S)=>{const E=W({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},S),T=v.contentDocument;if(!T)return;const R=vR(e),M=e.current.rootElementRef.current,I=M.cloneNode(!0),N=I.querySelector(`.${ae.main}`);N.style.overflow="visible",I.style.contain="size";let D=M.querySelector(`.${ae.toolbar}`)?.offsetHeight||0,L=M.querySelector(`.${ae.footerContainer}`)?.offsetHeight||0;const A=I.querySelector(`.${ae.footerContainer}`);E.hideToolbar&&(I.querySelector(`.${ae.toolbar}`)?.remove(),D=0),E.hideFooter&&A&&(A.remove(),L=0);const $=R.currentPageTotalHeight+Fm(e,t)+D+L;I.style.height=`${$}px`,I.style.boxSizing="content-box",!E.hideFooter&&A&&(A.style.position="absolute",A.style.width="100%",A.style.top=`${$-L}px`);const F=document.createElement("div");F.appendChild(I),T.body.style.marginTop="0px",T.body.innerHTML=F.innerHTML;const H=typeof E.pageStyle=="function"?E.pageStyle():E.pageStyle;if(typeof H=="string"){const K=T.createElement("style");K.appendChild(T.createTextNode(H)),T.head.appendChild(K)}E.bodyClassName&&T.body.classList.add(...E.bodyClassName.split(" "));let q=[];if(E.copyStyles){const K=M.getRootNode(),z=K.constructor.name==="ShadowRoot"?K:i.current;q=$$e(T,z)}Promise.all(q).then(()=>{v.contentWindow.print()})},[e,i,t]),g=_.useCallback(v=>{i.current.body.removeChild(v),e.current.restoreState(o.current||{}),o.current?.columns?.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(S=>W({},S,{virtualization:c.current})),e.current.setRows(a.current),o.current=null,s.current={},a.current=[]},[e]),y={exportDataAsPrint:_.useCallback(async v=>{if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(o.current=e.current.exportState(),s.current=Da(e),a.current=e.current.getSortedRows().filter(E=>!E[gh]),t.pagination){const T={page:0,pageSize:OR(e)};e.current.setState(R=>W({},R,{pagination:W({},R.pagination,{paginationModel:ES(R.pagination,"DataGridPro",T)})}))}c.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await u(v?.fields,v?.allColumns,v?.includeCheckboxes),h(v?.getRowsToExport??o5),await U$e();const S=H$e(v?.fileName);S.onload=()=>{f(S,v),S.contentWindow.matchMedia("print").addEventListener("change",T=>{T.matches===!1&&g(S)})},i.current.body.appendChild(S)},[t,r,e,f,g,u,h])};zn(e,y,"public");const b=_.useCallback((v,S)=>S.printOptions?.disableToolbarButton?v:[...v,{component:x.jsx(Qje,{options:S.printOptions}),componentName:"printExport"}],[]);di(e,"exportMenu",b)},W$e=(e,t,n)=>{const r=t.filterModel??t.initialState?.filter?.filterModel??Mm();return W({},e,{filter:W({filterModel:_R(r,t.disableMultipleColumnsFiltering,n)},cG),visibleRowsLookup:{}})},K$e=e=>e.filteredRowsLookup;function s5(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function q$e(){return YO(Object.values)}const Y$e=(e,t)=>{const n=Po(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:po,changeEvent:"filterModelChange"});const r=_.useCallback(()=>{e.current.setState(D=>{const L=po(e),A=e.current.getFilterState(L),$=W({},D,{filter:W({},D.filter,A)}),F=s5(e,$);return W({},$,{visibleRowsLookup:F})}),e.current.publishEvent("filteredRowsSet")},[e]),i=_.useCallback((D,L)=>L==null||L.filterable===!1||t.disableColumnFilter?D:[...D,"columnMenuFilterItem"],[t.disableColumnFilter]),o=_.useCallback(D=>{const L=po(e),A=[...L.items],$=A.findIndex(F=>F.id===D.id);$===-1?A.push(D):A[$]=D,e.current.setFilterModel(W({},L,{items:A}),"upsertFilterItem")},[e]),s=_.useCallback(D=>{const L=po(e),A=[...L.items];D.forEach($=>{const F=A.findIndex(H=>H.id===$.id);F===-1?A.push($):A[F]=$}),e.current.setFilterModel(W({},L,{items:A}),"upsertFilterItems")},[e]),a=_.useCallback(D=>{const L=po(e),A=L.items.filter($=>$.id!==D.id);A.length!==L.items.length&&e.current.setFilterModel(W({},L,{items:A}),"deleteFilterItem")},[e]),c=_.useCallback((D,L,A)=>{if(n.debug("Displaying filter panel"),D){const $=po(e),F=$.items.filter(z=>{if(z.value!==void 0)return!(Array.isArray(z.value)&&z.value.length===0);const ee=e.current.getColumn(z.field).filterOperators?.find(U=>U.value===z.operator);return!(typeof ee?.requiresFilterValue>"u"?!0:ee?.requiresFilterValue)});let H;const q=F.find(z=>z.field===D),K=e.current.getColumn(D);q?H=F:t.disableMultipleColumnsFiltering?H=[xR({field:D,operator:K.filterOperators[0].value},e)]:H=[...F,xR({field:D,operator:K.filterOperators[0].value},e)],e.current.setFilterModel(W({},$,{items:H}))}e.current.showPreferences(ls.filters,L,A)},[e,n,t.disableMultipleColumnsFiltering]),u=_.useCallback(()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()},[e,n]),h=_.useCallback(D=>{const L=po(e);L.logicOperator!==D&&e.current.setFilterModel(W({},L,{logicOperator:D}),"changeLogicOperator")},[e]),f=_.useCallback(D=>{const L=po(e);La(L.quickFilterValues,D)||e.current.setFilterModel(W({},L,{quickFilterValues:[...D]}))},[e]),g=_.useCallback((D,L)=>{po(e)!==D&&(n.debug("Setting filter model"),e.current.updateControlState("filter",vG(D,t.disableMultipleColumnsFiltering,e),L),e.current.unstable_applyFilters())},[e,n,t.disableMultipleColumnsFiltering]),m=_.useCallback(D=>{const L=_R(D,t.disableMultipleColumnsFiltering,e),A=t.filterMode==="client"?qDe(L,e,t.disableEval):null,$=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:A,filterModel:L??Mm()});return W({},$,{filterModel:L})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),y={setFilterLogicOperator:h,unstable_applyFilters:r,deleteFilterItem:a,upsertFilterItem:o,upsertFilterItems:s,setFilterModel:g,showFilterPanel:c,hideFilterPanel:u,setQuickFilterValues:f,ignoreDiacritics:t.ignoreDiacritics,getFilterState:m};zn(e,y,"public");const b=_.useCallback((D,L)=>{const A=po(e);return A.items.forEach(F=>{delete F.fromInput}),!L.exportOnlyDirtyModels||t.filterModel!=null||t.initialState?.filter?.filterModel!=null||!La(A,Mm())?W({},D,{filter:{filterModel:A}}):D},[e,t.filterModel,t.initialState?.filter?.filterModel]),v=_.useCallback((D,L)=>{const A=L.stateToRestore.filter?.filterModel;return A==null?D:(e.current.updateControlState("filter",vG(A,t.disableMultipleColumnsFiltering,e),"restoreState"),W({},D,{callbacks:[...D.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),S=_.useCallback((D,L)=>{if(L===ls.filters){const A=t.slots.filterPanel;return x.jsx(A,W({},t.slotProps?.filterPanel))}return D},[t.slots.filterPanel,t.slotProps?.filterPanel]),{getRowId:E}=t,T=zs(q$e),R=_.useCallback(D=>{if(t.filterMode!=="client"||!D.isRowMatchingFilters||!D.filterModel.items.length&&!D.filterModel.quickFilterValues?.length)return cG;const L=Ra(e),A={},{isRowMatchingFilters:$}=D,F={},H={passingFilterItems:null,passingQuickFilterValues:null},q=T.current(e.current.state.rows.dataRowIdToModelLookup);for(let Z=0;Z<q.length;Z+=1){const ee=q[Z],ie=E?E(ee):ee.id;$(ee,void 0,H);const U=XDe([H.passingFilterItems],[H.passingQuickFilterValues],D.filterModel,e,F);U||(A[ie]=U)}const K="auto-generated-group-footer-root";return L[K]&&(A[K]=!0),{filteredRowsLookup:A,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,E,T]);di(e,"columnMenu",i),di(e,"exportState",b),di(e,"restoreState",v),di(e,"preferencePanel",S),Km(e,_h,"filtering",R),Km(e,_h,"visibleRowsLookupCreation",K$e);const M=_.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const D=po(e),L=Ac(e),A=D.items.filter($=>$.field&&L[$.field]);A.length<D.items.length&&e.current.setFilterModel(W({},D,{items:A}))},[e,n]),I=_.useCallback(D=>{D==="filtering"&&e.current.unstable_applyFilters()},[e]),N=_.useCallback(()=>{e.current.setState(D=>W({},D,{visibleRowsLookup:s5(e,D)}))},[e]);jt(e,"rowsSet",r),jt(e,"columnsChange",M),jt(e,"activeStrategyProcessorChange",I),jt(e,"rowExpansionChange",N),jt(e,"columnVisibilityModelChange",()=>{const D=po(e);D.quickFilterValues?.length&&wG(D)&&r()}),wh(()=>{r()}),cr(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,n,t.filterModel])},X$e=e=>W({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),Z$e=(e,t)=>{const n=Po(e,"useGridFocus"),r=_.useRef(null),i=e.current.rootElementRef.current!==null,o=_.useCallback((D,L)=>{D&&e.current.getRow(D.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(D.id,D.field),L)},[e]),s=_.useCallback((D,L)=>{const A=Cs(e);A?.id===D&&A?.field===L||(e.current.setState($=>(n.debug(`Focusing on cell with id=${D} and field=${L}`),W({},$,{tabIndex:{cell:{id:D,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:D,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(D)&&(A&&o(A,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(D,L))))},[e,n,o]),a=_.useCallback((D,L={})=>{const A=Cs(e);o(A,L),e.current.setState($=>(n.debug(`Focusing on column header with colIndex=${D}`),W({},$,{tabIndex:{columnHeader:{field:D},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:D},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,n,o]),c=_.useCallback((D,L={})=>{const A=Cs(e);o(A,L),e.current.setState($=>(n.debug(`Focusing on column header filter with colIndex=${D}`),W({},$,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:D},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:D},cell:null,columnGroupHeader:null}})))},[e,n,o]),u=_.useCallback((D,L,A={})=>{const $=Cs(e);$&&e.current.publishEvent("cellFocusOut",e.current.getCellParams($.id,$.field),A),e.current.setState(F=>W({},F,{tabIndex:{columnGroupHeader:{field:D,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:D,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),h=_.useCallback(()=>aS(e),[e]),f=_.useCallback((D,L,A)=>{let $=e.current.getColumnIndex(L);const F=Ci(e),H=Xf(e,{pagination:t.pagination,paginationMode:t.paginationMode}),q=Em(e),K=[].concat(q.top||[],H.rows,q.bottom||[]);let z=K.findIndex(U=>U.id===D);A==="right"?$+=1:A==="left"?$-=1:z+=1,$>=F.length?(z+=1,z<K.length&&($=0)):$<0&&(z-=1,z>=0&&($=F.length-1)),z=mh(z,0,K.length-1);const Z=K[z];if(!Z)return;const ee=e.current.unstable_getCellColSpanInfo(Z.id,$);ee&&ee.spannedByColSpan&&(A==="left"||A==="below"?$=ee.leftVisibleCellIndex:A==="right"&&($=ee.rightVisibleCellIndex)),$=mh($,0,F.length-1);const ie=F[$];e.current.setCellFocus(Z.id,ie.field)},[e,t.pagination,t.paginationMode]),g=_.useCallback(({id:D,field:L})=>{e.current.setCellFocus(D,L)},[e]),m=_.useCallback((D,L)=>{L.key==="Enter"||L.key==="Tab"||L.key==="Shift"||Qw(L.key)||e.current.setCellFocus(D.id,D.field)},[e]),y=_.useCallback(({field:D},L)=>{L.target===L.currentTarget&&e.current.setColumnHeaderFocus(D,L)},[e]),b=_.useCallback(({fields:D,depth:L},A)=>{if(A.target!==A.currentTarget)return;const $=aS(e);$!==null&&$.depth===L&&D.includes($.field)||e.current.setColumnGroupHeaderFocus(D[0],L,A)},[e]),v=_.useCallback((D,L)=>{L.relatedTarget?.getAttribute("class")?.includes(ae.columnHeader)||(n.debug("Clearing focus"),e.current.setState(A=>W({},A,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),S=_.useCallback(D=>{r.current=D},[]),E=_.useCallback(D=>{const L=r.current;r.current=null;const A=Cs(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:D,cell:L}))return;if(!A){L&&e.current.setCellFocus(L.id,L.field);return}L?.id===A.id&&L?.field===A.field||e.current.getCellElement(A.id,A.field)?.contains(D.target)||(L?e.current.setCellFocus(L.id,L.field):(e.current.setState(H=>W({},H,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),o(A,D)))},[e,o]),T=_.useCallback(D=>{if(D.cellMode==="view")return;const L=Cs(e);(L?.id!==D.id||L?.field!==D.field)&&e.current.setCellFocus(D.id,D.field)},[e]),R=_.useCallback(()=>{const D=Cs(e);if(D&&!e.current.getRow(D.id)){const L=D.id;let A=null;if(typeof L<"u"){const $=e.current.getRowElement(L),F=$?.dataset.rowindex?Number($?.dataset.rowindex):0,H=Xf(e,{pagination:t.pagination,paginationMode:t.paginationMode});A=H.rows[mh(F,0,H.rows.length-1)]?.id??null}e.current.setState($=>W({},$,{focus:{cell:A===null?null:{id:A,field:D.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),M=Jt(()=>{const D=Cs(e);if(!D)return;const L=Xf(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(L.rows.find(F=>F.id===D.id)||L.rows.length===0)return;const $=Ci(e);e.current.setState(F=>W({},F,{tabIndex:{cell:{id:L.rows[0].id,field:$[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),I={setCellFocus:s,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:c},N={moveFocusToRelativeCell:f,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:h};zn(e,I,"public"),zn(e,N,"private"),_.useEffect(()=>{const D=bi(e.current.rootElementRef.current);return D.addEventListener("mouseup",E),()=>{D.removeEventListener("mouseup",E)}},[e,i,E]),jt(e,"columnHeaderBlur",v),jt(e,"cellDoubleClick",g),jt(e,"cellMouseDown",S),jt(e,"cellKeyDown",m),jt(e,"cellModeChange",T),jt(e,"columnHeaderFocus",y),jt(e,"columnGroupHeaderFocus",b),jt(e,"rowsSet",R),jt(e,"paginationModelChange",M)},ZR=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e<n)return e+1}else if(!r&&e>t)return e-1;return null},QR=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e>t)return e-1}else if(!r&&e<n)return e+1;return null};function Q$e(e,t,n,r){const i=Kf.selectors.hiddenCells(e.current.virtualizer.store.state);if(!i[t]?.[n])return t;const o=LG(e);let s=o.indexOf(t)+(r==="down"?1:-1);for(;s>=0&&s<o.length;){const a=o[s];if(!i[a]?.[n])return a;s+=r==="down"?1:-1}return t}const J$e=ur(Lm,Em,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),e3e=(e,t)=>{const n=Po(e,"useGridKeyboardNavigation"),r=Oo(),i=_.useCallback(()=>J$e(e),[e]),o=t.signature!=="DataGrid"&&t.headerFilters,s=_.useCallback((v,S,E="left",T="up")=>{const R=Bu(e),M=e.current.unstable_getCellColSpanInfo(S,v);M&&M.spannedByColSpan&&(E==="left"?v=M.leftVisibleCellIndex:E==="right"&&(v=M.rightVisibleCellIndex));const I=Om(e)[v],N=Q$e(e,S,v,T),D=R.findIndex(L=>L.id===N);n.debug(`Navigating to cell row ${D}, col ${v}`),e.current.scrollToIndexes({colIndex:v,rowIndex:D}),e.current.setCellFocus(N,I)},[e,n]),a=_.useCallback((v,S)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFocus(E,S)},[e,n]),c=_.useCallback((v,S)=>{n.debug(`Navigating to header filter col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFilterFocus(E,S)},[e,n]),u=_.useCallback((v,S,E)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const{field:T}=e.current.getVisibleColumns()[v];e.current.setColumnGroupHeaderFocus(T,S,E)},[e,n]),h=_.useCallback(v=>i()[v]?.id,[i]),f=_.useCallback((v,S)=>{const E=S.currentTarget.querySelector(`.${ae.columnHeaderTitleContainerContent}`);if(!!E&&E.contains(S.target)&&v.field!==Vf.field)return;const R=i(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.length>0?0:null,D=R.length-1,L=0,A=Ci(e).length-1,$=Bm(e);let F=!0;switch(S.key){case"ArrowDown":{o?c(I,S):N!==null&&s(I,h(N));break}case"ArrowRight":{const H=QR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});H!==null&&a(H,S);break}case"ArrowLeft":{const H=ZR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});H!==null&&a(H,S);break}case"ArrowUp":{$>0&&u(I,$-1,S);break}case"PageDown":{N!==null&&D!==null&&s(I,h(Math.min(N+M,D)));break}case"Home":{a(L,S);break}case"End":{a(A,S);break}case"Enter":{(S.ctrlKey||S.metaKey)&&e.current.toggleColumnMenu(v.field);break}case" ":break;default:F=!1}F&&S.preventDefault()},[e,i,o,c,s,h,r,a,u]),g=_.useCallback((v,S)=>{const E=vLe(e)===v.field,T=yLe(e)===v.field;if(E||T||!Qw(S.key))return;const R=i(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=0,D=R.length-1,L=0,A=Ci(e).length-1;let $=!0;switch(S.key){case"ArrowDown":{const F=h(N);F!=null&&s(I,F);break}case"ArrowRight":{const F=QR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});F!==null&&c(F,S);break}case"ArrowLeft":{const F=ZR({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});F!==null?c(F,S):e.current.setColumnHeaderFilterFocus(v.field,S);break}case"ArrowUp":{a(I,S);break}case"PageDown":{D!==null&&s(I,h(Math.min(N+M,D)));break}case"Home":{c(L,S);break}case"End":{c(A,S);break}case" ":break;default:$=!1}$&&S.preventDefault()},[e,i,c,r,a,s,h]),m=_.useCallback((v,S)=>{const E=aS(e);if(E===null)return;const{field:T,depth:R}=E,{fields:M,depth:I,maxDepth:N}=v,D=i(),L=e.current.getViewportPageSize(),A=e.current.getColumnIndex(T),$=T?e.current.getColumnIndex(T):0,F=0,H=D.length-1,q=0,K=Ci(e).length-1;let z=!0;switch(S.key){case"ArrowDown":{I===N-1?a(A,S):u(A,R+1,S);break}case"ArrowUp":{I>0&&u(A,R-1,S);break}case"ArrowRight":{const Z=M.length-M.indexOf(T)-1;A+Z+1<=K&&u(A+Z+1,R,S);break}case"ArrowLeft":{const Z=M.indexOf(T);A-Z-1>=q&&u(A-Z-1,R,S);break}case"PageDown":{H!==null&&s($,h(Math.min(F+L,H)));break}case"Home":{u(q,R,S);break}case"End":{u(K,R,S);break}case" ":break;default:z=!1}z&&S.preventDefault()},[e,i,a,u,s,h]),y=_.useCallback((v,S)=>{if(Vm(S))return;const E=e.current.getCellParams(v.id,v.field);if(E.cellMode===vr.Edit||!Qw(S.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:S,cell:E}))return;const R=i();if(R.length===0)return;const M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=R.findIndex(H=>H.id===v.id),D=0,L=R.length-1,A=0,$=Ci(e).length-1;let F=!0;switch(S.key){case"ArrowDown":{N<L&&s(I,h(N+1),r?"right":"left","down");break}case"ArrowUp":{N>D?s(I,h(N-1)):o?c(I,S):a(I,S);break}case"ArrowRight":{const H=QR({currentColIndex:I,firstColIndex:A,lastColIndex:$,isRtl:r});H!==null&&s(H,h(N),r?"left":"right");break}case"ArrowLeft":{const H=ZR({currentColIndex:I,firstColIndex:A,lastColIndex:$,isRtl:r});H!==null&&s(H,h(N),r?"right":"left");break}case"Tab":{S.shiftKey&&I>A?s(I-1,h(N),"left"):!S.shiftKey&&I<$&&s(I+1,h(N),"right");break}case" ":{if(v.field===TR)break;const q=v.colDef;if(q&&(q.field===hAe||tBe(q.field)))break;!S.shiftKey&&N<L&&s(I,h(Math.min(N+M,L)));break}case"PageDown":{N<L&&s(I,h(Math.min(N+M,L)));break}case"PageUp":{const H=Math.max(N-M,D);H!==N&&H>=D?s(I,h(H)):a(I,S);break}case"Home":{S.ctrlKey||S.metaKey||S.shiftKey?s(A,h(D)):s(A,h(N));break}case"End":{S.ctrlKey||S.metaKey||S.shiftKey?s($,h(L)):s($,h(N));break}default:F=!1}F&&S.preventDefault()},[e,i,r,s,h,o,c,a]),b=_.useCallback((v,{event:S})=>S.key===" "?!1:v,[]);di(e,"canStartEditing",b),jt(e,"columnHeaderKeyDown",f),jt(e,"headerFilterKeyDown",g),jt(e,"columnGroupHeaderKeyDown",m),jt(e,"cellKeyDown",y)},t3e=(e,t)=>{const n=Po(e,"useGridRowCount"),r=dt(e,RR),i=dt(e,Ff),o=dt(e,Am),s=dt(e,ko),a=zs(()=>ko(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Ff,changeEvent:"rowCountChange"});const u={setRowCount:_.useCallback(y=>{i!==y&&(n.debug("Setting 'rowCount' to",y),e.current.setState(b=>W({},b,{pagination:W({},b.pagination,{rowCount:y})})))},[e,n,i])};zn(e,u,"public");const h=_.useCallback((y,b)=>{const v=Ff(e);return!b.exportOnlyDirtyModels||t.rowCount!=null||t.initialState?.pagination?.rowCount!=null?W({},y,{pagination:W({},y.pagination,{rowCount:v})}):y},[e,t.rowCount,t.initialState?.pagination?.rowCount]),f=_.useCallback((y,b)=>{const v=b.stateToRestore.pagination?.rowCount?b.stateToRestore.pagination.rowCount:Ff(e);return e.current.setState(S=>W({},S,{pagination:W({},S.pagination,{rowCount:v})})),y},[e]);di(e,"exportState",h),di(e,"restoreState",f);const g=_.useCallback(y=>{t.paginationMode==="client"||!a.current||y.pageSize!==a.current&&(a.current=y.pageSize,i===-1&&e.current.setPage(0))},[t.paginationMode,a,i,e]);jt(e,"paginationModelChange",g),_.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(r):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,r,t.rowCount]);const m=o.hasNextPage===!1;_.useEffect(()=>{m&&i===-1&&e.current.setRowCount(s.pageSize*s.page+r)},[e,r,m,i,s])},n3e=(e,t)=>{const n=Po(e,"useGridPaginationMeta"),r=dt(e,Am);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:Am,changeEvent:"paginationMetaChange"});const o={setPaginationMeta:_.useCallback(c=>{r!==c&&(n.debug("Setting 'paginationMeta' to",c),e.current.setState(u=>W({},u,{pagination:W({},u.pagination,{meta:c})})))},[e,n,r])};zn(e,o,"public");const s=_.useCallback((c,u)=>{const h=Am(e);return!u.exportOnlyDirtyModels||t.paginationMeta!=null||t.initialState?.pagination?.meta!=null?W({},c,{pagination:W({},c.pagination,{meta:h})}):c},[e,t.paginationMeta,t.initialState?.pagination?.meta]),a=_.useCallback((c,u)=>{const h=u.stateToRestore.pagination?.meta?u.stateToRestore.pagination.meta:Am(e);return e.current.setState(f=>W({},f,{pagination:W({},f.pagination,{meta:h})})),c},[e]);di(e,"exportState",s),di(e,"restoreState",a),_.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},r3e=(e,t)=>{const n=W({},UG(t.autoPageSize),t.paginationModel??t.initialState?.pagination?.paginationModel);HG(n.pageSize,t.signature);const r=t.rowCount??t.initialState?.pagination?.rowCount??(t.paginationMode==="client"?e.rows?.totalRowCount:void 0),i=t.paginationMeta??t.initialState?.pagination?.meta??{};return W({},e,{pagination:W({},e.pagination,{paginationModel:n,rowCount:r,meta:i,enabled:t.pagination===!0,paginationMode:t.paginationMode})})},i3e=(e,t)=>{n3e(e,t),z$e(e,t),t3e(e,t)},o3e=(e,t)=>W({},e,{preferencePanel:t.initialState?.preferencePanel??{open:!1}}),s3e=(e,t)=>{const n=Po(e,"useGridPreferencesPanel"),r=_.useCallback(()=>{e.current.setState(a=>{if(!a.preferencePanel.open)return a;n.debug("Hiding Preferences Panel");const c=Ch(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:c.openedPanelValue}),W({},a,{preferencePanel:{open:!1}})})},[e,n]),i=_.useCallback((a,c,u)=>{n.debug("Opening Preferences Panel"),e.current.setState(h=>W({},h,{preferencePanel:W({},h.preferencePanel,{open:!0,openedPanelValue:a,panelId:c,labelId:u})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:a})},[n,e]);zn(e,{showPreferences:i,hidePreferences:r},"public");const o=_.useCallback((a,c)=>{const u=Ch(e);return!c.exportOnlyDirtyModels||t.initialState?.preferencePanel!=null||u.open?W({},a,{preferencePanel:u}):a},[e,t.initialState?.preferencePanel]),s=_.useCallback((a,c)=>{const u=c.stateToRestore.preferencePanel;return u!=null&&e.current.setState(h=>W({},h,{preferencePanel:u})),a},[e]);di(e,"exportState",o),di(e,"restoreState",s)},JR=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},a3e=["id","field"],l3e=["id","field"],c3e=(e,t)=>{const[n,r]=_.useState({}),i=_.useRef(n),o=_.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:u}=t,h=K=>(...z)=>{t.editMode===Yl.Cell&&K(...z)},f=_.useCallback((K,z)=>{const Z=e.current.getCellParams(K,z);if(!e.current.isCellEditable(Z))throw new Error(`MUI X: The cell with id=${K} and field=${z} is not editable.`)},[e]),g=_.useCallback((K,z,Z)=>{if(e.current.getCellMode(K,z)!==Z)throw new Error(`MUI X: The cell with id=${K} and field=${z} is not in ${Z} mode.`)},[e]),m=_.useCallback((K,z)=>{if(!K.isEditable||K.cellMode===vr.Edit)return;const Z=W({},K,{reason:Dc.cellDoubleClick});e.current.publishEvent("cellEditStart",Z,z)},[e]),y=_.useCallback((K,z)=>{if(K.cellMode===vr.View||e.current.getCellMode(K.id,K.field)===vr.View)return;const Z=W({},K,{reason:ka.cellFocusOut});e.current.publishEvent("cellEditStop",Z,z)},[e]),b=_.useCallback((K,z)=>{if(K.cellMode===vr.Edit){if(z.which===229)return;let Z;if(z.key==="Escape"?Z=ka.escapeKeyDown:z.key==="Enter"?Z=ka.enterKeyDown:z.key==="Tab"&&(Z=z.shiftKey?ka.shiftTabKeyDown:ka.tabKeyDown,z.preventDefault()),Z){const ee=W({},K,{reason:Z});e.current.publishEvent("cellEditStop",ee,z)}}else if(K.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:z,cellParams:K,editMode:"cell"}))return;if(EG(z)?Z=Dc.printableKeyDown:MG(z)?Z=Dc.pasteKeyDown:z.key==="Enter"?Z=Dc.enterKeyDown:(z.key==="Backspace"||z.key==="Delete")&&(Z=Dc.deleteKeyDown),Z){const ie=W({},K,{reason:Z,key:z.key});e.current.publishEvent("cellEditStart",ie,z)}}},[e]),v=_.useCallback(K=>{const{id:z,field:Z,reason:ee}=K,ie={id:z,field:Z};(ee===Dc.printableKeyDown||ee===Dc.deleteKeyDown||ee===Dc.pasteKeyDown)&&(ie.deleteValue=!0),e.current.startCellEditMode(ie)},[e]),S=_.useCallback(K=>{const{id:z,field:Z,reason:ee}=K;e.current.runPendingEditCellValueMutation(z,Z);let ie;ee===ka.enterKeyDown?ie="below":ee===ka.tabKeyDown?ie="right":ee===ka.shiftTabKeyDown&&(ie="left");const U=ee==="escapeKeyDown";e.current.stopCellEditMode({id:z,field:Z,ignoreModifications:U,cellToFocusAfter:ie})},[e]),E=K=>async(...z)=>{if(K){const{id:Z,field:ee}=z[0];e.current.state.editRows[Z][ee]?.error||K(...z)}};jt(e,"cellDoubleClick",h(m)),jt(e,"cellFocusOut",h(y)),jt(e,"cellKeyDown",h(b)),jt(e,"cellEditStart",h(v)),jt(e,"cellEditStop",h(S)),Nr(e,"cellEditStart",t.onCellEditStart),Nr(e,"cellEditStop",E(t.onCellEditStop));const T=_.useCallback((K,z)=>{const Z=go(e);return Z[K]&&Z[K][z]?vr.Edit:vr.View},[e]),R=Jt(K=>{const z=K!==t.cellModesModel;u&&z&&u(K,{api:e.current}),!(t.cellModesModel&&z)&&(r(K),i.current=K,e.current.publishEvent("cellModesModelChange",K))}),M=_.useCallback((K,z,Z)=>{const ee=W({},i.current);if(Z!==null)ee[K]=W({},ee[K],{[z]:W({},Z)});else{const ie=ee[K],U=Tt(ie,[z].map(Wm));ee[K]=U,Object.keys(ee[K]).length===0&&delete ee[K]}R(ee)},[R]),I=_.useCallback((K,z,Z)=>{e.current.setState(ee=>{const ie=W({},ee.editRows);return Z!==null?ie[K]=W({},ie[K],{[z]:W({},Z)}):(delete ie[K][z],Object.keys(ie[K]).length===0&&delete ie[K]),W({},ee,{editRows:ie})})},[e]),N=_.useCallback(K=>{const{id:z,field:Z}=K,ee=Tt(K,a3e);f(z,Z),g(z,Z,vr.View),M(z,Z,W({mode:vr.Edit},ee))},[f,g,M]),D=Jt(async K=>{const{id:z,field:Z,deleteValue:ee,initialValue:ie}=K,U=e.current.getCellValue(z,Z);let Y=U;ee?Y=JR(e.current.getColumn(Z)):ie&&(Y=ie);const J=e.current.getColumn(Z),he=!!J.preProcessEditCellProps&&ee;let ge={value:Y,error:!1,isProcessingProps:he};if(I(z,Z,ge),e.current.setCellFocus(z,Z),he&&(ge=await Promise.resolve(J.preProcessEditCellProps({id:z,row:e.current.getRow(z),props:ge,hasChanged:Y!==U})),e.current.getCellMode(z,Z)===vr.Edit)){const pe=go(e);I(z,Z,W({},ge,{value:pe[z][Z].value,isProcessingProps:!1}))}}),L=_.useCallback(K=>{const{id:z,field:Z}=K,ee=Tt(K,l3e);g(z,Z,vr.Edit),M(z,Z,W({mode:vr.View},ee))},[g,M]),A=Jt(async K=>{const{id:z,field:Z,ignoreModifications:ee,cellToFocusAfter:ie="none"}=K;g(z,Z,vr.Edit),e.current.runPendingEditCellValueMutation(z,Z);const U=()=>{I(z,Z,null),M(z,Z,null),ie!=="none"&&e.current.moveFocusToRelativeCell(z,Z,ie)};if(ee){U();return}const Y=go(e),{error:J,isProcessingProps:he}=Y[z][Z],ge=e.current.getRow(z);if(J||he){o.current[z][Z].mode=vr.Edit,M(z,Z,{mode:vr.Edit});return}const pe=e.current.getRowWithUpdatedValuesFromCellEditing(z,Z);if(t.dataSource?.updateRow){if(La(ge,pe)){U();return}const le=()=>{o.current[z][Z].mode=vr.Edit,M(z,Z,{mode:vr.Edit})},Ce={rowId:z,updatedRow:pe,previousRow:ge};try{await e.current.dataSource.editRow(Ce),U()}catch{le()}}else if(s){const le=Ce=>{o.current[z][Z].mode=vr.Edit,M(z,Z,{mode:vr.Edit}),a&&a(Ce)};try{Promise.resolve(s(pe,ge,{rowId:z})).then(Ce=>{e.current.updateRows([Ce]),U()}).catch(le)}catch(Ce){le(Ce)}}else e.current.updateRows([pe]),U()}),$=_.useCallback(async K=>{const{id:z,field:Z,value:ee,debounceMs:ie,unstable_skipValueParser:U}=K;f(z,Z),g(z,Z,vr.Edit);const Y=e.current.getColumn(Z),J=e.current.getRow(z);let he=ee;Y.valueParser&&!U&&(he=Y.valueParser(ee,J,Y,e));let ge=go(e),pe=W({},ge[z][Z],{value:he,changeReason:ie?"debouncedSetEditCellValue":"setEditCellValue"});if(Y.preProcessEditCellProps){const le=ee!==ge[z][Z].value;pe=W({},pe,{isProcessingProps:!0}),I(z,Z,pe),pe=await Promise.resolve(Y.preProcessEditCellProps({id:z,row:J,props:pe,hasChanged:le}))}return e.current.getCellMode(z,Z)===vr.View?!1:(ge=go(e),pe=W({},pe,{isProcessingProps:!1}),pe.value=Y.preProcessEditCellProps?ge[z][Z].value:he,I(z,Z,pe),ge=go(e),!ge[z]?.[Z]?.error)},[e,f,g,I]),F=_.useCallback((K,z)=>{const Z=e.current.getColumn(z),ee=go(e),ie=e.current.getRow(K);if(!ee[K]||!ee[K][z])return e.current.getRow(K);const{value:U}=ee[K][z];return Z.valueSetter?Z.valueSetter(U,ie,Z,e):W({},ie,{[z]:U})},[e]),H={getCellMode:T,startCellEditMode:N,stopCellEditMode:L},q={setCellEditingEditCellValue:$,getRowWithUpdatedValuesFromCellEditing:F};zn(e,H,"public"),zn(e,q,"private"),_.useEffect(()=>{c&&R(c)},[c,R]),cr(()=>{const K=Ra(e),z=o.current;o.current=sG(n),Object.entries(n).forEach(([Z,ee])=>{Object.entries(ee).forEach(([ie,U])=>{const Y=z[Z]?.[ie]?.mode||vr.View,J=K[Z]?e.current.getRowId(K[Z]):Z;U.mode===vr.Edit&&Y===vr.View?D(W({id:J,field:ie},U)):U.mode===vr.View&&Y===vr.Edit&&A(W({id:J,field:ie},U))})})},[e,n,D,A])},u3e=["id"],d3e=["id"],h3e=(e,t)=>{const[n,r]=_.useState({}),i=_.useRef(n),o=_.useRef({}),s=_.useRef({}),a=_.useRef(void 0),c=_.useRef(null),{processRowUpdate:u,onProcessRowUpdateError:h,rowModesModel:f,onRowModesModelChange:g}=t,m=U=>(...Y)=>{t.editMode===Yl.Row&&U(...Y)},y=_.useCallback((U,Y)=>{const J=e.current.getCellParams(U,Y);if(!e.current.isCellEditable(J))throw new Error(`MUI X: The cell with id=${U} and field=${Y} is not editable.`)},[e]),b=_.useCallback((U,Y)=>{if(e.current.getRowMode(U)!==Y)throw new Error(`MUI X: The row with id=${U} is not in ${Y} mode.`)},[e]),v=_.useCallback(U=>{const Y=go(e);return Object.values(Y[U]).some(J=>J.error)},[e]),S=_.useCallback((U,Y)=>{if(!U.isEditable||e.current.getRowMode(U.id)===qr.Edit)return;const J=e.current.getRowParams(U.id),he=W({},J,{field:U.field,reason:Lu.cellDoubleClick});e.current.publishEvent("rowEditStart",he,Y)},[e]),E=_.useCallback(U=>{c.current=U},[]),T=_.useCallback((U,Y)=>{U.isEditable&&e.current.getRowMode(U.id)!==qr.View&&(c.current=null,a.current=setTimeout(()=>{if(c.current?.id!==U.id){if(!e.current.getRow(U.id)||e.current.getRowMode(U.id)===qr.View||v(U.id))return;const J=e.current.getRowParams(U.id),he=W({},J,{field:U.field,reason:Xl.rowFocusOut});e.current.publishEvent("rowEditStop",he,Y)}}))},[e,v]);_.useEffect(()=>()=>{clearTimeout(a.current)},[]);const R=_.useCallback((U,Y)=>{if(U.cellMode===qr.Edit){if(Y.which===229)return;let J;if(Y.key==="Escape")J=Xl.escapeKeyDown;else if(Y.key==="Enter")J=Xl.enterKeyDown;else if(Y.key==="Tab"){const he=Om(e).filter(ge=>e.current.getColumn(ge).type===tS?!0:e.current.isCellEditable(e.current.getCellParams(U.id,ge)));if(Y.shiftKey?U.field===he[0]&&(J=Xl.shiftTabKeyDown):U.field===he[he.length-1]&&(J=Xl.tabKeyDown),Y.preventDefault(),!J){const ge=he.findIndex(le=>le===U.field),pe=he[Y.shiftKey?ge-1:ge+1];e.current.setCellFocus(U.id,pe)}}if(J){if(J!==Xl.escapeKeyDown&&v(U.id))return;const he=W({},e.current.getRowParams(U.id),{reason:J,field:U.field});e.current.publishEvent("rowEditStop",he,Y)}}else if(U.isEditable){let J;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:Y,cellParams:U,editMode:"row"}))return;if(EG(Y)||MG(Y)?J=Lu.printableKeyDown:Y.key==="Enter"?J=Lu.enterKeyDown:(Y.key==="Backspace"||Y.key==="Delete")&&(J=Lu.deleteKeyDown),J){const ge=e.current.getRowParams(U.id),pe=W({},ge,{field:U.field,reason:J});e.current.publishEvent("rowEditStart",pe,Y)}}},[e,v]),M=_.useCallback(U=>{const{id:Y,field:J,reason:he}=U,ge={id:Y,fieldToFocus:J};(he===Lu.printableKeyDown||he===Lu.deleteKeyDown)&&(ge.deleteValue=!!J),e.current.startRowEditMode(ge)},[e]),I=_.useCallback(U=>{const{id:Y,reason:J,field:he}=U;e.current.runPendingEditCellValueMutation(Y);let ge;J===Xl.enterKeyDown?ge="below":J===Xl.tabKeyDown?ge="right":J===Xl.shiftTabKeyDown&&(ge="left");const pe=J==="escapeKeyDown";e.current.stopRowEditMode({id:Y,ignoreModifications:pe,field:he,cellToFocusAfter:ge})},[e]);jt(e,"cellDoubleClick",m(S)),jt(e,"cellFocusIn",m(E)),jt(e,"cellFocusOut",m(T)),jt(e,"cellKeyDown",m(R)),jt(e,"rowEditStart",m(M)),jt(e,"rowEditStop",m(I)),Nr(e,"rowEditStart",t.onRowEditStart),Nr(e,"rowEditStop",t.onRowEditStop);const N=_.useCallback(U=>d4(e,{rowId:U,editMode:t.editMode})?qr.Edit:qr.View,[e,t.editMode]),D=Jt(U=>{const Y=U!==t.rowModesModel;g&&Y&&g(U,{api:e.current}),!(t.rowModesModel&&Y)&&(r(U),i.current=U,e.current.publishEvent("rowModesModelChange",U))}),L=_.useCallback((U,Y)=>{const J=W({},i.current);Y!==null?J[U]=W({},Y):delete J[U],D(J)},[D]),A=_.useCallback((U,Y)=>{e.current.setState(J=>{const he=W({},J.editRows);return Y!==null?he[U]=Y:delete he[U],W({},J,{editRows:he})})},[e]),$=_.useCallback((U,Y,J)=>{e.current.setState(he=>{const ge=W({},he.editRows);return J!==null?ge[U]=W({},ge[U],{[Y]:W({},J)}):(delete ge[U][Y],Object.keys(ge[U]).length===0&&delete ge[U]),W({},he,{editRows:ge})})},[e]),F=_.useCallback(U=>{const{id:Y}=U,J=Tt(U,u3e);b(Y,qr.View),L(Y,W({mode:qr.Edit},J))},[b,L]),H=Jt(U=>{const{id:Y,fieldToFocus:J,deleteValue:he,initialValue:ge}=U,pe=e.current.getRow(Y),le=Pa(e),Ce=le.reduce((ke,Te)=>{const me=Te.field;if(!e.current.getCellParams(Y,me).isEditable)return ke;const xe=e.current.getColumn(me);let Re=e.current.getCellValue(Y,me);return J===me&&(he||ge)&&(he?Re=JR(xe):ge&&(Re=ge)),ke[me]={value:Re,error:!1,isProcessingProps:xe.editable&&!!xe.preProcessEditCellProps&&he},ke},{});s.current[Y]=pe,A(Y,Ce),J&&e.current.setCellFocus(Y,J),le.filter(ke=>e.current.getCellParams(Y,ke.field).isEditable&&ke.editable&&!!ke.preProcessEditCellProps&&he).forEach(ke=>{const Te=ke.field,me=e.current.getCellValue(Y,Te),ye=he?JR(ke):ge??me;Promise.resolve(ke.preProcessEditCellProps({id:Y,row:pe,props:Ce[Te],hasChanged:ye!==me})).then(xe=>{if(e.current.getRowMode(Y)===qr.Edit){const Re=go(e);$(Y,Te,W({},xe,{value:Re[Y][Te].value,isProcessingProps:!1}))}})})}),q=_.useCallback(U=>{const{id:Y}=U,J=Tt(U,d3e);b(Y,qr.Edit),L(Y,W({mode:qr.View},J))},[b,L]),K=Jt(async U=>{const{id:Y,ignoreModifications:J,field:he,cellToFocusAfter:ge="none"}=U;e.current.runPendingEditCellValueMutation(Y);const pe=()=>{ge!=="none"&&he&&e.current.moveFocusToRelativeCell(Y,he,ge),A(Y,null),L(Y,null),delete s.current[Y]};if(J){pe();return}const le=go(e),Ce=s.current[Y];if(Object.values(le[Y]).some(me=>me.isProcessingProps)){o.current[Y].mode=qr.Edit;return}if(v(Y)){o.current[Y].mode=qr.Edit,L(Y,{mode:qr.Edit});return}const Te=e.current.getRowWithUpdatedValuesFromRowEditing(Y);if(t.dataSource?.updateRow){if(La(Ce,Te)){pe();return}const me=()=>{o.current[Y].mode=qr.Edit,L(Y,{mode:qr.Edit})},ye={rowId:Y,updatedRow:Te,previousRow:Ce};try{await e.current.dataSource.editRow(ye),pe()}catch{me()}}else if(u){const me=ye=>{o.current[Y]&&(o.current[Y].mode=qr.Edit,L(Y,{mode:qr.Edit})),h&&h(ye)};try{Promise.resolve(u(Te,Ce,{rowId:Y})).then(ye=>{e.current.updateRows([ye]),pe()}).catch(me)}catch(ye){me(ye)}}else e.current.updateRows([Te]),pe()}),z=_.useCallback(U=>{const{id:Y,field:J,value:he,debounceMs:ge,unstable_skipValueParser:pe}=U;y(Y,J);const le=e.current.getColumn(J),Ce=e.current.getRow(Y);let ke=he;le.valueParser&&!pe&&(ke=le.valueParser(he,Ce,le,e));let Te=go(e),me=W({},Te[Y][J],{value:ke,changeReason:ge?"debouncedSetEditCellValue":"setEditCellValue"});return le.preProcessEditCellProps||$(Y,J,me),new Promise(ye=>{const xe=[];if(le.preProcessEditCellProps){const Re=me.value!==Te[Y][J].value;me=W({},me,{isProcessingProps:!0}),$(Y,J,me);const Le=Te[Y],Ie=Tt(Le,[J].map(Wm)),je=Promise.resolve(le.preProcessEditCellProps({id:Y,row:Ce,props:me,hasChanged:Re,otherFieldsProps:Ie})).then(lt=>{if(e.current.getRowMode(Y)===qr.View){ye(!1);return}Te=go(e),lt=W({},lt,{isProcessingProps:!1}),lt.value=le.preProcessEditCellProps?Te[Y][J].value:ke,$(Y,J,lt)});xe.push(je)}Object.entries(Te[Y]).forEach(([Re,Le])=>{if(Re===J)return;const Ie=e.current.getColumn(Re);if(!Ie.preProcessEditCellProps)return;Le=W({},Le,{isProcessingProps:!0}),$(Y,Re,Le),Te=go(e);const je=Te[Y],lt=Tt(je,[Re].map(Wm)),We=Promise.resolve(Ie.preProcessEditCellProps({id:Y,row:Ce,props:Le,hasChanged:!1,otherFieldsProps:lt})).then(Bt=>{if(e.current.getRowMode(Y)===qr.View){ye(!1);return}Bt=W({},Bt,{isProcessingProps:!1}),$(Y,Re,Bt)});xe.push(We)}),Promise.all(xe).then(()=>{e.current.getRowMode(Y)===qr.Edit?(Te=go(e),ye(!Te[Y][J].error)):ye(!1)})})},[e,y,$]),Z=_.useCallback(U=>{const Y=go(e),J=e.current.getRow(U);if(!Y[U])return e.current.getRow(U);let he=W({},s.current[U],J);return Object.entries(Y[U]).forEach(([ge,pe])=>{const le=e.current.getColumn(ge);le?.valueSetter?he=le.valueSetter(pe.value,he,le,e):he[ge]=pe.value}),he},[e]),ee={getRowMode:N,startRowEditMode:F,stopRowEditMode:q},ie={setRowEditingEditCellValue:z,getRowWithUpdatedValuesFromRowEditing:Z};zn(e,ee,"public"),zn(e,ie,"private"),_.useEffect(()=>{f&&D(f)},[f,D]),cr(()=>{const U=Ra(e),Y=o.current;o.current=sG(n);const J=new Set([...Object.keys(n),...Object.keys(Y)]);Array.from(J).forEach(he=>{const ge=n[he]??{mode:qr.View},pe=Y[he]?.mode||qr.View,le=U[he]?e.current.getRowId(U[he]):he;ge.mode===qr.Edit&&pe===qr.View?H(W({id:le},ge)):ge.mode===qr.View&&pe===qr.Edit&&K(W({id:le},ge))})},[e,n,H,K])},f3e=e=>W({},e,{editRows:{}}),p3e=(e,t)=>{c3e(e,t),h3e(e,t);const n=_.useRef({}),{isCellEditable:r}=t,i=_.useCallback(g=>Af(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:r?r(g):!0,[r]),o=(g,m,y,b)=>{if(!y){b();return}if(n.current[g]||(n.current[g]={}),n.current[g][m]){const[E]=n.current[g][m];clearTimeout(E)}const v=()=>{const[E]=n.current[g][m];clearTimeout(E),b(),delete n.current[g][m]},S=setTimeout(()=>{b(),delete n.current[g][m]},y);n.current[g][m]=[S,v]};_.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([m,y])=>{Object.keys(y).forEach(b=>{const[v]=g[m][b];clearTimeout(v),delete g[m][b]})})}},[]);const s=_.useCallback((g,m)=>{if(n.current[g]){if(!m)Object.keys(n.current[g]).forEach(y=>{const[,b]=n.current[g][y];b()});else if(n.current[g][m]){const[,y]=n.current[g][m];y()}}},[]),a=_.useCallback(g=>{const{id:m,field:y,debounceMs:b}=g;return new Promise(v=>{o(m,y,b,async()=>{const S=t.editMode===Yl.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(m,y)===vr.Edit){const E=await S(g);v(E)}})})},[e,t.editMode]),c=_.useCallback((g,m)=>t.editMode===Yl.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,m):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),u=_.useCallback((g,m)=>go(e)[g]?.[m]??null,[e]),h={isCellEditable:i,setEditCellValue:a,getRowWithUpdatedValues:c,unstable_getEditCellMeta:u},f={runPendingEditCellValueMutation:s};zn(e,h,"public"),zn(e,f,"private")},g3e=(e,t,n)=>{const r=!!t.dataSource;return n.current.caches.rows=Kw({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),W({},e,{rows:GH({apiRef:n,rowCountProp:t.rowCount,loadingProp:r?!0:t.loading,previousTree:null,previousTreeDepths:null})})},m3e=(e,t,n)=>{const r=Po(e,"useGridRows"),i=_.useRef(Date.now()),o=_.useRef(t.rowCount),s=vs(),{setRowIndex:a}=n.hooks.useGridRowsOverridableMethods(e,t),c=_.useCallback(z=>{const Z=Ra(e)[z];if(Z)return Z;const ee=Kl(e,z);return ee&&Af(ee)?{[gh]:z}:null},[e]),u=_.useCallback(z=>jf(e,z),[e]),h=_.useCallback(({cache:z,throttle:Z})=>{const ee=()=>{i.current=Date.now(),e.current.setState(U=>W({},U,{rows:GH({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Io(e),previousTreeDepths:zH(e),previousGroupsToFetch:oDe(e)})})),e.current.publishEvent("rowsSet")};if(s.clear(),e.current.caches.rows=z,!Z){ee();return}const ie=t.throttleRowsMs-(Date.now()-i.current);if(ie>0){s.start(ie,ee);return}ee()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),f=_.useCallback(z=>{if(r.debug(`Updating all rows, new length ${z.length}`),Sh(e)){e.current.updateNonPivotRows(z,!1);return}const Z=Kw({rows:z,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),ee=e.current.caches.rows;Z.rowsBeforePartialUpdates=ee.rowsBeforePartialUpdates,h({cache:Z,throttle:!0})},[r,t.getRowId,t.loading,t.rowCount,h,e]),g=_.useCallback(z=>{if(t.signature===cl.DataGrid&&z.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Sh(e)){e.current.updateNonPivotRows(z);return}const Z=YH(e,z,t.getRowId),ee=KH({updates:Z,getRowId:t.getRowId,previousCache:e.current.caches.rows});h({cache:ee,throttle:!0})},[t.signature,t.getRowId,h,e]),m=_.useCallback((z,Z)=>{const ee=YH(e,z,t.getRowId),ie=KH({updates:ee,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:Z??[]});h({cache:ie,throttle:!1})},[t.getRowId,h,e]),y=_.useCallback(z=>{r.debug(`Setting loading to ${z}`),e.current.setState(Z=>W({},Z,{rows:W({},Z.rows,{loading:z})})),e.current.caches.rows.loadingPropBeforePartialUpdates=z},[e,r]),b=_.useCallback(()=>{const z=ph(e),Z=Ra(e);return new Map(z.map(ee=>[ee,Z[ee]??{}]))},[e]),v=_.useCallback(()=>Df(e),[e]),S=_.useCallback(()=>ph(e),[e]),E=_.useCallback(z=>{const{rowIdToIndexMap:Z}=Xf(e);return Z.get(z)},[e]),T=_.useCallback((z,Z)=>{const ee=Kl(e,z);if(!ee)throw new Error(`MUI X: No row with id #${z} found.`);if(ee.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const ie=W({},ee,{childrenExpanded:Z});e.current.setState(U=>W({},U,{rows:W({},U.rows,{tree:W({},U.rows.tree,{[z]:ie})})})),e.current.publishEvent("rowExpansionChange",ie)},[e]),R=_.useCallback(z=>Kl(e,z)??null,[e]),M=_.useCallback(({skipAutoGeneratedRows:z=!0,groupId:Z,applySorting:ee,applyFiltering:ie,directChildrenOnly:U=!1})=>{const Y=Io(e);let J;if(ee){const he=Y[Z];if(!he)return[];const ge=km(e);J=[];const pe=ge.findIndex(le=>le===Z)+1;for(let le=pe;le<ge.length&&(U?Y[ge[le]].depth===he.depth+1:Y[ge[le]].depth>he.depth);le+=1){const Ce=ge[le];(!z||!Af(Y[Ce]))&&J.push(Ce)}}else J=yR(Y,Z,z,U);if(ie){const he=Nf(e);J=rS(he)?J:J.filter(ge=>he[ge]!==!1)}return J},[e]),I=_.useCallback((z,Z)=>{if(t.signature===cl.DataGrid&&Z.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Z.length===0)return;if(_m(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const ie=W({},Io(e)),U=W({},Ra(e)),Y=ie[fo],J=[...Y.children],he=new Set;for(let pe=0;pe<Z.length;pe+=1){const le=Z[pe],Ce=Ww(le,t.getRowId,"A row was provided without id when calling replaceRows()."),[ke]=J.splice(z+pe,1,Ce);he.has(ke)||(delete U[ke],delete ie[ke]);const Te={id:Ce,depth:0,parent:fo,type:"leaf",groupingKey:null};U[Ce]=le,ie[Ce]=Te,he.add(Ce)}ie[fo]=W({},Y,{children:J});const ge=J.filter(pe=>ie[pe]?.type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=U,e.current.setState(pe=>W({},pe,{rows:W({},pe.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,J.length),dataRowIdToModelLookup:U,dataRowIds:ge,tree:ie})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),N={getRow:c,setLoading:y,getRowId:u,getRowModels:b,getRowsCount:v,getAllRowIds:S,setRows:f,updateRows:g,getRowNode:R,getRowIndexRelativeToVisibleRows:E,unstable_replaceRows:I},D={setRowIndex:a,setRowChildrenExpansion:T,getRowGroupChildren:M},L={updateNestedRows:m},A=_.useCallback(()=>{r.info("Row grouping pre-processing have changed, regenerating the row tree");let z;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?z=W({},e.current.caches.rows,{updates:{type:"full",rows:ph(e)}}):z=Kw({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),h({cache:z,throttle:!1})},[r,e,t.rows,t.getRowId,t.loading,t.rowCount,h]),$=zs(()=>t.dataSource),F=_.useCallback(z=>{if(t.dataSource&&t.dataSource!==$.current){$.current=t.dataSource;return}z==="rowTreeCreation"&&A()},[A,$,t.dataSource]),H=_.useCallback(()=>{e.current.getActiveStrategy($u.RowTree)!==sDe(e)&&A()},[e,A]);jt(e,"activeStrategyProcessorChange",F),jt(e,"strategyAvailabilityChange",H);const q=_.useCallback(()=>{e.current.setState(z=>{const Z=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Io(e),treeDepths:zH(e),dataRowIds:ph(e),dataRowIdToModelLookup:Ra(e)});return W({},z,{rows:W({},z.rows,Z,{totalTopLevelRowCount:HH({tree:Z.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);qR(e,"hydrateRows",q),zn(e,N,"public"),zn(e,D,t.signature===cl.DataGrid?"private":"public"),zn(e,L,"private");const K=_.useRef(!0);_.useEffect(()=>{if(K.current){K.current=!1;return}let z=!1;t.rowCount!==o.current&&(z=!0,o.current=t.rowCount);const Z=t.dataSource?aDe(e):t.rows,ee=e.current.caches.rows.rowsBeforePartialUpdates===Z,ie=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,U=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;ee&&(ie||(e.current.setState(Y=>W({},Y,{rows:W({},Y.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),U||(e.current.setState(Y=>W({},Y,{rows:W({},Y.rows,{totalRowCount:Math.max(t.rowCount||0,Y.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,Y.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),!z)||(r.debug(`Updating all rows, new length ${Z?.length}`),h({cache:Kw({rows:Z,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,r,h,e])},v3e=e=>{const t={[fo]:W({},cDe(),{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:fo,type:"leaf",groupingKey:null}}return{groupingName:_h,tree:t,treeDepths:{0:e.length},dataRowIds:e}},y3e=({previousTree:e,actions:t})=>{const n=W({},e),r={};for(let s=0;s<t.remove.length;s+=1){const a=t.remove[s];r[a]=!0,delete n[a]}for(let s=0;s<t.insert.length;s+=1){const a=t.insert[s];n[a]={id:a,depth:0,parent:fo,type:"leaf",groupingKey:null}}const i=n[fo];let o=[...i.children,...t.insert];return Object.values(r).length&&(o=o.filter(s=>!r[s])),n[fo]=W({},i,{children:o}),{groupingName:_h,tree:n,treeDepths:{0:o.length},dataRowIds:o}},b3e=e=>e.updates.type==="full"?v3e(e.updates.rows):y3e({previousTree:e.previousTree,actions:e.updates.actions}),w3e=e=>{Km(e,_h,"rowTreeCreation",b3e)};class eI extends Error{}function S3e(e,t){const n=_.useCallback(y=>({field:y,colDef:e.current.getColumn(y)}),[e]),r=_.useCallback(y=>{const b=e.current.getRow(y);if(!b)throw new eI(`No row with id #${y} found`);return{id:y,columns:e.current.getAllColumns(),row:b}},[e]),i=_.useCallback((y,b,v,{cellMode:S,colDef:E,hasFocus:T,rowNode:R,tabIndex:M})=>{const I=v[b],N=E?.valueGetter?E.valueGetter(I,v,E,e):I,D={id:y,field:b,row:v,rowNode:R,colDef:E,cellMode:S,hasFocus:T,tabIndex:M,value:N,formattedValue:N,isEditable:!1,api:e.current};return E&&E.valueFormatter&&(D.formattedValue=E.valueFormatter(N,v,E,e)),D.isEditable=E&&e.current.isCellEditable(D),D},[e]),o=_.useCallback((y,b)=>{const v=e.current.getRow(y),S=Kl(e,y);if(!v||!S)throw new eI(`No row with id #${y} found`);const E=Cs(e),T=PR(e),R=e.current.getCellMode(y,b);return e.current.getCellParamsForRow(y,b,v,{colDef:t.listView&&t.listViewColumn?.field===b?fG(e):e.current.getColumn(b),rowNode:S,hasFocus:E!==null&&E.field===b&&E.id===y,tabIndex:T&&T.field===b&&T.id===y?0:-1,cellMode:R})},[e,t.listView,t.listViewColumn?.field]),s=_.useCallback((y,b)=>{const v=e.current.getColumn(b),S=e.current.getRow(y);if(!S)throw new eI(`No row with id #${y} found`);return!v||!v.valueGetter?S[b]:v.valueGetter(S[v.field],S,v,e)},[e]),a=_.useCallback((y,b)=>dDe(y,b,e),[e]),c=_.useCallback((y,b)=>{const v=a(y,b);return!b||!b.valueFormatter?v:b.valueFormatter(v,y,b,e)},[e,a]),u=_.useCallback(y=>e.current.rootElementRef.current?tFe(e.current.rootElementRef.current,y):null,[e]),h=_.useCallback(y=>e.current.rootElementRef.current?nFe(e.current.rootElementRef.current,y):null,[e]),f=_.useCallback((y,b)=>e.current.rootElementRef.current?rFe(e.current.rootElementRef.current,{id:y,field:b}):null,[e]),g={getCellValue:s,getCellParams:o,getCellElement:f,getRowValue:a,getRowFormattedValue:c,getRowParams:r,getRowElement:h,getColumnHeaderParams:n,getColumnHeaderElement:u},m={getCellParamsForRow:i};zn(e,g,"public"),zn(e,m,"private")}const qm={type:"include",ids:new Set},C3e=(e,t)=>W({},e,{rowSelection:t.rowSelection?t.rowSelectionModel??qm:qm}),x3e=(e,t)=>{const n=Po(e,"useGridSelection"),r=_.useCallback(U=>(...Y)=>{t.rowSelection&&U(...Y)},[t.rowSelection]),i=dt(e,_m)>1,o=t.signature!==cl.DataGrid&&(t.rowSelectionPropagation?.parents||t.rowSelectionPropagation?.descendants)&&i,s=_.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),a=_.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:hl,changeEvent:"rowSelectionChange"});const{checkboxSelection:c,disableRowSelectionOnClick:u,isRowSelectable:h}=t,f=kR(t),g=dt(e,Io),m=_.useCallback(U=>{let Y=U;const J=a.current??U,he=e.current.isRowSelected(U);if(he){const ge=yh(e),pe=ge.findIndex(Ce=>Ce===J),le=ge.findIndex(Ce=>Ce===Y);if(pe===le)return;pe>le?Y=ge[le+1]:Y=ge[le-1]}a.current=U,e.current.selectRowRange({startId:J,endId:Y},!he)},[e]),y=Jt(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?qG(e):yh(e)),b=_.useCallback((U,Y)=>{if(t.signature===cl.DataGrid&&!f&&(U.type!=="include"||U.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));hl(e)!==U&&(n.debug("Setting selection model"),e.current.setState(he=>W({},he,{rowSelection:t.rowSelection?U:qm}),Y))},[e,n,t.rowSelection,t.signature,f]),v=_.useCallback(U=>Pm(e).has(U),[e]),S=_.useCallback(U=>{if(t.rowSelection===!1||h&&!h(e.current.getRowParams(U)))return!1;const Y=Kl(e,U);return!(Y?.type==="footer"||Y?.type==="pinnedRow")},[e,t.rowSelection,h]),E=_.useCallback(()=>FG(e),[e]),T=_.useCallback((U,Y=!0,J=!1)=>{if(e.current.isRowSelectable(U))if(a.current=U,J){n.debug(`Setting selection for row ${U}`);const he={type:"include",ids:new Set},ge=pe=>{he.ids.add(pe)};Y&&(ge(U),o&&Dm(e,g,U,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ge)),e.current.setRowSelectionModel(he,"singleRowSelection")}else{n.debug(`Toggling selection for row ${U}`);const he=hl(e),ge={type:he.type,ids:new Set(he.ids)},pe=Au(ge);pe.unselect(U);const le=Te=>{pe.select(Te)},Ce=Te=>{pe.unselect(Te)};Y?(le(U),o&&Dm(e,g,U,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,le)):o&&VG(e,g,U,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Ce),(ge.type==="include"&&ge.ids.size<2||f)&&e.current.setRowSelectionModel(ge,"singleRowSelection")}},[e,n,o,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,f]),R=_.useCallback((U,Y=!0,J=!1)=>{if(n.debug("Setting selection for several rows"),t.rowSelection===!1)return;const he=new Set;for(let Ce=0;Ce<U.length;Ce+=1){const ke=U[Ce];e.current.isRowSelectable(ke)&&he.add(ke)}const ge=hl(e);let pe;if(J){if(pe={type:"include",ids:he},Y){const Ce=Au(pe);if(o){const ke=Te=>{Ce.select(Te)};for(const Te of he)Dm(e,g,Te,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ke)}}else pe.ids=new Set;if(ge.type===pe.type&&pe.ids.size===ge.ids.size&&Array.from(pe.ids).every(Ce=>ge.ids.has(Ce)))return}else{pe={type:ge.type,ids:new Set(ge.ids)};const Ce=Au(pe),ke=me=>{Ce.select(me)},Te=me=>{Ce.unselect(me)};for(const me of he)Y?(Ce.select(me),o&&Dm(e,g,me,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ke)):(Te(me),o&&VG(e,g,me,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Te))}(pe.type==="include"&&pe.ids.size<2||f)&&e.current.setRowSelectionModel(pe,"multipleRowsSelection")},[n,o,f,e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,t.rowSelection]),M=_.useCallback(U=>{if(!i||!o||U.ids.size===0&&U.type==="include")return U;const Y={type:U.type,ids:new Set(U.ids)},J=Au(Y),he=ge=>{J.select(ge)};for(const ge of U.ids)Dm(e,g,ge,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,he,J);return Y},[e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,i,o]),I=_.useCallback(({startId:U,endId:Y},J=!0,he=!1)=>{if(!e.current.getRow(U)||!e.current.getRow(Y))return;n.debug(`Expanding selection from row ${U} to row ${Y}`);const ge=yh(e),pe=ge.indexOf(U),le=ge.indexOf(Y),[Ce,ke]=pe>le?[le,pe]:[pe,le],Te=ge.slice(Ce,ke+1);e.current.selectRows(Te,J,he)},[e,n]),N={selectRow:T,setRowSelectionModel:b,getSelectedRows:E,isRowSelected:v,isRowSelectable:S},D={selectRows:R,selectRowRange:I,getPropagatedRowSelectionModel:M};zn(e,N,"public"),zn(e,D,t.signature===cl.DataGrid?"private":"public");const L=_.useRef(!0),A=_.useCallback((U=!1)=>{if(L.current)return;const Y=hl(e),J=Ra(e),he=Io(e),ge=Nf(e),pe=me=>t.filterMode==="server"?!J[me]:!he[me]||ge[me]===!1,le={type:Y.type,ids:new Set(Y.ids)},Ce=Au(le);let ke=!1;for(const me of Y.ids){if(pe(me)){if(t.keepNonExistentRowsSelected)continue;Ce.unselect(me),ke=!0;continue}if(!t.rowSelectionPropagation?.parents)continue;const ye=g[me];if(ye?.type==="group"){if(ye.isAutoGenerated){Ce.unselect(me),ke=!0;continue}ye.children.every(Re=>ge[Re]===!1)||(Ce.unselect(me),ke=!0)}}const Te=i&&t.rowSelectionPropagation?.parents&&(le.ids.size>0||le.type==="exclude");if(ke||Te&&!U)if(Te)if(le.type==="exclude"){const me=y(),ye=[];for(let xe=0;xe<me.length;xe+=1){const Re=me[xe];(t.keepNonExistentRowsSelected||!pe(Re))&&Ce.has(Re)&&ye.push(Re)}e.current.selectRows(ye,!0,!0)}else e.current.selectRows(Array.from(le.ids),!0,!0);else e.current.setRowSelectionModel(le,"multipleRowsSelection")},[e,i,t.rowSelectionPropagation?.parents,t.keepNonExistentRowsSelected,t.filterMode,g,y]),$=_.useCallback((U,Y)=>{const J=Y.metaKey||Y.ctrlKey,he=!c&&!J&&!QDe(Y),ge=!f||he,pe=e.current.isRowSelected(U),ke=oS(e)>1&&ge||!pe;e.current.selectRow(U,ke,ge)},[e,f,c]),F=_.useCallback((U,Y)=>{if(u)return;const J=Y.target.closest(`.${ae.cell}`)?.getAttribute("data-field");J===Vf.field||J===TR||J&&e.current.getColumn(J)?.type===tS||Kl(e,U.id).type==="pinnedRow"||(Y.shiftKey&&f?m(U.id):$(U.id,Y))},[u,f,e,m,$]),H=_.useCallback((U,Y)=>{f&&Y.shiftKey&&window.getSelection()?.removeAllRanges()},[f]),q=_.useCallback((U,Y)=>{f&&Y.nativeEvent.shiftKey?m(U.id):e.current.selectRow(U.id,U.value,!f)},[e,m,f]),K=_.useCallback(U=>{const Y=po(e),J=DG(e),he=Y.items.length>0||J?.some(ge=>ge.length);!t.isRowSelectable&&!t.checkboxSelectionVisibleOnly&&(!i||t.rowSelectionPropagation?.descendants)&&!he&&!t.disableRowSelectionExcludeModel?e.current.setRowSelectionModel({type:U?"exclude":"include",ids:new Set},"multipleRowsSelection"):e.current.selectRows(y(),U)},[e,y,t.checkboxSelectionVisibleOnly,t.isRowSelectable,t.rowSelectionPropagation?.descendants,t.disableRowSelectionExcludeModel,i]),z=_.useCallback(U=>{K(U.value)},[K]),Z=_.useCallback((U,Y)=>{if(e.current.getCellMode(U.id,U.field)!==vr.Edit&&!Vm(Y)){if(Qw(Y.key)&&Y.shiftKey){const J=Cs(e);if(J&&J.id!==U.id){Y.preventDefault();const he=e.current.isRowSelected(J.id);if(!f){e.current.selectRow(J.id,!he,!0);return}const ge=e.current.getRowIndexRelativeToVisibleRows(J.id),pe=e.current.getRowIndexRelativeToVisibleRows(U.id);let le,Ce;ge>pe?he?(le=pe,Ce=ge-1):(le=pe,Ce=ge):he?(le=ge+1,Ce=pe):(le=ge,Ce=pe);const ke=Xf(e),Te=[];for(let me=le;me<=Ce;me+=1)Te.push(ke.rows[me].id);e.current.selectRows(Te,!he);return}}if(Y.key===" "&&Y.shiftKey){Y.preventDefault(),$(U.id,Y);return}String.fromCharCode(Y.keyCode)==="A"&&(Y.ctrlKey||Y.metaKey)&&(Y.preventDefault(),K(!0))}},[e,f,$,K]),ee=Jt(()=>{if(!t.rowSelection){e.current.setRowSelectionModel(qm);return}if(s===void 0)return;if(!o||!i||s.type==="include"&&s.ids.size===0){e.current.setRowSelectionModel(s);return}const U=e.current.getPropagatedRowSelectionModel(s);if(U.type!==s.type||U.ids.size!==s.ids.size||!Array.from(s.ids).every(Y=>U.ids.has(Y))){e.current.setRowSelectionModel(U);return}e.current.setRowSelectionModel(s)});jt(e,"sortedRowsSet",r(()=>A(!0))),jt(e,"filteredRowsSet",r(()=>A())),jt(e,"rowClick",r(F)),jt(e,"rowSelectionCheckboxChange",r(q)),jt(e,"headerSelectionCheckboxChange",z),jt(e,"cellMouseDown",r(H)),jt(e,"cellKeyDown",r(Z)),_.useEffect(()=>{ee()},[e,s,t.rowSelection,ee]);const ie=s!=null;_.useEffect(()=>{if(ie||!t.rowSelection||typeof S!="function")return;const U=hl(e);if(U.type!=="include")return;const Y=new Set;for(const J of U.ids)S(J)&&Y.add(J);Y.size<U.ids.size&&e.current.setRowSelectionModel({type:U.type,ids:Y})},[e,S,ie,t.rowSelection]),_.useEffect(()=>{if(!t.rowSelection||ie)return;const U=hl(e);!f&&(U.type==="include"&&U.ids.size>1||U.type==="exclude")&&e.current.setRowSelectionModel(qm)},[e,f,c,ie,t.rowSelection]),_.useEffect(()=>{r(A)},[A,r]),_.useEffect(()=>{L.current&&(L.current=!1)},[])},_3e=e=>{const{classes:t}=e;return _.useMemo(()=>Et({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Hn,t),[t])},E3e=(e,t)=>{const n={classes:t.classes},r=_3e(n),i=_.useCallback(o=>{const s=W({},Vf,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=o.lookup[fl]!=null;return a&&!c?(o.lookup[fl]=s,o.orderedFields=[fl,...o.orderedFields]):!a&&c?(delete o.lookup[fl],o.orderedFields=o.orderedFields.filter(u=>u!==fl)):a&&c&&(o.lookup[fl]=W({},s,o.lookup[fl]),t.columns.some(u=>u.field===fl)||(o.orderedFields=[fl,...o.orderedFields.filter(u=>u!==fl)])),o},[e,r,t.columns,t.checkboxSelection]);di(e,"hydrateColumns",i)},T3e=(e,t)=>{const n=t.sortModel??t.initialState?.sorting?.sortModel??[];return W({},e,{sorting:{sortModel:tG(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},M3e=(e,t)=>{const n=Po(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Aa,changeEvent:"sortModelChange"});const r=_.useCallback((M,I)=>{const N=Aa(e),D=N.findIndex(A=>A.field===M);let L=[...N];return D>-1?I?.sort==null?L.splice(D,1):L.splice(D,1,I):L=[...N,I],L},[e]),i=_.useCallback((M,I)=>{const D=Aa(e).find(L=>L.field===M.field);if(D){const L=I===void 0?rG(M.sortingOrder??t.sortingOrder,D.sort):I;return L===void 0?void 0:W({},D,{sort:L})}return{field:M.field,sort:I===void 0?rG(M.sortingOrder??t.sortingOrder):I}},[e,t.sortingOrder]),o=_.useCallback((M,I)=>I==null||I.sortable===!1||t.disableColumnSorting?M:(I.sortingOrder||t.sortingOrder).some(D=>!!D)?[...M,"columnMenuSortItem"]:M,[t.sortingOrder,t.disableColumnSorting]),s=_.useCallback(()=>{e.current.setState(M=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),W({},M,{sorting:W({},M.sorting,{sortedRows:yR(Io(e),fo,!1)})});const I=Aa(e),N=kDe(I,e),D=e.current.applyStrategyProcessor("sorting",{sortRowList:N});return W({},M,{sorting:W({},M.sorting,{sortedRows:D})})}),e.current.publishEvent("sortedRowsSet")},[e,n,t.sortingMode]),a=_.useCallback(M=>{Aa(e)!==M&&(n.debug("Setting sort model"),e.current.setState(nG(M,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),c=_.useCallback((M,I,N)=>{const D=e.current.getColumn(M),L=i(D,I);let A;!N||t.disableMultipleColumnsSorting?A=L?.sort==null?[]:[L]:A=r(D.field,L),e.current.setSortModel(A)},[e,r,i,t.disableMultipleColumnsSorting]),u=_.useCallback(()=>Aa(e),[e]),h=_.useCallback(()=>MR(e).map(I=>I.model),[e]),f=_.useCallback(()=>km(e),[e]),g=_.useCallback(M=>e.current.getSortedRowIds()[M],[e]);zn(e,{getSortModel:u,getSortedRows:h,getSortedRowIds:f,getRowIdFromRowIndex:g,setSortModel:a,sortColumn:c,applySorting:s},"public");const y=_.useCallback((M,I)=>{const N=Aa(e);return!I.exportOnlyDirtyModels||t.sortModel!=null||t.initialState?.sorting?.sortModel!=null||N.length>0?W({},M,{sorting:{sortModel:N}}):M},[e,t.sortModel,t.initialState?.sorting?.sortModel]),b=_.useCallback((M,I)=>{const N=I.stateToRestore.sorting?.sortModel;return N==null?M:(e.current.setState(nG(N,t.disableMultipleColumnsSorting)),W({},M,{callbacks:[...M.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),v=_.useCallback(M=>{const I=Io(e),N=I[fo],D=M.sortRowList?M.sortRowList(N.children.map(L=>I[L])):[...N.children];return N.footerId!=null&&D.push(N.footerId),D},[e]);di(e,"exportState",y),di(e,"restoreState",b),Km(e,_h,"sorting",v);const S=_.useCallback(({field:M,colDef:I},N)=>{if(!I.sortable||t.disableColumnSorting)return;const D=t.multipleColumnsSortingMode==="always"||N.shiftKey||N.metaKey||N.ctrlKey;c(M,void 0,D)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),E=_.useCallback(({field:M,colDef:I},N)=>{!I.sortable||t.disableColumnSorting||N.key==="Enter"&&!N.ctrlKey&&!N.metaKey&&c(M,void 0,t.multipleColumnsSortingMode==="always"||N.shiftKey)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),T=_.useCallback(()=>{const M=Aa(e),I=Ac(e);if(M.length>0){const N=M.filter(D=>I[D.field]);N.length<M.length&&e.current.setSortModel(N)}},[e]),R=_.useCallback(M=>{M==="sorting"&&e.current.applySorting()},[e]);di(e,"columnMenu",o),jt(e,"columnHeaderClick",S),jt(e,"columnHeaderKeyDown",E),jt(e,"rowsSet",e.current.applySorting),jt(e,"columnsChange",T),jt(e,"activeStrategyProcessorChange",R),wh(()=>{e.current.applySorting()}),cr(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function a5(e){const{containerSize:t,scrollPosition:n,elementSize:r,elementOffset:i}=e,o=i+r;if(r>t)return i;if(o-t>n)return o-t;if(i<n)return i}const O3e=(e,t)=>{const n=Oo(),r=Po(e,"useGridScroll"),i=e.current.columnHeadersContainerRef,o=e.current.virtualScrollerRef,s=dt(e,Bu),a=_.useCallback(f=>{const g=Si(e),m=Df(e),y=Ci(e);if(!(f.rowIndex==null)&&m===0||y.length===0)return!1;r.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let v={};if(f.colIndex!==void 0){const S=vh(e);let E;if(typeof f.rowIndex<"u"){const T=s[f.rowIndex]?.id,R=e.current.unstable_getCellColSpanInfo(T,f.colIndex);R&&!R.spannedByColSpan&&(E=R.cellProps.width)}typeof E>"u"&&(E=y[f.colIndex].computedWidth),v.left=a5({containerSize:g.viewportOuterSize.width,scrollPosition:Math.abs(o.current.scrollLeft),elementSize:E,elementOffset:S[f.colIndex]})}if(f.rowIndex!==void 0){const S=vR(e),E=zAe(e),T=WG(e),R=t.pagination?f.rowIndex-E*T:f.rowIndex,M=S.positions[R+1]?S.positions[R+1]-S.positions[R]:S.currentPageTotalHeight-S.positions[R];v.top=a5({containerSize:g.viewportInnerSize.height,scrollPosition:o.current.scrollTop,elementSize:M,elementOffset:S.positions[R]})}return v=e.current.unstable_applyPipeProcessors("scrollToIndexes",v,f),typeof v.left<"u"||typeof v.top<"u"?(e.current.scroll(v),!0):!1},[r,e,o,t.pagination,s]),c=_.useCallback(f=>{if(o.current&&f.left!==void 0&&i.current){const g=n?-1:1;i.current.scrollLeft=f.left,o.current.scrollLeft=g*f.left,r.debug(`Scrolling left: ${f.left}`)}o.current&&f.top!==void 0&&(o.current.scrollTop=f.top,r.debug(`Scrolling top: ${f.top}`)),r.debug("Scrolling, updating container, and viewport")},[o,n,i,r]),u=_.useCallback(()=>o?.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0},[o]);zn(e,{scroll:c,scrollToIndexes:a,getScrollPosition:u},"public")};function R3e(e,t){Nr(e,"columnHeaderClick",t.onColumnHeaderClick),Nr(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),Nr(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Nr(e,"columnHeaderOver",t.onColumnHeaderOver),Nr(e,"columnHeaderOut",t.onColumnHeaderOut),Nr(e,"columnHeaderEnter",t.onColumnHeaderEnter),Nr(e,"columnHeaderLeave",t.onColumnHeaderLeave),Nr(e,"cellClick",t.onCellClick),Nr(e,"cellDoubleClick",t.onCellDoubleClick),Nr(e,"cellKeyDown",t.onCellKeyDown),Nr(e,"preferencePanelClose",t.onPreferencePanelClose),Nr(e,"preferencePanelOpen",t.onPreferencePanelOpen),Nr(e,"menuOpen",t.onMenuOpen),Nr(e,"menuClose",t.onMenuClose),Nr(e,"rowDoubleClick",t.onRowDoubleClick),Nr(e,"rowClick",t.onRowClick),Nr(e,"stateChange",t.onStateChange)}const Ym={width:0,height:0},I3e={isReady:!1,root:Ym,viewportOuterSize:Ym,viewportInnerSize:Ym,contentSize:Ym,minimumSize:Ym,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},k3e=(e,t,n)=>{const r=I3e,i=Tm(n);return W({},e,{dimensions:W({},r,A3e(t,n,i,Zw(n)))})},P3e=Ht(Ci,vh,(e,t)=>{const n=e.length;return n===0?0:xh(t[n-1]+e[n-1].computedWidth,1)});function D3e(e,t){const n=e.current.virtualizer,r=n.api.updateDimensions,i=n.api.getViewportPageSize,s={getRootDimensions:_.useCallback(()=>Si(e),[e])},a={updateDimensions:r,getViewportPageSize:i};zn(e,s,"public"),zn(e,a,"private"),Nr(e,"rootMount",u=>{l5(u,Si(e))}),Nr(e,"debouncedResize",t.onResize),Lw(e.current.store,u=>u.dimensions,(u,h)=>{e.current.rootElementRef.current&&l5(e.current.rootElementRef.current,h),L3e(h.viewportInnerSize,u.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",h.viewportInnerSize),e.current.publishEvent("debouncedResize",h.root)})}function l5(e,t){const n=(r,i)=>e.style.setProperty(r,i);n("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),n("--DataGrid-rowWidth",`${t.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${t.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),n("--height",`${t.rowHeight}px`)}function A3e(e,t,n,r){const i=XH(e.rowHeight,_S.rowHeight);return{rowHeight:Math.floor(i*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n),columnsTotalWidth:P3e(t),headersTotalHeight:Fm(t,e),leftPinnedWidth:r.left.reduce((o,s)=>o+s.computedWidth,0),rightPinnedWidth:r.right.reduce((o,s)=>o+s.computedWidth,0)}}function L3e(e,t){return e.width===t.width&&e.height===t.height}const N3e=(e,t,n)=>{const r=XPe(n),i=Df(n),o=Bf(n),s=Math.min(o.enabled?o.paginationModel.pageSize:i,i);return W({},e,{rowsMeta:{currentPageTotalHeight:s*r,positions:Array.from({length:s},(a,c)=>c*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},B3e=(e,t)=>{const n=e.current.virtualizer,{getRowHeight:r,setLastMeasuredRowIndex:i,storeRowHeightMeasurement:o,resetRowHeights:s,hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:u,getRowHeightEntry:h,getLastMeasuredRowIndex:f}=n.api.rowsMeta;qR(e,"rowHeight",a);const g={unstable_getRowHeight:r,unstable_setLastMeasuredRowIndex:i,unstable_storeRowHeightMeasurement:o,resetRowHeights:s},m={hydrateRowsMeta:a,observeRowHeight:c,rowHasAutoHeight:u,getRowHeightEntry:h,getLastMeasuredRowIndex:f};zn(e,g,"public"),zn(e,m,"private")},F3e=e=>{const t=_.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),n=_.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(s=>{s()})},[e]);zn(e,{exportState:t,restoreState:n},"public")},j3e=e=>{const t=e.current.virtualizer,n=t.api.resetColSpan,r=t.api.getCellColSpanInfo,i=t.api.calculateColSpan,o={unstable_getCellColSpanInfo:r},s={resetColSpan:n,calculateColSpan:i};zn(e,o,"public"),zn(e,s,"private"),jt(e,"columnOrderChange",n)},c5=(e,t,n)=>{if(lG(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:i}=e;i.forEach(o=>{c5(o,[...t,r],n)})},tI=e=>{if(!e)return{};const t={};return e.forEach(n=>{c5(n,[],t)}),t},nI=(e,t,n)=>{const r=c=>t[c]??[],i=[],o=Math.max(0,...e.map(c=>r(c).length)),s=(c,u,h)=>{const f=r(c),g=r(u);for(let m=0;m<=h;m+=1)if(f[m]!==g[m])return!1;return!0},a=(c,u)=>{const h=n?.left,f=n?.right,g=!!h?.includes(c),m=!!h?.includes(u),y=!!f?.includes(c),b=!!f?.includes(u);return g!==m||y!==b};for(let c=0;c<o;c+=1){const u=[];for(let h=0;h<e.length;h+=1){const f=e[h],g=r(f)[c]??null;if(u.length===0){u.push({columnFields:[f],groupId:g});continue}const m=u[u.length-1],y=m.columnFields[m.columnFields.length-1];m.groupId!==g||!s(y,f,c)||a(y,f)?u.push({columnFields:[f],groupId:g}):m.columnFields.push(f)}i.push(u)}return i},V3e=["groupId","children"],rI=e=>{const t={};for(let n=0;n<e.length;n+=1){const r=e[n];if(lG(r))continue;const{groupId:i,children:o}=r,s=Tt(r,V3e);if(!i)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const a=W({},s,{groupId:i}),c=rI(o);if(c[i]!==void 0||t[i]!==void 0)throw new Error(`MUI X: The groupId ${i} is used multiple times in the columnGroupingModel.`);Object.assign(t,c),t[i]=a}return t},$3e=(e,t,n)=>{if(n.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;const r=Zl(n),i=Om(n),o=rI(t.columnGroupingModel??[]),s=tI(t.columnGroupingModel??[]),a=nI(r,s,n.current.state.pinnedColumns??{}),c=i.length===0?0:Math.max(...i.map(u=>s[u]?.length??0));return W({},e,{columnGrouping:{lookup:o,unwrappedGroupingModel:s,headerStructure:a,maxDepth:c}})},z3e=(e,t)=>{const n=_.useCallback(a=>t4(e)[a]??[],[e]),r=_.useCallback(()=>n4(e),[e]);zn(e,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const o=_.useCallback(()=>{const a=tI(t.columnGroupingModel??[]);e.current.setState(c=>{const u=c.columns?.orderedFields??[],h=c.pinnedColumns??{},f=nI(u,a,h);return W({},c,{columnGrouping:W({},c.columnGrouping,{headerStructure:f})})})},[e,t.columnGroupingModel]),s=_.useCallback(a=>{e.current.caches.columnGrouping.lastColumnGroupingModel=a;const c=e.current.getPinnedColumns?.()??{},u=Zl(e),h=Om(e),f=rI(a??[]),g=tI(a??[]),m=nI(u,g,c),y=h.length===0?0:Math.max(...h.map(b=>g[b]?.length??0));e.current.setState(b=>W({},b,{columnGrouping:{lookup:f,unwrappedGroupingModel:g,headerStructure:m,maxDepth:y}}))},[e]);jt(e,"columnIndexChange",o),jt(e,"columnsChange",()=>{s(t.columnGroupingModel)}),jt(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),_.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&s(t.columnGroupingModel)},[e,s,t.columnGroupingModel])};function U3e(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function u5(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function d5(e,t,n,r){let i=e;return r==="Right"?i+=t-n.left:i+=n.right-t,i}function H3e(e,t,n){return n==="Left"?e-t.left:t.right-e}function G3e(e){return e==="Right"?"Left":"Right"}function W3e(e,t){const n=e.classList.contains(ae["columnSeparator--sideRight"])?"Right":"Left";return t?G3e(n):n}function h5(e){e.preventDefault(),e.stopImmediatePropagation()}function K3e(e){const t=_.useRef(void 0),n=()=>BNe(e),r=dt(e,n);return _.useEffect(()=>{t.current&&r===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=U3e()}return t.current}}function q3e(e,t){if(e.length<4)return e;const n=e.slice();n.sort((a,c)=>a-c);const r=n[Math.floor(n.length*.25)],i=n[Math.floor(n.length*.75)-1],o=i-r,s=o<5?5:o*t;return n.filter(a=>a>r-s&&a<i+s)}function Y3e(e,t,n){const r={},i=e.current.rootElementRef.current;return i.classList.add(ae.autosizing),n.forEach(o=>{const a=pFe(e.current,o.field).map(y=>y.getBoundingClientRect().width??0),c=t.includeOutliers?a:q3e(a,t.outliersFactor);if(t.includeHeaders){const y=fFe(e.current,o.field);if(y){const b=y.querySelector(`.${ae.columnHeaderTitle}`),v=y.querySelector(`.${ae.columnHeaderTitleContainerContent}`),S=y.querySelector(`.${ae.iconButtonContainer}`),E=y.querySelector(`.${ae.menuIcon}`),T=b??v,R=window.getComputedStyle(y,null),M=parseInt(R.paddingLeft,10)+parseInt(R.paddingRight,10),N=T.scrollWidth+1+M+(S?.clientWidth??0)+(E?.clientWidth??0);c.push(N)}}const u=o.minWidth!==-1/0&&o.minWidth!==void 0,h=o.maxWidth!==1/0&&o.maxWidth!==void 0,f=u?o.minWidth:0,g=h?o.maxWidth:1/0,m=c.length===0?0:Math.max(...c);r[o.field]=mh(m,f,g)}),i.classList.remove(ae.autosizing),r}const X3e=e=>W({},e,{columnResize:{resizingColumnField:""}});function Z3e(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const Q3e=(e,t)=>{const n=Oo(),r=Po(e,"useGridColumnResize"),i=zs(Z3e).current,o=_.useRef(null),s=_.useRef(null),a=vs(),c=_.useRef(void 0),u=L=>{r.debug(`Updating width to ${L} for col ${i.colDef.field}`);const A=i.columnHeaderElement.offsetWidth,$=L-A,F=L-i.initialColWidth;if(F>0){const K=i.initialTotalWidth+F;e.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${K}px`)}i.colDef.computedWidth=L,i.colDef.width=L,i.colDef.flex=0,i.columnHeaderElement.style.width=`${L}px`;const H=i.headerFilterElement;H&&(H.style.width=`${L}px`),i.groupHeaderElements.forEach(K=>{const z=K;let Z;z.getAttribute("aria-colspan")==="1"?Z=`${L}px`:Z=`${z.offsetWidth+$}px`,z.style.width=Z}),i.cellElements.forEach(K=>{const z=K;let Z;z.getAttribute("aria-colspan")==="1"?Z=`${L}px`:Z=`${z.offsetWidth+$}px`,z.style.setProperty("--width",Z)});const q=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);q===Nu.LEFT&&(Zf(i.fillerLeft,"width",$),i.leftPinnedCellsAfter.forEach(K=>{Zf(K,"left",$)}),i.leftPinnedHeadersAfter.forEach(K=>{Zf(K,"left",$)})),q===Nu.RIGHT&&(Zf(i.fillerRight,"width",$),i.rightPinnedCellsBefore.forEach(K=>{Zf(K,"right",$)}),i.rightPinnedHeadersBefore.forEach(K=>{Zf(K,"right",$)}))},h=L=>{if(S(),i.previousMouseClickEvent){const A=i.previousMouseClickEvent,$=A.timeStamp,F=A.clientX,H=A.clientY;if(L.timeStamp-$<300&&L.clientX===F&&L.clientY===H){i.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,L);return}}if(i.colDef){e.current.setColumnWidth(i.colDef.field,i.colDef.width),r.debug(`Updating col ${i.colDef.field} with new width: ${i.colDef.width}`);const A=ul(e);i.groupHeaderElements.forEach($=>{const F=sFe($),H=$,K=`${F.reduce((z,Z)=>A.columnVisibilityModel[Z]!==!1?z+A.lookup[Z].computedWidth:z,0)}px`;H.style.width=K})}a.start(0,()=>{e.current.publishEvent("columnResizeStop",null,L)})},f=(L,A,$)=>{const F=e.current.rootElementRef.current;i.initialColWidth=L.computedWidth,i.initialTotalWidth=e.current.getRootDimensions().rowWidth,i.colDef=L,i.columnHeaderElement=oFe(e.current.columnHeadersContainerRef.current,L.field);const H=F.querySelector(`.${ae.headerFilterRow} [data-field="${Nc(L.field)}"]`);H&&(i.headerFilterElement=H),i.groupHeaderElements=aFe(e.current.columnHeadersContainerRef?.current,L.field),i.cellElements=lFe(i.columnHeaderElement,e.current),i.fillerLeft=N4(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),i.fillerRight=N4(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const q=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);i.leftPinnedCellsAfter=q!==Nu.LEFT?[]:cFe(e.current,i.columnHeaderElement,n),i.rightPinnedCellsBefore=q!==Nu.RIGHT?[]:uFe(e.current,i.columnHeaderElement,n),i.leftPinnedHeadersAfter=q!==Nu.LEFT?[]:dFe(e.current,i.columnHeaderElement,n),i.rightPinnedHeadersBefore=q!==Nu.RIGHT?[]:hFe(e.current,i.columnHeaderElement,n),s.current=W3e(A,n),o.current=H3e($,i.columnHeaderElement.getBoundingClientRect(),s.current)},g=Jt(h),m=Jt(L=>{if(L.buttons===0){g(L);return}let A=d5(o.current,L.clientX,i.columnHeaderElement.getBoundingClientRect(),s.current);A=mh(A,i.colDef.minWidth,i.colDef.maxWidth),u(A);const $={element:i.columnHeaderElement,colDef:i.colDef,width:A};e.current.publishEvent("columnResize",$,L)}),y=Jt(L=>{u5(L,c.current)&&h(L)}),b=Jt(L=>{const A=u5(L,c.current);if(!A)return;if(L.type==="mousemove"&&L.buttons===0){y(L);return}let $=d5(o.current,A.x,i.columnHeaderElement.getBoundingClientRect(),s.current);$=mh($,i.colDef.minWidth,i.colDef.maxWidth),u($);const F={element:i.columnHeaderElement,colDef:i.colDef,width:$};e.current.publishEvent("columnResize",F,L)}),v=Jt(L=>{const A=SS(L.target,ae["columnSeparator--resizable"]);if(!A)return;const $=L.changedTouches[0];$!=null&&(c.current=$.identifier);const F=SS(L.target,ae.columnHeader),H=iFe(F),q=e.current.getColumn(H);r.debug(`Start Resize on col ${q.field}`),e.current.publishEvent("columnResizeStart",{field:H},L),f(q,A,$.clientX);const K=bi(L.currentTarget);K.addEventListener("touchmove",b),K.addEventListener("touchend",y)}),S=_.useCallback(()=>{const L=bi(e.current.rootElementRef.current);L.body.style.removeProperty("cursor"),L.removeEventListener("mousemove",m),L.removeEventListener("mouseup",g),L.removeEventListener("touchmove",b),L.removeEventListener("touchend",y),setTimeout(()=>{L.removeEventListener("click",h5,!0)},100),i.columnHeaderElement&&(i.columnHeaderElement.style.pointerEvents="unset")},[e,i,m,g,b,y]),E=_.useCallback(({field:L})=>{e.current.setState(A=>W({},A,{columnResize:W({},A.columnResize,{resizingColumnField:L})}))},[e]),T=_.useCallback(()=>{e.current.setState(L=>W({},L,{columnResize:W({},L.columnResize,{resizingColumnField:""})}))},[e]),R=Jt(({colDef:L},A)=>{if(A.button!==0||!A.currentTarget.classList.contains(ae["columnSeparator--resizable"]))return;A.preventDefault(),r.debug(`Start Resize on col ${L.field}`),e.current.publishEvent("columnResizeStart",{field:L.field},A),f(L,A.currentTarget,A.clientX);const $=bi(e.current.rootElementRef.current);$.body.style.cursor="col-resize",i.previousMouseClickEvent=A.nativeEvent,$.addEventListener("mousemove",m),$.addEventListener("mouseup",g),$.addEventListener("click",h5,!0)}),M=Jt((L,A)=>{if(t.disableAutosize||A.button!==0)return;const $=e.current.state.columns.lookup[L.field];$.resizable!==!1&&e.current.autosizeColumns(W({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[$.field]}))}),I=K3e(e),N=_.useRef(!1),D=_.useCallback(async L=>{if(!e.current.rootElementRef?.current||N.current)return;N.current=!0;const $=ul(e),F=W({},rNe,L,{columns:L?.columns??$.orderedFields});F.columns=F.columns.filter(q=>$.columnVisibilityModel[q]!==!1);const H=F.columns.map(q=>e.current.state.columns.lookup[q]);try{!t.disableVirtualization&&F.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await I());const q=Y3e(e,F,H),K=H.map(z=>W({},z,{width:q[z.field],computedWidth:q[z.field],flex:0}));if(F.expand){const Z=$.orderedFields.map(Y=>$.lookup[Y]).filter(Y=>$.columnVisibilityModel[Y.field]!==!1).reduce((Y,J)=>Y+(q[J.field]??J.computedWidth??J.width),0),U=e.current.getRootDimensions().viewportInnerSize.width-Z;if(U>0){const Y=U/(K.length||1);K.forEach(J=>{J.width+=Y,J.computedWidth+=Y})}}e.current.updateColumns(K),K.forEach((z,Z)=>{if(z.width!==H[Z].width){const ee=z.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(z.field),colDef:z,width:ee})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),N.current=!1}},[e,I,t.disableVirtualization]);_.useEffect(()=>S,[S]),nw(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),a4(e,()=>e.current.columnHeadersContainerRef?.current,"touchstart",v,{passive:!0}),zn(e,{autosizeColumns:D},"public"),jt(e,"columnResizeStop",T),jt(e,"columnResizeStart",E),jt(e,"columnSeparatorMouseDown",R),jt(e,"columnSeparatorDoubleClick",M),Nr(e,"columnResize",t.onColumnResize),Nr(e,"columnWidthChange",t.onColumnWidthChange)};function Zf(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}function J3e(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function f5(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}const iI=(e,t,n)=>{if(!e)return null;let r=e[t.field];const i=t.rowSpanValueGetter??t.valueGetter;return i&&(r=i(r,e,t,n)),r},p5={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},Qf={caches:p5,processedRange:{firstRowIndex:0,lastRowIndex:0}},g5=20,m5=(e,t,n,r,i,o)=>{const s=e.current.virtualizer,a=o?Qf:Kf.selectors.state(s.store.state),c=W({},a.caches.spannedCells),u=W({},a.caches.hiddenCells),h=W({},a.caches.hiddenCellOriginMap),f={firstRowIndex:Math.min(a.processedRange.firstRowIndex,i.firstRowIndex),lastRowIndex:Math.max(a.processedRange.lastRowIndex,i.lastRowIndex)};return t.forEach((g,m)=>{for(let y=i.firstRowIndex;y<i.lastRowIndex;y+=1){const b=n[y];if(u[b.id]?.[m])continue;const v=iI(b.model,g,e);if(v==null)continue;let S=b.id,E=y,T=0;const R=[];if(y===i.firstRowIndex){let I=y-1,N=n[I];for(;I>=r.firstRowIndex&&N&&iI(N.model,g,e)===v;){const D=n[I+1];u[D.id]?u[D.id][m]=!0:u[D.id]={[m]:!0},R.push(y),T+=1,S=N.id,E=I,I-=1,N=n[I]}}R.forEach(I=>{h[I]?h[I][m]=E:h[I]={[m]:E}});let M=y+1;for(;M<=r.lastRowIndex&&n[M]&&iI(n[M].model,g,e)===v;){const I=n[M];u[I.id]?u[I.id][m]=!0:u[I.id]={[m]:!0},h[M]?h[M][m]=E:h[M]={[m]:E},M+=1,T+=1}T>0&&(c[S]?c[S][m]=T+1:c[S]={[m]:T+1})}}),{caches:{spannedCells:c,hiddenCells:u,hiddenCellOriginMap:h},processedRange:f}},e2e=(e,t)=>{const n=ph(t).length;if(e.pagination){const r=WG(t);let i=g5;return r>0&&(i=r-1),{firstRowIndex:0,lastRowIndex:Math.min(i,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(g5,n)}},t2e=(e,t,n)=>{if(!t.rowSpanning)return W({},e,{rowSpanning:Qf});const r=e.rows.dataRowIds||[],i=e.columns.orderedFields||[],o=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,a=!!e.filter.filterModel.items.length||!!e.filter.filterModel.quickFilterValues?.length;if(!r.length||!i.length||!o||!s||a)return W({},e,{rowSpanning:Qf});const c=e2e(t,n),u=r.map(g=>({id:g,model:o[g]})),h=i.map(g=>s[g]),f=m5(n,h,u,c,c,!0);return W({},e,{rowSpanning:f})},n2e=(e,t)=>{const n=e.current.virtualizer.store,r=_.useCallback((o,s=!1)=>{const{range:a,rows:c}=Xf(e);if(a===null||!f5(o))return;const u=s?Qf:Kf.selectors.state(n.state),h=J3e({firstRowIndex:o.firstRowIndex,lastRowIndex:Math.min(o.lastRowIndex,a.lastRowIndex-a.firstRowIndex+1)},u.processedRange);if(h===null)return;const f=Ci(e),g=m5(e,f,c,a,h,s),m=Object.keys(g.caches.spannedCells).length,y=Object.keys(g.caches.hiddenCells).length,b=Object.keys(u.caches.spannedCells).length,v=Object.keys(u.caches.hiddenCells).length;!(s||m!==b||y!==v)||m===0&&b===0||n.set("rowSpanning",g)},[e,n]),i=_.useCallback(()=>{const o=_4(e);f5(o)&&r(o,!0)},[e,r]);jt(e,"renderedRowsIntervalChange",Du(t.rowSpanning,r)),jt(e,"sortedRowsSet",Du(t.rowSpanning,i)),jt(e,"paginationModelChange",Du(t.rowSpanning,i)),jt(e,"filteredRowsSet",Du(t.rowSpanning,i)),jt(e,"columnsChange",Du(t.rowSpanning,i)),_.useEffect(()=>{t.rowSpanning?n.state.rowSpanning.caches===p5&&i():n.state.rowSpanning!==Qf&&n.set("rowSpanning",Qf)},[e,n,i,t.rowSpanning])},r2e=(e,t,n)=>W({},e,{listViewColumn:t.listViewColumn?W({},t.listViewColumn,{computedWidth:oI(n)}):void 0});function i2e(e,t){const n=()=>{e.current.setState(o=>o.listViewColumn?W({},o,{listViewColumn:W({},o.listViewColumn,{computedWidth:oI(e)})}):o)},r=_.useRef(null);jt(e,"viewportInnerSizeChange",o=>{r.current!==o.width&&(r.current=o.width,n())}),jt(e,"columnVisibilityModelChange",n),cr(()=>{const o=t.listViewColumn;o&&e.current.setState(s=>W({},s,{listViewColumn:W({},o,{computedWidth:oI(e)})}))},[e,t.listViewColumn]),_.useEffect(()=>{t.listView&&t.listViewColumn},[t.listView,t.listViewColumn])}function oI(e){return Si(e).viewportInnerSize.width}const o2e=Ht(po,Aa,ko,(e,t,n)=>({groupKeys:[],paginationModel:n,sortModel:t,filterModel:e,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1}));let sI=(function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e})({});class aI{constructor(t){this.chunkSize=t}getCacheKeys=t=>{if(this.chunkSize<1||typeof t.start!="number")return[t];const n=[];for(let r=t.start;r<=t.end;r+=this.chunkSize){const i=Math.min(r+this.chunkSize-1,t.end);n.push(W({},t,{start:r,end:i}))}return n};splitResponse=(t,n)=>{const r=this.getCacheKeys(t);if(r.length===1)return new Map([[t,n]]);const i=new Map;return r.forEach(o=>{const s=o.end===t.end,a=W({},n,{pageInfo:W({},n.pageInfo,{hasNextPage:n.pageInfo?.hasNextPage!==void 0&&!s?!0:n.pageInfo?.hasNextPage,nextCursor:n.pageInfo?.nextCursor!==void 0&&!s?n.rows[o.end+1].id:n.pageInfo?.nextCursor}),rows:typeof o.start!="number"||typeof t.start!="number"?n.rows:n.rows.slice(o.start-t.start,o.end-t.start+1)});i.set(o,a)}),i};static mergeResponses=t=>t.length===1?t[0]:t.reduce((n,r)=>({rows:[...n.rows,...r.rows],rowCount:r.rowCount,pageInfo:r.pageInfo}),{rows:[],rowCount:0,pageInfo:{}})}const s2e=["skipCache"],a2e={clear:()=>{},get:()=>{},set:()=>{}};function v5(e,t={}){return e===null?a2e:e??new zNe(t)}const l2e=(e,t,n={})=>{const r=_.useCallback(()=>{e.current.setStrategyAvailability($u.DataSource,sI.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[i,o]=_.useState(!1),s=dt(e,ko),a=_.useRef(0),c=t.onDataSourceError,u=zs(()=>{if(!t.pagination)return new aI(s.pageSize);const M=t.pageSizeOptions.map(N=>typeof N=="number"?N:N.value).sort((N,D)=>N-D),I=Math.min(s.pageSize,M[0]);return new aI(I)}).current,[h,f]=_.useState(()=>v5(t.dataSourceCache,n.cacheOptions)),g=_.useCallback(async(M,I)=>{const N=t.dataSource?.getRows;if(!N)return;if(M&&M!==fo&&t.signature!=="DataGrid"){n.fetchRowChildren?.([M]);return}n.clearDataSourceState?.();const D=I||{},{skipCache:L}=D,A=Tt(D,s2e),$=W({},o2e(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),A),H=u.getCacheKeys($).map(K=>h.get(K));if(!L&&H.every(K=>K!==void 0)){e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:aI.mergeResponses(H),fetchParams:$});return}(i||e.current.getRowsCount()===0)&&e.current.setLoading(!0);const q=a.current+1;a.current=q;try{const K=await N($);u.splitResponse($,K).forEach((Z,ee)=>h.set(ee,Z)),a.current===q&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:K,fetchParams:$})}catch(K){a.current===q&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:K,fetchParams:$}),typeof c=="function"&&c(new UNe({message:K?.message,params:$,cause:K})))}finally{i&&a.current===q&&e.current.setLoading(!1)}},[u,h,e,i,t.dataSource?.getRows,c,n,t.signature]),m=_.useCallback(()=>{o(e.current.getActiveStrategy($u.DataSource)===sI.Default)},[e]),y=_.useCallback(M=>{if("error"in M){e.current.setRows([]);return}const{response:I}=M;I.rowCount!==void 0&&e.current.setRowCount(I.rowCount),e.current.setRows(I.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:M.fetchParams,response:I},!0)},[e]),b=t.dataSource?.updateRow,v=n.handleEditRow,S=_.useCallback(async M=>{if(b)try{const I=await b(M);return typeof v=="function"?(v(M,I),I):(e.current.updateNestedRows([I],[]),I&&!La(I,M.previousRow)&&e.current.dataSource.cache.clear(),I)}catch(I){throw typeof c=="function"&&c(new HNe({message:I?.message,params:M,cause:I})),I}},[e,b,c,v]),E={dataSource:{fetchRows:g,cache:h,editRow:S}},T=_.useMemo(()=>_u(g,0),[g]),R=_.useRef(!0);return _.useEffect(()=>{if(R.current){R.current=!1;return}if(t.dataSourceCache===void 0)return;const M=v5(t.dataSourceCache,n.cacheOptions);f(I=>I!==M?M:I)},[t.dataSourceCache,n.cacheOptions]),_.useEffect(()=>(t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{a.current+=1}),[e,t.dataSource]),{api:{public:E},debouncedFetchRows:T,strategyProcessor:{strategyName:sI.Default,group:"dataSourceRowsUpdate",processor:y},setStrategyAvailability:r,cacheChunkManager:u,cache:h,events:{strategyAvailabilityChange:m,sortModelChange:Du(i,()=>T()),filterModelChange:Du(i,()=>T()),paginationModelChange:Du(i,()=>T())}}},c2e=(e,t)=>{const{api:n,strategyProcessor:r,events:i,setStrategyAvailability:o}=l2e(e,t);zn(e,n.public,"public"),Km(e,r.strategyName,r.group,r.processor),Object.entries(i).forEach(([s,a])=>{jt(e,s,a)}),_.useEffect(()=>{o()},[o])},u2e=(e,t,n)=>{w$e(e,t),E3e(e,t),w3e(e),mo(y$e,e,t),mo(C3e,e,t),mo(A$e,e,t),mo(g3e,e,t),mo(r3e,e,t),mo(f3e,e,t),mo(X$e,e,t),mo(T3e,e,t),mo(o3e,e,t),mo(W$e,e,t),mo(t2e,e,t),mo(B$e,e,t),mo(X3e,e,t),mo(P$e,e,t),mo($3e,e,t),mo(LNe,e,t),mo(k3e,e,t),mo(N3e,e,t),mo(r2e,e,t),T$e(e,t),e3e(e,t),x3e(e,t),L$e(e,t),m3e(e,t,n),n2e(e,t),S3e(e,t),j3e(e),z3e(e,t),p3e(e,t),Z$e(e,t),s3e(e,t),Y$e(e,t),M3e(e,t),F$e(e,t),Q3e(e,t),i3e(e,t),B3e(e),O3e(e,t),D$e(e),V$e(e,t),G$e(e,t),k$e(e,t),D3e(e,t),R3e(e,t),F3e(e),NNe(e,t),i2e(e,t),c2e(e,t),_.useEffect(()=>{e.current.runAppliersForPendingProcessors()})},d2e=e=>{const{classes:t,headerAlign:n,isDragging:r,isLastColumn:i,showLeftBorder:o,showRightBorder:s,groupId:a,pinnedPosition:c}=e,u={root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",s&&"columnHeader--withRightBorder",o&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c===Xn.LEFT&&"columnHeader--pinnedLeft",c===Xn.RIGHT&&"columnHeader--pinnedRight",i&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Et(u,Hn,t)};function h2e(e){const{groupId:t,width:n,depth:r,maxDepth:i,fields:o,height:s,colIndex:a,hasFocus:c,tabIndex:u,isLastColumn:h,pinnedPosition:f,pinnedOffset:g}=e,m=It(),y=Oo(),b=_.useRef(null),v=Rn(),S=dt(v,n4),E=t?S[t]:{},{headerName:T=t??"",description:R="",headerAlign:M=void 0}=E;let I;const N=t&&S[t]?.renderHeaderGroup,D=_.useMemo(()=>({groupId:t,headerName:T,description:R,depth:r,maxDepth:i,fields:o,colIndex:a,isLastColumn:h}),[t,T,R,r,i,o,a,h]);t&&N&&(I=N(D));const L=W({},e,{classes:m.classes,headerAlign:M,depth:r,isDragging:!1}),A=T??t,$=er(),F=t===null?`empty-group-cell-${$}`:t,H=d2e(L);_.useLayoutEffect(()=>{if(c){const ie=b.current.querySelector('[tabindex="0"]')||b.current;if(!ie)return;if(UR())ie.focus({preventScroll:!0});else{const U=v.current.getScrollPosition();ie.focus(),v.current.scroll(U)}}},[v,c]);const q=_.useCallback(ee=>ie=>{Vm(ie)||v.current.publishEvent(ee,D,ie)},[v,D]),K=_.useMemo(()=>({onKeyDown:q("columnGroupHeaderKeyDown"),onFocus:q("columnGroupHeaderFocus"),onBlur:q("columnGroupHeaderBlur")}),[q]),z=typeof E.headerClassName=="function"?E.headerClassName(D):E.headerClassName,Z=_.useMemo(()=>vS(W({},e.style),y,f,g),[f,g,e.style,y]);return x.jsx(V4,W({ref:b,classes:H,columnMenuOpen:!1,colIndex:a,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:I,headerClassName:z,description:R,elementId:F,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:A,"aria-colspan":o.length,"data-fields":`|-${o.join("-|-")}-|`,style:Z},K))}const y5=Ee("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),f2e=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:o,columnHeaderFocus:s,columnGroupHeaderFocus:a,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:h,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:g}=e,[m,y]=_.useState(""),[b,v]=_.useState(""),S=Ws(),E=It(),T=dt(S,t4),R=dt(S,vh),M=dt(S,VNe),I=dt(S,Zw),N=dt(S,Ac),D=b4(R,M,I.left.length),L=dt(S,mR),A=dt(S,VH),$=dt(S,JPe),F=dt(S,eDe),H=dt(S,$H),q=_.useCallback(le=>v(le.field),[]),K=_.useCallback(()=>v(""),[]),z=_.useCallback(le=>y(le.field),[]),Z=_.useCallback(()=>y(""),[]),ee=_.useMemo(()=>I.left.length?{firstColumnIndex:0,lastColumnIndex:I.left.length}:null,[I.left.length]),ie=_.useMemo(()=>I.right.length?{firstColumnIndex:t.length-I.right.length,lastColumnIndex:t.length}:null,[I.right.length,t.length]);jt(S,"columnResizeStart",q),jt(S,"columnResizeStop",K),jt(S,"columnHeaderDragStart",z),jt(S,"columnHeaderDragEndNative",Z);const U=le=>{const{renderContext:Ce=M}=le||{},ke=Ce.firstColumnIndex,Te=Math.min(Ce.lastColumnIndex,t.length);return{renderedColumns:t.slice(ke,Te),firstColumnToRender:ke,lastColumnToRender:Te}},Y=(le,Ce,ke,Te=!1)=>{const me=le?.position===Xn.RIGHT,ye=le?.position===void 0,xe=I.right.length>0&&me||I.right.length===0&&ye,Re=D-ke;return x.jsxs(_.Fragment,{children:[ye&&x.jsx("div",{role:"presentation",style:{width:Re}}),Ce,ye&&x.jsx("div",{role:"presentation",className:tt(ae.filler,Te&&ae["filler--borderBottom"])}),xe&&x.jsx(KR,{header:!0,pinnedRight:me,borderBottom:Te,borderTop:!1})]})},J=(le,Ce={})=>{const{renderedColumns:ke,firstColumnToRender:Te}=U(le),me=[];for(let ye=0;ye<ke.length;ye+=1){const xe=ke[ye],Re=Te+ye,Le=Re===0,Ie=i!==null&&i.field===xe.field||Le&&!g?0:-1,je=s!==null&&s.field===xe.field,lt=u.open&&u.field===xe.field,We=le?.position,Bt=zm(We,xe.computedWidth,Re,R,L,H),Ct=We===Xn.RIGHT?ke[ye-1]:ke[ye+1],Ot=Ct?s!==null&&s.field===Ct.field:!1,Ke=Re+1===R.length-I.right.length,Ft=ye,Mt=ke.length,zt=xS(We,Ft),Lt=CS(We,Ft,Mt,E.showColumnVerticalBorder,A);me.push(x.jsx(MFe,W({},n[xe.field],{columnMenuOpen:lt,filterItemsCounter:r[xe.field]&&r[xe.field].length,headerHeight:$,isDragging:xe.field===m,colDef:xe,colIndex:Re,isResizing:b===xe.field,isLast:Re===R.length-1,hasFocus:je,tabIndex:Ie,pinnedPosition:We,pinnedOffset:Bt,isLastUnpinned:Ke,isSiblingFocused:Ot,showLeftBorder:zt,showRightBorder:Lt},Ce),xe.field))}return Y(le,me,0)},he=()=>x.jsxs(y5,{role:"row","aria-rowindex":c+1,ownerState:E,className:ae["row--borderBottom"],style:{height:$},children:[ee&&J({position:Xn.LEFT,renderContext:ee},{disableReorder:!0}),J({renderContext:M}),ie&&J({position:Xn.RIGHT,renderContext:ie},{disableReorder:!0,separatorSide:GR.Left})]}),ge=({depth:le,params:Ce})=>{const ke=U(Ce);if(ke.renderedColumns.length===0)return null;const{firstColumnToRender:Te,lastColumnToRender:me}=ke,ye=f[le],xe=t[Te].field,Re=T[xe]?.[le]??null,Le=ye.findIndex(({groupId:Mt,columnFields:zt})=>Mt===Re&&zt.includes(xe)),Ie=t[me-1].field,je=T[Ie]?.[le]??null,lt=ye.findIndex(({groupId:Mt,columnFields:zt})=>Mt===je&&zt.includes(Ie)),We=ye.slice(Le,lt+1).map(Mt=>W({},Mt,{columnFields:Mt.columnFields.filter(zt=>h[zt]!==!1)})).filter(Mt=>Mt.columnFields.length>0),Bt=We[0].columnFields.indexOf(xe),Ot=We[0].columnFields.slice(0,Bt).reduce((Mt,zt)=>{const Lt=N[zt];return Mt+(Lt.computedWidth??0)},0);let Ke=Te;const Ft=We.map(({groupId:Mt,columnFields:zt},Lt)=>{const Xt=a!==null&&a.depth===le&&zt.includes(a.field),sn=o!==null&&o.depth===le&&zt.includes(o.field)?0:-1,xt={width:zt.reduce((wt,at)=>wt+N[at].computedWidth,0),fields:zt,colIndex:Ke},Dt=Ce.position,Je=zm(Dt,xt.width,Ke,R,L,H);Ke+=zt.length;let bt=Lt;return Dt===Xn.LEFT&&(bt=Ke-1),x.jsx(h2e,{groupId:Mt,width:xt.width,fields:xt.fields,colIndex:xt.colIndex,depth:le,isLastColumn:Lt===We.length-1,maxDepth:c,height:F,hasFocus:Xt,tabIndex:sn,pinnedPosition:Dt,pinnedOffset:Je,showLeftBorder:xS(Dt,bt),showRightBorder:CS(Dt,bt,We.length,E.showColumnVerticalBorder,A)},Lt)});return Y(Ce,Ft,Ot)};return{renderContext:M,leftRenderContext:ee,rightRenderContext:ie,pinnedColumns:I,visibleColumns:t,columnPositions:R,getFillers:Y,getColumnHeadersRow:he,getColumnsToRender:U,getColumnGroupHeadersRows:()=>{if(c===0)return null;const le=[];for(let Ce=0;Ce<c;Ce+=1)le.push(x.jsxs(y5,{role:"row","aria-rowindex":Ce+1,ownerState:E,style:{height:F},children:[ee&&ge({depth:Ce,params:{position:Xn.LEFT,renderContext:ee,maxLastColumn:ee.lastColumnIndex}}),ge({depth:Ce,params:{renderContext:M}}),ie&&ge({depth:Ce,params:{position:Xn.RIGHT,renderContext:ie,maxLastColumn:ie.lastColumnIndex}})]},Ce));return le},getPinnedCellOffset:zm,isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},p2e=["className"],g2e=e=>{const{classes:t}=e;return Et({root:["columnHeaders"]},Hn,t)},m2e=or("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),v2e=pn(function(t,n){const{className:r}=t,i=Tt(t,p2e),o=It(),s=g2e(o);return x.jsx(m2e,W({className:tt(s.root,r),ownerState:o},i,{role:"presentation",ref:n}))}),y2e=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],b2e=pn(function(t,n){const{visibleColumns:r,sortColumnLookup:i,filterColumnLookup:o,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y}=t,b=Tt(t,y2e),{getInnerProps:v,getColumnHeadersRow:S,getColumnGroupHeadersRows:E}=f2e({visibleColumns:r,sortColumnLookup:i,filterColumnLookup:o,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y});return x.jsxs(v2e,W({},b,v(),{ref:n,children:[E(),S()]}))}),w2e=Pc(b2e);function S2e(e){return null}function C2e(e){return null}const x2e=pn(function(t,n){const i=Rn().current.getLocaleText("noResultsOverlayLabel");return x.jsx(bS,W({},t,{ref:n,children:i}))}),_2e=()=>Et({root:["bottomContainer"]},Hn,{}),E2e=or("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function T2e(e){const t=_2e();return x.jsx(E2e,W({},e,{className:tt(t.root,ae["container--bottom"]),role:"presentation"}))}const M2e=W({},qPe,{cell:sBe,skeletonCell:mBe,columnHeaderFilterIconButton:jFe,columnHeaderSortIcon:BFe,columnMenu:tje,columnHeaders:w2e,detailPanels:S2e,bottomContainer:T2e,footer:AVe,footerRowCount:XVe,toolbar:RVe,pinnedRows:C2e,loadingOverlay:zVe,noResultsOverlay:x2e,noRowsOverlay:UVe,noColumnsOverlay:HVe,pagination:WVe,filterPanel:Ije,columnsPanel:oje,columnsManagement:jje,panel:uje,row:r$e}),O2e={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},R2e=e=>W({},O2e,e.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),I2e=M2e,k2e=e=>{const t=$l(),n=_.useMemo(()=>d2({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),r=_.useMemo(()=>W({},hDe,n.localeText),[n.localeText]),i=_.useMemo(()=>JNe({defaultSlots:I2e,slots:n.slots}),[n.slots]),o=_.useMemo(()=>Object.keys(_S).reduce((s,a)=>(s[a]=n[a]??_S[a],s),{}),[n]);return _.useMemo(()=>W({},n,o,{localeText:r,slots:i},R2e(n)),[n,r,i,o])},b5=Symbol("mui.api_private"),P2e=e=>e.isPropagationStopped!==void 0;let w5=0;function D2e(e){const t=e.current?.[b5];if(t)return t;const n={},r={state:n,store:gm.create(n),instanceId:{id:w5}};return w5+=1,r.getPublicApi=()=>e.current,r.register=(i,o)=>{Object.keys(o).forEach(s=>{const a=o[s],c=r[s];if(c?.spying===!0?c.target=a:r[s]=a,i==="public"){const u=e.current,h=u[s];h?.spying===!0?h.target=a:u[s]=a}})},r.register("private",{caches:{},eventManager:new VU}),r}function A2e(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[b5]:e.current}}function L2e(e,t){const n=_.useRef(null),r=_.useRef(null);r.current||(r.current=D2e(n)),n.current||(n.current=A2e(r));const i=_.useCallback((...s)=>{const[a,c,u={}]=s;if(u.defaultMuiPrevented=!1,P2e(u)&&u.isPropagationStopped())return;const h=t.signature===cl.DataGridPro||t.signature===cl.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(a,c,u,h)},[r,t.signature]),o=_.useCallback((s,a,c)=>{r.current.eventManager.on(s,a,c);const u=r.current;return()=>{u.eventManager.removeListener(s,a)}},[r]);return zn(r,{subscribeEvent:o,publishEvent:i},"public"),e&&!e.current?.state&&(e.current=n.current),_.useImperativeHandle(e,()=>n.current,[n]),_.useEffect(()=>{const s=r.current;return()=>{s.publishEvent("unmount")}},[r]),r}const S5={hooks:{useCSSVariables:Yke,useGridAriaAttributes:i$e,useGridRowAriaAttributes:o$e,useGridRowsOverridableMethods:s$e,useCellAggregationResult:()=>null}},C5=function(t,n){const r=k2e(t),i=L2e(r.apiRef,r);return u2e(i,r,S5),x.jsx(a$e,{privateApiRef:i,configuration:S5,props:r,children:x.jsx(PBe,W({className:r.className,style:r.style,sx:r.sx},r.slotProps?.root,{ref:n}))})},N2e=_.memo(pn(C5));C5.propTypes={apiRef:Pe.shape({current:Pe.object}),"aria-label":Pe.string,"aria-labelledby":Pe.string,autoHeight:Pe.bool,autoPageSize:Pe.bool,autosizeOnMount:Pe.bool,autosizeOptions:Pe.shape({columns:Pe.arrayOf(Pe.string),disableColumnVirtualization:Pe.bool,expand:Pe.bool,includeHeaders:Pe.bool,includeOutliers:Pe.bool,outliersFactor:Pe.number}),cellModesModel:Pe.object,checkboxSelection:Pe.bool,classes:Pe.object,className:Pe.string,clipboardCopyCellDelimiter:Pe.string,columnBufferPx:Pe.number,columnFilterDebounceMs:Pe.number,columnGroupHeaderHeight:Pe.number,columnGroupingModel:Pe.arrayOf(Pe.object),columnHeaderHeight:Pe.number,columns:Pe.arrayOf(Pe.object).isRequired,columnVisibilityModel:Pe.object,dataSource:Pe.shape({getRows:Pe.func.isRequired,updateRow:Pe.func}),dataSourceCache:Pe.shape({clear:Pe.func.isRequired,get:Pe.func.isRequired,set:Pe.func.isRequired}),density:Pe.oneOf(["comfortable","compact","standard"]),disableAutosize:Pe.bool,disableColumnFilter:Pe.bool,disableColumnMenu:Pe.bool,disableColumnResize:Pe.bool,disableColumnSelector:Pe.bool,disableColumnSorting:Pe.bool,disableDensitySelector:Pe.bool,disableEval:Pe.bool,disableMultipleRowSelection:Pe.bool,disableRowSelectionExcludeModel:Pe.bool,disableRowSelectionOnClick:Pe.bool,disableVirtualization:Pe.bool,editMode:Pe.oneOf(["cell","row"]),estimatedRowCount:Pe.number,experimentalFeatures:Pe.shape({warnIfFocusStateIsNotSynced:Pe.bool}),filterDebounceMs:Pe.number,filterMode:Pe.oneOf(["client","server"]),filterModel:Pe.shape({items:Pe.arrayOf(Pe.shape({field:Pe.string.isRequired,id:Pe.oneOfType([Pe.number,Pe.string]),operator:Pe.string.isRequired,value:Pe.any})).isRequired,logicOperator:Pe.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Pe.bool,quickFilterLogicOperator:Pe.oneOf(["and","or"]),quickFilterValues:Pe.array}),getCellClassName:Pe.func,getDetailPanelContent:Pe.func,getEstimatedRowHeight:Pe.func,getRowClassName:Pe.func,getRowHeight:Pe.func,getRowId:Pe.func,getRowSpacing:Pe.func,hideFooter:Pe.bool,hideFooterPagination:Pe.bool,hideFooterSelectedRowCount:Pe.bool,ignoreDiacritics:Pe.bool,ignoreValueFormatterDuringExport:Pe.oneOfType([Pe.shape({clipboardExport:Pe.bool,csvExport:Pe.bool}),Pe.bool]),initialState:Pe.object,isCellEditable:Pe.func,isRowSelectable:Pe.func,keepNonExistentRowsSelected:Pe.bool,label:Pe.string,loading:Pe.bool,localeText:Pe.object,logger:Pe.shape({debug:Pe.func.isRequired,error:Pe.func.isRequired,info:Pe.func.isRequired,warn:Pe.func.isRequired}),logLevel:Pe.oneOf(["debug","error","info","warn",!1]),nonce:Pe.string,onCellClick:Pe.func,onCellDoubleClick:Pe.func,onCellEditStart:Pe.func,onCellEditStop:Pe.func,onCellKeyDown:Pe.func,onCellModesModelChange:Pe.func,onClipboardCopy:Pe.func,onColumnHeaderClick:Pe.func,onColumnHeaderContextMenu:Pe.func,onColumnHeaderDoubleClick:Pe.func,onColumnHeaderEnter:Pe.func,onColumnHeaderLeave:Pe.func,onColumnHeaderOut:Pe.func,onColumnHeaderOver:Pe.func,onColumnOrderChange:Pe.func,onColumnResize:Pe.func,onColumnVisibilityModelChange:Pe.func,onColumnWidthChange:Pe.func,onDataSourceError:Pe.func,onDensityChange:Pe.func,onFilterModelChange:Pe.func,onMenuClose:Pe.func,onMenuOpen:Pe.func,onPaginationMetaChange:Pe.func,onPaginationModelChange:Pe.func,onPreferencePanelClose:Pe.func,onPreferencePanelOpen:Pe.func,onProcessRowUpdateError:Pe.func,onResize:Pe.func,onRowClick:Pe.func,onRowCountChange:Pe.func,onRowDoubleClick:Pe.func,onRowEditStart:Pe.func,onRowEditStop:Pe.func,onRowModesModelChange:Pe.func,onRowSelectionModelChange:Pe.func,onSortModelChange:Pe.func,onStateChange:Pe.func,pageSizeOptions:Pe.arrayOf(Pe.oneOfType([Pe.number,Pe.shape({label:Pe.string.isRequired,value:Pe.number.isRequired})]).isRequired),pagination:Pe.oneOf([!0]),paginationMeta:Pe.shape({hasNextPage:Pe.bool}),paginationMode:Pe.oneOf(["client","server"]),paginationModel:Pe.shape({page:Pe.number.isRequired,pageSize:Pe.number.isRequired}),processRowUpdate:Pe.func,resizeThrottleMs:Pe.number,rowBufferPx:Pe.number,rowCount:Pe.number,rowHeight:Pe.number,rowModesModel:Pe.object,rows:Pe.arrayOf(Pe.object),rowSelection:Pe.bool,rowSelectionModel:Pe.shape({ids:Pe.instanceOf(Set).isRequired,type:Pe.oneOf(["exclude","include"]).isRequired}),rowSpacingType:Pe.oneOf(["border","margin"]),rowSpanning:Pe.bool,scrollbarSize:Pe.number,showCellVerticalBorder:Pe.bool,showColumnVerticalBorder:Pe.bool,showToolbar:Pe.bool,slotProps:Pe.object,slots:Pe.object,sortingMode:Pe.oneOf(["client","server"]),sortingOrder:Pe.arrayOf(Pe.oneOf(["asc","desc"])),sortModel:Pe.arrayOf(Pe.shape({field:Pe.string.isRequired,sort:Pe.oneOf(["asc","desc"])})),style:Pe.object,sx:Pe.oneOfType([Pe.arrayOf(Pe.oneOfType([Pe.func,Pe.object,Pe.bool])),Pe.func,Pe.object]),virtualizeColumnsWithAutoRowHeight:Pe.bool};function x5(e){const{api:t}=e,n=(r,i)=>{t.setEditCellValue({id:e.id,field:e.field,value:i}),t.stopCellEditMode({id:e.id,field:e.field})};return x.jsx(JG,{onValueChange:n,...e})}function B2e({onClick:e}){return x.jsx(cBe,{label:"Удалить",icon:x.jsx(dOe,{fontSize:"small",color:"error"}),onClick:e})}function _5({value:e,isBroken:t}){return x.jsx("div",{style:{textDecoration:t?"line-through":"unset"},children:e})}function E5(e){const{description:t}=e;return{label:t?`${e.name}: ${t}`:e.name,value:e.name}}class F2e extends qt{constructor(){super(),this.allowAutoChangeB=new WeakSet,this.setEnabled=(t,n)=>this.props.sceneConnection?.setDisabled(!n),this.isCellEditable=t=>!t.row.isBroken,this.processRowUpdate=(t,n)=>{const{m:r}=this,i=t.a!==n.a,o=t.b!==n.b;if(!i&&!o)return n;const s=r.a.vars.get(t.a);let a=r.b.vars.get(t.b);if(!s||!a)return n;if(i){if(s.type!==a.type){this.allowAutoChangeB.add(r.proto);const u=r.b.vars.list.filter(h=>h.type===s.type);if(!u.length)return n;a=u.find(h=>h.klassVar.nameUC===s.klassVar.nameUC)||u[0]}else if(this.allowAutoChangeB.has(r.proto)){const u=r.b.vars.get(s.name);u&&(a=u)}}else this.allowAutoChangeB.delete(r.proto);const c=r.nestedConnections.map((u,h)=>h.toString()===t.id?[s.name,a.name]:u.proto.toJSON());return r.proto.setNestedConnections(c),r.parent.applyChanges(),{...t,a:s.name,typeA:s.type,b:a.name,typeB:a.type}},this.addRow=t=>{const{m:n}=this,r=n.b.vars.list,i=n.a.vars.list.find(a=>r.some(c=>c.type===a.type));if(!i)return;let o;if(o=n.b.vars.get(i.name),(!o||i.type!==o.type)&&(o=r.find(a=>a.type===i.type),!o))return;const s=[...n.proto.nestedConnections.map(a=>a.toJSON()),[i.name,o.name]];n.proto.setNestedConnections(s),n.parent.applyChanges()},Rt(this,{processRowUpdate:_e,valuesOptionsA:mi,canAddRow:mi})}get enabled(){return!this.m.isDisabled}get valuesOptionsA(){const{a:t,b:n}=this.m,r=new Set(n.vars.list.map(i=>i.type));return ns(t.vars.list,i=>r.has(i.type)&&E5(i))}getOptionsB(t){const{b:n}=this.m;return ns(n.vars.list,r=>r.type===t&&E5(r))}get columns(){const{m:t}=this;return[{field:"a",headerName:t.a.name,editable:!0,flex:10,type:"singleSelect",valueOptions:this.valuesOptionsA,renderCell:n=>_.createElement(_5,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(x5,n)},{field:"b",headerName:t.b.name,editable:!0,flex:10,type:"singleSelect",valueOptions:n=>this.getOptionsB(n.row?.typeA),renderCell:n=>_.createElement(_5,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(x5,n)},{field:"delete",type:"actions",flex:1,getActions:n=>[_.createElement(B2e,{onClick:()=>this._deleteRow(n.id)})]}]}get rows(){return this.m.nestedConnections.map((t,n)=>{const r=n.toString();return t.isBroken?{id:r,isBroken:!0,a:t.a.toString(),typeA:null,b:t.b.toString(),typeB:null}:{id:r,isBroken:!1,a:t.a.name,typeA:t.a.type,b:t.b.name,typeB:t.b.type}})}get canAddRow(){const{m:t}=this,n=t.b.vars.list;return t.a.vars.list.some(r=>n.some(i=>i.type===r.type))}_deleteRow(t){const{m:n}=this,r=n.nestedConnections.filter((i,o)=>o.toString()!==t).map(i=>i.proto.toJSON());n.proto.setNestedConnections(r),n.parent.applyChanges()}}class j2e extends qt{constructor(){super(),this.onUngroupButtonClick=()=>this.m.ungroup(),Rt(this,{klassPropsButtonModel:mi,klassCodeButtonModel:mi,onUngroupButtonClick:!1})}get kind(){return this.child?"":"Группа"}get klassPropsButtonModel(){return this.child?.schema.klass||null}get klassSchemaButtonModel(){const{child:t}=this;if(!t)return null;const{schema:n}=t,{klass:r}=n;return!r.isReadonly||r.hasScene?n:null}get klassCodeButtonModel(){const{child:t}=this;if(!t)return null;const{klass:n}=t.schema;return!n.isReadonly||n.hasCode?n:null}get schemaValuesModel(){const t=this.child?.schema;return t&&!t.isFake?t:null}get showUngroupButton(){return this.m.canUngroup}get child(){return this.m.child}}const V2e=[[-1,"Ничего не делать"],[ey,"Открыть окно схемы имиджа"],[z0,"Открыть проект"],[ty,"Выполнить действие"],[$0,"Вызвать shell"],[xP,"Нет конкретного действия"]],lI=[[H0,`Закрыть текущий проект (${H0})`],[U0,`Закрыть все проекты (${U0})`]];class $2e extends qt{constructor(t){super(),this.ctx=t,this.setKlassName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,target:n}})},this.setWindowName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,window:n}})},this.onOpenSchemaButtonClick=()=>{const n=this.ctx.project.klassLibrary.get(this.klassName);!n||n.isReadonly&&!n.hasScene||this.ctx.project.openKlassScene(n)},Rt(this,{klassNameOptions:mi,showOpenSchemaButton:mi})}get klassNameOptions(){return this.ctx.project.klassLibrary.list.map(t=>t.name)}get showOpenSchemaButton(){const t=this.ctx.project.klassLibrary.get(this.klassName);return t&&(!t.isReadonly||t.hasScene)||!1}get klassName(){return this.parent.m.hyper?.target||""}get windowName(){return this.parent.m.hyper?.window||""}}class z2e extends qt{constructor(){super(...arguments),this.setProjectPath=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get projectPath(){return this.parent.m.hyper?.target||""}}class U2e extends qt{constructor(){super(...arguments),this.setActionType=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t.target.value}})}}get options(){return lI}get actionType(){const t=this.parent.m.hyper?.target||"";return lI.some(([n])=>n===t)?t:lI[0][0]}}class H2e extends qt{constructor(){super(...arguments),this.setCommandName=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get commandName(){return this.parent.m.hyper?.target||""}}class G2e extends qt{constructor(){super(...arguments),this.setMode=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.set({hyper:null}):n.set({hyper:{...n.hyper,mode:r,target:""}})},this.setParams=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,params:t}})},this.setReceiver=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,object:t}})},this.setDisabled=(t,n)=>{const{m:r}=this;r.hyper&&r.set({hyper:{...r.hyper,disabled:n}})}}get modeOptions(){return V2e}get mode(){const{hyper:t}=this.m;return!t||t.mode<ey||t.mode>ty?-1:t.mode}get params(){return this.m.hyper?.params||""}get receiver(){return this.m.hyper?.object||""}get disabled(){return this.m.hyper?.disabled||!1}}const W2e={unit:"%",x:0,y:0,width:100,height:100};class K2e extends qt{constructor(){super(...arguments),this.onChange=(t,{x:n,y:r,width:i,height:o})=>{const{m:s}=this.parent;if((i||o)&&(n||r||i<100||o<100)){const{image:a}=s;s.scene.pendNextEdit(),s.setArea({x:Math.round(n*.01*a.width),y:Math.round(r*.01*a.height),w:Math.max(Math.round(i*.01*a.width),1),h:Math.max(Math.round(o*.01*a.height),1)})}else s.setArea(null)},this.onDragEnd=t=>{this.parent.m.scene.pushPendingEdit()}}get crop(){const{area:t,image:n}=this.parent.m;return t?{unit:"%",x:t.x/n.width*100,y:t.y/n.height*100,width:t.w/n.width*100,height:t.h/n.height*100}:W2e}get imageInfo(){const{area:t,image:n}=this.parent.m;return"Crop: "+(t?`${t.x}, ${t.y}, ${t.w}x${t.h}`:"нет")+` [${n.width}x${n.height}]`}get imageSrc(){return Ps(this.parent.m.image.src)}}class q2e extends qt{get kind(){return this.m.pad?"Площадка":"Картинка"}get isPad(){return!!this.m.pad}get schemaValuesModel(){const t=this.m.pad?.schema;return t&&!t.isFake?t:null}}class Y2e extends qt{constructor(){super(...arguments),this.setValue=t=>this.m.setValue(t)}get kind(){switch(this.m.inputType){case"Edit":return"Элемент ввода";case"Button":return"Кнопка";case"ComboBox":return"ComboBox";case"ListBox":return"Выпадающий список"}}get value(){return this.m.value}}class T5 extends qt{constructor(){super(),this.editMode=!1,this.editValue="",this.onChange=t=>this._onChange(t.target.value),this.onInputChange=(t,n,r)=>{this._onChange(n)},this.onFormBlur=()=>{this.editMode&&(this.editMode=!1,this.props.onChange(this.editValue,!0))},this.onFormKeyDown=t=>{t.code==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.editMode=!1,t.target.blur())},Rt(this,{editMode:Be.ref,editValue:Be.ref,onFormBlur:_e,_onChange:_e,onFormKeyDown:_e,onChange:!1,onInputChange:!1})}onViewUnmounted(){this.onFormBlur()}get value(){if(this.editMode)return this.editValue;const{value:t}=this.props;return typeof t=="function"?t():t}get error(){return!!this.props.required&&!this.value}_onChange(t){this.editMode=!0,this.editValue=t,this.props.immediate&&this.props.onChange(t,!1)}}const X2e={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function Z2e(e){return e.toLocaleString("ru",X2e)}class Q2e extends qt{constructor(){super(...arguments),this.setKlassName=t=>this.klass.rename(t),this.setForceUseIcon=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,prior:n?"icon":"image"}})},this.setCanChangeSize=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,resizable:n}})}}get klass(){return this.parent.m.klass}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get date(){return Z2e(this.klass.date)}get isPropsChangeDisabled(){return this.klass.isReadonly}get klassName(){return this.klass.name}get forceUseIcon(){return this.klass.image?.prior==="icon"}get canChangeSize(){return this.klass.image?.resizable||!1}}class J2e extends qt{constructor(t){super(),this.ctx=t,this.onChange=(a,c)=>{this.crop=c},this.onDragEnd=a=>{const{crop:c,iconImage:u,m:h}=this,f=Math.round(c.x/100*u.width/32)*32,g=Math.round(c.y/100*u.height/32)*32;this.crop={unit:"%",x:f/u.width*100,y:g/u.height*100,width:32/u.width*100,height:32/u.height*100};const m=v9(u,f,g),y={atlas:h.image?.icon?.atlas,index:m};h.set({image:{...h.image,icon:y}})};const r=this.m.icon,i=r.atlas&&Vp(r.atlas)||X0,{x:o,y:s}=Q0(i,r.index||0);this.imageSrc=Ps(i.src),this.iconImage=i,this.crop={unit:"%",x:o/i.width*100,y:s/i.height*100,width:32/i.width*100,height:32/i.height*100},Rt(this,{crop:Be.ref,onChange:_e,onDragEnd:_e})}get disabled(){return this.m.isReadonly}get iconAtlas(){return this.iconImage.src}}const eze=0,tze=1,nze=2,rze=3,ize=4,oze=5,sze=0,aze=1,M5=3,O5=9,lze=10,cze=[[-1,"Отсутствует"],[eze,"Сплошная"],[tze,"- - -"],[nze,". . ."],[rze,"- . - ."],[ize,"- . ."],[oze,"Прозрачная"]],uze=[[-1,"Отсутствует"],[sze,"Сплошной цвет"],[M5,"Паттерн"],[aze,"Прозрачная"]];class dze extends qt{constructor(){super(...arguments),this.setAngle=t=>{const{arrow:n}=this;if(!n)return;const r=Bp(parseInt(t));isNaN(r)||r<0||this.m.setArrows({[this.props.arrow]:{...n,angle:r}})},this.setLength=t=>{const{arrow:n}=this;if(!n)return;const r=parseInt(t);isNaN(r)||r<1||this.m.setArrows({[this.props.arrow]:{...n,length:r}})},this.setFill=(t,n)=>{const{arrow:r}=this;r&&this.m.setArrows({[this.props.arrow]:{...r,fill:n}})},this.onRemoveButtonClick=()=>this.m.setArrows({[this.props.arrow]:null})}get arrow(){return this.m[this.props.arrow]}get angle(){return _d(A0(this.arrow?.angle||0))}get length(){return(this.arrow?.length||0).toString()}get fill(){return this.arrow?.fill||!1}}class hze extends qt{constructor(){super(...arguments),this.getColor=()=>J0(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:eC(t)}),n&&r.scene.pushPendingEdit()},this.setWidth=t=>{const n=parseInt(t);isNaN(n)||n<0||this.m.set({width:n})}}get width(){return this.m.width.toString()}}class fze extends qt{constructor(){super(),this.inputRef=_.createRef(),this.dashed=!1,this.onClick=()=>this.inputRef.current?.click(),this.onDragOver=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)},this.onDragEnter=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)&&(this.dashed=!0)},this.onDragLeave=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1},this.onDrop=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1;const n=this.m.scene.fileContentTransfer?.pop(t.dataTransfer);n?.image?this.m.setImage(n.image):this.addFromFileList(t.dataTransfer.files)},this.onChange=({currentTarget:{files:t}})=>t&&this.addFromFileList(t),Rt(this,{dashed:Be.ref,onClick:!1,onDragOver:!1,onDragEnter:_e,onDragLeave:_e,onDrop:_e,onChange:!1,addFromFileList:Mi})}get image(){return this.m.image}tryAccept(t){return this.m.scene.fileContentTransfer?.get(t)?.image?(t.dropEffect="link",!0):t.items.length&&t.items[0].type.startsWith("image/")?(t.dropEffect="copy",!0):(t.dropEffect="none",!1)}*addFromFileList(t){const n=t.item(0);if(!n||!n.type.startsWith("image/"))return;const{fileUploader:r}=this.m.scene;if(!r)return;const i=yield r.upload([n]),o=i.length&&i[0].data.image;o&&this.m.setImage(o)}}class pze extends qt{constructor(){super(...arguments),this.getColor=()=>J0(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:eC(t)}),n&&r.scene.pushPendingEdit()},this.setMix=(t,n)=>this.m.set({rop:n?O5:0})}get isPattern(){return this.m.style===M5}get mix(){const{rop:t}=this.m;return t===O5||t===lze}}class gze extends qt{constructor(){super(...arguments),this.onPointsModeChange=(t,n)=>{this.m.setPointsEditMode(n==="points")},this.setPenVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removePen():n.pen?n.pen.set({style:r}):n.createPen({style:r})},this.setBrushVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removeBrush():n.brush?n.brush.set({style:r}):n.createBrush({style:r})},this.onAddStartArrowButtonClick=()=>this.m.setArrows({start:{angle:Bp(45),length:10,fill:!1}}),this.onAddEndArrowButtonClick=()=>this.m.setArrows({end:{angle:Bp(45),length:10,fill:!1}})}get kind(){return this.m.connection?"Связь":"Полилиния"}get mode(){return this.m.isPointsEditModeActive?"points":"props"}get sceneConnection(){return this.m.connection}get schemaConnection(){return this.m.connection?.schemaConnection||null}get canAddPen(){return!this.m.connection}get canAddBrush(){return!this.m.connection}get pen(){return this.m.pen}get brush(){return this.m.connection?null:this.m.brush}get hasStartArrow(){return!!this.m.start}get hasEndArrow(){return!!this.m.end}get penVariantOptions(){return cze}get penVariant(){const{pen:t}=this.m;return t?t.style:-1}get brushVariantOptions(){return uze}get brushVariant(){const{brush:t}=this.m;return t?t.style:-1}}const mze=[{field:"x",headerName:"X",type:"number",editable:!0,flex:1},{field:"y",headerName:"Y",type:"number",editable:!0,flex:1}];class vze extends qt{constructor(){super(),this.processRowUpdate=(t,n)=>{const r=parseInt(t.x);if(isNaN(r))return n;const i=parseInt(t.y);if(isNaN(i))return n;const o=t.id;return this.m.setPoint(o,r,i),t},Rt(this,{processRowUpdate:_e})}get columns(){return mze}get rows(){return this.m.points.map(({x:t,y:n},r)=>({id:r,x:t,y:n}))}}class yze extends qt{constructor(){super(...arguments),this.onCreateGroupButtonClick=()=>this.m.createGroup(),this.onCreateConnectionButtonClick=()=>this.m.createConnection()}get selectionLength(){return this.m.objects.length}get showCreateGroupButton(){return this.m.canCreateGroup}get showCreateConnectionButton(){return this.m.canCreateConnection}}class bze extends qt{get klassPropsButtonModel(){return this.parent.hasSchema?this.parent.klass:null}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get schemaValuesModel(){const{schema:t}=this.parent;return t?.isFake?null:t}}function wze(e){const{value:t}=e;if(t===null)return null;const n=e.row.computedValueKind,r=n==="own"?"blue":n==="overwritten"?"green":n==="classSpecial"?"orange":void 0;let i="";return t!==null&&(i=n==="own"?"Значение установлено пользователем":n==="overwritten"?"Значение перезаписано другой переменной":n==="alien"?"Значение установлено другой переменной":n==="classSpecial"?"Используется свойство объекта":"Используется значение по умолчанию"),x.jsx("div",{title:i,style:{color:r,whiteSpace:"pre"},children:t})}function Sze(e,t){if(!e)return null;if(t===kt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==kt.STRING&&(e=e.trim()),e||null}class Cze extends qt{constructor(t){super(),this.ctx=t,this.processRowUpdate=(n,r)=>{const{m:i}=this,o=Sze(n.value,n.type);if(o===r.value)return r;const s=i.vars.list.find(a=>a._reactKey===n.id);return s?.setOwnValue(o)?(i.applyChanges(),{...n,value:s.computedValue,computedValueKind:s.computedValueKind}):r},this.columns=[{field:"markButton",width:24,minWidth:24,resizable:!1,sortable:!1,filterable:!1,headerName:"",cellClassName:"mark-button-cell",renderCell:n=>_.createElement(Gl,{onChange:this.updateRow.bind(this,n.row)})},{field:"name",headerName:"Переменная",flex:1,renderCell:n=>{const{description:r,defaultValue:i,type:o}=n.row;let s=`Тип: ${kt[o]}`;return r&&(s+=`
Описание: ${r}`),i&&(s+=`
По умолчанию: '${i}'`),_.createElement("div",{title:s},n.value)}},{field:"value",headerName:"Значение",editable:!0,flex:1,renderCell:n=>_.createElement(wze,n)}],Rt(this,{processRowUpdate:_e,updateRow:_e})}updateRow(t,n,r){const{m:i}=this,o=i.vars.list.find(a=>a._reactKey===t.id);if(!o)return;const{project:s}=this.ctx;r?s.addMarkedVar(o):s.removeMarkedVar(o)}get rows(){return this.m.vars.list.map(t=>({id:t._reactKey,name:t.name,type:t.type,value:t.computedValue,computedValueKind:t.computedValueKind,description:t.description,defaultValue:t.defaultValue}))}}class xze extends qt{constructor(){super(...arguments),this.onOpenTextEditorButtonClick=()=>this.m.scene.openTextEditor(this.m)}get kind(){return"Текст"}}class _ze extends qt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassProps(this.m)}get title(){return this.m.name}}class Eze extends qt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openSchema(this.m)}get hasScene(){return this.m.klass.hasScene}}class Tze extends qt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassCode(this.m)}get hasCode(){return this.m.hasCode||!1}}class Mze extends qt{constructor(){super(...arguments),this.onClick=()=>this.m.delete()}}class Oze extends qt{constructor(){super(...arguments),this.onMoveToBottomButtonClick=()=>this.m.moveToBottom(),this.onDecreaseZButtonClick=()=>this.m.decreaseZ(),this.onIncreaseZButtonClick=()=>this.m.increaseZ(),this.onMoveToTopButtonClick=()=>this.m.moveToTop()}get value(){return this.m.z.toString()}}let R5=0;class Rze extends qt{constructor(t){super(),this.ctx=t,this.ref=_.createRef(),this.onFontStylesChange=(n,r)=>{this.m.set({fontDecorations:r})},this.onFontSizeChange=n=>{this.m.set({fontSize:n})},this.onColorChange=n=>{this.m.set({fontColor:n})},this.onFontChange=n=>{this.m.set({fontName:n.target.value})},this.onEditorChange=n=>{if(this.ref.current?.editor===document.activeElement){{const r=n.getLastChangeType();(r==="remove-range"||r==="delete-character")&&++R5}this.m.setState(n)}},this.handleKeyCommand=(n,r,i)=>{const{m:o}=this,s=ma.RichUtils.handleKeyCommand(o.state,n);return s?(o.setState(s),"handled"):n==="strikethrough"?(o.setState(ma.RichUtils.toggleInlineStyle(o.state,"STRIKETHROUGH")),"handled"):n==="font-up"?(this.m.set({fontSize:(Math.max(parseInt(o.fontSize)||1,0)+1).toString()}),"handled"):n==="font-down"?(this.m.set({fontSize:(Math.max(parseInt(o.fontSize)||1,2)-1).toString()}),"handled"):n==="apply"?(o.applyAndClose(),"handled"):n==="cancel"?(o.close(),"handled"):"not-handled"},this.customStyleFn=(n,r)=>{const i={whiteSpace:"pre"};return n.forEach(o=>{if(!o)return;const s=o.split("_");s.length<2||(i[s[0]]=s[1])}),i},this.keyBindingFn=n=>n.code==="Escape"?(n.preventDefault(),"cancel"):n.ctrlKey&&n.key==="Enter"?(n.preventDefault(),"apply"):n.ctrlKey&&n.key==="ArrowUp"?(n.preventDefault(),"font-up"):n.ctrlKey&&n.key==="ArrowDown"?(n.preventDefault(),"font-down"):n.ctrlKey&&n.code==="KeyS"?(n.preventDefault(),"strikethrough"):ma.getDefaultKeyBinding(n),this.onApplyButtonClick=n=>{this.m.applyAndClose()},this.onCancelButtonClick=n=>{this.m.close()}}onViewMounted(){this.ref.current?.focus()}get dialogOpen(){return!this.m.isClosed}get randomKey(){return R5.toString()}get availableFonts(){return Gp}get editorState(){return this.m.state}get fontStyles(){return this.m.fontDecorations}get fontSizeValue(){return this.m.fontSize}get colorValue(){return this.m.fontColor}get fontValue(){return this.m.fontName}}class Ize extends qt{constructor(){super(),this.viewMountRef=_.createRef(),Rt(this,{hasSchema:mi})}onViewMountedSync(){const{scene:t}=this.m;this.viewMountRef.current?.appendChild(t.view),t.onViewMounted()}onViewUnmountedSync(){const{scene:t}=this.m;t.view.remove(),t.onViewUnmounted()}get textEditor(){return this.m.scene.textEditor}get selectedObject(){return this.m.scene.selection?.object||null}get selection(){return this.m.scene.selection}get klass(){const{m:t}=this;return t.type!=="fileSceneEditor"?t.klass:null}get schema(){return this.m.scene.schema}get hasSchema(){return!!this.schema}}function Xm({options:e,...t}){return x.jsx(xw,{fullWidth:!0,children:x.jsx(Wl,{select:!0,size:"small",...t,children:e.map(([n,r])=>x.jsx(Ss,{value:n,children:r},n))})})}function Ks({label:e,...t}){return x.jsx(Rc,{control:x.jsx(Gl,{...t}),label:e,sx:{mr:0}})}const kze=ho()(({vm:e,...t})=>x.jsx(Wl,{error:e.error,value:e.value,...t})),Ki=Wt(T5)(({vm:e,value:t,onChange:n,immediate:r,...i})=>x.jsx(fke,{onSubmit:v3,onKeyDown:e.onFormKeyDown,onBlur:e.onFormBlur,autoComplete:"off",children:x.jsx(kze,{onChange:e.onChange,fullWidth:!0,size:"small",slotProps:{htmlInput:{step:"any"}},...i})})),Pze=Wt(T5)(({vm:e,options:t,value:n,onChange:r,immediate:i,...o})=>x.jsx(xz,{inputValue:e.value,onInputChange:e.onInputChange,onBlur:e.onFormBlur,renderInput:s=>x.jsx(Wl,{...s,error:e.error,...o}),options:t,size:"small",freeSolo:!0,blurOnSelect:!0,sx:{flexGrow:1}})),Dze={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${_z.root}`]:{width:32,height:32,ml:-.5,mr:1}},Aze=Wt(ske)(({vm:e})=>x.jsxs(Tw,{anchorEl:e.anchorEl,open:e.parent.optionsMenuOpen,onClose:e.parent.onOptionsMenuClose,transformOrigin:{horizontal:"left",vertical:"bottom"},anchorOrigin:{horizontal:"left",vertical:"top"},slotProps:{paper:{elevation:0,sx:Dze}},children:[x.jsx(Ss,{disableRipple:!0,children:x.jsx(Rc,{control:x.jsx(Ks,{checked:e.popup,onChange:e.setPopup}),label:"Всплывающее окно"})}),x.jsx(Ss,{disableRipple:!0,children:x.jsx(Rc,{control:x.jsx(Ks,{checked:e.fixed,onChange:e.setFixed}),label:"Нельзя изменять размер мышкой"})}),x.jsx(Ss,{disableRipple:!0,children:x.jsx(Rc,{control:x.jsx(Ks,{checked:e.vscroll,onChange:e.setVScroll}),label:"Показывать вертикальный scroll"})}),x.jsx(Ss,{disableRipple:!0,children:x.jsx(Rc,{control:x.jsx(Ks,{checked:e.hscroll,onChange:e.setHScroll}),label:"Показывать горизонтальный scroll"})}),x.jsx(Ss,{disableRipple:!0,children:x.jsx(Rc,{control:x.jsx(Ks,{checked:e.autoorg,onChange:e.seAutoOrg}),label:"Граница по крайнему объекту"})}),x.jsx(Ss,{disableRipple:!0,children:x.jsx(Rc,{control:x.jsx(Ks,{checked:e.autoScroll,onChange:e.seAutoScroll}),label:"Автоматически пересчитывать область прокрутки"})})]})),Lze=ho()(({vm:e})=>x.jsxs(x.Fragment,{children:["x:",e.statusCursorX,", y:",e.statusCursorY,", zoom:",e.zoom,"%"]})),Nze=Wt(rke)(({vm:e})=>{const{showSchemaButtons:t}=e;return x.jsxs(x.Fragment,{children:[x.jsx(Aze,{}),x.jsx(Yn,{title:"Отменить (Ctrl+Z)",placement:"top",children:x.jsx(Gi,{component:"span",display:"flex",children:x.jsx($n,{onClick:e.onUndoButtonClick,disabled:e.undoButtonDisabled,size:"small",children:x.jsx(tRe,{})})})}),x.jsx(Yn,{title:"Повторить (Ctrl+Shift+Z)",placement:"top",children:x.jsx(Gi,{component:"span",display:"flex",children:x.jsx($n,{onClick:e.onRedoButtonClick,disabled:e.redoButtonDisabled,size:"small",children:x.jsx(KOe,{})})})}),x.jsx(Yn,{title:"Создать линию (L)",placement:"top",children:x.jsx($n,{onClick:e.onCreateLineButtonClick,size:"small",sx:{ml:2},children:x.jsx(GOe,{})})}),x.jsx(Yn,{title:"Создать прямоугольник (Q)",placement:"top",children:x.jsx($n,{onClick:e.onCreateRectButtonClick,size:"small",children:x.jsx(WOe,{})})}),x.jsx(Yn,{title:"Создать текст (T)",placement:"top",children:x.jsx($n,{onClick:e.onCreateTextButtonClick,size:"small",children:x.jsx(rOe,{})})}),x.jsx(Yn,{title:"Создать элемент ввода (I)",placement:"top",children:x.jsx($n,{onClick:e.onCreateInputButtonClick,size:"small",children:x.jsx(kOe,{})})}),x.jsx(Yn,{title:"Создать кнопку (B)",placement:"top",children:x.jsx($n,{onClick:e.onCreateButtonButtonClick,size:"small",children:x.jsx(aOe,{})})}),t&&x.jsx(Yn,{title:"Создать связь (C)",placement:"top",children:x.jsx($n,{onClick:e.onCreateConnectionButtonClick,size:"small",children:x.jsx(sOe,{})})}),t&&x.jsx(Yn,{title:"Изменить порядок имиджей (R)",placement:"top",children:x.jsx($n,{onClick:e.onReorderButtonClick,color:e.reorderButtonActive?"error":"default",size:"small",sx:{ml:2},children:x.jsx(EOe,{})})}),e.showSceneOptionsButton&&x.jsx(Yn,{title:"Свойства окна сцены",placement:"top",children:x.jsx($n,{onClick:e.onSceneOptionsButtonClick,ref:e.propsButtonRef,size:"small",sx:{ml:2},children:x.jsx(iRe,{})})}),x.jsx(Yn,{title:"Предыдущий объект (Shift+Tab)",placement:"top",children:x.jsx($n,{onClick:e.onSelectPrevObjectButtonClick,size:"small",sx:{ml:2},children:x.jsx(BOe,{})})}),x.jsx(Yn,{title:"Следующий объект (Tab)",placement:"top",children:x.jsx($n,{onClick:e.onSelectNextObjectButtonClick,size:"small",children:x.jsx(FOe,{})})}),t&&x.jsxs(x.Fragment,{children:[x.jsx(Yn,{title:`${e.showClassesCheckboxChecked?"Скрыть":"Показать"} имиджи (1)`,placement:"top",children:x.jsx(Gl,{checked:e.showClassesCheckboxChecked,onChange:e.onHideClassesCheckboxChange,checkedIcon:x.jsx(Pw,{sx:{color:"yellowgreen"}}),icon:x.jsx(XOe,{}),sx:{ml:2}})}),x.jsx(Yn,{title:`${e.showConnectionsCheckboxChecked?"Скрыть":"Показать"} связи (2)`,placement:"top",children:x.jsx(Gl,{checked:e.showConnectionsCheckboxChecked,onChange:e.onShowConnectionsCheckboxChange,checkedIcon:x.jsx(ROe,{sx:{color:"red"}}),icon:x.jsx(IOe,{})})}),x.jsx(Yn,{title:`${e.showOtherCheckboxChecked?"Скрыть":"Показать"} остальные объекты (3)`,placement:"top",children:x.jsx(Gl,{checked:e.showOtherCheckboxChecked,onChange:e.onShowOtherCheckboxChange,checkedIcon:x.jsx(hOe,{}),icon:x.jsx(fOe,{})})})]}),x.jsx(Yn,{title:`${e.selectUnselectableCheckboxChecked?"Отключить":"Включить"} выбор невыбираемых объектов (4)`,placement:"top",children:x.jsx(Gl,{checked:e.selectUnselectableCheckboxChecked,onChange:e.onSelectUnselectableCheckboxChange,checkedIcon:x.jsx(vOe,{sx:{color:"red"}}),icon:x.jsx(yOe,{})})}),x.jsx(Gi,{ml:"auto",children:x.jsx(Lze,{})}),x.jsx($n,{onClick:e.onResetZoomButtonClick,disabled:e.resetZoomButtonDisabled,size:"small",children:x.jsx(qOe,{})})]})}),Bze=Wt(ike)(({vm:e})=>x.jsx(Gi,{ml:"auto",children:e.cursorPosition})),Fze=Wt(oke)(({vm:e})=>{const{currentEditor:t}=e;return x.jsxs(zo,{display:"flex",flexGrow:0,height:25,fontSize:15,textAlign:"end",px:2,whiteSpace:"nowrap",sx:{userSelect:"none"},children:[e.showSaveButton&&x.jsx(Yn,{title:"Сохранить (Ctrl+S)",placement:"top",children:x.jsx($n,{onClick:e.onSaveButtonClick,disabled:e.saveButtonDisabled,size:"small",children:x.jsx(YOe,{})})}),t&&A$(t)&&x.jsx(Nze,{m:t}),t&&Vme(t)&&x.jsx(Bze,{m:t})]})});class jze extends qt{constructor(){super(),this.dashed=!1,this.onMouseDownCapture=t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},this.onPointerDown=t=>{switch(t.button){case 0:t.stopPropagation(),this.makeActive();return;case 1:t.preventDefault(),this.onCloseButtonClick();return}},this.onCloseButtonPointerDown=t=>{t.stopPropagation()},this.onDragStart=t=>{this.tabTransfer.put(t.dataTransfer,this,"move")},this.onDragOver=t=>{t.preventDefault();const n=t.dataTransfer;n.dropEffect=this.tabTransfer.canDrop(t.dataTransfer)?"move":"none"},this.onDragEnter=t=>{if(this.onDragOver(t),t.dataTransfer.dropEffect!=="none"){this.dashed=!0;return}this.isActive||this.makeActive()},this.onDragLeave=t=>{t.preventDefault(),t.currentTarget.contains(t.relatedTarget)||(this.dashed=!1)},this.onDrop=t=>{t.preventDefault();const n=this.tabTransfer.pop(t.dataTransfer);n&&(this.dashed=!1,this!==n&&this.parent._swapTabs(this.m,n.m))},this.onCloseButtonClick=t=>{this.m.close()},Rt(this,{dashed:Be.ref,isActive:mi,onPointerDown:_e,onDragEnter:_e,onDragLeave:_e,onDrop:_e})}makeActive(){this.parent._setCurrent(this.m)}get tabTransfer(){return this.parent.tabTransfer}get editor(){return this.m.editor}get value(){return this.m._reactKey}get _reactKey(){return this.m._reactKey}get isActive(){return this.parent.value===this.value}get title(){return this.editor.title}get hasChanges(){return this.editor.hasChanges||!1}get isDeleted(){return this.editor.isDeleted}get isReadonly(){return this.editor.isReadonly}}class Vze extends qt{constructor(){super(...arguments),this.tabTransfer=new sM("tabs")}get tabs(){return this.m.tabs}get value(){return this.m.currentTab?._reactKey||!1}_setCurrent(t){this.m.setCurrentTab(t)}_swapTabs(t,n){const r=this.m.tabs.slice(),i=r.indexOf(t),o=r.indexOf(n);r.splice(o,1),r.splice(i,0,n),this.m.reorderTabs(r)}}const $ze=Ee(_U)({maxWidth:"1rem"}),zze=Ee(kw)({maxWidth:"1rem"}),Uze=Ee(Gi,{shouldForwardProp:e=>e!=="isDeleted"})(({isDeleted:e})=>({...e&&{textDecoration:"line-through",color:"red"}})),Hze=ho()(({vm:e})=>{const{title:t,hasChanges:n,isDeleted:r,isReadonly:i}=e,o=`${t}${i&&!r?" (READONLY)":""}`;return x.jsxs(Uze,{variant:"caption",fontSize:"0.8rem",isDeleted:r,children:[o,x.jsx(Yn,{title:"Закрыть (Alt+W, Shift+W)",children:x.jsx($n,{onClick:e.onCloseButtonClick,onPointerDown:e.onCloseButtonPointerDown,component:"div",size:"small",children:n?x.jsx($ze,{}):x.jsx(zze,{})})})]})}),cI=35,Gze=Ee(GO,{shouldForwardProp:e=>e!=="dashed"&&e!=="isActive"})(({dashed:e,isActive:t})=>({maxHeight:cI,minHeight:cI,textTransform:"none",...e&&{border:"1px dashed black"},...t&&{background:"rgb(219 217 217)"}})),I5=Wt(jze)(({vm:e})=>x.jsx(Gze,{label:x.jsx(Hze,{}),draggable:!0,disableRipple:!0,dashed:e.dashed,isActive:e.isActive,onPointerDown:e.onPointerDown,onDragStart:e.onDragStart,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop}));I5.muiName="Tab";const Wze=Ee(mU,{name:"ETabsView"})({minHeight:cI,[`& .${pm.indicator}`]:{transition:"none"},[`& .${pm.scrollButtons}.${hU.disabled}`]:{opacity:.3}}),Kze=Wt(Vze)(({vm:e})=>x.jsx(Wze,{variant:"scrollable",value:e.value,children:e.tabs.map(t=>x.jsx(I5,{value:t._reactKey,m:t},t._reactKey))})),qze=Ee("div",{name:"LeftPanelToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center",[`& .${z2.root}`]:{padding:6}}),Yze=Ee(ws,{name:"MainMenuButton"})({display:"block",margin:4,padding:2,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0});class Xze extends qt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.onCollapseFilesButtonClick.dispatch()}}const Zze=Wt(Xze)(({vm:e})=>x.jsx(Yn,{title:"Свернуть список файлов",children:x.jsx($n,{onClick:e.onClick,children:x.jsx(nRe,{})})}));class Qze extends qt{constructor(){super(...arguments),this.onClick=()=>{if(this.m.player){this.m.player.maximize();return}this.m.openPlayer()}}get isPlaying(){return!!this.m.player}}const Jze=Wt(Qze)(({vm:e})=>{const{isPlaying:t}=e;return x.jsx(Yn,{title:`${t?"Развернуть проигрыватель":"Запустить проект"} (Ctrl+R)`,children:x.jsx($n,{onClick:e.onClick,color:t?"error":"default",children:x.jsx(HOe,{})})})}),eUe=9,tUe=10,nUe=0,rUe=1,iUe=3;class oUe extends HV{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Td(this._color=this.color):this._cssColor}blend(){switch(this.rop){case eUe:return"multiply";case tUe:return"multiply";default:return null}}fill(){switch(this.style){case nUe:return this.cssColor();case rUe:return null;case iUe:return this.image?.pattern()??"black";default:return"white"}}}class sUe extends GV{constructor(){super(...arguments),this._size=NaN,this._style=NaN,this._family="",this._textDecoration="",this._fontStyle="",this._fontWeight="",this._css=this.css(),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,actualSize:n,style:r}=this;return this.inputCssFont=`${r&Up?"bold":"normal"} ${r&sy?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?D0(t):t}css(){const{fontFamily:t,actualSize:n,style:r}=this;let i=!1;if(this._style!==r){this._style=r,i=!0;const o=r&sy,s=r&BP,a=r&FP,c=r&Up;this._textDecoration=`${s?"underline":""} ${a?"line-through":""}`,this._fontStyle=o?"italic":"normal",this._fontWeight=c?"bold":"normal"}return this._family!==t&&(this._family=t,i=!0),this._size!==n&&(this._size=n,i=!0),i?this._css={isSymbolFont:this.name==="Symbol",fontFamily:this._family,textDecoration:this._textDecoration,fontSize:n||15.940224159402327,fontStyle:this._fontStyle,fontWeight:this._fontWeight}:this._css}onPropsChanged(){this.inputCssFont=""}}let aUe=0;class lUe extends WV{constructor(t,n,r){super(t,n,r),this._pattern=null,this.resolvedSrc=Ps(this.src)}getPixel(){return 0}setPixel(){return!0}pattern(){if(this._pattern)return this._pattern.url;const t=document.createElementNS("http://www.w3.org/2000/svg","pattern"),n=`pattern_${++aUe}`;t.setAttribute("id",n),t.setAttribute("patternUnits","userSpaceOnUse"),t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString());const r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttribute("href",this.resolvedSrc),t.appendChild(r),this.scene._defs.appendChild(t);const i=`url(#${n})`;return this._pattern={e:t,url:i},i}}class cUe extends YV{constructor(t,n,r){super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","image"),this._visible=!0,this._src=null,this._area=null,this._x=0,this._y=0,this._w=0,this._h=0,this._angle=0,this.clipRect=null,this.hasArea=!0,this._svg.setAttribute("preserveAspectRatio","none")}_render(){const t=this.attrib,n=t&El,r=Md(t),i=!(n||1<<r&this.scene.hiddenLayers);if(this._visible!==i&&(this._visible=i,i?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!i)return;const o=this.image,s=this._src!==o.resolvedSrc;s&&this._svg.setAttribute("href",this._src=o.resolvedSrc);const a=this.area,c=!!a,u=this.hasArea!==c;this.hasArea=c;const h=this._area!==a||s;if(h){this._area=a;const v=o.width,S=o.height;if(a){const E=Math.min(Math.max(a.x,0),v),T=Math.min(Math.max(a.y,0),S),R=Math.min(Math.max(a.w,0),v-E),M=Math.min(Math.max(a.h,0),S-T);if(!this.clipRect){const{id:N,rect:D}=this.scene._createClipRect();this._svg.setAttribute("clip-path",`url(#${N})`),this.clipRect=D}const{clipRect:I}=this;I.setAttribute("x",E.toString()),I.setAttribute("y",T.toString()),I.setAttribute("width",R.toString()),I.setAttribute("height",M.toString())}else this._svg.removeAttribute("clip-path"),this.clipRect?.remove(),this.clipRect=null}const f=this.x-this.scene.x,g=this.y-this.scene.y,m=this.width,y=this.height,b=this.angle;if(f!==this._x||g!==this._y||this._w!==m||this._h!==y||this._angle!==b||h){const{area:v}=this;this._x=f,this._y=g,this._w=m,this._h=y,this._angle=b;let S=`translate(${f}, ${g}),rotate(${b*180/Math.PI})`;v?S+=`scale(${m/v.w}, ${y/v.h}), translate(${-v.x}, ${-v.y})`:(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())),this._svg.setAttribute("transform",S),u&&(c?(this._svg.removeAttribute("width"),this._svg.removeAttribute("height")):(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())))}}onPropsChanged(){}onAttribChanged(){}}const Eh={"jf-scene":"Lub8lEDq","jf-input":"_3Au4Qe-K","jf-video":"uvJsh9bM","disable-inputs":"pQtj-s3j",multiline:"_3YpK1pvi",border:"_3n6h0K3a"},uUe=64,dUe=128,hUe=8388608;class fUe extends XV{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:i=0}=r;let o;n==="Button"?(o=document.createElement("input"),o.type="button",o.addEventListener("click",this)):(o=document.createElement("textarea"),o.addEventListener("input",this)),o.className=Eh["jf-input"],o.spellcheck=!1,o.name=`jf-${this.key}`,i&hUe&&o.classList.add(Eh.border),this.isMultiline&&o.classList.add(Eh.multiline),o.addEventListener("focus",this),o.addEventListener("blur",this),this._html=o}focus(){this._html.focus()}handleEvent(t){const{scene:n,_html:r,style:i}=this;if(t.type==="input"){if(!(i&dUe)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(i&uUe)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this._html.value=this._value=this.value);const i=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y),s=Math.round(this.width),a=Math.round(this.height);this._x!==i&&n.setProperty("left",(this._x=i).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==a&&n.setProperty("height",(this._h=a).toString()+"px")}_onFontPropsChanged(){}onAttribChanged(){}onPropsChanged(){}}let pUe=0;function gUe(){const e=`mark_${++pUe}`,t=document.createElementNS("http://www.w3.org/2000/svg","marker");t.setAttribute("id",e),t.setAttribute("orient","auto"),t.setAttribute("refX","0");const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return t.appendChild(n),{shape:n,marker:t,id:e}}function k5(e,t,n,r){const i=n.width||1,o=n.stroke(),s=t.fill?o:null,a=t.fill?null:o;e.marker.setAttribute("markerWidth",(t.width+i).toString()),e.marker.setAttribute("markerHeight",(t.oy*2+i).toString()),r&&e.marker.setAttribute("refX",t.width.toString()),e.marker.setAttribute("refY",t.oy.toString()),e.marker.setAttribute("markerUnits","userSpaceOnUse"),e.shape.setAttribute("points",t.coords),e.shape.setAttribute("stroke-width",i.toString()),a?e.shape.setAttribute("stroke",a):e.shape.removeAttribute("stroke"),e.shape.setAttribute("fill",s||"none")}function P5(e,t){if(e.angle===0||e.length===0)return null;const n=Math.abs(e.length*Math.sin(e.angle)),r=Math.abs(e.length*Math.cos(e.angle)),i=t?[0,0,r,n,0,n*2]:[r,0,0,n,r,n*2];return{coords:D5(i),fill:e.fill??!1,width:r,oy:n}}function D5(e){let t="";for(let n=0;n<e.length;n+=2)t+=e[n]+","+e[n+1]+" ";return t}function A5(e){const t=document.createElementNS("http://www.w3.org/2000/svg",e);return t.setAttribute("fill-rule","evenodd"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t}class mUe extends ZV{constructor(t,n,r){super(t,n,r),this._visible=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0,this.shouldUpdateCoords=!0,this._svg=A5(this._svgType=r.brush&&n.length>4?"polygon":"polyline")}createMarker(t){const n=gUe();return this.scene._defs.appendChild(n.marker),this._svg.setAttribute(t?"marker-start":"marker-end",`url(#${n.id})`),n}_render(){const t=this.attrib,n=t&El,r=t&gc,i=Md(t),{pen:o,brush:s}=this,a=!n&&!!(o||s)&&(!!r||!(1<<i&this.scene.hiddenLayers));if(this._visible!==a&&(this._visible=a,a?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!a)return;const c=this.brush&&this.length>2?"polygon":"polyline";if(this._svgType!==c){this._svgType=c,this.shouldUpdateCoords=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0;const E=A5(c);this._svg.parentElement&&this._svg.replaceWith(E),this._svg=E}this.shouldUpdateCoords&&(this.shouldUpdateCoords=!1,this._svg.setAttribute("points",D5(this.coords)));const u=o?.width||1,h=o?.stroke()||null,f=o?.dash()||null;if(this._width!==u){this._width=u;const E=u.toString();this._svg.setAttribute("stroke-width",E),this._startMark?.shape.setAttribute("stroke-width",E),this._endMark?.shape.setAttribute("stroke-width",E)}this._stroke!==h&&(this._stroke=h,h?(this._svg.setAttribute("stroke",h),this._startMark?.shape.setAttribute("stroke",h),this._endMark?.shape.setAttribute("stroke",h)):this._svg.removeAttribute("stroke")),this._dash!==f&&(this._dash=f,f?this._svg.setAttribute("stroke-dasharray",f):this._svg.removeAttribute("stroke-dasharray"));const g=this.length>2&&s?.fill()||"none";this._fill!==g&&(this._fill=g,this._svg.setAttribute("fill",g));const m=s?.blend()||o?.blend()||null;this._blend!==m&&(this._blend=m,m?this._svg.style.setProperty("mix-blend-mode",m):this._svg.style.removeProperty("mix-blend-mode"));const y=o&&(s?null:this.start),b=o&&(s?null:this.end);if(this._start!==y){this._start=y;const E=y&&P5(y,!1);E?k5(this._startMark||=this.createMarker(!0),E,o,!0):(this._startMark?.marker.remove(),this._startMark=null)}if(this._end!==b){this._end=b;const E=b&&P5(b,!0);E?k5(this._endMark||=this.createMarker(!1),E,o,!1):(this._endMark?.marker.remove(),this._endMark=null)}const v=this.x-this.scene.x,S=this.y-this.scene.y;(v!==this._x||S!==this._y)&&(this._x=v,this._y=S,this._svg.setAttribute("transform",`translate(${v}, ${S})`))}onCoordsChanged(){this.shouldUpdateCoords=!0}onPropsChanged(){}onAttribChanged(){}_onPenPropsChanged(){}_onBrushPropsChanged(){}}const vUe=0,yUe=1,bUe=2,wUe=3,SUe=4,CUe=5,xUe=9,_Ue=10;class EUe extends QV{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Td(this._color=this.color):this._cssColor}blend(){switch(this.rop){case xUe:return"multiply";case _Ue:return"multiply";default:return null}}stroke(){return this.style===CUe?null:this.cssColor()}dash(){switch(this.style){case vUe:return null;case yUe:return"16 4";case bUe:return"2 4";case wUe:return"16 4 2 4";case SUe:return"16 4 2 4 2 4";default:return null}}}class TUe extends JV{constructor(){super(...arguments),this._text="",this._parts=[""]}split(){return this._text!==this.text?this._parts=(this._text=this.text).split(`\r
`).join(`
`).split(`
`):this._parts}}class MUe extends e${onPropsChanged(){}_onStringTextChanged(){}_onFontPropsChanged(){}}class OUe extends t${constructor(){super(...arguments),this._textCalc=null}get width(){return this._textCalc?.().w??0}get height(){return this._textCalc?.().h??0}_createPart(t){return new MUe(this,t)}onTextPartsChanged(){}}function L5(e){const t=document.createElementNS("http://www.w3.org/2000/svg","tspan");return e&&(t.setAttribute("x","0px"),t.setAttribute("dy","1.15em")),t}class RUe{constructor(t,n){this.owner=t,this.part=n,this._fragments=[],this._css=null,this._fgcolor=NaN,this.spans=n.string.split().map((r,i)=>L5(i>0))}update(){let t=!1;const{part:n,spans:r}=this,i=n.string.split(),o=n.font.css();if(this._fragments!==i){this._fragments=i,t=!0,r.length!==i.length&&(this._fgcolor=NaN);let s;for(let a=0;a<i.length;++a){if(a<r.length)s=r[a];else{const u=L5(!0);r.push(u),s.after(u),s=u,this._css=null}let c=i[a];o.isSymbolFont&&(c=n.font.transformText(c)),s.textContent=c||"​"}for(;r.length>i.length;)r.pop()?.remove()}if(this._css!==o&&(this._css=o,t=!0,r.forEach(s=>{s.setAttribute("font-family",o.fontFamily),s.setAttribute("font-size",o.fontSize.toString()),s.setAttribute("font-style",o.fontStyle),s.setAttribute("text-decoration",o.textDecoration),s.setAttribute("font-weight",o.fontWeight)})),this._fgcolor!==n.fgcolor){this._fgcolor=n.fgcolor;const s=Td(n.fgcolor)??"transparent";r.forEach(a=>a.setAttribute("fill",s))}return t}}class IUe extends r${constructor(t,n,r){if(super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","text"),this._visible=!0,this._parts=[],this._partsSVG=[],this._sizes={w:0,h:0},this._angle=0,this._x=0,this._y=0,this._svg.setAttribute("dominant-baseline","text-before-edge"),this._svg.setAttribute("alignment-baseline","text-before-edge"),this._svg.setAttribute("letter-spacing","-0.07"),this._svg.style.setProperty("white-space","pre"),this._svg.style.setProperty("user-select","none"),n._textCalc=this._calcSizes.bind(this),!r.width||!r.height){const i=r.width??n.width,o=r.height??n.height;this.updateBBox(this.x,this.y,i,o)}}_calcSizes(){const t=this.text.parts;if(!t||!this.updateParts(t))return this._sizes;const n=this._svg.parentElement;n||this.scene._root.appendChild(this._svg);const{y:r=0,width:i,height:o}=this._svg.getBBox();return n||this._svg.remove(),this._sizes={w:i,h:r+o}}updateParts(t){if(this._parts!==t){this._parts=t;const n=[];this._partsSVG=t.map(r=>{const i=new RUe(this,r);return n.push(...i.spans),i}),this._svg.replaceChildren(...n)}return this._partsSVG.reduce((n,r)=>r.update()||n,!1)}_render(){const t=this.attrib,n=t&El,r=t&gc,i=Md(t),o=this.text.parts,s=(!!r||!(n||1<<i&this.scene.hiddenLayers))&&!!o;if(this._visible!==s&&(this._visible=s,s?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!s)return;this.updateParts(o);const a=this.x-this.scene.x,c=this.y-this.scene.y,u=this.angle;(a!==this._x||c!==this._y||this._angle!==u)&&(this._x=a,this._y=c,this._angle=u,this._svg.setAttribute("transform",`translate(${a}, ${c}), rotate(${u*180/Math.PI})`))}onPropsChanged(){}onAttribChanged(){}_onTextPartsChanged(){}}function N5(e,t,n){const r=new Set(n);let i=0,o=null;t.forEach(s=>{if(r.delete(s),i<n.length&&s===n[i])++i;else{const a=o?o.nextElementSibling:e.firstElementChild;e.insertBefore("_svg"in s?s._svg:s._html,a)}o="_svg"in s?s._svg:s._html}),r.forEach(s=>("_svg"in s?s._svg:s._html).remove())}class kUe{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}}class PUe extends i${constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const i=this._html=document.createElement("video");i.className=Eh["jf-video"],i.src=Ps(n),i.controls=!ly.hideVideoControls,this.video=new kUe(i)}currentState(){const t=this._html;return t.paused?t.currentTime?"pause":"stop":"play"}setCurrentTime(t){const n=this._html;return t!==n.currentTime&&(n.currentTime=t),this}currentTime(){return this._html.currentTime}play(){const t=this._html;return t.paused&&t.play(),this}pause(){const t=this._html;return t.paused||t.pause(),this}stop(){return this.pause(),this.setCurrentTime(0),this}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this.fixed){const o=Math.round(this.width),s=Math.round(this.height);this._w!==o&&n.setProperty("width",(this._w=o).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}onAttribChanged(){}}let DUe=0;class AUe extends UV{constructor(t){super(),this.prevOrder=[],this.svgOrder=[],this.htmlOrder=[],this.bgRect=null,this._bg=null;const n=this._root=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=this.htmlRoot=document.createElement("div"),o=this.domElement=document.createElement("div");o.className=Eh["jf-scene"],n.append(r),o.append(n,i),this.init(t)}dispose(){}render(t=!1){if(!t&&!this.domElement.parentElement)return;const{background:n,prevOrder:r,svgOrder:i,_root:o,htmlOrder:s,htmlRoot:a}=this,c=n?.fill()??null;let u=!1;if(u=this._bg!==c)if(this._bg=c,c){if(!this.bgRect){const f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("width","100%"),f.setAttribute("height","100%"),this.bgRect={_svg:f}}this.bgRect._svg.setAttribute("fill",c)}else this.bgRect?._svg.remove(),this.bgRect=null;const h=this.order;if(r!==h||u){const f=this.bgRect?[this.bgRect]:[],g=[];h.forEach(m=>{"_svg"in m?f.push(m):g.push(m)}),i.length>0?N5(o,f,i):o.append(...f.map(m=>m._svg)),s.length>0?N5(a,g,s):g.length>0&&a.append(...g.map(m=>m._html)),this.svgOrder=f,this.htmlOrder=g,this.prevOrder=h}h.forEach(f=>f._render())}toSVG(t,n){const{x:r,y:i,hiddenLayers:o}=this;this.set({x:t.x,y:t.y,hiddenLayers:0}),this.render(!0);let s;return n?(s=this._root,this.dispose()):(s=this._root.cloneNode(!0),this.set({x:r,y:i,hiddenLayers:o}),t&&this.render(!0)),s.removeAttribute("style"),s.removeAttribute("class"),s.setAttribute("viewBox",`0 0 ${t.w} ${t.h}`),s}toBlob(t){const n=this.toSVG(t);n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("width",t.w+"px"),n.setAttribute("height",t.h+"px"),n.setAttribute("preserveAspectRatio","xMidYMid slice");const i=`<?xml version="1.0"?>\r
`+new XMLSerializer().serializeToString(n);return Promise.resolve(new Blob([i],{type:"image/svg+xml"}))}createLine(t,n={}){return new mUe(this,t,n)}createImageView(t,n={}){return new cUe(this,t,n)}createTextView(t,n={}){return new IUe(this,t,n)}createInput(t,n={}){return new fUe(this,t,n)}createVideo(t,n={}){return new PUe(this,t,n)}createPen(t={}){return new EUe(this,t)}createBrush(t={}){return new oUe(this,t)}createImage(t,n={}){return new lUe(this,t,n)}createString(t,n={}){return new TUe(this,t,n)}createFont(t={}){return new sUe(this,t)}createText(t,n={}){return new OUe(this,t,n)}_createClipRect(){const t=`clipPath_${++DUe}`,n=document.createElementNS("http://www.w3.org/2000/svg","clipPath");n.setAttribute("id",t);const r=document.createElementNS("http://www.w3.org/2000/svg","rect");return n.appendChild(r),this._defs.appendChild(n),{id:t,rect:r}}onDisableInputsChanged(){this.disableInputs?this.domElement.classList.add(Eh["disable-inputs"]):this.domElement.classList.remove(Eh["disable-inputs"])}_onBrushPropsChanged(){}onBackgroundChanged(){}onLayersChanged(){}onOriginChanged(){}}const LUe=AUe,B5=new WeakMap,F5=new Map;function NUe(e){const t=new LUe(e),n=uy(t.objects.values()),r=Math.abs(n.w-n.h)>50?Math.min(n.w,n.h):void 0,i={...n,w:r||n.w,h:r||n.h};return t.toSVG(i,!0)}function BUe(e,t){const n=Vp(e)||X0,{x:r,y:i}=Q0(n,t),o=`${r} ${i} 32 32`;return{src:Ps(n.src),viewBox:o}}const FUe=Ee("svg")({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"});function j5(e){return x.jsx(FUe,{width:32,height:32,viewBox:"0 0 32 32",preserveAspectRatio:"xMidYMid slice",...e})}function TS({sceneData:e}){let t=B5.get(e);return t||(t=NUe(e),B5.set(e,t)),x.jsx(j5,{ref:n=>n?.replaceChildren(t.cloneNode(!0))})}function uI({icon:{atlas:e="",index:t=0}}){const n=e+t;let r=F5.get(n);return r||(r=BUe(e,t),F5.set(n,r)),x.jsx(j5,{viewBox:r.viewBox,children:x.jsx("image",{href:r.src})})}const V5=Ee(oOe)({opacity:.8}),$5=Ee(OOe)({opacity:.8}),z5=Ee(oR,{name:"SchemaTreeView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${kc.content}`]:{padding:"0px 2px",margin:e.spacing(.2,0),[`& .${kc.label}`]:e.typography.body2},[`& .${kc.groupTransition}`]:{marginLeft:15,borderLeft:"1px dashed rgba(0, 0, 0, 0.4)"},[`& .${kc.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class jUe extends qt{constructor(t){super(),this.ctx=t,this.onDoubleClick=n=>{n.stopPropagation(),this.ctx.project.focusOnNode(this.m,!0)},Rt(this,{canExpand:mi,onDoubleClick:!1})}get image(){return this.m.klass.imageData}get icon(){return this.m.klass.icon}get canExpand(){return this.m.children.list.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children.list}}class VUe extends qt{constructor(t){super(),this.ctx=t,this.selectedItem=null,this.apiRef=_.createRef(),this.onNodeSelectedOnScene=n=>{const r=n.itemId,i=this.getItemById(r);if(!i)return;const o=new Set(this.expandedItems);let s=i;for(;s.parent;)o.add(s.parent.itemId),s=s.parent;this.selectedItem=r,this.expandedItems=Array.from(o);const a=document.activeElement;this.apiRef.current?.focusItem(null,n.itemId),a instanceof HTMLElement&&a.focus()},this.onExpandedItemsChange=(n,r)=>{if(n?.type==="keydown"&&n.key==="Enter"){const{expandedItems:i}=this;let o;r.length>i.length?o=r.find(s=>!i.includes(s)):o=i.find(s=>!r.includes(s)),o&&this.onSelectedItemChange(n,o);return}this.expandedItems=r},this.onSelectedItemChange=(n,r)=>{if(this.selectedItem=r,!r)return;const i=this.getItemById(r);i&&this.ctx.project.focusOnNode(i)},this.onDescendantsDeleted=n=>{const r=new Set(pP(n,i=>i.itemId));this.expandedItems=this.expandedItems.filter(i=>!r.has(i))},this.expandedItems=[this.m.itemId],Rt(this,{expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:_e,onSelectedItemChange:_e})}onViewMountedSync(){this.m.onDescendantsDeleted.add(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.add(this.onNodeSelectedOnScene)}onViewUnmountedSync(){this.m.onDescendantsDeleted.remove(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.remove(this.onNodeSelectedOnScene)}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const i of r.children.list){const o=n(i);if(o)return o}return null})(this.m)}}const $Ue=Wt(VUe)(({vm:e,m:t,hidden:n})=>x.jsx(z5,{hidden:n,apiRef:e.apiRef,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:V5,collapseIcon:$5},onContextMenu:Rb,children:x.jsx(U5,{m:t})})),U5=Wt(jUe)(({vm:e})=>{const{image:t}=e;return x.jsx(Pu,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(TS,{sceneData:t}):x.jsx(uI,{icon:e.icon}),e.label]}),onDoubleClick:e.onDoubleClick,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(zUe,{})})}),zUe=ho()(({vm:e})=>e.children.map(t=>x.jsx(U5,{m:t},t.itemId)));class UUe extends qt{constructor(){super(...arguments),this.onClick=()=>this.m.sync()}get isSyncing(){return this.m.isSyncing}get changesList(){return this.m.changesList}}const HUe={bgcolor:Ll[500],"&:hover":{bgcolor:Ll[700]}},GUe={bgcolor:wu[700],"&:hover":{bgcolor:wu[800]}},H5={width:"0.5em",height:"0.5em",color:"white"},WUe={color:Ll[500],position:"absolute",top:-2,left:-2,zIndex:1},KUe=x.jsx(RU,{sx:H5}),qUe=x.jsx(CU,{sx:H5});function YUe({title:e}){return x.jsx(Gi,{variant:"caption",whiteSpace:"pre-wrap",children:e})}const XUe=Wt(UUe)(({vm:e})=>{const{isSyncing:t,changesList:n}=e,r=!t&&!n.length,i=t?"Идет синхронизация...":n.length?`Изменения:
`+n.join(`
`):"Все библиотеки синхронизированы";return x.jsxs(zo,{position:"relative",ml:1,children:[x.jsx(Yn,{title:x.jsx(YUe,{title:i}),children:x.jsx($n,{onClick:e.onClick,sx:r?HUe:GUe,children:r?qUe:KUe})}),t&&x.jsx(xf,{size:32,sx:WUe})]})}),ZUe=Ee(oR,{name:"EVFSView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${kc.content}`]:{padding:"0px 2px",[`& .${kc.label}`]:e.typography.body2},[`& .${kc.groupTransition}`]:{marginLeft:12},[`& .${kc.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class QUe extends qt{constructor(t){super(),this.selectedItem=null,this.autoCollapsed=!1,this.onExpandedItemsChange=(r,i)=>{this._expandedItems=i,this.autoCollapsed=!1},this.onSelectedItemsChange=(r,i)=>{if(this.selectItem(i),!i)return;const o=this.getItemById(i);if(o?.type!=="file")return;const{project:s}=this.ctx,{klass:a}=o;if(r&&"ctrlKey"in r&&r.ctrlKey){a&&(a.hasCode||!a.isReadonly)&&s.openKlassCode(a);return}if(r&&"shiftKey"in r&&r.shiftKey){a&&(a.hasScene||!a.isReadonly)&&s.openKlassScene(a);return}s.openFile(o)},this.collapse=()=>{this._expandedItems=[],this.autoCollapsed=!1},this.onDescendantsDeleted=r=>{const i=new Set(pP(r,o=>o.itemId));this._expandedItems=this._expandedItems.filter(o=>!i.has(o)),this.autoCollapsed=!1},this.ctx={...t,vfs:this,fileDirTransfer:new sM("fileDir"),_dragStartTimeStamp:0};const{libs:n}=this.m;this._expandedItems=n.length?[n[0].rootDir.itemId]:[],Rt(this,{_expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:_e,selectItem:_e,expandItem:_e,expandAll:_e,collapse:_e,onSelectedItemsChange:!1})}onViewMountedSync(){this.ctx.project.onCollapseFilesButtonClick.add(this.collapse),this.m.onDirsRemoved.add(this.onDescendantsDeleted),this.autorun(()=>{this.ctx.project.vfsFilter.text.length>1&&this.expandAll()})}onViewUnmountedSync(){this.ctx.project.onCollapseFilesButtonClick.remove(this.collapse),this.m.onDirsRemoved.remove(this.onDescendantsDeleted)}get expandedItems(){return this.ctx.project.vfsFilter.text.length<2&&this.autoCollapsed?[]:this._expandedItems}get libs(){return this.m.libs}selectItem(t){this.selectedItem=t}expandItem(t){this._expandedItems.includes(t)||(this._expandedItems=this._expandedItems.concat(t),this.autoCollapsed=!1)}expandAll(){const t=[];function n(r){t.push(r.itemId),r.dirs.forEach(n)}this.libs.forEach(r=>n(r.rootDir)),this._expandedItems=t,this.autoCollapsed=!0}getItemById(t){function n(r){if(r.itemId===t)return r;for(const i of r.files)if(i.itemId===t)return i;for(const i of r.dirs){const o=n(i);if(o)return o}return null}for(const r of this.libs){const i=n(r.rootDir);if(i)return i}return null}}function Na(e){return _.createElement(e,{fontSize:"small"})}function G5(e){return[{title:"Переименовать",icon:Na(_U),action:e.startRenaming},{title:"Удалить",icon:Na(gOe),action:e.deleteWithConfirm}]}function JUe(e){return[{title:"Папка",icon:Na(pOe),action:e.createNewDir},{title:"Имидж",icon:Na(uOe),action:Vq(e.createClass)},{title:"Сцена",icon:Na(IU),action:e.createScene},{title:"Матрица",icon:Na(MU),action:e.createMatrix},{title:"Текстовый файл",icon:Na(OU),action:e.createTextFile},{title:"Загрузить файлы",icon:Na(rRe),action:e.openUploadDialog}]}function eHe(e,t){const{isSearchDir:n}=e;return{title:n?"Исключить из путей поиска имиджей":"Добавить в пути поиска имиджей",icon:Na(n?QOe:ZOe),action:(n?t.removeKlassSearchDir:t.addKlassSearchDir).bind(t,e)}}function W5(e){return{title:"Скопировать относительный путь",icon:Na(wOe),action:jq.bind(null,e)}}function tHe(e,t){const{isReadonly:n,hasScene:r}=e,i=[],o=n?r?"Просмотр схемы":"":r?"Редактировать схему":"Создать схему";o&&i.push({title:o+" (Shift+Click)",icon:Na(Pw),action:t.openKlassScene.bind(t,e)});const s=n?e.hasCode?"Просмотр кода":"":"Редактировать код";return s&&i.push({title:s+" (Ctrl+Click)",icon:Na(xU),action:t.openKlassCode.bind(t,e)}),i}const Jf=new WeakSet;class nHe extends qt{constructor(t){super(),this.ctx=t,this.contentRef=_.createRef(),this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;(!(n.files.length||n.dirs.length)||window.confirm(`Удалить ${n.name}?`))&&n.remove()},this.createNewDir=()=>{const n=Wh(this.m,"Новая папка"),r=this.m.createDir(n);this.expand(),Jf.add(r)},this.createClass=()=>{const n=window.prompt("Имя имиджа")?.split(" ").join("");if(!n)return;const{project:r}=this.ctx;try{r.createNewKlass(n,this.m)}catch(i){if(!(i instanceof rs))throw i;alert(i.message)}},this.createScene=()=>{const n=Wh(this.m,"scene","vdr"),r=this.m.createFile(n,{scene:Uq});this.expand(),Jf.add(r)},this.createMatrix=()=>{const n=Wh(this.m,"matrix","mat"),r=this.m.createFile(n,{mat:zq});this.expand(),Jf.add(r)},this.createTextFile=()=>{const n=Wh(this.m,"Новый текстовый файл","txt"),r=this.m.createFile(n,{base64:""});this.expand(),Jf.add(r)},this.openUploadDialog=()=>{const n=document.createElement("input");n.onchange=()=>this.uploadFiles(n.files),n.type="file",n.multiple=!0,n.accept="image/*, video/*, audio/*, font/*, .cur, .ico",n.click()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,i=n.clientY-6,{m:o}=this,s=[...o.canCreateFiles?JUe(this):[],...o.canEdit?G5(this):[],...o.canAddToSearchDir?[eHe(o,this.ctx.project)]:[],...o.hasRelativePath?[W5(o)]:[]];s.length&&this.ctx.app.ctxMenu.open(r,i,s)},this.onDragStart=n=>{n.stopPropagation(),this.ctx._dragStartTimeStamp=0;const r=n.dataTransfer;this.ctx.fileDirTransfer.put(r,this.m,"move");const i=this.contentRef.current?.querySelector(`.${kc.label}`);i&&r.setDragImage(i,0,0)},this.onDragOver=n=>{n.preventDefault(),n.stopPropagation();const r=n.dataTransfer;if(r.dropEffect="none",!this.m.canCreateFiles)return;const i=this.ctx.fileDirTransfer.get(r);if(i){if(i.type==="dir"&&this.m.hasAncestor(i))return;r.dropEffect="move"}else if(r.types.some(s=>s==="Files"))r.dropEffect="copy";else return;this.ctx.vfs.selectItem(this.itemId);const{_dragStartTimeStamp:o}=this.ctx;o?(!this.m.parent||n.timeStamp-o>500)&&(this.expand(),this.ctx._dragStartTimeStamp=1/0):this.ctx._dragStartTimeStamp=n.timeStamp},this.onDragLeave=()=>{this.ctx._dragStartTimeStamp=0},this.onDrop=n=>{n.stopPropagation(),n.preventDefault();const r=n.dataTransfer,i=this.ctx.fileDirTransfer.pop(r);if(i){try{this.m.insertEntry(i)}catch(o){alert(o.message);return}this.ctx.vfs.selectItem(i.itemId)}else this.uploadFiles(r.files);this.expand()},this.isRenaming=Jf.delete(this.m),Rt(this,{isRenaming:Be.ref,canExpand:mi,startRenaming:_e,renameEntry:_e,createClass:_e,createMatrix:_e,createNewDir:_e,createScene:_e,createTextFile:_e,deleteWithConfirm:_e,uploadFiles:Mi,openUploadDialog:!1,onContextMenu:!1,onDragLeave:!1,onDragOver:!1,onDragStart:!1,onDrop:!1})}get itemId(){return this.m.itemId}get label(){return this.m.name}get draggable(){return!this.isRenaming&&this.m.canEdit}get filteredDirs(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.dirs.filter(n=>t.isDirPassing(n)):this.m.dirs}get filteredFiles(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.files.filter(n=>t.isFilePassing(n)):this.m.files}get canExpand(){return this.filteredFiles.length>0||this.filteredDirs.length>0}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){alert(n.message)}}*uploadFiles(t){if(!t.length)return;const n=this.ctx.project.getFileUploader(this.m.lib);if(!n)return;const r=yield n.upload([...t]);let i=null;for(const o of r){const{base:s,ext:a}=Iq(o.file.name),c=Wh(this.m,s,a);i=this.m.createFile(c,o.data).itemId}i&&this.ctx.vfs.selectItem(i)}expand(){this.ctx.vfs.expandItem(this.itemId)}}class rHe extends qt{constructor(){super(),this.inputRef=_.createRef(),this.onInputBlur=({target:t})=>{this.parent.renameEntry(t.value)},this.onFormKeyDown=t=>{t.stopPropagation(),t.code==="Escape"&&(t.preventDefault(),this.parent.renameEntry(""))},Rt(this,{onFormKeyDown:_e,onInputBlur:_e})}onViewMounted(){const t=this.inputRef.current;if(!t)return;t.focus();const n=t.value.lastIndexOf(".");n>0?t.setSelectionRange(0,n):t.select()}get defaultValue(){return this.parent.m.name}}class iHe extends qt{constructor(t){super(),this.ctx=t,this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;window.confirm(`Удалить ${n.name}?`)&&n.remove()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,i=n.clientY-6,{m:o}=this,{klass:s}=o,a=[...s?tHe(s,this.ctx.project):[],...o.canEdit?G5(this):[],...o.hasRelativePath?[W5(o)]:[]];a.length&&this.ctx.app.ctxMenu.open(r,i,a)},this.onDragStart=n=>{this.ctx._dragStartTimeStamp=0,n.stopPropagation();const r=n.dataTransfer,{m:i}=this,{canEdit:o}=i;o&&this.ctx.fileDirTransfer.put(r,i,"move"),this.ctx.project.vfsFileTransfer.put(r,i,o?"linkMove":"link")},this.isRenaming=Jf.delete(this.m),Rt(this,{isRenaming:Be.ref,startRenaming:_e,renameEntry:_e,deleteWithConfirm:_e,onContextMenu:!1,onDragStart:!1})}get itemId(){return this.m.itemId}get label(){const{klass:t}=this.m;if(!t)return this.m.name;const{vfsFilter:n}=this.ctx.project;return n.type==="klass"?t.name:`${this.m.name} (${t.name})`}get draggable(){return!this.isRenaming}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){if(!(n instanceof rs))throw n;alert(n.message)}}}class oHe extends qt{constructor(){super(...arguments),this.onSearchFieldChange=t=>{this.m.setText(t.target.value)},this.onMenuItemClick=(t,n)=>{this.m.setType(t)},this.onClose=(t,n)=>{this.props.onClose()}}get searchFieldValue(){return this.m.text}get activeValue(){return this.m.type}get items(){return[{value:"all",title:"Все файлы"},{value:"klass",title:"Имиджи"},{value:"image",title:"Изображения"}]}}const K5=Wt(rHe)(({vm:e})=>x.jsx("form",{onSubmit:v3,onKeyDown:e.onFormKeyDown,children:x.jsx("input",{ref:e.inputRef,defaultValue:e.defaultValue,onBlur:e.onInputBlur})})),sHe=ho()(({vm:{m:e}})=>{const{klass:t}=e;if(t){const{imageData:r}=t;return r?x.jsx(TS,{sceneData:r}):x.jsx(uI,{icon:t.icon})}const{scene:n}=e;if(n){const r=n.data.data;return r?.objects?.length?x.jsx(TS,{sceneData:r}):x.jsx(IU,{})}return e.image?x.jsx(NIe,{src:Ps(e.image.src)}):e.binary?e.binary.isTextFile?x.jsx(OU,{}):x.jsx(jOe,{}):e.matrix?x.jsx(MU,{}):e.stt?x.jsx(RU,{}):e.video?x.jsx(VOe,{}):e.audio?x.jsx(lOe,{}):e.cursor?x.jsx(NOe,{}):e.ttf?x.jsx(COe,{}):x.jsx(cOe,{})}),aHe=Wt(QUe)(({vm:e,hidden:t})=>x.jsx(uM,{value:e.ctx,children:x.jsx(ZUe,{hidden:t,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:x.jsx(cHe,{})})})),q5=Wt(nHe)(({vm:e})=>x.jsx(Pu,{ref:e.contentRef,itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(K5,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsxs(x.Fragment,{children:[x.jsx(uHe,{}),x.jsx(dHe,{})]})})),lHe=Wt(iHe)(({vm:e})=>x.jsx(Pu,{itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?x.jsx(K5,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,slots:{icon:sHe}})),cHe=ho()(({vm:e})=>e.libs.map(({rootDir:t})=>x.jsx(q5,{m:t},t.itemId))),uHe=ho()(({vm:e})=>e.filteredDirs.map(t=>x.jsx(q5,{m:t},t.itemId))),dHe=ho()(({vm:e})=>e.filteredFiles.map(t=>x.jsx(lHe,{m:t},t.itemId))),hHe="filter-filter-search-field",fHe={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${_z.root}`]:{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:227,width:15,height:15,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}},pHe=Wt(oHe)(({vm:e,open:t,anchorEl:n})=>{const r=Zye();return x.jsxs(Tw,{anchorEl:n,open:t,onClose:e.onClose,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"left",vertical:"bottom"},slotProps:{paper:{elevation:0,sx:fHe}},children:[x.jsx(Ss,{onFocus:r.onFocus,selected:!0,disableRipple:!0,sx:{bgcolor:"transparent"},children:x.jsx(Wl,{onFocus:Yye,inputRef:r.ref,value:e.searchFieldValue,onChange:e.onSearchFieldChange,label:"Имя файла",id:hHe,spellCheck:!1,autoFocus:!1,autoComplete:"off"})}),e.items.map((i,o)=>x.jsxs(Ss,{onClick:e.onMenuItemClick.bind(null,i.value),children:[i.value===e.activeValue&&x.jsx(_w,{children:x.jsx(CU,{fontSize:"small"})}),i.title]},o))]})});class gHe extends qt{constructor(){super(...arguments),this.onClick=t=>{this.props.onClick()}}get badgeVisible(){return this.m.isActive}}const mHe=Wt(gHe)(({vm:e,buttonRef:t})=>x.jsx(Yn,{title:"Фильтр файлов (Ctrl+F)",children:x.jsx($n,{ref:t,onClick:e.onClick,children:x.jsx(om,{invisible:!e.badgeVisible,color:"warning",variant:"dot",children:x.jsx(SOe,{})})})}));function vHe(){const{mainMenuVisible:e}=nl(),{projectFile:t}=bM(),n=t.path,r=t.parent.path;return x.jsx(Yze,{variant:"outlined",title:n,onClick:e.setTrue,children:r})}function yHe(){const{leftPanelMinimized:e}=nl();return x.jsx(Yn,{title:"Показать левую панель (Ctrl+Shift+F)",followCursor:!0,placement:"right",children:x.jsx(uH,{onClick:e.setFalse,size:"small",children:x.jsx(SU,{})})})}function bHe(){const{leftPanelMinimized:e}=nl();return x.jsx(Yn,{title:"Скрыть левую панель (Ctrl+Shift+F)",children:x.jsx($n,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx(wU,{})})})}const wHe=kg(()=>{const{activeLeftPanelActiveView:e}=nl(),{current:t}=e,n=(r,i)=>{i&&e.set(i)};return x.jsxs(bU,{value:t,exclusive:!0,fullWidth:!0,onChange:n,sx:{},children:[x.jsx(KO,{value:"schema",title:"Схема проекта",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(Pw,{fontSize:"small"})}),x.jsx(KO,{value:"files",title:"Файлы",size:"small",sx:{width:"fit-content",border:"none"},children:x.jsx(EU,{fontSize:"small"})})]})}),SHe=kg(()=>{const e=_.useRef(null),{syncer:t,player:n,vfsFilter:r,vfsFilterVisible:i}=bM(),o=nl().activeLeftPanelActiveView.current==="files";return x.jsxs(qze,{children:[x.jsx(XUe,{m:t}),x.jsx(Jze,{m:n}),x.jsx(wHe,{}),o&&x.jsxs(x.Fragment,{children:[x.jsx(mHe,{m:r,onClick:i.setTrue,buttonRef:e}),x.jsx(pHe,{m:r,open:i.isTrue,onClose:i.setFalse,anchorEl:e.current}),x.jsx(Zze,{})]}),x.jsx(bHe,{})]})}),CHe=kg(()=>{const{leftPanelMinimized:e,activeLeftPanelActiveView:t}=nl(),{vfs:n,schema:r}=bM();return x.jsxs(lR,{reverse:!0,width:240,minimized:e.isTrue,button:x.jsx(yHe,{}),children:[x.jsx(vHe,{}),x.jsx(ol,{}),x.jsx(SHe,{}),x.jsx(ol,{}),x.jsx(aHe,{m:n,hidden:t.current!=="files"}),x.jsx($Ue,{m:r,hidden:t.current!=="schema"})]})});class xHe extends qt{constructor(){super(...arguments),this.beforeMount=t=>{t.languages.register({id:"stratumDSL"}),t.languages.setMonarchTokensProvider("stratumDSL",{defaultToken:"invalid",ignoreCase:!0,keywords:["HANDLE","STRING","FLOAT","COLORREF","local","if","else","while","exit","init","endif"],operators:[":=","==","!=","<","<=",">",">=","&&","||","!","+","-","*","/","%"],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],tokenizer:{root:[[/\b(?:HANDLE|STRING|FLOAT|COLORREF|local|if|else|while|exit|init|endif)\b/,"keyword"],[/\b\d+\.?\d*\b/,"number"],[/".*?"/,"string"],[/\/\*/,"comment","@comment"],[/\/\/.*/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[:=<>!\+\-\*\/&|]+/,"operator"],[/\b[A-Za-z_][A-Za-z0-9_]*(?=\s*\()/,"type.identifier"],[/\b[A-Za-z_][A-Za-z0-9_]*\b/,"identifier"]],comment:[[/.*?\*\//,"comment","@pop"],[/./,"comment"]]}})},this.onMount=(t,n)=>{t.onDidChangeCursorPosition(this.onDidChangeCursorPosition)},this.onDidChangeCursorPosition=t=>{const n=t.position.lineNumber,r=t.position.column;this.m.setCursorPosition(n,r)},this.onChange=(t="",n)=>{this.m.setCurrentText(t)},this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,i=n[n.length-1].length+1;this.m.setCursorPosition(r,i)}}function _He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y5(Object(n),!0).forEach(function(r){_He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EHe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function THe(e,t){if(e==null)return{};var n=EHe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MHe(e,t){return OHe(e)||RHe(e,t)||IHe(e,t)||kHe()}function OHe(e){if(Array.isArray(e))return e}function RHe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function IHe(e,t){if(e){if(typeof e=="string")return Z5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z5(e,t)}}function Z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PHe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(n),!0).forEach(function(r){PHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DHe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function Zm(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(n,[].concat(i,a))}}}function MS(e){return{}.toString.call(e).includes("Object")}function AHe(e){return!Object.keys(e).length}function Qm(e){return typeof e=="function"}function LHe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function NHe(e,t){return MS(t)||zu("changeType"),Object.keys(t).some(function(n){return!LHe(e,n)})&&zu("changeField"),t}function BHe(e){Qm(e)||zu("selectorType")}function FHe(e){Qm(e)||MS(e)||zu("handlerType"),MS(e)&&Object.values(e).some(function(t){return!Qm(t)})&&zu("handlersType")}function jHe(e){e||zu("initialIsRequired"),MS(e)||zu("initialType"),AHe(e)&&zu("initialContent")}function VHe(e,t){throw new Error(e[t]||e.default)}var $He={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},zu=Zm(VHe)($He),OS={changes:NHe,selector:BHe,handler:FHe,initial:jHe};function zHe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};OS.initial(e),OS.handler(t);var n={current:e},r=Zm(GHe)(n,t),i=Zm(HHe)(n),o=Zm(OS.changes)(e),s=Zm(UHe)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return OS.selector(u),u(n.current)}function c(u){DHe(r,i,o,s)(u)}return[a,c]}function UHe(e,t){return Qm(t)?t(e.current):t}function HHe(e,t){return e.current=J5(J5({},e.current),t),t}function GHe(e,t,n){return Qm(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var WHe={create:zHe},KHe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function qHe(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return t.apply(n,[].concat(i,a))}}}function YHe(e){return{}.toString.call(e).includes("Object")}function XHe(e){return e||tW("configIsRequired"),YHe(e)||tW("configType"),e.urls?(ZHe(),{paths:{vs:e.urls.monacoBase}}):e}function ZHe(){console.warn(eW.deprecation)}function QHe(e,t){throw new Error(e[t]||e.default)}var eW={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},tW=qHe(QHe)(eW),JHe={config:XHe},eGe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,s){return s(o)},i)}};function nW(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],nW(e[n],t[n]))}),X5(X5({},e),t)}var tGe={type:"cancelation",msg:"operation is manually canceled"};function dI(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(tGe):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var nGe=WHe.create({config:KHe,isInitialized:!1,resolve:null,reject:null,monaco:null}),rW=MHe(nGe,2),Jm=rW[0],RS=rW[1];function rGe(e){var t=JHe.config(e),n=t.monaco,r=THe(t,["monaco"]);RS(function(i){return{config:nW(i.config,r),monaco:n}})}function iGe(){var e=Jm(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(RS({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),dI(hI);if(window.monaco&&window.monaco.editor)return iW(window.monaco),e.resolve(window.monaco),dI(hI);eGe(oGe,aGe)(lGe)}return dI(hI)}function oGe(e){return document.body.appendChild(e)}function sGe(e){var t=document.createElement("script");return e&&(t.src=e),t}function aGe(e){var t=Jm(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=sGe("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function lGe(){var e=Jm(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){iW(n),e.resolve(n)},function(n){e.reject(n)})}function iW(e){Jm().monaco||RS({monaco:e})}function cGe(){return Jm(function(e){var t=e.monaco;return t})}var hI=new Promise(function(e,t){return RS({resolve:e,reject:t})}),oW={config:rGe,init:iGe,__getMonacoInstance:cGe},uGe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},fI=uGe,dGe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},hGe=dGe;function fGe({children:e}){return Vn.createElement("div",{style:hGe.container},e)}var pGe=fGe,gGe=pGe;function mGe({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:s}){return Vn.createElement("section",{style:{...fI.wrapper,width:e,height:t},...s},!n&&Vn.createElement(gGe,null,r),Vn.createElement("div",{ref:i,style:{...fI.fullWidth,...!n&&fI.hide},className:o}))}var vGe=mGe,sW=_.memo(vGe);function yGe(e){_.useEffect(e,[])}var aW=yGe;function bGe(e,t,n=!0){let r=_.useRef(!0);_.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var qs=bGe;function ev(){}function ep(e,t,n,r){return wGe(e,r)||SGe(e,t,n,r)}function wGe(e,t){return e.editor.getModel(lW(e,t))}function SGe(e,t,n,r){return e.editor.createModel(t,n,r?lW(e,r):void 0)}function lW(e,t){return e.Uri.parse(t)}function CGe({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:h="Loading...",options:f={},height:g="100%",width:m="100%",className:y,wrapperProps:b={},beforeMount:v=ev,onMount:S=ev}){let[E,T]=_.useState(!1),[R,M]=_.useState(!0),I=_.useRef(null),N=_.useRef(null),D=_.useRef(null),L=_.useRef(S),A=_.useRef(v),$=_.useRef(!1);aW(()=>{let K=oW.init();return K.then(z=>(N.current=z)&&M(!1)).catch(z=>z?.type!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>I.current?q():K.cancel()}),qs(()=>{if(I.current&&N.current){let K=I.current.getOriginalEditor(),z=ep(N.current,e||"",r||n||"text",o||"");z!==K.getModel()&&K.setModel(z)}},[o],E),qs(()=>{if(I.current&&N.current){let K=I.current.getModifiedEditor(),z=ep(N.current,t||"",i||n||"text",s||"");z!==K.getModel()&&K.setModel(z)}},[s],E),qs(()=>{let K=I.current.getModifiedEditor();K.getOption(N.current.editor.EditorOption.readOnly)?K.setValue(t||""):t!==K.getValue()&&(K.executeEdits("",[{range:K.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),K.pushUndoStop())},[t],E),qs(()=>{I.current?.getModel()?.original.setValue(e||"")},[e],E),qs(()=>{let{original:K,modified:z}=I.current.getModel();N.current.editor.setModelLanguage(K,r||n||"text"),N.current.editor.setModelLanguage(z,i||n||"text")},[n,r,i],E),qs(()=>{N.current?.editor.setTheme(u)},[u],E),qs(()=>{I.current?.updateOptions(f)},[f],E);let F=_.useCallback(()=>{if(!N.current)return;A.current(N.current);let K=ep(N.current,e||"",r||n||"text",o||""),z=ep(N.current,t||"",i||n||"text",s||"");I.current?.setModel({original:K,modified:z})},[n,t,i,e,r,o,s]),H=_.useCallback(()=>{!$.current&&D.current&&(I.current=N.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...f}),F(),N.current?.editor.setTheme(u),T(!0),$.current=!0)},[f,u,F]);_.useEffect(()=>{E&&L.current(I.current,N.current)},[E]),_.useEffect(()=>{!R&&!E&&H()},[R,E,H]);function q(){let K=I.current?.getModel();a||K?.original?.dispose(),c||K?.modified?.dispose(),I.current?.dispose()}return Vn.createElement(sW,{width:m,height:g,isEditorReady:E,loading:h,_ref:D,className:y,wrapperProps:b})}var xGe=CGe;_.memo(xGe);function _Ge(e){let t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}var EGe=_Ge,IS=new Map;function TGe({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:s="light",line:a,loading:c="Loading...",options:u={},overrideServices:h={},saveViewState:f=!0,keepCurrentModel:g=!1,width:m="100%",height:y="100%",className:b,wrapperProps:v={},beforeMount:S=ev,onMount:E=ev,onChange:T,onValidate:R=ev}){let[M,I]=_.useState(!1),[N,D]=_.useState(!0),L=_.useRef(null),A=_.useRef(null),$=_.useRef(null),F=_.useRef(E),H=_.useRef(S),q=_.useRef(),K=_.useRef(r),z=EGe(o),Z=_.useRef(!1),ee=_.useRef(!1);aW(()=>{let Y=oW.init();return Y.then(J=>(L.current=J)&&D(!1)).catch(J=>J?.type!=="cancelation"&&console.error("Monaco initialization: error:",J)),()=>A.current?U():Y.cancel()}),qs(()=>{let Y=ep(L.current,e||r||"",t||i||"",o||n||"");Y!==A.current?.getModel()&&(f&&IS.set(z,A.current?.saveViewState()),A.current?.setModel(Y),f&&A.current?.restoreViewState(IS.get(o)))},[o],M),qs(()=>{A.current?.updateOptions(u)},[u],M),qs(()=>{!A.current||r===void 0||(A.current.getOption(L.current.editor.EditorOption.readOnly)?A.current.setValue(r):r!==A.current.getValue()&&(ee.current=!0,A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),A.current.pushUndoStop(),ee.current=!1))},[r],M),qs(()=>{let Y=A.current?.getModel();Y&&i&&L.current?.editor.setModelLanguage(Y,i)},[i],M),qs(()=>{a!==void 0&&A.current?.revealLine(a)},[a],M),qs(()=>{L.current?.editor.setTheme(s)},[s],M);let ie=_.useCallback(()=>{if(!(!$.current||!L.current)&&!Z.current){H.current(L.current);let Y=o||n,J=ep(L.current,r||e||"",t||i||"",Y||"");A.current=L.current?.editor.create($.current,{model:J,automaticLayout:!0,...u},h),f&&A.current.restoreViewState(IS.get(Y)),L.current.editor.setTheme(s),a!==void 0&&A.current.revealLine(a),I(!0),Z.current=!0}},[e,t,n,r,i,o,u,h,f,s,a]);_.useEffect(()=>{M&&F.current(A.current,L.current)},[M]),_.useEffect(()=>{!N&&!M&&ie()},[N,M,ie]),K.current=r,_.useEffect(()=>{M&&T&&(q.current?.dispose(),q.current=A.current?.onDidChangeModelContent(Y=>{ee.current||T(A.current.getValue(),Y)}))},[M,T]),_.useEffect(()=>{if(M){let Y=L.current.editor.onDidChangeMarkers(J=>{let he=A.current.getModel()?.uri;if(he&&J.find(ge=>ge.path===he.path)){let ge=L.current.editor.getModelMarkers({resource:he});R?.(ge)}});return()=>{Y?.dispose()}}return()=>{}},[M,R]);function U(){q.current?.dispose(),g?f&&IS.set(o,A.current.saveViewState()):A.current.getModel()?.dispose(),A.current.dispose()}return Vn.createElement(sW,{width:m,height:y,isEditorReady:M,loading:c,_ref:$,className:b,wrapperProps:v})}var MGe=TGe,OGe=_.memo(MGe),RGe=OGe;const IGe=Wt(xHe)(({vm:e})=>x.jsx(RGe,{defaultLanguage:"stratumDSL",defaultValue:e.defaultValue,onChange:e.onChange,beforeMount:e.beforeMount,onMount:e.onMount,options:{readOnly:e.readOnly,readOnlyMessage:{value:"Имидж доступен только для чтения"}}})),kGe=Ee("div",{name:"EPlayerDialogContent",slot:"windowContainer"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden",display:"flex",[`& .${t3.root}`]:{flexGrow:1}});class PGe extends qt{constructor(){super(),this.onCloseButtonClick=()=>{this.m.player?.close()},this.onPlayButtonClick=()=>{this.m.player?.continue()},this.onPauseButtonClick=()=>{this.m.player?.pause()},this.onStepButtonClick=()=>{this.m.player?.pause(),this.m.player?.step()},this.onMinimizeButtonClick=()=>{this.m.player?.minimize()}}get dialogOpen(){const{player:t}=this.m;return!!t&&!t.isMinimized}get iterationCount(){return this.m.player?.iterationCount||0}get iterationPerSecond(){return this.m.player?.iterationPerSecond||0}get isPaused(){return this.m.player?.status==="paused"}}class DGe extends qt{get image(){return this.m.imageData}get icon(){return this.m.icon}get canExpand(){return this.m.children.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children}}class AGe extends qt{constructor(){super(),this.selectedItem=null,this.onExpandedItemsChange=(t,n)=>{if(t?.type==="keydown"&&t.key==="Enter"){const{expandedItems:r}=this;let i;n.length>r.length?i=n.find(o=>!r.includes(o)):i=r.find(o=>!n.includes(o)),i&&this.onSelectedItemChange(t,i);return}this.expandedItems=n},this.onSelectedItemChange=(t,n)=>{if(this.selectedItem=n,!n)return;this.getItemById(n)?.makeActive()},this.expandedItems=[this.m.itemId],Rt(this,{expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:_e,onSelectedItemChange:_e})}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const i of r.children){const o=n(i);if(o)return o}return null})(this.m)}}function LGe(e,t){if(!e)return null;if(t===kt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==kt.STRING&&(e=e.trim()),e||null}const NGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class BGe extends qt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,i=LGe(t.value,t.type);if(i===n.value)return n;const o=r.vars.find(s=>s.id===t.id);return o?.setValue(i||"")?{...t,value:o.value}:n},Rt(this,{processRowUpdate:_e})}get columns(){return NGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}function FGe(e,t){if(!e)return null;if(t===kt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==kt.STRING&&(e=e.trim()),e||null}const jGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class VGe extends qt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,i=FGe(t.value,t.type);if(i===n.value)return n;const o=r.vars.find(s=>s.id===t.id);return o?.setValue(i||"")?{...t,value:o.value}:n},Rt(this,{processRowUpdate:_e})}get columns(){return jGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}const $Ge=Wt(AGe)(({vm:e,m:t})=>x.jsx(z5,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:V5,collapseIcon:$5},onContextMenu:Rb,children:x.jsx(cW,{m:t})})),cW=Wt(DGe)(({vm:e})=>{const{image:t}=e;return x.jsx(Pu,{itemId:e.itemId,label:x.jsxs(x.Fragment,{children:[t?x.jsx(TS,{sceneData:t}):x.jsx(uI,{icon:e.icon}),e.label]}),slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&x.jsx(zGe,{})})}),zGe=ho()(({vm:e})=>e.children.map(t=>x.jsx(cW,{m:t},t.itemId)));function tv(e){const t=YPe(),n=_.useCallback((i,o)=>{if(i.isEditable&&!(o.target.nodeType===1&&!o.currentTarget.contains(o.target)))try{t.current?.startCellEditMode({id:i.id,field:i.field})}catch{}},[]),r=_.useCallback((i,o)=>{i.reason===ka.enterKeyDown&&(o.defaultMuiPrevented=!0,t.current?.stopCellEditMode({id:i.id,field:i.field}))},[]);return x.jsx(N2e,{...e,apiRef:t,onCellClick:n,onProcessRowUpdateError:console.error,onCellEditStop:r})}const UGe=Wt(BGe)(({vm:e})=>x.jsx(tv,{sx:{flexGrow:6},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),HGe=Wt(VGe)(({vm:e})=>x.jsx(tv,{sx:{flexGrow:1},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),GGe=_.forwardRef(function(t,n){return x.jsx(jEe,{direction:"up",ref:n,...t})}),WGe=Wt(PGe)(({m:e,vm:t})=>{const{player:n}=e,r=n?.rootSchema,i=n?.activeSchema;return x.jsxs(OO,{open:t.dialogOpen,TransitionComponent:GGe,keepMounted:!0,fullScreen:!0,children:[x.jsx(SCe,{position:"sticky",children:x.jsxs(lU,{children:[x.jsx($n,{edge:"start",color:"inherit",onClick:t.onCloseButtonClick,children:x.jsx(kw,{})}),t.isPaused?x.jsx($n,{edge:"start",color:"inherit",onClick:t.onPlayButtonClick,children:x.jsx(UOe,{})}):x.jsx($n,{edge:"start",color:"inherit",onClick:t.onPauseButtonClick,children:x.jsx(zOe,{})}),x.jsx($n,{edge:"start",color:"inherit",onClick:t.onStepButtonClick,children:x.jsx(eRe,{})}),x.jsx(ws,{color:"inherit",onClick:t.onMinimizeButtonClick,children:"Свернуть"}),x.jsxs(Gi,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Шагов: ",t.iterationCount," (",t.iterationPerSecond," в секунду)"]})]})}),x.jsxs(sR,{children:[r&&x.jsx($Ge,{m:r},r.itemId),x.jsx(kGe,{ref:e.mountRef}),x.jsxs(lR,{width:300,children:[n&&x.jsxs(x.Fragment,{children:["Отслеживаемые переменные:",x.jsx(HGe,{m:n.markedVars})]}),i&&x.jsxs(x.Fragment,{children:["Переменные схемы ",i.toString(),x.jsx(UGe,{m:i},i.itemId)]})]})]})]})}),KGe=Wt($2e)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsxs(zo,{display:"flex",gap:"2%",children:[x.jsx(Pze,{label:"Имя имиджа",options:e.klassNameOptions,value:e.klassName,onChange:e.setKlassName,required:!0}),e.showOpenSchemaButton&&x.jsx($n,{onClick:e.onOpenSchemaButtonClick,children:x.jsx($Oe,{color:"info"})})]}),x.jsx(Ki,{label:"Имя окна",value:e.windowName,onChange:e.setWindowName})]})),qGe=Wt(z2e)(({vm:e})=>x.jsx(Ki,{label:"Путь к проекту",value:e.projectPath,onChange:e.setProjectPath,required:!0})),YGe=Wt(U2e)(({vm:e})=>x.jsx(Xm,{label:"Действие",options:e.options,value:e.actionType,onChange:e.setActionType})),XGe=Wt(H2e)(({vm:e})=>x.jsx(Ki,{label:"Команда",value:e.commandName,onChange:e.setCommandName,required:!0}));function ZGe({mode:e}){switch(e){case ey:return x.jsx(KGe,{});case z0:return x.jsx(qGe,{});case ty:return x.jsx(YGe,{});case $0:return x.jsx(XGe,{})}return null}const QGe=Wt(G2e)(({vm:e})=>{const{mode:t}=e,n=t>=0;return x.jsxs(x.Fragment,{children:[x.jsx(Xm,{label:"При нажатии на объект",options:e.modeOptions,value:e.mode,onChange:e.setMode}),n&&x.jsxs(x.Fragment,{children:[x.jsx(ZGe,{mode:t}),x.jsx(Ki,{label:"Доп. параметры",value:e.params,onChange:e.setParams}),x.jsx(Ki,{label:"Получатель WM_HYPERJUMP",value:e.receiver,onChange:e.setReceiver}),x.jsx(Ks,{label:"Активировать только через StdHyperJump",checked:e.disabled,onChange:e.setDisabled})]})]})}),JGe=["Выбран","Выбрано","Выбрано"],e4e=["объект","объекта","объектов"];function t4e({count:e}){return x.jsxs(Gi,{children:[hP(e,JGe),x.jsx(Pf,{color:"green",ml:"4px",mr:"4px",children:e}),hP(e,e4e)]})}function n4e(){const{rightPanelMinimized:e}=nl();return x.jsx(Yn,{title:"Скрыть панель настроек (Ctrl+P)",children:x.jsx($n,{onClick:e.setTrue,sx:{ml:"auto"},children:x.jsx(SU,{})})})}const r4e=Wt(_ze)(({vm:e})=>x.jsx(Yn,{title:"Открыть свойства (Space,Enter)",disableInteractive:!0,children:x.jsx(lke,{onClick:e.onClick,children:x.jsx(ake,{component:"span",color:"green",children:e.title})})})),i4e=Wt(Eze)(({vm:e})=>{const{hasScene:t}=e;return x.jsx(Yn,{title:`${t?"Открыть":"Создать"} схему (S)`,children:x.jsx($n,{onClick:e.onClick,children:x.jsx(vH,{visible:!t,children:x.jsx(Pw,{})})})})}),o4e=Wt(Tze)(({vm:e})=>x.jsx(Yn,{title:"Открыть код (D)",children:x.jsx($n,{onClick:e.onClick,children:x.jsx(vH,{visible:!e.hasCode,children:x.jsx(xU,{})})})})),s4e=Wt(Mze)(({vm:e})=>x.jsx(Yn,{title:"Удалить (Delete)",children:x.jsx($n,{onClick:e.onClick,sx:{ml:"auto"},children:x.jsx(mOe,{})})})),pI=ho()(({vm:e})=>{const{m:t,kind:n,selectionLength:r,klassCodeButtonModel:i,klassPropsButtonModel:o,klassSchemaButtonModel:s}=e;return x.jsxs(cke,{children:[o&&x.jsx(r4e,{m:o}),r&&x.jsx(t4e,{count:r}),n&&x.jsx(Pf,{children:n}),t&&t.type!=="_pseudoGroup"&&x.jsxs(Pf,{whiteSpace:"pre",ml:1,children:["#",t.key]}),x.jsxs(zo,{children:[s&&x.jsx(i4e,{m:s}),i&&x.jsx(o4e,{m:i}),t&&x.jsx(s4e,{m:t})]}),x.jsx(n4e,{})]})}),a4e=Wt(Oze)(({vm:e})=>x.jsxs(zo,{children:["Z-порядок:",x.jsxs(zo,{display:"flex",justifyContent:"center",children:[x.jsx(Yn,{title:"Вниз (Shift + ↓)",children:x.jsx($n,{onClick:e.onMoveToBottomButtonClick,size:"small",children:x.jsx(AOe,{})})}),x.jsx(Yn,{title:"Ниже (Shift + ←)",children:x.jsx($n,{onClick:e.onDecreaseZButtonClick,size:"small",children:x.jsx(POe,{})})}),x.jsx(uke,{value:e.value,size:"small",slotProps:{htmlInput:{tabIndex:-1}}}),x.jsx(Yn,{title:"Выше (Shift + →)",children:x.jsx($n,{onClick:e.onIncreaseZButtonClick,size:"small",children:x.jsx(DOe,{})})}),x.jsx(Yn,{title:"Наверх (Shift + ↑)",children:x.jsx($n,{onClick:e.onMoveToTopButtonClick,size:"small",children:x.jsx(LOe,{})})})]})]})),l4e=Wt(yke)(({vm:e})=>x.jsxs(zo,{display:"flex",gap:"2%",children:[x.jsx(Ki,{label:"X",type:"number",value:e.x,onChange:e.setX}),x.jsx(Ki,{label:"Y",type:"number",value:e.y,onChange:e.setY})]})),c4e=Wt(bke)(({vm:e})=>x.jsxs(zo,{display:"flex",gap:"2%",children:[x.jsx(Ki,{label:"Ширина",type:"number",value:e.w,onChange:e.setW}),x.jsx(Ki,{label:"Высота",type:"number",value:e.h,onChange:e.setH})]})),u4e=Wt(Ske)(({vm:e})=>x.jsx(Ki,{label:"Повернуть на",type:"number",onChange:e.setValue,value:"0"})),d4e=Wt(wke)(({vm:e})=>x.jsx(Ki,{label:"Угол поворота",type:"number",value:e.value,onChange:e.setValue})),h4e=Wt(Cke)(({vm:e})=>x.jsx(Ki,{label:"Имя на сцене",value:e.value,onChange:e.setValue})),f4e=Wt(xke)(({vm:e})=>x.jsx(Ks,{label:"Невыбираемый объект (N)",checked:e.value,onChange:e.setValue})),p4e=Wt(_ke)(({vm:e})=>x.jsx(Xm,{label:"Слой",options:e.options,value:e.value,onChange:e.setValue})),uW=ho()(({vm:e,children:t})=>{const{m:n}=e;if(!n)return t;const r=n.type!=="_pseudoGroup";return x.jsxs(x.Fragment,{children:[n.canMove&&x.jsx(l4e,{m:n}),r&&x.jsxs(x.Fragment,{children:[n.canResize&&x.jsx(c4e,{m:n}),n.canSetName&&x.jsx(h4e,{m:n}),n.canRotate&&(n.hasAngle?x.jsx(d4e,{m:n}):x.jsx(u4e,{m:n})),n.type!=="group"&&x.jsx(a4e,{m:n}),x.jsx(f4e,{m:n}),x.jsx(p4e,{m:n})]}),t,r&&n.canSetHyper&&x.jsx(QGe,{m:n})]})}),Th=ho()(({children:e})=>x.jsxs(x.Fragment,{children:[x.jsx(pI,{}),x.jsx(ol,{}),x.jsx(dR,{children:x.jsx(uW,{children:e})})]})),gI=Wt(Cze)(({vm:e})=>x.jsx(tv,{sx:{"& .mark-button-cell":{padding:0,paddingLeft:0,paddingRight:"20px",[`& .${bw.root}`]:{padding:0}}},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),g4e=Wt(j2e)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsxs(Th,{children:[e.showUngroupButton&&x.jsx(ws,{onClick:e.onUngroupButtonClick,fullWidth:!0,variant:"contained",color:"error",children:"Разгруппировать (U)"}),t&&x.jsx(gI,{m:t})]})});var m4e=Object.defineProperty,v4e=(e,t,n)=>t in e?m4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xi=(e,t,n)=>v4e(e,typeof t!="symbol"?t+"":t,n);const kS={x:0,y:0,width:0,height:0,unit:"px"},tp=(e,t,n)=>Math.min(Math.max(e,t),n),y4e=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),dW=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function np(e,t,n){return e.unit==="%"?{...kS,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function Uu(e,t,n){return e.unit?e.unit==="px"?{...kS,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...kS,...e,unit:"px"}}function hW(e,t,n,r,i,o=0,s=0,a=r,c=i){const u={...e};let h=Math.min(o,r),f=Math.min(s,i),g=Math.min(a,r),m=Math.min(c,i);t&&(t>1?(h=s?s*t:h,f=h/t,g=a*t):(f=o?o/t:f,h=f*t,m=c/t)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,h),u.x=0);const y=r-(u.x+u.width);y<0&&(u.x=Math.min(u.x,r-h),u.width+=y);const b=i-(u.y+u.height);if(b<0&&(u.y=Math.min(u.y,i-f),u.height+=b),u.width<h&&((n==="sw"||n=="nw")&&(u.x-=h-u.width),u.width=h),u.height<f&&((n==="nw"||n=="ne")&&(u.y-=f-u.height),u.height=f),u.width>g&&((n==="sw"||n=="nw")&&(u.x-=g-u.width),u.width=g),u.height>m&&((n==="nw"||n=="ne")&&(u.y-=m-u.height),u.height=m),t){const v=u.width/u.height;if(v<t){const S=Math.max(u.width/t,f);(n==="nw"||n=="ne")&&(u.y-=S-u.height),u.height=S}else if(v>t){const S=Math.max(u.height*t,h);(n==="sw"||n=="nw")&&(u.x-=S-u.width),u.width=S}}return u}function b4e(e,t,n,r){const i={...e};return t==="ArrowLeft"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="w"?(i.x-=n,i.width+=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="e"?i.width-=n:r==="se"&&(i.width-=n,i.height-=n):t==="ArrowRight"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="w"?(i.x+=n,i.width-=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="e"?i.width+=n:r==="se"&&(i.width+=n,i.height+=n)),t==="ArrowUp"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="n"?(i.y-=n,i.height+=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="s"?i.height-=n:r==="se"&&(i.width-=n,i.height-=n):t==="ArrowDown"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="n"?(i.y+=n,i.height-=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="s"?i.height+=n:r==="se"&&(i.width+=n,i.height+=n)),i}const rp={capture:!0,passive:!1};let w4e=0;const Hu=class Sl extends _.PureComponent{constructor(){super(...arguments),xi(this,"docMoveBound",!1),xi(this,"mouseDownOnCrop",!1),xi(this,"dragStarted",!1),xi(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),xi(this,"componentRef",_.createRef()),xi(this,"mediaRef",_.createRef()),xi(this,"resizeObserver"),xi(this,"initChangeCalled",!1),xi(this,"instanceId",`rc-${w4e++}`),xi(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),xi(this,"onCropPointerDown",t=>{const{crop:n,disabled:r}=this.props,i=this.getBox();if(!n)return;const o=Uu(n,i.width,i.height);if(r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=t.target.dataset.ord,a=!!s;let c=t.clientX,u=t.clientY,h=o.x,f=o.y;if(s){const g=t.clientX-i.x,m=t.clientY-i.y;let y=0,b=0;s==="ne"||s=="e"?(y=g-(o.x+o.width),b=m-o.y,h=o.x,f=o.y+o.height):s==="se"||s==="s"?(y=g-(o.x+o.width),b=m-(o.y+o.height),h=o.x,f=o.y):s==="sw"||s=="w"?(y=g-o.x,b=m-(o.y+o.height),h=o.x+o.width,f=o.y):(s==="nw"||s=="n")&&(y=g-o.x,b=m-o.y,h=o.x+o.width,f=o.y+o.height),c=h+i.x+y,u=f+i.y+b}this.evData={startClientX:c,startClientY:u,startCropX:h,startCropY:f,clientX:t.clientX,clientY:t.clientY,isResize:a,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),xi(this,"onComponentPointerDown",t=>{const{crop:n,disabled:r,locked:i,keepSelection:o,onChange:s}=this.props,a=this.getBox();if(r||i||o&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-a.x,u=t.clientY-a.y,h={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:u,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(Uu(h,a.width,a.height),np(h,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),xi(this,"onDocPointerMove",t=>{const{crop:n,disabled:r,onChange:i,onDragStart:o}=this.props,s=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(t));const{evData:a}=this;a.clientX=t.clientX,a.clientY=t.clientY;let c;a.isResize?c=this.resizeCrop():c=this.dragCrop(),dW(n,c)||i(Uu(c,s.width,s.height),np(c,s.width,s.height))}),xi(this,"onComponentKeyDown",t=>{const{crop:n,disabled:r,onChange:i,onComplete:o}=this.props;if(r)return;const s=t.key;let a=!1;if(!n)return;const c=this.getBox(),u=this.makePixelCrop(c),h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Sl.nudgeStepLarge:t.shiftKey?Sl.nudgeStepMedium:Sl.nudgeStep;if(s==="ArrowLeft"?(u.x-=h,a=!0):s==="ArrowRight"?(u.x+=h,a=!0):s==="ArrowUp"?(u.y-=h,a=!0):s==="ArrowDown"&&(u.y+=h,a=!0),a){t.cancelable&&t.preventDefault(),u.x=tp(u.x,0,c.width-u.width),u.y=tp(u.y,0,c.height-u.height);const f=Uu(u,c.width,c.height),g=np(u,c.width,c.height);i(f,g),o&&o(f,g)}}),xi(this,"onHandlerKeyDown",(t,n)=>{const{aspect:r=0,crop:i,disabled:o,minWidth:s=0,minHeight:a=0,maxWidth:c,maxHeight:u,onChange:h,onComplete:f}=this.props,g=this.getBox();if(o||!i)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Sl.nudgeStepLarge:t.shiftKey?Sl.nudgeStepMedium:Sl.nudgeStep,y=Uu(i,g.width,g.height),b=b4e(y,t.key,m,n),v=hW(b,r,n,g.width,g.height,s,a,c,u);if(!dW(i,v)){const S=np(v,g.width,g.height);h(v,S),f&&f(v,S)}}),xi(this,"onDocPointerDone",t=>{const{crop:n,disabled:r,onComplete:i,onDragEnd:o}=this.props,s=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(t),i&&i(Uu(n,s.width,s.height),np(n,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),xi(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:i,height:o}=t.getBoundingClientRect();return{x:n,y:r,width:i,height:o}}componentDidUpdate(t){const{crop:n,onComplete:r}=this.props;if(r&&!t.crop&&n){const{width:i,height:o}=this.getBox();i&&o&&r(Uu(n,i,o),np(n,i,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,rp),this.document.addEventListener("pointerup",this.onDocPointerDone,rp),this.document.addEventListener("pointercancel",this.onDocPointerDone,rp),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,rp),this.document.removeEventListener("pointerup",this.onDocPointerDone,rp),this.document.removeEventListener("pointercancel",this.onDocPointerDone,rp),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),r=this.makePixelCrop(n),i=t.clientX-t.startClientX,o=t.clientY-t.startClientY;return r.x=tp(t.startCropX+i,0,n.width-r.width),r.y=tp(t.startCropY+o,0,n.height-r.height),r}getPointRegion(t,n,r,i){const{evData:o}=this,s=o.clientX-t.x,a=o.clientY-t.y;let c;i&&n?c=n==="nw"||n==="n"||n==="ne":c=a<o.startCropY;let u;return r&&n?u=n==="nw"||n==="w"||n==="sw":u=s<o.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,n,r=0,i=0){const o=Math.min(r,t.width),s=Math.min(i,t.height);return!n||!o&&!s?[o,s]:n>1?o?[o,o/n]:[s*n,s]:s?[s*n,s]:[o,o/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:i}=this.props,o=this.getBox(),[s,a]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(o);const u=this.getPointRegion(o,t.ord,s,a),h=t.ord||u;let f=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(s&&h==="nw"||h==="w"||h==="sw")&&(f=Math.min(f,-s)),(a&&h==="nw"||h==="n"||h==="ne")&&(g=Math.min(g,-a));const m={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(m.x=t.startCropX,m.width=f,n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY-m.height)):u==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=f,n?m.height=m.width/n:m.height=g):u==="sw"?(m.x=t.startCropX+f,m.y=t.startCropY,m.width=Math.abs(f),n?m.height=m.width/n:m.height=g):u==="nw"&&(m.x=t.startCropX+f,m.width=Math.abs(f),n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY+g));const y=hW(m,n,u,o.width,o.height,s,a,r,i);return n||Sl.xyOrds.indexOf(h)>-1?c=y:Sl.xOrds.indexOf(h)>-1?(c.x=y.x,c.width=y.width):Sl.yOrds.indexOf(h)>-1&&(c.y=y.y,c.height=y.height),c.x=tp(c.x,0,o.width-c.width),c.y=tp(c.y,0,o.height-c.height),c}renderCropSelection(){const{ariaLabels:t=Sl.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:i,ruleOfThirds:o,crop:s}=this.props,a=this.getCropStyle();if(s)return Vn.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&Vn.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Vn.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Vn.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Vn.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Vn.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),Vn.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),i&&Vn.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},i(this.state)),o&&Vn.createElement(Vn.Fragment,null,Vn.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Vn.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...kS,...this.props.crop||{}};return Uu(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:r,className:i,crop:o,disabled:s,locked:a,style:c,ruleOfThirds:u}=this.props,{cropIsActive:h,newCropIsBeingDrawn:f}=this.state,g=o?this.renderCropSelection():null,m=y4e("ReactCrop",i,h&&"ReactCrop--active",s&&"ReactCrop--disabled",a&&"ReactCrop--locked",f&&"ReactCrop--new-crop",o&&t&&"ReactCrop--fixed-aspect",o&&r&&"ReactCrop--circular-crop",o&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return Vn.createElement("div",{ref:this.componentRef,className:m,style:c},Vn.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),o?Vn.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Vn.createElement("defs",null,Vn.createElement("mask",{id:`hole-${this.instanceId}`},Vn.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?Vn.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):Vn.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),Vn.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};xi(Hu,"xOrds",["e","w"]),xi(Hu,"yOrds",["n","s"]),xi(Hu,"xyOrds",["nw","ne","se","sw"]),xi(Hu,"nudgeStep",1),xi(Hu,"nudgeStepMedium",10),xi(Hu,"nudgeStepLarge",100),xi(Hu,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let fW=Hu;const S4e=Wt(K2e)(({vm:e})=>x.jsxs(zo,{display:"flex",flexDirection:"column",children:[x.jsx(Pf,{noWrap:!0,children:e.imageInfo}),x.jsx(zo,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(fW,{crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,className:"ReactCrop--no-animate",style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),C4e=Wt(q2e)(({vm:e})=>{const{isPad:t,schemaValuesModel:n}=e;return x.jsxs(Th,{children:[!t&&x.jsx(S4e,{}),n&&x.jsx(gI,{m:n})]})}),x4e=Wt(Y2e)(({vm:e})=>x.jsx(Th,{children:x.jsx(Ki,{label:"Текст",value:e.value,onChange:e.setValue})})),_4e=Wt(J2e)(({vm:e})=>x.jsxs(zo,{display:"flex",flexDirection:"column",children:[x.jsx(Pf,{noWrap:!0,children:e.iconAtlas.toUpperCase()}),x.jsx(zo,{overflow:"hidden",alignSelf:"center",padding:1,children:x.jsx(fW,{disabled:e.disabled,locked:!0,className:"ReactCrop--no-animate",crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,style:{overflow:"visible"},children:x.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),E4e=Wt(Q2e)(({vm:e})=>{const t=e.isPropsChangeDisabled;return x.jsxs(Th,{children:[x.jsxs(Gi,{children:["Создан: ",e.date]}),x.jsx(Ki,{label:"Имя",value:e.klassName,onChange:e.setKlassName,required:!0,disabled:t}),x.jsx(Ks,{label:"Всегда использовать иконку",checked:e.forceUseIcon,onChange:e.setForceUseIcon,disabled:t}),x.jsx(Ks,{label:"Можно менять размер",checked:e.canChangeSize,onChange:e.setCanChangeSize,disabled:t}),x.jsx(_4e,{m:e.klass})]})}),T4e=ho()(({vm:e})=>{const t=!e.canAddRow;let n=x.jsx($n,{color:"primary",onClick:e.addRow,disabled:t,children:x.jsx(qO,{})});return t?n=x.jsx(Yn,{title:"Нет переменных общего типа",children:x.jsx("span",{children:n})}):n=x.jsx(Yn,{title:"Добавить связку переменных (A)",children:n}),x.jsxs(XBe,{sx:{flexWrap:"nowrap"},children:[n,x.jsx(Ks,{checked:e.enabled,onChange:e.setEnabled,title:"Связь активна?"}),e.props.toolbar]})}),M4e=Wt(F2e)(({vm:e})=>x.jsx(tv,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,isCellEditable:e.isCellEditable,localeText:{noRowsLabel:"Нет соединенных переменных"},slotProps:{noRowsOverlay:void 0},slots:{noRowsOverlay:AIe,toolbar:T4e},disableColumnMenu:!0,disableColumnSorting:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),O4e=Wt(vze)(({vm:e})=>x.jsx(tv,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),pW=Wt(dze)(({vm:e})=>x.jsxs(zo,{display:"flex",gap:"2%",children:[x.jsx(Ki,{label:"Угол",type:"number",value:e.angle,onChange:e.setAngle}),x.jsx(Ki,{label:"Длина",type:"number",value:e.length,onChange:e.setLength}),x.jsx(Yn,{title:"Заливка",children:x.jsx(Ks,{checked:e.fill,onChange:e.setFill,icon:x.jsx(TU,{}),checkedIcon:x.jsx(TU,{})})}),x.jsx(Yn,{title:"Удалить стрелку",children:x.jsx($n,{onClick:e.onRemoveButtonClick,sx:{flexGrow:0},children:x.jsx(kw,{})})})]})),gW=Wt(hze)(({vm:e})=>x.jsxs(x.Fragment,{children:[x.jsx(Ki,{label:"Цвет",value:e.getColor,onChange:e.setColor,type:"color",immediate:!0}),x.jsx(Ki,{label:"Толщина",value:e.width,onChange:e.setWidth,type:"number"})]})),R4e=Wt(fze)(({vm:e})=>{const{image:t}=e;return x.jsxs(pke,{onClick:e.onClick,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop,dashed:e.dashed,children:[x.jsx(gke,{ref:e.inputRef,onChange:e.onChange,type:"file",accept:"image/*",tabIndex:-1}),t?x.jsx(mke,{src:Ps(t.src)}):x.jsx(vke,{})]})}),I4e=Wt(pze)(({vm:e})=>{const{isPattern:t}=e;return t?x.jsx(R4e,{m:e.m}):x.jsxs(zo,{display:"flex",gap:"2%",children:[x.jsx(Ki,{label:"Цвет",type:"color",value:e.getColor,onChange:e.setColor,immediate:!0}),x.jsx(Ks,{label:"Смешивание",checked:e.mix,onChange:e.setMix})]})}),k4e=Wt(gze)(({vm:e})=>{const{mode:t,schemaConnection:n,canAddPen:r,pen:i,canAddBrush:o,brush:s}=e,a=!n&&i,c=x.jsxs(mU,{value:t,onChange:e.onPointsModeChange,children:[x.jsx(GO,{value:"props",label:"Свойства"}),x.jsx(GO,{value:"points",label:"Точки"})]});return t==="points"?x.jsxs(x.Fragment,{children:[x.jsx(pI,{}),x.jsx(ol,{}),x.jsxs(dR,{children:[c,x.jsx(O4e,{m:e.m})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(pI,{}),x.jsx(ol,{}),x.jsxs(dR,{children:[c,x.jsxs(uW,{children:[r&&x.jsx(Xm,{label:"Обводка",options:e.penVariantOptions,value:e.penVariant,onChange:e.setPenVariant}),a&&x.jsxs(zo,{display:"flex",gap:"2%",children:[x.jsx(gW,{m:i}),!e.hasStartArrow&&x.jsx(Yn,{title:"Добавить стрелку в начале",children:x.jsx($n,{onClick:e.onAddStartArrowButtonClick,children:x.jsx(om,{badgeContent:"+",children:x.jsx(oRe,{})})})}),!e.hasEndArrow&&x.jsx(Yn,{title:"Добавить стрелку в конце",children:x.jsx($n,{onClick:e.onAddEndArrowButtonClick,children:x.jsx(om,{badgeContent:"+",children:x.jsx(bOe,{})})})})]}),a&&e.hasStartArrow&&x.jsx(pW,{m:e.m,arrow:"start"}),a&&e.hasEndArrow&&x.jsx(pW,{m:e.m,arrow:"end"}),o&&x.jsx(Xm,{label:"Заливка",options:e.brushVariantOptions,value:e.brushVariant,onChange:e.setBrushVariant}),s&&x.jsx(I4e,{m:s}),n&&x.jsx(M4e,{m:n,sceneConnection:e.sceneConnection,toolbar:i&&x.jsx(gW,{m:i})})]})]})]})}),P4e=Wt(yze)(({vm:e})=>x.jsxs(Th,{children:[e.showCreateGroupButton&&x.jsx(ws,{onClick:e.onCreateGroupButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать группу (G)"}),e.showCreateConnectionButton&&x.jsx(ws,{onClick:e.onCreateConnectionButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать связь (C)"})]})),D4e=Wt(bze)(({vm:e})=>{const{schemaValuesModel:t}=e;return x.jsx(Th,{children:t&&x.jsx(gI,{m:t})})}),A4e=Wt(xze)(({vm:e})=>x.jsx(Th,{children:x.jsx(ws,{onClick:e.onOpenTextEditorButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Открыть редактор текста (E)"})})),L4e=ho()(({vm:e})=>{const{selectedObject:t,m:n}=e;if(!t)switch(n.type){case"schemaEditor":return x.jsx(D4e,{m:null});case"klassPropsEditor":return x.jsx(E4e,{m:null});case"fileSceneEditor":return null}if(t.type==="_pseudoGroup")return x.jsx(P4e,{m:t});const{key:r}=t;switch(t.type){case"line":return x.jsx(k4e,{m:t},r);case"imageView":return x.jsx(C4e,{m:t},r);case"textView":return x.jsx(A4e,{m:t},r);case"input":return x.jsx(x4e,{m:t},r);case"group":return x.jsx(g4e,{m:t},r);case"videoView":return null}});function N4e(){const{rightPanelMinimized:e}=nl();return x.jsx(Yn,{title:"Показать панель настроек (Ctrl+P)",followCursor:!0,placement:"left",children:x.jsx(uH,{onClick:e.setFalse,size:"small",children:x.jsx(wU,{})})})}const B4e=kg(()=>{const{rightPanelMinimized:e}=nl();return x.jsx(lR,{width:300,minimized:e.isTrue,button:x.jsx(N4e,{}),children:x.jsx(L4e,{})})}),F4e=[{value:"BOLD",title:"Жирный (Ctrl+B)",children:x.jsx(xOe,{})},{value:"ITALIC",title:"Курсив (Ctrl+I)",children:x.jsx(_Oe,{})},{value:"UNDERLINE",title:"Подчеркнутый (Ctrl+U)",children:x.jsx(MOe,{})},{value:"STRIKETHROUGH",title:"Зачеркнутый (Ctrl+S)",children:x.jsx(TOe,{})}].map(e=>x.jsx(KO,{...e},e.value)),j4e=ho()(({vm:e})=>x.jsxs(KTe,{direction:"row",gap:1,alignItems:"center",padding:"4px",divider:x.jsx(Uw,{}),children:[x.jsx(bU,{onPointerDown:Rb,value:e.fontStyles,onChange:e.onFontStylesChange,children:F4e}),x.jsx(Ki,{type:"number",label:"Размер",value:e.fontSizeValue,onChange:e.onFontSizeChange}),x.jsx(Ki,{type:"color",label:"Цвет",value:e.colorValue,onChange:e.onColorChange}),x.jsx(xw,{fullWidth:!0,children:x.jsx(Wl,{select:!0,size:"small",label:"Шрифт",value:e.fontValue,onChange:e.onFontChange,children:e.availableFonts.map(t=>x.jsx(Ss,{value:t,children:t},t))})})]})),V4e=ho()(({vm:e})=>x.jsx(ma.Editor,{ref:e.ref,editorState:e.editorState,onChange:e.onEditorChange,handleKeyCommand:e.handleKeyCommand,customStyleFn:e.customStyleFn,keyBindingFn:e.keyBindingFn,preserveSelectionOnBlur:!0,spellCheck:!0},e.randomKey)),$4e=Wt(Rze)(({vm:e})=>{const t=m3();return x.jsxs(OO,{ref:t,open:e.dialogOpen,fullWidth:!0,maxWidth:"xl",children:[x.jsx(PEe,{children:"Редактирование текста"}),x.jsx(ol,{}),x.jsx(j4e,{}),x.jsx(ol,{}),x.jsx(hke,{children:x.jsx(V4e,{})}),x.jsx(ol,{}),x.jsxs(Nz,{children:[x.jsx(ws,{variant:"contained",onClick:e.onApplyButtonClick,children:"Применить"}),x.jsx(ws,{variant:"outlined",onClick:e.onCancelButtonClick,children:"Отменить"})]})]})}),z4e=Wt(Ize)(({vm:e})=>{const{textEditor:t}=e;return x.jsxs(x.Fragment,{children:[t&&x.jsx($4e,{m:t}),x.jsxs(sR,{children:[x.jsx(dke,{ref:e.viewMountRef}),x.jsx(Uw,{}),x.jsx(B4e,{})]})]})});function U4e(){const e=_.useRef(null);return _.useEffect(()=>{const t=e.current;if(!t)return;const n=requestAnimationFrame(()=>t.focus());return()=>{cancelAnimationFrame(n)}},[e.current]),e}class H4e extends qt{constructor(){super(...arguments),this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t),this.onChange=t=>this.m.setCurrentText(t.currentTarget.value)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,i=n[n.length-1].length+1;this.m.setCursorPosition(r,i)}}const G4e=Wt(H4e)(({vm:e})=>{const t=U4e();return x.jsx(jIe,{ref:t,defaultValue:e.defaultValue,readOnly:e.readOnly,onChange:e.onChange,onKeyUp:e.onKeyUp,onClick:e.onClick,spellCheck:!0})}),W4e=Wt(tke)(({vm:e})=>{const{activeEditor:t}=e;if(!t)return null;switch(t.type){case"fileSceneEditor":case"klassPropsEditor":case"schemaEditor":return x.jsx(z4e,{m:t},t._reactKey);case"codeEditor":return x.jsx(IGe,{m:t},t._reactKey);case"textEditor":return x.jsx(G4e,{m:t},t._reactKey)}}),K4e=Wt(nke)(({m:e})=>{const{tabs:t,player:n}=e;return x.jsxs(Gye,{project:e,children:[x.jsx(WGe,{m:n}),x.jsxs(sR,{children:[x.jsx(CHe,{}),x.jsx(Uw,{}),x.jsxs(aR,{children:[x.jsxs(aR,{children:[x.jsx(Kze,{m:t}),x.jsx(ol,{}),x.jsx(W4e,{m:t})]}),x.jsx(ol,{}),x.jsx(Fze,{m:t})]})]})]})});class q4e extends qt{constructor(t){super(),this.ctx=t,this.onModalClose=(n,r)=>{this.ctx.app.subProjectSelectorVisible.setFalse()},Rt(this,{onModalClose:_e})}get isModalOpen(){return this.ctx.app.subProjectSelectorVisible.isTrue}}const Y4e=Wt(q4e)(({vm:e})=>x.jsx(Sw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:yw},slotProps:{backdrop:{timeout:500}},children:x.jsx(im,{in:e.isModalOpen,children:x.jsx(dH,{children:x.jsx(hH,{children:x.jsx(mH,{m:e.m})})})})})),X4e=Wt(Wye)(({m:e})=>{const{currentProject:t,ctxMenu:n,accountSettings:r,loginFormVisible:i,loadingMessage:o,subProjectSelector:s}=e;return x.jsxs(Hye,{app:e,children:[x.jsx(eke,{}),x.jsx(Y4e,{m:s}),x.jsx(sRe,{m:r,open:i.isTrue}),x.jsx(tOe,{m:n}),t&&x.jsx(K4e,{m:t},t.id),o&&x.jsxs("h3",{children:[o,"..."]})]})});var mI={exports:{}},nv={},vI={exports:{}},yI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mW;function Z4e(){return mW||(mW=1,(function(e){function t(z,Z){var ee=z.length;z.push(Z);e:for(;0<ee;){var ie=ee-1>>>1,U=z[ie];if(0<i(U,Z))z[ie]=Z,z[ee]=U,ee=ie;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],ee=z.pop();if(ee!==Z){z[0]=ee;e:for(var ie=0,U=z.length,Y=U>>>1;ie<Y;){var J=2*(ie+1)-1,he=z[J],ge=J+1,pe=z[ge];if(0>i(he,ee))ge<U&&0>i(pe,he)?(z[ie]=pe,z[ge]=ee,ie=ge):(z[ie]=he,z[J]=ee,ie=J);else if(ge<U&&0>i(pe,ee))z[ie]=pe,z[ge]=ee,ie=ge;else break e}}return Z}function i(z,Z){var ee=z.sortIndex-Z.sortIndex;return ee!==0?ee:z.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],h=1,f=null,g=3,m=!1,y=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=z)r(u),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=n(u)}}function M(z){if(b=!1,R(z),!y)if(n(c)!==null)y=!0,I||(I=!0,F());else{var Z=n(u);Z!==null&&K(M,Z.startTime-z)}}var I=!1,N=-1,D=5,L=-1;function A(){return v?!0:!(e.unstable_now()-L<D)}function $(){if(v=!1,I){var z=e.unstable_now();L=z;var Z=!0;try{e:{y=!1,b&&(b=!1,E(N),N=-1),m=!0;var ee=g;try{t:{for(R(z),f=n(c);f!==null&&!(f.expirationTime>z&&A());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,g=f.priorityLevel;var U=ie(f.expirationTime<=z);if(z=e.unstable_now(),typeof U=="function"){f.callback=U,R(z),Z=!0;break t}f===n(c)&&r(c),R(z)}else r(c);f=n(c)}if(f!==null)Z=!0;else{var Y=n(u);Y!==null&&K(M,Y.startTime-z),Z=!1}}break e}finally{f=null,g=ee,m=!1}Z=void 0}}finally{Z?F():I=!1}}}var F;if(typeof T=="function")F=function(){T($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=$,F=function(){q.postMessage(null)}}else F=function(){S($,0)};function K(z,Z){N=S(function(){z(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var ee=g;g=Z;try{return z()}finally{g=ee}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=g;g=z;try{return Z()}finally{g=ee}},e.unstable_scheduleCallback=function(z,Z,ee){var ie=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ee+U,z={id:h++,callback:Z,priorityLevel:z,startTime:ee,expirationTime:U,sortIndex:-1},ee>ie?(z.sortIndex=ee,t(u,z),n(c)===null&&z===n(u)&&(b?(E(N),N=-1):b=!0,K(M,ee-ie))):(z.sortIndex=U,t(c,z),y||m||(y=!0,I||(I=!0,F()))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var Z=g;return function(){var ee=g;g=Z;try{return z.apply(this,arguments)}finally{g=ee}}}})(yI)),yI}var vW;function Q4e(){return vW||(vW=1,vI.exports=Z4e()),vI.exports}var yW;function J4e(){if(yW)return nv;yW=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=Q4e(),t=Xo(),n=uT();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function o(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function s(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function a(l){if(o(l)!==l)throw Error(r(188))}function c(l){var d=l.alternate;if(!d){if(d=o(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,w=d;;){var O=p.return;if(O===null)break;var V=O.alternate;if(V===null){if(w=O.return,w!==null){p=w;continue}break}if(O.child===V.child){for(V=O.child;V;){if(V===p)return a(O),l;if(V===w)return a(O),d;V=V.sibling}throw Error(r(188))}if(p.return!==w.return)p=O,w=V;else{for(var te=!1,ce=O.child;ce;){if(ce===p){te=!0,p=O,w=V;break}if(ce===w){te=!0,w=O,p=V;break}ce=ce.sibling}if(!te){for(ce=V.child;ce;){if(ce===p){te=!0,p=V,w=O;break}if(ce===w){te=!0,w=V,p=O;break}ce=ce.sibling}if(!te)throw Error(r(189))}}if(p.alternate!==w)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function u(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=u(l),d!==null)return d;l=l.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=$&&l[$]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function q(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case m:return"Portal";case T:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case R:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return d=l.displayName||null,d!==null?d:q(l.type)||"Memo";case D:d=l._payload,l=l._init;try{return q(l(d))}catch{}}return null}var K=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ie=[],U=-1;function Y(l){return{current:l}}function J(l){0>U||(l.current=ie[U],ie[U]=null,U--)}function he(l,d){U++,ie[U]=l.current,l.current=d}var ge=Y(null),pe=Y(null),le=Y(null),Ce=Y(null);function ke(l,d){switch(he(le,d),he(pe,l),he(ge,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?VK(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=VK(d),l=$K(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}J(ge),he(ge,l)}function Te(){J(ge),J(pe),J(le)}function me(l){l.memoizedState!==null&&he(Ce,l);var d=ge.current,p=$K(d,l.type);d!==p&&(he(pe,l),he(ge,p))}function ye(l){pe.current===l&&(J(ge),J(pe)),Ce.current===l&&(J(Ce),jv._currentValue=ee)}var xe=Object.prototype.hasOwnProperty,Re=e.unstable_scheduleCallback,Le=e.unstable_cancelCallback,Ie=e.unstable_shouldYield,je=e.unstable_requestPaint,lt=e.unstable_now,We=e.unstable_getCurrentPriorityLevel,Bt=e.unstable_ImmediatePriority,Ct=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,Ke=e.unstable_LowPriority,Ft=e.unstable_IdlePriority,Mt=e.log,zt=e.unstable_setDisableYieldValue,Lt=null,Xt=null;function sn(l){if(typeof Mt=="function"&&zt(l),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Lt,l)}catch{}}var xt=Math.clz32?Math.clz32:bt,Dt=Math.log,Je=Math.LN2;function bt(l){return l>>>=0,l===0?32:31-(Dt(l)/Je|0)|0}var wt=256,at=4194304;function mt(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Vt(l,d,p){var w=l.pendingLanes;if(w===0)return 0;var O=0,V=l.suspendedLanes,te=l.pingedLanes;l=l.warmLanes;var ce=w&134217727;return ce!==0?(w=ce&~V,w!==0?O=mt(w):(te&=ce,te!==0?O=mt(te):p||(p=ce&~l,p!==0&&(O=mt(p))))):(ce=w&~V,ce!==0?O=mt(ce):te!==0?O=mt(te):p||(p=w&~l,p!==0&&(O=mt(p)))),O===0?0:d!==0&&d!==O&&(d&V)===0&&(V=O&-O,p=d&-d,V>=p||V===32&&(p&4194048)!==0)?d:O}function _t(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Nt(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(){var l=wt;return wt<<=1,(wt&4194048)===0&&(wt=256),l}function An(){var l=at;return at<<=1,(at&62914560)===0&&(at=4194304),l}function yr(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function Qn(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Br(l,d,p,w,O,V){var te=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var ce=l.entanglements,Se=l.expirationTimes,Ge=l.hiddenUpdates;for(p=te&~p;0<p;){var ht=31-xt(p),yt=1<<ht;ce[ht]=0,Se[ht]=-1;var qe=Ge[ht];if(qe!==null)for(Ge[ht]=null,ht=0;ht<qe.length;ht++){var Ze=qe[ht];Ze!==null&&(Ze.lane&=-536870913)}p&=~yt}w!==0&&St(l,w,0),V!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=V&~(te&~d))}function St(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var w=31-xt(d);l.entangledLanes|=d,l.entanglements[w]=l.entanglements[w]|1073741824|p&4194090}function Yr(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var w=31-xt(p),O=1<<w;O&d|l[w]&d&&(l[w]|=d),p&=~O}}function Xr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function en(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Gn(){var l=Z.p;return l!==0?l:(l=window.event,l===void 0?32:sq(l.type))}function $t(l,d){var p=Z.p;try{return Z.p=l,d()}finally{Z.p=p}}var Kt=Math.random().toString(36).slice(2),nn="__reactFiber$"+Kt,un="__reactProps$"+Kt,wn="__reactContainer$"+Kt,hi="__reactEvents$"+Kt,ai="__reactListeners$"+Kt,qi="__reactHandles$"+Kt,Do="__reactResources$"+Kt,Fr="__reactMarker$"+Kt;function Wn(l){delete l[nn],delete l[un],delete l[hi],delete l[ai],delete l[qi]}function Er(l){var d=l[nn];if(d)return d;for(var p=l.parentNode;p;){if(d=p[wn]||p[nn]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=GK(l);l!==null;){if(p=l[nn])return p;l=GK(l)}return d}l=p,p=l.parentNode}return null}function Ri(l){if(l=l[nn]||l[wn]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function vo(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function jr(l){var d=l[Do];return d||(d=l[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function gn(l){l[Fr]=!0}var st=new Set,it={};function vt(l,d){Yt(l,d),Yt(l+"Capture",d)}function Yt(l,d){for(it[l]=d,l=0;l<d.length;l++)st.add(d[l])}var vn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},dr={};function Zr(l){return xe.call(dr,l)?!0:xe.call(br,l)?!1:vn.test(l)?dr[l]=!0:(br[l]=!0,!1)}function Yi(l,d,p){if(Zr(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var w=d.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function Jo(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function Bi(l,d,p,w){if(w===null)l.removeAttribute(p);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+w)}}var cs,Nn;function Tr(l){if(cs===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);cs=d&&d[1]||"",Nn=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+l+Nn}var no=!1;function Ao(l,d){if(!l||no)return"";no=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(d){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(Ze){var qe=Ze}Reflect.construct(l,[],yt)}else{try{yt.call()}catch(Ze){qe=Ze}l.call(yt.prototype)}}else{try{throw Error()}catch(Ze){qe=Ze}(yt=l())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(Ze){if(Ze&&qe&&typeof Ze.stack=="string")return[Ze.stack,qe.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=w.DetermineComponentFrameRoot(),te=V[0],ce=V[1];if(te&&ce){var Se=te.split(`
`),Ge=ce.split(`
`);for(O=w=0;w<Se.length&&!Se[w].includes("DetermineComponentFrameRoot");)w++;for(;O<Ge.length&&!Ge[O].includes("DetermineComponentFrameRoot");)O++;if(w===Se.length||O===Ge.length)for(w=Se.length-1,O=Ge.length-1;1<=w&&0<=O&&Se[w]!==Ge[O];)O--;for(;1<=w&&0<=O;w--,O--)if(Se[w]!==Ge[O]){if(w!==1||O!==1)do if(w--,O--,0>O||Se[w]!==Ge[O]){var ht=`
`+Se[w].replace(" at new "," at ");return l.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",l.displayName)),ht}while(1<=w&&0<=O);break}}}finally{no=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Tr(p):""}function Bc(l){switch(l.tag){case 26:case 27:case 5:return Tr(l.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 15:return Ao(l.type,!1);case 11:return Ao(l.type.render,!1);case 1:return Ao(l.type,!0);case 31:return Tr("Activity");default:return""}}function Jl(l){try{var d="";do d+=Bc(l),l=l.return;while(l);return d}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function fi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function wr(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ys(l){var d=wr(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,V=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return O.call(this)},set:function(te){w=""+te,V.call(this,te)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(te){w=""+te},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function yo(l){l._valueTracker||(l._valueTracker=Ys(l))}function Ba(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),w="";return l&&(w=wr(l)?l.checked?"true":"false":l.value),l=w,l!==p?(d.setValue(l),!0):!1}function _s(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ec=/[\n"\\]/g;function bo(l){return l.replace(ec,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function tc(l,d,p,w,O,V,te,ce){l.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?l.type=te:l.removeAttribute("type"),d!=null?te==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+fi(d)):l.value!==""+fi(d)&&(l.value=""+fi(d)):te!=="submit"&&te!=="reset"||l.removeAttribute("value"),d!=null?pl(l,te,fi(d)):p!=null?pl(l,te,fi(p)):w!=null&&l.removeAttribute("value"),O==null&&V!=null&&(l.defaultChecked=!!V),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?l.name=""+fi(ce):l.removeAttribute("name")}function Xs(l,d,p,w,O,V,te,ce){if(V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.type=V),d!=null||p!=null){if(!(V!=="submit"&&V!=="reset"||d!=null))return;p=p!=null?""+fi(p):"",d=d!=null?""+fi(d):p,ce||d===l.value||(l.value=d),l.defaultValue=d}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,l.checked=ce?l.checked:!!w,l.defaultChecked=!!w,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(l.name=te)}function pl(l,d,p){d==="number"&&_s(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Zs(l,d,p,w){if(l=l.options,d){d={};for(var O=0;O<p.length;O++)d["$"+p[O]]=!0;for(p=0;p<l.length;p++)O=d.hasOwnProperty("$"+l[p].value),l[p].selected!==O&&(l[p].selected=O),O&&w&&(l[p].defaultSelected=!0)}else{for(p=""+fi(p),d=null,O=0;O<l.length;O++){if(l[O].value===p){l[O].selected=!0,w&&(l[O].defaultSelected=!0);return}d!==null||l[O].disabled||(d=l[O])}d!==null&&(d.selected=!0)}}function gl(l,d,p){if(d!=null&&(d=""+fi(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+fi(p):""}function nc(l,d,p,w){if(d==null){if(w!=null){if(p!=null)throw Error(r(92));if(K(w)){if(1<w.length)throw Error(r(93));w=w[0]}p=w}p==null&&(p=""),d=p}p=fi(d),l.defaultValue=p,w=l.textContent,w===p&&w!==""&&w!==null&&(l.value=w)}function Es(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var Sr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(l,d,p){var w=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?w?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":w?l.setProperty(d,p):typeof p!="number"||p===0||Sr.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function Fa(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var w in p)!p.hasOwnProperty(w)||d!=null&&d.hasOwnProperty(w)||(w.indexOf("--")===0?l.setProperty(w,""):w==="float"?l.cssFloat="":l[w]="");for(var O in d)w=d[O],d.hasOwnProperty(O)&&p[O]!==w&&Fc(l,O,w)}else for(var V in d)d.hasOwnProperty(V)&&Fc(l,V,d[V])}function ri(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(l){return Qs.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var So=null;function Ts(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ms=null,ln=null;function ja(l){var d=Ri(l);if(d&&(l=d.stateNode)){var p=l[un]||null;e:switch(l=d.stateNode,d.type){case"input":if(tc(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+bo(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var w=p[d];if(w!==l&&w.form===l.form){var O=w[un]||null;if(!O)throw Error(r(90));tc(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<p.length;d++)w=p[d],w.form===l.form&&Ba(w)}break e;case"textarea":gl(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Zs(l,!!p.multiple,d,!1)}}}var Lo=!1;function rc(l,d,p){if(Lo)return l(d,p);Lo=!0;try{var w=l(d);return w}finally{if(Lo=!1,(Ms!==null||ln!==null)&&(u0(),Ms&&(d=Ms,l=ln,ln=Ms=null,ja(d),l)))for(d=0;d<l.length;d++)ja(l[d])}}function ro(l,d){var p=l.stateNode;if(p===null)return null;var w=p[un]||null;if(w===null)return null;p=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(Fi)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Zi=!1}var Uo=null,B=null,G=null;function re(){if(G)return G;var l,d=B,p=d.length,w,O="value"in Uo?Uo.value:Uo.textContent,V=O.length;for(l=0;l<p&&d[l]===O[l];l++);var te=p-l;for(w=1;w<=te&&d[p-w]===O[V-w];w++);return G=O.slice(l,1<w?1-w:void 0)}function ue(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function we(){return!0}function $e(){return!1}function Xe(l){function d(p,w,O,V,te){this._reactName=p,this._targetInst=O,this.type=w,this.nativeEvent=V,this.target=te,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(p=l[ce],this[ce]=p?p(V):V[ce]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?we:$e,this.isPropagationStopped=$e,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=we)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=we)},persist:function(){},isPersistent:we}),d}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bn=Xe(tn),Pn=h({},tn,{view:0,detail:0}),Vr=Xe(Pn),Ii,ic,ml,Js=h({},Pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ml&&(ml&&l.type==="mousemove"?(Ii=l.screenX-ml.screenX,ic=l.screenY-ml.screenY):ic=Ii=0,ml=l),Ii)},movementY:function(l){return"movementY"in l?l.movementY:ic}}),Gu=Xe(Js),jc=h({},Js,{dataTransfer:0}),Mh=Xe(jc),Wu=h({},Pn,{relatedTarget:0}),Vc=Xe(Wu),Oh=h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=Xe(Oh),oc=h({},tn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ku=Xe(oc),$c=h({},tn,{data:0}),fr=Xe($c),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function es(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Xu[l])?!!d[l]:!1}function vl(){return es}var Zu=h({},Pn,{key:function(l){if(l.key){var d=qu[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=ue(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Yu[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(l){return l.type==="keypress"?ue(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ue(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Qu=Xe(Zu),io=h({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_i=Xe(io),de=h({},Pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),dn=Xe(de),$a=h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ho=Xe($a),Cr=h({},Js,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Xe(Cr),za=h({},tn,{newState:0,oldState:0}),Co=Xe(za),zc=[9,13,27,32],xn=Fi&&"CompositionEvent"in window,ki=null;Fi&&"documentMode"in document&&(ki=document.documentMode);var sc=Fi&&"TextEvent"in window&&!ki,tr=Fi&&(!xn||ki&&8<ki&&11>=ki),Ve=" ",pt=!1;function ze(l,d){switch(l){case"keyup":return zc.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bn(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Sn=!1;function Tn(l,d){switch(l){case"compositionend":return bn(d);case"keypress":return d.which!==32?null:(pt=!0,Ve);case"textInput":return l=d.data,l===Ve&&pt?null:l;default:return null}}function xo(l,d){if(Sn)return l==="compositionend"||!xn&&ze(l,d)?(l=re(),G=B=Uo=null,Sn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return tr&&d.locale!=="ko"?null:d.data;default:return null}}var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pi(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!ji[l.type]:d==="textarea"}function Vi(l,d,p,w){Ms?ln?ln.push(w):ln=[w]:Ms=w,d=m0(d,"onChange"),0<d.length&&(p=new Bn("onChange","change",null,p,w),l.push({event:p,listeners:d}))}var Os=null,$i=null;function Go(l){LK(l,0)}function Ur(l){var d=vo(l);if(Ba(d))return l}function Uc(l,d){if(l==="change")return d}var ip=!1;if(Fi){var Rh;if(Fi){var ac="oninput"in document;if(!ac){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),ac=typeof Ih.oninput=="function"}Rh=ac}else Rh=!1;ip=Rh&&(!document.documentMode||9<document.documentMode)}function kh(){Os&&(Os.detachEvent("onpropertychange",op),$i=Os=null)}function op(l){if(l.propertyName==="value"&&Ur($i)){var d=[];Vi(d,$i,l,Ts(l)),rc(Go,d)}}function sp(l,d,p){l==="focusin"?(kh(),Os=d,$i=p,Os.attachEvent("onpropertychange",op)):l==="focusout"&&kh()}function rv(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ur($i)}function Ju(l,d){if(l==="click")return Ur(d)}function Hc(l,d){if(l==="input"||l==="change")return Ur(d)}function iv(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var C=typeof Object.is=="function"?Object.is:iv;function j(l,d){if(C(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),w=Object.keys(d);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var O=p[w];if(!xe.call(d,O)||!C(l[O],d[O]))return!1}return!0}function Q(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ne(l,d){var p=Q(l);l=0;for(var w;p;){if(p.nodeType===3){if(w=l+p.textContent.length,l<=d&&w>=d)return{node:p,offset:d-l};l=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Q(p)}}function oe(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?oe(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function ve(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=_s(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=_s(l.document)}return d}function be(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var De=Fi&&"documentMode"in document&&11>=document.documentMode,Ye=null,ot=null,ft=null,Gt=!1;function rn(l,d,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Gt||Ye==null||Ye!==_s(w)||(w=Ye,"selectionStart"in w&&be(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ft&&j(ft,w)||(ft=w,w=m0(ot,"onSelect"),0<w.length&&(d=new Bn("onSelect","select",null,d,p),l.push({event:d,listeners:w}),d.target=Ye)))}function _n(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var Fn={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionrun:_n("Transition","TransitionRun"),transitionstart:_n("Transition","TransitionStart"),transitioncancel:_n("Transition","TransitionCancel"),transitionend:_n("Transition","TransitionEnd")},kr={},Qr={};Fi&&(Qr=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function oo(l){if(kr[l])return kr[l];if(!Fn[l])return l;var d=Fn[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in Qr)return kr[l]=d[p];return l}var yl=oo("animationend"),PS=oo("animationiteration"),DS=oo("animationstart"),bI=oo("transitionrun"),wI=oo("transitionstart"),SI=oo("transitioncancel"),Zt=oo("transitionend"),ov=new Map,Qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qi.push("scrollEnd");function us(l,d){ov.set(l,d),vt(d,[l])}var sv=new WeakMap;function X(l,d){if(typeof l=="object"&&l!==null){var p=sv.get(l);return p!==void 0?p:(d={value:l,source:d,stack:Jl(d)},sv.set(l,d),d)}return{value:l,source:d,stack:Jl(d)}}var se=[],Me=0,Ae=0;function Qe(){for(var l=Me,d=Ae=Me=0;d<l;){var p=se[d];se[d++]=null;var w=se[d];se[d++]=null;var O=se[d];se[d++]=null;var V=se[d];if(se[d++]=null,w!==null&&O!==null){var te=w.pending;te===null?O.next=O:(O.next=te.next,te.next=O),w.pending=O}V!==0&&ea(p,O,V)}}function nt(l,d,p,w){se[Me++]=l,se[Me++]=d,se[Me++]=p,se[Me++]=w,Ae|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function Mn(l,d,p,w){return nt(l,d,p,w),AS(l)}function On(l,d){return nt(l,null,null,d),AS(l)}function ea(l,d,p){l.lanes|=p;var w=l.alternate;w!==null&&(w.lanes|=p);for(var O=!1,V=l.return;V!==null;)V.childLanes|=p,w=V.alternate,w!==null&&(w.childLanes|=p),V.tag===22&&(l=V.stateNode,l===null||l._visibility&1||(O=!0)),l=V,V=V.return;return l.tag===3?(V=l.stateNode,O&&d!==null&&(O=31-xt(p),l=V.hiddenUpdates,w=l[O],w===null?l[O]=[d]:w.push(d),d.lane=p|536870912),V):null}function AS(l){if(50<kv)throw kv=0,Mk=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var ap={};function i5e(l,d,p,w){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(l,d,p,w){return new i5e(l,d,p,w)}function CI(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Gc(l,d){var p=l.alternate;return p===null?(p=ta(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function wW(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function LS(l,d,p,w,O,V){var te=0;if(w=l,typeof l=="function")CI(l)&&(te=1);else if(typeof l=="string")te=sWe(l,p,ge.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=ta(31,p,d,O),l.elementType=L,l.lanes=V,l;case y:return Ph(p.children,O,V,d);case b:te=8,O|=24;break;case v:return l=ta(12,p,d,O|2),l.elementType=v,l.lanes=V,l;case M:return l=ta(13,p,d,O),l.elementType=M,l.lanes=V,l;case I:return l=ta(19,p,d,O),l.elementType=I,l.lanes=V,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:case T:te=10;break e;case E:te=9;break e;case R:te=11;break e;case N:te=14;break e;case D:te=16,w=null;break e}te=29,p=Error(r(130,l===null?"null":typeof l,"")),w=null}return d=ta(te,p,d,O),d.elementType=l,d.type=w,d.lanes=V,d}function Ph(l,d,p,w){return l=ta(7,l,w,d),l.lanes=p,l}function xI(l,d,p){return l=ta(6,l,null,d),l.lanes=p,l}function _I(l,d,p){return d=ta(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var lp=[],cp=0,NS=null,BS=0,Ua=[],Ha=0,Dh=null,Wc=1,Kc="";function Ah(l,d){lp[cp++]=BS,lp[cp++]=NS,NS=l,BS=d}function SW(l,d,p){Ua[Ha++]=Wc,Ua[Ha++]=Kc,Ua[Ha++]=Dh,Dh=l;var w=Wc;l=Kc;var O=32-xt(w)-1;w&=~(1<<O),p+=1;var V=32-xt(d)+O;if(30<V){var te=O-O%5;V=(w&(1<<te)-1).toString(32),w>>=te,O-=te,Wc=1<<32-xt(d)+O|p<<O|w,Kc=V+l}else Wc=1<<V|p<<O|w,Kc=l}function EI(l){l.return!==null&&(Ah(l,1),SW(l,1,0))}function TI(l){for(;l===NS;)NS=lp[--cp],lp[cp]=null,BS=lp[--cp],lp[cp]=null;for(;l===Dh;)Dh=Ua[--Ha],Ua[Ha]=null,Kc=Ua[--Ha],Ua[Ha]=null,Wc=Ua[--Ha],Ua[Ha]=null}var ds=null,zi=null,Pr=!1,Lh=null,lc=!1,MI=Error(r(519));function Nh(l){var d=Error(r(418,""));throw cv(X(d,l)),MI}function CW(l){var d=l.stateNode,p=l.type,w=l.memoizedProps;switch(d[nn]=l,d[un]=w,p){case"dialog":lr("cancel",d),lr("close",d);break;case"iframe":case"object":case"embed":lr("load",d);break;case"video":case"audio":for(p=0;p<Dv.length;p++)lr(Dv[p],d);break;case"source":lr("error",d);break;case"img":case"image":case"link":lr("error",d),lr("load",d);break;case"details":lr("toggle",d);break;case"input":lr("invalid",d),Xs(d,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),yo(d);break;case"select":lr("invalid",d);break;case"textarea":lr("invalid",d),nc(d,w.value,w.defaultValue,w.children),yo(d)}p=w.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||w.suppressHydrationWarning===!0||jK(d.textContent,p)?(w.popover!=null&&(lr("beforetoggle",d),lr("toggle",d)),w.onScroll!=null&&lr("scroll",d),w.onScrollEnd!=null&&lr("scrollend",d),w.onClick!=null&&(d.onclick=v0),d=!0):d=!1,d||Nh(l)}function xW(l){for(ds=l.return;ds;)switch(ds.tag){case 5:case 13:lc=!1;return;case 27:case 3:lc=!0;return;default:ds=ds.return}}function av(l){if(l!==ds)return!1;if(!Pr)return xW(l),Pr=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||Uk(l.type,l.memoizedProps)),p=!p),p&&zi&&Nh(l),xW(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(d===0){zi=wl(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++;l=l.nextSibling}zi=null}}else d===27?(d=zi,gd(l.type)?(l=Kk,Kk=null,zi=l):zi=d):zi=ds?wl(l.stateNode.nextSibling):null;return!0}function lv(){zi=ds=null,Pr=!1}function _W(){var l=Lh;return l!==null&&(ks===null?ks=l:ks.push.apply(ks,l),Lh=null),l}function cv(l){Lh===null?Lh=[l]:Lh.push(l)}var OI=Y(null),Bh=null,qc=null;function ed(l,d,p){he(OI,d._currentValue),d._currentValue=p}function Yc(l){l._currentValue=OI.current,J(OI)}function RI(l,d,p){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===p)break;l=l.return}}function II(l,d,p,w){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var V=O.dependencies;if(V!==null){var te=O.child;V=V.firstContext;e:for(;V!==null;){var ce=V;V=O;for(var Se=0;Se<d.length;Se++)if(ce.context===d[Se]){V.lanes|=p,ce=V.alternate,ce!==null&&(ce.lanes|=p),RI(V.return,p,l),w||(te=null);break e}V=ce.next}}else if(O.tag===18){if(te=O.return,te===null)throw Error(r(341));te.lanes|=p,V=te.alternate,V!==null&&(V.lanes|=p),RI(te,p,l),te=null}else te=O.child;if(te!==null)te.return=O;else for(te=O;te!==null;){if(te===l){te=null;break}if(O=te.sibling,O!==null){O.return=te.return,te=O;break}te=te.return}O=te}}function uv(l,d,p,w){l=null;for(var O=d,V=!1;O!==null;){if(!V){if((O.flags&524288)!==0)V=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var te=O.alternate;if(te===null)throw Error(r(387));if(te=te.memoizedProps,te!==null){var ce=O.type;C(O.pendingProps.value,te.value)||(l!==null?l.push(ce):l=[ce])}}else if(O===Ce.current){if(te=O.alternate,te===null)throw Error(r(387));te.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(jv):l=[jv])}O=O.return}l!==null&&II(d,l,p,w),d.flags|=262144}function FS(l){for(l=l.firstContext;l!==null;){if(!C(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Fh(l){Bh=l,qc=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ts(l){return EW(Bh,l)}function jS(l,d){return Bh===null&&Fh(l),EW(l,d)}function EW(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},qc===null){if(l===null)throw Error(r(308));qc=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else qc=qc.next=d;return p}var o5e=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,w){l.push(w)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},s5e=e.unstable_scheduleCallback,a5e=e.unstable_NormalPriority,_o={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kI(){return{controller:new o5e,data:new Map,refCount:0}}function dv(l){l.refCount--,l.refCount===0&&s5e(a5e,function(){l.controller.abort()})}var hv=null,PI=0,up=0,dp=null;function l5e(l,d){if(hv===null){var p=hv=[];PI=0,up=Ak(),dp={status:"pending",value:void 0,then:function(w){p.push(w)}}}return PI++,d.then(TW,TW),d}function TW(){if(--PI===0&&hv!==null){dp!==null&&(dp.status="fulfilled");var l=hv;hv=null,up=0,dp=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function c5e(l,d){var p=[],w={status:"pending",value:null,reason:null,then:function(O){p.push(O)}};return l.then(function(){w.status="fulfilled",w.value=d;for(var O=0;O<p.length;O++)(0,p[O])(d)},function(O){for(w.status="rejected",w.reason=O,O=0;O<p.length;O++)(0,p[O])(void 0)}),w}var MW=z.S;z.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&l5e(l,d),MW!==null&&MW(l,d)};var jh=Y(null);function DI(){var l=jh.current;return l!==null?l:li.pooledCache}function VS(l,d){d===null?he(jh,jh.current):he(jh,d.pool)}function OW(){var l=DI();return l===null?null:{parent:_o._currentValue,pool:l}}var fv=Error(r(460)),RW=Error(r(474)),$S=Error(r(542)),AI={then:function(){}};function IW(l){return l=l.status,l==="fulfilled"||l==="rejected"}function zS(){}function kW(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(zS,zS),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,DW(l),l;default:if(typeof d.status=="string")d.then(zS,zS);else{if(l=li,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(w){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=w}},function(w){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=w}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,DW(l),l}throw pv=d,fv}}var pv=null;function PW(){if(pv===null)throw Error(r(459));var l=pv;return pv=null,l}function DW(l){if(l===fv||l===$S)throw Error(r(483))}var td=!1;function LI(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function NI(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function nd(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function rd(l,d,p){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Hr&2)!==0){var O=w.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),w.pending=d,d=AS(l),ea(l,null,p),d}return nt(l,w,d,p),AS(l)}function gv(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var w=d.lanes;w&=l.pendingLanes,p|=w,d.lanes=p,Yr(l,p)}}function BI(l,d){var p=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var O=null,V=null;if(p=p.firstBaseUpdate,p!==null){do{var te={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};V===null?O=V=te:V=V.next=te,p=p.next}while(p!==null);V===null?O=V=d:V=V.next=d}else O=V=d;p={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:V,shared:w.shared,callbacks:w.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var FI=!1;function mv(){if(FI){var l=dp;if(l!==null)throw l}}function vv(l,d,p,w){FI=!1;var O=l.updateQueue;td=!1;var V=O.firstBaseUpdate,te=O.lastBaseUpdate,ce=O.shared.pending;if(ce!==null){O.shared.pending=null;var Se=ce,Ge=Se.next;Se.next=null,te===null?V=Ge:te.next=Ge,te=Se;var ht=l.alternate;ht!==null&&(ht=ht.updateQueue,ce=ht.lastBaseUpdate,ce!==te&&(ce===null?ht.firstBaseUpdate=Ge:ce.next=Ge,ht.lastBaseUpdate=Se))}if(V!==null){var yt=O.baseState;te=0,ht=Ge=Se=null,ce=V;do{var qe=ce.lane&-536870913,Ze=qe!==ce.lane;if(Ze?(pr&qe)===qe:(w&qe)===qe){qe!==0&&qe===up&&(FI=!0),ht!==null&&(ht=ht.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Ln=l,In=ce;qe=d;var ti=p;switch(In.tag){case 1:if(Ln=In.payload,typeof Ln=="function"){yt=Ln.call(ti,yt,qe);break e}yt=Ln;break e;case 3:Ln.flags=Ln.flags&-65537|128;case 0:if(Ln=In.payload,qe=typeof Ln=="function"?Ln.call(ti,yt,qe):Ln,qe==null)break e;yt=h({},yt,qe);break e;case 2:td=!0}}qe=ce.callback,qe!==null&&(l.flags|=64,Ze&&(l.flags|=8192),Ze=O.callbacks,Ze===null?O.callbacks=[qe]:Ze.push(qe))}else Ze={lane:qe,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},ht===null?(Ge=ht=Ze,Se=yt):ht=ht.next=Ze,te|=qe;if(ce=ce.next,ce===null){if(ce=O.shared.pending,ce===null)break;Ze=ce,ce=Ze.next,Ze.next=null,O.lastBaseUpdate=Ze,O.shared.pending=null}}while(!0);ht===null&&(Se=yt),O.baseState=Se,O.firstBaseUpdate=Ge,O.lastBaseUpdate=ht,V===null&&(O.shared.lanes=0),dd|=te,l.lanes=te,l.memoizedState=yt}}function AW(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function LW(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)AW(p[l],d)}var hp=Y(null),US=Y(0);function NW(l,d){l=nu,he(US,l),he(hp,d),nu=l|d.baseLanes}function jI(){he(US,nu),he(hp,hp.current)}function VI(){nu=US.current,J(hp),J(US)}var id=0,nr=null,Jr=null,so=null,HS=!1,fp=!1,Vh=!1,GS=0,yv=0,pp=null,u5e=0;function Ji(){throw Error(r(321))}function $I(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!C(l[p],d[p]))return!1;return!0}function zI(l,d,p,w,O,V){return id=V,nr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,z.H=l===null||l.memoizedState===null?b6:w6,Vh=!1,V=p(w,O),Vh=!1,fp&&(V=FW(d,p,w,O)),BW(l),V}function BW(l){z.H=ZS;var d=Jr!==null&&Jr.next!==null;if(id=0,so=Jr=nr=null,HS=!1,yv=0,pp=null,d)throw Error(r(300));l===null||No||(l=l.dependencies,l!==null&&FS(l)&&(No=!0))}function FW(l,d,p,w){nr=l;var O=0;do{if(fp&&(pp=null),yv=0,fp=!1,25<=O)throw Error(r(301));if(O+=1,so=Jr=null,l.updateQueue!=null){var V=l.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}z.H=v5e,V=d(p,w)}while(fp);return V}function d5e(){var l=z.H,d=l.useState()[0];return d=typeof d.then=="function"?bv(d):d,l=l.useState()[0],(Jr!==null?Jr.memoizedState:null)!==l&&(nr.flags|=1024),d}function UI(){var l=GS!==0;return GS=0,l}function HI(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function GI(l){if(HS){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}HS=!1}id=0,so=Jr=nr=null,fp=!1,yv=GS=0,pp=null}function Rs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return so===null?nr.memoizedState=so=l:so=so.next=l,so}function ao(){if(Jr===null){var l=nr.alternate;l=l!==null?l.memoizedState:null}else l=Jr.next;var d=so===null?nr.memoizedState:so.next;if(d!==null)so=d,Jr=l;else{if(l===null)throw nr.alternate===null?Error(r(467)):Error(r(310));Jr=l,l={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},so===null?nr.memoizedState=so=l:so=so.next=l}return so}function WI(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bv(l){var d=yv;return yv+=1,pp===null&&(pp=[]),l=kW(pp,l,d),d=nr,(so===null?d.memoizedState:so.next)===null&&(d=d.alternate,z.H=d===null||d.memoizedState===null?b6:w6),l}function WS(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return bv(l);if(l.$$typeof===T)return ts(l)}throw Error(r(438,String(l)))}function KI(l){var d=null,p=nr.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var w=nr.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(d={data:w.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=WI(),nr.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),w=0;w<l;w++)p[w]=A;return d.index++,p}function Xc(l,d){return typeof d=="function"?d(l):d}function KS(l){var d=ao();return qI(d,Jr,l)}function qI(l,d,p){var w=l.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=p;var O=l.baseQueue,V=w.pending;if(V!==null){if(O!==null){var te=O.next;O.next=V.next,V.next=te}d.baseQueue=O=V,w.pending=null}if(V=l.baseState,O===null)l.memoizedState=V;else{d=O.next;var ce=te=null,Se=null,Ge=d,ht=!1;do{var yt=Ge.lane&-536870913;if(yt!==Ge.lane?(pr&yt)===yt:(id&yt)===yt){var qe=Ge.revertLane;if(qe===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),yt===up&&(ht=!0);else if((id&qe)===qe){Ge=Ge.next,qe===up&&(ht=!0);continue}else yt={lane:0,revertLane:Ge.revertLane,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Se===null?(ce=Se=yt,te=V):Se=Se.next=yt,nr.lanes|=qe,dd|=qe;yt=Ge.action,Vh&&p(V,yt),V=Ge.hasEagerState?Ge.eagerState:p(V,yt)}else qe={lane:yt,revertLane:Ge.revertLane,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Se===null?(ce=Se=qe,te=V):Se=Se.next=qe,nr.lanes|=yt,dd|=yt;Ge=Ge.next}while(Ge!==null&&Ge!==d);if(Se===null?te=V:Se.next=ce,!C(V,l.memoizedState)&&(No=!0,ht&&(p=dp,p!==null)))throw p;l.memoizedState=V,l.baseState=te,l.baseQueue=Se,w.lastRenderedState=V}return O===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function YI(l){var d=ao(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var w=p.dispatch,O=p.pending,V=d.memoizedState;if(O!==null){p.pending=null;var te=O=O.next;do V=l(V,te.action),te=te.next;while(te!==O);C(V,d.memoizedState)||(No=!0),d.memoizedState=V,d.baseQueue===null&&(d.baseState=V),p.lastRenderedState=V}return[V,w]}function jW(l,d,p){var w=nr,O=ao(),V=Pr;if(V){if(p===void 0)throw Error(r(407));p=p()}else p=d();var te=!C((Jr||O).memoizedState,p);te&&(O.memoizedState=p,No=!0),O=O.queue;var ce=zW.bind(null,w,O,l);if(wv(2048,8,ce,[l]),O.getSnapshot!==d||te||so!==null&&so.memoizedState.tag&1){if(w.flags|=2048,gp(9,qS(),$W.bind(null,w,O,p,d),null),li===null)throw Error(r(349));V||(id&124)!==0||VW(w,d,p)}return p}function VW(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=nr.updateQueue,d===null?(d=WI(),nr.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function $W(l,d,p,w){d.value=p,d.getSnapshot=w,UW(d)&&HW(l)}function zW(l,d,p){return p(function(){UW(d)&&HW(l)})}function UW(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!C(l,p)}catch{return!0}}function HW(l){var d=On(l,2);d!==null&&sa(d,l,2)}function XI(l){var d=Rs();if(typeof l=="function"){var p=l;if(l=p(),Vh){sn(!0);try{p()}finally{sn(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:l},d}function GW(l,d,p,w){return l.baseState=p,qI(l,Jr,typeof w=="function"?w:Xc)}function h5e(l,d,p,w,O){if(XS(l))throw Error(r(485));if(l=d.action,l!==null){var V={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){V.listeners.push(te)}};z.T!==null?p(!0):V.isTransition=!1,w(V),p=d.pending,p===null?(V.next=d.pending=V,WW(d,V)):(V.next=p.next,d.pending=p.next=V)}}function WW(l,d){var p=d.action,w=d.payload,O=l.state;if(d.isTransition){var V=z.T,te={};z.T=te;try{var ce=p(O,w),Se=z.S;Se!==null&&Se(te,ce),KW(l,d,ce)}catch(Ge){ZI(l,d,Ge)}finally{z.T=V}}else try{V=p(O,w),KW(l,d,V)}catch(Ge){ZI(l,d,Ge)}}function KW(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(w){qW(l,d,w)},function(w){return ZI(l,d,w)}):qW(l,d,p)}function qW(l,d,p){d.status="fulfilled",d.value=p,YW(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,WW(l,p)))}function ZI(l,d,p){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do d.status="rejected",d.reason=p,YW(d),d=d.next;while(d!==w)}l.action=null}function YW(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function XW(l,d){return d}function ZW(l,d){if(Pr){var p=li.formState;if(p!==null){e:{var w=nr;if(Pr){if(zi){t:{for(var O=zi,V=lc;O.nodeType!==8;){if(!V){O=null;break t}if(O=wl(O.nextSibling),O===null){O=null;break t}}V=O.data,O=V==="F!"||V==="F"?O:null}if(O){zi=wl(O.nextSibling),w=O.data==="F!";break e}}Nh(w)}w=!1}w&&(d=p[0])}}return p=Rs(),p.memoizedState=p.baseState=d,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XW,lastRenderedState:d},p.queue=w,p=m6.bind(null,nr,w),w.dispatch=p,w=XI(!1),V=nk.bind(null,nr,!1,w.queue),w=Rs(),O={state:d,dispatch:null,action:l,pending:null},w.queue=O,p=h5e.bind(null,nr,O,V,p),O.dispatch=p,w.memoizedState=l,[d,p,!1]}function QW(l){var d=ao();return JW(d,Jr,l)}function JW(l,d,p){if(d=qI(l,d,XW)[0],l=KS(Xc)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var w=bv(d)}catch(te){throw te===fv?$S:te}else w=d;d=ao();var O=d.queue,V=O.dispatch;return p!==d.memoizedState&&(nr.flags|=2048,gp(9,qS(),f5e.bind(null,O,p),null)),[w,V,l]}function f5e(l,d){l.action=d}function e6(l){var d=ao(),p=Jr;if(p!==null)return JW(d,p,l);ao(),d=d.memoizedState,p=ao();var w=p.queue.dispatch;return p.memoizedState=l,[d,w,!1]}function gp(l,d,p,w){return l={tag:l,create:p,deps:w,inst:d,next:null},d=nr.updateQueue,d===null&&(d=WI(),nr.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(w=p.next,p.next=l,l.next=w,d.lastEffect=l),l}function qS(){return{destroy:void 0,resource:void 0}}function t6(){return ao().memoizedState}function YS(l,d,p,w){var O=Rs();w=w===void 0?null:w,nr.flags|=l,O.memoizedState=gp(1|d,qS(),p,w)}function wv(l,d,p,w){var O=ao();w=w===void 0?null:w;var V=O.memoizedState.inst;Jr!==null&&w!==null&&$I(w,Jr.memoizedState.deps)?O.memoizedState=gp(d,V,p,w):(nr.flags|=l,O.memoizedState=gp(1|d,V,p,w))}function n6(l,d){YS(8390656,8,l,d)}function r6(l,d){wv(2048,8,l,d)}function i6(l,d){return wv(4,2,l,d)}function o6(l,d){return wv(4,4,l,d)}function s6(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function a6(l,d,p){p=p!=null?p.concat([l]):null,wv(4,4,s6.bind(null,d,l),p)}function QI(){}function l6(l,d){var p=ao();d=d===void 0?null:d;var w=p.memoizedState;return d!==null&&$I(d,w[1])?w[0]:(p.memoizedState=[l,d],l)}function c6(l,d){var p=ao();d=d===void 0?null:d;var w=p.memoizedState;if(d!==null&&$I(d,w[1]))return w[0];if(w=l(),Vh){sn(!0);try{l()}finally{sn(!1)}}return p.memoizedState=[w,d],w}function JI(l,d,p){return p===void 0||(id&1073741824)!==0?l.memoizedState=d:(l.memoizedState=p,l=hK(),nr.lanes|=l,dd|=l,p)}function u6(l,d,p,w){return C(p,d)?p:hp.current!==null?(l=JI(l,p,w),C(l,d)||(No=!0),l):(id&42)===0?(No=!0,l.memoizedState=p):(l=hK(),nr.lanes|=l,dd|=l,d)}function d6(l,d,p,w,O){var V=Z.p;Z.p=V!==0&&8>V?V:8;var te=z.T,ce={};z.T=ce,nk(l,!1,d,p);try{var Se=O(),Ge=z.S;if(Ge!==null&&Ge(ce,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ht=c5e(Se,w);Sv(l,d,ht,oa(l))}else Sv(l,d,w,oa(l))}catch(yt){Sv(l,d,{then:function(){},status:"rejected",reason:yt},oa())}finally{Z.p=V,z.T=te}}function p5e(){}function ek(l,d,p,w){if(l.tag!==5)throw Error(r(476));var O=h6(l).queue;d6(l,O,d,ee,p===null?p5e:function(){return f6(l),p(w)})}function h6(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:ee},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function f6(l){var d=h6(l).next.queue;Sv(l,d,{},oa())}function tk(){return ts(jv)}function p6(){return ao().memoizedState}function g6(){return ao().memoizedState}function g5e(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=oa();l=nd(p);var w=rd(d,l,p);w!==null&&(sa(w,d,p),gv(w,d,p)),d={cache:kI()},l.payload=d;return}d=d.return}}function m5e(l,d,p){var w=oa();p={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},XS(l)?v6(d,p):(p=Mn(l,d,p,w),p!==null&&(sa(p,l,w),y6(p,d,w)))}function m6(l,d,p){var w=oa();Sv(l,d,p,w)}function Sv(l,d,p,w){var O={lane:w,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(XS(l))v6(d,O);else{var V=l.alternate;if(l.lanes===0&&(V===null||V.lanes===0)&&(V=d.lastRenderedReducer,V!==null))try{var te=d.lastRenderedState,ce=V(te,p);if(O.hasEagerState=!0,O.eagerState=ce,C(ce,te))return nt(l,d,O,0),li===null&&Qe(),!1}catch{}finally{}if(p=Mn(l,d,O,w),p!==null)return sa(p,l,w),y6(p,d,w),!0}return!1}function nk(l,d,p,w){if(w={lane:2,revertLane:Ak(),action:w,hasEagerState:!1,eagerState:null,next:null},XS(l)){if(d)throw Error(r(479))}else d=Mn(l,p,w,2),d!==null&&sa(d,l,2)}function XS(l){var d=l.alternate;return l===nr||d!==null&&d===nr}function v6(l,d){fp=HS=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function y6(l,d,p){if((p&4194048)!==0){var w=d.lanes;w&=l.pendingLanes,p|=w,d.lanes=p,Yr(l,p)}}var ZS={readContext:ts,use:WS,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useLayoutEffect:Ji,useInsertionEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useSyncExternalStore:Ji,useId:Ji,useHostTransitionStatus:Ji,useFormState:Ji,useActionState:Ji,useOptimistic:Ji,useMemoCache:Ji,useCacheRefresh:Ji},b6={readContext:ts,use:WS,useCallback:function(l,d){return Rs().memoizedState=[l,d===void 0?null:d],l},useContext:ts,useEffect:n6,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,YS(4194308,4,s6.bind(null,d,l),p)},useLayoutEffect:function(l,d){return YS(4194308,4,l,d)},useInsertionEffect:function(l,d){YS(4,2,l,d)},useMemo:function(l,d){var p=Rs();d=d===void 0?null:d;var w=l();if(Vh){sn(!0);try{l()}finally{sn(!1)}}return p.memoizedState=[w,d],w},useReducer:function(l,d,p){var w=Rs();if(p!==void 0){var O=p(d);if(Vh){sn(!0);try{p(d)}finally{sn(!1)}}}else O=d;return w.memoizedState=w.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},w.queue=l,l=l.dispatch=m5e.bind(null,nr,l),[w.memoizedState,l]},useRef:function(l){var d=Rs();return l={current:l},d.memoizedState=l},useState:function(l){l=XI(l);var d=l.queue,p=m6.bind(null,nr,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:QI,useDeferredValue:function(l,d){var p=Rs();return JI(p,l,d)},useTransition:function(){var l=XI(!1);return l=d6.bind(null,nr,l.queue,!0,!1),Rs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var w=nr,O=Rs();if(Pr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),li===null)throw Error(r(349));(pr&124)!==0||VW(w,d,p)}O.memoizedState=p;var V={value:p,getSnapshot:d};return O.queue=V,n6(zW.bind(null,w,V,l),[l]),w.flags|=2048,gp(9,qS(),$W.bind(null,w,V,p,d),null),p},useId:function(){var l=Rs(),d=li.identifierPrefix;if(Pr){var p=Kc,w=Wc;p=(w&~(1<<32-xt(w)-1)).toString(32)+p,d="«"+d+"R"+p,p=GS++,0<p&&(d+="H"+p.toString(32)),d+="»"}else p=u5e++,d="«"+d+"r"+p.toString(32)+"»";return l.memoizedState=d},useHostTransitionStatus:tk,useFormState:ZW,useActionState:ZW,useOptimistic:function(l){var d=Rs();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=nk.bind(null,nr,!0,p),p.dispatch=d,[l,d]},useMemoCache:KI,useCacheRefresh:function(){return Rs().memoizedState=g5e.bind(null,nr)}},w6={readContext:ts,use:WS,useCallback:l6,useContext:ts,useEffect:r6,useImperativeHandle:a6,useInsertionEffect:i6,useLayoutEffect:o6,useMemo:c6,useReducer:KS,useRef:t6,useState:function(){return KS(Xc)},useDebugValue:QI,useDeferredValue:function(l,d){var p=ao();return u6(p,Jr.memoizedState,l,d)},useTransition:function(){var l=KS(Xc)[0],d=ao().memoizedState;return[typeof l=="boolean"?l:bv(l),d]},useSyncExternalStore:jW,useId:p6,useHostTransitionStatus:tk,useFormState:QW,useActionState:QW,useOptimistic:function(l,d){var p=ao();return GW(p,Jr,l,d)},useMemoCache:KI,useCacheRefresh:g6},v5e={readContext:ts,use:WS,useCallback:l6,useContext:ts,useEffect:r6,useImperativeHandle:a6,useInsertionEffect:i6,useLayoutEffect:o6,useMemo:c6,useReducer:YI,useRef:t6,useState:function(){return YI(Xc)},useDebugValue:QI,useDeferredValue:function(l,d){var p=ao();return Jr===null?JI(p,l,d):u6(p,Jr.memoizedState,l,d)},useTransition:function(){var l=YI(Xc)[0],d=ao().memoizedState;return[typeof l=="boolean"?l:bv(l),d]},useSyncExternalStore:jW,useId:p6,useHostTransitionStatus:tk,useFormState:e6,useActionState:e6,useOptimistic:function(l,d){var p=ao();return Jr!==null?GW(p,Jr,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:KI,useCacheRefresh:g6},mp=null,Cv=0;function QS(l){var d=Cv;return Cv+=1,mp===null&&(mp=[]),kW(mp,l,d)}function xv(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function JS(l,d){throw d.$$typeof===f?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function S6(l){var d=l._init;return d(l._payload)}function C6(l){function d(Fe,Oe){if(l){var Ue=Fe.deletions;Ue===null?(Fe.deletions=[Oe],Fe.flags|=16):Ue.push(Oe)}}function p(Fe,Oe){if(!l)return null;for(;Oe!==null;)d(Fe,Oe),Oe=Oe.sibling;return null}function w(Fe){for(var Oe=new Map;Fe!==null;)Fe.key!==null?Oe.set(Fe.key,Fe):Oe.set(Fe.index,Fe),Fe=Fe.sibling;return Oe}function O(Fe,Oe){return Fe=Gc(Fe,Oe),Fe.index=0,Fe.sibling=null,Fe}function V(Fe,Oe,Ue){return Fe.index=Ue,l?(Ue=Fe.alternate,Ue!==null?(Ue=Ue.index,Ue<Oe?(Fe.flags|=67108866,Oe):Ue):(Fe.flags|=67108866,Oe)):(Fe.flags|=1048576,Oe)}function te(Fe){return l&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function ce(Fe,Oe,Ue,gt){return Oe===null||Oe.tag!==6?(Oe=xI(Ue,Fe.mode,gt),Oe.return=Fe,Oe):(Oe=O(Oe,Ue),Oe.return=Fe,Oe)}function Se(Fe,Oe,Ue,gt){var hn=Ue.type;return hn===y?ht(Fe,Oe,Ue.props.children,gt,Ue.key):Oe!==null&&(Oe.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===D&&S6(hn)===Oe.type)?(Oe=O(Oe,Ue.props),xv(Oe,Ue),Oe.return=Fe,Oe):(Oe=LS(Ue.type,Ue.key,Ue.props,null,Fe.mode,gt),xv(Oe,Ue),Oe.return=Fe,Oe)}function Ge(Fe,Oe,Ue,gt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ue.containerInfo||Oe.stateNode.implementation!==Ue.implementation?(Oe=_I(Ue,Fe.mode,gt),Oe.return=Fe,Oe):(Oe=O(Oe,Ue.children||[]),Oe.return=Fe,Oe)}function ht(Fe,Oe,Ue,gt,hn){return Oe===null||Oe.tag!==7?(Oe=Ph(Ue,Fe.mode,gt,hn),Oe.return=Fe,Oe):(Oe=O(Oe,Ue),Oe.return=Fe,Oe)}function yt(Fe,Oe,Ue){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=xI(""+Oe,Fe.mode,Ue),Oe.return=Fe,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return Ue=LS(Oe.type,Oe.key,Oe.props,null,Fe.mode,Ue),xv(Ue,Oe),Ue.return=Fe,Ue;case m:return Oe=_I(Oe,Fe.mode,Ue),Oe.return=Fe,Oe;case D:var gt=Oe._init;return Oe=gt(Oe._payload),yt(Fe,Oe,Ue)}if(K(Oe)||F(Oe))return Oe=Ph(Oe,Fe.mode,Ue,null),Oe.return=Fe,Oe;if(typeof Oe.then=="function")return yt(Fe,QS(Oe),Ue);if(Oe.$$typeof===T)return yt(Fe,jS(Fe,Oe),Ue);JS(Fe,Oe)}return null}function qe(Fe,Oe,Ue,gt){var hn=Oe!==null?Oe.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return hn!==null?null:ce(Fe,Oe,""+Ue,gt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case g:return Ue.key===hn?Se(Fe,Oe,Ue,gt):null;case m:return Ue.key===hn?Ge(Fe,Oe,Ue,gt):null;case D:return hn=Ue._init,Ue=hn(Ue._payload),qe(Fe,Oe,Ue,gt)}if(K(Ue)||F(Ue))return hn!==null?null:ht(Fe,Oe,Ue,gt,null);if(typeof Ue.then=="function")return qe(Fe,Oe,QS(Ue),gt);if(Ue.$$typeof===T)return qe(Fe,Oe,jS(Fe,Ue),gt);JS(Fe,Ue)}return null}function Ze(Fe,Oe,Ue,gt,hn){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Fe=Fe.get(Ue)||null,ce(Oe,Fe,""+gt,hn);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case g:return Fe=Fe.get(gt.key===null?Ue:gt.key)||null,Se(Oe,Fe,gt,hn);case m:return Fe=Fe.get(gt.key===null?Ue:gt.key)||null,Ge(Oe,Fe,gt,hn);case D:var ir=gt._init;return gt=ir(gt._payload),Ze(Fe,Oe,Ue,gt,hn)}if(K(gt)||F(gt))return Fe=Fe.get(Ue)||null,ht(Oe,Fe,gt,hn,null);if(typeof gt.then=="function")return Ze(Fe,Oe,Ue,QS(gt),hn);if(gt.$$typeof===T)return Ze(Fe,Oe,Ue,jS(Oe,gt),hn);JS(Oe,gt)}return null}function Ln(Fe,Oe,Ue,gt){for(var hn=null,ir=null,Cn=Oe,Dn=Oe=0,Fo=null;Cn!==null&&Dn<Ue.length;Dn++){Cn.index>Dn?(Fo=Cn,Cn=null):Fo=Cn.sibling;var Mr=qe(Fe,Cn,Ue[Dn],gt);if(Mr===null){Cn===null&&(Cn=Fo);break}l&&Cn&&Mr.alternate===null&&d(Fe,Cn),Oe=V(Mr,Oe,Dn),ir===null?hn=Mr:ir.sibling=Mr,ir=Mr,Cn=Fo}if(Dn===Ue.length)return p(Fe,Cn),Pr&&Ah(Fe,Dn),hn;if(Cn===null){for(;Dn<Ue.length;Dn++)Cn=yt(Fe,Ue[Dn],gt),Cn!==null&&(Oe=V(Cn,Oe,Dn),ir===null?hn=Cn:ir.sibling=Cn,ir=Cn);return Pr&&Ah(Fe,Dn),hn}for(Cn=w(Cn);Dn<Ue.length;Dn++)Fo=Ze(Cn,Fe,Dn,Ue[Dn],gt),Fo!==null&&(l&&Fo.alternate!==null&&Cn.delete(Fo.key===null?Dn:Fo.key),Oe=V(Fo,Oe,Dn),ir===null?hn=Fo:ir.sibling=Fo,ir=Fo);return l&&Cn.forEach(function(wd){return d(Fe,wd)}),Pr&&Ah(Fe,Dn),hn}function In(Fe,Oe,Ue,gt){if(Ue==null)throw Error(r(151));for(var hn=null,ir=null,Cn=Oe,Dn=Oe=0,Fo=null,Mr=Ue.next();Cn!==null&&!Mr.done;Dn++,Mr=Ue.next()){Cn.index>Dn?(Fo=Cn,Cn=null):Fo=Cn.sibling;var wd=qe(Fe,Cn,Mr.value,gt);if(wd===null){Cn===null&&(Cn=Fo);break}l&&Cn&&wd.alternate===null&&d(Fe,Cn),Oe=V(wd,Oe,Dn),ir===null?hn=wd:ir.sibling=wd,ir=wd,Cn=Fo}if(Mr.done)return p(Fe,Cn),Pr&&Ah(Fe,Dn),hn;if(Cn===null){for(;!Mr.done;Dn++,Mr=Ue.next())Mr=yt(Fe,Mr.value,gt),Mr!==null&&(Oe=V(Mr,Oe,Dn),ir===null?hn=Mr:ir.sibling=Mr,ir=Mr);return Pr&&Ah(Fe,Dn),hn}for(Cn=w(Cn);!Mr.done;Dn++,Mr=Ue.next())Mr=Ze(Cn,Fe,Dn,Mr.value,gt),Mr!==null&&(l&&Mr.alternate!==null&&Cn.delete(Mr.key===null?Dn:Mr.key),Oe=V(Mr,Oe,Dn),ir===null?hn=Mr:ir.sibling=Mr,ir=Mr);return l&&Cn.forEach(function(yWe){return d(Fe,yWe)}),Pr&&Ah(Fe,Dn),hn}function ti(Fe,Oe,Ue,gt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===y&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case g:e:{for(var hn=Ue.key;Oe!==null;){if(Oe.key===hn){if(hn=Ue.type,hn===y){if(Oe.tag===7){p(Fe,Oe.sibling),gt=O(Oe,Ue.props.children),gt.return=Fe,Fe=gt;break e}}else if(Oe.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===D&&S6(hn)===Oe.type){p(Fe,Oe.sibling),gt=O(Oe,Ue.props),xv(gt,Ue),gt.return=Fe,Fe=gt;break e}p(Fe,Oe);break}else d(Fe,Oe);Oe=Oe.sibling}Ue.type===y?(gt=Ph(Ue.props.children,Fe.mode,gt,Ue.key),gt.return=Fe,Fe=gt):(gt=LS(Ue.type,Ue.key,Ue.props,null,Fe.mode,gt),xv(gt,Ue),gt.return=Fe,Fe=gt)}return te(Fe);case m:e:{for(hn=Ue.key;Oe!==null;){if(Oe.key===hn)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ue.containerInfo&&Oe.stateNode.implementation===Ue.implementation){p(Fe,Oe.sibling),gt=O(Oe,Ue.children||[]),gt.return=Fe,Fe=gt;break e}else{p(Fe,Oe);break}else d(Fe,Oe);Oe=Oe.sibling}gt=_I(Ue,Fe.mode,gt),gt.return=Fe,Fe=gt}return te(Fe);case D:return hn=Ue._init,Ue=hn(Ue._payload),ti(Fe,Oe,Ue,gt)}if(K(Ue))return Ln(Fe,Oe,Ue,gt);if(F(Ue)){if(hn=F(Ue),typeof hn!="function")throw Error(r(150));return Ue=hn.call(Ue),In(Fe,Oe,Ue,gt)}if(typeof Ue.then=="function")return ti(Fe,Oe,QS(Ue),gt);if(Ue.$$typeof===T)return ti(Fe,Oe,jS(Fe,Ue),gt);JS(Fe,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,Oe!==null&&Oe.tag===6?(p(Fe,Oe.sibling),gt=O(Oe,Ue),gt.return=Fe,Fe=gt):(p(Fe,Oe),gt=xI(Ue,Fe.mode,gt),gt.return=Fe,Fe=gt),te(Fe)):p(Fe,Oe)}return function(Fe,Oe,Ue,gt){try{Cv=0;var hn=ti(Fe,Oe,Ue,gt);return mp=null,hn}catch(Cn){if(Cn===fv||Cn===$S)throw Cn;var ir=ta(29,Cn,null,Fe.mode);return ir.lanes=gt,ir.return=Fe,ir}finally{}}}var vp=C6(!0),x6=C6(!1),Ga=Y(null),cc=null;function od(l){var d=l.alternate;he(Eo,Eo.current&1),he(Ga,l),cc===null&&(d===null||hp.current!==null||d.memoizedState!==null)&&(cc=l)}function _6(l){if(l.tag===22){if(he(Eo,Eo.current),he(Ga,l),cc===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(cc=l)}}else sd()}function sd(){he(Eo,Eo.current),he(Ga,Ga.current)}function Zc(l){J(Ga),cc===l&&(cc=null),J(Eo)}var Eo=Y(0);function e0(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||Wk(p)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function rk(l,d,p,w){d=l.memoizedState,p=p(w,d),p=p==null?d:h({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var ik={enqueueSetState:function(l,d,p){l=l._reactInternals;var w=oa(),O=nd(w);O.payload=d,p!=null&&(O.callback=p),d=rd(l,O,w),d!==null&&(sa(d,l,w),gv(d,l,w))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var w=oa(),O=nd(w);O.tag=1,O.payload=d,p!=null&&(O.callback=p),d=rd(l,O,w),d!==null&&(sa(d,l,w),gv(d,l,w))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=oa(),w=nd(p);w.tag=2,d!=null&&(w.callback=d),d=rd(l,w,p),d!==null&&(sa(d,l,p),gv(d,l,p))}};function E6(l,d,p,w,O,V,te){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,V,te):d.prototype&&d.prototype.isPureReactComponent?!j(p,w)||!j(O,V):!0}function T6(l,d,p,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,w),d.state!==l&&ik.enqueueReplaceState(d,d.state,null)}function $h(l,d){var p=d;if("ref"in d){p={};for(var w in d)w!=="ref"&&(p[w]=d[w])}if(l=l.defaultProps){p===d&&(p=h({},p));for(var O in l)p[O]===void 0&&(p[O]=l[O])}return p}var t0=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function M6(l){t0(l)}function O6(l){console.error(l)}function R6(l){t0(l)}function n0(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(w){setTimeout(function(){throw w})}}function I6(l,d,p){try{var w=l.onCaughtError;w(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function ok(l,d,p){return p=nd(p),p.tag=3,p.payload={element:null},p.callback=function(){n0(l,d)},p}function k6(l){return l=nd(l),l.tag=3,l}function P6(l,d,p,w){var O=p.type.getDerivedStateFromError;if(typeof O=="function"){var V=w.value;l.payload=function(){return O(V)},l.callback=function(){I6(d,p,w)}}var te=p.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(l.callback=function(){I6(d,p,w),typeof O!="function"&&(hd===null?hd=new Set([this]):hd.add(this));var ce=w.stack;this.componentDidCatch(w.value,{componentStack:ce!==null?ce:""})})}function y5e(l,d,p,w,O){if(p.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(d=p.alternate,d!==null&&uv(d,p,O,!0),p=Ga.current,p!==null){switch(p.tag){case 13:return cc===null?Rk():p.alternate===null&&Ui===0&&(Ui=3),p.flags&=-257,p.flags|=65536,p.lanes=O,w===AI?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([w]):d.add(w),kk(l,w,O)),!1;case 22:return p.flags|=65536,w===AI?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([w])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([w]):p.add(w)),kk(l,w,O)),!1}throw Error(r(435,p.tag))}return kk(l,w,O),Rk(),!1}if(Pr)return d=Ga.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,w!==MI&&(l=Error(r(422),{cause:w}),cv(X(l,p)))):(w!==MI&&(d=Error(r(423),{cause:w}),cv(X(d,p))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,w=X(w,p),O=ok(l.stateNode,w,O),BI(l,O),Ui!==4&&(Ui=2)),!1;var V=Error(r(520),{cause:w});if(V=X(V,p),Iv===null?Iv=[V]:Iv.push(V),Ui!==4&&(Ui=2),d===null)return!0;w=X(w,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=O&-O,p.lanes|=l,l=ok(p.stateNode,w,l),BI(p,l),!1;case 1:if(d=p.type,V=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(hd===null||!hd.has(V))))return p.flags|=65536,O&=-O,p.lanes|=O,O=k6(O),P6(O,l,p,w),BI(p,O),!1}p=p.return}while(p!==null);return!1}var D6=Error(r(461)),No=!1;function Wo(l,d,p,w){d.child=l===null?x6(d,null,p,w):vp(d,l.child,p,w)}function A6(l,d,p,w,O){p=p.render;var V=d.ref;if("ref"in w){var te={};for(var ce in w)ce!=="ref"&&(te[ce]=w[ce])}else te=w;return Fh(d),w=zI(l,d,p,te,V,O),ce=UI(),l!==null&&!No?(HI(l,d,O),Qc(l,d,O)):(Pr&&ce&&EI(d),d.flags|=1,Wo(l,d,w,O),d.child)}function L6(l,d,p,w,O){if(l===null){var V=p.type;return typeof V=="function"&&!CI(V)&&V.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=V,N6(l,d,V,w,O)):(l=LS(p.type,null,w,d,d.mode,O),l.ref=d.ref,l.return=d,d.child=l)}if(V=l.child,!fk(l,O)){var te=V.memoizedProps;if(p=p.compare,p=p!==null?p:j,p(te,w)&&l.ref===d.ref)return Qc(l,d,O)}return d.flags|=1,l=Gc(V,w),l.ref=d.ref,l.return=d,d.child=l}function N6(l,d,p,w,O){if(l!==null){var V=l.memoizedProps;if(j(V,w)&&l.ref===d.ref)if(No=!1,d.pendingProps=w=V,fk(l,O))(l.flags&131072)!==0&&(No=!0);else return d.lanes=l.lanes,Qc(l,d,O)}return sk(l,d,p,w,O)}function B6(l,d,p){var w=d.pendingProps,O=w.children,V=l!==null?l.memoizedState:null;if(w.mode==="hidden"){if((d.flags&128)!==0){if(w=V!==null?V.baseLanes|p:p,l!==null){for(O=d.child=l.child,V=0;O!==null;)V=V|O.lanes|O.childLanes,O=O.sibling;d.childLanes=V&~w}else d.childLanes=0,d.child=null;return F6(l,d,w,p)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&VS(d,V!==null?V.cachePool:null),V!==null?NW(d,V):jI(),_6(d);else return d.lanes=d.childLanes=536870912,F6(l,d,V!==null?V.baseLanes|p:p,p)}else V!==null?(VS(d,V.cachePool),NW(d,V),sd(),d.memoizedState=null):(l!==null&&VS(d,null),jI(),sd());return Wo(l,d,O,p),d.child}function F6(l,d,p,w){var O=DI();return O=O===null?null:{parent:_o._currentValue,pool:O},d.memoizedState={baseLanes:p,cachePool:O},l!==null&&VS(d,null),jI(),_6(d),l!==null&&uv(l,d,w,!0),null}function r0(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function sk(l,d,p,w,O){return Fh(d),p=zI(l,d,p,w,void 0,O),w=UI(),l!==null&&!No?(HI(l,d,O),Qc(l,d,O)):(Pr&&w&&EI(d),d.flags|=1,Wo(l,d,p,O),d.child)}function j6(l,d,p,w,O,V){return Fh(d),d.updateQueue=null,p=FW(d,w,p,O),BW(l),w=UI(),l!==null&&!No?(HI(l,d,V),Qc(l,d,V)):(Pr&&w&&EI(d),d.flags|=1,Wo(l,d,p,V),d.child)}function V6(l,d,p,w,O){if(Fh(d),d.stateNode===null){var V=ap,te=p.contextType;typeof te=="object"&&te!==null&&(V=ts(te)),V=new p(w,V),d.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=ik,d.stateNode=V,V._reactInternals=d,V=d.stateNode,V.props=w,V.state=d.memoizedState,V.refs={},LI(d),te=p.contextType,V.context=typeof te=="object"&&te!==null?ts(te):ap,V.state=d.memoizedState,te=p.getDerivedStateFromProps,typeof te=="function"&&(rk(d,p,te,w),V.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(te=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),te!==V.state&&ik.enqueueReplaceState(V,V.state,null),vv(d,w,V,O),mv(),V.state=d.memoizedState),typeof V.componentDidMount=="function"&&(d.flags|=4194308),w=!0}else if(l===null){V=d.stateNode;var ce=d.memoizedProps,Se=$h(p,ce);V.props=Se;var Ge=V.context,ht=p.contextType;te=ap,typeof ht=="object"&&ht!==null&&(te=ts(ht));var yt=p.getDerivedStateFromProps;ht=typeof yt=="function"||typeof V.getSnapshotBeforeUpdate=="function",ce=d.pendingProps!==ce,ht||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ce||Ge!==te)&&T6(d,V,w,te),td=!1;var qe=d.memoizedState;V.state=qe,vv(d,w,V,O),mv(),Ge=d.memoizedState,ce||qe!==Ge||td?(typeof yt=="function"&&(rk(d,p,yt,w),Ge=d.memoizedState),(Se=td||E6(d,p,Se,w,qe,Ge,te))?(ht||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=Ge),V.props=w,V.state=Ge,V.context=te,w=Se):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{V=d.stateNode,NI(l,d),te=d.memoizedProps,ht=$h(p,te),V.props=ht,yt=d.pendingProps,qe=V.context,Ge=p.contextType,Se=ap,typeof Ge=="object"&&Ge!==null&&(Se=ts(Ge)),ce=p.getDerivedStateFromProps,(Ge=typeof ce=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(te!==yt||qe!==Se)&&T6(d,V,w,Se),td=!1,qe=d.memoizedState,V.state=qe,vv(d,w,V,O),mv();var Ze=d.memoizedState;te!==yt||qe!==Ze||td||l!==null&&l.dependencies!==null&&FS(l.dependencies)?(typeof ce=="function"&&(rk(d,p,ce,w),Ze=d.memoizedState),(ht=td||E6(d,p,ht,w,qe,Ze,Se)||l!==null&&l.dependencies!==null&&FS(l.dependencies))?(Ge||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(w,Ze,Se),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(w,Ze,Se)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Ze),V.props=w,V.state=Ze,V.context=Se,w=ht):(typeof V.componentDidUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&qe===l.memoizedState||(d.flags|=1024),w=!1)}return V=w,r0(l,d),w=(d.flags&128)!==0,V||w?(V=d.stateNode,p=w&&typeof p.getDerivedStateFromError!="function"?null:V.render(),d.flags|=1,l!==null&&w?(d.child=vp(d,l.child,null,O),d.child=vp(d,null,p,O)):Wo(l,d,p,O),d.memoizedState=V.state,l=d.child):l=Qc(l,d,O),l}function $6(l,d,p,w){return lv(),d.flags|=256,Wo(l,d,p,w),d.child}var ak={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lk(l){return{baseLanes:l,cachePool:OW()}}function ck(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=Wa),l}function z6(l,d,p){var w=d.pendingProps,O=!1,V=(d.flags&128)!==0,te;if((te=V)||(te=l!==null&&l.memoizedState===null?!1:(Eo.current&2)!==0),te&&(O=!0,d.flags&=-129),te=(d.flags&32)!==0,d.flags&=-33,l===null){if(Pr){if(O?od(d):sd(),Pr){var ce=zi,Se;if(Se=ce){e:{for(Se=ce,ce=lc;Se.nodeType!==8;){if(!ce){ce=null;break e}if(Se=wl(Se.nextSibling),Se===null){ce=null;break e}}ce=Se}ce!==null?(d.memoizedState={dehydrated:ce,treeContext:Dh!==null?{id:Wc,overflow:Kc}:null,retryLane:536870912,hydrationErrors:null},Se=ta(18,null,null,0),Se.stateNode=ce,Se.return=d,d.child=Se,ds=d,zi=null,Se=!0):Se=!1}Se||Nh(d)}if(ce=d.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return Wk(ce)?d.lanes=32:d.lanes=536870912,null;Zc(d)}return ce=w.children,w=w.fallback,O?(sd(),O=d.mode,ce=i0({mode:"hidden",children:ce},O),w=Ph(w,O,p,null),ce.return=d,w.return=d,ce.sibling=w,d.child=ce,O=d.child,O.memoizedState=lk(p),O.childLanes=ck(l,te,p),d.memoizedState=ak,w):(od(d),uk(d,ce))}if(Se=l.memoizedState,Se!==null&&(ce=Se.dehydrated,ce!==null)){if(V)d.flags&256?(od(d),d.flags&=-257,d=dk(l,d,p)):d.memoizedState!==null?(sd(),d.child=l.child,d.flags|=128,d=null):(sd(),O=w.fallback,ce=d.mode,w=i0({mode:"visible",children:w.children},ce),O=Ph(O,ce,p,null),O.flags|=2,w.return=d,O.return=d,w.sibling=O,d.child=w,vp(d,l.child,null,p),w=d.child,w.memoizedState=lk(p),w.childLanes=ck(l,te,p),d.memoizedState=ak,d=O);else if(od(d),Wk(ce)){if(te=ce.nextSibling&&ce.nextSibling.dataset,te)var Ge=te.dgst;te=Ge,w=Error(r(419)),w.stack="",w.digest=te,cv({value:w,source:null,stack:null}),d=dk(l,d,p)}else if(No||uv(l,d,p,!1),te=(p&l.childLanes)!==0,No||te){if(te=li,te!==null&&(w=p&-p,w=(w&42)!==0?1:Xr(w),w=(w&(te.suspendedLanes|p))!==0?0:w,w!==0&&w!==Se.retryLane))throw Se.retryLane=w,On(l,w),sa(te,l,w),D6;ce.data==="$?"||Rk(),d=dk(l,d,p)}else ce.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=Se.treeContext,zi=wl(ce.nextSibling),ds=d,Pr=!0,Lh=null,lc=!1,l!==null&&(Ua[Ha++]=Wc,Ua[Ha++]=Kc,Ua[Ha++]=Dh,Wc=l.id,Kc=l.overflow,Dh=d),d=uk(d,w.children),d.flags|=4096);return d}return O?(sd(),O=w.fallback,ce=d.mode,Se=l.child,Ge=Se.sibling,w=Gc(Se,{mode:"hidden",children:w.children}),w.subtreeFlags=Se.subtreeFlags&65011712,Ge!==null?O=Gc(Ge,O):(O=Ph(O,ce,p,null),O.flags|=2),O.return=d,w.return=d,w.sibling=O,d.child=w,w=O,O=d.child,ce=l.child.memoizedState,ce===null?ce=lk(p):(Se=ce.cachePool,Se!==null?(Ge=_o._currentValue,Se=Se.parent!==Ge?{parent:Ge,pool:Ge}:Se):Se=OW(),ce={baseLanes:ce.baseLanes|p,cachePool:Se}),O.memoizedState=ce,O.childLanes=ck(l,te,p),d.memoizedState=ak,w):(od(d),p=l.child,l=p.sibling,p=Gc(p,{mode:"visible",children:w.children}),p.return=d,p.sibling=null,l!==null&&(te=d.deletions,te===null?(d.deletions=[l],d.flags|=16):te.push(l)),d.child=p,d.memoizedState=null,p)}function uk(l,d){return d=i0({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function i0(l,d){return l=ta(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function dk(l,d,p){return vp(d,l.child,null,p),l=uk(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function U6(l,d,p){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),RI(l.return,d,p)}function hk(l,d,p,w,O){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:O}:(V.isBackwards=d,V.rendering=null,V.renderingStartTime=0,V.last=w,V.tail=p,V.tailMode=O)}function H6(l,d,p){var w=d.pendingProps,O=w.revealOrder,V=w.tail;if(Wo(l,d,w.children,p),w=Eo.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&U6(l,p,d);else if(l.tag===19)U6(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}switch(he(Eo,w),O){case"forwards":for(p=d.child,O=null;p!==null;)l=p.alternate,l!==null&&e0(l)===null&&(O=p),p=p.sibling;p=O,p===null?(O=d.child,d.child=null):(O=p.sibling,p.sibling=null),hk(d,!1,O,p,V);break;case"backwards":for(p=null,O=d.child,d.child=null;O!==null;){if(l=O.alternate,l!==null&&e0(l)===null){d.child=O;break}l=O.sibling,O.sibling=p,p=O,O=l}hk(d,!0,p,null,V);break;case"together":hk(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Qc(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),dd|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(uv(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=Gc(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=Gc(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function fk(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&FS(l)))}function b5e(l,d,p){switch(d.tag){case 3:ke(d,d.stateNode.containerInfo),ed(d,_o,l.memoizedState.cache),lv();break;case 27:case 5:me(d);break;case 4:ke(d,d.stateNode.containerInfo);break;case 10:ed(d,d.type,d.memoizedProps.value);break;case 13:var w=d.memoizedState;if(w!==null)return w.dehydrated!==null?(od(d),d.flags|=128,null):(p&d.child.childLanes)!==0?z6(l,d,p):(od(d),l=Qc(l,d,p),l!==null?l.sibling:null);od(d);break;case 19:var O=(l.flags&128)!==0;if(w=(p&d.childLanes)!==0,w||(uv(l,d,p,!1),w=(p&d.childLanes)!==0),O){if(w)return H6(l,d,p);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),he(Eo,Eo.current),w)break;return null;case 22:case 23:return d.lanes=0,B6(l,d,p);case 24:ed(d,_o,l.memoizedState.cache)}return Qc(l,d,p)}function G6(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)No=!0;else{if(!fk(l,p)&&(d.flags&128)===0)return No=!1,b5e(l,d,p);No=(l.flags&131072)!==0}else No=!1,Pr&&(d.flags&1048576)!==0&&SW(d,BS,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var w=d.elementType,O=w._init;if(w=O(w._payload),d.type=w,typeof w=="function")CI(w)?(l=$h(w,l),d.tag=1,d=V6(null,d,w,l,p)):(d.tag=0,d=sk(null,d,w,l,p));else{if(w!=null){if(O=w.$$typeof,O===R){d.tag=11,d=A6(null,d,w,l,p);break e}else if(O===N){d.tag=14,d=L6(null,d,w,l,p);break e}}throw d=q(w)||w,Error(r(306,d,""))}}return d;case 0:return sk(l,d,d.type,d.pendingProps,p);case 1:return w=d.type,O=$h(w,d.pendingProps),V6(l,d,w,O,p);case 3:e:{if(ke(d,d.stateNode.containerInfo),l===null)throw Error(r(387));w=d.pendingProps;var V=d.memoizedState;O=V.element,NI(l,d),vv(d,w,null,p);var te=d.memoizedState;if(w=te.cache,ed(d,_o,w),w!==V.cache&&II(d,[_o],p,!0),mv(),w=te.element,V.isDehydrated)if(V={element:w,isDehydrated:!1,cache:te.cache},d.updateQueue.baseState=V,d.memoizedState=V,d.flags&256){d=$6(l,d,w,p);break e}else if(w!==O){O=X(Error(r(424)),d),cv(O),d=$6(l,d,w,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(zi=wl(l.firstChild),ds=d,Pr=!0,Lh=null,lc=!0,p=x6(d,null,w,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(lv(),w===O){d=Qc(l,d,p);break e}Wo(l,d,w,p)}d=d.child}return d;case 26:return r0(l,d),l===null?(p=YK(d.type,null,d.pendingProps,null))?d.memoizedState=p:Pr||(p=d.type,l=d.pendingProps,w=y0(le.current).createElement(p),w[nn]=d,w[un]=l,qo(w,p,l),gn(w),d.stateNode=w):d.memoizedState=YK(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return me(d),l===null&&Pr&&(w=d.stateNode=WK(d.type,d.pendingProps,le.current),ds=d,lc=!0,O=zi,gd(d.type)?(Kk=O,zi=wl(w.firstChild)):zi=O),Wo(l,d,d.pendingProps.children,p),r0(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Pr&&((O=w=zi)&&(w=K5e(w,d.type,d.pendingProps,lc),w!==null?(d.stateNode=w,ds=d,zi=wl(w.firstChild),lc=!1,O=!0):O=!1),O||Nh(d)),me(d),O=d.type,V=d.pendingProps,te=l!==null?l.memoizedProps:null,w=V.children,Uk(O,V)?w=null:te!==null&&Uk(O,te)&&(d.flags|=32),d.memoizedState!==null&&(O=zI(l,d,d5e,null,null,p),jv._currentValue=O),r0(l,d),Wo(l,d,w,p),d.child;case 6:return l===null&&Pr&&((l=p=zi)&&(p=q5e(p,d.pendingProps,lc),p!==null?(d.stateNode=p,ds=d,zi=null,l=!0):l=!1),l||Nh(d)),null;case 13:return z6(l,d,p);case 4:return ke(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=vp(d,null,w,p):Wo(l,d,w,p),d.child;case 11:return A6(l,d,d.type,d.pendingProps,p);case 7:return Wo(l,d,d.pendingProps,p),d.child;case 8:return Wo(l,d,d.pendingProps.children,p),d.child;case 12:return Wo(l,d,d.pendingProps.children,p),d.child;case 10:return w=d.pendingProps,ed(d,d.type,w.value),Wo(l,d,w.children,p),d.child;case 9:return O=d.type._context,w=d.pendingProps.children,Fh(d),O=ts(O),w=w(O),d.flags|=1,Wo(l,d,w,p),d.child;case 14:return L6(l,d,d.type,d.pendingProps,p);case 15:return N6(l,d,d.type,d.pendingProps,p);case 19:return H6(l,d,p);case 31:return w=d.pendingProps,p=d.mode,w={mode:w.mode,children:w.children},l===null?(p=i0(w,p),p.ref=d.ref,d.child=p,p.return=d,d=p):(p=Gc(l.child,w),p.ref=d.ref,d.child=p,p.return=d,d=p),d;case 22:return B6(l,d,p);case 24:return Fh(d),w=ts(_o),l===null?(O=DI(),O===null&&(O=li,V=kI(),O.pooledCache=V,V.refCount++,V!==null&&(O.pooledCacheLanes|=p),O=V),d.memoizedState={parent:w,cache:O},LI(d),ed(d,_o,O)):((l.lanes&p)!==0&&(NI(l,d),vv(d,null,null,p),mv()),O=l.memoizedState,V=d.memoizedState,O.parent!==w?(O={parent:w,cache:w},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),ed(d,_o,w)):(w=V.cache,ed(d,_o,w),w!==O.cache&&II(d,[_o],p,!0))),Wo(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Jc(l){l.flags|=4}function W6(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!eq(d)){if(d=Ga.current,d!==null&&((pr&4194048)===pr?cc!==null:(pr&62914560)!==pr&&(pr&536870912)===0||d!==cc))throw pv=AI,RW;l.flags|=8192}}function o0(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?An():536870912,l.lanes|=d,Sp|=d)}function _v(l,d){if(!Pr)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function Pi(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,w=0;if(d)for(var O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)p|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=w,l.childLanes=p,d}function w5e(l,d,p){var w=d.pendingProps;switch(TI(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(d),null;case 1:return Pi(d),null;case 3:return p=d.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),d.memoizedState.cache!==w&&(d.flags|=2048),Yc(_o),Te(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(av(d)?Jc(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,_W())),Pi(d),null;case 26:return p=d.memoizedState,l===null?(Jc(d),p!==null?(Pi(d),W6(d,p)):(Pi(d),d.flags&=-16777217)):p?p!==l.memoizedState?(Jc(d),Pi(d),W6(d,p)):(Pi(d),d.flags&=-16777217):(l.memoizedProps!==w&&Jc(d),Pi(d),d.flags&=-16777217),null;case 27:ye(d),p=le.current;var O=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==w&&Jc(d);else{if(!w){if(d.stateNode===null)throw Error(r(166));return Pi(d),null}l=ge.current,av(d)?CW(d):(l=WK(O,w,p),d.stateNode=l,Jc(d))}return Pi(d),null;case 5:if(ye(d),p=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==w&&Jc(d);else{if(!w){if(d.stateNode===null)throw Error(r(166));return Pi(d),null}if(l=ge.current,av(d))CW(d);else{switch(O=y0(le.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?l.multiple=!0:w.size&&(l.size=w.size);break;default:l=typeof w.is=="string"?O.createElement(p,{is:w.is}):O.createElement(p)}}l[nn]=d,l[un]=w;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=l;e:switch(qo(l,p,w),p){case"button":case"input":case"select":case"textarea":l=!!w.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Jc(d)}}return Pi(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==w&&Jc(d);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(l=le.current,av(d)){if(l=d.stateNode,p=d.memoizedProps,w=null,O=ds,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}l[nn]=d,l=!!(l.nodeValue===p||w!==null&&w.suppressHydrationWarning===!0||jK(l.nodeValue,p)),l||Nh(d)}else l=y0(l).createTextNode(w),l[nn]=d,d.stateNode=l}return Pi(d),null;case 13:if(w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=av(d),w!==null&&w.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[nn]=d}else lv(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Pi(d),O=!1}else O=_W(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(Zc(d),d):(Zc(d),null)}if(Zc(d),(d.flags&128)!==0)return d.lanes=p,d;if(p=w!==null,l=l!==null&&l.memoizedState!==null,p){w=d.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var V=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(V=w.memoizedState.cachePool.pool),V!==O&&(w.flags|=2048)}return p!==l&&p&&(d.child.flags|=8192),o0(d,d.updateQueue),Pi(d),null;case 4:return Te(),l===null&&Fk(d.stateNode.containerInfo),Pi(d),null;case 10:return Yc(d.type),Pi(d),null;case 19:if(J(Eo),O=d.memoizedState,O===null)return Pi(d),null;if(w=(d.flags&128)!==0,V=O.rendering,V===null)if(w)_v(O,!1);else{if(Ui!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(V=e0(l),V!==null){for(d.flags|=128,_v(O,!1),l=V.updateQueue,d.updateQueue=l,o0(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)wW(p,l),p=p.sibling;return he(Eo,Eo.current&1|2),d.child}l=l.sibling}O.tail!==null&&lt()>l0&&(d.flags|=128,w=!0,_v(O,!1),d.lanes=4194304)}else{if(!w)if(l=e0(V),l!==null){if(d.flags|=128,w=!0,l=l.updateQueue,d.updateQueue=l,o0(d,l),_v(O,!0),O.tail===null&&O.tailMode==="hidden"&&!V.alternate&&!Pr)return Pi(d),null}else 2*lt()-O.renderingStartTime>l0&&p!==536870912&&(d.flags|=128,w=!0,_v(O,!1),d.lanes=4194304);O.isBackwards?(V.sibling=d.child,d.child=V):(l=O.last,l!==null?l.sibling=V:d.child=V,O.last=V)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=lt(),d.sibling=null,l=Eo.current,he(Eo,w?l&1|2:l&1),d):(Pi(d),null);case 22:case 23:return Zc(d),VI(),w=d.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(d.flags|=8192):w&&(d.flags|=8192),w?(p&536870912)!==0&&(d.flags&128)===0&&(Pi(d),d.subtreeFlags&6&&(d.flags|=8192)):Pi(d),p=d.updateQueue,p!==null&&o0(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==p&&(d.flags|=2048),l!==null&&J(jh),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Yc(_o),Pi(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function S5e(l,d){switch(TI(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Yc(_o),Te(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return ye(d),null;case 13:if(Zc(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));lv()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return J(Eo),null;case 4:return Te(),null;case 10:return Yc(d.type),null;case 22:case 23:return Zc(d),VI(),l!==null&&J(jh),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Yc(_o),null;case 25:return null;default:return null}}function K6(l,d){switch(TI(d),d.tag){case 3:Yc(_o),Te();break;case 26:case 27:case 5:ye(d);break;case 4:Te();break;case 13:Zc(d);break;case 19:J(Eo);break;case 10:Yc(d.type);break;case 22:case 23:Zc(d),VI(),l!==null&&J(jh);break;case 24:Yc(_o)}}function Ev(l,d){try{var p=d.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var O=w.next;p=O;do{if((p.tag&l)===l){w=void 0;var V=p.create,te=p.inst;w=V(),te.destroy=w}p=p.next}while(p!==O)}}catch(ce){ii(d,d.return,ce)}}function ad(l,d,p){try{var w=d.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var V=O.next;w=V;do{if((w.tag&l)===l){var te=w.inst,ce=te.destroy;if(ce!==void 0){te.destroy=void 0,O=d;var Se=p,Ge=ce;try{Ge()}catch(ht){ii(O,Se,ht)}}}w=w.next}while(w!==V)}}catch(ht){ii(d,d.return,ht)}}function q6(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{LW(d,p)}catch(w){ii(l,l.return,w)}}}function Y6(l,d,p){p.props=$h(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(w){ii(l,d,w)}}function Tv(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var w=l.stateNode;break;case 30:w=l.stateNode;break;default:w=l.stateNode}typeof p=="function"?l.refCleanup=p(w):p.current=w}}catch(O){ii(l,d,O)}}function uc(l,d){var p=l.ref,w=l.refCleanup;if(p!==null)if(typeof w=="function")try{w()}catch(O){ii(l,d,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(O){ii(l,d,O)}else p.current=null}function X6(l){var d=l.type,p=l.memoizedProps,w=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&w.focus();break e;case"img":p.src?w.src=p.src:p.srcSet&&(w.srcset=p.srcSet)}}catch(O){ii(l,l.return,O)}}function pk(l,d,p){try{var w=l.stateNode;z5e(w,l.type,p,d),w[un]=d}catch(O){ii(l,l.return,O)}}function Z6(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&gd(l.type)||l.tag===4}function gk(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Z6(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&gd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function mk(l,d,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=v0));else if(w!==4&&(w===27&&gd(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(mk(l,d,p),l=l.sibling;l!==null;)mk(l,d,p),l=l.sibling}function s0(l,d,p){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(w!==4&&(w===27&&gd(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(s0(l,d,p),l=l.sibling;l!==null;)s0(l,d,p),l=l.sibling}function Q6(l){var d=l.stateNode,p=l.memoizedProps;try{for(var w=l.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);qo(d,w,p),d[nn]=l,d[un]=p}catch(V){ii(l,l.return,V)}}var eu=!1,eo=!1,vk=!1,J6=typeof WeakSet=="function"?WeakSet:Set,Bo=null;function C5e(l,d){if(l=l.containerInfo,$k=_0,l=ve(l),be(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var O=w.anchorOffset,V=w.focusNode;w=w.focusOffset;try{p.nodeType,V.nodeType}catch{p=null;break e}var te=0,ce=-1,Se=-1,Ge=0,ht=0,yt=l,qe=null;t:for(;;){for(var Ze;yt!==p||O!==0&&yt.nodeType!==3||(ce=te+O),yt!==V||w!==0&&yt.nodeType!==3||(Se=te+w),yt.nodeType===3&&(te+=yt.nodeValue.length),(Ze=yt.firstChild)!==null;)qe=yt,yt=Ze;for(;;){if(yt===l)break t;if(qe===p&&++Ge===O&&(ce=te),qe===V&&++ht===w&&(Se=te),(Ze=yt.nextSibling)!==null)break;yt=qe,qe=yt.parentNode}yt=Ze}p=ce===-1||Se===-1?null:{start:ce,end:Se}}else p=null}p=p||{start:0,end:0}}else p=null;for(zk={focusedElem:l,selectionRange:p},_0=!1,Bo=d;Bo!==null;)if(d=Bo,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,Bo=l;else for(;Bo!==null;){switch(d=Bo,V=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&V!==null){l=void 0,p=d,O=V.memoizedProps,V=V.memoizedState,w=p.stateNode;try{var Ln=$h(p.type,O,p.elementType===p.type);l=w.getSnapshotBeforeUpdate(Ln,V),w.__reactInternalSnapshotBeforeUpdate=l}catch(In){ii(p,p.return,In)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)Gk(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Gk(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Bo=l;break}Bo=d.return}}function eK(l,d,p){var w=p.flags;switch(p.tag){case 0:case 11:case 15:ld(l,p),w&4&&Ev(5,p);break;case 1:if(ld(l,p),w&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(te){ii(p,p.return,te)}else{var O=$h(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(O,d,l.__reactInternalSnapshotBeforeUpdate)}catch(te){ii(p,p.return,te)}}w&64&&q6(p),w&512&&Tv(p,p.return);break;case 3:if(ld(l,p),w&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{LW(l,d)}catch(te){ii(p,p.return,te)}}break;case 27:d===null&&w&4&&Q6(p);case 26:case 5:ld(l,p),d===null&&w&4&&X6(p),w&512&&Tv(p,p.return);break;case 12:ld(l,p);break;case 13:ld(l,p),w&4&&rK(l,p),w&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=k5e.bind(null,p),Y5e(l,p))));break;case 22:if(w=p.memoizedState!==null||eu,!w){d=d!==null&&d.memoizedState!==null||eo,O=eu;var V=eo;eu=w,(eo=d)&&!V?cd(l,p,(p.subtreeFlags&8772)!==0):ld(l,p),eu=O,eo=V}break;case 30:break;default:ld(l,p)}}function tK(l){var d=l.alternate;d!==null&&(l.alternate=null,tK(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Wn(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Ei=null,Is=!1;function tu(l,d,p){for(p=p.child;p!==null;)nK(l,d,p),p=p.sibling}function nK(l,d,p){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Lt,p)}catch{}switch(p.tag){case 26:eo||uc(p,d),tu(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:eo||uc(p,d);var w=Ei,O=Is;gd(p.type)&&(Ei=p.stateNode,Is=!1),tu(l,d,p),Lv(p.stateNode),Ei=w,Is=O;break;case 5:eo||uc(p,d);case 6:if(w=Ei,O=Is,Ei=null,tu(l,d,p),Ei=w,Is=O,Ei!==null)if(Is)try{(Ei.nodeType===9?Ei.body:Ei.nodeName==="HTML"?Ei.ownerDocument.body:Ei).removeChild(p.stateNode)}catch(V){ii(p,d,V)}else try{Ei.removeChild(p.stateNode)}catch(V){ii(p,d,V)}break;case 18:Ei!==null&&(Is?(l=Ei,HK(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Uv(l)):HK(Ei,p.stateNode));break;case 4:w=Ei,O=Is,Ei=p.stateNode.containerInfo,Is=!0,tu(l,d,p),Ei=w,Is=O;break;case 0:case 11:case 14:case 15:eo||ad(2,p,d),eo||ad(4,p,d),tu(l,d,p);break;case 1:eo||(uc(p,d),w=p.stateNode,typeof w.componentWillUnmount=="function"&&Y6(p,d,w)),tu(l,d,p);break;case 21:tu(l,d,p);break;case 22:eo=(w=eo)||p.memoizedState!==null,tu(l,d,p),eo=w;break;default:tu(l,d,p)}}function rK(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Uv(l)}catch(p){ii(d,d.return,p)}}function x5e(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new J6),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new J6),d;default:throw Error(r(435,l.tag))}}function yk(l,d){var p=x5e(l);d.forEach(function(w){var O=P5e.bind(null,l,w);p.has(w)||(p.add(w),w.then(O,O))})}function na(l,d){var p=d.deletions;if(p!==null)for(var w=0;w<p.length;w++){var O=p[w],V=l,te=d,ce=te;e:for(;ce!==null;){switch(ce.tag){case 27:if(gd(ce.type)){Ei=ce.stateNode,Is=!1;break e}break;case 5:Ei=ce.stateNode,Is=!1;break e;case 3:case 4:Ei=ce.stateNode.containerInfo,Is=!0;break e}ce=ce.return}if(Ei===null)throw Error(r(160));nK(V,te,O),Ei=null,Is=!1,V=O.alternate,V!==null&&(V.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)iK(d,l),d=d.sibling}var bl=null;function iK(l,d){var p=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:na(d,l),ra(l),w&4&&(ad(3,l,l.return),Ev(3,l),ad(5,l,l.return));break;case 1:na(d,l),ra(l),w&512&&(eo||p===null||uc(p,p.return)),w&64&&eu&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?w:p.concat(w))));break;case 26:var O=bl;if(na(d,l),ra(l),w&512&&(eo||p===null||uc(p,p.return)),w&4){var V=p!==null?p.memoizedState:null;if(w=l.memoizedState,p===null)if(w===null)if(l.stateNode===null){e:{w=l.type,p=l.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":V=O.getElementsByTagName("title")[0],(!V||V[Fr]||V[nn]||V.namespaceURI==="http://www.w3.org/2000/svg"||V.hasAttribute("itemprop"))&&(V=O.createElement(w),O.head.insertBefore(V,O.querySelector("head > title"))),qo(V,w,p),V[nn]=l,gn(V),w=V;break e;case"link":var te=QK("link","href",O).get(w+(p.href||""));if(te){for(var ce=0;ce<te.length;ce++)if(V=te[ce],V.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&V.getAttribute("rel")===(p.rel==null?null:p.rel)&&V.getAttribute("title")===(p.title==null?null:p.title)&&V.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){te.splice(ce,1);break t}}V=O.createElement(w),qo(V,w,p),O.head.appendChild(V);break;case"meta":if(te=QK("meta","content",O).get(w+(p.content||""))){for(ce=0;ce<te.length;ce++)if(V=te[ce],V.getAttribute("content")===(p.content==null?null:""+p.content)&&V.getAttribute("name")===(p.name==null?null:p.name)&&V.getAttribute("property")===(p.property==null?null:p.property)&&V.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&V.getAttribute("charset")===(p.charSet==null?null:p.charSet)){te.splice(ce,1);break t}}V=O.createElement(w),qo(V,w,p),O.head.appendChild(V);break;default:throw Error(r(468,w))}V[nn]=l,gn(V),w=V}l.stateNode=w}else JK(O,l.type,l.stateNode);else l.stateNode=ZK(O,w,l.memoizedProps);else V!==w?(V===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):V.count--,w===null?JK(O,l.type,l.stateNode):ZK(O,w,l.memoizedProps)):w===null&&l.stateNode!==null&&pk(l,l.memoizedProps,p.memoizedProps)}break;case 27:na(d,l),ra(l),w&512&&(eo||p===null||uc(p,p.return)),p!==null&&w&4&&pk(l,l.memoizedProps,p.memoizedProps);break;case 5:if(na(d,l),ra(l),w&512&&(eo||p===null||uc(p,p.return)),l.flags&32){O=l.stateNode;try{Es(O,"")}catch(Ze){ii(l,l.return,Ze)}}w&4&&l.stateNode!=null&&(O=l.memoizedProps,pk(l,O,p!==null?p.memoizedProps:O)),w&1024&&(vk=!0);break;case 6:if(na(d,l),ra(l),w&4){if(l.stateNode===null)throw Error(r(162));w=l.memoizedProps,p=l.stateNode;try{p.nodeValue=w}catch(Ze){ii(l,l.return,Ze)}}break;case 3:if(S0=null,O=bl,bl=b0(d.containerInfo),na(d,l),bl=O,ra(l),w&4&&p!==null&&p.memoizedState.isDehydrated)try{Uv(d.containerInfo)}catch(Ze){ii(l,l.return,Ze)}vk&&(vk=!1,oK(l));break;case 4:w=bl,bl=b0(l.stateNode.containerInfo),na(d,l),ra(l),bl=w;break;case 12:na(d,l),ra(l);break;case 13:na(d,l),ra(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(_k=lt()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,yk(l,w)));break;case 22:O=l.memoizedState!==null;var Se=p!==null&&p.memoizedState!==null,Ge=eu,ht=eo;if(eu=Ge||O,eo=ht||Se,na(d,l),eo=ht,eu=Ge,ra(l),w&8192)e:for(d=l.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(p===null||Se||eu||eo||zh(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){Se=p=d;try{if(V=Se.stateNode,O)te=V.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{ce=Se.stateNode;var yt=Se.memoizedProps.style,qe=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;ce.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Ze){ii(Se,Se.return,Ze)}}}else if(d.tag===6){if(p===null){Se=d;try{Se.stateNode.nodeValue=O?"":Se.memoizedProps}catch(Ze){ii(Se,Se.return,Ze)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}w&4&&(w=l.updateQueue,w!==null&&(p=w.retryQueue,p!==null&&(w.retryQueue=null,yk(l,p))));break;case 19:na(d,l),ra(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,yk(l,w)));break;case 30:break;case 21:break;default:na(d,l),ra(l)}}function ra(l){var d=l.flags;if(d&2){try{for(var p,w=l.return;w!==null;){if(Z6(w)){p=w;break}w=w.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var O=p.stateNode,V=gk(l);s0(l,V,O);break;case 5:var te=p.stateNode;p.flags&32&&(Es(te,""),p.flags&=-33);var ce=gk(l);s0(l,ce,te);break;case 3:case 4:var Se=p.stateNode.containerInfo,Ge=gk(l);mk(l,Ge,Se);break;default:throw Error(r(161))}}catch(ht){ii(l,l.return,ht)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function oK(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;oK(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function ld(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)eK(l,d.alternate,d),d=d.sibling}function zh(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:ad(4,d,d.return),zh(d);break;case 1:uc(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&Y6(d,d.return,p),zh(d);break;case 27:Lv(d.stateNode);case 26:case 5:uc(d,d.return),zh(d);break;case 22:d.memoizedState===null&&zh(d);break;case 30:zh(d);break;default:zh(d)}l=l.sibling}}function cd(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var w=d.alternate,O=l,V=d,te=V.flags;switch(V.tag){case 0:case 11:case 15:cd(O,V,p),Ev(4,V);break;case 1:if(cd(O,V,p),w=V,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Ge){ii(w,w.return,Ge)}if(w=V,O=w.updateQueue,O!==null){var ce=w.stateNode;try{var Se=O.shared.hiddenCallbacks;if(Se!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Se.length;O++)AW(Se[O],ce)}catch(Ge){ii(w,w.return,Ge)}}p&&te&64&&q6(V),Tv(V,V.return);break;case 27:Q6(V);case 26:case 5:cd(O,V,p),p&&w===null&&te&4&&X6(V),Tv(V,V.return);break;case 12:cd(O,V,p);break;case 13:cd(O,V,p),p&&te&4&&rK(O,V);break;case 22:V.memoizedState===null&&cd(O,V,p),Tv(V,V.return);break;case 30:break;default:cd(O,V,p)}d=d.sibling}}function bk(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&dv(p))}function wk(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&dv(l))}function dc(l,d,p,w){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)sK(l,d,p,w),d=d.sibling}function sK(l,d,p,w){var O=d.flags;switch(d.tag){case 0:case 11:case 15:dc(l,d,p,w),O&2048&&Ev(9,d);break;case 1:dc(l,d,p,w);break;case 3:dc(l,d,p,w),O&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&dv(l)));break;case 12:if(O&2048){dc(l,d,p,w),l=d.stateNode;try{var V=d.memoizedProps,te=V.id,ce=V.onPostCommit;typeof ce=="function"&&ce(te,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Se){ii(d,d.return,Se)}}else dc(l,d,p,w);break;case 13:dc(l,d,p,w);break;case 23:break;case 22:V=d.stateNode,te=d.alternate,d.memoizedState!==null?V._visibility&2?dc(l,d,p,w):Mv(l,d):V._visibility&2?dc(l,d,p,w):(V._visibility|=2,yp(l,d,p,w,(d.subtreeFlags&10256)!==0)),O&2048&&bk(te,d);break;case 24:dc(l,d,p,w),O&2048&&wk(d.alternate,d);break;default:dc(l,d,p,w)}}function yp(l,d,p,w,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var V=l,te=d,ce=p,Se=w,Ge=te.flags;switch(te.tag){case 0:case 11:case 15:yp(V,te,ce,Se,O),Ev(8,te);break;case 23:break;case 22:var ht=te.stateNode;te.memoizedState!==null?ht._visibility&2?yp(V,te,ce,Se,O):Mv(V,te):(ht._visibility|=2,yp(V,te,ce,Se,O)),O&&Ge&2048&&bk(te.alternate,te);break;case 24:yp(V,te,ce,Se,O),O&&Ge&2048&&wk(te.alternate,te);break;default:yp(V,te,ce,Se,O)}d=d.sibling}}function Mv(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,w=d,O=w.flags;switch(w.tag){case 22:Mv(p,w),O&2048&&bk(w.alternate,w);break;case 24:Mv(p,w),O&2048&&wk(w.alternate,w);break;default:Mv(p,w)}d=d.sibling}}var Ov=8192;function bp(l){if(l.subtreeFlags&Ov)for(l=l.child;l!==null;)aK(l),l=l.sibling}function aK(l){switch(l.tag){case 26:bp(l),l.flags&Ov&&l.memoizedState!==null&&lWe(bl,l.memoizedState,l.memoizedProps);break;case 5:bp(l);break;case 3:case 4:var d=bl;bl=b0(l.stateNode.containerInfo),bp(l),bl=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Ov,Ov=16777216,bp(l),Ov=d):bp(l));break;default:bp(l)}}function lK(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function Rv(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var w=d[p];Bo=w,uK(w,l)}lK(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)cK(l),l=l.sibling}function cK(l){switch(l.tag){case 0:case 11:case 15:Rv(l),l.flags&2048&&ad(9,l,l.return);break;case 3:Rv(l);break;case 12:Rv(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,a0(l)):Rv(l);break;default:Rv(l)}}function a0(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var w=d[p];Bo=w,uK(w,l)}lK(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:ad(8,d,d.return),a0(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,a0(d));break;default:a0(d)}l=l.sibling}}function uK(l,d){for(;Bo!==null;){var p=Bo;switch(p.tag){case 0:case 11:case 15:ad(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var w=p.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:dv(p.memoizedState.cache)}if(w=p.child,w!==null)w.return=p,Bo=w;else e:for(p=l;Bo!==null;){w=Bo;var O=w.sibling,V=w.return;if(tK(w),w===p){Bo=null;break e}if(O!==null){O.return=V,Bo=O;break e}Bo=V}}}var _5e={getCacheForType:function(l){var d=ts(_o),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p}},E5e=typeof WeakMap=="function"?WeakMap:Map,Hr=0,li=null,ar=null,pr=0,Gr=0,ia=null,ud=!1,wp=!1,Sk=!1,nu=0,Ui=0,dd=0,Uh=0,Ck=0,Wa=0,Sp=0,Iv=null,ks=null,xk=!1,_k=0,l0=1/0,c0=null,hd=null,Ko=0,fd=null,Cp=null,xp=0,Ek=0,Tk=null,dK=null,kv=0,Mk=null;function oa(){if((Hr&2)!==0&&pr!==0)return pr&-pr;if(z.T!==null){var l=up;return l!==0?l:Ak()}return Gn()}function hK(){Wa===0&&(Wa=(pr&536870912)===0||Pr?Zn():536870912);var l=Ga.current;return l!==null&&(l.flags|=32),Wa}function sa(l,d,p){(l===li&&(Gr===2||Gr===9)||l.cancelPendingCommit!==null)&&(_p(l,0),pd(l,pr,Wa,!1)),Qn(l,p),((Hr&2)===0||l!==li)&&(l===li&&((Hr&2)===0&&(Uh|=p),Ui===4&&pd(l,pr,Wa,!1)),hc(l))}function fK(l,d,p){if((Hr&6)!==0)throw Error(r(327));var w=!p&&(d&124)===0&&(d&l.expiredLanes)===0||_t(l,d),O=w?O5e(l,d):Ik(l,d,!0),V=w;do{if(O===0){wp&&!w&&pd(l,d,0,!1);break}else{if(p=l.current.alternate,V&&!T5e(p)){O=Ik(l,d,!1),V=!1;continue}if(O===2){if(V=d,l.errorRecoveryDisabledLanes&V)var te=0;else te=l.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){d=te;e:{var ce=l;O=Iv;var Se=ce.current.memoizedState.isDehydrated;if(Se&&(_p(ce,te).flags|=256),te=Ik(ce,te,!1),te!==2){if(Sk&&!Se){ce.errorRecoveryDisabledLanes|=V,Uh|=V,O=4;break e}V=ks,ks=O,V!==null&&(ks===null?ks=V:ks.push.apply(ks,V))}O=te}if(V=!1,O!==2)continue}}if(O===1){_p(l,0),pd(l,d,0,!0);break}e:{switch(w=l,V=O,V){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:pd(w,d,Wa,!ud);break e;case 2:ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(O=_k+300-lt(),10<O)){if(pd(w,d,Wa,!ud),Vt(w,0,!0)!==0)break e;w.timeoutHandle=zK(pK.bind(null,w,p,ks,c0,xk,d,Wa,Uh,Sp,ud,V,2,-0,0),O);break e}pK(w,p,ks,c0,xk,d,Wa,Uh,Sp,ud,V,0,-0,0)}}break}while(!0);hc(l)}function pK(l,d,p,w,O,V,te,ce,Se,Ge,ht,yt,qe,Ze){if(l.timeoutHandle=-1,yt=d.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(Fv={stylesheets:null,count:0,unsuspend:aWe},aK(d),yt=cWe(),yt!==null)){l.cancelPendingCommit=yt(SK.bind(null,l,d,V,p,w,O,te,ce,Se,ht,1,qe,Ze)),pd(l,V,te,!Ge);return}SK(l,d,V,p,w,O,te,ce,Se)}function T5e(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var w=0;w<p.length;w++){var O=p[w],V=O.getSnapshot;O=O.value;try{if(!C(V(),O))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function pd(l,d,p,w){d&=~Ck,d&=~Uh,l.suspendedLanes|=d,l.pingedLanes&=~d,w&&(l.warmLanes|=d),w=l.expirationTimes;for(var O=d;0<O;){var V=31-xt(O),te=1<<V;w[V]=-1,O&=~te}p!==0&&St(l,p,d)}function u0(){return(Hr&6)===0?(Pv(0),!1):!0}function Ok(){if(ar!==null){if(Gr===0)var l=ar.return;else l=ar,qc=Bh=null,GI(l),mp=null,Cv=0,l=ar;for(;l!==null;)K6(l.alternate,l),l=l.return;ar=null}}function _p(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,H5e(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Ok(),li=l,ar=p=Gc(l.current,null),pr=d,Gr=0,ia=null,ud=!1,wp=_t(l,d),Sk=!1,Sp=Wa=Ck=Uh=dd=Ui=0,ks=Iv=null,xk=!1,(d&8)!==0&&(d|=d&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=d;0<w;){var O=31-xt(w),V=1<<O;d|=l[O],w&=~V}return nu=d,Qe(),p}function gK(l,d){nr=null,z.H=ZS,d===fv||d===$S?(d=PW(),Gr=3):d===RW?(d=PW(),Gr=4):Gr=d===D6?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ia=d,ar===null&&(Ui=1,n0(l,X(d,l.current)))}function mK(){var l=z.H;return z.H=ZS,l===null?ZS:l}function vK(){var l=z.A;return z.A=_5e,l}function Rk(){Ui=4,ud||(pr&4194048)!==pr&&Ga.current!==null||(wp=!0),(dd&134217727)===0&&(Uh&134217727)===0||li===null||pd(li,pr,Wa,!1)}function Ik(l,d,p){var w=Hr;Hr|=2;var O=mK(),V=vK();(li!==l||pr!==d)&&(c0=null,_p(l,d)),d=!1;var te=Ui;e:do try{if(Gr!==0&&ar!==null){var ce=ar,Se=ia;switch(Gr){case 8:Ok(),te=6;break e;case 3:case 2:case 9:case 6:Ga.current===null&&(d=!0);var Ge=Gr;if(Gr=0,ia=null,Ep(l,ce,Se,Ge),p&&wp){te=0;break e}break;default:Ge=Gr,Gr=0,ia=null,Ep(l,ce,Se,Ge)}}M5e(),te=Ui;break}catch(ht){gK(l,ht)}while(!0);return d&&l.shellSuspendCounter++,qc=Bh=null,Hr=w,z.H=O,z.A=V,ar===null&&(li=null,pr=0,Qe()),te}function M5e(){for(;ar!==null;)yK(ar)}function O5e(l,d){var p=Hr;Hr|=2;var w=mK(),O=vK();li!==l||pr!==d?(c0=null,l0=lt()+500,_p(l,d)):wp=_t(l,d);e:do try{if(Gr!==0&&ar!==null){d=ar;var V=ia;t:switch(Gr){case 1:Gr=0,ia=null,Ep(l,d,V,1);break;case 2:case 9:if(IW(V)){Gr=0,ia=null,bK(d);break}d=function(){Gr!==2&&Gr!==9||li!==l||(Gr=7),hc(l)},V.then(d,d);break e;case 3:Gr=7;break e;case 4:Gr=5;break e;case 7:IW(V)?(Gr=0,ia=null,bK(d)):(Gr=0,ia=null,Ep(l,d,V,7));break;case 5:var te=null;switch(ar.tag){case 26:te=ar.memoizedState;case 5:case 27:var ce=ar;if(!te||eq(te)){Gr=0,ia=null;var Se=ce.sibling;if(Se!==null)ar=Se;else{var Ge=ce.return;Ge!==null?(ar=Ge,d0(Ge)):ar=null}break t}}Gr=0,ia=null,Ep(l,d,V,5);break;case 6:Gr=0,ia=null,Ep(l,d,V,6);break;case 8:Ok(),Ui=6;break e;default:throw Error(r(462))}}R5e();break}catch(ht){gK(l,ht)}while(!0);return qc=Bh=null,z.H=w,z.A=O,Hr=p,ar!==null?0:(li=null,pr=0,Qe(),Ui)}function R5e(){for(;ar!==null&&!Ie();)yK(ar)}function yK(l){var d=G6(l.alternate,l,nu);l.memoizedProps=l.pendingProps,d===null?d0(l):ar=d}function bK(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=j6(p,d,d.pendingProps,d.type,void 0,pr);break;case 11:d=j6(p,d,d.pendingProps,d.type.render,d.ref,pr);break;case 5:GI(d);default:K6(p,d),d=ar=wW(d,nu),d=G6(p,d,nu)}l.memoizedProps=l.pendingProps,d===null?d0(l):ar=d}function Ep(l,d,p,w){qc=Bh=null,GI(d),mp=null,Cv=0;var O=d.return;try{if(y5e(l,O,d,p,pr)){Ui=1,n0(l,X(p,l.current)),ar=null;return}}catch(V){if(O!==null)throw ar=O,V;Ui=1,n0(l,X(p,l.current)),ar=null;return}d.flags&32768?(Pr||w===1?l=!0:wp||(pr&536870912)!==0?l=!1:(ud=l=!0,(w===2||w===9||w===3||w===6)&&(w=Ga.current,w!==null&&w.tag===13&&(w.flags|=16384))),wK(d,l)):d0(d)}function d0(l){var d=l;do{if((d.flags&32768)!==0){wK(d,ud);return}l=d.return;var p=w5e(d.alternate,d,nu);if(p!==null){ar=p;return}if(d=d.sibling,d!==null){ar=d;return}ar=d=l}while(d!==null);Ui===0&&(Ui=5)}function wK(l,d){do{var p=S5e(l.alternate,l);if(p!==null){p.flags&=32767,ar=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){ar=l;return}ar=l=p}while(l!==null);Ui=6,ar=null}function SK(l,d,p,w,O,V,te,ce,Se){l.cancelPendingCommit=null;do h0();while(Ko!==0);if((Hr&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(V=d.lanes|d.childLanes,V|=Ae,Br(l,p,V,te,ce,Se),l===li&&(ar=li=null,pr=0),Cp=d,fd=l,xp=p,Ek=V,Tk=O,dK=w,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,D5e(Ot,function(){return TK(),null})):(l.callbackNode=null,l.callbackPriority=0),w=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||w){w=z.T,z.T=null,O=Z.p,Z.p=2,te=Hr,Hr|=4;try{C5e(l,d,p)}finally{Hr=te,Z.p=O,z.T=w}}Ko=1,CK(),xK(),_K()}}function CK(){if(Ko===1){Ko=0;var l=fd,d=Cp,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=z.T,z.T=null;var w=Z.p;Z.p=2;var O=Hr;Hr|=4;try{iK(d,l);var V=zk,te=ve(l.containerInfo),ce=V.focusedElem,Se=V.selectionRange;if(te!==ce&&ce&&ce.ownerDocument&&oe(ce.ownerDocument.documentElement,ce)){if(Se!==null&&be(ce)){var Ge=Se.start,ht=Se.end;if(ht===void 0&&(ht=Ge),"selectionStart"in ce)ce.selectionStart=Ge,ce.selectionEnd=Math.min(ht,ce.value.length);else{var yt=ce.ownerDocument||document,qe=yt&&yt.defaultView||window;if(qe.getSelection){var Ze=qe.getSelection(),Ln=ce.textContent.length,In=Math.min(Se.start,Ln),ti=Se.end===void 0?In:Math.min(Se.end,Ln);!Ze.extend&&In>ti&&(te=ti,ti=In,In=te);var Fe=ne(ce,In),Oe=ne(ce,ti);if(Fe&&Oe&&(Ze.rangeCount!==1||Ze.anchorNode!==Fe.node||Ze.anchorOffset!==Fe.offset||Ze.focusNode!==Oe.node||Ze.focusOffset!==Oe.offset)){var Ue=yt.createRange();Ue.setStart(Fe.node,Fe.offset),Ze.removeAllRanges(),In>ti?(Ze.addRange(Ue),Ze.extend(Oe.node,Oe.offset)):(Ue.setEnd(Oe.node,Oe.offset),Ze.addRange(Ue))}}}}for(yt=[],Ze=ce;Ze=Ze.parentNode;)Ze.nodeType===1&&yt.push({element:Ze,left:Ze.scrollLeft,top:Ze.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<yt.length;ce++){var gt=yt[ce];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}_0=!!$k,zk=$k=null}finally{Hr=O,Z.p=w,z.T=p}}l.current=d,Ko=2}}function xK(){if(Ko===2){Ko=0;var l=fd,d=Cp,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=z.T,z.T=null;var w=Z.p;Z.p=2;var O=Hr;Hr|=4;try{eK(l,d.alternate,d)}finally{Hr=O,Z.p=w,z.T=p}}Ko=3}}function _K(){if(Ko===4||Ko===3){Ko=0,je();var l=fd,d=Cp,p=xp,w=dK;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Ko=5:(Ko=0,Cp=fd=null,EK(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(hd=null),en(p),d=d.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Lt,d,void 0,(d.current.flags&128)===128)}catch{}if(w!==null){d=z.T,O=Z.p,Z.p=2,z.T=null;try{for(var V=l.onRecoverableError,te=0;te<w.length;te++){var ce=w[te];V(ce.value,{componentStack:ce.stack})}}finally{z.T=d,Z.p=O}}(xp&3)!==0&&h0(),hc(l),O=l.pendingLanes,(p&4194090)!==0&&(O&42)!==0?l===Mk?kv++:(kv=0,Mk=l):kv=0,Pv(0)}}function EK(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,dv(d)))}function h0(l){return CK(),xK(),_K(),TK()}function TK(){if(Ko!==5)return!1;var l=fd,d=Ek;Ek=0;var p=en(xp),w=z.T,O=Z.p;try{Z.p=32>p?32:p,z.T=null,p=Tk,Tk=null;var V=fd,te=xp;if(Ko=0,Cp=fd=null,xp=0,(Hr&6)!==0)throw Error(r(331));var ce=Hr;if(Hr|=4,cK(V.current),sK(V,V.current,te,p),Hr=ce,Pv(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Lt,V)}catch{}return!0}finally{Z.p=O,z.T=w,EK(l,d)}}function MK(l,d,p){d=X(p,d),d=ok(l.stateNode,d,2),l=rd(l,d,2),l!==null&&(Qn(l,2),hc(l))}function ii(l,d,p){if(l.tag===3)MK(l,l,p);else for(;d!==null;){if(d.tag===3){MK(d,l,p);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(hd===null||!hd.has(w))){l=X(p,l),p=k6(2),w=rd(d,p,2),w!==null&&(P6(p,w,d,l),Qn(w,2),hc(w));break}}d=d.return}}function kk(l,d,p){var w=l.pingCache;if(w===null){w=l.pingCache=new E5e;var O=new Set;w.set(d,O)}else O=w.get(d),O===void 0&&(O=new Set,w.set(d,O));O.has(p)||(Sk=!0,O.add(p),l=I5e.bind(null,l,d,p),d.then(l,l))}function I5e(l,d,p){var w=l.pingCache;w!==null&&w.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,li===l&&(pr&p)===p&&(Ui===4||Ui===3&&(pr&62914560)===pr&&300>lt()-_k?(Hr&2)===0&&_p(l,0):Ck|=p,Sp===pr&&(Sp=0)),hc(l)}function OK(l,d){d===0&&(d=An()),l=On(l,d),l!==null&&(Qn(l,d),hc(l))}function k5e(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),OK(l,p)}function P5e(l,d){var p=0;switch(l.tag){case 13:var w=l.stateNode,O=l.memoizedState;O!==null&&(p=O.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(d),OK(l,p)}function D5e(l,d){return Re(l,d)}var f0=null,Tp=null,Pk=!1,p0=!1,Dk=!1,Hh=0;function hc(l){l!==Tp&&l.next===null&&(Tp===null?f0=Tp=l:Tp=Tp.next=l),p0=!0,Pk||(Pk=!0,L5e())}function Pv(l,d){if(!Dk&&p0){Dk=!0;do for(var p=!1,w=f0;w!==null;){if(l!==0){var O=w.pendingLanes;if(O===0)var V=0;else{var te=w.suspendedLanes,ce=w.pingedLanes;V=(1<<31-xt(42|l)+1)-1,V&=O&~(te&~ce),V=V&201326741?V&201326741|1:V?V|2:0}V!==0&&(p=!0,PK(w,V))}else V=pr,V=Vt(w,w===li?V:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(V&3)===0||_t(w,V)||(p=!0,PK(w,V));w=w.next}while(p);Dk=!1}}function A5e(){RK()}function RK(){p0=Pk=!1;var l=0;Hh!==0&&(U5e()&&(l=Hh),Hh=0);for(var d=lt(),p=null,w=f0;w!==null;){var O=w.next,V=IK(w,d);V===0?(w.next=null,p===null?f0=O:p.next=O,O===null&&(Tp=p)):(p=w,(l!==0||(V&3)!==0)&&(p0=!0)),w=O}Pv(l)}function IK(l,d){for(var p=l.suspendedLanes,w=l.pingedLanes,O=l.expirationTimes,V=l.pendingLanes&-62914561;0<V;){var te=31-xt(V),ce=1<<te,Se=O[te];Se===-1?((ce&p)===0||(ce&w)!==0)&&(O[te]=Nt(ce,d)):Se<=d&&(l.expiredLanes|=ce),V&=~ce}if(d=li,p=pr,p=Vt(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w=l.callbackNode,p===0||l===d&&(Gr===2||Gr===9)||l.cancelPendingCommit!==null)return w!==null&&w!==null&&Le(w),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||_t(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(w!==null&&Le(w),en(p)){case 2:case 8:p=Ct;break;case 32:p=Ot;break;case 268435456:p=Ft;break;default:p=Ot}return w=kK.bind(null,l),p=Re(p,w),l.callbackPriority=d,l.callbackNode=p,d}return w!==null&&w!==null&&Le(w),l.callbackPriority=2,l.callbackNode=null,2}function kK(l,d){if(Ko!==0&&Ko!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(h0()&&l.callbackNode!==p)return null;var w=pr;return w=Vt(l,l===li?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w===0?null:(fK(l,w,d),IK(l,lt()),l.callbackNode!=null&&l.callbackNode===p?kK.bind(null,l):null)}function PK(l,d){if(h0())return null;fK(l,d,!0)}function L5e(){G5e(function(){(Hr&6)!==0?Re(Bt,A5e):RK()})}function Ak(){return Hh===0&&(Hh=Zn()),Hh}function DK(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:wo(""+l)}function AK(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function N5e(l,d,p,w,O){if(d==="submit"&&p&&p.stateNode===O){var V=DK((O[un]||null).action),te=w.submitter;te&&(d=(d=te[un]||null)?DK(d.formAction):te.getAttribute("formAction"),d!==null&&(V=d,te=null));var ce=new Bn("action","action",null,w,O);l.push({event:ce,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Hh!==0){var Se=te?AK(O,te):new FormData(O);ek(p,{pending:!0,data:Se,method:O.method,action:V},null,Se)}}else typeof V=="function"&&(ce.preventDefault(),Se=te?AK(O,te):new FormData(O),ek(p,{pending:!0,data:Se,method:O.method,action:V},V,Se))},currentTarget:O}]})}}for(var Lk=0;Lk<Qi.length;Lk++){var Nk=Qi[Lk],B5e=Nk.toLowerCase(),F5e=Nk[0].toUpperCase()+Nk.slice(1);us(B5e,"on"+F5e)}us(yl,"onAnimationEnd"),us(PS,"onAnimationIteration"),us(DS,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(bI,"onTransitionRun"),us(wI,"onTransitionStart"),us(SI,"onTransitionCancel"),us(Zt,"onTransitionEnd"),Yt("onMouseEnter",["mouseout","mouseover"]),Yt("onMouseLeave",["mouseout","mouseover"]),Yt("onPointerEnter",["pointerout","pointerover"]),Yt("onPointerLeave",["pointerout","pointerover"]),vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j5e=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dv));function LK(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var w=l[p],O=w.event;w=w.listeners;e:{var V=void 0;if(d)for(var te=w.length-1;0<=te;te--){var ce=w[te],Se=ce.instance,Ge=ce.currentTarget;if(ce=ce.listener,Se!==V&&O.isPropagationStopped())break e;V=ce,O.currentTarget=Ge;try{V(O)}catch(ht){t0(ht)}O.currentTarget=null,V=Se}else for(te=0;te<w.length;te++){if(ce=w[te],Se=ce.instance,Ge=ce.currentTarget,ce=ce.listener,Se!==V&&O.isPropagationStopped())break e;V=ce,O.currentTarget=Ge;try{V(O)}catch(ht){t0(ht)}O.currentTarget=null,V=Se}}}}function lr(l,d){var p=d[hi];p===void 0&&(p=d[hi]=new Set);var w=l+"__bubble";p.has(w)||(NK(d,l,2,!1),p.add(w))}function Bk(l,d,p){var w=0;d&&(w|=4),NK(p,l,w,d)}var g0="_reactListening"+Math.random().toString(36).slice(2);function Fk(l){if(!l[g0]){l[g0]=!0,st.forEach(function(p){p!=="selectionchange"&&(j5e.has(p)||Bk(p,!1,l),Bk(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[g0]||(d[g0]=!0,Bk("selectionchange",!1,d))}}function NK(l,d,p,w){switch(sq(d)){case 2:var O=hWe;break;case 8:O=fWe;break;default:O=Qk}p=O.bind(null,d,p,l),O=void 0,!Zi||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),w?O!==void 0?l.addEventListener(d,p,{capture:!0,passive:O}):l.addEventListener(d,p,!0):O!==void 0?l.addEventListener(d,p,{passive:O}):l.addEventListener(d,p,!1)}function jk(l,d,p,w,O){var V=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var te=w.tag;if(te===3||te===4){var ce=w.stateNode.containerInfo;if(ce===O)break;if(te===4)for(te=w.return;te!==null;){var Se=te.tag;if((Se===3||Se===4)&&te.stateNode.containerInfo===O)return;te=te.return}for(;ce!==null;){if(te=Er(ce),te===null)return;if(Se=te.tag,Se===5||Se===6||Se===26||Se===27){w=V=te;continue e}ce=ce.parentNode}}w=w.return}rc(function(){var Ge=V,ht=Ts(p),yt=[];e:{var qe=ov.get(l);if(qe!==void 0){var Ze=Bn,Ln=l;switch(l){case"keypress":if(ue(p)===0)break e;case"keydown":case"keyup":Ze=Qu;break;case"focusin":Ln="focus",Ze=Vc;break;case"focusout":Ln="blur",Ze=Vc;break;case"beforeblur":case"afterblur":Ze=Vc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=dn;break;case yl:case PS:case DS:Ze=Va;break;case Zt:Ze=Ho;break;case"scroll":case"scrollend":Ze=Vr;break;case"wheel":Ze=He;break;case"copy":case"cut":case"paste":Ze=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=_i;break;case"toggle":case"beforetoggle":Ze=Co}var In=(d&4)!==0,ti=!In&&(l==="scroll"||l==="scrollend"),Fe=In?qe!==null?qe+"Capture":null:qe;In=[];for(var Oe=Ge,Ue;Oe!==null;){var gt=Oe;if(Ue=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||Ue===null||Fe===null||(gt=ro(Oe,Fe),gt!=null&&In.push(Av(Oe,gt,Ue))),ti)break;Oe=Oe.return}0<In.length&&(qe=new Ze(qe,Ln,null,p,ht),yt.push({event:qe,listeners:In}))}}if((d&7)===0){e:{if(qe=l==="mouseover"||l==="pointerover",Ze=l==="mouseout"||l==="pointerout",qe&&p!==So&&(Ln=p.relatedTarget||p.fromElement)&&(Er(Ln)||Ln[wn]))break e;if((Ze||qe)&&(qe=ht.window===ht?ht:(qe=ht.ownerDocument)?qe.defaultView||qe.parentWindow:window,Ze?(Ln=p.relatedTarget||p.toElement,Ze=Ge,Ln=Ln?Er(Ln):null,Ln!==null&&(ti=o(Ln),In=Ln.tag,Ln!==ti||In!==5&&In!==27&&In!==6)&&(Ln=null)):(Ze=null,Ln=Ge),Ze!==Ln)){if(In=Gu,gt="onMouseLeave",Fe="onMouseEnter",Oe="mouse",(l==="pointerout"||l==="pointerover")&&(In=_i,gt="onPointerLeave",Fe="onPointerEnter",Oe="pointer"),ti=Ze==null?qe:vo(Ze),Ue=Ln==null?qe:vo(Ln),qe=new In(gt,Oe+"leave",Ze,p,ht),qe.target=ti,qe.relatedTarget=Ue,gt=null,Er(ht)===Ge&&(In=new In(Fe,Oe+"enter",Ln,p,ht),In.target=Ue,In.relatedTarget=ti,gt=In),ti=gt,Ze&&Ln)t:{for(In=Ze,Fe=Ln,Oe=0,Ue=In;Ue;Ue=Mp(Ue))Oe++;for(Ue=0,gt=Fe;gt;gt=Mp(gt))Ue++;for(;0<Oe-Ue;)In=Mp(In),Oe--;for(;0<Ue-Oe;)Fe=Mp(Fe),Ue--;for(;Oe--;){if(In===Fe||Fe!==null&&In===Fe.alternate)break t;In=Mp(In),Fe=Mp(Fe)}In=null}else In=null;Ze!==null&&BK(yt,qe,Ze,In,!1),Ln!==null&&ti!==null&&BK(yt,ti,Ln,In,!0)}}e:{if(qe=Ge?vo(Ge):window,Ze=qe.nodeName&&qe.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&qe.type==="file")var hn=Uc;else if(pi(qe))if(ip)hn=Hc;else{hn=rv;var ir=sp}else Ze=qe.nodeName,!Ze||Ze.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?Ge&&ri(Ge.elementType)&&(hn=Uc):hn=Ju;if(hn&&(hn=hn(l,Ge))){Vi(yt,hn,p,ht);break e}ir&&ir(l,qe,Ge),l==="focusout"&&Ge&&qe.type==="number"&&Ge.memoizedProps.value!=null&&pl(qe,"number",qe.value)}switch(ir=Ge?vo(Ge):window,l){case"focusin":(pi(ir)||ir.contentEditable==="true")&&(Ye=ir,ot=Ge,ft=null);break;case"focusout":ft=ot=Ye=null;break;case"mousedown":Gt=!0;break;case"contextmenu":case"mouseup":case"dragend":Gt=!1,rn(yt,p,ht);break;case"selectionchange":if(De)break;case"keydown":case"keyup":rn(yt,p,ht)}var Cn;if(xn)e:{switch(l){case"compositionstart":var Dn="onCompositionStart";break e;case"compositionend":Dn="onCompositionEnd";break e;case"compositionupdate":Dn="onCompositionUpdate";break e}Dn=void 0}else Sn?ze(l,p)&&(Dn="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Dn="onCompositionStart");Dn&&(tr&&p.locale!=="ko"&&(Sn||Dn!=="onCompositionStart"?Dn==="onCompositionEnd"&&Sn&&(Cn=re()):(Uo=ht,B="value"in Uo?Uo.value:Uo.textContent,Sn=!0)),ir=m0(Ge,Dn),0<ir.length&&(Dn=new fr(Dn,l,null,p,ht),yt.push({event:Dn,listeners:ir}),Cn?Dn.data=Cn:(Cn=bn(p),Cn!==null&&(Dn.data=Cn)))),(Cn=sc?Tn(l,p):xo(l,p))&&(Dn=m0(Ge,"onBeforeInput"),0<Dn.length&&(ir=new fr("onBeforeInput","beforeinput",null,p,ht),yt.push({event:ir,listeners:Dn}),ir.data=Cn)),N5e(yt,l,Ge,p,ht)}LK(yt,d)})}function Av(l,d,p){return{instance:l,listener:d,currentTarget:p}}function m0(l,d){for(var p=d+"Capture",w=[];l!==null;){var O=l,V=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||V===null||(O=ro(l,p),O!=null&&w.unshift(Av(l,O,V)),O=ro(l,d),O!=null&&w.push(Av(l,O,V))),l.tag===3)return w;l=l.return}return[]}function Mp(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function BK(l,d,p,w,O){for(var V=d._reactName,te=[];p!==null&&p!==w;){var ce=p,Se=ce.alternate,Ge=ce.stateNode;if(ce=ce.tag,Se!==null&&Se===w)break;ce!==5&&ce!==26&&ce!==27||Ge===null||(Se=Ge,O?(Ge=ro(p,V),Ge!=null&&te.unshift(Av(p,Ge,Se))):O||(Ge=ro(p,V),Ge!=null&&te.push(Av(p,Ge,Se)))),p=p.return}te.length!==0&&l.push({event:d,listeners:te})}var V5e=/\r\n?/g,$5e=/\u0000|\uFFFD/g;function FK(l){return(typeof l=="string"?l:""+l).replace(V5e,`
`).replace($5e,"")}function jK(l,d){return d=FK(d),FK(l)===d}function v0(){}function ei(l,d,p,w,O,V){switch(p){case"children":typeof w=="string"?d==="body"||d==="textarea"&&w===""||Es(l,w):(typeof w=="number"||typeof w=="bigint")&&d!=="body"&&Es(l,""+w);break;case"className":Jo(l,"class",w);break;case"tabIndex":Jo(l,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Jo(l,p,w);break;case"style":Fa(l,w,V);break;case"data":if(d!=="object"){Jo(l,"data",w);break}case"src":case"href":if(w===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=wo(""+w),l.setAttribute(p,w);break;case"action":case"formAction":if(typeof w=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof V=="function"&&(p==="formAction"?(d!=="input"&&ei(l,d,"name",O.name,O,null),ei(l,d,"formEncType",O.formEncType,O,null),ei(l,d,"formMethod",O.formMethod,O,null),ei(l,d,"formTarget",O.formTarget,O,null)):(ei(l,d,"encType",O.encType,O,null),ei(l,d,"method",O.method,O,null),ei(l,d,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(p);break}w=wo(""+w),l.setAttribute(p,w);break;case"onClick":w!=null&&(l.onclick=v0);break;case"onScroll":w!=null&&lr("scroll",l);break;case"onScrollEnd":w!=null&&lr("scrollend",l);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":l.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){l.removeAttribute("xlink:href");break}p=wo(""+w),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""+w):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":w===!0?l.setAttribute(p,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(p,w):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?l.setAttribute(p,w):l.removeAttribute(p);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?l.removeAttribute(p):l.setAttribute(p,w);break;case"popover":lr("beforetoggle",l),lr("toggle",l),Yi(l,"popover",w);break;case"xlinkActuate":Bi(l,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Bi(l,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Bi(l,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Bi(l,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Bi(l,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Bi(l,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Bi(l,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Bi(l,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Bi(l,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Yi(l,"is",w);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Xi.get(p)||p,Yi(l,p,w))}}function Vk(l,d,p,w,O,V){switch(p){case"style":Fa(l,w,V);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(p=w.__html,p!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof w=="string"?Es(l,w):(typeof w=="number"||typeof w=="bigint")&&Es(l,""+w);break;case"onScroll":w!=null&&lr("scroll",l);break;case"onScrollEnd":w!=null&&lr("scrollend",l);break;case"onClick":w!=null&&(l.onclick=v0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!it.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(O=p.endsWith("Capture"),d=p.slice(2,O?p.length-7:void 0),V=l[un]||null,V=V!=null?V[p]:null,typeof V=="function"&&l.removeEventListener(d,V,O),typeof w=="function")){typeof V!="function"&&V!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,w,O);break e}p in l?l[p]=w:w===!0?l.setAttribute(p,""):Yi(l,p,w)}}}function qo(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lr("error",l),lr("load",l);var w=!1,O=!1,V;for(V in p)if(p.hasOwnProperty(V)){var te=p[V];if(te!=null)switch(V){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:ei(l,d,V,te,p,null)}}O&&ei(l,d,"srcSet",p.srcSet,p,null),w&&ei(l,d,"src",p.src,p,null);return;case"input":lr("invalid",l);var ce=V=te=O=null,Se=null,Ge=null;for(w in p)if(p.hasOwnProperty(w)){var ht=p[w];if(ht!=null)switch(w){case"name":O=ht;break;case"type":te=ht;break;case"checked":Se=ht;break;case"defaultChecked":Ge=ht;break;case"value":V=ht;break;case"defaultValue":ce=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,d));break;default:ei(l,d,w,ht,p,null)}}Xs(l,V,ce,Se,Ge,te,O,!1),yo(l);return;case"select":lr("invalid",l),w=te=V=null;for(O in p)if(p.hasOwnProperty(O)&&(ce=p[O],ce!=null))switch(O){case"value":V=ce;break;case"defaultValue":te=ce;break;case"multiple":w=ce;default:ei(l,d,O,ce,p,null)}d=V,p=te,l.multiple=!!w,d!=null?Zs(l,!!w,d,!1):p!=null&&Zs(l,!!w,p,!0);return;case"textarea":lr("invalid",l),V=O=w=null;for(te in p)if(p.hasOwnProperty(te)&&(ce=p[te],ce!=null))switch(te){case"value":w=ce;break;case"defaultValue":O=ce;break;case"children":V=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(91));break;default:ei(l,d,te,ce,p,null)}nc(l,w,O,V),yo(l);return;case"option":for(Se in p)if(p.hasOwnProperty(Se)&&(w=p[Se],w!=null))switch(Se){case"selected":l.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:ei(l,d,Se,w,p,null)}return;case"dialog":lr("beforetoggle",l),lr("toggle",l),lr("cancel",l),lr("close",l);break;case"iframe":case"object":lr("load",l);break;case"video":case"audio":for(w=0;w<Dv.length;w++)lr(Dv[w],l);break;case"image":lr("error",l),lr("load",l);break;case"details":lr("toggle",l);break;case"embed":case"source":case"link":lr("error",l),lr("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in p)if(p.hasOwnProperty(Ge)&&(w=p[Ge],w!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:ei(l,d,Ge,w,p,null)}return;default:if(ri(d)){for(ht in p)p.hasOwnProperty(ht)&&(w=p[ht],w!==void 0&&Vk(l,d,ht,w,p,void 0));return}}for(ce in p)p.hasOwnProperty(ce)&&(w=p[ce],w!=null&&ei(l,d,ce,w,p,null))}function z5e(l,d,p,w){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,V=null,te=null,ce=null,Se=null,Ge=null,ht=null;for(Ze in p){var yt=p[Ze];if(p.hasOwnProperty(Ze)&&yt!=null)switch(Ze){case"checked":break;case"value":break;case"defaultValue":Se=yt;default:w.hasOwnProperty(Ze)||ei(l,d,Ze,null,w,yt)}}for(var qe in w){var Ze=w[qe];if(yt=p[qe],w.hasOwnProperty(qe)&&(Ze!=null||yt!=null))switch(qe){case"type":V=Ze;break;case"name":O=Ze;break;case"checked":Ge=Ze;break;case"defaultChecked":ht=Ze;break;case"value":te=Ze;break;case"defaultValue":ce=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,d));break;default:Ze!==yt&&ei(l,d,qe,Ze,w,yt)}}tc(l,te,ce,Se,Ge,ht,V,O);return;case"select":Ze=te=ce=qe=null;for(V in p)if(Se=p[V],p.hasOwnProperty(V)&&Se!=null)switch(V){case"value":break;case"multiple":Ze=Se;default:w.hasOwnProperty(V)||ei(l,d,V,null,w,Se)}for(O in w)if(V=w[O],Se=p[O],w.hasOwnProperty(O)&&(V!=null||Se!=null))switch(O){case"value":qe=V;break;case"defaultValue":ce=V;break;case"multiple":te=V;default:V!==Se&&ei(l,d,O,V,w,Se)}d=ce,p=te,w=Ze,qe!=null?Zs(l,!!p,qe,!1):!!w!=!!p&&(d!=null?Zs(l,!!p,d,!0):Zs(l,!!p,p?[]:"",!1));return;case"textarea":Ze=qe=null;for(ce in p)if(O=p[ce],p.hasOwnProperty(ce)&&O!=null&&!w.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:ei(l,d,ce,null,w,O)}for(te in w)if(O=w[te],V=p[te],w.hasOwnProperty(te)&&(O!=null||V!=null))switch(te){case"value":qe=O;break;case"defaultValue":Ze=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==V&&ei(l,d,te,O,w,V)}gl(l,qe,Ze);return;case"option":for(var Ln in p)if(qe=p[Ln],p.hasOwnProperty(Ln)&&qe!=null&&!w.hasOwnProperty(Ln))switch(Ln){case"selected":l.selected=!1;break;default:ei(l,d,Ln,null,w,qe)}for(Se in w)if(qe=w[Se],Ze=p[Se],w.hasOwnProperty(Se)&&qe!==Ze&&(qe!=null||Ze!=null))switch(Se){case"selected":l.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:ei(l,d,Se,qe,w,Ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var In in p)qe=p[In],p.hasOwnProperty(In)&&qe!=null&&!w.hasOwnProperty(In)&&ei(l,d,In,null,w,qe);for(Ge in w)if(qe=w[Ge],Ze=p[Ge],w.hasOwnProperty(Ge)&&qe!==Ze&&(qe!=null||Ze!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,d));break;default:ei(l,d,Ge,qe,w,Ze)}return;default:if(ri(d)){for(var ti in p)qe=p[ti],p.hasOwnProperty(ti)&&qe!==void 0&&!w.hasOwnProperty(ti)&&Vk(l,d,ti,void 0,w,qe);for(ht in w)qe=w[ht],Ze=p[ht],!w.hasOwnProperty(ht)||qe===Ze||qe===void 0&&Ze===void 0||Vk(l,d,ht,qe,w,Ze);return}}for(var Fe in p)qe=p[Fe],p.hasOwnProperty(Fe)&&qe!=null&&!w.hasOwnProperty(Fe)&&ei(l,d,Fe,null,w,qe);for(yt in w)qe=w[yt],Ze=p[yt],!w.hasOwnProperty(yt)||qe===Ze||qe==null&&Ze==null||ei(l,d,yt,qe,w,Ze)}var $k=null,zk=null;function y0(l){return l.nodeType===9?l:l.ownerDocument}function VK(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $K(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function Uk(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Hk=null;function U5e(){var l=window.event;return l&&l.type==="popstate"?l===Hk?!1:(Hk=l,!0):(Hk=null,!1)}var zK=typeof setTimeout=="function"?setTimeout:void 0,H5e=typeof clearTimeout=="function"?clearTimeout:void 0,UK=typeof Promise=="function"?Promise:void 0,G5e=typeof queueMicrotask=="function"?queueMicrotask:typeof UK<"u"?function(l){return UK.resolve(null).then(l).catch(W5e)}:zK;function W5e(l){setTimeout(function(){throw l})}function gd(l){return l==="head"}function HK(l,d){var p=d,w=0,O=0;do{var V=p.nextSibling;if(l.removeChild(p),V&&V.nodeType===8)if(p=V.data,p==="/$"){if(0<w&&8>w){p=w;var te=l.ownerDocument;if(p&1&&Lv(te.documentElement),p&2&&Lv(te.body),p&4)for(p=te.head,Lv(p),te=p.firstChild;te;){var ce=te.nextSibling,Se=te.nodeName;te[Fr]||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&te.rel.toLowerCase()==="stylesheet"||p.removeChild(te),te=ce}}if(O===0){l.removeChild(V),Uv(d);return}O--}else p==="$"||p==="$?"||p==="$!"?O++:w=p.charCodeAt(0)-48;else w=0;p=V}while(p);Uv(d)}function Gk(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Gk(p),Wn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function K5e(l,d,p,w){for(;l.nodeType===1;){var O=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!w&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(w){if(!l[Fr])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(V=l.getAttribute("rel"),V==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(V!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(V=l.getAttribute("src"),(V!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&V&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var V=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===V)return l}else return l;if(l=wl(l.nextSibling),l===null)break}return null}function q5e(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=wl(l.nextSibling),l===null))return null;return l}function Wk(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function Y5e(l,d){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")d();else{var w=function(){d(),p.removeEventListener("DOMContentLoaded",w)};p.addEventListener("DOMContentLoaded",w),l._reactRetry=w}}function wl(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var Kk=null;function GK(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}function WK(l,d,p){switch(d=y0(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Lv(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Wn(l)}var Ka=new Map,KK=new Set;function b0(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ru=Z.d;Z.d={f:X5e,r:Z5e,D:Q5e,C:J5e,L:eWe,m:tWe,X:rWe,S:nWe,M:iWe};function X5e(){var l=ru.f(),d=u0();return l||d}function Z5e(l){var d=Ri(l);d!==null&&d.tag===5&&d.type==="form"?f6(d):ru.r(l)}var Op=typeof document>"u"?null:document;function qK(l,d,p){var w=Op;if(w&&typeof d=="string"&&d){var O=bo(d);O='link[rel="'+l+'"][href="'+O+'"]',typeof p=="string"&&(O+='[crossorigin="'+p+'"]'),KK.has(O)||(KK.add(O),l={rel:l,crossOrigin:p,href:d},w.querySelector(O)===null&&(d=w.createElement("link"),qo(d,"link",l),gn(d),w.head.appendChild(d)))}}function Q5e(l){ru.D(l),qK("dns-prefetch",l,null)}function J5e(l,d){ru.C(l,d),qK("preconnect",l,d)}function eWe(l,d,p){ru.L(l,d,p);var w=Op;if(w&&l&&d){var O='link[rel="preload"][as="'+bo(d)+'"]';d==="image"&&p&&p.imageSrcSet?(O+='[imagesrcset="'+bo(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(O+='[imagesizes="'+bo(p.imageSizes)+'"]')):O+='[href="'+bo(l)+'"]';var V=O;switch(d){case"style":V=Rp(l);break;case"script":V=Ip(l)}Ka.has(V)||(l=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),Ka.set(V,l),w.querySelector(O)!==null||d==="style"&&w.querySelector(Nv(V))||d==="script"&&w.querySelector(Bv(V))||(d=w.createElement("link"),qo(d,"link",l),gn(d),w.head.appendChild(d)))}}function tWe(l,d){ru.m(l,d);var p=Op;if(p&&l){var w=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+bo(w)+'"][href="'+bo(l)+'"]',V=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":V=Ip(l)}if(!Ka.has(V)&&(l=h({rel:"modulepreload",href:l},d),Ka.set(V,l),p.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Bv(V)))return}w=p.createElement("link"),qo(w,"link",l),gn(w),p.head.appendChild(w)}}}function nWe(l,d,p){ru.S(l,d,p);var w=Op;if(w&&l){var O=jr(w).hoistableStyles,V=Rp(l);d=d||"default";var te=O.get(V);if(!te){var ce={loading:0,preload:null};if(te=w.querySelector(Nv(V)))ce.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":d},p),(p=Ka.get(V))&&qk(l,p);var Se=te=w.createElement("link");gn(Se),qo(Se,"link",l),Se._p=new Promise(function(Ge,ht){Se.onload=Ge,Se.onerror=ht}),Se.addEventListener("load",function(){ce.loading|=1}),Se.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,w0(te,d,w)}te={type:"stylesheet",instance:te,count:1,state:ce},O.set(V,te)}}}function rWe(l,d){ru.X(l,d);var p=Op;if(p&&l){var w=jr(p).hoistableScripts,O=Ip(l),V=w.get(O);V||(V=p.querySelector(Bv(O)),V||(l=h({src:l,async:!0},d),(d=Ka.get(O))&&Yk(l,d),V=p.createElement("script"),gn(V),qo(V,"link",l),p.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},w.set(O,V))}}function iWe(l,d){ru.M(l,d);var p=Op;if(p&&l){var w=jr(p).hoistableScripts,O=Ip(l),V=w.get(O);V||(V=p.querySelector(Bv(O)),V||(l=h({src:l,async:!0,type:"module"},d),(d=Ka.get(O))&&Yk(l,d),V=p.createElement("script"),gn(V),qo(V,"link",l),p.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},w.set(O,V))}}function YK(l,d,p,w){var O=(O=le.current)?b0(O):null;if(!O)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=Rp(p.href),p=jr(O).hoistableStyles,w=p.get(d),w||(w={type:"style",instance:null,count:0,state:null},p.set(d,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Rp(p.href);var V=jr(O).hoistableStyles,te=V.get(l);if(te||(O=O.ownerDocument||O,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},V.set(l,te),(V=O.querySelector(Nv(l)))&&!V._p&&(te.instance=V,te.state.loading=5),Ka.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ka.set(l,p),V||oWe(O,l,p,te.state))),d&&w===null)throw Error(r(528,""));return te}if(d&&w!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Ip(p),p=jr(O).hoistableScripts,w=p.get(d),w||(w={type:"script",instance:null,count:0,state:null},p.set(d,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Rp(l){return'href="'+bo(l)+'"'}function Nv(l){return'link[rel="stylesheet"]['+l+"]"}function XK(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function oWe(l,d,p,w){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?w.loading=1:(d=l.createElement("link"),w.preload=d,d.addEventListener("load",function(){return w.loading|=1}),d.addEventListener("error",function(){return w.loading|=2}),qo(d,"link",p),gn(d),l.head.appendChild(d))}function Ip(l){return'[src="'+bo(l)+'"]'}function Bv(l){return"script[async]"+l}function ZK(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var w=l.querySelector('style[data-href~="'+bo(p.href)+'"]');if(w)return d.instance=w,gn(w),w;var O=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return w=(l.ownerDocument||l).createElement("style"),gn(w),qo(w,"style",O),w0(w,p.precedence,l),d.instance=w;case"stylesheet":O=Rp(p.href);var V=l.querySelector(Nv(O));if(V)return d.state.loading|=4,d.instance=V,gn(V),V;w=XK(p),(O=Ka.get(O))&&qk(w,O),V=(l.ownerDocument||l).createElement("link"),gn(V);var te=V;return te._p=new Promise(function(ce,Se){te.onload=ce,te.onerror=Se}),qo(V,"link",w),d.state.loading|=4,w0(V,p.precedence,l),d.instance=V;case"script":return V=Ip(p.src),(O=l.querySelector(Bv(V)))?(d.instance=O,gn(O),O):(w=p,(O=Ka.get(V))&&(w=h({},p),Yk(w,O)),l=l.ownerDocument||l,O=l.createElement("script"),gn(O),qo(O,"link",w),l.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(w=d.instance,d.state.loading|=4,w0(w,p.precedence,l));return d.instance}function w0(l,d,p){for(var w=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,V=O,te=0;te<w.length;te++){var ce=w[te];if(ce.dataset.precedence===d)V=ce;else if(V!==O)break}V?V.parentNode.insertBefore(l,V.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function qk(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function Yk(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var S0=null;function QK(l,d,p){if(S0===null){var w=new Map,O=S0=new Map;O.set(p,w)}else O=S0,w=O.get(p),w||(w=new Map,O.set(p,w));if(w.has(l))return w;for(w.set(l,null),p=p.getElementsByTagName(l),O=0;O<p.length;O++){var V=p[O];if(!(V[Fr]||V[nn]||l==="link"&&V.getAttribute("rel")==="stylesheet")&&V.namespaceURI!=="http://www.w3.org/2000/svg"){var te=V.getAttribute(d)||"";te=l+te;var ce=w.get(te);ce?ce.push(V):w.set(te,[V])}}return w}function JK(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function sWe(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function eq(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Fv=null;function aWe(){}function lWe(l,d,p){if(Fv===null)throw Error(r(475));var w=Fv;if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var O=Rp(p.href),V=l.querySelector(Nv(O));if(V){l=V._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(w.count++,w=C0.bind(w),l.then(w,w)),d.state.loading|=4,d.instance=V,gn(V);return}V=l.ownerDocument||l,p=XK(p),(O=Ka.get(O))&&qk(p,O),V=V.createElement("link"),gn(V);var te=V;te._p=new Promise(function(ce,Se){te.onload=ce,te.onerror=Se}),qo(V,"link",p),d.instance=V}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(w.count++,d=C0.bind(w),l.addEventListener("load",d),l.addEventListener("error",d))}}function cWe(){if(Fv===null)throw Error(r(475));var l=Fv;return l.stylesheets&&l.count===0&&Xk(l,l.stylesheets),0<l.count?function(d){var p=setTimeout(function(){if(l.stylesheets&&Xk(l,l.stylesheets),l.unsuspend){var w=l.unsuspend;l.unsuspend=null,w()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(p)}}:null}function C0(){if(this.count--,this.count===0){if(this.stylesheets)Xk(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var x0=null;function Xk(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,x0=new Map,d.forEach(uWe,l),x0=null,C0.call(l))}function uWe(l,d){if(!(d.state.loading&4)){var p=x0.get(l);if(p)var w=p.get(null);else{p=new Map,x0.set(l,p);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),V=0;V<O.length;V++){var te=O[V];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(p.set(te.dataset.precedence,te),w=te)}w&&p.set(null,w)}O=d.instance,te=O.getAttribute("data-precedence"),V=p.get(te)||w,V===w&&p.set(null,O),p.set(te,O),this.count++,w=C0.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),V?V.parentNode.insertBefore(O,V.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),d.state.loading|=4}}var jv={$$typeof:T,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function dWe(l,d,p,w,O,V,te,ce){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=V,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function tq(l,d,p,w,O,V,te,ce,Se,Ge,ht,yt){return l=new dWe(l,d,p,te,ce,Se,Ge,yt),d=1,V===!0&&(d|=24),V=ta(3,null,null,d),l.current=V,V.stateNode=l,d=kI(),d.refCount++,l.pooledCache=d,d.refCount++,V.memoizedState={element:w,isDehydrated:p,cache:d},LI(V),l}function nq(l){return l?(l=ap,l):ap}function rq(l,d,p,w,O,V){O=nq(O),w.context===null?w.context=O:w.pendingContext=O,w=nd(d),w.payload={element:p},V=V===void 0?null:V,V!==null&&(w.callback=V),p=rd(l,w,d),p!==null&&(sa(p,l,d),gv(p,l,d))}function iq(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function Zk(l,d){iq(l,d),(l=l.alternate)&&iq(l,d)}function oq(l){if(l.tag===13){var d=On(l,67108864);d!==null&&sa(d,l,67108864),Zk(l,67108864)}}var _0=!0;function hWe(l,d,p,w){var O=z.T;z.T=null;var V=Z.p;try{Z.p=2,Qk(l,d,p,w)}finally{Z.p=V,z.T=O}}function fWe(l,d,p,w){var O=z.T;z.T=null;var V=Z.p;try{Z.p=8,Qk(l,d,p,w)}finally{Z.p=V,z.T=O}}function Qk(l,d,p,w){if(_0){var O=Jk(w);if(O===null)jk(l,d,w,E0,p),aq(l,w);else if(gWe(O,l,d,p,w))w.stopPropagation();else if(aq(l,w),d&4&&-1<pWe.indexOf(l)){for(;O!==null;){var V=Ri(O);if(V!==null)switch(V.tag){case 3:if(V=V.stateNode,V.current.memoizedState.isDehydrated){var te=mt(V.pendingLanes);if(te!==0){var ce=V;for(ce.pendingLanes|=2,ce.entangledLanes|=2;te;){var Se=1<<31-xt(te);ce.entanglements[1]|=Se,te&=~Se}hc(V),(Hr&6)===0&&(l0=lt()+500,Pv(0))}}break;case 13:ce=On(V,2),ce!==null&&sa(ce,V,2),u0(),Zk(V,2)}if(V=Jk(w),V===null&&jk(l,d,w,E0,p),V===O)break;O=V}O!==null&&w.stopPropagation()}else jk(l,d,w,null,p)}}function Jk(l){return l=Ts(l),eP(l)}var E0=null;function eP(l){if(E0=null,l=Er(l),l!==null){var d=o(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=s(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return E0=l,null}function sq(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case Bt:return 2;case Ct:return 8;case Ot:case Ke:return 32;case Ft:return 268435456;default:return 32}default:return 32}}var tP=!1,md=null,vd=null,yd=null,Vv=new Map,$v=new Map,bd=[],pWe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aq(l,d){switch(l){case"focusin":case"focusout":md=null;break;case"dragenter":case"dragleave":vd=null;break;case"mouseover":case"mouseout":yd=null;break;case"pointerover":case"pointerout":Vv.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":$v.delete(d.pointerId)}}function zv(l,d,p,w,O,V){return l===null||l.nativeEvent!==V?(l={blockedOn:d,domEventName:p,eventSystemFlags:w,nativeEvent:V,targetContainers:[O]},d!==null&&(d=Ri(d),d!==null&&oq(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),l)}function gWe(l,d,p,w,O){switch(d){case"focusin":return md=zv(md,l,d,p,w,O),!0;case"dragenter":return vd=zv(vd,l,d,p,w,O),!0;case"mouseover":return yd=zv(yd,l,d,p,w,O),!0;case"pointerover":var V=O.pointerId;return Vv.set(V,zv(Vv.get(V)||null,l,d,p,w,O)),!0;case"gotpointercapture":return V=O.pointerId,$v.set(V,zv($v.get(V)||null,l,d,p,w,O)),!0}return!1}function lq(l){var d=Er(l.target);if(d!==null){var p=o(d);if(p!==null){if(d=p.tag,d===13){if(d=s(p),d!==null){l.blockedOn=d,$t(l.priority,function(){if(p.tag===13){var w=oa();w=Xr(w);var O=On(p,w);O!==null&&sa(O,p,w),Zk(p,w)}});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function T0(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=Jk(l.nativeEvent);if(p===null){p=l.nativeEvent;var w=new p.constructor(p.type,p);So=w,p.target.dispatchEvent(w),So=null}else return d=Ri(p),d!==null&&oq(d),l.blockedOn=p,!1;d.shift()}return!0}function cq(l,d,p){T0(l)&&p.delete(d)}function mWe(){tP=!1,md!==null&&T0(md)&&(md=null),vd!==null&&T0(vd)&&(vd=null),yd!==null&&T0(yd)&&(yd=null),Vv.forEach(cq),$v.forEach(cq)}function M0(l,d){l.blockedOn===d&&(l.blockedOn=null,tP||(tP=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mWe)))}var O0=null;function uq(l){O0!==l&&(O0=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){O0===l&&(O0=null);for(var d=0;d<l.length;d+=3){var p=l[d],w=l[d+1],O=l[d+2];if(typeof w!="function"){if(eP(w||p)===null)continue;break}var V=Ri(p);V!==null&&(l.splice(d,3),d-=3,ek(V,{pending:!0,data:O,method:p.method,action:w},w,O))}}))}function Uv(l){function d(Se){return M0(Se,l)}md!==null&&M0(md,l),vd!==null&&M0(vd,l),yd!==null&&M0(yd,l),Vv.forEach(d),$v.forEach(d);for(var p=0;p<bd.length;p++){var w=bd[p];w.blockedOn===l&&(w.blockedOn=null)}for(;0<bd.length&&(p=bd[0],p.blockedOn===null);)lq(p),p.blockedOn===null&&bd.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(w=0;w<p.length;w+=3){var O=p[w],V=p[w+1],te=O[un]||null;if(typeof V=="function")te||uq(p);else if(te){var ce=null;if(V&&V.hasAttribute("formAction")){if(O=V,te=V[un]||null)ce=te.formAction;else if(eP(O)!==null)continue}else ce=te.action;typeof ce=="function"?p[w+1]=ce:(p.splice(w,3),w-=3),uq(p)}}}function nP(l){this._internalRoot=l}R0.prototype.render=nP.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,w=oa();rq(p,w,l,d,null,null)},R0.prototype.unmount=nP.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;rq(l.current,2,null,l,null,null),u0(),d[wn]=null}};function R0(l){this._internalRoot=l}R0.prototype.unstable_scheduleHydration=function(l){if(l){var d=Gn();l={blockedOn:null,target:l,priority:d};for(var p=0;p<bd.length&&d!==0&&d<bd[p].priority;p++);bd.splice(p,0,l),p===0&&lq(l)}};var dq=t.version;if(dq!=="19.1.1")throw Error(r(527,dq,"19.1.1"));Z.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(d),l=l!==null?u(l):null,l=l===null?null:l.stateNode,l};var vWe={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I0.isDisabled&&I0.supportsFiber)try{Lt=I0.inject(vWe),Xt=I0}catch{}}return nv.createRoot=function(l,d){if(!i(l))throw Error(r(299));var p=!1,w="",O=M6,V=O6,te=R6,ce=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(te=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ce=d.unstable_transitionCallbacks)),d=tq(l,1,!1,null,null,p,w,O,V,te,ce,null),l[wn]=d.current,Fk(l),new nP(d)},nv.hydrateRoot=function(l,d,p){if(!i(l))throw Error(r(299));var w=!1,O="",V=M6,te=O6,ce=R6,Se=null,Ge=null;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onUncaughtError!==void 0&&(V=p.onUncaughtError),p.onCaughtError!==void 0&&(te=p.onCaughtError),p.onRecoverableError!==void 0&&(ce=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Se=p.unstable_transitionCallbacks),p.formState!==void 0&&(Ge=p.formState)),d=tq(l,1,!0,d,p??null,w,O,V,te,ce,Se,Ge),d.context=nq(null),p=d.current,w=oa(),w=Xr(w),O=nd(w),O.callback=null,rd(p,O,w),p=w,d.current.lanes=p,Qn(d,p),hc(d),l[wn]=d.current,Fk(l),new R0(d)},nv.version="19.1.1",nv}var bW;function e5e(){if(bW)return mI.exports;bW=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mI.exports=J4e(),mI.exports}var t5e=e5e();function n5e(e,t){const n=typeof e=="string"?document.getElementById(e):e;t5e.createRoot(n).render(t)}async function r5e(e){const t=new Rve({baseUrl:Ed.apiUrl}),n=new xye({apiClient:t});n.init(),n5e(e,x.jsx(X4e,{m:n}))}return Hv.create=r5e,Hv.options=Ed,Object.defineProperty(Hv,Symbol.toStringTag,{value:"Module"}),Hv})({});
;var $GH_COMMIT = '730fffe build editor (работа с sqlite)';
