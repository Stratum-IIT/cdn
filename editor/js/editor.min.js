(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.pVED4Nqg{border-radius:16px;width:30%}.pVED4Nqg form{display:flex;flex-direction:column}.pVED4Nqg form menu{display:flex;flex-direction:column;gap:4px}.pVED4Nqg form button{height:40px}.pVED4Nqg form button[value=ok]:enabled{background-color:#90ee90}.pVED4Nqg form p{display:flex;justify-content:center}.pVED4Nqg input::file-selector-button{font-weight:700;color:#1e90ff;padding:.5em;border:thin solid grey;border-radius:3px}.ApJIp71s{position:relative;overflow:hidden;outline:none;transform-origin:top left}.ApJIp71s.qhzEyKeP{overflow-x:auto}.ApJIp71s.j1zyfqqN{overflow-y:auto}.ApJIp71s.-WlIuMox{display:none}.ApJIp71s .ApJIp71s{position:absolute}.ApJIp71s ._-7ivHAO2{position:sticky!important;top:0;left:0}.ApJIp71s .xTZG1aX9{pointer-events:none;position:absolute!important;top:0;left:0}.ApJIp71s .Q4gUooLG{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.Lub8lEDq{position:relative;user-select:none;width:100%;height:100%;overflow:clip;background-color:#fff}.Lub8lEDq>svg,.Lub8lEDq>div{pointer-events:none;position:absolute;overflow:clip;top:0;left:0;width:100%;height:100%}.Lub8lEDq ._3Au4Qe-K{all:unset;font-family:Arial;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.Lub8lEDq .uvJsh9bM{position:absolute;pointer-events:auto;background-color:#000}.Lub8lEDq.pQtj-s3j ._3Au4Qe-K{pointer-events:none}.Lub8lEDq ._3Au4Qe-K._3YpK1pvi{white-space:wrap}.Lub8lEDq ._3Au4Qe-K:not(._3YpK1pvi){overflow:hidden}.Lub8lEDq textarea._3Au4Qe-K._3n6h0K3a{border:inset 2px}.Lub8lEDq input[type=button]._3Au4Qe-K{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.Lub8lEDq input[type=button]._3Au4Qe-K:active{border-style:inset}.yNr0VPwT{position:relative;user-select:none;width:100%;height:100%;overflow:clip}.yNr0VPwT>canvas{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}.yNr0VPwT .doAE-L2e{all:unset;font-family:Arial;position:absolute;pointer-events:auto;background-color:#fff;resize:none;white-space:pre;box-sizing:border-box}.yNr0VPwT ._8PHlccAK{position:absolute;pointer-events:auto;background-color:#000}.yNr0VPwT.k7TCS6Hm .doAE-L2e{pointer-events:none}.yNr0VPwT .doAE-L2e.-QksePcc{white-space:wrap}.yNr0VPwT .doAE-L2e:not(.-QksePcc){overflow:hidden}.yNr0VPwT textarea.doAE-L2e.ZFAGmpo5{text-align:center}.yNr0VPwT textarea.doAE-L2e.GnGoYW5X{border:inset 2px}.yNr0VPwT input[type=button].doAE-L2e{user-select:none;border:outset 2px;background-color:#f0f0f0;text-align:center}.yNr0VPwT input[type=button].doAE-L2e:active{border-style:inset}.c3UHApxQ{position:relative;overflow:auto;min-width:300px;min-height:300px}.JtozXFt9{position:absolute!important;margin:0 auto;left:0;right:0}.JtozXFt9.pnlxzH3m{transition:opacity .25s linear,box-shadow .1s linear}.JtozXFt9.pnlxzH3m:focus-within{box-shadow:0 2px 6px #0000004d}.JtozXFt9.dJ50k0ZR{transition:opacity .25s linear;box-shadow:13px 11px 6px #0000007f;border:1px black solid}.JtozXFt9 ._2NuvSdcG{padding:0;background-color:transparent;border:none;position:absolute;top:0;right:8px;font-size:26px;cursor:pointer;color:#333}.JtozXFt9 ._2NuvSdcG:hover{color:red}@keyframes marching-ants{0%{background-position:0 0,0 100%,0 0,100% 0}to{background-position:20px 0,-20px 100%,0 -20px,100% 20px}}:root{--rc-drag-handle-size: 12px;--rc-drag-handle-mobile-size: 24px;--rc-drag-handle-bg-colour: rgba(0, 0, 0, .2);--rc-drag-bar-size: 6px;--rc-border-color: rgba(255, 255, 255, .7);--rc-focus-color: #0088ff}.ReactCrop{position:relative;display:inline-block;cursor:crosshair;max-width:100%}.ReactCrop *,.ReactCrop *:before,.ReactCrop *:after{box-sizing:border-box}.ReactCrop--disabled,.ReactCrop--locked{cursor:inherit}.ReactCrop__child-wrapper{overflow:hidden;max-height:inherit}.ReactCrop__child-wrapper>img,.ReactCrop__child-wrapper>video{display:block;max-width:100%;max-height:inherit}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>img,.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__child-wrapper>video{touch-action:none}.ReactCrop:not(.ReactCrop--disabled) .ReactCrop__crop-selection{touch-action:none}.ReactCrop__crop-mask{position:absolute;inset:0;pointer-events:none;width:calc(100% + .5px);height:calc(100% + .5px)}.ReactCrop__crop-selection{position:absolute;top:0;left:0;transform:translateZ(0);cursor:move}.ReactCrop--disabled .ReactCrop__crop-selection{cursor:inherit}.ReactCrop--circular-crop .ReactCrop__crop-selection{border-radius:50%}.ReactCrop--circular-crop .ReactCrop__crop-selection:after{pointer-events:none;content:"";position:absolute;inset:-1px;border:1px solid var(--rc-border-color);opacity:.3}.ReactCrop--no-animate .ReactCrop__crop-selection{outline:1px dashed white}.ReactCrop__crop-selection:not(.ReactCrop--no-animate .ReactCrop__crop-selection){animation:marching-ants 1s;background-image:linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to right,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%),linear-gradient(to bottom,#fff 50%,#444 50%);background-size:10px 1px,10px 1px,1px 10px,1px 10px;background-position:0 0,0 100%,0 0,100% 0;background-repeat:repeat-x,repeat-x,repeat-y,repeat-y;color:#fff;animation-play-state:running;animation-timing-function:linear;animation-iteration-count:infinite}.ReactCrop__crop-selection:focus{outline:2px solid var(--rc-focus-color);outline-offset:-1px}.ReactCrop--invisible-crop .ReactCrop__crop-mask,.ReactCrop--invisible-crop .ReactCrop__crop-selection{display:none}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after,.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{content:"";display:block;position:absolute;background-color:#fff6}.ReactCrop__rule-of-thirds-vt:before,.ReactCrop__rule-of-thirds-vt:after{width:1px;height:100%}.ReactCrop__rule-of-thirds-vt:before{left:33.3333333333%}.ReactCrop__rule-of-thirds-vt:after{left:66.6666666667%}.ReactCrop__rule-of-thirds-hz:before,.ReactCrop__rule-of-thirds-hz:after{width:100%;height:1px}.ReactCrop__rule-of-thirds-hz:before{top:33.3333333333%}.ReactCrop__rule-of-thirds-hz:after{top:66.6666666667%}.ReactCrop__drag-handle{position:absolute;width:var(--rc-drag-handle-size);height:var(--rc-drag-handle-size);background-color:var(--rc-drag-handle-bg-colour);border:1px solid var(--rc-border-color)}.ReactCrop__drag-handle:focus{background:var(--rc-focus-color)}.ReactCrop .ord-nw{top:0;left:0;transform:translate(-50%,-50%);cursor:nw-resize}.ReactCrop .ord-n{top:0;left:50%;transform:translate(-50%,-50%);cursor:n-resize}.ReactCrop .ord-ne{top:0;right:0;transform:translate(50%,-50%);cursor:ne-resize}.ReactCrop .ord-e{top:50%;right:0;transform:translate(50%,-50%);cursor:e-resize}.ReactCrop .ord-se{bottom:0;right:0;transform:translate(50%,50%);cursor:se-resize}.ReactCrop .ord-s{bottom:0;left:50%;transform:translate(-50%,50%);cursor:s-resize}.ReactCrop .ord-sw{bottom:0;left:0;transform:translate(-50%,50%);cursor:sw-resize}.ReactCrop .ord-w{top:50%;left:0;transform:translate(-50%,-50%);cursor:w-resize}.ReactCrop__disabled .ReactCrop__drag-handle{cursor:inherit}.ReactCrop__drag-bar{position:absolute}.ReactCrop__drag-bar.ord-n{top:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(-50%)}.ReactCrop__drag-bar.ord-e{right:0;top:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(50%)}.ReactCrop__drag-bar.ord-s{bottom:0;left:0;width:100%;height:var(--rc-drag-bar-size);transform:translateY(50%)}.ReactCrop__drag-bar.ord-w{top:0;left:0;width:var(--rc-drag-bar-size);height:100%;transform:translate(-50%)}.ReactCrop--new-crop .ReactCrop__drag-bar,.ReactCrop--new-crop .ReactCrop__drag-handle,.ReactCrop--fixed-aspect .ReactCrop__drag-bar,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-n,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-e,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-s,.ReactCrop--fixed-aspect .ReactCrop__drag-handle.ord-w{display:none}@media(pointer:coarse){.ReactCrop .ord-n,.ReactCrop .ord-e,.ReactCrop .ord-s,.ReactCrop .ord-w{display:none}.ReactCrop__drag-handle{width:var(--rc-drag-handle-mobile-size);height:var(--rc-drag-handle-mobile-size)}}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
var stratumEditor=(function(Wv){"use strict";function Rq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Kv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Iq(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var B0={exports:{}},$p={};var uP;function kq(){if(uP)return $p;uP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return $p.Fragment=t,$p.jsx=n,$p.jsxs=n,$p}var dP;function Pq(){return dP||(dP=1,B0.exports=kq()),B0.exports}var C=Pq();const gc=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],hP=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function qv(e){if(e>=hP.length)throw new Error("Unable to parse base64 string.");const t=hP[e];if(t===255)throw new Error("Unable to parse base64 string.");return t}function Yv(e){let t="",n,r=e.length;for(n=2;n<r;n+=3)t+=gc[e[n-2]>>2],t+=gc[(e[n-2]&3)<<4|e[n-1]>>4],t+=gc[(e[n-1]&15)<<2|e[n]>>6],t+=gc[e[n]&63];return n===r+1&&(t+=gc[e[n-2]>>2],t+=gc[(e[n-2]&3)<<4],t+="=="),n===r&&(t+=gc[e[n-2]>>2],t+=gc[(e[n-2]&3)<<4|e[n-1]>>4],t+=gc[(e[n-1]&15)<<2],t+="="),t}function Xv(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(t!==-1&&t<e.length-2)throw new Error("Unable to parse base64 string.");let n=e.endsWith("==")?2:e.endsWith("=")?1:0,r=e.length,i=new Uint8Array(3*(r/4)),o;for(let s=0,l=0;s<r;s+=4,l+=3)o=qv(e.charCodeAt(s))<<18|qv(e.charCodeAt(s+1))<<12|qv(e.charCodeAt(s+2))<<6|qv(e.charCodeAt(s+3)),i[l]=o>>16,i[l+1]=o>>8&255,i[l+2]=o&255;return i.subarray(0,i.length-n)}const el=[...Array.from({length:128},(e,t)=>String.fromCharCode(t)),"Ђ","Ѓ","‚","ѓ","„","…","†","‡","€","‰","Љ","‹","Њ","Ќ","Ћ","Џ","ђ","‘","’","“","”","•","–","—","","™","љ","›","њ","ќ","ћ","џ"," ","Ў","ў","Ћ","¤","Ґ","¦","§","Ё","©","Є","«","¬","","®","Ї","°","±","І","і","ґ","µ","¶","·","ё","№","є","»","ј","Ѕ","ѕ","ї","А","Б","В","Г","Д","Е","Ж","З","И","Й","К","Л","М","Н","О","П","Р","С","Т","У","Ф","Х","Ц","Ч","Ш","Щ","Ъ","Ы","Ь","Э","Ю","Я","а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"];function zp(e){return Array.from(e).map(t=>el[t]).join("")}const Zv=32,Dq=10;function Up(e){return new Uint8Array([...e].map(t=>{const n=el.indexOf(t);return n>-1?n:Zv}))}class aa{constructor(){this.listeners=new Set,this.listenersOnce=new Set}add(t){this.listeners.add(t)}addOnce(t){this.listenersOnce.add(t)}remove(t){this.listeners.delete(t),this.listenersOnce.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.listenersOnce.forEach(n=>n(...t)),this.listenersOnce.clear()}}const Hp=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare;class F0{constructor(t,n){this.data=new Array(t.length);for(let r=0,i=t[0].length;r<t.length;r++){this.data[r]=new Array(i);for(let o=0;o<i;o++)this.data[r][o]=t[r][o]}if(n){if(typeof n[0]!="object")for(let r=0;r<n.length;r++)n[r]=[n[r]];this.mirror=new F0(n)}}swap(t,n){this.mirror&&this.mirror.swap(t,n);const r=this.data[t];this.data[t]=this.data[n],this.data[n]=r}multline(t,n){this.mirror&&this.mirror.multline(t,n);const r=this.data[t];for(let i=r.length-1;i>=0;i--)r[i]*=n}addmul(t,n,r){this.mirror&&this.mirror.addmul(t,n,r);const i=this.data[t],o=this.data[n];for(let s=i.length-1;s>=0;s--)i[s]=i[s]+r*o[s]}hasNullLine(t){for(let n=0;n<this.data[t].length;n++)if(this.data[t][n]!==0)return!1;return!0}gauss(){let t=0;const n=this.data.length,r=this.data[0].length,i=[];for(let o=0;o<r;o++){let s=0,l=0;for(let c=t;c<n;c++){const u=this.data[c][o];Math.abs(u)>Math.abs(s)&&(l=c,s=u)}if(s===0)i.push(t);else{this.multline(l,1/s),this.swap(l,t);for(let c=0;c<n;c++)c!==t&&this.addmul(c,t,-this.data[c][o])}t++}for(let o=0;o<i.length;o++)if(!this.mirror.hasNullLine(i[o]))throw new Error("singular matrix");return this.mirror.data}}function Aq(e){const{a:t,b:n}=e,r=new F0(t,n).gauss();if(r.length>0&&r[0].length===1)for(let i=0;i<r.length;i++)r[i]=r[i][0];return r}function fP(e,t,n,r){const i=n-e,o=r-t;return Math.sqrt(i*i+o*o)}function pP(e,t,n,r,i){for(let o=t?0:2,s=t?e.length-2:0;o<e.length;s=o,o+=2){const l=e[o],c=e[o+1],u=e[s],h=e[s+1],p=l-u,g=c-h,m=p*p+g*g;if(m===0&&fP(r,i,u,h)<=n)return s/2;let y=((r-u)*p+(i-h)*g)/m;if(y=Math.max(0,Math.min(1,y)),fP(r,i,u+y*p,h+y*g)<=n)return s/2}return-1}function Lq(e,t,n){let r=!1;for(let i=0,o=e.length-2;i<e.length;o=i,i+=2){const s=e[i],l=e[i+1],c=e[o],u=e[o+1];(l<=n&&n<u||u<=n&&n<l)&&u-l!==0&&t>(c-s)*(n-l)/(u-l)+s&&(r=!r)}return r}const gP="stdlib",kd={contentUrl:"./content"};function Ls(e){if(e.startsWith("res:")){const t=e.slice(4);return t.startsWith("stdlib/")?`${kd.contentUrl}/stdlib/res/${t.slice(7)}`:`${kd.contentUrl}/libs/${t.slice(0,2)}/${t.slice(2,22)}/res/${t.slice(23)}`}return e.startsWith("icon:")?`${kd.contentUrl}/icons/${e.slice(5)}.png`:e}function Nq(e){return e==="stdlib"?`${kd.contentUrl}/stdlib/index.json`:`${kd.contentUrl}/libs/${e.slice(0,2)}/${e.slice(2)}/index.json`}function Bq(e,t){return`res:${e}/${t}`}function Fq(e){const t=e[0]*(e[4]*e[8]-e[7]*e[5])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]);return[(e[4]*e[8]-e[7]*e[5])/t,(e[2]*e[7]-e[1]*e[8])/t,(e[1]*e[5]-e[2]*e[4])/t,(e[5]*e[6]-e[3]*e[8])/t,(e[0]*e[8]-e[2]*e[6])/t,(e[3]*e[2]-e[0]*e[5])/t,(e[3]*e[7]-e[6]*e[4])/t,(e[6]*e[1]-e[0]*e[7])/t,(e[0]*e[4]-e[3]*e[1])/t]}function jq(e,t){return t===null?void 0:t}function Vq(e){return JSON.stringify(e,jq)}const $q=/[\/\?<>\\:\*\|"]/g,zq=/[\x00-\x1f\x80-\x9f]/g,Uq=/^\.+$/,Hq=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,Gq=/[\. ]+$/;function mP(e){return e.replace($q,"").replace(zq,"").replace(Uq,"").replace(Hq,"").replace(Gq,"")}class tl{constructor(t){this.m=new Map,t?.forEach(([n,r])=>this.set(n,r))}set(t,n){const r=this.m.get(t);return r?r.add(n):this.m.set(t,new Set([n])),this}get(t){return this.m.get(t)??null}delete(t){return this.m.delete(t)}forEach(t){return this.m.forEach(t)}[Symbol.iterator](){return this.m.entries()}values(){return this.m.values()}}const Wq=[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","!","∀","#","∃","%","&","∍","(",")","*","+",",","−",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","≅","Α","Β","Χ","Δ","Ε","Φ","Γ","Η","Ι","ϑ","Κ","Λ","Μ","Ν","Ο","Π","Θ","Ρ","Σ","Τ","Υ","ς","Ω","Ξ","Ψ","Ζ","[","∴","]","⊥","_","‾","α","β","χ","δ","ε","φ","γ","η","ι","ϕ","κ","λ","μ","ν","ο","π","θ","ρ","σ","τ","υ","ϖ","ω","ξ","ψ","ζ","{","|","}","~"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","€","ϒ","′","≤","⁄","∞","ƒ","♣","♦","♥","♠","↔","←","↑","→","↓","°","±","″","≥","×","∝","∂","•","÷","≠","≡","≈","…","⏐","⎯","↵","ℵ","ℑ","ℜ","℘","⊗","⊕","∅","∩","∪","⊃","⊇","⊄","⊂","⊆","∈","∉","∠","∇","®","©","™","∏","√","⋅","¬","∧","∨","⇔","⇐","⇑","⇒","⇓","◊","〈","®","©","™","∑","⎛","⎜","⎝","⎡","⎢","⎣","⎧","⎨","⎩","⎪"," ","〉","∫","⌠","⎮","⌡","⎞","⎟","⎠","⎤","⎥","⎦","⎫","⎬","⎭"," "];function j0(e){let t="";for(let n=0;n<e.length;++n){let r=el.indexOf(e[n]);r===142?r=163:r<0&&(r=0),t+=Wq[r]}return t}class ps extends Map{static freeKey(t,n){let r=n||0;for(;t.has(++r););return r}static freeNegativeKey(t){let n=0;for(;t.has(--n););return n}}function vP(e,t){return e.filter(n=>n!==t)}function Ni(e){return e||void 0}function Gp(e){return e.length?e:void 0}function yP(e){return(e&e-1)===0}function Qv(e,t,n){return Math.min(Math.max(e,t),n)}function bP(e,t){e=Math.abs(e)%100;const n=e%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:n===1?t[0]:t[2]}function Kq(e){const t=e.split("."),n=t.length>1?t.pop():"";return{base:t.join("."),ext:n}}function wP(e){return new Array().concat(...e)}function Wp(e,t){const n=[];for(const r of e)t(r)&&n.push(r);return n}function*SP(e,t){for(const n of e)yield t(n)}function is(e,t){const n=[];for(const r of e){const i=t(r);i&&n.push(i)}return n}function qq(e,t){const n=e.length-1,r=[];for(let i=n;i>=0;--i)r.push(t(e[i]));return r}function V0(e){return e*180/Math.PI}function Kp(e){return e*Math.PI/180}function $0(e,t,n){const r=[];let i=!1;for(const o of e)o!==n&&(!i&&r.length===t&&(r.push(n),i=!0),r.push(o));return i||r.push(n),r}function Yq(e){return Math.round(e*1e5)/1e5}function qp(e,t="no additional info provided"){if(!e)throw new Error("Assertion Error: "+t)}function Pd(e,t){Object.assign(e.style,t)}const z0=document.createElement("a");function U0(e,t){const n=URL.createObjectURL(e);z0.href=n,z0.download=t,z0.click(),setTimeout(()=>URL.revokeObjectURL(n),1e3)}function CP(e){e.target===e.currentTarget&&e.preventDefault()}function H0(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error(`Ошибка загрузки ${e}`)),r.crossOrigin="",r.src=e})}function Qh(e,t){if(window.OffscreenCanvas)return new OffscreenCanvas(e,t);{const n=document.createElement("canvas");return n.width=e,n.height=t,n}}class Yp{constructor(t){this.root=t,this.frameId=0,this.isStopped=!0}get isRunning(){return this.frameId!==0}run(t){if(this.isRunning)return;const{root:n}=this,r=i=>{this.isStopped||(this.frameId=t(i)?n.requestAnimationFrame(r):0)};this.isStopped=!1,this.frameId=n.requestAnimationFrame(r)}stop(){this.isRunning&&(this.isStopped=!0,this.root.cancelAnimationFrame(this.frameId),this.frameId=0)}}function Xq(){const e=Date.now(),t=new Uint8Array(2);crypto.getRandomValues(t);const n=t[0]*256+t[1];return e*65536+n}let xP=0;function _P(){return(++xP).toString()}function Jv(){return(++xP).toString()}function Zq(e){try{return JSON.parse(localStorage.getItem(e))}catch{return null}}function Qq(e,t){localStorage.setItem(e,JSON.stringify(t))}function Jq(e){localStorage.removeItem(e)}class vi{constructor(t=!1){this.once=t,this.listeners=new Set}add(t){this.listeners.add(t)}remove(t){this.listeners.delete(t)}dispatch(...t){this.listeners.forEach(n=>n(...t)),this.once&&this.listeners.clear()}}class e9{constructor(){this.value=null}set(t){this.value=t}}function EP(e,t){if(!t)return"C:\\"+G0(e);const n=t.toUpperCase().split("/"),r=e.split("/"),i=r.map(u=>u.toUpperCase());let o=0;for(;o<n.length&&o<i.length&&i[o]===n[o];++o);const s=Array.from({length:n.length-o},()=>".."),l=Array.from({length:r.length-o},(u,h)=>r[o+h]);return s.concat(l).join("\\")}function G0(e){return e.split("/").join("\\")}function t9(e,t){navigator.clipboard?navigator.clipboard.writeText(e):prompt(t,e)}function n9(e){const t=EP(e.path,e.lib.vfs.projectRootDir?.path);t9(t,"Относительный путь")}function r9(e,t=250){return setTimeout.bind(null,e,t)}function Jh(e,t,n=""){n&&(n="."+n);let r=2,i=t+n;for(;e.getEntry(i);)i=t+" "+r+n,++r;return i}class os extends Error{}class i9 extends os{constructor(){super("Имя имиджа должно состоять из букв, цифр и подчеркивания")}}function TP(e){if(!/^[_A-ZА-Я][_A-ZА-Я0-9]*$/i.test(e))throw new i9}function MP(e){const t=new Date;return{name:e,id:Xq(),image:{icon:{atlas:"system.dbm",index:0}},date:t.toJSON()}}const o9={cols:0,rows:0,minV:0,minH:0,data:[]},s9={};async function a9(e){const t=URL.createObjectURL(e),n=await H0(t),{naturalWidth:r,naturalHeight:i}=n;return URL.revokeObjectURL(t),{width:r,height:i}}function l9(){return parseInt(new URLSearchParams(location.search).get("p"))}function c9(e){history.pushState({},"",`./?p=${e}`)}function Dd(e,t){return Hp(e.name,t.name)}function OP(e){return`${location.origin+location.pathname}embed/?p=${e.id}&key=${e.accessKey}`}function Ad(e){return(Math.round(e*1e5)/1e5).toString()}const ey=[];async function u9(e,{width:t,height:n}){const r=ey.find(({type:s,size:l,name:c,data:{image:u}})=>e.type===s&&e.size===l&&e.name===c&&u.width===t&&u.height===n);if(!r)return null;const i=`${e.name} (${e.type}, ${e.size}б, ${t}x${n}): `;return(await fetch(Ls(r.data.image.src),{method:"HEAD",cache:"no-cache"})).ok?(console.log(i+"взято из кеша"),r.data):(ey.splice(ey.indexOf(r)),console.log(i+"нет на сервере, удалено из кеша"),null)}class d9{constructor(t,n){this.client=t,this.lib=n}async upload(t){const n=[],{client:r,lib:i}=this,o=[],s=t.map(async c=>{const u=c.name.split("."),h=u.length>1?u.at(-1).toLowerCase():"";if(h==="cur"||h==="ico"||c.type==="image/x-win-bitmap"||c.type==="image/x-icon"||c.type==="image/vnd.microsoft.icon"){o.push({file:c,mapFn:m=>({cursor:{src:m}})});return}if(c.type.startsWith("image/")){const m=await a9(c),y=await u9(c,m);if(y){n.push({data:y,file:c});return}const{width:b,height:v}=m;o.push({file:c,mapFn:S=>({image:{src:S,width:b,height:v}})});return}if(c.type.startsWith("video/")){o.push({file:c,mapFn:m=>({video:{src:m}})});return}if(c.type.startsWith("audio/")){o.push({file:c,mapFn:m=>({audio:{src:m}})});return}if(c.type.startsWith("font/")){o.push({file:c,mapFn:m=>({ttf:{src:m}})});return}const p=await c.arrayBuffer(),g=Yv(new Uint8Array(p));n.push({file:c,data:{base64:g,size:p.byteLength}})});try{await Promise.all(s)}catch(c){if(!(c instanceof Error))throw c;return alert(c.message),[]}if(!o.length)return n;let l;try{l=await r.createLibraryRes(i.id,o.map(c=>c.file))}catch(c){return alert(`Не удалось загрузить файлы: ${c.message}`),[]}return o.forEach(({file:c,mapFn:u},h)=>{const p=l.files[h];if(!p.res)return;const{name:g,size:m}=p.res,y=Bq(i.contentDirname,g),b={...u(y),size:m};b.image&&ey.push({name:c.name,size:c.size,type:c.type,data:b}),n.push({file:c,data:b})}),n}}const Ld=kd;Ld.localStoragePrefix="editor",Ld.apiUrl="./api",Ld.zoomWithCtrl=!!localStorage.getItem("zoomWithCtrl");var lt=(e=>(e[e.PI=3.1415926536]="PI",e[e.WORD8=0]="WORD8",e[e.INT8=1]="INT8",e[e.WORD16=2]="WORD16",e[e.INT16=3]="INT16",e[e.WORD32=4]="WORD32",e[e.INT32=5]="INT32",e[e.FLOAT32=6]="FLOAT32",e[e.FLOAT40=7]="FLOAT40",e[e.FLOAT64=8]="FLOAT64",e[e.FLOAT80=9]="FLOAT80",e[e.PEN2D=1]="PEN2D",e[e.BRUSH2D=2]="BRUSH2D",e[e.DIB2D=3]="DIB2D",e[e.DOUBLEDIB2D=4]="DOUBLEDIB2D",e[e.FONT2D=5]="FONT2D",e[e.STRING2D=6]="STRING2D",e[e.TEXT2D=7]="TEXT2D",e[e.SPACE3D=8]="SPACE3D",e[e.TEXTURE3D=9]="TEXTURE3D",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_CLOSE=16]="WM_CLOSE",e[e.WM_GETMINMAXINFO=36]="WM_GETMINMAXINFO",e[e.WM_COMMAND=273]="WM_COMMAND",e[e.WM_MOUSEMOVE=512]="WM_MOUSEMOVE",e[e.WM_LBUTTONDOWN=513]="WM_LBUTTONDOWN",e[e.WM_LBUTTONUP=514]="WM_LBUTTONUP",e[e.WM_LBUTTONDBLCLK=515]="WM_LBUTTONDBLCLK",e[e.WM_RBUTTONDOWN=516]="WM_RBUTTONDOWN",e[e.WM_RBUTTONUP=517]="WM_RBUTTONUP",e[e.WM_RBUTTONDBLCLK=518]="WM_RBUTTONDBLCLK",e[e.WM_MBUTTONDOWN=519]="WM_MBUTTONDOWN",e[e.WM_MBUTTONUP=520]="WM_MBUTTONUP",e[e.WM_MBUTTONDBLCLK=521]="WM_MBUTTONDBLCLK",e[e.WM_ALLMOUSEMESSAGE=1536]="WM_ALLMOUSEMESSAGE",e[e.WM_ALLKEYMESSAGE=1537]="WM_ALLKEYMESSAGE",e[e.WM_KEYDOWN=256]="WM_KEYDOWN",e[e.WM_KEYUP=257]="WM_KEYUP",e[e.WM_CANCLOSE=1538]="WM_CANCLOSE",e[e.WM_SPACEDONE=1539]="WM_SPACEDONE",e[e.WM_SPACEINIT=1540]="WM_SPACEINIT",e[e.WM_CONTROLNOTIFY=1544]="WM_CONTROLNOTIFY",e[e.WM_HYPERJUMP=1546]="WM_HYPERJUMP",e[e.SIZE_RESTORED=0]="SIZE_RESTORED",e[e.SIZE_MINIMIZED=1]="SIZE_MINIMIZED",e[e.SIZE_MAXIMIZED=2]="SIZE_MAXIMIZED",e[e.SIZE_MAXSHOW=3]="SIZE_MAXSHOW",e[e.SIZE_MAXHIDE=4]="SIZE_MAXHIDE",e[e.OTGROUP2D=3]="OTGROUP2D",e[e.OTRGROUP2D=4]="OTRGROUP2D",e[e.OTGROUP3D=5]="OTGROUP3D",e[e.OTOBJECT3D=10]="OTOBJECT3D",e[e.OTLINE_2D=20]="OTLINE_2D",e[e.OTBITMAP_2D=21]="OTBITMAP_2D",e[e.OTDOUBLEBITMAP_2D=22]="OTDOUBLEBITMAP_2D",e[e.OTTEXT_2D=23]="OTTEXT_2D",e[e.OTVIEW3D_2D=24]="OTVIEW3D_2D",e[e.OTEDITFRAME=50]="OTEDITFRAME",e[e.OTROTATECENTER=51]="OTROTATECENTER",e[e.OTFRAME3D=52]="OTFRAME3D",e[e.OTAXIS3D=53]="OTAXIS3D",e[e.OTPEN2D=101]="OTPEN2D",e[e.OTBRUSH2D=102]="OTBRUSH2D",e[e.OTDIB2D=103]="OTDIB2D",e[e.OTDOUBLEDIB2D=104]="OTDOUBLEDIB2D",e[e.OTFONT2D=105]="OTFONT2D",e[e.OTSTRING2D=106]="OTSTRING2D",e[e.OTTEXT2D=107]="OTTEXT2D",e[e.OTREFTODIB2D=110]="OTREFTODIB2D",e[e.OTREFTODOUBLEDIB2D=111]="OTREFTODOUBLEDIB2D",e[e.ATTRSET=1]="ATTRSET",e[e.ATTRRESET=2]="ATTRRESET",e[e.ATTRPUT=3]="ATTRPUT",e[e.PFC_MOVEOBJECT=32768]="PFC_MOVEOBJECT",e[e.PFC_SETCURRENT=16384]="PFC_SETCURRENT",e[e.PFC_SETFRAME=8192]="PFC_SETFRAME",e[e.PFC_PENS=1]="PFC_PENS",e[e.PFC_BRUHS=2]="PFC_BRUHS",e[e.PFC_DIBS=4]="PFC_DIBS",e[e.PFC_DDIBS=8]="PFC_DDIBS",e[e.PFC_STRINGS=16]="PFC_STRINGS",e[e.PFC_FONTS=32]="PFC_FONTS",e[e.PFC_TEXTS=64]="PFC_TEXTS",e[e.PFC_3D=128]="PFC_3D",e[e.PFC_ALL=255]="PFC_ALL",e[e.OID_RESERVED=32e3]="OID_RESERVED",e[e.OID_RCENTER=32001]="OID_RCENTER",e[e.OID_FRAME2D1=32002]="OID_FRAME2D1",e[e.OID_FRAME2D2=32003]="OID_FRAME2D2",e[e.OID_FRAME2D3=32004]="OID_FRAME2D3",e[e.OID_FRAME2D4=32005]="OID_FRAME2D4",e[e.OID_FRAME2D5=32006]="OID_FRAME2D5",e[e.OID_FRAME2D6=32007]="OID_FRAME2D6",e[e.OID_FRAME2D7=32008]="OID_FRAME2D7",e[e.OID_FRAME2D8=32009]="OID_FRAME2D8",e[e.OID_FRAME2D=32010]="OID_FRAME2D",e[e.OID_AXIS3D=32100]="OID_AXIS3D",e[e.OID_FRAME3D1=32102]="OID_FRAME3D1",e[e.OID_FRAME3D2=32103]="OID_FRAME3D2",e[e.OID_FRAME3D3=32104]="OID_FRAME3D3",e[e.OID_FRAME3D4=32105]="OID_FRAME3D4",e[e.OID_FRAME3D5=32106]="OID_FRAME3D5",e[e.OID_FRAME3D6=32107]="OID_FRAME3D6",e[e.OID_FRAME3D7=32108]="OID_FRAME3D7",e[e.OID_FRAME3D8=32109]="OID_FRAME3D8",e[e.OID_FRAME3D=32110]="OID_FRAME3D",e[e.MB_OK=0]="MB_OK",e[e.MB_OKCANCEL=1]="MB_OKCANCEL",e[e.MB_ABORTRETRYIGNORE=2]="MB_ABORTRETRYIGNORE",e[e.MB_YESNOCANCEL=3]="MB_YESNOCANCEL",e[e.MB_YESNO=4]="MB_YESNO",e[e.MB_RETRYCANCEL=5]="MB_RETRYCANCEL",e[e.MB_TYPEMASK=15]="MB_TYPEMASK",e[e.MB_ICONHAND=16]="MB_ICONHAND",e[e.MB_ICONQUESTION=32]="MB_ICONQUESTION",e[e.MB_ICONEXCLAMATION=48]="MB_ICONEXCLAMATION",e[e.MB_ICONASTERISK=64]="MB_ICONASTERISK",e[e.MB_ICONMASK=240]="MB_ICONMASK",e[e.MB_ICONINFORMATION=64]="MB_ICONINFORMATION",e[e.MB_ICONSTOP=16]="MB_ICONSTOP",e[e.MB_DEFBUTTON1=0]="MB_DEFBUTTON1",e[e.MB_DEFBUTTON2=256]="MB_DEFBUTTON2",e[e.MB_DEFBUTTON3=512]="MB_DEFBUTTON3",e[e.MB_DEFMASK=3840]="MB_DEFMASK",e[e.MB_APPLMODAL=0]="MB_APPLMODAL",e[e.MB_SYSTEMMODAL=4096]="MB_SYSTEMMODAL",e[e.MB_TASKMODAL=8192]="MB_TASKMODAL",e[e.MB_NOFOCUS=32768]="MB_NOFOCUS",e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWNORMAL=1]="SW_SHOWNORMAL",e[e.SW_NORMAL=1]="SW_NORMAL",e[e.SW_SHOWMINIMIZED=2]="SW_SHOWMINIMIZED",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_MAXIMIZE=3]="SW_MAXIMIZE",e[e.SW_SHOWNOACTIVATE=4]="SW_SHOWNOACTIVATE",e[e.SW_SHOW=5]="SW_SHOW",e[e.SW_MINIMIZE=6]="SW_MINIMIZE",e[e.SW_SHOWMINNOACTIVE=7]="SW_SHOWMINNOACTIVE",e[e.SW_SHOWNA=8]="SW_SHOWNA",e[e.SW_RESTORE=9]="SW_RESTORE",e[e.MCIERR_INVALID_DEVICE_ID=257]="MCIERR_INVALID_DEVICE_ID",e[e.MCIERR_UNRECOGNIZED_KEYWORD=259]="MCIERR_UNRECOGNIZED_KEYWORD",e[e.MCIERR_UNRECOGNIZED_COMMAND=261]="MCIERR_UNRECOGNIZED_COMMAND",e[e.MCIERR_HARDWARE=262]="MCIERR_HARDWARE",e[e.MCIERR_INVALID_DEVICE_NAME=263]="MCIERR_INVALID_DEVICE_NAME",e[e.MCIERR_OUT_OF_MEMORY=264]="MCIERR_OUT_OF_MEMORY",e[e.MCIERR_DEVICE_OPEN=265]="MCIERR_DEVICE_OPEN",e[e.MCIERR_CANNOT_LOAD_DRIVER=266]="MCIERR_CANNOT_LOAD_DRIVER",e[e.MCIERR_MISSING_COMMAND_STRING=267]="MCIERR_MISSING_COMMAND_STRING",e[e.MCIERR_PARAM_OVERFLOW=268]="MCIERR_PARAM_OVERFLOW",e[e.MCIERR_MISSING_STRING_ARGUMENT=269]="MCIERR_MISSING_STRING_ARGUMENT",e[e.MCIERR_BAD_INTEGER=270]="MCIERR_BAD_INTEGER",e[e.MCIERR_PARSER_INTERNAL=271]="MCIERR_PARSER_INTERNAL",e[e.MCIERR_DRIVER_INTERNAL=272]="MCIERR_DRIVER_INTERNAL",e[e.MCIERR_MISSING_PARAMETER=273]="MCIERR_MISSING_PARAMETER",e[e.MCIERR_UNSUPPORTED_FUNCTION=274]="MCIERR_UNSUPPORTED_FUNCTION",e[e.MCIERR_FILE_NOT_FOUND=275]="MCIERR_FILE_NOT_FOUND",e[e.MCIERR_DEVICE_NOT_READY=276]="MCIERR_DEVICE_NOT_READY",e[e.MCIERR_INTERNAL=277]="MCIERR_INTERNAL",e[e.MCIERR_DRIVER=278]="MCIERR_DRIVER",e[e.MCIERR_CANNOT_USE_ALL=279]="MCIERR_CANNOT_USE_ALL",e[e.MCIERR_MULTIPLE=280]="MCIERR_MULTIPLE",e[e.MCIERR_EXTENSION_NOT_FOUND=281]="MCIERR_EXTENSION_NOT_FOUND",e[e.MCIERR_OUTOFRANGE=282]="MCIERR_OUTOFRANGE",e[e.MCIERR_FLAGS_NOT_COMPATIBLE=284]="MCIERR_FLAGS_NOT_COMPATIBLE",e[e.MCIERR_FILE_NOT_SAVED=286]="MCIERR_FILE_NOT_SAVED",e[e.MCIERR_DEVICE_TYPE_REQUIRED=287]="MCIERR_DEVICE_TYPE_REQUIRED",e[e.MCIERR_DEVICE_LOCKED=288]="MCIERR_DEVICE_LOCKED",e[e.MCIERR_DUPLICATE_ALIAS=289]="MCIERR_DUPLICATE_ALIAS",e[e.MCIERR_BAD_CONSTANT=290]="MCIERR_BAD_CONSTANT",e[e.MCIERR_MUST_USE_SHAREABLE=291]="MCIERR_MUST_USE_SHAREABLE",e[e.MCIERR_MISSING_DEVICE_NAME=292]="MCIERR_MISSING_DEVICE_NAME",e[e.MCIERR_BAD_TIME_FORMAT=293]="MCIERR_BAD_TIME_FORMAT",e[e.MCIERR_NO_CLOSING_QUOTE=294]="MCIERR_NO_CLOSING_QUOTE",e[e.MCIERR_DUPLICATE_FLAGS=295]="MCIERR_DUPLICATE_FLAGS",e[e.MCIERR_INVALID_FILE=296]="MCIERR_INVALID_FILE",e[e.MCIERR_NULL_PARAMETER_BLOCK=297]="MCIERR_NULL_PARAMETER_BLOCK",e[e.MCIERR_UNNAMED_RESOURCE=298]="MCIERR_UNNAMED_RESOURCE",e[e.MCIERR_NEW_REQUIRES_ALIAS=299]="MCIERR_NEW_REQUIRES_ALIAS",e[e.MCIERR_NOTIFY_ON_AUTO_OPEN=300]="MCIERR_NOTIFY_ON_AUTO_OPEN",e[e.MCIERR_NO_ELEMENT_ALLOWED=301]="MCIERR_NO_ELEMENT_ALLOWED",e[e.MCIERR_NONAPPLICABLE_FUNCTION=302]="MCIERR_NONAPPLICABLE_FUNCTION",e[e.MCIERR_ILLEGAL_FOR_AUTO_OPEN=303]="MCIERR_ILLEGAL_FOR_AUTO_OPEN",e[e.MCIERR_FILENAME_REQUIRED=304]="MCIERR_FILENAME_REQUIRED",e[e.MCIERR_EXTRA_CHARACTERS=305]="MCIERR_EXTRA_CHARACTERS",e[e.MCIERR_DEVICE_NOT_INSTALLED=306]="MCIERR_DEVICE_NOT_INSTALLED",e[e.MCIERR_GET_CD=307]="MCIERR_GET_CD",e[e.MCIERR_SET_CD=308]="MCIERR_SET_CD",e[e.MCIERR_SET_DRIVE=309]="MCIERR_SET_DRIVE",e[e.MCIERR_DEVICE_LENGTH=310]="MCIERR_DEVICE_LENGTH",e[e.MCIERR_DEVICE_ORD_LENGTH=311]="MCIERR_DEVICE_ORD_LENGTH",e[e.MCIERR_NO_INTEGER=312]="MCIERR_NO_INTEGER",e[e.MCIERR_WAVE_OUTPUTSINUSE=320]="MCIERR_WAVE_OUTPUTSINUSE",e[e.MCIERR_WAVE_SETOUTPUTINUSE=321]="MCIERR_WAVE_SETOUTPUTINUSE",e[e.MCIERR_WAVE_INPUTSINUSE=322]="MCIERR_WAVE_INPUTSINUSE",e[e.MCIERR_WAVE_SETINPUTINUSE=323]="MCIERR_WAVE_SETINPUTINUSE",e[e.MCIERR_WAVE_OUTPUTUNSPECIFIED=324]="MCIERR_WAVE_OUTPUTUNSPECIFIED",e[e.MCIERR_WAVE_INPUTUNSPECIFIED=325]="MCIERR_WAVE_INPUTUNSPECIFIED",e[e.MCIERR_WAVE_OUTPUTSUNSUITABLE=326]="MCIERR_WAVE_OUTPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETOUTPUTUNSUITABLE=327]="MCIERR_WAVE_SETOUTPUTUNSUITABLE",e[e.MCIERR_WAVE_INPUTSUNSUITABLE=328]="MCIERR_WAVE_INPUTSUNSUITABLE",e[e.MCIERR_WAVE_SETINPUTUNSUITABLE=329]="MCIERR_WAVE_SETINPUTUNSUITABLE",e[e.MCIERR_SEQ_DIV_INCOMPATIBLE=336]="MCIERR_SEQ_DIV_INCOMPATIBLE",e[e.MCIERR_SEQ_PORT_INUSE=337]="MCIERR_SEQ_PORT_INUSE",e[e.MCIERR_SEQ_PORT_NONEXISTENT=338]="MCIERR_SEQ_PORT_NONEXISTENT",e[e.MCIERR_SEQ_PORT_MAPNODEVICE=339]="MCIERR_SEQ_PORT_MAPNODEVICE",e[e.MCIERR_SEQ_PORT_MISCERROR=340]="MCIERR_SEQ_PORT_MISCERROR",e[e.MCIERR_SEQ_TIMER=341]="MCIERR_SEQ_TIMER",e[e.MCIERR_SEQ_PORTUNSPECIFIED=342]="MCIERR_SEQ_PORTUNSPECIFIED",e[e.MCIERR_SEQ_NOMIDIPRESENT=343]="MCIERR_SEQ_NOMIDIPRESENT",e[e.MCIERR_NO_WINDOW=346]="MCIERR_NO_WINDOW",e[e.MCIERR_CREATEWINDOW=347]="MCIERR_CREATEWINDOW",e[e.MCIERR_FILE_READ=348]="MCIERR_FILE_READ",e[e.MCIERR_FILE_WRITE=349]="MCIERR_FILE_WRITE",e[e.WS_VISIBLE=268435456]="WS_VISIBLE",e[e.WS_DISABLED=134217728]="WS_DISABLED",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_DLGFRAME=4194304]="WS_DLGFRAME",e[e.WS_VSCROLL=2097152]="WS_VSCROLL",e[e.WS_HSCROLL=1048576]="WS_HSCROLL",e[e.WS_SYSMENU=524288]="WS_SYSMENU",e[e.WS_THICKFRAME=262144]="WS_THICKFRAME",e[e.WS_MINIMIZEBOX=131072]="WS_MINIMIZEBOX",e[e.WS_MAXIMIZEBOX=65536]="WS_MAXIMIZEBOX",e[e.WS_GROUP=131072]="WS_GROUP",e[e.WS_TABSTOP=65536]="WS_TABSTOP",e[e.WS_OVERLAPPED=0]="WS_OVERLAPPED",e[e.WS_POPUP=2147483648]="WS_POPUP",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.IDX_PRIMARY=1]="IDX_PRIMARY",e[e.IDX_UNIQUE=2]="IDX_UNIQUE",e[e.IDX_DESCENDING=4]="IDX_DESCENDING",e[e.IDX_MAINTAINED=8]="IDX_MAINTAINED",e[e.IDX_SUBSET=16]="IDX_SUBSET",e[e.IDX_EXPR=32]="IDX_EXPR",e[e.IDX_IDXOOD=64]="IDX_IDXOOD",e[e.IDX_CASEINSENS=128]="IDX_CASEINSENS",e[e.FLDDBCHAR=513]="FLDDBCHAR",e[e.FLDDBNUM=514]="FLDDBNUM",e[e.FLDDBMEMO=515]="FLDDBMEMO",e[e.FLDDBBOOL=516]="FLDDBBOOL",e[e.FLDDBDATE=517]="FLDDBDATE",e[e.FLDDBFLOAT=518]="FLDDBFLOAT",e[e.FLDDBLOCK=519]="FLDDBLOCK",e[e.FLDDBOLEBLOB=520]="FLDDBOLEBLOB",e[e.FLDDBBINARY=521]="FLDDBBINARY",e[e.FLDDBBYTES=522]="FLDDBBYTES",e[e.BS_PUSHBUTTON=0]="BS_PUSHBUTTON",e[e.BS_DEFPUSHBUTTON=1]="BS_DEFPUSHBUTTON",e[e.BS_CHECKBOX=2]="BS_CHECKBOX",e[e.BS_AUTOCHECKBOX=3]="BS_AUTOCHECKBOX",e[e.BS_RADIOBUTTON=4]="BS_RADIOBUTTON",e[e.BS_3STATE=5]="BS_3STATE",e[e.BS_AUTO3STATE=6]="BS_AUTO3STATE",e[e.BS_GROUPBOX=7]="BS_GROUPBOX",e[e.BS_USERBUTTON=8]="BS_USERBUTTON",e[e.BS_AUTORADIOBUTTON=9]="BS_AUTORADIOBUTTON",e[e.BS_OWNERDRAW=11]="BS_OWNERDRAW",e[e.BS_LEFTTEXT=32]="BS_LEFTTEXT",e[e.ES_LEFT=0]="ES_LEFT",e[e.ES_CENTER=1]="ES_CENTER",e[e.ES_RIGHT=2]="ES_RIGHT",e[e.ES_MULTILINE=4]="ES_MULTILINE",e[e.ES_UPPERCASE=8]="ES_UPPERCASE",e[e.ES_LOWERCASE=16]="ES_LOWERCASE",e[e.ES_PASSWORD=32]="ES_PASSWORD",e[e.ES_AUTOVSCROLL=64]="ES_AUTOVSCROLL",e[e.ES_AUTOHSCROLL=128]="ES_AUTOHSCROLL",e[e.ES_NOHIDESEL=256]="ES_NOHIDESEL",e[e.SBS_HORZ=0]="SBS_HORZ",e[e.SBS_VERT=1]="SBS_VERT",e[e.SBS_TOPALIGN=2]="SBS_TOPALIGN",e[e.SBS_LEFTALIGN=2]="SBS_LEFTALIGN",e[e.SBS_BOTTOMALIGN=4]="SBS_BOTTOMALIGN",e[e.SBS_RIGHTALIGN=4]="SBS_RIGHTALIGN",e[e.SBS_SIZEBOXTOPLEFTALIGN=2]="SBS_SIZEBOXTOPLEFTALIGN",e[e.SBS_SIZEBOXBOTTOMRIGHTALIGN=4]="SBS_SIZEBOXBOTTOMRIGHTALIGN",e[e.SBS_SIZEBOX=8]="SBS_SIZEBOX",e[e.LBS_NOTIFY=1]="LBS_NOTIFY",e[e.LBS_SORT=2]="LBS_SORT",e[e.LBS_NOREDRAW=4]="LBS_NOREDRAW",e[e.LBS_MULTIPLESEL=8]="LBS_MULTIPLESEL",e[e.LBS_OWNERDRAWFIXED=16]="LBS_OWNERDRAWFIXED",e[e.LBS_OWNERDRAWVARIABLE=32]="LBS_OWNERDRAWVARIABLE",e[e.LBS_HASSTRINGS=64]="LBS_HASSTRINGS",e[e.LBS_USETABSTOPS=128]="LBS_USETABSTOPS",e[e.LBS_NOINTEGRALHEIGHT=256]="LBS_NOINTEGRALHEIGHT",e[e.LBS_MULTICOLUMN=512]="LBS_MULTICOLUMN",e[e.LBS_WANTKEYBOARDINPUT=1024]="LBS_WANTKEYBOARDINPUT",e[e.LBS_EXTENDEDSEL=2048]="LBS_EXTENDEDSEL",e[e.CBS_SIMPLE=1]="CBS_SIMPLE",e[e.CBS_DROPDOWN=2]="CBS_DROPDOWN",e[e.CBS_DROPDOWNLIST=3]="CBS_DROPDOWNLIST",e[e.CBS_OWNERDRAWFIXED=16]="CBS_OWNERDRAWFIXED",e[e.CBS_OWNERDRAWVARIABLE=32]="CBS_OWNERDRAWVARIABLE",e[e.CBS_AUTOHSCROLL=64]="CBS_AUTOHSCROLL",e[e.CBS_OEMCONVERT=128]="CBS_OEMCONVERT",e[e.CBS_SORT=256]="CBS_SORT",e[e.CBS_HASSTRINGS=512]="CBS_HASSTRINGS",e[e.CBS_NOINTEGRALHEIGHT=1024]="CBS_NOINTEGRALHEIGHT",e[e.BS_SOLID=0]="BS_SOLID",e[e.BS_NULL=1]="BS_NULL",e[e.BS_HATCHED=2]="BS_HATCHED",e[e.BS_PATTERN=3]="BS_PATTERN",e[e.BS_GRADIENT_LINEAR=10]="BS_GRADIENT_LINEAR",e[e.HS_HORIZONTAL=0]="HS_HORIZONTAL",e[e.HS_VERTICAL=1]="HS_VERTICAL",e[e.HS_FDIAGONAL=2]="HS_FDIAGONAL",e[e.HS_BDIAGONAL=3]="HS_BDIAGONAL",e[e.HS_CROSS=4]="HS_CROSS",e[e.HS_DIAGCROSS=5]="HS_DIAGCROSS",e[e.PS_SOLID=0]="PS_SOLID",e[e.PS_DASH=1]="PS_DASH",e[e.PS_DOT=2]="PS_DOT",e[e.PS_DASHDOT=3]="PS_DASHDOT",e[e.PS_DASHDOTDOT=4]="PS_DASHDOTDOT",e[e.PS_NULL=5]="PS_NULL",e[e.PS_INSIDEFRAME=6]="PS_INSIDEFRAME",e[e.R2_BLACK=1]="R2_BLACK",e[e.R2_NOTMERGEPEN=2]="R2_NOTMERGEPEN",e[e.R2_MASKNOTPEN=3]="R2_MASKNOTPEN",e[e.R2_NOTCOPYPEN=4]="R2_NOTCOPYPEN",e[e.R2_MASKPENNOT=5]="R2_MASKPENNOT",e[e.R2_NOT=6]="R2_NOT",e[e.R2_XORPEN=7]="R2_XORPEN",e[e.R2_NOTMASKPEN=8]="R2_NOTMASKPEN",e[e.R2_MASKPEN=9]="R2_MASKPEN",e[e.R2_NOTXORPEN=10]="R2_NOTXORPEN",e[e.R2_NOP=11]="R2_NOP",e[e.R2_MERGENOTPEN=12]="R2_MERGENOTPEN",e[e.R2_COPYPEN=13]="R2_COPYPEN",e[e.R2_MERGEPENNOT=14]="R2_MERGEPENNOT",e[e.R2_MERGEPEN=15]="R2_MERGEPEN",e[e.R2_WHITE=16]="R2_WHITE",e[e.FILE_ATTRIBUTE_ARCHIVE=32]="FILE_ATTRIBUTE_ARCHIVE",e[e.FILE_ATTRIBUTE_COMPRESSED=2048]="FILE_ATTRIBUTE_COMPRESSED",e[e.FILE_ATTRIBUTE_DIRECTORY=16]="FILE_ATTRIBUTE_DIRECTORY",e[e.FILE_ATTRIBUTE_HIDDEN=2]="FILE_ATTRIBUTE_HIDDEN",e[e.FILE_ATTRIBUTE_NORMAL=128]="FILE_ATTRIBUTE_NORMAL",e[e.FILE_ATTRIBUTE_OFFLINE=4096]="FILE_ATTRIBUTE_OFFLINE",e[e.FILE_ATTRIBUTE_READONLY=1]="FILE_ATTRIBUTE_READONLY",e[e.FILE_ATTRIBUTE_SYSTEM=4]="FILE_ATTRIBUTE_SYSTEM",e[e.FILE_ATTRIBUTE_TEMPORARY=256]="FILE_ATTRIBUTE_TEMPORARY",e[e.VF_LOCAL=2]="VF_LOCAL",e[e.VF_EQVAR=256]="VF_EQVAR",e[e.VF_ARGUMENT=512]="VF_ARGUMENT",e[e.VF_RETURN=1024]="VF_RETURN",e[e.CUR_ARROW=0]="CUR_ARROW",e[e.CUR_CROSS=1]="CUR_CROSS",e[e.CUR_TEXT=2]="CUR_TEXT",e[e.CUR_NO=3]="CUR_NO",e[e.CUR_SIZE=4]="CUR_SIZE",e[e.CUR_SIZENESW=5]="CUR_SIZENESW",e[e.CUR_SIZENS=6]="CUR_SIZENS",e[e.CUR_SIZENWSE=7]="CUR_SIZENWSE",e[e.CUR_SIZEWE=8]="CUR_SIZEWE",e[e.CUR_UPARROW=9]="CUR_UPARROW",e[e.CUR_WAIT=10]="CUR_WAIT",e[e.CUR_LINK=11]="CUR_LINK",e[e.CUR_HELP=12]="CUR_HELP",e[e.SHADOWTYPE_STENCIL_MODULATIVE=18]="SHADOWTYPE_STENCIL_MODULATIVE",e[e.SHADOWTYPE_STENCIL_ADDITIVE=17]="SHADOWTYPE_STENCIL_ADDITIVE",e[e.SHADOWTYPE_TEXTURE_MODULATIVE=34]="SHADOWTYPE_TEXTURE_MODULATIVE",e[e.SHADOWTYPE_TEXTURE_ADDITIVE=33]="SHADOWTYPE_TEXTURE_ADDITIVE",e[e.FOG_NONE=0]="FOG_NONE",e[e.FOG_EXP=1]="FOG_EXP",e[e.FOG_EXP2=2]="FOG_EXP2",e[e.FOG_LINEAR=3]="FOG_LINEAR",e[e.TEX_TYPE_1D=1]="TEX_TYPE_1D",e[e.TEX_TYPE_2D=2]="TEX_TYPE_2D",e[e.TEX_TYPE_3D=3]="TEX_TYPE_3D",e[e.TEX_TYPE_CUBE_MAP=4]="TEX_TYPE_CUBE_MAP",e[e.SBF_ONE=0]="SBF_ONE",e[e.SBF_ZERO=1]="SBF_ZERO",e[e.SBF_DEST_COLOUR=2]="SBF_DEST_COLOUR",e[e.SBF_SOURCE_COLOUR=3]="SBF_SOURCE_COLOUR",e[e.SBF_ONE_MINUS_DEST_COLOUR=4]="SBF_ONE_MINUS_DEST_COLOUR",e[e.SBF_ONE_MINUS_SOURCE_COLOUR=5]="SBF_ONE_MINUS_SOURCE_COLOUR",e[e.SBF_DEST_ALPHA=6]="SBF_DEST_ALPHA",e[e.SBF_SOURCE_ALPHA=7]="SBF_SOURCE_ALPHA",e[e.SBF_ONE_MINUS_DEST_ALPHA=8]="SBF_ONE_MINUS_DEST_ALPHA",e[e.SBF_ONE_MINUS_SOURCE_ALPHA=9]="SBF_ONE_MINUS_SOURCE_ALPHA",e[e.CMPF_ALWAYS_FAIL=0]="CMPF_ALWAYS_FAIL",e[e.CMPF_ALWAYS_PASS=1]="CMPF_ALWAYS_PASS",e[e.CMPF_LESS=2]="CMPF_LESS",e[e.CMPF_LESS_EQUAL=3]="CMPF_LESS_EQUAL",e[e.CMPF_EQUAL=4]="CMPF_EQUAL",e[e.CMPF_NOT_EQUAL=5]="CMPF_NOT_EQUAL",e[e.CMPF_GREATER_EQUAL=6]="CMPF_GREATER_EQUAL",e[e.CMPF_GREATER=7]="CMPF_GREATER",e[e.CULL_NONE=1]="CULL_NONE",e[e.CULL_CLOCKWISE=2]="CULL_CLOCKWISE",e[e.CULL_ANTICLOCKWISE=3]="CULL_ANTICLOCKWISE",e[e.SO_FLAT=0]="SO_FLAT",e[e.SO_GOURAUD=1]="SO_GOURAUD",e[e.SO_PHONG=2]="SO_PHONG",e[e.PM_POINTS=1]="PM_POINTS",e[e.PM_WIREFRAME=2]="PM_WIREFRAME",e[e.PM_SOLID=3]="PM_SOLID",e[e.LT_POINT=0]="LT_POINT",e[e.LT_DIRECTIONAL=1]="LT_DIRECTIONAL",e[e.LT_SPOTLIGHT=2]="LT_SPOTLIGHT",e[e.PT_ORTHOGRAPHIC=0]="PT_ORTHOGRAPHIC",e[e.PT_PERSPECTIVE=1]="PT_PERSPECTIVE",e[e.OT_POINT_LIST=1]="OT_POINT_LIST",e[e.OT_LINE_LIST=2]="OT_LINE_LIST",e[e.OT_LINE_STRIP=3]="OT_LINE_STRIP",e[e.OT_TRIANGLE_LIST=4]="OT_TRIANGLE_LIST",e[e.OT_TRIANGLE_STRIP=5]="OT_TRIANGLE_STRIP",e[e.OT_TRIANGLE_FAN=6]="OT_TRIANGLE_FAN",e[e.BBT_POINT=0]="BBT_POINT",e[e.BBT_ORIENTED_COMMON=1]="BBT_ORIENTED_COMMON",e[e.BBT_ORIENTED_SELF=2]="BBT_ORIENTED_SELF",e[e.BBT_PERPENDICULAR_COMMON=3]="BBT_PERPENDICULAR_COMMON",e[e.BBT_PERPENDICULAR_SELF=4]="BBT_PERPENDICULAR_SELF",e[e.GMM_RELATIVE=0]="GMM_RELATIVE",e[e.GMM_PIXELS=1]="GMM_PIXELS",e[e.GMM_RELATIVE_ASPECT_ADJUSTED=2]="GMM_RELATIVE_ASPECT_ADJUSTED",e[e.GHA_LEFT=0]="GHA_LEFT",e[e.GHA_CENTER=1]="GHA_CENTER",e[e.GHA_RIGHT=2]="GHA_RIGHT",e[e.GVA_TOP=0]="GVA_TOP",e[e.GVA_CENTER=1]="GVA_CENTER",e[e.GVA_BOTTOM=2]="GVA_BOTTOM",e[e.MTHA_LEFT=0]="MTHA_LEFT",e[e.MTHA_CENTER=1]="MTHA_CENTER",e[e.MTVA_BELOW=0]="MTVA_BELOW",e[e.MTVA_ABOVE=1]="MTVA_ABOVE",e[e.MTVA_CENTER=2]="MTVA_CENTER",e[e.PT_BOOL=0]="PT_BOOL",e[e.PT_REAL=1]="PT_REAL",e[e.PT_INT=2]="PT_INT",e[e.PT_UNSIGNED_INT=3]="PT_UNSIGNED_INT",e[e.PT_SHORT=4]="PT_SHORT",e[e.PT_UNSIGNED_SHORT=5]="PT_UNSIGNED_SHORT",e[e.PT_LONG=6]="PT_LONG",e[e.PT_UNSIGNED_LONG=7]="PT_UNSIGNED_LONG",e[e.PT_STRING=8]="PT_STRING",e[e.PT_VECTOR3=9]="PT_VECTOR3",e[e.PT_MATRIX3=10]="PT_MATRIX3",e[e.PT_MATRIX4=11]="PT_MATRIX4",e[e.PT_QUATERNION=12]="PT_QUATERNION",e[e.PT_COLOURVALUE=13]="PT_COLOURVALUE",e[e.NUI_SP_HIP_CENTER=0]="NUI_SP_HIP_CENTER",e[e.NUI_SP_SPINE=1]="NUI_SP_SPINE",e[e.NUI_SP_SHOULDER_CENTER=2]="NUI_SP_SHOULDER_CENTER",e[e.NUI_SP_HEAD=3]="NUI_SP_HEAD",e[e.NUI_SP_SHOULDER_LEFT=4]="NUI_SP_SHOULDER_LEFT",e[e.NUI_SP_ELBOW_LEFT=5]="NUI_SP_ELBOW_LEFT",e[e.NUI_SP_WRIST_LEFT=6]="NUI_SP_WRIST_LEFT",e[e.NUI_SP_HAND_LEFT=7]="NUI_SP_HAND_LEFT",e[e.NUI_SP_SHOULDER_RIGHT=8]="NUI_SP_SHOULDER_RIGHT",e[e.NUI_SP_ELBOW_RIGHT=9]="NUI_SP_ELBOW_RIGHT",e[e.NUI_SP_WRIST_RIGHT=10]="NUI_SP_WRIST_RIGHT",e[e.NUI_SP_HAND_RIGHT=11]="NUI_SP_HAND_RIGHT",e[e.NUI_SP_HIP_LEFT=12]="NUI_SP_HIP_LEFT",e[e.NUI_SP_KNEE_LEFT=13]="NUI_SP_KNEE_LEFT",e[e.NUI_SP_ANKLE_LEFT=14]="NUI_SP_ANKLE_LEFT",e[e.NUI_SP_FOOT_LEFT=15]="NUI_SP_FOOT_LEFT",e[e.NUI_SP_HIP_RIGHT=16]="NUI_SP_HIP_RIGHT",e[e.NUI_SP_KNEE_RIGHT=17]="NUI_SP_KNEE_RIGHT",e[e.NUI_SP_ANKLE_RIGHT=18]="NUI_SP_ANKLE_RIGHT",e[e.NUI_SP_FOOT_RIGHT=19]="NUI_SP_FOOT_RIGHT",e[e.NUI_SP_COUNT=20]="NUI_SP_COUNT",e[e.WEB_DIALOG_OPEN=100]="WEB_DIALOG_OPEN",e))(lt||{});const W0=258;var kt=(e=>(e[e.FLOAT=1]="FLOAT",e[e.STRING=2]="STRING",e[e.HANDLE=3]="HANDLE",e[e.COLORREF=4]="COLORREF",e))(kt||{});const ty=1,RP="2.0",ny=0,K0=1,q0=2,IP=3,ry=4,Y0="CM_CLEARALL",X0="CM_PREVPAGE",Ml=8;var mc=(e=>(e[e.FLOAT_REF=kt.FLOAT|Ml]="FLOAT_REF",e[e.STRING_REF=kt.STRING|Ml]="STRING_REF",e[e.HANDLE_REF=kt.HANDLE|Ml]="HANDLE_REF",e[e.COLORREF_REF=kt.COLORREF|Ml]="COLORREF_REF",e))(mc||{});class h9{constructor(){this.blocks=[]}pushBlock(t){return this.blocks.push(t),t}popBlock(t){const n=this.blocks.pop();if(n?.expect!==t)throw Error(`Ожидалось ${t}`);return n}lastBlock(){return this.blocks.length>0?this.blocks[this.blocks.length-1]:null}haveABreakHaveAKitKat(){for(let t=this.blocks.length-1;t>=0;--t)if(this.blocks[t].canBreak)return"break;";return"return;"}}const f9="map",p9="g",Z0="schema",Q0="string",kP="n",PP="o",DP={[kt.FLOAT]:"f",[kt.HANDLE]:"i",[kt.COLORREF]:"i",[kt.STRING]:"s"},g9=`
"use strict"
const { map, values } = memory;
const of = values.oldFloats;
const nf = values.newFloats;
const oi = values.oldInts;
const ni = values.newInts;
const os = values.oldStrings;
const ns = values.newStrings;
function string(value) {
    return (Math.round(value * 1e5) / 1e5).toString()
}
`,m9="userFunction",v9="solveEquationsFor",{FLOAT:Yt,STRING:uo,HANDLE:iy,COLORREF:y9}=kt,b9=[["ABS",{argTypes:[Yt],retType:Yt,template:"Math.abs(#0) || 0"}],["ALLTRIM",{argTypes:[uo],retType:uo,template:"(#0).trim()"}],["AND",{argTypes:[Yt,Yt],retType:Yt,template:"(#0) && (#1) ? 1 : 0"}],["ARCTAN",{argTypes:[Yt],retType:Yt,template:"Math.atan(#0)||0"}],["AVERAGE",{argTypes:[Yt,Yt],retType:Yt,template:"(#0) / 2 + (#1) / 2"}],["COMPARE",{argTypes:[uo,uo],retType:Yt,template:"(#0) == (#1) ? 1 : 0"}],["COS",{argTypes:[Yt],retType:Yt,template:"Math.cos(#0) || 0"}],["DEG",{argTypes:[Yt],retType:Yt,template:"180 * (#0) / Math.PI || 0"}],["DELTA",{argTypes:[Yt],retType:Yt,template:"(#0) ? 0 : 1"}],["ED",{argTypes:[Yt],retType:Yt,template:"(#0) > 0 ? 1 : 0"}],["ED",{argTypes:[iy],retType:Yt,template:"(#0) > 0 ? 1 : 0"}],["EXP",{argTypes:[Yt],retType:Yt,template:"Math.exp(#0) || 0"}],["FLOAT",{argTypes:[y9],retType:Yt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[Yt],retType:Yt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[iy],retType:Yt,template:"parseFloat(#0) || 0"}],["FLOAT",{argTypes:[uo],retType:Yt,template:"parseFloat(#0) || 0"}],["HANDLE",{argTypes:[Yt],retType:iy,template:"parseInt(#0) || 0"}],["LEFT",{argTypes:[uo,Yt],retType:uo,template:"(#0).substring(0, #1)"}],["LENGTH",{argTypes:[uo],retType:Yt,template:"(#0).length"}],["LIMIT",{argTypes:[Yt,Yt,Yt],retType:Yt,template:"Math.max(#1, Math.min(#2, #0))||0"}],["LOWER",{argTypes:[uo],retType:uo,template:"(#0).toLowerCase()"}],["LTRIM",{argTypes:[uo],retType:uo,template:'(#0).replace(/^\\s+/, "")'}],["MAX",{argTypes:[Yt,Yt],retType:Yt,template:"Math.max(#0, #1) || 0"}],["MIN",{argTypes:[Yt,Yt],retType:Yt,template:"Math.min(#0, #1) || 0"}],["NOT",{argTypes:[Yt],retType:Yt,template:"(#0) ? 0 : 1"}],["NOT",{argTypes:[iy],retType:Yt,template:"(#0) ? 0 : 1"}],["NOTBIN",{argTypes:[Yt],retType:Yt,template:"~(#0)"}],["OR",{argTypes:[Yt,Yt],retType:Yt,template:"(#0) || (#1) ? 1 : 0"}],["RAD",{argTypes:[Yt],retType:Yt,template:"Math.PI * (#0) / 180 || 0"}],["REPLICATE",{argTypes:[uo,Yt],retType:uo,template:"(#0).repeat(#1)"}],["RND",{argTypes:[Yt],retType:Yt,template:"(#0) * Math.random()"}],["RTRIM",{argTypes:[uo],retType:uo,template:'(#0).replace(/\\s+$/, "")'}],["SGN",{argTypes:[Yt],retType:Yt,template:"Math.sign(#0) || 0"}],["SIN",{argTypes:[Yt],retType:Yt,template:"Math.sin(#0) || 0"}],["SQR",{argTypes:[Yt],retType:Yt,template:"(#0) ** 2"}],["SQRT",{argTypes:[Yt],retType:Yt,template:"Math.sqrt(#0) || 0"}],["STRING",{argTypes:[Yt],retType:uo,template:`${Q0}(#0)`}],["TAN",{argTypes:[Yt],retType:Yt,template:"Math.tan(#0) || 0"}],["TRUNC",{argTypes:[Yt],retType:Yt,template:"Math.trunc(#0) || 0"}],["UPPER",{argTypes:[uo],retType:uo,template:"(#0).toUpperCase()"}],["XOR",{argTypes:[Yt,Yt],retType:Yt,template:"(#0) !== 0 ^ (#1) !== 0"}],["XORBIN",{argTypes:[Yt,Yt],retType:Yt,template:"(#0) ^ (#1)"}]],w9=(()=>{const e=new Map;return b9.forEach(([t,n])=>{let r=e.get(t);r||e.set(t,r=[]),r.push(n)}),e})(),{FLOAT:nn,STRING:ho,HANDLE:Ol,COLORREF:oy}=kt,AP=[{name:"^",arg:[nn,nn],ret:nn,text:"#0 ** #1",prior:13},{name:"*",arg:[nn,nn],ret:nn,text:"#0 * #1",prior:12},{name:"/",arg:[nn,nn],ret:nn,text:"#0 / (#1 || Infinity)",prior:12},{name:"%",arg:[nn,nn],ret:nn,text:"#0 % #1",prior:12},{name:"+",arg:[nn,nn],ret:nn,text:"#0 + #1",prior:11},{name:"+",arg:[ho,ho],ret:ho,text:"#0 + #1",prior:11},{name:"+",arg:[ho,nn],ret:ho,text:`#0 + ${Q0}(#1)`,prior:11},{name:"+",arg:[nn,ho],ret:ho,text:`${Q0}(#0) + #1`,prior:11},{name:"-",arg:[nn,nn],ret:nn,text:"#0 - #1",prior:11},{name:"<<",arg:[nn,nn],ret:nn,text:"#0 << #1",prior:10},{name:">>",arg:[nn,nn],ret:nn,text:"#0 >> #1",prior:10},{name:">",arg:[nn,nn],ret:nn,text:"+(#0 > #1)",prior:9},{name:">=",arg:[nn,nn],ret:nn,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[nn,nn],ret:nn,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[nn,nn],ret:nn,text:"+(#0 <= #1)",prior:9},{name:">",arg:[ho,ho],ret:nn,text:"+(#0 > #1)",prior:9},{name:">=",arg:[ho,ho],ret:nn,text:"+(#0 >= #1)",prior:9},{name:"<",arg:[ho,ho],ret:nn,text:"+(#0 < #1)",prior:9},{name:"<=",arg:[ho,ho],ret:nn,text:"+(#0 <= #1)",prior:9},{name:"==",arg:[nn,nn],ret:nn,text:"+(#0 == #1)",prior:8},{name:"==",arg:[ho,ho],ret:nn,text:"+(#0 == #1)",prior:8},{name:"==",arg:[Ol,Ol],ret:nn,text:"+(#0 == #1)",prior:8},{name:"==",arg:[oy,oy],ret:nn,text:"+(#0 == #1)",prior:8},{name:"!=",arg:[nn,nn],ret:nn,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[ho,ho],ret:nn,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[Ol,Ol],ret:nn,text:"+(#0 != #1)",prior:8},{name:"!=",arg:[oy,oy],ret:nn,text:"+(#0 != #1)",prior:8},{name:"&",arg:[nn,nn],ret:nn,text:"#0 & #1",prior:7},{name:"|",arg:[nn,nn],ret:nn,text:"#0 | #1",prior:5},{name:"&&",arg:[nn,nn],ret:nn,text:"+Boolean(#0 && #1)",prior:4},{name:"&&",arg:[Ol,Ol],ret:Ol,text:"+Boolean(#0 && #1)",prior:4},{name:"||",arg:[nn,nn],ret:nn,text:"+Boolean(#0 || #1)",prior:3},{name:"||",arg:[Ol,Ol],ret:Ol,text:"+Boolean(#0 || #1)",prior:3}],S9=Array.from(new tl(AP.map(e=>[e.prior,e.name]))).sort((e,t)=>t[0]-e[0]).map(e=>Array.from(e[1]));class C9{constructor(){this.m=new Map}declareVar(t,n,r){const i=t.toLowerCase(),o=this.m.get(i);if(o){if(o[0].type!==n)throw Error(`Переменная уже объявлена: ${t}`);return!1}const s={name:t,type:n,attrib:r||void 0};return this.m.set(i,[s,this.m.size]),!0}makeInEquation(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==kt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);r[0].inEquation=!0}setAsReturn(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);r[0].attrib=(r[0].attrib??0)|lt.VF_RETURN}getFloatVar(t){const n=t.toLowerCase(),r=this.m.get(n);if(!r)throw Error(`Неизвестная переменная: ${t}`);if(r[0].type!==kt.FLOAT)throw Error(`Переменная уравнения ${t} не имеет тип FLOAT`);return`$${n}`}_getOrCreateVar(t,n){const r=t.toLowerCase(),i=this.m.get(r);if(i)return[r,i[0]];const o={name:t,type:n};return this.m.set(r,[o,this.m.size]),[r,o]}getOrCreateVar(t,n,r=kt.FLOAT){const[i,{type:o}]=this._getOrCreateVar(n,r),s=`${t?kP:PP}${DP[o]}`,l=`$${i}`;return{text:`${s}[${l}]`,type:o}}derefer(t,n=kt.FLOAT){const r=t.first;if(r.type!=="var"||t.rest.length>0)throw Error("Должно быть имя переменной");const[i,{type:o}]=this._getOrCreateVar(r.name,n),s=`${r.isNew?kP:PP}${DP[o]}`,l=`$${i}`;return[s,l]}result(){return[...this.m.values()].sort((t,n)=>t[1]-n[1]).map(t=>t[0])}}function LP(e,t){const n=t.args.map(l=>Rl(e,l)),r=t.name.toUpperCase(),i=w9.get(r);if(i){const l=i.find(({argTypes:u})=>u.length===n.length&&u.every((h,p)=>h===n[p].type));if(!l)throw Error(`Некорректная сигнатура функции ${t.name}(${n.map(u=>kt[u.type])}).
Возможные варианты:
`+i.map(u=>`${t.name}(${u.argTypes.map(h=>kt[h])})`).join(`
`));const c=n.map(u=>u.text);return{text:l.template.replace(/#(\d)/g,(u,h)=>c[h]),type:l.retType}}if(r==="EXIT"){if(n.length>0)throw Error(`${t.name}: ожидалось 0 аргументов, получено ${n.length}`);return{text:"return",type:null}}const o=e.funcTable?.get(r);if(!o)throw Error(`Функция не существует: ${`${t.name}(${n.map(l=>kt[l.type])})`}`);const s=o.find(l=>{if(!l.argTypes.every((p,g)=>{if(g>=n.length)return!1;const m=p&Ml-1;return n[g].type===m}))return!1;const u=n.length-l.argTypes.length;if(!u)return!0;if(l.type==="user")return!1;const{restArgsTypes:h}=l;return u%h.length!==0?!1:n.slice(-u).every((p,g)=>p.type===h[g%h.length])});if(!s){const l=`${t.name}(${n.map(u=>kt[u.type])})`,c=o.map(u=>{const h=u.argTypes.map(p=>(p&Ml?"&":"")+kt[p&Ml-1]);return u.type==="plugin"&&u.restArgsTypes.length&&h.push(`[${u.restArgsTypes.map(p=>kt[p])}]`),` - ${t.name}(${h})`});throw Error(`Некорректная сигнатура функции ${l}.
Возможные варианты:
${c.join(`;
`)}`)}if(s.type==="plugin"){const l=n.map((u,h)=>s.argTypes[h]&Ml?e.vars.derefer(t.args[h]):u.text);let c=`${p9}.${s.path}.call(${[Z0,...l]})`;return s.kind==="generator"?c="yield* "+c:s.kind==="async"&&(c="yield "+c),{text:c,type:s.retType}}else{const l=n.map(c=>c.text);return{text:`yield* ${Z0}.${m9}(${[`"${s.name}"`,`[${l}]`]})`,type:s.retType}}}function x9(e){return`t${e.tmpVarCount++}`}function sy(e,t){switch(t.isNew&&t.type!=="var"&&e.bugs.push(["Применение оператора '~' не к переменной",t]),t.type){case"float":return{text:parseFloat(t.value).toString(),type:kt.FLOAT};case"handle":return{text:parseInt(t.value,10).toString(),type:kt.HANDLE};case"string":return{text:"`"+t.value.replace(/[`$\\]/g,"\\$&")+"`",type:kt.STRING};case"var":{const n=lt[t.name.toUpperCase()]?.toString();return n?{text:n,type:kt.FLOAT}:e.vars.getOrCreateVar(t.isNew,t.name)}case"call":{let n=t;if(t.isNew&&t.args.length){const o={...t.args[0].first,isNew:!0},s=[{...t.args[0],first:o},...t.args.slice(1)];n={...t,args:s}}const r=x9(e),i=LP(e,n);if(!i.type)throw Error(`Функция ${t.name} не возвращает значения`);return e.lines.push(`const ${r}=${i.text};`),{text:r,type:i.type}}case"-":case"!":{let n=t.op;t.isNew&&(n={...n,isNew:!0});const r=sy(e,n);if(r.type!==kt.FLOAT)throw Error(`Оператор "${t.type}" не применим к ${kt[r.type]}`);return{text:`(${t.type}${r.text})`,type:r.type}}case"subexpr":{const n=Rl(e,t.expr);return{text:`(${n.text})`,type:n.type}}}}function Rl(e,{first:t,rest:n}){if(!n.length)return sy(e,t);const r=[{type:"decl",op:t},...wP(n.map(o=>[o.action,{type:"decl",op:o.operand}]))];S9.forEach(o=>{for(;;){const s=r.findIndex(y=>typeof y=="string"&&o.includes(y));if(s<0)break;const l=r[s],c=r[s-1],u=r[s+1],h=c.type==="decl"?sy(e,c.op):c.res,p=u.type==="decl"?sy(e,u.op):u.res,g=AP.find(({name:y,arg:b})=>y===l&&b[0]===h.type&&b[1]===p.type);if(!g)throw Error(`Оператор '${l}' неприменим к '${kt[h.type]}', '${kt[p.type]}'`);const m={text:g.text.replace(/#\d/g,y=>(y==="#0"?h:p).text),type:g.ret};r.splice(s-1,3,{type:"parsed",res:m})}});const i=r[0];if(typeof i!="object"||i.type!=="parsed")throw Error("Ошибка разбора выражения");return i.res}function NP(e,t,n){if(t!==n)throw Error(`"${e}" имеет тип ${kt[t]}, но правое выражение возвращает ${kt[n]}`)}function BP(e,t){switch(t.type){case":=":{const r=Rl(e,t.expr),i=e.vars.getOrCreateVar(!0,t.to,r.type);NP(t.to,i.type,r.type),e.lines.push(`${i.text} = ${r.text};`);break}case"callChain":{t.functions.forEach(r=>{const i=LP(e,r);e.lines.push(`${i.text};`)});break}case"if":{e.b.pushBlock({canBreak:!1,expect:"endif",hasElse:!1});const r=Rl(e,t.expr);e.lines.push(`if (${r.text}) {`);break}case"else":{const r=e.b.lastBlock();if(r?.expect!=="endif"||r.hasElse)throw Error("else должен находиться после if");r.hasElse=!0,e.lines.push("} else {");break}case"endif":{e.b.popBlock("endif"),e.lines.push("}");break}case"varsDec":{const{datatype:r,modifiers:i,names:o}=t;let s;switch(r){case"FLOAT":case"INTEGER":s=kt.FLOAT;break;case"HANDLE":s=kt.HANDLE;break;case"STRING":s=kt.STRING;break;case"COLORREF":s=kt.COLORREF;break}const l=(i.includes("LOCAL")?lt.VF_LOCAL:0)|(i.includes("PARAMETER")?lt.VF_ARGUMENT:0);o.forEach(c=>{e.vars.declareVar(c,s,l)||e.bugs.push([`Повторное объявление переменной: ${c}`,t])});break}case"while":{e.b.pushBlock({expect:"endwhile",canBreak:!0});const r=`g${++e.whileGuardCount}`;e.lines.push(`var ${r} = 0;`),e.lines.push("while (true) {"),e.lines.push(`if (++${r} > 10000000) throw Error("Бесконечный цикл (10_000_000 итераций)");`);const i=Rl(e,t.expr);e.lines.push(`if (!(${i.text})) break;`);break}case"endwhile":{e.b.popBlock("endwhile"),e.lines.push("}");break}case"do":{e.b.pushBlock({expect:"until",canBreak:!0}),e.lines.push("do {");break}case"until":{e.b.popBlock("until");const r=Rl(e,t.expr);e.lines.push(`if (!(${r.text})) break;`),e.lines.push("} while (true);");break}case"switch":{e.b.pushBlock({expect:"endswitch",canBreak:!0,caseCount:0}),e.lines.push("do { //switch");break}case"endswitch":{const r=e.b.popBlock("endswitch");if(!r.caseCount)throw Error("Ожидалось case");for(let i=0;i<r.caseCount;++i)e.lines.push("}");e.lines.push("} while (false); //endswitch");break}case"case":{const r=e.b.lastBlock();if(r?.expect!=="endswitch")throw Error("case должен находиться внутри блока switch");r.caseCount&&e.lines.push("} else {"),++r.caseCount;const i=Rl(e,t.expr);e.lines.push(`if (${i.text}) { //case`);break}case"default":{if(e.b.lastBlock()?.expect!=="endswitch")throw Error("default должен находиться внутри блока switch");e.lines.push("} else { //default");break}case"break":e.lines.push(e.b.haveABreakHaveAKitKat());break;case"=":{const r={...e,lines:[]},i=Rl(r,t.lhs);if(i.type!==kt.FLOAT)throw Error("Левая часть выражения не возвращает FLOAT");const o=Rl(r,t.rhs);if(o.type!==kt.FLOAT)throw Error("Правая часть выражения не возвращает FLOAT");r.lines.push(`return ${o.text} - (${i.text});`),e.equations.push(r.lines);break}case"::=":{const r={...e,lines:[]},i=Rl(r,t.expr),o=e.vars.getOrCreateVar(!0,t.to,i.type);NP(t.to,o.type,i.type),r.lines.push(`${o.text} = ${i.text};`),e.defers.push(r.lines);break}case"eqResult":{if(t.deferred)t.vars.forEach(r=>e.vars.makeInEquation(r));else{const r=t.vars.map(i=>e.vars.getFloatVar(i));e.lines.push(`${Z0}.${v9}([${r}]);`)}break}case"function":{e.isFunction=!0;break}case"return":{e.vars.setAsReturn(t.to);break}default:throw Error(`Неизвестный оператор: "${t.type}"`)}}function _9(e,t,n){const r=e.vars.result(),{lines:i,bugs:o,equations:s,defers:l,isFunction:c}=e;if(i.length===0&&s.length===0&&l.length===0)return{bugs:o,vars:r,isFunction:c,mainText:"",equationsTexts:[],defersTexts:[]};const u=r.map((v,S)=>`const $${v.name.toLowerCase()} = ${f9}[${S}];`).join(`
`),h=g9+`
`+u+`
`,p=t?`//# sourceURL=_transpiled/${t}`:"",g=n?.split(`
`).map(v=>"// "+v).join(`
`)??"",m=i.length?g+h+i.join(`
`)+p:"",y=s.map((v,S)=>h+v.join(`
`)+(p&&`${p}_eq_${S}`)),b=l.map((v,S)=>h+v.join(`
`)+(p&&`${p}_defer_${S}`));return{bugs:o,vars:r,isFunction:c,mainText:m,equationsTexts:y,defersTexts:b}}function E9(e,{funcTable:t,sourceURL:n,comment:r}={}){const i={funcTable:t,vars:new C9,b:new h9,lines:[],defers:[],equations:[],isFunction:!1,bugs:[],tmpVarCount:0,whileGuardCount:0};e.forEach(s=>{try{BP(i,s.code);let l=s.code.then;for(;l;)BP(i,l),l=l.then}catch(l){throw l instanceof Error?Error(`Строка ${s.line}: ${l.message}`):l}});const o=i.b.lastBlock();if(o)throw Error(`Строка ${e.length}: ожидалось ${o.expect}`);return _9(i,n,r)}class FP extends SyntaxError{constructor(t,n,r,i){super(t),this.expected=n,this.found=r,this.location=i,this.name="SyntaxError"}format(t){let n="Error: "+this.message;if(this.location){let r=null;const i=t.find(c=>c.source===this.location.source);i&&(r=i.text.split(/\r\n|\n|\r/g));const o=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,l=this.location.source+":"+s.line+":"+s.column;if(r){const c=this.location.end,u="".padEnd(s.line.toString().length," "),h=r[o.line-1],g=(o.line===c.line?c.column:h.length+1)-o.column||1;n+=`
 --> `+l+`
`+u+` |
`+s.line+" | "+h+`
`+u+" | "+"".padEnd(o.column-1," ")+"".padEnd(g,"^")}else n+=`
 at `+l}return n}static buildMessage(t,n){function r(g){return g.codePointAt(0).toString(16).toUpperCase()}const i=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function o(g){return i?g.replace(i,m=>"\\u{"+r(m)+"}"):g}function s(g){return o(g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}function l(g){return o(g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,m=>"\\x0"+r(m)).replace(/[\x10-\x1F\x7F-\x9F]/g,m=>"\\x"+r(m)))}const c={literal(g){return'"'+s(g.text)+'"'},class(g){const m=g.parts.map(y=>Array.isArray(y)?l(y[0])+"-"+l(y[1]):l(y));return"["+(g.inverted?"^":"")+m.join("")+"]"+(g.unicode?"u":"")},any(){return"any character"},end(){return"end of input"},other(g){return g.description}};function u(g){return c[g.type](g)}function h(g){const m=g.map(u);if(m.sort(),m.length>0){let y=1;for(let b=1;b<m.length;b++)m[b-1]!==m[b]&&(m[y]=m[b],y++);m.length=y}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function p(g){return g?'"'+s(g)+'"':"end of input"}return"Expected "+h(t)+" but "+p(n)+" found."}}function T9(e,t){t=t!==void 0?t:{};const n={},r=t.grammarSource,i={Code:On};let o=On;const s=",",l="(",c=")",u="~",h=">=",p=">",g="<=",m="<",y="==",b="!=",v="&&",S="&",E="||",T="|",O=":=",M="::=",I="=",N="?",D="if",L="while",A="until",$="case",j="else",U="endif",K="break",q="endwhile",z="do",Y="endswitch",te="switch",ie="default",Q="function",H="return",X="handle",he="string",pe="float",ge="colorref",ce="integer",be="local",Ne="nosave",_e="parameter",me=".",ye="#",xe="'",Ie='"',Pe=/^[!\-]/,Re=/^[%*-+\-\/\^]/,Fe=/^[_a-z\u0430-\u044F0-9]/i,ft=/^[0-9]/,Ue=/^[eE]/,Ft=/^[+\-]/,Ct=/^[^']/,Rt=/^[^"]/,Ke=/^[ \t]/,$t=/^[\n;]/,yt=/^[ \t\n\r]/,zt=Yn("variable name"),jt=En(",",!1),pn=Yn("function call"),un=En("(",!1),Mt=En(")",!1),At=xo(["!","-"],!1,!1,!1),Ye=Yn("!<operand> or -<operand>"),xt=Yn("(<expression>)"),St=Yn("operand"),nt=En("~",!1),mt=xo(["%",["*","+"],"-","/","^"],!1,!1,!1),Pt=En(">=",!1),Et=En(">",!1),Nt=En("<=",!1),nr=En("<",!1),An=En("==",!1),Cr=En("!=",!1),rr=En("&&",!1),mr=En("&",!1),bt=En("||",!1),Fr=En("|",!1),ai=Yn("expression"),Jt=Yn("assignment operator"),Gn=En(":=",!1),Bt=En("::=",!1),en=Yn("equality operator"),Sn=En("=",!1),Tn=Yn("immediately equation result"),Mn=En("?",!1),hi=Yn("deferred equation result"),Qr=Yn("function call chain"),Vi=Yn("( <expression> )"),Ao=Yn("if(<condition>)"),Mr=En("if",!0),yn=Yn("while(<condition>)"),ir=En("while",!0),Pi=Yn("until(<condition>)"),zo=En("until",!0),fi=Yn("case(<condition>)"),Vn=En("case",!0),st=En("else",!0),et=En("endif",!0),wt=En("break",!0),qt=En("endwhile",!0),sn=En("do",!0),vr=En("endswitch",!0),or=En("switch",!0),zn=En("default",!0),bo=En("function",!0),Ts=Yn("return <var name>"),to=En("return",!0),Lo=En("HANDLE",!0),$n=En("STRING",!0),Jr=En("FLOAT",!0),wo=En("COLORREF",!0),Qo=En("INTEGER",!0),Ba=En("LOCAL",!0),Fa=En("NOSAVE",!0),$i=En("PARAMETER",!0),Wn=xo(["_",["a","z"],["а","я"],["0","9"]],!1,!0,!1),Ms=Yn("function name"),Jo=xo([["0","9"]],!1,!1,!1),Qs=En(".",!1),ja=xo(["e","E"],!1,!1,!1),Js=xo(["+","-"],!1,!1,!1),Yu=Yn("float"),So=Yn("handle"),Os=En("#",!1),ic=En("'",!1),oc=xo(["'"],!0,!1,!1),ds=En('"',!1),sc=xo(['"'],!0,!1,!1),ac=Yn("space or tab"),cr=xo([" ","	"],!1,!1,!1),Xu=Yn("new line"),Va=xo([`
`,";"],!1,!1,!1),li=xo([" ","	",`
`,"\r"],!1,!1,!1);function Di(Z){return{code:Z,line:Co().start.line}}function ea(Z){return Z.filter(ae=>ae.code)}function es(Z){return{type:"var",name:Z}}function no(Z){return Z}function ro(Z,ae){return{type:"call",name:Z,args:ae}}function wl(Z,ae){return{type:Z,op:ae}}function dn(Z){return{type:"subexpr",expr:Z}}function ts(Z,ae){return{...ae,isNew:!!Z}}function Yi(Z,ae,Me){return{action:ae,operand:Me}}function lc(Z,ae){return{first:Z,rest:ae}}function No(Z,ae){return ae}function hs(Z,ae){return[Z].concat(ae)}function Ai(Z,ae){return ae}function ar(Z,ae,Me){return{type:"varsDec",datatype:Z,modifiers:ae,names:Me}}function $a(Z,ae,Me){return{type:ae,to:Z,expr:Me}}function B(Z,ae,Me){return{type:ae,lhs:Z,rhs:Me}}function G(Z,ae){return ae}function re(Z,ae){return{type:"eqResult",deferred:!1,vars:[Z].concat(ae)}}function ue(Z,ae){return ae}function Se(Z,ae){return{type:"eqResult",deferred:!0,vars:[Z].concat(ae)}}function Ve(Z,ae){return ae}function it(Z,ae){return{type:"callChain",functions:[Z].concat(ae)}}function an(Z){return Z}function bn(Z){return Z}function In(Z){return Z}function Or(Z){return{type:"if",expr:Z}}function pi(Z){return{type:"while",expr:Z}}function Zu(Z){return{type:"until",expr:Z}}function jc(Z,ae){return{type:"case",expr:Z,then:ae}}function za(Z){return{type:"else",then:Z}}function Sl(Z){return{type:"endif",then:Z}}function Ua(){return{type:"break"}}function Qu(){return{type:"endwhile"}}function Ju(){return{type:"do"}}function Bh(){return{type:"endswitch"}}function Fh(){return{type:"switch"}}function Rs(Z){return{type:"default",then:Z}}function cc(){return{type:"function"}}function ed(Z){return{type:"return",to:Z}}function Vc(){return"HANDLE"}function xr(){return"STRING"}function td(){return"FLOAT"}function $c(){return"COLORREF"}function nd(){return"INTEGER"}function ns(){return"LOCAL"}function zc(){return"NOSAVE"}function rd(){return"PARAMETER"}function uc(Z){return{type:"float",value:Z}}function io(Z){return{type:"handle",value:Z.length>0?Z:"0"}}function Li(Z){return{type:"string",value:Z[1]}}let de=t.peg$currPos|0,rn=de;const Ha=[{line:1,column:1}];let Uo=de,Rr=t.peg$maxFailExpected||[],He=t.peg$silentFails|0,Ga;if(t.startRule){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');o=i[t.startRule]}function Co(){return gt(rn,de)}function Uc(Z=de){const ae=e.codePointAt(Z);return ae===void 0?"":String.fromCodePoint(ae)}function En(Z,ae){return{type:"literal",text:Z,ignoreCase:ae}}function xo(Z,ae,Me,ke){return{type:"class",parts:Z,inverted:ae,ignoreCase:Me,unicode:ke}}function Wa(){return{type:"end"}}function Yn(Z){return{type:"other",description:Z}}function $e(Z){let ae=Ha[Z],Me;if(ae)return ae;if(Z>=Ha.length)Me=Ha.length-1;else for(Me=Z;!Ha[--Me];);for(ae=Ha[Me],ae={line:ae.line,column:ae.column};Me<Z;)e.charCodeAt(Me)===10?(ae.line++,ae.column=1):ae.column++,Me++;return Ha[Z]=ae,ae}function gt(Z,ae,Me){const ke=$e(Z),Ze=$e(ae);return{source:r,start:{offset:Z,line:ke.line,column:ke.column},end:{offset:ae,line:Ze.line,column:Ze.column}}}function ze(Z){de<Uo||(de>Uo&&(Uo=de,Rr=[]),Rr.push(Z))}function vn(Z,ae,Me){return new FP(FP.buildMessage(Z,ae),Z,ae,Me)}function On(){let Z,ae,Me,ke,Ze,rt,xn;for(Z=de,ae=[],Me=de,ke=[],Ze=Qt();Ze!==n;)ke.push(Ze),Ze=Qt();for(Ze=kn(),Ze===n&&(Ze=null),rt=[],xn=Qt();xn!==n;)rt.push(xn),xn=Qt();for(xn=BS(),xn!==n?(rn=Me,Me=Di(Ze)):(de=Me,Me=n);Me!==n;){for(ae.push(Me),Me=de,ke=[],Ze=Qt();Ze!==n;)ke.push(Ze),Ze=Qt();for(Ze=kn(),Ze===n&&(Ze=null),rt=[],xn=Qt();xn!==n;)rt.push(xn),xn=Qt();xn=BS(),xn!==n?(rn=Me,Me=Di(Ze)):(de=Me,Me=n)}return rn=Z,ae=ea(ae),Z=ae,Z}function Cn(){let Z,ae;return He++,Z=de,ae=Pr(),ae!==n&&(rn=Z,ae=es(ae)),Z=ae,He--,Z===n&&(ae=n,He===0&&ze(zt)),Z}function Ti(){let Z,ae,Me,ke,Ze;for(Z=de,ae=[],Me=Qt();Me!==n;)ae.push(Me),Me=Qt();if(Me=Hr(),Me!==n){for(ke=[],Ze=Qt();Ze!==n;)ke.push(Ze),Ze=Qt();e.charCodeAt(de)===44?(Ze=s,de++):(Ze=n,He===0&&ze(jt)),Ze===n&&(Ze=null),rn=Z,Z=Me}else de=Z,Z=n;return Z}function zi(){let Z,ae,Me,ke,Ze,rt,xn,Ln;if(He++,Z=de,ae=rs(),ae!==n){for(Me=[],ke=Qt();ke!==n;)Me.push(ke),ke=Qt();if(e.charCodeAt(de)===40?(ke=l,de++):(ke=n,He===0&&ze(un)),ke!==n){for(Ze=[],rt=Qt();rt!==n;)Ze.push(rt),rt=Qt();for(rt=[],xn=Ti();xn!==n;)rt.push(xn),xn=Ti();for(xn=[],Ln=Qt();Ln!==n;)xn.push(Ln),Ln=Qt();e.charCodeAt(de)===41?(Ln=c,de++):(Ln=n,He===0&&ze(Mt)),Ln!==n?(rn=Z,Z=ro(ae,rt)):(de=Z,Z=n)}else de=Z,Z=n}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(pn)),Z}function Mi(){let Z;return Z=e.charAt(de),Pe.test(Z)?de++:(Z=n,He===0&&ze(At)),Z}function Xi(){let Z,ae,Me,ke;if(He++,Z=de,ae=Mi(),ae!==n){for(Me=[],ke=Qt();ke!==n;)Me.push(ke),ke=Qt();ke=_o(),ke!==n?(rn=Z,Z=wl(ae,ke)):(de=Z,Z=n)}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(Ye)),Z}function Cl(){let Z,ae,Me,ke,Ze,rt;if(He++,Z=de,e.charCodeAt(de)===40?(ae=l,de++):(ae=n,He===0&&ze(un)),ae!==n){for(Me=[],ke=Qt();ke!==n;)Me.push(ke),ke=Qt();if(ke=Hr(),ke!==n){for(Ze=[],rt=Qt();rt!==n;)Ze.push(rt),rt=Qt();e.charCodeAt(de)===41?(rt=c,de++):(rt=n,He===0&&ze(Mt)),rt!==n?(rn=Z,Z=dn(ke)):(de=Z,Z=n)}else de=Z,Z=n}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(xt)),Z}function _o(){let Z,ae,Me,ke;for(He++,Z=de,e.charCodeAt(de)===126?(ae=u,de++):(ae=n,He===0&&ze(nt)),ae===n&&(ae=null),Me=[],ke=Qt();ke!==n;)Me.push(ke),ke=Qt();return ke=Xi(),ke===n&&(ke=LS(),ke===n&&(ke=NS(),ke===n&&(ke=EI(),ke===n&&(ke=zi(),ke===n&&(ke=Cn(),ke===n&&(ke=Cl())))))),ke!==n?(rn=Z,Z=ts(ae,ke)):(de=Z,Z=n),He--,Z===n&&(ae=n,He===0&&ze(St)),Z}function Zi(){let Z;return Z=e.charAt(de),Re.test(Z)?de++:(Z=n,He===0&&ze(mt)),Z===n&&(e.substr(de,2)===h?(Z=h,de+=2):(Z=n,He===0&&ze(Pt)),Z===n&&(e.charCodeAt(de)===62?(Z=p,de++):(Z=n,He===0&&ze(Et)),Z===n&&(e.substr(de,2)===g?(Z=g,de+=2):(Z=n,He===0&&ze(Nt)),Z===n&&(e.charCodeAt(de)===60?(Z=m,de++):(Z=n,He===0&&ze(nr)),Z===n&&(e.substr(de,2)===y?(Z=y,de+=2):(Z=n,He===0&&ze(An)),Z===n&&(e.substr(de,2)===b?(Z=b,de+=2):(Z=n,He===0&&ze(Cr)),Z===n&&(e.substr(de,2)===v?(Z=v,de+=2):(Z=n,He===0&&ze(rr)),Z===n&&(e.charCodeAt(de)===38?(Z=S,de++):(Z=n,He===0&&ze(mr)),Z===n&&(e.substr(de,2)===E?(Z=E,de+=2):(Z=n,He===0&&ze(bt)),Z===n&&(e.charCodeAt(de)===124?(Z=T,de++):(Z=n,He===0&&ze(Fr)))))))))))),Z}function Hr(){let Z,ae,Me,ke,Ze,rt,xn,Ln;if(He++,Z=de,ae=_o(),ae!==n){for(Me=[],ke=de,Ze=[],rt=Qt();rt!==n;)Ze.push(rt),rt=Qt();if(rt=Zi(),rt!==n){for(xn=[],Ln=Qt();Ln!==n;)xn.push(Ln),Ln=Qt();Ln=_o(),Ln!==n?(rn=ke,ke=Yi(ae,rt,Ln)):(de=ke,ke=n)}else de=ke,ke=n;for(;ke!==n;){for(Me.push(ke),ke=de,Ze=[],rt=Qt();rt!==n;)Ze.push(rt),rt=Qt();if(rt=Zi(),rt!==n){for(xn=[],Ln=Qt();Ln!==n;)xn.push(Ln),Ln=Qt();Ln=_o(),Ln!==n?(rn=ke,ke=Yi(ae,rt,Ln)):(de=ke,ke=n)}else de=ke,ke=n}rn=Z,Z=lc(ae,Me)}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(ai)),Z}function id(){let Z,ae,Me,ke,Ze,rt;if(Z=de,ae=Pr(),ae!==n){for(Me=[],ke=de,oo(),e.charCodeAt(de)===44?(Ze=s,de++):(Ze=n,He===0&&ze(jt)),Ze!==n?(oo(),rt=Pr(),rt!==n?(rn=ke,ke=No(ae,rt)):(de=ke,ke=n)):(de=ke,ke=n);ke!==n;)Me.push(ke),ke=de,oo(),e.charCodeAt(de)===44?(Ze=s,de++):(Ze=n,He===0&&ze(jt)),Ze!==n?(oo(),rt=Pr(),rt!==n?(rn=ke,ke=No(ae,rt)):(de=ke,ke=n)):(de=ke,ke=n);rn=Z,Z=hs(ae,Me)}else de=Z,Z=n;return Z}function od(){let Z,ae,Me,ke,Ze,rt,xn,Ln,Bo;if(Z=de,ae=Kn(),ae!==n){if(Me=[],ke=Qt(),ke!==n)for(;ke!==n;)Me.push(ke),ke=Qt();else Me=n;if(Me!==n){if(ke=oo(),Ze=[],rt=de,xn=wr(),xn!==n){if(Ln=[],Bo=Qt(),Bo!==n)for(;Bo!==n;)Ln.push(Bo),Bo=Qt();else Ln=n;Ln!==n?(rn=rt,rt=Ai(ae,xn)):(de=rt,rt=n)}else de=rt,rt=n;for(;rt!==n;)if(Ze.push(rt),rt=de,xn=wr(),xn!==n){if(Ln=[],Bo=Qt(),Bo!==n)for(;Bo!==n;)Ln.push(Bo),Bo=Qt();else Ln=n;Ln!==n?(rn=rt,rt=Ai(ae,xn)):(de=rt,rt=n)}else de=rt,rt=n;rt=id(),rt!==n?(rn=Z,Z=ar(ae,Ze,rt)):(de=Z,Z=n)}else de=Z,Z=n}else de=Z,Z=n;return Z}function dp(){let Z,ae,Me,ke,Ze;if(He++,Z=de,ae=Pr(),ae!==n)if(oo(),e.substr(de,2)===O?(Me=O,de+=2):(Me=n,He===0&&ze(Gn)),Me===n&&(e.substr(de,3)===M?(Me=M,de+=3):(Me=n,He===0&&ze(Bt))),Me!==n){for(ke=[],Ze=Qt();Ze!==n;)ke.push(Ze),Ze=Qt();Ze=Hr(),Ze!==n?(rn=Z,Z=$a(ae,Me,Ze)):(de=Z,Z=n)}else de=Z,Z=n;else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(Jt)),Z}function Hc(){let Z,ae,Me,ke,Ze;if(He++,Z=de,ae=Hr(),ae!==n)if(oo(),e.charCodeAt(de)===61?(Me=I,de++):(Me=n,He===0&&ze(Sn)),Me!==n){for(ke=[],Ze=Qt();Ze!==n;)ke.push(Ze),Ze=Qt();Ze=Hr(),Ze!==n?(rn=Z,Z=B(ae,Me,Ze)):(de=Z,Z=n)}else de=Z,Z=n;else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(en)),Z}function sd(){let Z,ae,Me,ke,Ze,rt,xn,Ln;if(He++,Z=de,ae=Pr(),ae!==n){for(Me=[],ke=de,Ze=[],rt=Qt();rt!==n;)Ze.push(rt),rt=Qt();if(e.charCodeAt(de)===44?(rt=s,de++):(rt=n,He===0&&ze(jt)),rt!==n){for(xn=[],Ln=Qt();Ln!==n;)xn.push(Ln),Ln=Qt();Ln=Pr(),Ln!==n?(rn=ke,ke=G(ae,Ln)):(de=ke,ke=n)}else de=ke,ke=n;for(;ke!==n;){for(Me.push(ke),ke=de,Ze=[],rt=Qt();rt!==n;)Ze.push(rt),rt=Qt();if(e.charCodeAt(de)===44?(rt=s,de++):(rt=n,He===0&&ze(jt)),rt!==n){for(xn=[],Ln=Qt();Ln!==n;)xn.push(Ln),Ln=Qt();Ln=Pr(),Ln!==n?(rn=ke,ke=G(ae,Ln)):(de=ke,ke=n)}else de=ke,ke=n}for(ke=[],Ze=Qt();Ze!==n;)ke.push(Ze),Ze=Qt();if(e.charCodeAt(de)===61?(Ze=I,de++):(Ze=n,He===0&&ze(Sn)),Ze!==n){for(rt=[],xn=Qt();xn!==n;)rt.push(xn),xn=Qt();e.charCodeAt(de)===63?(xn=N,de++):(xn=n,He===0&&ze(Mn)),xn!==n?(rn=Z,Z=re(ae,Me)):(de=Z,Z=n)}else de=Z,Z=n}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(Tn)),Z}function ad(){let Z,ae,Me,ke,Ze,rt,xn;if(He++,Z=de,e.charCodeAt(de)===63?(ae=N,de++):(ae=n,He===0&&ze(Mn)),ae!==n)if(oo(),Me=Pr(),Me!==n){for(ke=[],Ze=de,oo(),e.charCodeAt(de)===44?(rt=s,de++):(rt=n,He===0&&ze(jt)),rt!==n?(oo(),xn=Pr(),xn!==n?(rn=Ze,Ze=ue(Me,xn)):(de=Ze,Ze=n)):(de=Ze,Ze=n);Ze!==n;)ke.push(Ze),Ze=de,oo(),e.charCodeAt(de)===44?(rt=s,de++):(rt=n,He===0&&ze(jt)),rt!==n?(oo(),xn=Pr(),xn!==n?(rn=Ze,Ze=ue(Me,xn)):(de=Ze,Ze=n)):(de=Ze,Ze=n);rn=Z,Z=Se(Me,ke)}else de=Z,Z=n;else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(hi)),Z}function hp(){let Z,ae,Me,ke,Ze,rt;if(He++,Z=de,ae=zi(),ae!==n){if(Me=[],ke=de,Ze=[],rt=Qt(),rt!==n)for(;rt!==n;)Ze.push(rt),rt=Qt();else Ze=n;for(Ze!==n?(rt=zi(),rt!==n?(rn=ke,ke=Ve(ae,rt)):(de=ke,ke=n)):(de=ke,ke=n);ke!==n;){if(Me.push(ke),ke=de,Ze=[],rt=Qt(),rt!==n)for(;rt!==n;)Ze.push(rt),rt=Qt();else Ze=n;Ze!==n?(rt=zi(),rt!==n?(rn=ke,ke=Ve(ae,rt)):(de=ke,ke=n)):(de=ke,ke=n)}rn=Z,Z=it(ae,Me)}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(Qr)),Z}function jh(){let Z,ae,Me,ke,Ze,rt;if(He++,Z=de,e.charCodeAt(de)===40?(ae=l,de++):(ae=n,He===0&&ze(un)),ae!==n){for(Me=[],ke=Qt();ke!==n;)Me.push(ke),ke=Qt();if(ke=Hr(),ke!==n){for(Ze=[],rt=Qt();rt!==n;)Ze.push(rt),rt=Qt();e.charCodeAt(de)===41?(rt=c,de++):(rt=n,He===0&&ze(Mt)),rt!==n?(rn=Z,Z=ke):(de=Z,Z=n)}else de=Z,Z=n}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(Vi)),Z}function fp(){let Z,ae,Me,ke,Ze;for(He++,Z=de,ae=[],Me=Qt();Me!==n;)ae.push(Me),Me=Qt();if(Me=Hr(),Me!==n){for(ke=[],Ze=Qt();Ze!==n;)ke.push(Ze),Ze=Qt();e.charCodeAt(de)===41?(Ze=c,de++):(Ze=n,He===0&&ze(Mt)),Ze!==n?(rn=Z,Z=Me):(de=Z,Z=n)}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(Vi)),Z}function ld(){let Z;return Z=jh(),Z===n&&(Z=fp()),Z}function Gc(){let Z,ae,Me;if(Z=de,ae=[],Me=Qt(),Me!==n)for(;Me!==n;)ae.push(Me),Me=Qt();else ae=n;return ae!==n?(Me=kn(),Me!==n?(rn=Z,Z=Me):(de=Z,Z=n)):(de=Z,Z=n),Z}function fv(){let Z,ae,Me;return He++,Z=de,ae=e.substr(de,2),ae.toLowerCase()===D?de+=2:(ae=n,He===0&&ze(Mr)),ae!==n?(oo(),Me=ld(),Me!==n?(rn=Z,Z=Or(Me)):(de=Z,Z=n)):(de=Z,Z=n),He--,Z===n&&(ae=n,He===0&&ze(Ao)),Z}function x(){let Z,ae,Me;return He++,Z=de,ae=e.substr(de,5),ae.toLowerCase()===L?de+=5:(ae=n,He===0&&ze(ir)),ae!==n?(oo(),Me=ld(),Me!==n?(rn=Z,Z=pi(Me)):(de=Z,Z=n)):(de=Z,Z=n),He--,Z===n&&(ae=n,He===0&&ze(yn)),Z}function V(){let Z,ae,Me;return He++,Z=de,ae=e.substr(de,5),ae.toLowerCase()===A?de+=5:(ae=n,He===0&&ze(zo)),ae!==n?(oo(),Me=ld(),Me!==n?(rn=Z,Z=Zu(Me)):(de=Z,Z=n)):(de=Z,Z=n),He--,Z===n&&(ae=n,He===0&&ze(Pi)),Z}function J(){let Z,ae,Me,ke;return He++,Z=de,ae=e.substr(de,4),ae.toLowerCase()===$?de+=4:(ae=n,He===0&&ze(Vn)),ae!==n?(oo(),Me=ld(),Me!==n?(ke=Gc(),ke===n&&(ke=null),rn=Z,Z=jc(Me,ke)):(de=Z,Z=n)):(de=Z,Z=n),He--,Z===n&&(ae=n,He===0&&ze(fi)),Z}function ne(){let Z,ae,Me;return Z=de,ae=e.substr(de,4),ae.toLowerCase()===j?de+=4:(ae=n,He===0&&ze(st)),ae!==n?(Me=Gc(),Me===n&&(Me=null),rn=Z,Z=za(Me)):(de=Z,Z=n),Z}function oe(){let Z,ae,Me;return Z=de,ae=e.substr(de,5),ae.toLowerCase()===U?de+=5:(ae=n,He===0&&ze(et)),ae!==n?(Me=Gc(),Me===n&&(Me=null),rn=Z,Z=Sl(Me)):(de=Z,Z=n),Z}function ve(){let Z,ae;return Z=de,ae=e.substr(de,5),ae.toLowerCase()===K?de+=5:(ae=n,He===0&&ze(wt)),ae!==n&&(rn=Z,ae=Ua()),Z=ae,Z}function we(){let Z,ae;return Z=de,ae=e.substr(de,8),ae.toLowerCase()===q?de+=8:(ae=n,He===0&&ze(qt)),ae!==n&&(rn=Z,ae=Qu()),Z=ae,Z}function De(){let Z,ae;return Z=de,ae=e.substr(de,2),ae.toLowerCase()===z?de+=2:(ae=n,He===0&&ze(sn)),ae!==n&&(rn=Z,ae=Ju()),Z=ae,Z}function Xe(){let Z,ae;return Z=de,ae=e.substr(de,9),ae.toLowerCase()===Y?de+=9:(ae=n,He===0&&ze(vr)),ae!==n&&(rn=Z,ae=Bh()),Z=ae,Z}function at(){let Z,ae;return Z=de,ae=e.substr(de,6),ae.toLowerCase()===te?de+=6:(ae=n,He===0&&ze(or)),ae!==n&&(rn=Z,ae=Fh()),Z=ae,Z}function ht(){let Z,ae,Me;return Z=de,ae=e.substr(de,7),ae.toLowerCase()===ie?de+=7:(ae=n,He===0&&ze(zn)),ae!==n?(Me=Gc(),Me===n&&(Me=null),rn=Z,Z=Rs(Me)):(de=Z,Z=n),Z}function Gt(){let Z,ae;return Z=de,ae=e.substr(de,8),ae.toLowerCase()===Q?de+=8:(ae=n,He===0&&ze(bo)),ae!==n&&(rn=Z,ae=cc()),Z=ae,Z}function Zt(){let Z,ae,Me;return He++,Z=de,ae=e.substr(de,6),ae.toLowerCase()===H?de+=6:(ae=n,He===0&&ze(to)),ae!==n?(oo(),Me=Pr(),Me!==n?(rn=Z,Z=ed(Me)):(de=Z,Z=n)):(de=Z,Z=n),He--,Z===n&&(ae=n,He===0&&ze(Ts)),Z}function kn(){let Z;return Z=od(),Z===n&&(Z=dp(),Z===n&&(Z=Hc(),Z===n&&(Z=sd(),Z===n&&(Z=ad(),Z===n&&(Z=fv(),Z===n&&(Z=ne(),Z===n&&(Z=oe(),Z===n&&(Z=ve(),Z===n&&(Z=x(),Z===n&&(Z=we(),Z===n&&(Z=De(),Z===n&&(Z=V(),Z===n&&(Z=Xe(),Z===n&&(Z=at(),Z===n&&(Z=J(),Z===n&&(Z=ht(),Z===n&&(Z=hp(),Z===n&&(Z=Gt(),Z===n&&(Z=Zt()))))))))))))))))))),Z}function Kn(){let Z,ae;return Z=de,ae=e.substr(de,6),ae.toLowerCase()===X?de+=6:(ae=n,He===0&&ze(Lo)),ae!==n&&(rn=Z,ae=Vc()),Z=ae,Z===n&&(Z=de,ae=e.substr(de,6),ae.toLowerCase()===he?de+=6:(ae=n,He===0&&ze($n)),ae!==n&&(rn=Z,ae=xr()),Z=ae,Z===n&&(Z=de,ae=e.substr(de,5),ae.toLowerCase()===pe?de+=5:(ae=n,He===0&&ze(Jr)),ae!==n&&(rn=Z,ae=td()),Z=ae,Z===n&&(Z=de,ae=e.substr(de,8),ae.toLowerCase()===ge?de+=8:(ae=n,He===0&&ze(wo)),ae!==n&&(rn=Z,ae=$c()),Z=ae,Z===n&&(Z=de,ae=e.substr(de,7),ae.toLowerCase()===ce?de+=7:(ae=n,He===0&&ze(Qo)),ae!==n&&(rn=Z,ae=nd()),Z=ae)))),Z}function wr(){let Z,ae;return Z=de,ae=e.substr(de,5),ae.toLowerCase()===be?de+=5:(ae=n,He===0&&ze(Ba)),ae!==n&&(rn=Z,ae=ns()),Z=ae,Z===n&&(Z=de,ae=e.substr(de,6),ae.toLowerCase()===Ne?de+=6:(ae=n,He===0&&ze(Fa)),ae!==n&&(rn=Z,ae=zc()),Z=ae,Z===n&&(Z=de,ae=e.substr(de,9),ae.toLowerCase()===_e?de+=9:(ae=n,He===0&&ze($i)),ae!==n&&(rn=Z,ae=rd()),Z=ae)),Z}function Pr(){let Z,ae,Me;if(He++,Z=de,ae=[],Me=e.charAt(de),Fe.test(Me)?de++:(Me=n,He===0&&ze(Wn)),Me!==n)for(;Me!==n;)ae.push(Me),Me=e.charAt(de),Fe.test(Me)?de++:(Me=n,He===0&&ze(Wn));else ae=n;return ae!==n?Z=e.substring(Z,de):Z=ae,He--,Z===n&&(ae=n,He===0&&ze(zt)),Z}function rs(){let Z;return He++,Z=Pr(),He--,Z===n&&He===0&&ze(Ms),Z}function xl(){let Z,ae;if(Z=[],ae=e.charAt(de),ft.test(ae)?de++:(ae=n,He===0&&ze(Jo)),ae!==n)for(;ae!==n;)Z.push(ae),ae=e.charAt(de),ft.test(ae)?de++:(ae=n,He===0&&ze(Jo));else Z=n;return Z}function Wc(){let Z,ae,Me;return Z=de,e.charCodeAt(de)===46?(ae=me,de++):(ae=n,He===0&&ze(Qs)),ae!==n?(Me=xl(),Me!==n?(ae=[ae,Me],Z=ae):(de=Z,Z=n)):(de=Z,Z=n),Z}function AS(){let Z,ae,Me,ke;return Z=de,ae=e.charAt(de),Ue.test(ae)?de++:(ae=n,He===0&&ze(ja)),ae!==n?(Me=e.charAt(de),Ft.test(Me)?de++:(Me=n,He===0&&ze(Js)),Me===n&&(Me=null),ke=xl(),ke!==n?(ae=[ae,Me,ke],Z=ae):(de=Z,Z=n)):(de=Z,Z=n),Z}function LS(){let Z,ae,Me,ke,Ze,rt;return He++,Z=de,ae=de,Me=de,ke=xl(),ke!==n?(Ze=Wc(),Ze===n&&(Ze=null),rt=AS(),rt===n&&(rt=null),ke=[ke,Ze,rt],Me=ke):(de=Me,Me=n),Me!==n?ae=e.substring(ae,de):ae=Me,ae!==n&&(rn=Z,ae=uc(ae)),Z=ae,He--,Z===n&&(ae=n,He===0&&ze(Yu)),Z}function NS(){let Z,ae,Me,ke,Ze;if(He++,Z=de,e.charCodeAt(de)===35?(ae=ye,de++):(ae=n,He===0&&ze(Os)),ae!==n){for(Me=de,ke=[],Ze=e.charAt(de),ft.test(Ze)?de++:(Ze=n,He===0&&ze(Jo));Ze!==n;)ke.push(Ze),Ze=e.charAt(de),ft.test(Ze)?de++:(Ze=n,He===0&&ze(Jo));Me=e.substring(Me,de),rn=Z,Z=io(Me)}else de=Z,Z=n;return He--,Z===n&&(ae=n,He===0&&ze(So)),Z}function EI(){let Z,ae,Me,ke,Ze,rt;if(Z=de,ae=de,e.charCodeAt(de)===39?(Me=xe,de++):(Me=n,He===0&&ze(ic)),Me!==n){for(ke=de,Ze=[],rt=e.charAt(de),Ct.test(rt)?de++:(rt=n,He===0&&ze(oc));rt!==n;)Ze.push(rt),rt=e.charAt(de),Ct.test(rt)?de++:(rt=n,He===0&&ze(oc));ke=e.substring(ke,de),e.charCodeAt(de)===39?(Ze=xe,de++):(Ze=n,He===0&&ze(ic)),Ze!==n?(Me=[Me,ke,Ze],ae=Me):(de=ae,ae=n)}else de=ae,ae=n;if(ae===n)if(ae=de,e.charCodeAt(de)===34?(Me=Ie,de++):(Me=n,He===0&&ze(ds)),Me!==n){for(ke=de,Ze=[],rt=e.charAt(de),Rt.test(rt)?de++:(rt=n,He===0&&ze(sc));rt!==n;)Ze.push(rt),rt=e.charAt(de),Rt.test(rt)?de++:(rt=n,He===0&&ze(sc));ke=e.substring(ke,de),e.charCodeAt(de)===34?(Ze=Ie,de++):(Ze=n,He===0&&ze(ds)),Ze!==n?(Me=[Me,ke,Ze],ae=Me):(de=ae,ae=n)}else de=ae,ae=n;return ae!==n&&(rn=Z,ae=Li(ae)),Z=ae,Z}function Qt(){let Z;return He++,Z=e.charAt(de),Ke.test(Z)?de++:(Z=n,He===0&&ze(cr)),He--,Z===n&&He===0&&ze(ac),Z}function BS(){let Z;return He++,Z=e.charAt(de),$t.test(Z)?de++:(Z=n,He===0&&ze(Va)),He--,Z===n&&He===0&&ze(Xu),Z}function oo(){let Z,ae;for(He++,Z=[],ae=e.charAt(de),yt.test(ae)?de++:(ae=n,He===0&&ze(li));ae!==n;)Z.push(ae),ae=e.charAt(de),yt.test(ae)?de++:(ae=n,He===0&&ze(li));return He--,Z}Ga=o();const pp=Ga!==n&&de===e.length;function gp(){throw Ga!==n&&de<e.length&&ze(Wa()),vn(Rr,Uo<e.length?Uc(Uo):null,Uo<e.length?gt(Uo,Uo+1):gt(Uo,Uo))}if(t.peg$library)return{peg$result:Ga,peg$currPos:de,peg$FAILED:n,peg$maxFailExpected:Rr,peg$maxFailPos:Uo,peg$success:pp,peg$throw:pp?void 0:gp};if(pp)return Ga;gp()}const J0="'",eC='"';function M9(e){let t="",n=null;for(let r=0;r<e.length;++r){const i=e[r];if(i===J0&&n!==eC?n=n?null:J0:i===eC&&n!==J0&&(n=n?null:eC),n){t+=i;continue}if(i==="/"){const o=e[r+1];if(o==="*"){for(r+=2,t+="  ";r<e.length&&(e[r]!=="*"||e[r+1]!=="/");)++r,t+=e[r]===`
`?`
`:" ";t+=" ",++r;continue}if(o==="/"){for(++r,t+=" ";r<e.length&&e[++r]!==`
`;)t+=" ";t[t.length-1]!==`
`&&(t+=`
`);continue}}if(i==="\r"){e[r+1]===`
`&&(++r,t+=" "),t[t.length-1]!==`
`&&(t+=`
`);continue}t+=i}return t[t.length-1]===`
`?t:t+`
`}class ay extends Error{constructor(t){super(t.join(`
`)),this.errors=t}format(t=`
`){return this.errors.join(t)}}function O9(e,t){let n;try{n=T9(e)}catch(r){if(!(r instanceof Error))throw r;const i=r.location.start,o=`Строка ${i.line} столбец ${i.column}: ${r.message}`;throw new ay([o])}try{return E9(n,t)}catch(r){throw r instanceof Error?new ay([r.message]):r}}function R9(e,t){let n;try{n=M9(e)}catch(r){throw r instanceof Error?new ay([r.message]):r}return O9(n,t)}const I9={[kt.FLOAT]:"F",[kt.STRING]:"S",[kt.HANDLE]:"H",[kt.COLORREF]:"C",[mc.FLOAT_REF]:"G",[mc.STRING_REF]:"T",[mc.HANDLE_REF]:"I",[mc.COLORREF_REF]:"D"};function k9(e){return e.map(t=>I9[t]).join("")}const tC=[],P9=function*(){}.constructor;class jP{constructor(){this.m=new Map}addFunc(t,n){const r=n.a||tC,i=n.rest||tC,o=r.concat(i),s=t.toUpperCase();let l=this.m.get(s);if(!l)this.m.set(s,l=[]);else{const u=Ml-1;if(l.some(h=>{const p=h.argTypes.concat(h.type==="plugin"?h.restArgsTypes:tC);return p.length===o.length&&p.every((g,m)=>(g&u)===(o[m]&u))}))throw Error(`Функция '${t}' с аргументами '${r}' уже существует`)}const c="$"+t+(r.length?"$"+k9(o):"");return l.push({type:"plugin",kind:n.kind||"sync",path:c,argTypes:r,restArgsTypes:i,retType:n.r||null}),c}addUserFunc(t){const n=t.name.toUpperCase(),r=this.m.get(n);if(!r)return this.m.set(n,[t]),!0;const i=Ml-1;return r.some(o=>o.argTypes.length===t.argTypes.length&&o.argTypes.every((s,l)=>(s&i)===t.argTypes[l]))?!1:(r.push(t),!0)}transpile(t,n,r){return R9(t,{funcTable:this.m,sourceURL:n,comment:r})}compile(t){return new Function("g","schema","memory",t)}compileGenerator(t){return new P9("g","schema","memory",t)}}const D9=[{atlas:"default.dbm",width:224,height:928},{atlas:"animals.dbm",width:224,height:736},{atlas:"art.dbm",width:416,height:256},{atlas:"be_icons.dbm",width:160,height:1504},{atlas:"diamonds.dbm",width:256,height:544},{atlas:"folders.dbm",width:416,height:352},{atlas:"folders2.dbm",width:192,height:1376},{atlas:"hardware.dbm",width:64,height:2656},{atlas:"mask.bmp",width:64,height:64},{atlas:"people.dbm",width:416,height:576},{atlas:"recycle.dbm",width:32,height:3296},{atlas:"science.dbm",width:128,height:608},{atlas:"signs.dbm",width:96,height:1504},{atlas:"system.dbm",width:64,height:736},{atlas:"varpoint.bmp",width:32,height:128},{atlas:"varpoint.dbm",width:160,height:32},{atlas:"windows.dbm",width:512,height:384},{atlas:"_default.bmp",width:96,height:96}];function Xp(e){const t=D9.find(n=>n.atlas===e);return t?{...t,src:"icon:"+t.atlas}:null}const nC=Xp("default.dbm"),rC=Xp("varpoint.dbm");function iC(e,t){const n=e.width/32,r=t%n*32,i=Math.floor(t/n)*32;return{x:r,y:i}}function A9(e,t,n){const r=e.width/32;return t/32+n/32*r}const L9=["gray","blue","navy","gray","#b5b5b5","white","black","black","black","white","gray","gray","gray","navy","white","#b5b5b5","gray","gray","black","gray","white"],ef=1<<24,Zp=2<<24,VP=4<<24;function N9(e){const t=parseInt(e);if(!isNaN(t))return t;const n=e.toLowerCase().trim();if(n.startsWith("rgb")){const r=n.split("(")[1].split(")")[0].split(",").map(i=>parseInt(i));return r[0]|r[1]<<8|r[2]<<16}return n.startsWith("transparent")?ef:n.startsWith("syscolor")?Zp|parseInt(n.split("(")[1].split(")")[0]):0}function Nd(e){if(e&ef)return null;const t=e&255;if(e&Zp)return L9[t]||"black";const n=e>>8&255,r=e>>16&255;return e&VP?`rgba(${t},${n},${r}, 0.5)`:`rgb(${t},${n},${r})`}function nl(e,t,n,r){const i=r==="transparent"?ef:r==="syscolor"?Zp:r==="editor"?VP:0;return e&255|(t&255)<<8|(n&255)<<16|i}function $P(e){return e&255}function zP(e){return e>>8&255}function UP(e){return e>>16&255}function B9(e){if(e&ef)return"Transparent";const t=e&255;if(e&Zp)return`SysColor(${t})`;const n=e>>8&255,r=e>>16&255;return`rgb(${t},${n},${r})`}function oC(e){if(e&ef)return"#ffffff";const t=(e&255).toString(16);if(e&Zp)return"#000000";const n=(e>>8&255).toString(16),r=(e>>16&255).toString(16);return`#${t.length>1?t:`0${t}`}${n.length>1?n:`0${n}`}${r.length>1?r:`0${r}`}`}function sC(e){const t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return nl(t,n,r)}const Il=1,la=4,Qp=8,vc=8192;function Bd(e){return e>>8&31}function aC(e){return e<<8}const ly=1,HP=2,GP=4,Jp=8;function WP(e,t){switch(e){case kt.FLOAT:return Yq(t).toString();case kt.STRING:return t;case kt.HANDLE:return"#"+t;case kt.COLORREF:return B9(t)}}function eg(e,t){switch(e){case kt.FLOAT:{const n=parseFloat(t.replace(",","."));if(!isNaN(n))return n;const r=lt[t.toUpperCase()];return typeof r=="number"?r:null}case kt.HANDLE:return F9(t);case kt.STRING:return t;case kt.COLORREF:return N9(t)}}function F9(e){return(e.startsWith("#")?parseInt(e.slice(1)):parseInt(e))||0}const k=kt.FLOAT,fe=kt.STRING,P=kt.HANDLE,Dn=kt.COLORREF,ot=mc.FLOAT_REF,To=mc.STRING_REF,j9=mc.HANDLE_REF;mc.COLORREF_REF;const V9=.752812499999996,$9=1.3283520132835271,z9=Date.now()-48151623,KP=13.204656862745098;function qP(e){const t=e.file()?.base64;return t?zp(Xv(t)):""}function U9(){}class H9{constructor(t,n){this.key=t,this.fields=n??[]}insert(t){if(t==="FLOAT")return this.fields.push({type:t,value:0}),1;if(t==="HANDLE")return this.fields.push({type:t,value:0}),1;if(t==="STRING")return this.fields.push({type:t,value:""}),1;throw Error(`Неизвестный тип элемента: ${t}`)}insertClass(t,n){const r=n.map(i=>{const o=i[0].toUpperCase();switch(i[1]){case kt.FLOAT:return[o,{type:"FLOAT",value:0}];case kt.STRING:return[o,{type:"STRING",value:""}];default:return[o,{type:"HANDLE",value:0}]}});return this.fields.push({type:"STRUCT",realType:t,value:new Map(r)}),1}set(t,n,r){if(t<0||t>this.fields.length-1)return;let i=this.fields[t];if(i.type==="STRUCT"){const o=i.value.get(n.toUpperCase());if(!o)return;i=o}if(typeof r=="string"){if(i.type!=="STRING")return;i.value=r}else{if(i.type==="STRING")return;i.value=r}}remove(t){return this.fields.splice(t,1).length?1:0}count(){return this.fields.length}type(t){if(t<0||t>this.fields.length-1)return"";const n=this.fields[t];return n.type==="STRUCT"?n.realType:n.type}getFloat(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const i=r.value.get(n.toUpperCase());if(!i)return 0;r=i}return r.type==="FLOAT"?r.value:0}getHandle(t,n){if(t<0||t>this.fields.length-1)return 0;let r=this.fields[t];if(r.type==="STRUCT"){const i=r.value.get(n.toUpperCase());if(!i)return 0;r=i}return r.type==="HANDLE"?r.value:0}getString(t,n){if(t<0||t>this.fields.length-1)return"";let r=this.fields[t];if(r.type==="STRUCT"){const i=r.value.get(n.toUpperCase());if(!i)return"";r=i}return r.type==="STRING"?r.value:""}sort(t){if(!t?.length)return this.fields.sort((n,r)=>n.value-r.value),1;if(t.length===1)return t[0].desc?this.fields.sort((n,r)=>r.value-n.value):this.fields.sort((n,r)=>n.value-r.value),1;throw console.log(t),Error("VSort: сортировка по нескольким полям не реализована")}}function G9(e,t){const n=ps.freeKey(e),r=new H9(n,t);return e.set(n,r),r}function W9(){return this.kernel.createArray().key}function K9(e){this.kernel.arrays.delete(e)}function q9(e){return this.kernel.arrays.get(e)?.count()??0}function Y9(e,t){return this.kernel.arrays.get(e)?.type(t)??""}function X9(e,t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=t.toUpperCase();if(r==="STRING"||r==="FLOAT"||r==="HANDLE")return n.insert(r);const i=this.kernel.classes.get(t);if(!i)return 0;const o=i.vars.list.map(s=>[s.name,s.type]);return n.insertClass(i.name,o)}function Z9(e,t){return this.kernel.arrays.get(e)?.remove(t)??0}function Q9(){return this.kernel.arrays.clear(),1}function J9(e,t,n){return this.kernel.arrays.get(e)?.getString(Math.floor(t),n)??""}function e8(e,t,n){return this.kernel.arrays.get(e)?.getHandle(Math.floor(t),n)??0}function t8(e,t,n){return this.kernel.arrays.get(e)?.getFloat(Math.floor(t),n)??0}function lC(e,t,n,r){this.kernel.arrays.get(e)?.set(t,n,r)}function n8(e,...t){const n=this.kernel.arrays.get(e);return n?n.sort(t.map(r=>({desc:!1,field:r}))):0}function r8(e,t,...n){const r=this.kernel.arrays.get(e);if(!r)return 0;const i=!!t;return r.sort(n.map(o=>({desc:i,field:o})))}function i8(e,...t){const n=this.kernel.arrays.get(e);if(!n)return 0;const r=[];for(let i=0;i<t.length;i+=2){const o=t[i],s=!!t[i+1];r.push({desc:s,field:o})}return n.sort(r)}function o8(e){e("New",{r:P},W9),e("Delete",{a:[P]},K9),e("VGetCount",{a:[P],r:k},q9),e("VGetType",{a:[P,k],r:fe},Y9),e("VInsert",{a:[P,fe],r:k},X9),e("VDelete",{a:[P,k],r:k},Z9),e("VClearAll",{},Q9),e("VGetS",{a:[P,k,fe],r:fe},J9),e("VGetH",{a:[P,k,fe],r:P},e8),e("VGetF",{a:[P,k,fe],r:k},t8),e("VSet",{a:[P,k,fe,k]},lC),e("VSet",{a:[P,k,fe,fe]},lC),e("VSet",{a:[P,k,fe,P]},lC),e("VSort",{a:[P],rest:[fe],r:k},n8),e("VSort",{a:[P,k],rest:[fe],r:k},r8),e("VSort",{a:[P],rest:[fe,k],r:k},i8)}const s8={name:"arrays",register:o8,setup(e){const t=new Map;e.arrays=t,e.createArray=G9.bind(null,t)}},YP=new Set;function Ns(...e){YP.size!==YP.add(e[0]).size&&console.warn(...e)}function a8(e){throw Ns("AudioGetBalance",e),Error("Not implemented")}function l8(e){throw Ns("AudioGetLength",e),Error("Not implemented")}function c8(e){throw Ns("AudioGetPosition",e),Error("Not implemented")}function u8(e){throw Ns("AudioGetRepeat",e),Error("Not implemented")}function d8(e){throw Ns("AudioGetTone",e),Error("Not implemented")}function h8(e){throw Ns("AudioGetVolume",e),Error("Not implemented")}function f8(e){const t=this.kernel.audios.get(e);return t&&!t.paused?1:0}function p8(e){throw Ns("AudioIsSeekable",e),Error("Not implemented")}function g8(e){const t=this.prj.dir.resolve(e).file()?.audio;if(!t)return 0;const n=new Audio(Ls(t.src)),r=ps.freeKey(this.kernel.audios);return this.kernel.audios.set(r,n),r}function m8(e){this.kernel.audios.get(e)?.play()}function v8(e){Ns("AudioReset",e)}function y8(e,t){Ns("AudioSetBalance",e,t)}function b8(e,t){Ns("AudioSetPosition",e,t)}function w8(e,t){Ns("AudioSetRepeat",e,t)}function S8(e,t){Ns("AudioSetTone",e,t)}function C8(e,t){Ns("AudioSetVolume",e,t)}function x8(e){this.kernel.audios.get(e)?.pause()}function _8(e){e("AudioGetBalance",{a:[P],r:k},a8),e("AudioGetLength",{a:[P],r:k},l8),e("AudioGetPosition",{a:[P],r:k},c8),e("AudioGetRepeat",{a:[P],r:k},u8),e("AudioGetTone",{a:[P],r:k},d8),e("AudioGetVolume",{a:[P],r:k},h8),e("AudioIsPlaying",{a:[P],r:k},f8),e("AudioIsSeekable",{a:[P],r:k},p8),e("AudioOpenSound",{a:[fe],r:P},g8),e("AudioPlay",{a:[P]},m8),e("AudioReset",{a:[P]},v8),e("AudioSetBalance",{a:[P,k]},y8),e("AudioSetPosition",{a:[P,k]},b8),e("AudioSetRepeat",{a:[P,k]},w8),e("AudioSetTone",{a:[P,k]},S8),e("AudioSetVolume",{a:[P,k]},C8),e("AudioStop",{a:[P]},x8)}const E8={name:"audio",register:_8,setup(e){e.audios=new Map}};function T8(e){return this.resolve(e)?.klass.name??""}function XP(...e){throw console.warn("createLink",...e),Error("Not implemented")}function M8(...e){throw console.warn("createObject",...e),Error("Not implemented")}function O8(){throw Error("Not implemented")}function R8(...e){throw console.warn("setLinkVars",...e),Error("Not implemented")}function I8(e){return this.kernel.classes.get(e)?.children.length??0}function k8(){return this.ndata?.key??0}function P8(e){return this.resolve(e)?.ndata?.key??0}function D8(e,t){if(t<0)return 0;const n=this.kernel.classes.get(e)?.children;return n&&t<n.length?n[t].key:0}function A8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.klass??""}function L8(e,t,n){return this.kernel.classes.get(e)?.connections.find(({nodes:[r,i]})=>r===t&&i===n||r===n&&i===t)?.key??0}function N8(e,t){const n=this.kernel.classes.get(e)?.modelText;if(!n)return 0;const r=this.kernel.streams.get(t);if(!r)return 0;const i=Up(n);return r.write(i),i.length}function ZP(e,t){const n=this.kernel.classes.get(e);if(!n)return 0;const r=this.kernel.streams.get(t)?.bytes();if(!r)return 0;const i=zp(r),o=n.modelText;n.set({modelText:i});try{n.compile()}catch(s){if(!(s instanceof Error))throw s;return console.warn(s.message),n.set({modelText:o}),0}return 1}function B8(e,t){const n=this.resolve(e);if(!n)return"";const r=n.klass.vars.get(t);return r?n.getVarValueS(r)??"":""}function cC(e,t){const n=this.resolve(e);if(!n)return 0;const r=n.klass.vars.get(t);return r?n.getVarValueFHC(r)??0:0}function cy(e,t,n){const r=this.resolve(e);if(!r)return;const i=r.klass.vars.get(t);i&&r.vars.setValue(i,n)}function QP(e,t,n,r,i,o,s,l,c,u,h,p){const g=this.kernel.classes.get(e)?.vars.list;if(t<0||!g||t>=g.length)return n[r]="",i[o]="",s[l]="",c[u]="",h&&(h[p]=0),0;const m=g[t];return n[r]=m.name,i[o]=kt[m.type],s[l]=m.defaultValue??"",c[u]=m.description??"",h&&(h[p]=m.attrib),1}function F8(e){return this.kernel.classes.get(e)?.vars.list.length??0}function j8(e,t,n){const r=this.kernel.classes.get(e);if(!r)return 0;const i=r.children.findIndex(s=>s.key===t);if(i<0)return 0;const o=r.children.slice();return o[i]={...o[i],name:n},r.set({children:o}),1}function V8(e,t){return this.kernel.classes.get(e)?.children.find(n=>n.key===t)?.name??""}function $8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file();if(!r)return 0;const i=n.getValues();return r.set({stt:i}),1}function z8(e,t){const n=this.resolve(e);if(!n)return 0;const r=this.prj.dir.resolve(t).file()?.stt;return r?(n.applyValues(r),1):0}function U8(e){return this.resolve(e)?.initValues(!0)?1:0}function H8(){this.kernel._functionNotImplemented("Stop",this)}function G8(e){e<=0||this.kernel.closeAll()}function W8(){this.prj.close()}function K8(e){e("GetClassName",{a:[fe],r:fe},T8),e("CreateLink",{a:[fe,P,P],r:P},XP),e("CreateLink",{a:[fe,fe,fe],r:P},XP),e("CreateObject",{a:[fe,fe,fe,k,k],r:P},M8),e("DeleteObject",{a:[fe,P,k],r:k},O8),e("SetLinkVars",{a:[fe,P,fe],r:k},R8),e("GetObjectCount",{a:[fe],r:k},I8),e("GetHObject",{r:P},k8),e("GetHObjectByName",{a:[fe],r:P},P8),e("GetHObjectByNum",{a:[fe,k],r:P},D8),e("GetObjectClass",{a:[fe,P],r:fe},A8),e("GetLink",{a:[fe,P,P],r:P},L8),e("GetModelText",{a:[fe,P],r:k},N8),e("SetModelText",{a:[fe,P],r:k},ZP),e("SetModelText",{a:[fe,P,k],r:k},ZP),e("GetVarS",{a:[fe,fe],r:fe},B8),e("GetVarF",{a:[fe,fe],r:k},cC),e("GetVarH",{a:[fe,fe],r:P},cC),e("GetVarC",{a:[fe,fe],r:Dn},cC),e("SetVar",{a:[fe,fe,k]},cy),e("SetVar",{a:[fe,fe,fe]},cy),e("SetVar",{a:[fe,fe,P]},cy),e("SetVar",{a:[fe,fe,Dn]},cy),e("GetVarInfo",{a:[fe,k,To,To,To,To],r:k},QP),e("GetVarInfo",{a:[fe,k,To,To,To,To,ot],r:k},QP),e("GetVarCount",{a:[fe],r:k},F8),e("SetObjectName",{a:[fe,P,fe],r:k},j8),e("GetNameByHandle",{a:[fe,P],r:fe},V8),e("SaveObjectState",{a:[fe,fe],r:k},$8),e("LoadObjectState",{a:[fe,fe],r:k},z8),e("SetVarsToDefault",{a:[fe],r:k},U8),e("Stop",{a:[k]},H8),e("Quit",{a:[k]},G8),e("CloseAll",{},W8)}const q8={name:"class",deps:["streams"],register:K8};function Y8(e,t,n,r,i,o,s,l){let c;switch(t.toUpperCase()){case"EDIT":c="Edit";break;case"BUTTON":c="Button";break;case"COMBOBOX":c="ComboBox";break;case"LISTBOX":c="ListBox";break;default:return 0}const u=this.kernel.scenes.get(e);if(!u)return 0;const h=u.scene;let p=i,g=o;const m=u.matrix;if(m){const b=i*m[2]+o*m[5]+m[8];p=(i*m[0]+o*m[3]+m[6])/b,g=(i*m[1]+o*m[4]+m[7])/b}const y=h.input(c,{x:p,y:g,width:s,height:l,value:n,style:r});return h.set({order:h.order.concat(y)}),y.key}function JP(e,t,n,r){const i=this.kernel.scenes.get(e)?.scene.objects.get(t);if(i?.type!=="input")return"";const{value:o}=i;return typeof n>"u"?o:o.slice(n,n+r)}function X8(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="input"&&r.set({value:n})?1:0}function Z8(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);return i?.type==="input"&&i.set({font:r.fonts.get(n)??null})?1:0}function Q8(){return this.kernel._functionNotImplemented("EnableControl2d"),0}function J8(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return;const r=n.objects.get(t);r?.type==="input"&&r.focus()}function e7(){return this.kernel._functionNotImplemented("IsDlgButtonChecked"),0}function t7(){return this.kernel._functionNotImplemented("CheckDlgButton2d"),1}function n7(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="input"&&r.set({style:n})?1:0}function r7(e,t,n){return this.kernel._functionNotImplemented("LBAddString"),0}function i7(e,t,n){return this.kernel._functionNotImplemented("LBGetString"),""}function o7(e,t){return this.kernel._functionNotImplemented("LBClearList"),0}function s7(e,t){return this.kernel._functionNotImplemented("LBGetSelIndex"),0}function a7(e,t,n){return this.kernel._functionNotImplemented("lBSetSelIndex"),0}function l7(e){e("CreateControlObject2d",{a:[P,fe,fe,k,k,k,k,k,k],r:P},Y8),e("GetControlText2d",{a:[P,P],r:fe},JP),e("GetControlText2d",{a:[P,P,k,k],r:fe},JP),e("SetControlText2d",{a:[P,P,fe],r:k},X8),e("SetControlFont2d",{a:[P,P,P],r:k},Z8),e("EnableControl2d",{a:[P,P,k],r:k},Q8),e("SetControlFocus2d",{a:[P,P]},J8),e("IsDlgButtonChecked2d",{a:[P,P],r:k},e7),e("CheckDlgButton2d",{a:[P,P,k],r:k},t7),e("SetControlStyle2d",{a:[P,P,k],r:k},n7),e("LBAddString",{a:[P,P,fe],r:k},r7),e("LBGetString",{a:[P,P,k],r:fe},i7),e("LBClearList",{a:[P,P],r:k},o7),e("LBGetSelIndex",{a:[P,P],r:k},s7),e("LBSetSelIndex",{a:[P,P,k],r:k},a7)}const c7={name:"controls",deps:["windows"],register:l7},uy=kd;uy.hideVideoControls=!1;const tg=["Arial","Verdana","Tahoma","Times New Roman","Georgia","Courier New","cursive"];class u7{constructor(t){if(this.pens=new Set,this.brushes=new Set,this.images=new Set,this.imagesOpaque=new Set,this.strings=new Set,this.fonts=new Set,this.texts=new Set,t)if(t.type==="group")for(const n of ng(t))n.type!=="group"&&this.add(n);else this.add(t)}add(t){switch(t.type){case"line":t.pen&&this.pens.add(t.pen),t.brush&&(this.add(t.brush),this.brushes.add(t.brush));break;case"imageView":(t.opaque?this.imagesOpaque:this.images).add(t.image);break;case"textView":this.add(t.text),this.texts.add(t.text);break;case"input":t.font&&this.fonts.add(t.font);break;case"brush":t.image&&this.imagesOpaque.add(t.image);break;case"text":t.parts.forEach(n=>{this.strings.add(n.string),this.fonts.add(n.font)});break;case"scene":t.background&&(this.add(t.background),this.brushes.add(t.background));break}return this}}function*ng(e,t){e.type==="group"&&(yield*e.descendants(t)),yield e}function*d7(e,t){for(const n of e)n.type==="group"&&(yield*n.descendants(t)),yield n}function h7(e){if(e.type!=="group")return{objects:[e.toJSON()],order:[e.key]};const t=Array.from(ng(e,!0),n=>n.toJSON());return{objects:t,order:is(e.scene.order,n=>t.some(r=>r.key===n.key)&&n.key)}}function dy(e,t){const n=[],r=new u7,i=new WeakSet;let o=null;const s=Symbol.iterator in e?d7(e,!0):ng(e,!0);for(const l of s)o=l.scene,n.push(l.toJSON()),l.type!=="group"&&(r.add(l),i.add(l));return{pens:Array.from(r.pens,l=>l.toJSON()),brushes:Array.from(r.brushes,l=>l.toJSON()),images:Array.from(r.images,l=>l.toJSON()),imagesOpaque:Array.from(r.imagesOpaque,l=>l.toJSON()),strings:Array.from(r.strings,l=>l.toJSON()),fonts:Array.from(r.fonts,l=>l.toJSON()),texts:Array.from(r.texts,l=>l.toJSON()),objects:n,order:o&&!t?is(o.order,l=>i.has(l)&&l.key):[]}}function uC(e){return Wp(e.values(),t=>!t.parent)}function tf(e,t,n){const{objects:r}=e.merge(t,n),i=uC(r);return i.length>1?e.group(i,{key:n==="unused"?-1:0}):i[0]}const f7={x:0,y:0,w:0,h:0};function hy(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)o.x<t&&(t=o.x),o.y<n&&(n=o.y),o.x+o.width>r&&(r=o.x+o.width),o.y+o.height>i&&(i=o.y+o.height);return t===1/0?f7:{x:t,y:n,w:r-t,h:i-n}}function p7(e){e.pens.forEach(t=>t.delete()),e.brushes.forEach(t=>t.delete()),e.images.forEach(t=>t.delete()),e.imagesOpaque.forEach(t=>t.delete()),e.texts.forEach(t=>t.delete()),e.strings.forEach(t=>t.delete()),e.fonts.forEach(t=>t.delete())}const Ri=uy;Ri.root=document.body,Ri.isMobile=!1,Ri.logMessage=!1;var dC={exports:{}};const eD=Iq(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var tD;function g7(){return tD||(tD=1,(function(e,t){var n=void 0,r=function(i){return n||(n=new Promise(function(o,s){var l=typeof i<"u"?i:{},c=l.onAbort;l.onAbort=function(B){s(new Error(B)),c&&c(B)},l.postRun=l.postRun||[],l.postRun.push(function(){o(l)}),e=void 0;var u;u||=typeof l<"u"?l:{};var h=typeof window=="object",p=typeof WorkerGlobalScope<"u",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";u.onRuntimeInitialized=function(){function B($e,gt){switch(typeof gt){case"boolean":Uc($e,gt?1:0);break;case"number":Rr($e,gt);break;case"string":Ga($e,gt,-1,-1);break;case"object":if(gt===null)He($e);else if(gt.length!=null){var ze=li(gt,Va);Co($e,ze,gt.length,-1),Yi(ze)}else En($e,"Wrong API use : tried to return a value of an unknown type ("+gt+").",-1);break;default:He($e)}}function G($e,gt){for(var ze=[],vn=0;vn<$e;vn+=1){var On=xe(gt+4*vn,"i32"),Cn=Li(On);if(Cn===1||Cn===2)On=Uo(On);else if(Cn===3)On=rn(On);else if(Cn===4){Cn=On,On=de(Cn),Cn=Ha(Cn);for(var Ti=new Uint8Array(On),zi=0;zi<On;zi+=1)Ti[zi]=A[Cn+zi];On=Ti}else On=null;ze.push(On)}return ze}function re($e,gt){this.Qa=$e,this.db=gt,this.Oa=1,this.lb=[]}function ue($e,gt){if(this.db=gt,gt=jt($e)+1,this.eb=ts(gt),this.eb===null)throw Error("Unable to allocate memory for the SQL string");pn($e,$,this.eb,gt),this.kb=this.eb,this.Za=this.pb=null}function Se($e){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),$e!=null){var gt=this.filename,ze="/",vn=gt;if(ze&&(ze=typeof ze=="string"?ze:Gn(ze),vn=gt?Ft(ze+"/"+gt):ze),gt=mt(!0,!0),vn=wt(vn,gt),$e){if(typeof $e=="string"){ze=Array($e.length);for(var On=0,Cn=$e.length;On<Cn;++On)ze[On]=$e.charCodeAt(On);$e=ze}to(vn,gt|146),ze=$n(vn,577),Ba(ze,$e,0,$e.length,0),Jr(ze),to(vn,gt)}}this.handleError(an(this.filename,Ve)),this.db=xe(Ve,"i32"),Wa(this.db),this.fb={},this.Sa={}}var Ve=Ai(4),it=u.cwrap,an=it("sqlite3_open","number",["string","number"]),bn=it("sqlite3_close_v2","number",["number"]),In=it("sqlite3_exec","number",["number","string","number","number","number"]),Or=it("sqlite3_changes","number",["number"]),pi=it("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Zu=it("sqlite3_sql","string",["number"]),jc=it("sqlite3_normalized_sql","string",["number"]),za=it("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Sl=it("sqlite3_bind_text","number",["number","number","number","number","number"]),Ua=it("sqlite3_bind_blob","number",["number","number","number","number","number"]),Qu=it("sqlite3_bind_double","number",["number","number","number"]),Ju=it("sqlite3_bind_int","number",["number","number","number"]),Bh=it("sqlite3_bind_parameter_index","number",["number","string"]),Fh=it("sqlite3_step","number",["number"]),Rs=it("sqlite3_errmsg","string",["number"]),cc=it("sqlite3_column_count","number",["number"]),ed=it("sqlite3_data_count","number",["number"]),Vc=it("sqlite3_column_double","number",["number","number"]),xr=it("sqlite3_column_text","string",["number","number"]),td=it("sqlite3_column_blob","number",["number","number"]),$c=it("sqlite3_column_bytes","number",["number","number"]),nd=it("sqlite3_column_type","number",["number","number"]),ns=it("sqlite3_column_name","string",["number","number"]),zc=it("sqlite3_reset","number",["number"]),rd=it("sqlite3_clear_bindings","number",["number"]),uc=it("sqlite3_finalize","number",["number"]),io=it("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Li=it("sqlite3_value_type","number",["number"]),de=it("sqlite3_value_bytes","number",["number"]),rn=it("sqlite3_value_text","string",["number"]),Ha=it("sqlite3_value_blob","number",["number"]),Uo=it("sqlite3_value_double","number",["number"]),Rr=it("sqlite3_result_double","",["number","number"]),He=it("sqlite3_result_null","",["number"]),Ga=it("sqlite3_result_text","",["number","string","number","number"]),Co=it("sqlite3_result_blob","",["number","number","number","number"]),Uc=it("sqlite3_result_int","",["number","number"]),En=it("sqlite3_result_error","",["number","string","number"]),xo=it("sqlite3_aggregate_context","number",["number","number"]),Wa=it("RegisterExtensionFunctions","number",["number"]),Yn=it("sqlite3_update_hook","number",["number","number","number"]);re.prototype.bind=function($e){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray($e)?this.Cb($e):$e!=null&&typeof $e=="object"?this.Db($e):!0},re.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var $e=Fh(this.Qa);switch($e){case 100:return!0;case 101:return!1;default:throw this.db.handleError($e)}},re.prototype.wb=function($e){return $e==null&&($e=this.Oa,this.Oa+=1),Vc(this.Qa,$e)},re.prototype.Gb=function($e){if($e==null&&($e=this.Oa,this.Oa+=1),$e=xr(this.Qa,$e),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt($e)},re.prototype.Hb=function($e){return $e==null&&($e=this.Oa,this.Oa+=1),xr(this.Qa,$e)},re.prototype.getBlob=function($e){$e==null&&($e=this.Oa,this.Oa+=1);var gt=$c(this.Qa,$e);$e=td(this.Qa,$e);for(var ze=new Uint8Array(gt),vn=0;vn<gt;vn+=1)ze[vn]=A[$e+vn];return ze},re.prototype.get=function($e,gt){gt=gt||{},$e!=null&&this.bind($e)&&this.step(),$e=[];for(var ze=ed(this.Qa),vn=0;vn<ze;vn+=1)switch(nd(this.Qa,vn)){case 1:var On=gt.useBigInt?this.Gb(vn):this.wb(vn);$e.push(On);break;case 2:$e.push(this.wb(vn));break;case 3:$e.push(this.Hb(vn));break;case 4:$e.push(this.getBlob(vn));break;default:$e.push(null)}return $e},re.prototype.getColumnNames=function(){for(var $e=[],gt=cc(this.Qa),ze=0;ze<gt;ze+=1)$e.push(ns(this.Qa,ze));return $e},re.prototype.getAsObject=function($e,gt){$e=this.get($e,gt),gt=this.getColumnNames();for(var ze={},vn=0;vn<gt.length;vn+=1)ze[gt[vn]]=$e[vn];return ze},re.prototype.getSQL=function(){return Zu(this.Qa)},re.prototype.getNormalizedSQL=function(){return jc(this.Qa)},re.prototype.run=function($e){return $e!=null&&this.bind($e),this.step(),this.reset()},re.prototype.sb=function($e,gt){gt==null&&(gt=this.Oa,this.Oa+=1),$e=un($e);var ze=li($e,Va);this.lb.push(ze),this.db.handleError(Sl(this.Qa,gt,ze,$e.length-1,0))},re.prototype.Bb=function($e,gt){gt==null&&(gt=this.Oa,this.Oa+=1);var ze=li($e,Va);this.lb.push(ze),this.db.handleError(Ua(this.Qa,gt,ze,$e.length,0))},re.prototype.rb=function($e,gt){gt==null&&(gt=this.Oa,this.Oa+=1),this.db.handleError(($e===($e|0)?Ju:Qu)(this.Qa,gt,$e))},re.prototype.Eb=function($e){$e==null&&($e=this.Oa,this.Oa+=1),Ua(this.Qa,$e,0,0,0)},re.prototype.tb=function($e,gt){switch(gt==null&&(gt=this.Oa,this.Oa+=1),typeof $e){case"string":this.sb($e,gt);return;case"number":this.rb($e,gt);return;case"bigint":this.sb($e.toString(),gt);return;case"boolean":this.rb($e+0,gt);return;case"object":if($e===null){this.Eb(gt);return}if($e.length!=null){this.Bb($e,gt);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+$e+")."},re.prototype.Db=function($e){var gt=this;return Object.keys($e).forEach(function(ze){var vn=Bh(gt.Qa,ze);vn!==0&&gt.tb($e[ze],vn)}),!0},re.prototype.Cb=function($e){for(var gt=0;gt<$e.length;gt+=1)this.tb($e[gt],gt+1);return!0},re.prototype.reset=function(){return this.freemem(),rd(this.Qa)===0&&zc(this.Qa)===0},re.prototype.freemem=function(){for(var $e;($e=this.lb.pop())!==void 0;)Yi($e)},re.prototype.free=function(){this.freemem();var $e=uc(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,$e},ue.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var $e=ar(),gt=Ai(4);Pe(Ve),Pe(gt);try{this.db.handleError(za(this.db.db,this.kb,-1,Ve,gt)),this.kb=xe(gt,"i32");var ze=xe(Ve,"i32");return ze===0?(this.mb(),{done:!0}):(this.Za=new re(ze,this.db),this.db.fb[ze]=this.Za,{value:this.Za,done:!1})}catch(vn){throw this.pb=ft(this.kb),this.mb(),vn}finally{hs($e)}},ue.prototype.mb=function(){Yi(this.eb),this.eb=null},ue.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:ft(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(ue.prototype[Symbol.iterator]=function(){return this}),Se.prototype.run=function($e,gt){if(!this.db)throw"Database closed";if(gt){$e=this.prepare($e,gt);try{$e.step()}finally{$e.free()}}else this.handleError(In(this.db,$e,0,0,Ve));return this},Se.prototype.exec=function($e,gt,ze){if(!this.db)throw"Database closed";var vn=ar(),On=null;try{var Cn=cr($e),Ti=Ai(4);for($e=[];xe(Cn,"i8")!==0;){Pe(Ve),Pe(Ti),this.handleError(za(this.db,Cn,-1,Ve,Ti));var zi=xe(Ve,"i32");if(Cn=xe(Ti,"i32"),zi!==0){var Mi=null;for(On=new re(zi,this),gt!=null&&On.bind(gt);On.step();)Mi===null&&(Mi={columns:On.getColumnNames(),values:[]},$e.push(Mi)),Mi.values.push(On.get(null,ze));On.free()}}return $e}catch(Xi){throw On&&On.free(),Xi}finally{hs(vn)}},Se.prototype.each=function($e,gt,ze,vn,On){typeof gt=="function"&&(vn=ze,ze=gt,gt=void 0),$e=this.prepare($e,gt);try{for(;$e.step();)ze($e.getAsObject(null,On))}finally{$e.free()}if(typeof vn=="function")return vn()},Se.prototype.prepare=function($e,gt){if(Pe(Ve),this.handleError(pi(this.db,$e,-1,Ve,0)),$e=xe(Ve,"i32"),$e===0)throw"Nothing to prepare";var ze=new re($e,this);return gt!=null&&ze.bind(gt),this.fb[$e]=ze},Se.prototype.iterateStatements=function($e){return new ue($e,this)},Se.prototype.export=function(){Object.values(this.fb).forEach(function(gt){gt.free()}),Object.values(this.Sa).forEach(no),this.Sa={},this.handleError(bn(this.db));var $e=Fa(this.filename);return this.handleError(an(this.filename,Ve)),this.db=xe(Ve,"i32"),Wa(this.db),$e},Se.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function($e){$e.free()}),Object.values(this.Sa).forEach(no),this.Sa={},this.Ya&&(no(this.Ya),this.Ya=void 0),this.handleError(bn(this.db)),zn("/"+this.filename),this.db=null)},Se.prototype.handleError=function($e){if($e===0)return null;throw $e=Rs(this.db),Error($e)},Se.prototype.getRowsModified=function(){return Or(this.db)},Se.prototype.create_function=function($e,gt){Object.prototype.hasOwnProperty.call(this.Sa,$e)&&(no(this.Sa[$e]),delete this.Sa[$e]);var ze=ro(function(vn,On,Cn){On=G(On,Cn);try{var Ti=gt.apply(null,On)}catch(zi){En(vn,zi,-1);return}B(vn,Ti)},"viii");return this.Sa[$e]=ze,this.handleError(io(this.db,$e,gt.length,1,0,ze,0,0,0)),this},Se.prototype.create_aggregate=function($e,gt){var ze=gt.init||function(){return null},vn=gt.finalize||function(Mi){return Mi},On=gt.step;if(!On)throw"An aggregate function must have a step function in "+$e;var Cn={};Object.hasOwnProperty.call(this.Sa,$e)&&(no(this.Sa[$e]),delete this.Sa[$e]),gt=$e+"__finalize",Object.hasOwnProperty.call(this.Sa,gt)&&(no(this.Sa[gt]),delete this.Sa[gt]);var Ti=ro(function(Mi,Xi,Cl){var _o=xo(Mi,1);Object.hasOwnProperty.call(Cn,_o)||(Cn[_o]=ze()),Xi=G(Xi,Cl),Xi=[Cn[_o]].concat(Xi);try{Cn[_o]=On.apply(null,Xi)}catch(Zi){delete Cn[_o],En(Mi,Zi,-1)}},"viii"),zi=ro(function(Mi){var Xi=xo(Mi,1);try{var Cl=vn(Cn[Xi])}catch(_o){delete Cn[Xi],En(Mi,_o,-1);return}B(Mi,Cl),delete Cn[Xi]},"vi");return this.Sa[$e]=Ti,this.Sa[gt]=zi,this.handleError(io(this.db,$e,On.length-1,1,0,0,Ti,zi,0)),this},Se.prototype.updateHook=function($e){this.Ya&&(Yn(this.db,0,0),no(this.Ya),this.Ya=void 0),$e&&(this.Ya=ro(function(gt,ze,vn,On,Cn){switch(ze){case 18:gt="insert";break;case 23:gt="update";break;case 9:gt="delete";break;default:throw"unknown operationCode in updateHook callback: "+ze}if(vn=vn?Fe($,vn):"",On=On?Fe($,On):"",Cn>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";$e(gt,vn,On,Number(Cn))},"viiiij"),Yn(this.db,this.Ya,0))},u.Database=Se};var m={...u},y="./this.program",b=(B,G)=>{throw G},v="",S,E;if(g){var T=eD;v=__dirname+"/",E=B=>(B=te(B)?new URL(B):B,T.readFileSync(B)),S=async B=>(B=te(B)?new URL(B):B,T.readFileSync(B,void 0)),!u.thisProgram&&1<process.argv.length&&(y=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=u,b=(B,G)=>{throw process.exitCode=B,G}}else(h||p)&&(p?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),v=v.startsWith("blob:")?"":v.slice(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),p&&(E=B=>{var G=new XMLHttpRequest;return G.open("GET",B,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}),S=async B=>{if(te(B))return new Promise((re,ue)=>{var Se=new XMLHttpRequest;Se.open("GET",B,!0),Se.responseType="arraybuffer",Se.onload=()=>{Se.status==200||Se.status==0&&Se.response?re(Se.response):ue(Se.status)},Se.onerror=ue,Se.send(null)});var G=await fetch(B,{credentials:"same-origin"});if(G.ok)return G.arrayBuffer();throw Error(G.status+" : "+G.url)});var O=u.print||console.log.bind(console),M=u.printErr||console.error.bind(console);Object.assign(u,m),m=null,u.thisProgram&&(y=u.thisProgram);var I=u.wasmBinary,N,D=!1,L,A,$,j,U,K,q,z,Y,te=B=>B.startsWith("file://");function ie(){var B=N.buffer;u.HEAP8=A=new Int8Array(B),u.HEAP16=j=new Int16Array(B),u.HEAPU8=$=new Uint8Array(B),u.HEAPU16=new Uint16Array(B),u.HEAP32=U=new Int32Array(B),u.HEAPU32=K=new Uint32Array(B),u.HEAPF32=q=new Float32Array(B),u.HEAPF64=Y=new Float64Array(B),u.HEAP64=z=new BigInt64Array(B),u.HEAPU64=new BigUint64Array(B)}var Q=0,H=null;function X(B){throw u.onAbort?.(B),B="Aborted("+B+")",M(B),D=!0,new WebAssembly.RuntimeError(B+". Build with -sASSERTIONS for more info.")}var he;async function pe(B){if(!I)try{var G=await S(B);return new Uint8Array(G)}catch{}if(B==he&&I)B=new Uint8Array(I);else if(E)B=E(B);else throw"both async and sync fetching of the wasm failed";return B}async function ge(B,G){try{var re=await pe(B);return await WebAssembly.instantiate(re,G)}catch(ue){M(`failed to asynchronously prepare wasm: ${ue}`),X(ue)}}async function ce(B){var G=he;if(!I&&typeof WebAssembly.instantiateStreaming=="function"&&!te(G)&&!g)try{var re=fetch(G,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(re,B)}catch(ue){M(`wasm streaming compile failed: ${ue}`),M("falling back to ArrayBuffer instantiation")}return ge(G,B)}class be{name="ExitStatus";constructor(G){this.message=`Program terminated with exit(${G})`,this.status=G}}var Ne=B=>{for(;0<B.length;)B.shift()(u)},_e=[],me=[],ye=()=>{var B=u.preRun.shift();me.unshift(B)};function xe(B,G="i8"){switch(G.endsWith("*")&&(G="*"),G){case"i1":return A[B];case"i8":return A[B];case"i16":return j[B>>1];case"i32":return U[B>>2];case"i64":return z[B>>3];case"float":return q[B>>2];case"double":return Y[B>>3];case"*":return K[B>>2];default:X(`invalid type for getValue: ${G}`)}}var Ie=u.noExitRuntime||!0;function Pe(B){var G="i32";switch(G.endsWith("*")&&(G="*"),G){case"i1":A[B]=0;break;case"i8":A[B]=0;break;case"i16":j[B>>1]=0;break;case"i32":U[B>>2]=0;break;case"i64":z[B>>3]=BigInt(0);break;case"float":q[B>>2]=0;break;case"double":Y[B>>3]=0;break;case"*":K[B>>2]=0;break;default:X(`invalid type for setValue: ${G}`)}}var Re=typeof TextDecoder<"u"?new TextDecoder:void 0,Fe=(B,G=0,re=NaN)=>{var ue=G+re;for(re=G;B[re]&&!(re>=ue);)++re;if(16<re-G&&B.buffer&&Re)return Re.decode(B.subarray(G,re));for(ue="";G<re;){var Se=B[G++];if(Se&128){var Ve=B[G++]&63;if((Se&224)==192)ue+=String.fromCharCode((Se&31)<<6|Ve);else{var it=B[G++]&63;Se=(Se&240)==224?(Se&15)<<12|Ve<<6|it:(Se&7)<<18|Ve<<12|it<<6|B[G++]&63,65536>Se?ue+=String.fromCharCode(Se):(Se-=65536,ue+=String.fromCharCode(55296|Se>>10,56320|Se&1023))}}else ue+=String.fromCharCode(Se)}return ue},ft=(B,G)=>B?Fe($,B,G):"",Ue=(B,G)=>{for(var re=0,ue=B.length-1;0<=ue;ue--){var Se=B[ue];Se==="."?B.splice(ue,1):Se===".."?(B.splice(ue,1),re++):re&&(B.splice(ue,1),re--)}if(G)for(;re;re--)B.unshift("..");return B},Ft=B=>{var G=B.charAt(0)==="/",re=B.slice(-1)==="/";return(B=Ue(B.split("/").filter(ue=>!!ue),!G).join("/"))||G||(B="."),B&&re&&(B+="/"),(G?"/":"")+B},Ct=B=>{var G=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(B).slice(1);return B=G[0],G=G[1],!B&&!G?".":(G&&=G.slice(0,-1),B+G)},Rt=B=>B&&B.match(/([^\/]+|\/)\/*$/)[1],Ke=()=>{if(g){var B=eD;return G=>B.randomFillSync(G)}return G=>crypto.getRandomValues(G)},$t=B=>{($t=Ke())(B)},yt=(...B)=>{for(var G="",re=!1,ue=B.length-1;-1<=ue&&!re;ue--){if(re=0<=ue?B[ue]:"/",typeof re!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!re)return"";G=re+"/"+G,re=re.charAt(0)==="/"}return G=Ue(G.split("/").filter(Se=>!!Se),!re).join("/"),(re?"/":"")+G||"."},zt=[],jt=B=>{for(var G=0,re=0;re<B.length;++re){var ue=B.charCodeAt(re);127>=ue?G++:2047>=ue?G+=2:55296<=ue&&57343>=ue?(G+=4,++re):G+=3}return G},pn=(B,G,re,ue)=>{if(!(0<ue))return 0;var Se=re;ue=re+ue-1;for(var Ve=0;Ve<B.length;++Ve){var it=B.charCodeAt(Ve);if(55296<=it&&57343>=it){var an=B.charCodeAt(++Ve);it=65536+((it&1023)<<10)|an&1023}if(127>=it){if(re>=ue)break;G[re++]=it}else{if(2047>=it){if(re+1>=ue)break;G[re++]=192|it>>6}else{if(65535>=it){if(re+2>=ue)break;G[re++]=224|it>>12}else{if(re+3>=ue)break;G[re++]=240|it>>18,G[re++]=128|it>>12&63}G[re++]=128|it>>6&63}G[re++]=128|it&63}}return G[re]=0,re-Se},un=(B,G)=>{var re=Array(jt(B)+1);return B=pn(B,re,0,re.length),G&&(re.length=B),re},Mt=[];function At(B,G){Mt[B]={input:[],output:[],cb:G},Vn(B,Ye)}var Ye={open(B){var G=Mt[B.node.rdev];if(!G)throw new bt(43);B.tty=G,B.seekable=!1},close(B){B.tty.cb.fsync(B.tty)},fsync(B){B.tty.cb.fsync(B.tty)},read(B,G,re,ue){if(!B.tty||!B.tty.cb.xb)throw new bt(60);for(var Se=0,Ve=0;Ve<ue;Ve++){try{var it=B.tty.cb.xb(B.tty)}catch{throw new bt(29)}if(it===void 0&&Se===0)throw new bt(6);if(it==null)break;Se++,G[re+Ve]=it}return Se&&(B.node.atime=Date.now()),Se},write(B,G,re,ue){if(!B.tty||!B.tty.cb.qb)throw new bt(60);try{for(var Se=0;Se<ue;Se++)B.tty.cb.qb(B.tty,G[re+Se])}catch{throw new bt(29)}return ue&&(B.node.mtime=B.node.ctime=Date.now()),Se}},xt={xb(){e:{if(!zt.length){var B=null;if(g){var G=Buffer.alloc(256),re=0,ue=process.stdin.fd;try{re=T.readSync(ue,G,0,256)}catch(Se){if(Se.toString().includes("EOF"))re=0;else throw Se}0<re&&(B=G.slice(0,re).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(B=window.prompt("Input: "),B!==null&&(B+=`
`));if(!B){B=null;break e}zt=un(B,!0)}B=zt.shift()}return B},qb(B,G){G===null||G===10?(O(Fe(B.output)),B.output=[]):G!=0&&B.output.push(G)},fsync(B){0<B.output?.length&&(O(Fe(B.output)),B.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},St={qb(B,G){G===null||G===10?(M(Fe(B.output)),B.output=[]):G!=0&&B.output.push(G)},fsync(B){0<B.output?.length&&(M(Fe(B.output)),B.output=[])}},nt={Wa:null,Xa(){return nt.createNode(null,"/",16895,0)},createNode(B,G,re,ue){if((re&61440)===24576||(re&61440)===4096)throw new bt(63);return nt.Wa||(nt.Wa={dir:{node:{Ta:nt.La.Ta,Ua:nt.La.Ua,lookup:nt.La.lookup,hb:nt.La.hb,rename:nt.La.rename,unlink:nt.La.unlink,rmdir:nt.La.rmdir,readdir:nt.La.readdir,symlink:nt.La.symlink},stream:{Va:nt.Ma.Va}},file:{node:{Ta:nt.La.Ta,Ua:nt.La.Ua},stream:{Va:nt.Ma.Va,read:nt.Ma.read,write:nt.Ma.write,ib:nt.Ma.ib,jb:nt.Ma.jb}},link:{node:{Ta:nt.La.Ta,Ua:nt.La.Ua,readlink:nt.La.readlink},stream:{}},ub:{node:{Ta:nt.La.Ta,Ua:nt.La.Ua},stream:fi}}),re=Tn(B,G,re,ue),Mn(re.mode)?(re.La=nt.Wa.dir.node,re.Ma=nt.Wa.dir.stream,re.Na={}):(re.mode&61440)===32768?(re.La=nt.Wa.file.node,re.Ma=nt.Wa.file.stream,re.Ra=0,re.Na=null):(re.mode&61440)===40960?(re.La=nt.Wa.link.node,re.Ma=nt.Wa.link.stream):(re.mode&61440)===8192&&(re.La=nt.Wa.ub.node,re.Ma=nt.Wa.ub.stream),re.atime=re.mtime=re.ctime=Date.now(),B&&(B.Na[G]=re,B.atime=B.mtime=B.ctime=re.atime),re},Sb(B){return B.Na?B.Na.subarray?B.Na.subarray(0,B.Ra):new Uint8Array(B.Na):new Uint8Array(0)},La:{Ta(B){var G={};return G.dev=(B.mode&61440)===8192?B.id:1,G.ino=B.id,G.mode=B.mode,G.nlink=1,G.uid=0,G.gid=0,G.rdev=B.rdev,Mn(B.mode)?G.size=4096:(B.mode&61440)===32768?G.size=B.Ra:(B.mode&61440)===40960?G.size=B.link.length:G.size=0,G.atime=new Date(B.atime),G.mtime=new Date(B.mtime),G.ctime=new Date(B.ctime),G.blksize=4096,G.blocks=Math.ceil(G.size/G.blksize),G},Ua(B,G){for(var re of["mode","atime","mtime","ctime"])G[re]!=null&&(B[re]=G[re]);G.size!==void 0&&(G=G.size,B.Ra!=G&&(G==0?(B.Na=null,B.Ra=0):(re=B.Na,B.Na=new Uint8Array(G),re&&B.Na.set(re.subarray(0,Math.min(G,B.Ra))),B.Ra=G)))},lookup(){throw nt.vb},hb(B,G,re,ue){return nt.createNode(B,G,re,ue)},rename(B,G,re){try{var ue=Sn(G,re)}catch{}if(ue){if(Mn(B.mode))for(var Se in ue.Na)throw new bt(55);en(ue)}delete B.parent.Na[B.name],G.Na[re]=B,B.name=re,G.ctime=G.mtime=B.parent.ctime=B.parent.mtime=Date.now()},unlink(B,G){delete B.Na[G],B.ctime=B.mtime=Date.now()},rmdir(B,G){var re=Sn(B,G),ue;for(ue in re.Na)throw new bt(55);delete B.Na[G],B.ctime=B.mtime=Date.now()},readdir(B){return[".","..",...Object.keys(B.Na)]},symlink(B,G,re){return B=nt.createNode(B,G,41471,0),B.link=re,B},readlink(B){if((B.mode&61440)!==40960)throw new bt(28);return B.link}},Ma:{read(B,G,re,ue,Se){var Ve=B.node.Na;if(Se>=B.node.Ra)return 0;if(B=Math.min(B.node.Ra-Se,ue),8<B&&Ve.subarray)G.set(Ve.subarray(Se,Se+B),re);else for(ue=0;ue<B;ue++)G[re+ue]=Ve[Se+ue];return B},write(B,G,re,ue,Se,Ve){if(G.buffer===A.buffer&&(Ve=!1),!ue)return 0;if(B=B.node,B.mtime=B.ctime=Date.now(),G.subarray&&(!B.Na||B.Na.subarray)){if(Ve)return B.Na=G.subarray(re,re+ue),B.Ra=ue;if(B.Ra===0&&Se===0)return B.Na=G.slice(re,re+ue),B.Ra=ue;if(Se+ue<=B.Ra)return B.Na.set(G.subarray(re,re+ue),Se),ue}Ve=Se+ue;var it=B.Na?B.Na.length:0;if(it>=Ve||(Ve=Math.max(Ve,it*(1048576>it?2:1.125)>>>0),it!=0&&(Ve=Math.max(Ve,256)),it=B.Na,B.Na=new Uint8Array(Ve),0<B.Ra&&B.Na.set(it.subarray(0,B.Ra),0)),B.Na.subarray&&G.subarray)B.Na.set(G.subarray(re,re+ue),Se);else for(Ve=0;Ve<ue;Ve++)B.Na[Se+Ve]=G[re+Ve];return B.Ra=Math.max(B.Ra,Se+ue),ue},Va(B,G,re){if(re===1?G+=B.position:re===2&&(B.node.mode&61440)===32768&&(G+=B.node.Ra),0>G)throw new bt(28);return G},ib(B,G,re,ue,Se){if((B.node.mode&61440)!==32768)throw new bt(43);if(B=B.node.Na,Se&2||!B||B.buffer!==A.buffer){Se=!0,ue=65536*Math.ceil(G/65536);var Ve=lc(65536,ue);if(Ve&&$.fill(0,Ve,Ve+ue),ue=Ve,!ue)throw new bt(48);B&&((0<re||re+G<B.length)&&(B.subarray?B=B.subarray(re,re+G):B=Array.prototype.slice.call(B,re,re+G)),A.set(B,ue))}else Se=!1,ue=B.byteOffset;return{Kb:ue,Ab:Se}},jb(B,G,re,ue){return nt.Ma.write(B,G,0,ue,re,!1),0}}},mt=(B,G)=>{var re=0;return B&&(re|=365),G&&(re|=146),re},Pt=null,Et={},Nt=[],nr=1,An=null,Cr=!1,rr=!0,mr={},bt=class{name="ErrnoError";constructor(B){this.Pa=B}},Fr=class{gb={};node=null;get flags(){return this.gb.flags}set flags(B){this.gb.flags=B}get position(){return this.gb.position}set position(B){this.gb.position=B}},ai=class{La={};Ma={};ab=null;constructor(B,G,re,ue){B||=this,this.parent=B,this.Xa=B.Xa,this.id=nr++,this.name=G,this.mode=re,this.rdev=ue,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(B){B?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(B){B?this.mode|=146:this.mode&=-147}};function Jt(B,G={}){if(!B)throw new bt(44);G.nb??(G.nb=!0),B.charAt(0)==="/"||(B="//"+B);var re=0;e:for(;40>re;re++){B=B.split("/").filter(an=>!!an);for(var ue=Pt,Se="/",Ve=0;Ve<B.length;Ve++){var it=Ve===B.length-1;if(it&&G.parent)break;if(B[Ve]!==".")if(B[Ve]==="..")Se=Ct(Se),ue=ue.parent;else{Se=Ft(Se+"/"+B[Ve]);try{ue=Sn(ue,B[Ve])}catch(an){if(an?.Pa===44&&it&&G.Jb)return{path:Se};throw an}if(!ue.ab||it&&!G.nb||(ue=ue.ab.root),(ue.mode&61440)===40960&&(!it||G.$a)){if(!ue.La.readlink)throw new bt(52);ue=ue.La.readlink(ue),ue.charAt(0)==="/"||(ue=Ct(Se)+"/"+ue),B=ue+"/"+B.slice(Ve+1).join("/");continue e}}}return{path:Se,node:ue}}throw new bt(32)}function Gn(B){for(var G;;){if(B===B.parent)return B=B.Xa.zb,G?B[B.length-1]!=="/"?`${B}/${G}`:B+G:B;G=G?`${B.name}/${G}`:B.name,B=B.parent}}function Bt(B,G){for(var re=0,ue=0;ue<G.length;ue++)re=(re<<5)-re+G.charCodeAt(ue)|0;return(B+re>>>0)%An.length}function en(B){var G=Bt(B.parent.id,B.name);if(An[G]===B)An[G]=B.bb;else for(G=An[G];G;){if(G.bb===B){G.bb=B.bb;break}G=G.bb}}function Sn(B,G){var re=Mn(B.mode)?(re=Qr(B,"x"))?re:B.La.lookup?0:2:54;if(re)throw new bt(re);for(re=An[Bt(B.id,G)];re;re=re.bb){var ue=re.name;if(re.parent.id===B.id&&ue===G)return re}return B.La.lookup(B,G)}function Tn(B,G,re,ue){return B=new ai(B,G,re,ue),G=Bt(B.parent.id,B.name),B.bb=An[G],An[G]=B}function Mn(B){return(B&61440)===16384}function hi(B){var G=["r","w","rw"][B&3];return B&512&&(G+="w"),G}function Qr(B,G){if(rr)return 0;if(!G.includes("r")||B.mode&292){if(G.includes("w")&&!(B.mode&146)||G.includes("x")&&!(B.mode&73))return 2}else return 2;return 0}function Vi(B,G){if(!Mn(B.mode))return 54;try{return Sn(B,G),20}catch{}return Qr(B,"wx")}function Ao(B,G,re){try{var ue=Sn(B,G)}catch(Se){return Se.Pa}if(B=Qr(B,"wx"))return B;if(re){if(!Mn(ue.mode))return 54;if(ue===ue.parent||Gn(ue)==="/")return 10}else if(Mn(ue.mode))return 31;return 0}function Mr(B){if(!B)throw new bt(63);return B}function yn(B){if(B=Nt[B],!B)throw new bt(8);return B}function ir(B,G=-1){if(B=Object.assign(new Fr,B),G==-1)e:{for(G=0;4096>=G;G++)if(!Nt[G])break e;throw new bt(33)}return B.fd=G,Nt[G]=B}function Pi(B,G=-1){return B=ir(B,G),B.Ma?.Rb?.(B),B}function zo(B,G,re){var ue=B?.Ma.Ua;B=ue?B:G,ue??=G.La.Ua,Mr(ue),ue(B,re)}var fi={open(B){B.Ma=Et[B.node.rdev].Ma,B.Ma.open?.(B)},Va(){throw new bt(70)}};function Vn(B,G){Et[B]={Ma:G}}function st(B,G){var re=G==="/";if(re&&Pt)throw new bt(10);if(!re&&G){var ue=Jt(G,{nb:!1});if(G=ue.path,ue=ue.node,ue.ab)throw new bt(10);if(!Mn(ue.mode))throw new bt(54)}G={type:B,Wb:{},zb:G,Ib:[]},B=B.Xa(G),B.Xa=G,G.root=B,re?Pt=B:ue&&(ue.ab=G,ue.Xa&&ue.Xa.Ib.push(G))}function et(B,G,re){var ue=Jt(B,{parent:!0}).node;if(B=Rt(B),!B)throw new bt(28);if(B==="."||B==="..")throw new bt(20);var Se=Vi(ue,B);if(Se)throw new bt(Se);if(!ue.La.hb)throw new bt(63);return ue.La.hb(ue,B,G,re)}function wt(B,G=438){return et(B,G&4095|32768,0)}function qt(B,G=511){return et(B,G&1023|16384,0)}function sn(B,G,re){typeof re>"u"&&(re=G,G=438),et(B,G|8192,re)}function vr(B,G){if(!yt(B))throw new bt(44);var re=Jt(G,{parent:!0}).node;if(!re)throw new bt(44);G=Rt(G);var ue=Vi(re,G);if(ue)throw new bt(ue);if(!re.La.symlink)throw new bt(63);re.La.symlink(re,G,B)}function or(B){var G=Jt(B,{parent:!0}).node;B=Rt(B);var re=Sn(G,B),ue=Ao(G,B,!0);if(ue)throw new bt(ue);if(!G.La.rmdir)throw new bt(63);if(re.ab)throw new bt(10);G.La.rmdir(G,B),en(re)}function zn(B){var G=Jt(B,{parent:!0}).node;if(!G)throw new bt(44);B=Rt(B);var re=Sn(G,B),ue=Ao(G,B,!1);if(ue)throw new bt(ue);if(!G.La.unlink)throw new bt(63);if(re.ab)throw new bt(10);G.La.unlink(G,B),en(re)}function bo(B,G){return B=Jt(B,{$a:!G}).node,Mr(B.La.Ta)(B)}function Ts(B,G,re,ue){zo(B,G,{mode:re&4095|G.mode&-4096,ctime:Date.now(),Fb:ue})}function to(B,G){B=typeof B=="string"?Jt(B,{$a:!0}).node:B,Ts(null,B,G)}function Lo(B,G,re){if(Mn(G.mode))throw new bt(31);if((G.mode&61440)!==32768)throw new bt(28);var ue=Qr(G,"w");if(ue)throw new bt(ue);zo(B,G,{size:re,timestamp:Date.now()})}function $n(B,G,re=438){if(B==="")throw new bt(44);if(typeof G=="string"){var ue={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[G];if(typeof ue>"u")throw Error(`Unknown file open mode: ${G}`);G=ue}if(re=G&64?re&4095|32768:0,typeof B=="object")ue=B;else{var Se=B.endsWith("/");B=Jt(B,{$a:!(G&131072),Jb:!0}),ue=B.node,B=B.path}var Ve=!1;if(G&64)if(ue){if(G&128)throw new bt(20)}else{if(Se)throw new bt(31);ue=et(B,re|511,0),Ve=!0}if(!ue)throw new bt(44);if((ue.mode&61440)===8192&&(G&=-513),G&65536&&!Mn(ue.mode))throw new bt(54);if(!Ve&&(Se=ue?(ue.mode&61440)===40960?32:Mn(ue.mode)&&(hi(G)!=="r"||G&576)?31:Qr(ue,hi(G)):44))throw new bt(Se);return G&512&&!Ve&&(Se=ue,Se=typeof Se=="string"?Jt(Se,{$a:!0}).node:Se,Lo(null,Se,0)),G&=-131713,Se=ir({node:ue,path:Gn(ue),flags:G,seekable:!0,position:0,Ma:ue.Ma,Lb:[],error:!1}),Se.Ma.open&&Se.Ma.open(Se),Ve&&to(ue,re&511),!u.logReadFiles||G&1||B in mr||(mr[B]=1),Se}function Jr(B){if(B.fd===null)throw new bt(8);B.ob&&(B.ob=null);try{B.Ma.close&&B.Ma.close(B)}catch(G){throw G}finally{Nt[B.fd]=null}B.fd=null}function wo(B,G,re){if(B.fd===null)throw new bt(8);if(!B.seekable||!B.Ma.Va)throw new bt(70);if(re!=0&&re!=1&&re!=2)throw new bt(28);B.position=B.Ma.Va(B,G,re),B.Lb=[]}function Qo(B,G,re,ue,Se){if(0>ue||0>Se)throw new bt(28);if(B.fd===null)throw new bt(8);if((B.flags&2097155)===1)throw new bt(8);if(Mn(B.node.mode))throw new bt(31);if(!B.Ma.read)throw new bt(28);var Ve=typeof Se<"u";if(!Ve)Se=B.position;else if(!B.seekable)throw new bt(70);return G=B.Ma.read(B,G,re,ue,Se),Ve||(B.position+=G),G}function Ba(B,G,re,ue,Se){if(0>ue||0>Se)throw new bt(28);if(B.fd===null)throw new bt(8);if((B.flags&2097155)===0)throw new bt(8);if(Mn(B.node.mode))throw new bt(31);if(!B.Ma.write)throw new bt(28);B.seekable&&B.flags&1024&&wo(B,0,2);var Ve=typeof Se<"u";if(!Ve)Se=B.position;else if(!B.seekable)throw new bt(70);return G=B.Ma.write(B,G,re,ue,Se,void 0),Ve||(B.position+=G),G}function Fa(B){var G,re=$n(B,re||0);B=bo(B).size;var ue=new Uint8Array(B);return Qo(re,ue,0,B,0),G=ue,Jr(re),G}function $i(B,G,re){B=Ft("/dev/"+B);var ue=mt(!!G,!!re);$i.yb??($i.yb=64);var Se=$i.yb++<<8|0;Vn(Se,{open(Ve){Ve.seekable=!1},close(){re?.buffer?.length&&re(10)},read(Ve,it,an,bn){for(var In=0,Or=0;Or<bn;Or++){try{var pi=G()}catch{throw new bt(29)}if(pi===void 0&&In===0)throw new bt(6);if(pi==null)break;In++,it[an+Or]=pi}return In&&(Ve.node.atime=Date.now()),In},write(Ve,it,an,bn){for(var In=0;In<bn;In++)try{re(it[an+In])}catch{throw new bt(29)}return bn&&(Ve.node.mtime=Ve.node.ctime=Date.now()),In}}),sn(B,ue,Se)}var Wn={};function Ms(B,G,re){if(G.charAt(0)==="/")return G;if(B=B===-100?"/":yn(B).path,G.length==0){if(!re)throw new bt(44);return B}return B+"/"+G}function Jo(B,G){U[B>>2]=G.dev,U[B+4>>2]=G.mode,K[B+8>>2]=G.nlink,U[B+12>>2]=G.uid,U[B+16>>2]=G.gid,U[B+20>>2]=G.rdev,z[B+24>>3]=BigInt(G.size),U[B+32>>2]=4096,U[B+36>>2]=G.blocks;var re=G.atime.getTime(),ue=G.mtime.getTime(),Se=G.ctime.getTime();return z[B+40>>3]=BigInt(Math.floor(re/1e3)),K[B+48>>2]=re%1e3*1e6,z[B+56>>3]=BigInt(Math.floor(ue/1e3)),K[B+64>>2]=ue%1e3*1e6,z[B+72>>3]=BigInt(Math.floor(Se/1e3)),K[B+80>>2]=Se%1e3*1e6,z[B+88>>3]=BigInt(G.ino),0}var Qs=void 0,ja=()=>{var B=U[+Qs>>2];return Qs+=4,B},Js=0,Yu=[0,31,60,91,121,152,182,213,244,274,305,335],So=[0,31,59,90,120,151,181,212,243,273,304,334],Os={},ic=B=>{L=B,Ie||0<Js||(u.onExit?.(B),D=!0),b(B,new be(B))},oc=B=>{if(!D)try{if(B(),!(Ie||0<Js))try{L=B=L,ic(B)}catch(G){G instanceof be||G=="unwind"||b(1,G)}}catch(G){G instanceof be||G=="unwind"||b(1,G)}},ds={},sc=()=>{if(!ac){var B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},G;for(G in ds)ds[G]===void 0?delete B[G]:B[G]=ds[G];var re=[];for(G in B)re.push(`${G}=${B[G]}`);ac=re}return ac},ac,cr=B=>{var G=jt(B)+1,re=Ai(G);return pn(B,$,re,G),re},Xu=(B,G,re,ue)=>{var Se={string:In=>{var Or=0;return In!=null&&In!==0&&(Or=cr(In)),Or},array:In=>{var Or=Ai(In.length);return A.set(In,Or),Or}};B=u["_"+B];var Ve=[],it=0;if(ue)for(var an=0;an<ue.length;an++){var bn=Se[re[an]];bn?(it===0&&(it=ar()),Ve[an]=bn(ue[an])):Ve[an]=ue[an]}return re=B(...Ve),re=(function(In){return it!==0&&hs(it),G==="string"?In?Fe($,In):"":G==="boolean"?!!In:In})(re)},Va=0,li=(B,G)=>(G=G==1?Ai(B.length):ts(B.length),B.subarray||B.slice||(B=new Uint8Array(B)),$.set(B,G),G),Di,ea=[],es,no=B=>{Di.delete(es.get(B)),es.set(B,null),ea.push(B)},ro=(B,G)=>{if(!Di){Di=new WeakMap;var re=es.length;if(Di)for(var ue=0;ue<0+re;ue++){var Se=es.get(ue);Se&&Di.set(Se,ue)}}if(re=Di.get(B)||0)return re;if(ea.length)re=ea.pop();else{try{es.grow(1)}catch(bn){throw bn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":bn}re=es.length-1}try{es.set(re,B)}catch(bn){if(!(bn instanceof TypeError))throw bn;if(typeof WebAssembly.Function=="function"){var Ve=WebAssembly.Function;ue={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Se={parameters:[],results:G[0]=="v"?[]:[ue[G[0]]]};for(var it=1;it<G.length;++it)Se.parameters.push(ue[G[it]]);G=new Ve(Se,B)}else{ue=[1],Se=G.slice(0,1),G=G.slice(1),it={i:127,p:127,j:126,f:125,d:124,e:111},ue.push(96);var an=G.length;128>an?ue.push(an):ue.push(an%128|128,an>>7);for(Ve of G)ue.push(it[Ve]);Se=="v"?ue.push(0):ue.push(1,it[Se]),G=[0,97,115,109,1,0,0,0,1],Ve=ue.length,128>Ve?G.push(Ve):G.push(Ve%128|128,Ve>>7),G.push(...ue),G.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),G=new WebAssembly.Module(new Uint8Array(G)),G=new WebAssembly.Instance(G,{e:{f:B}}).exports.f}es.set(re,G)}return Di.set(B,re),re};An=Array(4096),st(nt,"/"),qt("/tmp"),qt("/home"),qt("/home/web_user"),(function(){qt("/dev"),Vn(259,{read:()=>0,write:(ue,Se,Ve,it)=>it,Va:()=>0}),sn("/dev/null",259),At(1280,xt),At(1536,St),sn("/dev/tty",1280),sn("/dev/tty1",1536);var B=new Uint8Array(1024),G=0,re=()=>(G===0&&($t(B),G=B.byteLength),B[--G]);$i("random",re),$i("urandom",re),qt("/dev/shm"),qt("/dev/shm/tmp")})(),(function(){qt("/proc");var B=qt("/proc/self");qt("/proc/self/fd"),st({Xa(){var G=Tn(B,"fd",16895,73);return G.Ma={Va:nt.Ma.Va},G.La={lookup(re,ue){re=+ue;var Se=yn(re);return re={parent:null,Xa:{zb:"fake"},La:{readlink:()=>Se.path},id:re+1},re.parent=re},readdir(){return Array.from(Nt.entries()).filter(([,re])=>re).map(([re])=>re.toString())}},G}},"/proc/self/fd")})(),nt.vb=new bt(44),nt.vb.stack="<generic error, no stack>";var wl={a:(B,G,re,ue)=>X(`Assertion failed: ${B?Fe($,B):""}, at: `+[G?G?Fe($,G):"":"unknown filename",re,ue?ue?Fe($,ue):"":"unknown function"]),i:function(B,G){try{return B=B?Fe($,B):"",to(B,G),0}catch(re){if(typeof Wn>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},L:function(B,G,re){try{if(G=G?Fe($,G):"",G=Ms(B,G),re&-8)return-28;var ue=Jt(G,{$a:!0}).node;return ue?(B="",re&4&&(B+="r"),re&2&&(B+="w"),re&1&&(B+="x"),B&&Qr(ue,B)?-2:0):-44}catch(Se){if(typeof Wn>"u"||Se.name!=="ErrnoError")throw Se;return-Se.Pa}},j:function(B,G){try{var re=yn(B);return Ts(re,re.node,G,!1),0}catch(ue){if(typeof Wn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},h:function(B){try{var G=yn(B);return zo(G,G.node,{timestamp:Date.now(),Fb:!1}),0}catch(re){if(typeof Wn>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},b:function(B,G,re){Qs=re;try{var ue=yn(B);switch(G){case 0:var Se=ja();if(0>Se)break;for(;Nt[Se];)Se++;return Pi(ue,Se).fd;case 1:case 2:return 0;case 3:return ue.flags;case 4:return Se=ja(),ue.flags|=Se,0;case 12:return Se=ja(),j[Se+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(Ve){if(typeof Wn>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.Pa}},g:function(B,G){try{var re=yn(B),ue=re.node,Se=re.Ma.Ta;B=Se?re:ue,Se??=ue.La.Ta,Mr(Se);var Ve=Se(B);return Jo(G,Ve)}catch(it){if(typeof Wn>"u"||it.name!=="ErrnoError")throw it;return-it.Pa}},H:function(B,G){G=-9007199254740992>G||9007199254740992<G?NaN:Number(G);try{if(isNaN(G))return 61;var re=yn(B);if(0>G||(re.flags&2097155)===0)throw new bt(28);return Lo(re,re.node,G),0}catch(ue){if(typeof Wn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},G:function(B,G){try{if(G===0)return-28;var re=jt("/")+1;return G<re?-68:(pn("/",$,B,G),re)}catch(ue){if(typeof Wn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},K:function(B,G){try{return B=B?Fe($,B):"",Jo(G,bo(B,!0))}catch(re){if(typeof Wn>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},C:function(B,G,re){try{return G=G?Fe($,G):"",G=Ms(B,G),qt(G,re),0}catch(ue){if(typeof Wn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},J:function(B,G,re,ue){try{G=G?Fe($,G):"";var Se=ue&256;return G=Ms(B,G,ue&4096),Jo(re,Se?bo(G,!0):bo(G))}catch(Ve){if(typeof Wn>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.Pa}},x:function(B,G,re,ue){Qs=ue;try{G=G?Fe($,G):"",G=Ms(B,G);var Se=ue?ja():0;return $n(G,re,Se).fd}catch(Ve){if(typeof Wn>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.Pa}},v:function(B,G,re,ue){try{if(G=G?Fe($,G):"",G=Ms(B,G),0>=ue)return-28;var Se=Jt(G).node;if(!Se)throw new bt(44);if(!Se.La.readlink)throw new bt(28);var Ve=Se.La.readlink(Se),it=Math.min(ue,jt(Ve)),an=A[re+it];return pn(Ve,$,re,ue+1),A[re+it]=an,it}catch(bn){if(typeof Wn>"u"||bn.name!=="ErrnoError")throw bn;return-bn.Pa}},u:function(B){try{return B=B?Fe($,B):"",or(B),0}catch(G){if(typeof Wn>"u"||G.name!=="ErrnoError")throw G;return-G.Pa}},f:function(B,G){try{return B=B?Fe($,B):"",Jo(G,bo(B))}catch(re){if(typeof Wn>"u"||re.name!=="ErrnoError")throw re;return-re.Pa}},r:function(B,G,re){try{return G=G?Fe($,G):"",G=Ms(B,G),re===0?zn(G):re===512?or(G):X("Invalid flags passed to unlinkat"),0}catch(ue){if(typeof Wn>"u"||ue.name!=="ErrnoError")throw ue;return-ue.Pa}},q:function(B,G,re){try{G=G?Fe($,G):"",G=Ms(B,G,!0);var ue=Date.now(),Se,Ve;if(re){var it=K[re>>2]+4294967296*U[re+4>>2],an=U[re+8>>2];an==1073741823?Se=ue:an==1073741822?Se=null:Se=1e3*it+an/1e6,re+=16,it=K[re>>2]+4294967296*U[re+4>>2],an=U[re+8>>2],an==1073741823?Ve=ue:an==1073741822?Ve=null:Ve=1e3*it+an/1e6}else Ve=Se=ue;if((Ve??Se)!==null){B=Se;var bn=Jt(G,{$a:!0}).node;Mr(bn.La.Ua)(bn,{atime:B,mtime:Ve})}return 0}catch(In){if(typeof Wn>"u"||In.name!=="ErrnoError")throw In;return-In.Pa}},m:()=>X(""),l:()=>{Ie=!1,Js=0},A:function(B,G){B=-9007199254740992>B||9007199254740992<B?NaN:Number(B),B=new Date(1e3*B),U[G>>2]=B.getSeconds(),U[G+4>>2]=B.getMinutes(),U[G+8>>2]=B.getHours(),U[G+12>>2]=B.getDate(),U[G+16>>2]=B.getMonth(),U[G+20>>2]=B.getFullYear()-1900,U[G+24>>2]=B.getDay();var re=B.getFullYear();U[G+28>>2]=(re%4!==0||re%100===0&&re%400!==0?So:Yu)[B.getMonth()]+B.getDate()-1|0,U[G+36>>2]=-(60*B.getTimezoneOffset()),re=new Date(B.getFullYear(),6,1).getTimezoneOffset();var ue=new Date(B.getFullYear(),0,1).getTimezoneOffset();U[G+32>>2]=(re!=ue&&B.getTimezoneOffset()==Math.min(ue,re))|0},y:function(B,G,re,ue,Se,Ve,it){Se=-9007199254740992>Se||9007199254740992<Se?NaN:Number(Se);try{if(isNaN(Se))return 61;var an=yn(ue);if((G&2)!==0&&(re&2)===0&&(an.flags&2097155)!==2)throw new bt(2);if((an.flags&2097155)===1)throw new bt(2);if(!an.Ma.ib)throw new bt(43);if(!B)throw new bt(28);var bn=an.Ma.ib(an,B,Se,G,re),In=bn.Kb;return U[Ve>>2]=bn.Ab,K[it>>2]=In,0}catch(Or){if(typeof Wn>"u"||Or.name!=="ErrnoError")throw Or;return-Or.Pa}},z:function(B,G,re,ue,Se,Ve){Ve=-9007199254740992>Ve||9007199254740992<Ve?NaN:Number(Ve);try{var it=yn(Se);if(re&2){if(re=Ve,(it.node.mode&61440)!==32768)throw new bt(43);if(!(ue&2)){var an=$.slice(B,B+G);it.Ma.jb&&it.Ma.jb(it,an,re,G,ue)}}}catch(bn){if(typeof Wn>"u"||bn.name!=="ErrnoError")throw bn;return-bn.Pa}},n:(B,G)=>{if(Os[B]&&(clearTimeout(Os[B].id),delete Os[B]),!G)return 0;var re=setTimeout(()=>{delete Os[B],oc(()=>No(B,performance.now()))},G);return Os[B]={id:re,Xb:G},0},B:(B,G,re,ue)=>{var Se=new Date().getFullYear(),Ve=new Date(Se,0,1).getTimezoneOffset();Se=new Date(Se,6,1).getTimezoneOffset(),K[B>>2]=60*Math.max(Ve,Se),U[G>>2]=+(Ve!=Se),G=it=>{var an=Math.abs(it);return`UTC${0<=it?"-":"+"}${String(Math.floor(an/60)).padStart(2,"0")}${String(an%60).padStart(2,"0")}`},B=G(Ve),G=G(Se),Se<Ve?(pn(B,$,re,17),pn(G,$,ue,17)):(pn(B,$,ue,17),pn(G,$,re,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:B=>{var G=$.length;if(B>>>=0,2147483648<B)return!1;for(var re=1;4>=re;re*=2){var ue=G*(1+.2/re);ue=Math.min(ue,B+100663296);e:{ue=(Math.min(2147483648,65536*Math.ceil(Math.max(B,ue)/65536))-N.buffer.byteLength+65535)/65536|0;try{N.grow(ue),ie();var Se=1;break e}catch{}Se=void 0}if(Se)return!0}return!1},E:(B,G)=>{var re=0;return sc().forEach((ue,Se)=>{var Ve=G+re;for(Se=K[B+4*Se>>2]=Ve,Ve=0;Ve<ue.length;++Ve)A[Se++]=ue.charCodeAt(Ve);A[Se]=0,re+=ue.length+1}),0},F:(B,G)=>{var re=sc();K[B>>2]=re.length;var ue=0;return re.forEach(Se=>ue+=Se.length+1),K[G>>2]=ue,0},e:function(B){try{var G=yn(B);return Jr(G),0}catch(re){if(typeof Wn>"u"||re.name!=="ErrnoError")throw re;return re.Pa}},p:function(B,G){try{var re=yn(B);return A[G]=re.tty?2:Mn(re.mode)?3:(re.mode&61440)===40960?7:4,j[G+2>>1]=0,z[G+8>>3]=BigInt(0),z[G+16>>3]=BigInt(0),0}catch(ue){if(typeof Wn>"u"||ue.name!=="ErrnoError")throw ue;return ue.Pa}},w:function(B,G,re,ue){try{e:{var Se=yn(B);B=G;for(var Ve,it=G=0;it<re;it++){var an=K[B>>2],bn=K[B+4>>2];B+=8;var In=Qo(Se,A,an,bn,Ve);if(0>In){var Or=-1;break e}if(G+=In,In<bn)break;typeof Ve<"u"&&(Ve+=In)}Or=G}return K[ue>>2]=Or,0}catch(pi){if(typeof Wn>"u"||pi.name!=="ErrnoError")throw pi;return pi.Pa}},D:function(B,G,re,ue){G=-9007199254740992>G||9007199254740992<G?NaN:Number(G);try{if(isNaN(G))return 61;var Se=yn(B);return wo(Se,G,re),z[ue>>3]=BigInt(Se.position),Se.ob&&G===0&&re===0&&(Se.ob=null),0}catch(Ve){if(typeof Wn>"u"||Ve.name!=="ErrnoError")throw Ve;return Ve.Pa}},I:function(B){try{var G=yn(B);return G.Ma?.fsync?G.Ma.fsync(G):0}catch(re){if(typeof Wn>"u"||re.name!=="ErrnoError")throw re;return re.Pa}},t:function(B,G,re,ue){try{e:{var Se=yn(B);B=G;for(var Ve,it=G=0;it<re;it++){var an=K[B>>2],bn=K[B+4>>2];B+=8;var In=Ba(Se,A,an,bn,Ve);if(0>In){var Or=-1;break e}if(G+=In,In<bn)break;typeof Ve<"u"&&(Ve+=In)}Or=G}return K[ue>>2]=Or,0}catch(pi){if(typeof Wn>"u"||pi.name!=="ErrnoError")throw pi;return pi.Pa}},k:ic},dn;(async function(){function B(re){return dn=re.exports,N=dn.M,ie(),es=dn.O,Q--,u.monitorRunDependencies?.(Q),Q==0&&H&&(re=H,H=null,re()),dn}Q++,u.monitorRunDependencies?.(Q);var G={a:wl};return u.instantiateWasm?new Promise(re=>{u.instantiateWasm(G,(ue,Se)=>{B(ue),re(ue.exports)})}):(he??=u.locateFile?u.locateFile("sql-wasm.wasm",v):v+"sql-wasm.wasm",B((await ce(G)).instance))})(),u._sqlite3_free=B=>(u._sqlite3_free=dn.P)(B),u._sqlite3_value_text=B=>(u._sqlite3_value_text=dn.Q)(B),u._sqlite3_prepare_v2=(B,G,re,ue,Se)=>(u._sqlite3_prepare_v2=dn.R)(B,G,re,ue,Se),u._sqlite3_step=B=>(u._sqlite3_step=dn.S)(B),u._sqlite3_reset=B=>(u._sqlite3_reset=dn.T)(B),u._sqlite3_exec=(B,G,re,ue,Se)=>(u._sqlite3_exec=dn.U)(B,G,re,ue,Se),u._sqlite3_finalize=B=>(u._sqlite3_finalize=dn.V)(B),u._sqlite3_column_name=(B,G)=>(u._sqlite3_column_name=dn.W)(B,G),u._sqlite3_column_text=(B,G)=>(u._sqlite3_column_text=dn.X)(B,G),u._sqlite3_column_type=(B,G)=>(u._sqlite3_column_type=dn.Y)(B,G),u._sqlite3_errmsg=B=>(u._sqlite3_errmsg=dn.Z)(B),u._sqlite3_clear_bindings=B=>(u._sqlite3_clear_bindings=dn._)(B),u._sqlite3_value_blob=B=>(u._sqlite3_value_blob=dn.$)(B),u._sqlite3_value_bytes=B=>(u._sqlite3_value_bytes=dn.aa)(B),u._sqlite3_value_double=B=>(u._sqlite3_value_double=dn.ba)(B),u._sqlite3_value_int=B=>(u._sqlite3_value_int=dn.ca)(B),u._sqlite3_value_type=B=>(u._sqlite3_value_type=dn.da)(B),u._sqlite3_result_blob=(B,G,re,ue)=>(u._sqlite3_result_blob=dn.ea)(B,G,re,ue),u._sqlite3_result_double=(B,G)=>(u._sqlite3_result_double=dn.fa)(B,G),u._sqlite3_result_error=(B,G,re)=>(u._sqlite3_result_error=dn.ga)(B,G,re),u._sqlite3_result_int=(B,G)=>(u._sqlite3_result_int=dn.ha)(B,G),u._sqlite3_result_int64=(B,G)=>(u._sqlite3_result_int64=dn.ia)(B,G),u._sqlite3_result_null=B=>(u._sqlite3_result_null=dn.ja)(B),u._sqlite3_result_text=(B,G,re,ue)=>(u._sqlite3_result_text=dn.ka)(B,G,re,ue),u._sqlite3_aggregate_context=(B,G)=>(u._sqlite3_aggregate_context=dn.la)(B,G),u._sqlite3_column_count=B=>(u._sqlite3_column_count=dn.ma)(B),u._sqlite3_data_count=B=>(u._sqlite3_data_count=dn.na)(B),u._sqlite3_column_blob=(B,G)=>(u._sqlite3_column_blob=dn.oa)(B,G),u._sqlite3_column_bytes=(B,G)=>(u._sqlite3_column_bytes=dn.pa)(B,G),u._sqlite3_column_double=(B,G)=>(u._sqlite3_column_double=dn.qa)(B,G),u._sqlite3_bind_blob=(B,G,re,ue,Se)=>(u._sqlite3_bind_blob=dn.ra)(B,G,re,ue,Se),u._sqlite3_bind_double=(B,G,re)=>(u._sqlite3_bind_double=dn.sa)(B,G,re),u._sqlite3_bind_int=(B,G,re)=>(u._sqlite3_bind_int=dn.ta)(B,G,re),u._sqlite3_bind_text=(B,G,re,ue,Se)=>(u._sqlite3_bind_text=dn.ua)(B,G,re,ue,Se),u._sqlite3_bind_parameter_index=(B,G)=>(u._sqlite3_bind_parameter_index=dn.va)(B,G),u._sqlite3_sql=B=>(u._sqlite3_sql=dn.wa)(B),u._sqlite3_normalized_sql=B=>(u._sqlite3_normalized_sql=dn.xa)(B),u._sqlite3_changes=B=>(u._sqlite3_changes=dn.ya)(B),u._sqlite3_close_v2=B=>(u._sqlite3_close_v2=dn.za)(B),u._sqlite3_create_function_v2=(B,G,re,ue,Se,Ve,it,an,bn)=>(u._sqlite3_create_function_v2=dn.Aa)(B,G,re,ue,Se,Ve,it,an,bn),u._sqlite3_update_hook=(B,G,re)=>(u._sqlite3_update_hook=dn.Ba)(B,G,re),u._sqlite3_open=(B,G)=>(u._sqlite3_open=dn.Ca)(B,G);var ts=u._malloc=B=>(ts=u._malloc=dn.Da)(B),Yi=u._free=B=>(Yi=u._free=dn.Ea)(B);u._RegisterExtensionFunctions=B=>(u._RegisterExtensionFunctions=dn.Fa)(B);var lc=(B,G)=>(lc=dn.Ga)(B,G),No=(B,G)=>(No=dn.Ha)(B,G),hs=B=>(hs=dn.Ia)(B),Ai=B=>(Ai=dn.Ja)(B),ar=()=>(ar=dn.Ka)();u.stackSave=()=>ar(),u.stackRestore=B=>hs(B),u.stackAlloc=B=>Ai(B),u.cwrap=(B,G,re,ue)=>{var Se=!re||re.every(Ve=>Ve==="number"||Ve==="boolean");return G!=="string"&&Se&&!ue?u["_"+B]:(...Ve)=>Xu(B,G,re,Ve)},u.addFunction=ro,u.removeFunction=no,u.UTF8ToString=ft,u.ALLOC_NORMAL=Va,u.allocate=li,u.allocateUTF8OnStack=cr;function $a(){function B(){if(u.calledRun=!0,!D){if(!u.noFSInit&&!Cr){var G,re;Cr=!0,ue??=u.stdin,G??=u.stdout,re??=u.stderr,ue?$i("stdin",ue):vr("/dev/tty","/dev/stdin"),G?$i("stdout",null,G):vr("/dev/tty","/dev/stdout"),re?$i("stderr",null,re):vr("/dev/tty1","/dev/stderr"),$n("/dev/stdin",0),$n("/dev/stdout",1),$n("/dev/stderr",1)}if(dn.N(),rr=!1,u.onRuntimeInitialized?.(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var ue=u.postRun.shift();_e.unshift(ue)}Ne(_e)}}if(0<Q)H=$a;else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)ye();Ne(me),0<Q?H=$a:u.setStatus?(u.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>u.setStatus(""),1),B()},1)):B()}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return $a(),l}),n)};e.exports=r,e.exports.default=r})(dC)),dC.exports}var m7=g7();const v7=Kv(m7);class y7{constructor(t){this.curRow={},this.fieldNames=t}setCurrentRow(t){this.curRow=t}getValue(t){if(t<0||t>=this.fieldNames.length)return"";const n=this.fieldNames[t];return(this.curRow[n]||"").toString()}}class nD{constructor(t){this.rowEngine=t}getString(t){return this.rowEngine.getValue(t)}getFloat(t){return parseFloat(this.rowEngine.getValue(t))}}class b7{constructor(t,n){this.rows=[],this.rowPointer=0,this.cols=t.map(r=>({name:r})),this.rows=n,this.rowEngine=new y7(t),this.currentRow=new nD(this.rowEngine)}goTop(){this.rowPointer=0}skip(t){const n=this.rowPointer+t;return n<0||n>=this.rows.length?!1:(this.rowPointer=n,!0)}getColumn(t){return t<0||t>=this.cols.length?null:this.cols[t]}getRow(){if(this.rowPointer>=this.rows.length)return null;const t=this.rows[this.rowPointer];return this.rowEngine.setCurrentRow(t),this.currentRow}getColumnCount(){return this.cols.length}getRowCount(){return this.rows.length}}class w7{async query(t){const i=await(await fetch("https://stratum.ac.ru/enteronline/api/sql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:t})})).json();return new b7(i.fields,i.rows)}close(){}}class S7{constructor(){this.curRow=[]}setCurrentRow(t){this.curRow=t}getValue(t){return t<0||t>=this.curRow.length?"":(this.curRow[t]||"").toString()}}class C7{constructor(t){this.res=t,this.rowPointer=0,console.log(t),this.cols=t.columns.map(n=>({name:n})),this.rowEngine=new S7,this.currentRow=new nD(this.rowEngine)}goTop(){this.rowPointer=0}skip(t){const n=this.rowPointer+t;return n<0||n>=this.res.values.length?!1:(this.rowPointer=n,!0)}getColumn(t){return t<0||t>=this.cols.length?null:this.cols[t]}getRow(){if(this.rowPointer>=this.res.values.length)return null;const t=this.res.values[this.rowPointer];return this.rowEngine.setCurrentRow(t),this.currentRow}getColumnCount(){return this.cols.length}getRowCount(){return this.res.values.length}}class x7{constructor(t){this.db=t,console.log(t)}async query(t){const n=this.db.exec(t);return new C7(n[0])}close(){}}class hC{constructor(t){this.s=t}static async create(){const t=await v7({locateFile:n=>`https://sql.js.org/dist/${n}`});return new hC(t)}mysql(){return new w7}sqlite(t){const n=new this.s.Database(t);return new x7(n)}}function fy(...e){console.warn(...e)}function _7(e,t,n,r){let i;switch(t){case"sqlite":{let s=null;if(e){const l=this.prj.dir.resolve(e),c=l.file();if(!c)return 0;if(!c.base64)return Ri.debugFile&&this._warn(`CreateStream: Файл ${l} (${c.size} байт) существует, но формат не base64.`),0;s=Xv(c.base64)}i=this.kernel.dbDriverFactory.sqlite(s);break}default:{i=this.kernel.dbDriverFactory.mysql(),console.warn(`Неизвестный тип БД: ${t}; fallback к Mysql (remote)`);break}}const o=ps.freeKey(this.kernel.dbs,100);return this.kernel.dbs.set(o,i),o}function E7(e){const t=this.kernel.dbs.get(e);return t?(t.close(),this.kernel.dbs.delete(e),1):0}function T7(e){return this.kernel.dbTables.delete(e)?1:0}function M7(){return fy("DbGetError"),0}function O7(e){return fy("DbGetErrorStr",e),""}function R7(e,t){throw fy("DbSetDir",e,t),Error("'DbSetDir' not implemented")}function I7(){fy("DbCloseAll")}function k7(e){const t=this.kernel.dbTables.get(e);return t?(t.goTop(),t.getRowCount()?1:0):0}function P7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.skip(t)?1:0}function D7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.getColumn(t-1)?.name||""}function A7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.getRow()?.getString(t-1)||""}function L7(e,t){const n=this.kernel.dbTables.get(e);return n&&n.getRow()?.getFloat(t-1)||0}async function rD(e,t,n){const r=e.kernel.dbs.get(t);if(!r)return 0;const i=await r.query(n),o=ps.freeKey(e.kernel.dbTables,1e3);return e.kernel.dbTables.set(o,i),o}function N7(e,t,n){const r=this.kernel.streams.get(t);if(!r)return Promise.resolve(0);const i=zp(r.bytes());return rD(this,e,i)}function B7(e,t,n){return rD(this,e,t)}function F7(e){const t=this.kernel.dbTables.get(e);return t?t.getRowCount():-1}function j7(e,t,n){const r=this.kernel.streams.get(n);if(!r)return 0;const i=this.kernel.dbTables.get(e);if(!i)return 0;const o=t-1;if(o<0||o>i.getColumnCount())return 0;const s=i.getRow();if(!s)return 0;const l=s.getString(o);return r.write(Up(l)),1}function V7(e){e("DbOpenBase",{a:[fe,fe,fe,fe],r:P},_7),e("DbCloseBase",{a:[P],r:k},E7),e("DbCloseTable",{a:[P],r:k},T7),e("DbGetError",{r:k},M7),e("DbGetErrorStr",{a:[k],r:fe},O7),e("DbSetDir",{a:[P,fe],r:k},R7),e("DbCloseAll",{},I7),e("DbGoTop",{a:[P],r:k},k7),e("DbSkip",{a:[P,k],r:k},P7),e("DbGetField",{a:[P,k],r:fe},A7),e("DbSQL",{a:[P,fe,k],r:P,kind:"async"},B7),e("DbSQL",{a:[P,P,k],r:P,kind:"async"},N7),e("DbGetCount",{a:[P],r:k},F7),e("DbGetFieldN",{a:[P,k],r:k},L7),e("DbGetFieldName",{a:[P,k],r:fe},D7),e("DbGetBlob",{a:[P,k,P],r:k},j7)}const $7={name:"db",deps:["streams"],register:V7,setup:async e=>{e.dbDriverFactory=await hC.create(),e.dbs=new Map,e.dbTables=new Map}},z7={dialog:"pVED4Nqg"};class U7{constructor(){this.onClose=new aa;const t=this.domElement=document.createElement("dialog");t.className=z7.dialog,t.innerHTML=`
<form method="dialog">
  <p><input type="file"></p>

  <menu>
    <button value="ok" disabled>Подтвердить выбор</button>
    <button value="cancel">Отмена</button>
  </menu>
</form>
    `;const n=t.querySelector('input[type="file"]'),r=t.querySelector('button[value="ok"]');n.addEventListener("change",()=>{r.disabled=!n.files?.length}),t.addEventListener("close",()=>{const i=t.returnValue==="ok"&&n.files?.item(0);this.onClose.dispatch(i||null)})}open(){this.domElement.showModal()}}let H7=0;async function G7(e,t,n){const{kernel:r}=this;r.block();const i=new U7;r.windowSystem.windowFactory.root.ownerDocument.body.append(i.domElement),i.open();const o=await new Promise(c=>i.onClose.add(c));let s=null;if(o)try{if(o.type.startsWith("image/")){const c=URL.createObjectURL(o),u=await H0(c),{naturalWidth:h,naturalHeight:p}=u;s={size:o.size,image:{width:h,height:p,src:c}}}else{const c=await o.arrayBuffer(),u=Yv(new Uint8Array(c));s={size:o.size,base64:u}}}catch(c){console.warn(c.message)}if(i.domElement.remove(),r.unblock(),!s)return"";const l=r.fs.uploadsDir.resolve("file"+ ++H7);return l.create("file",s),l.toString()}function W7(e,t,n){return this.kernel.fs.downloadsDir.resolve(n||"data.txt").toString()}function K7(e,t,n){switch(n){case n&lt.MB_OK:return alert(e),1;case n&lt.MB_OKCANCEL:return confirm(e)?1:2;case n&lt.MB_YESNO:return confirm(e)?6:7;default:return 0}}function q7(e,t,n){return prompt(e||t,n)||""}function Y7(e,t){return this.kernel._functionNotImplemented("DialogBox"),1}function X7(e,t,n){throw Error("ChoseFolderDialog: Not implemented")}function Z7(e){e("ChoseFolderDialog",{a:[fe,fe,k],r:fe},X7),e("DialogBox",{a:[fe,P],r:1},Y7),e("FileLoadDialog",{a:[fe,fe,fe],r:fe,kind:"async"},G7),e("FileSaveDialog",{a:[fe,fe,fe],r:fe},W7),e("MessageBox",{a:[fe,fe,k],r:k},K7),e("InputBox",{a:[fe,fe,fe],r:fe},q7)}const Q7={name:"dialogs",deps:["windows"],register:Z7};function J7(e){return this.prj.dir.resolve(e).create("folder")?1:0}function eY(e){const t=this.prj.dir.resolve(e);return t.fileExist()||this.kernel.hasProject(t)?1:0}function tY(e){const t=this.kernel.classes.get(e);return t?t.file.path.resolve("..").toString()+"\\":""}function nY(){return this.prj.dir.toString()}function rY(){return"C:\\Windows"}function iY(e){const t=this.prj.dir.resolve(e).matchGlob();if(!t.length)return 0;const n=t.map(r=>{const i=[["NAME",{type:"STRING",value:r.name}],["SIZE",{type:"FLOAT",value:r.size}],["ATTR",{type:"FLOAT",value:0}],["YEAR",{type:"FLOAT",value:2007}],["MONTH",{type:"FLOAT",value:9}],["DAY",{type:"FLOAT",value:3}],["DAYOFWEEK",{type:"FLOAT",value:1}],["HOUR",{type:"FLOAT",value:4}],["MINUTE",{type:"FLOAT",value:20}],["SECOND",{type:"FLOAT",value:0}]];return{type:"STRUCT",realType:"FILE_ATTRIBUTE",value:new Map(i)}});return this.kernel.createArray(n).key}function oY(e){return e.length===0||e[e.length-1]==="\\"?e:e+"\\"}function sY(e){e("CreateDir",{a:[fe],r:k},J7),e("FileExist",{a:[fe],r:k},eY),e("GetClassDirectory",{a:[fe],r:fe},tY),e("GetProjectDirectory",{r:fe},nY),e("GetWindowsDirectory",{r:fe},rY),e("GetFileList",{a:[fe,k],r:P},iY),e("AddSlash",{a:[fe],r:fe},oY)}const aY={name:"filesystem",deps:["arrays"],register:sY};function lY(e){const t=this.kernel.scenes.get(e);return t?t.scene.x:0}function cY(e){const t=this.kernel.scenes.get(e);return t?t.scene.y:0}function uY(e,t,n){const r=this.kernel.scenes.get(e);return r?(r.setSceneOrg(t,n),1):0}function dY(e){return this.kernel.scenes.get(e)?.scale??0}function hY(e,t){const n=this.kernel.scenes.get(e);return n?(n.setScale(t),1):0}function fY(e,t,n,r,i,o,s){const l=this.kernel.scenes.get(e)?.scene.toBlob({x:r,y:i,w:o,h:s});if(!l)return 0;const c=t.match(/(?:.*[\\/])?(.+?)(\..*)?$/),u=c&&c.length>1?c[1]:"Screenshot";return l.then(h=>U0(h,u)),1}function pY(e){return this.kernel.scenes.get(e)?.scene.background?.key??0}function gY(e,t){const n=this.kernel.scenes.get(e)?.scene;return n?.set({background:n.brushes.get(t)??null})?1:0}function mY(){return 0}function vY(e){return this.kernel.scenes.get(e)?.scene.hiddenLayers??0}function yY(e,t){return this.kernel.scenes.get(e)?.scene.set({hiddenLayers:t})?1:0}function bY(){return 1}function wY(e,t,n,r,i){return this.kernel.scenes.get(e)?.scene.pen({color:r,rop:i,style:t,width:n}).key??0}function SY(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.color??0}function CY(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.rop??0}function xY(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.style??0}function _Y(e,t){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.width??0}function EY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({color:n})?1:0}function TY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({rop:n})?1:0}function MY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({style:n})?1:0}function OY(e,t,n){return this.kernel.scenes.get(e)?.scene.pens.get(t)?.set({width:n})?1:0}function RY(e,t,n,r,i,o){const s=this.kernel.scenes.get(e)?.scene;return s?.brush({color:r,hatch:n,rop:o,style:t,image:s.imagesOpaque.get(i)}).key??0}function IY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.color??0}function kY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.rop??0}function PY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.style??0}function DY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.hatch??0}function AY(e,t){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.image?.key??0}function LY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({color:n})?1:0}function NY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({rop:n})?1:0}function BY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({style:n})?1:0}function FY(e,t,n){return this.kernel.scenes.get(e)?.scene.brushes.get(t)?.set({hatch:n})?1:0}function jY(e,t,n){const r=this.kernel.scenes.get(e)?.scene;return r?.brushes.get(t)?.set({image:r.imagesOpaque.get(n)??null})?1:0}function iD({kernel:e},t,n,r,i){return e.scenes.get(t)?.scene.font({name:n,size:r,style:i}).key??0}function VY(e,t,n,r){return iD(this,e,t,n,r)}function $Y(e,t,n,r){return iD(this,e,t,n*$9,r)}function zY(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.name??""}function UY(e,t){return(this.kernel.scenes.get(e)?.scene.fonts.get(t)?.size??0)*V9}function HY(e,t){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.style??0}function GY(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({name:n})?1:0}function WY(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({size:n})?1:0}function KY(e,t,n){return this.kernel.scenes.get(e)?.scene.fonts.get(t)?.set({style:n})?1:0}function qY(e,t){return this.kernel.scenes.get(e)?.scene.string(t).key??0}function YY(e,t){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.text??""}function XY(e,t,n){return this.kernel.scenes.get(e)?.scene.strings.get(t)?.set({text:n})?1:0}function ZY(e,t,n,r,i){const o=this.kernel.scenes.get(e)?.scene;if(!o)return 0;const s=o.strings.get(n);if(!s)return 0;const l=o.fonts.get(t);return l?o.text([{string:s,font:l,fgcolor:r,bgcolor:i}]).key:0}function QY(e,t){return this.kernel.scenes.get(e)?.scene.texts.get(t)?.parts.length??0}function nf({kernel:e},t,n,r){if(r<0)return null;const i=e.scenes.get(t)?.scene.texts.get(n)?.parts;return i&&r<i.length?i[r]:null}function oD(e,t,n=0){return nf(this,e,t,n)?.font.key??0}function sD(e,t,n=0){return nf(this,e,t,n)?.string.key??0}function aD(e,t,n=0){return nf(this,e,t,n)?.fgcolor??0}function lD(e,t,n=0){return nf(this,e,t,n)?.bgcolor??0}function cD(e,t,n,r,i,o,s){if(n<0)return 0;const l=this.kernel.scenes.get(e)?.scene;if(!l)return 0;const c=l.texts.get(t)?.parts;return!c||n>=c.length?0:(c[n].set({string:l.strings.get(i),font:l.fonts.get(r),fgcolor:o,bgcolor:s}),1)}function JY(e,t,n,r,i,o){return cD.call(this,e,t,0,n,r,i,o)}function eX(e,t,n,r){if(n<0)return 0;const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const o=i.texts.get(t)?.parts;if(!o||n>=o.length)return 0;const s=i.fonts.get(r);return s?(o[n].set({font:s}),1):0}function tX(e,t,n,r){if(n<0)return 0;const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const o=i.texts.get(t)?.parts;if(!o||n>=o.length)return 0;const s=i.strings.get(r);return s?(o[n].set({string:s}),1):0}function nX(e,t,n,r){return nf(this,e,t,n)?.set({fgcolor:r})?1:0}function rX(e,t,n,r){return nf(this,e,t,n)?.set({bgcolor:r})?1:0}function uD(e,t,n,r,i,o,s){if(n<0)return 0;const l=this.kernel.scenes.get(e)?.scene;if(!l)return 0;const c=l.texts.get(t);if(!c)return 0;const u=l.fonts.get(r);if(!u)return 0;const h=l.strings.get(i);if(!h)return 0;const p=n<c.parts.length,g=c.createPart({font:u,string:h,fgcolor:o,bgcolor:s},p);if(p){const m=c.parts.slice();m.splice(n,0,g),c.set({parts:m})}return 1}function iX(e,t,n,r,i,o){return uD.call(this,e,t,1/0,n,r,i,o)}function oX(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.texts.get(t);if(!i||n>=i.parts.length)return 0;const o=i.parts.slice();return o.splice(n,1),i.set({parts:o},!0),1}function dD({kernel:e},{prj:t},n,r,i){const o=e.scenes.get(n)?.scene;if(!o)return 0;const s=t.dir.resolve(r),l=s.file();return l?l.image?o.image(l.image,{opaque:i}).key:(Ri.debugFile&&console.warn(`create(Double)DIB2d: Файл ${s} существует, но формат не image.`),0):0}function hD(e,t){return dD(this,this,e,t,!0)}function fD(e,t){return dD(this,this,e,t)}function sX(e,t,n,r){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.getPixel(n,r)??0}function aX(e,t,n,r,i){return this.kernel.scenes.get(e)?.scene.imagesOpaque.get(t)?.setPixel(n,r,i)?1:0}function lX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;switch(t){case lt.PEN2D:i=r.pens;break;case lt.BRUSH2D:i=r.brushes;break;case lt.DOUBLEDIB2D:i=r.images;break;case lt.DIB2D:i=r.imagesOpaque;break;case lt.STRING2D:i=r.strings;break;case lt.FONT2D:i=r.fonts;break;case lt.TEXT2D:i=r.texts;break;case lt.SPACE3D:throw Error("Не реализовано");default:return 0}return i.get(n)?.delete(!0)?1:0}function cX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;switch(t){case lt.PEN2D:i=r.pens;break;case lt.BRUSH2D:i=r.brushes;break;case lt.DOUBLEDIB2D:i=r.images;break;case lt.DIB2D:i=r.imagesOpaque;break;case lt.STRING2D:i=r.strings;break;case lt.FONT2D:i=r.fonts;break;case lt.TEXT2D:i=r.texts;break;case lt.SPACE3D:throw Error("Не реализовано");default:return 0}let o=1/0;for(const s of i.keys())s>n&&s<o&&(o=s);return o===1/0?0:o}function uX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;switch(t){case lt.PEN2D:i=r.pens;break;case lt.BRUSH2D:i=r.brushes;break;case lt.DOUBLEDIB2D:i=r.images;break;case lt.DIB2D:i=r.imagesOpaque;break;case lt.STRING2D:i=r.strings;break;case lt.FONT2D:i=r.fonts;break;case lt.TEXT2D:i=r.texts;break;case lt.SPACE3D:throw Error("Не реализовано");default:return 0}return i.get(n)?.subs.size??0}function dX(e,t,n){return nl(e,t,n)}function hX(e,t,n,r){return nl(e,t,n,r===1?"transparent":r===2?"syscolor":"rgb")}function fX(e){return e&4294967295}function pX(e){return $P(e)}function gX(e){return zP(e)}function mX(e){return UP(e)}function vX(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=this.prj.dir.resolve(t).file()?.scene?.data;return s?o.paste(s,n,r,i)?.key??0:0}function yX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.delete(!0)?1:0}function bX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":return lt.OTGROUP2D;case"line":return lt.OTLINE_2D;case"imageView":return n.opaque?lt.OTBITMAP_2D:lt.OTDOUBLEBITMAP_2D;case"textView":return lt.OTTEXT_2D;case"videoView":return 0;case"input":return 26}}function wX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.data?.name??""}function SX(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?(r.data.name=n,1):0}function CX(e,t,n){if(!n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;let i;if(t){const o=r.objects.get(t);if(!o)return 0;if(o.data?.name===n)return o.key;if(o.type!=="group")return 0;i=o.descendants()}else i=r.objects.values();for(const o of i)if(o.data?.name===n)return o.key;return 0}function xX(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const i=n.invmatrix;if(!i)return r.x;const o=r.x,s=r.y,l=o*i[2]+s*i[5]+i[8];return(o*i[0]+s*i[3]+i[6])/l}function _X(e,t){const n=this.kernel.scenes.get(e);if(!n)return 0;const r=n.scene.objects.get(t);if(!r)return 0;const i=n.invmatrix;if(!i)return r.y;const o=r.x,s=r.y,l=o*i[2]+s*i[5]+i[8];return(o*i[1]+s*i[4]+i[7])/l}function EX(e,t,n,r){const i=this.kernel.scenes.get(e);if(!i)return 0;const o=i.scene.objects.get(t);if(!o)return 0;let s=n,l=r;const c=i.matrix;if(c){const u=n*c[2]+r*c[5]+c[8];s=(n*c[0]+r*c[3]+c[6])/u,l=(n*c[1]+r*c[4]+c[7])/u}return o.set({x:s,y:l}),1}function TX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.width??0}function MX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.height??0}function OX(e,t,n,r){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.set({width:n,height:r})?1:0}function RX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.width;case"imageView":return n.image.width;case"textView":return n.text.width;case"videoView":return n.video.width}}function IX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!n)return 0;switch(n.type){case"group":case"line":case"input":return n.height;case"imageView":return n.image.height;case"textView":return n.text.height;case"videoView":return n.video.height}}function kX(e,t,n,r,i,o){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!s)return n[r]=0,i[o]=0,0;switch(s.type){case"group":case"line":case"input":return n[r]=s.width,i[o]=s.height,1;case"imageView":return n[r]=s.image.width,i[o]=s.image.height,1;case"textView":return n[r]=s.text.width,i[o]=s.text.height,1;case"videoView":return n[r]=s.video.width,i[o]=s.video.height,1}}function PX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n&&(n.type==="textView"||n.type==="imageView")?n.angle:0}function DX(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene.objects.get(t);if(!s)return 0;let l=n,c=r;const u=o.matrix;if(u){const h=n*u[2]+r*u[5]+u[8];l=(n*u[0]+r*u[3]+u[6])/h,c=(n*u[1]+r*u[4]+u[7])/h}return s.rotate(i,{x:l,y:c}),1}function fC({kernel:e},t,n,r){const i=e.scenes.get(t)?.scene.objects.get(n);if(!i)return 0;const o=r?i.attrib&-2:i.attrib|1;return i.set({attrib:o}),1}function AX(e,t,n){return fC(this,e,t,!!n)}function LX(e,t){fC(this,e,t,!0)}function NX(e,t){fC(this,e,t,!1)}function BX(e,t,n){return this.kernel.scenes.get(e)?.pick(t,n,!0)?.key??0}function FX(){return this.kernel.windowSystem.lastPickedPrimaryKey}function jX(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?(this.kernel.windowSystem.clipboard=dy(n),1):0}function VX(e,t,n,r){const i=this.kernel.windowSystem.clipboard;return i?this.kernel.scenes.get(e)?.paste(i,t,n,r)?.key??0:0}function $X(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!r)return 0;let i=r.attrib;switch(n){case 0:i&=-13;break;case 1:i&=~la,i|=Qp;break;case 2:i&=~Qp,i|=la;break;default:return 0}return r.set({attrib:i}),1}function zX(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.attrib??0}function UX(e,t,n,r){const i=this.kernel.scenes.get(e)?.scene.objects.get(t);if(!i)return 0;let{attrib:o}=i;switch(r){case lt.ATTRSET:o|=n;break;case lt.ATTRRESET:o&=~n;break;case lt.ATTRPUT:o=n;break;default:return 0}return i.set({attrib:o}),1}function HX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=1/0;for(const i of n.objects.keys())i>t&&i<r&&(r=i);return r===1/0?0:r}function GX(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(!i)return 0;const o=r.objects.get(n);return o&&i.x+i.width>=o.x&&o.x+o.width>=i.x&&i.y+i.height>=o.y&&o.y+o.height>=i.y?1:0}function WX(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[0].key:0}function KX(e){const t=this.kernel.scenes.get(e)?.scene.order;return t&&t.length>0?t[t.length-1].key:0}function qX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order,o=i.indexOf(r);return o<1?0:i[o-1].key}function YX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order,o=i.indexOf(r);return o>-1&&o<i.length-1?i[o+1].key:0}function XX(e,t){const n=t-1;if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.order;return r&&n<r.length?r[n].key:0}function ZX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const o=n.order.indexOf(r);return o<0?0:o+1}function QX(e,t,n){const r=n-1;if(r<0)return 0;const i=this.kernel.scenes.get(e)?.scene;if(!i)return 0;const o=i.objects.get(t);if(!o||o.type==="group")return 0;const s=i.order,l=[];for(let c=0;c<s.length;++c){const u=s[c];u!==o&&l.push(u),r===c&&l.push(o)}return r>=s.length&&l.push(o),i.set({order:l}),1}function JX(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order.filter(o=>o!==r);return i.unshift(r),n.set({order:i}),1}function eZ(e,t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;const r=n.objects.get(t);if(!r||r.type==="group")return 0;const i=n.order.filter(o=>o!==r);return i.push(r),n.set({order:i}),1}function tZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(!i||i.type==="group")return 0;const o=r.objects.get(n);if(!o||o.type==="group")return 0;const s=r.order.slice(),l=s.indexOf(i);if(l<0)return 0;const c=s.indexOf(o);if(c<0)return 0;const u=s[l];return s[l]=s[c],s[c]=u,r.set({order:s}),1}function pD({kernel:e},t,n,r,i){const o=e.scenes.get(t);if(!o)return 0;const{matrix:s,scene:l}=o;if(s)for(let u=0;u<i.length;u+=2){const h=i[u+0],p=i[u+1],g=h*s[2]+p*s[5]+s[8];i[u+0]=(h*s[0]+p*s[3]+s[6])/g,i[u+1]=(h*s[1]+p*s[4]+s[7])/g}const c=l.line(i,{pen:l.pens.get(n),brush:l.brushes.get(r)});return l.set({order:l.order.concat(c)}),c.key}function nZ(e,t,n,...r){return pD(this,e,t,n,r)}function rZ(e,t,n,r,i){return pD(this,e,t,n,[r,i])}function iZ(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene.objects.get(t);if(s?.type!=="line")return 0;let l=r,c=i;const u=o.matrix;if(u){const h=r*u[2]+i*u[5]+u[8];l=(r*u[0]+i*u[3]+u[6])/h,c=(r*u[1]+i*u[4]+u[7])/h}return s.addPoint({x:l,y:c},n)?1:0}function oZ(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene.objects.get(t);if(s?.type!=="line")return 0;let l=r,c=i;const u=o.matrix;if(u){const h=r*u[2]+i*u[5]+u[8];l=(r*u[0]+i*u[3]+u[6])/h,c=(r*u[1]+i*u[4]+u[7])/h}return s.setPoint(n,{x:l,y:c})?1:0}function sZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="line"&&r.removePoint(n)?1:0}function aZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.pen?.key||0}function lZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"&&n.brush?.key||0}function cZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="line"?n.length:0}function uZ(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const i=r.scene.objects.get(t),o=i?.type==="line"&&i.point(n);if(!o)return 0;const{x:s,y:l}=o,c=r.invmatrix;if(!c)return s;const u=s*c[2]+l*c[5]+c[8];return(s*c[0]+l*c[3]+c[6])/u}function dZ(e,t,n){const r=this.kernel.scenes.get(e);if(!r)return 0;const i=r.scene.objects.get(t),o=i?.type==="line"&&i.point(n);if(!o)return 0;const{x:s,y:l}=o,c=r.invmatrix;if(!c)return l;const u=s*c[2]+l*c[5]+c[8];return(s*c[1]+l*c[4]+c[7])/u}function hZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);return i?.type==="line"&&i.set({brush:r.brushes.get(n)??null})?1:0}function fZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);return i?.type==="line"&&i.set({pen:r.pens.get(n)??null})?1:0}function pZ(e,t,n,r,i,o,s,l){const c=this.kernel.scenes.get(e)?.scene.objects.get(t);if(c?.type!=="line")return 0;const u={angle:n,length:r,fill:!!i},h={angle:o,length:s,fill:!!l};return c.set({start:h,end:u}),1}function gZ(e,...t){const n=this.kernel.scenes.get(e)?.scene;if(!n)return 0;let r=!0;const i=t.map(o=>{const s=n.objects.get(o);return(!s||s.parent)&&(r=!1),s});return r?n.group(i).key:0}function mZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type!=="group"?0:(n.set({children:[]}).delete(),1)}function vZ(e,t,n){if(t===n)return 0;const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(i?.type!=="group")return 0;const o=r.objects.get(n);if(!o||o.parent)return 0;if(o.type==="group"){let s=i;for(;s=s.parent;)if(s===o)return 0}return i.set({children:i.children.concat(o)}),1}function yZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(i?.type!=="group")return 0;const o=r.objects.get(n);return o?.parent!==i?0:(i.set({children:i.children.filter(s=>s!==o)}),1)}function bZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="group"?n.children.length:0}function wZ(e,t,n){if(n<0)return 0;const r=this.kernel.scenes.get(e)?.scene.objects.get(t);if(r?.type!=="group")return 0;const i=r.children;return n<i.length?i[n].key:0}function SZ(e,t){return this.kernel.scenes.get(e)?.scene.objects.get(t)?.parent?.key??0}function CZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.objects.get(t);if(i?.type!=="group")return 0;for(let o=0;o<i.children.length;++o){const s=i.children[o];if(s.key===n)return o+1;if(s.type==="group"){for(const l of s.descendants())if(l.key===n)return o+1}}return 0}function gD({kernel:e},t,n,r,i,o){const s=e.scenes.get(t);if(!s)return 0;const l=s.scene,c=(o?l.imagesOpaque:l.images).get(n);if(!c)return 0;let u=r,h=i;const p=s.matrix;if(p){const m=r*p[2]+i*p[5]+p[8];u=(r*p[0]+i*p[3]+p[6])/m,h=(r*p[1]+i*p[4]+p[7])/m}const g=l.imageView(c,{x:u,y:h,opaque:o});return l.set({order:l.order.concat(g)}),g.key}function xZ(e,t,n,r){return gD(this,e,t,n,r,!0)}function _Z(e,t,n,r){return gD(this,e,t,n,r)}function EZ(e,t,n,r,i,o,s,l,c,u){const h=this.kernel.scenes.get(e)?.scene.objects.get(t);if(h?.type!=="imageView")return n[r]=0,i[o]=0,s[l]=0,c[u]=0,0;const p=h.area;return n[r]=p?.x??0,i[o]=p?.y??0,s[l]=p?.w??h.image.width,c[u]=p?.h??h.image.height,1}function TZ(e,t,n,r,i,o){const s=this.kernel.scenes.get(e)?.scene.objects.get(t);return s?.type==="imageView"&&s.set({area:{x:n,y:r,w:i,h:o}})?1:0}function MZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&n.opaque&&n.image.key||0}function OZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="imageView"&&!n.opaque&&n.image.key||0}function RZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.imagesOpaque.get(n);if(!i)return 0;const o=r.objects.get(t);return o?.type==="imageView"&&o.opaque&&o.set({image:i})?1:0}function IZ(e,t,n){const r=this.kernel.scenes.get(e)?.scene;if(!r)return 0;const i=r.images.get(n);if(!i)return 0;const o=r.objects.get(t);return o?.type==="imageView"&&!o.opaque&&o.set({image:i})?1:0}function kZ(e,t,n,r,i){const o=this.kernel.scenes.get(e);if(!o)return 0;const s=o.scene,l=s.texts.get(t);if(!l)return 0;let c=n,u=r;const h=o.matrix;if(h){const g=n*h[2]+r*h[5]+h[8];c=(n*h[0]+r*h[3]+h[6])/g,u=(n*h[1]+r*h[4]+h[7])/g}const p=s.textView(l,{x:c,y:u,angle:i});return s.set({order:s.order.concat(p)}),p.key}function PZ(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="textView"&&n.text.key||0}function DZ(e){const t=this.kernel.scenes.get(e)?.scene;return t?(t.set({background:null}),t.objects.forEach(n=>!n.parent&&n.delete()),p7(t),1):0}function AZ(e){e("GetSpaceOrg2dx",{a:[P],r:k},lY),e("GetSpaceOrg2dy",{a:[P],r:k},cY),e("SetSpaceOrg2d",{a:[P,k,k],r:k},uY),e("EmptySpace2d",{a:[P],r:k},DZ),e("GetScaleSpace2d",{a:[P],r:k},dY),e("SetScaleSpace2d",{a:[P,k],r:k},hY),e("SaveRectArea2d",{a:[P,fe,k,k,k,k,k],r:k},fY),e("GetBkBrush2d",{a:[P],r:P},pY),e("SetBkBrush2d",{a:[P,P],r:k},gY),e("LockSpace2d",{a:[P,k],r:k},mY),e("GetSpaceLayers2d",{a:[P],r:k},vY),e("SetSpaceLayers2d",{a:[P,k],r:k},yY),e("SetSpaceRenderEngine2d",{a:[P,k],r:k},bY),e("CreatePen2d",{a:[P,k,k,Dn,k],r:P},wY),e("GetPenColor2d",{a:[P,P],r:Dn},SY),e("GetPenRop2d",{a:[P,P],r:k},CY),e("GetPenStyle2d",{a:[P,P],r:k},xY),e("GetPenWidth2d",{a:[P,P],r:k},_Y),e("SetPenColor2d",{a:[P,P,Dn],r:k},EY),e("SetPenRop2d",{a:[P,P,k],r:k},TY),e("SetPenStyle2d",{a:[P,P,k],r:k},MY),e("SetPenWidth2d",{a:[P,P,k],r:k},OY),e("CreateBrush2d",{a:[P,k,k,Dn,P,k],r:P},RY),e("GetBrushColor2d",{a:[P,P],r:Dn},IY),e("GetBrushRop2d",{a:[P,P],r:k},kY),e("GetBrushStyle2d",{a:[P,P],r:k},PY),e("GetBrushHatch2d",{a:[P,P],r:k},DY),e("GetBrushDib2d",{a:[P,P],r:P},AY),e("SetBrushColor2d",{a:[P,P,Dn],r:k},LY),e("SetBrushRop2d",{a:[P,P,k],r:k},NY),e("SetBrushStyle2d",{a:[P,P,k],r:k},BY),e("SetBrushHatch2d",{a:[P,P,k],r:k},FY),e("SetBrushDib2d",{a:[P,P,P],r:k},jY),e("CreateFont2d",{a:[P,fe,k,k],r:P},VY),e("CreateFont2dpt",{a:[P,fe,k,k],r:P},$Y),e("GetFontName2d",{a:[P,P],r:fe},zY),e("GetFontSize2d",{a:[P,P],r:k},UY),e("GetFontStyle2d",{a:[P,P],r:k},HY),e("SetFontName2d",{a:[P,P,fe],r:k},GY),e("SetFontSize2d",{a:[P,P,k],r:k},WY),e("SetFontStyle2d",{a:[P,P,k],r:k},KY),e("CreateString2d",{a:[P,fe],r:P},qY),e("GetString2d",{a:[P,P],r:fe},YY),e("SetString2d",{a:[P,P,fe],r:k},XY),e("CreateText2d",{a:[P,P,P,Dn,Dn],r:P},ZY),e("GetTextCount2d",{a:[P,P],r:k},QY),e("GetTextFont2d",{a:[P,P],r:P},oD),e("GetTextFont2d",{a:[P,P,k],r:P},oD),e("GetTextString2d",{a:[P,P],r:P},sD),e("GetTextString2d",{a:[P,P,k],r:P},sD),e("GetTextFgColor2d",{a:[P,P],r:Dn},aD),e("GetTextFgColor2d",{a:[P,P,k],r:Dn},aD),e("GetTextBkColor2d",{a:[P,P],r:Dn},lD),e("GetTextBkColor2d",{a:[P,P,k],r:Dn},lD),e("SetText2d",{a:[P,P,P,P,Dn,Dn],r:k},JY),e("SetText2d",{a:[P,P,k,P,P,Dn,Dn],r:k},cD),e("SetTextFont2d",{a:[P,P,k,P],r:k},eX),e("SetTextString2d",{a:[P,P,k,P],r:k},tX),e("SetTextFgColor2d",{a:[P,P,k,Dn],r:k},nX),e("SetTextBkColor2d",{a:[P,P,k,Dn],r:k},rX),e("AddText2d",{a:[P,P,P,P,Dn,Dn],r:k},iX),e("AddText2d",{a:[P,P,k,P,P,Dn,Dn],r:k},uD),e("RemoveText2d",{a:[P,P,k],r:k},oX),e("CreateDib2d",{a:[P,fe],r:P},hD),e("CreateRDib2d",{a:[P,fe],r:P},hD),e("CreateDoubleDib2d",{a:[P,fe],r:P},fD),e("CreateRDoubleDIB2d",{a:[P,fe],r:P},fD),e("GetDibPixel2d",{a:[P,P,k,k],r:Dn},sX),e("SetDibPixel2d",{a:[P,P,k,k,Dn],r:k},aX),e("DeleteTool2d",{a:[P,k,P],r:k},lX),e("GetNextTool2d",{a:[P,k,P],r:P},cX),e("GetToolRef2d",{a:[P,k,P],r:k},uX),e("Rgb",{a:[k,k,k],r:Dn},dX),e("RgbEx",{a:[k,k,k,k],r:Dn},hX),e("Rgbf",{a:[k],r:Dn},fX),e("GetRValue",{a:[Dn],r:k},pX),e("GetGValue",{a:[Dn],r:k},gX),e("GetBValue",{a:[Dn],r:k},mX),e("CreateObjectFromFile2d",{a:[P,fe,k,k,k],r:P},vX),e("DeleteObject2d",{a:[P,P],r:k},yX),e("GetObjectType2d",{a:[P,P],r:k},bX),e("GetObjectName2d",{a:[P,P],r:fe},wX),e("SetObjectName2d",{a:[P,P,fe],r:k},SX),e("GetObject2dByName",{a:[P,P,fe],r:P},CX),e("GetObjectOrg2dx",{a:[P,P],r:k},xX),e("GetObjectOrg2dy",{a:[P,P],r:k},_X),e("SetObjectOrg2d",{a:[P,P,k,k],r:k},EX),e("GetObjectWidth2d",{a:[P,P],r:k},TX),e("GetObjectHeight2d",{a:[P,P],r:k},MX),e("SetObjectSize2d",{a:[P,P,k,k],r:k},OX),e("GetActualWidth2d",{a:[P,P],r:k},RX),e("GetActualHeight2d",{a:[P,P],r:k},IX),e("GetActualSize2d",{a:[P,P,ot,ot],r:k},kX),e("GetObjectAngle2d",{a:[P,P],r:k},PX),e("RotateObject2d",{a:[P,P,k,k,k],r:k},DX),e("SetShowObject2d",{a:[P,P,k],r:k},AX),e("ShowObject2d",{a:[P,P]},LX),e("HideObject2d",{a:[P,P]},NX),e("GetObjectFromPoint2d",{a:[P,k,k],r:P},BX),e("GetLastPrimary2d",{r:P},FX),e("CopyToClipboard2d",{a:[P,P],r:k},jX),e("PasteFromClipboard2d",{a:[P,k,k,k],r:P},VX),e("LockObject2d",{a:[P,P,k],r:k},$X),e("GetObjectAttribute2d",{a:[P,P],r:k},zX),e("SetObjectAttribute2d",{a:[P,P,k,k],r:k},UX),e("GetNextObject2d",{a:[P,P],r:P},HX),e("IsObjectsIntersect2d",{a:[P,P,P,k],r:k},GX),e("GetBottomObject2d",{a:[P],r:P},WX),e("GetTopObject2d",{a:[P],r:P},KX),e("GetLowerObject2d",{a:[P,P],r:P},qX),e("GetUpperObject2d",{a:[P,P],r:P},YX),e("GetObjectFromZOrder2d",{a:[P,k],r:P},XX),e("GetZOrder2d",{a:[P,P],r:k},ZX),e("SetZOrder2d",{a:[P,P,k],r:k},QX),e("ObjectToBottom2d",{a:[P,P],r:k},JX),e("ObjectToTop2d",{a:[P,P],r:k},eZ),e("SwapObject2d",{a:[P,P,P],r:k},tZ),e("CreatePolyLine2d",{a:[P,P,P],rest:[k,k],r:P},nZ),e("CreateLine2d",{a:[P,P,P,k,k],r:P},rZ),e("AddPoint2d",{a:[P,P,k,k,k],r:k},iZ),e("SetVectorPoint2d",{a:[P,P,k,k,k],r:k},oZ),e("DelPoint2d",{a:[P,P,k],r:k},sZ),e("GetPenObject2d",{a:[P,P],r:P},aZ),e("GetBrushObject2d",{a:[P,P],r:P},lZ),e("GetVectorNumPoints2d",{a:[P,P],r:k},cZ),e("GetVectorPoint2dx",{a:[P,P,k],r:k},uZ),e("GetVectorPoint2dy",{a:[P,P,k],r:k},dZ),e("SetBrushObject2d",{a:[P,P,P],r:P},hZ),e("SetPenObject2d",{a:[P,P,P],r:P},fZ),e("SetLineArrows2d",{a:[P,P,k,k,k,k,k,k],r:k},pZ),e("CreateGroup2d",{a:[P],rest:[P],r:P},gZ),e("DeleteGroup2d",{a:[P,P],r:k},mZ),e("AddGroupItem2d",{a:[P,P,P],r:k},vZ),e("DelGroupItem2d",{a:[P,P,P],r:k},yZ),e("GetGroupItemsNum2d",{a:[P,P],r:k},bZ),e("GetGroupItem2d",{a:[P,P,k],r:P},wZ),e("GetObjectParent2d",{a:[P,P],r:P},SZ),e("IsGroupContainObject2d",{a:[P,P,P],r:k},CZ),e("CreateBitmap2d",{a:[P,P,k,k],r:P},xZ),e("CreateDoubleBitmap2d",{a:[P,P,k,k],r:P},_Z),e("GetBitmapSrcRect2d",{a:[P,P,ot,ot,ot,ot],r:k},EZ),e("SetBitmapSrcRect2d",{a:[P,P,k,k,k,k],r:k},TZ),e("GetDibObject2d",{a:[P,P],r:P},MZ),e("GetDDibObject2d",{a:[P,P],r:P},OZ),e("SetDibObject2d",{a:[P,P,P],r:k},RZ),e("SetDDibObject2d",{a:[P,P,P],r:k},IZ),e("CreateRasterText2d",{a:[P,P,k,k,k],r:P},kZ),e("GetTextObject2d",{a:[P,P],r:P},PZ)}const LZ={name:"graphics2d",deps:["windows","streams"],register:AZ};var mD=1e-6,Bs=typeof Float32Array<"u"?Float32Array:Array;function py(){var e=new Bs(9);return Bs!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function vD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function jo(){var e=new Bs(16);return Bs!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function NZ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function yD(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function bD(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=t[9],g=t[10],m=t[11],y=t[12],b=t[13],v=t[14],S=t[15],E=n*l-r*s,T=n*c-i*s,O=n*u-o*s,M=r*c-i*l,I=r*u-o*l,N=i*u-o*c,D=h*b-p*y,L=h*v-g*y,A=h*S-m*y,$=p*v-g*b,j=p*S-m*b,U=g*S-m*v,K=E*U-T*j+O*$+M*A-I*L+N*D;return K?(K=1/K,e[0]=(l*U-c*j+u*$)*K,e[1]=(i*j-r*U-o*$)*K,e[2]=(b*N-v*I+S*M)*K,e[3]=(g*I-p*N-m*M)*K,e[4]=(c*A-s*U-u*L)*K,e[5]=(n*U-i*A+o*L)*K,e[6]=(v*O-y*N-S*T)*K,e[7]=(h*N-g*O+m*T)*K,e[8]=(s*j-l*A+u*D)*K,e[9]=(r*A-n*j-o*D)*K,e[10]=(y*I-b*O+S*E)*K,e[11]=(p*O-h*I-m*E)*K,e[12]=(l*L-s*$-c*D)*K,e[13]=(n*$-r*L+i*D)*K,e[14]=(b*T-y*M-v*E)*K,e[15]=(h*M-p*T+g*E)*K,e):null}function BZ(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],l=t[4],c=t[5],u=t[6],h=t[7],p=t[8],g=t[9],m=t[10],y=t[11],b=t[12],v=t[13],S=t[14],E=t[15],T=n[0],O=n[1],M=n[2],I=n[3];return e[0]=T*r+O*l+M*p+I*b,e[1]=T*i+O*c+M*g+I*v,e[2]=T*o+O*u+M*m+I*S,e[3]=T*s+O*h+M*y+I*E,T=n[4],O=n[5],M=n[6],I=n[7],e[4]=T*r+O*l+M*p+I*b,e[5]=T*i+O*c+M*g+I*v,e[6]=T*o+O*u+M*m+I*S,e[7]=T*s+O*h+M*y+I*E,T=n[8],O=n[9],M=n[10],I=n[11],e[8]=T*r+O*l+M*p+I*b,e[9]=T*i+O*c+M*g+I*v,e[10]=T*o+O*u+M*m+I*S,e[11]=T*s+O*h+M*y+I*E,T=n[12],O=n[13],M=n[14],I=n[15],e[12]=T*r+O*l+M*p+I*b,e[13]=T*i+O*c+M*g+I*v,e[14]=T*o+O*u+M*m+I*S,e[15]=T*s+O*h+M*y+I*E,e}function FZ(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function jZ(e,t,n){var r=n[0],i=n[1],o=n[2],s=Math.sqrt(r*r+i*i+o*o),l,c,u;return s<mD?null:(s=1/s,r*=s,i*=s,o*=s,l=Math.sin(t),c=Math.cos(t),u=1-c,e[0]=r*r*u+c,e[1]=i*r*u+o*l,e[2]=o*r*u-i*l,e[3]=0,e[4]=r*i*u-o*l,e[5]=i*i*u+c,e[6]=o*i*u+r*l,e[7]=0,e[8]=r*o*u+i*l,e[9]=i*o*u-r*l,e[10]=o*o*u+c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function pC(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wD(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],l=t[6],c=t[8],u=t[9],h=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(o*o+s*s+l*l),e[2]=Math.sqrt(c*c+u*u+h*h),e}function VZ(e,t){var n=new Bs(3);wD(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],s=t[0]*r,l=t[1]*i,c=t[2]*o,u=t[4]*r,h=t[5]*i,p=t[6]*o,g=t[8]*r,m=t[9]*i,y=t[10]*o,b=s+h+y,v=0;return b>0?(v=Math.sqrt(b+1)*2,e[3]=.25*v,e[0]=(p-m)/v,e[1]=(g-c)/v,e[2]=(l-u)/v):s>h&&s>y?(v=Math.sqrt(1+s-h-y)*2,e[3]=(p-m)/v,e[0]=.25*v,e[1]=(l+u)/v,e[2]=(g+c)/v):h>y?(v=Math.sqrt(1+h-s-y)*2,e[3]=(g-c)/v,e[0]=(l+u)/v,e[1]=.25*v,e[2]=(p+m)/v):(v=Math.sqrt(1+y-s-h)*2,e[3]=(l-u)/v,e[0]=(g+c)/v,e[1]=(p+m)/v,e[2]=.25*v),e}function SD(e,t,n,r){var i=t[0],o=t[1],s=t[2],l=t[3],c=i+i,u=o+o,h=s+s,p=i*c,g=i*u,m=i*h,y=o*u,b=o*h,v=s*h,S=l*c,E=l*u,T=l*h,O=r[0],M=r[1],I=r[2];return e[0]=(1-(y+v))*O,e[1]=(g+T)*O,e[2]=(m-E)*O,e[3]=0,e[4]=(g-T)*M,e[5]=(1-(p+v))*M,e[6]=(b+S)*M,e[7]=0,e[8]=(m+E)*I,e[9]=(b-S)*I,e[10]=(1-(p+y))*I,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function $Z(e,t,n,r,i){var o=1/Math.tan(t/2);if(e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0){var s=1/(r-i);e[10]=(i+r)*s,e[14]=2*i*r*s}else e[10]=-1,e[14]=-2*r;return e}var zZ=$Z;function UZ(e,t,n,r){var i=t[0],o=t[1],s=t[2],l=r[0],c=r[1],u=r[2],h=i-n[0],p=o-n[1],g=s-n[2],m=h*h+p*p+g*g;m>0&&(m=1/Math.sqrt(m),h*=m,p*=m,g*=m);var y=c*g-u*p,b=u*h-l*g,v=l*p-c*h;return m=y*y+b*b+v*v,m>0&&(m=1/Math.sqrt(m),y*=m,b*=m,v*=m),e[0]=y,e[1]=b,e[2]=v,e[3]=0,e[4]=p*v-g*b,e[5]=g*y-h*v,e[6]=h*b-p*y,e[7]=0,e[8]=h,e[9]=p,e[10]=g,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}var yc=BZ;function Vr(){var e=new Bs(3);return Bs!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function HZ(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function qo(e,t,n){var r=new Bs(3);return r[0]=e,r[1]=t,r[2]=n,r}function CD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function kl(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function GZ(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function WZ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function KZ(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function qZ(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function YZ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function XZ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function ZZ(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function gy(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function lu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function rf(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],l=n[1],c=n[2];return e[0]=i*c-o*l,e[1]=o*s-r*c,e[2]=r*l-i*s,e}function cu(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,e}function QZ(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],s=t[1],l=t[2],c=Math.sqrt((n*n+r*r+i*i)*(o*o+s*s+l*l)),u=c&&lu(e,t)/c;return Math.acos(Math.min(Math.max(u,-1),1))}var rg=WZ,JZ=KZ,eQ=YZ,gC=XZ,tQ=HZ,xD=ZZ;(function(){var e=Vr();return function(t,n,r,i,o,s){var l,c;for(n||(n=3),r||(r=0),i?c=Math.min(i*n+r,t.length):c=t.length,l=r;l<c;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],o(e,e,s),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2];return t}})();function nQ(){var e=new Bs(4);return Bs!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function ig(e,t,n,r){var i=new Bs(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function mC(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function rQ(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=o*s,e}(function(){var e=nQ();return function(t,n,r,i,o,s){var l,c;for(n||(n=4),r||(r=0),i?c=Math.min(i*n+r,t.length):c=t.length,l=r;l<c;l+=n)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,s),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}})();function og(){var e=new Bs(4);return Bs!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function iQ(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function oQ(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function sQ(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+s*l,e[1]=i*c+o*l,e[2]=o*c-i*l,e[3]=s*c-r*l,e}function aQ(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c-o*l,e[1]=i*c+s*l,e[2]=o*c+r*l,e[3]=s*c-i*l,e}function lQ(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*l,e[1]=i*c-r*l,e[2]=o*c+s*l,e[3]=s*c-o*l,e}function vC(e,t,n,r){var i=t[0],o=t[1],s=t[2],l=t[3],c=n[0],u=n[1],h=n[2],p=n[3],g,m,y,b,v;return m=i*c+o*u+s*h+l*p,m<0&&(m=-m,c=-c,u=-u,h=-h,p=-p),1-m>mD?(g=Math.acos(m),y=Math.sin(g),b=Math.sin((1-r)*g)/y,v=Math.sin(r*g)/y):(b=1-r,v=r),e[0]=b*i+v*c,e[1]=b*o+v*u,e[2]=b*s+v*h,e[3]=b*l+v*p,e}function cQ(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[o*3+o]-t[s*3+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[o*3+s]-t[s*3+o])*r,e[o]=(t[o*3+i]+t[i*3+o])*r,e[s]=(t[s*3+i]+t[i*3+s])*r}return e}var uQ=mC,yC=rQ;(function(){var e=Vr(),t=qo(1,0,0),n=qo(0,1,0);return function(r,i,o){var s=lu(i,o);return s<-.999999?(rf(e,t,i),tQ(e)<1e-6&&rf(e,n,i),gy(e,e),oQ(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(rf(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,yC(r,r))}})(),(function(){var e=og(),t=og();return function(n,r,i,o,s,l){return vC(e,r,s,l),vC(t,i,o,l),vC(n,e,t,2*l*(1-l)),n}})(),(function(){var e=py();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],yC(t,cQ(t,e))}})();function dQ(e,t,n){const r=[],i=Math.ceil(n/8);e.font=t;let o=0;const s=i,l=i,c=i,u=i;let h=0;for(let m=0;m<16;++m){let y=0;for(let b=0;b<16;++b){const v=m*16+b,S=el[v],{width:E}=e.measureText(S),T=n;r.push({x:y+c,y:h+s,w:E,h:T,asc:s,desc:l,left:c,right:u}),y+=c+Math.ceil(E)+u}h+=s+n+l,o=Math.max(o,y)}return{font:t,fontSize:n,glyphRects:r,width:o,height:h}}function hQ(e,{font:t,glyphRects:n,height:r,width:i}){e.canvas.width=i,e.canvas.height=r,e.font=t,e.fillStyle="white",e.textAlign="left",e.textBaseline="top",e.fontKerning="none",n.forEach(({x:o,y:s},l)=>{e.fillText(el[l],o,s)})}const fQ=2,pQ=0,gQ=1,mQ=2,vQ=3,yQ=4,bQ=5,wQ=6,SQ=7,CQ=8,xQ=9,_Q=0,sg=1,EQ=2,TQ=1,MQ=2,OQ=3,_D=4,RQ=5,IQ=6,kQ=0,PQ=1,DQ=0,ED=1,my=0,ag=1,vy=2,AQ=0,LQ=1,NQ=2,yy=0,by=1,lg=2;class bC{constructor(t){this.objectsGenerator=t,this.list=new WeakMap,this.cur=null}get(t){const{cur:n}=this;if(n&&n.ctx===t)return n;const r=this.list.get(t);if(r)return this.cur=r;const i=this.objectsGenerator(t);return this.list.set(t,this.cur=i),i}}function cg(e,t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){console.log(n.split(`
`).map((s,l)=>`${l+1}: ${s}`).join(`
`));const o=e.getShaderInfoLog(r);throw Error(`Ошибка компиляции шейдера (${t===e.VERTEX_SHADER?"vertex":"fragment"}): ${o}`)}return r}function wC(e,t,n){const r=e.getUniformLocation(t,n);if(!r)throw Error(`Программа не содержит Uniform '${n}'`);return r}class BQ{constructor(){this.entries=new Map}add(t,n,r){let i=this.entries.get(t);i||this.entries.set(t,i=new Map);let o=i.get(n);o?o.push(r):i.set(n,o=[r])}filterInline(t){this.entries.forEach((n,r)=>{n.forEach((i,o)=>{const s=i.filter(t);s.length?n.set(o,s):n.delete(o)}),n.size||this.entries.delete(r)})}}var FQ=`precision mediump float;
#ifdef UV
uniform sampler2D uTexture;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){
#ifndef GOURAUD
vec4 vLightColor4=vec4(1,1,1,1);
#endif
#ifdef UV
gl_FragColor=texture2D(uTexture,vTexCoord)*vLightColor4;
#else
gl_FragColor=vLightColor4;
#endif
}`,jQ=`uniform mat4 uMVP4;
#ifdef GOURAUD
uniform vec3 uWorldLightPos;uniform mat4 uWorldMat4;uniform mat3 uWorldNormalMat;uniform vec3 uAmbientColor;uniform vec4 uTechDiffuseColor4;
#endif
attribute vec4 aPos4;
#ifdef GOURAUD
attribute vec3 aNormal;
#endif
#ifdef UV
attribute vec2 aUv;
#endif
#ifdef GOURAUD
varying vec4 vLightColor4;
#endif
#ifdef UV
varying vec2 vTexCoord;
#endif
void main(){gl_Position=uMVP4*aPos4;
#ifdef GOURAUD
vec3 lightDir=normalize(uWorldLightPos-(uWorldMat4*aPos4).xyz);vec3 worldNormal=normalize(uWorldNormalMat*aNormal);vec3 uLightDiffuse=vec3(1,1,1);float uLightPower=1.;vec3 diffuse=uLightDiffuse*uLightPower*max(dot(worldNormal,lightDir),.0);vec3 GI=uAmbientColor+(uTechDiffuseColor4.rgb*diffuse);vLightColor4=vec4(GI,uTechDiffuseColor4.a);
#endif
#ifdef UV
vTexCoord=aUv;
#endif
}`;let wy=-1;const of=[{usesUV:!1,shadingMode:-1,index:++wy},{usesUV:!1,shadingMode:sg,index:++wy},{usesUV:!0,shadingMode:-1,index:++wy},{usesUV:!0,shadingMode:sg,index:++wy}],TD={usesUV:!0,shadingMode:-1,index:-1};class MD{constructor(t,n,r,i){this.ctx=t,this.shaderProgram=n,this.hasNormalsSupport=r,this.hasUVSupport=i,this._activeTech=null,this._activeVAO=null}use(){const{ctx:t}=this;t._activeProgram!==this&&(t._setActiveProgram(this),t.gl.useProgram(this.shaderProgram),this._activeTech=null,this._activeVAO=null,++t.stats.switchesProgram,this.init())}_setActiveTech(t){this._activeTech=t}_setActiveVAO(t){this._activeVAO=t}}const OD=of.map(({usesUV:e,shadingMode:t})=>{const n=[];return e&&n.push("UV"),n.push(t===sg?"GOURAUD":t===EQ?"PHONG":t===_Q?"FLAT":"NO_SHADING"),n.map(r=>`#define ${r}
`).join("")}),VQ=OD.map(e=>e+jQ),$Q=OD.map(e=>e+FQ),zQ=Vr();class RD extends MD{constructor(t,n,r,i){const{gl:o}=t,s=o.createProgram();if(o.attachShader(s,r),o.attachShader(s,i),o.bindAttribLocation(s,yy,"aPos4"),o.bindAttribLocation(s,by,"aNormal"),o.bindAttribLocation(s,lg,"aUv"),o.linkProgram(s),!o.getProgramParameter(s,o.LINK_STATUS)){const u=o.getProgramInfoLog(s);throw Error(`Ошибка Link Program: ${u}`)}const l=n.shadingMode>-1;super(t,s,l,n.usesUV),this.caps=n,this.uTechDiffuseColor4=null,this.uAmbientColor=null,this.uWorldLightPos=null,this.uWorldMat4=null,this.uWorldNormalMat=null;const c=wC.bind(null,o,s);this.uVMP4=c("uMVP4"),l&&(this.uTechDiffuseColor4=c("uTechDiffuseColor4"),this.uWorldLightPos=c("uWorldLightPos"),this.uWorldMat4=c("uWorldMat4"),this.uWorldNormalMat=c("uWorldNormalMat"),this.uAmbientColor=c("uAmbientColor")),this.gl=o}init(){this.hasNormalsSupport&&this.gl.uniform3fv(this.uWorldLightPos,this.ctx._lightPosition)}setMVPMatrix(t){this.gl.uniformMatrix4fv(this.uVMP4,!1,t)}setNormalMatrix(t,n){const{gl:r}=this;r.uniformMatrix4fv(this.uWorldMat4,!1,t),r.uniformMatrix3fv(this.uWorldNormalMat,!1,n)}setDiffuse(t){this.gl.uniform4fv(this.uTechDiffuseColor4,t)}setAmbient(t){this.gl.uniform3fv(this.uAmbientColor,JZ(zQ,this.ctx._ambientColor,t))}useTexture(){}}var UQ="precision mediump float;varying vec2 tCoord;uniform vec4 color;uniform bool useTexture;uniform sampler2D tex;void main(){gl_FragColor=useTexture ? texture2D(tex,tCoord)*color : color;}",HQ="attribute vec2 v;attribute vec2 uv;uniform vec4 p;uniform vec4 uvRect;varying vec2 tCoord;void main(){gl_Position=vec4((p.x+p.z*v.x)*2.-1.,(-p.y+p.w*v.y)*2.+1.,0,1);tCoord=vec2(uvRect.x+uvRect.z*uv.x,uvRect.y+uvRect.w*uv.y);}";class GQ extends MD{constructor(t){const{gl:n}=t,r=cg(n,n.VERTEX_SHADER,HQ),i=cg(n,n.FRAGMENT_SHADER,UQ),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,i),n.bindAttribLocation(o,yy,"v"),n.bindAttribLocation(o,lg,"uv"),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS)){const l=n.getProgramInfoLog(o);throw Error(`Ошибка Link Program: ${l}`)}super(t,o,!1,!0),this.textureInUse=!1;const s=wC.bind(null,n,o);this.uPos=s("p"),this.uUVRect=s("uvRect"),this.uColor=s("color"),this.uUseTexture=s("useTexture"),this.gl=t.gl}setColor(t){this.gl.uniform4fv(this.uColor,t)}setPositionAndScale(t,n,r,i){this.gl.uniform4f(this.uPos,t,n,r,i)}setUVRect(t){this.gl.uniform4fv(this.uUVRect,t)}useTexture(t){this.textureInUse!==t&&(this.textureInUse=t,this.gl.uniform1f(this.uUseTexture,+t))}init(){}}var WQ="precision mediump float;uniform sampler2D uTexture;uniform vec4 uTextColor;varying vec2 vTexCoord;void main(){float alpha=texture2D(uTexture,vTexCoord).a*uTextColor.a;gl_FragColor=vec4(uTextColor.rgb,alpha);}";class KQ extends RD{constructor(t,n){const{gl:r}=t,i=cg(r,r.FRAGMENT_SHADER,WQ);super(t,TD,n,i),this.uTextColor=wC(r,this.shaderProgram,"uTextColor")}setTextColor(t){this.gl.uniform4fv(this.uTextColor,t)}}class ug{use(t){const n=this.selectProgram(t);return n.use(),n._activeTech===this||(n._setActiveTech(this),this.apply(n),++t.stats.switchesTech),n}}class qQ extends ug{constructor(t){super(),this.material=t,this.passVersion=-1,this.texture=null,this.programCaps=null,this.pass=t.techs[0].passes[0]}prepare(){const{pass:t}=this;if(this.passVersion===t._version)return;this.passVersion=t._version;const r=!!(this.texture=t._getDefaultTextureUnit()?.getTexture()||null),i=t.lightingEnabled?sg:0,o=of.find(s=>s.usesUV===r&&s.shadingMode===i);if(!o)throw Error(`Материал "${this.material.name}": программа с заданными требованиями (usesUV: ${r}, shadingMode: ${i}) не существует`);this.programCaps=o}hasOpacity(){const{pass:t}=this;return t.diffuse[3]<1}getProgramCaps(){return this.prepare(),this.programCaps}selectProgram(t){return this.prepare(),t.meshPrograms[this.programCaps.index]}apply(t){const{ctx:n}=t,{pass:r}=this;n.setDepthWrite(r.depthWrite),n.setDepthCheck(r.depthCheck),this.texture?.use(n),t.setDiffuse(r.diffuse),t.setAmbient(r.ambient)}}class YQ extends ug{constructor(t){super(),this.material=t,this.pass=t.techs[0].passes[0]}selectProgram(t){return t.overlayProgram}apply(t){const{pass:n}=this,r=n._getDefaultTextureUnit()?.getTexture();r?(r.use(t.ctx),t.useTexture(!0)):t.useTexture(!1),t.setColor(n.diffuse)}}class XQ extends ug{constructor(t,n){super(),this.fontTexture=t,this.colorSource=n}getProgramCaps(){return TD}selectProgram(t){return t.textProgram}apply(t){this.fontTexture.use(t.ctx),t.setTextColor(this.colorSource.color)}}const ZQ=ig(0,0,1,1);class QQ extends ug{constructor(t){super(),this.fontTexture=t}selectProgram(t){return t.overlayProgram}apply(t){this.fontTexture.use(t.ctx),t.useTexture(!0),t.setUVRect(ZQ)}}const SC=Qh(0,0).getContext("2d",{alpha:!0});class JQ{constructor(t){this.fontName=t,this.cache=new bC(this.genFontTexture.bind(this)),this.textOverlayRenderTech=null;const n=Math.round(150/72*20);this.glyphData=dQ(SC,`${n}px ${this.fontName}`,n)}genFontTexture(t){hQ(SC,this.glyphData);const{gl:n}=t,r=n.createTexture();return t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,SC.canvas),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}getTextOverlayRenderTech(){return this.textOverlayRenderTech||(this.textOverlayRenderTech=new QQ(this)),this.textOverlayRenderTech}}class eJ{constructor(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesVAO=0,this.switchesFace=0,this.dcOpaque=0,this.dcTransparent=0,this.dcOverlay=0,this.dcTotal=0;const t=this;Object.defineProperty(window,"s",{configurable:!0,get(){return t}})}reset(){this.switchesProgram=0,this.switchesTech=0,this.switchesTexture=0,this.switchesFace=0,this.switchesVAO=0,this.dcOpaque=0,this.dcTransparent=0,this.dcTotal=0,this.dcOverlay=0}}class tJ{constructor(t){this.gl=t,this.currentTexture=null,this.uvEnabled=!1,this.normalsEnabled=!1,this.backFacesInUse=!1,this.depthWrite=!0,this.depthCheck=!0,this.blendSFactor=WebGLRenderingContext.ONE,this.blendDFactor=WebGLRenderingContext.ZERO,this._ambientColor=Vr(),this._lightPosition=Vr(),this.stats=new eJ,this._activeProgram=null,t.enable(t.CULL_FACE),t.enableVertexAttribArray(yy),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.hasIndices32Support=!!t.getExtension("OES_element_index_uint");const n=VQ.map(o=>cg(t,t.VERTEX_SHADER,o)),r=$Q.map(o=>cg(t,t.FRAGMENT_SHADER,o));this.meshPrograms=of.map((o,s)=>new RD(this,o,n[s],r[s]));const i=n[of.findIndex(o=>o.usesUV&&o.shadingMode<0)];this.textProgram=new KQ(this,i),this.overlayProgram=new GQ(this)}_setActiveProgram(t){this._activeProgram=t}reset(){this.stats.reset()}setLighting(t,n){CD(this._ambientColor,t),CD(this._lightPosition,n),this._activeProgram?.init()}enableUV(){this.uvEnabled||(this.uvEnabled=!0,this.gl.enableVertexAttribArray(lg))}disableUV(){this.uvEnabled&&(this.uvEnabled=!1,this.gl.disableVertexAttribArray(lg))}enableNormals(){this.normalsEnabled||(this.normalsEnabled=!0,this.gl.enableVertexAttribArray(by))}disableNormals(){this.normalsEnabled&&(this.normalsEnabled=!1,this.gl.disableVertexAttribArray(by))}useBackFaces(t){if(this.backFacesInUse===t)return;this.backFacesInUse=t;const{gl:n}=this;n.frontFace(t?n.CW:n.CCW),++this.stats.switchesFace}setTexture(t){if(this.currentTexture===t)return;this.currentTexture=t;const{gl:n}=this;n.bindTexture(n.TEXTURE_2D,t),++this.stats.switchesTexture}setDepthWrite(t){this.depthWrite!==t&&(this.depthWrite=t,this.gl.depthMask(t))}setDepthCheck(t){if(this.depthCheck===t)return;this.depthCheck=t;const{gl:n}=this;n.depthFunc(t?n.LESS:n.ALWAYS)}setBlendFunc(t,n){this.blendSFactor===t&&this.blendDFactor===n||(this.blendSFactor=t,this.blendDFactor=n,this.gl.blendFunc(t,n))}}function bc(e){const t=e.split(" ").map(n=>parseFloat(n));return t.length===4&&!t.some(isNaN)?[t[0],t[1],t[2]-t[0],t[3]-t[1]]:null}function nJ(e){const t=e.split(" ").slice(0,3).map(n=>parseFloat(n));return t.some(isNaN)?null:[...t,1]}class CC{constructor(t,n,r){this.o=t,this.type=n,this.overlay=null,this.parent=null,this.children=[],this.visible=!0,this.x=0,this.y=0,this.width=0,this.height=0,this.metricsMode=DQ,this.horAlign=my,this.horTextAlign=my,this.vertAlign=AQ,this.caption="",this.charHeight=12,this.spaceWidth=0,this.color=[1,1,1,1],this.material=null,this.uv=[0,0,1,1],this.uvTL=[0,0,1,1],this.uvTR=[0,0,1,1],this.uvBL=[0,0,1,1],this.uvBR=[0,0,1,1],this.uvL=[0,0,1,1],this.uvR=[0,0,1,1],this.uvT=[0,0,1,1],this.uvB=[0,0,1,1],this.borders=[0,0,0,0],this.textMesh=null,t.overlayElements.set(this.key=t.key(),this),this.name=r?.name??""}drawAt(t,n,r,i,o,s,l){const{visible:c,vertAlign:u,horAlign:h,metricsMode:p,x:g,y:m,width:y,height:b}=this;if(!c)return;const v=p===ED,S=(v?g/s:g)+(h===vy?i:h===ag?i/2:0)+n,E=(v?m/l:m)+(u===NQ?o:u===LQ?o/2:0)+r,T=v?y/s:y,O=v?b/l:b;this.draw(t,S,E,T,O,s,l),this.children.forEach(M=>M.drawAt(t,S,E,T,O,s,l))}setMetricsMode(t){return this.metricsMode=t,this}setChildren(t){return this.children.forEach(n=>n.parent=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>n.parent=this),this}setVisible(t){return this.visible=t,this}setPosition(t,n){return this.x=t,this.y=n,this}setSize(t,n){return this.width=t,this.height=n,this}setAlignment(t,n){return this.horAlign=t,this.vertAlign=n,this}setCaption(t){return this.caption!==t&&(this.caption=t,this.textMesh=null),this}setColor(t,n,r,i){return this.color=[t,n,r,i],this}setMaterial(t){return this.material=t,this}setParam(t,n){switch(t){case"uv_coords":{const i=bc(n);i&&(this.uv=i);break}case"border_material":break;case"border_size":{const i=n.split(" ").map(o=>Math.max(parseInt(o),2));i.length===4&&!i.some(isNaN)&&(this.borders=i);break}case"border_topleft_uv":{const i=bc(n);i&&(this.uvTL=i);break}case"border_topright_uv":{const i=bc(n);i&&(this.uvTR=i);break}case"border_bottomleft_uv":{const i=bc(n);i&&(this.uvBL=i);break}case"border_bottomright_uv":{const i=bc(n);i&&(this.uvBR=i);break}case"border_left_uv":{const i=bc(n);i&&(this.uvL=i);break}case"border_right_uv":{const i=bc(n);i&&(this.uvR=i);break}case"border_top_uv":{const i=bc(n);i&&(this.uvT=i);break}case"border_bottom_uv":{const i=bc(n);i&&(this.uvB=i);break}case"font_name":break;case"alignment":this.horTextAlign=n==="center"?ag:n==="right"?vy:my;break;case"colour":const r=nJ(n);r&&(this.color=r);break;case"char_height":{const i=parseInt(n)||12;this.charHeight!==i&&(this.charHeight=i,this.textMesh=null);break}case"space_width":{const i=parseInt(n)||12;this.spaceWidth!==i&&(this.spaceWidth=i,this.textMesh=null);break}default:console.warn(`Неизвестный параметр StringInterface: '${t}'`);break}}}class sf{constructor(t){this.data=t,this.cache=new bC(this.genBuffers.bind(this)),this.gl=null;const{indices:n,positions:r,positionSize:i}=t,o=this.useIndices32=n instanceof Uint32Array;this.positionSize=i,this.hasIndices=!!n,this.count=n?.length??r.length/i,this.drawMode=t.drawMode??WebGLRenderingContext.TRIANGLES,this.indicesType=o?WebGLRenderingContext.UNSIGNED_INT:WebGLRenderingContext.UNSIGNED_SHORT}genBuffers(t){const{gl:n}=t,{indices:r,positions:i,uvs:o,normals:s}=this.data,l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,i,n.STATIC_DRAW);let c;o?(c=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferData(n.ARRAY_BUFFER,o,n.STATIC_DRAW)):c=null;let u;s?(u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,s,n.STATIC_DRAW)):u=null;let h;return r?(h=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,h),n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW),this.useIndices32&&!t.hasIndices32Support&&(console.warn("WebGL: Не поддерживаются 32-битные индексы"),this.indicesType=n.UNSIGNED_SHORT,this.count=0)):h=null,{ctx:t,positionsBuffer:l,uvsBuffer:c,normalsBuffer:u,indexBuffer:h}}use(t){if(t._activeVAO===this)return;t._setActiveVAO(this);const{ctx:n}=t,{positionsBuffer:r,uvsBuffer:i,normalsBuffer:o,indexBuffer:s}=this.cache.get(n),{gl:l}=n;l.bindBuffer(l.ARRAY_BUFFER,r),l.vertexAttribPointer(yy,this.positionSize,l.FLOAT,!1,0,0),i&&t.hasUVSupport?(l.bindBuffer(l.ARRAY_BUFFER,i),l.vertexAttribPointer(lg,2,l.FLOAT,!1,0,0),n.enableUV()):n.disableUV(),o&&t.hasNormalsSupport?(l.bindBuffer(l.ARRAY_BUFFER,o),l.vertexAttribPointer(by,3,l.FLOAT,!1,0,0),n.enableNormals()):n.disableNormals(),s&&l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,s),this.gl=l,++n.stats.switchesVAO}draw(){const{gl:t,drawMode:n,count:r,indicesType:i,hasIndices:o}=this;o?t.drawElements(n,r,i,0):t.drawArrays(n,0,r)}_drawRange(t,n){const{gl:r,drawMode:i,indicesType:o}=this;r.drawElements(i,n,o,t)}}class rJ{constructor(t,n,r){this.sharedVAO=t,this.count=r,this.byteOffset=n*(t.useIndices32?4:2)}use(t){this.sharedVAO.use(t)}draw(){this.sharedVAO._drawRange(this.byteOffset,this.count)}}const Sy=new sf({positionSize:2,positions:new Float32Array([0,0,0,-1,1,-1,1,0]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),drawMode:WebGLRenderingContext.TRIANGLE_FAN});class iJ extends CC{constructor(t,n){super(t,"Panel",n)}draw(t,n,r,i,o){const{material:s,uv:l}=this;if(!s)return;const c=s._getPanelOverlayRenderTech().use(t);Sy.use(c),c.setUVRect(l),c.setPositionAndScale(n,r,i,o),Sy.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class oJ extends CC{constructor(t,n){super(t,"BorderPanel",n)}draw(t,n,r,i,o,s,l){const{material:c,uv:u,borders:h,uvTL:p,uvT:g,uvTR:m,uvR:y,uvBR:b,uvB:v,uvBL:S,uvL:E,metricsMode:T}=this;if(!c)return;const O=c._getPanelOverlayRenderTech().use(t);Sy.use(O);const M=T===ED,I=M?h[0]/s:h[0],N=M?h[1]/s:h[1],D=M?h[2]/l:h[2],L=M?h[3]/l:h[3],A=i-I-N,$=o-D-L;[[[I,D,A,$],u],[[0,0,I,D],p],[[I,0,A,D],g],[[I+A,0,N,D],m],[[I+A,D,N,$],y],[[I+A,D+$,N,L],b],[[I,D+$,A,L],v],[[0,D+$,I,L],S],[[0,D,I,$],E]].forEach(([U,K])=>{O.setUVRect(K),O.setPositionAndScale(n+U[0],r+U[1],U[2],U[3]),Sy.draw(),++t.stats.dcOverlay,++t.stats.dcTotal})}}function ID(e,t,n=my,r=0){const{glyphRects:i,fontSize:o,height:s,width:l}=e,c=[...t],u=(r||i[Zv].w)/o;let h=0;const p=[];let g=0,m=0;{let E={glyphs:[],width:0},T=0;c.forEach(O=>{const M=el.indexOf(O),I=M>-1?M:Zv;if(I===Dq){p.push(E),g=Math.max(g,E.width),m+=1,E={glyphs:[],width:0},T=0,E.width=0;return}const N=i[I];if(I===Zv)(n!==ag||!p.length||E.glyphs.length)&&(E.width+=u,E.glyphs.push(null));else{const D=N.w/o,L=N.h/o;E.width+=D,T=Math.max(T,L),E.glyphs.push(N),++h}}),p.push(E),g=Math.max(g,E.width),m+=T}if(!h)return{caption:t,width:g,height:m,vao:null,align:n};const y=new Float32Array(h*8),b=new Float32Array(h*8),v=new Uint16Array(h*6);{let E=0,T=0;p.forEach(O=>{let M=n===ag?(g-O.width)/2:n===vy?g-O.width:0;O.glyphs.forEach(I=>{if(!I){M+=u;return}const N=I.w/o,D=I.x-I.left,L=I.y-I.asc,A=I.left+I.w+I.right,$=I.asc+I.h+I.desc,j=A/o,U=$/o,K=E*8,q=E*6,z=E*4;++E;{const Y=M-I.left/o,te=T+I.asc/o;M+=N;const ie=Y,Q=Y,H=Y+j,X=H,he=te,pe=te-U,ge=pe,ce=he;y[K+0]=ie,y[K+1]=he,y[K+2]=Q,y[K+3]=pe,y[K+4]=H,y[K+5]=ge,y[K+6]=X,y[K+7]=ce}{const Y=D/l,te=Y,ie=(D+A)/l,Q=ie,H=L/s,X=(L+$)/s,he=X,pe=H;b[K+0]=Y,b[K+1]=H,b[K+2]=te,b[K+3]=X,b[K+4]=ie,b[K+5]=he,b[K+6]=Q,b[K+7]=pe}v[q+0]=z+0,v[q+1]=z+1,v[q+2]=z+2,v[q+3]=z+0,v[q+4]=z+2,v[q+5]=z+3}),T-=1})}const S=new sf({positionSize:2,positions:y,uvs:b,indices:v});return{caption:t,width:g,height:m,vao:S,align:n}}class sJ extends CC{constructor(t,n){super(t,"TextArea",n),this.tech=t._getFontTexture().getTextOverlayRenderTech()}draw(t,n,r,i,o,s,l){const{caption:c,tech:u,horTextAlign:h,spaceWidth:p}=this;if(!c)return;const{vao:g,width:m}=this.textMesh||(this.textMesh=ID(u.fontTexture.glyphData,c,h,p));if(!g)return;const y=u.use(t);g.use(y);const b=this.charHeight*.75,v=b/s,S=b/l,E=n-(h===vy?m*v:h===ag?m*v/2:0);y.setPositionAndScale(E,r,v,S),y.setColor(this.color),g.draw(),++t.stats.dcOverlay,++t.stats.dcTotal}}class Cy{constructor(){this.renderIteration=0,this.currentRenderList=null}_setCurrentRenderList(t){this.currentRenderList=t}_setRenderIteration(t){this.renderIteration=t}_techOrVAOChanged(){this.currentRenderList?._removeElement(this)}}class aJ{constructor(){this.renderIteration=0,this.gcFilter=t=>t.currentRenderList===this,this.capsGroups=of.map(()=>new BQ)}clear(){++this.renderIteration}add(t){if(t._setRenderIteration(this.renderIteration),t.currentRenderList===this)return;t._setCurrentRenderList(this);const n=t.getRenderTech(),r=t.getVAO(),i=n.getProgramCaps();this.capsGroups[i.index].add(n,r,t)}_removeElement(t){t._setCurrentRenderList(null),this.gc()}render(t,n){let r=!1;const{renderIteration:i}=this,{stats:o}=t;for(const s of this.capsGroups)s.entries.forEach((l,c)=>{const u=c.use(t),{hasNormalsSupport:h}=u;l.forEach((p,g)=>{g.use(u),p.forEach(m=>{if(m.currentRenderList!==this){r=!0;return}if(m.renderIteration!==i){m._setCurrentRenderList(null),r=!0;return}t.useBackFaces(m.isMirrored()),h&&u.setNormalMatrix(m.getWorldMatrix(),m.getWorldNormalMatrix()),u.setMVPMatrix(m.getMVPMatrix(n)),g.draw(),++o.dcOpaque,++o.dcTotal})})});r&&this.gc()}gc(){for(const t of this.capsGroups)t.filterInline(this.gcFilter)}}class kD{constructor(){this.elements=[],this.renderIteration=0}clear(){++this.renderIteration}add(t){t._setRenderIteration(this.renderIteration),t.currentRenderList!==this&&(t._setCurrentRenderList(this),this.elements.push(t))}_removeElement(){}render(t,n){let r=!1;const{renderIteration:i}=this,{stats:o}=t;if(n.node){const s=n.node.getWorldPosition();this.elements.sort((l,c)=>gC(s,c.getWorldCOM())-gC(s,l.getWorldCOM()))}else this.elements.sort((s,l)=>xD(l.getWorldCOM())-xD(s.getWorldCOM()));this.elements.forEach(s=>{if(s.currentRenderList!==this){r=!0;return}if(s.renderIteration!==i){s._setCurrentRenderList(null),r=!0;return}const l=s.getRenderTech(),c=s.getVAO(),u=l.use(t);c.use(u),t.useBackFaces(s.isMirrored()),u.hasNormalsSupport&&u.setNormalMatrix(s.getWorldMatrix(),s.getWorldNormalMatrix()),u.setMVPMatrix(s.getMVPMatrix(n)),c.draw(),++o.dcTotal,++o.dcTransparent}),r&&this.gc()}gc(){this.elements=this.elements.filter(t=>t.currentRenderList===this)}}class lJ{constructor(t){this.image=t,this.cache=new bC(this.genTexture.bind(this))}genTexture(t){const{gl:n}=t,r=n.createTexture();function i(s){t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,s),yP(s.width)&&yP(s.height)?n.generateMipmap(n.TEXTURE_2D):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE))}const{image:o}=this;return o.complete&&o.naturalHeight?i(o):(t.setTexture(r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([211,211,211,64])),o.complete||o.addEventListener("load",()=>i(o))),{ctx:t,texture:r}}use(t){t.setTexture(this.cache.get(t).texture)}}const cJ=jo(),uJ=py(),PD=Vr(),dJ=qo(0,1,0),DD=qo(0,0,-1),hJ=qo(1,1,1),fJ=ig(1,1,1,1),xC=Vr(),_C=Vr(),EC=Vr(),TC=Vr(),MC=Vr();function AD({origin:e,dir:t},n,r,i){rg(xC,r,n),rg(_C,i,n),rf(EC,t,_C);const o=lu(xC,EC);if(o>-Number.EPSILON&&o<Number.EPSILON)return 1/0;const s=1/o;rg(TC,e,n);const l=lu(TC,EC)*s;if(l<0||l>1)return 1/0;rf(MC,TC,xC);const c=lu(t,MC)*s;if(c<0||l+c>1)return 1/0;const u=lu(_C,MC)*s;return u>Number.EPSILON?u:1/0}const uu=Vr(),du=Vr(),hu=Vr();function pJ(e,t){let n=1/0;for(let r=0;r+8<t.length;r+=9){uu[0]=t[r+0],uu[1]=t[r+1],uu[2]=t[r+2],du[0]=t[r+3],du[1]=t[r+4],du[2]=t[r+5],hu[0]=t[r+6],hu[1]=t[r+7],hu[2]=t[r+8];const i=AD(e,uu,du,hu);n>i&&(n=i)}return n}function gJ(e,t,n){let r=1/0;for(let i=0;i+2<n.length;i+=3){const o=n[i+0]*3,s=n[i+1]*3,l=n[i+2]*3;uu[0]=t[o+0],uu[1]=t[o+1],uu[2]=t[o+2],du[0]=t[s+0],du[1]=t[s+1],du[2]=t[s+2],hu[0]=t[l+0],hu[1]=t[l+1],hu[2]=t[l+2];const c=AD(e,uu,du,hu);r>c&&(r=c)}return r}function mJ(e,t,n){const[r,i,o]=t;return e[0]=n[0]*r+n[4]*i+n[8]*o,e[1]=n[1]*r+n[5]*i+n[9]*o,e[2]=n[2]*r+n[6]*i+n[10]*o,gy(e,e)}function vJ(e,t,n){return cu(e.origin,t.origin,n),mJ(e.dir,t.dir,n),e}function LD(e){switch(e){case pQ:return WebGLRenderingContext.ONE;case gQ:return WebGLRenderingContext.ZERO;case mQ:return WebGLRenderingContext.DST_COLOR;case vQ:return WebGLRenderingContext.SRC_COLOR;case yQ:return WebGLRenderingContext.ONE_MINUS_DST_COLOR;case bQ:return WebGLRenderingContext.ONE_MINUS_SRC_COLOR;case wQ:return WebGLRenderingContext.DST_ALPHA;case SQ:return WebGLRenderingContext.SRC_ALPHA;case CQ:return WebGLRenderingContext.ONE_MINUS_DST_ALPHA;case xQ:return WebGLRenderingContext.ONE_MINUS_SRC_ALPHA;default:return 0}}function yJ(e){switch(e){case TQ:return WebGLRenderingContext.POINTS;case MQ:return WebGLRenderingContext.LINES;case OQ:return WebGLRenderingContext.LINE_STRIP;case RQ:return WebGLRenderingContext.TRIANGLE_STRIP;case IQ:return WebGLRenderingContext.TRIANGLE_FAN;default:return WebGLRenderingContext.TRIANGLES}}function OC(){return{origin:Vr(),dir:qo(0,0,1)}}const bJ=new sf({positionSize:2,positions:new Float32Array([-.5,-.5,-.5,.5,.5,.5,.5,-.5]),uvs:new Float32Array([0,0,0,1,1,1,1,0]),indices:new Uint16Array([0,2,1,0,3,2,0,1,2,0,2,3])});class wJ extends Cy{constructor(t,n,r){super(),this.set=t,this.position=n,this.parentScale=r,this.worldMatrix=jo(),this.localMatrix=jo(),this.worldCOM=Vr(),this.rotation=og(),this.mvpMatrix=jo(),this.worldMatrixVersion=0,this.comWorldMatrixVersion=0,this.shouldUpdateLocalMatrix=!0,this.key=t.o.key()}getMVPMatrix(t){return yc(this.mvpMatrix,t._getVPMatrix(),this.getWorldMatrix())}getWorldMatrix(){const{set:t}=this;this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,SD(this.localMatrix,this.rotation,this.position,this.parentScale),this.worldMatrixVersion=0);const n=t.node;return this.worldMatrixVersion!==n._worldMatrixVersion&&(this.worldMatrixVersion=n._worldMatrixVersion,yc(this.worldMatrix,n._getWorldMatrix(),this.localMatrix)),this.worldMatrix}getWorldCOM(){const t=this.set.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,cu(this.worldCOM,this.position,t._getWorldMatrix()),pC(this.worldCOM,this.getWorldMatrix())),this.worldCOM}getVAO(){return bJ}getRenderTech(){return this.set.material._getMeshRenderTech()}getWorldNormalMatrix(){return uJ}isMirrored(){return!1}_onAttached(){this.worldMatrixVersion=0,this.comWorldMatrixVersion=0}_updateLocalMatrix(){this.shouldUpdateLocalMatrix=!0}}class af{constructor(t,n){this.o=t,this.node=null,this.visible=!0,t.movables.set(this.key=t.key(),this),this.name=n?.name??""}destroy(){this.detach(),this.o.movables.delete(this.key)}setVisible(t){return this.visible=t,this}detach(){const t=this.node;return t?(t.movables=t.movables.filter(n=>n!==this),this.node=null,this):this}}class SJ extends af{constructor(t,n){super(t,n),this.commonScale=qo(1,1,1),this.type=kQ,this.material=null,this.billboards=[],t.billboardSets.set(this.key,this)}destroy(){super.destroy(),this.o.billboardSets.delete(this.key)}createBillboard(t,n,r){const i=new wJ(this,qo(t,n,r),this.commonScale);return this.billboards.push(i),i}setCommonDirection(t,n,r){return this}setCommonUpVector(t,n,r){return this}setDimensions(t,n){kl(this.commonScale,t,n,1);for(const r of this.billboards)r._updateLocalMatrix();return this}setType(t){if(t!==PQ)throw Error(`billboardSet_SetBillboardType: тип ${t} не реализован`);return this.type=t,this}setMaterial(t){if(this.material!==t){this.material=t;for(const n of this.billboards)n._techOrVAOChanged()}return this}_onAttached(){for(const t of this.billboards)t._onAttached()}_setup(t){const{material:n}=this;if(!n)return;const r=n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements;for(const i of this.billboards)r.add(i)}}const ND=new Map;class CJ{constructor(t){this.info=t,this.texture=null,this.image=null,this.loadImage()}loadImage(){if(this.image)return this.image;const t=Ls(this.info.src),n=ND.get(t);if(n)return this.image=n;const r=new Image;return r.crossOrigin="",r.src=t,ND.set(t,r),this.image=r}getTexture(){return this.texture||(this.image||(this.image=this.loadImage()),this.texture=new lJ(this.image)),this.texture}}const xy=Vr();class BD{constructor(t,n){this.center=t,this.sqrRadius=n*n}intersectsWith(t){const{center:n}=this;if(gC(n,t.origin)<=this.sqrRadius)return!0;rg(xy,n,t.origin);const r=lu(xy,t.dir),i=lu(xy,xy)-r*r;if(i>this.sqrRadius)return!1;const o=Math.sqrt(this.sqrRadius-i);return r+o>=0}}class xJ{constructor(t,n,r){this.parent=t,this.data=n,this.indexOffset=r,this.material=null,this.vao=null,this.materialFound=!1,this.materialName=n.material||"",this.useSharedGeometry=n.useSharedGeometry||!1;const i=n.useSharedGeometry?t.data.sharedGeometry:n.geometry;if(!i)throw Error("Mesh не имеет геометрии");if(i.length>1)throw Error("Mesh с несколькими VertexBuffer не реализованы");const[o]=i;if(!o.positions)throw Error("Mesh без Positions не поддерживается");this.vBufferData=o;const{maxX:s,maxY:l,maxZ:c,minX:u,minY:h,minZ:p}=n.extrema||o.positions.extrema,g=(s+u)/2,m=(l+h)/2,y=(c+p)/2;this.center=qo(g,m,y);const b=Math.max(s-u,l-h,c-p)/2;this.boundingSphere=new BD(this.center,b)}getCOM(){return this.center}getVertexCount(){return this.vBufferData.vertexCount}getDefaultMaterial(){if(this.materialFound)return this.material;if(this.materialFound=!0,!this.materialName)return null;const t=this.parent.o.materialByName.get(this.materialName)??null;if(!t){const n=this.parent.submeshes.indexOf(this);console.warn(`Ogre: ${this.parent.meta}[${n}]: материал '${this.materialName}' не существует`)}return this.material=t}getVAO(){if(this.vao)return this.vao;if(this.useSharedGeometry){const l=this.indexOffset;let c=this.data.indices.length;return this.vao=new rJ(this.parent._getSharedVAO(),l,c)}const{vBufferData:t,data:n}=this,r=new Float32Array(t.positions.coords),i=t.normals?.length?new Float32Array(t.normals):null,o=t.uvs?.length?new Float32Array(t.uvs[0]):null,s=new(n.useIndices32?Uint32Array:Uint16Array)(n.indices);return this.vao=new sf({positionSize:3,positions:r,uvs:o,normals:i,indices:s})}getClosestIntersection(t){return this.boundingSphere.intersectsWith(t)?gJ(t,this.vBufferData.positions.coords,this.data.indices):1/0}}class _J{constructor(t,n){this.o=t,this.data=n,this.sharedVAO=null;let r=0;this.submeshes=n.submeshes.map(i=>{const o=new xJ(this,i,r);return r+=i.indices.length,o})}_getSharedVAO(){if(this.sharedVAO)return this.sharedVAO;const[t]=this.data.sharedGeometry;let n=!1,r=0;this.data.submeshes.forEach(u=>{u.useIndices32&&(n=!0),r+=u.indices.length});const i=new(n?Uint32Array:Uint16Array)(r);let o=0;this.data.submeshes.forEach(u=>{i.set(u.indices,o),o+=u.indices.length});const s=new Float32Array(t.positions.coords),l=t.normals?.length?new Float32Array(t.normals):null,c=t.uvs?.length?new Float32Array(t.uvs[0]):null;return this.sharedVAO=new sf({positionSize:3,positions:s,uvs:c,normals:l,indices:i})}}class EJ extends af{constructor(t,n){super(t,n),t.lights.set(this.key,this)}destroy(){super.destroy(),this.o.lights.delete(this.key)}_onAttached(){}_setup(t){t.globalLight=this}}class TJ{constructor(t,n=""){this.pass=t,this.name=n,this.texture=null,this.imageNameUC=null,this.imageFound=!1,t.tech.mat.o.texUnits.set(this.key=t.tech.mat.o.key(),this)}setTexture(t,n){if(n!==fQ)throw Error("textureUnitState_SetTexture: Используемый тип текстуры не поддерживается");return this.texture=t?.getTexture()||null,this}setTextureName(t){return this.imageNameUC=t.toUpperCase(),this}getTexture(){return this.imageFound||this.texture?this.texture:(this.imageFound=!0,this.imageNameUC?this.texture=this.pass.tech.mat.o.imageResByNameUC.get(this.imageNameUC)?.getTexture()||null:null)}}class MJ{constructor(t){this.tech=t,this.textures=[],this.ambient=qo(1,1,1),this.diffuse=ig(1,1,1,1),this.specular=ig(0,0,0,1),this.emissive=qo(0,0,0),this.shininess=0,this.lightingEnabled=!0,this.shadingMode=sg,this.depthCheck=!0,this.depthWrite=!0,this._glBlendSFactor=WebGLRenderingContext.ONE,this._glBlendDFactor=WebGLRenderingContext.ZERO,this._version=0,t.mat.o.passes.set(this.key=t.mat.o.key(),this)}_getDefaultTextureUnit(){const{textures:t}=this;return t.length?t[0]:null}createTextureUnit(t){const n=new TJ(this,t);return this.textures.push(n),n}setLightingEnabled(t){return this.lightingEnabled=t,this}setAmbient(t,n,r){return kl(this.ambient,t,n,r),this}setDiffuse(t,n,r,i){return mC(this.diffuse,t,n,r,i),this}setSpecular(t,n,r,i){return mC(this.specular,t,n,r,i),this}setEmissive(t,n,r){return kl(this.emissive,t,n,r),this}setShininess(t){return this.shininess=t,this}setShadingMode(t){return this.shadingMode=t,this}setDepthCheckEnabled(t){return this.depthCheck=t,this}setDepthWriteEnabled(t){return this.depthWrite=t,this}setSceneBlending(t,n){return this._glBlendSFactor=LD(t)||WebGLRenderingContext.ONE,this._glBlendDFactor=LD(n)||WebGLRenderingContext.ZERO,this}}class OJ{constructor(t){this.mat=t,t.o.techniques.set(this.key=t.o.key(),this),this.passes=[new MJ(this)]}pass(t){return t>=0&&t<this.passes.length?this.passes[t]:null}}class RJ{constructor(t,n){this.o=t,this.name=n,this.meshRenderTech=null,this.panelOverlayRenderTech=null,t.materialByKey.set(this.key=t.key(),this),t.materialByName.has(n)||t.materialByName.set(n,this),this.techs=[new OJ(this)]}tech(t){return t>=0&&t<this.techs.length?this.techs[t]:null}_getMeshRenderTech(){return this.meshRenderTech||(this.meshRenderTech=new qQ(this)),this.meshRenderTech}_getPanelOverlayRenderTech(){return this.panelOverlayRenderTech||(this.panelOverlayRenderTech=new YQ(this)),this.panelOverlayRenderTech}}const lf=jo();class IJ extends Cy{constructor(t,n,r,i,o){super(),this.text=t,this.renderTech=n,this.vao=r,this.width=i,this.height=o,this.mvpMatrix=jo(),this.worldCOM=Vr(),this.comWorldMatrixVersion=1}getMVPMatrix(t){const{node:n,charHeight:r}=this.text,i=yc(this.mvpMatrix,t._getViewMatrix(),n._getWorldMatrix()),o=Math.hypot(i[0],i[1],i[2])*r,s=Math.hypot(i[4],i[5],i[6])*r,l=-this.width*o,c=this.height*s;return lf[0]=o,lf[5]=s,lf[12]=i[12]+l,lf[13]=i[13]+c,lf[14]=i[14],yc(this.mvpMatrix,t._getProjectionMatrix(),lf)}getWorldCOM(){const t=this.text.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,pC(this.worldCOM,t._getWorldMatrix())),this.worldCOM}getVAO(){return this.vao}getRenderTech(){return this.renderTech}getWorldMatrix(){throw new Error("Method not implemented.")}getWorldNormalMatrix(){throw new Error("Method not implemented.")}isMirrored(){return!1}_onAttached(){this.comWorldMatrixVersion=1}}class kJ extends af{constructor(t,n,r){super(t,r),this.textElement=null,this.textElementCreated=!1,this.color=ig(1,1,1,1),this.charHeight=1,t.movableTexts.set(this.key,this),this.caption=n,this.fontName=r?.fontName||""}destroy(){super.destroy(),this.o.movableTexts.delete(this.key)}setCharHeight(t){return this.charHeight=t,this}_onAttached(){this.textElement?._onAttached()}_setup(t){if(!this.textElementCreated&&(this.textElementCreated=!0,this.caption)){const r=this.o._getFontTexture(this.fontName),{vao:i,width:o,height:s}=ID(r.glyphData,this.caption);if(i){const l=new XQ(r,this);this.textElement=new IJ(this,l,i,o,s)}}const{textElement:n}=this;n&&t.textElements.add(n)}}class PJ{constructor(t,n=""){this.o=t,this.name=n,this.children=[],this.visible=!1,this.scaleX=1,this.scaleY=1,this.z=0,t.overlays.set(this.key=t.key(),this)}setChildren(t){return this.children.forEach(n=>n.overlay=null),this.children=Array.from(new Set(t)),this.children.forEach(n=>{n.overlay=this,n.parent&&(console.warn("OverlayElement has parent"),n.parent=null)}),this}setZ(t){return this.z=t,this.o.overlayQueue=null,this}setScale(t,n){return this.scaleX=t,this.scaleY=n,this}setVisible(t){return this.visible=t,this.o.overlayQueue=null,this}render(t){const{ctx:n}=t.window,{drawingBufferWidth:r,drawingBufferHeight:i}=n.gl;this.children.forEach(o=>o.drawAt(n,0,0,1,1,r,i))}}class DJ{constructor(t,n){this.window=t,this.bg=qo(.2,.2,.2),this.overlaysEnabled=!0,t.o.viewports.set(this.key=t.o.key(),this),this.camera=n,n._setViewport(this)}setCamera(t){return this.camera!==t&&(this.camera._setViewport(null),this.camera=t._setViewport(this)),this}enableOverlays(t){return this.overlaysEnabled=t,this}setBackground(t,n,r){return kl(this.bg,t,n,r),this}}class AJ{constructor(t,n,r){this.o=t,this.viewports=new Set,this.x=0,this.y=0,this.width=0,this.height=0,this.wheelPosition=0,this.buttonsPressed=[!1,!1,!1,!1],this.mainViewport=null,t.windows.set(this.key=t.key(),this);const i=this.domElement=document.createElement("canvas");this.width=i.width=n,this.height=i.height=r,i.setAttribute("data-render-window-key",this.key.toString());const o=i.getContext("webgl",{alpha:!1,depth:!0,antialias:!0,desynchronized:!1});this.ctx=new tJ(o)}close(){this.o.windows.delete(this.key)}createViewport(t,n){const r=new DJ(this,t);if(this.viewports.size)throw Error("Создание нескольких Viewport не реализовано");return this.mainViewport=r,this.viewports.add(r),r}render(t){const{ctx:n}=this,{gl:r}=n;this.viewports.forEach(i=>{const{camera:o}=i;o._updateActualAspect();const{scene:s}=o,{globalLight:l,opaqueElements:c,textElements:u,transparentElements:h}=s._setup(t);if(n.reset(),r.clearColor(...i.bg,1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),n.setLighting(s.ambient,l?.node.getWorldPosition()||PD),r.enable(r.DEPTH_TEST),c.render(n,o),r.enable(r.BLEND),h.render(n,o),r.disable(r.DEPTH_TEST),n.useBackFaces(!1),u.render(n,o),i.overlaysEnabled){let p;(p=this.o.overlayQueue)||(p=this.o.overlayQueue=[...this.o.overlays.values()].filter(g=>g.visible).sort((g,m)=>g.z-m.z)),p.forEach(g=>g.render(i))}r.disable(r.BLEND)})}}const FD=Vr(),jD=Vr(),VD=Vr();class LJ extends af{constructor(t,n){super(t.o,n),this.scene=t,this.projectionMatrix=jo(),this.vpMatrix=jo(),this.inverseVPMatrix=jo(),this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.vpWorldMatrixVersion=1,this.shouldUpdateInverseVPMatrix=!0,this.inverseVPWorldMatrixVersion=1,this.viewportAspect=10,this.viewport=null,this.nearDist=1,this.farDist=1e3,this.fov=Math.PI/4,this.aspect=1.3333333333333333,this.autoAspect=!0,t.o.cameras.set(this.key,this),n&&this.set(n)}destroy(){super.destroy(),this.o.cameras.delete(this.key)}useViewportAspect(){return!!this.viewport&&this.autoAspect}_setViewport(t){return this.viewport=t,this}set({farDist:t=this.farDist,fov:n=this.fov,nearDist:r=this.nearDist,aspect:i=this.aspect}){return(this.farDist!==t||this.fov!==n||this.nearDist!==r||this.aspect!==i&&!this.useViewportAspect())&&(this.shouldUpdateProjectionMatrix=!0,this.shouldUpdateVPMatrix=!0,this.shouldUpdateInverseVPMatrix=!0),this.farDist=t,this.fov=n,this.nearDist=r,this.aspect=i,this}_updateActualAspect(){if(!this.autoAspect)return;const{domElement:t}=this.viewport.window,n=t.width/t.height;this.viewportAspect!==n&&(this.viewportAspect=n,this.shouldUpdateProjectionMatrix=!0)}_getViewMatrix(){return this.node?._getInverseWorldMatrix()||cJ}_getProjectionMatrix(){return this.shouldUpdateProjectionMatrix&&(this.shouldUpdateProjectionMatrix=!1,zZ(this.projectionMatrix,this.fov,this.useViewportAspect()?this.viewportAspect:this.aspect,this.nearDist,this.farDist)),this.projectionMatrix}_getVPMatrix(){const{node:t}=this;return t?((this.shouldUpdateVPMatrix||this.vpWorldMatrixVersion!==t._worldMatrixVersion)&&(this.shouldUpdateVPMatrix=!1,this.vpWorldMatrixVersion=t._worldMatrixVersion,yc(this.vpMatrix,this._getProjectionMatrix(),this._getViewMatrix())),this.vpMatrix):this._getProjectionMatrix()}_getInverseVPMatrix(){const{node:t}=this,n=t?t._worldMatrixVersion:1;return(this.shouldUpdateInverseVPMatrix||this.inverseVPWorldMatrixVersion!==n)&&(this.shouldUpdateInverseVPMatrix=!1,this.inverseVPWorldMatrixVersion=n,bD(this.inverseVPMatrix,this._getVPMatrix())),this.inverseVPMatrix}getRay(t,n,r){const i=this._getInverseVPMatrix(),o=2*t-1,s=1-2*n;return kl(FD,o,s,-1),cu(r.origin,FD,i),kl(jD,o,s,0),cu(VD,jD,i),rg(r.dir,VD,r.origin),gy(r.dir,r.dir),r}_onAttached(){this.vpWorldMatrixVersion=1,this.inverseVPWorldMatrixVersion=1}_setup(){}}class NJ extends Cy{constructor(t,n){super(),this.entity=t,this.submesh=n,this.worldCOM=Vr(),this.comWorldMatrixVersion=0,this.material=null,this.vertexCount=n.getVertexCount(),this.material=n.getDefaultMaterial()}setMaterial(t){return this.material!==t&&(this.material=t,this._techOrVAOChanged()),this}_setup(t){const{material:n}=this;n&&(n._getMeshRenderTech().hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}getWorldMatrix(){return this.entity.node._getWorldMatrix()}getWorldNormalMatrix(){return this.entity._getWorldNormalMatrix()}getWorldCOM(){const t=this.entity.node;return this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,cu(this.worldCOM,this.submesh.getCOM(),t._getWorldMatrix())),this.worldCOM}getVAO(){return this.submesh.getVAO()}getRenderTech(){return this.material._getMeshRenderTech()}isMirrored(){return this.entity.node._isMirrored()}getMVPMatrix(t){return this.entity._getMVPMatrix(t)}_onAttached(){this.comWorldMatrixVersion=0}}const $D=jo();class zD extends af{constructor(t,{submeshes:n},r){super(t.o,r),this.scene=t,this.mvpMatrix=jo(),this.worldNormalMatrix=py(),this.normalWorldMatrixVersion=1,t.o.entities.set(this.key,this),this.subEntities=n.map(i=>new NJ(this,i))}destroy(){super.destroy(),this.o.entities.delete(this.key)}subEntity(t){return t>=0&&t<this.subEntities.length?this.subEntities[t]:null}_getMVPMatrix(t){return yc(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,yD($D,t._getInverseWorldMatrix()),vD(this.worldNormalMatrix,$D)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const{submesh:r}of this.subEntities){const i=r.getClosestIntersection(t);n>i&&(n=i)}return n}_onAttached(){this.normalWorldMatrixVersion=1;for(const t of this.subEntities)t._onAttached()}_setup(t){for(const n of this.subEntities)n._setup(t)}}class BJ extends ug{selectProgram(t){return t.meshPrograms[0]}apply(t){const{ctx:n}=t;n.setDepthWrite(!0),n.setDepthCheck(!0),t.setDiffuse(fJ),t.setAmbient(hJ)}hasOpacity(){return!1}getProgramCaps(){return of[0]}}const FJ=new BJ;class jJ extends Cy{constructor(t,n,r){super(),this.object=t,this.drawType=n,this.worldCOM=Vr(),this.comWorldMatrixVersion=0,this.coords=[],this.normals=[],this.isComplete=!1,this.vao=null,this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0,this.minZ=1/0,this.maxZ=-1/0,this.center=null,this.boundingSphere=null,this.vertexCount=0,this.renderTech=r?._getMeshRenderTech()||FJ}addVertex(t,n,r){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t),this.minY=Math.min(this.minY,n),this.maxY=Math.max(this.maxY,n),this.minZ=Math.min(this.minZ,r),this.maxZ=Math.max(this.maxZ,r),this.coords.push(t,n,r),++this.vertexCount}addNormal(t,n,r){this.normals.push(t,n,r)}end(){this.isComplete=!0;const{maxX:t,maxY:n,maxZ:r,minX:i,minY:o,minZ:s}=this,l=(t+i)/2,c=(n+o)/2,u=(r+s)/2;this.center=qo(l,c,u);const h=Math.max(t-i,n-o,r-s)/2;this.boundingSphere=new BD(this.center,h)}getWorldMatrix(){return this.object.node._getWorldMatrix()}getWorldNormalMatrix(){return this.object._getWorldNormalMatrix()}getWorldCOM(){const t=this.object.node;return t?(this.comWorldMatrixVersion!==t._worldMatrixVersion&&(this.comWorldMatrixVersion=t._worldMatrixVersion,cu(this.worldCOM,this.center,t._getWorldMatrix())),this.worldCOM):PD}getVAO(){return this.vao?this.vao:this.vao=new sf({positionSize:3,positions:new Float32Array(this.coords),normals:this.normals.length?new Float32Array(this.normals):null,drawMode:yJ(this.drawType)})}getRenderTech(){return this.renderTech}isMirrored(){return this.object.node._isMirrored()}getMVPMatrix(t){return this.object._getMVPMatrix(t)}getClosestIntersection(t){return this.drawType!==_D||!this.isComplete||!this.boundingSphere.intersectsWith(t)?1/0:pJ(t,this.coords)}_setup(t){this.isComplete&&(this.renderTech.hasOpacity()?t.transparentElements:t.opaqueElements).add(this)}_onAttached(){this.comWorldMatrixVersion=0}}const UD=jo();class HD extends af{constructor(t,n){super(t.o,n),this.scene=t,this.mvpMatrix=jo(),this.worldNormalMatrix=py(),this.normalWorldMatrixVersion=0,this.sections=[],t.o.manualObjects.set(this.key,this)}destroy(){super.destroy(),this.o.manualObjects.delete(this.key)}createSection(t,n){const r=new jJ(this,t,n);return this.sections.push(r),r}clear(){this.sections=[]}_getMVPMatrix(t){return yc(this.mvpMatrix,t._getVPMatrix(),this.node._getWorldMatrix())}_getWorldNormalMatrix(){const t=this.node;return this.normalWorldMatrixVersion!==t._worldMatrixVersion&&(this.normalWorldMatrixVersion=t._worldMatrixVersion,yD(UD,t._getInverseWorldMatrix()),vD(this.worldNormalMatrix,UD)),this.worldNormalMatrix}_getClosestIntersection(t){let n=1/0;for(const r of this.sections){const i=r.getClosestIntersection(t);n>i&&(n=i)}return n}_onAttached(){this.normalWorldMatrixVersion=0;for(const t of this.sections)t._onAttached()}_setup(t){for(const n of this.sections)n._setup(t)}}class VJ{constructor(t){this.entries=t,this.length=t.length}getEntry(t){const{entries:n}=this;return t>=0&&t<n.length?n[t]:null}sort(){this.entries.sort((t,n)=>t.distance-n.distance)}}class $J{constructor(t,n){this.scene=t,this.localMatrix=jo(),this.worldMatrix=jo(),this.inverseWorldMatrix=jo(),this.worldPosition=Vr(),this.worldRotation=og(),this.worldScale=qo(1,1,1),this.mirrored=!1,this.shouldUpdateLocalMatrix=!1,this.shouldUpdateWorldMatrix=!1,this.shouldUpdateInverseWorldMatrix=!1,this.shouldUpdateMirroredInfo=!1,this.shouldUpdateWorldPosition=!1,this.shouldUpdateWorldRotation=!1,this.shouldUpdateWorldScale=!1,this.position=Vr(),this.scale=qo(1,1,1),this.rotation=og(),this._worldMatrixVersion=1,this.children=[],this.parent=null,t.o.nodes.set(this.key=t.o.key(),this),this.name=n?.name??""}destroy(){this.children.forEach(t=>{t.parent=null,t.updateWorldMatrixRecursive()}),this.removeParent(),this.scene.o.nodes.delete(this.key)}getChild(t){const{children:n}=this;return t>=0&&t<n.length?n[t]:null}addChild(t){const n=t.parent;if(n){if(n===this)return this;let r=this.parent;for(;r;){if(r===t)throw Error("SceneNode.addChild: child является родительским узлом текущего узла");r=r.parent}}if(t===this)throw Error("SceneNode.addChild: child является текущим узлом");if(t.scene!==this.scene)throw Error("SceneNode.addChild: child принадлежит другой сцене");return t.removeParent(),this.children.push(t),t.parent=this,t.updateWorldMatrixRecursive(),this}updateWorldMatrixRecursive(){if(!this.shouldUpdateWorldMatrix){this.shouldUpdateWorldMatrix=!0,++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldPosition=!0,this.shouldUpdateWorldRotation=!0,this.shouldUpdateWorldScale=!0;for(const t of this.children)t.updateWorldMatrixRecursive()}}updateLocalMatrix(){this.shouldUpdateLocalMatrix||(this.shouldUpdateLocalMatrix=!0,this.updateWorldMatrixRecursive())}updateChildrenMirroredInfoRecursive(){if(!this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!0;for(const t of this.children)t.updateChildrenMirroredInfoRecursive()}}updateMirroredInfo(){if(this.shouldUpdateMirroredInfo)return;const{scale:t}=this;if(this.mirrored!==Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0){this.shouldUpdateMirroredInfo=!0;for(const n of this.children)n.updateChildrenMirroredInfoRecursive()}}removeParent(){const t=this.parent;return t?(t.children=t.children.filter(n=>n!==this),this.parent=null,this):this}setPosition(t,n,r){return kl(this.position,t,n,r),this.updateLocalMatrix(),this}setRotation(t,n,r,i){return yC(this.rotation,uQ(this.rotation,t,n,r,i)),this.updateLocalMatrix(),this}resetRotation(){return iQ(this.rotation),this.updateLocalMatrix(),this}rotateX(t){return sQ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateY(t){return aQ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}rotateZ(t){return lQ(this.rotation,this.rotation,t),this.updateLocalMatrix(),this}setScale(t,n,r){return kl(this.scale,t,n,r),this.updateLocalMatrix(),this.updateMirroredInfo(),this}_getWorldMatrixForRotation(){++this._worldMatrixVersion,this.shouldUpdateInverseWorldMatrix=!0,this.shouldUpdateWorldRotation=!0;for(const t of this.children)t.updateWorldMatrixRecursive();return this.worldMatrix}_getWorldMatrix(){return this.shouldUpdateWorldMatrix&&(this.shouldUpdateWorldMatrix=!1,this.shouldUpdateLocalMatrix&&(this.shouldUpdateLocalMatrix=!1,SD(this.localMatrix,this.rotation,this.position,this.scale)),this.parent?yc(this.worldMatrix,this.parent._getWorldMatrix(),this.localMatrix):NZ(this.worldMatrix,this.localMatrix)),this.worldMatrix}_getInverseWorldMatrix(){return this.shouldUpdateInverseWorldMatrix&&(this.shouldUpdateInverseWorldMatrix=!1,bD(this.inverseWorldMatrix,this._getWorldMatrix())),this.inverseWorldMatrix}_isMirrored(){if(this.shouldUpdateMirroredInfo){this.shouldUpdateMirroredInfo=!1;const{scale:t}=this;this.mirrored=Math.sign(t[0])*Math.sign(t[1])*Math.sign(t[2])<0,this.parent?._isMirrored()&&(this.mirrored=!this.mirrored)}return this.mirrored}getWorldPosition(){return this.shouldUpdateWorldPosition&&(this.shouldUpdateWorldPosition=!1,pC(this.worldPosition,this._getWorldMatrix())),this.worldPosition}getWorldRotation(){return this.shouldUpdateWorldRotation&&(this.shouldUpdateWorldRotation=!1,VZ(this.worldRotation,this._getWorldMatrix())),this.worldRotation}getWorldScale(){return this.shouldUpdateWorldScale&&(this.shouldUpdateWorldScale=!1,wD(this.worldScale,this._getWorldMatrix())),this.worldScale}}const RC=Vr(),GD=Vr(),zJ=Vr(),_y=OC(),dg=Vr();class WD extends $J{constructor(t,n){super(t,n),this.trackingInfo=null,this.movables=[],t.o.sceneNodes.set(this.key,this)}destroy(){super.destroy(),this.movables.forEach(t=>t.node=null),this.scene.o.sceneNodes.delete(this.key)}getMovable(t){const{movables:n}=this;return t>=0&&t<n.length?n[t]:null}attach(t){const n=t.node;if(n){if(n===this)return this;t.detach()}return this.movables.push(t),t.node=this,t._onAttached(this),this}setAutoTracking(t,n,r,i){if(!t)return this.trackingInfo=null,this;let o,s;const{trackingInfo:l}=this;if(l){if(o=l.direction,s=l.orientationMat,l.target===t&&o[0]===n&&o[1]===r&&o[2]===i)return this;kl(o,n,r,i)}else o=qo(n,r,i),s=jo();gy(RC,o);const c=QZ(RC,DD);return rf(GD,RC,DD),jZ(s,c,GD),this.trackingInfo={target:t,direction:o,orientationMat:s},this}updateTracking(){const{parent:t,trackingInfo:n}=this;if(!n||!t)return;const r=this.getWorldScale(),i=this._getWorldMatrixForRotation();UZ(i,this.getWorldPosition(),n.target.getWorldPosition(),cu(zJ,dJ,t._getWorldMatrix())),yc(i,i,n.orientationMat),FZ(i,i,r)}_setup(t){this.updateTracking();for(const n of this.movables)n.visible&&n._setup(t);for(const n of this.children)n._setup(t)}_findIntersections(t,n){let r=!1;for(const i of this.movables){if(!(i instanceof zD||i instanceof HD))continue;r||(r=!0,vJ(_y,t,this._getInverseWorldMatrix()));const o=i._getClosestIntersection(_y);if(o<1/0){GZ(dg,_y.origin,qZ(dg,_y.dir,o)),cu(dg,dg,this._getWorldMatrix());const s=eQ(t.origin,dg);n.push({movable:i,distance:s})}}for(const i of this.children)i._findIntersections(t,n)}}class UJ{constructor(t){this.o=t,this.renderInfo={globalLight:null,opaqueElements:new aJ,transparentElements:new kD,textElements:new kD},this.frameNumber=0,this.ambient=Vr(),t.scenes.set(this.key=t.key(),this),this.root=new WD(this)}setAmbient(t,n,r){return kl(this.ambient,t,n,r),this}createSceneNode(t){return new WD(this,t)}createCamera(t){return new LJ(this,t)}createEntity(t,n){return new zD(this,t,n)}createManualObject(t){return new HD(this,t)}_setup(t){if(this.frameNumber===t)return this.renderInfo;this.frameNumber=t;const{renderInfo:n}=this;return n.globalLight=null,n.opaqueElements.clear(),n.transparentElements.clear(),n.textElements.clear(),this.root._setup(n),n}rayCast(t){const n=[];return this.root._findIntersections(t,n),new VJ(n)}}class HJ{constructor(){this.windows=new Map,this.scenes=new Map,this.viewports=new Map,this.overlays=new Map,this.overlayElements=new Map,this.entities=new Map,this.manualObjects=new Map,this.nodes=new Map,this.sceneNodes=new Map,this.movables=new Map,this.cameras=new Map,this.billboardSets=new Map,this.lights=new Map,this.movableTexts=new Map,this.materialByKey=new Map,this.materialByName=new Map,this.techniques=new Map,this.passes=new Map,this.texUnits=new Map,this.imageResByNameUC=new Map,this.meshResByNameUC=new Map,this.primaryWindow=null,this.overlayQueue=null,this.fontMap=new Map,this.globalKey=1e3,this.drawNumber=0}_getFontTexture(t){const n=t||"sans-serif",r=n.toUpperCase(),i=this.fontMap.get(r);if(i)return i;const o=new JQ(n);return this.fontMap.set(r,o),o}key(){return++this.globalKey}createRenderWindow(t,n){const r=new AJ(this,t,n);return this.primaryWindow||=r,r}createScene(){return new UJ(this)}createMovableText(t,n){return new kJ(this,t,n)}createLight(t){return new EJ(this,t)}createBillboardSet(t){return new SJ(this,t)}createMaterial(t){return new RJ(this,t)}createOverlayElement(t,n){switch(t){case"Panel":return new iJ(this,n);case"BorderPanel":return new oJ(this,n);case"TextArea":return new sJ(this,n);default:throw Error(`createOverlayElement: тип '${t}' не реализован`)}}createOverlay(t){return new PJ(this,t)}createMesh(t,n){const r=new _J(this,t);return this.meshResByNameUC.set(n.toUpperCase(),r),r}createImage(t,n){const r=new CJ(t);return this.imageResByNameUC.set(n.toUpperCase(),r),r}renderAll(){const t=++this.drawNumber;this.windows.forEach(n=>n.render(t))}}const KD=new Set;function Un(...e){KD.size!==KD.add(e[0]).size&&console.warn(...e)}function GJ(e,t,n,r,i){if(!this.kernel.egor.scenes.get(e))return 0;const s=this.kernel.egor.manualObjects.get(t);if(!s)return 0;const l=s.sections[0];return l.addVertex(n,r,i),l.vertexCount}function WJ(e,t,n,r,...i){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function KJ(e,t,n,r,...i){throw Un("ApplyTexture3d",e,t,n,r,i),Error("ApplyTexture3d: Функция не реализована")}function qJ(e,t,n,r,i,o){if(!this.kernel.egor.scenes.get(e))return 0;const l=this.kernel.egor.cameras.get(t);return l?this.kernel.egor.createRenderWindow(1e3,1e3).createViewport(l).key:0}function YJ(e,t,n,r,i,o,s,l,c,u,h,p,g){const m=this.kernel.egor.scenes.get(e);return m?m.createCamera().key:0}function XJ(e,t){throw Un("CreateDefCamera3d",e,t),Error("CreateDefCamera3d: Функция не реализована")}function ZJ(e,t,n,r,i,o,s,l,c,u){throw Un("CreateMaterial3d",e,t,n,r,i,o,s,l,c,u),Error("CreateMaterial3d: Функция не реализована")}function QJ(e){const t=this.kernel.egor.scenes.get(e);if(!t)return 0;const n=t.createManualObject();return n.createSection(_D,null),n.key}function JJ(e,t){throw Un("CreateObjectFromFile3d",e,t),Error("CreateObjectFromFile3d: Функция не реализована")}function eee(e){return this.kernel.egor.createScene().key}function tee(e,t,n,r,i,o){throw Un("CreateSurface3d",e,t,n,r,i,o),Error("CreateSurface3d: Функция не реализована")}function nee(e,t,n){throw Un("DelPoint3d",e,t,n),Error("DelPoint3d: Функция не реализована")}function ree(e,t,n){throw Un("DelPrimitive3d",e,t,n),Error("DelPrimitive3d: Функция не реализована")}function iee(e){throw Un("DeleteSpace3d",e),Error("DeleteSpace3d: Функция не реализована")}function oee(e,t){throw Un("DuplicateObject3d",e,t),Error("DuplicateObject3d: Функция не реализована")}function see(e,t,n,r){throw Un("FitToCamera3d",e,t,n,r),Error("FitToCamera3d: Функция не реализована")}function aee(e,t){throw Un("GetActiveCamera3d",e,t),Error("getActiveCamera3d: Функция не реализована")}function lee(e,t,n,r,i){throw Un("GetColors3d",e,t,n,r,i),Error("GetColors3d: Функция не реализована")}function cee(e,t){throw Un("GetMaterialByName3d",e,t),Error("GetMaterialByName3d: Функция не реализована")}function uee(e,t){throw Un("GetNumPoints3d",e,t),Error("GetNumPoints3d: Функция не реализована")}function dee(e,t){throw Un("GetNumPrimitives3d",e,t),Error("GetNumPrimitives3d: Функция не реализована")}function hee(e,t,n,r,i,o,s,l){throw Un("GetObject3dFromPoint2d",e,t,n,r,o,l),Error("GetObject3dFromPoint2d: Функция не реализована")}function fee(e,t,n,r,i,o,s,l){throw Un("GetObjectBase3d",e,t,r,o,l),Error("GetObjectBase3d: Функция не реализована")}function pee(e,t,n){throw Un("GetObjectBase3dM",e,t,n),Error("GetObjectBase3dM: Функция не реализована")}function gee(e,t){throw Un("GetObjectColor3d",e,t),Error("GetObjectColor3d: Функция не реализована")}function mee(e,t,n){throw Un("GetObjectDimension3d",e,t,n),Error("GetObjectDimension3d: Функция не реализована")}function vee(e,t,n){return n}function yee(e,t,n){throw Un("GetObjectPoints3d",e,t,n),Error("GetObjectPoints3d: Функция не реализована")}function bee(e,t,n,r,i,o,s,l,c){throw Un("GetPoint3d",e,t,n,i,s,c),Error("GetPoint3d: Функция не реализована")}function wee(e,t){throw Un("GetSpace3d",e,t),Error("getSpace3d: Функция не реализована")}function See(e,t,n,r,i){const o=this.kernel.egor.scenes.get(e);return o?o.createManualObject().key:0}function Cee(e,t,n,r,i,o,s,l){throw Un("MakeCylinder3d",e,t,n,r,i,o,s,l),Error("MakeCylinder3d: Функция не реализована")}function xee(e,t,n,r,i,o){throw Un("MakeGrid3d",e,t,n,r,i,o),Error("MakeGrid3d: Функция не реализована")}function _ee(e,t,n,r,i,o){throw Un("MakeSphere3d",e,t,n,r,i,o),Error("MakeSphere3d: Функция не реализована")}function Eee(){Un("MakeTore3d")}function Tee(e,t,n,r,i,o,s,l){throw Un("MakeTube3d",e,t,n,r,i,o,s,l),Error("MakeTube3d: Функция не реализована")}function Mee(e){throw Un("PopCrdSystem3d",e),Error("PopCrdSystem3d: Функция не реализована")}function Oee(e){throw Un("PushCrdSystem3d",e),Error("PushCrdSystem3d: Функция не реализована")}function Ree(e,t){throw Un("RemoveTexture3d",e,t),Error("RemoveTexture3d: Функция не реализована")}function Iee(e,t,n,r){throw Un("RotateObject3d",e,t,n,r),Error("RotateObject3d: Функция не реализована")}function kee(e,t,n,r){throw Un("RotateObjectPoints3d",e,t,n,r),Error("RotateObjectPoints3d: Функция не реализована")}function Pee(e,t){throw Un("SelectLocalCrd3d",e,t),Error("SelectLocalCrd3d: Функция не реализована")}function Dee(e,t){throw Un("SelectViewCrd3d",e,t),Error("SelectViewCrd3d: Функция не реализована")}function Aee(e){throw Un("SelectWorldCrd3d",e),Error("SelectWorldCrd3d: Функция не реализована")}function Lee(e,t,n,r,i){throw Un("SetColors3d",e,t,n,r,i),Error("SetColors3d: Функция не реализована")}function Nee(e,t,n,r,i){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function Bee(e,t,n){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function Fee(e,t,n){throw Un("SetObjectMatrix3d",e,t,n),Error("SetObjectMatrix3d: Функция не реализована")}function jee(e,t,n){throw Un("SetObjectPoints3d",e,t,n),Error("SetObjectPoints3d: Функция не реализована")}function Vee(e,t,n,r,i,o){return!this.kernel.egor.scenes.get(e)||!this.kernel.egor.manualObjects.get(t)?0:1}function $ee(e,t,n,r,i,...o){return 1}function zee(e,t,n,r,i,o,s,l,c,u,h){throw Un("SweepAndExtrude3d",e,t,n,r,i,o,s,l,c,u,h),Error("SweepAndExtrude3d: Функция не реализована")}function Uee(){Un("SwitchToCamera3d")}function Hee(e,t,n,r,i,o){throw Un("TransformCamera3d",e,t,n,r,i,o),Error("TransformCamera3d: Функция не реализована")}function Gee(e,t,n){throw Un("TransformObject3d",e,t,n),Error("TransformObject3d: Функция не реализована")}function Wee(e,t,n){throw Un("TransformObjectPoints3d",e,t,n),Error("TransformObjectPoints3d: Функция не реализована")}function Kee(e,t,n,r){return!this.kernel.egor.scenes.get(t)||!this.kernel.egor.cameras.get(n)?0:1}function qee(e){e("AddPoint3d",{a:[P,P,k,k,k],r:k},GJ),e("AddPrimitive3d",{a:[P,P,k,Dn],rest:[k],r:k},WJ),e("ApplyTexture3d",{a:[P,P,P,P],rest:[k],r:k},KJ),e("Create3dView2d",{a:[P,P,k,k,k,k],r:P},qJ),e("CreateCamera3dEx",{a:[P,fe,k,k,Dn,k,k,k,k,k,k,k,k],r:P},YJ),e("CreateDefCamera3d",{a:[P,k],r:P},XJ),e("CreateMaterial3d",{a:[P,fe,fe,Dn,Dn,Dn,Dn,k,k,k],r:P},ZJ),e("CreateObject3d",{a:[P],r:P},QJ),e("CreateObjectFromFile3d",{a:[P,fe],r:P},JJ),e("CreateSpace3d",{a:[P],r:P},eee),e("CreateSurface3d",{a:[P,P,k,k,Dn,k],r:P},tee),e("DelPoint3d",{a:[P,P,k],r:k},nee),e("DelPrimitive3d",{a:[P,P,k],r:k},ree),e("DeleteSpace3d",{a:[P],r:k},iee),e("DuplicateObject3d",{a:[P,P],r:P},oee),e("FitToCamera3d",{a:[P,P,P,k],r:k},see),e("GetActiveCamera3d",{a:[P,P],r:P},aee),e("GetColors3d",{a:[P,P,k,k,k],r:k},lee),e("GetMaterialByName3d",{a:[P,fe],r:P},cee),e("GetNumPoints3d",{a:[P,P],r:k},uee),e("GetNumPrimitives3d",{a:[P,P],r:k},dee),e("GetObject3dFromPoint2d",{a:[P,P,k,k,j9,ot],r:P},hee),e("GetObjectBase3d",{a:[P,P,ot,ot,ot],r:k},fee),e("GetObjectBase3dM",{a:[P,P,k],r:k},pee),e("GetObjectColor3d",{a:[P,P],r:Dn},gee),e("GetObjectDimension3d",{a:[P,P,k],r:k},mee),e("GetObjectMatrix3d",{a:[P,P,k],r:k},vee),e("GetObjectPoints3d",{a:[P,P,k],r:k},yee),e("GetPoint3d",{a:[P,P,k,ot,ot,ot],r:k},bee),e("GetSpace3d",{a:[P,P],r:P},wee),e("MakeBar3d",{a:[P,Dn,k,k,k],r:P},See),e("MakeCylinder3d",{a:[P,P,Dn,k,k,k,k,k],r:P},Cee),e("MakeGrid3d",{a:[P,k,k,k,k,Dn],r:P},xee),e("MakeSphere3d",{a:[P,P,Dn,k,k,k],r:P},_ee),e("MakeTore3d",{a:[]},Eee),e("MakeTube3d",{a:[P,P,Dn,k,k,k,k,k],r:P},Tee),e("PopCrdSystem3d",{a:[P],r:k},Mee),e("PushCrdSystem3d",{a:[P],r:k},Oee),e("RemoveTexture3d",{a:[P,P],r:k},Ree),e("RotateObject3d",{a:[P,P,k,k],r:k},Iee),e("RotateObjectPoints3d",{a:[P,P,k,k],r:k},kee),e("SelectLocalCrd3d",{a:[P,P],r:k},Pee),e("SelectViewCrd3d",{a:[P,P],r:k},Dee),e("SelectWorldCrd3d",{a:[P],r:k},Aee),e("SetColors3d",{a:[P,P,k,k,k],r:k},Lee),e("SetObjectBase3d",{a:[P,P,k,k,k],r:k},Nee),e("SetObjectColor3d",{a:[P,P,Dn],r:k},Bee),e("SetObjectMatrix3d",{a:[P,P,k],r:k},Fee),e("SetObjectPoints3d",{a:[P,P,k],r:k},jee),e("SetPoint3d",{a:[P,P,k,k,k,k],r:k},Vee),e("SetPrimitive3d",{a:[P,P,k,k,Dn],rest:[k],r:k},$ee),e("SweepAndExtrude3d",{a:[P,P,k,k,k,k,k,k,k,Dn,k],r:P},zee),e("SwitchToCamera3d",{a:[]},Uee),e("TransformCamera3d",{a:[P,P,k,k,k,k],r:k},Hee),e("TransformObject3d",{a:[P,P,k],r:k},Gee),e("TransformObjectPoints3d",{a:[P,P,k],r:k},Wee),e("_CameraProc3d",{a:[fe,P,P,k],r:k},Kee)}const Yee={name:"graphics3d",deps:["ogre"],register:qee};class wc{constructor(t){this.minV=Math.floor(t.minV),this.minH=Math.floor(t.minH),this.rows=t.rows,this.cols=t.cols,this.m=t.data?new Float64Array(t.data):new Float64Array(this.rows*this.cols)}isSquare(){return this.cols===this.rows}get(t,n){const r=Math.floor(t)-this.minV,i=Math.floor(n)-this.minH;return r<0||i<0||r>=this.rows||i>=this.cols?0:this.m[r*this.cols+i]}set(t,n,r){const i=Math.floor(t)-this.minV,o=Math.floor(n)-this.minH;return i<0||o<0||i>=this.rows||o>=this.cols?0:(this.m[i*this.cols+o]=r,r)}sum(){return this.m.reduce((t,n)=>t+n,0)}glue(t,n,r){const i=this,o=Math.min(i.minH,t.minH+r),s=Math.min(i.minV,t.minV+n),l=Math.max(i.cols+i.minH,t.cols+t.minH+r),c=Math.max(i.rows+i.minV,t.rows+t.minV+n),u=new wc({cols:l-o,rows:c-s,minH:o,minV:s});for(let h=t.minV;h<t.rows+t.minV;h++)for(let p=t.minH;p<t.cols+t.minH;p++)u.set(h+n,p+r,t.get(h,p));for(let h=i.minV;h<i.rows+i.minV;h++)for(let p=i.minH;p<i.cols+i.minH;p++)u.set(h,p,i.get(h,p));return u}add(t){const n=this,r=Math.min(n.minH,t.minH),i=Math.min(n.minV,t.minV),o=Math.max(n.cols+n.minH,t.cols+t.minH),l=Math.max(n.rows+n.minV,t.rows+t.minV)-i,c=o-r,u=new wc({cols:c,rows:l,minH:r,minV:i}),h=Math.min(n.rows,t.rows),p=Math.min(n.cols,t.cols);for(let g=0;g<h;g++)for(let m=0;m<p;m++)u.m[g+c+m]=n.m[g*n.cols+m]+t.m[g+t.cols+m];return u}mul(t){const n=this;if(n.cols!==t.rows)return null;const r=t.cols,i=n.rows,o=new wc({cols:r,rows:i,minH:n.minH,minV:n.minV});for(let s=0;s<i;s++)for(let l=0;l<r;l++){let c=0;for(let u=0;u<n.cols;u++)c+=n.m[s*n.cols+u]*t.m[u*t.cols+l];o.m[s*r+l]=c}return o}det(){if(!this.isSquare())throw Error("Not a square matrix");const t=this.rows;if(t===1)return this.m[0];if(t===2)return this.m[0]*this.m[3]-this.m[1]*this.m[2];const n=Array.from(this.m);let r=1;for(let i=0;i<t;i++){let o=i,s=Math.abs(n[i*t+i]);for(let l=i+1;l<t;l++){const c=Math.abs(n[l*t+i]);c>s&&(s=c,o=l)}if(s===0)return 0;if(o!==i){r=-r;for(let l=i;l<t;l++){const c=n[i*t+l];n[i*t+l]=n[o*t+l],n[o*t+l]=c}}for(let l=i+1;l<t;l++){const c=n[l*t+i]/n[i*t+i];for(let u=i;u<t;u++)n[l*t+u]-=c*n[i*t+u]}r*=n[i*t+i]}return r}obr(){if(!this.isSquare()||this.det()===0)return null;const t=this.rows,n=new wc({cols:this.cols,rows:this.rows,minH:0,minV:0,data:Array.from(this.m)}),r=new wc({cols:this.cols,rows:this.rows,minH:0,minV:0});for(let i=0;i<t;i++)for(let o=0;o<t;o++)r.set(i,o,0),i===o&&r.set(i,o,1);for(let i=0;i<t;i++){let o=n.get(i,i);for(let s=0;s<t;s++)n.set(i,s,n.get(i,s)/o),r.set(i,s,r.get(i,s)/o);for(let s=i+1;s<t;s++){o=n.get(s,i);for(let l=0;l<t;l++)n.set(s,l,n.get(s,l)-n.get(i,l)*o),r.set(s,l,r.get(s,l)-r.get(i,l)*o)}}for(let i=t-1;i>0;i--)for(let o=i-1;o>=0;o--){let s=n.get(o,i);for(let l=0;l<t;l++)n.set(o,l,n.get(o,l)-n.get(i,l)*s),r.set(o,l,r.get(o,l)-r.get(i,l)*s)}return r.minH=this.minH,r.minV=this.minV,r}diag(t){this.fill(0);const n=Math.min(this.rows,this.cols);for(let r=0;r<n;r++)this.set(r,r,t);return 1}fill(t){return this.m.fill(t),1}sortByRow(t,n){const r=t-this.minV;if(r<0||r>=this.rows)return 0;const i=Array.from({length:this.cols},(s,l)=>Array.from({length:this.rows},(c,u)=>this.m[u*this.cols+l])),o=n?(s,l)=>l[r]-s[r]:(s,l)=>s[r]-l[r];return i.sort(o),i.forEach((s,l)=>{s.forEach((c,u)=>{this.m[u*this.cols+l]=c})}),1}sortByColumn(t,n){const r=t-this.minH;if(r<0||r>=this.cols)return 0;const i=Array.from({length:this.rows},(s,l)=>{const c=l*this.cols,u=c+this.cols;return Array.from(this.m.subarray(c,u))}),o=n?(s,l)=>l[r]-s[r]:(s,l)=>s[r]-l[r];return i.sort(o),this.m=new Float64Array(wP(i)),1}data(){const{minH:t,minV:n,cols:r,rows:i,m:o}=this;return{minV:n,minH:t,cols:r,rows:i,data:[...o]}}}function Xee(e,t,n,r,i,o){if(o<=0)return 0;const s=Math.floor(n)-Math.floor(t)+1,l=Math.floor(i)-Math.floor(r)+1;if(s<=0||l<=0)return 0;const c=e||ps.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,new wc({rows:s,cols:l,minV:t,minH:r})),c}function Zee(e,t){return t<=0?0:this.kernel.matrices.delete(e)?1:0}function Qee(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.fill(t)??0}function Jee(e,t,n,r){return r<=0?0:this.kernel.matrices.get(e)?.get(t,n)??0}function ete(e,t,n,r,i){return i<=0?0:this.kernel.matrices.get(e)?.set(t,n,r)??0}function tte(e,t){if(t<=0)return 0;throw Error("MEditor: редактор матриц не реализован")}function nte(e,t,n){return n<=0?0:this.kernel.matrices.get(e)?.diag(t)??0}function rte(e,t){if(t<=0)return 0;const n=this.kernel.matrices.get(e);return!n||!n.isSquare()?0:n.det()}function ite(e,t,n,r){if(r<=0)return 0;const i=this.kernel.matrices.get(e);if(!i)return 0;const o=this.kernel.matrices.get(t);if(!o)return 0;const s=i.add(o);if(!s)return 0;const l=n||ps.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(l,s),l}function ote(e,t){return t<=0?0:this.kernel.matrices.get(e)?.sum()??0}function ste(e,t,n,r){if(r<=0)return 0;const i=this.kernel.matrices.get(e),o=this.kernel.matrices.get(t);if(!i||!o)return 0;const s=i.mul(o);if(!s)return 0;const l=n||ps.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(l,s),l}function ate(e,t,n,r,i,o){if(o<=0)return 0;const s=this.kernel.matrices.get(e),l=this.kernel.matrices.get(t);if(!s||!l)return 0;const c=n||ps.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(c,s.glue(l,Math.floor(r),Math.floor(i))),c}function lte(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const i=r.obr();if(!i)return 0;const o=t||ps.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(o,i),o}function cte(e,t,n){if(n<=0)return 0;const r=this.kernel.matrices.get(e);if(!r)return 0;const i=this.prj.dir.resolve(t).create("file");return i?(i.set({mat:r.data()}),1):0}function ute(e,t,n){if(n<=0)return 0;const r=this.prj.dir.resolve(t).file()?.mat;if(!r)return 0;const i=e||ps.freeNegativeKey(this.kernel.matrices);return this.kernel.matrices.set(i,new wc(r)),i}function dte(e,t,n,r){if(r<=0)return 0;const i=this.kernel.matrices.get(e);if(!i)return 0;switch(n){case 1:return i.sortByColumn(t,!1);case 2:return i.sortByColumn(t,!0);case 3:return i.sortByRow(t,!1);case 4:return i.sortByRow(t,!0);default:return 0}}function hte(e,t,n,r,i,o,s,l,c){const u=this.kernel.matrices.get(e);return u?(t[n]=u.minV,r[i]=u.minH,o[s]=u.minV+u.rows-1,l[c]=u.minH+u.cols-1,e):0}function fte(e){e("MCreate",{a:[k,k,k,k,k,k],r:k},Xee),e("MDelete",{a:[k,k],r:k},Zee),e("MFill",{a:[k,k,k],r:k},Qee),e("MGet",{a:[k,k,k,k],r:k},Jee),e("MPut",{a:[k,k,k,k,k],r:k},ete),e("MEditor",{a:[k,k]},tte),e("MDiag",{a:[k,k,k],r:k},nte),e("MDet",{a:[k,k],r:k},rte),e("MSum",{a:[k,k],r:k},ote),e("MMul",{a:[k,k,k,k],r:k},ste),e("MGlue",{a:[k,k,k,k,k,k],r:k},ate),e("MObr",{a:[k,k,k],r:k},lte),e("MSaveAs",{a:[k,fe,k],r:k},cte),e("MLoad",{a:[k,fe,k],r:k},ute),e("MSort",{a:[k,k,k,k],r:k},dte),e("MAddC",{a:[k,k,k,k],r:k},ite),e("MDim",{a:[k,ot,ot,ot,ot],r:k},hte)}const pte={name:"matrix",register:fte,setup(e){e.matrices=new Map,e.onProjectOpen.add(t=>{t.dir.forEach(n=>{if(!n.mat)return;const r=n.path.basename(),i=parseInt(r.substring(0,r.length-5));isNaN(i)||!i||e.matrices.has(i)||e.matrices.set(i,new wc(n.mat))},!1)})}};function qD(e,t,n,r,i){const o=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!o)return;const s=this.resolve(n);s?.klass.vars.msg&&o.subscribe(s,r,t,i)}function YD(e,t,n){const r=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!r)return;const i=this.resolve(t);i?.klass.vars.msg&&r.unsubscribe(i,n)}function gte(e,t){const n=this.kernel.scenes.get(e);if(!n)return;const r=this.resolve(t);r?.klass.vars.msg&&n.setCapture(r)}function mte(){this.kernel.windowSystem.releaseCapture()}function*vte(e,t,...n){if(this.kernel.recursionLvl>58)return;let r=null;if(t&&(r=this.kernel.classes.get(t),!r))return;/[\*\?]/.test(e)&&this.kernel._functionNotImplemented("SendMessage с path содержащим '*'/'?'",this);const i=this.resolveMany(e,r);if(!i.length)return;const o=new Array(n.length),s=this.klass.vars,l=i[0].klass.vars;for(let c=0;c<n.length;c+=2){const u=s.get(n[c+0]);if(!u)continue;const h=l.get(n[c+1]);h&&(o[c+0]=u,o[c+1]=h)}for(const c of i){if(c===this)return;for(let v=0;v<o.length;v+=2){const S=o[v+0];if(!S)continue;const E=o[v+1];c.vars.setValue(E,this.vars.getNewValue(S))}++this.kernel.recursionLvl,yield*c.computeBranch(),--this.kernel.recursionLvl;const{map:u,values:{newFloats:h,oldFloats:p,newInts:g,oldInts:m,newStrings:y,oldStrings:b}}=c.vars;for(let v=0;v<u.length;++v){const S=u[v];p[S]=h[S],m[S]=g[S],b[S]=y[S]}for(let v=0;v<o.length;v+=2){const S=o[v+0];if(!S)continue;const E=o[v+1];this.setNewValue(S,c.vars.getNewValue(E))}}}function yte(e){e("RegisterObject",{a:[P,P,fe,k,k]},qD),e("RegisterObject",{a:[fe,P,fe,k,k]},qD),e("UnregisterObject",{a:[P,fe,k]},YD),e("UnregisterObject",{a:[fe,fe,k]},YD),e("SetCapture",{a:[P,fe,k]},gte),e("ReleaseCapture",{},mte),e("SendMessage",{a:[fe,fe],rest:[fe,fe],kind:"generator"},vte)}const bte={name:"messages",deps:["windows"],register:yte,setup(e){e.recursionLvl=0}};function wte(e){if(!e)return 0;const t=el.indexOf(e[0]);return t<0?0:t}function Ste(e){return e<0||e>255?"":el[e]}function XD(e,t,n=1){e[t]+=n}function ZD(e,t,n=1){e[t]-=n}function Cte(e){return e>1?0:e<-1?Math.PI:Math.acos(e)||0}function xte(e){return e>1?Math.PI/2:e<-1?-Math.PI/2:Math.asin(e)||0}function _te(e,t,n){return e.split(t).join(n)}function Ete(e,t,n){return e.substring(0,n)===t.substring(0,n)?1:0}function Tte(e,t){return t===0?e>=0?0:Math.PI:t>0?-Math.atan(e/t)+Math.PI/2:-Math.atan(e/t)+Math.PI*1.5}function Mte(e){return e>0?(Math.log(e)||0)/Math.LN10:-1e100}function Ote(e){return e>0?Math.log(e)||0:-1e100}function Rte(e,t){return e>0&&t>0?Math.log(t)/Math.log(e)||0:-1e100}function Ite(e,t,n){if(t==="")return-1;for(var r=-1,i=0,o=0;o<n;++o){if(r=e.indexOf(t,i),r<0)return-1;i=r+t.length}return r}function kte(e,t){return e.substring(e.length-t)}function Pte(e,t){var n=Math.ceil(10**t);return Math.round(e*n-Number.EPSILON)/n||0}function Dte(e,t){return e.substring(t)}function Ate(e,t,n){return e.substring(t,Math.max(t,0)+n)}function Lte(e){e("Arccos",{a:[k],r:k},Cte),e("Arcsin",{a:[k],r:k},xte),e("Ascii",{a:[fe],r:k},wte),e("Change",{a:[fe,fe,fe],r:fe},_te),e("Chr",{a:[k],r:fe},Ste),e("Comparei",{a:[fe,fe,k],r:k},Ete),e("Dec",{a:[ot,k]},ZD),e("Dec",{a:[ot]},ZD),e("GetangleByXY",{a:[k,k],r:k},Tte),e("Inc",{a:[ot,k]},XD),e("Inc",{a:[ot]},XD),e("Lg",{a:[k],r:k},Mte),e("Ln",{a:[k],r:k},Ote),e("Log",{a:[k,k],r:k},Rte),e("Pos",{a:[fe,fe,k],r:k},Ite),e("Randomize",{a:[k]},U9),e("Right",{a:[fe,k],r:fe},kte),e("Round",{a:[k,k],r:k},Pte),e("Substr",{a:[fe,k,k],r:fe},Ate),e("Substr",{a:[fe,k],r:fe},Dte)}const Nte={name:"misc",register:Lte};function Bte(e){const t=this.prj.dir.resolve(e).file()?.video;if(!t)return 0;const n=ps.freeKey(this.kernel.videos);return this.kernel.videos.set(n,t),n}function Fte(e,t,n,r,i,o){const s=this.kernel.videos.get(t);if(!s)return 0;const l=this.kernel.scenes.get(e);if(!l)return 0;const c=l.scene;let u=n,h=r;const p=l.matrix;if(p){const y=n*p[2]+r*p[5]+p[8];u=(n*p[0]+r*p[3]+p[6])/y,h=(n*p[1]+r*p[4]+p[7])/y}const g=i>=0||o>=0,m=c.video(s.src,{x:u,y:h,width:Math.max(0,i),height:Math.max(0,o),fixed:g});return c.set({order:c.order.concat(m)}),m.key}function jte(e,t){throw Error("videoSetPos2d: Not implemented")}function Vte(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"?n.currentTime()*KP:0}function $te(e,t,n){const r=this.kernel.scenes.get(e)?.scene.objects.get(t);return r?.type==="videoView"&&r.setCurrentTime(n/KP)?1:0}function zte(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Ute(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.pause()?1:0}function Hte(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.play()?1:0}function Gte(e,t){const n=this.kernel.scenes.get(e)?.scene.objects.get(t);return n?.type==="videoView"&&n.stop()?1:0}function Wte(){return lt.MCIERR_INVALID_DEVICE_NAME}function Kte(){return""}function qte(){return 0}function Yte(e){e("OpenVideo",{a:[fe,k],r:P},Bte),e("CreateVideoFrame2d",{a:[P,P,k,k,k,k,k],r:P},Fte),e("VideoSetPos2d",{a:[P,k],r:k},jte),e("FrameGetPos2d",{a:[P,P],r:k},Vte),e("FrameSetPos2d",{a:[P,P,k],r:k},$te),e("VideoPlay2d",{a:[P,P,k,k,k,k],r:k},zte),e("VideoPause2d",{a:[P,P],r:k},Ute),e("VideoResume2d",{a:[P,P],r:k},Hte),e("VideoStop2d",{a:[P,P],r:k},Gte),e("MciSendString",{a:[fe],r:k},Wte),e("MciSendStringStr",{a:[fe],r:fe},Kte),e("SndPlaySound",{a:[fe,k],r:k},qte)}const Xte={name:"multimedia",deps:["windows"],register:Yte,setup(e){e.videos=new Map}},Zte=new Map([["ShiftLeft",16],["ShiftRight",16],["ControlLeft",17],["ControlRight",17],["AltLeft",18],["AltRight",18],["CapsLock",20],["Tab",9],["Enter",13],["Escape",27],["Space",32],["Backspace",8],["ArrowUp",38],["ArrowDown",40],["ArrowLeft",37],["ArrowRight",39],["MetaLeft",91],["MetaRight",92],["ContextMenu",93],["Delete",46],["Insert",45],["Home",36],["End",35],["PageUp",33],["PageDown",34],["F1",112],["F2",113],["F3",114],["F4",115],["F5",116],["F6",117],["F7",118],["F8",119],["F9",120],["F10",121],["F11",122],["F12",123],["Digit0",48],["Digit1",49],["Digit2",50],["Digit3",51],["Digit4",52],["Digit5",53],["Digit6",54],["Digit7",55],["Digit8",56],["Digit9",57],["KeyA",65],["KeyB",66],["KeyC",67],["KeyD",68],["KeyE",69],["KeyF",70],["KeyG",71],["KeyH",72],["KeyI",73],["KeyJ",74],["KeyK",75],["KeyL",76],["KeyM",77],["KeyN",78],["KeyO",79],["KeyP",80],["KeyQ",81],["KeyR",82],["KeyS",83],["KeyT",84],["KeyU",85],["KeyV",86],["KeyW",87],["KeyX",88],["KeyY",89],["KeyZ",90]]);function Qte(e){if(e>=16&&e<=18||e>=112&&e<=135||e>=37&&e<=40)return!1;switch(e){case 27:case 9:case 20:case 144:case 145:case 42:case 19:case 45:case 46:case 36:case 35:case 33:case 34:case 93:case 91:case 92:return!1}return!0}const cf=new Uint8Array(256);function IC(e){return e>=0&&e<256?!!cf[e]:!1}function Ey(e){cf[1]=e.buttons&1,cf[2]=e.buttons&2,cf[4]=e.buttons&4}const QD=new Set;function JD(e){let t=Zte.get(e.code);if(t?cf[t]=+(e.type==="keydown"):(QD.has(e.code)||(QD.add(e.code),console.warn(`Неизвестная клавиша: ${e.code}`)),t=0),e.winVKey=t,e.type==="keydown"&&Qte(t)){const n=el.indexOf(e.key);e.winChar=n<0?t:n}}function Jte(){cf.fill(0)}window.addEventListener("keydown",JD,{capture:!0}),window.addEventListener("keyup",JD,{capture:!0}),window.addEventListener("pointerdown",Ey,{capture:!0}),window.addEventListener("pointerup",Ey,{capture:!0}),window.addEventListener("pointermove",Ey,{capture:!0}),window.addEventListener("pointercancel",Ey,{capture:!0}),window.addEventListener("blur",Jte);const eA=Symbol("renderWindow.parent");let ene=0,tne=0,nne=0,rne=0,ine=0,one=0,sne=0,ane=0;const tA=new Set;function Le(...e){tA.size!==tA.add(e[0]).size&&console.warn(...e)}const lne=OC(),kC=OC();function cne(e,t){Le("AnimationState_AddTime",e,t)}function une(e){throw Le("AnimationState_GetEnabled",e),Error("Not implemented")}function dne(e){throw Le("AnimationState_GetLength",e),Error("Not implemented")}function hne(e){throw Le("AnimationState_GetLoop",e),Error("Not implemented")}function fne(e){throw Le("AnimationState_GetTimePosition",e),Error("Not implemented")}function pne(e){throw Le("AnimationState_GetWeight",e),Error("Not implemented")}function gne(e,t){Le("AnimationState_SetEnabled",e,t)}function mne(e,t){Le("AnimationState_SetLength",e,t)}function vne(e,t){Le("AnimationState_SetLoop",e,t)}function yne(e,t){Le("AnimationState_SetTimePosition",e,t)}function bne(e,t){Le("AnimationState_SetWeight",e,t)}function wne(e,t,n,r,i){throw Le("Billboard_GetColour",e,t,n,r,i),Error("Not implemented")}function Sne(e,t,n,r){throw Le("Billboard_GetPosition",e),Error("Not implemented")}function Cne(e){throw Le("Billboard_GetRotation",e),Error("Not implemented")}function xne(e,t,n,r,i){Le("Billboard_SetColour",e,t,n,r,i)}function _ne(e,t,n,r){Le("Billboard_SetPosition",e,t,n,r)}function Ene(e,t){Le("Billboard_SetRotation",e,t)}function Tne(e,t,n){return this.kernel.egor.createBillboardSet({name:t||"__BillboardSet_"+ene++,poolSize:n}).key??0}function Mne(e,t,n,r){return this.kernel.egor.billboardSets.get(e)?.createBillboard(t,n,r).key??0}function One(e){Le("BillboardSet_Destroy",e)}function Rne(e,t){throw Le("BillboardSet_GetBillboard",e,t),Error("Not implemented")}function Ine(e){throw Le("BillboardSet_GetBillboardType",e),Error("Not implemented")}function kne(e,t,n,r){throw Le("BillboardSet_GetCommonDirection",e,t,n,r),Error("Not implemented")}function Pne(e,t,n,r){throw Le("BillboardSet_GetCommonUpVector",e,t,n,r),Error("Not implemented")}function Dne(e,t,n){throw Le("BillboardSet_GetDefaultDimensions",e,t,n),Error("Not implemented")}function Ane(e,t){throw Le("BillboardSet_GetMaterialName",e,t),Error("Not implemented")}function Lne(e){throw Le("BillboardSet_GetNumBillboards",e),Error("Not implemented")}function Nne(e,t){Le("BillboardSet_RemoveBillboard",e,t)}function Bne(e,t){this.kernel.egor.billboardSets.get(e)?.setType(t)}function Fne(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonDirection(t,n,r)}function jne(e,t,n,r){this.kernel.egor.billboardSets.get(e)?.setCommonUpVector(t,n,r)}function Vne(e,t,n){this.kernel.egor.billboardSets.get(e)?.setDimensions(t,n)}function $ne(e,t){this.kernel.egor.billboardSets.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function zne(e){throw Le("Bone_GetManuallyControlled",e),Error("Not implemented")}function Une(e){Le("Bone_Reset",e)}function Hne(e,t){Le("Bone_SetManuallyControlled",e,t)}function Gne(e,t){return this.kernel.egor.scenes.get(e)?.createCamera({name:t||"__Camera_"+tne++}).key??0}function Wne(e){Le("Camera_Destroy",e)}function Kne(e){throw Le("Camera_GetAspectRatio",e),Error("Not implemented")}function qne(e){throw Le("Camera_GetFarClipDistance",e),Error("Not implemented")}function Yne(e){throw Le("Camera_GetFOV",e),Error("Not implemented")}function Xne(e){throw Le("Camera_GetNearClipDistance",e),Error("Not implemented")}function Zne(e){throw Le("Camera_GetPolygonMode",e),Error("Not implemented")}function Qne(e){throw Le("Camera_GetProjectionType",e),Error("Not implemented")}function Jne(e,t){Le("Camera_SetAspectRatio",e,t)}function ere(e,t){this.kernel.egor.cameras.get(e)?.set({farDist:t})}function tre(e,t){Le("Camera_SetFocalLength",e,t)}function nre(e,t){this.kernel.egor.cameras.get(e)?.set({fov:t})}function rre(e,t,n){Le("Camera_SetFrustumOffset",e,t,n)}function ire(e,t){this.kernel.egor.cameras.get(e)?.set({nearDist:t})}function ore(e,t){Le("Camera_SetPolygonMode",e,t)}function sre(e,t){Le("Camera_SetProjectionType",e,t)}function are(e){return this.kernel.egorRayCastResult?.getEntry(e)?.distance||0}function lre(e){return this.kernel.egorRayCastResult?.getEntry(e)?.movable.key||0}function cre(){return this.kernel.egorRayCastResult?.length||0}function ure(e,t,n,r,i,o,s){const l=this.kernel.egor.scenes.get(e);if(!l){this.kernel.egorRayCastResult=null;return}const{dir:c,origin:u}=kC;u[0]=t,u[1]=n,u[2]=r,c[0]=i,c[1]=o,c[2]=s,this.kernel.egorRayCastResult=l?.rayCast(kC)}function dre(){this.kernel.egorRayCastResult?.sort()}function hre(e){throw Le("Compositor_GetEnabled",e),Error("Not implemented")}function fre(e,t){Le("Compositor_SetEnabled",e,t)}function pre(e,t,n){if(!n)return 0;const r=this.kernel.egor.scenes.get(e);if(!r)return 0;const i=this.kernel.egor.meshResByNameUC.get(n.toUpperCase());if(!i)throw Error(`Mesh не существует: '${n}'`);return r.createEntity(i,{name:t||"__Entity_"+nne++}).key??0}function gre(e){this.kernel.egor.entities.get(e)?.destroy()}function mre(e,t){throw Le("Entity_GetAnimationState",e,t),Error("Not implemented")}function vre(e,t){throw Le("Entity_GetBone",e,t),Error("Not implemented")}function yre(e,t){throw Le("Entity_GetIndexCount",e,t),Error("Not implemented")}function bre(e,t,n){throw Le("Entity_GetMaterial",e,t,n),Error("Not implemented")}function wre(e){return this.kernel.egor.entities.get(e)?.subEntities.length??0}function nA(e,t=0){const n=this.kernel.egor.entities.get(e);return n?t>=0?n.subEntity(t)?.vertexCount??0:n.subEntities.reduce((r,i)=>r+i.vertexCount,0):0}function Sre(e,t,n){const r=this.kernel.egor.entities.get(e);if(!r)return;const i=this.kernel.egor.materialByName.get(n);i&&r.subEntity(t)?.setMaterial(i)}function Cre(e,t){return this.kernel.egor.createLight({name:t||"__Light_"+rne++}).key??0}function xre(e){Le("Light_Destroy",e)}function _re(e){throw Le("Light_GetPowerScale",e),Error("Not implemented")}function Ere(e,t,n,r,i){Le("Light_SetAttenuation",e,t,n,r,i)}function Tre(e,t,n,r){Le("Light_SetDiffuseColour",e,t,n,r)}function Mre(e,t){Le("Light_SetPowerScale",e,t)}function Ore(e,t,n,r){Le("Light_SetSpecularColour",e,t,n,r)}function Rre(e,t,n,r){Le("Light_SetSpotlightRange",e,t,n,r)}function Ire(e,t){Le("Light_SetType",e,t)}function kre(e,t,n){const{egor:r}=this.kernel,i=r.manualObjects.get(e);if(!i)return;const o=r.materialByName.get(t)||null,s=i.createSection(n,o);this.kernel.egorManualObjectsSections.set(i,s)}function Pre(e){this.kernel.egor.manualObjects.get(e)?.clear()}function Dre(e,t,n,r,i){Le("ManualObject_Colour",e,t,n,r,i)}function Are(e,t){Le("ManualObject_ConvertToMesh",e,t)}function Lre(e,t){return this.kernel.egor.scenes.get(e)?.createManualObject({name:t||"__ManualObject_"+ine++}).key||0}function Nre(e){this.kernel.egor.manualObjects.get(e)?.destroy()}function Bre(e){const t=this.kernel.egor.manualObjects.get(e);if(!t)return;const n=this.kernel.egorManualObjectsSections.get(t);n&&(n.end(),this.kernel.egorManualObjectsSections.delete(t))}function Fre(e,t){Le("ManualObject_EstimateIndexCount",e,t)}function jre(e,t){Le("ManualObject_EstimateVertexCount",e,t)}function Vre(e){throw Le("ManualObject_GetDynamic",e),Error("Not implemented")}function $re(e,t){Le("ManualObject_Index",e,t)}function zre(e,t,n,r){const i=this.kernel.egor.manualObjects.get(e);i&&this.kernel.egorManualObjectsSections.get(i)?.addNormal(t,n,r)}function Ure(e,t,n,r){const i=this.kernel.egor.manualObjects.get(e);i&&this.kernel.egorManualObjectsSections.get(i)?.addVertex(t,n,r)}function Hre(e,t){Le("ManualObject_SetDynamic",e,t)}function Gre(e,t,n){Le("ManualObject_TextureCoord",e,t,n)}function Wre(e){return this.kernel.egor.createMaterial(e||"__Material_"+one++).key}function Kre(e){return e&&this.kernel.egor.materialByName.get(e)?.key||0}function qre(e){throw Le("Material_GetBestTechnique",e),Error("Not implemented")}function Yre(e,t){throw Le("Material_GetName",e,t),Error("Not implemented")}function Xre(e,t){return this.kernel.egor.materialByKey.get(e)?.tech(t)?.key??0}function Zre(e,t){throw Le("Material_GetTechniqueByName",e,t),Error("Not implemented")}function Qre(e,t,n,r,i,o,s){throw Le("Movable_GetBoundingBox",e,t,n,r,i,o,s),Error("Not implemented")}function Jre(e){throw Le("Movable_GetCastShadows",e),Error("Not implemented")}function eie(e,t,n){const r=this.kernel.egor.movables.get(e);r&&(t[n]=r.name)}function tie(e){return this.kernel.egor.movables.get(e)?.node?.key??0}function nie(e){const t=this.kernel.egor.movables.get(e);return t?t.visible?1:0:-1}function rie(e,t){Le("Movable_SetCastShadows",e,t)}function iie(e,t){const n=this.kernel.egor.movables.get(e);n&&this.kernel.egor.sceneNodes.get(t)?.attach(n)}function oie(e,t){this.kernel.egor.movables.get(e)?.setVisible(!!t)}function sie(e,t,n){return this.kernel.egor.createMovableText(t,{name:e||"__MovableText_"+sne++,fontName:n}).key}function aie(e){Le("MovableText_Destroy",e)}function lie(e,t){throw Le("MovableText_GetCaption",e,t),Error("Not implemented")}function cie(e){throw Le("MovableText_GetCharacterHeight",e),Error("Not implemented")}function uie(e,t,n,r,i){throw Le("MovableText_GetColor",e,t,n,r,i),Error("Not implemented")}function die(e,t){throw Le("MovableText_GetFontName",e,t),Error("Not implemented")}function hie(e,t,n,r){throw Le("MovableText_GetGlobalTranslation",e,t,n,r),Error("Not implemented")}function fie(e,t,n,r){throw Le("MovableText_GetLocalTranslation",e,t,n,r),Error("Not implemented")}function pie(e){throw Le("MovableText_GetSpaceWidth",e),Error("Not implemented")}function gie(e,t,n){throw Le("MovableText_GetTextAlignment",e,t,n),Error("Not implemented")}function mie(e,t){Le("MovableText_SetCaption",e,t)}function vie(e,t){this.kernel.egor.movableTexts.get(e)?.setCharHeight(t)}function yie(e,t,n,r,i){Le("MovableText_SetColor",e,t,n,r,i)}function bie(e,t){Le("MovableText_SetFontName",e,t)}function wie(e,t,n,r){Le("MovableText_SetGlobalTranslation",e,t,n,r)}function Sie(e,t,n,r){Le("MovableText_SetLocalTranslation",e,t,n,r)}function Cie(e,t){Le("MovableText_SetSpaceWidth",e,t)}function xie(e,t,n){Le("MovableText_SetTextAlignment",e,t,n)}function _ie(e,t){Le("Node_AddChild",e,t)}function Eie(e,t){return this.kernel.egor.nodes.get(e)?.getChild(t)?.key||0}function Tie(e,t,n,r,i,o,s){const l=this.kernel.egor.nodes.get(e);if(!l)return;const c=l.getWorldPosition();t[n]=c[0],r[i]=c[1],o[s]=c[2]}function Mie(e,t,n,r,i,o,s,l,c){const u=this.kernel.egor.nodes.get(e);if(!u)return;const h=u.getWorldRotation();r[i]=h[0],o[s]=h[1],l[c]=h[2],t[n]=h[3]}function Oie(e,t,n,r,i,o,s){const l=this.kernel.egor.nodes.get(e);if(!l)return;const c=l.getWorldScale();t[n]=c[0],r[i]=c[1],o[s]=c[2]}function Rie(e,t,n){t[n]=this.kernel.egor.nodes.get(e)?.name??""}function Iie(e){return this.kernel.egor.nodes.get(e)?.children.length??-1}function kie(e){throw Le("Node_GetParent",e),Error("Not implemented")}function Pie(e,t,n,r,i,o,s){const l=this.kernel.egor.nodes.get(e);l&&(t[n]=l.position[0],r[i]=l.position[1],o[s]=l.position[2])}function Die(e,t,n,r,i,o,s,l,c){const u=this.kernel.egor.nodes.get(e);u&&(r[i]=u.rotation[0],o[s]=u.rotation[1],l[c]=u.rotation[2],t[n]=u.rotation[3])}function Aie(e,t,n,r,i,o,s){const l=this.kernel.egor.nodes.get(e);l&&(t[n]=l.scale[0],r[i]=l.scale[1],o[s]=l.scale[2])}function Lie(e,t){Le("Node_RemoveChild",e,t)}function Nie(e,t){const n=this.kernel.egor.nodes.get(t);if(!n)return;const r=this.kernel.egor.nodes.get(e);r&&n.addChild(r)}function Bie(e,t,n,r){this.kernel.egor.nodes.get(e)?.setPosition(t,n,r)}function Fie(e,t,n,r,i){throw Le("Node_SetRotationAxis",e,t,n,r,i),Error("Node_SetRotationAxis")}function jie(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateX(t).rotateY(n).rotateZ(r)}function Vie(e,t,n,r){throw Error()}function $ie(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateY(t).rotateX(n).rotateZ(r)}function zie(e,t,n,r){throw Error()}function Uie(e,t,n,r){throw Error()}function Hie(e,t,n,r){this.kernel.egor.nodes.get(e)?.resetRotation().rotateZ(t).rotateY(n).rotateX(r)}function Gie(e,t,n,r,i){this.kernel.egor.nodes.get(e)?.setRotation(n,r,i,t)}function Wie(e,t,n,r){this.kernel.egor.nodes.get(e)?.setScale(t,n,r)}function Kie(e,t){const n=this.kernel.egor.overlays.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function qie(e){return this.kernel.egor.createOverlay(e).key}function Yie(e,t,n){throw Le("Overlay_FindElementAt",e,t,n),Error("Not implemented")}function Xie(e){if(!e)return 0;for(const t of this.kernel.egor.overlays.values())if(t.name===e)return t.key;return 0}function Zie(e,t){throw Le("Overlay_GetName",e,t),Error("Not implemented")}function Qie(e){throw Le("Overlay_GetRotate",e),Error("Not implemented")}function Jie(e,t,n){throw Le("Overlay_GetScale",e,t,n),Error("Not implemented")}function eoe(e,t,n){throw Le("Overlay_GetScroll",e,t,n),Error("Not implemented")}function toe(e){throw Le("Overlay_GetVisible",e),Error("Not implemented")}function noe(e){throw Le("Overlay_GetZOrder",e),Error("Not implemented")}function roe(e,t){Le("Overlay_RemoveChild",e,t)}function ioe(e,t){Le("Overlay_SetRotate",e,t)}function ooe(e,t,n){this.kernel.egor.overlays.get(e)?.setScale(t,n)}function soe(e,t,n){Le("Overlay_SetScroll",e,t,n)}function aoe(e,t){this.kernel.egor.overlays.get(e)?.setVisible(!!t)}function loe(e,t){this.kernel.egor.overlays.get(e)?.setZ(t)}function coe(e,t){const n=this.kernel.egor.overlayElements.get(e);if(!n)return;const r=this.kernel.egor.overlayElements.get(t);r&&n.setChildren(n.children.concat(r))}function uoe(e,t){throw Le("OverlayContainer_GetChild",e,t),Error("Not implemented")}function doe(e){throw Le("OverlayContainer_GetChildCount",e),Error("Not implemented")}function hoe(e,t){Le("OverlayContainer_RemoveChild",e,t)}function foe(e,t){if(e!=="BorderPanel"&&e!=="Panel"&&e!=="TextArea")throw Error(`Неизвестный тип OverlayElement: '${e}'`);return this.kernel.egor.createOverlayElement(e,{name:t}).key}function poe(e){if(!e)return 0;for(const t of this.kernel.egor.overlayElements.values())if(t.name===e)return t.key;return 0}function goe(e,t,n,r,i){const o=this.kernel.egor.overlayElements.get(e);t[n]=o?.horAlign??0,r[i]=o?.vertAlign??0}function moe(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.caption??""}function voe(e,t,n,r,i){throw Le("OverlayElement_GetColour",e,t,n,r,i),Error("Not implemented")}function yoe(e,t,n){t[n]=this.kernel.egor.overlayElements.get(e)?.material?.name??""}function boe(e){return this.kernel.egor.overlayElements.get(e)?.metricsMode??0}function woe(e){return this.kernel.egor.overlayElements.get(e)?.parent?.key??0}function Soe(e,t,n,r,i){const o=this.kernel.egor.overlayElements.get(e);t[n]=o?.x??0,r[i]=o?.y??0}function Coe(e,t,n,r,i){const o=this.kernel.egor.overlayElements.get(e);t[n]=o?.width??0,r[i]=o?.height??0}function xoe(e){const t=this.kernel.egor.overlayElements.get(e);return t?t.visible?1:0:-1}function _oe(e){throw Le("OverlayElement_IsContainer",e),Error("Not implemented")}function Eoe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setAlignment(t,n)}function Toe(e,t){this.kernel.egor.overlayElements.get(e)?.setCaption(t)}function Moe(e,t,n,r,i){this.kernel.egor.overlayElements.get(e)?.setColor(t,n,r,i)}function Ooe(e,t){this.kernel.egor.overlayElements.get(e)?.setMaterial(this.kernel.egor.materialByName.get(t)??null)}function Roe(e,t){this.kernel.egor.overlayElements.get(e)?.setMetricsMode(t)}function Ioe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setPosition(t,n)}function koe(e,t,n){this.kernel.egor.overlayElements.get(e)?.setSize(t,n)}function Poe(e,t){this.kernel.egor.overlayElements.get(e)?.setVisible(!!t)}function Doe(e,t,n){throw Le("ParticleSystem_Create",e,t,n),Error("Not implemented")}function Aoe(e,t,n){throw Le("ParticleSystem_CreateEx",e,t,n),Error("Not implemented")}function Loe(e){Le("ParticleSystem_Destroy",e)}function Noe(e,t){Le("ParticleSystem_GetName",e,t)}function Boe(e){throw Le("ParticleSystem_GetParent",e),Error("Not implemented")}function Foe(e){throw Le("ParticleSystem_GetVisible",e),Error("Not implemented")}function joe(e,t){Le("ParticleSystem_SetParent",e,t)}function Voe(e,t){Le("ParticleSystem_SetVisible",e,t)}function $oe(e,t){throw Le("Pass_Create",e,t),Error("Not implemented")}function zoe(e,t,n){throw Le("Pass_GetAlphaRejectSettings",e,t,n),Error("Not implemented")}function Uoe(e,t,n,r,i){throw Le("Pass_GetAmbient",e,t,n,r,i),Error("Not implemented")}function Hoe(e){throw Le("Pass_GetColourWriteEnabled",e),Error("Not implemented")}function Goe(e){throw Le("Pass_GetCullingMode",e),Error("Not implemented")}function Woe(e){throw Le("Pass_GetDepthCheckEnabled",e),Error("Not implemented")}function Koe(e){throw Le("Pass_GetDepthFunction",e),Error("Not implemented")}function qoe(e){throw Le("Pass_GetDepthWriteEnabled",e),Error("Not implemented")}function Yoe(e,t,n,r,i){throw Le("Pass_GetDiffuse",e,t,n,r,i),Error("Not implemented")}function Xoe(e){throw Le("Pass_GetLightingEnabled",e),Error("Not implemented")}function Zoe(e){throw Le("Pass_GetPolygonMode",e),Error("Not implemented")}function Qoe(e,t,n){throw Le("Pass_GetSceneBlending",e,t,n),Error("Not implemented")}function Joe(e,t,n,r,i){throw Le("Pass_GetSelfIllumination",e,t,n,r,i),Error("Not implemented")}function ese(e){throw Le("Pass_GetShadingMode",e),Error("Not implemented")}function tse(e){throw Le("Pass_GetShininess",e),Error("Not implemented")}function nse(e,t,n,r,i){throw Le("Pass_GetSpecular",e,t,n,r,i),Error("Not implemented")}function rse(e,t){throw Le("Pass_GetTextureUnitStateByIndex",e,t),Error("Not implemented")}function ise(e,t){throw Le("Pass_GetTextureUnitStateByName",e,t),Error("Not implemented")}function ose(e,t,n){Le("Pass_SetAlphaRejectSettings",e,t,n)}function sse(e,t,n,r){this.kernel.egor.passes.get(e)?.setAmbient(t,n,r)}function ase(e,t){Le("Pass_SetColourWriteEnabled",e,t)}function lse(e,t){Le("Pass_SetCullingMode",e,t)}function cse(e,t){this.kernel.egor.passes.get(e)?.setDepthCheckEnabled(!!t)}function use(e,t){Le("Pass_SetDepthFunction",e,t)}function dse(e,t){this.kernel.egor.passes.get(e)?.setDepthWriteEnabled(!!t)}function hse(e,t,n,r,i){this.kernel.egor.passes.get(e)?.setDiffuse(t,n,r,i)}function fse(e,t){this.kernel.egor.passes.get(e)?.setLightingEnabled(!!t)}function pse(e,t){Le("Pass_SetPolygonMode",e,t)}function gse(e,t,n){this.kernel.egor.passes.get(e)?.setSceneBlending(t,n)}function mse(e,t,n,r){this.kernel.egor.passes.get(e)?.setEmissive(t,n,r)}function vse(e,t){this.kernel.egor.passes.get(e)?.setShadingMode(t)}function yse(e,t){this.kernel.egor.passes.get(e)?.setShininess(t)}function bse(e,t,n,r,i){this.kernel.egor.passes.get(e)?.setSpecular(t,n,r,i)}function wse(e,t,n){throw Le("RenderTexture_Create",e,t,n),Error("Not implemented")}function Sse(e){Le("RenderTexture_Destroy",e)}function rA(e,t,n,r){const i=e.createRenderWindow(n,r);return t.createFrame(i.domElement).onDisposed.add(i.close.bind(i)),i[eA]=t,i}function Cse(e){const t=this.kernel.scenes.get(e);if(!t)throw Error("Внешние 3D окна не поддерживаются");return rA(this.kernel.egor,t,t.getClientWidth(),t.getClientHeight()).key}function xse(e,t,n,r){const i=this.kernel.scenes.get(e);if(!i)throw Error("Внешние 3D окна не поддерживаются");return rA(this.kernel.egor,i,n,r).key}function _se(e,t,n,r){throw Le("RenderWindow_CreateEx",e,t,n,r),Error("Not implemented")}function Ese(e){Le("RenderWindow_Destroy",e)}function Tse(e){throw Le("RenderWindow_Get",e),Error("Not implemented")}function Mse(){throw Le("RenderWindow_GetCount"),Error("Not implemented")}function Ose(e){throw Le("RenderWindow_GetCursorHovered",e),Error("Not implemented")}function Rse(e,t,n,r,i){const o=this.kernel.egor.windows.get(e)?.[eA];t[n]=o?.mouseX??0,r[i]=o?.mouseY??0}function Ise(e,t){return IC(t)?1:0}function kse(e,t){const n=t===0?"left":t===1?"right":t===2?"middle":null;return IC(n==="left"?1:n==="right"?2:4)?1:0}function Pse(e,t,n,r,i){const o=this.kernel.egor.windows.get(e);t[n]=o?.x??0,r[i]=o?.y??0}function Dse(){return this.kernel.egor.primaryWindow?.key??0}function Ase(e,t,n,r,i){const o=this.kernel.egor.windows.get(e);t[n]=o?.width??0,r[i]=o?.height??0}function Lse(e,t){throw Le("RenderWindow_GetViewport",e,t),Error("Not implemented")}function Nse(e){return this.kernel.egor.windows.get(e)?.viewports.size??0}function Bse(e){return this.kernel.egor.windows.get(e)?.wheelPosition??0}function Fse(e,t,n){Le("RenderWindow_SetPosition",e,t,n)}function jse(e,t,n){Le("RenderWindow_SetSize",e,t,n)}function Vse(e){throw Le("RenderWindow_ToggleFullscreen",e),Error("Not implemented")}function $se(e,t,n,r){Le("Root_AddResourceLocation",e,t,n,r)}function zse(e){qP(this.prj.dir.resolve(e))?.split(`\r
`).forEach(n=>{const r=n.trim().toUpperCase();if(!r.startsWith("FILESYSTEM")&&!r.startsWith("ZIP"))return;const i=r.split("=")[1].trim();this.prj.dir.resolve(i).forEach(s=>{if(s.image){const l=s.path.basename(),c=this.kernel.egor.createImage(s.image,l);c.meta=s.path.toString();return}if(s.mesh){const l=s.path.basename(),c=this.kernel.egor.createMesh(s.mesh,l);c.meta=s.path.toString();return}if(s.base64){const l=s.path.basename().toUpperCase(),c=qP(s.path);if(l.endsWith(".MATERIAL")){const u=c.split(`
`).map(h=>h.trim());for(let h=0;h<u.length;h++){const p=u[h],g=p.startsWith("material ")&&p.replace("material ","").split('"').join("");if(!g)continue;const y=this.kernel.egor.createMaterial(g).techs[0].passes[0];for(let b=h+1;b<u.length;b++){const v=u[b];if(v==="}")break;const S=v.startsWith("shading ")&&v.replace("shading ","");if(S){const N=S.toLowerCase()==="phong"?lt.SO_PHONG:lt.SO_GOURAUD;y.setShadingMode(N);continue}const E=v.startsWith("ambient ")&&v.replace("ambient ","");if(E){const N=E.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setAmbient(...N);continue}const T=v.startsWith("diffuse ")&&v.replace("diffuse ","");if(T){const N=T.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setDiffuse(...N);continue}const O=v.startsWith("specular ")&&v.replace("specular ","");if(O){const N=O.split(" ").map(parseFloat);if(N.length<4||N.some(isNaN))continue;y.setSpecular(...N),N.length>4&&y.setShininess(N[4]);continue}const M=v.startsWith("emissive ")&&v.replace("emissive ","");if(M){const N=M.split(" ").map(parseFloat);if(N.length<3||N.some(isNaN))continue;y.setEmissive(...N),N.length>4&&y.setShininess(N[4]);continue}if(v.startsWith("texture_unit"))for(let N=b+1;N<u.length;N++){const D=u[N];if(D==="}")break;const L=D.startsWith("texture ")&&D.replace("texture ","");if(L){const A=L.toUpperCase();y.createTextureUnit().setTextureName(A);continue}}}}}}},!1)})}function Use(){}function Hse(){Le("Root_Destroy")}function Gse(){throw Le("Root_GetTime"),Error("Not implemented")}function Wse(){}function Kse(){}function qse(){return 1}function Yse(){return this.kernel.egorShouldRender=!0,1}function Xse(){return 1}function Zse(){Le("Root_SaveConfig")}function Qse(){return 1}function Jse(e){Le("Scene_Clear",e)}function eae(e){if(e!=="OctreeSceneManager"&&e!=="BSPSceneManager"&&e!=="TerrainSceneManager")throw Error(`Неподдерживаемый тип сцены: ${e}`);return this.kernel.egor.createScene().key}function tae(e){Le("Scene_Destroy",e)}function nae(e,t){throw Le("Scene_GetCamera",e,t),Error("Not implemented")}function rae(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.entities.values())if(r.scene===n&&r.name===t)return r.key;return 0}function iae(e,t){throw Le("Scene_GetLight",e,t),Error("Not implemented")}function oae(e,t){throw Le("Scene_GetParticleSystem",e,t),Error("Not implemented")}function sae(e){return this.kernel.egor.scenes.get(e)?.root.key??0}function aae(e,t){if(!t)return 0;const n=this.kernel.egor.scenes.get(e);if(!n)return 0;for(const r of this.kernel.egor.sceneNodes.values())if(r.scene===n&&r.name===t)return r.key;return 0}function lae(e){throw Le("Scene_GetShadowTechnique",e),Error("Not implemented")}function cae(e,t){Le("Scene_Load",e,t)}function uae(e,t,n,r){this.kernel.egor.scenes.get(e)?.setAmbient(t,n,r)}function dae(e,t,n,r,i,o,s,l){Le("Scene_SetFog",e,t,n,r,i,o,s,l)}function hae(e,t){Le("Scene_SetShadowTechnique",e,t)}function fae(e,t,n,r){e&&Le("Scene_SetSkyBox",e,t,n,r)}function pae(e,t){Le("Scene_SetWorldGeometry",e,t)}function gae(e,t){Le("SceneNode_AttachObject",e,t)}function mae(e,t){return this.kernel.egor.scenes.get(e)?.createSceneNode({name:t||"__SceneNode_"+ane++}).key??0}function vae(e){this.kernel.egor.sceneNodes.get(e)?.destroy()}function yae(e,t){Le("SceneNode_DetachObject",e,t)}function bae(e){return this.kernel.egor.sceneNodes.get(e)?.movables.length??-1}function wae(e,t){return this.kernel.egor.sceneNodes.get(e)?.getMovable(t)?.key||0}function Sae(e){throw Le("SceneNode_GetScene",e),Error("Not implemented")}function Cae(e,t,n,r,i){this.kernel.egor.sceneNodes.get(e)?.setAutoTracking(this.kernel.egor.sceneNodes.get(t)??null,n,r,i)}function xae(e,t,n){const r=this.kernel.egor.sceneNodes.get(e);if(!r)return;const i=!!t;if(!n){r.movables.forEach(o=>o.setVisible(i));return}(function o(s){s.movables.forEach(l=>l.setVisible(i)),s.children.forEach(l=>o(l))})(r)}function _ae(e,t,n){Le("StringInterface_GetParameter",e,t,n)}function Eae(e){throw Le("StringInterface_GetParameterCount",e),Error("Not implemented")}function Tae(e,t,n){Le("StringInterface_GetParameterDescription",e,t,n)}function Mae(e,t,n){Le("StringInterface_GetParameterName",e,t,n)}function Oae(e,t){throw Le("StringInterface_GetParameterType",e,t),Error("Not implemented")}function Rae(e,t,n){const r=this.kernel.egor.overlayElements.get(e);r&&r.setParam(t,n)}function Iae(e,t){throw Le("Technique_Create",e,t),Error("Not implemented")}function kae(e,t){return this.kernel.egor.techniques.get(e)?.pass(t)?.key??0}function Pae(e,t){throw Le("Technique_GetPassByName",e,t),Error("Not implemented")}function Dae(e,t){return this.kernel.egor.passes.get(e)?.createTextureUnit(t).key??0}function Aae(e,t,n){Le("TextureUnitState_GetTexture",e,t,n)}function Lae(e,t,n){this.kernel.egor.texUnits.get(e)?.setTexture(this.kernel.egor.imageResByNameUC.get(t.toUpperCase())??null,n)}function Nae(e,t,n){throw Le("Viewport_AddCompositor",e,t,n),Error("Not implemented")}function Bae(e,t,n){const r=this.kernel.egor.cameras.get(t);return r?this.kernel.egor.windows.get(e)?.createViewport(r,n).key??0:0}function Fae(e){Le("Viewport_Destroy",e)}function jae(e,t,n,r){throw Le("Viewport_GetBackgroundColour",e,t,n,r),Error("Not implemented")}function Vae(e){throw Le("Viewport_GetCamera",e),Error("Not implemented")}function $ae(e,t){throw Le("Viewport_GetCompositor",e,t),Error("Not implemented")}function zae(e,t,n,r,i){throw Le("Viewport_GetDimensions",e,t,n,r,i),Error("Not implemented")}function Uae(e){throw Le("Viewport_GetNumCompositors",e),Error("Not implemented")}function Hae(e){throw Le("Viewport_GetOverlaysEnabled",e),Error("Not implemented")}function Gae(e,t,n,r,i,o,s,l,c,u,h,p,g,m,y){const{origin:b,dir:v}=this.kernel.egor.viewports.get(e)?.camera.getRay(t,n,kC)||lne;r[i]=b[0],o[s]=b[1],l[c]=b[2],u[h]=v[0],p[g]=v[1],m[y]=v[2]}function Wae(e,t){Le("Viewport_RemoveCompositor",e,t)}function Kae(e,t,n,r){this.kernel.egor.viewports.get(e)?.setBackground(t,n,r)}function qae(e,t){const n=this.kernel.egor.cameras.get(t);n&&this.kernel.egor.viewports.get(e)?.setCamera(n)}function Yae(e,t,n,r,i){Le("Viewport_SetDimensions",e,t,n,r,i)}function Xae(e,t){this.kernel.egor.viewports.get(e)?.enableOverlays(!!t)}function Zae(e){e("AnimationState_AddTime",{a:[P,k]},cne),e("AnimationState_GetEnabled",{a:[P],r:k},une),e("AnimationState_GetLength",{a:[P],r:k},dne),e("AnimationState_GetLoop",{a:[P],r:k},hne),e("AnimationState_GetTimePosition",{a:[P],r:k},fne),e("AnimationState_GetWeight",{a:[P],r:k},pne),e("AnimationState_SetEnabled",{a:[P,k]},gne),e("AnimationState_SetLength",{a:[P,k]},mne),e("AnimationState_SetLoop",{a:[P,k]},vne),e("AnimationState_SetTimePosition",{a:[P,k]},yne),e("AnimationState_SetWeight",{a:[P,k]},bne),e("Billboard_GetColour",{a:[P,ot,ot,ot,ot]},wne),e("Billboard_GetPosition",{a:[P,ot,ot,ot]},Sne),e("Billboard_GetRotation",{a:[P],r:k},Cne),e("Billboard_SetColour",{a:[P,k,k,k,k]},xne),e("Billboard_SetPosition",{a:[P,k,k,k]},_ne),e("Billboard_SetRotation",{a:[P,k]},Ene),e("BillboardSet_Create",{a:[P,fe,k],r:P},Tne),e("BillboardSet_CreateBillboard",{a:[P,k,k,k],r:P},Mne),e("BillboardSet_Destroy",{a:[P]},One),e("BillboardSet_GetBillboard",{a:[P,k],r:P},Rne),e("BillboardSet_GetBillboardType",{a:[P],r:k},Ine),e("BillboardSet_GetCommonDirection",{a:[P,ot,ot,ot]},kne),e("BillboardSet_GetCommonUpVector",{a:[P,ot,ot,ot]},Pne),e("BillboardSet_GetDefaultDimensions",{a:[P,ot,ot]},Dne),e("BillboardSet_GetMaterialName",{a:[P,To]},Ane),e("BillboardSet_GetNumBillboards",{a:[P],r:k},Lne),e("BillboardSet_RemoveBillboard",{a:[P,P]},Nne),e("BillboardSet_SetBillboardType",{a:[P,k]},Bne),e("BillboardSet_SetCommonDirection",{a:[P,k,k,k]},Fne),e("BillboardSet_SetCommonUpVector",{a:[P,k,k,k]},jne),e("BillboardSet_SetDefaultDimensions",{a:[P,k,k]},Vne),e("BillboardSet_SetMaterialName",{a:[P,fe]},$ne),e("Bone_GetManuallyControlled",{a:[P],r:k},zne),e("Bone_Reset",{a:[P]},Une),e("Bone_SetManuallyControlled",{a:[P,k]},Hne),e("Camera_Create",{a:[P,fe],r:P},Gne),e("Camera_Destroy",{a:[P]},Wne),e("Camera_GetAspectRatio",{a:[P],r:k},Kne),e("Camera_GetFarClipDistance",{a:[P],r:k},qne),e("Camera_GetFOV",{a:[P],r:k},Yne),e("Camera_GetNearClipDistance",{a:[P],r:k},Xne),e("Camera_GetPolygonMode",{a:[P],r:k},Zne),e("Camera_GetProjectionType",{a:[P],r:k},Qne),e("Camera_SetAspectRatio",{a:[P,k]},Jne),e("Camera_SetFarClipDistance",{a:[P,k]},ere),e("Camera_SetFocalLength",{a:[P,k]},tre),e("Camera_SetFOV",{a:[P,k]},nre),e("Camera_SetFrustumOffset",{a:[P,k,k]},rre),e("Camera_SetNearClipDistance",{a:[P,k]},ire),e("Camera_SetPolygonMode",{a:[P,k]},ore),e("Camera_SetProjectionType",{a:[P,k]},sre),e("Collision_GetDistance",{a:[k],r:k},are),e("Collision_GetObject",{a:[k],r:P},lre),e("Collision_GetResultCount",{r:k},cre),e("Collision_RayCast",{a:[P,k,k,k,k,k,k]},ure),e("Collision_Sort",{},dre),e("Compositor_GetEnabled",{a:[P],r:k},hre),e("Compositor_SetEnabled",{a:[P,k]},fre),e("Entity_Create",{a:[P,fe,fe],r:P},pre),e("Entity_Destroy",{a:[P]},gre),e("Entity_GetAnimationState",{a:[P,fe],r:P},mre),e("Entity_GetBone",{a:[P,fe],r:P},vre),e("Entity_GetIndexCount",{a:[P,k],r:k},yre),e("Entity_GetMaterial",{a:[P,k,To]},bre),e("Entity_GetSubEntityCount",{a:[P],r:k},wre),e("Entity_GetVertexCount",{a:[P],r:k},nA),e("Entity_GetVertexCount",{a:[P,k],r:k},nA),e("Entity_SetMaterial",{a:[P,k,fe]},Sre),e("Light_Create",{a:[P,fe],r:P},Cre),e("Light_Destroy",{a:[P]},xre),e("Light_GetPowerScale",{a:[P],r:k},_re),e("Light_SetAttenuation",{a:[P,k,k,k,k]},Ere),e("Light_SetDiffuseColour",{a:[P,k,k,k]},Tre),e("Light_SetPowerScale",{a:[P,k]},Mre),e("Light_SetSpecularColour",{a:[P,k,k,k]},Ore),e("Light_SetSpotlightRange",{a:[P,k,k,k]},Rre),e("Light_SetType",{a:[P,k]},Ire),e("ManualObject_Begin",{a:[P,fe,k]},kre),e("ManualObject_Clear",{a:[P]},Pre),e("ManualObject_Colour",{a:[P,k,k,k,k]},Dre),e("ManualObject_ConvertToMesh",{a:[P,fe]},Are),e("ManualObject_Create",{a:[P,fe],r:P},Lre),e("ManualObject_Destroy",{a:[P]},Nre),e("ManualObject_End",{a:[P]},Bre),e("ManualObject_EstimateIndexCount",{a:[P,k]},Fre),e("ManualObject_EstimateVertexCount",{a:[P,k]},jre),e("ManualObject_GetDynamic",{a:[P],r:k},Vre),e("ManualObject_Index",{a:[P,k]},$re),e("ManualObject_Normal",{a:[P,k,k,k]},zre),e("ManualObject_Position",{a:[P,k,k,k]},Ure),e("ManualObject_SetDynamic",{a:[P,k]},Hre),e("ManualObject_TextureCoord",{a:[P,k,k]},Gre),e("Material_Create",{a:[fe],r:P},Wre),e("Material_Get",{a:[fe],r:P},Kre),e("Material_GetBestTechnique",{a:[P],r:P},qre),e("Material_GetName",{a:[P,To]},Yre),e("Material_GetTechniqueByIndex",{a:[P,k],r:P},Xre),e("Material_GetTechniqueByName",{a:[P,fe],r:P},Zre),e("Movable_GetBoundingBox",{a:[P,ot,ot,ot,ot,ot,ot]},Qre),e("Movable_GetCastShadows",{a:[P],r:k},Jre),e("Movable_GetName",{a:[P,To]},eie),e("Movable_GetParent",{a:[P],r:P},tie),e("Movable_GetVisible",{a:[P],r:k},nie),e("Movable_SetCastShadows",{a:[P,k]},rie),e("Movable_SetParent",{a:[P,P]},iie),e("Movable_SetVisible",{a:[P,k]},oie),e("MovableText_Create",{a:[fe,fe,fe],r:P},sie),e("MovableText_Destroy",{a:[P]},aie),e("MovableText_GetCaption",{a:[P,To]},lie),e("MovableText_GetCharacterHeight",{a:[P],r:k},cie),e("MovableText_GetColor",{a:[P,ot,ot,ot,ot]},uie),e("MovableText_GetFontName",{a:[P,To]},die),e("MovableText_GetGlobalTranslation",{a:[P,ot,ot,ot]},hie),e("MovableText_GetLocalTranslation",{a:[P,ot,ot,ot]},fie),e("MovableText_GetSpaceWidth",{a:[P],r:k},pie),e("MovableText_GetTextAlignment",{a:[P,ot,ot]},gie),e("MovableText_SetCaption",{a:[P,fe]},mie),e("MovableText_SetCharacterHeight",{a:[P,k]},vie),e("MovableText_SetColor",{a:[P,k,k,k,k]},yie),e("MovableText_SetFontName",{a:[P,fe]},bie),e("MovableText_SetGlobalTranslation",{a:[P,k,k,k]},wie),e("MovableText_SetLocalTranslation",{a:[P,k,k,k]},Sie),e("MovableText_SetSpaceWidth",{a:[P,k]},Cie),e("MovableText_SetTextAlignment",{a:[P,k,k]},xie),e("Node_AddChild",{a:[P,P]},_ie),e("Node_GetChild",{a:[P,k],r:P},Eie),e("Node_GetDerivedPosition",{a:[P,ot,ot,ot]},Tie),e("Node_GetDerivedRotationQuaternion",{a:[P,ot,ot,ot,ot]},Mie),e("Node_GetDerivedScale",{a:[P,ot,ot,ot]},Oie),e("Node_GetName",{a:[P,To]},Rie),e("Node_GetNumChildren",{a:[P],r:k},Iie),e("Node_GetParent",{a:[P],r:P},kie),e("Node_GetPosition",{a:[P,ot,ot,ot]},Pie),e("Node_GetRotationQuaternion",{a:[P,ot,ot,ot,ot]},Die),e("Node_GetScale",{a:[P,ot,ot,ot]},Aie),e("Node_RemoveChild",{a:[P,P]},Lie),e("Node_SetParent",{a:[P,P]},Nie),e("Node_SetPosition",{a:[P,k,k,k]},Bie),e("Node_SetRotationAxis",{a:[P,k,k,k,k]},Fie),e("Node_SetRotationEulerXYZ",{a:[P,k,k,k]},jie),e("Node_SetRotationEulerXZY",{a:[P,k,k,k]},Vie),e("Node_SetRotationEulerYXZ",{a:[P,k,k,k]},$ie),e("Node_SetRotationEulerYZX",{a:[P,k,k,k]},zie),e("Node_SetRotationEulerZXY",{a:[P,k,k,k]},Uie),e("Node_SetRotationEulerZYX",{a:[P,k,k,k]},Hie),e("Node_SetRotationQuaternion",{a:[P,k,k,k,k]},Gie),e("Node_SetScale",{a:[P,k,k,k]},Wie),e("Overlay_AddChild",{a:[P,P]},Kie),e("Overlay_Create",{a:[fe],r:P},qie),e("Overlay_FindElementAt",{a:[P,k,k],r:P},Yie),e("Overlay_Get",{a:[fe],r:P},Xie),e("Overlay_GetName",{a:[P,To]},Zie),e("Overlay_GetRotate",{a:[P],r:k},Qie),e("Overlay_GetScale",{a:[P,ot,ot]},Jie),e("Overlay_GetScroll",{a:[P,ot,ot]},eoe),e("Overlay_GetVisible",{a:[P],r:k},toe),e("Overlay_GetZOrder",{a:[P],r:k},noe),e("Overlay_RemoveChild",{a:[P,P]},roe),e("Overlay_SetRotate",{a:[P,k]},ioe),e("Overlay_SetScale",{a:[P,k,k]},ooe),e("Overlay_SetScroll",{a:[P,k,k]},soe),e("Overlay_SetVisible",{a:[P,k]},aoe),e("Overlay_SetZOrder",{a:[P,k]},loe),e("OverlayContainer_AddChild",{a:[P,P]},coe),e("OverlayContainer_GetChild",{a:[P,k],r:P},uoe),e("OverlayContainer_GetChildCount",{a:[P],r:k},doe),e("OverlayContainer_RemoveChild",{a:[P,P]},hoe),e("OverlayElement_Create",{a:[fe,fe],r:P},foe),e("OverlayElement_Get",{a:[fe],r:P},poe),e("OverlayElement_GetAlignment",{a:[P,ot,ot]},goe),e("OverlayElement_GetCaption",{a:[P,To]},moe),e("OverlayElement_GetColour",{a:[P,ot,ot,ot,ot]},voe),e("OverlayElement_GetMaterialName",{a:[P,To]},yoe),e("OverlayElement_GetMetricsMode",{a:[P],r:k},boe),e("OverlayElement_GetParent",{a:[P],r:P},woe),e("OverlayElement_GetPosition",{a:[P,ot,ot]},Soe),e("OverlayElement_GetSize",{a:[P,ot,ot]},Coe),e("OverlayElement_GetVisible",{a:[P],r:k},xoe),e("OverlayElement_IsContainer",{a:[P],r:k},_oe),e("OverlayElement_SetAlignment",{a:[P,k,k]},Eoe),e("OverlayElement_SetCaption",{a:[P,fe]},Toe),e("OverlayElement_SetColour",{a:[P,k,k,k,k]},Moe),e("OverlayElement_SetMaterialName",{a:[P,fe]},Ooe),e("OverlayElement_SetMetricsMode",{a:[P,k]},Roe),e("OverlayElement_SetPosition",{a:[P,k,k]},Ioe),e("OverlayElement_SetSize",{a:[P,k,k]},koe),e("OverlayElement_SetVisible",{a:[P,k]},Poe),e("ParticleSystem_Create",{a:[P,fe,fe],r:P},Doe),e("ParticleSystem_CreateEx",{a:[P,fe,fe],r:P},Aoe),e("ParticleSystem_Destroy",{a:[P]},Loe),e("ParticleSystem_GetName",{a:[P,fe]},Noe),e("ParticleSystem_GetParent",{a:[P],r:P},Boe),e("ParticleSystem_GetVisible",{a:[P],r:k},Foe),e("ParticleSystem_SetParent",{a:[P,P]},joe),e("ParticleSystem_SetVisible",{a:[P,k]},Voe),e("Pass_Create",{a:[P,fe],r:P},$oe),e("Pass_GetAlphaRejectSettings",{a:[P,ot,ot]},zoe),e("Pass_GetAmbient",{a:[P,ot,ot,ot,ot]},Uoe),e("Pass_GetColourWriteEnabled",{a:[P],r:k},Hoe),e("Pass_GetCullingMode",{a:[P],r:k},Goe),e("Pass_GetDepthCheckEnabled",{a:[P],r:k},Woe),e("Pass_GetDepthFunction",{a:[P],r:k},Koe),e("Pass_GetDepthWriteEnabled",{a:[P],r:k},qoe),e("Pass_GetDiffuse",{a:[P,ot,ot,ot,ot]},Yoe),e("Pass_GetLightingEnabled",{a:[P],r:k},Xoe),e("Pass_GetPolygonMode",{a:[P],r:k},Zoe),e("Pass_GetSceneBlending",{a:[P,ot,ot]},Qoe),e("Pass_GetSelfIllumination",{a:[P,ot,ot,ot,ot]},Joe),e("Pass_GetShadingMode",{a:[P],r:k},ese),e("Pass_GetShininess",{a:[P],r:k},tse),e("Pass_GetSpecular",{a:[P,ot,ot,ot,ot]},nse),e("Pass_GetTextureUnitStateByIndex",{a:[P,k],r:P},rse),e("Pass_GetTextureUnitStateByName",{a:[P,fe],r:P},ise),e("Pass_SetAlphaRejectSettings",{a:[P,k,k]},ose),e("Pass_SetAmbient",{a:[P,k,k,k,k]},sse),e("Pass_SetColourWriteEnabled",{a:[P,k]},ase),e("Pass_SetCullingMode",{a:[P,k]},lse),e("Pass_SetDepthCheckEnabled",{a:[P,k]},cse),e("Pass_SetDepthFunction",{a:[P,k]},use),e("Pass_SetDepthWriteEnabled",{a:[P,k]},dse),e("Pass_SetDiffuse",{a:[P,k,k,k,k]},hse),e("Pass_SetLightingEnabled",{a:[P,k]},fse),e("Pass_SetPolygonMode",{a:[P,k]},pse),e("Pass_SetSceneBlending",{a:[P,k,k]},gse),e("Pass_SetSelfIllumination",{a:[P,k,k,k,k]},mse),e("Pass_SetShadingMode",{a:[P,k]},vse),e("Pass_SetShininess",{a:[P,k]},yse),e("Pass_SetSpecular",{a:[P,k,k,k,k]},bse),e("RenderTexture_Create",{a:[fe,k,k],r:P},wse),e("RenderTexture_Destroy",{a:[P]},Sse),e("RenderWindow_Create",{a:[P,k,k],r:P},Cse),e("RenderWindow_Create2",{a:[P,fe,k,k,k,k,k,k],r:P},xse),e("RenderWindow_CreateEx",{a:[P,k,k,k],r:P},_se),e("RenderWindow_Destroy",{a:[P]},Ese),e("RenderWindow_Get",{a:[k],r:P},Tse),e("RenderWindow_GetCount",{r:k},Mse),e("RenderWindow_GetCursorHovered",{a:[P],r:k},Ose),e("RenderWindow_GetCursorPosition",{a:[P,ot,ot]},Rse),e("RenderWindow_GetKeyboardButtonPressed",{a:[P,k],r:k},Ise),e("RenderWindow_GetMouseButtonPressed",{a:[P,k],r:k},kse),e("RenderWindow_GetPosition",{a:[P,ot,ot]},Pse),e("RenderWindow_GetPrimary",{r:P},Dse),e("RenderWindow_GetSize",{a:[P,ot,ot]},Ase),e("RenderWindow_GetViewport",{a:[P,k],r:P},Lse),e("RenderWindow_GetViewportCount",{a:[P],r:k},Nse),e("RenderWindow_GetWheelPosition",{a:[P],r:k},Bse),e("RenderWindow_SetPosition",{a:[P,k,k]},Fse),e("RenderWindow_SetSize",{a:[P,k,k]},jse),e("RenderWindow_ToggleFullscreen",{a:[P],r:k},Vse),e("Root_AddResourceLocation",{a:[fe,fe,fe,k]},$se),e("Root_AddResourceLocationFromConfigFile",{a:[fe]},zse),e("Root_Create",{a:[fe,fe,fe]},Use),e("Root_Destroy",{},Hse),e("Root_GetTime",{r:k},Gse),e("Root_Initialise",{},Wse),e("Root_InitialiseAllResourceGroups",{},Kse),e("Root_IsInitialised",{r:k},qse),e("Root_RenderOneFrame",{r:k},Yse),e("Root_RestoreConfig",{r:k},Xse),e("Root_SaveConfig",{},Zse),e("Root_ShowConfigDialog",{r:k},Qse),e("Scene_Clear",{a:[P]},Jse),e("Scene_Create",{a:[fe],r:P},eae),e("Scene_Destroy",{a:[P]},tae),e("Scene_GetCamera",{a:[P,fe],r:P},nae),e("Scene_GetEntity",{a:[P,fe],r:P},rae),e("Scene_GetLight",{a:[P,fe],r:P},iae),e("Scene_GetParticleSystem",{a:[P,fe],r:P},oae),e("Scene_GetRootSceneNode",{a:[P],r:P},sae),e("Scene_GetSceneNode",{a:[P,fe],r:P},aae),e("Scene_GetShadowTechnique",{a:[P],r:k},lae),e("Scene_Load",{a:[P,fe]},cae),e("Scene_SetAmbientLight",{a:[P,k,k,k]},uae),e("Scene_SetFog",{a:[P,k,k,k,k,k,k,k]},dae),e("Scene_SetShadowTechnique",{a:[P,k]},hae),e("Scene_SetSkyBox",{a:[P,k,fe,k]},fae),e("Scene_SetWorldGeometry",{a:[P,fe]},pae),e("SceneNode_AttachObject",{a:[P,P]},gae),e("SceneNode_Create",{a:[P,fe],r:P},mae),e("SceneNode_Destroy",{a:[P]},vae),e("SceneNode_DetachObject",{a:[P,P]},yae),e("SceneNode_GetNumObjects",{a:[P],r:k},bae),e("SceneNode_GetObject",{a:[P,k],r:P},wae),e("SceneNode_GetScene",{a:[P],r:P},Sae),e("SceneNode_SetAutoTracking",{a:[P,P,k,k,k]},Cae),e("SceneNode_SetVisible",{a:[P,k,k]},xae),e("StringInterface_GetParameter",{a:[P,fe,fe]},_ae),e("StringInterface_GetParameterCount",{a:[P],r:k},Eae),e("StringInterface_GetParameterDescription",{a:[P,k,fe]},Tae),e("StringInterface_GetParameterName",{a:[P,k,fe]},Mae),e("StringInterface_GetParameterType",{a:[P,k],r:k},Oae),e("StringInterface_SetParameter",{a:[P,fe,fe]},Rae),e("Technique_Create",{a:[P,fe],r:P},Iae),e("Technique_GetPassByIndex",{a:[P,k],r:P},kae),e("Technique_GetPassByName",{a:[P,fe],r:P},Pae),e("TextureUnitState_Create",{a:[P,fe],r:P},Dae),e("TextureUnitState_GetTexture",{a:[P,fe,P]},Aae),e("TextureUnitState_SetTexture",{a:[P,fe,k]},Lae),e("Viewport_AddCompositor",{a:[P,fe,k],r:P},Nae),e("Viewport_Create",{a:[P,P,k],r:P},Bae),e("Viewport_Destroy",{a:[P]},Fae),e("Viewport_GetBackgroundColour",{a:[P,ot,ot,ot]},jae),e("Viewport_GetCamera",{a:[P],r:P},Vae),e("Viewport_GetCompositor",{a:[P,k],r:P},$ae),e("Viewport_GetDimensions",{a:[P,ot,ot,ot,ot]},zae),e("Viewport_GetNumCompositors",{a:[P],r:k},Uae),e("Viewport_GetOverlaysEnabled",{a:[P],r:k},Hae),e("Viewport_GetRay",{a:[P,k,k,ot,ot,ot,ot,ot,ot]},Gae),e("Viewport_RemoveCompositor",{a:[P,P]},Wae),e("Viewport_SetBackgroundColour",{a:[P,k,k,k]},Kae),e("Viewport_SetCamera",{a:[P,P]},qae),e("Viewport_SetDimensions",{a:[P,k,k,k,k]},Yae),e("Viewport_SetOverlaysEnabled",{a:[P,k]},Xae)}const Qae={name:"ogre",deps:["windows"],register:Zae,setup(e){e.egor=new HJ,e.egorShouldRender=!1,e.egorRayCastResult=null,e.egorManualObjectsSections=new WeakMap,e.beforeRender.add(()=>{e.egorShouldRender&&(e.egorShouldRender=!1,e.egor.renderAll())})}},Jae=13,ele=10,tle=[1,1,2,2,4,4,4,5,8,10];function iA(e){return e<0||e>9?0:tle[e]}class oA{constructor(t=null,n=null){this.file=n,t?this.v=new DataView(t.buffer,t.byteOffset,t.byteLength):this.v=new DataView(new ArrayBuffer(0)),this.p=0,this.width=8}copyTo(t,n,r){return n<0||n+r>this.v.byteLength?0:(t.v.byteLength<r?t.v=new DataView(this.v.buffer.slice(n,r)):new Uint8Array(t.v.buffer).set(new Uint8Array(this.v.buffer,n,r)),1)}seek(t){return this.p=t}eof(){return this.p>=this.size()?1:0}pos(){return this.p}size(){return this.v.byteLength}setWidth(t){return this.width=t,1}widthNumber(){const t=iA(this.width);if(t===0)return 0;const n=this.p,r=n+t;if(r>this.size())return 0;switch(this.p=r,this.width){case 0:return this.v.getUint8(n);case 1:return this.v.getInt8(n);case 2:return this.v.getUint16(n,!0);case 3:return this.v.getInt16(n,!0);case 4:return this.v.getUint32(n,!0);case 5:return this.v.getInt32(n,!0);case 6:return this.v.getFloat32(n,!0);case 7:throw Error("Чтение FLOAT40 не поддерживается");case 8:return this.v.getFloat64(n,!0);case 9:throw Error("Чтение FLOAT80 не поддерживается");default:return 0}}resize(t){const n=new Uint8Array(new ArrayBuffer(t));n.set(new Uint8Array(this.v.buffer)),this.v=new DataView(n.buffer)}writeWidthNumber(t){const n=iA(this.width);if(n===0)return 0;const r=this.p,i=r+n;switch(i>this.size()&&this.resize(i),this.p=i,this.width){case 0:return this.v.setUint8(r,t),1;case 1:return this.v.setInt8(r,t),1;case 2:return this.v.setUint16(r,t,!0),2;case 3:return this.v.setInt16(r,t,!0),2;case 4:return this.v.setUint32(r,t,!0),4;case 5:return this.v.setInt32(r,t,!0),4;case 6:return this.v.setFloat32(r,t,!0),4;case 7:throw Error("FLOAT40 не поддерживается");case 8:return this.v.setFloat64(r,t,!0),8;case 9:throw Error("FLOAT80 не поддерживается");default:return 0}}getLine(t,n){const r=this.p,i=Math.min(t,this.size()-r);if(i<=0)return"";let o=0,s="";for(;o<i;){const l=this.v.getUint8(r+o);o++;const c=el[l];if(s+=c,c===n)break}return this.p+=o,s}line(){const t=this.p,n=this.size()-t;if(n<=0)return"";let r=0,i=0;for(;r<n;){const s=this.v.getUint8(t+r);if(s===0){i=1;break}if(s===Jae&&r+1<n&&this.v.getUint8(t+r+1)===ele){i=2;break}r+=1}const o=zp(new Uint8Array(this.v.buffer,t,r));return this.p=t+r+i,o}writeLine(t){const n=t+`\r
`;let r=this.p;const i=r+n.length;return i>this.size()&&this.resize(i),this.p=i,Up(n).forEach((s,l)=>this.v.setUint8(r+l,s)),n.length}write(t){let n=this.p;const r=n+t.length;r>this.size()&&this.resize(r),this.p=r,t.forEach((i,o)=>this.v.setUint8(n+o,i))}bytes(){return new Uint8Array(this.v.buffer)}}function nle(e,t,n){const r=e.toUpperCase(),i=n.toUpperCase(),o=i.includes("CREATE"),s=i.includes("READONLY"),l=ps.freeKey(this.kernel.streams);if(r==="FILE"){const c=this.prj.dir.resolve(t);let u=null,h=null;if(o){if(u=c.create("file",{base64:""}),!u)return 0}else{if(u=c.file(),!u)return 0;u.base64?h=Xv(u.base64):Ri.debugFile&&this._warn(`CreateStream: Файл ${c} (${u.size} байт) существует, но формат не base64.`)}return this.kernel.streams.set(l,new oA(h,s?null:u)),l}return r==="MEMORY"?(this.kernel.streams.set(l,new oA),l):(console.warn(`Поток типа ${r} не поддерживается`),0)}function rle(e){const t=this.kernel.streams.get(e);if(!t)return 0;if(this.kernel.streams.delete(e),!t.file)return 1;const n=t.bytes();return t.file.set({base64:Yv(n)}),this.kernel.handleWrite(t.file.path,n),1}function ile(e,t){return this.kernel.streams.get(e)?.seek(t)??0}function ole(e){return this.kernel.streams.get(e)?.eof()??0}function sle(e){return this.kernel.streams.get(e)?.pos()??0}function ale(e){return this.kernel.streams.get(e)?.size()??0}function lle(e,t){return this.kernel.streams.get(e)?.setWidth(t)??0}function cle(e){return this.kernel.streams.get(e)?.widthNumber()??0}function ule(e){return this.kernel.streams.get(e)?.line()??""}function dle(e,t){return this.kernel.streams.get(e)?.writeWidthNumber(t)??0}function hle(e,t){return this.kernel.streams.get(e)?.writeLine(t)??0}function fle(e,t,n){return this.kernel.streams.get(e)?.getLine(t,n)??""}function ple(e,t,n,r){const i=this.kernel.streams.get(e);if(!i)return 0;const o=this.kernel.streams.get(t);return o?i.copyTo(o,n,r):0}function gle(e){e("CreateStream",{a:[fe,fe,fe],r:P},nle),e("CloseStream",{a:[P],r:k},rle),e("Seek",{a:[P,k],r:k},ile),e("Eof",{a:[P],r:k},ole),e("GetPos",{a:[P],r:k},sle),e("GetSize",{a:[P],r:k},ale),e("SetWidth",{a:[P,k],r:k},lle),e("Read",{a:[P],r:k},cle),e("ReadLn",{a:[P],r:fe},ule),e("Write",{a:[P,k],r:k},dle),e("WriteLn",{a:[P,fe],r:k},hle),e("GetLine",{a:[P,k,fe],r:fe},fle),e("CopyBlock",{a:[P,P,k,k],r:k},ple)}const mle={name:"streams",register:gle,setup(e){e.streams=new Map}};function vle(e){return this.kernel._functionNotImplemented(`System(${e})`),0}function yle(e){return IC(e)?1:0}function ble(e,t,n,r,i){const o=this.kernel.windows.get(e);if(!o)return t[n]=0,r[i]=0,0;const s=o.mouseX+o.scene.x,l=o.mouseY+o.scene.y,c=o.invmatrix;if(!c)return t[n]=s,r[i]=l,1;const u=s*c[2]+l*c[5]+c[8];return t[n]=(s*c[0]+l*c[3]+c[6])/u,r[i]=(s*c[1]+l*c[4]+c[7])/u,1}function wle(e){this.kernel.windowSystem.showCursor(e>0)}function sA(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;let r;switch(t){case lt.CUR_ARROW:r="auto";break;case lt.CUR_CROSS:r="crosshair";break;case lt.CUR_TEXT:r="text";break;case lt.CUR_NO:r="not-allowed";break;case lt.CUR_SIZE:r="move";break;case lt.CUR_SIZENESW:r="nesw-resize";break;case lt.CUR_SIZENS:r="ns-resize	";break;case lt.CUR_SIZENWSE:r="nwse-resize";break;case lt.CUR_SIZEWE:r="ew-resize";break;case lt.CUR_UPARROW:r="n-resize";break;case lt.CUR_WAIT:r="wait";break;case lt.CUR_LINK:r="pointer";break;case lt.CUR_HELP:r="help";break;default:r="auto";break}n.setCursor(r)}function aA(e,t){const n=typeof e=="number"?this.kernel.scenes.get(e):this.kernel.windows.get(e);if(!n)return;const r=this.prj.dir.resolve(t).file()?.cursor;n.setCursor(r?`url(${Ls(r.src)}), auto`:"default")}function Sle(){return Date.now()-z9}function Cle(e,t,n,r,i,o){const s=new Date;e[t]=s.getFullYear(),n[r]=s.getMonth()+1,i[o]=s.getDate()}function xle(e,t,n,r,i,o,s,l){const c=new Date;e[t]=c.getHours(),n[r]=c.getMinutes(),i[o]=c.getSeconds(),s[l]=c.getMilliseconds()*.1}function _le(e,t,n,...[r,i,o,s,l]){if(n>4)return 0;const c=this.kernel.scenes.get(e)?.scene.objects.get(t);return c?(n<0?delete c.data.hyper:c.data.hyper={mode:n,target:r,object:i,effect:o,window:s,params:l},1):0}function Ele(e,t,n,r){const i=this.kernel.scenes.get(e);if(!i)return;const o=(i.scene.objects.get(r)??i.pick(t,n))?.data?.hyper;o&&i.hyperClick(o,{x:t,y:n})}function Tle(){return this.kernel.windowSystem.windowFactory.screenWidth}function Mle(){return this.kernel.windowSystem.windowFactory.screenHeight}function Ole(){return 0}function Rle(){return 0}function Ile(){return this.kernel.windowSystem.windowFactory.screenWidth}function kle(){return this.kernel.windowSystem.windowFactory.screenHeight}function Ple(){return 0}function Dle(){return 0}function Ale(){return 0}function Lle(){return 0}function Nle(){return 0}function Ble(){return 0}function Fle(e,t){return this.kernel.handleExe(e,t)?1:0}function jle(e,t,n,r){return this.kernel.handleShell(e,t,n,r)?1:0}function Vle(e){this.kernel.log(e,this)}function $le(e){e("System",{a:[k],rest:[k],r:k},vle),e("GetAsyncKeyState",{a:[k],r:k},yle),e("GetMousePos",{a:[fe,ot,ot],r:k},ble),e("ShowCursor",{a:[k]},wle),e("LoadCursor",{a:[P,fe]},aA),e("LoadCursor",{a:[fe,fe]},aA),e("SetStandartCursor",{a:[P,k]},sA),e("SetStandartCursor",{a:[fe,k]},sA),e("GetTickCount",{r:k},Sle),e("GetTime",{a:[ot,ot,ot,ot]},xle),e("GetDate",{a:[ot,ot,ot]},Cle),e("SetHyperJump2d",{a:[P,P,k],rest:[fe],r:k},_le),e("StdHyperJump",{a:[P,k,k,P,k]},Ele),e("GetScreenWidth",{r:k},Tle),e("GetScreenHeight",{r:k},Mle),e("GetWorkAreaX",{r:k},Ole),e("GetWorkAreaY",{r:k},Rle),e("GetWorkAreaWidth",{r:k},Ile),e("GetWorkAreaHeight",{r:k},kle),e("GetTitleHeight",{r:k},Ple),e("GetSmallTitleHeight",{r:k},Dle),e("GetFixedFrameWidth",{r:k},Ale),e("GetFixedFrameHeight",{r:k},Lle),e("GetSizeFrameWidth",{r:k},Nle),e("GetSizeFrameHeight",{r:k},Ble),e("WinExecute",{a:[fe,k],r:k},Fle),e("Shell",{a:[fe,fe,fe,k],r:k},jle),e("LogMessage",{a:[fe]},Vle)}const zle={name:"system",deps:["windows"],register:$le};function Ule(e){return e.toString()}function Hle(e,t){return e<0||e>255?"":el[e]}function Gle(){return this.kernel.fs.appData.toString()}function Wle(e){e("FloatToString",{a:[k],r:fe},Ule),e("ConvertToAscii",{a:[k,k],r:fe},Hle),e("GetSpecialPath",{r:fe},Gle)}const Kle={name:"tdl",register:Wle},lA=new Set;function fu(...e){lA.size!==lA.add(e[0]).size&&console.warn(...e)}async function Fd(e,t){const n=await fetch(`https://stratum.ac.ru/enteronline/api/ta/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!n.ok)throw Error(r.message);return r}async function qle(e){if(fu("GetWordInfo",e),!e)return"";const{wordInfo:t}=await Fd("getWordInfo",{word:e});return t}async function Yle(e,t){if(fu("GetWordInfo",e,t),!e)return;const n=this.kernel.streams.get(t);if(!n)return;const{wordInfo:r}=await Fd("getWordInfo",{word:e});n.write(Up(r)),n.seek(0)}async function Xle(e,t,n){if(fu("GetWordProperty",e,t,n),!e||!n)return"";const{wordProperty:r}=await Fd("getWordProperty",{word:e,filter:t,propName:n});return r}async function Zle(e){if(fu("GetWordFormCount",e),!e)return 0;const{wordFormCount:t}=await Fd("getWordFormCount",{word:e});return t}async function Qle(e,t,n){if(fu("GetWordForm",e,t,n),!e)return"";const{wordForm:r}=await Fd("getWordForm",{word:e,formIndex:t,formProp:n});return r}async function Jle(e){if(fu("FindNextWord",e),!e)return"";const{nextWord:t}=await Fd("findNextWord",{word:e});return t}async function ece(e){if(fu("FindPrevWord",e),!e)return"";const{prevWord:t}=await Fd("findPrevWord",{word:e});return t}async function tce(e,t,n){return fu("InitAnalyzer",e,t,n),1}function nce(e){e("GetWordInfo",{a:[fe],r:fe,kind:"async"},qle),e("GetWordInfo",{a:[fe,P],kind:"async"},Yle),e("GetWordProperty",{a:[fe,fe,fe],r:fe,kind:"async"},Xle),e("GetWordFormCount",{a:[fe],r:k,kind:"async"},Zle),e("GetWordForm",{a:[fe,k,fe],r:fe,kind:"async"},Qle),e("FindNextWord",{a:[fe],r:fe,kind:"async"},Jle),e("FindPrevWord",{a:[fe],r:fe,kind:"async"},ece),e("InitAnalyzer",{a:[fe,fe,fe],r:k,kind:"async"},tce)}const rce={name:"textAnalyzer",deps:["streams"],register:nce};async function Ty({src:e,etag:t},n){let r;try{r=await fetch(`${Nq(e)}${t?"?"+t:""}`,n)}catch(o){throw o instanceof Error?Error("Сервер библиотек не отвечает"):o}if(r.status===404)throw Error(`404: Библиотека '${e}' не существует`);const i=await r.json();if(!r.ok)throw Error(i.message||"Неизвестная ошибка");return i}function cA(e,t,n,r){const{children:i}=e,o=i.length?i[0]:null,s=tf(e.scene,t,r).set({x:e.x,y:e.y,attrib:e.attrib});if(o){const l=e.attrib|Il;n?(o.set({attrib:l}),s.set({width:o.width,height:o.height})):o.set({attrib:l,width:1,height:1})}return e.set({children:i.concat(s)}),s}const Pl={gspace:"ApJIp71s","scroll-x":"qhzEyKeP","scroll-y":"j1zyfqqN",hidden:"-WlIuMox",scene:"_-7ivHAO2",frame:"xTZG1aX9",spacer:"Q4gUooLG"};class ice{constructor(t,n){this.space=t,this.view=n,this.onDisposed=new aa}dispose(){this.view.remove(),this.space._removeFrame(this)}}class PC{constructor({system:t,key:n,name:r,project:i,data:o,options:s,x:l=0,y:c=0,matrix:u=null,source:h=null,parent:p=null,sceneChildren:g}){this.isVisible=!0,this.scale=1,this.mouseX=0,this.mouseY=0,this.mouseMoveSubs=new tl,this.leftButtonUpSubs=new tl,this.leftButtonDownSubs=new tl,this.leftButtonDoubleClickSubs=new tl,this.rightButtonUpSubs=new tl,this.rightButtonDownSubs=new tl,this.middleButtonUpSubs=new tl,this.middleButtonDownSubs=new tl,this.keyDownSubs=new Set,this.keyUpSubs=new Set,this.keyCharSubs=new Set,this.controlNotifySubs=new tl,this.commandSubs=new tl,this.windowMoveSubs=new Set,this.spaceDoneSubs=new Set,this.sizeSubs=new Set,this.frames=new Set,this.all=new Set([this]),this.clientWidth=0,this.clientHeight=0,this.hiddenBy=null,this.currentCursor="auto",this.cursorOverHyp=!1,this.connectedWindow=null,this.spacer=null,this.scrollX=null,this.scrollY=null,this.scrolledSceneX=NaN,this.scrolledSceneY=NaN,this.lastTouchInfo=null,this.title=r,this.system=t,this.kernel=t.kernel,this.key=n,this.name=r,this.project=i,this.matrix=u,this.invmatrix=u&&Fq(u),this.parent=p,this.source=h,this.x=l,this.y=c;const m=this.scene=t.sceneFactory.create(o,i.settings.graphicsBackend);g?.forEach(({key:T,klass:O})=>{const M=t.kernel.classes.get(O)?.image;if(!M||M.prior==="icon"||!M.scene?.data?.objects?.length)return;const I=m.objects.get(T);I?.type==="group"&&cA(I,M.scene.data,M.resizable)}),m.domElement.classList.add(Pl.scene);const y=this.domElement=document.createElement("div");y.className=Pl.gspace,y.tabIndex=0,y.setAttribute("data-gspace-name",r),y.setAttribute("data-gspace-key",n.toString()),y.append(m.domElement);const b=s.size;if(b?.type==="fixed"&&(this.clientWidth=b.width,this.clientHeight=b.height),b?.type!=="fixed"||s.autoorg||s.hscroll||s.vscroll){const T=hy(m.objects.values());m.set({x:T.x,y:T.y}),this.clientWidth<=0&&(this.clientWidth=T.w),this.clientHeight<=0&&(this.clientHeight=T.h),s.hscroll&&(this.scrollX={min:T.x,max:T.x+(s.autoscroll?0:T.w)}),s.vscroll&&(this.scrollY={min:T.y,max:T.y+(s.autoscroll?0:T.h)})}this.clientWidth<=0&&(this.clientWidth=this.system.windowFactory.screenWidth),this.clientHeight<=0&&(this.clientHeight=this.system.windowFactory.screenHeight),Pd(y,{...p&&{left:l-p.scene.x+"px",top:c-p.scene.y+"px"},width:this.clientWidth+"px",height:this.clientHeight+"px"});const{pointerTarget:v}=this;v.addEventListener("contextmenu",CP);const S=this.handlePointer.bind(this);v.addEventListener("pointerdown",S),v.addEventListener("pointermove",S),v.addEventListener("pointerup",S),v.addEventListener("pointercancel",S);const E=this.handleKeyboard.bind(this);y.addEventListener("keydown",E),y.addEventListener("keyup",E),m.onInputChanged.add(this.handleInput.bind(this))}getClientWidth(){return this.domElement.clientWidth||this.clientWidth}getClientHeight(){return this.domElement.clientHeight||this.clientHeight}getWidth(){return this.domElement.offsetWidth||this.clientWidth}getHeight(){return this.domElement.offsetHeight||this.clientHeight}get pointerTarget(){return this.scene.domElement}setTitle(t){this.title=t,this.connectedWindow?.set({title:t})}setConnectedWindow(t){t.onClosed.add(this.onConnectedWindowClosed.bind(this)),this.connectedWindow=t}onConnectedWindowClosed(){this.connectedWindow=null,this.close()}setOpacity(t){const{domElement:n}=this;this.connectedWindow&&!this.isVisible||(t>=1?n.style.removeProperty("opacity"):Pd(n,{transition:"none",opacity:t.toString()}))}updateMouseCoords(t,n){this.mouseX=t,this.mouseY=n,this.parent?.updateMouseCoords(this.x+t,this.y+n)}syncScrollbars(){const{domElement:t,scene:n,scrollX:r,scrollY:i}=this;r&&(this.scrolledSceneX===n.x?n.set({x:r.min+t.scrollLeft}):t.scrollLeft=n.x-r.min,this.scrolledSceneX=n.x),i&&(this.scrolledSceneY===n.y?n.set({y:i.min+t.scrollTop}):t.scrollTop=n.y-i.min,this.scrolledSceneY=n.y)}beforeRender(){this.syncScrollbars(),this.scene.render()}beforeAll(){this.syncScrollbars()}afterAll(){const{domElement:t,scrollX:n,scrollY:r}=this;if(!n&&!r)return;if(!this.spacer){const u=this.spacer=document.createElement("div");u.className=Pl.spacer,t.append(u)}const{spacer:i}=this;let o=n?Math.max(n.max-n.min,0):0,s=r?Math.max(r.max-r.min,0):0;const l=n&&!o,c=r&&!s;if(l||c){const u=hy(this.scene.objects.values());l&&(o=u.w),c&&(s=u.h)}if(n){t.classList.contains(Pl["scroll-x"])||t.classList.add(Pl["scroll-x"]);const u=Math.round(o)+"px";i.style.width!==u&&(i.style.width=u)}if(r){t.classList.contains(Pl["scroll-y"])||t.classList.add(Pl["scroll-y"]);const u=Math.round(s)+"px";i.style.height!==u&&(i.style.height=u)}}updateCursor(){const t=this.system.cursorVisible?this.cursorOverHyp?"pointer":this.currentCursor:"none",{domElement:n}=this;n.style.cursor!==t&&(n.style.cursor=t)}setCapture(t){this.system.setCapture(this,t)}subscribe(t,n,r,i){const o=i&1,s=this.scene.objects.get(r)??null;switch(n){case lt.WM_MOVE:this.windowMoveSubs.add(t);break;case lt.WM_SPACEDONE:this.spaceDoneSubs.add(t);break;case lt.WM_SIZE:this.sizeSubs.add(t);break;case lt.WM_CONTROLNOTIFY:(s||r===0)&&this.controlNotifySubs.set(t,s);break;case lt.WM_COMMAND:(s||!o)&&this.commandSubs.set(t,s);break;case lt.WM_MOUSEMOVE:(s||!o)&&this.mouseMoveSubs.set(t,o?s:null);break;case lt.WM_LBUTTONDOWN:(s||!o)&&this.leftButtonDownSubs.set(t,o?s:null);break;case lt.WM_LBUTTONUP:(s||!o)&&this.leftButtonUpSubs.set(t,o?s:null);break;case lt.WM_LBUTTONDBLCLK:(s||!o)&&this.leftButtonDoubleClickSubs.set(t,o?s:null);break;case lt.WM_RBUTTONDOWN:(s||!o)&&this.rightButtonDownSubs.set(t,o?s:null);break;case lt.WM_RBUTTONUP:(s||!o)&&this.rightButtonUpSubs.set(t,o?s:null);break;case lt.WM_MBUTTONDOWN:(s||!o)&&this.middleButtonDownSubs.set(t,o?s:null);break;case lt.WM_MBUTTONUP:(s||!o)&&this.middleButtonUpSubs.set(t,o?s:null);break;case lt.WM_ALLMOUSEMESSAGE:if(!s&&o)break;const l=o?s:null;this.mouseMoveSubs.set(t,l),this.leftButtonDownSubs.set(t,l),this.leftButtonUpSubs.set(t,l),this.leftButtonDoubleClickSubs.set(t,l),this.rightButtonDownSubs.set(t,l),this.rightButtonUpSubs.set(t,l),this.middleButtonDownSubs.set(t,l),this.middleButtonUpSubs.set(t,l);break;case lt.WM_KEYDOWN:this.keyDownSubs.add(t);break;case lt.WM_KEYUP:this.keyUpSubs.add(t);break;case W0:this.keyCharSubs.add(t);break;case lt.WM_ALLKEYMESSAGE:this.keyDownSubs.add(t),this.keyUpSubs.add(t),this.keyCharSubs.add(t);break;default:t.kernel._functionNotImplemented(`Подписка на ${lt[n]}`,t);break}}unsubscribe(t,n){switch(n){case lt.WM_MOVE:this.windowMoveSubs.delete(t);break;case lt.WM_SPACEDONE:this.spaceDoneSubs.delete(t);break;case lt.WM_SIZE:this.sizeSubs.delete(t);break;case lt.WM_CONTROLNOTIFY:this.controlNotifySubs.delete(t);break;case lt.WM_COMMAND:this.commandSubs.delete(t);break;case lt.WM_MOUSEMOVE:this.mouseMoveSubs.delete(t);break;case lt.WM_LBUTTONDOWN:this.leftButtonDownSubs.delete(t);break;case lt.WM_LBUTTONUP:this.leftButtonUpSubs.delete(t);break;case lt.WM_LBUTTONDBLCLK:this.leftButtonDoubleClickSubs.delete(t);break;case lt.WM_RBUTTONDOWN:this.rightButtonDownSubs.delete(t);break;case lt.WM_RBUTTONUP:this.rightButtonUpSubs.delete(t);break;case lt.WM_MBUTTONDOWN:this.middleButtonDownSubs.delete(t);break;case lt.WM_MBUTTONUP:this.middleButtonUpSubs.delete(t);break;case lt.WM_ALLMOUSEMESSAGE:this.mouseMoveSubs.delete(t),this.leftButtonDownSubs.delete(t),this.leftButtonDoubleClickSubs.delete(t),this.leftButtonUpSubs.delete(t),this.rightButtonDownSubs.delete(t),this.rightButtonUpSubs.delete(t),this.middleButtonDownSubs.delete(t),this.middleButtonUpSubs.delete(t);break;case lt.WM_KEYDOWN:this.keyDownSubs.delete(t);break;case lt.WM_KEYUP:this.keyUpSubs.delete(t);break;case W0:this.keyCharSubs.delete(t);break;case lt.WM_ALLKEYMESSAGE:this.keyDownSubs.delete(t),this.keyUpSubs.delete(t),this.keyCharSubs.delete(t);break}}setWindowOrg(t,n){this.x=t,this.y=n,this.connectedWindow?this.connectedWindow.set({x:t,y:n}):this.parent&&Pd(this.domElement,{left:t-this.parent.scene.x+"px",top:n-this.parent.scene.y+"px"})}setWindowSize(t,n){this.clientWidth=t,this.clientHeight=n;const{inverseScale:r}=this;Pd(this.domElement,{width:t*r+"px",height:n*r+"px"})}setWindowPos(t,n,r,i){this.setWindowOrg(t,n),this.setWindowSize(r,i)}setSceneOrg(t,n){this.scene.set({x:t,y:n})}setScrollX(t,n){const{scrollX:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollX={min:t,max:n},this.scrolledSceneX=this.scene.x-t)}setScrollY(t,n){const{scrollY:r}=this;(!r||r.min!==t||r.max!==n)&&(this.scrollY={min:t,max:n},this.scrolledSceneY=this.scene.y-t)}setCursor(t){this.currentCursor=t,this.updateCursor()}createFrame(t){t.classList.add(Pl.frame),this.domElement.append(t);const n=new ice(this,t);return this.frames.add(n),n}createChild(t){const n=new PC({...t,parent:this});return this.domElement.append(n.domElement),this.all.add(n),n}pick(t,n,r){let i=t,o=n;const s=this.matrix;if(s){const c=t*s[2]+n*s[5]+s[8];i=(t*s[0]+n*s[3]+s[6])/c,o=(t*s[1]+n*s[4]+s[7])/c}let l=this.scene.pick(i,o);if(r&&(this.system.lastPickedPrimaryKey=l?.key??0),!l)return null;for(;l.parent;)l=l.parent;return l}paste(t,n,r,i){if(!t.objects?.length)return null;let o=t;if(i&lt.PFC_ALL){const h={...t};i&lt.PFC_PENS&&delete h.pens,i&lt.PFC_BRUHS&&delete h.brushes,i&lt.PFC_DDIBS&&delete h.images,i&lt.PFC_DIBS&&delete h.imagesOpaque,i&lt.PFC_STRINGS&&delete h.strings,i&lt.PFC_FONTS&&delete h.fonts,i&lt.PFC_TEXTS&&delete h.texts,o=h}const s=tf(this.scene,o);if(!(i&lt.PFC_MOVEOBJECT))return s;let l=n,c=r;const u=this.matrix;if(u){const h=n*u[2]+r*u[5]+u[8];l=(n*u[0]+r*u[3]+u[6])/h,c=(n*u[1]+r*u[4]+u[7])/h}return s.set({x:l,y:c})}async tryOpenProject(t,n){const r=this.project.dir.resolve(t);let i;try{i=await this.kernel.openProject(r)}catch(o){if(!(o instanceof Error))throw o;console.warn(`Не удалось открыть ${r}: ${o.message}`);return}if(!i){console.warn(`${r} не существует`);return}n&&this.system.hideProjectWindows(this.project,i)}hyperClick(t,n){const{project:r}=this;switch(t.object&&console.warn("Посылка WM_HYPERJUMP не реализована"),t.mode){case ny:{if(t.target){const i=t.window||"",o=t.target,s="WS_BYSPACE",l=n.x-this.scene.x,c=n.y-this.scene.y;requestAnimationFrame(()=>{const u=this.system.createGSpace(r,i,o,s,l,c);this.connectedWindow&&u?.connectedWindow?.set({preserveX:!0})})}break}case K0:{const i=t.target;if(!i)break;this.kernel.handleExe(i);break}case q0:{const i=t.target;if(!i)break;const o=t.params?.toUpperCase().includes("/HIDEWINDOWS");this.tryOpenProject(i,o);break}case IP:break;case ry:{const i=t.target?.toUpperCase();if(!i)break;switch(i){case Y0:this.kernel.closeAll();break;case X0:r.close();break;default:console.warn(`Действие '${i}' не реализовано.`);break}break}default:console.warn("Неизвестный тип гиперперехода"),console.log(t)}}toTop(){this.connectedWindow?this.connectedWindow?.toTop():this.parent?.domElement.append(this.domElement)}hide(){this.isVisible=!1,this.connectedWindow?this.connectedWindow.set({visible:!1}):this.domElement.classList.add(Pl.hidden)}show(){this.isVisible=!0,this.connectedWindow?this.connectedWindow.set({visible:!0}):this.domElement.classList.remove(Pl.hidden)}get actualScale(){return Math.max(this.scale,.1)}get inverseScale(){return 1/this.actualScale}setScale(t){if(this.scale=t,t!==1){const{actualScale:n,inverseScale:r}=this;Pd(this.domElement,{transform:`scale(${n})`,width:this.clientWidth*r+"px",height:this.clientHeight*r+"px"})}else Pd(this.domElement,{transform:"none",width:this.clientWidth+"px",height:this.clientHeight+"px"})}_hide(t){this.hiddenBy=t,this.hide()}_restoreIfHiddenBy(t){this.hiddenBy===t&&(this.hiddenBy=null,this.show())}_dispose(){this.parent?.all.delete(this),this.scene.dispose(),this.frames.forEach(t=>t.onDisposed.dispatch()),this.frames.clear(),this.connectedWindow?.remove(),this.handleClose()}_removeFrame(t){this.frames.delete(t)}close(){this.system._closeWindows(this.all)}handlePointer(t){if(!t.isPrimary||t.target!==t.currentTarget)return;this.updateMouseCoords(t.offsetX,t.offsetY);const{captureTarget:n}=this.system;if(n){const r=n.w;if(r.pointerTarget.setPointerCapture(t.pointerId),r!==this)return}this.kernel.canRunMainTask()&&this.kernel.runMainTask(this.sendMouseMessages(t))}*sendMouseMessages(t){const{captureTarget:n}=this.system,{scene:r}=this,i=Math.round(t.offsetX+r.x),o=Math.round(t.offsetY+r.y);let s=r.pick(i,o);for(;s;){const S=s.parent;if(!S)break;s=S}const l=s?.data?.hyper;let c,u;switch(t.type){case"pointerdown":{switch(t.button){case 0:const S=Date.now();this.lastTouchInfo&&S-this.lastTouchInfo.time<300&&Math.abs(i-this.lastTouchInfo.x)<10&&Math.abs(o-this.lastTouchInfo.y)<10?(u=lt.WM_LBUTTONDBLCLK,c=this.leftButtonDoubleClickSubs,this.lastTouchInfo=null):(l&&!l.disabled&&this.hyperClick(l,{x:i,y:o}),u=lt.WM_LBUTTONDOWN,c=this.leftButtonDownSubs,this.lastTouchInfo={time:S,x:i,y:o});break;case 1:u=lt.WM_MBUTTONDOWN,c=this.middleButtonDownSubs;break;case 2:u=lt.WM_RBUTTONDOWN,c=this.rightButtonDownSubs;break;default:return}break}case"pointerup":case"pointercancel":{switch(t.button){case 0:u=lt.WM_LBUTTONUP,c=this.leftButtonUpSubs;break;case 1:u=lt.WM_MBUTTONUP,c=this.middleButtonUpSubs;break;case 2:u=lt.WM_RBUTTONUP,c=this.rightButtonUpSubs;break;default:return}break}case"pointermove":{this.cursorOverHyp=!!l&&!l.disabled,this.updateCursor(),u=lt.WM_MOUSEMOVE,c=this.mouseMoveSubs;break}default:return}let h=i,p=o;const g=this.invmatrix;if(g){const S=i*g[2]+o*g[5]+g[8];h=(i*g[0]+o*g[3]+g[6])/S,p=(i*g[1]+o*g[4]+g[7])/S}const m=t.buttons&1?1:0,y=t.buttons&2?2:0,b=t.buttons&4?16:0,v=m|y|b;for(const[S,E]of c){if(!(n&&n.w===this&&n.s===S||E.has(s)||E.has(null))||!this.kernel.canHandleProjectUiEvents(S.prj))continue;const{msg:O,xpos:M,ypos:I,fwkeys:N}=S.klass.vars;O&&(S.vars.setValue(O,u),M&&S.vars.setValue(M,h),I&&S.vars.setValue(I,p),N&&S.vars.setValue(N,v),yield*S.compute(!0))}}handleKeyboard(t){t.target!==t.currentTarget||typeof t.winVKey!="number"||this.kernel.canRunMainTask()&&this.kernel.runMainTask(this.sendKeyboardMessages(t))}*sendKeyboardMessages(t){const n=t.winVKey;let r,i;switch(t.type){case"keydown":r=lt.WM_KEYDOWN,i=this.keyDownSubs;break;case"keyup":r=lt.WM_KEYUP,i=this.keyUpSubs;break;default:return}for(const s of i){const{msg:l,wvkey:c,repeat:u,scancode:h}=s.klass.vars;!l||!this.kernel.canHandleProjectUiEvents(s.prj)||(s.vars.setValue(l,r),c&&s.vars.setValue(c,n),u&&s.vars.setValue(u,1),h&&s.vars.setValue(h,0),yield*s.compute(!0))}const{winChar:o}=t;if(o)for(const s of this.keyCharSubs){const{msg:l,wvkey:c,repeat:u,scancode:h}=s.klass.vars;l&&(s.vars.setValue(l,W0),c&&s.vars.setValue(c,o),u&&s.vars.setValue(u,1),h&&s.vars.setValue(h,0),yield*s.compute(!0))}}handleInput(t){this.kernel.canRunMainTask()&&this.kernel.runMainTask(this.sendControlMessages(t))}*sendControlMessages(t){let n,r;switch(t.type){case"input":n=768,r=1024;break;case"focus":n=r=256;break;case"blur":n=r=512;break;case"click":n=r=0;break;default:return}for(const[i]of this.commandSubs){const{msg:o,_hobject:s,iditem:l,wnotifycode:c}=i.klass.vars;o&&(i.vars.setValue(o,lt.WM_COMMAND),s&&i.vars.setValue(s,t.target.key),l&&i.vars.setValue(l,0),c&&i.vars.setValue(c,r),yield*i.compute(!0))}for(const[i,o]of this.controlNotifySubs){if(!(o.has(t.target)||o.has(null)))continue;const{msg:l,_hobject:c,iditem:u,wnotifycode:h}=i.klass.vars;l&&(i.vars.setValue(l,lt.WM_CONTROLNOTIFY),c&&i.vars.setValue(c,t.target.key),u&&i.vars.setValue(u,0),h&&i.vars.setValue(h,n),yield*i.compute(!0))}}handleClose(){this.kernel.runParallelTask(this.sendSpaceDoneMessages())}*sendSpaceDoneMessages(){const{key:t,name:n}=this;for(const r of this.spaceDoneSubs){const{msg:i,_hspace:o,_windowName:s}=r.klass.vars;i&&(r.vars.setValue(i,lt.WM_SPACEDONE),o&&r.vars.setValue(o,t),s&&r.vars.setValue(s,n),yield*r.computeBranch())}}}function oce(e,t){const n=e.toUpperCase(),r=n.includes("WS_CHILD"),i=n.includes("WS_BYSPACE"),o=n.includes("WS_POPUP"),s=n.includes("WS_NORESIZE"),l=n.includes("WS_AUTOORG"),c=n.includes("WS_SPACESIZE"),u=n.includes("WS_NOCAPTION"),h=n.includes("WS_VSCROLL"),p=n.includes("WS_HSCROLL"),g=n.includes("WS_TOOL"),m=i?{...t}:{};return r&&(m.child=!0),p&&(m.hscroll=!0),h&&(m.vscroll=!0),c&&(m.size={type:"content"}),s&&(m.fixed=!0),o&&(m.popup=!0),l&&(m.autoorg=!0),u||(m.caption=!0),g&&(m.tool=!0),m}class sce{constructor(t,{sceneFactory:n,windowFactory:r}){this.kernel=t,this.scenes=new Map,this.windows=new Map,this.cursorVisible=!0,this.captureTarget=null,this.lastPickedPrimaryKey=0,this.clipboard=null,this.sceneFactory=n,this.windowFactory=r}createGSpace(t,n,r,i,o=0,s=0,l=0,c=0,u=""){let h=n;if(h){const T=this.windows.get(h);if(T)return T}let p=null,g=null,m=null;if(r){const T=this.kernel.classes.get(r),O=T?.scene;if(O)p=O,g={type:"classname",data:T.name},m=T.children;else{const M=t.dir.resolve(r),I=M.file()?.scene;I&&(p=I,g={type:"filename",data:M.toString()})}}if(!h){if(!p)return this.kernel._functionNotImplemented("Пустая сцена без имени"),null;h=p.options?.popup?"@PopupWindow":"MainWindow";const T=this.windows.get(h);if(T)return T}const y=oce(i,p?.options);!y.size&&l>0&&c>0&&(y.size={type:"fixed",width:l,height:c});const b=ps.freeKey(this.scenes),v={system:this,project:t,key:b,name:h,x:o,y:s,...p,options:y,source:g,sceneChildren:m},S=y.child&&this.windows.get(u);if(!this.kernel.iterations&&!S&&y.popup&&!y.tool)return console.warn(`Невозможно открыть всплывающее окно '${h}' в координатах ${o}, ${s}`),null;const E=S?S.createChild(v):this.createWindow(v);return this.scenes.set(b,E),this.windows.set(h,E),E}createWindow(t){const n=new PC(t),{x:r,y:i,name:o}=t,{popup:s=!1,caption:l=!1,tool:c=!1}=t.options,u=this.windowFactory.createWindow({content:n.domElement,x:r,y:i,title:o,popup:s,caption:l,closeOnFocusOut:s&&!c});return n.setConnectedWindow(u),n}setCapture(t,n){this.captureTarget={w:t,s:n}}releaseCapture(){this.captureTarget=null}showCursor(t){this.cursorVisible=t,this.windows.forEach(n=>n.updateCursor())}_closeWindows(t){this.scenes.forEach(n=>{t.has(n)&&(n===this.captureTarget?.w&&(this.captureTarget=null),n._dispose(),this.scenes.delete(n.key),this.windows.delete(n.name))})}clearAll(){this.scenes.clear(),this.windows.clear(),this.cursorVisible=!0,this.lastPickedPrimaryKey=0}hideProjectWindows(t,n){this.windows.forEach(r=>{r.project===t&&r._hide(n)})}closeProjectWindows(t){const n=new Set([...this.windows.values()].filter(r=>r.project===t));this._closeWindows(n),this.windows.forEach(r=>r._restoreIfHiddenBy(t))}}function ace(e,t,n,r,i,o,s,l){return this.kernel.windowSystem.createGSpace(this.prj,e,n,l,r,i,o,s,t)?.key||0}function lce(e){return this.kernel.windows.get(e)?.getClientWidth()??0}function cce(e){return this.kernel.windows.get(e)?.getClientHeight()??0}function uce(e){return this.kernel.scenes.get(e)?.name??""}function dce(e){return this.kernel.windows.get(e)?.x??0}function hce(e){return this.kernel.windows.get(e)?.y??0}function fce(e){return this.kernel.windows.get(e)?.key??0}function pce(e){return this.kernel.windows.get(e)?.getWidth()??0}function gce(e){return this.kernel.windows.get(e)?.getHeight()??0}function mce(e){return this.kernel.windows.get(e)?.title??""}function vce(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function yce(e,t,n,r){const i=this.kernel.windows.get(e);return i?(t>0?i.setScrollX(n,r):i.setScrollY(n,r),1):0}function bce(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowOrg(t,n),1):0}function wce(e,t,n,r,i){const o=this.kernel.windows.get(e);return o?(o.setWindowPos(t,n,r,i),1):0}function Sce(e,t,n){const r=this.kernel.windows.get(e);return r?(r.setWindowSize(t,n),1):0}function Cce(e,t){const n=this.kernel.windows.get(e);return n?(n.setTitle(t),1):0}function uA(e,t){const n=typeof e=="string"?this.kernel.windows.get(e):this.kernel.scenes.get(e);return n?(n.setOpacity(Qv(t,0,100)*.01),1):0}function dA(){return this.kernel._functionNotImplemented("SetWindowTransparentColor"),1}function hA(e,t){return t?(this.kernel._functionNotImplemented("SetWindowRegion"),1):0}function xce(){return this.kernel._functionNotImplemented("SetWindowOwner"),1}function _ce(e,t){const n=this.kernel.windows.get(e);if(!n)return 0;switch(t){case lt.SW_HIDE:n.hide();break;case lt.SW_SHOW:case lt.SW_NORMAL:n.show();break}return 1}function Ece(e){const t=this.kernel.windows.get(e);return t?(t.toTop(),1):0}function Tce(e){const t=this.kernel.windows.get(e);return t?(t.close(),1):0}function Mce(){return 0}function Oce(e){return this.kernel.windows.has(e)?1:0}function Rce(e){return this.kernel.windows.get(e)?.isVisible?1:0}function Ice(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function kce(e,t,n){return this.kernel.windowSystem.createGSpace(this.prj,e,t,n)?.key||0}function Pce(){return this.kernel._functionNotImplemented("OpenClassScheme"),1}function Dce(){return this.kernel._functionNotImplemented("CloseClassScheme"),1}function Ace(){}function Lce(){}function Nce(){}function Bce(e,t){const n=this.kernel.windows.get(e)?.source;return n&&n.type===t.toLowerCase()&&n.data||""}function Fce(e){e("CreateWindowEx",{a:[fe,fe,fe,k,k,k,k,fe],r:P},ace),e("GetClientWidth",{a:[fe],r:k},lce),e("GetClientHeight",{a:[fe],r:k},cce),e("GetWindowName",{a:[P],r:fe},uce),e("GetWindowOrgX",{a:[fe],r:k},dce),e("GetWindowOrgY",{a:[fe],r:k},hce),e("GetWindowSpace",{a:[fe],r:P},fce),e("GetWindowWidth",{a:[fe],r:k},pce),e("GetWindowHeight",{a:[fe],r:k},gce),e("GetWindowTitle",{a:[fe],r:fe},mce),e("SetClientSize",{a:[fe,k,k],r:k},vce),e("SetScrollRange",{a:[fe,k,k,k],r:k},yce),e("SetWindowOrg",{a:[fe,k,k],r:k},bce),e("SetWindowPos",{a:[fe,k,k,k,k],r:k},wce),e("SetWindowSize",{a:[fe,k,k],r:k},Sce),e("SetWindowTitle",{a:[fe,fe],r:k},Cce),e("SetWindowTransparent",{a:[fe,k],r:k},uA),e("SetWindowTransparent",{a:[P,k],r:k},uA),e("SetWindowTransparentColor",{a:[fe,Dn],r:k},dA),e("SetWindowTransparentColor",{a:[P,Dn],r:k},dA),e("SetWindowRegion",{a:[fe,P],r:k},hA),e("SetWindowRegion",{a:[P,P],r:k},hA),e("SetWindowOwner",{a:[P,P],r:k},xce),e("ShowWindow",{a:[fe,k],r:k},_ce),e("BringWindowToTop",{a:[fe],r:k},Ece),e("CloseWindow",{a:[fe],r:k},Tce),e("IsIconic",{a:[fe],r:k},Mce),e("IsWindowExist",{a:[fe],r:k},Oce),e("IsWindowVisible",{a:[fe],r:k},Rce),e("LoadSpaceWindow",{a:[fe,fe,fe],r:P},Ice),e("OpenSchemeWindow",{a:[fe,fe,fe],r:P},kce),e("OpenClassScheme",{a:[fe,k],r:P},Pce),e("CloseClassScheme",{a:[fe],r:k},Dce),e("CascadeWindows",{},Ace),e("Tile",{a:[k]},Lce),e("ArrangeIcons",{},Nce),e("GetWindowProp",{a:[fe,fe],r:fe},Bce)}const jce={name:"windows",register:Fce,setup(e,t){if(!t)throw Error("Плагин 'windows': не указаны зависимости");const n=new sce(e,t);e.windowSystem=n,e.windows=n.windows,e.scenes=n.scenes,e.beforeProjectClosed.add(r=>n.closeProjectWindows(r)),e.beforeCompute.add(()=>n.windows.forEach(r=>r.beforeAll())),e.afterCompute.add(()=>n.windows.forEach(r=>r.afterAll())),e.beforeRender.add(()=>n.windows.forEach(r=>r.beforeRender()))}};class Vce{constructor(t){this.appId=t}async getAnswer(t){const n=new URL("https://stratum.pstu.ru/wolfram/result");return n.searchParams.set("i",t),n.searchParams.set("appid",this.appId),await(await fetch(n)).text()}}function $ce(e){return this.kernel.wolfram=new Vce(e),1}async function zce(e){const t=this.kernel.wolfram;return t?await t.getAnswer(e):""}function Uce(e){e("WolframInit",{a:[fe],r:k},$ce),e("WolframGetResult",{a:[fe],r:fe,kind:"async"},zce)}const fA=[jce,mle,s8,E8,q8,aY,LZ,c7,pte,bte,Nte,Xte,Qae,Yee,zle,Q7,Kle,$7,rce,{name:"wolfram",register:Uce,setup:async e=>{}}];class Hce{constructor(t,n){this.id=t,this.attrib=0,this.description="",this.defaultValue=null,this.inEquation=!1,this.parsed=null,this.name=n.name,this.type=n.type,this.set(n)}set({attrib:t=this.attrib,defaultValue:n=this.defaultValue,description:r=this.description,inEquation:i=this.inEquation}){return this.parsed=n!==null?eg(this.type,n):null,this.attrib=t,this.defaultValue=n,this.description=r,this.inEquation=i,this}}class pA{constructor(t){this._disable=null,this._enable=null,this.orgx=null,this.orgy=null,this._hobject=null,this._objname=null,this._classname=null,this.msg=null,this.xpos=null,this.ypos=null,this.fwkeys=null,this.wvkey=null,this.repeat=null,this.scancode=null,this.nwidth=null,this.nheight=null,this._hspace=null,this._windowName=null,this.iditem=null,this.wnotifycode=null;const n=t?.map((r,i)=>[r.name.toUpperCase(),new Hce(i,r)]);if(this.list=n?.map(r=>r[1])??[],this.m=new Map(n),!!n)for(const[r,i]of n){const o=i.type,{FLOAT:s,STRING:l,HANDLE:c}=kt;r==="_ENABLE"&&o===s?this._enable=i:r==="_DISABLE"&&o===s?this._disable=i:r==="MSG"&&o===s?this.msg=i:r==="_HOBJECT"&&o===c?this._hobject=i:r==="IDITEM"&&o===s?this.iditem=i:r==="WNOTIFYCODE"&&o===s?this.wnotifycode=i:r==="NWIDTH"&&o===s?this.nwidth=i:r==="NHEIGHT"&&o===s?this.nheight=i:r==="XPOS"&&o===s?this.xpos=i:r==="YPOS"&&o===s?this.ypos=i:r==="FWKEYS"&&o===s?this.fwkeys=i:r==="ORGX"&&o===s?this.orgx=i:r==="ORGY"&&o===s?this.orgy=i:r==="_OBJNAME"&&o===l?this._objname=i:r==="_CLASSNAME"&&o===l?this._classname=i:r==="WVKEY"&&o===s?this.wvkey=i:r==="REPEAT"&&o===s?this.repeat=i:r==="SCANCODE"&&o===s?this.scancode=i:r==="_HSPACE"&&o===c?this._hspace=i:r==="_WINDOWNAME"&&o===l&&(this._windowName=i)}}get(t){return this.m.get(t.toUpperCase())??null}}class Gce{constructor({compiler:t,data:n,file:r,projectId:i,modelGlobals:o}){this.onChildrenChanged=new aa,this.main=null,this.defers=[],this.equations=[],this.transpiledCode=null,this.isCompiled=!1;const{name:s,transpiled:l,id:c,vars:u}=n;this.projectId=i,this.compiler=t,this.modelGlobals=o,this.file=r,this.name=s,this.nameUC=s.toUpperCase(),this.vars=new pA(u),this.transpiledCode=l??null,this.id=c,this.children=n.children||[],this.connections=n.links||[],this.scene=n.scene||null,this.image=n.image||null,this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1}set({vars:t,children:n=this.children,links:r=this.connections,scene:i=this.scene,image:o=this.image,modelText:s=this.modelText,isFunction:l=this.isFunction}){return t&&(this.vars=new pA(t)),this.modelText!==s&&(this.isCompiled=!1),this.children!==n&&(this.children=n,this.onChildrenChanged.dispatch(n)),this.connections=r,this.scene=i,this.image=o,this.modelText=s,this.isFunction=l,this}compile(){if(this.isCompiled)return;this.isCompiled=!0;let t;const{compiler:n}=this;if(this.transpiledCode)Ri.debugCompiler&&console.log(`Компиляция (кешировано) ${this.name} (${this.vars.list.length} переменных)`),t=this.transpiledCode,this.transpiledCode=null;else{const i=this.file.path.toString().slice(3);Ri.debugCompiler&&console.log(`Компиляция '${this.name}' ('${i}'): ${this.vars.list.length} переменных`);try{const o=n.transpile(this.modelText,this.name,i);Ri.debugCompiler&&o.bugs.length&&console.warn(`${this.name}:
${o.bugs.map(([c])=>` -${c}`).join(`
`)}`);const s=this.vars,l=o.vars.map(c=>{const u=s.get(c.name);if(!u)return c;const{defaultValue:h,description:p}=u;return{...c,defaultValue:h,description:p}});this.set({vars:l,isFunction:o.isFunction}),t=o}catch(o){throw o instanceof ay?Error(`Ошибка компиляции '${this.name}' ('${i}'): '${o.message}'`):o}}const{modelGlobals:r}=this;this.main=t.mainText?n.compileGenerator(t.mainText).bind(null,r):null,this.defers=t.defersTexts?.map(i=>n.compile(i).bind(null,r))||[],this.equations=t.equationsTexts?.map(i=>n.compile(i).bind(null,r))||[]}getUserFunctionSignature(){const t=this.vars.list;return{type:"user",name:this.name,argTypes:t.filter(n=>n.attrib&lt.VF_ARGUMENT).map(n=>n.type),retType:t.find(n=>n.attrib&lt.VF_RETURN)?.type??null}}}class Wce{constructor(){this.files=new WeakSet,this.m=new Map}add(t){const{nameUC:n}=t,r=this.m.get(n);if(r)throw Error(`Конфликт имен имиджей: '${t.name}' ('${t.file.path}') уже существует в файле '${r.file.path}'`);return this.m.set(n,t),this.files.add(t.file),this}get(t){return this.m.get(t.toUpperCase())??null}hasFile(t){return this.files.has(t)}unload(t){this.m.forEach(n=>n.projectId===t&&this.files.delete(n.file)),this.m=new Map(Wp(this.m,n=>n[1].projectId!==t))}}class Kce{alloc(t){const n=new Float64Array(t.floats),r=new Int32Array(t.ints),i=Array.from({length:t.strings},()=>"");this.newFloats=n,this.oldFloats=n.slice(),this.newInts=r,this.oldInts=r.slice(),this.newStrings=i,this.oldStrings=i.slice()}sync(){this.oldFloats.set(this.newFloats),this.oldInts.set(this.newInts);const{newStrings:t,oldStrings:n}=this;for(let r=0;r<t.length;++r)n[r]=t[r]}}class qce{constructor(t){this.newFloats=this.oldFloats=new Float64Array(t.floats),this.newInts=this.oldInts=new Int32Array(t.ints),this.newStrings=this.oldStrings=Array.from({length:t.strings},()=>"")}}class gA{constructor(t,n){this.map=t,this.values=n}getNewValue(t){const{newFloats:n,newInts:r,newStrings:i}=this.values,o=this.map[t.id];switch(t.type){case kt.FLOAT:return n[o];case kt.HANDLE:case kt.COLORREF:return r[o];case kt.STRING:return i[o]}}setValue(t,n){const{newFloats:r,oldFloats:i,newInts:o,oldInts:s,newStrings:l,oldStrings:c}=this.values,u=this.map[t.id];switch(t.type){case kt.FLOAT:if(typeof n!="number")return!1;r[u]=i[u]=n;break;case kt.HANDLE:case kt.COLORREF:if(typeof n!="number")return!1;o[u]=s[u]=n;break;case kt.STRING:if(typeof n!="string")return!1;l[u]=c[u]=n;break}return!0}}class mA{constructor(){this.floats=0,this.ints=0,this.strings=0}add(t){switch(t.type){case kt.FLOAT:return this.floats++;case kt.HANDLE:case kt.COLORREF:return this.ints++;case kt.STRING:return this.strings++}}}class Yce{constructor(t,n){this.v=t,this.a=n,this.index=-1,this.connected=new Set}propagateIndex(t){this.index>=0||(this.index=t,this.connected.forEach(n=>n.propagateIndex(t)))}connectWith(t){this.connected.add(t),t.connected.add(this)}getIndex(){return this.index<0&&this.propagateIndex(this.a.add(this.v)),this.index}}function Xce(e,t){const{children:n}=e;t.forEach(({nodes:[r,i],vars:o,attrib:s=0})=>{if(s&ty)return;let l=`Имидж ${e.klass.name}: связь #${r}-#${i}: `;const c=r>0?n.find(h=>h.ndata.key===r):e;if(!c){console.warn(l+`Дочерний имидж #${r} не существует`);return}const u=i>0?n.find(h=>h.ndata.key===i):e;if(!u){console.warn(l+`Дочерний имидж #${i} не существует`);return}l=`Имидж ${e.klass.name}: связь #${r} (${c.klass.name}) - #${i} (${u.klass.name}): `,o.forEach(([h,p])=>{const g=c.klass.vars.get(h);if(!g){console.warn(l+`Переменная ${c.klass.name}:${h} не существует`);return}const m=u.klass.vars.get(p);if(!m){console.warn(l+`Переменная ${u.klass.name}:${p} не существует`);return}if(g.type!==m.type){console.warn(l+`Типы переменных ${c.klass.name}:${h} и ${u.klass.name}:${p} не совпадают`);return}c.vars[g.id].connectWith(u.vars[m.id])})})}function vA(e,t,n,r=null){e.compile();const i=e.vars.list.map(l=>new Yce(l,n)),o=e.children.map(l=>{const c=t.get(l.klass);if(!c)throw Error(`Подимидж ${l.klass} #${l.key} имиджа ${e.name} не существует`);return vA(c,t,n,l)}),s={klass:e,ndata:r,vars:i,children:o};return e.connections.length&&Xce(s,e.connections),s}function yA(e,t,n){const r=e.vars.map(o=>{const s=o.getIndex();return o.v.inEquation&&n.add(s),s}),i=e.children.map(o=>yA(o,t,n));return t.createSchema({...e,varMap:r,children:i,prj:t})}function Zce(){return!1}function Qce(e,t){return e.values.newFloats[e.map[t]]>0}function Jce(e,t){return e.values.newFloats[e.map[t]]<=0}const bA={done:!0,value:void 0};class eue{constructor(t){this.root=t,this.current=null}nextActiveNode(){let t=this.current;if(!t)return this.current=this.root.getFirstDeepLeftSchema();if(t===this.root)return this.current=null;for(;;){const n=t.nextSibling;if(!n)return this.current=t.parent;if(t=n,!t.isDisabled())return this.current=t.getFirstDeepLeftSchema()}}getCurrentNode(){return this.current}}class tue{constructor(t){this.curMainIterator=null,this.treeIterator=new eue(t)}[Symbol.iterator](){return this}throw(t){throw t}return(){throw Error("Генератор был неожиданно остановлен")}next(t){if(this.curMainIterator){const n=this.curMainIterator.next(t);if(!n.done)return n;this.curMainIterator=null}for(;;){const n=this.treeIterator.nextActiveNode();if(!n)return bA;const r=n.main();if(!r)continue;const i=r.next();if(!i.done)return this.curMainIterator=r,i}}getCurrentNode(){return this.treeIterator.getCurrentNode()}}class nue{constructor(t,n){this.branchIterator=null,this.root=t,this.ignoreDisable=n}[Symbol.iterator](){return this}throw(t){throw t}return(){throw Error("Генератор был неожиданно остановлен")}next(t){if(!this.branchIterator){if(this.setup(),!this.ignoreDisable&&this.root.isDisabled())return this.finalize(),bA;this.branchIterator=this.root.computeBranch()}const n=this.branchIterator.next(t);return n.done&&this.finalize(),n}setup(){this.root.prj.beforeCompute()}finalize(){const{root:t}=this;t.prj.solveGlobalEquations(),t.computeSchemaDefers(),t.prj.afterCompute()}getCurrentNode(){return this.branchIterator?.getCurrentNode()||null}}const wA=new WeakMap;class rue{constructor({prj:t,klass:n,ndata:r,vars:i,children:o}){this.nextSibling=null,this.parent=null,this.isDisabled=Zce,this.updateChildNodeData=u=>{u.length===this.children.length&&u.forEach((h,p)=>{const g=this.children[p],m=g.ndata;m.key!==h.key||m.klass!==h.klass||(m.name&&this.resolveMap.delete(m.name),h.name&&this.resolveMap.set(h.name.toUpperCase(),g),g.ndata=h)})},this.prj=t,this.klass=n,this.ndata=r,this.vars=i,this.children=o;const{_disable:s,_enable:l}=n.vars;s&&(!l||s.id<l.id)?this.isDisabled=Qce.bind(null,this.vars,s.id):l&&(!s||l.id<s.id)&&(this.isDisabled=Jce.bind(null,this.vars,l.id)),this.resolveMap=new Map([["",this]]);let c;for(const u of o){c&&(c.nextSibling=u),c=u,u.parent=this,u.resolveMap.set("..",this);const{key:h,name:p}=u.ndata;this.resolveMap.set("#"+h,u),p&&this.resolveMap.set(p.toUpperCase(),u)}n.onChildrenChanged.add(this.updateChildNodeData)}get kernel(){return this.prj.kernel}resolve(t){if(t.length===0)return this;const n=t.toUpperCase().split("\\");let r=t[0]==="\\"?this.prj.root:this;for(const i of n){const o=r.resolveMap.get(i);if(!o)return null;r=o}return r}resolveMany(t,n){if(t){const r=this.resolve(t);return!r||n&&r.klass!==n?[]:[r]}return n?this.prj.getKlassSchemas(n):[]}initValues(t){this.children.forEach(r=>r.initValues());const{vars:n}=this.klass;return n.list.forEach(r=>{let i;if(r.parsed!==null)i=r.parsed;else switch(r){case n.orgx:i=this.ndata?.x??0;break;case n.orgy:i=this.ndata?.y??0;break;case n._hobject:i=this.ndata?.key??0;break;case n._objname:i=this.ndata?.name??"";break;case n._classname:i=this.klass.name;break;default:if(!t)return;i=r.type===kt.STRING?"":0;break}this.vars.setValue(r,i)}),this}applyValues(t){const{values:n,klassId:r}=t;if(n?.length)if(this.klass.id===r){const{vars:i}=this.klass;n.forEach(({name:o,value:s})=>{const l=i.get(o);if(!l)return;const c=eg(l.type,s);c!==null&&this.vars.setValue(l,c)})}else console.warn(`Пропуск установки stt для ${this.path()} (id ${this.klass.id}): ожидалось id ${r} (${t.klass})`);return t.children?.forEach(i=>this.children.find(o=>o.ndata.key===i.key)?.applyValues(i)),this}getValues(){const{klass:t,ndata:n}=this,r=this.children.map(o=>o.getValues()),i=t.vars.list.map(o=>{const s=WP(o.type,this.vars.getNewValue(o));return{name:o.name,value:s}});return{key:n?.key??0,klass:t.name,klassId:t.id,values:i,children:r}}computeAndPushVector(t,n,{a:r,b:i}){const{vars:o}=this,{oldFloats:s,newFloats:l}=o.values;let c=!1;const u=t(this,o),h=n.map(p=>{l[p]=s[p]=1;const g=u-t(this,o);return l[p]=s[p]=0,g!==0&&(c=!0),g});c&&(r.push(h),i.push(u))}computeEquationVectors(t,n){this.children.forEach(r=>r.computeEquationVectors(t,n)),this.klass.equations.forEach(r=>this.computeAndPushVector(r,t,n))}computeSchemaDefers(){this.children.forEach(t=>!t.isDisabled()&&t.computeSchemaDefers()),this.klass.defers.forEach(t=>t(this,this.vars))}getFirstDeepLeftSchema(){let t=this;for(;;){let n=null;for(const r of t.children)if(!r.isDisabled()){n=r;break}if(!n)break;t=n}return t}main(){return this.klass.main?.(this,this.vars)||null}computeBranch(){return new tue(this)}compute(t){return new nue(this,t)}*userFunction(t,n){const r=this.kernel.classes.get(t);if(!r)throw Error(`Функция не существует: ${t}`);if(r.compile(),!r.isFunction)throw Error(`Имидж ${t} существует, но не является функцией`);const i=r.vars.list;if(n.length>i.length)throw Error(`${t}: ${n.length} аргументов, но функция имеет ${i.length} переменных`);let o=wA.get(i);if(!o){const c=new mA;o={map:i.map(u=>c.add(u)),varCount:c},wA.set(i,o)}const s=new gA(o.map,new qce(o.varCount));n.forEach((c,u)=>{const h=i[u];if(!s.setValue(h,c))throw Error(`Аргумент ${u} имеет тип ${typeof c}; ожидалось ${h.type}`)}),r.main&&(yield*r.main(this,s));const l=i.find(c=>c.attrib&lt.VF_RETURN);if(l)return s.getNewValue(l)}solveEquationsFor(t){this.prj.solveEquationsFor(t)}path(){if(this===this.prj.root)return this.klass.name;const t=[this];for(;;){const n=t[0].resolveMap.get("..");if(n===this.prj.root)break;t.unshift(n)}return t.map(n=>`${n.klass.name} (#${n.ndata.key})`).join(" - ")}setNewValue(t,n){const{newFloats:r,newInts:i,newStrings:o}=this.vars.values,s=this.vars.map[t.id];switch(t.type){case kt.FLOAT:if(typeof n!="number")return!1;r[s]=n;break;case kt.HANDLE:case kt.COLORREF:if(typeof n!="number")return!1;i[s]=n;break;case kt.STRING:if(typeof n!="string")return!1;o[s]=n;break}return!0}getVarValueFHC(t){const{newFloats:n,newInts:r}=this.vars.values,i=this.vars.map[t.id];switch(t.type){case kt.FLOAT:return n[i];case kt.HANDLE:case kt.COLORREF:return r[i];default:return null}}getVarValueS(t){return t.type===kt.STRING?this.vars.values.newStrings[this.vars.map[t.id]]:null}_warn(t){console.warn(`${this.path()}: ${t}`)}}class iue{constructor({id:t,dir:n,rootKlass:r,state:i,kernel:o,settings:s}){this.memory=new Kce,this.classTypes=new WeakMap,this.id=t,this.dir=n,this.kernel=o,this.settings=s;const l=new Set,c=new mA,u=vA(r,o.classes,c),h=this.root=yA(u,this,l);this.memory.alloc(c),h.initValues(),i&&h.applyValues(i),this.equationVars=Array.from(l)}createSchema({varMap:t,...n}){const r=new rue({...n,vars:new gA(t,this.memory)}),i=this.classTypes.get(r.klass);return i?i.push(r):this.classTypes.set(r.klass,[r]),r}getKlassSchemas(t){return this.classTypes.get(t)??[]}solveGlobalEquations(){const{equationVars:t}=this;t.length&&this.solveEquationsFor(t)}solveEquationsFor(t){const{oldFloats:n,newFloats:r}=this.memory,i=t.map(s=>{const l=n[s];return r[s]=n[s]=0,l}),o={a:[],b:[]};this.root.computeEquationVectors(t,o),t.forEach((s,l)=>n[s]=i[l]);try{const s=Aq(o);t.forEach((l,c)=>r[l]=s[c])}catch{t.forEach(l=>r[l]=0)}}beforeCompute(){this.kernel.beforeCompute.dispatch()}afterCompute(){this.memory.sync(),this.kernel.afterCompute.dispatch()}close(){this.kernel.closeProject(this)}}let DC=class{constructor(t=""){this.name=t,this.type="folder",this.items=new Map}};class AC{constructor(t,n){this.root=t,this.stdlibDir=n,this.uploadsDir=new Fs(this.root,["C:","Uploads"]),this.downloadsDir=new Fs(this.root,["C:","Downloads"]),this.appData=new Fs(this.root,["C:","Users","User","AppData","Roaming"]),this.loadedLibs=new Set,this.uploadsDir.create("folder"),this.downloadsDir.create("folder")}static async create(){const t=new DC,n=new Fs(t,["C:","library"]),{files:r}=await Ty({src:gP});return r.forEach(i=>n.resolve(i.path).createWithDirs(i)),new AC(t,n)}async mountLibrary(t){if(this.loadedLibs.size===this.loadedLibs.add(t.src).size)return;const{files:n}=t.data||await Ty(t,{cache:Ri.cache});n.forEach(r=>this.path(t.mount?`${t.mount}/${r.path}`:r.path).createWithDirs(r))}path(t){return new Fs(this.root,["D:"].concat(t.split("/")))}}class SA{constructor(t,n={}){this.path=t,this.type="file",this.size=null,this.cls=null,this.image=null,this.scene=null,this.video=null,this.audio=null,this.ttf=null,this.cursor=null,this.stt=null,this.mat=null,this.base64=null,this.mesh=null,this.set(n)}set({size:t=this.size,cls:n=this.cls,image:r=this.image,scene:i=this.scene,video:o=this.video,audio:s=this.audio,ttf:l=this.ttf,cursor:c=this.cursor,stt:u=this.stt,mat:h=this.mat,mesh:p=this.mesh,base64:g=this.base64}){return this.size=t,this.cls=n,this.image=r,this.scene=i,this.video=o,this.audio=s,this.ttf=l,this.cursor=c,this.stt=u,this.mat=h,this.mesh=p,this.base64=g,this}}class Fs{constructor(t,n,r){if(this.fs=t,this.parts=n,this.str=null,n[0].length!==2&&n[0][1]!==":")throw Error("Неправильное имя тома диска");this.partsUC=r??n.map(i=>i.toUpperCase())}static splitPath(t){return t.split(/[/\\]/).map(n=>n.trim()).filter(n=>n.length>0)}resolve(t){const n=Fs.splitPath(t);if(!n.length)return this;const r=n[0].length===2&&n[0][1]===":",i=r?[n[0]]:this.parts.slice(),o=r?[n[0].toUpperCase()]:this.partsUC.slice();for(let s=r?1:0;s<n.length;++s){const l=n[s];l===".."?i.length>1&&(i.pop(),o.pop()):l!=="."&&(i.push(l),o.push(l.toUpperCase()))}return new Fs(this.fs,i,o)}toString(){return this.str?this.str:this.str=this.parts.join("\\")}basename(){return this.parts[this.parts.length-1]}equals(t){if(this===t)return!0;const n=this.partsUC,r=t.partsUC;if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}startsWith(t){const n=this.partsUC,r=t.partsUC;if(n.length<r.length)return!1;for(let i=0;i<r.length;++i)if(n[i]!==r[i])return!1;return!0}static getFolder(t,n,r){let i=t;for(let o=0;o<n.length-(r?0:1);++o){const s=i.items.get(n[o]);if(!s||s.type!=="folder")return null;i=s}return i}create(t,n){const{partsUC:r}=this,i=Fs.getFolder(this.fs,r);if(!i)return null;const o=r[r.length-1],s=i.items.get(o);if(t==="folder")return s||i.items.set(o,new DC),this;if(s)return s.type!=="file"?null:(n&&s.set(n),s);const l=new SA(this,n);return i.items.set(o,l),l}createWithDirs(t){const{parts:n,partsUC:r}=this;let i=this.fs;for(let c=0;c<n.length-1;++c){let u=i.items.get(r[c]);if(!u)u=new DC(n[c]),i.items.set(r[c],u);else if(u.type==="file")throw Error(`Невозможно создать директорию ${this}: файл ${u.path} уже существует.`);i=u}const o=r[r.length-1];if(i.items.has(o))throw Error(`Невозможно создать директорию ${this}: файл уже существует.`);const l=new SA(this,t);return i.items.set(o,l),l}fileExist(){const{partsUC:t}=this,n=Fs.getFolder(this.fs,t);if(!n)return!1;const r=t[t.length-1];return n.items.get(r)?.type==="file"}file(){const{partsUC:t}=this,n=Fs.getFolder(this.fs,t);if(!n)return Ri.debugFile&&console.warn(`${this.toString()} не существует`),null;const r=t[t.length-1],i=n.items.get(r);return i?i.type!=="file"?(Ri.debugFile&&console.warn(`${this.toString()} является каталогом`),null):i:(Ri.debugFile&&console.warn(`${this.toString()} не существует`),null)}forEach(t,n){const{partsUC:r}=this,i=Fs.getFolder(this.fs,r,!0);i&&i.items.forEach(function o(s){s.type==="folder"?n&&s.items.forEach(o):t(s)})}matchGlob(){const{partsUC:t}=this,n=Fs.getFolder(this.fs,t);if(!n)return[];const r=t[t.length-1];if(r.includes("*")){const[s,l]=r.split("*");let c;return!s&&!l?c=[".","..",...n.items]:c=[...n.items].filter(([u])=>u.startsWith(s)&&u.endsWith(l)),c.map(u=>{if(typeof u=="string")return{name:u,size:0};const h=u[1];return h.type==="folder"?{name:h.name,size:0}:{name:h.path.basename(),size:h.size??0}})}const i=n.items.get(r);return i?[i.type==="folder"?{name:i.name,size:0}:{name:i.path.basename(),size:i.size??0}]:[]}}function oue(e=[]){const t=new jP;return fA.concat(e).forEach(n=>n.register(t.addFunc.bind(t))),t}function _r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var sue={};function My(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:sue}var CA=Object.assign,Oy=Object.getOwnPropertyDescriptor,Dl=Object.defineProperty,Ry=Object.prototype,LC=[];Object.freeze(LC);var NC={};Object.freeze(NC);var aue=typeof Proxy<"u",lue=Object.toString();function xA(){aue||_r("Proxy not available")}function _A(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var uf=function(){};function rl(e){return typeof e=="function"}function jd(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Iy(e){return e!==null&&typeof e=="object"}function pu(e){if(!Iy(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===lue}function EA(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function ky(e,t,n){Dl(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function TA(e,t,n){Dl(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Vd(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Iy(r)&&r[n]===!0}}function df(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function cue(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Sc(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var MA=typeof Object.getOwnPropertySymbols<"u";function uue(e){var t=Object.keys(e);if(!MA)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Ry.propertyIsEnumerable.call(e,r)})):t}var Py=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:MA?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function OA(e){return e===null?null:typeof e=="object"?""+e:e}function Cc(e,t){return Ry.hasOwnProperty.call(e,t)}var due=Object.getOwnPropertyDescriptors||function(t){var n={};return Py(t).forEach(function(r){n[r]=Oy(t,r)}),n};function js(e,t){return!!(e&t)}function Vs(e,t,n){return n?e|=t:e&=~t,e}function RA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function hue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pue(r.key),r)}}function hf(e,t,n){return t&&hue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ff(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=gue(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$d.apply(null,arguments)}function IA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,BC(e,t)}function BC(e,t){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},BC(e,t)}function fue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pue(e){var t=fue(e,"string");return typeof t=="symbol"?t:t+""}function gue(e,t){if(e){if(typeof e=="string")return RA(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?RA(e,t):void 0}}var Al=Symbol("mobx-stored-annotations");function Ll(e){function t(n,r){if(fg(r))return e.decorate_20223_(n,r);hg(n,r,e)}return Object.assign(t,e)}function hg(e,t,n){Cc(e,Al)||ky(e,Al,$d({},e[Al])),Cue(n)||(e[Al][t]=n)}function mue(e){return Cc(e,Al)||ky(e,Al,$d({},e[Al])),e[Al]}function fg(e){return typeof e=="object"&&typeof e.kind=="string"}var Nn=Symbol("mobx administration"),gu=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ir.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return YA(this)},t.reportChanged=function(){ca(),XA(this),ua()},t.toString=function(){return this.name_},hf(e,[{key:"isBeingObserved",get:function(){return js(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return js(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return js(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Vs(this.flags_,e.diffValueMask_,r===1)}}])})();gu.isBeingObservedMask_=1,gu.isPendingUnobservationMask_=2,gu.diffValueMask_=4;var FC=Vd("Atom",gu);function kA(e,t,n){t===void 0&&(t=uf),n===void 0&&(n=uf);var r=new gu(e);return t!==uf&&Mde(r,t),n!==uf&&rL(r,n),r}function vue(e,t){return _L(e,t)}function yue(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var pf={structural:vue,default:yue};function zd(e,t,n){return lL(e)?e:Array.isArray(e)?Be.array(e,{name:n}):pu(e)?Be.object(e,void 0,{name:n}):df(e)?Be.map(e,{name:n}):Sc(e)?Be.set(e,{name:n}):typeof e=="function"&&!yg(e)&&!bg(e)?EA(e)?Ii(e):vg(n,e):e}function bue(e,t,n){if(e==null||Zy(e)||Yy(e)||Wd(e)||Fl(e))return e;if(Array.isArray(e))return Be.array(e,{name:n,deep:!1});if(pu(e))return Be.object(e,void 0,{name:n,deep:!1});if(df(e))return Be.map(e,{name:n,deep:!1});if(Sc(e))return Be.set(e,{name:n,deep:!1})}function Dy(e){return e}function wue(e,t){return _L(e,t)?t:e}var Sue="override";function Cue(e){return e.annotationType_===Sue}function pg(e,t){return{annotationType_:e,options_:t,make_:xue,extend_:_ue,decorate_20223_:Eue}}function xue(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(yg(n.value))return 1;var o=PA(e,this,t,n,!1);return Dl(r,t,o),2}function _ue(e,t,n,r){var i=PA(e,this,t,n);return e.defineProperty_(t,i,r)}function Eue(e,t){var n=t.kind,r=t.name,i=t.addInitializer,o=this,s=function(u){var h,p,g,m;return Ud((h=(p=o.options_)==null?void 0:p.name)!=null?h:r.toString(),u,(g=(m=o.options_)==null?void 0:m.autoAction)!=null?g:!1)};if(n=="field")return function(c){var u,h=c;return yg(h)||(h=s(h)),(u=o.options_)!=null&&u.bound&&(h=h.bind(this),h.isMobxAction=!0),h};if(n=="method"){var l;return yg(e)||(e=s(e)),(l=this.options_)!=null&&l.bound&&i(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}_r("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function Tue(e,t,n,r){t.annotationType_,r.value}function PA(e,t,n,r,i){var o,s,l,c,u,h,p;i===void 0&&(i=Ut.safeDescriptors),Tue(e,t,n,r);var g=r.value;if((o=t.options_)!=null&&o.bound){var m;g=g.bind((m=e.proxy_)!=null?m:e.target_)}return{value:Ud((s=(l=t.options_)==null?void 0:l.name)!=null?s:n.toString(),g,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(h=t.options_)!=null&&h.bound?(p=e.proxy_)!=null?p:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function DA(e,t){return{annotationType_:e,options_:t,make_:Mue,extend_:Oue,decorate_20223_:Rue}}function Mue(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Cc(e.target_,t)||!bg(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(bg(n.value))return 1;var o=AA(e,this,t,n,!1,!1);return Dl(r,t,o),2}function Oue(e,t,n,r){var i,o=AA(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,o,r)}function Rue(e,t){var n,r=t.name,i=t.addInitializer;return bg(e)||(e=Ii(e)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,s=o[r].bind(o);s.isMobXFlow=!0,o[r]=s}),e}function Iue(e,t,n,r){t.annotationType_,r.value}function AA(e,t,n,r,i,o){o===void 0&&(o=Ut.safeDescriptors),Iue(e,t,n,r);var s=r.value;if(bg(s)||(s=Ii(s)),i){var l;s=s.bind((l=e.proxy_)!=null?l:e.target_),s.isMobXFlow=!0}return{value:s,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function jC(e,t){return{annotationType_:e,options_:t,make_:kue,extend_:Pue,decorate_20223_:Due}}function kue(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Pue(e,t,n,r){return Aue(e,this,t,n),e.defineComputedProperty_(t,$d({},this.options_,{get:n.get,set:n.set}),r)}function Due(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var o=mf(this)[Nn],s=$d({},n.options_,{get:e,context:this});s.name||(s.name="ObservableObject."+r.toString()),o.values_.set(r,new il(s))}),function(){return this[Nn].getObservablePropValue_(r)}}function Aue(e,t,n,r){t.annotationType_,r.get}function Ay(e,t){return{annotationType_:e,options_:t,make_:Lue,extend_:Nue,decorate_20223_:Bue}}function Lue(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Nue(e,t,n,r){var i,o;return Fue(e,this),e.defineObservableProperty_(t,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:zd,r)}function Bue(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function s(l,c){var u,h,p=mf(l)[Nn],g=new Hd(c,(u=(h=n.options_)==null?void 0:h.enhancer)!=null?u:zd,"ObservableObject."+i.toString(),!1);p.values_.set(i,g),o.add(l)}if(r=="accessor")return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[Nn].getObservablePropValue_(i)},set:function(c){return o.has(this)||s(this,c),this[Nn].setObservablePropValue_(i,c)},init:function(c){return o.has(this)||s(this,c),c}}}function Fue(e,t,n,r){t.annotationType_}var jue="true",Vue=LA();function LA(e){return{annotationType_:jue,options_:e,make_:$ue,extend_:zue,decorate_20223_:Uue}}function $ue(e,t,n,r){var i,o;if(n.get)return yi.make_(e,t,n,r);if(n.set){var s=Ud(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:Ut.safeDescriptors?e.isPlainObject_:!0,set:s})===null?0:2:(Dl(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&typeof n.value=="function"){var l;if(EA(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?Ii.bound:Ii;return u.make_(e,t,n,r)}var h=(l=this.options_)!=null&&l.autoBind?vg.bound:vg;return h.make_(e,t,n,r)}var p=((i=this.options_)==null?void 0:i.deep)===!1?Be.ref:Be;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var g;n.value=n.value.bind((g=e.proxy_)!=null?g:e.target_)}return p.make_(e,t,n,r)}function zue(e,t,n,r){var i,o;if(n.get)return yi.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:Ut.safeDescriptors?e.isPlainObject_:!0,set:Ud(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var s;n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)}var l=((o=this.options_)==null?void 0:o.deep)===!1?Be.ref:Be;return l.extend_(e,t,n,r)}function Uue(e,t){_r("'"+this.annotationType_+"' cannot be used as a decorator")}var Hue="observable",Gue="observable.ref",Wue="observable.shallow",Kue="observable.struct",NA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(NA);function Ly(e){return e||NA}var VC=Ay(Hue),que=Ay(Gue,{enhancer:Dy}),Yue=Ay(Wue,{enhancer:bue}),Xue=Ay(Kue,{enhancer:wue}),BA=Ll(VC);function Ny(e){return e.deep===!0?zd:e.deep===!1?Dy:Que(e.defaultDecorator)}function Zue(e){var t;return e?(t=e.defaultDecorator)!=null?t:LA(e):void 0}function Que(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:zd}function FA(e,t,n){if(fg(t))return VC.decorate_20223_(e,t);if(jd(t)){hg(e,t,VC);return}return lL(e)?e:pu(e)?Be.object(e,t,n):Array.isArray(e)?Be.array(e,t):df(e)?Be.map(e,t):Sc(e)?Be.set(e,t):typeof e=="object"&&e!==null?e:Be.box(e,t)}CA(FA,BA);var Jue={box:function(t,n){var r=Ly(n);return new Hd(t,Ny(r),r.name,!0,r.equals)},array:function(t,n){var r=Ly(n);return(Ut.useProxies===!1||r.proxy===!1?Zde:$de)(t,Ny(r),r.name)},map:function(t,n){var r=Ly(n);return new dL(t,Ny(r),r.name)},set:function(t,n){var r=Ly(n);return new fL(t,Ny(r),r.name)},object:function(t,n,r){return Kd(function(){return kde(Ut.useProxies===!1||r?.proxy===!1?mf({},r):Fde({},r),t,n)})},ref:Ll(que),shallow:Ll(Yue),deep:BA,struct:Ll(Xue)},Be=CA(FA,Jue),jA="computed",ede="computed.struct",$C=jC(jA),tde=jC(ede,{equals:pf.structural}),yi=function(t,n){if(fg(n))return $C.decorate_20223_(t,n);if(jd(n))return hg(t,n,$C);if(pu(t))return Ll(jC(jA,t));var r=pu(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new il(r)};Object.assign(yi,$C),yi.struct=Ll(tde);var VA,$A,By=0,nde=1,rde=(VA=($A=Oy(function(){},"name"))==null?void 0:$A.configurable)!=null?VA:!1,zA={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ud(e,t,n,r){n===void 0&&(n=!1);function i(){return ide(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},rde&&(zA.value=e,Dl(i,"name",zA)),i}function ide(e,t,n,r,i){var o=ode(e,t);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{sde(o)}}function ode(e,t,n,r){var i=!1,o=0,s=Ut.trackingDerivation,l=!t||!s;ca();var c=Ut.allowStateChanges;l&&(Gd(),c=Fy(!0));var u=HC(!0),h={runAsAction_:l,prevDerivation_:s,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:i,startTime_:o,actionId_:nde++,parentActionId_:By};return By=h.actionId_,h}function sde(e){By!==e.actionId_&&_r(30),By=e.parentActionId_,e.error_!==void 0&&(Ut.suppressReactionErrors=!0),jy(e.prevAllowStateChanges_),gg(e.prevAllowStateReads_),ua(),e.runAsAction_&&xc(e.prevDerivation_),Ut.suppressReactionErrors=!1}function ade(e,t){var n=Fy(e);try{return t()}finally{jy(n)}}function Fy(e){var t=Ut.allowStateChanges;return Ut.allowStateChanges=e,t}function jy(e){Ut.allowStateChanges=e}var Hd=(function(e){function t(r,i,o,s,l){var c;return o===void 0&&(o="ObservableValue"),l===void 0&&(l=pf.default),c=e.call(this,o)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=i,c.name_=o,c.equals=l,c.value_=i(r,void 0,o),c}IA(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==Ut.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(da(this)){var o=ha(this,{object:this,type:Bl,newValue:i});if(!o)return Ut.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?Ut.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),ol(this)&&sl(this,{type:Bl,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return wg(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Bl,newValue:this.value_,oldValue:void 0}),Sg(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return OA(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(gu),il=(function(){function e(n){this.dependenciesState_=Ir.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ir.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new zy(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=$y.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||_r(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ud("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?pf.structural:pf.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){hde(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&_r(32,this.name_,this.derivation),Ut.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)zC(this)&&(this.warnAboutUntrackedRead_(),ca(),this.value_=this.computeValue_(!1),ua());else if(YA(this),zC(this)){var r=Ut.trackingContext;this.keepAlive_&&!r&&(Ut.trackingContext=this),this.trackAndCompute()&&dde(this),Ut.trackingContext=r}var i=this.value_;if(Uy(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&_r(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else _r(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Ir.NOT_TRACKING_,o=this.computeValue_(!0),s=i||Uy(r)||Uy(o)||!this.equals_(r,o);return s&&(this.value_=o),s},t.computeValue_=function(r){this.isComputing=!0;var i=Fy(!1),o;if(r)o=UA(this,this.derivation,this.scope_);else if(Ut.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(s){o=new zy(s)}return jy(i),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(UC(this),this.value_=void 0)},t.observe_=function(r,i){var o=this,s=!0,l=void 0;return tL(function(){var c=o.get();if(!s||i){var u=Gd();r({observableKind:"computed",debugObjectName:o.name_,type:Bl,object:o,newValue:c,oldValue:l}),xc(u)}s=!1,l=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return OA(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},hf(e,[{key:"isComputing",get:function(){return js(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return js(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return js(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return js(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return js(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Vs(this.flags_,e.diffValueMask_,r===1)}}])})();il.isComputingMask_=1,il.isRunningSetterMask_=2,il.isBeingObservedMask_=4,il.isPendingUnobservationMask_=8,il.diffValueMask_=16;var Vy=Vd("ComputedValue",il),Ir;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Ir||(Ir={}));var $y;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})($y||($y={}));var zy=function(t){this.cause=void 0,this.cause=t};function Uy(e){return e instanceof zy}function zC(e){switch(e.dependenciesState_){case Ir.UP_TO_DATE_:return!1;case Ir.NOT_TRACKING_:case Ir.STALE_:return!0;case Ir.POSSIBLY_STALE_:{for(var t=HC(!0),n=Gd(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(Vy(s)){if(Ut.disableErrorBoundaries)s.get();else try{s.get()}catch{return xc(n),gg(t),!0}if(e.dependenciesState_===Ir.STALE_)return xc(n),gg(t),!0}}return GA(e),xc(n),gg(t),!1}}}function qWe(e){}function UA(e,t,n){var r=HC(!0);GA(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Ut.runId;var i=Ut.trackingDerivation;Ut.trackingDerivation=e,Ut.inBatch++;var o;if(Ut.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(s){o=new zy(s)}return Ut.inBatch--,Ut.trackingDerivation=i,lde(e),gg(r),o}function lde(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Ir.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var l=n[s];l.diffValue===0&&(l.diffValue=1,i!==s&&(n[i]=l),i++),l.dependenciesState_>r&&(r=l.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var c=t[o];c.diffValue===0&&KA(c,e),c.diffValue=0}for(;i--;){var u=n[i];u.diffValue===1&&(u.diffValue=0,ude(u,e))}r!==Ir.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function UC(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)KA(t[n],e);e.dependenciesState_=Ir.NOT_TRACKING_}function HA(e){var t=Gd();try{return e()}finally{xc(t)}}function Gd(){var e=Ut.trackingDerivation;return Ut.trackingDerivation=null,e}function xc(e){Ut.trackingDerivation=e}function HC(e){var t=Ut.allowStateReads;return Ut.allowStateReads=e,t}function gg(e){Ut.allowStateReads=e}function GA(e){if(e.dependenciesState_!==Ir.UP_TO_DATE_){e.dependenciesState_=Ir.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Ir.UP_TO_DATE_}}var Hy=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Gy=!0,WA=!1,Ut=(function(){var e=My();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Gy=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Hy().version&&(Gy=!1),Gy?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Hy):(setTimeout(function(){WA||_r(35)},1),new Hy)})();function cde(){if((Ut.pendingReactions.length||Ut.inBatch||Ut.isRunningReactions)&&_r(36),WA=!0,Gy){var e=My();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),Ut=new Hy}}function ude(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function KA(e,t){e.observers_.delete(t),e.observers_.size===0&&qA(e)}function qA(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Ut.pendingUnobservations.push(e))}function ca(){Ut.inBatch++}function ua(){if(--Ut.inBatch===0){ZA();for(var e=Ut.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof il&&n.suspend_())}Ut.pendingUnobservations=[]}}function YA(e){var t=Ut.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Ut.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&Ut.inBatch>0&&qA(e),!1)}function XA(e){e.lowestObserverState_!==Ir.STALE_&&(e.lowestObserverState_=Ir.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ir.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Ir.STALE_}))}function dde(e){e.lowestObserverState_!==Ir.STALE_&&(e.lowestObserverState_=Ir.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ir.POSSIBLY_STALE_?t.dependenciesState_=Ir.STALE_:t.dependenciesState_===Ir.UP_TO_DATE_&&(e.lowestObserverState_=Ir.UP_TO_DATE_)}))}function hde(e){e.lowestObserverState_===Ir.UP_TO_DATE_&&(e.lowestObserverState_=Ir.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Ir.UP_TO_DATE_&&(t.dependenciesState_=Ir.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Nl=(function(){function e(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ir.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=$y.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ut.pendingReactions.push(this),ZA())},t.runReaction_=function(){if(!this.isDisposed){ca(),this.isScheduled=!1;var r=Ut.trackingContext;if(Ut.trackingContext=this,zC(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}Ut.trackingContext=r,ua()}},t.track=function(r){if(!this.isDisposed){ca(),this.isRunning=!0;var i=Ut.trackingContext;Ut.trackingContext=this;var o=UA(this,r,void 0);Ut.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&UC(this),Uy(o)&&this.reportExceptionInDerivation_(o.cause),ua()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Ut.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";Ut.suppressReactionErrors||console.error(o,r),Ut.globalReactionErrorHandlers.forEach(function(s){return s(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ca(),UC(this),ua()))},t.getDisposer_=function(r){var i=this,o=function s(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[Nn]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},hf(e,[{key:"isDisposed",get:function(){return js(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return js(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return js(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return js(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Vs(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return js(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Vs(this.flags_,e.diffValueMask_,r===1)}}])})();Nl.isDisposedMask_=1,Nl.isScheduledMask_=2,Nl.isTrackPendingMask_=4,Nl.isRunningMask_=8,Nl.diffValueMask_=16;var fde=100,GC=function(t){return t()};function ZA(){Ut.inBatch>0||Ut.isRunningReactions||GC(pde)}function pde(){Ut.isRunningReactions=!0;for(var e=Ut.pendingReactions,t=0;e.length>0;){++t===fde&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ut.isRunningReactions=!1}var Wy=Vd("Reaction",Nl);function gde(e){var t=GC;GC=function(r){return e(function(){return t(r)})}}function mg(){return!1}function YWe(e){}function XWe(e){}function ZWe(e){}function mde(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var QA="action",vde="action.bound",JA="autoAction",yde="autoAction.bound",bde="<unnamed action>",WC=pg(QA),wde=pg(vde,{bound:!0}),KC=pg(JA,{autoAction:!0}),Sde=pg(yde,{autoAction:!0,bound:!0});function eL(e){var t=function(r,i){if(rl(r))return Ud(r.name||bde,r,e);if(rl(i))return Ud(r,i,e);if(fg(i))return(e?KC:WC).decorate_20223_(r,i);if(jd(i))return hg(r,i,e?KC:WC);if(jd(r))return Ll(pg(e?JA:QA,{name:r,autoAction:e}))};return t}var Ee=eL(!1);Object.assign(Ee,WC);var vg=eL(!0);Object.assign(vg,KC),Ee.bound=Ll(wde),vg.bound=Ll(Sde);function yg(e){return rl(e)&&e.isMobxAction===!0}function tL(e,t){var n,r,i,o;t===void 0&&(t=NC);var s=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,c;if(l)c=new Nl(s,function(){this.track(p)},t.onError,t.requiresObservable);else{var u=nL(t),h=!1;c=new Nl(s,function(){h||(h=!0,u(function(){h=!1,c.isDisposed||c.track(p)}))},t.onError,t.requiresObservable)}function p(){e(c)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||c.schedule_(),c.getDisposer_((o=t)==null?void 0:o.signal)}var Cde=function(t){return t()};function nL(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Cde}function xde(e,t,n){var r,i,o;n===void 0&&(n=NC);var s=(r=n.name)!=null?r:"Reaction",l=Ee(s,n.onError?_de(n.onError,t):t),c=!n.scheduler&&!n.delay,u=nL(n),h=!0,p=!1,g,m=n.compareStructural?pf.structural:n.equals||pf.default,y=new Nl(s,function(){h||c?b():p||(p=!0,u(b))},n.onError,n.requiresObservable);function b(){if(p=!1,!y.isDisposed){var v=!1,S=g;y.track(function(){var E=ade(!1,function(){return e(y)});v=h||!m(g,E),g=E}),(h&&n.fireImmediately||!h&&v)&&l(g,S,y),h=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||y.schedule_(),y.getDisposer_((o=n)==null?void 0:o.signal)}function _de(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var Ede="onBO",Tde="onBUO";function Mde(e,t,n){return iL(Ede,e,t,n)}function rL(e,t,n){return iL(Tde,e,t,n)}function iL(e,t,n,r){var i=Qy(t),o=rl(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var l=i[s];l&&(l.delete(o),l.size===0&&delete i[s])}}var Ode="never",Ky="always",Rde="observed";function Ide(e){e.isolateGlobalState===!0&&cde();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(Ut.useProxies=t===Ky?!0:t===Ode?!1:typeof Proxy<"u"),t==="ifavailable"&&(Ut.verifyProxies=!0),n!==void 0){var r=n===Ky?Ky:n===Rde;Ut.enforceActions=r,Ut.allowStateChanges=!(r===!0||r===Ky)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(Ut[i]=!!e[i])}),Ut.allowStateReads=!Ut.observableRequiresReaction,e.reactionScheduler&&gde(e.reactionScheduler)}function kde(e,t,n,r){var i=due(t);return Kd(function(){var o=mf(e,r)[Nn];Py(i).forEach(function(s){o.extend_(s,i[s],n&&s in n?n[s]:!0)})}),e}function Pde(e,t){return oL(Qy(e,t))}function oL(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Dde(e.observing_).map(oL)),t}function Dde(e){return Array.from(new Set(e))}var Ade=0;function sL(){this.message="FLOW_CANCELLED"}sL.prototype=Object.create(Error.prototype);var qC=DA("flow"),Lde=DA("flow.bound",{bound:!0}),Ii=Object.assign(function(t,n){if(fg(n))return qC.decorate_20223_(t,n);if(jd(n))return hg(t,n,qC);var r=t,i=r.name||"<unnamed flow>",o=function(){var l=this,c=arguments,u=++Ade,h=Ee(i+" - runid: "+u+" - init",r).apply(l,c),p,g=void 0,m=new Promise(function(y,b){var v=0;p=b;function S(O){g=void 0;var M;try{M=Ee(i+" - runid: "+u+" - yield "+v++,h.next).call(h,O)}catch(I){return b(I)}T(M)}function E(O){g=void 0;var M;try{M=Ee(i+" - runid: "+u+" - yield "+v++,h.throw).call(h,O)}catch(I){return b(I)}T(M)}function T(O){if(rl(O?.then)){O.then(T,b);return}return O.done?y(O.value):(g=Promise.resolve(O.value),g.then(S,E))}S(void 0)});return m.cancel=Ee(i+" - runid: "+u+" - cancel",function(){try{g&&aL(g);var y=h.return(void 0),b=Promise.resolve(y.value);b.then(uf,uf),aL(b),p(new sL)}catch(v){p(v)}}),m};return o.isMobXFlow=!0,o},qC);Ii.bound=Ll(Lde);function aL(e){rl(e.cancel)&&e.cancel()}function bg(e){return e?.isMobXFlow===!0}function Nde(e,t){return e?Zy(e)||!!e[Nn]||FC(e)||Wy(e)||Vy(e):!1}function lL(e){return Nde(e)}function _c(e,t){t===void 0&&(t=void 0),ca();try{return e.apply(t)}finally{ua()}}function gf(e){return e[Nn]}var Bde={has:function(t,n){return gf(t).has_(n)},get:function(t,n){return gf(t).get_(n)},set:function(t,n,r){var i;return jd(n)?(i=gf(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return jd(n)?(r=gf(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=gf(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return gf(t).ownKeys_()},preventExtensions:function(t){_r(13)}};function Fde(e,t){var n,r;return xA(),e=mf(e,t),(r=(n=e[Nn]).proxy_)!=null?r:n.proxy_=new Proxy(e,Bde)}function da(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function wg(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),_A(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ha(e,t){var n=Gd();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&(t=r[i](t),t&&!t.type&&_r(14),!!t);i++);return t}finally{xc(n)}}function ol(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Sg(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),_A(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function sl(e,t){var n=Gd(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](t);xc(n)}}function Ot(e,t,n){return Kd(function(){var r,i=mf(e,n)[Nn];(r=t)!=null||(t=mue(e)),Py(t).forEach(function(o){return i.make_(o,t[o])})}),e}var cL="splice",Bl="update",jde=1e4,Vde={get:function(t,n){var r=t[Nn];return n===Nn?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Cc(qy,n)?qy[n]:t[n]},set:function(t,n,r){var i=t[Nn];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){_r(15)}},YC=(function(){function e(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new gu(n),this.enhancer_=function(s,l){return r(s,l,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return wg(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Sg(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&_r("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),s=0;s<r-i;s++)o[s]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&_r(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&CL(r+i+1)},t.spliceWithArray_=function(r,i,o){var s=this;this.atom_;var l=this.values_.length;if(r===void 0?r=0:r>l?r=l:r<0&&(r=Math.max(0,l+r)),arguments.length===1?i=l-r:i==null?i=0:i=Math.max(0,Math.min(i,l-r)),o===void 0&&(o=LC),da(this)){var c=ha(this,{object:this.proxy_,type:cL,index:r,removedCount:i,added:o});if(!c)return LC;i=c.removedCount,o=c.added}if(o=o.length===0?o:o.map(function(p){return s.enhancer_(p,void 0)}),this.legacyMode_){var u=o.length-i;this.updateArrayLength_(l,u)}var h=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,h),this.dehanceValues_(h)},t.spliceItemsIntoValues_=function(r,i,o){if(o.length<jde){var s;return(s=this.values_).splice.apply(s,[r,i].concat(o))}else{var l=this.values_.slice(r,r+i),c=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var u=0;u<o.length;u++)this.values_[r+u]=o[u];for(var h=0;h<c.length;h++)this.values_[r+o.length+h]=c[h];return l}},t.notifyArrayChildUpdate_=function(r,i,o){var s=!this.owned_&&mg(),l=ol(this),c=l||s?{observableKind:"array",object:this.proxy_,type:Bl,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;this.atom_.reportChanged(),l&&sl(this,c)},t.notifyArraySplice_=function(r,i,o){var s=!this.owned_&&mg(),l=ol(this),c=l||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:cL,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;this.atom_.reportChanged(),l&&sl(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&_r(17,r,o.length),r<o.length){this.atom_;var s=o[r];if(da(this)){var l=ha(this,{type:Bl,object:this.proxy_,index:r,newValue:i});if(!l)return;i=l.newValue}i=this.enhancer_(i,s);var c=i!==s;c&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,s))}else{for(var u=new Array(r+1-o.length),h=0;h<u.length-1;h++)u[h]=void 0;u[u.length-1]=i,this.spliceWithArray_(o.length,0,u)}},e})();function $de(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),xA(),Kd(function(){var i=new YC(n,t,r,!1);TA(i.values_,Nn,i);var o=new Proxy(i.values_,Vde);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var qy={clear:function(){return this.splice(0)},replace:function(t){var n=this[Nn];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=this[Nn];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(t);case 2:return s.spliceWithArray_(t,n)}return s.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[Nn].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Nn],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Nn].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Nn],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return Ut.trackingDerivation&&_r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ut.trackingDerivation&&_r(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Nn],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};oi("at",$s),oi("concat",$s),oi("flat",$s),oi("includes",$s),oi("indexOf",$s),oi("join",$s),oi("lastIndexOf",$s),oi("slice",$s),oi("toString",$s),oi("toLocaleString",$s),oi("toSorted",$s),oi("toSpliced",$s),oi("with",$s),oi("every",al),oi("filter",al),oi("find",al),oi("findIndex",al),oi("findLast",al),oi("findLastIndex",al),oi("flatMap",al),oi("forEach",al),oi("map",al),oi("some",al),oi("toReversed",al),oi("reduce",uL),oi("reduceRight",uL);function oi(e,t){typeof Array.prototype[e]=="function"&&(qy[e]=t(e))}function $s(e){return function(){var t=this[Nn];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function al(e){return function(t,n){var r=this,i=this[Nn];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[e](function(s,l){return t.call(n,s,l,r)})}}function uL(e){return function(){var t=this,n=this[Nn];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,s,l){return i(o,s,l,t)},r[e].apply(r,arguments)}}var zde=Vd("ObservableArrayAdministration",YC);function Yy(e){return Iy(e)&&zde(e[Nn])}var Ude={},mu="add",Xy="delete",dL=(function(){function e(n,r,i){var o=this;r===void 0&&(r=zd),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Nn]=Ude,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,rl(Map)||_r(18),Kd(function(){o.keysAtom_=kA("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!Ut.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var s=o=new Hd(this.has_(r),Dy,"ObservableMap.key?",!1);this.hasMap_.set(r,s),rL(s,function(){return i.hasMap_.delete(r)})}return o.get()},t.set=function(r,i){var o=this.has_(r);if(da(this)){var s=ha(this,{type:o?Bl:mu,object:this,newValue:i,name:r});if(!s)return this;i=s.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,da(this)){var o=ha(this,{type:Xy,object:this,name:r});if(!o)return!1}if(this.has_(r)){var s=mg(),l=ol(this),c=l||s?{observableKind:"map",debugObjectName:this.name_,type:Xy,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return _c(function(){var u;i.keysAtom_.reportChanged(),(u=i.hasMap_.get(r))==null||u.setNewValue_(!1);var h=i.data_.get(r);h.setNewValue_(void 0),i.data_.delete(r)}),l&&sl(this,c),!0}return!1},t.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==Ut.UNCHANGED){var s=mg(),l=ol(this),c=l||s?{observableKind:"map",debugObjectName:this.name_,type:Bl,object:this,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),l&&sl(this,c)}},t.addValue_=function(r,i){var o=this;this.keysAtom_,_c(function(){var u,h=new Hd(i,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,h),i=h.value_,(u=o.hasMap_.get(r))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var s=mg(),l=ol(this),c=l||s?{observableKind:"map",debugObjectName:this.name_,type:mu,object:this,name:r,newValue:i}:null;l&&sl(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return hL({next:function(){var s=i.next(),l=s.done,c=s.value;return{done:l,value:l?void 0:r.get(c)}}})},t.entries=function(){var r=this,i=this.keys();return hL({next:function(){var s=i.next(),l=s.done,c=s.value;return{done:l,value:l?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var o=ff(this),s;!(s=o()).done;){var l=s.value,c=l[0],u=l[1];r.call(i,u,c,this)}},t.merge=function(r){var i=this;return Wd(r)&&(r=new Map(r)),_c(function(){pu(r)?uue(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var s=o[0],l=o[1];return i.set(s,l)}):df(r)?(cue(r)||_r(19,r),r.forEach(function(o,s){return i.set(s,o)})):r!=null&&_r(20,r)}),this},t.clear=function(){var r=this;_c(function(){HA(function(){for(var i=ff(r.keys()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},t.replace=function(r){var i=this;return _c(function(){for(var o=Hde(r),s=new Map,l=!1,c=ff(i.data_.keys()),u;!(u=c()).done;){var h=u.value;if(!o.has(h)){var p=i.delete(h);if(p)l=!0;else{var g=i.data_.get(h);s.set(h,g)}}}for(var m=ff(o.entries()),y;!(y=m()).done;){var b=y.value,v=b[0],S=b[1],E=i.data_.has(v);if(i.set(v,S),i.data_.has(v)){var T=i.data_.get(v);s.set(v,T),E||(l=!0)}}if(!l)if(i.data_.size!==s.size)i.keysAtom_.reportChanged();else for(var O=i.data_.keys(),M=s.keys(),I=O.next(),N=M.next();!I.done;){if(I.value!==N.value){i.keysAtom_.reportChanged();break}I=O.next(),N=M.next()}i.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return Sg(this,r)},t.intercept_=function(r){return wg(this,r)},hf(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),Wd=Vd("ObservableMap",dL);function hL(e){return e[Symbol.toStringTag]="MapIterator",ex(e)}function Hde(e){if(df(e)||Wd(e))return e;if(Array.isArray(e))return new Map(e);if(pu(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return _r(21,e)}var Gde={},fL=(function(){function e(n,r,i){var o=this;r===void 0&&(r=zd),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Nn]=Gde,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,rl(Set)||_r(22),this.enhancer_=function(s,l){return r(s,l,i)},Kd(function(){o.atom_=kA(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;_c(function(){HA(function(){for(var i=ff(r.data_.values()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},t.forEach=function(r,i){for(var o=ff(this),s;!(s=o()).done;){var l=s.value;r.call(i,l,l,this)}},t.add=function(r){var i=this;if(this.atom_,da(this)){var o=ha(this,{type:mu,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){_c(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var s=!1,l=ol(this),c=l||s?{observableKind:"set",debugObjectName:this.name_,type:mu,object:this,newValue:r}:null;l&&sl(this,c)}return this},t.delete=function(r){var i=this;if(da(this)){var o=ha(this,{type:Xy,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var s=!1,l=ol(this),c=l||s?{observableKind:"set",debugObjectName:this.name_,type:Xy,object:this,oldValue:r}:null;return _c(function(){i.atom_.reportChanged(),i.data_.delete(r)}),l&&sl(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return pL({next:function(){var o=r.next(),s=o.value,l=o.done;return l?{value:void 0,done:l}:{value:[s,s],done:l}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return pL({next:function(){var s=i.next(),l=s.value,c=s.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(l),done:c}}})},t.intersection=function(r){if(Sc(r)&&!Fl(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(Sc(r)&&!Fl(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Sc(r)&&!Fl(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Sc(r)&&!Fl(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return Fl(r)&&(r=new Set(r)),_c(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):Sc(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&_r("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return Sg(this,r)},t.intercept_=function(r){return wg(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},hf(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Fl=Vd("ObservableSet",fL);function pL(e){return e[Symbol.toStringTag]="SetIterator",ex(e)}var gL=Object.create(null),mL="remove",vL=(function(){function e(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=Vue),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new gu("ObservableObject.keys"),this.isPlainObject_=pu(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof il)return o.set(i),!0;if(da(this)){var s=ha(this,{type:Bl,object:this.proxy_||this.target_,name:r,newValue:i});if(!s)return null;i=s.newValue}if(i=o.prepareNewValue_(i),i!==Ut.UNCHANGED){var l=ol(this),c=!1,u=l||c?{type:Bl,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;o.setNewValue_(i),l&&sl(this,u)}return!0},t.get_=function(r){return Ut.trackingDerivation&&!Cc(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,o){return o===void 0&&(o=!1),Cc(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(r){if(!Ut.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Hd(r in this.target_,Dy,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var o;if((o=this.target_[Al])!=null&&o[r])return;_r(1,i.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==Ry;){var l=Oy(s,r);if(l){var c=i.make_(this,r,l,s);if(c===0)return;if(c===1)break}s=Object.getPrototypeOf(s)}bL(this,i,r)}},t.extend_=function(r,i,o,s){if(s===void 0&&(s=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,s);var l=o.extend_(this,r,i,s);return l&&bL(this,o,r),l},t.defineProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{ca();var s=this.delete_(r);if(!s)return s;if(da(this)){var l=ha(this,{object:this.proxy_||this.target_,name:r,type:mu,newValue:i.value});if(!l)return null;var c=l.newValue;i.value!==c&&(i=$d({},i,{value:c}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else Dl(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{ua()}return!0},t.defineObservableProperty_=function(r,i,o,s){s===void 0&&(s=!1),this.keysAtom_;try{ca();var l=this.delete_(r);if(!l)return l;if(da(this)){var c=ha(this,{object:this.proxy_||this.target_,name:r,type:mu,newValue:i});if(!c)return null;i=c.newValue}var u=yL(r),h={configurable:Ut.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,h))return!1}else Dl(this.target_,r,h);var p=new Hd(i,o,"ObservableObject.key",!1);this.values_.set(r,p),this.notifyPropertyAddition_(r,p.value_)}finally{ua()}return!0},t.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{ca();var s=this.delete_(r);if(!s)return s;if(da(this)){var l=ha(this,{object:this.proxy_||this.target_,name:r,type:mu,newValue:void 0});if(!l)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var c=yL(r),u={configurable:Ut.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Dl(this.target_,r,u);this.values_.set(r,new il(i)),this.notifyPropertyAddition_(r,void 0)}finally{ua()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!Cc(this.target_,r))return!0;if(da(this)){var o=ha(this,{object:this.proxy_||this.target_,name:r,type:mL});if(!o)return null}try{var s;ca();var l=ol(this),c=!1,u=this.values_.get(r),h=void 0;if(!u&&(l||c)){var p;h=(p=Oy(this.target_,r))==null?void 0:p.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Hd&&(h=u.value_),XA(u)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(r in this.target_),l||c){var g={type:mL,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};l&&sl(this,g)}}finally{ua()}return!0},t.observe_=function(r,i){return Sg(this,r)},t.intercept_=function(r){return wg(this,r)},t.notifyPropertyAddition_=function(r,i){var o,s=ol(this),l=!1;if(s||l){var c=s||l?{type:mu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;s&&sl(this,c)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Py(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function mf(e,t){var n;if(Cc(e,Nn))return e;var r=(n=t?.name)!=null?n:"ObservableObject",i=new vL(e,new Map,String(r),Zue(t));return ky(e,Nn,i),e}var Wde=Vd("ObservableObjectAdministration",vL);function yL(e){return gL[e]||(gL[e]={get:function(){return this[Nn].getObservablePropValue_(e)},set:function(n){return this[Nn].setObservablePropValue_(e,n)}})}function Zy(e){return Iy(e)?Wde(e[Nn]):!1}function bL(e,t,n){var r;(r=e.target_[Al])==null||delete r[n]}var Kde=SL(0),qde=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),XC=0,wL=function(){};function Yde(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}Yde(wL,Array.prototype);var ZC=(function(e){function t(r,i,o,s){var l;return o===void 0&&(o="ObservableArray"),s===void 0&&(s=!1),l=e.call(this)||this,Kd(function(){var c=new YC(o,i,s,!0);c.proxy_=l,TA(l,Nn,c),r&&r.length&&l.spliceWithArray(0,0,r),qde&&Object.defineProperty(l,"0",Kde)}),l}IA(t,e);var n=t.prototype;return n.concat=function(){this[Nn].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),o.map(function(l){return Yy(l)?l.slice():l}))},n[Symbol.iterator]=function(){var r=this,i=0;return ex({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},hf(t,[{key:"length",get:function(){return this[Nn].getArrayLength_()},set:function(i){this[Nn].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(wL);Object.entries(qy).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&ky(ZC.prototype,t,n)});function SL(e){return{enumerable:!1,configurable:!0,get:function(){return this[Nn].get_(e)},set:function(n){this[Nn].set_(e,n)}}}function Xde(e){Dl(ZC.prototype,""+e,SL(e))}function CL(e){if(e>XC){for(var t=XC;t<e+100;t++)Xde(t);XC=e}}CL(1e3);function Zde(e,t,n){return new ZC(e,t,n)}function Qy(e,t){if(typeof e=="object"&&e!==null){if(Yy(e))return t!==void 0&&_r(23),e[Nn].atom_;if(Fl(e))return e.atom_;if(Wd(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||_r(25,t,QC(e)),n}if(Zy(e)){if(!t)return _r(26);var r=e[Nn].values_.get(t);return r||_r(27,t,QC(e)),r}if(FC(e)||Vy(e)||Wy(e))return e}else if(rl(e)&&Wy(e[Nn]))return e[Nn];_r(28)}function Qde(e,t){if(e||_r(29),FC(e)||Vy(e)||Wy(e)||Wd(e)||Fl(e))return e;if(e[Nn])return e[Nn];_r(24,e)}function QC(e,t){var n;if(t!==void 0)n=Qy(e,t);else{if(yg(e))return e.name;Zy(e)||Wd(e)||Fl(e)?n=Qde(e):n=Qy(e)}return n.name_}function Kd(e){var t=Gd(),n=Fy(!0);ca();try{return e()}finally{ua(),jy(n),xc(t)}}var xL=Ry.toString;function _L(e,t,n){return n===void 0&&(n=-1),JC(e,t,n)}function JC(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var s=xL.call(e);if(s!==xL.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=EL(e),t=EL(t);var l=s==="[object Array]";if(!l){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(rl(c)&&c instanceof c&&rl(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var h=r.length;h--;)if(r[h]===e)return i[h]===t;if(r.push(e),i.push(t),l){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!JC(e[h],t[h],n-1,r,i))return!1}else{var p=Object.keys(e),g=p.length;if(Object.keys(t).length!==g)return!1;for(var m=0;m<g;m++){var y=p[m];if(!(Cc(t,y)&&JC(e[y],t[y],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function EL(e){return Yy(e)?e.slice():df(e)||Wd(e)||Sc(e)||Fl(e)?Array.from(e.entries()):e}var TL,Jde=((TL=My().Iterator)==null?void 0:TL.prototype)||{};function ex(e){return e[Symbol.iterator]=ehe,Object.assign(Object.create(Jde),e)}function ehe(){return this}["Symbol","Map","Set"].forEach(function(e){var t=My();typeof t[e]>"u"&&_r("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:mde,extras:{getDebugName:QC},$mobx:Nn});var qd={},tx={},ML;function the(){return ML||(ML=1,Object.defineProperty(tx,"__esModule",{value:!0})),tx}var nx={},OL;function nhe(){return OL||(OL=1,Object.defineProperty(nx,"__esModule",{value:!0})),nx}var rx={},RL;function rhe(){return RL||(RL=1,Object.defineProperty(rx,"__esModule",{value:!0})),rx}var ix={},IL;function ihe(){return IL||(IL=1,Object.defineProperty(ix,"__esModule",{value:!0})),ix}var ox={},kL;function ohe(){return kL||(kL=1,Object.defineProperty(ox,"__esModule",{value:!0})),ox}var sx={},PL;function she(){return PL||(PL=1,Object.defineProperty(sx,"__esModule",{value:!0})),sx}var ax={},DL;function ahe(){return DL||(DL=1,Object.defineProperty(ax,"__esModule",{value:!0})),ax}var lx={},AL;function lhe(){return AL||(AL=1,Object.defineProperty(lx,"__esModule",{value:!0})),lx}var cx={},LL;function che(){return LL||(LL=1,Object.defineProperty(cx,"__esModule",{value:!0})),cx}var ux={},NL;function uhe(){return NL||(NL=1,Object.defineProperty(ux,"__esModule",{value:!0})),ux}var dx={},BL;function dhe(){return BL||(BL=1,Object.defineProperty(dx,"__esModule",{value:!0})),dx}var hx={},FL;function hhe(){return FL||(FL=1,Object.defineProperty(hx,"__esModule",{value:!0})),hx}var fx={},jL;function fhe(){return jL||(jL=1,Object.defineProperty(fx,"__esModule",{value:!0})),fx}var px={},VL;function phe(){return VL||(VL=1,Object.defineProperty(px,"__esModule",{value:!0})),px}var gx={},$L;function ghe(){return $L||($L=1,Object.defineProperty(gx,"__esModule",{value:!0})),gx}var mx={},zL;function mhe(){return zL||(zL=1,Object.defineProperty(mx,"__esModule",{value:!0})),mx}var vx={},UL;function vhe(){return UL||(UL=1,Object.defineProperty(vx,"__esModule",{value:!0})),vx}var yx={},HL;function yhe(){return HL||(HL=1,Object.defineProperty(yx,"__esModule",{value:!0})),yx}var bx={},GL;function bhe(){return GL||(GL=1,Object.defineProperty(bx,"__esModule",{value:!0})),bx}var wx={},WL;function whe(){return WL||(WL=1,Object.defineProperty(wx,"__esModule",{value:!0})),wx}var Sx={},KL;function She(){return KL||(KL=1,Object.defineProperty(Sx,"__esModule",{value:!0})),Sx}var Cx={},qL;function Che(){return qL||(qL=1,Object.defineProperty(Cx,"__esModule",{value:!0})),Cx}var xx={},YL;function xhe(){return YL||(YL=1,Object.defineProperty(xx,"__esModule",{value:!0})),xx}var _x={},XL;function _he(){return XL||(XL=1,Object.defineProperty(_x,"__esModule",{value:!0})),_x}var Ex={},ZL;function Ehe(){return ZL||(ZL=1,Object.defineProperty(Ex,"__esModule",{value:!0})),Ex}var Tx={},QL;function The(){return QL||(QL=1,Object.defineProperty(Tx,"__esModule",{value:!0})),Tx}var Mx={},JL;function Mhe(){return JL||(JL=1,Object.defineProperty(Mx,"__esModule",{value:!0})),Mx}var Ox={},eN;function Ohe(){return eN||(eN=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var Rx={},tN;function Rhe(){return tN||(tN=1,Object.defineProperty(Rx,"__esModule",{value:!0})),Rx}var Ix={},nN;function Ihe(){return nN||(nN=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var kx={},rN;function khe(){return rN||(rN=1,Object.defineProperty(kx,"__esModule",{value:!0})),kx}var Px={},iN;function Phe(){return iN||(iN=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var Dx={},oN;function Dhe(){return oN||(oN=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var Ax={},sN;function Ahe(){return sN||(sN=1,Object.defineProperty(Ax,"__esModule",{value:!0})),Ax}var Lx={},aN;function Lhe(){return aN||(aN=1,Object.defineProperty(Lx,"__esModule",{value:!0})),Lx}var Nx={},lN;function Nhe(){return lN||(lN=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Bx={},cN;function Bhe(){return cN||(cN=1,Object.defineProperty(Bx,"__esModule",{value:!0})),Bx}var Fx={},uN;function Fhe(){return uN||(uN=1,Object.defineProperty(Fx,"__esModule",{value:!0})),Fx}var jx={},dN;function jhe(){return dN||(dN=1,Object.defineProperty(jx,"__esModule",{value:!0})),jx}var Vx={},hN;function Vhe(){return hN||(hN=1,Object.defineProperty(Vx,"__esModule",{value:!0})),Vx}var $x={},fN;function $he(){return fN||(fN=1,Object.defineProperty($x,"__esModule",{value:!0})),$x}var zx={},pN;function zhe(){return pN||(pN=1,Object.defineProperty(zx,"__esModule",{value:!0})),zx}var Ux={},gN;function Uhe(){return gN||(gN=1,Object.defineProperty(Ux,"__esModule",{value:!0})),Ux}var Hx={},mN;function Hhe(){return mN||(mN=1,Object.defineProperty(Hx,"__esModule",{value:!0})),Hx}var Gx={},vN;function Ghe(){return vN||(vN=1,Object.defineProperty(Gx,"__esModule",{value:!0})),Gx}var Wx={},yN;function Whe(){return yN||(yN=1,Object.defineProperty(Wx,"__esModule",{value:!0})),Wx}var Kx={},bN;function Khe(){return bN||(bN=1,Object.defineProperty(Kx,"__esModule",{value:!0})),Kx}var qx={},wN;function qhe(){return wN||(wN=1,Object.defineProperty(qx,"__esModule",{value:!0})),qx}var Yx={},SN;function Yhe(){return SN||(SN=1,Object.defineProperty(Yx,"__esModule",{value:!0})),Yx}var Xx={},CN;function Xhe(){return CN||(CN=1,Object.defineProperty(Xx,"__esModule",{value:!0})),Xx}var Zx={},xN;function Zhe(){return xN||(xN=1,Object.defineProperty(Zx,"__esModule",{value:!0})),Zx}var Qx={},_N;function Qhe(){return _N||(_N=1,Object.defineProperty(Qx,"__esModule",{value:!0})),Qx}var Jx={},EN;function Jhe(){return EN||(EN=1,Object.defineProperty(Jx,"__esModule",{value:!0})),Jx}var e_={},TN;function efe(){return TN||(TN=1,Object.defineProperty(e_,"__esModule",{value:!0})),e_}var t_={},MN;function tfe(){return MN||(MN=1,Object.defineProperty(t_,"__esModule",{value:!0})),t_}var n_={},ON;function nfe(){return ON||(ON=1,Object.defineProperty(n_,"__esModule",{value:!0})),n_}var r_={},RN;function rfe(){return RN||(RN=1,Object.defineProperty(r_,"__esModule",{value:!0})),r_}var i_={},IN;function ife(){return IN||(IN=1,Object.defineProperty(i_,"__esModule",{value:!0})),i_}var o_={},kN;function ofe(){return kN||(kN=1,Object.defineProperty(o_,"__esModule",{value:!0})),o_}var s_={},PN;function sfe(){return PN||(PN=1,Object.defineProperty(s_,"__esModule",{value:!0})),s_}var a_={},DN;function afe(){return DN||(DN=1,Object.defineProperty(a_,"__esModule",{value:!0})),a_}var l_={},AN;function lfe(){return AN||(AN=1,Object.defineProperty(l_,"__esModule",{value:!0})),l_}var c_={},LN;function cfe(){return LN||(LN=1,Object.defineProperty(c_,"__esModule",{value:!0})),c_}var u_={},NN;function ufe(){return NN||(NN=1,Object.defineProperty(u_,"__esModule",{value:!0})),u_}var d_={},BN;function dfe(){return BN||(BN=1,Object.defineProperty(d_,"__esModule",{value:!0})),d_}var h_={},FN;function hfe(){return FN||(FN=1,Object.defineProperty(h_,"__esModule",{value:!0})),h_}var f_={},jN;function ffe(){return jN||(jN=1,Object.defineProperty(f_,"__esModule",{value:!0})),f_}var Cg={},VN;function pfe(){if(VN)return Cg;VN=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.UnreachableCaseError=void 0;class e extends Error{constructor(n){super(`Unreachable case: ${n}`)}}return Cg.UnreachableCaseError=e,Cg}var xg={},$N;function gfe(){if($N)return xg;$N=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.assert=void 0;function e(t,n="no additional info provided"){if(!t)throw new Error("Assertion Error: "+n)}return xg.assert=e,xg}var _g={},zN;function mfe(){if(zN)return _g;zN=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.createFactoryWithConstraint=void 0;const e=()=>t=>t;return _g.createFactoryWithConstraint=e,_g}var Eg={},UN;function vfe(){if(UN)return Eg;UN=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.isExact=void 0;const e=()=>t=>t;return Eg.isExact=e,Eg}var Tg={},HN;function yfe(){if(HN)return Tg;HN=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.noop=void 0;function e(...t){}return Tg.noop=e,Tg}var p_={},GN;function bfe(){return GN||(GN=1,Object.defineProperty(p_,"__esModule",{value:!0})),p_}var WN;function wfe(){return WN||(WN=1,(function(e){var t=qd&&qd.__createBinding||(Object.create?(function(r,i,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(i,o);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,l)}):(function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]})),n=qd&&qd.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(the(),e),n(nhe(),e),n(rhe(),e),n(ihe(),e),n(ohe(),e),n(she(),e),n(ahe(),e),n(lhe(),e),n(che(),e),n(uhe(),e),n(dhe(),e),n(hhe(),e),n(fhe(),e),n(phe(),e),n(ghe(),e),n(mhe(),e),n(vhe(),e),n(yhe(),e),n(bhe(),e),n(whe(),e),n(She(),e),n(Che(),e),n(xhe(),e),n(_he(),e),n(Ehe(),e),n(The(),e),n(Mhe(),e),n(Ohe(),e),n(Rhe(),e),n(Ihe(),e),n(khe(),e),n(Phe(),e),n(Dhe(),e),n(Ahe(),e),n(Lhe(),e),n(Nhe(),e),n(Bhe(),e),n(Fhe(),e),n(jhe(),e),n(Vhe(),e),n($he(),e),n(zhe(),e),n(Uhe(),e),n(Hhe(),e),n(Ghe(),e),n(Whe(),e),n(Khe(),e),n(qhe(),e),n(Yhe(),e),n(Xhe(),e),n(Zhe(),e),n(Qhe(),e),n(Jhe(),e),n(efe(),e),n(tfe(),e),n(nfe(),e),n(rfe(),e),n(ife(),e),n(ofe(),e),n(sfe(),e),n(afe(),e),n(lfe(),e),n(cfe(),e),n(ufe(),e),n(dfe(),e),n(hfe(),e),n(ffe(),e),n(pfe(),e),n(gfe(),e),n(mfe(),e),n(vfe(),e),n(yfe(),e),n(bfe(),e)})(qd)),qd}var fa=wfe();function Sfe(e){const t=e.vars.allList,n=is(t,i=>i.isArgument&&i.type),r=t.find(i=>i.isReturn)?.type??null;return{type:"user",name:e.name,argTypes:n,retType:r}}function Cfe(e,t){const n=oue(t);return e.forEach(r=>r.isFunction&&n.addUserFunc(Sfe(r))),n}class xfe{constructor({klass:t,lib:n,pluginsGetter:r}){this.type="codeEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.onError=new vi,this.onSaved=new vi,this.klass=t,this.lib=n,this.pluginsGetter=r,this.currentText=this.savedText=t.modelText.split(`\r
`).join(`
`),Ot(this,{currentLineNumber:Be.ref,currentColumnIndex:Be.ref,currentText:Be.ref,savedText:Be.ref,hasChanges:yi,save:Ee,setCurrentText:Ee,setCursorPosition:Ee})}get _reactKey(){return"code-"+this.klass.uuid}get title(){return this.klass.name+" (код)"}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){fa.assert(!this.isReadonly);try{const t=this.currentText.split(`
`).join(`\r
`),r=Cfe(this.lib.list,this.pluginsGetter()).transpile(t,this.klass.name,this.klass.file.path);if(r.bugs.length)throw Error(r.bugs.map(([i])=>` -${i}`).join(`
`));if(this.savedText===this.currentText)return;this.klass.vars.set(r.vars),this.klass.set({modelText:t,isFunction:r.isFunction}),this.savedText=this.currentText,this.onSaved.dispatch()}catch(t){if(!(t instanceof Error))return;this.onError.dispatch(t.message)}}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}var Jy={exports:{}},_fe=Jy.exports,KN;function kr(){return KN||(KN=1,(function(e,t){(function(n,r){e.exports=r()})(_fe,function(){var n=Array.prototype.slice;function r(x,V){V&&(x.prototype=Object.create(V.prototype)),x.prototype.constructor=x}function i(x){return c(x)?x:Ie(x)}r(o,i);function o(x){return u(x)?x:Pe(x)}r(s,i);function s(x){return h(x)?x:Re(x)}r(l,i);function l(x){return c(x)&&!p(x)?x:Fe(x)}function c(x){return!!(x&&x[m])}function u(x){return!!(x&&x[y])}function h(x){return!!(x&&x[b])}function p(x){return u(x)||h(x)}function g(x){return!!(x&&x[v])}i.isIterable=c,i.isKeyed=u,i.isIndexed=h,i.isAssociative=p,i.isOrdered=g,i.Keyed=o,i.Indexed=s,i.Set=l;var m="@@__IMMUTABLE_ITERABLE__@@",y="@@__IMMUTABLE_KEYED__@@",b="@@__IMMUTABLE_INDEXED__@@",v="@@__IMMUTABLE_ORDERED__@@",S="delete",E=5,T=1<<E,O=T-1,M={},I={value:!1},N={value:!1};function D(x){return x.value=!1,x}function L(x){x&&(x.value=!0)}function A(){}function $(x,V){V=V||0;for(var J=Math.max(0,x.length-V),ne=new Array(J),oe=0;oe<J;oe++)ne[oe]=x[oe+V];return ne}function j(x){return x.size===void 0&&(x.size=x.__iterate(K)),x.size}function U(x,V){if(typeof V!="number"){var J=V>>>0;if(""+J!==V||J===4294967295)return NaN;V=J}return V<0?j(x)+V:V}function K(){return!0}function q(x,V,J){return(x===0||J!==void 0&&x<=-J)&&(V===void 0||J!==void 0&&V>=J)}function z(x,V){return te(x,V,0)}function Y(x,V){return te(x,V,V)}function te(x,V,J){return x===void 0?J:x<0?Math.max(0,V+x):V===void 0?x:Math.min(V,x)}var ie=0,Q=1,H=2,X=typeof Symbol=="function"&&Symbol.iterator,he="@@iterator",pe=X||he;function ge(x){this.next=x}ge.prototype.toString=function(){return"[Iterator]"},ge.KEYS=ie,ge.VALUES=Q,ge.ENTRIES=H,ge.prototype.inspect=ge.prototype.toSource=function(){return this.toString()},ge.prototype[pe]=function(){return this};function ce(x,V,J,ne){var oe=x===0?V:x===1?J:[V,J];return ne?ne.value=oe:ne={value:oe,done:!1},ne}function be(){return{value:void 0,done:!0}}function Ne(x){return!!ye(x)}function _e(x){return x&&typeof x.next=="function"}function me(x){var V=ye(x);return V&&V.call(x)}function ye(x){var V=x&&(X&&x[X]||x[he]);if(typeof V=="function")return V}function xe(x){return x&&typeof x.length=="number"}r(Ie,i);function Ie(x){return x==null?yt():c(x)?x.toSeq():pn(x)}Ie.of=function(){return Ie(arguments)},Ie.prototype.toSeq=function(){return this},Ie.prototype.toString=function(){return this.__toString("Seq {","}")},Ie.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Ie.prototype.__iterate=function(x,V){return Mt(this,x,V,!0)},Ie.prototype.__iterator=function(x,V){return At(this,x,V,!0)},r(Pe,Ie);function Pe(x){return x==null?yt().toKeyedSeq():c(x)?u(x)?x.toSeq():x.fromEntrySeq():zt(x)}Pe.prototype.toKeyedSeq=function(){return this},r(Re,Ie);function Re(x){return x==null?yt():c(x)?u(x)?x.entrySeq():x.toIndexedSeq():jt(x)}Re.of=function(){return Re(arguments)},Re.prototype.toIndexedSeq=function(){return this},Re.prototype.toString=function(){return this.__toString("Seq [","]")},Re.prototype.__iterate=function(x,V){return Mt(this,x,V,!1)},Re.prototype.__iterator=function(x,V){return At(this,x,V,!1)},r(Fe,Ie);function Fe(x){return(x==null?yt():c(x)?u(x)?x.entrySeq():x:jt(x)).toSetSeq()}Fe.of=function(){return Fe(arguments)},Fe.prototype.toSetSeq=function(){return this},Ie.isSeq=Ke,Ie.Keyed=Pe,Ie.Set=Fe,Ie.Indexed=Re;var ft="@@__IMMUTABLE_SEQ__@@";Ie.prototype[ft]=!0,r(Ue,Re);function Ue(x){this._array=x,this.size=x.length}Ue.prototype.get=function(x,V){return this.has(x)?this._array[U(this,x)]:V},Ue.prototype.__iterate=function(x,V){for(var J=this._array,ne=J.length-1,oe=0;oe<=ne;oe++)if(x(J[V?ne-oe:oe],oe,this)===!1)return oe+1;return oe},Ue.prototype.__iterator=function(x,V){var J=this._array,ne=J.length-1,oe=0;return new ge(function(){return oe>ne?be():ce(x,oe,J[V?ne-oe++:oe++])})},r(Ft,Pe);function Ft(x){var V=Object.keys(x);this._object=x,this._keys=V,this.size=V.length}Ft.prototype.get=function(x,V){return V!==void 0&&!this.has(x)?V:this._object[x]},Ft.prototype.has=function(x){return this._object.hasOwnProperty(x)},Ft.prototype.__iterate=function(x,V){for(var J=this._object,ne=this._keys,oe=ne.length-1,ve=0;ve<=oe;ve++){var we=ne[V?oe-ve:ve];if(x(J[we],we,this)===!1)return ve+1}return ve},Ft.prototype.__iterator=function(x,V){var J=this._object,ne=this._keys,oe=ne.length-1,ve=0;return new ge(function(){var we=ne[V?oe-ve:ve];return ve++>oe?be():ce(x,we,J[we])})},Ft.prototype[v]=!0,r(Ct,Re);function Ct(x){this._iterable=x,this.size=x.length||x.size}Ct.prototype.__iterateUncached=function(x,V){if(V)return this.cacheResult().__iterate(x,V);var J=this._iterable,ne=me(J),oe=0;if(_e(ne))for(var ve;!(ve=ne.next()).done&&x(ve.value,oe++,this)!==!1;);return oe},Ct.prototype.__iteratorUncached=function(x,V){if(V)return this.cacheResult().__iterator(x,V);var J=this._iterable,ne=me(J);if(!_e(ne))return new ge(be);var oe=0;return new ge(function(){var ve=ne.next();return ve.done?ve:ce(x,oe++,ve.value)})},r(Rt,Re);function Rt(x){this._iterator=x,this._iteratorCache=[]}Rt.prototype.__iterateUncached=function(x,V){if(V)return this.cacheResult().__iterate(x,V);for(var J=this._iterator,ne=this._iteratorCache,oe=0;oe<ne.length;)if(x(ne[oe],oe++,this)===!1)return oe;for(var ve;!(ve=J.next()).done;){var we=ve.value;if(ne[oe]=we,x(we,oe++,this)===!1)break}return oe},Rt.prototype.__iteratorUncached=function(x,V){if(V)return this.cacheResult().__iterator(x,V);var J=this._iterator,ne=this._iteratorCache,oe=0;return new ge(function(){if(oe>=ne.length){var ve=J.next();if(ve.done)return ve;ne[oe]=ve.value}return ce(x,oe,ne[oe++])})};function Ke(x){return!!(x&&x[ft])}var $t;function yt(){return $t||($t=new Ue([]))}function zt(x){var V=Array.isArray(x)?new Ue(x).fromEntrySeq():_e(x)?new Rt(x).fromEntrySeq():Ne(x)?new Ct(x).fromEntrySeq():typeof x=="object"?new Ft(x):void 0;if(!V)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+x);return V}function jt(x){var V=un(x);if(!V)throw new TypeError("Expected Array or iterable object of values: "+x);return V}function pn(x){var V=un(x)||typeof x=="object"&&new Ft(x);if(!V)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+x);return V}function un(x){return xe(x)?new Ue(x):_e(x)?new Rt(x):Ne(x)?new Ct(x):void 0}function Mt(x,V,J,ne){var oe=x._cache;if(oe){for(var ve=oe.length-1,we=0;we<=ve;we++){var De=oe[J?ve-we:we];if(V(De[1],ne?De[0]:we,x)===!1)return we+1}return we}return x.__iterateUncached(V,J)}function At(x,V,J,ne){var oe=x._cache;if(oe){var ve=oe.length-1,we=0;return new ge(function(){var De=oe[J?ve-we:we];return we++>ve?be():ce(V,ne?De[0]:we-1,De[1])})}return x.__iteratorUncached(V,J)}function Ye(x,V){return V?xt(V,x,"",{"":x}):St(x)}function xt(x,V,J,ne){return Array.isArray(V)?x.call(ne,J,Re(V).map(function(oe,ve){return xt(x,oe,ve,V)})):nt(V)?x.call(ne,J,Pe(V).map(function(oe,ve){return xt(x,oe,ve,V)})):V}function St(x){return Array.isArray(x)?Re(x).map(St).toList():nt(x)?Pe(x).map(St).toMap():x}function nt(x){return x&&(x.constructor===Object||x.constructor===void 0)}function mt(x,V){if(x===V||x!==x&&V!==V)return!0;if(!x||!V)return!1;if(typeof x.valueOf=="function"&&typeof V.valueOf=="function"){if(x=x.valueOf(),V=V.valueOf(),x===V||x!==x&&V!==V)return!0;if(!x||!V)return!1}return!!(typeof x.equals=="function"&&typeof V.equals=="function"&&x.equals(V))}function Pt(x,V){if(x===V)return!0;if(!c(V)||x.size!==void 0&&V.size!==void 0&&x.size!==V.size||x.__hash!==void 0&&V.__hash!==void 0&&x.__hash!==V.__hash||u(x)!==u(V)||h(x)!==h(V)||g(x)!==g(V))return!1;if(x.size===0&&V.size===0)return!0;var J=!p(x);if(g(x)){var ne=x.entries();return V.every(function(Xe,at){var ht=ne.next().value;return ht&&mt(ht[1],Xe)&&(J||mt(ht[0],at))})&&ne.next().done}var oe=!1;if(x.size===void 0)if(V.size===void 0)typeof x.cacheResult=="function"&&x.cacheResult();else{oe=!0;var ve=x;x=V,V=ve}var we=!0,De=V.__iterate(function(Xe,at){if(J?!x.has(Xe):oe?!mt(Xe,x.get(at,M)):!mt(x.get(at,M),Xe))return we=!1,!1});return we&&x.size===De}r(Et,Re);function Et(x,V){if(!(this instanceof Et))return new Et(x,V);if(this._value=x,this.size=V===void 0?1/0:Math.max(0,V),this.size===0){if(Nt)return Nt;Nt=this}}Et.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Et.prototype.get=function(x,V){return this.has(x)?this._value:V},Et.prototype.includes=function(x){return mt(this._value,x)},Et.prototype.slice=function(x,V){var J=this.size;return q(x,V,J)?this:new Et(this._value,Y(V,J)-z(x,J))},Et.prototype.reverse=function(){return this},Et.prototype.indexOf=function(x){return mt(this._value,x)?0:-1},Et.prototype.lastIndexOf=function(x){return mt(this._value,x)?this.size:-1},Et.prototype.__iterate=function(x,V){for(var J=0;J<this.size;J++)if(x(this._value,J,this)===!1)return J+1;return J},Et.prototype.__iterator=function(x,V){var J=this,ne=0;return new ge(function(){return ne<J.size?ce(x,ne++,J._value):be()})},Et.prototype.equals=function(x){return x instanceof Et?mt(this._value,x._value):Pt(x)};var Nt;function nr(x,V){if(!x)throw new Error(V)}r(An,Re);function An(x,V,J){if(!(this instanceof An))return new An(x,V,J);if(nr(J!==0,"Cannot step a Range by 0"),x=x||0,V===void 0&&(V=1/0),J=J===void 0?1:Math.abs(J),V<x&&(J=-J),this._start=x,this._end=V,this._step=J,this.size=Math.max(0,Math.ceil((V-x)/J-1)+1),this.size===0){if(Cr)return Cr;Cr=this}}An.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},An.prototype.get=function(x,V){return this.has(x)?this._start+U(this,x)*this._step:V},An.prototype.includes=function(x){var V=(x-this._start)/this._step;return V>=0&&V<this.size&&V===Math.floor(V)},An.prototype.slice=function(x,V){return q(x,V,this.size)?this:(x=z(x,this.size),V=Y(V,this.size),V<=x?new An(0,0):new An(this.get(x,this._end),this.get(V,this._end),this._step))},An.prototype.indexOf=function(x){var V=x-this._start;if(V%this._step===0){var J=V/this._step;if(J>=0&&J<this.size)return J}return-1},An.prototype.lastIndexOf=function(x){return this.indexOf(x)},An.prototype.__iterate=function(x,V){for(var J=this.size-1,ne=this._step,oe=V?this._start+J*ne:this._start,ve=0;ve<=J;ve++){if(x(oe,ve,this)===!1)return ve+1;oe+=V?-ne:ne}return ve},An.prototype.__iterator=function(x,V){var J=this.size-1,ne=this._step,oe=V?this._start+J*ne:this._start,ve=0;return new ge(function(){var we=oe;return oe+=V?-ne:ne,ve>J?be():ce(x,ve++,we)})},An.prototype.equals=function(x){return x instanceof An?this._start===x._start&&this._end===x._end&&this._step===x._step:Pt(this,x)};var Cr;r(rr,i);function rr(){throw TypeError("Abstract")}r(mr,rr);function mr(){}r(bt,rr);function bt(){}r(Fr,rr);function Fr(){}rr.Keyed=mr,rr.Indexed=bt,rr.Set=Fr;var ai=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(V,J){V=V|0,J=J|0;var ne=V&65535,oe=J&65535;return ne*oe+((V>>>16)*oe+ne*(J>>>16)<<16>>>0)|0};function Jt(x){return x>>>1&1073741824|x&3221225471}function Gn(x){if(x===!1||x===null||x===void 0||typeof x.valueOf=="function"&&(x=x.valueOf(),x===!1||x===null||x===void 0))return 0;if(x===!0)return 1;var V=typeof x;if(V==="number"){var J=x|0;for(J!==x&&(J^=x*4294967295);x>4294967295;)x/=4294967295,J^=x;return Jt(J)}if(V==="string")return x.length>yn?Bt(x):en(x);if(typeof x.hashCode=="function")return x.hashCode();if(V==="object")return Sn(x);if(typeof x.toString=="function")return en(x.toString());throw new Error("Value type "+V+" cannot be hashed.")}function Bt(x){var V=zo[x];return V===void 0&&(V=en(x),Pi===ir&&(Pi=0,zo={}),Pi++,zo[x]=V),V}function en(x){for(var V=0,J=0;J<x.length;J++)V=31*V+x.charCodeAt(J)|0;return Jt(V)}function Sn(x){var V;if(Qr&&(V=Vi.get(x),V!==void 0)||(V=x[Mr],V!==void 0)||!Mn&&(V=x.propertyIsEnumerable&&x.propertyIsEnumerable[Mr],V!==void 0||(V=hi(x),V!==void 0)))return V;if(V=++Ao,Ao&1073741824&&(Ao=0),Qr)Vi.set(x,V);else{if(Tn!==void 0&&Tn(x)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Mn)Object.defineProperty(x,Mr,{enumerable:!1,configurable:!1,writable:!1,value:V});else if(x.propertyIsEnumerable!==void 0&&x.propertyIsEnumerable===x.constructor.prototype.propertyIsEnumerable)x.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},x.propertyIsEnumerable[Mr]=V;else if(x.nodeType!==void 0)x[Mr]=V;else throw new Error("Unable to set a non-enumerable property on object.")}return V}var Tn=Object.isExtensible,Mn=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function hi(x){if(x&&x.nodeType>0)switch(x.nodeType){case 1:return x.uniqueID;case 9:return x.documentElement&&x.documentElement.uniqueID}}var Qr=typeof WeakMap=="function",Vi;Qr&&(Vi=new WeakMap);var Ao=0,Mr="__immutablehash__";typeof Symbol=="function"&&(Mr=Symbol(Mr));var yn=16,ir=255,Pi=0,zo={};function fi(x){nr(x!==1/0,"Cannot perform this action with an infinite size.")}r(Vn,mr);function Vn(x){return x==null?Jr():st(x)&&!g(x)?x:Jr().withMutations(function(V){var J=o(x);fi(J.size),J.forEach(function(ne,oe){return V.set(oe,ne)})})}Vn.prototype.toString=function(){return this.__toString("Map {","}")},Vn.prototype.get=function(x,V){return this._root?this._root.get(0,void 0,x,V):V},Vn.prototype.set=function(x,V){return wo(this,x,V)},Vn.prototype.setIn=function(x,V){return this.updateIn(x,M,function(){return V})},Vn.prototype.remove=function(x){return wo(this,x,M)},Vn.prototype.deleteIn=function(x){return this.updateIn(x,function(){return M})},Vn.prototype.update=function(x,V,J){return arguments.length===1?x(this):this.updateIn([x],V,J)},Vn.prototype.updateIn=function(x,V,J){J||(J=V,V=void 0);var ne=Yu(this,uc(x),V,J);return ne===M?void 0:ne},Vn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Jr()},Vn.prototype.merge=function(){return Jo(this,void 0,arguments)},Vn.prototype.mergeWith=function(x){var V=n.call(arguments,1);return Jo(this,x,V)},Vn.prototype.mergeIn=function(x){var V=n.call(arguments,1);return this.updateIn(x,Jr(),function(J){return typeof J.merge=="function"?J.merge.apply(J,V):V[V.length-1]})},Vn.prototype.mergeDeep=function(){return Jo(this,Qs,arguments)},Vn.prototype.mergeDeepWith=function(x){var V=n.call(arguments,1);return Jo(this,ja(x),V)},Vn.prototype.mergeDeepIn=function(x){var V=n.call(arguments,1);return this.updateIn(x,Jr(),function(J){return typeof J.mergeDeep=="function"?J.mergeDeep.apply(J,V):V[V.length-1]})},Vn.prototype.sort=function(x){return ar(Rs(this,x))},Vn.prototype.sortBy=function(x,V){return ar(Rs(this,V,x))},Vn.prototype.withMutations=function(x){var V=this.asMutable();return x(V),V.wasAltered()?V.__ensureOwner(this.__ownerID):this},Vn.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new A)},Vn.prototype.asImmutable=function(){return this.__ensureOwner()},Vn.prototype.wasAltered=function(){return this.__altered},Vn.prototype.__iterator=function(x,V){return new bo(this,x,V)},Vn.prototype.__iterate=function(x,V){var J=this,ne=0;return this._root&&this._root.iterate(function(oe){return ne++,x(oe[1],oe[0],J)},V),ne},Vn.prototype.__ensureOwner=function(x){return x===this.__ownerID?this:x?Lo(this.size,this._root,x,this.__hash):(this.__ownerID=x,this.__altered=!1,this)};function st(x){return!!(x&&x[et])}Vn.isMap=st;var et="@@__IMMUTABLE_MAP__@@",wt=Vn.prototype;wt[et]=!0,wt[S]=wt.remove,wt.removeIn=wt.deleteIn;function qt(x,V){this.ownerID=x,this.entries=V}qt.prototype.get=function(x,V,J,ne){for(var oe=this.entries,ve=0,we=oe.length;ve<we;ve++)if(mt(J,oe[ve][0]))return oe[ve][1];return ne},qt.prototype.update=function(x,V,J,ne,oe,ve,we){for(var De=oe===M,Xe=this.entries,at=0,ht=Xe.length;at<ht&&!mt(ne,Xe[at][0]);at++);var Gt=at<ht;if(Gt?Xe[at][1]===oe:De)return this;if(L(we),(De||!Gt)&&L(ve),!(De&&Xe.length===1)){if(!Gt&&!De&&Xe.length>=ds)return $i(x,Xe,ne,oe);var Zt=x&&x===this.ownerID,kn=Zt?Xe:$(Xe);return Gt?De?at===ht-1?kn.pop():kn[at]=kn.pop():kn[at]=[ne,oe]:kn.push([ne,oe]),Zt?(this.entries=kn,this):new qt(x,kn)}};function sn(x,V,J){this.ownerID=x,this.bitmap=V,this.nodes=J}sn.prototype.get=function(x,V,J,ne){V===void 0&&(V=Gn(J));var oe=1<<((x===0?V:V>>>x)&O),ve=this.bitmap;return(ve&oe)===0?ne:this.nodes[So(ve&oe-1)].get(x+E,V,J,ne)},sn.prototype.update=function(x,V,J,ne,oe,ve,we){J===void 0&&(J=Gn(ne));var De=(V===0?J:J>>>V)&O,Xe=1<<De,at=this.bitmap,ht=(at&Xe)!==0;if(!ht&&oe===M)return this;var Gt=So(at&Xe-1),Zt=this.nodes,kn=ht?Zt[Gt]:void 0,Kn=Qo(kn,x,V+E,J,ne,oe,ve,we);if(Kn===kn)return this;if(!ht&&Kn&&Zt.length>=sc)return Ms(x,Zt,at,De,Kn);if(ht&&!Kn&&Zt.length===2&&Ba(Zt[Gt^1]))return Zt[Gt^1];if(ht&&Kn&&Zt.length===1&&Ba(Kn))return Kn;var wr=x&&x===this.ownerID,Pr=ht?Kn?at:at^Xe:at|Xe,rs=ht?Kn?Os(Zt,Gt,Kn,wr):oc(Zt,Gt,wr):ic(Zt,Gt,Kn,wr);return wr?(this.bitmap=Pr,this.nodes=rs,this):new sn(x,Pr,rs)};function vr(x,V,J){this.ownerID=x,this.count=V,this.nodes=J}vr.prototype.get=function(x,V,J,ne){V===void 0&&(V=Gn(J));var oe=(x===0?V:V>>>x)&O,ve=this.nodes[oe];return ve?ve.get(x+E,V,J,ne):ne},vr.prototype.update=function(x,V,J,ne,oe,ve,we){J===void 0&&(J=Gn(ne));var De=(V===0?J:J>>>V)&O,Xe=oe===M,at=this.nodes,ht=at[De];if(Xe&&!ht)return this;var Gt=Qo(ht,x,V+E,J,ne,oe,ve,we);if(Gt===ht)return this;var Zt=this.count;if(!ht)Zt++;else if(!Gt&&(Zt--,Zt<ac))return Wn(x,at,Zt,De);var kn=x&&x===this.ownerID,Kn=Os(at,De,Gt,kn);return kn?(this.count=Zt,this.nodes=Kn,this):new vr(x,Zt,Kn)};function or(x,V,J){this.ownerID=x,this.keyHash=V,this.entries=J}or.prototype.get=function(x,V,J,ne){for(var oe=this.entries,ve=0,we=oe.length;ve<we;ve++)if(mt(J,oe[ve][0]))return oe[ve][1];return ne},or.prototype.update=function(x,V,J,ne,oe,ve,we){J===void 0&&(J=Gn(ne));var De=oe===M;if(J!==this.keyHash)return De?this:(L(we),L(ve),Fa(this,x,V,J,[ne,oe]));for(var Xe=this.entries,at=0,ht=Xe.length;at<ht&&!mt(ne,Xe[at][0]);at++);var Gt=at<ht;if(Gt?Xe[at][1]===oe:De)return this;if(L(we),(De||!Gt)&&L(ve),De&&ht===2)return new zn(x,this.keyHash,Xe[at^1]);var Zt=x&&x===this.ownerID,kn=Zt?Xe:$(Xe);return Gt?De?at===ht-1?kn.pop():kn[at]=kn.pop():kn[at]=[ne,oe]:kn.push([ne,oe]),Zt?(this.entries=kn,this):new or(x,this.keyHash,kn)};function zn(x,V,J){this.ownerID=x,this.keyHash=V,this.entry=J}zn.prototype.get=function(x,V,J,ne){return mt(J,this.entry[0])?this.entry[1]:ne},zn.prototype.update=function(x,V,J,ne,oe,ve,we){var De=oe===M,Xe=mt(ne,this.entry[0]);if(Xe?oe===this.entry[1]:De)return this;if(L(we),De){L(ve);return}return Xe?x&&x===this.ownerID?(this.entry[1]=oe,this):new zn(x,this.keyHash,[ne,oe]):(L(ve),Fa(this,x,V,Gn(ne),[ne,oe]))},qt.prototype.iterate=or.prototype.iterate=function(x,V){for(var J=this.entries,ne=0,oe=J.length-1;ne<=oe;ne++)if(x(J[V?oe-ne:ne])===!1)return!1},sn.prototype.iterate=vr.prototype.iterate=function(x,V){for(var J=this.nodes,ne=0,oe=J.length-1;ne<=oe;ne++){var ve=J[V?oe-ne:ne];if(ve&&ve.iterate(x,V)===!1)return!1}},zn.prototype.iterate=function(x,V){return x(this.entry)},r(bo,ge);function bo(x,V,J){this._type=V,this._reverse=J,this._stack=x._root&&to(x._root)}bo.prototype.next=function(){for(var x=this._type,V=this._stack;V;){var J=V.node,ne=V.index++,oe;if(J.entry){if(ne===0)return Ts(x,J.entry)}else if(J.entries){if(oe=J.entries.length-1,ne<=oe)return Ts(x,J.entries[this._reverse?oe-ne:ne])}else if(oe=J.nodes.length-1,ne<=oe){var ve=J.nodes[this._reverse?oe-ne:ne];if(ve){if(ve.entry)return Ts(x,ve.entry);V=this._stack=to(ve,V)}continue}V=this._stack=this._stack.__prev}return be()};function Ts(x,V){return ce(x,V[0],V[1])}function to(x,V){return{node:x,index:0,__prev:V}}function Lo(x,V,J,ne){var oe=Object.create(wt);return oe.size=x,oe._root=V,oe.__ownerID=J,oe.__hash=ne,oe.__altered=!1,oe}var $n;function Jr(){return $n||($n=Lo(0))}function wo(x,V,J){var ne,oe;if(x._root){var ve=D(I),we=D(N);if(ne=Qo(x._root,x.__ownerID,0,void 0,V,J,ve,we),!we.value)return x;oe=x.size+(ve.value?J===M?-1:1:0)}else{if(J===M)return x;oe=1,ne=new qt(x.__ownerID,[[V,J]])}return x.__ownerID?(x.size=oe,x._root=ne,x.__hash=void 0,x.__altered=!0,x):ne?Lo(oe,ne):Jr()}function Qo(x,V,J,ne,oe,ve,we,De){return x?x.update(V,J,ne,oe,ve,we,De):ve===M?x:(L(De),L(we),new zn(V,ne,[oe,ve]))}function Ba(x){return x.constructor===zn||x.constructor===or}function Fa(x,V,J,ne,oe){if(x.keyHash===ne)return new or(V,ne,[x.entry,oe]);var ve=(J===0?x.keyHash:x.keyHash>>>J)&O,we=(J===0?ne:ne>>>J)&O,De,Xe=ve===we?[Fa(x,V,J+E,ne,oe)]:(De=new zn(V,ne,oe),ve<we?[x,De]:[De,x]);return new sn(V,1<<ve|1<<we,Xe)}function $i(x,V,J,ne){x||(x=new A);for(var oe=new zn(x,Gn(J),[J,ne]),ve=0;ve<V.length;ve++){var we=V[ve];oe=oe.update(x,0,void 0,we[0],we[1])}return oe}function Wn(x,V,J,ne){for(var oe=0,ve=0,we=new Array(J),De=0,Xe=1,at=V.length;De<at;De++,Xe<<=1){var ht=V[De];ht!==void 0&&De!==ne&&(oe|=Xe,we[ve++]=ht)}return new sn(x,oe,we)}function Ms(x,V,J,ne,oe){for(var ve=0,we=new Array(T),De=0;J!==0;De++,J>>>=1)we[De]=J&1?V[ve++]:void 0;return we[ne]=oe,new vr(x,ve+1,we)}function Jo(x,V,J){for(var ne=[],oe=0;oe<J.length;oe++){var ve=J[oe],we=o(ve);c(ve)||(we=we.map(function(De){return Ye(De)})),ne.push(we)}return Js(x,V,ne)}function Qs(x,V,J){return x&&x.mergeDeep&&c(V)?x.mergeDeep(V):mt(x,V)?x:V}function ja(x){return function(V,J,ne){if(V&&V.mergeDeepWith&&c(J))return V.mergeDeepWith(x,J);var oe=x(V,J,ne);return mt(V,oe)?V:oe}}function Js(x,V,J){return J=J.filter(function(ne){return ne.size!==0}),J.length===0?x:x.size===0&&!x.__ownerID&&J.length===1?x.constructor(J[0]):x.withMutations(function(ne){for(var oe=V?function(we,De){ne.update(De,M,function(Xe){return Xe===M?we:V(Xe,we,De)})}:function(we,De){ne.set(De,we)},ve=0;ve<J.length;ve++)J[ve].forEach(oe)})}function Yu(x,V,J,ne){var oe=x===M,ve=V.next();if(ve.done){var we=oe?J:x,De=ne(we);return De===we?x:De}nr(oe||x&&x.set,"invalid keyPath");var Xe=ve.value,at=oe?M:x.get(Xe,M),ht=Yu(at,V,J,ne);return ht===at?x:ht===M?x.remove(Xe):(oe?Jr():x).set(Xe,ht)}function So(x){return x=x-(x>>1&1431655765),x=(x&858993459)+(x>>2&858993459),x=x+(x>>4)&252645135,x=x+(x>>8),x=x+(x>>16),x&127}function Os(x,V,J,ne){var oe=ne?x:$(x);return oe[V]=J,oe}function ic(x,V,J,ne){var oe=x.length+1;if(ne&&V+1===oe)return x[V]=J,x;for(var ve=new Array(oe),we=0,De=0;De<oe;De++)De===V?(ve[De]=J,we=-1):ve[De]=x[De+we];return ve}function oc(x,V,J){var ne=x.length-1;if(J&&V===ne)return x.pop(),x;for(var oe=new Array(ne),ve=0,we=0;we<ne;we++)we===V&&(ve=1),oe[we]=x[we+ve];return oe}var ds=T/4,sc=T/2,ac=T/4;r(cr,bt);function cr(x){var V=wl();if(x==null)return V;if(Xu(x))return x;var J=s(x),ne=J.size;return ne===0?V:(fi(ne),ne>0&&ne<T?no(0,ne,E,null,new Di(J.toArray())):V.withMutations(function(oe){oe.setSize(ne),J.forEach(function(ve,we){return oe.set(we,ve)})}))}cr.of=function(){return this(arguments)},cr.prototype.toString=function(){return this.__toString("List [","]")},cr.prototype.get=function(x,V){if(x=U(this,x),x>=0&&x<this.size){x+=this._origin;var J=lc(this,x);return J&&J.array[x&O]}return V},cr.prototype.set=function(x,V){return dn(this,x,V)},cr.prototype.remove=function(x){return this.has(x)?x===0?this.shift():x===this.size-1?this.pop():this.splice(x,1):this},cr.prototype.insert=function(x,V){return this.splice(x,0,V)},cr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=E,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):wl()},cr.prototype.push=function(){var x=arguments,V=this.size;return this.withMutations(function(J){No(J,0,V+x.length);for(var ne=0;ne<x.length;ne++)J.set(V+ne,x[ne])})},cr.prototype.pop=function(){return No(this,0,-1)},cr.prototype.unshift=function(){var x=arguments;return this.withMutations(function(V){No(V,-x.length);for(var J=0;J<x.length;J++)V.set(J,x[J])})},cr.prototype.shift=function(){return No(this,1)},cr.prototype.merge=function(){return hs(this,void 0,arguments)},cr.prototype.mergeWith=function(x){var V=n.call(arguments,1);return hs(this,x,V)},cr.prototype.mergeDeep=function(){return hs(this,Qs,arguments)},cr.prototype.mergeDeepWith=function(x){var V=n.call(arguments,1);return hs(this,ja(x),V)},cr.prototype.setSize=function(x){return No(this,0,x)},cr.prototype.slice=function(x,V){var J=this.size;return q(x,V,J)?this:No(this,z(x,J),Y(V,J))},cr.prototype.__iterator=function(x,V){var J=0,ne=es(this,V);return new ge(function(){var oe=ne();return oe===ea?be():ce(x,J++,oe)})},cr.prototype.__iterate=function(x,V){for(var J=0,ne=es(this,V),oe;(oe=ne())!==ea&&x(oe,J++,this)!==!1;);return J},cr.prototype.__ensureOwner=function(x){return x===this.__ownerID?this:x?no(this._origin,this._capacity,this._level,this._root,this._tail,x,this.__hash):(this.__ownerID=x,this)};function Xu(x){return!!(x&&x[Va])}cr.isList=Xu;var Va="@@__IMMUTABLE_LIST__@@",li=cr.prototype;li[Va]=!0,li[S]=li.remove,li.setIn=wt.setIn,li.deleteIn=li.removeIn=wt.removeIn,li.update=wt.update,li.updateIn=wt.updateIn,li.mergeIn=wt.mergeIn,li.mergeDeepIn=wt.mergeDeepIn,li.withMutations=wt.withMutations,li.asMutable=wt.asMutable,li.asImmutable=wt.asImmutable,li.wasAltered=wt.wasAltered;function Di(x,V){this.array=x,this.ownerID=V}Di.prototype.removeBefore=function(x,V,J){if(J===V?1<<V:this.array.length===0)return this;var ne=J>>>V&O;if(ne>=this.array.length)return new Di([],x);var oe=ne===0,ve;if(V>0){var we=this.array[ne];if(ve=we&&we.removeBefore(x,V-E,J),ve===we&&oe)return this}if(oe&&!ve)return this;var De=Yi(this,x);if(!oe)for(var Xe=0;Xe<ne;Xe++)De.array[Xe]=void 0;return ve&&(De.array[ne]=ve),De},Di.prototype.removeAfter=function(x,V,J){if(J===(V?1<<V:0)||this.array.length===0)return this;var ne=J-1>>>V&O;if(ne>=this.array.length)return this;var oe;if(V>0){var ve=this.array[ne];if(oe=ve&&ve.removeAfter(x,V-E,J),oe===ve&&ne===this.array.length-1)return this}var we=Yi(this,x);return we.array.splice(ne+1),oe&&(we.array[ne]=oe),we};var ea={};function es(x,V){var J=x._origin,ne=x._capacity,oe=Ai(ne),ve=x._tail;return we(x._root,x._level,0);function we(at,ht,Gt){return ht===0?De(at,Gt):Xe(at,ht,Gt)}function De(at,ht){var Gt=ht===oe?ve&&ve.array:at&&at.array,Zt=ht>J?0:J-ht,kn=ne-ht;return kn>T&&(kn=T),function(){if(Zt===kn)return ea;var Kn=V?--kn:Zt++;return Gt&&Gt[Kn]}}function Xe(at,ht,Gt){var Zt,kn=at&&at.array,Kn=Gt>J?0:J-Gt>>ht,wr=(ne-Gt>>ht)+1;return wr>T&&(wr=T),function(){do{if(Zt){var Pr=Zt();if(Pr!==ea)return Pr;Zt=null}if(Kn===wr)return ea;var rs=V?--wr:Kn++;Zt=we(kn&&kn[rs],ht-E,Gt+(rs<<ht))}while(!0)}}}function no(x,V,J,ne,oe,ve,we){var De=Object.create(li);return De.size=V-x,De._origin=x,De._capacity=V,De._level=J,De._root=ne,De._tail=oe,De.__ownerID=ve,De.__hash=we,De.__altered=!1,De}var ro;function wl(){return ro||(ro=no(0,0,E))}function dn(x,V,J){if(V=U(x,V),V!==V)return x;if(V>=x.size||V<0)return x.withMutations(function(we){V<0?No(we,V).set(0,J):No(we,0,V+1).set(V,J)});V+=x._origin;var ne=x._tail,oe=x._root,ve=D(N);return V>=Ai(x._capacity)?ne=ts(ne,x.__ownerID,0,V,J,ve):oe=ts(oe,x.__ownerID,x._level,V,J,ve),ve.value?x.__ownerID?(x._root=oe,x._tail=ne,x.__hash=void 0,x.__altered=!0,x):no(x._origin,x._capacity,x._level,oe,ne):x}function ts(x,V,J,ne,oe,ve){var we=ne>>>J&O,De=x&&we<x.array.length;if(!De&&oe===void 0)return x;var Xe;if(J>0){var at=x&&x.array[we],ht=ts(at,V,J-E,ne,oe,ve);return ht===at?x:(Xe=Yi(x,V),Xe.array[we]=ht,Xe)}return De&&x.array[we]===oe?x:(L(ve),Xe=Yi(x,V),oe===void 0&&we===Xe.array.length-1?Xe.array.pop():Xe.array[we]=oe,Xe)}function Yi(x,V){return V&&x&&V===x.ownerID?x:new Di(x?x.array.slice():[],V)}function lc(x,V){if(V>=Ai(x._capacity))return x._tail;if(V<1<<x._level+E){for(var J=x._root,ne=x._level;J&&ne>0;)J=J.array[V>>>ne&O],ne-=E;return J}}function No(x,V,J){V!==void 0&&(V=V|0),J!==void 0&&(J=J|0);var ne=x.__ownerID||new A,oe=x._origin,ve=x._capacity,we=oe+V,De=J===void 0?ve:J<0?ve+J:oe+J;if(we===oe&&De===ve)return x;if(we>=De)return x.clear();for(var Xe=x._level,at=x._root,ht=0;we+ht<0;)at=new Di(at&&at.array.length?[void 0,at]:[],ne),Xe+=E,ht+=1<<Xe;ht&&(we+=ht,oe+=ht,De+=ht,ve+=ht);for(var Gt=Ai(ve),Zt=Ai(De);Zt>=1<<Xe+E;)at=new Di(at&&at.array.length?[at]:[],ne),Xe+=E;var kn=x._tail,Kn=Zt<Gt?lc(x,De-1):Zt>Gt?new Di([],ne):kn;if(kn&&Zt>Gt&&we<ve&&kn.array.length){at=Yi(at,ne);for(var wr=at,Pr=Xe;Pr>E;Pr-=E){var rs=Gt>>>Pr&O;wr=wr.array[rs]=Yi(wr.array[rs],ne)}wr.array[Gt>>>E&O]=kn}if(De<ve&&(Kn=Kn&&Kn.removeAfter(ne,0,De)),we>=Zt)we-=Zt,De-=Zt,Xe=E,at=null,Kn=Kn&&Kn.removeBefore(ne,0,we);else if(we>oe||Zt<Gt){for(ht=0;at;){var xl=we>>>Xe&O;if(xl!==Zt>>>Xe&O)break;xl&&(ht+=(1<<Xe)*xl),Xe-=E,at=at.array[xl]}at&&we>oe&&(at=at.removeBefore(ne,Xe,we-ht)),at&&Zt<Gt&&(at=at.removeAfter(ne,Xe,Zt-ht)),ht&&(we-=ht,De-=ht)}return x.__ownerID?(x.size=De-we,x._origin=we,x._capacity=De,x._level=Xe,x._root=at,x._tail=Kn,x.__hash=void 0,x.__altered=!0,x):no(we,De,Xe,at,Kn)}function hs(x,V,J){for(var ne=[],oe=0,ve=0;ve<J.length;ve++){var we=J[ve],De=s(we);De.size>oe&&(oe=De.size),c(we)||(De=De.map(function(Xe){return Ye(Xe)})),ne.push(De)}return oe>x.size&&(x=x.setSize(oe)),Js(x,V,ne)}function Ai(x){return x<T?0:x-1>>>E<<E}r(ar,Vn);function ar(x){return x==null?re():$a(x)?x:re().withMutations(function(V){var J=o(x);fi(J.size),J.forEach(function(ne,oe){return V.set(oe,ne)})})}ar.of=function(){return this(arguments)},ar.prototype.toString=function(){return this.__toString("OrderedMap {","}")},ar.prototype.get=function(x,V){var J=this._map.get(x);return J!==void 0?this._list.get(J)[1]:V},ar.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):re()},ar.prototype.set=function(x,V){return ue(this,x,V)},ar.prototype.remove=function(x){return ue(this,x,M)},ar.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},ar.prototype.__iterate=function(x,V){var J=this;return this._list.__iterate(function(ne){return ne&&x(ne[1],ne[0],J)},V)},ar.prototype.__iterator=function(x,V){return this._list.fromEntrySeq().__iterator(x,V)},ar.prototype.__ensureOwner=function(x){if(x===this.__ownerID)return this;var V=this._map.__ensureOwner(x),J=this._list.__ensureOwner(x);return x?B(V,J,x,this.__hash):(this.__ownerID=x,this._map=V,this._list=J,this)};function $a(x){return st(x)&&g(x)}ar.isOrderedMap=$a,ar.prototype[v]=!0,ar.prototype[S]=ar.prototype.remove;function B(x,V,J,ne){var oe=Object.create(ar.prototype);return oe.size=x?x.size:0,oe._map=x,oe._list=V,oe.__ownerID=J,oe.__hash=ne,oe}var G;function re(){return G||(G=B(Jr(),wl()))}function ue(x,V,J){var ne=x._map,oe=x._list,ve=ne.get(V),we=ve!==void 0,De,Xe;if(J===M){if(!we)return x;oe.size>=T&&oe.size>=ne.size*2?(Xe=oe.filter(function(at,ht){return at!==void 0&&ve!==ht}),De=Xe.toKeyedSeq().map(function(at){return at[0]}).flip().toMap(),x.__ownerID&&(De.__ownerID=Xe.__ownerID=x.__ownerID)):(De=ne.remove(V),Xe=ve===oe.size-1?oe.pop():oe.set(ve,void 0))}else if(we){if(J===oe.get(ve)[1])return x;De=ne,Xe=oe.set(ve,[V,J])}else De=ne.set(V,oe.size),Xe=oe.set(oe.size,[V,J]);return x.__ownerID?(x.size=De.size,x._map=De,x._list=Xe,x.__hash=void 0,x):B(De,Xe)}r(Se,Pe);function Se(x,V){this._iter=x,this._useKeys=V,this.size=x.size}Se.prototype.get=function(x,V){return this._iter.get(x,V)},Se.prototype.has=function(x){return this._iter.has(x)},Se.prototype.valueSeq=function(){return this._iter.valueSeq()},Se.prototype.reverse=function(){var x=this,V=Or(this,!0);return this._useKeys||(V.valueSeq=function(){return x._iter.toSeq().reverse()}),V},Se.prototype.map=function(x,V){var J=this,ne=In(this,x,V);return this._useKeys||(ne.valueSeq=function(){return J._iter.toSeq().map(x,V)}),ne},Se.prototype.__iterate=function(x,V){var J=this,ne;return this._iter.__iterate(this._useKeys?function(oe,ve){return x(oe,ve,J)}:(ne=V?$c(this):0,function(oe){return x(oe,V?--ne:ne++,J)}),V)},Se.prototype.__iterator=function(x,V){if(this._useKeys)return this._iter.__iterator(x,V);var J=this._iter.__iterator(Q,V),ne=V?$c(this):0;return new ge(function(){var oe=J.next();return oe.done?oe:ce(x,V?--ne:ne++,oe.value,oe)})},Se.prototype[v]=!0,r(Ve,Re);function Ve(x){this._iter=x,this.size=x.size}Ve.prototype.includes=function(x){return this._iter.includes(x)},Ve.prototype.__iterate=function(x,V){var J=this,ne=0;return this._iter.__iterate(function(oe){return x(oe,ne++,J)},V)},Ve.prototype.__iterator=function(x,V){var J=this._iter.__iterator(Q,V),ne=0;return new ge(function(){var oe=J.next();return oe.done?oe:ce(x,ne++,oe.value,oe)})},r(it,Fe);function it(x){this._iter=x,this.size=x.size}it.prototype.has=function(x){return this._iter.includes(x)},it.prototype.__iterate=function(x,V){var J=this;return this._iter.__iterate(function(ne){return x(ne,ne,J)},V)},it.prototype.__iterator=function(x,V){var J=this._iter.__iterator(Q,V);return new ge(function(){var ne=J.next();return ne.done?ne:ce(x,ne.value,ne.value,ne)})},r(an,Pe);function an(x){this._iter=x,this.size=x.size}an.prototype.entrySeq=function(){return this._iter.toSeq()},an.prototype.__iterate=function(x,V){var J=this;return this._iter.__iterate(function(ne){if(ne){td(ne);var oe=c(ne);return x(oe?ne.get(1):ne[1],oe?ne.get(0):ne[0],J)}},V)},an.prototype.__iterator=function(x,V){var J=this._iter.__iterator(Q,V);return new ge(function(){for(;;){var ne=J.next();if(ne.done)return ne;var oe=ne.value;if(oe){td(oe);var ve=c(oe);return ce(x,ve?oe.get(0):oe[0],ve?oe.get(1):oe[1],ne)}}})},Ve.prototype.cacheResult=Se.prototype.cacheResult=it.prototype.cacheResult=an.prototype.cacheResult=zc;function bn(x){var V=ns(x);return V._iter=x,V.size=x.size,V.flip=function(){return x},V.reverse=function(){var J=x.reverse.apply(this);return J.flip=function(){return x.reverse()},J},V.has=function(J){return x.includes(J)},V.includes=function(J){return x.has(J)},V.cacheResult=zc,V.__iterateUncached=function(J,ne){var oe=this;return x.__iterate(function(ve,we){return J(we,ve,oe)!==!1},ne)},V.__iteratorUncached=function(J,ne){if(J===H){var oe=x.__iterator(J,ne);return new ge(function(){var ve=oe.next();if(!ve.done){var we=ve.value[0];ve.value[0]=ve.value[1],ve.value[1]=we}return ve})}return x.__iterator(J===Q?ie:Q,ne)},V}function In(x,V,J){var ne=ns(x);return ne.size=x.size,ne.has=function(oe){return x.has(oe)},ne.get=function(oe,ve){var we=x.get(oe,M);return we===M?ve:V.call(J,we,oe,x)},ne.__iterateUncached=function(oe,ve){var we=this;return x.__iterate(function(De,Xe,at){return oe(V.call(J,De,Xe,at),Xe,we)!==!1},ve)},ne.__iteratorUncached=function(oe,ve){var we=x.__iterator(H,ve);return new ge(function(){var De=we.next();if(De.done)return De;var Xe=De.value,at=Xe[0];return ce(oe,at,V.call(J,Xe[1],at,x),De)})},ne}function Or(x,V){var J=ns(x);return J._iter=x,J.size=x.size,J.reverse=function(){return x},x.flip&&(J.flip=function(){var ne=bn(x);return ne.reverse=function(){return x.flip()},ne}),J.get=function(ne,oe){return x.get(V?ne:-1-ne,oe)},J.has=function(ne){return x.has(V?ne:-1-ne)},J.includes=function(ne){return x.includes(ne)},J.cacheResult=zc,J.__iterate=function(ne,oe){var ve=this;return x.__iterate(function(we,De){return ne(we,De,ve)},!oe)},J.__iterator=function(ne,oe){return x.__iterator(ne,!oe)},J}function pi(x,V,J,ne){var oe=ns(x);return ne&&(oe.has=function(ve){var we=x.get(ve,M);return we!==M&&!!V.call(J,we,ve,x)},oe.get=function(ve,we){var De=x.get(ve,M);return De!==M&&V.call(J,De,ve,x)?De:we}),oe.__iterateUncached=function(ve,we){var De=this,Xe=0;return x.__iterate(function(at,ht,Gt){if(V.call(J,at,ht,Gt))return Xe++,ve(at,ne?ht:Xe-1,De)},we),Xe},oe.__iteratorUncached=function(ve,we){var De=x.__iterator(H,we),Xe=0;return new ge(function(){for(;;){var at=De.next();if(at.done)return at;var ht=at.value,Gt=ht[0],Zt=ht[1];if(V.call(J,Zt,Gt,x))return ce(ve,ne?Gt:Xe++,Zt,at)}})},oe}function Zu(x,V,J){var ne=Vn().asMutable();return x.__iterate(function(oe,ve){ne.update(V.call(J,oe,ve,x),0,function(we){return we+1})}),ne.asImmutable()}function jc(x,V,J){var ne=u(x),oe=(g(x)?ar():Vn()).asMutable();x.__iterate(function(we,De){oe.update(V.call(J,we,De,x),function(Xe){return Xe=Xe||[],Xe.push(ne?[De,we]:we),Xe})});var ve=nd(x);return oe.map(function(we){return xr(x,ve(we))})}function za(x,V,J,ne){var oe=x.size;if(V!==void 0&&(V=V|0),J!==void 0&&(J=J|0),q(V,J,oe))return x;var ve=z(V,oe),we=Y(J,oe);if(ve!==ve||we!==we)return za(x.toSeq().cacheResult(),V,J,ne);var De=we-ve,Xe;De===De&&(Xe=De<0?0:De);var at=ns(x);return at.size=Xe===0?Xe:x.size&&Xe||void 0,!ne&&Ke(x)&&Xe>=0&&(at.get=function(ht,Gt){return ht=U(this,ht),ht>=0&&ht<Xe?x.get(ht+ve,Gt):Gt}),at.__iterateUncached=function(ht,Gt){var Zt=this;if(Xe===0)return 0;if(Gt)return this.cacheResult().__iterate(ht,Gt);var kn=0,Kn=!0,wr=0;return x.__iterate(function(Pr,rs){if(!(Kn&&(Kn=kn++<ve)))return wr++,ht(Pr,ne?rs:wr-1,Zt)!==!1&&wr!==Xe}),wr},at.__iteratorUncached=function(ht,Gt){if(Xe!==0&&Gt)return this.cacheResult().__iterator(ht,Gt);var Zt=Xe!==0&&x.__iterator(ht,Gt),kn=0,Kn=0;return new ge(function(){for(;kn++<ve;)Zt.next();if(++Kn>Xe)return be();var wr=Zt.next();return ne||ht===Q?wr:ht===ie?ce(ht,Kn-1,void 0,wr):ce(ht,Kn-1,wr.value[1],wr)})},at}function Sl(x,V,J){var ne=ns(x);return ne.__iterateUncached=function(oe,ve){var we=this;if(ve)return this.cacheResult().__iterate(oe,ve);var De=0;return x.__iterate(function(Xe,at,ht){return V.call(J,Xe,at,ht)&&++De&&oe(Xe,at,we)}),De},ne.__iteratorUncached=function(oe,ve){var we=this;if(ve)return this.cacheResult().__iterator(oe,ve);var De=x.__iterator(H,ve),Xe=!0;return new ge(function(){if(!Xe)return be();var at=De.next();if(at.done)return at;var ht=at.value,Gt=ht[0],Zt=ht[1];return V.call(J,Zt,Gt,we)?oe===H?at:ce(oe,Gt,Zt,at):(Xe=!1,be())})},ne}function Ua(x,V,J,ne){var oe=ns(x);return oe.__iterateUncached=function(ve,we){var De=this;if(we)return this.cacheResult().__iterate(ve,we);var Xe=!0,at=0;return x.__iterate(function(ht,Gt,Zt){if(!(Xe&&(Xe=V.call(J,ht,Gt,Zt))))return at++,ve(ht,ne?Gt:at-1,De)}),at},oe.__iteratorUncached=function(ve,we){var De=this;if(we)return this.cacheResult().__iterator(ve,we);var Xe=x.__iterator(H,we),at=!0,ht=0;return new ge(function(){var Gt,Zt,kn;do{if(Gt=Xe.next(),Gt.done)return ne||ve===Q?Gt:ve===ie?ce(ve,ht++,void 0,Gt):ce(ve,ht++,Gt.value[1],Gt);var Kn=Gt.value;Zt=Kn[0],kn=Kn[1],at&&(at=V.call(J,kn,Zt,De))}while(at);return ve===H?Gt:ce(ve,Zt,kn,Gt)})},oe}function Qu(x,V){var J=u(x),ne=[x].concat(V).map(function(we){return c(we)?J&&(we=o(we)):we=J?zt(we):jt(Array.isArray(we)?we:[we]),we}).filter(function(we){return we.size!==0});if(ne.length===0)return x;if(ne.length===1){var oe=ne[0];if(oe===x||J&&u(oe)||h(x)&&h(oe))return oe}var ve=new Ue(ne);return J?ve=ve.toKeyedSeq():h(x)||(ve=ve.toSetSeq()),ve=ve.flatten(!0),ve.size=ne.reduce(function(we,De){if(we!==void 0){var Xe=De.size;if(Xe!==void 0)return we+Xe}},0),ve}function Ju(x,V,J){var ne=ns(x);return ne.__iterateUncached=function(oe,ve){var we=0,De=!1;function Xe(at,ht){var Gt=this;at.__iterate(function(Zt,kn){return(!V||ht<V)&&c(Zt)?Xe(Zt,ht+1):oe(Zt,J?kn:we++,Gt)===!1&&(De=!0),!De},ve)}return Xe(x,0),we},ne.__iteratorUncached=function(oe,ve){var we=x.__iterator(oe,ve),De=[],Xe=0;return new ge(function(){for(;we;){var at=we.next();if(at.done!==!1){we=De.pop();continue}var ht=at.value;if(oe===H&&(ht=ht[1]),(!V||De.length<V)&&c(ht))De.push(we),we=ht.__iterator(oe,ve);else return J?at:ce(oe,Xe++,ht,at)}return be()})},ne}function Bh(x,V,J){var ne=nd(x);return x.toSeq().map(function(oe,ve){return ne(V.call(J,oe,ve,x))}).flatten(!0)}function Fh(x,V){var J=ns(x);return J.size=x.size&&x.size*2-1,J.__iterateUncached=function(ne,oe){var ve=this,we=0;return x.__iterate(function(De,Xe){return(!we||ne(V,we++,ve)!==!1)&&ne(De,we++,ve)!==!1},oe),we},J.__iteratorUncached=function(ne,oe){var ve=x.__iterator(Q,oe),we=0,De;return new ge(function(){return(!De||we%2)&&(De=ve.next(),De.done)?De:we%2?ce(ne,we++,V):ce(ne,we++,De.value,De)})},J}function Rs(x,V,J){V||(V=rd);var ne=u(x),oe=0,ve=x.toSeq().map(function(we,De){return[De,we,oe++,J?J(we,De,x):we]}).toArray();return ve.sort(function(we,De){return V(we[3],De[3])||we[2]-De[2]}).forEach(ne?function(we,De){ve[De].length=2}:function(we,De){ve[De]=we[1]}),ne?Pe(ve):h(x)?Re(ve):Fe(ve)}function cc(x,V,J){if(V||(V=rd),J){var ne=x.toSeq().map(function(oe,ve){return[oe,J(oe,ve,x)]}).reduce(function(oe,ve){return ed(V,oe[1],ve[1])?ve:oe});return ne&&ne[0]}else return x.reduce(function(oe,ve){return ed(V,oe,ve)?ve:oe})}function ed(x,V,J){var ne=x(J,V);return ne===0&&J!==V&&(J==null||J!==J)||ne>0}function Vc(x,V,J){var ne=ns(x);return ne.size=new Ue(J).map(function(oe){return oe.size}).min(),ne.__iterate=function(oe,ve){for(var we=this.__iterator(Q,ve),De,Xe=0;!(De=we.next()).done&&oe(De.value,Xe++,this)!==!1;);return Xe},ne.__iteratorUncached=function(oe,ve){var we=J.map(function(at){return at=i(at),me(ve?at.reverse():at)}),De=0,Xe=!1;return new ge(function(){var at;return Xe||(at=we.map(function(ht){return ht.next()}),Xe=at.some(function(ht){return ht.done})),Xe?be():ce(oe,De++,V.apply(null,at.map(function(ht){return ht.value})))})},ne}function xr(x,V){return Ke(x)?V:x.constructor(V)}function td(x){if(x!==Object(x))throw new TypeError("Expected [K, V] tuple: "+x)}function $c(x){return fi(x.size),j(x)}function nd(x){return u(x)?o:h(x)?s:l}function ns(x){return Object.create((u(x)?Pe:h(x)?Re:Fe).prototype)}function zc(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ie.prototype.cacheResult.call(this)}function rd(x,V){return x>V?1:x<V?-1:0}function uc(x){var V=me(x);if(!V){if(!xe(x))throw new TypeError("Expected iterable or array-like: "+x);V=me(i(x))}return V}r(io,mr);function io(x,V){var J,ne=function(we){if(we instanceof ne)return we;if(!(this instanceof ne))return new ne(we);if(!J){J=!0;var De=Object.keys(x);Ha(oe,De),oe.size=De.length,oe._name=V,oe._keys=De,oe._defaultValues=x}this._map=Vn(we)},oe=ne.prototype=Object.create(Li);return oe.constructor=ne,ne}io.prototype.toString=function(){return this.__toString(rn(this)+" {","}")},io.prototype.has=function(x){return this._defaultValues.hasOwnProperty(x)},io.prototype.get=function(x,V){if(!this.has(x))return V;var J=this._defaultValues[x];return this._map?this._map.get(x,J):J},io.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var x=this.constructor;return x._empty||(x._empty=de(this,Jr()))},io.prototype.set=function(x,V){if(!this.has(x))throw new Error('Cannot set unknown key "'+x+'" on '+rn(this));var J=this._map&&this._map.set(x,V);return this.__ownerID||J===this._map?this:de(this,J)},io.prototype.remove=function(x){if(!this.has(x))return this;var V=this._map&&this._map.remove(x);return this.__ownerID||V===this._map?this:de(this,V)},io.prototype.wasAltered=function(){return this._map.wasAltered()},io.prototype.__iterator=function(x,V){var J=this;return o(this._defaultValues).map(function(ne,oe){return J.get(oe)}).__iterator(x,V)},io.prototype.__iterate=function(x,V){var J=this;return o(this._defaultValues).map(function(ne,oe){return J.get(oe)}).__iterate(x,V)},io.prototype.__ensureOwner=function(x){if(x===this.__ownerID)return this;var V=this._map&&this._map.__ensureOwner(x);return x?de(this,V,x):(this.__ownerID=x,this._map=V,this)};var Li=io.prototype;Li[S]=Li.remove,Li.deleteIn=Li.removeIn=wt.removeIn,Li.merge=wt.merge,Li.mergeWith=wt.mergeWith,Li.mergeIn=wt.mergeIn,Li.mergeDeep=wt.mergeDeep,Li.mergeDeepWith=wt.mergeDeepWith,Li.mergeDeepIn=wt.mergeDeepIn,Li.setIn=wt.setIn,Li.update=wt.update,Li.updateIn=wt.updateIn,Li.withMutations=wt.withMutations,Li.asMutable=wt.asMutable,Li.asImmutable=wt.asImmutable;function de(x,V,J){var ne=Object.create(Object.getPrototypeOf(x));return ne._map=V,ne.__ownerID=J,ne}function rn(x){return x._name||x.constructor.name||"Record"}function Ha(x,V){try{V.forEach(Uo.bind(void 0,x))}catch{}}function Uo(x,V){Object.defineProperty(x,V,{get:function(){return this.get(V)},set:function(J){nr(this.__ownerID,"Cannot set on an immutable record."),this.set(V,J)}})}r(Rr,Fr);function Rr(x){return x==null?Wa():He(x)&&!g(x)?x:Wa().withMutations(function(V){var J=l(x);fi(J.size),J.forEach(function(ne){return V.add(ne)})})}Rr.of=function(){return this(arguments)},Rr.fromKeys=function(x){return this(o(x).keySeq())},Rr.prototype.toString=function(){return this.__toString("Set {","}")},Rr.prototype.has=function(x){return this._map.has(x)},Rr.prototype.add=function(x){return Uc(this,this._map.set(x,!0))},Rr.prototype.remove=function(x){return Uc(this,this._map.remove(x))},Rr.prototype.clear=function(){return Uc(this,this._map.clear())},Rr.prototype.union=function(){var x=n.call(arguments,0);return x=x.filter(function(V){return V.size!==0}),x.length===0?this:this.size===0&&!this.__ownerID&&x.length===1?this.constructor(x[0]):this.withMutations(function(V){for(var J=0;J<x.length;J++)l(x[J]).forEach(function(ne){return V.add(ne)})})},Rr.prototype.intersect=function(){var x=n.call(arguments,0);if(x.length===0)return this;x=x.map(function(J){return l(J)});var V=this;return this.withMutations(function(J){V.forEach(function(ne){x.every(function(oe){return oe.includes(ne)})||J.remove(ne)})})},Rr.prototype.subtract=function(){var x=n.call(arguments,0);if(x.length===0)return this;x=x.map(function(J){return l(J)});var V=this;return this.withMutations(function(J){V.forEach(function(ne){x.some(function(oe){return oe.includes(ne)})&&J.remove(ne)})})},Rr.prototype.merge=function(){return this.union.apply(this,arguments)},Rr.prototype.mergeWith=function(x){var V=n.call(arguments,1);return this.union.apply(this,V)},Rr.prototype.sort=function(x){return Yn(Rs(this,x))},Rr.prototype.sortBy=function(x,V){return Yn(Rs(this,V,x))},Rr.prototype.wasAltered=function(){return this._map.wasAltered()},Rr.prototype.__iterate=function(x,V){var J=this;return this._map.__iterate(function(ne,oe){return x(oe,oe,J)},V)},Rr.prototype.__iterator=function(x,V){return this._map.map(function(J,ne){return ne}).__iterator(x,V)},Rr.prototype.__ensureOwner=function(x){if(x===this.__ownerID)return this;var V=this._map.__ensureOwner(x);return x?this.__make(V,x):(this.__ownerID=x,this._map=V,this)};function He(x){return!!(x&&x[Ga])}Rr.isSet=He;var Ga="@@__IMMUTABLE_SET__@@",Co=Rr.prototype;Co[Ga]=!0,Co[S]=Co.remove,Co.mergeDeep=Co.merge,Co.mergeDeepWith=Co.mergeWith,Co.withMutations=wt.withMutations,Co.asMutable=wt.asMutable,Co.asImmutable=wt.asImmutable,Co.__empty=Wa,Co.__make=En;function Uc(x,V){return x.__ownerID?(x.size=V.size,x._map=V,x):V===x._map?x:V.size===0?x.__empty():x.__make(V)}function En(x,V){var J=Object.create(Co);return J.size=x?x.size:0,J._map=x,J.__ownerID=V,J}var xo;function Wa(){return xo||(xo=En(Jr()))}r(Yn,Rr);function Yn(x){return x==null?On():$e(x)?x:On().withMutations(function(V){var J=l(x);fi(J.size),J.forEach(function(ne){return V.add(ne)})})}Yn.of=function(){return this(arguments)},Yn.fromKeys=function(x){return this(o(x).keySeq())},Yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function $e(x){return He(x)&&g(x)}Yn.isOrderedSet=$e;var gt=Yn.prototype;gt[v]=!0,gt.__empty=On,gt.__make=ze;function ze(x,V){var J=Object.create(gt);return J.size=x?x.size:0,J._map=x,J.__ownerID=V,J}var vn;function On(){return vn||(vn=ze(re()))}r(Cn,bt);function Cn(x){return x==null?_o():Ti(x)?x:_o().unshiftAll(x)}Cn.of=function(){return this(arguments)},Cn.prototype.toString=function(){return this.__toString("Stack [","]")},Cn.prototype.get=function(x,V){var J=this._head;for(x=U(this,x);J&&x--;)J=J.next;return J?J.value:V},Cn.prototype.peek=function(){return this._head&&this._head.value},Cn.prototype.push=function(){if(arguments.length===0)return this;for(var x=this.size+arguments.length,V=this._head,J=arguments.length-1;J>=0;J--)V={value:arguments[J],next:V};return this.__ownerID?(this.size=x,this._head=V,this.__hash=void 0,this.__altered=!0,this):Xi(x,V)},Cn.prototype.pushAll=function(x){if(x=s(x),x.size===0)return this;fi(x.size);var V=this.size,J=this._head;return x.reverse().forEach(function(ne){V++,J={value:ne,next:J}}),this.__ownerID?(this.size=V,this._head=J,this.__hash=void 0,this.__altered=!0,this):Xi(V,J)},Cn.prototype.pop=function(){return this.slice(1)},Cn.prototype.unshift=function(){return this.push.apply(this,arguments)},Cn.prototype.unshiftAll=function(x){return this.pushAll(x)},Cn.prototype.shift=function(){return this.pop.apply(this,arguments)},Cn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):_o()},Cn.prototype.slice=function(x,V){if(q(x,V,this.size))return this;var J=z(x,this.size),ne=Y(V,this.size);if(ne!==this.size)return bt.prototype.slice.call(this,x,V);for(var oe=this.size-J,ve=this._head;J--;)ve=ve.next;return this.__ownerID?(this.size=oe,this._head=ve,this.__hash=void 0,this.__altered=!0,this):Xi(oe,ve)},Cn.prototype.__ensureOwner=function(x){return x===this.__ownerID?this:x?Xi(this.size,this._head,x,this.__hash):(this.__ownerID=x,this.__altered=!1,this)},Cn.prototype.__iterate=function(x,V){if(V)return this.reverse().__iterate(x);for(var J=0,ne=this._head;ne&&x(ne.value,J++,this)!==!1;)ne=ne.next;return J},Cn.prototype.__iterator=function(x,V){if(V)return this.reverse().__iterator(x);var J=0,ne=this._head;return new ge(function(){if(ne){var oe=ne.value;return ne=ne.next,ce(x,J++,oe)}return be()})};function Ti(x){return!!(x&&x[zi])}Cn.isStack=Ti;var zi="@@__IMMUTABLE_STACK__@@",Mi=Cn.prototype;Mi[zi]=!0,Mi.withMutations=wt.withMutations,Mi.asMutable=wt.asMutable,Mi.asImmutable=wt.asImmutable,Mi.wasAltered=wt.wasAltered;function Xi(x,V,J,ne){var oe=Object.create(Mi);return oe.size=x,oe._head=V,oe.__ownerID=J,oe.__hash=ne,oe.__altered=!1,oe}var Cl;function _o(){return Cl||(Cl=Xi(0))}function Zi(x,V){var J=function(ne){x.prototype[ne]=V[ne]};return Object.keys(V).forEach(J),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(V).forEach(J),x}i.Iterator=ge,Zi(i,{toArray:function(){fi(this.size);var x=new Array(this.size||0);return this.valueSeq().__iterate(function(V,J){x[J]=V}),x},toIndexedSeq:function(){return new Ve(this)},toJS:function(){return this.toSeq().map(function(x){return x&&typeof x.toJS=="function"?x.toJS():x}).__toJS()},toJSON:function(){return this.toSeq().map(function(x){return x&&typeof x.toJSON=="function"?x.toJSON():x}).__toJS()},toKeyedSeq:function(){return new Se(this,!0)},toMap:function(){return Vn(this.toKeyedSeq())},toObject:function(){fi(this.size);var x={};return this.__iterate(function(V,J){x[J]=V}),x},toOrderedMap:function(){return ar(this.toKeyedSeq())},toOrderedSet:function(){return Yn(u(this)?this.valueSeq():this)},toSet:function(){return Rr(u(this)?this.valueSeq():this)},toSetSeq:function(){return new it(this)},toSeq:function(){return h(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Cn(u(this)?this.valueSeq():this)},toList:function(){return cr(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(x,V){return this.size===0?x+V:x+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+V},concat:function(){var x=n.call(arguments,0);return xr(this,Qu(this,x))},includes:function(x){return this.some(function(V){return mt(V,x)})},entries:function(){return this.__iterator(H)},every:function(x,V){fi(this.size);var J=!0;return this.__iterate(function(ne,oe,ve){if(!x.call(V,ne,oe,ve))return J=!1,!1}),J},filter:function(x,V){return xr(this,pi(this,x,V,!0))},find:function(x,V,J){var ne=this.findEntry(x,V);return ne?ne[1]:J},findEntry:function(x,V){var J;return this.__iterate(function(ne,oe,ve){if(x.call(V,ne,oe,ve))return J=[oe,ne],!1}),J},findLastEntry:function(x,V){return this.toSeq().reverse().findEntry(x,V)},forEach:function(x,V){return fi(this.size),this.__iterate(V?x.bind(V):x)},join:function(x){fi(this.size),x=x!==void 0?""+x:",";var V="",J=!0;return this.__iterate(function(ne){J?J=!1:V+=x,V+=ne!=null?ne.toString():""}),V},keys:function(){return this.__iterator(ie)},map:function(x,V){return xr(this,In(this,x,V))},reduce:function(x,V,J){fi(this.size);var ne,oe;return arguments.length<2?oe=!0:ne=V,this.__iterate(function(ve,we,De){oe?(oe=!1,ne=ve):ne=x.call(J,ne,ve,we,De)}),ne},reduceRight:function(x,V,J){var ne=this.toKeyedSeq().reverse();return ne.reduce.apply(ne,arguments)},reverse:function(){return xr(this,Or(this,!0))},slice:function(x,V){return xr(this,za(this,x,V,!0))},some:function(x,V){return!this.every(Hc(x),V)},sort:function(x){return xr(this,Rs(this,x))},values:function(){return this.__iterator(Q)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(x,V){return j(x?this.toSeq().filter(x,V):this)},countBy:function(x,V){return Zu(this,x,V)},equals:function(x){return Pt(this,x)},entrySeq:function(){var x=this;if(x._cache)return new Ue(x._cache);var V=x.toSeq().map(dp).toIndexedSeq();return V.fromEntrySeq=function(){return x.toSeq()},V},filterNot:function(x,V){return this.filter(Hc(x),V)},findLast:function(x,V,J){return this.toKeyedSeq().reverse().find(x,V,J)},first:function(){return this.find(K)},flatMap:function(x,V){return xr(this,Bh(this,x,V))},flatten:function(x){return xr(this,Ju(this,x,!0))},fromEntrySeq:function(){return new an(this)},get:function(x,V){return this.find(function(J,ne){return mt(ne,x)},void 0,V)},getIn:function(x,V){for(var J=this,ne=uc(x),oe;!(oe=ne.next()).done;){var ve=oe.value;if(J=J&&J.get?J.get(ve,M):M,J===M)return V}return J},groupBy:function(x,V){return jc(this,x,V)},has:function(x){return this.get(x,M)!==M},hasIn:function(x){return this.getIn(x,M)!==M},isSubset:function(x){return x=typeof x.includes=="function"?x:i(x),this.every(function(V){return x.includes(V)})},isSuperset:function(x){return x=typeof x.isSubset=="function"?x:i(x),x.isSubset(this)},keySeq:function(){return this.toSeq().map(od).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(x){return cc(this,x)},maxBy:function(x,V){return cc(this,V,x)},min:function(x){return cc(this,x?sd(x):jh)},minBy:function(x,V){return cc(this,V?sd(V):jh,x)},rest:function(){return this.slice(1)},skip:function(x){return this.slice(Math.max(0,x))},skipLast:function(x){return xr(this,this.toSeq().reverse().skip(x).reverse())},skipWhile:function(x,V){return xr(this,Ua(this,x,V,!0))},skipUntil:function(x,V){return this.skipWhile(Hc(x),V)},sortBy:function(x,V){return xr(this,Rs(this,V,x))},take:function(x){return this.slice(0,Math.max(0,x))},takeLast:function(x){return xr(this,this.toSeq().reverse().take(x).reverse())},takeWhile:function(x,V){return xr(this,Sl(this,x,V))},takeUntil:function(x,V){return this.takeWhile(Hc(x),V)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=fp(this))}});var Hr=i.prototype;Hr[m]=!0,Hr[pe]=Hr.values,Hr.__toJS=Hr.toArray,Hr.__toStringMapper=ad,Hr.inspect=Hr.toSource=function(){return this.toString()},Hr.chain=Hr.flatMap,Hr.contains=Hr.includes,(function(){try{Object.defineProperty(Hr,"length",{get:function(){if(!i.noLengthWarning){var x;try{throw new Error}catch(V){x=V.stack}if(x.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+x),this.size}}})}catch{}})(),Zi(o,{flip:function(){return xr(this,bn(this))},findKey:function(x,V){var J=this.findEntry(x,V);return J&&J[0]},findLastKey:function(x,V){return this.toSeq().reverse().findKey(x,V)},keyOf:function(x){return this.findKey(function(V){return mt(V,x)})},lastKeyOf:function(x){return this.findLastKey(function(V){return mt(V,x)})},mapEntries:function(x,V){var J=this,ne=0;return xr(this,this.toSeq().map(function(oe,ve){return x.call(V,[ve,oe],ne++,J)}).fromEntrySeq())},mapKeys:function(x,V){var J=this;return xr(this,this.toSeq().flip().map(function(ne,oe){return x.call(V,ne,oe,J)}).flip())}});var id=o.prototype;id[y]=!0,id[pe]=Hr.entries,id.__toJS=Hr.toObject,id.__toStringMapper=function(x,V){return JSON.stringify(V)+": "+ad(x)},Zi(s,{toKeyedSeq:function(){return new Se(this,!1)},filter:function(x,V){return xr(this,pi(this,x,V,!1))},findIndex:function(x,V){var J=this.findEntry(x,V);return J?J[0]:-1},indexOf:function(x){var V=this.toKeyedSeq().keyOf(x);return V===void 0?-1:V},lastIndexOf:function(x){var V=this.toKeyedSeq().reverse().keyOf(x);return V===void 0?-1:V},reverse:function(){return xr(this,Or(this,!1))},slice:function(x,V){return xr(this,za(this,x,V,!1))},splice:function(x,V){var J=arguments.length;if(V=Math.max(V|0,0),J===0||J===2&&!V)return this;x=z(x,x<0?this.count():this.size);var ne=this.slice(0,x);return xr(this,J===1?ne:ne.concat($(arguments,2),this.slice(x+V)))},findLastIndex:function(x,V){var J=this.toKeyedSeq().findLastKey(x,V);return J===void 0?-1:J},first:function(){return this.get(0)},flatten:function(x){return xr(this,Ju(this,x,!1))},get:function(x,V){return x=U(this,x),x<0||this.size===1/0||this.size!==void 0&&x>this.size?V:this.find(function(J,ne){return ne===x},void 0,V)},has:function(x){return x=U(this,x),x>=0&&(this.size!==void 0?this.size===1/0||x<this.size:this.indexOf(x)!==-1)},interpose:function(x){return xr(this,Fh(this,x))},interleave:function(){var x=[this].concat($(arguments)),V=Vc(this.toSeq(),Re.of,x),J=V.flatten(!0);return V.size&&(J.size=V.size*x.length),xr(this,J)},last:function(){return this.get(-1)},skipWhile:function(x,V){return xr(this,Ua(this,x,V,!1))},zip:function(){var x=[this].concat($(arguments));return xr(this,Vc(this,hp,x))},zipWith:function(x){var V=$(arguments);return V[0]=this,xr(this,Vc(this,x,V))}}),s.prototype[b]=!0,s.prototype[v]=!0,Zi(l,{get:function(x,V){return this.has(x)?x:V},includes:function(x){return this.has(x)},keySeq:function(){return this.valueSeq()}}),l.prototype.has=Hr.includes,Zi(Pe,o.prototype),Zi(Re,s.prototype),Zi(Fe,l.prototype),Zi(mr,o.prototype),Zi(bt,s.prototype),Zi(Fr,l.prototype);function od(x,V){return V}function dp(x,V){return[V,x]}function Hc(x){return function(){return!x.apply(this,arguments)}}function sd(x){return function(){return-x.apply(this,arguments)}}function ad(x){return typeof x=="string"?JSON.stringify(x):x}function hp(){return $(arguments)}function jh(x,V){return x<V?1:x>V?-1:0}function fp(x){if(x.size===1/0)return 0;var V=g(x),J=u(x),ne=V?1:0,oe=x.__iterate(J?V?function(ve,we){ne=31*ne+Gc(Gn(ve),Gn(we))|0}:function(ve,we){ne=ne+Gc(Gn(ve),Gn(we))|0}:V?function(ve){ne=31*ne+Gn(ve)|0}:function(ve){ne=ne+Gn(ve)|0});return ld(oe,ne)}function ld(x,V){return V=ai(V,3432918353),V=ai(V<<15|V>>>-15,461845907),V=ai(V<<13|V>>>-13,5),V=(V+3864292196|0)^x,V=ai(V^V>>>16,2246822507),V=ai(V^V>>>13,3266489909),V=Jt(V^V>>>16),V}function Gc(x,V){return x^V+2654435769+(x<<6)+(x>>2)|0}var fv={Iterable:i,Seq:Ie,Collection:rr,Map:Vn,OrderedMap:ar,List:cr,Stack:Cn,Set:Rr,OrderedSet:Yn,Record:io,Range:An,Repeat:Et,is:mt,fromJS:Ye};return fv})})(Jy)),Jy.exports}var g_,qN;function Mg(){if(qN)return g_;qN=1;var e=kr(),t=e.OrderedMap,n={createFromArray:function(i){return t(i.map(function(o){return[o.getKey(),o]}))}};return g_=n,g_}var m_,YN;function pa(){if(YN)return m_;YN=1;function e(p,g){p.prototype=Object.create(g.prototype),p.prototype.constructor=p,p.__proto__=g}var t=kr(),n=t.Map,r=t.OrderedSet,i=t.Record,o=r(),s={style:o,entity:null},l=i(s),c=(function(p){e(g,p);function g(){return p.apply(this,arguments)||this}var m=g.prototype;return m.getStyle=function(){return this.get("style")},m.getEntity=function(){return this.get("entity")},m.hasStyle=function(b){return this.getStyle().includes(b)},g.applyStyle=function(b,v){var S=b.set("style",b.getStyle().add(v));return g.create(S)},g.removeStyle=function(b,v){var S=b.set("style",b.getStyle().remove(v));return g.create(S)},g.applyEntity=function(b,v){var S=b.getEntity()===v?b:b.set("entity",v);return g.create(S)},g.create=function(b){if(!b)return u;var v={style:o,entity:null},S=n(v).merge(b),E=h.get(S);if(E)return E;var T=new g(S);return h=h.set(S,T),T},g.fromJS=function(b){var v=b.style,S=b.entity;return new g({style:Array.isArray(v)?r(v):v,entity:Array.isArray(S)?r(S):S})},g})(l),u=new c,h=n([[n(s),u]]);return c.EMPTY=u,m_=c,m_}var v_,XN;function Og(){if(XN)return v_;XN=1;function e(t,n,r,i){if(t.size){var o=0;t.reduce(function(s,l,c){return n(s,l)||(r(s)&&i(o,c),o=c),l}),r(t.last())&&i(o,t.count())}}return v_=e,v_}var y_,ZN;function Yd(){if(ZN)return y_;ZN=1;function e(v,S){v.prototype=Object.create(S.prototype),v.prototype.constructor=v,v.__proto__=S}var t=pa(),n=Og(),r=kr(),i=r.List,o=r.Map,s=r.OrderedSet,l=r.Record,c=r.Repeat,u=s(),h={key:"",type:"unstyled",text:"",characterList:i(),depth:0,data:o()},p=l(h),g=function(S){if(!S)return S;var E=S.characterList,T=S.text;return T&&!E&&(S.characterList=i(c(t.EMPTY,T.length))),S},m=(function(v){e(S,v);function S(T){return v.call(this,g(T))||this}var E=S.prototype;return E.getKey=function(){return this.get("key")},E.getType=function(){return this.get("type")},E.getText=function(){return this.get("text")},E.getCharacterList=function(){return this.get("characterList")},E.getLength=function(){return this.getText().length},E.getDepth=function(){return this.get("depth")},E.getData=function(){return this.get("data")},E.getInlineStyleAt=function(O){var M=this.getCharacterList().get(O);return M?M.getStyle():u},E.getEntityAt=function(O){var M=this.getCharacterList().get(O);return M?M.getEntity():null},E.findStyleRanges=function(O,M){n(this.getCharacterList(),y,O,M)},E.findEntityRanges=function(O,M){n(this.getCharacterList(),b,O,M)},S})(p);function y(v,S){return v.getStyle()===S.getStyle()}function b(v,S){return v.getEntity()===S.getEntity()}return y_=m,y_}var b_,QN;function ga(){if(QN)return b_;QN=1;function e(b,v){b.prototype=Object.create(v.prototype),b.prototype.constructor=b,b.__proto__=v}var t=pa(),n=Og(),r=kr(),i=r.List,o=r.Map,s=r.OrderedSet,l=r.Record,c=r.Repeat,u=s(),h={parent:null,characterList:i(),data:o(),depth:0,key:"",text:"",type:"unstyled",children:i(),prevSibling:null,nextSibling:null},p=function(v,S){return v.getStyle()===S.getStyle()},g=function(v,S){return v.getEntity()===S.getEntity()},m=function(v){if(!v)return v;var S=v.characterList,E=v.text;return E&&!S&&(v.characterList=i(c(t.EMPTY,E.length))),v},y=(function(b){e(v,b);function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;return b.call(this,m(E))||this}var S=v.prototype;return S.getKey=function(){return this.get("key")},S.getType=function(){return this.get("type")},S.getText=function(){return this.get("text")},S.getCharacterList=function(){return this.get("characterList")},S.getLength=function(){return this.getText().length},S.getDepth=function(){return this.get("depth")},S.getData=function(){return this.get("data")},S.getInlineStyleAt=function(T){var O=this.getCharacterList().get(T);return O?O.getStyle():u},S.getEntityAt=function(T){var O=this.getCharacterList().get(T);return O?O.getEntity():null},S.getChildKeys=function(){return this.get("children")},S.getParentKey=function(){return this.get("parent")},S.getPrevSiblingKey=function(){return this.get("prevSibling")},S.getNextSiblingKey=function(){return this.get("nextSibling")},S.findStyleRanges=function(T,O){n(this.getCharacterList(),p,T,O)},S.findEntityRanges=function(T,O){n(this.getCharacterList(),g,T,O)},v})(l(h));return b_=y,b_}var w_,JN;function Efe(){if(JN)return w_;JN=1;var e=pa(),t=kr(),n=t.Map,r={add:function(s,l,c){return i(s,l,c,!0)},remove:function(s,l,c){return i(s,l,c,!1)}};function i(o,s,l,c){var u=o.getBlockMap(),h=s.getStartKey(),p=s.getStartOffset(),g=s.getEndKey(),m=s.getEndOffset(),y=u.skipUntil(function(b,v){return v===h}).takeUntil(function(b,v){return v===g}).concat(n([[g,u.get(g)]])).map(function(b,v){var S,E;h===g?(S=p,E=m):(S=v===h?p:0,E=v===g?m:b.getLength());for(var T=b.getCharacterList(),O;S<E;)O=T.get(S),T=T.set(S,c?e.applyStyle(O,l):e.removeStyle(O,l)),S++;return b.set("characterList",T)});return o.merge({blockMap:u.merge(y),selectionBefore:s,selectionAfter:s})}return w_=r,w_}var S_,eB;function Tfe(){if(eB)return S_;eB=1;var e=pa();function t(n,r,i,o){for(var s=r,l=n.getCharacterList();s<i;)l=l.set(s,e.applyEntity(l.get(s),o)),s++;return n.set("characterList",l)}return S_=t,S_}var C_,tB;function Mfe(){if(tB)return C_;tB=1;var e=Tfe(),t=kr();function n(r,i,o){var s=r.getBlockMap(),l=i.getStartKey(),c=i.getStartOffset(),u=i.getEndKey(),h=i.getEndOffset(),p=s.skipUntil(function(g,m){return m===l}).takeUntil(function(g,m){return m===u}).toOrderedMap().merge(t.OrderedMap([[u,s.get(u)]])).map(function(g,m){var y=m===l?c:0,b=m===u?h:g.getLength();return e(g,y,b,o)});return r.merge({blockMap:s.merge(p),selectionBefore:i,selectionAfter:i})}return C_=n,C_}var x_,nB;function Ofe(){if(nB)return x_;nB=1;var e={getRemovalRange:function(n,r,i,o,s){var l=i.split(" ");l=l.map(function(S,E){if(s==="forward"){if(E>0)return" "+S}else if(E<l.length-1)return S+" ";return S});for(var c=o,u,h,p=null,g=null,m=0;m<l.length;m++){if(h=l[m],u=c+h.length,n<u&&c<r)p!==null||(p=c),g=u;else if(p!==null)break;c=u}var y=o+i.length,b=p===o,v=g===y;return(!b&&v||b&&!v)&&(s==="forward"?g!==y&&g++:p!==o&&p--),{start:p,end:g}}};return x_=e,x_}var __,rB;function Lr(){if(rB)return __;rB=1;function e(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(!t){var s;if(n===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;s=new Error(n.replace(/%s/g,function(){return String(i[l++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}return __=e,__}var E_,iB;function Rfe(){if(iB)return E_;iB=1;var e=Lr();function t(n,r){var i=[];return n.findEntityRanges(function(o){return o.getEntity()===r},function(o,s){i.push({start:o,end:s})}),i.length||e(!1),i}return E_=t,E_}var T_,oB;function Ife(){if(oB)return T_;oB=1;var e=Ofe(),t=Rfe(),n=Lr();function r(o,s,l,c,u){var h=c.getStartOffset(),p=c.getEndOffset(),g=s.getEntityAt(h),m=l.getEntityAt(p-1);if(!g&&!m)return c;var y=c;if(g&&g===m)y=i(o,s,y,u,g,!0,!0);else if(g&&m){var b=i(o,s,y,u,g,!1,!0),v=i(o,l,y,u,m,!1,!1);y=y.merge({anchorOffset:b.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:!1})}else if(g){var S=i(o,s,y,u,g,!1,!0);y=y.merge({anchorOffset:S.getStartOffset(),isBackward:!1})}else if(m){var E=i(o,l,y,u,m,!1,!1);y=y.merge({focusOffset:E.getEndOffset(),isBackward:!1})}return y}function i(o,s,l,c,u,h,p){var g=l.getStartOffset(),m=l.getEndOffset(),y=o.__get(u),b=y.getMutability(),v=p?g:m;if(b==="MUTABLE")return l;var S=t(s,u).filter(function(O){return v<=O.end&&v>=O.start});S.length!=1&&n(!1);var E=S[0];if(b==="IMMUTABLE")return l.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1});h||(p?m=E.end:g=E.start);var T=e.getRemovalRange(g,m,s.getText().slice(E.start,E.end),E.start,c);return l.merge({anchorOffset:T.start,focusOffset:T.end,isBackward:!1})}return T_=r,T_}var M_,sB;function jl(){if(sB)return M_;sB=1;var e={},t=Math.pow(2,24);function n(){for(var r;r===void 0||e.hasOwnProperty(r)||!isNaN(+r);)r=Math.floor(Math.random()*t).toString(32);return e[r]=!0,r}return M_=n,M_}var O_,aB;function lB(){if(aB)return O_;aB=1;var e=ga(),t=jl(),n=kr(),r=n.OrderedMap,i=function(c){var u={},h;return r(c.withMutations(function(p){p.forEach(function(g,m){var y=g.getKey(),b=g.getNextSiblingKey(),v=g.getPrevSiblingKey(),S=g.getChildKeys(),E=g.getParentKey(),T=t();if(u[y]=T,b){var O=p.get(b);O?p.setIn([b,"prevSibling"],T):p.setIn([y,"nextSibling"],null)}if(v){var M=p.get(v);M?p.setIn([v,"nextSibling"],T):p.setIn([y,"prevSibling"],null)}if(E&&p.get(E)){var I=p.get(E),N=I.getChildKeys();p.setIn([E,"children"],N.set(N.indexOf(g.getKey()),T))}else p.setIn([y,"parent"],null),h&&(p.setIn([h.getKey(),"nextSibling"],T),p.setIn([y,"prevSibling"],u[h.getKey()])),h=p.get(y);S.forEach(function(D){var L=p.get(D);L?p.setIn([D,"parent"],T):p.setIn([y,"children"],g.getChildKeys().filter(function(A){return A!==D}))})})}).toArray().map(function(p){return[u[p.getKey()],p.set("key",u[p.getKey()])]}))},o=function(c){return r(c.toArray().map(function(u){var h=t();return[h,u.set("key",h)]}))},s=function(c){var u=c.first()instanceof e;return u?i(c):o(c)};return O_=s,O_}var R_,cB;function uB(){if(cB)return R_;cB=1;var e=pa(),t=Og(),n=Lr();function r(s,l){var c=s.getBlockMap(),u=s.getEntityMap(),h={},p=l.getStartKey(),g=l.getStartOffset(),m=c.get(p),y=o(u,m,g);y!==m&&(h[p]=y);var b=l.getEndKey(),v=l.getEndOffset(),S=c.get(b);p===b&&(S=y);var E=o(u,S,v);return E!==S&&(h[b]=E),Object.keys(h).length?s.merge({blockMap:c.merge(h),selectionAfter:l}):s.set("selectionAfter",l)}function i(s,l,c){var u;return t(s,function(h,p){return h.getEntity()===p.getEntity()},function(h){return h.getEntity()===l},function(h,p){h<=c&&p>=c&&(u={start:h,end:p})}),typeof u!="object"&&n(!1),u}function o(s,l,c){var u=l.getCharacterList(),h=c>0?u.get(c-1):void 0,p=c<u.count()?u.get(c):void 0,g=h?h.getEntity():void 0,m=p?p.getEntity():void 0;if(m&&m===g){var y=s.__get(m);if(y.getMutability()!=="MUTABLE"){for(var b=i(u,m,c),v=b.start,S=b.end,E;v<S;)E=u.get(v),u=u.set(v,e.applyEntity(E,null)),v++;return l.set("characterList",u)}}return l}return R_=r,R_}var I_,dB;function eb(){if(dB)return I_;dB=1;var e=lB(),t=uB(),n=function(i,o){var s=o.getStartKey(),l=o.getStartOffset(),c=o.getEndKey(),u=o.getEndOffset(),h=t(i,o),p=h.getBlockMap(),g=p.keySeq(),m=g.indexOf(s),y=g.indexOf(c)+1;return e(p.slice(m,y).map(function(b,v){var S=b.getText(),E=b.getCharacterList();return s===c?b.merge({text:S.slice(l,u),characterList:E.slice(l,u)}):v===s?b.merge({text:S.slice(l),characterList:E.slice(l)}):v===c?b.merge({text:S.slice(0,u),characterList:E.slice(0,u)}):b}))};return I_=n,I_}var k_,hB;function fB(){if(hB)return k_;hB=1;function e(t,n,r){var i=t;if(r===i.count())n.forEach(function(l){i=i.push(l)});else if(r===0)n.reverse().forEach(function(l){i=i.unshift(l)});else{var o=i.slice(0,r),s=i.slice(r);i=o.concat(n,s).toList()}return i}return k_=e,k_}var P_,pB;function kfe(){if(pB)return P_;pB=1;var e=Mg(),t=ga(),n=kr(),r=fB(),i=Lr(),o=lB(),s=n.List,l=function(b,v,S,E,T,O){var M=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",I=S.get(T),N=I.getText(),D=I.getCharacterList(),L=T,A=O+E.getText().length,$=null;switch(M){case"MERGE_OLD_DATA_TO_NEW_DATA":$=E.getData().merge(I.getData());break;case"REPLACE_WITH_NEW_DATA":$=E.getData();break}var j=I.getType();N&&j==="unstyled"&&(j=E.getType());var U=I.merge({text:N.slice(0,O)+E.getText()+N.slice(O),characterList:r(D,E.getCharacterList(),O),type:j,data:$});return b.merge({blockMap:S.set(T,U),selectionBefore:v,selectionAfter:v.merge({anchorKey:L,anchorOffset:A,focusKey:L,focusOffset:A,isBackward:!1})})},c=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),O=E.slice(0,v),M=T.slice(0,v),I=S.first();return b.merge({text:O+I.getText(),characterList:M.concat(I.getCharacterList()),type:O?b.getType():I.getType(),data:I.getData()})},u=function(b,v,S){var E=b.getText(),T=b.getCharacterList(),O=E.length,M=E.slice(v,O),I=T.slice(v,O),N=S.last();return N.merge({text:N.getText()+M,characterList:N.getCharacterList().concat(I),data:N.getData()})},h=function(b,v){var S=b.getKey(),E=b,T=[];for(v.get(S)&&T.push(S);E&&E.getNextSiblingKey();){var O=E.getNextSiblingKey();if(!O)break;T.push(O),E=v.get(O)}return T},p=function(b,v,S,E){return b.withMutations(function(T){var O=S.getKey(),M=E.getKey(),I=S.getNextSiblingKey(),N=S.getParentKey(),D=h(E,b),L=D[D.length-1];if(T.get(M)?(T.setIn([O,"nextSibling"],M),T.setIn([M,"prevSibling"],O)):(T.setIn([O,"nextSibling"],E.getNextSiblingKey()),T.setIn([E.getNextSiblingKey(),"prevSibling"],O)),T.setIn([L,"nextSibling"],I),I&&T.setIn([I,"prevSibling"],L),D.forEach(function(q){return T.setIn([q,"parent"],N)}),N){var A=b.get(N),$=A.getChildKeys(),j=$.indexOf(O),U=j+1,K=$.toArray();K.splice.apply(K,[U,0].concat(D)),T.setIn([N,"children"],s(K))}})},g=function(b,v,S,E,T,O){var M=S.first()instanceof t,I=[],N=E.size,D=S.get(T),L=E.first(),A=E.last(),$=A.getLength(),j=A.getKey(),U=M&&(!D.getChildKeys().isEmpty()||!L.getChildKeys().isEmpty());S.forEach(function(q,z){if(z!==T){I.push(q);return}U?I.push(q):I.push(c(q,O,E)),E.slice(U?0:1,N-1).forEach(function(Y){return I.push(Y)}),I.push(u(q,O,E))});var K=e.createFromArray(I);return M&&(K=p(K,S,D,L)),b.merge({blockMap:K,selectionBefore:v,selectionAfter:v.merge({anchorKey:j,anchorOffset:$,focusKey:j,focusOffset:$,isBackward:!1})})},m=function(b,v,S){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";v.isCollapsed()||i(!1);var T=b.getBlockMap(),O=o(S),M=v.getStartKey(),I=v.getStartOffset(),N=T.get(M);return N instanceof t&&(N.getChildKeys().isEmpty()||i(!1)),O.size===1?l(b,v,T,O.first(),M,I,E):g(b,v,T,O,M,I)};return P_=m,P_}var D_,gB;function Pfe(){if(gB)return D_;gB=1;var e=kr(),t=fB(),n=Lr(),r=e.Repeat;function i(o,s,l,c){s.isCollapsed()||n(!1);var u=null;if(l!=null&&(u=l.length),u==null||u===0)return o;var h=o.getBlockMap(),p=s.getStartKey(),g=s.getStartOffset(),m=h.get(p),y=m.getText(),b=m.merge({text:y.slice(0,g)+l+y.slice(g,m.getLength()),characterList:t(m.getCharacterList(),r(c,u).toList(),g)}),v=g+u;return o.merge({blockMap:h.set(p,b),selectionAfter:s.merge({anchorOffset:v,focusOffset:v})})}return D_=i,D_}var A_,mB;function vB(){if(mB)return A_;mB=1;var e=kr(),t=e.Map;function n(r,i,o){var s=i.getStartKey(),l=i.getEndKey(),c=r.getBlockMap(),u=c.toSeq().skipUntil(function(h,p){return p===s}).takeUntil(function(h,p){return p===l}).concat(t([[l,c.get(l)]])).map(o);return r.merge({blockMap:c.merge(u),selectionBefore:i,selectionAfter:i})}return A_=n,A_}var L_,yB;function bB(){if(yB)return L_;yB=1;var e=ga(),t=function(r,i){var o=r instanceof e;if(!o)return null;var s=r.getNextSiblingKey();if(s)return s;var l=r.getParentKey();if(!l)return null;for(var c=i.get(l);c&&!c.getNextSiblingKey();){var u=c.getParentKey();c=u?i.get(u):null}return c?c.getNextSiblingKey():null};return L_=t,L_}var N_,wB;function Dfe(){if(wB)return N_;wB=1;var e=ga(),t=bB(),n=kr();n.List;var r=n.Map,i=function(m,y,b){if(m){var v=y.get(m);v&&y.set(m,b(v))}},o=function(m,y){var b=[];if(!m)return b;for(var v=y.get(m);v&&v.getParentKey();){var S=v.getParentKey();S&&b.push(S),v=S?y.get(S):null}return b},s=function(m,y){var b=[];if(!m)return b;for(var v=t(m,y);v&&y.get(v);){var S=y.get(v);b.push(v),v=S.getParentKey()?t(S,y):null}return b},l=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getNextSiblingKey();v&&!y.get(v);)v=b.get(v).getNextSiblingKey()||null;return v},c=function(m,y,b){if(!m)return null;for(var v=b.get(m.getKey()).getPrevSiblingKey();v&&!y.get(v);)v=b.get(v).getPrevSiblingKey()||null;return v},u=function(m,y,b,v){return m.withMutations(function(S){if(i(y.getKey(),S,function(I){return I.merge({nextSibling:l(I,S,v),prevSibling:c(I,S,v)})}),i(b.getKey(),S,function(I){return I.merge({nextSibling:l(I,S,v),prevSibling:c(I,S,v)})}),o(y.getKey(),v).forEach(function(I){return i(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(D){return S.get(D)}),nextSibling:l(N,S,v),prevSibling:c(N,S,v)})})}),i(y.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:y.getPrevSiblingKey()})}),i(y.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:l(I,S,v)})}),i(b.getNextSiblingKey(),S,function(I){return I.merge({prevSibling:c(I,S,v)})}),i(b.getPrevSiblingKey(),S,function(I){return I.merge({nextSibling:b.getNextSiblingKey()})}),o(b.getKey(),v).forEach(function(I){i(I,S,function(N){return N.merge({children:N.getChildKeys().filter(function(D){return S.get(D)}),nextSibling:l(N,S,v),prevSibling:c(N,S,v)})})}),s(b,v).forEach(function(I){return i(I,S,function(N){return N.merge({nextSibling:l(N,S,v),prevSibling:c(N,S,v)})})}),m.get(y.getKey())==null&&m.get(b.getKey())!=null&&b.getParentKey()===y.getKey()&&b.getPrevSiblingKey()==null){var E=y.getPrevSiblingKey();i(b.getKey(),S,function(I){return I.merge({prevSibling:E})}),i(E,S,function(I){return I.merge({nextSibling:b.getKey()})});var T=E?m.get(E):null,O=T?T.getParentKey():null;if(y.getChildKeys().forEach(function(I){i(I,S,function(N){return N.merge({parent:O})})}),O!=null){var M=m.get(O);i(O,S,function(I){return I.merge({children:M.getChildKeys().concat(y.getChildKeys())})})}i(y.getChildKeys().find(function(I){var N=m.get(I);return N.getNextSiblingKey()===null}),S,function(I){return I.merge({nextSibling:y.getNextSiblingKey()})})}})},h=function(m,y){if(y.isCollapsed())return m;var b=m.getBlockMap(),v=y.getStartKey(),S=y.getStartOffset(),E=y.getEndKey(),T=y.getEndOffset(),O=b.get(v),M=b.get(E),I=O instanceof e,N=[];if(I){var D=M.getChildKeys(),L=o(E,b);M.getNextSiblingKey()&&(N=N.concat(L)),D.isEmpty()||(N=N.concat(L.concat([E]))),N=N.concat(o(t(M,b),b))}var A;O===M?A=p(O.getCharacterList(),S,T):A=O.getCharacterList().slice(0,S).concat(M.getCharacterList().slice(T));var $=O.merge({text:O.getText().slice(0,S)+M.getText().slice(T),characterList:A}),j=I&&S===0&&T===0&&M.getParentKey()===v&&M.getPrevSiblingKey()==null,U=j?r([[v,null]]):b.toSeq().skipUntil(function(q,z){return z===v}).takeUntil(function(q,z){return z===E}).filter(function(q,z){return N.indexOf(z)===-1}).concat(r([[E,null]])).map(function(q,z){return z===v?$:null}),K=b.merge(U).filter(function(q){return!!q});return I&&O!==M&&(K=u(K,O,M,b)),m.merge({blockMap:K,selectionBefore:y,selectionAfter:y.merge({anchorKey:v,anchorOffset:S,focusKey:v,focusOffset:S,isBackward:!1})})},p=function(m,y,b){if(y===0)for(;y<b;)m=m.shift(),y++;else if(b===m.count())for(;b>y;)m=m.pop(),b--;else{var v=m.slice(0,y),S=m.slice(b);m=v.concat(S).toList()}return m};return N_=h,N_}var B_,SB;function Afe(){if(SB)return B_;SB=1;var e=ga(),t=jl(),n=kr(),r=Lr(),i=vB(),o=n.List,s=n.Map,l=function(p,g,m){if(p){var y=g.get(p);y&&g.set(p,m(y))}},c=function(p,g,m){return p.withMutations(function(y){var b=g.getKey(),v=m.getKey();l(g.getParentKey(),y,function(S){var E=S.getChildKeys(),T=E.indexOf(b)+1,O=E.toArray();return O.splice(T,0,v),S.merge({children:o(O)})}),l(g.getNextSiblingKey(),y,function(S){return S.merge({prevSibling:v})}),l(b,y,function(S){return S.merge({nextSibling:v})}),l(v,y,function(S){return S.merge({prevSibling:b})})})},u=function(p,g){g.isCollapsed()||r(!1);var m=g.getAnchorKey(),y=p.getBlockMap(),b=y.get(m),v=b.getText();if(!v){var S=b.getType();if(S==="unordered-list-item"||S==="ordered-list-item")return i(p,g,function($){return $.merge({type:"unstyled",depth:0})})}var E=g.getAnchorOffset(),T=b.getCharacterList(),O=t(),M=b instanceof e,I=b.merge({text:v.slice(0,E),characterList:T.slice(0,E)}),N=I.merge({key:O,text:v.slice(E),characterList:T.slice(E),data:s()}),D=y.toSeq().takeUntil(function($){return $===b}),L=y.toSeq().skipUntil(function($){return $===b}).rest(),A=D.concat([[m,I],[O,N]],L).toOrderedMap();return M&&(b.getChildKeys().isEmpty()||r(!1),A=c(A,I,N)),p.merge({blockMap:A,selectionBefore:g,selectionAfter:g.merge({anchorKey:O,anchorOffset:0,focusKey:O,focusOffset:0,isBackward:!1})})};return B_=u,B_}var F_,CB;function gs(){if(CB)return F_;CB=1;var e=pa(),t=Efe(),n=Mfe(),r=Ife(),i=eb(),o=kr(),s=kfe(),l=Pfe(),c=Lr(),u=vB(),h=uB(),p=Dfe(),g=Afe(),m=o.OrderedSet,y={replaceText:function(v,S,E,T,O){var M=h(v,S),I=p(M,S),N=e.create({style:T||m(),entity:O||null});return l(I,I.getSelectionAfter(),E,N)},insertText:function(v,S,E,T,O){return S.isCollapsed()||c(!1),y.replaceText(v,S,E,T,O)},moveText:function(v,S,E){var T=i(v,S),O=y.removeRange(v,S,"backward");return y.replaceWithFragment(O,E,T)},replaceWithFragment:function(v,S,E){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",O=h(v,S),M=p(O,S);return s(M,M.getSelectionAfter(),E,T)},removeRange:function(v,S,E){var T,O,M,I;S.getIsBackward()&&(S=S.merge({anchorKey:S.getFocusKey(),anchorOffset:S.getFocusOffset(),focusKey:S.getAnchorKey(),focusOffset:S.getAnchorOffset(),isBackward:!1})),T=S.getAnchorKey(),O=S.getFocusKey(),M=v.getBlockForKey(T),I=v.getBlockForKey(O);var N=S.getStartOffset(),D=S.getEndOffset(),L=M.getEntityAt(N),A=I.getEntityAt(D-1);if(T===O&&L&&L===A){var $=r(v.getEntityMap(),M,I,S,E);return p(v,$)}var j=h(v,S);return p(j,S)},splitBlock:function(v,S){var E=h(v,S),T=p(E,S);return g(T,T.getSelectionAfter())},applyInlineStyle:function(v,S,E){return t.add(v,S,E)},removeInlineStyle:function(v,S,E){return t.remove(v,S,E)},setBlockType:function(v,S,E){return u(v,S,function(T){return T.merge({type:E,depth:0})})},setBlockData:function(v,S,E){return u(v,S,function(T){return T.merge({data:E})})},mergeBlockData:function(v,S,E){return u(v,S,function(T){return T.merge({data:T.getData().merge(E)})})},applyEntity:function(v,S,E){var T=h(v,S);return n(T,S,E)}};return F_=y,F_}var j_,xB;function _B(){if(xB)return j_;xB=1;function e(t){return Object.keys(t).map(function(n){return t[n]})}return j_=e,j_}var V_,EB;function Lfe(){if(EB)return V_;EB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},O=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),O.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}function n(S,E){if(S==null)return{};var T={},O=Object.keys(S),M,I;for(I=0;I<O.length;I++)M=O[I],!(E.indexOf(M)>=0)&&(T[M]=S[M]);return T}var r=Og(),i=_B(),o=kr(),s=o.List,l=o.Repeat,c=o.Record,u=function(){return!0},h={start:null,end:null},p=c(h),g={start:null,end:null,decoratorKey:null,leaves:null},m=c(g),y={generate:function(E,T,O){var M=T.getLength();if(!M)return s.of(new m({start:0,end:0,decoratorKey:null,leaves:s.of(new p({start:0,end:0}))}));var I=[],N=O?O.getDecorations(T,E):s(l(null,M)),D=T.getCharacterList();return r(N,v,u,function(L,A){I.push(new m({start:L,end:A,decoratorKey:N.get(L),leaves:b(D.slice(L,A).toList(),L)}))}),s(I)},fromJS:function(E){var T=E.leaves,O=n(E,["leaves"]);return new m(e({},O,{leaves:T!=null?s(Array.isArray(T)?T:i(T)).map(function(M){return p(M)}):null}))}};function b(S,E){var T=[],O=S.map(function(M){return M.getStyle()}).toList();return r(O,v,u,function(M,I){T.push(new p({start:M+E,end:I+E}))}),s(T)}function v(S,E){return S===E}return V_=y,V_}var $_,TB;function MB(){if(TB)return $_;TB=1;function e(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s}var t=kr(),n=t.Record,r=n({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),i=(function(o){e(s,o);function s(){return o.apply(this,arguments)||this}var l=s.prototype;return l.getType=function(){return this.get("type")},l.getMutability=function(){return this.get("mutability")},l.getData=function(){return this.get("data")},s})(r);return $_=i,$_}var z_,OB;function Nfe(){if(OB)return z_;OB=1;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,r=t=="x"?n:n&3|8;return r.toString(16)})}return z_=e,z_}var U_,RB;function tb(){if(RB)return U_;RB=1;function e(p){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{},y=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(m).filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable}))),y.forEach(function(b){t(p,b,m[b])})}return p}function t(p,g,m){return g in p?Object.defineProperty(p,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[g]=m,p}var n=MB(),r=kr(),i=Lr(),o=Nfe(),s=r.Map,l=s(),c=o();function u(p,g){console.warn("WARNING: "+p+` will be deprecated soon!
Please use "`+g+'" instead.')}var h={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),h.__getLastCreatedEntityKey()},create:function(g,m,y){return u("DraftEntity.create","contentState.createEntity"),h.__create(g,m,y)},add:function(g){return u("DraftEntity.add","contentState.addEntity"),h.__add(g)},get:function(g){return u("DraftEntity.get","contentState.getEntity"),h.__get(g)},__getAll:function(){return l},__loadWithEntities:function(g){l=g,c=o()},mergeData:function(g,m){return u("DraftEntity.mergeData","contentState.mergeEntityData"),h.__mergeData(g,m)},replaceData:function(g,m){return u("DraftEntity.replaceData","contentState.replaceEntityData"),h.__replaceData(g,m)},__getLastCreatedEntityKey:function(){return c},__create:function(g,m,y){return h.__add(new n({type:g,mutability:m,data:y||{}}))},__add:function(g){return c=o(),l=l.set(c,g),c},__get:function(g){var m=l.get(g);return m||i(!1),m},__mergeData:function(g,m){var y=h.__get(g),b=e({},y.getData(),m),v=y.set("data",b);return l=l.set(g,v),v},__replaceData:function(g,m){var y=h.__get(g),b=y.set("data",m);return l=l.set(g,b),b}};return U_=h,U_}var H_,IB;function nb(){if(IB)return H_;IB=1;function e(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.__proto__=l}var t=kr(),n=t.Record,r={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},i=n(r),o=(function(s){e(l,s);function l(){return s.apply(this,arguments)||this}var c=l.prototype;return c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},c.getAnchorKey=function(){return this.get("anchorKey")},c.getAnchorOffset=function(){return this.get("anchorOffset")},c.getFocusKey=function(){return this.get("focusKey")},c.getFocusOffset=function(){return this.get("focusOffset")},c.getIsBackward=function(){return this.get("isBackward")},c.getHasFocus=function(){return this.get("hasFocus")},c.hasEdgeWithin=function(h,p,g){var m=this.getAnchorKey(),y=this.getFocusKey();if(m===y&&m===h){var b=this.getStartOffset(),v=this.getEndOffset();return p<=b&&b<=g||p<=v&&v<=g}if(h!==m&&h!==y)return!1;var S=h===m?this.getAnchorOffset():this.getFocusOffset();return p<=S&&g>=S},c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},l.createEmpty=function(h){return new l({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1,hasFocus:!1})},l})(i);return H_=o,H_}var G_,kB;function vu(){return kB||(kB=1,G_=function(e){return typeof window<"u"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1}),G_}var W_,PB;function DB(){if(PB)return W_;PB=1;var e=new RegExp("\r","g");function t(n){return n.replace(e,"")}return W_=t,W_}var K_,AB;function q_(){if(AB)return K_;AB=1;function e(N){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{},A=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),A.forEach(function($){t(N,$,L[$])})}return N}function t(N,D,L){return D in N?Object.defineProperty(N,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[D]=L,N}function n(N,D){N.prototype=Object.create(D.prototype),N.prototype.constructor=N,N.__proto__=D}var r=Mg(),i=pa(),o=Yd(),s=ga(),l=tb(),c=nb(),u=jl(),h=_B(),p=vu(),g=kr(),m=DB(),y=g.List,b=g.Record,v=g.Repeat,S=g.Map,E=g.OrderedMap,T={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},O=b(T),M=p("draft_tree_data_support")?s:o,I=(function(N){n(D,N);function D(){return N.apply(this,arguments)||this}var L=D.prototype;return L.getEntityMap=function(){return l},L.getBlockMap=function(){return this.get("blockMap")},L.getSelectionBefore=function(){return this.get("selectionBefore")},L.getSelectionAfter=function(){return this.get("selectionAfter")},L.getBlockForKey=function($){var j=this.getBlockMap().get($);return j},L.getKeyBefore=function($){return this.getBlockMap().reverse().keySeq().skipUntil(function(j){return j===$}).skip(1).first()},L.getKeyAfter=function($){return this.getBlockMap().keySeq().skipUntil(function(j){return j===$}).skip(1).first()},L.getBlockAfter=function($){return this.getBlockMap().skipUntil(function(j,U){return U===$}).skip(1).first()},L.getBlockBefore=function($){return this.getBlockMap().reverse().skipUntil(function(j,U){return U===$}).skip(1).first()},L.getBlocksAsArray=function(){return this.getBlockMap().toArray()},L.getFirstBlock=function(){return this.getBlockMap().first()},L.getLastBlock=function(){return this.getBlockMap().last()},L.getPlainText=function($){return this.getBlockMap().map(function(j){return j?j.getText():""}).join($||`
`)},L.getLastCreatedEntityKey=function(){return l.__getLastCreatedEntityKey()},L.hasText=function(){var $=this.getBlockMap();return $.size>1||escape($.first().getText()).replace(/%u200B/g,"").length>0},L.createEntity=function($,j,U){return l.__create($,j,U),this},L.mergeEntityData=function($,j){return l.__mergeData($,j),this},L.replaceEntityData=function($,j){return l.__replaceData($,j),this},L.addEntity=function($){return l.__add($),this},L.getEntity=function($){return l.__get($)},L.getAllEntities=function(){return l.__getAll()},L.loadWithEntities=function($){return l.__loadWithEntities($)},D.createFromBlockArray=function($,j){var U=Array.isArray($)?$:$.contentBlocks,K=r.createFromArray(U),q=K.isEmpty()?new c:c.createEmpty(K.first().getKey());return new D({blockMap:K,entityMap:j||l,selectionBefore:q,selectionAfter:q})},D.createFromText=function($){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,U=$.split(j),K=U.map(function(q){return q=m(q),new M({key:u(),text:q,type:"unstyled",characterList:y(v(i.EMPTY,q.length))})});return D.createFromBlockArray(K)},D.fromJS=function($){return new D(e({},$,{blockMap:E($.blockMap).map(D.createContentBlockFromJS),selectionBefore:new c($.selectionBefore),selectionAfter:new c($.selectionAfter)}))},D.createContentBlockFromJS=function($){var j=$.characterList;return new M(e({},$,{data:S($.data),characterList:j!=null?y((Array.isArray(j)?j:h(j)).map(function(U){return i.fromJS(U)})):void 0}))},D})(O);return K_=I,K_}var Y_,LB;function rb(){if(LB)return Y_;LB=1;var e=Lr(),t="NEUTRAL",n="LTR",r="RTL",i=null;function o(g){return g===n||g===r}function s(g){return o(g)||e(!1),g===n?"ltr":"rtl"}function l(g,m){return o(g)||e(!1),o(m)||e(!1),g===m?null:s(g)}function c(g){i=g}function u(){c(n)}function h(){return i||this.initGlobalDir(),i||e(!1),i}var p={NEUTRAL:t,LTR:n,RTL:r,isStrong:o,getHTMLDir:s,getHTMLDirIfDifferent:l,setGlobalDir:c,initGlobalDir:u,getGlobalDir:h};return Y_=p,Y_}var X_,NB;function Z_(){if(NB)return X_;NB=1;var e=rb(),t=Lr(),n={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},r=new RegExp("["+n.L+n.R+n.AL+"]"),i=new RegExp("["+n.R+n.AL+"]");function o(g){var m=r.exec(g);return m==null?null:m[0]}function s(g){var m=o(g);return m==null?e.NEUTRAL:i.exec(m)?e.RTL:e.LTR}function l(g,m){if(m=m||e.NEUTRAL,!g.length)return m;var y=s(g);return y===e.NEUTRAL?m:y}function c(g,m){return m||(m=e.getGlobalDir()),e.isStrong(m)||t(!1),l(g,m)}function u(g,m){return c(g,m)===e.LTR}function h(g,m){return c(g,m)===e.RTL}var p={firstStrongChar:o,firstStrongCharDir:s,resolveBlockDir:l,getDirection:c,isDirectionLTR:u,isDirectionRTL:h};return X_=p,X_}var Q_,BB;function Bfe(){if(BB)return Q_;BB=1;function e(o,s,l){return s in o?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,o}var t=Z_(),n=rb(),r=Lr(),i=(function(){function o(l){e(this,"_defaultDir",void 0),e(this,"_lastDir",void 0),l?n.isStrong(l)||r(!1):l=n.getGlobalDir(),this._defaultDir=l,this.reset()}var s=o.prototype;return s.reset=function(){this._lastDir=this._defaultDir},s.getDirection=function(c){return this._lastDir=t.getDirection(c,this._lastDir),this._lastDir},o})();return Q_=i,Q_}var J_,FB;function ms(){if(FB)return J_;FB=1;var e=function(n){if(n!=null)return n;throw new Error("Got unexpected null or undefined")};return J_=e,J_}var eE,jB;function Ffe(){if(jB)return eE;jB=1;var e=Bfe(),t=kr(),n=ms(),r=t.OrderedMap,i,o={getDirectionMap:function(l,c){i?i.reset():i=new e;var u=l.getBlockMap(),h=u.valueSeq().map(function(g){return n(i).getDirection(g.getText())}),p=r(u.keySeq().zip(h));return c!=null&&t.is(c,p)?c:p}};return eE=o,eE}var tE,VB;function si(){if(VB)return tE;VB=1;function e(N){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{},A=Object.keys(L);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(L).filter(function($){return Object.getOwnPropertyDescriptor(L,$).enumerable}))),A.forEach(function($){t(N,$,L[$])})}return N}function t(N,D,L){return D in N?Object.defineProperty(N,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[D]=L,N}var n=Lfe(),r=q_(),i=Ffe(),o=nb(),s=kr(),l=s.OrderedSet,c=s.Record,u=s.Stack,h=s.OrderedMap,p=s.List,g={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:u(),selection:null,treeMap:null,undoStack:u()},m=c(g),y=(function(){D.createEmpty=function(A){return this.createWithText("",A)},D.createWithText=function(A,$){return D.createWithContent(r.createFromText(A),$)},D.createWithContent=function(A,$){if(A.getBlockMap().count()===0)return D.createEmpty($);var j=A.getBlockMap().first().getKey();return D.create({currentContent:A,undoStack:u(),redoStack:u(),decorator:$||null,selection:o.createEmpty(j)})},D.create=function(A){var $=A.currentContent,j=A.decorator,U=e({},A,{treeMap:v($,j),directionMap:i.getDirectionMap($)});return new D(new m(U))},D.fromJS=function(A){return new D(new m(e({},A,{directionMap:A.directionMap!=null?h(A.directionMap):A.directionMap,inlineStyleOverride:A.inlineStyleOverride!=null?l(A.inlineStyleOverride):A.inlineStyleOverride,nativelyRenderedContent:A.nativelyRenderedContent!=null?r.fromJS(A.nativelyRenderedContent):A.nativelyRenderedContent,redoStack:A.redoStack!=null?u(A.redoStack.map(function($){return r.fromJS($)})):A.redoStack,selection:A.selection!=null?new o(A.selection):A.selection,treeMap:A.treeMap!=null?h(A.treeMap).map(function($){return p($).map(function(j){return n.fromJS(j)})}):A.treeMap,undoStack:A.undoStack!=null?u(A.undoStack.map(function($){return r.fromJS($)})):A.undoStack,currentContent:r.fromJS(A.currentContent)})))},D.set=function(A,$){var j=A.getImmutable().withMutations(function(U){var K=U.get("decorator"),q=K;$.decorator===null?q=null:$.decorator&&(q=$.decorator);var z=$.currentContent||A.getCurrentContent();if(q!==K){var Y=U.get("treeMap"),te;q&&K?te=E(z,z.getBlockMap(),Y,q,K):te=v(z,q),U.merge({decorator:q,treeMap:te,nativelyRenderedContent:null});return}var ie=A.getCurrentContent();z!==ie&&U.set("treeMap",S(A,z.getBlockMap(),z.getEntityMap(),q)),U.merge($)});return new D(j)};var N=D.prototype;N.toJS=function(){return this.getImmutable().toJS()},N.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},N.getCurrentContent=function(){return this.getImmutable().get("currentContent")},N.getUndoStack=function(){return this.getImmutable().get("undoStack")},N.getRedoStack=function(){return this.getImmutable().get("redoStack")},N.getSelection=function(){return this.getImmutable().get("selection")},N.getDecorator=function(){return this.getImmutable().get("decorator")},N.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},N.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},N.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},N.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},N.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},D.setInlineStyleOverride=function(A,$){return D.set(A,{inlineStyleOverride:$})},N.getCurrentInlineStyle=function(){var A=this.getInlineStyleOverride();if(A!=null)return A;var $=this.getCurrentContent(),j=this.getSelection();return j.isCollapsed()?O($,j):M($,j)},N.getBlockTree=function(A){return this.getImmutable().getIn(["treeMap",A])},N.isSelectionAtStartOfContent=function(){var A=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(A,0,0)},N.isSelectionAtEndOfContent=function(){var A=this.getCurrentContent(),$=A.getBlockMap(),j=$.last(),U=j.getLength();return this.getSelection().hasEdgeWithin(j.getKey(),U,U)},N.getDirectionMap=function(){return this.getImmutable().get("directionMap")},D.acceptSelection=function(A,$){return b(A,$,!1)},D.forceSelection=function(A,$){return $.getHasFocus()||($=$.set("hasFocus",!0)),b(A,$,!0)},D.moveSelectionToEnd=function(A){var $=A.getCurrentContent(),j=$.getLastBlock(),U=j.getKey(),K=j.getLength();return D.acceptSelection(A,new o({anchorKey:U,anchorOffset:K,focusKey:U,focusOffset:K,isBackward:!1}))},D.moveFocusToEnd=function(A){var $=D.moveSelectionToEnd(A);return D.forceSelection($,$.getSelection())},D.push=function(A,$,j){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(A.getCurrentContent()===$)return A;var K=i.getDirectionMap($,A.getDirectionMap());if(!A.getAllowUndo())return D.set(A,{currentContent:$,directionMap:K,lastChangeType:j,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:null});var q=A.getSelection(),z=A.getCurrentContent(),Y=A.getUndoStack(),te=$;q!==z.getSelectionAfter()||T(A,j)?(Y=Y.push(z),te=te.set("selectionBefore",q)):(j==="insert-characters"||j==="backspace-character"||j==="delete-character")&&(te=te.set("selectionBefore",z.getSelectionBefore()));var ie=A.getInlineStyleOverride(),Q=["adjust-depth","change-block-type","split-block"];Q.indexOf(j)===-1&&(ie=null);var H={currentContent:te,directionMap:K,undoStack:Y,redoStack:u(),lastChangeType:j,selection:$.getSelectionAfter(),forceSelection:U,inlineStyleOverride:ie};return D.set(A,H)},D.undo=function(A){if(!A.getAllowUndo())return A;var $=A.getUndoStack(),j=$.peek();if(!j)return A;var U=A.getCurrentContent(),K=i.getDirectionMap(j,A.getDirectionMap());return D.set(A,{currentContent:j,directionMap:K,undoStack:$.shift(),redoStack:A.getRedoStack().push(U),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:U.getSelectionBefore()})},D.redo=function(A){if(!A.getAllowUndo())return A;var $=A.getRedoStack(),j=$.peek();if(!j)return A;var U=A.getCurrentContent(),K=i.getDirectionMap(j,A.getDirectionMap());return D.set(A,{currentContent:j,directionMap:K,undoStack:A.getUndoStack().push(U),redoStack:$.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:j.getSelectionAfter()})};function D(L){t(this,"_immutable",void 0),this._immutable=L}return N.getImmutable=function(){return this._immutable},D})();function b(N,D,L){return y.set(N,{selection:D,forceSelection:L,nativelyRenderedContent:null,inlineStyleOverride:null})}function v(N,D){return N.getBlockMap().map(function(L){return n.generate(N,L,D)}).toOrderedMap()}function S(N,D,L,A){var $=N.getCurrentContent().set("entityMap",L),j=$.getBlockMap(),U=N.getImmutable().get("treeMap");return U.merge(D.toSeq().filter(function(K,q){return K!==j.get(q)}).map(function(K){return n.generate($,K,A)}))}function E(N,D,L,A,$){return L.merge(D.toSeq().filter(function(j){return A.getDecorations(j,N)!==$.getDecorations(j,N)}).map(function(j){return n.generate(N,j,A)}))}function T(N,D){var L=N.getLastChangeType();return D!==L||D!=="insert-characters"&&D!=="backspace-character"&&D!=="delete-character"}function O(N,D){var L=D.getStartKey(),A=D.getStartOffset(),$=N.getBlockForKey(L);return A>0?$.getInlineStyleAt(A-1):$.getLength()?$.getInlineStyleAt(0):I(N,L)}function M(N,D){var L=D.getStartKey(),A=D.getStartOffset(),$=N.getBlockForKey(L);return A<$.getLength()?$.getInlineStyleAt(A):A>0?$.getInlineStyleAt(A-1):I(N,L)}function I(N,D){var L=N.getBlockMap().reverse().skipUntil(function(A,$){return $===D}).skip(1).skipUntil(function(A,$){return A.getLength()}).first();return L?L.getInlineStyleAt(L.getLength()-1):l()}return tE=y,tE}var nE,$B;function jfe(){if($B)return nE;$B=1;var e=ga(),t=bB(),n=kr(),r=Lr(),i=n.OrderedMap,o=n.List,s=function(h,p,g){if(h){var m=p.get(h);m&&p.set(h,g(m))}},l=function(h,p,g,m,y){if(!y)return h;var b=m==="after",v=p.getKey(),S=g.getKey(),E=p.getParentKey(),T=p.getNextSiblingKey(),O=p.getPrevSiblingKey(),M=g.getParentKey(),I=b?g.getNextSiblingKey():S,N=b?S:g.getPrevSiblingKey();return h.withMutations(function(D){s(E,D,function(L){var A=L.getChildKeys();return L.merge({children:A.delete(A.indexOf(v))})}),s(O,D,function(L){return L.merge({nextSibling:T})}),s(T,D,function(L){return L.merge({prevSibling:O})}),s(I,D,function(L){return L.merge({prevSibling:v})}),s(N,D,function(L){return L.merge({nextSibling:v})}),s(M,D,function(L){var A=L.getChildKeys(),$=A.indexOf(S),j=b?$+1:$!==0?$-1:0,U=A.toArray();return U.splice(j,0,v),L.merge({children:o(U)})}),s(v,D,function(L){return L.merge({nextSibling:I,prevSibling:N,parent:M})})})},c=function(h,p,g,m){m==="replace"&&r(!1);var y=g.getKey(),b=p.getKey();b===y&&r(!1);var v=h.getBlockMap(),S=p instanceof e,E=[p],T=v.delete(b);S&&(E=[],T=v.withMutations(function(A){var $=p.getNextSiblingKey(),j=t(p,A);A.toSeq().skipUntil(function(U){return U.getKey()===b}).takeWhile(function(U){var K=U.getKey(),q=K===b,z=$&&K!==$,Y=!$&&U.getParentKey()&&(!j||K!==j);return!!(q||z||Y)}).forEach(function(U){E.push(U),A.delete(U.getKey())})}));var O=T.toSeq().takeUntil(function(A){return A===g}),M=T.toSeq().skipUntil(function(A){return A===g}).skip(1),I=E.map(function(A){return[A.getKey(),A]}),N=i();if(m==="before"){var D=h.getBlockBefore(y);!D||D.getKey()!==p.getKey()||r(!1),N=O.concat([].concat(I,[[y,g]]),M).toOrderedMap()}else if(m==="after"){var L=h.getBlockAfter(y);!L||L.getKey()!==b||r(!1),N=O.concat([[y,g]].concat(I),M).toOrderedMap()}return h.merge({blockMap:l(N,p,g,m,S),selectionBefore:h.getSelectionAfter(),selectionAfter:h.getSelectionAfter().merge({anchorKey:b,focusKey:b})})};return nE=c,nE}var rE,zB;function Vfe(){if(zB)return rE;zB=1;function e(S){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{},O=Object.keys(T);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(T).filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable}))),O.forEach(function(M){t(S,M,T[M])})}return S}function t(S,E,T){return E in S?Object.defineProperty(S,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[E]=T,S}var n=Mg(),r=pa(),i=Yd(),o=ga(),s=gs(),l=si(),c=jl(),u=vu(),h=kr(),p=jfe(),g=u("draft_tree_data_support"),m=g?o:i,y=h.List,b=h.Repeat,v={insertAtomicBlock:function(E,T,O){var M=E.getCurrentContent(),I=E.getSelection(),N=s.removeRange(M,I,"backward"),D=N.getSelectionAfter(),L=s.splitBlock(N,D),A=L.getSelectionAfter(),$=s.setBlockType(L,A,"atomic"),j=r.create({entity:T}),U={key:c(),type:"atomic",text:O,characterList:y(b(j,O.length))},K={key:c(),type:"unstyled"};g&&(U=e({},U,{nextSibling:K.key}),K=e({},K,{prevSibling:U.key}));var q=[new m(U),new m(K)],z=n.createFromArray(q),Y=s.replaceWithFragment($,A,z),te=Y.merge({selectionBefore:I,selectionAfter:Y.getSelectionAfter().set("hasFocus",!0)});return l.push(E,te,"insert-fragment")},moveAtomicBlock:function(E,T,O,M){var I=E.getCurrentContent(),N=E.getSelection(),D;if(M==="before"||M==="after"){var L=I.getBlockForKey(M==="before"?O.getStartKey():O.getEndKey());D=p(I,T,L,M)}else{var A=s.removeRange(I,O,"backward"),$=A.getSelectionAfter(),j=A.getBlockForKey($.getFocusKey());if($.getStartOffset()===0)D=p(A,T,j,"before");else if($.getEndOffset()===j.getLength())D=p(A,T,j,"after");else{var U=s.splitBlock(A,$),K=U.getSelectionAfter(),q=U.getBlockForKey(K.getFocusKey());D=p(U,T,q,"before")}}var z=D.merge({selectionBefore:N,selectionAfter:D.getSelectionAfter().set("hasFocus",!0)});return l.push(E,z,"move-block")}};return rE=v,rE}var iE,UB;function $fe(){if(UB)return iE;UB=1;function e(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}var t=kr(),n=t.List,r=".",i=(function(){function l(u){e(this,"_decorators",void 0),this._decorators=u.slice()}var c=l.prototype;return c.getDecorations=function(h,p){var g=Array(h.getText().length).fill(null);return this._decorators.forEach(function(m,y){var b=0,v=m.strategy,S=function(T,O){o(g,T,O)&&(s(g,T,O,y+r+b),b++)};v(h,S,p)}),n(g)},c.getComponentForKey=function(h){var p=parseInt(h.split(r)[0],10);return this._decorators[p].component},c.getPropsForKey=function(h){var p=parseInt(h.split(r)[0],10);return this._decorators[p].props},l})();function o(l,c,u){for(var h=c;h<u;h++)if(l[h]!=null)return!1;return!0}function s(l,c,u,h){for(var p=c;p<u;p++)l[p]=h}return iE=i,iE}var oE={exports:{}},Hn={};var HB;function zfe(){if(HB)return Hn;HB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function S(H,X,he){this.props=H,this.context=X,this.refs=v,this.updater=he||y}S.prototype.isReactComponent={},S.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=S.prototype;function T(H,X,he){this.props=H,this.context=X,this.refs=v,this.updater=he||y}var O=T.prototype=new E;O.constructor=T,b(O,S.prototype),O.isPureReactComponent=!0;var M=Array.isArray;function I(){}var N={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function L(H,X,he){var pe=he.ref;return{$$typeof:e,type:H,key:X,ref:pe!==void 0?pe:null,props:he}}function A(H,X){return L(H.type,X,H.props)}function $(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function j(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return X[he]})}var U=/\/+/g;function K(H,X){return typeof H=="object"&&H!==null&&H.key!=null?j(""+H.key):X.toString(36)}function q(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(I,I):(H.status="pending",H.then(function(X){H.status==="pending"&&(H.status="fulfilled",H.value=X)},function(X){H.status==="pending"&&(H.status="rejected",H.reason=X)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function z(H,X,he,pe,ge){var ce=typeof H;(ce==="undefined"||ce==="boolean")&&(H=null);var be=!1;if(H===null)be=!0;else switch(ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(H.$$typeof){case e:case t:be=!0;break;case h:return be=H._init,z(be(H._payload),X,he,pe,ge)}}if(be)return ge=ge(H),be=pe===""?"."+K(H,0):pe,M(ge)?(he="",be!=null&&(he=be.replace(U,"$&/")+"/"),z(ge,X,he,"",function(me){return me})):ge!=null&&($(ge)&&(ge=A(ge,he+(ge.key==null||H&&H.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+be)),X.push(ge)),1;be=0;var Ne=pe===""?".":pe+":";if(M(H))for(var _e=0;_e<H.length;_e++)pe=H[_e],ce=Ne+K(pe,_e),be+=z(pe,X,he,ce,ge);else if(_e=m(H),typeof _e=="function")for(H=_e.call(H),_e=0;!(pe=H.next()).done;)pe=pe.value,ce=Ne+K(pe,_e++),be+=z(pe,X,he,ce,ge);else if(ce==="object"){if(typeof H.then=="function")return z(q(H),X,he,pe,ge);throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return be}function Y(H,X,he){if(H==null)return H;var pe=[],ge=0;return z(H,pe,"","",function(ce){return X.call(he,ce,ge++)}),pe}function te(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var ie=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Q={map:Y,forEach:function(H,X,he){Y(H,function(){X.apply(this,arguments)},he)},count:function(H){var X=0;return Y(H,function(){X++}),X},toArray:function(H){return Y(H,function(X){return X})||[]},only:function(H){if(!$(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Hn.Activity=p,Hn.Children=Q,Hn.Component=S,Hn.Fragment=n,Hn.Profiler=i,Hn.PureComponent=T,Hn.StrictMode=r,Hn.Suspense=c,Hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Hn.__COMPILER_RUNTIME={__proto__:null,c:function(H){return N.H.useMemoCache(H)}},Hn.cache=function(H){return function(){return H.apply(null,arguments)}},Hn.cacheSignal=function(){return null},Hn.cloneElement=function(H,X,he){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var pe=b({},H.props),ge=H.key;if(X!=null)for(ce in X.key!==void 0&&(ge=""+X.key),X)!D.call(X,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&X.ref===void 0||(pe[ce]=X[ce]);var ce=arguments.length-2;if(ce===1)pe.children=he;else if(1<ce){for(var be=Array(ce),Ne=0;Ne<ce;Ne++)be[Ne]=arguments[Ne+2];pe.children=be}return L(H.type,ge,pe)},Hn.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Hn.createElement=function(H,X,he){var pe,ge={},ce=null;if(X!=null)for(pe in X.key!==void 0&&(ce=""+X.key),X)D.call(X,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(ge[pe]=X[pe]);var be=arguments.length-2;if(be===1)ge.children=he;else if(1<be){for(var Ne=Array(be),_e=0;_e<be;_e++)Ne[_e]=arguments[_e+2];ge.children=Ne}if(H&&H.defaultProps)for(pe in be=H.defaultProps,be)ge[pe]===void 0&&(ge[pe]=be[pe]);return L(H,ce,ge)},Hn.createRef=function(){return{current:null}},Hn.forwardRef=function(H){return{$$typeof:l,render:H}},Hn.isValidElement=$,Hn.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:te}},Hn.memo=function(H,X){return{$$typeof:u,type:H,compare:X===void 0?null:X}},Hn.startTransition=function(H){var X=N.T,he={};N.T=he;try{var pe=H(),ge=N.S;ge!==null&&ge(he,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(I,ie)}catch(ce){ie(ce)}finally{X!==null&&he.types!==null&&(X.types=he.types),N.T=X}},Hn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Hn.use=function(H){return N.H.use(H)},Hn.useActionState=function(H,X,he){return N.H.useActionState(H,X,he)},Hn.useCallback=function(H,X){return N.H.useCallback(H,X)},Hn.useContext=function(H){return N.H.useContext(H)},Hn.useDebugValue=function(){},Hn.useDeferredValue=function(H,X){return N.H.useDeferredValue(H,X)},Hn.useEffect=function(H,X){return N.H.useEffect(H,X)},Hn.useEffectEvent=function(H){return N.H.useEffectEvent(H)},Hn.useId=function(){return N.H.useId()},Hn.useImperativeHandle=function(H,X,he){return N.H.useImperativeHandle(H,X,he)},Hn.useInsertionEffect=function(H,X){return N.H.useInsertionEffect(H,X)},Hn.useLayoutEffect=function(H,X){return N.H.useLayoutEffect(H,X)},Hn.useMemo=function(H,X){return N.H.useMemo(H,X)},Hn.useOptimistic=function(H,X){return N.H.useOptimistic(H,X)},Hn.useReducer=function(H,X,he){return N.H.useReducer(H,X,he)},Hn.useRef=function(H){return N.H.useRef(H)},Hn.useState=function(H){return N.H.useState(H)},Hn.useSyncExternalStore=function(H,X,he){return N.H.useSyncExternalStore(H,X,he)},Hn.useTransition=function(){return N.H.useTransition()},Hn.version="19.2.3",Hn}var GB;function Yo(){return GB||(GB=1,oE.exports=zfe()),oE.exports}var sE,WB;function Xd(){if(WB)return sE;WB=1;function e(n){return typeof n=="object"?Object.keys(n).filter(function(r){return n[r]}).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}function t(n){return n.replace(/\//g,"-")}return sE=e,sE}var aE,KB;function lE(){if(KB)return aE;KB=1;var e=Yo(),t=Xd(),n=kr(),r=n.Map,i=e.createElement("ul",{className:t("public/DraftStyleDefault/ul")}),o=e.createElement("ol",{className:t("public/DraftStyleDefault/ol")}),s=e.createElement("pre",{className:t("public/DraftStyleDefault/pre")}),l=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:i},"ordered-list-item":{element:"li",wrapper:o},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:s},unstyled:{element:"div",aliasedElements:["p"]}});return aE=l,aE}var cE,qB;function YB(){return qB||(qB=1,cE={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}),cE}var uE,XB;function Zd(){if(XB)return uE;XB=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function i(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var s={},l=0;l<10;l++)s["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(s).map(function(h){return s[h]});if(c.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(h){u[h]=h}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return uE=i()?Object.assign:function(o,s){for(var l,c=r(o),u,h=1;h<arguments.length;h++){l=Object(arguments[h]);for(var p in l)t.call(l,p)&&(c[p]=l[p]);if(e){u=e(l);for(var g=0;g<u.length;g++)n.call(l,u[g])&&(c[u[g]]=l[u[g]])}}return c},uE}var Rg={exports:{}},Ufe=Rg.exports,ZB;function Hfe(){return ZB||(ZB=1,(function(e,t){(function(n,r){var i="0.7.41",o="",s="?",l="function",c="undefined",u="object",h="string",p="major",g="model",m="name",y="type",b="vendor",v="version",S="architecture",E="console",T="mobile",O="tablet",M="smarttv",I="wearable",N="embedded",D=500,L="Amazon",A="Apple",$="ASUS",j="BlackBerry",U="Browser",K="Chrome",q="Edge",z="Firefox",Y="Google",te="Honor",ie="Huawei",Q="Lenovo",H="LG",X="Microsoft",he="Motorola",pe="Nvidia",ge="OnePlus",ce="Opera",be="OPPO",Ne="Samsung",_e="Sharp",me="Sony",ye="Xiaomi",xe="Zebra",Ie="Facebook",Pe="Chromium OS",Re="Mac OS",Fe=" Browser",ft=function(Ye,xt){var St={};for(var nt in Ye)xt[nt]&&xt[nt].length%2===0?St[nt]=xt[nt].concat(Ye[nt]):St[nt]=Ye[nt];return St},Ue=function(Ye){for(var xt={},St=0;St<Ye.length;St++)xt[Ye[St].toUpperCase()]=Ye[St];return xt},Ft=function(Ye,xt){return typeof Ye===h?Ct(xt).indexOf(Ct(Ye))!==-1:!1},Ct=function(Ye){return Ye.toLowerCase()},Rt=function(Ye){return typeof Ye===h?Ye.replace(/[^\d\.]/g,o).split(".")[0]:r},Ke=function(Ye,xt){if(typeof Ye===h)return Ye=Ye.replace(/^\s\s*/,o),typeof xt===c?Ye:Ye.substring(0,D)},$t=function(Ye,xt){for(var St=0,nt,mt,Pt,Et,Nt,nr;St<xt.length&&!Nt;){var An=xt[St],Cr=xt[St+1];for(nt=mt=0;nt<An.length&&!Nt&&An[nt];)if(Nt=An[nt++].exec(Ye),Nt)for(Pt=0;Pt<Cr.length;Pt++)nr=Nt[++mt],Et=Cr[Pt],typeof Et===u&&Et.length>0?Et.length===2?typeof Et[1]==l?this[Et[0]]=Et[1].call(this,nr):this[Et[0]]=Et[1]:Et.length===3?typeof Et[1]===l&&!(Et[1].exec&&Et[1].test)?this[Et[0]]=nr?Et[1].call(this,nr,Et[2]):r:this[Et[0]]=nr?nr.replace(Et[1],Et[2]):r:Et.length===4&&(this[Et[0]]=nr?Et[3].call(this,nr.replace(Et[1],Et[2])):r):this[Et]=nr||r;St+=2}},yt=function(Ye,xt){for(var St in xt)if(typeof xt[St]===u&&xt[St].length>0){for(var nt=0;nt<xt[St].length;nt++)if(Ft(xt[St][nt],Ye))return St===s?r:St}else if(Ft(xt[St],Ye))return St===s?r:St;return xt.hasOwnProperty("*")?xt["*"]:Ye},zt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},jt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},pn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,ce+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,ce+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,ce]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+U],v],[/\bfocus\/([\w\.]+)/i],[v,[m,z+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,ce+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,ce+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI"+Fe]],[/fxios\/([\w\.-]+)/i],[v,[m,z]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+Fe],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,Ne+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Ie],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,K+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,yt,zt]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[S,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[S,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[S,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[S,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[S,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[S,/ower/,o,Ct]],[/ sun4\w[;\)]/i],[[S,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[S,Ct]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[b,Ne],[y,O]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[b,Ne],[y,T]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[b,A],[y,T]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[b,A],[y,O]],[/(macintosh);/i],[g,[b,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[b,_e],[y,T]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[b,te],[y,O]],[/honor([-\w ]+)[;\)]/i],[g,[b,te],[y,T]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[b,ie],[y,O]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[b,ie],[y,T]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[b,ye],[y,O]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[b,ye],[y,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[b,be],[y,T]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[b,yt,{OnePlus:["304","403","203"],"*":be}],[y,O]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[b,"Vivo"],[y,T]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[b,"Realme"],[y,T]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[b,he],[y,T]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[b,he],[y,O]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[b,H],[y,O]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[b,H],[y,T]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[b,Q],[y,O]],[/(nokia) (t[12][01])/i],[b,g,[y,O]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[y,T],[b,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[b,Y],[y,O]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[b,Y],[y,T]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[b,me],[y,T]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[b,me],[y,O]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[b,ge],[y,T]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[b,L],[y,O]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[b,L],[y,T]],[/(playbook);[-\w\),; ]+(rim)/i],[g,b,[y,O]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[b,j],[y,T]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[b,$],[y,O]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[b,$],[y,T]],[/(nexus 9)/i],[g,[b,"HTC"],[y,O]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[g,/_/g," "],[y,T]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[b,"TCL"],[y,O]],[/(itel) ((\w+))/i],[[b,Ct],g,[y,yt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[b,"Acer"],[y,O]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[b,"Meizu"],[y,T]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[b,"Ulefone"],[y,T]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[b,"Energizer"],[y,T]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[b,"Cat"],[y,T]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[b,"Smartfren"],[y,T]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[b,"Nothing"],[y,T]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[b,"Archos"],[y,O]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[b,"Archos"],[y,T]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[b,g,[y,O]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[b,g,[y,T]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,g,[y,O]],[/(surface duo)/i],[g,[b,X],[y,O]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[b,"Fairphone"],[y,T]],[/(u304aa)/i],[g,[b,"AT&T"],[y,T]],[/\bsie-(\w*)/i],[g,[b,"Siemens"],[y,T]],[/\b(rct\w+) b/i],[g,[b,"RCA"],[y,O]],[/\b(venue[\d ]{2,7}) b/i],[g,[b,"Dell"],[y,O]],[/\b(q(?:mv|ta)\w+) b/i],[g,[b,"Verizon"],[y,O]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[b,"Barnes & Noble"],[y,O]],[/\b(tm\d{3}\w+) b/i],[g,[b,"NuVision"],[y,O]],[/\b(k88) b/i],[g,[b,"ZTE"],[y,O]],[/\b(nx\d{3}j) b/i],[g,[b,"ZTE"],[y,T]],[/\b(gen\d{3}) b.+49h/i],[g,[b,"Swiss"],[y,T]],[/\b(zur\d{3}) b/i],[g,[b,"Swiss"],[y,O]],[/\b((zeki)?tb.*\b) b/i],[g,[b,"Zeki"],[y,O]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],g,[y,O]],[/\b(ns-?\w{0,9}) b/i],[g,[b,"Insignia"],[y,O]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[b,"NextBook"],[y,O]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],g,[y,T]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],g,[y,T]],[/\b(ph-1) /i],[g,[b,"Essential"],[y,T]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[b,"Envizen"],[y,O]],[/\b(trio[-\w\. ]+) b/i],[g,[b,"MachSpeed"],[y,O]],[/\btu_(1491) b/i],[g,[b,"Rotor"],[y,O]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[b,pe],[y,O]],[/(sprint) (\w+)/i],[b,g,[y,T]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[b,X],[y,T]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[b,xe],[y,O]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[b,xe],[y,T]],[/smart-tv.+(samsung)/i],[b,[y,M]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[b,Ne],[y,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,H],[y,M]],[/(apple) ?tv/i],[b,[g,A+" TV"],[y,M]],[/crkey/i],[[g,K+"cast"],[b,Y],[y,M]],[/droid.+aft(\w+)( bui|\))/i],[g,[b,L],[y,M]],[/(shield \w+ tv)/i],[g,[b,pe],[y,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[b,_e],[y,M]],[/(bravia[\w ]+)( bui|\))/i],[g,[b,me],[y,M]],[/(mi(tv|box)-?\w+) bui/i],[g,[b,ye],[y,M]],[/Hbbtv.*(technisat) (.*);/i],[b,g,[y,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,Ke],[g,Ke],[y,M]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[y,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,g,[y,E]],[/droid.+; (shield)( bui|\))/i],[g,[b,pe],[y,E]],[/(playstation \w+)/i],[g,[b,me],[y,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[b,X],[y,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[b,Ne],[y,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[b,g,[y,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[b,be],[y,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[b,A],[y,I]],[/(opwwe\d{3})/i],[g,[b,ge],[y,I]],[/(moto 360)/i],[g,[b,he],[y,I]],[/(smartwatch 3)/i],[g,[b,me],[y,I]],[/(g watch r)/i],[g,[b,H],[y,I]],[/droid.+; (wt63?0{2,3})\)/i],[g,[b,xe],[y,I]],[/droid.+; (glass) \d/i],[g,[b,Y],[y,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[b,g,[y,I]],[/; (quest( \d| pro)?)/i],[g,[b,Ie],[y,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[y,N]],[/(aeobc)\b/i],[g,[b,L],[y,N]],[/(homepod).+mac os/i],[g,[b,A],[y,N]],[/windows iot/i],[[y,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[y,T]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[y,O]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,O]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,T]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,q+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[m,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[v,yt,jt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,yt,jt],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Re],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,v],[/\(bb(10);/i],[v,[m,j]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,K+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,Pe],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},un=function(Ye,xt){if(typeof Ye===u&&(xt=Ye,Ye=r),!(this instanceof un))return new un(Ye,xt).getResult();var St=typeof n!==c&&n.navigator?n.navigator:r,nt=Ye||(St&&St.userAgent?St.userAgent:o),mt=St&&St.userAgentData?St.userAgentData:r,Pt=xt?ft(pn,xt):pn,Et=St&&St.userAgent==nt;return this.getBrowser=function(){var Nt={};return Nt[m]=r,Nt[v]=r,$t.call(Nt,nt,Pt.browser),Nt[p]=Rt(Nt[v]),Et&&St&&St.brave&&typeof St.brave.isBrave==l&&(Nt[m]="Brave"),Nt},this.getCPU=function(){var Nt={};return Nt[S]=r,$t.call(Nt,nt,Pt.cpu),Nt},this.getDevice=function(){var Nt={};return Nt[b]=r,Nt[g]=r,Nt[y]=r,$t.call(Nt,nt,Pt.device),Et&&!Nt[y]&&mt&&mt.mobile&&(Nt[y]=T),Et&&Nt[g]=="Macintosh"&&St&&typeof St.standalone!==c&&St.maxTouchPoints&&St.maxTouchPoints>2&&(Nt[g]="iPad",Nt[y]=O),Nt},this.getEngine=function(){var Nt={};return Nt[m]=r,Nt[v]=r,$t.call(Nt,nt,Pt.engine),Nt},this.getOS=function(){var Nt={};return Nt[m]=r,Nt[v]=r,$t.call(Nt,nt,Pt.os),Et&&!Nt[m]&&mt&&mt.platform&&mt.platform!="Unknown"&&(Nt[m]=mt.platform.replace(/chrome os/i,Pe).replace(/macos/i,Re)),Nt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return nt},this.setUA=function(Nt){return nt=typeof Nt===h&&Nt.length>D?Ke(Nt,D):Nt,this},this.setUA(nt),this};un.VERSION=i,un.BROWSER=Ue([m,v,p]),un.CPU=Ue([S]),un.DEVICE=Ue([g,b,y,E,T,M,O,I,N]),un.ENGINE=un.OS=Ue([m,v]),e.exports&&(t=e.exports=un),t.UAParser=un;var Mt=typeof n!==c&&(n.jQuery||n.Zepto);if(Mt&&!Mt.ua){var At=new un;Mt.ua=At.getResult(),Mt.ua.get=function(){return At.getUA()},Mt.ua.set=function(Ye){At.setUA(Ye);var xt=At.getResult();for(var St in xt)Mt.ua[St]=xt[St]}}})(typeof window=="object"?window:Ufe)})(Rg,Rg.exports)),Rg.exports}var dE,QB;function Gfe(){if(QB)return dE;QB=1;var e=Hfe(),t="Unknown",n={"Mac OS":"Mac OS X"};function r(u){return n[u]||u}function i(u){if(!u)return{major:"",minor:""};var h=u.split(".");return{major:h[0],minor:h[1]}}var o=new e,s=o.getResult(),l=i(s.browser.version),c={browserArchitecture:s.cpu.architecture||t,browserFullVersion:s.browser.version||t,browserMinorVersion:l.minor||t,browserName:s.browser.name||t,browserVersion:s.browser.major||t,deviceName:s.device.model||t,engineName:s.engine.name||t,engineVersion:s.engine.version||t,platformArchitecture:s.cpu.architecture||t,platformName:r(s.os.name)||t,platformVersion:s.os.version||t,platformFullVersion:s.os.version||t};return dE=c,dE}var hE,JB;function Wfe(){if(JB)return hE;JB=1;var e=Lr(),t=/\./,n=/\|\|/,r=/\s+\-\s+/,i=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,o=/^(\d*)(.*)/;function s(D,L){var A=D.split(n);return A.length>1?A.some(function($){return N.contains($,L)}):(D=A[0].trim(),l(D,L))}function l(D,L){var A=D.split(r);if(A.length>0&&A.length<=2||e(!1),A.length===1)return c(A[0],L);var $=A[0],j=A[1];return S($)&&S(j)||e(!1),c(">="+$,L)&&c("<="+j,L)}function c(D,L){if(D=D.trim(),D==="")return!0;var A=L.split(t),$=b(D),j=$.modifier,U=$.rangeComponents;switch(j){case"<":return u(A,U);case"<=":return h(A,U);case">=":return g(A,U);case">":return m(A,U);case"~":case"~>":return y(A,U);default:return p(A,U)}}function u(D,L){return I(D,L)===-1}function h(D,L){var A=I(D,L);return A===-1||A===0}function p(D,L){return I(D,L)===0}function g(D,L){var A=I(D,L);return A===1||A===0}function m(D,L){return I(D,L)===1}function y(D,L){var A=L.slice(),$=L.slice();$.length>1&&$.pop();var j=$.length-1,U=parseInt($[j],10);return v(U)&&($[j]=U+1+""),g(D,A)&&u(D,$)}function b(D){var L=D.split(t),A=L[0].match(i);return A||e(!1),{modifier:A[1],rangeComponents:[A[2]].concat(L.slice(1))}}function v(D){return!isNaN(D)&&isFinite(D)}function S(D){return!b(D).modifier}function E(D,L){for(var A=D.length;A<L;A++)D[A]="0"}function T(D,L){D=D.slice(),L=L.slice(),E(D,L.length);for(var A=0;A<L.length;A++){var $=L[A].match(/^[x*]$/i);if($&&(L[A]=D[A]="0",$[0]==="*"&&A===L.length-1))for(var j=A;j<D.length;j++)D[j]="0"}return E(L,D.length),[D,L]}function O(D,L){var A=D.match(o)[1],$=L.match(o)[1],j=parseInt(A,10),U=parseInt($,10);return v(j)&&v(U)&&j!==U?M(j,U):M(D,L)}function M(D,L){return typeof D!=typeof L&&e(!1),D>L?1:D<L?-1:0}function I(D,L){for(var A=T(D,L),$=A[0],j=A[1],U=0;U<j.length;U++){var K=O($[U],j[U]);if(K)return K}return 0}var N={contains:function(L,A){return s(L.trim(),A.trim())}};return hE=N,hE}var fE,eF;function Kfe(){if(eF)return fE;eF=1;var e=Object.prototype.hasOwnProperty;function t(n,r,i){if(!n)return null;var o={};for(var s in n)e.call(n,s)&&(o[s]=r.call(i,n[s],s,n));return o}return fE=t,fE}var pE,tF;function qfe(){if(tF)return pE;tF=1;function e(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}}return pE=e,pE}var gE,nF;function vs(){if(nF)return gE;nF=1;var e=Gfe(),t=Wfe(),n=Kfe(),r=qfe();function i(l,c,u,h){if(l===u)return!0;if(!u.startsWith(l))return!1;var p=u.slice(l.length);return c?(p=h?h(p):p,t.contains(p,c)):!1}function o(l){return e.platformName==="Windows"?l.replace(/^\s*NT/,""):l}var s={isBrowser:function(c){return i(e.browserName,e.browserFullVersion,c)},isBrowserArchitecture:function(c){return i(e.browserArchitecture,null,c)},isDevice:function(c){return i(e.deviceName,null,c)},isEngine:function(c){return i(e.engineName,e.engineVersion,c)},isPlatform:function(c){return i(e.platformName,e.platformFullVersion,c,o)},isPlatformArchitecture:function(c){return i(e.platformArchitecture,null,c)}};return gE=n(s,r),gE}var mE,rF;function ib(){if(rF)return mE;rF=1;function e(t){return!t||!t.ownerDocument?document:t.ownerDocument}return mE=e,mE}var vE,iF;function Qd(){if(iF)return vE;iF=1;function e(t){return!t||!t.ownerDocument?!1:t.nodeType===Node.ELEMENT_NODE}return vE=e,vE}var yE,oF;function sF(){if(oF)return yE;oF=1;var e=Qd();function t(n){if(e(n)){var r=n,i=r.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<r.childNodes.length;o++){var s=t(r.childNodes[o]);if(s)return s}}return null}return yE=t,yE}var bE,aF;function ob(){if(aF)return bE;aF=1;var e=ib(),t=sF();function n(r){for(var i=r;i&&i!==e(r).documentElement;){var o=t(i);if(o!=null)return o;i=i.parentNode}return null}return bE=n,bE}var wE,lF;function cF(){if(lF)return wE;lF=1;function e(t){return!t||!t.ownerDocument||!t.ownerDocument.defaultView?window:t.ownerDocument.defaultView}return wE=e,wE}var SE,uF;function Yfe(){if(uF)return SE;uF=1;function e(p,g,m){return g in p?Object.defineProperty(p,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[g]=m,p}var t=vs(),n=ob(),r=cF(),i=kr(),o=Lr(),s=ms(),l=i.Map,c={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},u=t.isBrowser("IE <= 11"),h=(function(){function p(m){var y=this;e(this,"observer",void 0),e(this,"container",void 0),e(this,"mutations",void 0),e(this,"onCharData",void 0),this.container=m,this.mutations=l();var b=r(m);b.MutationObserver&&!u?this.observer=new b.MutationObserver(function(v){return y.registerMutations(v)}):this.onCharData=function(v){v.target instanceof Node||o(!1),y.registerMutation({type:"characterData",target:v.target})}}var g=p.prototype;return g.start=function(){this.observer?this.observer.observe(this.container,c):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},g.stopAndFlushMutations=function(){var y=this.observer;y?(this.registerMutations(y.takeRecords()),y.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var b=this.mutations;return this.mutations=l(),b},g.registerMutations=function(y){for(var b=0;b<y.length;b++)this.registerMutation(y[b])},g.getMutationTextContent=function(y){var b=y.type,v=y.target,S=y.removedNodes;if(b==="characterData"){if(v.textContent!=="")return u?v.textContent.replace(`
`,""):v.textContent}else if(b==="childList"){if(S&&S.length)return"";if(v.textContent!=="")return v.textContent}return null},g.registerMutation=function(y){var b=this.getMutationTextContent(y);if(b!=null){var v=s(n(y.target));this.mutations=this.mutations.set(v,b)}},p})();return SE=h,SE}var CE,dF;function Ec(){if(dF)return CE;dF=1;var e="-",t={encode:function(r,i,o){return r+e+i+e+o},decode:function(r){var i=r.split(e).reverse(),o=i[0],s=i[1],l=i.slice(2);return{blockKey:l.reverse().join(e),decoratorKey:parseInt(s,10),leafKey:parseInt(o,10)}}};return CE=t,CE}var xE,hF;function sb(){return hF||(hF=1,xE={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}),xE}var _E,fF;function pF(){return fF||(fF=1,_E={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}),_E}var EE,gF;function Ig(){if(gF)return EE;gF=1;function e(t){return!t||!t.ownerDocument?!1:t.ownerDocument.defaultView?t instanceof t.ownerDocument.defaultView.HTMLElement:t instanceof HTMLElement}return EE=e,EE}var TE,mF;function vF(){if(mF)return TE;mF=1;var e=Lr(),t=Ig();function n(r){var i=r.editorContainer;i||e(!1),t(i.firstChild)||e(!1);var o=i.firstChild;return o}return TE=n,TE}var ME,yF;function bF(){if(yF)return ME;yF=1;var e=Ec(),t=ms();function n(r,i,o,s,l){var c=t(r.getSelection());if(!i||!s)return c;var u=e.decode(i),h=u.blockKey,p=r.getBlockTree(h),g=p&&p.getIn([u.decoratorKey,"leaves",u.leafKey]),m=e.decode(s),y=m.blockKey,b=r.getBlockTree(y),v=b&&b.getIn([m.decoratorKey,"leaves",m.leafKey]);if(!g||!v)return c;var S=g.get("start"),E=v.get("start"),T=g?S+o:null,O=v?E+l:null,M=c.getAnchorKey()===h&&c.getAnchorOffset()===T&&c.getFocusKey()===y&&c.getFocusOffset()===O;if(M)return c;var I=!1;if(h===y){var N=g.get("end"),D=v.get("end");E===S&&D===N?I=l<o:I=E<S}else{var L=r.getCurrentContent().getBlockMap().keySeq().skipUntil(function(A){return A===h||A===y}).first();I=L===y}return c.merge({anchorKey:h,anchorOffset:T,focusKey:y,focusOffset:O,isBackward:I})}return ME=n,ME}var OE,wF;function SF(){if(wF)return OE;wF=1;var e=ob(),t=sF(),n=bF(),r=Lr(),i=Qd(),o=ms();function s(p,g,m,y,b,v){var S=m.nodeType===Node.TEXT_NODE,E=b.nodeType===Node.TEXT_NODE;if(S&&E)return{selectionState:n(p,o(e(m)),y,o(e(b)),v),needsRecovery:!1};var T=null,O=null,M=!0;return S?(T={key:o(e(m)),offset:y},O=u(g,b,v)):E?(O={key:o(e(b)),offset:v},T=u(g,m,y)):(T=u(g,m,y),O=u(g,b,v),m===b&&y===v&&(M=!!m.firstChild&&m.firstChild.nodeName!=="BR")),{selectionState:n(p,T.key,T.offset,O.key,O.offset),needsRecovery:M}}function l(p){for(;p.firstChild&&(i(p.firstChild)&&p.firstChild.getAttribute("data-blocks")==="true"||t(p.firstChild));)p=p.firstChild;return p}function c(p){for(;p.lastChild&&(i(p.lastChild)&&p.lastChild.getAttribute("data-blocks")==="true"||t(p.lastChild));)p=p.lastChild;return p}function u(p,g,m){var y=g,b=e(y);if(b!=null||p&&(p===y||p.firstChild===y)||r(!1),p===y){y=y.firstChild,i(y)||r(!1);var v=y;y=v,y.getAttribute("data-contents")!=="true"&&r(!1),m>0&&(m=y.childNodes.length)}if(m===0){var S=null;if(b!=null)S=b;else{var E=l(y);S=o(t(E))}return{key:S,offset:0}}var T=y.childNodes[m-1],O=null,M=null;if(!t(T))O=o(b),M=h(T);else{var I=c(T);O=o(t(I)),M=h(I)}return{key:O,offset:M}}function h(p){var g=p.textContent;return g===`
`?0:g.length}return OE=s,OE}var RE,CF;function xF(){if(CF)return RE;CF=1;var e=SF();function t(n,r){var i=r.ownerDocument.defaultView.getSelection(),o=i.anchorNode,s=i.anchorOffset,l=i.focusNode,c=i.focusOffset,u=i.rangeCount;return u===0||o==null||l==null?{selectionState:n.getSelection().set("hasFocus",!1),needsRecovery:!1}:e(n,r,o,s,l,c)}return RE=t,RE}var IE,_F;function EF(){if(_F)return IE;_F=1;var e=pF(),t=si(),n=vF(),r=xF();function i(o){if(o._blockSelectEvents||o._latestEditorState!==o.props.editorState){if(o._blockSelectEvents){var s=o.props.editorState,l=s.getSelection();e.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(l.toJS())})}return}var c=o.props.editorState,u=r(c,n(o)),h=u.selectionState;h!==c.getSelection()&&(u.needsRecovery?c=t.forceSelection(c,h):c=t.acceptSelection(c,h),o.update(c))}return IE=i,IE}var kE,TF;function MF(){if(TF)return kE;TF=1;function e(t){return t!=null&&t!=""}return kE={notEmptyKey:e},kE}var PE,OF;function DE(){if(OF)return PE;OF=1;var e=MF(),t=e.notEmptyKey;function n(i,o){var s;if(o.isCollapsed()){var l=o.getAnchorKey(),c=o.getAnchorOffset();return c>0?(s=i.getBlockForKey(l).getEntityAt(c-1),s!==i.getBlockForKey(l).getEntityAt(c)?null:r(i.getEntityMap(),s)):null}var u=o.getStartKey(),h=o.getStartOffset(),p=i.getBlockForKey(u);return s=h===p.getLength()?null:p.getEntityAt(h),r(i.getEntityMap(),s)}function r(i,o){if(t(o)){var s=i.__get(o);return s.getMutability()==="MUTABLE"?o:null}return null}return PE=n,PE}var AE,RF;function Xfe(){if(RF)return AE;RF=1;var e=Yfe(),t=gs(),n=Ec(),r=si(),i=sb(),o=vs(),s=EF(),l=vF(),c=xF(),u=DE(),h=ms(),p=o.isBrowser("IE"),g=20,m=!1,y=!1,b=null;function v(E){b||(b=new e(l(E)),b.start())}var S={onCompositionStart:function(T){y=!0,v(T)},onCompositionEnd:function(T){m=!1,y=!1,setTimeout(function(){m||S.resolveComposition(T)},g)},onSelect:s,onKeyDown:function(T,O){if(!y){S.resolveComposition(T),T._onKeyDown(O);return}(O.which===i.RIGHT||O.which===i.LEFT)&&O.preventDefault()},onKeyPress:function(T,O){O.which===i.RETURN&&O.preventDefault()},resolveComposition:function(T){if(!y){var O=h(b).stopAndFlushMutations();b=null,m=!0;var M=r.set(T._latestEditorState,{inCompositionMode:!1});if(T.exitCurrentMode(),!O.size){T.update(M);return}var I=M.getCurrentContent();O.forEach(function(A,$){var j=n.decode($),U=j.blockKey,K=j.decoratorKey,q=j.leafKey,z=M.getBlockTree(U).getIn([K,"leaves",q]),Y=z.start,te=z.end,ie=M.getSelection().merge({anchorKey:U,focusKey:U,anchorOffset:Y,focusOffset:te,isBackward:!1}),Q=u(I,ie),H=I.getBlockForKey(U).getInlineStyleAt(Y);I=t.replaceText(I,ie,A,H,Q),M=r.set(M,{currentContent:I})});var N=c(M,l(T)),D=N.selectionState;T.restoreEditorDOM();var L=p?r.forceSelection(M,D):r.acceptSelection(M,D);T.update(r.push(L,I,"insert-characters"))}}};return AE=S,AE}var LE,IF;function Zfe(){if(IF)return LE;IF=1;var e=Zd();function t(){return t=e||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c},t.apply(this,arguments)}function n(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var r=Ec(),i=Yo(),o=Z_(),s=rb(),l=(function(c){n(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.children,b=g.contentState,v=g.decorator,S=g.decoratorKey,E=g.direction,T=g.leafSet,O=g.text,M=m.getKey(),I=T.get("leaves"),N=v.getComponentForKey(S),D=v.getPropsForKey(S),L=r.encode(M,parseInt(S,10),0),A=O.slice(I.first().get("start"),I.last().get("end")),$=s.getHTMLDirIfDifferent(o.getDirection(A),E);return i.createElement(N,t({},D,{contentState:b,decoratedText:A,dir:$,key:L,entityKey:m.getEntityAt(T.get("start")),offsetKey:L}),y)},u})(i.Component);return LE=l,LE}var NE,kF;function Qfe(){if(kF)return NE;kF=1;function e(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function t(g,m){g.prototype=Object.create(m.prototype),g.prototype.constructor=g,g.__proto__=m}function n(g,m,y){return m in g?Object.defineProperty(g,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[m]=y,g}var r=Yo(),i=vs(),o=Lr(),s=Qd(),l=i.isBrowser("IE <= 11");function c(g){return l?g.textContent===`
`:g.tagName==="BR"}var u=function(m){return l?r.createElement("span",{key:"A","data-text":"true",ref:m},`
`):r.createElement("br",{key:"A","data-text":"true",ref:m})},h=function(m){return l?r.createElement("span",{key:"B","data-text":"true",ref:m},`
`):r.createElement("br",{key:"B","data-text":"true",ref:m})},p=(function(g){t(m,g);function m(b){var v;return v=g.call(this,b)||this,n(e(v),"_forceFlag",void 0),n(e(v),"_node",void 0),v._forceFlag=!1,v}var y=m.prototype;return y.shouldComponentUpdate=function(v){var S=this._node,E=v.children==="";s(S)||o(!1);var T=S;return E?!c(T):T.textContent!==v.children},y.componentDidMount=function(){this._forceFlag=!this._forceFlag},y.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},y.render=function(){var v=this;return this.props.children===""?this._forceFlag?u(function(S){return v._node=S}):h(function(S){return v._node=S}):r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(E){return v._node=E}},this.props.children)},m})(r.Component);return NE=p,NE}var BE,PF;function DF(){if(PF)return BE;PF=1;var e=Qd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="BR"}return BE=t,BE}var FE,AF;function LF(){return AF||(AF=1,FE={initODS:function(){},handleExtensionCausedError:function(){}}),FE}var jE,NF;function Jfe(){if(NF)return jE;NF=1;function e(t){var n=t?t.ownerDocument||t:document,r=n.defaultView||window;return!!(t&&(typeof r.Node=="function"?t instanceof r.Node:typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.nodeName=="string"))}return jE=e,jE}var VE,BF;function epe(){if(BF)return VE;BF=1;var e=Jfe();function t(n){return e(n)&&n.nodeType==3}return VE=t,VE}var $E,FF;function zE(){if(FF)return $E;FF=1;var e=epe();function t(n,r){return!n||!r?!1:n===r?!0:e(n)?!1:e(r)?t(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1}return $E=t,$E}var UE,jF;function VF(){if(jF)return UE;jF=1;function e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}return UE=e,UE}var HE,$F;function tpe(){if($F)return HE;$F=1;var e=LF(),t=pF(),n=vs(),r=zE(),i=VF(),o=ib(),s=Lr(),l=Qd(),c=n.isBrowser("IE");function u(v,S){if(!v)return"[empty]";var E=h(v,S);if(E.nodeType===Node.TEXT_NODE)return E.textContent;l(E)||s(!1);var T=E;return T.outerHTML}function h(v,S){var E=S!==void 0?S(v):[];if(v.nodeType===Node.TEXT_NODE){var T=v.textContent.length;return o(v).createTextNode("[text "+T+(E.length?" | "+E.join(", "):"")+"]")}var O=v.cloneNode();O.nodeType===1&&E.length&&O.setAttribute("data-labels",E.join(", "));for(var M=v.childNodes,I=0;I<M.length;I++)O.appendChild(h(M[I],S));return O}function p(v,S){for(var E=v,T=E;E;){if(l(E)&&T.hasAttribute("contenteditable"))return u(E,S);E=E.parentNode,T=E}return"Could not find contentEditable parent of node"}function g(v){return v.nodeValue===null?v.childNodes.length:v.nodeValue.length}function m(v,S,E,T,O){var M=o(S);if(r(M.documentElement,S)){var I=M.defaultView.getSelection(),N=v.getAnchorKey(),D=v.getAnchorOffset(),L=v.getFocusKey(),A=v.getFocusOffset(),$=v.getIsBackward();if(!I.extend&&$){var j=N,U=D;N=L,D=A,L=j,A=U,$=!1}var K=N===E&&T<=D&&O>=D,q=L===E&&T<=A&&O>=A;if(K&&q){I.removeAllRanges(),b(I,S,D-T,v),y(I,S,A-T,v);return}if(!$)K&&(I.removeAllRanges(),b(I,S,D-T,v)),q&&y(I,S,A-T,v);else if(q&&(I.removeAllRanges(),b(I,S,A-T,v)),K){var z=I.focusNode,Y=I.focusOffset;I.removeAllRanges(),b(I,S,D-T,v),y(I,z,Y,v)}}}function y(v,S,E,T){var O=i(),M=v.extend;if(M&&S!=null&&r(O,S)){E>g(S)&&t.logSelectionStateFailure({anonymizedDom:p(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())});var I=S===v.focusNode;try{v.rangeCount>0&&v.extend&&v.extend(S,E)}catch(D){throw t.logSelectionStateFailure({anonymizedDom:p(S,function(L){var A=[];return L===O&&A.push("active element"),L===v.anchorNode&&A.push("selection anchor node"),L===v.focusNode&&A.push("selection focus node"),A}),extraParams:JSON.stringify({activeElementName:O?O.nodeName:null,nodeIsFocus:S===v.focusNode,nodeWasFocus:I,selectionRangeCount:v.rangeCount,selectionAnchorNodeName:v.anchorNode?v.anchorNode.nodeName:null,selectionAnchorOffset:v.anchorOffset,selectionFocusNodeName:v.focusNode?v.focusNode.nodeName:null,selectionFocusOffset:v.focusOffset,message:D?""+D:null,offset:E},null,2),selectionState:JSON.stringify(T.toJS(),null,2)}),D}}else if(S&&v.rangeCount>0){var N=v.getRangeAt(0);N.setEnd(S,E),v.addRange(N.cloneRange())}}function b(v,S,E,T){var O=o(S).createRange();if(E>g(S)&&(t.logSelectionStateFailure({anonymizedDom:p(S),extraParams:JSON.stringify({offset:E}),selectionState:JSON.stringify(T.toJS())}),e.handleExtensionCausedError()),O.setStart(S,E),c)try{v.addRange(O)}catch{}else v.addRange(O)}return HE={setDraftEditorSelection:m,addFocusToSelection:y},HE}var GE,zF;function UF(){if(zF)return GE;zF=1;var e=Zd();function t(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function n(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}function r(h,p,g){return p in h?Object.defineProperty(h,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[p]=g,h}var i=Qfe(),o=Yo(),s=Lr(),l=DF(),c=tpe().setDraftEditorSelection,u=(function(h){n(p,h);function p(){for(var m,y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return m=h.call.apply(h,[this].concat(b))||this,r(t(m),"leaf",void 0),m}var g=p.prototype;return g._setSelection=function(){var y=this.props.selection;if(!(y==null||!y.getHasFocus())){var b=this.props,v=b.block,S=b.start,E=b.text,T=v.getKey(),O=S+E.length;if(y.hasEdgeWithin(T,S,O)){var M=this.leaf;M||s(!1);var I=M.firstChild;I||s(!1);var N;I.nodeType===Node.TEXT_NODE?N=I:l(I)?N=M:(N=I.firstChild,N||s(!1)),c(y,N,T,S,O)}}},g.shouldComponentUpdate=function(y){var b=this.leaf;b||s(!1);var v=b.textContent!==y.text||y.styleSet!==this.props.styleSet||y.forceSelection;return v},g.componentDidUpdate=function(){this._setSelection()},g.componentDidMount=function(){this._setSelection()},g.render=function(){var y=this,b=this.props.block,v=this.props.text;v.endsWith(`
`)&&this.props.isLast&&(v+=`
`);var S=this.props,E=S.customStyleMap,T=S.customStyleFn,O=S.offsetKey,M=S.styleSet,I=M.reduce(function(D,L){var A={},$=E[L];return $!==void 0&&D.textDecoration!==$.textDecoration&&(A.textDecoration=[D.textDecoration,$.textDecoration].join(" ").trim()),e(D,$,A)},{});if(T){var N=T(M,b);I=e(I,N)}return o.createElement("span",{"data-offset-key":O,ref:function(L){return y.leaf=L},style:I},o.createElement(i,null,v))},p})(o.Component);return GE=u,GE}var WE,HF;function npe(){if(HF)return WE;HF=1;function e(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var t=Zfe(),n=UF(),r=Ec(),i=kr(),o=Yo(),s=Xd();i.List;var l=(function(c){e(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.render=function(){var g=this.props,m=g.block,y=g.contentState,b=g.customStyleFn,v=g.customStyleMap,S=g.decorator,E=g.direction,T=g.forceSelection,O=g.hasSelection,M=g.selection,I=g.tree,N=m.getKey(),D=m.getText(),L=I.size-1,A=this.props.children||I.map(function($,j){var U=$.get("decoratorKey"),K=$.get("leaves"),q=K.size-1,z=K.map(function(Y,te){var ie=r.encode(N,j,te),Q=Y.get("start"),H=Y.get("end");return o.createElement(n,{key:ie,offsetKey:ie,block:m,start:Q,selection:O?M:null,forceSelection:T,text:D.slice(Q,H),styleSet:m.getInlineStyleAt(Q),customStyleMap:v,customStyleFn:b,isLast:U===L&&te===q})}).toArray();return!U||!S?z:o.createElement(t,{block:m,children:z,contentState:y,decorator:S,decoratorKey:U,direction:E,leafSet:$,text:D,key:j})}).toArray();return o.createElement("div",{"data-offset-key":r.encode(N,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":E==="LTR","public/DraftStyleDefault/rtl":E==="RTL"})},A)},u})(o.Component);return WE=l,WE}var KE,GF;function qE(){if(GF)return KE;GF=1;function e(n,r){return!!r&&(n===r.documentElement||n===r.body)}var t={getTop:function(r){var i=r.ownerDocument;return e(r,i)?i.body.scrollTop||i.documentElement.scrollTop:r.scrollTop},setTop:function(r,i){var o=r.ownerDocument;e(r,o)?o.body.scrollTop=o.documentElement.scrollTop=i:r.scrollTop=i},getLeft:function(r){var i=r.ownerDocument;return e(r,i)?i.body.scrollLeft||i.documentElement.scrollLeft:r.scrollLeft},setLeft:function(r,i){var o=r.ownerDocument;e(r,o)?o.body.scrollLeft=o.documentElement.scrollLeft=i:r.scrollLeft=i}};return KE=t,KE}var YE,WF;function rpe(){if(WF)return YE;WF=1;var e=/-(.)/g;function t(n){return n.replace(e,function(r,i){return i.toUpperCase()})}return YE=t,YE}var XE,KF;function ipe(){if(KF)return XE;KF=1;var e=/([A-Z])/g;function t(n){return n.replace(e,"-$1").toLowerCase()}return XE=t,XE}var ZE,qF;function ope(){if(qF)return ZE;qF=1;var e=rpe(),t=ipe();function n(i){return i==null?i:String(i)}function r(i,o){var s;if(window.getComputedStyle&&(s=window.getComputedStyle(i,null),s))return n(s.getPropertyValue(t(o)));if(document.defaultView&&document.defaultView.getComputedStyle){if(s=document.defaultView.getComputedStyle(i,null),s)return n(s.getPropertyValue(t(o)));if(o==="display")return"none"}return i.currentStyle?n(o==="float"?i.currentStyle.cssFloat||i.currentStyle.styleFloat:i.currentStyle[e(o)]):n(i.style&&i.style[e(o)])}return ZE=r,ZE}var QE,YF;function ab(){if(YF)return QE;YF=1;var e=ope();function t(r,i){var o=n.get(r,i);return o==="auto"||o==="scroll"}var n={get:e,getScrollParent:function(i){if(!i)return null;for(var o=i.ownerDocument;i&&i!==o.body;){if(t(i,"overflow")||t(i,"overflowY")||t(i,"overflowX"))return i;i=i.parentNode}return o.defaultView||o.parentWindow}};return QE=n,QE}var JE,XF;function spe(){if(XF)return JE;XF=1;var e=zE();function t(n){var r=n.ownerDocument.documentElement;if(!("getBoundingClientRect"in n)||!e(r,n))return{left:0,right:0,top:0,bottom:0};var i=n.getBoundingClientRect();return{left:Math.round(i.left)-r.clientLeft,right:Math.round(i.right)-r.clientLeft,top:Math.round(i.top)-r.clientTop,bottom:Math.round(i.bottom)-r.clientTop}}return JE=t,JE}var e1,ZF;function QF(){if(ZF)return e1;ZF=1;var e=spe();function t(n){var r=e(n);return{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top}}return e1=t,e1}var t1,JF;function ape(){if(JF)return t1;JF=1;var e=typeof navigator<"u"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function t(n){return n=n||document,n.scrollingElement?n.scrollingElement:!e&&n.compatMode==="CSS1Compat"?n.documentElement:n.body}return t1=t,t1}var n1,ej;function lpe(){if(ej)return n1;ej=1;function e(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}return n1=e,n1}var r1,tj;function lb(){if(tj)return r1;tj=1;var e=ape(),t=lpe();function n(r){var i=e(r.ownerDocument||r.document);r.Window&&r instanceof r.Window&&(r=i);var o=t(r),s=r===i?r.ownerDocument.documentElement:r,l=r.scrollWidth-s.clientWidth,c=r.scrollHeight-s.clientHeight;return o.x=Math.max(0,Math.min(o.x,l)),o.y=Math.max(0,Math.min(o.y,c)),o}return r1=n,r1}var i1,nj;function rj(){if(nj)return i1;nj=1;function e(){var r;return document.documentElement&&(r=document.documentElement.clientWidth),!r&&document.body&&(r=document.body.clientWidth),r||0}function t(){var r;return document.documentElement&&(r=document.documentElement.clientHeight),!r&&document.body&&(r=document.body.clientHeight),r||0}function n(){return{width:window.innerWidth||e(),height:window.innerHeight||t()}}return n.withoutScrollbars=function(){return{width:e(),height:t()}},i1=n,i1}var o1,ij;function cpe(){if(ij)return o1;ij=1;var e=Zd();function t(){return t=e||function(L){for(var A=1;A<arguments.length;A++){var $=arguments[A];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(L[j]=$[j])}return L},t.apply(this,arguments)}function n(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function r(L,A){L.prototype=Object.create(A.prototype),L.prototype.constructor=L,L.__proto__=A}function i(L){for(var A=1;A<arguments.length;A++){var $=arguments[A]!=null?arguments[A]:{},j=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(j=j.concat(Object.getOwnPropertySymbols($).filter(function(U){return Object.getOwnPropertyDescriptor($,U).enumerable}))),j.forEach(function(U){o(L,U,$[U])})}return L}function o(L,A,$){return A in L?Object.defineProperty(L,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[A]=$,L}var s=npe(),l=Ec(),c=Yo(),u=qE(),h=ab(),p=QF(),g=lb(),m=rj(),y=kr(),b=Lr(),v=Ig(),S=10;y.List;var E=function(A,$){return A.getAnchorKey()===$||A.getFocusKey()===$},T=function(A,$){var j=A.getNextSiblingKey();return j?$.getBlockForKey(j).getType()===A.getType():!1},O=function(A,$,j){var U=[],K=!0,q=!1,z=void 0;try{for(var Y=j.reverse()[Symbol.iterator](),te;!(K=(te=Y.next()).done);K=!0){var ie=te.value;if(ie.type!==$)break;U.push(ie)}}catch(X){q=!0,z=X}finally{try{!K&&Y.return!=null&&Y.return()}finally{if(q)throw z}}j.splice(j.indexOf(U[0]),U.length+1);var Q=U.reverse(),H=Q[0].key;return j.push(c.cloneElement(A,{key:"".concat(H,"-wrap"),"data-offset-key":l.encode(H,0,0)},Q)),j},M=function(A,$){var j=$.get(A.getType())||$.get("unstyled"),U=j.wrapper,K=j.element||$.get("unstyled").element;return{Element:K,wrapperTemplate:U}},I=function(A,$){var j=$(A);if(!j)return{};var U=j.component,K=j.props,q=j.editable;return{CustomComponent:U,customProps:K,customEditable:q}},N=function(A,$,j,U,K,q){var z={"data-block":!0,"data-editor":$,"data-offset-key":j,key:A.getKey(),ref:q},Y=U(A);return Y&&(z.className=Y),K.customEditable!==void 0&&(z=i({},z,{contentEditable:K.customEditable,suppressContentEditableWarning:!0})),z},D=(function(L){r(A,L);function A(){for(var j,U=arguments.length,K=new Array(U),q=0;q<U;q++)K[q]=arguments[q];return j=L.call.apply(L,[this].concat(K))||this,o(n(j),"wrapperRef",c.createRef()),j}var $=A.prototype;return $.shouldComponentUpdate=function(U){var K=this.props,q=K.block,z=K.direction,Y=K.tree,te=!q.getChildKeys().isEmpty(),ie=q!==U.block||Y!==U.tree||z!==U.direction||E(U.selection,U.block.getKey())&&U.forceSelection;return te||ie},$.componentDidMount=function(){var U=this.props.selection,K=U.getEndKey();if(!(!U.getHasFocus()||K!==this.props.block.getKey())){var q=this.wrapperRef.current;if(q){var z=h.getScrollParent(q),Y=g(z),te;if(z===window){var ie=p(q),Q=ie.y+ie.height,H=m().height;te=Q-H,te>0&&window.scrollTo(Y.x,Y.y+te+S)}else{v(q)||b(!1);var X=q,he=X.offsetHeight+X.offsetTop,pe=z.offsetHeight+Y.y;te=he-pe,te>0&&u.setTop(z,u.getTop(z)+te+S)}}}},$.render=function(){var U=this,K=this.props,q=K.block,z=K.blockRenderMap,Y=K.blockRendererFn,te=K.blockStyleFn,ie=K.contentState,Q=K.decorator,H=K.editorKey,X=K.editorState,he=K.customStyleFn,pe=K.customStyleMap,ge=K.direction,ce=K.forceSelection,be=K.selection,Ne=K.tree,_e=null;q.children.size&&(_e=q.children.reduce(function(Ue,Ft){var Ct=l.encode(Ft,0,0),Rt=ie.getBlockForKey(Ft),Ke=I(Rt,Y),$t=Ke.CustomComponent||A,yt=M(Rt,z),zt=yt.Element,jt=yt.wrapperTemplate,pn=N(Rt,H,Ct,te,Ke,null),un=i({},U.props,{tree:X.getBlockTree(Ft),blockProps:Ke.customProps,offsetKey:Ct,block:Rt});return Ue.push(c.createElement(zt,pn,c.createElement($t,un))),!jt||T(Rt,ie)||O(jt,zt,Ue),Ue},[]));var me=q.getKey(),ye=l.encode(me,0,0),xe=I(q,Y),Ie=xe.CustomComponent,Pe=Ie!=null?c.createElement(Ie,t({},this.props,{tree:X.getBlockTree(me),blockProps:xe.customProps,offsetKey:ye,block:q})):c.createElement(s,{block:q,children:_e,contentState:ie,customStyleFn:he,customStyleMap:pe,decorator:Q,direction:ge,forceSelection:ce,hasSelection:E(be,me),selection:be,tree:Ne});if(q.getParentKey())return Pe;var Re=M(q,z),Fe=Re.Element,ft=N(q,H,ye,te,xe,this.wrapperRef);return c.createElement(Fe,ft,Pe)},A})(c.Component);return o1=D,o1}var s1,oj;function upe(){if(oj)return s1;oj=1;var e=Zd();function t(){return t=e||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c},t.apply(this,arguments)}function n(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var r=cpe(),i=Ec(),o=Yo(),s=ms(),l=(function(c){n(u,c);function u(){return c.apply(this,arguments)||this}var h=u.prototype;return h.shouldComponentUpdate=function(g){var m=this.props.editorState,y=g.editorState,b=m.getDirectionMap(),v=y.getDirectionMap();if(b!==v)return!0;var S=m.getSelection().getHasFocus(),E=y.getSelection().getHasFocus();if(S!==E)return!0;var T=y.getNativelyRenderedContent(),O=m.isInCompositionMode(),M=y.isInCompositionMode();if(m===y||T!==null&&y.getCurrentContent()===T||O&&M)return!1;var I=m.getCurrentContent(),N=y.getCurrentContent(),D=m.getDecorator(),L=y.getDecorator();return O!==M||I!==N||D!==L||y.mustForceSelection()},h.render=function(){for(var g=this.props,m=g.blockRenderMap,y=g.blockRendererFn,b=g.blockStyleFn,v=g.customStyleMap,S=g.customStyleFn,E=g.editorState,T=g.editorKey,O=g.textDirectionality,M=E.getCurrentContent(),I=E.getSelection(),N=E.mustForceSelection(),D=E.getDecorator(),L=s(E.getDirectionMap()),A=M.getBlocksAsArray(),$=A[0],j=[],U=$;U;){var K=U.getKey(),q={blockRenderMap:m,blockRendererFn:y,blockStyleFn:b,contentState:M,customStyleFn:S,customStyleMap:v,decorator:D,editorKey:T,editorState:E,forceSelection:N,selection:I,block:U,direction:O||L.get(K),tree:E.getBlockTree(K)},z=m.get(U.getType())||m.get("unstyled"),Y=z.wrapper;j.push({block:o.createElement(r,t({key:K},q)),wrapperTemplate:Y,key:K,offsetKey:i.encode(K,0,0)});var te=U.getNextSiblingKey();U=te?M.getBlockForKey(te):null}for(var ie=[],Q=0;Q<j.length;){var H=j[Q];if(H.wrapperTemplate){var X=[];do X.push(j[Q].block),Q++;while(Q<j.length&&j[Q].wrapperTemplate===H.wrapperTemplate);var he=o.cloneElement(H.wrapperTemplate,{key:H.key+"-wrap","data-offset-key":H.offsetKey},X);ie.push(he)}else ie.push(H.block),Q++}return o.createElement("div",{"data-contents":"true"},ie)},u})(o.Component);return s1=l,s1}var a1,sj;function aj(){if(sj)return a1;sj=1;var e=Zd();function t(){return t=e||function(I){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(I[L]=D[L])}return I},t.apply(this,arguments)}function n(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function r(I,N){I.prototype=Object.create(N.prototype),I.prototype.constructor=I,I.__proto__=N}function i(I,N,D){return N in I?Object.defineProperty(I,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):I[N]=D,I}var o=UF(),s=Ec(),l=Yo(),c=qE(),u=ab(),h=Z_(),p=rb(),g=Xd(),m=QF(),y=lb(),b=rj(),v=Lr(),S=Ig(),E=ms(),T=10,O=function(N,D){return N.getAnchorKey()===D||N.getFocusKey()===D},M=(function(I){r(N,I);function N(){for(var L,A=arguments.length,$=new Array(A),j=0;j<A;j++)$[j]=arguments[j];return L=I.call.apply(I,[this].concat($))||this,i(n(L),"_node",void 0),L}var D=N.prototype;return D.shouldComponentUpdate=function(A){return this.props.block!==A.block||this.props.tree!==A.tree||this.props.direction!==A.direction||O(A.selection,A.block.getKey())&&A.forceSelection},D.componentDidMount=function(){if(!this.props.preventScroll){var A=this.props.selection,$=A.getEndKey();if(!(!A.getHasFocus()||$!==this.props.block.getKey())){var j=this._node;if(j!=null){var U=u.getScrollParent(j),K=y(U),q;if(U===window){var z=m(j),Y=z.y+z.height,te=b().height;q=Y-te,q>0&&window.scrollTo(K.x,K.y+q+T)}else{S(j)||v(!1);var ie=j.offsetHeight+j.offsetTop,Q=U.offsetTop+U.offsetHeight,H=Q+K.y;q=ie-H,q>0&&c.setTop(U,c.getTop(U)+q+T)}}}}},D._renderChildren=function(){var A=this,$=this.props.block,j=$.getKey(),U=$.getText(),K=this.props.tree.size-1,q=O(this.props.selection,j);return this.props.tree.map(function(z,Y){var te=z.get("leaves");if(te.size===0)return null;var ie=te.size-1,Q=te.map(function(xe,Ie){var Pe=s.encode(j,Y,Ie),Re=xe.get("start"),Fe=xe.get("end");return l.createElement(o,{key:Pe,offsetKey:Pe,block:$,start:Re,selection:q?A.props.selection:null,forceSelection:A.props.forceSelection,text:U.slice(Re,Fe),styleSet:$.getInlineStyleAt(Re),customStyleMap:A.props.customStyleMap,customStyleFn:A.props.customStyleFn,isLast:Y===K&&Ie===ie})}).toArray(),H=z.get("decoratorKey");if(H==null||!A.props.decorator)return Q;var X=E(A.props.decorator),he=X.getComponentForKey(H);if(!he)return Q;var pe=X.getPropsForKey(H),ge=s.encode(j,Y,0),ce=te.first().get("start"),be=te.last().get("end"),Ne=U.slice(ce,be),_e=$.getEntityAt(z.get("start")),me=p.getHTMLDirIfDifferent(h.getDirection(Ne),A.props.direction),ye={contentState:A.props.contentState,decoratedText:Ne,dir:me,start:ce,end:be,blockKey:j,entityKey:_e,offsetKey:ge};return l.createElement(he,t({},pe,ye,{key:ge}),Q)}).toArray()},D.render=function(){var A=this,$=this.props,j=$.direction,U=$.offsetKey,K=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":j==="LTR","public/DraftStyleDefault/rtl":j==="RTL"});return l.createElement("div",{"data-offset-key":U,className:K,ref:function(z){return A._node=z}},this._renderChildren())},N})(l.Component);return a1=M,a1}var l1,lj;function dpe(){if(lj)return l1;lj=1;function e(t){var n=t||"",r=arguments.length;if(r>1)for(var i=1;i<r;i++){var o=arguments[i];o&&(n=(n?n+" ":"")+o)}return n}return l1=e,l1}var c1,cj;function hpe(){if(cj)return c1;cj=1;var e=Zd();function t(){return t=e||function(m){for(var y=1;y<arguments.length;y++){var b=arguments[y];for(var v in b)Object.prototype.hasOwnProperty.call(b,v)&&(m[v]=b[v])}return m},t.apply(this,arguments)}function n(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){r(m,S,b[S])})}return m}function r(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}function i(m,y){m.prototype=Object.create(y.prototype),m.prototype.constructor=m,m.__proto__=y}var o=aj(),s=Ec(),l=Yo(),c=Xd(),u=dpe(),h=ms(),p=function(y,b,v,S){return c({"public/DraftStyleDefault/unorderedListItem":y==="unordered-list-item","public/DraftStyleDefault/orderedListItem":y==="ordered-list-item","public/DraftStyleDefault/reset":v,"public/DraftStyleDefault/depth0":b===0,"public/DraftStyleDefault/depth1":b===1,"public/DraftStyleDefault/depth2":b===2,"public/DraftStyleDefault/depth3":b===3,"public/DraftStyleDefault/depth4":b>=4,"public/DraftStyleDefault/listLTR":S==="LTR","public/DraftStyleDefault/listRTL":S==="RTL"})},g=(function(m){i(y,m);function y(){return m.apply(this,arguments)||this}var b=y.prototype;return b.shouldComponentUpdate=function(S){var E=this.props.editorState,T=S.editorState,O=E.getDirectionMap(),M=T.getDirectionMap();if(O!==M)return!0;var I=E.getSelection().getHasFocus(),N=T.getSelection().getHasFocus();if(I!==N)return!0;var D=T.getNativelyRenderedContent(),L=E.isInCompositionMode(),A=T.isInCompositionMode();if(E===T||D!==null&&T.getCurrentContent()===D||L&&A)return!1;var $=E.getCurrentContent(),j=T.getCurrentContent(),U=E.getDecorator(),K=T.getDecorator();return L!==A||$!==j||U!==K||T.mustForceSelection()},b.render=function(){for(var S=this.props,E=S.blockRenderMap,T=S.blockRendererFn,O=S.blockStyleFn,M=S.customStyleMap,I=S.customStyleFn,N=S.editorState,D=S.editorKey,L=S.preventScroll,A=S.textDirectionality,$=N.getCurrentContent(),j=N.getSelection(),U=N.mustForceSelection(),K=N.getDecorator(),q=h(N.getDirectionMap()),z=$.getBlocksAsArray(),Y=[],te=null,ie=null,Q=0;Q<z.length;Q++){var H=z[Q],X=H.getKey(),he=H.getType(),pe=T(H),ge=void 0,ce=void 0,be=void 0;pe&&(ge=pe.component,ce=pe.props,be=pe.editable);var Ne=A||q.get(X),_e=s.encode(X,0,0),me={contentState:$,block:H,blockProps:ce,blockStyleFn:O,customStyleMap:M,customStyleFn:I,decorator:K,direction:Ne,forceSelection:U,offsetKey:_e,preventScroll:L,selection:j,tree:N.getBlockTree(X)},ye=E.get(he)||E.get("unstyled"),xe=ye.wrapper,Ie=ye.element||E.get("unstyled").element,Pe=H.getDepth(),Re="";if(O&&(Re=O(H)),Ie==="li"){var Fe=ie!==xe||te===null||Pe>te;Re=u(Re,p(he,Pe,Fe,Ne))}var ft=ge||o,Ue={className:Re,"data-block":!0,"data-editor":D,"data-offset-key":_e,key:X};be!==void 0&&(Ue=n({},Ue,{contentEditable:be,suppressContentEditableWarning:!0}));var Ft=l.createElement(Ie,Ue,l.createElement(ft,t({},me,{key:X})));Y.push({block:Ft,wrapperTemplate:xe,key:X,offsetKey:_e}),xe?te=H.getDepth():te=null,ie=xe}for(var Ct=[],Rt=0;Rt<Y.length;){var Ke=Y[Rt];if(Ke.wrapperTemplate){var $t=[];do $t.push(Y[Rt].block),Rt++;while(Rt<Y.length&&Y[Rt].wrapperTemplate===Ke.wrapperTemplate);var yt=l.cloneElement(Ke.wrapperTemplate,{key:Ke.key+"-wrap","data-offset-key":Ke.offsetKey},$t);Ct.push(yt)}else Ct.push(Ke.block),Rt++}return l.createElement("div",{"data-contents":"true"},Ct)},y})(l.Component);return c1=g,c1}var u1,uj;function fpe(){if(uj)return u1;uj=1;var e=vu(),t=e("draft_tree_data_support");return u1=t?upe():hpe(),u1}var d1,dj;function ppe(){if(dj)return d1;dj=1;var e={isImage:function(r){return t(r)[0]==="image"},isJpeg:function(r){var i=t(r);return e.isImage(r)&&(i[1]==="jpeg"||i[1]==="pjpeg")}};function t(n){return n.split("/")}return d1=e,d1}var h1,hj;function gpe(){if(hj)return h1;hj=1;var e=Lr();function t(i){var o=i.length;if(!Array.isArray(i)&&(typeof i=="object"||typeof i=="function")||e(!1),typeof o!="number"&&e(!1),o===0||o-1 in i||e(!1),typeof i.callee=="function"&&e(!1),i.hasOwnProperty)try{return Array.prototype.slice.call(i)}catch{}for(var s=Array(o),l=0;l<o;l++)s[l]=i[l];return s}function n(i){return!!i&&(typeof i=="object"||typeof i=="function")&&"length"in i&&!("setInterval"in i)&&typeof i.nodeType!="number"&&(Array.isArray(i)||"callee"in i||"item"in i)}function r(i){return n(i)?Array.isArray(i)?i.slice():t(i):[i]}return h1=r,h1}var f1,fj;function pj(){if(fj)return f1;fj=1;function e(n){return function(){return n}}var t=function(){};return t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(n){return n},f1=t,f1}var p1,gj;function mj(){if(gj)return p1;gj=1;var e=ppe(),t=gpe(),n=pj(),r=new RegExp(`\r
`,"g"),i=`
`,o={"text/rtf":1,"text/html":1};function s(c){if(c.kind=="file")return c.getAsFile()}var l=(function(){function c(h){this.data=h,this.types=h.types?t(h.types):[]}var u=c.prototype;return u.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(p){return o[p]})},u.getText=function(){var p;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(p=this.data.getData("text/plain")):p=this.data.getData("Text")),p?p.replace(r,i):null},u.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},u.isLink=function(){return this.types.some(function(p){return p.indexOf("Url")!=-1||p.indexOf("text/uri-list")!=-1||p.indexOf("text/x-moz-url")})},u.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var p=this.data.getData("text/x-moz-url").split(`
`);return p[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},u.isImage=function(){var p=this.types.some(function(b){return b.indexOf("application/x-moz-file")!=-1});if(p)return!0;for(var g=this.getFiles(),m=0;m<g.length;m++){var y=g[m].type;if(!e.isImage(y))return!1}return!0},u.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},u.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(s).filter(n.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},u.hasFiles=function(){return this.getFiles().length>0},c})();return p1=l,p1}var g1,vj;function yj(){if(vj)return g1;vj=1;var e=Lr(),t=/\.textClipping$/,n={"text/plain":!0,"text/html":!0,"text/rtf":!0},r=5e3;function i(s,l){var c=0,u=[];s.forEach(function(h){o(h,function(p){c++,p&&u.push(p.slice(0,r)),c==s.length&&l(u.join("\r"))})})}function o(s,l){if(!globalThis.FileReader||s.type&&!(s.type in n)){l("");return}if(s.type===""){var c="";t.test(s.name)&&(c=s.name.replace(t,"")),l(c);return}var u=new FileReader;u.onload=function(){var h=u.result;typeof h!="string"&&e(!1),l(h)},u.onerror=function(){l("")},u.readAsText(s)}return g1=i,g1}var m1,bj;function cb(){if(bj)return m1;bj=1;function e(t){return t==="handled"||t===!0}return m1=e,m1}var v1,wj;function mpe(){if(wj)return v1;wj=1;var e=mj(),t=gs(),n=si(),r=ob(),i=ib(),o=yj(),s=bF(),l=cF(),c=cb(),u=ms();function h(b,v){var S=null,E=null,T=i(b.currentTarget);if(typeof T.caretRangeFromPoint=="function"){var O=T.caretRangeFromPoint(b.x,b.y);S=O.startContainer,E=O.startOffset}else if(b.rangeParent)S=b.rangeParent,E=b.rangeOffset;else return null;S=u(S),E=u(E);var M=u(r(S));return s(v,M,E,M,E)}var p={onDragEnd:function(v){v.exitCurrentMode(),g(v)},onDrop:function(v,S){var E=new e(S.nativeEvent.dataTransfer),T=v._latestEditorState,O=h(S.nativeEvent,T);if(S.preventDefault(),v._dragCount=0,v.exitCurrentMode(),O!=null){var M=E.getFiles();if(M.length>0){if(v.props.handleDroppedFiles&&c(v.props.handleDroppedFiles(O,M)))return;o(M,function(N){N&&v.update(y(T,O,N))});return}var I=v._internalDrag?"internal":"external";v.props.handleDrop&&c(v.props.handleDrop(O,E,I))||(v._internalDrag?v.update(m(T,O)):v.update(y(T,O,E.getText()))),g(v)}}};function g(b){b._internalDrag=!1;var v=b.editorContainer;if(v){var S=new MouseEvent("mouseup",{view:l(v),bubbles:!0,cancelable:!0});v.dispatchEvent(S)}}function m(b,v){var S=t.moveText(b.getCurrentContent(),b.getSelection(),v);return n.push(b,S,"insert-fragment")}function y(b,v,S){var E=t.insertText(b.getCurrentContent(),v,S,b.getCurrentInlineStyle());return n.push(b,E,"insert-fragment")}return v1=p,v1}var y1,Sj;function vpe(){if(Sj)return y1;Sj=1;function e(t){var n=t.getSelection(),r=n.getAnchorKey(),i=t.getBlockTree(r),o=n.getStartOffset(),s=!1;return i.some(function(l){return o===l.get("start")?(s=!0,!0):o<l.get("end")?l.get("leaves").some(function(c){var u=c.get("start");return o===u?(s=!0,!0):!1}):!1}),s}return y1=e,y1}var b1={},Cj;function ype(){return Cj||(Cj=1,(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,o=e.document,s;function l(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),O=0;O<T.length;O++)T[O]=arguments[O+1];var M={callback:E,args:T};return r[n]=M,s(n),n++}function c(E){delete r[E]}function u(E){var T=E.callback,O=E.args;switch(O.length){case 0:T();break;case 1:T(O[0]);break;case 2:T(O[0],O[1]);break;case 3:T(O[0],O[1],O[2]);break;default:T.apply(t,O);break}}function h(E){if(i)setTimeout(h,0,E);else{var T=r[E];if(T){i=!0;try{u(T)}finally{c(E),i=!1}}}}function p(){s=function(E){process.nextTick(function(){h(E)})}}function g(){if(e.postMessage&&!e.importScripts){var E=!0,T=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=T,E}}function m(){var E="setImmediate$"+Math.random()+"$",T=function(O){O.source===e&&typeof O.data=="string"&&O.data.indexOf(E)===0&&h(+O.data.slice(E.length))};e.addEventListener?e.addEventListener("message",T,!1):e.attachEvent("onmessage",T),s=function(O){e.postMessage(E+O,"*")}}function y(){var E=new MessageChannel;E.port1.onmessage=function(T){var O=T.data;h(O)},s=function(T){E.port2.postMessage(T)}}function b(){var E=o.documentElement;s=function(T){var O=o.createElement("script");O.onreadystatechange=function(){h(T),O.onreadystatechange=null,E.removeChild(O),O=null},E.appendChild(O)}}function v(){s=function(E){setTimeout(h,0,E)}}var S=Object.getPrototypeOf&&Object.getPrototypeOf(e);S=S&&S.setTimeout?S:e,{}.toString.call(e.process)==="[object process]"?p():g()?m():e.MessageChannel?y():o&&"onreadystatechange"in o.createElement("script")?b():v(),S.setImmediate=l,S.clearImmediate=c})(typeof self>"u"?typeof globalThis>"u"?b1:globalThis:self)),b1}var w1,xj;function bpe(){return xj||(xj=1,ype(),w1=globalThis.setImmediate),w1}var S1,_j;function wpe(){if(_j)return S1;_j=1;var e=gs(),t=si(),n=vs(),r=DE(),i=cb(),o=vpe(),s=ms(),l=bpe(),c="'",u="/",h=n.isBrowser("Firefox");function p(y){return h&&(y==c||y==u)}function g(y,b,v,S,E){var T=e.replaceText(y.getCurrentContent(),y.getSelection(),b,v,S);return t.push(y,T,"insert-characters",E)}function m(y,b){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0);var v=y._latestEditorState,S=b.data;if(S){if(y.props.handleBeforeInput&&i(y.props.handleBeforeInput(S,v,b.timeStamp))){b.preventDefault();return}var E=v.getSelection(),T=E.getStartOffset(),O=E.getAnchorKey();if(!E.isCollapsed()){b.preventDefault(),y.update(g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!0));return}var M=g(v,S,v.getCurrentInlineStyle(),r(v.getCurrentContent(),v.getSelection()),!1),I=!1;if(I||(I=o(y._latestCommittedEditorState)),!I){var N=v.getBlockTree(O),D=M.getBlockTree(O);I=N.size!==D.size||N.zip(D).some(function(L){var A=L[0],$=L[1],j=A.get("start"),U=j+(j>=T?S.length:0),K=A.get("end"),q=K+(K>=T?S.length:0),z=$.get("start"),Y=$.get("end"),te=$.get("decoratorKey");return A.get("decoratorKey")!==te||A.get("leaves").size!==$.get("leaves").size||U!==z||q!==Y||te!=null&&Y-z!==K-j})}if(I||(I=p(S)),I||(I=s(M.getDirectionMap()).get(O)!==s(v.getDirectionMap()).get(O)),I){b.preventDefault(),M=t.set(M,{forceSelection:!0}),y.update(M);return}M=t.set(M,{nativelyRenderedContent:M.getCurrentContent()}),y._pendingStateFromBeforeInput=M,l(function(){y._pendingStateFromBeforeInput!==void 0&&(y.update(y._pendingStateFromBeforeInput),y._pendingStateFromBeforeInput=void 0)})}}return S1=m,S1}var C1,Ej;function Spe(){if(Ej)return C1;Ej=1;var e=si(),t=zE(),n=VF();function r(i,o){var s=o.currentTarget.ownerDocument;if(!i.props.preserveSelectionOnBlur&&n(s)===s.body){var l=s.defaultView.getSelection(),c=i.editor;l.rangeCount===1&&t(c,l.anchorNode)&&t(c,l.focusNode)&&l.removeAllRanges()}var u=i._latestEditorState,h=u.getSelection();if(h.getHasFocus()){var p=h.set("hasFocus",!1);i.props.onBlur&&i.props.onBlur(o),i.update(e.acceptSelection(u,p))}}return C1=r,C1}var x1,Tj;function Cpe(){if(Tj)return x1;Tj=1;var e=si();function t(n,r){n.setMode("composite"),n.update(e.set(n._latestEditorState,{inCompositionMode:!0})),n._onCompositionStart(r)}return x1=t,x1}var _1,Mj;function Oj(){if(Mj)return _1;Mj=1;var e=eb();function t(n){var r=n.getSelection();return r.isCollapsed()?null:e(n.getCurrentContent(),r)}return _1=t,_1}var E1,Rj;function xpe(){if(Rj)return E1;Rj=1;var e=Oj();function t(n,r){var i=n._latestEditorState,o=i.getSelection();if(o.isCollapsed()){r.preventDefault();return}n.setClipboard(e(n._latestEditorState))}return E1=t,E1}var T1,Ij;function _pe(){if(Ij)return T1;Ij=1;function e(t){if(!t||!("ownerDocument"in t))return!1;if("ownerDocument"in t){var n=t;if(!n.ownerDocument.defaultView)return n instanceof Node;if(n instanceof n.ownerDocument.defaultView.Node)return!0}return!1}return T1=e,T1}var M1,kj;function Epe(){if(kj)return M1;kj=1;var e=gs(),t=si(),n=ab(),r=Oj(),i=lb(),o=_pe();function s(c,u){var h=c._latestEditorState,p=h.getSelection(),g=u.target,m;if(p.isCollapsed()){u.preventDefault();return}if(o(g)){var y=g;m=i(n.getScrollParent(y))}var b=r(h);c.setClipboard(b),c.setMode("cut"),setTimeout(function(){c.restoreEditorDOM(m),c.exitCurrentMode(),c.update(l(h))},0)}function l(c){var u=e.removeRange(c.getCurrentContent(),c.getSelection(),"forward");return t.push(c,u,"remove-range")}return M1=s,M1}var O1,Pj;function Tpe(){if(Pj)return O1;Pj=1;function e(t,n){t.setMode("drag"),n.preventDefault()}return O1=e,O1}var R1,Dj;function Mpe(){if(Dj)return R1;Dj=1;function e(t){t._internalDrag=!0,t.setMode("drag")}return R1=e,R1}var I1,Aj;function Ope(){if(Aj)return I1;Aj=1;var e=si(),t=vs();function n(r,i){var o=r._latestEditorState,s=o.getSelection();if(!s.getHasFocus()){var l=s.set("hasFocus",!0);r.props.onFocus&&r.props.onFocus(i),t.isBrowser("Chrome < 60.0.3081.0")?r.update(e.forceSelection(o,l)):r.update(e.acceptSelection(o,l))}}return I1=n,I1}var k1,Lj;function Jd(){if(Lj)return k1;Lj=1;var e=Lr(),t=55296,n=56319,r=56320,i=57343,o=/[\uD800-\uDFFF]/;function s(b){return t<=b&&b<=i}function l(b,v){if(0<=v&&v<b.length||e(!1),v+1===b.length)return!1;var S=b.charCodeAt(v),E=b.charCodeAt(v+1);return t<=S&&S<=n&&r<=E&&E<=i}function c(b){return o.test(b)}function u(b,v){return 1+s(b.charCodeAt(v))}function h(b){if(!c(b))return b.length;for(var v=0,S=0;S<b.length;S+=u(b,S))v++;return v}function p(b,v,S){if(v=v||0,S=S===void 0?1/0:S||0,!c(b))return b.substr(v,S);var E=b.length;if(E<=0||v>E||S<=0)return"";var T=0;if(v>0){for(;v>0&&T<E;v--)T+=u(b,T);if(T>=E)return""}else if(v<0){for(T=E;v<0&&0<T;v++)T-=u(b,T-1);T<0&&(T=0)}var O=E;if(S<E)for(O=T;S>0&&O<E;S--)O+=u(b,O);return b.substring(T,O)}function g(b,v,S){v=v||0,S=S===void 0?1/0:S||0,v<0&&(v=0),S<0&&(S=0);var E=Math.abs(S-v);return v=v<S?v:S,p(b,v,E)}function m(b){for(var v=[],S=0;S<b.length;S+=u(b,S))v.push(b.codePointAt(S));return v}var y={getCodePoints:m,getUTF16Length:u,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:l,strlen:h,substring:g,substr:p};return k1=y,k1}var P1,Nj;function D1(){if(Nj)return P1;Nj=1;var e=pj(),t=e;return P1=t,P1}var A1,Bj;function L1(){if(Bj)return A1;Bj=1,D1();function e(t,n){var r=t.getSelection(),i=t.getCurrentContent(),o=r.getStartKey(),s=r.getStartOffset(),l=o,c=0;if(n>s){var u=i.getKeyBefore(o);if(u==null)l=o;else{l=u;var h=i.getBlockForKey(u);c=h.getText().length}}else c=s-n;return r.merge({focusKey:l,focusOffset:c,isBackward:!0})}return A1=e,A1}var N1,Fj;function kg(){if(Fj)return N1;Fj=1;var e=gs(),t=vu(),n=t("draft_tree_data_support");function r(i,o,s){var l=i.getSelection(),c=i.getCurrentContent(),u=l,h=l.getAnchorKey(),p=l.getFocusKey(),g=c.getBlockForKey(h);if(n&&s==="forward"&&h!==p)return c;if(l.isCollapsed()){if(s==="forward"){if(i.isSelectionAtEndOfContent())return c;if(n){var m=l.getAnchorOffset()===c.getBlockForKey(h).getLength();if(m){var y=c.getBlockForKey(g.nextSibling);if(!y||y.getLength()===0)return c}}}else if(i.isSelectionAtStartOfContent())return c;if(u=o(i),u===l)return c}return e.removeRange(c,u,s)}return N1=r,N1}var B1,jj;function Vj(){if(jj)return B1;jj=1;var e=si(),t=Jd(),n=L1(),r=kg();function i(o){var s=r(o,function(c){var u=c.getSelection(),h=c.getCurrentContent(),p=u.getAnchorKey(),g=u.getAnchorOffset(),m=h.getBlockForKey(p).getText()[g-1];return n(c,m?t.getUTF16Length(m,0):1)},"backward");if(s===o.getCurrentContent())return o;var l=o.getSelection();return e.push(o,s.set("selectionBefore",l),l.isCollapsed()?"backspace-character":"remove-range")}return B1=i,B1}var F1,$j;function Rpe(){if($j)return F1;$j=1;var e=gs(),t=Ec(),n=si(),r=vs(),i=MF(),o=i.notEmptyKey,s=ob(),l=Vj(),c=ms(),u=r.isEngine("Gecko"),h=`

`;function p(m,y){return m==="deleteContentBackward"?l(y):y}function g(m,y){m._pendingStateFromBeforeInput!==void 0&&(m.update(m._pendingStateFromBeforeInput),m._pendingStateFromBeforeInput=void 0);var b=m.editor,v=b.ownerDocument.defaultView.getSelection(),S=v.anchorNode,E=v.isCollapsed,T=S?.nodeType!==Node.TEXT_NODE&&S?.nodeType!==Node.ELEMENT_NODE;if(!(S==null||T)){if(S.nodeType===Node.TEXT_NODE&&(S.previousSibling!==null||S.nextSibling!==null)){var O=S.parentNode;if(O==null)return;S.nodeValue=O.textContent;for(var M=O.firstChild;M!=null;M=M.nextSibling)M!==S&&O.removeChild(M)}var I=S.textContent,N=m._latestEditorState,D=c(s(S)),L=t.decode(D),A=L.blockKey,$=L.decoratorKey,j=L.leafKey,U=N.getBlockTree(A).getIn([$,"leaves",j]),K=U.start,q=U.end,z=N.getCurrentContent(),Y=z.getBlockForKey(A),te=Y.getText().slice(K,q);if(I.endsWith(h)&&(I=I.slice(0,-1)),I===te){var ie=y.nativeEvent.inputType;if(ie){var Q=p(ie,N);if(Q!==N){m.restoreEditorDOM(),m.update(Q);return}}return}var H=N.getSelection(),X=H.merge({anchorOffset:K,focusOffset:q,isBackward:!1}),he=Y.getEntityAt(K),pe=o(he)?z.getEntity(he):null,ge=pe!=null?pe.getMutability():null,ce=ge==="MUTABLE",be=ce?"spellcheck-change":"apply-entity",Ne=e.replaceText(z,X,I,Y.getInlineStyleAt(K),ce?Y.getEntityAt(K):null),_e,me,ye,xe;if(u)_e=v.anchorOffset,me=v.focusOffset,ye=K+Math.min(_e,me),xe=ye+Math.abs(_e-me),_e=ye,me=xe;else{var Ie=I.length-te.length;ye=H.getStartOffset(),xe=H.getEndOffset(),_e=E?xe+Ie:ye,me=xe+Ie}var Pe=Ne.merge({selectionBefore:z.getSelectionAfter(),selectionAfter:H.merge({anchorOffset:_e,focusOffset:me})});m.update(n.push(N,Pe,be))}}return F1=g,F1}var j1,zj;function Ipe(){if(zj)return j1;zj=1;var e=sb();function t(n){return n.which===e.RETURN&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))}return j1=t,j1}var V1,Uj;function $1(){if(Uj)return V1;Uj=1;var e=vs(),t=Ipe(),n=e.isPlatform("Mac OS X"),r={isCtrlKeyCommand:function(o){return!!o.ctrlKey&&!o.altKey},isOptionKeyCommand:function(o){return n&&o.altKey},usesMacOSHeuristics:function(){return n},hasCommandModifier:function(o){return n?!!o.metaKey&&!o.altKey:r.isCtrlKeyCommand(o)},isSoftNewlineEvent:t};return V1=r,V1}var z1,Hj;function kpe(){if(Hj)return z1;Hj=1;var e=gs(),t=si(),n=eb(),r=ms(),i=null,o={cut:function(l){var c=l.getCurrentContent(),u=l.getSelection(),h=null;if(u.isCollapsed()){var p=u.getAnchorKey(),g=c.getBlockForKey(p).getLength();if(g===u.getAnchorOffset()){var m=c.getKeyAfter(p);if(m==null)return l;h=u.set("focusKey",m).set("focusOffset",0)}else h=u.set("focusOffset",g)}else h=u;h=r(h),i=n(c,h);var y=e.removeRange(c,h,"forward");return y===c?l:t.push(l,y,"remove-range")},paste:function(l){if(!i)return l;var c=e.replaceWithFragment(l.getCurrentContent(),l.getSelection(),i);return t.push(l,c,"insert-fragment")}};return z1=o,z1}var U1,Gj;function Wj(){if(Gj)return U1;Gj=1;var e=vs(),t=Lr(),n=e.isBrowser("Chrome");function r(o){for(var s=o.cloneRange(),l=[],c=o.endContainer;c!=null;c=c.parentNode){var u=c===o.commonAncestorContainer;u?s.setStart(o.startContainer,o.startOffset):s.setStart(s.endContainer,0);var h=Array.from(s.getClientRects());if(l.push(h),u){var p;return l.reverse(),(p=[]).concat.apply(p,l)}s.setEndBefore(c)}t(!1)}var i=n?r:function(o){return Array.from(o.getClientRects())};return U1=i,U1}var H1,Kj;function Ppe(){if(Kj)return H1;Kj=1;var e=Jd(),t=ib(),n=Wj(),r=Lr();function i(c){var u=getComputedStyle(c),h=t(c),p=h.createElement("div");p.style.fontFamily=u.fontFamily,p.style.fontSize=u.fontSize,p.style.fontStyle=u.fontStyle,p.style.fontWeight=u.fontWeight,p.style.lineHeight=u.lineHeight,p.style.position="absolute",p.textContent="M";var g=h.body;g||r(!1),g.appendChild(p);var m=p.getBoundingClientRect();return g.removeChild(p),m.height}function o(c,u){for(var h=1/0,p=1/0,g=-1/0,m=-1/0,y=0;y<c.length;y++){var b=c[y];b.width===0||b.width===1||(h=Math.min(h,b.top),p=Math.min(p,b.bottom),g=Math.max(g,b.top),m=Math.max(m,b.bottom))}return g<=p&&g-h<u&&m-p<u}function s(c){switch(c.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return c.length;default:return c.childNodes.length}}function l(c){c.collapsed||r(!1),c=c.cloneRange();var u=c.startContainer;u.nodeType!==1&&(u=u.parentNode);var h=i(u),p=c.endContainer,g=c.endOffset;for(c.setStart(c.startContainer,0);o(n(c),h)&&(p=c.startContainer,g=c.startOffset,p.parentNode||r(!1),c.setStartBefore(p),!(p.nodeType===1&&getComputedStyle(p).display!=="inline")););var m=p,y=g-1;do{for(var b=m.nodeValue,v=y;v>=0;v--)if(!(b!=null&&v>0&&e.isSurrogatePair(b,v-1)))if(c.setStart(m,v),o(n(c),h))p=m,g=v;else break;if(v===-1||m.childNodes.length===0)break;m=m.childNodes[v],y=s(m)}while(!0);return c.setStart(p,g),c}return H1=l,H1}var G1,qj;function Dpe(){if(qj)return G1;qj=1;var e=si(),t=Ppe(),n=SF(),r=L1(),i=kg();function o(s,l){var c=i(s,function(u){var h=u.getSelection();if(h.isCollapsed()&&h.getAnchorOffset()===0)return r(u,1);var p=l.currentTarget.ownerDocument,g=p.defaultView.getSelection(),m=g.getRangeAt(0);return m=t(m),n(u,null,m.endContainer,m.endOffset,m.startContainer,m.startOffset).selectionState},"backward");return c===s.getCurrentContent()?s:e.push(s,c,"remove-range")}return G1=o,G1}var W1,Yj;function Ape(){if(Yj)return W1;Yj=1;var e=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]`;return W1={getPunctuation:function(){return e}},W1}var K1,Xj;function Zj(){if(Xj)return K1;Xj=1;var e=Ape(),t=e.getPunctuation(),n="['‘’]",r="\\s|(?![_])"+t,i="^(?:"+r+")*(?:"+n+"|(?!"+r+").)*(?:(?!"+r+").)",o=new RegExp(i),s="(?:(?!"+r+").)(?:"+n+"|(?!"+r+").)*(?:"+r+")*$",l=new RegExp(s);function c(h,p){var g=p?l.exec(h):o.exec(h);return g?g[0]:h}var u={getBackward:function(p){return c(p,!0)},getForward:function(p){return c(p,!1)}};return K1=u,K1}var q1,Qj;function Lpe(){if(Qj)return q1;Qj=1;var e=Zj(),t=si(),n=L1(),r=kg();function i(o){var s=r(o,function(l){var c=l.getSelection(),u=c.getStartOffset();if(u===0)return n(l,1);var h=c.getStartKey(),p=l.getCurrentContent(),g=p.getBlockForKey(h).getText().slice(0,u),m=e.getBackward(g);return n(l,m.length||1)},"backward");return s===o.getCurrentContent()?o:t.push(o,s,"remove-range")}return q1=i,q1}var Y1,Jj;function eV(){if(Jj)return Y1;Jj=1,D1();function e(t,n){var r=t.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),s=t.getCurrentContent(),l=i,c,u=s.getBlockForKey(i);return n>u.getText().length-o?(l=s.getKeyAfter(i),c=0):c=o+n,r.merge({focusKey:l,focusOffset:c})}return Y1=e,Y1}var X1,tV;function Npe(){if(tV)return X1;tV=1;var e=Zj(),t=si(),n=eV(),r=kg();function i(o){var s=r(o,function(l){var c=l.getSelection(),u=c.getStartOffset(),h=c.getStartKey(),p=l.getCurrentContent(),g=p.getBlockForKey(h).getText().slice(u),m=e.getForward(g);return n(l,m.length||1)},"forward");return s===o.getCurrentContent()?o:t.push(o,s,"remove-range")}return X1=i,X1}var Z1,nV;function Bpe(){if(nV)return Z1;nV=1;var e=gs(),t=si();function n(r){var i=e.splitBlock(r.getCurrentContent(),r.getSelection());return t.push(r,i,"split-block")}return Z1=n,Z1}var Q1,rV;function Fpe(){if(rV)return Q1;rV=1;var e=si();function t(n){var r=n.getSelection(),i=r.getEndKey(),o=n.getCurrentContent(),s=o.getBlockForKey(i).getLength();return e.set(n,{selection:r.merge({anchorKey:i,anchorOffset:s,focusKey:i,focusOffset:s,isBackward:!1}),forceSelection:!0})}return Q1=t,Q1}var J1,iV;function jpe(){if(iV)return J1;iV=1;var e=si();function t(n){var r=n.getSelection(),i=r.getStartKey();return e.set(n,{selection:r.merge({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:!1}),forceSelection:!0})}return J1=t,J1}var eT,oV;function Vpe(){if(oV)return eT;oV=1;var e=si(),t=Jd(),n=eV(),r=kg();function i(o){var s=r(o,function(c){var u=c.getSelection(),h=c.getCurrentContent(),p=u.getAnchorKey(),g=u.getAnchorOffset(),m=h.getBlockForKey(p).getText()[g];return n(c,m?t.getUTF16Length(m,0):1)},"forward");if(s===o.getCurrentContent())return o;var l=o.getSelection();return e.push(o,s.set("selectionBefore",l),l.isCollapsed()?"delete-character":"remove-range")}return eT=i,eT}var tT,sV;function $pe(){if(sV)return tT;sV=1;var e=gs(),t=si(),n=eb();function r(i){var o=i.getSelection();if(!o.isCollapsed())return i;var s=o.getAnchorOffset();if(s===0)return i;var l=o.getAnchorKey(),c=i.getCurrentContent(),u=c.getBlockForKey(l),h=u.getLength();if(h<=1)return i;var p,g;s===h?(p=o.set("anchorOffset",s-1),g=o):(p=o.set("focusOffset",s+1),g=p.set("anchorOffset",s+1));var m=n(c,p),y=e.removeRange(c,p,"backward"),b=y.getSelectionAfter(),v=b.getAnchorOffset()-1,S=b.merge({anchorOffset:v,focusOffset:v}),E=e.replaceWithFragment(y,S,m),T=t.push(i,E,"insert-fragment");return t.acceptSelection(T,g)}return tT=r,tT}var nT,aV;function zpe(){if(aV)return nT;aV=1;var e=si();function t(n,r,i){var o=e.undo(r);if(r.getLastChangeType()==="spellcheck-change"){var s=o.getCurrentContent();i(e.set(o,{nativelyRenderedContent:s}));return}if(n.preventDefault(),!r.getNativelyRenderedContent()){i(o);return}i(e.set(r,{nativelyRenderedContent:null})),setTimeout(function(){i(o)},0)}return nT=t,nT}var rT,lV;function Upe(){if(lV)return rT;lV=1;var e=gs(),t=si(),n=$1(),r=sb(),i=kpe(),o=vs(),s=cb(),l=Dpe(),c=Lpe(),u=Npe(),h=Bpe(),p=Fpe(),g=jpe(),m=Vj(),y=Vpe(),b=$pe(),v=zpe(),S=n.isOptionKeyCommand,E=o.isBrowser("Chrome");function T(M,I,N){switch(M){case"redo":return t.redo(I);case"delete":return y(I);case"delete-word":return u(I);case"backspace":return m(I);case"backspace-word":return c(I);case"backspace-to-start-of-line":return l(I,N);case"split-block":return h(I);case"transpose-characters":return b(I);case"move-selection-to-start-of-block":return g(I);case"move-selection-to-end-of-block":return p(I);case"secondary-cut":return i.cut(I);case"secondary-paste":return i.paste(I);default:return I}}function O(M,I){var N=I.which,D=M._latestEditorState;function L(U){var K=M.props[U];return K?(K(I),!0):!1}switch(N){case r.RETURN:if(I.preventDefault(),M.props.handleReturn&&s(M.props.handleReturn(I,D)))return;break;case r.ESC:if(I.preventDefault(),L("onEscape"))return;break;case r.TAB:if(L("onTab"))return;break;case r.UP:if(L("onUpArrow"))return;break;case r.RIGHT:if(L("onRightArrow"))return;break;case r.DOWN:if(L("onDownArrow"))return;break;case r.LEFT:if(L("onLeftArrow"))return;break;case r.SPACE:E&&S(I)&&I.preventDefault()}var A=M.props.keyBindingFn(I);if(A==null||A===""){if(N===r.SPACE&&E&&S(I)){var $=e.replaceText(D.getCurrentContent(),D.getSelection()," ");M.update(t.push(D,$,"insert-characters"))}return}if(A==="undo"){v(I,D,M.update);return}if(I.preventDefault(),!(M.props.handleKeyCommand&&s(M.props.handleKeyCommand(A,D,I.timeStamp)))){var j=T(A,D,I);j!==D&&M.update(j)}}return rT=O,rT}var iT,cV;function Hpe(){if(cV)return iT;cV=1;function e(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}var t=(function(){function n(i){e(this,"_uri",void 0),this._uri=i}var r=n.prototype;return r.toString=function(){return this._uri},n})();return iT=t,iT}var oT,uV;function dV(){if(uV)return oT;uV=1;var e=vs(),t=Lr(),n=e.isBrowser("IE <= 9");function r(i){var o,s=null;return!n&&document.implementation&&document.implementation.createHTMLDocument&&(o=document.implementation.createHTMLDocument("foo"),o.documentElement||t(!1),o.documentElement.innerHTML=i,s=o.getElementsByTagName("body")[0]),s}return oT=r,oT}var sT,hV;function Gpe(){if(hV)return sT;hV=1;var e=Qd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="A"}return sT=t,sT}var aT,fV;function Wpe(){if(fV)return aT;fV=1;var e=Qd();function t(n){return!n||!n.ownerDocument?!1:e(n)&&n.nodeName==="IMG"}return aT=t,aT}var lT,pV;function gV(){if(pV)return lT;pV=1;var e;function t(_e){for(var me=1;me<arguments.length;me++){var ye=arguments[me]!=null?arguments[me]:{},xe=Object.keys(ye);typeof Object.getOwnPropertySymbols=="function"&&(xe=xe.concat(Object.getOwnPropertySymbols(ye).filter(function(Ie){return Object.getOwnPropertyDescriptor(ye,Ie).enumerable}))),xe.forEach(function(Ie){n(_e,Ie,ye[Ie])})}return _e}function n(_e,me,ye){return me in _e?Object.defineProperty(_e,me,{value:ye,enumerable:!0,configurable:!0,writable:!0}):_e[me]=ye,_e}var r=pa(),i=Yd(),o=ga(),s=lE(),l=tb(),c=Hpe(),u=Xd(),h=jl(),p=dV(),g=vu(),m=kr(),y=m.List,b=m.Map,v=m.OrderedSet,S=Gpe(),E=DF(),T=Ig(),O=Wpe(),M=g("draft_tree_data_support"),I="&nbsp;",N=" ",D=new RegExp("\r","g"),L=new RegExp(`
`,"g"),A=new RegExp(`^
`,"g"),$=new RegExp(I,"g"),j=new RegExp("&#13;?","g"),U=new RegExp("&#8203;?","g"),K=["bold","bolder","500","600","700","800","900"],q=["light","lighter","normal","100","200","300","400"],z=["className","href","rel","target","title"],Y=["alt","className","height","src","width"],te=(e={},n(e,u("public/DraftStyleDefault/depth0"),0),n(e,u("public/DraftStyleDefault/depth1"),1),n(e,u("public/DraftStyleDefault/depth2"),2),n(e,u("public/DraftStyleDefault/depth3"),3),n(e,u("public/DraftStyleDefault/depth4"),4),e),ie=b({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),Q=function(me){var ye={};return me.mapKeys(function(xe,Ie){var Pe=[Ie.element];Ie.aliasedElements!==void 0&&Pe.push.apply(Pe,Ie.aliasedElements),Pe.forEach(function(Re){ye[Re]===void 0?ye[Re]=xe:typeof ye[Re]=="string"?ye[Re]=[ye[Re],xe]:ye[Re].push(xe)})}),b(ye)},H=function(me){if(T(me)){var ye=me;if(ye.style.fontFamily.includes("monospace"))return"CODE"}return null},X=function(me){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(te).some(function(xe){me.classList.contains(xe)&&(ye=te[xe])}),ye},he=function(me){if(!S(me))return!1;var ye=me;if(!ye.href||ye.protocol!=="http:"&&ye.protocol!=="https:"&&ye.protocol!=="mailto:"&&ye.protocol!=="tel:")return!1;try{var xe=new c(ye.href);return!0}catch{return!1}},pe=function(me){if(!O(me))return!1;var ye=me;return!!(ye.attributes.getNamedItem("src")&&ye.attributes.getNamedItem("src").value)},ge=function(me,ye){if(!T(me))return ye;var xe=me,Ie=xe.style.fontWeight,Pe=xe.style.fontStyle,Re=xe.style.textDecoration;return ye.withMutations(function(Fe){K.indexOf(Ie)>=0?Fe.add("BOLD"):q.indexOf(Ie)>=0&&Fe.remove("BOLD"),Pe==="italic"?Fe.add("ITALIC"):Pe==="normal"&&Fe.remove("ITALIC"),Re==="underline"&&Fe.add("UNDERLINE"),Re==="line-through"&&Fe.add("STRIKETHROUGH"),Re==="none"&&(Fe.remove("UNDERLINE"),Fe.remove("STRIKETHROUGH"))})},ce=function(me){return me==="ul"||me==="ol"},be=(function(){function _e(ye,xe){n(this,"characterList",y()),n(this,"currentBlockType","unstyled"),n(this,"currentDepth",0),n(this,"currentEntity",null),n(this,"currentText",""),n(this,"wrapper",null),n(this,"blockConfigs",[]),n(this,"contentBlocks",[]),n(this,"entityMap",l),n(this,"blockTypeMap",void 0),n(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=ye,this.disambiguate=xe}var me=_e.prototype;return me.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=l,this.wrapper=null,this.contentBlocks=[]},me.addDOMNode=function(xe){var Ie;return this.contentBlocks=[],this.currentDepth=0,(Ie=this.blockConfigs).push.apply(Ie,this._toBlockConfigs([xe],v())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},me.getContentBlocks=function(){return this.contentBlocks.length===0&&(M?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},me._makeBlockConfig=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=xe.key||h(),Pe=t({key:Ie,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},xe);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",Pe},me._toBlockConfigs=function(xe,Ie){for(var Pe=[],Re=0;Re<xe.length;Re++){var Fe=xe[Re],ft=Fe.nodeName.toLowerCase();if(ft==="body"||ce(ft)){this._trimCurrentText(),this.currentText!==""&&Pe.push(this._makeBlockConfig());var Ue=this.currentDepth,Ft=this.wrapper;ce(ft)&&(this.wrapper=ft,ce(Ft)&&this.currentDepth++),Pe.push.apply(Pe,this._toBlockConfigs(Array.from(Fe.childNodes),Ie)),this.currentDepth=Ue,this.wrapper=Ft;continue}var Ct=this.blockTypeMap.get(ft);if(Ct!==void 0){this._trimCurrentText(),this.currentText!==""&&Pe.push(this._makeBlockConfig());var Rt=this.currentDepth,Ke=this.wrapper;if(this.wrapper=ft==="pre"?"pre":this.wrapper,typeof Ct!="string"&&(Ct=this.disambiguate(ft,this.wrapper)||Ct[0]||"unstyled"),!M&&T(Fe)&&(Ct==="unordered-list-item"||Ct==="ordered-list-item")){var $t=Fe;this.currentDepth=X($t,this.currentDepth)}var yt=h(),zt=this._toBlockConfigs(Array.from(Fe.childNodes),Ie);this._trimCurrentText(),Pe.push(this._makeBlockConfig({key:yt,childConfigs:zt,type:Ct})),this.currentDepth=Rt,this.wrapper=Ke;continue}if(ft==="#text"){this._addTextNode(Fe,Ie);continue}if(ft==="br"){this._addBreakNode(Fe,Ie);continue}if(pe(Fe)){this._addImgNode(Fe,Ie);continue}if(he(Fe)){this._addAnchorNode(Fe,Pe,Ie);continue}var jt=Ie;ie.has(ft)&&(jt=jt.add(ie.get(ft))),jt=ge(Fe,jt);var pn=H(Fe);pn!=null&&(jt=jt.add(pn)),Pe.push.apply(Pe,this._toBlockConfigs(Array.from(Fe.childNodes),jt))}return Pe},me._appendText=function(xe,Ie){var Pe;this.currentText+=xe;var Re=r.create({style:Ie,entity:this.currentEntity});this.characterList=(Pe=this.characterList).push.apply(Pe,Array(xe.length).fill(Re))},me._trimCurrentText=function(){var xe=this.currentText.length,Ie=xe-this.currentText.trimLeft().length,Pe=this.currentText.trimRight().length,Re=this.characterList.findEntry(function(Fe){return Fe.getEntity()!==null});Ie=Re!==void 0?Math.min(Ie,Re[0]):Ie,Re=this.characterList.reverse().findEntry(function(Fe){return Fe.getEntity()!==null}),Pe=Re!==void 0?Math.max(Pe,xe-Re[0]):Pe,Ie>Pe?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(Ie,Pe),this.characterList=this.characterList.slice(Ie,Pe))},me._addTextNode=function(xe,Ie){var Pe=xe.textContent,Re=Pe.trim();Re===""&&this.wrapper!=="pre"&&(Pe=" "),this.wrapper!=="pre"&&(Pe=Pe.replace(A,""),Pe=Pe.replace(L,N)),this._appendText(Pe,Ie)},me._addBreakNode=function(xe,Ie){E(xe)&&this._appendText(`
`,Ie)},me._addImgNode=function(xe,Ie){if(O(xe)){var Pe=xe,Re={};Y.forEach(function(Fe){var ft=Pe.getAttribute(Fe);ft&&(Re[Fe]=ft)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",Re),g("draftjs_fix_paste_for_img")?Pe.getAttribute("role")!=="presentation"&&this._appendText("📷",Ie):this._appendText("📷",Ie),this.currentEntity=null}},me._addAnchorNode=function(xe,Ie,Pe){if(S(xe)){var Re=xe,Fe={};z.forEach(function(ft){var Ue=Re.getAttribute(ft);Ue&&(Fe[ft]=Ue)}),Fe.url=new c(Re.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",Fe||{}),Ie.push.apply(Ie,this._toBlockConfigs(Array.from(xe.childNodes),Pe)),this.currentEntity=null}},me._toContentBlocks=function(xe){for(var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Pe=xe.length-1,Re=0;Re<=Pe;Re++){var Fe=xe[Re];Fe.parent=Ie,Fe.prevSibling=Re>0?xe[Re-1].key:null,Fe.nextSibling=Re<Pe?xe[Re+1].key:null,Fe.children=y(Fe.childConfigs.map(function(ft){return ft.key})),this.contentBlocks.push(new o(t({},Fe))),this._toContentBlocks(Fe.childConfigs,Fe.key)}},me._hoistContainersInBlockConfigs=function(xe){var Ie=this,Pe=y(xe).flatMap(function(Re){return Re.type!=="unstyled"||Re.text!==""?[Re]:Ie._hoistContainersInBlockConfigs(Re.childConfigs)});return Pe},me._toFlatContentBlocks=function(xe){var Ie=this,Pe=this._hoistContainersInBlockConfigs(xe);Pe.forEach(function(Re){var Fe=Ie._extractTextFromBlockConfigs(Re.childConfigs),ft=Fe.text,Ue=Fe.characterList;Ie.contentBlocks.push(new i(t({},Re,{text:Re.text+ft,characterList:Re.characterList.concat(Ue)})))})},me._extractTextFromBlockConfigs=function(xe){for(var Ie=xe.length-1,Pe="",Re=y(),Fe=0;Fe<=Ie;Fe++){var ft=xe[Fe];Pe+=ft.text,Re=Re.concat(ft.characterList),Pe!==""&&ft.type!=="unstyled"&&(Pe+=`
`,Re=Re.push(Re.last()));var Ue=this._extractTextFromBlockConfigs(ft.childConfigs);Pe+=Ue.text,Re=Re.concat(Ue.characterList)}return{text:Pe,characterList:Re}},_e})(),Ne=function(me){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s;me=me.trim().replace(D,"").replace($,N).replace(j,"").replace(U,"");var Ie=ye(me);if(!Ie)return null;var Pe=Q(xe),Re=function(ft,Ue){return ft==="li"?Ue==="ol"?"ordered-list-item":"unordered-list-item":null};return new be(Pe,Re).addDOMNode(Ie).getContentBlocks()};return lT=Ne,lT}var cT,mV;function Kpe(){if(mV)return cT;mV=1;function e(b){for(var v=1;v<arguments.length;v++){var S=arguments[v]!=null?arguments[v]:{},E=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(S).filter(function(T){return Object.getOwnPropertyDescriptor(S,T).enumerable}))),E.forEach(function(T){t(b,T,S[T])})}return b}function t(b,v,S){return v in b?Object.defineProperty(b,v,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[v]=S,b}var n=Yd(),r=ga(),i=gV(),o=jl(),s=dV(),l=vu(),c=kr(),u=DB(),h=c.List,p=c.Repeat,g=l("draft_tree_data_support"),m=g?r:n,y={processHTML:function(v,S){return i(v,s,S)},processText:function(v,S,E){return v.reduce(function(T,O,M){O=u(O);var I=o(),N={key:I,type:E,text:O,characterList:h(p(S,O.length))};if(g&&M!==0){var D=M-1,L=T[D]=T[D].merge({nextSibling:I});N=e({},N,{prevSibling:L.getKey()})}return T.push(new m(N)),T},[])}};return cT=y,cT}var uT,vV;function qpe(){if(vV)return uT;vV=1;function e(t,n,r,i){var o=n.getStartKey(),s=n.getEndKey(),l=t.getBlockMap(),c=l.toSeq().skipUntil(function(u,h){return h===o}).takeUntil(function(u,h){return h===s}).concat([[s,l.get(s)]]).map(function(u){var h=u.getDepth()+r;return h=Math.max(0,Math.min(h,i)),u.set("depth",h)});return l=l.merge(c),t.merge({blockMap:l,selectionBefore:n,selectionAfter:n})}return uT=e,uT}var dT,yV;function bV(){if(yV)return dT;yV=1;var e=gs(),t=si(),n=qpe(),r=ms(),i={currentBlockContainsLink:function(s){var l=s.getSelection(),c=s.getCurrentContent(),u=c.getEntityMap();return c.getBlockForKey(l.getAnchorKey()).getCharacterList().slice(l.getStartOffset(),l.getEndOffset()).some(function(h){var p=h.getEntity();return!!p&&u.__get(p).getType()==="LINK"})},getCurrentBlockType:function(s){var l=s.getSelection();return s.getCurrentContent().getBlockForKey(l.getStartKey()).getType()},getDataObjectForLinkURL:function(s){return{url:s.toString()}},handleKeyCommand:function(s,l,c){switch(l){case"bold":return i.toggleInlineStyle(s,"BOLD");case"italic":return i.toggleInlineStyle(s,"ITALIC");case"underline":return i.toggleInlineStyle(s,"UNDERLINE");case"code":return i.toggleCode(s);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return i.onBackspace(s);case"delete":case"delete-word":case"delete-to-end-of-block":return i.onDelete(s);default:return null}},insertSoftNewline:function(s){var l=e.insertText(s.getCurrentContent(),s.getSelection(),`
`,s.getCurrentInlineStyle(),null),c=t.push(s,l,"insert-characters");return t.forceSelection(c,l.getSelectionAfter())},onBackspace:function(s){var l=s.getSelection();if(!l.isCollapsed()||l.getAnchorOffset()||l.getFocusOffset())return null;var c=s.getCurrentContent(),u=l.getStartKey(),h=c.getBlockBefore(u);if(h&&h.getType()==="atomic"){var p=c.getBlockMap().delete(h.getKey()),g=c.merge({blockMap:p,selectionAfter:l});if(g!==c)return t.push(s,g,"remove-range")}var m=i.tryToRemoveBlockStyle(s);return m?t.push(s,m,"change-block-type"):null},onDelete:function(s){var l=s.getSelection();if(!l.isCollapsed())return null;var c=s.getCurrentContent(),u=l.getStartKey(),h=c.getBlockForKey(u),p=h.getLength();if(l.getStartOffset()<p)return null;var g=c.getBlockAfter(u);if(!g||g.getType()!=="atomic")return null;var m=l.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),y=e.removeRange(c,m,"forward");return y!==c?t.push(s,y,"remove-range"):null},onTab:function(s,l,c){var u=l.getSelection(),h=u.getAnchorKey();if(h!==u.getFocusKey())return l;var p=l.getCurrentContent(),g=p.getBlockForKey(h),m=g.getType();if(m!=="unordered-list-item"&&m!=="ordered-list-item")return l;s.preventDefault();var y=g.getDepth();if(!s.shiftKey&&y===c)return l;var b=n(p,u,s.shiftKey?-1:1,c);return t.push(l,b,"adjust-depth")},toggleBlockType:function(s,l){var c=s.getSelection(),u=c.getStartKey(),h=c.getEndKey(),p=s.getCurrentContent(),g=c;if(u!==h&&c.getEndOffset()===0){var m=r(p.getBlockBefore(h));h=m.getKey(),g=g.merge({anchorKey:u,anchorOffset:c.getStartOffset(),focusKey:h,focusOffset:m.getLength(),isBackward:!1})}var y=p.getBlockMap().skipWhile(function(v,S){return S!==u}).reverse().skipWhile(function(v,S){return S!==h}).some(function(v){return v.getType()==="atomic"});if(y)return s;var b=p.getBlockForKey(u).getType()===l?"unstyled":l;return t.push(s,e.setBlockType(p,g,b),"change-block-type")},toggleCode:function(s){var l=s.getSelection(),c=l.getAnchorKey(),u=l.getFocusKey();return l.isCollapsed()||c!==u?i.toggleBlockType(s,"code-block"):i.toggleInlineStyle(s,"CODE")},toggleInlineStyle:function(s,l){var c=s.getSelection(),u=s.getCurrentInlineStyle();if(c.isCollapsed())return t.setInlineStyleOverride(s,u.has(l)?u.remove(l):u.add(l));var h=s.getCurrentContent(),p;return u.has(l)?p=e.removeInlineStyle(h,c,l):p=e.applyInlineStyle(h,c,l),t.push(s,p,"change-inline-style")},toggleLink:function(s,l,c){var u=e.applyEntity(s.getCurrentContent(),l,c);return t.push(s,u,"apply-entity")},tryToRemoveBlockStyle:function(s){var l=s.getSelection(),c=l.getAnchorOffset();if(l.isCollapsed()&&c===0){var u=l.getAnchorKey(),h=s.getCurrentContent(),p=h.getBlockForKey(u),g=p.getType(),m=h.getBlockBefore(u);if(g==="code-block"&&m&&m.getType()==="code-block"&&m.getLength()!==0)return null;if(g!=="unstyled")return e.setBlockType(h,l,"unstyled")}return null}};return dT=i,dT}var hT,wV;function Ype(){if(wV)return hT;wV=1;var e=/\r\n?|\n/g;function t(n){return n.split(e)}return hT=t,hT}var fT,SV;function Xpe(){if(SV)return fT;SV=1;var e=Mg(),t=pa(),n=mj(),r=gs(),i=Kpe(),o=si(),s=bV(),l=DE(),c=yj(),u=cb(),h=Ype();function p(y,b){b.preventDefault();var v=new n(b.clipboardData);if(!v.isRichText()){var S=v.getFiles(),E=v.getText();if(S.length>0){if(y.props.handlePastedFiles&&u(y.props.handlePastedFiles(S)))return;c(S,function(Q){if(Q=Q||E,!!Q){var H=y._latestEditorState,X=h(Q),he=t.create({style:H.getCurrentInlineStyle(),entity:l(H.getCurrentContent(),H.getSelection())}),pe=s.getCurrentBlockType(H),ge=i.processText(X,he,pe),ce=e.createFromArray(ge),be=r.replaceWithFragment(H.getCurrentContent(),H.getSelection(),ce);y.update(o.push(H,be,"insert-fragment"))}});return}}var T=[],O=v.getText(),M=v.getHTML(),I=y._latestEditorState;if(y.props.formatPastedText){var N=y.props.formatPastedText(O,M),D=N.text,L=N.html;O=D,M=L}if(!(y.props.handlePastedText&&u(y.props.handlePastedText(O,M,I)))){if(O&&(T=h(O)),!y.props.stripPastedStyles){var A=y.getClipboard();if(!y.props.formatPastedText&&v.isRichText()&&A){var $;if((($=M)===null||$===void 0?void 0:$.indexOf(y.getEditorKey()))!==-1||T.length===1&&A.size===1&&A.first().getText()===O){y.update(g(y._latestEditorState,A));return}}else if(A&&v.types.includes("com.apple.webarchive")&&!v.types.includes("text/html")&&m(T,A)){y.update(g(y._latestEditorState,A));return}if(M){var j=i.processHTML(M,y.props.blockRenderMap);if(j){var U=j.contentBlocks,K=j.entityMap;if(U){var q=e.createFromArray(U);y.update(g(y._latestEditorState,q,K));return}}}y.setClipboard(null)}if(T.length){var z=t.create({style:I.getCurrentInlineStyle(),entity:l(I.getCurrentContent(),I.getSelection())}),Y=s.getCurrentBlockType(I),te=i.processText(T,z,Y),ie=e.createFromArray(te);y.update(g(y._latestEditorState,ie))}}}function g(y,b,v){var S=r.replaceWithFragment(y.getCurrentContent(),y.getSelection(),b);return o.push(y,S.set("entityMap",v),"insert-fragment")}function m(y,b){return y.length===b.size&&b.valueSeq().every(function(v,S){return v.getText()===y[S]})}return fT=p,fT}var pT,CV;function Zpe(){if(CV)return pT;CV=1;var e=vs(),t=wpe(),n=Spe(),r=Cpe(),i=xpe(),o=Epe(),s=Tpe(),l=Mpe(),c=Ope(),u=Rpe(),h=Upe(),p=Xpe(),g=EF(),m=e.isBrowser("Chrome"),y=e.isBrowser("Firefox"),b=m||y?g:function(S){},v={onBeforeInput:t,onBlur:n,onCompositionStart:r,onCopy:i,onCut:o,onDragOver:s,onDragStart:l,onFocus:c,onInput:u,onKeyDown:h,onPaste:p,onSelect:g,onMouseUp:b,onKeyUp:b};return pT=v,pT}var gT={exports:{}},Xo={};var xV;function Qpe(){if(xV)return Xo;xV=1;var e=Yo();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:u,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Xo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xo.createPortal=function(c,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return o(c,u,null,h)},Xo.flushSync=function(c){var u=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=u,r.p=h,r.d.f()}},Xo.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},Xo.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Xo.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var h=u.as,p=l(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Xo.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=l(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},Xo.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=l(h,u.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Xo.preloadModule=function(c,u){if(typeof c=="string")if(u){var h=l(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},Xo.requestFormReset=function(c){r.d.r(c)},Xo.unstable_batchedUpdates=function(c,u){return c(u)},Xo.useFormState=function(c,u,h){return s.H.useFormState(c,u,h)},Xo.useFormStatus=function(){return s.H.useHostTransitionStatus()},Xo.version="19.2.3",Xo}var _V;function mT(){if(_V)return gT.exports;_V=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gT.exports=Qpe(),gT.exports}var vT,EV;function Jpe(){if(EV)return vT;EV=1;var e=mT(),t=e.unstable_flushControlled;return vT=t,vT}var yT,TV;function ege(){if(TV)return yT;TV=1;function e(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.__proto__=o}var t=Yo(),n=Xd(),r=(function(i){e(o,i);function o(){return i.apply(this,arguments)||this}var s=o.prototype;return s.shouldComponentUpdate=function(c){return this.props.text!==c.text||this.props.editorState.getSelection().getHasFocus()!==c.editorState.getSelection().getHasFocus()},s.render=function(){var c=this.props.editorState.getSelection().getHasFocus(),u=n({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":c}),h={whiteSpace:"pre-wrap"};return t.createElement("div",{className:u},t.createElement("div",{className:n("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:h},this.props.text))},o})(t.Component);return yT=r,yT}var bT,MV;function OV(){if(MV)return bT;MV=1;var e=$1(),t=sb(),n=vs(),r=n.isPlatform("Mac OS X"),i=r&&n.isBrowser("Firefox < 29"),o=e.hasCommandModifier,s=e.isCtrlKeyCommand;function l(g){return r&&g.altKey||s(g)}function c(g){return o(g)?g.shiftKey?"redo":"undo":null}function u(g){return!r&&g.shiftKey?null:l(g)?"delete-word":"delete"}function h(g){return o(g)&&r?"backspace-to-start-of-line":l(g)?"backspace-word":"backspace"}function p(g){switch(g.keyCode){case 66:return o(g)?"bold":null;case 68:return s(g)?"delete":null;case 72:return s(g)?"backspace":null;case 73:return o(g)?"italic":null;case 74:return o(g)?"code":null;case 75:return r&&s(g)?"secondary-cut":null;case 77:return s(g)?"split-block":null;case 79:return s(g)?"split-block":null;case 84:return r&&s(g)?"transpose-characters":null;case 85:return o(g)?"underline":null;case 87:return r&&s(g)?"backspace-word":null;case 89:return s(g)?r?"secondary-paste":"redo":null;case 90:return c(g)||null;case t.RETURN:return"split-block";case t.DELETE:return u(g);case t.BACKSPACE:return h(g);case t.LEFT:return i&&o(g)?"move-selection-to-start-of-block":null;case t.RIGHT:return i&&o(g)?"move-selection-to-end-of-block":null;default:return null}}return bT=p,bT}var wT,RV;function tge(){if(RV)return wT;RV=1;var e=Zd();function t(){return t=e||function(te){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie];for(var H in Q)Object.prototype.hasOwnProperty.call(Q,H)&&(te[H]=Q[H])}return te},t.apply(this,arguments)}function n(te){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie]!=null?arguments[ie]:{},H=Object.keys(Q);typeof Object.getOwnPropertySymbols=="function"&&(H=H.concat(Object.getOwnPropertySymbols(Q).filter(function(X){return Object.getOwnPropertyDescriptor(Q,X).enumerable}))),H.forEach(function(X){i(te,X,Q[X])})}return te}function r(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}function i(te,ie,Q){return ie in te?Object.defineProperty(te,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):te[ie]=Q,te}function o(te,ie){te.prototype=Object.create(ie.prototype),te.prototype.constructor=te,te.__proto__=ie}var s=lE(),l=YB(),c=Xfe(),u=fpe(),h=mpe(),p=Zpe(),g=Jpe(),m=ege(),y=LF(),b=si(),v=Yo(),S=qE(),E=ab(),T=vs(),O=Xd(),M=jl(),I=OV(),N=lb(),D=vu(),L=Lr(),A=Ig(),$=ms(),j=T.isBrowser("IE"),U=!j,K={edit:p,composite:c,drag:h,cut:null,render:null},q=!1,z=(function(te){o(ie,te);function ie(){return te.apply(this,arguments)||this}var Q=ie.prototype;return Q.render=function(){return null},Q.componentDidMount=function(){this._update()},Q.componentDidUpdate=function(){this._update()},Q._update=function(){var X=this.props.editor;X._latestEditorState=this.props.editorState,X._blockSelectEvents=!0},ie})(v.Component),Y=(function(te){o(ie,te);function ie(H){var X;return X=te.call(this,H)||this,i(r(X),"_blockSelectEvents",void 0),i(r(X),"_clipboard",void 0),i(r(X),"_handler",void 0),i(r(X),"_dragCount",void 0),i(r(X),"_internalDrag",void 0),i(r(X),"_editorKey",void 0),i(r(X),"_placeholderAccessibilityID",void 0),i(r(X),"_latestEditorState",void 0),i(r(X),"_latestCommittedEditorState",void 0),i(r(X),"_pendingStateFromBeforeInput",void 0),i(r(X),"_onBeforeInput",void 0),i(r(X),"_onBlur",void 0),i(r(X),"_onCharacterData",void 0),i(r(X),"_onCompositionEnd",void 0),i(r(X),"_onCompositionStart",void 0),i(r(X),"_onCopy",void 0),i(r(X),"_onCut",void 0),i(r(X),"_onDragEnd",void 0),i(r(X),"_onDragOver",void 0),i(r(X),"_onDragStart",void 0),i(r(X),"_onDrop",void 0),i(r(X),"_onInput",void 0),i(r(X),"_onFocus",void 0),i(r(X),"_onKeyDown",void 0),i(r(X),"_onKeyPress",void 0),i(r(X),"_onKeyUp",void 0),i(r(X),"_onMouseDown",void 0),i(r(X),"_onMouseUp",void 0),i(r(X),"_onPaste",void 0),i(r(X),"_onSelect",void 0),i(r(X),"editor",void 0),i(r(X),"editorContainer",void 0),i(r(X),"focus",void 0),i(r(X),"blur",void 0),i(r(X),"setMode",void 0),i(r(X),"exitCurrentMode",void 0),i(r(X),"restoreEditorDOM",void 0),i(r(X),"setClipboard",void 0),i(r(X),"getClipboard",void 0),i(r(X),"getEditorKey",void 0),i(r(X),"update",void 0),i(r(X),"onDragEnter",void 0),i(r(X),"onDragLeave",void 0),i(r(X),"_handleEditorContainerRef",function(he){X.editorContainer=he,X.editor=he!==null?he.firstChild:null}),i(r(X),"focus",function(he){var pe=X.props.editorState,ge=pe.getSelection().getHasFocus(),ce=X.editor;if(ce){var be=E.getScrollParent(ce),Ne=he||N(be),_e=Ne.x,me=Ne.y;A(ce)||L(!1),ce.focus(),be===window?window.scrollTo(_e,me):S.setTop(be,me),ge||X.update(b.forceSelection(pe,pe.getSelection()))}}),i(r(X),"blur",function(){var he=X.editor;he&&(A(he)||L(!1),he.blur())}),i(r(X),"setMode",function(he){var pe=X.props,ge=pe.onPaste,ce=pe.onCut,be=pe.onCopy,Ne=n({},K.edit);ge&&(Ne.onPaste=ge),ce&&(Ne.onCut=ce),be&&(Ne.onCopy=be);var _e=n({},K,{edit:Ne});X._handler=_e[he]}),i(r(X),"exitCurrentMode",function(){X.setMode("edit")}),i(r(X),"restoreEditorDOM",function(he){X.setState({contentsKey:X.state.contentsKey+1},function(){X.focus(he)})}),i(r(X),"setClipboard",function(he){X._clipboard=he}),i(r(X),"getClipboard",function(){return X._clipboard}),i(r(X),"update",function(he){X._latestEditorState=he,X.props.onChange(he)}),i(r(X),"onDragEnter",function(){X._dragCount++}),i(r(X),"onDragLeave",function(){X._dragCount--,X._dragCount===0&&X.exitCurrentMode()}),X._blockSelectEvents=!1,X._clipboard=null,X._handler=null,X._dragCount=0,X._editorKey=H.editorKey||M(),X._placeholderAccessibilityID="placeholder-"+X._editorKey,X._latestEditorState=H.editorState,X._latestCommittedEditorState=H.editorState,X._onBeforeInput=X._buildHandler("onBeforeInput"),X._onBlur=X._buildHandler("onBlur"),X._onCharacterData=X._buildHandler("onCharacterData"),X._onCompositionEnd=X._buildHandler("onCompositionEnd"),X._onCompositionStart=X._buildHandler("onCompositionStart"),X._onCopy=X._buildHandler("onCopy"),X._onCut=X._buildHandler("onCut"),X._onDragEnd=X._buildHandler("onDragEnd"),X._onDragOver=X._buildHandler("onDragOver"),X._onDragStart=X._buildHandler("onDragStart"),X._onDrop=X._buildHandler("onDrop"),X._onInput=X._buildHandler("onInput"),X._onFocus=X._buildHandler("onFocus"),X._onKeyDown=X._buildHandler("onKeyDown"),X._onKeyPress=X._buildHandler("onKeyPress"),X._onKeyUp=X._buildHandler("onKeyUp"),X._onMouseDown=X._buildHandler("onMouseDown"),X._onMouseUp=X._buildHandler("onMouseUp"),X._onPaste=X._buildHandler("onPaste"),X._onSelect=X._buildHandler("onSelect"),X.getEditorKey=function(){return X._editorKey},X.state={contentsKey:0},X}var Q=ie.prototype;return Q._buildHandler=function(X){var he=this;return function(pe){if(!he.props.readOnly){var ge=he._handler&&he._handler[X];ge&&(g?g(function(){return ge(he,pe)}):ge(he,pe))}}},Q._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},Q._renderPlaceholder=function(){if(this._showPlaceholder()){var X={text:$(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,X)}return null},Q._renderARIADescribedBy=function(){var X=this.props.ariaDescribedBy||"",he=this._showPlaceholder()?this._placeholderAccessibilityID:"";return X.replace("{{editor_id_placeholder}}",he)||void 0},Q.render=function(){var X=this.props,he=X.blockRenderMap,pe=X.blockRendererFn,ge=X.blockStyleFn,ce=X.customStyleFn,be=X.customStyleMap,Ne=X.editorState,_e=X.preventScroll,me=X.readOnly,ye=X.textAlignment,xe=X.textDirectionality,Ie=O({"DraftEditor/root":!0,"DraftEditor/alignLeft":ye==="left","DraftEditor/alignRight":ye==="right","DraftEditor/alignCenter":ye==="center"}),Pe={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},Re=this.props.role||"textbox",Fe=Re==="combobox"?!!this.props.ariaExpanded:null,ft={blockRenderMap:he,blockRendererFn:pe,blockStyleFn:ge,customStyleMap:n({},l,be),customStyleFn:ce,editorKey:this._editorKey,editorState:Ne,preventScroll:_e,textDirectionality:xe};return v.createElement("div",{className:Ie},this._renderPlaceholder(),v.createElement("div",{className:O("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},v.createElement("div",{"aria-activedescendant":me?null:this.props.ariaActiveDescendantID,"aria-autocomplete":me?null:this.props.ariaAutoComplete,"aria-controls":me?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":me?null:Fe,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":me?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:O({notranslate:!me,"public/DraftEditor/content":!0}),contentEditable:!me,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:me?null:Re,spellCheck:U&&this.props.spellCheck,style:Pe,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(z,{editor:this,editorState:Ne}),v.createElement(u,t({},ft,{key:"contents"+this.state.contentsKey})))))},Q.componentDidMount=function(){this._blockSelectEvents=!1,!q&&D("draft_ods_enabled")&&(q=!0,y.initODS()),this.setMode("edit"),j&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):globalThis.execCommand("AutoUrlDetect",!1,!1))},Q.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},ie})(v.Component);return i(Y,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:s,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:I,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),wT=Y,wT}var IV={},kV;function nge(){return kV||(kV=1),IV}var ST,PV;function DV(){if(PV)return ST;PV=1;var e={stringify:function(n){return"_"+String(n)},unstringify:function(n){return n.slice(1)}};return ST=e,ST}var CT,AV;function rge(){if(AV)return CT;AV=1;var e=DV(),t=Jd(),n=t.strlen;function r(i,o){var s=[];return i.findEntityRanges(function(l){return!!l.getEntity()},function(l,c){var u=i.getText(),h=i.getEntityAt(l);s.push({offset:n(u.slice(0,l)),length:n(u.slice(l,c)),key:Number(o[e.stringify(h)])})}),s}return CT=r,CT}var xT,LV;function ige(){if(LV)return xT;LV=1;var e=Jd(),t=Og(),n=function(c,u){return c===u},r=function(c){return!!c},i=[];function o(l,c,u){var h=[],p=c.map(function(g){return g.has(u)}).toList();return t(p,n,r,function(g,m){var y=l.getText();h.push({offset:e.strlen(y.slice(0,g)),length:e.strlen(y.slice(g,m)),style:u})}),h}function s(l){var c=l.getCharacterList().map(function(h){return h.getStyle()}).toList(),u=c.flatten().toSet().map(function(h){return o(l,c,h)});return Array.prototype.concat.apply(i,u.toJS())}return xT=s,xT}var _T,NV;function oge(){if(NV)return _T;NV=1;function e(m){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{},v=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),v.forEach(function(S){t(m,S,b[S])})}return m}function t(m,y,b){return y in m?Object.defineProperty(m,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[y]=b,m}var n=Yd(),r=ga(),i=DV(),o=rge(),s=ige(),l=Lr(),c=function(y,b){return{key:y.getKey(),text:y.getText(),type:y.getType(),depth:y.getDepth(),inlineStyleRanges:s(y),entityRanges:o(y,b),data:y.getData().toObject()}},u=function(y,b,v,S){if(y instanceof n){v.push(c(y,b));return}y instanceof r||l(!1);var E=y.getParentKey(),T=S[y.getKey()]=e({},c(y,b),{children:[]});if(E){S[E].children.push(T);return}v.push(T)},h=function(y,b){var v=b.entityMap,S=[],E={},T={},O=0;return y.getBlockMap().forEach(function(M){M.findEntityRanges(function(I){return I.getEntity()!==null},function(I){var N=M.getEntityAt(I),D=i.stringify(N);T[D]||(T[D]=N,v[D]="".concat(O),O++)}),u(M,v,S,E)}),{blocks:S,entityMap:v}},p=function(y,b){var v=b.blocks,S=b.entityMap,E={};return Object.keys(S).forEach(function(T,O){var M=y.getEntity(i.unstringify(T));E[O]={type:M.getType(),mutability:M.getMutability(),data:M.getData()}}),{blocks:v,entityMap:E}},g=function(y){var b={entityMap:{},blocks:[]};return b=h(y,b),b=p(y,b),b};return _T=g,_T}var ET,BV;function sge(){if(BV)return ET;BV=1;function e(c){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?arguments[u]:{},p=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(h).filter(function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable}))),p.forEach(function(g){t(c,g,h[g])})}return c}function t(c,u,h){return u in c?Object.defineProperty(c,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[u]=h,c}var n=jl(),r=Lr(),i=function(u,h){for(var p=[].concat(u).reverse();p.length;){var g=p.pop();h(g);var m=g.children;Array.isArray(m)||r(!1),p=p.concat([].concat(m.reverse()))}},o=function(u){if(!(u&&u.type))return!1;var h=u.type;return h==="unordered-list-item"||h==="ordered-list-item"},s=function(u){Array.isArray(u.children)&&(u.children=u.children.map(function(h){return h.type===u.type?e({},h,{depth:(u.depth||0)+1}):h}))},l={fromRawTreeStateToRawState:function(u){var h=u.blocks,p=[];return Array.isArray(h)||r(!1),!Array.isArray(h)||!h.length?u:(i(h,function(g){var m=e({},g);o(g)&&(m.depth=m.depth||0,s(g),g.children!=null&&g.children.length>0)||(delete m.children,p.push(m))}),u.blocks=p,e({},u,{blocks:p}))},fromRawStateToRawTreeState:function(u){var h=[],p=[];return u.blocks.forEach(function(g){var m=o(g),y=g.depth||0,b=e({},g,{children:[]});if(!m){h.push(b);return}var v=p[0];if(v==null&&y===0)h.push(b);else if(v==null||v.depth<y-1){var S={key:n(),text:"",depth:y-1,type:g.type,children:[],entityRanges:[],inlineStyleRanges:[]};p.unshift(S),y===1?h.push(S):v?.children.push(S),S.children.push(b)}else if(v.depth===y-1)v.children.push(b);else{for(;v!=null&&v.depth>=y;)p.shift(),v=p[0];y>0?v.children.push(b):h.push(b)}}),e({},u,{blocks:h})}};return ET=l,ET}var TT,FV;function age(){if(FV)return TT;FV=1,D1();var e={isValidBlock:function(n,r){var i=n.getKey(),o=n.getParentKey();if(o!=null){var s=r.get(o);if(!s.getChildKeys().includes(i))return!1}var l=n.getChildKeys().map(function(g){return r.get(g)});if(!l.every(function(g){return g.getParentKey()===i}))return!1;var c=n.getPrevSiblingKey();if(c!=null){var u=r.get(c);if(u.getNextSiblingKey()!==i)return!1}var h=n.getNextSiblingKey();if(h!=null){var p=r.get(h);if(p.getPrevSiblingKey()!==i)return!1}return!(h!==null&&c!==null&&c===h||n.text!=""&&n.getChildKeys().size>0)},isConnectedTree:function(n){var r=n.toArray().filter(function(m){return m.getParentKey()==null&&m.getPrevSiblingKey()==null});if(r.length!==1)return!1;for(var i=r.shift(),o=0,s=i.getKey(),l=[];s!=null;){var c=n.get(s),u=c.getChildKeys(),h=c.getNextSiblingKey();if(u.size>0){h!=null&&l.unshift(h);var p=u.map(function(m){return n.get(m)}),g=p.find(function(m){return m.getPrevSiblingKey()==null});if(g==null)return!1;s=g.getKey()}else c.getNextSiblingKey()!=null?s=c.getNextSiblingKey():s=l.shift();o++}return o===n.size},isValidTree:function(n){var r=this,i=n.toArray();return i.every(function(o){return r.isValidBlock(o,n)})?this.isConnectedTree(n):!1}};return TT=e,TT}var MT,jV;function lge(){if(jV)return MT;jV=1;var e=pa(),t=kr(),n=t.List;function r(i,o){var s=i.map(function(l,c){var u=o[c];return e.create({style:l,entity:u})});return n(s)}return MT=r,MT}var OT,VV;function cge(){if(VV)return OT;VV=1;var e=Jd(),t=e.substr;function n(r,i){var o=Array(r.length).fill(null);return i&&i.forEach(function(s){for(var l=t(r,0,s.offset).length,c=l+t(r,s.offset,s.length).length,u=l;u<c;u++)o[u]=s.key}),o}return OT=n,OT}var RT,$V;function uge(){if($V)return RT;$V=1;var e=Jd(),t=kr(),n=t.OrderedSet,r=e.substr,i=n();function o(s,l){var c=Array(s.length).fill(i);return l&&l.forEach(function(u){for(var h=r(s,0,u.offset).length,p=h+r(s,u.offset,u.length).length;h<p;)c[h]=c[h].add(u.style),h++}),c}return RT=o,RT}var IT,zV;function dge(){if(zV)return IT;zV=1;function e(j){for(var U=1;U<arguments.length;U++){var K=arguments[U]!=null?arguments[U]:{},q=Object.keys(K);typeof Object.getOwnPropertySymbols=="function"&&(q=q.concat(Object.getOwnPropertySymbols(K).filter(function(z){return Object.getOwnPropertyDescriptor(K,z).enumerable}))),q.forEach(function(z){t(j,z,K[z])})}return j}function t(j,U,K){return U in j?Object.defineProperty(j,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):j[U]=K,j}var n=Yd(),r=ga(),i=q_(),o=tb(),s=sge();age();var l=nb(),c=lge(),u=cge(),h=uge(),p=jl(),g=vu(),m=kr(),y=Lr(),b=g("draft_tree_data_support"),v=m.List,S=m.Map,E=m.OrderedMap,T=function(U,K){var q=U.key,z=U.type,Y=U.data,te=U.text,ie=U.depth,Q={text:te,depth:ie||0,type:z||"unstyled",key:q||p(),data:S(Y),characterList:O(U,K)};return Q},O=function(U,K){var q=U.text,z=U.entityRanges,Y=U.inlineStyleRanges,te=z||[],ie=Y||[];return c(h(q,ie),u(q,te.filter(function(Q){return K.hasOwnProperty(Q.key)}).map(function(Q){return e({},Q,{key:K[Q.key]})})))},M=function(U){return e({},U,{key:U.key||p()})},I=function(U,K,q){var z=K.map(function(Y){return e({},Y,{parentRef:q})});return U.concat(z.reverse())},N=function(U,K){return U.map(M).reduce(function(q,z,Y){Array.isArray(z.children)||y(!1);var te=z.children.map(M),ie=new r(e({},T(z,K),{prevSibling:Y===0?null:U[Y-1].key,nextSibling:Y===U.length-1?null:U[Y+1].key,children:v(te.map(function(Ne){return Ne.key}))}));q=q.set(ie.getKey(),ie);for(var Q=I([],te,ie);Q.length>0;){var H=Q.pop(),X=H.parentRef,he=X.getChildKeys(),pe=he.indexOf(H.key),ge=Array.isArray(H.children);if(!ge){ge||y(!1);break}var ce=H.children.map(M),be=new r(e({},T(H,K),{parent:X.getKey(),children:v(ce.map(function(Ne){return Ne.key})),prevSibling:pe===0?null:he.get(pe-1),nextSibling:pe===he.size-1?null:he.get(pe+1)}));q=q.set(be.getKey(),be),Q=I(Q,ce,be)}return q},E())},D=function(U,K){return E(U.map(function(q){var z=new n(T(q,K));return[z.getKey(),z]}))},L=function(U,K){var q=U.blocks.find(function(te){return Array.isArray(te.children)&&te.children.length>0}),z=b&&!q?s.fromRawStateToRawTreeState(U).blocks:U.blocks;if(!b)return D(q?s.fromRawTreeStateToRawState(U).blocks:z,K);var Y=N(z,K);return Y},A=function(U){var K=U.entityMap,q={};return Object.keys(K).forEach(function(z){var Y=K[z],te=Y.type,ie=Y.mutability,Q=Y.data;q[z]=o.__create(te,ie,Q||{})}),q},$=function(U){Array.isArray(U.blocks)||y(!1);var K=A(U),q=L(U,K),z=q.isEmpty()?new l:l.createEmpty(q.first().getKey());return new i({blockMap:q,entityMap:K,selectionBefore:z,selectionAfter:z})};return IT=$,IT}var kT,UV;function hge(){if(UV)return kT;UV=1;var e=Wj();function t(n){var r=e(n),i=0,o=0,s=0,l=0;if(r.length){if(r.length>1&&r[0].width===0){var c=r[1];i=c.top,o=c.right,s=c.bottom,l=c.left}else{var u=r[0];i=u.top,o=u.right,s=u.bottom,l=u.left}for(var h=1;h<r.length;h++){var p=r[h];p.height!==0&&p.width!==0&&(i=Math.min(i,p.top),o=Math.max(o,p.right),s=Math.max(s,p.bottom),l=Math.min(l,p.left))}}return{top:i,right:o,bottom:s,left:l,width:o-l,height:s-i}}return kT=t,kT}var PT,HV;function fge(){if(HV)return PT;HV=1;var e=hge();function t(n){var r=n.getSelection();if(!r.rangeCount)return null;var i=r.getRangeAt(0),o=e(i),s=o.top,l=o.right,c=o.bottom,u=o.left;return s===0&&l===0&&c===0&&u===0?null:o}return PT=t,PT}var DT,GV;function pge(){if(GV)return DT;GV=1;var e=Vfe(),t=Mg(),n=pa(),r=$fe(),i=Yd(),o=q_(),s=lE(),l=YB(),c=tge(),u=aj(),h=tb(),p=gs(),g=MB(),m=si(),y=$1(),b=nge(),v=bV(),S=nb(),E=oge(),T=dge(),O=jl(),M=OV(),I=fge(),N=gV(),D={Editor:c,EditorBlock:u,EditorState:m,CompositeDecorator:r,Entity:h,EntityInstance:g,BlockMapBuilder:t,CharacterMetadata:n,ContentBlock:i,ContentState:o,RawDraftContentState:b,SelectionState:S,AtomicBlockUtils:e,KeyBindingUtil:y,Modifier:p,RichUtils:v,DefaultDraftBlockRenderMap:s,DefaultDraftInlineStyle:l,convertFromHTML:N,convertFromRaw:T,convertToRaw:E,genKey:O,getDefaultKeyBinding:M,getVisibleSelectionRect:I};return DT=D,DT}var ma=pge();const WV=tg[0],AT=16,KV="#000000",qV=["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH"];let gge=0;function YV(e,t){return{type:"unstyled",depth:0,key:"block"+ ++gge,entityRanges:[],inlineStyleRanges:t,text:e}}function LT(e,t){const n=e+"_";return t.startsWith(n)?t.split("_")[1]:null}function NT(e,t){const n=e+"_";return t.find(r=>!!r&&r.startsWith(n))?.split("_")[1]||null}function mge(e){const t=[];let n="",r=[];for(const i of e.parts){const o=oC(i.fgcolor),{fontFamily:s,style:l,size:c,name:u}=i.font,h=u==="Symbol",p=l&1,g=l&2,m=l&4,y=l&8,b=[`color_${o}`,`fontSize_${c||AT}px`,`fontFamily_${s}`];p&&b.push("ITALIC"),g&&b.push("UNDERLINE"),m&&b.push("STRIKETHROUGH"),y&&b.push("BOLD");let v=!1;for(const S of i.string.text.split(`\r
`).join(`
`).split(`
`)){const E=h?j0(S):S;if(v&&(t.push(YV(n,r)),n="",r=[]),v=!0,!E)continue;const T=n.length,O=E.length;b.forEach(M=>r.push({offset:T,length:O,style:M})),n+=E}}return n&&t.push(YV(n,r)),{blocks:t,entityMap:{}}}function vge(e,{blocks:t}){const{scene:n}=e,r=[];let i=null;for(let o=0;o<t.length;++o){const{text:s,inlineStyleRanges:l}=t[o];for(let c=0;c<s.length;++c){let u=!1,h=!1,p=!1,g=!1,m=0,y=0,b="";for(const S of l){if(c<S.offset||c>=S.offset+S.length)continue;const E=S.style;let T;E==="BOLD"?u=!0:E==="ITALIC"?h=!0:E==="STRIKETHROUGH"?p=!0:E==="UNDERLINE"?g=!0:(T=LT("color",E))?m||=sC(T):(T=LT("fontSize",E))?y||=parseInt(T):(T=LT("fontFamily",E))&&(b||=T)}const v=(h?1:0)|(g?2:0)|(p?4:0)|(u?8:0);(!i||i.fgcolor!==m||i.font.size!==y||i.font.style!==v||i.font.name!==b)&&(i={fgcolor:m,string:n.string(""),font:n.font({size:y,style:v,name:b})},r.push(e.createPart(i,!0))),i.string.set({text:i.string.text+s[c]})}o!==t.length-1&&(i?i.string.set({text:i.string.text+`\r
`}):(i={string:n.string(`\r
`),font:n.font()},r.push(e.createPart(i,!0))))}e.set({parts:r})}function BT(e,t,n){const r=t+"_",i=r+n,o=e.getSelection(),s=e.getCurrentInlineStyle(),l=p=>!!p&&p.startsWith(r);if(o.isCollapsed())return ma.EditorState.setInlineStyleOverride(e,s.filter(p=>!l(p)).toSet().add(i));let c=e.getCurrentContent();const u=s.filter(l).toArray();let h;for(;h=u.pop();)c=ma.Modifier.removeInlineStyle(c,o,h);return c=ma.Modifier.applyInlineStyle(c,o,i),ma.EditorState.push(e,c,"change-inline-style")}class yge{constructor(t,n){this.isClosed=!1,this.fontDecorations=[],this.fontSize=AT.toString(),this.fontColor=KV,this.fontName=WV,this.text=n,this.state=ma.EditorState.createWithContent(ma.convertFromRaw(mge(n))),Ot(this,{isClosed:Be.ref,state:Be.ref,fontDecorations:Be.ref,fontSize:Be.ref,fontColor:Be.ref,fontName:Be.ref,setState:Ee,set:Ee,applyAndClose:Ee,close:Ee})}setState(t){this.state=t;const n=t.getCurrentInlineStyle();if(!n)return;this.fontDecorations=qV.filter(i=>n.has(i)),this.fontName=NT("fontFamily",n)||WV,this.fontColor=NT("color",n)||KV;const r=NT("fontSize",n);this.fontSize=(r&&parseInt(r)||AT).toString()}set({fontDecorations:t=this.fontDecorations,fontSize:n=this.fontSize,fontColor:r=this.fontColor,fontName:i=this.fontName}){let{state:o}=this;const s=o.getCurrentInlineStyle();for(const l of qV){const c=t.includes(l),u=s.has(l);c!==u&&(o=ma.RichUtils.toggleInlineStyle(o,l))}o=BT(o,"fontSize",n+"px"),o=BT(o,"color",r),o=BT(o,"fontFamily",i),this.state=o,this.fontDecorations=t,this.fontSize=n,this.fontColor=r,this.fontName=i}applyAndClose(){const t=ma.convertToRaw(this.state.getCurrentContent());if(t.blocks.length!==1||t.blocks[0].text){const{text:n}=this;vge(n,t)}this.isClosed=!0}close(){this.isClosed=!0}}class eh{constructor(t,n,{key:r,data:i}){this.scene=t,this.m=n,this.subs=new Set,this.key=r||ps.freeKey(n),this.key>0&&this.m.set(this.key,this),this.data=i?{...i}:{}}delete(){return this.subs.size?!1:(this.key>0&&this.m.delete(this.key),this.key=0,!0)}toJSON(){const{key:t,data:n}=this;let r;for(const i in n){const o=n[i];typeof o<"u"&&((r||={})[i]=o)}return r?{key:t,data:r}:{key:t}}}class vf extends eh{constructor(t,n){super(t,t.objects,n),this.parent=null,this._deletedByParent=!1;const{x:r,y:i,width:o,height:s,attrib:l}=n;this.x=r||0,this.y=i||0,this.width=o||0,this.height=s||0,this.attrib=l||0}delete(){if(super.delete(),this._deletedByParent)return!0;const{parent:t,scene:n}=this;return t?.set({children:t.children.filter(r=>r.key)}),n.set({order:n.order.filter(r=>r.key)}),!0}set({x:t=this.x,y:n=this.y,attrib:r=this.attrib,width:i=this.width,height:o=this.height}){let s=!1;const l=t-this.x,c=n-this.y;if((l!==0||c!==0)&&(this._onMoved(l,c),s=!0),this.width!==i||this.height!==o){const u=this.width||1,h=this.height||1,p=i&&i>0?i:u,g=o&&o>0?o:h,m=p/u,y=g/h;(m!==1||y!==1)&&(this._onResized(this.x,this.y,m,y),s=!0)}return this.attrib!==r&&(this.attrib=r,this.onAttribChanged()),s&&this.parent?._childChanged(),this}rotate(t,n){if(t===0)return this;const r=n?.x??this.x,i=n?.y??this.y;return this._onRotated(r,i,t),this.parent?._childChanged(),this}isVisible(){const t=this.attrib,n=t&Il,r=1<<Bd(t)&this.scene.hiddenLayers,i=t&vc;return!(n||r&&!i)}updateBBox(t,n,r,i){this.x=t,this.y=n,this.width=r,this.height=i}_onMoved(t,n){this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,i){const o=t+(this.x-t)*r,s=n+(this.y-n)*i,l=(this.width||1)*r,c=(this.height||1)*i;this.updateBBox(o,s,l,c)}_onRotated(t,n,r){const i=Math.sin(r),o=Math.cos(r),s=this.x-t,l=this.y-n,c=s*o-l*i+t,u=s*i+l*o+n;this.updateBBox(c,u,this.width,this.height)}toJSON(){const{attrib:t,height:n,width:r,x:i,y:o}=this;return{...super.toJSON(),attrib:t,height:n,width:r,x:i,y:o}}toString(){return"Графический элемент"}}class bge extends vf{constructor(t,n,r){super(t,r),this.type="group",this.children=[],this.set({...r,children:n})}delete(t){return this.children.forEach(n=>{n._deletedByParent=!0,n.delete(t)}),super.delete()}set(t,n){typeof t.children<"u"&&(this.children.forEach(i=>i.parent=null),this.children=t.children,this.children.forEach(i=>i.parent=this),this.children.length>0?this._childChanged():(this.updateBBox(this.x,this.y,0,0),this.parent?._childChanged()));const{attrib:r}=t;return typeof r<"u"&&!n&&this.children.forEach(i=>i.set({attrib:r})),super.set(t)}_childChanged(){let t=1/0,n=-1/0,r=1/0,i=-1/0;this.children.forEach(o=>{t=Math.min(t,o.x),r=Math.min(r,o.y),n=Math.max(n,o.x+o.width),i=Math.max(i,o.y+o.height)}),this.updateBBox(t,r,n-t,i-r),this.parent?._childChanged()}_onMoved(t,n){if(this.children.length===0){super._onMoved(t,n);return}this.children.forEach(r=>r._onMoved(t,n)),this.updateBBox(this.x+t,this.y+n,this.width,this.height)}_onResized(t,n,r,i){if(this.children.length===0){super._onResized(t,n,r,i);return}let o=1/0,s=-1/0,l=1/0,c=-1/0;this.children.forEach(u=>{u._onResized(t,n,r,i),o=Math.min(o,u.x),l=Math.min(l,u.y),s=Math.max(s,u.x+u.width),c=Math.max(c,u.y+u.height)}),this.updateBBox(o,l,s-o,c-l)}_onRotated(t,n,r){if(this.children.length===0){super._onRotated(t,n,r);return}let i=1/0,o=-1/0,s=1/0,l=-1/0;this.children.forEach(c=>{c._onRotated(t,n,r),i=Math.min(i,c.x),s=Math.min(s,c.y),o=Math.max(o,c.x+c.width),l=Math.max(l,c.y+c.height)}),this.updateBBox(i,s,o-i,l-s)}*descendants(t){for(const n of this.children)t&&n.key<=0||(n.type==="group"&&(yield*n.descendants(t)),yield n)}onAttribChanged(){}toJSON(){const{type:t}=this,{x:n,y:r,width:i,height:o,...s}=super.toJSON(),l=this.children.filter(c=>c.key>0).map(c=>c.key);return{...s,type:t,children:l}}toString(){return"Группа"}}class XV{constructor(){this.type="scene",this.onInputChanged=new aa,this.objects=new Map,this.pens=new Map,this.brushes=new Map,this.images=new Map,this.imagesOpaque=new Map,this.strings=new Map,this.fonts=new Map,this.texts=new Map,this.x=0,this.y=0,this.order=[],this.background=null,this.hiddenLayers=0,this.grid=null,this.selectUnselectable=!1,this.disableInputs=!1}init(t){if(!t)return;this.set({...t,background:void 0,order:void 0}).merge(t,"exact");const n=t.background&&this.brushes.get(t.background);n&&this.set({background:n})}set({x:t=this.x,y:n=this.y,order:r=this.order,hiddenLayers:i=this.hiddenLayers,selectUnselectable:o=this.selectUnselectable,disableInputs:s=this.disableInputs,grid:l=this.grid,background:c=this.background}){return this.background!==c&&(this.background?.subs.delete(this),this.background=c,this.background?.subs.add(this),this.onBackgroundChanged()),this.disableInputs!==s&&(this.disableInputs=s,this.onDisableInputsChanged()),(this.x!==t||this.y!==n)&&(this.x=Math.round(t),this.y=Math.round(n),this.onOriginChanged()),this.hiddenLayers!==i&&(this.hiddenLayers=i,this.onLayersChanged()),this.order=r,this.selectUnselectable=o,this.grid=l,this}pick(t,n){const{order:r,hiddenLayers:i,selectUnselectable:o}=this;for(let s=r.length-1;s>=0;--s){const l=r[s],c=l.attrib,u=c&Il,h=c&vc,p=c&la,g=c&Qp,m=Bd(c);if(u||g&&!o||!h&&1<<m&i||p)continue;let y=t-l.x,b=n-l.y,v=0;if(l.type==="line"){if(l.pen)v=l.pen.width/2||.5;else if(!l.brush)continue;v=Math.max(v,4)}else if(l.type==="textView"||l.type==="imageView"){const S=Math.sin(-l.angle),E=Math.cos(-l.angle),T=y*E-b*S,O=y*S+b*E;y=T,b=O}if(!(y<-v||y>l.width+v||b<-v||b>l.height+v)&&!(l.type==="line"&&!l.inside(y,b,v)))return l}return null}toJSON(){const{background:t,x:n,y:r,hiddenLayers:i,selectUnselectable:o,grid:s,pens:l,brushes:c,images:u,imagesOpaque:h,fonts:p,strings:g,texts:m,objects:y,order:b}=this;return{background:t?.key,x:n,y:r,hiddenLayers:i,selectUnselectable:o,grid:s,pens:[...l.values()].map(v=>v.toJSON()),brushes:[...c.values()].map(v=>v.toJSON()),images:[...u.values()].map(v=>v.toJSON()),imagesOpaque:[...h.values()].map(v=>v.toJSON()),fonts:[...p.values()].map(v=>v.toJSON()),strings:[...g.values()].map(v=>v.toJSON()),texts:[...m.values()].map(v=>v.toJSON()),objects:[...y.values()].map(v=>v.toJSON()),order:b.filter(v=>v.key>0).map(v=>v.key)}}merge(t,n="free",r){const i=n==="free"?0:-1;function o(D,L){return n==="exact"?L?{...D,...L}:D:{...D,...L,key:i}}const s=t.pens?.map(D=>[D.key,this.pen(o(D))]),l=t.images?.map(D=>[D.key,this.image(D,o(D))]),c=t.imagesOpaque?.map(D=>[D.key,this.image(D,o(D,{opaque:!0}))]),u=t.fonts?.map(D=>[D.key,this.font(o(D))]),h=t.strings?.map(D=>[D.key,this.string(D.text||"",o(D))]),p=s?new Map(s):this.pens,g=l?new Map(l):this.images,m=c?new Map(c):this.imagesOpaque,y=u?new Map(u):this.fonts,b=h?new Map(h):this.strings,v=t.brushes?.map(D=>{const L=D.image&&m.get(D.image)||null;return[D.key,this.brush(o(D,{image:L}))]}),S=v?new Map(v):this.brushes,E=t.texts?.map(D=>{const L=D.parts.map((A,$)=>{const j=y.get(A.font)||yu(`Текст #${D.key}[${$}]: Шрифт #${A.font} не существует`),U=b.get(A.string)||yu(`Текст #${D.key}[${$}]: Строка #${A.string} не существует`);return{...A,font:j,string:U}});return[D.key,this.text(L,o(D))]}),T=E?new Map(E):this.texts,O=[],M=t.objects?.map(D=>{switch(D.type){case"line":{const L=D.pen&&p.get(D.pen)||null,A=D.brush&&S.get(D.brush)||null;return[D.key,this.line(D.coords,o(D,{pen:L,brush:A}))]}case"imageView":{const A=(D.opaque?m:g).get(D.image)||yu(`ImageView (opaque: ${D.opaque}) #${D.key}: Изображение #${D.image} не существует`);return[D.key,this.imageView(A,o(D))]}case"textView":{const L=T.get(D.text)||yu(`TextView #${D.key}: Текст #${D.text} не существует`);return[D.key,this.textView(L,o(D))]}case"input":{const L=D.font&&y.get(D.font)||null;return[D.key,this.input(D.inputType,o(D,{font:L}))]}case"videoView":return[D.key,this.video(D.src,o(D))];case"group":{const L=this.group([],o(D));return O.push({g:L,o:D}),[D.key,L]}case"3dView":throw Error(`Объект #${D.key} является 3D проекцией. Они еще не реализованы.`)}}),I=new Map(M);for(const{g:D,o:L}of O){const A=L.children.map($=>I.get($)||yu(`Группа #${D.key}: Объект #${$} не существует.`));D.set({children:A})}const N=t.order?.map(D=>{const L=I.get(D)||yu(`Объект #${D} не существует и не может быть отображен.`);return L.type==="group"&&yu(`Объект #${D} является группой и не может быть отображен.`),L});return!r&&N?.length&&this.set({order:this.order.concat(N)}),{objects:I,brushes:S,fonts:y,images:g,imagesOpaque:m,pens:p,strings:b,texts:T,order:N||[]}}_exist(t,n){return n&&n.key&&n.key>0&&t.get(n.key)}_not(t,n){return n&&n.key&&n.key>0&&t.get(n.key)&&yu(`Объект #${n.key} уже существует`),!0}group(t,n={}){return this._not(this.objects,n)&&new bge(this,t,n)}line(t,n){return this._not(this.objects,n)&&this.createLine(t,n)}imageView(t,n){return this._not(this.objects,n)&&this.createImageView(t,n)}textView(t,n){return this._not(this.objects,n)&&this.createTextView(t,n)}input(t,n){return this._not(this.objects,n)&&this.createInput(t,n)}video(t,n){return this._not(this.objects,n)&&this.createVideo(t,n)}pen(t){return this._exist(this.pens,t)||this.createPen(t)}brush(t){return this._exist(this.brushes,t)||this.createBrush(t)}image(t,n){return this._exist(n?.opaque?this.imagesOpaque:this.images,n)||this.createImage(t,n)}string(t,n){return this._exist(this.strings,n)||this.createString(t,n)}font(t){return this._exist(this.fonts,t)||this.createFont(t)}text(t,n){return this._exist(this.texts,n)||this.createText(t,n)}}function yu(e){throw Error(e)}class ZV extends eh{constructor(t,n){super(t,t.brushes,n),this.type="brush",this.color=0,this.style=0,this.rop=0,this.hatch=0,this.image=null,this.set(n)}set({color:t=this.color,hatch:n=this.hatch,image:r=this.image,rop:i=this.rop,style:o=this.style}){let s=!1;return this.image!==r&&(this.image?.subs.delete(this),this.image=r,this.image?.subs.add(this),s=!0),(this.color!==t||this.style!==o||this.rop!==i||this.hatch!==n)&&(this.color=t,this.style=o,this.rop=i,this.hatch=n,s=!0),s&&this.subs.forEach(l=>l._onBrushPropsChanged()),this}toJSON(){const{color:t,hatch:n,image:r,rop:i,style:o}=this;return{...super.toJSON(),color:t,hatch:n,image:r?.key,rop:i,style:o}}delete(t){if(!super.delete())return!1;const{image:n}=this;return n&&(n.subs.delete(this),t||n.delete()),!0}}const wge=9,Sge=10,Cge=0,xge=1,_ge=3;class Ege extends ZV{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Nd(this._color=this.color):this._cssColor}blend(){switch(this.rop){case wge:return"multiply";case Sge:return"multiply";default:return null}}fill(){switch(this.style){case Cge:return this.cssColor();case xge:return null;case _ge:return this.image?.pattern()??"black";default:return"white"}}}const Tge=tg.map(e=>e.toUpperCase());function Mge(e){if(!e)return tg[0];if(e==="Symbol")return"Times New Roman";const t=e.toUpperCase(),n=t.endsWith(" CYR")?t.slice(0,-4):t;return tg[Math.max(Tge.indexOf(n),0)]}class QV extends eh{constructor(t,n){super(t,t.fonts,n),this.name="",this.size=0,this.style=0,this._fontFamily="",this.set(n)}get fontFamily(){return this._fontFamily||=Mge(this.name)}get actualSize(){return this.size||16.521739130434785}set({name:t=this.name,size:n=this.size,style:r=this.style}){let i=!0;return this.name!==t&&(this.name=t,this._fontFamily="",i=!0),(this.size!==n||this.style!==r)&&(this.size=n,this.style=r,i=!0),i&&(this.onPropsChanged(),this.subs.forEach(o=>o._onFontPropsChanged())),this}toJSON(){const{name:t,size:n,style:r}=this;return{...super.toJSON(),name:t,size:n,style:r}}}class Oge extends QV{constructor(){super(...arguments),this._size=NaN,this._style=NaN,this._family="",this._textDecoration="",this._fontStyle="",this._fontWeight="",this._css=this.css(),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,actualSize:n,style:r}=this;return this.inputCssFont=`${r&Jp?"bold":"normal"} ${r&ly?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?j0(t):t}css(){const{fontFamily:t,actualSize:n,style:r}=this;let i=!1;if(this._style!==r){this._style=r,i=!0;const o=r&ly,s=r&HP,l=r&GP,c=r&Jp;this._textDecoration=`${s?"underline":""} ${l?"line-through":""}`,this._fontStyle=o?"italic":"normal",this._fontWeight=c?"bold":"normal"}return this._family!==t&&(this._family=t,i=!0),this._size!==n&&(this._size=n,i=!0),i?this._css={isSymbolFont:this.name==="Symbol",fontFamily:this._family,textDecoration:this._textDecoration,fontSize:n||15.940224159402327,fontStyle:this._fontStyle,fontWeight:this._fontWeight}:this._css}onPropsChanged(){this.inputCssFont=""}}class JV extends eh{constructor(t,{width:n,height:r,src:i},o){super(t,o.opaque?t.imagesOpaque:t.images,o),this.width=n,this.height=r,this.src=i}toJSON(){const{height:t,src:n,width:r}=this;return{...super.toJSON(),height:t,src:n,width:r}}}let Rge=0;class Ige extends JV{constructor(t,n,r){super(t,n,r),this._pattern=null,this.resolvedSrc=Ls(this.src)}getPixel(){return 0}setPixel(){return!0}pattern(){if(this._pattern)return this._pattern.url;const t=document.createElementNS("http://www.w3.org/2000/svg","pattern"),n=`pattern_${++Rge}`;t.setAttribute("id",n),t.setAttribute("patternUnits","userSpaceOnUse"),t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString());const r=document.createElementNS("http://www.w3.org/2000/svg","image");r.setAttribute("href",this.resolvedSrc),t.appendChild(r),this.scene._defs.appendChild(t);const i=`url(#${n})`;return this._pattern={e:t,url:i},i}}class e3 extends vf{constructor(t,n,r){const i={...r,width:r.width??n.width,height:r.height??n.height,image:n};super(t,i),this.type="imageView",this.area=null,this.image=n,n.subs.add(this),this.opaque=r.opaque||!1,this.angle=r.angle||0,this.set(i)}set({area:t=this.area,image:n=this.image,...r}){let i=!1;return this.image!==n&&(this.image.subs.delete(this),this.image=n,this.image.subs.add(this),i=!0),this.area!==t&&(this.area=t,i=!0),super.set(r),i&&this.onPropsChanged(),this}_onRotated(t,n,r){this.angle+=r,super._onRotated(t,n,r)}toJSON(){const{image:t,area:n,opaque:r,type:i,angle:o}=this;return{...super.toJSON(),type:i,image:t.key,area:n,opaque:r,angle:o}}delete(t){const{image:n}=this;return n.subs.delete(this),t||n.delete(),super.delete()}toString(){return"Картинка"}}class kge extends e3{constructor(t,n,r){super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","image"),this._visible=!0,this._src=null,this._area=null,this._x=0,this._y=0,this._w=0,this._h=0,this._angle=0,this.clipRect=null,this.hasArea=!0,this._svg.setAttribute("preserveAspectRatio","none")}_render(){const t=this.attrib,n=t&Il,r=Bd(t),i=!(n||1<<r&this.scene.hiddenLayers);if(this._visible!==i&&(this._visible=i,i?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!i)return;const o=this.image,s=this._src!==o.resolvedSrc;s&&this._svg.setAttribute("href",this._src=o.resolvedSrc);const l=this.area,c=!!l,u=this.hasArea!==c;this.hasArea=c;const h=this._area!==l||s;if(h){this._area=l;const v=o.width,S=o.height;if(l){const E=Math.min(Math.max(l.x,0),v),T=Math.min(Math.max(l.y,0),S),O=Math.min(Math.max(l.w,0),v-E),M=Math.min(Math.max(l.h,0),S-T);if(!this.clipRect){const{id:N,rect:D}=this.scene._createClipRect();this._svg.setAttribute("clip-path",`url(#${N})`),this.clipRect=D}const{clipRect:I}=this;I.setAttribute("x",E.toString()),I.setAttribute("y",T.toString()),I.setAttribute("width",O.toString()),I.setAttribute("height",M.toString())}else this._svg.removeAttribute("clip-path"),this.clipRect?.remove(),this.clipRect=null}const p=this.x-this.scene.x,g=this.y-this.scene.y,m=this.width,y=this.height,b=this.angle;if(p!==this._x||g!==this._y||this._w!==m||this._h!==y||this._angle!==b||h){const{area:v}=this;this._x=p,this._y=g,this._w=m,this._h=y,this._angle=b;let S=`translate(${p}, ${g}),rotate(${b*180/Math.PI})`;v?S+=`scale(${m/v.w}, ${y/v.h}), translate(${-v.x}, ${-v.y})`:(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())),this._svg.setAttribute("transform",S),u&&(c?(this._svg.removeAttribute("width"),this._svg.removeAttribute("height")):(this._svg.setAttribute("width",m.toString()),this._svg.setAttribute("height",y.toString())))}}onPropsChanged(){}onAttribChanged(){}}const Pge=4;class t3 extends vf{constructor(t,n,r){super(t,r),this.type="input",this.value="",this.style=0,this.font=null,this.inputType=n,this.set(r)}get isMultiline(){return!!(this.style&Pge)}set({value:t=this.value,style:n=this.style,font:r=this.font,...i}){let o=!1;return this.font!==r&&(this.font?.subs.delete(this),this.font=r,this.font?.subs.add(this),o=!0),this.value!==t&&(this.value=t,this.isMultiline?this.value=this.value:t=t.replace(/[\r\n]/g,""),o=!0),this.style!==n&&(this.style=n,o=!0),super.set(i),o&&this.onPropsChanged(),this}toJSON(){const{inputType:t,style:n,font:r,type:i,value:o}=this;return{...super.toJSON(),type:i,inputType:t,exStyle:0,font:r?.key,style:n,value:o}}delete(t){const{font:n}=this;return n&&(n.subs.delete(this),t||n.delete()),super.delete()}toString(){return`Элемент интерфейса '${this.inputType}'`}}const th={"jf-scene":"Lub8lEDq","jf-input":"_3Au4Qe-K","jf-video":"uvJsh9bM","disable-inputs":"pQtj-s3j",multiline:"_3YpK1pvi",border:"_3n6h0K3a"},Dge=64,Age=128,Lge=8388608;class Nge extends t3{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:i=0}=r;let o;n==="Button"?(o=document.createElement("input"),o.type="button",o.addEventListener("click",this)):(o=document.createElement("textarea"),o.addEventListener("input",this)),o.className=th["jf-input"],o.spellcheck=!1,o.name=`jf-${this.key}`,i&Lge&&o.classList.add(th.border),this.isMultiline&&o.classList.add(th.multiline),o.addEventListener("focus",this),o.addEventListener("blur",this),this._html=o}focus(){this._html.focus()}handleEvent(t){const{scene:n,_html:r,style:i}=this;if(t.type==="input"){if(!(i&Age)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(i&Dge)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this._html.value=this._value=this.value);const i=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y),s=Math.round(this.width),l=Math.round(this.height);this._x!==i&&n.setProperty("left",(this._x=i).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==l&&n.setProperty("height",(this._h=l).toString()+"px")}_onFontPropsChanged(){}onAttribChanged(){}onPropsChanged(){}}class n3 extends vf{constructor(t,n,r){super(t,r),this.type="line",this.pen=null,this.brush=null,this.start=null,this.end=null,this.setCoords(n).set(r)}get length(){return this.coords.length/2}set({pen:t=this.pen,brush:n=this.brush,start:r=this.start,end:i=this.end,...o}){let s=!1;return this.pen!==t&&(this.pen?.subs.delete(this),this.pen=t,this.pen?.subs.add(this),s=!0),this.brush!==n&&(this.brush?.subs.delete(this),this.brush=n,this.brush?.subs.add(this),s=!0),(this.start!==r||this.end!==i)&&(this.start=r,this.end=i,s=!0),super.set(o),s&&this.onPropsChanged(),this}addPoint({x:t,y:n},r=this.length){const i=r*2,o=this.coords,s=t-this.x,l=n-this.y;return i<0||i>=o.length?o.push(s,l):o.splice(i,0,s,l),this._pointCountChanged(),!0}point(t){const n=t*2,r=this.coords;return n>=0&&n<r.length?{x:r[n]+this.x,y:r[n+1]+this.y}:null}setPoint(t,{x:n,y:r}){const i=t*2,o=this.coords;return i<0||i>=o.length?!1:(o[i+0]=n-this.x,o[i+1]=r-this.y,this._pointCountChanged(),!0)}removePoint(t){const n=t*2,r=this.coords;return r.length<=2||n<0||n>=r.length?!1:(r.splice(n,2),this._pointCountChanged(),!0)}setCoords(t){if(!t.length||t.length%2)throw Error("Количество координат должно быть четным.");return this.coords=t.slice(),this.x=0,this.y=0,this._pointCountChanged(),this}getIntersectionIndex(t,n){const{coords:r,brush:i,pen:o}=this;let s=0;return o&&(s=o.width/2||.5),s=Math.max(s,4),pP(r,!!i,s,t,n)}inside(t,n,r){const{coords:i,brush:o}=this;return o&&Lq(i,t,n)||pP(i,!!o,r,t,n)!==-1}_pointCountChanged(){const t=this.coords;let n=t[0],r=t[1],i=n,o=r;for(let s=2;s<t.length;s+=2){const l=t[s+0],c=t[s+1];l<n&&(n=l),l>i&&(i=l),c<r&&(r=c),c>o&&(o=c)}if(n!==0||r!==0)for(let s=0;s<t.length;s+=2)t[s+0]-=n,t[s+1]-=r;this.updateBBox(this.x+n,this.y+r,i-n,o-r),this.parent?._childChanged(),this.onCoordsChanged()}_onResized(t,n,r,i){const o=this.coords;for(let c=0;c<o.length;c+=2)o[c+0]*=r,o[c+1]*=i;const s=t+(this.x-t)*r,l=n+(this.y-n)*i;this.updateBBox(s,l,this.width*r,this.height*i),this.onCoordsChanged()}_onRotated(t,n,r){const i=this.coords,o=t-this.x,s=n-this.y,l=Math.sin(r),c=Math.cos(r);let u=1/0,h=-1/0,p=1/0,g=-1/0;for(let m=0;m<i.length;m+=2){const y=i[m+0]-o,b=i[m+1]-s,v=y*c-b*l+o,S=y*l+b*c+s;i[m+0]=v,i[m+1]=S,v<u&&(u=v),v>h&&(h=v),S<p&&(p=S),S>g&&(g=S)}if(u!==0||p!==0)for(let m=0;m<i.length;m+=2)i[m+0]-=u,i[m+1]-=p;this.updateBBox(this.x+u,this.y+p,h-u,g-p),this.onCoordsChanged()}toJSON(){const{coords:t,brush:n,end:r,pen:i,start:o,type:s}=this;return{...super.toJSON(),type:s,coords:t.slice(),brush:n?.key,end:r,pen:i?.key,start:o}}delete(t){const{pen:n,brush:r}=this;return n&&(n.subs.delete(this),t||n.delete()),r&&(r.subs.delete(this),t||r.delete(t)),super.delete()}toString(){return"Полилиния"}}let Bge=0;function Fge(){const e=`mark_${++Bge}`,t=document.createElementNS("http://www.w3.org/2000/svg","marker");t.setAttribute("id",e),t.setAttribute("orient","auto"),t.setAttribute("refX","0");const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return t.appendChild(n),{shape:n,marker:t,id:e}}function r3(e,t,n,r){const i=n.width||1,o=n.stroke(),s=t.fill?o:null,l=t.fill?null:o;e.marker.setAttribute("markerWidth",(t.width+i).toString()),e.marker.setAttribute("markerHeight",(t.oy*2+i).toString()),r&&e.marker.setAttribute("refX",t.width.toString()),e.marker.setAttribute("refY",t.oy.toString()),e.marker.setAttribute("markerUnits","userSpaceOnUse"),e.shape.setAttribute("points",t.coords),e.shape.setAttribute("stroke-width",i.toString()),l?e.shape.setAttribute("stroke",l):e.shape.removeAttribute("stroke"),e.shape.setAttribute("fill",s||"none")}function i3(e,t){if(e.angle===0||e.length===0)return null;const n=Math.abs(e.length*Math.sin(e.angle)),r=Math.abs(e.length*Math.cos(e.angle)),i=t?[0,0,r,n,0,n*2]:[r,0,0,n,r,n*2];return{coords:o3(i),fill:e.fill??!1,width:r,oy:n}}function o3(e){let t="";for(let n=0;n<e.length;n+=2)t+=e[n]+","+e[n+1]+" ";return t}function s3(e){const t=document.createElementNS("http://www.w3.org/2000/svg",e);return t.setAttribute("fill-rule","evenodd"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t}class jge extends n3{constructor(t,n,r){super(t,n,r),this._visible=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0,this.shouldUpdateCoords=!0,this._svg=s3(this._svgType=r.brush&&n.length>4?"polygon":"polyline")}createMarker(t){const n=Fge();return this.scene._defs.appendChild(n.marker),this._svg.setAttribute(t?"marker-start":"marker-end",`url(#${n.id})`),n}_render(){const t=this.attrib,n=t&Il,r=t&vc,i=Bd(t),{pen:o,brush:s}=this,l=!n&&!!(o||s)&&(!!r||!(1<<i&this.scene.hiddenLayers));if(this._visible!==l&&(this._visible=l,l?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!l)return;const c=this.brush&&this.length>2?"polygon":"polyline";if(this._svgType!==c){this._svgType=c,this.shouldUpdateCoords=!0,this._width=0,this._stroke=null,this._dash=null,this._fill=null,this._blend=null,this._start=null,this._startMark=null,this._end=null,this._endMark=null,this._x=0,this._y=0;const E=s3(c);this._svg.parentElement&&this._svg.replaceWith(E),this._svg=E}this.shouldUpdateCoords&&(this.shouldUpdateCoords=!1,this._svg.setAttribute("points",o3(this.coords)));const u=o?.width||1,h=o?.stroke()||null,p=o?.dash()||null;if(this._width!==u){this._width=u;const E=u.toString();this._svg.setAttribute("stroke-width",E),this._startMark?.shape.setAttribute("stroke-width",E),this._endMark?.shape.setAttribute("stroke-width",E)}this._stroke!==h&&(this._stroke=h,h?(this._svg.setAttribute("stroke",h),this._startMark?.shape.setAttribute("stroke",h),this._endMark?.shape.setAttribute("stroke",h)):this._svg.removeAttribute("stroke")),this._dash!==p&&(this._dash=p,p?this._svg.setAttribute("stroke-dasharray",p):this._svg.removeAttribute("stroke-dasharray"));const g=this.length>2&&s?.fill()||"none";this._fill!==g&&(this._fill=g,this._svg.setAttribute("fill",g));const m=s?.blend()||o?.blend()||null;this._blend!==m&&(this._blend=m,m?this._svg.style.setProperty("mix-blend-mode",m):this._svg.style.removeProperty("mix-blend-mode"));const y=o&&(s?null:this.start),b=o&&(s?null:this.end);if(this._start!==y){this._start=y;const E=y&&i3(y,!1);E?r3(this._startMark||=this.createMarker(!0),E,o,!0):(this._startMark?.marker.remove(),this._startMark=null)}if(this._end!==b){this._end=b;const E=b&&i3(b,!0);E?r3(this._endMark||=this.createMarker(!1),E,o,!1):(this._endMark?.marker.remove(),this._endMark=null)}const v=this.x-this.scene.x,S=this.y-this.scene.y;(v!==this._x||S!==this._y)&&(this._x=v,this._y=S,this._svg.setAttribute("transform",`translate(${v}, ${S})`))}onCoordsChanged(){this.shouldUpdateCoords=!0}onPropsChanged(){}onAttribChanged(){}_onPenPropsChanged(){}_onBrushPropsChanged(){}}class a3 extends eh{constructor(t,n){super(t,t.pens,n),this.color=0,this.style=0,this.rop=0,this.width=0,this.set(n)}set({color:t=this.color,rop:n=this.rop,style:r=this.style,width:i=this.width}){return(this.width!==i||this.color!==t||this.style!==r||this.rop!==n)&&(this.color=t,this.style=r,this.rop=n,this.width=i,this.subs.forEach(o=>o._onPenPropsChanged())),this}toJSON(){const{color:t,rop:n,style:r,width:i}=this;return{...super.toJSON(),color:t,rop:n,style:r,width:i}}}const Vge=0,$ge=1,zge=2,Uge=3,Hge=4,Gge=5,Wge=9,Kge=10;class qge extends a3{constructor(){super(...arguments),this._color=NaN,this._cssColor=null}cssColor(){return this._color!==this.color?this._cssColor=Nd(this._color=this.color):this._cssColor}blend(){switch(this.rop){case Wge:return"multiply";case Kge:return"multiply";default:return null}}stroke(){return this.style===Gge?null:this.cssColor()}dash(){switch(this.style){case Vge:return null;case $ge:return"16 4";case zge:return"2 4";case Uge:return"16 4 2 4";case Hge:return"16 4 2 4 2 4";default:return null}}}class l3 extends eh{constructor(t,n,r){super(t,t.strings,r),this.text=n,this.set({...r,text:n})}set({text:t=this.text}){return this.text!==t&&(this.text=t,this.subs.forEach(n=>n._onStringTextChanged())),this}toJSON(){const{text:t}=this;return{...super.toJSON(),text:t}}}class Yge extends l3{constructor(){super(...arguments),this._text="",this._parts=[""]}split(){return this._text!==this.text?this._parts=(this._text=this.text).split(`\r
`).join(`
`).split(`
`):this._parts}}class c3{constructor(t,{font:n,string:r,fgcolor:i,bgcolor:o}){this.text=t,this.font=n,this.string=r,this.fgcolor=i||0,this.bgcolor=o??ef,n.subs.add(this),r.subs.add(this)}set({font:t=this.font,string:n=this.string,fgcolor:r=this.fgcolor,bgcolor:i=this.bgcolor}){let o=!1,s=!1;return this.font!==t&&(this.font.subs.delete(this),this.font=t,t.subs.add(this),o=!0),this.string!==n&&(this.string.subs.delete(this),this.string=n,n.subs.add(this),o=!0),(this.fgcolor!==r||this.bgcolor!==i)&&(this.fgcolor=r,this.bgcolor=i,s=!0),(o||s)&&(this.onPropsChanged(o,s),this.text.subs.forEach(l=>l._onTextPartsChanged())),this}delete(t){this.font.subs.delete(this),this.string.subs.delete(this),t||(this.font.delete(),this.string.delete())}toJSON(){const{font:t,string:n,fgcolor:r,bgcolor:i}=this;return{font:t.key,string:n.key,fgcolor:r,bgcolor:i}}}class u3 extends eh{constructor(t,n,r){super(t,t.texts,r),this.type="text",this.parts=n.map(i=>this.createPart(i,!0))}set({parts:t=this.parts},n){return this.parts!==t&&(this.parts.forEach(r=>!t.includes(r)&&r.delete(n)),this.parts=t,this.subs.forEach(r=>r._onTextPartsChanged())),this}createPart(t,n){const r=this._createPart(t);return n||this.set({parts:this.parts.concat(r)}),r}toJSON(){const t=this.parts.map(n=>n.toJSON());return{...super.toJSON(),parts:t}}delete(t){return super.delete()?(this.parts.forEach(n=>n.delete(t)),!0):!1}}class Xge extends c3{onPropsChanged(){}_onStringTextChanged(){}_onFontPropsChanged(){}}class Zge extends u3{constructor(){super(...arguments),this._textCalc=null}get width(){return this._textCalc?.().w??0}get height(){return this._textCalc?.().h??0}_createPart(t){return new Xge(this,t)}onTextPartsChanged(){}}class d3 extends vf{constructor(t,n,r){const i={...r,width:r.width??n.width,height:r.height??n.height,text:n};super(t,i),this.text=n,this.type="textView",n.subs.add(this),this.angle=r.angle??0,this.set({...r,text:n})}set({text:t=this.text,...n}){return this.text!==t&&(this.text.subs.delete(this),this.text=t,this.text.subs.add(this),this.onPropsChanged()),super.set(n)}_onRotated(t,n,r){super._onRotated(t,n,r),this.angle+=r}toJSON(){const{text:t,angle:n,type:r}=this;return{...super.toJSON(),type:r,text:t.key,angle:n}}delete(t){const{text:n}=this;return n.subs.delete(this),t||n.delete(t),super.delete()}toString(){return"Текст"}}function h3(e){const t=document.createElementNS("http://www.w3.org/2000/svg","tspan");return e&&(t.setAttribute("x","0px"),t.setAttribute("dy","1.15em")),t}class Qge{constructor(t,n){this.owner=t,this.part=n,this._fragments=[],this._css=null,this._fgcolor=NaN,this.spans=n.string.split().map((r,i)=>h3(i>0))}update(){let t=!1;const{part:n,spans:r}=this,i=n.string.split(),o=n.font.css();if(this._fragments!==i){this._fragments=i,t=!0,r.length!==i.length&&(this._fgcolor=NaN);let s;for(let l=0;l<i.length;++l){if(l<r.length)s=r[l];else{const u=h3(!0);r.push(u),s.after(u),s=u,this._css=null}let c=i[l];o.isSymbolFont&&(c=n.font.transformText(c)),s.textContent=c||"​"}for(;r.length>i.length;)r.pop()?.remove()}if(this._css!==o&&(this._css=o,t=!0,r.forEach(s=>{s.setAttribute("font-family",o.fontFamily),s.setAttribute("font-size",o.fontSize.toString()),s.setAttribute("font-style",o.fontStyle),s.setAttribute("text-decoration",o.textDecoration),s.setAttribute("font-weight",o.fontWeight)})),this._fgcolor!==n.fgcolor){this._fgcolor=n.fgcolor;const s=Nd(n.fgcolor)??"transparent";r.forEach(l=>l.setAttribute("fill",s))}return t}}class Jge extends d3{constructor(t,n,r){if(super(t,n,r),this._svg=document.createElementNS("http://www.w3.org/2000/svg","text"),this._visible=!0,this._parts=[],this._partsSVG=[],this._sizes={w:0,h:0},this._angle=0,this._x=0,this._y=0,this._svg.setAttribute("dominant-baseline","text-before-edge"),this._svg.setAttribute("alignment-baseline","text-before-edge"),this._svg.setAttribute("letter-spacing","-0.07"),this._svg.style.setProperty("white-space","pre"),this._svg.style.setProperty("user-select","none"),n._textCalc=this._calcSizes.bind(this),!r.width||!r.height){const i=r.width??n.width,o=r.height??n.height;this.updateBBox(this.x,this.y,i,o)}}_calcSizes(){const t=this.text.parts;if(!t||!this.updateParts(t))return this._sizes;const n=this._svg.parentElement;n||this.scene._root.appendChild(this._svg);const{y:r=0,width:i,height:o}=this._svg.getBBox();return n||this._svg.remove(),this._sizes={w:i,h:r+o}}updateParts(t){if(this._parts!==t){this._parts=t;const n=[];this._partsSVG=t.map(r=>{const i=new Qge(this,r);return n.push(...i.spans),i}),this._svg.replaceChildren(...n)}return this._partsSVG.reduce((n,r)=>r.update()||n,!1)}_render(){const t=this.attrib,n=t&Il,r=t&vc,i=Bd(t),o=this.text.parts,s=(!!r||!(n||1<<i&this.scene.hiddenLayers))&&!!o;if(this._visible!==s&&(this._visible=s,s?this._svg.removeAttribute("display"):this._svg.setAttribute("display","none")),!s)return;this.updateParts(o);const l=this.x-this.scene.x,c=this.y-this.scene.y,u=this.angle;(l!==this._x||c!==this._y||this._angle!==u)&&(this._x=l,this._y=c,this._angle=u,this._svg.setAttribute("transform",`translate(${l}, ${c}), rotate(${u*180/Math.PI})`))}onPropsChanged(){}onAttribChanged(){}_onTextPartsChanged(){}}function f3(e,t,n){const r=new Set(n);let i=0,o=null;t.forEach(s=>{if(r.delete(s),i<n.length&&s===n[i])++i;else{const l=o?o.nextElementSibling:e.firstElementChild;e.insertBefore("_svg"in s?s._svg:s._html,l)}o="_svg"in s?s._svg:s._html}),r.forEach(s=>("_svg"in s?s._svg:s._html).remove())}class p3 extends vf{constructor(t,n){super(t,n),this.type="videoView",this.fixed=n.fixed||!1}set({fixed:t=this.fixed,...n}){return this.fixed=t,super.set(n)}toJSON(){throw new Error("Method not implemented.")}toString(){return"Видео"}}let eme=class{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}};class tme extends p3{constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const i=this._html=document.createElement("video");i.className=th["jf-video"],i.src=Ls(n),i.controls=!uy.hideVideoControls,this.video=new eme(i)}currentState(){const t=this._html;return t.paused?t.currentTime?"pause":"stop":"play"}setCurrentTime(t){const n=this._html;return t!==n.currentTime&&(n.currentTime=t),this}currentTime(){return this._html.currentTime}play(){const t=this._html;return t.paused&&t.play(),this}pause(){const t=this._html;return t.paused||t.pause(),this}stop(){return this.pause(),this.setCurrentTime(0),this}_render(){const t=this.isVisible(),{style:n}=this._html;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this.fixed){const o=Math.round(this.width),s=Math.round(this.height);this._w!==o&&n.setProperty("width",(this._w=o).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}onAttribChanged(){}}let nme=0;class rme extends XV{constructor(t){super(),this.prevOrder=[],this.svgOrder=[],this.htmlOrder=[],this.bgRect=null,this._bg=null;const n=this._root=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=this.htmlRoot=document.createElement("div"),o=this.domElement=document.createElement("div");o.className=th["jf-scene"],n.append(r),o.append(n,i),this.init(t)}dispose(){}render(t=!1){if(!t&&!this.domElement.parentElement)return;const{background:n,prevOrder:r,svgOrder:i,_root:o,htmlOrder:s,htmlRoot:l}=this,c=n?.fill()??null;let u=!1;if(u=this._bg!==c)if(this._bg=c,c){if(!this.bgRect){const p=document.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("width","100%"),p.setAttribute("height","100%"),this.bgRect={_svg:p}}this.bgRect._svg.setAttribute("fill",c)}else this.bgRect?._svg.remove(),this.bgRect=null;const h=this.order;if(r!==h||u){const p=this.bgRect?[this.bgRect]:[],g=[];h.forEach(m=>{"_svg"in m?p.push(m):g.push(m)}),i.length>0?f3(o,p,i):o.append(...p.map(m=>m._svg)),s.length>0?f3(l,g,s):g.length>0&&l.append(...g.map(m=>m._html)),this.svgOrder=p,this.htmlOrder=g,this.prevOrder=h}h.forEach(p=>p._render())}toSVG(t,n){const{x:r,y:i,hiddenLayers:o}=this;this.set({x:t.x,y:t.y,hiddenLayers:0}),this.render(!0);let s;return n?(s=this._root,this.dispose()):(s=this._root.cloneNode(!0),this.set({x:r,y:i,hiddenLayers:o}),t&&this.render(!0)),s.removeAttribute("style"),s.removeAttribute("class"),s.setAttribute("viewBox",`0 0 ${t.w} ${t.h}`),s}toBlob(t){const n=this.toSVG(t);n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("width",t.w+"px"),n.setAttribute("height",t.h+"px"),n.setAttribute("preserveAspectRatio","xMidYMid slice");const i=`<?xml version="1.0"?>\r
`+new XMLSerializer().serializeToString(n);return Promise.resolve(new Blob([i],{type:"image/svg+xml"}))}createLine(t,n={}){return new jge(this,t,n)}createImageView(t,n={}){return new kge(this,t,n)}createTextView(t,n={}){return new Jge(this,t,n)}createInput(t,n={}){return new Nge(this,t,n)}createVideo(t,n={}){return new tme(this,t,n)}createPen(t={}){return new qge(this,t)}createBrush(t={}){return new Ege(this,t)}createImage(t,n={}){return new Ige(this,t,n)}createString(t,n={}){return new Yge(this,t,n)}createFont(t={}){return new Oge(this,t)}createText(t,n={}){return new Zge(this,t,n)}_createClipRect(){const t=`clipPath_${++nme}`,n=document.createElementNS("http://www.w3.org/2000/svg","clipPath");n.setAttribute("id",t);const r=document.createElementNS("http://www.w3.org/2000/svg","rect");return n.appendChild(r),this._defs.appendChild(n),{id:t,rect:r}}onDisableInputsChanged(){this.disableInputs?this.domElement.classList.add(th["disable-inputs"]):this.domElement.classList.remove(th["disable-inputs"])}_onBrushPropsChanged(){}onBackgroundChanged(){}onLayersChanged(){}onOriginChanged(){}}const g3=rme,ime="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let FT=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=ime[n[e]&63];return t};class ome{constructor(t,n,r){this.ed=t,this.object=n,this.speed=1;const i=t._history;i.pendNextEdit(),n.type==="_pseudoGroup"?i.savePositions(n._jf):i.saveTransform(n._jf),r&&this.handleKeyboard(r)}handleKeyboard(t){let n=0,r=0;switch(t.key){case"ArrowUp":n=0,r=-1;break;case"ArrowDown":n=0,r=1;break;case"ArrowLeft":n=-1,r=0;break;case"ArrowRight":n=1,r=0;break;default:return this}if(t.type==="keyup")return this.finish();const{object:i}=this,o=this.speed,s=i.x,l=i.y;return i.set({x:s+n*o,y:l+r*o}),++this.speed,this}finish(){return this.ed._history.pushPendingEdit(),null}}const bu=Symbol(),ub=Symbol(),m3=Symbol(),v3=Symbol(),wu=Symbol(),nh=Symbol(),y3="application/vnd.stratum.clipboard",{PS_DASH:jT,PS_DOT:b3,BS_NULL:sme}=lt,VT=nl(255,0,0),ame=nl(255,255,0),lme=nl(129,165,212,"editor"),cme=nl(0,0,0,"editor"),$T=nl(0,0,0),ume=nl(0,0,255),zT=nl(128,128,128),w3=aC(16),S3=aC(24),fo=-1,va=vc|la;class dme{constructor(t){this.s=t;const n=fo;this.blueSelectionShadowBrush=t.brush({key:n,color:lme}),this.graySelectionBorderBrush=t.brush({key:n,color:zT}),this.redBrush=t.brush({key:n,color:VT}),this.yellowBrush=t.brush({key:n,color:ame}),this.transparentSelectionBorderBrush=t.brush({key:n,color:cme}),this.nullBrush=t.brush({key:n,color:0,style:sme}),this.selectionAreaPen=t.pen({key:n,color:$T,width:1,style:jT}),this.blackSelectionBorderPen=t.pen({key:n,color:$T,width:2}),this.highlightAreaPen=t.pen({key:n,color:zT,width:1,style:jT}),this.highlightAreaPenRed=t.pen({key:n,color:ume,width:1,style:jT}),this.defaultFont=t.font({key:n,size:16}),this.reorderFont=t.font({key:n,size:20,style:Jp}),this.classFont=t.font({key:n,size:12}),this.captStr=t.string("",{key:n}),this.captText=t.text([{string:this.captStr,font:this.defaultFont}],{key:n})}padIconImage(){const t=this.s;return[...t.images.values()].find(n=>n.src===rC.src)??t.image(rC)}iconImage(t){const n=t&&Xp(t)||nC,{s:r}=this;return[...r.images.values()].find(i=>i.src===n.src)??r.image(n)}makeBorder(t,n){return t.scene.line([0,0,t.width+8,0,t.width+8,t.height+8,0,t.height+8],{key:fo,attrib:va,x:t.x-4,y:t.y-4,pen:n?this.highlightAreaPenRed:this.highlightAreaPen,brush:this.nullBrush})}highlightFor(t,n){const r=t.scene;let i;const o=db(t);if(o){const s=this.makeBorder(o.a.slot,!0),l=this.makeBorder(o.b.slot,!0);i=this.tempGroup([s,l]),r.set({order:r.order.concat(s,l)})}else i=this.makeBorder(t,n),UT(t)&&i.rotate(t.angle,t),r.set({order:r.order.concat(i)});return i}textFor(t){const{s:n}=this,r=C3(t);this.captStr.set({text:r});const i=r.length*8,o=n.textView(this.captText,{key:fo,attrib:va,x:Math.min(Math.max(t.x,t.scene.x+4),t.scene.x+t.scene.domElement.clientWidth-i),y:Math.min(Math.max(t.y-32,t.scene.y+4),t.scene.y+t.scene.domElement.clientHeight-32)});return n.set({order:n.order.concat(o)}),o}createTextFor(t,n){const{s:r}=this,i=r.string(n,{key:fo}),o=r.text([{string:i,font:this.reorderFont}],{key:fo}),s=r.textView(o,{key:fo,attrib:va,x:t.x,y:t.y}),l=24,c=24,u=r.line([t.x,t.y,t.x+l,t.y,t.x+l,t.y+c,t.x,t.y+c],{key:fo,attrib:va,brush:this.redBrush}),h=r.string(C3(t),{key:fo}),p=r.text([{string:h,font:this.classFont}],{key:fo}),g=t.x,m=t.y+c,y=r.textView(p,{key:fo,attrib:va,x:g,y:m}),b=y.width,v=y.height,S=r.line([g,m,g+b,m,g+b,m+v,g,m+v],{key:fo,attrib:va,brush:this.yellowBrush}),E=r.group([s,u,y,S],{key:fo});return r.set({order:r.order.concat(u,s,S,y)}),[i,E]}createSelectionArea(t,n,r,i){const{s:o}=this,s=o.line([0,0,r,0,r,i,0,i],{key:fo,attrib:va,x:t,y:n,pen:this.selectionAreaPen,brush:this.nullBrush});return o.set({order:o.order.concat(s)}),s}tempGroup(t){return this.s.group(t,{key:fo})}}function rh(e){return e.data[wu]||null}function UT(e){return e.type==="textView"||e.type==="imageView"}function C3(e){const t=Pg(e);if(t)return t.toString();if(e.parent&&Pg(e.parent))return e.type==="imageView"&&e.key>0?`Иконка #${e.key} ${e.attrib&1?" (скрыта)":""}`:"Изображение имиджа";const n=e+(e.data.name?` '${e.data.name}'`:"")+(e.key>0?` #${e.key}`:"");if(e.type!=="group")return n;const r=e.children.length;return`${n} [${r}]`}function Pg(e){return e.data[bu]??null}function Dg(e){const t=e.data[bu];return t?.type==="child"?t:null}function hme(e){const t=e.data[bu];return t?.type==="pad"?t:null}function db(e){const t=e.data[bu];return t?.type==="connection"?t:null}function ss(e){const t=e.data[bu];return t&&(t.type==="child"||t.type==="pad")?t:null}let fme=0;function ci(){return++fme}function pme(e){let t=e;for(;t.parent&&t.parent.key>0;)t=t.parent;return t}function x3(e){return tf(e.scene,h7(e))}function hb(e){return!!e.data[v3]}function gme(e){if(e.length<2)return e;const t=Wp(new Set(e),n=>!n.parent&&!hb(n)&&n.key>0);return t.length?t:[e[0]]}function _3(e){const{hiddenLayers:t}=e;return Wp(e.objects.values(),n=>{if(n.parent)return!1;const r=n.attrib;return!(r&Il||t&1<<Bd(r))})}class HT extends os{}function Ag(e,t){if(!e)throw new HT(t)}function GT(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function E3(e){return{fonts:[{key:1,size:16}],strings:[{key:1,text:e}],texts:[{key:1,parts:[{font:1,string:1}]}],objects:[{type:"textView",key:1,text:1}],order:[1]}}function T3(e){return{images:[{key:1,...e}],objects:[{type:"imageView",key:1,image:1}],order:[1]}}const mme=E3("Sample Text"),vme={objects:[{type:"input",key:1,inputType:"Edit",width:64,height:20}],order:[1]},yme={objects:[{type:"input",key:1,inputType:"Button",width:64,height:20,value:"Кнопка"}],order:[1]},bme={pens:[{key:1,color:0,width:1}],brushes:[{key:1,color:zT}],objects:[{type:"line",key:1,coords:[0,0,0,100,100,100,100,0],pen:1,brush:1}],order:[1]};function wme(e){const t=e.getData(y3);return t?JSON.parse(t):null}function M3(e,t){e.setData(y3,JSON.stringify(t))}class O3{constructor(t){this.ed=t,this.title="Изменение порядка имиджей",this.counter=-1,this.childWeakMap=new WeakMap;const{children:n,_tools:r}=t;this.markers=n.map((i,o)=>{const s=(o+1).toString(),l=r.createTextFor(i.slot,s);return this.childWeakMap.set(i,l),l})}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,{sceneX:r,sceneY:i}=t,o=n._pick(r,i),s=o&&Dg(o);if(!s)return this;const l=n.children.indexOf(s);let c=(t.shiftKey?l:this.counter)+1;const u=$0(n.children,c,s);return u.indexOf(s)!==l&&(u.forEach((h,p)=>this.childWeakMap.get(h)?.[0].set({text:(p+1).toString()})),n._history.saveChildOrder(),n.setChildOrder(u)),!t.shiftKey&&c>=u.length?this.finish():(this.counter=c,this)}finish(){for(const[t,n]of this.markers)n.delete();return null}}class Sme{constructor(t){this.ed=t,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,i=t.sceneY,o=n._scene,s=o.line([r,i,r+1,i+1],{pen:o.pen({color:$T}),attrib:va});return o.set({order:o.order.concat(s)}),new WT(n,s)}}class WT{constructor(t,n){this.ed=t,this.line=n,this.title="Создание линии",this.cursor="crosshair"}handlePointer(t){const{line:n}=this;if(t.type==="pointerup")return n.length===2&&Math.hypot(n.width,n.height)>5?this.finishLine():this;const r=n.point(n.length-2);let i=t.sceneX,o=t.sceneY;if(t.type==="pointermove"){if(t.ctrlKey&&r){const s=Math.abs(i-r.x),l=Math.abs(o-r.y);s>l?o=r.y:i=r.x}return n.setPoint(n.length-1,{x:i,y:o}),this}return r&&Math.hypot(r.x-i,r.y-o)<5?this:t.shiftKey?this.finishLine():(n.addPoint({x:i+1,y:o+1}),new WT(this.ed,n))}finishLine(){const{line:t,ed:n}=this;t.set({attrib:t.attrib&~va}),n._refreshChildImages();const r=[t];return n._history.saveCreatedObjects(r),n._createSelection(r),null}finish(){const{line:t}=this;t.length<3?this.line.delete():(t.removePoint(t.length-1),this.finishLine())}}class Cme{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,i=tf(n._scene,r).set({x:t.sceneX,y:t.sceneY});n._refreshChildImages();const o=[i];return n._history.saveCreatedObjects(o),n._createSelection(o),null}}class xme{constructor(t,n,r="Создание объекта"){this.ed=t,this.sample=n,this.title=r,this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n,sample:r}=this,i=t.sceneX,o=t.sceneY,s=tf(n._scene,r);return s.set({x:i,y:o,width:1,height:1,attrib:s.attrib|va}),new _me(n,s,this.title)}}class _me{constructor(t,n,r="Создание объекта"){this.ed=t,this.object=n,this.title=r,this.cursor="crosshair",this.start={x:n.x,y:n.y}}handlePointer(t){const{object:n,start:r}=this;if(t.type==="pointermove"){const s=Math.min(t.sceneX,r.x),l=Math.min(t.sceneY,r.y),c=Math.abs(t.sceneX-r.x),u=Math.abs(t.sceneY-r.y);return n.set({x:s,y:l,width:c,height:u}),this}if(n.width<10&&n.height<10)return this;n.set({attrib:n.attrib&~va});const{ed:i}=this;i._refreshChildImages();const o=[n];return i._history.saveCreatedObjects(o),i._createSelection(o),null}finish(){this.object.delete()}}class Eme{constructor(t){this.ed=t,this.title="Выбор первой цели",this.cursor="crosshair"}handlePointer(t){if(t.type!=="pointerdown")return this;const{ed:n}=this,r=t.sceneX,i=t.sceneY,o=n._pick(r,i),s=o&&ss(o);return s?new R3(n,s,{x:r,y:i}):this}}class R3{constructor(t,n,r=GT(n.slot)){this.ed=t,this.a=n,this.title="Выбор второй цели",this.cursor="crosshair";const{x:i,y:o}=r,s=t._scene,l=this.slot=s.line([i,o,i,o],{pen:s.pen({color:VT}),attrib:va});s.set({order:s.order.concat(l)})}handlePointer(t){const n=t.sceneX,r=t.sceneY,{slot:i}=this;if(t.type==="pointermove")return i.setPoint(1,{x:n,y:r}),this;const{ed:o,a:s}=this,l=o._pick(n,r),c=l&&ss(l);if(!c||c===s)return this;const u=o.connections.find(g=>g.includes(s)&&g.includes(c));if(u)return this.finish(),o._createSelection([u.slot]),null;i.set({attrib:S3});const h=o.schema.createConnection(s.schema,c.schema,{key:i.key,aPadKey:Ni(s.type==="pad"&&s.key),bPadKey:Ni(c.type==="pad"&&c.key)});o._createConnection(i,h),o._refreshChildImages();const p=[i];return o._history.saveCreatedObjects(p),o._createSelection(p),null}finish(){this.slot.delete()}}class fb{constructor(t,n,r=!1){if(this.ed=t,this.area=null,this.kept=null,this.startX=n.sceneX,this.startY=n.sceneY,r){const l=t.selection;l&&(l.type==="multi"||!l.object._jf.parent&&!hb(l.object._jf))&&(this.kept=l._getJF())}else t.selection?.reset();const{selectUnselectable:i,hiddenLayers:o}=t._scene,s=Wp(t._scene.objects.values(),l=>{if(l.parent||hb(l)||this.kept?.includes(l))return!1;const c=l.attrib,u=c&1,h=c&4,p=c&8,g=c>>8&31;return!(u||p&&!i||1<<g&o||h)});this.objects=s}handlePointer(t){if(t.type==="pointerup")return this.removeAreaBox(),null;const n=Math.min(t.sceneX,this.startX),r=Math.min(t.sceneY,this.startY),i=Math.abs(t.sceneX-this.startX),o=Math.abs(t.sceneY-this.startY),{ed:s}=this;i>0&&o>0?this.area?this.area.set({x:n,y:r,width:i,height:o}):this.area=s._tools.createSelectionArea(n,r,i,o):this.removeAreaBox();const l=s.selection?._getJF()||[];let c=!1;const u=this.objects.filter(h=>{const p=h.x>=n&&h.y>=r&&h.x+h.width<=n+i&&h.y+h.height<=r+o;return c||=p&&!l.includes(h)||!p&&l.includes(h),p});return c&&s._createSelection(this.kept?.concat(u)??u),this}finish(){this.removeAreaBox()}removeAreaBox(){this.area&&(this.area.delete(!0),this.area=null)}}class Tme{constructor(t,n,r){this.ed=t,this.ctrl=n,this.disableHighlights=!0;const i=this.prop=n.data[nh],o=i.direction;this.cursor=o==="vert"?"ns-resize":o==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=i.selection.object;this.origW=s.width,this.origH=s.height;const l=t._history;l.pendNextEdit(),l.saveTransform(s._jf)}handlePointer(t){if(t.type==="pointerup")return this.finish();let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const i=n-this.startX,o=r-this.startY;Math.abs(i)>Math.abs(o)?r=this.startY+this.origH*(i/this.origW):n=this.startX+this.origW*(o/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){const t=this.ed._history;return this.ctrl.x===this.startX&&this.ctrl.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class Mme{constructor(t,n,r){this.ctrl=n,this.disableHighlights=!0;const i=this.prop=n.data[nh],o=i.direction;this.cursor=o==="vert"?"ns-resize":o==="horiz"?"ew-resize":"move",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY;const s=i.selection.object;this.origW=s.width,this.origH=s.height}handlePointer(t){if(t.type==="pointerup")return this.finish(),null;let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(this.prop.direction==="vert")n=this.startX;else if(this.prop.direction==="horiz")r=this.startY;else if(t.ctrlKey){const i=n-this.startX,o=r-this.startY;Math.abs(i)>Math.abs(o)?r=this.startY+this.origH*(i/this.origW):n=this.startX+this.origW*(o/this.origH)}return this.ctrl.set({x:n,y:r}),this.prop.notifyPositionChanged(),this}finish(){this.prop.complete?.()}}class KT{constructor(t,n,r){this.ed=t,this.object=n,this.disableHighlights=!0,this.cursor="grabbing",this.startX=n.x,this.startY=n.y,this.shiftx=r.sceneX-this.startX,this.shifty=r.sceneY-this.startY,t._history.pendNextEdit()}handlePointer(t){let n=t.sceneX-this.shiftx,r=t.sceneY-this.shifty;if(t.type==="pointerup")return this.finish();if(t.ctrlKey){const i=Math.abs(n-this.startX),o=Math.abs(r-this.startY);i>o?r=this.startY:n=this.startX}return this.object.set({x:n,y:r}),this}finish(){const t=this.ed._history;return this.object.x===this.startX&&this.object.y===this.startY?t.clearPendingEdit():t.pushPendingEdit(),null}}class Ome{constructor(t,n,r){this.ed=t,this.o=n,this.cursor="copy",this.startX=r.sceneX,this.startY=r.sceneY}handlePointer(t){if(t.type==="pointerup")return null;if(t.type!=="pointermove")return this;const n=t.sceneX-this.startX,r=t.sceneY-this.startY;if(Math.hypot(n,r)<16)return this;const{ed:i,o}=this,s=i._cloneObject(o).set({x:o.x+n,y:o.y+r});ss(s)?._notifySlotMoved();const l=[s],c=i._history;return c.batch(()=>{c.saveCreatedObjects(l);const u=i._createSelection(l);return u?new KT(i,u.object,t):this})}}class Rme{constructor(t){this.ed=t}handlePointer(t){if(t.type!=="pointerdown")return this;const n=t.shiftKey,r=t.shiftKey,{ed:i}=this,o=i._pickSmart(t.sceneX,t.sceneY,!n);if(!o)return new fb(i,t,n);const s=o.data[nh];if(s){if(typeof s.lineEditorIndex=="number"){if(t.shiftKey){const h=i.selection;if(h?.type!=="single")return this;const p=h.object;return p.type!=="line"?this:(p.removePoint(s.lineEditorIndex),this)}return new Mme(i,o,t)}return r?new KT(i,s.selection.object,t):new Tme(i,o,t)}const l=hb(o);if(!n){const h=o.data[wu]||i._createSelection([o]);return!l&&h?new KT(i,h.object,t):this}const c=i.selection;if(!c)return new fb(i,t);const u=pme(o);if(c.type==="single"){if(l){const h=c.object;if(t.shiftKey&&h.type==="line"&&db(h._jf)){const p=h._jf,g=p.getIntersectionIndex(t.sceneX-p.x,t.sceneY-p.y);return g<0?this:(h.addPoint(t.sceneX,t.sceneY,g+1),this)}return new fb(i,t)}if(c.object._jf===u){if(c.object.type==="line"&&c.object.isPointsEditModeActive){const h=c.object._jf,p=h.getIntersectionIndex(t.sceneX-h.x,t.sceneY-h.y);return p<0?this:(c.object.addPoint(t.sceneX,t.sceneY,p+1),this)}return new Ome(i,u,t)}c.object._jf.parent?i._createSelection([u]):i._createSelection([c.object._jf,u])}else c.object._jf.includes(u)?i._createSelection(c.object._jf.filter(h=>h!==u)):i._createSelection(c.object._jf.concat(u));return new fb(i,t,!0)}}class Ime{constructor(t){this.ed=t,this.defaultAction=new Rme(this.ed),this.currentAction=this.defaultAction,this.inTransition=!1,Ot(this,{currentAction:Be.ref,inAction:yi,actionTitle:yi})}get actionTitle(){return this.currentAction.title||""}get inAction(){return this.currentAction!==this.defaultAction}get isInChildReorderMode(){return this.currentAction instanceof O3}get canHandlePointer(){return!!this.currentAction.handlePointer}get highlightsDisallowed(){return!!this.currentAction.disableHighlights}handlePointer(t){this.currentAction.handlePointer&&(this.inTransition=!0,this.switchAction(this.currentAction.handlePointer(t)||this.defaultAction),this.inTransition=!1)}handleKeyboard(t){return this.currentAction.handleKeyboard?(this.inTransition=!0,this.switchAction(this.currentAction.handleKeyboard(t)||this.defaultAction),this.inTransition=!1,!0):!1}finishCurrent(){this.inTransition||(this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(this.defaultAction),this.inTransition=!1)}startMoveObjectWithKeyboard(t,n){this.startAction(new ome(this.ed,t,n))}startCreateConnection(t){this.startAction(t?new R3(this.ed,t):new Eme(this.ed))}startCreateSample(t,n){this.startAction(new xme(this.ed,t,n))}startSelectSampleCoords(t,n){this.startAction(new Cme(this.ed,t,n))}startCreateLine(){this.startAction(new Sme(this.ed))}startReorderChildren(){this.startAction(new O3(this.ed))}switchAction(t){this.currentAction!==t&&(this.currentAction=t)}startAction(t){fa.assert(!this.inTransition),this.inTransition=!0,this.currentAction.finish?.(),this.switchAction(t),this.inTransition=!1}}class pb{constructor(t,n,r){this.type="child",this.connections=[],this.hovered=!1,this.imgContainer=null,this.scene=t,this.schema=n,this.slot=r,r.data[bu]=this;const i=r.children.length&&r.children[0];let o;i&&i.type==="imageView"?(o=i,o.data[m3]=this,o.data[ub]=this):o=null,this.icon=o;const s=n.klass.image;this.resizable=s?.resizable||!1,this.replaceImage(s),this._subscribe(),Ot(this,{schema:Be.ref,hovered:Be.ref,select:Ee,connections:!1,resizable:!1})}get key(){return this.slot.key}select(t=!1){this.scene._createSelection([this.slot],!0,t)}_forceHide(){this.replaceImage({...this.schema.klass.image,scene:void 0})}_forceUpdate(){this.replaceImage(this.schema.klass.image)}_subscribe(){this.schema.klass.onImageChanged.add(this.scene._childImageChanged)}_unsubscribe(){this.schema.klass.onImageChanged.remove(this.scene._childImageChanged)}toString(){return`${this.schema.name} #${this.key}`}_saveChanges(){const{slot:t,schema:n}=this;n.node.set({sceneName:t.data.name||"",sceneX:t.x,sceneY:t.y})}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_setHover(t){this.hovered=t}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_copy(){const{key:t,schema:n}=this;return{key:t,klass:n.klass.name,klassUuid:n.klass.uuid,state:n.getState()}}_replaceSchema(t){if(t.node!==this.schema.node)throw Error("Типы имиджей не совпадают");this.schema=t}replaceImage(t){const n=!!t?.resizable,r=this.resizable!==n;this.resizable=n;const i=n?this.slot.width:32,o=n?this.slot.height:32;if(this.imgContainer?.delete(),this.imgContainer=null,this.icon){const{atlas:l,index:c=0}=t?.icon??{},u=this.scene._tools.iconImage(l),{x:h,y:p}=iC(u,c);this.icon.set({image:u,width:i,height:o,area:{x:h,y:p,w:32,h:32},attrib:this.slot.attrib})}const s=t?.scene?.data;if(!(!s?.objects?.length||t?.prior==="icon")){this.imgContainer=cA(this.slot,s,n&&!r,"unused");for(const l of ng(this.imgContainer))l.data[ub]=this;r&&n&&this.icon?.set({width:this.slot.width,height:this.slot.height})}}}class Lg{constructor(t,n,r){this.type="connection",this.scene=t,this.schemaConnection=n;let i,o;if(t.schema===n.a){if(i=t.pads.find(c=>c.key===n.aPadKey),!i)throw Error(`Площадка A #${n.aPadKey} не существует`)}else if(i=t.children.find(c=>c.schema===n.a),!i)throw Error(`Дочерний имидж ${n.a} не существует`);if(t.schema===n.b){if(o=t.pads.find(c=>c.key===n.bPadKey),!o)throw Error(`Площадка B #${n.bPadKey} не существует`)}else if(o=t.children.find(c=>c.schema===n.b),!o)throw Error(`Дочерний имидж ${n.b} не существует`);this.a=i,this.b=o,this.slot=r;const s=r.point(0);this.shift1=s?{x:s.x-i.slot.x,y:s.y-i.slot.y}:{x:0,y:0},this.size1={x:i.slot.width,y:i.slot.height},i.connections=i.connections.concat(this);const l=r.point(r.length-1);this.shift2=l?{x:l.x-o.slot.x,y:l.y-o.slot.y}:{x:0,y:0},this.size2={x:o.slot.width,y:o.slot.height},o.connections=o.connections.concat(this),r.data[bu]=this,r.data[v3]=!0,this.updatePen(),Ot(this,{schemaConnection:Be.ref,setDisabled:Ee,includes:!1})}updateShift(){const{slot:t,a:n,b:r}=this,i=t.point(0),o=t.point(t.length-1);this.shift1=i?{x:i.x-n.slot.x,y:i.y-n.slot.y}:{x:0,y:0},this.shift2=o?{x:o.x-r.slot.x,y:o.y-r.slot.y}:{x:0,y:0}}setDisabled(t){this.schemaConnection.setDisabled(t),this.updatePen()}get key(){return this.slot.key}includes(t){return this.a===t||this.b===t}toString(){return`Связь #${this.key}: ${this.a} - ${this.b}`}_copy(){return this.schemaConnection.proto.toJSON()}_notifyTargetMoved(){const{slot:t,shift1:n,shift2:r,a:i,b:o}=this,s=n.x*(i.slot.width/this.size1.x),l=n.y*(i.slot.height/this.size1.y),c=r.x*(o.slot.width/this.size2.x),u=r.y*(o.slot.height/this.size2.y),h=i.slot.x+s,p=i.slot.y+l,g=o.slot.x+c,m=o.slot.y+u;t.setPoint(0,{x:h,y:p}),t.setPoint(t.length-1,{x:g,y:m})}_notifySlotRemoved(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}_replaceConnection(t){if(t.proto!==this.schemaConnection.proto)throw Error("Типы связей не совпадают");this.schemaConnection=t}updatePen(){const t=this.slot.pen;if(!t)return;let n=t.style;this.schemaConnection.isDisabled?n|=b3:n&=~b3,t.set({style:n})}}class gb{constructor(t,n){this.type="pad",this.connections=[],this.scene=t,this.schema=t.schema,this.slot=n,n.data[bu]=this,Ot(this,{schema:Be.ref,connections:!1})}get key(){return this.slot.key}toString(){return`Площадка #${this.key}`}_notifyConnectionRemoved(t){this.connections=this.connections.filter(n=>n!==t)}_notifySlotMoved(){this.connections.forEach(t=>t._notifyTargetMoved())}_replaceSchema(){this.schema=this.scene.schema}}class qT{constructor(t,n,r,i=ci()){this.ed=t,this.id=i;const o=t._scene,s=new Set(n),l=new Set,c=[],u=[],h=[];n.forEach(p=>{if(p.parent&&p.parent.key>0){const m=p.parent.children.indexOf(p);h.push([p.key,p.parent.key,m])}const g=Pg(p);g&&(g.type==="connection"?(g._notifySlotRemoved(),l.add(g)):(g.connections.forEach(m=>{m._notifySlotRemoved(),l.add(m),s.add(m.slot)}),g.type==="child"?c.push(g):u.push(g.slot.key)))}),this.parentRelations=h,this.deletedPads=u,this.deletedChildren=c.map(p=>p._copy()),this.deletedConnections=Array.from(l,p=>p._copy()),this.prevObjectOrder=is(o.order,p=>p.key>0&&p.key),this.prevChildOrder=t.children.map(p=>p.key),this.deletedData=dy(s,!0),this.title=r??`Удалено${l.size?" (включая связи)":""}: ${s.size}`,s.forEach(p=>p.delete()),l.forEach(p=>p.schemaConnection.remove()),c.forEach(p=>p.schema.remove()),c.length&&this.ed._notifyChildrenRemoved(),u.length&&this.ed._notifyPadsRemoved(),l.size&&this.ed._notifyConnectionsRemoved()}undo(){const{ed:t}=this;let n=[];const{schema:r}=t;r&&(n=this.deletedChildren.map(c=>{const u=r.resolveKlass(c.klassUuid);return Ag(u,`Имидж не существует: ${c.klass}`),Ag(!r.hasAncestor(u),`Невозможно добавить '${u.name}' в схему: рекурсивная зависимость`),{...c,klass:u}}));const i=t._scene,{objects:o}=i.merge(this.deletedData,"exact",!0),s=uC(o);this.parentRelations.forEach(([c,u,h])=>{const p=i.objects.get(u);if(p?.type!=="group")throw Error(`Группа #${u} объекта #${c} не существует`);const g=i.objects.get(c);if(!g)throw Error(`Объект #${c} не существует`);const m=p.children.slice();m.splice(h,0,g),p.set({children:m})});const l=this.prevObjectOrder.map(c=>{const u=i.objects.get(c);if(!u||u.type==="group")throw Error(`Объект #${c} не существует`);return u});if(i.set({order:l}),r){const c=this.deletedPads.map(y=>{const b=i.objects.get(y);if(b?.type!=="imageView")throw Error(`Отображение площадки #${y} не существует`);return new gb(t,b)});t._setPads(t.pads.concat(c));const u=n.map(y=>{const b=i.objects.get(y.key);if(b?.type!=="group")throw Error(`Изображение имиджа '${y.klass.name} #${y.key}' отсутствует на сцене`);const v=r.createChild(y.klass,{key:b.key},y.state);return new pb(t,v,b)}),h=t.children.concat(u);t._setChildren(h);const p=this.prevChildOrder.map(y=>{const b=h.find(v=>v.key===y);if(!b)throw Error(`Имидж #${y} не найден`);return b});t.setChildOrder(p);const g=this.deletedConnections.map(y=>{const b=i.objects.get(y.key);if(b?.type!=="line")throw Error(`Изображение связи '#${y.key}' отсутствует на сцене`);const[v,S]=y.nodes,E=i.objects.get(Math.abs(v)),T=E&&ss(E);if(!T)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const O=i.objects.get(Math.abs(S)),M=O&&ss(O);if(!M)throw Error(`Связь #${y.key}: цель А отсутствует на сцене`);const I=r.createConnection(T.schema,M.schema,{key:b.key,aPadKey:Ni(T.type==="pad"&&T.key),bPadKey:Ni(M.type==="pad"&&M.key),attrib:y.attrib,vars:y.vars});return new Lg(t,I,b)}),m=t.connections.concat(g);t._setConnections(m),t._refreshChildImages()}return t._createSelection(s),new I3(this.ed,s,this.title,this.id)}}class I3{constructor(t,n,r=`Создано ${n.length} объектов`,i=ci()){this.ed=t,this.title=r,this.id=i,this.keys=n.map(o=>o.key),t._sceneChanged()}undo(){const t=this.ed._scene,n=this.keys.map(r=>{const i=t.objects.get(r);if(!i)throw Error(`Объект #${r} не существует`);return i});return new qT(this.ed,n,this.title,this.id)}}class k3{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title=`Расформирована группа #${n.key}`;const i=n.children;this.groupKey=n.key,this.childKeys=n.children.map(o=>o.key),n.set({children:[]}),this.delAct=new qT(t,[n]),t._createSelection(i)}undo(){const{ed:t,childKeys:n,groupKey:r,delAct:i}=this;i.undo();const o=t._scene,s=n.map(c=>{const u=o.objects.get(c);if(!u)throw Error(`Объект #${c} не существует`);return u}),l=o.objects.get(r);if(l?.type!=="group")throw Error(`#${r} не является группой`);return l.set({children:s}),t._createSelection([l]),new P3(t,l,this.id)}}class P3{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.groupKey=n.key,this.title=`Сформирована группа #${this.groupKey}`,t._sceneChanged()}undo(){const{groupKey:t,ed:n}=this,r=n._scene.objects.get(t);if(r?.type!=="group")throw Error(`#${t} не является группой`);return new k3(n,r,this.id)}}class mb{constructor(t,n,r,i=ci()){this.ed=t,this.id=i,this.updatedAt=Date.now(),this.objectKey=r?.key||0,this.sceneOrder=n.filter(o=>o.key>0).map(o=>o.key),this.title=`Изменен z-порядок #${this.objectKey}`}updateTimestamp(){this.updatedAt=Date.now()}undo(){const t=this.ed._scene,n=this.sceneOrder.map(o=>{const s=t.objects.get(o);if(!s||s.type==="group")throw Error(`Объект #${o} не существует`);return s}),r=t.order;t.set({order:n}),this.ed._refreshChildImages();const i=t.order.find(o=>o.key===this.objectKey)??null;return i&&this.ed._createSelection([i]),new mb(this.ed,r,i,this.id)}}class YT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменён порядок имиджей",this.childOrder=n.map(i=>i.key)}undo(){const t=this.ed.children,n=this.childOrder.map(r=>{const i=this.ed.children.find(o=>o.key===r);if(!i)throw Error(`Имидж #${r} не найден`);return i});return this.ed.setChildOrder(n),this.ed._refreshChildImages(),new YT(this.ed,t,this.id)}}class vb{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Перемещение объекта",this.transforms=n.map(i=>({key:i.key,x:i.x,y:i.y,w:i.width,h:i.height}))}undo(){const t=this.ed._scene,n=this.transforms.map(i=>{const o=t.objects.get(i.key);if(!o)throw Error(`Объект #${i.key} не существует`);return o}),r=new vb(this.ed,n,this.id);return this.transforms.forEach((i,o)=>{const s=n[o];s.set({x:i.x,y:i.y,width:i.w,height:i.h}),ss(s)?._notifySlotMoved()}),this.ed._createSelection(n),r}}class XT{constructor(t,n,r,i=null,o=ci()){this.ed=t,this.angle=r,this.id=o,this.objectKey=n.key,this.pivot=i||{x:n.x,y:n.y},this.title=`Поворот объекта на: ${Ad(V0(r))}`}undo(){const{objectKey:t,angle:n,pivot:r}=this,i=this.ed._scene.objects.get(t);if(!i)throw Error(`Объект #${t} не существует`);return i.rotate(-n,r),this.ed._createSelection([i]),new XT(this.ed,i,-n,r,this.id)}}class ZT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение атрибутов объекта",this.targetObjectKey=n.key,this.attribsDTO=Array.from(ng(n,!0),i=>({objectKey:i.key,attrib:i.attrib}))}undo(){const t=this.ed._scene,n=t.objects.get(this.targetObjectKey);if(!n)throw Error(`Объект #${this.targetObjectKey} не существует`);const r=this.attribsDTO.map(({objectKey:o})=>{const s=t.objects.get(o);if(!s)throw Error(`Объект #${o} не существует`);return s}),i=new ZT(this.ed,n,this.id);return this.attribsDTO.forEach(({attrib:o},s)=>{r[s].set({attrib:o},!0)}),this.ed._createSelection([n]),i}}class QT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение гипербазы",this.objectKey=n.key,this.savedHyper=n.data.hyper||null}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new QT(this.ed,n,this.id),{savedHyper:i}=this;return i?n.data.hyper=i:delete n.data.hyper,this.ed._createSelection([n]),r}}class JT{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение имени объекта",this.objectKey=n.key,this.objectName=n.data.name||""}undo(){const n=this.ed._scene.objects.get(this.objectKey);if(!n)throw Error(`Объект #${this.objectKey} не существует`);const r=new JT(this.ed,n,this.id),{objectName:i}=this;return i?n.data.name=i:delete n.data.name,this.ed._createSelection([n]),r}}class eM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение значения Input",this.inputObjectKey=n.key,this.inputObjectValue=n.value}undo(){const n=this.ed._scene.objects.get(this.inputObjectKey);if(n?.type!=="input")throw Error(`Объект Input #${this.inputObjectKey} не существует`);const r=new eM(this.ed,n,this.id);return n.set({value:this.inputObjectValue}),this.ed._createSelection([n]),r}}class tM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение отображаемого фрагмента",this.isComplete=!1,this.imageViewKey=n.key,this.imageViewArea=n.area}undo(){const n=this.ed._scene.objects.get(this.imageViewKey);if(n?.type!=="imageView")throw Error(`Объект ImageView #${this.imageViewKey} не существует`);const r=new tM(this.ed,n,this.id);return n.set({area:this.imageViewArea}),this.ed._createSelection([n]),r}complete(){this.isComplete=!0}}class nM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение свойств кисти",this.brushKey=n.key,this.color=n.color,this.style=n.style,this.rop=n.rop,this.hatch=n.hatch}undo(){const{ed:t}=this,r=t._scene.brushes.get(this.brushKey);if(!r)throw Error(`Кисть #${this.brushKey} не существует`);const i=new nM(this.ed,r);return r.set({color:this.color,hatch:this.hatch,rop:this.rop,style:this.style}),i}}class rM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Изменение свойств pen",this.penKey=n.key,this.color=n.color,this.rop=n.rop,this.style=n.style,this.width=n.width}undo(){const{ed:t}=this,r=t._scene.pens.get(this.penKey);if(!r)throw Error(`Pen #${this.penKey} не существует`);const i=new rM(this.ed,r);return r.set({width:this.width,color:this.color,style:this.style,rop:this.rop}),i}}class iM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Установка паттерна",this.brushKey=n.key,this.brushImageKey=n.image?.key||0}undo(){const{ed:t,brushImageKey:n}=this,r=t._scene,i=r.brushes.get(this.brushKey);if(!i)throw Error(`Кисть #${this.brushKey} не существует`);let o;if(n){const l=r.imagesOpaque.get(n);if(!l)throw Error(`Изображение #${this.brushImageKey} не существует`);o=l}else o=null;const s=new iM(t,i);return i.set({image:o}),s}}class D3{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Создано изображение",this.imageKey=n.key}undo(){const n=this.ed._scene.imagesOpaque.get(this.imageKey);if(!n)throw Error(`Изображение #${this.imageKey} не существует`);return new A3(this.ed,n)}}class A3{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Удаление изображения",this.imageDTO=n.toJSON(),this.imageDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.imageDeleted)r=n.image(this.imageDTO,{opaque:!0,key:this.imageDTO.key});else if(r=n.imagesOpaque.get(this.imageDTO.key),!r)throw Error(`Изображение #${this.imageDTO.key} не существует`);return new D3(t,r)}}class oM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Установка Pen",this.lineKey=n.key,this.linePenKey=n.pen?.key||0}undo(){const{ed:t,linePenKey:n}=this,r=t._scene,i=r.objects.get(this.lineKey);if(i?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let o;if(n){const l=r.pens.get(n);if(!l)throw Error(`Изображение #${this.linePenKey} не существует`);o=l}else o=null;const s=new oM(t,i);return i.set({pen:o}),s}}class yb{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Создан Pen",this.penKey=n.key}undo(){const n=this.ed._scene.pens.get(this.penKey);if(!n)throw Error(`Pen #${this.penKey} не существует`);return new yb(this.ed,n)}}class kme{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Удаление Pen",this.penDTO=n.toJSON(),this.penDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.penDeleted)r=n.pen(this.penDTO);else if(r=n.pens.get(this.penDTO.key),!r)throw Error(`Pen #${this.penDTO.key} не существует`);return new yb(t,r)}}class sM{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Установка Brush",this.lineKey=n.key,this.lineBrushKey=n.brush?.key||0}undo(){const{ed:t,lineBrushKey:n}=this,r=t._scene,i=r.objects.get(this.lineKey);if(i?.type!=="line")throw Error(`Линия #${this.lineKey} не существует`);let o;if(n){const l=r.brushes.get(n);if(!l)throw Error(`Кисть #${this.lineBrushKey} не существует`);o=l}else o=null;const s=new sM(t,i);return i.set({brush:o}),s}}class bb{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Создан Brush",this.brushKey=n.key}undo(){const n=this.ed._scene.brushes.get(this.brushKey);if(!n)throw Error(`Brush #${this.brushKey} не существует`);return new bb(this.ed,n)}}class Pme{constructor(t,n,r=ci()){this.ed=t,this.id=r,this.title="Удаление Brush",this.brushDTO=n.toJSON(),this.brushDeleted=n.delete()}undo(){const{ed:t}=this,n=t._scene;let r;if(this.brushDeleted)r=n.brush(this.brushDTO);else if(r=n.brushes.get(this.brushDTO.key),!r)throw Error(`Изображение #${this.brushDTO.key} не существует`);return new bb(t,r)}}class aM{constructor(t,n=ci()){this.commits=t,this.id=n,this.title=t[0].title}undo(){const t=qq(this.commits,n=>n.undo());return new aM(t,this.id)}}class Dme{constructor(t){this.ed=t,this.canUndo=!1,this.canRedo=!1,this.redoCommits=[],this.undoCommits=[],this.pendingEdit=null,this.pendingMode=!1,this.lastActionID=0,this.savedActionID=0,this.saveTaskQueued=!1,this.batchEdits=[],this.batchMode=!1,Ot(this,{hasChanges:yi,lastActionID:Be.ref,savedActionID:Be.ref,canUndo:Be.ref,canRedo:Be.ref})}get hasChanges(){return this.savedActionID!==this.lastActionID}markUnchanged(){this.savedActionID=this.lastActionID}saveCreatedObjects(t){this.finishActions(),this.addEdit(new I3(this.ed,t))}deleteObjects(t){this.finishActions(),this.addEdit(new qT(this.ed,t))}saveNewGroup(t){this.finishActions(),this.addEdit(new P3(this.ed,t))}ungroupGroup(t){this.finishActions(),this.addEdit(new k3(this.ed,t))}saveTransform(t){this.finishActions()&&this.addEdit(new vb(this.ed,[t]))}savePositions(t){this.finishActions()&&this.addEdit(new vb(this.ed,t))}saveRotation(t,n,r){this.finishActions(),this.addEdit(new XT(this.ed,t,n,r))}saveHyper(t){this.finishActions(),this.addEdit(new QT(this.ed,t))}saveAttrib(t){this.finishActions(),this.addEdit(new ZT(this.ed,t))}saveName(t){this.finishActions(),this.addEdit(new JT(this.ed,t))}savePoints(t){this.finishActions()}saveArrows(t){this.finishActions()}saveArea(t){this.finishActions()&&this.addEdit(new tM(this.ed,t))}saveInputValue(t){this.finishActions(),this.addEdit(new eM(this.ed,t))}savePenProps(t){this.finishActions()&&this.addEdit(new rM(this.ed,t))}saveBrushProps(t){this.finishActions()&&this.addEdit(new nM(this.ed,t))}saveBrushImage(t){this.finishActions(),this.addEdit(new iM(this.ed,t))}saveCreatedPen(t){this.finishActions(),this.addEdit(new yb(this.ed,t))}saveCreatedBrush(t){this.finishActions(),this.addEdit(new bb(this.ed,t))}saveCreatedImage(t){this.finishActions(),this.addEdit(new D3(this.ed,t))}deleteImage(t){this.finishActions(),this.addEdit(new A3(this.ed,t))}deletePen(t){this.finishActions(),this.addEdit(new kme(this.ed,t))}saveLinePen(t){this.finishActions(),this.addEdit(new oM(this.ed,t))}deleteBrush(t){this.finishActions(),this.addEdit(new Pme(this.ed,t))}saveLineBrush(t){this.finishActions(),this.addEdit(new sM(this.ed,t))}saveSceneOrder(t,n=null,r=300){this.finishActions();const i=this.undoCommits.at(-1);if(i instanceof mb&&Date.now()-i.updatedAt<r){i.updateTimestamp();return}const o=new mb(this.ed,t,n);this.addEdit(o)}saveChildOrder(){this.finishActions(),this.addEdit(new YT(this.ed,this.ed.children))}separateCommit(){this.undoCommits.at(-1)?.complete?.()}undo(){const t=this.undoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof HT&&this.undoCommits.push(t),r}this.redoCommits.push(n),this.lastActionID=this.undoCommits.at(-1)?.id||0,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}redo(){const t=this.redoCommits.pop();if(!t)return;this.ed.selection?.reset();let n;try{n=t.undo()}catch(r){throw r instanceof HT&&this.redoCommits.push(t),r}this.undoCommits.push(n),this.lastActionID=n.id,this.canUndo=this.undoCommits.length>0,this.canRedo=this.redoCommits.length>0,this.saveChanges()}batch(t){this.batchMode=!0;const n=t();this.batchMode=!1;const{batchEdits:r}=this;if(this.batchEdits=[],!this.finishActions())return n;let i;return r.length>1?i=new aM(r):i=r[0],this.addEdit(i),n}pendNextEdit(){this.pendingMode=!0}pushPendingEdit(){this.pendingMode=!1;const{pendingEdit:t}=this;t&&(this.pendingEdit=null,this.addEdit(t))}clearPendingEdit(){this.pendingMode=!1,this.pendingEdit=null}addEdit(t){if(this.batchMode){this.batchEdits.push(t);return}if(this.pendingMode){const n=this.pendingEdit;n&&(this.addEditToStack(n),console.warn(`Действие '${n.title}' было завершено автоматически.
Оно должно быть завершено вручную через '${this.pushPendingEdit.name}' или '${this.clearPendingEdit.name}'`)),this.pendingEdit=t;return}this.addEditToStack(t)}addEditToStack(t){this.undoCommits.push(t),this.canUndo=!0,this.redoCommits=[],this.canRedo=!1,this.lastActionID=t.id,this.saveChanges()}saveChanges(){this.saveTaskQueued||(this.saveTaskQueued=!0,queueMicrotask(()=>{this.saveTaskQueued=!1,this.ed._saveChanges()}))}finishActions(){return this.batchMode?!0:this.pendingEdit?!1:(this.ed._actions.finishCurrent(),!0)}}class wb{constructor(t,n){this.scene=t,this._jf=n,n.key>0&&n.type==="group"?this.children=n.children.map(r=>new wb(t,r)):this.children=[],this.isChildImage=n.key<0,this.isChildIcon=!!n.data[m3],Ot(this,{select:Ee})}get key(){return this._jf.key}get type(){return this._jf.type}get name(){return this._jf.data.name||""}select(){this.scene._createSelection([this._jf],!0)}}function lM(e,t){return Array.from({length:t-e+1},(n,r)=>{const i=r+e;return[i,i.toString()]})}const Sb=lM(0,15),L3=lM(16,23),Ame=lM(24,31);class N3{constructor(t,n,{canResize:r=!0,canMove:i=!0,canRotate:o=!0,canSetName:s=!0,canSetHyper:l=!0,layerRange:c=Sb}){this.scene=t,this._canResize=r,this.canMove=i,this.canRotate=o,this.canSetName=s,this.canSetHyper=l,this.layerRange=c;const{x:u,y:h,width:p,height:g,data:m,attrib:y}=n,{name:b="",hyper:v=null}=m,S=Qv(Bd(y),c[0][0],c.at(-1)[0]),E=!!(y&Qp);this.x=u,this.y=h,this.width=p,this.height=g,this.name=b,this.layer=S,this.isUnselectable=E,this.hyper=v,Ot(this,{x:Be.ref,y:Be.ref,width:Be.ref,height:Be.ref,name:Be.ref,isUnselectable:Be.ref,layer:Be.ref,hyper:Be.ref,set:Ee,rotate:Ee,delete:Ee})}destroy(){}onTransformChanged(){}get key(){return this._jf.key}get canResize(){return this._canResize}set({x:t=this.x,y:n=this.y,width:r=this.width,height:i=this.height,name:o=this.name,layer:s=this.layer,isUnselectable:l=this.isUnselectable,hyper:c=this.hyper}){const u=this._jf;if(r=Math.max(r,1),i=Math.max(i,1),(this.x!==t||this.y!==n||this.width!==r||this.height!==i)&&(this.x=t,this.y=n,this.width=r,this.height=i,this.scene._history.saveTransform(u),u.set({x:t,y:n,width:r,height:i}),this.onTransformChanged(),ss(u)?._notifySlotMoved(),rh(u)?._notifySelectedObjectTransformed()),this.name!==o&&(this.name=o,this.scene._history.saveName(u),o?u.data.name=o:delete u.data.name),this.layer!==s||this.isUnselectable!==l){this.layer=s,this.isUnselectable=l;const h=(l?Qp:0)|aC(s);this.scene._history.saveAttrib(u),u.set({attrib:h})}this.hyper!==c&&(this.hyper=c,this.scene._history.saveHyper(u),c?u.data.hyper=c:delete u.data.hyper)}rotate(t,n){if(t===0)return;const r=this._jf;this.scene._history.saveRotation(r,t,n),r.rotate(t,n),this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,rh(r)?._notifySelectedObjectTransformed()}delete(){rh(this._jf)?.reset(),this.scene._history.deleteObjects([this._jf])}}class Ng extends N3{constructor(t,n,r={}){super(t,n,r),this._z=n.scene.order.indexOf(n),Ot(this,{_z:Be.ref,moveToTop:Ee,moveToBottom:Ee,increaseZ:Ee,decreaseZ:Ee})}get z(){return this._z+1}setZ(t){if(this._z===t||t<0)return;const n=this._jf.scene,r=n.order,i=$0(r,t,this._jf);n.set({order:i}),this.scene._refreshChildImages();const o=n.order.indexOf(this._jf);o!==this._z&&(this._z=o,this.scene._history.saveSceneOrder(r,this._jf))}moveToTop(){this.setZ(this._jf.scene.order.length-1)}moveToBottom(){this.setZ(0)}increaseZ(){this.setZ(this._z+1)}decreaseZ(){this.setZ(this._z-1)}}class B3{constructor(t,n){const{color:r,rop:i,style:o,width:s}=n;this.style=o,this.color=r,this.rop=i,this.width=s,this.scene=t,this._jf=n,Ot(this,{style:Be.ref,color:Be.ref,rop:Be.ref,width:Be.ref,set:Ee})}set({style:t=this._jf.style,color:n=this.color,rop:r=this.rop,width:i=this.width}){this.style=t,this.color=n,this.rop=r,this.width=i,this.scene._history.savePenProps(this._jf),this._jf.set({color:n,rop:r,style:t,width:i})}}class F3{constructor(t,n,r){const{color:i,rop:o,style:s,hatch:l,image:c}=n;this.style=s,this.color=i,this.rop=o,this.hatch=l,this.image=c,this.scene=t,this._jf=n,this.target=r,Ot(this,{color:Be.ref,rop:Be.ref,style:Be.ref,hatch:Be.ref,image:Be.ref,set:Ee,setImage:Ee})}set({style:t=this.style,color:n=this.color,rop:r=this.rop,hatch:i=this.hatch}){const o=this.scene._history;o.batch(()=>{this.color=n,this.style=t,this.rop=r,this.hatch=i;const s=this._jf;if(o.saveBrushProps(s),s.set({color:n,rop:r,style:t,hatch:i}),s.image&&t!==lt.BS_PATTERN){this.image=null;const l=s.image;o.saveBrushImage(s),s.set({image:null}),o.deleteImage(l)}})}setImage(t){const n=this.scene._history;n.batch(()=>{this.image=t;const r=this._jf,i=this.scene._scene.image(t,{opaque:!0});n.saveCreatedImage(i);const o=r.image;n.saveBrushImage(r),r.set({image:i}),o&&n.deleteImage(o)})}}const Su=5;class Lme extends Ng{constructor(t,n){const r=db(n);super(t,n,{canMove:!r,canResize:!r,canRotate:!r,canSetName:!r,canSetHyper:!r,layerRange:r?Ame:Sb}),this.isPointsEditModeActive=!1,this.type="line",this.hasAngle=!1,this.pen=n.pen&&new B3(t,n.pen),this.brush=n.brush&&new F3(t,n.brush,n),this.start=n.start,this.end=n.end,this.connection=r,this._jf=n;const i=t._tools,o=t._scene,s=i.blackSelectionBorderPen,l=i.redBrush,c=vc|Il|la,u=[],h=[],p=Su*2;for(let g=0;g<n.length;++g){const m=n.point(g);u.push(m);const y=o.line([0,0,p,0,p,p,0,p],{key:fo,x:m.x-Su,y:m.y-Su,brush:l,pen:s,attrib:c});h.push(y)}o.set({order:o.order.concat(h)}),this.points=u,this.markers=h,Ot(this,{pen:Be.ref,brush:Be.ref,start:Be.ref,end:Be.ref,points:Be.ref,isPointsEditModeActive:Be.ref,createPen:Ee,removePen:Ee,createBrush:Ee,removeBrush:Ee,setArrows:Ee,addPoint:Ee,removePoint:Ee,setPoint:Ee,setPointsEditMode:Ee})}destroy(){const t=this.scene._scene;t.set({order:t.order.filter(n=>!this.markers.includes(n))})}setPointsEditMode(t){this.isPointsEditModeActive=t;const{selection:n}=this.scene;if(n?.type==="single")if(n.setVisible(!t),t){const r=this.markers.length-1;this.markers.forEach((i,o)=>{i.set({attrib:i.attrib&-6}),i.data[nh]={selection:n,direction:"both",lineEditorIndex:o,notifyPositionChanged:this.alignPointsToShape.bind(this,i),complete:Ni((o===0||o===r)&&this.complete.bind(this,i))}})}else this.markers.forEach(r=>r.set({attrib:r.attrib|(Il|la)})),n._notifySelectedObjectTransformed()}complete(t){}alignPointsToShape(t=null){const n=this._jf,r=[];for(let i=0;i<n.length;++i){const o=n.point(i);r.push(o);const s=this.markers[i];s!==t?s.set({x:o.x-Su,y:o.y-Su}):n.setPoint(i,{x:t.x+Su,y:t.y+Su})}this.points=r,this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.connection?.updateShift()}onTransformChanged(){this.alignPointsToShape()}createPen(t){if(this.pen)return;const n=this.scene._scene.pen(t),r=this._jf,i=this.scene._history;i.batch(()=>{i.saveCreatedPen(n),i.saveLinePen(r)}),r.set({pen:n}),this.pen=new B3(this.scene,n)}removePen(){const{pen:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLinePen(n),n.set({pen:null}),r.deletePen(t._jf)}),this.pen=null}createBrush(t){if(this.brush)return;const n=this.scene._scene.brush(t),r=this._jf,i=this.scene._history;i.batch(()=>{i.saveLineBrush(r),r.set({brush:null}),i.saveCreatedBrush(n)}),r.set({brush:n}),this.brush=new F3(this.scene,n,this._jf)}removeBrush(){const{brush:t}=this;if(!t)return;const n=this._jf,r=this.scene._history;r.batch(()=>{r.saveLineBrush(n),n.set({brush:null}),r.deleteBrush(t._jf)}),this.brush=null}setArrows({start:t=this.start,end:n=this.end}){this.start=t,this.end=n,this.scene._history.saveArrows(this._jf),this._jf.set({start:t,end:n})}onSinglePointChanged(){this.alignPointsToShape();const t=this._jf;this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,rh(t)?._notifySelectedObjectTransformed()}addPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.addPoint({x:t,y:n},r);const i=Su*2,o=this.scene._tools,s=this.scene._scene,l=s.line([0,0,i,0,i,i,0,i],{key:fo,x:t,y:n,brush:o.redBrush,pen:o.blackSelectionBorderPen});this.markers.push(l),s.set({order:s.order.concat(l)}),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive)}setPoint(t,n,r){this.scene._history.savePoints(this._jf),this._jf.setPoint(t,{x:n,y:r}),this.connection?.updateShift(),this.onSinglePointChanged()}removePoint(t){this.scene._history.savePoints(this._jf),this._jf.removePoint(t)&&(this.markers.splice(t,1)[0].delete(!0),this.onSinglePointChanged(),this.setPointsEditMode(this.isPointsEditModeActive))}}class Nme extends Ng{constructor(t,n){const r=hme(n);super(t,n,{canResize:!r,canRotate:!r,layerRange:r?L3:Sb}),this.type="imageView",this.hasAngle=!0,this.pad=r,this.angle=n.angle,this.area=n.area,this._jf=n,Ot(this,{angle:Be.ref,area:Be.ref,setAngle:Ee,setArea:Ee})}get image(){return this._jf.image}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,rh(n)?._notifySelectedObjectTransformed()}setArea(t){this.area=t,this.scene._history.saveArea(this._jf),this._jf.set({area:t})}}class Bme extends Ng{constructor(t,n){super(t,n),this.type="textView",this.hasAngle=!0,this._jf=n,this.angle=n.angle,Ot(this,{angle:Be.ref,setAngle:Ee})}setAngle(t){const n=this._jf;if(t===n.angle)return;const r=t-n.angle;this.scene._history.saveRotation(n,r),n.rotate(r),this.angle=n.angle,rh(n)?._notifySelectedObjectTransformed()}}class Fme extends Ng{constructor(t,n){super(t,n,{canRotate:!1,canSetHyper:!1}),this.type="input",this.hasAngle=!1,this._jf=n,this.value=n.value,Ot(this,{value:Be.ref,setValue:Ee})}get inputType(){return this._jf.inputType}setValue(t){this.value=t,this.scene._history.saveInputValue(this._jf),this._jf.set({value:t})}}class jme extends Ng{constructor(t,n){super(t,n,{canRotate:!1}),this.type="videoView",this.hasAngle=!1,this._jf=n}}class Vme extends N3{constructor(t,n){const r=Dg(n);super(t,n,{canRotate:!r,layerRange:r?L3:Sb}),this.type="group",this.hasAngle=!1,this._jf=n,this.child=r,this.children=n.children.map(i=>new wb(t,i)),Ot(this,{ungroup:Ee,canResize:yi})}get canResize(){return this.child?this.child.schema.klass.image?.resizable||!1:!0}get canUngroup(){return!this.child}ungroup(){fa.assert(this.canUngroup);const t=this._jf;rh(t)?.reset();const n=t.children;this.scene._history.ungroupGroup(t),this.scene._createSelection(n)}}class $me{constructor(t,n){this._reactKey=_P(),this.type="_pseudoGroup",this._jf=t.map(o=>o._jf),this.objects=t,this.selection=n;const{x:r,y:i}=hy(this._jf);this.x=r,this.y=i,this.canCreateGroup=t.filter(o=>!Pg(o._jf)).length>1,this.canCreateConnection=t.length===2&&t.every(o=>ss(o._jf)),Ot(this,{x:Be.ref,y:Be.ref,createConnection:Ee,createGroup:Ee,delete:Ee,set:Ee})}get canMove(){return!0}set({x:t=this.x,y:n=this.y}){const r=t-this.x,i=n-this.y;r===0&&i===0||(this.x=t,this.y=n,this.selection.scene._history.savePositions(this._jf),this._jf.forEach(o=>{const s=o.x+r,l=o.y+i;o.set({x:s,y:l}),ss(o)?._notifySlotMoved()}),this.selection._notifySelectedObjectTransformed())}createGroup(){fa.assert(this.canCreateGroup);const t=this.selection.scene;this.selection.reset();const n=t._scene.group(this._jf.filter(r=>!Pg(r)));t._history.saveNewGroup(n),t._createSelection([n])}createConnection(){fa.assert(this.canCreateConnection),this.selection.scene.startCreateConnection()}delete(){this.selection.reset(),this.selection.scene._history.deleteObjects(this._jf)}}function zme(e,t){switch(t.type){case"line":return new Lme(e,t);case"imageView":return new Nme(e,t);case"textView":return new Bme(e,t);case"input":return new Fme(e,t);case"videoView":return new jme(e,t);case"group":return new Vme(e,t)}}class Ume{constructor(t,n){this.target=n;const r=t._scene,i=t._tools;this.scene=r;const o=i.blueSelectionShadowBrush,s=n.objects.map(({_jf:l})=>{const c=r.line([0,0,l.width,0,l.width,l.height,0,l.height],{key:fo,attrib:vc|la,x:l.x,y:l.y,brush:o});return UT(l)&&c.rotate(l.angle,l),c});r.set({order:r.order.concat(s)}),this.shadows=s}align(){const{objects:t}=this.target;this.shadows.forEach((n,r)=>{const i=t[r]._jf,{x:o,y:s}=i;n.set({x:o,y:s}),UT(i)?n.rotate(-i.angle).set({x:o,y:s}).rotate(i.angle,i):n.set({x:o,y:s})})}toTop(){const{shadows:t,scene:n}=this,r=n.order.filter(i=>!t.includes(i)).concat(t);n.set({order:r})}remove(){const{shadows:t,scene:n}=this,r=n.order.filter(i=>!t.includes(i));n.set({order:r})}}class Hme{constructor(t,n){this.type="multi",this.scene=t,n.forEach(i=>i._jf.data[wu]=this);const r=this.object=new $me(n,this);this.shadow=new Ume(t,r),Ot(this,{reset:Ee})}setVisible(t){}reset(){this.shadow.remove(),this.object.objects.forEach(({_jf:t})=>delete t.data[wu]),this.scene._notifySelectionRemoved()}_notifySelectedObjectTransformed(){this.shadow.align()}_notifySceneOrderChanged(){this.shadow.toTop()}_getJF(){return this.object._jf}}const bi=10,j3=Math.PI*2;class Gme{constructor(t){const{scene:n}=t,r=this.scene=n._scene,i=n._tools,o=i.blackSelectionBorderPen,s=i.graySelectionBorderBrush,l=vc|la,{a:c,b:u}=t,h=i.makeBorder(c.slot,!0),p=i.makeBorder(u.slot,!0),g=[h,p],{slot:m}=t;if(m.length===2){const{x:y,y:b}=t.slot.point(0),{x:v,y:S}=t.slot.point(1),E=(y+v+bi)/2,T=(b+S+bi)/2,O=r.line([0,0,bi,0,bi,bi,0,bi],{key:fo,x:E-bi,y:T-bi,brush:s,pen:o,attrib:l});g.push(O)}r.set({order:r.order.concat(g)}),this.objects=g}setVisible(t){}align(){}toTop(){const{scene:t,objects:n}=this,r=t.order.filter(i=>!n.includes(i)).concat(n);t.set({order:r})}remove(){const{scene:t,objects:n}=this,r=t.order.filter(i=>!n.includes(i));t.set({order:r})}}class Wme{constructor(t,n){this.prevAngle=0;const{scene:r}=n;this.selection=t,this.o=n,this.scene=r;const i=r._scene,o=r._tools,s=n.canResize&&(!n.hasAngle||n.angle%j3===0),l=s?o.blackSelectionBorderPen:null,c=s?o.graySelectionBorderBrush:o.transparentSelectionBorderBrush,u=vc|(s?0:la),h=(v,S,E="both")=>{const T=i.line([0,0,bi,0,bi,bi,0,bi],{key:fo,x:v,y:S,brush:c,pen:l,attrib:u});return T.data[nh]={selection:t,direction:E,notifyPositionChanged:this.resizeWith.bind(this,T)},T},p=n.x-bi,g=n.y-bi,m=n.width+bi,y=n.height+bi,b=[h(p,g),h(p+m/2,g,"vert"),h(p+m,g),h(p+m,g+y/2,"horiz"),h(p+m,g+y),h(p+m/2,g+y,"vert"),h(p,g+y),h(p,g+y/2,"horiz")];n.canRotate&&n.hasAngle&&(b.forEach(v=>v.rotate(n.angle,n)),this.prevAngle=n.angle),i.set({order:i.order.concat(...b)}),this.border=b}setVisible(t){t?this.border.forEach(n=>n.set({attrib:n.attrib&-6})):this.border.forEach(n=>n.set({attrib:n.attrib|(Il|la)}))}align(){const{o:t,border:n}=this,r=t.x-bi,i=t.y-bi,o=t.width+bi,s=t.height+bi,l=t.canRotate&&t.hasAngle;if(l){const c=t.angle%j3;for(const u of this.border){u.rotate(-this.prevAngle);let{attrib:h}=u;c?h|=la:h&=~la;const p=this.scene._tools;u.set({attrib:h,pen:c?null:p.blackSelectionBorderPen,brush:c?p.transparentSelectionBorderBrush:p.graySelectionBorderBrush})}}n[0].set({x:r,y:i}),n[1].set({x:r+o/2,y:i}),n[2].set({x:r+o,y:i}),n[3].set({x:r+o,y:i+s/2}),n[4].set({x:r+o,y:i+s}),n[5].set({x:r+o/2,y:i+s}),n[6].set({x:r,y:i+s}),n[7].set({x:r,y:i+s/2}),l&&(this.border.forEach(c=>c.rotate(t.angle,t)),this.prevAngle=t.angle)}toTop(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(i=>!t.includes(i)).concat(t);n.set({order:r})}remove(){const{border:t}=this,n=this.scene._scene,r=n.order.filter(i=>!t.includes(i));n.set({order:r})}resizeWith(t){const n=this.border,r=[n[0],n[1],n[2]],i=[n[2],n[3],n[4]],o=[n[4],n[5],n[6]],s=[n[6],n[7],n[0]],{x:l,y:c}=t;r.includes(t)&&r.forEach(v=>v.set({y:c})),o.includes(t)&&o.forEach(v=>v.set({y:c})),s.includes(t)&&s.forEach(v=>v.set({x:l})),i.includes(t)&&i.forEach(v=>v.set({x:l})),r[1].set({x:(r[0].x+r[2].x)/2}),o[1].set({x:(o[0].x+o[2].x)/2}),s[1].set({y:(s[0].y+s[2].y)/2}),i[1].set({y:(i[0].y+i[2].y)/2});const u=s.reduce((v,S)=>Math.min(v,S.x),1/0),h=i.reduce((v,S)=>Math.max(v,S.x),-1/0),p=r.reduce((v,S)=>Math.min(v,S.y),1/0),g=o.reduce((v,S)=>Math.max(v,S.y),-1/0),m=h-u-bi,y=g-p-bi,{o:b}=this;this.selection._notifyBorderRectChanged({x:m<1?b.x:u+bi,y:y<1?b.y:p+bi,w:Math.max(m,1),h:Math.max(y,1)}),(m<1||y<1)&&this.align()}}class Kme{constructor(t,n){this.type="single",this.ignoreObjectTransforms=!1,this.scene=t,this.object=n,n._jf.data[wu]=this;const r=n.type==="line"&&n.connection;r?this.border=new Gme(r):this.border=new Wme(this,n),Ot(this,{reset:Ee})}setVisible(t){this.border.setVisible(t)}reset(){delete this.object._jf.data[wu],this.border.remove(),this.scene._notifySelectionRemoved(),this.object.destroy()}_notifyBorderRectChanged(t){const{x:n,y:r,w:i,h:o}=t;this.ignoreObjectTransforms=!0,this.object.set({x:n,y:r,width:i,height:o}),this.ignoreObjectTransforms=!1}_notifySelectedObjectTransformed(){this.ignoreObjectTransforms||this.border.align()}_notifySceneOrderChanged(){this.border.toTop()}_getJF(){return[this.object._jf]}}const V3=65535,$3=255<<16,z3=255<<24,qme=1,Yme=2,Xme=4,Zme=new Yp(window),Cb=new Set;function Qme(){return Cb.size?(Cb.forEach(e=>e._scene.render()),!0):!1}function Jme(e){Cb.add(e),Zme.run(Qme)}function U3(e){Cb.delete(e)}class cM{constructor(t,{fileContentTransfer:n=null,fileUploader:r=null,schema:i=null}={}){this.onNodeSelected=new vi,this.onSaved=new vi,this.selection=null,this.textEditor=null,this.lastCursorX=0,this.lastCursorY=0,this.viewScale=1,this._actions=new Ime(this),this._history=new Dme(this),this.cameraMoveStart=null,this.prevPicked=null,this.highlightedItem=null,this.lastCutId="",this.pointerInside=!1,this.focusAfterViewMounted=null,this.isViewMounted=!1,this._childImageChanged=()=>{this._refreshChildImages(),this.selection&&this._createSelection(this.selection._getJF()),this.connections.forEach(u=>u._notifyTargetMoved())},this.handleWheel=u=>{if(u.preventDefault(),u.stopPropagation(),Ld.zoomWithCtrl&&!u.ctrlKey){const y=this._scene;this.setSceneXY(y.x+Math.round(u.deltaX*.5),y.y+Math.round(u.deltaY*.5));return}const p=this.viewScale,g=Math.sign(u.deltaY)*Math.max(p**2,1)*.1,m=p-g;this._setScale(m,u)},this.handleCopy=u=>{if(!this.isFocused)return;u.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&M3(u.clipboardData,h)},this.handleCut=u=>{if(!this.isFocused)return;u.preventDefault(),this._actions.finishCurrent();const h=this.copySelection();h&&(M3(u.clipboardData,h),u.clipboardData.setData(`editor-cut-${this.lastCutId=FT()}`,"true")),this.selection?.object.delete()},this.handlePaste=u=>{this.isFocused&&(u.preventDefault(),this.insertFromDropOrPaste(u.clipboardData,{x:this.lastCursorX,y:this.lastCursorY}))},this.handleDrop=u=>{this.handleDragLeave(),u.preventDefault(),u.stopPropagation(),this.focus();const h=this._scene.x+Math.round(u.offsetX),p=this._scene.y+Math.round(u.offsetY);this.insertFromDropOrPaste(u.dataTransfer,{x:h,y:p})},this.handleDragOver=u=>{u.preventDefault();const h=u.dataTransfer;h.dropEffect="none";const p=this.fileContentTransfer?.get(h);if(p){(p.image||p.scene||this.schema&&p.klass?.isInLibrary)&&(h.dropEffect="link");return}const{items:g,types:m}=h;if(g.length&&g[0].type.startsWith("image/")||m.some(y=>y==="text/plain")){h.dropEffect="copy";return}},this.handleDragEnter=u=>{this.handleDragOver(u),u.dataTransfer.dropEffect!=="none"&&this.view.parentElement?.style.setProperty("outline","dashed orange 2px")},this.handleDragLeave=()=>{this.view.parentElement?.style.setProperty("outline","none")},this.handlePointer=u=>{if(!u.isPrimary)return;u.preventDefault(),u.stopPropagation();const h=Math.round(u.offsetX),p=Math.round(u.offsetY),g=this._scene.x+h,m=this._scene.y+p;if(u.type==="pointerdown"&&(this.view.setPointerCapture(u.pointerId),this.focus()),u.ctrlKey?this._tryHighlight(g,m,u.shiftKey):this._removeHighlights(),u.buttons&Yme){this.cameraMoveStart||={x:g,y:m};const v=this.cameraMoveStart.x-h,S=this.cameraMoveStart.y-p;this._scene.set({x:v,y:S})}else this.cameraMoveStart=null,this.lastCursorX=g,this.lastCursorY=m;const y=this._actions;if(!y.canHandlePointer)return;if(u.buttons&Xme){y.inAction?y.finishCurrent():this.selection?.reset();return}const b=(u.type==="pointermove"||u.buttons&qme)&&u.type!=="pointercancel"?u.type:"pointerup";y.handlePointer({type:b,ctrlKey:u.ctrlKey,shiftKey:u.shiftKey,sceneX:g,sceneY:m})},this.handlePointerEnter=()=>{this.pointerInside=!0},this.handlePointerLeave=()=>{this.pointerInside=!1,this._removeHighlights()},this.handleWindowKeyboardEvent=u=>{!u.repeat&&this.pointerInside&&(u.key==="Control"||u.key==="Shift")&&(u.ctrlKey?this._tryHighlight(this.lastCursorX,this.lastCursorY,u.shiftKey):this._removeHighlights())},this.handleKeyboard=u=>{this._handleKeyboard(u)&&(u.preventDefault(),u.stopPropagation())};const o=this._scene=new g3(t),{domElement:s}=o;s.tabIndex=-1,s.style.outline="none",s.style.transformOrigin="top left",o.set({disableInputs:!0});const{hiddenLayers:l,selectUnselectable:c}=o;this.hideOther=!!(l&V3),this.hideChildren=!!(l&$3),this.hideConnections=!!(l&z3),this.selectUnselectable=c,this._tools=new dme(o),this.fileContentTransfer=n,this.fileUploader=r,i?(this.schema=i,this.pads=is(o.order,u=>u.type==="imageView"&&u.image.src===rC.src&&new gb(this,u)),this.children=i.children.list.map(u=>{const h=o.objects.get(u.key);if(h?.type!=="group")throw Error(`Изображение имиджа '${u}' отсутствует на сцене`);return new pb(this,u,h)}),this.connections=i.childConnections.list.map(u=>{const h=o.objects.get(u.key);if(h?.type!=="line")throw Error(`Изображение связи '#${u.key}' отсутствует на сцене`);return new Lg(this,u,h)})):(this.schema=null,this.pads=[],this.children=[],this.connections=[]),Ot(this,{schema:Be.ref,lastCursorX:Be.ref,lastCursorY:Be.ref,viewScale:Be.ref,selection:Be.ref,children:!1,pads:!1,connections:!1,hideChildren:Be.ref,hideConnections:Be.ref,hideOther:Be.ref,selectUnselectable:Be.ref,textEditor:Be.ref,handleDrop:Ee,handlePointer:Ee,handleCopy:Ee,handleCut:Ee,handlePaste:Ee,handlePointerLeave:Ee,handleWindowKeyboardEvent:Ee,handleKeyboard:Ee,handleWheel:Ee,setLayers:Ee,setChildOrder:Ee,cancel:Ee,undo:Ee,redo:Ee,save:Ee,selectAll:Ee,selectNext:Ee,startCreateConnection:Ee,startCreateText:Ee,startCreateInput:Ee,startCreateRect:Ee,startCreateLine:Ee,startCreateButton:Ee,openTextEditor:Ee,startReorderChildren:Ee,replaceSchema:Ee,onViewMounted:Ee,onViewUnmounted:Ee,pendNextEdit:Ee,pushPendingEdit:Ee,resetScale:Ee,uploadFile:Ii,focus:!1,dispose:!1}),s.addEventListener("contextmenu",CP),s.addEventListener("wheel",this.handleWheel,{passive:!1}),s.addEventListener("dragover",this.handleDragOver),s.addEventListener("dragenter",this.handleDragEnter),s.addEventListener("dragleave",this.handleDragLeave),s.addEventListener("drop",this.handleDrop),s.addEventListener("pointerdown",this.handlePointer),s.addEventListener("pointermove",this.handlePointer),s.addEventListener("pointerup",this.handlePointer),s.addEventListener("pointercancel",this.handlePointer),s.addEventListener("pointerenter",this.handlePointerEnter),s.addEventListener("pointerleave",this.handlePointerLeave),s.addEventListener("keydown",this.handleKeyboard),s.addEventListener("keyup",this.handleKeyboard),document.addEventListener("copy",this.handleCopy),document.addEventListener("paste",this.handlePaste),document.addEventListener("cut",this.handleCut),window.addEventListener("keydown",this.handleWindowKeyboardEvent),window.addEventListener("keyup",this.handleWindowKeyboardEvent)}dispose(){this.children.forEach(t=>t._unsubscribe()),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("paste",this.handlePaste),document.removeEventListener("cut",this.handleCut),window.removeEventListener("keydown",this.handleWindowKeyboardEvent),window.removeEventListener("keyup",this.handleWindowKeyboardEvent),U3(this),this._scene.dispose()}resetScale(){this._setScale(1)}replaceSchema(t){if(fa.assert(this.schema),t!==this.schema){if(t.klass!==this.schema.klass)throw Error("Типы имиджей не совпадают");this.schema=t,this.pads.forEach(n=>n._replaceSchema()),t.children.list.forEach((n,r)=>{this.children[r]._replaceSchema(n)}),t.childConnections.list.forEach((n,r)=>{this.connections[r]._replaceConnection(n)})}}setLayers({hideChildren:t=this.hideChildren,hideConnections:n=this.hideConnections,hideOther:r=this.hideOther,selectUnselectable:i=this.selectUnselectable}){if(this.hideOther!==r||this.hideChildren!==t||this.hideConnections!==n){this.hideChildren=t,this.hideConnections=n,this.hideOther=r;const o=(r?V3:0)|(t?$3:0)|(n?z3:0);this._scene.set({hiddenLayers:o}),this._saveChanges()}this.selectUnselectable!==i&&(this._scene.set({selectUnselectable:i}),this.selectUnselectable=i)}setChildOrder(t){const{schema:n}=this;n&&(n.reorderChildren(t.map(r=>r.schema)),this.children=t)}get hasChanges(){return this._history.hasChanges}get inAction(){return this._actions.inAction}get isInChildReorderMode(){return this._actions.isInChildReorderMode}get canUndo(){return this._history.canUndo}undo(){this._history.undo()}get canRedo(){return this._history.canRedo}redo(){this._history.redo()}cancel(){this._actions.finishCurrent()}_abort(){}selectAll(){this._actions.finishCurrent();const t=_3(this._scene);t.length&&this._createSelection(t)}selectNext(t){this._actions.finishCurrent();const n=_3(this._scene);if(!n.length)return;const r=this.selection?._getJF()[0].key||0,i=n.sort((s,l)=>t?l.key-s.key:s.key-l.key),o=i.find(s=>t?s.key<r:s.key>r)||i[0];this._createSelection([o],!0)}startCreateConnection(){if(!this.schema)return;this._abort(),this.setLayers({hideConnections:!1,hideChildren:!1});let t=null,n=null;const r=this.selection?._getJF();if(r&&(r.length===1||r.length===2)&&(t=ss(r[0]),n=r.length===2?ss(r[1]):null),t&&n){const i=this.connections.find(c=>c.includes(t)&&c.includes(n));if(i){this._createSelection([i.slot]);return}const o=this.createConnectionSlot(t,n),s=this.schema.createConnection(t.schema,n.schema,{key:o.key,aPadKey:Ni(t.type==="pad"&&t.key),bPadKey:Ni(n.type==="pad"&&n.key)});this._createConnection(o,s);const l=[o];this._history.saveCreatedObjects(l),this._createSelection(l)}else{this.selection?.reset();const i=t||n;this._actions.startCreateConnection(i)}}startReorderChildren(){this.schema&&(this.selection?.reset(),this.setLayers({hideChildren:!1}),this._actions.startReorderChildren())}startCreateLine(){this.setLayers({hideOther:!1}),this._actions.startCreateLine()}startCreateText(){this.setLayers({hideOther:!1}),this._actions.startSelectSampleCoords(mme,"Выбор координат элемента текста")}startCreateSample(t,n){this.setLayers({hideOther:!1}),this._actions.startCreateSample(t,n)}startCreateInput(){this.startCreateSample(vme,"Создание элемента ввода")}startCreateButton(){this.startCreateSample(yme,"Создание кнопки")}startCreateRect(){this.startCreateSample(bme,"Создание прямоугольника")}pendNextEdit(){this._history.pendNextEdit()}pushPendingEdit(){this._history.pushPendingEdit()}get view(){return this._scene.domElement}get isFocused(){return document.activeElement===this.view}focus(){this.view.focus()}_pick(t,n){const r=this._scene.pick(t,n);return r?.data[ub]?.slot||r}_pickSmart(t,n,r){let i=this._pick(t,n);if(!i)return this.prevPicked=null,null;if(i.data[nh])return i;let o=null;if(r){const s=Date.now();this.prevPicked&&s-this.prevPicked.pickedAt<300&&(o=this.prevPicked.item),this.prevPicked={item:i,pickedAt:s}}else this.prevPicked=null;for(;i.parent&&i.parent!==o&&!i.data[wu];)i=i.parent;return r&&(this.prevPicked.item=i),i}_createSelection(t,n,r){this._removeHighlights(),this.selection?.reset();const i=gme(t);if(!i.length)return null;if(!this.isInChildReorderMode)if(i.length===1){const[o]=i,s=zme(this,o);this.selection=new Kme(this,s);const l=Dg(o);l&&this.onNodeSelected.dispatch(l.schema)}else{const o=i.map(s=>new wb(this,s));this.selection=new Hme(this,o)}if(n){const[o]=i,{x:s,y:l}=o;this.isViewMounted?(r||this._outOfView(s,l))&&this._centerCameraOn(o):this.focusAfterViewMounted=o}return this.selection}onViewMounted(){Jme(this),this.isViewMounted=!0;const t=this.focusAfterViewMounted;t&&this._centerCameraOn(t),this.focusAfterViewMounted=null}onViewUnmounted(){U3(this),this.isViewMounted=!1}_setHighlight(t,n=!0){if(this.highlightedItem?.item===t)return;this._removeHighlights(void 0,n),n&&Dg(t)?._setHover(!0);const r=this._tools.highlightFor(t),i=this._tools.textFor(t);this.highlightedItem={item:t,border:r,text:i}}_removeHighlights(t,n=!0){const r=this.highlightedItem;r&&(t&&r.item!==t||(n&&Dg(r.item)?._setHover(!1),r.border?.delete(!0),r.text?.delete(!0),this.highlightedItem=null))}_tryHighlight(t,n,r=!1){if(this._actions.highlightsDisallowed)return;let i=this._pick(t,n);if(!r)for(;i?.parent;)i=i.parent;if(!i||i.data[wu]||i.data[nh]){this._removeHighlights();return}this._setHighlight(i),this.highlightedItem?.text?.set({x:t,y:n+24})}_outOfView(t,n){const r=this._scene,i=Qv(t,r.x,r.x+r.domElement.clientWidth),o=Qv(n,r.y,r.y+r.domElement.clientHeight);return i!==t||o!==n?{x:i,y:o}:null}_centerCameraOn(t){const n=this._scene,r=t.x-(n.domElement.clientWidth-t.width)/2,i=t.y-(n.domElement.clientHeight-t.height)/2;this.setSceneXY(r,i)}_hideChildImages(){this.children.forEach(t=>t._forceHide())}_refreshChildImages(){this.children.forEach(i=>i._forceUpdate());const t=this._scene,n=[],r=[];for(const i of t.order)i.key>0||i.data[ub]?n.push(i):r.push(i);t.set({order:n.concat(r)})}_notifyChildrenRemoved(){this.children=this.children.filter(t=>(t._unsubscribe(),t.slot.key>0)),this.children.forEach(t=>t._subscribe())}_notifyPadsRemoved(){this.pads=this.pads.filter(t=>t.slot.key>0)}_notifyConnectionsRemoved(){this.connections=this.connections.filter(t=>t.slot.key>0)}_sceneChanged(){}openTextEditor(t){this.textEditor=new yge(this,t._jf.text)}save(){return this._actions.finishCurrent(),this._history.markUnchanged(),this._scene.toJSON()}_saveChanges(){const{schema:t}=this;if(!t)return;this._hideChildImages();const n=this._scene.toJSON();this._refreshChildImages();const{klass:r}=t;r.set({scene:{...r.scene,data:n}}),this.children.forEach(i=>i._saveChanges()),t.applyChanges(),this.onSaved.dispatch()}_cloneObject(t){let n;const r=this._scene,i=ss(t);if(i){const s=this.schema;let l;if(i.type==="pad")n=x3(i.slot),l=this.createPad(n);else{n=this.createChildSlot(i.schema.klass,t.x,t.y,i.slot.attrib);const p=s.createChild(i.schema.klass,{key:n.key},i.schema.getState());l=this.createChild(n,p);for(let g in t.data)n.data[g]=t.data[g]}const{objects:c,order:u}=r.merge(dy(i.connections.map(p=>p.slot)),"free",!0);r.set({order:u.concat(r.order)});const h=i.connections.map(p=>{const g=c.get(p.key);fa.assert(g?.type==="line");const m=i===p.a?l:p.a,y=i===p.b?l:p.b,b=s.createConnection(m.schema,y.schema,{key:g.key,aPadKey:Ni(m.type==="pad"&&m.key),bPadKey:Ni(y.type==="pad"&&y.key),attrib:p.schemaConnection.attrib,vars:p.schemaConnection.proto.nestedConnections.map(v=>v.toJSON())});return new Lg(this,b,g)});this.connections=this.connections.concat(h)}else n=x3(t);const o=n.data.name;if(o){const s=o.replace(/\d+$/,l=>(parseInt(l)+1).toString());n.data.name=s!==o?s:s+"2"}return this._refreshChildImages(),n}insertFromDropOrPaste(t,n){const r=wme(t);if(r){const l=t.getData(`editor-cut-${this.lastCutId}`);l&&(this.lastCutId=""),this.insertFromClipboard(r,l?null:n);return}const i=this.fileContentTransfer?.pop(t);if(i){const{klass:l}=i;if(l){this.insertKlass(l,n);return}const{image:c}=i;if(c){const h=T3(c);this.insertSceneData(h,n,{name:G0(i.path)});return}const u=i.scene?.data.data;if(u){this.insertSceneData(u,n,{name:G0(i.path)});return}return}const o=t.files.item(0);if(o){this.uploadFile(o,n);return}const s=t.getData("text/plain");if(s){const l=E3(s);this.insertSceneData(l,n);return}}*uploadFile(t,n){const{fileUploader:r}=this;if(!r)return;const i=yield r.upload([t]);if(!i.length)return;const[{data:o}]=i;if(o.image){const l=T3(o.image);this.insertSceneData(l,n,{name:t.name});return}const s=o.scene?.data;s&&this.insertSceneData(s,n)}insertKlass(t,n){if(!this.schema)return;this.setLayers({hideChildren:!1}),this._abort();let r;if(this.schema.klass===t){const s=this.createPadSlot(n.x,n.y);r=this.createPad(s)}else{Ag(!this.schema.hasAncestor(t),`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const s=this.createChildSlot(t,n.x,n.y),l=this.schema.createChild(t,{key:s.key});r=this.createChild(s,l)}const{slot:i}=r;i.set({x:n.x-i.width/2,y:n.y-i.height/2}),this._refreshChildImages();const o=[r.slot];this._history.saveCreatedObjects(o),this._createSelection(o)}insertFromClipboard(t,n){this._abort(),this.selection?.reset();const{schema:r}=this;let i;r&&(i=t.children?.map(p=>{const g=r.resolveKlass(p.klassUuid);return Ag(g,`Имидж не существует: ${p.klass}`),Ag(!r.hasAncestor(g),`Невозможно добавить '${g.name}' в схему: рекурсивная зависимость`),{...p,klass:g}}));const s=this._scene.merge(t.scene).objects;let l=uC(s);if(r){if(i&&i.length){const p=is(i,g=>{const m=s.get(g.key);if(m?.type!=="group"){console.warn(`Изображение имиджа '${g.klass} #${g.key}' отсутствует на сцене`);return}const y=r.createChild(g.klass,{key:m.key},g.state);return new pb(this,y,m)});this.children=this.children.concat(p)}if(t.pads?.length){const p=is(t.pads,g=>{const m=s.get(g);if(m?.type!=="imageView"){console.warn(`Изображение площадки #${g}' отсутствует на сцене`);return}return new gb(this,m)});this.pads=this.pads.concat(p)}if(t.connections?.length){const p=is(t.connections,g=>{const m=s.get(g.key);if(m?.type!=="line"){console.warn(`Изображение связи '#${g.key}' отсутствует на сцене`);return}const[y,b]=g.nodes,v=s.get(Math.abs(y)),S=v&&ss(v);if(!S){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const E=s.get(Math.abs(b)),T=E&&ss(E);if(!T){console.warn(`Связь #${g.key}: цель А отсутствует на сцене`);return}const O=r.createConnection(S.schema,T.schema,{key:m.key,aPadKey:Ni(S.type==="pad"&&S.key),bPadKey:Ni(T.type==="pad"&&T.key),attrib:g.attrib,vars:g.vars});return new Lg(this,O,m)});this.connections=this.connections.concat(p)}this._refreshChildImages()}else(t.children?.length||t.pads?.length||t.connections?.length)&&(t.children?.forEach(p=>s.get(p.key)?.delete()),t.pads?.forEach(p=>s.get(p)?.delete()),t.connections?.forEach(p=>s.get(p.key)?.delete()),l=l.filter(p=>p.key>0));if(!l.length)return;const c=l,u=this._tools.tempGroup(c);n&&u.set({x:n.x-u.width/2,y:n.y-u.height/2});const h=this._outOfView(u.x,u.y);h&&(n?u.set(h):this._centerCameraOn(c[0])),u.set({children:[]}),this._history.saveCreatedObjects(c),this._createSelection(c)}insertSceneData(t,n,r){if(!t.objects?.length)return;this._abort(),this.selection?.reset();const i=tf(this._scene,t);r&&Object.assign(i.data,r),i.set({x:n.x-i.width/2,y:n.y-i.height/2}),this._refreshChildImages();const o=[i];this._history.saveCreatedObjects(o),this._createSelection(o)}setSceneXY(t,n){const r=this._scene;this.lastCursorX+=t-r.x,this.lastCursorY+=n-r.y,this._scene.set({x:t,y:n})}_setScale(t,n){const r=this.viewScale;this.viewScale=Math.min(Math.max(t,.25),4);const i=100/this.viewScale,o=this.view.style;o.transform=`scale(${this.viewScale})`,o.width=`${i}%`,o.height=`${i}%`;const s=this._scene,l=this.viewScale/r,c=n?.offsetX||0,u=n?.offsetY||0,h=s.x+c*l-c,p=s.y+u*l-u;s.set({x:h,y:p}),this._tools.defaultFont.set({size:16*(1/this.viewScale)})}copySelection(){const t=this.selection;if(!t)return null;const n=t._getJF().filter(c=>!db(c));if(!n.length)return null;const r=[],i=[],o=[],s=new WeakSet;return n.forEach(c=>{const u=ss(c);u&&(u.type==="child"?r.push(u._copy()):i.push(u.slot.key),s.add(u))}),this.connections.forEach(c=>{const{a:u,b:h}=c;s.has(u)&&s.has(h)&&(n.push(c.slot),o.push(c._copy()))}),{scene:dy(n),children:r,connections:o,pads:i}}_handleKeyboard(t){if(t.ctrlKey||t.altKey)return!1;const n=this._actions;if(n.handleKeyboard(t))return!0;if(t.type!=="keydown"||t.key!=="ArrowUp"&&t.key!=="ArrowDown"&&t.key!=="ArrowLeft"&&t.key!=="ArrowRight")return!1;const{selection:r}=this;if(!r||n.inAction){if(!this.cameraMoveStart){const i=t.shiftKey?80:20,o=this._scene,s=o.x+(t.key==="ArrowLeft"?-i:t.key==="ArrowRight"?i:0),l=o.y+(t.key==="ArrowUp"?-i:t.key==="ArrowDown"?i:0);this.setSceneXY(s,l)}return!0}if(t.shiftKey){if(r.type==="single"&&r.object.type!=="group")switch(t.key){case"ArrowLeft":r.object.decreaseZ();break;case"ArrowRight":r.object.increaseZ();break;case"ArrowUp":r.object.moveToTop();break;case"ArrowDown":r.object.moveToBottom();break}return!0}return r.object.canMove&&n.startMoveObjectWithKeyboard(r.object,t),!0}createConnectionSlot(t,n){const r=this._scene,i=r.pen({color:VT}),o=GT(t.slot),s=GT(n.slot),l=r.line([o.x,o.y,s.x,s.y],{pen:i,attrib:S3});return r.set({order:[l,...r.order]}),l}createChildSlot(t,n,r,i=w3){const o=this._scene,s=this._tools.iconImage(t.image?.icon?.atlas),l=o.imageView(s,{x:n,y:r,width:32,height:32,area:{x:0,y:0,w:32,h:32}});return o.set({order:o.order.concat(l)}),o.group([l],{attrib:i})}createPadSlot(t,n){const r=this._scene,i=this._tools.padIconImage(),o=r.imageView(i,{x:t,y:n,width:32,height:32,area:{x:0,y:0,w:32,h:32},attrib:w3});return r.set({order:r.order.concat(o)}),o}createPad(t){const n=new gb(this,t);return this.pads=this.pads.concat(n),n}createChild(t,n){const r=new pb(this,n,t);return this.children=this.children.concat(r),r}_createConnection(t,n){const r=new Lg(this,n,t),{order:i}=this._scene,o=r.a.type==="child"?r.a.icon:r.a.slot,s=r.b.type==="child"?r.b.icon:r.b.slot;if(o&&s){const l=Math.min(i.indexOf(o),i.indexOf(s));this._scene.set({order:$0(i,l,t)})}return this.connections=this.connections.concat(r),r}_notifySelectionRemoved(){this.selection=null}_setPads(t){this.pads=t}_setConnections(t){this.connections=t}_setChildren(t){this.children=t}}class eve{constructor(t,n){this.type="fileSceneEditor",this.editable=!0,this.fileScene=t,this.scene=new cM(t.data.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return this.fileScene.file.itemId}get title(){return this.fileScene.file.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.fileScene.file.isReadonly}get isDeleted(){return this.fileScene.file.isDeleted}save(){fa.assert(!this.isReadonly);const t=this.scene.save(),n=this.fileScene;n.setData({...n.data,data:t})}dispose(){this.scene.dispose()}}class tve{constructor(t,n){this.type="klassPropsEditor",this.editable=!0,this.klass=t,this.scene=new cM(t.image?.scene?.data||{},{...n,fileUploader:n.getFileUploader(t.file.lib)})}get _reactKey(){return"props-"+this.klass.uuid}get title(){return this.klass.name}get hasChanges(){return this.scene.hasChanges}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}save(){fa.assert(!this.isReadonly);const t=this.scene.save(),{klass:n}=this;n.set({image:{...n.image,scene:{...n.image?.scene,data:t}}})}dispose(){this.scene.dispose()}}class nve{constructor(t,n){this.type="schemaEditor",this.editable=!1,this.klass=t.klass,this.scene=new cM(t.klass.scene?.data||{},{...n,schema:t,fileUploader:n.getFileUploader(t.klass.file.lib)})}get _reactKey(){return"scene-"+this.klass.uuid}get schema(){return this.scene.schema}get title(){return`${this.klass.name} (схема)`}get isReadonly(){return this.klass.isReadonly}get isDeleted(){return this.klass.file.isDeleted}replaceSchema(t){this.scene.replaceSchema(t)}dispose(){this.scene.dispose()}}class rve{constructor(t){this.type="textEditor",this.editable=!0,this.currentLineNumber=0,this.currentColumnIndex=0,this.fileBinary=t,this.currentText=this.savedText=zp(t.data).split(`\r
`).join(`
`),Ot(this,{currentLineNumber:Be.ref,currentColumnIndex:Be.ref,currentText:Be.ref,savedText:Be.ref,hasChanges:yi,save:Ee,setCurrentText:Ee,setCursorPosition:Ee})}get _reactKey(){return this.fileBinary.file.itemId}get title(){return this.fileBinary.file.name}get hasChanges(){return this.currentText!==this.savedText}get isReadonly(){return this.fileBinary.file.isReadonly}get isDeleted(){return this.fileBinary.file.isDeleted}save(){fa.assert(!this.isReadonly),this.fileBinary.setData(Up(this.currentText.split(`
`).join(`\r
`))),this.savedText=this.currentText}setCurrentText(t){this.currentText=t}setCursorPosition(t,n){this.currentLineNumber=t,this.currentColumnIndex=n}}function H3(e){return e.type==="fileSceneEditor"||e.type==="klassPropsEditor"||e.type==="schemaEditor"}function ive(e){return e.type==="codeEditor"}const ove=["input","select","button","textarea"];function sve(){const{activeElement:e}=document;return!!(e&&ove.includes(e.tagName.toLowerCase()))}function ave(e){return e.shiftKey?e.code.startsWith("Digit")?parseInt(e.code[e.code.length-1]):NaN:parseInt(e.key)}function lve(e){const{selection:t}=e;return!t||t.type==="multi"||t.object.type!=="group"?null:t.object.child}function cve(e,t,n){if(n.altKey)return!1;const{scene:r}=e;if(n.ctrlKey)return r.inAction?!1:n.code==="KeyY"||n.shiftKey&&n.code==="KeyZ"?(r.redo(),!0):n.code==="KeyZ"?(r.undo(),!0):n.code==="KeyA"?(n.repeat||r.selectAll(),!0):!1;if(n.code==="Escape")return r.inAction?r.cancel():r.selection?.reset(),!0;if(n.key==="Enter"||n.code==="Space"||n.code==="KeyS"||n.code==="KeyD"){if(!r.isFocused)return!1;const o=lve(r);switch(n.code){case"KeyD":{const s=o?.schema.klass||r.schema?.klass;s&&t.openKlassCode(s);break}case"KeyS":{const s=o?.schema||r.schema;s&&t.openSchema(s);break}default:{const s=o?.schema.klass||r.schema?.klass;s&&t.openKlassProps(s);break}}return!0}if(parseInt(n.key)){if(n.shiftKey)return!1;if(n.key==="1")r.setLayers({hideChildren:!r.hideChildren});else if(n.key==="2")r.setLayers({hideConnections:!r.hideConnections});else if(n.key==="3")r.setLayers({hideOther:!r.hideOther});else if(n.key==="4")r.setLayers({selectUnselectable:!r.selectUnselectable});else return!1;return!0}if(n.code==="Backquote")return r.setLayers({hideChildren:!1,hideOther:!1,hideConnections:!1}),!0;if(n.code==="Tab")return r.isFocused?(r.inAction||r.selectNext(n.shiftKey),!0):!1;if(n.code==="KeyR"&&(r.isInChildReorderMode?r.cancel():r.startReorderChildren()),r.inAction)return!1;const i=r.selection;return n.key==="Delete"?(i?.object.delete(),!0):n.code==="KeyG"?(i?.type==="multi"&&i.object.canCreateGroup&&i.object.createGroup(),!0):n.code==="KeyU"?(i?.type==="single"&&i.object.type==="group"&&i.object.canUngroup&&i.object.ungroup(),!0):n.code==="KeyN"?(i?.type==="single"&&i.object.set({isUnselectable:!i.object.isUnselectable}),!0):n.code==="KeyE"?(i?.type==="single"&&i.object.type==="textView"&&r.openTextEditor(i.object),!0):n.code==="KeyC"?(r.startCreateConnection(),!0):n.code==="KeyL"?(r.startCreateLine(),!0):n.code==="KeyT"?(r.startCreateText(),!0):n.code==="KeyI"?(r.startCreateInput(),!0):n.code==="KeyB"?(r.startCreateButton(),!0):n.code==="KeyQ"?(r.startCreateRect(),!0):!1}function uve(e,t,n){if(n.ctrlKey&&n.code==="KeyS"){if(!n.repeat){const i=e.tabs.currentTab?.editor;i?.save&&!i.isReadonly&&i.save()}return!0}if(n.ctrlKey&&n.code==="KeyR"){const i=e.player.player;return i?i.isMinimized?i.maximize():i.close():e.player.openPlayer(),!0}if(n.ctrlKey&&n.code==="KeyP")return t.rightPanelMinimized.toggle(),!0;if(n.ctrlKey&&n.code==="KeyF"){if(n.shiftKey)return e.vfsFilterVisible.setFalse(),t.leftPanelMinimized.toggle(),!0;{t.activeLeftPanelActiveView.set("files");let i=0;t.leftPanelMinimized.isTrue&&(t.leftPanelMinimized.setFalse(),i=300),setTimeout(e.vfsFilterVisible.setTrue,i)}return!0}if((n.ctrlKey||n.altKey)&&n.code==="KeyW"){const i=e.player.player;return i&&!i.isMinimized?i.close():e.tabs.currentTab?.close(),!0}if(n.altKey){const i=ave(n);if(!isNaN(i)){if(e.tabs.tabs.length){const o=i>0?i-1:e.tabs.tabs.length-1;e.tabs.setCurrentTab(e.tabs.tabs[o])}return!0}}if(document.activeElement?.tagName.toLowerCase()==="textarea"||sve())return!1;n.ctrlKey&&n.code==="KeyA"&&n.preventDefault();const r=e.tabs.currentTab?.editor;return!!(r&&H3(r)&&cve(r,e,n))}function dve(e,t){if(e.currentModalDialog.current)return!1;const{currentProject:n}=e;return!!n&&uve(n,e,t)}function hve(e,t){t.ctrlKey&&(t.code==="KeyS"||t.code==="KeyR")&&t.preventDefault(),dve(e,t)&&t.preventDefault()}class fve{constructor(t){this.current=t,Ot(this,{current:Be.ref,set:Ee})}set(t){this.current=t}}class ih{constructor(t=!1){this.isTrue=t,this.setTrue=()=>{this.isTrue=!0},this.setFalse=()=>{this.isTrue=!1},this.toggle=()=>{this.isTrue=!this.isTrue},Ot(this,{isTrue:Be.ref,setTrue:Ee,setFalse:Ee,toggle:Ee})}}class uM extends Error{}const G3=(e,t,n)=>{typeof n=="string"||n instanceof Blob?e.append(t,n):n instanceof Date?e.append(t,n.toISOString()):e.append(t,JSON.stringify(n))},pve={bodySerializer:e=>{const t=new FormData;return Object.entries(e).forEach(([n,r])=>{r!=null&&(Array.isArray(r)?r.forEach(i=>G3(t,n,i)):G3(t,n,r))}),t}},gve={bodySerializer:e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString():n)},mve=({onRequest:e,onSseError:t,onSseEvent:n,responseTransformer:r,responseValidator:i,sseDefaultRetryDelay:o,sseMaxRetryAttempts:s,sseMaxRetryDelay:l,sseSleepFn:c,url:u,...h})=>{let p;const g=c??(b=>new Promise(v=>setTimeout(v,b)));return{stream:async function*(){let b=o??3e3,v=0;const S=h.signal??new AbortController().signal;for(;!S.aborted;){v++;const E=h.headers instanceof Headers?h.headers:new Headers(h.headers);p!==void 0&&E.set("Last-Event-ID",p);try{const T={redirect:"follow",...h,body:h.serializedBody,headers:E,signal:S};let O=new Request(u,T);e&&(O=await e(u,T));const I=await(h.fetch??globalThis.fetch)(O);if(!I.ok)throw new Error(`SSE failed: ${I.status} ${I.statusText}`);if(!I.body)throw new Error("No body in SSE response");const N=I.body.pipeThrough(new TextDecoderStream).getReader();let D="";const L=()=>{try{N.cancel()}catch{}};S.addEventListener("abort",L);try{for(;;){const{done:A,value:$}=await N.read();if(A)break;D+=$,D=D.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const j=D.split(`

`);D=j.pop()??"";for(const U of j){const K=U.split(`
`),q=[];let z;for(const ie of K)if(ie.startsWith("data:"))q.push(ie.replace(/^data:\s*/,""));else if(ie.startsWith("event:"))z=ie.replace(/^event:\s*/,"");else if(ie.startsWith("id:"))p=ie.replace(/^id:\s*/,"");else if(ie.startsWith("retry:")){const Q=Number.parseInt(ie.replace(/^retry:\s*/,""),10);Number.isNaN(Q)||(b=Q)}let Y,te=!1;if(q.length){const ie=q.join(`
`);try{Y=JSON.parse(ie),te=!0}catch{Y=ie}}te&&(i&&await i(Y),r&&(Y=await r(Y))),n?.({data:Y,event:z,id:p,retry:b}),q.length&&(yield Y)}}}finally{S.removeEventListener("abort",L),N.releaseLock()}break}catch(T){if(t?.(T),s!==void 0&&v>=s)break;const O=Math.min(b*2**(v-1),l??3e4);await g(O)}}}()}},vve=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},yve=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},bve=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},W3=({allowReserved:e,explode:t,name:n,style:r,value:i})=>{if(!t){const l=(e?i:i.map(c=>encodeURIComponent(c))).join(yve(r));switch(r){case"label":return`.${l}`;case"matrix":return`;${n}=${l}`;case"simple":return l;default:return`${n}=${l}`}}const o=vve(r),s=i.map(l=>r==="label"||r==="simple"?e?l:encodeURIComponent(l):xb({allowReserved:e,name:n,value:l})).join(o);return r==="label"||r==="matrix"?o+s:s},xb=({allowReserved:e,name:t,value:n})=>{if(n==null)return"";if(typeof n=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?n:encodeURIComponent(n)}`},K3=({allowReserved:e,explode:t,name:n,style:r,value:i,valueOnly:o})=>{if(i instanceof Date)return o?i.toISOString():`${n}=${i.toISOString()}`;if(r!=="deepObject"&&!t){let c=[];Object.entries(i).forEach(([h,p])=>{c=[...c,h,e?p:encodeURIComponent(p)]});const u=c.join(",");switch(r){case"form":return`${n}=${u}`;case"label":return`.${u}`;case"matrix":return`;${n}=${u}`;default:return u}}const s=bve(r),l=Object.entries(i).map(([c,u])=>xb({allowReserved:e,name:r==="deepObject"?`${n}[${c}]`:c,value:u})).join(s);return r==="label"||r==="matrix"?s+l:l},wve=/\{[^{}]+\}/g,Sve=({path:e,url:t})=>{let n=t;const r=t.match(wve);if(r)for(const i of r){let o=!1,s=i.substring(1,i.length-1),l="simple";s.endsWith("*")&&(o=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(s=s.substring(1),l="label"):s.startsWith(";")&&(s=s.substring(1),l="matrix");const c=e[s];if(c==null)continue;if(Array.isArray(c)){n=n.replace(i,W3({explode:o,name:s,style:l,value:c}));continue}if(typeof c=="object"){n=n.replace(i,K3({explode:o,name:s,style:l,value:c,valueOnly:!0}));continue}if(l==="matrix"){n=n.replace(i,`;${xb({name:s,value:c})}`);continue}const u=encodeURIComponent(l==="label"?`.${c}`:c);n=n.replace(i,u)}return n},Cve=({baseUrl:e,path:t,query:n,querySerializer:r,url:i})=>{const o=i.startsWith("/")?i:`/${i}`;let s=(e??"")+o;t&&(s=Sve({path:t,url:s}));let l=n?r(n):"";return l.startsWith("?")&&(l=l.substring(1)),l&&(s+=`?${l}`),s};function q3(e){const t=e.body!==void 0;if(t&&e.bodySerializer)return"serializedBody"in e?e.serializedBody!==void 0&&e.serializedBody!==""?e.serializedBody:null:e.body!==""?e.body:null;if(t)return e.body}const xve=async(e,t)=>{const n=typeof t=="function"?await t(e):t;if(n)return e.scheme==="bearer"?`Bearer ${n}`:e.scheme==="basic"?`Basic ${btoa(n)}`:n},Y3=({parameters:e={},...t}={})=>r=>{const i=[];if(r&&typeof r=="object")for(const o in r){const s=r[o];if(s==null)continue;const l=e[o]||t;if(Array.isArray(s)){const c=W3({allowReserved:l.allowReserved,explode:!0,name:o,style:"form",value:s,...l.array});c&&i.push(c)}else if(typeof s=="object"){const c=K3({allowReserved:l.allowReserved,explode:!0,name:o,style:"deepObject",value:s,...l.object});c&&i.push(c)}else{const c=xb({allowReserved:l.allowReserved,name:o,value:s});c&&i.push(c)}}return i.join("&")},_ve=e=>{if(!e)return"stream";const t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(n=>t.startsWith(n)))return"blob";if(t.startsWith("text/"))return"text"}},Eve=(e,t)=>t?!!(e.headers.has(t)||e.query?.[t]||e.headers.get("Cookie")?.includes(`${t}=`)):!1,Tve=async({security:e,...t})=>{for(const n of e){if(Eve(t,n.name))continue;const r=await xve(n,t.auth);if(!r)continue;const i=n.name??"Authorization";switch(n.in){case"query":t.query||(t.query={}),t.query[i]=r;break;case"cookie":t.headers.append("Cookie",`${i}=${r}`);break;default:t.headers.set(i,r);break}}},X3=e=>Cve({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:Y3(e.querySerializer),url:e.url}),Z3=(e,t)=>{const n={...e,...t};return n.baseUrl?.endsWith("/")&&(n.baseUrl=n.baseUrl.substring(0,n.baseUrl.length-1)),n.headers=Q3(e.headers,t.headers),n},Mve=e=>{const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t},Q3=(...e)=>{const t=new Headers;for(const n of e){if(!n)continue;const r=n instanceof Headers?Mve(n):Object.entries(n);for(const[i,o]of r)if(o===null)t.delete(i);else if(Array.isArray(o))for(const s of o)t.append(i,s);else o!==void 0&&t.set(i,typeof o=="object"?JSON.stringify(o):o)}return t};class dM{constructor(){this.fns=[]}clear(){this.fns=[]}eject(t){const n=this.getInterceptorIndex(t);this.fns[n]&&(this.fns[n]=null)}exists(t){const n=this.getInterceptorIndex(t);return!!this.fns[n]}getInterceptorIndex(t){return typeof t=="number"?this.fns[t]?t:-1:this.fns.indexOf(t)}update(t,n){const r=this.getInterceptorIndex(t);return this.fns[r]?(this.fns[r]=n,t):!1}use(t){return this.fns.push(t),this.fns.length-1}}const Ove=()=>({error:new dM,request:new dM,response:new dM}),Rve=Y3({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),Ive={"Content-Type":"application/json"},kve=(e={})=>({...gve,headers:Ive,parseAs:"auto",querySerializer:Rve,...e}),Pve=(e={})=>{let t=Z3(kve(),e);const n=()=>({...t}),r=u=>(t=Z3(t,u),n()),i=Ove(),o=async u=>{const h={...t,...u,fetch:u.fetch??t.fetch??globalThis.fetch,headers:Q3(t.headers,u.headers),serializedBody:void 0};h.security&&await Tve({...h,security:h.security}),h.requestValidator&&await h.requestValidator(h),h.body!==void 0&&h.bodySerializer&&(h.serializedBody=h.bodySerializer(h.body)),(h.body===void 0||h.serializedBody==="")&&h.headers.delete("Content-Type");const p=X3(h);return{opts:h,url:p}},s=async u=>{const{opts:h,url:p}=await o(u),g={redirect:"follow",...h,body:q3(h)};let m=new Request(p,g);for(const M of i.request.fns)M&&(m=await M(m,h));const y=h.fetch;let b;try{b=await y(m)}catch(M){let I=M;for(const N of i.error.fns)N&&(I=await N(M,void 0,m,h));if(I=I||{},h.throwOnError)throw I;return h.responseStyle==="data"?void 0:{error:I,request:m,response:void 0}}for(const M of i.response.fns)M&&(b=await M(b,m,h));const v={request:m,response:b};if(b.ok){const M=(h.parseAs==="auto"?_ve(b.headers.get("Content-Type")):h.parseAs)??"json";if(b.status===204||b.headers.get("Content-Length")==="0"){let N;switch(M){case"arrayBuffer":case"blob":case"text":N=await b[M]();break;case"formData":N=new FormData;break;case"stream":N=b.body;break;default:N={};break}return h.responseStyle==="data"?N:{data:N,...v}}let I;switch(M){case"arrayBuffer":case"blob":case"formData":case"json":case"text":I=await b[M]();break;case"stream":return h.responseStyle==="data"?b.body:{data:b.body,...v}}return M==="json"&&(h.responseValidator&&await h.responseValidator(I),h.responseTransformer&&(I=await h.responseTransformer(I))),h.responseStyle==="data"?I:{data:I,...v}}const S=await b.text();let E;try{E=JSON.parse(S)}catch{}const T=E??S;let O=T;for(const M of i.error.fns)M&&(O=await M(T,b,m,h));if(O=O||{},h.throwOnError)throw O;return h.responseStyle==="data"?void 0:{error:O,...v}},l=u=>h=>s({...h,method:u}),c=u=>async h=>{const{opts:p,url:g}=await o(h);return mve({...p,body:p.body,headers:p.headers,method:u,onRequest:async(m,y)=>{let b=new Request(m,y);for(const v of i.request.fns)v&&(b=await v(b,p));return b},serializedBody:q3(p),url:g})};return{buildUrl:X3,connect:l("CONNECT"),delete:l("DELETE"),get:l("GET"),getConfig:n,head:l("HEAD"),interceptors:i,options:l("OPTIONS"),patch:l("PATCH"),post:l("POST"),put:l("PUT"),request:s,setConfig:r,sse:{connect:c("CONNECT"),delete:c("DELETE"),get:c("GET"),head:c("HEAD"),options:c("OPTIONS"),patch:c("PATCH"),post:c("POST"),put:c("PUT"),trace:c("TRACE")},trace:l("TRACE")}},Dve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/account/limits",...e}),Ave=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e}),Lve=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/dirs",...e,headers:{"Content-Type":"application/json",...e.headers}}),Nve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/dirs/{dirId}",...e}),Bve=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/libs",...e,headers:{"Content-Type":"application/json",...e.headers}}),J3=e=>e.client.put({security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/index",...e,headers:{"Content-Type":"application/json",...e.headers}}),Fve=e=>e.client.post({...pve,security:[{scheme:"bearer",type:"http"}],url:"/libs/{libraryId}/res",...e,headers:{"Content-Type":null,...e.headers}}),jve=e=>e.client.post({security:[{scheme:"bearer",type:"http"}],url:"/projects",...e,headers:{"Content-Type":"application/json",...e.headers}}),Vve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e}),$ve=e=>e.client.patch({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}",...e,headers:{"Content-Type":"application/json",...e.headers}}),zve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/config",...e}),Uve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/projects/{projectId}/player/zip",...e}),Hve=e=>e.client.post({url:"/session",...e,headers:{"Content-Type":"application/json",...e.headers}}),Gve=e=>e.client.get({security:[{scheme:"bearer",type:"http"}],url:"/session/validate",...e});class Wve{constructor({baseUrl:t}){this.onError=new aa;const n=Pve({baseUrl:t,cache:"no-store"});n.interceptors.error.use((r,i,o,s)=>{if(!i)throw r;if(!s.throwOnError&&i.status===422||s?.ignoreStatus&&i.status<500)return r;const l=`${s.method} ${s.url} ${i.status} (${i.statusText}):
${r.message||"Неизвестная причина"}`;throw this.onError.dispatch(l),Error(l)}),this.c=n}setAuthData(t){this.c.setConfig({auth:t.accessToken})}removeAuthData(){this.c.setConfig({auth:void 0})}async createSession(t,n){const r=await Hve({client:this.c,body:{login:t,password:n},throwOnError:!1});if(r.error)throw new uM(r.error.message);return r.data}async isSessionValid(){qp(this.c.getConfig().auth,"SAPIClient.setAuthData должен быть вызван");const{response:t}=await Gve({client:this.c,ignoreStatus:!0});return t.status<400}async getAccountLimits(){const{data:t}=await Dve({client:this.c});return t}async getRootDirContent({libs:t,projects:n}){const{data:r}=await Ave({client:this.c,query:{libs:t,projects:n}});return r}async getDirContent(t,{libs:n,projects:r}){const{data:i}=await Nve({client:this.c,path:{dirId:t},query:{libs:n,projects:r}});return i}async createDir(t,n){const r=await Lve({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,dir:r.error.conflictDir}:{created:!0,...r.data}}async createLib(t,n){const r=await Bve({client:this.c,throwOnError:!1,body:{name:t,parentDirId:n}});return r.error?{created:!1,library:r.error.conflictLibrary}:{created:!0,...r.data}}async createProject(t){const n=await jve({client:this.c,throwOnError:!1,body:t});return n.error?{created:!1,project:n.error.conflictProject}:{created:!0,...n.data}}async updateProject(t,n){await $ve({client:this.c,path:{projectId:t},body:n})}async getProject(t){const{data:n}=await Vve({client:this.c,path:{projectId:t}});return n}async getProjectPlayerConfig(t){const{data:n}=await zve({client:this.c,path:{projectId:t}});return n}async updateLibraryIndex(t,n){const{data:r}=await J3({client:this.c,path:{libraryId:t},body:n,bodySerializer:Vq});return r}async updateLibraryIndexRaw(t,n){await J3({client:this.c,path:{libraryId:t},body:n,bodySerializer:null})}async createLibraryRes(t,n,r){return(await Fve({client:this.c,path:{libraryId:t},query:r,body:{files:n}})).data}async getProjectPlayerZip(t){return(await Uve({client:this.c,path:{projectId:t}})).data}}class Kve extends os{}class qve{constructor(t){this.isLoggingIn=!1,this.isDataFetching=!1,this.profileName="",this.projectCount=0,this.projectLimit=0,this.libraryCount=0,this.libraryLimit=0,this.onLogin=new vi,this.onBeforeLogout=new vi,this.apiClient=t,Ot(this,{isLoggingIn:Be.ref,isDataFetching:Be.ref,libraryCount:Be.ref,libraryLimit:Be.ref,profileName:Be.ref,projectCount:Be.ref,projectLimit:Be.ref,logout:Ee,restorePrevSession:Ii,login:Ii,fetchLimits:Ii})}*restorePrevSession(t){const{apiClient:n}=this;n.setAuthData(t.authData);const r=yield n.isSessionValid();return this.fetchLimits(t.profile),r}*login(t,n){const{apiClient:r}=this;this.isLoggingIn=!0;let i;try{i=yield r.createSession(t,n)}catch(o){throw o instanceof uM?new Kve(o.message):o}finally{this.isLoggingIn=!1}r.setAuthData(i.authData),this.onLogin.dispatch(i),this.fetchLimits(i.profile)}*fetchLimits(t){this.profileName=t.name||"";const{apiClient:n}=this;this.isDataFetching=!0;let r;try{r=yield n.getAccountLimits()}finally{this.isDataFetching=!1}this.libraryCount=r.libCount,this.libraryLimit=r.libLimit,this.projectCount=r.projectCount,this.projectLimit=r.projectLimit}logout(){this.onBeforeLogout.dispatch()}}class Yve{constructor(){this.isOpen=!1,this.menuItems=[],this.anchorPosition={x:0,y:0},Ot(this,{isOpen:Be.ref,menuItems:Be.ref,anchorPosition:Be.ref,open:Ee,close:Ee})}open(t,n,r){this.anchorPosition={x:t,y:n},this.menuItems=r,this.isOpen=!0}close(){this.isOpen=!1}}class Xve{constructor(){this.klassFiles=new WeakSet,this.map=new Map,this.mapId=new Map,this.mapUuid=new Map,this._list=null,this.klassNameValidator=t=>this.get(t),this.onKlassRename=(t,n)=>{if(this.klassFiles.has(t.file)){this.map.delete(n),this.map.set(t.nameUC,t);for(const{children:r}of this.map.values())for(const i of r.list)(i.klassId?i.klassId===t.id:i.klassName.toUpperCase()===n)&&i._notifyKlassRenamed(t.name);this.updateList()}},this.onKlassFileRemoved=t=>{if(!this.klassFiles.delete(t))return;const n=t.klass;this.removeKlass(n),this.mapId.delete(n.id),this.mapUuid.delete(n.uuid),this.map.delete(n.nameUC),this.updateList()},this.removeKlass=t=>{t._setIsInLibrary(!1),t.nameValidator.set(null),t.onRename.remove(this.onKlassRename),t.file.onRemoved.remove(this.onKlassFileRemoved)},this.nodeCache=new WeakMap}get list(){return this._list||(this._list=[...this.map.values()].sort(Dd)),this._list}add(t){if(this.klassFiles.has(t.file))return;const n=this.mapId.get(t.id);n&&console.warn(`Имиджи '${n.name}' (${n.file.path}) и '${t.name}' (${t.file.path}) имеют одинаковый ID (${t.id})'`);const r=this.map.get(t.nameUC);r&&console.warn(`Имидж '${r.name}' уже существует в файле '${r.file.path}'`),this.klassFiles.add(t.file),this.mapId.set(t.id,t),this.map.set(t.nameUC,t),this.mapUuid.set(t.uuid,t),t._setIsInLibrary(!0),t.nameValidator.set(this.klassNameValidator),t.onRename.add(this.onKlassRename),t.file.onRemoved.add(this.onKlassFileRemoved)}clean(){this.map.forEach(this.removeKlass),this.klassFiles=new WeakSet,this.mapId.clear(),this.map.clear()}updateList(){this._list=null}get(t){return this.map.get(t.toUpperCase())??null}getById(t){return this.mapId.get(t)??null}getByUuid(t){return this.mapUuid.get(t)??null}getByNode(t){const n=this.nodeCache.get(t);if(n)return n;const r=t.klassId?this.getById(t.klassId):this.get(t.klassName);return r&&this.nodeCache.set(t,r),r}}class Zve{constructor(t){this.recursiveSearch=!0,this.searchDirs=[],this.standardSearchDir=null,this._klassLibrary=new Xve,this.onVFSDirsRemoved=n=>{const r=this.searchDirs.filter(i=>!n.has(i));this.searchDirs.length!==r.length&&(this.searchDirs=r)},this.rebuildLibrary=()=>{const{recursiveSearch:n,searchDirs:r,_klassLibrary:i,standardSearchDir:o}=this;if(i.clean(),o)for(const{klass:s}of o.recursive())s&&i.add(s);for(const s of r){const l=n?s.recursive():s.files;for(const{klass:c}of l)c&&i.add(c)}i.updateList()},t.onDirsRemoved.add(this.onVFSDirsRemoved),t.onEntriesMoved.add(this.rebuildLibrary),Ot(this,{recursiveSearch:Be.ref,searchDirs:Be.ref})}get klassLibrary(){return this._klassLibrary}setRecursiveSearch(t){this.recursiveSearch=t}setStandardSearchDir(t){this.standardSearchDir=t,t.setSearchDirMarker(!0)}addSearchDir(t){this.searchDirs.includes(t)||(this.searchDirs=this.searchDirs.concat(t),t.setSearchDirMarker(!0))}removeSearchDir(t){t.setSearchDirMarker(!1),this.searchDirs=this.searchDirs.filter(n=>n!==t)}}class hM{constructor(t="transfer"){this.current=null,this.transferType="vnd.stratum/"+(t+"-"+FT()).toLowerCase()}put(t,n,r="all"){this.current=n,t.setData(this.transferType,"true"),t.effectAllowed=r}pop(t){if(!this.canDrop(t))return null;const n=this.current;return this.current=null,n}get(t){return this.canDrop(t)?this.current:null}canDrop(t){return t.types.includes(this.transferType)}}class Qve{constructor(t,n){this.multiplexer=t,this.editor=n,Ot(this,{close:Ee})}close(){this.editor.dispose?.(),this.multiplexer._notifyItemClosed(this)}}class Jve{constructor(t){this.sceneArgs=t,this.items=[]}addEditor(t){const n=new Qve(this,t);return this.items=this.items.concat(n),n}openSchemaEditor(t){const{klass:n}=t,r=this.items.find(i=>{const{editor:o}=i;return o.type==="schemaEditor"&&o.klass===n});if(r){const{editor:i}=r;return i.schema!==t&&i.replaceSchema(t),r}return this.addEditor(new nve(t,this.sceneArgs))}openCodeEditor(t){const{klass:n}=t,r=this.items.find(({editor:i})=>i.type==="codeEditor"&&i.klass===n);return r||this.addEditor(new xfe(t))}openKlassPropsEditor(t){const n=this.items.find(({editor:r})=>r.type==="klassPropsEditor"&&r.klass===t);return n||this.addEditor(new tve(t,this.sceneArgs))}openFileSceneEditor(t){const n=this.items.find(({editor:r})=>r.type==="fileSceneEditor"&&r.fileScene===t);return n||this.addEditor(new eve(t,this.sceneArgs))}openBinaryFileEditor(t){const n=this.items.find(({editor:r})=>r.type==="textEditor"&&r.fileBinary===t);return n||this.addEditor(new rve(t))}_notifyItemClosed(t){this.items=this.items.filter(n=>n!==t)}}class e2{constructor({klass:t,klassId:n,key:r,name:i="",x:o=0,y:s=0},l){this.onSpecialValueChanged=new vi,this.connections=new Set,this.parent=l,this.klassName=t,this.klassId=n||null,this.key=r,this.sceneName=i,this.sceneX=o,this.sceneY=s,Ot(this,{sceneX:!1,sceneY:!1,sceneName:!1,klassName:!1,set:Ee,remove:Ee,toJSON:!1})}set({sceneX:t=this.sceneX,sceneY:n=this.sceneY,sceneName:r=this.sceneName}){let i=!1;this.sceneX!==t&&(this.sceneX=t,i=!0),this.sceneY!==n&&(this.sceneY=n,i=!0),this.sceneName!==r&&(this.sceneName=r,i=!0),i&&(this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged())}remove(){this.connections.forEach(t=>t.remove()),this.parent._notifyChildNodeRemoved(this)}toJSON(){return{key:this.key,klass:this.klassName,klassId:Ni(this.klassId),x:this.sceneX,y:this.sceneY,name:Ni(this.sceneName)}}_notifyKlassRenamed(t){this.klassName=t,this.onSpecialValueChanged.dispatch(),this.parent._notifyContentChanged()}_addConnection(t){this.connections.add(t)}_removeConnection(t){this.connections.delete(t)}}class eye{constructor(t,n){this.list=[],this.parent=t,this.list=n?.map(r=>new e2(r,t))||[],Ot(this,{list:!1,create:Ee,reorder:Ee,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}create(t){const{list:n}=this,r=new e2(t,this.parent);return this.list=n.concat(r),this.parent._notifyChildListChanged(),r}reorder(t){this.list=t,this.parent._notifyChildListChanged()}_removeChild(t){this.list=vP(this.list,t)}}class t2{constructor(t,n){this.data=t,this.carrier=n}get a(){return this.data[0]}get b(){return this.data[1]}_setNames(t){this.data=t}toJSON(){return this.data}}class n2{constructor(t,n,{key:r,vars:i,attrib:o=0},s){this.onNestedConnectionsChanged=new vi,this.onDisabledChanged=new vi,this.isRemoved=!1,this.key=r,this.parent=s,this.a=t,this.b=n,typeof t!="number"&&t._addConnection(this),typeof n!="number"&&n._addConnection(this),this.nestedConnections=i?.map(l=>new t2(l,this))||[],this.attrib=o,Ot(this,{attrib:Be.ref,nestedConnections:!1,setDisabled:Ee,setNestedConnections:Ee,remove:Ee,toJSON:!1})}get isDisabled(){return!!(this.attrib&ty)}setNestedConnections(t){const n=this.nestedConnections;this.nestedConnections=t.map(r=>{const i=r[0].toUpperCase(),o=r[1].toUpperCase(),s=n.find(l=>l.a.toUpperCase()===i&&l.b.toUpperCase()===o);return s?(s._setNames(r),s):new t2(r,this)}),this.onNestedConnectionsChanged.dispatch(),this.parent._notifyContentChanged()}setDisabled(t){t?this.attrib|=ty:this.attrib&=~ty,this.onDisabledChanged.dispatch(),this.parent._notifyContentChanged()}remove(){if(this.isRemoved)return;this.isRemoved=!0;const{a:t,b:n}=this;typeof t!="number"&&t._removeConnection(this),typeof n!="number"&&n._removeConnection(this),this.parent._notifyConnectionRemoved(this)}toJSON(){const{attrib:t,nestedConnections:n,a:r,b:i,key:o}=this,s=typeof r=="number"?-r:r.key,l=typeof i=="number"?-i:i.key;return{key:o,nodes:[s,l],vars:n.map(({a:c,b:u})=>[c,u]),attrib:Ni(t)}}}class tye{constructor(t,n){if(this.parent=t,n){const{children:r}=t;this.list=is(n,i=>{const[o,s]=i.nodes,l=o>0?r.get(o):-o;if(!l)return null;const c=s>0?r.get(s):-s;return c?new n2(l,c,i,t):null})}else this.list=[];Ot(this,{list:!1,create:Ee})}create(t,n,r){const i=new n2(t,n,r,this.parent);return this.list=this.list.concat(i),this.parent._notifyConnectionListChanged(),i}_removeConnection(t){this.list=vP(this.list,t)}}class r2{constructor(t){this.data=t,this.isLocal=!0}get isArgument(){return!!((this.data.attrib||0)&lt.VF_ARGUMENT)}get isReturn(){return!!((this.data.attrib||0)&lt.VF_RETURN)}get type(){return this.data.type}toJSON(){return this.data}}class i2{constructor({name:t,type:n,attrib:r=0,defaultValue:i=null,description:o=""},s){this.isLocal=!1,this.onValueChanged=new vi,this.klass=s,this.name=t,this.type=n,this.attrib=r,this.description=o;const l=this.nameUC=t.toUpperCase();i!==null&&eg(n,i)!==null?this.value=i:this.value=null,l==="ORGX"&&n===kt.FLOAT||l==="ORGY"&&n===kt.FLOAT||l==="_HOBJECT"&&n===kt.HANDLE||l==="_OBJNAME"&&n===kt.STRING||l==="_CLASSNAME"&&n===kt.STRING?this.specialValueType=l:this.specialValueType="none",Ot(this,{value:Be.ref,name:Be.ref,description:Be.ref,attrib:!1,setValue:Ee,setDescription:Ee,isValidValue:!1,toJSON:!1})}get isArgument(){return!!(this.attrib&lt.VF_ARGUMENT)}get isReturn(){return!!(this.attrib&lt.VF_RETURN)}setDescription(t){this.description=t,this.klass._notifyContentChanged()}setValue(t){return t!==null&&!this.isValidValue(t)?!1:(this.value=t,this.onValueChanged.dispatch(),this.klass._notifyContentChanged(),!0)}isValidValue(t){return eg(this.type,t)!==null}toJSON(){return{name:this.name,type:this.type,attrib:Ni(this.attrib),defaultValue:this.value??void 0,description:Ni(this.description)}}_changeAttrib(t){this.attrib=t}_rename(t){this.name=t}}function o2({attrib:e=0}){return!!(e&lt.VF_LOCAL)}class nye{constructor(t,n){this.list=[],this.onVarListChanged=new vi,this.klass=t,this.allList=n?.map(r=>o2(r)?new r2(r):new i2(r,t))||[],this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),Ot(this,{list:!1,allList:!1,set:Ee,get:!1})}set(t){const{list:n}=this;this.allList=t.map(r=>{if(o2(r))return new r2(r);const i=r.name.toUpperCase(),o=n.find(s=>s.type===r.type&&s.nameUC===i);return o?(o._rename(r.name),o._changeAttrib(r.attrib||0),o):new i2(r,this.klass)}),this.list=this.allList.filter(r=>!r.isLocal),this.listMap=new Map(this.list.map(r=>[r.nameUC,r])),this.onVarListChanged.dispatch(),this.klass._notifyVarListChanged()}get(t){return this.listMap.get(t.toUpperCase())||null}}const rye={};class s2 extends os{constructor(t){super(`Имидж '${t.name}' уже существует в файле '${t.file.path}'`)}}class iye{constructor(t,n){this.uuid=FT(),this.onRename=new vi,this.onImageChanged=new vi,this.onVarListChanged=new vi,this.onConnectionListChanged=new vi,this.onChildListChanged=new vi,this.nameValidator=new e9,this.isInLibrary=!1,this.file=t,this.id=n.id,this.name=n.name,this.nameUC=n.name.toUpperCase(),this.modelText=n.modelText||"",this.isFunction=n.isFunction||!1,this.date=n.date?new Date(n.date):new Date,this.vars=new nye(this,n.vars),this.children=new eye(this,n.children),this.childConnections=new tye(this,n.links),this.scene=n.scene||null,this.image=n.image||null,this.description=n.description||"",Ot(this,{hasCode:yi,hasScene:yi,name:Be.ref,nameUC:Be.ref,image:Be.ref,isInLibrary:Be.ref,scene:Be.ref,modelText:!1,isFunction:!1,rename:Ee,set:Ee,toJSON:!1})}get hasScene(){return!!this.scene?.data}get hasCode(){return!!this.modelText}get isReadonly(){return this.file.isReadonly}get imageData(){const{image:t}=this;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this.image?.icon||rye}_setIsInLibrary(t){this.isInLibrary=t}set({scene:t=this.scene,image:n=this.image,modelText:r=this.modelText,isFunction:i=this.isFunction}){fa.assert(!this.isReadonly);let o=!1;this.scene!==t&&(this.scene=t,o=!0),this.image!==n&&(this.image=n,this.onImageChanged.dispatch(),o=!0),this.modelText!==r&&(this.modelText=r,o=!0),this.isFunction!==i&&(this.isFunction=i,o=!0),o&&this._notifyContentChanged()}rename(t){if(fa.assert(!this.isReadonly),!t||t===this.name)return;TP(t);const n=t.toUpperCase();if(n!==this.nameUC){const i=this.nameValidator.value?.(t);if(i)throw new s2(i)}const r=this.nameUC;this.name=t,this.nameUC=n,this.onRename.dispatch(this,r),this._notifyContentChanged()}toJSON(){return{name:this.name,id:this.id,date:this.date.toJSON(),vars:Gp(this.vars.allList.map(t=>t.toJSON())),children:Gp(this.children.list.map(t=>t.toJSON())),links:Gp(this.childConnections.list.map(t=>t.toJSON())),description:Ni(this.description),isFunction:Ni(this.isFunction),modelText:Ni(this.modelText),image:this.image,scene:this.scene}}_notifyVarListChanged(){this.onVarListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionListChanged(){this.onConnectionListChanged.dispatch(),this._notifyContentChanged()}_notifyConnectionRemoved(t){this.childConnections._removeConnection(t),this._notifyConnectionListChanged()}_notifyChildListChanged(){this.onChildListChanged.dispatch(),this._notifyContentChanged()}_notifyChildNodeRemoved(t){this.children._removeChild(t),this._notifyChildListChanged()}_notifyContentChanged(){this.file._notifyContentChanged()}}class oye{constructor({apiClient:t,project:n}){this.isSyncing=!1,this.apiClient=t,this.project=n,Ot(this,{isSyncing:Be.ref,sync:Ii})}get changesList(){const{project:t}=this;let n=is(t.libs,r=>r.hasChanges&&r.name);return t.schema.isStateChanged&&(n=["Состояние схемы"].concat(n)),t.isDirty&&(n=["Настройки проекта"].concat(n)),n}*sync(){if(this.isSyncing)return;const{apiClient:t,project:n}=this;n.saveSchemaStateToFile();const r=is(n.libs,o=>{const{vfsLib:s}=o;if(!s.isDirty)return;const l=s.toJSON();return s.setDirtyMarker(!1),[o,l]}),i=Ni(n.isDirty&&n.toRemoteProjectData(!1));n.setDirtyMarker(!1),this.isSyncing=!0;for(const[o,s]of r)try{yield t.updateLibraryIndex(o.id,s)}catch(l){console.error(l),o.vfsLib.setDirtyMarker(!0),console.warn(`Не удалось синхронизировать '${o.name}' (${o.id})`)}if(i){const o=n.libs.map(l=>l.id),s=n.subProjects.map(l=>l.id);try{yield t.updateProject(n.id,{config:i,libIds:o,subprojectIds:s})}catch(l){console.error(l),n.setDirtyMarker(!0),console.warn("Не удалось синхронизировать настройки проекта")}}this.isSyncing=!1}}class Cu{constructor(t){this.value=null,this.kind="own",this.master=null,Ot(this,{value:Be.ref,kind:Be.ref,master:Be.ref})}static{this.stub=new Cu(!0)}_setValue(t,n,r){this.master=n,this.value=t,this.kind=r}_resetValue(){this.value=null}}class a2{constructor(t,n){this._reactKey=_P(),this.ownValue=null,this.varConnections=new Set,this.sharedValueStorage=new Cu,this.onValueChanged=()=>{this.sharedValueStorage._resetValue(),this.schema._notifyValuesChanged()},this.klassVar=t,this.schema=n,t.onValueChanged.add(this.onValueChanged),Ot(this,{sharedValueStorage:Be.ref,ownValue:Be.ref,setOwnValue:Ee,getConnectedVars:!1,getConnections:!1,setDefaultValue:!1,setDescription:!1})}_dispose(){this.klassVar.onValueChanged.remove(this.onValueChanged),this.varConnections.forEach(t=>t._dispose())}get name(){return this.klassVar.name}get type(){return this.klassVar.type}get computedValue(){return this.sharedValueStorage.value}get computedValueKind(){const{sharedValueStorage:t}=this,{master:n}=t;return n===this||n===null?t.kind:this.ownValue===null?"alien":"overwritten"}get defaultValue(){return this.klassVar.value}get description(){return this.klassVar.description}getConnections(){return this.varConnections.values()}_setOwnValue(t){this.klassVar.isValidValue(t)&&(this.ownValue=t)}setOwnValue(t){return t!==null&&!this.klassVar.isValidValue(t)?!1:(this.ownValue=t,this.onValueChanged(),this.schema._notifyStateChanged(),!0)}setDefaultValue(t){return this.klassVar.setValue(t)}setDescription(t){this.klassVar.setDescription(t)}getConnectedVars(t){const n=new Set;return this._getConnectedVars(n),t||n.delete(this),n}_applyDefaultValue(){const{klassVar:t}=this,n=t.value;if(n!==null){this.sharedValueStorage._setValue(n,this,"classDefault");return}if(t.specialValueType==="none")return;let r;switch(t.specialValueType){case"ORGX":r=this.schema.node?.sceneX.toString();break;case"ORGY":r=this.schema.node?.sceneY.toString();break;case"_HOBJECT":{const i=this.schema.node?.key;i&&(r="#"+i);break}case"_OBJNAME":r=this.schema.node?.sceneName;break;case"_CLASSNAME":r=this.schema.klass.name;break}r?this.sharedValueStorage._setValue(r,this,"classSpecial"):this.sharedValueStorage._resetValue()}toString(){return this.name}_applyOwnValue(){const{ownValue:t}=this;t!==null&&this.sharedValueStorage._setValue(t,this,"own")}propagateSharedValueStorage(t){if(this.sharedValueStorage!==t){this.sharedValueStorage=t;for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a).propagateSharedValueStorage(t)}}}_getConnectedVars(t){if(!t.has(this)){t.add(this);for(const n of this.varConnections){if(n.carrier.isDisabled)continue;(this===n.a?n.b:n.a)._getConnectedVars(t)}}}_notifyConnectionCreated(t){this.varConnections.add(t),this.sharedValueStorage=Cu.stub}_notifyConnectionRemoved(t){this.varConnections.delete(t),this.sharedValueStorage=Cu.stub}_notifyConnectionDisabledChanged(){this.sharedValueStorage=Cu.stub}_reduce(){this.sharedValueStorage===Cu.stub&&this.propagateSharedValueStorage(new Cu)}}class sye{constructor(t,n){this.klassVars=t,this.schema=n,this.list=t.list.map(r=>new a2(r,n)),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),Ot(this,{list:Be.ref,get:!1})}get(t){const n=this.klassVars.get(t);return n&&this.map.get(n)||null}_rebuild(){const{list:t}=this,n=new Set(t);this.list=this.klassVars.list.map(r=>{const i=t.find(o=>o.klassVar===r);return i?(n.delete(i),i):new a2(r,this.schema)}),this.map=new WeakMap(this.list.map(r=>[r.klassVar,r])),n.forEach(r=>{r.ownValue!==null&&this.schema._notifyStateChanged(),r._dispose()})}}class aye{constructor(t,n,r,i){this.a=t,this.b=n,this.proto=r,this.carrier=i,this.isBroken=!0}}class lye{constructor(t,n,r,i){this.a=t,this.b=n,this.proto=r,this.carrier=i,this.isBroken=!1,t._notifyConnectionCreated(this),n._notifyConnectionCreated(this)}_dispose(){this.a._notifyConnectionRemoved(this),this.b._notifyConnectionRemoved(this)}}class l2{constructor(t,n,r,i){this.aPadKey=0,this.bPadKey=0,this.nestedConnections=[],this.onNestedConnectionsChanged=()=>{this.parent._notifyConnectionChanged(this)},this.onDisabledChanged=()=>{this.nestedConnections.forEach(o=>{o.isBroken||(o.a._notifyConnectionDisabledChanged(),o.b._notifyConnectionDisabledChanged())}),this.parent._notifyConnectionDisabledChanged()},this.parent=i,this.a=t,this.b=n,this.proto=r,typeof r.a=="number"&&(this.aPadKey=r.a),typeof r.b=="number"&&(this.bPadKey=r.b),this._rebuildNestedConnections(),this.proto.onNestedConnectionsChanged.add(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.add(this.onDisabledChanged),Ot(this,{nestedConnections:Be.ref,setDisabled:!1,remove:!1})}_dispose(){this.proto.onNestedConnectionsChanged.remove(this.onNestedConnectionsChanged),this.proto.onDisabledChanged.remove(this.onDisabledChanged),this.nestedConnections.forEach(t=>!t.isBroken&&t._dispose())}get key(){return this.proto.key}get attrib(){return this.proto.attrib}get isDisabled(){return this.proto.isDisabled}setDisabled(t){this.proto.setDisabled(t)}remove(){this.proto.remove()}_rebuildNestedConnections(){const{nestedConnections:t,a:n,b:r}=this,i=new Set(t);this.nestedConnections=this.proto.nestedConnections.map(o=>{const s=t.find(h=>h.proto===o);if(s)return i.delete(s),s;const l=n.vars.get(o.a),c=r.vars.get(o.b);return l&&c&&l.klassVar.type===c.klassVar.type?new lye(l,c,o,this):new aye(l||o.a,c||o.b,o,this)}),i.forEach(o=>!o.isBroken&&o._dispose())}}class cye{constructor(t){this.parent=t,this.list=[],this._rebuild()}_create(t,n,r){const i=new l2(t,n,r,this.parent);return this.list=this.list.concat(i),i}_rebuild(){const{list:t,parent:n}=this,{klass:r}=n,i=n.children.list,o=new Set(t);this.list=r.childConnections.list.map(s=>{const l=t.find(g=>g.proto===s);if(l)return o.delete(l),l;const{a:c,b:u}=s,h=typeof c=="number"?n:i.find(g=>g.node===c),p=typeof u=="number"?n:i.find(g=>g.node===u);if(!h||!p)throw Error("Неизвестная ошибка (schema.ts)");return new l2(h,p,s,n)}),o.forEach(s=>s._dispose())}}class uye{constructor(t,n){this.parent=t,this.library=n,this.list=[],this._rebuild(),Ot(this,{list:Be.ref,get:!1})}get(t){return this.list.find(n=>n.key===t)||null}_create(t,n,r=null){const i=new _b(t,this.library,r,n,this.parent);return this.list=this.list.concat(i),i}_setOrder(t){this.list=t}_rebuild(t){const{library:n,list:r,parent:i}=this,o=new Set(r);this.list=i.klass.children.list.map(s=>{const l=r.find(u=>u.node===s);if(l)return o.delete(l),l;const c=n.getByNode(s);if(!c)throw Error(`Имидж '${s.klassName}' не существует`);return new _b(c,n,null,s,i)}),o.forEach(s=>s._dispose(t))}}class dye{constructor(t){this.root=t,this.onDescendantsDeleted=new vi,this.changedNestedConns=new Set,this.changedVars=new Set,this.changedChildren=new Set,this.changedConnections=new Set,this._needReduce=!0,this._needReapplyValues=!0,this._stateChanged=!1,Ot(this,{_stateChanged:Be.ref})}rebuild(){const{changedChildren:t,changedConnections:n,changedVars:r,changedNestedConns:i}=this;if(r.size&&(this._needReduce=!0,r.forEach(o=>o._rebuild()),r.clear()),i.size&&(this._needReduce=!0,i.forEach(o=>o._rebuildNestedConnections()),i.clear()),t.size){this._needReduce=!0;const o=new Set;t.forEach(s=>s._rebuild(o)),t.clear(),o.size&&this.onDescendantsDeleted.dispatch(o)}n.size&&(this._needReduce=!0,n.forEach(o=>o._rebuild()),n.clear()),this._needReduce&&(this._needReapplyValues=!0,this.root._reduceVars(),this._needReduce=!1),this._needReapplyValues&&(this.root._applyDefaultValues(),this.root._applyOwnValues(),this._needReapplyValues=!1)}}class _b{constructor(t,n,r,i=null,o=null){this.itemId=Jv(),this.canCreateChild=!0,this.canCreateConnection=!0,this.canReorderChildren=!0,this.onSpecialValueChanged=()=>{this.root._needReapplyValues=!0},this.onVarListChanged=()=>{const{node:s}=this;s&&(this.klass.vars.list.some(({specialValueType:l})=>l!=="none"&&l!=="_HOBJECT")?s.onSpecialValueChanged.add(this.onSpecialValueChanged):s.onSpecialValueChanged.remove(this.onSpecialValueChanged)),this.root.changedVars.add(this.vars)},this.onConnectionListChanged=()=>{this.root.changedConnections.add(this.childConnections)},this.onChildListChanged=()=>{this.root.changedChildren.add(this.children),this.root._needReapplyValues=!0},this.isFake=o&&o.isFake||r&&"isFake"in r||!1,this.klass=t,this.library=n,this.node=i,this.parent=o,this.root=o?.root||new dye(this),this.vars=new sye(t.vars,this),this.children=new uye(this,n),this.childConnections=new cye(this),i&&t.vars.list.some(({specialValueType:s})=>s!=="none"&&s!=="_HOBJECT")&&i.onSpecialValueChanged.add(this.onSpecialValueChanged),t.onVarListChanged.add(this.onVarListChanged),t.onConnectionListChanged.add(this.onConnectionListChanged),t.onChildListChanged.add(this.onChildListChanged),r&&!("isFake"in r)&&(this.setState(r),o&&(this.root._stateChanged=!0)),o||this.root.rebuild(),Ot(this,{createChild:Ee,createConnection:Ee,reorderChildren:Ee,remove:Ee,applyChanges:Ee,markStateUnchanged:Ee,getState:!1,hasAncestor:!1,resolveKlass:!1,hasNode:!1})}_dispose(t){this.children.list.forEach(r=>r._dispose(t));const{klass:n}=this;this.node?.onSpecialValueChanged.remove(this.onSpecialValueChanged),n.onVarListChanged.remove(this.onVarListChanged),n.onConnectionListChanged.remove(this.onConnectionListChanged),n.onChildListChanged.remove(this.onChildListChanged),this.vars.list.forEach(r=>r._dispose()),this.childConnections.list.forEach(r=>r._dispose()),t.add(this)}get name(){return this.klass.name}get key(){return this.node?.key||0}get isStateChanged(){return this.root._stateChanged}get onDescendantsDeleted(){return this.root.onDescendantsDeleted}getState(t){const n=is(this.children.list,i=>i.getState()),r=is(this.vars.list,i=>i.ownValue!==null&&{name:i.klassVar.name,value:i.ownValue});return!t&&!n.length&&!r.length?null:{key:this.key,klass:this.klass.name,klassId:this.klass.id,values:Gp(r),children:Gp(n)}}resolveKlass(t){return this.library.getByUuid(t)}hasAncestor(t){return this.klass===t||this.parent?.hasAncestor(t)||!1}createChild(t,n,r){if(this.hasAncestor(t))throw Error(`Невозможно добавить '${t.name}' в схему: рекурсивная зависимость`);const i={klass:t.name,klassId:t.id,key:n.key,name:n.name,x:n.x,y:n.y},o=this.klass.children.create(i);return this.children._create(t,o,r)}createConnection(t,n,{key:r,aPadKey:i=0,bPadKey:o=0,vars:s,attrib:l}){const c=this===t?i:t.node,u=this===n?o:n.node;if(typeof c!="number"&&t.parent!==this||typeof u!="number"&&n.parent!==this)throw Error("Связь должна существовать в пределах одной схемы");const h=this.klass.childConnections.create(c,u,{key:r,vars:s,attrib:l});return this.childConnections._create(t,n,h)}reorderChildren(t){this.klass.children.reorder(t.map(n=>n.node)),this.children._setOrder(t)}remove(){if(!this.node)throw Error("Невозможно удалить корень схемы");this.node.remove()}applyChanges(){this.root.rebuild()}hasNode(t){return this.root===t.root}toString(){return this.key?`${this.klass.name} #${this.key}`:this.klass.name}markStateUnchanged(){this.root._stateChanged=!1}_notifyStateChanged(){this.root._stateChanged=!0}_notifyValuesChanged(){this.root._needReapplyValues=!0}_notifyConnectionDisabledChanged(){this.root._needReduce=!0}_notifyConnectionChanged(t){this.root.changedNestedConns.add(t)}setState(t){const{values:n,klassId:r}=t;if(n?.length&&this.klass.id===r){const{vars:i}=this;n.forEach(o=>i.get(o.name)?._setOwnValue(o.value))}t.children?.forEach(i=>this.children.get(i.key)?.setState(i))}_reduceVars(){this.children.list.forEach(t=>t._reduceVars()),this.vars.list.forEach(t=>t._reduce())}_applyDefaultValues(){this.children.list.forEach(t=>t._applyDefaultValues()),this.vars.list.forEach(t=>t._applyDefaultValue())}_applyOwnValues(){this.vars.list.forEach(t=>t._applyOwnValue()),this.children.list.forEach(t=>t._applyOwnValues())}}class hye{constructor(t,n){this.tabs=t,this.item=n,Ot(this,{close:Ee})}get _reactKey(){return this.item.editor._reactKey}get editor(){return this.item.editor}close(){const{editor:t}=this.item;return t.hasChanges&&!window.confirm(`${t.title} содержит несохраненные изменения. Все равно закрыть?`)?!1:(this.item.close(),this.tabs._notifyTabClosed(this),!0)}}class fye{constructor(){this.tabs=[],this.currentTab=null,this.tabHistory=[],Ot(this,{currentTab:Be.ref,tabs:Be.ref,addTab:Ee,setCurrentTab:Ee,reorderTabs:Ee})}addTab(t){const n=this.tabs.find(i=>i.item===t);if(n)return this.setCurrentTab(n),!1;const r=new hye(this,t);return this.tabs=this.tabs.concat(r),this.tabHistory.push(r),this.currentTab=r,!0}setCurrentTab(t){this.currentTab!==t&&(this.currentTab=t,this.tabHistory=this.tabHistory.filter(n=>n!==t).concat(t))}reorderTabs(t){this.tabs=t}_notifyTabClosed(t){this.tabs=this.tabs.filter(n=>n!==t),this.tabHistory=this.tabHistory.filter(n=>n!==t),this.currentTab===t&&(this.currentTab=this.tabHistory.at(-1)||null)}}class Bg extends os{constructor(t){super(`${t.type==="file"?"Файл":"Каталог"} '${t.name}' уже существует в этом каталоге`)}}class yf extends os{constructor(t){super(`'${t.path}' доступен только для чтения`)}}class c2 extends os{constructor(){super("Не задано имя файл или каталога")}}class pye{constructor(t,n,r){this.type="file",this.itemId=Jv(),this.isDeleted=!1,this.onRemoved=new vi(!0),this.name=t,this.nameUC=t.toUpperCase(),this.parent=r,this.size=n.size||0,this.klass=n.cls?new iye(this,n.cls):null,this.stt=n.stt?new yye(this,n.stt):null,this.scene=n.scene?new vye(this,n.scene):null,this.matrix=n.mat?new mye(this,n.mat):null,this.binary=typeof n.base64=="string"?new gye(this,n.base64,this.size):null,this.image=n.image||null,this.video=n.video||null,this.audio=n.audio||null,this.ttf=n.ttf||null,this.cursor=n.cursor||null,this.mesh=n.mesh||null,Ot(this,{isDeleted:Be.ref,name:Be.ref,nameUC:Be.ref,parent:Be.ref,rename:Ee,remove:Ee,toJSON:!1})}get isPrjFile(){return this.parent.lib.vfs.projectFile===this}get lib(){return this.parent.lib}get path(){return this.parent.path+"/"+this.name}get isReadonly(){return this.parent.isReadonly}get canEdit(){return!this.isReadonly}get hasRelativePath(){return!this.lib.isDefault}rename(t){if(!this.canEdit)throw new yf(this);if(t=mP(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent.getEntry(n);if(r)throw new Bg(r);this.nameUC=n}this.name=t,this.parent._notifyFileRenamed(),this._notifyContentChanged()}remove(){if(!this.canEdit)throw new yf(this);this.parent._notifyFileRemoved(this),this._remove()}toJSON(){const{image:t,video:n,cursor:r,stt:i,binary:o,scene:s,klass:l,audio:c,matrix:u,ttf:h,mesh:p}=this;return{size:o?.byteLength??Ni(this.size),cls:l?.toJSON(),image:t,scene:s?.data,video:n,cursor:r,stt:i?.data,base64:o?.base64,audio:c,mat:u?.data,ttf:h,mesh:p}}_notifyParentDeleted(){this._remove()}_notifyParentChanged(t){this.parent=t}_notifyContentChanged(){this.lib._notifyFilesChanged()}_remove(){this.isDeleted=!0,this._notifyContentChanged(),this.onRemoved.dispatch(this)}}class gye{constructor(t,n,r){this._data=null,this.file=t,this.isTextFile=/\.(txt|json|config)$/i.test(t.name),this.byteLength=r,this._base64=n,Ot(this,{byteLength:Be.ref,setData:Ee})}get data(){return this._data||(this._data=Xv(this._base64)),this._data}get base64(){if(!this._base64){const{_data:t}=this;return this._base64=t?Yv(t):""}return this._base64}setData(t){this._data=t,this._base64="",this.byteLength=t.byteLength,this.file._notifyContentChanged()}}class mye{constructor(t,n){this.file=t,this.data=n,Ot(this,{data:!1,setData:Ee})}setData(t){this.data=t,this.file._notifyContentChanged()}}class vye{constructor(t,n){this.file=t,this.data=n,Ot(this,{data:Be.ref,setData:Ee})}setData(t){this.data=t,this.file._notifyContentChanged()}}class yye{constructor(t,n){this.file=t,this.data=n,Ot(this,{data:!1,setData:Ee})}setData(t){this.data=t,this.file._notifyContentChanged()}}class Eb{constructor(t,n){this.dirs=[],this.files=[],this.isSearchDir=!1,this.isDeleted=!1,this.type="dir",this.itemId=Jv(),this.name=t,this.nameUC=t.toUpperCase(),this.parent=n instanceof Eb?n:null,this.lib=n instanceof u2?n:n.lib,Ot(this,{name:Be.ref,nameUC:Be.ref,isDeleted:Be.ref,parent:Be.ref,lib:Be.ref,dirs:Be.ref,files:Be.ref,isSearchDir:Be.ref,rename:Ee,remove:Ee,insertEntry:Ee,createDir:Ee,createFile:Ee,setSearchDirMarker:Ee,getDir:!1,getEntry:!1,getFile:!1,hasAncestor:!1,recursive:!1,resolveDir:!1,resolveFile:!1})}get path(){const{parent:t}=this;return t?t.path+"/"+this.name:this.name}get isReadonly(){return this.lib.isReadonly}get canCreateFiles(){return!this.isReadonly}get isProjectRootDir(){return this.lib.vfs.projectRootDir===this}get canEdit(){return!!this.parent&&!this.isReadonly}get canAddToSearchDir(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasRelativePath(){return!this.lib.isDefault&&!this.isProjectRootDir}get hasFiles(){return this.files.length>0||this.dirs.some(t=>t.hasFiles)}rename(t){if(!this.canEdit)throw new yf(this);if(t=mP(t),!t||this.name===t)return;const n=t.toUpperCase();if(this.nameUC!==n){const r=this.parent?.getEntry(n);if(r)throw new Bg(r);this.nameUC=n}this.name=t,this.parent?._notifyDirRenamed(),this.hasFiles&&this.lib._notifyFilesChanged()}remove(){if(!this.parent||this.isReadonly)throw new yf(this);this.parent._notifyDirRemoved(this);const t=new Set;this.removeRecursive(t),this.lib.vfs._notifyDirsRemoved(t)}insertEntry(t){if(!t.parent||t.parent===this)return;if(!this.canCreateFiles)throw new yf(this);if(!t.canEdit)throw new yf(t);const n=this.getEntry(t.name);if(n)throw new Bg(n);const r=t.type==="file"||t.hasFiles;r&&t.lib._notifyFilesChanged(),t.type==="file"?(t.parent._notifyFileRemoved(t),this.files=this.files.concat(t).sort(Dd)):(t.parent._notifyDirRemoved(t),this.dirs=this.dirs.concat(t).sort(Dd)),t._notifyParentChanged(this),r&&this.lib._notifyFilesChanged(),this.lib.vfs._notifyEntriesMoved()}createDir(t){if(!t)throw new c2;const n=this.getEntry(t);if(n){if(n.type==="dir")return n;throw new Bg(n)}const r=new Eb(t,this);return this.dirs=this.dirs.concat(r).sort(Dd),r}createFile(t,n){const r=this._createFile(t,n);return this.lib._notifyFilesChanged(),r}setSearchDirMarker(t){this.isSearchDir=t}getDir(t){const n=t.toUpperCase();return this.dirs.find(r=>r.nameUC===n)||null}getFile(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||null}getEntry(t){const n=t.toUpperCase();return this.files.find(r=>r.nameUC===n)||this.dirs.find(r=>r.nameUC===n)||null}resolveDir(t){if(!t)return this;const n=t.split("/");let r=this;for(let i=0;i<n.length;++i){const o=r.getDir(n[i]);if(!o)return null;r=o}return r}resolveFile(t){if(!t)return null;const n=t.lastIndexOf("/");return n<0?this.getFile(t):this.resolveDir(t.slice(0,n))?.resolveFile(t.slice(n+1))||null}_createFile(t,n){if(!t)throw new c2;const r=this.getEntry(t);if(r)throw new Bg(r);const i=new pye(t,n,this);return this.files=this.files.concat(i).sort(Dd),i}_notifyDirRemoved(t){this.dirs=this.dirs.filter(n=>n!==t)}_notifyFileRemoved(t){this.files=this.files.filter(n=>n!==t)}_notifyDirRenamed(){this.dirs=this.dirs.slice().sort(Dd)}_notifyFileRenamed(){this.files=this.files.slice().sort(Dd)}_notifyParentChanged(t){this.parent=t,this.lib!==t.lib&&this.updateTreeAndLibRecursive(t.lib)}updateTreeAndLibRecursive(t){this.lib=t,this.dirs.forEach(n=>n.updateTreeAndLibRecursive(t))}removeRecursive(t){this.isDeleted=!0,t.add(this),this.dirs.forEach(n=>n.removeRecursive(t)),this.files.forEach(n=>n._notifyParentDeleted()),this.dirs=[],this.files=[]}hasAncestor(t){return this===t||this.parent?.hasAncestor(t)||!1}*recursive(){for(const t of this.dirs)yield*t.recursive();for(const t of this.files)yield t}}class u2{constructor(t,n,{isDefault:r=!1,isReadonly:i=!1}={}){this.isDirty=!1,this.vfs=t,this.isDefault=r,this.isReadonly=r||i,this.rootDir=new Eb(n,this),Ot(this,{isDirty:Be.ref,setDirtyMarker:Ee,toJSON:!1})}setDirtyMarker(t){this.isDirty=t}toJSON(){function t(n,r="",i=[]){for(const o of n.dirs)t(o,r+o.name+"/",i);for(const o of n.files){const s=r+o.name;i.push({path:s,...o.toJSON()})}return i}return{version:RP,files:t(this.rootDir)}}_notifyFilesChanged(){this.isDirty=!0}}class bye{constructor(){this.libs=[],this.projectFile=null,this.onDirsRemoved=new vi,this.onEntriesMoved=new vi,Ot(this,{libs:Be.ref,projectFile:!1,createLibrary:Ee,resolveDir:!1,resolveFile:!1,setProjectFile:!1})}get projectRootDir(){return this.projectFile?.parent||null}setProjectFile(t){this.projectFile=t}createLibrary(t,{files:n},r){const i=new u2(this,t,r);for(const o of n){const s=o.path.split("/");let l=i.rootDir;for(let c=0;c<s.length-1;++c)l=l.createDir(s[c]);l._createFile(s[s.length-1],o)}return this.libs=this.libs.concat(i),i}resolveDir(t){const n=this.getRootDir(t);return n&&n.resolveDir(t.slice(n.name.length+1))}resolveFile(t){const n=this.getRootDir(t);return n&&n.resolveFile(t.slice(n.name.length+1))}_notifyDirsRemoved(t){this.onDirsRemoved.dispatch(t)}_notifyEntriesMoved(){this.onEntriesMoved.dispatch()}getRootDir(t){const n=t.toUpperCase();let r=null;for(const i of this.libs){const{rootDir:o}=i;n.startsWith(o.nameUC)&&(!r||r.name.length<o.name.length)&&(r=o)}return r}}class wye{constructor(){this.type="all",this.text="",this.textUC="",Ot(this,{textUC:Be.ref,type:Be.ref,text:Be.ref,isActive:yi,setType:Ee,setText:Ee,isFilePassing:!1})}get isActive(){const{type:t,text:n}=this;return t!=="all"||n.length>1}setType(t){this.type=t}setText(t){this.text=t,this.textUC=t.toUpperCase()}isFilePassing(t){const{type:n,textUC:r}=this,i=n==="all"||n==="klass"&&!!t.klass||n==="image"&&!!t.image,o=!r||(t.klass?t.klass.nameUC+" "+t.nameUC:t.nameUC).includes(r);return i&&o}isDirPassing(t){return t.dirs.some(n=>this.isDirPassing(n))||t.files.some(n=>this.isFilePassing(n))}}const Sye=7,Cye=9,xye=10,_ye=0,Eye=1,Tye=3;class Mye extends ZV{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Nd(t)||""),this._cssColor}getGlobalCompositeOperation(){switch(this.rop){case Cye:return"multiply";case xye:return"multiply";case Sye:return"difference";default:return""}}getFillStyle(t){switch(this.style){case _ye:return this.getCssColor();case Eye:return null;case Tye:return this.image?.getCanvasPattern(t)??"black";default:return"white"}}_onImageChanged(){this.subs.forEach(t=>t._onBrushPropsChanged())}}class Oye extends QV{constructor(){super(...arguments),this.inputCssFont=""}getInputCssFont(){if(this.inputCssFont)return this.inputCssFont;const{fontFamily:t,actualSize:n,style:r}=this;return this.inputCssFont=`${r&Jp?"bold":"normal"} ${r&ly?"italic":"normal"} ${Math.round(n*.6)}px ${t}`}transformText(t){return this.name==="Symbol"?j0(t):t}onPropsChanged(){this.inputCssFont=""}}const d2=new Map,h2=new Map;async function Rye(e){const t=await H0(e),n=await createImageBitmap(t);return h2.set(e,n),n}class Iye{constructor(t){this.shouldUpdateCanvas=!1;const n=Qh(t.width,t.height),r=n.getContext("2d",{alpha:!1});r.drawImage(t,0,0),this.imageCtx=r,this.imageData=r.getImageData(0,0,n.width,n.height)}getCanvasImageSource(){const{imageCtx:t}=this;return this.shouldUpdateCanvas&&(this.shouldUpdateCanvas=!1,t.putImageData(this.imageData,0,0)),t.canvas}getPixel(t,n){const{imageData:r}=this;if(t<0||n<0||t>=r.width||n>=r.height)return 0;const{data:i}=r,o=(Math.floor(n)*r.width+Math.floor(t))*4;return nl(i[o],i[o+1],i[o+2],"rgb")}setPixel(t,n,r){const i=this.imageData,{data:o}=i,s=(Math.floor(n)*i.width+Math.floor(t))*4;o[s+0]=$P(r),o[s+1]=zP(r),o[s+2]=UP(r),o[s+3]=255,this.shouldUpdateCanvas=!0}}class kye extends JV{constructor(t,n,r){super(t,n,r),this.patternCache=new WeakMap,this.imageBitmap=null,this.pixelsWrapper=null;const i=Ls(this.src),o=h2.get(i);if(o){this.imageBitmap=o;return}let s=d2.get(i);s||(s=Rye(i),d2.set(i,s)),s.then(l=>{this.imageBitmap=l,this.subs.forEach(c=>c._onImageChanged())})}getPixelsWrapper(){if(this.pixelsWrapper)return this.pixelsWrapper;const{imageBitmap:t}=this;return t?this.pixelsWrapper=new Iye(t):null}getPixel(t,n){return this.getPixelsWrapper()?.getPixel(t,n)||0}setPixel(t,n,r){if(t<0||n<0||t>this.width||n>this.height)return!1;const i=this.getPixelsWrapper();return i&&(i.setPixel(t,n,r),this.subs.forEach(o=>o._onImageChanged())),!0}getCanvasPattern(t){const n=this.getCanvasImageSource();if(!n)return null;const r=this.patternCache.get(t);if(r)return r;const i=t.createPattern(n,"repeat");return i?(this.patternCache.set(t,i),i):null}getCanvasImageSource(){return this.pixelsWrapper?.getCanvasImageSource()||this.imageBitmap}}class Pye extends e3{constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,area:i,width:o,height:s}=this,{width:l,height:c}=t.canvas;let u=Math.round(this.x-n.x),h=Math.round(this.y-n.y);if(r){const y=Math.cos(r),b=Math.sin(r),v=o*y,S=o*b,E=v-s*b,T=S+s*y,O=-s*b,M=s*y,I=u+Math.min(0,v,E,O),N=u+Math.max(0,v,E,O),D=h+Math.min(0,S,T,M),L=h+Math.max(0,S,T,M);if(I>l||D>c||N<0||L<0)return}else if(u>l||h>c||u+o<0||h+s<0)return;const p=this.isVisible()&&this.image.getCanvasImageSource();if(!p)return;r&&(t.save(),t.translate(u,h),t.rotate(r),u=0,h=0);const g=Math.round(this.width),m=Math.round(this.height);if(i){const{image:y}=this,b=Math.round(i.x),v=Math.round(i.y),S=Math.round(Math.min(i.w,y.width-i.x)),E=Math.round(Math.min(i.h,y.height-i.y));t.drawImage(p,b,v,S,E,u,h,g,m)}else t.drawImage(p,u,h,g,m);r&&t.restore()}onAttribChanged(){this.scene._setDirty()}_onImageChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}const xu={"jf-scene":"yNr0VPwT","jf-input":"doAE-L2e","jf-video":"_8PHlccAK","disable-inputs":"k7TCS6Hm",multiline:"-QksePcc",centered:"ZFAGmpo5",border:"GnGoYW5X"},Dye=1,Aye=64,Lye=128,Nye=8388608;class Bye extends t3{constructor(t,n,r){super(t,n,r),this._visible=!0,this._cssFont="",this._value="",this._x=0,this._y=0,this._w=0,this._h=0;const{style:i=0}=r;let o;switch(n){case"Button":o=document.createElement("input"),o.type="button",o.addEventListener("click",this);break;case"ComboBox":case"ListBox":o=document.createElement("select"),o.addEventListener("input",this);break;default:o=document.createElement("textarea"),o.addEventListener("input",this);break}o.className=xu["jf-input"],o.spellcheck=!1,o.name=`jf-${this.key}`,i&Nye&&o.classList.add(xu.border),i&Dye&&o.classList.add(xu.centered),this.isMultiline&&o.classList.add(xu.multiline),o.addEventListener("focus",this),o.addEventListener("blur",this),this.domElement=o,this.scene._appendDomElement(o)}focus(){this.domElement.focus()}handleEvent(t){const{scene:n,domElement:r,style:i}=this;if(t.type==="input"){if(!(i&Lye)&&r.scrollWidth>r.clientWidth){r.value=this.value;return}if(this.isMultiline){if(!(i&Aye)&&r.scrollHeight>r.clientHeight){r.value=this.value;return}}else r.value=r.value.replace(/[\r\n]/g,"");this.value=this._value=r.value}n.onInputChanged.dispatch({type:t.type,scene:n,target:this})}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=this.font?.getInputCssFont()||"";this._cssFont!==r&&(this._cssFont=r,r?n.font=r:n.removeProperty("font")),this._value!==this.value&&(this.domElement.value=this._value=this.value);const i=Math.round(this.x-this.scene.x),o=Math.round(this.y-this.scene.y),s=Math.round(this.width),l=Math.round(this.height);this._x!==i&&n.setProperty("left",(this._x=i).toString()+"px"),this._y!==o&&n.setProperty("top",(this._y=o).toString()+"px"),this._w!==s&&n.setProperty("width",(this._w=s).toString()+"px"),this._h!==l&&n.setProperty("height",(this._h=l).toString()+"px")}delete(t){return this.domElement.remove(),super.delete(t)}onAttribChanged(){this.scene._setDirty()}_onFontPropsChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}class Fye extends n3{constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.sourceOffset=0,this.regionWidth=0,this.regionHeight=0;const i=Qh(0,0);this.lineCtx=i.getContext("2d",{alpha:!0})}updateRegionSize(){const t=Math.max((this.pen?.getLineWidth()||0)/2,this.start?.length||0,this.end?.length||0);this.sourceOffset=t,this.regionWidth=Math.ceil(this.width+t*2),this.regionHeight=Math.ceil(this.height+t*2)}getCanvasImageSource(){const{regionWidth:t,regionHeight:n}=this;if(!t||!n)return null;if(!this.shouldUpdateSource){const u=this.lineCtx.canvas;return u.width&&u.height?u:null}this.shouldUpdateSource=!1;const{coords:r,pen:i,brush:o,lineCtx:s,sourceOffset:l}=this;s.canvas.width=t,s.canvas.height=n,l&&s.translate(l,l),s.moveTo(r[0],r[1]);for(let u=2;u<r.length;u+=2)s.lineTo(r[u],r[u+1]);if(o&&r.length>4){s.closePath();const u=o.getFillStyle(s);u&&(s.fillStyle=u,s.fill("evenodd"))}const c=i&&i.getStrokeStyle();if(c){if(!o&&r.length>2){const{start:h,end:p}=this;if(h){const g=r[3],m=r[2],y=r[1],b=r[0],v=h.length,S=Math.atan2(y-g,b-m),E=S+h.angle,T=S-h.angle;s.moveTo(b,y),s.lineTo(b-v*Math.cos(E),y-v*Math.sin(E)),s.moveTo(b,y),s.lineTo(b-v*Math.cos(T),y-v*Math.sin(T))}if(p){const g=r[r.length-4],m=r[r.length-3],y=r[r.length-2],b=r[r.length-1],v=p.length,S=Math.atan2(b-m,y-g),E=S+p.angle,T=S-p.angle;s.moveTo(y,b),s.lineTo(y-v*Math.cos(E),b-v*Math.sin(E)),s.moveTo(y,b),s.lineTo(y-v*Math.cos(T),b-v*Math.sin(T))}}s.lineCap="round",s.lineJoin="round",s.lineWidth=i.getLineWidth(),s.strokeStyle=c;const u=i.getLineDash();u&&s.setLineDash(u),s.stroke()}return s.canvas}_render(t){this.updateRegionSize();const{scene:n,sourceOffset:r,regionWidth:i,regionHeight:o}=this,{width:s,height:l}=t.canvas,c=Math.round(this.x-n.x-r),u=Math.round(this.y-n.y-r);if(c>s||u>l||c+i<0||u+o<0)return;const h=this.isVisible()&&this.getCanvasImageSource();if(!h)return;const p=(this.brush?this.brush.getGlobalCompositeOperation():this.pen?.getGlobalCompositeOperation())||"";p?(t.globalCompositeOperation=p,t.drawImage(h,c,u),t.globalCompositeOperation="source-over"):t.drawImage(h,c,u)}onCoordsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}onPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}_onPenPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}_onBrushPropsChanged(){this.shouldUpdateSource=!0,this.scene._setDirty()}onAttribChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}const jye=0,Vye=1,$ye=2,zye=3,Uye=4,Hye=5,Gye=9,Wye=10,Kye=7,qye=[16,4],Yye=[2,4],Xye=[16,4,2,4],Zye=[16,4,2,4,2,4];class Qye extends a3{constructor(){super(...arguments),this._color=NaN,this._cssColor=""}getCssColor(){const{color:t}=this;return this._color!==t&&(this._color=t,this._cssColor=Nd(t)||""),this._cssColor}getLineWidth(){return Math.max(Math.round(this.width),1)}getGlobalCompositeOperation(){switch(this.rop){case Gye:return"multiply";case Wye:return"multiply";case Kye:return"difference";default:return""}}getStrokeStyle(){return this.style!==Hye?this.getCssColor():""}getLineDash(){switch(this.style){case jye:return null;case Vye:return qye;case $ye:return Yye;case zye:return Xye;case Uye:return Zye;default:return null}}}class Jye extends l3{constructor(){super(...arguments),this._text="",this.fragments=[""]}getLines(){const{text:t}=this;return this._text!==t&&(this._text=t,this.fragments=t.split(/\r\n|\n/)),this.fragments}}const ebe=1.15,tbe=.989,f2=Qh(0,0).getContext("2d",{alpha:!1});class nbe extends c3{constructor(t,n){super(t,n),this.textFragments=null,this._fgColor=NaN,this._bgColor=NaN,this.fontCssColor="",this.bgCssColor=""}getTextFragments(){const{fontFamily:t,actualSize:n,style:r}=this.font,i=this.string.getLines(),o=r&ly?"italic":"normal",l=`${r&Jp?"bold":"normal"} ${o} ${n}px ${t}`,{textFragments:c}=this;if(c&&c.cssFont===l&&c.textLines===i)return c;f2.font=l;const u=n*ebe,h=[];return i.forEach((p,g)=>{if(g>0&&h.push({text:`
`,width:0,height:u}),p){const m=this.font.transformText(p);h.push({width:f2.measureText(m).width,height:u,text:m})}else h.push({width:0,height:u,text:""})}),this.textFragments={cssFont:l,fragments:h,textLines:i}}getFontCssColor(){const{fgcolor:t}=this;return this._fgColor!==t&&(this._fgColor=t,this.fontCssColor=Nd(t)||"black"),this.fontCssColor}getBgCssColor(){const{bgcolor:t}=this;return this._bgColor!==t&&(this._bgColor=t,this.bgCssColor=Nd(t)||""),this.bgCssColor}_onFontPropsChanged(){this.text._onGeometryChanged()}_onStringTextChanged(){this.text._onGeometryChanged()}onPropsChanged(t,n){t&&this.text._onGeometryChanged(),n&&this.text._onColorsChanged()}}class rbe extends u3{constructor(t,n,r){super(t,n,r),this.shouldUpdateSource=!0,this.maxWidth=0,this.maxHeight=0,this._parts=null;const i=Qh(0,0);this.textCtx=i.getContext("2d",{alpha:!0})}get width(){return this.updateMetrics(),this.maxWidth}get height(){return this.updateMetrics(),this.maxHeight}updateMetrics(){const{parts:t}=this;if(this._parts===t)return;this._parts=t,this.shouldUpdateSource=!0;let n=0,r=0,i=0,o=0;for(const s of t)for(const l of s.getTextFragments().fragments){if(o=Math.max(o,l.height),l.text===`
`){r+=o,n=Math.max(n,i),i=0,o=0;continue}i+=l.width}r+=o,n=Math.max(n,i),this.maxWidth=Math.floor(n),this.maxHeight=Math.floor(r)}getCanvasImageSource(){const{textCtx:t}=this;this.updateMetrics();const{maxWidth:n,maxHeight:r}=this;if(!n||!r)return null;if(!this.shouldUpdateSource){const l=t.canvas;return l.width&&l.height?l:null}this.shouldUpdateSource=!1,t.canvas.width=Math.round(n),t.canvas.height=Math.round(r+2),t.textAlign="left",t.textBaseline="alphabetic",t.scale(tbe,1);let i=0,o=0,s=0;for(const l of this.parts){const{fragments:c,cssFont:u}=l.getTextFragments(),{style:h}=l.font,p=l.getFontCssColor(),g=l.getBgCssColor(),m=h&HP,y=h&GP;t.font=u;for(const{text:b,width:v,height:S}of c){if(s=Math.max(s,S),b===`
`){o+=s,i=0,s=0;continue}if(b){const E=Math.round(i),T=Math.round(o+S*.85);if(g){t.fillStyle=g;const M=Math.round(o);t.fillRect(E,M,Math.round(v),Math.round(S))}t.fillStyle=p,t.fillText(b,E,T);const O=Math.max(1,S/10);if(m){const M=Math.round(o+S-O);t.fillRect(E,M,Math.round(v),Math.round(O))}if(y){const M=Math.round(o+S*.55);t.fillRect(E,M,Math.round(v),Math.round(O))}}i+=v}}return t.canvas}_createPart(t){return new nbe(this,t)}_onGeometryChanged(){this._parts=null}_onColorsChanged(){this.shouldUpdateSource=!0}}class ibe extends d3{constructor(t,n,r){super(t,n,r)}_render(t){const{scene:n,angle:r,width:i,height:o}=this,{width:s,height:l}=t.canvas;let c=Math.round(this.x-n.x),u=Math.round(this.y-n.y);if(r){const m=Math.cos(r),y=Math.sin(r),b=i*m,v=i*y,S=b-o*y,E=v+o*m,T=-o*y,O=o*m,M=c+Math.min(0,b,S,T),I=c+Math.max(0,b,S,T),N=u+Math.min(0,v,E,O),D=u+Math.max(0,v,E,O);if(M>s||N>l||I<0||D<0)return}else if(c>s||u>l||c+i<0||u+o<0)return;const h=this.isVisible()&&this.text.getCanvasImageSource();if(!h)return;r&&(t.save(),t.translate(c,u),t.rotate(r),c=0,u=0);const p=Math.round(this.width*1.02),g=Math.round(this.height)+2;t.drawImage(h,0,0,p,g,c,u,p,g),r&&t.restore()}onAttribChanged(){this.scene._setDirty()}onPropsChanged(){this.scene._setDirty()}_onTextPartsChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}class obe{constructor(t){this.v=t}get width(){return this.v.videoWidth}get height(){return this.v.videoHeight}}class sbe extends p3{constructor(t,n,r){super(t,r),this._visible=!0,this._x=0,this._y=0,this._w=0,this._h=0;const i=this.domElement=document.createElement("video");i.className=xu["jf-video"],i.src=Ls(n),i.controls=!uy.hideVideoControls,this.video=new obe(i),this.scene._appendDomElement(i)}currentState(){const t=this.domElement;return t.paused?t.currentTime?"pause":"stop":"play"}setCurrentTime(t){const n=this.domElement;return t!==n.currentTime&&(n.currentTime=t),this}currentTime(){return this.domElement.currentTime}play(){const t=this.domElement;return t.paused&&t.play(),this}pause(){const t=this.domElement;return t.paused||t.pause(),this}stop(){return this.pause(),this.setCurrentTime(0),this}_render(){const t=this.isVisible(),{style:n}=this.domElement;if(this._visible!==t&&(this._visible=t,t?n.removeProperty("display"):n.display="none"),!t)return;const r=Math.round(this.x-this.scene.x),i=Math.round(this.y-this.scene.y);if(this._x!==r&&n.setProperty("left",(this._x=r).toString()+"px"),this._y!==i&&n.setProperty("top",(this._y=i).toString()+"px"),this.fixed){const o=Math.round(this.width),s=Math.round(this.height);this._w!==o&&n.setProperty("width",(this._w=o).toString()+"px"),this._h!==s&&n.setProperty("height",(this._h=s).toString()+"px")}}delete(){return this.domElement.remove(),super.delete()}onAttribChanged(){this.scene._setDirty()}updateBBox(t,n,r,i){super.updateBBox(t,n,r,i),this.scene._setDirty()}}const abe=class extends XV{constructor(t){super(),this.prevOrder=[],this.dirty=!0;const n=document.createElement("canvas");this.ctx=n.getContext("2d",{alpha:!0,desynchronized:!1});const r=this.domElement=document.createElement("div");r.className=xu["jf-scene"],r.append(n),this.init(t)}dispose(){}render(t=!1){if(!t&&!this.domElement.offsetParent)return;const{ctx:n}=this,r=n.canvas,{clientWidth:i,clientHeight:o}=r;if((r.width!==i||r.height!==o)&&(r.width=i,r.height=o,this.dirty=!0),this.prevOrder!==this.order){const{prevOrder:s}=this;this.prevOrder=this.order,(this.order.length!==s.length||this.order.some((l,c)=>l!==s[c]))&&(this.dirty=!0)}!this.dirty||i<1||o<1||(n.fillStyle=this.background?.getFillStyle(n)||"white",n.fillRect(0,0,i,o),this.order.forEach(s=>s._render(n)),this.dirty=!1)}toBlob(t){const n=this.ctx.canvas,r=Math.max(t.x,0),i=Math.max(t.y,0),o=Math.min(t.w,n.width),s=Math.min(t.h,n.height),l=Qh(o,s);return l.getContext("2d",{alpha:!1}).drawImage(this.ctx.canvas,r,i,o,s,0,0,o,s),l instanceof OffscreenCanvas?l.convertToBlob():new Promise(h=>l.toBlob(p=>h(p)))}createLine(t,n={}){return new Fye(this,t,n)}createImageView(t,n={}){return new Pye(this,t,n)}createTextView(t,n={}){return new ibe(this,t,n)}createInput(t,n={}){return new Bye(this,t,n)}createVideo(t,n={}){return new sbe(this,t,n)}createPen(t={}){return new Qye(this,t)}createBrush(t={}){return new Mye(this,t)}createImage(t,n={}){return new kye(this,t,n)}createString(t,n={}){return new Jye(this,t,n)}createFont(t={}){return new Oye(this,t)}createText(t,n={}){return new rbe(this,t,n)}onDisableInputsChanged(){this.disableInputs?this.domElement.classList.add(xu["disable-inputs"]):this.domElement.classList.remove(xu["disable-inputs"])}onBackgroundChanged(){this._setDirty()}onLayersChanged(){this._setDirty()}onOriginChanged(){this._setDirty()}_onBrushPropsChanged(){this._setDirty()}_setDirty(){this.dirty=!0}_appendDomElement(t){this.domElement.append(t)}};class lbe extends Error{constructor(t){super(`Проект ${t} загружается`)}}class cbe{constructor(t,n){if(this.fs=t,!n.projects.length)throw Error("Список проектов пуст");const r=n.projects.map(i=>{const o=t.path(i.filepath||"project.spj");return{config:i,path:o,state:{type:"notLoaded"}}});this.projects=r,this.initialProjectPath=n.initial?t.path(n.initial):r[0].path}exists(t){return this.projects.some(({path:n})=>n.equals(t))}async open(t){const n=this.projects.find(({path:o})=>o.equals(t));if(!n)return null;const r=n.state;if(r.type==="loading")throw new lbe(n.path);if(r.type==="loaded")return r.parsedProjectConfig;n.state={type:"loading"};let i;try{const{fs:o}=this,{path:s,config:l}=n;await Promise.all(l.libs.map(y=>o.mountLibrary(y)));const{searchDirs:c,stt:u}=l.settings,h=s.resolve(".."),p=[o.stdlibDir,h].concat(c?.map(y=>o.path(y))??[]),g=u?o.path(u):h.resolve("_preload.stt"),m=g.file()?.stt;m||console.warn(`Файл состояния ${g} не существует`),i={settings:l.settings,filepath:s,dir:h,searchDirs:p,stt:m}}catch(o){throw n.state={type:"notLoaded"},o}return n.state={type:"loaded",parsedProjectConfig:i},i}}class p2{constructor(){this.currentTask=null,this.onError=new aa,this.nextTaskStep=t=>{let n;try{n=this.currentTask.next(t)}catch(r){throw this.onError.dispatch(r),r}this.handleTaskResult(n)},this.rejectTask=t=>{let n;try{n=this.currentTask.throw(t)}catch(r){throw this.onError.dispatch(r),r}this.handleTaskResult(n)}}handleTaskResult(t){if(t.done){this.currentTask=null;return}Promise.resolve(t.value).then(this.nextTaskStep,this.rejectTask)}canRunTask(){return!this.currentTask}runTask(t){qp(!this.currentTask,"Предыдущий генератор должен завершить свое выполнение"),this.currentTask=t,this.nextTaskStep()}}class ube{constructor(t,n,r){this.handlers={closed:new Set,error:new Set,shell:new Set,write:new Set,afterCycle:new Set},this.onProjectOpen=new aa,this.beforeProjectClosed=new aa,this.beforeCompute=new aa,this.afterCompute=new aa,this.beforeRender=new aa,this.classes=new Wce,this.iterations=0,this.isPaused=!1,this.pluginFunctions={},this.compiler=new jP,this.pluginNames=[],this.optionalPlugins=[],this.projects=[],this.closedProjects=new Set,this.mainTaskRunner=new p2,this.uiEventsEnabled=!0,this.lag=0,this.timeStep=0,this.curIterator=null,this.update=i=>{let o=!0;if(!this.isPaused)if(this.timeStep>0){const s=i-this.lag;for(s>this.timeStep*10&&(console.warn(`lag обнулен: dt:${s}`),this.lag=i-this.timeStep-1);this.lag+this.timeStep<i&&(this.lag+=this.timeStep,!!(o=this.compute())););}else o=this.compute();return this.beforeRender.dispatch(),o},this.showed=new Set,this.runner=new Yp(r),this.projectLoader=new cbe(t,n),this.initialCfg=this.init(),this.mainTaskRunner.onError.add(this.handleError.bind(this))}async init(){const t=this.projectLoader,n=await t.open(t.initialProjectPath);qp(n,`Корневой проект ${t.initialProjectPath} должен существовать`),this.initialCfg=n}async ready(){return await this.initialCfg,this}get fs(){return this.projectLoader.fs}get currentProject(){const{projects:t}=this;return t.length?t[t.length-1]:null}canHandleProjectUiEvents(t){return this.uiEventsEnabled&&this.projects.includes(t)}run(){if(this.initialCfg instanceof Promise)throw Error(`${this.projectLoader.initialProjectPath}: Начальный проект не загружен`);this.projects.length||(this.uiEventsEnabled=!0,this.isPaused=!1,this.iterations=0,this.addProject(this.initialCfg),this.runner.run(this.update))}stop(){this.closeAll(),this.compute()}step(){this.isPaused=!0,this.compute()}pause(){this.isPaused=!0}block(){this.uiEventsEnabled=!1,this.isPaused=!0}unblock(){this.uiEventsEnabled=!0,this.isPaused=!1}continue(){this.isPaused=!1}closeProject(t){const n=this.projects.indexOf(t);n>=0&&this.projects.splice(n,1),this.closedProjects.add(t)}closeAll(){let t;for(;t=this.projects.pop();)this.closedProjects.add(t)}hasProject(t){return this.projectLoader.exists(t)}async openProject(t){const n=await this.projectLoader.open(t);return n?this.addProject(n):null}async addProject({filepath:t,searchDirs:n,dir:r,stt:i,settings:o}){Ri.debugProject&&console.log(`Открывается ${t}`);const s=Symbol(t.toString());let l;try{if(o.plugins)for(const u of o.plugins){const h=this.optionalPlugins.find(({plugin:p})=>p.name===u);qp(h,`${t}: Плагин '${u}' требуется для работы проекта`),await this.setupPlugin(h.plugin,h.opts),Ri.debugProject&&console.log(`Загружен плагин '${u}'`)}n.forEach(u=>{const h=!o.nonRecursive||u.equals(this.fs.stdlibDir);u.forEach(p=>{if(!p.cls||this.classes.hasFile(p))return;const g=new Gce({projectId:s,data:p.cls,file:p,compiler:this.compiler,modelGlobals:this.pluginFunctions});g.isFunction&&this.compiler.addUserFunc(g.getUserFunctionSignature()),this.classes.add(g)},h)});const c=this.classes.get(o.rootClass);qp(c,`${t}: Корневой имидж ${o.rootClass} должен существовать`),l=new iue({kernel:this,id:s,filepath:t,dir:r,rootKlass:c,state:i,settings:o})}catch(c){throw this.classes.unload(s),c}return this.projects.push(l),this.onProjectOpen.dispatch(l),l}canRunMainTask(){return this.mainTaskRunner.canRunTask()}runMainTask(t){this.mainTaskRunner.runTask(t)}runParallelTask(t){new p2().runTask(t)}handleError(t){this.runner.stop();let n=`Ошибка: ${t.message}`;this.projects.length>0&&(n+=`
В проекте ${this.projects[this.projects.length-1].id.description}`);const r=this.curIterator?.getCurrentNode();r&&(n+=`
В имидже ${r.path()}`),this.handlers.error.forEach(i=>i(n)),console.error(n)}*rootTask(){const t=this.projects[this.projects.length-1];yield*this.curIterator=t.root.compute(!1),++this.iterations,this.handlers.afterCycle.forEach(n=>n())}compute(){return this.canRunMainTask()?(this.closedProjects.forEach(t=>{Ri.debugProject&&console.log(`Закрывается ${t.id.description}`),this.beforeProjectClosed.dispatch(t),this.classes.unload(t.id)}),this.closedProjects.clear(),this.projects.length?(this.runMainTask(this.rootTask()),!0):(this.handlers.closed.forEach(t=>t()),!1)):!0}setIterationsPerSecond(t){this.timeStep=t>0?1e3/t:0,this.lag=0}log(t,n){Ri.logMessage&&console.info(n?`${n.path()}: ${t}`:t)}handleExe(t,n){const r=t.lastIndexOf(".exe"),i=r<0?t:t.substring(0,r);return this.handlers.shell.forEach(o=>o(i,"","",n??0)),!0}handleShell(t,n,r,i){return this.handlers.shell.forEach(o=>o(t,n,r,i)),!0}handleWrite(t,n){this.handlers.write.forEach(r=>r(t.toString(),n)),t.startsWith(this.fs.downloadsDir)&&U0(new Blob([n],{type:"text/plain"}),t.basename())}async setupPlugin(t,n){this.pluginNames.includes(t.name)||(t.deps?.forEach(r=>{if(!this.pluginNames.includes(r))throw Error(`Плагин '${t.name}' зависит от '${r}'`)}),this.pluginNames.push(t.name),t.register((r,i,o)=>{const s=this.compiler.addFunc(r,i);this.pluginFunctions[s]=o}),await t.setup?.(this,n))}registerPlugin(t,n){this.optionalPlugins.push({plugin:t,opts:n})}_functionNotImplemented(t,n){if(this.showed.size===this.showed.add(t.toUpperCase()).size)return;const r=`${t} не реализована`;console.warn(n?`${n.path()}: ${r}`:r)}dispose(){this.windowSystem?.windowFactory.dispose()}}class dbe{constructor(t){this.kernel=t}async ready(){return await this.kernel.ready(),this}get status(){const{kernel:t}=this;return t.currentProject?t.isPaused?"paused":"playing":"closed"}play(){return this.kernel.run(),this}close(){return this.kernel.stop(),this}pause(){return this.kernel.pause(),this}continue(){return this.kernel.continue(),this}step(){return this.kernel.step(),this}addPlugin(t,n){return this.kernel.registerPlugin(t,n),this}on(t,n){return this.kernel.handlers[t].add(n),this}off(t,n){const r=this.kernel.handlers[t];return n?r.delete(n):this.kernel.handlers[t].clear(),this}dispose(){this.kernel.dispose()}}function hbe(e){e.style.transformOrigin="top left",e.insertAdjacentHTML("afterend",`
<div id="mobzoom-icons-container">
    <img draggable="false" id="mobzoom-in-btn" src="images/zoom-in-icon.svg" />
    <img draggable="false" id="mobzoom-out-btn" src="images/zoom-out-icon.svg" />
</div>`);const n=document.getElementById("mobzoom-in-btn");n.oncontextmenu=N=>N.preventDefault();const r=document.getElementById("mobzoom-out-btn");r.oncontextmenu=N=>N.preventDefault();const i=new Yp(e.ownerDocument.defaultView);let o=1;const s=()=>{if(!isNaN(l))o*=1.05;else if(!isNaN(c))o*=.95;else return!1;return o=Math.min(Math.max(o,.1),1),e.style.transform=`scale(${o})`,e.style.width=`${100/o}%`,e.style.height=`${100/o}%`,!0};let l=NaN;n.onpointerdown=N=>{isNaN(l)&&(i.run(s),n.setPointerCapture(l=N.pointerId))},n.onpointerup=N=>{l===N.pointerId&&(l=NaN)},n.onpointercancel=N=>{l===N.pointerId&&(l=NaN)};let c=NaN;r.onpointerdown=N=>{isNaN(c)&&(i.run(s),r.setPointerCapture(c=N.pointerId))},r.onpointerup=N=>{c===N.pointerId&&(c=NaN)},r.onpointercancel=N=>{c===N.pointerId&&(c=NaN)};const u=new Yp(e.ownerDocument.defaultView);let h=null;const p=new Map;let g=0,m=0;function y(N){if(!(p.size>2)){if(p.size<2){h=null,(Math.abs(g)>1||Math.abs(m)>1)&&u.run(()=>(g-=Math.sign(g)*.4,m-=Math.sign(m)*.4,e.scrollLeft-=g,e.scrollTop-=m,Math.abs(g)>1||Math.abs(m)>1));return}N.stopPropagation();{h=[...p.values()];const[D,L]=h;D.x-L.x,D.y-L.y}}}let b=null;function v(N){p.set(N.pointerId,{id:N.pointerId,x:N.screenX,y:N.screenY}),u.stop(),N.isPrimary&&(b=[N.clientX,N.clientY]),y(N)}function S(N){p.delete(N.pointerId),N.isPrimary&&(b=null,E.stop()),y(N)}const E=new Yp(e.ownerDocument.defaultView),T=100;let O=[0,0];function M(){const[N,D]=O;if(b){const $=N-b[0],j=D-b[1];if($**2+j**2<100)return!1}let L=0,A=0;if(N<T)L=N-T;else{const $=window.innerWidth-N;$<T&&(L=T-$)}if(L/=40,D<T)A=D-T;else{const $=window.innerHeight-D;$<T&&(A=T-$)}return A/=40,L&&(e.scrollLeft+=Math.E**Math.abs(L)*Math.sign(L)),A&&(e.scrollTop+=Math.E**Math.abs(A)*Math.sign(A)),!0}function I(N){if(!h&&N.isPrimary?(O[0]=N.clientX,O[1]=N.clientY,E.run(M)):E.stop(),!h)return;const D=p.get(N.pointerId);if(D){N.isPrimary||(N.stopPropagation(),g=N.screenX-D.x,m=N.screenY-D.y,e.scrollLeft-=g,e.scrollTop-=m);{const[L,A]=h;L.x-A.x,L.y-A.y}D.x=N.screenX,D.y=N.screenY}}e.addEventListener("pointerdown",v,{capture:!0}),e.addEventListener("pointerup",S),e.addEventListener("pointercancel",S),e.addEventListener("pointermove",I,{capture:!0})}const Fg={root:"c3UHApxQ",mywindow:"JtozXFt9",top:"pnlxzH3m",popup:"dJ50k0ZR","close-button":"_2NuvSdcG"};function fbe(){const e=document.createElement("button");return e.textContent="×",e.className=Fg["close-button"],e}class pbe{constructor(t,{popup:n,content:r,...i},o=null){this.system=t,this.relativeTo=o,this.onClosed=new aa,this.x=0,this.y=0,this.width=0,this.height=0,this.title="",this.visible=!0,this.scale=1,this.instantClose=!1,this.isClosed=!1,this.hideTimeout=0;const s=this.view=r;if(this.popup=n||!1,this.set(i),this.width=s.clientWidth,this.height=s.clientHeight,queueMicrotask(this.appear.bind(this)),n)i.closeOnFocusOut&&s.addEventListener("focusout",this.onFocusOut.bind(this));else if(i.caption){const l=fbe();s.children.item(0)?.append(l),l.addEventListener("click",this.close.bind(this)),this.instantClose=!0}}appear(){this.visible&&(this.view.style.opacity="1")}onFocusOut(t){this.view.contains(t.relatedTarget)||this.close()}close(){this.isClosed||(this.isClosed=!0,this.remove(),this.onClosed.dispatch())}toTop(){}set({x:t=this.x,y:n=this.y,title:r=this.title,visible:i=this.visible,preserveX:o}){const{view:s}=this,{style:l}=s;if(this.title!==r&&(this.view.ariaLabel=`Окно '${r}'`),this.popup){if(o){const c=this.relativeTo?.offsetLeft||0;l.setProperty("left",t+c+"px"),l.setProperty("right","unset")}else l.removeProperty("left"),l.removeProperty("right");if(this.y!==n){const c=this.relativeTo?.offsetTop||0;l.setProperty("top",n+c+"px")}}return this.visible!==i&&(this.view.style.opacity=i?"1":"0",this.hideTimeout&&window.clearTimeout(this.hideTimeout),this.hideTimeout=window.setTimeout(()=>this.view.style.setProperty("display",i?"block":"none"),i?0:250)),this.x=t,this.y=n,this.title=r,this.visible=i,this}makeRelativeTo(t){if(this.popup){const{style:n}=this.view,r=t.offsetLeft();console.log(this.x,r),n.setProperty("left",this.x+r+"px"),n.setProperty("right","unset");const i=t.offsetTop();n.setProperty("top",this.y+i+"px")}}offsetLeft(){return this.view.offsetLeft}offsetTop(){return this.view.offsetTop}remove1(){this.view.style.opacity="0",setTimeout(()=>this.view.remove(),250)}remove(){this.system._removeWindow(this),this.popup?this.remove1():this.remove1()}}const g2={root:"stratum-player-root"};class gbe{constructor(t){this.firstWindow=null;const n=(typeof t=="string"?document.getElementById(t):t)||document.body,r=this.root=document.createElement("div");r.classList.add(Fg.root,g2.root),n.append(r),Ri.isMobile&&hbe(n)}get screenWidth(){return this.root.clientWidth}get screenHeight(){return this.root.clientHeight}_removeWindow(t){this.firstWindow===t&&(this.firstWindow=null)}createWindow(t){const n=t.content;n.classList.add(Fg.mywindow,t.popup?Fg.popup:Fg.top),n.style.opacity="0";let{x:r=0,y:i=0}=t;this.root.appendChild(n),t.popup&&(r=Math.max(r,0),i=Math.max(i,0),n.offsetHeight&&(i=Math.min(i,this.screenHeight-n.offsetHeight-16)),Pd(n,{left:r+"px",top:i+"px"}));const o=document.activeElement?.hasAttribute("data-gspace-key")?document.activeElement:null,s=new pbe(this,{...t,x:r,y:i},o);return!t.popup&&!this.firstWindow&&(this.firstWindow=s),requestAnimationFrame(()=>n.focus({preventScroll:!0})),s}dispose(){this.root.remove()}}class mbe{create(t,n){return new abe(t)}}async function vbe(e){const t=await AC.create(),n=new gbe(Ri.root),r=n.root.ownerDocument.defaultView||window,i=new ube(t,e,r),s={sceneFactory:new mbe,windowFactory:n};for(const l of fA)await i.setupPlugin(l,s);return new dbe(i).ready()}var _=Yo();const Bn=Kv(_),fM=Rq({__proto__:null,default:Bn},[_]);class ybe{constructor(){this.vars=[],Ot(this,{vars:Be.ref,add:Ee,clear:Ee,remove:Ee})}add(t){this.vars.includes(t)||(this.vars=this.vars.concat(t))}remove(t){this.vars=this.vars.filter(n=>n!==t)}clear(){this.vars=[]}}class bbe{constructor(t,{klassVar:n}){this.value="",this.schema=t,this.klassVar=n,this._updateValue(),Ot(this,{value:Be.ref,setValue:Ee})}get id(){return this.klassVar.id.toString()}get name(){return this.klassVar.name}get type(){return this.klassVar.type}setValue(t){const{klassVar:n,schema:r}=this,i=eg(n.type,t);if(i===null)return!1;const o=r._pSchema.vars.setValue(n,i);return o&&this._updateValue(),o}_updateValue(){const{klassVar:t,schema:n}=this,r=n._pSchema.vars.getNewValue(t);this.value=WP(t.type,r)}}const wbe={};class pM{constructor({pSchema:t,parent:n=null,root:r=this,player:i}){this.itemId=Jv(),this.isActive=!1,this.root=r,this.parent=n,this.player=i,this._pSchema=t,this.vars=t.klass.vars.list.map(o=>new bbe(this,{klassVar:o})),this.children=t.children.map(o=>new pM({root:r,player:i,pSchema:o,parent:this})),Ot(this,{isActive:Be.ref,makeActive:Ee})}get imageData(){const{image:t}=this._pSchema.klass;if(!t||t.prior==="icon")return null;const n=t.scene?.data;return n?.objects?.length?n:null}get icon(){return this._pSchema.klass.image?.icon||wbe}makeActive(){this.isActive=!0,this.player._setActiveSchema(this)}toString(){const{_pSchema:t}=this;return t.ndata?`${t.klass.name} #${t.ndata.key}`:t.klass.name}_updateValues(){this.vars.forEach(t=>t._updateValue())}}const Sbe=4;class Cbe{constructor(t,{player:n}){this.isMinimized=!1,this.activeSchema=null,this.rootSchema=null,this.iterationCount=0,this.iterationPerSecond=0,this.onPlayerClosed=()=>{this.player.dispose(),this.mgr._onPlayerClosed()},this.prevTime=Date.now(),this.onPlayerCycleCompleted=()=>{const r=this.player.kernel.iterations,i=Date.now();this.iterationPerSecond=Math.round((r-this.iterationCount)/(i-this.prevTime)*1e3),this.iterationCount=r,this.prevTime=i;const{currentProject:o}=this.player.kernel;if(!o){this.rootSchema=null;return}if((!this.rootSchema||this.rootSchema._pSchema!==o.root)&&(this.rootSchema=new pM({pSchema:o.root,player:this}),this.activeSchema=this.rootSchema,this.markedVars.clear(),this.mgr._updateMarkedVars(this.rootSchema)),this.status==="paused"||!((this.iterationCount-1)%Sbe)){const s=new Set;this.activeSchema&&s.add(this.activeSchema),this.markedVars.vars.forEach(l=>{s.add(l.schema)}),s.forEach(l=>{l._updateValues()})}},this.player=n,this.mgr=t,this.status=n.status,this.markedVars=new ybe,Ot(this,{isMinimized:Be.ref,status:Be.ref,activeSchema:Be.ref,rootSchema:Be.ref,iterationCount:Be.ref,onPlayerClosed:Ee,onPlayerCycleCompleted:Ee,close:Ee,continue:Ee,maximize:Ee,minimize:Ee,pause:Ee,step:Ee}),n.on("closed",this.onPlayerClosed),n.on("afterCycle",this.onPlayerCycleCompleted)}updatePlayerStatus(){this.status=this.player.status}close(){this.player.close()}pause(){this.player.pause(),this.updatePlayerStatus()}continue(){this.player.continue(),this.updatePlayerStatus()}step(){this.player.step(),this.updatePlayerStatus()}minimize(){this.isMinimized=!0}maximize(){this.isMinimized=!1}_setActiveSchema(t){this.activeSchema=t}}class xbe{constructor(t){this.onBeforeRun=new vi,this.mountRef=_.createRef(),this.status="closed",this.player=null,this.markedVars=new Set,this.project=t,Ot(this,{player:Be.ref,status:Be.ref,openPlayer:Ii})}addMarkedVar(t){this.markedVars.add(t)}removeMarkedVar(t){this.markedVars.delete(t)}*openPlayer(){if(this.status!=="closed")return;const t=this.mountRef.current;if(!t)return;this.status="initializing",this.onBeforeRun.dispatch(),Ri.cache="no-cache",Ri.debugProject=!0,Ri.logMessage=!0,Ri.root=t;const{project:n}=this;n.saveSchemaStateToFile();const r=n.toRemoteProjectData(!0),i=[r].concat(n.subProjects.map(l=>l.config)),o=r.filepath;console.log({projects:i,initial:o});let s;try{s=yield vbe({projects:i,initial:o})}catch(l){throw this._onPlayerClosed(),alert(l.message),l}s.on("error",alert);try{s.play()}catch(l){throw s.dispose(),this._onPlayerClosed(),alert(`При запуске проекта произошла ошибка:
`+l.message),l}this.player=new Cbe(this,{player:s}),this.status="running"}_onPlayerClosed(){this.status="closed",this.player=null}_updateMarkedVars(t){this.markedVars.forEach(n=>{let r=n.schema;const i=[r.key];for(;;){const l=r.parent;if(!l||!l.key)break;i.push(l.key),r=l}let o=t;for(const l of i.reverse()){const c=o.children.find(u=>u._pSchema.ndata?.key===l);if(!c)return;o=c}const s=o.vars.find(l=>l.name===n.name);s&&this.player?.markedVars.add(s)})}}class m2{constructor(t,n,r,i){this.project=t,this.id=n,this.name=r,this.config=i,Ot(this,{remove:Ee})}remove(){this.project._removeSubProject(this)}}class _be{constructor(t){this.isDirty=!1,this.libs=[],this.subProjects=[],this.vfsFilter=new wye,this.vfsFilterVisible=new ih,this.player=new xbe(this),this.tabs=new fye,this.onCollapseFilesButtonClick=new vi,this.onNodeSelected=new vi,this.vfsFileTransfer=new hM("fileContent"),this.selectSchema=n=>{this.onNodeSelected.dispatch(n)},this.apiClient=t.apiClient,this.id=t.id,this.accessKey=t.accessKey,this.name=t.name,this.vfs=t.vfs,this.schema=t.schema,this.klassLibraryBuilder=t.classLibraryBuilder,this.plugins=t.plugins,this.projectFile=t.projectFile,this.sttFile=t.sttFile,this.libs=t.libs,this.subProjects=t.subProjects.map(({id:n,name:r,config:i})=>new m2(this,n,r,i)),this.editorMultiplexer=new Jve({fileContentTransfer:this.vfsFileTransfer,getFileUploader:this.getFileUploader.bind(this)}),this.syncer=new oye({apiClient:t.apiClient,project:this}),Ot(this,{isDirty:Be.ref,libs:Be.ref,subProjects:Be.ref,plugins:Be.ref,sttFile:Be.ref,setRecursiveKlassSearch:Ee,addKlassSearchDir:Ee,removeKlassSearchDir:Ee,addSubProject:Ee,createNewKlass:Ee,openBinaryFile:Ee,focusOnNode:Ee,openFile:Ee,openKlassCode:Ee,openKlassProps:Ee,openKlassScene:Ee,openMatrixFile:Ee,openSceneFile:Ee,openSchema:Ee,saveSchemaStateToFile:Ee,setDirtyMarker:Ee,getFileUploader:!1,toRemoteProjectData:!1})}close(){return this.hasChanges&&!confirm("Несохраненные изменения будут потеряны, продолжить?")?!1:(this.player.player?.close(),this.tabs.tabs.every(t=>t.close()))}get hasChanges(){return this.isDirty||this.schema.isStateChanged||this.libs.some(t=>t.hasChanges)}get klassLibrary(){return this.klassLibraryBuilder.klassLibrary}get recursiveKlassSearch(){return this.klassLibraryBuilder.recursiveSearch}get klassSearchDirs(){return this.klassLibraryBuilder.searchDirs}addMarkedVar(t){this.player.addMarkedVar(t)}removeMarkedVar(t){this.player.removeMarkedVar(t)}setDirtyMarker(t){this.isDirty=t}setRecursiveKlassSearch(t){const{klassLibraryBuilder:n}=this;n.setRecursiveSearch(t),n.rebuildLibrary(),this.isDirty=!0}addKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.addSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}removeKlassSearchDir(t){const{klassLibraryBuilder:n}=this;n.removeSearchDir(t),n.rebuildLibrary(),this.isDirty=!0}addSubProject(t,n,r){const i=new m2(this,t,n,r);return this.subProjects=this.subProjects.concat(i).sort((o,s)=>Hp(o.config.filepath||"",s.config.filepath||"")),this.isDirty=!0,i}createNewKlass(t,n){TP(t);const r=this.klassLibrary.get(t);if(r)throw new s2(r);const i=Jh(n,t,"cls"),o=n.createFile(i,{cls:MP(t)});return this.klassLibraryBuilder.rebuildLibrary(),o.klass}saveSchemaStateToFile(){const{schema:t}=this;if(!t.isStateChanged)return;const n=t.getState(!0);this.sttFile||(this.sttFile=this.projectFile.parent.createFile("_preload.stt",{stt:n}).stt),this.sttFile.setData(n),t.markStateUnchanged()}openSchema(t){const n=this.editorMultiplexer.openSchemaEditor(t);if(this.tabs.addTab(n)){const{scene:r}=n.editor;r.onNodeSelected.add(this.selectSchema),r.onSaved.add(()=>{r.schema&&(this.schema.hasNode(r.schema)||this.schema.applyChanges())})}return n}focusOnNode(t,n=!1){const r=this.openSchema(t.parent||t);t.parent?r.editor.scene.children.find(i=>i.schema===t)?.select(n):r.editor.scene.selection?.reset()}openKlassProps(t){this.tabs.addTab(this.editorMultiplexer.openKlassPropsEditor(t))}openKlassScene(t){this.openSchema(new _b(t,this.klassLibrary,{isFake:!0}))}openKlassCode(t){const n=this.klassLibrary,r=this.editorMultiplexer.openCodeEditor({klass:t,lib:n,pluginsGetter:()=>[]});if(this.tabs.addTab(r)){const{editor:i}=r;i.onError.add(o=>{alert(o)}),i.onSaved.add(()=>this.schema.applyChanges())}}openFile(t){if(t.klass){this.openKlassProps(t.klass);return}if(t.scene){this.tabs.addTab(this.editorMultiplexer.openFileSceneEditor(t.scene));return}if(t.binary){this.tabs.addTab(this.editorMultiplexer.openBinaryFileEditor(t.binary));return}}openSceneFile(t){}openMatrixFile(t){}openBinaryFile(t){}getFileUploader(t){const n=this.libs.find(r=>r.vfsLib===t);return n?new d9(this.apiClient,n):null}toRemoteProjectData(t){const n={rootClass:this.schema.klass.name,searchDirs:this.klassLibraryBuilder.searchDirs.map(r=>r.path),nonRecursive:!this.klassLibraryBuilder.recursiveSearch,stt:this.sttFile?.file.path,plugins:this.plugins};return{filepath:this.projectFile.path,libs:this.libs.map(r=>r.toRemoteFilesData(t)),settings:n}}_removeSubProject(t){this.subProjects=this.subProjects.filter(n=>n!==t),this.isDirty=!0}async export(){const t=await this.apiClient.getProjectPlayerZip(this.id);U0(t,`${this.id}.zip`)}}class Ebe{constructor(t,n,r,i){this.id=t,this.name=n,this.contentDirname=r,this.vfsLib=i}get hasChanges(){return this.vfsLib.isDirty}remove(){}toRemoteFilesData(t){return{src:this.contentDirname,mount:this.vfsLib.rootDir.name,data:Ni(t&&this.vfsLib.toJSON())}}}class v2{constructor({libDto:t,parent:n,selector:r}){this.selector=r,this.id=t.id,this.name=t.name,this.parent=n,this.contentDirname=t.contentDirname,Ot(this,{getPath:!1})}getPath(){const t=this.parent.getPath();return t?t+"/"+this.name:this.name}}class gM{constructor({selector:t,projectDto:n,parent:r}){this.parent=r,this.selector=t,this.projectDto=n,Ot(this,{select:Ee})}get id(){return this.projectDto.id}get name(){return this.projectDto.name}get config(){return this.projectDto.config}select(){this.selector._onProjectSelected(this)}}const Tbe={id:0,name:""};class Tb{constructor({selector:t,apiClient:n,dirDto:r=Tbe,parent:i=null}){this.dirs=[],this.libs=[],this.projects=[],this.isChildrenFetching=!1,this.isChildrenFetched=!1,this.selector=t,this.apiClient=n,this.id=r.id,this.name=r.name,this.parent=i,Ot(this,{isChildrenFetching:Be.ref,isChildrenFetched:Be.ref,libs:Be.ref,dirs:Be.ref,projects:Be.ref,clear:Ee,fetchChildren:Ii,createNewDir:Ii,createNewLibrary:Ii,createNewProject:Ii,getPath:!1})}*fetchChildren(){if(this.isChildrenFetching||this.isChildrenFetched)return;const{apiClient:t,selector:n}=this;this.isChildrenFetching=!0;let r;try{this.id?r=yield t.getDirContent(this.id,{libs:!0,projects:!0}):r=yield t.getRootDirContent({libs:!0,projects:!0})}finally{this.isChildrenFetching=!1}this.isChildrenFetched=!0,this.dirs=r.dirs.map(i=>new Tb({selector:n,parent:this,apiClient:t,dirDto:i})).sort((i,o)=>Hp(i.name,o.name)),r.libs&&(this.libs=r.libs.map(i=>new v2({selector:n,parent:this,apiClient:t,libDto:i})).sort((i,o)=>Hp(i.name,o.name))),r.projects&&(this.projects=r.projects?.map(i=>new gM({selector:n,parent:this,projectDto:i})).sort((i,o)=>Hp(i.name,o.name)))}clear(){this.isChildrenFetched=!1,this.dirs=[],this.libs=[]}*createNewDir(t){const{apiClient:n,selector:r}=this,{dir:i,created:o}=yield n.createDir(t,this.id);if(!o)throw new os(`Каталог '${i.name}' уже существует`);const s=new Tb({dirDto:i,selector:r,apiClient:n,parent:this});return this.dirs=this.dirs.concat(s),s}*createNewLibrary(t){const{apiClient:n,selector:r}=this,{library:i,created:o}=yield n.createLib(t,this.id);if(!o)throw new os(`Библиотека '${i.name}' уже существует`);const s=new v2({libDto:i,selector:r,apiClient:n,parent:this});return this.libs=this.libs.concat(s),s}*createNewProject(t,n,r){const{selector:i,apiClient:o}=this,{project:s,created:l}=yield o.createProject({name:t,config:n,parentDirId:this.id,libIds:[r.id]});if(!l)throw new os(`Проект '${s.name}' уже существует`);const c=new gM({selector:i,parent:this,projectDto:s});return this.projects=this.projects.concat(c),c}getPath(){const t=this.parent?.getPath();return t?t+"/"+this.name:this.name}}class y2{constructor(t,n=!1){this.onProjectSelected=new vi,this.isProjectCreationInProgress=!1,this.apiClient=t,this.libsMode=n,this.root=new Tb({selector:this,apiClient:t}),Ot(this,{isProjectCreationInProgress:Be.ref,createNewProject:Ii,getDirById:!1})}*createNewProject(t){const n=t.getPath(),r=prompt(`Введите название проекта (будет создан в ${n?`папке '${n}'`:"корневой папке"})`);if(!r)return;let i;this.isProjectCreationInProgress=!0;try{const o=yield t.createNewLibrary(r),s="project.spj",l="root";yield this.apiClient.updateLibraryIndex(o.id,{version:RP,files:[{path:s},{path:"root.cls",cls:MP(l)}]});const c=o.getPath(),u={settings:{rootClass:l},libs:[{src:o.contentDirname,mount:c}],filepath:c+"/"+s};i=yield t.createNewProject(r,u,o)}catch(o){if(o instanceof uM){alert(o.message);return}throw o}finally{this.isProjectCreationInProgress=!1}this.onProjectSelected.dispatch(i)}getDirById(t){return(function n(r){if(r.id===t)return r;for(const i of r.dirs){const o=n(i);if(o)return o}return null})(this.root)}_onProjectSelected(t){this.onProjectSelected.dispatch(t)}}class Mbe{constructor({apiClient:t}){this.loadingMessage="Инициализация редактора",this.currentProject=null,this.ctxMenu=new Yve,this.currentModalDialog=_.createRef(),this.activeLeftPanelActiveView=new fve("schema"),this.mainMenuVisible=new ih,this.loginFormVisible=new ih,this.leftPanelMinimized=new ih,this.rightPanelMinimized=new ih,this.subProjectSelectorVisible=new ih,this.librarySelectorVisible=new ih,this.onNewSession=o=>{Qq(this.getLocalStorageCredentialsKey(),o),this.onLogin()},this.onBeforeLogout=()=>{this.closeCurrentProject()&&(this.apiClient.removeAuthData(),Jq(this.getLocalStorageCredentialsKey()),this.projectSelector.root.clear(),this.mainMenuVisible.setFalse(),this.loginFormVisible.setTrue())},this.onProjectSelected=o=>{this.mainMenuVisible.setFalse(),!(o.id===this.currentProject?.id||!this.closeCurrentProject())&&(c9(o.id),o instanceof gM&&"subprojects"in o.projectDto?this.changeProject(o.projectDto):this.loadProjectById(o.id))},this.onPopState=o=>{this.loginFormVisible.isTrue||(o.preventDefault(),this.mainMenuVisible.setFalse(),this.tryLoadPreviousProject())},this.onBeforeUnload=o=>{const{currentProject:s}=this;s&&(s.tabs.tabs.length||s.hasChanges)&&o.preventDefault()},this.apiClient=t,t.onError.add(o=>alert("API: "+o)),(this.projectSelector=new y2(t)).onProjectSelected.add(this.onProjectSelected),(this.subProjectSelector=new y2(t)).onProjectSelected.add(({id:o,name:s,config:l})=>{this.currentProject?.addSubProject(o,s,l),this.subProjectSelectorVisible.setFalse()});const i=this.accountSettings=new qve(t);i.onLogin.add(this.onNewSession),i.onBeforeLogout.add(this.onBeforeLogout),Ot(this,{currentProject:Be.ref,loadingMessage:Be.ref,openSubProject:Ee,onPopState:Ee,init:Ii,changeProject:Ii,loadProjectById:Ii}),window.addEventListener("popstate",this.onPopState),window.addEventListener("beforeunload",this.onBeforeUnload),window.addEventListener("error",({error:o})=>alert(o.message)),window.addEventListener("keydown",hve.bind(null,this))}*init(){let t=!1;const n=Zq(this.getLocalStorageCredentialsKey());n&&(this.loadingMessage="Вход в аккаунт",t=yield this.accountSettings.restorePrevSession(n)),this.loadingMessage="",t?this.onLogin():this.onBeforeLogout()}openSubProject(t){this.onProjectSelected(t)}onLogin(){this.projectSelector.root.fetchChildren(),this.loginFormVisible.setFalse(),this.tryLoadPreviousProject()}closeCurrentProject(){const{currentProject:t}=this;return t&&!t.close()?!1:(this.currentProject=null,!0)}tryLoadPreviousProject(){const t=l9();if(t){if(this.currentProject?.id===t||!this.closeCurrentProject())return;this.loadProjectById(t)}else{if(!this.closeCurrentProject())return;this.mainMenuVisible.setTrue()}}*loadProjectById(t){this.loadingMessage=`Получение информации о проекте 'id:${t}'`;let n;try{n=yield this.apiClient.getProject(t)}catch(r){throw this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.changeProject(n)}*changeProject(t){let n;try{const{config:r}=t,i=`Загрузка ресурсов проекта '${r.filepath||t.name}'`;console.log(i),console.log(t),this.loadingMessage=i;const o=new bye,s=Ty({src:gP}),l=t.libs.map(async M=>{const{id:I,name:N,writeAccess:D,contentDirname:L}=M,A=await Ty({src:L},{cache:"no-cache"}),$=r.libs.find(U=>U.src===L).mount,j=o.createLibrary($,A,{isReadonly:!D});return new Ebe(I,N,L,j)}),c=yield Promise.all(l),u=o.resolveFile(r.filepath||"project.spj");if(!u)throw new os(`Файл проекта '${r.filepath}' не существует`);const h=u.parent;o.setProjectFile(u);const p=yield s,g=o.createLibrary("Стандартная библиотека",p,{isDefault:!0});this.loadingMessage="Построение схемы имиджей";const m=new Zve(o);m.setRecursiveSearch(!r.settings.nonRecursive),m.setStandardSearchDir(g.rootDir),m.addSearchDir(h),r.settings.searchDirs?.forEach(M=>{const I=o.resolveDir(M);I?m.addSearchDir(I):console.warn(`Каталог поиска имиджей '${M}' не существует`)}),m.rebuildLibrary();const y=m.klassLibrary,b=r.settings.rootClass,v=y.get(b);if(!v)throw new os(`Корневой имидж '${b}' не существует`);const S=r.settings.stt,E=S?o.resolveFile(S):h.getFile("_preload.stt"),T=E?.type==="file"?E.stt:null,O=new _b(v,y,T?.data);n=new _be({apiClient:this.apiClient,id:t.id,accessKey:t.accessKey,name:t.name,vfs:o,schema:O,classLibraryBuilder:m,plugins:r.settings.plugins||[],projectFile:u,sttFile:T,libs:c,subProjects:t.subprojects})}catch(r){throw alert(`При загрузке проекта произошла ошибка:
`+r.message),this.mainMenuVisible.setTrue(),r}finally{this.loadingMessage=""}this.currentProject=n,console.log(OP(n)),this.onProjectChanged(n)}onProjectChanged(t){t.focusOnNode(t.schema)}getLocalStorageCredentialsKey(){return`${Ld.localStoragePrefix}/session_data`}}class Kt{constructor(t=!1){const n=this;n.d=[],n[Mb]=n[Mb],n[Vg]=n[Vg],(typeof t!="boolean"||!t)&&Ot(this,{props:Be.ref})}get m(){return this.props.m}addDisposer(t){this.d.push(t)}}const jg=Kt.prototype,Obe=Object,Rbe=Obe.assign,Mb="parent",Vg="props",b2={vmFactory:(e,t)=>new e(t),Wrapper:_.Fragment},w2=_.createContext(null);function mM({value:e,children:t}){return _.createElement(w2.Provider,{value:e},t)}function vM(){return _.useContext(w2)}if(!_.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Ot)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Ob=mT();const Rb=Kv(Ob);function Ibe(e){e()}function kbe(e){e||(e=Ibe),Ide({reactionScheduler:e})}function Pbe(e){return Pde(e)}var Dbe=1e4,Abe=1e4,Lbe=(function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Dbe),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,s){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Abe))}}),e})(),Nbe=typeof FinalizationRegistry<"u"?FinalizationRegistry:Lbe,yM=new Nbe(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),bM={exports:{}},wM={};var S2;function Bbe(){if(S2)return wM;S2=1;var e=Yo();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function l(p,g){var m=g(),y=r({inst:{value:m,getSnapshot:g}}),b=y[0].inst,v=y[1];return o(function(){b.value=m,b.getSnapshot=g,c(b)&&v({inst:b})},[p,m,g]),i(function(){return c(b)&&v({inst:b}),p(function(){c(b)&&v({inst:b})})},[p]),s(m),m}function c(p){var g=p.getSnapshot;p=p.value;try{var m=g();return!n(p,m)}catch{return!0}}function u(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return wM.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,wM}var C2;function x2(){return C2||(C2=1,bM.exports=Bbe()),bM.exports}var SM=x2();function _2(e){e.reaction=new Nl("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function Fbe(e,t){t===void 0&&(t="observed");var n=Bn.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(l){return yM.unregister(r),r.onStoreChange=l,r.reaction||(_2(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(_2(i),yM.register(n,i,i)),Bn.useDebugValue(i.reaction,Pbe),SM.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o,s;if(i.reaction.track(function(){try{o=e()}catch(l){s=l}}),s)throw s;return o}var CM,xM,E2=typeof Symbol=="function"&&Symbol.for,jbe=(xM=(CM=Object.getOwnPropertyDescriptor(function(){},"name"))===null||CM===void 0?void 0:CM.configurable)!==null&&xM!==void 0?xM:!1,T2=E2?Symbol.for("react.forward_ref"):typeof _.forwardRef=="function"&&_.forwardRef(function(e){return null}).$$typeof,M2=E2?Symbol.for("react.memo"):typeof _.memo=="function"&&_.memo(function(e){return null}).$$typeof;function $g(e,t){var n;if(M2&&e.$$typeof===M2)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=e,o=e.displayName||e.name;if(T2&&e.$$typeof===T2&&(r=!0,i=e.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(l,c){return Fbe(function(){return i(l,c)},o)};return s.displayName=e.displayName,jbe&&Object.defineProperty(s,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(s.contextTypes=e.contextTypes),r&&(s=_.forwardRef(s)),s=_.memo(s),$be(e,s),s}var Vbe={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function $be(e,t){Object.keys(e).forEach(function(n){Vbe[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var _M;kbe(Ob.unstable_batchedUpdates),_M=yM.finalizeAllImmediately;const Ib=_.createContext(null),O2=(e,t,n={},r,i=e.$$typeof===Symbol.for("react.forward_ref"),o,s,l)=>(o=(c,u)=>(s=t(c),l=_.createElement(_.useState(()=>n.observer===!1?e:$g(e))[0],Rbe({},c,{vm:s,ref:i?u:void 0})),r&&(l=_.createElement(Ib.Provider,{value:s},l)),_.createElement(b2.Wrapper,null,l)),i&&(o=_.forwardRef(o)),o=_.memo(o,n.propsAreEqual),o),zbe="onViewMounted",Ube="onViewUpdated",Hbe="onViewUnmounted",Gbe="onViewMountedSync",Wbe="onViewUpdatedSync",Kbe="onViewUnmountedSync",R2=(e,t,n,r,i,o,s,l=_.useRef(!1))=>{e(()=>{l.current&&(o&&o(),t[n]&&t[n]()),l.current=!0}),e(()=>(t[r]&&t[r](),()=>{s&&s(),t[i]&&t[i]()}),[])},Wt=e=>(t,n)=>O2(t,(r,i)=>{const o=vM();return i=_.useContext(Ib),i=_.useState(s=>(jg[Mb]=i,jg[Vg]=r,s=b2.vmFactory(e,o),delete jg[Mb],delete jg[Vg],s))[0],R2(_.useEffect,i,Ube,zbe,Hbe,null,()=>i.d=i.d.filter(s=>{s()})),R2(_.useLayoutEffect,i,Wbe,Gbe,Kbe,Ee(()=>i[Vg]=r)),i},n,e.name||"Anonymous"),po=()=>(e,t)=>O2(e,()=>_.useContext(Ib),t);for(const[e,t]of[[tL,"autorun"],[xde,"reaction"]])jg[t]=function(){return this.d[this.d.push(e.apply(0,arguments))-1]};class l6e extends _.PureComponent{static{this.contextType=Ib}get viewModel(){return this.context}}function ll(){return vM().app}function EM(){return vM().project}function I2(){return ll().currentModalDialog}function qbe({app:e,children:t}){return C.jsx(mM,{value:{app:e},children:t})}function Ybe({project:e,children:t}){const n=ll();return C.jsx(mM,{value:{app:n,project:e},children:t})}class Xbe extends Kt{constructor(){super()}}class Zbe extends Kt{constructor(){super(),this.onClick=t=>{this.parent._close(),this.m.action()},Ot(this,{onClick:Ee})}get title(){return this.m.title}get icon(){return this.m.icon}}class Qbe extends Kt{constructor(){super(...arguments),this.onClose=(t,n)=>{this.m.close()}}get isOpen(){return this.m.isOpen}get anchorPosition(){const{anchorPosition:t}=this.m;return{top:t.y,left:t.x}}get menuItems(){return this.m.menuItems}_close(){this.m.close()}}function kb(e){e.preventDefault()}function Jbe(e){e.stopPropagation()}function ewe(e){return e+" !important"}function k2(e){e.preventDefault(),document.activeElement?.blur()}function twe(){const e=_.useRef(null);return{ref:e,onFocus:n=>{n.relatedTarget!==e.current&&e.current?.focus()}}}const zg={black:"#000",white:"#fff"},bf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},wf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},_u={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Sf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Vl={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ug={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},nwe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Tc(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const Hg="$$material";function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}function rwe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function iwe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var owe=(function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iwe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=rwe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e})(),Zo="-ms-",Pb="-moz-",Nr="-webkit-",P2="comm",TM="rule",MM="decl",swe="@import",D2="@keyframes",awe="@layer",lwe=Math.abs,Db=String.fromCharCode,cwe=Object.assign;function uwe(e,t){return Vo(e,0)^45?(((t<<2^Vo(e,0))<<2^Vo(e,1))<<2^Vo(e,2))<<2^Vo(e,3):0}function A2(e){return e.trim()}function dwe(e,t){return(e=t.exec(e))?e[0]:e}function Br(e,t,n){return e.replace(t,n)}function OM(e,t){return e.indexOf(t)}function Vo(e,t){return e.charCodeAt(t)|0}function Gg(e,t,n){return e.slice(t,n)}function $l(e){return e.length}function RM(e){return e.length}function Ab(e,t){return t.push(e),e}function hwe(e,t){return e.map(t).join("")}var Lb=1,Cf=1,L2=0,ys=0,eo=0,xf="";function Nb(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Lb,column:Cf,length:s,return:""}}function Wg(e,t){return cwe(Nb("",null,null,"",null,null,0),e,{length:-e.length},t)}function fwe(){return eo}function pwe(){return eo=ys>0?Vo(xf,--ys):0,Cf--,eo===10&&(Cf=1,Lb--),eo}function zs(){return eo=ys<L2?Vo(xf,ys++):0,Cf++,eo===10&&(Cf=1,Lb++),eo}function zl(){return Vo(xf,ys)}function Bb(){return ys}function Kg(e,t){return Gg(xf,e,t)}function qg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N2(e){return Lb=Cf=1,L2=$l(xf=e),ys=0,[]}function B2(e){return xf="",e}function Fb(e){return A2(Kg(ys-1,IM(e===91?e+2:e===40?e+1:e)))}function gwe(e){for(;(eo=zl())&&eo<33;)zs();return qg(e)>2||qg(eo)>3?"":" "}function mwe(e,t){for(;--t&&zs()&&!(eo<48||eo>102||eo>57&&eo<65||eo>70&&eo<97););return Kg(e,Bb()+(t<6&&zl()==32&&zs()==32))}function IM(e){for(;zs();)switch(eo){case e:return ys;case 34:case 39:e!==34&&e!==39&&IM(eo);break;case 40:e===41&&IM(e);break;case 92:zs();break}return ys}function vwe(e,t){for(;zs()&&e+eo!==57;)if(e+eo===84&&zl()===47)break;return"/*"+Kg(t,ys-1)+"*"+Db(e===47?e:zs())}function ywe(e){for(;!qg(zl());)zs();return Kg(e,ys)}function bwe(e){return B2(jb("",null,null,null,[""],e=N2(e),0,[0],e))}function jb(e,t,n,r,i,o,s,l,c){for(var u=0,h=0,p=s,g=0,m=0,y=0,b=1,v=1,S=1,E=0,T="",O=i,M=o,I=r,N=T;v;)switch(y=E,E=zs()){case 40:if(y!=108&&Vo(N,p-1)==58){OM(N+=Br(Fb(E),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:N+=Fb(E);break;case 9:case 10:case 13:case 32:N+=gwe(y);break;case 92:N+=mwe(Bb()-1,7);continue;case 47:switch(zl()){case 42:case 47:Ab(wwe(vwe(zs(),Bb()),t,n),c);break;default:N+="/"}break;case 123*b:l[u++]=$l(N)*S;case 125*b:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+h:S==-1&&(N=Br(N,/\f/g,"")),m>0&&$l(N)-p&&Ab(m>32?j2(N+";",r,n,p-1):j2(Br(N," ","")+";",r,n,p-2),c);break;case 59:N+=";";default:if(Ab(I=F2(N,t,n,u,h,i,l,T,O=[],M=[],p),o),E===123)if(h===0)jb(N,t,I,I,O,o,p,l,M);else switch(g===99&&Vo(N,3)===110?100:g){case 100:case 108:case 109:case 115:jb(e,I,I,r&&Ab(F2(e,I,I,0,0,i,l,T,i,O=[],p),M),i,M,p,l,r?O:M);break;default:jb(N,I,I,I,[""],M,0,l,M)}}u=h=m=0,b=S=1,T=N="",p=s;break;case 58:p=1+$l(N),m=y;default:if(b<1){if(E==123)--b;else if(E==125&&b++==0&&pwe()==125)continue}switch(N+=Db(E),E*b){case 38:S=h>0?1:(N+="\f",-1);break;case 44:l[u++]=($l(N)-1)*S,S=1;break;case 64:zl()===45&&(N+=Fb(zs())),g=zl(),h=p=$l(T=N+=ywe(Bb())),E++;break;case 45:y===45&&$l(N)==2&&(b=0)}}return o}function F2(e,t,n,r,i,o,s,l,c,u,h){for(var p=i-1,g=i===0?o:[""],m=RM(g),y=0,b=0,v=0;y<r;++y)for(var S=0,E=Gg(e,p+1,p=lwe(b=s[y])),T=e;S<m;++S)(T=A2(b>0?g[S]+" "+E:Br(E,/&\f/g,g[S])))&&(c[v++]=T);return Nb(e,t,n,i===0?TM:l,c,u,h)}function wwe(e,t,n){return Nb(e,t,n,P2,Db(fwe()),Gg(e,2,-2),0)}function j2(e,t,n,r){return Nb(e,t,n,MM,Gg(e,0,r),Gg(e,r+1,-1),r)}function _f(e,t){for(var n="",r=RM(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Swe(e,t,n,r){switch(e.type){case awe:if(e.children.length)break;case swe:case MM:return e.return=e.return||e.value;case P2:return"";case D2:return e.return=e.value+"{"+_f(e.children,r)+"}";case TM:e.value=e.props.join(",")}return $l(n=_f(e.children,r))?e.return=e.value+"{"+n+"}":""}function Cwe(e){var t=RM(e);return function(n,r,i,o){for(var s="",l=0;l<t;l++)s+=e[l](n,r,i,o)||"";return s}}function xwe(e){return function(t){t.root||(t=t.return)&&e(t)}}function V2(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var _we=function(t,n,r){for(var i=0,o=0;i=o,o=zl(),i===38&&o===12&&(n[r]=1),!qg(o);)zs();return Kg(t,ys)},Ewe=function(t,n){var r=-1,i=44;do switch(qg(i)){case 0:i===38&&zl()===12&&(n[r]=1),t[r]+=_we(ys-1,n,r);break;case 2:t[r]+=Fb(i);break;case 4:if(i===44){t[++r]=zl()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Db(i)}while(i=zs());return t},Twe=function(t,n){return B2(Ewe(N2(t),n))},$2=new WeakMap,Mwe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!$2.get(r))&&!i){$2.set(t,!0);for(var o=[],s=Twe(n,o),l=r.props,c=0,u=0;c<s.length;c++)for(var h=0;h<l.length;h++,u++)t.props[u]=o[c]?s[c].replace(/&\f/g,l[h]):l[h]+" "+s[c]}}},Owe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function z2(e,t){switch(uwe(e,t)){case 5103:return Nr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Nr+e+Pb+e+Zo+e+e;case 6828:case 4268:return Nr+e+Zo+e+e;case 6165:return Nr+e+Zo+"flex-"+e+e;case 5187:return Nr+e+Br(e,/(\w+).+(:[^]+)/,Nr+"box-$1$2"+Zo+"flex-$1$2")+e;case 5443:return Nr+e+Zo+"flex-item-"+Br(e,/flex-|-self/,"")+e;case 4675:return Nr+e+Zo+"flex-line-pack"+Br(e,/align-content|flex-|-self/,"")+e;case 5548:return Nr+e+Zo+Br(e,"shrink","negative")+e;case 5292:return Nr+e+Zo+Br(e,"basis","preferred-size")+e;case 6060:return Nr+"box-"+Br(e,"-grow","")+Nr+e+Zo+Br(e,"grow","positive")+e;case 4554:return Nr+Br(e,/([^-])(transform)/g,"$1"+Nr+"$2")+e;case 6187:return Br(Br(Br(e,/(zoom-|grab)/,Nr+"$1"),/(image-set)/,Nr+"$1"),e,"")+e;case 5495:case 3959:return Br(e,/(image-set\([^]*)/,Nr+"$1$`$1");case 4968:return Br(Br(e,/(.+:)(flex-)?(.*)/,Nr+"box-pack:$3"+Zo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nr+e+e;case 4095:case 3583:case 4068:case 2532:return Br(e,/(.+)-inline(.+)/,Nr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($l(e)-1-t>6)switch(Vo(e,t+1)){case 109:if(Vo(e,t+4)!==45)break;case 102:return Br(e,/(.+:)(.+)-([^]+)/,"$1"+Nr+"$2-$3$1"+Pb+(Vo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~OM(e,"stretch")?z2(Br(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Vo(e,t+1)!==115)break;case 6444:switch(Vo(e,$l(e)-3-(~OM(e,"!important")&&10))){case 107:return Br(e,":",":"+Nr)+e;case 101:return Br(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nr+(Vo(e,14)===45?"inline-":"")+"box$3$1"+Nr+"$2$3$1"+Zo+"$2box$3")+e}break;case 5936:switch(Vo(e,t+11)){case 114:return Nr+e+Zo+Br(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Nr+e+Zo+Br(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Nr+e+Zo+Br(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Nr+e+Zo+e+e}return e}var Rwe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case MM:t.return=z2(t.value,t.length);break;case D2:return _f([Wg(t,{value:Br(t.value,"@","@"+Nr)})],i);case TM:if(t.length)return hwe(t.props,function(o){switch(dwe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _f([Wg(t,{props:[Br(o,/:(read-\w+)/,":"+Pb+"$1")]})],i);case"::placeholder":return _f([Wg(t,{props:[Br(o,/:(plac\w+)/,":"+Nr+"input-$1")]}),Wg(t,{props:[Br(o,/:(plac\w+)/,":"+Pb+"$1")]}),Wg(t,{props:[Br(o,/:(plac\w+)/,Zo+"input-$1")]})],i)}return""})}},Iwe=[Rwe],kwe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var v=b.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=t.stylisPlugins||Iwe,o={},s,l=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var v=b.getAttribute("data-emotion").split(" "),S=1;S<v.length;S++)o[v[S]]=!0;l.push(b)});var c,u=[Mwe,Owe];{var h,p=[Swe,xwe(function(b){h.insert(b)})],g=Cwe(u.concat(i,p)),m=function(v){return _f(bwe(v),g)};c=function(v,S,E,T){h=E,m(v?v+"{"+S.styles+"}":S.styles),T&&(y.inserted[S.name]=!0)}}var y={key:n,sheet:new owe({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:c};return y.sheet.hydrate(l),y},kM={exports:{}},$r={};var U2;function Pwe(){if(U2)return $r;U2=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function T(M){if(typeof M=="object"&&M!==null){var I=M.$$typeof;switch(I){case t:switch(M=M.type,M){case c:case u:case r:case o:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case l:case h:case y:case m:case s:return M;default:return I}}case n:return I}}}function O(M){return T(M)===u}return $r.AsyncMode=c,$r.ConcurrentMode=u,$r.ContextConsumer=l,$r.ContextProvider=s,$r.Element=t,$r.ForwardRef=h,$r.Fragment=r,$r.Lazy=y,$r.Memo=m,$r.Portal=n,$r.Profiler=o,$r.StrictMode=i,$r.Suspense=p,$r.isAsyncMode=function(M){return O(M)||T(M)===c},$r.isConcurrentMode=O,$r.isContextConsumer=function(M){return T(M)===l},$r.isContextProvider=function(M){return T(M)===s},$r.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},$r.isForwardRef=function(M){return T(M)===h},$r.isFragment=function(M){return T(M)===r},$r.isLazy=function(M){return T(M)===y},$r.isMemo=function(M){return T(M)===m},$r.isPortal=function(M){return T(M)===n},$r.isProfiler=function(M){return T(M)===o},$r.isStrictMode=function(M){return T(M)===i},$r.isSuspense=function(M){return T(M)===p},$r.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===u||M===o||M===i||M===p||M===g||typeof M=="object"&&M!==null&&(M.$$typeof===y||M.$$typeof===m||M.$$typeof===s||M.$$typeof===l||M.$$typeof===h||M.$$typeof===v||M.$$typeof===S||M.$$typeof===E||M.$$typeof===b)},$r.typeOf=T,$r}var H2;function Dwe(){return H2||(H2=1,kM.exports=Pwe()),kM.exports}var PM,G2;function Awe(){if(G2)return PM;G2=1;var e=Dwe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function s(y){return e.isMemo(y)?i:o[y.$$typeof]||t}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function m(y,b,v){if(typeof b!="string"){if(g){var S=p(b);S&&S!==g&&m(y,S,v)}var E=c(b);u&&(E=E.concat(u(b)));for(var T=s(y),O=s(b),M=0;M<E.length;++M){var I=E[M];if(!n[I]&&!(v&&v[I])&&!(O&&O[I])&&!(T&&T[I])){var N=h(b,I);try{l(y,I,N)}catch{}}}}return y}return PM=m,PM}Awe();var Lwe=!0;function W2(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var DM=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||Lwe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},AM=function(t,n,r){DM(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Nwe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Bwe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fwe=/[A-Z]|^ms/g,jwe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K2=function(t){return t.charCodeAt(1)===45},q2=function(t){return t!=null&&typeof t!="boolean"},LM=V2(function(e){return K2(e)?e:e.replace(Fwe,"-$&").toLowerCase()}),Y2=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(jwe,function(r,i,o){return Ul={name:i,styles:o,next:Ul},i})}return Bwe[t]!==1&&!K2(t)&&typeof n=="number"&&n!==0?n+"px":n};function Yg(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ul={name:i.name,styles:i.styles,next:Ul},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ul={name:s.name,styles:s.styles,next:Ul},s=s.next;var l=o.styles+";";return l}return Vwe(e,t,n)}case"function":{if(e!==void 0){var c=Ul,u=n(e);return Ul=c,Yg(e,t,u)}break}}var h=n;if(t==null)return h;var p=t[h];return p!==void 0?p:h}function Vwe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yg(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var l=s;t!=null&&t[l]!==void 0?r+=o+"{"+t[l]+"}":q2(l)&&(r+=LM(o)+":"+Y2(o,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var c=0;c<s.length;c++)q2(s[c])&&(r+=LM(o)+":"+Y2(o,s[c])+";");else{var u=Yg(e,t,s);switch(o){case"animation":case"animationName":{r+=LM(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var X2=/label:\s*([^\s;{]+)\s*(;|$)/g,Ul;function Xg(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Ul=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Yg(n,t,o);else{var s=o;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=Yg(n,t,e[l]),r){var c=o;i+=c[l]}X2.lastIndex=0;for(var u="",h;(h=X2.exec(i))!==null;)u+="-"+h[1];var p=Nwe(i)+u;return{name:p,styles:i,next:Ul}}var $we=function(t){return t()},Z2=fM.useInsertionEffect?fM.useInsertionEffect:!1,Q2=Z2||$we,J2=Z2||_.useLayoutEffect,e$=_.createContext(typeof HTMLElement<"u"?kwe({key:"css"}):null);e$.Provider;var NM=function(t){return _.forwardRef(function(n,r){var i=_.useContext(e$);return t(n,i,r)})},Vb=_.createContext({}),BM={}.hasOwnProperty,FM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zwe=function(t,n){var r={};for(var i in n)BM.call(n,i)&&(r[i]=n[i]);return r[FM]=t,r},Uwe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return DM(n,r,i),Q2(function(){return AM(n,r,i)}),null},Hwe=NM(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[FM],o=[r],s="";typeof e.className=="string"?s=W2(t.registered,o,e.className):e.className!=null&&(s=e.className+" ");var l=Xg(o,void 0,_.useContext(Vb));s+=t.key+"-"+l.name;var c={};for(var u in e)BM.call(e,u)&&u!=="css"&&u!==FM&&(c[u]=e[u]);return c.className=s,n&&(c.ref=n),_.createElement(_.Fragment,null,_.createElement(Uwe,{cache:t,serialized:l,isStringTag:typeof i=="string"}),_.createElement(i,c))}),Gwe=Hwe,t$=function(t,n){var r=arguments;if(n==null||!BM.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=Gwe,o[1]=zwe(t,n);for(var s=2;s<i;s++)o[s]=r[s];return _.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(t$||(t$={}));var Wwe=NM(function(e,t){var n=e.styles,r=Xg([n],void 0,_.useContext(Vb)),i=_.useRef();return J2(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",o),s.hydrate([c])),i.current=[s,l],function(){s.flush()}},[t]),J2(function(){var o=i.current,s=o[0],l=o[1];if(l){o[1]=!1;return}if(r.next!==void 0&&AM(t,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function Eu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xg(t)}function ya(){var e=Eu.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Kwe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qwe=V2(function(e){return Kwe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Ywe=qwe,Xwe=function(t){return t!=="theme"},n$=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Ywe:Xwe},r$=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Zwe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return DM(n,r,i),Q2(function(){return AM(n,r,i)}),null},Qwe=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var l=r$(t,n,r),c=l||n$(i),u=!c("as");return function(){var h=arguments,p=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&p.push("label:"+o+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var g=h[0];p.push(g[0]);for(var m=h.length,y=1;y<m;y++)p.push(h[y],g[y])}var b=NM(function(v,S,E){var T=u&&v.as||i,O="",M=[],I=v;if(v.theme==null){I={};for(var N in v)I[N]=v[N];I.theme=_.useContext(Vb)}typeof v.className=="string"?O=W2(S.registered,M,v.className):v.className!=null&&(O=v.className+" ");var D=Xg(p.concat(M),S.registered,I);O+=S.key+"-"+D.name,s!==void 0&&(O+=" "+s);var L=u&&l===void 0?n$(T):c,A={};for(var $ in v)u&&$==="as"||L($)&&(A[$]=v[$]);return A.className=O,E&&(A.ref=E),_.createElement(_.Fragment,null,_.createElement(Zwe,{cache:S,serialized:D,isStringTag:typeof T=="string"}),_.createElement(T,A))});return b.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=p,b.__emotion_forwardProp=l,Object.defineProperty(b,"toString",{value:function(){return"."+s}}),b.withComponent=function(v,S){var E=e(v,W({},n,S,{shouldForwardProp:r$(b,S,!0)}));return E.apply(void 0,p)},b}},Jwe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],jM=Qwe.bind(null);Jwe.forEach(function(e){jM[e]=jM(e)});var VM={exports:{}},$M,i$;function eSe(){if(i$)return $M;i$=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $M=e,$M}var zM,o$;function tSe(){if(o$)return zM;o$=1;var e=eSe();function t(){}function n(){}return n.resetWarningCache=t,zM=function(){function r(s,l,c,u,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},zM}var s$;function nSe(){return s$||(s$=1,VM.exports=tSe()()),VM.exports}var rSe=nSe();const Ae=Kv(rSe);function iSe(e){return e==null||Object.keys(e).length===0}function oSe(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(iSe(i)?n:i):t;return C.jsx(Wwe,{styles:r})}function a$(e,t){return jM(e,t)}function sSe(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const l$=[];function Tu(e){return l$[0]=e,Xg(l$)}var UM={exports:{}},Yr={};var c$;function aSe(){if(c$)return Yr;c$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(b){if(typeof b=="object"&&b!==null){var v=b.$$typeof;switch(v){case e:switch(b=b.type,b){case n:case i:case r:case c:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case s:case l:case p:case h:return b;case o:return b;default:return v}}case t:return v}}}return Yr.ContextConsumer=o,Yr.ContextProvider=s,Yr.Element=e,Yr.ForwardRef=l,Yr.Fragment=n,Yr.Lazy=p,Yr.Memo=h,Yr.Portal=t,Yr.Profiler=i,Yr.StrictMode=r,Yr.Suspense=c,Yr.SuspenseList=u,Yr.isContextConsumer=function(b){return y(b)===o},Yr.isContextProvider=function(b){return y(b)===s},Yr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Yr.isForwardRef=function(b){return y(b)===l},Yr.isFragment=function(b){return y(b)===n},Yr.isLazy=function(b){return y(b)===p},Yr.isMemo=function(b){return y(b)===h},Yr.isPortal=function(b){return y(b)===t},Yr.isProfiler=function(b){return y(b)===i},Yr.isStrictMode=function(b){return y(b)===r},Yr.isSuspense=function(b){return y(b)===c},Yr.isSuspenseList=function(b){return y(b)===u},Yr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===s||b.$$typeof===o||b.$$typeof===l||b.$$typeof===m||b.getModuleId!==void 0)},Yr.typeOf=y,Yr}var u$;function lSe(){return u$||(u$=1,UM.exports=aSe()),UM.exports}var d$=lSe();function Hl(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function h$(e){if(_.isValidElement(e)||d$.isValidElementType(e)||!Hl(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=h$(e[n])}),t}function Mo(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Hl(e)&&Hl(t)&&Object.keys(t).forEach(i=>{_.isValidElement(t[i])||d$.isValidElementType(t[i])?r[i]=t[i]:Hl(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Hl(e[i])?r[i]=Mo(e[i],t[i],n):n.clone?r[i]=Hl(t[i])?h$(t[i]):t[i]:r[i]=t[i]}),r}const cSe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function uSe(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=cSe(t),s=Object.keys(o);function l(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n})`}function c(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-r/100}${n})`}function u(g,m){const y=s.indexOf(m);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${n}) and (max-width:${(y!==-1&&typeof t[s[y]]=="number"?t[s[y]]:m)-r/100}${n})`}function h(g){return s.indexOf(g)+1<s.length?u(g,s[s.indexOf(g)+1]):l(g)}function p(g){const m=s.indexOf(g);return m===0?l(s[1]):m===s.length-1?c(s[m]):u(g,s[s.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:l,down:c,between:u,only:h,not:p,unit:n,...i}}function f$(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(i.match(o)?.[1]||0)});return n.length?n.reduce((r,i)=>{const o=t[i];return delete r[i],r[i]=o,r},{...t}):t}function dSe(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function hSe(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}function fSe(e){const t=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...l)=>t(e.breakpoints.up(...l),s),o.down=(...l)=>t(e.breakpoints.down(...l),s),o.between=(...l)=>t(e.breakpoints.between(...l),s),o.only=(...l)=>t(e.breakpoints.only(...l),s),o.not=(...l)=>{const c=t(e.breakpoints.not(...l),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},i=o=>(n(r,o),r);return n(i),{...e,containerQueries:i}}const pSe={borderRadius:4};function Zg(e,t){return t?Mo(e,t,{clone:!1}):e}const $b={xs:0,sm:600,md:900,lg:1200,xl:1536},p$={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${$b[e]}px)`},gSe={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:$b[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function cl(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||p$;return t.reduce((s,l,c)=>(s[o.up(o.keys[c])]=n(t[c]),s),{})}if(typeof t=="object"){const o=r.breakpoints||p$;return Object.keys(t).reduce((s,l)=>{if(dSe(o.keys,l)){const c=hSe(r.containerQueries?r:gSe,l);c&&(s[c]=n(t[l],l))}else if(Object.keys(o.values||$b).includes(l)){const c=o.up(l);s[c]=n(t[l],l)}else{const c=l;s[c]=t[c]}return s},{})}return n(t)}function g$(e={}){return e.keys?.reduce((n,r)=>{const i=e.up(r);return n[i]={},n},{})||{}}function HM(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function mSe(e,...t){const n=g$(e),r=[n,...t].reduce((i,o)=>Mo(i,o),{});return HM(Object.keys(n),r)}function vSe(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,o)=>{o<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function GM({values:e,breakpoints:t,base:n}){const r=n||vSe(e,t),i=Object.keys(r);if(i.length===0)return e;let o;return i.reduce((s,l,c)=>(Array.isArray(e)?(s[l]=e[c]!=null?e[c]:e[o],o=c):typeof e=="object"?(s[l]=e[l]!=null?e[l]:e[o],o=l):s[l]=e,s),{})}function Qe(e){if(typeof e!="string")throw new Error(Tc(7));return e.charAt(0).toUpperCase()+e.slice(1)}function zb(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Ub(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=zb(e,n)||r,t&&(i=t(i,r,e)),i}function Gi(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const l=s[t],c=s.theme,u=zb(c,r)||{};return cl(s,l,p=>{let g=Ub(u,i,p);return p===g&&typeof p=="string"&&(g=Ub(u,i,`${t}${p==="default"?"":Qe(p)}`,p)),n===!1?g:{[n]:g}})};return o.propTypes={},o.filterProps=[t],o}function ySe(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const bSe={m:"margin",p:"padding"},wSe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},m$={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},SSe=ySe(e=>{if(e.length>2)if(m$[e])e=m$[e];else return[e];const[t,n]=e.split(""),r=bSe[t],i=wSe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),WM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],KM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...WM,...KM];function Qg(e,t,n,r){const i=zb(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),l=i[s];return o>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof i=="function"?i:()=>{}}function Hb(e){return Qg(e,"spacing",8)}function oh(e,t){return typeof t=="string"||t==null?t:e(t)}function CSe(e,t){return n=>e.reduce((r,i)=>(r[i]=oh(t,n),r),{})}function xSe(e,t,n,r){if(!t.includes(n))return null;const i=SSe(n),o=CSe(i,r),s=e[n];return cl(e,s,o)}function v$(e,t){const n=Hb(e.theme);return Object.keys(e).map(r=>xSe(e,t,r,n)).reduce(Zg,{})}function Bi(e){return v$(e,WM)}Bi.propTypes={},Bi.filterProps=WM;function Fi(e){return v$(e,KM)}Fi.propTypes={},Fi.filterProps=KM;function y$(e=8,t=Hb({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Gb(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?Zg(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ba(e){return typeof e!="number"?e:`${e}px solid`}function wa(e,t){return Gi({prop:e,themeKey:"borders",transform:t})}const _Se=wa("border",ba),ESe=wa("borderTop",ba),TSe=wa("borderRight",ba),MSe=wa("borderBottom",ba),OSe=wa("borderLeft",ba),RSe=wa("borderColor"),ISe=wa("borderTopColor"),kSe=wa("borderRightColor"),PSe=wa("borderBottomColor"),DSe=wa("borderLeftColor"),ASe=wa("outline",ba),LSe=wa("outlineColor"),Wb=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Qg(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:oh(t,r)});return cl(e,e.borderRadius,n)}return null};Wb.propTypes={},Wb.filterProps=["borderRadius"],Gb(_Se,ESe,TSe,MSe,OSe,RSe,ISe,kSe,PSe,DSe,Wb,ASe,LSe);const Kb=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Qg(e.theme,"spacing",8),n=r=>({gap:oh(t,r)});return cl(e,e.gap,n)}return null};Kb.propTypes={},Kb.filterProps=["gap"];const qb=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Qg(e.theme,"spacing",8),n=r=>({columnGap:oh(t,r)});return cl(e,e.columnGap,n)}return null};qb.propTypes={},qb.filterProps=["columnGap"];const Yb=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Qg(e.theme,"spacing",8),n=r=>({rowGap:oh(t,r)});return cl(e,e.rowGap,n)}return null};Yb.propTypes={},Yb.filterProps=["rowGap"];const NSe=Gi({prop:"gridColumn"}),BSe=Gi({prop:"gridRow"}),FSe=Gi({prop:"gridAutoFlow"}),jSe=Gi({prop:"gridAutoColumns"}),VSe=Gi({prop:"gridAutoRows"}),$Se=Gi({prop:"gridTemplateColumns"}),zSe=Gi({prop:"gridTemplateRows"}),USe=Gi({prop:"gridTemplateAreas"}),HSe=Gi({prop:"gridArea"});Gb(Kb,qb,Yb,NSe,BSe,FSe,jSe,VSe,$Se,zSe,USe,HSe);function Ef(e,t){return t==="grey"?t:e}const GSe=Gi({prop:"color",themeKey:"palette",transform:Ef}),WSe=Gi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ef}),KSe=Gi({prop:"backgroundColor",themeKey:"palette",transform:Ef});Gb(GSe,WSe,KSe);function Us(e){return e<=1&&e!==0?`${e*100}%`:e}const qSe=Gi({prop:"width",transform:Us}),qM=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{const r=e.theme?.breakpoints?.values?.[n]||$b[n];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Us(n)}};return cl(e,e.maxWidth,t)}return null};qM.filterProps=["maxWidth"];const YSe=Gi({prop:"minWidth",transform:Us}),XSe=Gi({prop:"height",transform:Us}),ZSe=Gi({prop:"maxHeight",transform:Us}),QSe=Gi({prop:"minHeight",transform:Us});Gi({prop:"size",cssProperty:"width",transform:Us}),Gi({prop:"size",cssProperty:"height",transform:Us});const JSe=Gi({prop:"boxSizing"});Gb(qSe,qM,YSe,XSe,ZSe,QSe,JSe);const Jg={border:{themeKey:"borders",transform:ba},borderTop:{themeKey:"borders",transform:ba},borderRight:{themeKey:"borders",transform:ba},borderBottom:{themeKey:"borders",transform:ba},borderLeft:{themeKey:"borders",transform:ba},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ba},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Wb},color:{themeKey:"palette",transform:Ef},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ef},backgroundColor:{themeKey:"palette",transform:Ef},p:{style:Fi},pt:{style:Fi},pr:{style:Fi},pb:{style:Fi},pl:{style:Fi},px:{style:Fi},py:{style:Fi},padding:{style:Fi},paddingTop:{style:Fi},paddingRight:{style:Fi},paddingBottom:{style:Fi},paddingLeft:{style:Fi},paddingX:{style:Fi},paddingY:{style:Fi},paddingInline:{style:Fi},paddingInlineStart:{style:Fi},paddingInlineEnd:{style:Fi},paddingBlock:{style:Fi},paddingBlockStart:{style:Fi},paddingBlockEnd:{style:Fi},m:{style:Bi},mt:{style:Bi},mr:{style:Bi},mb:{style:Bi},ml:{style:Bi},mx:{style:Bi},my:{style:Bi},margin:{style:Bi},marginTop:{style:Bi},marginRight:{style:Bi},marginBottom:{style:Bi},marginLeft:{style:Bi},marginX:{style:Bi},marginY:{style:Bi},marginInline:{style:Bi},marginInlineStart:{style:Bi},marginInlineEnd:{style:Bi},marginBlock:{style:Bi},marginBlockStart:{style:Bi},marginBlockEnd:{style:Bi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Kb},rowGap:{style:Yb},columnGap:{style:qb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Us},maxWidth:{style:qM},minWidth:{transform:Us},height:{transform:Us},maxHeight:{transform:Us},minHeight:{transform:Us},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function e0e(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function t0e(e,t){return typeof e=="function"?e(t):e}function n0e(){function e(n,r,i,o){const s={[n]:r,theme:i},l=o[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:h,style:p}=l;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const g=zb(i,u)||{};return p?p(s):cl(s,r,y=>{let b=Ub(g,h,y);return y===b&&typeof y=="string"&&(b=Ub(g,h,`${n}${y==="default"?"":Qe(y)}`,y)),c===!1?b:{[c]:b}})}function t(n){const{sx:r,theme:i={},nested:o}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Jg;function l(c){let u=c;if(typeof c=="function")u=c(i);else if(typeof c!="object")return c;if(!u)return null;const h=g$(i.breakpoints),p=Object.keys(h);let g=h;return Object.keys(u).forEach(m=>{const y=t0e(u[m],i);if(y!=null)if(typeof y=="object")if(s[m])g=Zg(g,e(m,y,i,s));else{const b=cl({theme:i},y,v=>({[m]:v}));e0e(b,y)?g[m]=t({sx:y,theme:i,nested:!0}):g=Zg(g,b)}else g=Zg(g,e(m,y,i,s))}),!o&&i.modularCssLayers?{"@layer sx":f$(i,HM(p,g))}:f$(i,HM(p,g))}return Array.isArray(r)?r.map(l):l(r)}return t}const sh=n0e();sh.filterProps=["sx"];function r0e(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(e);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}function Xb(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=e,l=uSe(n),c=y$(i);let u=Mo({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...pSe,...o}},s);return u=fSe(u),u.applyStyles=r0e,u=t.reduce((h,p)=>Mo(h,p),u),u.unstable_sxConfig={...Jg,...s?.unstable_sxConfig},u.unstable_sx=function(p){return sh({sx:p,theme:this})},u}function i0e(e){return Object.keys(e).length===0}function o0e(e=null){const t=_.useContext(Vb);return!t||i0e(t)?e:t}const s0e=Xb();function Zb(e=s0e){return o0e(e)}function YM(e){const t=Tu(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function a0e({styles:e,themeId:t,defaultTheme:n={}}){const r=Zb(n),i=t&&r[t]||r;let o=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(s=>YM(typeof s=="function"?s(i):s)):o=YM(o)),C.jsx(oSe,{styles:o})}const l0e=e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Jg;return Object.keys(e).forEach(r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function XM(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=l0e(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const l=t(...s);return Hl(l)?{...r,...l}:r}:o={...r,...t},{...i,sx:o}}const b$=e=>e,w$=(()=>{let e=b$;return{configure(t){e=t},generate(t){return e(t)},reset(){e=b$}}})();function S$(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=S$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=S$(e))&&(r&&(r+=" "),r+=t);return r}function c0e(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=a$("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(sh);return _.forwardRef(function(c,u){const h=Zb(n),{className:p,component:g="div",...m}=XM(c);return C.jsx(o,{as:g,ref:u,className:Je(p,i?i(r):r),theme:t&&h[t]||h,...m})})}const u0e={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function cn(e,t,n="Mui"){const r=u0e[t];return r?`${n}-${r}`:`${w$.generate(e)}-${t}`}function on(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=cn(e,i,n)}),r}function C$(e){const{variants:t,...n}=e,r={variants:t,style:Tu(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=Tu(i.style))}),r}const d0e=Xb();function Tf(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ah(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function h0e(e){return e?(t,n)=>n[e]:null}function f0e(e,t,n){e.theme=g0e(e.theme)?n:e.theme[t]||e.theme}function Qb(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(i=>Qb(e,i,n));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=n?ah(r.style,n):r.style;else{const{variants:o,...s}=r;i=n?ah(Tu(s),n):s}return x$(e,r.variants,[i],n)}return r?.isProcessed?n?ah(Tu(r.style),n):r.style:n?ah(Tu(r),n):r}function x$(e,t,n=[],r=void 0){let i;e:for(let o=0;o<t.length;o+=1){const s=t[o];if(typeof s.props=="function"){if(i??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(i))continue}else for(const l in s.props)if(e[l]!==s.props[l]&&e.ownerState?.[l]!==s.props[l])continue e;typeof s.style=="function"?(i??={...e,...e.ownerState,ownerState:e.ownerState},n.push(r?ah(Tu(s.style(i)),r):s.style(i))):n.push(r?ah(Tu(s.style),r):s.style)}return n}function _$(e={}){const{themeId:t,defaultTheme:n=d0e,rootShouldForwardProp:r=Tf,slotShouldForwardProp:i=Tf}=e;function o(l){f0e(l,t,n)}return(l,c={})=>{sSe(l,I=>I.filter(N=>N!==sh));const{name:u,slot:h,skipVariantsResolver:p,skipSx:g,overridesResolver:m=h0e(v0e(h)),...y}=c,b=u&&u.startsWith("Mui")||h?"components":"custom",v=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,S=g||!1;let E=Tf;h==="Root"||h==="root"?E=r:h?E=i:m0e(l)&&(E=void 0);const T=a$(l,{shouldForwardProp:E,label:p0e(),...y}),O=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(D){return Qb(D,I,D.theme.modularCssLayers?b:void 0)};if(Hl(I)){const N=C$(I);return function(L){return N.variants?Qb(L,N,L.theme.modularCssLayers?b:void 0):L.theme.modularCssLayers?ah(N.style,b):N.style}}return I},M=(...I)=>{const N=[],D=I.map(O),L=[];if(N.push(o),u&&m&&L.push(function(U){const q=U.theme.components?.[u]?.styleOverrides;if(!q)return null;const z={};for(const Y in q)z[Y]=Qb(U,q[Y],U.theme.modularCssLayers?"theme":void 0);return m(U,z)}),u&&!v&&L.push(function(U){const q=U.theme?.components?.[u]?.variants;return q?x$(U,q,[],U.theme.modularCssLayers?"theme":void 0):null}),S||L.push(sh),Array.isArray(D[0])){const j=D.shift(),U=new Array(N.length).fill(""),K=new Array(L.length).fill("");let q;q=[...U,...j,...K],q.raw=[...U,...j.raw,...K],N.unshift(q)}const A=[...N,...D,...L],$=T(...A);return l.muiName&&($.muiName=l.muiName),$};return T.withConfig&&(M.withConfig=T.withConfig),M}}function p0e(e,t){return void 0}function g0e(e){for(const t in e)return!1;return!0}function m0e(e){return typeof e=="string"&&e.charCodeAt(0)>96}function v0e(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const fr=_$();function lh(e,t,n=!1){const r={...t};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=i;if(o==="components"||o==="slots")r[o]={...e[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const s=e[o],l=t[o];if(!l)r[o]=s||{};else if(!s)r[o]=l;else{r[o]={...l};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;r[o][u]=lh(s[u],l[u],n)}}}else o==="className"&&n&&t.className?r.className=Je(e?.className,t?.className):o==="style"&&n&&t.style?r.style={...e?.style,...t?.style}:r[o]===void 0&&(r[o]=e[o])}return r}function E$(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:lh(t.components[n].defaultProps,r)}function T$({props:e,name:t,defaultTheme:n,themeId:r}){let i=Zb(n);return r&&(i=i[r]||i),E$({theme:i,name:t,props:e})}const pr=typeof window<"u"?_.useLayoutEffect:_.useEffect;function y0e(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function ZM(e,t=0,n=1){return y0e(e,t,n)}function b0e(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Mu(e){if(e.type)return e;if(e.charAt(0)==="#")return Mu(b0e(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Tc(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Tc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const w0e=e=>{const t=Mu(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},em=(e,t)=>{try{return w0e(e)}catch{return e}};function Jb(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function M$(e){e=Mu(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(u,h=(u+n/30)%12)=>i-o*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),Jb({type:l,values:c})}function QM(e){e=Mu(e);let t=e.type==="hsl"||e.type==="hsla"?Mu(M$(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function S0e(e,t){const n=QM(e),r=QM(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Sa(e,t){return e=Mu(e),t=ZM(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Jb(e)}function ch(e,t,n){try{return Sa(e,t)}catch{return e}}function tm(e,t){if(e=Mu(e),t=ZM(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Jb(e)}function Gr(e,t,n){try{return tm(e,t)}catch{return e}}function nm(e,t){if(e=Mu(e),t=ZM(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Jb(e)}function Wr(e,t,n){try{return nm(e,t)}catch{return e}}function C0e(e,t=.15){return QM(e)>.5?tm(e,t):nm(e,t)}function ew(e,t,n){try{return C0e(e,t)}catch{return e}}const x0e=_.createContext(),Oo=()=>_.useContext(x0e)??!1,_0e=_.createContext(void 0);function E0e(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?lh(i.defaultProps,r,t.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?lh(i,r,t.components.mergeClassNameAndStyle):r}function T0e({props:e,name:t}){const n=_.useContext(_0e);return E0e({props:e,name:t,theme:{components:n}})}let O$=0;function M0e(e){const[t,n]=_.useState(e),r=e||t;return _.useEffect(()=>{t==null&&(O$+=1,n(`mui-${O$}`))},[t]),r}const R$={...fM}.useId;function sr(e){if(R$!==void 0){const t=R$();return e??t}return M0e(e)}const I$={theme:void 0};function O0e(e){let t,n;return function(i){let o=t;return(o===void 0||i.theme!==n)&&(I$.theme=i.theme,o=C$(e(I$)),t=o,n=i.theme),o}}function R0e(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const k$=(e,t,n,r=[])=>{let i=e;t.forEach((o,s)=>{s===t.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},I0e=(e,t,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([l,c])=>{(!n||n&&!n([...o,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...o,l],Array.isArray(c)?[...s,l]:s):t([...o,l],c,s))})}r(e)},k0e=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function JM(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};return I0e(e,(l,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(l,c))){const h=`--${n?`${n}-`:""}${l.join("-")}`,p=k0e(l,c);Object.assign(i,{[h]:p}),k$(o,l,`var(${h})`,u),k$(s,l,`var(${h}, ${p})`,u)}},l=>l[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function P0e(e,t={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:o}=t,{colorSchemes:s={},components:l,defaultColorScheme:c="light",...u}=e,{vars:h,css:p,varsWithDefaults:g}=JM(u,t);let m=g;const y={},{[c]:b,...v}=s;if(Object.entries(v||{}).forEach(([O,M])=>{const{vars:I,css:N,varsWithDefaults:D}=JM(M,t);m=Mo(m,D),y[O]={css:N,vars:I}}),b){const{css:O,vars:M,varsWithDefaults:I}=JM(b,t);m=Mo(m,I),y[c]={css:O,vars:M}}function S(O,M){let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),O){if(I==="media")return e.defaultColorScheme===O?":root":{[`@media (prefers-color-scheme: ${s[O]?.palette?.mode||O})`]:{":root":M}};if(I)return e.defaultColorScheme===O?`:root, ${I.replace("%s",String(O))}`:I.replace("%s",String(O))}return":root"}return{vars:m,generateThemeVars:()=>{let O={...h};return Object.entries(y).forEach(([,{vars:M}])=>{O=Mo(O,M)}),O},generateStyleSheets:()=>{const O=[],M=e.defaultColorScheme||"light";function I(L,A){Object.keys(A).length&&O.push(typeof L=="string"?{[L]:{...A}}:L)}I(n(void 0,{...p}),p);const{[M]:N,...D}=y;if(N){const{css:L}=N,A=s[M]?.palette?.mode,$=!r&&A?{colorScheme:A,...L}:{...L};I(n(M,{...$}),$)}return Object.entries(D).forEach(([L,{css:A}])=>{const $=s[L]?.palette?.mode,j=!r&&$?{colorScheme:$,...A}:{...A};I(n(L,{...j}),j)}),o&&O.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),O}}}function D0e(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function _t(e,t,n=void 0){const r={};for(const i in e){const o=e[i];let s="",l=!0;for(let c=0;c<o.length;c+=1){const u=o[c];u&&(s+=(l===!0?"":" ")+t(u),l=!1,n&&n[u]&&(s+=" "+n[u]))}r[i]=s}return r}function tw(e,t){return _.isValidElement(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}const A0e=Xb(),L0e=fr("div",{name:"MuiStack",slot:"Root"});function N0e(e){return T$({props:e,name:"MuiStack",defaultTheme:A0e})}function B0e(e,t){const n=_.Children.toArray(e).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(_.cloneElement(t,{key:`separator-${o}`})),r),[])}const F0e=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],j0e=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...cl({theme:t},GM({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=Hb(t),i=Object.keys(t.breakpoints.values).reduce((c,u)=>((typeof e.spacing=="object"&&e.spacing[u]!=null||typeof e.direction=="object"&&e.direction[u]!=null)&&(c[u]=!0),c),{}),o=GM({values:e.direction,base:i}),s=GM({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((c,u,h)=>{if(!o[c]){const g=u>0?o[h[u-1]]:"column";o[c]=g}}),n=Mo(n,cl({theme:t},s,(c,u)=>e.useFlexGap?{gap:oh(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${F0e(u?o[u]:e.direction)}`]:oh(r,c)}}))}return n=mSe(t.breakpoints,n),n};function V0e(e={}){const{createStyledComponent:t=L0e,useThemeProps:n=N0e,componentName:r="MuiStack"}=e,i=()=>_t({root:["root"]},c=>cn(r,c),{}),o=t(j0e);return _.forwardRef(function(c,u){const h=n(c),p=XM(h),{component:g="div",direction:m="column",spacing:y=0,divider:b,children:v,className:S,useFlexGap:E=!1,...T}=p,O={direction:m,spacing:y,useFlexGap:E},M=i();return C.jsx(o,{as:g,ownerState:O,ref:u,className:Je(M.root,S),...T,children:b?B0e(v,b):v})})}function P$(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zg.white,default:zg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const D$=P$();function A$(){return{text:{primary:zg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const eO=A$();function L$(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=nm(e.main,i):t==="dark"&&(e.dark=tm(e.main,o)))}function N$(e,t,n,r,i){const o=i.light||i,s=i.dark||i*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(o*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function $0e(e="light"){return e==="dark"?{main:_u[200],light:_u[50],dark:_u[400]}:{main:_u[700],light:_u[400],dark:_u[800]}}function z0e(e="light"){return e==="dark"?{main:wf[200],light:wf[50],dark:wf[400]}:{main:wf[500],light:wf[300],dark:wf[700]}}function U0e(e="light"){return e==="dark"?{main:bf[500],light:bf[300],dark:bf[700]}:{main:bf[700],light:bf[400],dark:bf[800]}}function H0e(e="light"){return e==="dark"?{main:Sf[400],light:Sf[300],dark:Sf[700]}:{main:Sf[700],light:Sf[500],dark:Sf[900]}}function G0e(e="light"){return e==="dark"?{main:Vl[400],light:Vl[300],dark:Vl[700]}:{main:Vl[800],light:Vl[500],dark:Vl[900]}}function W0e(e="light"){return e==="dark"?{main:Ug[400],light:Ug[300],dark:Ug[700]}:{main:"#ed6c02",light:Ug[500],dark:Ug[900]}}function K0e(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function tO(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i,...o}=e,s=e.primary||$0e(t),l=e.secondary||z0e(t),c=e.error||U0e(t),u=e.info||H0e(t),h=e.success||G0e(t),p=e.warning||W0e(t);function g(v){return i?K0e(v):S0e(v,eO.text.primary)>=n?eO.text.primary:D$.text.primary}const m=({color:v,name:S,mainShade:E=500,lightShade:T=300,darkShade:O=700})=>{if(v={...v},!v.main&&v[E]&&(v.main=v[E]),!v.hasOwnProperty("main"))throw new Error(Tc(11,S?` (${S})`:"",E));if(typeof v.main!="string")throw new Error(Tc(12,S?` (${S})`:"",JSON.stringify(v.main)));return i?(N$(i,v,"light",T,r),N$(i,v,"dark",O,r)):(L$(v,"light",T,r),L$(v,"dark",O,r)),v.contrastText||(v.contrastText=g(v.main)),v};let y;return t==="light"?y=P$():t==="dark"&&(y=A$()),Mo({common:{...zg},mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:h,name:"success"}),grey:nwe,contrastThreshold:n,getContrastText:g,augmentColor:m,tonalOffset:r,...y},o)}function q0e(e){const t={};return Object.entries(e).forEach(r=>{const[i,o]=r;typeof o=="object"&&(t[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),t}function Y0e(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function X0e(e){return Math.round(e*1e5)/1e5}const B$={textTransform:"uppercase"},F$='"Roboto", "Helvetica", "Arial", sans-serif';function Z0e(e,t){const{fontFamily:n=F$,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h,...p}=typeof t=="function"?t(e):t,g=r/14,m=h||(v=>`${v/c*g}rem`),y=(v,S,E,T,O)=>({fontFamily:n,fontWeight:v,fontSize:m(S),lineHeight:E,...n===F$?{letterSpacing:`${X0e(T/S)}em`}:{},...O,...u}),b={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(s,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(s,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(s,14,1.75,.4,B$),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,B$),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mo({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:l,...b},p,{clone:!1})}const Q0e=.2,J0e=.14,eCe=.12;function wi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Q0e})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${J0e})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${eCe})`].join(",")}const tCe=["none",wi(0,2,1,-1,0,1,1,0,0,1,3,0),wi(0,3,1,-2,0,2,2,0,0,1,5,0),wi(0,3,3,-2,0,3,4,0,0,1,8,0),wi(0,2,4,-1,0,4,5,0,0,1,10,0),wi(0,3,5,-1,0,5,8,0,0,1,14,0),wi(0,3,5,-1,0,6,10,0,0,1,18,0),wi(0,4,5,-2,0,7,10,1,0,2,16,1),wi(0,5,5,-3,0,8,10,1,0,3,14,2),wi(0,5,6,-3,0,9,12,1,0,3,16,2),wi(0,6,6,-3,0,10,14,1,0,4,18,3),wi(0,6,7,-4,0,11,15,1,0,4,20,3),wi(0,7,8,-4,0,12,17,2,0,5,22,4),wi(0,7,8,-4,0,13,19,2,0,5,24,4),wi(0,7,9,-4,0,14,21,2,0,5,26,4),wi(0,8,9,-5,0,15,22,2,0,6,28,5),wi(0,8,10,-5,0,16,24,2,0,6,30,5),wi(0,8,11,-5,0,17,26,2,0,6,32,5),wi(0,9,11,-5,0,18,28,2,0,7,34,6),wi(0,9,12,-6,0,19,29,2,0,7,36,6),wi(0,10,13,-6,0,20,31,3,0,8,38,7),wi(0,10,13,-6,0,21,33,3,0,8,40,7),wi(0,10,14,-6,0,22,35,3,0,8,42,7),wi(0,11,14,-7,0,23,36,3,0,9,44,8),wi(0,11,15,-7,0,24,38,3,0,9,46,8)],nCe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},j$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function V$(e){return`${Math.round(e)}ms`}function rCe(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function iCe(e){const t={...nCe,...e.easing},n={...j$,...e.duration};return{getAutoHeightDuration:rCe,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:l=t.easeInOut,delay:c=0,...u}=o;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof s=="string"?s:V$(s)} ${l} ${typeof c=="string"?c:V$(c)}`).join(",")},...e,easing:t,duration:n}}const oCe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function sCe(e){return Hl(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function $$(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,l]=i[o];!sCe(l)||s.startsWith("unstable_")?delete r[s]:Hl(l)&&(r[s]={...l},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function z$(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const aCe=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function lCe(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:Sa(t,aCe(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${z$(n)})`:nm(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${z$(n)})`:tm(t,n)}})}function nO(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:l={},shape:c,colorSpace:u,...h}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Tc(20));const p=tO({...o,colorSpace:u}),g=Xb(e);let m=Mo(g,{mixins:Y0e(g.breakpoints,r),palette:p,shadows:tCe.slice(),typography:Z0e(p,l),transitions:iCe(s),zIndex:{...oCe}});return m=Mo(m,h),m=t.reduce((y,b)=>Mo(y,b),m),m.unstable_sxConfig={...Jg,...h?.unstable_sxConfig},m.unstable_sx=function(b){return sh({sx:b,theme:this})},m.toRuntimeSource=$$,lCe(m),m}function rO(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const cCe=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=rO(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function U$(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function H$(e){return e==="dark"?cCe:[]}function uCe(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:i,...o}=e,s=tO({...t,colorSpace:i});return{palette:s,opacity:{...U$(s.mode),...n},overlays:r||H$(s.mode),...o}}function dCe(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const hCe=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],fCe=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return hCe(e.cssVarPrefix).forEach(l=>{s[l]=n[l],delete n[l]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",t)]:s,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(t))}`}else if(t){if(o==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function pCe(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ct(e,t,n){!e[t]&&n&&(e[t]=n)}function rm(e){return typeof e!="string"||!e.startsWith("hsl")?e:M$(e)}function Mc(e,t){`${t}Channel`in e||(e[`${t}Channel`]=em(rm(e[t])))}function gCe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Gl=e=>{try{return e()}catch{}},mCe=(e="mui")=>R0e(e);function iO(e,t,n,r,i){if(!n)return;n=n===!0?{}:n;const o=i==="dark"?"dark":"light";if(!r){t[i]=uCe({...n,palette:{mode:o,...n?.palette},colorSpace:e});return}const{palette:s,...l}=nO({...r,palette:{mode:o,...n?.palette},colorSpace:e});return t[i]={...n,palette:s,opacity:{...U$(o),...n?.opacity},overlays:n?.overlays||H$(o)},l}function vCe(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",nativeColor:s=!1,shouldSkipGeneratingVar:l=dCe,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...h}=e,p=Object.keys(n)[0],g=r||(n.light&&p!=="light"?"light":p),m=mCe(o),{[g]:y,light:b,dark:v,...S}=n,E={...S};let T=y;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(T=!0),!T)throw new Error(Tc(21,g));let O;s&&(O="oklch");const M=iO(O,E,T,h,g);b&&!E.light&&iO(O,E,b,void 0,"light"),v&&!E.dark&&iO(O,E,v,void 0,"dark");let I={defaultColorScheme:g,...M,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:u,getCssVar:m,colorSchemes:E,font:{...q0e(M.typography),...M.font},spacing:gCe(h.spacing)};Object.keys(I.colorSchemes).forEach($=>{const j=I.colorSchemes[$].palette,U=q=>{const z=q.split("-"),Y=z[1],te=z[2];return m(q,j[Y][te])};j.mode==="light"&&(ct(j.common,"background","#fff"),ct(j.common,"onBackground","#000")),j.mode==="dark"&&(ct(j.common,"background","#000"),ct(j.common,"onBackground","#fff"));function K(q,z,Y){if(O){let te;return q===ch&&(te=`transparent ${((1-Y)*100).toFixed(0)}%`),q===Gr&&(te=`#000 ${(Y*100).toFixed(0)}%`),q===Wr&&(te=`#fff ${(Y*100).toFixed(0)}%`),`color-mix(in ${O}, ${z}, ${te})`}return q(z,Y)}if(pCe(j,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),j.mode==="light"){ct(j.Alert,"errorColor",K(Gr,j.error.light,.6)),ct(j.Alert,"infoColor",K(Gr,j.info.light,.6)),ct(j.Alert,"successColor",K(Gr,j.success.light,.6)),ct(j.Alert,"warningColor",K(Gr,j.warning.light,.6)),ct(j.Alert,"errorFilledBg",U("palette-error-main")),ct(j.Alert,"infoFilledBg",U("palette-info-main")),ct(j.Alert,"successFilledBg",U("palette-success-main")),ct(j.Alert,"warningFilledBg",U("palette-warning-main")),ct(j.Alert,"errorFilledColor",Gl(()=>j.getContrastText(j.error.main))),ct(j.Alert,"infoFilledColor",Gl(()=>j.getContrastText(j.info.main))),ct(j.Alert,"successFilledColor",Gl(()=>j.getContrastText(j.success.main))),ct(j.Alert,"warningFilledColor",Gl(()=>j.getContrastText(j.warning.main))),ct(j.Alert,"errorStandardBg",K(Wr,j.error.light,.9)),ct(j.Alert,"infoStandardBg",K(Wr,j.info.light,.9)),ct(j.Alert,"successStandardBg",K(Wr,j.success.light,.9)),ct(j.Alert,"warningStandardBg",K(Wr,j.warning.light,.9)),ct(j.Alert,"errorIconColor",U("palette-error-main")),ct(j.Alert,"infoIconColor",U("palette-info-main")),ct(j.Alert,"successIconColor",U("palette-success-main")),ct(j.Alert,"warningIconColor",U("palette-warning-main")),ct(j.AppBar,"defaultBg",U("palette-grey-100")),ct(j.Avatar,"defaultBg",U("palette-grey-400")),ct(j.Button,"inheritContainedBg",U("palette-grey-300")),ct(j.Button,"inheritContainedHoverBg",U("palette-grey-A100")),ct(j.Chip,"defaultBorder",U("palette-grey-400")),ct(j.Chip,"defaultAvatarColor",U("palette-grey-700")),ct(j.Chip,"defaultIconColor",U("palette-grey-700")),ct(j.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ct(j.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ct(j.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ct(j.LinearProgress,"primaryBg",K(Wr,j.primary.main,.62)),ct(j.LinearProgress,"secondaryBg",K(Wr,j.secondary.main,.62)),ct(j.LinearProgress,"errorBg",K(Wr,j.error.main,.62)),ct(j.LinearProgress,"infoBg",K(Wr,j.info.main,.62)),ct(j.LinearProgress,"successBg",K(Wr,j.success.main,.62)),ct(j.LinearProgress,"warningBg",K(Wr,j.warning.main,.62)),ct(j.Skeleton,"bg",O?K(ch,j.text.primary,.11):`rgba(${U("palette-text-primaryChannel")} / 0.11)`),ct(j.Slider,"primaryTrack",K(Wr,j.primary.main,.62)),ct(j.Slider,"secondaryTrack",K(Wr,j.secondary.main,.62)),ct(j.Slider,"errorTrack",K(Wr,j.error.main,.62)),ct(j.Slider,"infoTrack",K(Wr,j.info.main,.62)),ct(j.Slider,"successTrack",K(Wr,j.success.main,.62)),ct(j.Slider,"warningTrack",K(Wr,j.warning.main,.62));const q=O?K(Gr,j.background.default,.6825):ew(j.background.default,.8);ct(j.SnackbarContent,"bg",q),ct(j.SnackbarContent,"color",Gl(()=>O?eO.text.primary:j.getContrastText(q))),ct(j.SpeedDialAction,"fabHoverBg",ew(j.background.paper,.15)),ct(j.StepConnector,"border",U("palette-grey-400")),ct(j.StepContent,"border",U("palette-grey-400")),ct(j.Switch,"defaultColor",U("palette-common-white")),ct(j.Switch,"defaultDisabledColor",U("palette-grey-100")),ct(j.Switch,"primaryDisabledColor",K(Wr,j.primary.main,.62)),ct(j.Switch,"secondaryDisabledColor",K(Wr,j.secondary.main,.62)),ct(j.Switch,"errorDisabledColor",K(Wr,j.error.main,.62)),ct(j.Switch,"infoDisabledColor",K(Wr,j.info.main,.62)),ct(j.Switch,"successDisabledColor",K(Wr,j.success.main,.62)),ct(j.Switch,"warningDisabledColor",K(Wr,j.warning.main,.62)),ct(j.TableCell,"border",K(Wr,K(ch,j.divider,1),.88)),ct(j.Tooltip,"bg",K(ch,j.grey[700],.92))}if(j.mode==="dark"){ct(j.Alert,"errorColor",K(Wr,j.error.light,.6)),ct(j.Alert,"infoColor",K(Wr,j.info.light,.6)),ct(j.Alert,"successColor",K(Wr,j.success.light,.6)),ct(j.Alert,"warningColor",K(Wr,j.warning.light,.6)),ct(j.Alert,"errorFilledBg",U("palette-error-dark")),ct(j.Alert,"infoFilledBg",U("palette-info-dark")),ct(j.Alert,"successFilledBg",U("palette-success-dark")),ct(j.Alert,"warningFilledBg",U("palette-warning-dark")),ct(j.Alert,"errorFilledColor",Gl(()=>j.getContrastText(j.error.dark))),ct(j.Alert,"infoFilledColor",Gl(()=>j.getContrastText(j.info.dark))),ct(j.Alert,"successFilledColor",Gl(()=>j.getContrastText(j.success.dark))),ct(j.Alert,"warningFilledColor",Gl(()=>j.getContrastText(j.warning.dark))),ct(j.Alert,"errorStandardBg",K(Gr,j.error.light,.9)),ct(j.Alert,"infoStandardBg",K(Gr,j.info.light,.9)),ct(j.Alert,"successStandardBg",K(Gr,j.success.light,.9)),ct(j.Alert,"warningStandardBg",K(Gr,j.warning.light,.9)),ct(j.Alert,"errorIconColor",U("palette-error-main")),ct(j.Alert,"infoIconColor",U("palette-info-main")),ct(j.Alert,"successIconColor",U("palette-success-main")),ct(j.Alert,"warningIconColor",U("palette-warning-main")),ct(j.AppBar,"defaultBg",U("palette-grey-900")),ct(j.AppBar,"darkBg",U("palette-background-paper")),ct(j.AppBar,"darkColor",U("palette-text-primary")),ct(j.Avatar,"defaultBg",U("palette-grey-600")),ct(j.Button,"inheritContainedBg",U("palette-grey-800")),ct(j.Button,"inheritContainedHoverBg",U("palette-grey-700")),ct(j.Chip,"defaultBorder",U("palette-grey-700")),ct(j.Chip,"defaultAvatarColor",U("palette-grey-300")),ct(j.Chip,"defaultIconColor",U("palette-grey-300")),ct(j.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ct(j.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ct(j.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ct(j.LinearProgress,"primaryBg",K(Gr,j.primary.main,.5)),ct(j.LinearProgress,"secondaryBg",K(Gr,j.secondary.main,.5)),ct(j.LinearProgress,"errorBg",K(Gr,j.error.main,.5)),ct(j.LinearProgress,"infoBg",K(Gr,j.info.main,.5)),ct(j.LinearProgress,"successBg",K(Gr,j.success.main,.5)),ct(j.LinearProgress,"warningBg",K(Gr,j.warning.main,.5)),ct(j.Skeleton,"bg",O?K(ch,j.text.primary,.13):`rgba(${U("palette-text-primaryChannel")} / 0.13)`),ct(j.Slider,"primaryTrack",K(Gr,j.primary.main,.5)),ct(j.Slider,"secondaryTrack",K(Gr,j.secondary.main,.5)),ct(j.Slider,"errorTrack",K(Gr,j.error.main,.5)),ct(j.Slider,"infoTrack",K(Gr,j.info.main,.5)),ct(j.Slider,"successTrack",K(Gr,j.success.main,.5)),ct(j.Slider,"warningTrack",K(Gr,j.warning.main,.5));const q=O?K(Wr,j.background.default,.985):ew(j.background.default,.98);ct(j.SnackbarContent,"bg",q),ct(j.SnackbarContent,"color",Gl(()=>O?D$.text.primary:j.getContrastText(q))),ct(j.SpeedDialAction,"fabHoverBg",ew(j.background.paper,.15)),ct(j.StepConnector,"border",U("palette-grey-600")),ct(j.StepContent,"border",U("palette-grey-600")),ct(j.Switch,"defaultColor",U("palette-grey-300")),ct(j.Switch,"defaultDisabledColor",U("palette-grey-600")),ct(j.Switch,"primaryDisabledColor",K(Gr,j.primary.main,.55)),ct(j.Switch,"secondaryDisabledColor",K(Gr,j.secondary.main,.55)),ct(j.Switch,"errorDisabledColor",K(Gr,j.error.main,.55)),ct(j.Switch,"infoDisabledColor",K(Gr,j.info.main,.55)),ct(j.Switch,"successDisabledColor",K(Gr,j.success.main,.55)),ct(j.Switch,"warningDisabledColor",K(Gr,j.warning.main,.55)),ct(j.TableCell,"border",K(Gr,K(ch,j.divider,1),.68)),ct(j.Tooltip,"bg",K(ch,j.grey[700],.92))}Mc(j.background,"default"),Mc(j.background,"paper"),Mc(j.common,"background"),Mc(j.common,"onBackground"),Mc(j,"divider"),Object.keys(j).forEach(q=>{const z=j[q];q!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&ct(j[q],"mainChannel",em(rm(z.main))),z.light&&ct(j[q],"lightChannel",em(rm(z.light))),z.dark&&ct(j[q],"darkChannel",em(rm(z.dark))),z.contrastText&&ct(j[q],"contrastTextChannel",em(rm(z.contrastText))),q==="text"&&(Mc(j[q],"primary"),Mc(j[q],"secondary")),q==="action"&&(z.active&&Mc(j[q],"active"),z.selected&&Mc(j[q],"selected")))})}),I=t.reduce(($,j)=>Mo($,j),I);const N={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:fCe(I),enableContrastVars:s},{vars:D,generateThemeVars:L,generateStyleSheets:A}=P0e(I,N);return I.vars=D,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([$,j])=>{I[$]=j}),I.generateThemeVars=L,I.generateStyleSheets=A,I.generateSpacing=function(){return y$(h.spacing,Hb(this))},I.getColorSchemeSelector=D0e(c),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=l,I.unstable_sxConfig={...Jg,...h?.unstable_sxConfig},I.unstable_sx=function(j){return sh({sx:j,theme:this})},I.toRuntimeSource=$$,I}function G$(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:tO({...n===!0?{}:n.palette,mode:t})})}function W$(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n?.mode,...s}=e,l=o||"light",c=i?.[l],u={...i,...n?{[l]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return nO(e,...t);let h=n;"palette"in e||u[l]&&(u[l]!==!0?h=u[l].palette:l==="dark"&&(h={mode:"dark"}));const p=nO({...e,palette:h},...t);return p.defaultColorScheme=l,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},G$(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},G$(p,"light",u.light)),p}return!n&&!("light"in u)&&l==="light"&&(u.light=!0),vCe({...s,colorSchemes:u,defaultColorScheme:l,...typeof r!="boolean"&&r},...t)}function yCe(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function bCe(e){return parseFloat(e)}const nw=W$();function Wl(){const e=Zb(nw);return e[Hg]||e}function wCe({props:e,name:t}){return T$({props:e,name:t,defaultTheme:nw,themeId:Hg})}function K$(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const as=e=>K$(e)&&e!=="classes",Te=_$({themeId:Hg,defaultTheme:nw,rootShouldForwardProp:as});function q$(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function SCe(e){return C.jsx(a0e,{...e,defaultTheme:nw,themeId:Hg})}function CCe(e){return function(n){return C.jsx(SCe,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function xCe(){return XM}const tn=O0e;function mn(e){return T0e(e)}function _Ce(e){return cn("MuiSvgIcon",e)}on("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ECe=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Qe(t)}`,`fontSize${Qe(n)}`]};return _t(i,_Ce,r)},TCe=Te("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Qe(n.color)}`],t[`fontSize${Qe(n.fontSize)}`]]}})(tn(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),oO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:g="0 0 24 24",...m}=r,y=_.isValidElement(i)&&i.type==="svg",b={...r,color:s,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:y},v={};h||(v.viewBox=g);const S=ECe(b);return C.jsxs(TCe,{as:l,className:Je(S.root,o),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...v,...m,...y&&i.props,ownerState:b,children:[y?i.props.children:i,p?C.jsx("title",{children:p}):null]})});oO.muiName="SvgIcon";function Lt(e,t){function n(r,i){return C.jsx(oO,{"data-testid":void 0,ref:i,...r,children:e})}return n.muiName=oO.muiName,_.memo(_.forwardRef(n))}function Ou(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Si(e){return e&&e.ownerDocument||document}function Hs(e){return Si(e).defaultView||window}function sO(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function uh(e){const{controlled:t,default:n,name:r,state:i="value"}=e,{current:o}=_.useRef(t!==void 0),[s,l]=_.useState(n),c=o?t:s,u=_.useCallback(h=>{o||l(h)},[]);return[c,u]}function Xt(e){const t=_.useRef(e);return pr(()=>{t.current=e}),_.useRef((...n)=>(0,t.current)(...n)).current}function Zn(...e){const t=_.useRef(void 0),n=_.useCallback(r=>{const i=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,l=s(r);return typeof l=="function"?l:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o?.())}},e);return _.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function MCe(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function Y$(e,t){if(!e)return t;function n(s,l){const c={};return Object.keys(l).forEach(u=>{MCe(u,l[u])&&typeof s[u]=="function"&&(c[u]=(...h)=>{s[u](...h),l[u](...h)})}),c}if(typeof e=="function"||typeof t=="function")return s=>{const l=typeof t=="function"?t(s):t,c=typeof e=="function"?e({...s,...l}):e,u=Je(s?.className,l?.className,c?.className),h=n(c,l);return{...l,...c,...h,...!!u&&{className:u},...l?.style&&c?.style&&{style:{...l.style,...c.style}},...l?.sx&&c?.sx&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=t,i=n(e,r),o=Je(r?.className,e?.className);return{...t,...e,...i,...!!o&&{className:o},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Tt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aO(e,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},aO(e,t)}function X$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,aO(e,t)}const Z$={disabled:!1},rw=Bn.createContext(null);var OCe=function(t){return t.scrollTop},im="unmounted",dh="exited",hh="entering",Mf="entered",lO="exiting",Ca=(function(e){X$(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?l?(c=dh,o.appearStatus=hh):c=Mf:r.unmountOnExit||r.mountOnEnter?c=im:c=dh,o.state={status:c},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===im?{status:dh}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==hh&&s!==Mf&&(o=hh):(s===hh||s===Mf)&&(o=lO)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===hh){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Rb.findDOMNode(this);s&&OCe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dh&&this.setState({status:im})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[Rb.findDOMNode(this),l],u=c[0],h=c[1],p=this.getTimeouts(),g=l?p.appear:p.enter;if(!i&&!s||Z$.disabled){this.safeSetState({status:Mf},function(){o.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:hh},function(){o.props.onEntering(u,h),o.onTransitionEnd(g,function(){o.safeSetState({status:Mf},function(){o.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Rb.findDOMNode(this);if(!o||Z$.disabled){this.safeSetState({status:dh},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:lO},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:dh},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Rb.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],h=c[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===im)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=Tt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bn.createElement(rw.Provider,{value:null},typeof s=="function"?s(i,l):Bn.cloneElement(Bn.Children.only(s),l))},t})(Bn.Component);Ca.contextType=rw,Ca.propTypes={};function Of(){}Ca.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Of,onEntering:Of,onEntered:Of,onExit:Of,onExiting:Of,onExited:Of},Ca.UNMOUNTED=im,Ca.EXITED=dh,Ca.ENTERING=hh,Ca.ENTERED=Mf,Ca.EXITING=lO;function RCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(e,t){var n=function(o){return t&&_.isValidElement(o)?t(o):o},r=Object.create(null);return e&&_.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function ICe(e,t){e=e||{},t=t||{};function n(h){return h in t?t[h]:e[h]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,l={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var u=r[c][s];l[r[c][s]]=n(u)}l[c]=n(c)}for(s=0;s<i.length;s++)l[i[s]]=n(i[s]);return l}function fh(e,t,n){return n[t]!=null?n[t]:e.props[t]}function kCe(e,t){return cO(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:fh(n,"appear",e),enter:fh(n,"enter",e),exit:fh(n,"exit",e)})})}function PCe(e,t,n){var r=cO(e.children),i=ICe(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(_.isValidElement(s)){var l=o in t,c=o in r,u=t[o],h=_.isValidElement(u)&&!u.props.in;c&&(!l||h)?i[o]=_.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:fh(s,"exit",e),enter:fh(s,"enter",e)}):!c&&l&&!h?i[o]=_.cloneElement(s,{in:!1}):c&&l&&_.isValidElement(u)&&(i[o]=_.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:fh(s,"exit",e),enter:fh(s,"enter",e)}))}}),i}var DCe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ACe={component:"div",childFactory:function(t){return t}},uO=(function(e){X$(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(RCe(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,l=o.handleExited,c=o.firstRender;return{children:c?kCe(i,l):PCe(i,s,l),firstRender:!1}},n.handleExited=function(i,o){var s=cO(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var c=W({},l.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,l=Tt(i,["component","childFactory"]),c=this.state.contextValue,u=DCe(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,o===null?Bn.createElement(rw.Provider,{value:c},u):Bn.createElement(rw.Provider,{value:c},Bn.createElement(o,l,u))},t})(Bn.Component);uO.propTypes={},uO.defaultProps=ACe;const Q$={};function Gs(e,t){const n=_.useRef(Q$);return n.current===Q$&&(n.current=e(t)),n}const LCe=[];function iw(e){_.useEffect(e,LCe)}class ow{static create(){return new ow}currentId=null;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function bs(){const e=Gs(ow.create).current;return iw(e.disposeEffect),e}const dO=e=>e.scrollTop;function Ru(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}function NCe(e){return cn("MuiCollapse",e)}on("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const BCe=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return _t(r,NCe,n)},FCe=Te("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(tn(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),jCe=Te("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),VCe=Te("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),hO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:l="0px",component:c,easing:u,in:h,onEnter:p,onEntered:g,onEntering:m,onExit:y,onExited:b,onExiting:v,orientation:S="vertical",style:E,timeout:T=j$.standard,TransitionComponent:O=Ca,...M}=r,I={...r,orientation:S,collapsedSize:l},N=BCe(I),D=Wl(),L=bs(),A=_.useRef(null),$=_.useRef(),j=typeof l=="number"?`${l}px`:l,U=S==="horizontal",K=U?"width":"height",q=_.useRef(null),z=Zn(n,q),Y=ce=>be=>{if(ce){const Ne=q.current;be===void 0?ce(Ne):ce(Ne,be)}},te=()=>A.current?A.current[U?"clientWidth":"clientHeight"]:0,ie=Y((ce,be)=>{A.current&&U&&(A.current.style.position="absolute"),ce.style[K]=j,p&&p(ce,be)}),Q=Y((ce,be)=>{const Ne=te();A.current&&U&&(A.current.style.position="");const{duration:_e,easing:me}=Ru({style:E,timeout:T,easing:u},{mode:"enter"});if(T==="auto"){const ye=D.transitions.getAutoHeightDuration(Ne);ce.style.transitionDuration=`${ye}ms`,$.current=ye}else ce.style.transitionDuration=typeof _e=="string"?_e:`${_e}ms`;ce.style[K]=`${Ne}px`,ce.style.transitionTimingFunction=me,m&&m(ce,be)}),H=Y((ce,be)=>{ce.style[K]="auto",g&&g(ce,be)}),X=Y(ce=>{ce.style[K]=`${te()}px`,y&&y(ce)}),he=Y(b),pe=Y(ce=>{const be=te(),{duration:Ne,easing:_e}=Ru({style:E,timeout:T,easing:u},{mode:"exit"});if(T==="auto"){const me=D.transitions.getAutoHeightDuration(be);ce.style.transitionDuration=`${me}ms`,$.current=me}else ce.style.transitionDuration=typeof Ne=="string"?Ne:`${Ne}ms`;ce.style[K]=j,ce.style.transitionTimingFunction=_e,v&&v(ce)}),ge=ce=>{T==="auto"&&L.start($.current||0,ce),i&&i(q.current,ce)};return C.jsx(O,{in:h,onEnter:ie,onEntered:H,onEntering:Q,onExit:X,onExited:he,onExiting:pe,addEndListener:ge,nodeRef:q,timeout:T==="auto"?null:T,...M,children:(ce,{ownerState:be,...Ne})=>C.jsx(FCe,{as:c,className:Je(N.root,s,{entered:N.entered,exited:!h&&j==="0px"&&N.hidden}[ce]),style:{[U?"minWidth":"minHeight"]:j,...E},ref:z,ownerState:{...I,state:ce},...Ne,children:C.jsx(jCe,{ownerState:{...I,state:ce},className:N.wrapper,ref:A,children:C.jsx(VCe,{ownerState:{...I,state:ce},className:N.wrapperInner,children:o})})})})});hO&&(hO.muiSupportAuto=!0);function $Ce(e){return cn("MuiPaper",e)}on("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const zCe=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return _t(o,$Ce,i)},UCe=Te("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(tn(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ph=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiPaper"}),i=Wl(),{className:o,component:s="div",elevation:l=1,square:c=!1,variant:u="elevation",...h}=r,p={...r,component:s,elevation:l,square:c,variant:u},g=zCe(p);return C.jsx(UCe,{as:s,ownerState:p,className:Je(g.root,o),ref:n,...h,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Sa("#fff",rO(l))}, ${Sa("#fff",rO(l))})`}},...h.style}})});function Rf(e){return typeof e=="string"}function J$(e,t,n){return e===void 0||Rf(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function sw(e,t,n){return typeof e=="function"?e(t,n):e}function Ws(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function ez(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function tz(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const m=Je(n?.className,o,i?.className,r?.className),y={...n?.style,...i?.style,...r?.style},b={...n,...i,...r};return m.length>0&&(b.className=m),Object.keys(y).length>0&&(b.style=y),{props:b,internalRef:void 0}}const s=Ws({...i,...r}),l=ez(r),c=ez(i),u=t(s),h=Je(u?.className,n?.className,o,i?.className,r?.className),p={...u?.style,...n?.style,...i?.style,...r?.style},g={...u,...n,...c,...l};return h.length>0&&(g.className=h),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:u.ref}}function wn(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:l=!1,...c}=t,{component:u,slots:h={[e]:void 0},slotProps:p={[e]:void 0},...g}=o,m=h[e]||r,y=sw(p[e],i),{props:{component:b,...v},internalRef:S}=tz({className:n,...c,externalForwardedProps:e==="root"?g:void 0,externalSlotProps:y}),E=Zn(S,y?.ref,t.ref),T=e==="root"?b||u:b,O=J$(m,{...e==="root"&&!u&&!h[e]&&s,...e!=="root"&&!h[e]&&s,...v,...T&&!l&&{as:T},...T&&l&&{component:T},ref:E},i);return[m,O]}function aw(e){try{return e.matches(":focus-visible")}catch{}return!1}class lw{static create(){return new lw}static use(){const t=Gs(lw.create).current,[n,r]=_.useState(!1);return t.shouldMount=n,t.setShouldMount=r,_.useEffect(t.mountEffect,[n]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=GCe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function HCe(){return lw.use()}function GCe(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function WCe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:l,onExited:c,timeout:u}=e,[h,p]=_.useState(!1),g=Je(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},y=Je(n.child,h&&n.childLeaving,r&&n.childPulsate);return!l&&!h&&p(!0),_.useEffect(()=>{if(!l&&c!=null){const b=setTimeout(c,u);return()=>{clearTimeout(b)}}},[c,l,u]),C.jsx("span",{className:g,style:m,children:C.jsx("span",{className:y})})}const xa=on("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),fO=550,KCe=80,qCe=ya`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,YCe=ya`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,XCe=ya`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,ZCe=Te("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),QCe=Te(WCe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${xa.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${qCe};
    animation-duration: ${fO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${xa.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${xa.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${xa.childLeaving} {
    opacity: 0;
    animation-name: ${YCe};
    animation-duration: ${fO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${xa.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${XCe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,JCe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...l}=r,[c,u]=_.useState([]),h=_.useRef(0),p=_.useRef(null);_.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const g=_.useRef(!1),m=bs(),y=_.useRef(null),b=_.useRef(null),v=_.useCallback(O=>{const{pulsate:M,rippleX:I,rippleY:N,rippleSize:D,cb:L}=O;u(A=>[...A,C.jsx(QCe,{classes:{ripple:Je(o.ripple,xa.ripple),rippleVisible:Je(o.rippleVisible,xa.rippleVisible),ripplePulsate:Je(o.ripplePulsate,xa.ripplePulsate),child:Je(o.child,xa.child),childLeaving:Je(o.childLeaving,xa.childLeaving),childPulsate:Je(o.childPulsate,xa.childPulsate)},timeout:fO,pulsate:M,rippleX:I,rippleY:N,rippleSize:D},h.current)]),h.current+=1,p.current=L},[o]),S=_.useCallback((O={},M={},I=()=>{})=>{const{pulsate:N=!1,center:D=i||M.pulsate,fakeElement:L=!1}=M;if(O?.type==="mousedown"&&g.current){g.current=!1;return}O?.type==="touchstart"&&(g.current=!0);const A=L?null:b.current,$=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,U,K;if(D||O===void 0||O.clientX===0&&O.clientY===0||!O.clientX&&!O.touches)j=Math.round($.width/2),U=Math.round($.height/2);else{const{clientX:q,clientY:z}=O.touches&&O.touches.length>0?O.touches[0]:O;j=Math.round(q-$.left),U=Math.round(z-$.top)}if(D)K=Math.sqrt((2*$.width**2+$.height**2)/3),K%2===0&&(K+=1);else{const q=Math.max(Math.abs((A?A.clientWidth:0)-j),j)*2+2,z=Math.max(Math.abs((A?A.clientHeight:0)-U),U)*2+2;K=Math.sqrt(q**2+z**2)}O?.touches?y.current===null&&(y.current=()=>{v({pulsate:N,rippleX:j,rippleY:U,rippleSize:K,cb:I})},m.start(KCe,()=>{y.current&&(y.current(),y.current=null)})):v({pulsate:N,rippleX:j,rippleY:U,rippleSize:K,cb:I})},[i,v,m]),E=_.useCallback(()=>{S({},{pulsate:!0})},[S]),T=_.useCallback((O,M)=>{if(m.clear(),O?.type==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{T(O,M)});return}y.current=null,u(I=>I.length>0?I.slice(1):I),p.current=M},[m]);return _.useImperativeHandle(n,()=>({pulsate:E,start:S,stop:T}),[E,S,T]),C.jsx(ZCe,{className:Je(xa.root,o.root,s),ref:b,...l,children:C.jsx(uO,{component:null,exit:!0,children:c})})});function exe(e){return cn("MuiButtonBase",e)}const nz=on("MuiButtonBase",["root","disabled","focusVisible"]),txe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=_t({root:["root",t&&"disabled",n&&"focusVisible"]},exe,i);return n&&r&&(s.root+=` ${r}`),s},nxe=Te("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Kl=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:l,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:g=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:b,onClick:v,onContextMenu:S,onDragLeave:E,onFocus:T,onFocusVisible:O,onKeyDown:M,onKeyUp:I,onMouseDown:N,onMouseLeave:D,onMouseUp:L,onTouchEnd:A,onTouchMove:$,onTouchStart:j,tabIndex:U=0,TouchRippleProps:K,touchRippleRef:q,type:z,...Y}=r,te=_.useRef(null),ie=HCe(),Q=Zn(ie.ref,q),[H,X]=_.useState(!1);u&&H&&X(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{X(!0),te.current.focus()}}),[]);const he=ie.shouldMount&&!h&&!u;_.useEffect(()=>{H&&g&&!h&&ie.pulsate()},[h,g,H,ie]);const pe=Oc(ie,"start",N,p),ge=Oc(ie,"stop",S,p),ce=Oc(ie,"stop",E,p),be=Oc(ie,"stop",L,p),Ne=Oc(ie,"stop",Ke=>{H&&Ke.preventDefault(),D&&D(Ke)},p),_e=Oc(ie,"start",j,p),me=Oc(ie,"stop",A,p),ye=Oc(ie,"stop",$,p),xe=Oc(ie,"stop",Ke=>{aw(Ke.target)||X(!1),b&&b(Ke)},!1),Ie=Xt(Ke=>{te.current||(te.current=Ke.currentTarget),aw(Ke.target)&&(X(!0),O&&O(Ke)),T&&T(Ke)}),Pe=()=>{const Ke=te.current;return c&&c!=="button"&&!(Ke.tagName==="A"&&Ke.href)},Re=Xt(Ke=>{g&&!Ke.repeat&&H&&Ke.key===" "&&ie.stop(Ke,()=>{ie.start(Ke)}),Ke.target===Ke.currentTarget&&Pe()&&Ke.key===" "&&Ke.preventDefault(),M&&M(Ke),Ke.target===Ke.currentTarget&&Pe()&&Ke.key==="Enter"&&!u&&(Ke.preventDefault(),v&&v(Ke))}),Fe=Xt(Ke=>{g&&Ke.key===" "&&H&&!Ke.defaultPrevented&&ie.stop(Ke,()=>{ie.pulsate(Ke)}),I&&I(Ke),v&&Ke.target===Ke.currentTarget&&Pe()&&Ke.key===" "&&!Ke.defaultPrevented&&v(Ke)});let ft=c;ft==="button"&&(Y.href||Y.to)&&(ft=y);const Ue={};ft==="button"?(Ue.type=z===void 0?"button":z,Ue.disabled=u):(!Y.href&&!Y.to&&(Ue.role="button"),u&&(Ue["aria-disabled"]=u));const Ft=Zn(n,te),Ct={...r,centerRipple:o,component:c,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:g,tabIndex:U,focusVisible:H},Rt=txe(Ct);return C.jsxs(nxe,{as:ft,className:Je(Rt.root,l),ownerState:Ct,onBlur:xe,onClick:v,onContextMenu:ge,onFocus:Ie,onKeyDown:Re,onKeyUp:Fe,onMouseDown:pe,onMouseLeave:Ne,onMouseUp:be,onDragLeave:ce,onTouchEnd:me,onTouchMove:ye,onTouchStart:_e,ref:Ft,tabIndex:u?-1:U,type:z,...Ue,...Y,children:[s,he?C.jsx(JCe,{ref:Q,center:o,...K}):null]})});function Oc(e,t,n,r=!1){return Xt(i=>(n&&n(i),r||e[t](i),!0))}function rxe(e){return typeof e.main=="string"}function ixe(e,t=[]){if(!rxe(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Ci(e=[]){return([,t])=>t&&ixe(t,e)}function oxe(e){return cn("MuiCircularProgress",e)}on("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Iu=44,pO=ya`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,gO=ya`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,sxe=typeof pO!="string"?Eu`
        animation: ${pO} 1.4s linear infinite;
      `:null,axe=typeof gO!="string"?Eu`
        animation: ${gO} 1.4s ease-in-out infinite;
      `:null,lxe=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${Qe(r)}`],svg:["svg"],circle:["circle",`circle${Qe(n)}`,i&&"circleDisableShrink"]};return _t(o,oxe,t)},cxe=Te("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Qe(n.color)}`]]}})(tn(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:sxe||{animation:`${pO} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),uxe=Te("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),dxe=Te("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Qe(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(tn(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:axe||{animation:`${gO} 1.4s ease-in-out infinite`}}]}))),If=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:l=40,style:c,thickness:u=3.6,value:h=0,variant:p="indeterminate",...g}=r,m={...r,color:o,disableShrink:s,size:l,thickness:u,value:h,variant:p},y=lxe(m),b={},v={},S={};if(p==="determinate"){const E=2*Math.PI*((Iu-u)/2);b.strokeDasharray=E.toFixed(3),S["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*E).toFixed(3)}px`,v.transform="rotate(-90deg)"}return C.jsx(cxe,{className:Je(y.root,i),style:{width:l,height:l,...v,...c},ownerState:m,ref:n,role:"progressbar",...S,...g,children:C.jsx(uxe,{className:y.svg,ownerState:m,viewBox:`${Iu/2} ${Iu/2} ${Iu} ${Iu}`,children:C.jsx(dxe,{className:y.circle,style:b,ownerState:m,cx:Iu,cy:Iu,r:(Iu-u)/2,fill:"none",strokeWidth:u})})})});function hxe(e){return cn("MuiIconButton",e)}const mO=on("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),fxe=e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:s}=e,l={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Qe(r)}`,i&&`edge${Qe(i)}`,`size${Qe(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return _t(l,hxe,t)},pxe=Te(Kl,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Qe(n.color)}`],n.edge&&t[`edge${Qe(n.edge)}`],t[`size${Qe(n.size)}`]]}})(tn(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),tn(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${mO.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${mO.loading}`]:{color:"transparent"}}))),gxe=Te("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Fn=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium",id:p,loading:g=null,loadingIndicator:m,...y}=r,b=sr(p),v=m??C.jsx(If,{"aria-labelledby":b,color:"inherit",size:16}),S={...r,edge:i,color:l,disabled:c,disableFocusRipple:u,loading:g,loadingIndicator:v,size:h},E=fxe(S);return C.jsxs(pxe,{id:g?b:p,className:Je(E.root,s),centerRipple:!0,focusRipple:!u,disabled:c||g,ref:n,...y,ownerState:S,children:[typeof g=="boolean"&&C.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:C.jsx(gxe,{className:E.loadingIndicator,ownerState:S,children:g&&v})}),o]})}),mxe=Lt(C.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function vxe(e){return cn("MuiTypography",e)}const rz=on("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),yxe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},bxe=xCe(),wxe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,l={root:["root",o,e.align!=="inherit"&&`align${Qe(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return _t(l,vxe,s)},Sxe=Te("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Qe(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(tn(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Qe(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),iz={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Wi=_.forwardRef(function(t,n){const{color:r,...i}=mn({props:t,name:"MuiTypography"}),o=!yxe[r],s=bxe({...i,...o&&{color:r}}),{align:l="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:g=!1,variant:m="body1",variantMapping:y=iz,...b}=s,v={...s,align:l,color:r,className:c,component:u,gutterBottom:h,noWrap:p,paragraph:g,variant:m,variantMapping:y},S=u||(g?"p":y[m]||iz[m])||"span",E=wxe(v);return C.jsx(Sxe,{as:S,ref:n,className:Je(E.root,c),...b,ownerState:v,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...b.style}})});function Cxe(e){return cn("MuiAppBar",e)}on("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const xxe=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${Qe(t)}`,`position${Qe(n)}`]};return _t(i,Cxe,r)},oz=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,_xe=Te(ph,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Qe(n.position)}`],t[`color${Qe(n.color)}`]]}})(tn(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Ci(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?oz(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?oz(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Exe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:l="fixed",...c}=r,u={...r,color:o,position:l,enableColorOnDark:s},h=xxe(u);return C.jsx(_xe,{square:!0,component:"header",ownerState:u,elevation:4,className:Je(h.root,i,l==="fixed"&&"mui-fixed"),ref:n,...c})}),vO=e=>{const t=_.useRef({});return _.useEffect(()=>{t.current=e}),t.current};function sz({array1:e,array2:t,parser:n=r=>r}){return e&&t&&e.length===t.length&&e.every((r,i)=>n(r)===n(t[i]))}function az(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Txe(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=e;return(l,{inputValue:c,getOptionLabel:u})=>{let h=s?c.trim():c;n&&(h=h.toLowerCase()),t&&(h=az(h));const p=h?l.filter(g=>{let m=(o||u)(g);return n&&(m=m.toLowerCase()),t&&(m=az(m)),i==="start"?m.startsWith(h):m.includes(h)}):l;return typeof r=="number"?p.slice(0,r):p}}const Mxe=Txe(),lz=5,Oxe=e=>e.current!==null&&e.current.parentElement?.contains(document.activeElement),Rxe=[];function cz(e,t,n,r){if(t||e==null||r)return"";const i=n(e);return typeof i=="string"?i:""}function Ixe(e){const{unstable_isActiveElementInListbox:t=Oxe,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:c=!1,componentName:u="useAutocomplete",defaultValue:h=e.multiple?Rxe:null,disableClearable:p=!1,disableCloseOnSelect:g=!1,disabled:m,disabledItemsFocusable:y=!1,disableListWrap:b=!1,filterOptions:v=Mxe,filterSelectedOptions:S=!1,freeSolo:E=!1,getOptionDisabled:T,getOptionKey:O,getOptionLabel:M=st=>st.label??st,groupBy:I,handleHomeEndKeys:N=!e.freeSolo,id:D,includeInputInList:L=!1,inputValue:A,isOptionEqualToValue:$=(st,et)=>st===et,multiple:j=!1,onChange:U,onClose:K,onHighlightChange:q,onInputChange:z,onOpen:Y,open:te,openOnFocus:ie=!1,options:Q,readOnly:H=!1,renderValue:X,selectOnFocus:he=!e.freeSolo,value:pe}=e,ge=sr(D);let ce=M;ce=st=>{const et=M(st);return typeof et!="string"?String(et):et};const be=_.useRef(!1),Ne=_.useRef(!0),_e=_.useRef(null),me=_.useRef(null),[ye,xe]=_.useState(null),[Ie,Pe]=_.useState(-1),Re=i?0:-1,Fe=_.useRef(Re),ft=_.useRef(cz(h??pe,j,ce)).current,[Ue,Ft]=uh({controlled:pe,default:h,name:u}),[Ct,Rt]=uh({controlled:A,default:ft,name:u,state:"inputValue"}),[Ke,$t]=_.useState(!1),yt=_.useCallback((st,et,wt)=>{if(!(j?Ue.length<et.length:et!==null)&&!l)return;const sn=cz(et,j,ce,X);Ct!==sn&&(Rt(sn),z&&z(st,sn,wt))},[ce,Ct,j,z,Rt,l,Ue,X]),[zt,jt]=uh({controlled:te,default:!1,name:u,state:"open"}),[pn,un]=_.useState(!0),Mt=!j&&Ue!=null&&Ct===ce(Ue),At=zt&&!H,Ye=At?v(Q.filter(st=>!(S&&(j?Ue:[Ue]).some(et=>et!==null&&$(st,et)))),{inputValue:Mt&&pn?"":Ct,getOptionLabel:ce}):[],xt=vO({filteredOptions:Ye,value:Ue,inputValue:Ct});_.useEffect(()=>{const st=Ue!==xt.value;Ke&&!st||E&&!st||yt(null,Ue,"reset")},[Ue,yt,Ke,xt.value,E]);const St=zt&&Ye.length>0&&!H,nt=Xt(st=>{if(st===-1)_e.current.focus();else{const et=X?"data-item-index":"data-tag-index";ye.querySelector(`[${et}="${st}"]`).focus()}});_.useEffect(()=>{j&&Ie>Ue.length-1&&(Pe(-1),nt(-1))},[Ue,j,Ie,nt]);function mt(st,et){if(!me.current||st<0||st>=Ye.length)return-1;let wt=st;for(;;){const qt=me.current.querySelector(`[data-option-index="${wt}"]`),sn=y?!1:!qt||qt.disabled||qt.getAttribute("aria-disabled")==="true";if(qt&&qt.hasAttribute("tabindex")&&!sn)return wt;if(et==="next"?wt=(wt+1)%Ye.length:wt=(wt-1+Ye.length)%Ye.length,wt===st)return-1}}const Pt=Xt(({event:st,index:et,reason:wt})=>{if(Fe.current=et,et===-1?_e.current.removeAttribute("aria-activedescendant"):_e.current.setAttribute("aria-activedescendant",`${ge}-option-${et}`),q&&["mouse","keyboard","touch"].includes(wt)&&q(st,et===-1?null:Ye[et],wt),!me.current)return;const qt=me.current.querySelector(`[role="option"].${n}-focused`);qt&&(qt.classList.remove(`${n}-focused`),qt.classList.remove(`${n}-focusVisible`));let sn=me.current;if(me.current.getAttribute("role")!=="listbox"&&(sn=me.current.parentElement.querySelector('[role="listbox"]')),!sn)return;if(et===-1){sn.scrollTop=0;return}const vr=me.current.querySelector(`[data-option-index="${et}"]`);if(vr&&(vr.classList.add(`${n}-focused`),wt==="keyboard"&&vr.classList.add(`${n}-focusVisible`),sn.scrollHeight>sn.clientHeight&&wt!=="mouse"&&wt!=="touch")){const or=vr,zn=sn.clientHeight+sn.scrollTop,bo=or.offsetTop+or.offsetHeight;bo>zn?sn.scrollTop=bo-sn.clientHeight:or.offsetTop-or.offsetHeight*(I?1.3:0)<sn.scrollTop&&(sn.scrollTop=or.offsetTop-or.offsetHeight*(I?1.3:0))}}),Et=Xt(({event:st,diff:et,direction:wt="next",reason:qt})=>{if(!At)return;const vr=mt((()=>{const or=Ye.length-1;if(et==="reset")return Re;if(et==="start")return 0;if(et==="end")return or;const zn=Fe.current+et;return zn<0?zn===-1&&L?-1:b&&Fe.current!==-1||Math.abs(et)>1?0:or:zn>or?zn===or+1&&L?-1:b||Math.abs(et)>1?or:0:zn})(),wt);if(Pt({index:vr,reason:qt,event:st}),r&&et!=="reset")if(vr===-1)_e.current.value=Ct;else{const or=ce(Ye[vr]);_e.current.value=or,or.toLowerCase().indexOf(Ct.toLowerCase())===0&&Ct.length>0&&_e.current.setSelectionRange(Ct.length,or.length)}}),Nt=!sz({array1:xt.filteredOptions,array2:Ye,parser:ce}),nr=()=>{const st=(et,wt)=>{const qt=et?ce(et):"",sn=wt?ce(wt):"";return qt===sn};if(Fe.current!==-1&&!sz({array1:xt.filteredOptions,array2:Ye,parser:ce})&&xt.inputValue===Ct&&(j?Ue.length===xt.value.length&&xt.value.every((et,wt)=>ce(Ue[wt])===ce(et)):st(xt.value,Ue))){const et=xt.filteredOptions[Fe.current];if(et)return Ye.findIndex(wt=>ce(wt)===ce(et))}return-1},An=_.useCallback(()=>{if(!At)return;const st=nr();if(st!==-1){Fe.current=st;return}const et=j?Ue[0]:Ue;if(Ye.length===0||et==null){Et({diff:"reset"});return}if(me.current){if(et!=null){const wt=Ye[Fe.current];if(j&&wt&&Ue.findIndex(sn=>$(wt,sn))!==-1)return;const qt=Ye.findIndex(sn=>$(sn,et));qt===-1?Et({diff:"reset"}):Pt({index:qt});return}if(Fe.current>=Ye.length-1){Pt({index:Ye.length-1});return}Pt({index:Fe.current})}},[Ye.length,j?!1:Ue,S,Et,Pt,At,Ct,j]),Cr=Xt(st=>{sO(me,st),st&&An()});_.useEffect(()=>{Nt&&An()},[An,Nt]);const rr=st=>{zt||(jt(!0),un(!0),Y&&Y(st))},mr=(st,et)=>{zt&&(jt(!1),K&&K(st,et))},bt=(st,et,wt,qt)=>{if(j){if(Ue.length===et.length&&Ue.every((sn,vr)=>sn===et[vr]))return}else if(Ue===et)return;U&&U(st,et,wt,qt),Ft(et)},Fr=_.useRef(!1),ai=(st,et,wt="selectOption",qt="options")=>{let sn=wt,vr=et;if(j){vr=Array.isArray(Ue)?Ue.slice():[];const or=vr.findIndex(zn=>$(et,zn));or===-1?vr.push(et):qt!=="freeSolo"&&(vr.splice(or,1),sn="removeOption")}yt(st,vr,sn),bt(st,vr,sn,{option:et}),!g&&(!st||!st.ctrlKey&&!st.metaKey)&&mr(st,sn),(s===!0||s==="touch"&&Fr.current||s==="mouse"&&!Fr.current)&&_e.current.blur()};function Jt(st,et){if(st===-1)return-1;let wt=st;for(;;){if(et==="next"&&wt===Ue.length||et==="previous"&&wt===-1)return-1;const qt=X?"data-item-index":"data-tag-index",sn=ye.querySelector(`[${qt}="${wt}"]`);if(!sn||!sn.hasAttribute("tabindex")||sn.disabled||sn.getAttribute("aria-disabled")==="true")wt+=et==="next"?1:-1;else return wt}}const Gn=(st,et)=>{if(!j)return;Ct===""&&mr(st,"toggleInput");let wt=Ie;Ie===-1?Ct===""&&et==="previous"&&(wt=Ue.length-1):(wt+=et==="next"?1:-1,wt<0&&(wt=0),wt===Ue.length&&(wt=-1)),wt=Jt(wt,et),Pe(wt),nt(wt)},Bt=st=>{be.current=!0,Rt(""),z&&z(st,"","clear"),bt(st,j?[]:null,"clear")},en=st=>et=>{if(st.onKeyDown&&st.onKeyDown(et),!et.defaultMuiPrevented&&(Ie!==-1&&!["ArrowLeft","ArrowRight"].includes(et.key)&&(Pe(-1),nt(-1)),et.which!==229))switch(et.key){case"Home":At&&N&&(et.preventDefault(),Et({diff:"start",direction:"next",reason:"keyboard",event:et}));break;case"End":At&&N&&(et.preventDefault(),Et({diff:"end",direction:"previous",reason:"keyboard",event:et}));break;case"PageUp":et.preventDefault(),Et({diff:-lz,direction:"previous",reason:"keyboard",event:et}),rr(et);break;case"PageDown":et.preventDefault(),Et({diff:lz,direction:"next",reason:"keyboard",event:et}),rr(et);break;case"ArrowDown":et.preventDefault(),Et({diff:1,direction:"next",reason:"keyboard",event:et}),rr(et);break;case"ArrowUp":et.preventDefault(),Et({diff:-1,direction:"previous",reason:"keyboard",event:et}),rr(et);break;case"ArrowLeft":!j&&X?nt(0):Gn(et,"previous");break;case"ArrowRight":!j&&X?nt(-1):Gn(et,"next");break;case"Enter":if(Fe.current!==-1&&At){const wt=Ye[Fe.current],qt=T?T(wt):!1;if(et.preventDefault(),qt)return;ai(et,wt,"selectOption"),r&&_e.current.setSelectionRange(_e.current.value.length,_e.current.value.length)}else E&&Ct!==""&&Mt===!1&&(j&&et.preventDefault(),ai(et,Ct,"createOption","freeSolo"));break;case"Escape":At?(et.preventDefault(),et.stopPropagation(),mr(et,"escape")):c&&(Ct!==""||j&&Ue.length>0||X)&&(et.preventDefault(),et.stopPropagation(),Bt(et));break;case"Backspace":if(j&&!H&&Ct===""&&Ue.length>0){const wt=Ie===-1?Ue.length-1:Ie,qt=Ue.slice();qt.splice(wt,1),bt(et,qt,"removeOption",{option:Ue[wt]})}!j&&X&&!H&&(Ft(null),nt(-1));break;case"Delete":if(j&&!H&&Ct===""&&Ue.length>0&&Ie!==-1){const wt=Ie,qt=Ue.slice();qt.splice(wt,1),bt(et,qt,"removeOption",{option:Ue[wt]})}!j&&X&&!H&&(Ft(null),nt(-1));break}},Sn=st=>{$t(!0),ie&&!be.current&&rr(st)},Tn=st=>{if(t(me)){_e.current.focus();return}$t(!1),Ne.current=!0,be.current=!1,o&&Fe.current!==-1&&At?ai(st,Ye[Fe.current],"blur"):o&&E&&Ct!==""?ai(st,Ct,"blur","freeSolo"):l&&yt(st,Ue,"blur"),mr(st,"blur")},Mn=st=>{const et=st.target.value;Ct!==et&&(Rt(et),un(!1),z&&z(st,et,"input")),et===""?!p&&!j&&bt(st,null,"clear"):rr(st)},hi=st=>{const et=Number(st.currentTarget.getAttribute("data-option-index"));Fe.current!==et&&Pt({event:st,index:et,reason:"mouse"})},Qr=st=>{Pt({event:st,index:Number(st.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Fr.current=!0},Vi=st=>{const et=Number(st.currentTarget.getAttribute("data-option-index"));ai(st,Ye[et],"selectOption"),Fr.current=!1},Ao=st=>et=>{const wt=Ue.slice();wt.splice(st,1),bt(et,wt,"removeOption",{option:Ue[st]})},Mr=st=>{bt(st,null,"removeOption",{option:Ue})},yn=st=>{zt?mr(st,"toggleInput"):rr(st)},ir=st=>{st.currentTarget.contains(st.target)&&st.target.getAttribute("id")!==ge&&st.preventDefault()},Pi=st=>{st.currentTarget.contains(st.target)&&(_e.current.focus(),he&&Ne.current&&_e.current.selectionEnd-_e.current.selectionStart===0&&_e.current.select(),Ne.current=!1)},zo=st=>{!m&&(Ct===""||!zt)&&yn(st)};let fi=E&&Ct.length>0;fi=fi||(j?Ue.length>0:Ue!==null);let Vn=Ye;return I&&(Vn=Ye.reduce((st,et,wt)=>{const qt=I(et);return st.length>0&&st[st.length-1].group===qt?st[st.length-1].options.push(et):st.push({key:wt,index:wt,group:qt,options:[et]}),st},[])),m&&Ke&&Tn(),{getRootProps:(st={})=>({...st,onKeyDown:en(st),onMouseDown:ir,onClick:Pi}),getInputLabelProps:()=>({id:`${ge}-label`,htmlFor:ge}),getInputProps:()=>({id:ge,value:Ct,onBlur:Tn,onFocus:Sn,onChange:Mn,onMouseDown:zo,"aria-activedescendant":At?"":null,"aria-autocomplete":r?"both":"list","aria-controls":St?`${ge}-listbox`:void 0,"aria-expanded":St,autoComplete:"off",ref:_e,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Bt}),getItemProps:({index:st=0}={})=>({...j&&{key:st},...X?{"data-item-index":st}:{"data-tag-index":st},tabIndex:-1,...!H&&{onDelete:j?Ao(st):Mr}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:yn}),getTagProps:({index:st})=>({key:st,"data-tag-index":st,tabIndex:-1,...!H&&{onDelete:Ao(st)}}),getListboxProps:()=>({role:"listbox",id:`${ge}-listbox`,"aria-labelledby":`${ge}-label`,ref:Cr,onMouseDown:st=>{st.preventDefault()}}),getOptionProps:({index:st,option:et})=>{const wt=(j?Ue:[Ue]).some(sn=>sn!=null&&$(et,sn)),qt=T?T(et):!1;return{key:O?.(et)??ce(et),tabIndex:-1,role:"option",id:`${ge}-option-${st}`,onMouseMove:hi,onClick:Vi,onTouchStart:Qr,"data-option-index":st,"aria-disabled":qt,"aria-selected":wt}},id:ge,inputValue:Ct,value:Ue,dirty:fi,expanded:At&&ye,popupOpen:At,focused:Ke||Ie!==-1,anchorEl:ye,setAnchorEl:xe,focusedItem:Ie,focusedTag:Ie,groupedOptions:Vn}}var ws="top",_a="bottom",Ea="right",Ss="left",yO="auto",om=[ws,_a,Ea,Ss],kf="start",sm="end",kxe="clippingParents",uz="viewport",am="popper",Pxe="reference",dz=om.reduce(function(e,t){return e.concat([t+"-"+kf,t+"-"+sm])},[]),hz=[].concat(om,[yO]).reduce(function(e,t){return e.concat([t,t+"-"+kf,t+"-"+sm])},[]),Dxe="beforeRead",Axe="read",Lxe="afterRead",Nxe="beforeMain",Bxe="main",Fxe="afterMain",jxe="beforeWrite",Vxe="write",$xe="afterWrite",zxe=[Dxe,Axe,Lxe,Nxe,Bxe,Fxe,jxe,Vxe,$xe];function ql(e){return e?(e.nodeName||"").toLowerCase():null}function Ks(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gh(e){var t=Ks(e).Element;return e instanceof t||e instanceof Element}function Ta(e){var t=Ks(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function bO(e){if(typeof ShadowRoot>"u")return!1;var t=Ks(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Uxe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Ta(o)||!ql(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function Hxe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=s.reduce(function(c,u){return c[u]="",c},{});!Ta(i)||!ql(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}const Gxe={name:"applyStyles",enabled:!0,phase:"write",fn:Uxe,effect:Hxe,requires:["computeStyles"]};function Yl(e){return e.split("-")[0]}var mh=Math.max,cw=Math.min,Pf=Math.round;function wO(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function fz(){return!/^((?!chrome|android).)*safari/i.test(wO())}function Df(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Ta(e)&&(i=e.offsetWidth>0&&Pf(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Pf(r.height)/e.offsetHeight||1);var s=gh(e)?Ks(e):window,l=s.visualViewport,c=!fz()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/i,h=(r.top+(c&&l?l.offsetTop:0))/o,p=r.width/i,g=r.height/o;return{width:p,height:g,top:h,right:u+p,bottom:h+g,left:u,x:u,y:h}}function SO(e){var t=Df(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function pz(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&bO(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rc(e){return Ks(e).getComputedStyle(e)}function Wxe(e){return["table","td","th"].indexOf(ql(e))>=0}function ku(e){return((gh(e)?e.ownerDocument:e.document)||window.document).documentElement}function uw(e){return ql(e)==="html"?e:e.assignedSlot||e.parentNode||(bO(e)?e.host:null)||ku(e)}function gz(e){return!Ta(e)||Rc(e).position==="fixed"?null:e.offsetParent}function Kxe(e){var t=/firefox/i.test(wO()),n=/Trident/i.test(wO());if(n&&Ta(e)){var r=Rc(e);if(r.position==="fixed")return null}var i=uw(e);for(bO(i)&&(i=i.host);Ta(i)&&["html","body"].indexOf(ql(i))<0;){var o=Rc(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function lm(e){for(var t=Ks(e),n=gz(e);n&&Wxe(n)&&Rc(n).position==="static";)n=gz(n);return n&&(ql(n)==="html"||ql(n)==="body"&&Rc(n).position==="static")?t:n||Kxe(e)||t}function CO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function cm(e,t,n){return mh(e,cw(t,n))}function qxe(e,t,n){var r=cm(e,t,n);return r>n?n:r}function mz(){return{top:0,right:0,bottom:0,left:0}}function vz(e){return Object.assign({},mz(),e)}function yz(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Yxe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,vz(typeof t!="number"?t:yz(t,om))};function Xxe(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=Yl(n.placement),c=CO(l),u=[Ss,Ea].indexOf(l)>=0,h=u?"height":"width";if(!(!o||!s)){var p=Yxe(i.padding,n),g=SO(o),m=c==="y"?ws:Ss,y=c==="y"?_a:Ea,b=n.rects.reference[h]+n.rects.reference[c]-s[c]-n.rects.popper[h],v=s[c]-n.rects.reference[c],S=lm(o),E=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,T=b/2-v/2,O=p[m],M=E-g[h]-p[y],I=E/2-g[h]/2+T,N=cm(O,I,M),D=c;n.modifiersData[r]=(t={},t[D]=N,t.centerOffset=N-I,t)}}function Zxe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||pz(t.elements.popper,i)&&(t.elements.arrow=i))}const Qxe={name:"arrow",enabled:!0,phase:"main",fn:Xxe,effect:Zxe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Af(e){return e.split("-")[1]}var Jxe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function e_e(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Pf(n*i)/i||0,y:Pf(r*i)/i||0}}function bz(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,p=e.isFixed,g=s.x,m=g===void 0?0:g,y=s.y,b=y===void 0?0:y,v=typeof h=="function"?h({x:m,y:b}):{x:m,y:b};m=v.x,b=v.y;var S=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),T=Ss,O=ws,M=window;if(u){var I=lm(n),N="clientHeight",D="clientWidth";if(I===Ks(n)&&(I=ku(n),Rc(I).position!=="static"&&l==="absolute"&&(N="scrollHeight",D="scrollWidth")),I=I,i===ws||(i===Ss||i===Ea)&&o===sm){O=_a;var L=p&&I===M&&M.visualViewport?M.visualViewport.height:I[N];b-=L-r.height,b*=c?1:-1}if(i===Ss||(i===ws||i===_a)&&o===sm){T=Ea;var A=p&&I===M&&M.visualViewport?M.visualViewport.width:I[D];m-=A-r.width,m*=c?1:-1}}var $=Object.assign({position:l},u&&Jxe),j=h===!0?e_e({x:m,y:b},Ks(n)):{x:m,y:b};if(m=j.x,b=j.y,c){var U;return Object.assign({},$,(U={},U[O]=E?"0":"",U[T]=S?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",U))}return Object.assign({},$,(t={},t[O]=E?b+"px":"",t[T]=S?m+"px":"",t.transform="",t))}function t_e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:Yl(t.placement),variation:Af(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,bz(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,bz(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const n_e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:t_e,data:{}};var dw={passive:!0};function r_e(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,c=Ks(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(h){h.addEventListener("scroll",n.update,dw)}),l&&c.addEventListener("resize",n.update,dw),function(){o&&u.forEach(function(h){h.removeEventListener("scroll",n.update,dw)}),l&&c.removeEventListener("resize",n.update,dw)}}const i_e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:r_e,data:{}};var o_e={left:"right",right:"left",bottom:"top",top:"bottom"};function hw(e){return e.replace(/left|right|bottom|top/g,function(t){return o_e[t]})}var s_e={start:"end",end:"start"};function wz(e){return e.replace(/start|end/g,function(t){return s_e[t]})}function xO(e){var t=Ks(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _O(e){return Df(ku(e)).left+xO(e).scrollLeft}function a_e(e,t){var n=Ks(e),r=ku(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,c=0;if(i){o=i.width,s=i.height;var u=fz();(u||!u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:l+_O(e),y:c}}function l_e(e){var t,n=ku(e),r=xO(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=mh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=mh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+_O(e),c=-r.scrollTop;return Rc(i||n).direction==="rtl"&&(l+=mh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:c}}function EO(e){var t=Rc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Sz(e){return["html","body","#document"].indexOf(ql(e))>=0?e.ownerDocument.body:Ta(e)&&EO(e)?e:Sz(uw(e))}function um(e,t){var n;t===void 0&&(t=[]);var r=Sz(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Ks(r),s=i?[o].concat(o.visualViewport||[],EO(r)?r:[]):r,l=t.concat(s);return i?l:l.concat(um(uw(s)))}function TO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function c_e(e,t){var n=Df(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Cz(e,t,n){return t===uz?TO(a_e(e,n)):gh(t)?c_e(t,n):TO(l_e(ku(e)))}function u_e(e){var t=um(uw(e)),n=["absolute","fixed"].indexOf(Rc(e).position)>=0,r=n&&Ta(e)?lm(e):e;return gh(r)?t.filter(function(i){return gh(i)&&pz(i,r)&&ql(i)!=="body"}):[]}function d_e(e,t,n,r){var i=t==="clippingParents"?u_e(e):[].concat(t),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(c,u){var h=Cz(e,u,r);return c.top=mh(h.top,c.top),c.right=cw(h.right,c.right),c.bottom=cw(h.bottom,c.bottom),c.left=mh(h.left,c.left),c},Cz(e,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function xz(e){var t=e.reference,n=e.element,r=e.placement,i=r?Yl(r):null,o=r?Af(r):null,s=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(i){case ws:c={x:s,y:t.y-n.height};break;case _a:c={x:s,y:t.y+t.height};break;case Ea:c={x:t.x+t.width,y:l};break;case Ss:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var u=i?CO(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(o){case kf:c[u]=c[u]-(t[h]/2-n[h]/2);break;case sm:c[u]=c[u]+(t[h]/2-n[h]/2);break}}return c}function dm(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,l=n.boundary,c=l===void 0?kxe:l,u=n.rootBoundary,h=u===void 0?uz:u,p=n.elementContext,g=p===void 0?am:p,m=n.altBoundary,y=m===void 0?!1:m,b=n.padding,v=b===void 0?0:b,S=vz(typeof v!="number"?v:yz(v,om)),E=g===am?Pxe:am,T=e.rects.popper,O=e.elements[y?E:g],M=d_e(gh(O)?O:O.contextElement||ku(e.elements.popper),c,h,s),I=Df(e.elements.reference),N=xz({reference:I,element:T,placement:i}),D=TO(Object.assign({},T,N)),L=g===am?D:I,A={top:M.top-L.top+S.top,bottom:L.bottom-M.bottom+S.bottom,left:M.left-L.left+S.left,right:L.right-M.right+S.right},$=e.modifiersData.offset;if(g===am&&$){var j=$[i];Object.keys(A).forEach(function(U){var K=[Ea,_a].indexOf(U)>=0?1:-1,q=[ws,_a].indexOf(U)>=0?"y":"x";A[U]+=j[q]*K})}return A}function h_e(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?hz:c,h=Af(r),p=h?l?dz:dz.filter(function(y){return Af(y)===h}):om,g=p.filter(function(y){return u.indexOf(y)>=0});g.length===0&&(g=p);var m=g.reduce(function(y,b){return y[b]=dm(e,{placement:b,boundary:i,rootBoundary:o,padding:s})[Yl(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function f_e(e){if(Yl(e)===yO)return[];var t=hw(e);return[wz(e),t,wz(t)]}function p_e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,c=n.fallbackPlacements,u=n.padding,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,b=n.allowedAutoPlacements,v=t.options.placement,S=Yl(v),E=S===v,T=c||(E||!y?[hw(v)]:f_e(v)),O=[v].concat(T).reduce(function(pe,ge){return pe.concat(Yl(ge)===yO?h_e(t,{placement:ge,boundary:h,rootBoundary:p,padding:u,flipVariations:y,allowedAutoPlacements:b}):ge)},[]),M=t.rects.reference,I=t.rects.popper,N=new Map,D=!0,L=O[0],A=0;A<O.length;A++){var $=O[A],j=Yl($),U=Af($)===kf,K=[ws,_a].indexOf(j)>=0,q=K?"width":"height",z=dm(t,{placement:$,boundary:h,rootBoundary:p,altBoundary:g,padding:u}),Y=K?U?Ea:Ss:U?_a:ws;M[q]>I[q]&&(Y=hw(Y));var te=hw(Y),ie=[];if(o&&ie.push(z[j]<=0),l&&ie.push(z[Y]<=0,z[te]<=0),ie.every(function(pe){return pe})){L=$,D=!1;break}N.set($,ie)}if(D)for(var Q=y?3:1,H=function(ge){var ce=O.find(function(be){var Ne=N.get(be);if(Ne)return Ne.slice(0,ge).every(function(_e){return _e})});if(ce)return L=ce,"break"},X=Q;X>0;X--){var he=H(X);if(he==="break")break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}}const g_e={name:"flip",enabled:!0,phase:"main",fn:p_e,requiresIfExists:["offset"],data:{_skip:!1}};function _z(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ez(e){return[ws,Ea,_a,Ss].some(function(t){return e[t]>=0})}function m_e(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=dm(t,{elementContext:"reference"}),l=dm(t,{altBoundary:!0}),c=_z(s,r),u=_z(l,i,o),h=Ez(c),p=Ez(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const v_e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:m_e};function y_e(e,t,n){var r=Yl(e),i=[Ss,ws].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[Ss,Ea].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function b_e(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=hz.reduce(function(h,p){return h[p]=y_e(p,t.rects,o),h},{}),l=s[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}const w_e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:b_e};function S_e(e){var t=e.state,n=e.name;t.modifiersData[n]=xz({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const C_e={name:"popperOffsets",enabled:!0,phase:"read",fn:S_e,data:{}};function x_e(e){return e==="x"?"y":"x"}function __e(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.padding,g=n.tether,m=g===void 0?!0:g,y=n.tetherOffset,b=y===void 0?0:y,v=dm(t,{boundary:c,rootBoundary:u,padding:p,altBoundary:h}),S=Yl(t.placement),E=Af(t.placement),T=!E,O=CO(S),M=x_e(O),I=t.modifiersData.popperOffsets,N=t.rects.reference,D=t.rects.popper,L=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,A=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(I){if(o){var U,K=O==="y"?ws:Ss,q=O==="y"?_a:Ea,z=O==="y"?"height":"width",Y=I[O],te=Y+v[K],ie=Y-v[q],Q=m?-D[z]/2:0,H=E===kf?N[z]:D[z],X=E===kf?-D[z]:-N[z],he=t.elements.arrow,pe=m&&he?SO(he):{width:0,height:0},ge=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:mz(),ce=ge[K],be=ge[q],Ne=cm(0,N[z],pe[z]),_e=T?N[z]/2-Q-Ne-ce-A.mainAxis:H-Ne-ce-A.mainAxis,me=T?-N[z]/2+Q+Ne+be+A.mainAxis:X+Ne+be+A.mainAxis,ye=t.elements.arrow&&lm(t.elements.arrow),xe=ye?O==="y"?ye.clientTop||0:ye.clientLeft||0:0,Ie=(U=$?.[O])!=null?U:0,Pe=Y+_e-Ie-xe,Re=Y+me-Ie,Fe=cm(m?cw(te,Pe):te,Y,m?mh(ie,Re):ie);I[O]=Fe,j[O]=Fe-Y}if(l){var ft,Ue=O==="x"?ws:Ss,Ft=O==="x"?_a:Ea,Ct=I[M],Rt=M==="y"?"height":"width",Ke=Ct+v[Ue],$t=Ct-v[Ft],yt=[ws,Ss].indexOf(S)!==-1,zt=(ft=$?.[M])!=null?ft:0,jt=yt?Ke:Ct-N[Rt]-D[Rt]-zt+A.altAxis,pn=yt?Ct+N[Rt]+D[Rt]-zt-A.altAxis:$t,un=m&&yt?qxe(jt,Ct,pn):cm(m?jt:Ke,Ct,m?pn:$t);I[M]=un,j[M]=un-Ct}t.modifiersData[r]=j}}const E_e={name:"preventOverflow",enabled:!0,phase:"main",fn:__e,requiresIfExists:["offset"]};function T_e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function M_e(e){return e===Ks(e)||!Ta(e)?xO(e):T_e(e)}function O_e(e){var t=e.getBoundingClientRect(),n=Pf(t.width)/e.offsetWidth||1,r=Pf(t.height)/e.offsetHeight||1;return n!==1||r!==1}function R_e(e,t,n){n===void 0&&(n=!1);var r=Ta(t),i=Ta(t)&&O_e(t),o=ku(t),s=Df(e,i,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((ql(t)!=="body"||EO(o))&&(l=M_e(t)),Ta(t)?(c=Df(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=_O(o))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function I_e(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&i(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function k_e(e){var t=I_e(e);return zxe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function P_e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function D_e(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Tz={placement:"bottom",modifiers:[],strategy:"absolute"};function Mz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function A_e(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?Tz:i;return function(l,c,u){u===void 0&&(u=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tz,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],g=!1,m={state:h,setOptions:function(S){var E=typeof S=="function"?S(h.options):S;b(),h.options=Object.assign({},o,h.options,E),h.scrollParents={reference:gh(l)?um(l):l.contextElement?um(l.contextElement):[],popper:um(c)};var T=k_e(D_e([].concat(r,h.options.modifiers)));return h.orderedModifiers=T.filter(function(O){return O.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var S=h.elements,E=S.reference,T=S.popper;if(Mz(E,T)){h.rects={reference:R_e(E,lm(T),h.options.strategy==="fixed"),popper:SO(T)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(A){return h.modifiersData[A.name]=Object.assign({},A.data)});for(var O=0;O<h.orderedModifiers.length;O++){if(h.reset===!0){h.reset=!1,O=-1;continue}var M=h.orderedModifiers[O],I=M.fn,N=M.options,D=N===void 0?{}:N,L=M.name;typeof I=="function"&&(h=I({state:h,options:D,name:L,instance:m})||h)}}}},update:P_e(function(){return new Promise(function(v){m.forceUpdate(),v(h)})}),destroy:function(){b(),g=!0}};if(!Mz(l,c))return m;m.setOptions(u).then(function(v){!g&&u.onFirstUpdate&&u.onFirstUpdate(v)});function y(){h.orderedModifiers.forEach(function(v){var S=v.name,E=v.options,T=E===void 0?{}:E,O=v.effect;if(typeof O=="function"){var M=O({state:h,name:S,instance:m,options:T}),I=function(){};p.push(M||I)}})}function b(){p.forEach(function(v){return v()}),p=[]}return m}}var L_e=[i_e,C_e,n_e,Gxe,w_e,g_e,E_e,Qxe,v_e],N_e=A_e({defaultModifiers:L_e});function Ro(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,s=i?{}:sw(n,r),{props:l,internalRef:c}=tz({...o,externalSlotProps:s}),u=Zn(c,s?.ref,e.additionalProps?.ref);return J$(t,{...l,ref:u},r)}function Pu(e){return parseInt(_.version,10)>=19?e?.props?.ref||null:e?.ref||null}function B_e(e){return typeof e=="function"?e():e}const Oz=_.forwardRef(function(t,n){const{children:r,container:i,disablePortal:o=!1}=t,[s,l]=_.useState(null),c=Zn(_.isValidElement(r)?Pu(r):null,n);if(pr(()=>{o||l(B_e(i)||document.body)},[i,o]),pr(()=>{if(s&&!o)return sO(n,s),()=>{sO(n,null)}},[n,s,o]),o){if(_.isValidElement(r)){const u={ref:c};return _.cloneElement(r,u)}return r}return s&&Ob.createPortal(r,s)});function F_e(e){return cn("MuiPopper",e)}on("MuiPopper",["root"]);function j_e(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function MO(e){return typeof e=="function"?e():e}function V_e(e){return e.nodeType!==void 0}const $_e=e=>{const{classes:t}=e;return _t({root:["root"]},F_e,t)},z_e={},U_e=_.forwardRef(function(t,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:l,open:c,placement:u,popperOptions:h,popperRef:p,slotProps:g={},slots:m={},TransitionProps:y,ownerState:b,...v}=t,S=_.useRef(null),E=Zn(S,n),T=_.useRef(null),O=Zn(T,p),M=_.useRef(O);pr(()=>{M.current=O},[O]),_.useImperativeHandle(p,()=>T.current,[]);const I=j_e(u,o),[N,D]=_.useState(I),[L,A]=_.useState(MO(r));_.useEffect(()=>{T.current&&T.current.forceUpdate()}),_.useEffect(()=>{r&&A(MO(r))},[r]),pr(()=>{if(!L||!c)return;const q=te=>{D(te.placement)};let z=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:te})=>{q(te)}}];l!=null&&(z=z.concat(l)),h&&h.modifiers!=null&&(z=z.concat(h.modifiers));const Y=N_e(L,S.current,{placement:I,...h,modifiers:z});return M.current(Y),()=>{Y.destroy(),M.current(null)}},[L,s,l,c,h,I]);const $={placement:N};y!==null&&($.TransitionProps=y);const j=$_e(t),U=m.root??"div",K=Ro({elementType:U,externalSlotProps:g.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:E},ownerState:t,className:j.root});return C.jsx(U,{...K,children:typeof i=="function"?i($):i})}),H_e=Te(_.forwardRef(function(t,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:g=z_e,popperRef:m,style:y,transition:b=!1,slotProps:v={},slots:S={},...E}=t,[T,O]=_.useState(!0),M=()=>{O(!1)},I=()=>{O(!0)};if(!c&&!h&&(!b||T))return null;let N;if(o)N=o;else if(r){const A=MO(r);N=A&&V_e(A)?Si(A).body:Si(null).body}const D=!h&&c&&(!b||T)?"none":void 0,L=b?{in:h,onEnter:M,onExited:I}:void 0;return C.jsx(Oz,{disablePortal:l,container:N,children:C.jsx(U_e,{anchorEl:r,direction:s,disablePortal:l,modifiers:u,ref:n,open:b?!T:h,placement:p,popperOptions:g,popperRef:m,slotProps:v,slots:S,...E,style:{position:"fixed",top:0,left:0,display:D,...y},TransitionProps:L,children:i})})}),{name:"MuiPopper",slot:"Root"})({}),hm=_.forwardRef(function(t,n){const r=Oo(),i=mn({props:t,name:"MuiPopper"}),{anchorEl:o,component:s,components:l,componentsProps:c,container:u,disablePortal:h,keepMounted:p,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,slots:E,slotProps:T,...O}=i,M=E?.root??l?.Root,I={anchorEl:o,container:u,disablePortal:h,keepMounted:p,modifiers:g,open:m,placement:y,popperOptions:b,popperRef:v,transition:S,...O};return C.jsx(H_e,{as:s,direction:r?"rtl":"ltr",slots:{root:M},slotProps:T??c,...I,ref:n})});function G_e(e){return cn("MuiListSubheader",e)}on("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const W_e=e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:o}=e,s={root:["root",n!=="default"&&`color${Qe(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]};return _t(s,G_e,t)},K_e=Te("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Qe(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(tn(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),OO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:l=!1,disableSticky:c=!1,inset:u=!1,...h}=r,p={...r,color:o,component:s,disableGutters:l,disableSticky:c,inset:u},g=W_e(p);return C.jsx(K_e,{as:s,className:Je(g.root,i),ref:n,ownerState:p,...h})});OO&&(OO.muiSkipListHighlight=!0);const q_e=Lt(C.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Y_e(e){return cn("MuiChip",e)}const ur=on("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),X_e=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:l,variant:c}=e,u={root:["root",c,n&&"disabled",`size${Qe(r)}`,`color${Qe(i)}`,l&&"clickable",l&&`clickableColor${Qe(i)}`,s&&"deletable",s&&`deletableColor${Qe(i)}`,`${c}${Qe(i)}`],label:["label",`label${Qe(r)}`],avatar:["avatar",`avatar${Qe(r)}`,`avatarColor${Qe(i)}`],icon:["icon",`icon${Qe(r)}`,`iconColor${Qe(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Qe(r)}`,`deleteIconColor${Qe(i)}`,`deleteIcon${Qe(c)}Color${Qe(i)}`]};return _t(u,Y_e,t)},Z_e=Te("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:l,variant:c}=n;return[{[`& .${ur.avatar}`]:t.avatar},{[`& .${ur.avatar}`]:t[`avatar${Qe(l)}`]},{[`& .${ur.avatar}`]:t[`avatarColor${Qe(r)}`]},{[`& .${ur.icon}`]:t.icon},{[`& .${ur.icon}`]:t[`icon${Qe(l)}`]},{[`& .${ur.icon}`]:t[`iconColor${Qe(i)}`]},{[`& .${ur.deleteIcon}`]:t.deleteIcon},{[`& .${ur.deleteIcon}`]:t[`deleteIcon${Qe(l)}`]},{[`& .${ur.deleteIcon}`]:t[`deleteIconColor${Qe(r)}`]},{[`& .${ur.deleteIcon}`]:t[`deleteIcon${Qe(c)}Color${Qe(r)}`]},t.root,t[`size${Qe(l)}`],t[`color${Qe(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${Qe(r)})`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${Qe(r)}`],t[c],t[`${c}${Qe(r)}`]]}})(tn(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ur.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ur.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${ur.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${ur.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${ur.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${ur.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ur.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ur.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ur.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(Ci(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${ur.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${ur.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${ur.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ur.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(Ci(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${ur.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${ur.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(Ci(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${ur.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${ur.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ur.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${ur.avatar}`]:{marginLeft:4},[`& .${ur.avatarSmall}`]:{marginLeft:2},[`& .${ur.icon}`]:{marginLeft:4},[`& .${ur.iconSmall}`]:{marginLeft:2},[`& .${ur.deleteIcon}`]:{marginRight:5},[`& .${ur.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(Ci()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${ur.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${ur.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${ur.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),Q_e=Te("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Qe(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Rz(e){return e.key==="Backspace"||e.key==="Delete"}const RO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:l="default",component:c,deleteIcon:u,disabled:h=!1,icon:p,label:g,onClick:m,onDelete:y,onKeyDown:b,onKeyUp:v,size:S="medium",variant:E="filled",tabIndex:T,skipFocusWhenDisabled:O=!1,slots:M={},slotProps:I={},...N}=r,D=_.useRef(null),L=Zn(D,n),A=ce=>{ce.stopPropagation(),y&&y(ce)},$=ce=>{ce.currentTarget===ce.target&&Rz(ce)&&ce.preventDefault(),b&&b(ce)},j=ce=>{ce.currentTarget===ce.target&&y&&Rz(ce)&&y(ce),v&&v(ce)},U=s!==!1&&m?!0:s,K=U||y?Kl:c||"div",q={...r,component:K,disabled:h,size:S,color:l,iconColor:_.isValidElement(p)&&p.props.color||l,onDelete:!!y,clickable:U,variant:E},z=X_e(q),Y=K===Kl?{component:c||"div",focusVisibleClassName:z.focusVisible,...y&&{disableRipple:!0}}:{};let te=null;y&&(te=u&&_.isValidElement(u)?_.cloneElement(u,{className:Je(u.props.className,z.deleteIcon),onClick:A}):C.jsx(q_e,{className:z.deleteIcon,onClick:A}));let ie=null;i&&_.isValidElement(i)&&(ie=_.cloneElement(i,{className:Je(z.avatar,i.props.className)}));let Q=null;p&&_.isValidElement(p)&&(Q=_.cloneElement(p,{className:Je(z.icon,p.props.className)}));const H={slots:M,slotProps:I},[X,he]=wn("root",{elementType:Z_e,externalForwardedProps:{...H,...N},ownerState:q,shouldForwardComponentProp:!0,ref:L,className:Je(z.root,o),additionalProps:{disabled:U&&h?!0:void 0,tabIndex:O&&h?-1:T,...Y},getSlotProps:ce=>({...ce,onClick:be=>{ce.onClick?.(be),m?.(be)},onKeyDown:be=>{ce.onKeyDown?.(be),$(be)},onKeyUp:be=>{ce.onKeyUp?.(be),j(be)}})}),[pe,ge]=wn("label",{elementType:Q_e,externalForwardedProps:H,ownerState:q,className:z.label});return C.jsxs(X,{as:K,...he,children:[ie||Q,C.jsx(pe,{...ge,children:g}),te]})});function fw(e){return parseInt(e,10)||0}const J_e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function eEe(e){for(const t in e)return!1;return!0}function Iz(e){return eEe(e)||e.outerHeightStyle===0&&!e.overflowing}const tEe=_.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:l,...c}=t,{current:u}=_.useRef(l!=null),h=_.useRef(null),p=Zn(n,h),g=_.useRef(null),m=_.useRef(null),y=_.useCallback(()=>{const T=h.current,O=m.current;if(!T||!O)return;const I=Hs(T).getComputedStyle(T);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};O.style.width=I.width,O.value=T.value||t.placeholder||"x",O.value.slice(-1)===`
`&&(O.value+=" ");const N=I.boxSizing,D=fw(I.paddingBottom)+fw(I.paddingTop),L=fw(I.borderBottomWidth)+fw(I.borderTopWidth),A=O.scrollHeight;O.value="x";const $=O.scrollHeight;let j=A;o&&(j=Math.max(Number(o)*$,j)),i&&(j=Math.min(Number(i)*$,j)),j=Math.max(j,$);const U=j+(N==="border-box"?D+L:0),K=Math.abs(j-A)<=1;return{outerHeightStyle:U,overflowing:K}},[i,o,t.placeholder]),b=Xt(()=>{const T=h.current,O=y();if(!T||!O||Iz(O))return!1;const M=O.outerHeightStyle;return g.current!=null&&g.current!==M}),v=_.useCallback(()=>{const T=h.current,O=y();if(!T||!O||Iz(O))return;const M=O.outerHeightStyle;g.current!==M&&(g.current=M,T.style.height=`${M}px`),T.style.overflow=O.overflowing?"hidden":""},[y]),S=_.useRef(-1);pr(()=>{const T=Ou(v),O=h?.current;if(!O)return;const M=Hs(O);M.addEventListener("resize",T);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{b()&&(I.unobserve(O),cancelAnimationFrame(S.current),v(),S.current=requestAnimationFrame(()=>{I.observe(O)}))}),I.observe(O)),()=>{T.clear(),cancelAnimationFrame(S.current),M.removeEventListener("resize",T),I&&I.disconnect()}},[y,v,b]),pr(()=>{v()});const E=T=>{u||v();const O=T.target,M=O.value.length,I=O.value.endsWith(`
`),N=O.selectionStart===M;I&&N&&O.setSelectionRange(M,M),r&&r(T)};return C.jsxs(_.Fragment,{children:[C.jsx("textarea",{value:l,onChange:E,ref:p,rows:o,style:s,...c}),C.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:{...J_e.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function vh({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const pw=_.createContext(void 0);function Ic(){return _.useContext(pw)}function kz(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function gw(e,t=!1){return e&&(kz(e.value)&&e.value!==""||t&&kz(e.defaultValue)&&e.defaultValue!=="")}function nEe(e){return e.startAdornment}function rEe(e){return cn("MuiInputBase",e)}const $o=on("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Pz;const mw=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Qe(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},vw=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},iEe=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:l,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:p,size:g,startAdornment:m,type:y}=e,b={root:["root",`color${Qe(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",s&&"focused",l&&"formControl",g&&g!=="medium"&&`size${Qe(g)}`,h&&"multiline",m&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",o&&"inputAdornedEnd",p&&"readOnly"]};return _t(b,rEe,t)},yw=Te("div",{name:"MuiInputBase",slot:"Root",overridesResolver:mw})(tn(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${$o.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),bw=Te("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vw})(tn(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${$o.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${$o.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Dz=CCe({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),fm=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:l,color:c,components:u={},componentsProps:h={},defaultValue:p,disabled:g,disableInjectingGlobalStyles:m,endAdornment:y,error:b,fullWidth:v=!1,id:S,inputComponent:E="input",inputProps:T={},inputRef:O,margin:M,maxRows:I,minRows:N,multiline:D=!1,name:L,onBlur:A,onChange:$,onClick:j,onFocus:U,onKeyDown:K,onKeyUp:q,placeholder:z,readOnly:Y,renderSuffix:te,rows:ie,size:Q,slotProps:H={},slots:X={},startAdornment:he,type:pe="text",value:ge,...ce}=r,be=T.value!=null?T.value:ge,{current:Ne}=_.useRef(be!=null),_e=_.useRef(),me=_.useCallback(Ye=>{},[]),ye=Zn(_e,O,T.ref,me),[xe,Ie]=_.useState(!1),Pe=Ic(),Re=vh({props:r,muiFormControl:Pe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Re.focused=Pe?Pe.focused:xe,_.useEffect(()=>{!Pe&&g&&xe&&(Ie(!1),A&&A())},[Pe,g,xe,A]);const Fe=Pe&&Pe.onFilled,ft=Pe&&Pe.onEmpty,Ue=_.useCallback(Ye=>{gw(Ye)?Fe&&Fe():ft&&ft()},[Fe,ft]);pr(()=>{Ne&&Ue({value:be})},[be,Ue,Ne]);const Ft=Ye=>{U&&U(Ye),T.onFocus&&T.onFocus(Ye),Pe&&Pe.onFocus?Pe.onFocus(Ye):Ie(!0)},Ct=Ye=>{A&&A(Ye),T.onBlur&&T.onBlur(Ye),Pe&&Pe.onBlur?Pe.onBlur(Ye):Ie(!1)},Rt=(Ye,...xt)=>{if(!Ne){const St=Ye.target||_e.current;if(St==null)throw new Error(Tc(1));Ue({value:St.value})}T.onChange&&T.onChange(Ye,...xt),$&&$(Ye,...xt)};_.useEffect(()=>{Ue(_e.current)},[]);const Ke=Ye=>{_e.current&&Ye.currentTarget===Ye.target&&_e.current.focus(),j&&j(Ye)};let $t=E,yt=T;D&&$t==="input"&&(ie?yt={type:void 0,minRows:ie,maxRows:ie,...yt}:yt={type:void 0,maxRows:I,minRows:N,...yt},$t=tEe);const zt=Ye=>{Ue(Ye.animationName==="mui-auto-fill-cancel"?_e.current:{value:"x"})};_.useEffect(()=>{Pe&&Pe.setAdornedStart(!!he)},[Pe,he]);const jt={...r,color:Re.color||"primary",disabled:Re.disabled,endAdornment:y,error:Re.error,focused:Re.focused,formControl:Pe,fullWidth:v,hiddenLabel:Re.hiddenLabel,multiline:D,size:Re.size,startAdornment:he,type:pe},pn=iEe(jt),un=X.root||u.Root||yw,Mt=H.root||h.root||{},At=X.input||u.Input||bw;return yt={...yt,...H.input??h.input},C.jsxs(_.Fragment,{children:[!m&&typeof Dz=="function"&&(Pz||(Pz=C.jsx(Dz,{}))),C.jsxs(un,{...Mt,ref:n,onClick:Ke,...ce,...!Rf(un)&&{ownerState:{...jt,...Mt.ownerState}},className:Je(pn.root,Mt.className,l,Y&&"MuiInputBase-readOnly"),children:[he,C.jsx(pw.Provider,{value:null,children:C.jsx(At,{"aria-invalid":Re.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:p,disabled:Re.disabled,id:S,onAnimationStart:zt,name:L,placeholder:z,readOnly:Y,required:Re.required,rows:ie,value:be,onKeyDown:K,onKeyUp:q,type:pe,...yt,...!Rf(At)&&{as:$t,ownerState:{...jt,...yt.ownerState}},ref:ye,className:Je(pn.input,yt.className,Y&&"MuiInputBase-readOnly"),onBlur:Ct,onChange:Rt,onFocus:Ft})}),y,te?te({...Re,startAdornment:he}):null]})]})});function oEe(e){return cn("MuiInput",e)}const Du={...$o,...on("MuiInput",["root","underline","input"])};function sEe(e){return cn("MuiOutlinedInput",e)}const Ma={...$o,...on("MuiOutlinedInput",["root","notchedOutline","input"])};function aEe(e){return cn("MuiFilledInput",e)}const qs={...$o,...on("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Az=Lt(C.jsx("path",{d:"M7 10l5 5 5-5z"}));function lEe(e){return cn("MuiAutocomplete",e)}const tr=on("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Lz,Nz;const cEe=e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:l,inputFocused:c,popupOpen:u,size:h}=e,p={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${Qe(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return _t(p,lEe,t)},uEe=Te("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:l}=n;return[{[`& .${tr.tag}`]:t.tag},{[`& .${tr.tag}`]:t[`tagSize${Qe(l)}`]},{[`& .${tr.inputRoot}`]:t.inputRoot},{[`& .${tr.input}`]:t.input},{[`& .${tr.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${tr.focused} .${tr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${tr.clearIndicator}`]:{visibility:"visible"}},[`& .${tr.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${tr.inputRoot}`]:{[`.${tr.hasPopupIcon}&, .${tr.hasClearIcon}&`]:{paddingRight:30},[`.${tr.hasPopupIcon}.${tr.hasClearIcon}&`]:{paddingRight:56},[`& .${tr.input}`]:{width:0,minWidth:30}},[`& .${Du.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Du.root}.${$o.sizeSmall}`]:{[`& .${Du.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ma.root}`]:{padding:9,[`.${tr.hasPopupIcon}&, .${tr.hasClearIcon}&`]:{paddingRight:39},[`.${tr.hasPopupIcon}.${tr.hasClearIcon}&`]:{paddingRight:65},[`& .${tr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${tr.endAdornment}`]:{right:9}},[`& .${Ma.root}.${$o.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${tr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${qs.root}`]:{paddingTop:19,paddingLeft:8,[`.${tr.hasPopupIcon}&, .${tr.hasClearIcon}&`]:{paddingRight:39},[`.${tr.hasPopupIcon}.${tr.hasClearIcon}&`]:{paddingRight:65},[`& .${qs.input}`]:{padding:"7px 4px"},[`& .${tr.endAdornment}`]:{right:9}},[`& .${qs.root}.${$o.sizeSmall}`]:{paddingBottom:1,[`& .${qs.input}`]:{padding:"2.5px 4px"}},[`& .${$o.hiddenLabel}`]:{paddingTop:8},[`& .${qs.root}.${$o.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${tr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${qs.root}.${$o.hiddenLabel}.${$o.sizeSmall}`]:{[`& .${tr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${tr.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${tr.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${tr.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${tr.inputRoot}`]:{flexWrap:"wrap"}}}]}),dEe=Te("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),hEe=Te(Fn,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),fEe=Te(Fn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),pEe=Te(hm,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${tr.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(tn(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),gEe=Te(ph,{name:"MuiAutocomplete",slot:"Paper"})(tn(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),mEe=Te("div",{name:"MuiAutocomplete",slot:"Loading"})(tn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),vEe=Te("div",{name:"MuiAutocomplete",slot:"NoOptions"})(tn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),yEe=Te("ul",{name:"MuiAutocomplete",slot:"Listbox"})(tn(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${tr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${tr.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${tr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${tr.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${tr.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),bEe=Te(OO,{name:"MuiAutocomplete",slot:"GroupLabel"})(tn(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),wEe=Te("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${tr.option}`]:{paddingLeft:24}}),Bz=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:l=!1,ChipProps:c,className:u,clearIcon:h=Lz||(Lz=C.jsx(mxe,{fontSize:"small"})),clearOnBlur:p=!r.freeSolo,clearOnEscape:g=!1,clearText:m="Clear",closeText:y="Close",componentsProps:b,defaultValue:v=r.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:E=!1,disabled:T=!1,disabledItemsFocusable:O=!1,disableListWrap:M=!1,disablePortal:I=!1,filterOptions:N,filterSelectedOptions:D=!1,forcePopupIcon:L="auto",freeSolo:A=!1,fullWidth:$=!1,getLimitTagsText:j=$n=>`+${$n}`,getOptionDisabled:U,getOptionKey:K,getOptionLabel:q,isOptionEqualToValue:z,groupBy:Y,handleHomeEndKeys:te=!r.freeSolo,id:ie,includeInputInList:Q=!1,inputValue:H,limitTags:X=-1,ListboxComponent:he,ListboxProps:pe,loading:ge=!1,loadingText:ce="Loading…",multiple:be=!1,noOptionsText:Ne="No options",onChange:_e,onClose:me,onHighlightChange:ye,onInputChange:xe,onOpen:Ie,open:Pe,openOnFocus:Re=!1,openText:Fe="Open",options:ft,PaperComponent:Ue,PopperComponent:Ft,popupIcon:Ct=Nz||(Nz=C.jsx(Az,{})),readOnly:Rt=!1,renderGroup:Ke,renderInput:$t,renderOption:yt,renderTags:zt,renderValue:jt,selectOnFocus:pn=!r.freeSolo,size:un="medium",slots:Mt={},slotProps:At={},value:Ye,...xt}=r,{getRootProps:St,getInputProps:nt,getInputLabelProps:mt,getPopupIndicatorProps:Pt,getClearProps:Et,getItemProps:Nt,getListboxProps:nr,getOptionProps:An,value:Cr,dirty:rr,expanded:mr,id:bt,popupOpen:Fr,focused:ai,focusedItem:Jt,anchorEl:Gn,setAnchorEl:Bt,inputValue:en,groupedOptions:Sn}=Ixe({...r,componentName:"Autocomplete"}),Tn=!S&&!T&&rr&&!Rt,Mn=(!A||L===!0)&&L!==!1,{onMouseDown:hi}=nt(),{ref:Qr,...Vi}=nr(),Mr=q||($n=>$n.label??$n),yn={...r,disablePortal:I,expanded:mr,focused:ai,fullWidth:$,getOptionLabel:Mr,hasClearIcon:Tn,hasPopupIcon:Mn,inputFocused:Jt===-1,popupOpen:Fr,size:un},ir=cEe(yn),Pi={slots:{paper:Ue,popper:Ft,...Mt},slotProps:{chip:c,listbox:pe,...b,...At}},[zo,fi]=wn("listbox",{elementType:yEe,externalForwardedProps:Pi,ownerState:yn,className:ir.listbox,additionalProps:Vi,ref:Qr}),[Vn,st]=wn("paper",{elementType:ph,externalForwardedProps:Pi,ownerState:yn,className:ir.paper}),[et,wt]=wn("popper",{elementType:hm,externalForwardedProps:Pi,ownerState:yn,className:ir.popper,additionalProps:{disablePortal:I,style:{width:Gn?Gn.clientWidth:null},role:"presentation",anchorEl:Gn,open:Fr}});let qt;const sn=$n=>({className:ir.tag,disabled:T,...Nt($n)});if(be?Cr.length>0&&(zt?qt=zt(Cr,sn,yn):jt?qt=jt(Cr,sn,yn):qt=Cr.map(($n,Jr)=>{const{key:wo,...Qo}=sn({index:Jr});return C.jsx(RO,{label:Mr($n),size:un,...Qo,...Pi.slotProps.chip},wo)})):jt&&Cr!=null&&(qt=jt(Cr,sn,yn)),X>-1&&Array.isArray(qt)){const $n=qt.length-X;!ai&&$n>0&&(qt=qt.splice(0,X),qt.push(C.jsx("span",{className:ir.tag,children:j($n)},qt.length)))}const or=Ke||($n=>C.jsxs("li",{children:[C.jsx(bEe,{className:ir.groupLabel,ownerState:yn,component:"div",children:$n.group}),C.jsx(wEe,{className:ir.groupUl,ownerState:yn,children:$n.children})]},$n.key)),bo=yt||(($n,Jr)=>{const{key:wo,...Qo}=$n;return C.jsx("li",{...Qo,children:Mr(Jr)},wo)}),Ts=($n,Jr)=>{const wo=An({option:$n,index:Jr});return bo({...wo,className:ir.option},$n,{selected:wo["aria-selected"],index:Jr,inputValue:en},yn)},to=Pi.slotProps.clearIndicator,Lo=Pi.slotProps.popupIndicator;return C.jsxs(_.Fragment,{children:[C.jsx(uEe,{ref:n,className:Je(ir.root,u),ownerState:yn,...St(xt),children:$t({id:bt,disabled:T,fullWidth:!0,size:un==="small"?"small":void 0,InputLabelProps:mt(),InputProps:{ref:Bt,className:ir.inputRoot,startAdornment:qt,onMouseDown:$n=>{$n.target===$n.currentTarget&&hi($n)},...(Tn||Mn)&&{endAdornment:C.jsxs(dEe,{className:ir.endAdornment,ownerState:yn,children:[Tn?C.jsx(hEe,{...Et(),"aria-label":m,title:m,ownerState:yn,...to,className:Je(ir.clearIndicator,to?.className),children:h}):null,Mn?C.jsx(fEe,{...Pt(),disabled:T,"aria-label":Fr?y:Fe,title:Fr?y:Fe,ownerState:yn,...Lo,className:Je(ir.popupIndicator,Lo?.className),children:Ct}):null]})}},inputProps:{className:ir.input,disabled:T,readOnly:Rt,...nt()}})}),Gn?C.jsx(pEe,{as:et,...wt,children:C.jsxs(gEe,{as:Vn,...st,children:[ge&&Sn.length===0?C.jsx(mEe,{className:ir.loading,ownerState:yn,children:ce}):null,Sn.length===0&&!A&&!ge?C.jsx(vEe,{className:ir.noOptions,ownerState:yn,role:"presentation",onMouseDown:$n=>{$n.preventDefault()},children:Ne}):null,Sn.length>0?C.jsx(zo,{as:he,...fi,children:Sn.map(($n,Jr)=>Y?or({key:$n.key,group:$n.group,children:$n.options.map((wo,Qo)=>Ts(wo,$n.index+Qo))}):Ts($n,Jr))}):null]})}):null]})}),Fz=on("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),SEe={entering:{opacity:1},entered:{opacity:1}},pm=_.forwardRef(function(t,n){const r=Wl(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:l,easing:c,in:u,onEnter:h,onEntered:p,onEntering:g,onExit:m,onExited:y,onExiting:b,style:v,timeout:S=i,TransitionComponent:E=Ca,...T}=t,O=_.useRef(null),M=Zn(O,Pu(l),n),I=K=>q=>{if(K){const z=O.current;q===void 0?K(z):K(z,q)}},N=I(g),D=I((K,q)=>{dO(K);const z=Ru({style:v,timeout:S,easing:c},{mode:"enter"});K.style.webkitTransition=r.transitions.create("opacity",z),K.style.transition=r.transitions.create("opacity",z),h&&h(K,q)}),L=I(p),A=I(b),$=I(K=>{const q=Ru({style:v,timeout:S,easing:c},{mode:"exit"});K.style.webkitTransition=r.transitions.create("opacity",q),K.style.transition=r.transitions.create("opacity",q),m&&m(K)}),j=I(y),U=K=>{o&&o(O.current,K)};return C.jsx(E,{appear:s,in:u,nodeRef:O,onEnter:D,onEntered:L,onEntering:N,onExit:$,onExited:j,onExiting:A,addEndListener:U,timeout:S,...T,children:(K,{ownerState:q,...z})=>_.cloneElement(l,{style:{opacity:0,visibility:K==="exited"&&!u?"hidden":void 0,...SEe[K],...v,...l.props.style},ref:M,...z})})});function CEe(e){return cn("MuiBackdrop",e)}on("MuiBackdrop",["root","invisible"]);const xEe=e=>{const{classes:t,invisible:n}=e;return _t({root:["root",n&&"invisible"]},CEe,t)},_Ee=Te("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ww=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:l=!1,open:c,components:u={},componentsProps:h={},slotProps:p={},slots:g={},TransitionComponent:m,transitionDuration:y,...b}=r,v={...r,component:s,invisible:l},S=xEe(v),E={transition:m,root:u.Root,...g},T={...h,...p},O={component:s,slots:E,slotProps:T},[M,I]=wn("root",{elementType:_Ee,externalForwardedProps:O,className:Je(S.root,o),ownerState:v}),[N,D]=wn("transition",{elementType:pm,externalForwardedProps:O,ownerState:v});return C.jsx(N,{in:c,timeout:y,...b,...D,children:C.jsx(M,{"aria-hidden":!0,...I,classes:S,ref:n,children:i})})});function EEe(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=vO({badgeContent:t,max:r});let s=n;n===!1&&t===0&&!i&&(s=!0);const{badgeContent:l,max:c=r}=s?o:e,u=l&&Number(l)>c?`${c}+`:l;return{badgeContent:l,invisible:s,max:c,displayValue:u}}function TEe(e){return cn("MuiBadge",e)}const Au=on("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),IO=10,kO=4,MEe=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,l={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${Qe(n.vertical)}${Qe(n.horizontal)}`,`anchorOrigin${Qe(n.vertical)}${Qe(n.horizontal)}${Qe(i)}`,`overlap${Qe(i)}`,t!=="default"&&`color${Qe(t)}`]};return _t(l,TEe,s)},OEe=Te("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),REe=Te("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Qe(n.anchorOrigin.vertical)}${Qe(n.anchorOrigin.horizontal)}${Qe(n.overlap)}`],n.color!=="default"&&t[`color${Qe(n.color)}`],n.invisible&&t.invisible]}})(tn(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:IO*2,lineHeight:1,padding:"0 6px",height:IO*2,borderRadius:IO,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Ci(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:kO,height:kO*2,minWidth:kO*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Au.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function jz(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const gm=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:o,classes:s,component:l,components:c={},componentsProps:u={},children:h,overlap:p="rectangular",color:g="default",invisible:m=!1,max:y=99,badgeContent:b,slots:v,slotProps:S,showZero:E=!1,variant:T="standard",...O}=r,{badgeContent:M,invisible:I,max:N,displayValue:D}=EEe({max:y,invisible:m,badgeContent:b,showZero:E}),L=vO({anchorOrigin:jz(i),color:g,overlap:p,variant:T,badgeContent:b}),A=I||M==null&&T!=="dot",{color:$=g,overlap:j=p,anchorOrigin:U,variant:K=T}=A?L:r,q=jz(U),z=K!=="dot"?D:void 0,Y={...r,badgeContent:M,invisible:A,max:N,displayValue:z,showZero:E,anchorOrigin:q,color:$,overlap:j,variant:K},te=MEe(Y),ie={slots:{root:v?.root??c.Root,badge:v?.badge??c.Badge},slotProps:{root:S?.root??u.root,badge:S?.badge??u.badge}},[Q,H]=wn("root",{elementType:OEe,externalForwardedProps:{...ie,...O},ownerState:Y,className:Je(te.root,o),ref:n,additionalProps:{as:l}}),[X,he]=wn("badge",{elementType:REe,externalForwardedProps:ie,ownerState:Y,className:te.badge});return C.jsxs(Q,{...H,children:[h,C.jsx(X,{...he,children:z})]})}),IEe=on("MuiBox",["root"]),kEe=W$(),Io=c0e({themeId:Hg,defaultTheme:kEe,defaultClassName:IEe.root,generateClassName:w$.generate});function PEe(e){return cn("MuiButton",e)}const yh=on("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),DEe=_.createContext({}),AEe=_.createContext(void 0),LEe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:l,classes:c}=e,u={root:["root",s&&"loading",o,`${o}${Qe(t)}`,`size${Qe(i)}`,`${o}Size${Qe(i)}`,`color${Qe(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Qe(l)}`],startIcon:["icon","startIcon",`iconSize${Qe(i)}`],endIcon:["icon","endIcon",`iconSize${Qe(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=_t(u,PEe,c);return{...c,...h}},Vz=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],NEe=Te(Kl,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Qe(n.color)}`],t[`size${Qe(n.size)}`],t[`${n.variant}Size${Qe(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(tn(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${yh.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${yh.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${yh.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${yh.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Ci()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${yh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${yh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${yh.loading}`]:{color:"transparent"}}}]}})),BEe=Te("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Qe(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Vz]})),FEe=Te("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Qe(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Vz]})),jEe=Te("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),$z=Te("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Cs=_.forwardRef(function(t,n){const r=_.useContext(DEe),i=_.useContext(AEe),o=lh(r,t),s=mn({props:o,name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:h,disabled:p=!1,disableElevation:g=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:b,fullWidth:v=!1,id:S,loading:E=null,loadingIndicator:T,loadingPosition:O="center",size:M="medium",startIcon:I,type:N,variant:D="text",...L}=s,A=sr(S),$=T??C.jsx(If,{"aria-labelledby":A,color:"inherit",size:16}),j={...s,color:c,component:u,disabled:p,disableElevation:g,disableFocusRipple:m,fullWidth:v,loading:E,loadingIndicator:$,loadingPosition:O,size:M,type:N,variant:D},U=LEe(j),K=(I||E&&O==="start")&&C.jsx(BEe,{className:U.startIcon,ownerState:j,children:I||C.jsx($z,{className:U.loadingIconPlaceholder,ownerState:j})}),q=(y||E&&O==="end")&&C.jsx(FEe,{className:U.endIcon,ownerState:j,children:y||C.jsx($z,{className:U.loadingIconPlaceholder,ownerState:j})}),z=i||"",Y=typeof E=="boolean"?C.jsx("span",{className:U.loadingWrapper,style:{display:"contents"},children:E&&C.jsx(jEe,{className:U.loadingIndicator,ownerState:j,children:$})}):null;return C.jsxs(NEe,{ownerState:j,className:Je(r.className,U.root,h,z),component:u,disabled:p||E,focusRipple:!m,focusVisibleClassName:Je(U.focusVisible,b),ref:n,type:N,id:E?A:S,...L,classes:U,children:[K,O!=="end"&&Y,l,O==="end"&&Y,q]})});function VEe(e){return _.Children.toArray(e).filter(t=>_.isValidElement(t))}function $Ee(e){return cn("PrivateSwitchBase",e)}on("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const zEe=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Qe(i)}`],input:["input"]};return _t(o,$Ee,t)},UEe=Te(Kl,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),HEe=Te("input",{name:"MuiSwitchBase",shouldForwardProp:as})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),zz=_.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:h,id:p,inputProps:g,inputRef:m,name:y,onBlur:b,onChange:v,onFocus:S,readOnly:E,required:T=!1,tabIndex:O,type:M,value:I,slots:N={},slotProps:D={},...L}=t,[A,$]=uh({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),j=Ic(),U=ge=>{S&&S(ge),j&&j.onFocus&&j.onFocus(ge)},K=ge=>{b&&b(ge),j&&j.onBlur&&j.onBlur(ge)},q=ge=>{if(ge.nativeEvent.defaultPrevented)return;const ce=ge.target.checked;$(ce),v&&v(ge,ce)};let z=l;j&&typeof z>"u"&&(z=j.disabled);const Y=M==="checkbox"||M==="radio",te={...t,checked:A,disabled:z,disableFocusRipple:c,edge:u},ie=zEe(te),Q={slots:N,slotProps:{input:g,...D}},[H,X]=wn("root",{ref:n,elementType:UEe,className:ie.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Q,component:"span",...L},getSlotProps:ge=>({...ge,onFocus:ce=>{ge.onFocus?.(ce),U(ce)},onBlur:ce=>{ge.onBlur?.(ce),K(ce)}}),ownerState:te,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:z,role:void 0,tabIndex:null}}),[he,pe]=wn("input",{ref:m,elementType:HEe,className:ie.input,externalForwardedProps:Q,getSlotProps:ge=>({...ge,onChange:ce=>{ge.onChange?.(ce),q(ce)}}),ownerState:te,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:z,id:Y?p:void 0,name:y,readOnly:E,required:T,tabIndex:O,type:M,...M==="checkbox"&&I===void 0?{}:{value:I}}});return C.jsxs(H,{...X,children:[C.jsx(he,{...pe}),A?o:h]})}),GEe=Lt(C.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),WEe=Lt(C.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),KEe=Lt(C.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function qEe(e){return cn("MuiCheckbox",e)}const Sw=on("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),YEe=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${Qe(r)}`,`size${Qe(i)}`]},s=_t(o,qEe,t);return{...t,...s}},XEe=Te(zz,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Qe(n.size)}`],n.color!=="default"&&t[`color${Qe(n.color)}`]]}})(tn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{[`&.${Sw.checked}, &.${Sw.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${Sw.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ZEe=C.jsx(WEe,{}),QEe=C.jsx(GEe,{}),JEe=C.jsx(KEe,{}),Xl=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiCheckbox"}),{checkedIcon:i=ZEe,color:o="primary",icon:s=QEe,indeterminate:l=!1,indeterminateIcon:c=JEe,inputProps:u,size:h="medium",disableRipple:p=!1,className:g,slots:m={},slotProps:y={},...b}=r,v=l?c:s,S=l?c:i,E={...r,disableRipple:p,color:o,indeterminate:l,size:h},T=YEe(E),O=y.input??u,[M,I]=wn("root",{ref:n,elementType:XEe,className:Je(T.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:y,...b},ownerState:E,additionalProps:{type:"checkbox",icon:_.cloneElement(v,{fontSize:v.props.fontSize??h}),checkedIcon:_.cloneElement(S,{fontSize:S.props.fontSize??h}),disableRipple:p,slots:m,slotProps:{input:Y$(typeof O=="function"?O(E):O,{"data-indeterminate":l})}}});return C.jsx(M,{...I,classes:T})});function Uz(e){return e.substring(2).toLowerCase()}function e1e(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function t1e(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,s=_.useRef(!1),l=_.useRef(null),c=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const h=Zn(Pu(t),l),p=Xt(y=>{const b=u.current;u.current=!1;const v=Si(l.current);if(!c.current||!l.current||"clientX"in y&&e1e(y,v))return;if(s.current){s.current=!1;return}let S;y.composedPath?S=y.composedPath().includes(l.current):S=!v.documentElement.contains(y.target)||l.current.contains(y.target),!S&&(n||!b)&&i(y)}),g=y=>b=>{u.current=!0;const v=t.props[y];v&&v(b)},m={ref:h};return o!==!1&&(m[o]=g(o)),_.useEffect(()=>{if(o!==!1){const y=Uz(o),b=Si(l.current),v=()=>{s.current=!0};return b.addEventListener(y,p),b.addEventListener("touchmove",v),()=>{b.removeEventListener(y,p),b.removeEventListener("touchmove",v)}}},[p,o]),r!==!1&&(m[r]=g(r)),_.useEffect(()=>{if(r!==!1){const y=Uz(r),b=Si(l.current);return b.addEventListener(y,p),()=>{b.removeEventListener(y,p)}}},[p,r]),_.cloneElement(t,m)}function Hz(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function n1e(e){const t=Si(e);return t.body===e?Hs(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function mm(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Gz(e){return parseInt(Hs(e).getComputedStyle(e).paddingRight,10)||0}function r1e(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Wz(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,s=>{const l=!o.includes(s),c=!r1e(s);l&&c&&mm(s,i)})}function PO(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function i1e(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(n1e(r)){const s=Hz(Hs(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Gz(r)+s}px`;const l=Si(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Gz(c)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Si(r).body;else{const s=r.parentElement,l=Hs(r);o=s?.nodeName==="HTML"&&l.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:l})=>{o?s.style.setProperty(l,o):s.style.removeProperty(l)})}}function o1e(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class s1e{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&mm(t.modalRef,!1);const i=o1e(n);Wz(n,t.mount,t.modalRef,i,!0);const o=PO(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=PO(this.containers,o=>o.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=i1e(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=PO(this.containers,s=>s.modals.includes(t)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&mm(t.modalRef,n),Wz(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&mm(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const a1e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function l1e(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function c1e(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function u1e(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||c1e(e))}function d1e(e){const t=[],n=[];return Array.from(e.querySelectorAll(a1e)).forEach((r,i)=>{const o=l1e(r);o===-1||!u1e(r)||(o===0?t.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function h1e(){return!0}function Kz(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=d1e,isEnabled:s=h1e,open:l}=e,c=_.useRef(!1),u=_.useRef(null),h=_.useRef(null),p=_.useRef(null),g=_.useRef(null),m=_.useRef(!1),y=_.useRef(null),b=Zn(Pu(t),y),v=_.useRef(null);_.useEffect(()=>{!l||!y.current||(m.current=!n)},[n,l]),_.useEffect(()=>{if(!l||!y.current)return;const T=Si(y.current);return y.current.contains(T.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{i||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),_.useEffect(()=>{if(!l||!y.current)return;const T=Si(y.current),O=N=>{v.current=N,!(r||!s()||N.key!=="Tab")&&T.activeElement===y.current&&N.shiftKey&&(c.current=!0,h.current&&h.current.focus())},M=()=>{const N=y.current;if(N===null)return;if(!T.hasFocus()||!s()||c.current){c.current=!1;return}if(N.contains(T.activeElement)||r&&T.activeElement!==u.current&&T.activeElement!==h.current)return;if(T.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!m.current)return;let D=[];if((T.activeElement===u.current||T.activeElement===h.current)&&(D=o(y.current)),D.length>0){const L=!!(v.current?.shiftKey&&v.current?.key==="Tab"),A=D[0],$=D[D.length-1];typeof A!="string"&&typeof $!="string"&&(L?$.focus():A.focus())}else N.focus()};T.addEventListener("focusin",M),T.addEventListener("keydown",O,!0);const I=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(I),T.removeEventListener("focusin",M),T.removeEventListener("keydown",O,!0)}},[n,r,i,s,l,o]);const S=T=>{p.current===null&&(p.current=T.relatedTarget),m.current=!0,g.current=T.target;const O=t.props.onFocus;O&&O(T)},E=T=>{p.current===null&&(p.current=T.relatedTarget),m.current=!0};return C.jsxs(_.Fragment,{children:[C.jsx("div",{tabIndex:l?0:-1,onFocus:E,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(t,{ref:b,onFocus:S}),C.jsx("div",{tabIndex:l?0:-1,onFocus:E,ref:h,"data-testid":"sentinelEnd"})]})}function f1e(e){return typeof e=="function"?e():e}function p1e(e){return e?e.props.hasOwnProperty("in"):!1}const qz=()=>{},Cw=new s1e;function g1e(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:l,onClose:c,open:u,rootRef:h}=e,p=_.useRef({}),g=_.useRef(null),m=_.useRef(null),y=Zn(m,h),[b,v]=_.useState(!u),S=p1e(l);let E=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(E=!1);const T=()=>Si(g.current),O=()=>(p.current.modalRef=m.current,p.current.mount=g.current,p.current),M=()=>{Cw.mount(O(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},I=Xt(()=>{const q=f1e(t)||T().body;Cw.add(O(),q),m.current&&M()}),N=()=>Cw.isTopModal(O()),D=Xt(q=>{g.current=q,q&&(u&&N()?M():m.current&&mm(m.current,E))}),L=_.useCallback(()=>{Cw.remove(O(),E)},[E]);_.useEffect(()=>()=>{L()},[L]),_.useEffect(()=>{u?I():(!S||!i)&&L()},[u,L,S,i,I]);const A=q=>z=>{q.onKeyDown?.(z),!(z.key!=="Escape"||z.which===229||!N())&&(n||(z.stopPropagation(),c&&c(z,"escapeKeyDown")))},$=q=>z=>{q.onClick?.(z),z.target===z.currentTarget&&c&&c(z,"backdropClick")};return{getRootProps:(q={})=>{const z=Ws(e);delete z.onTransitionEnter,delete z.onTransitionExited;const Y={...z,...q};return{role:"presentation",...Y,onKeyDown:A(Y),ref:y}},getBackdropProps:(q={})=>{const z=q;return{"aria-hidden":!0,...z,onClick:$(z),open:u}},getTransitionProps:()=>{const q=()=>{v(!1),o&&o()},z=()=>{v(!0),s&&s(),i&&L()};return{onEnter:q$(q,l?.props.onEnter??qz),onExited:q$(z,l?.props.onExited??qz)}},rootRef:y,portalRef:D,isTopModal:N,exited:b,hasTransition:S}}function m1e(e){return cn("MuiModal",e)}on("MuiModal",["root","hidden","backdrop"]);const v1e=e=>{const{open:t,exited:n,classes:r}=e;return _t({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},m1e,r)},y1e=Te("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(tn(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),b1e=Te(ww,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),xw=_.forwardRef(function(t,n){const r=mn({name:"MuiModal",props:t}),{BackdropComponent:i=b1e,BackdropProps:o,classes:s,className:l,closeAfterTransition:c=!1,children:u,container:h,component:p,components:g={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:v=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:O=!1,keepMounted:M=!1,onClose:I,onTransitionEnter:N,onTransitionExited:D,open:L,slotProps:A={},slots:$={},theme:j,...U}=r,K={...r,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:v,disablePortal:S,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:O,keepMounted:M},{getRootProps:q,getBackdropProps:z,getTransitionProps:Y,portalRef:te,isTopModal:ie,exited:Q,hasTransition:H}=g1e({...K,rootRef:n}),X={...K,exited:Q},he=v1e(X),pe={};if(u.props.tabIndex===void 0&&(pe.tabIndex="-1"),H){const{onEnter:me,onExited:ye}=Y();pe.onEnter=me,pe.onExited=ye}const ge={slots:{root:g.Root,backdrop:g.Backdrop,...$},slotProps:{...m,...A}},[ce,be]=wn("root",{ref:n,elementType:y1e,externalForwardedProps:{...ge,...U,component:p},getSlotProps:q,ownerState:X,className:Je(l,he?.root,!X.open&&X.exited&&he?.hidden)}),[Ne,_e]=wn("backdrop",{ref:o?.ref,elementType:i,externalForwardedProps:ge,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:me=>z({...me,onClick:ye=>{me?.onClick&&me.onClick(ye)}}),className:Je(o?.className,he?.backdrop),ownerState:X});return!M&&!L&&(!H||Q)?null:C.jsx(Oz,{ref:te,container:h,disablePortal:S,children:C.jsxs(ce,{...be,children:[!O&&i?C.jsx(Ne,{..._e}):null,C.jsx(Kz,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:E,isEnabled:ie,open:L,children:_.cloneElement(u,pe)})]})})});function w1e(e){return cn("MuiDialog",e)}const DO=on("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Yz=_.createContext({}),S1e=Te(ww,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),C1e=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${Qe(n)}`],paper:["paper",`paperScroll${Qe(n)}`,`paperWidth${Qe(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return _t(s,w1e,t)},x1e=Te(xw,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),_1e=Te("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Qe(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),E1e=Te(ph,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Qe(n.scroll)}`],t[`paperWidth${Qe(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(tn(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${DO.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${DO.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${DO.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),AO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiDialog"}),i=Wl(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":l,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:h,children:p,className:g,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:b=!1,maxWidth:v="sm",onClick:S,onClose:E,open:T,PaperComponent:O=ph,PaperProps:M={},scroll:I="paper",slots:N={},slotProps:D={},TransitionComponent:L=pm,transitionDuration:A=o,TransitionProps:$,...j}=r,U={...r,disableEscapeKeyDown:m,fullScreen:y,fullWidth:b,maxWidth:v,scroll:I},K=C1e(U),q=_.useRef(),z=Ie=>{q.current=Ie.target===Ie.currentTarget},Y=Ie=>{S&&S(Ie),q.current&&(q.current=null,E&&E(Ie,"backdropClick"))},te=sr(l),ie=_.useMemo(()=>({titleId:te}),[te]),Q={transition:L,...N},H={transition:$,paper:M,backdrop:h,...D},X={slots:Q,slotProps:H},[he,pe]=wn("root",{elementType:x1e,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:U,className:Je(K.root,g),ref:n}),[ge,ce]=wn("backdrop",{elementType:S1e,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:U}),[be,Ne]=wn("paper",{elementType:E1e,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:U,className:Je(K.paper,M.className)}),[_e,me]=wn("container",{elementType:_1e,externalForwardedProps:X,ownerState:U,className:K.container}),[ye,xe]=wn("transition",{elementType:pm,externalForwardedProps:X,ownerState:U,additionalProps:{appear:!0,in:T,timeout:A,role:"presentation"}});return C.jsx(he,{closeAfterTransition:!0,slots:{backdrop:ge},slotProps:{backdrop:{transitionDuration:A,as:u,...ce}},disableEscapeKeyDown:m,onClose:E,open:T,onClick:Y,...pe,...j,children:C.jsx(ye,{...xe,children:C.jsx(_e,{onMouseDown:z,...me,children:C.jsx(be,{as:O,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":te,"aria-modal":c,...Ne,children:C.jsx(Yz.Provider,{value:ie,children:p})})})})})});function T1e(e){return cn("MuiDialogActions",e)}on("MuiDialogActions",["root","spacing"]);const M1e=e=>{const{classes:t,disableSpacing:n}=e;return _t({root:["root",!n&&"spacing"]},T1e,t)},O1e=Te("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Xz=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,l={...r,disableSpacing:o},c=M1e(l);return C.jsx(O1e,{className:Je(c.root,i),ownerState:l,ref:n,...s})});function R1e(e){return cn("MuiDialogContent",e)}on("MuiDialogContent",["root","dividers"]);function I1e(e){return cn("MuiDialogTitle",e)}const k1e=on("MuiDialogTitle",["root"]),P1e=e=>{const{classes:t,dividers:n}=e;return _t({root:["root",n&&"dividers"]},R1e,t)},D1e=Te("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(tn(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${k1e.root} + &`]:{paddingTop:0}}}]}))),Zz=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,l={...r,dividers:o},c=P1e(l);return C.jsx(D1e,{className:Je(c.root,i),ownerState:l,ref:n,...s})}),A1e=e=>{const{classes:t}=e;return _t({root:["root"]},I1e,t)},L1e=Te(Wi,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),N1e=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,l=r,c=A1e(l),{titleId:u=o}=_.useContext(Yz);return C.jsx(L1e,{component:"h2",className:Je(c.root,i),ownerState:l,ref:n,variant:"h6",id:o??u,...s})});function B1e(e){return cn("MuiDivider",e)}const Qz=on("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),F1e=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:l,variant:c}=e;return _t({root:["root",t&&"absolute",c,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",l==="right"&&s!=="vertical"&&"textAlignRight",l==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},B1e,r)},j1e=Te("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(tn(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),V1e=Te("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(tn(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),vm=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:l="horizontal",component:c=o||l==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:p=c!=="hr"?"separator":void 0,textAlign:g="center",variant:m="fullWidth",...y}=r,b={...r,absolute:i,component:c,flexItem:u,light:h,orientation:l,role:p,textAlign:g,variant:m},v=F1e(b);return C.jsx(j1e,{as:c,className:Je(v.root,s),role:p,ref:n,ownerState:b,"aria-orientation":p==="separator"&&(c!=="hr"||l==="vertical")?l:void 0,...y,children:o?C.jsx(V1e,{className:v.wrapper,ownerState:b,children:o}):null})});vm&&(vm.muiSkipListHighlight=!0);function $1e(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=Hs(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const u=o.getComputedStyle(t);s=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let l=0,c=0;if(s&&s!=="none"&&typeof s=="string"){const u=s.split("(")[1].split(")")[0].split(",");l=parseInt(u[4],10),c=parseInt(u[5],10)}return e==="left"?i?`translateX(${i.right+l-r.left}px)`:`translateX(${o.innerWidth+l-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:e==="up"?i?`translateY(${i.bottom+c-r.top}px)`:`translateY(${o.innerHeight+c-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-c}px)`:`translateY(-${r.top+r.height-c}px)`}function z1e(e){return typeof e=="function"?e():e}function _w(e,t,n){const r=z1e(n),i=$1e(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const U1e=_.forwardRef(function(t,n){const r=Wl(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:c,container:u,direction:h="down",easing:p=i,in:g,onEnter:m,onEntered:y,onEntering:b,onExit:v,onExited:S,onExiting:E,style:T,timeout:O=o,TransitionComponent:M=Ca,...I}=t,N=_.useRef(null),D=Zn(Pu(c),N,n),L=te=>ie=>{te&&(ie===void 0?te(N.current):te(N.current,ie))},A=L((te,ie)=>{_w(h,te,u),dO(te),m&&m(te,ie)}),$=L((te,ie)=>{const Q=Ru({timeout:O,style:T,easing:p},{mode:"enter"});te.style.webkitTransition=r.transitions.create("-webkit-transform",{...Q}),te.style.transition=r.transitions.create("transform",{...Q}),te.style.webkitTransform="none",te.style.transform="none",b&&b(te,ie)}),j=L(y),U=L(E),K=L(te=>{const ie=Ru({timeout:O,style:T,easing:p},{mode:"exit"});te.style.webkitTransition=r.transitions.create("-webkit-transform",ie),te.style.transition=r.transitions.create("transform",ie),_w(h,te,u),v&&v(te)}),q=L(te=>{te.style.webkitTransition="",te.style.transition="",S&&S(te)}),z=te=>{s&&s(N.current,te)},Y=_.useCallback(()=>{N.current&&_w(h,N.current,u)},[h,u]);return _.useEffect(()=>{if(g||h==="down"||h==="right")return;const te=Ou(()=>{N.current&&_w(h,N.current,u)}),ie=Hs(N.current);return ie.addEventListener("resize",te),()=>{te.clear(),ie.removeEventListener("resize",te)}},[h,g,u]),_.useEffect(()=>{g||Y()},[g,Y]),C.jsx(M,{nodeRef:N,onEnter:A,onEntered:j,onEntering:$,onExit:K,onExited:q,onExiting:U,addEndListener:z,appear:l,in:g,timeout:O,...I,children:(te,{ownerState:ie,...Q})=>_.cloneElement(c,{ref:D,style:{visibility:te==="exited"&&!g?"hidden":void 0,...T,...c.props.style},...Q})})}),H1e=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:l}=e,c={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Qe(o)}`,s&&"hiddenLabel",l&&"multiline"],input:["input"]},u=_t(c,aEe,t);return{...t,...u}},G1e=Te(yw,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...mw(e,t),!n.disableUnderline&&t.underline]}})(tn(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${qs.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${qs.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qs.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qs.disabled}, .${qs.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${qs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Ci()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:l})=>s.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),W1e=Te(bw,{name:"MuiFilledInput",slot:"Input",overridesResolver:vw})(tn(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),LO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:l=!1,hiddenLabel:c,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:g={},type:m="text",...y}=r,b={...r,disableUnderline:i,fullWidth:l,inputComponent:u,multiline:h,type:m},v=H1e(r),S={root:{ownerState:b},input:{ownerState:b}},E=p??s?Mo(S,p??s):S,T=g.root??o.Root??G1e,O=g.input??o.Input??W1e;return C.jsx(fm,{slots:{root:T,input:O},slotProps:E,fullWidth:l,inputComponent:u,multiline:h,ref:n,type:m,...y,classes:v})});LO.muiName="Input";function K1e(e){return cn("MuiFormControl",e)}on("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const q1e=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${Qe(n)}`,r&&"fullWidth"]};return _t(i,K1e,t)},Y1e=Te("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Qe(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Ew=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:l="div",disabled:c=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:g=!1,margin:m="none",required:y=!1,size:b="medium",variant:v="outlined",...S}=r,E={...r,color:s,component:l,disabled:c,error:u,fullWidth:p,hiddenLabel:g,margin:m,required:y,size:b,variant:v},T=q1e(E),[O,M]=_.useState(()=>{let q=!1;return i&&_.Children.forEach(i,z=>{if(!tw(z,["Input","Select"]))return;const Y=tw(z,["Select"])?z.props.input:z;Y&&nEe(Y.props)&&(q=!0)}),q}),[I,N]=_.useState(()=>{let q=!1;return i&&_.Children.forEach(i,z=>{tw(z,["Input","Select"])&&(gw(z.props,!0)||gw(z.props.inputProps,!0))&&(q=!0)}),q}),[D,L]=_.useState(!1);c&&D&&L(!1);const A=h!==void 0&&!c?h:D;let $;_.useRef(!1);const j=_.useCallback(()=>{N(!0)},[]),U=_.useCallback(()=>{N(!1)},[]),K=_.useMemo(()=>({adornedStart:O,setAdornedStart:M,color:s,disabled:c,error:u,filled:I,focused:A,fullWidth:p,hiddenLabel:g,size:b,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:U,onFilled:j,registerEffect:$,required:y,variant:v}),[O,s,c,u,I,A,p,g,$,U,j,y,b,v]);return C.jsx(pw.Provider,{value:K,children:C.jsx(Y1e,{as:l,ownerState:E,className:Je(T.root,o),ref:n,...S,children:i})})});function X1e(e){return cn("MuiFormControlLabel",e)}const Lf=on("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Z1e=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${Qe(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return _t(s,X1e,t)},Q1e=Te("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Lf.label}`]:t.label},t.root,t[`labelPlacement${Qe(n.labelPlacement)}`]]}})(tn(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Lf.disabled}`]:{cursor:"default"},[`& .${Lf.label}`]:{[`&.${Lf.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),J1e=Te("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(tn(({theme:e})=>({[`&.${Lf.error}`]:{color:(e.vars||e).palette.error.main}}))),kc=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:l,disabled:c,disableTypography:u,inputRef:h,label:p,labelPlacement:g="end",name:m,onChange:y,required:b,slots:v={},slotProps:S={},value:E,...T}=r,O=Ic(),M=c??l.props.disabled??O?.disabled,I=b??l.props.required,N={disabled:M,required:I};["checked","name","onChange","value","inputRef"].forEach(q=>{typeof l.props[q]>"u"&&typeof r[q]<"u"&&(N[q]=r[q])});const D=vh({props:r,muiFormControl:O,states:["error"]}),L={...r,disabled:M,labelPlacement:g,required:I,error:D.error},A=Z1e(L),$={slots:v,slotProps:{...s,...S}},[j,U]=wn("typography",{elementType:Wi,externalForwardedProps:$,ownerState:L});let K=p;return K!=null&&K.type!==Wi&&!u&&(K=C.jsx(j,{component:"span",...U,className:Je(A.label,U?.className),children:K})),C.jsxs(Q1e,{className:Je(A.root,o),ownerState:L,ref:n,...T,children:[_.cloneElement(l,N),I?C.jsxs("div",{children:[K,C.jsxs(J1e,{ownerState:L,"aria-hidden":!0,className:A.asterisk,children:[" ","*"]})]}):K]})});function eTe(e){return cn("MuiFormHelperText",e)}const Jz=on("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var eU;const tTe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:l,required:c}=e,u={root:["root",i&&"disabled",o&&"error",r&&`size${Qe(r)}`,n&&"contained",l&&"focused",s&&"filled",c&&"required"]};return _t(u,eTe,t)},nTe=Te("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Qe(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(tn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Jz.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Jz.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),rTe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:l,error:c,filled:u,focused:h,margin:p,required:g,variant:m,...y}=r,b=Ic(),v=vh({props:r,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),S={...r,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete S.ownerState;const E=tTe(S);return C.jsx(nTe,{as:s,className:Je(E.root,o),ref:n,...y,ownerState:S,children:i===" "?eU||(eU=C.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function iTe(e){return cn("MuiFormLabel",e)}const ym=on("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),oTe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:l}=e,c={root:["root",`color${Qe(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return _t(c,iTe,t)},sTe=Te("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(tn(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{[`&.${ym.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${ym.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${ym.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),aTe=Te("span",{name:"MuiFormLabel",slot:"Asterisk"})(tn(({theme:e})=>({[`&.${ym.error}`]:{color:(e.vars||e).palette.error.main}}))),lTe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:l="label",disabled:c,error:u,filled:h,focused:p,required:g,...m}=r,y=Ic(),b=vh({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:b.color||"primary",component:l,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required},S=oTe(v);return C.jsxs(sTe,{as:l,ownerState:v,className:Je(S.root,o),ref:n,...m,children:[i,b.required&&C.jsxs(aTe,{ownerState:v,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]})});function NO(e){return`scale(${e}, ${e**2})`}const cTe={entering:{opacity:1,transform:NO(1)},entered:{opacity:1,transform:"none"}},BO=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),bm=_.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:l,onEnter:c,onEntered:u,onEntering:h,onExit:p,onExited:g,onExiting:m,style:y,timeout:b="auto",TransitionComponent:v=Ca,...S}=t,E=bs(),T=_.useRef(),O=Wl(),M=_.useRef(null),I=Zn(M,Pu(o),n),N=q=>z=>{if(q){const Y=M.current;z===void 0?q(Y):q(Y,z)}},D=N(h),L=N((q,z)=>{dO(q);const{duration:Y,delay:te,easing:ie}=Ru({style:y,timeout:b,easing:s},{mode:"enter"});let Q;b==="auto"?(Q=O.transitions.getAutoHeightDuration(q.clientHeight),T.current=Q):Q=Y,q.style.transition=[O.transitions.create("opacity",{duration:Q,delay:te}),O.transitions.create("transform",{duration:BO?Q:Q*.666,delay:te,easing:ie})].join(","),c&&c(q,z)}),A=N(u),$=N(m),j=N(q=>{const{duration:z,delay:Y,easing:te}=Ru({style:y,timeout:b,easing:s},{mode:"exit"});let ie;b==="auto"?(ie=O.transitions.getAutoHeightDuration(q.clientHeight),T.current=ie):ie=z,q.style.transition=[O.transitions.create("opacity",{duration:ie,delay:Y}),O.transitions.create("transform",{duration:BO?ie:ie*.666,delay:BO?Y:Y||ie*.333,easing:te})].join(","),q.style.opacity=0,q.style.transform=NO(.75),p&&p(q)}),U=N(g),K=q=>{b==="auto"&&E.start(T.current||0,q),r&&r(M.current,q)};return C.jsx(v,{appear:i,in:l,nodeRef:M,onEnter:L,onEntered:A,onEntering:D,onExit:j,onExited:U,onExiting:$,addEndListener:K,timeout:b==="auto"?null:b,...S,children:(q,{ownerState:z,...Y})=>_.cloneElement(o,{style:{opacity:0,transform:NO(.75),visibility:q==="exited"&&!l?"hidden":void 0,...cTe[q],...y,...o.props.style},ref:I,...Y})})});bm&&(bm.muiSupportAuto=!0);const uTe=e=>{const{classes:t,disableUnderline:n}=e,i=_t({root:["root",!n&&"underline"],input:["input"]},oEe,t);return{...t,...i}},dTe=Te(yw,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...mw(e,t),!n.disableUnderline&&t.underline]}})(tn(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Du.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Du.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Du.disabled}, .${Du.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Du.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(Ci()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),hTe=Te(bw,{name:"MuiInput",slot:"Input",overridesResolver:vw})({}),FO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:l=!1,inputComponent:c="input",multiline:u=!1,slotProps:h,slots:p={},type:g="text",...m}=r,y=uTe(r),v={root:{ownerState:{disableUnderline:i}}},S=h??s?Mo(h??s,v):v,E=p.root??o.Root??dTe,T=p.input??o.Input??hTe;return C.jsx(fm,{slots:{root:E,input:T},slotProps:S,fullWidth:l,inputComponent:c,multiline:u,ref:n,type:g,...m,classes:y})});FO.muiName="Input";function fTe(e){return cn("MuiInputAdornment",e)}const jO=on("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var tU;const pTe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Qe(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},gTe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,l={root:["root",n&&"disablePointerEvents",i&&`position${Qe(i)}`,s,r&&"hiddenLabel",o&&`size${Qe(o)}`]};return _t(l,fTe,t)},mTe=Te("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:pTe})(tn(({theme:e})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${jO.positionStart}&:not(.${jO.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),vTe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:u,variant:h,...p}=r,g=Ic()||{};let m=h;h&&g.variant,g&&!m&&(m=g.variant);const y={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:l,position:u,variant:m},b=gTe(y);return C.jsx(pw.Provider,{value:null,children:C.jsx(mTe,{as:s,ownerState:y,className:Je(b.root,o),ref:n,...p,children:typeof i=="string"&&!c?C.jsx(Wi,{color:"textSecondary",children:i}):C.jsxs(_.Fragment,{children:[u==="start"?tU||(tU=C.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})});function yTe(e){return cn("MuiInputLabel",e)}on("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const bTe=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:l}=e,c={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${Qe(r)}`,s],asterisk:[l&&"asterisk"]},u=_t(c,yTe,t);return{...t,...u}},wTe=Te(lTe,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ym.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(tn(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),nU=_.forwardRef(function(t,n){const r=mn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:o,shrink:s,variant:l,className:c,...u}=r,h=Ic();let p=s;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const g=vh({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),m={...r,disableAnimation:i,formControl:h,shrink:p,size:g.size,variant:g.variant,required:g.required,focused:g.focused},y=bTe(m);return C.jsx(wTe,{"data-shrink":p,ref:n,className:Je(y.root,c),...u,ownerState:m,classes:y})});function STe(e){return cn("MuiLinearProgress",e)}on("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const VO=4,$O=ya`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,CTe=typeof $O!="string"?Eu`
        animation: ${$O} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,zO=ya`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,xTe=typeof zO!="string"?Eu`
        animation: ${zO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,UO=ya`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,_Te=typeof UO!="string"?Eu`
        animation: ${UO} 3s infinite linear;
      `:null,ETe=e=>{const{classes:t,variant:n,color:r}=e,i={root:["root",`color${Qe(r)}`,n],dashed:["dashed",`dashedColor${Qe(r)}`],bar1:["bar","bar1",`barColor${Qe(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Qe(r)}`,n==="buffer"&&`color${Qe(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return _t(i,STe,t)},HO=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),TTe=Te("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Qe(n.color)}`],t[n.variant]]}})(tn(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{backgroundColor:HO(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),MTe=Te("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Qe(n.color)}`]]}})(tn(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(Ci()).map(([t])=>{const n=HO(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),_Te||{animation:`${UO} 3s infinite linear`}),OTe=Te("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${Qe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(tn(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${VO}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${VO}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:CTe||{animation:`${$O} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),RTe=Te("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${Qe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(tn(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:HO(e,t),transition:`transform .${VO}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:xTe||{animation:`${zO} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),ITe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:l,variant:c="indeterminate",...u}=r,h={...r,color:o,variant:c},p=ETe(h),g=Oo(),m={},y={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){m["aria-valuenow"]=Math.round(s),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let b=s-100;g&&(b=-b),y.bar1.transform=`translateX(${b}%)`}if(c==="buffer"&&l!==void 0){let b=(l||0)-100;g&&(b=-b),y.bar2.transform=`translateX(${b}%)`}return C.jsxs(TTe,{className:Je(p.root,i),ownerState:h,role:"progressbar",...m,ref:n,...u,children:[c==="buffer"?C.jsx(MTe,{className:p.dashed,ownerState:h}):null,C.jsx(OTe,{className:p.bar1,ownerState:h,style:y.bar1}),c==="determinate"?null:C.jsx(RTe,{className:p.bar2,ownerState:h,style:y.bar2})]})}),ul=_.createContext({});function kTe(e){return cn("MuiList",e)}on("MuiList",["root","padding","dense","subheader"]);const PTe=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return _t({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},kTe,t)},DTe=Te("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),rU=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:l=!1,disablePadding:c=!1,subheader:u,...h}=r,p=_.useMemo(()=>({dense:l}),[l]),g={...r,component:s,dense:l,disablePadding:c},m=PTe(g);return C.jsx(ul.Provider,{value:p,children:C.jsxs(DTe,{as:s,className:Je(m.root,o),ref:n,ownerState:g,...h,children:[u,i]})})});function ATe(e){return cn("MuiListItem",e)}on("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function LTe(e){return cn("MuiListItemButton",e)}const Nf=on("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),NTe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},BTe=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:l}=e,u=_t({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},LTe,n);return{...n,...u}},FTe=Te(Kl,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:NTe})(tn(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Nf.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Nf.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${Nf.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${Nf.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Nf.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),jTe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:l,dense:c=!1,disableGutters:u=!1,divider:h=!1,focusVisibleClassName:p,selected:g=!1,className:m,...y}=r,b=_.useContext(ul),v=_.useMemo(()=>({dense:c||b.dense||!1,alignItems:i,disableGutters:u}),[i,b.dense,c,u]),S=_.useRef(null);pr(()=>{o&&S.current&&S.current.focus()},[o]);const E={...r,alignItems:i,dense:v.dense,disableGutters:u,divider:h,selected:g},T=BTe(E),O=Zn(S,n);return C.jsx(ul.Provider,{value:v,children:C.jsx(FTe,{ref:O,href:y.href||y.to,component:(y.href||y.to)&&s==="div"?"button":s,focusVisibleClassName:Je(T.focusVisible,p),ownerState:E,className:Je(T.root,m),...y,classes:T,children:l})})});function VTe(e){return cn("MuiListItemSecondaryAction",e)}on("MuiListItemSecondaryAction",["root","disableGutters"]);const $Te=e=>{const{disableGutters:t,classes:n}=e;return _t({root:["root",t&&"disableGutters"]},VTe,n)},zTe=Te("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),iU=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=_.useContext(ul),l={...r,disableGutters:s.disableGutters},c=$Te(l);return C.jsx(zTe,{className:Je(c.root,i),ownerState:l,ref:n,...o})});iU.muiName="ListItemSecondaryAction";const UTe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]},HTe=e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:l}=e;return _t({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",t==="flex-start"&&"alignItemsFlexStart",l&&"secondaryAction"],container:["container"]},ATe,n)},GTe=Te("div",{name:"MuiListItem",slot:"Root",overridesResolver:UTe})(tn(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Nf.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),WTe=Te("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),KTe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:l,components:c={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:p,...g}={},dense:m=!1,disableGutters:y=!1,disablePadding:b=!1,divider:v=!1,secondaryAction:S,slotProps:E={},slots:T={},...O}=r,M=_.useContext(ul),I=_.useMemo(()=>({dense:m||M.dense||!1,alignItems:i,disableGutters:y}),[i,M.dense,m,y]),N=_.useRef(null),D=_.Children.toArray(o),L=D.length&&tw(D[D.length-1],["ListItemSecondaryAction"]),A={...r,alignItems:i,dense:I.dense,disableGutters:y,disablePadding:b,divider:v,hasSecondaryAction:L},$=HTe(A),j=Zn(N,n),U=T.root||c.Root||GTe,K=E.root||u.root||{},q={className:Je($.root,K.className,s),...O};let z=l||"li";return L?(z=!q.component&&!l?"div":z,h==="li"&&(z==="li"?z="div":q.component==="li"&&(q.component="div")),C.jsx(ul.Provider,{value:I,children:C.jsxs(WTe,{as:h,className:Je($.container,p),ref:j,ownerState:A,...g,children:[C.jsx(U,{...K,...!Rf(U)&&{as:z,ownerState:{...A,...K.ownerState}},...q,children:D}),D.pop()]})})):C.jsx(ul.Provider,{value:I,children:C.jsxs(U,{...K,as:z,ref:j,...!Rf(U)&&{ownerState:{...A,...K.ownerState}},...q,children:[D,S&&C.jsx(iU,{children:S})]})})});function qTe(e){return cn("MuiListItemIcon",e)}const oU=on("MuiListItemIcon",["root","alignItemsFlexStart"]),YTe=e=>{const{alignItems:t,classes:n}=e;return _t({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},qTe,n)},XTe=Te("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(tn(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Tw=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiListItemIcon"}),{className:i,...o}=r,s=_.useContext(ul),l={...r,alignItems:s.alignItems},c=YTe(l);return C.jsx(XTe,{className:Je(c.root,i),ownerState:l,ref:n,...o})});function ZTe(e){return cn("MuiListItemText",e)}const bh=on("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),QTe=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return _t({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},ZTe,t)},JTe=Te("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${bh.primary}`]:t.primary},{[`& .${bh.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${rz.root}:where(& .${bh.primary})`]:{display:"block"},[`.${rz.root}:where(& .${bh.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),sU=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:l=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:g={},slotProps:m={},...y}=r,{dense:b}=_.useContext(ul);let v=c??i,S=h;const E={...r,disableTypography:s,inset:l,primary:!!v,secondary:!!S,dense:b},T=QTe(E),O={slots:g,slotProps:{primary:u,secondary:p,...m}},[M,I]=wn("root",{className:Je(T.root,o),elementType:JTe,externalForwardedProps:{...O,...y},ownerState:E,ref:n}),[N,D]=wn("primary",{className:T.primary,elementType:Wi,externalForwardedProps:O,ownerState:E}),[L,A]=wn("secondary",{className:T.secondary,elementType:Wi,externalForwardedProps:O,ownerState:E});return v!=null&&v.type!==Wi&&!s&&(v=C.jsx(N,{variant:b?"body2":"body1",component:D?.variant?void 0:"span",...D,children:v})),S!=null&&S.type!==Wi&&!s&&(S=C.jsx(L,{variant:"body2",color:"textSecondary",...A,children:S})),C.jsxs(M,{...I,children:[v,S]})});function GO(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function aU(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function lU(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function wm(e,t,n,r,i,o){let s=!1,l=i(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(s)return!1;s=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!lU(l,o)||c)l=i(e,l,n);else return l.focus(),!0}return!1}const cU=_.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:l,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu",...g}=t,m=_.useRef(null),y=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});pr(()=>{i&&m.current.focus()},[i]),_.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:O})=>{const M=!m.current.style.width;if(T.clientHeight<m.current.clientHeight&&M){const I=`${Hz(Hs(T))}px`;m.current.style[O==="rtl"?"paddingLeft":"paddingRight"]=I,m.current.style.width=`calc(100% + ${I})`}return m.current}}),[]);const b=T=>{const O=m.current,M=T.key;if(T.ctrlKey||T.metaKey||T.altKey){h&&h(T);return}const N=Si(O).activeElement;if(M==="ArrowDown")T.preventDefault(),wm(O,N,u,c,GO);else if(M==="ArrowUp")T.preventDefault(),wm(O,N,u,c,aU);else if(M==="Home")T.preventDefault(),wm(O,null,u,c,GO);else if(M==="End")T.preventDefault(),wm(O,null,u,c,aU);else if(M.length===1){const D=y.current,L=M.toLowerCase(),A=performance.now();D.keys.length>0&&(A-D.lastTime>500?(D.keys=[],D.repeating=!0,D.previousKeyMatched=!0):D.repeating&&L!==D.keys[0]&&(D.repeating=!1)),D.lastTime=A,D.keys.push(L);const $=N&&!D.repeating&&lU(N,D);D.previousKeyMatched&&($||wm(O,N,!1,c,GO,D))?T.preventDefault():D.previousKeyMatched=!1}h&&h(T)},v=Zn(m,n);let S=-1;_.Children.forEach(s,(T,O)=>{if(!_.isValidElement(T)){S===O&&(S+=1,S>=s.length&&(S=-1));return}T.props.disabled||(p==="selectedMenu"&&T.props.selected||S===-1)&&(S=O),S===O&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(S+=1,S>=s.length&&(S=-1))});const E=_.Children.map(s,(T,O)=>{if(O===S){const M={};return o&&(M.autoFocus=!0),T.props.tabIndex===void 0&&p==="selectedMenu"&&(M.tabIndex=0),_.cloneElement(T,M)}return T});return C.jsx(rU,{role:"menu",ref:v,className:l,onKeyDown:b,tabIndex:i?0:-1,...g,children:E})});function eMe(e){return cn("MuiPopover",e)}on("MuiPopover",["root","paper"]);function uU(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function dU(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function hU(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Mw(e){return typeof e=="function"?e():e}const tMe=e=>{const{classes:t}=e;return _t({root:["root"],paper:["paper"]},eMe,t)},nMe=Te(xw,{name:"MuiPopover",slot:"Root"})({}),fU=Te(ph,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),rMe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:u,className:h,container:p,elevation:g=8,marginThreshold:m=16,open:y,PaperProps:b={},slots:v={},slotProps:S={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:O="auto",TransitionProps:M={},disableScrollLock:I=!1,...N}=r,D=_.useRef(),L={...r,anchorOrigin:s,anchorReference:c,elevation:g,marginThreshold:m,transformOrigin:E,TransitionComponent:T,transitionDuration:O,TransitionProps:M},A=tMe(L),$=_.useCallback(()=>{if(c==="anchorPosition")return l;const me=Mw(o),xe=(me&&me.nodeType===1?me:Si(D.current).body).getBoundingClientRect();return{top:xe.top+uU(xe,s.vertical),left:xe.left+dU(xe,s.horizontal)}},[o,s.horizontal,s.vertical,l,c]),j=_.useCallback(me=>({vertical:uU(me,E.vertical),horizontal:dU(me,E.horizontal)}),[E.horizontal,E.vertical]),U=_.useCallback(me=>{const ye={width:me.offsetWidth,height:me.offsetHeight},xe=j(ye);if(c==="none")return{top:null,left:null,transformOrigin:hU(xe)};const Ie=$();let Pe=Ie.top-xe.vertical,Re=Ie.left-xe.horizontal;const Fe=Pe+ye.height,ft=Re+ye.width,Ue=Hs(Mw(o)),Ft=Ue.innerHeight-m,Ct=Ue.innerWidth-m;if(m!==null&&Pe<m){const Rt=Pe-m;Pe-=Rt,xe.vertical+=Rt}else if(m!==null&&Fe>Ft){const Rt=Fe-Ft;Pe-=Rt,xe.vertical+=Rt}if(m!==null&&Re<m){const Rt=Re-m;Re-=Rt,xe.horizontal+=Rt}else if(ft>Ct){const Rt=ft-Ct;Re-=Rt,xe.horizontal+=Rt}return{top:`${Math.round(Pe)}px`,left:`${Math.round(Re)}px`,transformOrigin:hU(xe)}},[o,c,$,j,m]),[K,q]=_.useState(y),z=_.useCallback(()=>{const me=D.current;if(!me)return;const ye=U(me);ye.top!==null&&me.style.setProperty("top",ye.top),ye.left!==null&&(me.style.left=ye.left),me.style.transformOrigin=ye.transformOrigin,q(!0)},[U]);_.useEffect(()=>(I&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[o,I,z]);const Y=()=>{z()},te=()=>{q(!1)};_.useEffect(()=>{y&&z()}),_.useImperativeHandle(i,()=>y?{updatePosition:()=>{z()}}:null,[y,z]),_.useEffect(()=>{if(!y)return;const me=Ou(()=>{z()}),ye=Hs(Mw(o));return ye.addEventListener("resize",me),()=>{me.clear(),ye.removeEventListener("resize",me)}},[o,y,z]);let ie=O;const Q={slots:{transition:T,...v},slotProps:{transition:M,paper:b,...S}},[H,X]=wn("transition",{elementType:bm,externalForwardedProps:Q,ownerState:L,getSlotProps:me=>({...me,onEntering:(ye,xe)=>{me.onEntering?.(ye,xe),Y()},onExited:ye=>{me.onExited?.(ye),te()}}),additionalProps:{appear:!0,in:y}});O==="auto"&&!H.muiSupportAuto&&(ie=void 0);const he=p||(o?Si(Mw(o)).body:void 0),[pe,{slots:ge,slotProps:ce,...be}]=wn("root",{ref:n,elementType:nMe,externalForwardedProps:{...Q,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:Y$(typeof S.backdrop=="function"?S.backdrop(L):S.backdrop,{invisible:!0})},container:he,open:y},ownerState:L,className:Je(A.root,h)}),[Ne,_e]=wn("paper",{ref:D,className:A.paper,elementType:fU,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:K?void 0:{opacity:0}},ownerState:L});return C.jsx(pe,{...be,...!Rf(pe)&&{slots:ge,slotProps:ce,disableScrollLock:I},children:C.jsx(H,{...X,timeout:ie,children:C.jsx(Ne,{..._e,children:u})})})});function iMe(e){return cn("MuiMenu",e)}on("MuiMenu",["root","paper","list"]);const oMe={vertical:"top",horizontal:"right"},sMe={vertical:"top",horizontal:"left"},aMe=e=>{const{classes:t}=e;return _t({root:["root"],paper:["paper"],list:["list"]},iMe,t)},lMe=Te(rMe,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),cMe=Te(fU,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),uMe=Te(cU,{name:"MuiMenu",slot:"List"})({outline:0}),Ow=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:u,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:y,...b}={},variant:v="selectedMenu",slots:S={},slotProps:E={},...T}=r,O=Oo(),M={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:c,onEntering:y,PaperProps:p,transitionDuration:m,TransitionProps:b,variant:v},I=aMe(M),N=i&&!l&&h,D=_.useRef(null),L=(ie,Q)=>{D.current&&D.current.adjustStyleForScrollbar(ie,{direction:O?"rtl":"ltr"}),y&&y(ie,Q)},A=ie=>{ie.key==="Tab"&&(ie.preventDefault(),u&&u(ie,"tabKeyDown"))};let $=-1;_.Children.map(o,(ie,Q)=>{_.isValidElement(ie)&&(ie.props.disabled||(v==="selectedMenu"&&ie.props.selected||$===-1)&&($=Q))});const j={slots:S,slotProps:{list:c,transition:b,paper:p,...E}},U=Ro({elementType:S.root,externalSlotProps:E.root,ownerState:M,className:[I.root,s]}),[K,q]=wn("paper",{className:I.paper,elementType:cMe,externalForwardedProps:j,shouldForwardComponentProp:!0,ownerState:M}),[z,Y]=wn("list",{className:Je(I.list,c.className),elementType:uMe,shouldForwardComponentProp:!0,externalForwardedProps:j,getSlotProps:ie=>({...ie,onKeyDown:Q=>{A(Q),ie.onKeyDown?.(Q)}}),ownerState:M}),te=typeof j.slotProps.transition=="function"?j.slotProps.transition(M):j.slotProps.transition;return C.jsx(lMe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:O?"right":"left"},transformOrigin:O?oMe:sMe,slots:{root:S.root,paper:K,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:U,paper:q,backdrop:typeof E.backdrop=="function"?E.backdrop(M):E.backdrop,transition:{...te,onEntering:(...ie)=>{L(...ie),te?.onEntering?.(...ie)}}},open:h,ref:n,transitionDuration:m,ownerState:M,...T,classes:g,children:C.jsx(z,{actions:D,autoFocus:i&&($===-1||l),autoFocusItem:N,variant:v,...Y,children:o})})});function dMe(e){return cn("MuiMenuItem",e)}const Sm=on("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),hMe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},fMe=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,c=_t({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},dMe,s);return{...s,...c}},pMe=Te(Kl,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:hMe})(tn(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Sm.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Sm.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${Sm.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${Sm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Sm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Qz.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Qz.inset}`]:{marginLeft:52},[`& .${bh.root}`]:{marginTop:0,marginBottom:0},[`& .${bh.inset}`]:{paddingLeft:36},[`& .${oU.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${oU.root} svg`]:{fontSize:"1.25rem"}}}]}))),xs=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:g,...m}=r,y=_.useContext(ul),b=_.useMemo(()=>({dense:s||y.dense||!1,disableGutters:c}),[y.dense,s,c]),v=_.useRef(null);pr(()=>{i&&v.current&&v.current.focus()},[i]);const S={...r,dense:b.dense,divider:l,disableGutters:c},E=fMe(r),T=Zn(v,n);let O;return r.disabled||(O=p!==void 0?p:-1),C.jsx(ul.Provider,{value:b,children:C.jsx(pMe,{ref:T,role:h,tabIndex:O,component:o,focusVisibleClassName:Je(E.focusVisible,u),className:Je(E.root,g),...m,ownerState:S,classes:E})})});function gMe(e){return cn("MuiNativeSelect",e)}const WO=on("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mMe=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Qe(n)}`,o&&"iconOpen",r&&"disabled"]};return _t(l,gMe,t)},pU=Te("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${WO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),vMe=Te(pU,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:as,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${WO.multiple}`]:t.multiple}]}})({}),gU=Te("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${WO.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),yMe=Te(gU,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Qe(n.variant)}`],n.open&&t.iconOpen]}})({}),bMe=_.forwardRef(function(t,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:l,variant:c="standard",...u}=t,h={...t,disabled:i,variant:c,error:o},p=mMe(h);return C.jsxs(_.Fragment,{children:[C.jsx(vMe,{ownerState:h,className:Je(p.select,r),disabled:i,ref:l||n,...u}),t.multiple?null:C.jsx(yMe,{as:s,ownerState:h,className:p.icon})]})});var mU;const wMe=Te("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:as})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),SMe=Te("legend",{name:"MuiNotchedOutlined",shouldForwardProp:as})(tn(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function CMe(e){const{children:t,classes:n,className:r,label:i,notched:o,...s}=e,l=i!=null&&i!=="",c={...e,notched:o,withLabel:l};return C.jsx(wMe,{"aria-hidden":!0,className:r,ownerState:c,...s,children:C.jsx(SMe,{ownerState:c,children:l?C.jsx("span",{children:i}):mU||(mU=C.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const xMe=e=>{const{classes:t}=e,r=_t({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},sEe,t);return{...t,...r}},_Me=Te(yw,{shouldForwardProp:e=>as(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:mw})(tn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ma.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${Ma.focused} .${Ma.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(Ci()).map(([n])=>({props:{color:n},style:{[`&.${Ma.focused} .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Ma.error} .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ma.disabled} .${Ma.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),EMe=Te(CMe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(tn(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),TMe=Te(bw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vw})(tn(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),KO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:s="input",label:l,multiline:c=!1,notched:u,slots:h={},slotProps:p={},type:g="text",...m}=r,y=xMe(r),b=Ic(),v=vh({props:r,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:b,fullWidth:o,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:g},E=h.root??i.Root??_Me,T=h.input??i.Input??TMe,[O,M]=wn("notchedOutline",{elementType:EMe,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:h,slotProps:p},additionalProps:{label:l!=null&&l!==""&&v.required?C.jsxs(_.Fragment,{children:[l," ","*"]}):l}});return C.jsx(fm,{slots:{root:E,input:T},slotProps:p,renderSuffix:I=>C.jsx(O,{...M,notched:typeof u<"u"?u:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:o,inputComponent:s,multiline:c,ref:n,type:g,...m,classes:{...y,notchedOutline:null}})});KO.muiName="Input";const MMe=Lt(C.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),OMe=Lt(C.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}));function vU(e){return cn("MuiSelect",e)}const Cm=on("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var yU;const RMe=Te(pU,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Cm.select}`]:t.select},{[`&.${Cm.select}`]:t[n.variant]},{[`&.${Cm.error}`]:t.error},{[`&.${Cm.multiple}`]:t.multiple}]}})({[`&.${Cm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),IMe=Te(gU,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Qe(n.variant)}`],n.open&&t.iconOpen]}})({}),kMe=Te("input",{shouldForwardProp:e=>K$(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function bU(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function PMe(e){return e==null||typeof e=="string"&&!e.trim()}const DMe=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Qe(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return _t(l,vU,t)},AMe=_.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:l,className:c,defaultOpen:u,defaultValue:h,disabled:p,displayEmpty:g,error:m=!1,IconComponent:y,inputRef:b,labelId:v,MenuProps:S={},multiple:E,name:T,onBlur:O,onChange:M,onClose:I,onFocus:N,onOpen:D,open:L,readOnly:A,renderValue:$,required:j,SelectDisplayProps:U={},tabIndex:K,type:q,value:z,variant:Y="standard",...te}=t,[ie,Q]=uh({controlled:z,default:h,name:"Select"}),[H,X]=uh({controlled:L,default:u,name:"Select"}),he=_.useRef(null),pe=_.useRef(null),[ge,ce]=_.useState(null),{current:be}=_.useRef(L!=null),[Ne,_e]=_.useState(),me=Zn(n,b),ye=_.useCallback(mt=>{pe.current=mt,mt&&ce(mt)},[]),xe=ge?.parentNode;_.useImperativeHandle(me,()=>({focus:()=>{pe.current.focus()},node:he.current,value:ie}),[ie]),_.useEffect(()=>{u&&H&&ge&&!be&&(_e(s?null:xe.clientWidth),pe.current.focus())},[ge,s]),_.useEffect(()=>{o&&pe.current.focus()},[o]),_.useEffect(()=>{if(!v)return;const mt=Si(pe.current).getElementById(v);if(mt){const Pt=()=>{getSelection().isCollapsed&&pe.current.focus()};return mt.addEventListener("click",Pt),()=>{mt.removeEventListener("click",Pt)}}},[v]);const Ie=(mt,Pt)=>{mt?D&&D(Pt):I&&I(Pt),be||(_e(s?null:xe.clientWidth),X(mt))},Pe=mt=>{mt.button===0&&(mt.preventDefault(),pe.current.focus(),Ie(!0,mt))},Re=mt=>{Ie(!1,mt)},Fe=_.Children.toArray(l),ft=mt=>{const Pt=Fe.find(Et=>Et.props.value===mt.target.value);Pt!==void 0&&(Q(Pt.props.value),M&&M(mt,Pt))},Ue=mt=>Pt=>{let Et;if(Pt.currentTarget.hasAttribute("tabindex")){if(E){Et=Array.isArray(ie)?ie.slice():[];const Nt=ie.indexOf(mt.props.value);Nt===-1?Et.push(mt.props.value):Et.splice(Nt,1)}else Et=mt.props.value;if(mt.props.onClick&&mt.props.onClick(Pt),ie!==Et&&(Q(Et),M)){const Nt=Pt.nativeEvent||Pt,nr=new Nt.constructor(Nt.type,Nt);Object.defineProperty(nr,"target",{writable:!0,value:{value:Et,name:T}}),M(nr,mt)}E||Ie(!1,Pt)}},Ft=mt=>{A||[" ","ArrowUp","ArrowDown","Enter"].includes(mt.key)&&(mt.preventDefault(),Ie(!0,mt))},Ct=ge!==null&&H,Rt=mt=>{!Ct&&O&&(Object.defineProperty(mt,"target",{writable:!0,value:{value:ie,name:T}}),O(mt))};delete te["aria-invalid"];let Ke,$t;const yt=[];let zt=!1;(gw({value:ie})||g)&&($?Ke=$(ie):zt=!0);const jt=Fe.map(mt=>{if(!_.isValidElement(mt))return null;let Pt;if(E){if(!Array.isArray(ie))throw new Error(Tc(2));Pt=ie.some(Et=>bU(Et,mt.props.value)),Pt&&zt&&yt.push(mt.props.children)}else Pt=bU(ie,mt.props.value),Pt&&zt&&($t=mt.props.children);return _.cloneElement(mt,{"aria-selected":Pt?"true":"false",onClick:Ue(mt),onKeyUp:Et=>{Et.key===" "&&Et.preventDefault(),mt.props.onKeyUp&&mt.props.onKeyUp(Et)},role:"option",selected:Pt,value:void 0,"data-value":mt.props.value})});zt&&(E?yt.length===0?Ke=null:Ke=yt.reduce((mt,Pt,Et)=>(mt.push(Pt),Et<yt.length-1&&mt.push(", "),mt),[]):Ke=$t);let pn=Ne;!s&&be&&ge&&(pn=xe.clientWidth);let un;typeof K<"u"?un=K:un=p?null:0;const Mt=U.id||(T?`mui-component-select-${T}`:void 0),At={...t,variant:Y,value:ie,open:Ct,error:m},Ye=DMe(At),xt={...S.PaperProps,...typeof S.slotProps?.paper=="function"?S.slotProps.paper(At):S.slotProps?.paper},St={...S.MenuListProps,...typeof S.slotProps?.list=="function"?S.slotProps.list(At):S.slotProps?.list},nt=sr();return C.jsxs(_.Fragment,{children:[C.jsx(RMe,{as:"div",ref:ye,tabIndex:un,role:"combobox","aria-controls":Ct?nt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":Ct?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,Mt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":j?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:Ft,onMouseDown:p||A?null:Pe,onBlur:Rt,onFocus:N,...U,ownerState:At,className:Je(U.className,Ye.select,c),id:Mt,children:PMe(Ke)?yU||(yU=C.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Ke}),C.jsx(kMe,{"aria-invalid":m,value:Array.isArray(ie)?ie.join(","):ie,name:T,ref:he,"aria-hidden":!0,onChange:ft,tabIndex:-1,disabled:p,className:Ye.nativeInput,autoFocus:o,required:j,...te,ownerState:At}),C.jsx(IMe,{as:y,className:Ye.icon,ownerState:At}),C.jsx(Ow,{id:`menu-${T||""}`,anchorEl:xe,open:Ct,onClose:Re,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:nt,...St},paper:{...xt,style:{minWidth:pn,...xt!=null?xt.style:null}}},children:jt})]})}),LMe=e=>{const{classes:t}=e,r=_t({root:["root"]},vU,t);return{...t,...r}},qO={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>as(e)&&e!=="variant"},NMe=Te(FO,qO)(""),BMe=Te(KO,qO)(""),FMe=Te(LO,qO)(""),Rw=_.forwardRef(function(t,n){const r=mn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:l,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:h=Az,id:p,input:g,inputProps:m,label:y,labelId:b,MenuProps:v,multiple:S=!1,native:E=!1,onClose:T,onOpen:O,open:M,renderValue:I,SelectDisplayProps:N,variant:D="outlined",...L}=r,A=E?bMe:AMe,$=Ic(),j=vh({props:r,muiFormControl:$,states:["variant","error"]}),U=j.variant||D,K={...r,variant:U,classes:s},q=LMe(K),{root:z,...Y}=q,te=g||{standard:C.jsx(NMe,{ownerState:K}),outlined:C.jsx(BMe,{label:y,ownerState:K}),filled:C.jsx(FMe,{ownerState:K})}[U],ie=Zn(n,Pu(te));return C.jsx(_.Fragment,{children:_.cloneElement(te,{inputComponent:A,inputProps:{children:o,error:j.error,IconComponent:h,variant:U,type:void 0,multiple:S,...E?{id:p}:{autoWidth:i,defaultOpen:c,displayEmpty:u,labelId:b,MenuProps:v,onClose:T,onOpen:O,open:M,renderValue:I,SelectDisplayProps:{id:p,...N}},...m,classes:m?Mo(Y,m.classes):Y,...g?g.props.inputProps:{}},...(S&&E||u)&&U==="outlined"?{notched:!0}:{},ref:ie,className:Je(te.props.className,l,q.root),...!g&&{variant:U},...L})})});Rw.muiName="Select";function jMe(e){return cn("MuiSkeleton",e)}on("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const VMe=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:s}=e;return _t({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},jMe,t)},YO=ya`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,XO=ya`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,$Me=typeof YO!="string"?Eu`
        animation: ${YO} 2s ease-in-out 0.5s infinite;
      `:null,zMe=typeof XO!="string"?Eu`
        &::after {
          animation: ${XO} 2s linear 0.5s infinite;
        }
      `:null,UMe=Te("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(tn(({theme:e})=>{const t=yCe(e.shape.borderRadius)||"px",n=bCe(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:e.alpha(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${t}/${Math.round(n/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:$Me||{animation:`${YO} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:zMe||{"&::after":{animation:`${XO} 2s linear 0.5s infinite`}}}]}})),HMe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:l,style:c,variant:u="text",width:h,...p}=r,g={...r,animation:i,component:s,variant:u,hasChildren:!!p.children},m=VMe(g);return C.jsx(UMe,{as:s,ref:n,className:Je(m.root,o),ownerState:g,...p,style:{width:h,height:l,...c}})});function GMe(e){return cn("MuiTooltip",e)}const ji=on("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function WMe(e){return Math.round(e*1e5)/1e5}const KMe=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Qe(o.split("-")[0])}`],arrow:["arrow"]};return _t(s,GMe,t)},qMe=Te(hm,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(tn(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${ji.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ji.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ji.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${ji.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${ji.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${ji.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${ji.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${ji.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),YMe=Te("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Qe(n.placement.split("-")[0])}`]]}})(tn(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${ji.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${ji.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${ji.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${ji.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${WMe(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${ji.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${ji.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${ji.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${ji.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${ji.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${ji.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${ji.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${ji.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${ji.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${ji.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),XMe=Te("span",{name:"MuiTooltip",slot:"Arrow"})(tn(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Iw=!1;const wU=new ow;let xm={x:0,y:0};function kw(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Qn=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:l={},componentsProps:c={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:g=!1,disableTouchListener:m=!1,enterDelay:y=100,enterNextDelay:b=0,enterTouchDelay:v=700,followCursor:S=!1,id:E,leaveDelay:T=0,leaveTouchDelay:O=1500,onClose:M,onOpen:I,open:N,placement:D="bottom",PopperComponent:L,PopperProps:A={},slotProps:$={},slots:j={},title:U,TransitionComponent:K,TransitionProps:q,...z}=r,Y=_.isValidElement(o)?o:C.jsx("span",{children:o}),te=Wl(),ie=Oo(),[Q,H]=_.useState(),[X,he]=_.useState(null),pe=_.useRef(!1),ge=g||S,ce=bs(),be=bs(),Ne=bs(),_e=bs(),[me,ye]=uh({controlled:N,default:!1,name:"Tooltip",state:"open"});let xe=me;const Ie=sr(E),Pe=_.useRef(),Re=Xt(()=>{Pe.current!==void 0&&(document.body.style.WebkitUserSelect=Pe.current,Pe.current=void 0),_e.clear()});_.useEffect(()=>Re,[Re]);const Fe=Jt=>{wU.clear(),Iw=!0,ye(!0),I&&!xe&&I(Jt)},ft=Xt(Jt=>{wU.start(800+T,()=>{Iw=!1}),ye(!1),M&&xe&&M(Jt),ce.start(te.transitions.duration.shortest,()=>{pe.current=!1})}),Ue=Jt=>{pe.current&&Jt.type!=="touchstart"||(Q&&Q.removeAttribute("title"),be.clear(),Ne.clear(),y||Iw&&b?be.start(Iw?b:y,()=>{Fe(Jt)}):Fe(Jt))},Ft=Jt=>{be.clear(),Ne.start(T,()=>{ft(Jt)})},[,Ct]=_.useState(!1),Rt=Jt=>{aw(Jt.target)||(Ct(!1),Ft(Jt))},Ke=Jt=>{Q||H(Jt.currentTarget),aw(Jt.target)&&(Ct(!0),Ue(Jt))},$t=Jt=>{pe.current=!0;const Gn=Y.props;Gn.onTouchStart&&Gn.onTouchStart(Jt)},yt=Jt=>{$t(Jt),Ne.clear(),ce.clear(),Re(),Pe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",_e.start(v,()=>{document.body.style.WebkitUserSelect=Pe.current,Ue(Jt)})},zt=Jt=>{Y.props.onTouchEnd&&Y.props.onTouchEnd(Jt),Re(),Ne.start(O,()=>{ft(Jt)})};_.useEffect(()=>{if(!xe)return;function Jt(Gn){Gn.key==="Escape"&&ft(Gn)}return document.addEventListener("keydown",Jt),()=>{document.removeEventListener("keydown",Jt)}},[ft,xe]);const jt=Zn(Pu(Y),H,n);!U&&U!==0&&(xe=!1);const pn=_.useRef(),un=Jt=>{const Gn=Y.props;Gn.onMouseMove&&Gn.onMouseMove(Jt),xm={x:Jt.clientX,y:Jt.clientY},pn.current&&pn.current.update()},Mt={},At=typeof U=="string";u?(Mt.title=!xe&&At&&!p?U:null,Mt["aria-describedby"]=xe?Ie:null):(Mt["aria-label"]=At?U:null,Mt["aria-labelledby"]=xe&&!At?Ie:null);const Ye={...Mt,...z,...Y.props,className:Je(z.className,Y.props.className),onTouchStart:$t,ref:jt,...S?{onMouseMove:un}:{}},xt={};m||(Ye.onTouchStart=yt,Ye.onTouchEnd=zt),p||(Ye.onMouseOver=kw(Ue,Ye.onMouseOver),Ye.onMouseLeave=kw(Ft,Ye.onMouseLeave),ge||(xt.onMouseOver=Ue,xt.onMouseLeave=Ft)),h||(Ye.onFocus=kw(Ke,Ye.onFocus),Ye.onBlur=kw(Rt,Ye.onBlur),ge||(xt.onFocus=Ke,xt.onBlur=Rt));const St={...r,isRtl:ie,arrow:i,disableInteractive:ge,placement:D,PopperComponentProp:L,touch:pe.current},nt=typeof $.popper=="function"?$.popper(St):$.popper,mt=_.useMemo(()=>{let Jt=[{name:"arrow",enabled:!!X,options:{element:X,padding:4}}];return A.popperOptions?.modifiers&&(Jt=Jt.concat(A.popperOptions.modifiers)),nt?.popperOptions?.modifiers&&(Jt=Jt.concat(nt.popperOptions.modifiers)),{...A.popperOptions,...nt?.popperOptions,modifiers:Jt}},[X,A.popperOptions,nt?.popperOptions]),Pt=KMe(St),Et=typeof $.transition=="function"?$.transition(St):$.transition,Nt={slots:{popper:l.Popper,transition:l.Transition??K,tooltip:l.Tooltip,arrow:l.Arrow,...j},slotProps:{arrow:$.arrow??c.arrow,popper:{...A,...nt??c.popper},tooltip:$.tooltip??c.tooltip,transition:{...q,...Et??c.transition}}},[nr,An]=wn("popper",{elementType:qMe,externalForwardedProps:Nt,ownerState:St,className:Je(Pt.popper,A?.className)}),[Cr,rr]=wn("transition",{elementType:bm,externalForwardedProps:Nt,ownerState:St}),[mr,bt]=wn("tooltip",{elementType:YMe,className:Pt.tooltip,externalForwardedProps:Nt,ownerState:St}),[Fr,ai]=wn("arrow",{elementType:XMe,className:Pt.arrow,externalForwardedProps:Nt,ownerState:St,ref:he});return C.jsxs(_.Fragment,{children:[_.cloneElement(Y,Ye),C.jsx(nr,{as:L??hm,placement:D,anchorEl:S?{getBoundingClientRect:()=>({top:xm.y,left:xm.x,right:xm.x,bottom:xm.y,width:0,height:0})}:Q,popperRef:pn,open:Q?xe:!1,id:Ie,transition:!0,...xt,...An,popperOptions:mt,children:({TransitionProps:Jt})=>C.jsx(Cr,{timeout:te.transitions.duration.shorter,...Jt,...rr,children:C.jsxs(mr,{...bt,children:[U,i?C.jsx(Fr,{...ai}):null]})})})]})}),ZMe=V0e({createStyledComponent:Te("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>mn({props:e,name:"MuiStack"})});function QMe(e){return cn("MuiSwitch",e)}const ls=on("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),JMe=e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,l={root:["root",n&&`edge${Qe(n)}`,`size${Qe(r)}`],switchBase:["switchBase",`color${Qe(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=_t(l,QMe,t);return{...t,...c}},eOe=Te("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Qe(n.edge)}`],t[`size${Qe(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ls.thumb}`]:{width:16,height:16},[`& .${ls.switchBase}`]:{padding:4,[`&.${ls.checked}`]:{transform:"translateX(16px)"}}}}]}),tOe=Te(zz,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${ls.input}`]:t.input},n.color!=="default"&&t[`color${Qe(n.color)}`]]}})(tn(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${ls.checked}`]:{transform:"translateX(20px)"},[`&.${ls.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${ls.checked} + .${ls.track}`]:{opacity:.5},[`&.${ls.disabled} + .${ls.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${ls.input}`]:{left:"-100%",width:"300%"}})),tn(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Ci(["light"])).map(([t])=>({props:{color:t},style:{[`&.${ls.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ls.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${ls.checked} + .${ls.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),nOe=Te("span",{name:"MuiSwitch",slot:"Track"})(tn(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),rOe=Te("span",{name:"MuiSwitch",slot:"Thumb"})(tn(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),SU=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:l="medium",sx:c,slots:u={},slotProps:h={},...p}=r,g={...r,color:o,edge:s,size:l},m=JMe(g),y={slots:u,slotProps:h},[b,v]=wn("root",{className:Je(m.root,i),elementType:eOe,externalForwardedProps:y,ownerState:g,additionalProps:{sx:c}}),[S,E]=wn("thumb",{className:m.thumb,elementType:rOe,externalForwardedProps:y,ownerState:g}),T=C.jsx(S,{...E}),[O,M]=wn("track",{className:m.track,elementType:nOe,externalForwardedProps:y,ownerState:g});return C.jsxs(b,{...v,children:[C.jsx(tOe,{type:"checkbox",icon:T,checkedIcon:T,ref:n,ownerState:g,...p,classes:{...m,root:m.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(g):h.switchBase},input:{role:"switch"},...h.input&&{input:typeof h.input=="function"?h.input(g):h.input}}}),C.jsx(O,{...M})]})});function iOe(e){return cn("MuiTab",e)}const Oa=on("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),oOe=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:l,disabled:c}=e,u={root:["root",o&&s&&"labelIcon",`textColor${Qe(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return _t(u,iOe,t)},sOe=Te(Kl,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Qe(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Oa.iconWrapper}`]:t.iconWrapper},{[`& .${Oa.icon}`]:t.icon}]}})(tn(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${Oa.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${Oa.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${Oa.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${Oa.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Oa.selected}`]:{opacity:1},[`&.${Oa.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Oa.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Oa.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Oa.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Oa.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),ZO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:l,icon:c,iconPosition:u="top",indicator:h,label:p,onChange:g,onClick:m,onFocus:y,selected:b,selectionFollowsFocus:v,textColor:S="inherit",value:E,wrapped:T=!1,...O}=r,M={...r,disabled:o,disableFocusRipple:s,selected:b,icon:!!c,iconPosition:u,label:!!p,fullWidth:l,textColor:S,wrapped:T},I=oOe(M),N=c&&p&&_.isValidElement(c)?_.cloneElement(c,{className:Je(I.icon,c.props.className)}):c,D=A=>{!b&&g&&g(A,E),m&&m(A)},L=A=>{v&&!b&&g&&g(A,E),y&&y(A)};return C.jsxs(sOe,{focusRipple:!s,className:Je(I.root,i),ref:n,role:"tab","aria-selected":b,disabled:o,onClick:D,onFocus:L,ownerState:M,tabIndex:b?0:-1,...O,children:[u==="top"||u==="start"?C.jsxs(_.Fragment,{children:[N,p]}):C.jsxs(_.Fragment,{children:[p,N]}),h]})}),aOe=_.createContext(),lOe=_.createContext();function cOe(e){return cn("MuiTableCell",e)}const uOe=on("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),dOe=e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,l={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Qe(r)}`,i!=="normal"&&`padding${Qe(i)}`,`size${Qe(o)}`]};return _t(l,cOe,t)},hOe=Te("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Qe(n.size)}`],n.padding!=="normal"&&t[`padding${Qe(n.padding)}`],n.align!=="inherit"&&t[`align${Qe(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(tn(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${uOe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),QO=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:l,scope:c,size:u,sortDirection:h,variant:p,...g}=r,m=_.useContext(aOe),y=_.useContext(lOe),b=y&&y.variant==="head";let v;s?v=s:v=b?"th":"td";let S=c;v==="td"?S=void 0:!S&&b&&(S="col");const E=p||y&&y.variant,T={...r,align:i,component:v,padding:l||(m&&m.padding?m.padding:"normal"),size:u||(m&&m.size?m.size:"medium"),sortDirection:h,stickyHeader:E==="head"&&m&&m.stickyHeader,variant:E},O=dOe(T);let M=null;return h&&(M=h==="asc"?"ascending":"descending"),C.jsx(hOe,{as:v,ref:n,className:Je(O.root,o),"aria-sort":M,scope:S,ownerState:T,...g})});function fOe(e){return cn("MuiToolbar",e)}on("MuiToolbar",["root","gutters","regular","dense"]);const pOe=e=>{const{classes:t,disableGutters:n,variant:r}=e;return _t({root:["root",!n&&"gutters",r]},fOe,t)},gOe=Te("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(tn(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),CU=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:l="regular",...c}=r,u={...r,component:o,disableGutters:s,variant:l},h=pOe(u);return C.jsx(gOe,{as:o,className:Je(h.root,i),ref:n,ownerState:u,...c})}),xU=Lt(C.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),_U=Lt(C.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function mOe(e){return cn("MuiTablePaginationActions",e)}on("MuiTablePaginationActions",["root"]);const vOe=e=>{const{classes:t}=e;return _t({root:["root"]},mOe,t)},yOe=Te("div",{name:"MuiTablePaginationActions",slot:"Root"})({}),bOe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTablePaginationActions"}),{backIconButtonProps:i,className:o,count:s,disabled:l=!1,getItemAriaLabel:c,nextIconButtonProps:u,onPageChange:h,page:p,rowsPerPage:g,showFirstButton:m,showLastButton:y,slots:b={},slotProps:v={},...S}=r,E=Oo(),O=vOe(r),M=ge=>{h(ge,0)},I=ge=>{h(ge,p-1)},N=ge=>{h(ge,p+1)},D=ge=>{h(ge,Math.max(0,Math.ceil(s/g)-1))},L=b.firstButton??Fn,A=b.lastButton??Fn,$=b.nextButton??Fn,j=b.previousButton??Fn,U=b.firstButtonIcon??MMe,K=b.lastButtonIcon??OMe,q=b.nextButtonIcon??_U,z=b.previousButtonIcon??xU,Y=E?A:L,te=E?$:j,ie=E?j:$,Q=E?L:A,H=E?v.lastButton:v.firstButton,X=E?v.nextButton:v.previousButton,he=E?v.previousButton:v.nextButton,pe=E?v.firstButton:v.lastButton;return C.jsxs(yOe,{ref:n,className:Je(O.root,o),...S,children:[m&&C.jsx(Y,{onClick:M,disabled:l||p===0,"aria-label":c("first",p),title:c("first",p),...H,children:E?C.jsx(K,{...v.lastButtonIcon}):C.jsx(U,{...v.firstButtonIcon})}),C.jsx(te,{onClick:I,disabled:l||p===0,color:"inherit","aria-label":c("previous",p),title:c("previous",p),...X??i,children:E?C.jsx(q,{...v.nextButtonIcon}):C.jsx(z,{...v.previousButtonIcon})}),C.jsx(ie,{onClick:N,disabled:l||(s!==-1?p>=Math.ceil(s/g)-1:!1),color:"inherit","aria-label":c("next",p),title:c("next",p),...he??u,children:E?C.jsx(z,{...v.previousButtonIcon}):C.jsx(q,{...v.nextButtonIcon})}),y&&C.jsx(Q,{onClick:D,disabled:l||p>=Math.ceil(s/g)-1,"aria-label":c("last",p),title:c("last",p),...pe,children:E?C.jsx(U,{...v.firstButtonIcon}):C.jsx(K,{...v.lastButtonIcon})})]})});function wOe(e){return cn("MuiTablePagination",e)}const wh=on("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var EU;const SOe=Te(QO,{name:"MuiTablePagination",slot:"Root"})(tn(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),COe=Te(CU,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${wh.actions}`]:t.actions,...t.toolbar})})(tn(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${wh.actions}`]:{flexShrink:0,marginLeft:20}}))),xOe=Te("div",{name:"MuiTablePagination",slot:"Spacer"})({flex:"1 1 100%"}),_Oe=Te("p",{name:"MuiTablePagination",slot:"SelectLabel"})(tn(({theme:e})=>({...e.typography.body2,flexShrink:0}))),EOe=Te(Rw,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${wh.selectIcon}`]:t.selectIcon,[`& .${wh.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${wh.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),TOe=Te(xs,{name:"MuiTablePagination",slot:"MenuItem"})({}),MOe=Te("p",{name:"MuiTablePagination",slot:"DisplayedRows"})(tn(({theme:e})=>({...e.typography.body2,flexShrink:0})));function OOe({from:e,to:t,count:n}){return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`}function ROe(e){return`Go to ${e} page`}const IOe=e=>{const{classes:t}=e;return _t({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},wOe,t)},kOe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=bOe,backIconButtonProps:o,colSpan:s,component:l=QO,count:c,disabled:u=!1,getItemAriaLabel:h=ROe,labelDisplayedRows:p=OOe,labelRowsPerPage:g="Rows per page:",nextIconButtonProps:m,onPageChange:y,onRowsPerPageChange:b,page:v,rowsPerPage:S,rowsPerPageOptions:E=[10,25,50,100],SelectProps:T={},showFirstButton:O=!1,showLastButton:M=!1,slotProps:I={},slots:N={},...D}=r,L=r,A=IOe(L),$=I?.select??T,j=$.native?"option":TOe;let U;(l===QO||l==="td")&&(U=s||1e3);const K=sr($.id),q=sr($.labelId),z=()=>c===-1?(v+1)*S:S===-1?c:Math.min(c,(v+1)*S),Y={slots:N,slotProps:I},[te,ie]=wn("root",{ref:n,className:A.root,elementType:SOe,externalForwardedProps:{...Y,component:l,...D},ownerState:L,additionalProps:{colSpan:U}}),[Q,H]=wn("toolbar",{className:A.toolbar,elementType:COe,externalForwardedProps:Y,ownerState:L}),[X,he]=wn("spacer",{className:A.spacer,elementType:xOe,externalForwardedProps:Y,ownerState:L}),[pe,ge]=wn("selectLabel",{className:A.selectLabel,elementType:_Oe,externalForwardedProps:Y,ownerState:L,additionalProps:{id:q}}),[ce,be]=wn("select",{className:A.select,elementType:EOe,externalForwardedProps:Y,ownerState:L}),[Ne,_e]=wn("menuItem",{className:A.menuItem,elementType:j,externalForwardedProps:Y,ownerState:L}),[me,ye]=wn("displayedRows",{className:A.displayedRows,elementType:MOe,externalForwardedProps:Y,ownerState:L});return C.jsx(te,{...ie,children:C.jsxs(Q,{...H,children:[C.jsx(X,{...he}),E.length>1&&C.jsx(pe,{...ge,children:g}),E.length>1&&C.jsx(ce,{variant:"standard",...!$.variant&&{input:EU||(EU=C.jsx(fm,{}))},value:S,onChange:b,id:K,labelId:q,...$,classes:{...$.classes,root:Je(A.input,A.selectRoot,($.classes||{}).root),select:Je(A.select,($.classes||{}).select),icon:Je(A.selectIcon,($.classes||{}).icon)},disabled:u,...be,children:E.map(xe=>_.createElement(Ne,{..._e,key:xe.label?xe.label:xe,value:xe.value?xe.value:xe},xe.label?xe.label:xe))}),C.jsx(me,{...ye,children:p({from:c===0?0:v*S+1,to:z(),count:c===-1?-1:c,page:v})}),C.jsx(i,{className:A.actions,backIconButtonProps:o,count:c,nextIconButtonProps:m,onPageChange:y,page:v,rowsPerPage:S,showFirstButton:O,showLastButton:M,slotProps:I.actions,slots:N.actions,getItemAriaLabel:h,disabled:u})]})})});function POe(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function DOe(e,t,n,r={},i=()=>{}){const{ease:o=POe,duration:s=300}=r;let l=null;const c=t[e];let u=!1;const h=()=>{u=!0},p=g=>{if(u){i(new Error("Animation cancelled"));return}l===null&&(l=g);const m=Math.min(1,(g-l)/s);if(t[e]=o(m)*(n-c)+c,m>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(p)};return c===n?(i(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const AOe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function LOe(e){const{onChange:t,...n}=e,r=_.useRef(),i=_.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return pr(()=>{const s=Ou(()=>{const c=r.current;o(),c!==r.current&&t(r.current)}),l=Hs(i.current);return l.addEventListener("resize",s),()=>{s.clear(),l.removeEventListener("resize",s)}},[t]),_.useEffect(()=>{o(),t(r.current)},[t]),C.jsx("div",{style:AOe,...n,ref:i})}function NOe(e){return cn("MuiTabScrollButton",e)}const TU=on("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),BOe=e=>{const{classes:t,orientation:n,disabled:r}=e;return _t({root:["root",n,r&&"disabled"]},NOe,t)},FOe=Te(Kl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${TU.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),jOe=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:l,orientation:c,disabled:u,...h}=r,p=Oo(),g={isRtl:p,...r},m=BOe(g),y=o.StartScrollButtonIcon??xU,b=o.EndScrollButtonIcon??_U,v=Ro({elementType:y,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),S=Ro({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return C.jsx(FOe,{component:"div",className:Je(m.root,i),ref:n,role:null,ownerState:g,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:l==="left"?C.jsx(y,{...v}):C.jsx(b,{...S})})});function VOe(e){return cn("MuiTabs",e)}const _m=on("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),MU=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,OU=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Pw=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(e,i);else{i.focus();return}}},$Oe=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:l,classes:c}=e;return _t({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},VOe,c)},zOe=Te("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${_m.scrollButtons}`]:t.scrollButtons},{[`& .${_m.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(tn(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${_m.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),UOe=Te("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),HOe=Te("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),GOe=Te("span",{name:"MuiTabs",slot:"Indicator"})(tn(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),WOe=Te(LOe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),RU={},IU=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTabs"}),i=Wl(),o=Oo(),{"aria-label":s,"aria-labelledby":l,action:c,centered:u=!1,children:h,className:p,component:g="div",allowScrollButtonsMobile:m=!1,indicatorColor:y="primary",onChange:b,orientation:v="horizontal",ScrollButtonComponent:S,scrollButtons:E="auto",selectionFollowsFocus:T,slots:O={},slotProps:M={},TabIndicatorProps:I={},TabScrollButtonProps:N={},textColor:D="primary",value:L,variant:A="standard",visibleScrollbar:$=!1,...j}=r,U=A==="scrollable",K=v==="vertical",q=K?"scrollTop":"scrollLeft",z=K?"top":"left",Y=K?"bottom":"right",te=K?"clientHeight":"clientWidth",ie=K?"height":"width",Q={...r,component:g,allowScrollButtonsMobile:m,indicatorColor:y,orientation:v,vertical:K,scrollButtons:E,textColor:D,variant:A,visibleScrollbar:$,fixed:!U,hideScrollbar:U&&!$,scrollableX:U&&!K,scrollableY:U&&K,centered:u&&!U,scrollButtonsHideMobile:!m},H=$Oe(Q),X=Ro({elementType:O.StartScrollButtonIcon,externalSlotProps:M.startScrollButtonIcon,ownerState:Q}),he=Ro({elementType:O.EndScrollButtonIcon,externalSlotProps:M.endScrollButtonIcon,ownerState:Q}),[pe,ge]=_.useState(!1),[ce,be]=_.useState(RU),[Ne,_e]=_.useState(!1),[me,ye]=_.useState(!1),[xe,Ie]=_.useState(!1),[Pe,Re]=_.useState({overflow:"hidden",scrollbarWidth:0}),Fe=new Map,ft=_.useRef(null),Ue=_.useRef(null),Ft={slots:O,slotProps:{indicator:I,scrollButton:N,...M}},Ct=()=>{const Bt=ft.current;let en;if(Bt){const Tn=Bt.getBoundingClientRect();en={clientWidth:Bt.clientWidth,scrollLeft:Bt.scrollLeft,scrollTop:Bt.scrollTop,scrollWidth:Bt.scrollWidth,top:Tn.top,bottom:Tn.bottom,left:Tn.left,right:Tn.right}}let Sn;if(Bt&&L!==!1){const Tn=Ue.current.children;if(Tn.length>0){const Mn=Tn[Fe.get(L)];Sn=Mn?Mn.getBoundingClientRect():null}}return{tabsMeta:en,tabMeta:Sn}},Rt=Xt(()=>{const{tabsMeta:Bt,tabMeta:en}=Ct();let Sn=0,Tn;K?(Tn="top",en&&Bt&&(Sn=en.top-Bt.top+Bt.scrollTop)):(Tn=o?"right":"left",en&&Bt&&(Sn=(o?-1:1)*(en[Tn]-Bt[Tn]+Bt.scrollLeft)));const Mn={[Tn]:Sn,[ie]:en?en[ie]:0};if(typeof ce[Tn]!="number"||typeof ce[ie]!="number")be(Mn);else{const hi=Math.abs(ce[Tn]-Mn[Tn]),Qr=Math.abs(ce[ie]-Mn[ie]);(hi>=1||Qr>=1)&&be(Mn)}}),Ke=(Bt,{animation:en=!0}={})=>{en?DOe(q,ft.current,Bt,{duration:i.transitions.duration.standard}):ft.current[q]=Bt},$t=Bt=>{let en=ft.current[q];K?en+=Bt:en+=Bt*(o?-1:1),Ke(en)},yt=()=>{const Bt=ft.current[te];let en=0;const Sn=Array.from(Ue.current.children);for(let Tn=0;Tn<Sn.length;Tn+=1){const Mn=Sn[Tn];if(en+Mn[te]>Bt){Tn===0&&(en=Bt);break}en+=Mn[te]}return en},zt=()=>{$t(-1*yt())},jt=()=>{$t(yt())},[pn,{onChange:un,...Mt}]=wn("scrollbar",{className:Je(H.scrollableX,H.hideScrollbar),elementType:WOe,shouldForwardComponentProp:!0,externalForwardedProps:Ft,ownerState:Q}),At=_.useCallback(Bt=>{un?.(Bt),Re({overflow:null,scrollbarWidth:Bt})},[un]),[Ye,xt]=wn("scrollButtons",{className:Je(H.scrollButtons,N.className),elementType:jOe,externalForwardedProps:Ft,ownerState:Q,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:O.startScrollButtonIcon||O.StartScrollButtonIcon,EndScrollButtonIcon:O.endScrollButtonIcon||O.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:X,endScrollButtonIcon:he}}}),St=()=>{const Bt={};Bt.scrollbarSizeListener=U?C.jsx(pn,{...Mt,onChange:At}):null;const Sn=U&&(E==="auto"&&(Ne||me)||E===!0);return Bt.scrollButtonStart=Sn?C.jsx(Ye,{direction:o?"right":"left",onClick:zt,disabled:!Ne,...xt}):null,Bt.scrollButtonEnd=Sn?C.jsx(Ye,{direction:o?"left":"right",onClick:jt,disabled:!me,...xt}):null,Bt},nt=Xt(Bt=>{const{tabsMeta:en,tabMeta:Sn}=Ct();if(!(!Sn||!en)){if(Sn[z]<en[z]){const Tn=en[q]+(Sn[z]-en[z]);Ke(Tn,{animation:Bt})}else if(Sn[Y]>en[Y]){const Tn=en[q]+(Sn[Y]-en[Y]);Ke(Tn,{animation:Bt})}}}),mt=Xt(()=>{U&&E!==!1&&Ie(!xe)});_.useEffect(()=>{const Bt=Ou(()=>{ft.current&&Rt()});let en;const Sn=hi=>{hi.forEach(Qr=>{Qr.removedNodes.forEach(Vi=>{en?.unobserve(Vi)}),Qr.addedNodes.forEach(Vi=>{en?.observe(Vi)})}),Bt(),mt()},Tn=Hs(ft.current);Tn.addEventListener("resize",Bt);let Mn;return typeof ResizeObserver<"u"&&(en=new ResizeObserver(Bt),Array.from(Ue.current.children).forEach(hi=>{en.observe(hi)})),typeof MutationObserver<"u"&&(Mn=new MutationObserver(Sn),Mn.observe(Ue.current,{childList:!0})),()=>{Bt.clear(),Tn.removeEventListener("resize",Bt),Mn?.disconnect(),en?.disconnect()}},[Rt,mt]),_.useEffect(()=>{const Bt=Array.from(Ue.current.children),en=Bt.length;if(typeof IntersectionObserver<"u"&&en>0&&U&&E!==!1){const Sn=Bt[0],Tn=Bt[en-1],Mn={root:ft.current,threshold:.99},hi=Mr=>{_e(!Mr[0].isIntersecting)},Qr=new IntersectionObserver(hi,Mn);Qr.observe(Sn);const Vi=Mr=>{ye(!Mr[0].isIntersecting)},Ao=new IntersectionObserver(Vi,Mn);return Ao.observe(Tn),()=>{Qr.disconnect(),Ao.disconnect()}}},[U,E,xe,h?.length]),_.useEffect(()=>{ge(!0)},[]),_.useEffect(()=>{Rt()}),_.useEffect(()=>{nt(RU!==ce)},[nt,ce]),_.useImperativeHandle(c,()=>({updateIndicator:Rt,updateScrollButtons:mt}),[Rt,mt]);const[Pt,Et]=wn("indicator",{className:Je(H.indicator,I.className),elementType:GOe,externalForwardedProps:Ft,ownerState:Q,additionalProps:{style:ce}}),Nt=C.jsx(Pt,{...Et});let nr=0;const An=_.Children.map(h,Bt=>{if(!_.isValidElement(Bt))return null;const en=Bt.props.value===void 0?nr:Bt.props.value;Fe.set(en,nr);const Sn=en===L;return nr+=1,_.cloneElement(Bt,{fullWidth:A==="fullWidth",indicator:Sn&&!pe&&Nt,selected:Sn,selectionFollowsFocus:T,onChange:b,textColor:D,value:en,...nr===1&&L===!1&&!Bt.props.tabIndex?{tabIndex:0}:{}})}),Cr=Bt=>{if(Bt.altKey||Bt.shiftKey||Bt.ctrlKey||Bt.metaKey)return;const en=Ue.current,Sn=Si(en).activeElement;if(Sn.getAttribute("role")!=="tab")return;let Mn=v==="horizontal"?"ArrowLeft":"ArrowUp",hi=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&o&&(Mn="ArrowRight",hi="ArrowLeft"),Bt.key){case Mn:Bt.preventDefault(),Pw(en,Sn,OU);break;case hi:Bt.preventDefault(),Pw(en,Sn,MU);break;case"Home":Bt.preventDefault(),Pw(en,null,MU);break;case"End":Bt.preventDefault(),Pw(en,null,OU);break}},rr=St(),[mr,bt]=wn("root",{ref:n,className:Je(H.root,p),elementType:zOe,externalForwardedProps:{...Ft,...j,component:g},ownerState:Q}),[Fr,ai]=wn("scroller",{ref:ft,className:H.scroller,elementType:UOe,externalForwardedProps:Ft,ownerState:Q,additionalProps:{style:{overflow:Pe.overflow,[K?`margin${o?"Left":"Right"}`:"marginBottom"]:$?void 0:-Pe.scrollbarWidth}}}),[Jt,Gn]=wn("list",{ref:Ue,className:Je(H.list,H.flexContainer),elementType:HOe,externalForwardedProps:Ft,ownerState:Q,getSlotProps:Bt=>({...Bt,onKeyDown:en=>{Cr(en),Bt.onKeyDown?.(en)}})});return C.jsxs(mr,{...bt,children:[rr.scrollButtonStart,rr.scrollbarSizeListener,C.jsxs(Fr,{...ai,children:[C.jsx(Jt,{"aria-label":s,"aria-labelledby":l,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...Gn,children:An}),pe&&Nt]}),rr.scrollButtonEnd]})});function KOe(e){return cn("MuiTextField",e)}on("MuiTextField",["root"]);const qOe={standard:FO,filled:LO,outlined:KO},YOe=e=>{const{classes:t}=e;return _t({root:["root"]},KOe,t)},XOe=Te(Ew,{name:"MuiTextField",slot:"Root"})({}),Zl=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:l,color:c="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:g,fullWidth:m=!1,helperText:y,id:b,InputLabelProps:v,inputProps:S,InputProps:E,inputRef:T,label:O,maxRows:M,minRows:I,multiline:N=!1,name:D,onBlur:L,onChange:A,onFocus:$,placeholder:j,required:U=!1,rows:K,select:q=!1,SelectProps:z,slots:Y={},slotProps:te={},type:ie,value:Q,variant:H="outlined",...X}=r,he={...r,autoFocus:o,color:c,disabled:h,error:p,fullWidth:m,multiline:N,required:U,select:q,variant:H},pe=YOe(he),ge=sr(b),ce=y&&ge?`${ge}-helper-text`:void 0,be=O&&ge?`${ge}-label`:void 0,Ne=qOe[H],_e={slots:Y,slotProps:{input:E,inputLabel:v,htmlInput:S,formHelperText:g,select:z,...te}},me={},ye=_e.slotProps.inputLabel;H==="outlined"&&(ye&&typeof ye.shrink<"u"&&(me.notched=ye.shrink),me.label=O),q&&((!z||!z.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[xe,Ie]=wn("root",{elementType:XOe,shouldForwardComponentProp:!0,externalForwardedProps:{..._e,...X},ownerState:he,className:Je(pe.root,l),ref:n,additionalProps:{disabled:h,error:p,fullWidth:m,required:U,color:c,variant:H}}),[Pe,Re]=wn("input",{elementType:Ne,externalForwardedProps:_e,additionalProps:me,ownerState:he}),[Fe,ft]=wn("inputLabel",{elementType:nU,externalForwardedProps:_e,ownerState:he}),[Ue,Ft]=wn("htmlInput",{elementType:"input",externalForwardedProps:_e,ownerState:he}),[Ct,Rt]=wn("formHelperText",{elementType:rTe,externalForwardedProps:_e,ownerState:he}),[Ke,$t]=wn("select",{elementType:Rw,externalForwardedProps:_e,ownerState:he}),yt=C.jsx(Pe,{"aria-describedby":ce,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:m,multiline:N,name:D,rows:K,maxRows:M,minRows:I,type:ie,value:Q,id:ge,inputRef:T,onBlur:L,onChange:A,onFocus:$,placeholder:j,inputProps:Ft,slots:{input:Y.htmlInput?Ue:void 0},...Re});return C.jsxs(xe,{...Ie,children:[O!=null&&O!==""&&C.jsx(Fe,{htmlFor:ge,id:be,...ft,children:O}),q?C.jsx(Ke,{"aria-describedby":ce,id:ge,labelId:be,value:Q,input:yt,...$t,children:s}):yt,y&&C.jsx(Ct,{id:ce,...Rt,children:y})]})});function ZOe(e){return cn("MuiToggleButton",e)}const Sh=on("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),kU=_.createContext({}),PU=_.createContext(void 0);function QOe(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const JOe=e=>{const{classes:t,fullWidth:n,selected:r,disabled:i,size:o,color:s}=e,l={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${Qe(o)}`,s]};return _t(l,ZOe,t)},eRe=Te(Kl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${Qe(n.size)}`]]}})(tn(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Sh.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Sh.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(Ci()).map(([t])=>({props:{color:t},style:{[`&.${Sh.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),JO=_.forwardRef(function(t,n){const{value:r,...i}=_.useContext(kU),o=_.useContext(PU),s=lh({...i,selected:QOe(t.value,r)},t),l=mn({props:s,name:"MuiToggleButton"}),{children:c,className:u,color:h="standard",disabled:p=!1,disableFocusRipple:g=!1,fullWidth:m=!1,onChange:y,onClick:b,selected:v,size:S="medium",value:E,...T}=l,O={...l,color:h,disabled:p,disableFocusRipple:g,fullWidth:m,size:S},M=JOe(O),I=D=>{b&&(b(D,E),D.defaultPrevented)||y&&y(D,E)},N=o||"";return C.jsx(eRe,{className:Je(i.className,M.root,u,N),disabled:p,focusRipple:!g,ref:n,onClick:I,onChange:y,value:E,ownerState:O,"aria-pressed":v,...T,children:c})});function tRe(e){return cn("MuiToggleButtonGroup",e)}const ui=on("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),nRe=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:i}=e,o={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${Qe(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return _t(o,tRe,t)},rRe=Te("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ui.grouped}`]:t.grouped},{[`& .${ui.grouped}`]:t[`grouped${Qe(n.orientation)}`]},{[`& .${ui.firstButton}`]:t.firstButton},{[`& .${ui.lastButton}`]:t.lastButton},{[`& .${ui.middleButton}`]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(tn(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${ui.grouped}`]:{[`&.${ui.selected} + .${ui.grouped}.${ui.selected}`]:{borderTop:0,marginTop:0}},[`& .${ui.firstButton},& .${ui.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${ui.lastButton},& .${ui.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${ui.lastButton}.${Sh.disabled},& .${ui.middleButton}.${Sh.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${ui.grouped}`]:{[`&.${ui.selected} + .${ui.grouped}.${ui.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${ui.firstButton},& .${ui.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${ui.lastButton},& .${ui.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${ui.lastButton}.${Sh.disabled},& .${ui.middleButton}.${Sh.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),DU=_.forwardRef(function(t,n){const r=mn({props:t,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:l=!1,exclusive:c=!1,fullWidth:u=!1,onChange:h,orientation:p="horizontal",size:g="medium",value:m,...y}=r,b={...r,disabled:l,fullWidth:u,orientation:p,size:g},v=nRe(b),S=_.useCallback((N,D)=>{if(!h)return;const L=m&&m.indexOf(D);let A;m&&L>=0?(A=m.slice(),A.splice(L,1)):A=m?m.concat(D):[D],h(N,A)},[h,m]),E=_.useCallback((N,D)=>{h&&h(N,m===D?null:D)},[h,m]),T=_.useMemo(()=>({className:v.grouped,onChange:c?E:S,value:m,size:g,fullWidth:u,color:s,disabled:l}),[v.grouped,c,E,S,m,g,u,s,l]),O=VEe(i),M=O.length,I=N=>{const D=N===0,L=N===M-1;return D&&L?"":D?v.firstButton:L?v.lastButton:v.middleButton};return C.jsx(rRe,{role:"group",className:Je(v.root,o),ref:n,ownerState:b,...y,children:C.jsx(kU.Provider,{value:T,children:O.map((N,D)=>C.jsx(PU.Provider,{value:I(D),children:N},D))})})}),iRe=Wt(Zbe)(({vm:e})=>C.jsxs(xs,{onClick:e.onClick,children:[C.jsx(Tw,{children:e.icon}),e.title]})),oRe=Wt(Qbe)(({vm:e})=>{const t=I2();return C.jsx(Ow,{ref:t,onContextMenu:kb,anchorReference:"anchorPosition",open:e.isOpen,onClose:e.onClose,anchorPosition:e.anchorPosition,children:e.menuItems.map((n,r)=>C.jsx(iRe,{m:n},r))})});class sRe extends Kt{constructor(){super(),this.loginValue="",this.passwordValue="",this.loginErrorText="",this.loginButtonDisabled=!1,this.onLoginValueChange=({target:t})=>{this.loginValue=t.value,this.loginErrorText=""},this.onPasswordValueChange=({target:t})=>{this.passwordValue=t.value,this.loginErrorText=""},this.onLoginButtonClick=()=>this.tryLogin(),Ot(this,{loginButtonDisabled:Be.ref,loginErrorText:Be.ref,loginValue:Be.ref,passwordValue:Be.ref,onLoginValueChange:Ee,onPasswordValueChange:Ee,tryLogin:Ii})}get isLoggingIn(){return this.m.isLoggingIn}*tryLogin(){try{yield this.m.login(this.loginValue,this.passwordValue)}catch(t){if(!(t instanceof os))throw t;this.loginErrorText=t.message}}}const aRe=Lt(C.jsx("path",{d:"M21 11h-1.5v-.5h-2v3h2V13H21v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zM8 10v5H6.5v-1.5h-2V15H3v-5c0-.55.45-1 1-1h3c.55 0 1 .45 1 1m-1.5.5h-2V12h2zm7 1.5c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1h-4V9h4c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1M11 10.5v.75h2v-.75zm2 2.25h-2v.75h2z"})),lRe=Lt(C.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})),eR=Lt(C.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),cRe=Lt(C.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V8c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1"})),uRe=Lt(C.jsx("path",{d:"M8 11h8v2H8zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3z"})),dRe=Lt(C.jsx("path",{d:"M11.71 17.99C8.53 17.84 6 15.22 6 12c0-3.31 2.69-6 6-6 3.22 0 5.84 2.53 5.99 5.71l-2.1-.63C15.48 9.31 13.89 8 12 8c-2.21 0-4 1.79-4 4 0 1.89 1.31 3.48 3.08 3.89zM22 12c0 .3-.01.6-.04.9l-1.97-.59c.01-.1.01-.21.01-.31 0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8c.1 0 .21 0 .31-.01l.59 1.97c-.3.03-.6.04-.9.04-5.52 0-10-4.48-10-10S6.48 2 12 2s10 4.48 10 10m-3.77 4.26L22 15l-10-3 3 10 1.26-3.77 4.27 4.27 1.98-1.98z"})),AU=Lt(C.jsx("path",{d:"m14 7-5 5 5 5z"})),LU=Lt(C.jsx("path",{d:"m10 17 5-5-5-5z"})),hRe=Lt(C.jsx("path",{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3z"})),NU=Lt(C.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),fRe=Lt(C.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),pRe=Lt(C.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 4h2v5l-1-.75L9 9zm9 16H6V4h1v9l3-2.25L13 13V4h5z"})),gRe=Lt(C.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Dw=Lt(C.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),mRe=Lt(C.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),vRe=Lt(C.jsx("path",{d:"M20 4v12H8V4zm0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),yRe=Lt(C.jsx("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3z"})),BU=Lt(C.jsx("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"})),bRe=Lt(C.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),wRe=Lt([C.jsx("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),C.jsx("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"},"1")]),SRe=Lt(C.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),CRe=Lt(C.jsx("path",{d:"M3 13h2v-2H3zm4 8h2v-2H7zm6-18h-2v2h2zm6 0v2h2c0-1.1-.9-2-2-2M5 21v-2H3c0 1.1.9 2 2 2m-2-4h2v-2H3zm8 4h2v-2h-2zm8-8h2v-2h-2zm0-4h2V7h-2zm-4-4h2V3h-2zM7.83 5 7 4.17V3h2v2zm12 12-.83-.83V15h2v2zm1.36 4.19L2.81 2.81 1.39 4.22 4.17 7H3v2h2V7.83l2 2V17h7.17l2 2H15v2h2v-1.17l2.78 2.78zM9 15v-3.17L12.17 15zm6-2.83V9h-3.17l-2-2H17v7.17z"})),xRe=Lt(C.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"})),FU=Lt(C.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),_Re=Lt(C.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"})),ERe=Lt(C.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),jU=Lt(C.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"})),TRe=Lt(C.jsx("path",{d:"M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-4.05 16.5-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13z"})),MRe=Lt(C.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"})),VU=Lt(C.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12M5.21 10 10 5.21 14.79 10zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5M2 20h20v4H2z"})),ORe=Lt(C.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})),RRe=Lt(C.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"})),IRe=Lt(C.jsx("path",{d:"M10 19h4v-3h-4zM5 4v3h5v3h4V7h5V4zM3 14h18v-2H3z"})),kRe=Lt(C.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"})),$U=Lt(C.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M8 20H4v-4h4zm0-6H4v-4h4zm0-6H4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4zm6 12h-4v-4h4zm0-6h-4v-4h4zm0-6h-4V4h4z"})),PRe=Lt(C.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-3 10H8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"})),DRe=Lt(C.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),ARe=Lt(C.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"})),LRe=Lt(C.jsx("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-1 2H5v-2h2zm0-3H5V8h2zm9 7H8v-2h8zm0-4h-2v-2h2zm0-3h-2V8h2zm3 3h-2v-2h2zm0-3h-2V8h2z"})),NRe=Lt(C.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),BRe=Lt(C.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"})),FRe=Lt([C.jsx("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),C.jsx("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")]),jRe=Lt([C.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),C.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")]),VRe=Lt(C.jsx("path",{d:"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93M4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4zm7-13.93C7.05 1.56 4 4.92 4 9h7z"})),$Re=Lt(C.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),zRe=Lt(C.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),zU=Lt(C.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"})),URe=Lt(C.jsx("path",{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4zm-7 4h-4l1-4h4z"})),HRe=Lt(C.jsx("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-6-7 4V7z"})),GRe=Lt(C.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),WRe=Lt(C.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),KRe=Lt(C.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.5 16.5v-9l7 4.5z"})),qRe=Lt(C.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-2.5-3.5 7-4.5-7-4.5z"})),YRe=Lt(C.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"})),XRe=Lt(C.jsx("path",{d:"M2 4h20v16H2z"})),ZRe=Lt(C.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"})),QRe=Lt(C.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"})),UU=Lt(C.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),JRe=Lt(C.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z"})),Aw=Lt(C.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9z"})),eIe=Lt(C.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9zM6 3h3v2H6zm3 18H6v-2h3zm0-8H6v-2h3zm10 0h-3v-2h3z"})),tIe=Lt(C.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),nIe=Lt([C.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),C.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")]),rIe=Lt(C.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),iIe=Lt(C.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"})),oIe=Lt(C.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"})),sIe=Lt(C.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})),aIe=Lt(C.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})),HU=Lt(C.jsx("path",{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2zm6 9-4 5h12l-3-4-2.03 2.71zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5M20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2m0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4z"})),lIe=Lt(C.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2m0 14H5V8h14z"})),cIe=Lt(C.jsx("path",{d:"m9 19 1.41-1.41L5.83 13H22v-2H5.83l4.59-4.59L9 5l-7 7z"})),uIe=Wt(sRe)(({vm:e,open:t})=>C.jsxs(AO,{open:t,fullWidth:!0,children:[C.jsx(Zz,{children:C.jsxs(Io,{display:"flex",flexDirection:"column",gap:1,p:"5px",children:[C.jsx(Zl,{disabled:e.isLoggingIn,value:e.loginValue,onChange:e.onLoginValueChange,error:!!e.loginErrorText,helperText:e.loginErrorText,label:"Логин",autoComplete:"off",fullWidth:!0}),C.jsx(Zl,{disabled:e.isLoggingIn,value:e.passwordValue,onChange:e.onPasswordValueChange,label:"Пароль",type:"password",autoComplete:"off",fullWidth:!0})]})}),C.jsx(Xz,{children:C.jsx(Cs,{disabled:e.loginButtonDisabled,onClick:e.onLoginButtonClick,loading:e.isLoggingIn,loadingPosition:"start",startIcon:C.jsx(rIe,{}),variant:"contained",fullWidth:!0,children:"Вход"})})]}));function GU(e){return wCe}function dIe(e){return cn("MuiSimpleTreeView",e)}on("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);const WU={};function KU(e,t){const n=_.useRef(WU);return n.current===WU&&(n.current=e(t)),n}var Lw=Symbol("NOT_FOUND");function hIe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fIe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function pIe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var qU=e=>Array.isArray(e)?e:[e];function gIe(e){const t=Array.isArray(e[0])?e[0]:e;return pIe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function mIe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}function vIe(e){let t;return{get(n){return t&&e(t.key,n)?t.value:Lw},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function yIe(e,t){let n=[];function r(l){const c=n.findIndex(u=>t(l,u.key));if(c>-1){const u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return Lw}function i(l,c){r(l)===Lw&&(n.unshift({key:l,value:c}),n.length>e&&n.pop())}function o(){return n}function s(){n=[]}return{get:r,put:i,getEntries:o,clear:s}}var bIe=(e,t)=>e===t;function wIe(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:i}=n;for(let o=0;o<i;o++)if(!e(n[o],r[o]))return!1;return!0}}function tR(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=bIe,maxSize:i=1,resultEqualityCheck:o}=n,s=wIe(r);let l=0;const c=i<=1?vIe(s):yIe(i,s);function u(){let h=c.get(arguments);if(h===Lw){if(h=e.apply(null,arguments),l++,o){const g=c.getEntries().find(m=>o(m.value,h));g&&(h=g.value,l!==0&&l--)}c.put(arguments,h)}return h}return u.clearCache=()=>{c.clear(),u.resetResultsCount()},u.resultsCount=()=>l,u.resetResultsCount=()=>{l=0},u}var SIe=class{constructor(e){this.value=e}deref(){return this.value}},CIe=typeof WeakRef<"u"?WeakRef:SIe,xIe=0,YU=1;function Nw(){return{s:xIe,v:void 0,o:null,p:null}}function XU(e,t={}){let n=Nw();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let l=n;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const b=y.get(m);b===void 0?(l=Nw(),y.set(m,l)):l=b}else{let y=l.p;y===null&&(l.p=y=new Map);const b=y.get(m);b===void 0?(l=Nw(),y.set(m,l)):l=b}}const u=l;let h;if(l.s===YU)h=l.v;else if(h=e.apply(null,arguments),o++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new CIe(h):h}return u.s=YU,u.v=h,h}return s.clearCache=()=>{n=Nw(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function ZU(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),hIe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:m=XU,argsMemoizeOptions:y=[]}=h,b=qU(g),v=qU(y),S=gIe(i),E=p(function(){return o++,u.apply(null,arguments)},...b),T=m(function(){s++;const M=mIe(S,arguments);return l=E.apply(null,M),l},...v);return Object.assign(T,{resultFunc:u,memoizedResultFunc:E,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var _Ie=ZU(XU),EIe=Object.assign((e,t=_Ie)=>{fIe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,l,c)=>(s[n[c]]=l,s),{}))},{withTypes:()=>EIe});const TIe=ZU({memoize:tR,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),lr=(e,t,n,r,i,o,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let l;if(e&&t&&n&&r&&i&&o)l=(c,u,h,p)=>{const g=e(c,u,h,p),m=t(c,u,h,p),y=n(c,u,h,p),b=r(c,u,h,p),v=i(c,u,h,p);return o(g,m,y,b,v,u,h,p)};else if(e&&t&&n&&r&&i)l=(c,u,h,p)=>{const g=e(c,u,h,p),m=t(c,u,h,p),y=n(c,u,h,p),b=r(c,u,h,p);return i(g,m,y,b,u,h,p)};else if(e&&t&&n&&r)l=(c,u,h,p)=>{const g=e(c,u,h,p),m=t(c,u,h,p),y=n(c,u,h,p);return r(g,m,y,u,h,p)};else if(e&&t&&n)l=(c,u,h,p)=>{const g=e(c,u,h,p),m=t(c,u,h,p);return n(g,m,u,h,p)};else if(e&&t)l=(c,u,h,p)=>{const g=e(c,u,h,p);return t(g,u,h,p)};else if(e)l=e;else throw new Error("Missing arguments");return l},Bf=(...e)=>{const t=new WeakMap;let n=1;const r=e[e.length-1],i=e.length-1||1,o=Math.max(r.length-i,0);if(o>3)throw new Error("Unsupported number of arguments");return(l,c,u,h)=>{let p=l.__cacheKey__;p||(p={id:n},l.__cacheKey__=p,n+=1);let g=t.get(p);if(!g){const m=e.length===1?[v=>v,r]:e;let y=e;const b=[void 0,void 0,void 0];switch(o){case 0:break;case 1:{y=[...m.slice(0,-1),()=>b[0],r];break}case 2:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],r];break}case 3:{y=[...m.slice(0,-1),()=>b[0],()=>b[1],()=>b[2],r];break}default:throw new Error("Unsupported number of arguments")}g=TIe(...y),g.selectorArgs=b,t.set(p,g)}switch(o){case 3:g.selectorArgs[2]=h;case 2:g.selectorArgs[1]=u;case 1:g.selectorArgs[0]=c}switch(o){case 0:return g(l);case 1:return g(l,c);case 2:return g(l,c,u);case 3:return g(l,c,u,h);default:throw new Error("unreachable")}}};var nR={exports:{}},rR={};var QU;function MIe(){if(QU)return rR;QU=1;var e=Yo(),t=x2();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,l=e.useMemo,c=e.useDebugValue;return rR.useSyncExternalStoreWithSelector=function(u,h,p,g,m){var y=o(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=l(function(){function S(I){if(!E){if(E=!0,T=I,I=g(I),m!==void 0&&b.hasValue){var N=b.value;if(m(N,I))return O=N}return O=I}if(N=O,r(T,I))return N;var D=g(I);return m!==void 0&&m(N,D)?(T=I,N):(T=I,O=D)}var E=!1,T,O,M=p===void 0?null:p;return[function(){return S(h())},M===null?void 0:function(){return S(M())}]},[h,p,g,m]);var v=i(u,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},rR}var JU;function OIe(){return JU||(JU=1,nR.exports=MIe()),nR.exports}var RIe=OIe();function Er(e,t,n,r,i){const o=s=>t(s,n,r,i);return RIe.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,o)}const IIe=()=>{};function Bw(e,t,n){const r=Gs(kIe,{store:e,selector:t}).current;r.effect=n,iw(r.onMount)}function kIe(e){const{store:t,selector:n}=e;let r=n(t.state);const i={effect:IIe,dispose:null,subscribe:()=>{i.dispose??=t.subscribe(o=>{const s=n(o);i.effect(r,s),r=s})},onMount:()=>(i.subscribe(),()=>{i.dispose?.(),i.dispose=null})};return i.subscribe(),i}class Em{static create(t){return new Em(t)}constructor(t){this.state=t,this.listeners=new Set,this.updateTick=0}subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)});getSnapshot=()=>this.state;setState(t){this.state=t,this.updateTick+=1;const n=this.updateTick,r=this.listeners.values();let i;for(;i=r.next(),!i.done;){if(n!==this.updateTick)return;const o=i.value;o(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){this.setState(W({},this.state,t));return}}set(t,n){Object.is(this.state[t],n)||this.setState(W({},this.state,{[t]:n}))}}class e5{maxListeners=20;warnOnce=!1;events={};on(t,n,r={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),r.isFirst?i.highPriority.set(n,!0):i.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const i=Array.from(r.highPriority.keys()),o=Array.from(r.regular.keys());for(let s=i.length-1;s>=0;s-=1){const l=i[s];r.highPriority.has(l)&&l.apply(this,n)}for(let s=0;s<o.length;s+=1){const l=o[s];r.regular.has(l)&&l.apply(this,n)}}once(t,n){const r=this;this.on(t,function i(...o){r.removeListener(t,i),n.apply(r,o)})}}const PIe=e=>e.isPropagationStopped!==void 0,t5=()=>{const[e]=_.useState(()=>new e5),t=_.useCallback((...r)=>{const[i,o,s={}]=r;s.defaultMuiPrevented=!1,!(PIe(s)&&s.isPropagationStopped())&&e.emit(i,o,s)},[e]),n=_.useCallback((r,i)=>(e.on(r,i),()=>{e.removeListener(r,i)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};t5.params={};const n5=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};n5.params={};const Tm={treeId:lr(e=>e.id.treeId)};let r5=0;const DIe=()=>(r5+=1,`mui-tree-view-${r5}`),Fw=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,iR=({params:e,store:t})=>{_.useEffect(()=>{const r=t.state.id;e.id===r.providedTreeId&&r.treeId!==void 0||t.set("id",W({},r,{treeId:e.id??DIe()}))},[t,e.id]);const n=Er(t,Tm.treeId);return{getRootProps:()=>({id:n})}};iR.params={id:!0},iR.getInitialState=({id:e})=>({id:{treeId:void 0,providedTreeId:e}});const AIe=[t5,n5,iR],LIe=["apiRef"],NIe=e=>{let{props:{apiRef:t},plugins:n}=e,r=Tt(e.props,LIe);const i=_.useMemo(()=>{const l={};return n.forEach(c=>{Object.assign(l,c.params)}),l},[n]),{forwardedProps:o,pluginParams:s}=_.useMemo(()=>{const l={},c={};Object.keys(r).forEach(h=>{const p=r[h];i[h]?l[h]=p:c[h]=p});const u=n.reduce((h,p)=>p.applyDefaultValuesToParams?p.applyDefaultValuesToParams({params:h}):h,l);return{forwardedProps:c,pluginParams:u}},[n,r,i]);return{forwardedProps:o,pluginParams:s,apiRef:t}},BIe=e=>{const{plugins:t,instance:n,publicAPI:r,store:i,rootRef:o}=e,s=_.useCallback(u=>{let h=null,p=null;const g=[],m={};t.forEach(v=>{if(!v.itemPlugin)return;const S=v.itemPlugin({props:u,rootRef:h,contentRef:p});S?.rootRef&&(h=S.rootRef),S?.contentRef&&(p=S.contentRef),S?.propsEnhancers&&(g.push(S.propsEnhancers),Object.keys(S.propsEnhancers).forEach(E=>{m[E]=!0}))});const y=v=>S=>{const E={};return g.forEach(T=>{const O=T[v];O!=null&&Object.assign(E,O(S))}),E},b=Object.fromEntries(Object.keys(m).map(v=>[v,y(v)]));return{contentRef:p,rootRef:h,propsEnhancers:b}},[t]),l=_.useCallback(({itemId:u,children:h,idAttribute:p})=>{let g=h;for(let m=t.length-1;m>=0;m-=1){const y=t[m];y.wrapItem&&(g=y.wrapItem({instance:n,itemId:u,children:g,idAttribute:p}))}return g},[t,n]),c=_.useCallback(({children:u})=>{let h=u;for(let p=t.length-1;p>=0;p-=1){const g=t[p];g.wrapRoot&&(h=g.wrapRoot({children:h}))}return h},[t]);return _.useMemo(()=>({runItemPlugins:s,wrapItem:l,wrapRoot:c,instance:n,publicAPI:r,store:i,rootRef:o}),[s,l,c,n,r,i,o])};function FIe(e){return e.current==null&&(e.current={}),e}function jIe(e){const t=_.useRef({});return e?FIe(e):t}const VIe=({plugins:e,rootRef:t,props:n})=>{const r=_.useMemo(()=>[...AIe,...e],[e]),{pluginParams:i,forwardedProps:o,apiRef:s}=NIe({plugins:r,props:n}),l=KU(()=>({})).current,c=jIe(s),u=_.useRef(null),h=Zn(u,t),p=KU(()=>{const v={};for(const S of r)S.getInitialState&&Object.assign(v,S.getInitialState(i));return new Em(v)}).current,g=BIe({plugins:r,instance:l,publicAPI:c.current,store:p,rootRef:u}),m=[],y=v=>{const S=v({instance:l,params:i,rootRef:u,plugins:r,store:p});S.getRootProps&&m.push(S.getRootProps),S.publicAPI&&Object.assign(c.current,S.publicAPI),S.instance&&Object.assign(l,S.instance)};return r.forEach(y),{getRootProps:(v={})=>{const S=W({role:"tree"},o,v,{ref:h});return m.forEach(E=>{Object.assign(S,E(v))}),S},rootRef:h,contextValue:g}},i5=_.createContext(null),Ch=()=>{const e=_.useContext(i5);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},o5=_.createContext({classes:{},slots:{},slotProps:{}}),s5=()=>_.useContext(o5),oR={};function $Ie(e){const{contextValue:t,classes:n=oR,slots:r=oR,slotProps:i=oR,children:o}=e,s=_.useMemo(()=>({classes:n,slots:{collapseIcon:r.collapseIcon,expandIcon:r.expandIcon,endIcon:r.endIcon},slotProps:{collapseIcon:i.collapseIcon,expandIcon:i.expandIcon,endIcon:i.endIcon}}),[n,r.collapseIcon,r.expandIcon,r.endIcon,i.collapseIcon,i.expandIcon,i.endIcon]);return C.jsx(i5.Provider,{value:t,children:C.jsx(o5.Provider,{value:s,children:t.wrapRoot({children:o})})})}const Mm=(e,t,n)=>{e.$$publishEvent(t,n)},Ff="__TREE_VIEW_ROOT_PARENT_ID__",a5=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},jw=(e,t)=>{if(t==null)return!1;let n=e[t];if(!n)return!1;if(n.disabled)return!0;for(;n.parentId!=null;){if(n=e[n.parentId],!n)return!1;if(n.disabled)return!0}return!1},Om=_.createContext(()=>-1),zIe=[],hn={isLoading:lr(e=>e.items.loading),error:lr(e=>e.items.error),disabledItemFocusable:lr(e=>e.items.disabledItemsFocusable),itemMetaLookup:lr(e=>e.items.itemMetaLookup),itemMeta:lr((e,t)=>e.items.itemMetaLookup[t??Ff]??null),itemOrderedChildrenIds:lr((e,t)=>e.items.itemOrderedChildrenIdsLookup[t??Ff]??zIe),itemModel:lr((e,t)=>e.items.itemModelLookup[t]),isItemDisabled:lr((e,t)=>jw(e.items.itemMetaLookup,t)),itemIndex:lr((e,t)=>{const n=e.items.itemMetaLookup[t];return n==null?-1:e.items.itemChildrenIndexesLookup[n.parentId??Ff][n.id]}),itemParentId:lr((e,t)=>e.items.itemMetaLookup[t]?.parentId??null),itemDepth:lr((e,t)=>e.items.itemMetaLookup[t]?.depth??0),canItemBeFocused:lr((e,t)=>e.items.disabledItemsFocusable||!jw(e.items.itemMetaLookup,t))},UIe=(e,t,n)=>{if(e==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(t)].join(`
`));if(n[e]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e}"`].join(`
`))},sR=({disabledItemsFocusable:e,items:t,isItemDisabled:n,getItemLabel:r,getItemChildren:i,getItemId:o,initialDepth:s=0,initialParentId:l=null,getChildrenCount:c,ignoreChildren:u=!1})=>{const h={},p={},g={[Ff]:[]},m=(b,v,S)=>{const E=o?o(b):b.id;UIe(E,b,h);const T=r?r(b):b.label;if(T==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(b)].join(`
`));const O=i?i(b):b.children;h[E]={id:E,label:T,parentId:S,idAttribute:void 0,expandable:c?c(b)>0:!!O?.length,disabled:n?n(b):!1,depth:v},p[E]=b;const M=S??Ff;g[M]||(g[M]=[]),g[M].push(E),u||O?.forEach(I=>m(I,v+1,E))};t?.forEach(b=>m(b,s,l));const y={};return Object.keys(g).forEach(b=>{y[b]=a5(g[b])}),{disabledItemsFocusable:e,itemMetaLookup:h,itemModelLookup:p,itemOrderedChildrenIdsLookup:g,itemChildrenIndexesLookup:y}},Rm=({instance:e,params:t,store:n})=>{const r=_.useCallback(S=>hn.itemModel(n.state,S),[n]),i=_.useCallback(S=>hn.itemMeta(n.state,S)?.parentId||null,[n]),o=Xt(S=>{n.set("items",W({},n.state.items,{loading:S}))}),s=Xt(S=>{n.set("items",W({},n.state.items,{error:S}))}),l=Xt(({itemId:S,shouldBeDisabled:E})=>{if(!n.state.items.itemMetaLookup[S])return;const T=W({},n.state.items.itemMetaLookup);T[S]=W({},T[S],{disabled:E??!T[S].disabled}),n.set("items",W({},n.state.items,{itemMetaLookup:T}))}),c=_.useCallback(()=>{const S=E=>{const T=hn.itemModel(n.state,E),O=W({},T),M=hn.itemOrderedChildrenIds(n.state,E);return M.length>0?O.children=M.map(S):delete O.children,O};return hn.itemOrderedChildrenIds(n.state,null).map(S)},[n]),u=_.useCallback(S=>hn.itemOrderedChildrenIds(n.state,S),[n]),h=S=>{const E=hn.itemMeta(n.state,S);if(E==null)return null;const T=Fw({treeId:Tm.treeId(n.state),itemId:S,id:E.idAttribute});return document.getElementById(T)},p=_.useRef(!1),g=_.useCallback(()=>{p.current=!0},[]),m=_.useCallback(()=>p.current,[]),y=({items:S,parentId:E,depth:T,getChildrenCount:O})=>{if(S){const M=sR({disabledItemsFocusable:t.disabledItemsFocusable,items:S,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren,getChildrenCount:O,initialDepth:T,initialParentId:E,ignoreChildren:!0});let I;E?I={itemModelLookup:W({},n.state.items.itemModelLookup,M.itemModelLookup),itemMetaLookup:W({},n.state.items.itemMetaLookup,M.itemMetaLookup),itemOrderedChildrenIdsLookup:W({},M.itemOrderedChildrenIdsLookup,n.state.items.itemOrderedChildrenIdsLookup),itemChildrenIndexesLookup:W({},M.itemChildrenIndexesLookup,n.state.items.itemChildrenIndexesLookup)}:I={itemModelLookup:M.itemModelLookup,itemMetaLookup:M.itemMetaLookup,itemOrderedChildrenIdsLookup:M.itemOrderedChildrenIdsLookup,itemChildrenIndexesLookup:M.itemChildrenIndexesLookup},Object.values(n.state.items.itemMetaLookup).forEach(N=>{I.itemMetaLookup[N.id]||Mm(e,"removeItem",{id:N.id})}),n.set("items",W({},n.state.items,I))}},b=S=>{if(S==null)n.set("items",W({},n.state.items,{itemMetaLookup:{},itemOrderedChildrenIdsLookup:{},itemChildrenIndexesLookup:{}}));else{const E=Object.keys(n.state.items.itemMetaLookup).reduce((M,I)=>{const N=n.state.items.itemMetaLookup[I];return N.parentId===S?(Mm(e,"removeItem",{id:N.id}),M):W({},M,{[N.id]:N})},{}),T=W({},n.state.items.itemOrderedChildrenIdsLookup),O=W({},n.state.items.itemChildrenIndexesLookup);delete O[S],delete T[S],n.set("items",W({},n.state.items,{itemMetaLookup:E,itemOrderedChildrenIdsLookup:T,itemChildrenIndexesLookup:O}))}};_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const S=sR({disabledItemsFocusable:t.disabledItemsFocusable,items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel,getItemChildren:t.getItemChildren});Object.values(n.state.items.itemMetaLookup).forEach(E=>{S.itemMetaLookup[E.id]||Mm(e,"removeItem",{id:E.id})}),n.set("items",W({},n.state.items,S))},[e,n,t.items,t.disabledItemsFocusable,t.isItemDisabled,t.getItemId,t.getItemLabel,t.getItemChildren]);const v=Xt((S,E)=>{t.onItemClick&&t.onItemClick(S,E)});return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:r,getItemDOMElement:h,getItemTree:c,getItemOrderedChildrenIds:u,setIsItemDisabled:l,getParentId:i},instance:{getItemDOMElement:h,preventItemUpdates:g,areItemUpdatesPrevented:m,addItems:y,setTreeViewLoading:o,setTreeViewError:s,removeChildren:b,handleItemClick:v}}};Rm.getInitialState=e=>({items:W({},sR({disabledItemsFocusable:e.disabledItemsFocusable,items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel,getItemChildren:e.getItemChildren}),{loading:!1,error:null})}),Rm.applyDefaultValuesToParams=({params:e})=>W({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"}),Rm.wrapRoot=({children:e})=>C.jsx(Om.Provider,{value:hn.itemDepth,children:e}),Rm.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemChildren:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const l5=()=>{},c5=Bf(e=>e.expansion.expandedItems,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),Ki={expandedItemsRaw:lr(e=>e.expansion.expandedItems),expandedItemsMap:c5,triggerSlot:lr(e=>e.expansion.expansionTrigger),isItemExpanded:lr(c5,(e,t)=>e.has(t)),isItemExpandable:lr(hn.itemMeta,(e,t)=>e?.expandable??!1)},u5=({isItemEditable:e,expansionTrigger:t})=>t||(e?"iconContainer":"content"),Vw=({instance:e,store:t,params:n})=>{l5({controlled:n.expandedItems,defaultValue:n.defaultExpandedItems}),pr(()=>{const u=u5({isItemEditable:n.isItemEditable,expansionTrigger:n.expansionTrigger});t.state.expansion.expansionTrigger!==u&&t.set("expansion",W({},t.state.expansion,{expansionTrigger:u}))},[t,n.isItemEditable,n.expansionTrigger]);const r=(u,h)=>{n.expandedItems===void 0&&t.set("expansion",W({},t.state.expansion,{expandedItems:h})),n.onExpandedItemsChange?.(u,h)},i=Xt(()=>{r(null,[])}),o=Xt(({itemId:u,event:h,shouldBeExpanded:p})=>{const g=Ki.expandedItemsRaw(t.state);let m;p?m=[u].concat(g):m=g.filter(y=>y!==u),n.onItemExpansionToggle&&n.onItemExpansionToggle(h,u,p),r(h,m)}),s=Xt(({itemId:u,event:h=null,shouldBeExpanded:p})=>{const g=Ki.isItemExpanded(t.state,u),m=p??!g;if(g===m)return;const y={isExpansionPrevented:!1,shouldBeExpanded:m,event:h,itemId:u};Mm(e,"beforeItemToggleExpansion",y),!y.isExpansionPrevented&&e.applyItemExpansion({itemId:u,event:h,shouldBeExpanded:m})}),l=Xt(u=>Ki.isItemExpandable(t.state,u)),c=(u,h)=>{const p=hn.itemMeta(t.state,h);if(p==null)return;const m=hn.itemOrderedChildrenIds(t.state,p.parentId).filter(b=>Ki.isItemExpandable(t.state,b)&&!Ki.isItemExpanded(t.state,b)),y=Ki.expandedItemsRaw(t.state).concat(m);m.length>0&&(n.onItemExpansionToggle&&m.forEach(b=>{n.onItemExpansionToggle(u,b,!0)}),r(u,y))};return pr(()=>{const u=n.expandedItems;u!==void 0&&t.set("expansion",W({},t.state.expansion,{expandedItems:u}))},[t,n.expandedItems]),{publicAPI:{setItemExpansion:s,isItemExpanded:l},instance:{setItemExpansion:s,applyItemExpansion:o,expandAllSiblings:c,resetItemExpansion:i}}},HIe=[];Vw.applyDefaultValuesToParams=({params:e})=>W({},e,{defaultExpandedItems:e.defaultExpandedItems??HIe}),Vw.getInitialState=e=>({expansion:{expandedItems:e.expandedItems===void 0?e.defaultExpandedItems:e.expandedItems,expansionTrigger:u5(e)}}),Vw.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const aR=(e,t)=>{let n=t.length-1;for(;n>=0&&!hn.canItemBeFocused(e,t[n]);)n-=1;if(n!==-1)return t[n]},d5=(e,t)=>{const n=hn.itemMeta(e,t);if(!n)return null;const r=hn.itemOrderedChildrenIds(e,n.parentId),i=hn.itemIndex(e,t);if(i===0)return n.parentId;let o=i-1;for(;!hn.canItemBeFocused(e,r[o])&&o>=0;)o-=1;if(o===-1)return n.parentId==null?null:d5(e,n.parentId);let s=r[o],l=aR(e,hn.itemOrderedChildrenIds(e,s));for(;Ki.isItemExpanded(e,s)&&l!=null;)s=l,l=aR(e,hn.itemOrderedChildrenIds(e,s));return s},$w=(e,t)=>{if(Ki.isItemExpanded(e,t)){const r=hn.itemOrderedChildrenIds(e,t).find(i=>hn.canItemBeFocused(e,i));if(r!=null)return r}let n=hn.itemMeta(e,t);for(;n!=null;){const r=hn.itemOrderedChildrenIds(e,n.parentId),i=hn.itemIndex(e,n.id);if(i<r.length-1){let o=i+1;for(;!hn.canItemBeFocused(e,r[o])&&o<r.length-1;)o+=1;if(hn.canItemBeFocused(e,r[o]))return r[o]}n=hn.itemMeta(e,n.parentId)}return null},h5=e=>{let t=null;for(;t==null||Ki.isItemExpanded(e,t);){const n=hn.itemOrderedChildrenIds(e,t),r=aR(e,n);if(r==null)return t;t=r}return t},zw=e=>hn.itemOrderedChildrenIds(e,null).find(t=>hn.canItemBeFocused(e,t)),f5=(e,t,n)=>{if(t===n)return[t,n];const r=hn.itemMeta(e,t),i=hn.itemMeta(e,n);if(!r||!i)return[t,n];if(r.parentId===i.id||i.parentId===r.id)return i.parentId===r.id?[r.id,i.id]:[i.id,r.id];const o=[r.id],s=[i.id];let l=r.parentId,c=i.parentId,u=s.indexOf(l)!==-1,h=o.indexOf(c)!==-1,p=!0,g=!0;for(;!h&&!u;)p&&(o.push(l),u=s.indexOf(l)!==-1,p=l!==null,!u&&p&&(l=hn.itemParentId(e,l))),g&&!u&&(s.push(c),h=o.indexOf(c)!==-1,g=c!==null,!h&&g&&(c=hn.itemParentId(e,c)));const m=u?l:c,y=hn.itemOrderedChildrenIds(e,m),b=o[o.indexOf(m)-1],v=s[s.indexOf(m)-1];return y.indexOf(b)<y.indexOf(v)?[t,n]:[n,t]},GIe=(e,t,n)=>{const r=c=>{if(Ki.isItemExpandable(e,c)&&Ki.isItemExpanded(e,c))return hn.itemOrderedChildrenIds(e,c)[0];let u=hn.itemMeta(e,c);for(;u!=null;){const h=hn.itemOrderedChildrenIds(e,u.parentId),p=hn.itemIndex(e,u.id);if(p<h.length-1)return h[p+1];u=u.parentId?hn.itemMeta(e,u.parentId):null}throw new Error("Invalid range")},[i,o]=f5(e,t,n),s=[i];let l=i;for(;l!==o;)l=r(l),hn.isItemDisabled(e,l)||s.push(l);return s},WIe=e=>{let t=zw(e);const n=[];for(;t!=null;)n.push(t),t=$w(e,t);return n},lR=(e,t)=>t!==e.closest('*[role="treeitem"]'),p5=Bf(e=>e.selection.selectedItems,e=>Array.isArray(e)?e:e!=null?[e]:[]),g5=Bf(p5,e=>{const t=new Map;return e.forEach(n=>{t.set(n,!0)}),t}),zr={selectedItemsRaw:lr(e=>e.selection.selectedItems),selectedItems:p5,selectedItemsMap:g5,enabled:lr(e=>e.selection.isEnabled),isMultiSelectEnabled:lr(e=>e.selection.isMultiSelectEnabled),isCheckboxSelectionEnabled:lr(e=>e.selection.isCheckboxSelectionEnabled),propagationRules:lr(e=>e.selection.selectionPropagation),isItemSelected:lr(g5,(e,t)=>e.has(t)),canItemBeSelected:lr(hn.isItemDisabled,e=>e.selection.isEnabled,(e,t,n)=>t&&!e)},Uw=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},m5=({store:e,oldModel:t,newModel:n})=>{const r=new Map;return n.forEach(i=>{r.set(i,!0)}),{added:n.filter(i=>!zr.isItemSelected(e.state,i)),removed:t.filter(i=>!r.has(i))}},KIe=({store:e,selectionPropagation:t,newModel:n,oldModel:r,additionalItemsToPropagate:i})=>{if(!t.descendants&&!t.parents)return n;let o=!1;const s=Uw(n),l=m5({store:e,newModel:n,oldModel:r});return i?.forEach(c=>{s[c]?l.added.includes(c)||l.added.push(c):l.removed.includes(c)||l.removed.push(c)}),l.added.forEach(c=>{if(t.descendants){const u=h=>{h!==c&&(o=!0,s[h]=!0),hn.itemOrderedChildrenIds(e.state,h).forEach(u)};u(c)}if(t.parents){const u=p=>s[p]?hn.itemOrderedChildrenIds(e.state,p).every(u):!1,h=p=>{const g=hn.itemParentId(e.state,p);if(g==null)return;hn.itemOrderedChildrenIds(e.state,g).every(u)&&(o=!0,s[g]=!0,h(g))};h(c)}}),l.removed.forEach(c=>{if(t.parents){let u=hn.itemParentId(e.state,c);for(;u!=null;)s[u]&&(o=!0,delete s[u]),u=hn.itemParentId(e.state,u)}if(t.descendants){const u=h=>{h!==c&&(o=!0,delete s[h]),hn.itemOrderedChildrenIds(e.state,h).forEach(u)};u(c)}}),o?Object.keys(s):n},qIe=lr((e,t)=>{if(zr.isItemSelected(e,t))return"checked";let n=!1,r=!1;const i=s=>{s!==t&&(zr.isItemSelected(e,s)?n=!0:r=!0),hn.itemOrderedChildrenIds(e,s).forEach(i)};return i(t),n&&r?"indeterminate":zr.propagationRules(e).parents&&n&&!r?"checked":"empty"}),YIe=({props:e})=>{const{itemId:t}=e,{store:n}=Ch(),r=Er(n,zr.isCheckboxSelectionEnabled),i=Er(n,zr.canItemBeSelected,t),o=Er(n,qIe,t);return{propsEnhancers:{checkbox:({externalEventHandlers:s,interactions:l})=>({tabIndex:-1,onChange:u=>{s.onChange?.(u),!u.defaultMuiPrevented&&zr.canItemBeSelected(n.state,t)&&l.handleCheckboxSelection(u)},visible:r,disabled:!i,checked:o==="checked",indeterminate:o==="indeterminate"})}}},Im=({store:e,params:t})=>{l5({controlled:t.selectedItems,defaultValue:t.defaultSelectedItems});const n=_.useRef(null),r=_.useRef({}),i=(g,m,y)=>{const b=zr.selectedItemsRaw(e.state);let v;const S=zr.isMultiSelectEnabled(e.state);if(S&&(t.selectionPropagation.descendants||t.selectionPropagation.parents)?v=KIe({store:e,selectionPropagation:t.selectionPropagation,newModel:m,oldModel:b,additionalItemsToPropagate:y}):v=m,t.onItemSelectionToggle)if(S){const E=m5({store:e,newModel:v,oldModel:b});t.onItemSelectionToggle&&(E.added.forEach(T=>{t.onItemSelectionToggle(g,T,!0)}),E.removed.forEach(T=>{t.onItemSelectionToggle(g,T,!1)}))}else t.onItemSelectionToggle&&v!==b&&(b!=null&&t.onItemSelectionToggle(g,b,!1),v!=null&&t.onItemSelectionToggle(g,v,!0));t.selectedItems===void 0&&e.set("selection",W({},e.state.selection,{selectedItems:v})),t.onSelectedItemsChange?.(g,v)},o=({itemId:g,event:m=null,keepExistingSelection:y=!1,shouldBeSelected:b})=>{if(!zr.enabled(e.state))return;let v;const S=zr.isMultiSelectEnabled(e.state);if(y){const E=zr.selectedItems(e.state),T=zr.isItemSelected(e.state,g);T&&(b===!1||b==null)?v=E.filter(O=>O!==g):!T&&(b===!0||b==null)?v=[g].concat(E):v=E}else b===!1||b==null&&zr.isItemSelected(e.state,g)?v=S?[]:null:v=S?[g]:g;i(m,v,[g]),n.current=g,r.current={}},s=(g,[m,y])=>{if(!zr.isMultiSelectEnabled(e.state))return;let v=zr.selectedItems(e.state).slice();Object.keys(r.current).length>0&&(v=v.filter(O=>!r.current[O]));const S=Uw(v),E=GIe(e.state,m,y),T=E.filter(O=>!S[O]);v=v.concat(T),i(g,v),r.current=Uw(E)},l=(g,m)=>{if(n.current!=null){const[y,b]=f5(e.state,m,n.current);s(g,[y,b])}},c=(g,m)=>{s(g,[zw(e.state),m])},u=(g,m)=>{s(g,[m,h5(e.state)])},h=g=>{if(!zr.isMultiSelectEnabled(e.state))return;const y=WIe(e.state);i(g,y),r.current=Uw(y)},p=(g,m,y)=>{if(!zr.isMultiSelectEnabled(e.state))return;let v=zr.selectedItems(e.state).slice();Object.keys(r.current).length===0?(v.push(y),r.current={[m]:!0,[y]:!0}):(r.current[m]||(r.current={}),r.current[y]?(v=v.filter(S=>S!==m),delete r.current[m]):(v.push(y),r.current[y]=!0)),i(g,v)};return pr(()=>{e.set("selection",{selectedItems:t.selectedItems===void 0?e.state.selection.selectedItems:t.selectedItems,isEnabled:!t.disableSelection,isMultiSelectEnabled:t.multiSelect,isCheckboxSelectionEnabled:t.checkboxSelection,selectionPropagation:{descendants:t.selectionPropagation.descendants,parents:t.selectionPropagation.parents}})},[e,t.selectedItems,t.multiSelect,t.checkboxSelection,t.disableSelection,t.selectionPropagation.descendants,t.selectionPropagation.parents]),{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{setItemSelection:o},instance:{setItemSelection:o,selectAllNavigableItems:h,expandSelectionRange:l,selectRangeFromStartToItem:c,selectRangeFromItemToEnd:u,selectItemFromArrowNavigation:p}}};Im.itemPlugin=YIe;const XIe=[],ZIe={};Im.applyDefaultValuesToParams=({params:e})=>W({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?XIe:null),selectionPropagation:e.selectionPropagation??ZIe}),Im.getInitialState=e=>({selection:{selectedItems:e.selectedItems===void 0?e.defaultSelectedItems:e.selectedItems,isEnabled:!e.disableSelection,isMultiSelectEnabled:e.multiSelect,isCheckboxSelectionEnabled:e.checkboxSelection,selectionPropagation:e.selectionPropagation}}),Im.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0,selectionPropagation:!0};const v5=1e3;let QIe=class{timeouts=new Map;cleanupTimeout=v5;constructor(t=v5){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}},JIe=class{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}},eke=class{};function tke(e){let t=0;return function(r,i,o){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new JIe:new QIe);const[s]=_.useState(new eke),l=_.useRef(null),c=_.useRef(void 0);c.current=o;const u=_.useRef(null);if(!l.current&&c.current){const h=(p,g)=>{g.defaultMuiPrevented||c.current?.(p,g)};l.current=r.$$subscribeEvent(i,h),t+=1,u.current={cleanupToken:t},e.registry.register(s,()=>{l.current?.(),l.current=null,u.current=null},u.current)}else!c.current&&l.current&&(l.current(),l.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));_.useEffect(()=>{if(!l.current&&c.current){const h=(p,g)=>{g.defaultMuiPrevented||c.current?.(p,g)};l.current=r.$$subscribeEvent(i,h)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{l.current?.(),l.current=null}},[r,i])}}const nke=tke({registry:null}),y5=Bf(zr.selectedItems,Ki.expandedItemsMap,hn.itemMetaLookup,hn.disabledItemFocusable,e=>hn.itemOrderedChildrenIds(e,null),(e,t,n,r,i)=>{const o=e.find(l=>{if(!r&&jw(n,l))return!1;const c=n[l];return c&&(c.parentId==null||t.has(c.parentId))});if(o!=null)return o;const s=i.find(l=>r||!jw(n,l));return s??null}),xh={defaultFocusableItemId:y5,isItemTheDefaultFocusableItem:lr(y5,(e,t)=>e===t),focusedItemId:lr(e=>e.focus.focusedItemId),isItemFocused:lr((e,t)=>e.focus.focusedItemId===t)},cR=({instance:e,params:t,store:n})=>{const r=Xt(h=>{xh.focusedItemId(n.state)!==h&&n.set("focus",W({},n.state.focus,{focusedItemId:h}))}),i=h=>{const p=hn.itemMeta(n.state,h);return p&&(p.parentId==null||Ki.isItemExpanded(n.state,p.parentId))},o=(h,p)=>{const g=e.getItemDOMElement(p);g&&g.focus(),r(p),t.onItemFocus&&t.onItemFocus(h,p)},s=Xt((h,p)=>{i(p)&&o(h,p)}),l=Xt(()=>{const h=xh.focusedItemId(n.state);if(h==null)return;if(hn.itemMeta(n.state,h)){const g=e.getItemDOMElement(h);g&&g.blur()}r(null)});nke(e,"removeItem",({id:h})=>{const p=xh.focusedItemId(n.state),g=xh.defaultFocusableItemId(n.state);p===h&&g!=null&&o(null,g)});const c=h=>p=>{if(h.onFocus?.(p),p.defaultMuiPrevented)return;const g=xh.defaultFocusableItemId(n.state);p.target===p.currentTarget&&g!=null&&o(p,g)},u=h=>p=>{h.onBlur?.(p),!p.defaultMuiPrevented&&r(null)};return{getRootProps:h=>({onFocus:c(h),onBlur:u(h)}),publicAPI:{focusItem:s},instance:{focusItem:s,removeFocusedItem:l}}};cR.getInitialState=()=>({focus:{focusedItemId:null}}),cR.params={onItemFocus:!0};const Hw=(e,t)=>e.getAvailablePlugins().has(t),Pc={isItemEditable:lr(e=>e.label?.isItemEditable,hn.itemModel,(e,t,n)=>!t||e==null?!1:typeof e=="boolean"?e:e(t)),isItemBeingEdited:lr((e,t)=>t==null?!1:e.label?.editedItemId===t),isAnyItemBeingEdited:lr(e=>!!e.label?.editedItemId)},rke=({props:e})=>{const{store:t}=Ch(),{label:n,itemId:r}=e,[i,o]=_.useState(n),s=Er(t,Pc.isItemEditable,r),l=Er(t,Pc.isItemBeingEdited,r);return _.useEffect(()=>{l||o(n)},[l,n]),{propsEnhancers:{label:()=>({editable:s}),labelInput:({externalEventHandlers:c,interactions:u})=>s?{value:i??"","data-element":"labelInput",onChange:m=>{c.onChange?.(m),o(m.target.value)},onKeyDown:m=>{if(c.onKeyDown?.(m),m.defaultMuiPrevented)return;const y=m.target;m.key==="Enter"&&y.value?u.handleSaveItemLabel(m,y.value):m.key==="Escape"&&u.handleCancelItemLabelEditing(m)},onBlur:m=>{c.onBlur?.(m),!m.defaultMuiPrevented&&m.target.value&&u.handleSaveItemLabel(m,m.target.value)},autoFocus:!0,type:"text"}:{}}}},Lu=({store:e,params:t})=>{const n=i=>{i!==null&&!Pc.isItemEditable(e.state,i)||e.set("label",W({},e.state.label,{editedItemId:i}))},r=(i,o)=>{if(!o)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",i].join(`
`));const s=e.state.items.itemMetaLookup[i];s.label!==o&&(e.set("items",W({},e.state.items,{itemMetaLookup:W({},e.state.items.itemMetaLookup,{[i]:W({},s,{label:o})})})),t.onItemLabelChange&&t.onItemLabelChange(i,o))};return pr(()=>{e.set("label",W({},e.state.items,{isItemEditable:t.isItemEditable}))},[e,t.isItemEditable]),{instance:{setEditedItem:n,updateItemLabel:r},publicAPI:{setEditedItem:n,updateItemLabel:r}}};Lu.itemPlugin=rke,Lu.applyDefaultValuesToParams=({params:e})=>W({},e,{isItemEditable:e.isItemEditable??!1}),Lu.getInitialState=e=>({label:{isItemEditable:e.isItemEditable,editedItemId:null}}),Lu.params={onItemLabelChange:!0,isItemEditable:!0};function ike(e){return!!e&&e.length===1&&!!e.match(/\S/)}const b5=({instance:e,store:t,params:n})=>{const r=Oo(),i=_.useRef({}),o=Xt(p=>{i.current=p(i.current)}),s=Er(t,hn.itemMetaLookup);_.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const p={},g=m=>{p[m.id]=m.label.substring(0,1).toLowerCase()};Object.values(s).forEach(g),i.current=p},[s,n.getItemId,e]);const l=(p,g)=>{const m=g.toLowerCase(),y=E=>{const T=$w(t.state,E);return T===null?zw(t.state):T};let b=null,v=y(p);const S={};for(;b==null&&!S[v];)i.current[v]===m?b=v:(S[v]=!0,v=y(v));return b},c=p=>zr.enabled(t.state)&&!hn.isItemDisabled(t.state,p),u=p=>!hn.isItemDisabled(t.state,p)&&Ki.isItemExpandable(t.state,p);return{instance:{updateFirstCharMap:o,handleItemKeyDown:async(p,g)=>{if(p.defaultMuiPrevented||p.altKey||lR(p.target,p.currentTarget))return;const m=p.ctrlKey||p.metaKey,y=p.key,b=zr.isMultiSelectEnabled(t.state);switch(!0){case(y===" "&&c(g)):{p.preventDefault(),b&&p.shiftKey?e.expandSelectionRange(p,g):e.setItemSelection({event:p,itemId:g,keepExistingSelection:b,shouldBeSelected:void 0});break}case y==="Enter":{Hw(e,Lu)&&Pc.isItemEditable(t.state,g)&&!Pc.isItemBeingEdited(t.state,g)?e.setEditedItem(g):u(g)?(e.setItemExpansion({event:p,itemId:g}),p.preventDefault()):c(g)&&(b?(p.preventDefault(),e.setItemSelection({event:p,itemId:g,keepExistingSelection:!0})):zr.isItemSelected(t.state,g)||(e.setItemSelection({event:p,itemId:g}),p.preventDefault()));break}case y==="ArrowDown":{const v=$w(t.state,g);v&&(p.preventDefault(),e.focusItem(p,v),b&&p.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(p,g,v));break}case y==="ArrowUp":{const v=d5(t.state,g);v&&(p.preventDefault(),e.focusItem(p,v),b&&p.shiftKey&&c(v)&&e.selectItemFromArrowNavigation(p,g,v));break}case(y==="ArrowRight"&&!r||y==="ArrowLeft"&&r):{if(m)return;if(Ki.isItemExpanded(t.state,g)){const v=$w(t.state,g);v&&(e.focusItem(p,v),p.preventDefault())}else u(g)&&(e.setItemExpansion({event:p,itemId:g}),p.preventDefault());break}case(y==="ArrowLeft"&&!r||y==="ArrowRight"&&r):{if(m)return;if(u(g)&&Ki.isItemExpanded(t.state,g))e.setItemExpansion({event:p,itemId:g}),p.preventDefault();else{const v=hn.itemParentId(t.state,g);v&&(e.focusItem(p,v),p.preventDefault())}break}case y==="Home":{c(g)&&b&&m&&p.shiftKey?e.selectRangeFromStartToItem(p,g):e.focusItem(p,zw(t.state)),p.preventDefault();break}case y==="End":{c(g)&&b&&m&&p.shiftKey?e.selectRangeFromItemToEnd(p,g):e.focusItem(p,h5(t.state)),p.preventDefault();break}case y==="*":{e.expandAllSiblings(p,g),p.preventDefault();break}case(String.fromCharCode(p.keyCode)==="A"&&m&&b&&zr.enabled(t.state)):{e.selectAllNavigableItems(p),p.preventDefault();break}case(!m&&!p.shiftKey&&ike(y)):{const v=l(g,y);v!=null&&(e.focusItem(p,v),p.preventDefault());break}}}}}};b5.params={};function oke(e){return e.replace(/["\\]/g,"\\$&")}const w5=_.createContext(null);function S5(e){const{children:t,itemId:n=null,idAttribute:r}=e,{instance:i,store:o,rootRef:s}=Ch(),l=_.useRef(new Map);_.useEffect(()=>{if(!s.current)return;const u=hn.itemOrderedChildrenIds(o.state,n??null)??[],h=oke(r??s.current.id);if(n!=null){const y=s.current.querySelector(`*[id="${h}"][role="treeitem"]`);if(y&&y.getAttribute("aria-expanded")==="false")return}const p=s.current.querySelectorAll(`${n==null?"":`*[id="${h}"] `}[role="treeitem"]:not(*[id="${h}"] [role="treeitem"] [role="treeitem"])`),g=Array.from(p).map(y=>l.current.get(y.id));(g.length!==u.length||g.some((y,b)=>y!==u[b]))&&i.setJSXItemsOrderedChildrenIds(n??null,g)});const c=_.useMemo(()=>({registerChild:(u,h)=>l.current.set(u,h),unregisterChild:u=>l.current.delete(u),parentId:n}),[n]);return C.jsx(w5.Provider,{value:c,children:t})}const C5={dataSource:lr(e=>e.lazyLoading?.dataSource),isItemLoading:lr((e,t)=>e.lazyLoading?.dataSource.loading[t]??!1),itemHasError:lr((e,t)=>!!e.lazyLoading?.dataSource.errors[t])},uR=e=>Array.isArray(e)?e.length>0&&e.some(uR):!!e,ske=({itemId:e,children:t})=>{const{instance:n,store:r,publicAPI:i}=Ch(),o=Er(r,Ki.isItemExpandable,e),s=Er(r,C5.isItemLoading,e),l=Er(r,C5.itemHasError,e),c=uR(t)||o,u=Er(r,Ki.isItemExpanded,e),h=Er(r,xh.isItemFocused,e),p=Er(r,zr.isItemSelected,e),g=Er(r,hn.isItemDisabled,e),m=Er(r,Pc.isItemBeingEdited,e),y=Er(r,Pc.isItemEditable,e),b={expandable:c,expanded:u,focused:h,selected:p,disabled:g,editing:m,editable:y,loading:s,error:l},v=N=>{if(b.disabled)return;b.focused||n.focusItem(N,e);const D=zr.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey);b.expandable&&!(D&&Ki.isItemExpanded(r.state,e))&&n.setItemExpansion({event:N,itemId:e})},S=N=>{if(b.disabled)return;!b.focused&&!b.editing&&n.focusItem(N,e),zr.isMultiSelectEnabled(r.state)&&(N.shiftKey||N.ctrlKey||N.metaKey)?N.shiftKey?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:!0}):n.setItemSelection({event:N,itemId:e,shouldBeSelected:!0})},E=N=>{const D=N.nativeEvent.shiftKey,L=zr.isMultiSelectEnabled(r.state);L&&D?n.expandSelectionRange(N,e):n.setItemSelection({event:N,itemId:e,keepExistingSelection:L,shouldBeSelected:N.target.checked})},T=()=>{Hw(n,Lu)&&(m?n.setEditedItem(null):n.setEditedItem(e))};return{interactions:{handleExpansion:v,handleSelection:S,handleCheckboxSelection:E,toggleItemEditing:T,handleSaveItemLabel:(N,D)=>{Hw(n,Lu)&&Pc.isItemBeingEdited(r.state,e)&&(n.updateItemLabel(e,D),T(),n.focusItem(N,e))},handleCancelItemLabelEditing:N=>{Hw(n,Lu)&&Pc.isItemBeingEdited(r.state,e)&&(T(),n.focusItem(N,e))}},status:b,publicAPI:i}},km=({instance:e,store:t})=>{e.preventItemUpdates();const n=Xt(o=>{if(t.state.items.itemMetaLookup[o.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${o.id}"`].join(`
`));return t.set("items",W({},t.state.items,{itemMetaLookup:W({},t.state.items.itemMetaLookup,{[o.id]:o}),itemModelLookup:W({},t.state.items.itemModelLookup,{[o.id]:{id:o.id,label:o.label??""}})})),()=>{const s=W({},t.state.items.itemMetaLookup),l=W({},t.state.items.itemModelLookup);delete s[o.id],delete l[o.id],t.set("items",W({},t.state.items,{itemMetaLookup:s,itemModelLookup:l})),Mm(e,"removeItem",{id:o.id})}}),r=(o,s)=>{const l=o??Ff;t.set("items",W({},t.state.items,{itemOrderedChildrenIdsLookup:W({},t.state.items.itemOrderedChildrenIdsLookup,{[l]:s}),itemChildrenIndexesLookup:W({},t.state.items.itemChildrenIndexesLookup,{[l]:a5(s)})}))},i=Xt((o,s)=>(e.updateFirstCharMap(l=>(l[o]=s,l)),()=>{e.updateFirstCharMap(l=>{const c=W({},l);return delete c[o],c})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:i}}},ake=({props:e,rootRef:t,contentRef:n})=>{const{instance:r,store:i}=Ch(),{children:o,disabled:s=!1,label:l,itemId:c,id:u}=e,h=_.useContext(w5);if(h==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:p,unregisterChild:g,parentId:m}=h,y=uR(o),b=_.useRef(null),v=Zn(b,n),S=Er(i,Tm.treeId);return pr(()=>{const E=Fw({itemId:c,treeId:S,id:u});return p(E,c),()=>{g(E),g(E)}},[i,r,p,g,c,u,S]),pr(()=>r.insertJSXItem({id:c,idAttribute:u,parentId:m,expandable:y,disabled:s}),[r,m,c,y,s,u]),_.useEffect(()=>{if(l)return r.mapFirstCharFromJSX(c,(b.current?.textContent??"").substring(0,1).toLowerCase())},[r,c,l]),{contentRef:v,rootRef:t}};km.itemPlugin=ake,km.wrapItem=({children:e,itemId:t,idAttribute:n})=>{const r=_.useContext(Om);return C.jsx(S5,{itemId:t,idAttribute:n,children:C.jsx(Om.Provider,{value:r+1,children:e})})},km.wrapRoot=({children:e})=>C.jsx(S5,{itemId:null,idAttribute:null,children:C.jsx(Om.Provider,{value:0,children:e})}),km.params={};const lke=[Rm,Vw,Im,cR,b5,km],cke=["slots","slotProps"],uke=GU(),dke=e=>{const{classes:t}=e;return _.useMemo(()=>_t({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},dIe,t),[t])},hke=Te("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),fke=[],dR=_.forwardRef(function(t,n){const r=uke({props:t,name:"MuiSimpleTreeView"}),{slots:i,slotProps:o}=r,s=Tt(r,cke),{getRootProps:l,contextValue:c}=VIe({plugins:lke,rootRef:n,props:W({},s,{items:fke})}),u=dke(r),h=i?.root??hke,p=Ro({elementType:h,externalSlotProps:o?.root,className:u.root,getSlotProps:l,ownerState:r});return C.jsx($Ie,{contextValue:c,classes:u,slots:i,slotProps:o,children:C.jsx(h,W({},p))})}),pke=Object.is;function x5(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const i in e)if(n+=1,!pke(e[i],t[i])||!(i in t))return!1;for(const i in t)r+=1;return n===r}const gke=e=>{const{runItemPlugins:t,instance:n,publicAPI:r,store:i}=Ch(),o=_.useContext(Om),s=Er(i,(...me)=>typeof o=="function"?o(...me):o,e.itemId),{id:l,itemId:c,label:u,children:h,rootRef:p}=e,{rootRef:g,contentRef:m,propsEnhancers:y}=t(e),{interactions:b,status:v}=ske({itemId:c,children:h}),S=_.useRef(null),E=_.useRef(null),T=Zn(p,g,S),O=Zn(m,E),M=_.useRef(null),I=Er(i,Tm.treeId),N=Er(i,zr.canItemBeSelected,c),D=Er(i,zr.isCheckboxSelectionEnabled),L=Fw({itemId:c,treeId:I,id:l}),A=Er(i,xh.isItemTheDefaultFocusableItem,c),$={rootRefObject:S,contentRefObject:E,interactions:b},j=me=>ye=>{me.onFocus?.(ye),!ye.defaultMuiPrevented&&!v.focused&&hn.canItemBeFocused(i.state,c)&&ye.currentTarget===ye.target&&n.focusItem(ye,c)},U=me=>ye=>{if(me.onBlur?.(ye),ye.defaultMuiPrevented)return;const xe=n.getItemDOMElement(c);v.editing||ye.relatedTarget&&lR(ye.relatedTarget,xe)&&(ye.target&&ye.target?.dataset?.element==="labelInput"&&lR(ye.target,xe)||ye.relatedTarget?.dataset?.element==="labelInput")||n.removeFocusedItem()},K=me=>ye=>{me.onKeyDown?.(ye),!(ye.defaultMuiPrevented||ye.target?.dataset?.element==="labelInput")&&n.handleItemKeyDown(ye,c)},q=me=>ye=>{me.onDoubleClick?.(ye),!ye.defaultMuiPrevented&&b.toggleItemEditing()},z=me=>ye=>{me.onClick?.(ye),n.handleItemClick(ye,c),!(ye.defaultMuiPrevented||M.current?.contains(ye.target))&&(Ki.triggerSlot(i.state)==="content"&&b.handleExpansion(ye),D||b.handleSelection(ye))},Y=me=>ye=>{me.onMouseDown?.(ye),!ye.defaultMuiPrevented&&(ye.shiftKey||ye.ctrlKey||ye.metaKey||v.disabled)&&ye.preventDefault()},te=me=>ye=>{me.onClick?.(ye),!ye.defaultMuiPrevented&&Ki.triggerSlot(i.state)==="iconContainer"&&b.handleExpansion(ye)};return{getContextProviderProps:()=>({itemId:c,id:l}),getRootProps:(me={})=>{const ye=W({},Ws(e),Ws(me));let xe;v.selected?xe=!0:N?xe=!1:xe=void 0;const Ie=W({},ye,{ref:T,role:"treeitem",tabIndex:A?0:-1,id:L,"aria-expanded":v.expandable?v.expanded:void 0,"aria-selected":xe,"aria-disabled":v.disabled||void 0},me,{style:W({},me.style??{},{"--TreeView-itemDepth":s}),onFocus:j(ye),onBlur:U(ye),onKeyDown:K(ye)}),Pe=y.root?.(W({},$,{externalEventHandlers:ye}))??{};return W({},Ie,Pe)},getContentProps:(me={})=>{const ye=Ws(me),xe=W({},ye,me,{ref:O,onClick:z(ye),onMouseDown:Y(ye),status:v});["expanded","selected","focused","disabled","editing","editable"].forEach(Pe=>{v[Pe]&&(xe[`data-${Pe}`]="")});const Ie=y.content?.(W({},$,{externalEventHandlers:ye}))??{};return W({},xe,Ie)},getGroupTransitionProps:(me={})=>{const ye=Ws(me);return W({},ye,{unmountOnExit:!0,component:"ul",role:"group",in:v.expanded,children:h},me)},getIconContainerProps:(me={})=>{const ye=Ws(me);return W({},ye,me,{onClick:te(ye)})},getCheckboxProps:(me={})=>{const ye=Ws(me),xe=W({},ye,{ref:M,"aria-hidden":!0},me),Ie=y.checkbox?.(W({},$,{externalEventHandlers:ye}))??{};return W({},xe,Ie)},getLabelProps:(me={})=>{const ye=W({},Ws(me)),xe=W({},ye,{children:u},me,{onDoubleClick:q(ye)}),Ie=y.label?.(W({},$,{externalEventHandlers:ye}))??{};return W({},Ie,xe)},getLabelInputProps:(me={})=>{const ye=Ws(me),xe=y.labelInput?.(W({},$,{externalEventHandlers:ye}))??{};return W({},me,xe)},getDragAndDropOverlayProps:(me={})=>{const ye=Ws(me),xe=y.dragAndDropOverlay?.(W({},$,{externalEventHandlers:ye}))??{};return W({},me,xe)},getErrorContainerProps:(me={})=>{const ye=Ws(me);return W({},ye,me)},getLoadingContainerProps:(me={})=>{const ye=Ws(me);return W({size:"12px",thickness:6},ye,me)},rootRef:T,status:v,publicAPI:r}};function mke(e){return cn("MuiTreeItem",e)}const Dc=on("MuiTreeItem",["root","content","groupTransition","iconContainer","label","checkbox","labelInput","dragAndDropOverlay","errorIcon","loadingIcon","expanded","selected","focused","disabled","editable","editing"]),vke=Lt(C.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),yke=Lt(C.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function bke(e){const{slots:t,slotProps:n,status:r}=e,{slots:i,slotProps:o}=s5(),s={collapseIcon:t?.collapseIcon??i.collapseIcon??yke,expandIcon:t?.expandIcon??i.expandIcon??vke,endIcon:t?.endIcon??i.endIcon,icon:t?.icon};let l;s?.icon?l="icon":r.expandable?r.expanded?l="collapseIcon":l="expandIcon":l="endIcon";const c=s[l],u=Ro({elementType:c,externalSlotProps:h=>W({},sw(o[l],h),sw(n?.[l],h)),ownerState:{}});return c?C.jsx(c,W({},u)):null}const wke=Te("div",{name:"MuiTreeItemDragAndDropOverlay",slot:"Root",shouldForwardProp:e=>Tf(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:Sa(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function Ske(e){return e.action==null?null:C.jsx(wke,W({},e))}function Cke(e){const{children:t,itemId:n,id:r}=e,{wrapItem:i,instance:o,store:s}=Ch(),l=Er(s,Tm.treeId),c=Fw({itemId:n,treeId:l,id:r});return C.jsx(_.Fragment,{children:i({children:t,itemId:n,instance:o,idAttribute:c})})}const xke=Te("input",{name:"MuiTreeItem",slot:"LabelInput"})(({theme:e})=>W({},e.typography.body1,{width:"100%",backgroundColor:(e.vars||e).palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${(e.vars||e).palette.primary.main}`}})),_ke=["visible"],Eke=["id","itemId","label","disabled","children","slots","slotProps","classes"],Tke=GU(),Mke=Te("li",{name:"MuiTreeItem",slot:"Root"})({listStyle:"none",margin:0,padding:0,outline:0}),Oke=Te("div",{name:"MuiTreeItem",slot:"Content",shouldForwardProp:e=>Tf(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`,borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&[data-disabled]":{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},"&[data-focused]":{backgroundColor:(e.vars||e).palette.action.focus},"&[data-selected]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity)}}},"&[data-selected][data-focused]":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Sa(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}})),Rke=Te("div",{name:"MuiTreeItem",slot:"Label",shouldForwardProp:e=>Tf(e)&&e!=="editable"})(({theme:e})=>W({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative",overflow:"hidden"},e.typography.body1,{variants:[{props:({editable:t})=>t,style:{paddingLeft:"2px"}}]})),Ike=Te("div",{name:"MuiTreeItem",slot:"IconContainer"})({width:16,display:"flex",flexShrink:0,justifyContent:"center",position:"relative","& svg":{fontSize:18}}),kke=Te(hO,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0}),Pke=Te("div",{name:"MuiTreeItem",slot:"ErrorIcon"})({position:"absolute",right:-3,width:7,height:7,borderRadius:"50%",backgroundColor:"red"}),Dke=Te(If,{name:"MuiTreeItem",slot:"LoadingIcon"})({color:"text.primary"}),Ake=Te(_.forwardRef((e,t)=>{const{visible:n}=e,r=Tt(e,_ke);return n?C.jsx(Xl,W({},r,{ref:t})):null}),{name:"MuiTreeItem",slot:"Checkbox"})({padding:0}),Lke=e=>{const{classes:t}=s5(),n=W({},e,{root:Je(e?.root,t.root),content:Je(e?.content,t.itemContent),iconContainer:Je(e?.iconContainer,t.itemIconContainer),checkbox:Je(e?.checkbox,t.itemCheckbox),label:Je(e?.label,t.itemLabel),groupTransition:Je(e?.groupTransition,t.itemGroupTransition),labelInput:Je(e?.labelInput,t.itemLabelInput),dragAndDropOverlay:Je(e?.dragAndDropOverlay,t.itemDragAndDropOverlay),errorIcon:Je(e?.errorIcon,t.itemErrorIcon),loadingIcon:Je(e?.loadingIcon,t.itemLoadingIcon)});return _t({root:["root"],content:["content"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],groupTransition:["groupTransition"],labelInput:["labelInput"],dragAndDropOverlay:["dragAndDropOverlay"],errorIcon:["errorIcon"],loadingIcon:["loadingIcon"],expanded:["expanded"],editing:["editing"],editable:["editable"],selected:["selected"],focused:["focused"],disabled:["disabled"]},mke,n)},Nu=_.forwardRef(function(t,n){const r=Tke({props:t,name:"MuiTreeItem"}),{id:i,itemId:o,label:s,disabled:l,children:c,slots:u={},slotProps:h={},classes:p}=r,g=Tt(r,Eke),{getContextProviderProps:m,getRootProps:y,getContentProps:b,getIconContainerProps:v,getCheckboxProps:S,getLabelProps:E,getGroupTransitionProps:T,getLabelInputProps:O,getDragAndDropOverlayProps:M,getErrorContainerProps:I,getLoadingContainerProps:N,status:D}=gke({id:i,itemId:o,children:c,label:s,disabled:l}),L=Lke(p),A=u.root??Mke,$=Ro({elementType:A,getSlotProps:y,externalForwardedProps:g,externalSlotProps:h.root,additionalProps:{ref:n},ownerState:{},className:L.root}),j=u.content??Oke,U=Ro({elementType:j,getSlotProps:b,externalSlotProps:h.content,ownerState:{},className:Je(L.content,D.expanded&&L.expanded,D.selected&&L.selected,D.focused&&L.focused,D.disabled&&L.disabled,D.editing&&L.editing,D.editable&&L.editable)}),K=u.iconContainer??Ike,q=Ro({elementType:K,getSlotProps:v,externalSlotProps:h.iconContainer,ownerState:{},className:L.iconContainer}),z=u.label??Rke,Y=Ro({elementType:z,getSlotProps:E,externalSlotProps:h.label,ownerState:{},className:L.label}),te=u.checkbox??Ake,ie=Ro({elementType:te,getSlotProps:S,externalSlotProps:h.checkbox,ownerState:{},className:L.checkbox}),Q=u.groupTransition??void 0,H=Ro({elementType:Q,getSlotProps:T,externalSlotProps:h.groupTransition,ownerState:{},className:L.groupTransition}),X=u.labelInput??xke,he=Ro({elementType:X,getSlotProps:O,externalSlotProps:h.labelInput,ownerState:{},className:L.labelInput}),pe=u.dragAndDropOverlay??Ske,ge=Ro({elementType:pe,getSlotProps:M,externalSlotProps:h.dragAndDropOverlay,ownerState:{},className:L.dragAndDropOverlay}),ce=u.errorIcon??Pke,be=Ro({elementType:ce,getSlotProps:I,externalSlotProps:h.errorIcon,ownerState:{},className:L.errorIcon}),Ne=u.loadingIcon??Dke,_e=Ro({elementType:Ne,getSlotProps:N,externalSlotProps:h.loadingIcon,ownerState:{},className:L.loadingIcon});return C.jsx(Cke,W({},m(),{children:C.jsxs(A,W({},$,{children:[C.jsxs(j,W({},U,{children:[C.jsxs(K,W({},q,{children:[D.error&&C.jsx(ce,W({},be)),D.loading?C.jsx(Ne,W({},_e)):C.jsx(bke,{status:D,slots:u,slotProps:h})]})),C.jsx(te,W({},ie)),D.editing?C.jsx(X,W({},he)):C.jsx(z,W({},Y)),C.jsx(pe,W({},ge))]})),c&&C.jsx(kke,W({as:Q},H))]}))}))}),hR=Te("div",{name:"FlexRow"})({boxSizing:"border-box",display:"flex",flexDirection:"row",width:"100%",height:"100%",minWidth:0,minHeight:0}),fR=Te("div",{name:"FlexCol"})({boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",height:"100%",minWidth:0,minHeight:0}),Nke=Te("div",{name:"RollPanel",shouldForwardProp:e=>e!=="width"&&e!=="minimized"&&e!=="reverse"})(({minimized:e,width:t,reverse:n})=>({boxSizing:"border-box",display:"flex",...!n&&{overflow:"hidden"},flexDirection:n?"row-reverse":"row",transition:"width 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",flexShrink:0,height:"100%",minWidth:0,width:e?20:t})),Bke=Te("div",{name:"RollPanel",slot:"content",shouldForwardProp:e=>e!=="width"&&e!=="minimized"})(({width:e})=>({boxSizing:"border-box",display:"flex",flexDirection:"column",userSelect:"none",height:"100%",flexShrink:0,width:e}));function pR({width:e,minimized:t,button:n,children:r,reverse:i}){return C.jsxs(Nke,{width:e,minimized:t,reverse:i,children:[t&&n,C.jsx(Bke,{width:e,children:r})]})}Te(fR)({transition:"ease-in 0.15s",overflow:"hidden",userSelect:"none"});const _5=Te(Fn)({padding:0,borderRadius:0});Te(Nu)({fontSize:"1rem"});function Fke(){return null}function Gw(){return C.jsx(vm,{flexItem:!0,orientation:"vertical"})}Gw.muiName="Divider";function dl(){return C.jsx(vm,{flexItem:!0,orientation:"horizontal"})}dl.muiNames="Divider";const jke=Te(Wi)({whiteSpace:"pre",userSelect:"none"});jke.displayName="NonSelectableTypo";const jf=_.forwardRef(function(t,n){return C.jsx(Wi,{ref:n,component:"span",...t})});jf.muiName="Typography";const Vke=Te("img",{name:"FileImageIcon"})({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"}),E5=Te("div",{name:"SettingsFormWrapper"})({display:"flex",flexDirection:"row",position:"absolute",top:"50%",left:"50%",width:"60%",height:600,transform:"translate(-50%, -50%)",backgroundColor:"white",boxShadow:"24px",borderRadius:"8px",padding:8,outline:"none",gap:8,userSelect:"none",minWidth:900}),$ke=Te("div",{name:"SettingsFormTabs"})({boxSizing:"border-box",display:"flex",flexDirection:"column",height:"100%",gap:8,flexShrink:1,minWidth:180}),T5=Te("div",{name:"SettingsFormContent"})({display:"flex",flexGrow:1,width:"100%",gap:8,justifyContent:"center",alignItems:"stretch",minWidth:0});Te("div",{name:"SettingsFormContentCards"})({display:"flex",gap:8,justifyContent:"center",alignItems:"stretch",width:"100%"});const gR=Te("div",{name:"SettingsFormCard"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box"}),zke=Te("div",{name:"SettingsFormCard2"})({padding:4,border:"1px solid black",flexGrow:1,minWidth:200,height:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),mR=Te("h3",{name:"StyledH3"})({textAlign:"center",margin:0}),M5=Te("div",{name:"SettingsFormCardLib"})({display:"flex",flexDirection:"column",gap:2,height:"100%"});Te(Xl,{name:"StyledCheckbox"})({});const Pm=Te(Cs,{name:"StyledButton"})({minHeight:64}),Ww=Te("div",{name:"SettingsFormCardContent"})({overflowY:"auto",height:"100%",display:"flex",flexDirection:"column",gap:16,whiteSpace:"nowrap"}),Uke=Te("textarea")({flexGrow:1,whiteSpace:"pre",resize:"none",overflow:"auto"});class Hke extends Kt{constructor(t){super(),this.ctx=t,this._currentTab="projectSettings",this.onModalClose=(n,r)=>{this.showProjectSettingsTab&&this.ctx.app.mainMenuVisible.setFalse()},this.onProjectSettingsTabSelected=n=>{this._currentTab="projectSettings"},this.onProjectSelectionTabSelected=n=>{this._currentTab="projectSelection"},this.onAccountTabSelected=n=>{this._currentTab="account"},this.onLogoutButtonClick=n=>{this.ctx.app.accountSettings.logout()},this.onExportButtonClick=()=>{this.ctx.app.currentProject?.export()},this.showEmbedIframeCode=()=>{const n=this.ctx.app.currentProject;if(!n)return;const r=`<iframe width="100%" height="100%" src="${OP(n)}" title="${n.name}"></iframe>`;prompt("Код для вставки",r)},Ot(this,{_currentTab:Be.ref,onModalClose:Ee,onAccountTabSelected:Ee,onProjectSelectionTabSelected:Ee,onProjectSettingsTabSelected:Ee,onLogoutButtonClick:Ee})}get currentTab(){const{_currentTab:t}=this;return this.showProjectSettingsTab||t!=="projectSettings"?t:"projectSelection"}get showProjectSettingsTab(){return!!this.ctx.app.currentProject}get libCount(){return this.ctx.app.accountSettings.libraryCount}get libLimit(){return this.ctx.app.accountSettings.libraryLimit}get projectCount(){return this.ctx.app.accountSettings.projectCount}get projectLimit(){return this.ctx.app.accountSettings.projectLimit}get isModalOpen(){return this.ctx.app.mainMenuVisible.isTrue}get profileName(){return this.ctx.app.accountSettings.profileName}}class Gke extends Kt{constructor(t){super(),this.ctx=t,this.onRecursiveSearchCheckboxChange=(n,r)=>{this.m.setRecursiveKlassSearch(r)},this.onAddSubProjectButtonClick=()=>{this.ctx.app.subProjectSelectorVisible.setTrue(),this.ctx.app.subProjectSelector.root.fetchChildren()}}get recursiveSearchCheckboxChecked(){return this.m.recursiveKlassSearch}get projectItems(){const{app:t}=this.ctx,n=this.m.projectFile.parent.path;return this.m.subProjects.map(r=>({key:r.id,primaryText:r.name,secondaryText:EP(r.config.filepath||"",n),onClick:t.openSubProject.bind(t,r),onDeleteButtonClick:r.remove.bind(r)}))}}class Wke extends Kt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{}}get itemId(){return"lib_"+this.m.id}get label(){return this.m.name}}class Kke extends Kt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDoubleClick=n=>{n.stopPropagation(),this.m.select()},this.onDragStart=n=>{}}get itemId(){return"prj_"+this.m.id.toString()}get label(){const{m:t}=this;return t.name}}class O5 extends Kt{constructor(t){super(),this.ctx=t,this.draggable=!1,this.onDragStart=n=>{},this.onDragOver=n=>{},this.onDragLeave=n=>{},this.onDrop=n=>{}}get itemId(){return"dir_"+this.m.id.toString()}get label(){return this.m.name}get canExpand(){const{dirs:t,libs:n}=this.m;return!!(t.length||n.length)}get showLoadingIndicator(){return this.m.isChildrenFetching}}class qke extends Kt{constructor(){super(),this.expandedItems=[],this.selectedItem=null,this.onSelectedItemsChange=(t,n)=>{this.selectedItem=n,!(t?.type!=="keydown"||!n||!n.startsWith("prj_"))&&t.target.dispatchEvent(new MouseEvent("dblclick",{bubbles:!0}))},this.onCreateProjectButtonClick=()=>{const{selectedItem:t}=this;let n=this.m.root;if(t?.startsWith("dir_")){const r=parseInt(t.slice(4)),i=r&&this.m.getDirById(r);i&&(n=i)}this.m.createNewProject(n)},this.onExpandedItemsChange=(t,n)=>{this.expandedItems=n;for(const r of n)this.m.getDirById(parseInt(r.slice(4)))?.fetchChildren()},Ot(this,{expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:Ee,onSelectedItemsChange:Ee})}get isProjectCreationInProgress(){return this.m.isProjectCreationInProgress}get createProjectButtonDisabled(){return!1}}const Yke=Wt(Kke)(({vm:e})=>C.jsx(Nu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:lRe},onDoubleClick:e.onDoubleClick})),Xke=Wt(Wke)(({vm:e,m:t})=>t.selector.libsMode?C.jsx(Nu,{itemId:e.itemId,label:e.label,draggable:e.draggable,onDragStart:e.onDragStart,slots:{icon:jU}}):null);function Zke(){return C.jsx(If,{size:32,sx:{color:Vl[500],position:"absolute",top:-2,left:-2,zIndex:1}})}const R5=Wt(O5)(({m:e})=>C.jsxs(C.Fragment,{children:[e.dirs.map(t=>C.jsx(Qke,{m:t},t.id)),e.projects.map(t=>C.jsx(Yke,{m:t},t.id)),e.libs.map(t=>C.jsx(Xke,{m:t},t.id))]})),Qke=Wt(O5)(({vm:e,m:t})=>C.jsx(Nu,{slotProps:{groupTransition:{enter:!1,exit:!1}},itemId:e.itemId,label:C.jsxs(C.Fragment,{children:[e.label,e.showLoadingIndicator&&C.jsx(Zke,{})]}),draggable:e.draggable,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,children:C.jsx(R5,{m:t})})),I5=Wt(qke)(({vm:e,m:t,hidden:n})=>C.jsx(gR,{hidden:n,children:C.jsxs(M5,{children:[C.jsx(Ww,{children:C.jsx(dR,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:C.jsx(R5,{m:t.root})})}),C.jsx(Cs,{fullWidth:!0,variant:"contained",startIcon:C.jsx(eR,{}),loadingPosition:"start",loading:e.isProjectCreationInProgress,disabled:e.createProjectButtonDisabled,onClick:e.onCreateProjectButtonClick,children:"Создать новый проект"})]})})),Jke=po()(({vm:e})=>C.jsx(kc,{control:C.jsx(Xl,{checked:e.recursiveSearchCheckboxChecked,onChange:e.onRecursiveSearchCheckboxChange}),label:"Рекурсивный поиск"})),ePe=Wt(Gke)(({vm:e,m:t,hidden:n})=>n?null:C.jsxs(C.Fragment,{children:[C.jsx(gR,{children:C.jsxs(M5,{children:[C.jsx(mR,{children:"Библиотеки"}),C.jsx(Ww,{children:t.libs.map(r=>C.jsx("div",{children:r.name},r.id))}),C.jsx(Jke,{})]})}),C.jsxs(zke,{children:[C.jsx(mR,{children:"Проекты"}),C.jsx(Ww,{children:C.jsx(rU,{dense:!0,children:e.projectItems.map(r=>C.jsx(KTe,{secondaryAction:C.jsx(Fn,{onClick:r.onDeleteButtonClick,edge:"end",children:C.jsx(Dw,{})}),children:C.jsx(jTe,{onClick:r.onClick,children:C.jsx(sU,{primary:r.primaryText,secondary:r.secondaryText})})},r.key))})}),C.jsx(Cs,{onClick:e.onAddSubProjectButtonClick,variant:"contained",startIcon:C.jsx(eR,{}),children:"Подключить проект"})]}),C.jsxs(gR,{children:[C.jsx(mR,{children:"Плагины"}),C.jsx(Ww,{children:t.plugins.map(r=>C.jsx("div",{children:r},r))})]})]})),tPe=Te(Cs,{name:"EMainMenuFormViewAccountLogoutButton"})({alignSelf:"center"}),nPe=po()(({vm:e,hidden:t})=>{if(t)return null;const{projectCount:n,projectLimit:r,libCount:i,libLimit:o,profileName:s}=e;return C.jsxs(C.Fragment,{children:[C.jsxs(Io,{sx:{display:"flex",flexDirection:"column"},children:[C.jsx("h1",{children:s}),C.jsxs("h2",{children:["Проектов: ",n," (макс: ",r,")"]}),C.jsxs("h2",{children:["Библиотек: ",i," (макс: ",o,")"]})]}),C.jsx(tPe,{size:"large",color:"error",variant:"contained",onClick:e.onLogoutButtonClick,children:"Выйти из аккаунта"})]})}),rPe=po()(({vm:e})=>{const{currentTab:t}=e,{currentProject:n,projectSelector:r}=e.ctx.app;return C.jsxs(C.Fragment,{children:[n&&C.jsx(ePe,{m:n,hidden:t!=="projectSettings"}),C.jsx(I5,{m:r,hidden:t!=="projectSelection"}),C.jsx(nPe,{hidden:t!=="account"})]})}),iPe=Wt(Hke)(({vm:e})=>C.jsx(xw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:ww},slotProps:{backdrop:{timeout:500}},children:C.jsx(pm,{in:e.isModalOpen,children:C.jsxs(E5,{children:[C.jsxs($ke,{children:[e.showProjectSettingsTab&&C.jsx(Pm,{onClick:e.onProjectSettingsTabSelected,variant:e.currentTab==="projectSettings"?"contained":"outlined",children:"Настройки проекта"}),C.jsx(Pm,{onClick:e.onProjectSelectionTabSelected,variant:e.currentTab==="projectSelection"?"contained":"outlined",children:"Выбор проекта"}),C.jsx(Pm,{onClick:e.onAccountTabSelected,variant:e.currentTab==="account"?"contained":"outlined",children:"Аккаунт"}),e.showProjectSettingsTab&&C.jsx(Pm,{onClick:e.onExportButtonClick,variant:"outlined",children:"Скачать проект в ZIP"}),e.showProjectSettingsTab&&C.jsx(Pm,{onClick:e.showEmbedIframeCode,variant:"outlined",children:"Получить код для встраивания"}),C.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/docs",children:"Документация"}),C.jsx("a",{target:"_blank",href:"https://stratum.pstu.ru/editor/s2k-converter.zip",children:"Загрузить свой проект"})]}),C.jsx(T5,{children:C.jsx(rPe,{})})]})})}));class oPe extends Kt{get activeEditor(){return this.m.currentTab?.editor||null}}class sPe extends Kt{constructor(){super()}}class aPe extends Kt{constructor(){super(),this.optionsMenuOpen=!1,this.propsButtonRef=_.createRef(),this.onResetZoomButtonClick=()=>{this.scene.resetScale()},this.onHideClassesCheckboxChange=(t,n)=>this.scene.setLayers({hideChildren:!n}),this.onShowOtherCheckboxChange=(t,n)=>this.scene.setLayers({hideOther:!n}),this.onShowConnectionsCheckboxChange=(t,n)=>this.scene.setLayers({hideConnections:!n}),this.onSelectUnselectableCheckboxChange=(t,n)=>this.scene.setLayers({selectUnselectable:n}),this.onUndoButtonClick=()=>this.scene.undo(),this.onRedoButtonClick=()=>this.scene.redo(),this.onSelectPrevObjectButtonClick=()=>this.scene.selectNext(!0),this.onSelectNextObjectButtonClick=()=>this.scene.selectNext(),this.onCreateConnectionButtonClick=()=>this.scene.startCreateConnection(),this.onCreateLineButtonClick=()=>this.scene.startCreateLine(),this.onCreateRectButtonClick=()=>this.scene.startCreateRect(),this.onCreateTextButtonClick=()=>this.scene.startCreateText(),this.onCreateInputButtonClick=()=>this.scene.startCreateInput(),this.onCreateButtonButtonClick=()=>this.scene.startCreateButton(),this.onReorderButtonClick=()=>{const{scene:t}=this;t.isInChildReorderMode?t.cancel():t.startReorderChildren()},this.onSceneOptionsButtonClick=()=>{this.optionsMenuOpen=!0},this.onOptionsMenuClose=()=>{this.optionsMenuOpen=!1},Ot(this,{optionsMenuOpen:Be.ref,resetZoomButtonDisabled:yi,onSceneOptionsButtonClick:Ee,onOptionsMenuClose:Ee})}get scene(){return this.m.scene}get showClassesCheckboxChecked(){return!this.scene.hideChildren}get showConnectionsCheckboxChecked(){return!this.scene.hideConnections}get showOtherCheckboxChecked(){return!this.scene.hideOther}get selectUnselectableCheckboxChecked(){return this.scene.selectUnselectable}get statusCursorX(){return this.scene.lastCursorX.toString()}get statusCursorY(){return this.scene.lastCursorY.toString()}get zoom(){return Math.round(this.scene.viewScale*100).toString()}get resetZoomButtonDisabled(){return this.scene.viewScale===1}get undoButtonDisabled(){return!this.scene.canUndo}get redoButtonDisabled(){return!this.scene.canRedo}get reorderButtonActive(){return this.scene.isInChildReorderMode}get statusText(){return"scene.statusText"}get showSchemaButtons(){return!!this.scene.schema}get showSceneOptionsButton(){const{type:t}=this.m;return t==="fileSceneEditor"||t==="schemaEditor"}}class lPe extends Kt{get cursorPosition(){const{currentLineNumber:t,currentColumnIndex:n}=this.m;return`Строка: ${t}, столбец: ${n}`}}class cPe extends Kt{constructor(){super(...arguments),this.onSaveButtonClick=()=>this.m.currentTab?.editor.save?.()}get currentEditor(){return this.m.currentTab?.editor||null}get showSaveButton(){return!!this.m.currentTab?.editor.save}get saveButtonDisabled(){return this.m.currentTab?.editor.isReadonly||!1}}class uPe extends Kt{constructor(){super(...arguments),this.setSizeVariant=t=>{this.setSceneOptions({...this.options,size:t==="content"?{type:"content"}:t==="fixed"?{type:"fixed",width:100,height:100}:null})},this.setWidth=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:r,height:n.height}})},this.setHeight=t=>{const n=this.options?.size;if(n?.type!=="fixed")return;const r=parseInt(t);!r||r<0||this.setSceneOptions({...this.options,size:{type:"fixed",width:n.width,height:r}})},this.setPopup=(t,n)=>{this.setSceneOptions({...this.options,popup:n})},this.setFixed=(t,n)=>{this.setSceneOptions({...this.options,fixed:n})},this.setVScroll=(t,n)=>{this.setSceneOptions({...this.options,vscroll:n})},this.setHScroll=(t,n)=>{this.setSceneOptions({...this.options,hscroll:n})},this.seAutoOrg=(t,n)=>{this.setSceneOptions({...this.options,autoorg:n})},this.seAutoScroll=(t,n)=>{this.setSceneOptions({...this.options,autoscroll:n})}}get anchorEl(){return this.parent.propsButtonRef.current}get options(){const{m:t}=this.parent,{type:n}=t;return(n==="fileSceneEditor"?t.fileScene.data:n==="schemaEditor"?t.klass.scene:null)?.options||null}setSceneOptions(t){const{m:n}=this.parent,{type:r}=n;if(r==="fileSceneEditor"){const i={...n.fileScene.data};n.fileScene.setData({...i,options:t})}else if(r==="schemaEditor"){const i={...n.klass.scene};n.klass.set({scene:{...i,options:t}})}}get sizeVariant(){return this.options?.size?.type||"null"}get width(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get height(){const t=this.options?.size;return t?.type==="fixed"?t.width.toString():""}get popup(){return this.options?.popup||!1}get fixed(){return this.options?.fixed||!1}get vscroll(){return this.options?.vscroll||!1}get hscroll(){return this.options?.hscroll||!1}get autoorg(){return this.options?.autoorg||!1}get autoScroll(){return this.options?.autoscroll||!1}}const vR=Te("div",{name:"ESceneObjectViewEditors"})({boxSizing:"border-box",width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",minWidth:0,padding:4,gap:8}),dPe=Te(Wi)({cursor:"pointer",textDecoration:"underline"}),hPe=Te("button")({backgroundColor:"transparent",border:"none",margin:0,padding:0}),fPe=Te("div",{name:"ESceneObjectViewToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"center",paddingLeft:4}),pPe=Te(Zl,{name:"ZValueIndicator"})({maxWidth:"25%",pointerEvents:"none","& input":{textAlign:"center"}});function k5({children:e,visible:t}){return t?C.jsx(gm,{badgeContent:"+",children:e}):e}const gPe=Te("div",{name:"ESceneView"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden"}),mPe=Te(Zz,{name:"RichTextEditorView"})({paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,marginLeft:6,marginRight:6,"& .public-DraftEditor-content":{whiteSpace:ewe("pre")}}),vPe=Te("form")({width:"100%"}),yPe=Te("div",{name:"ESceneLineBrushImageView",shouldForwardProp:e=>e!=="dashed"})(({dashed:e})=>({display:"flex",flexDirection:"column",alignItems:"center",borderWidth:2,borderRadius:2,borderStyle:"dashed",...e&&{borderColor:"green"},backgroundColor:"#fafafa",color:"#bdbdbd",cursor:"pointer","*":{pointerEvents:"none"}})),bPe=Te("input",{name:"ESceneLineBrushImageView",slot:"input"})({display:"none"}),wPe=Te("img",{name:"ESceneLineBrushImageView",slot:"image"})({maxWidth:"100%",maxHeight:"100%",padding:2});function SPe(){return C.jsx(Wi,{p:4,component:"p",children:"Выберите или перетащите изображение"})}function P5(e){return parseFloat(e)||0}function D5(e){return Math.max(parseFloat(e)||1,1)}class CPe extends Kt{constructor(){super(...arguments),this.setX=t=>this.m.set({x:P5(t)}),this.setY=t=>this.m.set({y:P5(t)})}get x(){return Ad(this.m.x)}get y(){return Ad(this.m.y)}}class xPe extends Kt{constructor(){super(...arguments),this.setW=t=>this.m.set({width:D5(t)}),this.setH=t=>this.m.set({height:D5(t)})}get w(){return Ad(this.m.width)}get h(){return Ad(this.m.height)}}class _Pe extends Kt{constructor(){super(...arguments),this.setValue=t=>this.m.setAngle(Kp(parseFloat(t)||0))}get value(){return Ad(V0(this.m.angle))}}class EPe extends Kt{constructor(){super(...arguments),this.setValue=t=>this.m.rotate(Kp(parseFloat(t)||0))}}class TPe extends Kt{constructor(){super(...arguments),this.setValue=t=>this.m.set({name:t})}get value(){return this.m.name}}class MPe extends Kt{constructor(){super(...arguments),this.setValue=(t,n)=>this.m.set({isUnselectable:n})}get value(){return this.m.isUnselectable}}class OPe extends Kt{constructor(){super(...arguments),this.setValue=t=>this.m.set({layer:parseInt(t.target.value)})}get options(){return this.m.layerRange}get value(){return this.m.layer}}const RPe=parseInt(_.version,10),fn=e=>{if(RPe>=19){const t=n=>e(n,n.ref??null);return t.displayName=e.displayName??e.name,t}return _.forwardRef(e)},Xr=Lt,A5=Xr(C.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"})),L5=Xr(C.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})),N5=Xr(C.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),B5=Xr(C.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),IPe=Xr(C.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"})),F5=Xr(C.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})),kPe=Xr(C.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}));Xr(C.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})),Xr(C.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}));const PPe=Xr(C.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"})),DPe=Xr(C.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"})),APe=Xr(C.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"})),LPe=Xr(C.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"})),NPe=Xr(C.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"})),BPe=Xr(C.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),j5=Xr(C.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),V5=Xr(C.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),FPe=Xr(C.jsx("path",{d:"M19 13H5v-2h14v2z"})),jPe=Xr(C.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})),$5=Xr(C.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),z5=Xr(C.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),VPe=Xr(C.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),$Pe=Xr(C.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})),zPe=Xr(C.jsx("g",{children:C.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})})),U5=Xr(C.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));Xr(C.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}));const UPe=Xr(C.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),HPe=Xr(C.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),H5=_.createContext(void 0),It=()=>{const e=_.useContext(H5);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},GPe=["sortingOrder"],WPe=_.memo(function(t){const{sortingOrder:n}=t,r=Tt(t,GPe),i=It(),[o]=n,s=o==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return s?C.jsx(s,W({},r)):null}),G5=_.createContext(void 0);function Rn(){const e=_.useContext(G5);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const KPe=new TextEncoder;let Kw=2*1024,Dm=new ArrayBuffer(Kw),yR=new Uint8Array(Dm),_h=new Int32Array(Dm);const qPe=YPe;function YPe(e){const t=e.length*2;t>Kw&&(Kw=t+(4-t%4),Dm=new ArrayBuffer(Kw),yR=new Uint8Array(Dm),_h=new Int32Array(Dm));const n=KPe.encodeInto(e,yR).written,r=0,i=n|0;let o=0,s=(r+i|0)+374761393|0;if(i<16)for(;(o+3|0)<i;o=o+4|0)s=Math.imul(hl(s+Math.imul(_h[o]|0,3266489917)|0,17)|0,668265263);else{let l=r+606290984|0,c=r+2246822519|0,u=r,h=r-2654435761|0;for(;(o+15|0)<i;o=o+16|0)l=Math.imul(hl(l+Math.imul(_h[o+0|0]|0,2246822519)|0,13)|0,2654435761),c=Math.imul(hl(c+Math.imul(_h[o+4|0]|0,2246822519)|0,13)|0,2654435761),u=Math.imul(hl(u+Math.imul(_h[o+8|0]|0,2246822519)|0,13)|0,2654435761),h=Math.imul(hl(h+Math.imul(_h[o+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((hl(l,1)|0+hl(c,7)|0)+hl(u,12)|0)+hl(h,18)|0)+i|0;(o+3|0)<i;o=o+4|0)s=Math.imul(hl(s+Math.imul(_h[o]|0,3266489917)|0,17)|0,668265263)}for(;o<i;o=o+1|0)s=Math.imul(hl(s+Math.imul(yR[o]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function hl(e,t){return e<<t|e>>>32-t}const W5={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{const t=W5.values;return`@media (min-width:${typeof t[e]=="number"?t[e]:e}px)`}},K5={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},XPe=q5(K5),Dt=W({breakpoints:W5,spacing:ZPe,transition:QPe,keys:K5},XPe);function ZPe(e,t,n,r){return e===void 0?fl(1):t===void 0?fl(e):n===void 0?fl(e)+" "+fl(t):r===void 0?fl(e)+" "+fl(t)+" "+fl(n):fl(e)+" "+fl(t)+" "+fl(n)+" "+fl(r)}function fl(e){return e===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${e})`}function QPe(e,t){const{duration:n=Dt.transitions.duration.base,easing:r=Dt.transitions.easing.easeInOut,delay:i=0}=t??{};return e.map(o=>`${o} ${n} ${r} ${i}ms`).join(", ")}function q5(e){if(typeof e=="string")return`var(${e})`;const t={};for(const n in e)Object.hasOwn(e,n)&&(t[n]=q5(e[n]));return t}function JPe(){const e=Wl();return _.useMemo(()=>{const t=qPe(iDe(e)),n=eDe(e);return{id:t,variables:n}},[e])}function eDe(e){const t=nDe(e),n=(e.vars||e).palette.DataGrid,r=n?.bg??(e.vars||e).palette.background.default,i=n?.headerBg??r,o=n?.pinnedBg??r,s=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Sa(e.palette.background.default,e.palette.action.disabledOpacity),l=e.palette.mode==="dark"?`color-mix(in srgb, ${(e.vars||e).palette.background.paper} 95%, #fff)`:(e.vars||e).palette.background.paper,c=e.vars?`rgb(${e.vars.palette.primary.mainChannel})`:e.palette.primary.main,u=tDe(e),h=e.vars?.font?.body2??bR(e.typography.body2),p=e.vars?.font?.caption??bR(e.typography.caption),g=e.vars?.font?.body1??bR(e.typography.body1),m=Dt.keys;return{[m.spacingUnit]:e.vars?e.vars.spacing??e.spacing(1):e.spacing(1),[m.colors.border.base]:t,[m.colors.background.base]:r,[m.colors.background.overlay]:l,[m.colors.background.backdrop]:s,[m.colors.foreground.base]:(e.vars||e).palette.text.primary,[m.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[m.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[m.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[m.colors.foreground.error]:(e.vars||e).palette.error.dark,[m.colors.interactive.hover]:(e.vars||e).palette.action.hover,[m.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[m.colors.interactive.focus]:Y5((e.vars||e).palette.primary.main),[m.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[m.colors.interactive.disabled]:Y5((e.vars||e).palette.action.disabled),[m.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[m.colors.interactive.selected]:c,[m.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[m.header.background.base]:i,[m.cell.background.pinned]:o,[m.radius.base]:u,[m.typography.fontFamily.base]:e.typography.fontFamily,[m.typography.fontWeight.light]:e.typography.fontWeightLight,[m.typography.fontWeight.regular]:e.typography.fontWeightRegular,[m.typography.fontWeight.medium]:e.typography.fontWeightMedium,[m.typography.fontWeight.bold]:e.typography.fontWeightBold,[m.typography.font.body]:h,[m.typography.font.small]:p,[m.typography.font.large]:g,[m.transitions.easing.easeIn]:e.transitions.easing.easeIn,[m.transitions.easing.easeOut]:e.transitions.easing.easeOut,[m.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[m.transitions.duration.short]:`${e.transitions.duration.shorter}ms`,[m.transitions.duration.base]:`${e.transitions.duration.short}ms`,[m.transitions.duration.long]:`${e.transitions.duration.standard}ms`,[m.shadows.base]:(e.vars||e).shadows[2],[m.shadows.overlay]:(e.vars||e).shadows[8],[m.zIndex.panel]:(e.vars||e).zIndex.modal,[m.zIndex.menu]:(e.vars||e).zIndex.modal}}function tDe(e){return e.vars?e.vars.shape.borderRadius:typeof e.shape.borderRadius=="number"?`${e.shape.borderRadius}px`:e.shape.borderRadius}function nDe(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?nm(Sa(e.palette.divider,1),.88):tm(Sa(e.palette.divider,1),.68)}function rDe(e,t){return`rgba(from ${e} r g b / ${t})`}function Y5(e){return rDe(e,1)}function bR(e){if(e)return`${e.fontWeight} ${e.fontSize} / ${e.lineHeight} ${e.fontFamily}`}function iDe(e){const t=new WeakSet;return JSON.stringify(e,(n,r)=>{if(typeof window<"u"&&r===window||typeof document<"u"&&r===document)return r.toString();if(r!==null&&typeof r=="object"){if(_.isValidElement(r)||t.has(r))return null;t.add(r)}return r})}const oDe=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],sDe=["onRowsPerPageChange","material","disabled"],aDe=["material"],lDe=["autoFocus","label","fullWidth","slotProps","className","material"],cDe=["material"],uDe=["material"],dDe=["material"],hDe=["material"],fDe=["material"],pDe=["material"],gDe=["material"],mDe=["material"],vDe=["material","label","className"],yDe=["material"],bDe=["inert","iconStart","iconEnd","children","material"],wDe=["slotProps","material"],SDe=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],CDe=["key"],xDe=["inputProps","InputProps","InputLabelProps"],_De=["slotProps","material"],EDe=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],TDe=["native"],X5=Te(vTe)(({theme:e})=>({[`&.${jO.positionEnd} .${mO.sizeSmall}`]:{marginRight:e.spacing(-.75)}})),Z5=Te(kc,{shouldForwardProp:e=>e!=="fullWidth"})(({theme:e})=>({gap:e.spacing(.5),margin:0,overflow:"hidden",[`& .${Lf.label}`]:{fontSize:e.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),Q5=Te(Xl,{shouldForwardProp:e=>e!=="density"})(({theme:e})=>({variants:[{props:{density:"compact"},style:{padding:e.spacing(.5)}}]})),MDe=Te(sU)({[`& .${bh.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),ODe=fn(function(t,n){const{id:r,label:i,labelId:o,material:s,disabled:l,slotProps:c,onChange:u,onKeyDown:h,onOpen:p,onClose:g,size:m,style:y,fullWidth:b}=t,v=Tt(t,oDe),S={PaperProps:{onKeyDown:h}};return g&&(S.onClose=g),C.jsxs(Ew,{size:m,fullWidth:b,style:y,disabled:l,ref:n,children:[C.jsx(nU,{id:o,htmlFor:r,shrink:!0,variant:"outlined",children:i}),C.jsx(Rw,W({id:r,labelId:o,label:i,displayEmpty:!0,onChange:u,variant:"outlined"},v,{notched:!0,inputProps:c?.htmlInput,onOpen:p,MenuProps:S,size:m},s))]})}),RDe=Te(kOe)(({theme:e})=>({[`& .${wh.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${wh.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),IDe=fn(function(t,n){const{onRowsPerPageChange:r,material:i,disabled:o}=t,s=Tt(t,sDe),l=_.useMemo(()=>{if(o)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[o]),c=Rn(),u=It(),{estimatedRowCount:h}=u;return C.jsx(RDe,W({component:"div",onRowsPerPageChange:Xt(p=>{r?.(Number(p.target.value))}),labelRowsPerPage:c.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:p=>c.current.getLocaleText("paginationDisplayedRows")(W({},p,{estimated:h})),getItemAriaLabel:c.current.getLocaleText("paginationItemAriaLabel")},l,s,i,{ref:n}))}),kDe=fn(function(t,n){const{material:r}=t,i=Tt(t,aDe);return C.jsx(gm,W({},i,r,{ref:n}))}),PDe=fn(function(t,n){const{autoFocus:r,label:i,fullWidth:o,slotProps:s,className:l,material:c}=t,u=Tt(t,lDe),h=_.useRef(null),p=Zn(h,n),g=_.useRef(null);return _.useEffect(()=>{r?h.current?.querySelector("input")?.focus({preventScroll:!0}):r===!1&&g.current&&g.current.stop({})},[r]),i?C.jsx(Z5,{className:l,control:C.jsx(Q5,W({},u,c,{inputProps:s?.htmlInput,ref:p,touchRippleRef:g})),label:i,fullWidth:o}):C.jsx(Q5,W({},u,c,{className:Je(l,c?.className),inputProps:s?.htmlInput,ref:p,touchRippleRef:g}))}),DDe=fn(function(t,n){const{material:r}=t,i=Tt(t,cDe);return C.jsx(If,W({},i,r,{ref:n}))}),ADe=fn(function(t,n){const{material:r}=t,i=Tt(t,uDe);return C.jsx(vm,W({},i,r,{ref:n}))}),LDe=fn(function(t,n){const{material:r}=t,i=Tt(t,dDe);return C.jsx(ITe,W({},i,r,{ref:n}))}),NDe=fn(function(t,n){const{material:r}=t,i=Tt(t,hDe);return C.jsx(Cs,W({},i,r,{ref:n}))}),BDe=fn(function(t,n){const{material:r}=t,i=Tt(t,fDe);return C.jsx(RO,W({},i,r,{ref:n}))}),FDe=fn(function(t,n){const{material:r}=t,i=Tt(t,pDe);return C.jsx(Fn,W({},i,r,{ref:n}))}),jDe=fn(function(t,n){const{material:r}=t,i=Tt(t,gDe);return C.jsx(Qn,W({},i,r,{ref:n}))}),VDe=fn(function(t,n){const{material:r}=t,i=Tt(t,mDe);return C.jsx(HMe,W({},i,r,{ref:n}))}),$De=fn(function(t,n){const{material:r,label:i,className:o}=t,s=Tt(t,vDe);return i?C.jsx(Z5,{className:o,control:C.jsx(SU,W({},s,r,{ref:n})),label:i}):C.jsx(SU,W({},s,r,{className:o,ref:n}))}),zDe=fn(function(t,n){const{material:r}=t,i=Tt(t,yDe);return C.jsx(cU,W({},i,r,{ref:n}))});function UDe(e){const{inert:t,iconStart:n,iconEnd:r,children:i,material:o}=e,s=Tt(e,bDe);return t&&(s.disableRipple=!0),_.createElement(xs,W({},s,o),[n&&C.jsx(Tw,{children:n},"1"),C.jsx(MDe,{children:i},"2"),r&&C.jsx(Tw,{children:r},"3")])}function HDe(e){const{slotProps:t,material:n}=e,r=Tt(e,wDe);return C.jsx(Zl,W({variant:"outlined"},r,n,{inputProps:t?.htmlInput,InputProps:wR(t?.input),InputLabelProps:W({shrink:!0},t?.inputLabel)}))}function GDe(e){const t=It(),{id:n,multiple:r,freeSolo:i,options:o,getOptionLabel:s,isOptionEqualToValue:l,value:c,onChange:u,label:h,placeholder:p,slotProps:g,material:m}=e,y=Tt(e,SDe);return C.jsx(Bz,W({id:n,multiple:r,freeSolo:i,options:o,getOptionLabel:s,isOptionEqualToValue:l,value:c,onChange:u,renderTags:(b,v)=>b.map((S,E)=>{const T=v({index:E}),{key:O}=T,M=Tt(T,CDe);return C.jsx(RO,W({variant:"outlined",size:"small",label:typeof S=="string"?S:s?.(S)},M),O)}),renderInput:b=>{const{inputProps:v,InputProps:S,InputLabelProps:E}=b,T=Tt(b,xDe);return C.jsx(Zl,W({},T,{label:h,placeholder:p,inputProps:v,InputProps:wR(S,!1),InputLabelProps:W({shrink:!0},E)},g?.textField,t.slotProps?.baseTextField))}},y,m))}function WDe(e){return C.jsx(fm,W({},wR(e)))}function wR(e,t=!0){if(!e)return;const{slotProps:n,material:r}=e,o=Tt(e,_De);t&&(o.startAdornment&&(o.startAdornment=C.jsx(X5,{position:"start",children:o.startAdornment})),o.endAdornment&&(o.endAdornment=C.jsx(X5,{position:"end",children:o.endAdornment})));for(const s in r)Object.hasOwn(r,s)&&(o[s]=r[s]);return n?.htmlInput&&(o.inputProps?o.inputProps=W({},o.inputProps,n?.htmlInput):o.inputProps=n?.htmlInput),o}const KDe={"bottom-start":"top left","bottom-end":"top right"};function qDe(e){const{open:t,children:n,className:r,flip:i,onExited:o,onDidShow:s,onDidHide:l,id:c,target:u,transition:h,placement:p,material:g}=e,m=Tt(e,EDe),y=_.useMemo(()=>{const v=[{name:"preventOverflow",options:{padding:8}}];return i&&v.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||l)&&v.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s?.()},effect:()=>()=>{l?.()}}),v},[i,s,l]);let b;if(!h)b=J5(e,n);else{const v=S=>E=>{S&&S(),o&&o(E)};b=S=>J5(e,C.jsx(bm,W({},S.TransitionProps,{style:{transformOrigin:KDe[S.placement]},onExited:v(S.TransitionProps?.onExited),children:C.jsx(ph,{children:n})})))}return C.jsx(hm,W({id:c,className:r,open:t,anchorEl:u,transition:h,placement:p,modifiers:y},m,g,{children:b}))}function J5(e,t){return XDe(e,YDe(e,t))}function YDe(e,t){return e.onClickAway===void 0?t:C.jsx(t1e,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function XDe(e,t){return e.focusTrap===void 0?t:C.jsx(Kz,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:C.jsx("div",{tabIndex:-1,children:t})})}function ZDe(e){let{native:t}=e,n=Tt(e,TDe);return t?C.jsx("option",W({},n)):C.jsx(xs,W({},n))}const QDe=W({},{baseAutocomplete:GDe,baseBadge:kDe,baseCheckbox:PDe,baseChip:BDe,baseCircularProgress:DDe,baseDivider:ADe,baseInput:WDe,baseLinearProgress:LDe,baseMenuList:zDe,baseMenuItem:UDe,baseTextField:HDe,baseButton:NDe,baseIconButton:FDe,baseTooltip:jDe,basePagination:IDe,basePopper:qDe,baseSelect:ODe,baseSelectOption:ZDe,baseSkeleton:VDe,baseSwitch:$De},{booleanCellTrueIcon:z5,booleanCellFalseIcon:j5,columnMenuIcon:BPe,openFilterButtonIcon:IPe,filterPanelDeleteIcon:j5,columnFilteredIcon:F5,columnSelectorIcon:PPe,columnUnsortedIcon:WPe,columnSortedAscendingIcon:A5,columnSortedDescendingIcon:L5,columnResizeIcon:DPe,densityCompactIcon:APe,densityStandardIcon:LPe,densityComfortableIcon:NPe,exportIcon:HPe,moreActionsIcon:VPe,treeDataCollapseIcon:B5,treeDataExpandIcon:N5,groupingCriteriaCollapseIcon:B5,groupingCriteriaExpandIcon:N5,detailPanelExpandIcon:V5,detailPanelCollapseIcon:FPe,rowReorderIcon:$5,quickFilterIcon:kPe,quickFilterClearIcon:U5,columnMenuHideIcon:$Pe,columnMenuSortAscendingIcon:A5,columnMenuSortDescendingIcon:L5,columnMenuUnsortIcon:null,columnMenuFilterIcon:F5,columnMenuManageColumnsIcon:zPe,columnMenuClearIcon:U5,loadIcon:jPe,filterPanelAddIcon:V5,filterPanelRemoveAllIcon:UPe,columnReorderIcon:$5,menuItemCheckIcon:z5}),JDe=()=>_.useRef(null),Ht=(...e)=>{const t=lr(...e);return(r,i,o,s)=>t(SR(r),i,o,s)},gr=(...e)=>{const t=Bf(...e);return(r,i,o,s)=>t(SR(r),i,o,s)},ri=e=>(t,n)=>e(SR(t),n);function SR(e){return"current"in e?e.current.state:e}const xi=ri(e=>e.dimensions),CR=Ht(xi,e=>e.columnsTotalWidth),eAe=Ht(xi,e=>e.rowHeight);Ht(xi,e=>e.contentSize.height);const tAe=Ht(xi,e=>e.hasScrollX),nAe=Ht(xi,e=>e.hasScrollY),eH=Ht(xi,e=>e.columnsTotalWidth<e.viewportOuterSize.width),rAe=Ht(xi,e=>e.headerHeight),iAe=Ht(xi,e=>e.groupHeaderHeight);Ht(xi,e=>e.headerFilterHeight);const oAe=Ht(xi,e=>e.hasScrollX?e.scrollbarSize:0),tH=Ht(xi,e=>e.hasScrollY?e.scrollbarSize:0),sAe=Ht(xi,oAe,(e,t)=>{const n=e.viewportOuterSize.height-e.minimumSize.height>0;return!(t===0&&!n)}),xR=ri(e=>e.rowsMeta),pl=ri(e=>e.rows),Vf=Ht(pl,e=>e.totalRowCount),aAe=Ht(pl,e=>e.loading),lAe=Ht(pl,e=>e.totalTopLevelRowCount),Ra=Ht(pl,e=>e.dataRowIdToModelLookup);Ht(Ra,(e,t)=>e[t]);const ko=Ht(pl,e=>e.tree),Ql=Ht(ko,(e,t)=>e[t]),cAe=Ht(pl,e=>e.groupsToFetch),uAe=Ht(pl,e=>e.groupingName),nH=Ht(pl,e=>e.treeDepths),Am=gr(pl,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:(t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]??0)+1}),Eh=Ht(pl,e=>e.dataRowIds),dAe=gr(Eh,Ra,(e,t)=>e.reduce((n,r)=>(t[r]&&n.push(t[r]),n),[])),hAe=Ht(pl,e=>e?.additionalRowGroups),Lm=gr(hAe,e=>{const t=e?.pinnedRows;return{bottom:t?.bottom?.map(n=>({id:n.id,model:n.model??{}}))??[],top:t?.top?.map(n=>({id:n.id,model:n.model??{}}))??[]}}),rH=Ht(Lm,e=>(e?.top?.length||0)+(e?.bottom?.length||0)),go="auto-generated-group-node-root",Th=Symbol("mui.id_autogenerated"),fAe=()=>({type:"group",id:go,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function pAe(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const qw=(e,t,n)=>{const r=t?t(e):e.id;return pAe(r,e,n),r},gAe=(e,t,n)=>{const r=t.field;if(!t||!t.valueGetter)return e[r];const i=e[t.field];return t.valueGetter(i,e,t,n)},Yw=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const i={type:"full",rows:[]},o={};for(let s=0;s<e.length;s+=1){const l=e[s],c=qw(l,t);o[c]=l,i.rows.push(c)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:i,dataRowIdToModelLookup:o}},iH=({tree:e,rowCountProp:t=0})=>{const n=e[go];return Math.max(t,n.children.length+(n.footerId==null?0:1))},oH=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:r,previousTreeDepths:i,previousGroupsToFetch:o})=>{const s=e.current.caches.rows,{tree:l,treeDepths:c,dataRowIds:u,groupingName:h,groupsToFetch:p=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:i,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:o}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:c,dataRowIds:u,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},W({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:iH({tree:g.tree,rowCountProp:t}),groupingName:h,loading:n,groupsToFetch:p})},sH=e=>Th in e,$f=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,_R=(e,t,n,r)=>{const i=e[t];if(i.type!=="group")return[];const o=[];for(let s=0;s<i.children.length;s+=1){const l=i.children[s];if((!n||!$f(e[l]))&&o.push(l),r)continue;const c=_R(e,l,n,r);for(let u=0;u<c.length;u+=1)o.push(c[u])}return!n&&i.footerId!=null&&o.push(i.footerId),o},aH=({previousCache:e,getRowId:t,updates:n,groupKeys:r})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const i=new Map;n.forEach(u=>{const h=qw(u,t,"A row was provided without id when calling updateRows():");i.has(h)?i.set(h,W({},i.get(h),u)):i.set(h,u)});const o={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:W({},e.updates.idToActionLookup),groupKeys:r},s=W({},e.dataRowIdToModelLookup),l={insert:{},modify:{},remove:{}};i.forEach((u,h)=>{const p=o.idToActionLookup[h];if(u._action==="delete"){if(p==="remove"||!s[h])return;p!=null&&(l[p][h]=!0),o.actions.remove.push(h),delete s[h];return}const g=s[h];if(g){p==="remove"?(l.remove[h]=!0,o.actions.modify.push(h)):p==null&&o.actions.modify.push(h),s[h]=W({},g,u);return}p==="remove"?(l.remove[h]=!0,o.actions.insert.push(h)):p==null&&o.actions.insert.push(h),s[h]=u});const c=Object.keys(l);for(let u=0;u<c.length;u+=1){const h=c[u],p=l[h];Object.keys(p).length>0&&(o.actions[h]=o.actions[h].filter(g=>!p[g]))}return{dataRowIdToModelLookup:s,updates:o,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}},lH="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function cH(e,t,n){const r=[];return t.forEach(i=>{const o=qw(i,n,"A row was provided without id when calling updateRows():");if(Ql(e,o)?.type==="pinnedRow"){const l=e.current.caches.pinnedRows,c=l.idLookup[o];c&&(l.idLookup[o]=W({},c,i))}else r.push(i)}),r}const uH=(e,t,n)=>typeof e=="number"&&e>0?e:t;function Ac(e){return _.memo(e,x5)}const mAe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:n,estimated:r})=>{if(!r)return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`;const i=r&&r>t?`around ${r}`:`more than ${t}`;return`${e}–${t} of ${n!==-1?n:i}`},paginationItemAriaLabel:e=>e==="first"?"Go to first page":e==="last"?"Go to last page":e==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a prompt…",promptFieldPlaceholderWithRecording:"Type or record a prompt…",promptFieldPlaceholderListening:"Listening for prompt…",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processing…",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,n)=>t==="is any of"?`${e} is any of: ${n}`:`${e} ${t} ${n}`,promptChangeFilterDescription:(e,t,n)=>t==="is any of"?`Filter where ${e} is any of: ${n}`:`Filter where ${e} ${t} ${n}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`};function qn(e){return cn("MuiDataGrid",e)}const se=on("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let gl=(function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e})({});const dH=1e3;class vAe{timeouts=new Map;cleanupTimeout=dH;constructor(t=dH){this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class yAe{registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()});register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class ER{static create(){return new ER}}const Xw={current:wAe()};let hH=0;function Vt(e,t,n,r){const i=_.useState(ER.create)[0],o=_.useRef(null),s=_.useRef(null);s.current=n;const l=_.useRef(null);if(!o.current&&s.current){const c=(u,h,p)=>{h.defaultMuiPrevented||s.current?.(u,h,p)};o.current=e.current.subscribeEvent(t,c,r),hH+=1,l.current={cleanupToken:hH},Xw.current.register(i,()=>{o.current?.(),o.current=null,l.current=null},l.current)}else!s.current&&o.current&&(o.current(),o.current=null,l.current&&(Xw.current.unregister(l.current),l.current=null));_.useEffect(()=>{if(!o.current&&s.current){const c=(u,h,p)=>{h.defaultMuiPrevented||s.current?.(u,h,p)};o.current=e.current.subscribeEvent(t,c,r)}return l.current&&Xw.current&&(Xw.current.unregister(l.current),l.current=null),()=>{o.current?.(),o.current=null}},[e,t,r])}const bAe={isFirst:!0};function Ur(e,t,n){Vt(e,t,n,bAe)}function wAe(){return typeof FinalizationRegistry<"u"?new yAe:new vAe}const SAe=Object.is,fH=x5,CAe=(e,t)=>e===t?!0:e.length===t.length&&e.every((n,r)=>n===t[r]),xAe=(e,t)=>{let n=Object.is;return t instanceof Array?n=CAe:t instanceof Object&&(n=fH),n(e,t)},_Ae=()=>({state:null,equals:null,selector:null,args:void 0}),pH=[],EAe=()=>null;function dt(e,t,n=void 0,r=SAe){const i=Gs(_Ae),o=i.current.selector!==null,[s,l]=_.useState(o?null:t(e,n));i.current.state=s,i.current.equals=r,i.current.selector=t;const c=i.current.args;if(i.current.args=n,o&&!xAe(c,n)){const p=i.current.selector(e,i.current.args);i.current.equals(i.current.state,p)||(i.current.state=p,l(p))}const u=_.useCallback(()=>(i.current.subscription||(i.current.subscription=e.current.store.subscribe(()=>{const p=i.current.selector(e,i.current.args);i.current.equals(i.current.state,p)||(i.current.state=p,l(p))})),null),pH),h=_.useCallback(()=>(i.current.subscription||u(),()=>{i.current.subscription&&(i.current.subscription(),i.current.subscription=void 0)}),pH);return SM.useSyncExternalStore(h,u,EAe),s}const TAe={compact:.7,comfortable:1.3,standard:1},zf=ri(e=>e.density),Nm=Ht(zf,e=>TAe[e]);function Jl(e){throw new Error("Failed assertion: should not be rendered")}const MAe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],OAe=e=>{const{classes:t}=e;return _t({root:["editInputCell"]},qn,t)},RAe=Te(Jl,{name:"MuiDataGrid",slot:"EditInputCell"})({font:Dt.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),IAe=fn((e,t)=>{const n=It(),{id:r,value:i,field:o,colDef:s,hasFocus:l,debounceMs:c=200,isProcessingProps:u,onValueChange:h,slotProps:p}=e,g=Tt(e,MAe),m=Rn(),y=_.useRef(null),[b,v]=_.useState(i),S=OAe(n),E=_.useCallback(async O=>{const M=O.target.value,I=m.current.getColumn(o);let N=M;I.valueParser&&(N=I.valueParser(M,m.current.getRow(r),I,m)),v(N),m.current.setEditCellValue({id:r,field:o,value:N,debounceMs:c,unstable_skipValueParser:!0},O),h&&await h(O,M)},[m,c,o,r,h]),T=m.current.unstable_getEditCellMeta(r,o);return _.useEffect(()=>{T?.changeReason!=="debouncedSetEditCellValue"&&v(i)},[T,i]),pr(()=>{l&&y.current.focus()},[l]),C.jsx(RAe,W({as:n.slots.baseInput,inputRef:y,className:S.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:b??"",onChange:E,endAdornment:u?C.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g,p?.root,{ref:t}))}),kAe=e=>C.jsx(IAe,W({},e)),gH=(e,t)=>t&&e.length>1?[e[0]]:e,mH=(e,t)=>n=>W({},n,{sorting:W({},n.sorting,{sortModel:gH(e,t)})}),PAe=e=>e==="desc",DAe=(e,t)=>{const n=t.current.getColumn(e.field);if(!n||e.sort===null)return null;let r;return n.getSortComparator?r=n.getSortComparator(e.sort):r=PAe(e.sort)?(...o)=>-1*n.sortComparator(...o):n.sortComparator,r?{getSortCellParams:o=>({id:o,field:n.field,rowNode:Ql(t,o),value:t.current.getCellValue(o,n.field),api:t.current}),comparator:r}:null},AAe=(e,t,n)=>e.reduce((r,i,o)=>{if(r!==0)return r;const s=t.params[o],l=n.params[o];return r=i.comparator(s.value,l.value,s,l),r},0),LAe=(e,t)=>{const n=e.map(r=>DAe(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(i=>({node:i,params:n.map(o=>o.getSortCellParams(i.id))})).sort((i,o)=>AAe(n,i,o)).map(i=>i.node.id)},vH=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},TR=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,NAe=new Intl.Collator,BAe=(e,t)=>{const n=TR(e,t);return n!==null?n:typeof e=="string"?NAe.compare(e.toString(),t.toString()):e-t},yH=(e,t)=>{const n=TR(e,t);return n!==null?n:Number(e)-Number(t)},bH=(e,t)=>{const n=TR(e,t);return n!==null?n:e>t?1:e<t?-1:0},FAe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function Ia(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,tabIndex:s,disabled:l,slotProps:c,clearButton:u,headerFilterMenu:h}=e,p=Tt(e,FAe),g=c?.root,m=bs(),[y,b]=_.useState(MR(t.value)),[v,S]=_.useState(!1),E=sr(),T=It(),O=_.useCallback(M=>{const I=MR(M.target.value);b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=W({},t,{value:r==="number"&&!Number.isNaN(Number(I))?Number(I):I,fromInput:E});n(N),S(!1)})},[m,T.filterDebounceMs,t,r,E,n]);return _.useEffect(()=>{(t.fromInput!==E||t.value==null)&&b(MR(t.value))},[E,t]),C.jsxs(_.Fragment,{children:[C.jsx(T.slots.baseTextField,W({id:E,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:y??"",onChange:O,type:r||"text",disabled:l,slotProps:W({},g?.slotProps,{input:W({endAdornment:v?C.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.slotProps?.input),htmlInput:W({tabIndex:s},g?.slotProps?.htmlInput)}),inputRef:o},T.slotProps?.baseTextField,p,g)),h,u]})}function MR(e){if(!(e==null||e===""))return String(e)}function jAe(e){return typeof e=="number"&&!Number.isNaN(e)}function VAe(e){return typeof e=="function"}function OR(e){return typeof e=="object"&&e!==null}function $Ae(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Zw(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Mh=(e,t,n)=>Math.max(t,Math.min(n,e));function zAe(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function UAe(e){const t=zAe(e);return(n,r)=>n+(r-n)*t()}function wH(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const Bu=(e,t)=>n=>{e&&t(n)};function SH(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,slotProps:s}=e,l=sr(),[c,u]=_.useState([]),[h,p]=_.useState(t.value||[]),g=It();_.useEffect(()=>{const v=t.value??[];p(v.map(String))},[t.value]);const m=_.useCallback((v,S)=>{p(S.map(String)),n(W({},t,{value:[...S.map(E=>r==="number"?Number(E):E)]}))},[n,t,r]),y=_.useCallback((v,S)=>{u(S===""?[]:[S])},[u]),b=g.slots.baseAutocomplete;return C.jsx(b,W({multiple:!0,freeSolo:!0,options:c,id:l,value:h,onChange:m,onInputChange:y,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:o}}},s?.root))}var ec=(function(e){return e.Cell="cell",e.Row="row",e})(ec||{}),Tr=(function(e){return e.Edit="edit",e.View="view",e})(Tr||{}),Zr=(function(e){return e.Edit="edit",e.View="view",e})(Zr||{}),cs=(function(e){return e.And="and",e.Or="or",e})(cs||{});class HAe{constructor(t){this.data=t.ids}has(t){return this.data.has(t)}select(t){this.data.add(t)}unselect(t){this.data.delete(t)}}class GAe{constructor(t){this.data=t.ids}has(t){return!this.data.has(t)}select(t){this.data.delete(t)}unselect(t){this.data.add(t)}}const Fu=e=>e.type==="include"?new HAe(e):new GAe(e);var Lc=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e})(Lc||{}),ka=(function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(ka||{}),ju=(function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e})(ju||{}),tc=(function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e})(tc||{});function CH(e){return e.field!==void 0}const xH={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},Bm=()=>({items:[],logicOperator:cs.And,quickFilterValues:[],quickFilterLogicOperator:cs.And});function _H(e){return{current:e.current.getPublicApi()}}let Vu=(function(e){return e.LEFT="left",e.RIGHT="right",e})({});const Qw={left:[],right:[]},EH=ri(e=>e.isRtl),TH=ri(e=>e.props.listView??!1),MH=ri(e=>e.listViewColumn),ml=ri(e=>e.columns),nc=Ht(ml,e=>e.orderedFields),Nc=Ht(ml,e=>e.lookup),Pa=gr(nc,Nc,(e,t)=>e.map(n=>t[n])),Da=Ht(ml,e=>e.columnVisibilityModel),WAe=Ht(ml,e=>e.initialColumnVisibilityModel),_i=gr(Pa,Da,TH,MH,(e,t,n,r)=>n&&r?[r]:e.filter(i=>t[i.field]!==!1)),Fm=gr(_i,e=>e.map(t=>t.field)),OH=ri(e=>e.pinnedColumns);gr(OH,nc,EH,(e,t,n)=>RH(e,t,n));const Jw=gr(ml,OH,Fm,EH,TH,(e,t,n,r,i)=>{if(i)return Qw;const o=RH(t,n,r);return{left:o.left.map(l=>e.lookup[l]),right:o.right.map(l=>e.lookup[l])}});function RH(e,t,n){if(!Array.isArray(e.left)&&!Array.isArray(e.right)||e.left?.length===0&&e.right?.length===0)return Qw;const r=(l,c)=>Array.isArray(l)?l.filter(u=>c.includes(u)):[],i=r(e.left,t),o=t.filter(l=>!i.includes(l)),s=r(e.right,o);return n?{left:s,right:i}:{left:i,right:s}}const Oh=gr(_i,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),IH=gr(Pa,e=>e.filter(t=>t.filterable)),KAe=gr(Pa,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),qAe=gr(Pa,e=>e.some(t=>t.colSpan!==void 0));let jm;function YAe(){if(jm!==void 0)return jm;try{jm=new Function("return true")()}catch{jm=!1}return jm}const RR=(e,t)=>{const n=W({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=Nc(t)[n.field];n.operator=r&&r.filterOperators[0].value}return n},IR=(e,t,n)=>{const r=e.items.length>1;let i;r&&t?i=[e.items[0]]:i=e.items;const o=r&&i.some(l=>l.id==null);return i.some(l=>l.operator==null)||o?W({},e,{items:i.map(l=>RR(l,n))}):e.items!==i?W({},e,{items:i}):e},kH=(e,t,n)=>r=>W({},r,{filterModel:IR(e,t,n)}),Vm=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,PH=(e,t)=>{if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){const h=n.valueParser;r=Array.isArray(e.value)?e.value?.map(p=>h(p,void 0,n,t)):h(e.value,void 0,n,t)}else r=e.value;const{ignoreDiacritics:i}=t.current.rootProps;i&&(r=Vm(r));const o=W({},e,{value:r}),s=n.filterOperators;if(!s?.length)throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const l=s.find(h=>h.value===o.operator);if(!l)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${o.operator}'.`);const c=_H(t),u=l.getApplyFilterFn(o,n);return typeof u!="function"?null:{item:o,fn:h=>{let p=t.current.getRowValue(h,n);return i&&(p=Vm(p)),u(p,h,n,c)}}};let DH=1;const XAe=(e,t,n)=>{const{items:r}=e,i=r.map(l=>PH(l,t)).filter(l=>!!l);if(i.length===0)return null;if(n||!YAe())return(l,c)=>{const u={};for(let h=0;h<i.length;h+=1){const p=i[h];(!c||c(p.item.field))&&(u[p.item.id]=p.fn(l))}return u};const o=new Function("appliers","row","shouldApplyFilter",`"use strict";
${i.map((l,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(l.item.field)});`).join(`
`)}

const result$$ = {
${i.map((l,c)=>`  ${JSON.stringify(String(l.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(DH)));return DH+=1,(l,c)=>o(i,l,c)},AH=e=>e.quickFilterExcludeHiddenColumns??!0,ZAe=(e,t)=>{const n=e.quickFilterValues?.filter(Boolean)??[];if(n.length===0)return null;const r=nc(t),i=Da(t);let o;AH(e)?o=r.filter(u=>i[u]!==!1):o=r;const s=[],{ignoreDiacritics:l}=t.current.rootProps,c=_H(t);return o.forEach(u=>{const h=t.current.getColumn(u),p=h?.getApplyQuickFilterFn;p&&s.push({column:h,appliers:n.map(g=>{const m=l?Vm(g):g;return{fn:p(m,h,c)}})})}),function(h,p){const g={};e:for(let m=0;m<n.length;m+=1){const y=n[m];for(let b=0;b<s.length;b+=1){const{column:v,appliers:S}=s[b],{field:E}=v;if(p&&!p(E))continue;const T=S[m];let O=t.current.getRowValue(h,v);if(T.fn===null)continue;if(l&&(O=Vm(O)),T.fn(O,h,v,c)){g[y]=!0;continue e}}g[y]=!1}return g}},QAe=(e,t,n)=>{const r=XAe(e,t,n),i=ZAe(e,t);return function(s,l,c){c.passingFilterItems=r?.(s,l)??null,c.passingQuickFilterValues=i?.(s,l)??null}},LH=e=>e!=null,JAe=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(r=>PH(r,t)!==null)),e.cleanedFilterItems),eLe=(e,t,n,r,i)=>{const o=JAe(i,r,n.items),s=e.filter(LH),l=t.filter(LH);if(s.length>0){const c=h=>s.some(p=>p[h.id]);if((n.logicOperator??Bm().logicOperator)===cs.And){if(!o.every(c))return!1}else if(!o.some(c))return!1}if(l.length>0&&n.quickFilterValues!=null){const c=h=>l.some(p=>p[h]);if((n.quickFilterLogicOperator??Bm().quickFilterLogicOperator)===cs.And){if(!n.quickFilterValues.every(c))return!1}else if(!n.quickFilterValues.some(c))return!1}return!0},tLe=e=>{if(!e)return null;const t=new RegExp(Zw(e),"i");return(n,r,i,o)=>{let s=o.current.getRowFormattedValue(r,i);return o.current.ignoreDiacritics&&(s=Vm(s)),s!=null?t.test(s.toString()):!1}},NH=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),i=new RegExp(Zw(r),"i");return o=>{if(o==null)return t;const s=i.test(String(o));return t?!s:s}},BH=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),i=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return o=>{if(o==null)return t;const s=i.compare(r,o.toString())===0;return t?!s:s}},FH=e=>()=>t=>{const n=t===""||t==null;return e?!n:n},vl={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:BAe,type:"string",align:"left",filterOperators:((e=!1)=>[{value:"contains",getApplyFilterFn:NH(e,!1),InputComponent:Ia},{value:"doesNotContain",getApplyFilterFn:NH(e,!0),InputComponent:Ia},{value:"equals",getApplyFilterFn:BH(e,!1),InputComponent:Ia},{value:"doesNotEqual",getApplyFilterFn:BH(e,!0),InputComponent:Ia},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${Zw(n)}.*$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:Ia},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${Zw(n)}$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:Ia},{value:"isEmpty",getApplyFilterFn:FH(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:FH(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(i=>i.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?n.some(o=>r.compare(o,i.toString()||"")===0):!1},InputComponent:SH}])(),renderEditCell:kAe,getApplyQuickFilterFn:tLe};function jH(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const eS=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",nLe=e=>!!e.key,VH=e=>e==="Tab"||e==="Escape";function $H(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="V"&&!e.shiftKey&&!e.altKey}function rLe(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="C"&&!e.shiftKey&&!e.altKey}const zH=_.createContext(void 0),tS=()=>{const e=_.useContext(zH);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e},iLe="MuiDataGridVariables",kR=_.createContext({className:"unset",tag:C.jsx("style",{href:"/unset"})});function UH(){return _.useContext(kR).className}function oLe(){return _.useContext(kR)}function sLe(e){const t=tS(),n=It(),r=t.hooks.useCSSVariables(),i=_.useMemo(()=>{const o=`${iLe}-${r.id}`,s=`.${o}{${aLe(r.variables)}}`,l=C.jsx("style",{href:`/${o}`,nonce:n.nonce,children:s});return{className:o,tag:l}},[n.nonce,r]);return C.jsx(kR.Provider,{value:i,children:e.children})}function aLe(e){let t="";for(const n in e)Object.hasOwn(e,n)&&e[n]!==void 0&&(t+=`${n}:${e[n]};`);return t}const lLe=["open","target","onClose","children","position","className","onExited"],cLe=e=>{const{classes:t}=e;return _t({root:["menu"]},qn,t)},uLe=Te(Jl,{name:"MuiDataGrid",slot:"Menu"})({zIndex:Dt.zIndex.menu,[`& .${se.menuList}`]:{outline:0}});function nS(e){const{open:t,target:n,onClose:r,children:i,position:o,className:s,onExited:l}=e,c=Tt(e,lLe),u=Rn(),h=It(),p=cLe(h),g=UH(),m=_.useRef(null);pr(()=>{t?m.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(m.current?.focus?.(),m.current=null)},[t]),_.useEffect(()=>{const v=t?"menuOpen":"menuClose";u.current.publishEvent(v,{target:n})},[u,t,n]);const y=v=>{v.target&&(n===v.target||n?.contains(v.target))||r(v)},b=v=>{VH(v.key)&&r(v)};return C.jsx(uLe,W({as:h.slots.basePopper,className:Je(p.root,s,g),ownerState:h,open:t,target:n,transition:!0,placement:o,onClickAway:y,onExited:l,clickAwayMouseEvent:"onMouseDown",onKeyDown:b},c,h.slotProps?.basePopper,{children:i}))}const dLe=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],hLe=e=>typeof e.getActions=="function";function fLe(e){const{colDef:t,id:n,hasFocus:r,tabIndex:i,position:o="bottom-end",focusElementRef:s}=e,l=Tt(e,dLe),[c,u]=_.useState(-1),[h,p]=_.useState(!1),g=Rn(),m=_.useRef(null),y=_.useRef(null),b=_.useRef(!1),v=_.useRef({}),S=Oo(),E=sr(),T=sr(),O=It();if(!hLe(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const M=t.getActions(g.current.getRowParams(n)),I=M.filter(z=>!z.props.showInMenu),N=M.filter(z=>z.props.showInMenu),D=I.length+(N.length?1:0);_.useLayoutEffect(()=>{r||Object.entries(v.current).forEach(([z,Y])=>{Y?.stop({},()=>{delete v.current[z]})})},[r]),_.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),_.useEffect(()=>{r||(u(-1),b.current=!1)},[r]),_.useImperativeHandle(s,()=>({focus(){if(!b.current){const z=M.findIndex(Y=>!Y.props.disabled);u(z)}}}),[M]),_.useEffect(()=>{c>=D&&u(D-1)},[c,D]);const L=()=>{p(!0),u(D-1),b.current=!0},A=()=>{p(!1)},$=z=>{z.stopPropagation(),z.preventDefault(),h?A():L()},j=z=>Y=>{v.current[z]=Y},U=(z,Y)=>te=>{u(z),b.current=!0,Y&&Y(te)},K=z=>{if(D<=1)return;const Y=(ie,Q)=>{if(ie<0||ie>M.length)return ie;const X=(Q==="left"?-1:1)*(S?-1:1);return M[ie+X]?.props.disabled?Y(ie+X,Q):ie+X};let te=c;z.key==="ArrowRight"?te=Y(c,"right"):z.key==="ArrowLeft"&&(te=Y(c,"left")),!(te<0||te>=D)&&te!==c&&(z.preventDefault(),z.stopPropagation(),u(te))},q=D>0?{role:"menu",onKeyDown:K}:void 0;return C.jsxs("div",W({ref:m,tabIndex:-1,className:se.actionsCell},q,l,{children:[I.map((z,Y)=>_.cloneElement(z,{key:Y,touchRippleRef:j(Y),onClick:U(Y,z.props.onClick),tabIndex:c===Y?i:-1})),N.length>0&&T&&C.jsx(O.slots.baseIconButton,W({ref:y,id:T,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":h,"aria-controls":h?E:void 0,role:"menuitem",size:"small",onClick:$,touchRippleRef:j(T),tabIndex:c===I.length?i:-1},O.slotProps?.baseIconButton,{children:C.jsx(O.slots.moreActionsIcon,{fontSize:"small"})})),N.length>0&&C.jsx(nS,{open:h,target:y.current,position:o,onClose:A,children:C.jsx(O.slots.baseMenuList,{id:E,className:se.menuList,"aria-labelledby":T,autoFocusItem:!0,children:N.map((z,Y)=>_.cloneElement(z,{key:Y,closeMenu:A}))})})]}))}const pLe=e=>C.jsx(fLe,W({},e)),rS="actions",gLe=W({},vl,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:pLe,getApplyQuickFilterFn:()=>null}),mLe="__tree_data_group__",HH="__row_group_by_columns_group__",PR="__detail_panel_toggle__";let Jn=(function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e})({});const vLe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],yLe=e=>{const{classes:t}=e;return _t({root:["booleanCell"]},qn,t)};function bLe(e){const{value:t,rowNode:n}=e,r=Tt(e,vLe),i=Rn(),o=It(),s={classes:o.classes},l=yLe(s),u=dt(i,Am)>0&&n.type==="group"&&o.treeData===!1,h=_.useMemo(()=>t?o.slots.booleanCellTrueIcon:o.slots.booleanCellFalseIcon,[o.slots.booleanCellFalseIcon,o.slots.booleanCellTrueIcon,t]);return u&&t===void 0?null:C.jsx(h,W({fontSize:"small",className:l.root,titleAccess:i.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},r))}const wLe=_.memo(bLe),SLe=e=>e.field!==HH&&$f(e.rowNode)?"":C.jsx(wLe,W({},e)),CLe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],xLe=e=>{const{classes:t}=e;return _t({root:["editBooleanCell"]},qn,t)};function _Le(e){const{id:t,value:n,field:r,className:i,hasFocus:o,onValueChange:s}=e,l=Tt(e,CLe),c=Rn(),u=_.useRef(null),h=sr(),[p,g]=_.useState(n),m=It(),y={classes:m.classes},b=xLe(y),v=_.useCallback(async S=>{const E=S.target.checked;s&&await s(S,E),g(E),await c.current.setEditCellValue({id:t,field:r,value:E},S)},[c,r,t,s]);return _.useEffect(()=>{g(n)},[n]),pr(()=>{o&&u.current.focus()},[o]),C.jsx("label",W({htmlFor:h,className:Je(b.root,i)},l,{children:C.jsx(m.slots.baseCheckbox,W({id:h,inputRef:u,checked:!!p,onChange:v,size:"small"},m.slotProps?.baseCheckbox))}))}const ELe=e=>C.jsx(_Le,W({},e)),TLe=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function MLe(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:i,headerFilterMenu:o,clearButton:s,tabIndex:l,slotProps:c}=e,u=Tt(e,TLe),[h,p]=_.useState(iS(t.value)),g=It(),m=sr(),y=sr(),b=g.slotProps?.baseSelect||{},v=b.native??!1,S=g.slotProps?.baseSelectOption||{},E=_.useCallback(M=>{const I=iS(M.target.value);p(I),n(W({},t,{value:I}))},[n,t]);_.useEffect(()=>{p(iS(t.value))},[t.value]);const T=c?.root.label??r.current.getLocaleText("filterPanelInputLabel"),O=c?.root.slotProps;return C.jsxs(_.Fragment,{children:[C.jsxs(g.slots.baseSelect,W({fullWidth:!0,labelId:m,id:y,label:T,value:h===void 0?"":String(h),onChange:E,native:v,slotProps:{htmlInput:W({ref:i,tabIndex:l},O?.htmlInput)}},b,u,c?.root,{children:[C.jsx(g.slots.baseSelectOption,W({},S,{native:v,value:"",children:r.current.getLocaleText("filterValueAny")})),C.jsx(g.slots.baseSelectOption,W({},S,{native:v,value:"true",children:r.current.getLocaleText("filterValueTrue")})),C.jsx(g.slots.baseSelectOption,W({},S,{native:v,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]})),o,s]})}function iS(e){if(String(e).toLowerCase()==="true")return!0;if(String(e).toLowerCase()==="false")return!1}const OLe=()=>[{value:"is",getApplyFilterFn:e=>{const t=iS(e.value);return t===void 0?null:n=>!!n===t},InputComponent:MLe}],RLe=(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),ILe=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},GH=W({},vl,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:SLe,renderEditCell:ELe,sortComparator:yH,valueFormatter:RLe,filterOperators:OLe(),getApplyQuickFilterFn:()=>null,aggregable:!1,pastedValueParser:e=>ILe(e)});function oS(e){for(const t in e)return!1;return!0}const WH=ri(e=>e.sorting),$m=Ht(WH,e=>e.sortedRows),DR=gr($m,Ra,ko,(e,t,n)=>e.reduce((r,i)=>{const o=t[i];if(o)r.push({id:i,model:o});else{const s=n[i];s&&$f(s)&&r.push({id:i,model:{[Th]:i}})}return r},[])),Aa=Ht(WH,e=>e.sortModel),kLe=gr(Aa,e=>e.reduce((n,r,i)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?i+1:void 0},n),{}));gr($m,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const sS=ri(e=>e.filter),mo=Ht(sS,e=>e.filterModel),KH=Ht(mo,e=>e.quickFilterValues),PLe=ri(e=>e.visibleRowsLookup),Uf=Ht(sS,e=>e.filteredRowsLookup);Ht(sS,e=>e.filteredChildrenCountLookup),Ht(sS,e=>e.filteredDescendantCountLookup);const $u=gr(PLe,DR,(e,t)=>oS(e)?t:t.filter(n=>e[n.id]!==!1)),Rh=gr($u,e=>e.map(t=>t.id)),qH=gr(Uf,DR,(e,t)=>oS(e)?t:t.filter(n=>e[n.id]!==!1)),YH=gr(qH,e=>e.map(t=>t.id));gr(Rh,ko,(e,t)=>{const n={};let r=0;return e.reduce((i,o)=>{const s=t[o];return n[s.depth]||(n[s.depth]=0),s.depth>r&&(n[s.depth]=0),r=s.depth,n[s.depth]+=1,i[o]=n[s.depth],i},{})});const XH=gr($u,ko,Am,(e,t,n)=>n<2?e:e.filter(r=>t[r.id]?.depth===0)),AR=Ht($u,e=>e.length),LR=Ht(XH,e=>e.length),ZH=Ht(qH,e=>e.length);Ht(ZH,LR,(e,t)=>e-t);const NR=gr(mo,Nc,(e,t)=>e.items?.filter(n=>{if(!n.field)return!1;const r=t[n.field];if(!r?.filterOperators||r?.filterOperators?.length===0)return!1;const i=r.filterOperators.find(o=>o.value===n.operator);return i?!i.InputComponent||n.value!=null&&n.value?.toString()!=="":!1})),DLe=gr(NR,e=>e.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{}));gr(Rh,e=>e.reduce((t,n,r)=>(t[n]=r,t),Object.create(null)));const yl=ri(e=>e.rowSelection),zm=gr(yl,Fu),aS=Ht(yl,ZH,(e,t)=>e.type==="include"?e.ids.size:t-e.ids.size),QH=gr(yl,Ra,Eh,(e,t,n)=>{const r=new Map;if(e.type==="include")for(const i of e.ids)r.set(i,t[i]);else for(let i=0;i<n.length;i+=1){const o=n[i];e.ids.has(o)||r.set(o,t[o])}return r});function JH(e,t){const n=ko(e),r=$m(e),i=Uf(e),o=n[t];if(!o||o.type!=="group")return[];const s=[],l=r.findIndex(c=>c===t)+1;for(let c=l;c<r.length&&n[r[c]]?.depth>o.depth;c+=1){const u=r[c];i[u]!==!1&&e.current.isRowSelectable(u)&&s.push(u)}return s}const ALe=Ht(ko,Uf,zm,(e,t,n,{groupId:r,autoSelectParents:i})=>{const o=e[r];if(!o||o.type!=="group"||n.has(r))return{isIndeterminate:!1,isChecked:n.has(r)};let s=!1,l=!1;const c=u=>{if(t[u]===!1||s&&l)return;const h=e[u];h?.type==="group"&&h.children.forEach(c),n.has(u)?s=!0:l=!0};return c(r),{isIndeterminate:s&&l,isChecked:i?s&&!l:!1}});function BR(e){return e.signature===gl.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const LLe=(e,t)=>{const n=[];let r=t;for(;r!=null&&r!==go;){const i=e[r];if(!i)return n;n.push(r),r=i.parent}return n},NLe=(e,t,n)=>{const r=e[n];if(!r)return[];const i=r.parent;return i==null?[]:e[i].children.filter(s=>s!==n&&t[s]!==!1)},Um=(e,t,n,r,i,o,s=zm(e))=>{const l=Uf(e),c=new Set([]);if(!(!r&&!i||l[n]===!1)&&(r&&t[n]?.type==="group"&&JH(e,n).forEach(p=>{o(p),c.add(p)}),i)){const u=g=>{if(!s.has(g)&&!c.has(g))return!1;const m=t[g];return m?m.type!=="group"?!0:m.children.every(u):!1},h=g=>{const m=NLe(t,l,g);if(m.length===0||m.every(u)){const b=t[g]?.parent;b!=null&&b!==go&&e.current.isRowSelectable(b)&&(o(b),c.add(b),h(b))}},p=t[n];if(!p||p.parent===go)return;h(n)}},eG=(e,t,n,r,i,o)=>{const s=zm(e);!i&&!r||(i&&LLe(t,n).forEach(c=>{s.has(c)&&o(c)}),r&&t[n]?.type==="group"&&JH(e,n).forEach(u=>{o(u)}))},BLe=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],FLe=e=>{const{classes:t}=e;return _t({root:["checkboxInput"]},qn,t)},jLe=fn(function(t,n){const{field:r,id:i,rowNode:o,tabIndex:s}=t,l=Tt(t,BLe),c=Rn(),u=It(),h={classes:u.classes},p=FLe(h),g=E=>{const T={value:E.target.checked,id:i};c.current.publishEvent("rowSelectionCheckboxChange",T,E)};_.useLayoutEffect(()=>{if(s===0){const E=c.current.getCellElement(i,r);E&&(E.tabIndex=-1)}},[c,s,i,r]);const m=_.useCallback(E=>{E.key===" "&&E.stopPropagation()},[]),y=c.current.isRowSelectable(i),{isIndeterminate:b,isChecked:v}=dt(c,ALe,{groupId:i,autoSelectParents:u.rowSelectionPropagation?.parents??!1});if(o.type==="footer"||o.type==="pinnedRow")return null;const S=c.current.getLocaleText(v&&!b?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return C.jsx(u.slots.baseCheckbox,W({tabIndex:s,checked:v&&!b,onChange:g,className:p.root,slotProps:{htmlInput:{"aria-label":S,name:"select_row"}},onKeyDown:m,indeterminate:b,disabled:!y},u.slotProps?.baseCheckbox,l,{ref:n}))}),lS=ri(e=>e.focus),_s=Ht(lS,e=>e.cell),VLe=Ht(lS,e=>e.columnHeader);Ht(lS,e=>e.columnHeaderFilter);const cS=Ht(lS,e=>e.columnGroupHeader),uS=ri(e=>e.tabIndex),FR=Ht(uS,e=>e.cell),tG=Ht(uS,e=>e.columnHeader);Ht(uS,e=>e.columnHeaderFilter);const $Le=Ht(uS,e=>e.columnGroupHeader),zLe=100,ULe=e=>e?0:100,nG=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,rG=e=>({page:0,pageSize:e?0:100}),HLe=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),iG=(e,t)=>{if(t===gl.DataGrid&&e>zLe)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},GLe=-1,Hf=ri(e=>e.pagination),oG=Ht(Hf,e=>e.enabled&&e.paginationMode==="client"),Po=Ht(Hf,e=>e.paginationModel),Gf=Ht(Hf,e=>e.rowCount),Hm=Ht(Hf,e=>e.meta),WLe=Ht(Po,e=>e.page),sG=Ht(Po,e=>e.pageSize),aG=Ht(Po,Gf,(e,t)=>nG(t,e.pageSize,e.page)),jR=gr(oG,Po,ko,Am,$u,XH,(e,t,n,r,i,o)=>{if(!e)return null;const s=o.length,l=Math.min(t.pageSize*t.page,s-1),c=t.pageSize===GLe?s-1:Math.min(l+t.pageSize-1,s-1);if(l===-1||c===-1)return null;if(r<2)return{firstRowIndex:l,lastRowIndex:c};const u=o[l],h=c-l+1,p=i.findIndex(y=>y.id===u.id);let g=p,m=0;for(;g<i.length&&m<=h;){const y=i[g],b=n[y.id]?.depth;b===void 0?g+=1:((m<h||b>0)&&(g+=1),b===0&&(m+=1))}return{firstRowIndex:p,lastRowIndex:g-1}}),KLe=gr($u,jR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),lG=gr(Rh,jR,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Gm=gr(oG,jR,KLe,$u,(e,t,n,r)=>e?{rows:n,range:t,rowIdToIndexMap:n.reduce((i,o,s)=>(i.set(o.id,s),i),new Map)}:{rows:r,range:r.length===0?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowIdToIndexMap:r.reduce((i,o,s)=>(i.set(o.id,s),i),new Map)}),qLe=["field","colDef"],YLe=e=>{const{classes:t}=e;return _t({root:["checkboxInput"]},qn,t)},XLe=fn(function(t,n){const r=Tt(t,qLe),[,i]=_.useState(!1),o=Rn(),s=It(),l={classes:s.classes},c=YLe(l),u=dt(o,tG),h=dt(o,yl),p=dt(o,Rh),g=dt(o,lG),m=_.useMemo(()=>{const N=s.isRowSelectable;if(typeof N!="function"||h.type==="exclude")return h;const D={type:"include",ids:new Set};for(const L of h.ids)s.keepNonExistentRowsSelected&&D.ids.add(L),o.current.getRow(L)&&N(o.current.getRowParams(L))&&D.ids.add(L);return D},[o,s.isRowSelectable,s.keepNonExistentRowsSelected,h]),y=_.useMemo(()=>{const N=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?p:g,D=new Set;for(let L=0;L<N.length;L+=1){const A=N[L];o.current.getRow(A)&&o.current.isRowSelectable(A)&&D.add(A)}return D},[o,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,g,p]),b=_.useMemo(()=>{const N=Fu(m);let D=0;for(const L of y)N.has(L)&&(D+=1);return D},[m,y]),v=_.useMemo(()=>{if(b===0)return!1;const N=Fu(m);for(const D of y)if(!N.has(D))return!0;return!1},[b,m,y]),S=b>0,E=N=>{const D={value:N.target.checked};o.current.publishEvent("headerSelectionCheckboxChange",D)},T=u!==null&&u.field===t.field?0:-1;_.useLayoutEffect(()=>{const N=o.current.getColumnHeaderElement(t.field);T===0&&N&&(N.tabIndex=-1)},[T,o,t.field]);const O=_.useCallback(N=>{N.key===" "&&o.current.publishEvent("headerSelectionCheckboxChange",{value:!S})},[o,S]),M=_.useCallback(()=>{i(N=>!N)},[]);_.useEffect(()=>o.current.subscribeEvent("rowSelectionChange",M),[o,M]);const I=o.current.getLocaleText(S&&!v?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return C.jsx(s.slots.baseCheckbox,W({indeterminate:v,checked:S&&!v,onChange:E,className:c.root,slotProps:{htmlInput:{"aria-label":I,name:"select_all_rows"}},tabIndex:T,onKeyDown:O,disabled:!BR(s)},s.slotProps?.baseCheckbox,r,{ref:n}))}),Wf=ri((e,t)=>Th in t?t[Th]:e.props.getRowId?e.props.getRowId(t):t.id),bl="__check__",Kf=W({},GH,{type:"custom",field:bl,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,n,r)=>{const i=Wf(r,t);return r.current.isRowSelected(i)},rowSpanValueGetter:(e,t,n,r)=>Wf(r,t),renderHeader:e=>C.jsx(XLe,W({},e)),renderCell:e=>C.jsx(jLe,W({},e))}),ZLe=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function cG(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function qf(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,slotProps:s,headerFilterMenu:l,clearButton:c,tabIndex:u,disabled:h}=e,p=Tt(e,ZLe),g=s?.root.slotProps,m=bs(),[y,b]=_.useState(()=>cG(t.value,r)),[v,S]=_.useState(!1),E=sr(),T=It(),O=_.useCallback(M=>{m.clear();const I=M.target.value;b(I),S(!0),m.start(T.filterDebounceMs,()=>{const N=new Date(I);n(W({},t,{value:Number.isNaN(N.getTime())?void 0:N})),S(!1)})},[n,t,T.filterDebounceMs,m]);return _.useEffect(()=>{const M=cG(t.value,r);b(M)},[t.value,r]),C.jsxs(_.Fragment,{children:[C.jsx(T.slots.baseTextField,W({fullWidth:!0,id:E,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:y,onChange:O,type:r||"text",disabled:h,inputRef:o,slotProps:W({},g,{input:W({endAdornment:v?C.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):null},g?.input),htmlInput:W({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:u},g?.htmlInput)})},T.slotProps?.baseTextField,p,s?.root)),l,c]})}function Yf(e,t,n,r){if(!e.value)return null;const i=new Date(e.value);n?i.setSeconds(0,0):(i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i.setHours(0,0,0,0));const o=i.getTime();return s=>{if(!s)return!1;if(r)return t(s.getTime(),o);const l=new Date(s);return n?l.setSeconds(0,0):l.setHours(0,0,0,0),t(l.getTime(),o)}}const uG=e=>[{value:"is",getApplyFilterFn:t=>Yf(t,(n,r)=>n===r,e),InputComponent:qf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Yf(t,(n,r)=>n!==r,e),InputComponent:qf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Yf(t,(n,r)=>n>r,e),InputComponent:qf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Yf(t,(n,r)=>n>=r,e),InputComponent:qf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Yf(t,(n,r)=>n<r,e,!e),InputComponent:qf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Yf(t,(n,r)=>n<=r,e),InputComponent:qf,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],QLe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],JLe=Te(Jl)({fontSize:"inherit"}),eNe=e=>{const{classes:t}=e;return _t({root:["editInputCell"]},qn,t)};function tNe(e){const{id:t,value:n,field:r,colDef:i,hasFocus:o,onValueChange:s,slotProps:l}=e,c=Tt(e,QLe),u=i.type==="dateTime",h=Rn(),p=_.useRef(null),g=_.useMemo(()=>{let O;n==null?O=null:n instanceof Date?O=n:O=new Date((n??"").toString());let M;return O==null||Number.isNaN(O.getTime())?M="":M=new Date(O.getTime()-O.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:O,formatted:M}},[n,u]),[m,y]=_.useState(g),b=It(),v={classes:b.classes},S=eNe(v),E=_.useCallback(O=>{if(O==="")return null;const[M,I]=O.split("T"),[N,D,L]=M.split("-"),A=new Date;if(A.setFullYear(Number(N),Number(D)-1,Number(L)),A.setHours(0,0,0,0),I){const[$,j]=I.split(":");A.setHours(Number($),Number(j),0,0)}return A},[]),T=_.useCallback(async O=>{const M=O.target.value,I=E(M);s&&await s(O,I),y({parsed:I,formatted:M}),h.current.setEditCellValue({id:t,field:r,value:I},O)},[h,r,t,s,E]);return _.useEffect(()=>{y(O=>g.parsed!==O.parsed&&g.parsed?.getTime()!==O.parsed?.getTime()?g:O)},[g]),pr(()=>{o&&p.current.focus()},[o]),C.jsx(JLe,W({as:b.slots.baseInput,inputRef:p,fullWidth:!0,className:S.root,type:u?"datetime-local":"date",value:m.formatted,onChange:T},c,l?.root,{slotProps:{htmlInput:W({max:u?"9999-12-31T23:59":"9999-12-31"},l?.root?.slotProps?.htmlInput)}}))}const dG=e=>C.jsx(tNe,W({},e));function hG({value:e,columnType:t,rowId:n,field:r}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}const nNe=(e,t,n,r)=>{if(!e)return"";const i=Wf(r,t);return sH(t)&&!(e instanceof Date)?e:(hG({value:e,columnType:"date",rowId:i,field:n.field}),e.toLocaleDateString())},rNe=(e,t,n,r)=>{if(!e)return"";const i=Wf(r,t);return sH(t)&&!(e instanceof Date)?e:(hG({value:e,columnType:"dateTime",rowId:i,field:n.field}),e.toLocaleString())},iNe=W({},vl,{type:"date",sortComparator:bH,valueFormatter:nNe,filterOperators:uG(),renderEditCell:dG,pastedValueParser:e=>new Date(e)}),oNe=W({},vl,{type:"dateTime",sortComparator:bH,valueFormatter:rNe,filterOperators:uG(!0),renderEditCell:dG,pastedValueParser:e=>new Date(e)}),zu=e=>e==null?null:Number(e),sNe=W({},vl,{type:"number",align:"right",headerAlign:"right",sortComparator:yH,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>jAe(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>zu(t)===e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>zu(t)!==e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:zu(t)>e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:zu(t)>=e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:zu(t)<e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:zu(t)<=e.value,InputComponent:Ia,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:SH,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:e=>e==null||Number.isNaN(e)||e===""?null:t=>zu(t)===zu(e)});function Wm(e){return e?.type==="singleSelect"}function Ih(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(W({field:e.field},t)):e.valueOptions}function dS(e,t,n){if(t===void 0)return;const r=t.find(i=>{const o=n(i);return String(o)===String(e)});return n(r)}const aNe=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function lNe(e){return"key"in e&&!!e.key}function fG(e){const t=It(),{id:n,value:r,field:i,row:o,colDef:s,hasFocus:l,error:c,onValueChange:u,initialOpen:h=t.editMode===ec.Cell,slotProps:p}=e,g=Tt(e,aNe),m=Rn(),y=_.useRef(null),b=_.useRef(null),[v,S]=_.useState(h),T=(t.slotProps?.baseSelect||{}).native??!1;if(pr(()=>{l&&b.current?.focus()},[l]),!Wm(s))return null;const O=Ih(s,{id:n,row:o});if(!O)return null;const M=s.getOptionValue,I=s.getOptionLabel,N=async A=>{if(!Wm(s)||!O)return;S(!1);const $=A.target,j=dS($.value,O,M);u&&await u(A,j),await m.current.setEditCellValue({id:n,field:i,value:j},A)},D=(A,$)=>{if(t.editMode===ec.Row){S(!1);return}if($==="backdropClick"||A.key==="Escape"){const j=m.current.getCellParams(n,i);m.current.publishEvent("cellEditStop",W({},j,{reason:A.key==="Escape"?ka.escapeKeyDown:ka.cellFocusOut}))}},L=A=>{lNe(A)&&A.key==="Enter"||S(!0)};return!O||!s?null:C.jsx(t.slots.baseSelect,W({ref:y,value:r,onChange:N,open:v,onOpen:L,onClose:D,error:c,native:T,fullWidth:!0,slotProps:{htmlInput:{ref:b}}},g,p?.root,t.slotProps?.baseSelect,{children:O.map(A=>{const $=M(A);return _.createElement(t.slots.baseSelectOption,W({},t.slotProps?.baseSelectOption||{},{native:T,key:$,value:$}),I(A))})}))}const cNe=e=>C.jsx(fG,W({},e)),uNe=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],dNe=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:r,isSelectNative:i,baseSelectOptionProps:o})=>["",...Ih(e)||[]].map(l=>{const c=r(l);let u=n(l);return u===""&&(u=" "),_.createElement(t,W({},o,{native:i,key:c,value:c}),u)});function pG(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,tabIndex:s,clearButton:l,headerFilterMenu:c,slotProps:u}=e,h=Tt(e,uNe),p=t.value??"",g=sr(),m=sr(),y=It(),b=y.slotProps?.baseSelect?.native??!1,v=i.current.getColumn(t.field),S=v.getOptionValue,E=v.getOptionLabel,T=_.useMemo(()=>Ih(v),[v]),O=_.useCallback(I=>{let N=I.target.value;N=dS(N,T,S),n(W({},t,{value:N}))},[T,S,n,t]);if(!v||!Wm(v))return null;const M=u?.root.label??i.current.getLocaleText("filterPanelInputLabel");return C.jsxs(_.Fragment,{children:[C.jsx(y.slots.baseSelect,W({fullWidth:!0,id:g,label:M,labelId:m,value:p,onChange:O,slotProps:{htmlInput:W({tabIndex:s,ref:o,type:r||"text",placeholder:u?.root.placeholder??i.current.getLocaleText("filterPanelInputPlaceholder")},u?.root.slotProps?.htmlInput)},native:b},y.slotProps?.baseSelect,h,u?.root,{children:dNe({column:v,OptionComponent:y.slots.baseSelectOption,getOptionLabel:E,getOptionValue:S,isSelectNative:b,baseSelectOptionProps:y.slotProps?.baseSelectOption})})),c,l]})}const hNe=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function fNe(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:o,slotProps:s}=e,l=Tt(e,hNe),c=sr(),u=It(),h=i.current.getColumn(t.field),p=h.getOptionValue,g=h.getOptionLabel,m=_.useCallback((E,T)=>p(E)===p(T),[p]),y=_.useMemo(()=>Ih(h)||[],[h]),b=_.useMemo(()=>Array.isArray(t.value)?t.value.reduce((E,T)=>{const O=y.find(M=>p(M)===T);return O!=null&&E.push(O),E},[]):[],[p,t.value,y]),v=_.useCallback((E,T)=>{n(W({},t,{value:T.map(p)}))},[n,t,p]);if(!h||!Wm(h))return null;const S=u.slots.baseAutocomplete;return C.jsx(S,W({multiple:!0,options:y,isOptionEqualToValue:m,id:c,value:b,onChange:v,getOptionLabel:g,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:r||"text",inputRef:o}}},l,s?.root))}const Xf=e=>e==null||!OR(e)?e:e.value,pNe=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Xf(t)===Xf(e.value),InputComponent:pG},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Xf(t)!==Xf(e.value),InputComponent:pG},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Xf);return n=>t.includes(Xf(n))},InputComponent:fNe}],gNe=e=>typeof e[0]=="object",mNe=W({},vl,{type:"singleSelect",getOptionLabel:e=>OR(e)?e.label:String(e),getOptionValue:e=>OR(e)?e.value:e,valueFormatter(e,t,n,r){const i=Wf(r,t);if(!Wm(n))return"";const o=Ih(n,{id:i,row:t});if(e==null)return"";if(!o)return e;if(!gNe(o))return n.getOptionLabel(e);const s=o.find(l=>n.getOptionValue(l)===e);return s?n.getOptionLabel(s):""},renderEditCell:cNe,filterOperators:pNe(),pastedValueParser:(e,t,n)=>{const r=n,i=Ih(r)||[],o=r.getOptionValue;if(i.find(l=>o(l)===e))return e}}),vNe="string",yNe=()=>({string:vl,number:sNe,date:iNe,dateTime:oNe,boolean:GH,singleSelect:mNe,[rS]:gLe,custom:vl}),VR=ri(e=>e.headerFiltering),bNe=Ht(VR,e=>e?.enabled??!1),wNe=Ht(VR,e=>e.editing),SNe=Ht(VR,e=>e.menuOpen),hS=ri(e=>e.columnGrouping),gG=gr(hS,e=>e?.unwrappedGroupingModel??{}),mG=gr(hS,e=>e?.lookup??{}),CNe=gr(hS,e=>e?.headerStructure??[]),Km=Ht(hS,e=>e?.maxDepth??0),vG=["maxWidth","minWidth","width","flex"],$R=yNe();function xNe({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r=new Set(n.map(s=>s.field)),i={all:{},frozenFields:[],freeze:s=>{const l=i.all[s];l&&l.frozen!==!0&&(i.all[s].frozen=!0,i.frozenFields.push(s))}};function o(){if(i.frozenFields.length===r.size)return;const s={min:{},max:{}};let l=e,c=t,u=0;i.frozenFields.forEach(h=>{l-=i.all[h].computedWidth,c-=i.all[h].flex});for(let h=0;h<n.length;h+=1){const p=n[h];if(i.all[p.field]&&i.all[p.field].frozen===!0)continue;let m=l/c*p.flex;m<p.minWidth?(u+=p.minWidth-m,m=p.minWidth,s.min[p.field]=!0):m>p.maxWidth&&(u+=p.maxWidth-m,m=p.maxWidth,s.max[p.field]=!0),i.all[p.field]={frozen:!1,computedWidth:m,flex:p.flex}}u<0?Object.keys(s.max).forEach(h=>{i.freeze(h)}):u>0?Object.keys(s.min).forEach(h=>{i.freeze(h)}):n.forEach(({field:h})=>{i.freeze(h)}),o()}return o(),i.all}const zR=(e,t)=>{const n={};let r=0,i=0;const o=[];e.orderedFields.forEach(c=>{let u=e.lookup[c],h=0,p=!1;e.columnVisibilityModel[c]!==!1&&(u.flex&&u.flex>0?(r+=u.flex,p=!0):h=Mh(u.width||vl.width,u.minWidth||vl.minWidth,u.maxWidth||vl.maxWidth),i+=h),u.computedWidth!==h&&(u=W({},u,{computedWidth:h})),p&&o.push(u),n[c]=u});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),l=Math.max(s-i,0);if(r>0&&s>0){const c=xNe({initialFreeSpace:l,totalFlexUnits:r,flexColumns:o});Object.keys(c).forEach(u=>{n[u]=W({},n[u],{computedWidth:c[u].computedWidth})})}return W({},e,{lookup:n})},_Ne=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,i=Object.keys(r);if(i.length===0&&n.length===0)return e;const o={},s=[];for(let h=0;h<n.length;h+=1){const p=n[h];e.lookup[p]&&(o[p]=!0,s.push(p))}const l=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(h=>!o[h])],c=W({},e.lookup);for(let h=0;h<i.length;h+=1){const p=i[h],g=W({},c[p],{hasBeenResized:!0});Object.entries(r[p]).forEach(([m,y])=>{g[m]=y===-1?1/0:y}),c[p]=g}return W({},e,{orderedFields:l,lookup:c})};function UR(e){let t=$R[vNe];return e&&$R[e]&&(t=$R[e]),t}const Zf=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:r=Da(e),keepOnlyColumnsToUpsert:i=!1,updateInitialVisibilityModel:o=!1})=>{const s=!e.current.state.columns;let l;if(s)l={orderedFields:[],lookup:{},columnVisibilityModel:r,initialColumnVisibilityModel:r};else{const p=ml(e);l={orderedFields:i?[]:[...p.orderedFields],lookup:W({},p.lookup),columnVisibilityModel:r,initialColumnVisibilityModel:o?r:p.initialColumnVisibilityModel}}const c={};if(i&&!s)for(const p in l.lookup)Object.prototype.hasOwnProperty.call(l.lookup,p)&&(c[p]=!1);t.forEach(p=>{const{field:g}=p;c[g]=!0;let m=l.lookup[g];m==null?(m=W({},UR(p.type),{field:g,hasBeenResized:!1}),l.orderedFields.push(g)):i&&l.orderedFields.push(g),m&&m.type!==p.type&&(m=W({},UR(p.type),{field:g}));let y=m.hasBeenResized;vG.forEach(b=>{p[b]!==void 0&&(y=!0,p[b]===-1&&(p[b]=1/0))}),l.lookup[g]=lh(m,W({},UR(p.type),p,{hasBeenResized:y}))}),i&&!s&&Object.keys(l.lookup).forEach(p=>{c[p]||delete l.lookup[p]});const u=e.current.unstable_applyPipeProcessors("hydrateColumns",l),h=_Ne(u,n);return zR(h,e.current.getRootDimensions?.()??void 0)};function qm(e,t){if(t.listView)return 0;const n=Nm(e),r=Km(e),i=bNe(e),o=Math.floor(t.columnHeaderHeight*n),s=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n),l=i?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return o+s*r+l}const fS=1,yG=1.5,ENe=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return _t(r,qn,n)},TNe=fr("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${se["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${se["scrollArea--right"]}`]:t["scrollArea--right"]},{[`&.${se["scrollArea--up"]}`]:t["scrollArea--up"]},{[`&.${se["scrollArea--down"]}`]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${se["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${se["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${se["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${se["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),MNe=Ht(xi,(e,t)=>t==="left"?e.leftPinnedWidth:t==="right"?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function ONe(e){const t=Rn(),[n,r]=_.useState("none");return Vt(t,"columnHeaderDragStart",()=>r("horizontal")),Vt(t,"columnHeaderDragEnd",()=>r("none")),Vt(t,"rowDragStart",()=>r("vertical")),Vt(t,"rowDragEnd",()=>r("none")),n==="none"?null:n==="horizontal"?C.jsx(RNe,W({},e)):C.jsx(INe,W({},e))}function RNe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),i=Rn(),o=bs(),s=dt(i,Nm),l=dt(i,CR),c=dt(i,MNe,t),u=()=>{const b=xi(i);if(t==="left")return n.current.left>0;if(t==="right"){const v=l-b.viewportInnerSize.width;return n.current.left<v}return!1},h=It(),p=qm(i,h),g=Math.floor(h.columnHeaderHeight*s),m=W({height:g,top:p-g},t==="left"?{left:c}:{},t==="right"?{right:c}:{}),y=Xt(b=>{let v;if(b.preventDefault(),t==="left")v=b.clientX-r.current.getBoundingClientRect().right;else if(t==="right")v=Math.max(1,b.clientX-r.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");v=(v-fS)*yG+fS,o.start(0,()=>{i.current.scroll({left:n.current.left+v,top:n.current.top})})});return C.jsx(bG,W({},e,{ref:r,getCanScrollMore:u,style:m,handleDragOver:y}))}function INe(e){const{scrollDirection:t,scrollPosition:n}=e,r=_.useRef(null),i=Rn(),o=bs(),s=dt(i,xR),l=()=>{const g=xi(i);if(t==="up")return n.current.top>0;if(t==="down"){const y=(s.currentPageTotalHeight||0)-g.viewportInnerSize.height-(g.hasScrollX?g.scrollbarSize:0);return n.current.top<y}return!1},c=It(),u=qm(i,c),h={top:t==="up"?u:void 0,bottom:t==="down"?0:void 0},p=Xt(g=>{let m;if(g.preventDefault(),t==="up")m=g.clientY-r.current.getBoundingClientRect().bottom;else if(t==="down")m=Math.max(1,g.clientY-r.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");m=(m-fS)*yG+fS,o.start(0,()=>{i.current.scroll({left:n.current.left,top:n.current.top+m})})});return C.jsx(bG,W({},e,{ref:r,getCanScrollMore:l,style:h,handleDragOver:p}))}const bG=fn(function(t,n){const{scrollDirection:r,getCanScrollMore:i,style:o,handleDragOver:s}=t,l=Rn(),[c,u]=_.useState(i),h=It(),p=W({},h,{scrollDirection:r}),g=ENe(p);return Vt(l,"scrollPositionChange",()=>{u(i)}),c?C.jsx(TNe,{ref:n,className:g.root,ownerState:p,onDragOver:s,style:o}):null}),pS=Ac(ONe),wG=_.createContext(void 0);function Ys(){const e=_.useContext(wG);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const kNe=()=>{},PNe=(e,t)=>{const n=_.useRef(!1);pr(()=>n.current||!e?kNe:(n.current=!0,t()),[n.current||e])};function jn(e,t,n){const r=_.useRef(!0);pr(()=>{r.current=!1,e.current.register(n,t)},[e,n,t]),r.current&&e.current.register(n,t)}function Do(e,t){const n=_.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}const SG=(e,t,n,r,i)=>{const o=Do(e,"useNativeEventListener");Ur(e,"rootMount",()=>{const s=t();if(!(!s||!n))return o.debug(`Binding native ${n} event`),s.addEventListener(n,r,i),()=>{o.debug(`Clearing native ${n} event`),s.removeEventListener(n,r,i)}})};function kh(e){const t=_.useRef(!0);t.current&&(t.current=!1,e())}const DNe=fr("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"&&e!=="right"})(({overlayType:e,loadingOverlayVariant:t,right:n})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${n}px`,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),ANe=fr("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"})({}),LNe=e=>{const{classes:t}=e;return _t({root:["overlayWrapper"],inner:["overlayWrapperInner"]},qn,t)};function NNe(e){const t=Rn(),n=It(),r=dt(t,xi);let i=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);i===0&&(i=lH);const o=LNe(W({},e,{classes:n.classes}));return C.jsx(DNe,W({className:o.root},e,{right:r.columnsTotalWidth-r.viewportOuterSize.width,children:C.jsx(ANe,W({className:o.inner,style:{height:i,width:r.viewportOuterSize.width}},e))}))}const CG=ri(e=>e.pivoting),Ph=Ht(CG,e=>e?.active),BNe=new Map,xG=Ht(CG,e=>e?.initialColumns||BNe),FNe=()=>{const e=Rn(),t=It(),n=dt(e,Vf),r=dt(e,AR),i=dt(e,rH),o=dt(e,_i),s=n===0&&i===0,l=dt(e,aAe),c=dt(e,Ph),u=!l&&s,h=!l&&n>0&&r===0,p=!l&&o.length===0,g=u&&c;let m=null,y=null;u&&(m="noRowsOverlay"),p&&(m="noColumnsOverlay"),g&&(m="emptyPivotOverlay"),h&&(m="noResultsOverlay"),l&&(m="loadingOverlay",y=t.slotProps?.loadingOverlay?.[s?"noRowsVariant":"variant"]??(s?"skeleton":"linear-progress"));const b={overlayType:m,loadingOverlayVariant:y};return{getOverlay:()=>{if(!m)return null;const S=t.slots?.[m],E=t.slotProps?.[m];return C.jsx(NNe,W({},b,{children:C.jsx(S,W({},E))}))},overlaysProps:b}},gS=ri(e=>e.columnMenu);function jNe(){const e=Ys(),t=It(),n=dt(e,_i),r=dt(e,DLe),i=dt(e,kLe),o=dt(e,tG),s=dt(e,()=>FR(e)===null),l=dt(e,$Le),c=dt(e,VLe),u=dt(e,cS),h=dt(e,Km),p=dt(e,gS),g=dt(e,Da),m=dt(e,CNe),y=!(l===null&&o===null&&s),b=e.current.columnHeadersContainerRef;return C.jsx(t.slots.columnHeaders,W({ref:b,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:i,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:l,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y},t.slotProps?.columnHeaders))}const VNe=Ac(jNe),$Ne=fr("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),zNe=fr("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n,loadingOverlayVariant:r,overlayType:i}=e,o=r==="skeleton"||i==="noColumnsOverlay";return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],o&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),UNe=fn((e,t)=>{const{ownerState:n}=e,r=It(),o=tS().hooks.useGridAriaAttributes();return C.jsxs(zNe,W({ownerState:n,className:e.className,tabIndex:-1},o,r.slotProps?.main,{ref:t,children:[C.jsx($Ne,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),HNe=()=>_t({root:["topContainer"]},qn,{}),GNe=fr("div")({position:"sticky",zIndex:40,top:0});function WNe(e){const t=HNe();return C.jsx(GNe,W({},e,{className:Je(t.root,se["container--top"]),role:"presentation"}))}const KNe=(e,t)=>{const{classes:n}=e;return _t({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},qn,n)},qNe=fr("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),YNe=fn(function(t,n){const r=It(),i=!r.autoHeight&&t.style?.minHeight==="auto",o=KNe(r,i),s={classes:r.classes,overflowedContent:i};return C.jsx(qNe,W({},t,{ownerState:s,className:Je(o.root,t.className),ref:n}))}),XNe=fr("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),_G=fr("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:Dt.cell.background.pinned}),ZNe=fr(_G)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),QNe=fr(_G)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),JNe=fr("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function eBe({rowsLength:e}){const t=Rn(),{viewportOuterSize:n,minimumSize:r,hasScrollX:i,hasScrollY:o,scrollbarSize:s,leftPinnedWidth:l,rightPinnedWidth:c}=dt(t,xi),u=i?s:0,h=n.height-r.height>0;return u===0&&!h?null:C.jsxs(XNe,{className:se.filler,role:"presentation",style:{height:u,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[l>0&&C.jsx(ZNe,{className:se["filler--pinnedLeft"],style:{width:l}}),C.jsx(JNe,{}),c>0&&C.jsx(QNe,{className:se["filler--pinnedRight"],style:{width:c+(o?s:0)}})]})}const tBe=Ac(eBe),nBe=["className"],rBe=e=>{const{classes:t}=e;return _t({root:["virtualScrollerRenderZone"]},qn,t)},iBe=fr("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),oBe=fn(function(t,n){const{className:r}=t,i=Tt(t,nBe),o=Ys(),s=It(),l=rBe(s),c=o.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return C.jsx(iBe,W({className:Je(l.root,r),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},i,{ref:n}))}),sBe={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},vo=ri(e=>e.editRows),EG=Ht(vo,(e,{rowId:t,editMode:n})=>n===ec.Row&&!!e[t]),aBe=Ht(vo,(e,{rowId:t,field:n})=>e[t]?.[n]??null),Dh=ri(e=>e.preferencePanel),lBe=Ht(Dh,(e,t)=>!!(e.open&&e.labelId===t));var us=(function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e})(us||{});const cBe={initialize:uBe,use:dBe,selectors:{}};function uBe(e){return{colspanMap:new Map}}function dBe(e,t,n){const r=t.colspan?.getColspan,i=()=>{e.state.colspanMap=new Map},o=(l,c)=>e.state.colspanMap.get(l)?.[c],s=Xt(r?(l,c,u,h)=>{for(let p=c;p<u;p+=1){const g=hBe(e.state.colspanMap,p,l,c,u,h,r);g.colSpan>1&&(p+=g.colSpan-1)}}:()=>{});return n.calculateColSpan=s,{resetColSpan:i,getCellColSpanInfo:o,calculateColSpan:s}}function hBe(e,t,n,r,i,o,s){const l=o.length,c=o[t],u=s(n,c,t);if(!u||u===1)return HR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let h=c.computedWidth;for(let p=1;p<u;p+=1){const g=t+p;if(g>=r&&g<i){const m=o[g];h+=m.computedWidth,HR(e,n,t+p,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+u,l-1),leftVisibleCellIndex:t})}HR(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:u,width:h}})}return{colSpan:u}}function HR(e,t,n,r){let i=e.get(t);i||(i={},e.set(t,i)),i[n]=r}function fBe(e,t=166){let n,r;const i=()=>{n=void 0,e(...r)};function o(...s){r=s,n===void 0&&(n=setTimeout(i,t))}return o.clear=()=>{clearTimeout(n),n=void 0},o}function La(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o+=1)if(!La(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let o=0;o<i.length;o+=1)if(!t.has(i[o][0]))return!1;for(let o=0;o<i.length;o+=1){const s=i[o];if(!La(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let o=0;o<i.length;o+=1)if(!t.has(i[o][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o+=1)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(let i=0;i<r;i+=1){const o=n[i];if(!La(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ah(e,t){return Math.round(e*10**t)/10**t}const Bc={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},pBe={EMPTY:{top:[],bottom:[]}},gBe={EMPTY:{left:[],right:[]}};let ki=(function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e})({});(function(e){function t(n,r){return n===0&&r===0?ki.NONE:Math.abs(r)>=Math.abs(n)?r>0?ki.DOWN:ki.UP:n>0?ki.RIGHT:ki.LEFT}e.forDelta=t})(ki||(ki={}));const mBe={isReady:!1,root:Bc.EMPTY,viewportOuterSize:Bc.EMPTY,viewportInnerSize:Bc.EMPTY,contentSize:Bc.EMPTY,minimumSize:Bc.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},Qf={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:Bf((e,t)=>{const n=[];let r=0;for(let i=0;i<t.length;i+=1)n.push(r),r+=t[i].computedWidth;return n}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},Es={initialize:vBe,use:yBe,selectors:Qf};function vBe(e){const t=W({},mBe,e.dimensions),{rowCount:n}=e,{rowHeight:r}=t,i={currentPageTotalHeight:n*r,positions:Array.from({length:n},(s,l)=>l*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},o=new Map;return{rootSize:Bc.EMPTY,dimensions:t,rowsMeta:i,rowHeights:o}}function yBe(e,t,n){const r=_.useRef(!0),{refs:i,dimensions:{rowHeight:o,columnsTotalWidth:s,leftPinnedWidth:l,rightPinnedWidth:c,topPinnedHeight:u,bottomPinnedHeight:h},onResize:p}=t,g=i.container.current,m=_.useCallback(()=>{if(r.current)return;const T=Qf.rootSize(e.state),O=Qf.rowsMeta(e.state),M=SBe(g,t.dimensions.scrollbarSize),I=u+O.pinnedTopRowsTotalHeight,N=h+O.pinnedBottomRowsTotalHeight,D={width:s,height:Ah(O.currentPageTotalHeight,1)};let L,A,$=!1,j=!1;if(t.autoHeight)j=!1,$=Math.round(s)>Math.round(T.width),L={width:T.width,height:I+N+D.height},A={width:Math.max(0,L.width-(j?M:0)),height:Math.max(0,L.height-($?M:0))};else{L={width:T.width,height:T.height},A={width:Math.max(0,L.width),height:Math.max(0,L.height-I-N)};const Y=D,te=A,ie=Y.width>te.width,Q=Y.height>te.height;(ie||Q)&&(j=Q,$=Y.width+(j?M:0)>te.width,$&&(j=Y.height+M>te.height)),j&&(A.width-=M),$&&(A.height-=M)}const U=Math.max(L.width,s+(j?M:0)),K={width:s,height:I+D.height+N},q={isReady:!0,root:T,viewportOuterSize:L,viewportInnerSize:A,contentSize:D,minimumSize:K,hasScrollX:$,hasScrollY:j,scrollbarSize:M,rowWidth:U,rowHeight:o,columnsTotalWidth:s,leftPinnedWidth:l,rightPinnedWidth:c,topContainerHeight:I,bottomContainerHeight:N},z=e.state.dimensions;La(z,q)||(e.update({dimensions:q}),p?.(q.root))},[e,g,t.dimensions.scrollbarSize,t.autoHeight,p,o,s,l,c,u,h]),{resizeThrottleMs:y}=t,b=Xt(m),v=_.useMemo(()=>y>0?fBe(b,y):void 0,[y,b]);_.useEffect(()=>v?.clear,[v]);const S=Xt(T=>{e.state.rootSize=T,r.current||!v?(r.current=!1,m()):v()});pr(()=>wBe(g,e,S),[g,e,S]),pr(m,[m]);const E=bBe(e,t,m);return{updateDimensions:m,debouncedUpdateDimensions:v,rowsMeta:E}}function bBe(e,t,n){const r=e.state.rowHeights,{rows:i,getRowHeight:o,getRowSpacing:s,getEstimatedRowHeight:l}=t,c=_.useRef(-1),u=_.useRef(!1),h=_.useRef(!1),p=t.pinnedRows,g=Er(e,Qf.rowHeight),m=Xt(A=>{let $=r.get(A);return $===void 0&&($={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},r.set(A,$)),$}),{applyRowHeight:y}=t,b=_.useCallback(A=>{const $=Qf.dimensions(e.state),j=$.rowHeight,U=m(A.id);if(!o)U.content=j,U.needsFirstMeasurement=!1;else{const K=o(A);if(K==="auto"){if(U.needsFirstMeasurement){const q=l?l(A):j;U.content=q??j}u.current=!0,U.autoHeight=!0}else U.content=K??$.rowHeight,U.needsFirstMeasurement=!1,U.autoHeight=!1}if(s){const K=s(A);U.spacingTop=K.top??0,U.spacingBottom=K.bottom??0}else U.spacingTop=0,U.spacingBottom=0;return y?.(U,A),U},[e,o,m,l,g,s,y]),v=_.useCallback(()=>{u.current=!1;const A=p?.top.reduce((z,Y)=>{const te=b(Y);return z+te.content+te.spacingTop+te.spacingBottom+te.detail},0)??0,$=p?.bottom.reduce((z,Y)=>{const te=b(Y);return z+te.content+te.spacingTop+te.spacingBottom+te.detail},0)??0,j=[],U=i.reduce((z,Y)=>{j.push(z);const te=b(Y),ie=te.content+te.spacingTop+te.spacingBottom+te.detail;return z+ie},0);u.current||(c.current=1/0);const K=A!==e.state.rowsMeta.pinnedTopRowsTotalHeight||$!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||U!==e.state.rowsMeta.currentPageTotalHeight,q={currentPageTotalHeight:U,positions:j,pinnedTopRowsTotalHeight:A,pinnedBottomRowsTotalHeight:$};e.set("rowsMeta",q),K&&n(),h.current=!0},[e,p,i,b,n]),S=Xt(v),E=A=>r.get(A)?.content??Qf.rowHeight(e.state),T=(A,$)=>{const j=m(A),U=j.content!==$;j.needsFirstMeasurement=!1,j.content=$,h.current&&=!U},O=A=>r.get(A)?.autoHeight??!1,M=()=>c.current,I=A=>{u.current&&A>c.current&&(c.current=A)},N=()=>{r.clear(),v()},D=Gs(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(A=>{for(let $=0;$<A.length;$+=1){const j=A[$],U=j.borderBoxSize&&j.borderBoxSize.length>0?j.borderBoxSize[0].blockSize:j.contentRect.height,K=j.target.__mui_id;if(t.focusedVirtualCell?.()?.id===K&&U===0)return;T(K,U)}h.current||requestAnimationFrame(()=>{S()})})).current,L=(A,$)=>(A.__mui_id=$,D?.observe(A),()=>D?.unobserve(A));return pr(()=>{v()},[v]),{getRowHeight:E,setLastMeasuredRowIndex:I,storeRowHeightMeasurement:T,hydrateRowsMeta:v,observeRowHeight:L,rowHasAutoHeight:O,getRowHeightEntry:m,getLastMeasuredRowIndex:M,resetRowHeights:N}}function wBe(e,t,n){if(!e)return;const r=e.getBoundingClientRect(),i={width:Ah(r.width,1),height:Ah(r.height,1)};if((t.state.rootSize===Bc.EMPTY||!Bc.equals(i,t.state.rootSize))&&n(i),typeof ResizeObserver>"u")return;const o=new ResizeObserver(([s])=>{if(!s)return;const l={width:Ah(s.contentRect.width,1),height:Ah(s.contentRect.height,1)};Bc.equals(l,t.state.rootSize)||n(l)});return o.observe(e),()=>{o.disconnect()}}const TG=new WeakMap;function SBe(e,t){if(t!==void 0)return t;if(e===null)return 0;const n=TG.get(e);if(n!==void 0)return n;const i=Si(e).createElement("div");i.style.width="99px",i.style.height="99px",i.style.position="absolute",i.style.overflow="scroll",i.className="scrollDiv",e.appendChild(i);const o=i.offsetWidth-i.clientWidth;return e.removeChild(i),TG.set(e,o),o}const CBe=(typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty").includes("firefox"),GR=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),Jf=(e,t,n)=>Math.max(t,Math.min(n,e)),WR=50,MG={top:0,left:0},xBe=Object.freeze(new Map),mS={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},vS={renderContext:lr(e=>e.virtualization.renderContext),enabledForRows:lr(e=>e.virtualization.enabledForRows),enabledForColumns:lr(e=>e.virtualization.enabledForColumns)},OG={initialize:_Be,use:EBe,selectors:vS};function _Be(e){return{virtualization:W({enabled:!GR,enabledForRows:!GR,enabledForColumns:!GR,renderContext:mS},e.initialState?.virtualization),getters:null}}function EBe(e,t,n){const{refs:r,dimensions:{rowHeight:i,columnsTotalWidth:o},virtualization:{isRtl:s=!1,rowBufferPx:l=150,columnBufferPx:c=150},colspan:u,initialState:h,rows:p,range:g,columns:m,pinnedRows:y=pBe.EMPTY,pinnedColumns:b=gBe.EMPTY,minimalContentHeight:v,autoHeight:S,onWheel:E,onTouchMove:T,onRenderContextChange:O,onScrollChange:M,scrollReset:I,renderRow:N,renderInfiniteLoadingTrigger:D}=t,L=Er(e,Es.selectors.needsHorizontalScrollbar),A=y.bottom.length>0,[$,j]=_.useState(xBe),[,U]=_.useState(0),K=_.useRef(!1),q=Er(e,vS.renderContext),z=Er(e,vS.enabledForRows),Y=Er(e,vS.enabledForColumns),te=Er(e,Es.selectors.rowsMeta),ie=Er(e,Es.selectors.contentHeight),Q=_.useRef(h?.scroll??MG),H=_.useRef(!1),X=_.useRef(MG),he=_.useRef(mS),pe=bs(),ge=_.useRef(void 0),ce=Gs(()=>OBe(s,l,c,i*15,WR*6)).current,be=_.useCallback(Ke=>{PG(Ke,e.state.virtualization.renderContext)||e.set("virtualization",W({},e.state.virtualization,{renderContext:Ke}));const $t=Es.selectors.dimensions(e.state).isReady,yt=Ke.firstRowIndex!==he.current.firstRowIndex||Ke.lastRowIndex!==he.current.lastRowIndex;$t&&yt&&(he.current=Ke,O?.(Ke)),X.current=Q.current},[e,O]),Ne=Xt(()=>{const Ke=r.scroller.current;if(!Ke)return;const $t=Es.selectors.dimensions(e.state),yt=Math.ceil($t.minimumSize.height-$t.viewportOuterSize.height),zt=Math.ceil($t.minimumSize.width-$t.viewportInnerSize.width),jt={top:Jf(Ke.scrollTop,0,yt),left:s?Jf(Ke.scrollLeft,-zt,0):Jf(Ke.scrollLeft,0,zt)},pn=jt.left-Q.current.left,un=jt.top-Q.current.top,Mt=pn!==0||un!==0;Q.current=jt;const At=Mt?ki.forDelta(pn,un):ki.NONE,Ye=Math.abs(Q.current.top-X.current.top),xt=Math.abs(Q.current.left-X.current.left),St=Ye>=i||xt>=WR,nt=ce.direction!==At;if(!(St||nt))return q;if(nt)switch(At){case ki.NONE:case ki.LEFT:case ki.RIGHT:ge.current=void 0;break;default:ge.current=q;break}ce.direction=At,ce.buffer=AG(s,At,l,c,i*15,WR*6);const Pt=RG(e,t,n,z,Y),Et=IG(Pt,Q.current,ce);return PG(Et,q)||(Ob.flushSync(()=>{be(Et)}),pe.start(1e3,Ne)),Et}),_e=Xt(()=>{if(!Es.selectors.dimensions(e.state).isReady&&(z||Y))return;const Ke=RG(e,t,n,z,Y),$t=IG(Ke,Q.current,ce);ge.current=void 0,be($t)}),me=Xt(()=>{if(H.current){H.current=!1;return}const Ke=Ne();Ke&&M?.(Q.current,Ke)}),ye=()=>te.positions[q.firstRowIndex]??0,xe=(Ke={},$t)=>{if(!Ke.rows&&!g)return[];let yt=q;Ke.renderContext&&(yt=Ke.renderContext,yt.firstColumnIndex=q.firstColumnIndex,yt.lastColumnIndex=q.lastColumnIndex);const zt=!A&&Ke.position===void 0||A&&Ke.position==="bottom",jt=Ke.position!==void 0;let pn;switch(Ke.position){case"top":pn=0;break;case"bottom":pn=y.top.length+p.length;break;default:pn=y.top.length;break}const un=Ke.rows??p,Mt=yt.firstRowIndex,At=Math.min(yt.lastRowIndex,un.length),Ye=Ke.rows?LG(0,Ke.rows.length):LG(Mt,At);let xt=-1;const St=t.focusedVirtualCell?.();!jt&&St&&(St.rowIndex<Mt&&(Ye.unshift(St.rowIndex),xt=St.rowIndex),St.rowIndex>At&&(Ye.push(St.rowIndex),xt=St.rowIndex));const nt=[],mt=Es.selectors.columnPositions(e.state,m);return Ye.forEach(Pt=>{const{id:Et,model:Nt}=un[Pt];if($t&&!$t[Et])return;const nr=(g?.firstRowIndex||0)+pn+Pt;if(u?.enabled){const Tn=b.left.length,Mn=m.length-b.right.length;n.calculateColSpan(Et,Tn,Mn,m),b.left.length>0&&n.calculateColSpan(Et,0,b.left.length,m),b.right.length>0&&n.calculateColSpan(Et,m.length-b.right.length,m.length,m)}const An=n.rowsMeta.rowHasAutoHeight(Et)?"auto":n.rowsMeta.getRowHeight(Et);let Cr=!1;Ke.position===void 0&&(Cr=Pt===0);let rr=!1;const mr=Pt===un.length-1;if(zt)if(jt)rr=mr;else{const Tn=p.length-1;Pt===Tn&&(rr=!0)}let bt=yt;ge.current&&Pt>=ge.current.firstRowIndex&&Pt<ge.current.lastRowIndex&&(bt=ge.current);const Fr=Pt===xt,ai=St?.rowIndex===nr,Jt=DG(mt,bt,b.left.length),Gn=mr&&Ke.position==="top",Bt=bt.firstColumnIndex,en=bt.lastColumnIndex;if(nt.push(N({id:Et,model:Nt,rowIndex:nr,offsetLeft:Jt,columnsTotalWidth:o,baseRowHeight:An,firstColumnIndex:Bt,lastColumnIndex:en,focusedColumnIndex:ai?St.columnIndex:void 0,isFirstVisible:Cr,isLastVisible:rr,isVirtualFocusRow:Fr,showBottomBorder:Gn})),Fr)return;const Sn=$.get(Et);Sn&&nt.push(Sn),Ke.position===void 0&&mr&&nt.push(D(Et))}),nt},Ie=_.useMemo(()=>({overflowX:L?void 0:"hidden",overflowY:S?"hidden":void 0}),[L,S]),Pe=_.useMemo(()=>{const Ke={width:L?o:"auto",flexBasis:ie,flexShrink:0};return Ke.flexBasis===0&&(Ke.flexBasis=v),Ke},[o,ie,L,v]),Re=_.useRef(null),Fe=_.useCallback(Ke=>{Ke&&Re.current?.(o,ie)},[o,ie]);pr(()=>{K.current&&_e()},[Y,z,_e]),pr(()=>{r.scroller.current&&(r.scroller.current.scrollLeft=0)},[r.scroller,I]),PNe(q!==mS,()=>{if(M?.(Q.current,q),K.current=!0,h?.scroll&&r.scroller.current){const Ke=r.scroller.current,{top:$t,left:yt}=h.scroll,zt={top:!($t>0),left:!(yt>0)};!zt.left&&o&&(Ke.scrollLeft=yt,zt.left=!0,H.current=!0),!zt.top&&ie&&(Ke.scrollTop=$t,H.current=!0),(!zt.top||!zt.left)&&(Re.current=(jt,pn)=>{!zt.left&&jt&&(Ke.scrollLeft=yt,zt.left=!0,H.current=!0),!zt.top&&pn&&(Ke.scrollTop=$t,zt.top=!0,H.current=!0),zt.left&&zt.top&&(Re.current=null)})}}),Bw(e,Es.selectors.dimensions,_e);const ft=Ke=>$t=>{$t&&r[Ke].current!==$t&&(r[Ke].current=$t,U(yt=>yt+1))},Ue={setPanels:j,getOffsetTop:ye,getRows:xe,getContainerProps:()=>({ref:ft("container")}),getScrollerProps:()=>({ref:ft("scroller"),onScroll:me,onWheel:E,onTouchMove:T,style:Ie,role:"presentation",tabIndex:CBe?-1:void 0}),getContentProps:()=>({ref:Fe,style:Pe,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:ft("scrollbarVertical"),scrollPosition:Q}),getScrollbarHorizontalProps:()=>({ref:ft("scrollbarHorizontal"),scrollPosition:Q}),getScrollAreaProps:()=>({scrollPosition:Q})};return kh(()=>{e.state=W({},e.state,{getters:Ue})}),_.useEffect(()=>{e.update({getters:Ue})},Object.values(Ue)),{getters:Ue,useVirtualization:()=>Er(e,Ke=>Ke),setPanels:j,forceUpdateRenderContext:_e,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function RG(e,t,n,r,i){const o=Es.selectors.dimensions(e.state),s=t.rows,l=t.range,c=t.columns,u=n.getHiddenCellsOrigin(),h=t.rows.at(-1)?.id,p=c.at(-1);return{api:n,enabledForRows:r,enabledForColumns:i,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:o.leftPinnedWidth,columnsTotalWidth:o.columnsTotalWidth,viewportInnerWidth:o.viewportInnerSize.width,viewportInnerHeight:o.viewportInnerSize.height,lastRowHeight:h!==void 0?n.rowsMeta.getRowHeight(h):0,lastColumnWidth:p?.computedWidth??0,rowsMeta:Es.selectors.rowsMeta(e.state),columnPositions:Es.selectors.columnPositions(e.state,t.columns),rows:s,range:l,pinnedColumns:t.pinnedColumns,columns:c,hiddenCellsOriginMap:u,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function IG(e,t,n){const r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:i,left:o}=t,s=Math.abs(o)+e.leftPinnedWidth;if(e.enabledForRows){let c=Math.min(kG(e,i,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const u=e.hiddenCellsOriginMap[c];if(u){const p=Math.min(...Object.values(u));c=Math.min(c,p)}const h=e.autoHeight?c+e.rows.length:kG(e,i+e.viewportInnerHeight);r.firstRowIndex=c,r.lastRowIndex=h}if(e.enabledForColumns){let c=0,u=e.columnPositions.length,h=!1;const[p,g]=KR({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let m=p;m<g&&!h;m+=1){const y=e.rows[m];h=e.api.rowsMeta.rowHasAutoHeight(y.id)}(!h||e.virtualizeColumnsWithAutoRowHeight)&&(c=Uu(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),u=Uu(s+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=c,r.lastColumnIndex=u}return TBe(e,r,n)}function kG(e,t,n){const r=e.api.rowsMeta.getLastMeasuredRowIndex();let i=r===1/0;e.range?.lastRowIndex&&!i&&(i=r>=e.range.lastRowIndex);const o=Jf(r-(e.range?.firstRowIndex||0),0,e.rowsMeta.positions.length);return i||e.rowsMeta.positions[o]>=t?Uu(t,e.rowsMeta.positions,n):MBe(t,e.rowsMeta.positions,o,n)}function TBe(e,t,n){const[r,i]=KR({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[o,s]=KR({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns?.left.length??0,maxLastIndex:e.columns.length-(e.pinnedColumns?.right.length??0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),l=RBe({api:e.api,firstColumnToRender:o,firstRowToRender:r,lastRowToRender:i,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:i,firstColumnIndex:l,lastColumnIndex:s}}function Uu(e,t,n=void 0,r=0,i=t.length){if(t.length<=0)return-1;if(r>=i)return r;const o=r+Math.floor((i-r)/2),s=t[o];let l;if(n?.atStart){const c=(o===t.length-1?n.lastPosition:t[o+1])-s;l=e-c<s}else l=e<=s;return l?Uu(e,t,n,r,o):Uu(e,t,n,o+1,i)}function MBe(e,t,n,r=void 0){let i=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=i,i*=2;return Uu(e,t,r,Math.floor(n/2),Math.min(n,t.length))}function KR({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:r,minFirstIndex:i,maxLastIndex:o,positions:s,lastSize:l}){const c=s[e]-n,u=s[t]+r,h=Uu(c,s,{atStart:!0,lastPosition:s[s.length-1]+l}),p=Uu(u,s);return[Jf(h,i,o),Jf(p,i,o)]}function PG(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function DG(e,t,n){const r=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(r)}function AG(e,t,n,r,i,o){if(e)switch(t){case ki.LEFT:t=ki.RIGHT;break;case ki.RIGHT:t=ki.LEFT;break}switch(t){case ki.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case ki.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:o};case ki.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:o,columnBefore:0};case ki.UP:return{rowAfter:0,rowBefore:i,columnAfter:0,columnBefore:0};case ki.DOWN:return{rowAfter:i,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function OBe(e,t,n,r,i){return{direction:ki.NONE,buffer:AG(e,ki.NONE,t,n,r,i)}}function LG(e,t){return Array.from({length:t-e}).map((n,r)=>e+r)}function RBe({api:e,firstColumnToRender:t,firstRowToRender:n,lastRowToRender:r,visibleRows:i}){let o=t,s=!1;for(;!s&&o>=0;){s=!0;for(let l=n;l<r;l+=1)if(i[l]){const u=i[l].id,h=e.getCellColSpanInfo(u,o);if(h&&h.spannedByColSpan&&h.leftVisibleCellIndex<o){o=h.leftVisibleCellIndex,s=!1;break}}}return o}const IBe={initialize:kBe,use:PBe,selectors:{}};function kBe(e){return{}}function PBe(e,t,n){return{getViewportPageSize:()=>{const i=Es.selectors.dimensions(e.state);if(!i.isReady)return 0;if(t.getRowHeight){const s=OG.selectors.renderContext(e.state),l=s.lastRowIndex-s.firstRowIndex;return Math.min(l-1,t.rows.length)}const o=Math.floor(i.viewportInnerSize.height/i.rowHeight);return Math.min(o,t.rows.length)}}}const DBe={firstRowIndex:0,lastRowIndex:0},ABe={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},NG={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},ep={initialize:LBe,use:NBe,selectors:NG};function LBe(e){return{rowSpanning:e.initialState?.rowSpanning??{caches:ABe,processedRange:DBe}}}function NBe(e,t,n){return{getHiddenCellsOrigin:()=>NG.hiddenCellsOriginMap(e.state)}}const BG=[Es,OG,cBe,ep,IBe],BBe=e=>{const t=Gs(()=>new Em(BG.map(r=>r.initialize(e)).reduce((r,i)=>Object.assign(r,i),{}))).current,n={};for(const r of BG)Object.assign(n,r.use(t,e,n));return{store:t,api:n}},Ym=!(typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent)),FBe=(e,t)=>{const{disableVirtualization:n,autoHeight:r}=t;return W({},e,{virtualization:{enabled:!n&&Ym,enabledForColumns:!n&&Ym,enabledForRows:!n&&!r&&Ym,renderContext:mS}})};function jBe(e,t){const{virtualizer:n}=e.current,{autoHeight:r,disableVirtualization:i}=t,o=u=>{u&&=Ym,n.store.set("virtualization",W({},n.store.state.virtualization,{enabled:u,enabledForColumns:u,enabledForRows:u&&!r}))};jn(e,{unstable_setVirtualization:o,unstable_setColumnVirtualization:u=>{u&&=Ym,n.store.set("virtualization",W({},n.store.state.virtualization,{enabledForColumns:u}))}},"public");const c=n.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:c}),Ur(e,"sortedRowsSet",c),Ur(e,"paginationModelChange",c),Ur(e,"columnsChange",c),_.useEffect(()=>{o(!t.disableVirtualization)},[i,r])}const yS=ri(e=>e.virtualization);Ht(yS,e=>e.enabled);const VBe=Ht(yS,e=>e.enabledForColumns);Ht(yS,e=>e.enabledForRows);const FG=Ht(yS,e=>e.renderContext),$Be=ri(e=>e.virtualization.renderContext.firstColumnIndex),zBe=ri(e=>e.virtualization.renderContext.lastColumnIndex),UBe=gr($Be,zBe,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t}));function HBe(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}class GBe{constructor({ttl:t=3e5,getKey:n=HBe}){this.cache={},this.ttl=t,this.getKey=n}set(t,n){const r=this.getKey(t),i=Date.now()+this.ttl;this.cache[r]={value:n,expiry:i}}get(t){const n=this.getKey(t),r=this.cache[n];if(r){if(Date.now()>r.expiry){delete this.cache[n];return}return r.value}}clear(){this.cache={}}}class WBe extends Error{constructor(t){super(t.message),this.name="GridGetRowsError",this.params=t.params,this.cause=t.cause}}class KBe extends Error{constructor(t){super(t.message),this.name="GridUpdateRowError",this.params=t.params,this.cause=t.cause}}const qBe=(e,t)=>{const{classes:n}=e,r={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return _t(r,qn,n)},jG=fr("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),YBe=fr(jG)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),XBe=fr(jG)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),VG=fn(function(t,n){const r=Ys(),i=It(),o=_.useRef(!1),s=_.useRef(0),l=_.useRef(null),c=_.useRef(null),u=qBe(i,t.position),h=dt(r,xi),p=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",m=t.position==="vertical"?"top":"left",y=t.position==="vertical"?h.hasScrollX:h.hasScrollY,b=h.minimumSize[p]+(y?h.scrollbarSize:0),S=(t.position==="vertical"?h.viewportInnerSize.height:h.viewportOuterSize.width)*(b/h.viewportOuterSize[p]),E=Xt(()=>{const M=l.current,I=t.scrollPosition.current;if(!M||I[m]===s.current)return;if(s.current=I[m],o.current){o.current=!1;return}o.current=!0;const N=I[m]/b;M[g]=N*S}),T=Xt(()=>{const M=r.current.virtualScrollerRef.current,I=l.current;if(!I)return;if(o.current){o.current=!1;return}o.current=!0;const N=I[g]/S;M[g]=N*b});iw(()=>{const M=r.current.virtualScrollerRef.current,I=l.current,N={passive:!0};return M.addEventListener("scroll",E,N),I.addEventListener("scroll",T,N),()=>{M.removeEventListener("scroll",E,N),I.removeEventListener("scroll",T,N)}}),_.useEffect(()=>{c.current.style.setProperty(p,`${S}px`)},[S,p]);const O=t.position==="vertical"?YBe:XBe;return C.jsx(O,{ref:Zn(n,l),className:u.root,style:t.position==="vertical"&&i.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:M=>{M.target.blur()},children:C.jsx("div",{ref:c,className:u.content})})}),ZBe=e=>{const{classes:t,hasScrollX:n,hasPinnedRight:r,loadingOverlayVariant:i,overlayType:o}=e;return _t({root:["main",r&&"main--hasPinnedRight",(i==="skeleton"||o==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},qn,t)},QBe=fr("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),JBe=e=>e.current.state.dimensions.rightPinnedWidth>0;function eFe(e){const t=Ys(),n=It(),r=dt(t,nAe),i=dt(t,tAe),o=dt(t,JBe),s=dt(t,sAe),{getOverlay:l,overlaysProps:c}=FNe(),u=W({classes:n.classes,hasScrollX:i,hasPinnedRight:o},c),h=ZBe(u),p=t.current.virtualizer.api.useVirtualization().getters,{getContainerProps:g,getScrollerProps:m,getContentProps:y,getScrollbarVerticalProps:b,getScrollbarHorizontalProps:v,getRows:S,getScrollAreaProps:E}=p,T=S(void 0,ko(t));return C.jsxs(UNe,W({className:h.root},g(),{ownerState:u,children:[C.jsx(pS,W({scrollDirection:"left"},E())),C.jsx(pS,W({scrollDirection:"right"},E())),C.jsx(pS,W({scrollDirection:"up"},E())),C.jsx(pS,W({scrollDirection:"down"},E())),C.jsxs(QBe,W({className:h.scroller},m(),{ownerState:u,children:[C.jsxs(WNe,{children:[!n.listView&&C.jsx(VNe,{}),C.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:p})]}),l(),C.jsx(YNe,W({},y(),{children:C.jsxs(oBe,{role:"rowgroup",children:[T,C.jsx(n.slots.detailPanels,{virtualScroller:p})]})})),s&&C.jsx(tBe,{rowsLength:T.length}),C.jsx(n.slots.bottomContainer,{children:C.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:p})})]})),i&&!n.listView&&C.jsx(VG,W({position:"horizontal"},v())),r&&C.jsx(VG,W({position:"vertical"},b())),e.children]}))}function tFe(){const e=It();return e.hideFooter?null:C.jsx(e.slots.footer,W({},e.slotProps?.footer))}let qR;function YR(){return qR===void 0&&document.createElement("div").focus({get preventScroll(){return qR=!0,!1}}),qR}function nFe({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const r=W({},e);return Object.keys(n).forEach(i=>{const o=i;n[o]!==void 0&&(r[o]=n[o])}),r}const rFe=e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null},iFe=e=>e===HH||rFe(e)!==null,$G=(e,t)=>{if(e)if(t){if(e===Jn.LEFT)return"right";if(e===Jn.RIGHT)return"left"}else{if(e===Jn.LEFT)return"left";if(e===Jn.RIGHT)return"right"}};function bS(e,t,n,r){const i=$G(n,t);return!i||r===void 0||(e[i]=r),e}const oFe=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],sFe=["changeReason","unstable_updateValueOnRender"];Jn.LEFT+"",Vu.LEFT,Jn.RIGHT+"",Vu.RIGHT,Jn.NONE+"",Jn.VIRTUAL+"";const aFe=e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:i,isEditable:o,isSelected:s,isSelectionMode:l,classes:c}=e,u={root:["cell",`cell--text${Qe(t)}`,s&&"selected",o&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",i===Jn.LEFT&&"cell--pinnedLeft",i===Jn.RIGHT&&"cell--pinnedRight",l&&!o&&"cell--selectionMode"]};return _t(u,qn,c)},lFe=fn(function(t,n){const{column:r,row:i,rowId:o,rowNode:s,align:l,colIndex:c,width:u,className:h,style:p,colSpan:g,disableDragEvents:m,isNotVisible:y,pinnedOffset:b,pinnedPosition:v,showRightBorder:S,showLeftBorder:E,onClick:T,onDoubleClick:O,onMouseDown:M,onMouseUp:I,onMouseOver:N,onKeyDown:D,onKeyUp:L,onDragEnter:A,onDragOver:$}=t,j=Tt(t,oFe),U=Ys(),K=It(),q=Oo(),z=r.field,Y=dt(U,aBe,{rowId:o,field:z}),ie=tS().hooks.useCellAggregationResult(o,z),Q=Y?Tr.Edit:Tr.View,H=U.current.getCellParamsForRow(o,z,i,{colDef:r,cellMode:Q,rowNode:s,tabIndex:dt(U,()=>{const xt=FR(U);return xt&&xt.field===z&&xt.id===o?0:-1}),hasFocus:dt(U,()=>{const xt=_s(U);return xt?.id===o&&xt.field===z})});H.api=U.current,ie&&(H.value=ie.value,H.formattedValue=r.valueFormatter?r.valueFormatter(H.value,i,r,U):H.value);const X=dt(U,()=>U.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:o,field:z})),he=U.current.virtualizer.store,pe=Er(he,ep.selectors.hiddenCells),ge=Er(he,ep.selectors.spannedCells),{hasFocus:ce,isEditable:be=!1,value:Ne}=H,_e=r.type==="actions"&&"getActions"in r&&typeof r.getActions=="function"&&r.getActions(U.current.getRowParams(o)).some(xt=>!xt.props.disabled),me=(Q==="view"||!be)&&!_e?H.tabIndex:-1,{classes:ye,getCellClassName:xe}=K,Pe=[dt(U,()=>U.current.unstable_applyPipeProcessors("cellClassName",[],{id:o,field:z}).filter(Boolean).join(" "))];r.cellClassName&&Pe.push(typeof r.cellClassName=="function"?r.cellClassName(H):r.cellClassName),r.display==="flex"&&Pe.push(se["cell--flex"]),xe&&Pe.push(xe(H));const Re=H.formattedValue??Ne,Fe=_.useRef(null),ft=Zn(n,Fe),Ue=_.useRef(null),Ft=K.cellSelection??!1,Ct={align:l,showLeftBorder:E,showRightBorder:S,isEditable:be,classes:K.classes,pinnedPosition:v,isSelected:X,isSelectionMode:Ft},Rt=aFe(Ct),Ke=_.useCallback(xt=>St=>{const nt=U.current.getCellParams(o,z||"");U.current.publishEvent(xt,nt,St),I&&I(St)},[U,z,I,o]),$t=_.useCallback(xt=>St=>{const nt=U.current.getCellParams(o,z||"");U.current.publishEvent(xt,nt,St),M&&M(St)},[U,z,M,o]),yt=_.useCallback((xt,St)=>nt=>{if(!U.current.getRow(o))return;const mt=U.current.getCellParams(o,z||"");U.current.publishEvent(xt,mt,nt),St&&St(nt)},[U,z,o]),zt=pe[o]?.[c]??!1,jt=ge[o]?.[c]??1,pn=_.useMemo(()=>{if(y)return{padding:0,opacity:0,width:0,height:0,border:0};const xt=bS(W({"--width":`${u}px`},p),q,v,b),St=v===Jn.LEFT,nt=v===Jn.RIGHT;return jt>1&&(xt.height=`calc(var(--height) * ${jt})`,xt.zIndex=10,(St||nt)&&(xt.zIndex=40)),xt},[u,y,p,b,v,q,jt]);if(_.useEffect(()=>{if(!ce||Q===Tr.Edit)return;const xt=Si(U.current.rootElementRef.current);if(Fe.current&&!Fe.current.contains(xt.activeElement)){const St=Fe.current.querySelector('[tabindex="0"]'),nt=Ue.current||St||Fe.current;if(YR())nt.focus({preventScroll:!0});else{const mt=U.current.getScrollPosition();nt.focus(),U.current.scroll(mt)}}},[ce,Q,U]),zt)return C.jsx("div",{"data-colindex":c,role:"presentation",style:W({width:"var(--width)"},pn)});let un=j.onFocus,Mt,At;if(Y===null&&r.renderCell&&(Mt=r.renderCell(H)),Y!==null&&r.renderEditCell){const xt=U.current.getRowWithUpdatedValues(o,r.field),St=Tt(Y,sFe),nt=r.valueFormatter?r.valueFormatter(Y.value,xt,r,U):H.formattedValue,mt=W({},H,{row:xt,formattedValue:nt},St);Mt=r.renderEditCell(mt),Pe.push(se["cell--editing"]),Pe.push(ye?.["cell--editing"])}if(Mt===void 0){const xt=Re?.toString();Mt=xt,At=xt}_.isValidElement(Mt)&&_e&&(Mt=_.cloneElement(Mt,{focusElementRef:Ue}));const Ye=m?null:{onDragEnter:yt("cellDragEnter",A),onDragOver:yt("cellDragOver",$)};return C.jsx("div",W({className:Je(Rt.root,Pe,h),role:"gridcell","data-field":z,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":g,"aria-rowspan":jt,style:pn,title:At,tabIndex:me,onClick:yt("cellClick",T),onDoubleClick:yt("cellDoubleClick",O),onMouseOver:yt("cellMouseOver",N),onMouseDown:$t("cellMouseDown"),onMouseUp:Ke("cellMouseUp"),onKeyDown:yt("cellKeyDown",D),onKeyUp:yt("cellKeyUp",L)},Ye,j,{onFocus:un,ref:ft,children:Mt}))}),cFe=Ac(lFe),uFe=["label","icon","showInMenu","onClick"],dFe=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],hFe=fn((e,t)=>{const n=It();if(!e.showInMenu){const{label:h,icon:p,onClick:g}=e,m=Tt(e,uFe),y=b=>{g?.(b)};return C.jsx(n.slots.baseIconButton,W({size:"small",role:"menuitem","aria-label":h},m,{onClick:y},n.slotProps?.baseIconButton,{ref:t,children:_.cloneElement(p,{fontSize:"small"})}))}const{label:r,icon:i,onClick:o,closeMenuOnClick:s=!0,closeMenu:l}=e,c=Tt(e,dFe),u=h=>{o?.(h),s&&l?.()};return C.jsx(n.slots.baseMenuItem,W({ref:t},c,{onClick:u,iconStart:i,children:r}))}),fFe=["field","type","align","width","height","empty","style","className"],zG="1.3em",pFe="1.2em",UG=[40,80],gFe={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},mFe=e=>{const{align:t,classes:n,empty:r}=e,i={root:["cell","cellSkeleton",`cell--text${t?Qe(t):"Left"}`,r&&"cellEmpty"]};return _t(i,qn,n)},vFe=UAe(12345);function yFe(e){const{field:t,type:n,align:r,width:i,height:o,empty:s=!1,style:l,className:c}=e,u=Tt(e,fFe),h=It(),p={classes:h.classes,align:r,empty:s},g=mFe(p),m=_.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:zG,height:zG};const[b,v]=n?gFe[n]??UG:UG;return{variant:"text",width:`${Math.round(vFe(b,v))}%`,height:pFe}},[n]);return C.jsx("div",W({"data-field":t,className:Je(g.root,c),style:W({height:o,maxWidth:i,minWidth:i},l)},u,{children:!s&&C.jsx(h.slots.baseSkeleton,W({},m))}))}const bFe=Ac(yFe),wFe=10,wS=-5,tp=1,HG={width:3,rx:1.5,x:10.5},SFe="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",CFe=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||e.current.state.dimensions.scrollbarSize===0),xFe=Te("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${se.autoHeight}`]:t.autoHeight},{[`&.${se.autosizing}`]:t.autosizing},{[`&.${se["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${se["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${se["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${se["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${se["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${se.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${se.actionsCell}`]:t.actionsCell},{[`& .${se.booleanCell}`]:t.booleanCell},{[`& .${se.cell}`]:t.cell},{[`& .${se["cell--editable"]}`]:t["cell--editable"]},{[`& .${se["cell--editing"]}`]:t["cell--editing"]},{[`& .${se["cell--flex"]}`]:t["cell--flex"]},{[`& .${se["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${se["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${se["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${se["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${se["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${se["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${se["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${se["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${se["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${se["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${se["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${se["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${se.cellCheckbox}`]:t.cellCheckbox},{[`& .${se.cellEmpty}`]:t.cellEmpty},{[`& .${se.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${se.cellSkeleton}`]:t.cellSkeleton},{[`& .${se.checkboxInput}`]:t.checkboxInput},{[`& .${se.columnHeader}`]:t.columnHeader},{[`& .${se["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${se["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${se["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${se["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${se["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${se["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${se["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${se["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${se["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${se["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${se["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${se["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${se["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${se["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${se["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${se["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${se["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${se["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${se.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${se.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${se.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${se.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${se.columnSeparator}`]:t.columnSeparator},{[`& .${se["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${se["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${se["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${se["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${se["container--bottom"]}`]:t["container--bottom"]},{[`& .${se["container--top"]}`]:t["container--top"]},{[`& .${se.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${se["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${se.editBooleanCell}`]:t.editBooleanCell},{[`& .${se.filterIcon}`]:t.filterIcon},{[`& .${se["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${se["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${se["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${se.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${se.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${se.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${se.headerFilterRow}`]:t.headerFilterRow},{[`& .${se.iconSeparator}`]:t.iconSeparator},{[`& .${se.menuIcon}`]:t.menuIcon},{[`& .${se.menuIconButton}`]:t.menuIconButton},{[`& .${se.menuList}`]:t.menuList},{[`& .${se.menuOpen}`]:t.menuOpen},{[`& .${se.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${se.pinnedRows}`]:t.pinnedRows},{[`& .${se["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${se["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${se.row}`]:t.row},{[`& .${se["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${se["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${se["row--dragging"]}`]:t["row--dragging"]},{[`& .${se["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${se["row--editable"]}`]:t["row--editable"]},{[`& .${se["row--editing"]}`]:t["row--editing"]},{[`& .${se["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${se["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${se.rowReorderCell}`]:t.rowReorderCell},{[`& .${se["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${se.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${se.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${se.rowSkeleton}`]:t.rowSkeleton},{[`& .${se.scrollbar}`]:t.scrollbar},{[`& .${se["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${se["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${se.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${se["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${se["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${se["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${se["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${se.sortIcon}`]:t.sortIcon},{[`& .${se.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${se.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${se.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${se.withBorderColor}`]:t.withBorderColor},{[`& .${se["row--dropAbove"]}`]:t["row--dropAbove"]},{[`& .${se["row--dropBelow"]}`]:t["row--dropBelow"]},{[`& .${se["row--beingDragged"]}`]:t["row--beingDragged"]}]})(()=>{const e=Ys(),t=dt(e,CFe),n=Dt.colors.background.base,r=Dt.header.background.base,i=Dt.cell.background.pinned,o=_Fe(Dt.colors.interactive.hover),s=Dt.colors.interactive.hoverOpacity,l=Dt.colors.interactive.selected,c=Dt.colors.interactive.selectedOpacity,u=l,h=`calc(${c} + ${s})`,p=Hu(n,o,s),g=Hu(n,l,c),m=Hu(n,u,h),y=Hu(i,o,s),b=Hu(i,l,c),v=Hu(i,u,h),S=N=>({[`& .${se["cell--pinnedLeft"]}, & .${se["cell--pinnedRight"]}`]:{backgroundColor:N,"&.Mui-selected":{backgroundColor:Hu(N,g,c),"&:hover":{backgroundColor:Hu(N,m,h)}}}}),E=S(y),T=S(b),O=S(v),M={backgroundColor:g,"&:hover":{backgroundColor:m,"@media (hover: none)":{backgroundColor:g}}};return{"--unstable_DataGrid-radius":Dt.radius.base,"--unstable_DataGrid-headWeight":Dt.typography.fontWeight.medium,"--DataGrid-rowBorderColor":Dt.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:Dt.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:Dt.colors.background.base,color:Dt.colors.foreground.base,font:Dt.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${se.main} > *:first-child${SFe}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${se.autoHeight}`]:{height:"auto"},[`&.${se.autosizing}`]:{[`& .${se.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${se.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${se.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${se.groupingCriteriaCell}`]:{width:"unset"},[`& .${se.treeDataGroupingCell}`]:{width:"unset"}},[`&.${se.withSidePanel}`]:{flexDirection:"row"},[`& .${se.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${se.columnHeader}, & .${se.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${se.columnHeader}:focus-within, & .${se.cell}:focus-within`]:{outline:`solid ${GG(Dt.colors.interactive.focus,.5)} ${tp}px`,outlineOffset:tp*-1},[`& .${se.columnHeader}:focus, & .${se.cell}:focus`]:{outline:`solid ${Dt.colors.interactive.focus} ${tp}px`,outlineOffset:tp*-1},[`& .${se.columnHeader}:focus,
      & .${se["columnHeader--withLeftBorder"]},
      & .${se["columnHeader--withRightBorder"]},
      & .${se["columnHeader--siblingFocused"]},
      & .${se["virtualScroller--hasScrollX"]} .${se["columnHeader--lastUnpinned"]},
      & .${se["virtualScroller--hasScrollX"]} .${se["columnHeader--last"]}
      `]:{[`& .${se.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${se["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${se["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${se["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${se["root--noToolbar"]} [aria-rowindex="1"] .${se["columnHeader--last"]}`]:{borderTopRightRadius:t?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${se.columnHeaderCheckbox}, & .${se.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${se.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:r},[`& .${se["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${se["virtualScroller--hasScrollX"]} .${se["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${se["pivotPanelField--sorted"]} .${se.iconButtonContainer},
      & .${se["columnHeader--sorted"]} .${se.iconButtonContainer},
      & .${se["columnHeader--filtered"]} .${se.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${se.pivotPanelField}:not(.${se["pivotPanelField--sorted"]}) .${se.sortButton},
      & .${se.columnHeader}:not(.${se["columnHeader--sorted"]}) .${se.sortButton}`]:{opacity:0,transition:Dt.transition(["opacity"],{duration:Dt.transitions.duration.short})},[`& .${se.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:Dt.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${se.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${se["columnHeader--filledGroup"]} .${se.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${se.sortIcon}, & .${se.filterIcon}`]:{fontSize:"inherit"},[`& .${se["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${se["columnHeader--alignCenter"]} .${se.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${se["columnHeader--alignRight"]} .${se.columnHeaderDraggableContainer}, & .${se["columnHeader--alignRight"]} .${se.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${se["columnHeader--alignCenter"]} .${se.menuIcon}`]:{marginLeft:"auto"},[`& .${se["columnHeader--alignRight"]} .${se.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${se["columnHeader--moving"]}`]:{backgroundColor:p},[`& .${se["columnHeader--pinnedLeft"]}, & .${se["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:Dt.header.background.base},[`& .${se.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:wFe,color:Dt.colors.border.base},[`& .${se.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:r},"@media (hover: hover)":{[`& .${se.columnHeader}:hover`]:{[`& .${se.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${se.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${se.columnHeader}:not(.${se["columnHeader--sorted"]}):hover .${se.sortButton},
        & .${se.pivotPanelField}:not(.${se["pivotPanelField--sorted"]}):hover .${se.sortButton},
        & .${se.pivotPanelField}:not(.${se["pivotPanelField--sorted"]}) .${se.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${se.columnHeader} .${se.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${se.columnHeader}:focus,
        & .${se["columnHeader--siblingFocused"]}`]:{[`.${se["columnSeparator--resizable"]}`]:{color:Dt.colors.foreground.accent}},[`& .${se.pivotPanelField}:not(.${se["pivotPanelField--sorted"]}) .${se.sortButton}`]:{opacity:.5}},[`& .${se["columnHeader--withLeftBorder"]} .${se["columnSeparator--sideLeft"]}:not(.${se["columnSeparator--resizable"]}), & .${se["columnHeader--withRightBorder"]} .${se["columnSeparator--sideRight"]}:not(.${se["columnSeparator--resizable"]})`]:{display:"none"},[`& .${se["columnSeparator--sideLeft"]}`]:{left:wS},[`& .${se["columnSeparator--sideRight"]}`]:{right:wS},[`& .${se["columnHeader--withRightBorder"]} .${se["columnSeparator--sideLeft"]}`]:{left:wS-.5},[`& .${se["columnHeader--withRightBorder"]} .${se["columnSeparator--sideRight"]}`]:{right:wS-.5},[`& .${se["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${se["columnSeparator--resizing"]}`]:{color:Dt.colors.foreground.accent},"@media (hover: none)":{[`& .${se.iconSeparator} rect`]:HG},"@media (hover: hover)":{"&:hover":{color:Dt.colors.foreground.accent,[`& .${se.iconSeparator} rect`]:HG}},"& svg":{pointerEvents:"none"}},[`& .${se.iconSeparator}`]:{color:"inherit",transition:Dt.transition(["color","width"],{duration:Dt.transitions.duration.short})},[`& .${se.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${se.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${se.headerFilterRow}`]:{[`& .${se.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${se["row--borderBottom"]} .${se.columnHeader},
      & .${se["row--borderBottom"]} .${se.filler},
      & .${se["row--borderBottom"]} .${se.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${se["row--borderBottom"]} .${se.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${se.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${se["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:p,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${se.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":M},[`& .${se.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":M},[`& .${se["virtualScrollerContent--overflowed"]} .${se["row--lastVisible"]} .${se.cell}`]:{borderTopColor:"transparent"},[`& .${se.pinnedRows} .${se.row}, .${se.aggregationRowOverlayWrapper} .${se.row}`]:{backgroundColor:i,"&:hover":{backgroundColor:y}},[`& .${se["pinnedRows--top"]} :first-of-type`]:{[`& .${se.cell}, .${se.scrollbarFiller}`]:{borderTop:"none"}},[`&.${se["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${se["row--dynamicHeight"]} > .${se.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${se.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${se.cell}.${se["cell--selectionMode"]}`]:{cursor:"default"},[`& .${se.cell}.${se["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:Dt.shadows.base,backgroundColor:Dt.colors.background.overlay,"&:focus-within":{outline:`${tp}px solid ${Dt.colors.interactive.focus}`,outlineOffset:tp*-1}},[`& .${se["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${se["row--editing"]}`]:{boxShadow:Dt.shadows.base},[`& .${se["row--editing"]} .${se.cell}`]:{boxShadow:"none",backgroundColor:Dt.colors.background.overlay},[`& .${se.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${se.booleanCell}[data-value="true"]`]:{color:Dt.colors.foreground.muted},[`& .${se.booleanCell}[data-value="false"]`]:{color:Dt.colors.foreground.disabled},[`& .${se.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:Dt.spacing(1)},[`& .${se.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:Dt.colors.interactive.disabledOpacity},[`& .${se["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${se.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${se.withBorderColor}`]:{borderColor:Dt.colors.border.base},[`& .${se["cell--withLeftBorder"]}, & .${se["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${se["cell--withRightBorder"]}, & .${se["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${se["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${se["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${se["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${se["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${se["cell--pinnedLeft"]}, & .${se["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:Dt.cell.background.pinned,"&.Mui-selected":{backgroundColor:b}},[`& .${se.row}`]:{"&:hover":E,"&.Mui-selected":T,"&.Mui-selected:hover":O},[`& .${se.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${se.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${se.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${se.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${se["columnHeader--dragging"]}`]:{background:Dt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:Dt.colors.interactive.disabledOpacity},[`& .${se["row--dragging"]}`]:{background:Dt.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:Dt.colors.foreground.base,transform:"translateZ(0)",[`& .${se.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${se.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${se.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:Dt.spacing(2)},[`& .${se.treeDataGroupingCellLoadingContainer}, .${se.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${se.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${se.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:Dt.spacing(2)},[`& .${se.columnHeaders} .${se.scrollbarFiller}`]:{backgroundColor:r},[`.${se.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${se["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${se["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${se["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:Dt.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${se.filler}`]:{flex:"1 0 auto"},[`& .${se["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${se.columnHeaders} .${se.filler}`]:{backgroundColor:r},[`& .${se["main--hiddenContent"]}`]:{[`& .${se.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${se["scrollbar--vertical"]}, & .${se.pinnedRows}, & .${se.virtualScroller} > .${se.filler}`]:{display:"none"}},[`& .${se["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:Dt.colors.interactive.selected}},[`& .${se["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:Dt.colors.interactive.selected},[`&.${se["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${se["row--beingDragged"]}`]:{color:Dt.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function GG(e,t){return`rgba(from ${e} r g b / ${t})`}function _Fe(e){return GG(e,1)}function Hu(e,t,n){return`color-mix(in srgb,${e}, ${t} calc(${n} * 100%))`}const EFe=()=>()=>{},TFe=()=>!1,MFe=()=>!0,OFe=()=>SM.useSyncExternalStore(EFe,TFe,MFe),WG=_.createContext(void 0);function XR(){const e=_.useContext(WG);if(e===void 0)throw new Error("MUI X: Missing context.");return e}function RFe({children:e}){const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),i=_.useMemo(()=>({columnsPanelTriggerRef:t,filterPanelTriggerRef:n,aiAssistantPanelTriggerRef:r}),[]);return C.jsx(WG.Provider,{value:i,children:e})}function IFe(){const e=Rn(),t=dt(e,Pa),n=It(),r=dt(e,Dh),{columnsPanelTriggerRef:i,filterPanelTriggerRef:o,aiAssistantPanelTriggerRef:s}=XR(),l=e.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??us.filters);let c=null;switch(r.openedPanelValue){case us.filters:c=o.current;break;case us.columns:c=i.current;break;case us.aiAssistant:c=s.current;break}return C.jsx(n.slots.panel,W({id:r.panelId,open:t.length>0&&r.open,"aria-labelledby":r.labelId,target:c,onClose:()=>e.current.hidePreferences()},n.slotProps?.panel,{children:l}))}function kFe(){const e=It();return C.jsxs(_.Fragment,{children:[C.jsx(IFe,{}),e.showToolbar&&C.jsx(e.slots.toolbar,W({},e.slotProps?.toolbar))]})}const PFe=["className","children","sidePanel"],DFe=(e,t)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:i}=e,o={root:["root",n&&"autoHeight",`root--density${Qe(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",i&&"withVerticalBorder"]};return _t(o,qn,r)},AFe=fn(function(t,n){const r=It(),{className:i,children:o,sidePanel:s}=t,l=Tt(t,PFe),c=Ys(),u=dt(c,zf),h=c.current.rootElementRef,p=_.useCallback(S=>{S!==null&&c.current.publishEvent("rootMount",S)},[c]),g=Zn(h,n,p),m=r,y=DFe(m,u),b=oLe();return OFe()?null:C.jsxs(xFe,W({className:Je(y.root,i,b.className,s&&se.withSidePanel),ownerState:m},l,{ref:g,children:[C.jsxs("div",{className:se.mainContent,role:"presentation",children:[C.jsx(kFe,{}),C.jsx(eFe,{children:o}),C.jsx(tFe,{})]}),s,b.tag]}))}),LFe=Ac(AFe),NFe=["className"],BFe=e=>{const{classes:t}=e;return _t({root:["footerContainer","withBorderColor"]},qn,t)},FFe=fr("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),jFe=fn(function(t,n){const{className:r}=t,i=Tt(t,NFe),o=It(),s=BFe(o);return C.jsx(FFe,W({className:Je(s.root,r),ownerState:o},i,{ref:n}))}),VFe=["className"],$Fe=e=>{const{classes:t}=e;return _t({root:["overlay"]},qn,t)},zFe=fr("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:Dt.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:Dt.colors.background.backdrop}),SS=fn(function(t,n){const{className:r}=t,i=Tt(t,VFe),o=It(),s=$Fe(o);return C.jsx(zFe,W({className:Je(s.root,r),ownerState:o},i,{ref:n}))});function rc(e,t,n,r={}){return typeof t=="function"?t(n,r):t?(t.props.className&&(n.className=UFe(t.props.className,n.className)),(t.props.style||n.style)&&(n.style=W({},n.style,t.props.style)),_.cloneElement(t,n)):_.createElement(e,n)}function UFe(e,t){return!e||!t?e||t:`${e} ${t}`}const KG=_.createContext(void 0);function HFe(){const e=_.useContext(KG);if(e===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}function GFe(e,t){if(!e.ref.current||!t.ref.current)return 0;const n=e.ref.current.compareDocumentPosition(t.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const WFe=["render","className"],KFe=e=>{const{classes:t}=e;return _t({root:["toolbar"]},qn,t)},qFe=fr("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:Dt.spacing(.25),padding:Dt.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${Dt.colors.border.base}`}),YFe=fn(function(t,n){const{render:r,className:i}=t,o=Tt(t,WFe),s=It(),l=KFe(s),[c,u]=_.useState(null),[h,p]=_.useState([]),g=_.useCallback(()=>h.sort(GFe),[h]),m=_.useCallback((M,I,N=!0)=>{let D=M;const L=g(),A=L.length;for(let $=0;$<A;$+=1){if(D+=I,D>=A){if(!N)return-1;D=0}else if(D<0){if(!N)return-1;D=A-1}if(!L[D].ref.current?.disabled&&L[D].ref.current?.ariaDisabled!=="true")return D}return-1},[g]),y=_.useCallback((M,I)=>{p(N=>[...N,{id:M,ref:I}])},[]),b=_.useCallback(M=>{p(I=>I.filter(N=>N.id!==M))},[]),v=_.useCallback(M=>{if(!c)return;const I=g(),N=I.findIndex(L=>L.id===c);let D=-1;if(M.key==="ArrowRight"?(M.preventDefault(),D=m(N,1)):M.key==="ArrowLeft"?(M.preventDefault(),D=m(N,-1)):M.key==="Home"?(M.preventDefault(),D=m(-1,1,!1)):M.key==="End"&&(M.preventDefault(),D=m(I.length,-1,!1)),D>=0&&D<I.length){const L=I[D];u(L.id),L.ref.current?.focus()}},[g,c,m]),S=_.useCallback(M=>{c!==M&&u(M)},[c,u]),E=_.useCallback(M=>{const I=g(),N=I.findIndex(L=>L.id===M),D=m(N,1);if(D>=0&&D<I.length){const L=I[D];u(L.id),L.ref.current?.focus()}},[g,m]);_.useEffect(()=>{const M=g();if(M.length>0){if(!c){u(M[0].id);return}const I=M.findIndex(N=>N.id===c);if(M[I]){if(I===-1){const N=M[I];N&&(u(N.id),N.ref.current?.focus())}}else{const N=M[M.length-1];N&&(u(N.id),N.ref.current?.focus())}}},[g,m]);const T=_.useMemo(()=>({focusableItemId:c,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}),[c,y,b,v,S,E]),O=rc(qFe,r,W({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:Je(l.root,i)},o,{ref:n}));return C.jsx(KG.Provider,{value:T,children:O})}),XFe=["render","onKeyDown","onFocus","disabled","aria-disabled"],CS=fn(function(t,n){const{render:r,onKeyDown:i,onFocus:o,disabled:s,"aria-disabled":l}=t,c=Tt(t,XFe),u=sr(),h=It(),p=_.useRef(null),g=Zn(p,n),{focusableItemId:m,registerItem:y,unregisterItem:b,onItemKeyDown:v,onItemFocus:S,onItemDisabled:E}=HFe(),T=D=>{v(D),i?.(D)},O=D=>{S(u),o?.(D)};_.useEffect(()=>(y(u,p),()=>b(u)),[]);const M=_.useRef(s);_.useEffect(()=>{M.current!==s&&s===!0&&E(u,s),M.current=s},[s,u,E]);const I=_.useRef(l);_.useEffect(()=>{I.current!==l&&l===!0&&E(u,!0),I.current=l},[l,u,E]);const N=rc(h.slots.baseIconButton,r,W({},h.slotProps?.baseIconButton,{tabIndex:m===u?0:-1},c,{disabled:s,"aria-disabled":l,onKeyDown:T,onFocus:O,ref:g}));return C.jsx(_.Fragment,{children:N})}),ZFe=e=>{const{classes:t,open:n}=e;return _t({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},qn,t)},QFe=_.memo(e=>{const{colDef:t,open:n,columnMenuId:r,columnMenuButtonId:i,iconButtonRef:o}=e,s=Rn(),l=It(),c=W({},e,{classes:l.classes}),u=ZFe(c),h=_.useCallback(g=>{g.preventDefault(),g.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]),p=t.headerName??t.field;return C.jsx("div",{className:u.root,children:C.jsx(l.slots.baseTooltip,W({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},l.slotProps?.baseTooltip,{children:C.jsx(l.slots.baseIconButton,W({ref:o,tabIndex:-1,className:u.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(p),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:i},l.slotProps?.baseIconButton,{children:C.jsx(l.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function JFe({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:i,open:o,target:s,onExited:l}){const c=Rn(),u=c.current.getColumn(i),h=Xt(p=>{p&&(p.stopPropagation(),s?.contains(p.target))||c.current.hideColumnMenu()});return!s||!u?null:C.jsx(nS,{position:`bottom-${u.align==="right"?"start":"end"}`,open:o,target:s,onClose:h,onExited:l,children:C.jsx(n,W({colDef:u,hideMenu:h,open:o,id:e,labelledby:t},r))})}function eje(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function xS(e,t){return e.closest(`.${t}`)}function Fc(e){return e.replace(/["\\]/g,"\\$&")}function tje(e,t){return e.querySelector(`[role="columnheader"][data-field="${Fc(t)}"]`)}function qG(e){return`.${se.row}[data-id="${Fc(String(e))}"]`}function nje(e,t){return e.querySelector(qG(t))}function rje(e,{id:t,field:n}){const r=qG(t),i=`.${se.cell}[data-field="${Fc(n)}"]`,o=`${r} ${i}`;return e.querySelector(o)}function Xm(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function ije(e){return e.getAttribute("data-field")}function oje(e,t){return e.querySelector(`[data-field="${Fc(t)}"]`)}function sje(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function aje(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${Fc(t)}-|"]`)??[])}function lje(e,t){if(!xS(e,se.root))throw new Error("MUI X: The root element is not found.");const r=e.getAttribute("aria-colindex");if(!r)return[];const i=Number(r)-1,o=[];return t.virtualScrollerRef?.current?(QG(t).forEach(s=>{const l=s.getAttribute("data-id");if(!l)return;let c=i;const u=t.unstable_getCellColSpanInfo(l,i);u&&u.spannedByColSpan&&(c=u.leftVisibleCellIndex);const h=s.querySelector(`[data-colindex="${c}"]`);h&&o.push(h)}),o):[]}function YG(e,t){return e.rootElementRef.current.querySelector(`.${se[t]}`)}const XG=({api:e,colIndex:t,position:n,filterFn:r})=>{if(t===null)return[];const i=[];return QG(e).forEach(o=>{o.getAttribute("data-id")&&o.querySelectorAll(`.${se[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(l=>{const c=np(l);c!==null&&r(c)&&i.push(l)})}),i};function cje(e,t,n){const r=np(t);return XG({api:e,colIndex:r,position:n?"right":"left",filterFn:i=>n?i<r:i>r})}function uje(e,t,n){const r=np(t);return XG({api:e,colIndex:r,position:n?"left":"right",filterFn:i=>n?i>r:i<r})}const ZG=({api:e,colIndex:t,position:n,filterFn:r})=>{if(!e.columnHeadersContainerRef?.current)return[];if(t===null)return[];const i=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${se[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(o=>{const s=np(o);s!==null&&r(s,o)&&i.push(o)}),i};function dje(e,t,n){const r=np(t);return ZG({api:e,position:n?"right":"left",colIndex:r,filterFn:i=>n?i<r:i>r})}function hje(e,t,n){const r=np(t);return ZG({api:e,position:n?"left":"right",colIndex:r,filterFn:(i,o)=>o.classList.contains(se["columnHeader--last"])?!1:n?i>r:i<r})}function fje(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${Fc(t)}"][role="columnheader"]`)}function pje(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${Fc(t)}"][role="gridcell"]`))}function QG(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${se.row}`)}function np(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const gje=["className","aria-label"],mje=e=>{const{classes:t}=e;return _t({root:["columnHeaderTitle"]},qn,t)},vje=fr("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),yje=fn(function(t,n){const{className:r}=t,i=Tt(t,gje),o=It(),s=mje(o);return C.jsx(vje,W({className:Je(s.root,r),ownerState:o},i,{ref:n}))});function bje(e){const{label:t,description:n}=e,r=It(),i=_.useRef(null),[o,s]=_.useState(""),l=_.useCallback(()=>{if(!n&&i?.current){const c=eje(i.current);s(c?t:"")}},[n,t]);return C.jsx(r.slots.baseTooltip,W({title:n||o},r.slotProps?.baseTooltip,{children:C.jsx(yje,{onMouseOver:l,ref:i,children:t})}))}const wje=["resizable","resizing","height","side"];var ZR=(function(e){return e.Left="left",e.Right="right",e})(ZR||{});const Sje=e=>{const{resizable:t,resizing:n,classes:r,side:i}=e,o={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",i&&`columnSeparator--side${Qe(i)}`],icon:["iconSeparator"]};return _t(o,qn,r)};function Cje(e){const{height:t,side:n=ZR.Right}=e,r=Tt(e,wje),i=It(),o=W({},e,{side:n,classes:i.classes}),s=Sje(o),l=_.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return C.jsx("div",W({className:s.root,style:{minHeight:t}},r,{onClick:l,children:C.jsx(i.slots.columnResizeIcon,{className:s.icon})}))}const xje=_.memo(Cje),_je=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],JG=fn(function(t,n){const{classes:r,colIndex:i,height:o,isResizing:s,sortDirection:l,tabIndex:c,separatorSide:u,isDraggable:h,headerComponent:p,description:g,width:m,columnMenuIconButton:y=null,columnMenu:b=null,columnTitleIconButtons:v=null,headerClassName:S,label:E,resizable:T,draggableContainerProps:O,columnHeaderSeparatorProps:M,style:I}=t,N=Tt(t,_je),D=It(),L=_.useRef(null),A=Zn(L,n);let $="none";return l!=null&&($=l==="asc"?"ascending":"descending"),C.jsxs("div",W({className:Je(r.root,S),style:W({},I,{width:m}),role:"columnheader",tabIndex:c,"aria-colindex":i+1,"aria-sort":$},N,{ref:A,children:[C.jsxs("div",W({className:r.draggableContainer,draggable:h,role:"presentation"},O,{children:[C.jsxs("div",{className:r.titleContainer,role:"presentation",children:[C.jsx("div",{className:r.titleContainerContent,children:p!==void 0?p:C.jsx(bje,{label:E,description:g,columnWidth:m})}),v]}),y]})),C.jsx(xje,W({resizable:!D.disableColumnResize&&!!T,resizing:s,height:o,side:u},M)),b]}))}),Eje=e=>{const{disableColumnSorting:t}=It(),{colDef:n,classes:r,isDragging:i,sortDirection:o,showRightBorder:s,showLeftBorder:l,filterItemsCounter:c,pinnedPosition:u,isLastUnpinned:h,isSiblingFocused:p}=e,g=n.sortable&&!t,m=o!=null,y=c!=null&&c>0,b=n.type==="number",v={root:["columnHeader",n.headerAlign==="left"&&"columnHeader--alignLeft",n.headerAlign==="center"&&"columnHeader--alignCenter",n.headerAlign==="right"&&"columnHeader--alignRight",g&&"columnHeader--sortable",i&&"columnHeader--moving",m&&"columnHeader--sorted",y&&"columnHeader--filtered",b&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",l&&"columnHeader--withLeftBorder",u===Jn.LEFT&&"columnHeader--pinnedLeft",u===Jn.RIGHT&&"columnHeader--pinnedRight",h&&"columnHeader--lastUnpinned",p&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return _t(v,qn,r)};function Tje(e){const{colDef:t,columnMenuOpen:n,colIndex:r,headerHeight:i,isResizing:o,isLast:s,sortDirection:l,sortIndex:c,filterItemsCounter:u,hasFocus:h,tabIndex:p,disableReorder:g,separatorSide:m,showLeftBorder:y,showRightBorder:b,pinnedPosition:v,pinnedOffset:S}=e,E=Ys(),T=It(),O=Oo(),M=_.useRef(null),I=sr(),N=sr(),D=_.useRef(null),[L,A]=_.useState(n),$=_.useMemo(()=>!T.disableColumnReorder&&!g&&!t.disableReorder,[T.disableColumnReorder,g,t.disableReorder]);let j;t.renderHeader&&(j=t.renderHeader(E.current.getColumnHeaderParams(t.field)));const U=W({},e,{classes:T.classes,showRightBorder:b,showLeftBorder:y}),K=Eje(U),q=_.useCallback(Ne=>_e=>{Xm(_e)||E.current.publishEvent(Ne,E.current.getColumnHeaderParams(t.field),_e)},[E,t.field]),z=_.useMemo(()=>({onClick:q("columnHeaderClick"),onContextMenu:q("columnHeaderContextMenu"),onDoubleClick:q("columnHeaderDoubleClick"),onMouseOver:q("columnHeaderOver"),onMouseOut:q("columnHeaderOut"),onMouseEnter:q("columnHeaderEnter"),onMouseLeave:q("columnHeaderLeave"),onKeyDown:q("columnHeaderKeyDown"),onFocus:q("columnHeaderFocus"),onBlur:q("columnHeaderBlur")}),[q]),Y=_.useMemo(()=>$?{onDragStart:q("columnHeaderDragStart"),onDragEnter:q("columnHeaderDragEnter"),onDragOver:q("columnHeaderDragOver"),onDragEndCapture:q("columnHeaderDragEnd")}:{},[$,q]),te=_.useMemo(()=>({onMouseDown:q("columnSeparatorMouseDown"),onDoubleClick:q("columnSeparatorDoubleClick")}),[q]);_.useEffect(()=>{L||A(n)},[L,n]);const ie=_.useCallback(()=>{A(!1)},[]),Q=!T.disableColumnMenu&&!t.disableColumnMenu&&C.jsx(QFe,{colDef:t,columnMenuId:I,columnMenuButtonId:N,open:L,iconButtonRef:D}),H=C.jsx(JFe,{columnMenuId:I,columnMenuButtonId:N,field:t.field,open:n,target:D.current,ContentComponent:T.slots.columnMenu,contentComponentProps:T.slotProps?.columnMenu,onExited:ie}),X=t.sortingOrder??T.sortingOrder,he=(t.sortable||l!=null)&&!t.hideSortIcons&&!T.disableColumnSorting,pe=C.jsxs(_.Fragment,{children:[!T.disableColumnFilter&&C.jsx(T.slots.columnHeaderFilterIconButton,W({field:t.field,counter:u},T.slotProps?.columnHeaderFilterIconButton)),he&&C.jsx(T.slots.columnHeaderSortIcon,W({field:t.field,direction:l,index:c,sortingOrder:X,disabled:!t.sortable},T.slotProps?.columnHeaderSortIcon))]});_.useLayoutEffect(()=>{const Ne=E.current.state.columnMenu;if(h&&!Ne.open){const me=M.current.querySelector('[tabindex="0"]')||M.current;if(!me)return;if(YR())me.focus({preventScroll:!0});else{const ye=E.current.getScrollPosition();me.focus(),E.current.scroll(ye)}}},[E,h]);const ge=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,ce=t.headerName??t.field,be=_.useMemo(()=>bS(W({},e.style),O,v,S),[v,S,e.style,O]);return C.jsx(JG,W({ref:M,classes:K,columnMenuOpen:n,colIndex:r,height:i,isResizing:o,sortDirection:l,hasFocus:h,tabIndex:p,separatorSide:m,isDraggable:$,headerComponent:j,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:Q,columnTitleIconButtons:pe,headerClassName:Je(ge,s&&se["columnHeader--last"]),label:ce,resizable:!T.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:H,draggableContainerProps:Y,columnHeaderSeparatorProps:te,style:be},z))}const Mje=Ac(Tje),Oje=["className"],Rje=e=>{const{classes:t}=e;return _t({root:["iconButtonContainer"]},qn,t)},Ije=fr("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),e4=fn(function(t,n){const{className:r}=t,i=Tt(t,Oje),o=It(),s=Rje(o);return C.jsx(Ije,W({className:Je(s.root,r),ownerState:o},i,{ref:n}))}),kje=["direction","index","sortingOrder","disabled","className"],Pje=e=>{const{classes:t}=e;return _t({root:["sortButton"],icon:["sortIcon"]},qn,t)},Dje=fr(Jl,{name:"MuiDataGrid",slot:"SortButton"})({transition:Dt.transition(["opacity"],{duration:Dt.transitions.duration.short,easing:Dt.transitions.easing.easeInOut})});function Aje(e,t,n,r){let i;const o={};return t==="asc"?i=e.columnSortedAscendingIcon:t==="desc"?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,o.sortingOrder=r),i?C.jsx(i,W({fontSize:"small",className:n},o)):null}function Lje(e){const{direction:t,index:n,sortingOrder:r,disabled:i,className:o}=e,s=Tt(e,kje),l=Rn(),c=It(),u=W({},e,{classes:c.classes}),h=Pje(u),p=Aje(c.slots,t,h.icon,r);if(!p)return null;const g=C.jsx(Dje,W({as:c.slots.baseIconButton,ownerState:u,"aria-label":l.current.getLocaleText("columnHeaderSortIconLabel"),title:l.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:i,className:Je(h.root,o)},c.slotProps?.baseIconButton,s,{children:p}));return C.jsxs(_.Fragment,{children:[n!=null&&C.jsx(c.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:g}),n==null&&g]})}function Nje(e){return C.jsx(e4,{children:C.jsx(Lje,W({},e,{tabIndex:-1}))})}const Bje=_.memo(Nje),Fje=e=>{const{classes:t}=e;return _t({icon:["filterIcon"]},qn,t)};function jje(e){return e.counter?C.jsx(Vje,W({},e)):null}function Vje(e){const{counter:t,field:n,onClick:r}=e,i=Rn(),o=It(),s=W({},e,{classes:o.classes}),l=Fje(s),c=sr(),u=dt(i,lBe,c),h=sr(),p=_.useCallback(m=>{m.preventDefault(),m.stopPropagation();const{open:y,openedPanelValue:b}=Dh(i);y&&b===us.filters?i.current.hideFilterPanel():i.current.showFilterPanel(void 0,h,c),r&&r(i.current.getColumnHeaderParams(n),m)},[i,n,r,h,c]);if(!t)return null;const g=C.jsx(o.slots.baseIconButton,W({id:c,onClick:p,"aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?h:void 0},o.slotProps?.baseIconButton,{children:C.jsx(o.slots.columnFilteredIcon,{className:l.icon,fontSize:"small"})}));return C.jsx(o.slots.baseTooltip,W({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},o.slotProps?.baseTooltip,{children:C.jsxs(e4,{children:[t>1&&C.jsx(o.slots.baseBadge,{badgeContent:t,color:"default",children:g}),t===1&&g]})}))}const $je=["hideMenu","colDef","id","labelledby","className","children","open"],zje=Te(Jl)(()=>({minWidth:248}));function t4(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}const Uje=fn(function(t,n){const{hideMenu:r,id:i,labelledby:o,className:s,children:l,open:c}=t,u=Tt(t,$je),h=It(),p=_.useCallback(g=>{g.key==="Tab"&&g.preventDefault(),VH(g.key)&&r(g)},[r]);return C.jsx(zje,W({as:h.slots.baseMenuList,id:i,className:Je(se.menuList,s),"aria-labelledby":o,onKeyDown:p,onWheel:t4,onTouchMove:t4,autoFocus:c},u,{ref:n,children:l}))}),Hje=["displayOrder"],Gje=e=>{const t=Ys(),n=It(),{defaultSlots:r,defaultSlotProps:i,slots:o={},slotProps:s={},hideMenu:l,colDef:c,addDividers:u=!0}=e,h=_.useMemo(()=>W({},r,o),[r,o]),p=_.useMemo(()=>{if(!s||Object.keys(s).length===0)return i;const y=W({},s);return Object.entries(i).forEach(([b,v])=>{y[b]=W({},v,s[b]||{})}),y},[i,s]),g=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),m=_.useMemo(()=>{const y=Object.keys(r);return Object.keys(o).filter(b=>!y.includes(b))},[o,r]);return _.useMemo(()=>{const v=Array.from(new Set([...g,...m])).filter(S=>h[S]!=null).sort((S,E)=>{const T=p[S],O=p[E],M=Number.isFinite(T?.displayOrder)?T.displayOrder:100,I=Number.isFinite(O?.displayOrder)?O.displayOrder:100;return M-I});return v.reduce((S,E,T)=>{let O={colDef:c,onClick:l};const M=p[E];if(M){const I=Tt(M,Hje);O=W({},O,I)}return u&&T!==v.length-1?[...S,[h[E],O],[n.slots.baseDivider,{}]]:[...S,[h[E],O]]},[])},[u,c,g,l,h,p,m,n.slots.baseDivider])};function Wje(e){const{colDef:t,onClick:n}=e,r=Rn(),i=It(),l=_i(r).filter(u=>u.disableColumnMenu!==!0).length===1,c=_.useCallback(u=>{l||(r.current.setColumnVisibility(t.field,!1),n(u))},[r,t.field,n,l]);return i.disableColumnSelector||t.hideable===!1?null:C.jsx(i.slots.baseMenuItem,{onClick:c,disabled:l,iconStart:C.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuHideColumn")})}function Kje(e){const{onClick:t}=e,n=Rn(),r=It(),i=_.useCallback(o=>{t(o),n.current.showPreferences(us.columns)},[n,t]);return r.disableColumnSelector?null:C.jsx(r.slots.baseMenuItem,{onClick:i,iconStart:C.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}function qje(e){return C.jsxs(_.Fragment,{children:[C.jsx(Wje,W({},e)),C.jsx(Kje,W({},e))]})}function Yje(e){const{colDef:t,onClick:n}=e,r=Rn(),i=It(),o=_.useCallback(s=>{n(s),r.current.showFilterPanel(t.field)},[r,t.field,n]);return i.disableColumnFilter||!t.filterable?null:C.jsx(i.slots.baseMenuItem,{onClick:o,iconStart:C.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"}),children:r.current.getLocaleText("columnMenuFilter")})}function Xje(e){const{colDef:t,onClick:n}=e,r=Rn(),i=dt(r,Aa),o=It(),s=_.useMemo(()=>t?i.find(p=>p.field===t.field)?.sort:null,[t,i]),l=t.sortingOrder??o.sortingOrder,c=_.useCallback(h=>{n(h);const p=h.currentTarget.getAttribute("data-value")||null,g=o.multipleColumnsSortingMode==="always";r.current.sortColumn(t.field,p===s?null:p,g)},[r,t,n,s,o.multipleColumnsSortingMode]);if(o.disableColumnSorting||!t||!t.sortable||!l.some(h=>!!h))return null;const u=h=>{const p=r.current.getLocaleText(h);return typeof p=="function"?p(t):p};return C.jsxs(_.Fragment,{children:[l.includes("asc")&&s!=="asc"?C.jsx(o.slots.baseMenuItem,{onClick:c,"data-value":"asc",iconStart:C.jsx(o.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:u("columnMenuSortAsc")}):null,l.includes("desc")&&s!=="desc"?C.jsx(o.slots.baseMenuItem,{onClick:c,"data-value":"desc",iconStart:C.jsx(o.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:u("columnMenuSortDesc")}):null,l.includes(null)&&s!=null?C.jsx(o.slots.baseMenuItem,{onClick:c,iconStart:o.slots.columnMenuUnsortIcon?C.jsx(o.slots.columnMenuUnsortIcon,{fontSize:"small"}):C.jsx("span",{}),children:r.current.getLocaleText("columnMenuUnsort")}):null]})}const Zje=["defaultSlots","defaultSlotProps","slots","slotProps"],Qje={columnMenuSortItem:Xje,columnMenuFilterItem:Yje,columnMenuColumnsItem:qje},Jje={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},eVe=fn(function(t,n){const{defaultSlots:r,defaultSlotProps:i,slots:o,slotProps:s}=t,l=Tt(t,Zje),c=Gje(W({},l,{defaultSlots:r,defaultSlotProps:i,slots:o,slotProps:s}));return C.jsx(Uje,W({},l,{ref:n,children:c.map(([u,h],p)=>C.jsx(u,W({},h),p))}))}),tVe=fn(function(t,n){return C.jsx(eVe,W({},t,{ref:n,defaultSlots:Qje,defaultSlotProps:Jje}))}),nVe=["className"],rVe=e=>{const{classes:t}=e;return _t({root:["panelWrapper"]},qn,t)},iVe=Te("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),n4=fn(function(t,n){const{className:r}=t,i=Tt(t,nVe),o=It(),s=rVe(o);return C.jsx(iVe,W({tabIndex:-1,className:Je(s.root,r),ownerState:o},i,{ref:n}))});function oVe(e){const t=It();return C.jsx(n4,W({},e,{children:C.jsx(t.slots.columnsManagement,W({},t.slotProps?.columnsManagement))}))}const sVe=["children","className","classes","onClose"],aVe=on("MuiDataGrid",["panel","paper"]),lVe=Te(Jl,{name:"MuiDataGrid",slot:"panel"})({zIndex:Dt.zIndex.panel}),cVe=Te("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:Dt.colors.background.overlay,borderRadius:Dt.radius.base,boxShadow:Dt.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${Dt.spacing(2)})`,overflow:"auto"}),uVe=fn((e,t)=>{const{children:n,className:r,onClose:i}=e,o=Tt(e,sVe),s=Rn(),l=It(),c=aVe,[u,h]=_.useState(!1),p=UH(),g=Xt(()=>h(!0)),m=Xt(()=>h(!1)),y=Xt(()=>{i?.()}),b=Xt(E=>{E.key==="Escape"&&i?.()}),[v,S]=_.useState(null);return _.useEffect(()=>{const E=s.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');E&&S(E)},[s]),v?C.jsx(lVe,W({as:l.slots.basePopper,ownerState:l,placement:"bottom-end",className:Je(c.panel,r,p),flip:!0,onDidShow:g,onDidHide:m,onClickAway:y,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},o,l.slotProps?.basePopper,{target:e.target??v,ref:t,children:C.jsx(cVe,{className:c.paper,ownerState:l,onKeyDown:b,children:u&&n})})):null}),dVe=["className"],hVe=e=>{const{classes:t}=e;return _t({root:["panelContent"]},qn,t)},fVe=fr("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:Dt.spacing(2.5,1.5,2,1),gap:Dt.spacing(2.5)});function pVe(e){const{className:t}=e,n=Tt(e,dVe),r=It(),i=hVe(r);return C.jsx(fVe,W({className:Je(i.root,t),ownerState:r},n))}const gVe=["className"],mVe=e=>{const{classes:t}=e;return _t({root:["panelFooter"]},qn,t)},vVe=Te("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:Dt.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${Dt.colors.border.base}`});function yVe(e){const{className:t}=e,n=Tt(e,gVe),r=It(),i=mVe(r);return C.jsx(vVe,W({className:Je(i.root,t),ownerState:r},n))}const bVe=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],wVe=["InputComponentProps"],SVe=e=>{const{classes:t}=e;return _t({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},qn,t)},CVe=Te("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:Dt.spacing(1.5)}),xVe=Te("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),_Ve=Te("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),EVe=Te("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),TVe=Te("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),MVe=Te("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),OVe=e=>{switch(e){case cs.And:return"filterPanelOperatorAnd";case cs.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Zm=e=>e.headerName||e.field,r4=new Intl.Collator,i4=fn(function(t,n){const{item:r,hasMultipleFilters:i,deleteFilter:o,applyFilterChanges:s,showMultiFilterOperators:l,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:u,focusElementRef:h,logicOperators:p=[cs.And,cs.Or],columnsSort:g,filterColumns:m,deleteIconProps:y={},logicOperatorInputProps:b={},operatorInputProps:v={},columnInputProps:S={},valueInputProps:E={},readOnly:T}=t,O=Tt(t,bVe),M=Rn(),I=dt(M,Nc),N=dt(M,IH),D=dt(M,mo),L=sr(),A=sr(),$=sr(),j=sr(),U=It(),K=SVe(U),q=_.useRef(null),z=_.useRef(null),Y=D.logicOperator??cs.And,te=i&&p.length>0,Q=(U.slotProps?.baseSelect||{}).native??!1,H=U.slotProps?.baseSelectOption||{},{InputComponentProps:X}=E,he=Tt(E,wVe),pe=dt(M,Ph),ge=dt(M,xG),{filteredColumns:ce,selectedField:be}=_.useMemo(()=>{let Re=r.field;const Fe=I[r.field].filterable===!1?I[r.field]:null;if(Fe)return{filteredColumns:[Fe],selectedField:Re};if(pe)return{filteredColumns:N.filter(Ue=>ge.get(Ue.field)!==void 0),selectedField:Re};if(m===void 0||typeof m!="function")return{filteredColumns:N,selectedField:Re};const ft=m({field:r.field,columns:N,currentFilters:D?.items||[]});return{filteredColumns:N.filter(Ue=>{const Ft=ft.includes(Ue.field);return Ue.field===r.field&&!Ft&&(Re=void 0),Ft}),selectedField:Re}},[r.field,I,pe,m,N,D?.items,ge]),Ne=_.useMemo(()=>{switch(g){case"asc":return ce.sort((Re,Fe)=>r4.compare(Zm(Re),Zm(Fe)));case"desc":return ce.sort((Re,Fe)=>-r4.compare(Zm(Re),Zm(Fe)));default:return ce}},[ce,g]),_e=r.field?M.current.getColumn(r.field):null,me=_.useMemo(()=>!r.operator||!_e?null:_e.filterOperators?.find(Re=>Re.value===r.operator),[r,_e]),ye=_.useCallback(Re=>{const Fe=Re.target.value,ft=M.current.getColumn(Fe);if(ft.field===_e.field)return;const Ue=ft.filterOperators.find(Rt=>Rt.value===r.operator)||ft.filterOperators[0];let Ct=!Ue.InputComponent||Ue.InputComponent!==me?.InputComponent||ft.type!==_e.type?void 0:r.value;if(ft.type==="singleSelect"&&Ct!==void 0){const Rt=ft,Ke=Ih(Rt);Array.isArray(Ct)?Ct=Ct.filter($t=>dS($t,Ke,Rt?.getOptionValue)!==void 0):dS(r.value,Ke,Rt?.getOptionValue)===void 0&&(Ct=void 0)}s(W({},r,{field:Fe,operator:Ue.value,value:Ct}))},[M,s,r,_e,me]),xe=_.useCallback(Re=>{const Fe=Re.target.value,ft=_e?.filterOperators.find(Ft=>Ft.value===Fe),Ue=!ft?.InputComponent||ft?.InputComponent!==me?.InputComponent;s(W({},r,{operator:Fe,value:Ue?void 0:r.value}))},[s,r,_e,me]),Ie=_.useCallback(Re=>{const Fe=Re.target.value===cs.And.toString()?cs.And:cs.Or;u(Fe)},[u]),Pe=()=>{o(r)};return _.useImperativeHandle(h,()=>({focus:()=>{me?.InputComponent?q?.current?.focus():z.current.focus()}}),[me]),C.jsxs(CVe,W({className:K.root,"data-id":r.id,ownerState:U},O,{ref:n,children:[C.jsx(xVe,W({},y,{className:Je(K.deleteIcon,y.className),ownerState:U,children:C.jsx(U.slots.baseIconButton,W({"aria-label":M.current.getLocaleText("filterPanelDeleteIconLabel"),title:M.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Pe,size:"small",disabled:T},U.slotProps?.baseIconButton,{children:C.jsx(U.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),C.jsx(_Ve,W({as:U.slots.baseSelect,sx:[te?{display:"flex"}:{display:"none"},l?{visibility:"visible"}:{visibility:"hidden"},b.sx],className:Je(K.logicOperatorInput,b.className),ownerState:U},b,{size:"small",slotProps:{htmlInput:{"aria-label":M.current.getLocaleText("filterPanelLogicOperator")}},value:Y??"",onChange:Ie,disabled:!!c||p.length===1,native:Q},U.slotProps?.baseSelect,{children:p.map(Re=>_.createElement(U.slots.baseSelectOption,W({},H,{native:Q,key:Re.toString(),value:Re.toString()}),M.current.getLocaleText(OVe(Re))))})),C.jsx(EVe,W({as:U.slots.baseSelect},S,{className:Je(K.columnInput,S.className),ownerState:U,size:"small",labelId:A,id:L,label:M.current.getLocaleText("filterPanelColumns"),value:be??"",onChange:ye,native:Q,disabled:T},U.slotProps?.baseSelect,{children:Ne.map(Re=>_.createElement(U.slots.baseSelectOption,W({},H,{native:Q,key:Re.field,value:Re.field}),Zm(Re)))})),C.jsx(TVe,W({as:U.slots.baseSelect,size:"small"},v,{className:Je(K.operatorInput,v.className),ownerState:U,labelId:j,label:M.current.getLocaleText("filterPanelOperator"),id:$,value:r.operator,onChange:xe,native:Q,inputRef:z,disabled:T},U.slotProps?.baseSelect,{children:_e?.filterOperators?.map(Re=>_.createElement(U.slots.baseSelectOption,W({},H,{native:Q,key:Re.value,value:Re.value}),Re.label||M.current.getLocaleText(`filterOperator${Qe(Re.value)}`)))})),C.jsx(MVe,W({},he,{className:Je(K.valueInput,he.className),ownerState:U,children:me?.InputComponent?C.jsx(me.InputComponent,W({apiRef:M,item:r,applyValue:s,focusElementRef:q,disabled:T,slotProps:{root:{size:"small"}}},me.InputComponentProps,X),r.field):null}))]}))}),RVe=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],o4=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),IVe=fn(function(t,n){const r=Rn(),i=It(),o=dt(r,mo),s=dt(r,IH),l=dt(r,KAe),c=_.useRef(null),u=_.useRef(null),{logicOperators:h=[cs.And,cs.Or],columnsSort:p,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:y=!1,disableRemoveAllButton:b=!1}=t,v=Tt(t,RVe),S=r.current.upsertFilterItem,E=_.useCallback(j=>{r.current.setFilterLogicOperator(j)},[r]),T=_.useCallback(()=>{let j;if(m&&typeof m=="function"){const U=m({currentFilters:o?.items||[],columns:s});if(U===null)return null;j=s.find(({field:K})=>K===U)}else j=s.find(U=>U.filterOperators?.length);return j?o4(j):null},[o?.items,s,m]),O=_.useCallback(()=>{if(m===void 0||typeof m!="function")return T();const j=o.items.length?o.items:[T()].filter(Boolean),U=m({currentFilters:j,columns:s});if(U===null)return null;const K=s.find(({field:q})=>q===U);return K?o4(K):null},[o.items,s,m,T]),M=_.useMemo(()=>o.items.length?o.items:(u.current||(u.current=T()),u.current?[u.current]:[]),[o.items,T]),I=M.length>1,{readOnlyFilters:N,validFilters:D}=_.useMemo(()=>M.reduce((j,U)=>(l[U.field]?j.validFilters.push(U):j.readOnlyFilters.push(U),j),{readOnlyFilters:[],validFilters:[]}),[M,l]),L=_.useCallback(()=>{const j=O();j&&r.current.upsertFilterItems([...M,j])},[r,O,M]),A=_.useCallback(j=>{const U=D.length===1;r.current.deleteFilterItem(j),U&&r.current.hideFilterPanel()},[r,D.length]),$=_.useCallback(()=>D.length===1&&D[0].value===void 0?(r.current.deleteFilterItem(D[0]),r.current.hideFilterPanel()):r.current.setFilterModel(W({},o,{items:N}),"removeAllFilterItems"),[r,N,o,D]);return _.useEffect(()=>{h.length>0&&o.logicOperator&&!h.includes(o.logicOperator)&&E(h[0])},[h,E,o.logicOperator]),_.useEffect(()=>{D.length>0&&c.current.focus()},[D.length]),C.jsxs(n4,W({},v,{ref:n,children:[C.jsxs(pVe,{children:[N.map((j,U)=>C.jsx(i4,W({item:j,applyFilterChanges:S,deleteFilter:A,hasMultipleFilters:I,showMultiFilterOperators:U>0,disableMultiFilterOperator:U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:null,readOnly:!0,logicOperators:h,columnsSort:p},g),j.id==null?U:j.id)),D.map((j,U)=>C.jsx(i4,W({item:j,applyFilterChanges:S,deleteFilter:A,hasMultipleFilters:I,showMultiFilterOperators:N.length+U>0,disableMultiFilterOperator:N.length+U!==1,applyMultiFilterOperatorChanges:E,focusElementRef:U===D.length-1?c:null,logicOperators:h,columnsSort:p},g),j.id==null?U+N.length:j.id))]}),!i.disableMultipleColumnsFiltering&&!(y&&b)?C.jsxs(yVe,{children:[y?C.jsx("span",{}):C.jsx(i.slots.baseButton,W({onClick:L,startIcon:C.jsx(i.slots.filterPanelAddIcon,{})},i.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!b&&D.length>0?C.jsx(i.slots.baseButton,W({onClick:$,startIcon:C.jsx(i.slots.filterPanelRemoveAllIcon,{})},i.slotProps?.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),kVe=(e,t)=>{const n=new Set(Object.keys(e).filter(o=>e[o]===!1)),r=new Set(Object.keys(t).filter(o=>t[o]===!1));if(n.size!==r.size)return!1;let i=!0;return n.forEach(o=>{r.has(o)||(i=!1)}),i},PVe=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,DVe=["children"],AVe=ya({from:{opacity:0},to:{opacity:1}}),LVe=ya({"from, to":{"--scrollable":'" "'}}),NVe=fr("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${LVe};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${AVe} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,BVe=fn(function(t,n){const{children:r}=t,i=Tt(t,DVe);return C.jsx(NVe,W({},i,{ref:n,children:r}))}),FVe=e=>{const{classes:t}=e;return _t({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},qn,t)},s4=new Intl.Collator;function jVe(e){const t=Rn(),n=_.useRef(null),r=dt(t,WAe),i=dt(t,Da),o=It(),[s,l]=_.useState(""),c=FVe(o),u=dt(t,Pa),h=dt(t,Ph),p=dt(t,xG),g=_.useMemo(()=>h?Array.from(p.values()):u,[h,p,u]),{sort:m,searchPredicate:y=PVe,autoFocusSearchField:b=!0,disableShowHideToggle:v=!1,disableResetButton:S=!1,toggleAllMode:E="all",getTogglableColumns:T,searchInputProps:O,searchDebounceMs:M=o.columnFilterDebounceMs}=e,I=_.useMemo(()=>Ou(Q=>{l(Q)},M??150),[M]),N=_.useMemo(()=>kVe(i,r),[i,r]),D=_.useMemo(()=>{switch(m){case"asc":return[...g].sort((Q,H)=>s4.compare(Q.headerName||Q.field,H.headerName||H.field));case"desc":return[...g].sort((Q,H)=>-s4.compare(Q.headerName||Q.field,H.headerName||H.field));default:return g}},[g,m]),L=Q=>{const{name:H}=Q.target;t.current.setColumnVisibility(H,i[H]===!1)},A=_.useMemo(()=>{const Q=T?T(D):null,H=Q?D.filter(({field:X})=>Q.includes(X)):D;return s?H.filter(X=>y(X,s.toLowerCase())):H},[D,s,y,T]),$=_.useCallback(Q=>{const H=Da(t),X=W({},H),he=T?T(g):null;return(E==="filteredOnly"?A:g).forEach(pe=>{pe.hideable&&(he==null||he.includes(pe.field))&&(Q?delete X[pe.field]:X[pe.field]=!1)}),t.current.setColumnVisibilityModel(X)},[t,g,T,E,A]),j=_.useCallback(Q=>{I(Q.target.value)},[I]),U=_.useMemo(()=>A.filter(Q=>Q.hideable),[A]),K=_.useMemo(()=>U.every(Q=>i[Q.field]==null||i[Q.field]!==!1),[i,U]),q=_.useMemo(()=>U.every(Q=>i[Q.field]===!1),[i,U]),z=_.useRef(null);_.useEffect(()=>{b?n.current?.focus():z.current&&typeof z.current.focus=="function"&&z.current.focus()},[b]);let Y=!1;const te=Q=>Y===!1&&Q.hideable!==!1?(Y=!0,!0):!1,ie=_.useCallback(()=>{l(""),n.current&&(n.current.value="",n.current.focus())},[]);return C.jsxs(_.Fragment,{children:[C.jsx(zVe,{className:c.header,ownerState:o,children:C.jsx(UVe,W({as:o.slots.baseTextField,ownerState:o,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:c.searchInput,onChange:j,size:"small",type:"search",slotProps:{input:{startAdornment:C.jsx(o.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:C.jsx(o.slots.baseIconButton,W({size:"small","aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:ie,edge:"end"},o.slotProps?.baseIconButton,{children:C.jsx(o.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},o.slotProps?.baseTextField,O))}),C.jsx($Ve,{ownerState:o,children:C.jsxs(VVe,{className:c.root,ownerState:o,children:[A.map(Q=>C.jsx(WVe,W({as:o.slots.baseCheckbox,className:c.row,disabled:Q.hideable===!1||h,checked:i[Q.field]!==!1,onChange:L,name:Q.field,inputRef:te(Q)?z:void 0,label:Q.headerName||Q.field,density:"compact",fullWidth:!0},o.slotProps?.baseCheckbox),Q.field)),A.length===0&&C.jsx(GVe,{ownerState:o,children:t.current.getLocaleText("columnsManagementNoColumns")})]})}),!v||!S?C.jsxs(HVe,{ownerState:o,className:c.footer,children:[v?C.jsx("span",{}):C.jsx(o.slots.baseCheckbox,W({disabled:U.length===0||h,checked:K,indeterminate:!K&&!q,onChange:()=>$(!K),name:t.current.getLocaleText("columnsManagementShowHideAllText"),label:t.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},o.slotProps?.baseCheckbox)),S?null:C.jsx(o.slots.baseButton,W({onClick:()=>t.current.setColumnVisibilityModel(r),disabled:N||h},o.slotProps?.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const VVe=Te("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:Dt.spacing(.5,1.5)}),$Ve=Te(BVe,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),zVe=Te("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:Dt.spacing(1.5,2),borderBottom:`1px solid ${Dt.colors.border.base}`}),UVe=Te(Jl,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${$o.input}::-webkit-search-decoration,
      & .${$o.input}::-webkit-search-cancel-button,
      & .${$o.input}::-webkit-search-results-button,
      & .${$o.input}::-webkit-search-results-decoration`]:{display:"none"}}),HVe=Te("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:Dt.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${Dt.colors.border.base}`}),GVe=Te("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:Dt.spacing(1,0),alignSelf:"center",font:Dt.typography.font.body}),WVe=Te(Jl,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({}),KVe=fn(function(t,n){const{children:r,slotProps:i={}}=t,o=i.button||{},s=i.tooltip||{},l=Rn(),c=It(),u=sr(),h=sr(),[p,g]=_.useState(!1),m=_.useRef(null),y=Zn(n,m),b=S=>{g(E=>!E),o.onClick?.(S)},v=()=>g(!1);return r==null?null:C.jsxs(_.Fragment,{children:[C.jsx(c.slots.baseTooltip,W({title:l.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},c.slotProps?.baseTooltip,s,{children:C.jsx(c.slots.baseButton,W({size:"small",startIcon:C.jsx(c.slots.exportIcon,{}),"aria-expanded":p,"aria-label":l.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":p?h:void 0,id:u},c.slotProps?.baseButton,o,{onClick:b,ref:y,children:l.current.getLocaleText("toolbarExport")}))})),C.jsx(nS,{open:p,target:m.current,onClose:v,position:"bottom-end",children:C.jsx(c.slots.baseMenuList,{id:h,className:se.menuList,"aria-labelledby":u,autoFocusItem:p,children:_.Children.map(r,S=>_.isValidElement(S)?_.cloneElement(S,{hideMenu:v}):S)})})]})}),qVe=["hideMenu","options"],YVe=["hideMenu","options"],XVe=["csvOptions","printOptions","excelOptions"];function ZVe(e){const t=Rn(),n=It(),{hideMenu:r,options:i}=e,o=Tt(e,qVe);return C.jsx(n.slots.baseMenuItem,W({onClick:()=>{t.current.exportDataAsCsv(i),r?.()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))}function QVe(e){const t=Rn(),n=It(),{hideMenu:r,options:i}=e,o=Tt(e,YVe);return C.jsx(n.slots.baseMenuItem,W({onClick:()=>{t.current.exportDataAsPrint(i),r?.()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))}fn(function(t,n){const r=t,{csvOptions:i={},printOptions:o={},excelOptions:s}=r,l=Tt(r,XVe),u=Rn().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:i,printOptions:o}).sort((h,p)=>h.componentName>p.componentName?1:-1);return u.length===0?null:C.jsx(KVe,W({},l,{ref:n,children:u.map((h,p)=>_.cloneElement(h.component,{key:p}))}))});const a4=_.createContext(void 0);function QR(){const e=_.useContext(a4);if(e===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}const JVe=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],e3e=e=>e.split(" ").filter(t=>t!==""),t3e=e=>e.join(" ");function n3e(e){const t=It(),{render:n,className:r,parser:i=e3e,formatter:o=t3e,debounceMs:s=t.filterDebounceMs,defaultExpanded:l,expanded:c,onExpandedChange:u}=e,h=Tt(e,JVe),p=Rn(),g=_.useRef(null),m=_.useRef(null),y=dt(p,KH),[b,v]=_.useState(o(y??[])),[S,E]=_.useState(l??b.length>0),T=c??S,O=_.useMemo(()=>({value:b,expanded:T}),[b,T]),M=typeof r=="function"?r(O):r,I=_.useRef(null),N=sr(),D=_.useCallback(Y=>{u&&u(Y),c===void 0&&E(Y)},[u,c]),L=_.useRef(y);_.useEffect(()=>{La(L.current,y)||(L.current=y,v(Y=>La(i(Y),y)?Y:o(y??[])))},[y,o,i]);const A=_.useRef(!0),$=_.useRef(T);_.useEffect(()=>{if(A.current){A.current=!1;return}$.current!==T&&(T?requestAnimationFrame(()=>{g.current?.focus({preventScroll:!0})}):m.current?.focus({preventScroll:!0}),$.current=T)},[T]);const j=_.useMemo(()=>Ou(Y=>{const te=i(Y);L.current=te,p.current.setQuickFilterValues(te)},s),[p,s,i]);_.useEffect(()=>j.clear,[j]);const U=_.useCallback(Y=>{const te=Y.target.value;v(te),j(te)},[j]),K=_.useCallback(()=>{v(""),p.current.setQuickFilterValues([]),g.current?.focus()},[p,g]),q=_.useMemo(()=>({controlRef:g,triggerRef:m,state:O,controlId:N,clearValue:K,onValueChange:U,onExpandedChange:D}),[N,O,U,K,D]);pr(()=>{I.current&&m.current&&I.current.style.setProperty("--trigger-width",`${m.current?.offsetWidth}px`)},[]);const z=rc("div",n,W({className:M},h,{ref:I}),O);return C.jsx(a4.Provider,{value:q,children:z})}const r3e=["render","className","slotProps","onKeyDown","onChange"],i3e=fn(function(t,n){const{render:r,className:i,slotProps:o,onKeyDown:s,onChange:l}=t,c=Tt(t,r3e),u=It(),{state:h,controlId:p,controlRef:g,onValueChange:m,onExpandedChange:y,clearValue:b}=QR(),v=typeof i=="function"?i(h):i,S=Zn(g,n),E=I=>{I.key==="Escape"&&(h.value===""?y(!1):b()),s?.(I)},T=I=>{h.value===""&&y(!1),o?.htmlInput?.onBlur?.(I)},O=I=>{h.expanded||y(!0),m(I),l?.(I)},M=rc(u.slots.baseTextField,r,W({},u.slotProps?.baseTextField,{slotProps:W({htmlInput:W({role:"searchbox",id:p,tabIndex:h.expanded?void 0:-1},o?.htmlInput,{onBlur:T})},o),value:h.value,className:v},c,{onChange:O,onKeyDown:E,ref:S}),h);return C.jsx(_.Fragment,{children:M})}),o3e=["render","className","onClick"],s3e=fn(function(t,n){const{render:r,className:i,onClick:o}=t,s=Tt(t,o3e),l=It(),{state:c,clearValue:u}=QR(),h=typeof i=="function"?i(c):i,p=m=>{u(),o?.(m)},g=rc(l.slots.baseIconButton,r,W({},l.slotProps?.baseIconButton,{className:h,tabIndex:-1},s,{onClick:p,ref:n}),c);return C.jsx(_.Fragment,{children:g})}),a3e=["render","className","onClick"],l3e=fn(function(t,n){const{render:r,className:i,onClick:o}=t,s=Tt(t,a3e),l=It(),{state:c,controlId:u,onExpandedChange:h,triggerRef:p}=QR(),g=typeof i=="function"?i(c):i,m=Zn(p,n),y=v=>{h(!c.expanded),o?.(v)},b=rc(l.slots.baseButton,r,W({},l.slotProps?.baseButton,{className:g,"aria-controls":u,"aria-expanded":c.expanded},s,{onClick:y,ref:m}),c);return C.jsx(_.Fragment,{children:b})}),c3e=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],u3e=["ref","slotProps"],d3e=e=>{const{classes:t}=e;return _t({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},qn,t)},h3e=fr("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),f3e=fr(CS,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:e})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:e.expanded?0:1,pointerEvents:e.expanded?"none":"auto",transition:Dt.transition(["opacity"])})),p3e=fr(e=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:e})=>({gridArea:"1 / 1",overflowX:"clip",width:e.expanded?260:"var(--trigger-width)",opacity:e.expanded?1:0,transition:Dt.transition(["width","opacity"])}));function g3e(e){const t=Rn(),n=It(),r={classes:n.classes,expanded:!1},i=d3e(r),{quickFilterParser:o,quickFilterFormatter:s,debounceMs:l,className:c,slotProps:u}=e,h=Tt(e,c3e);return C.jsx(n3e,{parser:o,formatter:s,debounceMs:l,render:(p,g)=>{const m=W({},r,{expanded:g.expanded});return C.jsxs(h3e,W({},p,{className:Je(i.root,c),children:[C.jsx(l3e,{render:y=>C.jsx(n.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:C.jsx(f3e,W({className:i.trigger},y,{ownerState:m,color:"default","aria-disabled":g.expanded,children:C.jsx(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),C.jsx(i3e,{render:y=>{let{ref:b,slotProps:v}=y,S=Tt(y,u3e);return C.jsx(p3e,W({as:n.slots.baseTextField,className:i.control,ownerState:m,inputRef:b,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:W({input:W({startAdornment:C.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:S.value?C.jsx(s3e,{render:C.jsx(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:C.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},v?.input)},v)},n.slotProps?.baseTextField,S,u?.root,h))}})]}))}})}const m3e=["render","className","onClick","onPointerUp"],v3e=fn(function(t,n){const{render:r,className:i,onClick:o,onPointerUp:s}=t,l=Tt(t,m3e),c=It(),u=sr(),h=sr(),p=Rn(),g=dt(p,Dh),m=g.open&&g.openedPanelValue===us.filters,b=dt(p,NR).length,v={open:m,filterCount:b},S=typeof i=="function"?i(v):i,{filterPanelTriggerRef:E}=XR(),T=Zn(n,E),O=N=>{m?p.current.hidePreferences():p.current.showPreferences(us.filters,h,u),o?.(N)},M=N=>{m&&N.stopPropagation(),s?.(N)},I=rc(c.slots.baseButton,r,W({},c.slotProps?.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,onClick:O,onPointerUp:M,className:S},l,{ref:T}),v);return C.jsx(_.Fragment,{children:I})}),y3e=["render","className","onClick","onPointerUp"],b3e=fn(function(t,n){const{render:r,className:i,onClick:o,onPointerUp:s}=t,l=Tt(t,y3e),c=It(),u=sr(),h=sr(),p=Rn(),g=dt(p,Dh),m=g.open&&g.openedPanelValue===us.columns,y={open:m},b=typeof i=="function"?i(y):i,{columnsPanelTriggerRef:v}=XR(),S=Zn(n,v),E=M=>{m?p.current.hidePreferences():p.current.showPreferences(us.columns,h,u),o?.(M)},T=M=>{m&&M.stopPropagation(),s?.(M)},O=rc(c.slots.baseButton,r,W({},c.slotProps?.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":m?"true":void 0,"aria-controls":m?h:void 0,className:b},l,{onPointerUp:T,onClick:E,ref:S}),y);return C.jsx(_.Fragment,{children:O})}),w3e=["render","options","onClick"],S3e=fn(function(t,n){const{render:r,options:i,onClick:o}=t,s=Tt(t,w3e),l=It(),c=Rn(),u=p=>{c.current.exportDataAsCsv(i),o?.(p)},h=rc(l.slots.baseButton,r,W({},l.slotProps?.baseButton,{onClick:u},s,{ref:n}));return C.jsx(_.Fragment,{children:h})}),C3e=["render","options","onClick"],x3e=fn(function(t,n){const{render:r,options:i,onClick:o}=t,s=Tt(t,C3e),l=It(),c=Rn(),u=p=>{c.current.exportDataAsPrint(i),o?.(p)},h=rc(l.slots.baseButton,r,W({},l.slotProps?.baseButton,{onClick:u},s,{ref:n}));return C.jsx(_.Fragment,{children:h})}),_3e=["className"],E3e=["className"],l4=e=>{const{classes:t}=e;return _t({divider:["toolbarDivider"],label:["toolbarLabel"]},qn,t)},T3e=fr(Jl,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:Dt.spacing(0,.5)}),M3e=fr("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:Dt.typography.font.large,fontWeight:Dt.typography.fontWeight.medium,margin:Dt.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function c4(e){const t=Tt(e,_3e),n=It(),r=l4(n);return C.jsx(T3e,W({as:n.slots.baseDivider,orientation:"vertical",className:r.divider},t))}function O3e(e){const t=Tt(e,E3e),n=It(),r=l4(n);return C.jsx(M3e,W({className:r.label},t))}function R3e(e){const{showQuickFilter:t=!0,quickFilterProps:n,csvOptions:r,printOptions:i,additionalItems:o,additionalExportMenuItems:s}=e,l=Rn(),c=It(),[u,h]=_.useState(!1),p=_.useRef(null),g=sr(),m=sr(),y=!r?.disableToolbarButton||!i?.disableToolbarButton||s,b=()=>h(!1);return C.jsxs(YFe,{children:[c.label&&C.jsx(O3e,{children:c.label}),!c.disableColumnSelector&&C.jsx(c.slots.baseTooltip,{title:l.current.getLocaleText("toolbarColumns"),children:C.jsx(b3e,{render:C.jsx(CS,{}),children:C.jsx(c.slots.columnSelectorIcon,{fontSize:"small"})})}),!c.disableColumnFilter&&C.jsx(c.slots.baseTooltip,{title:l.current.getLocaleText("toolbarFilters"),children:C.jsx(v3e,{render:(v,S)=>C.jsx(CS,W({},v,{color:S.filterCount>0?"primary":"default",children:C.jsx(c.slots.baseBadge,{badgeContent:S.filterCount,color:"primary",variant:"dot",children:C.jsx(c.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),o,y&&(!c.disableColumnFilter||!c.disableColumnSelector)&&C.jsx(c4,{}),y&&C.jsxs(_.Fragment,{children:[C.jsx(c.slots.baseTooltip,{title:l.current.getLocaleText("toolbarExport"),disableInteractive:u,children:C.jsx(CS,{ref:p,id:m,"aria-controls":g,"aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:()=>h(!u),children:C.jsx(c.slots.exportIcon,{fontSize:"small"})})}),C.jsx(nS,{target:p.current,open:u,onClose:b,position:"bottom-end",children:C.jsxs(c.slots.baseMenuList,W({id:g,"aria-labelledby":m,autoFocusItem:!0},c.slotProps?.baseMenuList,{children:[!i?.disableToolbarButton&&C.jsx(x3e,{render:C.jsx(c.slots.baseMenuItem,W({},c.slotProps?.baseMenuItem)),options:i,onClick:b,children:l.current.getLocaleText("toolbarExportPrint")}),!r?.disableToolbarButton&&C.jsx(S3e,{render:C.jsx(c.slots.baseMenuItem,W({},c.slotProps?.baseMenuItem)),options:r,onClick:b,children:l.current.getLocaleText("toolbarExportCSV")}),s?.(b)]}))})]}),t&&C.jsxs(_.Fragment,{children:[C.jsx(c4,{}),C.jsx(g3e,W({},n))]})]})}const I3e=["className","selectedRowCount"],k3e=e=>{const{classes:t}=e;return _t({root:["selectedRowCount"]},qn,t)},P3e=fr("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:Dt.spacing(0,2),visibility:"hidden",width:0,height:0,[Dt.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),D3e=fn(function(t,n){const{className:r,selectedRowCount:i}=t,o=Tt(t,I3e),s=Rn(),l=It(),c=k3e(l),u=s.current.getLocaleText("footerRowSelected")(i);return C.jsx(P3e,W({className:Je(c.root,r),ownerState:l},o,{ref:n,children:u}))}),A3e=fn(function(t,n){const r=Rn(),i=It(),o=dt(r,lAe),s=dt(r,aS),l=dt(r,LR),c=!i.hideFooterSelectedRowCount&&s>0?C.jsx(D3e,{selectedRowCount:s}):C.jsx("div",{}),u=!i.hideFooterRowCount&&!i.pagination?C.jsx(i.slots.footerRowCount,W({},i.slotProps?.footerRowCount,{rowCount:o,visibleRowCount:l})):null,h=i.pagination&&!i.hideFooterPagination&&i.slots.pagination&&C.jsx(i.slots.pagination,W({},i.slotProps?.pagination));return C.jsxs(jFe,W({},t,{ref:n,children:[c,u,h]}))}),Qm=(e,t,n,r,i,o)=>{let s;switch(e){case Jn.LEFT:s=r[n];break;case Jn.RIGHT:s=i-r[n]-t+o;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},_S=(e,t,n,r,i)=>{const o=t===n-1;return e===Jn.LEFT&&o?!0:r?e===Jn.LEFT?!0:e===Jn.RIGHT?!o:!o||i:!1},ES=(e,t)=>e===Jn.RIGHT&&t===0,Jm={root:se.scrollbarFiller,header:se["scrollbarFiller--header"],borderTop:se["scrollbarFiller--borderTop"],borderBottom:se["scrollbarFiller--borderBottom"],pinnedRight:se["scrollbarFiller--pinnedRight"]};function JR({header:e,borderTop:t=!0,borderBottom:n,pinnedRight:r}){return C.jsx("div",{role:"presentation",className:Je(Jm.root,e&&Jm.header,t&&Jm.borderTop,n&&Jm.borderBottom,r&&Jm.pinnedRight)})}const L3e=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],N3e=fr("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),B3e=e=>{const{classes:t}=e;return _t({root:["skeletonLoadingOverlay"]},qn,t)},u4=e=>parseInt(e.getAttribute("data-colindex"),10),F3e=fn(function(t,n){const r=It(),{slots:i}=r,o=Oo(),s=B3e({classes:r.classes}),l=_.useRef(null),c=Zn(l,n),u=Rn(),h=dt(u,xi),p=dt(u,CR),g=dt(u,Oh),m=_.useMemo(()=>g.filter(D=>D<=p).length,[p,g]),{skeletonRowsCount:y,visibleColumns:b,showFirstRowBorder:v}=t,S=Tt(t,L3e),E=dt(u,_i),T=_.useMemo(()=>E.slice(0,m),[E,m]),O=dt(u,Jw),M=_.useCallback(D=>{if(O.left.findIndex(L=>L.field===D)!==-1)return Jn.LEFT;if(O.right.findIndex(L=>L.field===D)!==-1)return Jn.RIGHT},[O.left,O.right]),I=_.useMemo(()=>{const D=[];for(let L=0;L<y;L+=1){const A=[];for(let $=0;$<T.length;$+=1){const j=T[$],U=M(j.field),K=U===Jn.LEFT,q=U===Jn.RIGHT,z=$G(U,o),Y=z?O[z].length:T.length-O.left.length-O.right.length,te=z?O[z].findIndex(xe=>xe.field===j.field):$-O.left.length,ie=h.hasScrollY?h.scrollbarSize:0,Q=bS({},o,U,Qm(U,j.computedWidth,$,g,h.columnsTotalWidth,ie)),H=h.columnsTotalWidth<h.viewportOuterSize.width,X=_S(U,te,Y,r.showCellVerticalBorder,H),he=ES(U,te),pe=$===T.length-1,ge=q&&te===0,ce=ge&&H,be=pe&&!ge&&H,Ne=h.viewportOuterSize.width-h.columnsTotalWidth,_e=Math.max(0,Ne),me=C.jsx(i.skeletonCell,{width:_e,empty:!0},`skeleton-filler-column-${L}`),ye=pe&&ie!==0;ce&&A.push(me),A.push(C.jsx(i.skeletonCell,{field:j.field,type:j.type,align:j.align,width:"var(--width)",height:h.rowHeight,"data-colindex":$,empty:b&&!b.has(j.field),className:Je(K&&se["cell--pinnedLeft"],q&&se["cell--pinnedRight"],X&&se["cell--withRightBorder"],he&&se["cell--withLeftBorder"]),style:W({"--width":`${j.computedWidth}px`},Q)},`skeleton-column-${L}-${j.field}`)),be&&A.push(me),ye&&A.push(C.jsx(JR,{pinnedRight:O.right.length>0},`skeleton-scrollbar-filler-${L}`))}D.push(C.jsx("div",{className:Je(se.row,se.rowSkeleton,L===0&&!v&&se["row--firstVisible"]),children:A},`skeleton-row-${L}`))}return D},[y,T,M,o,O,h.hasScrollY,h.scrollbarSize,h.columnsTotalWidth,h.viewportOuterSize.width,h.rowHeight,g,r.showCellVerticalBorder,i,b,v]);return Vt(u,"columnResize",D=>{const{colDef:L,width:A}=D,$=l.current?.querySelectorAll(`[data-field="${Fc(L.field)}"]`);if(!$)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const j=T.findIndex(te=>te.field===L.field),U=M(L.field),K=U===Jn.LEFT,q=U===Jn.RIGHT,z=getComputedStyle($[0]).getPropertyValue("--width"),Y=parseInt(z,10)-A;$&&$.forEach(te=>{te.style.setProperty("--width",`${A}px`)}),K&&l.current?.querySelectorAll(`.${se["cell--pinnedLeft"]}`)?.forEach(ie=>{u4(ie)>j&&(ie.style.left=`${parseInt(getComputedStyle(ie).left,10)-Y}px`)}),q&&l.current?.querySelectorAll(`.${se["cell--pinnedRight"]}`)?.forEach(ie=>{u4(ie)<j&&(ie.style.right=`${parseInt(getComputedStyle(ie).right,10)+Y}px`)})}),C.jsx(N3e,W({className:s.root},S,{ref:c,children:I}))}),j3e=fn(function(t,n){const r=Rn(),i=dt(r,xi),o=i?.viewportInnerSize.height??0,s=Math.ceil(o/i.rowHeight);return C.jsx(F3e,W({},t,{skeletonRowsCount:s,ref:n}))}),V3e=["variant","noRowsVariant","style"],$3e={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>j3e,style:{display:"block"}}},z3e=fn(function(t,n){const{variant:r="linear-progress",noRowsVariant:i="skeleton",style:o}=t,s=Tt(t,V3e),l=Rn(),c=It(),u=dt(l,Vf),h=$3e[u===0?i:r],p=h.component(c);return C.jsx(SS,W({style:W({},h.style,o)},s,{ref:n,children:C.jsx(p,{})}))}),U3e=fn(function(t,n){const i=Rn().current.getLocaleText("noRowsLabel");return C.jsx(SS,W({},t,{ref:n,children:i}))}),H3e=fn(function(t,n){const r=It(),i=Rn(),o=dt(i,nc),s=()=>{i.current.showPreferences(us.columns)},l=!r.disableColumnSelector&&o.length>0;return C.jsxs(SS,W({},t,{ref:n,children:[i.current.getLocaleText("noColumnsOverlayLabel"),l&&C.jsx(r.slots.baseButton,W({size:"small"},r.slotProps?.baseButton,{onClick:s,children:i.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),G3e=Te(Jl)({maxHeight:"calc(100% + 1px)",flexGrow:1});function W3e(){const e=Rn(),t=It(),n=dt(e,Po),r=dt(e,Gf),i=dt(e,aG),{paginationMode:o,loading:s}=t,l=r===-1&&o==="server"&&s,c=_.useMemo(()=>Math.max(0,i-1),[i]),u=_.useMemo(()=>r===-1||n.page<=c?n.page:c,[c,n.page,r]),h=_.useCallback(y=>{e.current.setPageSize(y)},[e]),p=_.useCallback((y,b)=>{e.current.setPage(b)},[e]),m=(y=>{for(let b=0;b<t.pageSizeOptions.length;b+=1){const v=t.pageSizeOptions[b];if(typeof v=="number"){if(v===y)return!0}else if(v.value===y)return!0}return!1})(n.pageSize)?t.pageSizeOptions:[];return C.jsx(G3e,W({as:t.slots.basePagination,count:r,page:u,rowsPerPageOptions:m,rowsPerPage:n.pageSize,onPageChange:p,onRowsPerPageChange:h,disabled:l},t.slotProps?.basePagination))}const K3e=["className","rowCount","visibleRowCount"],q3e=e=>{const{classes:t}=e;return _t({root:["rowCount"]},qn,t)},Y3e=fr("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:Dt.spacing(0,2)}),X3e=fn(function(t,n){const{className:r,rowCount:i,visibleRowCount:o}=t,s=Tt(t,K3e),l=Rn(),c=It(),u=q3e(c);if(i===0)return null;const h=o<i?l.current.getLocaleText("footerTotalVisibleRows")(o,i):i.toLocaleString();return C.jsxs(Y3e,W({className:Je(u.root,r),ownerState:c},s,{ref:n,children:[l.current.getLocaleText("footerTotalRows")," ",h]}))});function Z3e(e,t){return _t(t,qn,e)}const rp=(e,t)=>Gm(e),d4=(e,t)=>dt(e,Gm),Q3e=ri(e=>e.rowReorder),J3e=Ht(Q3e,e=>e?.isActive??!1),e2e=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],t2e=Ht(vo,(e,{rowReordering:t,treeData:n})=>!t||n?!1:!!oS(e)),n2e=fn(function(t,n){const{selected:r,rowId:i,row:o,index:s,style:l,rowHeight:c,className:u,visibleColumns:h,pinnedColumns:p,offsetLeft:g,columnsTotalWidth:m,firstColumnIndex:y,lastColumnIndex:b,focusedColumnIndex:v,isFirstVisible:S,isLastVisible:E,isNotVisible:T,showBottomBorder:O,scrollbarWidth:M,gridHasFiller:I,onClick:N,onDoubleClick:D,onMouseEnter:L,onMouseLeave:A,onMouseOut:$,onMouseOver:j}=t,U=Tt(t,e2e),K=Ys(),q=tS(),z=_.useRef(null),Y=It(),te=d4(K),ie=dt(K,Aa),Q=dt(K,Oh),H=Y.rowReordering,X=Y.treeData,he=dt(K,t2e,{rowReordering:H,treeData:X}),pe=dt(K,J3e),ge=Zn(z,n),ce=Ql(K,i),be=dt(K,EG,{rowId:i,editMode:Y.editMode}),Ne=Y.editMode===ec.Row,_e=v!==void 0,me=_e&&v>=p.left.length&&v<y,ye=_e&&v<h.length-p.right.length&&v>=b,xe=Z3e(Y.classes,{root:["row",r&&"selected",Ne&&"row--editable",be&&"row--editing",S&&"row--firstVisible",E&&"row--lastVisible",O&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]}),Ie=q.hooks.useGridRowAriaAttributes();_.useLayoutEffect(()=>{if(te.range){const Mt=K.current.getRowIndexRelativeToVisibleRows(i);Mt!==void 0&&K.current.unstable_setLastMeasuredRowIndex(Mt)}if(z.current&&c==="auto")return K.current.observeRowHeight(z.current,i)},[K,te.range,c,i]);const Pe=_.useCallback((Mt,At)=>Ye=>{Xm(Ye)||K.current.getRow(i)&&(K.current.publishEvent(Mt,K.current.getRowParams(i),Ye),At&&At(Ye))},[K,i]),Re=_.useCallback(Mt=>{const Ye=xS(Mt.target,se.cell)?.getAttribute("data-field");Ye&&(Ye===Kf.field||Ye===PR||Ye==="__reorder__"||K.current.getCellMode(i,Ye)===Tr.Edit||K.current.getColumn(Ye)?.type===rS)||Pe("rowClick",N)(Mt)},[K,N,Pe,i]),{slots:Fe,slotProps:ft,disableColumnReorder:Ue}=Y,Ft=dt(K,()=>W({},K.current.getRowHeightEntry(i)),void 0,fH),Ct=_.useMemo(()=>{if(T)return{opacity:0,width:0,height:0};const Mt=W({},l,{maxHeight:c==="auto"?"none":c,minHeight:c,"--height":typeof c=="number"?`${c}px`:c});if(Ft.spacingTop){const At=Y.rowSpacingType==="border"?"borderTopWidth":"marginTop";Mt[At]=Ft.spacingTop}if(Ft.spacingBottom){const At=Y.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Ye=Mt[At];typeof Ye!="number"&&(Ye=parseInt(Ye||"0",10)),Ye+=Ft.spacingBottom,Mt[At]=Ye}return Mt},[T,c,l,Ft,Y.rowSpacingType]);if(!ce)return null;const Rt=K.current.unstable_applyPipeProcessors("rowClassName",[],i),Ke=Ie(ce,s);if(typeof Y.getRowClassName=="function"){const Mt=s-(te.range?.firstRowIndex||0),At=W({},K.current.getRowParams(i),{isFirstVisible:Mt===0,isLastVisible:Mt===te.rows.length-1,indexRelativeToCurrentPage:Mt});Rt.push(Y.getRowClassName(At))}const $t=(Mt,At,Ye,xt,St=Jn.NONE)=>{const nt=K.current.unstable_getCellColSpanInfo(i,Ye);if(nt?.spannedByColSpan)return null;const mt=nt?.cellProps.width??Mt.computedWidth,Pt=nt?.cellProps.colSpan??1,Et=Qm(St,Mt.computedWidth,Ye,Q,m,M);if(ce.type==="skeletonRow")return C.jsx(Fe.skeletonCell,{type:Mt.type,width:mt,height:c,field:Mt.field,align:Mt.align},Mt.field);const Nt=Mt.field==="__reorder__",nr=!(Ue||Mt.disableReorder),An=he&&!ie.length,Cr=!(nr||Nt&&An||pe),rr=St===Jn.VIRTUAL,mr=ES(St,At),bt=_S(St,At,xt,Y.showCellVerticalBorder,I);return C.jsx(Fe.cell,W({column:Mt,width:mt,rowId:i,align:Mt.align||"left",colIndex:Ye,colSpan:Pt,disableDragEvents:Cr,isNotVisible:rr,pinnedOffset:Et,pinnedPosition:St,showLeftBorder:mr,showRightBorder:bt,row:o,rowNode:ce},ft?.cell),Mt.field)},yt=p.left.map((Mt,At)=>$t(Mt,At,At,p.left.length,Jn.LEFT)),zt=p.right.map((Mt,At)=>{const Ye=h.length-p.right.length+At;return $t(Mt,At,Ye,p.right.length,Jn.RIGHT)}),jt=h.length-p.left.length-p.right.length,pn=[];me&&pn.push($t(h[v],v-p.left.length,v,jt,Jn.VIRTUAL));for(let Mt=y;Mt<b;Mt+=1){const At=h[Mt],Ye=Mt-p.left.length;At&&pn.push($t(At,Ye,Mt,jt))}ye&&pn.push($t(h[v],v-p.left.length,v,jt,Jn.VIRTUAL));const un=o?{onClick:Re,onDoubleClick:Pe("rowDoubleClick",D),onMouseEnter:Pe("rowMouseEnter",L),onMouseLeave:Pe("rowMouseLeave",A),onMouseOut:Pe("rowMouseOut",$),onMouseOver:Pe("rowMouseOver",j)}:null;return C.jsxs("div",W({"data-id":i,"data-rowindex":s,role:"row",className:Je(...Rt,xe.root,u),style:Ct},Ke,un,U,{ref:ge,children:[yt,C.jsx("div",{role:"presentation",className:se.cellOffsetLeft,style:{width:g}}),pn,C.jsx("div",{role:"presentation",className:Je(se.cell,se.cellEmpty)}),zt,M!==0&&C.jsx(JR,{pinnedRight:p.right.length>0,borderTop:!S})]}))}),r2e=Ac(n2e),i2e=()=>{const e=Ys(),t=It(),n=dt(e,_i),r=dt(e,AR),i=dt(e,Km),o=dt(e,rH),s=t["aria-label"],l=t["aria-labelledby"];return{role:"grid","aria-label":!s&&!l&&t.label?t.label:s,"aria-labelledby":l,"aria-colcount":n.length,"aria-rowcount":i+1+o+r,"aria-multiselectable":BR(t)}},o2e=()=>{const e=Ys(),t=dt(e,Km);return _.useCallback((n,r)=>{const i={},o=r+t+2;return i["aria-rowindex"]=o,n&&e.current.isRowSelectable(n.id)&&(i["aria-selected"]=e.current.isRowSelected(n.id)),i},[e,t])},s2e=e=>({setRowIndex:_.useCallback((n,r)=>{const i=Ql(e,n);if(!i)throw new Error(`MUI X: No row with id #${n} found.`);if(i.parent!==go)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(i.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(o=>{const s=ko(e)[go],l=s.children,c=l.findIndex(h=>h===n);if(c===-1||c===r)return o;const u=[...l];return u.splice(r,0,u.splice(c,1)[0]),W({},o,{rows:W({},o.rows,{tree:W({},o.rows.tree,{[go]:W({},s,{children:u})})})})}),e.current.publishEvent("rowsSet")},[e])});function a2e({privateApiRef:e,configuration:t,props:n,children:r}){const i=_.useRef(e.current.getPublicApi());return C.jsx(zH.Provider,{value:t,children:C.jsx(H5.Provider,{value:n,children:C.jsx(wG.Provider,{value:e,children:C.jsx(G5.Provider,{value:i,children:C.jsx(RFe,{children:C.jsx(sLe,{children:r})})})})})})}const l2e=e=>{const t=_.useRef(null),n=_.useRef(null),r=_.useRef(null),i=_.useRef(null),o=_.useRef(null),s=_.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:i,virtualScrollbarHorizontalRef:o,columnHeadersContainerRef:s})},c2e=e=>{const t=Oo();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const n=_.useRef(!0);_.useEffect(()=>{n.current?n.current=!1:e.current.setState(r=>W({},r,{isRtl:t}))},[e,t])},u2e=$Ae()&&window.localStorage.getItem("DEBUG")!=null,ev=()=>{},d2e={debug:ev,info:ev,warn:ev,error:ev},h4=["debug","info","warn","error"];function f4(e,t,n=console){const r=h4.indexOf(t);if(r===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return h4.reduce((o,s,l)=>(l>=r?o[s]=(...c)=>{const[u,...h]=c;n[s](`MUI X: ${e} - ${u}`,...h)}:o[s]=ev,o),{})}const h2e=(e,t)=>{const n=_.useCallback(r=>u2e?f4(r,"debug",t.logger):t.logLevel?f4(r,t.logLevel.toString(),t.logger):d2e,[t.logLevel,t.logger]);jn(e,{getLogger:n},"private")},f2e=(e,t)=>{const n=_.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:n})};function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function p2e(e,t){if(tv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nv(e){var t=p2e(e,"string");return tv(t)=="symbol"?t:t+""}const g2e=e=>{const t=_.useRef({}),n=_.useRef(!1),r=_.useCallback(p=>{n.current||!p||(n.current=!0,Object.values(p.appliers).forEach(g=>{g()}),n.current=!1)},[]),i=_.useCallback((p,g,m)=>{t.current[p]||(t.current[p]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const y=t.current[p];return y.processors.get(g)!==m&&(y.processors.set(g,m),y.processorsAsArray=Array.from(t.current[p].processors.values()).filter(v=>v!==null),y.processorsUpdated=!0),()=>{t.current[p].processors.set(g,null),t.current[p].processorsAsArray=Array.from(t.current[p].processors.values()).filter(v=>v!==null)}},[]),o=_.useCallback((p,g,m)=>(t.current[p]||(t.current[p]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[p].appliers[g]=m,()=>{const y=t.current[p].appliers,b=Tt(y,[g].map(nv));t.current[p].appliers=b}),[]),s=_.useCallback(p=>{r(t.current[p])},[r]),l=_.useCallback(()=>{for(const p in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,p))continue;const g=t.current[p];g.processorsUpdated&&(g.processorsUpdated=!1,r(g))}},[r]),c=_.useCallback((...p)=>{const[g,m,y]=p;if(!t.current[g])return m;const b=t.current[g].processorsAsArray;let v=m;for(let S=0;S<b.length;S+=1)v=b[S](v,y);return v},[]),u={registerPipeProcessor:i,registerPipeApplier:o,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:l},h={unstable_applyPipeProcessors:c};jn(e,u,"private"),jn(e,h,"public")},di=(e,t,n,r=!0)=>{const i=_.useRef(null),o=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=_.useCallback(()=>{i.current=e.current.registerPipeProcessor(t,o.current,n)},[e,n,t]);kh(()=>{r&&s()});const l=_.useRef(!0);_.useEffect(()=>(l.current?l.current=!1:r&&s(),()=>{i.current&&(i.current(),i.current=null)}),[s,r])},eI=(e,t,n)=>{const r=_.useRef(null),i=_.useRef(`mui-${Math.round(Math.random()*1e9)}`),o=_.useCallback(()=>{r.current=e.current.registerPipeApplier(t,i.current,n)},[e,n,t]);kh(()=>{o()});const s=_.useRef(!0);_.useEffect(()=>(s.current?s.current=!1:o(),()=>{r.current&&(r.current(),r.current=null)}),[o])};let Gu=(function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e})({});const rv=(e,t,n,r)=>{const i=_.useCallback(()=>{e.current.registerStrategyProcessor(t,n,r)},[e,r,n,t]);kh(()=>{i()});const o=_.useRef(!0);_.useEffect(()=>{o.current?o.current=!1:i()},[i])},Lh="none",p4={dataSourceRowsUpdate:Gu.DataSource,rowTreeCreation:Gu.RowTree,filtering:Gu.RowTree,sorting:Gu.RowTree,visibleRowsLookupCreation:Gu.RowTree},m2e=e=>{const t=_.useRef(new Map),n=_.useRef({}),r=_.useCallback((c,u,h)=>{const p=()=>{const y=n.current[u],b=Tt(y,[c].map(nv));n.current[u]=b};n.current[u]||(n.current[u]={});const g=n.current[u],m=g[c];return g[c]=h,!m||m===h||c===e.current.getActiveStrategy(p4[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),p},[e]),i=_.useCallback((c,u)=>{const h=e.current.getActiveStrategy(p4[c]);if(h==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const p=n.current[c];if(!p||!p[h])throw new Error(`No processor found for processor "${c}" on strategy "${h}"`);const g=p[h];return g(u)},[e]),o=_.useCallback(c=>Array.from(t.current.entries()).find(([,p])=>p.group!==c?!1:p.isAvailable())?.[0]??Lh,[]),s=_.useCallback((c,u,h)=>{t.current.set(u,{group:c,isAvailable:h}),e.current.publishEvent("strategyAvailabilityChange")},[e]);jn(e,{registerStrategyProcessor:r,applyStrategyProcessor:i,getActiveStrategy:o,setStrategyAvailability:s},"private")},v2e=e=>{const t=_.useRef({}),n=_.useCallback(l=>{t.current[l.stateId]=l},[]),r=_.useCallback((l,c)=>{let u;if(VAe(l)?u=l(e.current.state):u=l,e.current.state===u)return!1;const h={current:{state:u}};let p=!1;const g=[];if(Object.keys(t.current).forEach(m=>{const y=t.current[m],b=y.stateSelector(e),v=y.stateSelector(h);v!==b&&(g.push({stateId:y.stateId,hasPropChanged:v!==y.propModel}),y.propModel!==void 0&&v!==y.propModel&&(p=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(m=>m.stateId).join(", ")} in the same transaction.`);if(p||(e.current.state=u,e.current.publishEvent("stateChange",u),e.current.store.update(u)),g.length===1){const{stateId:m,hasPropChanged:y}=g[0],b=t.current[m],v=b.stateSelector(h);b.propOnChange&&y&&b.propOnChange(v,{reason:c,api:e.current}),p||e.current.publishEvent(b.changeEvent,v,{reason:c})}return!p},[e]),i=_.useCallback((l,c,u)=>e.current.setState(h=>W({},h,{[l]:c(h[l])}),u),[e]),o={setState:r},s={updateControlState:i,registerControlState:n};jn(e,o,"public"),jn(e,s,"private")},y2e=(e,t)=>W({},e,{props:{listView:t.listView,getRowId:t.getRowId}}),b2e=(e,t)=>{_.useEffect(()=>{e.current.setState(n=>W({},n,{props:{listView:t.listView,getRowId:t.getRowId}}))},[e,t.listView,t.getRowId])},w2e=(e,t)=>{l2e(e),b2e(e,t),c2e(e),h2e(e,t),v2e(e),g2e(e),m2e(e),f2e(e,t),e.current.register("private",{rootProps:t})},S2e=Ht(_s,FG,Gm,_i,(e,t,n,r)=>{if(!e)return!1;const i=n.rowIdToIndexMap.get(e.id),o=r.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(l=>l.field===e.field);return!(i!==void 0&&o!==-1&&i>=t.firstRowIndex&&i<=t.lastRowIndex)}),C2e=gr(S2e,_i,Gm,_s,(e,t,n,r)=>{if(!e)return null;const i=n.rowIdToIndexMap.get(r.id);if(i===void 0)return null;const o=t.findIndex(s=>s.field===r.field);return o===-1?null:W({},r,{rowIndex:i,columnIndex:o})}),TS={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:ec.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function x2e(e){return e}const _2e=Ht(_i,Oh,(e,t)=>{const n=e.length;return n===0?0:Ah(t[n-1]+e[n-1].computedWidth,1)}),E2e=()=>tR((e,t,n,r,i)=>W({},e,{headerHeight:t,groupHeaderHeight:n,headerFilterHeight:r,headersTotalHeight:i}),{maxSize:1});function T2e(e,t){const n=Oo(),{listView:r}=t,i=dt(e,_i),o=dt(e,Lm),s=Jw(e),l=dt(e,zm),c=ie=>l.has(ie)&&e.current.isRowSelectable(ie),u=d4(e),h=dt(e,qAe),p=dt(e,tH),g=dt(e,eH),{autoHeight:m}=t,y=r,b=dt(e,Nm),v=uH(t.rowHeight,TS.rowHeight),S=Math.floor(v*b),E=Math.floor(t.columnHeaderHeight*b),T=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*b),O=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*b),M=dt(e,_2e),I=qm(e,t),N=s.left.reduce((ie,Q)=>ie+Q.computedWidth,0),D=s.right.reduce((ie,Q)=>ie+Q.computedWidth,0),L={rowHeight:S,headerHeight:E,columnsTotalWidth:M,leftPinnedWidth:N,rightPinnedWidth:D,topPinnedHeight:I,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},A=Gs(E2e).current,$=dt(e,Vf),j=dt(e,Hf),U=Math.min(j.enabled?j.paginationModel.pageSize:$,$),{getRowHeight:K,getEstimatedRowHeight:q,getRowSpacing:z}=t,Y=dt(e,C2e),te=BBe({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:L,virtualization:{isRtl:n,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:h,getColspan:(ie,Q)=>{if(typeof Q.colSpan=="function"){const H=e.current.getRow(ie),X=e.current.getRowValue(H,Q);return Q.colSpan(X,H,Q,e)??0}return Q.colSpan??1}},initialState:{scroll:t.initialState?.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:u.rows,range:u.range,rowCount:U,columns:i,pinnedRows:o,pinnedColumns:s,autoHeight:m,minimalContentHeight:lH,getRowHeight:_.useMemo(()=>{if(K)return ie=>K(W({},ie,{densityFactor:b}))},[K,b]),getEstimatedRowHeight:_.useMemo(()=>q?ie=>q(W({},ie,{densityFactor:b})):void 0,[q,b]),getRowSpacing:_.useMemo(()=>z?ie=>{const Q=u.rowIdToIndexMap.get(ie.id)??-1,H={isFirstVisible:Q===0,isLastVisible:Q===u.rows.length-1,indexRelativeToCurrentPage:Q};return z(W({},ie,H,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(ie.id)}))}:void 0,[e,z,u.rows,u.rowIdToIndexMap]),applyRowHeight:Xt((ie,Q)=>e.current.unstable_applyPipeProcessors("rowHeight",ie,Q)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:Xt(()=>Y),resizeThrottleMs:t.resizeThrottleMs,onResize:Xt(ie=>e.current.publishEvent("resize",ie)),onWheel:Xt(ie=>{e.current.publishEvent("virtualScrollerWheel",{},ie)}),onTouchMove:Xt(ie=>{e.current.publishEvent("virtualScrollerTouchMove",{},ie)}),onRenderContextChange:Xt(ie=>{e.current.publishEvent("renderedRowsIntervalChange",ie)}),onScrollChange:(ie,Q)=>{e.current.publishEvent("scrollPositionChange",{top:ie.top,left:ie.left,renderContext:Q})},scrollReset:y,renderRow:ie=>C.jsx(t.slots.row,W({row:ie.model,rowId:ie.id,index:ie.rowIndex,selected:c(ie.id),offsetLeft:ie.offsetLeft,columnsTotalWidth:M,rowHeight:ie.baseRowHeight,pinnedColumns:s,visibleColumns:i,firstColumnIndex:ie.firstColumnIndex,lastColumnIndex:ie.lastColumnIndex,focusedColumnIndex:ie.focusedColumnIndex,isFirstVisible:ie.isFirstVisible,isLastVisible:ie.isLastVisible,isNotVisible:ie.isVirtualFocusRow,showBottomBorder:ie.showBottomBorder,scrollbarWidth:p,gridHasFiller:g},t.slotProps?.row),ie.id),renderInfiniteLoadingTrigger:ie=>e.current.getInfiniteLoadingTriggerElement?.({lastRowId:ie})});kh(()=>{e.current.store.state.dimensions=A(te.store.state.dimensions,E,T,O,I),e.current.store.state.rowsMeta=te.store.state.rowsMeta,e.current.store.state.virtualization=te.store.state.virtualization}),Bw(te.store,Es.selectors.dimensions,(ie,Q)=>{e.current.setState(H=>W({},H,{dimensions:A(Q,E,T,O,I)}))}),Bw(te.store,x2e,(ie,Q)=>{Q.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(H=>W({},H,{rowsMeta:Q.rowsMeta})),Q.virtualization!==e.current.state.virtualization&&e.current.setState(H=>W({},H,{virtualization:Q.virtualization}))}),e.current.register("private",{virtualizer:te})}const yo=(e,t,n,r)=>{const i=_.useRef(r),o=_.useRef(!1);r!==i.current&&(o.current=!1,i.current=r),o.current||(t.current.state=e(t.current.state,n,t),o.current=!0)};function tI(e,t){if(e==null)return"";const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const r=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(r[0])?`"'${r}"`:[t.delimiter,`
`,"\r",'"'].some(i=>n.includes(i))?`"${r}"`:r}return n}const g4=(e,t)=>{const{csvOptions:n,ignoreValueFormatter:r}=t;let i;if(r){const o=e.colDef.type;o==="number"?i=String(e.value):o==="date"||o==="dateTime"?i=e.value?.toISOString():typeof e.value?.toString=="function"?i=e.value.toString():i=e.value}else i=e.formattedValue;return tI(i,n)};class nI{rowString="";isEmpty=!0;constructor(t){this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const M2e=({id:e,columns:t,getCellParams:n,csvOptions:r,ignoreValueFormatter:i})=>{const o=new nI({csvOptions:r});return t.forEach(s=>{const l=n(e,s.field);o.addValue(g4(l,{ignoreValueFormatter:i,csvOptions:r}))}),o.getRowString()};function O2e(e){const{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:i,apiRef:o}=e,s=n.reduce((p,g)=>`${p}${M2e({id:g,columns:t,getCellParams:o.current.getCellParams,ignoreValueFormatter:i,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return s;const l=t.filter(p=>p.field!==Kf.field),c=[];if(r.includeColumnGroupsHeaders){const p=o.current.getAllGroupDetails();let g=0;const m=l.reduce((y,b)=>{const v=o.current.getColumnGroupPath(b.field);return y[b.field]=v,g=Math.max(g,v.length),y},{});for(let y=0;y<g;y+=1){const b=new nI({csvOptions:r,sanitizeCellValue:tI});c.push(b),l.forEach(v=>{const S=(m[v.field]||[])[y],E=p[S];b.addValue(E?E.headerName||E.groupId:"")})}}const u=new nI({csvOptions:r,sanitizeCellValue:tI});return l.forEach(p=>{u.addValue(p.headerName||p.field)}),c.push(u),`${`${c.map(p=>p.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function m4(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function R2e(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{m4(e)}):m4(e)}function I2e(e){return!!(window.getSelection()?.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const k2e=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,r=(typeof n=="object"?n?.clipboardExport:n)||!1,i=t.clipboardCopyCellDelimiter,o=_.useCallback(s=>{if(!rLe(s)||I2e(s.target))return;let l="";if(aS(e)>0)l=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const u=_s(e);if(u){const h=e.current.getCellParams(u.id,u.field);l=g4(h,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}l=e.current.unstable_applyPipeProcessors("clipboardCopy",l),l&&(R2e(l),e.current.publishEvent("clipboardCopy",l))},[e,r,i]);SG(e,()=>e.current.rootElementRef.current,"keydown",o),Ur(e,"clipboardCopy",t.onClipboardCopy)},P2e=e=>W({},e,{columnMenu:{open:!1}}),D2e=e=>{const t=Do(e,"useGridColumnMenu"),n=_.useCallback(s=>{const l=gS(e),c={open:!0,field:s};(c.open!==l.open||c.field!==l.field)&&(e.current.setState(h=>h.columnMenu.open&&h.columnMenu.field===s?h:(t.debug("Opening Column Menu"),W({},h,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences())},[e,t]),r=_.useCallback(()=>{const s=gS(e);if(s.field){const u=Nc(e),h=Da(e),p=nc(e);let g=s.field;if(u[g]||(g=p[0]),h[g]===!1){const m=p.filter(b=>b===g?!0:h[b]!==!1),y=m.indexOf(g);g=m[y+1]||m[y-1]}e.current.setColumnHeaderFocus(g)}const l={open:!1,field:void 0};(l.open!==s.open||l.field!==s.field)&&e.current.setState(u=>(t.debug("Hiding Column Menu"),W({},u,{columnMenu:l})))},[e,t]),i=_.useCallback(s=>{t.debug("Toggle Column Menu");const l=gS(e);!l.open||l.field!==s?n(s):r()},[e,t,n,r]);jn(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:i},"public"),Vt(e,"columnResizeStart",r),Vt(e,"virtualScrollerWheel",e.current.hideColumnMenu),Vt(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},A2e=(e,t,n)=>{n.current.caches.columns={lastColumnsProp:t.columns};const r=Zf({apiRef:n,columnsToUpsert:t.columns,initialState:t.initialState?.columns,columnVisibilityModel:t.columnVisibilityModel??t.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return W({},e,{columns:r,pinnedColumns:e.pinnedColumns??Qw})};function L2e(e,t){const n=Do(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Da,changeEvent:"columnVisibilityModelChange"});const r=_.useCallback(D=>{n.debug("Updating columns state."),e.current.setState(N2e(D)),e.current.publishEvent("columnsChange",D.orderedFields)},[n,e]),i=_.useCallback(D=>Nc(e)[D],[e]),o=_.useCallback(()=>Pa(e),[e]),s=_.useCallback(()=>_i(e),[e]),l=_.useCallback((D,L=!0)=>(L?_i(e):Pa(e)).findIndex($=>$.field===D),[e]),c=_.useCallback(D=>{const L=l(D);return Oh(e)[L]},[e,l]),u=_.useCallback(D=>{Da(e)!==D&&(e.current.setState(A=>W({},A,{columns:Zf({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:D,keepOnlyColumnsToUpsert:!1})})),e.current.updateRenderContext?.())},[e]),h=_.useCallback(D=>{if(Ph(e)){e.current.updateNonPivotColumns(D);return}const L=Zf({apiRef:e,columnsToUpsert:D,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});r(L)},[e,r]),p=_.useCallback((D,L)=>{const A=Da(e),$=A[D]??!0;if(L!==$){const j=W({},A,{[D]:L});e.current.setColumnVisibilityModel(j)}},[e]),g=_.useCallback(D=>nc(e).findIndex(A=>A===D),[e]),m=_.useCallback((D,L)=>{const A=nc(e),$=g(D);if($===L)return;n.debug(`Moving column ${D} to index ${L}`);const j=[...A],U=j.splice($,1)[0];j.splice(L,0,U),r(W({},ml(e),{orderedFields:j}));const K={column:e.current.getColumn(D),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(D),oldIndex:$};e.current.publishEvent("columnIndexChange",K)},[e,n,r,g]),y=_.useCallback((D,L)=>{n.debug(`Updating column ${D} width to ${L}`);const A=ml(e),$=A.lookup[D],j=W({},$,{width:L,hasBeenResized:!0});r(zR(W({},A,{lookup:W({},A.lookup,{[D]:j})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(D),colDef:j,width:L})},[e,n,r]),b={getColumn:i,getAllColumns:o,getColumnIndex:l,getColumnPosition:c,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:g,updateColumns:h,setColumnVisibilityModel:u,setColumnVisibility:p,setColumnWidth:y},v={setColumnIndex:m};jn(e,b,"public"),jn(e,v,t.signature===gl.DataGrid?"private":"public");const S=_.useCallback((D,L)=>{const A={},$=Da(e);(!L.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(t.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys($).length>0)&&(A.columnVisibilityModel=$),A.orderedFields=nc(e);const U=Pa(e),K={};return U.forEach(q=>{if(q.hasBeenResized){const z={};vG.forEach(Y=>{let te=q[Y];te===1/0&&(te=-1),z[Y]=te}),K[q.field]=z}}),Object.keys(K).length>0&&(A.dimensions=K),W({},D,{columns:A})},[e,t.columnVisibilityModel,t.initialState?.columns]),E=_.useCallback((D,L)=>{const A=L.stateToRestore.columns,$=A?.columnVisibilityModel;if(A==null)return D;const j=Zf({apiRef:e,columnsToUpsert:[],initialState:A,columnVisibilityModel:$,keepOnlyColumnsToUpsert:!1});return A!=null&&e.current.setState(U=>W({},U,{columns:W({},U.columns,{lookup:j.lookup,orderedFields:j.orderedFields,initialColumnVisibilityModel:j.initialColumnVisibilityModel})})),$!=null&&e.current.setState(U=>W({},U,{columns:W({},U.columns,{columnVisibilityModel:$})})),A!=null&&e.current.publishEvent("columnsChange",j.orderedFields),D},[e]),T=_.useCallback((D,L)=>{if(L===us.columns){const A=t.slots.columnsPanel;return C.jsx(A,W({},t.slotProps?.columnsPanel))}return D},[t.slots.columnsPanel,t.slotProps?.columnsPanel]),O=_.useCallback(D=>{const L=Ph(e);return t.disableColumnSelector||L?D:[...D,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);di(e,"columnMenu",O),di(e,"exportState",S),di(e,"restoreState",E),di(e,"preferencePanel",T);const M=_.useRef(null);Vt(e,"viewportInnerSizeChange",D=>{if(M.current!==D.width){if(M.current=D.width,!_i(e).some(A=>A.flex&&A.flex>0))return;r(zR(ml(e),e.current.getRootDimensions()))}});const N=_.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const D=Zf({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});r(D)},[e,n,r]);eI(e,"hydrateColumns",N),_.useEffect(()=>{if(e.current.caches.columns.lastColumnsProp===t.columns)return;e.current.caches.columns.lastColumnsProp=t.columns,n.info(`GridColumns have changed, new length ${t.columns.length}`);const D=Zf({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel});r(D)},[n,e,r,t.columns,t.columnVisibilityModel]),_.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function N2e(e){return t=>W({},t,{columns:e})}const B2e=(e,t)=>W({},e,{density:t.initialState?.density??t.density??"standard"}),F2e=(e,t)=>{const n=Do(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:zf,changeEvent:"densityChange"});const i={setDensity:Xt(l=>{zf(e)!==l&&(n.debug(`Set grid density to ${l}`),e.current.setState(u=>W({},u,{density:l})))})};jn(e,i,"public");const o=_.useCallback((l,c)=>{const u=zf(e);return!c.exportOnlyDirtyModels||t.density!=null||t.initialState?.density!=null?W({},l,{density:u}):l},[e,t.density,t.initialState?.density]),s=_.useCallback((l,c)=>{const u=c.stateToRestore?.density?c.stateToRestore.density:zf(e);return e.current.setState(h=>W({},h,{density:u})),l},[e]);di(e,"exportState",o),di(e,"restoreState",s),_.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function j2e(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.download=r,o.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI X: exportAs not supported.")}const v4=({apiRef:e,options:t})=>{const n=Pa(e);return t.fields?t.fields.reduce((i,o)=>{const s=n.find(l=>l.field===o);return s&&i.push(s),i},[]):(t.allColumns?n:_i(e)).filter(i=>i.disableExport!==!0)},y4=({apiRef:e})=>{const t=YH(e),n=ko(e),r=aS(e),i=t.filter(c=>n[c].type!=="footer"),o=Lm(e),s=o?.top?.map(c=>c.id)||[],l=o?.bottom?.map(c=>c.id)||[];if(i.unshift(...s),i.push(...l),r>0){const c=QH(e);return i.filter(u=>c.has(u))}return i},V2e=(e,t)=>{const n=Do(e,"useGridCsvExport"),r=t.ignoreValueFormatterDuringExport,i=(typeof r=="object"?r?.csvExport:r)||!1,o=_.useCallback((u={})=>{n.debug("Get data as CSV");const h=v4({apiRef:e,options:u}),g=(u.getRowsToExport??y4)({apiRef:e});return O2e({columns:h,rowIds:g,csvOptions:{delimiter:u.delimiter||",",shouldAppendQuotes:u.shouldAppendQuotes??!0,includeHeaders:u.includeHeaders??!0,includeColumnGroupsHeaders:u.includeColumnGroupsHeaders??!0,escapeFormulas:u.escapeFormulas??!0},ignoreValueFormatter:i,apiRef:e})},[n,e,i]),s=_.useCallback(u=>{n.debug("Export data as CSV");const h=o(u),p=new Blob([u?.utf8WithBom?new Uint8Array([239,187,191]):"",h],{type:"text/csv"});j2e(p,"csv",u?.fileName)},[n,o]);jn(e,{getDataAsCsv:o,exportDataAsCsv:s},"public");const c=_.useCallback((u,h)=>h.csvOptions?.disableToolbarButton?u:[...u,{component:C.jsx(ZVe,{options:h.csvOptions}),componentName:"csvExport"}],[]);di(e,"exportMenu",c)};function $2e(e,t){const n=[],r=t.querySelectorAll("style, link[rel='stylesheet']");for(let i=0;i<r.length;i+=1){const o=r[i];if(o.tagName==="STYLE"){const s=e.createElement(o.tagName),l=o.sheet;if(l){let c="";for(let u=0;u<l.cssRules.length;u+=1)typeof l.cssRules[u].cssText=="string"&&(c+=`${l.cssRules[u].cssText}\r
`);s.appendChild(e.createTextNode(c)),e.head.appendChild(s)}}else if(o.getAttribute("href")){const s=e.createElement(o.tagName);for(let l=0;l<o.attributes.length;l+=1){const c=o.attributes[l];c&&s.setAttribute(c.nodeName,c.nodeValue||"")}n.push(new Promise(l=>{s.addEventListener("load",()=>l())})),e.head.appendChild(s)}}return n}const MS=(e,t,n)=>{let r=e.paginationModel;const i=e.rowCount,o=n?.pageSize??r.pageSize,s=n?.page??r.page,l=nG(i,o,s);n&&(n?.page!==r.page||n?.pageSize!==r.pageSize)&&(r=n);const c=o===-1?0:HLe(r.page,l);return c!==r.page&&(r=W({},r,{page:c})),iG(r.pageSize,t),r},z2e=(e,t)=>{const n=Do(e,"useGridPaginationModel"),r=dt(e,Nm),i=_.useRef(mo(e)),o=Math.floor(t.rowHeight*r);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Po,changeEvent:"paginationModelChange"});const s=_.useCallback(E=>{const T=Po(e);E!==T.page&&(n.debug(`Setting page to ${E}`),e.current.setPaginationModel({page:E,pageSize:T.pageSize}))},[e,n]),l=_.useCallback(E=>{const T=Po(e);E!==T.pageSize&&(n.debug(`Setting page size to ${E}`),e.current.setPaginationModel({pageSize:E,page:T.page}))},[e,n]),c=_.useCallback(E=>{const T=Po(e);E!==T&&(n.debug("Setting 'paginationModel' to",E),e.current.setState(O=>W({},O,{pagination:W({},O.pagination,{paginationModel:MS(O.pagination,t.signature,E)})}),"setPaginationModel"))},[e,n,t.signature]);jn(e,{setPage:s,setPageSize:l,setPaginationModel:c},"public");const h=_.useCallback((E,T)=>{const O=Po(e);return!T.exportOnlyDirtyModels||t.paginationModel!=null||t.initialState?.pagination?.paginationModel!=null||O.page!==0&&O.pageSize!==ULe(t.autoPageSize)?W({},E,{pagination:W({},E.pagination,{paginationModel:O})}):E},[e,t.paginationModel,t.initialState?.pagination?.paginationModel,t.autoPageSize]),p=_.useCallback((E,T)=>{const O=T.stateToRestore.pagination?.paginationModel?W({},rG(t.autoPageSize),T.stateToRestore.pagination?.paginationModel):Po(e);return e.current.setState(M=>W({},M,{pagination:W({},M.pagination,{paginationModel:MS(M.pagination,t.signature,O)})}),"stateRestorePreProcessing"),E},[e,t.autoPageSize,t.signature]);di(e,"exportState",h),di(e,"restoreState",p);const g=()=>{const E=Po(e);e.current.virtualScrollerRef?.current&&e.current.scrollToIndexes({rowIndex:E.page*E.pageSize})},m=_.useCallback(()=>{if(!t.autoPageSize)return;const E=e.current.getRootDimensions(),T=Math.max(1,Math.floor(E.viewportInnerSize.height/o));e.current.setPageSize(T)},[e,t.autoPageSize,o]),y=_.useCallback(E=>{if(E==null)return;const T=Po(e);if(T.page===0)return;const O=aG(e);T.page>O-1&&e.current.setPage(Math.max(0,O-1))},[e]),b=_.useCallback(()=>{Po(e).page!==0&&e.current.setPage(0),e.current.getScrollPosition().top!==0&&e.current.scroll({top:0})},[e]),v=_.useCallback(E=>{const T=W({},E,{items:NR(e)});La(T,i.current)||(i.current=T,b())},[e,b]);Vt(e,"viewportInnerSizeChange",m),Vt(e,"paginationModelChange",g),Vt(e,"rowCountChange",y),Vt(e,"sortModelChange",b),Vt(e,"filterModelChange",v);const S=_.useRef(!0);_.useEffect(()=>{if(S.current){S.current=!1;return}t.pagination&&e.current.setState(E=>W({},E,{pagination:W({},E.pagination,{paginationModel:MS(E.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),_.useEffect(()=>{e.current.setState(E=>{const T=t.pagination===!0;return E.pagination.paginationMode===t.paginationMode&&E.pagination.enabled===T?E:W({},E,{pagination:W({},E.pagination,{paginationMode:t.paginationMode,enabled:T})})})},[e,t.paginationMode,t.pagination]),_.useEffect(m,[m])};function U2e(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function H2e(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const G2e=(e,t)=>{const n=e.current.rootElementRef.current!==null,r=Do(e,"useGridPrintExport"),i=_.useRef(null),o=_.useRef(null),s=_.useRef({}),l=_.useRef([]),c=_.useRef(null);_.useEffect(()=>{i.current=Si(e.current.rootElementRef.current)},[e,n]);const u=_.useCallback((v,S,E)=>new Promise(T=>{const O=v4({apiRef:e,options:{fields:v,allColumns:S}}).map(N=>N.field),M=Pa(e),I={};M.forEach(N=>{I[N.field]=O.includes(N.field)}),E&&(I[Kf.field]=!0),e.current.setColumnVisibilityModel(I),T()}),[e]),h=_.useCallback(v=>{const E=v({apiRef:e}).reduce((T,O)=>{const M=e.current.getRow(O);return M[Th]||T.push(M),T},[]);e.current.setRows(E)},[e]),p=_.useCallback((v,S)=>{const E=W({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},S),T=v.contentDocument;if(!T)return;const O=xR(e),M=e.current.rootElementRef.current,I=M.cloneNode(!0),N=I.querySelector(`.${se.main}`);N.style.overflow="visible",I.style.contain="size";let D=M.querySelector(`.${se.toolbar}`)?.offsetHeight||0,L=M.querySelector(`.${se.footerContainer}`)?.offsetHeight||0;const A=I.querySelector(`.${se.footerContainer}`);E.hideToolbar&&(I.querySelector(`.${se.toolbar}`)?.remove(),D=0),E.hideFooter&&A&&(A.remove(),L=0);const $=O.currentPageTotalHeight+qm(e,t)+D+L;I.style.height=`${$}px`,I.style.boxSizing="content-box",!E.hideFooter&&A&&(A.style.position="absolute",A.style.width="100%",A.style.top=`${$-L}px`);const j=document.createElement("div");j.appendChild(I),T.body.style.marginTop="0px",T.body.innerHTML=j.innerHTML;const U=typeof E.pageStyle=="function"?E.pageStyle():E.pageStyle;if(typeof U=="string"){const q=T.createElement("style");q.appendChild(T.createTextNode(U)),T.head.appendChild(q)}E.bodyClassName&&T.body.classList.add(...E.bodyClassName.split(" "));let K=[];if(E.copyStyles){const q=M.getRootNode(),z=q.constructor.name==="ShadowRoot"?q:i.current;K=$2e(T,z)}Promise.all(K).then(()=>{v.contentWindow.print()})},[e,i,t]),g=_.useCallback(v=>{i.current.body.removeChild(v),e.current.restoreState(o.current||{}),o.current?.columns?.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(S=>W({},S,{virtualization:c.current})),e.current.setRows(l.current),o.current=null,s.current={},l.current=[]},[e]),y={exportDataAsPrint:_.useCallback(async v=>{if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(o.current=e.current.exportState(),s.current=Da(e),l.current=e.current.getSortedRows().filter(E=>!E[Th]),t.pagination){const T={page:0,pageSize:AR(e)};e.current.setState(O=>W({},O,{pagination:W({},O.pagination,{paginationModel:MS(O.pagination,"DataGridPro",T)})}))}c.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await u(v?.fields,v?.allColumns,v?.includeCheckboxes),h(v?.getRowsToExport??y4),await U2e();const S=H2e(v?.fileName);S.onload=()=>{p(S,v),S.contentWindow.matchMedia("print").addEventListener("change",T=>{T.matches===!1&&g(S)})},i.current.body.appendChild(S)},[t,r,e,p,g,u,h])};jn(e,y,"public");const b=_.useCallback((v,S)=>S.printOptions?.disableToolbarButton?v:[...v,{component:C.jsx(QVe,{options:S.printOptions}),componentName:"printExport"}],[]);di(e,"exportMenu",b)},W2e=(e,t,n)=>{const r=t.filterModel??t.initialState?.filter?.filterModel??Bm();return W({},e,{filter:W({filterModel:IR(r,t.disableMultipleColumnsFiltering,n)},xH),visibleRowsLookup:{}})},K2e=e=>e.filteredRowsLookup;function b4(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function q2e(){return tR(Object.values)}const Y2e=(e,t)=>{const n=Do(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:mo,changeEvent:"filterModelChange"});const r=_.useCallback(()=>{e.current.setState(D=>{const L=mo(e),A=e.current.getFilterState(L),$=W({},D,{filter:W({},D.filter,A)}),j=b4(e,$);return W({},$,{visibleRowsLookup:j})}),e.current.publishEvent("filteredRowsSet")},[e]),i=_.useCallback((D,L)=>L==null||L.filterable===!1||t.disableColumnFilter?D:[...D,"columnMenuFilterItem"],[t.disableColumnFilter]),o=_.useCallback(D=>{const L=mo(e),A=[...L.items],$=A.findIndex(j=>j.id===D.id);$===-1?A.push(D):A[$]=D,e.current.setFilterModel(W({},L,{items:A}),"upsertFilterItem")},[e]),s=_.useCallback(D=>{const L=mo(e),A=[...L.items];D.forEach($=>{const j=A.findIndex(U=>U.id===$.id);j===-1?A.push($):A[j]=$}),e.current.setFilterModel(W({},L,{items:A}),"upsertFilterItems")},[e]),l=_.useCallback(D=>{const L=mo(e),A=L.items.filter($=>$.id!==D.id);A.length!==L.items.length&&e.current.setFilterModel(W({},L,{items:A}),"deleteFilterItem")},[e]),c=_.useCallback((D,L,A)=>{if(n.debug("Displaying filter panel"),D){const $=mo(e),j=$.items.filter(z=>{if(z.value!==void 0)return!(Array.isArray(z.value)&&z.value.length===0);const te=e.current.getColumn(z.field).filterOperators?.find(Q=>Q.value===z.operator);return!(typeof te?.requiresFilterValue>"u"?!0:te?.requiresFilterValue)});let U;const K=j.find(z=>z.field===D),q=e.current.getColumn(D);K?U=j:t.disableMultipleColumnsFiltering?U=[RR({field:D,operator:q.filterOperators[0].value},e)]:U=[...j,RR({field:D,operator:q.filterOperators[0].value},e)],e.current.setFilterModel(W({},$,{items:U}))}e.current.showPreferences(us.filters,L,A)},[e,n,t.disableMultipleColumnsFiltering]),u=_.useCallback(()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()},[e,n]),h=_.useCallback(D=>{const L=mo(e);L.logicOperator!==D&&e.current.setFilterModel(W({},L,{logicOperator:D}),"changeLogicOperator")},[e]),p=_.useCallback(D=>{const L=mo(e);La(L.quickFilterValues,D)||e.current.setFilterModel(W({},L,{quickFilterValues:[...D]}))},[e]),g=_.useCallback((D,L)=>{mo(e)!==D&&(n.debug("Setting filter model"),e.current.updateControlState("filter",kH(D,t.disableMultipleColumnsFiltering,e),L),e.current.unstable_applyFilters())},[e,n,t.disableMultipleColumnsFiltering]),m=_.useCallback(D=>{const L=IR(D,t.disableMultipleColumnsFiltering,e),A=t.filterMode==="client"?QAe(L,e,t.disableEval):null,$=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:A,filterModel:L??Bm()});return W({},$,{filterModel:L})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),y={setFilterLogicOperator:h,unstable_applyFilters:r,deleteFilterItem:l,upsertFilterItem:o,upsertFilterItems:s,setFilterModel:g,showFilterPanel:c,hideFilterPanel:u,setQuickFilterValues:p,ignoreDiacritics:t.ignoreDiacritics,getFilterState:m};jn(e,y,"public");const b=_.useCallback((D,L)=>{const A=mo(e);return A.items.forEach(j=>{delete j.fromInput}),!L.exportOnlyDirtyModels||t.filterModel!=null||t.initialState?.filter?.filterModel!=null||!La(A,Bm())?W({},D,{filter:{filterModel:A}}):D},[e,t.filterModel,t.initialState?.filter?.filterModel]),v=_.useCallback((D,L)=>{const A=L.stateToRestore.filter?.filterModel;return A==null?D:(e.current.updateControlState("filter",kH(A,t.disableMultipleColumnsFiltering,e),"restoreState"),W({},D,{callbacks:[...D.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),S=_.useCallback((D,L)=>{if(L===us.filters){const A=t.slots.filterPanel;return C.jsx(A,W({},t.slotProps?.filterPanel))}return D},[t.slots.filterPanel,t.slotProps?.filterPanel]),{getRowId:E}=t,T=Gs(q2e),O=_.useCallback(D=>{if(t.filterMode!=="client"||!D.isRowMatchingFilters||!D.filterModel.items.length&&!D.filterModel.quickFilterValues?.length)return xH;const L=Ra(e),A={},{isRowMatchingFilters:$}=D,j={},U={passingFilterItems:null,passingQuickFilterValues:null},K=T.current(e.current.state.rows.dataRowIdToModelLookup);for(let Y=0;Y<K.length;Y+=1){const te=K[Y],ie=E?E(te):te.id;$(te,void 0,U);const Q=eLe([U.passingFilterItems],[U.passingQuickFilterValues],D.filterModel,e,j);Q||(A[ie]=Q)}const q="auto-generated-group-footer-root";return L[q]&&(A[q]=!0),{filteredRowsLookup:A,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,E,T]);di(e,"columnMenu",i),di(e,"exportState",b),di(e,"restoreState",v),di(e,"preferencePanel",S),rv(e,Lh,"filtering",O),rv(e,Lh,"visibleRowsLookupCreation",K2e);const M=_.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const D=mo(e),L=Nc(e),A=D.items.filter($=>$.field&&L[$.field]);A.length<D.items.length&&e.current.setFilterModel(W({},D,{items:A}))},[e,n]),I=_.useCallback(D=>{D==="filtering"&&e.current.unstable_applyFilters()},[e]),N=_.useCallback(()=>{e.current.setState(D=>W({},D,{visibleRowsLookup:b4(e,D)}))},[e]);Vt(e,"rowsSet",r),Vt(e,"columnsChange",M),Vt(e,"activeStrategyProcessorChange",I),Vt(e,"rowExpansionChange",N),Vt(e,"columnVisibilityModelChange",()=>{const D=mo(e);D.quickFilterValues?.length&&AH(D)&&r()}),kh(()=>{r()}),pr(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,n,t.filterModel])},X2e=e=>W({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),Z2e=(e,t)=>{const n=Do(e,"useGridFocus"),r=_.useRef(null),i=e.current.rootElementRef.current!==null,o=_.useCallback((D,L)=>{D&&e.current.getRow(D.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(D.id,D.field),L)},[e]),s=_.useCallback((D,L)=>{const A=_s(e);A?.id===D&&A?.field===L||(e.current.setState($=>(n.debug(`Focusing on cell with id=${D} and field=${L}`),W({},$,{tabIndex:{cell:{id:D,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:D,field:L},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(D)&&(A&&o(A,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(D,L))))},[e,n,o]),l=_.useCallback((D,L={})=>{const A=_s(e);o(A,L),e.current.setState($=>(n.debug(`Focusing on column header with colIndex=${D}`),W({},$,{tabIndex:{columnHeader:{field:D},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:D},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,n,o]),c=_.useCallback((D,L={})=>{const A=_s(e);o(A,L),e.current.setState($=>(n.debug(`Focusing on column header filter with colIndex=${D}`),W({},$,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:D},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:D},cell:null,columnGroupHeader:null}})))},[e,n,o]),u=_.useCallback((D,L,A={})=>{const $=_s(e);$&&e.current.publishEvent("cellFocusOut",e.current.getCellParams($.id,$.field),A),e.current.setState(j=>W({},j,{tabIndex:{columnGroupHeader:{field:D,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:D,depth:L},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),h=_.useCallback(()=>cS(e),[e]),p=_.useCallback((D,L,A)=>{let $=e.current.getColumnIndex(L);const j=_i(e),U=rp(e,{pagination:t.pagination,paginationMode:t.paginationMode}),K=Lm(e),q=[].concat(K.top||[],U.rows,K.bottom||[]);let z=q.findIndex(Q=>Q.id===D);A==="right"?$+=1:A==="left"?$-=1:z+=1,$>=j.length?(z+=1,z<q.length&&($=0)):$<0&&(z-=1,z>=0&&($=j.length-1)),z=Mh(z,0,q.length-1);const Y=q[z];if(!Y)return;const te=e.current.unstable_getCellColSpanInfo(Y.id,$);te&&te.spannedByColSpan&&(A==="left"||A==="below"?$=te.leftVisibleCellIndex:A==="right"&&($=te.rightVisibleCellIndex)),$=Mh($,0,j.length-1);const ie=j[$];e.current.setCellFocus(Y.id,ie.field)},[e,t.pagination,t.paginationMode]),g=_.useCallback(({id:D,field:L})=>{e.current.setCellFocus(D,L)},[e]),m=_.useCallback((D,L)=>{L.key==="Enter"||L.key==="Tab"||L.key==="Shift"||eS(L.key)||e.current.setCellFocus(D.id,D.field)},[e]),y=_.useCallback(({field:D},L)=>{L.target===L.currentTarget&&e.current.setColumnHeaderFocus(D,L)},[e]),b=_.useCallback(({fields:D,depth:L},A)=>{if(A.target!==A.currentTarget)return;const $=cS(e);$!==null&&$.depth===L&&D.includes($.field)||e.current.setColumnGroupHeaderFocus(D[0],L,A)},[e]),v=_.useCallback((D,L)=>{L.relatedTarget?.getAttribute("class")?.includes(se.columnHeader)||(n.debug("Clearing focus"),e.current.setState(A=>W({},A,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),S=_.useCallback(D=>{r.current=D},[]),E=_.useCallback(D=>{const L=r.current;r.current=null;const A=_s(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:D,cell:L}))return;if(!A){L&&e.current.setCellFocus(L.id,L.field);return}L?.id===A.id&&L?.field===A.field||e.current.getCellElement(A.id,A.field)?.contains(D.target)||(L?e.current.setCellFocus(L.id,L.field):(e.current.setState(U=>W({},U,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),o(A,D)))},[e,o]),T=_.useCallback(D=>{if(D.cellMode==="view")return;const L=_s(e);(L?.id!==D.id||L?.field!==D.field)&&e.current.setCellFocus(D.id,D.field)},[e]),O=_.useCallback(()=>{const D=_s(e);if(D&&!e.current.getRow(D.id)){const L=D.id;let A=null;if(typeof L<"u"){const $=e.current.getRowElement(L),j=$?.dataset.rowindex?Number($?.dataset.rowindex):0,U=rp(e,{pagination:t.pagination,paginationMode:t.paginationMode});A=U.rows[Mh(j,0,U.rows.length-1)]?.id??null}e.current.setState($=>W({},$,{focus:{cell:A===null?null:{id:A,field:D.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),M=Xt(()=>{const D=_s(e);if(!D)return;const L=rp(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(L.rows.find(j=>j.id===D.id)||L.rows.length===0)return;const $=_i(e);e.current.setState(j=>W({},j,{tabIndex:{cell:{id:L.rows[0].id,field:$[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),I={setCellFocus:s,setColumnHeaderFocus:l,setColumnHeaderFilterFocus:c},N={moveFocusToRelativeCell:p,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:h};jn(e,I,"public"),jn(e,N,"private"),_.useEffect(()=>{const D=Si(e.current.rootElementRef.current);return D.addEventListener("mouseup",E),()=>{D.removeEventListener("mouseup",E)}},[e,i,E]),Vt(e,"columnHeaderBlur",v),Vt(e,"cellDoubleClick",g),Vt(e,"cellMouseDown",S),Vt(e,"cellKeyDown",m),Vt(e,"cellModeChange",T),Vt(e,"columnHeaderFocus",y),Vt(e,"columnGroupHeaderFocus",b),Vt(e,"rowsSet",O),Vt(e,"paginationModelChange",M)},rI=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e<n)return e+1}else if(!r&&e>t)return e-1;return null},iI=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e>t)return e-1}else if(!r&&e<n)return e+1;return null};function Q2e(e,t,n,r){const i=ep.selectors.hiddenCells(e.current.virtualizer.store.state);if(!i[t]?.[n])return t;const o=YH(e);let s=o.indexOf(t)+(r==="down"?1:-1);for(;s>=0&&s<o.length;){const l=o[s];if(!i[l]?.[n])return l;s+=r==="down"?1:-1}return t}const J2e=gr(Gm,Lm,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),e$e=(e,t)=>{const n=Do(e,"useGridKeyboardNavigation"),r=Oo(),i=_.useCallback(()=>J2e(e),[e]),o=t.signature!=="DataGrid"&&t.headerFilters,s=_.useCallback((v,S,E="left",T="up")=>{const O=$u(e),M=e.current.unstable_getCellColSpanInfo(S,v);M&&M.spannedByColSpan&&(E==="left"?v=M.leftVisibleCellIndex:E==="right"&&(v=M.rightVisibleCellIndex));const I=Fm(e)[v],N=Q2e(e,S,v,T),D=O.findIndex(L=>L.id===N);n.debug(`Navigating to cell row ${D}, col ${v}`),e.current.scrollToIndexes({colIndex:v,rowIndex:D}),e.current.setCellFocus(N,I)},[e,n]),l=_.useCallback((v,S)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFocus(E,S)},[e,n]),c=_.useCallback((v,S)=>{n.debug(`Navigating to header filter col ${v}`),e.current.scrollToIndexes({colIndex:v});const E=e.current.getVisibleColumns()[v].field;e.current.setColumnHeaderFilterFocus(E,S)},[e,n]),u=_.useCallback((v,S,E)=>{n.debug(`Navigating to header col ${v}`),e.current.scrollToIndexes({colIndex:v});const{field:T}=e.current.getVisibleColumns()[v];e.current.setColumnGroupHeaderFocus(T,S,E)},[e,n]),h=_.useCallback(v=>i()[v]?.id,[i]),p=_.useCallback((v,S)=>{const E=S.currentTarget.querySelector(`.${se.columnHeaderTitleContainerContent}`);if(!!E&&E.contains(S.target)&&v.field!==Kf.field)return;const O=i(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=O.length>0?0:null,D=O.length-1,L=0,A=_i(e).length-1,$=Km(e);let j=!0;switch(S.key){case"ArrowDown":{o?c(I,S):N!==null&&s(I,h(N));break}case"ArrowRight":{const U=iI({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});U!==null&&l(U,S);break}case"ArrowLeft":{const U=rI({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});U!==null&&l(U,S);break}case"ArrowUp":{$>0&&u(I,$-1,S);break}case"PageDown":{N!==null&&D!==null&&s(I,h(Math.min(N+M,D)));break}case"Home":{l(L,S);break}case"End":{l(A,S);break}case"Enter":{(S.ctrlKey||S.metaKey)&&e.current.toggleColumnMenu(v.field);break}case" ":break;default:j=!1}j&&S.preventDefault()},[e,i,o,c,s,h,r,l,u]),g=_.useCallback((v,S)=>{const E=wNe(e)===v.field,T=SNe(e)===v.field;if(E||T||!eS(S.key))return;const O=i(),M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=0,D=O.length-1,L=0,A=_i(e).length-1;let $=!0;switch(S.key){case"ArrowDown":{const j=h(N);j!=null&&s(I,j);break}case"ArrowRight":{const j=iI({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});j!==null&&c(j,S);break}case"ArrowLeft":{const j=rI({currentColIndex:I,firstColIndex:L,lastColIndex:A,isRtl:r});j!==null?c(j,S):e.current.setColumnHeaderFilterFocus(v.field,S);break}case"ArrowUp":{l(I,S);break}case"PageDown":{D!==null&&s(I,h(Math.min(N+M,D)));break}case"Home":{c(L,S);break}case"End":{c(A,S);break}case" ":break;default:$=!1}$&&S.preventDefault()},[e,i,c,r,l,s,h]),m=_.useCallback((v,S)=>{const E=cS(e);if(E===null)return;const{field:T,depth:O}=E,{fields:M,depth:I,maxDepth:N}=v,D=i(),L=e.current.getViewportPageSize(),A=e.current.getColumnIndex(T),$=T?e.current.getColumnIndex(T):0,j=0,U=D.length-1,K=0,q=_i(e).length-1;let z=!0;switch(S.key){case"ArrowDown":{I===N-1?l(A,S):u(A,O+1,S);break}case"ArrowUp":{I>0&&u(A,O-1,S);break}case"ArrowRight":{const Y=M.length-M.indexOf(T)-1;A+Y+1<=q&&u(A+Y+1,O,S);break}case"ArrowLeft":{const Y=M.indexOf(T);A-Y-1>=K&&u(A-Y-1,O,S);break}case"PageDown":{U!==null&&s($,h(Math.min(j+L,U)));break}case"Home":{u(K,O,S);break}case"End":{u(q,O,S);break}case" ":break;default:z=!1}z&&S.preventDefault()},[e,i,l,u,s,h]),y=_.useCallback((v,S)=>{if(Xm(S))return;const E=e.current.getCellParams(v.id,v.field);if(E.cellMode===Tr.Edit||!eS(S.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:S,cell:E}))return;const O=i();if(O.length===0)return;const M=e.current.getViewportPageSize(),I=v.field?e.current.getColumnIndex(v.field):0,N=O.findIndex(U=>U.id===v.id),D=0,L=O.length-1,A=0,$=_i(e).length-1;let j=!0;switch(S.key){case"ArrowDown":{N<L&&s(I,h(N+1),r?"right":"left","down");break}case"ArrowUp":{N>D?s(I,h(N-1)):o?c(I,S):l(I,S);break}case"ArrowRight":{const U=iI({currentColIndex:I,firstColIndex:A,lastColIndex:$,isRtl:r});U!==null&&s(U,h(N),r?"left":"right");break}case"ArrowLeft":{const U=rI({currentColIndex:I,firstColIndex:A,lastColIndex:$,isRtl:r});U!==null&&s(U,h(N),r?"right":"left");break}case"Tab":{S.shiftKey&&I>A?s(I-1,h(N),"left"):!S.shiftKey&&I<$&&s(I+1,h(N),"right");break}case" ":{if(v.field===PR)break;const K=v.colDef;if(K&&(K.field===mLe||iFe(K.field)))break;!S.shiftKey&&N<L&&s(I,h(Math.min(N+M,L)));break}case"PageDown":{N<L&&s(I,h(Math.min(N+M,L)));break}case"PageUp":{const U=Math.max(N-M,D);U!==N&&U>=D?s(I,h(U)):l(I,S);break}case"Home":{S.ctrlKey||S.metaKey||S.shiftKey?s(A,h(D)):s(A,h(N));break}case"End":{S.ctrlKey||S.metaKey||S.shiftKey?s($,h(L)):s($,h(N));break}default:j=!1}j&&S.preventDefault()},[e,i,r,s,h,o,c,l]),b=_.useCallback((v,{event:S})=>S.key===" "?!1:v,[]);di(e,"canStartEditing",b),Vt(e,"columnHeaderKeyDown",p),Vt(e,"headerFilterKeyDown",g),Vt(e,"columnGroupHeaderKeyDown",m),Vt(e,"cellKeyDown",y)},t$e=(e,t)=>{const n=Do(e,"useGridRowCount"),r=dt(e,LR),i=dt(e,Gf),o=dt(e,Hm),s=dt(e,Po),l=Gs(()=>Po(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Gf,changeEvent:"rowCountChange"});const u={setRowCount:_.useCallback(y=>{i!==y&&(n.debug("Setting 'rowCount' to",y),e.current.setState(b=>W({},b,{pagination:W({},b.pagination,{rowCount:y})})))},[e,n,i])};jn(e,u,"public");const h=_.useCallback((y,b)=>{const v=Gf(e);return!b.exportOnlyDirtyModels||t.rowCount!=null||t.initialState?.pagination?.rowCount!=null?W({},y,{pagination:W({},y.pagination,{rowCount:v})}):y},[e,t.rowCount,t.initialState?.pagination?.rowCount]),p=_.useCallback((y,b)=>{const v=b.stateToRestore.pagination?.rowCount?b.stateToRestore.pagination.rowCount:Gf(e);return e.current.setState(S=>W({},S,{pagination:W({},S.pagination,{rowCount:v})})),y},[e]);di(e,"exportState",h),di(e,"restoreState",p);const g=_.useCallback(y=>{t.paginationMode==="client"||!l.current||y.pageSize!==l.current&&(l.current=y.pageSize,i===-1&&e.current.setPage(0))},[t.paginationMode,l,i,e]);Vt(e,"paginationModelChange",g),_.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(r):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,r,t.rowCount]);const m=o.hasNextPage===!1;_.useEffect(()=>{m&&i===-1&&e.current.setRowCount(s.pageSize*s.page+r)},[e,r,m,i,s])},n$e=(e,t)=>{const n=Do(e,"useGridPaginationMeta"),r=dt(e,Hm);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:Hm,changeEvent:"paginationMetaChange"});const o={setPaginationMeta:_.useCallback(c=>{r!==c&&(n.debug("Setting 'paginationMeta' to",c),e.current.setState(u=>W({},u,{pagination:W({},u.pagination,{meta:c})})))},[e,n,r])};jn(e,o,"public");const s=_.useCallback((c,u)=>{const h=Hm(e);return!u.exportOnlyDirtyModels||t.paginationMeta!=null||t.initialState?.pagination?.meta!=null?W({},c,{pagination:W({},c.pagination,{meta:h})}):c},[e,t.paginationMeta,t.initialState?.pagination?.meta]),l=_.useCallback((c,u)=>{const h=u.stateToRestore.pagination?.meta?u.stateToRestore.pagination.meta:Hm(e);return e.current.setState(p=>W({},p,{pagination:W({},p.pagination,{meta:h})})),c},[e]);di(e,"exportState",s),di(e,"restoreState",l),_.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},r$e=(e,t)=>{const n=W({},rG(t.autoPageSize),t.paginationModel??t.initialState?.pagination?.paginationModel);iG(n.pageSize,t.signature);const r=t.rowCount??t.initialState?.pagination?.rowCount??(t.paginationMode==="client"?e.rows?.totalRowCount:void 0),i=t.paginationMeta??t.initialState?.pagination?.meta??{};return W({},e,{pagination:W({},e.pagination,{paginationModel:n,rowCount:r,meta:i,enabled:t.pagination===!0,paginationMode:t.paginationMode})})},i$e=(e,t)=>{n$e(e,t),z2e(e,t),t$e(e,t)},o$e=(e,t)=>W({},e,{preferencePanel:t.initialState?.preferencePanel??{open:!1}}),s$e=(e,t)=>{const n=Do(e,"useGridPreferencesPanel"),r=_.useCallback(()=>{e.current.setState(l=>{if(!l.preferencePanel.open)return l;n.debug("Hiding Preferences Panel");const c=Dh(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:c.openedPanelValue}),W({},l,{preferencePanel:{open:!1}})})},[e,n]),i=_.useCallback((l,c,u)=>{n.debug("Opening Preferences Panel"),e.current.setState(h=>W({},h,{preferencePanel:W({},h.preferencePanel,{open:!0,openedPanelValue:l,panelId:c,labelId:u})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:l})},[n,e]);jn(e,{showPreferences:i,hidePreferences:r},"public");const o=_.useCallback((l,c)=>{const u=Dh(e);return!c.exportOnlyDirtyModels||t.initialState?.preferencePanel!=null||u.open?W({},l,{preferencePanel:u}):l},[e,t.initialState?.preferencePanel]),s=_.useCallback((l,c)=>{const u=c.stateToRestore.preferencePanel;return u!=null&&e.current.setState(h=>W({},h,{preferencePanel:u})),l},[e]);di(e,"exportState",o),di(e,"restoreState",s)},oI=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;default:return""}},a$e=["id","field"],l$e=["id","field"],c$e=(e,t)=>{const[n,r]=_.useState({}),i=_.useRef(n),o=_.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:l,cellModesModel:c,onCellModesModelChange:u}=t,h=q=>(...z)=>{t.editMode===ec.Cell&&q(...z)},p=_.useCallback((q,z)=>{const Y=e.current.getCellParams(q,z);if(!e.current.isCellEditable(Y))throw new Error(`MUI X: The cell with id=${q} and field=${z} is not editable.`)},[e]),g=_.useCallback((q,z,Y)=>{if(e.current.getCellMode(q,z)!==Y)throw new Error(`MUI X: The cell with id=${q} and field=${z} is not in ${Y} mode.`)},[e]),m=_.useCallback((q,z)=>{if(!q.isEditable||q.cellMode===Tr.Edit)return;const Y=W({},q,{reason:Lc.cellDoubleClick});e.current.publishEvent("cellEditStart",Y,z)},[e]),y=_.useCallback((q,z)=>{if(q.cellMode===Tr.View||e.current.getCellMode(q.id,q.field)===Tr.View)return;const Y=W({},q,{reason:ka.cellFocusOut});e.current.publishEvent("cellEditStop",Y,z)},[e]),b=_.useCallback((q,z)=>{if(q.cellMode===Tr.Edit){if(z.which===229)return;let Y;if(z.key==="Escape"?Y=ka.escapeKeyDown:z.key==="Enter"?Y=ka.enterKeyDown:z.key==="Tab"&&(Y=z.shiftKey?ka.shiftTabKeyDown:ka.tabKeyDown,z.preventDefault()),Y){const te=W({},q,{reason:Y});e.current.publishEvent("cellEditStop",te,z)}}else if(q.isEditable){let Y;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:z,cellParams:q,editMode:"cell"}))return;if(jH(z)?Y=Lc.printableKeyDown:$H(z)?Y=Lc.pasteKeyDown:z.key==="Enter"?Y=Lc.enterKeyDown:(z.key==="Backspace"||z.key==="Delete")&&(Y=Lc.deleteKeyDown),Y){const ie=W({},q,{reason:Y,key:z.key});e.current.publishEvent("cellEditStart",ie,z)}}},[e]),v=_.useCallback(q=>{const{id:z,field:Y,reason:te}=q,ie={id:z,field:Y};(te===Lc.printableKeyDown||te===Lc.deleteKeyDown||te===Lc.pasteKeyDown)&&(ie.deleteValue=!0),e.current.startCellEditMode(ie)},[e]),S=_.useCallback(q=>{const{id:z,field:Y,reason:te}=q;e.current.runPendingEditCellValueMutation(z,Y);let ie;te===ka.enterKeyDown?ie="below":te===ka.tabKeyDown?ie="right":te===ka.shiftTabKeyDown&&(ie="left");const Q=te==="escapeKeyDown";e.current.stopCellEditMode({id:z,field:Y,ignoreModifications:Q,cellToFocusAfter:ie})},[e]),E=q=>async(...z)=>{if(q){const{id:Y,field:te}=z[0];e.current.state.editRows[Y][te]?.error||q(...z)}};Vt(e,"cellDoubleClick",h(m)),Vt(e,"cellFocusOut",h(y)),Vt(e,"cellKeyDown",h(b)),Vt(e,"cellEditStart",h(v)),Vt(e,"cellEditStop",h(S)),Ur(e,"cellEditStart",t.onCellEditStart),Ur(e,"cellEditStop",E(t.onCellEditStop));const T=_.useCallback((q,z)=>{const Y=vo(e);return Y[q]&&Y[q][z]?Tr.Edit:Tr.View},[e]),O=Xt(q=>{const z=q!==t.cellModesModel;u&&z&&u(q,{api:e.current}),!(t.cellModesModel&&z)&&(r(q),i.current=q,e.current.publishEvent("cellModesModelChange",q))}),M=_.useCallback((q,z,Y)=>{const te=W({},i.current);if(Y!==null)te[q]=W({},te[q],{[z]:W({},Y)});else{const ie=te[q],Q=Tt(ie,[z].map(nv));te[q]=Q,Object.keys(te[q]).length===0&&delete te[q]}O(te)},[O]),I=_.useCallback((q,z,Y)=>{e.current.setState(te=>{const ie=W({},te.editRows);return Y!==null?ie[q]=W({},ie[q],{[z]:W({},Y)}):(delete ie[q][z],Object.keys(ie[q]).length===0&&delete ie[q]),W({},te,{editRows:ie})})},[e]),N=_.useCallback(q=>{const{id:z,field:Y}=q,te=Tt(q,a$e);p(z,Y),g(z,Y,Tr.View),M(z,Y,W({mode:Tr.Edit},te))},[p,g,M]),D=Xt(async q=>{const{id:z,field:Y,deleteValue:te,initialValue:ie}=q,Q=e.current.getCellValue(z,Y);let H=Q;te?H=oI(e.current.getColumn(Y)):ie&&(H=ie);const X=e.current.getColumn(Y),he=!!X.preProcessEditCellProps&&te;let pe={value:H,error:!1,isProcessingProps:he};if(I(z,Y,pe),e.current.setCellFocus(z,Y),he&&(pe=await Promise.resolve(X.preProcessEditCellProps({id:z,row:e.current.getRow(z),props:pe,hasChanged:H!==Q})),e.current.getCellMode(z,Y)===Tr.Edit)){const ge=vo(e);I(z,Y,W({},pe,{value:ge[z][Y].value,isProcessingProps:!1}))}}),L=_.useCallback(q=>{const{id:z,field:Y}=q,te=Tt(q,l$e);g(z,Y,Tr.Edit),M(z,Y,W({mode:Tr.View},te))},[g,M]),A=Xt(async q=>{const{id:z,field:Y,ignoreModifications:te,cellToFocusAfter:ie="none"}=q;g(z,Y,Tr.Edit),e.current.runPendingEditCellValueMutation(z,Y);const Q=()=>{I(z,Y,null),M(z,Y,null),ie!=="none"&&e.current.moveFocusToRelativeCell(z,Y,ie)};if(te){Q();return}const H=vo(e),{error:X,isProcessingProps:he}=H[z][Y],pe=e.current.getRow(z);if(X||he){o.current[z][Y].mode=Tr.Edit,M(z,Y,{mode:Tr.Edit});return}const ge=e.current.getRowWithUpdatedValuesFromCellEditing(z,Y);if(t.dataSource?.updateRow){if(La(pe,ge)){Q();return}const ce=()=>{o.current[z][Y].mode=Tr.Edit,M(z,Y,{mode:Tr.Edit})},be={rowId:z,updatedRow:ge,previousRow:pe};try{await e.current.dataSource.editRow(be),Q()}catch{ce()}}else if(s){const ce=be=>{o.current[z][Y].mode=Tr.Edit,M(z,Y,{mode:Tr.Edit}),l&&l(be)};try{Promise.resolve(s(ge,pe,{rowId:z})).then(be=>{e.current.updateRows([be]),Q()}).catch(ce)}catch(be){ce(be)}}else e.current.updateRows([ge]),Q()}),$=_.useCallback(async q=>{const{id:z,field:Y,value:te,debounceMs:ie,unstable_skipValueParser:Q}=q;p(z,Y),g(z,Y,Tr.Edit);const H=e.current.getColumn(Y),X=e.current.getRow(z);let he=te;H.valueParser&&!Q&&(he=H.valueParser(te,X,H,e));let pe=vo(e),ge=W({},pe[z][Y],{value:he,changeReason:ie?"debouncedSetEditCellValue":"setEditCellValue"});if(H.preProcessEditCellProps){const ce=te!==pe[z][Y].value;ge=W({},ge,{isProcessingProps:!0}),I(z,Y,ge),ge=await Promise.resolve(H.preProcessEditCellProps({id:z,row:X,props:ge,hasChanged:ce}))}return e.current.getCellMode(z,Y)===Tr.View?!1:(pe=vo(e),ge=W({},ge,{isProcessingProps:!1}),ge.value=H.preProcessEditCellProps?pe[z][Y].value:he,I(z,Y,ge),pe=vo(e),!pe[z]?.[Y]?.error)},[e,p,g,I]),j=_.useCallback((q,z)=>{const Y=e.current.getColumn(z),te=vo(e),ie=e.current.getRow(q);if(!te[q]||!te[q][z])return e.current.getRow(q);const{value:Q}=te[q][z];return Y.valueSetter?Y.valueSetter(Q,ie,Y,e):W({},ie,{[z]:Q})},[e]),U={getCellMode:T,startCellEditMode:N,stopCellEditMode:L},K={setCellEditingEditCellValue:$,getRowWithUpdatedValuesFromCellEditing:j};jn(e,U,"public"),jn(e,K,"private"),_.useEffect(()=>{c&&O(c)},[c,O]),pr(()=>{const q=Ra(e),z=o.current;o.current=wH(n),Object.entries(n).forEach(([Y,te])=>{Object.entries(te).forEach(([ie,Q])=>{const H=z[Y]?.[ie]?.mode||Tr.View,X=q[Y]?e.current.getRowId(q[Y]):Y;Q.mode===Tr.Edit&&H===Tr.View?D(W({id:X,field:ie},Q)):Q.mode===Tr.View&&H===Tr.Edit&&A(W({id:X,field:ie},Q))})})},[e,n,D,A])},u$e=["id"],d$e=["id"],h$e=(e,t)=>{const[n,r]=_.useState({}),i=_.useRef(n),o=_.useRef({}),s=_.useRef({}),l=_.useRef(void 0),c=_.useRef(null),{processRowUpdate:u,onProcessRowUpdateError:h,rowModesModel:p,onRowModesModelChange:g}=t,m=Q=>(...H)=>{t.editMode===ec.Row&&Q(...H)},y=_.useCallback((Q,H)=>{const X=e.current.getCellParams(Q,H);if(!e.current.isCellEditable(X))throw new Error(`MUI X: The cell with id=${Q} and field=${H} is not editable.`)},[e]),b=_.useCallback((Q,H)=>{if(e.current.getRowMode(Q)!==H)throw new Error(`MUI X: The row with id=${Q} is not in ${H} mode.`)},[e]),v=_.useCallback(Q=>{const H=vo(e);return Object.values(H[Q]).some(X=>X.error)},[e]),S=_.useCallback((Q,H)=>{if(!Q.isEditable||e.current.getRowMode(Q.id)===Zr.Edit)return;const X=e.current.getRowParams(Q.id),he=W({},X,{field:Q.field,reason:ju.cellDoubleClick});e.current.publishEvent("rowEditStart",he,H)},[e]),E=_.useCallback(Q=>{c.current=Q},[]),T=_.useCallback((Q,H)=>{Q.isEditable&&e.current.getRowMode(Q.id)!==Zr.View&&(c.current=null,l.current=setTimeout(()=>{if(c.current?.id!==Q.id){if(!e.current.getRow(Q.id)||e.current.getRowMode(Q.id)===Zr.View||v(Q.id))return;const X=e.current.getRowParams(Q.id),he=W({},X,{field:Q.field,reason:tc.rowFocusOut});e.current.publishEvent("rowEditStop",he,H)}}))},[e,v]);_.useEffect(()=>()=>{clearTimeout(l.current)},[]);const O=_.useCallback((Q,H)=>{if(Q.cellMode===Zr.Edit){if(H.which===229)return;let X;if(H.key==="Escape")X=tc.escapeKeyDown;else if(H.key==="Enter")X=tc.enterKeyDown;else if(H.key==="Tab"){const he=Fm(e).filter(pe=>e.current.getColumn(pe).type===rS?!0:e.current.isCellEditable(e.current.getCellParams(Q.id,pe)));if(H.shiftKey?Q.field===he[0]&&(X=tc.shiftTabKeyDown):Q.field===he[he.length-1]&&(X=tc.tabKeyDown),H.preventDefault(),!X){const pe=he.findIndex(ce=>ce===Q.field),ge=he[H.shiftKey?pe-1:pe+1];e.current.setCellFocus(Q.id,ge)}}if(X){if(X!==tc.escapeKeyDown&&v(Q.id))return;const he=W({},e.current.getRowParams(Q.id),{reason:X,field:Q.field});e.current.publishEvent("rowEditStop",he,H)}}else if(Q.isEditable){let X;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:H,cellParams:Q,editMode:"row"}))return;if(jH(H)||$H(H)?X=ju.printableKeyDown:H.key==="Enter"?X=ju.enterKeyDown:(H.key==="Backspace"||H.key==="Delete")&&(X=ju.deleteKeyDown),X){const pe=e.current.getRowParams(Q.id),ge=W({},pe,{field:Q.field,reason:X});e.current.publishEvent("rowEditStart",ge,H)}}},[e,v]),M=_.useCallback(Q=>{const{id:H,field:X,reason:he}=Q,pe={id:H,fieldToFocus:X};(he===ju.printableKeyDown||he===ju.deleteKeyDown)&&(pe.deleteValue=!!X),e.current.startRowEditMode(pe)},[e]),I=_.useCallback(Q=>{const{id:H,reason:X,field:he}=Q;e.current.runPendingEditCellValueMutation(H);let pe;X===tc.enterKeyDown?pe="below":X===tc.tabKeyDown?pe="right":X===tc.shiftTabKeyDown&&(pe="left");const ge=X==="escapeKeyDown";e.current.stopRowEditMode({id:H,ignoreModifications:ge,field:he,cellToFocusAfter:pe})},[e]);Vt(e,"cellDoubleClick",m(S)),Vt(e,"cellFocusIn",m(E)),Vt(e,"cellFocusOut",m(T)),Vt(e,"cellKeyDown",m(O)),Vt(e,"rowEditStart",m(M)),Vt(e,"rowEditStop",m(I)),Ur(e,"rowEditStart",t.onRowEditStart),Ur(e,"rowEditStop",t.onRowEditStop);const N=_.useCallback(Q=>EG(e,{rowId:Q,editMode:t.editMode})?Zr.Edit:Zr.View,[e,t.editMode]),D=Xt(Q=>{const H=Q!==t.rowModesModel;g&&H&&g(Q,{api:e.current}),!(t.rowModesModel&&H)&&(r(Q),i.current=Q,e.current.publishEvent("rowModesModelChange",Q))}),L=_.useCallback((Q,H)=>{const X=W({},i.current);H!==null?X[Q]=W({},H):delete X[Q],D(X)},[D]),A=_.useCallback((Q,H)=>{e.current.setState(X=>{const he=W({},X.editRows);return H!==null?he[Q]=H:delete he[Q],W({},X,{editRows:he})})},[e]),$=_.useCallback((Q,H,X)=>{e.current.setState(he=>{const pe=W({},he.editRows);return X!==null?pe[Q]=W({},pe[Q],{[H]:W({},X)}):(delete pe[Q][H],Object.keys(pe[Q]).length===0&&delete pe[Q]),W({},he,{editRows:pe})})},[e]),j=_.useCallback(Q=>{const{id:H}=Q,X=Tt(Q,u$e);b(H,Zr.View),L(H,W({mode:Zr.Edit},X))},[b,L]),U=Xt(Q=>{const{id:H,fieldToFocus:X,deleteValue:he,initialValue:pe}=Q,ge=e.current.getRow(H),ce=Pa(e),be=ce.reduce((Ne,_e)=>{const me=_e.field;if(!e.current.getCellParams(H,me).isEditable)return Ne;const xe=e.current.getColumn(me);let Ie=e.current.getCellValue(H,me);return X===me&&(he||pe)&&(he?Ie=oI(xe):pe&&(Ie=pe)),Ne[me]={value:Ie,error:!1,isProcessingProps:xe.editable&&!!xe.preProcessEditCellProps&&he},Ne},{});s.current[H]=ge,A(H,be),X&&e.current.setCellFocus(H,X),ce.filter(Ne=>e.current.getCellParams(H,Ne.field).isEditable&&Ne.editable&&!!Ne.preProcessEditCellProps&&he).forEach(Ne=>{const _e=Ne.field,me=e.current.getCellValue(H,_e),ye=he?oI(Ne):pe??me;Promise.resolve(Ne.preProcessEditCellProps({id:H,row:ge,props:be[_e],hasChanged:ye!==me})).then(xe=>{if(e.current.getRowMode(H)===Zr.Edit){const Ie=vo(e);$(H,_e,W({},xe,{value:Ie[H][_e].value,isProcessingProps:!1}))}})})}),K=_.useCallback(Q=>{const{id:H}=Q,X=Tt(Q,d$e);b(H,Zr.Edit),L(H,W({mode:Zr.View},X))},[b,L]),q=Xt(async Q=>{const{id:H,ignoreModifications:X,field:he,cellToFocusAfter:pe="none"}=Q;e.current.runPendingEditCellValueMutation(H);const ge=()=>{pe!=="none"&&he&&e.current.moveFocusToRelativeCell(H,he,pe),A(H,null),L(H,null),delete s.current[H]};if(X){ge();return}const ce=vo(e),be=s.current[H];if(Object.values(ce[H]).some(me=>me.isProcessingProps)){o.current[H].mode=Zr.Edit;return}if(v(H)){o.current[H].mode=Zr.Edit,L(H,{mode:Zr.Edit});return}const _e=e.current.getRowWithUpdatedValuesFromRowEditing(H);if(t.dataSource?.updateRow){if(La(be,_e)){ge();return}const me=()=>{o.current[H].mode=Zr.Edit,L(H,{mode:Zr.Edit})},ye={rowId:H,updatedRow:_e,previousRow:be};try{await e.current.dataSource.editRow(ye),ge()}catch{me()}}else if(u){const me=ye=>{o.current[H]&&(o.current[H].mode=Zr.Edit,L(H,{mode:Zr.Edit})),h&&h(ye)};try{Promise.resolve(u(_e,be,{rowId:H})).then(ye=>{e.current.updateRows([ye]),ge()}).catch(me)}catch(ye){me(ye)}}else e.current.updateRows([_e]),ge()}),z=_.useCallback(Q=>{const{id:H,field:X,value:he,debounceMs:pe,unstable_skipValueParser:ge}=Q;y(H,X);const ce=e.current.getColumn(X),be=e.current.getRow(H);let Ne=he;ce.valueParser&&!ge&&(Ne=ce.valueParser(he,be,ce,e));let _e=vo(e),me=W({},_e[H][X],{value:Ne,changeReason:pe?"debouncedSetEditCellValue":"setEditCellValue"});return ce.preProcessEditCellProps||$(H,X,me),new Promise(ye=>{const xe=[];if(ce.preProcessEditCellProps){const Ie=me.value!==_e[H][X].value;me=W({},me,{isProcessingProps:!0}),$(H,X,me);const Pe=_e[H],Re=Tt(Pe,[X].map(nv)),Fe=Promise.resolve(ce.preProcessEditCellProps({id:H,row:be,props:me,hasChanged:Ie,otherFieldsProps:Re})).then(ft=>{if(e.current.getRowMode(H)===Zr.View){ye(!1);return}_e=vo(e),ft=W({},ft,{isProcessingProps:!1}),ft.value=ce.preProcessEditCellProps?_e[H][X].value:Ne,$(H,X,ft)});xe.push(Fe)}Object.entries(_e[H]).forEach(([Ie,Pe])=>{if(Ie===X)return;const Re=e.current.getColumn(Ie);if(!Re.preProcessEditCellProps)return;Pe=W({},Pe,{isProcessingProps:!0}),$(H,Ie,Pe),_e=vo(e);const Fe=_e[H],ft=Tt(Fe,[Ie].map(nv)),Ue=Promise.resolve(Re.preProcessEditCellProps({id:H,row:be,props:Pe,hasChanged:!1,otherFieldsProps:ft})).then(Ft=>{if(e.current.getRowMode(H)===Zr.View){ye(!1);return}Ft=W({},Ft,{isProcessingProps:!1}),$(H,Ie,Ft)});xe.push(Ue)}),Promise.all(xe).then(()=>{e.current.getRowMode(H)===Zr.Edit?(_e=vo(e),ye(!_e[H][X].error)):ye(!1)})})},[e,y,$]),Y=_.useCallback(Q=>{const H=vo(e),X=e.current.getRow(Q);if(!H[Q])return e.current.getRow(Q);let he=W({},s.current[Q],X);return Object.entries(H[Q]).forEach(([pe,ge])=>{const ce=e.current.getColumn(pe);ce?.valueSetter?he=ce.valueSetter(ge.value,he,ce,e):he[pe]=ge.value}),he},[e]),te={getRowMode:N,startRowEditMode:j,stopRowEditMode:K},ie={setRowEditingEditCellValue:z,getRowWithUpdatedValuesFromRowEditing:Y};jn(e,te,"public"),jn(e,ie,"private"),_.useEffect(()=>{p&&D(p)},[p,D]),pr(()=>{const Q=Ra(e),H=o.current;o.current=wH(n);const X=new Set([...Object.keys(n),...Object.keys(H)]);Array.from(X).forEach(he=>{const pe=n[he]??{mode:Zr.View},ge=H[he]?.mode||Zr.View,ce=Q[he]?e.current.getRowId(Q[he]):he;pe.mode===Zr.Edit&&ge===Zr.View?U(W({id:ce},pe)):pe.mode===Zr.View&&ge===Zr.Edit&&q(W({id:ce},pe))})},[e,n,U,q])},f$e=e=>W({},e,{editRows:{}}),p$e=(e,t)=>{c$e(e,t),h$e(e,t);const n=_.useRef({}),{isCellEditable:r}=t,i=_.useCallback(g=>$f(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:r?r(g):!0,[r]),o=(g,m,y,b)=>{if(!y){b();return}if(n.current[g]||(n.current[g]={}),n.current[g][m]){const[E]=n.current[g][m];clearTimeout(E)}const v=()=>{const[E]=n.current[g][m];clearTimeout(E),b(),delete n.current[g][m]},S=setTimeout(()=>{b(),delete n.current[g][m]},y);n.current[g][m]=[S,v]};_.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([m,y])=>{Object.keys(y).forEach(b=>{const[v]=g[m][b];clearTimeout(v),delete g[m][b]})})}},[]);const s=_.useCallback((g,m)=>{if(n.current[g]){if(!m)Object.keys(n.current[g]).forEach(y=>{const[,b]=n.current[g][y];b()});else if(n.current[g][m]){const[,y]=n.current[g][m];y()}}},[]),l=_.useCallback(g=>{const{id:m,field:y,debounceMs:b}=g;return new Promise(v=>{o(m,y,b,async()=>{const S=t.editMode===ec.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(m,y)===Tr.Edit){const E=await S(g);v(E)}})})},[e,t.editMode]),c=_.useCallback((g,m)=>t.editMode===ec.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,m):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),u=_.useCallback((g,m)=>vo(e)[g]?.[m]??null,[e]),h={isCellEditable:i,setEditCellValue:l,getRowWithUpdatedValues:c,unstable_getEditCellMeta:u},p={runPendingEditCellValueMutation:s};jn(e,h,"public"),jn(e,p,"private")},g$e=(e,t,n)=>{const r=!!t.dataSource;return n.current.caches.rows=Yw({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),W({},e,{rows:oH({apiRef:n,rowCountProp:t.rowCount,loadingProp:r?!0:t.loading,previousTree:null,previousTreeDepths:null})})},m$e=(e,t,n)=>{const r=Do(e,"useGridRows"),i=_.useRef(Date.now()),o=_.useRef(t.rowCount),s=bs(),{setRowIndex:l}=n.hooks.useGridRowsOverridableMethods(e,t),c=_.useCallback(z=>{const Y=Ra(e)[z];if(Y)return Y;const te=Ql(e,z);return te&&$f(te)?{[Th]:z}:null},[e]),u=_.useCallback(z=>Wf(e,z),[e]),h=_.useCallback(({cache:z,throttle:Y})=>{const te=()=>{i.current=Date.now(),e.current.setState(Q=>W({},Q,{rows:oH({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:ko(e),previousTreeDepths:nH(e),previousGroupsToFetch:cAe(e)})})),e.current.publishEvent("rowsSet")};if(s.clear(),e.current.caches.rows=z,!Y){te();return}const ie=t.throttleRowsMs-(Date.now()-i.current);if(ie>0){s.start(ie,te);return}te()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),p=_.useCallback(z=>{if(r.debug(`Updating all rows, new length ${z.length}`),Ph(e)){e.current.updateNonPivotRows(z,!1);return}const Y=Yw({rows:z,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),te=e.current.caches.rows;Y.rowsBeforePartialUpdates=te.rowsBeforePartialUpdates,h({cache:Y,throttle:!0})},[r,t.getRowId,t.loading,t.rowCount,h,e]),g=_.useCallback(z=>{if(t.signature===gl.DataGrid&&z.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Ph(e)){e.current.updateNonPivotRows(z);return}const Y=cH(e,z,t.getRowId),te=aH({updates:Y,getRowId:t.getRowId,previousCache:e.current.caches.rows});h({cache:te,throttle:!0})},[t.signature,t.getRowId,h,e]),m=_.useCallback((z,Y)=>{const te=cH(e,z,t.getRowId),ie=aH({updates:te,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:Y??[]});h({cache:ie,throttle:!1})},[t.getRowId,h,e]),y=_.useCallback(z=>{r.debug(`Setting loading to ${z}`),e.current.setState(Y=>W({},Y,{rows:W({},Y.rows,{loading:z})})),e.current.caches.rows.loadingPropBeforePartialUpdates=z},[e,r]),b=_.useCallback(()=>{const z=Eh(e),Y=Ra(e);return new Map(z.map(te=>[te,Y[te]??{}]))},[e]),v=_.useCallback(()=>Vf(e),[e]),S=_.useCallback(()=>Eh(e),[e]),E=_.useCallback(z=>{const{rowIdToIndexMap:Y}=rp(e);return Y.get(z)},[e]),T=_.useCallback((z,Y)=>{const te=Ql(e,z);if(!te)throw new Error(`MUI X: No row with id #${z} found.`);if(te.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const ie=W({},te,{childrenExpanded:Y});e.current.setState(Q=>W({},Q,{rows:W({},Q.rows,{tree:W({},Q.rows.tree,{[z]:ie})})})),e.current.publishEvent("rowExpansionChange",ie)},[e]),O=_.useCallback(z=>Ql(e,z)??null,[e]),M=_.useCallback(({skipAutoGeneratedRows:z=!0,groupId:Y,applySorting:te,applyFiltering:ie,directChildrenOnly:Q=!1})=>{const H=ko(e);let X;if(te){const he=H[Y];if(!he)return[];const pe=$m(e);X=[];const ge=pe.findIndex(ce=>ce===Y)+1;for(let ce=ge;ce<pe.length&&(Q?H[pe[ce]].depth===he.depth+1:H[pe[ce]].depth>he.depth);ce+=1){const be=pe[ce];(!z||!$f(H[be]))&&X.push(be)}}else X=_R(H,Y,z,Q);if(ie){const he=Uf(e);X=oS(he)?X:X.filter(pe=>he[pe]!==!1)}return X},[e]),I=_.useCallback((z,Y)=>{if(t.signature===gl.DataGrid&&Y.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Y.length===0)return;if(Am(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const ie=W({},ko(e)),Q=W({},Ra(e)),H=ie[go],X=[...H.children],he=new Set;for(let ge=0;ge<Y.length;ge+=1){const ce=Y[ge],be=qw(ce,t.getRowId,"A row was provided without id when calling replaceRows()."),[Ne]=X.splice(z+ge,1,be);he.has(Ne)||(delete Q[Ne],delete ie[Ne]);const _e={id:be,depth:0,parent:go,type:"leaf",groupingKey:null};Q[be]=ce,ie[be]=_e,he.add(be)}ie[go]=W({},H,{children:X});const pe=X.filter(ge=>ie[ge]?.type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=Q,e.current.setState(ge=>W({},ge,{rows:W({},ge.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,X.length),dataRowIdToModelLookup:Q,dataRowIds:pe,tree:ie})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),N={getRow:c,setLoading:y,getRowId:u,getRowModels:b,getRowsCount:v,getAllRowIds:S,setRows:p,updateRows:g,getRowNode:O,getRowIndexRelativeToVisibleRows:E,unstable_replaceRows:I},D={setRowIndex:l,setRowChildrenExpansion:T,getRowGroupChildren:M},L={updateNestedRows:m},A=_.useCallback(()=>{r.info("Row grouping pre-processing have changed, regenerating the row tree");let z;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?z=W({},e.current.caches.rows,{updates:{type:"full",rows:Eh(e)}}):z=Yw({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),h({cache:z,throttle:!1})},[r,e,t.rows,t.getRowId,t.loading,t.rowCount,h]),$=Gs(()=>t.dataSource),j=_.useCallback(z=>{if(t.dataSource&&t.dataSource!==$.current){$.current=t.dataSource;return}z==="rowTreeCreation"&&A()},[A,$,t.dataSource]),U=_.useCallback(()=>{e.current.getActiveStrategy(Gu.RowTree)!==uAe(e)&&A()},[e,A]);Vt(e,"activeStrategyProcessorChange",j),Vt(e,"strategyAvailabilityChange",U);const K=_.useCallback(()=>{e.current.setState(z=>{const Y=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:ko(e),treeDepths:nH(e),dataRowIds:Eh(e),dataRowIdToModelLookup:Ra(e)});return W({},z,{rows:W({},z.rows,Y,{totalTopLevelRowCount:iH({tree:Y.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);eI(e,"hydrateRows",K),jn(e,N,"public"),jn(e,D,t.signature===gl.DataGrid?"private":"public"),jn(e,L,"private");const q=_.useRef(!0);_.useEffect(()=>{if(q.current){q.current=!1;return}let z=!1;t.rowCount!==o.current&&(z=!0,o.current=t.rowCount);const Y=t.dataSource?dAe(e):t.rows,te=e.current.caches.rows.rowsBeforePartialUpdates===Y,ie=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,Q=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;te&&(ie||(e.current.setState(H=>W({},H,{rows:W({},H.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),Q||(e.current.setState(H=>W({},H,{rows:W({},H.rows,{totalRowCount:Math.max(t.rowCount||0,H.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,H.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),!z)||(r.debug(`Updating all rows, new length ${Y?.length}`),h({cache:Yw({rows:Y,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,r,h,e])},v$e=e=>{const t={[go]:W({},fAe(),{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:go,type:"leaf",groupingKey:null}}return{groupingName:Lh,tree:t,treeDepths:{0:e.length},dataRowIds:e}},y$e=({previousTree:e,actions:t})=>{const n=W({},e),r={};for(let s=0;s<t.remove.length;s+=1){const l=t.remove[s];r[l]=!0,delete n[l]}for(let s=0;s<t.insert.length;s+=1){const l=t.insert[s];n[l]={id:l,depth:0,parent:go,type:"leaf",groupingKey:null}}const i=n[go];let o=[...i.children,...t.insert];return Object.values(r).length&&(o=o.filter(s=>!r[s])),n[go]=W({},i,{children:o}),{groupingName:Lh,tree:n,treeDepths:{0:o.length},dataRowIds:o}},b$e=e=>e.updates.type==="full"?v$e(e.updates.rows):y$e({previousTree:e.previousTree,actions:e.updates.actions}),w$e=e=>{rv(e,Lh,"rowTreeCreation",b$e)};class sI extends Error{}function S$e(e,t){const n=_.useCallback(y=>({field:y,colDef:e.current.getColumn(y)}),[e]),r=_.useCallback(y=>{const b=e.current.getRow(y);if(!b)throw new sI(`No row with id #${y} found`);return{id:y,columns:e.current.getAllColumns(),row:b}},[e]),i=_.useCallback((y,b,v,{cellMode:S,colDef:E,hasFocus:T,rowNode:O,tabIndex:M})=>{const I=v[b],N=E?.valueGetter?E.valueGetter(I,v,E,e):I,D={id:y,field:b,row:v,rowNode:O,colDef:E,cellMode:S,hasFocus:T,tabIndex:M,value:N,formattedValue:N,isEditable:!1,api:e.current};return E&&E.valueFormatter&&(D.formattedValue=E.valueFormatter(N,v,E,e)),D.isEditable=E&&e.current.isCellEditable(D),D},[e]),o=_.useCallback((y,b)=>{const v=e.current.getRow(y),S=Ql(e,y);if(!v||!S)throw new sI(`No row with id #${y} found`);const E=_s(e),T=FR(e),O=e.current.getCellMode(y,b);return e.current.getCellParamsForRow(y,b,v,{colDef:t.listView&&t.listViewColumn?.field===b?MH(e):e.current.getColumn(b),rowNode:S,hasFocus:E!==null&&E.field===b&&E.id===y,tabIndex:T&&T.field===b&&T.id===y?0:-1,cellMode:O})},[e,t.listView,t.listViewColumn?.field]),s=_.useCallback((y,b)=>{const v=e.current.getColumn(b),S=e.current.getRow(y);if(!S)throw new sI(`No row with id #${y} found`);return!v||!v.valueGetter?S[b]:v.valueGetter(S[v.field],S,v,e)},[e]),l=_.useCallback((y,b)=>gAe(y,b,e),[e]),c=_.useCallback((y,b)=>{const v=l(y,b);return!b||!b.valueFormatter?v:b.valueFormatter(v,y,b,e)},[e,l]),u=_.useCallback(y=>e.current.rootElementRef.current?tje(e.current.rootElementRef.current,y):null,[e]),h=_.useCallback(y=>e.current.rootElementRef.current?nje(e.current.rootElementRef.current,y):null,[e]),p=_.useCallback((y,b)=>e.current.rootElementRef.current?rje(e.current.rootElementRef.current,{id:y,field:b}):null,[e]),g={getCellValue:s,getCellParams:o,getCellElement:p,getRowValue:l,getRowFormattedValue:c,getRowParams:r,getRowElement:h,getColumnHeaderParams:n,getColumnHeaderElement:u},m={getCellParamsForRow:i};jn(e,g,"public"),jn(e,m,"private")}const iv={type:"include",ids:new Set},C$e=(e,t)=>W({},e,{rowSelection:t.rowSelection?t.rowSelectionModel??iv:iv}),x$e=(e,t)=>{const n=Do(e,"useGridSelection"),r=_.useCallback(Q=>(...H)=>{t.rowSelection&&Q(...H)},[t.rowSelection]),i=dt(e,Am)>1,o=t.signature!==gl.DataGrid&&(t.rowSelectionPropagation?.parents||t.rowSelectionPropagation?.descendants)&&i,s=_.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),l=_.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:yl,changeEvent:"rowSelectionChange"});const{checkboxSelection:c,disableRowSelectionOnClick:u,isRowSelectable:h}=t,p=BR(t),g=dt(e,ko),m=_.useCallback(Q=>{let H=Q;const X=l.current??Q,he=e.current.isRowSelected(Q);if(he){const pe=Rh(e),ge=pe.findIndex(be=>be===X),ce=pe.findIndex(be=>be===H);if(ge===ce)return;ge>ce?H=pe[ce+1]:H=pe[ce-1]}l.current=Q,e.current.selectRowRange({startId:X,endId:H},!he)},[e]),y=Xt(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?lG(e):Rh(e)),b=_.useCallback((Q,H)=>{if(t.signature===gl.DataGrid&&!p&&(Q.type!=="include"||Q.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));yl(e)!==Q&&(n.debug("Setting selection model"),e.current.setState(he=>W({},he,{rowSelection:t.rowSelection?Q:iv}),H))},[e,n,t.rowSelection,t.signature,p]),v=_.useCallback(Q=>zm(e).has(Q),[e]),S=_.useCallback(Q=>{if(t.rowSelection===!1||h&&!h(e.current.getRowParams(Q)))return!1;const H=Ql(e,Q);return!(H?.type==="footer"||H?.type==="pinnedRow")},[e,t.rowSelection,h]),E=_.useCallback(()=>QH(e),[e]),T=_.useCallback((Q,H=!0,X=!1)=>{if(e.current.isRowSelectable(Q))if(l.current=Q,X){n.debug(`Setting selection for row ${Q}`);const he={type:"include",ids:new Set},pe=ge=>{he.ids.add(ge)};H&&(pe(Q),o&&Um(e,g,Q,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,pe)),e.current.setRowSelectionModel(he,"singleRowSelection")}else{n.debug(`Toggling selection for row ${Q}`);const he=yl(e),pe={type:he.type,ids:new Set(he.ids)},ge=Fu(pe);ge.unselect(Q);const ce=_e=>{ge.select(_e)},be=_e=>{ge.unselect(_e)};H?(ce(Q),o&&Um(e,g,Q,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,ce)):o&&eG(e,g,Q,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,be),(pe.type==="include"&&pe.ids.size<2||p)&&e.current.setRowSelectionModel(pe,"singleRowSelection")}},[e,n,o,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,p]),O=_.useCallback((Q,H=!0,X=!1)=>{if(n.debug("Setting selection for several rows"),t.rowSelection===!1)return;const he=new Set;for(let be=0;be<Q.length;be+=1){const Ne=Q[be];e.current.isRowSelectable(Ne)&&he.add(Ne)}const pe=yl(e);let ge;if(X){if(ge={type:"include",ids:he},H){const be=Fu(ge);if(o){const Ne=_e=>{be.select(_e)};for(const _e of he)Um(e,g,_e,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Ne)}}else ge.ids=new Set;if(pe.type===ge.type&&ge.ids.size===pe.ids.size&&Array.from(ge.ids).every(be=>pe.ids.has(be)))return}else{ge={type:pe.type,ids:new Set(pe.ids)};const be=Fu(ge),Ne=me=>{be.select(me)},_e=me=>{be.unselect(me)};for(const me of he)H?(be.select(me),o&&Um(e,g,me,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,Ne)):(_e(me),o&&eG(e,g,me,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,_e))}(ge.type==="include"&&ge.ids.size<2||p)&&e.current.setRowSelectionModel(ge,"multipleRowsSelection")},[n,o,p,e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,t.rowSelection]),M=_.useCallback(Q=>{if(!i||!o||Q.ids.size===0&&Q.type==="include")return Q;const H={type:Q.type,ids:new Set(Q.ids)},X=Fu(H),he=pe=>{X.select(pe)};for(const pe of Q.ids)Um(e,g,pe,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,he,X);return H},[e,g,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,i,o]),I=_.useCallback(({startId:Q,endId:H},X=!0,he=!1)=>{if(!e.current.getRow(Q)||!e.current.getRow(H))return;n.debug(`Expanding selection from row ${Q} to row ${H}`);const pe=Rh(e),ge=pe.indexOf(Q),ce=pe.indexOf(H),[be,Ne]=ge>ce?[ce,ge]:[ge,ce],_e=pe.slice(be,Ne+1);e.current.selectRows(_e,X,he)},[e,n]),N={selectRow:T,setRowSelectionModel:b,getSelectedRows:E,isRowSelected:v,isRowSelectable:S},D={selectRows:O,selectRowRange:I,getPropagatedRowSelectionModel:M};jn(e,N,"public"),jn(e,D,t.signature===gl.DataGrid?"private":"public");const L=_.useRef(!0),A=_.useCallback((Q=!1)=>{if(L.current)return;const H=yl(e),X=Ra(e),he=ko(e),pe=Uf(e),ge=me=>t.filterMode==="server"?!X[me]:!he[me]||pe[me]===!1,ce={type:H.type,ids:new Set(H.ids)},be=Fu(ce);let Ne=!1;for(const me of H.ids){if(ge(me)){if(t.keepNonExistentRowsSelected)continue;be.unselect(me),Ne=!0;continue}if(!t.rowSelectionPropagation?.parents)continue;const ye=g[me];if(ye?.type==="group"){if(ye.isAutoGenerated){be.unselect(me),Ne=!0;continue}ye.children.every(Ie=>pe[Ie]===!1)||(be.unselect(me),Ne=!0)}}const _e=i&&t.rowSelectionPropagation?.parents&&(ce.ids.size>0||ce.type==="exclude");if(Ne||_e&&!Q)if(_e)if(ce.type==="exclude"){const me=y(),ye=[];for(let xe=0;xe<me.length;xe+=1){const Ie=me[xe];(t.keepNonExistentRowsSelected||!ge(Ie))&&be.has(Ie)&&ye.push(Ie)}e.current.selectRows(ye,!0,!0)}else e.current.selectRows(Array.from(ce.ids),!0,!0);else e.current.setRowSelectionModel(ce,"multipleRowsSelection")},[e,i,t.rowSelectionPropagation?.parents,t.keepNonExistentRowsSelected,t.filterMode,g,y]),$=_.useCallback((Q,H)=>{const X=H.metaKey||H.ctrlKey,he=!c&&!X&&!nLe(H),pe=!p||he,ge=e.current.isRowSelected(Q),Ne=aS(e)>1&&pe||!ge;e.current.selectRow(Q,Ne,pe)},[e,p,c]),j=_.useCallback((Q,H)=>{if(u)return;const X=H.target.closest(`.${se.cell}`)?.getAttribute("data-field");X===Kf.field||X===PR||X&&e.current.getColumn(X)?.type===rS||Ql(e,Q.id).type==="pinnedRow"||(H.shiftKey&&p?m(Q.id):$(Q.id,H))},[u,p,e,m,$]),U=_.useCallback((Q,H)=>{p&&H.shiftKey&&window.getSelection()?.removeAllRanges()},[p]),K=_.useCallback((Q,H)=>{p&&H.nativeEvent.shiftKey?m(Q.id):e.current.selectRow(Q.id,Q.value,!p)},[e,m,p]),q=_.useCallback(Q=>{const H=mo(e),X=KH(e),he=H.items.length>0||X?.some(pe=>pe.length);!t.isRowSelectable&&!t.checkboxSelectionVisibleOnly&&(!i||t.rowSelectionPropagation?.descendants)&&!he&&!t.disableRowSelectionExcludeModel?e.current.setRowSelectionModel({type:Q?"exclude":"include",ids:new Set},"multipleRowsSelection"):e.current.selectRows(y(),Q)},[e,y,t.checkboxSelectionVisibleOnly,t.isRowSelectable,t.rowSelectionPropagation?.descendants,t.disableRowSelectionExcludeModel,i]),z=_.useCallback(Q=>{q(Q.value)},[q]),Y=_.useCallback((Q,H)=>{if(e.current.getCellMode(Q.id,Q.field)!==Tr.Edit&&!Xm(H)){if(eS(H.key)&&H.shiftKey){const X=_s(e);if(X&&X.id!==Q.id){H.preventDefault();const he=e.current.isRowSelected(X.id);if(!p){e.current.selectRow(X.id,!he,!0);return}const pe=e.current.getRowIndexRelativeToVisibleRows(X.id),ge=e.current.getRowIndexRelativeToVisibleRows(Q.id);let ce,be;pe>ge?he?(ce=ge,be=pe-1):(ce=ge,be=pe):he?(ce=pe+1,be=ge):(ce=pe,be=ge);const Ne=rp(e),_e=[];for(let me=ce;me<=be;me+=1)_e.push(Ne.rows[me].id);e.current.selectRows(_e,!he);return}}if(H.key===" "&&H.shiftKey){H.preventDefault(),$(Q.id,H);return}String.fromCharCode(H.keyCode)==="A"&&(H.ctrlKey||H.metaKey)&&(H.preventDefault(),q(!0))}},[e,p,$,q]),te=Xt(()=>{if(!t.rowSelection){e.current.setRowSelectionModel(iv);return}if(s===void 0)return;if(!o||!i||s.type==="include"&&s.ids.size===0){e.current.setRowSelectionModel(s);return}const Q=e.current.getPropagatedRowSelectionModel(s);if(Q.type!==s.type||Q.ids.size!==s.ids.size||!Array.from(s.ids).every(H=>Q.ids.has(H))){e.current.setRowSelectionModel(Q);return}e.current.setRowSelectionModel(s)});Vt(e,"sortedRowsSet",r(()=>A(!0))),Vt(e,"filteredRowsSet",r(()=>A())),Vt(e,"rowClick",r(j)),Vt(e,"rowSelectionCheckboxChange",r(K)),Vt(e,"headerSelectionCheckboxChange",z),Vt(e,"cellMouseDown",r(U)),Vt(e,"cellKeyDown",r(Y)),_.useEffect(()=>{te()},[e,s,t.rowSelection,te]);const ie=s!=null;_.useEffect(()=>{if(ie||!t.rowSelection||typeof S!="function")return;const Q=yl(e);if(Q.type!=="include")return;const H=new Set;for(const X of Q.ids)S(X)&&H.add(X);H.size<Q.ids.size&&e.current.setRowSelectionModel({type:Q.type,ids:H})},[e,S,ie,t.rowSelection]),_.useEffect(()=>{if(!t.rowSelection||ie)return;const Q=yl(e);!p&&(Q.type==="include"&&Q.ids.size>1||Q.type==="exclude")&&e.current.setRowSelectionModel(iv)},[e,p,c,ie,t.rowSelection]),_.useEffect(()=>{r(A)},[A,r]),_.useEffect(()=>{L.current&&(L.current=!1)},[])},_$e=e=>{const{classes:t}=e;return _.useMemo(()=>_t({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},qn,t),[t])},E$e=(e,t)=>{const n={classes:t.classes},r=_$e(n),i=_.useCallback(o=>{const s=W({},Kf,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),l=t.checkboxSelection,c=o.lookup[bl]!=null;return l&&!c?(o.lookup[bl]=s,o.orderedFields=[bl,...o.orderedFields]):!l&&c?(delete o.lookup[bl],o.orderedFields=o.orderedFields.filter(u=>u!==bl)):l&&c&&(o.lookup[bl]=W({},s,o.lookup[bl]),t.columns.some(u=>u.field===bl)||(o.orderedFields=[bl,...o.orderedFields.filter(u=>u!==bl)])),o},[e,r,t.columns,t.checkboxSelection]);di(e,"hydrateColumns",i)},T$e=(e,t)=>{const n=t.sortModel??t.initialState?.sorting?.sortModel??[];return W({},e,{sorting:{sortModel:gH(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},M$e=(e,t)=>{const n=Do(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Aa,changeEvent:"sortModelChange"});const r=_.useCallback((M,I)=>{const N=Aa(e),D=N.findIndex(A=>A.field===M);let L=[...N];return D>-1?I?.sort==null?L.splice(D,1):L.splice(D,1,I):L=[...N,I],L},[e]),i=_.useCallback((M,I)=>{const D=Aa(e).find(L=>L.field===M.field);if(D){const L=I===void 0?vH(M.sortingOrder??t.sortingOrder,D.sort):I;return L===void 0?void 0:W({},D,{sort:L})}return{field:M.field,sort:I===void 0?vH(M.sortingOrder??t.sortingOrder):I}},[e,t.sortingOrder]),o=_.useCallback((M,I)=>I==null||I.sortable===!1||t.disableColumnSorting?M:(I.sortingOrder||t.sortingOrder).some(D=>!!D)?[...M,"columnMenuSortItem"]:M,[t.sortingOrder,t.disableColumnSorting]),s=_.useCallback(()=>{e.current.setState(M=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),W({},M,{sorting:W({},M.sorting,{sortedRows:_R(ko(e),go,!1)})});const I=Aa(e),N=LAe(I,e),D=e.current.applyStrategyProcessor("sorting",{sortRowList:N});return W({},M,{sorting:W({},M.sorting,{sortedRows:D})})}),e.current.publishEvent("sortedRowsSet")},[e,n,t.sortingMode]),l=_.useCallback(M=>{Aa(e)!==M&&(n.debug("Setting sort model"),e.current.setState(mH(M,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),c=_.useCallback((M,I,N)=>{const D=e.current.getColumn(M),L=i(D,I);let A;!N||t.disableMultipleColumnsSorting?A=L?.sort==null?[]:[L]:A=r(D.field,L),e.current.setSortModel(A)},[e,r,i,t.disableMultipleColumnsSorting]),u=_.useCallback(()=>Aa(e),[e]),h=_.useCallback(()=>DR(e).map(I=>I.model),[e]),p=_.useCallback(()=>$m(e),[e]),g=_.useCallback(M=>e.current.getSortedRowIds()[M],[e]);jn(e,{getSortModel:u,getSortedRows:h,getSortedRowIds:p,getRowIdFromRowIndex:g,setSortModel:l,sortColumn:c,applySorting:s},"public");const y=_.useCallback((M,I)=>{const N=Aa(e);return!I.exportOnlyDirtyModels||t.sortModel!=null||t.initialState?.sorting?.sortModel!=null||N.length>0?W({},M,{sorting:{sortModel:N}}):M},[e,t.sortModel,t.initialState?.sorting?.sortModel]),b=_.useCallback((M,I)=>{const N=I.stateToRestore.sorting?.sortModel;return N==null?M:(e.current.setState(mH(N,t.disableMultipleColumnsSorting)),W({},M,{callbacks:[...M.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),v=_.useCallback(M=>{const I=ko(e),N=I[go],D=M.sortRowList?M.sortRowList(N.children.map(L=>I[L])):[...N.children];return N.footerId!=null&&D.push(N.footerId),D},[e]);di(e,"exportState",y),di(e,"restoreState",b),rv(e,Lh,"sorting",v);const S=_.useCallback(({field:M,colDef:I},N)=>{if(!I.sortable||t.disableColumnSorting)return;const D=t.multipleColumnsSortingMode==="always"||N.shiftKey||N.metaKey||N.ctrlKey;c(M,void 0,D)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),E=_.useCallback(({field:M,colDef:I},N)=>{!I.sortable||t.disableColumnSorting||N.key==="Enter"&&!N.ctrlKey&&!N.metaKey&&c(M,void 0,t.multipleColumnsSortingMode==="always"||N.shiftKey)},[c,t.disableColumnSorting,t.multipleColumnsSortingMode]),T=_.useCallback(()=>{const M=Aa(e),I=Nc(e);if(M.length>0){const N=M.filter(D=>I[D.field]);N.length<M.length&&e.current.setSortModel(N)}},[e]),O=_.useCallback(M=>{M==="sorting"&&e.current.applySorting()},[e]);di(e,"columnMenu",o),Vt(e,"columnHeaderClick",S),Vt(e,"columnHeaderKeyDown",E),Vt(e,"rowsSet",e.current.applySorting),Vt(e,"columnsChange",T),Vt(e,"activeStrategyProcessorChange",O),kh(()=>{e.current.applySorting()}),pr(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function w4(e){const{containerSize:t,scrollPosition:n,elementSize:r,elementOffset:i}=e,o=i+r;if(r>t)return i;if(o-t>n)return o-t;if(i<n)return i}const O$e=(e,t)=>{const n=Oo(),r=Do(e,"useGridScroll"),i=e.current.columnHeadersContainerRef,o=e.current.virtualScrollerRef,s=dt(e,$u),l=_.useCallback(p=>{const g=xi(e),m=Vf(e),y=_i(e);if(!(p.rowIndex==null)&&m===0||y.length===0)return!1;r.debug(`Scrolling to cell at row ${p.rowIndex}, col: ${p.colIndex} `);let v={};if(p.colIndex!==void 0){const S=Oh(e);let E;if(typeof p.rowIndex<"u"){const T=s[p.rowIndex]?.id,O=e.current.unstable_getCellColSpanInfo(T,p.colIndex);O&&!O.spannedByColSpan&&(E=O.cellProps.width)}typeof E>"u"&&(E=y[p.colIndex].computedWidth),v.left=w4({containerSize:g.viewportOuterSize.width,scrollPosition:Math.abs(o.current.scrollLeft),elementSize:E,elementOffset:S[p.colIndex]})}if(p.rowIndex!==void 0){const S=xR(e),E=WLe(e),T=sG(e),O=t.pagination?p.rowIndex-E*T:p.rowIndex,M=S.positions[O+1]?S.positions[O+1]-S.positions[O]:S.currentPageTotalHeight-S.positions[O];v.top=w4({containerSize:g.viewportInnerSize.height,scrollPosition:o.current.scrollTop,elementSize:M,elementOffset:S.positions[O]})}return v=e.current.unstable_applyPipeProcessors("scrollToIndexes",v,p),typeof v.left<"u"||typeof v.top<"u"?(e.current.scroll(v),!0):!1},[r,e,o,t.pagination,s]),c=_.useCallback(p=>{if(o.current&&p.left!==void 0&&i.current){const g=n?-1:1;i.current.scrollLeft=p.left,o.current.scrollLeft=g*p.left,r.debug(`Scrolling left: ${p.left}`)}o.current&&p.top!==void 0&&(o.current.scrollTop=p.top,r.debug(`Scrolling top: ${p.top}`)),r.debug("Scrolling, updating container, and viewport")},[o,n,i,r]),u=_.useCallback(()=>o?.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0},[o]);jn(e,{scroll:c,scrollToIndexes:l,getScrollPosition:u},"public")};function R$e(e,t){Ur(e,"columnHeaderClick",t.onColumnHeaderClick),Ur(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),Ur(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Ur(e,"columnHeaderOver",t.onColumnHeaderOver),Ur(e,"columnHeaderOut",t.onColumnHeaderOut),Ur(e,"columnHeaderEnter",t.onColumnHeaderEnter),Ur(e,"columnHeaderLeave",t.onColumnHeaderLeave),Ur(e,"cellClick",t.onCellClick),Ur(e,"cellDoubleClick",t.onCellDoubleClick),Ur(e,"cellKeyDown",t.onCellKeyDown),Ur(e,"preferencePanelClose",t.onPreferencePanelClose),Ur(e,"preferencePanelOpen",t.onPreferencePanelOpen),Ur(e,"menuOpen",t.onMenuOpen),Ur(e,"menuClose",t.onMenuClose),Ur(e,"rowDoubleClick",t.onRowDoubleClick),Ur(e,"rowClick",t.onRowClick),Ur(e,"stateChange",t.onStateChange)}const ov={width:0,height:0},I$e={isReady:!1,root:ov,viewportOuterSize:ov,viewportInnerSize:ov,contentSize:ov,minimumSize:ov,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},k$e=(e,t,n)=>{const r=I$e,i=Nm(n);return W({},e,{dimensions:W({},r,A$e(t,n,i,Jw(n)))})},P$e=Ht(_i,Oh,(e,t)=>{const n=e.length;return n===0?0:Ah(t[n-1]+e[n-1].computedWidth,1)});function D$e(e,t){const n=e.current.virtualizer,r=n.api.updateDimensions,i=n.api.getViewportPageSize,s={getRootDimensions:_.useCallback(()=>xi(e),[e])},l={updateDimensions:r,getViewportPageSize:i};jn(e,s,"public"),jn(e,l,"private"),Ur(e,"rootMount",u=>{S4(u,xi(e))}),Ur(e,"debouncedResize",t.onResize),Bw(e.current.store,u=>u.dimensions,(u,h)=>{e.current.rootElementRef.current&&S4(e.current.rootElementRef.current,h),L$e(h.viewportInnerSize,u.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",h.viewportInnerSize),e.current.publishEvent("debouncedResize",h.root)})}function S4(e,t){const n=(r,i)=>e.style.setProperty(r,i);n("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),n("--DataGrid-rowWidth",`${t.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${t.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),n("--height",`${t.rowHeight}px`)}function A$e(e,t,n,r){const i=uH(e.rowHeight,TS.rowHeight);return{rowHeight:Math.floor(i*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n),columnsTotalWidth:P$e(t),headersTotalHeight:qm(t,e),leftPinnedWidth:r.left.reduce((o,s)=>o+s.computedWidth,0),rightPinnedWidth:r.right.reduce((o,s)=>o+s.computedWidth,0)}}function L$e(e,t){return e.width===t.width&&e.height===t.height}const N$e=(e,t,n)=>{const r=eAe(n),i=Vf(n),o=Hf(n),s=Math.min(o.enabled?o.paginationModel.pageSize:i,i);return W({},e,{rowsMeta:{currentPageTotalHeight:s*r,positions:Array.from({length:s},(l,c)=>c*r),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},B$e=(e,t)=>{const n=e.current.virtualizer,{getRowHeight:r,setLastMeasuredRowIndex:i,storeRowHeightMeasurement:o,resetRowHeights:s,hydrateRowsMeta:l,observeRowHeight:c,rowHasAutoHeight:u,getRowHeightEntry:h,getLastMeasuredRowIndex:p}=n.api.rowsMeta;eI(e,"rowHeight",l);const g={unstable_getRowHeight:r,unstable_setLastMeasuredRowIndex:i,unstable_storeRowHeightMeasurement:o,resetRowHeights:s},m={hydrateRowsMeta:l,observeRowHeight:c,rowHasAutoHeight:u,getRowHeightEntry:h,getLastMeasuredRowIndex:p};jn(e,g,"public"),jn(e,m,"private")},F$e=e=>{const t=_.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),n=_.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(s=>{s()})},[e]);jn(e,{exportState:t,restoreState:n},"public")},j$e=e=>{const t=e.current.virtualizer,n=t.api.resetColSpan,r=t.api.getCellColSpanInfo,i=t.api.calculateColSpan,o={unstable_getCellColSpanInfo:r},s={resetColSpan:n,calculateColSpan:i};jn(e,o,"public"),jn(e,s,"private"),Vt(e,"columnOrderChange",n)},C4=(e,t,n)=>{if(CH(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:i}=e;i.forEach(o=>{C4(o,[...t,r],n)})},aI=e=>{if(!e)return{};const t={};return e.forEach(n=>{C4(n,[],t)}),t},lI=(e,t,n)=>{const r=c=>t[c]??[],i=[],o=Math.max(0,...e.map(c=>r(c).length)),s=(c,u,h)=>{const p=r(c),g=r(u);for(let m=0;m<=h;m+=1)if(p[m]!==g[m])return!1;return!0},l=(c,u)=>{const h=n?.left,p=n?.right,g=!!h?.includes(c),m=!!h?.includes(u),y=!!p?.includes(c),b=!!p?.includes(u);return g!==m||y!==b};for(let c=0;c<o;c+=1){const u=[];for(let h=0;h<e.length;h+=1){const p=e[h],g=r(p)[c]??null;if(u.length===0){u.push({columnFields:[p],groupId:g});continue}const m=u[u.length-1],y=m.columnFields[m.columnFields.length-1];m.groupId!==g||!s(y,p,c)||l(y,p)?u.push({columnFields:[p],groupId:g}):m.columnFields.push(p)}i.push(u)}return i},V$e=["groupId","children"],cI=e=>{const t={};for(let n=0;n<e.length;n+=1){const r=e[n];if(CH(r))continue;const{groupId:i,children:o}=r,s=Tt(r,V$e);if(!i)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const l=W({},s,{groupId:i}),c=cI(o);if(c[i]!==void 0||t[i]!==void 0)throw new Error(`MUI X: The groupId ${i} is used multiple times in the columnGroupingModel.`);Object.assign(t,c),t[i]=l}return t},$$e=(e,t,n)=>{if(n.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;const r=nc(n),i=Fm(n),o=cI(t.columnGroupingModel??[]),s=aI(t.columnGroupingModel??[]),l=lI(r,s,n.current.state.pinnedColumns??{}),c=i.length===0?0:Math.max(...i.map(u=>s[u]?.length??0));return W({},e,{columnGrouping:{lookup:o,unwrappedGroupingModel:s,headerStructure:l,maxDepth:c}})},z$e=(e,t)=>{const n=_.useCallback(l=>gG(e)[l]??[],[e]),r=_.useCallback(()=>mG(e),[e]);jn(e,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const o=_.useCallback(()=>{const l=aI(t.columnGroupingModel??[]);e.current.setState(c=>{const u=c.columns?.orderedFields??[],h=c.pinnedColumns??{},p=lI(u,l,h);return W({},c,{columnGrouping:W({},c.columnGrouping,{headerStructure:p})})})},[e,t.columnGroupingModel]),s=_.useCallback(l=>{e.current.caches.columnGrouping.lastColumnGroupingModel=l;const c=e.current.getPinnedColumns?.()??{},u=nc(e),h=Fm(e),p=cI(l??[]),g=aI(l??[]),m=lI(u,g,c),y=h.length===0?0:Math.max(...h.map(b=>g[b]?.length??0));e.current.setState(b=>W({},b,{columnGrouping:{lookup:p,unwrappedGroupingModel:g,headerStructure:m,maxDepth:y}}))},[e]);Vt(e,"columnIndexChange",o),Vt(e,"columnsChange",()=>{s(t.columnGroupingModel)}),Vt(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),_.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&s(t.columnGroupingModel)},[e,s,t.columnGroupingModel])};function U$e(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function x4(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function _4(e,t,n,r){let i=e;return r==="Right"?i+=t-n.left:i+=n.right-t,i}function H$e(e,t,n){return n==="Left"?e-t.left:t.right-e}function G$e(e){return e==="Right"?"Left":"Right"}function W$e(e,t){const n=e.classList.contains(se["columnSeparator--sideRight"])?"Right":"Left";return t?G$e(n):n}function E4(e){e.preventDefault(),e.stopImmediatePropagation()}function K$e(e){const t=_.useRef(void 0),n=()=>VBe(e),r=dt(e,n);return _.useEffect(()=>{t.current&&r===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=U$e()}return t.current}}function q$e(e,t){if(e.length<4)return e;const n=e.slice();n.sort((l,c)=>l-c);const r=n[Math.floor(n.length*.25)],i=n[Math.floor(n.length*.75)-1],o=i-r,s=o<5?5:o*t;return n.filter(l=>l>r-s&&l<i+s)}function Y$e(e,t,n){const r={},i=e.current.rootElementRef.current;return i.classList.add(se.autosizing),n.forEach(o=>{const l=pje(e.current,o.field).map(y=>y.getBoundingClientRect().width??0),c=t.includeOutliers?l:q$e(l,t.outliersFactor);if(t.includeHeaders){const y=fje(e.current,o.field);if(y){const b=y.querySelector(`.${se.columnHeaderTitle}`),v=y.querySelector(`.${se.columnHeaderTitleContainerContent}`),S=y.querySelector(`.${se.iconButtonContainer}`),E=y.querySelector(`.${se.menuIcon}`),T=b??v,O=window.getComputedStyle(y,null),M=parseInt(O.paddingLeft,10)+parseInt(O.paddingRight,10),N=T.scrollWidth+1+M+(S?.clientWidth??0)+(E?.clientWidth??0);c.push(N)}}const u=o.minWidth!==-1/0&&o.minWidth!==void 0,h=o.maxWidth!==1/0&&o.maxWidth!==void 0,p=u?o.minWidth:0,g=h?o.maxWidth:1/0,m=c.length===0?0:Math.max(...c);r[o.field]=Mh(m,p,g)}),i.classList.remove(se.autosizing),r}const X$e=e=>W({},e,{columnResize:{resizingColumnField:""}});function Z$e(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const Q$e=(e,t)=>{const n=Oo(),r=Do(e,"useGridColumnResize"),i=Gs(Z$e).current,o=_.useRef(null),s=_.useRef(null),l=bs(),c=_.useRef(void 0),u=L=>{r.debug(`Updating width to ${L} for col ${i.colDef.field}`);const A=i.columnHeaderElement.offsetWidth,$=L-A,j=L-i.initialColWidth;if(j>0){const q=i.initialTotalWidth+j;e.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${q}px`)}i.colDef.computedWidth=L,i.colDef.width=L,i.colDef.flex=0,i.columnHeaderElement.style.width=`${L}px`;const U=i.headerFilterElement;U&&(U.style.width=`${L}px`),i.groupHeaderElements.forEach(q=>{const z=q;let Y;z.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${z.offsetWidth+$}px`,z.style.width=Y}),i.cellElements.forEach(q=>{const z=q;let Y;z.getAttribute("aria-colspan")==="1"?Y=`${L}px`:Y=`${z.offsetWidth+$}px`,z.style.setProperty("--width",Y)});const K=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);K===Vu.LEFT&&(ip(i.fillerLeft,"width",$),i.leftPinnedCellsAfter.forEach(q=>{ip(q,"left",$)}),i.leftPinnedHeadersAfter.forEach(q=>{ip(q,"left",$)})),K===Vu.RIGHT&&(ip(i.fillerRight,"width",$),i.rightPinnedCellsBefore.forEach(q=>{ip(q,"right",$)}),i.rightPinnedHeadersBefore.forEach(q=>{ip(q,"right",$)}))},h=L=>{if(S(),i.previousMouseClickEvent){const A=i.previousMouseClickEvent,$=A.timeStamp,j=A.clientX,U=A.clientY;if(L.timeStamp-$<300&&L.clientX===j&&L.clientY===U){i.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,L);return}}if(i.colDef){e.current.setColumnWidth(i.colDef.field,i.colDef.width),r.debug(`Updating col ${i.colDef.field} with new width: ${i.colDef.width}`);const A=ml(e);i.groupHeaderElements.forEach($=>{const j=sje($),U=$,q=`${j.reduce((z,Y)=>A.columnVisibilityModel[Y]!==!1?z+A.lookup[Y].computedWidth:z,0)}px`;U.style.width=q})}l.start(0,()=>{e.current.publishEvent("columnResizeStop",null,L)})},p=(L,A,$)=>{const j=e.current.rootElementRef.current;i.initialColWidth=L.computedWidth,i.initialTotalWidth=e.current.getRootDimensions().rowWidth,i.colDef=L,i.columnHeaderElement=oje(e.current.columnHeadersContainerRef.current,L.field);const U=j.querySelector(`.${se.headerFilterRow} [data-field="${Fc(L.field)}"]`);U&&(i.headerFilterElement=U),i.groupHeaderElements=aje(e.current.columnHeadersContainerRef?.current,L.field),i.cellElements=lje(i.columnHeaderElement,e.current),i.fillerLeft=YG(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),i.fillerRight=YG(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const K=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,i.colDef.field);i.leftPinnedCellsAfter=K!==Vu.LEFT?[]:cje(e.current,i.columnHeaderElement,n),i.rightPinnedCellsBefore=K!==Vu.RIGHT?[]:uje(e.current,i.columnHeaderElement,n),i.leftPinnedHeadersAfter=K!==Vu.LEFT?[]:dje(e.current,i.columnHeaderElement,n),i.rightPinnedHeadersBefore=K!==Vu.RIGHT?[]:hje(e.current,i.columnHeaderElement,n),s.current=W$e(A,n),o.current=H$e($,i.columnHeaderElement.getBoundingClientRect(),s.current)},g=Xt(h),m=Xt(L=>{if(L.buttons===0){g(L);return}let A=_4(o.current,L.clientX,i.columnHeaderElement.getBoundingClientRect(),s.current);A=Mh(A,i.colDef.minWidth,i.colDef.maxWidth),u(A);const $={element:i.columnHeaderElement,colDef:i.colDef,width:A};e.current.publishEvent("columnResize",$,L)}),y=Xt(L=>{x4(L,c.current)&&h(L)}),b=Xt(L=>{const A=x4(L,c.current);if(!A)return;if(L.type==="mousemove"&&L.buttons===0){y(L);return}let $=_4(o.current,A.x,i.columnHeaderElement.getBoundingClientRect(),s.current);$=Mh($,i.colDef.minWidth,i.colDef.maxWidth),u($);const j={element:i.columnHeaderElement,colDef:i.colDef,width:$};e.current.publishEvent("columnResize",j,L)}),v=Xt(L=>{const A=xS(L.target,se["columnSeparator--resizable"]);if(!A)return;const $=L.changedTouches[0];$!=null&&(c.current=$.identifier);const j=xS(L.target,se.columnHeader),U=ije(j),K=e.current.getColumn(U);r.debug(`Start Resize on col ${K.field}`),e.current.publishEvent("columnResizeStart",{field:U},L),p(K,A,$.clientX);const q=Si(L.currentTarget);q.addEventListener("touchmove",b),q.addEventListener("touchend",y)}),S=_.useCallback(()=>{const L=Si(e.current.rootElementRef.current);L.body.style.removeProperty("cursor"),L.removeEventListener("mousemove",m),L.removeEventListener("mouseup",g),L.removeEventListener("touchmove",b),L.removeEventListener("touchend",y),setTimeout(()=>{L.removeEventListener("click",E4,!0)},100),i.columnHeaderElement&&(i.columnHeaderElement.style.pointerEvents="unset")},[e,i,m,g,b,y]),E=_.useCallback(({field:L})=>{e.current.setState(A=>W({},A,{columnResize:W({},A.columnResize,{resizingColumnField:L})}))},[e]),T=_.useCallback(()=>{e.current.setState(L=>W({},L,{columnResize:W({},L.columnResize,{resizingColumnField:""})}))},[e]),O=Xt(({colDef:L},A)=>{if(A.button!==0||!A.currentTarget.classList.contains(se["columnSeparator--resizable"]))return;A.preventDefault(),r.debug(`Start Resize on col ${L.field}`),e.current.publishEvent("columnResizeStart",{field:L.field},A),p(L,A.currentTarget,A.clientX);const $=Si(e.current.rootElementRef.current);$.body.style.cursor="col-resize",i.previousMouseClickEvent=A.nativeEvent,$.addEventListener("mousemove",m),$.addEventListener("mouseup",g),$.addEventListener("click",E4,!0)}),M=Xt((L,A)=>{if(t.disableAutosize||A.button!==0)return;const $=e.current.state.columns.lookup[L.field];$.resizable!==!1&&e.current.autosizeColumns(W({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[$.field]}))}),I=K$e(e),N=_.useRef(!1),D=_.useCallback(async L=>{if(!e.current.rootElementRef?.current||N.current)return;N.current=!0;const $=ml(e),j=W({},sBe,L,{columns:L?.columns??$.orderedFields});j.columns=j.columns.filter(K=>$.columnVisibilityModel[K]!==!1);const U=j.columns.map(K=>e.current.state.columns.lookup[K]);try{!t.disableVirtualization&&j.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await I());const K=Y$e(e,j,U),q=U.map(z=>W({},z,{width:K[z.field],computedWidth:K[z.field],flex:0}));if(j.expand){const Y=$.orderedFields.map(H=>$.lookup[H]).filter(H=>$.columnVisibilityModel[H.field]!==!1).reduce((H,X)=>H+(K[X.field]??X.computedWidth??X.width),0),Q=e.current.getRootDimensions().viewportInnerSize.width-Y;if(Q>0){const H=Q/(q.length||1);q.forEach(X=>{X.width+=H,X.computedWidth+=H})}}e.current.updateColumns(q),q.forEach((z,Y)=>{if(z.width!==U[Y].width){const te=z.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(z.field),colDef:z,width:te})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),N.current=!1}},[e,I,t.disableVirtualization]);_.useEffect(()=>S,[S]),iw(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),SG(e,()=>e.current.columnHeadersContainerRef?.current,"touchstart",v,{passive:!0}),jn(e,{autosizeColumns:D},"public"),Vt(e,"columnResizeStop",T),Vt(e,"columnResizeStart",E),Vt(e,"columnSeparatorMouseDown",O),Vt(e,"columnSeparatorDoubleClick",M),Ur(e,"columnResize",t.onColumnResize),Ur(e,"columnWidthChange",t.onColumnWidthChange)};function ip(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}function J$e(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function T4(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}const uI=(e,t,n)=>{if(!e)return null;let r=e[t.field];const i=t.rowSpanValueGetter??t.valueGetter;return i&&(r=i(r,e,t,n)),r},M4={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},op={caches:M4,processedRange:{firstRowIndex:0,lastRowIndex:0}},O4=20,R4=(e,t,n,r,i,o)=>{const s=e.current.virtualizer,l=o?op:ep.selectors.state(s.store.state),c=W({},l.caches.spannedCells),u=W({},l.caches.hiddenCells),h=W({},l.caches.hiddenCellOriginMap),p={firstRowIndex:Math.min(l.processedRange.firstRowIndex,i.firstRowIndex),lastRowIndex:Math.max(l.processedRange.lastRowIndex,i.lastRowIndex)};return t.forEach((g,m)=>{for(let y=i.firstRowIndex;y<i.lastRowIndex;y+=1){const b=n[y];if(u[b.id]?.[m])continue;const v=uI(b.model,g,e);if(v==null)continue;let S=b.id,E=y,T=0;const O=[];if(y===i.firstRowIndex){let I=y-1,N=n[I];for(;I>=r.firstRowIndex&&N&&uI(N.model,g,e)===v;){const D=n[I+1];u[D.id]?u[D.id][m]=!0:u[D.id]={[m]:!0},O.push(y),T+=1,S=N.id,E=I,I-=1,N=n[I]}}O.forEach(I=>{h[I]?h[I][m]=E:h[I]={[m]:E}});let M=y+1;for(;M<=r.lastRowIndex&&n[M]&&uI(n[M].model,g,e)===v;){const I=n[M];u[I.id]?u[I.id][m]=!0:u[I.id]={[m]:!0},h[M]?h[M][m]=E:h[M]={[m]:E},M+=1,T+=1}T>0&&(c[S]?c[S][m]=T+1:c[S]={[m]:T+1})}}),{caches:{spannedCells:c,hiddenCells:u,hiddenCellOriginMap:h},processedRange:p}},eze=(e,t)=>{const n=Eh(t).length;if(e.pagination){const r=sG(t);let i=O4;return r>0&&(i=r-1),{firstRowIndex:0,lastRowIndex:Math.min(i,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(O4,n)}},tze=(e,t,n)=>{if(!t.rowSpanning)return W({},e,{rowSpanning:op});const r=e.rows.dataRowIds||[],i=e.columns.orderedFields||[],o=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,l=!!e.filter.filterModel.items.length||!!e.filter.filterModel.quickFilterValues?.length;if(!r.length||!i.length||!o||!s||l)return W({},e,{rowSpanning:op});const c=eze(t,n),u=r.map(g=>({id:g,model:o[g]})),h=i.map(g=>s[g]),p=R4(n,h,u,c,c,!0);return W({},e,{rowSpanning:p})},nze=(e,t)=>{const n=e.current.virtualizer.store,r=_.useCallback((o,s=!1)=>{const{range:l,rows:c}=rp(e);if(l===null||!T4(o))return;const u=s?op:ep.selectors.state(n.state),h=J$e({firstRowIndex:o.firstRowIndex,lastRowIndex:Math.min(o.lastRowIndex,l.lastRowIndex-l.firstRowIndex+1)},u.processedRange);if(h===null)return;const p=_i(e),g=R4(e,p,c,l,h,s),m=Object.keys(g.caches.spannedCells).length,y=Object.keys(g.caches.hiddenCells).length,b=Object.keys(u.caches.spannedCells).length,v=Object.keys(u.caches.hiddenCells).length;!(s||m!==b||y!==v)||m===0&&b===0||n.set("rowSpanning",g)},[e,n]),i=_.useCallback(()=>{const o=FG(e);T4(o)&&r(o,!0)},[e,r]);Vt(e,"renderedRowsIntervalChange",Bu(t.rowSpanning,r)),Vt(e,"sortedRowsSet",Bu(t.rowSpanning,i)),Vt(e,"paginationModelChange",Bu(t.rowSpanning,i)),Vt(e,"filteredRowsSet",Bu(t.rowSpanning,i)),Vt(e,"columnsChange",Bu(t.rowSpanning,i)),_.useEffect(()=>{t.rowSpanning?n.state.rowSpanning.caches===M4&&i():n.state.rowSpanning!==op&&n.set("rowSpanning",op)},[e,n,i,t.rowSpanning])},rze=(e,t,n)=>W({},e,{listViewColumn:t.listViewColumn?W({},t.listViewColumn,{computedWidth:dI(n)}):void 0});function ize(e,t){const n=()=>{e.current.setState(o=>o.listViewColumn?W({},o,{listViewColumn:W({},o.listViewColumn,{computedWidth:dI(e)})}):o)},r=_.useRef(null);Vt(e,"viewportInnerSizeChange",o=>{r.current!==o.width&&(r.current=o.width,n())}),Vt(e,"columnVisibilityModelChange",n),pr(()=>{const o=t.listViewColumn;o&&e.current.setState(s=>W({},s,{listViewColumn:W({},o,{computedWidth:dI(e)})}))},[e,t.listViewColumn]),_.useEffect(()=>{t.listView&&t.listViewColumn},[t.listView,t.listViewColumn])}function dI(e){return xi(e).viewportInnerSize.width}const oze=Ht(mo,Aa,Po,(e,t,n)=>({groupKeys:[],paginationModel:n,sortModel:t,filterModel:e,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1}));let hI=(function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e})({});class fI{constructor(t){this.chunkSize=t}getCacheKeys=t=>{if(this.chunkSize<1||typeof t.start!="number")return[t];const n=[];for(let r=t.start;r<=t.end;r+=this.chunkSize){const i=Math.min(r+this.chunkSize-1,t.end);n.push(W({},t,{start:r,end:i}))}return n};splitResponse=(t,n)=>{const r=this.getCacheKeys(t);if(r.length===1)return new Map([[t,n]]);const i=new Map;return r.forEach(o=>{const s=o.end===t.end,l=W({},n,{pageInfo:W({},n.pageInfo,{hasNextPage:n.pageInfo?.hasNextPage!==void 0&&!s?!0:n.pageInfo?.hasNextPage,nextCursor:n.pageInfo?.nextCursor!==void 0&&!s?n.rows[o.end+1].id:n.pageInfo?.nextCursor}),rows:typeof o.start!="number"||typeof t.start!="number"?n.rows:n.rows.slice(o.start-t.start,o.end-t.start+1)});i.set(o,l)}),i};static mergeResponses=t=>t.length===1?t[0]:t.reduce((n,r)=>({rows:[...n.rows,...r.rows],rowCount:r.rowCount,pageInfo:r.pageInfo}),{rows:[],rowCount:0,pageInfo:{}})}const sze=["skipCache"],aze={clear:()=>{},get:()=>{},set:()=>{}};function I4(e,t={}){return e===null?aze:e??new GBe(t)}const lze=(e,t,n={})=>{const r=_.useCallback(()=>{e.current.setStrategyAvailability(Gu.DataSource,hI.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[i,o]=_.useState(!1),s=dt(e,Po),l=_.useRef(0),c=t.onDataSourceError,u=Gs(()=>{if(!t.pagination)return new fI(s.pageSize);const M=t.pageSizeOptions.map(N=>typeof N=="number"?N:N.value).sort((N,D)=>N-D),I=Math.min(s.pageSize,M[0]);return new fI(I)}).current,[h,p]=_.useState(()=>I4(t.dataSourceCache,n.cacheOptions)),g=_.useCallback(async(M,I)=>{const N=t.dataSource?.getRows;if(!N)return;if(M&&M!==go&&t.signature!=="DataGrid"){n.fetchRowChildren?.([M]);return}n.clearDataSourceState?.();const D=I||{},{skipCache:L}=D,A=Tt(D,sze),$=W({},oze(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),A),U=u.getCacheKeys($).map(q=>h.get(q));if(!L&&U.every(q=>q!==void 0)){e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:fI.mergeResponses(U),fetchParams:$});return}(i||e.current.getRowsCount()===0)&&e.current.setLoading(!0);const K=l.current+1;l.current=K;try{const q=await N($);u.splitResponse($,q).forEach((Y,te)=>h.set(te,Y)),l.current===K&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:q,fetchParams:$})}catch(q){l.current===K&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:q,fetchParams:$}),typeof c=="function"&&c(new WBe({message:q?.message,params:$,cause:q})))}finally{i&&l.current===K&&e.current.setLoading(!1)}},[u,h,e,i,t.dataSource?.getRows,c,n,t.signature]),m=_.useCallback(()=>{o(e.current.getActiveStrategy(Gu.DataSource)===hI.Default)},[e]),y=_.useCallback(M=>{if("error"in M){e.current.setRows([]);return}const{response:I}=M;I.rowCount!==void 0&&e.current.setRowCount(I.rowCount),e.current.setRows(I.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:M.fetchParams,response:I},!0)},[e]),b=t.dataSource?.updateRow,v=n.handleEditRow,S=_.useCallback(async M=>{if(b)try{const I=await b(M);return typeof v=="function"?(v(M,I),I):(e.current.updateNestedRows([I],[]),I&&!La(I,M.previousRow)&&e.current.dataSource.cache.clear(),I)}catch(I){throw typeof c=="function"&&c(new KBe({message:I?.message,params:M,cause:I})),I}},[e,b,c,v]),E={dataSource:{fetchRows:g,cache:h,editRow:S}},T=_.useMemo(()=>Ou(g,0),[g]),O=_.useRef(!0);return _.useEffect(()=>{if(O.current){O.current=!1;return}if(t.dataSourceCache===void 0)return;const M=I4(t.dataSourceCache,n.cacheOptions);p(I=>I!==M?M:I)},[t.dataSourceCache,n.cacheOptions]),_.useEffect(()=>(t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{l.current+=1}),[e,t.dataSource]),{api:{public:E},debouncedFetchRows:T,strategyProcessor:{strategyName:hI.Default,group:"dataSourceRowsUpdate",processor:y},setStrategyAvailability:r,cacheChunkManager:u,cache:h,events:{strategyAvailabilityChange:m,sortModelChange:Bu(i,()=>T()),filterModelChange:Bu(i,()=>T()),paginationModelChange:Bu(i,()=>T())}}},cze=(e,t)=>{const{api:n,strategyProcessor:r,events:i,setStrategyAvailability:o}=lze(e,t);jn(e,n.public,"public"),rv(e,r.strategyName,r.group,r.processor),Object.entries(i).forEach(([s,l])=>{Vt(e,s,l)}),_.useEffect(()=>{o()},[o])},uze=(e,t,n)=>{w2e(e,t),E$e(e,t),w$e(e),yo(y2e,e,t),yo(C$e,e,t),yo(A2e,e,t),yo(g$e,e,t),yo(r$e,e,t),yo(f$e,e,t),yo(X2e,e,t),yo(T$e,e,t),yo(o$e,e,t),yo(W2e,e,t),yo(tze,e,t),yo(B2e,e,t),yo(X$e,e,t),yo(P2e,e,t),yo($$e,e,t),yo(FBe,e,t),yo(k$e,e,t),yo(N$e,e,t),yo(rze,e,t),T2e(e,t),e$e(e,t),x$e(e,t),L2e(e,t),m$e(e,t,n),nze(e,t),S$e(e,t),j$e(e),z$e(e,t),p$e(e,t),Z2e(e,t),s$e(e,t),Y2e(e,t),M$e(e,t),F2e(e,t),Q$e(e,t),i$e(e,t),B$e(e),O$e(e,t),D2e(e),V2e(e,t),G2e(e,t),k2e(e,t),D$e(e,t),R$e(e,t),F$e(e),jBe(e,t),ize(e,t),cze(e,t),_.useEffect(()=>{e.current.runAppliersForPendingProcessors()})},dze=e=>{const{classes:t,headerAlign:n,isDragging:r,isLastColumn:i,showLeftBorder:o,showRightBorder:s,groupId:l,pinnedPosition:c}=e,u={root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",s&&"columnHeader--withRightBorder",o&&"columnHeader--withLeftBorder","withBorderColor",l===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c===Jn.LEFT&&"columnHeader--pinnedLeft",c===Jn.RIGHT&&"columnHeader--pinnedRight",i&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return _t(u,qn,t)};function hze(e){const{groupId:t,width:n,depth:r,maxDepth:i,fields:o,height:s,colIndex:l,hasFocus:c,tabIndex:u,isLastColumn:h,pinnedPosition:p,pinnedOffset:g}=e,m=It(),y=Oo(),b=_.useRef(null),v=Rn(),S=dt(v,mG),E=t?S[t]:{},{headerName:T=t??"",description:O="",headerAlign:M=void 0}=E;let I;const N=t&&S[t]?.renderHeaderGroup,D=_.useMemo(()=>({groupId:t,headerName:T,description:O,depth:r,maxDepth:i,fields:o,colIndex:l,isLastColumn:h}),[t,T,O,r,i,o,l,h]);t&&N&&(I=N(D));const L=W({},e,{classes:m.classes,headerAlign:M,depth:r,isDragging:!1}),A=T??t,$=sr(),j=t===null?`empty-group-cell-${$}`:t,U=dze(L);_.useLayoutEffect(()=>{if(c){const ie=b.current.querySelector('[tabindex="0"]')||b.current;if(!ie)return;if(YR())ie.focus({preventScroll:!0});else{const Q=v.current.getScrollPosition();ie.focus(),v.current.scroll(Q)}}},[v,c]);const K=_.useCallback(te=>ie=>{Xm(ie)||v.current.publishEvent(te,D,ie)},[v,D]),q=_.useMemo(()=>({onKeyDown:K("columnGroupHeaderKeyDown"),onFocus:K("columnGroupHeaderFocus"),onBlur:K("columnGroupHeaderBlur")}),[K]),z=typeof E.headerClassName=="function"?E.headerClassName(D):E.headerClassName,Y=_.useMemo(()=>bS(W({},e.style),y,p,g),[p,g,e.style,y]);return C.jsx(JG,W({ref:b,classes:U,columnMenuOpen:!1,colIndex:l,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:I,headerClassName:z,description:O,elementId:j,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:A,"aria-colspan":o.length,"data-fields":`|-${o.join("-|-")}-|`,style:Y},q))}const k4=Te("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),fze=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:i,columnGroupHeaderTabIndexState:o,columnHeaderFocus:s,columnGroupHeaderFocus:l,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:h,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:g}=e,[m,y]=_.useState(""),[b,v]=_.useState(""),S=Ys(),E=It(),T=dt(S,gG),O=dt(S,Oh),M=dt(S,UBe),I=dt(S,Jw),N=dt(S,Nc),D=DG(O,M,I.left.length),L=dt(S,CR),A=dt(S,eH),$=dt(S,rAe),j=dt(S,iAe),U=dt(S,tH),K=_.useCallback(ce=>v(ce.field),[]),q=_.useCallback(()=>v(""),[]),z=_.useCallback(ce=>y(ce.field),[]),Y=_.useCallback(()=>y(""),[]),te=_.useMemo(()=>I.left.length?{firstColumnIndex:0,lastColumnIndex:I.left.length}:null,[I.left.length]),ie=_.useMemo(()=>I.right.length?{firstColumnIndex:t.length-I.right.length,lastColumnIndex:t.length}:null,[I.right.length,t.length]);Vt(S,"columnResizeStart",K),Vt(S,"columnResizeStop",q),Vt(S,"columnHeaderDragStart",z),Vt(S,"columnHeaderDragEndNative",Y);const Q=ce=>{const{renderContext:be=M}=ce||{},Ne=be.firstColumnIndex,_e=Math.min(be.lastColumnIndex,t.length);return{renderedColumns:t.slice(Ne,_e),firstColumnToRender:Ne,lastColumnToRender:_e}},H=(ce,be,Ne,_e=!1)=>{const me=ce?.position===Jn.RIGHT,ye=ce?.position===void 0,xe=I.right.length>0&&me||I.right.length===0&&ye,Ie=D-Ne;return C.jsxs(_.Fragment,{children:[ye&&C.jsx("div",{role:"presentation",style:{width:Ie}}),be,ye&&C.jsx("div",{role:"presentation",className:Je(se.filler,_e&&se["filler--borderBottom"])}),xe&&C.jsx(JR,{header:!0,pinnedRight:me,borderBottom:_e,borderTop:!1})]})},X=(ce,be={})=>{const{renderedColumns:Ne,firstColumnToRender:_e}=Q(ce),me=[];for(let ye=0;ye<Ne.length;ye+=1){const xe=Ne[ye],Ie=_e+ye,Pe=Ie===0,Re=i!==null&&i.field===xe.field||Pe&&!g?0:-1,Fe=s!==null&&s.field===xe.field,ft=u.open&&u.field===xe.field,Ue=ce?.position,Ft=Qm(Ue,xe.computedWidth,Ie,O,L,U),Ct=Ue===Jn.RIGHT?Ne[ye-1]:Ne[ye+1],Rt=Ct?s!==null&&s.field===Ct.field:!1,Ke=Ie+1===O.length-I.right.length,$t=ye,yt=Ne.length,zt=ES(Ue,$t),jt=_S(Ue,$t,yt,E.showColumnVerticalBorder,A);me.push(C.jsx(Mje,W({},n[xe.field],{columnMenuOpen:ft,filterItemsCounter:r[xe.field]&&r[xe.field].length,headerHeight:$,isDragging:xe.field===m,colDef:xe,colIndex:Ie,isResizing:b===xe.field,isLast:Ie===O.length-1,hasFocus:Fe,tabIndex:Re,pinnedPosition:Ue,pinnedOffset:Ft,isLastUnpinned:Ke,isSiblingFocused:Rt,showLeftBorder:zt,showRightBorder:jt},be),xe.field))}return H(ce,me,0)},he=()=>C.jsxs(k4,{role:"row","aria-rowindex":c+1,ownerState:E,className:se["row--borderBottom"],style:{height:$},children:[te&&X({position:Jn.LEFT,renderContext:te},{disableReorder:!0}),X({renderContext:M}),ie&&X({position:Jn.RIGHT,renderContext:ie},{disableReorder:!0,separatorSide:ZR.Left})]}),pe=({depth:ce,params:be})=>{const Ne=Q(be);if(Ne.renderedColumns.length===0)return null;const{firstColumnToRender:_e,lastColumnToRender:me}=Ne,ye=p[ce],xe=t[_e].field,Ie=T[xe]?.[ce]??null,Pe=ye.findIndex(({groupId:yt,columnFields:zt})=>yt===Ie&&zt.includes(xe)),Re=t[me-1].field,Fe=T[Re]?.[ce]??null,ft=ye.findIndex(({groupId:yt,columnFields:zt})=>yt===Fe&&zt.includes(Re)),Ue=ye.slice(Pe,ft+1).map(yt=>W({},yt,{columnFields:yt.columnFields.filter(zt=>h[zt]!==!1)})).filter(yt=>yt.columnFields.length>0),Ft=Ue[0].columnFields.indexOf(xe),Rt=Ue[0].columnFields.slice(0,Ft).reduce((yt,zt)=>{const jt=N[zt];return yt+(jt.computedWidth??0)},0);let Ke=_e;const $t=Ue.map(({groupId:yt,columnFields:zt},jt)=>{const pn=l!==null&&l.depth===ce&&zt.includes(l.field),un=o!==null&&o.depth===ce&&zt.includes(o.field)?0:-1,Mt={width:zt.reduce((St,nt)=>St+N[nt].computedWidth,0),fields:zt,colIndex:Ke},At=be.position,Ye=Qm(At,Mt.width,Ke,O,L,U);Ke+=zt.length;let xt=jt;return At===Jn.LEFT&&(xt=Ke-1),C.jsx(hze,{groupId:yt,width:Mt.width,fields:Mt.fields,colIndex:Mt.colIndex,depth:ce,isLastColumn:jt===Ue.length-1,maxDepth:c,height:j,hasFocus:pn,tabIndex:un,pinnedPosition:At,pinnedOffset:Ye,showLeftBorder:ES(At,xt),showRightBorder:_S(At,xt,Ue.length,E.showColumnVerticalBorder,A)},jt)});return H(be,$t,Rt)};return{renderContext:M,leftRenderContext:te,rightRenderContext:ie,pinnedColumns:I,visibleColumns:t,columnPositions:O,getFillers:H,getColumnHeadersRow:he,getColumnsToRender:Q,getColumnGroupHeadersRows:()=>{if(c===0)return null;const ce=[];for(let be=0;be<c;be+=1)ce.push(C.jsxs(k4,{role:"row","aria-rowindex":be+1,ownerState:E,style:{height:j},children:[te&&pe({depth:be,params:{position:Jn.LEFT,renderContext:te,maxLastColumn:te.lastColumnIndex}}),pe({depth:be,params:{renderContext:M}}),ie&&pe({depth:be,params:{position:Jn.RIGHT,renderContext:ie,maxLastColumn:ie.lastColumnIndex}})]},be));return ce},getPinnedCellOffset:Qm,isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},pze=["className"],gze=e=>{const{classes:t}=e;return _t({root:["columnHeaders"]},qn,t)},mze=fr("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),vze=fn(function(t,n){const{className:r}=t,i=Tt(t,pze),o=It(),s=gze(o);return C.jsx(mze,W({className:Je(s.root,r),ownerState:o},i,{role:"presentation",ref:n}))}),yze=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],bze=fn(function(t,n){const{visibleColumns:r,sortColumnLookup:i,filterColumnLookup:o,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:l,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y}=t,b=Tt(t,yze),{getInnerProps:v,getColumnHeadersRow:S,getColumnGroupHeadersRows:E}=fze({visibleColumns:r,sortColumnLookup:i,filterColumnLookup:o,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:l,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:y});return C.jsxs(vze,W({},b,v(),{ref:n,children:[E(),S()]}))}),wze=Ac(bze);function Sze(e){return null}function Cze(e){return null}const xze=fn(function(t,n){const i=Rn().current.getLocaleText("noResultsOverlayLabel");return C.jsx(SS,W({},t,{ref:n,children:i}))}),_ze=()=>_t({root:["bottomContainer"]},qn,{}),Eze=fr("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function Tze(e){const t=_ze();return C.jsx(Eze,W({},e,{className:Je(t.root,se["container--bottom"]),role:"presentation"}))}const Mze=W({},QDe,{cell:cFe,skeletonCell:bFe,columnHeaderFilterIconButton:jje,columnHeaderSortIcon:Bje,columnMenu:tVe,columnHeaders:wze,detailPanels:Sze,bottomContainer:Tze,footer:A3e,footerRowCount:X3e,toolbar:R3e,pinnedRows:Cze,loadingOverlay:z3e,noResultsOverlay:xze,noRowsOverlay:U3e,noColumnsOverlay:H3e,pagination:W3e,filterPanel:IVe,columnsPanel:oVe,columnsManagement:jVe,panel:uVe,row:r2e}),Oze={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},Rze=e=>W({},Oze,e.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),Ize=Mze,kze=e=>{const t=Wl(),n=_.useMemo(()=>E$({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),r=_.useMemo(()=>W({},mAe,n.localeText),[n.localeText]),i=_.useMemo(()=>nFe({defaultSlots:Ize,slots:n.slots}),[n.slots]),o=_.useMemo(()=>Object.keys(TS).reduce((s,l)=>(s[l]=n[l]??TS[l],s),{}),[n]);return _.useMemo(()=>W({},n,o,{localeText:r,slots:i},Rze(n)),[n,r,i,o])},P4=Symbol("mui.api_private"),Pze=e=>e.isPropagationStopped!==void 0;let D4=0;function Dze(e){const t=e.current?.[P4];if(t)return t;const n={},r={state:n,store:Em.create(n),instanceId:{id:D4}};return D4+=1,r.getPublicApi=()=>e.current,r.register=(i,o)=>{Object.keys(o).forEach(s=>{const l=o[s],c=r[s];if(c?.spying===!0?c.target=l:r[s]=l,i==="public"){const u=e.current,h=u[s];h?.spying===!0?h.target=l:u[s]=l}})},r.register("private",{caches:{},eventManager:new e5}),r}function Aze(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[P4]:e.current}}function Lze(e,t){const n=_.useRef(null),r=_.useRef(null);r.current||(r.current=Dze(n)),n.current||(n.current=Aze(r));const i=_.useCallback((...s)=>{const[l,c,u={}]=s;if(u.defaultMuiPrevented=!1,Pze(u)&&u.isPropagationStopped())return;const h=t.signature===gl.DataGridPro||t.signature===gl.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(l,c,u,h)},[r,t.signature]),o=_.useCallback((s,l,c)=>{r.current.eventManager.on(s,l,c);const u=r.current;return()=>{u.eventManager.removeListener(s,l)}},[r]);return jn(r,{subscribeEvent:o,publishEvent:i},"public"),e&&!e.current?.state&&(e.current=n.current),_.useImperativeHandle(e,()=>n.current,[n]),_.useEffect(()=>{const s=r.current;return()=>{s.publishEvent("unmount")}},[r]),r}const A4={hooks:{useCSSVariables:JPe,useGridAriaAttributes:i2e,useGridRowAriaAttributes:o2e,useGridRowsOverridableMethods:s2e,useCellAggregationResult:()=>null}},L4=function(t,n){const r=kze(t),i=Lze(r.apiRef,r);return uze(i,r,A4),C.jsx(a2e,{privateApiRef:i,configuration:A4,props:r,children:C.jsx(LFe,W({className:r.className,style:r.style,sx:r.sx},r.slotProps?.root,{ref:n}))})},Nze=_.memo(fn(L4));L4.propTypes={apiRef:Ae.shape({current:Ae.object}),"aria-label":Ae.string,"aria-labelledby":Ae.string,autoHeight:Ae.bool,autoPageSize:Ae.bool,autosizeOnMount:Ae.bool,autosizeOptions:Ae.shape({columns:Ae.arrayOf(Ae.string),disableColumnVirtualization:Ae.bool,expand:Ae.bool,includeHeaders:Ae.bool,includeOutliers:Ae.bool,outliersFactor:Ae.number}),cellModesModel:Ae.object,checkboxSelection:Ae.bool,classes:Ae.object,className:Ae.string,clipboardCopyCellDelimiter:Ae.string,columnBufferPx:Ae.number,columnFilterDebounceMs:Ae.number,columnGroupHeaderHeight:Ae.number,columnGroupingModel:Ae.arrayOf(Ae.object),columnHeaderHeight:Ae.number,columns:Ae.arrayOf(Ae.object).isRequired,columnVisibilityModel:Ae.object,dataSource:Ae.shape({getRows:Ae.func.isRequired,updateRow:Ae.func}),dataSourceCache:Ae.shape({clear:Ae.func.isRequired,get:Ae.func.isRequired,set:Ae.func.isRequired}),density:Ae.oneOf(["comfortable","compact","standard"]),disableAutosize:Ae.bool,disableColumnFilter:Ae.bool,disableColumnMenu:Ae.bool,disableColumnResize:Ae.bool,disableColumnSelector:Ae.bool,disableColumnSorting:Ae.bool,disableDensitySelector:Ae.bool,disableEval:Ae.bool,disableMultipleRowSelection:Ae.bool,disableRowSelectionExcludeModel:Ae.bool,disableRowSelectionOnClick:Ae.bool,disableVirtualization:Ae.bool,editMode:Ae.oneOf(["cell","row"]),estimatedRowCount:Ae.number,experimentalFeatures:Ae.shape({warnIfFocusStateIsNotSynced:Ae.bool}),filterDebounceMs:Ae.number,filterMode:Ae.oneOf(["client","server"]),filterModel:Ae.shape({items:Ae.arrayOf(Ae.shape({field:Ae.string.isRequired,id:Ae.oneOfType([Ae.number,Ae.string]),operator:Ae.string.isRequired,value:Ae.any})).isRequired,logicOperator:Ae.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:Ae.bool,quickFilterLogicOperator:Ae.oneOf(["and","or"]),quickFilterValues:Ae.array}),getCellClassName:Ae.func,getDetailPanelContent:Ae.func,getEstimatedRowHeight:Ae.func,getRowClassName:Ae.func,getRowHeight:Ae.func,getRowId:Ae.func,getRowSpacing:Ae.func,hideFooter:Ae.bool,hideFooterPagination:Ae.bool,hideFooterSelectedRowCount:Ae.bool,ignoreDiacritics:Ae.bool,ignoreValueFormatterDuringExport:Ae.oneOfType([Ae.shape({clipboardExport:Ae.bool,csvExport:Ae.bool}),Ae.bool]),initialState:Ae.object,isCellEditable:Ae.func,isRowSelectable:Ae.func,keepNonExistentRowsSelected:Ae.bool,label:Ae.string,loading:Ae.bool,localeText:Ae.object,logger:Ae.shape({debug:Ae.func.isRequired,error:Ae.func.isRequired,info:Ae.func.isRequired,warn:Ae.func.isRequired}),logLevel:Ae.oneOf(["debug","error","info","warn",!1]),nonce:Ae.string,onCellClick:Ae.func,onCellDoubleClick:Ae.func,onCellEditStart:Ae.func,onCellEditStop:Ae.func,onCellKeyDown:Ae.func,onCellModesModelChange:Ae.func,onClipboardCopy:Ae.func,onColumnHeaderClick:Ae.func,onColumnHeaderContextMenu:Ae.func,onColumnHeaderDoubleClick:Ae.func,onColumnHeaderEnter:Ae.func,onColumnHeaderLeave:Ae.func,onColumnHeaderOut:Ae.func,onColumnHeaderOver:Ae.func,onColumnOrderChange:Ae.func,onColumnResize:Ae.func,onColumnVisibilityModelChange:Ae.func,onColumnWidthChange:Ae.func,onDataSourceError:Ae.func,onDensityChange:Ae.func,onFilterModelChange:Ae.func,onMenuClose:Ae.func,onMenuOpen:Ae.func,onPaginationMetaChange:Ae.func,onPaginationModelChange:Ae.func,onPreferencePanelClose:Ae.func,onPreferencePanelOpen:Ae.func,onProcessRowUpdateError:Ae.func,onResize:Ae.func,onRowClick:Ae.func,onRowCountChange:Ae.func,onRowDoubleClick:Ae.func,onRowEditStart:Ae.func,onRowEditStop:Ae.func,onRowModesModelChange:Ae.func,onRowSelectionModelChange:Ae.func,onSortModelChange:Ae.func,onStateChange:Ae.func,pageSizeOptions:Ae.arrayOf(Ae.oneOfType([Ae.number,Ae.shape({label:Ae.string.isRequired,value:Ae.number.isRequired})]).isRequired),pagination:Ae.oneOf([!0]),paginationMeta:Ae.shape({hasNextPage:Ae.bool}),paginationMode:Ae.oneOf(["client","server"]),paginationModel:Ae.shape({page:Ae.number.isRequired,pageSize:Ae.number.isRequired}),processRowUpdate:Ae.func,resizeThrottleMs:Ae.number,rowBufferPx:Ae.number,rowCount:Ae.number,rowHeight:Ae.number,rowModesModel:Ae.object,rows:Ae.arrayOf(Ae.object),rowSelection:Ae.bool,rowSelectionModel:Ae.shape({ids:Ae.instanceOf(Set).isRequired,type:Ae.oneOf(["exclude","include"]).isRequired}),rowSpacingType:Ae.oneOf(["border","margin"]),rowSpanning:Ae.bool,scrollbarSize:Ae.number,showCellVerticalBorder:Ae.bool,showColumnVerticalBorder:Ae.bool,showToolbar:Ae.bool,slotProps:Ae.object,slots:Ae.object,sortingMode:Ae.oneOf(["client","server"]),sortingOrder:Ae.arrayOf(Ae.oneOf(["asc","desc"])),sortModel:Ae.arrayOf(Ae.shape({field:Ae.string.isRequired,sort:Ae.oneOf(["asc","desc"])})),style:Ae.object,sx:Ae.oneOfType([Ae.arrayOf(Ae.oneOfType([Ae.func,Ae.object,Ae.bool])),Ae.func,Ae.object]),virtualizeColumnsWithAutoRowHeight:Ae.bool};function N4(e){const{api:t}=e,n=(r,i)=>{t.setEditCellValue({id:e.id,field:e.field,value:i}),t.stopCellEditMode({id:e.id,field:e.field})};return C.jsx(fG,{onValueChange:n,...e})}function Bze({onClick:e}){return C.jsx(hFe,{label:"Удалить",icon:C.jsx(gRe,{fontSize:"small",color:"error"}),onClick:e})}function B4({value:e,isBroken:t}){return C.jsx("div",{style:{textDecoration:t?"line-through":"unset"},children:e})}function F4(e){const{description:t}=e;return{label:t?`${e.name}: ${t}`:e.name,value:e.name}}class Fze extends Kt{constructor(){super(),this.allowAutoChangeB=new WeakSet,this.setEnabled=(t,n)=>this.props.sceneConnection?.setDisabled(!n),this.isCellEditable=t=>!t.row.isBroken,this.processRowUpdate=(t,n)=>{const{m:r}=this,i=t.a!==n.a,o=t.b!==n.b;if(!i&&!o)return n;const s=r.a.vars.get(t.a);let l=r.b.vars.get(t.b);if(!s||!l)return n;if(i){if(s.type!==l.type){this.allowAutoChangeB.add(r.proto);const u=r.b.vars.list.filter(h=>h.type===s.type);if(!u.length)return n;l=u.find(h=>h.klassVar.nameUC===s.klassVar.nameUC)||u[0]}else if(this.allowAutoChangeB.has(r.proto)){const u=r.b.vars.get(s.name);u&&(l=u)}}else this.allowAutoChangeB.delete(r.proto);const c=r.nestedConnections.map((u,h)=>h.toString()===t.id?[s.name,l.name]:u.proto.toJSON());return r.proto.setNestedConnections(c),r.parent.applyChanges(),{...t,a:s.name,typeA:s.type,b:l.name,typeB:l.type}},this.addRow=t=>{const{m:n}=this,r=n.b.vars.list,i=n.a.vars.list.find(l=>r.some(c=>c.type===l.type));if(!i)return;let o;if(o=n.b.vars.get(i.name),(!o||i.type!==o.type)&&(o=r.find(l=>l.type===i.type),!o))return;const s=[...n.proto.nestedConnections.map(l=>l.toJSON()),[i.name,o.name]];n.proto.setNestedConnections(s),n.parent.applyChanges()},Ot(this,{processRowUpdate:Ee,valuesOptionsA:yi,canAddRow:yi})}get enabled(){return!this.m.isDisabled}get valuesOptionsA(){const{a:t,b:n}=this.m,r=new Set(n.vars.list.map(i=>i.type));return is(t.vars.list,i=>r.has(i.type)&&F4(i))}getOptionsB(t){const{b:n}=this.m;return is(n.vars.list,r=>r.type===t&&F4(r))}get columns(){const{m:t}=this;return[{field:"a",headerName:t.a.name,editable:!0,flex:10,type:"singleSelect",valueOptions:this.valuesOptionsA,renderCell:n=>_.createElement(B4,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(N4,n)},{field:"b",headerName:t.b.name,editable:!0,flex:10,type:"singleSelect",valueOptions:n=>this.getOptionsB(n.row?.typeA),renderCell:n=>_.createElement(B4,{value:n.value,isBroken:n.row.isBroken}),renderEditCell:n=>_.createElement(N4,n)},{field:"delete",type:"actions",flex:1,getActions:n=>[_.createElement(Bze,{onClick:()=>this._deleteRow(n.id)})]}]}get rows(){return this.m.nestedConnections.map((t,n)=>{const r=n.toString();return t.isBroken?{id:r,isBroken:!0,a:t.a.toString(),typeA:null,b:t.b.toString(),typeB:null}:{id:r,isBroken:!1,a:t.a.name,typeA:t.a.type,b:t.b.name,typeB:t.b.type}})}get canAddRow(){const{m:t}=this,n=t.b.vars.list;return t.a.vars.list.some(r=>n.some(i=>i.type===r.type))}_deleteRow(t){const{m:n}=this,r=n.nestedConnections.filter((i,o)=>o.toString()!==t).map(i=>i.proto.toJSON());n.proto.setNestedConnections(r),n.parent.applyChanges()}}class jze extends Kt{constructor(){super(),this.onUngroupButtonClick=()=>this.m.ungroup(),Ot(this,{klassPropsButtonModel:yi,klassCodeButtonModel:yi,onUngroupButtonClick:!1})}get kind(){return this.child?"":"Группа"}get klassPropsButtonModel(){return this.child?.schema.klass||null}get klassSchemaButtonModel(){const{child:t}=this;if(!t)return null;const{schema:n}=t,{klass:r}=n;return!r.isReadonly||r.hasScene?n:null}get klassCodeButtonModel(){const{child:t}=this;if(!t)return null;const{klass:n}=t.schema;return!n.isReadonly||n.hasCode?n:null}get schemaValuesModel(){const t=this.child?.schema;return t&&!t.isFake?t:null}get showUngroupButton(){return this.m.canUngroup}get child(){return this.m.child}}const Vze=[[-1,"Ничего не делать"],[ny,"Открыть окно схемы имиджа"],[q0,"Открыть проект"],[ry,"Выполнить действие"],[K0,"Вызвать shell"],[IP,"Нет конкретного действия"]],pI=[[X0,`Закрыть текущий проект (${X0})`],[Y0,`Закрыть все проекты (${Y0})`]];class $ze extends Kt{constructor(t){super(),this.ctx=t,this.setKlassName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,target:n}})},this.setWindowName=n=>{const{m:r}=this.parent;r.hyper&&r.set({hyper:{...r.hyper,window:n}})},this.onOpenSchemaButtonClick=()=>{const n=this.ctx.project.klassLibrary.get(this.klassName);!n||n.isReadonly&&!n.hasScene||this.ctx.project.openKlassScene(n)},Ot(this,{klassNameOptions:yi,showOpenSchemaButton:yi})}get klassNameOptions(){return this.ctx.project.klassLibrary.list.map(t=>t.name)}get showOpenSchemaButton(){const t=this.ctx.project.klassLibrary.get(this.klassName);return t&&(!t.isReadonly||t.hasScene)||!1}get klassName(){return this.parent.m.hyper?.target||""}get windowName(){return this.parent.m.hyper?.window||""}}class zze extends Kt{constructor(){super(...arguments),this.setProjectPath=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get projectPath(){return this.parent.m.hyper?.target||""}}class Uze extends Kt{constructor(){super(...arguments),this.setActionType=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t.target.value}})}}get options(){return pI}get actionType(){const t=this.parent.m.hyper?.target||"";return pI.some(([n])=>n===t)?t:pI[0][0]}}class Hze extends Kt{constructor(){super(...arguments),this.setCommandName=t=>{const{m:n}=this.parent;n.hyper&&n.set({hyper:{...n.hyper,target:t}})}}get commandName(){return this.parent.m.hyper?.target||""}}class Gze extends Kt{constructor(){super(...arguments),this.setMode=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.set({hyper:null}):n.set({hyper:{...n.hyper,mode:r,target:""}})},this.setParams=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,params:t}})},this.setReceiver=t=>{const{m:n}=this;n.hyper&&n.set({hyper:{...n.hyper,object:t}})},this.setDisabled=(t,n)=>{const{m:r}=this;r.hyper&&r.set({hyper:{...r.hyper,disabled:n}})}}get modeOptions(){return Vze}get mode(){const{hyper:t}=this.m;return!t||t.mode<ny||t.mode>ry?-1:t.mode}get params(){return this.m.hyper?.params||""}get receiver(){return this.m.hyper?.object||""}get disabled(){return this.m.hyper?.disabled||!1}}const Wze={unit:"%",x:0,y:0,width:100,height:100};class Kze extends Kt{constructor(){super(...arguments),this.onChange=(t,{x:n,y:r,width:i,height:o})=>{const{m:s}=this.parent;if((i||o)&&(n||r||i<100||o<100)){const{image:l}=s;s.scene.pendNextEdit(),s.setArea({x:Math.round(n*.01*l.width),y:Math.round(r*.01*l.height),w:Math.max(Math.round(i*.01*l.width),1),h:Math.max(Math.round(o*.01*l.height),1)})}else s.setArea(null)},this.onDragEnd=t=>{this.parent.m.scene.pushPendingEdit()}}get crop(){const{area:t,image:n}=this.parent.m;return t?{unit:"%",x:t.x/n.width*100,y:t.y/n.height*100,width:t.w/n.width*100,height:t.h/n.height*100}:Wze}get imageInfo(){const{area:t,image:n}=this.parent.m;return"Crop: "+(t?`${t.x}, ${t.y}, ${t.w}x${t.h}`:"нет")+` [${n.width}x${n.height}]`}get imageSrc(){return Ls(this.parent.m.image.src)}}class qze extends Kt{get kind(){return this.m.pad?"Площадка":"Картинка"}get isPad(){return!!this.m.pad}get schemaValuesModel(){const t=this.m.pad?.schema;return t&&!t.isFake?t:null}}class Yze extends Kt{constructor(){super(...arguments),this.setValue=t=>this.m.setValue(t)}get kind(){switch(this.m.inputType){case"Edit":return"Элемент ввода";case"Button":return"Кнопка";case"ComboBox":return"ComboBox";case"ListBox":return"Выпадающий список"}}get value(){return this.m.value}}class j4 extends Kt{constructor(){super(),this.editMode=!1,this.editValue="",this.onChange=t=>this._onChange(t.target.value),this.onInputChange=(t,n,r)=>{this._onChange(n)},this.onFormBlur=()=>{this.editMode&&(this.editMode=!1,this.props.onChange(this.editValue,!0))},this.onFormKeyDown=t=>{t.code==="Escape"&&(t.preventDefault(),t.stopPropagation(),this.editMode=!1,t.target.blur())},Ot(this,{editMode:Be.ref,editValue:Be.ref,onFormBlur:Ee,_onChange:Ee,onFormKeyDown:Ee,onChange:!1,onInputChange:!1})}onViewUnmounted(){this.onFormBlur()}get value(){if(this.editMode)return this.editValue;const{value:t}=this.props;return typeof t=="function"?t():t}get error(){return!!this.props.required&&!this.value}_onChange(t){this.editMode=!0,this.editValue=t,this.props.immediate&&this.props.onChange(t,!1)}}const Xze={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};function Zze(e){return e.toLocaleString("ru",Xze)}class Qze extends Kt{constructor(){super(...arguments),this.setKlassName=t=>this.klass.rename(t),this.setForceUseIcon=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,prior:n?"icon":"image"}})},this.setCanChangeSize=(t,n)=>{const{klass:r}=this;r.set({image:{...r.image,resizable:n}})}}get klass(){return this.parent.m.klass}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get date(){return Zze(this.klass.date)}get isPropsChangeDisabled(){return this.klass.isReadonly}get klassName(){return this.klass.name}get forceUseIcon(){return this.klass.image?.prior==="icon"}get canChangeSize(){return this.klass.image?.resizable||!1}}class Jze extends Kt{constructor(t){super(),this.ctx=t,this.onChange=(l,c)=>{this.crop=c},this.onDragEnd=l=>{const{crop:c,iconImage:u,m:h}=this,p=Math.round(c.x/100*u.width/32)*32,g=Math.round(c.y/100*u.height/32)*32;this.crop={unit:"%",x:p/u.width*100,y:g/u.height*100,width:32/u.width*100,height:32/u.height*100};const m=A9(u,p,g),y={atlas:h.image?.icon?.atlas,index:m};h.set({image:{...h.image,icon:y}})};const r=this.m.icon,i=r.atlas&&Xp(r.atlas)||nC,{x:o,y:s}=iC(i,r.index||0);this.imageSrc=Ls(i.src),this.iconImage=i,this.crop={unit:"%",x:o/i.width*100,y:s/i.height*100,width:32/i.width*100,height:32/i.height*100},Ot(this,{crop:Be.ref,onChange:Ee,onDragEnd:Ee})}get disabled(){return this.m.isReadonly}get iconAtlas(){return this.iconImage.src}}const eUe=0,tUe=1,nUe=2,rUe=3,iUe=4,oUe=5,sUe=0,aUe=1,V4=3,$4=9,lUe=10,cUe=[[-1,"Отсутствует"],[eUe,"Сплошная"],[tUe,"- - -"],[nUe,". . ."],[rUe,"- . - ."],[iUe,"- . ."],[oUe,"Прозрачная"]],uUe=[[-1,"Отсутствует"],[sUe,"Сплошной цвет"],[V4,"Паттерн"],[aUe,"Прозрачная"]];class dUe extends Kt{constructor(){super(...arguments),this.setAngle=t=>{const{arrow:n}=this;if(!n)return;const r=Kp(parseInt(t));isNaN(r)||r<0||this.m.setArrows({[this.props.arrow]:{...n,angle:r}})},this.setLength=t=>{const{arrow:n}=this;if(!n)return;const r=parseInt(t);isNaN(r)||r<1||this.m.setArrows({[this.props.arrow]:{...n,length:r}})},this.setFill=(t,n)=>{const{arrow:r}=this;r&&this.m.setArrows({[this.props.arrow]:{...r,fill:n}})},this.onRemoveButtonClick=()=>this.m.setArrows({[this.props.arrow]:null})}get arrow(){return this.m[this.props.arrow]}get angle(){return Ad(V0(this.arrow?.angle||0))}get length(){return(this.arrow?.length||0).toString()}get fill(){return this.arrow?.fill||!1}}class hUe extends Kt{constructor(){super(...arguments),this.getColor=()=>oC(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:sC(t)}),n&&r.scene.pushPendingEdit()},this.setWidth=t=>{const n=parseInt(t);isNaN(n)||n<0||this.m.set({width:n})}}get width(){return this.m.width.toString()}}class fUe extends Kt{constructor(){super(),this.inputRef=_.createRef(),this.dashed=!1,this.onClick=()=>this.inputRef.current?.click(),this.onDragOver=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)},this.onDragEnter=t=>{t.stopPropagation(),t.preventDefault(),this.tryAccept(t.dataTransfer)&&(this.dashed=!0)},this.onDragLeave=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1},this.onDrop=t=>{t.stopPropagation(),t.preventDefault(),this.dashed=!1;const n=this.m.scene.fileContentTransfer?.pop(t.dataTransfer);n?.image?this.m.setImage(n.image):this.addFromFileList(t.dataTransfer.files)},this.onChange=({currentTarget:{files:t}})=>t&&this.addFromFileList(t),Ot(this,{dashed:Be.ref,onClick:!1,onDragOver:!1,onDragEnter:Ee,onDragLeave:Ee,onDrop:Ee,onChange:!1,addFromFileList:Ii})}get image(){return this.m.image}tryAccept(t){return this.m.scene.fileContentTransfer?.get(t)?.image?(t.dropEffect="link",!0):t.items.length&&t.items[0].type.startsWith("image/")?(t.dropEffect="copy",!0):(t.dropEffect="none",!1)}*addFromFileList(t){const n=t.item(0);if(!n||!n.type.startsWith("image/"))return;const{fileUploader:r}=this.m.scene;if(!r)return;const i=yield r.upload([n]),o=i.length&&i[0].data.image;o&&this.m.setImage(o)}}class pUe extends Kt{constructor(){super(...arguments),this.getColor=()=>oC(this.m.color),this.setColor=(t,n)=>{const{m:r}=this;r.scene.pendNextEdit(),r.set({color:sC(t)}),n&&r.scene.pushPendingEdit()},this.setMix=(t,n)=>this.m.set({rop:n?$4:0})}get isPattern(){return this.m.style===V4}get mix(){const{rop:t}=this.m;return t===$4||t===lUe}}class gUe extends Kt{constructor(){super(...arguments),this.onPointsModeChange=(t,n)=>{this.m.setPointsEditMode(n==="points")},this.setPenVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removePen():n.pen?n.pen.set({style:r}):n.createPen({style:r})},this.setBrushVariant=t=>{const{m:n}=this,r=parseInt(t.target.value);r<0?n.removeBrush():n.brush?n.brush.set({style:r}):n.createBrush({style:r})},this.onAddStartArrowButtonClick=()=>this.m.setArrows({start:{angle:Kp(45),length:10,fill:!1}}),this.onAddEndArrowButtonClick=()=>this.m.setArrows({end:{angle:Kp(45),length:10,fill:!1}})}get kind(){return this.m.connection?"Связь":"Полилиния"}get mode(){return this.m.isPointsEditModeActive?"points":"props"}get sceneConnection(){return this.m.connection}get schemaConnection(){return this.m.connection?.schemaConnection||null}get canAddPen(){return!this.m.connection}get canAddBrush(){return!this.m.connection}get pen(){return this.m.pen}get brush(){return this.m.connection?null:this.m.brush}get hasStartArrow(){return!!this.m.start}get hasEndArrow(){return!!this.m.end}get penVariantOptions(){return cUe}get penVariant(){const{pen:t}=this.m;return t?t.style:-1}get brushVariantOptions(){return uUe}get brushVariant(){const{brush:t}=this.m;return t?t.style:-1}}const mUe=[{field:"x",headerName:"X",type:"number",editable:!0,flex:1},{field:"y",headerName:"Y",type:"number",editable:!0,flex:1}];class vUe extends Kt{constructor(){super(),this.processRowUpdate=(t,n)=>{const r=parseInt(t.x);if(isNaN(r))return n;const i=parseInt(t.y);if(isNaN(i))return n;const o=t.id;return this.m.setPoint(o,r,i),t},Ot(this,{processRowUpdate:Ee})}get columns(){return mUe}get rows(){return this.m.points.map(({x:t,y:n},r)=>({id:r,x:t,y:n}))}}class yUe extends Kt{constructor(){super(...arguments),this.onCreateGroupButtonClick=()=>this.m.createGroup(),this.onCreateConnectionButtonClick=()=>this.m.createConnection()}get selectionLength(){return this.m.objects.length}get showCreateGroupButton(){return this.m.canCreateGroup}get showCreateConnectionButton(){return this.m.canCreateConnection}}class bUe extends Kt{get klassPropsButtonModel(){return this.parent.hasSchema?this.parent.klass:null}get klassCodeButtonModel(){const{klass:t}=this.parent;return t&&(!t.isReadonly||t.hasCode)?t:null}get schemaValuesModel(){const{schema:t}=this.parent;return t?.isFake?null:t}}function wUe(e){const{value:t}=e;if(t===null)return null;const n=e.row.computedValueKind,r=n==="own"?"blue":n==="overwritten"?"green":n==="classSpecial"?"orange":void 0;let i="";return t!==null&&(i=n==="own"?"Значение установлено пользователем":n==="overwritten"?"Значение перезаписано другой переменной":n==="alien"?"Значение установлено другой переменной":n==="classSpecial"?"Используется свойство объекта":"Используется значение по умолчанию"),C.jsx("div",{title:i,style:{color:r,whiteSpace:"pre"},children:t})}function SUe(e,t){if(!e)return null;if(t===kt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==kt.STRING&&(e=e.trim()),e||null}class CUe extends Kt{constructor(t){super(),this.ctx=t,this.processRowUpdate=(n,r)=>{const{m:i}=this,o=SUe(n.value,n.type);if(o===r.value)return r;const s=i.vars.list.find(l=>l._reactKey===n.id);return s?.setOwnValue(o)?(i.applyChanges(),{...n,value:s.computedValue,computedValueKind:s.computedValueKind}):r},this.columns=[{field:"markButton",width:24,minWidth:24,resizable:!1,sortable:!1,filterable:!1,headerName:"",cellClassName:"mark-button-cell",renderCell:n=>_.createElement(Xl,{onChange:this.updateRow.bind(this,n.row)})},{field:"name",headerName:"Переменная",flex:1,renderCell:n=>{const{description:r,defaultValue:i,type:o}=n.row;let s=`Тип: ${kt[o]}`;return r&&(s+=`
Описание: ${r}`),i&&(s+=`
По умолчанию: '${i}'`),_.createElement("div",{title:s},n.value)}},{field:"value",headerName:"Значение",editable:!0,flex:1,renderCell:n=>_.createElement(wUe,n)}],Ot(this,{processRowUpdate:Ee,updateRow:Ee})}updateRow(t,n,r){const{m:i}=this,o=i.vars.list.find(l=>l._reactKey===t.id);if(!o)return;const{project:s}=this.ctx;r?s.addMarkedVar(o):s.removeMarkedVar(o)}get rows(){return this.m.vars.list.map(t=>({id:t._reactKey,name:t.name,type:t.type,value:t.computedValue,computedValueKind:t.computedValueKind,description:t.description,defaultValue:t.defaultValue}))}}class xUe extends Kt{constructor(){super(...arguments),this.onOpenTextEditorButtonClick=()=>this.m.scene.openTextEditor(this.m)}get kind(){return"Текст"}}class _Ue extends Kt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassProps(this.m)}get title(){return this.m.name}}class EUe extends Kt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openSchema(this.m)}get hasScene(){return this.m.klass.hasScene}}class TUe extends Kt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.openKlassCode(this.m)}get hasCode(){return this.m.hasCode||!1}}class MUe extends Kt{constructor(){super(...arguments),this.onClick=()=>this.m.delete()}}class OUe extends Kt{constructor(){super(...arguments),this.onMoveToBottomButtonClick=()=>this.m.moveToBottom(),this.onDecreaseZButtonClick=()=>this.m.decreaseZ(),this.onIncreaseZButtonClick=()=>this.m.increaseZ(),this.onMoveToTopButtonClick=()=>this.m.moveToTop()}get value(){return this.m.z.toString()}}let z4=0;class RUe extends Kt{constructor(t){super(),this.ctx=t,this.ref=_.createRef(),this.onFontStylesChange=(n,r)=>{this.m.set({fontDecorations:r})},this.onFontSizeChange=n=>{this.m.set({fontSize:n})},this.onColorChange=n=>{this.m.set({fontColor:n})},this.onFontChange=n=>{this.m.set({fontName:n.target.value})},this.onEditorChange=n=>{if(this.ref.current?.editor===document.activeElement){{const r=n.getLastChangeType();(r==="remove-range"||r==="delete-character")&&++z4}this.m.setState(n)}},this.handleKeyCommand=(n,r,i)=>{const{m:o}=this,s=ma.RichUtils.handleKeyCommand(o.state,n);return s?(o.setState(s),"handled"):n==="strikethrough"?(o.setState(ma.RichUtils.toggleInlineStyle(o.state,"STRIKETHROUGH")),"handled"):n==="font-up"?(this.m.set({fontSize:(Math.max(parseInt(o.fontSize)||1,0)+1).toString()}),"handled"):n==="font-down"?(this.m.set({fontSize:(Math.max(parseInt(o.fontSize)||1,2)-1).toString()}),"handled"):n==="apply"?(o.applyAndClose(),"handled"):n==="cancel"?(o.close(),"handled"):"not-handled"},this.customStyleFn=(n,r)=>{const i={whiteSpace:"pre"};return n.forEach(o=>{if(!o)return;const s=o.split("_");s.length<2||(i[s[0]]=s[1])}),i},this.keyBindingFn=n=>n.code==="Escape"?(n.preventDefault(),"cancel"):n.ctrlKey&&n.key==="Enter"?(n.preventDefault(),"apply"):n.ctrlKey&&n.key==="ArrowUp"?(n.preventDefault(),"font-up"):n.ctrlKey&&n.key==="ArrowDown"?(n.preventDefault(),"font-down"):n.ctrlKey&&n.code==="KeyS"?(n.preventDefault(),"strikethrough"):ma.getDefaultKeyBinding(n),this.onApplyButtonClick=n=>{this.m.applyAndClose()},this.onCancelButtonClick=n=>{this.m.close()}}onViewMounted(){this.ref.current?.focus()}get dialogOpen(){return!this.m.isClosed}get randomKey(){return z4.toString()}get availableFonts(){return tg}get editorState(){return this.m.state}get fontStyles(){return this.m.fontDecorations}get fontSizeValue(){return this.m.fontSize}get colorValue(){return this.m.fontColor}get fontValue(){return this.m.fontName}}class IUe extends Kt{constructor(){super(),this.viewMountRef=_.createRef(),Ot(this,{hasSchema:yi})}onViewMountedSync(){const{scene:t}=this.m;this.viewMountRef.current?.appendChild(t.view),t.onViewMounted()}onViewUnmountedSync(){const{scene:t}=this.m;t.view.remove(),t.onViewUnmounted()}get textEditor(){return this.m.scene.textEditor}get selectedObject(){return this.m.scene.selection?.object||null}get selection(){return this.m.scene.selection}get klass(){const{m:t}=this;return t.type!=="fileSceneEditor"?t.klass:null}get schema(){return this.m.scene.schema}get hasSchema(){return!!this.schema}}function sv({options:e,...t}){return C.jsx(Ew,{fullWidth:!0,children:C.jsx(Zl,{select:!0,size:"small",...t,children:e.map(([n,r])=>C.jsx(xs,{value:n,children:r},n))})})}function Xs({label:e,...t}){return C.jsx(kc,{control:C.jsx(Xl,{...t}),label:e,sx:{mr:0}})}const kUe=po()(({vm:e,...t})=>C.jsx(Zl,{error:e.error,value:e.value,...t})),qi=Wt(j4)(({vm:e,value:t,onChange:n,immediate:r,...i})=>C.jsx(vPe,{onSubmit:k2,onKeyDown:e.onFormKeyDown,onBlur:e.onFormBlur,autoComplete:"off",children:C.jsx(kUe,{onChange:e.onChange,fullWidth:!0,size:"small",slotProps:{htmlInput:{step:"any"}},...i})})),PUe=Wt(j4)(({vm:e,options:t,value:n,onChange:r,immediate:i,...o})=>C.jsx(Bz,{inputValue:e.value,onInputChange:e.onInputChange,onBlur:e.onFormBlur,renderInput:s=>C.jsx(Zl,{...s,error:e.error,...o}),options:t,size:"small",freeSolo:!0,blurOnSelect:!0,sx:{flexGrow:1}})),DUe={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${Fz.root}`]:{width:32,height:32,ml:-.5,mr:1}},AUe=Wt(uPe)(({vm:e})=>C.jsxs(Ow,{anchorEl:e.anchorEl,open:e.parent.optionsMenuOpen,onClose:e.parent.onOptionsMenuClose,transformOrigin:{horizontal:"left",vertical:"bottom"},anchorOrigin:{horizontal:"left",vertical:"top"},slotProps:{paper:{elevation:0,sx:DUe}},children:[C.jsx(xs,{disableRipple:!0,children:C.jsx(kc,{control:C.jsx(Xs,{checked:e.popup,onChange:e.setPopup}),label:"Всплывающее окно"})}),C.jsx(xs,{disableRipple:!0,children:C.jsx(kc,{control:C.jsx(Xs,{checked:e.fixed,onChange:e.setFixed}),label:"Нельзя изменять размер мышкой"})}),C.jsx(xs,{disableRipple:!0,children:C.jsx(kc,{control:C.jsx(Xs,{checked:e.vscroll,onChange:e.setVScroll}),label:"Показывать вертикальный scroll"})}),C.jsx(xs,{disableRipple:!0,children:C.jsx(kc,{control:C.jsx(Xs,{checked:e.hscroll,onChange:e.setHScroll}),label:"Показывать горизонтальный scroll"})}),C.jsx(xs,{disableRipple:!0,children:C.jsx(kc,{control:C.jsx(Xs,{checked:e.autoorg,onChange:e.seAutoOrg}),label:"Граница по крайнему объекту"})}),C.jsx(xs,{disableRipple:!0,children:C.jsx(kc,{control:C.jsx(Xs,{checked:e.autoScroll,onChange:e.seAutoScroll}),label:"Автоматически пересчитывать область прокрутки"})})]})),LUe=po()(({vm:e})=>C.jsxs(C.Fragment,{children:["x:",e.statusCursorX,", y:",e.statusCursorY,", zoom:",e.zoom,"%"]})),NUe=Wt(aPe)(({vm:e})=>{const{showSchemaButtons:t}=e;return C.jsxs(C.Fragment,{children:[C.jsx(AUe,{}),C.jsx(Qn,{title:"Отменить (Ctrl+Z)",placement:"top",children:C.jsx(Wi,{component:"span",display:"flex",children:C.jsx(Fn,{onClick:e.onUndoButtonClick,disabled:e.undoButtonDisabled,size:"small",children:C.jsx(oIe,{})})})}),C.jsx(Qn,{title:"Повторить (Ctrl+Shift+Z)",placement:"top",children:C.jsx(Wi,{component:"span",display:"flex",children:C.jsx(Fn,{onClick:e.onRedoButtonClick,disabled:e.redoButtonDisabled,size:"small",children:C.jsx(ZRe,{})})})}),C.jsx(Qn,{title:"Создать линию (L)",placement:"top",children:C.jsx(Fn,{onClick:e.onCreateLineButtonClick,size:"small",sx:{ml:2},children:C.jsx(YRe,{})})}),C.jsx(Qn,{title:"Создать прямоугольник (Q)",placement:"top",children:C.jsx(Fn,{onClick:e.onCreateRectButtonClick,size:"small",children:C.jsx(XRe,{})})}),C.jsx(Qn,{title:"Создать текст (T)",placement:"top",children:C.jsx(Fn,{onClick:e.onCreateTextButtonClick,size:"small",children:C.jsx(aRe,{})})}),C.jsx(Qn,{title:"Создать элемент ввода (I)",placement:"top",children:C.jsx(Fn,{onClick:e.onCreateInputButtonClick,size:"small",children:C.jsx(LRe,{})})}),C.jsx(Qn,{title:"Создать кнопку (B)",placement:"top",children:C.jsx(Fn,{onClick:e.onCreateButtonButtonClick,size:"small",children:C.jsx(dRe,{})})}),t&&C.jsx(Qn,{title:"Создать связь (C)",placement:"top",children:C.jsx(Fn,{onClick:e.onCreateConnectionButtonClick,size:"small",children:C.jsx(uRe,{})})}),t&&C.jsx(Qn,{title:"Изменить порядок имиджей (R)",placement:"top",children:C.jsx(Fn,{onClick:e.onReorderButtonClick,color:e.reorderButtonActive?"error":"default",size:"small",sx:{ml:2},children:C.jsx(RRe,{})})}),e.showSceneOptionsButton&&C.jsx(Qn,{title:"Свойства окна сцены",placement:"top",children:C.jsx(Fn,{onClick:e.onSceneOptionsButtonClick,ref:e.propsButtonRef,size:"small",sx:{ml:2},children:C.jsx(lIe,{})})}),C.jsx(Qn,{title:"Предыдущий объект (Shift+Tab)",placement:"top",children:C.jsx(Fn,{onClick:e.onSelectPrevObjectButtonClick,size:"small",sx:{ml:2},children:C.jsx($Re,{})})}),C.jsx(Qn,{title:"Следующий объект (Tab)",placement:"top",children:C.jsx(Fn,{onClick:e.onSelectNextObjectButtonClick,size:"small",children:C.jsx(zRe,{})})}),t&&C.jsxs(C.Fragment,{children:[C.jsx(Qn,{title:`${e.showClassesCheckboxChecked?"Скрыть":"Показать"} имиджи (1)`,placement:"top",children:C.jsx(Xl,{checked:e.showClassesCheckboxChecked,onChange:e.onHideClassesCheckboxChange,checkedIcon:C.jsx(Aw,{sx:{color:"yellowgreen"}}),icon:C.jsx(eIe,{}),sx:{ml:2}})}),C.jsx(Qn,{title:`${e.showConnectionsCheckboxChecked?"Скрыть":"Показать"} связи (2)`,placement:"top",children:C.jsx(Xl,{checked:e.showConnectionsCheckboxChecked,onChange:e.onShowConnectionsCheckboxChange,checkedIcon:C.jsx(DRe,{sx:{color:"red"}}),icon:C.jsx(ARe,{})})}),C.jsx(Qn,{title:`${e.showOtherCheckboxChecked?"Скрыть":"Показать"} остальные объекты (3)`,placement:"top",children:C.jsx(Xl,{checked:e.showOtherCheckboxChecked,onChange:e.onShowOtherCheckboxChange,checkedIcon:C.jsx(mRe,{}),icon:C.jsx(vRe,{})})})]}),C.jsx(Qn,{title:`${e.selectUnselectableCheckboxChecked?"Отключить":"Включить"} выбор невыбираемых объектов (4)`,placement:"top",children:C.jsx(Xl,{checked:e.selectUnselectableCheckboxChecked,onChange:e.onSelectUnselectableCheckboxChange,checkedIcon:C.jsx(SRe,{sx:{color:"red"}}),icon:C.jsx(CRe,{})})}),C.jsx(Wi,{ml:"auto",children:C.jsx(LUe,{})}),C.jsx(Fn,{onClick:e.onResetZoomButtonClick,disabled:e.resetZoomButtonDisabled,size:"small",children:C.jsx(QRe,{})})]})}),BUe=Wt(lPe)(({vm:e})=>C.jsx(Wi,{ml:"auto",children:e.cursorPosition})),FUe=Wt(cPe)(({vm:e})=>{const{currentEditor:t}=e;return C.jsxs(Io,{display:"flex",flexGrow:0,height:25,fontSize:15,textAlign:"end",px:2,whiteSpace:"nowrap",sx:{userSelect:"none"},children:[e.showSaveButton&&C.jsx(Qn,{title:"Сохранить (Ctrl+S)",placement:"top",children:C.jsx(Fn,{onClick:e.onSaveButtonClick,disabled:e.saveButtonDisabled,size:"small",children:C.jsx(JRe,{})})}),t&&H3(t)&&C.jsx(NUe,{m:t}),t&&ive(t)&&C.jsx(BUe,{m:t})]})});class jUe extends Kt{constructor(){super(),this.dashed=!1,this.onMouseDownCapture=t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},this.onPointerDown=t=>{switch(t.button){case 0:t.stopPropagation(),this.makeActive();return;case 1:t.preventDefault(),this.onCloseButtonClick();return}},this.onCloseButtonPointerDown=t=>{t.stopPropagation()},this.onDragStart=t=>{this.tabTransfer.put(t.dataTransfer,this,"move")},this.onDragOver=t=>{t.preventDefault();const n=t.dataTransfer;n.dropEffect=this.tabTransfer.canDrop(t.dataTransfer)?"move":"none"},this.onDragEnter=t=>{if(this.onDragOver(t),t.dataTransfer.dropEffect!=="none"){this.dashed=!0;return}this.isActive||this.makeActive()},this.onDragLeave=t=>{t.preventDefault(),t.currentTarget.contains(t.relatedTarget)||(this.dashed=!1)},this.onDrop=t=>{t.preventDefault();const n=this.tabTransfer.pop(t.dataTransfer);n&&(this.dashed=!1,this!==n&&this.parent._swapTabs(this.m,n.m))},this.onCloseButtonClick=t=>{this.m.close()},Ot(this,{dashed:Be.ref,isActive:yi,onPointerDown:Ee,onDragEnter:Ee,onDragLeave:Ee,onDrop:Ee})}makeActive(){this.parent._setCurrent(this.m)}get tabTransfer(){return this.parent.tabTransfer}get editor(){return this.m.editor}get value(){return this.m._reactKey}get _reactKey(){return this.m._reactKey}get isActive(){return this.parent.value===this.value}get title(){return this.editor.title}get hasChanges(){return this.editor.hasChanges||!1}get isDeleted(){return this.editor.isDeleted}get isReadonly(){return this.editor.isReadonly}}class VUe extends Kt{constructor(){super(...arguments),this.tabTransfer=new hM("tabs")}get tabs(){return this.m.tabs}get value(){return this.m.currentTab?._reactKey||!1}_setCurrent(t){this.m.setCurrentTab(t)}_swapTabs(t,n){const r=this.m.tabs.slice(),i=r.indexOf(t),o=r.indexOf(n);r.splice(o,1),r.splice(i,0,n),this.m.reorderTabs(r)}}const $Ue=Te(FU)({maxWidth:"1rem"}),zUe=Te(Dw)({maxWidth:"1rem"}),UUe=Te(Wi,{shouldForwardProp:e=>e!=="isDeleted"})(({isDeleted:e})=>({...e&&{textDecoration:"line-through",color:"red"}})),HUe=po()(({vm:e})=>{const{title:t,hasChanges:n,isDeleted:r,isReadonly:i}=e,o=`${t}${i&&!r?" (READONLY)":""}`;return C.jsxs(UUe,{variant:"caption",fontSize:"0.8rem",isDeleted:r,children:[o,C.jsx(Qn,{title:"Закрыть (Alt+W, Shift+W)",children:C.jsx(Fn,{onClick:e.onCloseButtonClick,onPointerDown:e.onCloseButtonPointerDown,component:"div",size:"small",children:n?C.jsx($Ue,{}):C.jsx(zUe,{})})})]})}),gI=35,GUe=Te(ZO,{shouldForwardProp:e=>e!=="dashed"&&e!=="isActive"})(({dashed:e,isActive:t})=>({maxHeight:gI,minHeight:gI,textTransform:"none",...e&&{border:"1px dashed black"},...t&&{background:"rgb(219 217 217)"}})),U4=Wt(jUe)(({vm:e})=>C.jsx(GUe,{label:C.jsx(HUe,{}),draggable:!0,disableRipple:!0,dashed:e.dashed,isActive:e.isActive,onPointerDown:e.onPointerDown,onDragStart:e.onDragStart,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop}));U4.muiName="Tab";const WUe=Te(IU,{name:"ETabsView"})({minHeight:gI,[`& .${_m.indicator}`]:{transition:"none"},[`& .${_m.scrollButtons}.${TU.disabled}`]:{opacity:.3}}),KUe=Wt(VUe)(({vm:e})=>C.jsx(WUe,{variant:"scrollable",value:e.value,children:e.tabs.map(t=>C.jsx(U4,{value:t._reactKey,m:t},t._reactKey))})),qUe=Te("div",{name:"LeftPanelToolbar"})({boxSizing:"border-box",width:"100%",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center",[`& .${nz.root}`]:{padding:6}}),YUe=Te(Cs,{name:"MainMenuButton"})({display:"block",margin:4,padding:2,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis",flexShrink:0});class XUe extends Kt{constructor(t){super(),this.ctx=t,this.onClick=()=>this.ctx.project.onCollapseFilesButtonClick.dispatch()}}const ZUe=Wt(XUe)(({vm:e})=>C.jsx(Qn,{title:"Свернуть список файлов",children:C.jsx(Fn,{onClick:e.onClick,children:C.jsx(sIe,{})})}));class QUe extends Kt{constructor(){super(...arguments),this.onClick=()=>{if(this.m.player){this.m.player.maximize();return}this.m.openPlayer()}}get isPlaying(){return!!this.m.player}}const JUe=Wt(QUe)(({vm:e})=>{const{isPlaying:t}=e;return C.jsx(Qn,{title:`${t?"Развернуть проигрыватель":"Запустить проект"} (Ctrl+R)`,children:C.jsx(Fn,{onClick:e.onClick,color:t?"error":"default",children:C.jsx(qRe,{})})})}),H4=new WeakMap,G4=new Map;function e5e(e){const t=new g3(e),n=hy(t.objects.values()),r=Math.abs(n.w-n.h)>50?Math.min(n.w,n.h):void 0,i={...n,w:r||n.w,h:r||n.h};return t.toSVG(i,!0)}function t5e(e,t){const n=Xp(e)||nC,{x:r,y:i}=iC(n,t),o=`${r} ${i} 32 32`;return{src:Ls(n.src),viewBox:o}}const n5e=Te("svg")({maxWidth:20,maxHeight:20,flexShrink:0,pointerEvents:"none",userSelect:"none"});function W4(e){return C.jsx(n5e,{width:32,height:32,viewBox:"0 0 32 32",preserveAspectRatio:"xMidYMid slice",...e})}function OS({sceneData:e}){let t=H4.get(e);return t||(t=e5e(e),H4.set(e,t)),C.jsx(W4,{ref:n=>n?.replaceChildren(t.cloneNode(!0))})}function mI({icon:{atlas:e="",index:t=0}}){const n=e+t;let r=G4.get(n);return r||(r=t5e(e,t),G4.set(n,r)),C.jsx(W4,{viewBox:r.viewBox,children:C.jsx("image",{href:r.src})})}const K4=Te(cRe)({opacity:.8}),q4=Te(PRe)({opacity:.8}),Y4=Te(dR,{name:"SchemaTreeView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${Dc.content}`]:{padding:"0px 2px",margin:e.spacing(.2,0),[`& .${Dc.label}`]:e.typography.body2},[`& .${Dc.groupTransition}`]:{marginLeft:15,borderLeft:"1px dashed rgba(0, 0, 0, 0.4)"},[`& .${Dc.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class r5e extends Kt{constructor(t){super(),this.ctx=t,this.onDoubleClick=n=>{n.stopPropagation(),this.ctx.project.focusOnNode(this.m,!0)},Ot(this,{canExpand:yi,onDoubleClick:!1})}get image(){return this.m.klass.imageData}get icon(){return this.m.klass.icon}get canExpand(){return this.m.children.list.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children.list}}class i5e extends Kt{constructor(t){super(),this.ctx=t,this.selectedItem=null,this.apiRef=_.createRef(),this.onNodeSelectedOnScene=n=>{const r=n.itemId,i=this.getItemById(r);if(!i)return;const o=new Set(this.expandedItems);let s=i;for(;s.parent;)o.add(s.parent.itemId),s=s.parent;this.selectedItem=r,this.expandedItems=Array.from(o);const l=document.activeElement;this.apiRef.current?.focusItem(null,n.itemId),l instanceof HTMLElement&&l.focus()},this.onExpandedItemsChange=(n,r)=>{if(n?.type==="keydown"&&n.key==="Enter"){const{expandedItems:i}=this;let o;r.length>i.length?o=r.find(s=>!i.includes(s)):o=i.find(s=>!r.includes(s)),o&&this.onSelectedItemChange(n,o);return}this.expandedItems=r},this.onSelectedItemChange=(n,r)=>{if(this.selectedItem=r,!r)return;const i=this.getItemById(r);i&&this.ctx.project.focusOnNode(i)},this.onDescendantsDeleted=n=>{const r=new Set(SP(n,i=>i.itemId));this.expandedItems=this.expandedItems.filter(i=>!r.has(i))},this.expandedItems=[this.m.itemId],Ot(this,{expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:Ee,onSelectedItemChange:Ee})}onViewMountedSync(){this.m.onDescendantsDeleted.add(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.add(this.onNodeSelectedOnScene)}onViewUnmountedSync(){this.m.onDescendantsDeleted.remove(this.onDescendantsDeleted),this.ctx.project.onNodeSelected.remove(this.onNodeSelectedOnScene)}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const i of r.children.list){const o=n(i);if(o)return o}return null})(this.m)}}const o5e=Wt(i5e)(({vm:e,m:t,hidden:n})=>C.jsx(Y4,{hidden:n,apiRef:e.apiRef,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:K4,collapseIcon:q4},onContextMenu:kb,children:C.jsx(X4,{m:t})})),X4=Wt(r5e)(({vm:e})=>{const{image:t}=e;return C.jsx(Nu,{itemId:e.itemId,label:C.jsxs(C.Fragment,{children:[t?C.jsx(OS,{sceneData:t}):C.jsx(mI,{icon:e.icon}),e.label]}),onDoubleClick:e.onDoubleClick,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&C.jsx(s5e,{})})}),s5e=po()(({vm:e})=>e.children.map(t=>C.jsx(X4,{m:t},t.itemId)));class a5e extends Kt{constructor(){super(...arguments),this.onClick=()=>this.m.sync()}get isSyncing(){return this.m.isSyncing}get changesList(){return this.m.changesList}}const l5e={bgcolor:Vl[500],"&:hover":{bgcolor:Vl[700]}},c5e={bgcolor:_u[700],"&:hover":{bgcolor:_u[800]}},Z4={width:"0.5em",height:"0.5em",color:"white"},u5e={color:Vl[500],position:"absolute",top:-2,left:-2,zIndex:1},d5e=C.jsx(UU,{sx:Z4}),h5e=C.jsx(NU,{sx:Z4});function f5e({title:e}){return C.jsx(Wi,{variant:"caption",whiteSpace:"pre-wrap",children:e})}const p5e=Wt(a5e)(({vm:e})=>{const{isSyncing:t,changesList:n}=e,r=!t&&!n.length,i=t?"Идет синхронизация...":n.length?`Изменения:
`+n.join(`
`):"Все библиотеки синхронизированы";return C.jsxs(Io,{position:"relative",ml:1,children:[C.jsx(Qn,{title:C.jsx(f5e,{title:i}),children:C.jsx(Fn,{onClick:e.onClick,sx:r?l5e:c5e,children:r?h5e:d5e})}),t&&C.jsx(If,{size:32,sx:u5e})]})}),g5e=Te(dR,{name:"EVFSView"})(({theme:e})=>({userSelect:"none",overflowY:"auto",[`& .${Dc.content}`]:{padding:"0px 2px",[`& .${Dc.label}`]:e.typography.body2},[`& .${Dc.groupTransition}`]:{marginLeft:12},[`& .${Dc.label}`]:{textWrap:"nowrap",display:"flex",gap:2}}));class m5e extends Kt{constructor(t){super(),this.selectedItem=null,this.autoCollapsed=!1,this.onExpandedItemsChange=(r,i)=>{this._expandedItems=i,this.autoCollapsed=!1},this.onSelectedItemsChange=(r,i)=>{if(this.selectItem(i),!i)return;const o=this.getItemById(i);if(o?.type!=="file")return;const{project:s}=this.ctx,{klass:l}=o;if(r&&"ctrlKey"in r&&r.ctrlKey){l&&(l.hasCode||!l.isReadonly)&&s.openKlassCode(l);return}if(r&&"shiftKey"in r&&r.shiftKey){l&&(l.hasScene||!l.isReadonly)&&s.openKlassScene(l);return}s.openFile(o)},this.collapse=()=>{this._expandedItems=[],this.autoCollapsed=!1},this.onDescendantsDeleted=r=>{const i=new Set(SP(r,o=>o.itemId));this._expandedItems=this._expandedItems.filter(o=>!i.has(o)),this.autoCollapsed=!1},this.ctx={...t,vfs:this,fileDirTransfer:new hM("fileDir"),_dragStartTimeStamp:0};const{libs:n}=this.m;this._expandedItems=n.length?[n[0].rootDir.itemId]:[],Ot(this,{_expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:Ee,selectItem:Ee,expandItem:Ee,expandAll:Ee,collapse:Ee,onSelectedItemsChange:!1})}onViewMountedSync(){this.ctx.project.onCollapseFilesButtonClick.add(this.collapse),this.m.onDirsRemoved.add(this.onDescendantsDeleted),this.autorun(()=>{this.ctx.project.vfsFilter.text.length>1&&this.expandAll()})}onViewUnmountedSync(){this.ctx.project.onCollapseFilesButtonClick.remove(this.collapse),this.m.onDirsRemoved.remove(this.onDescendantsDeleted)}get expandedItems(){return this.ctx.project.vfsFilter.text.length<2&&this.autoCollapsed?[]:this._expandedItems}get libs(){return this.m.libs}selectItem(t){this.selectedItem=t}expandItem(t){this._expandedItems.includes(t)||(this._expandedItems=this._expandedItems.concat(t),this.autoCollapsed=!1)}expandAll(){const t=[];function n(r){t.push(r.itemId),r.dirs.forEach(n)}this.libs.forEach(r=>n(r.rootDir)),this._expandedItems=t,this.autoCollapsed=!0}getItemById(t){function n(r){if(r.itemId===t)return r;for(const i of r.files)if(i.itemId===t)return i;for(const i of r.dirs){const o=n(i);if(o)return o}return null}for(const r of this.libs){const i=n(r.rootDir);if(i)return i}return null}}function Na(e){return _.createElement(e,{fontSize:"small"})}function Q4(e){return[{title:"Переименовать",icon:Na(FU),action:e.startRenaming},{title:"Удалить",icon:Na(bRe),action:e.deleteWithConfirm}]}function v5e(e){return[{title:"Папка",icon:Na(yRe),action:e.createNewDir},{title:"Имидж",icon:Na(pRe),action:r9(e.createClass)},{title:"Сцена",icon:Na(HU),action:e.createScene},{title:"Матрица",icon:Na($U),action:e.createMatrix},{title:"Текстовый файл",icon:Na(zU),action:e.createTextFile},{title:"Загрузить файлы",icon:Na(aIe),action:e.openUploadDialog}]}function y5e(e,t){const{isSearchDir:n}=e;return{title:n?"Исключить из путей поиска имиджей":"Добавить в пути поиска имиджей",icon:Na(n?nIe:tIe),action:(n?t.removeKlassSearchDir:t.addKlassSearchDir).bind(t,e)}}function J4(e){return{title:"Скопировать относительный путь",icon:Na(_Re),action:n9.bind(null,e)}}function b5e(e,t){const{isReadonly:n,hasScene:r}=e,i=[],o=n?r?"Просмотр схемы":"":r?"Редактировать схему":"Создать схему";o&&i.push({title:o+" (Shift+Click)",icon:Na(Aw),action:t.openKlassScene.bind(t,e)});const s=n?e.hasCode?"Просмотр кода":"":"Редактировать код";return s&&i.push({title:s+" (Ctrl+Click)",icon:Na(BU),action:t.openKlassCode.bind(t,e)}),i}const sp=new WeakSet;class w5e extends Kt{constructor(t){super(),this.ctx=t,this.contentRef=_.createRef(),this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;(!(n.files.length||n.dirs.length)||window.confirm(`Удалить ${n.name}?`))&&n.remove()},this.createNewDir=()=>{const n=Jh(this.m,"Новая папка"),r=this.m.createDir(n);this.expand(),sp.add(r)},this.createClass=()=>{const n=window.prompt("Имя имиджа")?.split(" ").join("");if(!n)return;const{project:r}=this.ctx;try{r.createNewKlass(n,this.m)}catch(i){if(!(i instanceof os))throw i;alert(i.message)}},this.createScene=()=>{const n=Jh(this.m,"scene","vdr"),r=this.m.createFile(n,{scene:s9});this.expand(),sp.add(r)},this.createMatrix=()=>{const n=Jh(this.m,"matrix","mat"),r=this.m.createFile(n,{mat:o9});this.expand(),sp.add(r)},this.createTextFile=()=>{const n=Jh(this.m,"Новый текстовый файл","txt"),r=this.m.createFile(n,{base64:""});this.expand(),sp.add(r)},this.openUploadDialog=()=>{const n=document.createElement("input");n.onchange=()=>this.uploadFiles(n.files),n.type="file",n.multiple=!0,n.accept="image/*, video/*, audio/*, font/*, .cur, .ico",n.click()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,i=n.clientY-6,{m:o}=this,s=[...o.canCreateFiles?v5e(this):[],...o.canEdit?Q4(this):[],...o.canAddToSearchDir?[y5e(o,this.ctx.project)]:[],...o.hasRelativePath?[J4(o)]:[]];s.length&&this.ctx.app.ctxMenu.open(r,i,s)},this.onDragStart=n=>{n.stopPropagation(),this.ctx._dragStartTimeStamp=0;const r=n.dataTransfer;this.ctx.fileDirTransfer.put(r,this.m,"move");const i=this.contentRef.current?.querySelector(`.${Dc.label}`);i&&r.setDragImage(i,0,0)},this.onDragOver=n=>{n.preventDefault(),n.stopPropagation();const r=n.dataTransfer;if(r.dropEffect="none",!this.m.canCreateFiles)return;const i=this.ctx.fileDirTransfer.get(r);if(i){if(i.type==="dir"&&this.m.hasAncestor(i))return;r.dropEffect="move"}else if(r.types.some(s=>s==="Files"))r.dropEffect="copy";else return;this.ctx.vfs.selectItem(this.itemId);const{_dragStartTimeStamp:o}=this.ctx;o?(!this.m.parent||n.timeStamp-o>500)&&(this.expand(),this.ctx._dragStartTimeStamp=1/0):this.ctx._dragStartTimeStamp=n.timeStamp},this.onDragLeave=()=>{this.ctx._dragStartTimeStamp=0},this.onDrop=n=>{n.stopPropagation(),n.preventDefault();const r=n.dataTransfer,i=this.ctx.fileDirTransfer.pop(r);if(i){try{this.m.insertEntry(i)}catch(o){alert(o.message);return}this.ctx.vfs.selectItem(i.itemId)}else this.uploadFiles(r.files);this.expand()},this.isRenaming=sp.delete(this.m),Ot(this,{isRenaming:Be.ref,canExpand:yi,startRenaming:Ee,renameEntry:Ee,createClass:Ee,createMatrix:Ee,createNewDir:Ee,createScene:Ee,createTextFile:Ee,deleteWithConfirm:Ee,uploadFiles:Ii,openUploadDialog:!1,onContextMenu:!1,onDragLeave:!1,onDragOver:!1,onDragStart:!1,onDrop:!1})}get itemId(){return this.m.itemId}get label(){return this.m.name}get draggable(){return!this.isRenaming&&this.m.canEdit}get filteredDirs(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.dirs.filter(n=>t.isDirPassing(n)):this.m.dirs}get filteredFiles(){const{vfsFilter:t}=this.ctx.project;return t.isActive?this.m.files.filter(n=>t.isFilePassing(n)):this.m.files}get canExpand(){return this.filteredFiles.length>0||this.filteredDirs.length>0}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){alert(n.message)}}*uploadFiles(t){if(!t.length)return;const n=this.ctx.project.getFileUploader(this.m.lib);if(!n)return;const r=yield n.upload([...t]);let i=null;for(const o of r){const{base:s,ext:l}=Kq(o.file.name),c=Jh(this.m,s,l);i=this.m.createFile(c,o.data).itemId}i&&this.ctx.vfs.selectItem(i)}expand(){this.ctx.vfs.expandItem(this.itemId)}}class S5e extends Kt{constructor(){super(),this.inputRef=_.createRef(),this.onInputBlur=({target:t})=>{this.parent.renameEntry(t.value)},this.onFormKeyDown=t=>{t.stopPropagation(),t.code==="Escape"&&(t.preventDefault(),this.parent.renameEntry(""))},Ot(this,{onFormKeyDown:Ee,onInputBlur:Ee})}onViewMounted(){const t=this.inputRef.current;if(!t)return;t.focus();const n=t.value.lastIndexOf(".");n>0?t.setSelectionRange(0,n):t.select()}get defaultValue(){return this.parent.m.name}}class C5e extends Kt{constructor(t){super(),this.ctx=t,this.startRenaming=()=>{this.isRenaming=!0},this.deleteWithConfirm=()=>{const{m:n}=this;window.confirm(`Удалить ${n.name}?`)&&n.remove()},this.onContextMenu=n=>{n.preventDefault(),n.stopPropagation();const r=n.clientX+2,i=n.clientY-6,{m:o}=this,{klass:s}=o,l=[...s?b5e(s,this.ctx.project):[],...o.canEdit?Q4(this):[],...o.hasRelativePath?[J4(o)]:[]];l.length&&this.ctx.app.ctxMenu.open(r,i,l)},this.onDragStart=n=>{this.ctx._dragStartTimeStamp=0,n.stopPropagation();const r=n.dataTransfer,{m:i}=this,{canEdit:o}=i;o&&this.ctx.fileDirTransfer.put(r,i,"move"),this.ctx.project.vfsFileTransfer.put(r,i,o?"linkMove":"link")},this.isRenaming=sp.delete(this.m),Ot(this,{isRenaming:Be.ref,startRenaming:Ee,renameEntry:Ee,deleteWithConfirm:Ee,onContextMenu:!1,onDragStart:!1})}get itemId(){return this.m.itemId}get label(){const{klass:t}=this.m;if(!t)return this.m.name;const{vfsFilter:n}=this.ctx.project;return n.type==="klass"?t.name:`${this.m.name} (${t.name})`}get draggable(){return!this.isRenaming}renameEntry(t){if(this.isRenaming=!1,!!t)try{this.m.rename(t)}catch(n){if(!(n instanceof os))throw n;alert(n.message)}}}class x5e extends Kt{constructor(){super(...arguments),this.onSearchFieldChange=t=>{this.m.setText(t.target.value)},this.onMenuItemClick=(t,n)=>{this.m.setType(t)},this.onClose=(t,n)=>{this.props.onClose()}}get searchFieldValue(){return this.m.text}get activeValue(){return this.m.type}get items(){return[{value:"all",title:"Все файлы"},{value:"klass",title:"Имиджи"},{value:"image",title:"Изображения"}]}}const eW=Wt(S5e)(({vm:e})=>C.jsx("form",{onSubmit:k2,onKeyDown:e.onFormKeyDown,children:C.jsx("input",{ref:e.inputRef,defaultValue:e.defaultValue,onBlur:e.onInputBlur})})),_5e=po()(({vm:{m:e}})=>{const{klass:t}=e;if(t){const{imageData:r}=t;return r?C.jsx(OS,{sceneData:r}):C.jsx(mI,{icon:t.icon})}const{scene:n}=e;if(n){const r=n.data.data;return r?.objects?.length?C.jsx(OS,{sceneData:r}):C.jsx(HU,{})}return e.image?C.jsx(Vke,{src:Ls(e.image.src)}):e.binary?e.binary.isTextFile?C.jsx(zU,{}):C.jsx(URe,{}):e.matrix?C.jsx($U,{}):e.stt?C.jsx(UU,{}):e.video?C.jsx(HRe,{}):e.audio?C.jsx(hRe,{}):e.cursor?C.jsx(VRe,{}):e.ttf?C.jsx(TRe,{}):C.jsx(fRe,{})}),E5e=Wt(m5e)(({vm:e,hidden:t})=>C.jsx(mM,{value:e.ctx,children:C.jsx(g5e,{hidden:t,selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemsChange,onExpandedItemsChange:e.onExpandedItemsChange,children:C.jsx(M5e,{})})})),tW=Wt(w5e)(({vm:e})=>C.jsx(Nu,{ref:e.contentRef,itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?C.jsx(eW,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,onDragEnter:e.onDragOver,onDragOver:e.onDragOver,onDragLeave:e.onDragLeave,onDrop:e.onDrop,slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&C.jsxs(C.Fragment,{children:[C.jsx(O5e,{}),C.jsx(R5e,{})]})})),T5e=Wt(C5e)(({vm:e})=>C.jsx(Nu,{itemId:e.itemId,draggable:e.draggable,label:e.isRenaming?C.jsx(eW,{}):e.label,onContextMenu:e.onContextMenu,onDragStart:e.onDragStart,slots:{icon:_5e}})),M5e=po()(({vm:e})=>e.libs.map(({rootDir:t})=>C.jsx(tW,{m:t},t.itemId))),O5e=po()(({vm:e})=>e.filteredDirs.map(t=>C.jsx(tW,{m:t},t.itemId))),R5e=po()(({vm:e})=>e.filteredFiles.map(t=>C.jsx(T5e,{m:t},t.itemId))),I5e="filter-filter-search-field",k5e={overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,[`& .${Fz.root}`]:{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:227,width:15,height:15,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}},P5e=Wt(x5e)(({vm:e,open:t,anchorEl:n})=>{const r=twe();return C.jsxs(Ow,{anchorEl:n,open:t,onClose:e.onClose,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"left",vertical:"bottom"},slotProps:{paper:{elevation:0,sx:k5e}},children:[C.jsx(xs,{onFocus:r.onFocus,selected:!0,disableRipple:!0,sx:{bgcolor:"transparent"},children:C.jsx(Zl,{onFocus:Jbe,inputRef:r.ref,value:e.searchFieldValue,onChange:e.onSearchFieldChange,label:"Имя файла",id:I5e,spellCheck:!1,autoFocus:!1,autoComplete:"off"})}),e.items.map((i,o)=>C.jsxs(xs,{onClick:e.onMenuItemClick.bind(null,i.value),children:[i.value===e.activeValue&&C.jsx(Tw,{children:C.jsx(NU,{fontSize:"small"})}),i.title]},o))]})});class D5e extends Kt{constructor(){super(...arguments),this.onClick=t=>{this.props.onClick()}}get badgeVisible(){return this.m.isActive}}const A5e=Wt(D5e)(({vm:e,buttonRef:t})=>C.jsx(Qn,{title:"Фильтр файлов (Ctrl+F)",children:C.jsx(Fn,{ref:t,onClick:e.onClick,children:C.jsx(gm,{invisible:!e.badgeVisible,color:"warning",variant:"dot",children:C.jsx(ERe,{})})})}));function L5e(){const{mainMenuVisible:e}=ll(),{projectFile:t}=EM(),n=t.path,r=t.parent.path;return C.jsx(YUe,{variant:"outlined",title:n,onClick:e.setTrue,children:r})}function N5e(){const{leftPanelMinimized:e}=ll();return C.jsx(Qn,{title:"Показать левую панель (Ctrl+Shift+F)",followCursor:!0,placement:"right",children:C.jsx(_5,{onClick:e.setFalse,size:"small",children:C.jsx(LU,{})})})}function B5e(){const{leftPanelMinimized:e}=ll();return C.jsx(Qn,{title:"Скрыть левую панель (Ctrl+Shift+F)",children:C.jsx(Fn,{onClick:e.setTrue,sx:{ml:"auto"},children:C.jsx(AU,{})})})}const F5e=$g(()=>{const{activeLeftPanelActiveView:e}=ll(),{current:t}=e,n=(r,i)=>{i&&e.set(i)};return C.jsxs(DU,{value:t,exclusive:!0,fullWidth:!0,onChange:n,sx:{},children:[C.jsx(JO,{value:"schema",title:"Схема проекта",size:"small",sx:{width:"fit-content",border:"none"},children:C.jsx(Aw,{fontSize:"small"})}),C.jsx(JO,{value:"files",title:"Файлы",size:"small",sx:{width:"fit-content",border:"none"},children:C.jsx(jU,{fontSize:"small"})})]})}),j5e=$g(()=>{const e=_.useRef(null),{syncer:t,player:n,vfsFilter:r,vfsFilterVisible:i}=EM(),o=ll().activeLeftPanelActiveView.current==="files";return C.jsxs(qUe,{children:[C.jsx(p5e,{m:t}),C.jsx(JUe,{m:n}),C.jsx(F5e,{}),o&&C.jsxs(C.Fragment,{children:[C.jsx(A5e,{m:r,onClick:i.setTrue,buttonRef:e}),C.jsx(P5e,{m:r,open:i.isTrue,onClose:i.setFalse,anchorEl:e.current}),C.jsx(ZUe,{})]}),C.jsx(B5e,{})]})}),V5e=$g(()=>{const{leftPanelMinimized:e,activeLeftPanelActiveView:t}=ll(),{vfs:n,schema:r}=EM();return C.jsxs(pR,{reverse:!0,width:240,minimized:e.isTrue,button:C.jsx(N5e,{}),children:[C.jsx(L5e,{}),C.jsx(dl,{}),C.jsx(j5e,{}),C.jsx(dl,{}),C.jsx(E5e,{m:n,hidden:t.current!=="files"}),C.jsx(o5e,{m:r,hidden:t.current!=="schema"})]})});class $5e extends Kt{constructor(){super(...arguments),this.beforeMount=t=>{t.languages.register({id:"stratumDSL"}),t.languages.setMonarchTokensProvider("stratumDSL",{defaultToken:"invalid",ignoreCase:!0,keywords:["HANDLE","STRING","FLOAT","COLORREF","local","if","else","while","exit","init","endif"],operators:[":=","==","!=","<","<=",">",">=","&&","||","!","+","-","*","/","%"],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],tokenizer:{root:[[/\b(?:HANDLE|STRING|FLOAT|COLORREF|local|if|else|while|exit|init|endif)\b/,"keyword"],[/\b\d+\.?\d*\b/,"number"],[/".*?"/,"string"],[/\/\*/,"comment","@comment"],[/\/\/.*/,"comment"],[/[{}()\[\]]/,"@brackets"],[/[:=<>!\+\-\*\/&|]+/,"operator"],[/\b[A-Za-z_][A-Za-z0-9_]*(?=\s*\()/,"type.identifier"],[/\b[A-Za-z_][A-Za-z0-9_]*\b/,"identifier"]],comment:[[/.*?\*\//,"comment","@pop"],[/./,"comment"]]}})},this.onMount=(t,n)=>{t.onDidChangeCursorPosition(this.onDidChangeCursorPosition)},this.onDidChangeCursorPosition=t=>{const n=t.position.lineNumber,r=t.position.column;this.m.setCursorPosition(n,r)},this.onChange=(t="",n)=>{this.m.setCurrentText(t)},this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,i=n[n.length-1].length+1;this.m.setCursorPosition(r,i)}}function z5e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nW(Object(n),!0).forEach(function(r){z5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U5e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function H5e(e,t){if(e==null)return{};var n=U5e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function G5e(e,t){return W5e(e)||K5e(e,t)||q5e(e,t)||Y5e()}function W5e(e){if(Array.isArray(e))return e}function K5e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function q5e(e,t){if(e){if(typeof e=="string")return iW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iW(e,t)}}function iW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X5e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oW(Object(n),!0).forEach(function(r){X5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z5e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function av(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return t.apply(n,[].concat(i,l))}}}function RS(e){return{}.toString.call(e).includes("Object")}function Q5e(e){return!Object.keys(e).length}function lv(e){return typeof e=="function"}function J5e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eHe(e,t){return RS(t)||Wu("changeType"),Object.keys(t).some(function(n){return!J5e(e,n)})&&Wu("changeField"),t}function tHe(e){lv(e)||Wu("selectorType")}function nHe(e){lv(e)||RS(e)||Wu("handlerType"),RS(e)&&Object.values(e).some(function(t){return!lv(t)})&&Wu("handlersType")}function rHe(e){e||Wu("initialIsRequired"),RS(e)||Wu("initialType"),Q5e(e)&&Wu("initialContent")}function iHe(e,t){throw new Error(e[t]||e.default)}var oHe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wu=av(iHe)(oHe),IS={changes:eHe,selector:tHe,handler:nHe,initial:rHe};function sHe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};IS.initial(e),IS.handler(t);var n={current:e},r=av(cHe)(n,t),i=av(lHe)(n),o=av(IS.changes)(e),s=av(aHe)(n);function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return IS.selector(u),u(n.current)}function c(u){Z5e(r,i,o,s)(u)}return[l,c]}function aHe(e,t){return lv(t)?t(e.current):t}function lHe(e,t){return e.current=sW(sW({},e.current),t),t}function cHe(e,t,n){return lv(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var uHe={create:sHe},dHe={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function hHe(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return t.apply(n,[].concat(i,l))}}}function fHe(e){return{}.toString.call(e).includes("Object")}function pHe(e){return e||lW("configIsRequired"),fHe(e)||lW("configType"),e.urls?(gHe(),{paths:{vs:e.urls.monacoBase}}):e}function gHe(){console.warn(aW.deprecation)}function mHe(e,t){throw new Error(e[t]||e.default)}var aW={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},lW=hHe(mHe)(aW),vHe={config:pHe},yHe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,s){return s(o)},i)}};function cW(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],cW(e[n],t[n]))}),rW(rW({},e),t)}var bHe={type:"cancelation",msg:"operation is manually canceled"};function vI(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(bHe):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var wHe=uHe.create({config:dHe,isInitialized:!1,resolve:null,reject:null,monaco:null}),uW=G5e(wHe,2),cv=uW[0],kS=uW[1];function SHe(e){var t=vHe.config(e),n=t.monaco,r=H5e(t,["monaco"]);kS(function(i){return{config:cW(i.config,r),monaco:n}})}function CHe(){var e=cv(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(kS({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),vI(yI);if(window.monaco&&window.monaco.editor)return dW(window.monaco),e.resolve(window.monaco),vI(yI);yHe(xHe,EHe)(THe)}return vI(yI)}function xHe(e){return document.body.appendChild(e)}function _He(e){var t=document.createElement("script");return e&&(t.src=e),t}function EHe(e){var t=cv(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=_He("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function THe(){var e=cv(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){dW(n),e.resolve(n)},function(n){e.reject(n)})}function dW(e){cv().monaco||kS({monaco:e})}function MHe(){return cv(function(e){var t=e.monaco;return t})}var yI=new Promise(function(e,t){return kS({resolve:e,reject:t})}),hW={config:SHe,init:CHe,__getMonacoInstance:MHe},OHe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},bI=OHe,RHe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},IHe=RHe;function kHe({children:e}){return Bn.createElement("div",{style:IHe.container},e)}var PHe=kHe,DHe=PHe;function AHe({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:s}){return Bn.createElement("section",{style:{...bI.wrapper,width:e,height:t},...s},!n&&Bn.createElement(DHe,null,r),Bn.createElement("div",{ref:i,style:{...bI.fullWidth,...!n&&bI.hide},className:o}))}var LHe=AHe,fW=_.memo(LHe);function NHe(e){_.useEffect(e,[])}var pW=NHe;function BHe(e,t,n=!0){let r=_.useRef(!0);_.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Zs=BHe;function uv(){}function ap(e,t,n,r){return FHe(e,r)||jHe(e,t,n,r)}function FHe(e,t){return e.editor.getModel(gW(e,t))}function jHe(e,t,n,r){return e.editor.createModel(t,n,r?gW(e,r):void 0)}function gW(e,t){return e.Uri.parse(t)}function VHe({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:h="Loading...",options:p={},height:g="100%",width:m="100%",className:y,wrapperProps:b={},beforeMount:v=uv,onMount:S=uv}){let[E,T]=_.useState(!1),[O,M]=_.useState(!0),I=_.useRef(null),N=_.useRef(null),D=_.useRef(null),L=_.useRef(S),A=_.useRef(v),$=_.useRef(!1);pW(()=>{let q=hW.init();return q.then(z=>(N.current=z)&&M(!1)).catch(z=>z?.type!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>I.current?K():q.cancel()}),Zs(()=>{if(I.current&&N.current){let q=I.current.getOriginalEditor(),z=ap(N.current,e||"",r||n||"text",o||"");z!==q.getModel()&&q.setModel(z)}},[o],E),Zs(()=>{if(I.current&&N.current){let q=I.current.getModifiedEditor(),z=ap(N.current,t||"",i||n||"text",s||"");z!==q.getModel()&&q.setModel(z)}},[s],E),Zs(()=>{let q=I.current.getModifiedEditor();q.getOption(N.current.editor.EditorOption.readOnly)?q.setValue(t||""):t!==q.getValue()&&(q.executeEdits("",[{range:q.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),q.pushUndoStop())},[t],E),Zs(()=>{I.current?.getModel()?.original.setValue(e||"")},[e],E),Zs(()=>{let{original:q,modified:z}=I.current.getModel();N.current.editor.setModelLanguage(q,r||n||"text"),N.current.editor.setModelLanguage(z,i||n||"text")},[n,r,i],E),Zs(()=>{N.current?.editor.setTheme(u)},[u],E),Zs(()=>{I.current?.updateOptions(p)},[p],E);let j=_.useCallback(()=>{if(!N.current)return;A.current(N.current);let q=ap(N.current,e||"",r||n||"text",o||""),z=ap(N.current,t||"",i||n||"text",s||"");I.current?.setModel({original:q,modified:z})},[n,t,i,e,r,o,s]),U=_.useCallback(()=>{!$.current&&D.current&&(I.current=N.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...p}),j(),N.current?.editor.setTheme(u),T(!0),$.current=!0)},[p,u,j]);_.useEffect(()=>{E&&L.current(I.current,N.current)},[E]),_.useEffect(()=>{!O&&!E&&U()},[O,E,U]);function K(){let q=I.current?.getModel();l||q?.original?.dispose(),c||q?.modified?.dispose(),I.current?.dispose()}return Bn.createElement(fW,{width:m,height:g,isEditorReady:E,loading:h,_ref:D,className:y,wrapperProps:b})}var $He=VHe;_.memo($He);function zHe(e){let t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}var UHe=zHe,PS=new Map;function HHe({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:s="light",line:l,loading:c="Loading...",options:u={},overrideServices:h={},saveViewState:p=!0,keepCurrentModel:g=!1,width:m="100%",height:y="100%",className:b,wrapperProps:v={},beforeMount:S=uv,onMount:E=uv,onChange:T,onValidate:O=uv}){let[M,I]=_.useState(!1),[N,D]=_.useState(!0),L=_.useRef(null),A=_.useRef(null),$=_.useRef(null),j=_.useRef(E),U=_.useRef(S),K=_.useRef(),q=_.useRef(r),z=UHe(o),Y=_.useRef(!1),te=_.useRef(!1);pW(()=>{let H=hW.init();return H.then(X=>(L.current=X)&&D(!1)).catch(X=>X?.type!=="cancelation"&&console.error("Monaco initialization: error:",X)),()=>A.current?Q():H.cancel()}),Zs(()=>{let H=ap(L.current,e||r||"",t||i||"",o||n||"");H!==A.current?.getModel()&&(p&&PS.set(z,A.current?.saveViewState()),A.current?.setModel(H),p&&A.current?.restoreViewState(PS.get(o)))},[o],M),Zs(()=>{A.current?.updateOptions(u)},[u],M),Zs(()=>{!A.current||r===void 0||(A.current.getOption(L.current.editor.EditorOption.readOnly)?A.current.setValue(r):r!==A.current.getValue()&&(te.current=!0,A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),A.current.pushUndoStop(),te.current=!1))},[r],M),Zs(()=>{let H=A.current?.getModel();H&&i&&L.current?.editor.setModelLanguage(H,i)},[i],M),Zs(()=>{l!==void 0&&A.current?.revealLine(l)},[l],M),Zs(()=>{L.current?.editor.setTheme(s)},[s],M);let ie=_.useCallback(()=>{if(!(!$.current||!L.current)&&!Y.current){U.current(L.current);let H=o||n,X=ap(L.current,r||e||"",t||i||"",H||"");A.current=L.current?.editor.create($.current,{model:X,automaticLayout:!0,...u},h),p&&A.current.restoreViewState(PS.get(H)),L.current.editor.setTheme(s),l!==void 0&&A.current.revealLine(l),I(!0),Y.current=!0}},[e,t,n,r,i,o,u,h,p,s,l]);_.useEffect(()=>{M&&j.current(A.current,L.current)},[M]),_.useEffect(()=>{!N&&!M&&ie()},[N,M,ie]),q.current=r,_.useEffect(()=>{M&&T&&(K.current?.dispose(),K.current=A.current?.onDidChangeModelContent(H=>{te.current||T(A.current.getValue(),H)}))},[M,T]),_.useEffect(()=>{if(M){let H=L.current.editor.onDidChangeMarkers(X=>{let he=A.current.getModel()?.uri;if(he&&X.find(pe=>pe.path===he.path)){let pe=L.current.editor.getModelMarkers({resource:he});O?.(pe)}});return()=>{H?.dispose()}}return()=>{}},[M,O]);function Q(){K.current?.dispose(),g?p&&PS.set(o,A.current.saveViewState()):A.current.getModel()?.dispose(),A.current.dispose()}return Bn.createElement(fW,{width:m,height:y,isEditorReady:M,loading:c,_ref:$,className:b,wrapperProps:v})}var GHe=HHe,WHe=_.memo(GHe),KHe=WHe;const qHe=Wt($5e)(({vm:e})=>C.jsx(KHe,{defaultLanguage:"stratumDSL",defaultValue:e.defaultValue,onChange:e.onChange,beforeMount:e.beforeMount,onMount:e.onMount,options:{readOnly:e.readOnly,readOnlyMessage:{value:"Имидж доступен только для чтения"}}})),YHe=Te("div",{name:"EPlayerDialogContent",slot:"windowContainer"})({width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden",display:"flex",[`& .${g2.root}`]:{flexGrow:1}});class XHe extends Kt{constructor(){super(),this.onCloseButtonClick=()=>{this.m.player?.close()},this.onPlayButtonClick=()=>{this.m.player?.continue()},this.onPauseButtonClick=()=>{this.m.player?.pause()},this.onStepButtonClick=()=>{this.m.player?.pause(),this.m.player?.step()},this.onMinimizeButtonClick=()=>{this.m.player?.minimize()}}get dialogOpen(){const{player:t}=this.m;return!!t&&!t.isMinimized}get iterationCount(){return this.m.player?.iterationCount||0}get iterationPerSecond(){return this.m.player?.iterationPerSecond||0}get isPaused(){return this.m.player?.status==="paused"}}class ZHe extends Kt{get image(){return this.m.imageData}get icon(){return this.m.icon}get canExpand(){return this.m.children.length>0}get itemId(){return this.m.itemId}get label(){return this.m.toString()}get children(){return this.m.children}}class QHe extends Kt{constructor(){super(),this.selectedItem=null,this.onExpandedItemsChange=(t,n)=>{if(t?.type==="keydown"&&t.key==="Enter"){const{expandedItems:r}=this;let i;n.length>r.length?i=n.find(o=>!r.includes(o)):i=r.find(o=>!n.includes(o)),i&&this.onSelectedItemChange(t,i);return}this.expandedItems=n},this.onSelectedItemChange=(t,n)=>{if(this.selectedItem=n,!n)return;this.getItemById(n)?.makeActive()},this.expandedItems=[this.m.itemId],Ot(this,{expandedItems:Be.ref,selectedItem:Be.ref,onExpandedItemsChange:Ee,onSelectedItemChange:Ee})}getItemById(t){return(function n(r){if(r.itemId===t)return r;for(const i of r.children){const o=n(i);if(o)return o}return null})(this.m)}}function JHe(e,t){if(!e)return null;if(t===kt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==kt.STRING&&(e=e.trim()),e||null}const eGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class tGe extends Kt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,i=JHe(t.value,t.type);if(i===n.value)return n;const o=r.vars.find(s=>s.id===t.id);return o?.setValue(i||"")?{...t,value:o.value}:n},Ot(this,{processRowUpdate:Ee})}get columns(){return eGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}function nGe(e,t){if(!e)return null;if(t===kt.HANDLE){const n=e.startsWith("#")?parseInt(e.slice(1)):parseInt(e);return isNaN(n)?null:"#"+Math.max(n,0)}return t!==kt.STRING&&(e=e.trim()),e||null}const rGe=[{field:"name",headerName:"Переменная",flex:1},{field:"value",headerName:"Значение",editable:!0,flex:1}];class iGe extends Kt{constructor(){super(),this.processRowUpdate=(t,n)=>{const{m:r}=this,i=nGe(t.value,t.type);if(i===n.value)return n;const o=r.vars.find(s=>s.id===t.id);return o?.setValue(i||"")?{...t,value:o.value}:n},Ot(this,{processRowUpdate:Ee})}get columns(){return rGe}get rows(){return this.m.vars.map(t=>({id:t.id,name:t.name,type:t.type,value:t.value}))}}const oGe=Wt(QHe)(({vm:e,m:t})=>C.jsx(Y4,{selectedItems:e.selectedItem,expandedItems:e.expandedItems,onSelectedItemsChange:e.onSelectedItemChange,onExpandedItemsChange:e.onExpandedItemsChange,expansionTrigger:"iconContainer",itemChildrenIndentation:0,slots:{expandIcon:K4,collapseIcon:q4},onContextMenu:kb,children:C.jsx(mW,{m:t})})),mW=Wt(ZHe)(({vm:e})=>{const{image:t}=e;return C.jsx(Nu,{itemId:e.itemId,label:C.jsxs(C.Fragment,{children:[t?C.jsx(OS,{sceneData:t}):C.jsx(mI,{icon:e.icon}),e.label]}),slotProps:{groupTransition:{enter:!1,exit:!1}},children:e.canExpand&&C.jsx(sGe,{})})}),sGe=po()(({vm:e})=>e.children.map(t=>C.jsx(mW,{m:t},t.itemId)));function dv(e){const t=JDe(),n=_.useCallback((i,o)=>{if(i.isEditable&&!(o.target.nodeType===1&&!o.currentTarget.contains(o.target)))try{t.current?.startCellEditMode({id:i.id,field:i.field})}catch{}},[]),r=_.useCallback((i,o)=>{i.reason===ka.enterKeyDown&&(o.defaultMuiPrevented=!0,t.current?.stopCellEditMode({id:i.id,field:i.field}))},[]);return C.jsx(Nze,{...e,apiRef:t,onCellClick:n,onProcessRowUpdateError:console.error,onCellEditStop:r})}const aGe=Wt(tGe)(({vm:e})=>C.jsx(dv,{sx:{flexGrow:6},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),lGe=Wt(iGe)(({vm:e})=>C.jsx(dv,{sx:{flexGrow:1},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),cGe=_.forwardRef(function(t,n){return C.jsx(U1e,{direction:"up",ref:n,...t})}),uGe=Wt(XHe)(({m:e,vm:t})=>{const{player:n}=e,r=n?.rootSchema,i=n?.activeSchema;return C.jsxs(AO,{open:t.dialogOpen,TransitionComponent:cGe,keepMounted:!0,fullScreen:!0,children:[C.jsx(Exe,{position:"sticky",children:C.jsxs(CU,{children:[C.jsx(Fn,{edge:"start",color:"inherit",onClick:t.onCloseButtonClick,children:C.jsx(Dw,{})}),t.isPaused?C.jsx(Fn,{edge:"start",color:"inherit",onClick:t.onPlayButtonClick,children:C.jsx(KRe,{})}):C.jsx(Fn,{edge:"start",color:"inherit",onClick:t.onPauseButtonClick,children:C.jsx(WRe,{})}),C.jsx(Fn,{edge:"start",color:"inherit",onClick:t.onStepButtonClick,children:C.jsx(iIe,{})}),C.jsx(Cs,{color:"inherit",onClick:t.onMinimizeButtonClick,children:"Свернуть"}),C.jsxs(Wi,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:["Шагов: ",t.iterationCount," (",t.iterationPerSecond," в секунду)"]})]})}),C.jsxs(hR,{children:[r&&C.jsx(oGe,{m:r},r.itemId),C.jsx(YHe,{ref:e.mountRef}),C.jsxs(pR,{width:300,children:[n&&C.jsxs(C.Fragment,{children:["Отслеживаемые переменные:",C.jsx(lGe,{m:n.markedVars})]}),i&&C.jsxs(C.Fragment,{children:["Переменные схемы ",i.toString(),C.jsx(aGe,{m:i},i.itemId)]})]})]})]})}),dGe=Wt($ze)(({vm:e})=>C.jsxs(C.Fragment,{children:[C.jsxs(Io,{display:"flex",gap:"2%",children:[C.jsx(PUe,{label:"Имя имиджа",options:e.klassNameOptions,value:e.klassName,onChange:e.setKlassName,required:!0}),e.showOpenSchemaButton&&C.jsx(Fn,{onClick:e.onOpenSchemaButtonClick,children:C.jsx(GRe,{color:"info"})})]}),C.jsx(qi,{label:"Имя окна",value:e.windowName,onChange:e.setWindowName})]})),hGe=Wt(zze)(({vm:e})=>C.jsx(qi,{label:"Путь к проекту",value:e.projectPath,onChange:e.setProjectPath,required:!0})),fGe=Wt(Uze)(({vm:e})=>C.jsx(sv,{label:"Действие",options:e.options,value:e.actionType,onChange:e.setActionType})),pGe=Wt(Hze)(({vm:e})=>C.jsx(qi,{label:"Команда",value:e.commandName,onChange:e.setCommandName,required:!0}));function gGe({mode:e}){switch(e){case ny:return C.jsx(dGe,{});case q0:return C.jsx(hGe,{});case ry:return C.jsx(fGe,{});case K0:return C.jsx(pGe,{})}return null}const mGe=Wt(Gze)(({vm:e})=>{const{mode:t}=e,n=t>=0;return C.jsxs(C.Fragment,{children:[C.jsx(sv,{label:"При нажатии на объект",options:e.modeOptions,value:e.mode,onChange:e.setMode}),n&&C.jsxs(C.Fragment,{children:[C.jsx(gGe,{mode:t}),C.jsx(qi,{label:"Доп. параметры",value:e.params,onChange:e.setParams}),C.jsx(qi,{label:"Получатель WM_HYPERJUMP",value:e.receiver,onChange:e.setReceiver}),C.jsx(Xs,{label:"Активировать только через StdHyperJump",checked:e.disabled,onChange:e.setDisabled})]})]})}),vGe=["Выбран","Выбрано","Выбрано"],yGe=["объект","объекта","объектов"];function bGe({count:e}){return C.jsxs(Wi,{children:[bP(e,vGe),C.jsx(jf,{color:"green",ml:"4px",mr:"4px",children:e}),bP(e,yGe)]})}function wGe(){const{rightPanelMinimized:e}=ll();return C.jsx(Qn,{title:"Скрыть панель настроек (Ctrl+P)",children:C.jsx(Fn,{onClick:e.setTrue,sx:{ml:"auto"},children:C.jsx(LU,{})})})}const SGe=Wt(_Ue)(({vm:e})=>C.jsx(Qn,{title:"Открыть свойства (Space,Enter)",disableInteractive:!0,children:C.jsx(hPe,{onClick:e.onClick,children:C.jsx(dPe,{component:"span",color:"green",children:e.title})})})),CGe=Wt(EUe)(({vm:e})=>{const{hasScene:t}=e;return C.jsx(Qn,{title:`${t?"Открыть":"Создать"} схему (S)`,children:C.jsx(Fn,{onClick:e.onClick,children:C.jsx(k5,{visible:!t,children:C.jsx(Aw,{})})})})}),xGe=Wt(TUe)(({vm:e})=>C.jsx(Qn,{title:"Открыть код (D)",children:C.jsx(Fn,{onClick:e.onClick,children:C.jsx(k5,{visible:!e.hasCode,children:C.jsx(BU,{})})})})),_Ge=Wt(MUe)(({vm:e})=>C.jsx(Qn,{title:"Удалить (Delete)",children:C.jsx(Fn,{onClick:e.onClick,sx:{ml:"auto"},children:C.jsx(wRe,{})})})),wI=po()(({vm:e})=>{const{m:t,kind:n,selectionLength:r,klassCodeButtonModel:i,klassPropsButtonModel:o,klassSchemaButtonModel:s}=e;return C.jsxs(fPe,{children:[o&&C.jsx(SGe,{m:o}),r&&C.jsx(bGe,{count:r}),n&&C.jsx(jf,{children:n}),t&&t.type!=="_pseudoGroup"&&C.jsxs(jf,{whiteSpace:"pre",ml:1,children:["#",t.key]}),C.jsxs(Io,{children:[s&&C.jsx(CGe,{m:s}),i&&C.jsx(xGe,{m:i}),t&&C.jsx(_Ge,{m:t})]}),C.jsx(wGe,{})]})}),EGe=Wt(OUe)(({vm:e})=>C.jsxs(Io,{children:["Z-порядок:",C.jsxs(Io,{display:"flex",justifyContent:"center",children:[C.jsx(Qn,{title:"Вниз (Shift + ↓)",children:C.jsx(Fn,{onClick:e.onMoveToBottomButtonClick,size:"small",children:C.jsx(FRe,{})})}),C.jsx(Qn,{title:"Ниже (Shift + ←)",children:C.jsx(Fn,{onClick:e.onDecreaseZButtonClick,size:"small",children:C.jsx(NRe,{})})}),C.jsx(pPe,{value:e.value,size:"small",slotProps:{htmlInput:{tabIndex:-1}}}),C.jsx(Qn,{title:"Выше (Shift + →)",children:C.jsx(Fn,{onClick:e.onIncreaseZButtonClick,size:"small",children:C.jsx(BRe,{})})}),C.jsx(Qn,{title:"Наверх (Shift + ↑)",children:C.jsx(Fn,{onClick:e.onMoveToTopButtonClick,size:"small",children:C.jsx(jRe,{})})})]})]})),TGe=Wt(CPe)(({vm:e})=>C.jsxs(Io,{display:"flex",gap:"2%",children:[C.jsx(qi,{label:"X",type:"number",value:e.x,onChange:e.setX}),C.jsx(qi,{label:"Y",type:"number",value:e.y,onChange:e.setY})]})),MGe=Wt(xPe)(({vm:e})=>C.jsxs(Io,{display:"flex",gap:"2%",children:[C.jsx(qi,{label:"Ширина",type:"number",value:e.w,onChange:e.setW}),C.jsx(qi,{label:"Высота",type:"number",value:e.h,onChange:e.setH})]})),OGe=Wt(EPe)(({vm:e})=>C.jsx(qi,{label:"Повернуть на",type:"number",onChange:e.setValue,value:"0"})),RGe=Wt(_Pe)(({vm:e})=>C.jsx(qi,{label:"Угол поворота",type:"number",value:e.value,onChange:e.setValue})),IGe=Wt(TPe)(({vm:e})=>C.jsx(qi,{label:"Имя на сцене",value:e.value,onChange:e.setValue})),kGe=Wt(MPe)(({vm:e})=>C.jsx(Xs,{label:"Невыбираемый объект (N)",checked:e.value,onChange:e.setValue})),PGe=Wt(OPe)(({vm:e})=>C.jsx(sv,{label:"Слой",options:e.options,value:e.value,onChange:e.setValue})),vW=po()(({vm:e,children:t})=>{const{m:n}=e;if(!n)return t;const r=n.type!=="_pseudoGroup";return C.jsxs(C.Fragment,{children:[n.canMove&&C.jsx(TGe,{m:n}),r&&C.jsxs(C.Fragment,{children:[n.canResize&&C.jsx(MGe,{m:n}),n.canSetName&&C.jsx(IGe,{m:n}),n.canRotate&&(n.hasAngle?C.jsx(RGe,{m:n}):C.jsx(OGe,{m:n})),n.type!=="group"&&C.jsx(EGe,{m:n}),C.jsx(kGe,{m:n}),C.jsx(PGe,{m:n})]}),t,r&&n.canSetHyper&&C.jsx(mGe,{m:n})]})}),Nh=po()(({children:e})=>C.jsxs(C.Fragment,{children:[C.jsx(wI,{}),C.jsx(dl,{}),C.jsx(vR,{children:C.jsx(vW,{children:e})})]})),SI=Wt(CUe)(({vm:e})=>C.jsx(dv,{sx:{"& .mark-button-cell":{padding:0,paddingLeft:0,paddingRight:"20px",[`& .${Sw.root}`]:{padding:0}}},columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),DGe=Wt(jze)(({vm:e})=>{const{schemaValuesModel:t}=e;return C.jsxs(Nh,{children:[e.showUngroupButton&&C.jsx(Cs,{onClick:e.onUngroupButtonClick,fullWidth:!0,variant:"contained",color:"error",children:"Разгруппировать (U)"}),t&&C.jsx(SI,{m:t})]})});var AGe=Object.defineProperty,LGe=(e,t,n)=>t in e?AGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ei=(e,t,n)=>LGe(e,typeof t!="symbol"?t+"":t,n);const DS={x:0,y:0,width:0,height:0,unit:"px"},lp=(e,t,n)=>Math.min(Math.max(e,t),n),NGe=(...e)=>e.filter(t=>t&&typeof t=="string").join(" "),yW=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function cp(e,t,n){return e.unit==="%"?{...DS,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function Ku(e,t,n){return e.unit?e.unit==="px"?{...DS,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...DS,...e,unit:"px"}}function bW(e,t,n,r,i,o=0,s=0,l=r,c=i){const u={...e};let h=Math.min(o,r),p=Math.min(s,i),g=Math.min(l,r),m=Math.min(c,i);t&&(t>1?(h=s?s*t:h,p=h/t,g=l*t):(p=o?o/t:p,h=p*t,m=c/t)),u.y<0&&(u.height=Math.max(u.height+u.y,p),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,h),u.x=0);const y=r-(u.x+u.width);y<0&&(u.x=Math.min(u.x,r-h),u.width+=y);const b=i-(u.y+u.height);if(b<0&&(u.y=Math.min(u.y,i-p),u.height+=b),u.width<h&&((n==="sw"||n=="nw")&&(u.x-=h-u.width),u.width=h),u.height<p&&((n==="nw"||n=="ne")&&(u.y-=p-u.height),u.height=p),u.width>g&&((n==="sw"||n=="nw")&&(u.x-=g-u.width),u.width=g),u.height>m&&((n==="nw"||n=="ne")&&(u.y-=m-u.height),u.height=m),t){const v=u.width/u.height;if(v<t){const S=Math.max(u.width/t,p);(n==="nw"||n=="ne")&&(u.y-=S-u.height),u.height=S}else if(v>t){const S=Math.max(u.height*t,h);(n==="sw"||n=="nw")&&(u.x-=S-u.width),u.width=S}}return u}function BGe(e,t,n,r){const i={...e};return t==="ArrowLeft"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="w"?(i.x-=n,i.width+=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="e"?i.width-=n:r==="se"&&(i.width-=n,i.height-=n):t==="ArrowRight"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="w"?(i.x+=n,i.width-=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="e"?i.width+=n:r==="se"&&(i.width+=n,i.height+=n)),t==="ArrowUp"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="n"?(i.y-=n,i.height+=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="s"?i.height-=n:r==="se"&&(i.width-=n,i.height-=n):t==="ArrowDown"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="n"?(i.y+=n,i.height-=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="s"?i.height+=n:r==="se"&&(i.width+=n,i.height+=n)),i}const up={capture:!0,passive:!1};let FGe=0;const qu=class Tl extends _.PureComponent{constructor(){super(...arguments),Ei(this,"docMoveBound",!1),Ei(this,"mouseDownOnCrop",!1),Ei(this,"dragStarted",!1),Ei(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Ei(this,"componentRef",_.createRef()),Ei(this,"mediaRef",_.createRef()),Ei(this,"resizeObserver"),Ei(this,"initChangeCalled",!1),Ei(this,"instanceId",`rc-${FGe++}`),Ei(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Ei(this,"onCropPointerDown",t=>{const{crop:n,disabled:r}=this.props,i=this.getBox();if(!n)return;const o=Ku(n,i.width,i.height);if(r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=t.target.dataset.ord,l=!!s;let c=t.clientX,u=t.clientY,h=o.x,p=o.y;if(s){const g=t.clientX-i.x,m=t.clientY-i.y;let y=0,b=0;s==="ne"||s=="e"?(y=g-(o.x+o.width),b=m-o.y,h=o.x,p=o.y+o.height):s==="se"||s==="s"?(y=g-(o.x+o.width),b=m-(o.y+o.height),h=o.x,p=o.y):s==="sw"||s=="w"?(y=g-o.x,b=m-(o.y+o.height),h=o.x+o.width,p=o.y):(s==="nw"||s=="n")&&(y=g-o.x,b=m-o.y,h=o.x+o.width,p=o.y+o.height),c=h+i.x+y,u=p+i.y+b}this.evData={startClientX:c,startClientY:u,startCropX:h,startCropY:p,clientX:t.clientX,clientY:t.clientY,isResize:l,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Ei(this,"onComponentPointerDown",t=>{const{crop:n,disabled:r,locked:i,keepSelection:o,onChange:s}=this.props,l=this.getBox();if(r||i||o&&n)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=t.clientX-l.x,u=t.clientY-l.y,h={unit:"px",x:c,y:u,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:c,startCropY:u,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(Ku(h,l.width,l.height),cp(h,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Ei(this,"onDocPointerMove",t=>{const{crop:n,disabled:r,onChange:i,onDragStart:o}=this.props,s=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(t));const{evData:l}=this;l.clientX=t.clientX,l.clientY=t.clientY;let c;l.isResize?c=this.resizeCrop():c=this.dragCrop(),yW(n,c)||i(Ku(c,s.width,s.height),cp(c,s.width,s.height))}),Ei(this,"onComponentKeyDown",t=>{const{crop:n,disabled:r,onChange:i,onComplete:o}=this.props;if(r)return;const s=t.key;let l=!1;if(!n)return;const c=this.getBox(),u=this.makePixelCrop(c),h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Tl.nudgeStepLarge:t.shiftKey?Tl.nudgeStepMedium:Tl.nudgeStep;if(s==="ArrowLeft"?(u.x-=h,l=!0):s==="ArrowRight"?(u.x+=h,l=!0):s==="ArrowUp"?(u.y-=h,l=!0):s==="ArrowDown"&&(u.y+=h,l=!0),l){t.cancelable&&t.preventDefault(),u.x=lp(u.x,0,c.width-u.width),u.y=lp(u.y,0,c.height-u.height);const p=Ku(u,c.width,c.height),g=cp(u,c.width,c.height);i(p,g),o&&o(p,g)}}),Ei(this,"onHandlerKeyDown",(t,n)=>{const{aspect:r=0,crop:i,disabled:o,minWidth:s=0,minHeight:l=0,maxWidth:c,maxHeight:u,onChange:h,onComplete:p}=this.props,g=this.getBox();if(o||!i)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const m=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Tl.nudgeStepLarge:t.shiftKey?Tl.nudgeStepMedium:Tl.nudgeStep,y=Ku(i,g.width,g.height),b=BGe(y,t.key,m,n),v=bW(b,r,n,g.width,g.height,s,l,c,u);if(!yW(i,v)){const S=cp(v,g.width,g.height);h(v,S),p&&p(v,S)}}),Ei(this,"onDocPointerDone",t=>{const{crop:n,disabled:r,onComplete:i,onDragEnd:o}=this.props,s=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(t),i&&i(Ku(n,s.width,s.height),cp(n,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Ei(this,"onDragFocus",()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)})}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:i,height:o}=t.getBoundingClientRect();return{x:n,y:r,width:i,height:o}}componentDidUpdate(t){const{crop:n,onComplete:r}=this.props;if(r&&!t.crop&&n){const{width:i,height:o}=this.getBox();i&&o&&r(Ku(n,i,o),cp(n,i,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,up),this.document.addEventListener("pointerup",this.onDocPointerDone,up),this.document.addEventListener("pointercancel",this.onDocPointerDone,up),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,up),this.document.removeEventListener("pointerup",this.onDocPointerDone,up),this.document.removeEventListener("pointercancel",this.onDocPointerDone,up),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,n=this.getBox(),r=this.makePixelCrop(n),i=t.clientX-t.startClientX,o=t.clientY-t.startClientY;return r.x=lp(t.startCropX+i,0,n.width-r.width),r.y=lp(t.startCropY+o,0,n.height-r.height),r}getPointRegion(t,n,r,i){const{evData:o}=this,s=o.clientX-t.x,l=o.clientY-t.y;let c;i&&n?c=n==="nw"||n==="n"||n==="ne":c=l<o.startCropY;let u;return r&&n?u=n==="nw"||n==="w"||n==="sw":u=s<o.startCropX,u?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(t,n,r=0,i=0){const o=Math.min(r,t.width),s=Math.min(i,t.height);return!n||!o&&!s?[o,s]:n>1?o?[o,o/n]:[s*n,s]:s?[s*n,s]:[o,o/n]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:i}=this.props,o=this.getBox(),[s,l]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(o);const u=this.getPointRegion(o,t.ord,s,l),h=t.ord||u;let p=t.clientX-t.startClientX,g=t.clientY-t.startClientY;(s&&h==="nw"||h==="w"||h==="sw")&&(p=Math.min(p,-s)),(l&&h==="nw"||h==="n"||h==="ne")&&(g=Math.min(g,-l));const m={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(m.x=t.startCropX,m.width=p,n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY-m.height)):u==="se"?(m.x=t.startCropX,m.y=t.startCropY,m.width=p,n?m.height=m.width/n:m.height=g):u==="sw"?(m.x=t.startCropX+p,m.y=t.startCropY,m.width=Math.abs(p),n?m.height=m.width/n:m.height=g):u==="nw"&&(m.x=t.startCropX+p,m.width=Math.abs(p),n?(m.height=m.width/n,m.y=t.startCropY-m.height):(m.height=Math.abs(g),m.y=t.startCropY+g));const y=bW(m,n,u,o.width,o.height,s,l,r,i);return n||Tl.xyOrds.indexOf(h)>-1?c=y:Tl.xOrds.indexOf(h)>-1?(c.x=y.x,c.width=y.width):Tl.yOrds.indexOf(h)>-1&&(c.y=y.y,c.height=y.height),c.x=lp(c.x,0,o.width-c.width),c.y=lp(c.y,0,o.height-c.height),c}renderCropSelection(){const{ariaLabels:t=Tl.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:i,ruleOfThirds:o,crop:s}=this.props,l=this.getCropStyle();if(s)return Bn.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&Bn.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Bn.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Bn.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Bn.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Bn.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),Bn.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),i&&Bn.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},i(this.state)),o&&Bn.createElement(Bn.Fragment,null,Bn.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Bn.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const n={...DS,...this.props.crop||{}};return Ku(n,t.width,t.height)}render(){const{aspect:t,children:n,circularCrop:r,className:i,crop:o,disabled:s,locked:l,style:c,ruleOfThirds:u}=this.props,{cropIsActive:h,newCropIsBeingDrawn:p}=this.state,g=o?this.renderCropSelection():null,m=NGe("ReactCrop",i,h&&"ReactCrop--active",s&&"ReactCrop--disabled",l&&"ReactCrop--locked",p&&"ReactCrop--new-crop",o&&t&&"ReactCrop--fixed-aspect",o&&r&&"ReactCrop--circular-crop",o&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return Bn.createElement("div",{ref:this.componentRef,className:m,style:c},Bn.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),o?Bn.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Bn.createElement("defs",null,Bn.createElement("mask",{id:`hole-${this.instanceId}`},Bn.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?Bn.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):Bn.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),Bn.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};Ei(qu,"xOrds",["e","w"]),Ei(qu,"yOrds",["n","s"]),Ei(qu,"xyOrds",["nw","ne","se","sw"]),Ei(qu,"nudgeStep",1),Ei(qu,"nudgeStepMedium",10),Ei(qu,"nudgeStepLarge",100),Ei(qu,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let wW=qu;const jGe=Wt(Kze)(({vm:e})=>C.jsxs(Io,{display:"flex",flexDirection:"column",children:[C.jsx(jf,{noWrap:!0,children:e.imageInfo}),C.jsx(Io,{overflow:"hidden",alignSelf:"center",padding:1,children:C.jsx(wW,{crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,className:"ReactCrop--no-animate",style:{overflow:"visible"},children:C.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),VGe=Wt(qze)(({vm:e})=>{const{isPad:t,schemaValuesModel:n}=e;return C.jsxs(Nh,{children:[!t&&C.jsx(jGe,{}),n&&C.jsx(SI,{m:n})]})}),$Ge=Wt(Yze)(({vm:e})=>C.jsx(Nh,{children:C.jsx(qi,{label:"Текст",value:e.value,onChange:e.setValue})})),zGe=Wt(Jze)(({vm:e})=>C.jsxs(Io,{display:"flex",flexDirection:"column",children:[C.jsx(jf,{noWrap:!0,children:e.iconAtlas.toUpperCase()}),C.jsx(Io,{overflow:"hidden",alignSelf:"center",padding:1,children:C.jsx(wW,{disabled:e.disabled,locked:!0,className:"ReactCrop--no-animate",crop:e.crop,onChange:e.onChange,onDragEnd:e.onDragEnd,style:{overflow:"visible"},children:C.jsx("img",{src:e.imageSrc,style:{pointerEvents:"none"}})})})]})),UGe=Wt(Qze)(({vm:e})=>{const t=e.isPropsChangeDisabled;return C.jsxs(Nh,{children:[C.jsxs(Wi,{children:["Создан: ",e.date]}),C.jsx(qi,{label:"Имя",value:e.klassName,onChange:e.setKlassName,required:!0,disabled:t}),C.jsx(Xs,{label:"Всегда использовать иконку",checked:e.forceUseIcon,onChange:e.setForceUseIcon,disabled:t}),C.jsx(Xs,{label:"Можно менять размер",checked:e.canChangeSize,onChange:e.setCanChangeSize,disabled:t}),C.jsx(zGe,{m:e.klass})]})}),HGe=po()(({vm:e})=>{const t=!e.canAddRow;let n=C.jsx(Fn,{color:"primary",onClick:e.addRow,disabled:t,children:C.jsx(eR,{})});return t?n=C.jsx(Qn,{title:"Нет переменных общего типа",children:C.jsx("span",{children:n})}):n=C.jsx(Qn,{title:"Добавить связку переменных (A)",children:n}),C.jsxs(Io,{sx:{display:"flex",flexWrap:"nowrap",gap:"2px"},children:[n,C.jsx(Xs,{checked:e.enabled,onChange:e.setEnabled,title:"Связь активна?"}),e.props.toolbar]})}),GGe=Wt(Fze)(({vm:e})=>C.jsxs(C.Fragment,{children:[C.jsx(HGe,{}),C.jsx(dv,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,isCellEditable:e.isCellEditable,localeText:{noRowsLabel:"Нет соединенных переменных"},slotProps:{noRowsOverlay:void 0},slots:{noRowsOverlay:Fke},disableColumnMenu:!0,disableColumnSorting:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})]})),WGe=Wt(vUe)(({vm:e})=>C.jsx(dv,{columns:e.columns,rows:e.rows,processRowUpdate:e.processRowUpdate,disableColumnMenu:!0,hideFooter:!0,rowHeight:32,density:"compact",showCellVerticalBorder:!0,showColumnVerticalBorder:!0})),SW=Wt(dUe)(({vm:e})=>C.jsxs(Io,{display:"flex",gap:"2%",children:[C.jsx(qi,{label:"Угол",type:"number",value:e.angle,onChange:e.setAngle}),C.jsx(qi,{label:"Длина",type:"number",value:e.length,onChange:e.setLength}),C.jsx(Qn,{title:"Заливка",children:C.jsx(Xs,{checked:e.fill,onChange:e.setFill,icon:C.jsx(VU,{}),checkedIcon:C.jsx(VU,{})})}),C.jsx(Qn,{title:"Удалить стрелку",children:C.jsx(Fn,{onClick:e.onRemoveButtonClick,sx:{flexGrow:0},children:C.jsx(Dw,{})})})]})),CW=Wt(hUe)(({vm:e})=>C.jsxs(C.Fragment,{children:[C.jsx(qi,{label:"Цвет",value:e.getColor,onChange:e.setColor,type:"color",immediate:!0}),C.jsx(qi,{label:"Толщина",value:e.width,onChange:e.setWidth,type:"number"})]})),KGe=Wt(fUe)(({vm:e})=>{const{image:t}=e;return C.jsxs(yPe,{onClick:e.onClick,onDragOver:e.onDragOver,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDrop:e.onDrop,dashed:e.dashed,children:[C.jsx(bPe,{ref:e.inputRef,onChange:e.onChange,type:"file",accept:"image/*",tabIndex:-1}),t?C.jsx(wPe,{src:Ls(t.src)}):C.jsx(SPe,{})]})}),qGe=Wt(pUe)(({vm:e})=>{const{isPattern:t}=e;return t?C.jsx(KGe,{m:e.m}):C.jsxs(Io,{display:"flex",gap:"2%",children:[C.jsx(qi,{label:"Цвет",type:"color",value:e.getColor,onChange:e.setColor,immediate:!0}),C.jsx(Xs,{label:"Смешивание",checked:e.mix,onChange:e.setMix})]})}),YGe=Wt(gUe)(({vm:e})=>{const{mode:t,schemaConnection:n,canAddPen:r,pen:i,canAddBrush:o,brush:s}=e,l=!n&&i,c=C.jsxs(IU,{value:t,onChange:e.onPointsModeChange,children:[C.jsx(ZO,{value:"props",label:"Свойства"}),C.jsx(ZO,{value:"points",label:"Точки"})]});return t==="points"?C.jsxs(C.Fragment,{children:[C.jsx(wI,{}),C.jsx(dl,{}),C.jsxs(vR,{children:[c,C.jsx(WGe,{m:e.m})]})]}):C.jsxs(C.Fragment,{children:[C.jsx(wI,{}),C.jsx(dl,{}),C.jsxs(vR,{children:[c,C.jsxs(vW,{children:[r&&C.jsx(sv,{label:"Обводка",options:e.penVariantOptions,value:e.penVariant,onChange:e.setPenVariant}),l&&C.jsxs(Io,{display:"flex",gap:"2%",children:[C.jsx(CW,{m:i}),!e.hasStartArrow&&C.jsx(Qn,{title:"Добавить стрелку в начале",children:C.jsx(Fn,{onClick:e.onAddStartArrowButtonClick,children:C.jsx(gm,{badgeContent:"+",children:C.jsx(cIe,{})})})}),!e.hasEndArrow&&C.jsx(Qn,{title:"Добавить стрелку в конце",children:C.jsx(Fn,{onClick:e.onAddEndArrowButtonClick,children:C.jsx(gm,{badgeContent:"+",children:C.jsx(xRe,{})})})})]}),l&&e.hasStartArrow&&C.jsx(SW,{m:e.m,arrow:"start"}),l&&e.hasEndArrow&&C.jsx(SW,{m:e.m,arrow:"end"}),o&&C.jsx(sv,{label:"Заливка",options:e.brushVariantOptions,value:e.brushVariant,onChange:e.setBrushVariant}),s&&C.jsx(qGe,{m:s}),n&&C.jsx(GGe,{m:n,sceneConnection:e.sceneConnection,toolbar:i&&C.jsx(CW,{m:i})})]})]})]})}),XGe=Wt(yUe)(({vm:e})=>C.jsxs(Nh,{children:[e.showCreateGroupButton&&C.jsx(Cs,{onClick:e.onCreateGroupButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать группу (G)"}),e.showCreateConnectionButton&&C.jsx(Cs,{onClick:e.onCreateConnectionButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Создать связь (C)"})]})),ZGe=Wt(bUe)(({vm:e})=>{const{schemaValuesModel:t}=e;return C.jsx(Nh,{children:t&&C.jsx(SI,{m:t})})}),QGe=Wt(xUe)(({vm:e})=>C.jsx(Nh,{children:C.jsx(Cs,{onClick:e.onOpenTextEditorButtonClick,fullWidth:!0,variant:"contained",color:"primary",children:"Открыть редактор текста (E)"})})),JGe=po()(({vm:e})=>{const{selectedObject:t,m:n}=e;if(!t)switch(n.type){case"schemaEditor":return C.jsx(ZGe,{m:null});case"klassPropsEditor":return C.jsx(UGe,{m:null});case"fileSceneEditor":return null}if(t.type==="_pseudoGroup")return C.jsx(XGe,{m:t});const{key:r}=t;switch(t.type){case"line":return C.jsx(YGe,{m:t},r);case"imageView":return C.jsx(VGe,{m:t},r);case"textView":return C.jsx(QGe,{m:t},r);case"input":return C.jsx($Ge,{m:t},r);case"group":return C.jsx(DGe,{m:t},r);case"videoView":return null}});function e4e(){const{rightPanelMinimized:e}=ll();return C.jsx(Qn,{title:"Показать панель настроек (Ctrl+P)",followCursor:!0,placement:"left",children:C.jsx(_5,{onClick:e.setFalse,size:"small",children:C.jsx(AU,{})})})}const t4e=$g(()=>{const{rightPanelMinimized:e}=ll();return C.jsx(pR,{width:300,minimized:e.isTrue,button:C.jsx(e4e,{}),children:C.jsx(JGe,{})})}),n4e=[{value:"BOLD",title:"Жирный (Ctrl+B)",children:C.jsx(MRe,{})},{value:"ITALIC",title:"Курсив (Ctrl+I)",children:C.jsx(ORe,{})},{value:"UNDERLINE",title:"Подчеркнутый (Ctrl+U)",children:C.jsx(kRe,{})},{value:"STRIKETHROUGH",title:"Зачеркнутый (Ctrl+S)",children:C.jsx(IRe,{})}].map(e=>C.jsx(JO,{...e},e.value)),r4e=po()(({vm:e})=>C.jsxs(ZMe,{direction:"row",gap:1,alignItems:"center",padding:"4px",divider:C.jsx(Gw,{}),children:[C.jsx(DU,{onPointerDown:kb,value:e.fontStyles,onChange:e.onFontStylesChange,children:n4e}),C.jsx(qi,{type:"number",label:"Размер",value:e.fontSizeValue,onChange:e.onFontSizeChange}),C.jsx(qi,{type:"color",label:"Цвет",value:e.colorValue,onChange:e.onColorChange}),C.jsx(Ew,{fullWidth:!0,children:C.jsx(Zl,{select:!0,size:"small",label:"Шрифт",value:e.fontValue,onChange:e.onFontChange,children:e.availableFonts.map(t=>C.jsx(xs,{value:t,children:t},t))})})]})),i4e=po()(({vm:e})=>C.jsx(ma.Editor,{ref:e.ref,editorState:e.editorState,onChange:e.onEditorChange,handleKeyCommand:e.handleKeyCommand,customStyleFn:e.customStyleFn,keyBindingFn:e.keyBindingFn,preserveSelectionOnBlur:!0,spellCheck:!0},e.randomKey)),o4e=Wt(RUe)(({vm:e})=>{const t=I2();return C.jsxs(AO,{ref:t,open:e.dialogOpen,fullWidth:!0,maxWidth:"xl",children:[C.jsx(N1e,{children:"Редактирование текста"}),C.jsx(dl,{}),C.jsx(r4e,{}),C.jsx(dl,{}),C.jsx(mPe,{children:C.jsx(i4e,{})}),C.jsx(dl,{}),C.jsxs(Xz,{children:[C.jsx(Cs,{variant:"contained",onClick:e.onApplyButtonClick,children:"Применить"}),C.jsx(Cs,{variant:"outlined",onClick:e.onCancelButtonClick,children:"Отменить"})]})]})}),s4e=Wt(IUe)(({vm:e})=>{const{textEditor:t}=e;return C.jsxs(C.Fragment,{children:[t&&C.jsx(o4e,{m:t}),C.jsxs(hR,{children:[C.jsx(gPe,{ref:e.viewMountRef}),C.jsx(Gw,{}),C.jsx(t4e,{})]})]})});function a4e(){const e=_.useRef(null);return _.useEffect(()=>{const t=e.current;if(!t)return;const n=requestAnimationFrame(()=>t.focus());return()=>{cancelAnimationFrame(n)}},[e.current]),e}class l4e extends Kt{constructor(){super(...arguments),this.onKeyUp=t=>this.setCursor(t),this.onClick=t=>this.setCursor(t),this.onChange=t=>this.m.setCurrentText(t.currentTarget.value)}get defaultValue(){return this.m.currentText}get readOnly(){return this.m.isReadonly}setCursor({currentTarget:t}){const n=t.value.slice(0,t.selectionStart).split(`
`),r=n.length,i=n[n.length-1].length+1;this.m.setCursorPosition(r,i)}}const c4e=Wt(l4e)(({vm:e})=>{const t=a4e();return C.jsx(Uke,{ref:t,defaultValue:e.defaultValue,readOnly:e.readOnly,onChange:e.onChange,onKeyUp:e.onKeyUp,onClick:e.onClick,spellCheck:!0})}),u4e=Wt(oPe)(({vm:e})=>{const{activeEditor:t}=e;if(!t)return null;switch(t.type){case"fileSceneEditor":case"klassPropsEditor":case"schemaEditor":return C.jsx(s4e,{m:t},t._reactKey);case"codeEditor":return C.jsx(qHe,{m:t},t._reactKey);case"textEditor":return C.jsx(c4e,{m:t},t._reactKey)}}),d4e=Wt(sPe)(({m:e})=>{const{tabs:t,player:n}=e;return C.jsxs(Ybe,{project:e,children:[C.jsx(uGe,{m:n}),C.jsxs(hR,{children:[C.jsx(V5e,{}),C.jsx(Gw,{}),C.jsxs(fR,{children:[C.jsxs(fR,{children:[C.jsx(KUe,{m:t}),C.jsx(dl,{}),C.jsx(u4e,{m:t})]}),C.jsx(dl,{}),C.jsx(FUe,{m:t})]})]})]})});class h4e extends Kt{constructor(t){super(),this.ctx=t,this.onModalClose=(n,r)=>{this.ctx.app.subProjectSelectorVisible.setFalse()},Ot(this,{onModalClose:Ee})}get isModalOpen(){return this.ctx.app.subProjectSelectorVisible.isTrue}}const f4e=Wt(h4e)(({vm:e})=>C.jsx(xw,{keepMounted:!0,closeAfterTransition:!0,open:e.isModalOpen,onClose:e.onModalClose,slots:{backdrop:ww},slotProps:{backdrop:{timeout:500}},children:C.jsx(pm,{in:e.isModalOpen,children:C.jsx(E5,{children:C.jsx(T5,{children:C.jsx(I5,{m:e.m})})})})})),p4e=Wt(Xbe)(({m:e})=>{const{currentProject:t,ctxMenu:n,accountSettings:r,loginFormVisible:i,loadingMessage:o,subProjectSelector:s}=e;return C.jsxs(qbe,{app:e,children:[C.jsx(iPe,{}),C.jsx(f4e,{m:s}),C.jsx(uIe,{m:r,open:i.isTrue}),C.jsx(oRe,{m:n}),t&&C.jsx(d4e,{m:t},t.id),o&&C.jsxs("h3",{children:[o,"..."]})]})});var CI={exports:{}},hv={},xI={exports:{}},_I={};var xW;function g4e(){return xW||(xW=1,(function(e){function t(z,Y){var te=z.length;z.push(Y);e:for(;0<te;){var ie=te-1>>>1,Q=z[ie];if(0<i(Q,Y))z[ie]=Y,z[te]=Q,te=ie;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],te=z.pop();if(te!==Y){z[0]=te;e:for(var ie=0,Q=z.length,H=Q>>>1;ie<H;){var X=2*(ie+1)-1,he=z[X],pe=X+1,ge=z[pe];if(0>i(he,te))pe<Q&&0>i(ge,he)?(z[ie]=ge,z[pe]=te,ie=pe):(z[ie]=he,z[X]=te,ie=X);else if(pe<Q&&0>i(ge,te))z[ie]=ge,z[pe]=te,ie=pe;else break e}}return Y}function i(z,Y){var te=z.sortIndex-Y.sortIndex;return te!==0?te:z.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,p=null,g=3,m=!1,y=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=n(u)}}function M(z){if(b=!1,O(z),!y)if(n(c)!==null)y=!0,I||(I=!0,j());else{var Y=n(u);Y!==null&&q(M,Y.startTime-z)}}var I=!1,N=-1,D=5,L=-1;function A(){return v?!0:!(e.unstable_now()-L<D)}function $(){if(v=!1,I){var z=e.unstable_now();L=z;var Y=!0;try{e:{y=!1,b&&(b=!1,E(N),N=-1),m=!0;var te=g;try{t:{for(O(z),p=n(c);p!==null&&!(p.expirationTime>z&&A());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,g=p.priorityLevel;var Q=ie(p.expirationTime<=z);if(z=e.unstable_now(),typeof Q=="function"){p.callback=Q,O(z),Y=!0;break t}p===n(c)&&r(c),O(z)}else r(c);p=n(c)}if(p!==null)Y=!0;else{var H=n(u);H!==null&&q(M,H.startTime-z),Y=!1}}break e}finally{p=null,g=te,m=!1}Y=void 0}}finally{Y?j():I=!1}}}var j;if(typeof T=="function")j=function(){T($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=$,j=function(){K.postMessage(null)}}else j=function(){S($,0)};function q(z,Y){N=S(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var te=g;g=Y;try{return z()}finally{g=te}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=g;g=z;try{return Y()}finally{g=te}},e.unstable_scheduleCallback=function(z,Y,te){var ie=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ie+te:ie):te=ie,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,z={id:h++,callback:Y,priorityLevel:z,startTime:te,expirationTime:Q,sortIndex:-1},te>ie?(z.sortIndex=te,t(u,z),n(c)===null&&z===n(u)&&(b?(E(N),N=-1):b=!0,q(M,te-ie))):(z.sortIndex=Q,t(c,z),y||m||(y=!0,I||(I=!0,j()))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var Y=g;return function(){var te=g;g=Y;try{return z.apply(this,arguments)}finally{g=te}}}})(_I)),_I}var _W;function m4e(){return _W||(_W=1,xI.exports=g4e()),xI.exports}var EW;function v4e(){if(EW)return hv;EW=1;var e=m4e(),t=Yo(),n=mT();function r(a){var d="https://react.dev/errors/"+a;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var d=a,f=a;if(a.alternate)for(;d.return;)d=d.return;else{a=d;do d=a,(d.flags&4098)!==0&&(f=d.return),a=d.return;while(a)}return d.tag===3?f:null}function s(a){if(a.tag===13){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function l(a){if(a.tag===31){var d=a.memoizedState;if(d===null&&(a=a.alternate,a!==null&&(d=a.memoizedState)),d!==null)return d.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function u(a){var d=a.alternate;if(!d){if(d=o(a),d===null)throw Error(r(188));return d!==a?null:a}for(var f=a,w=d;;){var R=f.return;if(R===null)break;var F=R.alternate;if(F===null){if(w=R.return,w!==null){f=w;continue}break}if(R.child===F.child){for(F=R.child;F;){if(F===f)return c(R),a;if(F===w)return c(R),d;F=F.sibling}throw Error(r(188))}if(f.return!==w.return)f=R,w=F;else{for(var ee=!1,le=R.child;le;){if(le===f){ee=!0,f=R,w=F;break}if(le===w){ee=!0,w=R,f=F;break}le=le.sibling}if(!ee){for(le=F.child;le;){if(le===f){ee=!0,f=F,w=R;break}if(le===w){ee=!0,w=F,f=R;break}le=le.sibling}if(!ee)throw Error(r(189))}}if(f.alternate!==w)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:d}function h(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a;for(a=a.child;a!==null;){if(d=h(a),d!==null)return d;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case y:return"Portal";case T:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case O:var d=a.render;return a=a.displayName,a||(a=d.displayName||d.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return d=a.displayName||null,d!==null?d:K(a.type)||"Memo";case D:d=a._payload,a=a._init;try{return K(a(d))}catch{}}return null}var q=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ie=[],Q=-1;function H(a){return{current:a}}function X(a){0>Q||(a.current=ie[Q],ie[Q]=null,Q--)}function he(a,d){Q++,ie[Q]=a.current,a.current=d}var pe=H(null),ge=H(null),ce=H(null),be=H(null);function Ne(a,d){switch(he(ce,d),he(ge,a),he(pe,null),d.nodeType){case 9:case 11:a=(a=d.documentElement)&&(a=a.namespaceURI)?QK(a):0;break;default:if(a=d.tagName,d=d.namespaceURI)d=QK(d),a=JK(d,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(pe),he(pe,a)}function _e(){X(pe),X(ge),X(ce)}function me(a){a.memoizedState!==null&&he(be,a);var d=pe.current,f=JK(d,a.type);d!==f&&(he(ge,a),he(pe,f))}function ye(a){ge.current===a&&(X(pe),X(ge)),be.current===a&&(X(be),zv._currentValue=te)}var xe,Ie;function Pe(a){if(xe===void 0)try{throw Error()}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);xe=d&&d[1]||"",Ie=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+a+Ie}var Re=!1;function Fe(a,d){if(!a||Re)return"";Re=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(d){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(tt){var qe=tt}Reflect.construct(a,[],vt)}else{try{vt.call()}catch(tt){qe=tt}a.call(vt.prototype)}}else{try{throw Error()}catch(tt){qe=tt}(vt=a())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(tt){if(tt&&qe&&typeof tt.stack=="string")return[tt.stack,qe.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=w.DetermineComponentFrameRoot(),ee=F[0],le=F[1];if(ee&&le){var Ce=ee.split(`
`),We=le.split(`
`);for(R=w=0;w<Ce.length&&!Ce[w].includes("DetermineComponentFrameRoot");)w++;for(;R<We.length&&!We[R].includes("DetermineComponentFrameRoot");)R++;if(w===Ce.length||R===We.length)for(w=Ce.length-1,R=We.length-1;1<=w&&0<=R&&Ce[w]!==We[R];)R--;for(;1<=w&&0<=R;w--,R--)if(Ce[w]!==We[R]){if(w!==1||R!==1)do if(w--,R--,0>R||Ce[w]!==We[R]){var ut=`
`+Ce[w].replace(" at new "," at ");return a.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",a.displayName)),ut}while(1<=w&&0<=R);break}}}finally{Re=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Pe(f):""}function ft(a,d){switch(a.tag){case 26:case 27:case 5:return Pe(a.type);case 16:return Pe("Lazy");case 13:return a.child!==d&&d!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Fe(a.type,!1);case 11:return Fe(a.type.render,!1);case 1:return Fe(a.type,!0);case 31:return Pe("Activity");default:return""}}function Ue(a){try{var d="",f=null;do d+=ft(a,f),f=a,a=a.return;while(a);return d}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Ft=Object.prototype.hasOwnProperty,Ct=e.unstable_scheduleCallback,Rt=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,$t=e.unstable_requestPaint,yt=e.unstable_now,zt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,pn=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,Mt=e.unstable_LowPriority,At=e.unstable_IdlePriority,Ye=e.log,xt=e.unstable_setDisableYieldValue,St=null,nt=null;function mt(a){if(typeof Ye=="function"&&xt(a),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(St,a)}catch{}}var Pt=Math.clz32?Math.clz32:nr,Et=Math.log,Nt=Math.LN2;function nr(a){return a>>>=0,a===0?32:31-(Et(a)/Nt|0)|0}var An=256,Cr=262144,rr=4194304;function mr(a){var d=a&42;if(d!==0)return d;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function bt(a,d,f){var w=a.pendingLanes;if(w===0)return 0;var R=0,F=a.suspendedLanes,ee=a.pingedLanes;a=a.warmLanes;var le=w&134217727;return le!==0?(w=le&~F,w!==0?R=mr(w):(ee&=le,ee!==0?R=mr(ee):f||(f=le&~a,f!==0&&(R=mr(f))))):(le=w&~F,le!==0?R=mr(le):ee!==0?R=mr(ee):f||(f=w&~a,f!==0&&(R=mr(f)))),R===0?0:d!==0&&d!==R&&(d&F)===0&&(F=R&-R,f=d&-d,F>=f||F===32&&(f&4194048)!==0)?d:R}function Fr(a,d){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&d)===0}function ai(a,d){switch(a){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jt(){var a=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),a}function Gn(a){for(var d=[],f=0;31>f;f++)d.push(a);return d}function Bt(a,d){a.pendingLanes|=d,d!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function en(a,d,f,w,R,F){var ee=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var le=a.entanglements,Ce=a.expirationTimes,We=a.hiddenUpdates;for(f=ee&~f;0<f;){var ut=31-Pt(f),vt=1<<ut;le[ut]=0,Ce[ut]=-1;var qe=We[ut];if(qe!==null)for(We[ut]=null,ut=0;ut<qe.length;ut++){var tt=qe[ut];tt!==null&&(tt.lane&=-536870913)}f&=~vt}w!==0&&Sn(a,w,0),F!==0&&R===0&&a.tag!==0&&(a.suspendedLanes|=F&~(ee&~d))}function Sn(a,d,f){a.pendingLanes|=d,a.suspendedLanes&=~d;var w=31-Pt(d);a.entangledLanes|=d,a.entanglements[w]=a.entanglements[w]|1073741824|f&261930}function Tn(a,d){var f=a.entangledLanes|=d;for(a=a.entanglements;f;){var w=31-Pt(f),R=1<<w;R&d|a[w]&d&&(a[w]|=d),f&=~R}}function Mn(a,d){var f=d&-d;return f=(f&42)!==0?1:hi(f),(f&(a.suspendedLanes|d))!==0?0:f}function hi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Qr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Vi(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:Cq(a.type))}function Ao(a,d){var f=Y.p;try{return Y.p=a,d()}finally{Y.p=f}}var Mr=Math.random().toString(36).slice(2),yn="__reactFiber$"+Mr,ir="__reactProps$"+Mr,Pi="__reactContainer$"+Mr,zo="__reactEvents$"+Mr,fi="__reactListeners$"+Mr,Vn="__reactHandles$"+Mr,st="__reactResources$"+Mr,et="__reactMarker$"+Mr;function wt(a){delete a[yn],delete a[ir],delete a[zo],delete a[fi],delete a[Vn]}function qt(a){var d=a[yn];if(d)return d;for(var f=a.parentNode;f;){if(d=f[Pi]||f[yn]){if(f=d.alternate,d.child!==null||f!==null&&f.child!==null)for(a=sq(a);a!==null;){if(f=a[yn])return f;a=sq(a)}return d}a=f,f=a.parentNode}return null}function sn(a){if(a=a[yn]||a[Pi]){var d=a.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return a}return null}function vr(a){var d=a.tag;if(d===5||d===26||d===27||d===6)return a.stateNode;throw Error(r(33))}function or(a){var d=a[st];return d||(d=a[st]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function zn(a){a[et]=!0}var bo=new Set,Ts={};function to(a,d){Lo(a,d),Lo(a+"Capture",d)}function Lo(a,d){for(Ts[a]=d,a=0;a<d.length;a++)bo.add(d[a])}var $n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},wo={};function Qo(a){return Ft.call(wo,a)?!0:Ft.call(Jr,a)?!1:$n.test(a)?wo[a]=!0:(Jr[a]=!0,!1)}function Ba(a,d,f){if(Qo(d))if(f===null)a.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(d);return;case"boolean":var w=d.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){a.removeAttribute(d);return}}a.setAttribute(d,""+f)}}function Fa(a,d,f){if(f===null)a.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttribute(d,""+f)}}function $i(a,d,f,w){if(w===null)a.removeAttribute(f);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(d,f,""+w)}}function Wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ms(a){var d=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Jo(a,d,f){var w=Object.getOwnPropertyDescriptor(a.constructor.prototype,d);if(!a.hasOwnProperty(d)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var R=w.get,F=w.set;return Object.defineProperty(a,d,{configurable:!0,get:function(){return R.call(this)},set:function(ee){f=""+ee,F.call(this,ee)}}),Object.defineProperty(a,d,{enumerable:w.enumerable}),{getValue:function(){return f},setValue:function(ee){f=""+ee},stopTracking:function(){a._valueTracker=null,delete a[d]}}}}function Qs(a){if(!a._valueTracker){var d=Ms(a)?"checked":"value";a._valueTracker=Jo(a,d,""+a[d])}}function ja(a){if(!a)return!1;var d=a._valueTracker;if(!d)return!0;var f=d.getValue(),w="";return a&&(w=Ms(a)?a.checked?"true":"false":a.value),a=w,a!==f?(d.setValue(a),!0):!1}function Js(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Yu=/[\n"\\]/g;function So(a){return a.replace(Yu,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Os(a,d,f,w,R,F,ee,le){a.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?a.type=ee:a.removeAttribute("type"),d!=null?ee==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+Wn(d)):a.value!==""+Wn(d)&&(a.value=""+Wn(d)):ee!=="submit"&&ee!=="reset"||a.removeAttribute("value"),d!=null?oc(a,ee,Wn(d)):f!=null?oc(a,ee,Wn(f)):w!=null&&a.removeAttribute("value"),R==null&&F!=null&&(a.defaultChecked=!!F),R!=null&&(a.checked=R&&typeof R!="function"&&typeof R!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?a.name=""+Wn(le):a.removeAttribute("name")}function ic(a,d,f,w,R,F,ee,le){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.type=F),d!=null||f!=null){if(!(F!=="submit"&&F!=="reset"||d!=null)){Qs(a);return}f=f!=null?""+Wn(f):"",d=d!=null?""+Wn(d):f,le||d===a.value||(a.value=d),a.defaultValue=d}w=w??R,w=typeof w!="function"&&typeof w!="symbol"&&!!w,a.checked=le?a.checked:!!w,a.defaultChecked=!!w,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(a.name=ee),Qs(a)}function oc(a,d,f){d==="number"&&Js(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function ds(a,d,f,w){if(a=a.options,d){d={};for(var R=0;R<f.length;R++)d["$"+f[R]]=!0;for(f=0;f<a.length;f++)R=d.hasOwnProperty("$"+a[f].value),a[f].selected!==R&&(a[f].selected=R),R&&w&&(a[f].defaultSelected=!0)}else{for(f=""+Wn(f),d=null,R=0;R<a.length;R++){if(a[R].value===f){a[R].selected=!0,w&&(a[R].defaultSelected=!0);return}d!==null||a[R].disabled||(d=a[R])}d!==null&&(d.selected=!0)}}function sc(a,d,f){if(d!=null&&(d=""+Wn(d),d!==a.value&&(a.value=d),f==null)){a.defaultValue!==d&&(a.defaultValue=d);return}a.defaultValue=f!=null?""+Wn(f):""}function ac(a,d,f,w){if(d==null){if(w!=null){if(f!=null)throw Error(r(92));if(q(w)){if(1<w.length)throw Error(r(93));w=w[0]}f=w}f==null&&(f=""),d=f}f=Wn(d),a.defaultValue=f,w=a.textContent,w===f&&w!==""&&w!==null&&(a.value=w),Qs(a)}function cr(a,d){if(d){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=d;return}}a.textContent=d}var Xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Va(a,d,f){var w=d.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?w?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="":w?a.setProperty(d,f):typeof f!="number"||f===0||Xu.has(d)?d==="float"?a.cssFloat=f:a[d]=(""+f).trim():a[d]=f+"px"}function li(a,d,f){if(d!=null&&typeof d!="object")throw Error(r(62));if(a=a.style,f!=null){for(var w in f)!f.hasOwnProperty(w)||d!=null&&d.hasOwnProperty(w)||(w.indexOf("--")===0?a.setProperty(w,""):w==="float"?a.cssFloat="":a[w]="");for(var R in d)w=d[R],d.hasOwnProperty(R)&&f[R]!==w&&Va(a,R,w)}else for(var F in d)d.hasOwnProperty(F)&&Va(a,F,d[F])}function Di(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ea=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(a){return es.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ro(){}var wl=null;function dn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ts=null,Yi=null;function lc(a){var d=sn(a);if(d&&(a=d.stateNode)){var f=a[ir]||null;e:switch(a=d.stateNode,d.type){case"input":if(Os(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),d=f.name,f.type==="radio"&&d!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+So(""+d)+'"][type="radio"]'),d=0;d<f.length;d++){var w=f[d];if(w!==a&&w.form===a.form){var R=w[ir]||null;if(!R)throw Error(r(90));Os(w,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(d=0;d<f.length;d++)w=f[d],w.form===a.form&&ja(w)}break e;case"textarea":sc(a,f.value,f.defaultValue);break e;case"select":d=f.value,d!=null&&ds(a,!!f.multiple,d,!1)}}}var No=!1;function hs(a,d,f){if(No)return a(d,f);No=!0;try{var w=a(d);return w}finally{if(No=!1,(ts!==null||Yi!==null)&&(g0(),ts&&(d=ts,a=Yi,Yi=ts=null,lc(d),a)))for(d=0;d<a.length;d++)lc(a[d])}}function Ai(a,d){var f=a.stateNode;if(f===null)return null;var w=f[ir]||null;if(w===null)return null;f=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,d,typeof f));return f}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=!1;if(ar)try{var B={};Object.defineProperty(B,"passive",{get:function(){$a=!0}}),window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{$a=!1}var G=null,re=null,ue=null;function Se(){if(ue)return ue;var a,d=re,f=d.length,w,R="value"in G?G.value:G.textContent,F=R.length;for(a=0;a<f&&d[a]===R[a];a++);var ee=f-a;for(w=1;w<=ee&&d[f-w]===R[F-w];w++);return ue=R.slice(a,1<w?1-w:void 0)}function Ve(a){var d=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&d===13&&(a=13)):a=d,a===10&&(a=13),32<=a||a===13?a:0}function it(){return!0}function an(){return!1}function bn(a){function d(f,w,R,F,ee){this._reactName=f,this._targetInst=R,this.type=w,this.nativeEvent=F,this.target=ee,this.currentTarget=null;for(var le in a)a.hasOwnProperty(le)&&(f=a[le],this[le]=f?f(F):F[le]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?it:an,this.isPropagationStopped=an,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=it)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=it)},persist:function(){},isPersistent:it}),d}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=bn(In),pi=p({},In,{view:0,detail:0}),Zu=bn(pi),jc,za,Sl,Ua=p({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Sl&&(Sl&&a.type==="mousemove"?(jc=a.screenX-Sl.screenX,za=a.screenY-Sl.screenY):za=jc=0,Sl=a),jc)},movementY:function(a){return"movementY"in a?a.movementY:za}}),Qu=bn(Ua),Ju=p({},Ua,{dataTransfer:0}),Bh=bn(Ju),Fh=p({},pi,{relatedTarget:0}),Rs=bn(Fh),cc=p({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),ed=bn(cc),Vc=p({},In,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),xr=bn(Vc),td=p({},In,{data:0}),$c=bn(td),nd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ns={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(a){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(a):(a=zc[a])?!!d[a]:!1}function uc(){return rd}var io=p({},pi,{key:function(a){if(a.key){var d=nd[a.key]||a.key;if(d!=="Unidentified")return d}return a.type==="keypress"?(a=Ve(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ns[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(a){return a.type==="keypress"?Ve(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ve(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Li=bn(io),de=p({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rn=bn(de),Ha=p({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Uo=bn(Ha),Rr=p({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=bn(Rr),Ga=p({},Ua,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Co=bn(Ga),Uc=p({},In,{newState:0,oldState:0}),En=bn(Uc),xo=[9,13,27,32],Wa=ar&&"CompositionEvent"in window,Yn=null;ar&&"documentMode"in document&&(Yn=document.documentMode);var $e=ar&&"TextEvent"in window&&!Yn,gt=ar&&(!Wa||Yn&&8<Yn&&11>=Yn),ze=" ",vn=!1;function On(a,d){switch(a){case"keyup":return xo.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ti=!1;function zi(a,d){switch(a){case"compositionend":return Cn(d);case"keypress":return d.which!==32?null:(vn=!0,ze);case"textInput":return a=d.data,a===ze&&vn?null:a;default:return null}}function Mi(a,d){if(Ti)return a==="compositionend"||!Wa&&On(a,d)?(a=Se(),ue=re=G=null,Ti=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return gt&&d.locale!=="ko"?null:d.data;default:return null}}var Xi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cl(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d==="input"?!!Xi[a.type]:d==="textarea"}function _o(a,d,f,w){ts?Yi?Yi.push(w):Yi=[w]:ts=w,d=C0(d,"onChange"),0<d.length&&(f=new Or("onChange","change",null,f,w),a.push({event:f,listeners:d}))}var Zi=null,Hr=null;function id(a){WK(a,0)}function od(a){var d=vr(a);if(ja(d))return a}function dp(a,d){if(a==="change")return d}var Hc=!1;if(ar){var sd;if(ar){var ad="oninput"in document;if(!ad){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),ad=typeof hp.oninput=="function"}sd=ad}else sd=!1;Hc=sd&&(!document.documentMode||9<document.documentMode)}function jh(){Zi&&(Zi.detachEvent("onpropertychange",fp),Hr=Zi=null)}function fp(a){if(a.propertyName==="value"&&od(Hr)){var d=[];_o(d,Hr,a,dn(a)),hs(id,d)}}function ld(a,d,f){a==="focusin"?(jh(),Zi=d,Hr=f,Zi.attachEvent("onpropertychange",fp)):a==="focusout"&&jh()}function Gc(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return od(Hr)}function fv(a,d){if(a==="click")return od(d)}function x(a,d){if(a==="input"||a==="change")return od(d)}function V(a,d){return a===d&&(a!==0||1/a===1/d)||a!==a&&d!==d}var J=typeof Object.is=="function"?Object.is:V;function ne(a,d){if(J(a,d))return!0;if(typeof a!="object"||a===null||typeof d!="object"||d===null)return!1;var f=Object.keys(a),w=Object.keys(d);if(f.length!==w.length)return!1;for(w=0;w<f.length;w++){var R=f[w];if(!Ft.call(d,R)||!J(a[R],d[R]))return!1}return!0}function oe(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ve(a,d){var f=oe(a);a=0;for(var w;f;){if(f.nodeType===3){if(w=a+f.textContent.length,a<=d&&w>=d)return{node:f,offset:d-a};a=w}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=oe(f)}}function we(a,d){return a&&d?a===d?!0:a&&a.nodeType===3?!1:d&&d.nodeType===3?we(a,d.parentNode):"contains"in a?a.contains(d):a.compareDocumentPosition?!!(a.compareDocumentPosition(d)&16):!1:!1}function De(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var d=Js(a.document);d instanceof a.HTMLIFrameElement;){try{var f=typeof d.contentWindow.location.href=="string"}catch{f=!1}if(f)a=d.contentWindow;else break;d=Js(a.document)}return d}function Xe(a){var d=a&&a.nodeName&&a.nodeName.toLowerCase();return d&&(d==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||d==="textarea"||a.contentEditable==="true")}var at=ar&&"documentMode"in document&&11>=document.documentMode,ht=null,Gt=null,Zt=null,kn=!1;function Kn(a,d,f){var w=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;kn||ht==null||ht!==Js(w)||(w=ht,"selectionStart"in w&&Xe(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Zt&&ne(Zt,w)||(Zt=w,w=C0(Gt,"onSelect"),0<w.length&&(d=new Or("onSelect","select",null,d,f),a.push({event:d,listeners:w}),d.target=ht)))}function wr(a,d){var f={};return f[a.toLowerCase()]=d.toLowerCase(),f["Webkit"+a]="webkit"+d,f["Moz"+a]="moz"+d,f}var Pr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},rs={},xl={};ar&&(xl=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Wc(a){if(rs[a])return rs[a];if(!Pr[a])return a;var d=Pr[a],f;for(f in d)if(d.hasOwnProperty(f)&&f in xl)return rs[a]=d[f];return a}var AS=Wc("animationend"),LS=Wc("animationiteration"),NS=Wc("animationstart"),EI=Wc("transitionrun"),Qt=Wc("transitionstart"),BS=Wc("transitioncancel"),oo=Wc("transitionend"),pp=new Map,gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gp.push("scrollEnd");function Z(a,d){pp.set(a,d),to(d,[a])}var ae=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Me=[],ke=0,Ze=0;function rt(){for(var a=ke,d=Ze=ke=0;d<a;){var f=Me[d];Me[d++]=null;var w=Me[d];Me[d++]=null;var R=Me[d];Me[d++]=null;var F=Me[d];if(Me[d++]=null,w!==null&&R!==null){var ee=w.pending;ee===null?R.next=R:(R.next=ee.next,ee.next=R),w.pending=R}F!==0&&MW(f,R,F)}}function xn(a,d,f,w){Me[ke++]=a,Me[ke++]=d,Me[ke++]=f,Me[ke++]=w,Ze|=w,a.lanes|=w,a=a.alternate,a!==null&&(a.lanes|=w)}function Ln(a,d,f,w){return xn(a,d,f,w),FS(a)}function Bo(a,d){return xn(a,null,null,d),FS(a)}function MW(a,d,f){a.lanes|=f;var w=a.alternate;w!==null&&(w.lanes|=f);for(var R=!1,F=a.return;F!==null;)F.childLanes|=f,w=F.alternate,w!==null&&(w.childLanes|=f),F.tag===22&&(a=F.stateNode,a===null||a._visibility&1||(R=!0)),a=F,F=F.return;return a.tag===3?(F=a.stateNode,R&&d!==null&&(R=31-Pt(f),a=F.hiddenUpdates,w=a[R],w===null?a[R]=[d]:w.push(d),d.lane=f|536870912),F):null}function FS(a){if(50<Lv)throw Lv=0,Ak=null,Error(r(185));for(var d=a.return;d!==null;)a=d,d=a.return;return a.tag===3?a.stateNode:null}var mp={};function C4e(a,d,f,w){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(a,d,f,w){return new C4e(a,d,f,w)}function TI(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Kc(a,d){var f=a.alternate;return f===null?(f=ta(a.tag,d,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=d,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,d=a.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function OW(a,d){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=d,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,d=f.dependencies,a.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),a}function jS(a,d,f,w,R,F){var ee=0;if(w=a,typeof a=="function")TI(a)&&(ee=1);else if(typeof a=="string")ee=MWe(a,f,pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=ta(31,f,d,R),a.elementType=L,a.lanes=F,a;case b:return Vh(f.children,R,F,d);case v:ee=8,R|=24;break;case S:return a=ta(12,f,d,R|2),a.elementType=S,a.lanes=F,a;case M:return a=ta(13,f,d,R),a.elementType=M,a.lanes=F,a;case I:return a=ta(19,f,d,R),a.elementType=I,a.lanes=F,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:ee=10;break e;case E:ee=9;break e;case O:ee=11;break e;case N:ee=14;break e;case D:ee=16,w=null;break e}ee=29,f=Error(r(130,a===null?"null":typeof a,"")),w=null}return d=ta(ee,f,d,R),d.elementType=a,d.type=w,d.lanes=F,d}function Vh(a,d,f,w){return a=ta(7,a,w,d),a.lanes=f,a}function MI(a,d,f){return a=ta(6,a,null,d),a.lanes=f,a}function RW(a){var d=ta(18,null,null,0);return d.stateNode=a,d}function OI(a,d,f){return d=ta(4,a.children!==null?a.children:[],a.key,d),d.lanes=f,d.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},d}var IW=new WeakMap;function Ka(a,d){if(typeof a=="object"&&a!==null){var f=IW.get(a);return f!==void 0?f:(d={value:a,source:d,stack:Ue(d)},IW.set(a,d),d)}return{value:a,source:d,stack:Ue(d)}}var vp=[],yp=0,VS=null,pv=0,qa=[],Ya=0,cd=null,dc=1,hc="";function qc(a,d){vp[yp++]=pv,vp[yp++]=VS,VS=a,pv=d}function kW(a,d,f){qa[Ya++]=dc,qa[Ya++]=hc,qa[Ya++]=cd,cd=a;var w=dc;a=hc;var R=32-Pt(w)-1;w&=~(1<<R),f+=1;var F=32-Pt(d)+R;if(30<F){var ee=R-R%5;F=(w&(1<<ee)-1).toString(32),w>>=ee,R-=ee,dc=1<<32-Pt(d)+R|f<<R|w,hc=F+a}else dc=1<<F|f<<R|w,hc=a}function RI(a){a.return!==null&&(qc(a,1),kW(a,1,0))}function II(a){for(;a===VS;)VS=vp[--yp],vp[yp]=null,pv=vp[--yp],vp[yp]=null;for(;a===cd;)cd=qa[--Ya],qa[Ya]=null,hc=qa[--Ya],qa[Ya]=null,dc=qa[--Ya],qa[Ya]=null}function PW(a,d){qa[Ya++]=dc,qa[Ya++]=hc,qa[Ya++]=cd,dc=d.id,hc=d.overflow,cd=a}var Ho=null,gi=null,Sr=!1,ud=null,Xa=!1,kI=Error(r(519));function dd(a){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gv(Ka(d,a)),kI}function DW(a){var d=a.stateNode,f=a.type,w=a.memoizedProps;switch(d[yn]=a,d[ir]=w,f){case"dialog":hr("cancel",d),hr("close",d);break;case"iframe":case"object":case"embed":hr("load",d);break;case"video":case"audio":for(f=0;f<Bv.length;f++)hr(Bv[f],d);break;case"source":hr("error",d);break;case"img":case"image":case"link":hr("error",d),hr("load",d);break;case"details":hr("toggle",d);break;case"input":hr("invalid",d),ic(d,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":hr("invalid",d);break;case"textarea":hr("invalid",d),ac(d,w.value,w.defaultValue,w.children)}f=w.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||d.textContent===""+f||w.suppressHydrationWarning===!0||XK(d.textContent,f)?(w.popover!=null&&(hr("beforetoggle",d),hr("toggle",d)),w.onScroll!=null&&hr("scroll",d),w.onScrollEnd!=null&&hr("scrollend",d),w.onClick!=null&&(d.onclick=ro),d=!0):d=!1,d||dd(a,!0)}function AW(a){for(Ho=a.return;Ho;)switch(Ho.tag){case 5:case 31:case 13:Xa=!1;return;case 27:case 3:Xa=!0;return;default:Ho=Ho.return}}function bp(a){if(a!==Ho)return!1;if(!Sr)return AW(a),Sr=!0,!1;var d=a.tag,f;if((f=d!==3&&d!==27)&&((f=d===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Yk(a.type,a.memoizedProps)),f=!f),f&&gi&&dd(a),AW(a),d===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));gi=oq(a)}else if(d===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));gi=oq(a)}else d===27?(d=gi,Ed(a.type)?(a=eP,eP=null,gi=a):gi=d):gi=Ho?Qa(a.stateNode.nextSibling):null;return!0}function $h(){gi=Ho=null,Sr=!1}function PI(){var a=ud;return a!==null&&(Ds===null?Ds=a:Ds.push.apply(Ds,a),ud=null),a}function gv(a){ud===null?ud=[a]:ud.push(a)}var DI=H(null),zh=null,Yc=null;function hd(a,d,f){he(DI,d._currentValue),d._currentValue=f}function Xc(a){a._currentValue=DI.current,X(DI)}function AI(a,d,f){for(;a!==null;){var w=a.alternate;if((a.childLanes&d)!==d?(a.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),a===f)break;a=a.return}}function LI(a,d,f,w){var R=a.child;for(R!==null&&(R.return=a);R!==null;){var F=R.dependencies;if(F!==null){var ee=R.child;F=F.firstContext;e:for(;F!==null;){var le=F;F=R;for(var Ce=0;Ce<d.length;Ce++)if(le.context===d[Ce]){F.lanes|=f,le=F.alternate,le!==null&&(le.lanes|=f),AI(F.return,f,a),w||(ee=null);break e}F=le.next}}else if(R.tag===18){if(ee=R.return,ee===null)throw Error(r(341));ee.lanes|=f,F=ee.alternate,F!==null&&(F.lanes|=f),AI(ee,f,a),ee=null}else ee=R.child;if(ee!==null)ee.return=R;else for(ee=R;ee!==null;){if(ee===a){ee=null;break}if(R=ee.sibling,R!==null){R.return=ee.return,ee=R;break}ee=ee.return}R=ee}}function wp(a,d,f,w){a=null;for(var R=d,F=!1;R!==null;){if(!F){if((R.flags&524288)!==0)F=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var ee=R.alternate;if(ee===null)throw Error(r(387));if(ee=ee.memoizedProps,ee!==null){var le=R.type;J(R.pendingProps.value,ee.value)||(a!==null?a.push(le):a=[le])}}else if(R===be.current){if(ee=R.alternate,ee===null)throw Error(r(387));ee.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(a!==null?a.push(zv):a=[zv])}R=R.return}a!==null&&LI(d,a,f,w),d.flags|=262144}function $S(a){for(a=a.firstContext;a!==null;){if(!J(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Uh(a){zh=a,Yc=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Go(a){return LW(zh,a)}function zS(a,d){return zh===null&&Uh(a),LW(a,d)}function LW(a,d){var f=d._currentValue;if(d={context:d,memoizedValue:f,next:null},Yc===null){if(a===null)throw Error(r(308));Yc=d,a.dependencies={lanes:0,firstContext:d},a.flags|=524288}else Yc=Yc.next=d;return f}var x4e=typeof AbortController<"u"?AbortController:function(){var a=[],d=this.signal={aborted:!1,addEventListener:function(f,w){a.push(w)}};this.abort=function(){d.aborted=!0,a.forEach(function(f){return f()})}},_4e=e.unstable_scheduleCallback,E4e=e.unstable_NormalPriority,so={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function NI(){return{controller:new x4e,data:new Map,refCount:0}}function mv(a){a.refCount--,a.refCount===0&&_4e(E4e,function(){a.controller.abort()})}var vv=null,BI=0,Sp=0,Cp=null;function T4e(a,d){if(vv===null){var f=vv=[];BI=0,Sp=Vk(),Cp={status:"pending",value:void 0,then:function(w){f.push(w)}}}return BI++,d.then(NW,NW),d}function NW(){if(--BI===0&&vv!==null){Cp!==null&&(Cp.status="fulfilled");var a=vv;vv=null,Sp=0,Cp=null;for(var d=0;d<a.length;d++)(0,a[d])()}}function M4e(a,d){var f=[],w={status:"pending",value:null,reason:null,then:function(R){f.push(R)}};return a.then(function(){w.status="fulfilled",w.value=d;for(var R=0;R<f.length;R++)(0,f[R])(d)},function(R){for(w.status="rejected",w.reason=R,R=0;R<f.length;R++)(0,f[R])(void 0)}),w}var BW=z.S;z.S=function(a,d){wK=yt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&T4e(a,d),BW!==null&&BW(a,d)};var Hh=H(null);function FI(){var a=Hh.current;return a!==null?a:ii.pooledCache}function US(a,d){d===null?he(Hh,Hh.current):he(Hh,d.pool)}function FW(){var a=FI();return a===null?null:{parent:so._currentValue,pool:a}}var xp=Error(r(460)),jI=Error(r(474)),HS=Error(r(542)),GS={then:function(){}};function jW(a){return a=a.status,a==="fulfilled"||a==="rejected"}function VW(a,d,f){switch(f=a[f],f===void 0?a.push(d):f!==d&&(d.then(ro,ro),d=f),d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,zW(a),a;default:if(typeof d.status=="string")d.then(ro,ro);else{if(a=ii,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=d,a.status="pending",a.then(function(w){if(d.status==="pending"){var R=d;R.status="fulfilled",R.value=w}},function(w){if(d.status==="pending"){var R=d;R.status="rejected",R.reason=w}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw a=d.reason,zW(a),a}throw Wh=d,xp}}function Gh(a){try{var d=a._init;return d(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Wh=f,xp):f}}var Wh=null;function $W(){if(Wh===null)throw Error(r(459));var a=Wh;return Wh=null,a}function zW(a){if(a===xp||a===HS)throw Error(r(483))}var _p=null,yv=0;function WS(a){var d=yv;return yv+=1,_p===null&&(_p=[]),VW(_p,a,d)}function bv(a,d){d=d.props.ref,a.ref=d!==void 0?d:null}function KS(a,d){throw d.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(d),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":a)))}function UW(a){function d(je,Oe){if(a){var Ge=je.deletions;Ge===null?(je.deletions=[Oe],je.flags|=16):Ge.push(Oe)}}function f(je,Oe){if(!a)return null;for(;Oe!==null;)d(je,Oe),Oe=Oe.sibling;return null}function w(je){for(var Oe=new Map;je!==null;)je.key!==null?Oe.set(je.key,je):Oe.set(je.index,je),je=je.sibling;return Oe}function R(je,Oe){return je=Kc(je,Oe),je.index=0,je.sibling=null,je}function F(je,Oe,Ge){return je.index=Ge,a?(Ge=je.alternate,Ge!==null?(Ge=Ge.index,Ge<Oe?(je.flags|=67108866,Oe):Ge):(je.flags|=67108866,Oe)):(je.flags|=1048576,Oe)}function ee(je){return a&&je.alternate===null&&(je.flags|=67108866),je}function le(je,Oe,Ge,pt){return Oe===null||Oe.tag!==6?(Oe=MI(Ge,je.mode,pt),Oe.return=je,Oe):(Oe=R(Oe,Ge),Oe.return=je,Oe)}function Ce(je,Oe,Ge,pt){var _n=Ge.type;return _n===b?ut(je,Oe,Ge.props.children,pt,Ge.key):Oe!==null&&(Oe.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===D&&Gh(_n)===Oe.type)?(Oe=R(Oe,Ge.props),bv(Oe,Ge),Oe.return=je,Oe):(Oe=jS(Ge.type,Ge.key,Ge.props,null,je.mode,pt),bv(Oe,Ge),Oe.return=je,Oe)}function We(je,Oe,Ge,pt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ge.containerInfo||Oe.stateNode.implementation!==Ge.implementation?(Oe=OI(Ge,je.mode,pt),Oe.return=je,Oe):(Oe=R(Oe,Ge.children||[]),Oe.return=je,Oe)}function ut(je,Oe,Ge,pt,_n){return Oe===null||Oe.tag!==7?(Oe=Vh(Ge,je.mode,pt,_n),Oe.return=je,Oe):(Oe=R(Oe,Ge),Oe.return=je,Oe)}function vt(je,Oe,Ge){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=MI(""+Oe,je.mode,Ge),Oe.return=je,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case m:return Ge=jS(Oe.type,Oe.key,Oe.props,null,je.mode,Ge),bv(Ge,Oe),Ge.return=je,Ge;case y:return Oe=OI(Oe,je.mode,Ge),Oe.return=je,Oe;case D:return Oe=Gh(Oe),vt(je,Oe,Ge)}if(q(Oe)||j(Oe))return Oe=Vh(Oe,je.mode,Ge,null),Oe.return=je,Oe;if(typeof Oe.then=="function")return vt(je,WS(Oe),Ge);if(Oe.$$typeof===T)return vt(je,zS(je,Oe),Ge);KS(je,Oe)}return null}function qe(je,Oe,Ge,pt){var _n=Oe!==null?Oe.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return _n!==null?null:le(je,Oe,""+Ge,pt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case m:return Ge.key===_n?Ce(je,Oe,Ge,pt):null;case y:return Ge.key===_n?We(je,Oe,Ge,pt):null;case D:return Ge=Gh(Ge),qe(je,Oe,Ge,pt)}if(q(Ge)||j(Ge))return _n!==null?null:ut(je,Oe,Ge,pt,null);if(typeof Ge.then=="function")return qe(je,Oe,WS(Ge),pt);if(Ge.$$typeof===T)return qe(je,Oe,zS(je,Ge),pt);KS(je,Ge)}return null}function tt(je,Oe,Ge,pt,_n){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return je=je.get(Ge)||null,le(Oe,je,""+pt,_n);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case m:return je=je.get(pt.key===null?Ge:pt.key)||null,Ce(Oe,je,pt,_n);case y:return je=je.get(pt.key===null?Ge:pt.key)||null,We(Oe,je,pt,_n);case D:return pt=Gh(pt),tt(je,Oe,Ge,pt,_n)}if(q(pt)||j(pt))return je=je.get(Ge)||null,ut(Oe,je,pt,_n,null);if(typeof pt.then=="function")return tt(je,Oe,Ge,WS(pt),_n);if(pt.$$typeof===T)return tt(je,Oe,Ge,zS(Oe,pt),_n);KS(Oe,pt)}return null}function ln(je,Oe,Ge,pt){for(var _n=null,Dr=null,gn=Oe,er=Oe=0,br=null;gn!==null&&er<Ge.length;er++){gn.index>er?(br=gn,gn=null):br=gn.sibling;var Ar=qe(je,gn,Ge[er],pt);if(Ar===null){gn===null&&(gn=br);break}a&&gn&&Ar.alternate===null&&d(je,gn),Oe=F(Ar,Oe,er),Dr===null?_n=Ar:Dr.sibling=Ar,Dr=Ar,gn=br}if(er===Ge.length)return f(je,gn),Sr&&qc(je,er),_n;if(gn===null){for(;er<Ge.length;er++)gn=vt(je,Ge[er],pt),gn!==null&&(Oe=F(gn,Oe,er),Dr===null?_n=gn:Dr.sibling=gn,Dr=gn);return Sr&&qc(je,er),_n}for(gn=w(gn);er<Ge.length;er++)br=tt(gn,je,er,Ge[er],pt),br!==null&&(a&&br.alternate!==null&&gn.delete(br.key===null?er:br.key),Oe=F(br,Oe,er),Dr===null?_n=br:Dr.sibling=br,Dr=br);return a&&gn.forEach(function(Id){return d(je,Id)}),Sr&&qc(je,er),_n}function Pn(je,Oe,Ge,pt){if(Ge==null)throw Error(r(151));for(var _n=null,Dr=null,gn=Oe,er=Oe=0,br=null,Ar=Ge.next();gn!==null&&!Ar.done;er++,Ar=Ge.next()){gn.index>er?(br=gn,gn=null):br=gn.sibling;var Id=qe(je,gn,Ar.value,pt);if(Id===null){gn===null&&(gn=br);break}a&&gn&&Id.alternate===null&&d(je,gn),Oe=F(Id,Oe,er),Dr===null?_n=Id:Dr.sibling=Id,Dr=Id,gn=br}if(Ar.done)return f(je,gn),Sr&&qc(je,er),_n;if(gn===null){for(;!Ar.done;er++,Ar=Ge.next())Ar=vt(je,Ar.value,pt),Ar!==null&&(Oe=F(Ar,Oe,er),Dr===null?_n=Ar:Dr.sibling=Ar,Dr=Ar);return Sr&&qc(je,er),_n}for(gn=w(gn);!Ar.done;er++,Ar=Ge.next())Ar=tt(gn,je,er,Ar.value,pt),Ar!==null&&(a&&Ar.alternate!==null&&gn.delete(Ar.key===null?er:Ar.key),Oe=F(Ar,Oe,er),Dr===null?_n=Ar:Dr.sibling=Ar,Dr=Ar);return a&&gn.forEach(function(FWe){return d(je,FWe)}),Sr&&qc(je,er),_n}function ni(je,Oe,Ge,pt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===b&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case m:e:{for(var _n=Ge.key;Oe!==null;){if(Oe.key===_n){if(_n=Ge.type,_n===b){if(Oe.tag===7){f(je,Oe.sibling),pt=R(Oe,Ge.props.children),pt.return=je,je=pt;break e}}else if(Oe.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===D&&Gh(_n)===Oe.type){f(je,Oe.sibling),pt=R(Oe,Ge.props),bv(pt,Ge),pt.return=je,je=pt;break e}f(je,Oe);break}else d(je,Oe);Oe=Oe.sibling}Ge.type===b?(pt=Vh(Ge.props.children,je.mode,pt,Ge.key),pt.return=je,je=pt):(pt=jS(Ge.type,Ge.key,Ge.props,null,je.mode,pt),bv(pt,Ge),pt.return=je,je=pt)}return ee(je);case y:e:{for(_n=Ge.key;Oe!==null;){if(Oe.key===_n)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ge.containerInfo&&Oe.stateNode.implementation===Ge.implementation){f(je,Oe.sibling),pt=R(Oe,Ge.children||[]),pt.return=je,je=pt;break e}else{f(je,Oe);break}else d(je,Oe);Oe=Oe.sibling}pt=OI(Ge,je.mode,pt),pt.return=je,je=pt}return ee(je);case D:return Ge=Gh(Ge),ni(je,Oe,Ge,pt)}if(q(Ge))return ln(je,Oe,Ge,pt);if(j(Ge)){if(_n=j(Ge),typeof _n!="function")throw Error(r(150));return Ge=_n.call(Ge),Pn(je,Oe,Ge,pt)}if(typeof Ge.then=="function")return ni(je,Oe,WS(Ge),pt);if(Ge.$$typeof===T)return ni(je,Oe,zS(je,Ge),pt);KS(je,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,Oe!==null&&Oe.tag===6?(f(je,Oe.sibling),pt=R(Oe,Ge),pt.return=je,je=pt):(f(je,Oe),pt=MI(Ge,je.mode,pt),pt.return=je,je=pt),ee(je)):f(je,Oe)}return function(je,Oe,Ge,pt){try{yv=0;var _n=ni(je,Oe,Ge,pt);return _p=null,_n}catch(gn){if(gn===xp||gn===HS)throw gn;var Dr=ta(29,gn,null,je.mode);return Dr.lanes=pt,Dr.return=je,Dr}}}var Kh=UW(!0),HW=UW(!1),fd=!1;function VI(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $I(a,d){a=a.updateQueue,d.updateQueue===a&&(d.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function pd(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function gd(a,d,f){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,(jr&2)!==0){var R=w.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),w.pending=d,d=FS(a),MW(a,null,f),d}return xn(a,w,d,f),FS(a)}function wv(a,d,f){if(d=d.updateQueue,d!==null&&(d=d.shared,(f&4194048)!==0)){var w=d.lanes;w&=a.pendingLanes,f|=w,d.lanes=f,Tn(a,f)}}function zI(a,d){var f=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,f===w)){var R=null,F=null;if(f=f.firstBaseUpdate,f!==null){do{var ee={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};F===null?R=F=ee:F=F.next=ee,f=f.next}while(f!==null);F===null?R=F=d:F=F.next=d}else R=F=d;f={baseState:w.baseState,firstBaseUpdate:R,lastBaseUpdate:F,shared:w.shared,callbacks:w.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=d}var UI=!1;function Sv(){if(UI){var a=Cp;if(a!==null)throw a}}function Cv(a,d,f,w){UI=!1;var R=a.updateQueue;fd=!1;var F=R.firstBaseUpdate,ee=R.lastBaseUpdate,le=R.shared.pending;if(le!==null){R.shared.pending=null;var Ce=le,We=Ce.next;Ce.next=null,ee===null?F=We:ee.next=We,ee=Ce;var ut=a.alternate;ut!==null&&(ut=ut.updateQueue,le=ut.lastBaseUpdate,le!==ee&&(le===null?ut.firstBaseUpdate=We:le.next=We,ut.lastBaseUpdate=Ce))}if(F!==null){var vt=R.baseState;ee=0,ut=We=Ce=null,le=F;do{var qe=le.lane&-536870913,tt=qe!==le.lane;if(tt?(yr&qe)===qe:(w&qe)===qe){qe!==0&&qe===Sp&&(UI=!0),ut!==null&&(ut=ut.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var ln=a,Pn=le;qe=d;var ni=f;switch(Pn.tag){case 1:if(ln=Pn.payload,typeof ln=="function"){vt=ln.call(ni,vt,qe);break e}vt=ln;break e;case 3:ln.flags=ln.flags&-65537|128;case 0:if(ln=Pn.payload,qe=typeof ln=="function"?ln.call(ni,vt,qe):ln,qe==null)break e;vt=p({},vt,qe);break e;case 2:fd=!0}}qe=le.callback,qe!==null&&(a.flags|=64,tt&&(a.flags|=8192),tt=R.callbacks,tt===null?R.callbacks=[qe]:tt.push(qe))}else tt={lane:qe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},ut===null?(We=ut=tt,Ce=vt):ut=ut.next=tt,ee|=qe;if(le=le.next,le===null){if(le=R.shared.pending,le===null)break;tt=le,le=tt.next,tt.next=null,R.lastBaseUpdate=tt,R.shared.pending=null}}while(!0);ut===null&&(Ce=vt),R.baseState=Ce,R.firstBaseUpdate=We,R.lastBaseUpdate=ut,F===null&&(R.shared.lanes=0),wd|=ee,a.lanes=ee,a.memoizedState=vt}}function GW(a,d){if(typeof a!="function")throw Error(r(191,a));a.call(d)}function WW(a,d){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)GW(f[a],d)}var Ep=H(null),qS=H(0);function KW(a,d){a=ou,he(qS,a),he(Ep,d),ou=a|d.baseLanes}function HI(){he(qS,ou),he(Ep,Ep.current)}function GI(){ou=qS.current,X(Ep),X(qS)}var na=H(null),Za=null;function md(a){var d=a.alternate;he(Qi,Qi.current&1),he(na,a),Za===null&&(d===null||Ep.current!==null||d.memoizedState!==null)&&(Za=a)}function WI(a){he(Qi,Qi.current),he(na,a),Za===null&&(Za=a)}function qW(a){a.tag===22?(he(Qi,Qi.current),he(na,a),Za===null&&(Za=a)):vd()}function vd(){he(Qi,Qi.current),he(na,na.current)}function ra(a){X(na),Za===a&&(Za=null),X(Qi)}var Qi=H(0);function YS(a){for(var d=a;d!==null;){if(d.tag===13){var f=d.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Qk(f)||Jk(f)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Zc=0,Xn=null,ei=null,ao=null,XS=!1,Tp=!1,qh=!1,ZS=0,xv=0,Mp=null,O4e=0;function Ui(){throw Error(r(321))}function KI(a,d){if(d===null)return!1;for(var f=0;f<d.length&&f<a.length;f++)if(!J(a[f],d[f]))return!1;return!0}function qI(a,d,f,w,R,F){return Zc=F,Xn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,z.H=a===null||a.memoizedState===null?k6:ck,qh=!1,F=f(w,R),qh=!1,Tp&&(F=XW(d,f,w,R)),YW(a),F}function YW(a){z.H=Tv;var d=ei!==null&&ei.next!==null;if(Zc=0,ao=ei=Xn=null,XS=!1,xv=0,Mp=null,d)throw Error(r(300));a===null||lo||(a=a.dependencies,a!==null&&$S(a)&&(lo=!0))}function XW(a,d,f,w){Xn=a;var R=0;do{if(Tp&&(Mp=null),xv=0,Tp=!1,25<=R)throw Error(r(301));if(R+=1,ao=ei=null,a.updateQueue!=null){var F=a.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}z.H=P6,F=d(f,w)}while(Tp);return F}function R4e(){var a=z.H,d=a.useState()[0];return d=typeof d.then=="function"?_v(d):d,a=a.useState()[0],(ei!==null?ei.memoizedState:null)!==a&&(Xn.flags|=1024),d}function YI(){var a=ZS!==0;return ZS=0,a}function XI(a,d,f){d.updateQueue=a.updateQueue,d.flags&=-2053,a.lanes&=~f}function ZI(a){if(XS){for(a=a.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}XS=!1}Zc=0,ao=ei=Xn=null,Tp=!1,xv=ZS=0,Mp=null}function fs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ao===null?Xn.memoizedState=ao=a:ao=ao.next=a,ao}function Ji(){if(ei===null){var a=Xn.alternate;a=a!==null?a.memoizedState:null}else a=ei.next;var d=ao===null?Xn.memoizedState:ao.next;if(d!==null)ao=d,ei=a;else{if(a===null)throw Xn.alternate===null?Error(r(467)):Error(r(310));ei=a,a={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},ao===null?Xn.memoizedState=ao=a:ao=ao.next=a}return ao}function QS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _v(a){var d=xv;return xv+=1,Mp===null&&(Mp=[]),a=VW(Mp,a,d),d=Xn,(ao===null?d.memoizedState:ao.next)===null&&(d=d.alternate,z.H=d===null||d.memoizedState===null?k6:ck),a}function JS(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return _v(a);if(a.$$typeof===T)return Go(a)}throw Error(r(438,String(a)))}function QI(a){var d=null,f=Xn.updateQueue;if(f!==null&&(d=f.memoCache),d==null){var w=Xn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(d={data:w.data.map(function(R){return R.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),f===null&&(f=QS(),Xn.updateQueue=f),f.memoCache=d,f=d.data[d.index],f===void 0)for(f=d.data[d.index]=Array(a),w=0;w<a;w++)f[w]=A;return d.index++,f}function Qc(a,d){return typeof d=="function"?d(a):d}function e0(a){var d=Ji();return JI(d,ei,a)}function JI(a,d,f){var w=a.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=f;var R=a.baseQueue,F=w.pending;if(F!==null){if(R!==null){var ee=R.next;R.next=F.next,F.next=ee}d.baseQueue=R=F,w.pending=null}if(F=a.baseState,R===null)a.memoizedState=F;else{d=R.next;var le=ee=null,Ce=null,We=d,ut=!1;do{var vt=We.lane&-536870913;if(vt!==We.lane?(yr&vt)===vt:(Zc&vt)===vt){var qe=We.revertLane;if(qe===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),vt===Sp&&(ut=!0);else if((Zc&qe)===qe){We=We.next,qe===Sp&&(ut=!0);continue}else vt={lane:0,revertLane:We.revertLane,gesture:null,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(le=Ce=vt,ee=F):Ce=Ce.next=vt,Xn.lanes|=qe,wd|=qe;vt=We.action,qh&&f(F,vt),F=We.hasEagerState?We.eagerState:f(F,vt)}else qe={lane:vt,revertLane:We.revertLane,gesture:We.gesture,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(le=Ce=qe,ee=F):Ce=Ce.next=qe,Xn.lanes|=vt,wd|=vt;We=We.next}while(We!==null&&We!==d);if(Ce===null?ee=F:Ce.next=le,!J(F,a.memoizedState)&&(lo=!0,ut&&(f=Cp,f!==null)))throw f;a.memoizedState=F,a.baseState=ee,a.baseQueue=Ce,w.lastRenderedState=F}return R===null&&(w.lanes=0),[a.memoizedState,w.dispatch]}function ek(a){var d=Ji(),f=d.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var w=f.dispatch,R=f.pending,F=d.memoizedState;if(R!==null){f.pending=null;var ee=R=R.next;do F=a(F,ee.action),ee=ee.next;while(ee!==R);J(F,d.memoizedState)||(lo=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),f.lastRenderedState=F}return[F,w]}function ZW(a,d,f){var w=Xn,R=Ji(),F=Sr;if(F){if(f===void 0)throw Error(r(407));f=f()}else f=d();var ee=!J((ei||R).memoizedState,f);if(ee&&(R.memoizedState=f,lo=!0),R=R.queue,rk(e6.bind(null,w,R,a),[a]),R.getSnapshot!==d||ee||ao!==null&&ao.memoizedState.tag&1){if(w.flags|=2048,Op(9,{destroy:void 0},JW.bind(null,w,R,f,d),null),ii===null)throw Error(r(349));F||(Zc&127)!==0||QW(w,d,f)}return f}function QW(a,d,f){a.flags|=16384,a={getSnapshot:d,value:f},d=Xn.updateQueue,d===null?(d=QS(),Xn.updateQueue=d,d.stores=[a]):(f=d.stores,f===null?d.stores=[a]:f.push(a))}function JW(a,d,f,w){d.value=f,d.getSnapshot=w,t6(d)&&n6(a)}function e6(a,d,f){return f(function(){t6(d)&&n6(a)})}function t6(a){var d=a.getSnapshot;a=a.value;try{var f=d();return!J(a,f)}catch{return!0}}function n6(a){var d=Bo(a,2);d!==null&&As(d,a,2)}function tk(a){var d=fs();if(typeof a=="function"){var f=a;if(a=f(),qh){mt(!0);try{f()}finally{mt(!1)}}}return d.memoizedState=d.baseState=a,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:a},d}function r6(a,d,f,w){return a.baseState=f,JI(a,ei,typeof w=="function"?w:Qc)}function I4e(a,d,f,w,R){if(r0(a))throw Error(r(485));if(a=d.action,a!==null){var F={payload:R,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){F.listeners.push(ee)}};z.T!==null?f(!0):F.isTransition=!1,w(F),f=d.pending,f===null?(F.next=d.pending=F,i6(d,F)):(F.next=f.next,d.pending=f.next=F)}}function i6(a,d){var f=d.action,w=d.payload,R=a.state;if(d.isTransition){var F=z.T,ee={};z.T=ee;try{var le=f(R,w),Ce=z.S;Ce!==null&&Ce(ee,le),o6(a,d,le)}catch(We){nk(a,d,We)}finally{F!==null&&ee.types!==null&&(F.types=ee.types),z.T=F}}else try{F=f(R,w),o6(a,d,F)}catch(We){nk(a,d,We)}}function o6(a,d,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(w){s6(a,d,w)},function(w){return nk(a,d,w)}):s6(a,d,f)}function s6(a,d,f){d.status="fulfilled",d.value=f,a6(d),a.state=f,d=a.pending,d!==null&&(f=d.next,f===d?a.pending=null:(f=f.next,d.next=f,i6(a,f)))}function nk(a,d,f){var w=a.pending;if(a.pending=null,w!==null){w=w.next;do d.status="rejected",d.reason=f,a6(d),d=d.next;while(d!==w)}a.action=null}function a6(a){a=a.listeners;for(var d=0;d<a.length;d++)(0,a[d])()}function l6(a,d){return d}function c6(a,d){if(Sr){var f=ii.formState;if(f!==null){e:{var w=Xn;if(Sr){if(gi){t:{for(var R=gi,F=Xa;R.nodeType!==8;){if(!F){R=null;break t}if(R=Qa(R.nextSibling),R===null){R=null;break t}}F=R.data,R=F==="F!"||F==="F"?R:null}if(R){gi=Qa(R.nextSibling),w=R.data==="F!";break e}}dd(w)}w=!1}w&&(d=f[0])}}return f=fs(),f.memoizedState=f.baseState=d,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l6,lastRenderedState:d},f.queue=w,f=O6.bind(null,Xn,w),w.dispatch=f,w=tk(!1),F=lk.bind(null,Xn,!1,w.queue),w=fs(),R={state:d,dispatch:null,action:a,pending:null},w.queue=R,f=I4e.bind(null,Xn,R,F,f),R.dispatch=f,w.memoizedState=a,[d,f,!1]}function u6(a){var d=Ji();return d6(d,ei,a)}function d6(a,d,f){if(d=JI(a,d,l6)[0],a=e0(Qc)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var w=_v(d)}catch(ee){throw ee===xp?HS:ee}else w=d;d=Ji();var R=d.queue,F=R.dispatch;return f!==d.memoizedState&&(Xn.flags|=2048,Op(9,{destroy:void 0},k4e.bind(null,R,f),null)),[w,F,a]}function k4e(a,d){a.action=d}function h6(a){var d=Ji(),f=ei;if(f!==null)return d6(d,f,a);Ji(),d=d.memoizedState,f=Ji();var w=f.queue.dispatch;return f.memoizedState=a,[d,w,!1]}function Op(a,d,f,w){return a={tag:a,create:f,deps:w,inst:d,next:null},d=Xn.updateQueue,d===null&&(d=QS(),Xn.updateQueue=d),f=d.lastEffect,f===null?d.lastEffect=a.next=a:(w=f.next,f.next=a,a.next=w,d.lastEffect=a),a}function f6(){return Ji().memoizedState}function t0(a,d,f,w){var R=fs();Xn.flags|=a,R.memoizedState=Op(1|d,{destroy:void 0},f,w===void 0?null:w)}function n0(a,d,f,w){var R=Ji();w=w===void 0?null:w;var F=R.memoizedState.inst;ei!==null&&w!==null&&KI(w,ei.memoizedState.deps)?R.memoizedState=Op(d,F,f,w):(Xn.flags|=a,R.memoizedState=Op(1|d,F,f,w))}function p6(a,d){t0(8390656,8,a,d)}function rk(a,d){n0(2048,8,a,d)}function P4e(a){Xn.flags|=4;var d=Xn.updateQueue;if(d===null)d=QS(),Xn.updateQueue=d,d.events=[a];else{var f=d.events;f===null?d.events=[a]:f.push(a)}}function g6(a){var d=Ji().memoizedState;return P4e({ref:d,nextImpl:a}),function(){if((jr&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function m6(a,d){return n0(4,2,a,d)}function v6(a,d){return n0(4,4,a,d)}function y6(a,d){if(typeof d=="function"){a=a();var f=d(a);return function(){typeof f=="function"?f():d(null)}}if(d!=null)return a=a(),d.current=a,function(){d.current=null}}function b6(a,d,f){f=f!=null?f.concat([a]):null,n0(4,4,y6.bind(null,d,a),f)}function ik(){}function w6(a,d){var f=Ji();d=d===void 0?null:d;var w=f.memoizedState;return d!==null&&KI(d,w[1])?w[0]:(f.memoizedState=[a,d],a)}function S6(a,d){var f=Ji();d=d===void 0?null:d;var w=f.memoizedState;if(d!==null&&KI(d,w[1]))return w[0];if(w=a(),qh){mt(!0);try{a()}finally{mt(!1)}}return f.memoizedState=[w,d],w}function ok(a,d,f){return f===void 0||(Zc&1073741824)!==0&&(yr&261930)===0?a.memoizedState=d:(a.memoizedState=f,a=CK(),Xn.lanes|=a,wd|=a,f)}function C6(a,d,f,w){return J(f,d)?f:Ep.current!==null?(a=ok(a,f,w),J(a,d)||(lo=!0),a):(Zc&42)===0||(Zc&1073741824)!==0&&(yr&261930)===0?(lo=!0,a.memoizedState=f):(a=CK(),Xn.lanes|=a,wd|=a,d)}function x6(a,d,f,w,R){var F=Y.p;Y.p=F!==0&&8>F?F:8;var ee=z.T,le={};z.T=le,lk(a,!1,d,f);try{var Ce=R(),We=z.S;if(We!==null&&We(le,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var ut=M4e(Ce,w);Ev(a,d,ut,sa(a))}else Ev(a,d,w,sa(a))}catch(vt){Ev(a,d,{then:function(){},status:"rejected",reason:vt},sa())}finally{Y.p=F,ee!==null&&le.types!==null&&(ee.types=le.types),z.T=ee}}function D4e(){}function sk(a,d,f,w){if(a.tag!==5)throw Error(r(476));var R=_6(a).queue;x6(a,R,d,te,f===null?D4e:function(){return E6(a),f(w)})}function _6(a){var d=a.memoizedState;if(d!==null)return d;d={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:te},next:null};var f={};return d.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:f},next:null},a.memoizedState=d,a=a.alternate,a!==null&&(a.memoizedState=d),d}function E6(a){var d=_6(a);d.next===null&&(d=a.alternate.memoizedState),Ev(a,d.next.queue,{},sa())}function ak(){return Go(zv)}function T6(){return Ji().memoizedState}function M6(){return Ji().memoizedState}function A4e(a){for(var d=a.return;d!==null;){switch(d.tag){case 24:case 3:var f=sa();a=pd(f);var w=gd(d,a,f);w!==null&&(As(w,d,f),wv(w,d,f)),d={cache:NI()},a.payload=d;return}d=d.return}}function L4e(a,d,f){var w=sa();f={lane:w,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},r0(a)?R6(d,f):(f=Ln(a,d,f,w),f!==null&&(As(f,a,w),I6(f,d,w)))}function O6(a,d,f){var w=sa();Ev(a,d,f,w)}function Ev(a,d,f,w){var R={lane:w,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(r0(a))R6(d,R);else{var F=a.alternate;if(a.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var ee=d.lastRenderedState,le=F(ee,f);if(R.hasEagerState=!0,R.eagerState=le,J(le,ee))return xn(a,d,R,0),ii===null&&rt(),!1}catch{}if(f=Ln(a,d,R,w),f!==null)return As(f,a,w),I6(f,d,w),!0}return!1}function lk(a,d,f,w){if(w={lane:2,revertLane:Vk(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},r0(a)){if(d)throw Error(r(479))}else d=Ln(a,f,w,2),d!==null&&As(d,a,2)}function r0(a){var d=a.alternate;return a===Xn||d!==null&&d===Xn}function R6(a,d){Tp=XS=!0;var f=a.pending;f===null?d.next=d:(d.next=f.next,f.next=d),a.pending=d}function I6(a,d,f){if((f&4194048)!==0){var w=d.lanes;w&=a.pendingLanes,f|=w,d.lanes=f,Tn(a,f)}}var Tv={readContext:Go,use:JS,useCallback:Ui,useContext:Ui,useEffect:Ui,useImperativeHandle:Ui,useLayoutEffect:Ui,useInsertionEffect:Ui,useMemo:Ui,useReducer:Ui,useRef:Ui,useState:Ui,useDebugValue:Ui,useDeferredValue:Ui,useTransition:Ui,useSyncExternalStore:Ui,useId:Ui,useHostTransitionStatus:Ui,useFormState:Ui,useActionState:Ui,useOptimistic:Ui,useMemoCache:Ui,useCacheRefresh:Ui};Tv.useEffectEvent=Ui;var k6={readContext:Go,use:JS,useCallback:function(a,d){return fs().memoizedState=[a,d===void 0?null:d],a},useContext:Go,useEffect:p6,useImperativeHandle:function(a,d,f){f=f!=null?f.concat([a]):null,t0(4194308,4,y6.bind(null,d,a),f)},useLayoutEffect:function(a,d){return t0(4194308,4,a,d)},useInsertionEffect:function(a,d){t0(4,2,a,d)},useMemo:function(a,d){var f=fs();d=d===void 0?null:d;var w=a();if(qh){mt(!0);try{a()}finally{mt(!1)}}return f.memoizedState=[w,d],w},useReducer:function(a,d,f){var w=fs();if(f!==void 0){var R=f(d);if(qh){mt(!0);try{f(d)}finally{mt(!1)}}}else R=d;return w.memoizedState=w.baseState=R,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:R},w.queue=a,a=a.dispatch=L4e.bind(null,Xn,a),[w.memoizedState,a]},useRef:function(a){var d=fs();return a={current:a},d.memoizedState=a},useState:function(a){a=tk(a);var d=a.queue,f=O6.bind(null,Xn,d);return d.dispatch=f,[a.memoizedState,f]},useDebugValue:ik,useDeferredValue:function(a,d){var f=fs();return ok(f,a,d)},useTransition:function(){var a=tk(!1);return a=x6.bind(null,Xn,a.queue,!0,!1),fs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,d,f){var w=Xn,R=fs();if(Sr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=d(),ii===null)throw Error(r(349));(yr&127)!==0||QW(w,d,f)}R.memoizedState=f;var F={value:f,getSnapshot:d};return R.queue=F,p6(e6.bind(null,w,F,a),[a]),w.flags|=2048,Op(9,{destroy:void 0},JW.bind(null,w,F,f,d),null),f},useId:function(){var a=fs(),d=ii.identifierPrefix;if(Sr){var f=hc,w=dc;f=(w&~(1<<32-Pt(w)-1)).toString(32)+f,d="_"+d+"R_"+f,f=ZS++,0<f&&(d+="H"+f.toString(32)),d+="_"}else f=O4e++,d="_"+d+"r_"+f.toString(32)+"_";return a.memoizedState=d},useHostTransitionStatus:ak,useFormState:c6,useActionState:c6,useOptimistic:function(a){var d=fs();d.memoizedState=d.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=f,d=lk.bind(null,Xn,!0,f),f.dispatch=d,[a,d]},useMemoCache:QI,useCacheRefresh:function(){return fs().memoizedState=A4e.bind(null,Xn)},useEffectEvent:function(a){var d=fs(),f={impl:a};return d.memoizedState=f,function(){if((jr&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},ck={readContext:Go,use:JS,useCallback:w6,useContext:Go,useEffect:rk,useImperativeHandle:b6,useInsertionEffect:m6,useLayoutEffect:v6,useMemo:S6,useReducer:e0,useRef:f6,useState:function(){return e0(Qc)},useDebugValue:ik,useDeferredValue:function(a,d){var f=Ji();return C6(f,ei.memoizedState,a,d)},useTransition:function(){var a=e0(Qc)[0],d=Ji().memoizedState;return[typeof a=="boolean"?a:_v(a),d]},useSyncExternalStore:ZW,useId:T6,useHostTransitionStatus:ak,useFormState:u6,useActionState:u6,useOptimistic:function(a,d){var f=Ji();return r6(f,ei,a,d)},useMemoCache:QI,useCacheRefresh:M6};ck.useEffectEvent=g6;var P6={readContext:Go,use:JS,useCallback:w6,useContext:Go,useEffect:rk,useImperativeHandle:b6,useInsertionEffect:m6,useLayoutEffect:v6,useMemo:S6,useReducer:ek,useRef:f6,useState:function(){return ek(Qc)},useDebugValue:ik,useDeferredValue:function(a,d){var f=Ji();return ei===null?ok(f,a,d):C6(f,ei.memoizedState,a,d)},useTransition:function(){var a=ek(Qc)[0],d=Ji().memoizedState;return[typeof a=="boolean"?a:_v(a),d]},useSyncExternalStore:ZW,useId:T6,useHostTransitionStatus:ak,useFormState:h6,useActionState:h6,useOptimistic:function(a,d){var f=Ji();return ei!==null?r6(f,ei,a,d):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:QI,useCacheRefresh:M6};P6.useEffectEvent=g6;function uk(a,d,f,w){d=a.memoizedState,f=f(w,d),f=f==null?d:p({},d,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var dk={enqueueSetState:function(a,d,f){a=a._reactInternals;var w=sa(),R=pd(w);R.payload=d,f!=null&&(R.callback=f),d=gd(a,R,w),d!==null&&(As(d,a,w),wv(d,a,w))},enqueueReplaceState:function(a,d,f){a=a._reactInternals;var w=sa(),R=pd(w);R.tag=1,R.payload=d,f!=null&&(R.callback=f),d=gd(a,R,w),d!==null&&(As(d,a,w),wv(d,a,w))},enqueueForceUpdate:function(a,d){a=a._reactInternals;var f=sa(),w=pd(f);w.tag=2,d!=null&&(w.callback=d),d=gd(a,w,f),d!==null&&(As(d,a,f),wv(d,a,f))}};function D6(a,d,f,w,R,F,ee){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,F,ee):d.prototype&&d.prototype.isPureReactComponent?!ne(f,w)||!ne(R,F):!0}function A6(a,d,f,w){a=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(f,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(f,w),d.state!==a&&dk.enqueueReplaceState(d,d.state,null)}function Yh(a,d){var f=d;if("ref"in d){f={};for(var w in d)w!=="ref"&&(f[w]=d[w])}if(a=a.defaultProps){f===d&&(f=p({},f));for(var R in a)f[R]===void 0&&(f[R]=a[R])}return f}function L6(a){ae(a)}function N6(a){console.error(a)}function B6(a){ae(a)}function i0(a,d){try{var f=a.onUncaughtError;f(d.value,{componentStack:d.stack})}catch(w){setTimeout(function(){throw w})}}function F6(a,d,f){try{var w=a.onCaughtError;w(f.value,{componentStack:f.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function hk(a,d,f){return f=pd(f),f.tag=3,f.payload={element:null},f.callback=function(){i0(a,d)},f}function j6(a){return a=pd(a),a.tag=3,a}function V6(a,d,f,w){var R=f.type.getDerivedStateFromError;if(typeof R=="function"){var F=w.value;a.payload=function(){return R(F)},a.callback=function(){F6(d,f,w)}}var ee=f.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(a.callback=function(){F6(d,f,w),typeof R!="function"&&(Sd===null?Sd=new Set([this]):Sd.add(this));var le=w.stack;this.componentDidCatch(w.value,{componentStack:le!==null?le:""})})}function N4e(a,d,f,w,R){if(f.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(d=f.alternate,d!==null&&wp(d,f,R,!0),f=na.current,f!==null){switch(f.tag){case 31:case 13:return Za===null?m0():f.alternate===null&&Hi===0&&(Hi=3),f.flags&=-257,f.flags|=65536,f.lanes=R,w===GS?f.flags|=16384:(d=f.updateQueue,d===null?f.updateQueue=new Set([w]):d.add(w),Bk(a,w,R)),!1;case 22:return f.flags|=65536,w===GS?f.flags|=16384:(d=f.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([w])},f.updateQueue=d):(f=d.retryQueue,f===null?d.retryQueue=new Set([w]):f.add(w)),Bk(a,w,R)),!1}throw Error(r(435,f.tag))}return Bk(a,w,R),m0(),!1}if(Sr)return d=na.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=R,w!==kI&&(a=Error(r(422),{cause:w}),gv(Ka(a,f)))):(w!==kI&&(d=Error(r(423),{cause:w}),gv(Ka(d,f))),a=a.current.alternate,a.flags|=65536,R&=-R,a.lanes|=R,w=Ka(w,f),R=hk(a.stateNode,w,R),zI(a,R),Hi!==4&&(Hi=2)),!1;var F=Error(r(520),{cause:w});if(F=Ka(F,f),Av===null?Av=[F]:Av.push(F),Hi!==4&&(Hi=2),d===null)return!0;w=Ka(w,f),f=d;do{switch(f.tag){case 3:return f.flags|=65536,a=R&-R,f.lanes|=a,a=hk(f.stateNode,w,a),zI(f,a),!1;case 1:if(d=f.type,F=f.stateNode,(f.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Sd===null||!Sd.has(F))))return f.flags|=65536,R&=-R,f.lanes|=R,R=j6(R),V6(R,a,f,w),zI(f,R),!1}f=f.return}while(f!==null);return!1}var fk=Error(r(461)),lo=!1;function Wo(a,d,f,w){d.child=a===null?HW(d,null,f,w):Kh(d,a.child,f,w)}function $6(a,d,f,w,R){f=f.render;var F=d.ref;if("ref"in w){var ee={};for(var le in w)le!=="ref"&&(ee[le]=w[le])}else ee=w;return Uh(d),w=qI(a,d,f,ee,F,R),le=YI(),a!==null&&!lo?(XI(a,d,R),Jc(a,d,R)):(Sr&&le&&RI(d),d.flags|=1,Wo(a,d,w,R),d.child)}function z6(a,d,f,w,R){if(a===null){var F=f.type;return typeof F=="function"&&!TI(F)&&F.defaultProps===void 0&&f.compare===null?(d.tag=15,d.type=F,U6(a,d,F,w,R)):(a=jS(f.type,null,w,d,d.mode,R),a.ref=d.ref,a.return=d,d.child=a)}if(F=a.child,!Sk(a,R)){var ee=F.memoizedProps;if(f=f.compare,f=f!==null?f:ne,f(ee,w)&&a.ref===d.ref)return Jc(a,d,R)}return d.flags|=1,a=Kc(F,w),a.ref=d.ref,a.return=d,d.child=a}function U6(a,d,f,w,R){if(a!==null){var F=a.memoizedProps;if(ne(F,w)&&a.ref===d.ref)if(lo=!1,d.pendingProps=w=F,Sk(a,R))(a.flags&131072)!==0&&(lo=!0);else return d.lanes=a.lanes,Jc(a,d,R)}return pk(a,d,f,w,R)}function H6(a,d,f,w){var R=w.children,F=a!==null?a.memoizedState:null;if(a===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((d.flags&128)!==0){if(F=F!==null?F.baseLanes|f:f,a!==null){for(w=d.child=a.child,R=0;w!==null;)R=R|w.lanes|w.childLanes,w=w.sibling;w=R&~F}else w=0,d.child=null;return G6(a,d,F,f,w)}if((f&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},a!==null&&US(d,F!==null?F.cachePool:null),F!==null?KW(d,F):HI(),qW(d);else return w=d.lanes=536870912,G6(a,d,F!==null?F.baseLanes|f:f,f,w)}else F!==null?(US(d,F.cachePool),KW(d,F),vd(),d.memoizedState=null):(a!==null&&US(d,null),HI(),vd());return Wo(a,d,R,f),d.child}function Mv(a,d){return a!==null&&a.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function G6(a,d,f,w,R){var F=FI();return F=F===null?null:{parent:so._currentValue,pool:F},d.memoizedState={baseLanes:f,cachePool:F},a!==null&&US(d,null),HI(),qW(d),a!==null&&wp(a,d,w,!0),d.childLanes=R,null}function o0(a,d){return d=a0({mode:d.mode,children:d.children},a.mode),d.ref=a.ref,a.child=d,d.return=a,d}function W6(a,d,f){return Kh(d,a.child,null,f),a=o0(d,d.pendingProps),a.flags|=2,ra(d),d.memoizedState=null,a}function B4e(a,d,f){var w=d.pendingProps,R=(d.flags&128)!==0;if(d.flags&=-129,a===null){if(Sr){if(w.mode==="hidden")return a=o0(d,w),d.lanes=536870912,Mv(null,a);if(WI(d),(a=gi)?(a=iq(a,Xa),a=a!==null&&a.data==="&"?a:null,a!==null&&(d.memoizedState={dehydrated:a,treeContext:cd!==null?{id:dc,overflow:hc}:null,retryLane:536870912,hydrationErrors:null},f=RW(a),f.return=d,d.child=f,Ho=d,gi=null)):a=null,a===null)throw dd(d);return d.lanes=536870912,null}return o0(d,w)}var F=a.memoizedState;if(F!==null){var ee=F.dehydrated;if(WI(d),R)if(d.flags&256)d.flags&=-257,d=W6(a,d,f);else if(d.memoizedState!==null)d.child=a.child,d.flags|=128,d=null;else throw Error(r(558));else if(lo||wp(a,d,f,!1),R=(f&a.childLanes)!==0,lo||R){if(w=ii,w!==null&&(ee=Mn(w,f),ee!==0&&ee!==F.retryLane))throw F.retryLane=ee,Bo(a,ee),As(w,a,ee),fk;m0(),d=W6(a,d,f)}else a=F.treeContext,gi=Qa(ee.nextSibling),Ho=d,Sr=!0,ud=null,Xa=!1,a!==null&&PW(d,a),d=o0(d,w),d.flags|=4096;return d}return a=Kc(a.child,{mode:w.mode,children:w.children}),a.ref=d.ref,d.child=a,a.return=d,a}function s0(a,d){var f=d.ref;if(f===null)a!==null&&a.ref!==null&&(d.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(d.flags|=4194816)}}function pk(a,d,f,w,R){return Uh(d),f=qI(a,d,f,w,void 0,R),w=YI(),a!==null&&!lo?(XI(a,d,R),Jc(a,d,R)):(Sr&&w&&RI(d),d.flags|=1,Wo(a,d,f,R),d.child)}function K6(a,d,f,w,R,F){return Uh(d),d.updateQueue=null,f=XW(d,w,f,R),YW(a),w=YI(),a!==null&&!lo?(XI(a,d,F),Jc(a,d,F)):(Sr&&w&&RI(d),d.flags|=1,Wo(a,d,f,F),d.child)}function q6(a,d,f,w,R){if(Uh(d),d.stateNode===null){var F=mp,ee=f.contextType;typeof ee=="object"&&ee!==null&&(F=Go(ee)),F=new f(w,F),d.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=dk,d.stateNode=F,F._reactInternals=d,F=d.stateNode,F.props=w,F.state=d.memoizedState,F.refs={},VI(d),ee=f.contextType,F.context=typeof ee=="object"&&ee!==null?Go(ee):mp,F.state=d.memoizedState,ee=f.getDerivedStateFromProps,typeof ee=="function"&&(uk(d,f,ee,w),F.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ee=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ee!==F.state&&dk.enqueueReplaceState(F,F.state,null),Cv(d,w,F,R),Sv(),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308),w=!0}else if(a===null){F=d.stateNode;var le=d.memoizedProps,Ce=Yh(f,le);F.props=Ce;var We=F.context,ut=f.contextType;ee=mp,typeof ut=="object"&&ut!==null&&(ee=Go(ut));var vt=f.getDerivedStateFromProps;ut=typeof vt=="function"||typeof F.getSnapshotBeforeUpdate=="function",le=d.pendingProps!==le,ut||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(le||We!==ee)&&A6(d,F,w,ee),fd=!1;var qe=d.memoizedState;F.state=qe,Cv(d,w,F,R),Sv(),We=d.memoizedState,le||qe!==We||fd?(typeof vt=="function"&&(uk(d,f,vt,w),We=d.memoizedState),(Ce=fd||D6(d,f,Ce,w,qe,We,ee))?(ut||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=We),F.props=w,F.state=We,F.context=ee,w=Ce):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{F=d.stateNode,$I(a,d),ee=d.memoizedProps,ut=Yh(f,ee),F.props=ut,vt=d.pendingProps,qe=F.context,We=f.contextType,Ce=mp,typeof We=="object"&&We!==null&&(Ce=Go(We)),le=f.getDerivedStateFromProps,(We=typeof le=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==vt||qe!==Ce)&&A6(d,F,w,Ce),fd=!1,qe=d.memoizedState,F.state=qe,Cv(d,w,F,R),Sv();var tt=d.memoizedState;ee!==vt||qe!==tt||fd||a!==null&&a.dependencies!==null&&$S(a.dependencies)?(typeof le=="function"&&(uk(d,f,le,w),tt=d.memoizedState),(ut=fd||D6(d,f,ut,w,qe,tt,Ce)||a!==null&&a.dependencies!==null&&$S(a.dependencies))?(We||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(w,tt,Ce),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(w,tt,Ce)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||ee===a.memoizedProps&&qe===a.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===a.memoizedProps&&qe===a.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=tt),F.props=w,F.state=tt,F.context=Ce,w=ut):(typeof F.componentDidUpdate!="function"||ee===a.memoizedProps&&qe===a.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===a.memoizedProps&&qe===a.memoizedState||(d.flags|=1024),w=!1)}return F=w,s0(a,d),w=(d.flags&128)!==0,F||w?(F=d.stateNode,f=w&&typeof f.getDerivedStateFromError!="function"?null:F.render(),d.flags|=1,a!==null&&w?(d.child=Kh(d,a.child,null,R),d.child=Kh(d,null,f,R)):Wo(a,d,f,R),d.memoizedState=F.state,a=d.child):a=Jc(a,d,R),a}function Y6(a,d,f,w){return $h(),d.flags|=256,Wo(a,d,f,w),d.child}var gk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mk(a){return{baseLanes:a,cachePool:FW()}}function vk(a,d,f){return a=a!==null?a.childLanes&~f:0,d&&(a|=oa),a}function X6(a,d,f){var w=d.pendingProps,R=!1,F=(d.flags&128)!==0,ee;if((ee=F)||(ee=a!==null&&a.memoizedState===null?!1:(Qi.current&2)!==0),ee&&(R=!0,d.flags&=-129),ee=(d.flags&32)!==0,d.flags&=-33,a===null){if(Sr){if(R?md(d):vd(),(a=gi)?(a=iq(a,Xa),a=a!==null&&a.data!=="&"?a:null,a!==null&&(d.memoizedState={dehydrated:a,treeContext:cd!==null?{id:dc,overflow:hc}:null,retryLane:536870912,hydrationErrors:null},f=RW(a),f.return=d,d.child=f,Ho=d,gi=null)):a=null,a===null)throw dd(d);return Jk(a)?d.lanes=32:d.lanes=536870912,null}var le=w.children;return w=w.fallback,R?(vd(),R=d.mode,le=a0({mode:"hidden",children:le},R),w=Vh(w,R,f,null),le.return=d,w.return=d,le.sibling=w,d.child=le,w=d.child,w.memoizedState=mk(f),w.childLanes=vk(a,ee,f),d.memoizedState=gk,Mv(null,w)):(md(d),yk(d,le))}var Ce=a.memoizedState;if(Ce!==null&&(le=Ce.dehydrated,le!==null)){if(F)d.flags&256?(md(d),d.flags&=-257,d=bk(a,d,f)):d.memoizedState!==null?(vd(),d.child=a.child,d.flags|=128,d=null):(vd(),le=w.fallback,R=d.mode,w=a0({mode:"visible",children:w.children},R),le=Vh(le,R,f,null),le.flags|=2,w.return=d,le.return=d,w.sibling=le,d.child=w,Kh(d,a.child,null,f),w=d.child,w.memoizedState=mk(f),w.childLanes=vk(a,ee,f),d.memoizedState=gk,d=Mv(null,w));else if(md(d),Jk(le)){if(ee=le.nextSibling&&le.nextSibling.dataset,ee)var We=ee.dgst;ee=We,w=Error(r(419)),w.stack="",w.digest=ee,gv({value:w,source:null,stack:null}),d=bk(a,d,f)}else if(lo||wp(a,d,f,!1),ee=(f&a.childLanes)!==0,lo||ee){if(ee=ii,ee!==null&&(w=Mn(ee,f),w!==0&&w!==Ce.retryLane))throw Ce.retryLane=w,Bo(a,w),As(ee,a,w),fk;Qk(le)||m0(),d=bk(a,d,f)}else Qk(le)?(d.flags|=192,d.child=a.child,d=null):(a=Ce.treeContext,gi=Qa(le.nextSibling),Ho=d,Sr=!0,ud=null,Xa=!1,a!==null&&PW(d,a),d=yk(d,w.children),d.flags|=4096);return d}return R?(vd(),le=w.fallback,R=d.mode,Ce=a.child,We=Ce.sibling,w=Kc(Ce,{mode:"hidden",children:w.children}),w.subtreeFlags=Ce.subtreeFlags&65011712,We!==null?le=Kc(We,le):(le=Vh(le,R,f,null),le.flags|=2),le.return=d,w.return=d,w.sibling=le,d.child=w,Mv(null,w),w=d.child,le=a.child.memoizedState,le===null?le=mk(f):(R=le.cachePool,R!==null?(Ce=so._currentValue,R=R.parent!==Ce?{parent:Ce,pool:Ce}:R):R=FW(),le={baseLanes:le.baseLanes|f,cachePool:R}),w.memoizedState=le,w.childLanes=vk(a,ee,f),d.memoizedState=gk,Mv(a.child,w)):(md(d),f=a.child,a=f.sibling,f=Kc(f,{mode:"visible",children:w.children}),f.return=d,f.sibling=null,a!==null&&(ee=d.deletions,ee===null?(d.deletions=[a],d.flags|=16):ee.push(a)),d.child=f,d.memoizedState=null,f)}function yk(a,d){return d=a0({mode:"visible",children:d},a.mode),d.return=a,a.child=d}function a0(a,d){return a=ta(22,a,null,d),a.lanes=0,a}function bk(a,d,f){return Kh(d,a.child,null,f),a=yk(d,d.pendingProps.children),a.flags|=2,d.memoizedState=null,a}function Z6(a,d,f){a.lanes|=d;var w=a.alternate;w!==null&&(w.lanes|=d),AI(a.return,d,f)}function wk(a,d,f,w,R,F){var ee=a.memoizedState;ee===null?a.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:f,tailMode:R,treeForkCount:F}:(ee.isBackwards=d,ee.rendering=null,ee.renderingStartTime=0,ee.last=w,ee.tail=f,ee.tailMode=R,ee.treeForkCount=F)}function Q6(a,d,f){var w=d.pendingProps,R=w.revealOrder,F=w.tail;w=w.children;var ee=Qi.current,le=(ee&2)!==0;if(le?(ee=ee&1|2,d.flags|=128):ee&=1,he(Qi,ee),Wo(a,d,w,f),w=Sr?pv:0,!le&&a!==null&&(a.flags&128)!==0)e:for(a=d.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Z6(a,f,d);else if(a.tag===19)Z6(a,f,d);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(R){case"forwards":for(f=d.child,R=null;f!==null;)a=f.alternate,a!==null&&YS(a)===null&&(R=f),f=f.sibling;f=R,f===null?(R=d.child,d.child=null):(R=f.sibling,f.sibling=null),wk(d,!1,R,f,F,w);break;case"backwards":case"unstable_legacy-backwards":for(f=null,R=d.child,d.child=null;R!==null;){if(a=R.alternate,a!==null&&YS(a)===null){d.child=R;break}a=R.sibling,R.sibling=f,f=R,R=a}wk(d,!0,f,null,F,w);break;case"together":wk(d,!1,null,null,void 0,w);break;default:d.memoizedState=null}return d.child}function Jc(a,d,f){if(a!==null&&(d.dependencies=a.dependencies),wd|=d.lanes,(f&d.childLanes)===0)if(a!==null){if(wp(a,d,f,!1),(f&d.childLanes)===0)return null}else return null;if(a!==null&&d.child!==a.child)throw Error(r(153));if(d.child!==null){for(a=d.child,f=Kc(a,a.pendingProps),d.child=f,f.return=d;a.sibling!==null;)a=a.sibling,f=f.sibling=Kc(a,a.pendingProps),f.return=d;f.sibling=null}return d.child}function Sk(a,d){return(a.lanes&d)!==0?!0:(a=a.dependencies,!!(a!==null&&$S(a)))}function F4e(a,d,f){switch(d.tag){case 3:Ne(d,d.stateNode.containerInfo),hd(d,so,a.memoizedState.cache),$h();break;case 27:case 5:me(d);break;case 4:Ne(d,d.stateNode.containerInfo);break;case 10:hd(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,WI(d),null;break;case 13:var w=d.memoizedState;if(w!==null)return w.dehydrated!==null?(md(d),d.flags|=128,null):(f&d.child.childLanes)!==0?X6(a,d,f):(md(d),a=Jc(a,d,f),a!==null?a.sibling:null);md(d);break;case 19:var R=(a.flags&128)!==0;if(w=(f&d.childLanes)!==0,w||(wp(a,d,f,!1),w=(f&d.childLanes)!==0),R){if(w)return Q6(a,d,f);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),he(Qi,Qi.current),w)break;return null;case 22:return d.lanes=0,H6(a,d,f,d.pendingProps);case 24:hd(d,so,a.memoizedState.cache)}return Jc(a,d,f)}function J6(a,d,f){if(a!==null)if(a.memoizedProps!==d.pendingProps)lo=!0;else{if(!Sk(a,f)&&(d.flags&128)===0)return lo=!1,F4e(a,d,f);lo=(a.flags&131072)!==0}else lo=!1,Sr&&(d.flags&1048576)!==0&&kW(d,pv,d.index);switch(d.lanes=0,d.tag){case 16:e:{var w=d.pendingProps;if(a=Gh(d.elementType),d.type=a,typeof a=="function")TI(a)?(w=Yh(a,w),d.tag=1,d=q6(null,d,a,w,f)):(d.tag=0,d=pk(null,d,a,w,f));else{if(a!=null){var R=a.$$typeof;if(R===O){d.tag=11,d=$6(null,d,a,w,f);break e}else if(R===N){d.tag=14,d=z6(null,d,a,w,f);break e}}throw d=K(a)||a,Error(r(306,d,""))}}return d;case 0:return pk(a,d,d.type,d.pendingProps,f);case 1:return w=d.type,R=Yh(w,d.pendingProps),q6(a,d,w,R,f);case 3:e:{if(Ne(d,d.stateNode.containerInfo),a===null)throw Error(r(387));w=d.pendingProps;var F=d.memoizedState;R=F.element,$I(a,d),Cv(d,w,null,f);var ee=d.memoizedState;if(w=ee.cache,hd(d,so,w),w!==F.cache&&LI(d,[so],f,!0),Sv(),w=ee.element,F.isDehydrated)if(F={element:w,isDehydrated:!1,cache:ee.cache},d.updateQueue.baseState=F,d.memoizedState=F,d.flags&256){d=Y6(a,d,w,f);break e}else if(w!==R){R=Ka(Error(r(424)),d),gv(R),d=Y6(a,d,w,f);break e}else for(a=d.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,gi=Qa(a.firstChild),Ho=d,Sr=!0,ud=null,Xa=!0,f=HW(d,null,w,f),d.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($h(),w===R){d=Jc(a,d,f);break e}Wo(a,d,w,f)}d=d.child}return d;case 26:return s0(a,d),a===null?(f=uq(d.type,null,d.pendingProps,null))?d.memoizedState=f:Sr||(f=d.type,a=d.pendingProps,w=x0(ce.current).createElement(f),w[yn]=d,w[ir]=a,Ko(w,f,a),zn(w),d.stateNode=w):d.memoizedState=uq(d.type,a.memoizedProps,d.pendingProps,a.memoizedState),null;case 27:return me(d),a===null&&Sr&&(w=d.stateNode=aq(d.type,d.pendingProps,ce.current),Ho=d,Xa=!0,R=gi,Ed(d.type)?(eP=R,gi=Qa(w.firstChild)):gi=R),Wo(a,d,d.pendingProps.children,f),s0(a,d),a===null&&(d.flags|=4194304),d.child;case 5:return a===null&&Sr&&((R=w=gi)&&(w=pWe(w,d.type,d.pendingProps,Xa),w!==null?(d.stateNode=w,Ho=d,gi=Qa(w.firstChild),Xa=!1,R=!0):R=!1),R||dd(d)),me(d),R=d.type,F=d.pendingProps,ee=a!==null?a.memoizedProps:null,w=F.children,Yk(R,F)?w=null:ee!==null&&Yk(R,ee)&&(d.flags|=32),d.memoizedState!==null&&(R=qI(a,d,R4e,null,null,f),zv._currentValue=R),s0(a,d),Wo(a,d,w,f),d.child;case 6:return a===null&&Sr&&((a=f=gi)&&(f=gWe(f,d.pendingProps,Xa),f!==null?(d.stateNode=f,Ho=d,gi=null,a=!0):a=!1),a||dd(d)),null;case 13:return X6(a,d,f);case 4:return Ne(d,d.stateNode.containerInfo),w=d.pendingProps,a===null?d.child=Kh(d,null,w,f):Wo(a,d,w,f),d.child;case 11:return $6(a,d,d.type,d.pendingProps,f);case 7:return Wo(a,d,d.pendingProps,f),d.child;case 8:return Wo(a,d,d.pendingProps.children,f),d.child;case 12:return Wo(a,d,d.pendingProps.children,f),d.child;case 10:return w=d.pendingProps,hd(d,d.type,w.value),Wo(a,d,w.children,f),d.child;case 9:return R=d.type._context,w=d.pendingProps.children,Uh(d),R=Go(R),w=w(R),d.flags|=1,Wo(a,d,w,f),d.child;case 14:return z6(a,d,d.type,d.pendingProps,f);case 15:return U6(a,d,d.type,d.pendingProps,f);case 19:return Q6(a,d,f);case 31:return B4e(a,d,f);case 22:return H6(a,d,f,d.pendingProps);case 24:return Uh(d),w=Go(so),a===null?(R=FI(),R===null&&(R=ii,F=NI(),R.pooledCache=F,F.refCount++,F!==null&&(R.pooledCacheLanes|=f),R=F),d.memoizedState={parent:w,cache:R},VI(d),hd(d,so,R)):((a.lanes&f)!==0&&($I(a,d),Cv(d,null,null,f),Sv()),R=a.memoizedState,F=d.memoizedState,R.parent!==w?(R={parent:w,cache:w},d.memoizedState=R,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=R),hd(d,so,w)):(w=F.cache,hd(d,so,w),w!==R.cache&&LI(d,[so],f,!0))),Wo(a,d,d.pendingProps.children,f),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function eu(a){a.flags|=4}function Ck(a,d,f,w,R){if((d=(a.mode&32)!==0)&&(d=!1),d){if(a.flags|=16777216,(R&335544128)===R)if(a.stateNode.complete)a.flags|=8192;else if(TK())a.flags|=8192;else throw Wh=GS,jI}else a.flags&=-16777217}function eK(a,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!gq(d))if(TK())a.flags|=8192;else throw Wh=GS,jI}function l0(a,d){d!==null&&(a.flags|=4),a.flags&16384&&(d=a.tag!==22?Jt():536870912,a.lanes|=d,Pp|=d)}function Ov(a,d){if(!Sr)switch(a.tailMode){case"hidden":d=a.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?d||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function mi(a){var d=a.alternate!==null&&a.alternate.child===a.child,f=0,w=0;if(d)for(var R=a.child;R!==null;)f|=R.lanes|R.childLanes,w|=R.subtreeFlags&65011712,w|=R.flags&65011712,R.return=a,R=R.sibling;else for(R=a.child;R!==null;)f|=R.lanes|R.childLanes,w|=R.subtreeFlags,w|=R.flags,R.return=a,R=R.sibling;return a.subtreeFlags|=w,a.childLanes=f,d}function j4e(a,d,f){var w=d.pendingProps;switch(II(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(d),null;case 1:return mi(d),null;case 3:return f=d.stateNode,w=null,a!==null&&(w=a.memoizedState.cache),d.memoizedState.cache!==w&&(d.flags|=2048),Xc(so),_e(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(bp(d)?eu(d):a===null||a.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,PI())),mi(d),null;case 26:var R=d.type,F=d.memoizedState;return a===null?(eu(d),F!==null?(mi(d),eK(d,F)):(mi(d),Ck(d,R,null,w,f))):F?F!==a.memoizedState?(eu(d),mi(d),eK(d,F)):(mi(d),d.flags&=-16777217):(a=a.memoizedProps,a!==w&&eu(d),mi(d),Ck(d,R,a,w,f)),null;case 27:if(ye(d),f=ce.current,R=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==w&&eu(d);else{if(!w){if(d.stateNode===null)throw Error(r(166));return mi(d),null}a=pe.current,bp(d)?DW(d):(a=aq(R,w,f),d.stateNode=a,eu(d))}return mi(d),null;case 5:if(ye(d),R=d.type,a!==null&&d.stateNode!=null)a.memoizedProps!==w&&eu(d);else{if(!w){if(d.stateNode===null)throw Error(r(166));return mi(d),null}if(F=pe.current,bp(d))DW(d);else{var ee=x0(ce.current);switch(F){case 1:F=ee.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:F=ee.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":F=ee.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":F=ee.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":F=ee.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof w.is=="string"?ee.createElement("select",{is:w.is}):ee.createElement("select"),w.multiple?F.multiple=!0:w.size&&(F.size=w.size);break;default:F=typeof w.is=="string"?ee.createElement(R,{is:w.is}):ee.createElement(R)}}F[yn]=d,F[ir]=w;e:for(ee=d.child;ee!==null;){if(ee.tag===5||ee.tag===6)F.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.tag!==27&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===d)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===d)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}d.stateNode=F;e:switch(Ko(F,R,w),R){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&eu(d)}}return mi(d),Ck(d,d.type,a===null?null:a.memoizedProps,d.pendingProps,f),null;case 6:if(a&&d.stateNode!=null)a.memoizedProps!==w&&eu(d);else{if(typeof w!="string"&&d.stateNode===null)throw Error(r(166));if(a=ce.current,bp(d)){if(a=d.stateNode,f=d.memoizedProps,w=null,R=Ho,R!==null)switch(R.tag){case 27:case 5:w=R.memoizedProps}a[yn]=d,a=!!(a.nodeValue===f||w!==null&&w.suppressHydrationWarning===!0||XK(a.nodeValue,f)),a||dd(d,!0)}else a=x0(a).createTextNode(w),a[yn]=d,d.stateNode=a}return mi(d),null;case 31:if(f=d.memoizedState,a===null||a.memoizedState!==null){if(w=bp(d),f!==null){if(a===null){if(!w)throw Error(r(318));if(a=d.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[yn]=d}else $h(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;mi(d),a=!1}else f=PI(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return d.flags&256?(ra(d),d):(ra(d),null);if((d.flags&128)!==0)throw Error(r(558))}return mi(d),null;case 13:if(w=d.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(R=bp(d),w!==null&&w.dehydrated!==null){if(a===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[yn]=d}else $h(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;mi(d),R=!1}else R=PI(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=R),R=!0;if(!R)return d.flags&256?(ra(d),d):(ra(d),null)}return ra(d),(d.flags&128)!==0?(d.lanes=f,d):(f=w!==null,a=a!==null&&a.memoizedState!==null,f&&(w=d.child,R=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(R=w.alternate.memoizedState.cachePool.pool),F=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(F=w.memoizedState.cachePool.pool),F!==R&&(w.flags|=2048)),f!==a&&f&&(d.child.flags|=8192),l0(d,d.updateQueue),mi(d),null);case 4:return _e(),a===null&&Hk(d.stateNode.containerInfo),mi(d),null;case 10:return Xc(d.type),mi(d),null;case 19:if(X(Qi),w=d.memoizedState,w===null)return mi(d),null;if(R=(d.flags&128)!==0,F=w.rendering,F===null)if(R)Ov(w,!1);else{if(Hi!==0||a!==null&&(a.flags&128)!==0)for(a=d.child;a!==null;){if(F=YS(a),F!==null){for(d.flags|=128,Ov(w,!1),a=F.updateQueue,d.updateQueue=a,l0(d,a),d.subtreeFlags=0,a=f,f=d.child;f!==null;)OW(f,a),f=f.sibling;return he(Qi,Qi.current&1|2),Sr&&qc(d,w.treeForkCount),d.child}a=a.sibling}w.tail!==null&&yt()>f0&&(d.flags|=128,R=!0,Ov(w,!1),d.lanes=4194304)}else{if(!R)if(a=YS(F),a!==null){if(d.flags|=128,R=!0,a=a.updateQueue,d.updateQueue=a,l0(d,a),Ov(w,!0),w.tail===null&&w.tailMode==="hidden"&&!F.alternate&&!Sr)return mi(d),null}else 2*yt()-w.renderingStartTime>f0&&f!==536870912&&(d.flags|=128,R=!0,Ov(w,!1),d.lanes=4194304);w.isBackwards?(F.sibling=d.child,d.child=F):(a=w.last,a!==null?a.sibling=F:d.child=F,w.last=F)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=yt(),a.sibling=null,f=Qi.current,he(Qi,R?f&1|2:f&1),Sr&&qc(d,w.treeForkCount),a):(mi(d),null);case 22:case 23:return ra(d),GI(),w=d.memoizedState!==null,a!==null?a.memoizedState!==null!==w&&(d.flags|=8192):w&&(d.flags|=8192),w?(f&536870912)!==0&&(d.flags&128)===0&&(mi(d),d.subtreeFlags&6&&(d.flags|=8192)):mi(d),f=d.updateQueue,f!==null&&l0(d,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==f&&(d.flags|=2048),a!==null&&X(Hh),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),d.memoizedState.cache!==f&&(d.flags|=2048),Xc(so),mi(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function V4e(a,d){switch(II(d),d.tag){case 1:return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 3:return Xc(so),_e(),a=d.flags,(a&65536)!==0&&(a&128)===0?(d.flags=a&-65537|128,d):null;case 26:case 27:case 5:return ye(d),null;case 31:if(d.memoizedState!==null){if(ra(d),d.alternate===null)throw Error(r(340));$h()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 13:if(ra(d),a=d.memoizedState,a!==null&&a.dehydrated!==null){if(d.alternate===null)throw Error(r(340));$h()}return a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 19:return X(Qi),null;case 4:return _e(),null;case 10:return Xc(d.type),null;case 22:case 23:return ra(d),GI(),a!==null&&X(Hh),a=d.flags,a&65536?(d.flags=a&-65537|128,d):null;case 24:return Xc(so),null;case 25:return null;default:return null}}function tK(a,d){switch(II(d),d.tag){case 3:Xc(so),_e();break;case 26:case 27:case 5:ye(d);break;case 4:_e();break;case 31:d.memoizedState!==null&&ra(d);break;case 13:ra(d);break;case 19:X(Qi);break;case 10:Xc(d.type);break;case 22:case 23:ra(d),GI(),a!==null&&X(Hh);break;case 24:Xc(so)}}function Rv(a,d){try{var f=d.updateQueue,w=f!==null?f.lastEffect:null;if(w!==null){var R=w.next;f=R;do{if((f.tag&a)===a){w=void 0;var F=f.create,ee=f.inst;w=F(),ee.destroy=w}f=f.next}while(f!==R)}}catch(le){qr(d,d.return,le)}}function yd(a,d,f){try{var w=d.updateQueue,R=w!==null?w.lastEffect:null;if(R!==null){var F=R.next;w=F;do{if((w.tag&a)===a){var ee=w.inst,le=ee.destroy;if(le!==void 0){ee.destroy=void 0,R=d;var Ce=f,We=le;try{We()}catch(ut){qr(R,Ce,ut)}}}w=w.next}while(w!==F)}}catch(ut){qr(d,d.return,ut)}}function nK(a){var d=a.updateQueue;if(d!==null){var f=a.stateNode;try{WW(d,f)}catch(w){qr(a,a.return,w)}}}function rK(a,d,f){f.props=Yh(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(w){qr(a,d,w)}}function Iv(a,d){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var w=a.stateNode;break;case 30:w=a.stateNode;break;default:w=a.stateNode}typeof f=="function"?a.refCleanup=f(w):f.current=w}}catch(R){qr(a,d,R)}}function fc(a,d){var f=a.ref,w=a.refCleanup;if(f!==null)if(typeof w=="function")try{w()}catch(R){qr(a,d,R)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(R){qr(a,d,R)}else f.current=null}function iK(a){var d=a.type,f=a.memoizedProps,w=a.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":f.autoFocus&&w.focus();break e;case"img":f.src?w.src=f.src:f.srcSet&&(w.srcset=f.srcSet)}}catch(R){qr(a,a.return,R)}}function xk(a,d,f){try{var w=a.stateNode;lWe(w,a.type,f,d),w[ir]=d}catch(R){qr(a,a.return,R)}}function oK(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ed(a.type)||a.tag===4}function _k(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||oK(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ed(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ek(a,d,f){var w=a.tag;if(w===5||w===6)a=a.stateNode,d?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,d):(d=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,d.appendChild(a),f=f._reactRootContainer,f!=null||d.onclick!==null||(d.onclick=ro));else if(w!==4&&(w===27&&Ed(a.type)&&(f=a.stateNode,d=null),a=a.child,a!==null))for(Ek(a,d,f),a=a.sibling;a!==null;)Ek(a,d,f),a=a.sibling}function c0(a,d,f){var w=a.tag;if(w===5||w===6)a=a.stateNode,d?f.insertBefore(a,d):f.appendChild(a);else if(w!==4&&(w===27&&Ed(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(c0(a,d,f),a=a.sibling;a!==null;)c0(a,d,f),a=a.sibling}function sK(a){var d=a.stateNode,f=a.memoizedProps;try{for(var w=a.type,R=d.attributes;R.length;)d.removeAttributeNode(R[0]);Ko(d,w,f),d[yn]=a,d[ir]=f}catch(F){qr(a,a.return,F)}}var tu=!1,co=!1,Tk=!1,aK=typeof WeakSet=="function"?WeakSet:Set,Fo=null;function $4e(a,d){if(a=a.containerInfo,Kk=I0,a=De(a),Xe(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var w=f.getSelection&&f.getSelection();if(w&&w.rangeCount!==0){f=w.anchorNode;var R=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{f.nodeType,F.nodeType}catch{f=null;break e}var ee=0,le=-1,Ce=-1,We=0,ut=0,vt=a,qe=null;t:for(;;){for(var tt;vt!==f||R!==0&&vt.nodeType!==3||(le=ee+R),vt!==F||w!==0&&vt.nodeType!==3||(Ce=ee+w),vt.nodeType===3&&(ee+=vt.nodeValue.length),(tt=vt.firstChild)!==null;)qe=vt,vt=tt;for(;;){if(vt===a)break t;if(qe===f&&++We===R&&(le=ee),qe===F&&++ut===w&&(Ce=ee),(tt=vt.nextSibling)!==null)break;vt=qe,qe=vt.parentNode}vt=tt}f=le===-1||Ce===-1?null:{start:le,end:Ce}}else f=null}f=f||{start:0,end:0}}else f=null;for(qk={focusedElem:a,selectionRange:f},I0=!1,Fo=d;Fo!==null;)if(d=Fo,a=d.child,(d.subtreeFlags&1028)!==0&&a!==null)a.return=d,Fo=a;else for(;Fo!==null;){switch(d=Fo,F=d.alternate,a=d.flags,d.tag){case 0:if((a&4)!==0&&(a=d.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)R=a[f],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&F!==null){a=void 0,f=d,R=F.memoizedProps,F=F.memoizedState,w=f.stateNode;try{var ln=Yh(f.type,R);a=w.getSnapshotBeforeUpdate(ln,F),w.__reactInternalSnapshotBeforeUpdate=a}catch(Pn){qr(f,f.return,Pn)}}break;case 3:if((a&1024)!==0){if(a=d.stateNode.containerInfo,f=a.nodeType,f===9)Zk(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Zk(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=d.sibling,a!==null){a.return=d.return,Fo=a;break}Fo=d.return}}function lK(a,d,f){var w=f.flags;switch(f.tag){case 0:case 11:case 15:ru(a,f),w&4&&Rv(5,f);break;case 1:if(ru(a,f),w&4)if(a=f.stateNode,d===null)try{a.componentDidMount()}catch(ee){qr(f,f.return,ee)}else{var R=Yh(f.type,d.memoizedProps);d=d.memoizedState;try{a.componentDidUpdate(R,d,a.__reactInternalSnapshotBeforeUpdate)}catch(ee){qr(f,f.return,ee)}}w&64&&nK(f),w&512&&Iv(f,f.return);break;case 3:if(ru(a,f),w&64&&(a=f.updateQueue,a!==null)){if(d=null,f.child!==null)switch(f.child.tag){case 27:case 5:d=f.child.stateNode;break;case 1:d=f.child.stateNode}try{WW(a,d)}catch(ee){qr(f,f.return,ee)}}break;case 27:d===null&&w&4&&sK(f);case 26:case 5:ru(a,f),d===null&&w&4&&iK(f),w&512&&Iv(f,f.return);break;case 12:ru(a,f);break;case 31:ru(a,f),w&4&&dK(a,f);break;case 13:ru(a,f),w&4&&hK(a,f),w&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=X4e.bind(null,f),mWe(a,f))));break;case 22:if(w=f.memoizedState!==null||tu,!w){d=d!==null&&d.memoizedState!==null||co,R=tu;var F=co;tu=w,(co=d)&&!F?iu(a,f,(f.subtreeFlags&8772)!==0):ru(a,f),tu=R,co=F}break;case 30:break;default:ru(a,f)}}function cK(a){var d=a.alternate;d!==null&&(a.alternate=null,cK(d)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(d=a.stateNode,d!==null&&wt(d)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Oi=null,Is=!1;function nu(a,d,f){for(f=f.child;f!==null;)uK(a,d,f),f=f.sibling}function uK(a,d,f){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(St,f)}catch{}switch(f.tag){case 26:co||fc(f,d),nu(a,d,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:co||fc(f,d);var w=Oi,R=Is;Ed(f.type)&&(Oi=f.stateNode,Is=!1),nu(a,d,f),jv(f.stateNode),Oi=w,Is=R;break;case 5:co||fc(f,d);case 6:if(w=Oi,R=Is,Oi=null,nu(a,d,f),Oi=w,Is=R,Oi!==null)if(Is)try{(Oi.nodeType===9?Oi.body:Oi.nodeName==="HTML"?Oi.ownerDocument.body:Oi).removeChild(f.stateNode)}catch(F){qr(f,d,F)}else try{Oi.removeChild(f.stateNode)}catch(F){qr(f,d,F)}break;case 18:Oi!==null&&(Is?(a=Oi,nq(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Vp(a)):nq(Oi,f.stateNode));break;case 4:w=Oi,R=Is,Oi=f.stateNode.containerInfo,Is=!0,nu(a,d,f),Oi=w,Is=R;break;case 0:case 11:case 14:case 15:yd(2,f,d),co||yd(4,f,d),nu(a,d,f);break;case 1:co||(fc(f,d),w=f.stateNode,typeof w.componentWillUnmount=="function"&&rK(f,d,w)),nu(a,d,f);break;case 21:nu(a,d,f);break;case 22:co=(w=co)||f.memoizedState!==null,nu(a,d,f),co=w;break;default:nu(a,d,f)}}function dK(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Vp(a)}catch(f){qr(d,d.return,f)}}}function hK(a,d){if(d.memoizedState===null&&(a=d.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Vp(a)}catch(f){qr(d,d.return,f)}}function z4e(a){switch(a.tag){case 31:case 13:case 19:var d=a.stateNode;return d===null&&(d=a.stateNode=new aK),d;case 22:return a=a.stateNode,d=a._retryCache,d===null&&(d=a._retryCache=new aK),d;default:throw Error(r(435,a.tag))}}function u0(a,d){var f=z4e(a);d.forEach(function(w){if(!f.has(w)){f.add(w);var R=Z4e.bind(null,a,w);w.then(R,R)}})}function ks(a,d){var f=d.deletions;if(f!==null)for(var w=0;w<f.length;w++){var R=f[w],F=a,ee=d,le=ee;e:for(;le!==null;){switch(le.tag){case 27:if(Ed(le.type)){Oi=le.stateNode,Is=!1;break e}break;case 5:Oi=le.stateNode,Is=!1;break e;case 3:case 4:Oi=le.stateNode.containerInfo,Is=!0;break e}le=le.return}if(Oi===null)throw Error(r(160));uK(F,ee,R),Oi=null,Is=!1,F=R.alternate,F!==null&&(F.return=null),R.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)fK(d,a),d=d.sibling}var _l=null;function fK(a,d){var f=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ks(d,a),Ps(a),w&4&&(yd(3,a,a.return),Rv(3,a),yd(5,a,a.return));break;case 1:ks(d,a),Ps(a),w&512&&(co||f===null||fc(f,f.return)),w&64&&tu&&(a=a.updateQueue,a!==null&&(w=a.callbacks,w!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?w:f.concat(w))));break;case 26:var R=_l;if(ks(d,a),Ps(a),w&512&&(co||f===null||fc(f,f.return)),w&4){var F=f!==null?f.memoizedState:null;if(w=a.memoizedState,f===null)if(w===null)if(a.stateNode===null){e:{w=a.type,f=a.memoizedProps,R=R.ownerDocument||R;t:switch(w){case"title":F=R.getElementsByTagName("title")[0],(!F||F[et]||F[yn]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=R.createElement(w),R.head.insertBefore(F,R.querySelector("head > title"))),Ko(F,w,f),F[yn]=a,zn(F),w=F;break e;case"link":var ee=fq("link","href",R).get(w+(f.href||""));if(ee){for(var le=0;le<ee.length;le++)if(F=ee[le],F.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&F.getAttribute("rel")===(f.rel==null?null:f.rel)&&F.getAttribute("title")===(f.title==null?null:f.title)&&F.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){ee.splice(le,1);break t}}F=R.createElement(w),Ko(F,w,f),R.head.appendChild(F);break;case"meta":if(ee=fq("meta","content",R).get(w+(f.content||""))){for(le=0;le<ee.length;le++)if(F=ee[le],F.getAttribute("content")===(f.content==null?null:""+f.content)&&F.getAttribute("name")===(f.name==null?null:f.name)&&F.getAttribute("property")===(f.property==null?null:f.property)&&F.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&F.getAttribute("charset")===(f.charSet==null?null:f.charSet)){ee.splice(le,1);break t}}F=R.createElement(w),Ko(F,w,f),R.head.appendChild(F);break;default:throw Error(r(468,w))}F[yn]=a,zn(F),w=F}a.stateNode=w}else pq(R,a.type,a.stateNode);else a.stateNode=hq(R,w,a.memoizedProps);else F!==w?(F===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):F.count--,w===null?pq(R,a.type,a.stateNode):hq(R,w,a.memoizedProps)):w===null&&a.stateNode!==null&&xk(a,a.memoizedProps,f.memoizedProps)}break;case 27:ks(d,a),Ps(a),w&512&&(co||f===null||fc(f,f.return)),f!==null&&w&4&&xk(a,a.memoizedProps,f.memoizedProps);break;case 5:if(ks(d,a),Ps(a),w&512&&(co||f===null||fc(f,f.return)),a.flags&32){R=a.stateNode;try{cr(R,"")}catch(ln){qr(a,a.return,ln)}}w&4&&a.stateNode!=null&&(R=a.memoizedProps,xk(a,R,f!==null?f.memoizedProps:R)),w&1024&&(Tk=!0);break;case 6:if(ks(d,a),Ps(a),w&4){if(a.stateNode===null)throw Error(r(162));w=a.memoizedProps,f=a.stateNode;try{f.nodeValue=w}catch(ln){qr(a,a.return,ln)}}break;case 3:if(T0=null,R=_l,_l=_0(d.containerInfo),ks(d,a),_l=R,Ps(a),w&4&&f!==null&&f.memoizedState.isDehydrated)try{Vp(d.containerInfo)}catch(ln){qr(a,a.return,ln)}Tk&&(Tk=!1,pK(a));break;case 4:w=_l,_l=_0(a.stateNode.containerInfo),ks(d,a),Ps(a),_l=w;break;case 12:ks(d,a),Ps(a);break;case 31:ks(d,a),Ps(a),w&4&&(w=a.updateQueue,w!==null&&(a.updateQueue=null,u0(a,w)));break;case 13:ks(d,a),Ps(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(h0=yt()),w&4&&(w=a.updateQueue,w!==null&&(a.updateQueue=null,u0(a,w)));break;case 22:R=a.memoizedState!==null;var Ce=f!==null&&f.memoizedState!==null,We=tu,ut=co;if(tu=We||R,co=ut||Ce,ks(d,a),co=ut,tu=We,Ps(a),w&8192)e:for(d=a.stateNode,d._visibility=R?d._visibility&-2:d._visibility|1,R&&(f===null||Ce||tu||co||Xh(a)),f=null,d=a;;){if(d.tag===5||d.tag===26){if(f===null){Ce=f=d;try{if(F=Ce.stateNode,R)ee=F.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{le=Ce.stateNode;var vt=Ce.memoizedProps.style,qe=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;le.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(ln){qr(Ce,Ce.return,ln)}}}else if(d.tag===6){if(f===null){Ce=d;try{Ce.stateNode.nodeValue=R?"":Ce.memoizedProps}catch(ln){qr(Ce,Ce.return,ln)}}}else if(d.tag===18){if(f===null){Ce=d;try{var tt=Ce.stateNode;R?rq(tt,!0):rq(Ce.stateNode,!1)}catch(ln){qr(Ce,Ce.return,ln)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===a)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}w&4&&(w=a.updateQueue,w!==null&&(f=w.retryQueue,f!==null&&(w.retryQueue=null,u0(a,f))));break;case 19:ks(d,a),Ps(a),w&4&&(w=a.updateQueue,w!==null&&(a.updateQueue=null,u0(a,w)));break;case 30:break;case 21:break;default:ks(d,a),Ps(a)}}function Ps(a){var d=a.flags;if(d&2){try{for(var f,w=a.return;w!==null;){if(oK(w)){f=w;break}w=w.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var R=f.stateNode,F=_k(a);c0(a,F,R);break;case 5:var ee=f.stateNode;f.flags&32&&(cr(ee,""),f.flags&=-33);var le=_k(a);c0(a,le,ee);break;case 3:case 4:var Ce=f.stateNode.containerInfo,We=_k(a);Ek(a,We,Ce);break;default:throw Error(r(161))}}catch(ut){qr(a,a.return,ut)}a.flags&=-3}d&4096&&(a.flags&=-4097)}function pK(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var d=a;pK(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),a=a.sibling}}function ru(a,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)lK(a,d.alternate,d),d=d.sibling}function Xh(a){for(a=a.child;a!==null;){var d=a;switch(d.tag){case 0:case 11:case 14:case 15:yd(4,d,d.return),Xh(d);break;case 1:fc(d,d.return);var f=d.stateNode;typeof f.componentWillUnmount=="function"&&rK(d,d.return,f),Xh(d);break;case 27:jv(d.stateNode);case 26:case 5:fc(d,d.return),Xh(d);break;case 22:d.memoizedState===null&&Xh(d);break;case 30:Xh(d);break;default:Xh(d)}a=a.sibling}}function iu(a,d,f){for(f=f&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var w=d.alternate,R=a,F=d,ee=F.flags;switch(F.tag){case 0:case 11:case 15:iu(R,F,f),Rv(4,F);break;case 1:if(iu(R,F,f),w=F,R=w.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(We){qr(w,w.return,We)}if(w=F,R=w.updateQueue,R!==null){var le=w.stateNode;try{var Ce=R.shared.hiddenCallbacks;if(Ce!==null)for(R.shared.hiddenCallbacks=null,R=0;R<Ce.length;R++)GW(Ce[R],le)}catch(We){qr(w,w.return,We)}}f&&ee&64&&nK(F),Iv(F,F.return);break;case 27:sK(F);case 26:case 5:iu(R,F,f),f&&w===null&&ee&4&&iK(F),Iv(F,F.return);break;case 12:iu(R,F,f);break;case 31:iu(R,F,f),f&&ee&4&&dK(R,F);break;case 13:iu(R,F,f),f&&ee&4&&hK(R,F);break;case 22:F.memoizedState===null&&iu(R,F,f),Iv(F,F.return);break;case 30:break;default:iu(R,F,f)}d=d.sibling}}function Mk(a,d){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(a=d.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&mv(f))}function Ok(a,d){a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&mv(a))}function El(a,d,f,w){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)gK(a,d,f,w),d=d.sibling}function gK(a,d,f,w){var R=d.flags;switch(d.tag){case 0:case 11:case 15:El(a,d,f,w),R&2048&&Rv(9,d);break;case 1:El(a,d,f,w);break;case 3:El(a,d,f,w),R&2048&&(a=null,d.alternate!==null&&(a=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==a&&(d.refCount++,a!=null&&mv(a)));break;case 12:if(R&2048){El(a,d,f,w),a=d.stateNode;try{var F=d.memoizedProps,ee=F.id,le=F.onPostCommit;typeof le=="function"&&le(ee,d.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Ce){qr(d,d.return,Ce)}}else El(a,d,f,w);break;case 31:El(a,d,f,w);break;case 13:El(a,d,f,w);break;case 23:break;case 22:F=d.stateNode,ee=d.alternate,d.memoizedState!==null?F._visibility&2?El(a,d,f,w):kv(a,d):F._visibility&2?El(a,d,f,w):(F._visibility|=2,Rp(a,d,f,w,(d.subtreeFlags&10256)!==0||!1)),R&2048&&Mk(ee,d);break;case 24:El(a,d,f,w),R&2048&&Ok(d.alternate,d);break;default:El(a,d,f,w)}}function Rp(a,d,f,w,R){for(R=R&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var F=a,ee=d,le=f,Ce=w,We=ee.flags;switch(ee.tag){case 0:case 11:case 15:Rp(F,ee,le,Ce,R),Rv(8,ee);break;case 23:break;case 22:var ut=ee.stateNode;ee.memoizedState!==null?ut._visibility&2?Rp(F,ee,le,Ce,R):kv(F,ee):(ut._visibility|=2,Rp(F,ee,le,Ce,R)),R&&We&2048&&Mk(ee.alternate,ee);break;case 24:Rp(F,ee,le,Ce,R),R&&We&2048&&Ok(ee.alternate,ee);break;default:Rp(F,ee,le,Ce,R)}d=d.sibling}}function kv(a,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var f=a,w=d,R=w.flags;switch(w.tag){case 22:kv(f,w),R&2048&&Mk(w.alternate,w);break;case 24:kv(f,w),R&2048&&Ok(w.alternate,w);break;default:kv(f,w)}d=d.sibling}}var Pv=8192;function Ip(a,d,f){if(a.subtreeFlags&Pv)for(a=a.child;a!==null;)mK(a,d,f),a=a.sibling}function mK(a,d,f){switch(a.tag){case 26:Ip(a,d,f),a.flags&Pv&&a.memoizedState!==null&&OWe(f,_l,a.memoizedState,a.memoizedProps);break;case 5:Ip(a,d,f);break;case 3:case 4:var w=_l;_l=_0(a.stateNode.containerInfo),Ip(a,d,f),_l=w;break;case 22:a.memoizedState===null&&(w=a.alternate,w!==null&&w.memoizedState!==null?(w=Pv,Pv=16777216,Ip(a,d,f),Pv=w):Ip(a,d,f));break;default:Ip(a,d,f)}}function vK(a){var d=a.alternate;if(d!==null&&(a=d.child,a!==null)){d.child=null;do d=a.sibling,a.sibling=null,a=d;while(a!==null)}}function Dv(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var w=d[f];Fo=w,bK(w,a)}vK(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yK(a),a=a.sibling}function yK(a){switch(a.tag){case 0:case 11:case 15:Dv(a),a.flags&2048&&yd(9,a,a.return);break;case 3:Dv(a);break;case 12:Dv(a);break;case 22:var d=a.stateNode;a.memoizedState!==null&&d._visibility&2&&(a.return===null||a.return.tag!==13)?(d._visibility&=-3,d0(a)):Dv(a);break;default:Dv(a)}}function d0(a){var d=a.deletions;if((a.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var w=d[f];Fo=w,bK(w,a)}vK(a)}for(a=a.child;a!==null;){switch(d=a,d.tag){case 0:case 11:case 15:yd(8,d,d.return),d0(d);break;case 22:f=d.stateNode,f._visibility&2&&(f._visibility&=-3,d0(d));break;default:d0(d)}a=a.sibling}}function bK(a,d){for(;Fo!==null;){var f=Fo;switch(f.tag){case 0:case 11:case 15:yd(8,f,d);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var w=f.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:mv(f.memoizedState.cache)}if(w=f.child,w!==null)w.return=f,Fo=w;else e:for(f=a;Fo!==null;){w=Fo;var R=w.sibling,F=w.return;if(cK(w),w===f){Fo=null;break e}if(R!==null){R.return=F,Fo=R;break e}Fo=F}}}var U4e={getCacheForType:function(a){var d=Go(so),f=d.data.get(a);return f===void 0&&(f=a(),d.data.set(a,f)),f},cacheSignal:function(){return Go(so).controller.signal}},H4e=typeof WeakMap=="function"?WeakMap:Map,jr=0,ii=null,dr=null,yr=0,Kr=0,ia=null,bd=!1,kp=!1,Rk=!1,ou=0,Hi=0,wd=0,Zh=0,Ik=0,oa=0,Pp=0,Av=null,Ds=null,kk=!1,h0=0,wK=0,f0=1/0,p0=null,Sd=null,Eo=0,Cd=null,Dp=null,su=0,Pk=0,Dk=null,SK=null,Lv=0,Ak=null;function sa(){return(jr&2)!==0&&yr!==0?yr&-yr:z.T!==null?Vk():Vi()}function CK(){if(oa===0)if((yr&536870912)===0||Sr){var a=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),oa=a}else oa=536870912;return a=na.current,a!==null&&(a.flags|=32),oa}function As(a,d,f){(a===ii&&(Kr===2||Kr===9)||a.cancelPendingCommit!==null)&&(Ap(a,0),xd(a,yr,oa,!1)),Bt(a,f),((jr&2)===0||a!==ii)&&(a===ii&&((jr&2)===0&&(Zh|=f),Hi===4&&xd(a,yr,oa,!1)),pc(a))}function xK(a,d,f){if((jr&6)!==0)throw Error(r(327));var w=!f&&(d&127)===0&&(d&a.expiredLanes)===0||Fr(a,d),R=w?K4e(a,d):Nk(a,d,!0),F=w;do{if(R===0){kp&&!w&&xd(a,d,0,!1);break}else{if(f=a.current.alternate,F&&!G4e(f)){R=Nk(a,d,!1),F=!1;continue}if(R===2){if(F=d,a.errorRecoveryDisabledLanes&F)var ee=0;else ee=a.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){d=ee;e:{var le=a;R=Av;var Ce=le.current.memoizedState.isDehydrated;if(Ce&&(Ap(le,ee).flags|=256),ee=Nk(le,ee,!1),ee!==2){if(Rk&&!Ce){le.errorRecoveryDisabledLanes|=F,Zh|=F,R=4;break e}F=Ds,Ds=R,F!==null&&(Ds===null?Ds=F:Ds.push.apply(Ds,F))}R=ee}if(F=!1,R!==2)continue}}if(R===1){Ap(a,0),xd(a,d,0,!0);break}e:{switch(w=a,F=R,F){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:xd(w,d,oa,!bd);break e;case 2:Ds=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(R=h0+300-yt(),10<R)){if(xd(w,d,oa,!bd),bt(w,0,!0)!==0)break e;su=d,w.timeoutHandle=eq(_K.bind(null,w,f,Ds,p0,kk,d,oa,Zh,Pp,bd,F,"Throttled",-0,0),R);break e}_K(w,f,Ds,p0,kk,d,oa,Zh,Pp,bd,F,null,-0,0)}}break}while(!0);pc(a)}function _K(a,d,f,w,R,F,ee,le,Ce,We,ut,vt,qe,tt){if(a.timeoutHandle=-1,vt=d.subtreeFlags,vt&8192||(vt&16785408)===16785408){vt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ro},mK(d,F,vt);var ln=(F&62914560)===F?h0-yt():(F&4194048)===F?wK-yt():0;if(ln=RWe(vt,ln),ln!==null){su=F,a.cancelPendingCommit=ln(PK.bind(null,a,d,F,f,w,R,ee,le,Ce,ut,vt,null,qe,tt)),xd(a,F,ee,!We);return}}PK(a,d,F,f,w,R,ee,le,Ce)}function G4e(a){for(var d=a;;){var f=d.tag;if((f===0||f===11||f===15)&&d.flags&16384&&(f=d.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var w=0;w<f.length;w++){var R=f[w],F=R.getSnapshot;R=R.value;try{if(!J(F(),R))return!1}catch{return!1}}if(f=d.child,d.subtreeFlags&16384&&f!==null)f.return=d,d=f;else{if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function xd(a,d,f,w){d&=~Ik,d&=~Zh,a.suspendedLanes|=d,a.pingedLanes&=~d,w&&(a.warmLanes|=d),w=a.expirationTimes;for(var R=d;0<R;){var F=31-Pt(R),ee=1<<F;w[F]=-1,R&=~ee}f!==0&&Sn(a,f,d)}function g0(){return(jr&6)===0?(Nv(0),!1):!0}function Lk(){if(dr!==null){if(Kr===0)var a=dr.return;else a=dr,Yc=zh=null,ZI(a),_p=null,yv=0,a=dr;for(;a!==null;)tK(a.alternate,a),a=a.return;dr=null}}function Ap(a,d){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,dWe(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),su=0,Lk(),ii=a,dr=f=Kc(a.current,null),yr=d,Kr=0,ia=null,bd=!1,kp=Fr(a,d),Rk=!1,Pp=oa=Ik=Zh=wd=Hi=0,Ds=Av=null,kk=!1,(d&8)!==0&&(d|=d&32);var w=a.entangledLanes;if(w!==0)for(a=a.entanglements,w&=d;0<w;){var R=31-Pt(w),F=1<<R;d|=a[R],w&=~F}return ou=d,rt(),f}function EK(a,d){Xn=null,z.H=Tv,d===xp||d===HS?(d=$W(),Kr=3):d===jI?(d=$W(),Kr=4):Kr=d===fk?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ia=d,dr===null&&(Hi=1,i0(a,Ka(d,a.current)))}function TK(){var a=na.current;return a===null?!0:(yr&4194048)===yr?Za===null:(yr&62914560)===yr||(yr&536870912)!==0?a===Za:!1}function MK(){var a=z.H;return z.H=Tv,a===null?Tv:a}function OK(){var a=z.A;return z.A=U4e,a}function m0(){Hi=4,bd||(yr&4194048)!==yr&&na.current!==null||(kp=!0),(wd&134217727)===0&&(Zh&134217727)===0||ii===null||xd(ii,yr,oa,!1)}function Nk(a,d,f){var w=jr;jr|=2;var R=MK(),F=OK();(ii!==a||yr!==d)&&(p0=null,Ap(a,d)),d=!1;var ee=Hi;e:do try{if(Kr!==0&&dr!==null){var le=dr,Ce=ia;switch(Kr){case 8:Lk(),ee=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(d=!0);var We=Kr;if(Kr=0,ia=null,Lp(a,le,Ce,We),f&&kp){ee=0;break e}break;default:We=Kr,Kr=0,ia=null,Lp(a,le,Ce,We)}}W4e(),ee=Hi;break}catch(ut){EK(a,ut)}while(!0);return d&&a.shellSuspendCounter++,Yc=zh=null,jr=w,z.H=R,z.A=F,dr===null&&(ii=null,yr=0,rt()),ee}function W4e(){for(;dr!==null;)RK(dr)}function K4e(a,d){var f=jr;jr|=2;var w=MK(),R=OK();ii!==a||yr!==d?(p0=null,f0=yt()+500,Ap(a,d)):kp=Fr(a,d);e:do try{if(Kr!==0&&dr!==null){d=dr;var F=ia;t:switch(Kr){case 1:Kr=0,ia=null,Lp(a,d,F,1);break;case 2:case 9:if(jW(F)){Kr=0,ia=null,IK(d);break}d=function(){Kr!==2&&Kr!==9||ii!==a||(Kr=7),pc(a)},F.then(d,d);break e;case 3:Kr=7;break e;case 4:Kr=5;break e;case 7:jW(F)?(Kr=0,ia=null,IK(d)):(Kr=0,ia=null,Lp(a,d,F,7));break;case 5:var ee=null;switch(dr.tag){case 26:ee=dr.memoizedState;case 5:case 27:var le=dr;if(ee?gq(ee):le.stateNode.complete){Kr=0,ia=null;var Ce=le.sibling;if(Ce!==null)dr=Ce;else{var We=le.return;We!==null?(dr=We,v0(We)):dr=null}break t}}Kr=0,ia=null,Lp(a,d,F,5);break;case 6:Kr=0,ia=null,Lp(a,d,F,6);break;case 8:Lk(),Hi=6;break e;default:throw Error(r(462))}}q4e();break}catch(ut){EK(a,ut)}while(!0);return Yc=zh=null,z.H=w,z.A=R,jr=f,dr!==null?0:(ii=null,yr=0,rt(),Hi)}function q4e(){for(;dr!==null&&!Ke();)RK(dr)}function RK(a){var d=J6(a.alternate,a,ou);a.memoizedProps=a.pendingProps,d===null?v0(a):dr=d}function IK(a){var d=a,f=d.alternate;switch(d.tag){case 15:case 0:d=K6(f,d,d.pendingProps,d.type,void 0,yr);break;case 11:d=K6(f,d,d.pendingProps,d.type.render,d.ref,yr);break;case 5:ZI(d);default:tK(f,d),d=dr=OW(d,ou),d=J6(f,d,ou)}a.memoizedProps=a.pendingProps,d===null?v0(a):dr=d}function Lp(a,d,f,w){Yc=zh=null,ZI(d),_p=null,yv=0;var R=d.return;try{if(N4e(a,R,d,f,yr)){Hi=1,i0(a,Ka(f,a.current)),dr=null;return}}catch(F){if(R!==null)throw dr=R,F;Hi=1,i0(a,Ka(f,a.current)),dr=null;return}d.flags&32768?(Sr||w===1?a=!0:kp||(yr&536870912)!==0?a=!1:(bd=a=!0,(w===2||w===9||w===3||w===6)&&(w=na.current,w!==null&&w.tag===13&&(w.flags|=16384))),kK(d,a)):v0(d)}function v0(a){var d=a;do{if((d.flags&32768)!==0){kK(d,bd);return}a=d.return;var f=j4e(d.alternate,d,ou);if(f!==null){dr=f;return}if(d=d.sibling,d!==null){dr=d;return}dr=d=a}while(d!==null);Hi===0&&(Hi=5)}function kK(a,d){do{var f=V4e(a.alternate,a);if(f!==null){f.flags&=32767,dr=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!d&&(a=a.sibling,a!==null)){dr=a;return}dr=a=f}while(a!==null);Hi=6,dr=null}function PK(a,d,f,w,R,F,ee,le,Ce){a.cancelPendingCommit=null;do y0();while(Eo!==0);if((jr&6)!==0)throw Error(r(327));if(d!==null){if(d===a.current)throw Error(r(177));if(F=d.lanes|d.childLanes,F|=Ze,en(a,f,F,ee,le,Ce),a===ii&&(dr=ii=null,yr=0),Dp=d,Cd=a,su=f,Pk=F,Dk=R,SK=w,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Q4e(un,function(){return BK(),null})):(a.callbackNode=null,a.callbackPriority=0),w=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||w){w=z.T,z.T=null,R=Y.p,Y.p=2,ee=jr,jr|=4;try{$4e(a,d,f)}finally{jr=ee,Y.p=R,z.T=w}}Eo=1,DK(),AK(),LK()}}function DK(){if(Eo===1){Eo=0;var a=Cd,d=Dp,f=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||f){f=z.T,z.T=null;var w=Y.p;Y.p=2;var R=jr;jr|=4;try{fK(d,a);var F=qk,ee=De(a.containerInfo),le=F.focusedElem,Ce=F.selectionRange;if(ee!==le&&le&&le.ownerDocument&&we(le.ownerDocument.documentElement,le)){if(Ce!==null&&Xe(le)){var We=Ce.start,ut=Ce.end;if(ut===void 0&&(ut=We),"selectionStart"in le)le.selectionStart=We,le.selectionEnd=Math.min(ut,le.value.length);else{var vt=le.ownerDocument||document,qe=vt&&vt.defaultView||window;if(qe.getSelection){var tt=qe.getSelection(),ln=le.textContent.length,Pn=Math.min(Ce.start,ln),ni=Ce.end===void 0?Pn:Math.min(Ce.end,ln);!tt.extend&&Pn>ni&&(ee=ni,ni=Pn,Pn=ee);var je=ve(le,Pn),Oe=ve(le,ni);if(je&&Oe&&(tt.rangeCount!==1||tt.anchorNode!==je.node||tt.anchorOffset!==je.offset||tt.focusNode!==Oe.node||tt.focusOffset!==Oe.offset)){var Ge=vt.createRange();Ge.setStart(je.node,je.offset),tt.removeAllRanges(),Pn>ni?(tt.addRange(Ge),tt.extend(Oe.node,Oe.offset)):(Ge.setEnd(Oe.node,Oe.offset),tt.addRange(Ge))}}}}for(vt=[],tt=le;tt=tt.parentNode;)tt.nodeType===1&&vt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<vt.length;le++){var pt=vt[le];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}I0=!!Kk,qk=Kk=null}finally{jr=R,Y.p=w,z.T=f}}a.current=d,Eo=2}}function AK(){if(Eo===2){Eo=0;var a=Cd,d=Dp,f=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||f){f=z.T,z.T=null;var w=Y.p;Y.p=2;var R=jr;jr|=4;try{lK(a,d.alternate,d)}finally{jr=R,Y.p=w,z.T=f}}Eo=3}}function LK(){if(Eo===4||Eo===3){Eo=0,$t();var a=Cd,d=Dp,f=su,w=SK;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Eo=5:(Eo=0,Dp=Cd=null,NK(a,a.pendingLanes));var R=a.pendingLanes;if(R===0&&(Sd=null),Qr(f),d=d.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(St,d,void 0,(d.current.flags&128)===128)}catch{}if(w!==null){d=z.T,R=Y.p,Y.p=2,z.T=null;try{for(var F=a.onRecoverableError,ee=0;ee<w.length;ee++){var le=w[ee];F(le.value,{componentStack:le.stack})}}finally{z.T=d,Y.p=R}}(su&3)!==0&&y0(),pc(a),R=a.pendingLanes,(f&261930)!==0&&(R&42)!==0?a===Ak?Lv++:(Lv=0,Ak=a):Lv=0,Nv(0)}}function NK(a,d){(a.pooledCacheLanes&=d)===0&&(d=a.pooledCache,d!=null&&(a.pooledCache=null,mv(d)))}function y0(){return DK(),AK(),LK(),BK()}function BK(){if(Eo!==5)return!1;var a=Cd,d=Pk;Pk=0;var f=Qr(su),w=z.T,R=Y.p;try{Y.p=32>f?32:f,z.T=null,f=Dk,Dk=null;var F=Cd,ee=su;if(Eo=0,Dp=Cd=null,su=0,(jr&6)!==0)throw Error(r(331));var le=jr;if(jr|=4,yK(F.current),gK(F,F.current,ee,f),jr=le,Nv(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(St,F)}catch{}return!0}finally{Y.p=R,z.T=w,NK(a,d)}}function FK(a,d,f){d=Ka(f,d),d=hk(a.stateNode,d,2),a=gd(a,d,2),a!==null&&(Bt(a,2),pc(a))}function qr(a,d,f){if(a.tag===3)FK(a,a,f);else for(;d!==null;){if(d.tag===3){FK(d,a,f);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Sd===null||!Sd.has(w))){a=Ka(f,a),f=j6(2),w=gd(d,f,2),w!==null&&(V6(f,w,d,a),Bt(w,2),pc(w));break}}d=d.return}}function Bk(a,d,f){var w=a.pingCache;if(w===null){w=a.pingCache=new H4e;var R=new Set;w.set(d,R)}else R=w.get(d),R===void 0&&(R=new Set,w.set(d,R));R.has(f)||(Rk=!0,R.add(f),a=Y4e.bind(null,a,d,f),d.then(a,a))}function Y4e(a,d,f){var w=a.pingCache;w!==null&&w.delete(d),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,ii===a&&(yr&f)===f&&(Hi===4||Hi===3&&(yr&62914560)===yr&&300>yt()-h0?(jr&2)===0&&Ap(a,0):Ik|=f,Pp===yr&&(Pp=0)),pc(a)}function jK(a,d){d===0&&(d=Jt()),a=Bo(a,d),a!==null&&(Bt(a,d),pc(a))}function X4e(a){var d=a.memoizedState,f=0;d!==null&&(f=d.retryLane),jK(a,f)}function Z4e(a,d){var f=0;switch(a.tag){case 31:case 13:var w=a.stateNode,R=a.memoizedState;R!==null&&(f=R.retryLane);break;case 19:w=a.stateNode;break;case 22:w=a.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(d),jK(a,f)}function Q4e(a,d){return Ct(a,d)}var b0=null,Np=null,Fk=!1,w0=!1,jk=!1,_d=0;function pc(a){a!==Np&&a.next===null&&(Np===null?b0=Np=a:Np=Np.next=a),w0=!0,Fk||(Fk=!0,eWe())}function Nv(a,d){if(!jk&&w0){jk=!0;do for(var f=!1,w=b0;w!==null;){if(a!==0){var R=w.pendingLanes;if(R===0)var F=0;else{var ee=w.suspendedLanes,le=w.pingedLanes;F=(1<<31-Pt(42|a)+1)-1,F&=R&~(ee&~le),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(f=!0,UK(w,F))}else F=yr,F=bt(w,w===ii?F:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(F&3)===0||Fr(w,F)||(f=!0,UK(w,F));w=w.next}while(f);jk=!1}}function J4e(){VK()}function VK(){w0=Fk=!1;var a=0;_d!==0&&uWe()&&(a=_d);for(var d=yt(),f=null,w=b0;w!==null;){var R=w.next,F=$K(w,d);F===0?(w.next=null,f===null?b0=R:f.next=R,R===null&&(Np=f)):(f=w,(a!==0||(F&3)!==0)&&(w0=!0)),w=R}Eo!==0&&Eo!==5||Nv(a),_d!==0&&(_d=0)}function $K(a,d){for(var f=a.suspendedLanes,w=a.pingedLanes,R=a.expirationTimes,F=a.pendingLanes&-62914561;0<F;){var ee=31-Pt(F),le=1<<ee,Ce=R[ee];Ce===-1?((le&f)===0||(le&w)!==0)&&(R[ee]=ai(le,d)):Ce<=d&&(a.expiredLanes|=le),F&=~le}if(d=ii,f=yr,f=bt(a,a===d?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),w=a.callbackNode,f===0||a===d&&(Kr===2||Kr===9)||a.cancelPendingCommit!==null)return w!==null&&w!==null&&Rt(w),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||Fr(a,f)){if(d=f&-f,d===a.callbackPriority)return d;switch(w!==null&&Rt(w),Qr(f)){case 2:case 8:f=pn;break;case 32:f=un;break;case 268435456:f=At;break;default:f=un}return w=zK.bind(null,a),f=Ct(f,w),a.callbackPriority=d,a.callbackNode=f,d}return w!==null&&w!==null&&Rt(w),a.callbackPriority=2,a.callbackNode=null,2}function zK(a,d){if(Eo!==0&&Eo!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(y0()&&a.callbackNode!==f)return null;var w=yr;return w=bt(a,a===ii?w:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),w===0?null:(xK(a,w,d),$K(a,yt()),a.callbackNode!=null&&a.callbackNode===f?zK.bind(null,a):null)}function UK(a,d){if(y0())return null;xK(a,d,!0)}function eWe(){hWe(function(){(jr&6)!==0?Ct(jt,J4e):VK()})}function Vk(){if(_d===0){var a=Sp;a===0&&(a=An,An<<=1,(An&261888)===0&&(An=256)),_d=a}return _d}function HK(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:no(""+a)}function GK(a,d){var f=d.ownerDocument.createElement("input");return f.name=d.name,f.value=d.value,a.id&&f.setAttribute("form",a.id),d.parentNode.insertBefore(f,d),a=new FormData(a),f.parentNode.removeChild(f),a}function tWe(a,d,f,w,R){if(d==="submit"&&f&&f.stateNode===R){var F=HK((R[ir]||null).action),ee=w.submitter;ee&&(d=(d=ee[ir]||null)?HK(d.formAction):ee.getAttribute("formAction"),d!==null&&(F=d,ee=null));var le=new Or("action","action",null,w,R);a.push({event:le,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(_d!==0){var Ce=ee?GK(R,ee):new FormData(R);sk(f,{pending:!0,data:Ce,method:R.method,action:F},null,Ce)}}else typeof F=="function"&&(le.preventDefault(),Ce=ee?GK(R,ee):new FormData(R),sk(f,{pending:!0,data:Ce,method:R.method,action:F},F,Ce))},currentTarget:R}]})}}for(var $k=0;$k<gp.length;$k++){var zk=gp[$k],nWe=zk.toLowerCase(),rWe=zk[0].toUpperCase()+zk.slice(1);Z(nWe,"on"+rWe)}Z(AS,"onAnimationEnd"),Z(LS,"onAnimationIteration"),Z(NS,"onAnimationStart"),Z("dblclick","onDoubleClick"),Z("focusin","onFocus"),Z("focusout","onBlur"),Z(EI,"onTransitionRun"),Z(Qt,"onTransitionStart"),Z(BS,"onTransitionCancel"),Z(oo,"onTransitionEnd"),Lo("onMouseEnter",["mouseout","mouseover"]),Lo("onMouseLeave",["mouseout","mouseover"]),Lo("onPointerEnter",["pointerout","pointerover"]),Lo("onPointerLeave",["pointerout","pointerover"]),to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),to("onBeforeInput",["compositionend","keypress","textInput","paste"]),to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iWe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bv));function WK(a,d){d=(d&4)!==0;for(var f=0;f<a.length;f++){var w=a[f],R=w.event;w=w.listeners;e:{var F=void 0;if(d)for(var ee=w.length-1;0<=ee;ee--){var le=w[ee],Ce=le.instance,We=le.currentTarget;if(le=le.listener,Ce!==F&&R.isPropagationStopped())break e;F=le,R.currentTarget=We;try{F(R)}catch(ut){ae(ut)}R.currentTarget=null,F=Ce}else for(ee=0;ee<w.length;ee++){if(le=w[ee],Ce=le.instance,We=le.currentTarget,le=le.listener,Ce!==F&&R.isPropagationStopped())break e;F=le,R.currentTarget=We;try{F(R)}catch(ut){ae(ut)}R.currentTarget=null,F=Ce}}}}function hr(a,d){var f=d[zo];f===void 0&&(f=d[zo]=new Set);var w=a+"__bubble";f.has(w)||(KK(d,a,2,!1),f.add(w))}function Uk(a,d,f){var w=0;d&&(w|=4),KK(f,a,w,d)}var S0="_reactListening"+Math.random().toString(36).slice(2);function Hk(a){if(!a[S0]){a[S0]=!0,bo.forEach(function(f){f!=="selectionchange"&&(iWe.has(f)||Uk(f,!1,a),Uk(f,!0,a))});var d=a.nodeType===9?a:a.ownerDocument;d===null||d[S0]||(d[S0]=!0,Uk("selectionchange",!1,d))}}function KK(a,d,f,w){switch(Cq(d)){case 2:var R=PWe;break;case 8:R=DWe;break;default:R=oP}f=R.bind(null,d,f,a),R=void 0,!$a||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),w?R!==void 0?a.addEventListener(d,f,{capture:!0,passive:R}):a.addEventListener(d,f,!0):R!==void 0?a.addEventListener(d,f,{passive:R}):a.addEventListener(d,f,!1)}function Gk(a,d,f,w,R){var F=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var ee=w.tag;if(ee===3||ee===4){var le=w.stateNode.containerInfo;if(le===R)break;if(ee===4)for(ee=w.return;ee!==null;){var Ce=ee.tag;if((Ce===3||Ce===4)&&ee.stateNode.containerInfo===R)return;ee=ee.return}for(;le!==null;){if(ee=qt(le),ee===null)return;if(Ce=ee.tag,Ce===5||Ce===6||Ce===26||Ce===27){w=F=ee;continue e}le=le.parentNode}}w=w.return}hs(function(){var We=F,ut=dn(f),vt=[];e:{var qe=pp.get(a);if(qe!==void 0){var tt=Or,ln=a;switch(a){case"keypress":if(Ve(f)===0)break e;case"keydown":case"keyup":tt=Li;break;case"focusin":ln="focus",tt=Rs;break;case"focusout":ln="blur",tt=Rs;break;case"beforeblur":case"afterblur":tt=Rs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Uo;break;case AS:case LS:case NS:tt=ed;break;case oo:tt=He;break;case"scroll":case"scrollend":tt=Zu;break;case"wheel":tt=Co;break;case"copy":case"cut":case"paste":tt=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=rn;break;case"toggle":case"beforetoggle":tt=En}var Pn=(d&4)!==0,ni=!Pn&&(a==="scroll"||a==="scrollend"),je=Pn?qe!==null?qe+"Capture":null:qe;Pn=[];for(var Oe=We,Ge;Oe!==null;){var pt=Oe;if(Ge=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Ge===null||je===null||(pt=Ai(Oe,je),pt!=null&&Pn.push(Fv(Oe,pt,Ge))),ni)break;Oe=Oe.return}0<Pn.length&&(qe=new tt(qe,ln,null,f,ut),vt.push({event:qe,listeners:Pn}))}}if((d&7)===0){e:{if(qe=a==="mouseover"||a==="pointerover",tt=a==="mouseout"||a==="pointerout",qe&&f!==wl&&(ln=f.relatedTarget||f.fromElement)&&(qt(ln)||ln[Pi]))break e;if((tt||qe)&&(qe=ut.window===ut?ut:(qe=ut.ownerDocument)?qe.defaultView||qe.parentWindow:window,tt?(ln=f.relatedTarget||f.toElement,tt=We,ln=ln?qt(ln):null,ln!==null&&(ni=o(ln),Pn=ln.tag,ln!==ni||Pn!==5&&Pn!==27&&Pn!==6)&&(ln=null)):(tt=null,ln=We),tt!==ln)){if(Pn=Qu,pt="onMouseLeave",je="onMouseEnter",Oe="mouse",(a==="pointerout"||a==="pointerover")&&(Pn=rn,pt="onPointerLeave",je="onPointerEnter",Oe="pointer"),ni=tt==null?qe:vr(tt),Ge=ln==null?qe:vr(ln),qe=new Pn(pt,Oe+"leave",tt,f,ut),qe.target=ni,qe.relatedTarget=Ge,pt=null,qt(ut)===We&&(Pn=new Pn(je,Oe+"enter",ln,f,ut),Pn.target=Ge,Pn.relatedTarget=ni,pt=Pn),ni=pt,tt&&ln)t:{for(Pn=oWe,je=tt,Oe=ln,Ge=0,pt=je;pt;pt=Pn(pt))Ge++;pt=0;for(var _n=Oe;_n;_n=Pn(_n))pt++;for(;0<Ge-pt;)je=Pn(je),Ge--;for(;0<pt-Ge;)Oe=Pn(Oe),pt--;for(;Ge--;){if(je===Oe||Oe!==null&&je===Oe.alternate){Pn=je;break t}je=Pn(je),Oe=Pn(Oe)}Pn=null}else Pn=null;tt!==null&&qK(vt,qe,tt,Pn,!1),ln!==null&&ni!==null&&qK(vt,ni,ln,Pn,!0)}}e:{if(qe=We?vr(We):window,tt=qe.nodeName&&qe.nodeName.toLowerCase(),tt==="select"||tt==="input"&&qe.type==="file")var Dr=dp;else if(Cl(qe))if(Hc)Dr=x;else{Dr=Gc;var gn=ld}else tt=qe.nodeName,!tt||tt.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?We&&Di(We.elementType)&&(Dr=dp):Dr=fv;if(Dr&&(Dr=Dr(a,We))){_o(vt,Dr,f,ut);break e}gn&&gn(a,qe,We),a==="focusout"&&We&&qe.type==="number"&&We.memoizedProps.value!=null&&oc(qe,"number",qe.value)}switch(gn=We?vr(We):window,a){case"focusin":(Cl(gn)||gn.contentEditable==="true")&&(ht=gn,Gt=We,Zt=null);break;case"focusout":Zt=Gt=ht=null;break;case"mousedown":kn=!0;break;case"contextmenu":case"mouseup":case"dragend":kn=!1,Kn(vt,f,ut);break;case"selectionchange":if(at)break;case"keydown":case"keyup":Kn(vt,f,ut)}var er;if(Wa)e:{switch(a){case"compositionstart":var br="onCompositionStart";break e;case"compositionend":br="onCompositionEnd";break e;case"compositionupdate":br="onCompositionUpdate";break e}br=void 0}else Ti?On(a,f)&&(br="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(br="onCompositionStart");br&&(gt&&f.locale!=="ko"&&(Ti||br!=="onCompositionStart"?br==="onCompositionEnd"&&Ti&&(er=Se()):(G=ut,re="value"in G?G.value:G.textContent,Ti=!0)),gn=C0(We,br),0<gn.length&&(br=new $c(br,a,null,f,ut),vt.push({event:br,listeners:gn}),er?br.data=er:(er=Cn(f),er!==null&&(br.data=er)))),(er=$e?zi(a,f):Mi(a,f))&&(br=C0(We,"onBeforeInput"),0<br.length&&(gn=new $c("onBeforeInput","beforeinput",null,f,ut),vt.push({event:gn,listeners:br}),gn.data=er)),tWe(vt,a,We,f,ut)}WK(vt,d)})}function Fv(a,d,f){return{instance:a,listener:d,currentTarget:f}}function C0(a,d){for(var f=d+"Capture",w=[];a!==null;){var R=a,F=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||F===null||(R=Ai(a,f),R!=null&&w.unshift(Fv(a,R,F)),R=Ai(a,d),R!=null&&w.push(Fv(a,R,F))),a.tag===3)return w;a=a.return}return[]}function oWe(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function qK(a,d,f,w,R){for(var F=d._reactName,ee=[];f!==null&&f!==w;){var le=f,Ce=le.alternate,We=le.stateNode;if(le=le.tag,Ce!==null&&Ce===w)break;le!==5&&le!==26&&le!==27||We===null||(Ce=We,R?(We=Ai(f,F),We!=null&&ee.unshift(Fv(f,We,Ce))):R||(We=Ai(f,F),We!=null&&ee.push(Fv(f,We,Ce)))),f=f.return}ee.length!==0&&a.push({event:d,listeners:ee})}var sWe=/\r\n?/g,aWe=/\u0000|\uFFFD/g;function YK(a){return(typeof a=="string"?a:""+a).replace(sWe,`
`).replace(aWe,"")}function XK(a,d){return d=YK(d),YK(a)===d}function ti(a,d,f,w,R,F){switch(f){case"children":typeof w=="string"?d==="body"||d==="textarea"&&w===""||cr(a,w):(typeof w=="number"||typeof w=="bigint")&&d!=="body"&&cr(a,""+w);break;case"className":Fa(a,"class",w);break;case"tabIndex":Fa(a,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Fa(a,f,w);break;case"style":li(a,w,F);break;case"data":if(d!=="object"){Fa(a,"data",w);break}case"src":case"href":if(w===""&&(d!=="a"||f!=="href")){a.removeAttribute(f);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){a.removeAttribute(f);break}w=no(""+w),a.setAttribute(f,w);break;case"action":case"formAction":if(typeof w=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(f==="formAction"?(d!=="input"&&ti(a,d,"name",R.name,R,null),ti(a,d,"formEncType",R.formEncType,R,null),ti(a,d,"formMethod",R.formMethod,R,null),ti(a,d,"formTarget",R.formTarget,R,null)):(ti(a,d,"encType",R.encType,R,null),ti(a,d,"method",R.method,R,null),ti(a,d,"target",R.target,R,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){a.removeAttribute(f);break}w=no(""+w),a.setAttribute(f,w);break;case"onClick":w!=null&&(a.onclick=ro);break;case"onScroll":w!=null&&hr("scroll",a);break;case"onScrollEnd":w!=null&&hr("scrollend",a);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(f=w.__html,f!=null){if(R.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":a.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){a.removeAttribute("xlink:href");break}f=no(""+w),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?a.setAttribute(f,""+w):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":w===!0?a.setAttribute(f,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?a.setAttribute(f,w):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?a.setAttribute(f,w):a.removeAttribute(f);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?a.removeAttribute(f):a.setAttribute(f,w);break;case"popover":hr("beforetoggle",a),hr("toggle",a),Ba(a,"popover",w);break;case"xlinkActuate":$i(a,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":$i(a,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":$i(a,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":$i(a,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":$i(a,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":$i(a,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":$i(a,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":$i(a,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":$i(a,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ba(a,"is",w);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=ea.get(f)||f,Ba(a,f,w))}}function Wk(a,d,f,w,R,F){switch(f){case"style":li(a,w,F);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(f=w.__html,f!=null){if(R.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof w=="string"?cr(a,w):(typeof w=="number"||typeof w=="bigint")&&cr(a,""+w);break;case"onScroll":w!=null&&hr("scroll",a);break;case"onScrollEnd":w!=null&&hr("scrollend",a);break;case"onClick":w!=null&&(a.onclick=ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ts.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(R=f.endsWith("Capture"),d=f.slice(2,R?f.length-7:void 0),F=a[ir]||null,F=F!=null?F[f]:null,typeof F=="function"&&a.removeEventListener(d,F,R),typeof w=="function")){typeof F!="function"&&F!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(d,w,R);break e}f in a?a[f]=w:w===!0?a.setAttribute(f,""):Ba(a,f,w)}}}function Ko(a,d,f){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hr("error",a),hr("load",a);var w=!1,R=!1,F;for(F in f)if(f.hasOwnProperty(F)){var ee=f[F];if(ee!=null)switch(F){case"src":w=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:ti(a,d,F,ee,f,null)}}R&&ti(a,d,"srcSet",f.srcSet,f,null),w&&ti(a,d,"src",f.src,f,null);return;case"input":hr("invalid",a);var le=F=ee=R=null,Ce=null,We=null;for(w in f)if(f.hasOwnProperty(w)){var ut=f[w];if(ut!=null)switch(w){case"name":R=ut;break;case"type":ee=ut;break;case"checked":Ce=ut;break;case"defaultChecked":We=ut;break;case"value":F=ut;break;case"defaultValue":le=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,d));break;default:ti(a,d,w,ut,f,null)}}ic(a,F,le,Ce,We,ee,R,!1);return;case"select":hr("invalid",a),w=ee=F=null;for(R in f)if(f.hasOwnProperty(R)&&(le=f[R],le!=null))switch(R){case"value":F=le;break;case"defaultValue":ee=le;break;case"multiple":w=le;default:ti(a,d,R,le,f,null)}d=F,f=ee,a.multiple=!!w,d!=null?ds(a,!!w,d,!1):f!=null&&ds(a,!!w,f,!0);return;case"textarea":hr("invalid",a),F=R=w=null;for(ee in f)if(f.hasOwnProperty(ee)&&(le=f[ee],le!=null))switch(ee){case"value":w=le;break;case"defaultValue":R=le;break;case"children":F=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(91));break;default:ti(a,d,ee,le,f,null)}ac(a,w,R,F);return;case"option":for(Ce in f)f.hasOwnProperty(Ce)&&(w=f[Ce],w!=null)&&(Ce==="selected"?a.selected=w&&typeof w!="function"&&typeof w!="symbol":ti(a,d,Ce,w,f,null));return;case"dialog":hr("beforetoggle",a),hr("toggle",a),hr("cancel",a),hr("close",a);break;case"iframe":case"object":hr("load",a);break;case"video":case"audio":for(w=0;w<Bv.length;w++)hr(Bv[w],a);break;case"image":hr("error",a),hr("load",a);break;case"details":hr("toggle",a);break;case"embed":case"source":case"link":hr("error",a),hr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in f)if(f.hasOwnProperty(We)&&(w=f[We],w!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:ti(a,d,We,w,f,null)}return;default:if(Di(d)){for(ut in f)f.hasOwnProperty(ut)&&(w=f[ut],w!==void 0&&Wk(a,d,ut,w,f,void 0));return}}for(le in f)f.hasOwnProperty(le)&&(w=f[le],w!=null&&ti(a,d,le,w,f,null))}function lWe(a,d,f,w){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,F=null,ee=null,le=null,Ce=null,We=null,ut=null;for(tt in f){var vt=f[tt];if(f.hasOwnProperty(tt)&&vt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Ce=vt;default:w.hasOwnProperty(tt)||ti(a,d,tt,null,w,vt)}}for(var qe in w){var tt=w[qe];if(vt=f[qe],w.hasOwnProperty(qe)&&(tt!=null||vt!=null))switch(qe){case"type":F=tt;break;case"name":R=tt;break;case"checked":We=tt;break;case"defaultChecked":ut=tt;break;case"value":ee=tt;break;case"defaultValue":le=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,d));break;default:tt!==vt&&ti(a,d,qe,tt,w,vt)}}Os(a,ee,le,Ce,We,ut,F,R);return;case"select":tt=ee=le=qe=null;for(F in f)if(Ce=f[F],f.hasOwnProperty(F)&&Ce!=null)switch(F){case"value":break;case"multiple":tt=Ce;default:w.hasOwnProperty(F)||ti(a,d,F,null,w,Ce)}for(R in w)if(F=w[R],Ce=f[R],w.hasOwnProperty(R)&&(F!=null||Ce!=null))switch(R){case"value":qe=F;break;case"defaultValue":le=F;break;case"multiple":ee=F;default:F!==Ce&&ti(a,d,R,F,w,Ce)}d=le,f=ee,w=tt,qe!=null?ds(a,!!f,qe,!1):!!w!=!!f&&(d!=null?ds(a,!!f,d,!0):ds(a,!!f,f?[]:"",!1));return;case"textarea":tt=qe=null;for(le in f)if(R=f[le],f.hasOwnProperty(le)&&R!=null&&!w.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:ti(a,d,le,null,w,R)}for(ee in w)if(R=w[ee],F=f[ee],w.hasOwnProperty(ee)&&(R!=null||F!=null))switch(ee){case"value":qe=R;break;case"defaultValue":tt=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:R!==F&&ti(a,d,ee,R,w,F)}sc(a,qe,tt);return;case"option":for(var ln in f)qe=f[ln],f.hasOwnProperty(ln)&&qe!=null&&!w.hasOwnProperty(ln)&&(ln==="selected"?a.selected=!1:ti(a,d,ln,null,w,qe));for(Ce in w)qe=w[Ce],tt=f[Ce],w.hasOwnProperty(Ce)&&qe!==tt&&(qe!=null||tt!=null)&&(Ce==="selected"?a.selected=qe&&typeof qe!="function"&&typeof qe!="symbol":ti(a,d,Ce,qe,w,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pn in f)qe=f[Pn],f.hasOwnProperty(Pn)&&qe!=null&&!w.hasOwnProperty(Pn)&&ti(a,d,Pn,null,w,qe);for(We in w)if(qe=w[We],tt=f[We],w.hasOwnProperty(We)&&qe!==tt&&(qe!=null||tt!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,d));break;default:ti(a,d,We,qe,w,tt)}return;default:if(Di(d)){for(var ni in f)qe=f[ni],f.hasOwnProperty(ni)&&qe!==void 0&&!w.hasOwnProperty(ni)&&Wk(a,d,ni,void 0,w,qe);for(ut in w)qe=w[ut],tt=f[ut],!w.hasOwnProperty(ut)||qe===tt||qe===void 0&&tt===void 0||Wk(a,d,ut,qe,w,tt);return}}for(var je in f)qe=f[je],f.hasOwnProperty(je)&&qe!=null&&!w.hasOwnProperty(je)&&ti(a,d,je,null,w,qe);for(vt in w)qe=w[vt],tt=f[vt],!w.hasOwnProperty(vt)||qe===tt||qe==null&&tt==null||ti(a,d,vt,qe,w,tt)}function ZK(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cWe(){if(typeof performance.getEntriesByType=="function"){for(var a=0,d=0,f=performance.getEntriesByType("resource"),w=0;w<f.length;w++){var R=f[w],F=R.transferSize,ee=R.initiatorType,le=R.duration;if(F&&le&&ZK(ee)){for(ee=0,le=R.responseEnd,w+=1;w<f.length;w++){var Ce=f[w],We=Ce.startTime;if(We>le)break;var ut=Ce.transferSize,vt=Ce.initiatorType;ut&&ZK(vt)&&(Ce=Ce.responseEnd,ee+=ut*(Ce<le?1:(le-We)/(Ce-We)))}if(--w,d+=8*(F+ee)/(R.duration/1e3),a++,10<a)break}}if(0<a)return d/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Kk=null,qk=null;function x0(a){return a.nodeType===9?a:a.ownerDocument}function QK(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JK(a,d){if(a===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&d==="foreignObject"?0:a}function Yk(a,d){return a==="textarea"||a==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Xk=null;function uWe(){var a=window.event;return a&&a.type==="popstate"?a===Xk?!1:(Xk=a,!0):(Xk=null,!1)}var eq=typeof setTimeout=="function"?setTimeout:void 0,dWe=typeof clearTimeout=="function"?clearTimeout:void 0,tq=typeof Promise=="function"?Promise:void 0,hWe=typeof queueMicrotask=="function"?queueMicrotask:typeof tq<"u"?function(a){return tq.resolve(null).then(a).catch(fWe)}:eq;function fWe(a){setTimeout(function(){throw a})}function Ed(a){return a==="head"}function nq(a,d){var f=d,w=0;do{var R=f.nextSibling;if(a.removeChild(f),R&&R.nodeType===8)if(f=R.data,f==="/$"||f==="/&"){if(w===0){a.removeChild(R),Vp(d);return}w--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")w++;else if(f==="html")jv(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,jv(f);for(var F=f.firstChild;F;){var ee=F.nextSibling,le=F.nodeName;F[et]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&F.rel.toLowerCase()==="stylesheet"||f.removeChild(F),F=ee}}else f==="body"&&jv(a.ownerDocument.body);f=R}while(f);Vp(d)}function rq(a,d){var f=a;a=0;do{var w=f.nextSibling;if(f.nodeType===1?d?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(d?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=w}while(f)}function Zk(a){var d=a.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var f=d;switch(d=d.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Zk(f),wt(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function pWe(a,d,f,w){for(;a.nodeType===1;){var R=f;if(a.nodeName.toLowerCase()!==d.toLowerCase()){if(!w&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(w){if(!a[et])switch(d){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(F=a.getAttribute("rel"),F==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(F!==R.rel||a.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||a.getAttribute("title")!==(R.title==null?null:R.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(F=a.getAttribute("src"),(F!==(R.src==null?null:R.src)||a.getAttribute("type")!==(R.type==null?null:R.type)||a.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&F&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(d==="input"&&a.type==="hidden"){var F=R.name==null?null:""+R.name;if(R.type==="hidden"&&a.getAttribute("name")===F)return a}else return a;if(a=Qa(a.nextSibling),a===null)break}return null}function gWe(a,d,f){if(d==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Qa(a.nextSibling),a===null))return null;return a}function iq(a,d){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Qa(a.nextSibling),a===null))return null;return a}function Qk(a){return a.data==="$?"||a.data==="$~"}function Jk(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function mWe(a,d){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=d;else if(a.data!=="$?"||f.readyState!=="loading")d();else{var w=function(){d(),f.removeEventListener("DOMContentLoaded",w)};f.addEventListener("DOMContentLoaded",w),a._reactRetry=w}}function Qa(a){for(;a!=null;a=a.nextSibling){var d=a.nodeType;if(d===1||d===3)break;if(d===8){if(d=a.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return a}var eP=null;function oq(a){a=a.nextSibling;for(var d=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(d===0)return Qa(a.nextSibling);d--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||d++}a=a.nextSibling}return null}function sq(a){a=a.previousSibling;for(var d=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(d===0)return a;d--}else f!=="/$"&&f!=="/&"||d++}a=a.previousSibling}return null}function aq(a,d,f){switch(d=x0(f),a){case"html":if(a=d.documentElement,!a)throw Error(r(452));return a;case"head":if(a=d.head,!a)throw Error(r(453));return a;case"body":if(a=d.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function jv(a){for(var d=a.attributes;d.length;)a.removeAttributeNode(d[0]);wt(a)}var Ja=new Map,lq=new Set;function _0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var au=Y.d;Y.d={f:vWe,r:yWe,D:bWe,C:wWe,L:SWe,m:CWe,X:_We,S:xWe,M:EWe};function vWe(){var a=au.f(),d=g0();return a||d}function yWe(a){var d=sn(a);d!==null&&d.tag===5&&d.type==="form"?E6(d):au.r(a)}var Bp=typeof document>"u"?null:document;function cq(a,d,f){var w=Bp;if(w&&typeof d=="string"&&d){var R=So(d);R='link[rel="'+a+'"][href="'+R+'"]',typeof f=="string"&&(R+='[crossorigin="'+f+'"]'),lq.has(R)||(lq.add(R),a={rel:a,crossOrigin:f,href:d},w.querySelector(R)===null&&(d=w.createElement("link"),Ko(d,"link",a),zn(d),w.head.appendChild(d)))}}function bWe(a){au.D(a),cq("dns-prefetch",a,null)}function wWe(a,d){au.C(a,d),cq("preconnect",a,d)}function SWe(a,d,f){au.L(a,d,f);var w=Bp;if(w&&a&&d){var R='link[rel="preload"][as="'+So(d)+'"]';d==="image"&&f&&f.imageSrcSet?(R+='[imagesrcset="'+So(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(R+='[imagesizes="'+So(f.imageSizes)+'"]')):R+='[href="'+So(a)+'"]';var F=R;switch(d){case"style":F=Fp(a);break;case"script":F=jp(a)}Ja.has(F)||(a=p({rel:"preload",href:d==="image"&&f&&f.imageSrcSet?void 0:a,as:d},f),Ja.set(F,a),w.querySelector(R)!==null||d==="style"&&w.querySelector(Vv(F))||d==="script"&&w.querySelector($v(F))||(d=w.createElement("link"),Ko(d,"link",a),zn(d),w.head.appendChild(d)))}}function CWe(a,d){au.m(a,d);var f=Bp;if(f&&a){var w=d&&typeof d.as=="string"?d.as:"script",R='link[rel="modulepreload"][as="'+So(w)+'"][href="'+So(a)+'"]',F=R;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=jp(a)}if(!Ja.has(F)&&(a=p({rel:"modulepreload",href:a},d),Ja.set(F,a),f.querySelector(R)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector($v(F)))return}w=f.createElement("link"),Ko(w,"link",a),zn(w),f.head.appendChild(w)}}}function xWe(a,d,f){au.S(a,d,f);var w=Bp;if(w&&a){var R=or(w).hoistableStyles,F=Fp(a);d=d||"default";var ee=R.get(F);if(!ee){var le={loading:0,preload:null};if(ee=w.querySelector(Vv(F)))le.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":d},f),(f=Ja.get(F))&&tP(a,f);var Ce=ee=w.createElement("link");zn(Ce),Ko(Ce,"link",a),Ce._p=new Promise(function(We,ut){Ce.onload=We,Ce.onerror=ut}),Ce.addEventListener("load",function(){le.loading|=1}),Ce.addEventListener("error",function(){le.loading|=2}),le.loading|=4,E0(ee,d,w)}ee={type:"stylesheet",instance:ee,count:1,state:le},R.set(F,ee)}}}function _We(a,d){au.X(a,d);var f=Bp;if(f&&a){var w=or(f).hoistableScripts,R=jp(a),F=w.get(R);F||(F=f.querySelector($v(R)),F||(a=p({src:a,async:!0},d),(d=Ja.get(R))&&nP(a,d),F=f.createElement("script"),zn(F),Ko(F,"link",a),f.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(R,F))}}function EWe(a,d){au.M(a,d);var f=Bp;if(f&&a){var w=or(f).hoistableScripts,R=jp(a),F=w.get(R);F||(F=f.querySelector($v(R)),F||(a=p({src:a,async:!0,type:"module"},d),(d=Ja.get(R))&&nP(a,d),F=f.createElement("script"),zn(F),Ko(F,"link",a),f.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},w.set(R,F))}}function uq(a,d,f,w){var R=(R=ce.current)?_0(R):null;if(!R)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(d=Fp(f.href),f=or(R).hoistableStyles,w=f.get(d),w||(w={type:"style",instance:null,count:0,state:null},f.set(d,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Fp(f.href);var F=or(R).hoistableStyles,ee=F.get(a);if(ee||(R=R.ownerDocument||R,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(a,ee),(F=R.querySelector(Vv(a)))&&!F._p&&(ee.instance=F,ee.state.loading=5),Ja.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ja.set(a,f),F||TWe(R,a,f,ee.state))),d&&w===null)throw Error(r(528,""));return ee}if(d&&w!==null)throw Error(r(529,""));return null;case"script":return d=f.async,f=f.src,typeof f=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=jp(f),f=or(R).hoistableScripts,w=f.get(d),w||(w={type:"script",instance:null,count:0,state:null},f.set(d,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Fp(a){return'href="'+So(a)+'"'}function Vv(a){return'link[rel="stylesheet"]['+a+"]"}function dq(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function TWe(a,d,f,w){a.querySelector('link[rel="preload"][as="style"]['+d+"]")?w.loading=1:(d=a.createElement("link"),w.preload=d,d.addEventListener("load",function(){return w.loading|=1}),d.addEventListener("error",function(){return w.loading|=2}),Ko(d,"link",f),zn(d),a.head.appendChild(d))}function jp(a){return'[src="'+So(a)+'"]'}function $v(a){return"script[async]"+a}function hq(a,d,f){if(d.count++,d.instance===null)switch(d.type){case"style":var w=a.querySelector('style[data-href~="'+So(f.href)+'"]');if(w)return d.instance=w,zn(w),w;var R=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return w=(a.ownerDocument||a).createElement("style"),zn(w),Ko(w,"style",R),E0(w,f.precedence,a),d.instance=w;case"stylesheet":R=Fp(f.href);var F=a.querySelector(Vv(R));if(F)return d.state.loading|=4,d.instance=F,zn(F),F;w=dq(f),(R=Ja.get(R))&&tP(w,R),F=(a.ownerDocument||a).createElement("link"),zn(F);var ee=F;return ee._p=new Promise(function(le,Ce){ee.onload=le,ee.onerror=Ce}),Ko(F,"link",w),d.state.loading|=4,E0(F,f.precedence,a),d.instance=F;case"script":return F=jp(f.src),(R=a.querySelector($v(F)))?(d.instance=R,zn(R),R):(w=f,(R=Ja.get(F))&&(w=p({},f),nP(w,R)),a=a.ownerDocument||a,R=a.createElement("script"),zn(R),Ko(R,"link",w),a.head.appendChild(R),d.instance=R);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(w=d.instance,d.state.loading|=4,E0(w,f.precedence,a));return d.instance}function E0(a,d,f){for(var w=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=w.length?w[w.length-1]:null,F=R,ee=0;ee<w.length;ee++){var le=w[ee];if(le.dataset.precedence===d)F=le;else if(F!==R)break}F?F.parentNode.insertBefore(a,F.nextSibling):(d=f.nodeType===9?f.head:f,d.insertBefore(a,d.firstChild))}function tP(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.title==null&&(a.title=d.title)}function nP(a,d){a.crossOrigin==null&&(a.crossOrigin=d.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=d.referrerPolicy),a.integrity==null&&(a.integrity=d.integrity)}var T0=null;function fq(a,d,f){if(T0===null){var w=new Map,R=T0=new Map;R.set(f,w)}else R=T0,w=R.get(f),w||(w=new Map,R.set(f,w));if(w.has(a))return w;for(w.set(a,null),f=f.getElementsByTagName(a),R=0;R<f.length;R++){var F=f[R];if(!(F[et]||F[yn]||a==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=F.getAttribute(d)||"";ee=a+ee;var le=w.get(ee);le?le.push(F):w.set(ee,[F])}}return w}function pq(a,d,f){a=a.ownerDocument||a,a.head.insertBefore(f,d==="title"?a.querySelector("head > title"):null)}function MWe(a,d,f){if(f===1||d.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(a=d.disabled,typeof d.precedence=="string"&&a==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function gq(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function OWe(a,d,f,w){if(f.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var R=Fp(w.href),F=d.querySelector(Vv(R));if(F){d=F._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(a.count++,a=M0.bind(a),d.then(a,a)),f.state.loading|=4,f.instance=F,zn(F);return}F=d.ownerDocument||d,w=dq(w),(R=Ja.get(R))&&tP(w,R),F=F.createElement("link"),zn(F);var ee=F;ee._p=new Promise(function(le,Ce){ee.onload=le,ee.onerror=Ce}),Ko(F,"link",w),f.instance=F}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,d),(d=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=M0.bind(a),d.addEventListener("load",f),d.addEventListener("error",f))}}var rP=0;function RWe(a,d){return a.stylesheets&&a.count===0&&R0(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var w=setTimeout(function(){if(a.stylesheets&&R0(a,a.stylesheets),a.unsuspend){var F=a.unsuspend;a.unsuspend=null,F()}},6e4+d);0<a.imgBytes&&rP===0&&(rP=62500*cWe());var R=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&R0(a,a.stylesheets),a.unsuspend)){var F=a.unsuspend;a.unsuspend=null,F()}},(a.imgBytes>rP?50:800)+d);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(w),clearTimeout(R)}}:null}function M0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)R0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var O0=null;function R0(a,d){a.stylesheets=null,a.unsuspend!==null&&(a.count++,O0=new Map,d.forEach(IWe,a),O0=null,M0.call(a))}function IWe(a,d){if(!(d.state.loading&4)){var f=O0.get(a);if(f)var w=f.get(null);else{f=new Map,O0.set(a,f);for(var R=a.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<R.length;F++){var ee=R[F];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(f.set(ee.dataset.precedence,ee),w=ee)}w&&f.set(null,w)}R=d.instance,ee=R.getAttribute("data-precedence"),F=f.get(ee)||w,F===w&&f.set(null,R),f.set(ee,R),this.count++,w=M0.bind(this),R.addEventListener("load",w),R.addEventListener("error",w),F?F.parentNode.insertBefore(R,F.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(R,a.firstChild)),d.state.loading|=4}}var zv={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function kWe(a,d,f,w,R,F,ee,le,Ce){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=w,this.onUncaughtError=R,this.onCaughtError=F,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function mq(a,d,f,w,R,F,ee,le,Ce,We,ut,vt){return a=new kWe(a,d,f,ee,Ce,We,ut,vt,le),d=1,F===!0&&(d|=24),F=ta(3,null,null,d),a.current=F,F.stateNode=a,d=NI(),d.refCount++,a.pooledCache=d,d.refCount++,F.memoizedState={element:w,isDehydrated:f,cache:d},VI(F),a}function vq(a){return a?(a=mp,a):mp}function yq(a,d,f,w,R,F){R=vq(R),w.context===null?w.context=R:w.pendingContext=R,w=pd(d),w.payload={element:f},F=F===void 0?null:F,F!==null&&(w.callback=F),f=gd(a,w,d),f!==null&&(As(f,a,d),wv(f,a,d))}function bq(a,d){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<d?f:d}}function iP(a,d){bq(a,d),(a=a.alternate)&&bq(a,d)}function wq(a){if(a.tag===13||a.tag===31){var d=Bo(a,67108864);d!==null&&As(d,a,67108864),iP(a,67108864)}}function Sq(a){if(a.tag===13||a.tag===31){var d=sa();d=hi(d);var f=Bo(a,d);f!==null&&As(f,a,d),iP(a,d)}}var I0=!0;function PWe(a,d,f,w){var R=z.T;z.T=null;var F=Y.p;try{Y.p=2,oP(a,d,f,w)}finally{Y.p=F,z.T=R}}function DWe(a,d,f,w){var R=z.T;z.T=null;var F=Y.p;try{Y.p=8,oP(a,d,f,w)}finally{Y.p=F,z.T=R}}function oP(a,d,f,w){if(I0){var R=sP(w);if(R===null)Gk(a,d,w,k0,f),xq(a,w);else if(LWe(R,a,d,f,w))w.stopPropagation();else if(xq(a,w),d&4&&-1<AWe.indexOf(a)){for(;R!==null;){var F=sn(R);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var ee=mr(F.pendingLanes);if(ee!==0){var le=F;for(le.pendingLanes|=2,le.entangledLanes|=2;ee;){var Ce=1<<31-Pt(ee);le.entanglements[1]|=Ce,ee&=~Ce}pc(F),(jr&6)===0&&(f0=yt()+500,Nv(0))}}break;case 31:case 13:le=Bo(F,2),le!==null&&As(le,F,2),g0(),iP(F,2)}if(F=sP(w),F===null&&Gk(a,d,w,k0,f),F===R)break;R=F}R!==null&&w.stopPropagation()}else Gk(a,d,w,null,f)}}function sP(a){return a=dn(a),aP(a)}var k0=null;function aP(a){if(k0=null,a=qt(a),a!==null){var d=o(a);if(d===null)a=null;else{var f=d.tag;if(f===13){if(a=s(d),a!==null)return a;a=null}else if(f===31){if(a=l(d),a!==null)return a;a=null}else if(f===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;a=null}else d!==a&&(a=null)}}return k0=a,null}function Cq(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case jt:return 2;case pn:return 8;case un:case Mt:return 32;case At:return 268435456;default:return 32}default:return 32}}var lP=!1,Td=null,Md=null,Od=null,Uv=new Map,Hv=new Map,Rd=[],AWe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xq(a,d){switch(a){case"focusin":case"focusout":Td=null;break;case"dragenter":case"dragleave":Md=null;break;case"mouseover":case"mouseout":Od=null;break;case"pointerover":case"pointerout":Uv.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hv.delete(d.pointerId)}}function Gv(a,d,f,w,R,F){return a===null||a.nativeEvent!==F?(a={blockedOn:d,domEventName:f,eventSystemFlags:w,nativeEvent:F,targetContainers:[R]},d!==null&&(d=sn(d),d!==null&&wq(d)),a):(a.eventSystemFlags|=w,d=a.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),a)}function LWe(a,d,f,w,R){switch(d){case"focusin":return Td=Gv(Td,a,d,f,w,R),!0;case"dragenter":return Md=Gv(Md,a,d,f,w,R),!0;case"mouseover":return Od=Gv(Od,a,d,f,w,R),!0;case"pointerover":var F=R.pointerId;return Uv.set(F,Gv(Uv.get(F)||null,a,d,f,w,R)),!0;case"gotpointercapture":return F=R.pointerId,Hv.set(F,Gv(Hv.get(F)||null,a,d,f,w,R)),!0}return!1}function _q(a){var d=qt(a.target);if(d!==null){var f=o(d);if(f!==null){if(d=f.tag,d===13){if(d=s(f),d!==null){a.blockedOn=d,Ao(a.priority,function(){Sq(f)});return}}else if(d===31){if(d=l(f),d!==null){a.blockedOn=d,Ao(a.priority,function(){Sq(f)});return}}else if(d===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function P0(a){if(a.blockedOn!==null)return!1;for(var d=a.targetContainers;0<d.length;){var f=sP(a.nativeEvent);if(f===null){f=a.nativeEvent;var w=new f.constructor(f.type,f);wl=w,f.target.dispatchEvent(w),wl=null}else return d=sn(f),d!==null&&wq(d),a.blockedOn=f,!1;d.shift()}return!0}function Eq(a,d,f){P0(a)&&f.delete(d)}function NWe(){lP=!1,Td!==null&&P0(Td)&&(Td=null),Md!==null&&P0(Md)&&(Md=null),Od!==null&&P0(Od)&&(Od=null),Uv.forEach(Eq),Hv.forEach(Eq)}function D0(a,d){a.blockedOn===d&&(a.blockedOn=null,lP||(lP=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,NWe)))}var A0=null;function Tq(a){A0!==a&&(A0=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){A0===a&&(A0=null);for(var d=0;d<a.length;d+=3){var f=a[d],w=a[d+1],R=a[d+2];if(typeof w!="function"){if(aP(w||f)===null)continue;break}var F=sn(f);F!==null&&(a.splice(d,3),d-=3,sk(F,{pending:!0,data:R,method:f.method,action:w},w,R))}}))}function Vp(a){function d(Ce){return D0(Ce,a)}Td!==null&&D0(Td,a),Md!==null&&D0(Md,a),Od!==null&&D0(Od,a),Uv.forEach(d),Hv.forEach(d);for(var f=0;f<Rd.length;f++){var w=Rd[f];w.blockedOn===a&&(w.blockedOn=null)}for(;0<Rd.length&&(f=Rd[0],f.blockedOn===null);)_q(f),f.blockedOn===null&&Rd.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(w=0;w<f.length;w+=3){var R=f[w],F=f[w+1],ee=R[ir]||null;if(typeof F=="function")ee||Tq(f);else if(ee){var le=null;if(F&&F.hasAttribute("formAction")){if(R=F,ee=F[ir]||null)le=ee.formAction;else if(aP(R)!==null)continue}else le=ee.action;typeof le=="function"?f[w+1]=le:(f.splice(w,3),w-=3),Tq(f)}}}function Mq(){function a(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(ee){return R=ee})},focusReset:"manual",scroll:"manual"})}function d(){R!==null&&(R(),R=null),w||setTimeout(f,20)}function f(){if(!w&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,R=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(f,100),function(){w=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),R!==null&&(R(),R=null)}}}function cP(a){this._internalRoot=a}L0.prototype.render=cP.prototype.render=function(a){var d=this._internalRoot;if(d===null)throw Error(r(409));var f=d.current,w=sa();yq(f,w,a,d,null,null)},L0.prototype.unmount=cP.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var d=a.containerInfo;yq(a.current,2,null,a,null,null),g0(),d[Pi]=null}};function L0(a){this._internalRoot=a}L0.prototype.unstable_scheduleHydration=function(a){if(a){var d=Vi();a={blockedOn:null,target:a,priority:d};for(var f=0;f<Rd.length&&d!==0&&d<Rd[f].priority;f++);Rd.splice(f,0,a),f===0&&_q(a)}};var Oq=t.version;if(Oq!=="19.2.3")throw Error(r(527,Oq,"19.2.3"));Y.findDOMNode=function(a){var d=a._reactInternals;if(d===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=u(d),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var BWe={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N0.isDisabled&&N0.supportsFiber)try{St=N0.inject(BWe),nt=N0}catch{}}return hv.createRoot=function(a,d){if(!i(a))throw Error(r(299));var f=!1,w="",R=L6,F=N6,ee=B6;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(R=d.onUncaughtError),d.onCaughtError!==void 0&&(F=d.onCaughtError),d.onRecoverableError!==void 0&&(ee=d.onRecoverableError)),d=mq(a,1,!1,null,null,f,w,null,R,F,ee,Mq),a[Pi]=d.current,Hk(a),new cP(d)},hv.hydrateRoot=function(a,d,f){if(!i(a))throw Error(r(299));var w=!1,R="",F=L6,ee=N6,le=B6,Ce=null;return f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(R=f.identifierPrefix),f.onUncaughtError!==void 0&&(F=f.onUncaughtError),f.onCaughtError!==void 0&&(ee=f.onCaughtError),f.onRecoverableError!==void 0&&(le=f.onRecoverableError),f.formState!==void 0&&(Ce=f.formState)),d=mq(a,1,!0,d,f??null,w,R,Ce,F,ee,le,Mq),d.context=vq(null),f=d.current,w=sa(),w=hi(w),R=pd(w),R.callback=null,gd(f,R,w),f=w,d.current.lanes=f,Bt(d,f),pc(d),a[Pi]=d.current,Hk(a),new L0(d)},hv.version="19.2.3",hv}var TW;function y4e(){if(TW)return CI.exports;TW=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),CI.exports=v4e(),CI.exports}var b4e=y4e();function w4e(e,t){const n=typeof e=="string"?document.getElementById(e):e;b4e.createRoot(n).render(t)}async function S4e(e){const t=new Wve({baseUrl:Ld.apiUrl}),n=new Mbe({apiClient:t});n.init(),w4e(e,C.jsx(p4e,{m:n}))}return Wv.create=S4e,Wv.options=Ld,Object.defineProperty(Wv,Symbol.toStringTag,{value:"Module"}),Wv})({});
;var $GH_COMMIT = '6f7128c WIP: editor sqlite+wolfram';
